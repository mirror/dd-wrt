-include ../../.config
CONFIG_CTRL_IFACE=y
ifeq ($(CONFIG_WPA3),y)
CONFIG_CTRL_IFACE_MIB=y
endif

#CONFIG_DRIVER_WIRED=y
ifneq ($(CONFIG_WRT300NV2),y)
ifneq ($(CONFIG_DIST),"micro")
ifeq ($(CONFIG_OPENSSL),y)
CONFIG_TLS=openssl
CFLAGS += -I$(TOP)/openssl/include
LDFLAGS += -L$(TOP)/openssl -lcrypto -lssl
else
CFLAGS += -I$(TOP)/wolfssl
CONFIG_TLS=wolfssl
endif
CONFIG_INTERNAL_LIBTOMMATH=y
CONFIG_INTERNAL_LIBTOMMATH_FAST=y
CONFIG_IEEE8021X_EAPOL=y
CONFIG_EAP_MD5=y
CONFIG_EAP_PEAP=y
CONFIG_EAP_MSCHAPV2=y
CONFIG_EAP_TLS=y
CONFIG_EAP_TTLS=y
CONFIG_EAP_PEAP=y
CONFIG_EAP_PSK=y
CONFIG_EAP_LEAP=y
else

endif
endif

CONFIG_MAIN=main
CONFIG_OS=unix
#CONFIG_TLS=openssl
CONFIG_NO_CONFIG_WRITE=y

ifeq ($(CONFIG_HOTSPOT20),y)
CONFIG_HS20=y
endif

ifeq ($(CONFIG_NOMESSAGE),y)
CONFIG_NO_STDOUT_DEBUG=y
CONFIG_NO_HOSTAPD_LOGGER=y
CONFIG_NO_WPS_MSG=y
CONFIG_NO_WPA_MSG=y
else
CONFIG_DEBUG_SYSLOG=y
# Set syslog facility for debug messages
CONFIG_DEBUG_SYSLOG_FACILITY=LOG_DAEMON
CFLAGS+= -DNEED_PRINTF
endif
#CONFIG_DRIVER_WEXT=y


ifeq ($(CONFIG_MADWIFI),y)
#CONFIG_DRIVER_MADWIFI=y
#CFLAGS +=-I$(TOP)/madwifi.dev/madwifi.dev
CONFIG_DRIVER_WEXT=y
else
ifeq ($(CONFIG_RT2880),y)
CONFIG_DRIVER_RALINK=y
else
CONFIG_DRIVER_WEXT=y
endif
endif
ifeq ($(CONFIG_ATH9K),y)
CONFIG_DRIVER_NL80211=y
endif
#ifeq ($(CONFIG_BGSCAN),y)
CONFIG_BGSCAN_SIMPLE=y
CONFIG_BGSCAN_LEARN=y
#endif
ifeq ($(CONFIG_MAC80211_MESH),y)
CONFIG_MESH=y
endif

# for local installation of OpenSSL
#CFLAGS += -I../openssl/include
#LDFLAGS += -L../openssl
CONFIG_BACKEND=file
CONFIG_CTRL_IFACE=y
NEED_80211_COMMON=y
NEED_AP_MLME=y
CONFIG_NO_VLAN=y
CONFIG_NO_RANDOM_POOL=y
CONFIG_NO_DUMP_STATE=y
CONFIG_VHT_OVERRIDES=y
CONFIG_HT_OVERRIDES=y
CONFIG_IEEE80211R=y
CONFIG_IEEE80211W=y
CONFIG_OWE=y
CONFIG_WNM=y
CONFIG_MBO=y
CONFIG_UBUS=y
