<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">

<!--Converted with LaTeX2HTML 2002-2-1 (1.71)
original version by:  Nikos Drakos, CBLU, University of Leeds
* revised and updated by:  Marcus Hennecke, Ross Moore, Herb Swan
* with significant contributions from:
  Jens Lippmann, Marek Rouchal, Martin Wilck and others -->
<HTML>
<HEAD>
<TITLE>Macros</TITLE>
<META NAME="description" CONTENT="Macros">
<META NAME="keywords" CONTENT="asterisk">
<META NAME="resource-type" CONTENT="document">
<META NAME="distribution" CONTENT="global">

<META NAME="Generator" CONTENT="LaTeX2HTML v2002-2-1">
<META HTTP-EQUIV="Content-Style-Type" CONTENT="text/css">

<LINK REL="STYLESHEET" HREF="asterisk.css">

<LINK REL="previous" HREF="node133.html">
<LINK REL="up" HREF="node120.html">
<LINK REL="next" HREF="node135.html">
</HEAD>

<BODY >

<DIV CLASS="navigation"><!--Navigation Panel-->
<A NAME="tex2html2366"
  HREF="node135.html">
<IMG WIDTH="37" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="next"
 SRC="/usr/share/latex2html/icons/next.png"></A> 
<A NAME="tex2html2362"
  HREF="node120.html">
<IMG WIDTH="26" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="up"
 SRC="/usr/share/latex2html/icons/up.png"></A> 
<A NAME="tex2html2358"
  HREF="node133.html">
<IMG WIDTH="63" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="previous"
 SRC="/usr/share/latex2html/icons/prev.png"></A> 
<A NAME="tex2html2364"
  HREF="node1.html">
<IMG WIDTH="65" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="contents"
 SRC="/usr/share/latex2html/icons/contents.png"></A>  
<BR>
<B> Next:</B> <A NAME="tex2html2367"
  HREF="node135.html">Examples</A>
<B> Up:</B> <A NAME="tex2html2363"
  HREF="node120.html">AEL Example USAGE</A>
<B> Previous:</B> <A NAME="tex2html2359"
  HREF="node133.html">goto, jump, and labels</A>
 &nbsp; <B>  <A NAME="tex2html2365"
  HREF="node1.html">Contents</A></B> 
<BR>
<BR></DIV>
<!--End of Navigation Panel-->

<H2><A NAME="SECTION005914000000000000000">
Macros</A>
</H2>

<P>
A macro is defined in its own block like this. The arguments to the
macro are specified with the name of the macro. They are then referred
to by that same name. A catch block can be specified to catch special
extensions.

<P>
</B></SMALL>
<UL>
<LI><PRE>
macro std-exten( ext , dev ) {
       Dial(${dev}/${ext},20);
       switch(${DIALSTATUS) {
       case BUSY:
               Voicemail(${ext},b);
               break;
       default:
               Voicemail(${ext},u);

       }
       catch a {
               VoiceMailMain(${ext});
               return;
       }
}
</PRE><SMALL CLASS="SCRIPTSIZE"><B>
</LI>
</UL>
<P>
A macro is then called by preceding the macro name with an
ampersand. Empty arguments can be passed simply with nothing between
comments(0.11).

<P>
</B></SMALL>
<UL>
<LI><PRE>
context example {
    _5XXX =&gt; &amp;std-exten(${EXTEN}, "IAX2");
    _6XXX =&gt; &amp;std-exten(, "IAX2");
    _7XXX =&gt; &amp;std-exten(${EXTEN},);
    _8XXX =&gt; &amp;std-exten(,);
}
</PRE><SMALL CLASS="SCRIPTSIZE"><B>
</LI>
</UL>
<P>
<BR><HR>
<ADDRESS>
lmadsen
2009-04-06
</ADDRESS>
</BODY>
</HTML>
