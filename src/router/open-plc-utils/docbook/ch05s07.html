<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><title>Configuring a Device</title><link rel="stylesheet" href="docbook.css" type="text/css"><meta name="generator" content="DocBook XSL Stylesheets V1.73.2"><meta name="keywords" content="Intellon, Atheros, Qualcomm, HomePlug, powerline, communications, INT6000, INT6300, INT6400, AR7400, AR7420"><link rel="start" href="index.html" title="Qualcomm Atheros Open Powerline Toolkit"><link rel="up" href="ch05.html" title="Chapter 5.  Procedures"><link rel="prev" href="ch05s06.html" title="Forming a Network"><link rel="next" href="ch05s08.html" title="Upgrading Firmware and PIB"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">
			Configuring a Device
			</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="ch05s06.html">Prev</a> </td><th width="60%" align="center">Chapter 5. 
		Procedures 
		</th><td width="20%" align="right"> <a accesskey="n" href="ch05s08.html">Next</a></td></tr></table><hr></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="procedure-configure-device"></a>
			Configuring a Device
			</h2></div></div></div><p>
			Device identity, capability and behavior are controlled by runtime parameters stored in the device <acronym class="acronym">PIB</acronym>. To change device identity,  capability or behavior you must alter a template <acronym class="acronym">PIB</acronym> file, download it to the device and flash it into <acronym class="acronym">NVRAM</acronym>. A template PIB can come from several sources but an excellent souce is the device, itself. Configuration changes then become a simple read, modify and write back operation.
			</p><div class="example"><a name="idp11018488"></a><p class="title"><b>Example 5.12. 
				Read a PIB File
				</b></p><div class="example-contents"><pre class="screen">
# int6k  -i eth2 -p old.pib local
eth2 00:B0:52:00:00:01 Read Parameters from Device
eth2 00:B0:52:00:00:BE Read.
</pre><p>
				This example reads the <acronym class="acronym">PIB</acronym> from the local device and writes it to a file. The toolkit has a growing number of programs designed to inspect and change pibfiles in various ways. Program <a class="ulink" href="modpib.7.html" target="_top">modpib</a> is one program that can be used for this purpose.
				</p></div></div><br class="example-break"><div class="example"><a name="idp11020336"></a><p class="title"><b>Example 5.13. 
				Modify a PIB File
				</b></p><div class="example-contents"><pre class="screen">
# modpib old.pib -M 00:B0:52:00:BA:BE \
                 -N 00:11:22:33:44:55:66:77:88:99:AA:BB:CC:DD:EE:FF \
                 -D FF:EE:DD:CC:BB:AA:99:88:77:66:55:44:33:22:11:00 \
                 -S "Intergalactic Death Rays, Inc." \
                 -T "Global Spy Network" \
                 -U "Bedroom"
</pre></div></div><br class="example-break"><p>
			The example above edits identity parameters in <acronym class="acronym">PIB</acronym> file,  <code class="filename">old.pib</code>, recomputes the internal checksum and re-writes the file. The network identity parameters are <acronym class="acronym">MAC</acronym> (<strong class="userinput"><code>-M</code></strong>), <acronym class="acronym">NMK</acronym> (<strong class="userinput"><code>-N</code></strong>) and <acronym class="acronym">DAK</acronym> (<strong class="userinput"><code>-D</code></strong>). The user identity parameters are <acronym class="acronym">MFG_HFID</acronym> (<strong class="userinput"><code>-S</code></strong>),  <acronym class="acronym">NET_HFID</acronym> (<strong class="userinput"><code>-T</code></strong>) and <acronym class="acronym">USR_HFID</acronym> (<strong class="userinput"><code>-U</code></strong>). The <acronym class="acronym">PIB</acronym> file is ready for download and flash.
			</p><p>
			Program <a class="ulink" href="modpib.7.html" target="_top">modpib</a> is a safe way to edit a <acronym class="acronym">PIB</acronym> file because it only change selected parameters. Use program <a class="ulink" href="setpib.7.html" target="_top">setpib</a> to edit other parameters if required.
			</p><div class="example"><a name="idp11027144"></a><p class="title"><b>Example 5.14. 
				Save a PIB File
				</b></p><div class="example-contents"><pre class="screen">
# int6k  -i eth2 -P old.pib -C pib
eth2 00:B0:52:00:00:01 Write Parameters to Device
eth2 00:B0:52:00:00:BE Written.
</pre></div></div><br class="example-break"><p>
			This example writes the modified <acronym class="acronym">PIB</acronym> file, <code class="filename">old.pib</code>, to the local device and commits it to <acronym class="acronym">NVRAM</acronym>. Option <strong class="userinput"><code>-P</code></strong> writes the <acronym class="acronym">PIB</acronym> file to the device instead of reading it from the device. Option <strong class="userinput"><code>-C</code></strong> with argument <strong class="userinput"><code>pib</code></strong> commits only the <acronym class="acronym">PIB</acronym>, and not firmware, to <acronym class="acronym">NVRAM</acronym>. 
			</p></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="ch05s06.html">Prev</a> </td><td width="20%" align="center"><a accesskey="u" href="ch05.html">Up</a></td><td width="40%" align="right"> <a accesskey="n" href="ch05s08.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">
			Forming a Network                     
			 </td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top"> 
			Upgrading Firmware and PIB
			</td></tr></table></div></body></html>0
