#!/bin/sh
#
# Usage: roffitall [-nroff|-psroff|-groff]
#
# Authors: Tom Christiansen, Raphael Manfredi

me=roffitall
tmp=.

if test -f ../config.sh; then
	. ../config.sh
fi

mandir=$installman1dir
libdir=$installman3dir

test -d $mandir || mandir=/usr/new/man/man1
test -d $libdir || libdir=/usr/new/man/man3

case "$1" in
-nroff) cmd="nroff -man"; ext='txt';;
-psroff) cmd="psroff -t"; ext='ps';;
-groff) cmd="groff -man"; ext='ps';;
*)
	echo "Usage: roffitall [-nroff|-psroff|-groff]" >&2
	exit 1
	;;
esac

toroff=`
	echo		\
    $mandir/perl.1 \
    $mandir/perlintro.1 \
    $mandir/perlrun.1 \
    $mandir/perlreftut.1 \
    $mandir/perldsc.1 \
    $mandir/perllol.1 \
    $mandir/perlrequick.1 \
    $mandir/perlretut.1 \
    $mandir/perlootut.1 \
    $mandir/perlperf.1 \
    $mandir/perlstyle.1 \
    $mandir/perlcheat.1 \
    $mandir/perltrap.1 \
    $mandir/perldebtut.1 \
    $mandir/perlfaq.1 \
    $mandir/perlfaq1.1 \
    $mandir/perlfaq2.1 \
    $mandir/perlfaq3.1 \
    $mandir/perlfaq4.1 \
    $mandir/perlfaq5.1 \
    $mandir/perlfaq6.1 \
    $mandir/perlfaq7.1 \
    $mandir/perlfaq8.1 \
    $mandir/perlfaq9.1 \
    $mandir/perlsyn.1 \
    $mandir/perldata.1 \
    $mandir/perlop.1 \
    $mandir/perlsub.1 \
    $mandir/perlfunc.1 \
    $mandir/perlopentut.1 \
    $mandir/perlpacktut.1 \
    $mandir/perlpod.1 \
    $mandir/perlpodspec.1 \
    $mandir/perlpodstyle.1 \
    $mandir/perldiag.1 \
    $mandir/perldeprecation.1 \
    $mandir/perllexwarn.1 \
    $mandir/perldebug.1 \
    $mandir/perlvar.1 \
    $mandir/perlre.1 \
    $mandir/perlrebackslash.1 \
    $mandir/perlrecharclass.1 \
    $mandir/perlreref.1 \
    $mandir/perlref.1 \
    $mandir/perlform.1 \
    $mandir/perlobj.1 \
    $mandir/perltie.1 \
    $mandir/perldbmfilter.1 \
    $mandir/perlipc.1 \
    $mandir/perlfork.1 \
    $mandir/perlnumber.1 \
    $mandir/perlthrtut.1 \
    $mandir/perlport.1 \
    $mandir/perllocale.1 \
    $mandir/perluniintro.1 \
    $mandir/perlunicode.1 \
    $mandir/perlunicook.1 \
    $mandir/perlunifaq.1 \
    $mandir/perluniprops.1 \
    $mandir/perlunitut.1 \
    $mandir/perlebcdic.1 \
    $mandir/perlsec.1 \
    $mandir/perlmod.1 \
    $mandir/perlmodlib.1 \
    $mandir/perlmodstyle.1 \
    $mandir/perlmodinstall.1 \
    $mandir/perlnewmod.1 \
    $mandir/perlpragma.1 \
    $mandir/perlutil.1 \
    $mandir/perlfilter.1 \
    $mandir/perldtrace.1 \
    $mandir/perlglossary.1 \
    $mandir/perlembed.1 \
    $mandir/perldebguts.1 \
    $mandir/perlxstut.1 \
    $mandir/perlxs.1 \
    $mandir/perlxstypemap.1 \
    $mandir/perlclib.1 \
    $mandir/perlguts.1 \
    $mandir/perlcall.1 \
    $mandir/perlmroapi.1 \
    $mandir/perlreapi.1 \
    $mandir/perlreguts.1 \
    $mandir/perlapi.1 \
    $mandir/perlintern.1 \
    $mandir/perliol.1 \
    $mandir/perlapio.1 \
    $mandir/perlhack.1 \
    $mandir/perlsource.1 \
    $mandir/perlinterp.1 \
    $mandir/perlhacktut.1 \
    $mandir/perlhacktips.1 \
    $mandir/perlpolicy.1 \
    $mandir/perlgit.1 \
    $mandir/perlbook.1 \
    $mandir/perlcommunity.1 \
    $mandir/perldoc.1 \
    $mandir/perlhist.1 \
    $mandir/perldelta.1 \
    $mandir/perl5281delta.1 \
    $mandir/perl5280delta.1 \
    $mandir/perl5262delta.1 \
    $mandir/perl5261delta.1 \
    $mandir/perl5260delta.1 \
    $mandir/perl5244delta.1 \
    $mandir/perl5243delta.1 \
    $mandir/perl5242delta.1 \
    $mandir/perl5241delta.1 \
    $mandir/perl5240delta.1 \
    $mandir/perl5224delta.1 \
    $mandir/perl5223delta.1 \
    $mandir/perl5222delta.1 \
    $mandir/perl5221delta.1 \
    $mandir/perl5220delta.1 \
    $mandir/perl5203delta.1 \
    $mandir/perl5202delta.1 \
    $mandir/perl5201delta.1 \
    $mandir/perl5200delta.1 \
    $mandir/perl5184delta.1 \
    $mandir/perl5182delta.1 \
    $mandir/perl5181delta.1 \
    $mandir/perl5180delta.1 \
    $mandir/perl5163delta.1 \
    $mandir/perl5162delta.1 \
    $mandir/perl5161delta.1 \
    $mandir/perl5160delta.1 \
    $mandir/perl5144delta.1 \
    $mandir/perl5143delta.1 \
    $mandir/perl5142delta.1 \
    $mandir/perl5141delta.1 \
    $mandir/perl5140delta.1 \
    $mandir/perl5125delta.1 \
    $mandir/perl5124delta.1 \
    $mandir/perl5123delta.1 \
    $mandir/perl5122delta.1 \
    $mandir/perl5121delta.1 \
    $mandir/perl5120delta.1 \
    $mandir/perl5101delta.1 \
    $mandir/perl5100delta.1 \
    $mandir/perl589delta.1 \
    $mandir/perl588delta.1 \
    $mandir/perl587delta.1 \
    $mandir/perl586delta.1 \
    $mandir/perl585delta.1 \
    $mandir/perl584delta.1 \
    $mandir/perl583delta.1 \
    $mandir/perl582delta.1 \
    $mandir/perl581delta.1 \
    $mandir/perl58delta.1 \
    $mandir/perl561delta.1 \
    $mandir/perl56delta.1 \
    $mandir/perl5005delta.1 \
    $mandir/perl5004delta.1 \
    $mandir/perlexperiment.1 \
    $mandir/perlartistic.1 \
    $mandir/perlgpl.1 \
    $mandir/perlaix.1 \
    $mandir/perlamiga.1 \
    $mandir/perlandroid.1 \
    $mandir/perlbs2000.1 \
    $mandir/perlce.1 \
    $mandir/perlcygwin.1 \
    $mandir/perldos.1 \
    $mandir/perlfreebsd.1 \
    $mandir/perlhaiku.1 \
    $mandir/perlhpux.1 \
    $mandir/perlhurd.1 \
    $mandir/perlirix.1 \
    $mandir/perllinux.1 \
    $mandir/perlmacos.1 \
    $mandir/perlmacosx.1 \
    $mandir/perlnetware.1 \
    $mandir/perlopenbsd.1 \
    $mandir/perlos2.1 \
    $mandir/perlos390.1 \
    $mandir/perlos400.1 \
    $mandir/perlplan9.1 \
    $mandir/perlqnx.1 \
    $mandir/perlriscos.1 \
    $mandir/perlsolaris.1 \
    $mandir/perlsymbian.1 \
    $mandir/perlsynology.1 \
    $mandir/perltru64.1 \
    $mandir/perlvms.1 \
    $mandir/perlvos.1 \
    $mandir/perlwin32.1 \
    $mandir/perlboot.1 \
    $mandir/perlbot.1 \
    $mandir/perlrepository.1 \
    $mandir/perltodo.1 \
    $mandir/perltooc.1 \
    $mandir/perltoot.1 \
    $libdir/arybase.3 \
    $libdir/attributes.3 \
    $libdir/autodie.3 \
    $libdir/autodie::Scope::Guard.3 \
    $libdir/autodie::Scope::GuardStack.3 \
    $libdir/autodie::Util.3 \
    $libdir/autodie::exception.3 \
    $libdir/autodie::exception::system.3 \
    $libdir/autodie::hints.3 \
    $libdir/autodie::skip.3 \
    $libdir/autouse.3 \
    $libdir/base.3 \
    $libdir/bigint.3 \
    $libdir/bignum.3 \
    $libdir/bigrat.3 \
    $libdir/blib.3 \
    $libdir/bytes.3 \
    $libdir/charnames.3 \
    $libdir/constant.3 \
    $libdir/deprecate.3 \
    $libdir/diagnostics.3 \
    $libdir/encoding.3 \
    $libdir/encoding::warnings.3 \
    $libdir/experimental.3 \
    $libdir/feature.3 \
    $libdir/fields.3 \
    $libdir/filetest.3 \
    $libdir/if.3 \
    $libdir/integer.3 \
    $libdir/less.3 \
    $libdir/lib.3 \
    $libdir/locale.3 \
    $libdir/meta_notation.3 \
    $libdir/mro.3 \
    $libdir/ok.3 \
    $libdir/open.3 \
    $libdir/ops.3 \
    $libdir/overload.3 \
    $libdir/overload::numbers.3 \
    $libdir/overloading.3 \
    $libdir/parent.3 \
    $libdir/re.3 \
    $libdir/sigtrap.3 \
    $libdir/sort.3 \
    $libdir/strict.3 \
    $libdir/subs.3 \
    $libdir/threads.3 \
    $libdir/threads::shared.3 \
    $libdir/unicore::Name.3 \
    $libdir/utf8.3 \
    $libdir/vars.3 \
    $libdir/version.3 \
    $libdir/version::Internals.3 \
    $libdir/version::regex.3 \
    $libdir/vmsish.3 \
    $libdir/warnings.3 \
    $libdir/warnings::register.3 \
    $libdir/AnyDBM_File.3 \
    $libdir/App::Cpan.3 \
    $libdir/App::Prove.3 \
    $libdir/App::Prove::State.3 \
    $libdir/App::Prove::State::Result.3 \
    $libdir/App::Prove::State::Result::Test.3 \
    $libdir/Archive::Tar.3 \
    $libdir/Archive::Tar::Constant.3 \
    $libdir/Archive::Tar::File.3 \
    $libdir/Attribute::Handlers.3 \
    $libdir/AutoLoader.3 \
    $libdir/AutoSplit.3 \
    $libdir/B.3 \
    $libdir/B::Concise.3 \
    $libdir/B::Debug.3 \
    $libdir/B::Deparse.3 \
    $libdir/B::Op_private.3 \
    $libdir/B::Showlex.3 \
    $libdir/B::Terse.3 \
    $libdir/B::Xref.3 \
    $libdir/Benchmark.3 \
    $libdir/CORE.3 \
    $libdir/CPAN.3 \
    $libdir/CPAN::API::HOWTO.3 \
    $libdir/CPAN::Author.3 \
    $libdir/CPAN::Bundle.3 \
    $libdir/CPAN::CacheMgr.3 \
    $libdir/CPAN::Complete.3 \
    $libdir/CPAN::Debug.3 \
    $libdir/CPAN::DeferredCode.3 \
    $libdir/CPAN::Distribution.3 \
    $libdir/CPAN::Distroprefs.3 \
    $libdir/CPAN::Distrostatus.3 \
    $libdir/CPAN::Exception::RecursiveDependency.3 \
    $libdir/CPAN::Exception::blocked_urllist.3 \
    $libdir/CPAN::Exception::yaml_not_installed.3 \
    $libdir/CPAN::Exception::yaml_process_error.3 \
    $libdir/CPAN::FTP.3 \
    $libdir/CPAN::FTP::netrc.3 \
    $libdir/CPAN::FirstTime.3 \
    $libdir/CPAN::HTTP::Client.3 \
    $libdir/CPAN::HTTP::Credentials.3 \
    $libdir/CPAN::HandleConfig.3 \
    $libdir/CPAN::Index.3 \
    $libdir/CPAN::InfoObj.3 \
    $libdir/CPAN::Kwalify.3 \
    $libdir/CPAN::LWP::UserAgent.3 \
    $libdir/CPAN::Meta.3 \
    $libdir/CPAN::Meta::Converter.3 \
    $libdir/CPAN::Meta::Feature.3 \
    $libdir/CPAN::Meta::History.3 \
    $libdir/CPAN::Meta::History::Meta_1_0.3 \
    $libdir/CPAN::Meta::History::Meta_1_1.3 \
    $libdir/CPAN::Meta::History::Meta_1_2.3 \
    $libdir/CPAN::Meta::History::Meta_1_3.3 \
    $libdir/CPAN::Meta::History::Meta_1_4.3 \
    $libdir/CPAN::Meta::Merge.3 \
    $libdir/CPAN::Meta::Prereqs.3 \
    $libdir/CPAN::Meta::Requirements.3 \
    $libdir/CPAN::Meta::Spec.3 \
    $libdir/CPAN::Meta::Validator.3 \
    $libdir/CPAN::Meta::YAML.3 \
    $libdir/CPAN::Mirrors.3 \
    $libdir/CPAN::Module.3 \
    $libdir/CPAN::Nox.3 \
    $libdir/CPAN::Plugin.3 \
    $libdir/CPAN::Plugin::Specfile.3 \
    $libdir/CPAN::Prompt.3 \
    $libdir/CPAN::Queue.3 \
    $libdir/CPAN::Shell.3 \
    $libdir/CPAN::Tarzip.3 \
    $libdir/CPAN::URL.3 \
    $libdir/CPAN::Version.3 \
    $libdir/Carp.3 \
    $libdir/Carp::Heavy.3 \
    $libdir/Class::Struct.3 \
    $libdir/Compress::Raw::Bzip2.3 \
    $libdir/Compress::Raw::Zlib.3 \
    $libdir/Compress::Zlib.3 \
    $libdir/Config.3 \
    $libdir/Config::Extensions.3 \
    $libdir/Config::Perl::V.3 \
    $libdir/Cwd.3 \
    $libdir/DB.3 \
    $libdir/DBM_Filter.3 \
    $libdir/DBM_Filter::compress.3 \
    $libdir/DBM_Filter::encode.3 \
    $libdir/DBM_Filter::int32.3 \
    $libdir/DBM_Filter::null.3 \
    $libdir/DBM_Filter::utf8.3 \
    $libdir/DB_File.3 \
    $libdir/Data::Dumper.3 \
    $libdir/Devel::PPPort.3 \
    $libdir/Devel::Peek.3 \
    $libdir/Devel::SelfStubber.3 \
    $libdir/Digest.3 \
    $libdir/Digest::MD5.3 \
    $libdir/Digest::SHA.3 \
    $libdir/Digest::base.3 \
    $libdir/Digest::file.3 \
    $libdir/DirHandle.3 \
    $libdir/Dumpvalue.3 \
    $libdir/DynaLoader.3 \
    $libdir/Encode.3 \
    $libdir/Encode::Alias.3 \
    $libdir/Encode::Byte.3 \
    $libdir/Encode::CJKConstants.3 \
    $libdir/Encode::CN.3 \
    $libdir/Encode::CN::HZ.3 \
    $libdir/Encode::Config.3 \
    $libdir/Encode::EBCDIC.3 \
    $libdir/Encode::Encoder.3 \
    $libdir/Encode::Encoding.3 \
    $libdir/Encode::GSM0338.3 \
    $libdir/Encode::Guess.3 \
    $libdir/Encode::JP.3 \
    $libdir/Encode::JP::H2Z.3 \
    $libdir/Encode::JP::JIS7.3 \
    $libdir/Encode::KR.3 \
    $libdir/Encode::KR::2022_KR.3 \
    $libdir/Encode::MIME::Header.3 \
    $libdir/Encode::MIME::Header::ISO_2022_JP.3 \
    $libdir/Encode::MIME::Name.3 \
    $libdir/Encode::PerlIO.3 \
    $libdir/Encode::Supported.3 \
    $libdir/Encode::Symbol.3 \
    $libdir/Encode::TW.3 \
    $libdir/Encode::Unicode.3 \
    $libdir/Encode::Unicode::UTF7.3 \
    $libdir/English.3 \
    $libdir/Env.3 \
    $libdir/Errno.3 \
    $libdir/Exporter.3 \
    $libdir/Exporter::Heavy.3 \
    $libdir/ExtUtils::CBuilder.3 \
    $libdir/ExtUtils::CBuilder::Base.3 \
    $libdir/ExtUtils::CBuilder::Platform::Unix.3 \
    $libdir/ExtUtils::CBuilder::Platform::VMS.3 \
    $libdir/ExtUtils::CBuilder::Platform::Windows.3 \
    $libdir/ExtUtils::CBuilder::Platform::Windows::BCC.3 \
    $libdir/ExtUtils::CBuilder::Platform::Windows::GCC.3 \
    $libdir/ExtUtils::CBuilder::Platform::Windows::MSVC.3 \
    $libdir/ExtUtils::CBuilder::Platform::aix.3 \
    $libdir/ExtUtils::CBuilder::Platform::android.3 \
    $libdir/ExtUtils::CBuilder::Platform::cygwin.3 \
    $libdir/ExtUtils::CBuilder::Platform::darwin.3 \
    $libdir/ExtUtils::CBuilder::Platform::dec_osf.3 \
    $libdir/ExtUtils::CBuilder::Platform::os2.3 \
    $libdir/ExtUtils::Command.3 \
    $libdir/ExtUtils::Command::MM.3 \
    $libdir/ExtUtils::Constant.3 \
    $libdir/ExtUtils::Constant::Base.3 \
    $libdir/ExtUtils::Constant::ProxySubs.3 \
    $libdir/ExtUtils::Constant::Utils.3 \
    $libdir/ExtUtils::Constant::XS.3 \
    $libdir/ExtUtils::Embed.3 \
    $libdir/ExtUtils::Install.3 \
    $libdir/ExtUtils::Installed.3 \
    $libdir/ExtUtils::Liblist.3 \
    $libdir/ExtUtils::Liblist::Kid.3 \
    $libdir/ExtUtils::MM.3 \
    $libdir/ExtUtils::MM_AIX.3 \
    $libdir/ExtUtils::MM_Any.3 \
    $libdir/ExtUtils::MM_BeOS.3 \
    $libdir/ExtUtils::MM_Cygwin.3 \
    $libdir/ExtUtils::MM_DOS.3 \
    $libdir/ExtUtils::MM_Darwin.3 \
    $libdir/ExtUtils::MM_MacOS.3 \
    $libdir/ExtUtils::MM_NW5.3 \
    $libdir/ExtUtils::MM_OS2.3 \
    $libdir/ExtUtils::MM_QNX.3 \
    $libdir/ExtUtils::MM_UWIN.3 \
    $libdir/ExtUtils::MM_Unix.3 \
    $libdir/ExtUtils::MM_VMS.3 \
    $libdir/ExtUtils::MM_VOS.3 \
    $libdir/ExtUtils::MM_Win32.3 \
    $libdir/ExtUtils::MM_Win95.3 \
    $libdir/ExtUtils::MY.3 \
    $libdir/ExtUtils::MakeMaker.3 \
    $libdir/ExtUtils::MakeMaker::Config.3 \
    $libdir/ExtUtils::MakeMaker::FAQ.3 \
    $libdir/ExtUtils::MakeMaker::Locale.3 \
    $libdir/ExtUtils::MakeMaker::Tutorial.3 \
    $libdir/ExtUtils::MakeMaker::version.3 \
    $libdir/ExtUtils::MakeMaker::version::regex.3 \
    $libdir/ExtUtils::Manifest.3 \
    $libdir/ExtUtils::Miniperl.3 \
    $libdir/ExtUtils::Mkbootstrap.3 \
    $libdir/ExtUtils::Mksymlists.3 \
    $libdir/ExtUtils::Packlist.3 \
    $libdir/ExtUtils::ParseXS.3 \
    $libdir/ExtUtils::ParseXS::Constants.3 \
    $libdir/ExtUtils::ParseXS::CountLines.3 \
    $libdir/ExtUtils::ParseXS::Eval.3 \
    $libdir/ExtUtils::ParseXS::Utilities.3 \
    $libdir/ExtUtils::Typemaps.3 \
    $libdir/ExtUtils::Typemaps::Cmd.3 \
    $libdir/ExtUtils::Typemaps::InputMap.3 \
    $libdir/ExtUtils::Typemaps::OutputMap.3 \
    $libdir/ExtUtils::Typemaps::Type.3 \
    $libdir/ExtUtils::XSSymSet.3 \
    $libdir/ExtUtils::testlib.3 \
    $libdir/Fatal.3 \
    $libdir/Fcntl.3 \
    $libdir/File::Basename.3 \
    $libdir/File::Compare.3 \
    $libdir/File::Copy.3 \
    $libdir/File::DosGlob.3 \
    $libdir/File::Fetch.3 \
    $libdir/File::Find.3 \
    $libdir/File::Glob.3 \
    $libdir/File::GlobMapper.3 \
    $libdir/File::Path.3 \
    $libdir/File::Spec.3 \
    $libdir/File::Spec::AmigaOS.3 \
    $libdir/File::Spec::Cygwin.3 \
    $libdir/File::Spec::Epoc.3 \
    $libdir/File::Spec::Functions.3 \
    $libdir/File::Spec::Mac.3 \
    $libdir/File::Spec::OS2.3 \
    $libdir/File::Spec::Unix.3 \
    $libdir/File::Spec::VMS.3 \
    $libdir/File::Spec::Win32.3 \
    $libdir/File::Temp.3 \
    $libdir/File::stat.3 \
    $libdir/FileCache.3 \
    $libdir/FileHandle.3 \
    $libdir/Filter::Simple.3 \
    $libdir/Filter::Util::Call.3 \
    $libdir/FindBin.3 \
    $libdir/GDBM_File.3 \
    $libdir/Getopt::Long.3 \
    $libdir/Getopt::Std.3 \
    $libdir/HTTP::Tiny.3 \
    $libdir/Hash::Util.3 \
    $libdir/Hash::Util::FieldHash.3 \
    $libdir/I18N::Collate.3 \
    $libdir/I18N::LangTags.3 \
    $libdir/I18N::LangTags::Detect.3 \
    $libdir/I18N::LangTags::List.3 \
    $libdir/I18N::Langinfo.3 \
    $libdir/IO.3 \
    $libdir/IO::Compress::Adapter::Bzip2.3 \
    $libdir/IO::Compress::Adapter::Deflate.3 \
    $libdir/IO::Compress::Adapter::Identity.3 \
    $libdir/IO::Compress::Base.3 \
    $libdir/IO::Compress::Base::Common.3 \
    $libdir/IO::Compress::Bzip2.3 \
    $libdir/IO::Compress::Deflate.3 \
    $libdir/IO::Compress::FAQ.3 \
    $libdir/IO::Compress::Gzip.3 \
    $libdir/IO::Compress::Gzip::Constants.3 \
    $libdir/IO::Compress::RawDeflate.3 \
    $libdir/IO::Compress::Zip.3 \
    $libdir/IO::Compress::Zip::Constants.3 \
    $libdir/IO::Compress::Zlib::Constants.3 \
    $libdir/IO::Compress::Zlib::Extra.3 \
    $libdir/IO::Dir.3 \
    $libdir/IO::File.3 \
    $libdir/IO::Handle.3 \
    $libdir/IO::Pipe.3 \
    $libdir/IO::Poll.3 \
    $libdir/IO::Seekable.3 \
    $libdir/IO::Select.3 \
    $libdir/IO::Socket.3 \
    $libdir/IO::Socket::INET.3 \
    $libdir/IO::Socket::IP.3 \
    $libdir/IO::Socket::UNIX.3 \
    $libdir/IO::Uncompress::Adapter::Bunzip2.3 \
    $libdir/IO::Uncompress::Adapter::Identity.3 \
    $libdir/IO::Uncompress::Adapter::Inflate.3 \
    $libdir/IO::Uncompress::AnyInflate.3 \
    $libdir/IO::Uncompress::AnyUncompress.3 \
    $libdir/IO::Uncompress::Base.3 \
    $libdir/IO::Uncompress::Bunzip2.3 \
    $libdir/IO::Uncompress::Gunzip.3 \
    $libdir/IO::Uncompress::Inflate.3 \
    $libdir/IO::Uncompress::RawInflate.3 \
    $libdir/IO::Uncompress::Unzip.3 \
    $libdir/IO::Zlib.3 \
    $libdir/IPC::Cmd.3 \
    $libdir/IPC::Msg.3 \
    $libdir/IPC::Open2.3 \
    $libdir/IPC::Open3.3 \
    $libdir/IPC::Semaphore.3 \
    $libdir/IPC::SharedMem.3 \
    $libdir/IPC::SysV.3 \
    $libdir/Internals.3 \
    $libdir/JSON::PP.3 \
    $libdir/JSON::PP::Boolean.3 \
    $libdir/List::Util.3 \
    $libdir/List::Util::XS.3 \
    $libdir/Locale::Codes.3 \
    $libdir/Locale::Codes::Changes.3 \
    $libdir/Locale::Codes::Constants.3 \
    $libdir/Locale::Codes::Country.3 \
    $libdir/Locale::Codes::Country_Codes.3 \
    $libdir/Locale::Codes::Country_Retired.3 \
    $libdir/Locale::Codes::Currency.3 \
    $libdir/Locale::Codes::Currency_Codes.3 \
    $libdir/Locale::Codes::Currency_Retired.3 \
    $libdir/Locale::Codes::LangExt.3 \
    $libdir/Locale::Codes::LangExt_Codes.3 \
    $libdir/Locale::Codes::LangExt_Retired.3 \
    $libdir/Locale::Codes::LangFam.3 \
    $libdir/Locale::Codes::LangFam_Codes.3 \
    $libdir/Locale::Codes::LangFam_Retired.3 \
    $libdir/Locale::Codes::LangVar.3 \
    $libdir/Locale::Codes::LangVar_Codes.3 \
    $libdir/Locale::Codes::LangVar_Retired.3 \
    $libdir/Locale::Codes::Language.3 \
    $libdir/Locale::Codes::Language_Codes.3 \
    $libdir/Locale::Codes::Language_Retired.3 \
    $libdir/Locale::Codes::Script.3 \
    $libdir/Locale::Codes::Script_Codes.3 \
    $libdir/Locale::Codes::Script_Retired.3 \
    $libdir/Locale::Codes::Types.3 \
    $libdir/Locale::Country.3 \
    $libdir/Locale::Currency.3 \
    $libdir/Locale::Language.3 \
    $libdir/Locale::Maketext.3 \
    $libdir/Locale::Maketext::Cookbook.3 \
    $libdir/Locale::Maketext::Guts.3 \
    $libdir/Locale::Maketext::GutsLoader.3 \
    $libdir/Locale::Maketext::Simple.3 \
    $libdir/Locale::Maketext::TPJ13.3 \
    $libdir/Locale::Script.3 \
    $libdir/MIME::Base64.3 \
    $libdir/MIME::QuotedPrint.3 \
    $libdir/Math::BigFloat.3 \
    $libdir/Math::BigFloat::Trace.3 \
    $libdir/Math::BigInt.3 \
    $libdir/Math::BigInt::Calc.3 \
    $libdir/Math::BigInt::CalcEmu.3 \
    $libdir/Math::BigInt::FastCalc.3 \
    $libdir/Math::BigInt::Lib.3 \
    $libdir/Math::BigInt::Trace.3 \
    $libdir/Math::BigRat.3 \
    $libdir/Math::Complex.3 \
    $libdir/Math::Trig.3 \
    $libdir/Memoize.3 \
    $libdir/Memoize::AnyDBM_File.3 \
    $libdir/Memoize::Expire.3 \
    $libdir/Memoize::ExpireFile.3 \
    $libdir/Memoize::ExpireTest.3 \
    $libdir/Memoize::NDBM_File.3 \
    $libdir/Memoize::SDBM_File.3 \
    $libdir/Memoize::Storable.3 \
    $libdir/Module::CoreList.3 \
    $libdir/Module::CoreList::Utils.3 \
    $libdir/Module::Load.3 \
    $libdir/Module::Load::Conditional.3 \
    $libdir/Module::Loaded.3 \
    $libdir/Module::Metadata.3 \
    $libdir/NEXT.3 \
    $libdir/Net::Cmd.3 \
    $libdir/Net::Config.3 \
    $libdir/Net::Domain.3 \
    $libdir/Net::FTP.3 \
    $libdir/Net::NNTP.3 \
    $libdir/Net::Netrc.3 \
    $libdir/Net::POP3.3 \
    $libdir/Net::Ping.3 \
    $libdir/Net::SMTP.3 \
    $libdir/Net::Time.3 \
    $libdir/Net::hostent.3 \
    $libdir/Net::libnetFAQ.3 \
    $libdir/Net::netent.3 \
    $libdir/Net::protoent.3 \
    $libdir/Net::servent.3 \
    $libdir/O.3 \
    $libdir/Opcode.3 \
    $libdir/POSIX.3 \
    $libdir/Params::Check.3 \
    $libdir/Parse::CPAN::Meta.3 \
    $libdir/Perl::OSType.3 \
    $libdir/PerlIO.3 \
    $libdir/PerlIO::encoding.3 \
    $libdir/PerlIO::mmap.3 \
    $libdir/PerlIO::scalar.3 \
    $libdir/PerlIO::via.3 \
    $libdir/PerlIO::via::QuotedPrint.3 \
    $libdir/Pod::Checker.3 \
    $libdir/Pod::Escapes.3 \
    $libdir/Pod::Find.3 \
    $libdir/Pod::Html.3 \
    $libdir/Pod::InputObjects.3 \
    $libdir/Pod::Man.3 \
    $libdir/Pod::ParseLink.3 \
    $libdir/Pod::ParseUtils.3 \
    $libdir/Pod::Parser.3 \
    $libdir/Pod::Perldoc.3 \
    $libdir/Pod::Perldoc::BaseTo.3 \
    $libdir/Pod::Perldoc::GetOptsOO.3 \
    $libdir/Pod::Perldoc::ToANSI.3 \
    $libdir/Pod::Perldoc::ToChecker.3 \
    $libdir/Pod::Perldoc::ToMan.3 \
    $libdir/Pod::Perldoc::ToNroff.3 \
    $libdir/Pod::Perldoc::ToPod.3 \
    $libdir/Pod::Perldoc::ToRtf.3 \
    $libdir/Pod::Perldoc::ToTerm.3 \
    $libdir/Pod::Perldoc::ToText.3 \
    $libdir/Pod::Perldoc::ToTk.3 \
    $libdir/Pod::Perldoc::ToXml.3 \
    $libdir/Pod::PlainText.3 \
    $libdir/Pod::Select.3 \
    $libdir/Pod::Simple.3 \
    $libdir/Pod::Simple::BlackBox.3 \
    $libdir/Pod::Simple::Checker.3 \
    $libdir/Pod::Simple::Debug.3 \
    $libdir/Pod::Simple::DumpAsText.3 \
    $libdir/Pod::Simple::DumpAsXML.3 \
    $libdir/Pod::Simple::HTML.3 \
    $libdir/Pod::Simple::HTMLBatch.3 \
    $libdir/Pod::Simple::HTMLLegacy.3 \
    $libdir/Pod::Simple::LinkSection.3 \
    $libdir/Pod::Simple::Methody.3 \
    $libdir/Pod::Simple::Progress.3 \
    $libdir/Pod::Simple::PullParser.3 \
    $libdir/Pod::Simple::PullParserEndToken.3 \
    $libdir/Pod::Simple::PullParserStartToken.3 \
    $libdir/Pod::Simple::PullParserTextToken.3 \
    $libdir/Pod::Simple::PullParserToken.3 \
    $libdir/Pod::Simple::RTF.3 \
    $libdir/Pod::Simple::Search.3 \
    $libdir/Pod::Simple::SimpleTree.3 \
    $libdir/Pod::Simple::Subclassing.3 \
    $libdir/Pod::Simple::Text.3 \
    $libdir/Pod::Simple::TextContent.3 \
    $libdir/Pod::Simple::TiedOutFH.3 \
    $libdir/Pod::Simple::Transcode.3 \
    $libdir/Pod::Simple::TranscodeDumb.3 \
    $libdir/Pod::Simple::TranscodeSmart.3 \
    $libdir/Pod::Simple::XHTML.3 \
    $libdir/Pod::Simple::XMLOutStream.3 \
    $libdir/Pod::Text.3 \
    $libdir/Pod::Text::Color.3 \
    $libdir/Pod::Text::Overstrike.3 \
    $libdir/Pod::Text::Termcap.3 \
    $libdir/Pod::Usage.3 \
    $libdir/SDBM_File.3 \
    $libdir/Safe.3 \
    $libdir/Scalar::Util.3 \
    $libdir/Search::Dict.3 \
    $libdir/SelectSaver.3 \
    $libdir/SelfLoader.3 \
    $libdir/Socket.3 \
    $libdir/Storable.3 \
    $libdir/Sub::Util.3 \
    $libdir/Symbol.3 \
    $libdir/Sys::Hostname.3 \
    $libdir/Sys::Syslog.3 \
    $libdir/TAP::Base.3 \
    $libdir/TAP::Formatter::Base.3 \
    $libdir/TAP::Formatter::Color.3 \
    $libdir/TAP::Formatter::Console.3 \
    $libdir/TAP::Formatter::Console::ParallelSession.3 \
    $libdir/TAP::Formatter::Console::Session.3 \
    $libdir/TAP::Formatter::File.3 \
    $libdir/TAP::Formatter::File::Session.3 \
    $libdir/TAP::Formatter::Session.3 \
    $libdir/TAP::Harness.3 \
    $libdir/TAP::Harness::Beyond.3 \
    $libdir/TAP::Harness::Env.3 \
    $libdir/TAP::Object.3 \
    $libdir/TAP::Parser.3 \
    $libdir/TAP::Parser::Aggregator.3 \
    $libdir/TAP::Parser::Grammar.3 \
    $libdir/TAP::Parser::Iterator.3 \
    $libdir/TAP::Parser::Iterator::Array.3 \
    $libdir/TAP::Parser::Iterator::Process.3 \
    $libdir/TAP::Parser::Iterator::Stream.3 \
    $libdir/TAP::Parser::IteratorFactory.3 \
    $libdir/TAP::Parser::Multiplexer.3 \
    $libdir/TAP::Parser::Result.3 \
    $libdir/TAP::Parser::Result::Bailout.3 \
    $libdir/TAP::Parser::Result::Comment.3 \
    $libdir/TAP::Parser::Result::Plan.3 \
    $libdir/TAP::Parser::Result::Pragma.3 \
    $libdir/TAP::Parser::Result::Test.3 \
    $libdir/TAP::Parser::Result::Unknown.3 \
    $libdir/TAP::Parser::Result::Version.3 \
    $libdir/TAP::Parser::Result::YAML.3 \
    $libdir/TAP::Parser::ResultFactory.3 \
    $libdir/TAP::Parser::Scheduler.3 \
    $libdir/TAP::Parser::Scheduler::Job.3 \
    $libdir/TAP::Parser::Scheduler::Spinner.3 \
    $libdir/TAP::Parser::Source.3 \
    $libdir/TAP::Parser::SourceHandler.3 \
    $libdir/TAP::Parser::SourceHandler::Executable.3 \
    $libdir/TAP::Parser::SourceHandler::File.3 \
    $libdir/TAP::Parser::SourceHandler::Handle.3 \
    $libdir/TAP::Parser::SourceHandler::Perl.3 \
    $libdir/TAP::Parser::SourceHandler::RawTAP.3 \
    $libdir/TAP::Parser::YAMLish::Reader.3 \
    $libdir/TAP::Parser::YAMLish::Writer.3 \
    $libdir/Term::ANSIColor.3 \
    $libdir/Term::Cap.3 \
    $libdir/Term::Complete.3 \
    $libdir/Term::ReadLine.3 \
    $libdir/Test.3 \
    $libdir/Test2.3 \
    $libdir/Test2::API.3 \
    $libdir/Test2::API::Breakage.3 \
    $libdir/Test2::API::Context.3 \
    $libdir/Test2::API::Instance.3 \
    $libdir/Test2::API::Stack.3 \
    $libdir/Test2::Event.3 \
    $libdir/Test2::Event::Bail.3 \
    $libdir/Test2::Event::Diag.3 \
    $libdir/Test2::Event::Encoding.3 \
    $libdir/Test2::Event::Exception.3 \
    $libdir/Test2::Event::Fail.3 \
    $libdir/Test2::Event::Generic.3 \
    $libdir/Test2::Event::Note.3 \
    $libdir/Test2::Event::Ok.3 \
    $libdir/Test2::Event::Pass.3 \
    $libdir/Test2::Event::Plan.3 \
    $libdir/Test2::Event::Skip.3 \
    $libdir/Test2::Event::Subtest.3 \
    $libdir/Test2::Event::TAP::Version.3 \
    $libdir/Test2::Event::V2.3 \
    $libdir/Test2::Event::Waiting.3 \
    $libdir/Test2::EventFacet.3 \
    $libdir/Test2::EventFacet::About.3 \
    $libdir/Test2::EventFacet::Amnesty.3 \
    $libdir/Test2::EventFacet::Assert.3 \
    $libdir/Test2::EventFacet::Control.3 \
    $libdir/Test2::EventFacet::Error.3 \
    $libdir/Test2::EventFacet::Hub.3 \
    $libdir/Test2::EventFacet::Info.3 \
    $libdir/Test2::EventFacet::Meta.3 \
    $libdir/Test2::EventFacet::Parent.3 \
    $libdir/Test2::EventFacet::Plan.3 \
    $libdir/Test2::EventFacet::Render.3 \
    $libdir/Test2::EventFacet::Trace.3 \
    $libdir/Test2::Formatter.3 \
    $libdir/Test2::Formatter::TAP.3 \
    $libdir/Test2::Hub.3 \
    $libdir/Test2::Hub::Interceptor.3 \
    $libdir/Test2::Hub::Interceptor::Terminator.3 \
    $libdir/Test2::Hub::Subtest.3 \
    $libdir/Test2::IPC.3 \
    $libdir/Test2::IPC::Driver.3 \
    $libdir/Test2::IPC::Driver::Files.3 \
    $libdir/Test2::Tools::Tiny.3 \
    $libdir/Test2::Transition.3 \
    $libdir/Test2::Util.3 \
    $libdir/Test2::Util::ExternalMeta.3 \
    $libdir/Test2::Util::Facets2Legacy.3 \
    $libdir/Test2::Util::HashBase.3 \
    $libdir/Test2::Util::Trace.3 \
    $libdir/Test::Builder.3 \
    $libdir/Test::Builder::Formatter.3 \
    $libdir/Test::Builder::IO::Scalar.3 \
    $libdir/Test::Builder::Module.3 \
    $libdir/Test::Builder::Tester.3 \
    $libdir/Test::Builder::Tester::Color.3 \
    $libdir/Test::Builder::TodoDiag.3 \
    $libdir/Test::Harness.3 \
    $libdir/Test::More.3 \
    $libdir/Test::Simple.3 \
    $libdir/Test::Tester.3 \
    $libdir/Test::Tester::Capture.3 \
    $libdir/Test::Tester::CaptureRunner.3 \
    $libdir/Test::Tester::Delegate.3 \
    $libdir/Test::Tutorial.3 \
    $libdir/Test::use::ok.3 \
    $libdir/Text::Abbrev.3 \
    $libdir/Text::Balanced.3 \
    $libdir/Text::ParseWords.3 \
    $libdir/Text::Tabs.3 \
    $libdir/Text::Wrap.3 \
    $libdir/Thread.3 \
    $libdir/Thread::Queue.3 \
    $libdir/Thread::Semaphore.3 \
    $libdir/Tie::Array.3 \
    $libdir/Tie::File.3 \
    $libdir/Tie::Handle.3 \
    $libdir/Tie::Hash.3 \
    $libdir/Tie::Hash::NamedCapture.3 \
    $libdir/Tie::Memoize.3 \
    $libdir/Tie::RefHash.3 \
    $libdir/Tie::Scalar.3 \
    $libdir/Tie::StdHandle.3 \
    $libdir/Tie::SubstrHash.3 \
    $libdir/Time::HiRes.3 \
    $libdir/Time::Local.3 \
    $libdir/Time::Piece.3 \
    $libdir/Time::Seconds.3 \
    $libdir/Time::gmtime.3 \
    $libdir/Time::localtime.3 \
    $libdir/Time::tm.3 \
    $libdir/UNIVERSAL.3 \
    $libdir/Unicode::Collate.3 \
    $libdir/Unicode::Collate::CJK::Big5.3 \
    $libdir/Unicode::Collate::CJK::GB2312.3 \
    $libdir/Unicode::Collate::CJK::JISX0208.3 \
    $libdir/Unicode::Collate::CJK::Korean.3 \
    $libdir/Unicode::Collate::CJK::Pinyin.3 \
    $libdir/Unicode::Collate::CJK::Stroke.3 \
    $libdir/Unicode::Collate::CJK::Zhuyin.3 \
    $libdir/Unicode::Collate::Locale.3 \
    $libdir/Unicode::Normalize.3 \
    $libdir/Unicode::UCD.3 \
    $libdir/User::grent.3 \
    $libdir/User::pwent.3 \
    $libdir/XSLoader.3 \
    $libdir/_charnames.3 \
    | perl -ne 'map { -r && print "$_ " } split'`

    # Bypass internal shell buffer limit -- can't use case
    if perl -e '$a = shift; exit($a =~ m|/|)' $toroff; then
	echo "$me: empty file list -- did you run install?" >&2
	exit 1
    fi

    #psroff -t -man -rC1 -rD1 -rF1 > $tmp/PerlDoc.ps 2>$tmp/PerlTOC.raw
    #nroff -man -rC1 -rD1 -rF1 > $tmp/PerlDoc.txt 2>$tmp/PerlTOC.nr.raw

    # First, create the raw data
    run="$cmd -rC1 -rD1 -rF1 >$tmp/PerlDoc.$ext 2>$tmp/PerlTOC.$ext.raw"
    echo "$me: running $run"
    eval $run $toroff

    #Now create the TOC
    echo "$me: parsing TOC"
    perl rofftoc $tmp/PerlTOC.$ext.raw > $tmp/PerlTOC.tmp.man
    run="$cmd $tmp/PerlTOC.tmp.man >$tmp/PerlTOC.$ext"
    echo "$me: running $run"
    eval $run

    # Finally, recreate the Doc, without the blank page 0
    run="$cmd -rC1 -rD1 >$tmp/PerlDoc.$ext 2>$tmp/PerlTOC.$ext.raw"
    echo "$me: running $run"
    eval $run $toroff
    rm -f $tmp/PerlTOC.tmp.man $tmp/PerlTOC.$ext.raw
    echo "$me: leaving you with $tmp/PerlDoc.$ext and $tmp/PerlTOC.$ext"
