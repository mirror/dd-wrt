(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{"+0Fo":function(e,t,i){"use strict";i.d(t,"a",(function(){return s}));i("slDQ");var n=i("FKox"),a=i("b3RP");function s(e){const{key:t,getModel:i,onResolved:s,onRejected:r}=e,o=Object(n.a)(t),l="is"+o+"Pending",c="is"+o+"Populated",d=t?t+"Error":"error";return(t,n={},o)=>{const u=i(t,n),p=(u.sessionAttrs,u.get(l));u.set(l,!0),e.fetch(t,n,o).then(()=>{u.set({[l]:!1,[c]:!0,[d]:null}),s&&s(u,t,n,o)},e=>{const i=e.aborting?{[l]:p}:{[l]:!1,[d]:Object(a.a)(e)};u.set(i),r&&r(u,t,n,o)})}}},"+71K":function(e,t,i){e.exports={container:"PosterCardIcon-container-257jtF"}},"+9Fr":function(e,t,i){e.exports={badge:"PageHeaderBadge-badge-2oDBgn"}},"+E9k":function(e,t,i){var n=i("3O+N");function a(e){return e&&(e.__esModule?e.default:e)}e.exports=(n.default||n).template((function(e,t,n,s,r){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),r=r||{};var o,l="",c=this,d=this.escapeExpression;function u(e,t){return"active"}return l+='<ul class="agent-types-nav nav nav-pills"> ',((o=n.each.call(t,t&&t.agentTypes,{hash:{},inverse:c.noop,fn:c.programWithDepth(1,(function(e,t,n){var s,r="";return r+=' <li class="',((s=a(i("w+Xr")).call(e,null==(s=n&&n.currentType)||!1===s?s:s.id,e&&e.id,{hash:{},inverse:c.noop,fn:c.program(2,u,t),data:t}))||0===s)&&(r+=s),r+='"> <a class="btn-gray" data-type="'+d("function"==typeof(s=e&&e.typeString)?s.apply(e):s)+'" href="#">'+d(a(i("d8WC")).call(e,e&&e.plural,{hash:{},data:t}))+"</a> </li> "}),r,t),data:r}))||0===o)&&(l+=o),l+=' </ul> <div class="agents-list-container"></div> <p class="help-block sortable-help-block">'+d(a(i("d8WC")).call(t,"Select which additional agents should contribute to metadata from {1}, and drag them to change the order of preference.",'<span class="agent-label"></span>',{hash:{},data:r}))+'</p> <div class="contributors-list-container"></div> '}))},"+FCs":function(e,t,i){e.exports={form:"ShareRestrictions-form-Rcumd5",modalBody:"ShareRestrictions-modalBody-1U8Ga6 ModalBody-modalBody--5uHSu",scroller:"ShareRestrictions-scroller-2s4dmY Scroller-vertical-VScFLT",message:"ShareRestrictions-message-XfFwpl",section:"ShareRestrictions-section-3NdrrM",list:"ShareRestrictions-list-33f8GR",modalFooter:"ShareRestrictions-modalFooter-Rm6RHL ModalFooter-modalFooter-30WIB5",warningMessage:"ShareRestrictions-warningMessage-1CDN7a ShareRestrictions-message-XfFwpl",warningIcon:"ShareRestrictions-warningIcon-1pNCPA"}},"+GYj":function(e,t,i){e.exports={input:"RestrictionProfilesInput-input-1u2NCr SelectInput-input-x1tNmq input-input-1P2Vi4",subtitle:"RestrictionProfilesInput-subtitle-1x_Efz"}},"+ICQ":function(e,t,i){var n=i("3O+N");e.exports=(n.default||n).template((function(e,t,i,n,a){return this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),a=a||{},'<div class="card card-device"> <img class="card-poster device-icon"> <div class="card-actions"> <button class="remove-device-btn card-action-btn btn-danger"><i class="glyphicon remove-2"></i></button> </div> <h4 class="name"></h4> <div class="card-details"> <div class="pull-right"> <div class="last-seen text-muted"></div> <span class="sync-info hidden"> <span class="glyphicon circle-arrow-down sync-icon"></span> <span class="sync-count"></span> <span class="sync-size"></span> </span> </div> <span class="version text-muted"></span> <div class="device-info-container"> <div class="product"></div> <div class="device text-muted"></div> <div class="platform-info text-muted"> <span class="platform"></span> <span class="platform-version"></span> </div> </div> </div> </div> '}))},"+K+r":function(e,t,i){(function(e){!function(e){"use strict";e.fn.emulateTransitionEnd=function(t){var i=!1,n=this;e(this).one(e.support.transition.end,(function(){i=!0}));return setTimeout((function(){i||e(n).trigger(e.support.transition.end)}),t),this},e((function(){e.support.transition=function(){var e=document.createElement("bootstrap"),t={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var i in t)if(void 0!==e.style[i])return{end:t[i]}}()}))}(e)}).call(this,i("EVdn"))},"+K/F":function(e,t,i){e.exports={posterCardContainer:"WatchTogetherParticipantCell-posterCardContainer-2ny7Q7",card:"WatchTogetherParticipantCell-card-qkBk8M TagPosterCard-card-RVD0Dw MetadataPosterCardFace-poster-L2P6rC TagPosterCard-isPerson-1ez1h_",titleContainer:"WatchTogetherParticipantCell-titleContainer-2bZ6ul"}},"+LVH":function(e,t,i){e.exports={pageHeaderCenter:"PivotTabsPageHeaderCenter-pageHeaderCenter-1vVtqc PageHeaderCenter-pageHeaderCenter-XZlGC2"}},"+Lxe":function(e,t,i){e.exports={container:"GridAlsoAiring-container-1GKdlS",content:"GridAlsoAiring-content-UIHGKI Scroller-vertical-VScFLT",tooltipButton:"GridAlsoAiring-tooltipButton-2CNbk7"}},"+MhW":function(e,t,i){e.exports={selectButton:"SelectButton-selectButton-3Kbjm9",isSelected:"SelectButton-isSelected-3mX245",selectCircle:"SelectButton-selectCircle-3tdvGt",selectedIcon:"SelectButton-selectedIcon-3-SALM"}},"+Mxn":function(e,t,i){"use strict";function n(e,t){return e.get("ui").get(t+"Player")}function a(e,t){const i=e.get("ui").get("audioVideoPlayer").get("playQueue"),n=e.get("ui").get("photoPlayer").get("playQueue");return i&&i.get("playQueueID")===t?i:n&&n.get("playQueueID")===t?n:void 0}function s(e,t){const i=e.get("playQueue");if(!i)return;const n=i.get("playQueueItems");if(t<0||t>=n.length)return;return n.at(t)}i.d(t,"c",(function(){return n})),i.d(t,"b",(function(){return a})),i.d(t,"a",(function(){return s}))},"+X4A":function(e,t,i){"use strict";i.r(t),i.d(t,"getLastSegment",(function(){return u})),i.d(t,"stringifyParams",(function(){return p})),i.d(t,"parseParams",(function(){return h})),i.d(t,"parseUri",(function(){return m})),i.d(t,"parseUrl",(function(){return g})),i.d(t,"join",(function(){return v}));var n=i("Qyje"),a=i.n(n),s=i("F/us"),r=i.n(s),o=i("yQm5"),l=i.n(o);i("slDQ");const c=/^([^?#]*)(?:\?([^#]*))?(#.*)?/,d=/([^?]*)\??(.*)()/;function u(e){return e?r.a.first(/[^/\\]+$/.exec(e))||e:""}function p(e,t){return a.a.stringify(e,Object.assign({arrayFormat:"repeat"},t))}function h(e,t){return a.a.parse(e,t)}function m(e){const t=l.a.parse(e),i=t.protocol?t.protocol+":":"",n=t.port?String(t.port):"",a=t.hostname?n&&t.hostname+":"+n||t.hostname:"",s=t.hostname||"",r=t.fragment?"#"+t.fragment:"",o=e,c=i&&a?i+"//"+a:"",d=t.path||"",u=t.query?"?"+t.query:"",p=t.query?h(t.query):{};return{isAbsolute:/^[\w:]*\/\//.test(e),hash:r,host:a,hostname:s,href:o,origin:c,params:p,pathname:d,port:n,protocol:i,search:u}}function g(e){const t=Object.assign({},m(e)),i=/file/.test(t.protocol);return t.protocol||(t.protocol=window.location.protocol),i||(t.host||(t.host=window.location.host),t.hostname||(t.hostname=window.location.hostname),t.port||(t.port=window.location.port)),t.origin||(t.origin=i?t.protocol+"//":t.protocol+"//"+t.host),t}function v(e,t,i){r.a.isString(e)&&(e=[e]),e=e.filter(e=>e);const n=i&&i.recognizeHash?c:d,a=e.reduce((e,t)=>{const[,i,a,s]=function(e){return String(e).replace(/^\/|\/$/g,"")}(t).match(n);return i&&(e.path=e.path?e.path+"/"+i:i),a&&(e.params=e.params?e.params+"&"+a:a),s&&(e.hash=s),e},{path:"",params:"",hash:""});let s;if(i&&i.parseParams)s=p(Object.assign(h(a.params),r.a.isString(t)?h(t):t));else{const e=r.a.isString(t)?t:p(t);s=a.params+(a.params&&e?"&":"")+e}return(e.length&&"/"===e[0].charAt(0)?"/":"")+a.path+(s?"?"+s:"")+a.hash}},"+ZLW":function(e,t,i){e.exports={container:"ServerResources-container-1Mqi4i",graph:"ServerResources-graph-2MSl80"}},"+art":function(e,t,i){e.exports={modal:"SubtitlesUploadModal-modal-2UMyzf Modal-medium-1UIAdk Modal-modal-3Z1JSX"}},"+b+4":function(e,t,i){e.exports={titleContainer:"SearchTagPosterCell-titleContainer-2WMiUS",imageContainer:"SearchTagPosterCell-imageContainer-244-TF",imageLink:"SearchTagPosterCell-imageLink-GYb2j1",isPerson:"SearchTagPosterCell-isPerson-3JJoqT"}},"+fvj":function(e,t,i){"use strict";i.r(t),i.d(t,"PICKER",(function(){return n})),i.d(t,"FALLBACK",(function(){return a})),i.d(t,"STARTUP",(function(){return s})),i.d(t,"SERVER",(function(){return r})),i.d(t,"LIBRARY",(function(){return o})),i.d(t,"LIST",(function(){return l})),i.d(t,"SELECTION",(function(){return c})),i.d(t,"SETTINGS",(function(){return d})),i.d(t,"SETUP_WIZARD",(function(){return u})),i.d(t,"SERVER_DOWNLOAD",(function(){return p})),i.d(t,"AGENDA",(function(){return h})),i.d(t,"CALENDAR",(function(){return m})),i.d(t,"NAV_BAR",(function(){return g})),i.d(t,"COMPANION",(function(){return v})),i.d(t,"USERS_AND_SHARING",(function(){return y})),i.d(t,"DISCOVER_PIVOT",(function(){return f})),i.d(t,"LIBRARY_PIVOT",(function(){return b})),i.d(t,"PLAYLISTS_PIVOT",(function(){return I})),i.d(t,"COLLECTIONS_PIVOT",(function(){return S})),i.d(t,"TIMELINE_PIVOT",(function(){return C})),i.d(t,"DVR_DISCOVER_PIVOT",(function(){return M})),i.d(t,"DVR_GUIDE_PIVOT",(function(){return D})),i.d(t,"DVR_SCHEDULE_PIVOT",(function(){return P})),i.d(t,"WATCHLIST",(function(){return O})),i.d(t,"HDR_CONVERSION",(function(){return j}));const n="picker",a="fallback",s="startup",r="server",o="library",l="list",c="selection",d="settings",u="setupWizard",p="serverDownload",h="agenda",m="calendar",g="navBar",v="companion",y="usersAndSharing",f="content.discover",b="content.library",I="content.playlists",S="content.collections",C="content.timeline",M="content.dvr.discover",D="content.dvr.guide",P="content.dvr.schedule",O="content.watchlist",j="hdr-conversion"},"+t+Z":function(e,t,i){"use strict";i.d(t,"a",(function(){return a}));var n=i("Co7d");function a(e){return Object(n.a)(e)}},"+tcT":function(e,t,i){e.exports={description:"AudioSubtitleSettingsFormSection-description-3K2f7a"}},"+tih":function(e,t,i){e.exports={scroller:"SourceSidebarScroller-scroller-3jyEM6 Scroller-scroller-3GqQcZ"}},"+vwP":function(e,t,i){e.exports={button:"SpinnerButton-button-2YjGJZ Button-button-3A5jB3 Link-link-2ew_DK",spinnerContainer:"SpinnerButton-spinnerContainer-1RHCbv",spinner:"SpinnerButton-spinner-TNQl5_ Spinner-spinner-1qRM4t spin-spin-2kLwt_",label:"SpinnerButton-label-2HIugt",isSpinning:"SpinnerButton-isSpinning-2ZrKdu"}},"//Cn":function(e,t,i){"use strict";var n=i("G4qV"),a=i("V+TA"),s=i("yfFC");var r=Object(a.a)((function(e){return t=>e===s.a.Photo?t.ui.photoPlayer:t.ui.audioVideoPlayer}));t.a=Object(a.a)((function(e,t){return Object(n.a)(r(e),e=>e[t])}))},"/3H6":function(e,t,i){e.exports={modalContainer:"Modal-modalContainer-tNumMm",modalBackdrop:"Modal-modalBackdrop-3-L45r",modal:"Modal-modal-3Z1JSX",small:"Modal-small-37D0Mq Modal-modal-3Z1JSX",medium:"Modal-medium-1UIAdk Modal-modal-3Z1JSX",large:"Modal-large-1fVmOF Modal-modal-3Z1JSX"}},"/5lZ":function(e,t,i){e.exports={modal:"DVRSetupModal-modal-18lUmV Modal-medium-3wftUS Modal-modal-3v30kQ"}},"/6Su":function(e,t,i){e.exports={childrenContainer:"CurrentSourcePageHeaderLeft-childrenContainer-1LCz1_"}},"/9Dk":function(e,t,i){e.exports={container:"PrePlayPopularList-container-2eAUSi",moreContainer:"PrePlayPopularList-moreContainer-1C7PCg"}},"/EX7":function(e,t,i){e.exports={deviceImageContainer:"DVRSetupDevice-deviceImageContainer-2xU-HL",selectButton:"DVRSetupDevice-selectButton-ae6X2N SelectButton-selectButton-3Kbjm9",details:"DVRSetupDevice-details-3KGanS",make:"DVRSetupDevice-make-1bKta_",modelContainer:"DVRSetupDevice-modelContainer-2aBGGR",model:"DVRSetupDevice-model-2C8RY9",uri:"DVRSetupDevice-uri-1doZGQ",channelCount:"DVRSetupDevice-channelCount-3h5cjL"}},"/Efv":function(e,t,i){e.exports={modalNote:"SourceActionsMenu-modalNote-2jUOsJ"}},"/GUN":function(e,t,i){var n=i("3O+N");function a(e){return e&&(e.__esModule?e.default:e)}e.exports=(n.default||n).template((function(e,t,n,s,r){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),r=r||{};var o="",l=this.escapeExpression;return o+='<div class="row"> <div class="col-sm-6 col-sm-offset-3"> <h4>'+l(a(i("d8WC")).call(t,"Organize Your Media",{hash:{},data:r}))+'</h4> <p class="text-muted">'+l(a(i("d8WC")).call(t,"Plex organizes your media into libraries. You can add as many libraries as you want, and you can have multiple libraries with the same type.",{hash:{},data:r}))+'</p> <p class="setup-add-section-container"> <button class="add-section-btn btn btn-default">'+l(a(i("d8WC")).call(t,"Add Library",{hash:{},data:r}))+'</button> </p> <div class="setup-section-list-container"></div> <div class="setup-footer"> <button class="next-btn btn btn-default btn-lg" data-subset="setupBasic">'+l(a(i("d8WC")).call(t,"Back",{hash:{},data:r}))+'</button> <button class="next-btn btn btn-primary btn-lg" data-subset="setupComplete">'+l(a(i("d8WC")).call(t,"Next",{hash:{},data:r}))+"</button> </div> </div> </div> "}))},"/IMa":function(e,t,i){e.exports={pageContentScroller:"PageContent-pageContentScroller-okL_Uc Scroller-scroller-CQJq74"}},"/No1":function(e,t,i){"use strict";var n=i("F/us"),a=i.n(n);t.a=function(e,t){const i=[];if(e){const n=a.a.first(e.Part);n&&n.Stream&&i.push.apply(i,a.a.where(n.Stream,t))}return i}},"/Oxn":function(e,t,i){e.exports={allEpisodesContainer:"PrePlaySimpleDetailsVirtualList-allEpisodesContainer-xIfelE"}},"/R4L":function(e,t,i){e.exports={pageScroller:"Page-pageScroller-3nUMiS Scroller-scroller-CQJq74"}},"/TfA":function(e,t,i){var n=i("3O+N");e.exports=(n.default||n).template((function(e,t,i,n,a){return this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),a=a||{},'<div id="alertBar" class="alert-bar-container"></div> <div id="content" class="scroll-container dark-scrollbar"></div> '}))},"/VEV":function(e,t,i){e.exports={fill:"ChannelsGridProgress-fill-hY0DOn",active:"ChannelsGridProgress-active-1lw2kP"}},"/fYT":function(e,t,i){"use strict";i.d(t,"b",(function(){return r}));var n=i("CHn6"),a=i("mOXR"),s=i("FIl5");const r={INT:"int",TEXT:"text",BOOL:"bool",DOUBLE:"double"};function o(e,t){switch(e){case r.INT:case r.ENUM:return s.a.parseInteger(t);case r.BOOL:return s.a.parseBoolean(t);case r.DOUBLE:return s.a.parseFloat(t);default:return t}}const l=n.a.extend({name:"MediaSettingModel",context:["server","provider"],idAttribute:"id",rootPropertyName:"Setting",syncedAttrs:{id:a.a.string,advanced:a.a.boolean,default:a.a.oneOfType(a.a.integer,a.a.string,a.a.boolean),hidden:a.a.boolean,group:a.a.string,label:a.a.string,summary:a.a.string,type:a.a.oneOf(r.INT,r.TEXT,r.BOOL,r.ENUM,r.DOUBLE),value:a.a.oneOfType(a.a.integer,a.a.float,a.a.string,a.a.boolean),min:a.a.float,max:a.a.float,step:a.a.float,enumValues:a.a.array},augmentResponse:e=>(e.default=o(e.type,e.default),e.value=o(e.type,e.value),e.enumValues&&(e.enumValues=e.enumValues.split("|").map(t=>{const[i,n=i]=t.split(":");return{label:decodeURIComponent(n),value:o(e.type,i)}})),e),parseAndSetValue(e){this.set("value",o(this.get("type"),e))}});t.a=l},"/gAe":function(e,t,i){e.exports={section:"ServerDashboardPageSection-section-3S6kbD"}},"/k80":function(e,t,i){var n=i("3O+N");function a(e){return e&&(e.__esModule?e.default:e)}e.exports=(n.default||n).template((function(e,t,n,s,r){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),r=r||{};var o,l="",c=this.escapeExpression;return l+='<ul class="nav nav-header pull-right"> <li><a class="all-btn btn-gray selected" href="#">'+c(a(i("d8WC")).call(t,"All",{hash:{},data:r})),((o=n.if.call(t,t&&t.allCount,{hash:{},inverse:this.noop,fn:this.program(1,(function(e,t){var i,n="";return n+='<span class="badge">'+c("function"==typeof(i=e&&e.allCount)?i.apply(e):i)+"</span>"}),r),data:r}))||0===o)&&(l+=o),l+='</a></li> <li><a class="video-btn btn-gray" href="#">'+c(a(i("d8WC")).call(t,"Video",{hash:{},data:r})),((o=n.if.call(t,t&&t.videoCount,{hash:{},inverse:this.noop,fn:this.program(3,(function(e,t){var i,n="";return n+='<span class="badge">'+c("function"==typeof(i=e&&e.videoCount)?i.apply(e):i)+"</span>"}),r),data:r}))||0===o)&&(l+=o),l+='</a></li> <li><a class="music-btn btn-gray" href="#">'+c(a(i("d8WC")).call(t,"Music",{hash:{},data:r})),((o=n.if.call(t,t&&t.musicCount,{hash:{},inverse:this.noop,fn:this.program(5,(function(e,t){var i,n="";return n+='<span class="badge">'+c("function"==typeof(i=e&&e.musicCount)?i.apply(e):i)+"</span>"}),r),data:r}))||0===o)&&(l+=o),l+='</a></li> <li><a class="photo-btn btn-gray" href="#">'+c(a(i("d8WC")).call(t,"Photo",{hash:{},data:r})),((o=n.if.call(t,t&&t.photoCount,{hash:{},inverse:this.noop,fn:this.program(7,(function(e,t){var i,n="";return n+='<span class="badge">'+c("function"==typeof(i=e&&e.photoCount)?i.apply(e):i)+"</span>"}),r),data:r}))||0===o)&&(l+=o),l+="</a></li> </ul> <h2>"+c(a(i("d8WC")).call(t,"Plugins",{hash:{},data:r}))+"</h2> ",((o=n.unless.call(t,t&&t.hasInstalledChannels,{hash:{},inverse:this.noop,fn:this.program(9,(function(e,t){var n="";return n+=' <p style="padding:20px">'+c(a(i("d8WC")).call(e,"No plugins installed.",{hash:{},data:t}))+"</p> "}),r),data:r}))||0===o)&&(l+=o),l+=' <div class="channels-container"></div> '}))},"/lm6":function(e,t,i){var n=i("3O+N");e.exports=(n.default||n).template((function(e,t,n,a,s){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),s=s||{};var r,o="";return o+='<div class="row-padded"> <h4 class="text-muted text-center">'+(0,this.escapeExpression)((r=i("d8WC"),r&&(r.__esModule?r.default:r)).call(t,"No devices found",{hash:{},data:s}))+"</h4> </div> "}))},"/oUX":function(e,t,i){"use strict";i.d(t,"e",(function(){return j})),i.d(t,"j",(function(){return w})),i.d(t,"d",(function(){return T})),i.d(t,"c",(function(){return E})),i.d(t,"h",(function(){return N})),i.d(t,"g",(function(){return x})),i.d(t,"i",(function(){return A})),i.d(t,"a",(function(){return L})),i.d(t,"b",(function(){return k})),i.d(t,"f",(function(){return R})),i.d(t,"p",(function(){return z})),i.d(t,"t",(function(){return U})),i.d(t,"o",(function(){return V})),i.d(t,"n",(function(){return B})),i.d(t,"r",(function(){return F})),i.d(t,"q",(function(){return H})),i.d(t,"s",(function(){return _})),i.d(t,"k",(function(){return W})),i.d(t,"l",(function(){return Q})),i.d(t,"m",(function(){return G}));var n=i("EVdn"),a=i.n(n),s=i("ICb1"),r=i("+X4A"),o=i("cgRT"),l=(i("slDQ"),i("NCaO")),c=i("YINS"),d=i("bcER"),u=i("T0/d");function p(e,t){const{mediaIndex:i,streamTypeString:n,streamID:s,allParts:p,allowMetrics:h,metricsProperties:m={},updateLocalOnly:g=!1}=t,v=d.a.get(n),y=e.provider,f=e.get("Media");let b,I;for(let e=0,t=f.length;e<t;e++){if(i>=0&&i!==e)continue;const t=f[e],n=t.Part;for(let e=0,i=n.length;e<i;e++){const i=n[e],a=i.Stream;for(let e=0,n=a.length;e<n;e++){const n=a[e];if(n.streamType===v.id&&n.id===s){b=t,I=i;break}}if(I)break}if(I)break}if(!I)return a.a.Deferred().reject().promise();const S={[v.key]:s};p&&(S.allParts=1);const C=function(e,t,i,n,a){const s=Object.assign({},i,{Stream:i.Stream.map(e=>e.streamType!==n.id?e:e.id!==a||e.selected?e.id!==a&&e.selected?Object.assign({},e,{selected:!1}):e:Object.assign({},e,{selected:!0}))}),r=Object.assign({},t,{Part:Object(l.a)(t.Part,i,s)});return Object(l.a)(e,t,r)}(f,b,I,v,s);if(e.set({Media:C,isStreamChangeInProgress:!g}),g)return a.a.Deferred().resolve().promise();const M=I.key.match(new RegExp("^(.*/parts/"+I.id+")/")),D=r.join(M?M[1]:["/library/parts",I.id],S),P=y.getXHROptions(D,{type:"PUT",scope:"selectMetadataItemStream--"+I.id});u.a.abortAll(P.scope);const O=a.a.ajax(P).done(()=>{e.set("isStreamChangeInProgress",!1),e.fetch({usePopulatedParams:!0})}).fail(t=>{if(t.aborting)return;const i={isStreamChangeInProgress:!1};e.get("Media")===C&&(i.Media=f),e.set(i)});return h&&Object(o.c)("metrics").trackClick(Object.assign({},m,{action:c.db,type:e.get("type"),context:n})),O.promise()}var h=i("INWF"),m=i("+fvj"),g=i("iZkF"),v=i("blH+"),y=i("Vk9Z"),f=i("gnaf"),b=i("Xh8s"),I=i("WfN5"),S=i("7za+"),C=i("hPIe"),M=i("1Lwt"),D=i("66GW"),P=i("rXDx"),O=i("z8ZC");const j="metadata/selectMetadataItemStream",w="metadata/updateMetadataItemFollowMute",T="metadata/repopulateMetadataItem",E="metadata/removeMetadataItem",N="metadata/toggleMetadataItemSave",x="metadata/toggleMetadataItemPlexPick",A="metadata/toggleMetadataItemWatchlist",L="metadata/addMetadataItemToLibrary",k="metadata/deleteMetadataItemStream",R="metadata/setMetadataItemStreamOffset",z=Object(s.a)(j),U=Object(s.a)(w),V=Object(s.a)(T),B=Object(s.a)(E),F=Object(s.a)(N),H=Object(s.a)(x),_=Object(s.a)(A),W=Object(s.a)(L),Q=Object(s.a)(k),G=(Object(s.a)(R),{[T](e,t){const i=Object(C.r)(e,t);i&&i.fetch({data:{skipRefresh:1},usePopulatedParams:!0})},[E](e,t){const i=Object(C.r)(e,t);i&&i.trigger("destroy",i,i.collection)},[j](e,t,i){const{mediaIndex:n,streamTypeString:a,streamID:s,allParts:r,metricsPage:o,updateLocalOnly:l}=t;p(Object(C.f)(e,t),{mediaIndex:n,streamTypeString:a,streamID:s,allParts:r,allowMetrics:!!o,metricsProperties:{page:o},updateLocalOnly:l}).fail(e=>{e&&e.aborting||i(Object(h.d)(Object(D.default)("There was a problem selecting this stream.")))})},[w](e,t){const{ratingKey:i,actionID:n,tagElement:s,value:d}=t,u=Object(C.j)(e,t),p=Object(C.f)(e,t);let h;const m=p.get(s),g=m.find(e=>e.ratingKey===i),f=Object.assign({},g);n===v.c&&(f.followed=d,f.muted=d&&g.muted?!g.muted:g.muted,h=c.A),n===v.d&&(f.muted=d,f.followed=d&&g.followed?!g.followed:g.followed,h=c.H);const b=Object(l.a)(m,g,f),I=u.get("features").get(y.b).get("actions").get(n),S=d?I.get("key"):I.get("reverseKey"),M=r.join(S,{ratingKey:i});p.set(s,b);const D=u.getXHROptions(M,{type:"PUT"});a.a.ajax(D).then(null,()=>{p.set(s,m)}),function(e,t,i,n={}){i&&Object(o.c)("metrics").trackClick(Object.assign({page:i,action:e,type:t.get("type")},n))}(h,p,t.metricsPage,{identifier:u.get("metricsIdentifier"),context:g.tag,value:d})},[N](e,t,i){const n=Object(C.f)(e,t),s=Object(C.j)(e,{providerEntityID:n.get("providerEntityID")}),o=s.get("identifier"),l=f.k(o,f.f);let c=n.get("ratingKey");const d=n.get("grandparentRatingKey");let u;if(d&&!l){c=d;const i=n.get("grandparentKey");if(i){const n=Object(I.a)(S.g,i,t.serverEntityID);u=Object(C.r)(e,{metadataItemEntityID:n})}}const p=n.get("saved"),m=!p;n.set("saved",m),u&&u.set("saved",m);const g=s.get("features").get(y.b).get("actions").get("save"),v=m?g.get("key"):g.get("reverseKey"),b=r.join(v,{ratingKey:c}),M=s.getXHROptions(b,{type:"PUT"});a.a.ajax(M).then(()=>{i(Object(h.c)({serverEntityID:t.serverEntityID}))},()=>{n.set("saved",p),u&&u.set("saved",p)})},[x](e,t,i){const n=Object(C.f)(e,t),s=Object(C.j)(e,{providerEntityID:n.get("providerEntityID")}),o=n.get("ratingKey"),l=n.get("picked"),c=!l;n.set("picked",c);const d=s.get("features").get(y.b).get("actions").get("pick"),u=c?d.get("key"):d.get("reverseKey"),p=r.join(u,{ratingKey:o}),m=s.getXHROptions(p,{type:"PUT"});a.a.ajax(m).then(()=>{i(V({metadataItemEntityID:t.metadataItemEntityID}))},e=>{const t=Object(b.a)(e.responseText);i(Object(h.d)(t.message)),n.set("picked",l)})},[A](e,t,i){const n=Object(C.f)(e,t),s=Object(C.j)(e,{providerEntityID:n.get("providerEntityID")}),o=n.get("ratingKey"),l=n.get("watchlistedAt"),c=l?void 0:Date.now();n.set("watchlistedAt",c);const d=s.get("features").get(y.b).get("actions").get("addToWatchlist"),u=c?d.get("key"):d.get("reverseKey"),p=r.join(u,{ratingKey:o}),v=s.getXHROptions(p,{type:"PUT"});a.a.ajax(v).then(()=>{t.metricsPage===g.rb&&t.metricsProperties.context.includes(m.LIBRARY)?i(Object(h.c)({serverEntityID:t.serverEntityID})):i(V({metadataItemEntityID:t.metadataItemEntityID}))},e=>{const t=Object(b.a)(e.responseText);i(Object(h.d)(t.message)),n.set("watchlistedAt",l)})},[L](e,t,i){const n=Object(C.f)(e,t),s=Object(C.m)(e,t),o=Object(C.j)(e,{providerEntityID:n.get("providerEntityID")}),l=t.sectionKey.match(/\/library\/sections\/(\w+)/)[1],c={providers:"provider://"+o.get("identifier"),prefs:{oneShot:1,remoteMedia:1},params:{libraryType:O.g.get(O.c).typeID},targetLibrarySectionID:l,hints:{guid:n.get("guid"),ratingKey:n.get("ratingKey"),title:n.get("title"),parentTitle:n.get("parentTitle")},type:Object(P.u)(n.get("type")).id},d=s.getXHROptions(r.join("/media/subscriptions",c),{type:"POST"});a.a.ajax(d)},[k](e,t,i){const{streamKey:n,metadataItemEntityID:s}=t,r=Object(C.f)(e,t);Object(M.a)(()=>{r.set("isStreamDeleteInProgress",!0)});const o=r.server.getXHROptions(n,{type:"DELETE"});a.a.ajax(o).then(()=>{r.set("isStreamDeleteInProgress",!1),i(V({metadataItemEntityID:s}))},e=>{r.set("isStreamDeleteInProgress",!1),i(Object(h.d)(Object(D.default)("There was a problem deleting this stream.")))})},[R](e,t,i){const{mediaIndex:n,streamTypeString:a,streamID:s,allParts:r,metricsPage:o,updateLocalOnly:l}=t;p(Object(C.f)(e,t),{mediaIndex:n,streamTypeString:a,streamID:s,allParts:r,allowMetrics:!!o,metricsProperties:{page:o},updateLocalOnly:l}).fail(e=>{e&&e.aborting||i(Object(h.d)(Object(D.default)("There was a problem selecting this stream.")))})}})},"/sof":function(e,t,i){e.exports={form:"DeviceChannelMappings-form-BhAiSq",channelMappingsBody:"DeviceChannelMappings-channelMappingsBody-1KPoxK ModalBody-modalBody--5uHSu",programGuideLabel:"DeviceChannelMappings-programGuideLabel-3tWK8z",programGuideSelectContainer:"DeviceChannelMappings-programGuideSelectContainer-1cpiV-",programGuideTitle:"DeviceChannelMappings-programGuideTitle-3xOjMS",centeredContainer:"DeviceChannelMappings-centeredContainer-3NaUqc",scroller:"DeviceChannelMappings-scroller-2_Aea6 Scroller-vertical-VScFLT",channelMappingsContainer:"DeviceChannelMappings-channelMappingsContainer-2gZaIv"}},"/vPP":function(e,t,i){(function(e){!function(e){"use strict";var t="[data-toggle=dropdown]",i=function(t){e(t).on("click.bs.dropdown",this.toggle)};function n(){e(".dropdown-backdrop").remove(),e(t).each((function(t){var i=a(e(this));i.hasClass("open")&&(i.trigger(t=e.Event("hide.bs.dropdown")),t.isDefaultPrevented()||i.removeClass("open").trigger("hidden.bs.dropdown"))}))}function a(t){var i=t.attr("data-target");i||(i=(i=t.attr("href"))&&/#/.test(i)&&i.replace(/.*(?=#[^\s]*$)/,""));var n=i&&e(i);return n&&n.length?n:t.parent()}i.prototype.toggle=function(t){var i=e(this);if(!i.is(".disabled, :disabled")){var s=a(i),r=s.hasClass("open");if(n(),!r){if("ontouchstart"in document.documentElement&&!s.closest(".navbar-nav").length&&e('<div class="dropdown-backdrop"/>').insertAfter(e(this)).on("click",n),s.trigger(t=e.Event("show.bs.dropdown")),t.isDefaultPrevented())return;s.toggleClass("open").trigger("shown.bs.dropdown"),i.focus()}return!1}},i.prototype.keydown=function(i){if(/(38|40|27)/.test(i.keyCode)){var n=e(this);if(i.preventDefault(),i.stopPropagation(),!n.is(".disabled, :disabled")){var s=a(n),r=s.hasClass("open");if(!r||r&&27==i.keyCode)return 27==i.which&&s.find(t).focus(),n.click();var o=e("[role=menu] li:not(.divider):visible a",s);if(o.length){var l=o.index(o.filter(":focus"));38==i.keyCode&&l>0&&l--,40==i.keyCode&&l<o.length-1&&l++,~l||(l=0),o.eq(l).focus()}}}};var s=e.fn.dropdown;e.fn.dropdown=function(t){return this.each((function(){var n=e(this),a=n.data("dropdown");a||n.data("dropdown",a=new i(this)),"string"==typeof t&&a[t].call(n)}))},e.fn.dropdown.Constructor=i,e.fn.dropdown.noConflict=function(){return e.fn.dropdown=s,this},e(document).on("click.bs.dropdown.data-api",n).on("click.bs.dropdown.data-api",".dropdown form",(function(e){e.stopPropagation()})).on("click.bs.dropdown.data-api",t,i.prototype.toggle).on("keydown.bs.dropdown.data-api",t+", [role=menu]",i.prototype.keydown)}(e)}).call(this,i("EVdn"))},"/z0O":function(e,t,i){e.exports={modalSubheader:"ModalSubheader-modalSubheader-1GEoo-"}},0:function(e,t,i){i("j36g"),e.exports=i("gZro")},"004c":function(e,t,i){e.exports={link:"ServerUpdatePage-link-1rdLzs",actionContainer:"ServerUpdatePage-actionContainer-1lWIGk EmptyPageDescription-description-DhEtaD",progressContainer:"ServerUpdatePage-progressContainer-Q2yIFr"}},"01sc":function(e,t){function i(e){for(var t=e.length,i=new Array(t),n=0;n<t;n++)i[n]=e.charCodeAt(n);return i}function n(e){for(var t="",i=0;i<e.length;i++)t+=SHA256_hexchars[e[i]>>4]+SHA256_hexchars[15&e[i]];return t}function a(){SHA256_H=new Array(1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225),SHA256_buf=new Array,SHA256_len=0}function s(e){SHA256_buf="string"==typeof e?SHA256_buf.concat(i(e)):SHA256_buf.concat(e);for(var t=0;t+64<=SHA256_buf.length;t+=64)g(SHA256_H,SHA256_buf.slice(t,t+64));SHA256_buf=SHA256_buf.slice(t),SHA256_len+=e.length}function r(){if(SHA256_buf[SHA256_buf.length]=128,SHA256_buf.length>56){for(var e=SHA256_buf.length;e<64;e++)SHA256_buf[e]=0;g(SHA256_H,SHA256_buf),SHA256_buf.length=0}for(e=SHA256_buf.length;e<59;e++)SHA256_buf[e]=0;SHA256_buf[59]=SHA256_len>>>29&255,SHA256_buf[60]=SHA256_len>>>21&255,SHA256_buf[61]=SHA256_len>>>13&255,SHA256_buf[62]=SHA256_len>>>5&255,SHA256_buf[63]=SHA256_len<<3&255,g(SHA256_H,SHA256_buf);var t=new Array(32);for(e=0;e<8;e++)t[4*e+0]=SHA256_H[e]>>>24,t[4*e+1]=SHA256_H[e]>>16&255,t[4*e+2]=SHA256_H[e]>>8&255,t[4*e+3]=255&SHA256_H[e];return SHA256_H=null,SHA256_buf=null,SHA256_len=null,t}function o(e){HMAC_SHA256_key="string"==typeof e?i(e):(new Array).concat(e),HMAC_SHA256_key.length>64&&(a(),s(HMAC_SHA256_key),HMAC_SHA256_key=r());for(var t=HMAC_SHA256_key.length;t<64;t++)HMAC_SHA256_key[t]=0;for(t=0;t<64;t++)HMAC_SHA256_key[t]^=54;a(),s(HMAC_SHA256_key)}function l(e){s(e)}function c(){for(var e=r(),t=0;t<64;t++)HMAC_SHA256_key[t]^=106;a(),s(HMAC_SHA256_key),s(e);for(t=0;t<64;t++)HMAC_SHA256_key[t]=0;return HMAC_SHA256_key=null,r()}function d(e){return(e>>>7|e<<25)^(e>>>18|e<<14)^e>>>3}function u(e){return(e>>>2|e<<30)^(e>>>13|e<<19)^(e>>>22|e<<10)}function p(e){return(e>>>6|e<<26)^(e>>>11|e<<21)^(e>>>25|e<<7)}function h(e,t,i){return i^e&(t^i)}function m(e,t,i){return e&t^i&(e^t)}function g(e,t){for(var i=new Array(16),n=0;n<16;n++)i[n]=t[4*n+0]<<24|t[4*n+1]<<16|t[4*n+2]<<8|t[4*n+3];!function(e,t){for(var i=16;i<64;i++)t[i]=4294967295&(((n=t[i-2])>>>17|n<<15)^(n>>>19|n<<13)^n>>>10)+t[i-7]+d(t[i-15])+t[i-16];var n,a=(new Array).concat(e);for(i=0;i<64;i++){var s=a[7]+p(a[4])+h(a[4],a[5],a[6])+SHA256_K[i]+t[i],r=u(a[0])+m(a[0],a[1],a[2]);a.pop(),a.unshift(s+r&4294967295),a[4]=a[4]+s&4294967295}for(i=0;i<8;i++)e[i]=e[i]+a[i]&4294967295}(e,i)}SHA256_hexchars=new Array("0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"),SHA256_K=new Array(1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298),e.exports={SHA256_hash:function(e){return a(),s(e),n(r())},HMAC_SHA256_init:o,HMAC_SHA256_write:l,HMAC_SHA256_finalize:c}},"056+":function(e,t,i){e.exports={img:"MetadataTitleAttributionLogo-img-1piMjP"}},"05C2":function(e,t,i){e.exports={version:"ReleaseNotesModal-version-2-RIQI",listTitle:"ReleaseNotesModal-listTitle-1aNZmv"}},"08AQ":function(e,t,i){e.exports={pageHeader:"UserSharingSettingsPage-pageHeader-2_t6mm PageHeader-pageHeader-2KNPGd",pageHeaderLeft:"UserSharingSettingsPage-pageHeaderLeft-1LP8mb PageHeaderLeft-pageHeaderLeft-12U4iA",pageHeaderRight:"UserSharingSettingsPage-pageHeaderRight-1DZxiG PageHeaderRight-pageHeaderRight-1dljwG",addToHomeIcon:"UserSharingSettingsPage-addToHomeIcon-1svaEG IconButton-button-9An-7I",avatar:"UserSharingSettingsPage-avatar-3ETJGK AvatarImg-avatar-3Op56u",username:"UserSharingSettingsPage-username-1NRe2Z",confirmMessageContainer:"UserSharingSettingsPage-confirmMessageContainer-1QeAb9",confirmWarning:"UserSharingSettingsPage-confirmWarning-1JuBcJ",confirmMessage:"UserSharingSettingsPage-confirmMessage-10AdiR"}},"08Kf":function(e,t,i){var n=i("3O+N");e.exports=(n.default||n).template((function(e,t,n,a,s){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),s=s||{};var r,o,l="",c=this.escapeExpression;return l+='<div class="card-actions"> <button class="info-btn card-action-btn"><i class="glyphicon circle-info"></i></button> <button class="settings-btn card-action-btn"><i class="glyphicon cogwheel"></i></button> </div> <div class="card-handle"><i class="glyphicon show-lines"></i></div> <label for="'+c("function"==typeof(r=t&&t.identifier)?r.apply(t):r)+'"> <input id="'+c("function"==typeof(r=t&&t.identifier)?r.apply(t):r)+'" name="'+c("function"==typeof(r=t&&t.identifier)?r.apply(t):r)+'" type="checkbox" ',((r=n.if.call(t,t&&t.enabled,{hash:{},inverse:this.noop,fn:this.program(1,(function(e,t){return"checked"}),s),data:s}))||0===r)&&(l+=r),l+=" ",((r=n.if.call(t,t&&t.isPrimary,{hash:{},inverse:this.noop,fn:this.program(3,(function(e,t){return"disabled"}),s),data:s}))||0===r)&&(l+=r),l+="> "+c((o=i("d8WC"),o&&(o.__esModule?o.default:o)).call(t,t&&t.name,{hash:{},data:s}))+" </label> "}))},"0BwR":function(e,t,i){e.exports={bar:"AudioVideoFullPlayer-bar-dDYeoN",topBar:"AudioVideoFullPlayer-topBar-2XUGMf AudioVideoFullPlayer-bar-dDYeoN",bottomBar:"AudioVideoFullPlayer-bottomBar-2yixi6 AudioVideoFullPlayer-bar-dDYeoN",content:"AudioVideoFullPlayer-content-37T7O7",spinnerContainer:"AudioVideoFullPlayer-spinnerContainer-2_xo8f",overlayButton:"AudioVideoFullPlayer-overlayButton-30Vz4v Button-button-2kT68l Link-link-2n0yJn",videoTopBar:"AudioVideoFullPlayer-videoTopBar-3qWKu8",playQueueTopBar:"AudioVideoFullPlayer-playQueueTopBar-2CRTlW",topBarHidden:"AudioVideoFullPlayer-topBarHidden-24GZNA",bottomBarHidden:"AudioVideoFullPlayer-bottomBarHidden-3fSSwd"}},"0F0y":function(e,t,i){e.exports={container:"SubtitlesOffsetSettings-container-2qSmYo AudioVideoStripeContainer-container-MI02OU",closeButton:"SubtitlesOffsetSettings-closeButton-2WdGs9 Link-link-2n0yJn",title:"SubtitlesOffsetSettings-title-2G4Dw8",buttonContainer:"SubtitlesOffsetSettings-buttonContainer-29XRne",button:"SubtitlesOffsetSettings-button-17oZz6 Button-button-2kT68l Link-link-2n0yJn"}},"0L0C":function(e,t,i){"use strict";i.r(t);var n=i("B69o"),a=i("CHn6"),s=i("mOXR");var r=a.a.extend({name:"ProviderCountryModel",context:["server","provider"],idAttribute:"code",rootPropertyName:"Country",syncedAttrs:{code:s.a.string,title:s.a.string,postalCodeFormat:s.a.string,flavor:s.a.string}}),o=i("Vk9Z");var l=n.a.extend({name:"ProviderCountryCollection",context:["server","provider"],url(){return this.provider.get("features").findWhere({type:o.g}).get("key")+"/countries"},model:r}),c=i("XHow"),d=i("oQeb"),u=i("o2p+");var p=n.a.extend({name:"ProviderEPGChannelCollection",context:["server","provider"],model:d.a,url(){return this.provider.get("features").get(o.p).get("settings").get(u.d).get("key")}});var h=a.a.extend({name:"ProviderSettingOptionsModel",context:["server","provider"],idAttribute:"key",rootPropertyName:"Directory",syncedAttrs:{key:s.a.string,title:s.a.string,type:s.a.string,selected:s.a.boolean}});var m=n.a.extend({name:"ProviderSettingOptionsCollection",context:["server","provider"],model:h}),g=i("FIl5");const v={int:g.a.parseInteger,bool:g.a.parseBoolean,double:g.a.parseFloat};var y=a.a.extend({name:"ProviderSettingModel",context:["server","provider"],rootPropertyName:"Setting",url(){return this.get("key")},sessionAttrs:{isOptionsPending:s.a.boolean,isOptionsPopulated:s.a.boolean,optionsError:s.a.object,isLocationsPending:s.a.boolean,isLocationsPopulated:s.a.boolean,locationsError:s.a.object,isLineupPending:s.a.boolean,isLineupPopulated:s.a.boolean,lineupError:s.a.object,isRecentChannelsInGridPending:s.a.boolean,isRecentChannelsInGridPopulated:s.a.boolean,recentChannelsInGridError:s.a.object},syncedAttrs:{country:s.a.string,countryLabel:s.a.string,hidden:s.a.boolean,id:s.a.string,key:s.a.string,label:s.a.string,multiselect:s.a.boolean,postalCode:s.a.string,required:s.a.boolean,selectedCount:s.a.integer,summary:s.a.string,type:s.a.string,value:s.a.oneOfType(s.a.string,s.a.boolean,s.a.float),min:s.a.float,max:s.a.float,step:s.a.float,enumValues:s.a.string,default:s.a.string},sessionRelations:{locations:{relationClass:l},lineup:{relationClass:c.a},recentChannelsInGrid:{relationClass:p}},syncedRelations:{settings:()=>({relationClass:i("0L0C").default,rootPropertyName:"Setting",deferred:!0}),options:{relationClass:m,options:e=>({url:e.key})}},defaults:{isOptionsPending:!0,isOptionsPopulated:!1,optionsError:null,isLocationsPending:!0,isLocationsPopulated:!1,locationsError:null,isLineupPending:!0,isLineupPopulated:!1,lineupError:null},augmentResponse(e){const t=v[e.type];return t&&(e.value=t(e.value)),e}});const f=n.a.extend({name:"ProviderSettingCollection",context:["server","provider"],url:"/settings",model:y});t.default=f},"0PCw":function(e,t,i){e.exports={container:"PhotoHubList-container-1-l_qP",title:"PhotoHubList-title-1lMNLT",list:"PhotoHubList-list-3GW3Uv"}},"0UmJ":function(e,t,i){e.exports={form:"ShareLibraries-form-3J6P_v",modalBody:"ShareLibraries-modalBody-k4aMxH ModalBody-modalBody--5uHSu",message:"ShareLibraries-message-5od7pI",spinnerContainer:"ShareLibraries-spinnerContainer-3bRhzE",scroller:"ShareLibraries-scroller-2lozQG Scroller-vertical-VScFLT",modalFooter:"ShareLibraries-modalFooter-1fcHCz ModalFooter-modalFooter-30WIB5"}},"0csW":function(e,t,i){e.exports={tertiaryTitle:"PrePlayTertiaryTitle-tertiaryTitle-1LwUaC"}},"0dFH":function(e,t,i){e.exports={item:"MetadataTableRow-item-11DH-Z",isActionsMenuOpen:"MetadataTableRow-isActionsMenuOpen-3yasOW",transientTitle:"MetadataTableRow-transientTitle-3nwhoL",button:"MetadataTableRow-button-1Y7ax9",hasActiveSelection:"MetadataTableRow-hasActiveSelection-3A2BEJ",underlay:"MetadataTableRow-underlay-2ipZbj",isForcingSelection:"MetadataTableRow-isForcingSelection-t_XFIx",overlay:"MetadataTableRow-overlay-1RiIdu",transientTitleLeft:"MetadataTableRow-transientTitleLeft-19Y6Pd MetadataTableRow-transientTitle-3nwhoL",transientTitleRight:"MetadataTableRow-transientTitleRight-3JGw3f MetadataTableRow-transientTitle-3nwhoL",playButton:"MetadataTableRow-playButton-3bNBC0 PlayButton-playButton-3WX8X- MetadataTableRow-button-1Y7ax9",editButton:"MetadataTableRow-editButton-1hH1w0 MetadataTableRow-button-1Y7ax9",moreButton:"MetadataTableRow-moreButton-2YKSy8 MetadataTableRow-button-1Y7ax9",downloadIcon:"MetadataTableRow-downloadIcon-2BopYh",isSelected:"MetadataTableRow-isSelected-bNqXlr",selectButton:"MetadataTableRow-selectButton-11Ia99 SelectButton-selectButton-3Kbjm9 MetadataTableRow-button-1Y7ax9",alternateItem:"MetadataTableRow-alternateItem-1-jtpL MetadataTableRow-item-11DH-Z",playCell:"MetadataTableRow-playCell-ziDSkt",actionsCell:"MetadataTableRow-actionsCell-1ax6EZ",libraryActionsCell:"MetadataTableRow-libraryActionsCell-2OOmPb MetadataTableRow-actionsCell-1ax6EZ",transientTitleRightText:"MetadataTableRow-transientTitleRightText-25yD3X",selectCoverButton:"MetadataTableRow-selectCoverButton-3SFDJL",equalizer:"MetadataTableRow-equalizer-35cH_6 EqualizerIcon-equalizer-2SoFA6"}},"0jae":function(e,t,i){"use strict";var n=i("rG0a");const a={accessToken:1,address:1,auth_token:1,authToken:1,Authorization:1,clientIdentifier:1,email:1,host:1,myPlexAccessToken:1,password:1,uri:1,"X-Plex-Token":1},s=new RegExp("("+Object.keys(a).join("|")+")(\\s?=\\s?)(['\"]?)[^'\"\n]+(['\"]?)","g"),r=/%[sdifo]/g,o=/(error|exception)\]$/i,l={"%s":e=>e,"%d":e=>Number.parseInt(e,10),"%f":e=>Number.parseFloat(e),"%o":e=>e},c=(e,t,i)=>function(){let a;const s=arguments.length;let o;if(t=void 0===t?d.LEVEL_LOG:t,!(d.level<t)){if(0===s&&i)o=i;else if(1===s)o=d.serialize(arguments[0]);else if(s>1){const e=Array(s);let t=-1;for(;++t<s;)e[t]=d.serialize(arguments[t]);e[0]=e[0].replace(r,(t,i)=>{let n=t;return e.length>1&&(n=l[t](e[1]),e.splice(1,1)),n}),o=e.join(" ")}return!o||a&&!a.test(o)||n.a.trigger(e,{type:e,level:t,message:o}),o}},d=c("log:message");d.LEVEL_NONE=-1,d.LEVEL_ERROR=0,d.LEVEL_WARN=1,d.LEVEL_INFO=2,d.LEVEL_DEBUG=3,d.LEVEL_LOG=4,d.LEVEL_GROUP=d.LEVEL_INFO,d.LEVEL_GROUP_END=d.LEVEL_INFO,d.level=d.LEVEL_LOG,d.redacts=!0,d.setLevel=e=>{d.level=Math.max(d.LEVEL_NONE,Math.min(e,d.LEVEL_LOG))},d.debug=c("log:message",d.LEVEL_DEBUG),d.info=c("log:message",d.LEVEL_INFO),d.warn=c("log:message",d.LEVEL_WARN),d.error=c("log:message",d.LEVEL_ERROR),d.group=c("log:group",d.LEVEL_GROUP,"Group"),d.groupCollapsed=c("log:groupCollapsed",d.LEVEL_GROUP,"Group"),d.groupEnd=()=>{d.level<d.LEVEL_GROUP_END||n.a.trigger("log:groupEnd",{type:"log:groupEnd",level:d.LEVEL_GROUP_END})},d.serialize=e=>{let t;switch(t=void 0===e?"[object Undefined]":null===e?"[object Null]":Object.prototype.toString.call(e),t){case"[object String]":return d.redacts?e.replace(s,"$1$2$3REDACTED$4"):e;case"[object Object]":case"[object Array]":try{const t=d.redacts?d._jsonReplacer:null;return JSON.stringify(e,t,2)}catch(e){return"Unable to serialize value"}case"[object Boolean]":case"[object Number]":case"[object Function]":case"[object RegExp]":return e.toString();case"[object Date]":return e.toUTCString();case"[object Undefined]":return"undefined";case"[object Null]":return"null";default:if(o.test(t)){const i=d._getMaxStackLength();let n=e.stacktrace||e.stack;return n&&n.length>i&&(n=n.substr(0,i-3)+"..."),d.serialize({type:t,stack:n,name:e.name,message:e.message})}return e.toString()}},d._jsonReplacer=(e,t)=>a[e]?"REDACTED":"[object String]"===Object.prototype.toString.call(t)?d.serialize(t):t,d._getMaxStackLength=()=>1e3,t.a=d},"0jcA":function(e,t,i){"use strict";i.d(t,"a",(function(){return a}));var n=i("mvw6");function a(e,t){return e===n.a?"provider://"+t:"server://"+e+"/"+t}},"0jfG":function(e,t,i){"use strict";var n=i("CHn6"),a=i("mOXR");const s={ASCENDING:"asc",DESCENDING:"desc"},r=n.a.extend({name:"SortModel",context:["server","section"],idAttribute:"key",rootPropertyName:"Directory",sessionAttrs:{selected:a.a.boolean,direction:a.a.string},syncedAttrs:{key:a.a.string,descKey:a.a.string,title:a.a.string,isDefault:a.a.boolean,active:a.a.boolean,defaultDirection:a.a.string,activeDirection:a.a.string,firstCharacterKey:a.a.string},defaults:{selected:!1},augmentResponse:e=>(e.defaultDirection||(e.defaultDirection=e.default||s.ASCENDING),e.isDefault=!!e.default,e.direction||(e.direction=e.defaultDirection),e),reverseSortDirection(){let e=this.get("direction")||this.get("defaultDirection");e=e&&e!==s.ASCENDING?s.ASCENDING:s.DESCENDING,this.set("direction",e)}},{directions:s});t.a=r},"0nIg":function(e,t,i){e.exports={message:"MediaSubscriptionConflict-message-1ZbxOs",conflicts:"MediaSubscriptionConflict-conflicts-3hyQu1"}},"0vaO":function(e,t,i){e.exports={container:"AudioVideoInfoBar-container-2ewFys"}},"0vpL":function(e,t,i){var n=i("3O+N");e.exports=(n.default||n).template((function(e,t,i,n,a){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),a=a||{};var s,r="";return r+=(0,this.escapeExpression)((s=i.file)||"function"==typeof(s=t&&t.file)?s.call(t,{hash:{},data:a}):s)+" "}))},"0yYQ":function(e,t,i){e.exports={card:"SpotlightHubCard-card-1AOdpG",hoveredCard:"SpotlightHubCard-hoveredCard-10pILW SpotlightHubCard-card-1AOdpG",link:"SpotlightHubCard-link-12D2UP",colorGradient:"SpotlightHubCard-colorGradient-15MdVv",image:"SpotlightHubCard-image-2I5NNC",attributionLogo:"SpotlightHubCard-attributionLogo-1DxMMZ",copyOverlay:"SpotlightHubCard-copyOverlay-2N3ohA",title:"SpotlightHubCard-title-OWpvwQ",summary:"SpotlightHubCard-summary-1YDpIt",action:"SpotlightHubCard-action-2Of1Cj"}},"17s9":function(e,t,i){e.exports={photoContainer:"MetadataPhotoCell-photoContainer-1HkmQE",photo:"MetadataPhotoCell-photo-Po3Kxh",image:"MetadataPhotoCell-image-3KqaFc",badge:"MetadataPhotoCell-badge-2L0KJM",title:"MetadataPhotoCell-title-OzhEqa"}},"1B0D":function(e,t,i){e.exports={unwatchedCircle:"MetadataTitleMiniProgress-unwatchedCircle-235-SR MetadataTitleProgress-unwatchedCircle-25KKnh",isPartiallyWatched:"MetadataTitleMiniProgress-isPartiallyWatched-19Hrxr",small:"MetadataTitleMiniProgress-small-1fCcoZ",medium:"MetadataTitleMiniProgress-medium-xU97R-"}},"1Cr9":function(e,t,i){"use strict";i.d(t,"a",(function(){return o}));var n=i("F/us"),a=i.n(n),s=i("0jae");function r(e){const t=a.a.clone(e);return t.hasOwnProperty("title")?(t.title=a.a.result(t,"title"),t.hasOwnProperty("shortTitle")&&(t.shortTitle=a.a.result(t,"shortTitle")),t.hasOwnProperty("plural")&&(t.plural=a.a.result(t,"plural")),t):t}function o(e,t){const i={};return e.forEach(e=>{i[e]=t.reduceRight((t,i)=>{const n=i[e];return null!=n&&(t[n]=i),t},{})}),{contains:function(e){for(const t in i)if(i[t][e])return!0;return!1},get:function(e){for(const t in i){const n=i[t][e];if(n)return r(n)}s.a.warn("No type was found for "+e)},getAll:function(){return t.map(r)}}}},"1GD4":function(e,t,i){e.exports={toolbarButton:"ToolbarButton-toolbarButton-2i2nnD",bottomLeft:"ToolbarButton-bottomLeft-3shLl3 Tooltip-bottomLeft-2fPtVW Tooltip-tooltip-9TKmAQ Tooltip-tooltipArrow-3GUCry Tooltip-tooltipTopArrow-NjH0DX Tooltip-tooltipLeftAlignArrow-NweCLw",bottomCenter:"ToolbarButton-bottomCenter-1rHc9f Tooltip-bottomCenter-2yj43D Tooltip-tooltip-9TKmAQ Tooltip-tooltipArrow-3GUCry Tooltip-tooltipTopArrow-NjH0DX Tooltip-tooltipCenterAlignArrow-35uHtY",bottomRight:"ToolbarButton-bottomRight-3evr63 Tooltip-bottomRight-T6_Ik3 Tooltip-tooltip-9TKmAQ Tooltip-tooltipArrow-3GUCry Tooltip-tooltipTopArrow-NjH0DX Tooltip-tooltipRightAlignArrow-1ETgza",hasFocus:"ToolbarButton-hasFocus-1rnm1X"}},"1H5i":function(e,t,i){e.exports={title:"QuickSearchTitle-title-2ApAOM",isSecondary:"QuickSearchTitle-isSecondary-mxETFa"}},"1Lwt":function(e,t,i){"use strict";i.d(t,"a",(function(){return y})),i.d(t,"b",(function(){return f}));var n=i("slDQ"),a=i("0jae");const s=[];let r,o,l,c=!1,d=!1,u=1e3/60,p=1e3/60;function h(){r&&(r=window.clearTimeout(r))}function m(){o&&(o=window.clearTimeout(o))}function g(){const e=l;if(l=null,m(),!e)return;e()}function v(){h(),m();const e=window.performance.now();let t;for(d=!0;s.length&&(!t||t-e<u);)s.pop()(),t=window.performance.now();d=!1,s.length?(a.a.warn("[State] Unable to process all updates within budget; %s update(s) remaining",s.length),r=window.setTimeout(v,p)):l&&(o=window.setTimeout(g,p))}function y(e){for(h(),m(),d=!0,c=!0;s.length;)s.pop()();if(e)try{e()}catch(e){Object(n.a)(!1,e.name+": "+e.message)}l&&g(),d=!1,c=!1}function f(e,t){if(t.isStateTreeRoot)return l=e,void(d||o||(o=window.setTimeout(g,p)));c?e():(m(),s[0]!==e&&s.unshift(e),d||r||(r=window.setTimeout(v,p)))}},"1MJM":function(e,t,i){e.exports={sectionWrapper:"SettingsFormSection-sectionWrapper-1-gPgj",section:"SettingsFormSection-section-1zYMPA"}},"1PeT":function(e,t,i){e.exports={calendarDays:"CalendarDays-calendarDays-2ORCec"}},"1Y+X":function(e,t,i){e.exports={group:"PrePlayDetailsGroup-group-eTtxmW"}},"1bIl":function(e,t,i){e.exports={titleContainer:"PlayHistoryTableTitle-titleContainer-vtURK5",title:"PlayHistoryTableTitle-title-2Q3T6W"}},"1cAJ":function(e,t,i){e.exports={listContainer:"DatePickerMenu-listContainer-2IYmJe",list:"DatePickerMenu-list-3YRaAd",showTimeOptions:"DatePickerMenu-showTimeOptions-2OWJ97"}},"1d8V":function(e,t,i){e.exports={container:"NavBar-container-1T0BJz",side:"NavBar-side-2kZrHV",button:"NavBar-button-diriIs NavBarIconButton-button-eR0v0j IconButton-button-9An-7I",buttonSeparator:"NavBar-buttonSeparator-1ZbV4v",accountButton:"NavBar-accountButton-3EEZiM NavBarAccountButton-button-1Y4ek6 DisclosureArrowButton-disclosureArrowButton-11LSbY Link-link-2n0yJn",plexLogo:"NavBar-plexLogo-3_NNRw NavBarIconButton-button-eR0v0j IconButton-button-9An-7I",left:"NavBar-left-2SrTGf NavBar-side-2kZrHV",right:"NavBar-right-2ZzDEY NavBar-side-2kZrHV"}},"1eVT":function(e,t,i){e.exports={pane:"RecordingPriorityPane-pane-3fYq2e",paneHeader:"RecordingPriorityPane-paneHeader-3h_Eju",paneScroller:"RecordingPriorityPane-paneScroller-LJe-wd Scroller-vertical-VScFLT",error:"RecordingPriorityPane-error-OyjVka",empty:"RecordingPriorityPane-empty-1Ne_BI"}},"1ggG":function(e,t,i){e.exports={overlay:"MetadataSimpleDetailsRow-overlay-1vdQ-E",selectOverlay:"MetadataSimpleDetailsRow-selectOverlay-UXo7mR Link-link-2ew_DK",selectedListRow:"MetadataSimpleDetailsRow-selectedListRow-3KOauR ListRow-row-1sqnTj",rangeListRow:"MetadataSimpleDetailsRow-rangeListRow-qegZRS ListRow-row-1sqnTj",simpleSummaryContainer:"MetadataSimpleDetailsRow-simpleSummaryContainer-De19Kf",indexPlayContainer:"MetadataSimpleDetailsRow-indexPlayContainer-32WyP0",titleEpisodeIndex:"MetadataSimpleDetailsRow-titleEpisodeIndex-P5PAQd",playButtonContainer:"MetadataSimpleDetailsRow-playButtonContainer-3GP1po",titleAndSummaryContainer:"MetadataSimpleDetailsRow-titleAndSummaryContainer-3KgWzN",titleContainer:"MetadataSimpleDetailsRow-titleContainer-3ufYfy",title:"MetadataSimpleDetailsRow-title-1SWzlV",summary:"MetadataSimpleDetailsRow-summary-gJpGwv",actions:"MetadataSimpleDetailsRow-actions-_75f1s"}},"1iMN":function(e,t,i){"use strict";i.d(t,"a",(function(){return a}));var n=i("2eFc");function a(e,t,i){const a=e.get("previousOpenState");let s=e.get("openState");return a&&!t?s=a:a&&t&&(s=void 0),Object.assign({previousOpenState:s,openState:a&&t?a:n.a},i)}},"1iSi":function(e,t,i){e.exports={container:"ChannelsGridRowTitle-container-2k8lvi",numberContainer:"ChannelsGridRowTitle-numberContainer-1NXm94",thumbnailContainer:"ChannelsGridRowTitle-thumbnailContainer-3ThS3l",fullWidth:"ChannelsGridRowTitle-fullWidth-A2VyVQ",icon:"ChannelsGridRowTitle-icon-2JYIKp",isRecent:"ChannelsGridRowTitle-isRecent-2IcEK0",thumbnail:"ChannelsGridRowTitle-thumbnail-1At_s8",channelCallSignText:"ChannelsGridRowTitle-channelCallSignText-3ehTII",playButton:"ChannelsGridRowTitle-playButton-1Dp3VH PlayButton-playButton-3WX8X-",fullWidthPlayButton:"ChannelsGridRowTitle-fullWidthPlayButton-3QR62j ChannelsGridRowTitle-playButton-1Dp3VH PlayButton-playButton-3WX8X-"}},"1jyh":function(e,t,i){e.exports={container:"RomPlayerView-container-2TVpJ7"}},"1kJW":function(e,t,i){e.exports={container:"TopUsersList-container-ZYnoYW ServerDashboardSectionContent-container-3rMPaP",listContainer:"TopUsersList-listContainer-Jb_srZ VirtualListScroller-scroller-QdPYA9 Scroller-scroller-CQJq74"}},"1n32":function(e,t,i){e.exports={fullPlayerContainer:"Player-fullPlayerContainer-1-HN7X",fullPlayerContainerBackground:"Player-fullPlayerContainerBackground-1rsLDv",miniPlayerContainer:"Player-miniPlayerContainer-3S8L9e",adPlayerDisplayIndexContainer:"Player-adPlayerDisplayIndexContainer-20jYOx"}},"1pRg":function(e,t,i){e.exports={innerContent:"PrePlayMetadataInnerContent-innerContent-1BPzwp"}},"1vuw":function(e,t,i){e.exports={tagsListLink:"PrePlayTagList-tagsListLink-Z6lfXW Link-link-2n0yJn"}},"1xdZ":function(e,t,i){e.exports={fullPlayer:"PhotoFullPlayer-fullPlayer-zjtdRE",player:"PhotoFullPlayer-player-3kRDPi",main:"PhotoFullPlayer-main-1eD7_P",mainFooter:"PhotoFullPlayer-mainFooter-2n5Rrx",content:"PhotoFullPlayer-content-28yAom",spinner:"PhotoFullPlayer-spinner-2SO2v5",bar:"PhotoFullPlayer-bar-2WMUPU",bottomBar:"PhotoFullPlayer-bottomBar-2pmIfL PhotoFullPlayer-bar-2WMUPU",seekBar:"PhotoFullPlayer-seekBar-3H_XhU SeekBar-seekBar-2UK3iX Slider-slider-2oLVTs",aside:"PhotoFullPlayer-aside-WshsFY",hideControls:"PhotoFullPlayer-hideControls-1nwReo",controls:"PhotoFullPlayer-controls-1-Z6KS",dockControls:"PhotoFullPlayer-dockControls-e5lzCQ"}},"21aO":function(e,t,i){var n=i("3O+N");e.exports=(n.default||n).template((function(e,t,n,a,s){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),s=s||{};var r,o,l="",c=this.escapeExpression;return l+='<div class="row disc-number hidden"> '+c((o=i("d8WC"),o&&(o.__esModule?o.default:o)).call(t,"Disc {1}",t&&t.escapedParentIndex,{hash:{},data:s}))+' </div> <div class="row striped-list-inner-item"> <span class="col-xs-1 match-index"> '+c("function"==typeof(r=t&&t.index)?r.apply(t):r)+'. </span> <span class="col-xs-11 match-track-name ',((r=n.unless.call(t,t&&t.matched,{hash:{},inverse:this.noop,fn:this.program(1,(function(e,t){return"missing"}),s),data:s}))||0===r)&&(l+=r),l+='"> '+c("function"==typeof(r=t&&t.name)?r.apply(t):r)+" </span> </div> "}))},"21iP":function(e,t,i){e.exports={menuPortal:"Menu-menuPortal-AbMPTD",menuScroller:"Menu-menuScroller-1TF6oW Scroller-vertical-VScFLT",menu:"Menu-menu-3XnN6J",isDisabled:"Menu-isDisabled-34uAXf",small:"Menu-small-3l53QV",medium:"Menu-medium-2qYxsO",large:"Menu-large--60wbS"}},"26nm":function(e,t,i){e.exports={spinnerContainer:"PrePlayRelatedHubsList-spinnerContainer-2Q9a5q"}},"2DfW":function(e,t,i){"use strict";i.r(t),t.default=function(e,t,i){if(!e)return"";if(e.length>t){const n=t-3-(i=i||Math.floor((t-3)/2));return e.substr(0,i)+"..."+e.substr(e.length-n)}return e}},"2OOI":function(e,t,i){e.exports={container:"LibraryFilterBuilder-container-1ep_xx",loadingContainer:"LibraryFilterBuilder-loadingContainer-c77MeP LibraryFilterBuilder-container-1ep_xx",footer:"LibraryFilterBuilder-footer-3W2q0T",settings:"LibraryFilterBuilder-settings-okmbXJ",checkInput:"LibraryFilterBuilder-checkInput-B0ck9X InlineInputGroupFormLabel-label-3jkhB9 FormLabel-label-2aLJ9b",numberInput:"LibraryFilterBuilder-numberInput-1vwc6F InlineNumberInputGroup-input-uLbRbq TextInput-input-1VMuma input-input-1P2Vi4",buttons:"LibraryFilterBuilder-buttons-3PEDFO",error:"LibraryFilterBuilder-error-3XiwBp",button:"LibraryFilterBuilder-button-36Leqv Button-button-2kT68l Link-link-2n0yJn",saveButton:"LibraryFilterBuilder-saveButton-3cT3i4 SplitButton-button-1B9GD_"}},"2TYq":function(e,t,i){"use strict";var n=i("B69o"),a=i("CHn6"),s=i("mOXR");var r=a.a.extend({name:"OperatorModel",context:["server"],idAttribute:"key",rootPropertyName:"Operator",syncedAttrs:{key:s.a.string,title:s.a.string}});var o=n.a.extend({name:"OperatorCollection",context:["server"],model:r});var l=a.a.extend({name:"MetadataFieldTypeModel",context:["server"],idAttribute:"type",rootPropertyName:"FieldType",syncedAttrs:{type:s.a.string.isRequired},syncedRelations:{operators:{relationClass:o,rootPropertyName:"Operator"}}});const c=n.a.extend({name:"MetadataTypeCollection",context:["server"],model:l});t.a=c},"2VzV":function(e,t,i){e.exports={cancelConfirmationMessage:"CancelRecordingConfirmation-cancelConfirmationMessage-3l-ktf"}},"2Xys":function(e,t,i){"use strict";t.a=function(e){return null==e||""===e?0:parseInt(e,10)}},"2ZL2":function(e,t,i){e.exports={infoContainer:"WebhookSettingsPageInfo-infoContainer-37YfYn"}},"2eFc":function(e,t,i){"use strict";i.d(t,"a",(function(){return n})),i.d(t,"b",(function(){return a}));const n="full",a="mini"},"2ewr":function(e,t,i){e.exports={button:"NavBarIconButton-button-eR0v0j IconButton-button-9An-7I",icon:"NavBarIconButton-icon-2gdVPu",alertIcon:"NavBarIconButton-alertIcon-2HPvE2",tooltip:"NavBarIconButton-tooltip-2RzDyR Tooltip-bottomCenter-2yj43D Tooltip-tooltip-9TKmAQ Tooltip-tooltipArrow-3GUCry Tooltip-tooltipTopArrow-NjH0DX Tooltip-tooltipCenterAlignArrow-35uHtY",tooltipTriggerHasFocus:"NavBarIconButton-tooltipTriggerHasFocus-347Sxg NavBarIconButton-tooltip-2RzDyR Tooltip-bottomCenter-2yj43D Tooltip-tooltip-9TKmAQ Tooltip-tooltipArrow-3GUCry Tooltip-tooltipTopArrow-NjH0DX Tooltip-tooltipCenterAlignArrow-35uHtY"}},"2ifn":function(e,t,i){"use strict";i.d(t,"c",(function(){return n})),i.d(t,"d",(function(){return a})),i.d(t,"b",(function(){return s})),i.d(t,"h",(function(){return r})),i.d(t,"e",(function(){return o})),i.d(t,"f",(function(){return l})),i.d(t,"g",(function(){return c})),i.d(t,"i",(function(){return d})),i.d(t,"j",(function(){return u})),i.d(t,"a",(function(){return p}));const n="Plex Movie Scanner",a="Plex Music",s="Plex Movie",r="Plex TV Series",o="Plex Music Scanner",l="Plex Photo Scanner",c="Plex Premium Music Scanner",d="Plex Series Scanner",u="Plex Video Files Scanner",p="Plex Game"},"2kxp":function(e,t,i){e.exports={pageHeaderLeft:"PageHeaderLeft-pageHeaderLeft-12U4iA"}},"2sa7":function(e,t,i){e.exports={button:"IconButton-button-9An-7I",isDisabled:"IconButton-isDisabled-2Wi5UT",isActive:"IconButton-isActive-1_AJJ-",label:"IconButton-label-1cUJaL"}},"3+5O":function(e,t,i){e.exports={iframe:"DownloadFileMetadataActionMenuItem-iframe-2fm0lx"}},"3+Hb":function(e,t,i){e.exports={summaryContainer:"TopUsersCell-summaryContainer-35xDP9",playHistoryLink:"TopUsersCell-playHistoryLink-33RSfu Link-link-2ew_DK",avatar:"TopUsersCell-avatar-1EwhtA AvatarImg-avatar-3Op56u",summary:"TopUsersCell-summary-2q0pjV",row:"TopUsersCell-row-3BSOkQ",username:"TopUsersCell-username-2F0LkP TopUsersCell-row-3BSOkQ",metadataRow:"TopUsersCell-metadataRow-1sIxqD TopUsersCell-row-3BSOkQ",metadataTitle:"TopUsersCell-metadataTitle-1wzzTc",duration:"TopUsersCell-duration-38wAzG"}},"381m":function(e,t,i){e.exports={image:"MetadataDirectoryListItem-image-2GFrn8",titleContainer:"MetadataDirectoryListItem-titleContainer-2jxE16",title:"MetadataDirectoryListItem-title-YsYTS9"}},3862:function(e,t,i){var n=i("3O+N");function a(e){return e&&(e.__esModule?e.default:e)}e.exports=(n.default||n).template((function(e,t,n,s,r){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),r=r||{};var o,l="",c=this.escapeExpression;return l+='<div class="modal-dialog"> <div class="modal-content"> <div class="modal-header"> <button type="button" class="close" data-dismiss="modal"><i class="glyphicon remove-2"></i></button> <h4 class="modal-title"><i class="modal-icon glyphicon circle-exclamation-mark"></i> '+c("function"==typeof(o=t&&t.title)?o.apply(t):o)+'</h4> </div> <div class="modal-body"> <p class="confirm-message">'+c("function"==typeof(o=t&&t.message)?o.apply(t):o)+'</p> <p class="double-confirm-message text-warning"></p> </div> <div class="modal-footer"> ',((o=n.unless.call(t,t&&t.hideCancel,{hash:{},inverse:this.noop,fn:this.program(1,(function(e,t){var n="";return n+=' <button type="button" class="cancel-btn btn btn-lg btn-default" data-dismiss="modal">'+c(a(i("d8WC")).call(e,e&&e.cancelLabel,{hash:{},data:t}))+"</button> "}),r),data:r}))||0===o)&&(l+=o),l+=' <button type="button" class="confirm-btn btn btn-lg ',((o=n.if.call(t,t&&t.hasDanger,{hash:{},inverse:this.program(5,(function(e,t){return"btn-primary"}),r),fn:this.program(3,(function(e,t){return"btn-danger"}),r),data:r}))||0===o)&&(l+=o),l+=' btn-loading"> <div class="loading loading-sm"></div> <span class="btn-label">'+c(a(i("d8WC")).call(t,t&&t.confirmLabel,{hash:{},data:r}))+"</span> </button> </div> </div> </div> "}))},"3B9w":function(e,t,i){e.exports={prePlayPageContentContainer:"PrePlayPageContent-prePlayPageContentContainer-1ckaMA PageContent-pageContent-16mK6G",prePlayPageContent:"PrePlayPageContent-prePlayPageContent-1fFCHQ"}},"3Fxl":function(e,t,i){e.exports={homePageContentScroller:"HomePage-homePageContentScroller-3c3WmB PageContent-pageContentScroller-okL_Uc Scroller-scroller-CQJq74"}},"3GOe":function(e,t,i){e.exports={img:"AlertRoundOpaqueIcon-img-19hrPS"}},"3GoL":function(e,t,i){e.exports={row:"LinkedAccount-row-B2dK4T",rowLinked:"LinkedAccount-rowLinked-1oGBHa LinkedAccount-row-B2dK4T",rowUnlinked:"LinkedAccount-rowUnlinked-1CEr_W LinkedAccount-row-B2dK4T",separator:"LinkedAccount-separator-2K5SKR",button:"LinkedAccount-button-2xPPXm",buttonApple:"LinkedAccount-buttonApple-1i2qi8 LinkedAccount-button-2xPPXm",buttonGoogle:"LinkedAccount-buttonGoogle-3vahJX LinkedAccount-button-2xPPXm",buttonFacebook:"LinkedAccount-buttonFacebook-1qn9Yd LinkedAccount-button-2xPPXm"}},"3Kzt":function(e,t,i){e.exports={hubHeader:"PrePlayVerticalHub-hubHeader-26ySyl VirtualHubScroller-hubHeader-216w6Z",showAllContainer:"PrePlayVerticalHub-showAllContainer-1y-oH0",belowHub:"PrePlayVerticalHub-belowHub-34nPsw"}},"3WIE":function(e,t,i){e.exports={calendar:"Calendar-calendar-231Ooz"}},"3YNL":function(e,t,i){e.exports={titleContainer:"SourceSidebarReorderContent-titleContainer-20R_su",title:"SourceSidebarReorderContent-title-fy8R0_",closeButton:"SourceSidebarReorderContent-closeButton-1rl2ef",expandedSidebarContent:"SourceSidebarReorderContent-expandedSidebarContent-3lC3o8 SourceSidebarContent-expandedSidebarContent-3n-5nj"}},"3ZRf":function(e,t,i){var n=i("3O+N");function a(e){return e&&(e.__esModule?e.default:e)}e.exports=(n.default||n).template((function(e,t,n,s,r){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),r=r||{};var o,l="",c=this.escapeExpression,d=this;function u(e,t){return"selected"}function p(e,t){var n="";return n+=' <option value="">'+c(a(i("d8WC")).call(e,"Loading...",{hash:{},data:t}))+"</option> "}return l+='<div class="row"> <div class="col-md-6"> <div class="form-group"> <label class="control-label" for="match-search-title">'+c(a(i("d8WC")).call(t,"Artist",{hash:{},data:r}))+'</label> <input type="text" id="match-search-parentTitle" name="parentTitle" class="form-control" value="'+c("function"==typeof(o=null==(o=t&&t.item)||!1===o?o:o.parentTitle)?o.apply(t):o)+'"> </div> </div> <div class="col-md-6"> <div class="form-group"> <label class="control-label" for="match-search-agent">'+c(a(i("d8WC")).call(t,"Agent",{hash:{},data:r}))+'</label> <select id="match-search-agent" name="agent"> ',((o=n.each.call(t,t&&t.agents,{hash:{},inverse:d.program(4,p,r),fn:d.program(1,(function(e,t){var i,a="";return a+=' <option value="'+c("function"==typeof(i=e&&e.value)?i.apply(e):i)+'" ',((i=n.if.call(e,e&&e.selected,{hash:{},inverse:d.noop,fn:d.program(2,u,t),data:t}))||0===i)&&(a+=i),a+=">"+c("function"==typeof(i=e&&e.label)?i.apply(e):i)+"</option> "}),r),data:r}))||0===o)&&(l+=o),l+=' </select> </div> </div> </div> <div class="row"> <div class="col-md-6"> <div class="form-group"> <label class="control-label" for="match-search-title">'+c(a(i("d8WC")).call(t,"Album",{hash:{},data:r}))+'</label> <input type="text" id="match-search-title" name="title" class="form-control" value="'+c("function"==typeof(o=null==(o=t&&t.item)||!1===o?o:o.title)?o.apply(t):o)+'"> </div> </div> <div class="col-md-6"> <div class="form-group"> <label class="control-label" for="match-search-language">'+c(a(i("d8WC")).call(t,"Language",{hash:{},data:r}))+'</label> <select id="match-search-language" name="language"> ',((o=n.each.call(t,t&&t.languages,{hash:{},inverse:d.program(4,p,r),fn:d.program(6,(function(e,t){var i,n="";return n+=' <option value="'+c("function"==typeof(i=e&&e.value)?i.apply(e):i)+'">'+c("function"==typeof(i=e&&e.label)?i.apply(e):i)+"</option> "}),r),data:r}))||0===o)&&(l+=o),l+=' </select> </div> </div> </div> <div class="row"> <div class="col-md-6"> <div class="form-group"> <label class="control-label" for="match-search-year">'+c(a(i("d8WC")).call(t,"Year",{hash:{},data:r}))+'</label> <input type="text" id="match-search-year" name="year" class="form-control" value="'+c("function"==typeof(o=null==(o=t&&t.item)||!1===o?o:o.year)?o.apply(t):o)+'"> </div> </div> </div> '}))},"3bbS":function(e,t,i){const n=i("+X4A").getLastSegment,a=i("a4Cb");e.exports=a(n)},"3oIs":function(e,t,i){"use strict";t.a=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement)},"4+bI":function(e,t,i){e.exports={unsupportedDeviceBody:"DVRSetupUnsupportedDevice-unsupportedDeviceBody-1vVn1Q ModalBody-modalBody--5uHSu",imageContainer:"DVRSetupUnsupportedDevice-imageContainer-3DhXFA",makeModelContainer:"DVRSetupUnsupportedDevice-makeModelContainer-2bdrZY",info:"DVRSetupUnsupportedDevice-info-1un44K"}},"41GN":function(e,t,i){"use strict";i.d(t,"a",(function(){return r}));var n=i("F/us"),a=i.n(n),s=i("DDbo");function r(e,t={}){const{onlyIfCached:i=!0}=t;if(!e)return;if(e.section)return e.section;if(e.get("isSection"))return e;const n=e.get("librarySectionID");if(n){const t=new s.a({key:n},{server:e.server,onlyIfCached:i});return a.a.isEmpty(t)?void 0:t}return e.parent?r(e.parent,t):void 0}},"46B2":function(e,t,i){e.exports={sidebarContent:"SettingsSidebar-sidebarContent-3yMjj9",alertIcon:"SettingsSidebar-alertIcon-2t3ZyX"}},"4DQJ":function(e,t,i){e.exports={container:"ManageLibrarySummary-container-2i42AP",isActionsMenuOpen:"ManageLibrarySummary-isActionsMenuOpen-2S0oYD",actions:"ManageLibrarySummary-actions-Xad3MQ",underlay:"ManageLibrarySummary-underlay-3yXf2K",alternateContainer:"ManageLibrarySummary-alternateContainer-2wBQ-1 ManageLibrarySummary-container-2i42AP",titleContainer:"ManageLibrarySummary-titleContainer-14le9W",iconContainer:"ManageLibrarySummary-iconContainer-2GNNak",spinner:"ManageLibrarySummary-spinner-i5J6LT",title:"ManageLibrarySummary-title-ah-Rnu",action:"ManageLibrarySummary-action-2Wct92"}},"4Img":function(e,t,i){e.exports={topDivider:"PrePlayListTopDivider-topDivider-3c8uzj PrePlayDivider-divider-1qvbj9"}},"4JMt":function(e,t,i){"use strict";var n=i("CHn6"),a=i("mOXR"),s=i("nvND"),r=i("Q3JP"),o=i("Pizw"),l=i("FIl5"),c=i("WfN5"),d=i("7za+"),u=i("Wpyo");const p=n.a.extend({name:"HubModel",context:["server","provider","section","identifier","allowSync","includeExternalMedia"],entityType:d.c,entityID(e=this.state){return Object(c.a)(this.entityType,e.key||e.hubKey||e.hubIdentifier,this.provider.entityID())},idAttribute:"hubIdentifier",rootPropertyName:"Hub",responseType(){return Object(r.a)(this.server)},url(){return this.get("key")||this.get("hubKey")},syncedAttrs:{key:a.a.string,hubKey:a.a.string,hubIdentifier:a.a.string,source:a.a.string,title:a.a.string,summary:a.a.string,icon:a.a.string,thumb:a.a.string,attribution:a.a.string,type:a.a.string,subtype:a.a.string,style:a.a.string,size:a.a.integer,totalSize:a.a.integer,more:a.a.boolean,random:a.a.boolean,browse:a.a.boolean,upNext:a.a.boolean,context:a.a.string,promoted:a.a.boolean,autoAdvanceDelayMs:a.a.integer,Meta:a.a.object},syncedRelations:{metadataList:{relationClass:u.default,deferred:!0}},initialize(){this.listenTo(this.get("metadataList"),"change:populatedRange",this.onPopulatedRangeChange)},augmentResponseText:(e,t)=>t===s.c?Object(o.b)(e):e,augmentResponse(e){const t=null==e.totalSize?void 0:l.a.parseInteger(e.totalSize),i=l.a.parseInteger(e.size)||0,n=e.key||e.hubKey;return e.metadataList={containerKey:n,Metadata:e.Metadata,size:i,totalSize:t},e},onPopulatedRangeChange(e,t){const i=t.size,n=e.get("totalSize"),a={size:i};null!=n&&(a.more=n>i),this.set(a)}});t.a=p},"4KTB":function(e,t,i){e.exports={tertiaryTitleSpacer:"PrePlayTertiaryTitleSpacer-tertiaryTitleSpacer-14zhLB"}},"4P0s":function(e,t,i){"use strict";var n=i("EVdn"),a=i.n(n),s=i("F/us"),r=i.n(s),o=i("htvf"),l=i("Eeuk");const c=o.a.extend({mixins:l.a,initialize(e={}){e.interface&&(this.interface=e.interface),e.props&&(this.props=e.props),r.a.each(this.interface,e=>{this[e]=r.a.bind(this._proxy,this,e)})},_proxy(e,...t){return this.getInstance()[e](...t)},register(e,t={}){this.hasInstance()&&!t.ignorePrevious&&(this._previousInstance=this.getInstance()),this._instance=e,t.silent||this.trigger("change:instance",e)},registerOnce(e){if(!this.hasInstance()){const t=e();this.register(t.instance||t,t.options||void 0)}},restorePrevious(){this._previousInstance&&this.register(this._previousInstance)},registered(){const e=a.a.Deferred();return this.hasInstance()?e.resolve(this.getInstance()):this.listenToOnce(this,"change:instance",e.resolve),e.promise()},getInstance(){if(this.hasInstance())return this._instance;throw new Error("Nothing has been registered to this adapter.")},hasInstance(){return null!=this._instance},prop(e){if(r.a.contains(this.props,e))return this.getInstance()[e];throw new Error("The "+e+" property has not been defined for this adapter")}});t.a=c},"4QgX":function(e,t,i){var n=i("3O+N");e.exports=(n.default||n).template((function(e,t,i,n,a){return this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),a=a||{},'<svg class="circle-progress-bar" version="1.1" xmlns="http://www.w3.org/2000/svg"> <circle fill="transparent"></circle> </svg> <div class="circle-progress-text"></div> '}))},"4Vl1":function(e,t,i){e.exports={emptyPage:"EmptyPage-emptyPage-2AM9uQ",content:"EmptyPage-content-10PgBS",icon:"EmptyPage-icon-31D3ZA",default:"EmptyPage-default-26GUDH",primary:"EmptyPage-primary-1uNBT2",success:"EmptyPage-success-zqYzQ8",danger:"EmptyPage-danger-3-2M_Y",imgIcon:"EmptyPage-imgIcon-32C35q",title:"EmptyPage-title-264Jp4",footer:"EmptyPage-footer-2lE0TA"}},"4X5K":function(e,t,i){e.exports={container:"ChannelsGridPlaceholder-container-t1lz5q",bar:"ChannelsGridPlaceholder-bar-1g_DPl",shimmer:"ChannelsGridPlaceholder-shimmer-18AjFZ"}},"4XqK":function(e,t,i){e.exports={container:"WatchTogetherLobby-container-3hLmMX",row:"WatchTogetherLobby-row-2uMUvW",poster:"WatchTogetherLobby-poster-34uvU5",details:"WatchTogetherLobby-details-S3aWld",hubCell:"WatchTogetherLobby-hubCell-3MvWr0 WatchTogetherParticipantsHubCell-hubCell-2d54Ct HubCell-hubCell-3Ys175"}},"4anc":function(e,t,i){e.exports={container:"CalendarDaysOfWeek-container-1MoYjb"}},"4asQ":function(e,t,i){e.exports={spinner:"Spinner-spinner-Niere7 spin-spin-2kLwt_",spinnerContainer:"Spinner-spinnerContainer-1dbVIc",spinnerLabel:"Spinner-spinnerLabel-3_zR9A",small:"Spinner-small-3PStHE Spinner-spinner-Niere7 spin-spin-2kLwt_",medium:"Spinner-medium-31XpHm Spinner-spinner-Niere7 spin-spin-2kLwt_",large:"Spinner-large-3AQPyD Spinner-spinner-Niere7 spin-spin-2kLwt_"}},"4gIP":function(e,t,i){var n=i("3O+N");function a(e){return e&&(e.__esModule?e.default:e)}e.exports=(n.default||n).template((function(e,t,n,s,r){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),r=r||{};var o,l="",c=this.escapeExpression;return l+='<form id="convert-form" class="settings-container"> <div class="modal-body"> <div class="form-group ',((o=n.unless.call(t,t&&t.showRemuxOnlyWarning,{hash:{},inverse:this.noop,fn:this.program(1,(function(e,t){return"hidden"}),r),data:r}))||0===o)&&(l+=o),l+='"> <p class="convert-warning help-block"> <i class="convert-warning-icon glyphicon circle-exclamation-mark"></i> <span class="convert-warning-text"> '+c(a(i("d8WC")).call(t,"Video optimization may take a long time to complete on this server. You'll be able to use Plex normally while you wait.",{hash:{},data:r}))+' </span> </p> </div> <div class="form-group"> <label class="control-label" for="convert-title">'+c(a(i("d8WC")).call(t,"Title",{hash:{},data:r}))+'</label> <input type="text" id="convert-title" name="title" class="form-control" value="'+c("function"==typeof(o=null==(o=t&&t.conversionItem)||!1===o?o:o.title)?o.apply(t):o)+'" placeholder="'+c("function"==typeof(o=null==(o=t&&t.conversionItem)||!1===o?o:o.title)?o.apply(t):o)+'"> </div> <div class="policy-region"></div> <div class="targets-region"></div> <div class="location-region"></div> </div> <div class="modal-footer"> <button type="button" class="btn btn-default" data-dismiss="modal">'+c(a(i("d8WC")).call(t,"Cancel",{hash:{},data:r}))+'</button> <button type="submit" class="submit-btn btn btn-primary btn-loading"> <div class="loading loading-sm"></div> <span class="btn-label">',((o=n.if.call(t,t&&t.isNew,{hash:{},inverse:this.program(5,(function(e,t){return c(a(i("d8WC")).call(e,"Save",{hash:{},data:t}))}),r),fn:this.program(3,(function(e,t){return c(a(i("d8WC")).call(e,"Optimize",{hash:{},data:t}))}),r),data:r}))||0===o)&&(l+=o),l+="</span> </button> </div> </form> "}))},"4kAM":function(e,t,i){e.exports={conflict:"PlayerConflictItemRow-conflict-P0q6Qn",thumbnail:"PlayerConflictItemRow-thumbnail-3DnQMQ",title:"PlayerConflictItemRow-title-1hIqin",titleHighlight:"PlayerConflictItemRow-titleHighlight-EbgLGl"}},"4nIb":function(e,t,i){var n=i("3O+N");e.exports=(n.default||n).template((function(e,t,n,a,s){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),s=s||{};var r,o="";return o+='<div class="modal-header"> <h4 class="modal-title"> '+(0,this.escapeExpression)((r=i("d8WC"),r&&(r.__esModule?r.default:r)).call(t,"Select User",{hash:{},data:s}))+' <span class="loading loading-sm"></span> </h4> </div> <div class="modal-body"></div> '}))},"4ovG":function(e,t,i){e.exports={line:"LineChart-line-kpWRY5",translucentLine:"LineChart-translucentLine-3Noru- LineChart-line-kpWRY5",legendContainer:"LineChart-legendContainer-3m9Lu0",legendLabels:"LineChart-legendLabels-2_DC2x",legendSummary:"LineChart-legendSummary-3CHecr",legendLabel:"LineChart-legendLabel-3FrzJh LegendLabel-legendLabel-2z2UeB Link-link-2n0yJn",translucentLegendLabel:"LineChart-translucentLegendLabel-177DBq LineChart-legendLabel-3FrzJh LegendLabel-legendLabel-2z2UeB Link-link-2n0yJn"}},"4vwf":function(e,t,i){e.exports={container:"UsersSettingsRowActions-container-J6Ghnt"}},"5+Nd":function(e,t,i){var n=i("3O+N");e.exports=(n.default||n).template((function(e,t,n,a,s){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),s=s||{};var r,o="";return o+='<div class="modal-dialog"> <div class="modal-content"> <div class="modal-header"> <button type="button" class="close" data-dismiss="modal"><i class="glyphicon remove-2"></i></button> <h4 class="modal-title"><i class="modal-icon glyphicon restart"></i> <span class="generator-title"></span></h4> </div> <div class="modal-body modal-body-scroll dark-scrollbar"> <h4> <span class="generator-failure-container pull-right"> <i class="generator-failure-icon glyphicon circle-exclamation-mark text-danger"></i> <span class="generator-failure-message text-muted"></span> </span> <span class="generator-items-count"></span> &middot; <span class="generator-total-size"></span> </h4> <div class="list-region"></div> <div class="list-feedback-container"> <span class="loading hidden"></span> <span class="error-message text-muted hidden"> '+(0,this.escapeExpression)((r=i("d8WC"),r&&(r.__esModule?r.default:r)).call(t,"There was a problem loading these items.",{hash:{},data:s}))+" </span> </div> </div> </div> </div> "}))},"5/Iy":function(e,t,i){var n,a,s,r;s=i("F/us"),r=i("zLeb"),e.exports=(n=s,(a=r).ChildViewContainer=function(e,t){var i=function(e){this._views={},this._indexByModel={},this._indexByCustom={},this._updateLength(),t.each(e,this.add,this)};return t.extend(i.prototype,{add:function(e,t){var i=e.cid;return this._views[i]=e,e.model&&(this._indexByModel[e.model.cid]=i),t&&(this._indexByCustom[t]=i),this._updateLength(),this},findByModel:function(e){return this.findByModelCid(e.cid)},findByModelCid:function(e){var t=this._indexByModel[e];return this.findByCid(t)},findByCustom:function(e){var t=this._indexByCustom[e];return this.findByCid(t)},findByIndex:function(e){return t.values(this._views)[e]},findByCid:function(e){return this._views[e]},remove:function(e){var i=e.cid;return e.model&&delete this._indexByModel[e.model.cid],t.any(this._indexByCustom,(function(e,t){if(e===i)return delete this._indexByCustom[t],!0}),this),delete this._views[i],this._updateLength(),this},call:function(e){this.apply(e,t.tail(arguments))},apply:function(e,i){t.each(this._views,(function(n){t.isFunction(n[e])&&n[e].apply(n,i||[])}))},_updateLength:function(){this.length=t.size(this._views)}}),t.each(["forEach","each","map","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","toArray","first","initial","rest","last","without","isEmpty","pluck"],(function(e){i.prototype[e]=function(){var i=t.values(this._views),n=[i].concat(t.toArray(arguments));return t[e].apply(t,n)}})),i}(0,n),a.ChildViewContainer)},"5/Tp":function(e,t,i){"use strict";t.a=function(e){return"[object String]"===window.toString.call(e)}},"57QN":function(e,t,i){var n=i("3O+N");function a(e){return e&&(e.__esModule?e.default:e)}e.exports=(n.default||n).template((function(e,t,n,s,r){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),r=r||{};var o,l="",c=this.escapeExpression,d=this;function u(e,t,n){var s,r="";return r+=' <li><a data-id="'+c("function"==typeof(s=e&&e.id)?s.apply(e):s)+'" href="#"><span class="dropdown-truncated-label">'+c("function"==typeof(s=e&&e.name)?s.apply(e):s)+"</span>",((s=a(i("w+Xr")).call(e,null==(s=n&&n.selectedDevice)||!1===s?s:s.id,e&&e.id,{hash:{},inverse:d.noop,fn:d.program(3,p,t),data:t}))||0===s)&&(r+=s),r+="</a></li> "}function p(e,t){return'<i class="dropdown-selected-icon glyphicon ok-2"></i>'}function h(e,t){return' <div class="row"> <div class="sync-device-container col-sm-12 col-md-12"></div> </div> '}function m(e,t){var n="";return n+=' <div class="row row-padded"> <h4 class="text-muted text-center">'+c(a(i("d8WC")).call(e,"You have no sync capable devices.",{hash:{},data:t}))+"</h4> </div> "}function g(e,t){var i,a="";return a+=' <div class="row row-padded"> <h4 class="text-muted text-center">'+c("function"==typeof(i=null==(i=e&&e.plexPassInfo)||!1===i?i:i.message)?i.apply(e):i)+'</h4> <p class="text-center ',((i=n.unless.call(e,null==(i=e&&e.plexPassInfo)||!1===i?i:i.showButton,{hash:{},inverse:d.noop,fn:d.program(14,v,t),data:t}))||0===i)&&(a+=i),a+='"> <a class="btn btn-sm btn-primary" href="'+c("function"==typeof(i=null==(i=e&&e.plexPassInfo)||!1===i?i:i.url)?i.apply(e):i)+'" target="'+c("function"==typeof(i=null==(i=e&&e.plexPassInfo)||!1===i?i:i.target)?i.apply(e):i)+'">'+c("function"==typeof(i=null==(i=e&&e.plexPassInfo)||!1===i?i:i.buttonText)?i.apply(e):i)+"</a> </p> </div> "}function v(e,t){return"hidden"}function y(e,t){var n="";return n+=' <div class="row row-padded"> <h4 class="text-muted text-center">'+c(a(i("d8WC")).call(e,"This server does not support sync.",{hash:{},data:t}))+"</h4> </div> "}return l+='<div class="filter-bar"> ',((o=n.if.call(t,t&&t.showDeviceDropdown,{hash:{},inverse:d.noop,fn:d.program(1,(function(e,t){var i,a="";return a+=' <span class="dropdown"> <a class="dropdown-toggle" href="#device-dropdown" data-toggle="dropdown"> <span class="dropdown-friendly-name">'+c("function"==typeof(i=null==(i=e&&e.selectedDevice)||!1===i?i:i.name)?i.apply(e):i)+'</span> <i class="caret-icon"></i> </a> <ul class="dropdown-menu"> ',((i=n.each.call(e,e&&e.devices,{hash:{},inverse:d.noop,fn:d.programWithDepth(2,u,t,e),data:t}))||0===i)&&(a+=i),a+=" </ul> </span> "}),r),data:r}))||0===o)&&(l+=o),l+=' <div class="filter-bar-right"> ',((o=n.if.call(t,t&&t.hasTouchScreen,{hash:{},inverse:d.noop,fn:d.program(5,(function(e,t){return'<a class="edit-btn btn-gray" href="#"><i class="glyphicon pencil"></i></a>'}),r),data:r}))||0===o)&&(l+=o),l+=' <a class="refresh-btn btn-gray" href="#"><i class="glyphicon repeat"></i></a> </div> </div> ',((o=n.if.call(t,t&&t.allowSync,{hash:{},inverse:d.program(12,(function(e,t){var i,a="";return a+=" ",((i=n.if.call(e,e&&e.sync,{hash:{},inverse:d.program(16,y,t),fn:d.program(13,g,t),data:t}))||0===i)&&(a+=i),a+=" "}),r),fn:d.program(7,(function(e,t){var i,a="";return a+=" ",((i=n.if.call(e,e&&e.devices,{hash:{},inverse:d.program(10,m,t),fn:d.program(8,h,t),data:t}))||0===i)&&(a+=i),a+=" "}),r),data:r}))||0===o)&&(l+=o),l+=" "}))},"5CAA":function(e,t,i){e.exports={container:"SourceListItemDragSource-container-3Cii3P",source:"SourceListItemDragSource-source-2nauag",isOver:"SourceListItemDragSource-isOver-3Ngu4e"}},"5HFX":function(e,t,i){"use strict";i.d(t,"a",(function(){return l}));var n=i("+X4A"),a=i("gnaf"),s=i("mvw6");const r=/\/([^/]+)([^$]+)?/,o={};function l(e){if(o[e])return o[e];const{protocol:t,host:i,pathname:l,search:c}=n.parseUri(e),d="provider:"===t,u="server:"===t;if(d||u){const t=c.substr(1)||void 0,p=l.replace(/\/$/,"")||void 0,h=p&&p.match(r)||[],m=p&&"media"===h[1],g=m?a.d:h[1],v=d||m?p:h[2],y=v?v.slice(v.lastIndexOf("/")+1):"";o[e]={isServer:u,metadataItemKey:v,metadataRatingKey:y,parameters:t&&n.parseParams(t),providerIdentifier:d?i:g||a.d,serverIdentifier:d?s.a:i}}else o[e]={};return o[e]}},"5J4V":function(e,t,i){"use strict";var n=i("F/us"),a=i.n(n),s=i("+X4A"),r=i("B69o"),o=i("pxcU");const l=r.a.extend({name:"FilterCollection",context:["server","section","includeAdvanced"],model:o.a,comparator:"filterType",includeAdvanced:!0,url(){const e=a.a.result(this.section,"url"),t=this.section.get("currentType"),i={includeAdvanced:this.includeAdvanced?1:0};return t&&(i.type=t.id),s.join([e,"/filters"],i)},findUnwatchedFilter(){return this.get("unwatched")||this.get("unwatchedLeaves")}});t.a=l},"5QzM":function(e,t,i){var n=i("3O+N");function a(e){return e&&(e.__esModule?e.default:e)}e.exports=(n.default||n).template((function(e,t,n,s,r){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),r=r||{};var o,l="",c=this.escapeExpression,d=this;function u(e,t){return" selected"}function p(e,t){var n="";return n+=" "+c(a(i("d8WC")).call(e,"Select type",{hash:{},data:t}))+" "}function h(e,t){var n="";return n+=" "+c(a(i("d8WC")).call(e,"General",{hash:{},data:t}))+" "}function m(e,t){return"disabled"}function g(e,t){return"hidden"}return l+='<div class="modal-dialog"> <div class="modal-content"> <div class="modal-header"> <button type="button" class="close" data-dismiss="modal"><i class="glyphicon remove-2"></i></button> <h4 class="modal-title"> ',((o=n.if.call(t,t&&t.add,{hash:{},inverse:d.program(3,(function(e,t){var i,n="";return n+=' <i class="modal-icon glyphicon pencil"></i> '+c("function"==typeof(i=e&&e.paneTitle)?i.apply(e):i)+" "}),r),fn:d.program(1,(function(e,t){var n="";return n+=' <i class="modal-icon glyphicon plus"></i> '+c(a(i("d8WC")).call(e,"Add {1} Library",'<span class="section-type-title"></span>',{hash:{},data:t}))+" "}),r),data:r}))||0===o)&&(l+=o),l+=' </h4> </div> <div class="modal-body modal-body-scroll modal-body-with-panes"> ',((o=n.if.call(t,t&&t.isLoading,{hash:{},inverse:d.program(7,(function(e,t){var s,r="";return r+=' <div class="modal-nav-pane dark-scrollbar"> <ul class="list modal-nav-list"> <li> <a class="btn-gray change-pane-btn type-btn',((s=a(i("w+Xr")).call(e,e&&e.selectedPane,"type",{hash:{},inverse:d.noop,fn:d.program(8,u,t),data:t}))||0===s)&&(r+=s),r+='" data-pane="type" href="#"> <i class="modal-nav-icon glyphicon align-center"></i> ',((s=n.if.call(e,e&&e.add,{hash:{},inverse:d.program(12,h,t),fn:d.program(10,p,t),data:t}))||0===s)&&(r+=s),r+=' </a> </li> <li> <a class="btn-gray change-pane-btn folders-btn',((s=a(i("w+Xr")).call(e,e&&e.selectedPane,"folders",{hash:{},inverse:d.noop,fn:d.program(8,u,t),data:t}))||0===s)&&(r+=s),r+=" ",((s=n.if.call(e,e&&e.add,{hash:{},inverse:d.noop,fn:d.program(14,m,t),data:t}))||0===s)&&(r+=s),r+=" ",((s=n.unless.call(e,e&&e.showFolders,{hash:{},inverse:d.noop,fn:d.program(16,g,t),data:t}))||0===s)&&(r+=s),r+='" data-pane="folders" href="#"> <i class="modal-nav-icon glyphicon folder-open"></i> '+c(a(i("d8WC")).call(e,"Add folders",{hash:{},data:t}))+' </a> </li> <li> <a class="btn-gray change-pane-btn options-btn',((s=a(i("w+Xr")).call(e,e&&e.selectedPane,"options",{hash:{},inverse:d.noop,fn:d.program(8,u,t),data:t}))||0===s)&&(r+=s),r+=" ",((s=n.if.call(e,e&&e.add,{hash:{},inverse:d.noop,fn:d.program(14,m,t),data:t}))||0===s)&&(r+=s),r+=' hidden" data-pane="options" href="#"> <i class="modal-nav-icon glyphicon magic"></i> '+c(a(i("d8WC")).call(e,"Options",{hash:{},data:t}))+' </a> </li> <li> <a class="btn-gray change-pane-btn advanced-btn',((s=a(i("w+Xr")).call(e,e&&e.selectedPane,"advanced",{hash:{},inverse:d.noop,fn:d.program(8,u,t),data:t}))||0===s)&&(r+=s),r+=" ",((s=n.if.call(e,e&&e.add,{hash:{},inverse:d.noop,fn:d.program(14,m,t),data:t}))||0===s)&&(r+=s),r+='" data-pane="advanced" href="#"> <i class="modal-nav-icon glyphicon cogwheel"></i> '+c(a(i("d8WC")).call(e,"Advanced",{hash:{},data:t}))+' </a> </li> </ul> </div> <div class="modal-body-pane pane-region dark-scrollbar"> </div> '}),r),fn:d.program(5,(function(e,t){return' <div class="modal-body-pane pane-region dark-scrollbar"> <div class="loading loading-inline"></div> </div> '}),r),data:r}))||0===o)&&(l+=o),l+=' </div> <div class="modal-footer"> <span class="form-message"></span> <button type="button" class="cancel-btn btn btn-default" data-dismiss="modal">'+c(a(i("d8WC")).call(t,"Cancel",{hash:{},data:r}))+'</button> <button type="button" class="save-btn btn btn-primary btn-loading ',((o=n.if.call(t,t&&t.add,{hash:{},inverse:d.noop,fn:d.program(14,m,r),data:r}))||0===o)&&(l+=o),l+='"> <div class="loading loading-sm"></div> <span class="btn-label"> <span class="save-btn-label-next">'+c(a(i("d8WC")).call(t,"Next",{hash:{},data:r}))+'</span> <span class="save-btn-label-save"> ',((o=n.if.call(t,t&&t.add,{hash:{},inverse:d.program(20,(function(e,t){var n="";return n+=" "+c(a(i("d8WC")).call(e,"Save Changes",{hash:{},data:t}))+" "}),r),fn:d.program(18,(function(e,t){var n="";return n+=" "+c(a(i("d8WC")).call(e,"Add Library",{hash:{},data:t}))+" "}),r),data:r}))||0===o)&&(l+=o),l+=" </span> </span> </button> </div> </div> </div> "}))},"5Uxk":function(e,t,i){"use strict";var n=i("66GW");t.a=function(e){if(!e||!e.length)return;const t=e.length;return 1===t?e[0]:2===t?Object(n.default)("{1} and {2}",e[0],e[1]):3===t?Object(n.default)("{1}, {2}, and {3}",e[0],e[1],e[2]):Object(n.default)("{1}, {2}, and {3} others",e[0],e[1],e.length-2)}},"5XbV":function(e,t,i){"use strict";i.d(t,"a",(function(){return n})),i.d(t,"b",(function(){return a}));const n="error",a="success"},"5Y3Z":function(e,t,i){e.exports={rightTitle:"PrePlayRightTitle-rightTitle-3oK12x"}},"5hya":function(e,t,i){e.exports={signalStrength:"SignalStrength-signalStrength-33wP3p"}},"5ic+":function(e,t,i){e.exports={title:"CalendarHeaderTitle-title-15Pr3D"}},"5iwJ":function(e,t,i){e.exports={row:"ListRow-row-1sqnTj",alternateRow:"ListRow-alternateRow-Vy6Unv ListRow-row-1sqnTj",isHovered:"ListRow-isHovered-1TphVQ"}},"5kqZ":function(e,t,i){e.exports={card:"WatchTogetherHubItemPosterCard-card-3eXNmg PosterCard-card-VhPkOe",moreButton:"WatchTogetherHubItemPosterCard-moreButton-3oxko8 MetadataPosterCardActions-moreButton-3uGw5x MetadataPosterCardActions-button-9nYbj2 Link-link-2ew_DK",image:"WatchTogetherHubItemPosterCard-image-1jjLMD",iconContainer:"WatchTogetherHubItemPosterCard-iconContainer-1ojNXC PosterCardIcon-container-257jtF",link:"WatchTogetherHubItemPosterCard-link-1auk2z PosterCardLink-link-1lt0M1 Link-link-2ew_DK",hoveredLink:"WatchTogetherHubItemPosterCard-hoveredLink-18Nnwe PosterCardLink-hoveredLink-AhlkMt PosterCardLink-link-1lt0M1 Link-link-2ew_DK",hiddenMoreButton:"WatchTogetherHubItemPosterCard-hiddenMoreButton-2CavOI WatchTogetherHubItemPosterCard-moreButton-3oxko8 MetadataPosterCardActions-moreButton-3uGw5x MetadataPosterCardActions-button-9nYbj2 Link-link-2ew_DK MetadataPosterCardActions-isHidden-17PeaH"}},"5lOB":function(e,t,i){"use strict";var n=i("F/us"),a=i.n(n),s=i("+X4A"),r=i("B69o"),o=i("0jfG");const l=r.a.extend({name:"SortCollection",context:["server","section","typeID"],model:o.a,url(){const e=a.a.result(this.section,"url"),t=this.typeID||this.section.get("currentType").id,i=t?{type:t}:{};return s.join([e,"/sorts"],i)}});t.a=l},"5m2Q":function(e,t,i){e.exports={overlay:"PlayPauseOverlay-overlay-1k7-8U",playButton:"PlayPauseOverlay-playButton-25OfWy PlayPauseOverlay-overlay-1k7-8U PlayButton-playButton-3WX8X-",pauseButton:"PlayPauseOverlay-pauseButton-hSFg5q PlayPauseOverlay-playButton-25OfWy PlayPauseOverlay-overlay-1k7-8U PlayButton-playButton-3WX8X-",playCircle:"PlayPauseOverlay-playCircle-3ydPYX PlayButton-playCircle-3Evfdw",hiddenCursor:"PlayPauseOverlay-hiddenCursor-21ESCa"}},"5qtW":function(e,t,i){e.exports={primaryTitle:"PrePlayPrimaryTitle-primaryTitle-1r9P9r"}},"5xhV":function(e,t,i){var n=i("3O+N");function a(e){return e&&(e.__esModule?e.default:e)}e.exports=(n.default||n).template((function(e,t,n,s,r){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),r=r||{};var o,l="",c=this.escapeExpression;return l+='<div class="modal-dialog"> <div class="modal-content"> <div class="modal-header"> <button type="button" class="close" data-dismiss="modal"><i class="glyphicon remove-2"></i></button> <h4 class="modal-title"> <i class="modal-icon glyphicon circle-arrow-right"></i> '+c(a(i("d8WC")).call(t,"Go Premium",{hash:{},data:r}))+' </h4> </div> <div class="modal-body"> <p class="text-center"><i class="plex-image plex-pass"></i></p> <h4 class="text-center">'+c(a(i("d8WC")).call(t,"This feature requires a Plex Pass subscription.",{hash:{},data:r}))+"</h4> ",((o=n.if.call(t,t&&t.isClaimed,{hash:{},inverse:this.program(3,(function(e,t){var n="";return n+=' <p class="text-muted">'+c(a(i("d8WC")).call(e,'The server "{1}" has not been claimed. This server must be claimed by an account with a Plex Pass subscription.',e&&e.escapedFriendlyName,{hash:{},data:t}))+"</p> "}),r),fn:this.program(1,(function(e,t){var n="";return n+=' <p class="text-muted">'+c(a(i("d8WC")).call(e,"Everything you need to experience the best of Plex. Your subscription gives you premium features and exclusive access to new ones.",{hash:{},data:t}))+"</p> "}),r),data:r}))||0===o)&&(l+=o),l+=' <p class="text-center"> <a class="btn btn-sm btn-primary" href="'+c("function"==typeof(o=t&&t.plexPassUrl)?o.apply(t):o)+'" target="_blank">'+c(a(i("d8WC")).call(t,"Learn More",{hash:{},data:r}))+"</a> </p> </div> </div> </div> "}))},"6+d7":function(e,t,i){var n=i("3O+N");e.exports=(n.default||n).template((function(e,t,n,a,s){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),s=s||{};var r,o="";return o+="<h2>"+(0,this.escapeExpression)((r=i("d8WC"),r&&(r.__esModule?r.default:r)).call(t,"Announcements",{hash:{},data:s}))+'</h2> <div class="announcements-container"></div> '}))},"611r":function(e,t,i){var n=i("3O+N");function a(e){return e&&(e.__esModule?e.default:e)}e.exports=(n.default||n).template((function(e,t,n,s,r){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),r=r||{};var o,l="",c=this.escapeExpression;return l+='<form class="edit-metadata-form"> ',((o=n.if.call(t,t&&t.canReparent,{hash:{},inverse:this.noop,fn:this.program(1,(function(e,t){var n,s="";return s+=' <div class="row"> <div class="col-md-12 selectize"> '+c(a(i("nptq")).call(e,"autocompleteTextInput",{hash:{label:"Artist",name:"parentTitle",placeholder:(n=e&&e.placeholders,null==n||!1===n?n:n.parentTitle),ratingKey:(n=e&&e.item,null==n||!1===n?n:n.parentRatingKey),title:(n=e&&e.item,null==n||!1===n?n:n.parentTitle)},data:t}))+" </div> </div> "}),r),data:r}))||0===o)&&(l+=o),l+=' <div class="row"> <div class="col-md-12 selectize"> '+c(a(i("nptq")).call(t,"lockableTextInput",{hash:{label:"Album",name:"title",value:(o=t&&t.item,null==o||!1===o?o:o.title),placeholder:(o=t&&t.placeholders,null==o||!1===o?o:o.title),locked:(o=t&&t.locked,null==o||!1===o?o:o.title),ratingKey:(o=t&&t.item,null==o||!1===o?o:o.ratingKey),scopeToAttr:"parentRatingKey",scopeToParam:"artist.id"},data:r}))+' </div> </div> <div class="row"> <div class="col-md-12 selectize"> '+c(a(i("nptq")).call(t,"lockableTextInput",{hash:{label:"Sort Album",name:"titleSort",value:(o=t&&t.item,null==o||!1===o?o:o.titleSort),placeholder:(o=t&&t.placeholders,null==o||!1===o?o:o.titleSort),locked:(o=t&&t.locked,null==o||!1===o?o:o.titleSort),ratingKey:(o=t&&t.item,null==o||!1===o?o:o.ratingKey)},data:r}))+' </div> </div> <div class="row"> <div class="col-md-3"> <label>'+c(a(i("d8WC")).call(t,"Rating",{hash:{},data:r}))+'</label> <div class="rating-region"></div> </div> ',((o=n.unless.call(t,t&&t.supportsLinkedYears,{hash:{},inverse:this.noop,fn:this.program(3,(function(e,t){var n,s="";return s+=' <div class="col-md-4"> '+c(a(i("nptq")).call(e,"lockableTextInput",{hash:{label:"Year",name:"year",value:(n=e&&e.item,null==n||!1===n?n:n.year),placeholder:(n=e&&e.placeholders,null==n||!1===n?n:n.year),locked:(n=e&&e.locked,null==n||!1===n?n:n.year),ratingKey:(n=e&&e.item,null==n||!1===n?n:n.ratingKey)},data:t}))+" </div> "}),r),data:r}))||0===o)&&(l+=o),l+=' <div class="col-md-',((o=n.if.call(t,t&&t.supportsLinkedYears,{hash:{},inverse:this.program(7,(function(e,t){return"5"}),r),fn:this.program(5,(function(e,t){return"9"}),r),data:r}))||0===o)&&(l+=o),l+=' "> '+c(a(i("nptq")).call(t,"lockableTextInput",{hash:{label:"Originally Available",name:"originallyAvailableAt",value:(o=t&&t.item,null==o||!1===o?o:o.originallyAvailableAt),placeholder:(o=t&&t.placeholders,null==o||!1===o?o:o.originallyAvailableAt),locked:(o=t&&t.locked,null==o||!1===o?o:o.originallyAvailableAt)},data:r}))+' </div> </div> <div class="row"> <div class="col-md-12 selectize"> '+c(a(i("nptq")).call(t,"lockableTextInput",{hash:{label:"Record Label",name:"studio",value:(o=t&&t.item,null==o||!1===o?o:o.studio),placeholder:(o=t&&t.placeholders,null==o||!1===o?o:o.studio),locked:(o=t&&t.locked,null==o||!1===o?o:o.studio),ratingKey:(o=t&&t.item,null==o||!1===o?o:o.ratingKey)},data:r}))+' </div> </div> <div class="row"> <div class="col-md-12"> '+c(a(i("nptq")).call(t,"lockableTextInput",{hash:{label:"Review",name:"summary",value:(o=t&&t.item,null==o||!1===o?o:o.summary),placeholder:(o=t&&t.placeholders,null==o||!1===o?o:o.summary),type:"textarea",rows:"5",locked:(o=t&&t.locked,null==o||!1===o?o:o.summary),ratingKey:(o=t&&t.item,null==o||!1===o?o:o.ratingKey)},data:r}))+" </div> </div> </form> "}))},"61K8":function(e,t,i){e.exports={pageHeaderRight:"PrimaryPageHeaderRight-pageHeaderRight-29YOqg PageHeaderRight-pageHeaderRight-1dljwG"}},"61dU":function(e,t,i){e.exports={button:"ServerSettingsServerMenuButton-button-24D7lE SidebarMenuButton-sidebarMenuButton-khx_Pb",secondaryTitle:"ServerSettingsServerMenuButton-secondaryTitle-2Flndc SidebarMenuButton-sidebarMenuSecondaryTitle-2jpJLR",icon:"ServerSettingsServerMenuButton-icon-2pk73R"}},"66GW":function(e,t,i){"use strict";i.r(t),i.d(t,"default",(function(){return a}));var n=i("NciQ");function a(e,...t){return n.a.t.apply(n.a,arguments)}},"66mf":function(e,t,i){e.exports={page:"SignInLaunchPagePoll-page-1MNEQu",container:"SignInLaunchPagePoll-container-10QkUk",section:"SignInLaunchPagePoll-section-11igev",addendumLink:"SignInLaunchPagePoll-addendumLink-2n2Dig",switchToSkipSignInLink:"SignInLaunchPagePoll-switchToSkipSignInLink-2eT_Lx",button:"SignInLaunchPagePoll-button-2n0OF4 SpinnerButton-button-1A8EcL Button-button-2kT68l Link-link-2n0yJn Button-large-3S9UdJ"}},"67KC":function(e,t,i){e.exports={pageHeader:"PrimaryPageHeader-pageHeader-21UFe6 PageHeader-pageHeader-2KNPGd"}},"6DgY":function(e,t,i){e.exports={container:"ErrorNavBar-container-2YGrro NavBar-container-1T0BJz",icon:"ErrorNavBar-icon-2uGCg9"}},"6GOp":function(e,t,i){e.exports={header:"PlaylistItemTable-header-2fQb_w HubCellHeader-hubCellHeader-2pvYNF",durationTitle:"PlaylistItemTable-durationTitle-2PGlcL",editLink:"PlaylistItemTable-editLink-1YrVJh"}},"6MR1":function(e,t,i){e.exports={avatarContainer:"AvatarEditor-avatarContainer-3eqle0",isOverDropTarget:"AvatarEditor-isOverDropTarget-xHyXAj",avatarPane:"AvatarEditor-avatarPane-ZIMdI5",sliderContainer:"AvatarEditor-sliderContainer-1XP4NL",sliderEnd:"AvatarEditor-sliderEnd-LMe5uN",sliderWrapper:"AvatarEditor-sliderWrapper-2-DX7n",slider:"AvatarEditor-slider-1DyFRU Slider-slider-2oLVTs",help:"AvatarEditor-help-9JA7xI",avatarTextPane:"AvatarEditor-avatarTextPane-3QTnNq",avatarActionButtons:"AvatarEditor-avatarActionButtons-29uxGU",avatarFileInput:"AvatarEditor-avatarFileInput-2RZv10"}},"6Nac":function(e,t,i){e.exports={pageContent:"ServerLog-pageContent-3VPW5Y PageContent-pageContent-16mK6G",hiddenPageContent:"ServerLog-hiddenPageContent-2lLY70",pageContentScroller:"ServerLog-pageContentScroller-1gN08N",rawTextScroller:"ServerLog-rawTextScroller-bQAXSk",jumpLinkVisible:"ServerLog-jumpLinkVisible-3DIQ4u Link-link-2n0yJn",jumpLinkHidden:"ServerLog-jumpLinkHidden-1de4QU ServerLog-jumpLinkVisible-3DIQ4u Link-link-2n0yJn"}},"6XLl":function(e,t,i){e.exports={header:"ServerDashboardPageHeader-header-25us0F",headerTitle:"ServerDashboardPageHeader-headerTitle-3nplEc"}},"6XcZ":function(e,t,i){e.exports={hubCell:"HubCell-hubCell-3Ys175",hubActions:"HubCell-hubActions-28w1-R",hubScrollButton:"HubCell-hubScrollButton-2Y7riu",hubScroller:"HubCell-hubScroller-2qgkrG VirtualListScroller-scroller-3aWqhy",hubCellHeader:"HubCell-hubCellHeader-3s3KKW HubCellHeader-hubCellHeader-2pvYNF"}},"6a8U":function(e,t,i){e.exports={unsupported:"UnsupportedDeviceIcon-unsupported-_Tz7jI",unsupportedIcon:"UnsupportedDeviceIcon-unsupportedIcon-gpTqo6",unsupportedTooltip:"UnsupportedDeviceIcon-unsupportedTooltip-38E6zp Tooltip-bottomCenter-2yj43D Tooltip-tooltip-9TKmAQ Tooltip-tooltipArrow-3GUCry Tooltip-tooltipTopArrow-NjH0DX Tooltip-tooltipCenterAlignArrow-35uHtY"}},"6cmb":function(e,t,i){e.exports={trackList:"AlbumDisc-trackList-3LOJZb",titleContainer:"AlbumDisc-titleContainer-3NuZgy PrePlayListTitle-titleContainer-1ITpXZ",selectedTitleContainer:"AlbumDisc-selectedTitleContainer-2h19Mm PrePlayListTitle-selectedTitleContainer-CISxYT PrePlayListTitle-titleContainer-1ITpXZ",selectButton:"AlbumDisc-selectButton-2F8dxi PrePlayListTitle-selectButton-2GE1kx SelectButton-selectButton-3Kbjm9"}},"6ek3":function(e,t,i){var n=i("3O+N");e.exports=(n.default||n).template((function(e,t,i,n,a){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),a=a||{};var s,r="",o=this.escapeExpression;return r+='<a class="btn-gray" data-identifier="',r+=o((s=i.identifier)||"function"==typeof(s=t&&t.identifier)?s.call(t,{hash:{},data:a}):s)+'" href="#">',r+=o((s=i.name)||"function"==typeof(s=t&&t.name)?s.call(t,{hash:{},data:a}):s)+"</a> "}))},"6gEP":function(e,t,i){e.exports={hubCell:"HomeHubCell-hubCell-3ioBjg HubCell-hubCell-3Ys175",hubCellHeader:"HomeHubCell-hubCellHeader-1j-ZKS HubCell-hubCellHeader-3s3KKW HubCellHeader-hubCellHeader-2pvYNF",titleSeparator:"HomeHubCell-titleSeparator-4VHhFq MetadataHubCellHeader-titleSeparator-2XLwHj DashSeparator-separator-4CyEFW",sourceTitle:"HomeHubCell-sourceTitle-2q-ZZ0 MetadataHubCellHeader-sourceTitle-VjjOkx",hubScroller:"HomeHubCell-hubScroller-TifVnj HubCell-hubScroller-2qgkrG VirtualListScroller-scroller-3aWqhy",errorSeparator:"HomeHubCell-errorSeparator-1u82zN HomeHubCell-titleSeparator-4VHhFq MetadataHubCellHeader-titleSeparator-2XLwHj DashSeparator-separator-4CyEFW",errorTitle:"HomeHubCell-errorTitle-2f9701 HomeHubCell-sourceTitle-2q-ZZ0 MetadataHubCellHeader-sourceTitle-VjjOkx",iconButton:"HomeHubCell-iconButton-1zgW6Q",iconButtonIcon:"HomeHubCell-iconButtonIcon-2eaaLl"}},"6nCn":function(e,t,i){e.exports={gridContainer:"ChannelsGrid-gridContainer-u_bmj0",gridRowCell:"ChannelsGrid-gridRowCell-3P8MTs ChannelsGrid-gridContainer-u_bmj0",gridRow:"ChannelsGrid-gridRow-2odI0o ChannelsGridRow-container-2sCkCm",gridContent:"ChannelsGrid-gridContent-3Vhy_E",gridInnerContent:"ChannelsGrid-gridInnerContent-27SAIf VirtualListScroller-scroller-3aWqhy",timeline:"ChannelsGrid-timeline-ctXXxM ChannelsGridTimeline-container-3dKF2q",innerEmptyPage:"ChannelsGrid-innerEmptyPage-18fOTc InnerEmptyPage-innerEmptyPage-1MHKZS EmptyPage-emptyPage-2AM9uQ",banner:"ChannelsGrid-banner-1ij7nr ProgramGuideGracenoteMigrationBanner-container-1G9MWN"}},"6oI5":function(e,t){},"6uTd":function(e,t,i){e.exports={slider:"Slider-slider-2oLVTs",isDisabled:"Slider-isDisabled-1hEOtJ",thumb:"Slider-thumb-2QGiU1 Link-link-2n0yJn",isDragging:"Slider-isDragging-3wZpYx",hasAutoHideThumb:"Slider-hasAutoHideThumb-tpdhCS",track:"Slider-track-28JOSn",fill:"Slider-fill-35GFqs",secondaryFill:"Slider-secondaryFill-31_05F Slider-fill-35GFqs",thumbTrack:"Slider-thumbTrack-21hGVQ"}},"7/aH":function(e,t,i){"use strict";function n(e,t){return null==e.get("startMetadataItemEntityID")&&null!=e.get("startOffsetMilliseconds")||e.get("startMetadataItemEntityID")===t.entityID()?e.get("startOffsetMilliseconds"):t.get("viewOffset")||0}i.d(t,"a",(function(){return n}))},"7DXn":function(e,t,i){e.exports={container:"VideoChapters-container-1hROwi AudioVideoStripeContainer-container-MI02OU"}},"7ElX":function(e,t,i){e.exports={container:"ChannelsGridDetailRow-container-3CcnPZ",preplayContainer:"ChannelsGridDetailRow-preplayContainer-2ECfQQ",poster:"ChannelsGridDetailRow-poster-3A0RgC PosterCard-card-1rN9gd",navigationContainer:"ChannelsGridDetailRow-navigationContainer-P4_-il"}},"7GFg":function(e,t,i){e.exports={modalFooter:"ModalFooter-modalFooter-3ZumZj",button:"ModalFooter-button-1ia6_L Button-button-2kT68l Link-link-2n0yJn",splitButton:"ModalFooter-splitButton-bwqoMJ ModalFooter-button-1ia6_L Button-button-2kT68l Link-link-2n0yJn"}},"7GJu":function(e,t,i){e.exports={container:"AudioVideoPlaybackSettings-container-2pTAjN AudioVideoStripeContainer-container-MI02OU",title:"AudioVideoPlaybackSettings-title-2MRYF1",menusContainer:"AudioVideoPlaybackSettings-menusContainer-2bvbji"}},"7MQH":function(e,t,i){e.exports={stylesContainer:"MetadataListStylesMenu-stylesContainer-dCRuLN",slider:"MetadataListStylesMenu-slider-2AFE-t Slider-slider-2oLVTs",stylesButton:"MetadataListStylesMenu-stylesButton-2ntxAp Link-link-2ew_DK",stylesButtonWithArrow:"MetadataListStylesMenu-stylesButtonWithArrow-3xDyWL MetadataListStylesMenu-stylesButton-2ntxAp Link-link-2ew_DK",stylesIcon:"MetadataListStylesMenu-stylesIcon-11jRpQ"}},"7MiL":function(e,t,i){var n=i("3O+N");function a(e){return e&&(e.__esModule?e.default:e)}e.exports=(n.default||n).template((function(e,t,n,s,r){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),r=r||{};var o,l="",c=this.escapeExpression;return l+='<h3>Browser</h3> <p><span class="text-muted">Host:</span> '+c("function"==typeof(o=t&&t.host)?o.apply(t):o)+'</p> <p><span class="text-muted">User Agent:</span> '+c("function"==typeof(o=t&&t.userAgent)?o.apply(t):o)+'</p> <p><span class="text-muted">Name:</span> '+c("function"==typeof(o=null==(o=t&&t.browser)||!1===o?o:o.name)?o.apply(t):o)+'</p> <p><span class="text-muted">Version:</span> '+c("function"==typeof(o=null==(o=t&&t.browser)||!1===o?o:o.version)?o.apply(t):o)+'</p> <p><span class="text-muted">Platform:</span> '+c("function"==typeof(o=null==(o=t&&t.browser)||!1===o?o:o.platform)?o.apply(t):o)+'</p> <p><span class="text-muted">Mobile:</span> '+c(a(i("Dj7K")).call(t,null==(o=t&&t.browser)||!1===o?o:o.mobile,{hash:{},data:r}))+'</p> <h3>User</h3> <p><span class="text-muted">Username:</span> '+c("function"==typeof(o=null==(o=t&&t.user)||!1===o?o:o.username)?o.apply(t):o)+" ",((o=n.if.call(t,t&&t.hasPlexPass,{hash:{},inverse:this.noop,fn:this.program(1,(function(e,t){return"(Plex Pass)"}),r),data:r}))||0===o)&&(l+=o),l+='</p> <p><span class="text-muted">Email:</span> '+c("function"==typeof(o=null==(o=t&&t.user)||!1===o?o:o.email)?o.apply(t):o)+'</p> <p><span class="text-muted">Token:</span> '+c("function"==typeof(o=null==(o=t&&t.user)||!1===o?o:o.accessToken)?o.apply(t):o)+'</p> <h3>plex.tv</h3> <p><span class="text-muted">URL:</span> '+c("function"==typeof(o=t&&t.cloudServerUrl)?o.apply(t):o)+'</p> <p><span class="text-muted">Available:</span> '+c(a(i("Dj7K")).call(t,null==(o=t&&t.cloudServer)||!1===o?o:o.available,{hash:{},data:r}))+'</p> <p><span class="text-muted">Authorized:</span> '+c(a(i("Dj7K")).call(t,null==(o=t&&t.cloudServer)||!1===o?o:o.authorized,{hash:{},data:r}))+"</p> <h3>Primary Server</h3> ",((o=n.if.call(t,t&&t.primaryServer,{hash:{},inverse:this.program(5,(function(e,t){return' <p><span class="text-muted">none</span></p> '}),r),fn:this.program(3,(function(e,t){var i,n="";return n+=' <p><span class="text-muted">Name:</span> '+c("function"==typeof(i=null==(i=e&&e.primaryServer)||!1===i?i:i.friendlyName)?i.apply(e):i)+'</p> <p><span class="text-muted">URL:</span> '+c("function"==typeof(i=e&&e.primaryServerUrl)?i.apply(e):i)+'</p> <p><span class="text-muted">Version:</span> '+c("function"==typeof(i=null==(i=e&&e.primaryServer)||!1===i?i:i.version)?i.apply(e):i)+'</p> <p><span class="text-muted">Token:</span> '+c("function"==typeof(i=null==(i=e&&e.primaryServer)||!1===i?i:i.accessToken)?i.apply(e):i)+"</p> "}),r),data:r}))||0===o)&&(l+=o),l+=" "}))},"7Uac":function(e,t,i){var n=i("3O+N");e.exports=(n.default||n).template((function(e,t,i,n,a){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),a=a||{};var s,r,o="";return o+='<div class="row row-padded"> <div class="col-md-8 col-md-offset-2"> <h1>',((s=(r=i.title)||"function"==typeof(r=t&&t.title)?r.call(t,{hash:{},data:a}):r)||0===s)&&(o+=s),o+="</h1> ",((s=i.if.call(t,t&&t.subtitle,{hash:{},inverse:this.noop,fn:this.program(1,(function(e,t){var n,a,s="";return s+=' <h2 class="text-muted">',((n=(a=i.subtitle)||"function"==typeof(a=e&&e.subtitle)?a.call(e,{hash:{},data:t}):a)||0===n)&&(s+=n),s+="</h2> "}),a),data:a}))||0===s)&&(o+=s),o+=" ",((s=i.if.call(t,t&&t.message,{hash:{},inverse:this.noop,fn:this.program(3,(function(e,t){var n,a,s="";return s+=" <p>",((n=(a=i.message)||"function"==typeof(a=e&&e.message)?a.call(e,{hash:{},data:t}):a)||0===n)&&(s+=n),s+="</p> "}),a),data:a}))||0===s)&&(o+=s),o+=" </div> </div>"}))},"7epD":function(e,t,i){e.exports={scroller:"Scroller-scroller-CQJq74",none:"Scroller-none-ljb6p8",vertical:"Scroller-vertical-2wA-jb",auto:"Scroller-auto-2axzk9",horizontal:"Scroller-horizontal-fw4wh4",omni:"Scroller-omni-Mntgp9"}},"7f9p":function(e,t,i){e.exports={scroller:"SidebarScroller-scroller-2wp83y"}},"7jkP":function(e,t,i){e.exports={button:"SpinnerButton-button-1A8EcL Button-button-2kT68l Link-link-2n0yJn",spinnerContainer:"SpinnerButton-spinnerContainer-1NdZWc",spinner:"SpinnerButton-spinner-1TgDPI Spinner-spinner-Niere7 spin-spin-2kLwt_",label:"SpinnerButton-label-qxG01S",isSpinning:"SpinnerButton-isSpinning-bbh-4T"}},"7ykk":function(e,t,i){e.exports={unwatchedCircle:"MetadataTitleProgress-unwatchedCircle-25KKnh",medium:"MetadataTitleProgress-medium-1tjFo8"}},"7za+":function(e,t,i){"use strict";i.d(t,"n",(function(){return n})),i.d(t,"k",(function(){return a})),i.d(t,"d",(function(){return s})),i.d(t,"c",(function(){return r})),i.d(t,"p",(function(){return o})),i.d(t,"l",(function(){return l})),i.d(t,"a",(function(){return c})),i.d(t,"b",(function(){return d})),i.d(t,"h",(function(){return u})),i.d(t,"g",(function(){return p})),i.d(t,"f",(function(){return h})),i.d(t,"e",(function(){return m})),i.d(t,"j",(function(){return g})),i.d(t,"i",(function(){return v})),i.d(t,"m",(function(){return y})),i.d(t,"o",(function(){return f})),i.d(t,"q",(function(){return b}));const n="servers",a="providers",s="libraries",r="hubs",o="users",l="resources",c="friends",d="homeUsers",u="metadataLists",p="metadataItems",h="mediaSubscriptions",m="liveTVSessions",g="playQueueItems",v="playlistItems",y="searchResults",f="transcodeJobs",b="watchTogetherRooms"},"8/e7":function(e,t,i){e.exports={container:"TopPlayedList-container-QVdmM- ServerDashboardSectionContent-container-3rMPaP",column:"TopPlayedList-column-2auHqz"}},"806G":function(e,t,i){const n=i("DhI4").default,a=i("a4Cb");e.exports=a(n)},"814K":function(e,t,i){var n=i("3O+N");function a(e){return e&&(e.__esModule?e.default:e)}e.exports=(n.default||n).template((function(e,t,n,s,r){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),r=r||{};var o,l="",c=this.escapeExpression,d=this;function u(e,t,i){var a,s="";return s+=' <ul class="media-info-file-list well"> ',((a=n.if.call(e,i&&i.showDeleteFile,{hash:{},inverse:d.noop,fn:d.program(5,p,t),data:t}))||0===a)&&(s+=a),s+=" ",((a=n.each.call(e,e&&e.Part,{hash:{},inverse:d.noop,fn:d.programWithDepth(10,g,t,i),data:t}))||0===a)&&(s+=a),s+=" </ul> "}function p(e,t){var n,s="";return s+=' <a href="#" data-media-item="'+c("function"==typeof(n=null==t||!1===t?t:t.index)?n.apply(e):n)+'" class="delete-btn text-danger pull-right"> <i class="glyphicon bin"></i> ',((n=a(i("w+Xr")).call(e,null==(n=e&&e.Part)||!1===n?n:n.length,"1",{hash:{},inverse:d.program(8,m,t),fn:d.program(6,h,t),data:t}))||0===n)&&(s+=n),s+=" </a> "}function h(e,t){var n="";return n+=" "+c(a(i("d8WC")).call(e,"Delete File",{hash:{},data:t}))+" "}function m(e,t){var n="";return n+=" "+c(a(i("d8WC")).call(e,"Delete Files",{hash:{},data:t}))+" "}function g(e,t,i){var a,s="";return s+=" <li> ",((a=n.if.call(e,i&&i.showFilepath,{hash:{},inverse:d.program(13,y,t),fn:d.program(11,v,t),data:t}))||0===a)&&(s+=a),s+=" ",((a=n.unless.call(e,e&&e.accessible,{hash:{},inverse:d.noop,fn:d.program(15,f,t),data:t}))||0===a)&&(s+=a),s+=" </li> "}function v(e,t){var i,n="";return n+=" "+c("function"==typeof(i=e&&e.file)?i.apply(e):i)+" "}function y(e,t){var n="";return n+=" "+c(a(i("3bbS")).call(e,e&&e.file,{hash:{},data:t}))+" "}function f(e,t){var i,a="";return a+=" ",((i=n.if.call(e,e&&e.exists,{hash:{},inverse:d.program(18,I,t),fn:d.program(16,b,t),data:t}))||0===i)&&(a+=i),a+=" "}function b(e,t){var n="";return n+=' <span class="label label-danger" data-toggle="tooltip" title="'+c(a(i("d8WC")).call(e,"Please check the permissions for this file.",{hash:{},data:t}))+'">'+c(a(i("d8WC")).call(e,"Inaccessible",{hash:{},data:t}))+"</span> "}function I(e,t){var n="";return n+=' <span class="label label-danger" data-toggle="tooltip" title="'+c(a(i("d8WC")).call(e,"Please check that this file exists and the necessary drive is mounted.",{hash:{},data:t}))+'">'+c(a(i("d8WC")).call(e,"Unavailable",{hash:{},data:t}))+"</span> "}function S(e,t){var n,s="";return s+=' <li> <span class="detail-label">'+c(a(i("d8WC")).call(e,e&&e.name,{hash:{},data:t}))+'</span> <span class="detail">'+c("function"==typeof(n=e&&e.value)?n.apply(e):n)+"</span> </li> "}function C(e,t,s){var r,o="";return o+=' <div class="part"> <div class="props"> <h4>'+c(a(i("d8WC")).call(e,"Part",{hash:{},data:t}))+"</h4> <ul> ",((r=n.each.call(e,e&&e.properties,{hash:{},inverse:d.noop,fn:d.program(21,S,t),data:t}))||0===r)&&(o+=r),o+=' </ul> </div> <div class="streams"> ',((r=n.each.call(e,e&&e.Stream,{hash:{},inverse:d.noop,fn:d.program(24,M,t),data:t}))||0===r)&&(o+=r),o+=" ",((r=n.if.call(e,s&&s.loading,{hash:{},inverse:d.noop,fn:d.program(33,T,t),data:t}))||0===r)&&(o+=r),o+=" </div> </div> "}function M(e,t){var s,r="";return r+=' <div class="props"> ',((s=a(i("w+Xr")).call(e,e&&e.streamType,"1",{hash:{},inverse:d.program(27,P,t),fn:d.program(25,D,t),data:t}))||0===s)&&(r+=s),r+=" <ul> ",((s=n.each.call(e,e&&e.properties,{hash:{},inverse:d.noop,fn:d.program(21,S,t),data:t}))||0===s)&&(r+=s),r+=" </ul> </div> "}function D(e,t){var n="";return n+=" <h4>"+c(a(i("d8WC")).call(e,"Video",{hash:{},data:t}))+"</h4> "}function P(e,t){var n;return(n=a(i("w+Xr")).call(e,e&&e.streamType,"2",{hash:{},inverse:d.program(30,j,t),fn:d.program(28,O,t),data:t}))||0===n?n:""}function O(e,t){var n="";return n+=" <h4>"+c(a(i("d8WC")).call(e,"Audio",{hash:{},data:t}))+"</h4> "}function j(e,t){var n;return(n=a(i("w+Xr")).call(e,e&&e.streamType,"3",{hash:{},inverse:d.noop,fn:d.program(31,w,t),data:t}))||0===n?n:""}function w(e,t){var n="";return n+=" <h4>"+c(a(i("d8WC")).call(e,"Subtitles",{hash:{},data:t}))+"</h4> "}function T(e,t){var n="";return n+=' <div class="props"> <h4>'+c(a(i("d8WC")).call(e,"Loading",{hash:{},data:t}))+"...</h4> </div> "}function E(e,t){var n,s="";return s+=' <div class="modal-footer"> <div class="pull-left"> <a href="'+c("function"==typeof(n=e&&e.url)?n.apply(e):n)+'" target="_blank">'+c(a(i("d8WC")).call(e,"View XML",{hash:{},data:t}))+"</a> </div> </div> "}return l+='<div class="modal-dialog"> <div class="modal-content"> <div class="modal-header"> <button type="button" class="close" data-dismiss="modal"><i class="glyphicon remove-2"></i></button> <h4 class="modal-title"><i class="modal-icon glyphicon circle-info"></i> '+c(a(i("d8WC")).call(t,"Media Info",{hash:{},data:r}))+'</h4> </div> <div class="modal-body modal-body-scroll dark-scrollbar"> <div class="position-ref ',((o=n.unless.call(t,t&&t.hasStreams,{hash:{},inverse:d.noop,fn:d.program(1,(function(e,t){return"hide-streams-column"}),r),data:r}))||0===o)&&(l+=o),l+='"> ',((o=n.if.call(t,t&&t.hasFiles,{hash:{},inverse:d.noop,fn:d.program(3,(function(e,t){var s,r="";return r+=' <div class="files"> <h4>'+c(a(i("d8WC")).call(e,"Files",{hash:{},data:t}))+"</h4> ",((s=n.each.call(e,e&&e.media,{hash:{},inverse:d.noop,fn:d.programWithDepth(4,u,t,e),data:t}))||0===s)&&(r+=s),r+=" </div> "}),r),data:r}))||0===o)&&(l+=o),l+=" ",((o=n.each.call(t,t&&t.media,{hash:{},inverse:d.noop,fn:d.programWithDepth(20,(function(e,t,s){var r,o="";return o+=' <div class="media"> <div class="props"> <h4>'+c(a(i("d8WC")).call(e,"Media",{hash:{},data:t}))+"</h4> <ul> ",((r=n.each.call(e,e&&e.properties,{hash:{},inverse:d.noop,fn:d.program(21,S,t),data:t}))||0===r)&&(o+=r),o+=" </ul> </div> ",((r=n.each.call(e,e&&e.Part,{hash:{},inverse:d.noop,fn:d.programWithDepth(23,C,t,s),data:t}))||0===r)&&(o+=r),o+=" </div> "}),r,t),data:r}))||0===o)&&(l+=o),l+=" </div> </div> ",((o=n.if.call(t,t&&t.key,{hash:{},inverse:d.noop,fn:d.programWithDepth(35,(function(e,t,i){var a;return(a=n.if.call(e,i&&i.showFilepath,{hash:{},inverse:d.noop,fn:d.program(36,E,t),data:t}))||0===a?a:""}),r,t),data:r}))||0===o)&&(l+=o),l+=" </div> </div> "}))},"81Xg":function(e,t,i){var n=i("3O+N");e.exports=(n.default||n).template((function(e,t,n,a,s){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),s=s||{};var r,o,l="",c=this.escapeExpression;return l+='<div class="modal-dialog"> <div class="modal-content"> <div class="modal-header"> <button type="button" class="close" data-dismiss="modal"><i class="glyphicon remove-2"></i></button> <h4 class="modal-title"><i class="modal-icon glyphicon download"></i> '+c((o=i("d8WC"),o&&(o.__esModule?o.default:o)).call(t,"Sync Status",{hash:{},data:s}))+'</h4> </div> <div class="modal-body modal-body-scroll dark-scrollbar"> <h4 class="sync-item-title">'+c("function"==typeof(r=t&&t.rootTitle)?r.apply(t):r)+" &middot; "+c("function"==typeof(r=t&&t.title)?r.apply(t):r)+"</h4> ",((r=n.if.call(t,null==(r=t&&t.Status)||!1===r?r:r.failure,{hash:{},inverse:this.noop,fn:this.program(1,(function(e,t){var i,n="";return n+=' <p class="text-muted"><i class="glyphicon warning-sign"></i> '+c("function"==typeof(i=null==(i=e&&e.Status)||!1===i?i:i.failure)?i.apply(e):i)+"</p> "}),s),data:s}))||0===r)&&(l+=r),l+=' <div class="sync-status-list-container"></div> </div> </div> </div> '}))},"85+Z":function(e,t,i){e.exports={watchlistBadge:"WatchlistBadge-watchlistBadge-JTghpe Badge-badge-3I6Kzp"}},"87wx":function(e,t,i){e.exports={downloadIcon:"DownloadIcon-downloadIcon-351NIN PlexIcon-plexIcon-8Tamaj",hasShadow:"DownloadIcon-hasShadow-5mpN0m",arrowIcon:"DownloadIcon-arrowIcon-2Lp78c",progressBarContainer:"DownloadIcon-progressBarContainer-1Qpx70 CircularProgressBar-absoluteCenterCircularProgressBarContainer--zr4W7",hasProgress:"DownloadIcon-hasProgress-2Wq4Tq",showIndeterminate:"DownloadIcon-showIndeterminate-rVIAWL"}},"8CTZ":function(e,t,i){e.exports={badge:"Badge-badge-3I6Kzp",icon:"Badge-icon-24omK1"}},"8Ipq":function(e,t,i){e.exports={infoContainer:"MediaInfo-infoContainer-2LgYro",info:"MediaInfo-info-JF98Bn",hidden:"MediaInfo-hidden-tBjNBF"}},"8NF1":function(e,t,i){"use strict";i.d(t,"a",(function(){return l}));var n=i("pXC0"),a=i("f2wi"),s=i("rXDx");function r({metadataItemModel:e,listType:t}){const i=e.get("playlistType");if(i)return i;const r=e.get("subtype");if(r===a.c)return n.a;const l=e.get("type");return l===s.e?o(null,r):o(t,l)}function o(e,t){let i;return e&&(i=s.t(e)),i||(i=s.t(t)),i&&i.mediaType}function l(e){const{type:t,metadataType:i,metadataItemModel:l,metadataItemModels:c,metadataListModel:d}=e;return t||(i?o(i):l?r(e):c&&c.length?r(Object.assign({},e,{metadataItemModel:c[0]})):d?function({metadataListModel:e,listType:t}){return e.get("firstItemSubtype")===a.c?n.a:e.get("firstItemType")===s.e?o(t,e.get("firstItemSubtype")):o(t,e.get("firstItemType"))}(e):void 0)}},"8Pq2":function(e,t,i){var n=i("3O+N");function a(e){return e&&(e.__esModule?e.default:e)}e.exports=(n.default||n).template((function(e,t,n,s,r){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),r=r||{};var o,l="",c=this.escapeExpression;return l+='<form class="edit-metadata-form"> ',((o=n.if.call(t,null==(o=t&&t.editableTags)||!1===o?o:o["track.style"],{hash:{},inverse:this.noop,fn:this.program(1,(function(e,t){var n,s="";return s+=' <div class="row"> <div class="col-md-12"> '+c(a(i("nptq")).call(e,"lockableTagInput",{hash:{label:"Styles",name:"style",attribute:"styles",locked:(n=e&&e.locked,null==n||!1===n?n:n.style)},data:t}))+" </div> </div> "}),r),data:r}))||0===o)&&(l+=o),l+=" ",((o=n.if.call(t,null==(o=t&&t.editableTags)||!1===o?o:o["track.mood"],{hash:{},inverse:this.noop,fn:this.program(3,(function(e,t){var n,s="";return s+=' <div class="row"> <div class="col-md-12"> '+c(a(i("nptq")).call(e,"lockableTagInput",{hash:{label:"Moods",name:"mood",attribute:"moods",locked:(n=e&&e.locked,null==n||!1===n?n:n.mood)},data:t}))+" </div> </div> "}),r),data:r}))||0===o)&&(l+=o),l+=" </form> "}))},"8UDN":function(e,t,i){e.exports={tagsListLink:"PrePlayTagListLink-tagsListLink-1VUQaN Link-link-2ew_DK"}},"8UJ8":function(e,t,i){e.exports={progress:"ServerDownloadProgressBar-progress-2i0Zm3",emptyBar:"ServerDownloadProgressBar-emptyBar-1Y1EQQ",bar:"ServerDownloadProgressBar-bar-3VI-Vq"}},"8YbF":function(e,t,i){var n=i("3O+N");function a(e){return e&&(e.__esModule?e.default:e)}e.exports=(n.default||n).template((function(e,t,n,s,r){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),r=r||{};var o,l="",c=this.escapeExpression;return l+='<form class="edit-section-advanced-form settings-container"> <div class="language-group"> <input type="hidden" name="language" value="'+c("function"==typeof(o=null==(o=t&&t.section)||!1===o?o:o.language)?o.apply(t):o)+'"> </div> <div class="row"> <div class="col-md-12"> <div class="form-group scanner-group hidden"> <label for="edit-section-scanner" class="control-label"> '+c(a(i("d8WC")).call(t,"Scanner",{hash:{},data:r}))+' <span class="control-error">'+c(a(i("d8WC")).call(t,"A scanner is required.",{hash:{},data:r}))+'</span> </label> <select id="edit-section-scanner" name="scanner"></select> </div> </div> </div> <div class="row"> <div class="col-md-12"> <div class="form-group agent-group hidden"> <label for="edit-section-agent" class="control-label"> '+c(a(i("d8WC")).call(t,"Agent",{hash:{},data:r}))+' <span class="control-error">'+c(a(i("d8WC")).call(t,"An agent is required.",{hash:{},data:r}))+'</span> </label> <select id="edit-section-agent" name="agent"></select> </div> </div> </div> <div class="row"> <div class="col-md-12 section-agent-settings-region"></div> </div> <div class="row"> <div class="col-md-12 section-settings-region"></div> </div> </form> '}))},"8cAR":function(e,t,i){e.exports={header:"UsersSettingsPageListHeader-header-Xombf9",pageHeaderLeft:"UsersSettingsPageListHeader-pageHeaderLeft-3YO7gD",pageHeaderRight:"UsersSettingsPageListHeader-pageHeaderRight-2vIIyU"}},"8ck4":function(e,t,i){e.exports={sourceItem:"SelectSourceItemInput-sourceItem-27ZJnH",sourceTitle:"SelectSourceItemInput-sourceTitle-5GEyy5",sourceIconContainer:"SelectSourceItemInput-sourceIconContainer-MjtV8A",iconImg:"SelectSourceItemInput-iconImg-CfO67q SourceSidebarItem-iconImg-2zgKLr",input:"SelectSourceItemInput-input-ioDkeo CheckInput-input-1Pi_2g"}},"8iII":function(e,t,i){"use strict";var n=i("ZTgP"),a=i("sKrL");const s={[n.FAIRPLAY]:a.FAIRPLAY,[n.FAIRPLAY_AUDIO]:a.FAIRPLAY,[n.FAIRPLAY_VIDEO]:a.FAIRPLAY,[n.PLAYREADY]:a.PLAYREADY,[n.PLAYREADY_AUDIO]:a.PLAYREADY,[n.PLAYREADY_VIDEO]:a.PLAYREADY,[n.WIDEVINE]:a.WIDEVINE,[n.WIDEVINE_AUDIO]:a.WIDEVINE,[n.WIDEVINE_VIDEO]:a.WIDEVINE};t.a=s},"8idU":function(e,t,i){e.exports={placeholder:"MetadataDirectoryPosterCell-placeholder-1qJ1Mw MetadataPosterCardFace-poster-L2P6rC",titleContainer:"MetadataDirectoryPosterCell-titleContainer-2B6MFr",title:"MetadataDirectoryPosterCell-title-3smW-W"}},"8jJ5":function(e,t,i){e.exports={link:"MetadataSpotlightCellLink-link-3CKqJt"}},"8lLI":function(e,t,i){var n=i("3O+N");e.exports=(n.default||n).template((function(e,t,i,n,a){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),a=a||{};var s,r="";return r+='<textarea class="form-control">',r+=(0,this.escapeExpression)((s=i.logs)||"function"==typeof(s=t&&t.logs)?s.call(t,{hash:{},data:a}):s)+"</textarea> "}))},"8n2K":function(e,t,i){e.exports={form:"ShareUsers-form-YsG9bs",modalBody:"ShareUsers-modalBody-3Izxn4 ModalBody-modalBody--5uHSu",messages:"ShareUsers-messages-25vig6",inputContainer:"ShareUsers-inputContainer-1zfFiC",icon:"ShareUsers-icon-1QZ44l",checkIcon:"ShareUsers-checkIcon-2Y5A3A ShareUsers-icon-1QZ44l",warningMessage:"ShareUsers-warningMessage-2bn0A-",restrictionsInput:"ShareUsers-restrictionsInput-JX1Mwa RestrictionProfilesInput-input-1u2NCr SelectInput-input-x1tNmq input-input-1P2Vi4",list:"ShareUsers-list-1AWlgI UserList-list-1xb8US Scroller-vertical-VScFLT"}},"8pg1":function(e,t,i){e.exports={logo:"DiscoverEmptyTidalPage-logo-3po-Ac EmptyPage-icon-31D3ZA"}},"8ros":function(e,t,i){e.exports={recordButton:"EPGPrePlayRecordButton-recordButton-1Y_Dwm PrePlayStatusButton-statusButton-28XJ7z Button-default--yDCH5",recordingIcon:"EPGPrePlayRecordButton-recordingIcon-15EDBw",recordIcon:"EPGPrePlayRecordButton-recordIcon-3SHaDe"}},"8ruQ":function(e,t,i){e.exports={container:"MetadataUpNext-container-3BvKXW",upNext:"MetadataUpNext-upNext-3XxQSf"}},"8uQ2":function(e,t,i){"use strict";i.d(t,"a",(function(){return s}));var n=i("F/us"),a=i.n(n);function s(e,t,i){return void 0===i||a.a.isObject(t)?t:i}},"8wkp":function(e,t,i){var n=i("3O+N");function a(e){return e&&(e.__esModule?e.default:e)}e.exports=(n.default||n).template((function(e,t,n,s,r){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),r=r||{};var o,l="",c=this,d=this.escapeExpression;function u(e,t){return"disabled"}return l+='<div class="filter-bar"> <span class="page-count">'+d(a(i("d8WC")).call(t,"Page {1} of {2}",t&&t.escapedPage,t&&t.escapedPages,{hash:{},data:r}))+"</span> ",((o=n.unless.call(t,t&&t.shared,{hash:{},inverse:c.noop,fn:c.program(1,(function(e,t){var i,a="";return a+=' <div class="filter-bar-right"> <a class="previous-btn btn-gray ',((i=n.unless.call(e,e&&e.enablePrevious,{hash:{},inverse:c.noop,fn:c.program(2,u,t),data:t}))||0===i)&&(a+=i),a+='" href="#"> <i class="glyphicon chevron-left"></i> </a> <a class="next-btn btn-gray ',((i=n.unless.call(e,e&&e.enableNext,{hash:{},inverse:c.noop,fn:c.program(2,u,t),data:t}))||0===i)&&(a+=i),a+='" href="#"> <i class="glyphicon chevron-right"></i> </a> </div> '}),r),data:r}))||0===o)&&(l+=o),l+=" </div> ",((o=n.if.call(t,t&&t.shared,{hash:{},inverse:c.program(6,(function(e,t){return' <div class="alert-list-container"></div> '}),r),fn:c.program(4,(function(e,t){var n="";return n+=' <div class="row row-padded"> <div class="col-md-8 col-md-offset-2"> <h4 class="text-muted text-center">'+d(a(i("d8WC")).call(e,"Alerts are restricted from shared users.",{hash:{},data:t}))+"</h4> </div> </div> "}),r),data:r}))||0===o)&&(l+=o),l+=" "}))},"92Vb":function(e,t,i){"use strict";i.d(t,"a",(function(){return r}));var n=i("EVdn"),a=i.n(n),s=(i("slDQ"),i("+0Fo"));function r(e){const{key:t,getModel:i}=e;return Object(s.a)(Object.assign({},e,{fetch(e,n){const s=i(e,n),r=t?s.get(t):s;return r?r.fetch(n.options).then(null,(e,t)=>a.a.Deferred().reject(t).promise()):a.a.Deferred().reject({status:0}).promise()}}))}},"999L":function(e,t,i){var n=i("3O+N");e.exports=(n.default||n).template((function(e,t,i,n,a){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),a=a||{};var s,r="",o=this;function l(e,t){return"star"}function c(e,t){return"dislikes"}return((s=i.each.call(t,t&&t.stars,{hash:{},inverse:o.noop,fn:o.program(1,(function(e,t){var n,a="";return a+='<span class="star"><i class="star-icon glyphicon ',((n=i.if.call(e,e,{hash:{},inverse:o.program(4,c,t),fn:o.program(2,l,t),data:t}))||0===n)&&(a+=n),a+='"></i><span class="empty-icon"></span></span>'}),a),data:a}))||0===s)&&(r+=s),r+=" "}))},"9A7T":function(e,t,i){var n=i("3O+N");e.exports=(n.default||n).template((function(e,t,i,n,a){return this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),a=a||{},'<div class="modal-dialog"> <div class="modal-alert"></div> <div class="modal-content"></div> </div> '}))},"9IAt":function(e,t,i){var n=i("3O+N");function a(e){return e&&(e.__esModule?e.default:e)}e.exports=(n.default||n).template((function(e,t,n,s,r){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),r=r||{};var o,l="",c=this.escapeExpression,d=this;function u(e,t){return"selected"}return l+='<label class="control-label" for="convert-storage-location">'+c(a(i("d8WC")).call(t,"Version storage location",{hash:{},data:r}))+'</label> <select id="convert-storage-location" class="storage-location-select" name="storageLocation" ',((o=n.if.call(t,t&&t.disableLocation,{hash:{},inverse:d.noop,fn:d.program(1,(function(e,t){return"disabled"}),r),data:r}))||0===o)&&(l+=o),l+='> <option value="-1" ',((o=a(i("w+Xr")).call(t,t&&t.selectedLocationID,-1,{hash:{},inverse:d.noop,fn:d.program(3,u,r),data:r}))||0===o)&&(l+=o),l+=">"+c(a(i("d8WC")).call(t,"In folders with original items",{hash:{},data:r}))+"</option> ",((o=n.each.call(t,t&&t.locations,{hash:{},inverse:d.noop,fn:d.programWithDepth(5,(function(e,t,n){var s,r="";return r+=' <option value="'+c("function"==typeof(s=e&&e.id)?s.apply(e):s)+'" ',((s=a(i("w+Xr")).call(e,n&&n.selectedLocationID,e&&e.id,{hash:{},inverse:d.noop,fn:d.program(3,u,t),data:t}))||0===s)&&(r+=s),r+=">"+c(a(i("oLRI")).call(e,e&&e.path,50,20,{hash:{},data:t}))+"</option> "}),r,t),data:r}))||0===o)&&(l+=o),l+=' </select> <p class="help-block">'+c(a(i("d8WC")).call(t,'A "Plex Versions" folder will be created in your chosen location.',{hash:{},data:r}))+"</p> "}))},"9JDX":function(e,t,i){e.exports={header:"UserSharingSettingsPageHeader-header-EJMZn4"}},"9O+r":function(e,t,i){e.exports={group:"FormGroup-group-Gtcqpe"}},"9OK2":function(e,t,i){e.exports={button:"Button-button-2kT68l Link-link-2n0yJn",default:"Button-default--yDCH5",primary:"Button-primary-3fwLzo",success:"Button-success-lQICHw",danger:"Button-danger-2T8IUN",dark:"Button-dark-y17CmQ",small:"Button-small-PnnoGC",medium:"Button-medium-3g45_Q",large:"Button-large-3S9UdJ"}},"9RqU":function(e,t,i){e.exports={title:"RecordingPrioritySubscriptionTitle-title-3QS814",secondaryTitle:"RecordingPrioritySubscriptionTitle-secondaryTitle-2Wl5uS"}},"9TTh":function(e,t,i){var n=i("3O+N");function a(e){return e&&(e.__esModule?e.default:e)}e.exports=(n.default||n).template((function(e,t,n,s,r){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),r=r||{};var o,l="",c=this.escapeExpression;return l+='<form class="edit-metadata-form"> <div class="row"> <div class="col-md-12"> '+c(a(i("nptq")).call(t,"lockableTagInput",{hash:{label:"Writers",name:"writer",attribute:"writers",locked:(o=t&&t.locked,null==o||!1===o?o:o.writer)},data:r}))+' </div> </div> <div class="row"> <div class="col-md-12"> '+c(a(i("nptq")).call(t,"lockableTagInput",{hash:{label:"Directors",name:"director",attribute:"directors",locked:(o=t&&t.locked,null==o||!1===o?o:o.director)},data:r}))+" </div> </div> </form> "}))},"9U8V":function(e,t,i){e.exports={message:"EPGDownload-message-1nld-C",spinnerContainer:"EPGDownload-spinnerContainer-OHwKIR",spinnerMessage:"EPGDownload-spinnerMessage-j4e6Wi"}},"9XR6":function(e,t,i){e.exports={container:"ProviderUpsell-container-1IlPDU",text:"ProviderUpsell-text-15oxDl",logo:"ProviderUpsell-logo-2NAj0c",body:"ProviderUpsell-body-1XTnDH"}},"9Y86":function(e,t,i){"use strict";i.d(t,"a",(function(){return s}));var n=i("vOHB");function a(e,t){for(var i=!1,n=0;n<e.length;n++){var a,s=e[n],r=null!=(a=s.value)?a:s;Math.abs(r)<.06&&(r=0);var o=t.values.get(n);r!==o&&(o||r)?(i=!0,t.values.set(n,r),t.changed.add(n)):t.changed.delete(n)}return i}function s(e){if(!n.a.hasGamepads)return()=>{};var t=new Map,i=()=>{for(var n of(s=window.requestAnimationFrame(i),window.navigator.getGamepads()))if(null==n?void 0:n.connected){var r=t.get(n.index);if(r||t.set(n.index,r={axes:{changed:new Set,values:new Map},buttons:{changed:new Set,values:new Map},timestamp:0}),r.timestamp!==n.timestamp){var o=a(n.axes,r.axes),l=a(n.buttons,r.buttons);r.timestamp=n.timestamp,(o||l)&&e(n,r.axes,r.buttons)}}},s=window.requestAnimationFrame(i);return()=>{t.clear(),window.cancelAnimationFrame(s)}}},"9YI8":function(e,t,i){e.exports={container:"ProgramGuideGracenoteMigrationBanner-container-1G9MWN",messageContainer:"ProgramGuideGracenoteMigrationBanner-messageContainer-Ecs5cw",message:"ProgramGuideGracenoteMigrationBanner-message-1nNQmA",icon:"ProgramGuideGracenoteMigrationBanner-icon-3z9koh",button:"ProgramGuideGracenoteMigrationBanner-button-Ayhpr7 Button-button-2kT68l Link-link-2n0yJn"}},"9gKU":function(e,t,i){"use strict";var n=i("B69o"),a=i("CHn6"),s=i("mOXR");var r=a.a.extend({name:"FieldModel",context:["server"],idAttribute:"key",rootPropertyName:"Field",syncedAttrs:{key:s.a.string,title:s.a.string,type:s.a.string,subType:s.a.string}});var o=n.a.extend({name:"FieldCollection",context:["server"],model:r}),l=i("5J4V"),c=i("5lOB");var d=a.a.extend({name:"MetadataTypeModel",context:["server"],idAttribute:"key",rootPropertyName:"Type",syncedAttrs:{type:s.a.string,subtype:s.a.string,key:s.a.string,title:s.a.string,context:s.a.string},syncedRelations:{filters:{relationClass:l.a,rootPropertyName:"Filter"},sorts:{relationClass:c.a,rootPropertyName:"Sort"},fields:{relationClass:o,rootPropertyName:"Field"}}});const u=n.a.extend({name:"MetadataTypeCollection",context:["server"],model:d});t.a=u},"9gax":function(e,t,i){e.exports={container:"LiveTVSettingsPage-container-KCZxGV"}},"9iqW":function(e,t,i){var n=i("3O+N");function a(e){return e&&(e.__esModule?e.default:e)}e.exports=(n.default||n).template((function(e,t,n,s,r){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),r=r||{};var o="",l=this.escapeExpression;return o+='<div class="convert-message-container row"> <div class="col-sm-3 text-center"> <p class="convert-success-icon"><i class="glyphicon ok-2"></i></p> </div> <div class="col-sm-8"> <h4>'+l(a(i("d8WC")).call(t,"This media is being converted.",{hash:{},data:r}))+"</h4> <h4>"+l(a(i("d8WC")).call(t,"Watch the status of the conversion {1}here{2}.",'<a class="status-link" href="#">',"</a>",{hash:{},data:r}))+"</h4> </div> </div> "}))},"9jA7":function(e,t,i){var n=i("3O+N");function a(e){return e&&(e.__esModule?e.default:e)}e.exports=(n.default||n).template((function(e,t,n,s,r){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),r=r||{};var o,l="",c=this.escapeExpression;return l+='<a class="show-actions playlist-inner-item '+c("function"==typeof(o=t&&t.type)?o.apply(t):o)+'" href="#"> <div class="media-actions media-reorder"> <div class="sortable-handle btn-gray-link"><i class="glyphicon show-lines"></i></div> </div> <div class="generator-poster-container"> <div class="media-poster"></div> </div> <div class="media-actions generator-actions"> <button class="retry-btn media-action-btn btn-gray-link" tabindex="-1"><i class="glyphicon repeat"></i></button> <button class="edit-btn media-action-btn btn-gray-link" tabindex="-1"><i class="glyphicon pencil"></i></button> <button class="delete-btn media-action-btn btn-gray-link btn-danger" tabindex="-1"><i class="glyphicon remove-2"></i></button> </div> <div class="media-item"> <div class="media-details"> <div class="generator-title col-lg"></div> <div class="generator-target col-md col-secondary"></div> <div class="generator-status col-md col-secondary"> <div class="generator-status-container generator-status-complete"> <i class="generator-status-icon glyphicon ok-2 text-success"></i> '+c(a(i("d8WC")).call(t,"Complete",{hash:{},data:r}))+' </div> <div class="generator-status-container generator-status-failed"> <i class="generator-status-icon glyphicon circle-exclamation-mark text-danger"></i> <span class="generator-status-failed-message">'+c(a(i("d8WC")).call(t,"Failed",{hash:{},data:r}))+'</span> </div> <div class="generator-status-container generator-status-converting"> <i class="generator-status-icon glyphicon restart"></i> '+c(a(i("d8WC")).call(t,"Converting",{hash:{},data:r}))+' </div> <div class="generator-status-container generator-status-pending"> <i class="generator-status-icon glyphicon clock"></i> '+c(a(i("d8WC")).call(t,"Waiting",{hash:{},data:r}))+" </div> </div> </div> </div> </a> "}))},"9kxW":function(e,t,i){e.exports={sidebarUnderlay:"EmptySourceSidebar-sidebarUnderlay-vtLxD9 SourceSidebar-sidebarUnderlay-2odIuy",collapsedSidebar:"EmptySourceSidebar-collapsedSidebar-ORj7Lb SourceSidebar-collapsedSidebar-3MDUee SourceSidebar-sidebar-YpV2mw",openSidebar:"EmptySourceSidebar-openSidebar-uzbF72 SourceSidebar-openSidebar-364QEr SourceSidebar-sidebar-YpV2mw"}},"9l/z":function(e,t,i){e.exports={headerContainer:"CurrentSource-headerContainer-wlq8ce"}},"9leU":function(e,t,i){e.exports={photoContainer:"PlaylistPhotoItem-photoContainer-3t9rft MetadataPhotoCell-photoContainer-1HkmQE",image:"PlaylistPhotoItem-image-2oORkY MetadataPhotoCell-image-3KqaFc",photo:"PlaylistPhotoItem-photo-10hVk3 MetadataPhotoCell-photo-Po3Kxh MetadataPosterCardFace-face--dz_Dx MetadataPosterCardFace-poster-L2P6rC",badge:"PlaylistPhotoItem-badge-3F6lgO MetadataPhotoCell-badge-2L0KJM",isSelected:"PlaylistPhotoItem-isSelected-9usYFV MetadataPosterCardFace-isSelected-1XUgkl"}},"9pnm":function(e,t,i){e.exports={container:"UnclaimedServer-container-2zE1QO",message:"UnclaimedServer-message-16zts1",messageHeader:"UnclaimedServer-messageHeader-6cNqhY",messageDetails:"UnclaimedServer-messageDetails-2ERBDY"}},"9rAt":function(e,t,i){e.exports={toggle:"NowPlaying-toggle-1ztIUg Link-link-2ew_DK",tilesContainer:"NowPlaying-tilesContainer-3DkObs",nowPlayingList:"NowPlaying-nowPlayingList-2guNhr",column:"NowPlaying-column-2-BR9u",emptyMessage:"NowPlaying-emptyMessage-2bgxAw ServerDashboardPageMessage-container-2qUY4V"}},"9uqb":function(e,t,i){e.exports={errorMessage:"MediaSubscriptionNoLibrary-errorMessage-39UUf6",addIcon:"MediaSubscriptionNoLibrary-addIcon-2B_Pqv"}},AKFi:function(e,t,i){e.exports={avatar:"ServerAvatar-avatar-2VGH0z",icon:"ServerAvatar-icon-DrP34o"}},AQCF:function(e,t,i){"use strict";var n=i("eNuQ");t.a=function(e){return e.repeatOne?n.c:e.repeatAll?n.a:n.b}},AXwp:function(e,t,i){"use strict";i.d(t,"a",(function(){return n}));const n="0"},"Aeq+":function(e,t,i){var n=i("3O+N");e.exports=(n.default||n).template((function(e,t,n,a,s){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),s=s||{};var r,o,l="",c=this.escapeExpression;return l+='<a class="dropdown-toggle" href="#auto-match-dropdown" data-toggle="dropdown">'+c((o=i("d8WC"),o&&(o.__esModule?o.default:o)).call(t,"Auto Match",{hash:{},data:s}))+' <i class="caret-icon caret-icon-sm"></i></a> <ul class="dropdown-menu"> ',((r=n.each.call(t,t&&t.agents,{hash:{},inverse:this.noop,fn:this.program(1,(function(e,t){var i,n="";return n+=' <li><a class="auto-match-agent" href="#" data-id="'+c("function"==typeof(i=e&&e.identifier)?i.apply(e):i)+'">'+c("function"==typeof(i=e&&e.name)?i.apply(e):i)+"</a></li> "}),s),data:s}))||0===r)&&(l+=r),l+=" </ul> "}))},AoyP:function(e,t,i){e.exports={container:"PlexAccountUpsellPage-container-ntao9A",panel:"PlexAccountUpsellPage-panel-1mEqP6",panelIcon:"PlexAccountUpsellPage-panelIcon-2iZHqS",panelTitle:"PlexAccountUpsellPage-panelTitle-1ZIESl",panelDescription:"PlexAccountUpsellPage-panelDescription-poLyzl"}},AsNd:function(e,t,i){var n=i("3O+N");function a(e){return e&&(e.__esModule?e.default:e)}e.exports=(n.default||n).template((function(e,t,n,s,r){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),r=r||{};var o,l="",c=this.escapeExpression,d=this;function u(e,t){var n,s="";return s+=" "+c(a(i("nptq")).call(e,"lockableTagInput",{hash:{label:"Labels",name:"label",attribute:"labels",locked:(n=e&&e.locked,null==n||!1===n?n:n.label)},data:t}))+" "}function p(e,t){var n="";return n+=' <div class="form-group"> <label>'+c(a(i("d8WC")).call(e,"Labels",{hash:{},data:t}))+"</label> <p>"+c(a(i("d8WC")).call(e,"Labels require Plex Media Server {1} or later.",e&&e.escapedLabelsMinVersion,{hash:{},data:t}))+"</p> </div> "}return((o=n.if.call(t,t&&t.hasContentFilterFeature,{hash:{},inverse:d.program(6,(function(e,t){var n,s="";return s+=' <div class="row row-padded"> <h4 class="text-muted text-center">'+c(a(i("d8WC")).call(e,"You need a Plex Pass to use restrictions.",{hash:{},data:t}))+'</h4> <p class="text-center"> <a class="btn btn-sm btn-primary" href="'+c("function"==typeof(n=e&&e.plexPassUrl)?n.apply(e):n)+'" target="_blank">'+c(a(i("d8WC")).call(e,"Learn More",{hash:{},data:t}))+"</a> </p> </div> "}),r),fn:d.program(1,(function(e,t){var i,a="";return a+=' <form class="edit-metadata-form"> <div class="row"> <div class="col-md-12"> ',((i=n.if.call(e,e&&e.showLabels,{hash:{},inverse:d.program(4,p,t),fn:d.program(2,u,t),data:t}))||0===i)&&(a+=i),a+=" </div> </div> </form> "}),r),data:r}))||0===o)&&(l+=o),l+=" "}))},Auv6:function(e,t,i){e.exports={button:"SettingsButton-button-27S5zB NavBar-button-diriIs NavBarIconButton-button-eR0v0j IconButton-button-9An-7I"}},"B+IN":function(e,t,i){e.exports={badge:"PremiereAiringBadge-badge-hAmdnV"}},B69o:function(e,t,i){"use strict";var n=i("Khyo"),a=i("EVdn"),s=i.n(a),r=i("F/us"),o=i.n(r),l=(i("slDQ"),i("+X4A")),c=i("mCRK"),d=i("kwss"),u=i("nvND"),p=(i("uCj2"),i("1Lwt"));const h=n.c.Collection.extend({mixins:[c.a],responseType:u.c,instanceOptions:["url","path","pageStart","pageSize","persistInCache","skipCache"],_context:["parent"],cache:null,cacheKey:function(){return o.a.result(this,"url")},constructor:function(e,t){t||(t={}),o.a.each(this.getContext(),(function(e){const i=t[e];void 0!==i&&this.setContext(e,i)}),this);const i=o.a.result(this,"instanceOptions");if(o.a.each(i,(function(e){o.a.has(t,e)&&(this[e]=t[e])}),this),null==this.pageStart&&null==this.pageSize||(this.pageStart||(this.pageStart=0),this.pageSize||(this.pageSize=0)),t.populated&&this.resetPopulatePromise(s.a.Deferred().resolve().promise()),!this.cache||this.skipCache)return n.c.Collection.prototype.constructor.apply(this,arguments),void this._initState();this.initialize.apply(this,arguments);const a=this.cache.getItemCacheKey(this),r=this.cache.get(a);return this.uninitialize(),r||(t.onlyIfCached?{}:(n.c.Collection.prototype.constructor.apply(this,arguments),this._initState(),void this.cache.store(this,a)))},uninitialize:function(){this.stopListening()},_initState:function(){d.a.shouldCreateStateTree&&(this.state=this.toState(),this.updateState=this.updateState.bind(this),this.on("reset update sort",this.onCollectionChange,this),this.on("statechange",this.onStateChange,this))},hasContext:function(e){return this.getContext().includes(e)},getContext:function(){if(!this.context)return this._context;const e=o.a.result(this,"context");return this._context.concat(e)},setContext:function(e,t){-1!==this.getContext().indexOf(e)&&this[e]!==t&&(this[e]=t,this.each((function(i){i.setContext(e,t)})))},getState:function(){return this.state},updateState:function(){const e=this.state,t=this.getState();this.state=this.toState();const i=this.getState();return this.trigger("statechange",this,i,t),{name:this.name,previousState:e,nextState:i}},toState:function(){this.name;return this.reduce(this.reduceState,[])},reduceState:function(e,t){const i=t.getState();return i&&e.push(i),e},shouldUpdateModelState:function(e,t,i){return t!==i},sync:function(){return this.cache&&this.cache.store(this),n.c.sync.apply(this,arguments)},syncUrl:function(){let e="";if(this.url&&(e=o.a.result(this,"url")),this.path&&(e=l.join([e,o.a.result(this,"path")])),null!=this.pageStart||null!=this.pageSize){const t={"X-Plex-Container-Start":this.pageStart||0,"X-Plex-Container-Size":this.pageSize||0};e=l.join(e,t)}return e},parse:function(e,t){this.name;return this.convert(e)},convert:function(e){let t=e;const i=o.a.result(this,"responseType");if(o.a.isString(t)&&(o.a.isFunction(this.augmentResponseText)&&(t=this.augmentResponseText(t,i)),t=i.parse(t),i===u.a&&t.MediaContainer&&(t=t.MediaContainer)),o.a.isFunction(this.augmentResponse)&&(t=this.augmentResponse(t,i)),Array.isArray(t))return t;const n=this.model.prototype.rootPropertyName;if(!n)return t;let a=t[n];return a?(Array.isArray(a)||(a=[a]),a):[]},clone:function(e){e||(e=this.models);const t=o.a.result(this,"instanceOptions"),i=o.a.extend(o.a.pick(this,t),o.a.pick(this,this.getContext()),{skipCache:!0,persistInCache:!1});return new this.constructor(e,i)||null},cloneDeep:function(e){e||(e=this.models);const t=o.a.map(e,(function(e){return e.clone()}));return this.clone(t)},clear:function(e){e=o.a.extend({silent:!0},e),this.abortPendingPopulate(),this.resetPopulatePromise(null),this.reset([],e)},getSaveParams:function(){return this.map((function(e){return e.getSaveParams()}))},onCollectionChange:function(){p.b(this.updateState,this)},onStateChange:function(e,t,i){e!==this&&this.shouldUpdateModelState(e,t,i)&&p.b(this.updateState,this)}});t.a=h},"B8+q":function(e,t,i){var n=i("3O+N");function a(e){return e&&(e.__esModule?e.default:e)}e.exports=(n.default||n).template((function(e,t,n,s,r){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),r=r||{};var o,l="",c=this.escapeExpression,d=this;function u(e,t){var n="";return n+=" "+c(a(i("c1Ka")).call(e,e&&e.name,25,{hash:{},data:t}))+" "}function p(e,t){var n="";return n+=" "+c(a(i("c1Ka")).call(e,e&&e.device,25,{hash:{},data:t}))+" "}return l+='<div class="modal-dialog"> <div class="modal-content"> <div class="modal-header"> <button type="button" class="close" data-dismiss="modal"><i class="glyphicon remove-2"></i></button> <h4 class="modal-title"><i class="modal-icon glyphicon iphone"></i> '+c(a(i("d8WC")).call(t,"Choose Destination",{hash:{},data:r}))+'</h4> </div> <div class="modal-body modal-body-scroll dark-scrollbar"> <ul class="list select-list"> ',((o=n.each.call(t,t&&t.devices,{hash:{},inverse:d.noop,fn:d.program(1,(function(e,t){var i,a="";return a+=' <li class="striped-list-item select-list-item"> <a class="media" data-value="'+c("function"==typeof(i=e&&e.id)?i.apply(e):i)+'" href="#"> ',((i=n.if.call(e,e&&e.name,{hash:{},inverse:d.program(4,p,t),fn:d.program(2,u,t),data:t}))||0===i)&&(a+=i),a+=" </a> </li> "}),r),data:r}))||0===o)&&(l+=o),l+=" </ul> </div> </div> </div> "}))},B854:function(e,t,i){e.exports={tooltipPortal:"Tooltip-tooltipPortal-3Nb82p",tooltip:"Tooltip-tooltip-9TKmAQ",tooltipArrow:"Tooltip-tooltipArrow-3GUCry",tooltipBottomArrow:"Tooltip-tooltipBottomArrow-34fSAD",tooltipTopArrow:"Tooltip-tooltipTopArrow-NjH0DX",tooltipRightArrow:"Tooltip-tooltipRightArrow-18BKzY",tooltipLeftArrow:"Tooltip-tooltipLeftArrow-1Zt2gV",tooltipCenterAlignArrow:"Tooltip-tooltipCenterAlignArrow-35uHtY",tooltipLeftAlignArrow:"Tooltip-tooltipLeftAlignArrow-NweCLw",tooltipRightAlignArrow:"Tooltip-tooltipRightAlignArrow-1ETgza",tooltipMiddleAlignArrow:"Tooltip-tooltipMiddleAlignArrow-3x1zFR",topLeft:"Tooltip-topLeft-2DEJ1a Tooltip-tooltip-9TKmAQ Tooltip-tooltipArrow-3GUCry Tooltip-tooltipBottomArrow-34fSAD Tooltip-tooltipLeftAlignArrow-NweCLw",topCenter:"Tooltip-topCenter-Hv9C9n Tooltip-tooltip-9TKmAQ Tooltip-tooltipArrow-3GUCry Tooltip-tooltipBottomArrow-34fSAD Tooltip-tooltipCenterAlignArrow-35uHtY",topRight:"Tooltip-topRight-3-BmgQ Tooltip-tooltip-9TKmAQ Tooltip-tooltipArrow-3GUCry Tooltip-tooltipBottomArrow-34fSAD Tooltip-tooltipRightAlignArrow-1ETgza",bottomLeft:"Tooltip-bottomLeft-2fPtVW Tooltip-tooltip-9TKmAQ Tooltip-tooltipArrow-3GUCry Tooltip-tooltipTopArrow-NjH0DX Tooltip-tooltipLeftAlignArrow-NweCLw",bottomCenter:"Tooltip-bottomCenter-2yj43D Tooltip-tooltip-9TKmAQ Tooltip-tooltipArrow-3GUCry Tooltip-tooltipTopArrow-NjH0DX Tooltip-tooltipCenterAlignArrow-35uHtY",bottomRight:"Tooltip-bottomRight-T6_Ik3 Tooltip-tooltip-9TKmAQ Tooltip-tooltipArrow-3GUCry Tooltip-tooltipTopArrow-NjH0DX Tooltip-tooltipRightAlignArrow-1ETgza",middleLeft:"Tooltip-middleLeft-11JlOJ Tooltip-tooltip-9TKmAQ Tooltip-tooltipArrow-3GUCry Tooltip-tooltipRightArrow-18BKzY Tooltip-tooltipMiddleAlignArrow-3x1zFR",middleRight:"Tooltip-middleRight-3lubOi Tooltip-tooltip-9TKmAQ Tooltip-tooltipArrow-3GUCry Tooltip-tooltipLeftArrow-1Zt2gV Tooltip-tooltipMiddleAlignArrow-3x1zFR"}},B8UO:function(e,t,i){var n=i("3O+N");function a(e){return e&&(e.__esModule?e.default:e)}e.exports=(n.default||n).template((function(e,t,n,s,r){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),r=r||{};var o,l="",c=this.escapeExpression;return l+='<form class="edit-metadata-form"> <div class="row"> <div class="col-md-12"> '+c(a(i("nptq")).call(t,"textInput",{hash:{label:"Title",name:"title",value:(o=t&&t.item,null==o||!1===o?o:o.title)},data:r}))+' </div> </div> <div class="row"> <div class="col-md-12"> '+c(a(i("nptq")).call(t,"textInput",{hash:{label:"Summary",name:"summary",value:(o=t&&t.item,null==o||!1===o?o:o.summary),placeholder:(o=t&&t.placeholders,null==o||!1===o?o:o.summary),type:"textarea",rows:"5"},data:r}))+" </div> </div> </form> "}))},BDy8:function(e,t,i){var n=i("3O+N");e.exports=(n.default||n).template((function(e,t,n,a,s){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),s=s||{};var r,o="",l=this.escapeExpression;return o+='<form class="edit-metadata-form"> ',((r=n.each.call(t,t,{hash:{},inverse:this.noop,fn:this.program(1,(function(e,t){var n,a="";return a+=" "+l((n=i("nptq"),n&&(n.__esModule?n.default:n)).call(e,"setting",{hash:{idSuffix:"_c"},data:t}))+" "}),s),data:s}))||0===r)&&(o+=r),o+=" </form> "}))},BNpA:function(e,t,i){e.exports={container:"MetadataIcon-container-1OiQBF"}},BSWJ:function(e,t,i){e.exports={icon:"LibraryEmptyWatchlistPage-icon-34dmWk"}},BTFm:function(e,t,i){e.exports={activityIcon:"NavBarActivityButton-activityIcon-1Db2GP NavBarActivityIcon-iconContainer-24xhXd",label:"NavBarActivityButton-label-2ZN0gQ",isHighlighted:"NavBarActivityButton-isHighlighted-27qlko",alertIcon:"NavBarActivityButton-alertIcon-3opbQx NavBarIconButton-alertIcon-2HPvE2"}},BUrS:function(e,t,i){e.exports={castList:"PrePlayCastList-castList-3dQB5e"}},BVbW:function(e,t,i){var n=i("3O+N");e.exports=(n.default||n).template((function(e,t,i,n,a){this.compilerInfo=[4,">= 1.0.0"],a=a||{};var s,r="";return((s=(i=this.merge(i,e.helpers)).if.call(t,t&&t.disabled,{hash:{},inverse:this.program(3,(function(e,t){return' <a class="user-select-container" href="#"> '}),a),fn:this.program(1,(function(e,t){return' <div class="user-select-container"> '}),a),data:a}))||0===s)&&(r+=s),r+=' <div class="user-select-top"> <div class="user-poster img-circle"></div> <i class="protected-icon user-icon glyphicon lock"></i> <i class="admin-icon user-icon glyphicon crown"></i> </div> <div class="caption"> <div class="username"></div> <div class="managed-title"></div> </div> ',((s=i.if.call(t,t&&t.disabled,{hash:{},inverse:this.program(7,(function(e,t){return" </a> "}),a),fn:this.program(5,(function(e,t){return" </div> "}),a),data:a}))||0===s)&&(r+=s),r+=" "}))},BW9E:function(e,t,i){"use strict";var n=i("sWYD"),a=i("TpeJ"),s=i("cHAT"),r=i("/Tr7"),o=i("X60b"),l=i("66GW");t.a=function(e){let t=e.seasonIndex,i=e.episodeIndex;if((i>0||0===i)&&t<1e3){e.noLeadingZero||(t=Object(o.a)(t),i=Object(o.a)(i));const n=e.separator;if(e.useLongName){return""+Object(l.default)("Season {seasonNumber}",{seasonNumber:t})+(n||" ")+Object(l.default)("Episode {episodeNumber}",{episodeNumber:i})}return""+Object(l.default)("S{seasonNumber}",{seasonNumber:t})+(n||"")+Object(l.default)("E{episodeNumber}",{episodeNumber:i})}if(e.date){const t=Object(r.a)(e.date);return Object(l.default)("{monthNumber}/{dayNumber}/{shortYear}",{monthNumber:Object(s.a)(t)+1,dayNumber:Object(a.a)(t),shortYear:Object(n.a)(t,"yy")})}return""}},BcwQ:function(e,t,i){"use strict";i.r(t);const n={allowFlash:!0,allowHttpsMediaServerConnections:!0,allowMediaServerRelayConnections:!0,allowMultipleWebSocketConnections:!0,shouldCreateFlexModels:!0,shouldCreateStateTree:!0,shouldRequestHTMLFromCloudProvider:!0,allowCloudPubSub:!0,allowLoopbackDiscovery:"http:"===window.location.protocol,allowSSO:!1,bufferingDetectionLimit:500,allowSyncSettings:!0,allowSync:!0,allowDirectDownload:!0,allowSyncDownload:!1};t.default=n},BgT4:function(e,t,i){e.exports={day:"CalendarDay-day-1O4pXT"}},BoH4:function(e,t,i){e.exports={input:"ShareServerLibrariesServerTitle-input-c9nTTO CheckInput-label-2yG4rI"}},Bvvc:function(e,t,i){e.exports={container:"DVRSetupDevice-container-2iL_G0",section:"DVRSetupDevice-section-gCyfJJ",make:"DVRSetupDevice-make-3YU1SA",model:"DVRSetupDevice-model-2ZJHSY",moreInfo:"DVRSetupDevice-moreInfo-2-07Dt",channelsMessage:"DVRSetupDevice-channelsMessage-1DrJSm",button:"DVRSetupDevice-button-2m-QYS SpinnerButton-button-2YjGJZ Button-button-3A5jB3 Link-link-2ew_DK",disabledText:"DVRSetupDevice-disabledText-1jFkEL"}},Bzgf:function(e,t,i){e.exports={recordIconContainer:"RecordButton-recordIconContainer-274aRc PlayButton-playCircle-1_WgTy",recordIcon:"RecordButton-recordIcon-3ABxLQ"}},C0QX:function(e,t,i){const n=i("JHeM").default,a=i("a4Cb");e.exports=a(n)},C3YB:function(e,t,i){e.exports={measure:"AudioVideoFullMusic-measure-3rspAQ",content:"AudioVideoFullMusic-content-7Qnq7O",card:"AudioVideoFullMusic-card-3HHZDw MetadataPosterCard-card-3bztRc",titlesContainer:"AudioVideoFullMusic-titlesContainer-1f9NMl",title:"AudioVideoFullMusic-title-2fZRLT MetadataPosterTitle-title-3tU5F9",primaryTitle:"AudioVideoFullMusic-primaryTitle-sT84wu AudioVideoFullMusic-title-2fZRLT MetadataPosterTitle-title-3tU5F9",secondaryTitle:"AudioVideoFullMusic-secondaryTitle-2tx_Bf AudioVideoFullMusic-title-2fZRLT MetadataPosterTitle-title-3tU5F9"}},C5La:function(e,t,i){e.exports={card:"PrePlayReviewList-card-1JeBzp PosterCard-card-VhPkOe",details:"PrePlayReviewList-details-3pnUYy",ratingImg:"PrePlayReviewList-ratingImg-IQXmhD",reviewContainer:"PrePlayReviewList-reviewContainer-1WkRIG",titleContainer:"PrePlayReviewList-titleContainer-1REvg3",title:"PrePlayReviewList-title-1KHIn6 MetadataPosterCardTitle-singleLineTitle-_v31WY MetadataPosterCardTitle-title-2OWMA-",author:"PrePlayReviewList-author-2HRwbj PrePlayReviewList-title-1KHIn6 MetadataPosterCardTitle-singleLineTitle-_v31WY MetadataPosterCardTitle-title-2OWMA- MetadataPosterCardTitle-isSecondary-1R4E5X"}},CCSj:function(e,t,i){(function(e){!function(e){"use strict";var t=function(t,i){this.options=i,this.$element=e(t),this.$backdrop=this.isShown=null,this.options.remote&&this.$element.load(this.options.remote)};t.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},t.prototype.toggle=function(e){return this[this.isShown?"hide":"show"](e)},t.prototype.show=function(t){var i=this,n=e.Event("show.bs.modal",{relatedTarget:t});this.$element.trigger(n),this.isShown||n.isDefaultPrevented()||(this.isShown=!0,this.escape(),this.$element.on("click.dismiss.modal",'[data-dismiss="modal"]',e.proxy(this.hide,this)),this.backdrop((function(){var n=e.support.transition&&i.$element.hasClass("fade");i.$element.parent().length||i.$element.appendTo(document.body),i.$element.show(),n&&i.$element[0].offsetWidth,i.$element.addClass("in").attr("aria-hidden",!1),i.enforceFocus();var a=e.Event("shown.bs.modal",{relatedTarget:t});n?i.$element.find(".modal-dialog").one(e.support.transition.end,(function(){i.$element.focus().trigger(a)})).emulateTransitionEnd(300):i.$element.focus().trigger(a)})))},t.prototype.hide=function(t){t&&t.preventDefault(),t=e.Event("hide.bs.modal"),this.$element.trigger(t),this.isShown&&!t.isDefaultPrevented()&&(this.isShown=!1,this.escape(),e(document).off("focusin.bs.modal"),this.$element.removeClass("in").attr("aria-hidden",!0).off("click.dismiss.modal"),e.support.transition&&this.$element.hasClass("fade")?this.$element.one(e.support.transition.end,e.proxy(this.hideModal,this)).emulateTransitionEnd(300):this.hideModal())},t.prototype.enforceFocus=function(){e(document).off("focusin.bs.modal").on("focusin.bs.modal",e.proxy((function(e){this.$element[0]===e.target||this.$element.has(e.target).length||this.$element.focus()}),this))},t.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keyup.dismiss.bs.modal",e.proxy((function(e){27==e.which&&this.hide()}),this)):this.isShown||this.$element.off("keyup.dismiss.bs.modal")},t.prototype.hideModal=function(){var e=this;this.$element.hide(),this.backdrop((function(){e.removeBackdrop(),e.$element.trigger("hidden.bs.modal")}))},t.prototype.removeBackdrop=function(){delete this.backdropMouseDownTarget,this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},t.prototype.backdrop=function(t){var i=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var n=e.support.transition&&i;if(this.$backdrop=e('<div class="modal-backdrop '+i+'" />').appendTo(document.body),this.$element.on("mousedown.dismiss.modal",e.proxy((function(e){this.backdropMouseDownTarget=e.target}),this)),this.$element.on("mouseup.dismiss.modal",e.proxy((function(e){e.target===this.backdropMouseDownTarget&&(delete this.backdropMouseDownTarget,e.target===e.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus.call(this.$element[0]):this.hide.call(this)))}),this)),n&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!t)return;n?this.$backdrop.one(e.support.transition.end,t).emulateTransitionEnd(150):t()}else!this.isShown&&this.$backdrop?(this.$backdrop.removeClass("in"),e.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one(e.support.transition.end,t).emulateTransitionEnd(150):t()):t&&t()};var i=e.fn.modal;e.fn.modal=function(i,n){return this.each((function(){var a=e(this),s=a.data("bs.modal"),r=e.extend({},t.DEFAULTS,a.data(),"object"==typeof i&&i);s||a.data("bs.modal",s=new t(this,r)),"string"==typeof i?s[i](n):r.show&&s.show(n)}))},e.fn.modal.Constructor=t,e.fn.modal.noConflict=function(){return e.fn.modal=i,this},e(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',(function(t){var i=e(this),n=i.attr("href"),a=e(i.attr("data-target")||n&&n.replace(/.*(?=#[^\s]+$)/,"")),s=a.data("modal")?"toggle":e.extend({remote:!/#/.test(n)&&n},a.data(),i.data());t.preventDefault(),a.modal(s,this).one("hide",(function(){i.is(":visible")&&i.focus()}))})),e(document).on("show.bs.modal",".modal",(function(){e(document.body).addClass("modal-open")})).on("hidden.bs.modal",".modal",(function(){e(document.body).removeClass("modal-open")}))}(e)}).call(this,i("EVdn"))},CHO5:function(e,t,i){e.exports={mediaElement:"HTMLMedia-mediaElement-35x77U"}},CHYD:function(e,t,i){var n=i("3O+N");function a(e){return e&&(e.__esModule?e.default:e)}e.exports=(n.default||n).template((function(e,t,n,s,r){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),r=r||{};var o,l="",c=this.escapeExpression;return l+='<div class="choose-library use-premium-library" data-agent="com.plexapp.agents.plexmusic" data-scanner="Plex Premium Music Scanner"> <div class="row"> <div class="col-xs-12"> <div class="row use-library-header"> <div class="col-xs-12"> <input type="radio"> <span class="header-text"> '+c(a(i("d8WC")).call(t,"Create a premium Plex music library!",{hash:{},data:r}))+' </span> </div> </div> <div class="row use-premium-library-body"> <div class="col-xs-8"> <ul> <li>'+c(a(i("d8WC")).call(t,"Access to the best artwork, artist bios, album reviews, and more",{hash:{},data:r}))+"</li> <li>"+c(a(i("d8WC")).call(t,"Smart mixes based on track or mood",{hash:{},data:r}))+"</li> <li>"+c(a(i("d8WC")).call(t,"Improved music recognition and matching",{hash:{},data:r}))+"</li> </ul> ",((o=n.unless.call(t,t&&t.hasPremiumMusic,{hash:{},inverse:this.noop,fn:this.program(1,(function(e,t){var n="";return n+=' <p class="help-block"> '+c(a(i("d8WC")).call(e,"Note: An active Plex Pass is required for this service. Don't have a Plex Pass? {1}Subscribe here{2}",'<a href="{3}" target="_blank">',"</a>",e&&e.plexPassUrl,{hash:{},data:t}))+" </p> "}),r),data:r}))||0===o)&&(l+=o),l+=' </div> <div class="col-xs-4 vendor-logos"> ',((o=n.if.call(t,t&&t.hasLyrics,{hash:{},inverse:this.noop,fn:this.program(3,(function(e,t){return'<div class="vendor-logo vendor-logo-lyricfind"></div>'}),r),data:r}))||0===o)&&(l+=o),l+=' <div class="vendor-logo vendor-logo-gracenote"></div> <div class="vendor-logo vendor-logo-plex-pass"></div> </div> </div> </div> </div> </div> <div class="choose-library use-basic-library"> <div class="row use-library-header"> <div class="col-xs-12"> <input type="radio"> '+c(a(i("d8WC")).call(t,"Create a basic music library",{hash:{},data:r}))+" </div> </div> </div> "}))},CHn6:function(e,t,i){"use strict";var n=i("Khyo"),a=i("EVdn"),s=i.n(a),r=i("F/us"),o=i.n(r),l=i("rG0a"),c=i("slDQ"),d=i("0jae"),u=i("+X4A"),p=i("cgRT"),h=i("mCRK"),m=i("mOXR"),g=i("kwss"),v=i("nvND");var y=function(e,t){return e?o.a.reduce(t,(t,i,n)=>(o.a.isEqual(e[n],i)||(t[n]=i),t),{}):t},f=(i("uCj2"),i("FIl5")),b=i("1Lwt");const I=/^change:([\w]+)$/,S=e=>Array.isArray(e)?e[0]:e,C=n.c.Model.extend({mixins:[h.a],name:"AbstractModel",responseType:v.c,hasInitialRelations:!1,_context:["parent","skipCache"],cache:null,cacheKey:function(e){return e[this.idAttribute]},constructor:function(e,t){let i;if(e||(e={}),t||(t={}),this.initialize!==n.c.Model.prototype.initialize&&(i=this.initialize,this.initialize=function(){}),this.getContextNames().forEach(e=>{const i=this.findOption(t,e);void 0!==i&&(this[e]=i)}),!this.cache||this.findOption(t,"skipCache"))return n.c.Model.prototype.constructor.apply(this,arguments),this._initModel(t),void(i&&(i.apply(this,arguments),this.initialize=i));const a=this.findOption(t,"onlyIfCached"),s=this.cache.getItemCacheKey(this,e);let r=this.cache.get(s);if(!r&&this.entityID&&Object(p.a)("appModel")){const t=Object(p.c)("appModel");if(t.has("entities")){const i=t.get("entities").get(this.entityType),n=this.entityID(e),a=i.get(n);a&&(r=a.get("model"))}}return r?(this.uninitialize(),a||(this.mergeStrategy&&(r.isMergingAttributes=!0),t.parse?e=r.parse(e):o.a.extend(e,r._getRelations(this.syncedRelations,e)),r.set(e),r.isMergingAttributes=!1),this.getContextNames().forEach(e=>{r.setContext(e,this[e]||r[e])}),t.collection&&(r.collection=t.collection),r.updateEntity(),r):a?{}:(n.c.Model.prototype.constructor.apply(this,arguments),this._initModel(t),i&&(i.apply(this,arguments),this.initialize=i),void this.cache.store(this,s))},uninitialize:function(){this.stopListening()},_initModel:function(e){g.a.shouldCreateStateTree&&this.entityID&&(this.state=this.toState()),this._initRelations(e),this._initDerived(e),this._initState()},_initRelations:function(e){this._relationListeners={};const t=o.a.extend({},this.sessionRelations,this.syncedRelations);o.a.each(t,(function(e,t){this._initRelation(e,t);const i=o.a.bind(this._initRelation,this,e,t);this.on("change:"+t,i)}),this),this.hasInitialRelations=!0,this.set(this._getRelations(this.sessionRelations,this.attributes)),e.parse||this.set(this._getRelations(this.syncedRelations,this.attributes))},_initRelation:function(e,t){const i=this._resolveRelationDefinition(e).relationClass,n=this.get(t),a=this.previous(t),s=n&&n instanceof i;a&&a instanceof i&&o.a.has(this._relationListeners,t)&&(a.off("all",this._relationListeners[t]),this._relationListeners[t]=null),s&&this._forwardRelationEvents(n,t)},_initDerived:function(){o.a.each(this.derivedAttrs,this._setDerived,this)},_initState:function(){g.a.shouldCreateStateTree&&(this.state=this.toState(),this.updateState=this.updateState.bind(this),this.updateEntity(),this.on("all",this.onEvent,this))},findOption:function(e,t){return e[t]||e.collection&&e.collection[t]},getContextNames:function(){return this.getContext().map(S)},getContext:function(){if(!this.context)return this._context;const e=o.a.result(this,"context");return this._context.concat(e)},setContext:function(e,t){if(!this.hasContext(e)||this[e]===t)return;const i=this.getContext().find(t=>S(t)===e),n=Array.isArray(i)&&i[1]&&i[1].boundDerivedAttrs,a=n?[e,...n]:[e];let s;if(this[e]=t,a.forEach(e=>{this.hasDerived(e)&&(s=s||{},s[e]=this.derivedAttrs[e].call(this))}),s&&this.set(s),"parent"===e)return;const r=o.a.extend({},this.sessionRelations,this.syncedRelations);o.a.each(r,(function(i,n){const a=this.get(n);a&&a.setContext(e,t)}),this)},getScopedKey:function(e){return null!=e&&o.a.isFunction(this.cacheKey)?this.cacheKey(this.attributes)+"!"+e:e},getState:function(){return this._computedEntityID||this.state},updateState:function(){const e=this.state,t=this.getState();this.state=this.toState();const i=this.getState();return i!==t&&this.updateEntity(),this.trigger("statechange",this,i,t),{name:this.name,previousState:e,nextState:i}},updateEntity:function(){this._computedEntityID&&!this.skipCache&&(Object(c.a)(this.entityType,this.name+" requires an `entityType`"),l.a.trigger("change:entity",{type:this.entityType,id:this._computedEntityID,model:this}))},toState:function(){this.name;const e=Object.keys(this.attributes),t=o.a.reduce(e,this.reduceState,{possibleEntityContainers:[]},this);return Object.defineProperty(t,"possibleEntityContainers",{enumerable:!1}),this.entityID&&(this._computedEntityID=this.entityID(t)),t},reduceState:function(e,t){const i=this.attributes[t];return i&&i.getState?(e.possibleEntityContainers.push(t),e[t]=i.getState(),e):(i&&i.initialize||(e[t]=i),e)},shouldUpdateRelationState:function(e,t,i){return t!==i},toJSON:function(e={}){this.name;const t=this.syncedAttrs,i=this.sessionRelations,a=this.syncedRelations,r=this.attributes,l={};for(const n in r){const s=e.excluded&&e.excluded.includes(n),c=i&&o.a.has(i,n),d=a&&o.a.has(a,n),u=e.syncedOnly&&(!t||!o.a.has(t,n));s||c||d||u||(l[n]=r[n])}let c=s.a.extend(!0,{},l);function d(t,i){const a=this.get(i),s=e.excluded&&e.excluded.includes(i);if(a&&!s){let t;t=e.excludeDefaults?a instanceof n.c.Collection?a.map((function(t){return y(o.a.result(t,"defaults"),t.toJSON(e))})):y(o.a.result(a,"defaults"),a.toJSON(e)):a.toJSON(e),c[i]=t}}return e.excludeDefaults&&(c=y(o.a.result(this,"defaults"),c)),e.syncedOnly||o.a.each(i,d,this),o.a.each(a,d,this),c},clone:function(){const e=o.a.extend(o.a.pick(this,this.getContextNames()),{skipCache:!0});return new this.constructor(this.toJSON(),e)||null},copy:function(e){Object(c.a)(e instanceof this.constructor,"Only a model of the same type may be copied");const t=e.toJSON();return o.a.extend(t,this._getRelations(this.sessionRelations,t,{parse:!0}),this._getRelations(this.syncedRelations,t,{parse:!0})),this.set(t)},restoreDefaults:function(e){const t={};return o.a.each(this.attributes,(function(e,i){this.derivedAttrs&&o.a.has(this.derivedAttrs,i)||(t[i]=void 0)}),this),o.a.extend(t,this._getRelations(this.sessionRelations,{},{reset:!0}),this._getRelations(this.syncedRelations,{},{reset:!0}),o.a.result(this,"defaults"),e),this.set(t)},set:function(e,t,i){let a,s;return o.a.isObject(e)?(a=e,i=t):(a={})[e]=t,i||(i={}),!this.isMergingAttributes&&i.merge&&this.mergeStrategy&&(s=!0,this.isMergingAttributes=!0),this.isMergingAttributes&&(a=this._mergeAttributes(a)),n.c.Model.prototype.set.call(this,a,i),s&&(this.isMergingAttributes=!1),this},hasAttr:function(e){const t=this.sessionAttrs&&o.a.has(this.sessionAttrs,e),i=this.syncedAttrs&&o.a.has(this.syncedAttrs,e);return!(!t&&!i)},hasRelation:function(e){const t=this.sessionRelations&&o.a.has(this.sessionRelations,e),i=this.syncedRelations&&o.a.has(this.syncedRelations,e);return!(!t&&!i)},hasDerived:function(e){return!(!this.derivedAttrs||!o.a.has(this.derivedAttrs,e))},hasContext:function(e){return this.getContextNames().includes(e)},validate:function(e,t){const i=o.a.extend({},this.sessionAttrs,this.syncedAttrs,this.sessionRelations,this.syncedRelations),n=this._validateTypes(e,i);return n&&Object(c.a)(!1,n),n},parse:function(e,t){if(t&&t.save&&!this.hasResponseOnSave)return this.attributes;this.name;return this.convert(e,t)},parseResponse(e){let t=e;const i=o.a.result(this,"responseType");let n;return o.a.isString(t)&&(n=!0,o.a.isFunction(this.augmentResponseText)&&(t=this.augmentResponseText(t,i)),t=i.parse(t)),i===v.a&&t.MediaContainer&&(t=t.MediaContainer),o.a.isFunction(this.augmentResponse)&&(t=this.augmentResponse(t,i)),n&&this.rootPropertyName&&o.a.has(t,this.rootPropertyName)&&(t=t[this.rootPropertyName]),Array.isArray(t)&&(t=t[0]),t},convert:function(e,t){const i=this.parseResponse(e),n={};let a;o.a.each(this.sessionAttrs,(function(e,t){o.a.has(i,t)&&(n[t]=i[t])})),o.a.each(this.syncedAttrs,(function(e,t){if(o.a.has(i,t)){let a,s=e;s.typeName||(s=e.type,a=o.a.omit(e,"type")),n[t]=null==i[t]?i[t]:s.parse(i[t],a)}else this.has(t)&&(a||(a=o.a.result(this,"defaults")),n[t]=a&&o.a.has(a,t)?a[t]:void 0)}),this);const s=o.a.extend({},t,{parse:!0});return o.a.extend(n,this._getRelations(this.syncedRelations,i,s)),n},save:function(e,t,i){let a;null==e||"object"==typeof e?(a=e,i=t):(a={})[e]=t;const r=o.a.extend({save:!0},i),l=o.a.extend(this.getSaveParams(a),r.data);if(o.a.isEmpty(l))return r.success&&r.success(this),s.a.Deferred().resolve(this);r.data=l;const c=r.success;return r.success=function(e,t,i){e.cache&&e.cache.store(e),c&&c(e,t,i)},n.c.Model.prototype.save.call(this,a,r)},sync:function(e,t,i){const a=i?o.a.clone(i):{};if("create"===e||"update"===e){const e=a.data,t=a.url||o.a.result(this,"saveUrl")||o.a.result(this,"syncUrl")||o.a.result(this,"url");a.url=u.join(t,e),a.data=""}return n.c.Model.prototype.sync.call(this,e,t,a)},getSaveParams:function(e){const t=this._getSaveAttrs(e);return o.a.reduce(t,(function(e,t,i){const n=t.definition;let a=t.value,s=i;if(!n)return e[s]=a,e;const r=n.relationClass;if(r){const e=r.prototype.model;let t;n.rootPropertyName?t=n.rootPropertyName:a&&a.rootPropertyName?t=a.rootPropertyName:e&&e.prototype&&(t=e.prototype.rootPropertyName),a&&(a=a.getSaveParams()),t&&(s=t)}else{let e,t;o.a.has(n,"type")?(e=n.type,t=o.a.omit(n,"type")):e=n,a=e.stringify(a,t)}return e[s]=a,e}),{},this)},startCapturingChangeEvents:function(){if(this.releaseCapturedChangeEvents)return void Object(c.a)(!1,this.name+" is already capturing events");const e=this.set,t=[],i=o.a.clone(this.attributes);this.set=function(i,n,a){const s=o.a.extend({},a,{silent:!0});let r;return"object"==typeof i?(r=i,a=n):(r={})[i]=n,o.a.each(r,(function(i,n){this.get(n)!==i&&(t.push({key:n,value:i}),e.call(this,n,i,s))}),this),o.a.each(this._derivedListeners,(function(i){const n=i.key,a=this.derivedAttrs[n].call(this);this.get(n)!==a&&(t.push({key:n,value:a}),e.call(this,n,a,s))}),this),this},this.releaseCapturedChangeEvents=function(){this.set=e,this.releaseCapturedChangeEvents=null,this.discardCapturedChangeEvents=null,this._previousAttributes=i,this._changing=!0,o.a.each(t,(function(e){this.trigger("change:"+e.key,this,e.value)}),this),this._changing=!1,o.a.isEmpty(t)||this.trigger("change",this,{})},this.discardCapturedChangeEvents=function(){this.set=e,this.releaseCapturedChangeEvents=null,this.discardCapturedChangeEvents=null,t.length=0}},spyOnGet:function(e){const t=[],i=this.get;return this.get=function(e){return t.push("change:"+e),this.hasRelation(e)&&t.push("change:"+e+".change"),i.apply(this,arguments)},e.call(this),this.get=i,t},dispatch:function(e){},_mergeAttributes:function(e){const t=this.mergeStrategy;if(!t)return e;return o.a.reduce(e,(function(e,i,n,a){return e[n]=t(n,this.get(n),i),e}),{},this)},_resolveRelationDefinition:function(e){return o.a.isFunction(e)?e.call(this):e},_getRelations:function(e,t,i){t||(t={}),i||(i={});const a={};return o.a.each(e,(function(e,s){const r=this._resolveRelationDefinition(e),l=r.relationClass;Object(c.a)(l,this.name+" requires a `relationClass` for the "+s+" relation");let d=s;i.parse&&!o.a.has(t,s)&&o.a.has(r,"rootPropertyName")&&(d=r.rootPropertyName);let u=t[d];if(u instanceof l)return void(a[s]=u);if(!u&&r.deferred)return void(a[s]=void 0);let p=i.reset?null:this.get(s),h=p instanceof l;const m=l.prototype instanceof n.c.Collection;if(m?u=f.a.parseArray(u):u||(u={}),h&&!m&&(i.parse&&(u=p.parse(u)),h=p.id===u[p.idAttribute||"id"]),h){p.isMergingAttributes=this.isMergingAttributes;let e=r.setOptions;o.a.isFunction(e)&&(e=e.call(this,i)),m?p.set(u,o.a.extend({parse:i.parse,remove:!this.isMergingAttributes},e)):p.set(u,o.a.extend({merge:!0},e)),p.isMergingAttributes=!1}else{const e={parse:i.parse};if(this.getContextNames().forEach(t=>{e[t]=this[t]}),!m){let e=r.attrs;o.a.isFunction(e)&&(e=e.call(this,t)),u=o.a.extend({},u,e)}let n=r.options;o.a.isFunction(n)&&(n=n.call(this,t)),o.a.extend(e,{parent:this},n),p=new l(u,e)}a[s]=p}),this),a},_forwardRelationEvents:function(e,t){const i=["sync","request","invalid","error","add","remove"];function n(){const n=arguments[0];if("change"===n)return;if("statechange"===n)return void(this.shouldUpdateRelationState.apply(this,o.a.rest(arguments,1))&&b.b(this.updateState,this));const a=o.a.toArray(arguments);a[0]="change:"+t+"."+n,this.trigger.apply(this,a),o.a.contains(i,n)||(this.trigger("change:"+t+".change",this,e),this.trigger("change",this))}e.on("all",n,this),this._relationListeners[t]=n},_setDerived:function(e,t){let i;const n=this.spyOnGet((function(){const n=this.set;this.set=function(){Object(c.a)(!1,this.name+" blocked `set` in the "+t+" attribute. Derived attributes are read-only.")},i=e.call(this),this.set=n}));this.set(t,i),o.a.each(n,(function(i){this._addDerivedListener(t,i,e)}),this)},_addDerivedListener:function(e,t,i){this._derivedListeners||(this._derivedListeners=[]);const n={key:e,name:t,callback:o.a.bind(this._setDerived,this,i,e)};o.a.findWhere(this._derivedListeners,{key:e,name:n.name})||(this._derivedListeners.push(n),this.on(n.name,n.callback))},_getSaveAttrs:function(e){let t;if(e)t=o.a.reduce(e,(function(e,t,i){return e[i]={definition:this.syncedAttrs[i],value:t},e}),{},this);else{const e=o.a.extend({},this.syncedAttrs,this.syncedRelations);t=o.a.reduce(e,(function(e,t,i){const n=this._resolveRelationDefinition(t);let a=n.save;return o.a.isFunction(a)&&(a=a.call(this)),a&&(e[i]={definition:n,value:this.get(i)}),e}),{},this)}return t},_validateTypes:function(e,t){const i=Object.keys(e),a=o.a.reduce(i,(function(i,a){if(this.hasDerived(a))return i;if(!o.a.has(t,a))return i.push(this.name+" received an unknown attribute: "+a+". All attributes must be defined in `sessionAttrs`, `syncedAttrs`, `sessionRelations`, or `syncedRelations`."),i;const s=e[a],r=this._resolveRelationDefinition(t[a]),l=r.relationClass;let c;c=l?this.hasInitialRelations?m.a.instanceOf(l):l.prototype instanceof n.c.Collection?m.a.oneOfType(m.a.array,m.a.object):m.a.object:r.type?r.type:r;const d=c.validate;return d?d(s)||i.push(a+" of type "+c.typeName+" has an invalid value: "+JSON.stringify(s)):i.push(a+" has an unknown type. Specify the type in the attribute definition or use attrTypes.any as a wildcard type."),i}),[],this);if(a.length>0)return a.join("\n")},onEvent:function(e,t,i){if(!t)return void d.a.warn("Unable to handle",e);const n=e.match(I);if(!n)return;const a=n[1];t.get(a)!==this.state[a]&&(i&&i.updateEntity&&i.updateEntity(),b.b(this.updateState,this))}});t.a=C},CWZi:function(e,t,i){e.exports={poster:"MetadataPosterCardFace-poster-L2P6rC",face:"MetadataPosterCardFace-face--dz_Dx MetadataPosterCardFace-poster-L2P6rC",isSelected:"MetadataPosterCardFace-isSelected-1XUgkl",faceFront:"MetadataPosterCardFace-faceFront-1bxHG3",faceBack:"MetadataPosterCardFace-faceBack-1ofDHf"}},CZ2S:function(e,t,i){"use strict";var n=i("0jae"),a=i("5/Tp");t.a=function(e,t={}){try{return JSON.parse(e)}catch(i){const s=Object(a.a)(e)?e.substring(0,50):"no response";return n.a.warn("[Parser] Unable to parse JSON: "+i.message+" ("+s+")"),t}}},CjSz:function(e,t,i){e.exports={modalBody:"SubtitlesUploadModalContent-modalBody-26_M5- ModalBody-modalBody--5uHSu",container:"SubtitlesUploadModalContent-container-hAKMim",dropHover:"SubtitlesUploadModalContent-dropHover-2g3rQZ",uploadingContainer:"SubtitlesUploadModalContent-uploadingContainer-3YDAh7",fileInputContainer:"SubtitlesUploadModalContent-fileInputContainer-oioGGH",fileInputLink:"SubtitlesUploadModalContent-fileInputLink-2mJgaq",separator:"SubtitlesUploadModalContent-separator-3gi0QY"}},Co7d:function(e,t,i){"use strict";function n(e){return e>0?e+" kbps":""}i.d(t,"a",(function(){return n}))},CsFZ:function(e,t,i){e.exports={container:"ServerDashboardGraph-container-3OySq3 ServerDashboardSectionContent-container-3rMPaP",errorMessage:"ServerDashboardGraph-errorMessage-2LPJoX ServerDashboardSectionContent-errorMessage-32wZKY ServerDashboardPageMessage-container-2qUY4V"}},Cu2K:function(e,t,i){e.exports={itemExtraDetail:"AudioVideoQualityMenuItem-itemExtraDetail-202QW4"}},CuR8:function(e,t,i){e.exports={container:"PivotTabDropdown-container-1QP8Fk",button:"PivotTabDropdown-button-1UgTLu PageHeaderTabButton-button-1zTdeV Button-button-2kT68l Link-link-2n0yJn",buttonContents:"PivotTabDropdown-buttonContents-1S-hwV",title:"PivotTabDropdown-title-17TfJG",disclosureArrow:"PivotTabDropdown-disclosureArrow-Kjyz5C DisclosureArrow-disclosureArrow-1KPaBC",isSelected:"PivotTabDropdown-isSelected-1F5jFF"}},Cudw:function(e,t,i){"use strict";i.d(t,"a",(function(){return a}));var n=i("vkXu");function a(e,t){return Object(n.a)(e,t)?"localQuality":"remoteQuality"}},CytX:function(e,t,i){e.exports={measureContainer:"ChannelsGridPageContent-measureContainer-86FCP0",gridContent:"ChannelsGridPageContent-gridContent-1qxiR6 ChannelsGrid-gridContainer-u_bmj0"}},DBlN:function(e,t,i){(function(e){!function(e){"use strict";var t=function(e,t){this.type=this.options=this.enabled=this.timeout=this.hoverState=this.$element=null,this.init("tooltip",e,t)};t.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1},t.prototype.init=function(t,i,n){this.enabled=!0,this.type=t,this.$element=e(i),this.options=this.getOptions(n);for(var a=this.options.trigger.split(" "),s=a.length;s--;){var r=a[s];if("click"==r)this.$element.on("click."+this.type,this.options.selector,e.proxy(this.toggle,this));else if("manual"!=r){var o="hover"==r?"mouseenter":"focus",l="hover"==r?"mouseleave":"blur";this.$element.on(o+"."+this.type,this.options.selector,e.proxy(this.enter,this)),this.$element.on(l+"."+this.type,this.options.selector,e.proxy(this.leave,this))}}this.options.selector?this._options=e.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},t.prototype.getDefaults=function(){return t.DEFAULTS},t.prototype.getOptions=function(t){return(t=e.extend({},this.getDefaults(),this.$element.data(),t)).delay&&"number"==typeof t.delay&&(t.delay={show:t.delay,hide:t.delay}),t},t.prototype.getDelegateOptions=function(){var t={},i=this.getDefaults();return this._options&&e.each(this._options,(function(e,n){i[e]!=n&&(t[e]=n)})),t},t.prototype.enter=function(t){var i=t instanceof this.constructor?t:e(t.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type);if(clearTimeout(i.timeout),i.hoverState="in",!i.options.delay||!i.options.delay.show)return i.show();i.timeout=setTimeout((function(){"in"==i.hoverState&&i.show()}),i.options.delay.show)},t.prototype.leave=function(t){var i=t instanceof this.constructor?t:e(t.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type);if(clearTimeout(i.timeout),i.hoverState="out",!i.options.delay||!i.options.delay.hide)return i.hide();i.timeout=setTimeout((function(){"out"==i.hoverState&&i.hide()}),i.options.delay.hide)},t.prototype.show=function(){var t=e.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){if(this.$element.trigger(t),t.isDefaultPrevented())return;var i=this.tip();this.setContent(),this.options.animation&&i.addClass("fade");var n="function"==typeof this.options.placement?this.options.placement.call(this,i[0],this.$element[0]):this.options.placement,a=/\s?auto?\s?/i,s=a.test(n);s&&(n=n.replace(a,"")||"top"),i.detach().css({top:0,left:0,display:"block"}).addClass(n),this.options.container?i.appendTo(this.options.container):i.insertAfter(this.$element);var r=this.getPosition(),o=i[0].offsetWidth,l=i[0].offsetHeight;if(s){var c=this.$element.parent(),d=n,u=document.documentElement.scrollTop||document.body.scrollTop,p="body"==this.options.container?window.innerWidth:c.outerWidth(),h="body"==this.options.container?window.innerHeight:c.outerHeight(),m="body"==this.options.container?0:c.offset().left;n="bottom"==n&&r.top+r.height+l-u>h?"top":"top"==n&&r.top-u-l<0?"bottom":"right"==n&&r.right+o>p?"left":"left"==n&&r.left-o<m?"right":n,i.removeClass(d).addClass(n)}var g=this.getCalculatedOffset(n,r,o,l);this.applyPlacement(g,n),this.$element.trigger("shown.bs."+this.type)}},t.prototype.applyPlacement=function(e,t){var i,n=this.tip(),a=n[0].offsetWidth,s=n[0].offsetHeight,r=parseInt(n.css("margin-top"),10),o=parseInt(n.css("margin-left"),10);isNaN(r)&&(r=0),isNaN(o)&&(o=0),e.top=e.top+r,e.left=e.left+o,n.offset(e).addClass("in");var l=n[0].offsetWidth,c=n[0].offsetHeight;if("top"==t&&c!=s&&(i=!0,e.top=e.top+s-c),/bottom|top/.test(t)){var d=0;e.left<0&&(d=-2*e.left,e.left=0,n.offset(e),l=n[0].offsetWidth,c=n[0].offsetHeight),this.replaceArrow(d-a+l,l,"left")}else this.replaceArrow(c-s,c,"top");i&&n.offset(e)},t.prototype.replaceArrow=function(e,t,i){this.arrow().css(i,e?50*(1-e/t)+"%":"")},t.prototype.setContent=function(){var e=this.tip(),t=this.getTitle();e.find(".tooltip-inner")[this.options.html?"html":"text"](t),e.removeClass("fade in top bottom left right")},t.prototype.hide=function(){var t=this,i=this.tip(),n=e.Event("hide.bs."+this.type);function a(){"in"!=t.hoverState&&i.detach()}if(this.$element.trigger(n),!n.isDefaultPrevented())return i.removeClass("in"),e.support.transition&&this.$tip.hasClass("fade")?i.one(e.support.transition.end,a).emulateTransitionEnd(150):a(),this.$element.trigger("hidden.bs."+this.type),this},t.prototype.fixTitle=function(){var e=this.$element;(e.attr("title")||"string"!=typeof e.attr("data-original-title"))&&e.attr("data-original-title",e.attr("title")||"").attr("title","")},t.prototype.hasContent=function(){return this.getTitle()},t.prototype.getPosition=function(){var t=this.$element[0];return e.extend({},"function"==typeof t.getBoundingClientRect?t.getBoundingClientRect():{width:t.offsetWidth,height:t.offsetHeight},this.$element.offset())},t.prototype.getCalculatedOffset=function(e,t,i,n){return"bottom"==e?{top:t.top+t.height,left:t.left+t.width/2-i/2}:"top"==e?{top:t.top-n,left:t.left+t.width/2-i/2}:"left"==e?{top:t.top+t.height/2-n/2,left:t.left-i}:{top:t.top+t.height/2-n/2,left:t.left+t.width}},t.prototype.getTitle=function(){var e=this.$element,t=this.options;return e.attr("data-original-title")||("function"==typeof t.title?t.title.call(e[0]):t.title)},t.prototype.tip=function(){return this.$tip=this.$tip||e(this.options.template)},t.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},t.prototype.validate=function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},t.prototype.enable=function(){this.enabled=!0},t.prototype.disable=function(){this.enabled=!1},t.prototype.toggleEnabled=function(){this.enabled=!this.enabled},t.prototype.toggle=function(t){var i=t?e(t.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type):this;i.tip().hasClass("in")?i.leave(i):i.enter(i)},t.prototype.destroy=function(){this.hide().$element.off("."+this.type).removeData("bs."+this.type)};var i=e.fn.tooltip;e.fn.tooltip=function(i){return this.each((function(){var n=e(this),a=n.data("bs.tooltip"),s="object"==typeof i&&i;a||n.data("bs.tooltip",a=new t(this,s)),"string"==typeof i&&a[i]()}))},e.fn.tooltip.Constructor=t,e.fn.tooltip.noConflict=function(){return e.fn.tooltip=i,this}}(e)}).call(this,i("EVdn"))},DDT0:function(e,t,i){e.exports={unknown:"RemoteAccessStateIcon-unknown-2v9yMF",error:"RemoteAccessStateIcon-error-1HDvqj",ok:"RemoteAccessStateIcon-ok-2eQXXP"}},DDbo:function(e,t,i){"use strict";var n=i("F/us"),a=i.n(n),s=i("+X4A"),r=i("CHn6"),o=i("mOXR"),l=i("0jfG"),c=i("rXDx"),d=i("Wpyo");const u={unviewedLeafCount:">="};var p=d.default.extend({name:"SectionMetadataListModel",context:["server","section","identifier","mediaTagPrefix","mediaTagVersion","allowSync"],url(){let e,t,i=[];const n=this.section.get("currentFolderKey");if(n)i.push(n);else if(i.push(a.a.result(this.section,"url")),e=this.section.get("currentSubset").id,this.section.get("allowAdvancedFilters"))"recentlyAdded"!==e&&"newest"!==e||(e="all"),i.push(e),t=this.getParams();else{const t=this.section.get("currentFilters");t.length?i=[t[0].values[0]]:i.push(e)}let r=s.join(i,t);return r=this.replaceSpecialFilterOperators(r),this.set("containerKey",r),this.server.get("isFullServer")?this.getPaginatedUrl(r):r},getParams(){const e=this.getFilterParams(),t=this.getMetadataTypeID(),i=this.getSort();return t&&t!==Object(c.u)("photo").id&&(e.type=t),i&&(e.sort=i),this.section.get("refreshing")&&this.server.supports("timelineState")&&(e.timelineState=1),e},getFilterParams(){const e=this.section.get("currentFilters"),t={};return a.a.each(e,e=>{e.values.length&&(t[e.key]=e.values.map(decodeURIComponent).join(","))}),t},getMetadataTypeID(){const e=this.section.get("currentSubset").id;let t=this.section.get("currentType").id||Object(c.u)(this.section.get("type")).id;return/^(onDeck|recentlyAdded|recentlyViewed|newest)$/.test(e)?t===Object(c.u)("show").id||t===Object(c.u)("season").id?t=Object(c.u)("episode").id:t!==Object(c.u)("artist").id&&t!==Object(c.u)("track").id||(t=Object(c.u)("album").id):/^recentlyViewedShows$/.test(e)&&(t=Object(c.u)("show").id),t},getSort(){const e=this.section.get("currentSort"),t=this.section.get("currentSubset").id;if("recentlyAdded"===t)return"addedAt:desc";if("newest"===t)return"originallyAvailableAt:desc";if(e){return(e.get("direction")||e.get("defaultDirection"))===l.a.directions.DESCENDING?e.get("descKey"):e.get("key")}},replaceSpecialFilterOperators:e=>(a.a.each(u,(t,i)=>{e=e.replace(i+"=",i+t)}),e)}),h=i("Gu3x"),m=i("KKL4"),g=i("WfN5"),v=i("7za+"),y=i("z8ZC"),f=i("66GW"),b=i("1Cr9");var I=Object(b.a)(["key"],[{key:"all",title:()=>Object(f.default)("All")},{key:"unwatched",title:()=>Object(f.default)("Unplayed")},{key:"newest",title:()=>Object(f.default)("Recently Released")},{key:"recentlyAdded",title:()=>Object(f.default)("Recently Added")},{key:"recentlyViewed",title:()=>Object(f.default)("Recently Viewed")},{key:"recentlyViewedShows",title:()=>Object(f.default)("Recently Viewed Shows")},{key:"onDeck",title:()=>Object(f.default)("On Deck")},{key:"folder",title:()=>Object(f.default)("By Folder")}]),S=i("5J4V"),C=i("JHYu"),M=i("ONsB"),D=i("B69o"),P=i("HQmg");var O=r.a.extend({name:"LinearFilterModel",context:["server","section"],idAttribute:"key",rootPropertyName:"Directory",syncedAttrs:{secondary:o.a.boolean,key:o.a.string,title:o.a.string},syncedRelations:{options:{relationClass:P.a}},defaults:{secondary:!1}});var j=D.a.extend({name:"LinearFilterCollection",context:["server","section"],model:O,url(){return a.a.result(this.section,"url")},filterBySecondary(){const e=this.filter(e=>e.get("secondary"));return this.clone(e)}});var w=r.a.extend({name:"LocationModel",context:["server","section"],rootPropertyName:"Location",syncedAttrs:{id:o.a.integer,path:{type:o.a.string,save:!0}}});var T=D.a.extend({name:"LocationCollection",context:["server","section"],model:w});var E=r.a.extend({name:"MediaTypeModel",context:["server","section"],sessionAttrs:{id:o.a.integer,typeString:o.a.string,title:o.a.string,plural:o.a.string,mediaType:o.a.string,child:o.a.string,parent:o.a.string,selected:o.a.boolean},defaults:{selected:!1}});var N=D.a.extend({name:"MediaTypeCollection",context:["server","section"],model:E});const x=["all","recentlyAdded","recentlyViewed","recentlyViewedShows","onDeck","newest","folder"];var A=r.a.extend({name:"SectionSubsetModel",context:["server","section"],idAttribute:"key",rootPropertyName:"Directory",sessionAttrs:{selected:o.a.boolean},syncedAttrs:{key:o.a.string,title:o.a.string,secondary:o.a.boolean},derivedAttrs:{primary(){return!this.get("secondary")&&a.a.contains(x,this.get("key"))}},defaults:{selected:!1},augmentResponse:e=>("all"===e.key&&(e.title=Object(f.default)("All")),e)},{whitelistedPrimaryKeySubsets:x});var L=D.a.extend({name:"SectionSubsetCollection",context:["server","section"],model:A,url(){return a.a.result(this.section,"url")},filterPrimaries(){const e=this.filter(e=>e.get("primary"));return this.clone(e)}}),k=i("5lOB");const R=r.a.extend({name:"SectionModel",context:["server"],entityType:v.d,entityID(e=this.state){return Object(g.a)(this.entityType,e.key,this.server.entityID())},idAttribute:"key",rootPropertyName:"Directory",cache:new m.a,persistInCache:!0,cacheKey(e){return this.server&&this.server.getScopedKey(e.key)},url(){if(this.isNew())return a.a.result(this,"urlRoot")||a.a.result(this.collection,"url");return a.a.isNaN(parseInt(this.id,10))?this.id:"/library/sections/"+this.id},sessionAttrs:{isSection:o.a.boolean,isCollectionsPopulated:o.a.boolean,currentFilters:o.a.array,currentFolderKey:o.a.string,settings:o.a.instanceOf(h.a)},syncedAttrs:{key:o.a.oneOfType(o.a.string,o.a.integer),uuid:o.a.string,thumb:o.a.string,art:o.a.string,createdAt:o.a.integer,updatedAt:o.a.integer,allowAdvancedFilters:o.a.boolean,allowSync:o.a.boolean,refreshing:o.a.boolean,name:{type:o.a.string,save:!0},title:{type:o.a.string,save:!0},type:{type:o.a.string,save:!0},agent:{type:o.a.string,save:!0},scanner:{type:o.a.string,save:!0},language:{type:o.a.string,save:!0},importFromiTunes:{type:o.a.boolean,save:!0},enableAutoPhotoTags:{type:o.a.boolean,save:!0},downloadMedia:{type:o.a.integer,save:!0}},derivedAttrs:{serverEntityID(){return this.state?this.server.entityID():""}},syncedRelations:{locations(){return{relationClass:T,rootPropertyName:"Location",options:{section:this},save:!0}}},sessionRelations:{items(){return{relationClass:p,options:{section:this}}},currentSubset(){return{relationClass:A,options:{section:this}}},currentFirstCharacter:()=>({relationClass:M.a,deferred:!0}),currentType:()=>({relationClass:E,deferred:!0}),currentSort:()=>({relationClass:l.a,deferred:!0}),types(){return{relationClass:N,options:{section:this}}},subsets(){return{relationClass:L,options:{section:this}}},filters(){return{relationClass:this.get("allowAdvancedFilters")?S.a:j,options:{section:this}}},sorts(){return{relationClass:k.a,options:{section:this}}},firstCharacters(){return{relationClass:C.a,options:{section:this}}}},defaults(){return{isSection:!0,isCollectionsPopulated:!1,currentType:null,currentFilters:[],currentSort:null,currentFirstCharacter:null,currentFolderKey:null,currentSubset:I.get("all"),settings:new h.a([],{server:this.server,url:()=>s.join(["/library/sections/",this.get("key"),"/prefs"])})}},initialize(e){this.updateMediaTypes(this,e.type),this.set({currentType:this.get("types").findWhere({typeString:e.type})}),this.on("change:type",this.updateMediaTypes,this)},uninitialize(){this.off("change:type",this.updateMediaTypes,this),this.stopListening()},augmentResponse:e=>(e.allowAdvancedFilters=!!e.filters,delete e.filters,e),getSectionType(){const e=this.get("type");return y.g.get(e)},getSaveParams(e){const t=r.a.prototype.getSaveParams.apply(this,arguments);if("type"in t){const e=y.g.get(t.type);e&&(t.type=e.typeString)}return"title"in t&&(t.name=t.title,delete t.title),a.a.isObject(t.type)&&(t.type=t.type.typeString),"Location"in t&&(t.location=a.a.pluck(t.Location,"path"),delete t.Location),t},getSyncTitle(e){const t=this.get("title"),i=[],n=this.get("currentSubset"),s=this.get("currentFilters");return e?(a.a.each(e,e=>{i.push(e.get("title"))}),t+": "+i.join(", ")):"all"!==n.id?t+": "+n.get("title"):s.length?(a.a.each(s,(function(e){i.push(e.titles.join(", "))})),t+": "+i.join(",")):t},setAgentAndScanner(e,t,i){const n=e.defaultAgents.find(e=>t.find(t=>t.get("identifier")===e)),a=e.defaultScanners.find(e=>i.find(t=>t.get("name")===e));this.set({agent:n,scanner:a})},updateMediaTypes(e,t){const i=Object(c.v)(t);this.get("types").reset(i)}});t.a=R},DFfa:function(e,t,i){e.exports={icon:"ErrorSourceSidebar-icon-2qnXAl"}},DHe7:function(e,t,i){e.exports={description:"ImportPlaylistsModal-description-3Lm544",row:"ImportPlaylistsModal-row-1RJDHk",overwrite:"ImportPlaylistsModal-overwrite-11Wk9k",library:"ImportPlaylistsModal-library-3t6Hg-",buttonBar:"ImportPlaylistsModal-buttonBar-3Y9UNY ModalFooterButtonBar-buttonBar-7XF2zU"}},DJk6:function(e,t,i){e.exports={divider:"PrePlayListDivider-divider-ujL6N2"}},DOb5:function(e,t,i){e.exports={relatedList:"PrePlayHubList-relatedList-3rwpfc",spinnerContainer:"PrePlayHubList-spinnerContainer-1kYSWN"}},DTM1:function(e,t,i){e.exports={textArea:"TextArea-textArea-2jx-Xy input-input-1P2Vi4",small:"TextArea-small-1qB4kd",large:"TextArea-large-3b8XTo",isDisabled:"TextArea-isDisabled-33gHrC input-isDisabled-2FiSY3",hasError:"TextArea-hasError-2KSz1h input-hasError-1to6Ql"}},DUT6:function(e,t,i){e.exports={spinner:"Spinner-spinner-1qRM4t spin-spin-2kLwt_",tiny:"Spinner-tiny-28qpDI",small:"Spinner-small-3HDhxQ",medium:"Spinner-medium-1O8qVb",large:"Spinner-large-35s3aN"}},DYcP:function(e,t,i){
/*!
 * Includes BabySitter
 * https://github.com/marionettejs/backbone.babysitter/
 *
 * Includes Wreqr
 * https://github.com/marionettejs/backbone.wreqr/
 */
!function(t,n){var a=i("F/us"),s=i("zLeb");i("e1Br"),i("5/Iy");e.exports=function(e,t){!function(e,t,i){"use strict";var n={};t.Marionette=n,n.$=t.$;var a=Array.prototype.slice;function s(e,t){var i=new Error(e);throw i.name=t||"Error",i}n.extend=t.Model.extend,n.getOption=function(e,t){if(e&&t)return e.options&&t in e.options&&void 0!==e.options[t]?e.options[t]:e[t]},n.normalizeMethods=function(e){var t,n={};return i.each(e,(function(e,a){t=e,i.isFunction(t)||(t=this[t]),t&&(n[a]=t)}),this),n},n.triggerMethod=function(){var e=/(^|:)(\w)/gi;function t(e,t,i){return i.toUpperCase()}return function(n){var a="on"+n.replace(e,t),s=this[a];if(i.isFunction(this.trigger)&&this.trigger.apply(this,arguments),i.isFunction(s))return s.apply(this,i.tail(arguments))}}(),n.MonitorDOMRefresh=function(e){function t(t){t._isShown&&t._isRendered&&function(t){return e.contains(t.el)}(t)&&i.isFunction(t.triggerMethod)&&t.triggerMethod("dom:refresh")}return function(e){e.listenTo(e,"show",(function(){!function(e){e._isShown=!0,t(e)}(e)})),e.listenTo(e,"render",(function(){!function(e){e._isRendered=!0,t(e)}(e)}))}}(document.documentElement),function(e){function t(e,t,n,a){var r=a.split(/\s+/);i.each(r,(function(i){var a=e[i];a||s("Method '"+i+"' was configured as an event handler, but does not exist."),e.listenTo(t,n,a)}))}function n(e,t,i,n){e.listenTo(t,i,n)}function a(e,t,n,a){var s=a.split(/\s+/);i.each(s,(function(i){var a=e[i];e.stopListening(t,n,a)}))}function r(e,t,i,n){e.stopListening(t,i,n)}function o(e,t,n,a,s){t&&n&&(i.isFunction(n)&&(n=n.call(e)),i.each(n,(function(n,r){i.isFunction(n)?a(e,t,r,n):s(e,t,r,n)})))}e.bindEntityEvents=function(e,i,a){o(e,i,a,n,t)},e.unbindEntityEvents=function(e,t,i){o(e,t,i,r,a)}}(n),n.Callbacks=function(){this._deferred=n.$.Deferred(),this._callbacks=[]},i.extend(n.Callbacks.prototype,{add:function(e,t){this._callbacks.push({cb:e,ctx:t}),this._deferred.done((function(i,n){t&&(i=t),e.call(i,n)}))},run:function(e,t){this._deferred.resolve(t,e)},reset:function(){var e=this._callbacks;this._deferred=n.$.Deferred(),this._callbacks=[],i.each(e,(function(e){this.add(e.cb,e.ctx)}),this)}}),n.Controller=function(e){this.triggerMethod=n.triggerMethod,this.options=e||{},i.isFunction(this.initialize)&&this.initialize(this.options)},n.Controller.extend=n.extend,i.extend(n.Controller.prototype,t.Events,{close:function(){this.stopListening(),this.triggerMethod("close"),this.unbind()}}),n.Region=function(e){if(this.options=e||{},this.el=n.getOption(this,"el"),this.el||s("An 'el' must be specified for a region.","NoElError"),this.initialize){var t=Array.prototype.slice.apply(arguments);this.initialize.apply(this,t)}},i.extend(n.Region,{buildRegion:function(e,t){var n,a,r=i.isString(e),o=i.isString(e.selector),l=i.isUndefined(e.regionType),c=i.isFunction(e);c||r||o||s("Region must be specified as a Region type, a selector string or an object with selector property"),r&&(n=e),e.selector&&(n=e.selector,delete e.selector),c&&(a=e),!c&&l&&(a=t),e.regionType&&(a=e.regionType,delete e.regionType),(r||c)&&(e={}),e.el=n;var d=new a(e);return e.parentEl&&(d.getEl=function(t){var n=e.parentEl;return i.isFunction(n)&&(n=n()),n.find(t)}),d}}),i.extend(n.Region.prototype,t.Events,{show:function(e){this.ensureEl();var t=e.isClosed||i.isUndefined(e.$el),a=e!==this.currentView;a&&this.close(),e.render(),(a||t)&&this.open(e),this.currentView=e,n.triggerMethod.call(this,"show",e),n.triggerMethod.call(e,"show")},ensureEl:function(){this.$el&&0!==this.$el.length||(this.$el=this.getEl(this.el))},getEl:function(e){return n.$(e)},open:function(e){this.$el.empty().append(e.el)},close:function(){var e=this.currentView;e&&!e.isClosed&&(e.close?e.close():e.remove&&e.remove(),n.triggerMethod.call(this,"close",e),delete this.currentView)},attachView:function(e){this.currentView=e},reset:function(){this.close(),delete this.$el}}),n.Region.extend=n.extend,n.RegionManager=function(e){var t=e.Controller.extend({constructor:function(t){this._regions={},e.Controller.prototype.constructor.call(this,t)},addRegions:function(e,t){var n={};return i.each(e,(function(e,a){i.isString(e)&&(e={selector:e}),e.selector&&(e=i.defaults({},e,t));var s=this.addRegion(a,e);n[a]=s}),this),n},addRegion:function(t,n){var a,s=i.isObject(n),r=i.isString(n),o=!!n.selector;return a=r||s&&o||i.isFunction(n)?e.Region.buildRegion(n,e.Region):n,this._store(t,a),this.triggerMethod("region:add",t,a),a},get:function(e){return this._regions[e]},removeRegion:function(e){var t=this._regions[e];this._remove(e,t)},removeRegions:function(){i.each(this._regions,(function(e,t){this._remove(t,e)}),this)},closeRegions:function(){i.each(this._regions,(function(e,t){e.close()}),this)},close:function(){this.removeRegions(),e.Controller.prototype.close.apply(this,arguments)},_store:function(e,t){this._regions[e]=t,this._setLength()},_remove:function(e,t){t.close(),delete this._regions[e],this._setLength(),this.triggerMethod("region:remove",e,t)},_setLength:function(){this.length=i.size(this._regions)}});return i.each(["forEach","each","map","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","toArray","first","initial","rest","last","without","isEmpty","pluck"],(function(e){t.prototype[e]=function(){var t=i.values(this._regions),n=[t].concat(i.toArray(arguments));return i[e].apply(i,n)}})),t}(n),n.TemplateCache=function(e){this.templateId=e},i.extend(n.TemplateCache,{templateCaches:{},get:function(e){var t=this.templateCaches[e];return t||(t=new n.TemplateCache(e),this.templateCaches[e]=t),t.load()},clear:function(){var e,t=a.call(arguments),i=t.length;if(i>0)for(e=0;e<i;e++)delete this.templateCaches[t[e]];else this.templateCaches={}}}),i.extend(n.TemplateCache.prototype,{load:function(){if(this.compiledTemplate)return this.compiledTemplate;var e=this.loadTemplate(this.templateId);return this.compiledTemplate=this.compileTemplate(e),this.compiledTemplate},loadTemplate:function(e){var t=n.$(e).html();return t&&0!==t.length||s("Could not find template: '"+e+"'","NoTemplateError"),t},compileTemplate:function(e){return i.template(e)}}),n.Renderer={render:function(e,t){return e||s("Cannot render the template since it's false, null or undefined.","TemplateNotFoundError"),("function"==typeof e?e:n.TemplateCache.get(e))(t)}},n.View=t.View.extend({constructor:function(e){i.bindAll(this,"render"),this.options=i.extend({},i.result(this,"options"),i.isFunction(e)?e.call(this):e),this.events=this.normalizeUIKeys(i.result(this,"events")),t.View.prototype.constructor.apply(this,arguments),n.MonitorDOMRefresh(this),this.listenTo(this,"show",this.onShowCalled)},triggerMethod:n.triggerMethod,normalizeMethods:n.normalizeMethods,getTemplate:function(){return n.getOption(this,"template")},mixinTemplateHelpers:function(e){e=e||{};var t=n.getOption(this,"templateHelpers");return i.isFunction(t)&&(t=t.call(this)),i.extend(e,t)},normalizeUIKeys:function(e){var t=this;if(void 0!==e)return i.each(i.keys(e),(function(n){var a=/@ui.[a-zA-Z_$0-9]*/g;n.match(a)&&(e[n.replace(a,(function(e){return i.result(t,"ui")[e.slice(4)]}))]=e[n],delete e[n])})),e},configureTriggers:function(){if(this.triggers){var e={},t=this.normalizeUIKeys(i.result(this,"triggers"));return i.each(t,(function(t,n){var a=i.isObject(t),s=a?t.event:t;e[n]=function(e){if(e){var i=e.preventDefault,n=e.stopPropagation,r=a?t.preventDefault:i,o=a?t.stopPropagation:n;r&&i&&i.apply(e),o&&n&&n.apply(e)}var l={view:this,model:this.model,collection:this.collection};this.triggerMethod(s,l)}}),this),e}},delegateEvents:function(e){this._delegateDOMEvents(e),n.bindEntityEvents(this,this.model,n.getOption(this,"modelEvents")),n.bindEntityEvents(this,this.collection,n.getOption(this,"collectionEvents"))},_delegateDOMEvents:function(e){e=e||this.events,i.isFunction(e)&&(e=e.call(this));var n={},a=this.configureTriggers();i.extend(n,e,a),t.View.prototype.delegateEvents.call(this,n)},undelegateEvents:function(){var e=Array.prototype.slice.call(arguments);t.View.prototype.undelegateEvents.apply(this,e),n.unbindEntityEvents(this,this.model,n.getOption(this,"modelEvents")),n.unbindEntityEvents(this,this.collection,n.getOption(this,"collectionEvents"))},onShowCalled:function(){},close:function(){this.isClosed||!1!==this.triggerMethod("before:close")&&(this.isClosed=!0,this.triggerMethod("close"),this.unbindUIElements(),this.remove())},bindUIElements:function(){if(this.ui){this._uiBindings||(this._uiBindings=this.ui);var e=i.result(this,"_uiBindings");this.ui={},i.each(i.keys(e),(function(t){var i=e[t];this.ui[t]=this.$(i)}),this)}},unbindUIElements:function(){this.ui&&this._uiBindings&&(i.each(this.ui,(function(e,t){delete this.ui[t]}),this),this.ui=this._uiBindings,delete this._uiBindings)}}),n.ItemView=n.View.extend({constructor:function(){n.View.prototype.constructor.apply(this,arguments)},serializeData:function(){var e={};return this.model?e=this.model.toJSON():this.collection&&(e={items:this.collection.toJSON()}),e},render:function(){this.isClosed=!1,this.triggerMethod("before:render",this),this.triggerMethod("item:before:render",this);var e=this.serializeData();e=this.mixinTemplateHelpers(e);var t=this.getTemplate(),i=n.Renderer.render(t,e);return this.$el.html(i),this.bindUIElements(),this.triggerMethod("render",this),this.triggerMethod("item:rendered",this),this},close:function(){this.isClosed||(this.triggerMethod("item:before:close"),n.View.prototype.close.apply(this,arguments),this.triggerMethod("item:closed"))}}),n.CollectionView=n.View.extend({itemViewEventPrefix:"itemview",constructor:function(e){this._initChildViewStorage(),n.View.prototype.constructor.apply(this,arguments),this._initialEvents(),this.initRenderBuffer()},initRenderBuffer:function(){this.elBuffer=document.createDocumentFragment(),this._bufferedChildren=[]},startBuffering:function(){this.initRenderBuffer(),this.isBuffering=!0},endBuffering:function(){this.isBuffering=!1,this.appendBuffer(this,this.elBuffer),this._triggerShowBufferedChildren(),this.initRenderBuffer()},_triggerShowBufferedChildren:function(){this._isShown&&(i.each(this._bufferedChildren,(function(e){n.triggerMethod.call(e,"show")})),this._bufferedChildren=[])},_initialEvents:function(){this.collection&&(this.listenTo(this.collection,"add",this.addChildView),this.listenTo(this.collection,"remove",this.removeItemView),this.listenTo(this.collection,"reset",this.render))},addChildView:function(e,t,i){this.closeEmptyView();var n=this.getItemView(e),a=this.collection.indexOf(e);this.addItemView(e,n,a)},onShowCalled:function(){this.children.each((function(e){n.triggerMethod.call(e,"show")}))},triggerBeforeRender:function(){this.triggerMethod("before:render",this),this.triggerMethod("collection:before:render",this)},triggerRendered:function(){this.triggerMethod("render",this),this.triggerMethod("collection:rendered",this)},render:function(){return this.isClosed=!1,this.triggerBeforeRender(),this._renderChildren(),this.triggerRendered(),this},_renderChildren:function(){this.startBuffering(),this.closeEmptyView(),this.closeChildren(),this.isEmpty(this.collection)?this.showEmptyView():this.showCollection(),this.endBuffering()},showCollection:function(){var e;this.collection.each((function(t,i){e=this.getItemView(t),this.addItemView(t,e,i)}),this)},showEmptyView:function(){var e=this.getEmptyView();if(e&&!this._showingEmptyView){this._showingEmptyView=!0;var i=new t.Model;this.addItemView(i,e,0)}},closeEmptyView:function(){this._showingEmptyView&&(this.closeChildren(),delete this._showingEmptyView)},getEmptyView:function(){return n.getOption(this,"emptyView")},getItemView:function(e){var t=n.getOption(this,"itemView");return t||s("An `itemView` must be specified","NoItemViewError"),t},addItemView:function(e,t,a){var s=n.getOption(this,"itemViewOptions");i.isFunction(s)&&(s=s.call(this,e,a));var r=this.buildItemView(e,t,s);return this.addChildViewEventForwarding(r),this.triggerMethod("before:item:added",r),this.children.add(r),this.renderItemView(r,a),this._isShown&&!this.isBuffering&&n.triggerMethod.call(r,"show"),this.triggerMethod("after:item:added",r),r},addChildViewEventForwarding:function(e){var t=n.getOption(this,"itemViewEventPrefix");this.listenTo(e,"all",(function(){var s=a.call(arguments),r=s[0],o=this.normalizeMethods(this.getItemEvents());s[0]=t+":"+r,s.splice(1,0,e),void 0!==o&&i.isFunction(o[r])&&o[r].apply(this,s),n.triggerMethod.apply(this,s)}),this)},getItemEvents:function(){return i.isFunction(this.itemEvents)?this.itemEvents.call(this):this.itemEvents},renderItemView:function(e,t){e.render(),this.appendHtml(this,e,t)},buildItemView:function(e,t,n){return new t(i.extend({model:e},n))},removeItemView:function(e){var t=this.children.findByModel(e);this.removeChildView(t),this.checkEmpty()},removeChildView:function(e){e&&(this.stopListening(e),e.close?e.close():e.remove&&e.remove(),this.children.remove(e)),this.triggerMethod("item:removed",e)},isEmpty:function(e){return!this.collection||0===this.collection.length},checkEmpty:function(){this.isEmpty(this.collection)&&this.showEmptyView()},appendBuffer:function(e,t){e.$el.append(t)},appendHtml:function(e,t,i){e.isBuffering?(e.elBuffer.appendChild(t.el),e._bufferedChildren.push(t)):e.$el.append(t.el)},_initChildViewStorage:function(){this.children=new t.ChildViewContainer},close:function(){this.isClosed||(this.triggerMethod("collection:before:close"),this.closeChildren(),this.triggerMethod("collection:closed"),n.View.prototype.close.apply(this,arguments))},closeChildren:function(){this.children.each((function(e){this.removeChildView(e)}),this),this.checkEmpty()}}),n.CompositeView=n.CollectionView.extend({constructor:function(){n.CollectionView.prototype.constructor.apply(this,arguments)},_initialEvents:function(){this.once("render",(function(){this.collection&&(this.listenTo(this.collection,"add",this.addChildView),this.listenTo(this.collection,"remove",this.removeItemView),this.listenTo(this.collection,"reset",this._renderChildren))}))},getItemView:function(e){var t=n.getOption(this,"itemView")||this.constructor;return t||s("An `itemView` must be specified","NoItemViewError"),t},serializeData:function(){var e={};return this.model&&(e=this.model.toJSON()),e},render:function(){this.isRendered=!0,this.isClosed=!1,this.resetItemViewContainer(),this.triggerBeforeRender();var e=this.renderModel();return this.$el.html(e),this.bindUIElements(),this.triggerMethod("composite:model:rendered"),this._renderChildren(),this.triggerMethod("composite:rendered"),this.triggerRendered(),this},_renderChildren:function(){this.isRendered&&(this.triggerMethod("composite:collection:before:render"),n.CollectionView.prototype._renderChildren.call(this),this.triggerMethod("composite:collection:rendered"))},renderModel:function(){var e={};e=this.serializeData(),e=this.mixinTemplateHelpers(e);var t=this.getTemplate();return n.Renderer.render(t,e)},appendBuffer:function(e,t){this.getItemViewContainer(e).append(t)},appendHtml:function(e,t,i){e.isBuffering?(e.elBuffer.appendChild(t.el),e._bufferedChildren.push(t)):this.getItemViewContainer(e).append(t.el)},getItemViewContainer:function(e){if("$itemViewContainer"in e)return e.$itemViewContainer;var t,a=n.getOption(e,"itemViewContainer");if(a){var r=i.isFunction(a)?a.call(this):a;(t=e.$(r)).length<=0&&s("The specified `itemViewContainer` was not found: "+e.itemViewContainer,"ItemViewContainerMissingError")}else t=e.$el;return e.$itemViewContainer=t,t},resetItemViewContainer:function(){this.$itemViewContainer&&delete this.$itemViewContainer}}),n.Layout=n.ItemView.extend({regionType:n.Region,constructor:function(e){e=e||{},this._firstRender=!0,this._initializeRegions(e),n.ItemView.prototype.constructor.call(this,e)},render:function(){return this.isClosed&&this._initializeRegions(),this._firstRender?this._firstRender=!1:this.isClosed||this._reInitializeRegions(),n.ItemView.prototype.render.apply(this,arguments)},close:function(){this.isClosed||(this.regionManager.close(),n.ItemView.prototype.close.apply(this,arguments))},addRegion:function(e,t){var i={};return i[e]=t,this._buildRegions(i)[e]},addRegions:function(e){return this.regions=i.extend({},this.regions,e),this._buildRegions(e)},removeRegion:function(e){return delete this.regions[e],this.regionManager.removeRegion(e)},_buildRegions:function(e){var t=this,i={regionType:n.getOption(this,"regionType"),parentEl:function(){return t.$el}};return this.regionManager.addRegions(e,i)},_initializeRegions:function(e){var t;this._initRegionManager(),t=i.isFunction(this.regions)?this.regions(e):this.regions||{},this.addRegions(t)},_reInitializeRegions:function(){this.regionManager.closeRegions(),this.regionManager.each((function(e){e.reset()}))},_initRegionManager:function(){this.regionManager=new n.RegionManager,this.listenTo(this.regionManager,"region:add",(function(e,t){this[e]=t,this.trigger("region:add",e,t)})),this.listenTo(this.regionManager,"region:remove",(function(e,t){delete this[e],this.trigger("region:remove",e,t)}))}}),n.AppRouter=t.Router.extend({constructor:function(e){t.Router.prototype.constructor.apply(this,arguments),this.options=e||{};var i=n.getOption(this,"appRoutes"),a=this._getController();this.processAppRoutes(a,i)},appRoute:function(e,t){var i=this._getController();this._addAppRoute(i,e,t)},processAppRoutes:function(e,t){if(t){var n=i.keys(t).reverse();i.each(n,(function(i){this._addAppRoute(e,i,t[i])}),this)}},_getController:function(){return n.getOption(this,"controller")},_addAppRoute:function(e,t,n){var a=e[n];a||s("Method '"+n+"' was not found on the controller"),this.route(t,n,i.bind(a,e))}}),n.Application=function(e){this._initRegionManager(),this._initCallbacks=new n.Callbacks,this.vent=new t.Wreqr.EventAggregator,this.commands=new t.Wreqr.Commands,this.reqres=new t.Wreqr.RequestResponse,this.submodules={},i.extend(this,e),this.triggerMethod=n.triggerMethod},i.extend(n.Application.prototype,t.Events,{execute:function(){this.commands.execute.apply(this.commands,arguments)},request:function(){return this.reqres.request.apply(this.reqres,arguments)},addInitializer:function(e){this._initCallbacks.add(e)},start:function(e){this.triggerMethod("initialize:before",e),this._initCallbacks.run(e,this),this.triggerMethod("initialize:after",e),this.triggerMethod("start",e)},addRegions:function(e){return this._regionManager.addRegions(e)},closeRegions:function(){this._regionManager.closeRegions()},removeRegion:function(e){this._regionManager.removeRegion(e)},getRegion:function(e){return this._regionManager.get(e)},module:function(e,t){var i=n.Module.getClass(t),s=a.call(arguments);return s.unshift(this),i.create.apply(i,s)},_initRegionManager:function(){this._regionManager=new n.RegionManager,this.listenTo(this._regionManager,"region:add",(function(e,t){this[e]=t})),this.listenTo(this._regionManager,"region:remove",(function(e,t){delete this[e]}))}}),n.Application.extend=n.extend,n.Module=function(e,t,a){this.moduleName=e,this.options=i.extend({},this.options,a),this.initialize=a.initialize||this.initialize,this.submodules={},this._setupInitializersAndFinalizers(),this.app=t,this.startWithParent=!0,this.triggerMethod=n.triggerMethod,i.isFunction(this.initialize)&&this.initialize(this.options,e,t)},n.Module.extend=n.extend,i.extend(n.Module.prototype,t.Events,{initialize:function(){},addInitializer:function(e){this._initializerCallbacks.add(e)},addFinalizer:function(e){this._finalizerCallbacks.add(e)},start:function(e){this._isInitialized||(i.each(this.submodules,(function(t){t.startWithParent&&t.start(e)})),this.triggerMethod("before:start",e),this._initializerCallbacks.run(e,this),this._isInitialized=!0,this.triggerMethod("start",e))},stop:function(){this._isInitialized&&(this._isInitialized=!1,n.triggerMethod.call(this,"before:stop"),i.each(this.submodules,(function(e){e.stop()})),this._finalizerCallbacks.run(void 0,this),this._initializerCallbacks.reset(),this._finalizerCallbacks.reset(),n.triggerMethod.call(this,"stop"))},addDefinition:function(e,t){this._runModuleDefinition(e,t)},_runModuleDefinition:function(e,a){if(e){var s=i.flatten([this,this.app,t,n,n.$,i,a]);e.apply(this,s)}},_setupInitializersAndFinalizers:function(){this._initializerCallbacks=new n.Callbacks,this._finalizerCallbacks=new n.Callbacks}}),i.extend(n.Module,{create:function(e,t,n){var s=e,r=a.call(arguments);r.splice(0,3);var o=(t=t.split(".")).length,l=[];return l[o-1]=n,i.each(t,(function(t,i){var a=s;s=this._getModule(a,t,e,n),this._addModuleDefinition(a,s,l[i],r)}),this),s},_getModule:function(e,t,n,a,s){var r=i.extend({},a),o=this.getClass(a),l=e[t];return l||(l=new o(t,n,r),e[t]=l,e.submodules[t]=l),l},getClass:function(e){var t=n.Module;return e?e.prototype instanceof t?e:e.moduleClass||t:t},_addModuleDefinition:function(e,t,a,s){var r,o;!i.isFunction(a)||a.prototype instanceof n.Module?i.isObject(a)?(r=a.define,o=!!i.isUndefined(a.startWithParent)||a.startWithParent):o=!0:(r=a,o=!0),r&&t.addDefinition(r,s),t.startWithParent=t.startWithParent&&o,t.startWithParent&&!t.startWithParentIsConfigured&&(t.startWithParentIsConfigured=!0,e.addInitializer((function(e){t.startWithParent&&t.start(e)})))}})}(0,t,e);return t.Marionette}(a,s)}()},DYor:function(e,t,i){e.exports={message:"ConfirmAdvertisingNotice-message-2crJY6",consentMessage:"ConfirmAdvertisingNotice-consentMessage-3Bhdzy"}},DdRF:function(e,t,i){"use strict";i.d(t,"a",(function(){return ne}));var n={};i.r(n),i.d(n,"startPlayback",(function(){return d})),i.d(n,"endPlayback",(function(){return u})),i.d(n,"playNextItem",(function(){return p})),i.d(n,"playPreviousItem",(function(){return h})),i.d(n,"playItem",(function(){return m})),i.d(n,"play",(function(){return g})),i.d(n,"pause",(function(){return v})),i.d(n,"seek",(function(){return y})),i.d(n,"changeVolume",(function(){return f})),i.d(n,"changeQualityIndex",(function(){return b})),i.d(n,"changeStream",(function(){return I})),i.d(n,"changeSubtitleColor",(function(){return S})),i.d(n,"changeSubtitlePosition",(function(){return C})),i.d(n,"changeSubtitleSize",(function(){return M})),i.d(n,"changeSubtitleOffset",(function(){return D})),i.d(n,"changeAutoPlay",(function(){return P})),i.d(n,"changePlaybackSpeed",(function(){return O})),i.d(n,"setRepeat",(function(){return j})),i.d(n,"refreshRemotePlayQueue",(function(){return w})),i.d(n,"refreshRemoteStreams",(function(){return T})),i.d(n,"mirrorDetails",(function(){return E}));var a={};i.r(a),i.d(a,"startPlayback",(function(){return k})),i.d(a,"endPlayback",(function(){return R})),i.d(a,"playNextItem",(function(){return z})),i.d(a,"playPreviousItem",(function(){return U})),i.d(a,"playItem",(function(){return V})),i.d(a,"play",(function(){return B})),i.d(a,"pause",(function(){return F})),i.d(a,"seek",(function(){return H})),i.d(a,"changeVolume",(function(){return _})),i.d(a,"changeQualityIndex",(function(){return W})),i.d(a,"changeStream",(function(){return Q})),i.d(a,"changeSubtitleColor",(function(){return G})),i.d(a,"changeSubtitlePosition",(function(){return K})),i.d(a,"changeSubtitleSize",(function(){return Y})),i.d(a,"changeSubtitleOffset",(function(){return q})),i.d(a,"changeAutoPlay",(function(){return Z})),i.d(a,"changePlaybackSpeed",(function(){return J})),i.d(a,"setRepeat",(function(){return X})),i.d(a,"refreshRemotePlayQueue",(function(){return $})),i.d(a,"refreshRemoteStreams",(function(){return ee})),i.d(a,"mirrorDetails",(function(){return te}));var s=i("Ve6J"),r=i("cgRT"),o=i("lbl0"),l=i("AQCF"),c=i("Ivly");function d(e){s.startPlayback(e);const t=Object(r.c)("remoteCastPlayerManager");e.get("playQueue").set("own",!1),t.startPlayback(e),e.set({startMetadataItemEntityID:null,startOffsetMilliseconds:null,startMediaIndex:null})}function u(e){s.endPlayback(e);Object(r.c)("remoteCastPlayerManager").sendMessage({type:o.r})}function p(e){Object(r.c)("remoteCastPlayerManager").sendMessage({type:o.a})}function h(e){Object(r.c)("remoteCastPlayerManager").sendMessage({type:o.d})}function m(e,t){s.playItem(e,t);const i=Object(r.c)("remoteCastPlayerManager"),n=e.get("playQueue"),a=n.get("playQueueItems"),l=n.get("playQueueSelectedItemID"),c=a.get(l).get("metadataItem");i.sendMessage({type:o.q,playQueueItemID:l,key:c.get("key")})}function g(e){s.play(e);Object(r.c)("remoteCastPlayerManager").sendMessage({type:o.c})}function v(e){s.pause(e);Object(r.c)("remoteCastPlayerManager").sendMessage({type:o.b})}function y(e,t){s.seek(e,t);Object(r.c)("remoteCastPlayerManager").sendMessage({type:o.g,currentTime:t})}function f(e,t,i){Object(r.c)("remoteCastPlayerManager").setVolume(t)}function b(e,t){s.changeQualityIndex(e,t);const i=c.a.getQualityByIndex(t);Object(r.c)("remoteCastPlayerManager").sendMessage({type:o.i,bitrate:i.bitrate})}function I(e,t,i){Object(r.c)("remoteCastPlayerManager").sendMessage({type:o.k,stream:{type:t,id:i}})}function S(e,t,i){s.changeSubtitleColor(e,t,i);Object(r.c)("remoteCastPlayerManager").sendMessage({type:o.l,subtitleColor:t})}function C(e,t,i){s.changeSubtitlePosition(e,t,i);Object(r.c)("remoteCastPlayerManager").sendMessage({type:o.n,subtitlePosition:t})}function M(e,t,i){s.changeSubtitleSize(e,t,i);Object(r.c)("remoteCastPlayerManager").sendMessage({type:o.o,subtitleSize:t})}function D(e,t,i){Object(r.c)("remoteCastPlayerManager").sendMessage({type:o.m,subtitleOffset:t})}function P(e,t,i){s.changeAutoPlay(e,t,i);Object(r.c)("remoteCastPlayerManager").sendMessage({type:o.h,autoPlay:t})}function O(e,t){}function j(e,t){e.set({repeatAll:t.repeatAll,repeatOne:t.repeatOne});Object(r.c)("remoteCastPlayerManager").sendMessage({type:o.j,repeat:Object(l.a)(t)})}function w(e){Object(r.c)("remoteCastPlayerManager").sendMessage({type:o.e})}function T(e){Object(r.c)("remoteCastPlayerManager").sendMessage({type:o.f})}function E(e){Object(r.c)("remoteCastPlayerManager").mirrorDetails(e)}var N=i("LJTU"),x=i("eNuQ"),A=i("bcER");function L(e){const t=e.get("playQueue");return Object(N.d)(t.get("type"))}function k(e){s.startPlayback(e);const t=Object(r.c)("remotePlexPlayerManager");e.get("playQueue").set("own",!1),t.startPlayback(e)}function R(e){const t=Object(r.c)("remotePlexPlayerManager"),i={};e.get("playQueue")&&(i.type=L(e)),s.endPlayback(e),t.sendCommand("/player/playback/stop",i)}function z(e){const t=Object(r.c)("remotePlexPlayerManager"),i=L(e);t.sendCommand("/player/playback/skipNext",{type:i})}function U(e){const t=Object(r.c)("remotePlexPlayerManager"),i=L(e);t.sendCommand("/player/playback/skipPrevious",{type:i})}function V(e,t){s.playItem(e,t);const i=Object(r.c)("remotePlexPlayerManager"),n=L(e),a=e.get("playQueue"),o=a.get("playQueueItems"),l=a.get("playQueueSelectedItemID"),c=o.get(l).get("metadataItem");i.sendCommand("/player/playback/skipTo",{type:n,key:c.get("key")})}function B(e){s.play(e);const t=Object(r.c)("remotePlexPlayerManager"),i=L(e);t.sendCommand("/player/playback/play",{type:i})}function F(e){s.pause(e);const t=Object(r.c)("remotePlexPlayerManager"),i=L(e);t.sendCommand("/player/playback/pause",{type:i})}function H(e,t){s.seek(e,t);const i=Object(r.c)("remotePlexPlayerManager"),n=L(e);i.seek({type:n,offset:1e3*t})}function _(e,t,i){const n=Object(r.c)("remotePlexPlayerManager"),a=L(e);n.changeVolume({type:a,volume:t})}function W(e,t){}function Q(e,t,i){const n=Object(r.c)("remotePlexPlayerManager"),a=L(e),s=A.a.get(t).key;n.sendCommand("/player/playback/setStreams",{type:a,[s]:i})}function G(e,t,i){const n=Object(r.c)("remotePlexPlayerManager"),a=L(e);n.sendCommand("/player/playback/setParameters",{type:a,subtitleColor:t}),s.changeSubtitleColor(e,t,i)}function K(e,t,i){const n=Object(r.c)("remotePlexPlayerManager"),a=L(e);n.sendCommand("/player/playback/setParameters",{type:a,subtitlePosition:t}),s.changeSubtitlePosition(e,t,i)}function Y(e,t,i){const n=Object(r.c)("remotePlexPlayerManager"),a=L(e);n.sendCommand("/player/playback/setParameters",{type:a,subtitleSize:t}),s.changeSubtitleSize(e,t,i)}function q(e,t,i){const n=Object(r.c)("remotePlexPlayerManager"),a=L(e);n.sendCommand("/player/playback/setParameters",{type:a,subtitleOffset:t})}function Z(e,t,i){const n=Object(r.c)("remotePlexPlayerManager"),a=L(e);n.sendCommand("/player/playback/setParameters",{type:a,autoPlay:t?1:0}),s.changeAutoPlay(e,t,i)}function J(e,t){}function X(e,t){s.setRepeat(e,t);const i=Object(r.c)("remotePlexPlayerManager"),n=L(e),a=e.get("repeatAll"),o=e.get("repeatOne");let l=x.b;a&&(l=o?x.c:x.a),i.sendCommand("/player/playback/setParameters",{type:n,repeat:l})}function $(e){const t=Object(r.c)("remotePlexPlayerManager"),i=L(e),n=e.get("playQueue").get("playQueueID");t.sendCommand("/player/playback/refreshPlayQueue",{type:i,playQueueID:n})}function ee(e){const t=Object(r.c)("remotePlexPlayerManager"),i=L(e);t.sendCommand("/player/playback/refreshStreams",{type:i})}function te(e){Object(r.c)("remotePlexPlayerManager").mirrorDetails(e)}var ie=i("EK1w");function ne(e){const t=e.get("remotePlayer");return t?t.get("protocol")===ie.a?n:a:s}},DhI4:function(e,t,i){"use strict";i.r(t),i.d(t,"default",(function(){return a}));var n=i("+t+Z");function a(e){return Object(n.a)(e.bitrate)}},Dj7K:function(e,t,i){const n=i("frcC").default,a=i("a4Cb");e.exports=a(n)},DkTW:function(e,t,i){e.exports={pageHeaderCenter:"TabsPageHeaderCenter-pageHeaderCenter-3im4zZ PageHeaderCenter-pageHeaderCenter-XZlGC2"}},Dmct:function(e,t,i){e.exports={seekBar:"SeekBar-seekBar-2UK3iX Slider-slider-2oLVTs",seekBarTrack:"SeekBar-seekBarTrack-3Gu5RX Slider-track-28JOSn",seekBarFill:"SeekBar-seekBarFill-1Lcu0w Slider-fill-35GFqs",seekBarBuffer:"SeekBar-seekBarBuffer-3bUz95 Slider-secondaryFill-31_05F Slider-fill-35GFqs",noFillTransition:"SeekBar-noFillTransition-2hHzCv"}},DrhB:function(e,t,i){e.exports={addDeviceButton:"DVRSetupDeviceSelector-addDeviceButton-37qk2J",manualDeviceButtonContainer:"DVRSetupDeviceSelector-manualDeviceButtonContainer-3-lqeO",manualDeviceContainer:"DVRSetupDeviceSelector-manualDeviceContainer-6K51iL",manualAddressArrow:"DVRSetupDeviceSelector-manualAddressArrow-e9thnK",manualDeviceInput:"DVRSetupDeviceSelector-manualDeviceInput-22enzQ TextInput-input-1VMuma input-input-1P2Vi4",deviceCount:"DVRSetupDeviceSelector-deviceCount-6HUilm",devices:"DVRSetupDeviceSelector-devices-2f43GS",device:"DVRSetupDeviceSelector-device-QX9WAw",spinnerContainer:"DVRSetupDeviceSelector-spinnerContainer-2U4Wii"}},Dsr7:function(e,t,i){"use strict";var n=i("F/us"),a=i.n(n),s=i("htvf"),r=i("rG0a"),o=i("0jae"),l=i("Eeuk");const c=s.a.extend({mixins:l.a,maxCycles:3,maxSize:50,isListening:!1,initialize:function(){this._cache={},this.size=0,this.cycles=[],this.cycle()},startListening:function(){this.isListening||(this.isListening=!0,this.listenTo(r.a,{"cycle:cache":this.cycle,"clearWhere:cache":this.clearWhere,"clearAll:cache":this.clearAll,"clearCycles:cache":this.clearCycles}))},get:function(e){const t=this._cache[e];return t&&t._cacheCycle&&this.setItemCycle(t,e,a.a.first(this.cycles)),t},store:function(e,t){t||(t=this.getItemCacheKey(e)),this.remove(e),t&&(this.startListening(),e._cacheKey=t,this._cache[t]=e,this.size++,e.persistInCache||this.setItemCycle(e,t,a.a.first(this.cycles)))},getItemCacheKey:function(e){return a.a.result(e,"cacheKey")},setItemCycle:function(e,t,i){const n=e._cacheCycle;n&&n.hasOwnProperty(t)&&delete n[t],e._cacheCycle=i,i[t]=e},cycle:function(){this.size>this.maxSize&&(o.a.warn("Cache overflow, size: "+this.size),a.a.each(this.cycles.slice(1),this.removeCycle,this)),this.cycles.unshift({}),this.cycles.length>Math.max(this.maxCycles,1)&&this.removeCycle(a.a.last(this.cycles))},remove:function(e){if(!e||!e._cacheKey)return;const t=e._cacheKey;this._cache.hasOwnProperty(t)&&(delete this._cache[t],this.size--),e._cacheCycle&&(e._cacheCycle.hasOwnProperty(t)&&delete e._cacheCycle[t],delete e._cacheCycle),delete e._cacheKey},removeCycle:function(e){a.a.each(a.a.values(e),this.remove,this);const t=a.a.indexOf(this.cycles,e);this.cycles.splice(t,1)},clearWhere:function(e){const t=a.a.where(a.a.values(this._cache),e);a.a.each(t,this.remove,this)},clearAll:function(){a.a.each(a.a.values(this._cache),this.remove,this),this.cycles.length=0,this.cycle(),this.stopListening(),this.isListening=!1},clearCycles:function(){const e=this.cycles;for(;e.length;)this.removeCycle(e[e.length-1]);this.cycle()}});t.a=c},Dw2a:function(e,t,i){e.exports={link:"PosterCardLink-link-1lt0M1 Link-link-2ew_DK",hoveredLink:"PosterCardLink-hoveredLink-AhlkMt PosterCardLink-link-1lt0M1 Link-link-2ew_DK"}},DzTo:function(e,t,i){e.exports={underlay:"MetadataItemLinkUnderlay-underlay-1UjxLG Link-link-2ew_DK"}},"E3/3":function(e,t,i){e.exports={modalFooter:"ModalFooter-modalFooter-30WIB5",button:"ModalFooter-button-15VJa0 Button-button-2kT68l Link-link-2n0yJn",splitButton:"ModalFooter-splitButton-2NLiBa ModalFooter-button-15VJa0 Button-button-2kT68l Link-link-2n0yJn"}},"E6f+":function(e,t,i){e.exports={footer:"DVRSetupModalFooter-footer-VLPNTO ModalFooter-modalFooter-30WIB5"}},EAJj:function(e,t,i){var n=i("3O+N");function a(e){return e&&(e.__esModule?e.default:e)}e.exports=(n.default||n).template((function(e,t,n,s,r){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),r=r||{};var o="",l=this.escapeExpression;return o+='<div class="row row-padded"> <h4 class="text-muted text-center"> <p>'+l(a(i("d8WC")).call(t,"Conversions for sync and media optimization will appear here.",{hash:{},data:r}))+"</p> <p>"+l(a(i("d8WC")).call(t,"Manage your optimized versions in {1}Optimized Versions Settings{2}.",'<a href="{3}">',"</a>",t&&t.manageVersionsRoute,{hash:{},data:r}))+"</p> </h4> </div> "}))},EBCF:function(e,t,i){e.exports={anagram:"Anagram-anagram-2KZ_Z0"}},EC8F:function(e,t,i){"use strict";var n=i("F/us"),a=i.n(n),s=i("0jae"),r=i("Cudw");const o={ORIGINAL:-1,CONVERT_AUTOMATICALLY:-2,qualities:{},getQualityByIndex:function(e){if(e===this.CONVERT_AUTOMATICALLY)return{index:this.CONVERT_AUTOMATICALLY};if(e<0)return{index:this.ORIGINAL};const t={index:e};return a.a.each(this.qualities,(function(i,n){t[n]=a.a.result(this.qualities,n)[e]}),this),t},getQualityCount:function(){const e=a.a.first(a.a.keys(this.qualities));return a.a.result(this.qualities,e).length},getQualityAttribute:function(e){const t=Object(r.a)(e,e.server.get("isPrivateConnection"));return"video"!==this.type?this.type+"!"+t:t},getSyncQualityAttribute:function(){return"syncQuality!"+this.type},getCurrentQuality:function(e,t,i){const n=this.getQualityAttribute(e);let r=t.get(n);return r>=this.getQualityCount()&&(s.a.warn("Quality index "+r+" is out of bounds"),r=a.a.result(t,"defaults")[n],i({[n]:r})),a.a.extend(this.getQualityByIndex(r),{attribute:n})},getAvailableQualities:function(e){e||(e={});const t=e.lowestQualityIndex;let i=e.highestQualityIndex;const n=e.comparator,a=[];i===this.ORIGINAL&&(i=void 0);for(let e=0,s=this.getQualityCount();e<s;e++)if(!(t&&e<t)){if(i&&e>i)return a;if(n&&n.call(this,e))return a;a.push(this.getQualityByIndex(e))}return a},getResolutionFromSize:function(e){const t=e.split("x"),i=parseInt(t[1],10);return this.getResolutionFromHeight(i)},getResolutionFromHeight:function(e){return e>2560?"8k":e>1100?"4k":e>720?"1080":e>576?"720":e>480?"576":e>360?"480":"sd"},getHeightFromResolution:function(e){switch(e){case"8k":return 5120;case"4k":return 2560;case"1080":return 1080;case"720":return 720;case"576":return 576;case"480":return 480;case"sd":default:return 360}},getNearestIndex:function(e,t){if(!t)return this.ORIGINAL;let i=e.indexOf(t);if(i<0){i=0;for(let n=0,a=e.length;n<a;n++){if(e[n]>t)break;i=n}}return i}};t.a=o},EIzA:function(e,t,i){e.exports={container:"FullPage-container-17Y0cs"}},EK1w:function(e,t,i){"use strict";i.d(t,"a",(function(){return n})),i.d(t,"b",(function(){return a}));const n="cast",a="plex"},EOrL:function(e,t,i){e.exports={container:"ServerDashboardSectionContent-container-3rMPaP",spinner:"ServerDashboardSectionContent-spinner-3geO_e Spinner-spinner-1qRM4t spin-spin-2kLwt_",errorMessage:"ServerDashboardSectionContent-errorMessage-32wZKY ServerDashboardPageMessage-container-2qUY4V"}},EQVT:function(e,t,i){e.exports={container:"PhotoMetadataControls-container-1FKfKq PlayerControlsMetadata-container-2wqMfv"}},ESci:function(e,t,i){e.exports={sortDirectionIcon:"IconTableHeaderSortDirection-sortDirectionIcon-3VWsqV"}},ETIq:function(e,t,i){e.exports={hubCell:"WatchTogetherParticipantsHubCell-hubCell-2d54Ct HubCell-hubCell-3Ys175"}},EWqP:function(e,t,i){e.exports={description:"LinkedAccounts-description-JKP8ii",dim:"LinkedAccounts-dim-2wlJAd"}},EXW4:function(e,t,i){e.exports={header:"SourceSidebarHeader-header-2ViQaF"}},EXeW:function(e,t,i){var n=i("3O+N");e.exports=(n.default||n).template((function(e,t,n,a,s){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),s=s||{};var r,o,l="",c=this.escapeExpression;return l+='<div class="card card-announcement"> <div class="unread ',((r=n.if.call(t,t&&t.read,{hash:{},inverse:this.noop,fn:this.program(1,(function(e,t){return"hidden"}),s),data:s}))||0===r)&&(l+=r),l+='"></div> ',((r=n.if.call(t,t&&t.url,{hash:{},inverse:this.program(5,(function(e,t){var i,n="";return n+=" <h4>"+c("function"==typeof(i=e&&e.title)?i.apply(e):i)+'</h4> <img class="thumb"/> '}),s),fn:this.program(3,(function(e,t){var i,n="";return n+=' <h4><a href="'+c("function"==typeof(i=e&&e.url)?i.apply(e):i)+'" target="_blank">'+c("function"==typeof(i=e&&e.title)?i.apply(e):i)+'</a></h4> <a href="'+c("function"==typeof(i=e&&e.url)?i.apply(e):i)+'" target="_blank"> <img class="thumb"/> </a> '}),s),data:s}))||0===r)&&(l+=r),l+=' <div class="date">'+c((o=i("C0QX"),o&&(o.__esModule?o.default:o)).call(t,t&&t.notifyAt,{hash:{},data:s}))+'</div> <div class="description">',((r="function"==typeof(r=t&&t.content)?r.apply(t):r)||0===r)&&(l+=r),l+="</div> </div> "}))},Eeuk:function(e,t,i){"use strict";var n=i("F/us"),a=i.n(n);i("qpNu");const s=/\s+/,r=function(e,t,i,n){if(!i)return!0;if("object"==typeof i){for(const a in i)e[t].apply(e,[a,i[a]].concat(n));return!1}if(s.test(i)){const a=i.split(s);for(let i=0,s=a.length;i<s;i++)e[t].apply(e,[a[i]].concat(n));return!1}return!0},o=function(e,t){let i,n=-1;const a=e.length,s=t[0],r=t[1],o=t[2];switch(t.length){case 0:for(;++n<a;)(i=e[n]).callback.call(i.ctx);return;case 1:for(;++n<a;)(i=e[n]).callback.call(i.ctx,s);return;case 2:for(;++n<a;)(i=e[n]).callback.call(i.ctx,s,r);return;case 3:for(;++n<a;)(i=e[n]).callback.call(i.ctx,s,r,o);return;default:for(;++n<a;)(i=e[n]).callback.apply(i.ctx,t)}},l={on:function(e,t,i){if(!r(this,"on",e,[t,i])||!t)return this;this._events||(this._events={});return(this._events[e]||(this._events[e]=[])).push({callback:t,context:i,ctx:i||this}),this},once:function(e,t,i){if(!r(this,"once",e,[t,i])||!t)return this;const n=this;var s=a.a.once((function(){n.off(e,s),t.apply(this,arguments)}));return s._callback=t,this.on(e,s,i)},off:function(e,t,i){let n,s,o,l,c,d,u;if(!this._events||!r(this,"off",e,[t,i]))return this;if(!e&&!t&&!i)return this._events=void 0,this;const p=e?[e]:a.a.keys(this._events);for(l=0,c=p.length;l<c;l++)if(e=p[l],o=this._events[e],o){if(this._events[e]=n=[],t||i)for(d=0,u=o.length;d<u;d++)s=o[d],(t&&t!==s.callback&&t!==s.callback._callback||i&&i!==s.context)&&n.push(s);n.length||delete this._events[e]}return this},trigger:function(e){if(!this._events)return this;const t=[].slice.call(arguments,1);if(!r(this,"trigger",e,t))return this;const i=this._events[e],n=this._events.all;return i&&o(i,t),n&&o(n,arguments),this},stopListening:function(e,t,i){let n=this._listeningTo;if(!n)return this;const s=!t&&!i;i||"object"!=typeof t||(i=this),e&&((n={})[e._listenId]=e);for(const r in n)(e=n[r]).off(t,i,this),(s||a.a.isEmpty(e._events))&&delete this._listeningTo[r];return this},hasListener:function(e){const t=this._events&&this._events[e];return Array.isArray(t)&&t.length>0}};a.a.each({listenTo:"on",listenToOnce:"once"},(function(e,t){l[t]=function(t,i,n){return(this._listeningTo||(this._listeningTo={}))[t._listenId||(t._listenId=a.a.uniqueId("l"))]=t,n||"object"!=typeof i||(n=this),t[e](i,n,this),this}})),l.bind=l.on,l.unbind=l.off,t.a=l},EtI4:function(e,t,i){e.exports={externalMenuItemContainer:"SubtitlesStreamsMenu-externalMenuItemContainer-1x3fqr",externalMenuItem:"SubtitlesStreamsMenu-externalMenuItem-284uph SelectedMenuItem-menuItemContainer-2hXIr-",menuLabelClassName:"SubtitlesStreamsMenu-menuLabelClassName-16VXob SelectedMenuItem-menuLabel-2fp2lo",externalDeleteButton:"SubtitlesStreamsMenu-externalDeleteButton-1SUFSe IconButton-iconButton-2l04Bi Link-link-2ew_DK",extendedTitle:"SubtitlesStreamsMenu-extendedTitle-1prcXn"}},EykR:function(e,t,i){e.exports={dragPreview:"PlaylistItemDragPreview-dragPreview-pFud8h"}},EzYn:function(e,t,i){e.exports={dragPreview:"PlaylistPhotoDragPreview-dragPreview-1Grr5S"}},F3Cg:function(e,t,i){e.exports={form:"EPGSettings-form-ZJ79Ys",message:"EPGSettings-message-159MED",regionInput:"EPGSettings-regionInput-1wXWR6 SelectInput-input-x1tNmq input-input-1P2Vi4",fetchingSpinner:"EPGSettings-fetchingSpinner-3HphG1 Spinner-spinner-Niere7 spin-spin-2kLwt_"}},F5gX:function(e,t,i){e.exports={container:"PrePlayLowerContent-container-1cIUf_"}},FAj2:function(e,t,i){e.exports={icon:"InnerErrorPage-icon-tWVPF4 ErrorPage-icon-ZJ38xX EmptyPage-icon-31D3ZA"}},FIl5:function(e,t,i){"use strict";var n=i("F/us"),a=i.n(n),s=i("RNo0"),r=i("e0Cb"),o=i("0jae");var l=function(e){if(null==e)return"";try{return decodeURIComponent(e)}catch(t){return o.a.warn("[Parser] Unable to parse encoded string"),e}};var c=function(e){return null==e||""===e?0:window.parseFloat(e)},d=i("2Xys"),u=i("CZ2S");var p=function(e){return e?Array.isArray(e)?e:e.split(","):[]},h=i("GXN7");var m=function(e){return null==e?"":e.toString()},g=i("Xh8s");var v=function(e){return e?"1":"0"};var y=function(e){return e.join(",")},f=i("P24g");const b={parseType:function(e,t,i){const n=this.getByType("parse",e,this._parseTypeMap);return n?n(t,i):t},stringifyType:function(e,t,i){if(a.a.isString(t))return t;if(null==t)return"";const n=this.getByType("stringify",e,this._stringifyTypeMap);return n?n(t,i):t},getByType:function(e,t,i){if(i&&a.a.has(i,t))return i[t];const n=e+(t.charAt(0).toUpperCase()+t.slice(1));return a.a.has(this,n)?(i[t]=this[n],this[n]):void 0},parseBoolean:r.a,stringifyBoolean:v,parseInteger:d.a,parseFloat:c,parseString:m,parseEncodedString:l,parseArray:s.a,parseList:p,stringifyList:y,parseQueryString:h.a,stringifyQueryString:f.a,parseJSON:u.a,parseXML:g.a,reset:function(){this._parseTypeMap={json:this.parseJSON,xml:this.parseXML},this._stringifyTypeMap={}}};b.reset();t.a=b},FKox:function(e,t,i){"use strict";t.a=function(e){return e?e.charAt(0).toUpperCase()+e.slice(1):""}},FQAj:function(e,t,i){var n=i("3O+N");function a(e){return e&&(e.__esModule?e.default:e)}e.exports=(n.default||n).template((function(e,t,n,s,r){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),r=r||{};var o,l="",c=this.escapeExpression;return l+='<form class="edit-metadata-form"> <div class="row"> <div class="col-md-12 selectize"> '+c(a(i("nptq")).call(t,"lockableTextInput",{hash:{label:"Artist",name:"title",value:(o=t&&t.item,null==o||!1===o?o:o.title),placeholder:(o=t&&t.placeholders,null==o||!1===o?o:o.title),locked:(o=t&&t.locked,null==o||!1===o?o:o.title),ratingKey:(o=t&&t.item,null==o||!1===o?o:o.ratingKey)},data:r}))+' </div> </div> <div class="row"> <div class="col-md-12 selectize"> '+c(a(i("nptq")).call(t,"lockableTextInput",{hash:{label:"Sort Artist",name:"titleSort",value:(o=t&&t.item,null==o||!1===o?o:o.titleSort),placeholder:(o=t&&t.placeholders,null==o||!1===o?o:o.titleSort),locked:(o=t&&t.locked,null==o||!1===o?o:o.titleSort),ratingKey:(o=t&&t.item,null==o||!1===o?o:o.ratingKey)},data:r}))+' </div> </div> <div class="row"> <div class="col-md-12"> '+c(a(i("nptq")).call(t,"lockableTextInput",{hash:{label:"Biography",name:"summary",value:(o=t&&t.item,null==o||!1===o?o:o.summary),placeholder:(o=t&&t.placeholders,null==o||!1===o?o:o.summary),type:"textarea",rows:"5",locked:(o=t&&t.locked,null==o||!1===o?o:o.summary)},data:r}))+" </div> </div> </form> "}))},FSRn:function(e,t,i){e.exports={button:"NavBarButton-button-oTeMHk Link-link-2n0yJn"}},FVT0:function(e,t,i){e.exports={tableHeaderLink:"TableHeaderLink-tableHeaderLink-2vwPqB Link-link-2ew_DK"}},FWoo:function(e,t,i){"use strict";i.d(t,"b",(function(){return a})),i.d(t,"a",(function(){return s}));var n=i("0jae");function a(e,t,i){const n=e.get("entities").get(t);if(n){const e=n.get(i);if(e)return e.get("model")}}function s(e,t,i){const s=a(e,t,i);return s||n.a.warn('An entity does not exist with the type "%s" and id "%s"',t,i),s}},FYT4:function(e,t,i){e.exports={subscription:"RecordingPrioritySubscription-subscription-sOfYqe",link:"RecordingPrioritySubscription-link-2-ONe6",linkContainer:"RecordingPrioritySubscription-linkContainer-35Li6i",posterContainer:"RecordingPrioritySubscription-posterContainer-1ZjTKX",titleContainer:"RecordingPrioritySubscription-titleContainer-2zfvGj",dragHandle:"RecordingPrioritySubscription-dragHandle-1KbYqy Link-link-2n0yJn",dragIcon:"RecordingPrioritySubscription-dragIcon-2zAikO"}},FYiy:function(e,t,i){e.exports={signInButton:"NavBarSignInButton-signInButton-gyzAOM NavBarButton-button-oTeMHk Link-link-2n0yJn"}},FdSe:function(e,t,i){"use strict";i.d(t,"d",(function(){return g})),i.d(t,"b",(function(){return v})),i.d(t,"c",(function(){return y})),i.d(t,"a",(function(){return f}));var n=i("gcR/"),a=i.n(n),s=i("q1tI"),r=i.n(s),o=i("iZkF");const{createContext:l,useContext:c,useMemo:d}=r.a,u=Symbol(void 0),p=Symbol(void 0),h=[u,u,u],m=l({metricsPage:o.yb,metricsContextTuple:h});function g(){return c(m)}function v([e,t,i]){if(e!==u)return[e,t===u||t===p?"":t,i===u||i===p?"":i].join("~").replace(/~+$/,"")}function y([e,t,i]){if(e!==u)return{context:e,row:t===p||t===u?void 0:t,col:i===p||i===u?void 0:i}}function f({children:e,metricsPage:t,metricsContextParam:i,name:n,row:s=u,column:r=u}){const{metricsPage:o,metricsContextTuple:l}=g(),c=d(()=>{const[e,a,c]=l;return i?function(e){if(!e)return h;const[t,i,n]=e.split("~");return t?[t,i?parseInt(i,10):p,n?parseInt(n,10):p]:h}(i):n?[n,s,r]:e!==u?[e,a===u?s:a,c===u?r:c]:t&&t!==o?l:void 0},[r,l,i,o,t,n,s]),v=d(()=>c?{metricsPage:t||o,metricsContextTuple:c}:void 0,[c,o,t]);return v?a()(m.Provider,{value:v},void 0,e):e}},"Fe9+":function(e,t,i){e.exports={modalHeader:"WatchTogetherRoomErrorModal-modalHeader-18dTIR ModalHeader-modalHeader-1Kf9RW"}},FePx:function(e,t,i){var n=i("3O+N");function a(e){return e&&(e.__esModule?e.default:e)}e.exports=(n.default||n).template((function(e,t,n,s,r){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),r=r||{};var o,l="",c=this.escapeExpression;return l+='<form class="edit-metadata-form"> ',((o=n.if.call(t,t&&t.canReparent,{hash:{},inverse:this.noop,fn:this.program(1,(function(e,t){var n,s="";return s+=' <div class="row"> <div class="col-md-12 selectize"> '+c(a(i("nptq")).call(e,"autocompleteTextInput",{hash:{label:"Album Artist",name:"grandparentTitle",placeholder:(n=e&&e.placeholders,null==n||!1===n?n:n.grandparentTitle),ratingKey:(n=e&&e.item,null==n||!1===n?n:n.grandparentRatingKey),title:(n=e&&e.item,null==n||!1===n?n:n.grandparentTitle)},data:t}))+' </div> </div> <div class="row"> <div class="col-md-12 selectize"> '+c(a(i("nptq")).call(e,"autocompleteTextInput",{hash:{label:"Album",name:"parentTitle",placeholder:(n=e&&e.placeholders,null==n||!1===n?n:n.parentTitle),ratingKey:(n=e&&e.item,null==n||!1===n?n:n.parentRatingKey),title:(n=e&&e.item,null==n||!1===n?n:n.parentTitle),scopeToAttr:"grandparentRatingKey",scopeToParam:"artist.id"},data:t}))+" </div> </div> "}),r),data:r}))||0===o)&&(l+=o),l+=' <div class="row"> <div class="col-md-12"> '+c(a(i("nptq")).call(t,"lockableTextInput",{hash:{label:"Title",name:"title",value:(o=t&&t.item,null==o||!1===o?o:o.title),placeholder:(o=t&&t.placeholders,null==o||!1===o?o:o.title),locked:(o=t&&t.locked,null==o||!1===o?o:o.title)},data:r}))+' </div> </div> <div class="row"> <div class="col-md-4"> <label>'+c(a(i("d8WC")).call(t,"Rating",{hash:{},data:r}))+'</label> <div class="rating-region"></div> </div> <div class="col-md-4"> '+c(a(i("nptq")).call(t,"lockableNumericInput",{hash:{label:"Track",name:"index",value:(o=t&&t.item,null==o||!1===o?o:o.index),placeholder:(o=t&&t.placeholders,null==o||!1===o?o:o.index),locked:(o=t&&t.locked,null==o||!1===o?o:o.index),disabled:t&&t.disableIndices},data:r}))+' </div> <div class="col-md-4"> '+c(a(i("nptq")).call(t,"lockableNumericInput",{hash:{label:"Disc",name:"parentIndex",value:(o=t&&t.item,null==o||!1===o?o:o.parentIndex),placeholder:(o=t&&t.placeholders,null==o||!1===o?o:o.parentIndex),locked:(o=t&&t.locked,null==o||!1===o?o:o.parentIndex),disabled:t&&t.disableIndices},data:r}))+' </div> </div> <div class="row"> <div class="col-md-12 selectize"> '+c(a(i("nptq")).call(t,"lockableTextInput",{hash:{label:"Artist",name:"originalTitle",value:(o=t&&t.item,null==o||!1===o?o:o.originalTitle),placeholder:(o=t&&t.placeholders,null==o||!1===o?o:o.originalTitle),locked:(o=t&&t.locked,null==o||!1===o?o:o.originalTitle),ratingKey:(o=t&&t.item,null==o||!1===o?o:o.ratingKey)},data:r}))+" </div> </div> </form> "}))},Fg7B:function(e,t,i){e.exports={item:"PlaylistListItem-item-3FQ7lc Link-link-2ew_DK",imageContainer:"PlaylistListItem-imageContainer-2yxL79",image:"PlaylistListItem-image-3H1bJ2",title:"PlaylistListItem-title-3CeF_i"}},Fh1j:function(e,t,i){"use strict";i.d(t,"a",(function(){return r})),i.d(t,"b",(function(){return o}));i("slDQ");var n=i("0jae");const a={};let s=!1;function r(e,t){const i=t&&!s,r=a[e];return i&&r&&r.length?(Object(n.a)("[MediaElement] Found existing media element to use. type: %s",e),r.shift()):(Object(n.a)("[MediaElement] Creating new media element. type: %s",e),document.createElement(e))}function o(e){const t=e.nodeName.toLowerCase();Object(n.a)("[MediaElement] Releasing media element to pool. type: %s",t),a[t]||(a[t]=[]),a[t].push(e)}},FjM4:function(e,t,i){e.exports={container:"PlaylistItemDragSource-container-ACeFE8"}},Fp13:function(e,t,i){e.exports={starRating:"StarRating-starRating-1-SbNQ",stars:"StarRating-stars-2HyHdq",dot:"StarRating-dot-3IqC-T",star:"StarRating-star-31C9XQ",hidden:"StarRating-hidden-2n6-94",emptyStar:"StarRating-emptyStar-1XVvKp StarRating-star-31C9XQ",fullStar:"StarRating-fullStar-3gYOkk StarRating-star-31C9XQ",pulsing:"StarRating-pulsing-ZL72Hc",isReadOnly:"StarRating-isReadOnly-2SumJR",isUnrated:"StarRating-isUnrated-2pl1WY",slider:"StarRating-slider-2uo17U",track:"StarRating-track-29690M"}},FuJG:function(e,t,i){e.exports={homeUsersList:"UsersSettingsPage-homeUsersList-3XOzw8",button:"UsersSettingsPage-button-1upQLF",upsell:"UsersSettingsPage-upsell-3zJGA6",upsellMessage:"UsersSettingsPage-upsellMessage-3ocMg3"}},FzNv:function(e,t,i){e.exports={controls:"PlayerControls-controls-e59abb",buttonGroup:"PlayerControls-buttonGroup-4L6Pw-",buttonGroupLeft:"PlayerControls-buttonGroupLeft-3vLk-g PlayerControls-buttonGroup-4L6Pw-",buttonGroupCenter:"PlayerControls-buttonGroupCenter-11q8ie PlayerControls-buttonGroup-4L6Pw-",buttonGroupRight:"PlayerControls-buttonGroupRight-18LS_l PlayerControls-buttonGroup-4L6Pw-",volumeButton:"PlayerControls-volumeButton-hSQZXs PlayerIconButton-playerButton-1DmNp4 IconButton-button-9An-7I",balanceLeft:"PlayerControls-balanceLeft--vfZAg",volumeSlider:"PlayerControls-volumeSlider-9c0JEx VolumeSlider-slider-1QXdTt VerticalSlider-slider-25iZh4 Slider-slider-2oLVTs",hasLandscapePoster:"PlayerControls-hasLandscapePoster-23Gat5",hasSquarePoster:"PlayerControls-hasSquarePoster--hAg0V"}},G5dy:function(e,t,i){e.exports={button:"WatchTogetherLobbyControlButton-button-2pzvIx Button-button-2kT68l Link-link-2n0yJn",icon:"WatchTogetherLobbyControlButton-icon-2T2gG5"}},G5wA:function(e,t,i){e.exports={modalHeader:"ModalHeader-modalHeader-3FeWrI"}},GERC:function(e,t,i){e.exports={face:"PrePlayPosterCard-face-3rQEjm MetadataPosterCardFace-face--dz_Dx MetadataPosterCardFace-poster-L2P6rC"}},GFd0:function(e,t,i){e.exports={pageContent:"PageContent-pageContent-16mK6G",innerPageContent:"PageContent-innerPageContent-3ktLTA"}},GP3F:function(e,t,i){e.exports={attribution:"MetadataHubTitle-attribution-1onFMt"}},GTkx:function(e,t,i){e.exports={container:"FullPage-container-3qanwH FullPage-container-17Y0cs"}},GXN7:function(e,t,i){"use strict";var n=i("0jae"),a=i("tjw3"),s=i("5/Tp");t.a=function(e,t){if(t||(t={}),Object(a.a)(e))return e;if(!Object(s.a)(e))return{};if(!(e=e.trim().replace(/^(\?|#)/,"")))return{};const i=t.separators&&t.separators.join("")||t.separator||"&",r=new RegExp("["+i+"]+");return e.split(r).reduce((e,t)=>{let[i,a]=t.split("=");try{i=decodeURIComponent(i),a=void 0===a?null:decodeURIComponent(a),e.hasOwnProperty(i)?Array.isArray(e[i])?e[i].push(a):e[i]=[e[i],a]:e[i]=a}catch(e){n.a.warn("[Parser] Unable to decode query string at "+i)}return e},{})}},GaN0:function(e,t,i){e.exports={placeholder:"ListRowPlaceholder-placeholder-2XX5pq",shimmer:"ListRowPlaceholder-shimmer-3xDgPJ"}},GdCd:function(e,t,i){"use strict";i.d(t,"a",(function(){return a}));i("slDQ");var n=i("FKox");function a(e){const{key:t,fetchActionCreator:i,getModel:a}=e,s="is"+Object(n.a)(t)+"Populated";return(e,t,n)=>{a(e,t).get(s)||n(i(t))}}},GfmD:function(e,t,i){e.exports={container:"AudioVideoPlayerPlayQueueMetadata-container-sM2h0v",cardContainer:"AudioVideoPlayerPlayQueueMetadata-cardContainer-vcGvjG",card:"AudioVideoPlayerPlayQueueMetadata-card-18P30N QuickSearchMetadataPosterCard-card-3_XFiO MetadataPosterButtonCard-card-2T8TR6",titlesContainer:"AudioVideoPlayerPlayQueueMetadata-titlesContainer-2G9lRp",sourceText:"AudioVideoPlayerPlayQueueMetadata-sourceText-2jMM6D",durationContainer:"AudioVideoPlayerPlayQueueMetadata-durationContainer-2dgI92"}},GhuN:function(e,t,i){e.exports={pageHeader:"PrePlayPageHeader-pageHeader-2o14Fw PageHeader-pageHeader-2KNPGd",altPageHeader:"PrePlayPageHeader-altPageHeader-3bZbSG PrePlayPageHeader-pageHeader-2o14Fw PageHeader-pageHeader-2KNPGd",currentSourcePageHeaderLeftChildrenContainer:"PrePlayPageHeader-currentSourcePageHeaderLeftChildrenContainer-2tbTyv",divider:"PrePlayPageHeader-divider-WQRk87 PageHeaderDivider-pageHeaderDivider-1NwPUr",listStylesArrowsDivider:"PrePlayPageHeader-listStylesArrowsDivider-1OrTCc PageHeaderDivider-pageHeaderDivider-1NwPUr"}},Gopy:function(e,t,i){e.exports={tableHeader:"TableHeader-tableHeader-vLg8Js"}},GtsS:function(e,t,i){e.exports={container:"PrePlayList-container-WZ86OE HubCell-hubCell-3Ys175",emptyContainer:"PrePlayList-emptyContainer-1scC5X",emptyMessage:"PrePlayList-emptyMessage-aeAV8W PrePlayList-emptyContainer-1scC5X"}},Gu3x:function(e,t,i){"use strict";var n=i("B69o"),a=i("CHn6"),s=i("mOXR"),r=i("FIl5");const o="int",l="text",c="bool",d="enum",u="double";function p(e,t){switch(e){case o:case d:return r.a.parseInteger(t);case c:return r.a.parseBoolean(t);default:return t}}var h=a.a.extend({idAttribute:"id",url:"/:/prefs",context:["server"],sessionAttrs:{isSaving:s.a.boolean},syncedAttrs:{id:s.a.string,label:s.a.string,default:s.a.oneOfType(s.a.integer,s.a.string,s.a.boolean,s.a.array),summary:s.a.string,value:{type:s.a.oneOfType(s.a.integer,s.a.string,s.a.boolean,s.a.array),save:!0},type:s.a.oneOf(o,l,c,d,u),group:s.a.string,advanced:s.a.boolean,option:s.a.string,hidden:s.a.boolean,enumValues:s.a.array,values:s.a.string},defaults:{isSaving:!1,type:"string",summary:"",label:"",group:""},augmentResponse(e){if(e.value=p(e.type,e.value),e.advanced=p(c,e.advanced),e.hidden=p(c,e.hidden),e.enumValues&&!Array.isArray(e.enumValues)&&(e.enumValues=e.enumValues.split("|").map(t=>{const[i,n=i]=t.split(":");return{label:n,value:p(e.type,i)}})),e.type===d&&e.values&&!Array.isArray(e.values)){let t=0;e.enumValues=e.values.split("|").map(e=>({label:e,value:t++}))}return e},getSaveParams(e){const t=a.a.prototype.getSaveParams.apply(this,arguments);return e&&!e.hasOwnProperty("value")?(Object.keys(t).forEach(t=>delete e[t]),t):{[this.get("id")]:t.value}}});const m=n.a.extend({name:"ServerSettingCollection",context:["server"],url:"/:/prefs",model:h,augmentResponse(e){if(!e.Setting)return[];return(Array.isArray(e.Setting)?e.Setting:[e.Setting]).filter(e=>e.id)}});t.a=m},H3DA:function(e,t,i){e.exports={container:"UsersSettingsRowHome-container-7lwe0f",icon:"UsersSettingsRowHome-icon-QYwADJ",lockedIcon:"UsersSettingsRowHome-lockedIcon-oExhHy UsersSettingsRowHome-icon-QYwADJ"}},H43X:function(e,t,i){e.exports={duration:"EPGPrePlayStatusLeftTitle-duration-1W91hQ"}},H6oa:function(e,t,i){e.exports={spinner:"ServerSettingsStatusIcon-spinner-zyA9uo"}},HAvv:function(e,t,i){var n=i("3O+N");function a(e){return e&&(e.__esModule?e.default:e)}e.exports=(n.default||n).template((function(e,t,n,s,r){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),r=r||{};var o,l="",c=this.escapeExpression;return l+='<form class="edit-metadata-form"> <div class="row"> <div class="col-md-12 selectize"> '+c(a(i("nptq")).call(t,"lockableTextInput",{hash:{label:"Title",name:"title",value:(o=t&&t.item,null==o||!1===o?o:o.title),placeholder:(o=t&&t.placeholders,null==o||!1===o?o:o.title),locked:(o=t&&t.locked,null==o||!1===o?o:o.title),ratingKey:(o=t&&t.item,null==o||!1===o?o:o.ratingKey)},data:r}))+' </div> </div> <div class="row"> <div class="col-md-12 selectize"> '+c(a(i("nptq")).call(t,"lockableTextInput",{hash:{label:"Sort Title",name:"titleSort",value:(o=t&&t.item,null==o||!1===o?o:o.titleSort),placeholder:(o=t&&t.placeholders,null==o||!1===o?o:o.titleSort),locked:(o=t&&t.locked,null==o||!1===o?o:o.titleSort),ratingKey:(o=t&&t.item,null==o||!1===o?o:o.ratingKey)},data:r}))+' </div> </div> <div class="row"> <div class="col-md-12 selectize"> '+c(a(i("nptq")).call(t,"lockableTextInput",{hash:{label:"Original Title",name:"originalTitle",value:(o=t&&t.item,null==o||!1===o?o:o.originalTitle),placeholder:(o=t&&t.placeholders,null==o||!1===o?o:o.originalTitle),locked:(o=t&&t.locked,null==o||!1===o?o:o.originalTitle),ratingKey:(o=t&&t.item,null==o||!1===o?o:o.ratingKey)},data:r}))+' </div> </div> <div class="row"> <div class="col-md-4"> ',((o=n.if.call(t,t&&t.supportsLinkedYears,{hash:{},inverse:this.program(3,(function(e,t){var n,s="";return s+=" "+c(a(i("nptq")).call(e,"lockableTextInput",{hash:{label:"Year",name:"year",value:(n=e&&e.item,null==n||!1===n?n:n.year),placeholder:(n=e&&e.placeholders,null==n||!1===n?n:n.year),locked:(n=e&&e.locked,null==n||!1===n?n:n.year)},data:t}))+" "}),r),fn:this.program(1,(function(e,t){var n,s="";return s+=" "+c(a(i("nptq")).call(e,"lockableTextInput",{hash:{label:"Originally Available",name:"originallyAvailableAt",value:(n=e&&e.item,null==n||!1===n?n:n.originallyAvailableAt),placeholder:(n=e&&e.placeholders,null==n||!1===n?n:n.originallyAvailableAt),locked:(n=e&&e.locked,null==n||!1===n?n:n.originallyAvailableAt)},data:t}))+" "}),r),data:r}))||0===o)&&(l+=o),l+=' </div> <div class="col-md-4 selectize"> '+c(a(i("nptq")).call(t,"lockableTextInput",{hash:{label:"Content Rating",name:"contentRating",value:(o=t&&t.item,null==o||!1===o?o:o.contentRating),placeholder:(o=t&&t.placeholders,null==o||!1===o?o:o.contentRating),locked:(o=t&&t.locked,null==o||!1===o?o:o.contentRating),ratingKey:(o=t&&t.item,null==o||!1===o?o:o.ratingKey)},data:r}))+' </div> <div class="col-md-4"> <label>'+c(a(i("d8WC")).call(t,"Rating",{hash:{},data:r}))+'</label> <div class="rating-region"></div> </div> </div> <div class="row"> <div class="col-md-',((o=n.if.call(t,t&&t.supportsLinkedYears,{hash:{},inverse:this.program(7,(function(e,t){return"6"}),r),fn:this.program(5,(function(e,t){return"12"}),r),data:r}))||0===o)&&(l+=o),l+=' selectize"> '+c(a(i("nptq")).call(t,"lockableTextInput",{hash:{label:"Studio",name:"studio",value:(o=t&&t.item,null==o||!1===o?o:o.studio),placeholder:(o=t&&t.placeholders,null==o||!1===o?o:o.studio),locked:(o=t&&t.locked,null==o||!1===o?o:o.studio),ratingKey:(o=t&&t.item,null==o||!1===o?o:o.ratingKey)},data:r}))+" </div> ",((o=n.unless.call(t,t&&t.supportsLinkedYears,{hash:{},inverse:this.noop,fn:this.program(9,(function(e,t){var n,s="";return s+=' <div class="col-md-6"> '+c(a(i("nptq")).call(e,"lockableTextInput",{hash:{label:"Originally Available",name:"originallyAvailableAt",value:(n=e&&e.item,null==n||!1===n?n:n.originallyAvailableAt),placeholder:(n=e&&e.placeholders,null==n||!1===n?n:n.originallyAvailableAt),locked:(n=e&&e.locked,null==n||!1===n?n:n.originallyAvailableAt)},data:t}))+" </div> "}),r),data:r}))||0===o)&&(l+=o),l+=' </div> <div class="row"> <div class="col-md-12"> '+c(a(i("nptq")).call(t,"lockableTextInput",{hash:{label:"Tagline",name:"tagline",value:(o=t&&t.item,null==o||!1===o?o:o.tagline),placeholder:(o=t&&t.placeholders,null==o||!1===o?o:o.tagline),locked:(o=t&&t.locked,null==o||!1===o?o:o.tagline)},data:r}))+' </div> </div> <div class="row"> <div class="col-md-12"> '+c(a(i("nptq")).call(t,"lockableTextInput",{hash:{label:"Summary",name:"summary",value:(o=t&&t.item,null==o||!1===o?o:o.summary),placeholder:(o=t&&t.placeholders,null==o||!1===o?o:o.summary),type:"textarea",rows:"5",locked:(o=t&&t.locked,null==o||!1===o?o:o.summary)},data:r}))+" </div> </div> </form> "}))},HCZj:function(e,t,i){e.exports={container:"UsersSettingsRowAvatar-container-3QE77x"}},HDjD:function(e,t,i){e.exports={topControls:"FullPlayerTopControls-topControls-2gkcEk",topButton:"FullPlayerTopControls-topButton-2iGrJm PlayerIconButton-playerButton-1DmNp4 IconButton-button-9An-7I",castButton:"FullPlayerTopControls-castButton-1CwQ3E FullPlayerTopControls-topButton-2iGrJm PlayerIconButton-playerButton-1DmNp4 IconButton-button-9An-7I",remotePlayerName:"FullPlayerTopControls-remotePlayerName-32QaKl",remotePlayerProduct:"FullPlayerTopControls-remotePlayerProduct-2k5kgk"}},HJAU:function(e,t,i){e.exports={badge:"PrePlayContentRating-badge-3Omhmg Badge-badge-21NQRi"}},HJfd:function(e,t,i){var n=i("3O+N");function a(e){return e&&(e.__esModule?e.default:e)}e.exports=(n.default||n).template((function(e,t,n,s,r){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),r=r||{};var o="",l=this.escapeExpression;return o+='<p class="versions-status-message hidden"> <button class="delete-all-btn btn btn-sm btn-danger pull-right">'+l(a(i("d8WC")).call(t,"Delete All Versions",{hash:{},data:r}))+"</button> "+l(a(i("d8WC")).call(t,"Monitor conversion progress in {1}Conversion Activity{2}.",'<a class="status-conversion-btn" href="#">',"</a>",{hash:{},data:r}))+' </p> <div class="background-processing-list-region"></div> '}))},HJi7:function(e,t,i){e.exports={progress:"MetadataPosterCardProgressBar-progress-H-gNPX",track:"MetadataPosterCardProgressBar-track-1wK6zj",bar:"MetadataPosterCardProgressBar-bar-3N2AjG"}},HPx8:function(e,t,i){e.exports={sidebarMenuButton:"SidebarMenuButton-sidebarMenuButton-khx_Pb",sidebarMenuButtonContainer:"SidebarMenuButton-sidebarMenuButtonContainer-3c2yQl",sidebarMenuSpinner:"SidebarMenuButton-sidebarMenuSpinner-2cI_mh",sidebarMenuTitle:"SidebarMenuButton-sidebarMenuTitle-2If4a2",sidebarMenuPrimaryTitleContainer:"SidebarMenuButton-sidebarMenuPrimaryTitleContainer-3-vDDD",sidebarMenuPrimaryTitle:"SidebarMenuButton-sidebarMenuPrimaryTitle-2_fxHH",sidebarMenuSecondaryTitle:"SidebarMenuButton-sidebarMenuSecondaryTitle-2jpJLR",icon:"SidebarMenuButton-icon-3UrWWB",isDisabled:"SidebarMenuButton-isDisabled-Iwcsxd"}},HQmg:function(e,t,i){"use strict";var n=i("F/us"),a=i.n(n),s=i("+X4A"),r=i("B69o"),o=i("CHn6"),l=i("mOXR");var c=o.a.extend({name:"FilterOptionModel",context:["server","section","type","standalone"],idAttribute:"key",rootPropertyName:"Directory",syncedAttrs:{key:l.a.encodedString,type:l.a.string,field:l.a.string,value:l.a.string,title:l.a.string},augmentResponse:e=>(e.fastKey?(e.value=e.key,e.key=e.fastKey,e.field=e.type,delete e.type,delete e.fastKey):e.fastKey||e.value||(e.value=e.key),e)});const d=r.a.extend({name:"FilterOptionCollection",context:["server","provider","section","type","standalone","includeExternalMedia"],model:c,url(){let e;this.type?e={type:this.type}:this.standalone||(e=this.getUrlParams());const t=a.a.result(this.section,"url");return s.join([t,this.parent.id],e)},getUrlParams(){const e={},t=[],i=this.section.get("currentType"),n=this.section.get("currentFilters");return i&&(e.type=i.id),a.a.each(n,t=>{t.key!==this.parent.id&&t.values.length&&(e[t.key]=t.values.join(","))}),a.a.each(e,(e,i)=>{"unviewedLeafCount"===i?t.push(i+">="+e):t.push(i+"="+e)}),t.join("&")},augmentResponse:e=>(e.Directory&&!Array.isArray(e.Directory)&&(e.Directory=[e.Directory]),e.Directory=a.a.filter(e.Directory,e=>e.title),e),search(e){const t=this.filter(t=>t.get("title").toLowerCase().indexOf(e.toLowerCase())>-1);return this.clone(t)}});t.a=d},HR74:function(e,t,i){e.exports={pageHeaderRight:"PageHeaderRight-pageHeaderRight-2a8wuj"}},HU9O:function(e,t,i){e.exports={emptyDescription:"DiscoverEmptyLibraryPage-emptyDescription-dADhf6",manageLibraries:"DiscoverEmptyLibraryPage-manageLibraries-1_r43R"}},HUgi:function(e,t,i){e.exports={descendantHubCellHeader:"PrePlayDescendantList-descendantHubCellHeader-2qK3U8 HubCellHeader-hubCellHeader-2pvYNF",titleButton:"PrePlayDescendantList-titleButton-P7EPne"}},HVP4:function(e,t,i){var n=i("3O+N");function a(e){return e&&(e.__esModule?e.default:e)}e.exports=(n.default||n).template((function(e,t,n,s,r){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),r=r||{};var o,l="",c=this.escapeExpression;return l+='<div class="modal-dialog"> <div class="modal-content"> <div class="modal-header"> <button type="button" class="close" data-dismiss="modal"><i class="glyphicon remove-2"></i></button> <h4 class="modal-title"> <i class="modal-icon glyphicon circle-exclamation-mark"></i> '+c(a(i("d8WC")).call(t,"Limited Connection",{hash:{},data:r}))+" - "+c("function"==typeof(o=t&&t.serverName)?o.apply(t):o)+' </h4> </div> <div class="modal-body"> <p> '+c(a(i("d8WC")).call(t,"You are not connected directly to {1} so streaming quality may be limited. You may be able to connect directly to this server by changing your home network settings. {2}Learn more{3}",t&&t.escapedServerName,'<a href="https://help.plex.tv/relay" target="_blank" class="learn-more">',"</a>",{hash:{},data:r}))+' </p> </div> <div class="modal-footer"> <button type="button" class="confirm-btn btn btn-lg btn-primary">'+c(a(i("d8WC")).call(t,"OK",{hash:{},data:r}))+"</button> </div> </div> </div> "}))},HY0z:function(e,t,i){e.exports={container:"AudioVideoPlayQueue-container-mD38oi",topContainer:"AudioVideoPlayQueue-topContainer-3udEGu",topLeft:"AudioVideoPlayQueue-topLeft-_-AJUI",topRight:"AudioVideoPlayQueue-topRight-2iuaOm",count:"AudioVideoPlayQueue-count-1zBsgM",content:"AudioVideoPlayQueue-content-28l4x2 Scroller-vertical-VScFLT",tooltipButton:"AudioVideoPlayQueue-tooltipButton-1wdD77"}},HY9I:function(e,t,i){e.exports={badge:"MetadataTitleAttributed-badge-iUFJdK"}},Hbfx:function(e,t,i){e.exports={row:"UsersSettingsRowHomeUser-row-yBG7Dd UsersSettingsRowFriend-row-3vhOQu UsersSettingsRow-row-3XFVVH",actions:"UsersSettingsRowHomeUser-actions-2K_nSZ UsersSettingsRowFriend-actions-2x39xk UsersSettingsRowActions-container-J6Ghnt",editPin:"UsersSettingsRowHomeUser-editPin-14dFb5"}},HdxU:function(e,t,i){const n=i("NNG8").default,a=i("a4Cb");e.exports=a(n)},HhKU:function(e,t,i){e.exports={row:"RomSettings-row-3ZZrxI AudioVideoSettingsRow-row-2CrSzB",rowPressed:"RomSettings-rowPressed-KZoD14 RomSettings-row-3ZZrxI AudioVideoSettingsRow-row-2CrSzB"}},HiPX:function(e,t,i){e.exports={item:"LineupChannel-item-2RFFmG",label:"LineupChannel-label-Is-sCJ",title:"LineupChannel-title-1DrUax",iconReorder:"LineupChannel-iconReorder-1a9SGI",toggleButton:"LineupChannel-toggleButton-3lhOGk AddOrRemoveButton-button-3FgmE7 IconButton-button-9An-7I",thumb:"LineupChannel-thumb-1F_INC"}},HjAS:function(e,t,i){e.exports={sidebarContainer:"SidebarContainer-sidebarContainer-2RAYT1"}},Hr1X:function(e,t,i){e.exports={draggable:"PlaylistPhotoSortableItem-draggable-2XyLAc"}},I178:function(e,t,i){e.exports={overlay:"MetadataPosterCardOverlay-overlay-1uMpL6 PosterCardOverlay-overlay-3wQFXY",background:"MetadataPosterCardOverlay-background-2EwyBM PosterCardOverlay-background-23u0Zs",hoverBackground:"MetadataPosterCardOverlay-hoverBackground-1SwD6Z PosterCardOverlay-hoverBackground-2KpNfu",selectedBackground:"MetadataPosterCardOverlay-selectedBackground-Wzv0ox PosterCardOverlay-selectedBackground-3gAngY",visibleBackground:"MetadataPosterCardOverlay-visibleBackground-1JQ4_4 PosterCardOverlay-visibleBackground-1Kms_J",link:"MetadataPosterCardOverlay-link-1SwhlG",badge:"MetadataPosterCardOverlay-badge-1FU-pf",topLeftBadge:"MetadataPosterCardOverlay-topLeftBadge-2ooI_T MetadataPosterCardOverlay-badge-1FU-pf",versionBadge:"MetadataPosterCardOverlay-versionBadge-1cDAuU MetadataPosterCardOverlay-topLeftBadge-2ooI_T MetadataPosterCardOverlay-badge-1FU-pf",versionBadgeIcon:"MetadataPosterCardOverlay-versionBadgeIcon-JkU8Ef",smartBadge:"MetadataPosterCardOverlay-smartBadge-2YOF_V MetadataPosterCardOverlay-topLeftBadge-2ooI_T MetadataPosterCardOverlay-badge-1FU-pf",smartBadgeIcon:"MetadataPosterCardOverlay-smartBadgeIcon-378Syu",favoriteBadge:"MetadataPosterCardOverlay-favoriteBadge-1jLkEK MetadataPosterCardOverlay-topLeftBadge-2ooI_T MetadataPosterCardOverlay-badge-1FU-pf",favoriteBadgeIcon:"MetadataPosterCardOverlay-favoriteBadgeIcon-2CJhPF",unplayedBadge:"MetadataPosterCardOverlay-unplayedBadge-2hKHo5 MetadataPosterCardOverlay-badge-1FU-pf",hasSubscriptionBadge:"MetadataPosterCardOverlay-hasSubscriptionBadge-l3MOeu DownloadIcon-downloadIcon-351NIN PlexIcon-plexIcon-8Tamaj MetadataPosterCardOverlay-topLeftBadge-2ooI_T MetadataPosterCardOverlay-badge-1FU-pf",unplayedTagContainer:"MetadataPosterCardOverlay-unplayedTagContainer-1uFYq2",unplayedTag:"MetadataPosterCardOverlay-unplayedTag-3hwoiQ MetadataPosterCardOverlay-unplayedBadge-2hKHo5 MetadataPosterCardOverlay-badge-1FU-pf",progress:"MetadataPosterCardOverlay-progress-2voxfD PosterCardOverlayProgress-progress-16k0BJ",button:"MetadataPosterCardOverlay-button-M43H-q",centerCircle:"MetadataPosterCardOverlay-centerCircle-1Mg-s-",playButton:"MetadataPosterCardOverlay-playButton-1fjhkh PlayButton-playButton-3WX8X- MetadataPosterCardOverlay-button-M43H-q",playCoverButton:"MetadataPosterCardOverlay-playCoverButton-I7oU3N MetadataPosterCardOverlay-playButton-1fjhkh PlayButton-playButton-3WX8X- MetadataPosterCardOverlay-button-M43H-q",playCircle:"MetadataPosterCardOverlay-playCircle-M67q6x PlayButton-playCircle-3Evfdw MetadataPosterCardOverlay-centerCircle-1Mg-s-",selectButton:"MetadataPosterCardOverlay-selectButton-3rwSVG SelectButton-selectButton-3Kbjm9 MetadataPosterCardOverlay-button-M43H-q",selectCircle:"MetadataPosterCardOverlay-selectCircle-3ql8ST SelectButton-selectCircle-3tdvGt",coverButton:"MetadataPosterCardOverlay-coverButton-2Dm9Pj",selectCoverButton:"MetadataPosterCardOverlay-selectCoverButton-ukQUfL MetadataPosterCardOverlay-coverButton-2Dm9Pj",deselectCoverButton:"MetadataPosterCardOverlay-deselectCoverButton-3mzekx MetadataPosterCardOverlay-coverButton-2Dm9Pj",editButton:"MetadataPosterCardOverlay-editButton-7oR-Qi MetadataPosterCardOverlay-button-M43H-q",favoriteButton:"MetadataPosterCardOverlay-favoriteButton-3SmN_W MetadataPosterCardOverlay-button-M43H-q",moreButton:"MetadataPosterCardOverlay-moreButton-3FK-Ko MetadataPosterCardOverlay-button-M43H-q",removeButton:"MetadataPosterCardOverlay-removeButton-3hIPxU MetadataPosterCardOverlay-button-M43H-q",hasActiveSelection:"MetadataPosterCardOverlay-hasActiveSelection-2pflV8",refreshingCircle:"MetadataPosterCardOverlay-refreshingCircle-3EbpeR MetadataPosterCardOverlay-centerCircle-1Mg-s-",trashCircle:"MetadataPosterCardOverlay-trashCircle-XoEoZf MetadataPosterCardOverlay-centerCircle-1Mg-s-",isActionsMenuOpen:"MetadataPosterCardOverlay-isActionsMenuOpen-AvHIX3",isSelected:"MetadataPosterCardOverlay-isSelected-2muunK",isConflictingTypeSelected:"MetadataPosterCardOverlay-isConflictingTypeSelected-E8CIxH",isModifierKeyPressed:"MetadataPosterCardOverlay-isModifierKeyPressed-2cmkda",isDragging:"MetadataPosterCardOverlay-isDragging-1XK1P4",refreshingSpinnerContainer:"MetadataPosterCardOverlay-refreshingSpinnerContainer-1ERDtN",refreshingSpinner:"MetadataPosterCardOverlay-refreshingSpinner-ipJiyn",refreshingIcon:"MetadataPosterCardOverlay-refreshingIcon-3dF55d"}},I36r:function(e,t,i){var n=i("3O+N");function a(e){return e&&(e.__esModule?e.default:e)}e.exports=(n.default||n).template((function(e,t,n,s,r){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),r=r||{};var o,l="",c=this.escapeExpression;return l+='<form class="edit-metadata-form"> <div class="row"> <div class="col-md-12"> '+c(a(i("nptq")).call(t,"lockableTagInput",{hash:{label:"Genres",name:"genre",attribute:"genres",locked:(o=t&&t.locked,null==o||!1===o?o:o.genre)},data:r}))+" </div> </div> ",((o=n.if.call(t,null==(o=t&&t.editableTags)||!1===o?o:o["artist.style"],{hash:{},inverse:this.noop,fn:this.program(1,(function(e,t){var n,s="";return s+=' <div class="row"> <div class="col-md-12"> '+c(a(i("nptq")).call(e,"lockableTagInput",{hash:{label:"Styles",name:"style",attribute:"styles",locked:(n=e&&e.locked,null==n||!1===n?n:n.style)},data:t}))+" </div> </div> "}),r),data:r}))||0===o)&&(l+=o),l+=" ",((o=n.if.call(t,null==(o=t&&t.editableTags)||!1===o?o:o["artist.mood"],{hash:{},inverse:this.noop,fn:this.program(3,(function(e,t){var n,s="";return s+=' <div class="row"> <div class="col-md-12"> '+c(a(i("nptq")).call(e,"lockableTagInput",{hash:{label:"Moods",name:"mood",attribute:"moods",locked:(n=e&&e.locked,null==n||!1===n?n:n.mood)},data:t}))+" </div> </div> "}),r),data:r}))||0===o)&&(l+=o),l+=' <div class="row"> <div class="col-md-12"> '+c(a(i("nptq")).call(t,"lockableTagInput",{hash:{label:"Country",name:"country",attribute:"countries",locked:(o=t&&t.locked,null==o||!1===o?o:o.country)},data:r}))+' </div> </div> <div class="row"> <div class="col-md-12"> '+c(a(i("nptq")).call(t,"lockableTagInput",{hash:{label:"Collections",name:"collection",attribute:"collections",locked:(o=t&&t.locked,null==o||!1===o?o:o.collection)},data:r}))+" </div> </div> ",((o=n.if.call(t,t&&t.canEditSimilarArtists,{hash:{},inverse:this.noop,fn:this.program(5,(function(e,t){var n,s="";return s+=' <div class="row"> <div class="col-md-12"> '+c(a(i("nptq")).call(e,"lockableTagInput",{hash:{label:"Similar Artists",name:"similar",attribute:"similar",query:"title",locked:(n=e&&e.locked,null==n||!1===n?n:n.similar)},data:t}))+" </div> </div> "}),r),data:r}))||0===o)&&(l+=o),l+=" </form> "}))},ICb1:function(e,t,i){"use strict";i("slDQ");t.a=function(e,t){const i="function"==typeof t;return function(){const n=i?t(...arguments):arguments[0];return{type:e,payload:n}}}},ID2g:function(e,t,i){e.exports={card:"WatchTogetherHubItem-card-3HhnHa WatchTogetherHubItemPosterCard-card-3eXNmg PosterCard-card-VhPkOe",splitTitleContainer:"WatchTogetherHubItem-splitTitleContainer-23J9a_",title:"WatchTogetherHubItem-title-eSNXhH MetadataPosterCardTitle-singleLineTitle-_v31WY MetadataPosterCardTitle-title-2OWMA-",secondaryTitle:"WatchTogetherHubItem-secondaryTitle-28kXfW WatchTogetherHubItem-title-eSNXhH MetadataPosterCardTitle-singleLineTitle-_v31WY MetadataPosterCardTitle-title-2OWMA- MetadataPosterCardTitle-isSecondary-1R4E5X",splitLineTitle:"WatchTogetherHubItem-splitLineTitle-13snOO WatchTogetherHubItem-title-eSNXhH MetadataPosterCardTitle-singleLineTitle-_v31WY MetadataPosterCardTitle-title-2OWMA-",splitLineSecondaryTitle:"WatchTogetherHubItem-splitLineSecondaryTitle-1sX6o6 WatchTogetherHubItem-secondaryTitle-28kXfW WatchTogetherHubItem-title-eSNXhH MetadataPosterCardTitle-singleLineTitle-_v31WY MetadataPosterCardTitle-title-2OWMA- MetadataPosterCardTitle-isSecondary-1R4E5X WatchTogetherHubItem-splitLineTitle-13snOO WatchTogetherHubItem-title-eSNXhH MetadataPosterCardTitle-singleLineTitle-_v31WY MetadataPosterCardTitle-title-2OWMA-"}},IMai:function(e,t,i){e.exports={overlay:"PosterCardOverlay-overlay-3wQFXY",background:"PosterCardOverlay-background-23u0Zs",hoverBackground:"PosterCardOverlay-hoverBackground-2KpNfu",selectedBackground:"PosterCardOverlay-selectedBackground-3gAngY",visibleBackground:"PosterCardOverlay-visibleBackground-1Kms_J"}},INWF:function(e,t,i){"use strict";i.d(t,"a",(function(){return s})),i.d(t,"b",(function(){return r})),i.d(t,"c",(function(){return o})),i.d(t,"d",(function(){return l})),i.d(t,"e",(function(){return c}));var n=i("ICb1"),a=i("5XbV");const s="ui/repopulatePage",r="ui/showAlert",o=Object(n.a)(s),l=Object(n.a)(r,e=>"string"==typeof e?{type:a.a,message:e}:e),c={[r](e,t){}}},ISTI:function(e,t,i){e.exports={recordingBadge:"RecordingBadge-recordingBadge-2UNalG"}},IV0B:function(e,t,i){e.exports={container:"TopUsers-container-wn74_O",listActions:"TopUsers-listActions-17a4re",listScrollButton:"TopUsers-listScrollButton-1-dRkY IconButton-iconButton-2l04Bi Link-link-2ew_DK"}},IV3D:function(e,t,i){e.exports={pageHeader:"PageHeader-pageHeader-14-NYz"}},IbpV:function(e,t,i){"use strict";i.d(t,"a",(function(){return l}));var n=i("EVdn"),a=i.n(n),s=i("F/us"),r=i.n(s),o=i("+X4A");function l(e,t={}){return e.get("isLocal")?function(e){return a.a.Deferred().resolve(e).promise()}(e):function(e,t={}){const{urlPath:i="",params:n={},type:s="GET"}=t,l=o.join([r.a.result(e,"url"),i]),c=o.join(l,Object.assign({},n,{repeat:e.get("repeat")?1:0,own:e.get("own")?1:0,includeChapters:1,includeMarkers:1,includeGeolocation:1,includeExternalMedia:1})),d=e.provider.getXHROptions(c,{type:s}),u=e.get("playQueueSelectedItemID");return e.set("isUpdatePending",!0),a.a.ajax(d).promise().then(t=>{e.get("own")&&"shuffle"!==i&&"unshuffle"!==i&&u&&(u!==e.get("playQueueSelectedItemID")||u!==e.parseResponse(t).playQueueSelectedItemID)||e.set(e.parse(t));const n=e.get("playQueueItems"),s=e.get("currentIndex");return s>=0&&s<n.length?a.a.Deferred().resolve(e).promise():a.a.Deferred().reject("ERROR_PLAY_QUEUE_INDEX_INVALID").promise()},()=>a.a.Deferred().reject("ERROR_PLAY_QUEUE_COULD_NOT_POPULATE").promise()).always(()=>{e.set("isUpdatePending",!1)})}(e,t)}},IjFk:function(e,t,i){e.exports={placeholder:"QuickSearchPlaceholderLink-placeholder-1Wxzp6",isPlaceholderSelected:"QuickSearchPlaceholderLink-isPlaceholderSelected-rDCpKm"}},IlPc:function(e,t,i){e.exports={remotePlayerName:"RemotePlayerMenuItems-remotePlayerName-L2owql",remoteProduct:"RemotePlayerMenuItems-remoteProduct-3K34_6",remotePlayerProduct:"RemotePlayerMenuItems-remotePlayerProduct-3Xx8U1",menuItemSubtitle:"RemotePlayerMenuItems-menuItemSubtitle-102JIU",emptyMessage:"RemotePlayerMenuItems-emptyMessage-_vLf31",disconnectIcon:"RemotePlayerMenuItems-disconnectIcon-3DaqB7"}},Ioaq:function(e,t,i){e.exports={sourceLink:"HomeSourceLink-sourceLink-2PwRKn SourceSidebarLink-sourceLink-307kPL"}},IpeH:function(e,t,i){"use strict";i.d(t,"a",(function(){return a}));var n=i("cgRT");function a(){return Object(n.c)("settingFinder").find("volume")}},IsoN:function(e,t,i){e.exports={content:"SearchPageContent-content-2wx4DB HomePageContent-content-3x2Kyr PageContent-innerPageContent-3ktLTA"}},Ivly:function(e,t,i){"use strict";var n=i("F/us"),a=i.n(n),s=i("k9ft"),r=i("EC8F"),o=a.a.extend({},r.a,{type:"video",qualities:{bitrate:[64,96,208,320,720,1500,2e3,3e3,4e3,8e3,1e4,12e3,2e4],videoResolution:["220x128","220x128","284x160","420x240","576x320","720x480","1280x720","1280x720","1280x720","1920x1080","1920x1080","1920x1080","1920x1080"],videoQuality:[10,20,30,30,40,60,60,75,100,60,75,90,100]},getAvailableQualitiesFor(e,t,i){if(!e||!t)return[];if(Array.isArray(e)||(e=[e]),0===e.length)return[];const n=t.get("transcoderVideo"),r=t.get("transcoderVideoRemuxOnly"),o=this.getMaximumResolution(e);if(!n||r||!o)return[];const l=t.get("maxUploadBitrate"),c=a.a.extend({},i,{comparator:function(e){if(l&&this.qualities.bitrate[e]>l)return!0;const t=this.qualities.videoResolution[e].split("x");return Object(s.a)(t[0],t[1])>o}});return this.getAvailableQualities(c)},getBestAvailableQuality:function(e,t){return 0===t.length?o.ORIGINAL:t.find(t=>t.index===e.index)?e.index:a.a.last(t).index},getNearestIndexToBitrate:function(e){return this.getNearestIndex(this.qualities.bitrate,e)},getMinimumQuality:function(e,t){return(e===o.ORIGINAL?Number.MAX_VALUE:e)<(t===o.ORIGINAL?Number.MAX_VALUE:t)?e:t},getMaximumQuality:function(e,t){return this.getMinimumQuality(e,t)===e?t:e},getMaximumResolution:function(e){return e.reduce((function(e,t){if(!t.width&&!t.height)return e;const i=Object(s.a)(t.width,t.height);return null===e||i>e?i:e}),null)},isExplicitQuality:function(e){return e!==o.ORIGINAL&&e!==o.CONVERT_AUTOMATICALLY}});t.a=o},"J/RP":function(e,t,i){e.exports={container:"PageHeaderTitle-container-2-Lq-0",containerWithRoute:"PageHeaderTitle-containerWithRoute-3iGmXW PageHeaderTitle-container-2-Lq-0",title:"PageHeaderTitle-title-2ui-TL",detail:"PageHeaderTitle-detail-2k7SgN"}},J4LB:function(e,t,i){e.exports={container:"MetadataWidePosterListItem-container-34PGnF",card:"MetadataWidePosterListItem-card-20dLcQ PosterCard-card-VhPkOe",placeholderCard:"MetadataWidePosterListItem-placeholderCard-3B_1GE MetadataPosterCardPlaceholder-placeholder-3jI6Xi PosterCard-card-VhPkOe",placeholderTitle:"MetadataWidePosterListItem-placeholderTitle-2hFGNN",placeholderSubtitle:"MetadataWidePosterListItem-placeholderSubtitle-Uc3eL8 MetadataWidePosterListItem-placeholderTitle-2hFGNN",titlesContainer:"MetadataWidePosterListItem-titlesContainer-k60Epd",title:"MetadataWidePosterListItem-title-3KewqL",doubleTitle:"MetadataWidePosterListItem-doubleTitle-3FCz2o MetadataWidePosterListItem-title-3KewqL",subtitle:"MetadataWidePosterListItem-subtitle-2YnzNH MetadataWidePosterListItem-title-3KewqL",cardShimmer:"MetadataWidePosterListItem-cardShimmer-2W_cxh"}},J7Rr:function(e,t,i){e.exports={container:"PlaylistItemMetadata-container-2NWQH2",transientTitleLeft:"PlaylistItemMetadata-transientTitleLeft-3qVWpm PlaylistItemMetadata-transientTitle-2Qo_VZ",button:"PlaylistItemMetadata-button-mjGjCU",cardContainer:"PlaylistItemMetadata-cardContainer-7tc0mg",card:"PlaylistItemMetadata-card-2mWmPP QuickSearchMetadataPosterCard-card-3_XFiO MetadataPosterButtonCard-card-2T8TR6",indexContainer:"PlaylistItemMetadata-indexContainer-fnl6eJ",titlesContainer:"PlaylistItemMetadata-titlesContainer-964Lec",durationContainer:"PlaylistItemMetadata-durationContainer-yQA2Vd",downloadIcon:"PlaylistItemMetadata-downloadIcon-3CngSd DownloadIcon-downloadIcon-351NIN PlexIcon-plexIcon-8Tamaj",attributionContainer:"PlaylistItemMetadata-attributionContainer-3xQOQf SourceBadge-container-3OfQBW",transientTitle:"PlaylistItemMetadata-transientTitle-2Qo_VZ",transientTitleRight:"PlaylistItemMetadata-transientTitleRight-3KEzxj PlaylistItemMetadata-transientTitle-2Qo_VZ",playButton:"PlaylistItemMetadata-playButton-2Nx0Mi PlayButton-playButton-3WX8X- PlaylistItemMetadata-button-mjGjCU",equalizer:"PlaylistItemMetadata-equalizer-3_dxgr EqualizerIcon-equalizer-2SoFA6"}},J9Q8:function(e,t,i){e.exports={container:"ChartTooltip-container-3qn8Yf",separator:"ChartTooltip-separator-3cEIac",LegendLabel:"ChartTooltip-LegendLabel-11wpbJ LegendLabel-legendLabel-2z2UeB Link-link-2n0yJn",legendLabel:"ChartTooltip-LegendLabel-11wpbJ LegendLabel-legendLabel-2z2UeB Link-link-2n0yJn",label:"ChartTooltip-label-2Ez54j",values:"ChartTooltip-values-AlrdzX",valueRow:"ChartTooltip-valueRow-2OZ4lo",total:"ChartTooltip-total-2SwEHi"}},JFSz:function(e,t,i){var n=i("3O+N");e.exports=(n.default||n).template((function(e,t,i,n,a){return this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),a=a||{},'<ul class="js-file-list-items list browse-directory-list"></ul> <div class="js-file-list-truncated-message css-file-list-truncated-message"></div> '}))},JHYu:function(e,t,i){"use strict";var n=i("F/us"),a=i.n(n),s=i("B69o"),r=i("Q3JP"),o=i("ONsB");const l=s.a.extend({name:"FirstCharacterCollection",context:["server","provider","section"],model:o.a,responseType(){return Object(r.a)(this.server)},url(){const e=a.a.result(this.section,"url")+"/firstCharacter",t=this.getUrlParams();return t?e+"?"+t:e},getUrlParams(){const e={},t=[],i=this.section.get("currentType");i&&(e.type=i.id);const n=this.section.get("currentFilters");return a.a.each(n,t=>{t.values.length&&(e[t.key]=t.values.join(","))}),a.a.each(e,(i,n)=>{"unviewedLeafCount"===n?t.push(n+">="+e[n]):t.push(n+"="+e[n])}),t.join("&")}});t.a=l},JHeM:function(e,t,i){"use strict";i.r(t);var n=i("sWYD"),a=i("RgJi");t.default=function(e,t="MMMM d, yyyy"){return e?Object(n.a)(Object(a.a)(e),t):""}},JKRp:function(e,t,i){e.exports={sliderContainer:"SliderInputGroup-sliderContainer-2Dx08D input-input-1P2Vi4",slider:"SliderInputGroup-slider-1x6JAX Slider-slider-2oLVTs",sliderValue:"SliderInputGroup-sliderValue-2oLooy"}},JQa6:function(e,t,i){e.exports={rightTitle:"PrePlayAttributionTitle-rightTitle-3S6QtD PrePlayRightTitle-rightTitle-3oK12x",attributionLogo:"PrePlayAttributionTitle-attributionLogo-3G1f_z"}},JUjL:function(e,t,i){"use strict";var n=i("F/us"),a=i.n(n),s=i("bcER"),r=i("/No1");t.a=function(e){const t=s.a.get("audio").id,i=Object(r.a)(e,{streamType:t,selected:!0});return a.a.first(i)}},JW6f:function(e,t,i){e.exports={hub:"PhotoHub-hub-3ROVkK",container:"PhotoHub-container-2-eNSV",body:"PhotoHub-body-2A7LSr",overlay:"PhotoHub-overlay-1cF_Sl",title:"PhotoHub-title-1Js3ET",count:"PhotoHub-count-30JDLw",icon:"PhotoHub-icon-1yZ1em"}},JbXI:function(e,t,i){e.exports={actions:"MetadataMomentCell-actions--ESOoE",selectButton:"MetadataMomentCell-selectButton-2JUtis SelectButton-selectButton-3Kbjm9",title:"MetadataMomentCell-title-RqYT09",header:"MetadataMomentCell-header-3vgVay",hasSelection:"MetadataMomentCell-hasSelection-3g1dLr"}},Jdyf:function(e,t,i){e.exports={disabled:"ServerSettingsServerMenuItem-disabled-PIAsvm",friendlyName:"ServerSettingsServerMenuItem-friendlyName-2eYIlv",details:"ServerSettingsServerMenuItem-details-soe_sv",icon:"ServerSettingsServerMenuItem-icon-3bTVtt"}},JgKN:function(e,t,i){e.exports={concert:"PrePlayConcert-concert-2d4lOH",concertCalendar:"PrePlayConcert-concertCalendar-1FILvy",concertMonth:"PrePlayConcert-concertMonth-2qln2a",concertDay:"PrePlayConcert-concertDay-zNEEhM",concertDetails:"PrePlayConcert-concertDetails-_iXFvZ",concertTitle:"PrePlayConcert-concertTitle-2O-pNp",concertLocation:"PrePlayConcert-concertLocation-3ltdCq"}},Jig8:function(e,t,i){"use strict";i.d(t,"b",(function(){return n})),i.d(t,"a",(function(){return a}));const n="html",a=[n,"mpv","samsung_avplay","webmaf_video_player"]},JjHc:function(e,t,i){e.exports={button:"SourceSidebarLink-button-1Qe470 SidebarLink-sidebarLink-L2OPdE Link-default-2XA2bN",isDim:"SourceSidebarLink-isDim-1Fd4hr",title:"SourceSidebarLink-title-1lgRT2 SidebarLink-title-2vaAAn",iconContainer:"SourceSidebarLink-iconContainer-2M-FOW SidebarLink-icon-34JWqs",isDisabled:"SourceSidebarLink-isDisabled-3NPqYK SourceSidebarLink-isDim-1Fd4hr",isSelected:"SourceSidebarLink-isSelected-27-9-6",isActive:"SourceSidebarLink-isActive-2_QExr",sourceLink:"SourceSidebarLink-sourceLink-307kPL",titles:"SourceSidebarLink-titles-uoVrTb",detail:"SourceSidebarLink-detail-32x4Iq",small:"SourceSidebarLink-small-3s6oyr",medium:"SourceSidebarLink-medium-3t-Vhv"}},Jjk7:function(e,t,i){e.exports={menuItemContainer:"DisclosureFilterMenuItem-menuItemContainer-1RE7kj SelectedMenuItem-menuItemContainer-2hXIr-",menuLabel:"DisclosureFilterMenuItem-menuLabel-PotHcG SelectedMenuItem-menuLabel-2fp2lo",spinner:"DisclosureFilterMenuItem-spinner-3b1fH8 Spinner-spinner-1qRM4t spin-spin-2kLwt_",selectedIcon:"DisclosureFilterMenuItem-selectedIcon-32bEp3 SelectedMenuItem-selectedIcon-20Yx1_",isSelected:"DisclosureFilterMenuItem-isSelected-19NpBK"}},JkX4:function(e,t,i){e.exports={container:"AudioVideoPlayQueueItem-container-2_nsgE",moveControls:"AudioVideoPlayQueueItem-moveControls-1M6Iyd",removeControls:"AudioVideoPlayQueueItem-removeControls-1XM62U",metadataDurationContainer:"AudioVideoPlayQueueItem-metadataDurationContainer-184JwM AudioVideoPlayerPlayQueueMetadata-durationContainer-2dgI92",sourceText:"AudioVideoPlayQueueItem-sourceText-1oT-kA SourceBadge-text-Y8yYEa",metadataContainer:"AudioVideoPlayQueueItem-metadataContainer-w326I_ AudioVideoPlayerPlayQueueMetadata-container-sM2h0v",leftContainer:"AudioVideoPlayQueueItem-leftContainer-2xVS6L",removeButton:"AudioVideoPlayQueueItem-removeButton-4gx_SM IconButton-button-9An-7I",opacity20Precent:"AudioVideoPlayQueueItem-opacity20Precent-36ydLE",opacity40Precent:"AudioVideoPlayQueueItem-opacity40Precent-1FZXaH",opacity60Precent:"AudioVideoPlayQueueItem-opacity60Precent-3KF0lC",opacity80Precent:"AudioVideoPlayQueueItem-opacity80Precent-3wzZOl",isCurrentItem:"AudioVideoPlayQueueItem-isCurrentItem-3g1KW-",isItemDragging:"AudioVideoPlayQueueItem-isItemDragging-1lnodd"}},Jl0g:function(e,t,i){e.exports={slider:"AudioSettings-slider-2uCoXx Slider-slider-2oLVTs"}},JrF9:function(e,t,i){e.exports={selectButtonContainer:"RowSelectButton-selectButtonContainer-3pOaEw",selectButton:"RowSelectButton-selectButton-1qCTNM SelectButton-selectButton-3jGXzS Link-link-2ew_DK",isVisible:"RowSelectButton-isVisible-1MFNNR"}},Jrrk:function(e,t,i){e.exports={container:"ChannelsGridTimeline-container-3dKF2q",dayContainer:"ChannelsGridTimeline-dayContainer-22VllU",labelContainer:"ChannelsGridTimeline-labelContainer-3JCH3a",label:"ChannelsGridTimeline-label-368pi8",navigationButtons:"ChannelsGridTimeline-navigationButtons-3GtRvh",navigationButton:"ChannelsGridTimeline-navigationButton-2oRTOG"}},JwlK:function(e,t,i){"use strict";i.r(t);var n=i("B69o"),a=i("uNiD");const s=n.a.extend({name:"QueryRuleCollection",model:a.a});t.default=s},"K/Mj":function(e,t,i){e.exports={device:"DVRDevice-device-3IwH66",details:"DVRDevice-details-F9a0My",modelContainer:"DVRDevice-modelContainer-3qwvJt",model:"DVRDevice-model-1unSm8",deviceSettingsButton:"DVRDevice-deviceSettingsButton-2W-U0I Link-link-2n0yJn",deviceSettingsIcon:"DVRDevice-deviceSettingsIcon-wNdKgV",uri:"DVRDevice-uri-2Vhv07",deviceWarning:"DVRDevice-deviceWarning-UAoFis",deviceWarningIconContainer:"DVRDevice-deviceWarningIconContainer-29K1lz",separator:"DVRDevice-separator-2sIVzr DashSeparator-separator-4CyEFW",info:"DVRDevice-info-kn53L2",removeDeviceContainer:"DVRDevice-removeDeviceContainer-2W5hIO",removeDevice:"DVRDevice-removeDevice-3N-rDk"}},K5nX:function(e,t,i){var n=i("3O+N");function a(e){return e&&(e.__esModule?e.default:e)}e.exports=(n.default||n).template((function(e,t,n,s,r){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),r=r||{};var o,l="",c=this.escapeExpression;return l+='<form class="edit-metadata-form"> <div class="row"> <div class="col-md-12"> '+c(a(i("nptq")).call(t,"lockableTextInput",{hash:{label:"Title",name:"title",value:(o=t&&t.item,null==o||!1===o?o:o.title),placeholder:(o=t&&t.placeholders,null==o||!1===o?o:o.title),locked:(o=t&&t.locked,null==o||!1===o?o:o.title)},data:r}))+' </div> </div> <div class="row"> <div class="col-md-12"> '+c(a(i("nptq")).call(t,"lockableTextInput",{hash:{label:"Sort Title",name:"titleSort",value:(o=t&&t.item,null==o||!1===o?o:o.titleSort),placeholder:(o=t&&t.placeholders,null==o||!1===o?o:o.titleSort),locked:(o=t&&t.locked,null==o||!1===o?o:o.titleSort)},data:r}))+' </div> </div> <div class="row"> <div class="col-md-9"> '+c(a(i("nptq")).call(t,"lockableTextInput",{hash:{label:"Captured Time",name:"originallyAvailableAt",value:(o=t&&t.item,null==o||!1===o?o:o.originallyAvailableAt),placeholder:(o=t&&t.placeholders,null==o||!1===o?o:o.capturedTime),locked:(o=t&&t.locked,null==o||!1===o?o:o.originallyAvailableAt)},data:r}))+' </div> </div> <div class="row"> <div class="col-md-12"> '+c(a(i("nptq")).call(t,"lockableTextInput",{hash:{label:"Summary",name:"summary",value:(o=t&&t.item,null==o||!1===o?o:o.summary),placeholder:(o=t&&t.placeholders,null==o||!1===o?o:o.summary),type:"textarea",rows:"5",locked:(o=t&&t.locked,null==o||!1===o?o:o.summary)},data:r}))+" </div> </div> </form> "}))},K5wW:function(e,t,i){e.exports={help:"ProviderSettingLineupFormSection-help-3F6fO4 FormHelp-help-3VCuqa"}},K6Cx:function(e,t,i){e.exports={button:"MetadataPosterCardActions-button-9nYbj2 Link-link-2ew_DK",playButton:"MetadataPosterCardActions-playButton-8An35K PlayButton-playButton-3WX8X- MetadataPosterCardActions-button-9nYbj2 Link-link-2ew_DK",playCoverButton:"MetadataPosterCardActions-playCoverButton-1hdkQK PosterCardLink-hoveredLink-AhlkMt PosterCardLink-link-1lt0M1 Link-link-2ew_DK MetadataPosterCardActions-playButton-8An35K PlayButton-playButton-3WX8X- MetadataPosterCardActions-button-9nYbj2 Link-link-2ew_DK",playCircle:"MetadataPosterCardActions-playCircle-3YI1wW PlayButton-playCircle-3Evfdw MetadataPosterCardCircle-cardCircle-2NfIyT",editButton:"MetadataPosterCardActions-editButton-7FWNt8 MetadataPosterCardActions-button-9nYbj2 Link-link-2ew_DK",selectButton:"MetadataPosterCardActions-selectButton-EmmJlc SelectButton-selectButton-3jGXzS Link-link-2ew_DK MetadataPosterCardActions-button-9nYbj2 Link-link-2ew_DK",moreButton:"MetadataPosterCardActions-moreButton-3uGw5x MetadataPosterCardActions-button-9nYbj2 Link-link-2ew_DK",isHidden:"MetadataPosterCardActions-isHidden-17PeaH"}},KEW7:function(e,t,i){e.exports={outerContainer:"MediaOverlays-outerContainer-2Cktvz",innerContainer:"MediaOverlays-innerContainer-3XcnEA",horizontal:"MediaOverlays-horizontal-27EYNq",vertical:"MediaOverlays-vertical-3ZV2RT",overlay:"MediaOverlays-overlay-hl37n8",northwest:"MediaOverlays-northwest-3IkDS_ MediaOverlays-horizontal-27EYNq",north:"MediaOverlays-north-2yVkMi MediaOverlays-horizontal-27EYNq",northeast:"MediaOverlays-northeast-2M4-Kb MediaOverlays-horizontal-27EYNq",east:"MediaOverlays-east-13wz-R MediaOverlays-vertical-3ZV2RT",southeast:"MediaOverlays-southeast-3EFh4V MediaOverlays-horizontal-27EYNq",south:"MediaOverlays-south-3P7w99 MediaOverlays-horizontal-27EYNq",southwest:"MediaOverlays-southwest-3R8EK- MediaOverlays-horizontal-27EYNq",west:"MediaOverlays-west-1SBS_Z MediaOverlays-vertical-3ZV2RT",center:"MediaOverlays-center-26LspU MediaOverlays-horizontal-27EYNq"}},KHus:function(e,t,i){e.exports={tag:"MetadataFollowMuteTag-tag-2CoGQF",tagText:"MetadataFollowMuteTag-tagText-2sa_RS",icon:"MetadataFollowMuteTag-icon-sFuVhK",isFollowed:"MetadataFollowMuteTag-isFollowed-1q9G0Y",isMuted:"MetadataFollowMuteTag-isMuted-2XZVIW"}},KKL4:function(e,t,i){"use strict";var n=i("F/us"),a=i.n(n);const s=i("Dsr7").a.extend({maxCycles:5,maxSize:100,getItemCacheKey:function(e,t){if(a.a.isFunction(e.cacheKey))return t||(t=e.toJSON()),e.cacheKey(t)}});t.a=s},KN9C:function(e,t,i){e.exports={buttons:"WebhookFormSection-buttons-1bW9AT",button:"WebhookFormSection-button-2hUeXy",dangerButton:"WebhookFormSection-dangerButton-1Hm32l",label:"WebhookFormSection-label-1llL2- FormLabel-label-2aLJ9b CloseableFormSection-isPressable-3BPTnc"}},KcGe:function(e,t,i){e.exports={rightTitle:"PrePlayRightTitle-rightTitle-VxiwUS"}},Khyo:function(e,t,i){"use strict";i.d(t,"a",(function(){return h})),i.d(t,"b",(function(){return m}));var n=i("8OQS"),a=i.n(n),s=i("zLeb"),r=i.n(s),o=i("F/us"),l=i.n(o),c=i("htvf"),d=(i("qpNu"),i("+X4A"));var u={bindToModel:function(){this.bindings&&l.a.each(l.a.keys(this.bindings),(function(e){const t=this.bindings[e];let i;if(i=t.model?this[t.model]:this[this.bindingsModel]||this.model,!i)return;const n=t.modelListeners||[t.modelAttribute];l.a.each(n,(function(n){const a={obj:i,name:"change:"+n,callback:l.a.bind(this.renderBinding,this,e,t,i)};this._bindingListeners||(this._bindingListeners=[]),this._bindingListeners.push(a),this.listenTo(a.obj,a.name,a.callback)}),this),this.renderBinding(e,t,i)}),this)},unbindFromModel:function(){this.bindings&&(l.a.each(this._bindingListeners,(function(e){this.stopListening(e.obj,e.name,e.callback)}),this),this._bindingListeners=null)},renderBinding:function(e,t,i){const n=this.$(e),a=t.formatter,s=!!t.isHtml,r=t.autohide,o=t.hiddenClass||"hidden";let c=i.get(t.modelAttribute);if(a&&(c=a.call(this,c,n)),r){const e=l.a.isFunction(r)?r.call(this,c):c;n.toggleClass(o,!e)}t.manual||(!s&&l.a.isString(c)&&(c=l.a.escape(c)),n.html(c))}};function p(e){const t={},i=l.a.result(e,"responseType");return i&&i.accept&&(t.Accept=i.accept),t}const h=3e4,m=6e4,g=r.a.noConflict(),v=g.sync;g.sync=function(e,t,i){let{url:n,data:s,headers:r}=i,o=a()(i,["url","data","headers"]);const c=function(e,t){return t.server?t.server:e.getXHROptions?e:e.provider?e.provider:e.server?e.server:e}(t,o),u=n||l.a.result(t,"syncUrl")||l.a.result(t,"url"),g=l.a.isObject(s)?d.stringifyParams(s):s,y=!!g&&g.indexOf("checkFiles=1")>-1;let f=Object.assign({data:g,dataType:"text",processData:!1,headers:l.a.extend(p(t),r),timeout:y?m:h},o);return l.a.isFunction(c.getXHROptions)?f=c.getXHROptions(u,f):f.url=u,v(e,t,f)},g.wrapError=function(e,t){const i=t.error;t.error=function(n){i&&i(e,n,t),e.trigger("error",e,n,t)}},l.a.extend(g.View.prototype,u),[g.Model,g.Collection,g.Router,g.View,g.History].forEach(e=>{e.extend=c.a.extend});t.c=g},Kjiw:function(e,t,i){var n=i("3O+N");function a(e){return e&&(e.__esModule?e.default:e)}e.exports=(n.default||n).template((function(e,t,n,s,r){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),r=r||{};var o,l="",c=this.escapeExpression,d=this;function u(e,t){var i,n="";return n+=' rows="'+c("function"==typeof(i=e&&e.rows)?i.apply(e):i)+'"'}function p(e,t){var i,n="";return n+='data-scope-to-attr="'+c("function"==typeof(i=e&&e.scopeToAttr)?i.apply(e):i)+'" data-scope-to-param="'+c("function"==typeof(i=e&&e.scopeToParam)?i.apply(e):i)+'"'}function h(e,t){var i,n="";return n+='data-rating-key="'+c("function"==typeof(i=e&&e.ratingKey)?i.apply(e):i)+'"'}return l+='<div class="form-group selectize-group" data-attr="'+c("function"==typeof(o=t&&t.name)?o.apply(t):o)+'"> <label for="lockable-'+c("function"==typeof(o=t&&t.name)?o.apply(t):o)+'">'+c(a(i("d8WC")).call(t,t&&t.label,{hash:{},data:r}))+'</label> <div class="input-group"> <a href="#" data-field="'+c("function"==typeof(o=t&&t.name)?o.apply(t):o)+'" class="input-group-addon edit-lock-addon',((o=n.if.call(t,t&&t.locked,{hash:{},inverse:d.noop,fn:d.program(1,(function(e,t){return" locked"}),r),data:r}))||0===o)&&(l+=o),l+='" tabindex="-1"><i class="glyphicon lock"></i></a> ',((o=a(i("w+Xr")).call(t,t&&t.type,"textarea",{hash:{},inverse:d.program(6,(function(e,t){var i,a="";return a+=' <input type="text" id="lockable-'+c("function"==typeof(i=e&&e.name)?i.apply(e):i)+'" class="form-control lockable-field" name="'+c("function"==typeof(i=e&&e.name)?i.apply(e):i)+'" value="'+c("function"==typeof(i=e&&e.value)?i.apply(e):i)+'" placeholder="'+c("function"==typeof(i=e&&e.placeholder)?i.apply(e):i)+'" ',((i=n.if.call(e,e&&e.scopeToAttr,{hash:{},inverse:d.noop,fn:d.program(7,p,t),data:t}))||0===i)&&(a+=i),a+=" ",((i=n.if.call(e,e&&e.ratingKey,{hash:{},inverse:d.noop,fn:d.program(9,h,t),data:t}))||0===i)&&(a+=i),a+="> "}),r),fn:d.program(3,(function(e,t){var i,a="";return a+=' <textarea class="form-control lockable-field" id="lockable-'+c("function"==typeof(i=e&&e.name)?i.apply(e):i)+'" name="'+c("function"==typeof(i=e&&e.name)?i.apply(e):i)+'"',((i=n.if.call(e,e&&e.rows,{hash:{},inverse:d.noop,fn:d.program(4,u,t),data:t}))||0===i)&&(a+=i),a+=' placeholder="'+c("function"==typeof(i=e&&e.placeholder)?i.apply(e):i)+'">'+c("function"==typeof(i=e&&e.value)?i.apply(e):i)+"</textarea> "}),r),data:r}))||0===o)&&(l+=o),l+=" </div> </div> "}))},KluX:function(e,t,i){e.exports={rounded:"PrePlayCastList-rounded-djFPql",card:"PrePlayCastList-card-384Zo9 PosterCard-card-VhPkOe PrePlayCastList-rounded-djFPql",link:"PrePlayCastList-link-3fr1Oe PosterCardLink-link-1lt0M1 Link-link-2ew_DK PrePlayCastList-rounded-djFPql",hoveredLink:"PrePlayCastList-hoveredLink-24Qrni PosterCardLink-hoveredLink-AhlkMt PosterCardLink-link-1lt0M1 Link-link-2ew_DK PrePlayCastList-rounded-djFPql",titleContainer:"PrePlayCastList-titleContainer-3o8hXG",title:"PrePlayCastList-title-2wVwgJ MetadataPosterCardTitle-singleLineTitle-_v31WY MetadataPosterCardTitle-title-2OWMA-",role:"PrePlayCastList-role-KogO64 PrePlayCastList-title-2wVwgJ MetadataPosterCardTitle-singleLineTitle-_v31WY MetadataPosterCardTitle-title-2OWMA- MetadataPosterCardTitle-isSecondary-1R4E5X"}},Kpr6:function(e,t,i){var n=i("3O+N");function a(e){return e&&(e.__esModule?e.default:e)}e.exports=(n.default||n).template((function(e,t,n,s,r){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),r=r||{};var o,l="",c=this.escapeExpression;return l+='<div class="modal-dialog"> <div class="modal-content"> <form id="fix-incorrect-match-form"> <div class="modal-header"> <button type="button" class="close" data-dismiss="modal"><i class="glyphicon remove-2"></i></button> <h4 class="modal-title"><i class="modal-icon glyphicon nameplate"></i> <span class="modal-title-text"></span></h4> ',((o=n.if.call(t,t&&t.location,{hash:{},inverse:this.noop,fn:this.program(1,(function(e,t){var n="";return n+=' <div class="match-location"> '+c(a(i("d8WC")).call(e,"Location",{hash:{},data:t}))+": "+c(a(i("oLRI")).call(e,e&&e.location,60,12,{hash:{},data:t}))+" </div> "}),r),data:r}))||0===o)&&(l+=o),l+=' </div> <div class="modal-body modal-body-scroll dark-scrollbar"> ',((o=n.if.call(t,t&&t.showNavigation,{hash:{},inverse:this.noop,fn:this.program(3,(function(e,t){var n="";return n+=' <ul class="list modal-list"> <li class="modal-list-item"><a class="search-options-btn" href="#">'+c(a(i("d8WC")).call(e,"Search Options",{hash:{},data:t}))+'</a></li> <li class="auto-match-dropdown-region modal-list-item"></li> </ul> '}),r),data:r}))||0===o)&&(l+=o),l+=' <div class="pane-region"></div> </div> <div class="modal-footer"> <div class="match-search-actions"> <button type="button" class="cancel-btn btn btn-default">'+c(a(i("d8WC")).call(t,"Cancel",{hash:{},data:r}))+"</button> ",((o=n.if.call(t,t&&t.showNavigation,{hash:{},inverse:this.noop,fn:this.program(5,(function(e,t){var n="";return n+=' <button type="submit" class="search-btn btn btn-primary btn-loading"> <div class="loading loading-sm"></div> <span class="btn-label">'+c(a(i("d8WC")).call(e,"Search",{hash:{},data:t}))+"</span> </button> "}),r),data:r}))||0===o)&&(l+=o),l+=" </div> </div> </form> </div> </div> "}))},KzEB:function(e,t,i){e.exports={tableHeader:"TableHeader-tableHeader-1_aP-y"}},L0ox:function(e,t,i){var n=i("3O+N");e.exports=(n.default||n).template((function(e,t,n,a,s){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),s=s||{};var r,o="",l=this.escapeExpression,c=this;function d(e,t){var i,n="";return n+=' <span class="match-year">'+l("function"==typeof(i=e&&e.year)?i.apply(e):i)+'</span> <span class="match-separator">&middot;</span> '}return o+='<a class="match-result col-xs-12" href="#"> <div class="row"> <div class="col-xs-9 match-title-info"> ',((r=n.if.call(t,t&&t.parentName,{hash:{},inverse:c.program(3,(function(e,t){var i,n="";return n+=' <span class="match-name">'+l("function"==typeof(i=e&&e.name)?i.apply(e):i)+"</span> "}),s),fn:c.program(1,(function(e,t){var i,n="";return n+=' <span class="match-name">'+l("function"==typeof(i=e&&e.parentName)?i.apply(e):i)+'</span> &ndash; <span class="match-name">'+l("function"==typeof(i=e&&e.name)?i.apply(e):i)+"</span> "}),s),data:s}))||0===r)&&(o+=r),o+=" ",((r=n.if.call(t,t&&t.disambiguationInfo,{hash:{},inverse:c.noop,fn:c.program(5,(function(e,t){var i,n="";return n+='  <span class="match-disambiguation-info">'+l("function"==typeof(i=e&&e.disambiguationInfo)?i.apply(e):i)+"</span> "}),s),data:s}))||0===r)&&(o+=r),o+=" </div> ",((r=n.if.call(t,t&&t.normalizedScore,{hash:{},inverse:c.program(10,(function(e,t){var i,n="";return n+=' <div class="col-xs-3 match-score-info"> <span class="match-year">'+l("function"==typeof(i=e&&e.year)?i.apply(e):i)+"</span> </div> "}),s),fn:c.program(7,(function(e,t){var a,s,r="";return r+=' <div class="col-xs-3 match-score-info" title="'+l((s=i("d8WC"),s&&(s.__esModule?s.default:s)).call(e,"Score {1}",e&&e.escapedNormalizedScore,{hash:{},data:t}))+'"> ',((a=n.if.call(e,e&&e.year,{hash:{},inverse:c.noop,fn:c.program(8,d,t),data:t}))||0===a)&&(r+=a),r+=' <span class="match-score"><i class="match-score-icon glyphicon certificate"></i>'+l("function"==typeof(a=e&&e.normalizedScore)?a.apply(e):a)+"</span> </div> "}),s),data:s}))||0===r)&&(o+=r),o+=' </div> <div class="row match-extended-info hidden"> ',((r=n.if.call(t,t&&t.summary,{hash:{},inverse:c.program(14,(function(e,t){return' <div class="col-xs-9 children-region"></div> '}),s),fn:c.program(12,(function(e,t){var i,n="";return n+=' <div class="col-xs-9 match-summary">'+l("function"==typeof(i=e&&e.summary)?i.apply(e):i)+"</div> "}),s),data:s}))||0===r)&&(o+=r),o+=' <div class="col-xs-3"> <img class="match-art" src="'+l("function"==typeof(r=t&&t.thumb)?r.apply(t):r)+'"/> </div> </div> </a> '}))},L1D5:function(e,t,i){e.exports={content:"HomePageContent-content-3x2Kyr PageContent-innerPageContent-3ktLTA"}},L1nn:function(e,t,i){var n=i("3O+N");e.exports=(n.default||n).template((function(e,t,n,a,s){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),s=s||{};var r,o="",l=this.escapeExpression,c=this;function d(e,t){return'<i class="dropdown-selected-icon glyphicon ok-2"></i>'}return o+='<div class="filter-bar"> <span class="dropdown"> <a class="dropdown-toggle" href="#device-type-dropdown" data-toggle="dropdown"> <span class="dropdown-friendly-name">'+l("function"==typeof(r=null==(r=t&&t.selectedDeviceType)||!1===r?r:r.title)?r.apply(t):r)+'</span> <i class="caret-icon"></i> </a> <ul class="dropdown-menu"> ',((r=n.each.call(t,t&&t.deviceTypes,{hash:{},inverse:c.noop,fn:c.programWithDepth(1,(function(e,t,n){var a,s,r="";return r+=' <li><a data-id="'+l("function"==typeof(a=e&&e.id)?a.apply(e):a)+'" href="#"><span class="dropdown-truncated-label">'+l("function"==typeof(a=e&&e.title)?a.apply(e):a)+"</span>",((a=(s=i("w+Xr"),s&&(s.__esModule?s.default:s)).call(e,null==(a=n&&n.selectedDeviceType)||!1===a?a:a.id,e&&e.id,{hash:{},inverse:c.noop,fn:c.program(2,d,t),data:t}))||0===a)&&(r+=a),r+="</a></li> "}),s,t),data:s}))||0===r)&&(o+=r),o+=' </ul> </span> </div> <div class="device-list-container col-sm-12 col-md-12"></div> '}))},L4oE:function(e,t,i){e.exports={content:"UserSharingSettingsProfile-content-2u8WLm SettingsPage-content-1vKVEr PageContent-pageContent-16mK6G"}},L6Cy:function(e,t,i){var n=i("3O+N");function a(e){return e&&(e.__esModule?e.default:e)}e.exports=(n.default||n).template((function(e,t,n,s,r){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),r=r||{};var o,l="",c=this.escapeExpression;return l+='<form class="edit-metadata-form"> <div class="row"> <div class="col-md-12 selectize"> '+c(a(i("nptq")).call(t,"lockableTextInput",{hash:{label:"Title",name:"title",value:(o=t&&t.item,null==o||!1===o?o:o.title),placeholder:(o=t&&t.placeholders,null==o||!1===o?o:o.title),locked:(o=t&&t.locked,null==o||!1===o?o:o.title),ratingKey:(o=t&&t.item,null==o||!1===o?o:o.ratingKey)},data:r}))+' </div> </div> <div class="row"> <div class="col-md-8 selectize"> '+c(a(i("nptq")).call(t,"lockableTextInput",{hash:{label:"Sort Title",name:"titleSort",value:(o=t&&t.item,null==o||!1===o?o:o.titleSort),placeholder:(o=t&&t.placeholders,null==o||!1===o?o:o.titleSort),locked:(o=t&&t.locked,null==o||!1===o?o:o.titleSort),ratingKey:(o=t&&t.item,null==o||!1===o?o:o.ratingKey)},data:r}))+' </div> <div class="col-md-4 selectize"> '+c(a(i("nptq")).call(t,"lockableTextInput",{hash:{label:"Content Rating",name:"contentRating",value:(o=t&&t.item,null==o||!1===o?o:o.contentRating),placeholder:(o=t&&t.placeholders,null==o||!1===o?o:o.contentRating),locked:(o=t&&t.locked,null==o||!1===o?o:o.contentRating),ratingKey:(o=t&&t.item,null==o||!1===o?o:o.ratingKey)},data:r}))+' </div> </div> <div class="row"> <div class="col-md-12"> '+c(a(i("nptq")).call(t,"lockableTextInput",{hash:{label:"Summary",name:"summary",value:(o=t&&t.item,null==o||!1===o?o:o.summary),placeholder:(o=t&&t.placeholders,null==o||!1===o?o:o.summary),type:"textarea",rows:"5",locked:(o=t&&t.locked,null==o||!1===o?o:o.summary)},data:r}))+" </div> </div> </form> "}))},L7Oz:function(e,t,i){"use strict";i.d(t,"a",(function(){return a}));var n=i("0jae");function a(e,t){const i=e.get("playQueue");return(...a)=>{if(e.get("isOpen")&&i&&i===e.get("playQueue"))return t(...a);n.a.warn("[Player] Player was closed or a new playback session was started; ignoring callback")}}},LH2V:function(e,t,i){e.exports={info:"PlexPassUpsellInfo-info-2k9lub",moreInfo:"PlexPassUpsellInfo-moreInfo-3FndRu",upsell:"PlexPassUpsellInfo-upsell-uBlkWj PlexPassUpsell-upsell-3i2JLq"}},LJ6K:function(e,t,i){e.exports={spinner:"SourceSidebarBadgedIcon-spinner-2bI1aW",container:"SourceSidebarBadgedIcon-container-3XjdPK",badge:"SourceSidebarBadgedIcon-badge-2uHPR5",image:"SourceSidebarBadgedIcon-image-2aA5FB"}},LJTU:function(e,t,i){"use strict";i.d(t,"c",(function(){return a})),i.d(t,"a",(function(){return s})),i.d(t,"b",(function(){return r})),i.d(t,"d",(function(){return l})),i.d(t,"e",(function(){return c}));var n=i("ijGY");const a="video",s="music",r="photo",o={[n.d]:a,[n.a]:s,[n.b]:r};function l(e){return o[e]}function c(e){for(const t in o){if(e===o[t])return t}}},LMIY:function(e,t,i){e.exports={form:"SettingsModalContent-form-3-N4qz"}},LPXR:function(e,t,i){e.exports={strip:"PhotoStrip-strip-q6m2Bg",thumbs:"PhotoStrip-thumbs-2iLLAJ",cell:"PhotoStrip-cell-NRVDib",thumbContainer:"PhotoStrip-thumbContainer-1kU-fS",isSelected:"PhotoStrip-isSelected-3exw8b",thumb:"PhotoStrip-thumb-eGqcdL",thumbOverlay:"PhotoStrip-thumbOverlay-gC5wmR"}},LSig:function(e,t,i){"use strict";i.d(t,"a",(function(){return n})),i.d(t,"b",(function(){return a})),i.d(t,"c",(function(){return s})),i.d(t,"d",(function(){return r})),i.d(t,"h",(function(){return o})),i.d(t,"g",(function(){return l})),i.d(t,"f",(function(){return c})),i.d(t,"e",(function(){return d})),i.d(t,"i",(function(){return u})),i.d(t,"j",(function(){return p})),i.d(t,"k",(function(){return h}));const n="com.plexapp.agents.imdb",a="com.plexapp.agents.lastfm",s="com.plexapp.agents.lyricfind",r="com.plexapp.agents.none",o="com.plexapp.agents.plexmusic",l="tv.plex.agents.music",c="tv.plex.agents.movie",d="tv.plex.agents.game",u="tv.plex.agents.series",p="com.plexapp.agents.themoviedb",h="com.plexapp.agents.thetvdb"},LU7h:function(e,t,i){e.exports={button:"Button-button-3A5jB3 Link-link-2ew_DK",default:"Button-default-23k-Yy",primary:"Button-primary-3z8akl",success:"Button-success-vmFCv4",danger:"Button-danger-3iOd8P",small:"Button-small-3W395A",medium:"Button-medium-2d_jtE",large:"Button-large-3rnrpe"}},LU9U:function(e,t,i){e.exports={container:"AudioVideoPostPlay-container-1G36_l",poster:"AudioVideoPostPlay-poster-1YcVF8",details:"AudioVideoPostPlay-details-2CzQuz"}},LcEX:function(e,t,i){e.exports={sidebarUnderlay:"SourceSidebar-sidebarUnderlay-2odIuy",sidebar:"SourceSidebar-sidebar-YpV2mw",collapsedSidebar:"SourceSidebar-collapsedSidebar-3MDUee SourceSidebar-sidebar-YpV2mw",expandedSidebar:"SourceSidebar-expandedSidebar-ljacXC SourceSidebar-sidebar-YpV2mw",openSidebar:"SourceSidebar-openSidebar-364QEr SourceSidebar-sidebar-YpV2mw",pane:"SourceSidebar-pane-3b3ayx",heading:"SourceSidebar-heading-2EO2Ee",footer:"SourceSidebar-footer-h1OTb1",toggleMenuButton:"SourceSidebar-toggleMenuButton-3rDpsd",toggleMenuIcon:"SourceSidebar-toggleMenuIcon-2FNbrD"}},LgTU:function(e,t,i){e.exports={pageContentScroller:"DirectoryHubsPageContent-pageContentScroller-2e1vaI PageContent-pageContentScroller-okL_Uc Scroller-scroller-CQJq74",banner:"DirectoryHubsPageContent-banner-2jfJT2 ProgramGuideGracenoteMigrationBanner-container-1G9MWN"}},Ln5r:function(e,t,i){e.exports={button:"PivotTab-button-1S6bOr Button-button-3A5jB3 Link-link-2ew_DK",selectedButton:"PivotTab-selectedButton-2u9uk3 PivotTab-button-1S6bOr Button-button-3A5jB3 Link-link-2ew_DK"}},LrNF:function(e,t,i){e.exports={modalHeader:"ModalHeader-modalHeader-1Kf9RW"}},LtKR:function(e,t,i){e.exports={container:"PlexAccountUpsellPageContent-container-1oEiwm",panel:"PlexAccountUpsellPageContent-panel-1np-7E",panelIcon:"PlexAccountUpsellPageContent-panelIcon-2yfhpM",panelTitle:"PlexAccountUpsellPageContent-panelTitle-1Wd4AE",panelDescription:"PlexAccountUpsellPageContent-panelDescription-VLB7T3"}},LttS:function(e,t,i){e.exports={slider:"VolumeSlider-slider-1QXdTt VerticalSlider-slider-25iZh4 Slider-slider-2oLVTs",track:"VolumeSlider-track-2WJDzq VerticalSlider-track-1RVQfn Slider-track-28JOSn",fill:"VolumeSlider-fill-3XkYyD VerticalSlider-fill-2HISoE Slider-fill-35GFqs"}},"Lu/9":function(e,t,i){e.exports={item:"MetadataMenuItem-item-2s1r1Q"}},Lw7a:function(e,t,i){const n=i("repV").default,a=i("a4Cb");e.exports=a(n)},"M/J+":function(e,t,i){e.exports={event:"CalendarEvent-event-1N79nG",isComplete:"CalendarEvent-isComplete-3BKnCP",hasError:"CalendarEvent-hasError-2mgqYf",underlay:"CalendarEvent-underlay-2LGTNr",overlay:"CalendarEvent-overlay-3RDXNJ",errorIcon:"CalendarEvent-errorIcon-3q6lKQ",title:"CalendarEvent-title-K5q2kI",secondaryInfo:"CalendarEvent-secondaryInfo-3pj4z0",time:"CalendarEvent-time-sjVsBy",status:"CalendarEvent-status-27k9YY",recording:"CalendarEvent-recording-1igLY0",recordingProgressBackground:"CalendarEvent-recordingProgressBackground-1vuJU9 CircularProgressBar-circularProgressBarBackground-1a1VUp CircularProgressBar-circularProgressBarBackground-RvD8Ob",recordingIcon:"CalendarEvent-recordingIcon-3BTduh"}},M0a6:function(e,t,i){e.exports={serverMenu:"ServerSettingsServerMenu-serverMenu-3CI7iC Menu-menu-3XnN6J",serverMenuScroller:"ServerSettingsServerMenu-serverMenuScroller-2WzFgn Menu-menuScroller-1TF6oW Scroller-vertical-VScFLT"}},M15R:function(e,t,i){e.exports={button:"SourceSidebarServerHeaderActionsButtons-button-cJs32h IconButton-button-9An-7I",hidden:"SourceSidebarServerHeaderActionsButtons-hidden-3eVZ6I"}},M1AR:function(e,t,i){e.exports={buttons:"WebhookSettingsPage-buttons-1ppDm6",error:"WebhookSettingsPage-error-3sqjBM"}},M2eu:function(e,t,i){e.exports={container:"ChannelsGridMetadataItemCell-container-2NM2za",selected:"ChannelsGridMetadataItemCell-selected-3K64Hu",hoverable:"ChannelsGridMetadataItemCell-hoverable-Tm-6mJ",subTitleContainer:"ChannelsGridMetadataItemCell-subTitleContainer-2Izpkj",actions:"ChannelsGridMetadataItemCell-actions-3OwaeD",onAir:"ChannelsGridMetadataItemCell-onAir-1TBnoi",finishedAiring:"ChannelsGridMetadataItemCell-finishedAiring-1NTjLc",underlay:"ChannelsGridMetadataItemCell-underlay-Qhctil",content:"ChannelsGridMetadataItemCell-content-3-Y3Yf",actionsContainer:"ChannelsGridMetadataItemCell-actionsContainer-_6ZyYW",subTitle:"ChannelsGridMetadataItemCell-subTitle-iaQsk7",premiereBadge:"ChannelsGridMetadataItemCell-premiereBadge-1Qqk61 PremiereAiringBadge-badge-hAmdnV",subscriptionBadge:"ChannelsGridMetadataItemCell-subscriptionBadge-dFSz15",placeholderContainer:"ChannelsGridMetadataItemCell-placeholderContainer-2681u-"}},M4gS:function(e,t,i){e.exports={container:"LiveTVUpNext-container-1kAJR9",upNext:"LiveTVUpNext-upNext-pGRmzn",icon:"LiveTVUpNext-icon-3DqMOZ"}},"M6j/":function(e,t,i){e.exports={separator:"MetadataTitleAirDate-separator-2i3bJv DashSeparator-separator-4CyEFW"}},M7EV:function(e,t,i){e.exports={container:"AudioVideoUpNext-container-1HyiyV",title:"AudioVideoUpNext-title-2RflZV",poster:"AudioVideoUpNext-poster-362QoU",progress:"AudioVideoUpNext-progress-3dmBnM",playButton:"AudioVideoUpNext-playButton-3X0Mbp PlayButton-playButton-3WX8X-",playCircle:"AudioVideoUpNext-playCircle-RTuurg PlayButton-playCircle-3Evfdw",timeLeft:"AudioVideoUpNext-timeLeft--rCIME",autoPlay:"AudioVideoUpNext-autoPlay-2s2lSY",autoPlayOn:"AudioVideoUpNext-autoPlayOn-2tSBYt AudioVideoUpNext-autoPlay-2s2lSY",autoPlayOff:"AudioVideoUpNext-autoPlayOff-3tmvpL AudioVideoUpNext-autoPlay-2s2lSY"}},MEJa:function(e,t,i){e.exports={tableCell:"TableCell-tableCell-4fCpHS",activeTableCell:"TableCell-activeTableCell-1y-9p6 TableCell-tableCell-4fCpHS",title:"TableCell-title-6gbkRR"}},MIt9:function(e,t,i){e.exports={sidebarMessage:"SidebarMessage-sidebarMessage-3O-Deq"}},MLKk:function(e,t,i){e.exports={container:"WatchTogetherInviteParticipantCell-container-3KVdQt",posterCardContainer:"WatchTogetherInviteParticipantCell-posterCardContainer-241qoG WatchTogetherParticipantCell-posterCardContainer-2ny7Q7 WatchTogetherParticipantCell-card-qkBk8M TagPosterCard-card-RVD0Dw MetadataPosterCardFace-poster-L2P6rC TagPosterCard-isPerson-1ez1h_",icon:"WatchTogetherInviteParticipantCell-icon-3kZpPf",titleContainer:"WatchTogetherInviteParticipantCell-titleContainer-3JNQtb WatchTogetherParticipantCell-titleContainer-2bZ6ul"}},MUEv:function(e,t,i){e.exports={hubCell:"MetadataVerticalHubCell-hubCell-2E01xY",list:"MetadataVerticalHubCell-list-13IVCh",hubCellHeader:"MetadataVerticalHubCell-hubCellHeader-2ofTba HubCellHeader-hubCellHeader-2pvYNF",attribution:"MetadataVerticalHubCell-attribution-2ogVGt",title:"MetadataVerticalHubCell-title-29HZKR HubCellTitle-hubCellTitle-2abInv",titleButton:"MetadataVerticalHubCell-titleButton-12ONcU"}},MUGT:function(e,t,i){e.exports={feature:"PlexPassFeature-feature-227Do1",featurePadding:"PlexPassFeature-featurePadding-3qxKLi",featureImage:"PlexPassFeature-featureImage-1MQuZ0",featureContainer:"PlexPassFeature-featureContainer-5yGpRx",featureTitle:"PlexPassFeature-featureTitle-cBOf4G",featureDescription:"PlexPassFeature-featureDescription-2mgxrS"}},MWmE:function(e,t,i){e.exports={dragSource:"RecordingPrioritySubscriptionDragSource-dragSource-2qcUl6"}},MXEh:function(e,t,i){e.exports={pageHeaderLeft:"PageHeaderLeft-pageHeaderLeft-OxyzPN"}},MZ2x:function(e,t,i){e.exports={input:"CheckInput-input-1Pi_2g",label:"CheckInput-label-2yG4rI",small:"CheckInput-small-3zAF6g",large:"CheckInput-large-3wPNUE",isDisabled:"CheckInput-isDisabled-C1Lz-G",hasError:"CheckInput-hasError-1V3ZUM"}},MeBg:function(e,t,i){e.exports={spinner:"DVRSetupInfo-spinner-2Fw-Th Spinner-spinner-1qRM4t spin-spin-2kLwt_",steps:"DVRSetupInfo-steps-wSr0PW"}},Ms8g:function(e,t,i){e.exports={title:"QuickSearchProvider-title-1DX5MD",noResults:"QuickSearchProvider-noResults-2j7_91",spinnerContainer:"QuickSearchProvider-spinnerContainer-lhn2AI",spinner:"QuickSearchProvider-spinner-2_uC9g"}},Mtv6:function(e,t,i){e.exports={item:"SubtitleRow-item-1suQRb",downloadIcon:"SubtitleRow-downloadIcon-3pqWjW SubtitleRow-icon-21El6y",titles:"SubtitleRow-titles-3FAr9t",title:"SubtitleRow-title-1Jeywc",secondaryTitle:"SubtitleRow-secondaryTitle-17rEPf SubtitleRow-title-1Jeywc",score:"SubtitleRow-score-1DVm2L",perfectMatch:"SubtitleRow-perfectMatch-3N1BnR",spinnerContainer:"SubtitleRow-spinnerContainer-FDGoZD",icon:"SubtitleRow-icon-21El6y",downloadedIcon:"SubtitleRow-downloadedIcon-2F0Cd2 SubtitleRow-icon-21El6y"}},MzBL:function(e,t,i){e.exports={loadingItem:"MetadataTrackCellLoading-loadingItem-2YS2vz",alternateLoadingItem:"MetadataTrackCellLoading-alternateLoadingItem-2ueUqH MetadataTrackCellLoading-loadingItem-2YS2vz"}},N2kb:function(e,t,i){e.exports={container:"ShareRestrictionsTag-container-3Z5sm-",tag:"ShareRestrictionsTag-tag-3Affwz",remove:"ShareRestrictionsTag-remove-1Bew_T TagLabel-remove-27nEke"}},N6Bl:function(e,t,i){e.exports={tableHeaderCell:"TableHeaderCell-tableHeaderCell-1P5kwn TableCell-tableCell-4fCpHS",activeTableHeaderCell:"TableHeaderCell-activeTableHeaderCell-3cIqeg TableHeaderCell-tableHeaderCell-1P5kwn TableCell-tableCell-4fCpHS"}},N6gl:function(e,t,i){e.exports={help:"LocationSettingInputGroup-help-3KxH7k FormHelp-help-3VCuqa",secondaryLabel:"LocationSettingInputGroup-secondaryLabel-1RrMcE FormLabel-label-2aLJ9b"}},N7lw:function(e,t,i){e.exports={bottomBar:"BottomBar-bottomBar-gbDBaF"}},N85i:function(e,t,i){var n=i("3O+N");e.exports=(n.default||n).template((function(e,t,n,a,s){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),s=s||{};var r,o,l="",c=this.escapeExpression;return l+='<div class="form-group" data-attr="'+c("function"==typeof(r=t&&t.name)?r.apply(t):r)+'"> <label for="text-'+c("function"==typeof(r=t&&t.name)?r.apply(t):r)+'" class="control-label">'+c((o=i("d8WC"),o&&(o.__esModule?o.default:o)).call(t,t&&t.label,{hash:{},data:s}))+'<span class="control-error"></span></label> <div class="input-group selectize-group"> <input type="text" id="text-'+c("function"==typeof(r=t&&t.name)?r.apply(t):r)+'" class="form-control text-field" name="'+c("function"==typeof(r=t&&t.name)?r.apply(t):r)+'" placeholder="'+c("function"==typeof(r=t&&t.placeholder)?r.apply(t):r)+'" data-rating-key="'+c("function"==typeof(r=t&&t.ratingKey)?r.apply(t):r)+'" data-title="'+c("function"==typeof(r=t&&t.title)?r.apply(t):r)+'" ',((r=n.if.call(t,t&&t.scopeToAttr,{hash:{},inverse:this.noop,fn:this.program(1,(function(e,t){var i,n="";return n+='data-scope-to-attr="'+c("function"==typeof(i=e&&e.scopeToAttr)?i.apply(e):i)+'" data-scope-to-param="'+c("function"==typeof(i=e&&e.scopeToParam)?i.apply(e):i)+'"'}),s),data:s}))||0===r)&&(l+=r),l+="> </div> </div> "}))},NAGO:function(e,t,i){var n=i("3O+N");function a(e){return e&&(e.__esModule?e.default:e)}e.exports=(n.default||n).template((function(e,t,n,s,r){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),r=r||{};var o,l="",c=this.escapeExpression;return l+='<div class="convert-message-container row"> <div class="col-sm-3 text-center"> <p class="convert-error-icon"><i class="glyphicon circle-exclamation-mark"></i></p> </div> <div class="col-sm-8"> <h4> ',((o=n.if.call(t,t&&t.status,{hash:{},inverse:this.program(3,(function(e,t){var n="";return n+=" "+c(a(i("d8WC")).call(e,"There was a problem preparing for optimization.",{hash:{},data:t}))+" "}),r),fn:this.program(1,(function(e,t){var i,n="";return n+=" "+c("function"==typeof(i=e&&e.status)?i.apply(e):i)+" "}),r),data:r}))||0===o)&&(l+=o),l+=' </h4> <h4><a class="try-again-link" href="#">'+c(a(i("d8WC")).call(t,"Try again",{hash:{},data:r}))+"</a></h4> </div> </div> "}))},NCaO:function(e,t,i){"use strict";function n(e,t,i){const n=e.indexOf(t);if(n<0)return e;const a=e.slice(0);return a[n]=i,a}i.d(t,"a",(function(){return n}))},NCdd:function(e,t,i){e.exports={badge:"PrePlayContentRating-badge-3LtQUH Badge-badge-21NQRi"}},NDU1:function(e,t,i){e.exports={container:"LineupChannelDragSource-container-2sHd0Z",isOver:"LineupChannelDragSource-isOver-PWEZV8"}},NJkC:function(e,t,i){e.exports={item:"EPGPrePlayEpisodeCell-item-31U2lg",recordButton:"EPGPrePlayEpisodeCell-recordButton-x7LVGv RecordButton-recordButton-1BGtat PlayButton-playButton-3WX8X- RecordIcon-recordIconContainer-1PXGA2",alternateItem:"EPGPrePlayEpisodeCell-alternateItem-3QMpyC EPGPrePlayEpisodeCell-item-31U2lg",underlay:"EPGPrePlayEpisodeCell-underlay-28hJxq",overlay:"EPGPrePlayEpisodeCell-overlay-2sL4QI",primaryTitle:"EPGPrePlayEpisodeCell-primaryTitle-p-NawY",secondaryTitle:"EPGPrePlayEpisodeCell-secondaryTitle-iTKpt4",subscriptionIcon:"EPGPrePlayEpisodeCell-subscriptionIcon-14CJUM",nextAiringDate:"EPGPrePlayEpisodeCell-nextAiringDate-10Bif2",separator:"EPGPrePlayEpisodeCell-separator-2LvFs5",loadingItem:"EPGPrePlayEpisodeCell-loadingItem-2VkI2H",alternateLoadingItem:"EPGPrePlayEpisodeCell-alternateLoadingItem-2KPtT_ EPGPrePlayEpisodeCell-loadingItem-2VkI2H"}},NM2O:function(e,t,i){e.exports={link:"Link-link-2ew_DK",isHrefLink:"Link-isHrefLink-3mRmVl",default:"Link-default-1uNM9i",primary:"Link-primary-swdMK3",success:"Link-success-2povE6",danger:"Link-danger-30DOAN",small:"Link-small-3LOyMt",medium:"Link-medium-JcTlXb",large:"Link-large-E7KsvQ"}},NMOu:function(e,t,i){e.exports={menuLabelClassName:"AudioStreamsMenu-menuLabelClassName-1CDPNF SelectedMenuItem-menuLabel-2fp2lo",extendedTitle:"AudioStreamsMenu-extendedTitle-25gjI0"}},"NN/D":function(e,t,i){var n=i("3O+N");function a(e){return e&&(e.__esModule?e.default:e)}e.exports=(n.default||n).template((function(e,t,n,s,r){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),r=r||{};var o,l="",c=this.escapeExpression;return l+='<form class="edit-metadata-form"> <div class="row"> <div class="col-md-12"> '+c(a(i("nptq")).call(t,"lockableTagInput",{hash:{label:"Genres",name:"genre",attribute:"genres",locked:(o=t&&t.locked,null==o||!1===o?o:o.genre)},data:r}))+" </div> </div> ",((o=n.if.call(t,null==(o=t&&t.editableTags)||!1===o?o:o["album.style"],{hash:{},inverse:this.noop,fn:this.program(1,(function(e,t){var n,s="";return s+=' <div class="row"> <div class="col-md-12"> '+c(a(i("nptq")).call(e,"lockableTagInput",{hash:{label:"Styles",name:"style",attribute:"styles",locked:(n=e&&e.locked,null==n||!1===n?n:n.style)},data:t}))+" </div> </div> "}),r),data:r}))||0===o)&&(l+=o),l+=" ",((o=n.if.call(t,null==(o=t&&t.editableTags)||!1===o?o:o["album.mood"],{hash:{},inverse:this.noop,fn:this.program(3,(function(e,t){var n,s="";return s+=' <div class="row"> <div class="col-md-12"> '+c(a(i("nptq")).call(e,"lockableTagInput",{hash:{label:"Moods",name:"mood",attribute:"moods",locked:(n=e&&e.locked,null==n||!1===n?n:n.mood)},data:t}))+" </div> </div> "}),r),data:r}))||0===o)&&(l+=o),l+=' <div class="row"> <div class="col-md-12"> '+c(a(i("nptq")).call(t,"lockableTagInput",{hash:{label:"Collections",name:"collection",attribute:"collections",locked:(o=t&&t.locked,null==o||!1===o?o:o.collection)},data:r}))+" </div> </div> </form> "}))},NNG8:function(e,t,i){"use strict";i.r(t);var n=i("Ivly"),a=i("66GW"),s=i("VLKS"),r=i("S09J");t.default=function(e){if(e.index===n.a.CONVERT_AUTOMATICALLY)return Object(a.default)("Convert Automatically");if(e.index===n.a.ORIGINAL)return Object(a.default)("Original");const t=e.bitrate||e.maxVideoBitrate,i=e.videoResolution;if(!t&&!i)return Object(a.default)("Unknown");const o=[];if(t&&o.push(Object(r.default)(t)),i&&(!t||t>=1e3)){const e=n.a.getResolutionFromSize(i);o.push(Object(s.default)(e))}const l=o.join(", ");return e.description?l+" "+e.description:l}},NQww:function(e,t,i){var n=i("3O+N");function a(e){return e&&(e.__esModule?e.default:e)}e.exports=(n.default||n).template((function(e,t,n,s,r){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),r=r||{};var o,l="",c=this.escapeExpression;return l+='<form id="server-settings-form"> ',((o=n.each.call(t,t,{hash:{},inverse:this.noop,fn:this.program(1,(function(e,t){var n="";return n+=" "+c(a(i("nptq")).call(e,"setting",{hash:{idSuffix:"_c"},data:t}))+" "}),r),data:r}))||0===o)&&(l+=o),l+=' <div class="form-footer"> <button type="submit" class="submit-btn btn btn-lg btn-primary btn-loading disabled"> <div class="loading loading-sm"></div> <span class="btn-label">'+c(a(i("d8WC")).call(t,"Save Changes",{hash:{},data:r}))+'</span> </button> <span class="form-message"></span> </div> </form> '}))},NRWW:function(e,t,i){e.exports={modalHeader:"PlayerConflictModalContent-modalHeader-esgnIK ModalHeader-modalHeader-1Kf9RW",innerModalBody:"PlayerConflictModalContent-innerModalBody-2N2K54 ModalBody-innerModalBody-36gmbf",message:"PlayerConflictModalContent-message-1A31cS",conflicts:"PlayerConflictModalContent-conflicts-2yWT26",footerMessage:"PlayerConflictModalContent-footerMessage-1ptDWP"}},NXjI:function(e,t,i){e.exports={label:"DVRSetupCountryRegionSelectInput-label-GgBp9L FormLabel-label-2aLJ9b"}},NYQO:function(e,t,i){e.exports={carousel:"PhotoCarousel-carousel-3ebQMF",message:"PhotoCarousel-message-2qnduU",contents:"PhotoCarousel-contents-1OztiK"}},Nbqw:function(e,t,i){e.exports={label:"FormLabel-label-1YNrUM",hasError:"FormLabel-hasError-1CDqKK"}},Nc8A:function(e,t,i){e.exports={icon:"ErrorPage-icon-ZJ38xX EmptyPage-icon-31D3ZA"}},NciQ:function(e,t,i){"use strict";const n=new(i("4P0s").a)({interface:["getLanguages","load","t"]});t.a=n},Ngum:function(e,t,i){"use strict";t.a=function(e){return e.beginsAt+"-"+e.channelIdentifier+"-"+e.endsAt}},"Nh+l":function(e,t,i){e.exports={container:"PlayerControlsMetadata-container-2wqMfv",ratingContainer:"PlayerControlsMetadata-ratingContainer-1bg_57",hasUserRating:"PlayerControlsMetadata-hasUserRating-2bCRcO",durationContainer:"PlayerControlsMetadata-durationContainer-3UDmW1 DurationRemaining-container-1F4w8F",mediaInfoContainer:"PlayerControlsMetadata-mediaInfoContainer-3g4P-6 MediaInfo-infoContainer-2LgYro"}},"Nw/v":function(e,t,i){e.exports={disclosureArrow:"PrePlayPageHeaderSiblingMenu-disclosureArrow-1L4tU8 DisclosureArrow-disclosureArrow-1KPaBC",disabledDisclosureArrow:"PrePlayPageHeaderSiblingMenu-disabledDisclosureArrow-q0Gl6X PrePlayPageHeaderSiblingMenu-disclosureArrow-1L4tU8 DisclosureArrow-disclosureArrow-1KPaBC"}},Nwpn:function(e,t,i){e.exports={title:"MediaSubscriptionTitle-title-1I857z",secondaryTitle:"MediaSubscriptionTitle-secondaryTitle-1srwEQ"}},"O+qT":function(e,t,i){e.exports={hubCellHeader:"HubCellHeader-hubCellHeader-2pvYNF"}},O6KH:function(e,t,i){e.exports={homeInvite:"UserSettingsInviteRow-homeInvite-3fuSS8"}},OAeU:function(e,t,i){e.exports={content:"PrePlayMetadataContent-content-kSY-kH"}},OG2d:function(e,t,i){e.exports={formContent:"SyncDownloadModal-formContent-1o6jrJ ModalContent-modalContent-UQlV4k"}},OJ00:function(e,t,i){e.exports={overlay:"MetadataSharedItemRow-overlay-1iSGYd",underlay:"MetadataSharedItemRow-underlay-136eKR Link-link-2ew_DK",summaryContainer:"MetadataSharedItemRow-summaryContainer-4mcNzm",posterContainer:"MetadataSharedItemRow-posterContainer-1jS6zE",playPosterContainer:"MetadataSharedItemRow-playPosterContainer-1QAAfO MetadataSharedItemRow-posterContainer-1jS6zE",playCircle:"MetadataSharedItemRow-playCircle-3fPFCw MetadataPosterCardActions-playCircle-3YI1wW PlayButton-playCircle-3Evfdw MetadataPosterCardCircle-cardCircle-2NfIyT",titlesContainer:"MetadataSharedItemRow-titlesContainer-2TzNou",titleContainer:"MetadataSharedItemRow-titleContainer-FOEoWU",title:"MetadataSharedItemRow-title-spLdum",doubleTitle:"MetadataSharedItemRow-doubleTitle-340_bN MetadataSharedItemRow-title-spLdum",subtitle:"MetadataSharedItemRow-subtitle-226jYT MetadataSharedItemRow-titleContainer-FOEoWU MetadataSharedItemRow-title-spLdum",actions:"MetadataSharedItemRow-actions-12u_-v",actionsButton:"MetadataSharedItemRow-actionsButton-yP6zUW Link-link-2ew_DK"}},ONsB:function(e,t,i){"use strict";var n=i("CHn6"),a=i("mOXR");const s=n.a.extend({name:"FirstCharacterModel",context:["server","provider","section"],idAttribute:"key",rootPropertyName:"Directory",syncedAttrs:{key:a.a.string,title:a.a.string,size:a.a.integer},urlRoot(){return"/library/sections/"+this.section.id+"/firstCharacter"}});t.a=s},ONyx:function(e,t,i){e.exports={spinnerContainer:"PrePlayAugmentedHubsList-spinnerContainer-2U0vto"}},OOzj:function(e,t,i){e.exports={inputs:"UnitInput-inputs-1Fc89j",textInput:"UnitInput-textInput-QSuLWN TextInput-input-1VMuma input-input-1P2Vi4"}},OQUr:function(e,t,i){e.exports={playedBadge:"PlayedBadge-playedBadge-nExTpX Badge-badge-3I6Kzp"}},OY1m:function(e,t,i){e.exports={container:"AudioVideoPlayQueueItemDragSource-container-3ncn7E"}},OYMB:function(e,t){},OhLM:function(e,t,i){e.exports={tableCell:"TableCell-tableCell-2mwuHk",activeTableCell:"TableCell-activeTableCell-21Vleo TableCell-tableCell-2mwuHk",title:"TableCell-title-2x35AT"}},OiDK:function(e,t,i){e.exports={innerModalBody:"RecoveryCodesModalContent-innerModalBody-1q_5so ModalBody-innerModalBody-BHe1nE",codes:"RecoveryCodesModalContent-codes-2I1Q8E",code:"RecoveryCodesModalContent-code-14ESy4",info:"RecoveryCodesModalContent-info-3eF0FF",strong:"RecoveryCodesModalContent-strong-1bSbrs"}},OtNE:function(e,t,i){e.exports={container:"ServerLogLineModal-container-36025E",containerWithTimeFilter:"ServerLogLineModal-containerWithTimeFilter-HpbS0j",closeButton:"ServerLogLineModal-closeButton-33oO-Y Link-link-2n0yJn",action:"ServerLogLineModal-action-3YbmGc",label:"ServerLogLineModal-label-11MSOm",containerError:"ServerLogLineModal-containerError-BFsDKE ServerLogLineModal-container-36025E",containerWarning:"ServerLogLineModal-containerWarning-1L6UQw ServerLogLineModal-container-36025E",containerInfo:"ServerLogLineModal-containerInfo-1xSNjM ServerLogLineModal-container-36025E",containerDebug:"ServerLogLineModal-containerDebug-1_0AQ7 ServerLogLineModal-container-36025E",containerVerbose:"ServerLogLineModal-containerVerbose-3MAAhh ServerLogLineModal-container-36025E",containerUnknown:"ServerLogLineModal-containerUnknown-3YTiLQ ServerLogLineModal-container-36025E",levelError:"ServerLogLineModal-levelError-ATM6vg",levelWarning:"ServerLogLineModal-levelWarning-3o-hUc",levelInfo:"ServerLogLineModal-levelInfo-GC9mts"}},P0vZ:function(e,t,i){e.exports={isDecisionPending:"PlayerMedia-isDecisionPending-3d0gXT"}},P24g:function(e,t,i){"use strict";t.a=function(e={},t={}){return function(e,t){const i=Object.keys(e);return t.orFields&&t.andFields&&i.sort((e,i)=>t.orFields.includes(e)&&t.andFields.includes(i)?-1:t.andFields.includes(e)&&t.orFields.includes(i)?1:0),i}(e,t).reduce((i,n,a)=>{let s=t.separator||"&";return 0===a?s="":t.orFields&&t.orFields.includes(n)?s="|":t.andFields&&t.andFields.includes(n)&&(s="&"),i+""+s+encodeURIComponent(n)+"="+encodeURIComponent(e[n])},"")}},P5aE:function(e,t,i){var n=i("3O+N");function a(e){return e&&(e.__esModule?e.default:e)}e.exports=(n.default||n).template((function(e,t,n,s,r){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),r=r||{};var o,l="",c=this.escapeExpression,d=this;function u(e,t){return"selected"}function p(e,t){return"checked"}function h(e,t,n){var s,r="";return r+=' <option value="'+c("function"==typeof(s=e&&e.value)?s.apply(e):s)+'" ',((s=a(i("w+Xr")).call(e,e&&e.value,null==(s=n&&n.experienceSettings)||!1===s?s:s.allowHttpFallback,{hash:{},inverse:d.noop,fn:d.program(4,u,t),data:t}))||0===s)&&(r+=s),r+=">"+c(a(i("d8WC")).call(e,e&&e.title,{hash:{},data:t}))+"</option> "}function m(e,t,n){var s,r="";return r+=' <option value="'+c("function"==typeof(s=e&&e.value)?s.apply(e):s)+'" ',((s=a(i("w+Xr")).call(e,e&&e.value,null==(s=n&&n.deviceSettings)||!1===s?s:s["settings.keepOnTop"],{hash:{},inverse:d.noop,fn:d.program(4,u,t),data:t}))||0===s)&&(r+=s),r+=">"+c("function"==typeof(s=e&&e.title)?s.apply(e):s)+"</option> "}function g(e,t){var i,a="";return a+=' <div class="form-group advanced-setting" > <button type="button" class="toggle-sync-btn btn btn-sm btn-default btn-loading form-control-btn"> <div class="loading loading-sm"></div> <span class="btn-label">',((i=n.if.call(e,null==(i=e&&e.deviceSettings)||!1===i?i:i.shouldSyncSettings,{hash:{},inverse:d.program(27,y,t),fn:d.program(25,v,t),data:t}))||0===i)&&(a+=i),a+='</span> </button> <p class="help-block"> ',((i=n.if.call(e,null==(i=e&&e.deviceSettings)||!1===i?i:i.shouldSyncSettings,{hash:{},inverse:d.program(31,b,t),fn:d.program(29,f,t),data:t}))||0===i)&&(a+=i),a+=" </p> </div> "}function v(e,t){return c(a(i("d8WC")).call(e,"Turn off settings sync",{hash:{},data:t}))}function y(e,t){return c(a(i("d8WC")).call(e,"Turn on settings sync",{hash:{},data:t}))}function f(e,t){var n="";return n+=" "+c(a(i("d8WC")).call(e,"Currently all {1} settings and customization are synchronized with other {1} instances.",e&&e.escapedProductName,{hash:{},data:t}))+" "}function b(e,t){var n="";return n+=" "+c(a(i("d8WC")).call(e,"Currently all {1} settings and customization apply to this {1} instance only.",e&&e.escapedProductName,{hash:{},data:t}))+" "}function I(e,t){var s,r="";return r+=' <div class="form-group"> <label for="chromecastAppID"> Chromecast Receiver</label> <select id="chromecastAppID"> ',((s=n.each.call(e,e&&e.chromecastAppIDs,{hash:{},inverse:d.noop,fn:d.programWithDepth(51,S,t,e),data:t}))||0===s)&&(r+=s),r+=' </select> <p class="help-block">Refresh after saving this setting for it to take effect.</p> </div> <div id="chromecast-custom-group" class="form-group ',((s=a(i("WX+G")).call(e,null==(s=e&&e.deviceSettings)||!1===s?s:s.chromecastAppID,"custom",{hash:{},inverse:d.noop,fn:d.program(53,C,t),data:t}))||0===s)&&(r+=s),r+='"> <label for="chromecastCustomAppID">Custom Chromecast Application ID</label> <input type="text" id="chromecastCustomAppID" class="form-control" placeholder="Application ID" value="'+c("function"==typeof(s=null==(s=e&&e.deviceSettings)||!1===s?s:s.chromecastCustomAppID)?s.apply(e):s)+'"> <p class="help-block">Refresh after saving this setting for it to take effect.</p> </div> '}function S(e,t,n){var s,r="";return r+=' <option value="'+c("function"==typeof(s=e&&e.value)?s.apply(e):s)+'" ',((s=a(i("w+Xr")).call(e,e&&e.value,null==(s=n&&n.deviceSettings)||!1===s?s:s.chromecastAppID,{hash:{},inverse:d.noop,fn:d.program(4,u,t),data:t}))||0===s)&&(r+=s),r+=">"+c(a(i("d8WC")).call(e,e&&e.title,{hash:{},data:t}))+"</option> "}function C(e,t){return"hidden"}function M(e,t){var n,s="";return s+=' <div class="form-group"> <label for=""> Report Inspector Port</label> <select id="settings.webInspectorPort" data-type="int"> <option value="0" ',((n=a(i("w+Xr")).call(e,null==(n=e&&e.deviceSettings)||!1===n?n:n["settings.webInspectorPort"],0,{hash:{},inverse:d.noop,fn:d.program(4,u,t),data:t}))||0===n)&&(s+=n),s+='>Disabled</option> <option value="9222" ',((n=a(i("w+Xr")).call(e,null==(n=e&&e.deviceSettings)||!1===n?n:n["settings.webInspectorPort"],9222,{hash:{},inverse:d.noop,fn:d.program(4,u,t),data:t}))||0===n)&&(s+=n),s+='>9222</option> <option value="9229" ',((n=a(i("w+Xr")).call(e,null==(n=e&&e.deviceSettings)||!1===n?n:n["settings.webInspectorPort"],9229,{hash:{},inverse:d.noop,fn:d.program(4,u,t),data:t}))||0===n)&&(s+=n),s+='>9229</option> <option value="9992" ',((n=a(i("w+Xr")).call(e,null==(n=e&&e.deviceSettings)||!1===n?n:n["settings.webInspectorPort"],9992,{hash:{},inverse:d.noop,fn:d.program(4,u,t),data:t}))||0===n)&&(s+=n),s+='>9992</option> </select> <p class="help-block">Save then restart to take effect. Afterwards use Chrome to select Plex from chrome://inspect/#devices.</p> </div> '}function D(e,t,n){var s,r="";return r+=' <option value="'+c("function"==typeof(s=e&&e.value)?s.apply(e):s)+'" ',((s=a(i("w+Xr")).call(e,e&&e.value,null==(s=n&&n.deviceSettings)||!1===s?s:s.debugAdKind,{hash:{},inverse:d.noop,fn:d.program(4,u,t),data:t}))||0===s)&&(r+=s),r+=">"+c(a(i("d8WC")).call(e,e&&e.title,{hash:{},data:t}))+"</option> "}function P(e,t){var i,a="";return a+=' <option value="'+c("function"==typeof(i=e&&e.cid)?i.apply(e):i)+'" ',((i=n.if.call(e,e&&e.isSelected,{hash:{},inverse:d.noop,fn:d.program(4,u,t),data:t}))||0===i)&&(a+=i),a+=">"+c("function"==typeof(i=e&&e.title)?i.apply(e):i)+"</option> "}function O(e,t){var i,a="";return a+=' <fieldset class="audio-device-fields',((i=n.unless.call(e,e&&e.isSelected,{hash:{},inverse:d.noop,fn:d.program(72,j,t),data:t}))||0===i)&&(a+=i),a+='" data-cid="'+c("function"==typeof(i=e&&e.cid)?i.apply(e):i)+'"> ',((i=n.if.call(e,e&&e.kinds,{hash:{},inverse:d.noop,fn:d.program(74,w,t),data:t}))||0===i)&&(a+=i),a+=" </fieldset> "}function j(e,t){return" hidden"}function w(e,t){var s,r="";return r+=' <div class="form-group advanced-setting"> <label> '+c(a(i("d8WC")).call(e,"Audio Device Kind",{hash:{},data:t}))+' <select id="'+c(a(i("ZLEm")).call(e,"ignore",{hash:{},data:t}))+'" class="audio-device-kind" data-cid="'+c("function"==typeof(s=e&&e.cid)?s.apply(e):s)+'"> ',((s=n.each.call(e,e&&e.kinds,{hash:{},inverse:d.noop,fn:d.programWithDepth(75,T,t,e),data:t}))||0===s)&&(r+=s),r+=" </select> </label> </div> ",((s=n.each.call(e,e&&e.capabilities,{hash:{},inverse:d.noop,fn:d.programWithDepth(77,E,t,e),data:t}))||0===s)&&(r+=s),r+=" "}function T(e,t,n){var s,r="";return r+=' <option value="'+c("function"==typeof(s=e&&e.value)?s.apply(e):s)+'" ',((s=a(i("w+Xr")).call(e,e&&e.value,n&&n.kind,{hash:{},inverse:d.noop,fn:d.program(4,u,t),data:t}))||0===s)&&(r+=s),r+=">"+c("function"==typeof(s=e&&e.title)?s.apply(e):s)+"</option> "}function E(e,t,s){var r,o="";return o+=' <fieldset class="audio-device-kind-fields',((r=a(i("WX+G")).call(e,e&&e.kind,s&&s.kind,{hash:{},inverse:d.noop,fn:d.program(72,j,t),data:t}))||0===r)&&(o+=r),o+='" data-cid="'+c("function"==typeof(r=s&&s.cid)?r.apply(e):r)+'" data-kind="'+c("function"==typeof(r=e&&e.kind)?r.apply(e):r)+'"> <div class="form-group advanced-setting"> <label> '+c(a(i("d8WC")).call(e,"Audio Channels",{hash:{},data:t}))+' <select name="channelLayout" id="'+c(a(i("ZLEm")).call(e,"ignore",{hash:{},data:t}))+'" data-cid="'+c("function"==typeof(r=s&&s.cid)?r.apply(e):r)+'"> ',((r=n.each.call(e,e&&e.channelLayoutSettings,{hash:{},inverse:d.noop,fn:d.programWithDepth(78,N,t,s),data:t}))||0===r)&&(o+=r),o+=' </select> </label> </div> <div class="form-group advanced-setting hidden"> <label class="control-label"> <input name="transcodeToAC3" type="checkbox" id="'+c(a(i("ZLEm")).call(e,"ignore",{hash:{},data:t}))+'" ',((r=n.if.call(e,null==(r=e&&e.transcodeToAC3Setting)||!1===r?r:r.value,{hash:{},inverse:d.noop,fn:d.program(7,p,t),data:t}))||0===r)&&(o+=r),o+=' disabled data-cid="'+c("function"==typeof(r=s&&s.cid)?r.apply(e):r)+'" /> '+c(a(i("d8WC")).call(e,null==(r=e&&e.transcodeToAC3Setting)||!1===r?r:r.title,{hash:{},data:t}))+" </label> </div> ",((r=n.each.call(e,e&&e.passthroughCodecSettings,{hash:{},inverse:d.noop,fn:d.programWithDepth(80,x,t,s),data:t}))||0===r)&&(o+=r),o+=" </fieldset> "}function N(e,t,n){var s,r="";return r+=' <option value="'+c("function"==typeof(s=e&&e.value)?s.apply(e):s)+'" ',((s=a(i("w+Xr")).call(e,e&&e.value,n&&n.channelLayout,{hash:{},inverse:d.noop,fn:d.program(4,u,t),data:t}))||0===s)&&(r+=s),r+=">"+c("function"==typeof(s=e&&e.title)?s.apply(e):s)+"</option> "}function x(e,t,n){var s,r="";return r+=' <div class="form-group advanced-setting audio-passthrough-codec"> <label class="control-label"> <input name="passthroughCodecs" type="checkbox" id="'+c(a(i("ZLEm")).call(e,"ignore",{hash:{},data:t}))+'" value="'+c("function"==typeof(s=e&&e.value)?s.apply(e):s)+'" ',((s=a(i("nnsB")).call(e,n&&n.passthroughCodecs,e&&e.value,{hash:{},inverse:d.noop,fn:d.program(81,A,t),data:t}))||0===s)&&(r+=s),r+=' data-cid="'+c("function"==typeof(s=n&&n.cid)?s.apply(e):s)+'"> '+c("function"==typeof(s=e&&e.title)?s.apply(e):s)+" </label> </div> "}function A(e,t){return" checked"}function L(e,t,n){var s,r="";return r+=' <option value="'+c("function"==typeof(s=e&&e.value)?s.apply(e):s)+'" ',((s=a(i("w+Xr")).call(e,e&&e.value,null==(s=n&&n.experienceSettings)||!1===s?s:s.subtitleColor,{hash:{},inverse:d.noop,fn:d.program(4,u,t),data:t}))||0===s)&&(r+=s),r+=">"+c(a(i("d8WC")).call(e,e&&e.title,{hash:{},data:t}))+"</option> "}function k(e,t,n){var s,r="";return r+=' <option value="'+c("function"==typeof(s=e&&e.value)?s.apply(e):s)+'" ',((s=a(i("w+Xr")).call(e,e&&e.value,null==(s=n&&n.experienceSettings)||!1===s?s:s.subtitlePosition,{hash:{},inverse:d.noop,fn:d.program(4,u,t),data:t}))||0===s)&&(r+=s),r+=">"+c(a(i("d8WC")).call(e,e&&e.title,{hash:{},data:t}))+"</option> "}function R(e,t,n){var s,r="";return r+=' <option value="'+c("function"==typeof(s=e&&e.value)?s.apply(e):s)+'" ',((s=a(i("w+Xr")).call(e,e&&e.value,null==(s=n&&n.experienceSettings)||!1===s?s:s.subtitleSize,{hash:{},inverse:d.noop,fn:d.program(4,u,t),data:t}))||0===s)&&(r+=s),r+=">"+c(a(i("d8WC")).call(e,e&&e.title,{hash:{},data:t}))+"</option> "}function z(e,t,n){var s,r="";return r+=' <option value="'+c("function"==typeof(s=e&&e.value)?s.apply(e):s)+'" ',((s=a(i("w+Xr")).call(e,e&&e.value,null==(s=n&&n.experienceSettings)||!1===s?s:s.subtitlesBurnLevel,{hash:{},inverse:d.noop,fn:d.program(4,u,t),data:t}))||0===s)&&(r+=s),r+=">"+c(a(i("d8WC")).call(e,e&&e.title,{hash:{},data:t}))+"</option> "}function U(e,t,n){var s,r="";return r+=' <option value="'+c("function"==typeof(s=e&&e.value)?s.apply(e):s)+'" ',((s=a(i("w+Xr")).call(e,e&&e.value,null==(s=n&&n.experienceSettings)||!1===s?s:s.musicDownloadQuality,{hash:{},inverse:d.noop,fn:d.program(4,u,t),data:t}))||0===s)&&(r+=s),r+=">"+c("function"==typeof(s=e&&e.title)?s.apply(e):s)+"</option> "}function V(e,t,n){var s,r="";return r+=' <option value="'+c("function"==typeof(s=e&&e.value)?s.apply(e):s)+'" ',((s=a(i("w+Xr")).call(e,e&&e.value,null==(s=n&&n.experienceSettings)||!1===s?s:s.videoDownloadQuality,{hash:{},inverse:d.noop,fn:d.program(4,u,t),data:t}))||0===s)&&(r+=s),r+=">"+c("function"==typeof(s=e&&e.title)?s.apply(e):s)+"</option> "}function B(e,t){return' <hr /> <div class="form-group advanced-setting"> <button type="button" class="reset-reminders-btn btn btn-sm btn-primary form-control-btn"> <span class="btn-label">  Reset reminders</span> </button> <p class="help-block">Reset all Plex Web reminders for this user. Reload to take effect.</p> </div> '}function F(e,t){var n="";return n+=" "+c(a(i("d8WC")).call(e,"NOTE: If {1}settings sync{2} is also turned on, settings on other {4} instances may also be reset. Use with caution.",'<a href="{3}">',"</a>",e&&e.generalSettingsRoute,e&&e.escapedProductName,{hash:{},data:t}))+" "}return l+='<div class="filter-bar"> <button class="toggle-advanced-btn btn btn-sm btn-default pull-right basic-setting">'+c(a(i("d8WC")).call(t,"Show Advanced",{hash:{},data:r}))+'</button> <button class="toggle-advanced-btn btn btn-sm btn-default pull-right advanced-setting">'+c(a(i("d8WC")).call(t,"Hide Advanced",{hash:{},data:r}))+"</button> </div> ",((o=n.if.call(t,t&&t.showReloadSecurely,{hash:{},inverse:d.noop,fn:d.program(1,(function(e,t){var n,s="";return s+=' <div class="filter-bar-warning"> <span class="filter-bar-warning-text"> <span class="filter-bar-warning-alert-icon"> ',((n="function"==typeof(n=e&&e.alertIcon)?n.apply(e):n)||0===n)&&(s+=n),s+=" </span> "+c(a(i("d8WC")).call(e,"Your connection to the web app is not secure.",{hash:{},data:t}))+' </span> <button class="reload-securely-btn btn btn-sm btn-primary"> '+c(a(i("d8WC")).call(e,"Reload Securely",{hash:{},data:t}))+" </button> </div> "}),r),data:r}))||0===o)&&(l+=o),l+=' <div class="row"> <div class="col-sm-12 col-md-12"> <form id="web-settings-form"> <div id="general-web-group" class="settings-group"> <h4 class="version-title"> '+c(a(i("d8WC")).call(t,"Version",{hash:{},data:r}))+" "+c("function"==typeof(o=t&&t.version)?o.apply(t):o)+' </h4> <div class="form-group"> <label for="language">'+c(a(i("d8WC")).call(t,"Language",{hash:{},data:r}))+'</label> <select id="language"> ',((o=n.each.call(t,t&&t.languages,{hash:{},inverse:d.noop,fn:d.programWithDepth(3,(function(e,t,n){var s,r="";return r+=' <option value="'+c("function"==typeof(s=e&&e.value)?s.apply(e):s)+'" ',((s=a(i("w+Xr")).call(e,e&&e.value,null==(s=n&&n.experienceSettings)||!1===s?s:s.language,{hash:{},inverse:d.noop,fn:d.program(4,u,t),data:t}))||0===s)&&(r+=s),r+="> "+c("function"==typeof(s=e&&e.title)?s.apply(e):s)+" </option> "}),r,t),data:r}))||0===o)&&(l+=o),l+=' </select> <p class="help-block">'+c(a(i("d8WC")).call(t,"Help us translate this app into your language {1}here{2}.",'<a href="https://transifex.com/plex-1/plex-web" target="_blank">',"</a>",{hash:{},data:r}))+"</p> </div> ",((o=n.if.call(t,t&&t.hasV4DirectoryFeature,{hash:{},inverse:d.noop,fn:d.program(6,(function(e,t){var i,a="";return a+=' <div class="form-group"> <label class="control-label"> <input type="checkbox" id="v4DirectoryEnabled" ',((i=n.if.call(e,null==(i=e&&e.deviceSettings)||!1===i?i:i.v4DirectoryEnabled,{hash:{},inverse:d.noop,fn:d.program(7,p,t),data:t}))||0===i)&&(a+=i),a+='> Experimental directory pages </label> <p class="help-block">Preview the v4 directory pages. (Requires Auto Home)</p> </div> '}),r),data:r}))||0===o)&&(l+=o),l+=" ",((o=n.if.call(t,t&&t.hasV4DVRSetupFeature,{hash:{},inverse:d.noop,fn:d.program(9,(function(e,t){var i,a="";return a+=' <div class="form-group"> <label class="control-label"> <input type="checkbox" id="v4DVRSetupEnabled" ',((i=n.if.call(e,null==(i=e&&e.deviceSettings)||!1===i?i:i.v4DVRSetupEnabled,{hash:{},inverse:d.noop,fn:d.program(7,p,t),data:t}))||0===i)&&(a+=i),a+='> Experimental DVR setup </label> <p class="help-block">Preview the v4 DVR setup page.</p> </div> '}),r),data:r}))||0===o)&&(l+=o),l+=" ",((o=n.unless.call(t,t&&t.isRestricted,{hash:{},inverse:d.noop,fn:d.program(11,(function(e,t){var s,r="";return r+=' <div class="form-group"> <label class="control-label"> <input type="checkbox" id="autoLogin" ',((s=n.if.call(e,null==(s=e&&e.deviceSettings)||!1===s?s:s.autoLogin,{hash:{},inverse:d.noop,fn:d.program(7,p,t),data:t}))||0===s)&&(r+=s),r+="> "+c(a(i("d8WC")).call(e,"Automatically Sign In",{hash:{},data:t}))+' </label> <p class="help-block">'+c(a(i("d8WC")).call(e,"Do not prompt to select a user or enter a PIN during startup on this device.",{hash:{},data:t}))+"</p> </div> "}),r),data:r}))||0===o)&&(l+=o),l+=' <div class="form-group"> <label class="control-label"> <input type="checkbox" id="shouldSaveLastSourcePivots" ',((o=n.if.call(t,null==(o=t&&t.experienceSettings)||!1===o?o:o.shouldSaveLastSourcePivots,{hash:{},inverse:d.noop,fn:d.program(7,p,r),data:r}))||0===o)&&(l+=o),l+="> "+c(a(i("d8WC")).call(t,"Remember selected tab",{hash:{},data:r}))+' </label> <p class="help-block">'+c(a(i("d8WC")).call(t,"Default to the last selected tab for a media source.",{hash:{},data:r}))+'</p> </div> <div class="form-group"> <label class="control-label"> <input type="checkbox" id="playThemeMusic" ',((o=n.if.call(t,null==(o=t&&t.experienceSettings)||!1===o?o:o.playThemeMusic,{hash:{},inverse:d.noop,fn:d.program(7,p,r),data:r}))||0===o)&&(l+=o),l+="> "+c(a(i("d8WC")).call(t,"Play Theme Music",{hash:{},data:r}))+' </label> <p class="help-block">'+c(a(i("d8WC")).call(t,"Automatically play theme music in the background when available.",{hash:{},data:r}))+"</p> </div> ",((o=n.unless.call(t,t&&t.isAnonymous,{hash:{},inverse:d.noop,fn:d.program(13,(function(e,t){var s,r="";return r+=' <div class="form-group advanced-setting"> <label class="control-label"> <input type="checkbox" id="companion" ',((s=n.if.call(e,null==(s=e&&e.experienceSettings)||!1===s?s:s.companion,{hash:{},inverse:d.noop,fn:d.program(7,p,t),data:t}))||0===s)&&(r+=s),r+="> "+c(a(i("d8WC")).call(e,"Advertise as player",{hash:{},data:t}))+' </label> <p class="help-block">'+c(a(i("d8WC")).call(e,"Allow other Plex apps to fling content to this device and control it remotely.",{hash:{},data:t}))+"</p> </div> "}),r),data:r}))||0===o)&&(l+=o),l+=" ",((o=n.if.call(t,t&&t.httpFallbackOptions,{hash:{},inverse:d.noop,fn:d.program(15,(function(e,t){var s,r="";return r+=' <div class="form-group advanced-setting"> <label for="allowHttpFallback">'+c(a(i("d8WC")).call(e,"Allow Fallback to Insecure Connections",{hash:{},data:t}))+'</label> <select id="allowHttpFallback"> ',((s=n.each.call(e,e&&e.httpFallbackOptions,{hash:{},inverse:d.noop,fn:d.programWithDepth(16,h,t,e),data:t}))||0===s)&&(r+=s),r+=' </select> <p class="help-block">'+c(a(i("d8WC")).call(e,"Allow this app to make insecure connections to Plex Media Server if secure connections fail.",{hash:{},data:t}))+"</p> </div> "}),r),data:r}))||0===o)&&(l+=o),l+=' <div class="form-group"> <label for="timeFormat">'+c(a(i("d8WC")).call(t,"Time Format",{hash:{},data:r}))+'</label> <select id="timeFormat"> ',((o=n.each.call(t,t&&t.timeFormats,{hash:{},inverse:d.noop,fn:d.programWithDepth(18,(function(e,t,n){var s,r="";return r+=' <option value="'+c("function"==typeof(s=e&&e.value)?s.apply(e):s)+'" ',((s=a(i("w+Xr")).call(e,e&&e.value,null==(s=n&&n.experienceSettings)||!1===s?s:s.timeFormat,{hash:{},inverse:d.noop,fn:d.program(4,u,t),data:t}))||0===s)&&(r+=s),r+=">"+c(a(i("d8WC")).call(e,e&&e.title,{hash:{},data:t}))+"</option> "}),r,t),data:r}))||0===o)&&(l+=o),l+=" </select> </div> ",((o=n.if.call(t,t&&t.isQtDesktop,{hash:{},inverse:d.noop,fn:d.program(20,(function(e,t){var s,r="";return r+=' <div class="form-group"> <label for="settings.keepOnTop">'+c(a(i("d8WC")).call(e,"Keep Plex on top of windows",{hash:{},data:t}))+'</label> <select id="settings.keepOnTop"> ',((s=n.each.call(e,e&&e.keepOnTopSettings,{hash:{},inverse:d.noop,fn:d.programWithDepth(21,m,t,e),data:t}))||0===s)&&(r+=s),r+=" </select> </div> "}),r),data:r}))||0===o)&&(l+=o),l+=" ",((o=n.unless.call(t,t&&t.isAnonymous,{hash:{},inverse:d.noop,fn:d.program(23,(function(e,t){var s,r="";return r+=' <hr class="advanced-setting" /> ',((s=n.if.call(e,e&&e.isSyncSettingsAllowed,{hash:{},inverse:d.noop,fn:d.program(24,g,t),data:t}))||0===s)&&(r+=s),r+=' <div class="form-group advanced-setting" > <button type="button" class="reset-customization-btn btn btn-sm btn-default btn-loading form-control-btn"> <div class="loading loading-sm"></div> <span class="btn-label">'+c(a(i("d8WC")).call(e,"Reset customization",{hash:{},data:t}))+'</span> </button> <p class="help-block"> '+c(a(i("d8WC")).call(e,"Reset sidebar navigation and home screen layout to the default state. Youll be redirected to the {1} Setup screen, where you can choose a server (if you have access to more than one) and other media providers from which to build your navigation and home screen content.",e&&e.escapedProducttName,{hash:{},data:t}))+" </p> </div> "}),r),data:r}))||0===o)&&(l+=o),l+=' <hr class="advanced-setting" /> ',((o=n.if.call(t,t&&t.isSyncSettingsRestrictedBySchemaVersion,{hash:{},inverse:d.noop,fn:d.program(33,(function(e,t){var n,s="";return s+=' <p class="help-block"> <span class="inline-icon">',((n="function"==typeof(n=e&&e.alertIcon)?n.apply(e):n)||0===n)&&(s+=n),s+="</span> "+c(a(i("d8WC")).call(e,"Any {1} settings and customization made in this {1} instance will not be synchronized with other {1} instances. This is because we have detected you have previously saved settings from a newer version of {1}.",e&&e.escapedProductName,{hash:{},data:t}))+" </p> "}),r),data:r}))||0===o)&&(l+=o),l+=' </div> <div id="quality-web-group" class="settings-group"> ',((o=n.if.call(t,t&&t.canPlayAdaptiveBitrate,{hash:{},inverse:d.noop,fn:d.program(35,(function(e,t){var s,r="";return r+=' <div class="form-group"> <label class="control-label"> <input type="checkbox" id="autoAdjustQuality" ',((s=n.if.call(e,null==(s=e&&e.experienceSettings)||!1===s?s:s.autoAdjustQuality,{hash:{},inverse:d.noop,fn:d.program(7,p,t),data:t}))||0===s)&&(r+=s),r+="> "+c(a(i("d8WC")).call(e,"Automatically adjust quality (Beta)",{hash:{},data:t}))+' </label> <p class="help-block">'+c(a(i("d8WC")).call(e,"Plex will increase or decrease quality based on connection speed. Requires latest Plex Media Server.",{hash:{},data:t}))+"</p> </div> "}),r),data:r}))||0===o)&&(l+=o),l+=' <h4 class="',((o=n.if.call(t,t&&t.canPlayAdaptiveBitrate,{hash:{},inverse:d.program(39,(function(e,t){return"settings-header-first"}),r),fn:d.program(37,(function(e,t){return"settings-header"}),r),data:r}))||0===o)&&(l+=o),l+='">'+c(a(i("d8WC")).call(t,"Internet Streaming",{hash:{},data:r}))+'</h4> <div class="form-group"> <label for="remoteQuality">'+c(a(i("d8WC")).call(t,"Video quality",{hash:{},data:r}))+'</label> <select id="remoteQuality" data-type="int"> <option value="-1">'+c(a(i("d8WC")).call(t,"Maximum",{hash:{},data:r}))+"</option> ",((o=n.each.call(t,t&&t.availableQualities,{hash:{},inverse:d.noop,fn:d.programWithDepth(41,(function(e,t,n){var s,r="";return r+=' <option value="'+c("function"==typeof(s=e&&e.index)?s.apply(e):s)+'" ',((s=a(i("w+Xr")).call(e,e&&e.index,null==(s=n&&n.experienceSettings)||!1===s?s:s.remoteQuality,{hash:{},inverse:d.noop,fn:d.program(4,u,t),data:t}))||0===s)&&(r+=s),r+="> "+c(a(i("HdxU")).call(e,e,{hash:{},data:t}))+" </option> "}),r,t),data:r}))||0===o)&&(l+=o),l+=' </select> <p class="help-block">'+c(a(i("d8WC")).call(t,"Set the default quality for streaming video over the internet. If quality is set too high, videos will start slowly and pause frequently.",{hash:{},data:r}))+'</p> </div> <div class="form-group"> <label class="control-label"> <input type="checkbox" id="remoteSmallVideoAtOriginalQuality" ',((o=n.if.call(t,null==(o=t&&t.experienceSettings)||!1===o?o:o.remoteSmallVideoAtOriginalQuality,{hash:{},inverse:d.noop,fn:d.program(7,p,r),data:r}))||0===o)&&(l+=o),l+="> "+c(a(i("d8WC")).call(t,"Play smaller videos at original quality",{hash:{},data:r}))+' </label> <p class="help-block"> '+c(a(i("d8WC")).call(t,"When a video file is smaller than the quality above, try playing the original video without converting. This preserves full quality, but playback may pause frequently.",{hash:{},data:r}))+" ",((o=n.if.call(t,t&&t.canPlayAdaptiveBitrate,{hash:{},inverse:d.noop,fn:d.program(43,(function(e,t){return c(a(i("d8WC")).call(e,'"Automatically adjust quality" will be disabled for these videos.',{hash:{},data:t}))}),r),data:r}))||0===o)&&(l+=o),l+=' </p> </div> <h4 class="settings-header">'+c(a(i("d8WC")).call(t,"Home Streaming",{hash:{},data:r}))+'</h4> <div class="form-group"> <label class="control-label"> <input type="checkbox" id="useHomeStreamingRecommendedSettings" ',((o=n.if.call(t,null==(o=t&&t.experienceSettings)||!1===o?o:o.useHomeStreamingRecommendedSettings,{hash:{},inverse:d.noop,fn:d.program(7,p,r),data:r}))||0===o)&&(l+=o),l+="> "+c(a(i("d8WC")).call(t,"Use recommended settings",{hash:{},data:r}))+' </label> <p class="help-block recommended-home-streaming-settings">'+c(a(i("d8WC")).call(t,"All compatible videos will play at original quality. Incompatible videos will be converted at maximum quality.",{hash:{},data:r}))+'</p> </div> <div class="form-group custom-home-streaming-settings"> <label for="localQuality">'+c(a(i("d8WC")).call(t,"Video quality",{hash:{},data:r}))+'</label> <select id="localQuality" data-type="int"> <option value="-1">'+c(a(i("d8WC")).call(t,"Maximum",{hash:{},data:r}))+"</option> ",((o=n.each.call(t,t&&t.availableQualities,{hash:{},inverse:d.noop,fn:d.programWithDepth(45,(function(e,t,n){var s,r="";return r+=' <option value="'+c("function"==typeof(s=e&&e.index)?s.apply(e):s)+'" ',((s=a(i("w+Xr")).call(e,e&&e.index,null==(s=n&&n.experienceSettings)||!1===s?s:s.localQuality,{hash:{},inverse:d.noop,fn:d.program(4,u,t),data:t}))||0===s)&&(r+=s),r+="> "+c(a(i("HdxU")).call(e,e,{hash:{},data:t}))+" </option> "}),r,t),data:r}))||0===o)&&(l+=o),l+=' </select> <p class="help-block">'+c(a(i("d8WC")).call(t,"Choose the default video quality to use for local Wi-Fi streaming on home networks. If quality is set too high, videos will start slowly and pause frequently.",{hash:{},data:r}))+'</p> </div> </div> <div id="debug-web-group" class="settings-group"> <div class="form-group"> <label for="debugLevel">'+c(a(i("d8WC")).call(t,"Debug Level",{hash:{},data:r}))+'</label> <select id="debugLevel" data-type="int"> ',((o=n.each.call(t,t&&t.debugLevels,{hash:{},inverse:d.noop,fn:d.programWithDepth(47,(function(e,t,n){var s,r="";return r+=' <option value="'+c("function"==typeof(s=e&&e.value)?s.apply(e):s)+'" ',((s=a(i("w+Xr")).call(e,e&&e.value,null==(s=n&&n.deviceSettings)||!1===s?s:s.debugLevel,{hash:{},inverse:d.noop,fn:d.program(4,u,t),data:t}))||0===s)&&(r+=s),r+=">"+c(a(i("d8WC")).call(e,e&&e.title,{hash:{},data:t}))+"</option> "}),r,t),data:r}))||0===o)&&(l+=o),l+=' </select> <p class="help-block">'+c(a(i("d8WC")).call(t,"You can view the debug logs {1}here{2}.",'<a href="#!/logs">',"</a>",{hash:{},data:r}))+"</p> </div> ",((o=n.if.call(t,t&&t.isNinja,{hash:{},inverse:d.noop,fn:d.program(49,(function(e,t){var i,a="";return a+=" ",((i=n.unless.call(e,e&&e.isHybridPlatform,{hash:{},inverse:d.noop,fn:d.program(50,I,t),data:t}))||0===i)&&(a+=i),a+=' <div class="form-group"> <label for="sonosCustomBaseURL"> Custom Sonos Environment</label> <input type="text" id="sonosCustomBaseURL" class="form-control" placeholder="Base URL" value="'+c("function"==typeof(i=null==(i=e&&e.deviceSettings)||!1===i?i:i.sonosCustomBaseURL)?i.apply(e):i)+'"> </div> <div class="form-group"> <label class="control-label"> <input type="checkbox" id="rejectDirectConnections" ',((i=n.if.call(e,null==(i=e&&e.deviceSettings)||!1===i?i:i.rejectDirectConnections,{hash:{},inverse:d.noop,fn:d.program(7,p,t),data:t}))||0===i)&&(a+=i),a+='>  Reject direct connections </label> <p class="help-block">Forces relayed connections if available. Refresh after saving this setting for it to take effect.</p> </div> ',((i=n.if.call(e,e&&e.isQtDesktop,{hash:{},inverse:d.noop,fn:d.program(55,M,t),data:t}))||0===i)&&(a+=i),a+=" "}),r),data:r}))||0===o)&&(l+=o),l+=' <div class="form-group"> <label class="control-label"> <input type="checkbox" id="directPlay" ',((o=n.if.call(t,null==(o=t&&t.deviceSettings)||!1===o?o:o.directPlay,{hash:{},inverse:d.noop,fn:d.program(7,p,r),data:r}))||0===o)&&(l+=o),l+="> "+c(a(i("d8WC")).call(t,"Direct Play",{hash:{},data:r}))+' </label> <p class="help-block"> ',((o=n.if.call(t,t&&t.isHybridPlatform,{hash:{},inverse:d.program(59,(function(e,t){var n="";return n+=" "+c(a(i("d8WC")).call(e,"Allows the player to play compatible media without any conversion. In most browsers, direct play supports MP4 videos with h264 video and AAC audio. Videos with subtitles cannot be played directly.",{hash:{},data:t}))+" "}),r),fn:d.program(57,(function(e,t){var n="";return n+=" "+c(a(i("d8WC")).call(e,"Allows the player to play compatible media without any conversion.",{hash:{},data:t}))+" "}),r),data:r}))||0===o)&&(l+=o),l+=' </p> </div> <div class="form-group"> <label class="control-label"> <input type="checkbox" id="directStream" ',((o=n.if.call(t,null==(o=t&&t.deviceSettings)||!1===o?o:o.directStream,{hash:{},inverse:d.noop,fn:d.program(7,p,r),data:r}))||0===o)&&(l+=o),l+="> "+c(a(i("d8WC")).call(t,"Direct Stream",{hash:{},data:r}))+' </label> <p class="help-block">'+c(a(i("d8WC")).call(t,"Allows the server to copy compatible audio and video streams without converting them.",{hash:{},data:r}))+"</p> </div> ",((o=n.unless.call(t,t&&t.isHybridPlatform,{hash:{},inverse:d.noop,fn:d.program(61,(function(e,t){var s,r="";return r+=' <div class="form-group advanced-setting"> <label class="control-label"> <input type="checkbox" id="forceTranscodeProtocolHLS" ',((s=n.if.call(e,null==(s=e&&e.experienceSettings)||!1===s?s:s.forceTranscodeProtocolHLS,{hash:{},inverse:d.noop,fn:d.program(7,p,t),data:t}))||0===s)&&(r+=s),r+="> "+c(a(i("d8WC")).call(e,"Use alternate streaming protocol for video playback",{hash:{},data:t}))+' </label> <p class="help-block">'+c(a(i("d8WC")).call(e,"Experimental workaround for Chrome, Edge, and other Chromium based browsers which may avoid unexpected skipping during video playback. The workaround will not be used if automatic quality adjusting is enabled.",{hash:{},data:t}))+"</p> </div> "}),r),data:r}))||0===o)&&(l+=o),l+=" ",((o=n.if.call(t,t&&t.canDebugAdaptiveBitrate,{hash:{},inverse:d.noop,fn:d.program(63,(function(e,t){var i,a="";return a+=' <div class="form-group"> <label class="control-label"> <input type="checkbox" id="debugVideoQualityOverlay" ',((i=n.if.call(e,null==(i=e&&e.deviceSettings)||!1===i?i:i.debugVideoQualityOverlay,{hash:{},inverse:d.noop,fn:d.program(7,p,t),data:t}))||0===i)&&(a+=i),a+='> Video quality overlay </label> <p class="help-block">Burns a quality information overlay on video when automatically adjusting quality.</p> </div> '}),r),data:r}))||0===o)&&(l+=o),l+=" ",((o=n.if.call(t,t&&t.canDebugAds,{hash:{},inverse:d.noop,fn:d.program(65,(function(e,t){var i,a="";return a+=' <div class="form-group"> <label for="debugAdKind"> Debug advertisements</label> <select id="debugAdKind" data-type="int"> ',((i=n.each.call(e,e&&e.debugAdKinds,{hash:{},inverse:d.noop,fn:d.programWithDepth(66,D,t,e),data:t}))||0===i)&&(a+=i),a+=' </select> <p class="help-block">Instructs ad supporting providers to return one or more advertisements. Remember to disable any ad blockers.</p> </div> '}),r),data:r}))||0===o)&&(l+=o),l+=' </div> <div id="player-web-group" class="settings-group"> <h4 class="settings-header-first">'+c(a(i("d8WC")).call(t,"Audio & Subtitles",{hash:{},data:r}))+'</h4> <div class="form-group advanced-setting"> <label class="control-label"> <input type="checkbox" id="normalizeDownmixedVolume" ',((o=n.if.call(t,t&&t.normalizeDownmixedVolume,{hash:{},inverse:d.noop,fn:d.program(7,p,r),data:r}))||0===o)&&(l+=o),l+="> "+c(a(i("d8WC")).call(t,"Normalize Multi-channel Audio",{hash:{},data:r}))+' </label> <p class="help-block">'+c(a(i("d8WC")).call(t,"Reduce volume to avoid clipping when converting from multi-channel audio formats.",{hash:{},data:r}))+"</p> </div> ",((o=n.if.call(t,t&&t.isQtDesktop,{hash:{},inverse:d.noop,fn:d.program(68,(function(e,t){var s,r="";return r+=' <div class="form-group advanced-setting"> <label class="control-label"> <input type="checkbox" id="player.exclusiveAudioEnabled" ',((s=n.if.call(e,null==(s=e&&e.deviceSettings)||!1===s?s:s["player.exclusiveAudioEnabled"],{hash:{},inverse:d.noop,fn:d.program(7,p,t),data:t}))||0===s)&&(r+=s),r+="> "+c(a(i("d8WC")).call(e,"Exclusive Audio",{hash:{},data:t}))+' </label> <p class="help-block">'+c(a(i("d8WC")).call(e,"Bypasses the system audio mixer, ensuring that only the media's audio is sent unchanged to the output device. This prevents sounds from other applications on the selected device.",{hash:{},data:t}))+'</p> </div> <div class="form-group advanced-setting"> <label> '+c(a(i("d8WC")).call(e,"Audio Device",{hash:{},data:t}))+' <select id="player.audioDevice" class="audio-device-name"> ',((s=n.each.call(e,e&&e.audioDevices,{hash:{},inverse:d.noop,fn:d.program(69,P,t),data:t}))||0===s)&&(r+=s),r+=" </select> </label> </div> ",((s=n.each.call(e,e&&e.audioDevices,{hash:{},inverse:d.noop,fn:d.program(71,O,t),data:t}))||0===s)&&(r+=s),r+=" "}),r),data:r}))||0===o)&&(l+=o),l+=" ",((o=n.if.call(t,t&&t.hasSubtitleColor,{hash:{},inverse:d.noop,fn:d.program(83,(function(e,t){var s,r="";return r+=' <div class="form-group"> <label for="subtitleColor">'+c(a(i("d8WC")).call(e,"Subtitle Color",{hash:{},data:t}))+'</label> <select id="subtitleColor"> ',((s=n.each.call(e,e&&e.subtitleColors,{hash:{},inverse:d.noop,fn:d.programWithDepth(84,L,t,e),data:t}))||0===s)&&(r+=s),r+=" </select> </div> "}),r),data:r}))||0===o)&&(l+=o),l+=" ",((o=n.if.call(t,t&&t.hasSubtitlePosition,{hash:{},inverse:d.noop,fn:d.program(86,(function(e,t){var s,r="";return r+=' <div class="form-group"> <label for="subtitlePosition">'+c(a(i("d8WC")).call(e,"Subtitle Position",{hash:{},data:t}))+'</label> <select id="subtitlePosition"> ',((s=n.each.call(e,e&&e.subtitlePositions,{hash:{},inverse:d.noop,fn:d.programWithDepth(87,k,t,e),data:t}))||0===s)&&(r+=s),r+=" </select> </div> "}),r),data:r}))||0===o)&&(l+=o),l+=" ",((o=n.if.call(t,t&&t.hasSubtitleSize,{hash:{},inverse:d.noop,fn:d.program(89,(function(e,t){var s,r="";return r+=' <div class="form-group"> <label for="subtitleSize">'+c(a(i("d8WC")).call(e,"Subtitle Size",{hash:{},data:t}))+'</label> <select id="subtitleSize" data-type="int"> ',((s=n.each.call(e,e&&e.subtitleSizes,{hash:{},inverse:d.noop,fn:d.programWithDepth(90,R,t,e),data:t}))||0===s)&&(r+=s),r+=" </select> </div> "}),r),data:r}))||0===o)&&(l+=o),l+=" ",((o=n.if.call(t,t&&t.hasSubtitleBurnLevel,{hash:{},inverse:d.noop,fn:d.program(92,(function(e,t){var s,r="";return r+=' <div class="form-group advanced-setting"> <label for="subtitlesBurnLevel">'+c(a(i("d8WC")).call(e,"Burn Subtitles",{hash:{},data:t}))+'</label> <select id="subtitlesBurnLevel"> ',((s=n.each.call(e,e&&e.subtitlesBurnLevels,{hash:{},inverse:d.noop,fn:d.programWithDepth(93,z,t,e),data:t}))||0===s)&&(r+=s),r+=' </select> <p class="help-block">'+c(a(i("d8WC")).call(e,"Determines if the server should burn in subtitles when converting video depending on the subtitles format. Avoiding burn in improves server performance and is only supported by the HTML5 player.",{hash:{},data:t}))+"</p> </div> "}),r),data:r}))||0===o)&&(l+=o),l+=" ",((o=n.if.call(t,t&&t.isQtDesktop,{hash:{},inverse:d.noop,fn:d.program(95,(function(e,t){var s,r="";return r+=' <h4 class="settings-header advanced-setting">'+c(a(i("d8WC")).call(e,"Video",{hash:{},data:t}))+'</h4> <div class="form-group advanced-setting"> <label class="control-label"> <input type="checkbox" id="player.hardwareDecodingEnabled" ',((s=n.if.call(e,null==(s=e&&e.deviceSettings)||!1===s?s:s["player.hardwareDecodingEnabled"],{hash:{},inverse:d.noop,fn:d.program(7,p,t),data:t}))||0===s)&&(r+=s),r+="> "+c(a(i("d8WC")).call(e,"Use Hardware Decoding",{hash:{},data:t}))+' </label> <p class="help-block">'+c(a(i("d8WC")).call(e,"Hardware decoding may improve video playback performance. Disable this setting if you encounter unexpected playback problems.",{hash:{},data:t}))+"</p> </div> "}),r),data:r}))||0===o)&&(l+=o),l+=' <h4 class="settings-header">'+c(a(i("d8WC")).call(t,"Extras",{hash:{},data:r}))+'</h4> <div class="form-group"> <label for="extrasPrefixCount">'+c(a(i("d8WC")).call(t,"Cinema Trailers to Play Before Movies",{hash:{},data:r}))+'</label> <select id="extrasPrefixCount" data-type="int"> ',((o=n.each.call(t,t&&t.extrasPrefixCounts,{hash:{},inverse:d.noop,fn:d.programWithDepth(97,(function(e,t,n){var s,r="";return r+=' <option value="'+c("function"==typeof(s=e&&e.value)?s.apply(e):s)+'" ',((s=a(i("w+Xr")).call(e,e&&e.value,null==(s=n&&n.experienceSettings)||!1===s?s:s.extrasPrefixCount,{hash:{},inverse:d.noop,fn:d.program(4,u,t),data:t}))||0===s)&&(r+=s),r+=">"+c(a(i("d8WC")).call(e,e&&e.title,{hash:{},data:t}))+"</option> "}),r,t),data:r}))||0===o)&&(l+=o),l+=" </select> </div> ",((o=n.unless.call(t,t&&t.isHybridPlatform,{hash:{},inverse:d.noop,fn:d.program(99,(function(e,t){var s,r="";return r+=' <h4 class="settings-header advanced-setting">'+c(a(i("d8WC")).call(e,"Chromecast",{hash:{},data:t}))+'</h4> <div class="form-group advanced-setting"> <label class="control-label"> <input type="checkbox" id="audioForceMultiChannel" ',((s=n.if.call(e,null==(s=e&&e.experienceSettings)||!1===s?s:s.audioForceMultiChannel,{hash:{},inverse:d.noop,fn:d.program(7,p,t),data:t}))||0===s)&&(r+=s),r+="> "+c(a(i("d8WC")).call(e,"Force multi-channel audio support",{hash:{},data:t}))+' </label> <p class="help-block">'+c(a(i("d8WC")).call(e,"Forces Chromecast to allow six channel surround sound whether or not the device reports support.",{hash:{},data:t}))+"</p> </div> "}),r),data:r}))||0===o)&&(l+=o),l+=" </div> ",((o=n.if.call(t,t&&t.isQtDesktop,{hash:{},inverse:d.noop,fn:d.program(101,(function(e,t){var s,r="";return r+=' <div id="downloads-web-group" class="settings-group"> <div class="form-group"> <label for="musicDownloadQuality">'+c(a(i("d8WC")).call(e,"Music Quality",{hash:{},data:t}))+'</label> <select id="musicDownloadQuality" data-type="int"> ',((s=n.each.call(e,e&&e.musicDownloadQualityLevels,{hash:{},inverse:d.noop,fn:d.programWithDepth(102,U,t,e),data:t}))||0===s)&&(r+=s),r+=' </select> </div> <div class="form-group"> <label for="videoDownloadQuality">'+c(a(i("d8WC")).call(e,"Video Quality",{hash:{},data:t}))+'</label> <select id="videoDownloadQuality" data-type="int"> ',((s=n.each.call(e,e&&e.videoDownloadQualityLevels,{hash:{},inverse:d.noop,fn:d.programWithDepth(104,V,t,e),data:t}))||0===s)&&(r+=s),r+=' </select> </div> <p class="help-block">'+c(a(i("d8WC")).call(e,"Lower quality downloads use less disk space. Media will be converted on the server.",{hash:{},data:t}))+"</p> </div> "}),r),data:r}))||0===o)&&(l+=o),l+=' <div class="form-footer"> <button type="submit" class="submit-btn btn btn-lg btn-primary btn-loading disabled"> <div class="loading loading-sm"></div> <span class="btn-label">'+c(a(i("d8WC")).call(t,"Save Changes",{hash:{},data:r}))+'</span> </button> <span class="form-message"></span> </div> ',((o=n.unless.call(t,t&&t.isAnonymous,{hash:{},inverse:d.noop,fn:d.program(106,(function(e,t){var s,r="";return r+=' <div id="debug-web-group-footer" class="settings-group"> ',((s=n.if.call(e,e&&e.isNinja,{hash:{},inverse:d.noop,fn:d.program(107,B,t),data:t}))||0===s)&&(r+=s),r+=' <hr /> <div class="form-group"> <button type="button" class="restore-btn btn btn-sm btn-danger btn-loading form-control-btn"> <div class="loading loading-sm"></div> <span class="btn-label">'+c(a(i("d8WC")).call(e,"Restore defaults",{hash:{},data:t}))+'</span> </button> <p class="help-block"> '+c(a(i("d8WC")).call(e,"All {1} settings and customization will be reset and restored to their default state.",e&&e.escapedProductName,{hash:{},data:t}))+" ",((s=n.if.call(e,e&&e.isSyncSettingsAllowed,{hash:{},inverse:d.noop,fn:d.program(109,F,t),data:t}))||0===s)&&(r+=s),r+=" </p> </div> <hr /> </div> "}),r),data:r}))||0===o)&&(l+=o),l+=" </form> </div> </div> "}))},P9FS:function(e,t,i){"use strict";i.d(t,"a",(function(){return s}));var n=i("Qc+q"),a=i("gnaf");function s(e){const t=Object(n.a)(e).get("metadataItem");return a.k(t.provider.get("identifier"),a.b)}},P9eC:function(e,t,i){var n=i("3O+N");e.exports=(n.default||n).template((function(e,t,n,a,s){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),s=s||{};var r,o,l="",c=this.escapeExpression;return l+='<div class="form-group"> <label for="lockable-'+c("function"==typeof(r=t&&t.name)?r.apply(t):r)+'">'+c((o=i("d8WC"),o&&(o.__esModule?o.default:o)).call(t,t&&t.label,{hash:{},data:s}))+'</label> <div class="input-group selectize-group"> <a href="#" data-field="'+c("function"==typeof(r=t&&t.name)?r.apply(t):r)+'" class="input-group-addon edit-lock-addon',((r=n.if.call(t,t&&t.locked,{hash:{},inverse:this.noop,fn:this.program(1,(function(e,t){return" locked"}),s),data:s}))||0===r)&&(l+=r),l+='"><i class="glyphicon lock"></i></a> <input type="text" id="lockable-'+c("function"==typeof(r=t&&t.name)?r.apply(t):r)+'" class="form-control lockable-field tag-input-hidden" data-name="'+c("function"==typeof(r=t&&t.name)?r.apply(t):r)+'" data-attr="'+c("function"==typeof(r=t&&t.attribute)?r.apply(t):r)+'" data-only-delete="'+c("function"==typeof(r=t&&t.onlyDelete)?r.apply(t):r)+'" ',((r=n.if.call(t,t&&t.query,{hash:{},inverse:this.noop,fn:this.program(3,(function(e,t){var i,n="";return n+='data-query="'+c("function"==typeof(i=e&&e.query)?i.apply(e):i)+'"'}),s),data:s}))||0===r)&&(l+=r),l+="> </div> </div> "}))},P9va:function(e,t,i){e.exports={row:"UsersSettingsRow-row-3XFVVH",underlay:"UsersSettingsRow-underlay-2ev7sE"}},PDl1:function(e,t,i){var n=i("3O+N");function a(e){return e&&(e.__esModule?e.default:e)}e.exports=(n.default||n).template((function(e,t,n,s,r){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),r=r||{};var o,l="",c=this,d=this.escapeExpression;function u(e,t){return' <i class="server-alert-icon glyphicon bullhorn"></i> '}function p(e,t){var n;return(n=a(i("w+Xr")).call(e,null==(n=e&&e.event)||!1===n?n:n._type,"playing",{hash:{},inverse:c.program(9,m,t),fn:c.program(7,h,t),data:t}))||0===n?n:""}function h(e,t){return' <i class="server-alert-icon glyphicon imac"></i> '}function m(e,t){var n;return(n=a(i("w+Xr")).call(e,null==(n=e&&e.event)||!1===n?n:n._type,"websocket",{hash:{},inverse:c.program(13,y,t),fn:c.program(10,g,t),data:t}))||0===n?n:""}function g(e,t){var i,a="";return a+=" ",((i=n.if.call(e,null==(i=e&&e.event)||!1===i?i:i.opened,{hash:{},inverse:c.program(11,v,t),fn:c.program(4,u,t),data:t}))||0===i)&&(a+=i),a+=" "}function v(e,t){return' <i class="server-alert-icon glyphicon warning-sign"></i> '}function y(e,t){var n;return(n=a(i("w+Xr")).call(e,null==(n=e&&e.event)||!1===n?n:n.state,0,{hash:{},inverse:c.program(16,b,t),fn:c.program(14,f,t),data:t}))||0===n?n:""}function f(e,t){return' <i class="server-alert-icon glyphicon plus"></i> '}function b(e,t){var n;return(n=a(i("w+Xr")).call(e,null==(n=e&&e.event)||!1===n?n:n.state,5,{hash:{},inverse:c.program(19,S,t),fn:c.program(17,I,t),data:t}))||0===n?n:""}function I(e,t){return' <i class="server-alert-icon glyphicon ok-2"></i> '}function S(e,t){var n;return(n=a(i("w+Xr")).call(e,null==(n=e&&e.event)||!1===n?n:n.state,6,{hash:{},inverse:c.program(22,M,t),fn:c.program(20,C,t),data:t}))||0===n?n:""}function C(e,t){return' <i class="server-alert-icon glyphicon magic"></i> '}function M(e,t){var n;return(n=a(i("w+Xr")).call(e,null==(n=e&&e.event)||!1===n?n:n.state,9,{hash:{},inverse:c.program(25,P,t),fn:c.program(23,D,t),data:t}))||0===n?n:""}function D(e,t){return' <i class="server-alert-icon glyphicon bin"></i> '}function P(e,t){return' <i class="server-alert-icon glyphicon tags"></i> '}function O(e,t){var i,a="";return a+=" ",((i=n.if.call(e,null==(i=e&&e.event)||!1===i?i:i.message,{hash:{},inverse:c.program(33,w,t),fn:c.program(31,j,t),data:t}))||0===i)&&(a+=i),a+=" "}function j(e,t){var n,s="";return s+=" "+d(a(i("d8WC")).call(e,null==(n=e&&e.event)||!1===n?n:n.message,{hash:{},data:t}))+" "}function w(e,t){var s,r="";return r+=" "+d(a(i("d8WC")).call(e,null==(s=e&&e.event)||!1===s?s:s.title,{hash:{},data:t})),((s=n.if.call(e,null==(s=e&&e.event)||!1===s?s:s.description,{hash:{},inverse:c.noop,fn:c.program(34,T,t),data:t}))||0===s)&&(r+=s),r+=" "}function T(e,t){var n,s="";return s+=": "+d(a(i("d8WC")).call(e,null==(n=e&&e.event)||!1===n?n:n.description,{hash:{},data:t}))}function E(e,t){var n;return(n=a(i("w+Xr")).call(e,null==(n=e&&e.event)||!1===n?n:n._type,"timeline",{hash:{},inverse:c.program(39,x,t),fn:c.program(37,N,t),data:t}))||0===n?n:""}function N(e,t){var n,s="";return s+=" "+d(a(i("d8WC")).call(e,null==(n=e&&e.event)||!1===n?n:n.stateString,{hash:{},data:t}))+' <a href="#!/server/'+d(a(i("WmQF")).call(e,e&&e.serverID,{hash:{},data:t}))+"/details?key="+d(a(i("WmQF")).call(e,e&&e.itemKey,{hash:{},data:t}))+'">'+d("function"==typeof(n=null==(n=e&&e.event)||!1===n?n:n.mediaTitle)?n.apply(e):n)+"</a> "}function x(e,t){var n;return(n=a(i("w+Xr")).call(e,null==(n=e&&e.event)||!1===n?n:n._type,"playing",{hash:{},inverse:c.program(45,R,t),fn:c.program(40,A,t),data:t}))||0===n?n:""}function A(e,t){var i,a="";return a+=" ",((i=n.if.call(e,null==(i=e&&e.event)||!1===i?i:i.player,{hash:{},inverse:c.program(43,k,t),fn:c.program(41,L,t),data:t}))||0===i)&&(a+=i),a+=" "}function L(e,t){var n="";return n+=" "+d(a(i("d8WC")).call(e,"{1} started playing {2} on {3}.",e&&e.escapedEventUsername,e&&e.escapedEventTitle,e&&e.escapedEventPlayer,{hash:{},data:t}))+" "}function k(e,t){var n="";return n+=" "+d(a(i("d8WC")).call(e,"{1} started playing {2}.",e&&e.escapedEventUsername,e&&e.escapedEventTitle,{hash:{},data:t}))+" "}function R(e,t){var n;return(n=a(i("w+Xr")).call(e,null==(n=e&&e.event)||!1===n?n:n._type,"websocket",{hash:{},inverse:c.noop,fn:c.program(46,z,t),data:t}))||0===n?n:""}function z(e,t){var i,a="";return a+=" ",((i=n.if.call(e,null==(i=e&&e.event)||!1===i?i:i.opened,{hash:{},inverse:c.program(49,V,t),fn:c.program(47,U,t),data:t}))||0===i)&&(a+=i),a+=" "}function U(e,t){var n="";return n+=" "+d(a(i("d8WC")).call(e,"Opened connection to {1}, listening for events.",e&&e.escapedServerName,{hash:{},data:t}))+" "}function V(e,t){var i;return(i=n.if.call(e,null==(i=e&&e.event)||!1===i?i:i.closed,{hash:{},inverse:c.program(52,F,t),fn:c.program(50,B,t),data:t}))||0===i?i:""}function B(e,t){var n="";return n+=" "+d(a(i("d8WC")).call(e,"Connection to {1} closed.",e&&e.escapedServerName,{hash:{},data:t}))+" "}function F(e,t){var n="";return n+=" "+d(a(i("d8WC")).call(e,"Unable to listen for events on {1}.",e&&e.escapedServerName,{hash:{},data:t}))+" "}return l+='<div class="striped-list-inner-item alert-list-inner-item"> ',((o=a(i("w+Xr")).call(t,null==(o=t&&t.event)||!1===o?o:o._type,"setting",{hash:{},inverse:c.program(3,(function(e,t){var n;return(n=a(i("w+Xr")).call(e,null==(n=e&&e.event)||!1===n?n:n._type,"status",{hash:{},inverse:c.program(6,p,t),fn:c.program(4,u,t),data:t}))||0===n?n:""}),r),fn:c.program(1,(function(e,t){return' <i class="server-alert-icon glyphicon cogwheel"></i> '}),r),data:r}))||0===o)&&(l+=o),l+=' <div class="server-alert-details"> <span class="server-alert-time">'+d(a(i("Lw7a")).call(t,null==(o=t&&t.event)||!1===o?o:o.time,t&&t.timeFormat,{hash:{},data:r}))+"</span> ",((o=a(i("w+Xr")).call(t,null==(o=t&&t.event)||!1===o?o:o._type,"setting",{hash:{},inverse:c.program(29,(function(e,t){var n;return(n=a(i("w+Xr")).call(e,null==(n=e&&e.event)||!1===n?n:n._type,"status",{hash:{},inverse:c.program(36,E,t),fn:c.program(30,O,t),data:t}))||0===n?n:""}),r),fn:c.program(27,(function(e,t){var n="";return n+=" "+d(a(i("d8WC")).call(e,"{1} set to {2}.",e&&e.escapedEventLabel,e&&e.escapedEventValue,{hash:{},data:t}))+" "}),r),data:r}))||0===o)&&(l+=o),l+=" </div> </div> "}))},PE3u:function(e,t,i){"use strict";i.d(t,"a",(function(){return n}));function n(e){const t={};return(...i)=>{const n=JSON.stringify(i);if(t.hasOwnProperty(n))return t[n];{0;const a=e(...i);return t[n]=a,a}}}},PHkR:function(e,t,i){var n=i("3O+N");function a(e){return e&&(e.__esModule?e.default:e)}e.exports=(n.default||n).template((function(e,t,n,s,r){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),r=r||{};var o,l="",c=this.escapeExpression;return l+='<form class="edit-metadata-form"> <div class="row"> <div class="col-md-12 selectize"> '+c(a(i("nptq")).call(t,"lockableTextInput",{hash:{label:"Title",name:"title",value:(o=t&&t.item,null==o||!1===o?o:o.title),placeholder:(o=t&&t.placeholders,null==o||!1===o?o:o.title),locked:(o=t&&t.locked,null==o||!1===o?o:o.title),ratingKey:(o=t&&t.item,null==o||!1===o?o:o.ratingKey)},data:r}))+' </div> </div> <div class="row"> <div class="col-md-12 selectize"> '+c(a(i("nptq")).call(t,"lockableTextInput",{hash:{label:"Sort Title",name:"titleSort",value:(o=t&&t.item,null==o||!1===o?o:o.titleSort),placeholder:(o=t&&t.placeholders,null==o||!1===o?o:o.titleSort),locked:(o=t&&t.locked,null==o||!1===o?o:o.titleSort),ratingKey:(o=t&&t.item,null==o||!1===o?o:o.ratingKey)},data:r}))+' </div> </div> <div class="row"> <div class="col-md-12 selectize"> '+c(a(i("nptq")).call(t,"lockableTextInput",{hash:{label:"Original Title",name:"originalTitle",value:(o=t&&t.item,null==o||!1===o?o:o.originalTitle),placeholder:(o=t&&t.placeholders,null==o||!1===o?o:o.originalTitle),locked:(o=t&&t.locked,null==o||!1===o?o:o.originalTitle),ratingKey:(o=t&&t.item,null==o||!1===o?o:o.ratingKey)},data:r}))+' </div> </div> <div class="row"> <div class="col-md-4"> ',((o=n.if.call(t,t&&t.supportsLinkedYears,{hash:{},inverse:this.program(3,(function(e,t){var n,s="";return s+=" "+c(a(i("nptq")).call(e,"lockableTextInput",{hash:{label:"Year",name:"year",value:(n=e&&e.item,null==n||!1===n?n:n.year),placeholder:(n=e&&e.placeholders,null==n||!1===n?n:n.year),locked:(n=e&&e.locked,null==n||!1===n?n:n.year)},data:t}))+" "}),r),fn:this.program(1,(function(e,t){var n,s="";return s+=" "+c(a(i("nptq")).call(e,"lockableTextInput",{hash:{label:"Originally Available",name:"originallyAvailableAt",value:(n=e&&e.item,null==n||!1===n?n:n.originallyAvailableAt),placeholder:(n=e&&e.placeholders,null==n||!1===n?n:n.originallyAvailableAt),locked:(n=e&&e.locked,null==n||!1===n?n:n.originallyAvailableAt)},data:t}))+" "}),r),data:r}))||0===o)&&(l+=o),l+=' </div> <div class="col-md-4 selectize"> '+c(a(i("nptq")).call(t,"lockableTextInput",{hash:{label:"Content Rating",name:"contentRating",value:(o=t&&t.item,null==o||!1===o?o:o.contentRating),placeholder:(o=t&&t.placeholders,null==o||!1===o?o:o.contentRating),locked:(o=t&&t.locked,null==o||!1===o?o:o.contentRating),ratingKey:(o=t&&t.item,null==o||!1===o?o:o.ratingKey)},data:r}))+' </div> <div class="col-md-4"> <label>'+c(a(i("d8WC")).call(t,"Rating",{hash:{},data:r}))+'</label> <div class="rating-region"></div> </div> </div> <div class="row"> <div class="col-md-',((o=n.if.call(t,t&&t.supportsLinkedYears,{hash:{},inverse:this.program(7,(function(e,t){return"6"}),r),fn:this.program(5,(function(e,t){return"12"}),r),data:r}))||0===o)&&(l+=o),l+=' selectize"> '+c(a(i("nptq")).call(t,"lockableTextInput",{hash:{label:"Studio",name:"studio",value:(o=t&&t.item,null==o||!1===o?o:o.studio),placeholder:(o=t&&t.placeholders,null==o||!1===o?o:o.studio),locked:(o=t&&t.locked,null==o||!1===o?o:o.studio),ratingKey:(o=t&&t.item,null==o||!1===o?o:o.ratingKey)},data:r}))+" </div> ",((o=n.unless.call(t,t&&t.supportsLinkedYears,{hash:{},inverse:this.noop,fn:this.program(9,(function(e,t){var n,s="";return s+=' <div class="col-md-6"> '+c(a(i("nptq")).call(e,"lockableTextInput",{hash:{label:"Originally Available",name:"originallyAvailableAt",value:(n=e&&e.item,null==n||!1===n?n:n.originallyAvailableAt),placeholder:(n=e&&e.placeholders,null==n||!1===n?n:n.originallyAvailableAt),locked:(n=e&&e.locked,null==n||!1===n?n:n.originallyAvailableAt)},data:t}))+" </div> "}),r),data:r}))||0===o)&&(l+=o),l+=' </div> <div class="row"> <div class="col-md-12"> '+c(a(i("nptq")).call(t,"lockableTextInput",{hash:{label:"Tagline",name:"tagline",value:(o=t&&t.item,null==o||!1===o?o:o.tagline),placeholder:(o=t&&t.placeholders,null==o||!1===o?o:o.tagline),locked:(o=t&&t.locked,null==o||!1===o?o:o.tagline)},data:r}))+' </div> </div> <div class="row"> <div class="col-md-12"> '+c(a(i("nptq")).call(t,"lockableTextInput",{hash:{label:"Summary",name:"summary",value:(o=t&&t.item,null==o||!1===o?o:o.summary),placeholder:(o=t&&t.placeholders,null==o||!1===o?o:o.summary),type:"textarea",rows:"5",locked:(o=t&&t.locked,null==o||!1===o?o:o.summary)},data:r}))+" </div> </div> </form> "}))},PKZm:function(e,t,i){var n=i("3O+N");function a(e){return e&&(e.__esModule?e.default:e)}e.exports=(n.default||n).template((function(e,t,n,s,r){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),r=r||{};var o,l="",c=this.escapeExpression,d=this;function u(e,t){return"selectable"}function p(e,t){return"selected"}return l+='<form class="edit-section-type-form settings-container ',((o=n.if.call(t,null==(o=t&&t.section)||!1===o?o:o.type,{hash:{},inverse:d.noop,fn:d.program(1,(function(e,t){return"section-type-chosen"}),r),data:r}))||0===o)&&(l+=o),l+=" ",((o=n.unless.call(t,t&&t.isInitialTypeSupported,{hash:{},inverse:d.noop,fn:d.program(3,(function(e,t){return"is-type-unsupported"}),r),data:r}))||0===o)&&(l+=o),l+='"> ',((o=n.if.call(t,t&&t.add,{hash:{},inverse:d.program(7,(function(e,t){var n="";return n+=" <label>"+c(a(i("d8WC")).call(e,"Library type",{hash:{},data:t}))+"</label> "}),r),fn:d.program(5,(function(e,t){var n="";return n+=' <p class="prompt">'+c(a(i("d8WC")).call(e,"Select your library type",{hash:{},data:t}))+"</p> "}),r),data:r}))||0===o)&&(l+=o),l+=' <div class="wizard-blocks-group form-group type-group"> ',((o=n.each.call(t,t&&t.sectionTypes,{hash:{},inverse:d.noop,fn:d.programWithDepth(9,(function(e,t,s){var r,o="";return o+='<a class="wizard-block section-type ',((r=n.if.call(e,s&&s.canChangeType,{hash:{},inverse:d.noop,fn:d.program(10,u,t),data:t}))||0===r)&&(o+=r),o+=" ",((r=a(i("w+Xr")).call(e,s&&s.currentSectionKey,e&&e.key,{hash:{},inverse:d.noop,fn:d.program(12,p,t),data:t}))||0===r)&&(o+=r),o+='" data-key="'+c("function"==typeof(r=e&&e.key)?r.apply(e):r)+'" href="#">',((r="function"==typeof(r=e&&e.typeIcon)?r.apply(e):r)||0===r)&&(o+=r),o+=" "+c("function"==typeof(r=e&&e.title)?r.apply(e):r)+"</a>"}),r,t),data:r}))||0===o)&&(l+=o),l+=' <label class="control-label"> <span class="control-error">'+c(a(i("d8WC")).call(t,"You must select a media type.",{hash:{},data:r}))+'</span> </label> </div> <div class="visible-once-section-type-chosen"> ',((o=n.if.call(t,t&&t.hasType,{hash:{},inverse:d.noop,fn:d.program(14,(function(e,t){var n="";return n+=' <div class="row"> <div class="col-xs-12"> <p class="prompt">'+c(a(i("d8WC")).call(e,"Name your library and choose language.",{hash:{},data:t}))+"</p> </div> </div> "}),r),data:r}))||0===o)&&(l+=o),l+=' <div class="row section-type-unsupported"> <div class="col-md-7"> <label>'+c(a(i("d8WC")).call(t,"Sorry, this library type is unsupported by this server.",{hash:{},data:r}))+'</label> </div> </div> <div class="row section-type-supported"> <div class="col-md-7"> <div class="form-group title-group"> <div> <label for="edit-section-title" class="control-label"> '+c(a(i("d8WC")).call(t,"Name",{hash:{},data:r}))+' <span class="control-error">'+c(a(i("d8WC")).call(t,"A library name is required.",{hash:{},data:r}))+'</span> </label> </div> <input type="text" id="edit-section-title" name="title" class="form-control" value="'+c("function"==typeof(o=null==(o=t&&t.section)||!1===o?o:o.title)?o.apply(t):o)+'"> </div> </div> <div class="col-md-5"> <div class="form-group language-group"> <div> <label for="edit-section-language" class="control-label"> '+c(a(i("d8WC")).call(t,"Language",{hash:{},data:r}))+' <span class="control-error">'+c(a(i("d8WC")).call(t,"A language is required.",{hash:{},data:r}))+'</span> </label> </div> <select id="edit-section-language" name="language"></select> </div> </div> </div> <div class="row section-type-supported"> <div class="col-md-12"> <span class="text-muted"> ',((o=n.if.call(t,t&&t.updatedAt,{hash:{},inverse:d.noop,fn:d.program(16,(function(e,t){var n="";return n+=" "+c(a(i("d8WC")).call(e,"Last updated {1}",e&&e.escapedUpdatedAt,{hash:{},data:t}))+" "}),r),data:r}))||0===o)&&(l+=o),l+=" </span> </div> </div> </div> </form> "}))},PXtH:function(e,t,i){"use strict";i.d(t,"a",(function(){return n})),i.d(t,"b",(function(){return a})),i.d(t,"c",(function(){return s}));const n="download",a="record",s="universal"},PZBo:function(e,t,i){var n=i("3O+N");e.exports=(n.default||n).template((function(e,t,n,a,s){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),s=s||{};var r,o,l="";return l+='<button class="close-btn btn-link"><i class="glyphicon remove-2"></i></button> <i class="alert-icon glyphicon ',((r=(o=i("w+Xr"),o&&(o.__esModule?o.default:o)).call(t,t&&t.type,"success",{hash:{},inverse:this.program(3,(function(e,t){return"circle-exclamation-mark"}),s),fn:this.program(1,(function(e,t){return"circle-ok"}),s),data:s}))||0===r)&&(l+=r),l+='"></i> <h4>',((r="function"==typeof(r=t&&t.message)?r.apply(t):r)||0===r)&&(l+=r),l+="</h4> "}))},PZfv:function(e,t,i){e.exports={container:"PrePlayAttributedLeftTitle-container-3uhPwv",attribution:"PrePlayAttributedLeftTitle-attribution-1XwG5F",title:"PrePlayAttributedLeftTitle-title-3g0eIf"}},PZgO:function(e,t,i){e.exports={header:"ManageLibrariesPane-header-1Q-gmT",headerTitle:"ManageLibrariesPane-headerTitle-2WyRsF",button:"ManageLibrariesPane-button-3nA1pC"}},Pfwo:function(e,t){e.exports=function(){return""}},Pg5J:function(e,t,i){"use strict";var n=i("F/us"),a=i.n(n),s=i("bcER"),r=i("/No1");t.a=function(e){const t=s.a.get("video").id,i=Object(r.a)(e,{streamType:t});return a.a.first(i)}},PiUd:function(e,t,i){var n=i("3O+N");function a(e){return e&&(e.__esModule?e.default:e)}e.exports=(n.default||n).template((function(e,t,n,s,r){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),r=r||{};var o,l="",c=this,d=this.escapeExpression;function u(e,t){return"hidden"}return l+='<div class="conversion-filter-bar filter-bar"> ',((o=n.if.call(t,t&&t.hasPausedSetting,{hash:{},inverse:c.noop,fn:c.program(1,(function(e,t){var s,r="";return r+=' <div class="filter-bar-right"> <button class="pause-btn btn btn-sm btn-default ',((s=n.if.call(e,e&&e.isPaused,{hash:{},inverse:c.noop,fn:c.program(2,u,t),data:t}))||0===s)&&(r+=s),r+='">'+d(a(i("d8WC")).call(e,"Pause",{hash:{},data:t}))+'</button> <button class="resume-btn btn btn-sm btn-primary ',((s=n.unless.call(e,e&&e.isPaused,{hash:{},inverse:c.noop,fn:c.program(2,u,t),data:t}))||0===s)&&(r+=s),r+='">'+d(a(i("d8WC")).call(e,"Resume",{hash:{},data:t}))+"</button> </div> "}),r),data:r}))||0===o)&&(l+=o),l+=" </div> ",((o=n.if.call(t,t&&t.errorMessage,{hash:{},inverse:c.program(6,(function(e,t){var n="";return n+=' <p class="conversion-status-message">'+d(a(i("d8WC")).call(e,"Manage your completed conversions in {1}Optimized Versions Settings{2}.",'<a href="{3}">',"</a>",e&&e.manageVersionsRoute,{hash:{},data:t}))+"</p> "}),r),fn:c.program(4,(function(e,t){var n,s="";return s+=' <p class="conversion-error-message"><i class="conversion-error-icon glyphicon circle-exclamation-mark text-danger"></i> '+d("function"==typeof(n=e&&e.errorMessage)?n.apply(e):n)+" "+d(a(i("d8WC")).call(e,"Check the status in {1}Optimized Versions Settings{2}.",'<a href="{3}">',"</a>",e&&e.manageVersionsRoute,{hash:{},data:t}))+"</p> "}),r),data:r}))||0===o)&&(l+=o),l+=" ",((o=n.if.call(t,t&&t.shouldShowList,{hash:{},inverse:c.program(10,(function(e,t){var n="";return n+=' <div class="row row-padded"> <h4 class="text-muted text-center"> '+d(a(i("d8WC")).call(e,"This requires Plex Media Server {1} or later.",e&&e.escapedMinServerVersion,{hash:{},data:t}))+" </h4> </div> "}),r),fn:c.program(8,(function(e,t){var i,a="";return a+=' <div class="conversion-queue-empty-region"></div> <div class="conversion-queue-up-next-list-region"></div> <hr class="conversion-queue-divider ',((i=n.unless.call(e,e&&e.shouldShowDivider,{hash:{},inverse:c.noop,fn:c.program(2,u,t),data:t}))||0===i)&&(a+=i),a+='"> <div class="conversion-queue-after-up-next-list-region"></div> '}),r),data:r}))||0===o)&&(l+=o),l+=" "}))},Pizw:function(e,t,i){"use strict";i.d(t,"a",(function(){return o}));var n=i("rXDx");let a;var s=function(e){a||(a=Object(n.r)().map(e=>e.typeString).join("|"));const t=new RegExp('<Directory([^>]*?)type="('+a+')"([\\s\\S]*?)</Directory>',"gm"),i=new RegExp('<Directory([^>]*?)type="('+a+')"([\\s\\S]*?)/>',"gm");return e.replace(t,'<Metadata$1type="$2" elementName="Directory"$3</Metadata>').replace(i,'<Metadata$1type="$2" elementName="Directory"$3/>')};var r=function(e,t,i){Array.isArray(t)||(t=[t]);const n=t.join("|"),a=new RegExp("<("+n+")","g"),s=new RegExp("</("+n+")>","g");return e.replace(a,"<"+i+' elementName="$1"').replace(s,"</"+i+">")};const o=["Video","Track","Photo","Playlist","Game"];t.b=function(e,t){const i=t&&t.includeDirectories,n=i?["Directory",...o]:o,a=r(e,n,"Metadata");return i?a:s(a)}},PuYh:function(e,t,i){e.exports={container:"CurrentSourceBreadcrumb-container-1kPu8S",tooltipButton:"CurrentSourceBreadcrumb-tooltipButton-1qQPeq ToolbarButton-toolbarButton-2i2nnD",noButton:"CurrentSourceBreadcrumb-noButton-uUd9XT"}},Q3JP:function(e,t,i){"use strict";i.d(t,"a",(function(){return a}));var n=i("nvND");function a(e){return function(e){return!!e&&(!!e.get("isCloud")||e.supports("json")&&!e.get("onlyXML")&&!e.get("isMobileServer"))}(e)?n.a:n.c}},QExs:function(e,t,i){e.exports={modalContent:"ModalContent-modalContent-UQlV4k",closeButton:"ModalContent-closeButton-3NY5uJ Link-link-2n0yJn"}},QF2Q:function(e,t,i){e.exports={hubTitle:"QuickSearchHubContainer-hubTitle-2B0GDG"}},QPyl:function(e,t,i){"use strict";var n=i("3oIs");const a=/version\/(\d+(\.\d+)?)/i,s=/\/([^\s]+)\s+\(Vizio/,r=/(?:applewebkit|safari)\/(\d+(\.\d+)?)/i,o=function(e){const t=/\(.* ([^)]+)\)$/.exec(e);return t&&t[1]||void 0};function l(e){let t="",i="";e?(t=e.userAgent,i=e.platform):n.a&&null!=window.navigator&&(t=window.navigator.userAgent,i=window.navigator.platform),this.platformVersion="0",this.detect({userAgent:t,platform:i})}l.prototype={constructor:l,browsers:[{id:"konvergo",name:"Plex Media Player",webkit:!0,regex:/plexmediaplayer/i,versionRegex:/plexmediaplayer (\d+\.\d+\.\d+)/i},{id:"wiiu",name:"Wii U",regex:/wiiu/i,versionRegex:r,webkit:!0},{id:"ps3",name:"Unknown Browser",webkit:!0,regex:/\(PLAYSTATION 3 \d\./},{id:"ps4",name:"Unknown Browser",webkit:!0,regex:/\(PlayStation 4 \d\./},{id:"ps3",name:"PlayStation 3",webkit:!0,regex:/\(PlayStation 3\)/,versionRegex:r},{id:"ps4",name:"PlayStation 4",webkit:!0,regex:/\(PlayStation 4\)/,versionRegex:r},{id:"edge",name:"Microsoft Edge",regex:/edge?|(windows phone.+chrome)/i,versionRegex:/edge?\/(\d+(\.\d+)?)/i},{id:"ie",name:"Internet Explorer",msie:!0,regex:/(msie|trident|iemobile)/i,versionRegex:/(msie |rv:)(\d+(\.\d+)?)/i,versionMatchIndex:2},{id:"opera",name:"Opera",presto:!0,regex:/opera/i,versionRegex:a},{id:"opera",name:"Opera",webkit:!0,regex:/OPR\//,versionRegex:/OPR\/\s?(\d+(\.\d+)?)/},{id:"vivaldi",name:"Vivaldi",webkit:!0,regex:/vivaldi/i,versionRegex:/Vivaldi\/\s?(\d+(\.\d+)?)/},{id:"chrome",name:"Chrome",webkit:!0,regex:/(chrome|crios|gfiber|netbox)/i,versionRegex:/(?:chrome|crios|gfibertv)[/-](\d+(\.\d+)?)/i},{id:"firefox",name:"Firefox",gecko:!0,regex:/firefox/i,versionRegex:/firefox[ /](\d+(\.\d+)?)/i},{id:"safari",name:"Safari",webkit:!0,regex:/macintosh.+safari/i,versionRegex:a},{id:"safari",name:"Safari",webkit:!0,regex:/applewebkit/i,versionRegex:r}],platforms:[{id:"metrological",name:"Metrological",tv:!0,regex:/WPE([-\w]+)?$/,version:function(e=""){const t=/WPE(?:-(\w*))?$/.exec(e);if(t&&t[1])return t[1]}},{id:"netgem",name:"Netgem",tv:!0,regex:/^Netbox/,version:function(e=""){return e.split("/")[1]||e}},{id:"netcast",name:"NetCast",tv:!0,predicate:function(e){return/netcast/i.test(e)&&!/web[o0]s/i.test(e)}},{id:"webos",name:"webOS",tv:!0,predicate:function(e){return/web[o0]s/i.test(e)&&/smarttv/i.test(e)}},{id:"blackberry",name:"Blackberry",mobile:!0,regex:/BlackBerry|RIM|BB10/,version:function(e){const t=(/PlayBook/.test(e)?/Tablet OS (\d+\.\d+)/:a).exec(e);return t&&t[1]}},{id:"ps3",name:"PlayStation 3",tv:!0,regex:/P(lay)?S(tation )?3/i,version:function(e){return window.WM_devSettings?window.WM_devSettings.version:void 0}},{id:"ps4",name:"PlayStation 4",tv:!0,regex:/P(lay)?S(tation )?4/i,version:function(e){return window.WM_devSettings?window.WM_devSettings.version:void 0}},{id:"wiiu",name:"Wii U",tv:!0,regex:/Nintendo WiiU/},{id:"tizen",name:"Tizen",tv:!0,predicate:function(e){return!!this.version(e)},version:function(e){const t=/Tizen (\d+(\.\d+)*)/i.exec(e);return t&&t[1]||void 0}},{id:"winvergo",name:"Windows",tv:!0,predicate:function(e){return n.a&&!!window.Windows},version:function(e){try{const e=window.Windows.System.Profile.AnalyticsInfo.versionInfo.deviceFamilyVersion,t=("0000000000000000"+parseInt(e,10).toString(16)).slice(-16),i=[];let n=0;for(;n<t.length;){const e=t.substring(n,n+4),a=parseInt(e,16);i.push(a),n+=4}return i.join(".")}catch(e){}}},{id:"viera",name:"Viera",tv:!0,predicate:function(e){return!!this.version(e)},version:function(e){const t=/Viera\/(\d+(\.\d+)*)/i.exec(e);return t&&t[1]||void 0}},{id:"sta",name:"Smart TV Alliance",tv:!0,version:function(e){let t,i;if(/SmartTvA/.test(e))i=/SmartTvA\/(\d+\.\d+)/.exec(e),t=i&&i[1]||t;else{const i=[/nettv\/4/i],n=[/nettv/i],a=function(t){return t.test(e)};[/Linux i686.+Chromium\/18/,/nettv\/4.2/i,/toshiba-dtv/i,/viera/i].some(a)?t="2.0":i.some(a)?t="1.0":n.some(a)&&(t="0")}return t},predicate:function(e){return void 0!==this.version(e)}},{id:"tivo",name:"TiVo",tv:!0,regex:/TiVo/,version:function(e){const t=/TCD[^,]+/.exec(e);return t&&t[0]||void 0}},{id:"viziosmartcast",name:"Vizio SmartCast",tv:!0,predicate:function(e){return n.a&&window.VIZIO&&window.VIZIO.isSmartCastDevice},version:function(e){}},{id:"viziomtk",name:"Vizio MTK",tv:!0,predicate:function(e){return/opera/i.test(e)&&"undefined"!=typeof iMTK_JSP}},{id:"viziosigma",name:"Vizio Sigma",tv:!0,predicate:function(e){return/opera/i.test(e)&&/vizio/i.test(e)},version:function(e){const t=s.exec(e);return t&&t[1]||void 0}},{id:"viziomtk",name:"Vizio MTK",tv:!0,predicate:function(e){return s.test(e)&&"undefined"!=typeof iMTK_JSP},version:function(e){const t=s.exec(e);return t&&t[1]||void 0}},{id:"viziosigma",name:"Vizio Sigma",tv:!0,regex:s,version:function(e){const t=s.exec(e);return t&&t[1]||void 0}},{id:"operatvstore",name:"Opera TV Store",tv:!0,predicate:function(e){const t=/Opera TV Store/.test(e),i=/TV Store/.test(e)&&/OMI\//.test(e);return t||i}},{id:"operatv",name:"Opera TV",tv:!0,regex:/opera\/\d+\.\d+ \(linux (mips|arm)/i},{id:"ios",name:"iOS",mobile:!0,regex:/(iphone|ipad|ipod)/i,version:function(e){const t=/OS (\d+_\d+)/.exec(e);return t&&t[1]?t[1].replace("_","."):void 0}},{id:"windowsphone",name:"Windows Phone",mobile:!0,regex:/windows phone/i,version:function(e){const t=/windows phone[ os]*(\d+\.\d+);/i.exec(e);return t&&t[1]}},{id:"android",name:"Android",mobile:!0,regex:/android/i,version:function(e){const t=/Android (\d+\.\d+)/.exec(e);return t&&t[1]}},{id:"webos",name:"webOS",mobile:!0,predicate:function(e){return/hpwOS/.test(e)||/web[o0]s/i.test(e)&&!/smarttv/i.test(e)},version:function(e){const t=/(?:hpw|web)OS\/(\d+\.\d+)/.exec(e);return t&&t[1]}},{id:"openelec-rpi2",name:"Embedded (Raspberry Pi)",tv:!0,regex:/plexmediaplayer.*openelec-rpi2/i,version:o},{id:"openelec",name:"Embedded",tv:!0,regex:/plexmediaplayer.*openelec/i,version:o},{id:"linuxkonvergo",name:"Linux",tv:!0,regex:/plexmediaplayer.*linux/i,version:o},{id:"osxkonvergo",name:"OSX",tv:!0,regex:/plexmediaplayer.*mac/i,version:o},{id:"windowskonvergo",name:"Windows",tv:!0,regex:/plexmediaplayer.*win/i,version:o},{id:"linux",name:"Linux",regex:/linux/i},{id:"osx",name:"OSX",regex:/Macintosh/,version:function(e){const t=/OS X (\d+)[_.]?(\d+)?/.exec(e);if(t)return t[2]?t[1]+"."+t[2]:t[1]}},{id:"windows",name:"Windows",regex:/Windows/,version:function(e){const t={"6.0":"Vista / Server 2008",6.1:"7 / Server 2008 R2",6.2:"8",6.3:"8.1",6.4:"10","10.0":"10"},i=/Windows [^\d;)]*(\d+\.\d+)/.exec(e);if(i)return t[i[1]]}},{id:"chromeos",name:"Chrome OS",regex:/CrOS/,version:function(e){const t=/CrOS [\S]* (\d+)[_.]?(\d+)?/.exec(e);if(t)return t[2]?t[1]+"."+t[2]:t[1]}}],detect:function(e){const t=this.runTests(this.browsers,e),i=this.runTests(this.platforms,e);let n;t?(this.id=t.id,this.name=t.name,this.version=this.getVersion(e.userAgent,t.versionRegex,t.versionMatchIndex||1),this.webkit=!!t.webkit,this.gecko=!!t.gecko,this.msie=!!t.msie,this.presto=!!t.presto):(this.id="unknown",this.name="Unknown Browser",this.version="0",this.webkit=!1,this.gecko=!1,this.msie=!1,this.presto=!1),i?(n="function"==typeof i.version?i.version(e.userAgent):i.version,this.platform=i.name,this.platformID=i.id,this.platformVersion=n||this.platformVersion,this.mobile=!!i.mobile,this.tv=!!i.tv):(this.platformID="unknown",this.platform="Unknown Platform",this.mobile=!1,this.tv=!1),this.tv||(this.platformModifierKey="osx"===this.platformID||"ios"===this.platformID?"command":"ctrl")},runTests:function(e,t){let i,n,a,s=0;for(;!0!==n&&(a=e[s++]);)i=t[a.context||"userAgent"],a.regex?n=a.regex.test(i):a.predicate&&(n=a.predicate(i));return a},getVersion:function(e,t,i){const n=e.match(t);return n&&n.length>i&&n[i]||"0"},toJSON:function(){const e={};for(const t in this)this[t]&&"browsers"!==t&&"platforms"!==t&&(e[t]=this[t]);return e}},t.a=new l},QYx4:function(e,t,i){e.exports={photoInformation:"PhotoInformation-photoInformation-1vUJbF",scroller:"PhotoInformation-scroller-1kXikq Scroller-vertical-VScFLT",exif:"PhotoInformation-exif-3TGkhv",line:"PhotoInformation-line-2tnkCU",split:"PhotoInformation-split-3vWYSO PhotoInformation-line-2tnkCU",format:"PhotoInformation-format-IPisod",map:"PhotoInformation-map-26hTST"}},QZ2m:function(e,t,i){e.exports={item:"PlayHistoryTableRow-item-1tWk7h",alternateItem:"PlayHistoryTableRow-alternateItem-2w7YY2 PlayHistoryTableRow-item-1tWk7h",columns:"PlayHistoryTableRow-columns-MZxeOh Link-link-2ew_DK"}},QZNe:function(e,t,i){e.exports={card:"TagPosterCard-card-RVD0Dw MetadataPosterCardFace-poster-L2P6rC",isPerson:"TagPosterCard-isPerson-1ez1h_"}},Qb9m:function(e,t,i){e.exports={group:"InlineFormGroup-group-2Wa86G"}},QbAs:function(e,t,i){e.exports={attributionLogo:"PrePlayAttributionLogo-attributionLogo-2UZHBf"}},"Qc+q":function(e,t,i){"use strict";i.d(t,"a",(function(){return a}));var n=i("+Mxn");function a(e){const t=e.get("playQueue");if(!t)return;const i=t.get("currentIndex");return Object(n.a)(e,i)}},Qc4C:function(e,t,i){e.exports={playButton:"PlayButton-playButton-3WX8X-",playCircle:"PlayButton-playCircle-3Evfdw"}},QhHd:function(e,t,i){e.exports={container:"PrePlayDetailsContainer-container-3EYqxZ",posterContainer:"PrePlayDetailsContainer-posterContainer-347qPh",content:"PrePlayDetailsContainer-content-2xv-84 PrePlayMetadataContent-content-kSY-kH"}},QlLa:function(e,t,i){e.exports={dvr:"DVRListItem-dvr-1CoTiB",header:"DVRListItem-header-Lb8AEy",separator:"DVRListItem-separator-2BuN4r DashSeparator-separator-4CyEFW",name:"DVRListItem-name-rIFJzK",deleteLink:"DVRListItem-deleteLink-1ATve6",actions:"DVRListItem-actions-1mU6F4",actionIcon:"DVRListItem-actionIcon-fPqPli",devices:"DVRListItem-devices-2eZl_c",addDeviceIcon:"DVRListItem-addDeviceIcon-2n26fm",banner:"DVRListItem-banner-2FUHJP ProgramGuideGracenoteMigrationBanner-container-1G9MWN"}},Qpc7:function(e,t,i){e.exports={link:"SourcesToggleButton-link-O75VbU",icon:"SourcesToggleButton-icon-2cbEY1",pinnedIcon:"SourcesToggleButton-pinnedIcon-3o85VC SourcesToggleButton-icon-2cbEY1",unclaimedImage:"SourcesToggleButton-unclaimedImage-3GLPXd",topBorder:"SourcesToggleButton-topBorder-30Yrnv",bottomBorder:"SourcesToggleButton-bottomBorder-34MxB6"}},Qy3a:function(e,t,i){e.exports={tableHeader:"DirectoryListTableHeader-tableHeader-H1GDhN TableHeader-tableHeader-vLg8Js",tableHeaderLink:"DirectoryListTableHeader-tableHeaderLink-2jpgVS TableHeaderLink-tableHeaderLink-2vwPqB Link-link-2ew_DK",tableHeaderCell:"DirectoryListTableHeader-tableHeaderCell-1DQr1Z TableHeaderCell-tableHeaderCell-1pgi80 TableCell-tableCell-2mwuHk",activeTableHeaderCell:"DirectoryListTableHeader-activeTableHeaderCell-2Smzd_ DirectoryListTableHeader-tableHeaderCell-1DQr1Z TableHeaderCell-tableHeaderCell-1pgi80 TableCell-tableCell-2mwuHk",firstTableHeaderCell:"DirectoryListTableHeader-firstTableHeaderCell-1tpNWq DirectoryListTableHeader-tableHeaderCell-1DQr1Z TableHeaderCell-tableHeaderCell-1pgi80 TableCell-tableCell-2mwuHk",firstActiveTableHeaderCell:"DirectoryListTableHeader-firstActiveTableHeaderCell-3y8zhl DirectoryListTableHeader-firstTableHeaderCell-1tpNWq DirectoryListTableHeader-tableHeaderCell-1DQr1Z TableHeaderCell-tableHeaderCell-1pgi80 TableCell-tableCell-2mwuHk DirectoryListTableHeader-activeTableHeaderCell-2Smzd_ DirectoryListTableHeader-tableHeaderCell-1DQr1Z TableHeaderCell-tableHeaderCell-1pgi80 TableCell-tableCell-2mwuHk",columnMenuButton:"DirectoryListTableHeader-columnMenuButton-2y5meA Link-link-2ew_DK",actionsTableHeaderCell:"DirectoryListTableHeader-actionsTableHeaderCell-f_pzge DirectoryListTableHeader-tableHeaderCell-1DQr1Z TableHeaderCell-tableHeaderCell-1pgi80 TableCell-tableCell-2mwuHk"}},"R+Vt":function(e,t,i){e.exports={container:"Measure-container-3yONEe",scrollContainer:"Measure-scrollContainer-1c6dyV",expandContent:"Measure-expandContent-zsLw6n",shrinkContent:"Measure-shrinkContent-303GSV Measure-expandContent-zsLw6n"}},"R/D4":function(e,t,i){e.exports={sectionDetails:"SettingsFormSectionDetails-sectionDetails-2rJ3jd"}},"R/vz":function(e,t,i){e.exports={leftTitle:"PrePlayLeftTitle-leftTitle-3RWvGy"}},R14s:function(e,t,i){e.exports={spinnerContainer:"SettingsPageLoadingSpinner-spinnerContainer-oodfMD"}},R1OT:function(e,t,i){e.exports={pageHeader:"DirectoryListToolbar-pageHeader-HphD2a PageHeader-pageHeader-2KNPGd",disclosureArrowLink:"DirectoryListToolbar-disclosureArrowLink-19JfRI DisclosureArrowLink-disclosureArrowLink-2tZpSu Link-link-2ew_DK",listTitle:"DirectoryListToolbar-listTitle-2hUAq4"}},R4w1:function(e,t,i){e.exports={spinner:"SearchPageHeader-spinner-1_DoEP",separator:"SearchPageHeader-separator-C3ELoB"}},R7A0:function(e,t,i){e.exports={container:"TidalUpsellHub-container-TF7gnl",text:"TidalUpsellHub-text-3lFxtm",logo:"TidalUpsellHub-logo-2N5IJ5",body:"TidalUpsellHub-body-a-Qyh6",link:"TidalUpsellHub-link-3mngUv Link-link-2ew_DK"}},R9Jt:function(e,t,i){e.exports={titleContainer:"MetadataChannelCell-titleContainer-3h4coa",placeholder:"MetadataChannelCell-placeholder-2Z1J88 MetadataPosterCardFace-poster-L2P6rC",card:"MetadataChannelCell-card-4uM9rb MetadataPosterCard-card-3bztRc"}},RDBK:function(e,t,i){e.exports={modalContent:"EnableTwoFactorAuthModal-modalContent-1ZR6tf ModalContent-modalContent-4GS6yU",innerModalBody:"EnableTwoFactorAuthModal-innerModalBody-_GC3YX ModalBody-innerModalBody-BHe1nE",inputGroup:"EnableTwoFactorAuthModal-inputGroup-135TxV",secretContent:"EnableTwoFactorAuthModal-secretContent-wxzwgg",verificationCodeContent:"EnableTwoFactorAuthModal-verificationCodeContent-2fuJzD",qrCodeContent:"EnableTwoFactorAuthModal-qrCodeContent-3AJJoT",textCode:"EnableTwoFactorAuthModal-textCode-3GfIMJ",verificationCodeInput:"EnableTwoFactorAuthModal-verificationCodeInput-BY_1Q8",qrCodePlaceholder:"EnableTwoFactorAuthModal-qrCodePlaceholder-DzxrH_"}},RNo0:function(e,t,i){"use strict";t.a=function(e){return e?Array.isArray(e)?e:[e]:[]}},RVll:function(e,t,i){e.exports={poster:"TopPlayedColumnRow-poster-JGf3-5 Link-link-2ew_DK",artistPoster:"TopPlayedColumnRow-artistPoster-2uLEsx Link-link-2ew_DK",summary:"TopPlayedColumnRow-summary-104umq",itemTitle:"TopPlayedColumnRow-itemTitle-2aOzZ5 Link-link-2ew_DK"}},RWac:function(e,t,i){e.exports={partialButton:"PrePlayRecordingStatusButton-partialButton-1aQ0th PrePlayStatusButton-statusButton-28XJ7z Button-default--yDCH5",failedButton:"PrePlayRecordingStatusButton-failedButton-ap5JD2 PrePlayStatusButton-statusButton-28XJ7z Button-default--yDCH5"}},RWya:function(e,t,i){e.exports={emptyContainer:"PrePlayPageHeaderSiblingsMenu-emptyContainer-zMrx0k"}},RZIj:function(e,t,i){e.exports={form:"AddToCatalogModal-form-3c_MqA",inputContainer:"AddToCatalogModal-inputContainer-3V2vNI",fileNote:"AddToCatalogModal-fileNote-25qjc8"}},ReZX:function(e,t,i){e.exports={container:"ConflictItemRow-container-x4THp8"}},Rhig:function(e,t,i){e.exports={container:"HubTitleToggleHomeHubButton-container-2IqMsG",icon:"HubTitleToggleHomeHubButton-icon-1jwJTZ AddOrRemoveButton-icon-2m9zyA",button:"HubTitleToggleHomeHubButton-button-2V6cQB AddOrRemoveButton-button-3FgmE7 IconButton-button-9An-7I",isHidden:"HubTitleToggleHomeHubButton-isHidden-2ozuyI",isVisible:"HubTitleToggleHomeHubButton-isVisible-WlFUSh"}},Rkkp:function(e,t,i){e.exports={sectionError:"FormSectionError-sectionError-3ZuKeE",sectionErrorIcon:"FormSectionError-sectionErrorIcon--74cEl"}},Rx8e:function(e,t,i){e.exports={progress:"PosterCardOverlayProgress-progress-16k0BJ",progressTrack:"PosterCardOverlayProgress-progressTrack-3luzPK",progressBar:"PosterCardOverlayProgress-progressBar-3k291O"}},Ryf4:function(e,t,i){e.exports={form:"DVRDeviceSettingsModalContent-form-1a8dRt",container:"DVRDeviceSettingsModalContent-container-320C56",info:"DVRDeviceSettingsModalContent-info-3oNQ9g",deviceImage:"DVRDeviceSettingsModalContent-deviceImage-3ud4cE",model:"DVRDeviceSettingsModalContent-model-3qWA4s",settings:"DVRDeviceSettingsModalContent-settings-3-KyiK"}},"S+4V":function(e,t,i){e.exports={groupItem:"PrePlayDetailsGroupItem-groupItem-3QNr1s",label:"PrePlayDetailsGroupItem-label-1HY8Lp",content:"PrePlayDetailsGroupItem-content-23rQMx"}},"S+WG":function(e,t,i){e.exports={sidebarLink:"SidebarLink-sidebarLink-L2OPdE Link-default-2XA2bN",iconImg:"SidebarLink-iconImg-1grLXe",container:"SidebarLink-container-24bhWp",icon:"SidebarLink-icon-34JWqs",title:"SidebarLink-title-2vaAAn",children:"SidebarLink-children-3Lh_RU",spinner:"SidebarLink-spinner-3MZY0q"}},S09J:function(e,t,i){"use strict";i.r(t);var n=i("Co7d");t.default=function(e){return e>=100?function(e){if(!(e>0))return"";let t=e/1e3;return t=t>=.1?Number(t.toFixed(1)):t,t+" Mbps"}(e):Object(n.a)(e)}},S1st:function(e,t,i){e.exports={addToSavedButton:"PodcastShowPrePlay-addToSavedButton-2aatEo",container:"PodcastShowPrePlay-container-26Mb0Y"}},S686:function(e,t,i){e.exports={dropFileOverlay:"ServerLogPage-dropFileOverlay-30ow04",icon:"ServerLogPage-icon-3tZH8N"}},SBxW:function(e,t,i){e.exports={menuItemContainer:"SelectedMenuItem-menuItemContainer-2hXIr-",menuLabel:"SelectedMenuItem-menuLabel-2fp2lo",selectedIcon:"SelectedMenuItem-selectedIcon-20Yx1_",isSelected:"SelectedMenuItem-isSelected-178xe1"}},SYtG:function(e,t,i){e.exports={agendaHeader:"AgendaHeader-agendaHeader-66Y_9t"}},SeTg:function(e,t,i){e.exports={dayOfWeek:"CalendarDayOfWeek-dayOfWeek-3dQ59f",isToday:"CalendarDayOfWeek-isToday-2rPYNP"}},SfGf:function(e,t,i){var n=i("3O+N");e.exports=(n.default||n).template((function(e,t,i,n,a){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),a=a||{};var s,r="",o=this.escapeExpression;return r+='<a class="striped-list-item" href="#" data-key="'+o("function"==typeof(s=null==(s=t&&t.filePath)||!1===s?s:s.key)?s.apply(t):s)+'"> <i class="glyphicon file"></i> '+o("function"==typeof(s=null==(s=t&&t.filePath)||!1===s?s:s.title)?s.apply(t):s)+" </a> "}))},ShFY:function(e,t,i){e.exports={alternate:"PlaylistListItem-alternate-3LodVO",container:"PlaylistListItem-container-1zf1-X",card:"PlaylistListItem-card-1lyuEQ PosterCard-card-1rN9gd",title:"PlaylistListItem-title-2aEtHh"}},SiWM:function(e,t,i){"use strict";i.d(t,"i",(function(){return x})),i.d(t,"j",(function(){return A})),i.d(t,"k",(function(){return L})),i.d(t,"l",(function(){return k})),i.d(t,"h",(function(){return R})),i.d(t,"e",(function(){return z})),i.d(t,"d",(function(){return U})),i.d(t,"a",(function(){return V})),i.d(t,"f",(function(){return B})),i.d(t,"g",(function(){return F})),i.d(t,"m",(function(){return H})),i.d(t,"c",(function(){return _})),i.d(t,"b",(function(){return W})),i.d(t,"x",(function(){return Q})),i.d(t,"y",(function(){return G})),i.d(t,"z",(function(){return K})),i.d(t,"A",(function(){return Y})),i.d(t,"v",(function(){return q})),i.d(t,"s",(function(){return Z})),i.d(t,"r",(function(){return J})),i.d(t,"n",(function(){return X})),i.d(t,"t",(function(){return $})),i.d(t,"u",(function(){return ee})),i.d(t,"C",(function(){return te})),i.d(t,"p",(function(){return ie})),i.d(t,"w",(function(){return ne})),i.d(t,"B",(function(){return ae})),i.d(t,"o",(function(){return se})),i.d(t,"q",(function(){return ce}));var n=i("8OQS"),a=i.n(n),s=i("EVdn"),r=i.n(s),o=i("ICb1"),l=i("0jae"),c=i("+X4A"),d=i("cgRT"),u=i("ZToC"),p=i("jpr2"),h=i("8NF1"),m=i("DdRF"),g=i("iPle"),v=i("Ve6J"),y=i("IbpV"),f=i("L7Oz"),b=i("YINS"),I=i("+fvj"),S=i("iZkF"),C=i("2eFc"),M=i("uCRf"),D=i("gnaf"),P=i("rXDx");var O=function(e){const t=e.get("type"),i="channelDirectory"===t||Object(P.x)(t)||e.get("isFolder");return void 0===e.length&&!i},j=i("hPIe"),w=i("+Mxn"),T=i("1Lwt"),E=i("66GW"),N=i("U1rH");const x="ui/player/playerLifecycle/startPlayback",A="ui/player/playerLifecycle/startPrimaryExtraPlayback",L="ui/player/playerLifecycle/startRadioPlayback",k="ui/player/playerLifecycle/startRelatedMixPlayback",R="ui/player/playerLifecycle/startExistingPlayQueuePlayback",z="ui/player/playerLifecycle/queueRelatedMixPlayback",U="ui/player/playerLifecycle/queuePlayback",V="ui/player/playerControls/clearPlayerConfirmPlaybackPayload",B="ui/player/playerControls/resetAndClosePlayer",F="ui/player/playerControls/setMetricsPlayer",H="ui/player/playerLifecycle/updateCurrentAd",_="ui/player/playerLifecycle/endPlayback",W="ui/player/playerLifecycle/dismissPlayerUpsell",Q=Object(o.a)(x),G=Object(o.a)(A),K=Object(o.a)(L),Y=Object(o.a)(k),q=Object(o.a)(R),Z=Object(o.a)(z),J=Object(o.a)(U),X=Object(o.a)(V),$=Object(o.a)(B),ee=Object(o.a)(F),te=Object(o.a)(H),ie=Object(o.a)(_),ne=Object(o.a)(x,(e={})=>{let{options:t={}}=e,i=a()(e,["options"]);return Object.assign({},i,{metricsAction:b.N,options:Object.assign({},t,{playAll:!0})})}),ae=Object(o.a)(x,(e={})=>{let{options:t={}}=e,i=a()(e,["options"]);return Object.assign({},i,{metricsAction:b.gb,options:Object.assign({},t,{shuffle:!0})})}),se=Object(o.a)(W);let re;function oe(e){return e.get("related").findWhere({browse:!1}).get("metadataList")}function le(e,t,i){return(...n)=>{if(t.get("isOpen")&&e===re)return i(...n);l.a.warn("[Player] Player was closed or a new playback session was started; ignoring playback request")}}const ce={[x](e,t,i){const{metadataItemEntityID:n,liveTVSessionEntityID:a,syncplaySessionRoomID:s,confirmPlayback:r,confirmOffset:o,confirmAdvertisingNotice:l,startOffsetMilliseconds:c=null,startMediaIndex:v=null,openState:y=C.a,isPaused:f=!1,isWatchTogetherLobbyVisible:I=!1,extrasPrefixCount:S,playbackStartTime:N=Date.now(),metricsPage:x,metricsProperties:A={}}=t,L=Object(g.a)(e,t),k=Object(h.a)(L),R=M.d(k),z=Object(w.c)(e,R),U=z.get("playQueue"),V=L.metadataItemModel,B=Object(d.c)("appModel").get("user"),F=L.serverModel?L.serverModel.entityID():t.serverEntityID,H=L.providerModel?L.providerModel.entityID():t.providerEntityID;if(U&&V&&U.get("playQueueSelectedMetadataItemID")===V.get("ratingKey"))return;if(!r&&U&&U.get("playQueueVersion")>1)return void z.set("confirmPlaybackPayload",t);const _={serverEntityID:F,providerEntityID:H,syncplaySessionRoomID:s,isOpen:!0,openState:y,isPlayQueueLoading:!0,isMediaLoading:!0,isPaused:f,isWatchTogetherLobbyVisible:I,startOffsetMilliseconds:c,startMediaIndex:v,playbackStartTime:N,metricsPage:x,metricsSetting:A.setting,metricsContextTuple:A.contextTuple};if(a&&(_.liveTVSession=j.d(e,{liveTVSessionEntityID:a})),V&&O(V)&&(_.startMetadataItemEntityID=n),!l&&V&&V.get("requiresConsent")&&B.get("isFullUser")&&(!B.get("adsConsentSetAt")||B.get("adsConsentReminderAt")<Date.now()/1e3)?_.advertisingNoticePayload=t:!o&&V&&V.get("viewOffset")&&(_.confirmOffsetPayload=t),Object(T.a)(()=>{z.restoreDefaults(_)}),_.advertisingNoticePayload||_.confirmOffsetPayload)return;const W=!(c||!V||V.get("type")!==P.j),Q=D.k(L.providerModel.get("identifier"),D.b),G=Object(u.a)(Object.assign({},L,{skipSiblings:Q,extrasPrefixCount:W?S:void 0,playQueueModel:Object(p.a)(Object.assign({},L,{playQueueType:k}))}));re=G,G.done(le(G,z,t=>{z.set({isPlayQueueLoading:!1,playQueue:t}),Object(m.a)(e).startPlayback(z)})).fail(le(G,z,()=>{z.restoreDefaults({hasError:!0,errorMessage:Object(E.default)("An error occurred loading items to play.")})})),t.skipClickMetrics||Object(d.c)("metrics").trackClick(Object.assign({page:t.metricsPage,action:t.metricsAction||b.M,type:k},A))},[A](e,t,i){const n=t.options||{},a=j.f(e,t);i(Q(Object.assign({},t,{metadataItemEntityID:null,metricsAction:b.Q,options:Object.assign({},n,{metadataItemKey:a.get("primaryExtraKey"),type:"video"})})))},[k](e,t,i){const n=t.options||{},a=j.f(e,t),s=oe(a);i(Q({serverEntityID:t.serverEntityID,providerEntityID:t.providerEntityID,metadataItemEntityID:t.metadataItemEntityID,metricsAction:b.R,skipClickMetrics:t.skipClickMetrics,options:Object.assign({},n,{type:Object(h.a)({metadataItemModel:a}),containerKey:s.get("containerKey")})}))},[L](e,t,i){const{playlistType:n}=t,a=j.f(e,t).get("stations");if(!a.length)return;const s=a.findWhere({playlistType:n});i(Q({metricsAction:b.R,serverEntityID:t.serverEntityID,providerEntityID:t.providerEntityID,metadataItemEntityID:s.entityID(),skipClickMetrics:t.skipClickMetrics,options:{type:Object(h.a)({metadataItemModel:s})}}))},[R](e,t){const{serverEntityID:i,providerEntityID:n,playQueueType:a,playQueueID:s,startOffsetMilliseconds:r=null,startMediaIndex:o=null,playbackStartTime:l=Date.now()}=t,c=j.m(e,t),d=M.d(a),u=j.j(e,t),h=Object(w.c)(e,d),m=Object(p.a)({providerModel:u,playQueueID:s,playQueueType:a}),g={serverEntityID:i,providerEntityID:n,isOpen:!0,openState:C.a,isPlayQueueLoading:!0,isMediaLoading:!0,startOffsetMilliseconds:r,startMediaIndex:o,playbackStartTime:l};c===e.get("transientServer")&&(g.metricsPage=S.eb,g.metricsContext=I.COMPANION),h.set(g);return Object(y.a)(m).done(()=>{h.set({playQueue:m,isPlayQueueLoading:!1}),v.startPlayback(h)}).fail(()=>{h.restoreDefaults({hasError:!0,errorMessage:Object(E.default)("An error occurred loading items to play.")})})},[z](e,t,i){const n=j.f(e,t),a=oe(n);i(J({serverEntityID:t.serverEntityID,providerEntityID:t.providerEntityID,metadataItemEntityID:t.metadataItemEntityID,metricsPage:t.metricsPage,metricsAction:b.T,listType:Object(h.a)({metadataItemModel:n}),options:{next:!0,containerKey:c.join(a.get("containerKey"),{excludeSeedItem:1})}}))},[U](e,t,i){const{startOffsetMilliseconds:n=null,openState:a=C.a}=t,s=Object(g.a)(e,t),r=Object(h.a)(s),o=M.d(r),l=Object(w.c)(e,o),c=!!s.playQueueID,v=s.serverModel?s.serverModel.entityID():t.serverEntityID,I=s.providerModel?s.providerModel.entityID():t.providerEntityID;let S=l.get("playQueue"),D=!1;if(S&&l.get("providerEntityID")){const t=j.j(e,{providerEntityID:l.get("providerEntityID")}),i=l.get("providerEntityID")===I,n=S.get("isUniversal"),a=t.server.get("isFullOwnedServer");D=i||n&&a}if(D)Object(u.a)(Object.assign({},s,{playQueueModel:S})).done(Object(f.a)(l,()=>{Object(m.a)(e).refreshRemotePlayQueue(l)})).fail(Object(f.a)(l,()=>{l.set({hasError:!0,errorMessage:Object(E.default)("An error occurred loading items into the play queue.")})}));else{Object(T.a)(()=>{l.restoreDefaults({serverEntityID:v,providerEntityID:I,isOpen:!0,openState:a,isPlayQueueLoading:!0,isMediaLoading:!0,isPaused:!s.next,repeatAll:!!s.playQueueRepeat,startOffsetMilliseconds:n,playbackStartTime:s.playbackStartTime?s.playbackStartTime:Date.now()})}),S=Object(p.a)(Object.assign({},s,{playQueueType:r}));const t=c?Object(y.a)(S):Object(u.a)(Object.assign({},s,{next:!1,playQueueModel:S}));re=t,t.done(le(t,l,t=>{l.set({isPlayQueueLoading:!1,playQueue:t}),Object(m.a)(e).startPlayback(l,c)})).fail(le(t,l,()=>{i(Object(N.C)()),c?l.restoreDefaults():l.restoreDefaults({hasError:!0,errorMessage:Object(E.default)("An error occurred loading items to play.")})}))}const P=s.next?b.P:b.d,O=t.metricsProperties||{};t.skipClickMetrics||Object(d.c)("metrics").trackClick(Object.assign({page:t.metricsPage,action:t.metricsAction||P,type:r},O))},[V](e,{playerType:t,openState:i}){const n=Object(w.c)(e,t);Object(T.a)(()=>{n.set("confirmPlaybackPayload",null)})},[B](e,{playerType:t,openState:i}){const n=Object(w.c)(e,t);Object(T.a)(()=>{n.restoreDefaults()})},[F](e,{playerType:t,metricsPlayer:i}){const n=Object(w.c)(e,t);Object(T.a)(()=>{n.set({metricsPlayer:i})})},[H](e,{adDisplayIndex:t,adDisplayTotal:i,adDurationSeconds:n,adPositionSeconds:a,adState:s,adTimeOffsetSeconds:r,playerType:o}){Object(w.c)(e,o).set({adDisplayIndex:t,adDisplayTotal:i,adDurationSeconds:n,adPositionSeconds:a,adState:s,adTimeOffsetSeconds:r})},[_](e,{playerType:t},i){const n=Object(w.c)(e,t),a=n.get("liveTVSession"),s=n.get("serverEntityID"),o=j.m(e,{serverEntityID:s}),l=Object(m.a)(e);if(Object(T.a)(()=>{i(Object(N.C)()),l.endPlayback(n)}),a&&!o.get("isCloud")){const e=c.join(["/media/subscriptions",a.id]);r.a.ajax(a.server.getXHROptions(e,{method:"DELETE"}))}},[W](e,{playerType:t}){Object(w.c)(e,t).set({confirmPlayerUpsellPayload:null})}}},SnPO:function(e,t,i){"use strict";var n=i("0jae"),a=i("cgRT");t.a=function(){const e=Date.now(),t=Object(a.c)("sessionStats");n.a.debug("[Metrics] Updating session last interaction time"),t.save("lastInteractionTime",e)}},Sp9s:function(e,t,i){"use strict";t.a=function(e,t,i){let n=i;if(e.Part.length>1)for(let i=0,a=e.Part.length;i<a;i++){const a=e.Part[i];if(!a.duration)break;if(t.key===a.key)break;n+=a.duration}return n}},SqLh:function(e,t,i){e.exports={leftTitle:"PrePlayLeftTitle-leftTitle-Ev1KGW"}},SsI7:function(e,t,i){e.exports={tagsInput:"AutosuggestTagsInput-tagsInput-6yLPXr TagsInput-tagsInput-2eRCns",input:"AutosuggestTagsInput-input-ZG-hTQ TagsInput-input-3KDPbm"}},"Sua+":function(e,t,i){e.exports={container:"WatchTogetherPlayerParticipants-container-1DTxJ2 AudioVideoStripeContainer-container-MI02OU"}},"T0/d":function(e,t,i){"use strict";var n=i("EVdn"),a=i.n(n),s=i("F/us"),r=i.n(s),o=i("htvf"),l=i("0jae"),c=i("+X4A"),d=i("cgRT");const u=o.a.extend({initialize(){r.a.bindAll(this,"onAjaxSend","onAjaxComplete"),this.requests=[],this.byId={}},startListening(){const e=a()(document);e.on("ajaxSend",this.onAjaxSend),e.on("ajaxComplete",this.onAjaxComplete)},stopListening(){const e=a()(document);e.off("ajaxSend",this.onAjaxSend),e.off("ajaxComplete",this.onAjaxComplete)},abortAll(e){for(let t=this.requests.length-1;t>-1;t--){const i=this.requests[t];null!=e&&e!==i.settings.scope||this.abort(i)}},abort(e){const t=r.a.isString(e)?this.byId[e]:e;t&&(t.xhr.aborting=!0,t.xhr.abort(),this.remove(t))},store(e,t){const i=r.a.uniqueId("r");e.rid=i;const n={xhr:e,settings:t};return this.requests.push(n),this.byId[i]=n,n},remove(e){const t=r.a.indexOf(this.requests,e);t>-1&&this.requests.splice(t,1),this.byId.hasOwnProperty(e.xhr.rid)&&delete this.byId[e.xhr.rid]},onAjaxSend(e,t,i){if(i.skipCorsWithRedirect)return;const n=this.store(t,i);t.always(()=>{t.aborting||this.remove(n)})},onAjaxComplete(e,t,i){const n=401===t.status;if(t.aborting||!n)return;const a=Object(c.parseUrl)(i.url);if(n&&("/log"===a.pathname||"/"===a.pathname||"/media/providers"===a.pathname))return;const s=Object(d.c)("appModel").get("servers"),o=s?s.find(e=>{const t=e.get("activeConnection"),n=t&&t.get("isConnected"),a=r.a.result(t,"url");return!!n&&i.url.substring(0,a.length)===a}):null;o&&(Object(l.a)('[Connections] Active connection to "%s" lost authorization',o.get("debugName")),o.trigger("error:connection",o))}});t.a=new u},T2rF:function(e,t,i){e.exports={innerContent:"PrePlayMetadataListInnerContent-innerContent-2CsIzg"}},T8us:function(e,t,i){var n=i("3O+N");e.exports=(n.default||n).template((function(e,t,n,a,s){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),s=s||{};var r,o,l="",c=this.escapeExpression,d=this;function u(e,t){var i,a="";return a+=' <li> <span class="keyboard-shortcuts-keys"> ',((i=n.each.call(e,e&&e.keys,{hash:{},inverse:d.noop,fn:d.program(3,p,t),data:t}))||0===i)&&(a+=i),a+=' </span> <span class="keyboard-shortcuts-label text-muted">'+c("function"==typeof(i=e&&e.label)?i.apply(e):i)+"</span> </li> "}function p(e,t){var i,a="";return a+=" ",((i=n.if.call(e,e&&e.plain,{hash:{},inverse:d.noop,fn:d.program(4,h,t),data:t}))||0===i)&&(a+=i),a+=" ",((i=n.unless.call(e,e&&e.plain,{hash:{},inverse:d.noop,fn:d.program(6,m,t),data:t}))||0===i)&&(a+=i),a+=" ",((i=n.if.call(e,e&&e.split,{hash:{},inverse:d.noop,fn:d.program(8,g,t),data:t}))||0===i)&&(a+=i),a+=" "}function h(e,t){var i,n="";return n+=' <span class="keyboard-shortcuts-keys-plain">'+c("function"==typeof(i=e&&e.s)?i.apply(e):i)+"</span> "}function m(e,t){var i,n="";return n+=' <span class="keyboard-shortcuts-keys-key">'+c("function"==typeof(i=e&&e.s)?i.apply(e):i)+"</span> "}function g(e,t){return" <br> "}return l+='<div class="modal-dialog"> <div class="modal-content"> <div class="modal-header"> <button type="button" class="close" data-dismiss="modal"><i class="glyphicon remove-2"></i></button> <h4 class="modal-title"> <i class="modal-icon glyphicon keyboard-wireless"></i> '+c((o=i("d8WC"),o&&(o.__esModule?o.default:o)).call(t,"Keyboard Shortcuts",{hash:{},data:s}))+' </h4> </div> <div class="modal-body modal-body-scroll dark-scrollbar"> ',((r=n.each.call(t,t&&t.groups,{hash:{},inverse:d.noop,fn:d.program(1,(function(e,t){var i,a="";return a+=' <h5 class="keyboard-shortcuts-header">'+c("function"==typeof(i=e&&e.label)?i.apply(e):i)+'</h5> <ul class="list keyboard-shortcuts-list"> ',((i=n.each.call(e,e&&e.shortcuts,{hash:{},inverse:d.noop,fn:d.program(2,u,t),data:t}))||0===i)&&(a+=i),a+=" </ul> "}),s),data:s}))||0===r)&&(l+=r),l+=" </div> </div> </div> "}))},TGb9:function(e,t,i){e.exports={upsell:"PlexPassUpsell-upsell-3i2JLq",iconContainer:"PlexPassUpsell-iconContainer-3uKd8W",icon:"PlexPassUpsell-icon-1r94uI",title:"PlexPassUpsell-title-3m6RLs",text:"PlexPassUpsell-text-2hF28X"}},THTr:function(e,t,i){e.exports={fileInput:"FileInput-fileInput-2okdnH",filename:"FileInput-filename-3PPxwz",noFilename:"FileInput-noFilename-sUIsdE"}},TKUo:function(e,t,i){var n=i("3O+N");function a(e){return e&&(e.__esModule?e.default:e)}e.exports=(n.default||n).template((function(e,t,n,s,r){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),r=r||{};var o,l="",c=this.escapeExpression,d=this;function u(e,t){return"checked"}function p(e,t){var i,n="";return n+=' <p class="help-block">'+c("function"==typeof(i=e&&e.summary)?i.apply(e):i)+"</p> "}function h(e,t){var i,a="";return a+=' <select id="input_'+c("function"==typeof(i=e&&e.id)?i.apply(e):i)+c("function"==typeof(i=e&&e.idSuffix)?i.apply(e):i)+'" name="'+c("function"==typeof(i=e&&e.id)?i.apply(e):i)+'"> ',((i=n.each.call(e,e&&e.enumValues,{hash:{},inverse:d.noop,fn:d.programWithDepth(10,m,t,e),data:t}))||0===i)&&(a+=i),a+=" </select> "}function m(e,t,n){var s,r="";return r+=' <option value="'+c("function"==typeof(s=e&&e.value)?s.apply(e):s)+'" ',((s=a(i("w+Xr")).call(e,e&&e.value,n&&n.value,{hash:{},inverse:d.noop,fn:d.program(11,g,t),data:t}))||0===s)&&(r+=s),r+=">"+c("function"==typeof(s=e&&e.label)?s.apply(e):s)+"</option> "}function g(e,t){return'selected="selected"'}function v(e,t){var s,r="";return r+=' <input type="',((s=a(i("w+Xr")).call(e,e&&e.option,"hidden",{hash:{},inverse:d.program(16,f,t),fn:d.program(14,y,t),data:t}))||0===s)&&(r+=s),r+='" id="input_'+c("function"==typeof(s=e&&e.id)?s.apply(e):s)+c("function"==typeof(s=e&&e.idSuffix)?s.apply(e):s)+'" class="form-control" name="'+c("function"==typeof(s=e&&e.id)?s.apply(e):s)+'" value="'+c("function"==typeof(s=e&&e.value)?s.apply(e):s)+'" ',((s=n.if.call(e,e&&e.placeholder,{hash:{},inverse:d.noop,fn:d.program(18,b,t),data:t}))||0===s)&&(r+=s),r+="> "}function y(e,t){return"password"}function f(e,t){return"text"}function b(e,t){var i,n="";return n+='placeholder="'+c("function"==typeof(i=e&&e.placeholder)?i.apply(e):i)+'"'}return l+='<div class="form-group ',((o=n.if.call(t,t&&t.advanced,{hash:{},inverse:d.noop,fn:d.program(1,(function(e,t){return"advanced-setting"}),r),data:r}))||0===o)&&(l+=o),l+='"> ',((o=a(i("w+Xr")).call(t,t&&t.type,"bool",{hash:{},inverse:d.program(8,(function(e,t){var i,a="";return a+=' <label class="control-label" for="input_'+c("function"==typeof(i=e&&e.id)?i.apply(e):i)+c("function"==typeof(i=e&&e.idSuffix)?i.apply(e):i)+'">'+c("function"==typeof(i=e&&e.label)?i.apply(e):i)+"</label> ",((i=n.if.call(e,e&&e.enumValues,{hash:{},inverse:d.program(13,v,t),fn:d.program(9,h,t),data:t}))||0===i)&&(a+=i),a+=" ",((i=n.if.call(e,e&&e.summary,{hash:{},inverse:d.noop,fn:d.program(6,p,t),data:t}))||0===i)&&(a+=i),a+=" "}),r),fn:d.program(3,(function(e,t){var i,a="";return a+=' <label class="control-label" for="input_'+c("function"==typeof(i=e&&e.id)?i.apply(e):i)+c("function"==typeof(i=e&&e.idSuffix)?i.apply(e):i)+'"> <input type="checkbox" id="input_'+c("function"==typeof(i=e&&e.id)?i.apply(e):i)+c("function"==typeof(i=e&&e.idSuffix)?i.apply(e):i)+'" name="'+c("function"==typeof(i=e&&e.id)?i.apply(e):i)+'" value="1" ',((i=n.if.call(e,e&&e.value,{hash:{},inverse:d.noop,fn:d.program(4,u,t),data:t}))||0===i)&&(a+=i),a+="> "+c("function"==typeof(i=e&&e.label)?i.apply(e):i)+" </label> ",((i=n.if.call(e,e&&e.summary,{hash:{},inverse:d.noop,fn:d.program(6,p,t),data:t}))||0===i)&&(a+=i),a+=" "}),r),data:r}))||0===o)&&(l+=o),l+=" </div> "}))},Tp3C:function(e,t,i){e.exports={progressContainer:"DVRManageChannelsInfo-progressContainer-1JJ2zU",scroller:"DVRManageChannelsInfo-scroller-1mBV99 Scroller-vertical-VScFLT"}},Ty6D:function(e,t,i){var n=i("3O+N");e.exports=(n.default||n).template((function(e,t,i,n,a){return this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),a=a||{},'<div class="loading loading-inline"></div> '}))},"U+t5":function(e,t,i){e.exports={completeIcon:"AiringDetailsModalContent-completeIcon-38k0QF",recordingIcon:"AiringDetailsModalContent-recordingIcon-LbdQNk",errorIcon:"AiringDetailsModalContent-errorIcon-3syeNu",separator:"AiringDetailsModalContent-separator-3OQLc5 DashSeparator-separator-4CyEFW",summary:"AiringDetailsModalContent-summary-vVorLB"}},U0CT:function(e,t,i){e.exports={header:"PrePlayDisc-header-1227p8 HubCellHeader-hubCellHeader-2pvYNF"}},U0WA:function(e,t,i){e.exports={message:"DVRSetupDeviceInfoMessage-message-2ozwdN"}},U1rH:function(e,t,i){"use strict";i.d(t,"g",(function(){return y})),i.d(t,"h",(function(){return f})),i.d(t,"e",(function(){return b})),i.d(t,"f",(function(){return I})),i.d(t,"d",(function(){return S})),i.d(t,"s",(function(){return C})),i.d(t,"n",(function(){return M})),i.d(t,"r",(function(){return D})),i.d(t,"m",(function(){return P})),i.d(t,"o",(function(){return O})),i.d(t,"q",(function(){return j})),i.d(t,"p",(function(){return w})),i.d(t,"b",(function(){return T})),i.d(t,"c",(function(){return E})),i.d(t,"i",(function(){return N})),i.d(t,"a",(function(){return x})),i.d(t,"l",(function(){return A})),i.d(t,"j",(function(){return L})),i.d(t,"k",(function(){return k})),i.d(t,"y",(function(){return R})),i.d(t,"z",(function(){return z})),i.d(t,"w",(function(){return U})),i.d(t,"x",(function(){return V})),i.d(t,"L",(function(){return B})),i.d(t,"G",(function(){return F})),i.d(t,"K",(function(){return H})),i.d(t,"F",(function(){return _})),i.d(t,"H",(function(){return W})),i.d(t,"J",(function(){return Q})),i.d(t,"I",(function(){return G})),i.d(t,"u",(function(){return K})),i.d(t,"v",(function(){return Y})),i.d(t,"B",(function(){return q})),i.d(t,"t",(function(){return Z})),i.d(t,"E",(function(){return J})),i.d(t,"C",(function(){return X})),i.d(t,"D",(function(){return $})),i.d(t,"A",(function(){return ee}));var n=i("ICb1"),a=i("0jae"),s=i("+X4A"),r=i("DdRF"),o=i("IbpV"),l=i("1iMN"),c=i("P9FS"),d=i("L7Oz"),u=i("tNwU"),p=i("gnaf"),h=i("hPIe"),m=i("+Mxn"),g=i("1Lwt"),v=i("SiWM");const y="ui/player/playQueue/playNextItem",f="ui/player/playQueue/playPreviousItem",b="ui/player/playQueue/playItemByIndex",I="ui/player/playQueue/playItemByKey",S="ui/player/playQueue/playItemByID",C="ui/player/playQueue/toggleShuffle",M="ui/player/playQueue/setRepeat",D="ui/player/playQueue/toggleRepeat",P="ui/player/playQueue/setAutoPlay",O="ui/player/playQueue/showPostPlay",j="ui/player/playQueue/togglePlayerPlayQueueState",w="ui/player/playQueue/togglePlayerLyricsState",T="ui/player/playQueue/fetchPlayQueueItemLyrics",E="ui/player/playQueue/movePlayQueueItem",N="ui/player/playQueue/removePlayQueueItem",x="ui/player/playQueue/fetchPlayQueue",A="ui/player/playQueue/savePlayQueueState",L="ui/player/playQueue/removePlayQueueState",k="ui/player/playQueue/restorePlayQueue",R=Object(n.a)(y),z=Object(n.a)(f),U=Object(n.a)(b),V=Object(n.a)(I),B=(Object(n.a)(S),Object(n.a)(C)),F=Object(n.a)(M),H=Object(n.a)(D),_=Object(n.a)(P),W=Object(n.a)(O),Q=Object(n.a)(j),G=Object(n.a)(w),K=Object(n.a)(T),Y=Object(n.a)(E),q=Object(n.a)(N),Z=Object(n.a)(x),J=Object(n.a)(A),X=Object(n.a)(L),$=Object(n.a)(k),ee={[y](e,{playerType:t,isApplicationInitiated:i}){const n=Object(m.c)(e,t),a=Object(r.a)(e);Object(c.a)(n)||Object(g.a)(()=>{n.get("isPostPlayVisible")&&n.set({isPostPlayVisible:!1}),a.playNextItem(n,i)})},[f](e,{playerType:t}){const i=Object(m.c)(e,t),n=Object(r.a)(e);Object(c.a)(i)||Object(g.a)(()=>{i.set({isPostPlayVisible:!1}),i.get("positionSeconds")>u.a?(n.seek(i,0),n.play(i)):n.playPreviousItem(i)})},[b](e,{playerType:t,index:i}){const n=Object(m.c)(e,t),a=Object(r.a)(e);Object(g.a)(()=>{a.playItem(n,i)})},[I](e,{playerType:t,key:i},n){const s=Object(m.c)(e,t).get("playQueue").get("playQueueItems"),r=s.find(e=>i===e.get("metadataItem").get("key"));if(r){const e=s.indexOf(r);n(U({playerType:t,index:e}))}else a.a.warn('[Player] Unable to play unknown key "'+i+'"')},[S](e,{playerType:t,playQueueItemID:i},n){const s=Object(m.c)(e,t).get("playQueue").get("playQueueItems"),r=s.get(i);if(r){const e=s.indexOf(r);n(U({playerType:t,index:e}))}else a.a.warn('[Player] Unable to play unknown PlayQueueItemID "'+i+'"')},[C](e,t,i){const{playerType:n}=t,a=Object(m.c)(e,n),s=a.get("playQueue");Object(g.a)(()=>{const t=!s.get("playQueueShuffled");s.set("playQueueShuffled",t);const l=t?"shuffle":"unshuffle";Object(o.a)(s,{urlPath:l,type:"PUT"}).done(Object(d.a)(a,()=>{const t=Object(r.a)(e);i(J({playerType:n})),t.refreshRemotePlayQueue(a)})).fail(Object(d.a)(a,()=>{s.set("playQueueShuffled",!t)}))})},[M](e,{playerType:t,repeatAll:i,repeatOne:n},a){const s=Object(m.c)(e,t),l=s.get("playQueue"),c=Object(r.a)(e);Object(g.a)(()=>{c.setRepeat(s,{repeatAll:i||n,repeatOne:n}),Object(o.a)(l).done(Object(d.a)(s,()=>{a(J({playerType:t}))})).fail(Object(d.a)(s,()=>{l.set({repeatAll:!1,repeatOne:!1}),l.set("repeat",!1)}))})},[D](e,{playerType:t},i){const n=Object(m.c)(e,t),a=n.get("repeatAll"),s=n.get("repeatOne");i(F({playerType:t,repeatAll:!a||!s,repeatOne:a&&!s}))},[P](e,{playerType:t,autoPlay:i},n){const a=Object(m.c)(e,t);Object(r.a)(e).changeAutoPlay(a,i,n)},[O](e,{playerType:t},i){const n=Object(m.c)(e,t),a=Object(r.a)(e),s=n.get("playQueue"),o=Object(m.a)(n,s.get("currentIndex")).get("postPlay"),l=s.provider.id,c=()=>{n.set({isSettingsVisible:!1,isChaptersVisible:!1,isPostPlayLoading:!1,isPostPlayVisible:!0}),a.pause(n,!0)};n.set({isPostPlayLoading:!0}),p.k(l,p.d)?o.fetch().then(Object(d.a)(n,()=>{const e=o.findWhere({upNext:!0});e&&o.remove(e),c()}),Object(d.a)(n,c)):window.setTimeout(Object(d.a)(n,c),0)},[j](e,{playerType:t}){const i=Object(m.c)(e,t),n=i.get("isPlayQueueVisible");Object(g.a)(()=>{i.set(Object(l.a)(i,n,{isSettingsVisible:!1,isChaptersVisible:!1,isPlayQueueVisible:!n,isLyricsVisible:!1,isSubtitlesOffsetSettingsVisible:!1}))})},[w](e,{playerType:t}){const i=Object(m.c)(e,t),n=i.get("isLyricsVisible");Object(g.a)(()=>{i.set(Object(l.a)(i,n,{isSettingsVisible:!1,isChaptersVisible:!1,isPlayQueueVisible:!1,isLyricsVisible:!n,isSubtitlesOffsetSettingsVisible:!1}))})},[T](e,t,i){const{streamID:n}=t,a=Object(h.h)(e,t),s=a.get("metadataItem"),r=Object(h.t)(e,{providerEntityID:s.get("providerEntityID")});if(!r)return;const o=a.get("lyricsStreams").get(n);o.set("lyricsError",null),o.fetch({merge:!0,server:r}).fail(e=>{o.set("lyricsError",e)})},[E](e,t,i){const{playerType:n,playQueueItemEntityID:a,moveIndex:l}=t,c=Object(m.c)(e,n),u=c.get("playQueue"),p=Object(h.h)(e,{playQueueItemEntityID:a}),v=u.get("playQueueItems"),y=v.indexOf(p);if(y===l||y===l-1)return;const f=l>y?l-1:l,b=l>0?v.at(l-1).id:void 0,I=s.join(["items",p.id,"move"]),S={after:b};Object(g.a)(()=>{v.remove(p),v.add(p,{at:f}),Object(o.a)(u,{urlPath:I,params:S,type:"PUT"}).done(Object(d.a)(c,()=>{const t=Object(r.a)(e);i(J({playerType:n})),t.refreshRemotePlayQueue(c)})).fail(Object(d.a)(c,()=>{v.indexOf(p)===f&&(v.remove(p),v.add(p,{at:y}))}))})},[N](e,{playerType:t,playQueueItemEntityID:i},n){const a=Object(m.c)(e,t),l=a.get("playQueue"),c=l.get("playQueueItems"),u=Object(h.h)(e,{playQueueItemEntityID:i}),p=c.indexOf(u),v=s.join(["items",u.id]);Object(g.a)(()=>{c.remove(u),Object(o.a)(l,{urlPath:v,type:"DELETE"}).done(Object(d.a)(a,()=>{const i=Object(r.a)(e);n(J({playerType:t})),i.refreshRemotePlayQueue(a)})).fail(Object(d.a)(a,()=>{c.add(u,{at:p})}))})},[x](e,{playerType:t}){const i=Object(m.c)(e,t).get("playQueue");Object(o.a)(i)},[A](e,{playerType:t}){},[L](e){},[k](e,t,i){const{serverEntityID:n,providerEntityID:a,playQueueType:s,playQueueOffset:r,playQueueRepeat:o,playQueueID:l,next:c}=t,d={serverEntityID:n,providerEntityID:a,startOffsetMilliseconds:1e3*r,options:{type:s,playQueueRepeat:o,playQueueID:l,next:c}};i(Object(v.r)(d))}}},U47K:function(e,t,i){e.exports={primaryTitle:"PrePlayPrimaryTitle-primaryTitle-3kexTE"}},U6V7:function(e,t,i){e.exports={hub:"MetadataSpotlightHubCell-hub-1Vj94v",iconButtonPrev:"MetadataSpotlightHubCell-iconButtonPrev-3zMbs9 IconButton-button-9An-7I MetadataSpotlightHubCell-iconButton-Q7Xlq4",iconButtonNext:"MetadataSpotlightHubCell-iconButtonNext-1P0bgz IconButton-button-9An-7I MetadataSpotlightHubCell-iconButton-Q7Xlq4",cellItem:"MetadataSpotlightHubCell-cellItem-13vjSC",cellItemFade:"MetadataSpotlightHubCell-cellItemFade-LZO-q1 MetadataSpotlightHubCell-cellItem-13vjSC",dotsContainer:"MetadataSpotlightHubCell-dotsContainer-2HJJyr",iconButton:"MetadataSpotlightHubCell-iconButton-Q7Xlq4"}},UCYk:function(e,t,i){e.exports={secureIcon:"ServerConnectionStatusIcon-secureIcon-2Rpe9G",alertIcon:"ServerConnectionStatusIcon-alertIcon-Jq_NiV",warningIcon:"ServerConnectionStatusIcon-warningIcon-2xMTpf"}},UCuc:function(e,t,i){var n=i("3O+N");e.exports=(n.default||n).template((function(e,t,i,n,a){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),a=a||{};var s,r="";return r+='<button type="button" class="close-btn btn-link"><i class="glyphicon remove-2"></i></button> <span class="message">',r+=(0,this.escapeExpression)((s=i.message)||"function"==typeof(s=t&&t.message)?s.call(t,{hash:{},data:a}):s)+"</span> "}))},URCS:function(e,t,i){e.exports={sectionHeader:"FormSectionHeader-sectionHeader-3-cRhw FormLabel-label-1YNrUM"}},URkQ:function(e,t,i){e.exports={container:"LibraryFilterBuilderRow-container-2QVqaQ",rules:"LibraryFilterBuilderRow-rules-3enmeN",rule:"LibraryFilterBuilderRow-rule-2bAya1",tagsInput:"LibraryFilterBuilderRow-tagsInput-1zILxA AutosuggestTagsInput-tagsInput-6yLPXr TagsInput-tagsInput-2eRCns",textInput:"LibraryFilterBuilderRow-textInput-3yZ-zi TextInput-input-1VMuma input-input-1P2Vi4",unitTextInput:"LibraryFilterBuilderRow-unitTextInput-38LP9b UnitInput-textInput-QSuLWN TextInput-input-1VMuma input-input-1P2Vi4",selectInput:"LibraryFilterBuilderRow-selectInput-gFMEG9 SelectInput-input-x1tNmq input-input-1P2Vi4",value:"LibraryFilterBuilderRow-value-3DsOSy",buttons:"LibraryFilterBuilderRow-buttons-3m5ptU",iconButton:"LibraryFilterBuilderRow-iconButton-1L9m0F",iconButtonDisabled:"LibraryFilterBuilderRow-iconButtonDisabled-1LPODg LibraryFilterBuilderRow-iconButton-1L9m0F"}},UT02:function(e,t,i){e.exports={isPressable:"CloseableFormSection-isPressable-3BPTnc",isClosed:"CloseableFormSection-isClosed-37Gj8w CloseableFormSection-isPressable-3BPTnc",isOpen:"CloseableFormSection-isOpen-vvIoP3"}},UVxU:function(e,t,i){var n=i("3O+N");function a(e){return e&&(e.__esModule?e.default:e)}e.exports=(n.default||n).template((function(e,t,n,s,r){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),r=r||{};var o="",l=this.escapeExpression;return o+='<div class="convert-message-container row"> <div class="col-sm-3 text-center"> <p class="convert-error-icon"><i class="glyphicon circle-exclamation-mark"></i></p> </div> <div class="col-sm-8"> <h4>'+l(a(i("d8WC")).call(t,"There was a problem syncing this media.",{hash:{},data:r}))+'</h4> <h4><a class="try-again-link" href="#">'+l(a(i("d8WC")).call(t,"Try again",{hash:{},data:r}))+"</a></h4> </div> </div> "}))},UadQ:function(e,t,i){e.exports={crossFade:"CrossFadeImage-crossFade-10Sndv"}},Uazv:function(e,t,i){e.exports={item:"NestedMenuItem-item-23kmqU",icon:"NestedMenuItem-icon-wU7kAQ",menu:"NestedMenuItem-menu-OHevMF Menu-menu-3XnN6J"}},UcbN:function(e,t,i){e.exports={list:"UserList-list-1xb8US Scroller-vertical-VScFLT"}},UqSa:function(e,t,i){e.exports={prePlayContentWrapper:"PrePlayPageContent-prePlayContentWrapper-1nWdpv"}},UybS:function(e,t,i){e.exports={actions:"ChannelsGridMetadataCellButtons-actions-250KmI",button:"ChannelsGridMetadataCellButtons-button-9hRMcK",playButton:"ChannelsGridMetadataCellButtons-playButton-3vgI50 PlayButton-playButton-3WX8X- ChannelsGridMetadataCellButtons-button-9hRMcK",recordButton:"ChannelsGridMetadataCellButtons-recordButton-1bSu6m RecordButton-recordButton-1BGtat PlayButton-playButton-3WX8X- RecordIcon-recordIconContainer-1PXGA2 ChannelsGridMetadataCellButtons-button-9hRMcK"}},"V+TA":function(e,t,i){"use strict";i.d(t,"a",(function(){return n}));function n(e){var t=new Map;return(...i)=>{var n=JSON.stringify(i);if(t.has(n))return t.get(n);var a=e(...i);return t.set(n,a),a}}},"VFN/":function(e,t,i){e.exports={content:"SettingsPage-content-1vKVEr PageContent-pageContent-16mK6G"}},VGPm:function(e,t,i){e.exports={schedulePageContent:"RecordingSchedulePageContent-schedulePageContent-2kZUqv PageContent-pageContent-16mK6G",schedulePageInnerContent:"RecordingSchedulePageContent-schedulePageInnerContent-1wYEsP PageContent-innerPageContent-3ktLTA"}},VLKS:function(e,t,i){"use strict";i.r(t),t.default=function(e,t){if(!e)return"";if(/^\d+$/.test(e)){return e+(t&&t.length?t[0]:"p")}return e.toUpperCase()}},VOGa:function(e,t,i){e.exports={input:"NumberInputGroup-input-yz7KYn TextInput-input-1VMuma input-input-1P2Vi4"}},VTB1:function(e,t,i){var n=i("3O+N");e.exports=(n.default||n).template((function(e,t,n,a,s){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),s=s||{};var r,o="";return o+='<div class="loading loading-inline"></div> <p class="loading-title">'+(0,this.escapeExpression)((r=i("d8WC"),r&&(r.__esModule?r.default:r)).call(t,"Please wait a moment while Plex starts.",{hash:{},data:s}))+"</p> "}))},VUbF:function(e,t,i){e.exports={isActive:"LiveTVCurrentChannel-isActive-2DTwmD",icon:"LiveTVCurrentChannel-icon-17SlvD"}},VVyF:function(e,t,i){e.exports={modalContainer:"SubtitlesModalContent-modalContainer-3B7OAM",modalBody:"SubtitlesModalContent-modalBody-3sIFen ModalBody-modalBody--5uHSu",inputs:"SubtitlesModalContent-inputs-b332_W",languageInput:"SubtitlesModalContent-languageInput-10IPxN SelectInput-input-x1tNmq input-input-1P2Vi4",titleInput:"SubtitlesModalContent-titleInput-sGHLRX TextInput-input-1VMuma input-input-1P2Vi4",centeredContainer:"SubtitlesModalContent-centeredContainer-2fFRIV"}},Ve6J:function(e,t,i){"use strict";i.r(t),i.d(t,"startPlayback",(function(){return h})),i.d(t,"endPlayback",(function(){return m})),i.d(t,"playNextItem",(function(){return g})),i.d(t,"playPreviousItem",(function(){return v})),i.d(t,"playItem",(function(){return y})),i.d(t,"play",(function(){return f})),i.d(t,"pause",(function(){return b})),i.d(t,"seek",(function(){return I})),i.d(t,"changeVolume",(function(){return S})),i.d(t,"changeQualityIndex",(function(){return C})),i.d(t,"changeStream",(function(){return M})),i.d(t,"changeSubtitleColor",(function(){return D})),i.d(t,"changeSubtitlePosition",(function(){return P})),i.d(t,"changeSubtitleSize",(function(){return O})),i.d(t,"changeSubtitleOffset",(function(){return j})),i.d(t,"changeAutoPlay",(function(){return w})),i.d(t,"changePlaybackSpeed",(function(){return T})),i.d(t,"setRepeat",(function(){return E})),i.d(t,"refreshRemotePlayQueue",(function(){return N})),i.d(t,"refreshRemoteStreams",(function(){return x})),i.d(t,"mirrorDetails",(function(){return A}));var n=i("yO9Y"),a=i("t2mA"),s=i("ijGY"),r=i("SnPO"),o=i("+Mxn"),l=i("7/aH");let c=null;function d(e,t,i={}){const n=e.get("playQueue"),a=n.get("currentIndex"),c=n.get("playQueueSelectedItemOffset"),{isApplicationInitiated:d=!1,isRestoringPlayQueue:u=!1}=i,p=Object(o.a)(e,t);if(!p)return;const h=p.get("metadataItem"),m={isMediaLoading:!0,isBuffering:!1,isLyricsVisible:!1,positionSeconds:Math.floor(Object(l.a)(e,h)/1e3),durationSeconds:Math.floor((h.get("duration")||0)/1e3),lastSeekPositionSeconds:null,metricsAutoPlay:d,hasError:!1,errorMessage:null,errorCode:null,errorCategory:null,qualityIndex:null,adState:null,adPositionSeconds:null,adDurationSeconds:null,adDisplayIndex:null,adDisplayTotal:null,adTimeOffsetSeconds:null,bufferedRanges:[],canPlayThrough:!1,mediaWidth:null,mediaHeight:null,confirmPlayerUpsellPayload:null};u||e.get("isWatchTogether")||n.get("type")===s.b||(m.isPaused=!1),e.set(m),n.set({playQueueSelectedItemID:p.id,playQueueSelectedItemOffset:c+(t-a)}),Object(r.a)()}function u(e,t){const i=e.get("playQueue"),n=i.get("length"),a=i.get("currentIndex")+t;return i.get("repeat")?(a+n)%n:Math.min(Math.max(0,a),n-1)}function p(e,t){c&&(c=window.clearTimeout(c)),e.set({lastSeekPositionSeconds:t,nextPositionSeconds:null})}function h(e,t,i){const n=e.get("playQueue");d(e,n.get("currentIndex"),{isRestoringPlayQueue:t,isApplicationInitiated:i})}function m(e){e.restoreDefaults()}function g(e,t){d(e,u(e,1),{isApplicationInitiated:t})}function v(e){d(e,u(e,-1))}function y(e,t){d(e,t)}function f(e,t=!1){e.set({isPaused:!1}),Object(r.a)()}function b(e,t=!1){e.set({isPaused:!0}),Object(r.a)()}function I(e,t,i){i?function(e,t,i){e.set({nextPositionSeconds:t}),c&&window.clearTimeout(c),c=window.setTimeout(()=>{e.get("isOpen")&&(p(e,t),c=null)},i)}(e,t,i):p(e,t),Object(r.a)()}function S(e,t,i){i(Object(n.A)({volume:t}))}function C(e,t){e.set("qualityIndex",t)}function M(e,t,i){}function D(e,t,i){i(Object(a.m)({subtitleColor:t}))}function P(e,t,i){i(Object(a.n)({subtitlePosition:t}))}function O(e,t,i){i(Object(a.o)({subtitleSize:t}))}function j(e,t,i){}function w(e,t,i){i(Object(a.k)({autoPlay:t}))}function T(e,t){e.set("playbackSpeed",t)}function E(e,t){const i=e.get("playQueue");e.set({repeatAll:t.repeatAll,repeatOne:t.repeatOne}),i.set("repeat",t.repeatAll)}function N(e){}function x(e){}function A(e){}},VfUD:function(e,t,i){e.exports={modalScroller:"ModalContentCenter-modalScroller-3cd-bo ModalBody-modalScroller-1xOMqS ModalBody-modalBody--5uHSu",innerModalBody:"ModalContentCenter-innerModalBody-3jQ5IS ModalBody-innerModalBody-36gmbf"}},VjkR:function(e,t,i){e.exports={iconContainer:"NavBarActivityIcon-iconContainer-24xhXd",icon:"NavBarActivityIcon-icon-VJ4m73",activityIndicator:"NavBarActivityIcon-activityIndicator-3asEGT Spinner-spinner-Niere7 spin-spin-2kLwt_"}},Vk9Z:function(e,t,i){"use strict";i.d(t,"a",(function(){return n})),i.d(t,"b",(function(){return a})),i.d(t,"c",(function(){return s})),i.d(t,"d",(function(){return r})),i.d(t,"e",(function(){return o})),i.d(t,"f",(function(){return l})),i.d(t,"g",(function(){return c})),i.d(t,"h",(function(){return d})),i.d(t,"i",(function(){return u})),i.d(t,"j",(function(){return p})),i.d(t,"l",(function(){return h})),i.d(t,"k",(function(){return m})),i.d(t,"m",(function(){return g})),i.d(t,"n",(function(){return v})),i.d(t,"o",(function(){return y})),i.d(t,"p",(function(){return f})),i.d(t,"q",(function(){return b})),i.d(t,"r",(function(){return I}));const n="action",a="actions",s="content",r="continuewatching",o="grid",l="imagetranscoder",c="location",d="manage",u="match",p="metadata",h="playqueue",m="playlist",g="promoted",v="rate",y="search",f="settings",b="subscribe",I="timeline"},Vl58:function(e,t,i){e.exports={menuItemContainer:"DisclosureFilterMenuItem-menuItemContainer-umTpyG SelectedMenuItem-menuItemContainer-2hXIr-",menuLabel:"DisclosureFilterMenuItem-menuLabel-3sWTgU SelectedMenuItem-menuLabel-2fp2lo",spinner:"DisclosureFilterMenuItem-spinner-k12hYZ Spinner-spinner-Niere7 spin-spin-2kLwt_",selectedIcon:"DisclosureFilterMenuItem-selectedIcon-1HwbQK SelectedMenuItem-selectedIcon-20Yx1_",isSelected:"DisclosureFilterMenuItem-isSelected-3uWkOw"}},VpnA:function(e,t,i){e.exports={seekBarFill:"AdSeekBar-seekBarFill-1Qc6we SeekBar-seekBarFill-1Lcu0w Slider-fill-35GFqs"}},VqzW:function(e,t,i){e.exports={bar:"BarChart-bar-TGQuuG",translucentBar:"BarChart-translucentBar-g8W7OB BarChart-bar-TGQuuG",legendContainer:"BarChart-legendContainer-1LFnsF",legendLabels:"BarChart-legendLabels-10gpog",legendSummary:"BarChart-legendSummary-OWb0ex",legendLabel:"BarChart-legendLabel-2VxIT5 LegendLabel-legendLabel-2z2UeB Link-link-2n0yJn",translucentLegendLabel:"BarChart-translucentLegendLabel-25PxUk BarChart-legendLabel-2VxIT5 LegendLabel-legendLabel-2z2UeB Link-link-2n0yJn"}},Vx1m:function(e,t,i){"use strict";i.d(t,"b",(function(){return r})),i.d(t,"c",(function(){return o})),i.d(t,"d",(function(){return l})),i.d(t,"a",(function(){return c}));var n=i("gcR/"),a=i.n(n),s=(i("q1tI"),i("66GW"));const r=-1,o=-1,l=-1;function c({className:e,displayIndex:t,displayTotal:i,secondsUntilAd:n}){const r=n>0&&n<=5;return t>0&&i>0?a()("div",{className:e},void 0,1===i?Object(s.default)("Ad"):Object(s.default)("Ad {index} of {total}",{index:t,total:i})):r?a()("div",{className:e},void 0,Object(s.default)("Ad in {seconds}",{seconds:Math.round(n)})):null}},VyHN:function(e,t,i){e.exports={multiVersionBadge:"MultiVersionBadge-multiVersionBadge-3jppyB Badge-badge-3I6Kzp"}},"W+Vb":function(e,t,i){e.exports={modalBody:"ModalBody-modalBody--5uHSu",modalScroller:"ModalBody-modalScroller-1xOMqS ModalBody-modalBody--5uHSu",innerModalBody:"ModalBody-innerModalBody-36gmbf"}},"W/pu":function(e,t,i){e.exports={row:"UsersSettingsRowFriend-row-3vhOQu UsersSettingsRow-row-3XFVVH",actions:"UsersSettingsRowFriend-actions-2x39xk UsersSettingsRowActions-container-J6Ghnt"}},"W/xp":function(e,t,i){var n=i("3O+N");function a(e){return e&&(e.__esModule?e.default:e)}e.exports=(n.default||n).template((function(e,t,n,s,r){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),r=r||{};var o,l="",c=this.escapeExpression;return l+='<form class="edit-metadata-form"> <div class="row"> <div class="col-md-6"> '+c(a(i("nptq")).call(t,"lockableTagInput",{hash:{label:"Directors",name:"director",attribute:"directors",locked:(o=t&&t.locked,null==o||!1===o?o:o.director)},data:r}))+' </div> <div class="col-md-6"> '+c(a(i("nptq")).call(t,"lockableTagInput",{hash:{label:"Country",name:"country",attribute:"countries",locked:(o=t&&t.locked,null==o||!1===o?o:o.country)},data:r}))+' </div> </div> <div class="row"> <div class="col-md-12"> '+c(a(i("nptq")).call(t,"lockableTagInput",{hash:{label:"Genres",name:"genre",attribute:"genres",locked:(o=t&&t.locked,null==o||!1===o?o:o.genre)},data:r}))+' </div> </div> <div class="row"> <div class="col-md-12"> '+c(a(i("nptq")).call(t,"lockableTagInput",{hash:{label:"Writers",name:"writer",attribute:"writers",locked:(o=t&&t.locked,null==o||!1===o?o:o.writer)},data:r}))+' </div> </div> <div class="row"> <div class="col-md-12"> '+c(a(i("nptq")).call(t,"lockableTagInput",{hash:{label:"Producers",name:"producer",attribute:"producers",locked:(o=t&&t.locked,null==o||!1===o?o:o.producer)},data:r}))+' </div> </div> <div class="row"> <div class="col-md-12"> '+c(a(i("nptq")).call(t,"lockableTagInput",{hash:{label:"Collections",name:"collection",attribute:"collections",locked:(o=t&&t.locked,null==o||!1===o?o:o.collection)},data:r}))+" </div> </div> </form> "}))},W2rq:function(e,t,i){e.exports={measure:"Subtitles-measure-3cYuWS",renderer:"Subtitles-renderer-12VzSU"}},W4O6:function(e,t,i){e.exports={tooltip:"DirectoryListActions-tooltip-24n8Za Tooltip-bottomCenter-2yj43D Tooltip-tooltip-9TKmAQ Tooltip-tooltipArrow-3GUCry Tooltip-tooltipTopArrow-NjH0DX Tooltip-tooltipCenterAlignArrow-35uHtY",menu:"DirectoryListActions-menu-64VTkz Menu-menu-3XnN6J"}},W6Nc:function(e,t,i){e.exports={decoratorIconContainer:"MetadataTitleDecoratorIcon-decoratorIconContainer-3n0amT",decoratorIcon:"MetadataTitleDecoratorIcon-decoratorIcon-sjuWWk"}},WEzZ:function(e,t,i){e.exports={tertiaryTitleSpacer:"PrePlayTertiaryTitleSpacer-tertiaryTitleSpacer-3vf6d-"}},WGvO:function(e,t,i){e.exports={link:"PageHeaderBreadcrumbButton-link-30Jgzu",button:"PageHeaderBreadcrumbButton-button-ZRyx6_ DisclosureArrowButton-disclosureArrowButton-11LSbY Link-link-2n0yJn"}},WGyR:function(e,t,i){e.exports={dragSource:"ReorderSourceSidebarItem-dragSource-ZtIKSO",iconReorder:"ReorderSourceSidebarItem-iconReorder-1pLGE5"}},WQVZ:function(e,t,i){var n=i("3O+N");function a(e){return e&&(e.__esModule?e.default:e)}e.exports=(n.default||n).template((function(e,t,n,s,r){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),r=r||{};var o,l="",c=this.escapeExpression;return l+='<form class="edit-metadata-form"> <div class="row"> <div class="col-md-6"> '+c(a(i("nptq")).call(t,"lockableTextInput",{hash:{label:"Title",name:"title",value:(o=t&&t.item,null==o||!1===o?o:o.title),placeholder:(o=t&&t.placeholders,null==o||!1===o?o:o.title),locked:(o=t&&t.locked,null==o||!1===o?o:o.title)},data:r}))+' </div> <div class="col-md-6"> '+c(a(i("nptq")).call(t,"lockableTextInput",{hash:{label:"Sort Title",name:"titleSort",value:(o=t&&t.item,null==o||!1===o?o:o.titleSort),placeholder:(o=t&&t.placeholders,null==o||!1===o?o:o.titleSort),locked:(o=t&&t.locked,null==o||!1===o?o:o.titleSort)},data:r}))+' </div> </div> <div class="row"> <div class="col-md-12"> '+c(a(i("nptq")).call(t,"lockableTextInput",{hash:{label:"Summary",name:"summary",value:(o=t&&t.item,null==o||!1===o?o:o.summary),placeholder:(o=t&&t.placeholders,null==o||!1===o?o:o.summary),type:"textarea",rows:"5",locked:(o=t&&t.locked,null==o||!1===o?o:o.summary)},data:r}))+" </div> </div> </form> "}))},"WX+G":function(e,t){e.exports=function(e,t,i){return e!==t?i.fn(this):i.inverse(this)}},Wdw6:function(e,t,i){e.exports={img:"AttributionLogo-img-SU4X0b"}},WfN5:function(e,t,i){"use strict";function n(e,t,...i){if(!t)return;const n=[e];for(let e=0,t=i.length;e<t;e++){const t=i[e];t&&n.push(t)}return n.push(t),n.join("--")}i.d(t,"a",(function(){return n}))},Wi4N:function(e,t,i){e.exports={splitButton:"ActivityMenuStatusItem-splitButton-1Ov6bl MenuItem-menuItem-1s02mQ",activityTitleContainer:"ActivityMenuStatusItem-activityTitleContainer-1KXytt",activityTitle:"ActivityMenuStatusItem-activityTitle-v72dUV",activitySubtitle:"ActivityMenuStatusItem-activitySubtitle-3uOyHy"}},Wks2:function(e,t,i){var n=i("3O+N");function a(e){return e&&(e.__esModule?e.default:e)}e.exports=(n.default||n).template((function(e,t,n,s,r){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),r=r||{};var o,l="",c=this,d=this.escapeExpression;function u(e,t){return" selected"}return l+='<div class="modal-dialog"> <div class="modal-content"> <div class="modal-header"> <button type="button" class="close" data-dismiss="modal"><i class="glyphicon remove-2"></i></button> <h4 class="modal-title"> ',((o="function"==typeof(o=t&&t.iconPlexChevron)?o.apply(t):o)||0===o)&&(l+=o),l+=" "+d(a(i("d8WC")).call(t,"Plex Media Server Downloads",{hash:{},data:r}))+' </h4> </div> <div class="modal-body modal-body-scroll modal-body-with-panes"> <div class="modal-nav-pane dark-scrollbar"> <ul class="list modal-nav-list"> ',((o=n.each.call(t,t&&t.items,{hash:{},inverse:c.noop,fn:c.program(1,(function(e,t){var n,s="";return s+=' <li><a class="btn-gray show-pane-btn type-btn',((n=a(i("w+Xr")).call(e,e&&e.selectedPane,e&&e.id,{hash:{},inverse:c.noop,fn:c.program(2,u,t),data:t}))||0===n)&&(s+=n),s+='" href="#" data-pane="'+d("function"==typeof(n=e&&e.id)?n.apply(e):n)+'">'+d("function"==typeof(n=e&&e.name)?n.apply(e):n)+"</a></li> "}),r),data:r}))||0===o)&&(l+=o),l+=' </ul> </div> <div class="modal-body-pane pane-region dark-scrollbar"> </div> </div> <div class="server-download-loading loading loading-inline"></div> </div> </div> '}))},WlSR:function(e,t,i){e.exports={container:"QuickSearchInput-container-1HiCoN",focused:"QuickSearchInput-focused-3rEqJC",searchIcon:"QuickSearchInput-searchIcon-38PAh5",closeIcon:"QuickSearchInput-closeIcon-3ZiORN",searchInput:"QuickSearchInput-searchInput-3m6naA"}},WmQF:function(e,t){e.exports=function(e){return encodeURIComponent(e||"")}},WpwJ:function(e,t,i){e.exports={badge:"PrePlayInWatchlist-badge-3Rvpy4 Badge-badge-21NQRi",icon:"PrePlayInWatchlist-icon-1ZGHqm"}},Wpyo:function(e,t,i){"use strict";i.r(t);var n=i("F/us"),a=i.n(n),s=i("+X4A"),r=i("CHn6"),o=i("mOXR"),l=i("d7+L"),c=i("nvND"),d=i("Q3JP"),u=i("Pizw"),p=i("FIl5"),h=i("WfN5"),m=i("7za+"),g=i("2TYq"),v=i("9gKU");var y=r.a.extend({name:"MetaModel",context:["server","provider"],syncedAttrs:{DisplayFields:o.a.array},syncedRelations:{types:{relationClass:v.a,rootPropertyName:"Type"},fieldTypes:{relationClass:g.a,rootPropertyName:"FieldType"}}}),f=i("vjRy");const b=r.a.extend({mixins:[l.a],name:"MetadataListModel",context:["server","provider","section","metadataItem","identifier","mediaTagPrefix","mediaTagVersion","allowSync","excludeFields","excludeElements","excludeAllLeaves","includeRelated","includeCollections","includeExternalMedia","includeAdvanced","includeMeta"],responseContext:["identifier","mediaTagPrefix","mediaTagVersion","allowSync"],entityType:m.h,entityID(e=this.state){return Object(h.a)(this.entityType,e.entityKey||e.containerKey||e.key||this.cid,(this.provider||this.server).entityID())},idAttribute:"containerKey",collectionName:"metadataItems",responseType(){return Object(d.a)(this.server)},url(){const e=this.getPaginatedUrl(this.get("containerKey")||this.get("key")),t={excludeElements:this.excludeElements?this.excludeElements:void 0,excludeFields:this.excludeFields?this.excludeFields:void 0,excludeAllLeaves:this.excludeAllLeaves?1:void 0,includeRelated:this.includeRelated?1:void 0,includeCollections:this.includeCollections?1:void 0,includeExternalMedia:this.includeExternalMedia?1:void 0,includeAdvanced:this.includeAdvanced?1:void 0,includeMeta:this.includeMeta?1:void 0};return e?s.join(e,t):e},sessionAttrs:{isMetadataList:o.a.boolean,entityKey:o.a.string,containerKey:o.a.string,containerTitle:o.a.string,currentPageStart:o.a.integer,currentPageSize:o.a.integer,populatedRange:o.a.object,isPending:o.a.boolean,isPopulated:o.a.boolean,error:o.a.object},syncedAttrs:{isDirectoryList:o.a.boolean,isMetaPopulated:o.a.boolean,key:o.a.string,librarySectionID:o.a.string,totalSize:o.a.integer,viewGroup:o.a.string,title:o.a.string,thumb:o.a.string,art:o.a.string,banner:o.a.string,theme:o.a.string,allowSync:o.a.boolean},syncedRelations:{metadataItems:{relationClass:f.default,rootPropertyName:"Metadata",options:e=>({containerKey:e.containerKey||e.key}),setOptions:e=>({remove:e.remove,at:e.at})},meta:{relationClass:y,rootPropertyName:"Meta",deferred:!0}},derivedAttrs:{firstItemType(){const e=this.getCollection().first();return e?e.get("type"):this.attributes.firstItemType},firstItemSubtype(){const e=this.getCollection().first();return e?e.get("subtype"):this.attributes.firstItemSubtype},isFirstItemLibraryItem(){const e=this.getCollection().first();return e?e.get("isLibraryItem"):this.attributes.isFirstItemLibraryItem},isChannelsList(){const e=this.getCollection().first();return e?e.get("dvrChannel"):this.attributes.isChannelsList}},defaults:()=>({isMetadataList:!0,isDirectoryList:!1,populatedRange:{start:0,end:0,size:0},isPending:!0,isPopulated:!1,isMetaPopulated:!1,error:null}),initialize(e){this._totalSizeAdjustment=0,this.startPopulatedRangeMonitor(),this.on("change:key change:containerKey",this.onContainerKeyChange,this)},uninitialize(){this.off("change:key change:containerKey",this.onContainerKeyChange,this),this.stopListening()},augmentResponseText(e,t){const i=this.get("containerKey")||this.get("key"),n=/\/folder(\?|$)/.test(i);return t===c.c?Object(u.b)(e,{includeDirectories:n}):e},augmentResponse(e,t){this.responseContext.forEach(t=>{const i=e[t];void 0!==i&&this.setContext(t,i)});const i=p.a.parseArray(e.Metadata),n=p.a.parseArray(e.Directory),s=p.a.parseInteger(e.totalSize);return this.allowAllLeaves||(e.Metadata=a.a.reject(i,(function(e){const t=/\/allLeaves$/.test(e.key);return t&&(this._totalSizeAdjustment-=1),t}),this)),!i.length&&e.Directory&&(e.Metadata=n,e.isDirectoryList=!0),this.includeMeta&&(e.isMetaPopulated=!0),s&&this._totalSizeAdjustment&&(e.totalSize=s-this._totalSizeAdjustment),!e.title&&e.title1&&(e.title=e.title1),e},onContainerKeyChange(e,t){const i=this.get("metadataItems"),n=this.syncedRelations.metadataItems.options(this.attributes);a.a.each(n,(e,t)=>{i.setContext(t,e)})}});t.default=b},WqrE:function(e,t,i){e.exports={extendedTitle:"AudioStreamMenu-extendedTitle-Xhtpm4"}},WtXS:function(e,t,i){e.exports={link:"Link-link-2n0yJn",default:"Link-default-2XA2bN",primary:"Link-primary-1vcAGA",success:"Link-success-oE5mZt",danger:"Link-danger-58vt6Z",dark:"Link-dark-2Q58AO",small:"Link-small-_K-QDf",medium:"Link-medium-3gAfLz",large:"Link-large-3a4C4d",isSelected:"Link-isSelected-IRm9uM"}},"X++g":function(e,t,i){e.exports={container:"ModalError-container-2Xi_KZ",icon:"ModalError-icon-3Drvp-",message:"ModalError-message-20i4q-"}},X4XD:function(e,t,i){e.exports={actionButton:"ActionButton-actionButton-2LOxoL Button-button-3A5jB3 Link-link-2ew_DK",labeledActionButton:"ActionButton-labeledActionButton-2JSwRp ActionButton-actionButton-2LOxoL Button-button-3A5jB3 Link-link-2ew_DK",icon:"ActionButton-icon-3yhx5u",iconActionButton:"ActionButton-iconActionButton-2ry8hd ActionButton-actionButton-2LOxoL Button-button-3A5jB3 Link-link-2ew_DK",tooltip:"ActionButton-tooltip-z3GJhd Tooltip-topCenter-Hv9C9n Tooltip-tooltip-9TKmAQ Tooltip-tooltipArrow-3GUCry Tooltip-tooltipBottomArrow-34fSAD Tooltip-tooltipCenterAlignArrow-35uHtY"}},X60b:function(e,t,i){"use strict";var n=i("F/us"),a=i.n(n);t.a=function(e){return e=parseInt(e,10),a.a.isNaN(e)?"":(e<10?"0":"")+e}},X8Qt:function(e,t,i){e.exports={header:"SettingsSidebarList-header-1RCToc SidebarList-sidebarListHeader-1t0yzs"}},XBZo:function(e,t,i){var n=i("3O+N");e.exports=(n.default||n).template((function(e,t,n,a,s){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),s=s||{};var r,o="";return o+='<div class="match-empty-message">'+(0,this.escapeExpression)((r=i("d8WC"),r&&(r.__esModule?r.default:r)).call(t,"No matches found.",{hash:{},data:s}))+"</div> "}))},XHow:function(e,t,i){"use strict";var n=i("B69o"),a=i("oQeb"),s=i("Vk9Z"),r=i("o2p+");const o=n.a.extend({name:"ProviderEPGChannelCollection",context:["server","provider"],model:a.a,url(){return this.provider.get("features").get(s.p).get("settings").get(r.a).get("key")}});t.a=o},XOYs:function(e,t,i){e.exports={label:"FormLabel-label-2aLJ9b",hasError:"FormLabel-hasError-3DBzXd"}},XQST:function(e,t,i){e.exports={watchlistIcon:"EmptyDirectoryPageContent-watchlistIcon-2WvnK-"}},Xa5i:function(e,t,i){var n=i("3O+N");function a(e){return e&&(e.__esModule?e.default:e)}e.exports=(n.default||n).template((function(e,t,n,s,r){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),r=r||{};var o,l="",c=this.escapeExpression,d=this;function u(e,t){var n="";return n+=" "+c(a(i("d8WC")).call(e,"Settings",{hash:{},data:t}))+" "}function p(e,t){var n="";return n+=" "+c(a(i("d8WC")).call(e,"Sign In",{hash:{},data:t}))+" "}return l+='<div class="modal-dialog"> <div class="modal-content"> <div class="modal-header"> <button type="button" class="close" data-dismiss="modal"><i class="glyphicon remove-2"></i></button> <h4 class="modal-title"> <i class="modal-icon glyphicon circle-exclamation-mark"></i> ',((o=n.if.call(t,t&&t.hasPlexSubscription,{hash:{},inverse:d.program(3,(function(e,t){var n="";return n+=" "+c(a(i("d8WC")).call(e,"Plex Pass Required",{hash:{},data:t}))+" "}),r),fn:d.program(1,(function(e,t){var n="";return n+=" "+c(a(i("d8WC")).call(e,"Internet Required",{hash:{},data:t}))+" "}),r),data:r}))||0===o)&&(l+=o),l+=' </h4> </div> <div class="modal-body"> <p class="confirm-message"> ',((o=n.if.call(t,t&&t.hasPlexSubscription,{hash:{},inverse:d.program(7,(function(e,t){var n="";return n+=" "+c(a(i("d8WC")).call(e,"This library requires your server be signed in to a Plex Pass account.",{hash:{},data:t}))+" "}),r),fn:d.program(5,(function(e,t){var n="";return n+=" "+c(a(i("d8WC")).call(e,"This server cannot reach the Internet. Please verify connectivity and try again.",{hash:{},data:t}))+" "}),r),data:r}))||0===o)&&(l+=o),l+=' </p> </div> <div class="modal-footer"> <button type="button" class="cancel-btn btn btn-lg btn-default" data-dismiss="modal">'+c(a(i("d8WC")).call(t,"Ignore",{hash:{},data:r}))+"</button> ",((o=n.if.call(t,t&&t.hasPlexSubscription,{hash:{},inverse:d.program(11,(function(e,t){var i,a="";return a+=' <a class="confirm-btn btn btn-lg btn-primary" href="'+c("function"==typeof(i=e&&e.serverSettingsRoute)?i.apply(e):i)+'"> ',((i=n.if.call(e,e&&e.isSignedIn,{hash:{},inverse:d.program(14,p,t),fn:d.program(12,u,t),data:t}))||0===i)&&(a+=i),a+=" </a> "}),r),fn:d.program(9,(function(e,t){var n="";return n+=' <button type="button" class="confirm-btn btn btn-lg btn-primary">'+c(a(i("d8WC")).call(e,"OK",{hash:{},data:t}))+"</button> "}),r),data:r}))||0===o)&&(l+=o),l+=" </div> </div> </div> "}))},Xf7Z:function(e,t,i){e.exports={loadingMessage:"PrePlayDetailsStreamsGroup-loadingMessage-27_ndH"}},Xh8s:function(e,t,i){"use strict";var n=i("mPz0"),a=i.n(n),s=i("0jae");let r;t.a=function(e){const t={};let i;if(!e)return s.a.warn("[Parser] Empty XML source"),t;r=r||new a.a({attributePrefix:"",emptyNodeForm:{},ignoreRoot:!0});try{i=e&&r.xml2js(e)}catch(e){s.a.warn("[Parser] Unable to parse XML: "+e.message)}return i||t}},XrH1:function(e,t,i){e.exports={upsell:"ServerDashboardPageUpsell-upsell-2u8wpO",description:"ServerDashboardPageUpsell-description-2mfh7a",chartImageContainer:"ServerDashboardPageUpsell-chartImageContainer-3qDzxo",listImageContainer:"ServerDashboardPageUpsell-listImageContainer-3P6rw7",image:"ServerDashboardPageUpsell-image-3Uhv_c",button:"ServerDashboardPageUpsell-button-3G-4Xc Link-link-2ew_DK"}},Xrwt:function(e,t,i){var n=i("3O+N");function a(e){return e&&(e.__esModule?e.default:e)}e.exports=(n.default||n).template((function(e,t,n,s,r){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),r=r||{};var o,l="",c=this.escapeExpression;return l+='<div class="filter-bar"> ',((o=n.unless.call(t,t&&t.shared,{hash:{},inverse:this.noop,fn:this.program(1,(function(e,t){var n="";return n+=' <div class="filter-bar-right"> <button class="toggle-advanced-btn btn btn-sm btn-default basic-setting">'+c(a(i("d8WC")).call(e,"Show Advanced",{hash:{},data:t}))+'</button> <button class="toggle-advanced-btn btn btn-sm btn-default advanced-setting">'+c(a(i("d8WC")).call(e,"Hide Advanced",{hash:{},data:t}))+"</button> </div> "}),r),data:r}))||0===o)&&(l+=o),l+=' </div> <div class="settings-row row"> <div class="pane-region col-sm-12 col-md-12"></div> </div> '}))},"Xs/E":function(e,t,i){e.exports={help:"FormHelp-help-3VCuqa"}},XzZp:function(e,t,i){e.exports={channel:"DVRSetupDeviceChannel-channel-3Z90sR",channelIdentifier:"DVRSetupDeviceChannel-channelIdentifier-1EqGb3",signalStrength:"DVRSetupDeviceChannel-signalStrength-2Jp2fk SignalStrength-signalStrength-33wP3p"}},Xznh:function(e,t,i){var n=i("3O+N");function a(e){return e&&(e.__esModule?e.default:e)}e.exports=(n.default||n).template((function(e,t,n,s,r){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),r=r||{};var o,l="",c=this.escapeExpression,d=this;function u(e,t){var n="";return n+=' <h4 class="status-header status-header-single"> <span class="loading loading-sm"></span> '+c(a(i("d8WC")).call(e,"Disconnecting server...",{hash:{},data:t}))+" </h4> "}function p(e,t){var i;return(i=n.if.call(e,e&&e.isUnavailable,{hash:{},inverse:d.program(12,v,t),fn:d.program(7,h,t),data:t}))||0===i?i:""}function h(e,t){var s,r="";return r+=' <h4 class="status-header text-danger">'+c(a(i("d8WC")).call(e,"Not available outside your network",{hash:{},data:t}))+"</h4> ",((s=n.if.call(e,e&&e.isSignedOut,{hash:{},inverse:d.program(10,g,t),fn:d.program(8,m,t),data:t}))||0===s)&&(r+=s),r+=" "}function m(e,t){var n="";return n+=' <span class="status-description help-block">'+c(a(i("d8WC")).call(e,"First {1}sign in{2} to access your server from anywhere.",'<a class="sign-in-link" href="#">',"</a>",{hash:{},data:t}))+"</span> "}function g(e,t){var n="";return n+=' <span class="status-description help-block">'+c(a(i("d8WC")).call(e,"Enable to access your server from anywhere.",{hash:{},data:t}))+'</span> <button class="remote-access-enable-btn btn btn-sm btn-primary">'+c(a(i("d8WC")).call(e,"Enable Remote Access",{hash:{},data:t}))+"</button> "}function v(e,t){var s,r="";return r+=" ",((s=a(i("w+Xr")).call(e,null==(s=e&&e.cloudAccount)||!1===s?s:s.remoteAccessState,"unreachable",{hash:{},inverse:d.program(19,S,t),fn:d.program(13,y,t),data:t}))||0===s)&&(r+=s),r+=' <button class="remote-access-disable-btn btn btn-sm btn-default">'+c(a(i("d8WC")).call(e,"Disable Remote Access",{hash:{},data:t}))+"</button> ",((s=n.if.call(e,null==(s=e&&e.mappingModeSetting)||!1===s?s:s.value,{hash:{},inverse:d.noop,fn:d.program(21,C,t),data:t}))||0===s)&&(r+=s),r+=" "}function y(e,t){var n,s="";return s+=' <h4 class="status-header text-danger">'+c(a(i("d8WC")).call(e,"Not available outside your network",{hash:{},data:t}))+'</h4> <span class="unreachable-description status-description help-block">'+c(a(i("d8WC")).call(e,"Your server is signed in to Plex, but is not reachable from outside your network. {1}Learn more{2}",'<a href="https://support.plex.tv/articles/200289506/?utm_source=Plex%20Apps&utm_medium=Plex%20Web&utm_campaign=Plex%20Apps" target="_blank">',"</a>",{hash:{},data:t}))+"</span> ",((n=a(i("w+Xr")).call(e,null==(n=e&&e.cloudAccount)||!1===n?n:n.mappingError,"jumboframes",{hash:{},inverse:d.program(16,b,t),fn:d.program(14,f,t),data:t}))||0===n)&&(s+=n),s+=" "}function f(e,t){var n="";return n+=' <span class="jumbo-frames-description status-details help-block"> <span class="help-tip">'+c(a(i("d8WC")).call(e,"Tip:",{hash:{},data:t}))+"</span> "+c(a(i("d8WC")).call(e,'It looks like the devices between your server and the internet have "jumbo frames" enabled which can cause issues with remote access. Disable jumbo frames on at least one device and try again.',{hash:{},data:t}))+" </span> "}function b(e,t){var n;return(n=a(i("w+Xr")).call(e,null==(n=e&&e.cloudAccount)||!1===n?n:n.mappingError,"doublenat",{hash:{},inverse:d.noop,fn:d.program(17,I,t),data:t}))||0===n?n:""}function I(e,t){var n="";return n+=' <span class="double-nat-description status-details help-block"> <span class="help-tip">'+c(a(i("d8WC")).call(e,"Tip:",{hash:{},data:t}))+"</span> "+c(a(i("d8WC")).call(e,'It looks like your server may be connected to the internet through multiple routers or other network devices. Try connecting it directly to your primary device, or visit our support site for more information about troubleshooting this "Double-NAT" scenario. {1}Learn more{2}','<a href="https://support.plex.tv/articles/200931138/?utm_source=Plex%20Apps&utm_medium=Plex%20Web&utm_campaign=Plex%20Apps" target="_blank">',"</a>",{hash:{},data:t}))+" </span> "}function S(e,t){var n="";return n+=' <h4 class="status-header text-success">'+c(a(i("d8WC")).call(e,"Fully accessible outside your network",{hash:{},data:t}))+'</h4> <span class="status-description help-block"> '+c(a(i("d8WC")).call(e,"You can access this server from signed-in Plex apps or in a browser at {1}.",'<a href="https://plex.tv/web" target="_blank">https://plex.tv/web</a>',{hash:{},data:t}))+" </span> "}function C(e,t){var n="";return n+=' <p class="remote-access-disable-message help-block"> <i class="remote-access-disable-warning-icon glyphicon circle-exclamation-mark"></i> '+c(a(i("d8WC")).call(e,"You currently have Remote Access enabled through a manually-specified port. If you wish to disable Remote Access, you will need to remove your manual port forwarding from your router.",{hash:{},data:t}))+" </p> "}function M(e,t){var s,r="";return r+=' <div class="remote-access-advanced"> <div class="remote-access-mapping-container ',((s=n.unless.call(e,e&&e.forceAdvanced,{hash:{},inverse:d.noop,fn:d.program(25,D,t),data:t}))||0===s)&&(r+=s),r+='"> <hr> <i class="plex-image server server-xs server-logo"></i> <div class="remote-access-mapping"> <span class="mapping-label text-muted">'+c(a(i("d8WC")).call(e,"Private",{hash:{},data:t}))+'</span> <span class="mapping-address"> ',((s=n.if.call(e,e&&e.hasPrivateAddress,{hash:{},inverse:d.program(29,O,t),fn:d.program(27,P,t),data:t}))||0===s)&&(r+=s),r+=" </span> ",((s=n.if.call(e,e&&e.hasPublicAddress,{hash:{},inverse:d.program(33,w,t),fn:d.program(31,j,t),data:t}))||0===s)&&(r+=s),r+=' <span class="mapping-label text-muted">'+c(a(i("d8WC")).call(e,"Public",{hash:{},data:t}))+'</span> <span class="mapping-address"> ',((s=n.if.call(e,e&&e.hasPublicAddress,{hash:{},inverse:d.program(29,O,t),fn:d.program(35,T,t),data:t}))||0===s)&&(r+=s),r+=" </span> ",((s=a(i("w+Xr")).call(e,null==(s=e&&e.cloudAccount)||!1===s?s:s.remoteAccessState,"ok",{hash:{},inverse:d.program(33,w,t),fn:d.program(31,j,t),data:t}))||0===s)&&(r+=s),r+=' <span class="mapping-internet ',((s=a(i("WX+G")).call(e,null==(s=e&&e.cloudAccount)||!1===s?s:s.remoteAccessState,"ok",{hash:{},inverse:d.noop,fn:d.program(37,E,t),data:t}))||0===s)&&(r+=s),r+='"> <i class="mapping-internet-icon glyphicon globe text-muted"></i> '+c(a(i("d8WC")).call(e,"Internet",{hash:{},data:t}))+" </span> </div> </div> ",((s=n.if.call(e,e&&e.hasMappingSettings,{hash:{},inverse:d.noop,fn:d.program(39,N,t),data:t}))||0===s)&&(r+=s),r+=" </div> "}function D(e,t){return"advanced-setting"}function P(e,t){var i,n="";return n+=' <span class="mapping-value">'+c("function"==typeof(i=null==(i=e&&e.cloudAccount)||!1===i?i:i.privateAddress)?i.apply(e):i)+'</span> <span class="mapping-separator text-muted">:</span> <span class="mapping-value">'+c("function"==typeof(i=null==(i=e&&e.cloudAccount)||!1===i?i:i.privatePort)?i.apply(e):i)+"</span> "}function O(e,t){var n="";return n+=' <span class="mapping-empty-value">'+c(a(i("d8WC")).call(e,"Unknown IP",{hash:{},data:t}))+"</span> "}function j(e,t){return' <i class="mapping-icon glyphicon left-arrow text-success"></i> '}function w(e,t){return' <i class="mapping-icon glyphicon remove-2 text-danger"></i> '}function T(e,t){var i,n="";return n+=' <span class="mapping-value">'+c("function"==typeof(i=null==(i=e&&e.cloudAccount)||!1===i?i:i.publicAddress)?i.apply(e):i)+'</span> <span class="mapping-separator text-muted">:</span> <span class="mapping-value">'+c("function"==typeof(i=null==(i=e&&e.cloudAccount)||!1===i?i:i.publicPort)?i.apply(e):i)+"</span> "}function E(e,t){return"unreachable"}function N(e,t){var s,r="";return r+=' <div class="remote-access-error-container ',((s=n.unless.call(e,e&&e.forceAdvanced,{hash:{},inverse:d.noop,fn:d.program(25,D,t),data:t}))||0===s)&&(r+=s),r+='"> <div class="form-inline"> <div class="checkbox"> <label class="',((s=n.if.call(e,e&&e.isUnavailable,{hash:{},inverse:d.noop,fn:d.program(40,x,t),data:t}))||0===s)&&(r+=s),r+='"> <input type="checkbox" id="'+c("function"==typeof(s=null==(s=e&&e.mappingModeSetting)||!1===s?s:s.id)?s.apply(e):s)+'" name="'+c("function"==typeof(s=null==(s=e&&e.mappingModeSetting)||!1===s?s:s.id)?s.apply(e):s)+'" value="1" ',((s=n.if.call(e,e&&e.isUnavailable,{hash:{},inverse:d.noop,fn:d.program(40,x,t),data:t}))||0===s)&&(r+=s),r+=" ",((s=n.if.call(e,null==(s=e&&e.mappingModeSetting)||!1===s?s:s.value,{hash:{},inverse:d.noop,fn:d.program(42,A,t),data:t}))||0===s)&&(r+=s),r+="> "+c(a(i("d8WC")).call(e,"Manually specify public port",{hash:{},data:t}))+' </label> </div> <div class="form-group"> <input type="text" id="'+c("function"==typeof(s=null==(s=e&&e.mappingPortSetting)||!1===s?s:s.id)?s.apply(e):s)+'" name="'+c("function"==typeof(s=null==(s=e&&e.mappingPortSetting)||!1===s?s:s.id)?s.apply(e):s)+'" class="form-control" value="'+c("function"==typeof(s=null==(s=e&&e.mappingPortSetting)||!1===s?s:s.value)?s.apply(e):s)+'" ',((s=n.unless.call(e,e&&e.canEditPort,{hash:{},inverse:d.noop,fn:d.program(40,x,t),data:t}))||0===s)&&(r+=s),r+='> </div> <button class="retry-btn btn btn-primary btn-loading" ',((s=n.if.call(e,e&&e.isUnavailable,{hash:{},inverse:d.noop,fn:d.program(40,x,t),data:t}))||0===s)&&(r+=s),r+='> <div class="loading loading-sm"></div> <span class="btn-label">',((s=a(i("w+Xr")).call(e,null==(s=e&&e.cloudAccount)||!1===s?s:s.remoteAccessState,"unreachable",{hash:{},inverse:d.program(46,k,t),fn:d.program(44,L,t),data:t}))||0===s)&&(r+=s),r+='</span> </button> </div> <p class="help-block">'+c(a(i("d8WC")).call(e,"You may need to enable this to establish a direct connection from outside your network. You may also need to configure your router. Detailed instructions are available {1}here{2}.",'<a href="https://support.plex.tv/articles/200931138/?utm_source=Plex%20Apps&utm_medium=Plex%20Web&utm_campaign=Plex%20Apps" target="_blank">',"</a>",{hash:{},data:t}))+"</p> </div> "}function x(e,t){return"disabled"}function A(e,t){return"checked"}function L(e,t){return c(a(i("d8WC")).call(e,"Retry",{hash:{},data:t}))}function k(e,t){return c(a(i("d8WC")).call(e,"Apply",{hash:{},data:t}))}function R(e,t){return"show-warning"}function z(e,t){var i;return c("function"==typeof(i=e&&e.totalRateSettingValue)?i.apply(e):i)}function U(e,t){var n="";return n+=" "+c(a(i("nptq")).call(e,"setting",{hash:{idSuffix:"_c"},data:t}))+" "}return l+='<i class="remote-access-status-icon glyphicon globe"></i> <div class="remote-access-status-message"> ',((o=a(i("w+Xr")).call(t,null==(o=t&&t.cloudAccount)||!1===o?o:o.remoteAccessState,"connecting",{hash:{},inverse:d.program(3,(function(e,t){var n;return(n=a(i("w+Xr")).call(e,null==(n=e&&e.cloudAccount)||!1===n?n:n.remoteAccessState,"disconnecting",{hash:{},inverse:d.program(6,p,t),fn:d.program(4,u,t),data:t}))||0===n?n:""}),r),fn:d.program(1,(function(e,t){var n="";return n+=' <h4 class="status-header status-header-single"> <span class="loading loading-sm"></span> '+c(a(i("d8WC")).call(e,"Connecting server...",{hash:{},data:t}))+" </h4> "}),r),data:r}))||0===o)&&(l+=o),l+=" </div> ",((o=a(i("WX+G")).call(t,null==(o=t&&t.cloudAccount)||!1===o?o:o.remoteAccessState,"connecting",{hash:{},inverse:d.noop,fn:d.program(23,(function(e,t){var n,s="";return s+=" ",((n=a(i("WX+G")).call(e,null==(n=e&&e.cloudAccount)||!1===n?n:n.remoteAccessState,"disconnecting",{hash:{},inverse:d.noop,fn:d.program(24,M,t),data:t}))||0===n)&&(s+=n),s+=" "}),r),data:r}))||0===o)&&(l+=o),l+=" ",((o=n.if.call(t,t&&t.hasUploadLimitSettings,{hash:{},inverse:d.noop,fn:d.program(48,(function(e,t){var s,r="";return r+=' <div class="remote-access-upload-container ',((s=n.unless.call(e,e&&e.totalRateSettingValue,{hash:{},inverse:d.noop,fn:d.program(49,R,t),data:t}))||0===s)&&(r+=s),r+='"> <hr> <div class="remote-access-upload-icon-container"> <i class="remote-access-upload-icon glyphicon circle-arrow-top"></i> <i class="remote-access-upload-warning-icon glyphicon circle-exclamation-mark"></i> </div> <form id="remote-access-upload-form" class="remote-access-upload-form"> <div class="remote-access-upload-speed-header">'+c(a(i("d8WC")).call(e,"No upload speed set",{hash:{},data:t}))+'</div> <div class="form-group"> <div class="form-inline"> <div class="form-group"> '+c(a(i("d8WC")).call(e,"Internet upload speed",{hash:{},data:t}))+' <input type="text" id="'+c("function"==typeof(s=e&&e.totalRateSettingID)?s.apply(e):s)+'" name="'+c("function"==typeof(s=e&&e.totalRateSettingID)?s.apply(e):s)+'" class="remote-access-upload-speed-control form-control" value="',((s=n.if.call(e,e&&e.totalRateSettingValue,{hash:{},inverse:d.noop,fn:d.program(51,z,t),data:t}))||0===s)&&(r+=s),r+='" > '+c(a(i("d8WC")).call(e,"Mbps",{hash:{},data:t}))+' </div> <p class="help-block"> '+c(a(i("d8WC")).call(e,"You can use {1}speedtest.net{2} to determine your internet upload capacity.",'<a href="http://speedtest.net" target="_blank" rel="noopener noreferrer">',"</a>",{hash:{},data:t}))+" <br> "+c(a(i("d8WC")).call(e,"Enter an upload speed here and Plex can ensure it operates within this boundary.",{hash:{},data:t}))+" </p> </div> </div> ",((s=n.each.call(e,e&&e.uploadSettings,{hash:{},inverse:d.noop,fn:d.program(53,U,t),data:t}))||0===s)&&(r+=s),r+=' <div class="form-footer"> <button type="submit" class="submit-btn btn btn-lg btn-primary btn-loading disabled"> <div class="loading loading-sm"></div> <span class="btn-label">'+c(a(i("d8WC")).call(e,"Save Changes",{hash:{},data:t}))+'</span> </button> <span class="form-message"></span> </div> </form> </div> '}),r),data:r}))||0===o)&&(l+=o),l+=" "}))},"Y/9r":function(e,t,i){e.exports={recordButton:"RecordButton-recordButton-1BGtat PlayButton-playButton-3WX8X- RecordIcon-recordIconContainer-1PXGA2"}},Y0bH:function(e,t,i){var n=i("3O+N");function a(e){return e&&(e.__esModule?e.default:e)}e.exports=(n.default||n).template((function(e,t,n,s,r){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),r=r||{};var o,l="",c=this.escapeExpression;return l+='<button type="button" class="close-btn btn-link"><i class="glyphicon remove-2"></i></button> <span class="message">'+c(a(i("d8WC")).call(t,"A new TV tuner ({tunerMake} {tunerModel}) has been found! Plex DVR is the easiest way to record your favorite shows!",{hash:{tunerModel:t&&t.model,tunerMake:t&&t.make},data:r}))+'</span> <a class="setup-link link" href="'+c("function"==typeof(o=t&&t.dvrSettingsRoute)?o.apply(t):o)+'">'+c(a(i("d8WC")).call(t,"Learn more",{hash:{},data:r}))+"</a> "}))},Y103:function(e,t,i){e.exports={controlsHiddenLinesCount:"ServerLogPageHeader-controlsHiddenLinesCount-2RVYnd",rawButton:"ServerLogPageHeader-rawButton-b0m7AG"}},Y52O:function(e,t,i){e.exports={divider:"PrePlayDivider-divider-1qvbj9"}},Y6zh:function(e,t,i){e.exports={statusContainer:"MetadataPosterCardScanStatus-statusContainer-1t1-fw",spinnerContainer:"MetadataPosterCardScanStatus-spinnerContainer-_dUnLM",spinner:"MetadataPosterCardScanStatus-spinner-3Ztm7W Spinner-spinner-1qRM4t spin-spin-2kLwt_",trashCircle:"MetadataPosterCardScanStatus-trashCircle-1dwTLp MetadataPosterCardCircle-cardCircle-2NfIyT"}},Y7Bh:function(e,t,i){e.exports={container:"PrePlayDetailsContainer-container-1oBwsq"}},Y9Bx:function(e,t,i){e.exports={loadingItem:"MetadataTableRowLoading-loadingItem-2g4_QI",alternateLoadingItem:"MetadataTableRowLoading-alternateLoadingItem-3U7fuh MetadataTableRowLoading-loadingItem-2g4_QI"}},YFI5:function(e,t,i){e.exports={container:"SelectNavigationStep-container-17SG3E FirstRunExperienceActionsContainer-container-1Uv1FY",input:"SelectNavigationStep-input-2MiKPn CheckInput-input-1Pi_2g"}},YINS:function(e,t,i){"use strict";i.d(t,"l",(function(){return n})),i.d(t,"t",(function(){return a})),i.d(t,"hb",(function(){return s})),i.d(t,"o",(function(){return r})),i.d(t,"ab",(function(){return o})),i.d(t,"j",(function(){return l})),i.d(t,"D",(function(){return c})),i.d(t,"n",(function(){return d})),i.d(t,"M",(function(){return u})),i.d(t,"gb",(function(){return p})),i.d(t,"N",(function(){return h})),i.d(t,"S",(function(){return m})),i.d(t,"Q",(function(){return g})),i.d(t,"R",(function(){return v})),i.d(t,"O",(function(){return y})),i.d(t,"T",(function(){return f})),i.d(t,"P",(function(){return b})),i.d(t,"d",(function(){return I})),i.d(t,"c",(function(){return S})),i.d(t,"w",(function(){return C})),i.d(t,"F",(function(){return M})),i.d(t,"E",(function(){return D})),i.d(t,"V",(function(){return P})),i.d(t,"h",(function(){return O})),i.d(t,"z",(function(){return j})),i.d(t,"lb",(function(){return w})),i.d(t,"G",(function(){return T})),i.d(t,"ib",(function(){return E})),i.d(t,"kb",(function(){return N})),i.d(t,"I",(function(){return x})),i.d(t,"u",(function(){return A})),i.d(t,"fb",(function(){return L})),i.d(t,"p",(function(){return k})),i.d(t,"C",(function(){return R})),i.d(t,"U",(function(){return z})),i.d(t,"db",(function(){return U})),i.d(t,"A",(function(){return V})),i.d(t,"H",(function(){return B})),i.d(t,"b",(function(){return F})),i.d(t,"e",(function(){return H})),i.d(t,"X",(function(){return _})),i.d(t,"f",(function(){return W})),i.d(t,"Y",(function(){return Q})),i.d(t,"J",(function(){return G})),i.d(t,"m",(function(){return K})),i.d(t,"y",(function(){return Y})),i.d(t,"r",(function(){return q})),i.d(t,"a",(function(){return Z})),i.d(t,"nb",(function(){return J})),i.d(t,"k",(function(){return X})),i.d(t,"B",(function(){return $})),i.d(t,"x",(function(){return ee})),i.d(t,"i",(function(){return te})),i.d(t,"q",(function(){return ie})),i.d(t,"L",(function(){return ne})),i.d(t,"mb",(function(){return ae})),i.d(t,"Z",(function(){return se})),i.d(t,"cb",(function(){return re})),i.d(t,"eb",(function(){return oe})),i.d(t,"v",(function(){return le})),i.d(t,"K",(function(){return ce})),i.d(t,"W",(function(){return de})),i.d(t,"bb",(function(){return ue})),i.d(t,"jb",(function(){return pe})),i.d(t,"ob",(function(){return he})),i.d(t,"g",(function(){return me})),i.d(t,"s",(function(){return ge}));const n="claim",a="dismiss",s="skip",r="confirm",o="select",l="cancel",c="learn",d="complete",u="play",p="shuffle",h="playAll",m="playVersion",g="playPrimaryExtra",v="playRelatedMix",y="playArtistTV",f="queueRelatedMix",b="playNext",I="addToQueue",S="addToPlaylist",C="edit",M="markAsWatched",D="markAsUnwatched",P="refresh",O="analyze",j="fixMatch",w="unmatch",T="merge",E="splitApart",N="sync",x="optimize",A="downloadFile",L="share",k="delete",R="getInfo",z="rate",U="selectStream",V="follow",B="mute",F="addToLibrary",H="addToSaved",_="removeFromSaved",W="addToWatchlist",Q="removeFromWatchlist",G="optimizeDatabase",K="cleanBundles",Y="emptyTrash",q="deleteServer",Z="addLibrary",J="updateLibrary",X="cancelLibraryUpdate",$="forceRefreshLibrary",ee="editLibrary",te="analyzeLibrary",ie="deleteLibrary",ne="pinToNav",ae="unpinFromNav",se="reorderNav",re="selectSource",oe="selectTab",le="downloadServer",ce="optOutMetrics",de="remoteAccess",ue="selectPreferredServer",pe="subscribe",he="upsellTidal",me="agree",ge="disagree"},"YJ/b":function(e,t,i){e.exports={toolbarContainer:"measuredPageHeaderToolbar-toolbarContainer-24LrJ0 Measure-container-3yONEe",toolbar:"measuredPageHeaderToolbar-toolbar-2vtgM4"}},YRs7:function(e,t,i){var n=i("3O+N");function a(e){return e&&(e.__esModule?e.default:e)}e.exports=(n.default||n).template((function(e,t,n,s,r){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),r=r||{};var o,l="",c=this.escapeExpression,d=this;function u(e,t){return"selected"}function p(e,t){var n="";return n+=' <option value="">'+c(a(i("d8WC")).call(e,"Loading...",{hash:{},data:t}))+"</option> "}return l+='<div class="row"> <div class="col-md-6"> <div class="form-group"> <label class="control-label" for="match-search-title">'+c(a(i("d8WC")).call(t,"Title",{hash:{},data:r}))+'</label> <input type="text" id="match-search-title" name="title" class="form-control" value="'+c("function"==typeof(o=null==(o=t&&t.item)||!1===o?o:o.title)?o.apply(t):o)+'"> </div> </div> <div class="col-md-6"> <div class="form-group"> <label class="control-label" for="match-search-agent">'+c(a(i("d8WC")).call(t,"Agent",{hash:{},data:r}))+'</label> <select id="match-search-agent" name="agent"> ',((o=n.each.call(t,t&&t.agents,{hash:{},inverse:d.program(4,p,r),fn:d.program(1,(function(e,t){var i,a="";return a+=' <option value="'+c("function"==typeof(i=e&&e.value)?i.apply(e):i)+'" ',((i=n.if.call(e,e&&e.selected,{hash:{},inverse:d.noop,fn:d.program(2,u,t),data:t}))||0===i)&&(a+=i),a+=">"+c("function"==typeof(i=e&&e.label)?i.apply(e):i)+"</option> "}),r),data:r}))||0===o)&&(l+=o),l+=' </select> </div> </div> </div> <div class="row"> <div class="col-md-6"> <div class="form-group"> <label class="control-label" for="match-search-year">'+c(a(i("d8WC")).call(t,"Year",{hash:{},data:r}))+'</label> <input type="text" id="match-search-year" name="year" class="form-control" value="'+c("function"==typeof(o=null==(o=t&&t.item)||!1===o?o:o.year)?o.apply(t):o)+'"> </div> </div> <div class="col-md-6"> <div class="form-group"> <label class="control-label" for="match-search-language">'+c(a(i("d8WC")).call(t,"Language",{hash:{},data:r}))+'</label> <select id="match-search-language" name="language"> ',((o=n.each.call(t,t&&t.languages,{hash:{},inverse:d.program(4,p,r),fn:d.program(6,(function(e,t){var i,n="";return n+=' <option value="'+c("function"==typeof(i=e&&e.value)?i.apply(e):i)+'">'+c("function"==typeof(i=e&&e.label)?i.apply(e):i)+"</option> "}),r),data:r}))||0===o)&&(l+=o),l+=" </select> </div> </div> </div> "}))},YVMD:function(e,t,i){var n=i("3O+N");function a(e){return e&&(e.__esModule?e.default:e)}e.exports=(n.default||n).template((function(e,t,n,s,r){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),r=r||{};var o,l="",c=this.escapeExpression,d=this;function u(e,t,i,a){var s,r="";return r+=' <li><a href="'+c("function"==typeof(s=e&&e.url)?s.apply(e):s)+'" ',((s=n.if.call(e,a&&a.shouldUseDownload,{hash:{},inverse:d.noop,fn:d.program(7,p,t),data:t}))||0===s)&&(r+=s),r+=" ",((s=n.if.call(e,a&&a.target,{hash:{},inverse:d.noop,fn:d.programWithDepth(9,h,t,i),data:t}))||0===s)&&(r+=s),r+=' class="download-btn">'+c("function"==typeof(s=e&&e.label)?s.apply(e):s)+"</a></li> "}function p(e,t){return"download"}function h(e,t,i){var n,a="";return a+='target="'+c("function"==typeof(n=i&&i.target)?n.apply(e):n)+'"'}function m(e,t,i,a){var s,r="";return r+=' <a href="'+c("function"==typeof(s=e&&e.url)?s.apply(e):s)+'" ',((s=n.if.call(e,a&&a.shouldUseDownload,{hash:{},inverse:d.noop,fn:d.program(7,p,t),data:t}))||0===s)&&(r+=s),r+=" ",((s=n.if.call(e,a&&a.target,{hash:{},inverse:d.noop,fn:d.programWithDepth(9,h,t,i),data:t}))||0===s)&&(r+=s),r+=' class="btn btn-primary download-btn">'+c("function"==typeof(s=e&&e.label)?s.apply(e):s)+"</a> "}return l+='<div class="type-'+c("function"==typeof(o=t&&t.type)?o.apply(t):o)+" platform-logo platform-"+c("function"==typeof(o=t&&t.id)?o.apply(t):o)+'"></div> <h2><strong>'+c("function"==typeof(o=t&&t.name)?o.apply(t):o)+"</strong> "+c(a(i("d8WC")).call(t,"Download",{hash:{},data:r}))+"</h2> <h5>"+c(a(i("d8WC")).call(t,"Version",{hash:{},data:r}))+" "+c("function"==typeof(o=t&&t.version)?o.apply(t):o)+"</h5> <h5>"+c(a(i("Lw7a")).call(t,t&&t.date,{hash:{},data:r}))+'</h5> <div class="more-info"> ',((o=n.if.call(t,t&&t.requirements,{hash:{},inverse:d.noop,fn:d.program(1,(function(e,t){var n,s="";return s+="<p>"+c(a(i("d8WC")).call(e,"Requirements",{hash:{},data:t}))+": ",((n="function"==typeof(n=e&&e.requirements)?n.apply(e):n)||0===n)&&(s+=n),s+="</p>"}),r),data:r}))||0===o)&&(l+=o),l+=" ",((o=n.if.call(t,t&&t.info,{hash:{},inverse:d.noop,fn:d.program(3,(function(e,t){var i,n="";return n+="<p>",((i="function"==typeof(i=e&&e.info)?i.apply(e):i)||0===i)&&(n+=i),n+="</p>"}),r),data:r}))||0===o)&&(l+=o),l+=" </div> ",((o=n.if.call(t,t&&t.shouldUseDropup,{hash:{},inverse:d.programWithDepth(11,(function(e,t,i){var a,s="";return s+=' <div class="download-server-btn-group"> ',((a=n.each.call(e,e&&e.releases,{hash:{},inverse:d.noop,fn:d.programWithDepth(12,m,t,e,i),data:t}))||0===a)&&(s+=a),s+=" </div> "}),r,t),fn:d.programWithDepth(5,(function(e,t,s){var r,o="";return o+=' <div class="btn-group dropup download-server-btn-group"> <button type="button" class="btn btn-primary dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"> '+c(a(i("d8WC")).call(e,"Download",{hash:{},data:t}))+' <span class="caret"></span> </button> <ul class="dropdown-menu"> ',((r=n.each.call(e,e&&e.releases,{hash:{},inverse:d.noop,fn:d.programWithDepth(6,u,t,e,s),data:t}))||0===r)&&(o+=r),o+=" </ul> </div> "}),r,t),data:r}))||0===o)&&(l+=o),l+=" "}))},YWAx:function(e,t,i){var n=i("3O+N");function a(e){return e&&(e.__esModule?e.default:e)}e.exports=(n.default||n).template((function(e,t,n,s,r){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),r=r||{};var o,l="",c=this.escapeExpression;return l+='<div class="sign-in-region"></div> <form id="server-settings-form"> <div class="form-group"> <h4 class="version-header"><span class="version"></span> <span class="update-region"></span></h4> </div> ',((o=n.each.call(t,t,{hash:{},inverse:this.noop,fn:this.program(1,(function(e,t){var n="";return n+=" "+c(a(i("nptq")).call(e,"setting",{hash:{idSuffix:"_c"},data:t}))+" "}),r),data:r}))||0===o)&&(l+=o),l+=' <div class="form-footer"> <button type="submit" class="submit-btn btn btn-lg btn-primary btn-loading disabled"> <div class="loading loading-sm"></div> <span class="btn-label">'+c(a(i("d8WC")).call(t,"Save Changes",{hash:{},data:r}))+'</span> </button> <span class="form-message"></span> </div> </form> '}))},YYNq:function(e,t,i){e.exports={tertiaryTitle:"PrePlayTertiaryTitle-tertiaryTitle-1Rc92F"}},YZZ6:function(e,t,i){e.exports={episodeCount:"EPGPrePlayEpisodeCountLeftTitle-episodeCount-1Ae4n- EPGPrePlayStatusLeftTitle-duration-1W91hQ"}},Yc8G:function(e,t,i){e.exports={listModalItem:"ListModalItem-listModalItem-3SDr-X"}},YeIk:function(e,t,i){e.exports={refreshingSpinner:"ProgramGuideActivityStatus-refreshingSpinner-30DBlM"}},Ygol:function(e,t,i){e.exports={listItem:"HomeHubListItem-listItem-3aSc2w",label:"HomeHubListItem-label-1g_Fbz",title:"HomeHubListItem-title-3xEA84",isRemoved:"HomeHubListItem-isRemoved-HpH7U3",iconReorder:"HomeHubListItem-iconReorder-1GrJsE",toggleButton:"HomeHubListItem-toggleButton-2C4qs1 AddOrRemoveButton-button-3FgmE7 IconButton-button-9An-7I"}},YhBC:function(e,t,i){e.exports={popularTracksHubCell:"PrePlayPopularTracks-popularTracksHubCell-Q0N9bz HubCell-hubCell-3Ys175"}},YhIo:function(e,t,i){e.exports={slideContainer:"SlideImg-slideContainer-2XcH9x",statusContainer:"SlideImg-statusContainer-2GP9ql fadeIn-fadeIn-3S08eh"}},Ynln:function(e,t,i){var n=i("3O+N");function a(e){return e&&(e.__esModule?e.default:e)}e.exports=(n.default||n).template((function(e,t,n,s,r){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),r=r||{};var o,l="",c=this.escapeExpression;return l+='<a href="#" class="check-for-updates-btn label label-btn label-primary ',((o=n.unless.call(t,t&&t.canCheckForUpdate,{hash:{},inverse:this.noop,fn:this.program(1,(function(e,t){return"active"}),r),data:r}))||0===o)&&(l+=o),l+='"> <i class="label-icon glyphicon upload"></i> '+c(a(i("d8WC")).call(t,"Check for Updates",{hash:{},data:r}))+' </a> <a href="#" class="checking-for-updates-btn label label-btn label-primary active"> <i class="label-icon glyphicon upload"></i> '+c(a(i("d8WC")).call(t,"Checking for Updates",{hash:{},data:r}))+' </a> <a href="#" class="available-updates-btn label label-btn label-primary"> <i class="label-icon glyphicon download"></i> '+c(a(i("d8WC")).call(t,"Download Updates",{hash:{},data:r}))+' </a> <span class="downloading-updates-container label label-btn label-progress active"> <i class="label-icon glyphicon download"></i> '+c(a(i("d8WC")).call(t,"Downloading Update",{hash:{},data:r}))+' <span class="downloading-progress-container hidden">(<span class="downloading-progress-label"></span>%)</span ></span> <a href="#" class="install-updates-btn label label-btn label-primary"> <i class="label-icon glyphicon download"></i> '+c(a(i("d8WC")).call(t,"Install Update",{hash:{},data:r}))+' </a> <a href="#" class="installing-updates-btn label label-btn label-primary active"> <i class="label-icon glyphicon upload"></i> '+c(a(i("d8WC")).call(t,"Installing",{hash:{},data:r}))+' </a> <span class="install-info-label up-to-date-label"> <i class="success-icon glyphicon ok-2"></i> '+c(a(i("d8WC")).call(t,"Up to date",{hash:{},data:r}))+' </span> <span class="install-info-label install-error-label"> <i class="failure-icon glyphicon circle-exclamation-mark"></i> <span class="update-error-message"></span> <a class="install-manual-link" href="https://plex.tv/downloads" target="_blank">'+c(a(i("d8WC")).call(t,"Please install manually.",{hash:{},data:r}))+'</a> </span> <a href="#" class="release-notes-btn label label-btn label-default"> <i class="label-icon glyphicon circle-info"></i> '+c(a(i("d8WC")).call(t,"What's New",{hash:{},data:r}))+" </a> "}))},YoL5:function(e,t,i){e.exports={container:"PlaylistList-container-2136l_",scroller:"PlaylistList-scroller-3AXYYS VirtualListScroller-scroller-QdPYA9 Scroller-scroller-CQJq74"}},YuNx:function(e,t,i){e.exports={scroller:"Scroller-scroller-3GqQcZ",none:"Scroller-none-3GfKRp",vertical:"Scroller-vertical-VScFLT",auto:"Scroller-auto-LsWiWx",horizontal:"Scroller-horizontal-cOKsqj",omni:"Scroller-omni-2Pq3HR",compactScroller:"Scroller-compactScroller-rzREb6"}},Yx3T:function(e,t,i){e.exports={button:"AddOrRemoveButton-button-3FgmE7 IconButton-button-9An-7I",icon:"AddOrRemoveButton-icon-2m9zyA",iconRemovable:"AddOrRemoveButton-iconRemovable-3pNZ1z AddOrRemoveButton-icon-2m9zyA"}},YxVA:function(e,t,i){e.exports={input:"InlineNumberInputGroup-input-uLbRbq TextInput-input-1VMuma input-input-1P2Vi4"}},Z2Ww:function(e,t,i){e.exports={header:"ShareServerLibraries-header-2FWLto",toggleButton:"ShareServerLibraries-toggleButton-34adjO Link-link-2n0yJn",toggleButtonHidden:"ShareServerLibraries-toggleButtonHidden-12kl7r ShareServerLibraries-toggleButton-34adjO Link-link-2n0yJn",libraries:"ShareServerLibraries-libraries-1v5cs1",hidden:"ShareServerLibraries-hidden-amHqw7",emptyMessage:"ShareServerLibraries-emptyMessage-2sEE--"}},ZAf3:function(e,t,i){e.exports={row:"AudioVideoSettingsRow-row-2CrSzB",cell:"AudioVideoSettingsRow-cell-24KvKF",label:"AudioVideoSettingsRow-label-2h0yy9 AudioVideoSettingsRow-cell-24KvKF",isDisabled:"AudioVideoSettingsRow-isDisabled-3laLAT"}},ZDL3:function(e,t,i){(function(n){var a,s,r,o,l,c,d,u,p;r={id:"sifter",exports:{},loaded:!1},a="function"==typeof(s=function(){var e=function(e,t){this.items=e,this.settings=t||{diacritics:!0}};e.prototype.tokenize=function(e){if(!(e=a(String(e||"").toLowerCase()))||!e.length)return[];var t,i,n,r,l=[],c=e.split(/ +/);for(t=0,i=c.length;t<i;t++){if(n=s(c[t]),this.settings.diacritics)for(r in o)o.hasOwnProperty(r)&&(n=n.replace(new RegExp(r,"g"),o[r]));l.push({string:c[t],regex:new RegExp(n,"i")})}return l},e.prototype.iterator=function(e,t){(r(e)?Array.prototype.forEach||function(e){for(var t=0,i=this.length;t<i;t++)e(this[t],t,this)}:function(e){for(var t in this)this.hasOwnProperty(t)&&e(this[t],t,this)}).apply(e,[t])},e.prototype.getScoreFunction=function(e,t){var i,n,a;e=this.prepareSearch(e,t),n=e.tokens,i=e.options.fields,a=n.length;var s,r=function(e,t){var i,n;return e?-1===(n=(e=String(e||"")).search(t.regex))?0:(i=t.string.length/e.length,0===n&&(i+=.5),i):0},o=(s=i.length)?1===s?function(e,t){return r(t[i[0]],e)}:function(e,t){for(var n=0,a=0;n<s;n++)a+=r(t[i[n]],e);return a/s}:function(){return 0};return a?1===a?function(e){return o(n[0],e)}:"and"===e.options.conjunction?function(e){for(var t,i=0,s=0;i<a;i++){if((t=o(n[i],e))<=0)return 0;s+=t}return s/a}:function(e){for(var t=0,i=0;t<a;t++)i+=o(n[t],e);return i/a}:function(){return 0}},e.prototype.getSortFunction=function(e,i){var n,a,s,r,o,l,c,d,u,p,h;if(h=!(e=(s=this).prepareSearch(e,i)).query&&i.sort_empty||i.sort,u=function(e,t){return"$score"===e?t.score:s.items[t.id][e]},o=[],h)for(n=0,a=h.length;n<a;n++)(e.query||"$score"!==h[n].field)&&o.push(h[n]);if(e.query){for(p=!0,n=0,a=o.length;n<a;n++)if("$score"===o[n].field){p=!1;break}p&&o.unshift({field:"$score",direction:"desc"})}else for(n=0,a=o.length;n<a;n++)if("$score"===o[n].field){o.splice(n,1);break}for(d=[],n=0,a=o.length;n<a;n++)d.push("desc"===o[n].direction?-1:1);return(l=o.length)?1===l?(r=o[0].field,c=d[0],function(e,i){return c*t(u(r,e),u(r,i))}):function(e,i){var n,a,s;for(n=0;n<l;n++)if(s=o[n].field,a=d[n]*t(u(s,e),u(s,i)))return a;return 0}:null},e.prototype.prepareSearch=function(e,t){if("object"==typeof e)return e;var n=(t=i({},t)).fields,a=t.sort,s=t.sort_empty;return n&&!r(n)&&(t.fields=[n]),a&&!r(a)&&(t.sort=[a]),s&&!r(s)&&(t.sort_empty=[s]),{options:t,query:String(e||"").toLowerCase(),tokens:this.tokenize(e),total:0,items:[]}},e.prototype.search=function(e,t){var i,n,a,s;return n=this.prepareSearch(e,t),t=n.options,e=n.query,s=t.score||this.getScoreFunction(n),e.length?this.iterator(this.items,(function(e,a){i=s(e),(!1===t.filter||i>0)&&n.items.push({score:i,id:a})})):this.iterator(this.items,(function(e,t){n.items.push({score:1,id:t})})),(a=this.getSortFunction(n,t))&&n.items.sort(a),n.total=n.items.length,"number"==typeof t.limit&&(n.items=n.items.slice(0,t.limit)),n};var t=function(e,t){return"number"==typeof e&&"number"==typeof t?e>t?1:e<t?-1:0:(e=l(String(e||"")))>(t=l(String(t||"")))?1:t>e?-1:0},i=function(e,t){var i,n,a,s;for(i=1,n=arguments.length;i<n;i++)if(s=arguments[i])for(a in s)s.hasOwnProperty(a)&&(e[a]=s[a]);return e},a=function(e){return(e+"").replace(/^\s+|\s+$|/g,"")},s=function(e){return(e+"").replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")},r=Array.isArray||n&&n.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},o={a:"[a]",c:"[c]",d:"[d]",e:"[e]",i:"[i]",l:"[l]",n:"[n]",o:"[o]",r:"[r]",s:"[s]",t:"[t]",u:"[u]",y:"[y]",z:"[z]"},l=function(){var e,t,i,n,a="",s={};for(i in o)if(o.hasOwnProperty(i))for(a+=n=o[i].substring(2,o[i].length-1),e=0,t=n.length;e<t;e++)s[n.charAt(e)]=i;var r=new RegExp("["+a+"]","g");return function(e){return e.replace(r,(function(e){return s[e]})).toLowerCase()}}();return e})?s.call(r.exports,i,r.exports,r):s,r.loaded=!0,void 0!==a||(a=r.exports),c={id:"microplugin",exports:{},loaded:!1},o="function"==typeof(l=function(){var e={mixin:function(e){e.plugins={},e.prototype.initializePlugins=function(e){var i,n,a,s=[];if(this.plugins={names:[],settings:{},requested:{},loaded:{}},t.isArray(e))for(i=0,n=e.length;i<n;i++)"string"==typeof e[i]?s.push(e[i]):(this.plugins.settings[e[i].name]=e[i].options,s.push(e[i].name));else if(e)for(a in e)e.hasOwnProperty(a)&&(this.plugins.settings[a]=e[a],s.push(a));for(;s.length;)this.require(s.shift())},e.prototype.loadPlugin=function(t){var i=this.plugins,n=e.plugins[t];if(!e.plugins.hasOwnProperty(t))throw new Error('Unable to find "'+t+'" plugin');i.requested[t]=!0,i.loaded[t]=n.fn.apply(this,[this.plugins.settings[t]||{}]),i.names.push(t)},e.prototype.require=function(e){var t=this.plugins;if(!this.plugins.loaded.hasOwnProperty(e)){if(t.requested[e])throw new Error('Plugin has circular dependency ("'+e+'")');this.loadPlugin(e)}return t.loaded[e]},e.define=function(t,i){e.plugins[t]={name:t,fn:i}}}},t={isArray:Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}};return e})?l.call(c.exports,i,c.exports,c):l,c.loaded=!0,void 0!==o||(o=c.exports),u=[i("EVdn"),a,o],void 0===(p="function"==typeof(d=function(e,t,i){"use strict";var n=function(e,t){if("string"!=typeof t||t.length){var i="string"==typeof t?new RegExp(t,"i"):t,n=function(e){var t=0;if(3===e.nodeType){var a=e.data.search(i);if(a>=0&&e.data.length>0){var s=e.data.match(i),r=document.createElement("span");r.className="highlight";var o=e.splitText(a),l=(o.splitText(s[0].length),o.cloneNode(!0));r.appendChild(l),o.parentNode.replaceChild(r,o),t=1}}else if(1===e.nodeType&&e.childNodes&&!/(script|style)/i.test(e.tagName))for(var c=0;c<e.childNodes.length;++c)c+=n(e.childNodes[c]);return t};return e.each((function(){n(this)}))}},a=function(){};a.prototype={on:function(e,t){this._events=this._events||{},this._events[e]=this._events[e]||[],this._events[e].push(t)},off:function(e,t){var i=arguments.length;return 0===i?delete this._events:1===i?delete this._events[e]:(this._events=this._events||{},void(e in this._events!=0&&this._events[e].splice(this._events[e].indexOf(t),1)))},trigger:function(e){if(this._events=this._events||{},e in this._events!=0)for(var t=0;t<this._events[e].length;t++)this._events[e][t].apply(this,Array.prototype.slice.call(arguments,1))}},a.mixin=function(e){for(var t=["on","off","trigger"],i=0;i<t.length;i++)e.prototype[t[i]]=a.prototype[t[i]]};var s=/Mac/.test(navigator.userAgent),r=s?91:17,o=s?18:17,l=!/android/i.test(window.navigator.userAgent)&&!!document.createElement("form").validity,c=function(e){return void 0!==e},d=function(e){return null==e?null:"boolean"==typeof e?e?"1":"0":e+""},u=function(e){return(e+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")},p=function(e){return(e+"").replace(/\$/g,"$$$$")},h=function(e){var t=!1;return function(){t||(t=!0,e.apply(this,arguments))}},m=function(e,t,i){var n,a=e.trigger,s={};for(n in e.trigger=function(){var i=arguments[0];if(-1===t.indexOf(i))return a.apply(e,arguments);s[i]=arguments},i.apply(e,[]),e.trigger=a,s)s.hasOwnProperty(n)&&a.apply(e,s[n])},g=function(e){var t={};if("selectionStart"in e)t.start=e.selectionStart,t.length=e.selectionEnd-t.start;else if(document.selection){e.focus();var i=document.selection.createRange(),n=document.selection.createRange().text.length;i.moveStart("character",-e.value.length),t.start=i.text.length-n,t.length=n}return t},v=function(i,n){var a,s,r,o;(o=i[0]).selectize=this;var l,c,d,u=window.getComputedStyle&&window.getComputedStyle(o,null);if(r=(r=u?u.getPropertyValue("direction"):o.currentStyle&&o.currentStyle.direction)||i.parents("[dir]:first").attr("dir")||"",e.extend(this,{order:0,settings:n,$input:i,tabIndex:i.attr("tabindex")||"",tagType:"select"===o.tagName.toLowerCase()?1:2,rtl:/rtl/i.test(r),eventNS:".selectize"+ ++v.count,highlightedValue:null,isOpen:!1,isDisabled:!1,isRequired:i.is("[required]"),isInvalid:!1,isLocked:!1,isFocused:!1,isInputHidden:!1,isSetup:!1,isShiftDown:!1,isCmdDown:!1,isCtrlDown:!1,ignoreFocus:!1,ignoreBlur:!1,ignoreHover:!1,hasOptions:!1,currentResults:null,lastValue:"",caretPos:0,loading:0,loadedSearches:{},$activeOption:null,$activeItems:[],optgroups:{},options:{},userOptions:{},items:[],renderCache:{},onSearchChange:null===n.loadThrottle?this.onSearchChange:(l=this.onSearchChange,c=n.loadThrottle,function(){var e=this,t=arguments;window.clearTimeout(d),d=window.setTimeout((function(){l.apply(e,t)}),c)})}),this.sifter=new t(this.options,{diacritics:n.diacritics}),this.settings.options){for(a=0,s=this.settings.options.length;a<s;a++)this.registerOption(this.settings.options[a]);delete this.settings.options}if(this.settings.optgroups){for(a=0,s=this.settings.optgroups.length;a<s;a++)this.registerOptionGroup(this.settings.optgroups[a]);delete this.settings.optgroups}this.settings.mode=this.settings.mode||(1===this.settings.maxItems?"single":"multi"),"boolean"!=typeof this.settings.hideSelected&&(this.settings.hideSelected="multi"===this.settings.mode),this.initializePlugins(this.settings.plugins),this.setupCallbacks(),this.setupTemplates(),this.setup()};return a.mixin(v),i.mixin(v),e.extend(v.prototype,{setup:function(){var t,i,n,a,c,d,u,p,h,m,v,y,f,b=this,I=b.settings,S=b.eventNS,C=e(window),M=e(document),D=b.$input;if(u=b.settings.mode,p=D.attr("class")||"",t=e("<div>").addClass(I.wrapperClass).addClass(p).addClass(u),i=e("<div>").addClass(I.inputClass).addClass("items").appendTo(t),n=e('<input type="text" autocomplete="off" />').appendTo(i).attr("tabindex",D.is(":disabled")?"-1":b.tabIndex),d=e(I.dropdownParent||t),a=e("<div>").addClass(I.dropdownClass).addClass(u).hide().appendTo(d),c=e("<div>").addClass(I.dropdownContentClass).appendTo(a),b.settings.copyClassesToDropdown&&a.addClass(p),t.css({width:D[0].style.width}),b.plugins.names.length&&(h="plugin-"+b.plugins.names.join(" plugin-"),t.addClass(h),a.addClass(h)),(null===I.maxItems||I.maxItems>1)&&1===b.tagType&&D.attr("multiple","multiple"),b.settings.placeholder&&n.attr("placeholder",I.placeholder),!b.settings.splitOn&&b.settings.delimiter){var P=b.settings.delimiter.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&");b.settings.splitOn=new RegExp("\\s*"+P+"+\\s*")}D.attr("autocorrect")&&n.attr("autocorrect",D.attr("autocorrect")),D.attr("autocapitalize")&&n.attr("autocapitalize",D.attr("autocapitalize")),b.$wrapper=t,b.$control=i,b.$control_input=n,b.$dropdown=a,b.$dropdown_content=c,a.on("mouseenter","[data-selectable]",(function(){return b.onOptionHover.apply(b,arguments)})),a.on("mousedown click","[data-selectable]",(function(){return b.onOptionSelect.apply(b,arguments)})),v="mousedown",y="*:not(input)",f=function(){return b.onItemSelect.apply(b,arguments)},(m=i).on(v,y,(function(e){for(var t=e.target;t&&t.parentNode!==m[0];)t=t.parentNode;return e.currentTarget=t,f.apply(this,[e])})),b.settings.manualInputWidth||function(t){var i=null,n=function(n,a){var s,r,o,l,c,d,u,p;a=a||{},(n=n||window.event||{}).metaKey||n.altKey||(a.force||!1!==t.data("grow"))&&(s=t.val(),n.type&&"keydown"===n.type.toLowerCase()&&(o=(r=n.keyCode)>=97&&r<=122||r>=65&&r<=90||r>=48&&r<=57||32===r,46===r||8===r?(p=g(t[0])).length?s=s.substring(0,p.start)+s.substring(p.start+p.length):8===r&&p.start?s=s.substring(0,p.start-1)+s.substring(p.start+1):46===r&&void 0!==p.start&&(s=s.substring(0,p.start)+s.substring(p.start+1)):o&&(d=n.shiftKey,u=String.fromCharCode(n.keyCode),s+=u=d?u.toUpperCase():u.toLowerCase())),l=t.attr("placeholder"),!s&&l&&(s=l),(c=function(t,i){if(!t)return 0;var n=e("<test>").css({position:"absolute",top:-99999,left:-99999,width:"auto",padding:0,whiteSpace:"pre"}).text(t).appendTo("body");!function(e,t,i){var n,a,s={};if(i)for(n=0,a=i.length;n<a;n++)s[i[n]]=e.css(i[n]);else s=e.css();t.css(s)}(i,n,["letterSpacing","fontSize","fontFamily","fontWeight","textTransform"]);var a=n.width();return n.remove(),a}(s,t)+4)!==i&&(i=c,t.width(c),t.triggerHandler("resize")))};t.on("keydown keyup update blur",n),n()}(n),i.on({mousedown:function(){return b.onMouseDown.apply(b,arguments)},click:function(){return b.onClick.apply(b,arguments)}}),n.on({mousedown:function(e){e.stopPropagation()},keydown:function(){return b.onKeyDown.apply(b,arguments)},keyup:function(){return b.onKeyUp.apply(b,arguments)},keypress:function(){return b.onKeyPress.apply(b,arguments)},resize:function(){b.positionDropdown.apply(b,[])},blur:function(){return b.onBlur.apply(b,arguments)},focus:function(){return b.ignoreBlur=!1,b.onFocus.apply(b,arguments)},paste:function(){return b.onPaste.apply(b,arguments)}}),D.parents().last().find('label[for="'+D.attr("id")+'"]').on("click",(function(){b.onClick.apply(b,arguments)})),M.on("keydown"+S,(function(e){b.isCmdDown=e[s?"metaKey":"ctrlKey"],b.isCtrlDown=e[s?"altKey":"ctrlKey"],b.isShiftDown=e.shiftKey})),M.on("keyup"+S,(function(e){e.keyCode===o&&(b.isCtrlDown=!1),16===e.keyCode&&(b.isShiftDown=!1),e.keyCode===r&&(b.isCmdDown=!1)})),M.on("mousedown"+S,(function(e){if(b.isFocused){if(e.target===b.$dropdown[0]||e.target.parentNode===b.$dropdown[0])return!1;b.$control.has(e.target).length||e.target===b.$control[0]||b.blur(e.target)}})),C.on(["scroll"+S,"resize"+S].join(" "),(function(){b.isOpen&&b.positionDropdown.apply(b,arguments)})),C.on("mousemove"+S,(function(){b.ignoreHover=!1})),this.revertSettings={$children:D.children().detach(),tabindex:D.attr("tabindex")},D.attr("tabindex",-1).hide().after(b.$wrapper),e.isArray(I.items)&&(b.setValue(I.items),delete I.items),l&&D.on("invalid"+S,(function(e){e.preventDefault(),b.isInvalid=!0,b.refreshState()})),b.updateOriginalInput(),b.refreshItems(),b.refreshState(),b.updatePlaceholder(),b.isSetup=!0,D.is(":disabled")&&b.disable(),b.on("change",this.onChange),D.data("selectize",b),D.addClass("selectized"),b.trigger("initialize"),!0===I.preload&&b.onSearchChange("")},setupTemplates:function(){var t=this.settings.labelField,i=this.settings.optgroupLabelField,n={optgroup:function(e){return'<div class="optgroup">'+e.html+"</div>"},optgroup_header:function(e,t){return'<div class="optgroup-header">'+t(e[i])+"</div>"},option:function(e,i){return'<div class="option">'+i(e[t])+"</div>"},item:function(e,i){return'<div class="item">'+i(e[t])+"</div>"},option_create:function(e,t){return'<div class="create">Add <strong>'+t(e.input)+"</strong>&hellip;</div>"}};this.settings.render=e.extend({},n,this.settings.render)},setupCallbacks:function(){var e,t,i={initialize:"onInitialize",change:"onChange",item_add:"onItemAdd",item_remove:"onItemRemove",clear:"onClear",option_add:"onOptionAdd",option_remove:"onOptionRemove",option_clear:"onOptionClear",optgroup_add:"onOptionGroupAdd",optgroup_remove:"onOptionGroupRemove",optgroup_clear:"onOptionGroupClear",dropdown_open:"onDropdownOpen",dropdown_close:"onDropdownClose",type:"onType",load:"onLoad",focus:"onFocus",blur:"onBlur"};for(e in i)i.hasOwnProperty(e)&&(t=this.settings[i[e]])&&this.on(e,t)},onClick:function(e){this.isFocused||(this.focus(),e.preventDefault())},onMouseDown:function(t){var i=this,n=t.isDefaultPrevented();if(e(t.target),i.isFocused){if(t.target!==i.$control_input[0])return"single"===i.settings.mode&&t.target!==i.$control[0]?i.isOpen?i.close():i.open():n||i.setActiveItem(null),!1}else n||window.setTimeout((function(){i.focus()}),0)},onChange:function(){this.$input.trigger("change")},onPaste:function(t){var i=this;i.isFull()||i.isInputHidden||i.isLocked?t.preventDefault():i.settings.splitOn&&setTimeout((function(){for(var t=e.trim(i.$control_input.val()||"").split(i.settings.splitOn),n=0,a=t.length;n<a;n++)i.createItem(t[n])}),0)},onKeyPress:function(e){if(this.isLocked)return e&&e.preventDefault();var t=String.fromCharCode(e.keyCode||e.which);return this.settings.create&&"multi"===this.settings.mode&&t===this.settings.delimiter?(this.createItem(),e.preventDefault(),!1):void 0},onKeyDown:function(e){if(e.target,this.$control_input[0],this.isLocked)9!==e.keyCode&&e.preventDefault();else{switch(e.keyCode){case 65:if(this.isCmdDown)return void this.selectAll();break;case 27:return void(this.isOpen&&(e.preventDefault(),e.stopPropagation(),this.close()));case 78:if(!e.ctrlKey||e.altKey)break;case 40:if(!this.isOpen&&this.hasOptions)this.open();else if(this.$activeOption){this.ignoreHover=!0;var t=this.getAdjacentOption(this.$activeOption,1);t.length&&this.setActiveOption(t,!0,!0)}return void e.preventDefault();case 80:if(!e.ctrlKey||e.altKey)break;case 38:if(this.$activeOption){this.ignoreHover=!0;var i=this.getAdjacentOption(this.$activeOption,-1);i.length&&this.setActiveOption(i,!0,!0)}return void e.preventDefault();case 13:return void(this.isOpen&&this.$activeOption&&(this.onOptionSelect({currentTarget:this.$activeOption}),e.preventDefault()));case 37:return void this.advanceSelection(-1,e);case 39:return void this.advanceSelection(1,e);case 9:return void(this.settings.selectOnTab&&this.isOpen&&this.$activeOption?(this.onOptionSelect({currentTarget:this.$activeOption}),this.settings.allowCreateEmpty&&1===this.settings.maxItems||this.isFull()||e.preventDefault()):this.settings.create&&this.createItem()&&e.preventDefault());case 8:return void this.deleteSelection(e,!0);case 46:return void this.deleteSelection(e)}!this.isFull()&&!this.isInputHidden||(s?e.metaKey:e.ctrlKey)||e.preventDefault()}},onKeyUp:function(e){if(this.isLocked)return e&&e.preventDefault();var t=this.$control_input.val()||"";this.lastValue!==t&&(this.lastValue=t,this.onSearchChange(t),this.refreshOptions(),this.trigger("type",t))},onSearchChange:function(e){var t=this,i=t.settings.load;i&&(t.loadedSearches.hasOwnProperty(e)||(t.loadedSearches[e]=!0,t.load((function(n){i.apply(t,[e,n])}))))},onFocus:function(e){var t=this.isFocused;if(this.isDisabled)return this.blur(),e&&e.preventDefault(),!1;this.ignoreFocus||(this.isFocused=!0,"focus"===this.settings.preload&&this.onSearchChange(""),t||this.trigger("focus"),this.$activeItems.length||(this.showInput(),this.setActiveItem(null),this.refreshOptions(!!this.settings.openOnFocus)),this.refreshState())},onBlur:function(e,t){var i=this;if(i.isFocused&&(i.isFocused=!1,!i.ignoreFocus))return i.ignoreBlur||document.activeElement!==i.$dropdown_content[0]?void setTimeout((function(){var e=function(){i.close(),i.setTextboxValue(""),i.setActiveItem(null),i.setActiveOption(null),i.setCaret(i.items.length),i.refreshState(),(t||document.body).focus(),i.ignoreFocus=!1,i.trigger("blur")};i.ignoreFocus=!0,i.settings.selectOnBlur&&i.$activeOption&&1===i.$activeOption.not(".create").length?(i.addItem(i.$activeOption.not(".create").data("value")),e()):i.settings.create&&i.settings.createOnBlur?i.createItem(null,!1,e):e()})):(i.ignoreBlur=!0,void i.onFocus(e))},onOptionHover:function(e){this.ignoreHover||this.setActiveOption(e.currentTarget,!1)},onOptionSelect:function(t){var i,n,a=this;t.preventDefault&&(t.preventDefault(),t.stopPropagation()),(n=e(t.currentTarget)).hasClass("create")?a.createItem(null,(function(){a.settings.closeAfterSelect&&a.close()})):void 0!==(i=n.attr("data-value"))&&(a.lastQuery=null,a.setTextboxValue(""),a.addItem(i),a.settings.closeAfterSelect?a.close():!a.settings.hideSelected&&t.type&&/mouse/.test(t.type)&&a.setActiveOption(a.getOption(i)))},onItemSelect:function(e){this.isLocked||"multi"===this.settings.mode&&(e.preventDefault(),this.setActiveItem(e.currentTarget,e))},load:function(e){var t=this,i=t.$wrapper.addClass(t.settings.loadingClass);t.loading++,e.apply(t,[function(e){t.loading=Math.max(t.loading-1,0),e&&e.length&&(t.addOption(e),t.refreshOptions(t.isFocused&&!t.isInputHidden)),t.loading||i.removeClass(t.settings.loadingClass),t.trigger("load",e)}])},setTextboxValue:function(e){var t=this.$control_input;t.val()!==e&&(t.val(e).triggerHandler("update"),this.lastValue=e)},getValue:function(){return 1===this.tagType&&this.$input.attr("multiple")?this.items:this.items.join(this.settings.delimiter)},setValue:function(e,t){m(this,t?[]:["change"],(function(){this.clear(t),this.addItems(e,t)}))},setActiveItem:function(t,i){var n,a,s,r,o,l,c,d;if("single"!==this.settings.mode){if(!(t=e(t)).length)return e(this.$activeItems).removeClass("active"),this.$activeItems=[],void(this.isFocused&&this.showInput());if("mousedown"===(n=i&&i.type.toLowerCase())&&this.isShiftDown&&this.$activeItems.length){for(d=this.$control.children(".active:last"),(r=Array.prototype.indexOf.apply(this.$control[0].childNodes,[d[0]]))>(o=Array.prototype.indexOf.apply(this.$control[0].childNodes,[t[0]]))&&(c=r,r=o,o=c),a=r;a<=o;a++)l=this.$control[0].childNodes[a],-1===this.$activeItems.indexOf(l)&&(e(l).addClass("active"),this.$activeItems.push(l));i.preventDefault()}else"mousedown"===n&&this.isCtrlDown||"keydown"===n&&this.isShiftDown?t.hasClass("active")?(s=this.$activeItems.indexOf(t[0]),this.$activeItems.splice(s,1),t.removeClass("active")):this.$activeItems.push(t.addClass("active")[0]):(e(this.$activeItems).removeClass("active"),this.$activeItems=[t.addClass("active")[0]]);this.hideInput(),this.isFocused||this.focus()}},setActiveOption:function(t,i,n){var a,s,r,o,l;this.$activeOption&&this.$activeOption.removeClass("active"),this.$activeOption=null,(t=e(t)).length&&(this.$activeOption=t.addClass("active"),!i&&c(i)||(a=this.$dropdown_content.height(),s=this.$activeOption.outerHeight(!0),i=this.$dropdown_content.scrollTop()||0,o=r=this.$activeOption.offset().top-this.$dropdown_content.offset().top+i,l=r-a+s,r+s>a+i?this.$dropdown_content.stop().animate({scrollTop:l},n?this.settings.scrollDuration:0):r<i&&this.$dropdown_content.stop().animate({scrollTop:o},n?this.settings.scrollDuration:0)))},selectAll:function(){"single"!==this.settings.mode&&(this.$activeItems=Array.prototype.slice.apply(this.$control.children(":not(input)").addClass("active")),this.$activeItems.length&&(this.hideInput(),this.close()),this.focus())},hideInput:function(){this.setTextboxValue(""),this.$control_input.css({opacity:0}),this.settings.manualInputWidth||this.$control_input.css({position:"absolute",left:this.rtl?1e4:-1e4}),this.isInputHidden=!0},showInput:function(){this.$control_input.css({opacity:1}),this.settings.manualInputWidth||this.$control_input.css({position:"relative",left:0}),this.isInputHidden=!1},focus:function(){var e=this;e.isDisabled||(e.ignoreFocus=!0,e.$control_input[0].focus(),window.setTimeout((function(){e.ignoreFocus=!1,e.onFocus()}),0))},blur:function(e){this.$control_input[0].blur(),this.onBlur(null,e)},getScoreFunction:function(e){return this.sifter.getScoreFunction(e,this.getSearchOptions())},getSearchOptions:function(){var e=this.settings,t=e.sortField;return"string"==typeof t&&(t=[{field:t}]),{fields:e.searchField,conjunction:e.searchConjunction,sort:t}},search:function(t){var i,n,a,s=this.settings,r=this.getSearchOptions();if(s.score&&"function"!=typeof(a=this.settings.score.apply(this,[t])))throw new Error('Selectize "score" setting must be a function that returns a function');if(t!==this.lastQuery?(this.lastQuery=t,n=this.sifter.search(t,e.extend(r,{score:a})),this.currentResults=n):n=e.extend(!0,{},this.currentResults),s.hideSelected)for(i=n.items.length-1;i>=0;i--)-1!==this.items.indexOf(d(n.items[i].id))&&n.items.splice(i,1);return n},refreshOptions:function(t){var i,a,s,r,o,l,c,u,p,h,m,g,v,y,f,b;void 0===t&&(t=!0);var I=this,S=e.trim(I.$control_input.val()),C=I.search(S),M=I.$dropdown_content,D=I.$activeOption&&d(I.$activeOption.attr("data-value"));for(r=C.items.length,"number"==typeof I.settings.maxOptions&&(r=Math.min(r,I.settings.maxOptions)),o={},l=[],i=0;i<r;i++)for(c=I.options[C.items[i].id],u=I.render("option",c),p=c[I.settings.optgroupField]||"",a=0,s=(h=e.isArray(p)?p:[p])&&h.length;a<s;a++)p=h[a],I.optgroups.hasOwnProperty(p)||(p=""),o.hasOwnProperty(p)||(o[p]=[],l.push(p)),o[p].push(u);for(this.settings.lockOptgroupOrder&&l.sort((function(e,t){return(I.optgroups[e].$order||0)-(I.optgroups[t].$order||0)})),m=[],i=0,r=l.length;i<r;i++)p=l[i],I.optgroups.hasOwnProperty(p)&&o[p].length?(g=I.render("optgroup_header",I.optgroups[p])||"",g+=o[p].join(""),m.push(I.render("optgroup",e.extend({},I.optgroups[p],{html:g})))):m.push(o[p].join(""));if(M.html(m.join("")),I.settings.highlight&&C.query.length&&C.tokens.length)for(i=0,r=C.tokens.length;i<r;i++)n(M,C.tokens[i].regex);if(!I.settings.hideSelected)for(i=0,r=I.items.length;i<r;i++)I.getOption(I.items[i]).addClass("selected");(v=I.canCreate(S))&&(M.prepend(I.render("option_create",{input:S})),b=e(M[0].childNodes[0])),I.hasOptions=C.items.length>0||v,I.hasOptions?(C.items.length>0?((f=D&&I.getOption(D))&&f.length?y=f:"single"===I.settings.mode&&I.items.length&&(y=I.getOption(I.items[0])),y&&y.length||(y=b&&!I.settings.addPrecedence?I.getAdjacentOption(b,1):M.find("[data-selectable]:first"))):y=b,I.setActiveOption(y),t&&!I.isOpen&&I.open()):(I.setActiveOption(null),t&&I.isOpen&&I.close())},addOption:function(t){var i,n,a;if(e.isArray(t))for(i=0,n=t.length;i<n;i++)this.addOption(t[i]);else(a=this.registerOption(t))&&(this.userOptions[a]=!0,this.lastQuery=null,this.trigger("option_add",a,t))},registerOption:function(e){var t=d(e[this.settings.valueField]);return!(!t||this.options.hasOwnProperty(t))&&(e.$order=e.$order||++this.order,this.options[t]=e,t)},registerOptionGroup:function(e){var t=d(e[this.settings.optgroupValueField]);return!!t&&(e.$order=e.$order||++this.order,this.optgroups[t]=e,t)},addOptionGroup:function(e,t){t[this.settings.optgroupValueField]=e,(e=this.registerOptionGroup(t))&&this.trigger("optgroup_add",e,t)},removeOptionGroup:function(e){this.optgroups.hasOwnProperty(e)&&(delete this.optgroups[e],this.renderCache={},this.trigger("optgroup_remove",e))},clearOptionGroups:function(){this.optgroups={},this.renderCache={},this.trigger("optgroup_clear")},updateOption:function(t,i){var n,a,s,r,o,l,c;if(t=d(t),s=d(i[this.settings.valueField]),null!==t&&this.options.hasOwnProperty(t)){if("string"!=typeof s)throw new Error("Value must be set in option data");c=this.options[t].$order,s!==t&&(delete this.options[t],-1!==(r=this.items.indexOf(t))&&this.items.splice(r,1,s)),i.$order=i.$order||c,this.options[s]=i,o=this.renderCache.item,l=this.renderCache.option,o&&(delete o[t],delete o[s]),l&&(delete l[t],delete l[s]),-1!==this.items.indexOf(s)&&(n=this.getItem(t),a=e(this.render("item",i)),n.hasClass("active")&&a.addClass("active"),n.replaceWith(a)),this.lastQuery=null,this.isOpen&&this.refreshOptions(!1)}},removeOption:function(e,t){e=d(e);var i=this.renderCache.item,n=this.renderCache.option;i&&delete i[e],n&&delete n[e],delete this.userOptions[e],delete this.options[e],this.lastQuery=null,this.trigger("option_remove",e),this.removeItem(e,t)},clearOptions:function(){this.loadedSearches={},this.userOptions={},this.renderCache={},this.options=this.sifter.items={},this.lastQuery=null,this.trigger("option_clear"),this.clear()},getOption:function(e){return this.getElementWithValue(e,this.$dropdown_content.find("[data-selectable]"))},getAdjacentOption:function(t,i){var n=this.$dropdown.find("[data-selectable]"),a=n.index(t)+i;return a>=0&&a<n.length?n.eq(a):e()},getElementWithValue:function(t,i){if(null!=(t=d(t)))for(var n=0,a=i.length;n<a;n++)if(i[n].getAttribute("data-value")===t)return e(i[n]);return e()},getItem:function(e){return this.getElementWithValue(e,this.$control.children())},addItems:function(t,i){for(var n=e.isArray(t)?t:[t],a=0,s=n.length;a<s;a++)this.isPending=a<s-1,this.addItem(n[a],i)},addItem:function(t,i){m(this,i?[]:["change"],(function(){var n,a,s,r,o,l=this.settings.mode;t=d(t),-1===this.items.indexOf(t)?this.options.hasOwnProperty(t)&&("single"===l&&this.clear(i),"multi"===l&&this.isFull()||(n=e(this.render("item",this.options[t])),o=this.isFull(),this.items.splice(this.caretPos,0,t),this.insertAtCaret(n),(!this.isPending||!o&&this.isFull())&&this.refreshState(),this.isSetup&&(s=this.$dropdown_content.find("[data-selectable]"),this.isPending||(a=this.getOption(t),r=this.getAdjacentOption(a,1).attr("data-value"),this.refreshOptions(this.isFocused&&"single"!==l),r&&this.setActiveOption(this.getOption(r))),!s.length||this.isFull()?this.close():this.positionDropdown(),this.updatePlaceholder(),this.trigger("item_add",t,n),this.updateOriginalInput({silent:i})))):"single"===l&&this.close()}))},removeItem:function(e,t){var i,n,a;i="object"==typeof e?e:this.getItem(e),e=d(i.attr("data-value")),-1!==(n=this.items.indexOf(e))&&(i.remove(),i.hasClass("active")&&(a=this.$activeItems.indexOf(i[0]),this.$activeItems.splice(a,1)),this.items.splice(n,1),this.lastQuery=null,!this.settings.persist&&this.userOptions.hasOwnProperty(e)&&this.removeOption(e,t),n<this.caretPos&&this.setCaret(this.caretPos-1),this.refreshState(),this.updatePlaceholder(),this.updateOriginalInput({silent:t}),this.positionDropdown(),this.trigger("item_remove",e,i))},createItem:function(t,i){var n=this,a=n.caretPos;t=t||e.trim(n.$control_input.val()||"");var s=arguments[arguments.length-1];if("function"!=typeof s&&(s=function(){}),"boolean"!=typeof i&&(i=!0),!n.canCreate(t))return s(),!1;n.lock();var r="function"==typeof n.settings.create?this.settings.create:function(e){var t={};return t[n.settings.labelField]=e,t[n.settings.valueField]=e,t},o=h((function(e){if(n.unlock(),!e||"object"!=typeof e)return s();var t=d(e[n.settings.valueField]);if("string"!=typeof t)return s();n.setTextboxValue(""),n.addOption(e),n.setCaret(a),n.addItem(t),n.refreshOptions(i&&"single"!==n.settings.mode),s(e)})),l=r.apply(this,[t,o]);return void 0!==l&&o(l),!0},refreshItems:function(){this.lastQuery=null,this.isSetup&&this.addItem(this.items),this.refreshState(),this.updateOriginalInput()},refreshState:function(){this.isRequired&&(this.items.length&&(this.isInvalid=!1),this.$control_input.prop("required",void 0)),this.refreshClasses()},refreshClasses:function(){var t=this.isFull(),i=this.isLocked;this.$wrapper.toggleClass("rtl",this.rtl),this.$control.toggleClass("focus",this.isFocused).toggleClass("disabled",this.isDisabled).toggleClass("required",this.isRequired).toggleClass("invalid",this.isInvalid).toggleClass("locked",i).toggleClass("full",t).toggleClass("not-full",!t).toggleClass("input-active",this.isFocused&&!this.isInputHidden).toggleClass("dropdown-active",this.isOpen).toggleClass("has-options",!e.isEmptyObject(this.options)).toggleClass("has-items",this.items.length>0),this.$control_input.data("grow",!t&&!i)},isFull:function(){return null!==this.settings.maxItems&&this.items.length>=this.settings.maxItems},updateOriginalInput:function(e){var t,i,n,a;if(e=e||{},1===this.tagType){for(n=[],t=0,i=this.items.length;t<i;t++)a=this.options[this.items[t]][this.settings.labelField]||"",n.push('<option value="'+u(this.items[t])+'" selected="selected">'+u(a)+"</option>");n.length||this.$input.attr("multiple")||n.push('<option value="" selected="selected"></option>'),this.$input.html(n.join(""))}else this.$input.val(this.getValue()),this.$input.attr("value",this.$input.val());this.isSetup&&(e.silent||this.trigger("change",this.$input.val()))},updatePlaceholder:function(){if(this.settings.placeholder){var e=this.$control_input;this.items.length?e.removeAttr("placeholder"):e.attr("placeholder",this.settings.placeholder),e.triggerHandler("update",{force:!0})}},open:function(){this.isLocked||this.isOpen||this.settings.hideDropdown||"multi"===this.settings.mode&&this.isFull()||(this.focus(),this.isOpen=!0,this.refreshState(),this.$dropdown.css({visibility:"hidden",display:"block"}),this.positionDropdown(),this.$dropdown.css({visibility:"visible"}),this.trigger("dropdown_open",this.$dropdown))},close:function(){var e=this.isOpen;"single"===this.settings.mode&&this.items.length&&this.hideInput(),this.isOpen=!1,this.$dropdown.hide(),this.setActiveOption(null),this.refreshState(),e&&this.trigger("dropdown_close",this.$dropdown)},positionDropdown:function(){var e=this.$control,t="body"===this.settings.dropdownParent?e.offset():e.position();t.top+=e.outerHeight(!0),this.$dropdown.css({width:e.outerWidth(),top:t.top,left:t.left})},clear:function(e){this.items.length&&(this.$control.children(":not(input)").remove(),this.items=[],this.lastQuery=null,this.setCaret(0),this.setActiveItem(null),this.updatePlaceholder(),this.updateOriginalInput({silent:e}),this.refreshState(),this.showInput(),this.trigger("clear"))},insertAtCaret:function(t){var i=Math.min(this.caretPos,this.items.length);0===i?this.$control.prepend(t):e(this.$control[0].childNodes[i]).before(t),this.setCaret(i+1)},deleteSelection:function(t,i){var n,a,s,r,o,l,c,d,u;if(s=i||void 0===i&&t&&8===t.keyCode?-1:1,r=g(this.$control_input[0]),this.$activeOption&&!this.settings.hideSelected&&(c=this.getAdjacentOption(this.$activeOption,-1).attr("data-value")),o=[],this.$activeItems.length){for(u=this.$control.children(".active:"+(s>0?"last":"first")),l=this.$control.children(":not(input)").index(u),s>0&&l++,n=0,a=this.$activeItems.length;n<a;n++)o.push(e(this.$activeItems[n]).attr("data-value"));t&&(t.preventDefault(),t.stopPropagation())}else(this.isFocused||"single"===this.settings.mode)&&this.items.length&&(s<0&&0===r.start&&0===r.length?o.push(this.items[this.caretPos-1]):s>0&&r.start===this.$control_input.val().length&&o.push(this.items[this.caretPos]));if(!o.length||"function"==typeof this.settings.onDelete&&!1===this.settings.onDelete.apply(this,[o]))return!1;for(void 0!==l&&this.setCaret(l);o.length;)this.removeItem(o.pop());return this.showInput(),this.positionDropdown(),this.refreshOptions(!0),c&&(d=this.getOption(c)).length&&this.setActiveOption(d),!0},advanceSelection:function(e,t){var i,n,a,s,r;0!==e&&(this.rtl&&(e*=-1),i=e>0?"last":"first",n=g(this.$control_input[0]),this.isFocused&&!this.isInputHidden?(s=this.$control_input.val().length,(e<0?0===n.start&&0===n.length:n.start===s)&&!s&&this.advanceCaret(e,t)):(r=this.$control.children(".active:"+i)).length&&(a=this.$control.children(":not(input)").index(r),this.setActiveItem(null),this.setCaret(e>0?a+1:a)))},advanceCaret:function(e,t){var i,n;0!==e&&(i=e>0?"next":"prev",this.isShiftDown?(n=this.$control_input[i]()).length&&(this.hideInput(),this.setActiveItem(n),t&&t.preventDefault()):this.setCaret(this.caretPos+e))},setCaret:function(t){var i,n,a,s;if(t="single"===this.settings.mode?this.items.length:Math.max(0,Math.min(this.items.length,t)),!this.isPending)for(i=0,n=(a=this.$control.children(":not(input)")).length;i<n;i++)s=e(a[i]).detach(),i<t?this.$control_input.before(s):this.$control.append(s);this.caretPos=t},lock:function(){this.close(),this.isLocked=!0,this.refreshState()},unlock:function(){this.isLocked=!1,this.refreshState()},disable:function(){this.$input.prop("disabled",!0),this.$control_input.prop("disabled",!0).prop("tabindex",-1),this.isDisabled=!0,this.lock()},enable:function(){this.$input.prop("disabled",!1),this.$control_input.prop("disabled",!1).prop("tabindex",this.tabIndex),this.isDisabled=!1,this.unlock()},destroy:function(){var t=this.eventNS,i=this.revertSettings;this.trigger("destroy"),this.off(),this.$wrapper.remove(),this.$dropdown.remove(),this.$input.html("").append(i.$children).removeAttr("tabindex").removeClass("selectized").attr({tabindex:i.tabindex}).show(),this.$control_input.removeData("grow"),this.$input.removeData("selectize"),e(window).off(t),e(document).off(t),e(document.body).off(t),delete this.$input[0].selectize},render:function(e,t){var i,n,a="",s=!1,r=/^[\t \r\n]*<([a-z][a-z0-9\-_]*(?:\:[a-z][a-z0-9\-_]*)?)/i;return"option"!==e&&"item"!==e||(s=!!(i=d(t[this.settings.valueField]))),s&&(c(this.renderCache[e])||(this.renderCache[e]={}),this.renderCache[e].hasOwnProperty(i))?this.renderCache[e][i]:(a=this.settings.render[e].apply(this,[t,u]),"option"!==e&&"option_create"!==e||(a=a.replace(r,"<$1 data-selectable")),"optgroup"===e&&(n=t[this.settings.optgroupValueField]||"",a=a.replace(r,'<$1 data-group="'+p(u(n))+'"')),"option"!==e&&"item"!==e||(a=a.replace(r,'<$1 data-value="'+p(u(i||""))+'"')),s&&(this.renderCache[e][i]=a),a)},clearCache:function(e){void 0===e?this.renderCache={}:delete this.renderCache[e]},canCreate:function(e){if(!this.settings.create)return!1;var t=this.settings.createFilter;return(e.length||this.settings.allowCreateEmpty)&&("function"!=typeof t||t.apply(this,[e]))&&("string"!=typeof t||new RegExp(t).test(e))&&(!(t instanceof RegExp)||t.test(e))}}),v.count=0,v.defaults={options:[],optgroups:[],plugins:[],delimiter:",",splitOn:null,persist:!0,diacritics:!0,create:!1,createOnBlur:!1,selectOnBlur:!1,createFilter:null,highlight:!0,openOnFocus:!0,maxOptions:1e3,maxItems:null,hideSelected:null,addPrecedence:!1,selectOnTab:!1,preload:!1,allowEmptyOption:!1,allowCreateEmpty:!1,closeAfterSelect:!1,scrollDuration:60,loadThrottle:300,loadingClass:"loading",manualInputWidth:!1,dataAttr:"data-data",optgroupField:"optgroup",valueField:"value",labelField:"text",optgroupLabelField:"label",optgroupValueField:"value",lockOptgroupOrder:!1,sortField:"$order",searchField:["text"],searchConjunction:"and",mode:null,wrapperClass:"selectize-control",inputClass:"selectize-input",dropdownClass:"selectize-dropdown",dropdownContentClass:"selectize-dropdown-content",dropdownParent:null,copyClassesToDropdown:!0,render:{}},e.fn.selectize=function(t){var i=e.fn.selectize.defaults,n=e.extend({},i,t),a=n.dataAttr,s=n.labelField,r=n.valueField,o=n.optgroupField,l=n.optgroupLabelField,c=n.optgroupValueField;return this.each((function(){if(!this.selectize){var u=e(this),p=this.tagName.toLowerCase(),h=u.attr("placeholder")||u.attr("data-placeholder");h||n.allowEmptyOption||(h=u.children('option[value=""]').text());var m={placeholder:h,options:[],optgroups:[],items:[]};"select"===p?function(t,i){var u,p,h,m,g=i.options,v={},y=function(e){var t=a&&e.attr(a);return"string"==typeof t&&t.length?JSON.parse(t):null},f=function(t,a){t=e(t);var l=d(t.attr("value"));if(l||n.allowEmptyOption)if(v.hasOwnProperty(l)){if(a){var c=v[l][o];c?e.isArray(c)?c.push(a):v[l][o]=[c,a]:v[l][o]=a}}else{var u=y(t)||{};u[s]=u[s]||t.text(),u[r]=u[r]||l,u[o]=u[o]||a,v[l]=u,g.push(u),t.is(":selected")&&i.items.push(l)}},b=function(t){var n,a,s,r,o;for((s=(t=e(t)).attr("label"))&&((r=y(t)||{})[l]=s,r[c]=s,i.optgroups.push(r)),n=0,a=(o=e("option",t)).length;n<a;n++)f(o[n],s)};for(i.maxItems=t.attr("multiple")?null:1,u=0,p=(m=t.children()).length;u<p;u++)"optgroup"===(h=m[u].tagName.toLowerCase())?b(m[u]):"option"===h&&f(m[u])}(u,m):function(t,i){var o,l,c,d,u=t.attr(a);if(u)for(i.options=JSON.parse(u),o=0,l=i.options.length;o<l;o++)i.items.push(i.options[o][r]);else{var p=e.trim(t.val()||"");if(!n.allowEmptyOption&&!p.length)return;for(o=0,l=(c=p.split(n.delimiter)).length;o<l;o++)(d={})[s]=c[o],d[r]=c[o],i.options.push(d);i.items=c}}(u,m),new v(u,e.extend(!0,{},i,m,t))}}))},e.fn.selectize.defaults=v.defaults,e.fn.selectize.support={validity:l},v.define("remove_button",(function(t){if("single"!==this.settings.mode){t=e.extend({label:"&times;",title:"Remove",className:"remove",append:!0},t);var i,n=this,a='<a href="javascript:void(0)" class="'+t.className+'" tabindex="-1" title="'+u(t.title)+'">'+t.label+"</a>",s=function(e,t){var i=e.search(/(<\/[^>]+>\s*)$/);return e.substring(0,i)+t+e.substring(i)};this.setup=(i=n.setup,function(){if(t.append){var r=n.settings.render.item;n.settings.render.item=function(e){return s(r.apply(this,arguments),a)}}i.apply(this,arguments),this.$control.on("click","."+t.className,(function(t){if(t.preventDefault(),!n.isLocked){var i=e(t.currentTarget).parent();n.setActiveItem(i),n.deleteSelection()&&n.setCaret(n.items.length)}}))})}})),v.define("restore_on_backspace",(function(e){var t,i=this;e.text=e.text||function(e){return e[this.settings.labelField]},this.onKeyDown=(t=i.onKeyDown,function(i){var n,a;return 8===i.keyCode&&""===this.$control_input.val()&&!this.$activeItems.length&&(n=this.caretPos-1)>=0&&n<this.items.length?(a=this.options[this.items[n]],this.deleteSelection(i,!0)&&(this.setTextboxValue(e.text.apply(this,[a])),this.refreshOptions(!0)),void i.preventDefault()):t.apply(this,arguments)})})),v.define("restore_on_focus",(function(e){e.text=e.text||function(e){return e[this.settings.labelField]};var t=this.onFocus;this.onFocus=function(i){var n=this.caretPos-1;if(n>=0&&n<this.items.length){var a=this.options[this.items[n]],s=e.text.call(this,a);this.removeItem(a[this.settings.valueField]),this.setTextboxValue(s),this.refreshOptions(!0)}return t.apply(this,arguments)}})),v})?d.apply(t,u):d)||(e.exports=p)}).call(this,i("EVdn"))},ZGgN:function(e,t,i){"use strict";t.a=function(e,t,i){return e.reduce((e,n)=>(e[t(n)]=i(n),e),{})}},ZLEm:function(e,t){const i="id"+Date.now();let n=0;e.exports=function(e){return""+(e||i)+n++}},ZQAG:function(e,t,i){e.exports={container:"ShareRestrictionsCheckInputItem-container-1-3RL4",subtitle:"ShareRestrictionsCheckInputItem-subtitle-1-x2eT"}},ZQel:function(e,t,i){e.exports={container:"TimelinePageContent-container-2lbp-W",stack:"TimelinePageContent-stack-2iWVFV PageContent-pageContent-16mK6G",adornment:"TimelinePageContent-adornment-1VLRtf",scroller:"TimelinePageContent-scroller-3tS5Jx"}},ZTgP:function(e,t,i){"use strict";i.r(t),i.d(t,"FAIRPLAY",(function(){return s})),i.d(t,"FAIRPLAY_AUDIO",(function(){return r})),i.d(t,"FAIRPLAY_VIDEO",(function(){return o})),i.d(t,"PLAYREADY",(function(){return l})),i.d(t,"PLAYREADY_AUDIO",(function(){return c})),i.d(t,"PLAYREADY_VIDEO",(function(){return d})),i.d(t,"WIDEVINE",(function(){return u})),i.d(t,"WIDEVINE_AUDIO",(function(){return p})),i.d(t,"WIDEVINE_VIDEO",(function(){return h})),i.d(t,"NONE",(function(){return m}));var n=i("nVBp"),a=i("pXC0");const s=Object(n.a)("fairplay"),r=Object(n.a)("fairplay",a.a),o=Object(n.a)("fairplay",a.e),l=Object(n.a)("playready"),c=Object(n.a)("playready",a.a),d=Object(n.a)("playready",a.e),u=Object(n.a)("widevine"),p=Object(n.a)("widevine",a.a),h=Object(n.a)("widevine",a.e),m=Object(n.a)("none")},ZToC:function(e,t,i){"use strict";i.d(t,"a",(function(){return D}));var n=i("EVdn"),a=i.n(n),s=i("slDQ"),r=i("+X4A"),o=i("Wpyo"),l=i("tibn"),c=i("tqLa"),d=i("0jcA"),u=i("f2wi"),p=i("rXDx"),h=i("vjRy"),m=i("rHf3");let g=0;var v=function(e){g+=1;const t=g.toString(),i=Object.assign({},e.attributes,{playQueueItemID:t}),n=new m.a(i,{server:e.server,provider:e.provider,parent:e.parent,parse:!0});return n.set("isLocal",!0),n};function y(e,t,i={}){const n=t.get("type"),s=p.u(n),o=p.t(n);if(!s)return a.a.Deferred().reject().promise();if(s.id===o.id){const s=e.get("playQueueItems"),r=t.get("containerKey");if(r&&!s.length&&!i.skipSiblings&&(n===p.p||n===p.f||n===p.k)){const e=new h.default([],{server:t.server,provider:t.provider});return e.fetch({url:r}).then(()=>{const t=e.models.map(v);return a.a.Deferred().resolve(t).promise()})}return a.a.Deferred().resolve([v(t)]).promise()}if(p.s(n).id===o.id){const e=r.join([t.get("key"),"children"]),i=new h.default([],{server:t.server,provider:t.provider});return i.fetch({url:e}).then(()=>{const e=i.models.map(v);return a.a.Deferred().resolve(e).promise()})}return a.a.Deferred().reject().promise()}function f(e,t,i){const n=t.map(t=>y(e,t,i));return a.a.when(...n).then((...t)=>{const n=[].concat(...t);return e.get("playQueueItems").add(n,i),b(e)})}function b(e,t){const i=e.get("playQueueItems");if(e.get("playQueueSelectedItemID")||!i.length)return a.a.Deferred().resolve(e).promise();if(t){const n=i.findWhere({metadataItem:t}),a=n?n.id:i.at(0).id;e.set("playQueueSelectedItemID",a)}else{const t=e.get("playQueueSelectedItemOffset"),n=i.at(t);e.set("playQueueSelectedItemID",n.id)}return a.a.Deferred().resolve(e).promise()}var I=i("IbpV");function S(e,t,i){const{path:n,model:a,attr:o="key"}=i;if(Object(s.a)(n||a,"A path or a model is required to build a source URI"),t.get("isUniversal")){const t=a&&a.get("source")||Object(d.a)(e.server.get("machineIdentifier"),e.get("identifier")),i=n||a.get(o);return r.join([t,i])}return n||c.a.uri(a)}function C(e){return e.metadataItemModel?function(e){const{playQueueModel:t,providerModel:i,playlistModel:n,metadataItemModel:s,containerKey:c,shuffle:d,playAll:h}=e,m=t.get("isUniversal"),g=s.get("type"),v=s.get("subtype"),y=g===p.o,f=g===p.n,b=g===p.f,I=g===p.k,C=g===p.d,D=g===p.p,P=!!n||s.get("isPlaylist"),O=s.get("isExtra"),j=!!s.get("radio"),w=M(e);(y||f||b||v===u.c)&&(w.continuous=1);if((y||f)&&!h&&!d){const e=!s.get("parentKey"),n=y||e?s:new l.a({key:s.get("parentKey")},{server:s.server,provider:s.providerModel});return n.fetch({merge:!0,data:{includeOnDeck:"1"}}).then(()=>{const e=n.get("onDeck"),a=e&&y,r=e&&f&&e.get("parentRatingKey")===s.get("ratingKey");if(a||r)return w.uri=S(i,t,{model:e}),w;if(f){const e=new o.default({containerKey:s.get("childrenKey")},{server:s.server,provider:s.provider,skipCache:!0});return e.fetch().then(()=>{const n=e.get("metadataItems"),a=n.findWhere(e=>!e.get("viewCount"));return w.uri=S(i,t,{model:a||n.first()}),w})}return w.uri=S(i,t,{model:s}),w})}P?n?(m&&(w.uri=S(i,t,{model:n})),w.playlistID=n.get("ratingKey"),w.key=s.get("key")):(m&&(w.uri=S(i,t,{model:s})),w.playlistID=s.get("ratingKey")):(D||I||C&&!O)&&c&&!w.continuous?(w.uri=S(i,t,{path:m?c:"library:///directory/"+encodeURIComponent(c)}),w.key=s.get("key")):w.uri=S(i,t,j&&m?{path:r.join(s.get("key"),{includeSharedContent:1})}:{model:s});return a.a.Deferred().resolve(w).promise()}(e):e.metadataItemKey?function(e){const{providerModel:t,playQueueModel:i,metadataItemKey:n}=e,s=i.get("isUniversal"),r=M(e);return r.uri=S(t,i,{path:s?n:"library:///item/"+encodeURIComponent(n)}),a.a.Deferred().resolve(r).promise()}(e):e.metadataItemModels&&e.metadataItemModels.length?function(e){const t=M(e);return t.uri=c.a.uri(null,{items:e.metadataItemModels}),a.a.Deferred().resolve(t).promise()}(e):e.metadataListModel?function(e){const{providerModel:t,playQueueModel:i,metadataListModel:n}=e,s=M(e);return s.uri=S(t,i,{model:n,attr:"containerKey"}),a.a.Deferred().resolve(s).promise()}(e):a.a.Deferred().reject().promise()}function M(e){return{type:e.playQueueModel.get("type"),shuffle:e.shuffle?1:void 0,next:e.next?1:void 0,extrasPrefixCount:e.extrasPrefixCount}}function D(e){const{playQueueModel:t}=e;if(t.get("isLocal"))return function(e){const{next:t,playQueueModel:i,metadataItemModel:n,metadataItemModels:s,metadataListModel:r,skipSiblings:o=!1}=e,l={at:t?i.get("playQueueSelectedItemOffset")+1:void 0};if(n)return y(i,n,{skipSiblings:o}).then(e=>(i.get("playQueueItems").add(e,l),b(i,n)));if(s&&s.length)return f(i,s,l);if(r){const e=r.get("metadataItems").models;return f(i,e,Object.assign({},l,{skipSiblings:!0}))}return a.a.Deferred().reject().promise()}(e).then(()=>Object(I.a)(t));const i=t.isNew()?"POST":"PUT";return C(e).then(e=>Object(I.a)(t,{params:e,type:i}).then(null,()=>a.a.Deferred().reject().promise()))}},ZZ6f:function(e,t,i){e.exports={loadingItem:"PlayHistoryTableRowLoading-loadingItem-1cA2un",alternateLoadingItem:"PlayHistoryTableRowLoading-alternateLoadingItem-2EBh1D PlayHistoryTableRowLoading-loadingItem-1cA2un"}},ZZfJ:function(e,t,i){e.exports={modalHeader:"NowPlayingErrorModal-modalHeader-289q56 ModalHeader-modalHeader-1Kf9RW"}},Zev7:function(e,t,i){e.exports={label:"InlineInputGroupFormLabel-label-3jkhB9 FormLabel-label-2aLJ9b"}},Zf8S:function(e,t,i){var n=i("3O+N");function a(e){return e&&(e.__esModule?e.default:e)}e.exports=(n.default||n).template((function(e,t,n,s,r){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),r=r||{};var o="",l=this.escapeExpression;return o+='<div class="media-poster"></div> <p class="title"></p> <p class="complete-subtitle subtitle hidden"> <i class="glyphicon ok-2"></i> '+l(a(i("d8WC")).call(t,"Synced",{hash:{},data:r}))+' </p> <p class="waiting-subtitle subtitle hidden"> <i class="glyphicon circle-arrow-down"></i> '+l(a(i("d8WC")).call(t,"Waiting to be downloaded",{hash:{},data:r}))+' </p> <p class="downloading-subtitle subtitle hidden"> <i class="glyphicon more"></i> '+l(a(i("d8WC")).call(t,"Downloading",{hash:{},data:r}))+' &middot; <span class="transcode-progress"></span>% </p> <p class="converting-subtitle subtitle hidden"> <i class="glyphicon more"></i> '+l(a(i("d8WC")).call(t,"Converting",{hash:{},data:r}))+' &middot; <span class="transcode-progress"></span>% &middot; <span class="transcode-remaining"></span> </p> <p class="processing-subtitle subtitle hidden"> <i class="glyphicon more"></i> '+l(a(i("d8WC")).call(t,"Waiting to be converted",{hash:{},data:r}))+' </p> <p class="unknown-subtitle subtitle hidden"> <i class="glyphicon circle-question-mark"></i> '+l(a(i("d8WC")).call(t,"Unknown",{hash:{},data:r}))+' </p> <p class="failed-subtitle subtitle hidden"> <i class="glyphicon warning-sign"></i> <span class="error-message"></span> </p> '}))},Zi5A:function(e,t,i){e.exports={container:"LibraryFilterBuilderRowTag-container-2eCigC",tag:"LibraryFilterBuilderRowTag-tag-3tEm1x",remove:"LibraryFilterBuilderRowTag-remove-3WifL0 TagLabel-remove-27nEke",or:"LibraryFilterBuilderRowTag-or-2CPm8x"}},Zl7H:function(e,t,i){"use strict";function n(e){return e.user}i.d(t,"a",(function(){return n}))},"ZrA+":function(e,t,i){e.exports={card:"MetadataPosterListItem-card-15XOx1 PosterCard-card-VhPkOe"}},ZrFU:function(e,t,i){e.exports={library:"FriendSharedServerLibraries-library-3L4Qip"}},ZrFe:function(e,t,i){e.exports={pageHeader:"PageHeader-pageHeader-2KNPGd"}},a4Cb:function(e,t,i){const n=i("F/us");e.exports=function(e){return function(){return e.apply(this,n.initial(arguments))}}},a5AD:function(e,t,i){e.exports={overlay:"EPGSimpleSummaryRow-overlay-_9nutN",titleContainer:"EPGSimpleSummaryRow-titleContainer-1yXAoS",primaryTitle:"EPGSimpleSummaryRow-primaryTitle-2yKXcH",secondaryTitle:"EPGSimpleSummaryRow-secondaryTitle-2rxODA",nextAiringDate:"EPGSimpleSummaryRow-nextAiringDate-2WrxQq",separator:"EPGSimpleSummaryRow-separator-2w771A DashSeparator-separator-4CyEFW",subscriptionIcon:"EPGSimpleSummaryRow-subscriptionIcon-2yby63"}},a7ba:function(e,t,i){e.exports={description:"EmptyPageDescription-description-DhEtaD"}},a88H:function(e,t,i){e.exports={card:"QuickSearchMetadataPosterCard-card-3_XFiO MetadataPosterButtonCard-card-2T8TR6"}},aAt6:function(e,t,i){e.exports={container:"PageHeaderTabDropdown-container-24xGAL",button:"PageHeaderTabDropdown-button-3bolBi PageHeaderTabButton-button-1zTdeV Button-button-2kT68l Link-link-2n0yJn",buttonContents:"PageHeaderTabDropdown-buttonContents-GDhP2H",title:"PageHeaderTabDropdown-title-2myggE",disclosureArrow:"PageHeaderTabDropdown-disclosureArrow-sMJzCd DisclosureArrow-disclosureArrow-1KPaBC",isSelected:"PageHeaderTabDropdown-isSelected-FK5pDv"}},aIE1:function(e,t,i){e.exports={button:"ClaimServerButton-button-2r6HKX SpinnerButton-button-1A8EcL Button-button-2kT68l Link-link-2n0yJn"}},aJpN:function(e,t,i){e.exports={cardContainer:"MetadataPosterCard-cardContainer-2gRcQF",card:"MetadataPosterCard-card-3bztRc",isFlipped:"MetadataPosterCard-isFlipped-2lUIIU"}},aL7q:function(e,t,i){e.exports={event:"AgendaEvent-event-1CGOuE",isComplete:"AgendaEvent-isComplete-1Qgi-m",hasError:"AgendaEvent-hasError-3_JkX6",underlay:"AgendaEvent-underlay-3aB2_X",overlay:"AgendaEvent-overlay-F0jvnJ",statusIcon:"AgendaEvent-statusIcon-2HvuT0",date:"AgendaEvent-date-14otD2",isToday:"AgendaEvent-isToday-WyLYsI",time:"AgendaEvent-time-1gWgjZ",title:"AgendaEvent-title-2XPt5P",titleDetails:"AgendaEvent-titleDetails-1_26SP",status:"AgendaEvent-status-3bBTHT",recording:"AgendaEvent-recording-R38Vn-",recordingProgressBackground:"AgendaEvent-recordingProgressBackground-3zpaH4 CircularProgressBar-circularProgressBarBackground-1a1VUp CircularProgressBar-circularProgressBarBackground-RvD8Ob",recordingIcon:"AgendaEvent-recordingIcon-2abV-I"}},aYA4:function(e,t,i){e.exports={image:"MetadataPosterCard-image-s6v-v-",selectedLink:"MetadataPosterCard-selectedLink-3ZfYeB PosterCardLink-link-1lt0M1 Link-link-2ew_DK",hoveredSelectedLink:"MetadataPosterCard-hoveredSelectedLink-3RwC7J PosterCardLink-hoveredLink-AhlkMt PosterCardLink-link-1lt0M1 Link-link-2ew_DK",progress:"MetadataPosterCard-progress-22M45Z MetadataPosterCardProgressBar-progress-H-gNPX",progressFadeIn:"MetadataPosterCard-progressFadeIn-38gSpR",progressBar:"MetadataPosterCard-progressBar-zObiKO MetadataPosterCardProgressBar-bar-3N2AjG",progressBarSlideIn:"MetadataPosterCard-progressBarSlideIn-38QfS2",badge:"MetadataPosterCard-badge-1wXpHL",badgeFadeIn:"MetadataPosterCard-badgeFadeIn-3LE--7",topLeftBadge:"MetadataPosterCard-topLeftBadge-3czaF8 MetadataPosterCard-badge-1wXpHL",topRightBadge:"MetadataPosterCard-topRightBadge-3s_SBN MetadataPosterCard-badge-1wXpHL",legacyNumberBadge:"MetadataPosterCard-legacyNumberBadge-2JeKY_ MetadataPosterCard-badge-1wXpHL",none:"MetadataPosterCard-none-fZPXIA",legacyMultiVersionBadge:"MetadataPosterCard-legacyMultiVersionBadge-2CCcrj MetadataPosterCard-legacyNumberBadge-2JeKY_ MetadataPosterCard-badge-1wXpHL MetadataPosterCard-topLeftBadge-3czaF8 MetadataPosterCard-badge-1wXpHL",legacyMultiVersionIcon:"MetadataPosterCard-legacyMultiVersionIcon-3Xdds5",legacyUnwatchedTagMask:"MetadataPosterCard-legacyUnwatchedTagMask-2vBYMS",legacyUnwatchedTag:"MetadataPosterCard-legacyUnwatchedTag-3f03pS",legacyUnwatchedEpisodesBadge:"MetadataPosterCard-legacyUnwatchedEpisodesBadge-3kelZP MetadataPosterCard-legacyNumberBadge-2JeKY_ MetadataPosterCard-badge-1wXpHL MetadataPosterCard-topRightBadge-3s_SBN MetadataPosterCard-badge-1wXpHL"}},aon8:function(e,t,i){var n=i("3O+N");e.exports=(n.default||n).template((function(e,t,n,a,s){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),s=s||{};var r,o="";return o+='<div class="row row-loading"> <div class="loading loading-inline"></div> </div> <div class="sync-empty-message row row-padded hidden"> <h4 class="text-muted text-center"> '+(0,this.escapeExpression)((r=i("d8WC"),r&&(r.__esModule?r.default:r)).call(t,"Nothing is synced to this device.",{hash:{},data:s}))+' </h4> </div> <div class="sync-device-message row hidden"> <h4 class="sync-device-message-text text-muted text-center"></h4> </div> <div class="sync-item-list-container"></div> '}))},apI8:function(e,t,i){var n=i("3O+N");function a(e){return e&&(e.__esModule?e.default:e)}e.exports=(n.default||n).template((function(e,t,n,s,r){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),r=r||{};var o="",l=this.escapeExpression;return o+='<div class="row row-padded"> <h4 class="text-muted text-center"> <p>'+l(a(i("d8WC")).call(t,'Choose "Optimize..." on items in your library and optimized versions will appear here.',{hash:{},data:r}))+"</p> <p>"+l(a(i("d8WC")).call(t,"Monitor conversion progress in {1}Conversion Activity{2}.",'<a class="status-conversion-btn" href="#">',"</a>",{hash:{},data:r}))+"</p> </h4> </div> "}))},auJy:function(e,t,i){e.exports={container:"MediaSubscriptionHintPosterTitle-container-1YkOT9",left:"MediaSubscriptionHintPosterTitle-left-2X9d4r",right:"MediaSubscriptionHintPosterTitle-right-3zh2jU",subscriptionBadge:"MediaSubscriptionHintPosterTitle-subscriptionBadge-k6PWnh MetadataPosterCardOverlay-badge-1FU-pf",subscriptionBadgeIcon:"MediaSubscriptionHintPosterTitle-subscriptionBadgeIcon-2JWgb6",titleContainer:"MediaSubscriptionHintPosterTitle-titleContainer-2vZUMc",staticHeightTitleContainer:"MediaSubscriptionHintPosterTitle-staticHeightTitleContainer-3HS2ME MediaSubscriptionHintPosterTitle-titleContainer-2vZUMc"}},"b+Z3":function(e,t,i){e.exports={visibleContainer:"SeekBarThumbnail-visibleContainer-3eifZW",hiddenContainer:"SeekBarThumbnail-hiddenContainer-15Ujjv SeekBarThumbnail-visibleContainer-3eifZW",thumbnail:"SeekBarThumbnail-thumbnail-2rxzk1",tooltip:"SeekBarThumbnail-tooltip-WCnO4Y",small:"SeekBarThumbnail-small-21D-mk",large:"SeekBarThumbnail-large-1NQZT9"}},b3Ly:function(e,t,i){var n=i("3O+N");e.exports=(n.default||n).template((function(e,t,n,a,s){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),s=s||{};var r,o="";return o+="<h4>"+(0,this.escapeExpression)((r=i("d8WC"),r&&(r.__esModule?r.default:r)).call(t,"Files",{hash:{},data:s}))+'</h4> <ul class="media-info-file-list"></ul> <div class="loading-container"><div class="loading"></div></div> '}))},b3RP:function(e,t,i){"use strict";function n(e){return{status:e.status,statusText:e.statusText,readyState:e.readyState,responseText:e.responseText}}i.d(t,"a",(function(){return n}))},bA7v:function(e,t,i){e.exports={tag:"TagLabel-tag-2n9WOX",remove:"TagLabel-remove-27nEke"}},bIaj:function(e,t,i){e.exports={playQueueIsLoading:"MiniPlayerContainer-playQueueIsLoading-30Z4GT"}},bJXi:function(e,t,i){e.exports={filtersScroller:"LibraryFiltersList-filtersScroller-2-lmLj Scroller-vertical-VScFLT"}},bKz6:function(e,t,i){e.exports={loadingItem:"MetadataSummaryCellLoading-loadingItem-2TLkoX",alternateLoadingItem:"MetadataSummaryCellLoading-alternateLoadingItem-6d55PW MetadataSummaryCellLoading-loadingItem-2TLkoX",posterContainer:"MetadataSummaryCellLoading-posterContainer-18W6xj"}},bb11:function(e,t,i){e.exports={icon:"ModalContentError-icon-235FFE",default:"ModalContentError-default-1xFU82",primary:"ModalContentError-primary-34blWW",success:"ModalContentError-success-2Wv-fJ",danger:"ModalContentError-danger-22PUTO",message:"ModalContentError-message-3J35my"}},bcER:function(e,t,i){"use strict";var n=i("66GW"),a=i("1Cr9");const s=Object(a.a)(["id","typeString"],[{id:1,typeString:"video",key:"videoStreamID",title:()=>Object(n.default)("Video")},{id:2,typeString:"audio",key:"audioStreamID",title:()=>Object(n.default)("Audio")},{id:3,typeString:"subtitles",key:"subtitleStreamID",title:()=>Object(n.default)("Subtitles")},{id:4,typeString:"lyrics",key:"lyricStreamID",title:()=>Object(n.default)("Lyrics")}]);t.a=s},"blH+":function(e,t,i){"use strict";i.d(t,"g",(function(){return n})),i.d(t,"f",(function(){return a})),i.d(t,"a",(function(){return s})),i.d(t,"b",(function(){return r})),i.d(t,"c",(function(){return o})),i.d(t,"d",(function(){return l})),i.d(t,"e",(function(){return c}));const n="scrobble",a="save",s="addToCatalog",r="addToWatchlist",o="follow",l="mute",c="rate"},blYO:function(e,t,i){"use strict";i.r(t);var n=i("+X4A"),a=i("CHn6"),s=i("mOXR"),r=i("nvND"),o=i("B69o");var l=a.a.extend({name:"FileModel",idAttribute:"key",rootPropertyName:"File",syncedAttrs:{key:s.a.string,title:s.a.string,path:s.a.string,network:s.a.boolean}});var c=o.a.extend({name:"FileCollection",model:l}),d=a.a.extend({name:"FilePathModel",context:["server","includeFiles"],idAttribute:"key",rootPropertyName:"Path",sessionAttrs:{isBackShortcut:s.a.boolean},sessionRelations:{children:function(){var e={};return this.includeFiles&&(e.includeFiles=1),{relationClass:i("blYO").default,options:{url:n.join([this.id],e)}}}},syncedAttrs:{key:s.a.string,title:s.a.string,path:s.a.string,home:s.a.boolean,network:s.a.boolean}}),u=o.a.extend({name:"FilePathCollection",context:["server","includeFiles"],model:d,url(){var e={};return this.includeFiles&&(e.includeFiles=1),n.join(["/services/browse"],e)}});const p=a.a.extend({name:"FilePathListModel",responseType:r.a,context:["server","includeFiles","url"],url(){const e={};return this.includeFiles&&(e.includeFiles=1),n.join(["/services/browse"],e)},sessionAttrs:{truncatedFilesCount:s.a.integer},syncedRelations:{paths:{relationClass:u,rootPropertyName:"Path"},files:{relationClass:c,rootPropertyName:"File"}},augmentResponse:e=>(e.File&&(e.truncatedFilesCount=Math.max(0,e.File.length-500),e.File=e.File.slice(0,500)),e)});t.default=p},bq2q:function(e,t,i){var n=i("3O+N");e.exports=(n.default||n).template((function(e,t,i,n,a){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),a=a||{};var s,r="",o=this,l=this.escapeExpression;function c(e,t){return"home"}function d(e,t){var n;return(n=i.if.call(e,null==(n=e&&e.filePath)||!1===n?n:n.network,{hash:{},inverse:o.program(9,p,t),fn:o.program(7,u,t),data:t}))||0===n?n:""}function u(e,t){return"globe"}function p(e,t){var n;return(n=i.if.call(e,e&&e.isRoot,{hash:{},inverse:o.program(12,m,t),fn:o.program(10,h,t),data:t}))||0===n?n:""}function h(e,t){return"hdd"}function m(e,t){return"folder-open"}return r+='<a class="striped-list-item" href="#" data-key="'+l("function"==typeof(s=null==(s=t&&t.filePath)||!1===s?s:s.key)?s.apply(t):s)+'" title="'+l("function"==typeof(s=null==(s=t&&t.filePath)||!1===s?s:s.title)?s.apply(t):s)+'" aria-label="'+l("function"==typeof(s=null==(s=t&&t.filePath)||!1===s?s:s.title)?s.apply(t):s)+'"> <i class="folder-icon glyphicon ',((s=i.if.call(t,null==(s=t&&t.filePath)||!1===s?s:s.isBackShortcut,{hash:{},inverse:o.program(3,(function(e,t){var n;return(n=i.if.call(e,null==(n=e&&e.filePath)||!1===n?n:n.home,{hash:{},inverse:o.program(6,d,t),fn:o.program(4,c,t),data:t}))||0===n?n:""}),a),fn:o.program(1,(function(e,t){return"left-arrow"}),a),data:a}))||0===s)&&(r+=s),r+='"></i>&nbsp;'+l("function"==typeof(s=null==(s=t&&t.filePath)||!1===s?s:s.title)?s.apply(t):s)+' <div class="loading loading-sm loading-inline hidden"></div> </a> '}))},btL4:function(e,t,i){e.exports={container:"PageHeaderMultiselectActions-container-2k4DLu PageHeader-pageHeader-2KNPGd",button:"PageHeaderMultiselectActions-button-2eKuNY ActionButton-iconActionButton-2ry8hd ActionButton-actionButton-2LOxoL Button-button-3A5jB3 Link-link-2ew_DK",icon:"PageHeaderMultiselectActions-icon-1ozTr-",count:"PageHeaderMultiselectActions-count-2fQWwV",actions:"PageHeaderMultiselectActions-actions-2zhPwd",deselect:"PageHeaderMultiselectActions-deselect-2hA_PG"}},buR4:function(e,t,i){var n=i("3O+N");e.exports=(n.default||n).template((function(e,t,i,n,a){return this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),a=a||{},'<div class="player-slider-track"> <div class="player-slider-progress"></div> </div> <div class="player-slider-thumb"></div> '}))},c1Ka:function(e,t,i){const n=i("cyu3").default,a=i("a4Cb");e.exports=a(n)},c3sd:function(e,t,i){const n=i("VLKS").default,a=i("a4Cb");e.exports=a(n)},c4QI:function(e,t,i){e.exports={dragPreview:"RecordingPrioritySubscriptionDragPreview-dragPreview-3q037K"}},c7MW:function(e,t,i){var n=i("3O+N");function a(e){return e&&(e.__esModule?e.default:e)}e.exports=(n.default||n).template((function(e,t,n,s,r){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),r=r||{};var o,l="",c=this.escapeExpression;return l+='<div class="row row-padded"> <div class="col-md-8 col-md-offset-2"> ',((o=n.if.call(t,t&&t.shared,{hash:{},inverse:this.program(3,(function(e,t){var n="";return n+=" <h1>"+c(a(i("d8WC")).call(e,"A problem has been detected with a core component of Plex Media Server.",{hash:{},data:t}))+'</h1> <h2 class="text-muted">'+c(a(i("d8WC")).call(e,"Please visit the {1}forums{2} and provide your logs, as described {3}here{4}.",'<a href="https://forums.plex.tv" target="_blank">',"</a>",'<a href="http://support.plex.tv/hc/en-us/articles/200250417-Log-File-Locations/?utm_source=Plex%20Apps&utm_medium=Plex%20Web&utm_campaign=Plex%20Apps" target="_blank">',"</a>",{hash:{},data:t}))+"</h2> "}),r),fn:this.program(1,(function(e,t){var n="";return n+=" <h1>"+c(a(i("d8WC")).call(e,"Setup is not allowed for shared servers.",{hash:{},data:t}))+"</h1> "}),r),data:r}))||0===o)&&(l+=o),l+=" </div> </div> "}))},c7dm:function(e,t,i){e.exports={tableHeaderCell:"TableHeaderCell-tableHeaderCell-1pgi80 TableCell-tableCell-2mwuHk",activeTableHeaderCell:"TableHeaderCell-activeTableHeaderCell-1LYaxC TableHeaderCell-tableHeaderCell-1pgi80 TableCell-tableCell-2mwuHk"}},cAHu:function(e,t,i){var n=i("3O+N");function a(e){return e&&(e.__esModule?e.default:e)}e.exports=(n.default||n).template((function(e,t,n,s,r){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),r=r||{};var o,l="",c=this.escapeExpression,d=this;function u(e,t){var n,s="";return s+=" ",((n=a(i("w+Xr")).call(e,e&&e.id,"enableBIFGeneration",{hash:{},inverse:d.noop,fn:d.program(3,p,t),data:t}))||0===n)&&(s+=n),s+=" "}function p(e,t){var n="";return n+=' <div class="form-group"> <button type="button" class="delete-thumbnails-btn btn btn-sm btn-danger">'+c(a(i("d8WC")).call(e,"Delete Preview Thumbnails",{hash:{},data:t}))+"</button> </div> "}return((o=n.each.call(t,t&&t.settings,{hash:{},inverse:d.noop,fn:d.programWithDepth(1,(function(e,t,s){var r,o="";return o+=" "+c(a(i("nptq")).call(e,"setting",{hash:{idSuffix:"_c"},data:t}))+" ",((r=n.if.call(e,s&&s.edit,{hash:{},inverse:d.noop,fn:d.program(2,u,t),data:t}))||0===r)&&(o+=r),o+=" "}),r,t),data:r}))||0===o)&&(l+=o),l+=" "}))},cFG9:function(e,t,i){e.exports={container:"AudioVideoStripeContainer-container-MI02OU"}},cTZx:function(e,t,i){e.exports={input:"SharedServerLibrary-input-1WHloB CheckInput-input-1Pi_2g"}},cUsW:function(e,t,i){e.exports={scroller:"VirtualListScroller-scroller-3aWqhy"}},cV2A:function(e,t,i){e.exports={container:"Bandwidth-container-2rffpk",graph:"Bandwidth-graph-_E0-J3"}},cVe3:function(e,t,i){"use strict";var n=i("B69o"),a=i("/fYT");const s=n.a.extend({name:"MediaSettingCollection",context:["server","provider"],model:a.a,getSaveParams(){return this.reduce((e,t)=>(e[t.id]=t.get("value"),e),{})}});t.a=s},cbdg:function(e,t,i){e.exports={container:"AllSourcesSidebarContent-container-3ONiKZ",serverContainer:"AllSourcesSidebarContent-serverContainer-1HtNbS",iconImg:"AllSourcesSidebarContent-iconImg-1hajvx",extrasContainer:"AllSourcesSidebarContent-extrasContainer-12nvl9"}},ccYj:function(e,t,i){e.exports={emptyMessage:"SharedServerLibraries-emptyMessage-3D4Rel"}},"ce/m":function(e,t,i){e.exports={container:"PageHeaderToolbar-container-NMKiv4"}},ceEp:function(e,t,i){var n=i("3O+N");function a(e){return e&&(e.__esModule?e.default:e)}e.exports=(n.default||n).template((function(e,t,n,s,r){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),r=r||{};var o,l="",c=this.escapeExpression;return l+='<form class="edit-metadata-form"> <div class="row"> <div class="col-md-12"> '+c(a(i("nptq")).call(t,"lockableTagInput",{hash:{label:"Genres",name:"genre",attribute:"genres",locked:(o=t&&t.locked,null==o||!1===o?o:o.genre)},data:r}))+' </div> </div> <div class="row"> <div class="col-md-12"> '+c(a(i("nptq")).call(t,"lockableTagInput",{hash:{label:"Collections",name:"collection",attribute:"collections",locked:(o=t&&t.locked,null==o||!1===o?o:o.collection)},data:r}))+" </div> </div> </form> "}))},cgRT:function(e,t,i){"use strict";i.d(t,"b",(function(){return l})),i.d(t,"d",(function(){return c})),i.d(t,"a",(function(){return d})),i.d(t,"c",(function(){return u}));var n=i("EVdn"),a=i.n(n);i("F/us"),i("slDQ");const s={},r={};function o(e,t,i){s[e]=function(e,t){if(!t)return e;const i={};return t.forEach(t=>{i[t]=(...i)=>e[t](...i)}),i}(t,i);const n=r[e];n&&(delete r[e],n.resolve(s[e]))}function l(e){for(const t in e){const i=e[t];let n,a;Array.isArray(i)?(n=i[0],a=i[1]):n=i,o(t,n,a)}}function c(e){return d(e)?a.a.Deferred().resolve(s[e]).promise():(r[e]||(r[e]=a.a.Deferred()),r[e].promise())}function d(e){return s.hasOwnProperty(e)}function u(e){return s[e]}},chwz:function(e,t,i){e.exports={container:"FirstRunExperienceActionsContainer-container-1Uv1FY",titleBar:"FirstRunExperienceActionsContainer-titleBar-iWGY90",titleText:"FirstRunExperienceActionsContainer-titleText-3KDIHA",scroller:"FirstRunExperienceActionsContainer-scroller-3w2d0r Scroller-vertical-VScFLT"}},cifS:function(e,t,i){e.exports={pageHeader:"DirectoryPageHeader-pageHeader-2dwhds PrimaryPageHeader-pageHeader-21UFe6 PageHeader-pageHeader-2KNPGd"}},cnJD:function(e,t,i){(function(e){!function(e){"use strict";var t=function(i,n){this.$element=e(i),this.options=e.extend({},t.DEFAULTS,n)};t.DEFAULTS={loadingText:"loading..."},t.prototype.setState=function(e){var t="disabled",i=this.$element,n=i.is("input")?"val":"html",a=i.data();e+="Text",a.resetText||i.data("resetText",i[n]()),i[n](a[e]||this.options[e]),setTimeout((function(){"loadingText"==e?i.addClass(t).attr(t,t):i.removeClass(t).removeAttr(t)}),0)},t.prototype.toggle=function(){var e=this.$element.closest('[data-toggle="buttons"]');e.length&&("radio"===this.$element.find("input").prop("checked",!this.$element.hasClass("active")).trigger("change").prop("type")&&e.find(".active").removeClass("active"));this.$element.toggleClass("active")};var i=e.fn.button;e.fn.button=function(i){return this.each((function(){var n=e(this),a=n.data("bs.button"),s="object"==typeof i&&i;a||n.data("bs.button",a=new t(this,s)),"toggle"==i?a.toggle():i&&a.setState(i)}))},e.fn.button.Constructor=t,e.fn.button.noConflict=function(){return e.fn.button=i,this},e(document).on("click.bs.button.data-api","[data-toggle^=button]",(function(t){var i=e(t.target);i.hasClass("btn")||(i=i.closest(".btn")),i.button("toggle"),t.preventDefault()}))}(e)}).call(this,i("EVdn"))},cora:function(e,t,i){e.exports={tableHeaderTitle:"TableHeaderTitle-tableHeaderTitle-3-v_so"}},cpNh:function(e,t,i){e.exports={metadataListPageContent:"MetadataListPageContent-metadataListPageContent-s56y9M PageContent-pageContent-16mK6G",metadataListScroller:"MetadataListPageContent-metadataListScroller-1uFgYL",hasGutter:"MetadataListPageContent-hasGutter-1EfyE0",attribution:"MetadataListPageContent-attribution-3zY50M"}},cpX0:function(e,t,i){e.exports={button:"SourceSidebarItem-button-257zM0 SourceSidebarLink-button-1Qe470 SidebarLink-sidebarLink-L2OPdE Link-default-2XA2bN",iconImg:"SourceSidebarItem-iconImg-2zgKLr",isActive:"SourceSidebarItem-isActive-3_yiwn SourceSidebarLink-isActive-2_QExr",overflowButton:"SourceSidebarItem-overflowButton-1lLH3b",isSelected:"SourceSidebarItem-isSelected-2FULYf SourceSidebarLink-isSelected-27-9-6",actionContainer:"SourceSidebarItem-actionContainer-3H9EXk",pinnedIcon:"SourceSidebarItem-pinnedIcon-2WBaus",hiddenOverflowButton:"SourceSidebarItem-hiddenOverflowButton-267PaV"}},cqN0:function(e,t,i){e.exports={button:"SplitButton-button-1B9GD_",mainButton:"SplitButton-mainButton-1vneBy",menuButton:"SplitButton-menuButton-2koqFK"}},ctCg:function(e,t,i){e.exports={bottomDivider:"PrePlayListBottomDivider-bottomDivider-3XSncY PrePlayDivider-divider-1qvbj9"}},cyOn:function(e,t,i){e.exports={cardContainer:"MetadataDirectoryPosterCard-cardContainer-ZkpfRo MetadataPosterCard-cardContainer-2gRcQF",card:"MetadataDirectoryPosterCard-card-3HffoU MetadataPosterCard-card-3bztRc",face:"MetadataDirectoryPosterCard-face-1a7ldr MetadataPosterCardFace-face--dz_Dx MetadataPosterCardFace-poster-L2P6rC",overlay:"MetadataDirectoryPosterCard-overlay-1W6FjR MetadataPosterCardOverlay-overlay-1uMpL6 PosterCardOverlay-overlay-3wQFXY",overlayBackground:"MetadataDirectoryPosterCard-overlayBackground-23yvvb MetadataPosterCardOverlay-background-2EwyBM PosterCardOverlay-background-23u0Zs",overlayLink:"MetadataDirectoryPosterCard-overlayLink-3Lb0W4 MetadataPosterCardOverlay-link-1SwhlG",overlaySelectCoverButton:"MetadataDirectoryPosterCard-overlaySelectCoverButton-31KJlc MetadataPosterCardOverlay-selectCoverButton-ukQUfL MetadataPosterCardOverlay-coverButton-2Dm9Pj",iconContainer:"MetadataDirectoryPosterCard-iconContainer-2qCCQC",titleContainer:"MetadataDirectoryPosterCard-titleContainer-waqIG7",titleItem:"MetadataDirectoryPosterCard-titleItem-3i-cuz"}},cyda:function(e,t,i){var n=i("3O+N");e.exports=(n.default||n).template((function(e,t,i,n,a){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),a=a||{};var s,r="";return r+='<div class="col-md-12"> <div class="form-group path-group"> <input type="text" name="path" class="form-control" value="',r+=(0,this.escapeExpression)((s=i.path)||"function"==typeof(s=t&&t.path)?s.call(t,{hash:{},data:a}):s)+'"> <div class="path-actions"> <a href="#" class="remove-path-btn btn-link btn-gray"><i class="glyphicon remove-2"></i></a> </div> </div> </div> '}))},cyu3:function(e,t,i){"use strict";i.r(t),t.default=function(e,t){if(!e)return"";if(e.length>t){let i=e.substring(0,t-3);for(;!1===/\S/.test(i.charAt(i.length-1))&&i.length>1;)i=i.slice(0,-1);return i+"..."}return e}},czqj:function(e,t,i){e.exports={button:"UserListItem-button-3oUfiA Button-button-2kT68l Link-link-2n0yJn",selectedButton:"UserListItem-selectedButton-bI362D UserListItem-button-3oUfiA Button-button-2kT68l Link-link-2n0yJn",avatar:"UserListItem-avatar-3Kgumg AvatarImg-avatar-3Op56u",titleContainer:"UserListItem-titleContainer-5VtBPN",title:"UserListItem-title-j29JRH",email:"UserListItem-email-XVTmFn",icon:"UserListItem-icon-1ajF2v",selectedIcon:"UserListItem-selectedIcon-bCsaB2 UserListItem-icon-1ajF2v",homeIcon:"UserListItem-homeIcon-2XcvVB UserListItem-icon-1ajF2v",visibleHomeIcon:"UserListItem-visibleHomeIcon-3Gwyfb"}},"d+lh":function(e,t,i){e.exports={content:"PrePlayMetadataContent-content-2ww3jI"}},d0sW:function(e,t,i){var n=i("3O+N");function a(e){return e&&(e.__esModule?e.default:e)}e.exports=(n.default||n).template((function(e,t,n,s,r){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),r=r||{};var o,l="",c=this.escapeExpression;return l+='<div class="modal-dialog"> <div class="modal-content"> <div class="modal-header"> <button type="button" class="close" data-dismiss="modal"><i class="glyphicon remove-2"></i></button> <h4 class="modal-title"><i class="modal-icon glyphicon pencil"></i> '+c("function"==typeof(o=t&&t.paneTitle)?o.apply(t):o)+'</h4> </div> <div class="modal-body modal-body-scroll modal-body-with-panes"> <div class="modal-nav-pane dark-scrollbar hidden"> <ul class="list modal-nav-list"> ',((o=n.if.call(t,null==(o=t&&t.panes)||!1===o?o:o.general,{hash:{},inverse:this.noop,fn:this.program(1,(function(e,t){var n="";return n+=' <li><a class="btn-gray change-pane-btn general-btn" data-pane="general" href="#"> <i class="modal-nav-icon glyphicon align-center"></i> '+c(a(i("d8WC")).call(e,"General",{hash:{},data:t}))+" </a></li> "}),r),data:r}))||0===o)&&(l+=o),l+=" ",((o=n.if.call(t,null==(o=t&&t.panes)||!1===o?o:o.tags,{hash:{},inverse:this.noop,fn:this.program(3,(function(e,t){var n="";return n+=' <li><a class="btn-gray change-pane-btn tags-btn" data-pane="tags" href="#"> <i class="modal-nav-icon glyphicon tags"></i> '+c(a(i("d8WC")).call(e,"Tags",{hash:{},data:t}))+" </a></li> "}),r),data:r}))||0===o)&&(l+=o),l+=" ",((o=n.if.call(t,null==(o=t&&t.panes)||!1===o?o:o.sharing,{hash:{},inverse:this.noop,fn:this.program(5,(function(e,t){var n="";return n+=' <li><a class="btn-gray change-pane-btn sharing-btn" data-pane="sharing" href="#"> <i class="modal-nav-icon glyphicon parents"></i> '+c(a(i("d8WC")).call(e,"Sharing",{hash:{},data:t}))+" </a></li> "}),r),data:r}))||0===o)&&(l+=o),l+=" ",((o=n.if.call(t,null==(o=t&&t.panes)||!1===o?o:o.poster,{hash:{},inverse:this.noop,fn:this.program(7,(function(e,t){var n="";return n+=' <li><a class="btn-gray change-pane-btn poster-btn" data-pane="poster" href="#"> <i class="modal-nav-icon glyphicon picture"></i> '+c(a(i("d8WC")).call(e,"Poster",{hash:{},data:t}))+" </a></li> "}),r),data:r}))||0===o)&&(l+=o),l+=" ",((o=n.if.call(t,null==(o=t&&t.panes)||!1===o?o:o.banner,{hash:{},inverse:this.noop,fn:this.program(9,(function(e,t){var n="";return n+=' <li><a class="btn-gray change-pane-btn banner-btn" data-pane="banner" href="#"> <i class="modal-nav-icon glyphicon picture"></i> '+c(a(i("d8WC")).call(e,"Banner",{hash:{},data:t}))+" </a></li> "}),r),data:r}))||0===o)&&(l+=o),l+=" ",((o=n.if.call(t,null==(o=t&&t.panes)||!1===o?o:o.art,{hash:{},inverse:this.noop,fn:this.program(11,(function(e,t){var n="";return n+=' <li><a class="btn-gray change-pane-btn art-btn" data-pane="art" href="#"> <i class="modal-nav-icon glyphicon picture"></i> '+c(a(i("d8WC")).call(e,"Background",{hash:{},data:t}))+" </a></li> "}),r),data:r}))||0===o)&&(l+=o),l+=" ",((o=n.if.call(t,null==(o=t&&t.panes)||!1===o?o:o.info,{hash:{},inverse:this.noop,fn:this.program(13,(function(e,t){var n="";return n+=' <li><a class="btn-gray change-pane-btn info-btn" data-pane="info" href="#"> <i class="modal-nav-icon glyphicon circle-info"></i> '+c(a(i("d8WC")).call(e,"Info",{hash:{},data:t}))+" </a></li> "}),r),data:r}))||0===o)&&(l+=o),l+=" ",((o=n.if.call(t,null==(o=t&&t.panes)||!1===o?o:o.advanced,{hash:{},inverse:this.noop,fn:this.program(15,(function(e,t){var n="";return n+=' <li><a class="btn-gray change-pane-btn advanced-btn" data-pane="advanced" href="#"> <i class="modal-nav-icon glyphicon cogwheel"></i> '+c(a(i("d8WC")).call(e,"Advanced",{hash:{},data:t}))+" </a></li> "}),r),data:r}))||0===o)&&(l+=o),l+=' </ul> </div> <div class="modal-body-pane pane-region dark-scrollbar"> <div class="loading loading-inline"></div> </div> </div> <div class="modal-footer"> <span class="form-message"></span> <button type="button" class="cancel-btn btn btn-default" data-dismiss="modal">'+c(a(i("d8WC")).call(t,"Cancel",{hash:{},data:r}))+'</button> <button type="button" class="save-btn btn btn-primary btn-loading"> <div class="loading loading-sm"></div> <span class="btn-label">'+c(a(i("d8WC")).call(t,"Save Changes",{hash:{},data:r}))+"</span> </button> </div> </div> </div> "}))},d36p:function(e,t,i){e.exports={disclosureArrow:"DisclosureArrow-disclosureArrow-1KPaBC",default:"DisclosureArrow-default-_QTDZt",primary:"DisclosureArrow-primary-2w1Tep",success:"DisclosureArrow-success-1gS8PY",danger:"DisclosureArrow-danger-3OtVyw",small:"DisclosureArrow-small-lqtG6h",up:"DisclosureArrow-up-L-Dw3O",right:"DisclosureArrow-right-2D3Mwp",medium:"DisclosureArrow-medium-20IdwE",large:"DisclosureArrow-large-2JBrDF",down:"DisclosureArrow-down-3lf_Gg DisclosureArrow-up-L-Dw3O",left:"DisclosureArrow-left-3Q0NGs DisclosureArrow-right-2D3Mwp",isSelected:"DisclosureArrow-isSelected-QMJhDY"}},"d7+L":function(e,t,i){"use strict";var n=i("EVdn"),a=i.n(n),s=i("F/us"),r=i.n(s),o=i("+X4A"),l=i("tlMz");const c={getCollectionName(){return this.collectionName||"items"},getCollection(){return this.get(this.getCollectionName())},getTotalSize(){return this.get("totalSize")||this.get("populatedRange").size},getPaginatedUrl(e){const t=this.get("currentPageStart"),i=this.get("currentPageSize");if(null!=t||null!=i){const n={"X-Plex-Container-Start":t||0,"X-Plex-Container-Size":i||0};return o.join(e,n)}return e},getCollectionChangeEvents(){const e=this.getCollectionName();return["change:"+e+".update","change:"+e+".reset"].join(" ")},startPopulatedRangeMonitor(){const e=this.getCollectionName();this.updatePopulatedRange(),this.on(this.getCollectionChangeEvents(),this.updatePopulatedRange,this),this.on("change:"+e+".destroy",this.decrementTotalSize,this)},stopPopulatedRangeMonitor(){const e=this.getCollectionName();this.off(this.getCollectionChangeEvents(),this.updatePopulatedRange,this),this.off("change:"+e+".destroy",this.decrementTotalSize,this)},fetchRange(e){const t=r.a.extend({},e,{remove:!1});return e.prepend&&(t.at=0),this.set({currentPageStart:e.start,currentPageSize:e.size}),this.fetch(t).promise()},populateRange(e){const t=this.getCollection(),i=this.get("populatedRange");let n=l.a.difference(e,i)[0];if(!n)return a.a.Deferred().resolve().promise();if(n=l.a.degap(n,i),this.isPopulating()){const e=this.get("currentPageStart")!==n.start,t=this.get("currentPageSize")!==n.size;if(!e&&!t)return this.populatePromise;this.abortPendingPopulate()}if(e.reloadThreshold&&n.size>e.reloadThreshold)return t.reset(),this.populateRange(r.a.omit(e,"reloadThreshold"));const s=r.a.extend({},e,n,{prepend:n.start<i.start});return this.fetchRange(s)},repopulateRange(e=0){const t=this.get("populatedRange").end;return this.set({currentPageStart:0,currentPageSize:Math.max(t,e)}),this.abortPendingPopulate(),this.fetch()},updatePopulatedRange(){const e=this.get("currentPageStart"),t=this.get("populatedRange").start,i=this.get("populatedRange").size,n=this.getCollection().length;let a;a=n?i?Math.min(t,null==e?1/0:e):e||t:0,this.set("populatedRange",{start:a,end:a+n,size:n})},decrementTotalSize(){const e=this.get("totalSize");e>0&&this.set("totalSize",e-1)}};t.a=c},d8WC:function(e,t,i){const n=i("F/us"),a=i("66GW").default,s=i("3O+N");e.exports=function(){const e=n.initial(arguments).concat({escape:!0}),t=n.last(arguments).hash;return n.isObject(t)&&!n.isEmpty(t)&&e.splice(1,0,t),new s.SafeString(a.apply(a,e))}},dCCs:function(e,t,i){e.exports={menu:"NavBarActivityMenu-menu-1AVWxV Menu-menu-3XnN6J"}},dDQa:function(e,t,i){e.exports={confirmBody:"ConfirmModal-confirmBody-10ifxp ModalBody-modalScroller-1xOMqS ModalBody-modalBody--5uHSu",accordLabel:"ConfirmModal-accordLabel-2PQCSz",accordInput:"ConfirmModal-accordInput-3RjnHc",cancelButton:"ConfirmModal-cancelButton-3A26bv",confirmButton:"ConfirmModal-confirmButton-1DVQ-r"}},dEGP:function(e,t,i){e.exports={container:"WatchTogetherLobbyMetadataPoster-container-2CLPKK",title:"WatchTogetherLobbyMetadataPoster-title-36YN73"}},dFNG:function(e,t,i){"use strict";function n(...e){return e.filter(e=>!!e).join("--")}i.d(t,"a",(function(){return n}))},dFNS:function(e,t,i){e.exports={posterCardContainer:"PrePlayCastCell-posterCardContainer-2xrsDg",posterCardLinkContainer:"PrePlayCastCell-posterCardLinkContainer-27hxZ8 PrePlayCastCell-posterCardContainer-2xrsDg",titleContainer:"PrePlayCastCell-titleContainer-PAy29K"}},dJu0:function(e,t,i){e.exports={subtitle:"ShareRestrictionsSelectInputItem-subtitle-3iXCZU"}},dO6p:function(e,t,i){e.exports={modalContent:"ModalContent-modalContent-4GS6yU",closeButton:"ModalContent-closeButton-25n_Ut Link-link-2ew_DK"}},dORf:function(e,t,i){e.exports={calendarHeaderContainer:"CalendarHeader-calendarHeaderContainer-2f7fSq",calendarHeader:"CalendarHeader-calendarHeader-moR_Hb",calendarNav:"CalendarHeader-calendarNav-rIR1ko Link-link-2n0yJn",calendarNavDisabled:"CalendarHeader-calendarNavDisabled-1bqai2"}},"dQj/":function(e,t,i){e.exports={menuItem:"MenuItem-menuItem-1s02mQ",isDisabled:"MenuItem-isDisabled-37rHXk",isHidden:"MenuItem-isHidden-t1VSNw",default:"MenuItem-default-2SKQ84",primary:"MenuItem-primary-2LuUHM",success:"MenuItem-success-3F7NZJ",danger:"MenuItem-danger-3P_Dfn"}},dSJO:function(e,t,i){e.exports={legendLabel:"LegendLabel-legendLabel-2z2UeB Link-link-2n0yJn",dot:"LegendLabel-dot-320-i6"}},doJ2:function(e,t,i){e.exports={button:"AcceptInviteButton-button-1h_5ks",spinner:"AcceptInviteButton-spinner-2um426"}},doli:function(e,t,i){e.exports={container:"PlayHistory-container-2YYwNl",link:"PlayHistory-link-2lq7Qn"}},dpdm:function(e,t,i){var n=i("3O+N");function a(e){return e&&(e.__esModule?e.default:e)}e.exports=(n.default||n).template((function(e,t,n,s,r){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),r=r||{};var o,l="",c=this.escapeExpression,d=this;function u(e,t){var i;return c("function"==typeof(i=null==(i=e&&e.friendlyNameSetting)||!1===i?i:i.value)?i.apply(e):i)}function p(e,t){var i;return c("function"==typeof(i=null==(i=e&&e.server)||!1===i?i:i.friendlyName)?i.apply(e):i)}return l+='<div class="row"> <div class="col-sm-6 col-sm-offset-3"> <form id="setup-basic-form" class="settings-container"> ',((o=n.if.call(t,t&&t.friendlyNameSetting,{hash:{},inverse:d.noop,fn:d.program(1,(function(e,t){var s,r="";return r+=' <div class="setup-basic-form-group form-group"> <p class="text-muted"> '+c(a(i("d8WC")).call(e,"Give your server a friendly name to help identify it in Plex apps and on your network.",{hash:{},data:t}))+' </p> <input type="text" id="'+c("function"==typeof(s=null==(s=e&&e.friendlyNameSetting)||!1===s?s:s.id)?s.apply(e):s)+'" class="form-control" value="',((s=n.if.call(e,null==(s=e&&e.friendlyNameSetting)||!1===s?s:s.value,{hash:{},inverse:d.program(4,p,t),fn:d.program(2,u,t),data:t}))||0===s)&&(r+=s),r+='" placeholder="'+c("function"==typeof(s=null==(s=e&&e.server)||!1===s?s:s.friendlyName)?s.apply(e):s)+'"> </div> '}),r),data:r}))||0===o)&&(l+=o),l+=" ",((o=n.if.call(t,t&&t.publishSetting,{hash:{},inverse:d.noop,fn:d.program(6,(function(e,t){var n,s="";return s+=' <div class="setup-basic-form-group form-group"> <div class="publish-checkbox checkbox"> <label for="'+c("function"==typeof(n=null==(n=e&&e.publishSetting)||!1===n?n:n.id)?n.apply(e):n)+'"> <input type="checkbox" id="'+c("function"==typeof(n=null==(n=e&&e.publishSetting)||!1===n?n:n.id)?n.apply(e):n)+'" checked> '+c(a(i("d8WC")).call(e,"Allow me to access my media outside my home",{hash:{},data:t}))+' </label> </div> <p class="text-muted"> '+c(a(i("d8WC")).call(e,"Plex will attempt to automatically configure your network to allow Plex apps outside your home to access Plex Media Server on this computer. Remember this computer will need to be turned on to access your media.",{hash:{},data:t}))+" </p> </div> "}),r),data:r}))||0===o)&&(l+=o),l+=' <div class="setup-footer"> <button type="submit" class="submit-btn btn btn-primary btn-loading btn-lg"> <div class="loading loading-sm"></div> <span class="btn-label">'+c(a(i("d8WC")).call(t,"Next",{hash:{},data:r}))+'</span> </button> <button class="next-btn hidden" data-subset="setupLibrary"></button> </div> </form> </div> </div> <div class="modal-container"></div> '}))},dsvT:function(e,t,i){"use strict";t.a=function(...e){return t=>{e.forEach(e=>{"function"==typeof e?e(t):null!=e&&(e.current=t)})}}},dz8L:function(e,t,i){"use strict";var n=i("iEE2"),a=i("HR/i");const s=window.ResizeObserver||a.a;t.a=function(e){return Object(n.a)(Object.assign({polyfill:s},e))}},"e/8p":function(e,t,i){var n=i("3O+N");function a(e){return e&&(e.__esModule?e.default:e)}e.exports=(n.default||n).template((function(e,t,n,s,r){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),r=r||{};var o,l="",c=this.escapeExpression;return l+='<form class="edit-metadata-form"> <div class="row"> <div class="col-md-12"> '+c(a(i("nptq")).call(t,"lockableTextInput",{hash:{label:"Title",name:"title",value:(o=t&&t.item,null==o||!1===o?o:o.title),placeholder:(o=t&&t.placeholders,null==o||!1===o?o:o.title),locked:(o=t&&t.locked,null==o||!1===o?o:o.title)},data:r}))+' </div> </div> <div class="row"> <div class="col-md-12"> '+c(a(i("nptq")).call(t,"lockableTextInput",{hash:{label:"Summary",name:"summary",value:(o=t&&t.item,null==o||!1===o?o:o.summary),placeholder:(o=t&&t.placeholders,null==o||!1===o?o:o.summary),type:"textarea",rows:"5",locked:(o=t&&t.locked,null==o||!1===o?o:o.summary)},data:r}))+" </div> </div> </form> "}))},"e/b/":function(e,t,i){"use strict";var n=i("F/us"),a=i.n(n),s=i("0jae");function r(e,t){Array.isArray(t)?a.a.each(t,e):e(t)}const o={parseXML:i("Xh8s").a,replaceXMLElementNames:function(e,t,i){Array.isArray(t)||(t=[t]);const n=t.join("|"),a=new RegExp("<("+n+")","g"),s=new RegExp("</("+n+")>","g");return e=(e=e.replace(a,"<"+i+' elementName="$1"')).replace(s,"</"+i+">")},parseEncodedString:function(e,t){e&&r((function(t){if(e.hasOwnProperty(t)){const i=e[t];if(null==i)e[t]="";else try{e[t]=decodeURIComponent(i)}catch(e){}}}),t)},parseInteger:function(e,t){e&&r((function(t){if(e.hasOwnProperty(t)){const i=e[t];e[t]=null==i||""===i?0:parseInt(i,10)}}),t)},parseFloat:function(e,t){e&&r((function(t){if(e.hasOwnProperty(t)){const i=e[t];e[t]=null===i||""===i?0:parseFloat(i)}}),t)},parseBoolean:function(e,t){e&&r((function(t){if(e.hasOwnProperty(t)){const i=e[t];e[t]=1===Number(i)||"true"===i}}),t)},parseArray:function(e,t){e&&r((function(t){if(e.hasOwnProperty(t)){const i=e[t];Array.isArray(i)||(e[t]=[i])}else e[t]=[]}),t)},parseQueryString:function(e,t,i){e&&(i||(i="&"),r((function(t){if(!e.hasOwnProperty(t))return;let n=e[t];var r;a.a.isObject(n)||(a.a.isString(n)?(n=n.trim().replace(/^(\?|#)/,""),e[t]=n?(r=n.split(i),a.a.reduce(r,(function(e,t){const i=t.split("=");let n=i[0],a=i[1];try{n=decodeURIComponent(n),a=void 0===a?null:decodeURIComponent(a),e.hasOwnProperty(n)?Array.isArray(e[n])?e[n].push(a):e[n]=[e[n],a]:e[n]=a}catch(e){s.a.warn("Unable to decode query string at "+n)}return e}),{})):{}):e[t]={})}),t))}};t.a=o},"e/fv":function(e,t,i){e.exports={status:"PrePlayPosterCardPlayedStatus-status-2jS2_A",label:"PrePlayPosterCardPlayedStatus-label-1a29LI",playedBadge:"PrePlayPosterCardPlayedStatus-playedBadge-1dXJGf PlayedBadge-playedBadge-nExTpX Badge-badge-3I6Kzp",watchlistBadge:"PrePlayPosterCardPlayedStatus-watchlistBadge-FXFUb9 WatchlistBadge-watchlistBadge-JTghpe Badge-badge-3I6Kzp",recordingBadge:"PrePlayPosterCardPlayedStatus-recordingBadge-3LMXDJ RecordingBadge-recordingBadge-2UNalG"}},e0Cb:function(e,t,i){"use strict";t.a=function(e){return 1===Number(e)||"true"===e}},e0vz:function(e,t,i){e.exports={button:"RemoveUserActionButton-button-3Y1kUf"}},e1Br:function(e,t,i){var n,a;n=i("F/us"),a=i("zLeb"),e.exports=function(e,t){"use strict";return t.Wreqr=function(e,t,i){var n,a={};return a.Handlers=function(e,t){var i=function(e){this.options=e,this._wreqrHandlers={},t.isFunction(this.initialize)&&this.initialize(e)};return i.extend=e.Model.extend,t.extend(i.prototype,e.Events,{setHandlers:function(e){t.each(e,(function(e,i){var n=null;t.isObject(e)&&!t.isFunction(e)&&(n=e.context,e=e.callback),this.setHandler(i,e,n)}),this)},setHandler:function(e,t,i){var n={callback:t,context:i};this._wreqrHandlers[e]=n,this.trigger("handler:add",e,t,i)},hasHandler:function(e){return!!this._wreqrHandlers[e]},getHandler:function(e){var t=this._wreqrHandlers[e];if(t)return function(){var e=Array.prototype.slice.apply(arguments);return t.callback.apply(t.context,e)}},removeHandler:function(e){delete this._wreqrHandlers[e]},removeAllHandlers:function(){this._wreqrHandlers={}}}),i}(e,i),a.CommandStorage=(n=function(e){this.options=e,this._commands={},i.isFunction(this.initialize)&&this.initialize(e)},i.extend(n.prototype,e.Events,{getCommands:function(e){var t=this._commands[e];return t||(t={command:e,instances:[]},this._commands[e]=t),t},addCommand:function(e,t){this.getCommands(e).instances.push(t)},clearCommands:function(e){this.getCommands(e).instances=[]}}),n),a.Commands=function(e){return e.Handlers.extend({storageType:e.CommandStorage,constructor:function(t){this.options=t||{},this._initializeStorage(this.options),this.on("handler:add",this._executeCommands,this);var i=Array.prototype.slice.call(arguments);e.Handlers.prototype.constructor.apply(this,i)},execute:function(e,t){e=arguments[0],t=Array.prototype.slice.call(arguments,1),this.hasHandler(e)?this.getHandler(e).apply(this,t):this.storage.addCommand(e,t)},_executeCommands:function(e,t,n){var a=this.storage.getCommands(e);i.each(a.instances,(function(e){t.apply(n,e)})),this.storage.clearCommands(e)},_initializeStorage:function(e){var t,n=e.storageType||this.storageType;t=i.isFunction(n)?new n:n,this.storage=t}})}(a),a.RequestResponse=function(e){return e.Handlers.extend({request:function(){var e=arguments[0],t=Array.prototype.slice.call(arguments,1);if(this.hasHandler(e))return this.getHandler(e).apply(this,t)}})}(a),a.EventAggregator=function(e,t){var i=function(){};return i.extend=e.Model.extend,t.extend(i.prototype,e.Events),i}(e,i),a}(t,t.Marionette,e),t.Wreqr}(n,a)},eBN0:function(e,t,i){e.exports={playButton:"ChannelsGridMetadataDetailButtons-playButton-2liy7L",recordButton:"ChannelsGridMetadataDetailButtons-recordButton-17JFUk ChannelsGridMetadataDetailButtons-playButton-2liy7L",recordingIcon:"ChannelsGridMetadataDetailButtons-recordingIcon-1R0yT4",icon:"ChannelsGridMetadataDetailButtons-icon-1-luT7"}},eEGg:function(e,t,i){e.exports={container:"HomeHubListItemDragSource-container-1T0Duj",isOver:"HomeHubListItemDragSource-isOver-1k9kxT"}},"eEL/":function(e,t,i){var n=i("3O+N");function a(e){return e&&(e.__esModule?e.default:e)}e.exports=(n.default||n).template((function(e,t,n,s,r){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),r=r||{};var o,l="",c=this.escapeExpression;return l+='<form class="edit-metadata-form"> <div class="row"> <div class="col-md-12"> '+c(a(i("nptq")).call(t,"lockableTextInput",{hash:{label:"Title",name:"title",value:(o=t&&t.item,null==o||!1===o?o:o.title),placeholder:(o=t&&t.placeholders,null==o||!1===o?o:o.title),locked:(o=t&&t.locked,null==o||!1===o?o:o.title)},data:r}))+' </div> </div> <div class="row"> <div class="col-md-12"> '+c(a(i("nptq")).call(t,"lockableTextInput",{hash:{label:"Sort Title",name:"titleSort",value:(o=t&&t.item,null==o||!1===o?o:o.titleSort),placeholder:(o=t&&t.placeholders,null==o||!1===o?o:o.titleSort),locked:(o=t&&t.locked,null==o||!1===o?o:o.titleSort)},data:r}))+' </div> </div> <div class="row"> <div class="col-md-4"> '+c(a(i("nptq")).call(t,"lockableTextInput",{hash:{label:"Originally Available",name:"originallyAvailableAt",value:(o=t&&t.item,null==o||!1===o?o:o.originallyAvailableAt),placeholder:(o=t&&t.placeholders,null==o||!1===o?o:o.originallyAvailableAt),locked:(o=t&&t.locked,null==o||!1===o?o:o.originallyAvailableAt)},data:r}))+' </div> <div class="col-md-4 selectize"> '+c(a(i("nptq")).call(t,"lockableTextInput",{hash:{label:"Content Rating",name:"contentRating",value:(o=t&&t.item,null==o||!1===o?o:o.contentRating),placeholder:(o=t&&t.placeholders,null==o||!1===o?o:o.contentRating),locked:(o=t&&t.locked,null==o||!1===o?o:o.contentRating),ratingKey:(o=t&&t.item,null==o||!1===o?o:o.ratingKey)},data:r}))+' </div> <div class="col-md-4"> <label>'+c(a(i("d8WC")).call(t,"Rating",{hash:{},data:r}))+'</label> <div class="rating-region"></div> </div> </div> <div class="row"> <div class="col-md-12"> '+c(a(i("nptq")).call(t,"lockableTextInput",{hash:{label:"Summary",name:"summary",value:(o=t&&t.item,null==o||!1===o?o:o.summary),placeholder:(o=t&&t.placeholders,null==o||!1===o?o:o.summary),type:"textarea",rows:"5",locked:(o=t&&t.locked,null==o||!1===o?o:o.summary)},data:r}))+" </div> </div> </form> "}))},eLO8:function(e,t,i){e.exports={item:"SharedItemCell-item-1zPRl5",isDeleteConfirmModalOpen:"SharedItemCell-isDeleteConfirmModalOpen-11H8ra",deleteButton:"SharedItemCell-deleteButton-dCizo9",alternateItem:"SharedItemCell-alternateItem-3_FMUG SharedItemCell-item-1zPRl5",posterContainer:"SharedItemCell-posterContainer-3hslOa",poster:"SharedItemCell-poster-3EMHjs",summaryContainer:"SharedItemCell-summaryContainer-3tZI7L",titleContainer:"SharedItemCell-titleContainer-3k7AdO",title:"SharedItemCell-title-3i3298",subtitle:"SharedItemCell-subtitle-1rkAxG SharedItemCell-title-3i3298",separator:"SharedItemCell-separator-2crI2a DashSeparator-separator-4CyEFW",actions:"SharedItemCell-actions-1eKPlQ",icon:"SharedItemCell-icon-3jrJRs"}},eNuQ:function(e,t,i){"use strict";i.d(t,"b",(function(){return a})),i.d(t,"c",(function(){return s})),i.d(t,"a",(function(){return r}));var n=i("17x9");const a=0,s=1,r=2;i.n(n).a.oneOf([a,s,r])},eO7X:function(e,t,i){e.exports={container:"AccountSummary-container-2EbPg2",actionLinksContainer:"AccountSummary-actionLinksContainer-2aUMQI",actionLinks:"AccountSummary-actionLinks-1tXSN6 SettingsFormSectionActionLinks-actionLinks-2vGv7Q",linkSeparator:"AccountSummary-linkSeparator-F6ygAk",separator:"AccountSummary-separator-23I7sP DashSeparator-separator-4CyEFW",badgeContainer:"AccountSummary-badgeContainer-2TYeDA",plexPassBadge:"AccountSummary-plexPassBadge-27hFF9",textBadge:"AccountSummary-textBadge-3M187q"}},ePga:function(e,t,i){e.exports={controls:"WatchTogetherLobbyControls-controls-olOgI6 PlayerControls-controls-e59abb",buttonGroup:"WatchTogetherLobbyControls-buttonGroup-3xsaXv PlayerControls-buttonGroup-4L6Pw-",buttonGroupLeft:"WatchTogetherLobbyControls-buttonGroupLeft-2a2-hk PlayerControls-buttonGroupLeft-3vLk-g PlayerControls-buttonGroup-4L6Pw-",buttonGroupCenter:"WatchTogetherLobbyControls-buttonGroupCenter-1OVvvY PlayerControls-buttonGroupCenter-11q8ie PlayerControls-buttonGroup-4L6Pw-",buttonGroupRight:"WatchTogetherLobbyControls-buttonGroupRight-1Cjjiw PlayerControls-buttonGroupRight-18LS_l PlayerControls-buttonGroup-4L6Pw-",balanceLeft:"WatchTogetherLobbyControls-balanceLeft-352OhH PlayerControls-balanceLeft--vfZAg",button:"WatchTogetherLobbyControls-button-3_hq2P WatchTogetherLobbyControlButton-button-2pzvIx Button-button-2kT68l Link-link-2n0yJn",hasLandscapePoster:"WatchTogetherLobbyControls-hasLandscapePoster-2jgsTC PlayerControls-hasLandscapePoster-23Gat5"}},"eR/B":function(e,t,i){e.exports={container:"MetadataTitleAttributedYear-container-13zCHq",badge:"MetadataTitleAttributedYear-badge-2LIkKl",title:"MetadataTitleAttributedYear-title-1wqqCr"}},eRZe:function(e,t,i){e.exports={container:"MetadataTitleAttributedLink-container-3yxPWV",badge:"MetadataTitleAttributedLink-badge-jZWYpy",title:"MetadataTitleAttributedLink-title-3qLtHw"}},eSZy:function(e,t,i){e.exports={container:"QuickSearchResults-container-3IlHhN"}},eYpM:function(e,t,i){e.exports={input:"TextInput-input-1mDdJf",small:"TextInput-small-1XXilD",medium:"TextInput-medium-qD1PE1",large:"TextInput-large-18fV9r",isDisabled:"TextInput-isDisabled-1NW5p-",hasError:"TextInput-hasError-3AtKMF"}},egLJ:function(e,t,i){e.exports={container:"AutosuggestInput-container-20ylXd",input:"AutosuggestInput-input-1--lBD",suggestionsContainer:"AutosuggestInput-suggestionsContainer-3jInGa Scroller-scroller-3GqQcZ Scroller-vertical-VScFLT Menu-menu-3XnN6J",suggestionsContainerOpen:"AutosuggestInput-suggestionsContainerOpen-YnHMHi",suggestionsList:"AutosuggestInput-suggestionsList-2NO4yX",suggestion:"AutosuggestInput-suggestion-1Q-8mZ MenuItem-menuItem-1s02mQ",suggestionHighlighted:"AutosuggestInput-suggestionHighlighted-3YxSr7"}},eq1q:function(e,t,i){e.exports={titleContainer:"MetadataTableTitle-titleContainer-3sPQCa",title:"MetadataTableTitle-title-2WmEM3",folderIconContainer:"MetadataTableTitle-folderIconContainer-3TcvnR MetadataTitleDecoratorIcon-decoratorIconContainer-3n0amT",folderIcon:"MetadataTableTitle-folderIcon-1bAaoB MetadataTitleDecoratorIcon-decoratorIcon-sjuWWk",multiVersionIcon:"MetadataTableTitle-multiVersionIcon-1lcNL3 MetadataTitleDecoratorIcon-decoratorIcon-sjuWWk"}},f2wi:function(e,t,i){"use strict";i.d(t,"b",(function(){return n})),i.d(t,"c",(function(){return a})),i.d(t,"d",(function(){return s})),i.d(t,"a",(function(){return r}));const n="news",a="podcast",s="webshow",r="musicVideo"},f32x:function(e,t,i){const n=i("hPsq").default,a=i("a4Cb");e.exports=a(n)},fCYg:function(e,t,i){e.exports={container:"ServerDashboardPageUpdateMessage-container-1E003h",link:"ServerDashboardPageUpdateMessage-link-2MFkCT Link-link-2ew_DK"}},"fPZ+":function(e,t,i){e.exports={pageHeader:"PrePlayPageHeader-pageHeader-6mIBnP PageHeader-pageHeader-2KNPGd",attribution:"PrePlayPageHeader-attribution-3CHaaR"}},fTYo:function(e,t,i){e.exports={providerTitle:"SearchProviderHubs-providerTitle-3nGwSv",spinner:"SearchProviderHubs-spinner-1-T9Ul"}},fZAC:function(e,t,i){var n=i("3O+N");function a(e){return e&&(e.__esModule?e.default:e)}e.exports=(n.default||n).template((function(e,t,n,s,r){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),r=r||{};var o,l="",c=this.escapeExpression,d=this;function u(e,t){return"selected"}function p(e,t){var n="";return n+=" - "+c(a(i("HdxU")).call(e,e&&e.mediaSettings,{hash:{},data:t}))}return l+='<select class="convert-target-select" name="target" ',((o=n.if.call(t,t&&t.disableTarget,{hash:{},inverse:d.noop,fn:d.program(1,(function(e,t){return"disabled"}),r),data:r}))||0===o)&&(l+=o),l+="> ",((o=n.each.call(t,t&&t.targets,{hash:{},inverse:d.noop,fn:d.programWithDepth(3,(function(e,t,s){var r,o="";return o+=' <option value="'+c("function"==typeof(r=e&&e.id)?r.apply(e):r)+'" ',((r=a(i("w+Xr")).call(e,null==(r=s&&s.item)||!1===r?r:r.targetTagID,e&&e.id,{hash:{},inverse:d.noop,fn:d.program(4,u,t),data:t}))||0===r)&&(o+=r),o+="> "+c("function"==typeof(r=e&&e.tag)?r.apply(e):r),((r=n.if.call(e,null==(r=e&&e.mediaSettings)||!1===r?r:r.videoResolution,{hash:{},inverse:d.noop,fn:d.program(6,p,t),data:t}))||0===r)&&(o+=r),o+=" </option> "}),r,t),data:r}))||0===o)&&(l+=o),l+=' <option value="-1" ',((o=n.unless.call(t,null==(o=t&&t.item)||!1===o?o:o.targetTagID,{hash:{},inverse:d.noop,fn:d.program(4,u,r),data:r}))||0===o)&&(l+=o),l+=">"+c(a(i("d8WC")).call(t,"Custom",{hash:{},data:r}))+'</option> </select> <div class="convert-custom-target-container"> <input type="text" class="convert-target-title form-control" name="targetTitle" class="form-control" value="'+c("function"==typeof(o=null==(o=t&&t.item)||!1===o?o:o.target)?o.apply(t):o)+'" placeholder="'+c(a(i("d8WC")).call(t,"Quality Name",{hash:{},data:r}))+'"> <select class="convert-target-profile-select" name="targetProfile"> ',((o=n.each.call(t,t&&t.profiles,{hash:{},inverse:d.noop,fn:d.programWithDepth(8,(function(e,t,n){var s,r="";return r+=' <option value="'+c("function"==typeof(s=e&&e.title)?s.apply(e):s)+'" ',((s=a(i("w+Xr")).call(e,null==(s=n&&n.selectedProfile)||!1===s?s:s.title,e&&e.title,{hash:{},inverse:d.noop,fn:d.program(4,u,t),data:t}))||0===s)&&(r+=s),r+="> "+c("function"==typeof(s=e&&e.title)?s.apply(e):s)+" </option> "}),r,t),data:r}))||0===o)&&(l+=o),l+=' </select> <select class="convert-target-quality-select" name="targetQuality"> ',((o=n.each.call(t,t&&t.availableCustomQualities,{hash:{},inverse:d.noop,fn:d.programWithDepth(10,(function(e,t,n){var s,r="";return r+=' <option value="'+c("function"==typeof(s=e&&e.index)?s.apply(e):s)+'" ',((s=a(i("w+Xr")).call(e,null==(s=n&&n.selectedCustomQuality)||!1===s?s:s.index,e&&e.index,{hash:{},inverse:d.noop,fn:d.program(4,u,t),data:t}))||0===s)&&(r+=s),r+="> "+c(a(i("HdxU")).call(e,e,{hash:{},data:t}))+" </option> "}),r,t),data:r}))||0===o)&&(l+=o),l+=' </select> </div> <p class="help-block">'+c(a(i("d8WC")).call(t,"Plex will convert your media to this quality. Each version will be stored in a separate file.",{hash:{},data:r}))+"</p> "}))},fZKy:function(e,t,i){e.exports={item:"SharedItemMetadataCell-item-w0Wz_p",isActionsMenuOpen:"SharedItemMetadataCell-isActionsMenuOpen-HTHI-h",moreButton:"SharedItemMetadataCell-moreButton-1uwdP1",alternateItem:"SharedItemMetadataCell-alternateItem-1TBVng SharedItemMetadataCell-item-w0Wz_p",underlay:"SharedItemMetadataCell-underlay-3Z1q2M",overlay:"SharedItemMetadataCell-overlay-2l-RKE",posterContainer:"SharedItemMetadataCell-posterContainer-3O2CIh",summaryContainer:"SharedItemMetadataCell-summaryContainer-1RnMUu",titleContainer:"SharedItemMetadataCell-titleContainer-3gfbmb",title:"SharedItemMetadataCell-title-1x3m6K",type:"SharedItemMetadataCell-type-2bG9Xp",actions:"SharedItemMetadataCell-actions-3NIcCg"}},fbCT:function(e,t,i){var n=i("3O+N");e.exports=(n.default||n).template((function(e,t,n,a,s){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),s=s||{};var r,o,l="",c=this.escapeExpression;function d(e,t){return"disabled"}return l+='<div class="form-group"> <label for="lockable-'+c("function"==typeof(r=t&&t.name)?r.apply(t):r)+'">'+c((o=i("d8WC"),o&&(o.__esModule?o.default:o)).call(t,t&&t.label,{hash:{},data:s}))+'</label> <div class="input-group"> <a href="#" data-field="'+c("function"==typeof(r=t&&t.name)?r.apply(t):r)+'" class="input-group-addon edit-lock-addon ',((r=n.if.call(t,t&&t.locked,{hash:{},inverse:this.noop,fn:this.program(1,(function(e,t){return"locked"}),s),data:s}))||0===r)&&(l+=r),l+=" ",((r=n.if.call(t,t&&t.disabled,{hash:{},inverse:this.noop,fn:this.program(3,d,s),data:s}))||0===r)&&(l+=r),l+='" tabindex="-1"><i class="glyphicon lock"></i></a> <input type="number" id="lockable-'+c("function"==typeof(r=t&&t.name)?r.apply(t):r)+'" class="form-control lockable-field" name="'+c("function"==typeof(r=t&&t.name)?r.apply(t):r)+'" value="'+c("function"==typeof(r=t&&t.value)?r.apply(t):r)+'" placeholder="'+c("function"==typeof(r=t&&t.placeholder)?r.apply(t):r)+'" ',((r=n.if.call(t,t&&t.disabled,{hash:{},inverse:this.noop,fn:this.program(3,d,s),data:s}))||0===r)&&(l+=r),l+="> </div> </div> "}))},ffMF:function(e,t,i){"use strict";var n=i("G4qV"),a=i("l1OG");const s=Object(n.a)(a.a,({language:e})=>e);t.a=s},fhkX:function(e,t,i){e.exports={troubleshootingSection:"ServerTroubleshootingPane-troubleshootingSection-2sPDnQ",buttonContainer:"ServerTroubleshootingPane-buttonContainer-32mhYG",buttonStatus:"ServerTroubleshootingPane-buttonStatus-_ZS1zr",buttonStatusSuccess:"ServerTroubleshootingPane-buttonStatusSuccess-12Jbj9 ServerTroubleshootingPane-buttonStatus-_ZS1zr",buttonStatusError:"ServerTroubleshootingPane-buttonStatusError-1Kyp1H ServerTroubleshootingPane-buttonStatus-_ZS1zr",button:"ServerTroubleshootingPane-button-Av642k",description:"ServerTroubleshootingPane-description-2JlKLF"}},fjrA:function(e,t,i){"use strict";let n,a,s,r,o,l;i.d(t,"f",(function(){return n})),i.d(t,"d",(function(){return a})),i.d(t,"c",(function(){return s})),i.d(t,"e",(function(){return r})),i.d(t,"b",(function(){return o})),i.d(t,"a",(function(){return l})),function(e){e.ArrowDown="ArrowDown",e.ArrowLeft="ArrowLeft",e.ArrowRight="ArrowRight",e.ArrowUp="ArrowUp",e.Enter="Enter",e.KeyA="KeyA",e.KeyC="KeyC",e.KeyD="KeyD",e.KeyF="KeyF",e.KeyG="KeyG",e.KeyH="KeyH",e.KeyI="KeyI",e.KeyJ="KeyJ",e.KeyK="KeyK",e.KeyL="KeyL",e.KeyQ="KeyQ",e.KeyR="KeyR",e.KeyS="KeyS",e.KeyW="KeyW",e.KeyX="KeyX",e.KeyT="KeyT",e.KeyZ="KeyZ",e.ShiftLeft="ShiftLeft",e.ShiftRight="ShiftRight"}(n||(n={})),function(e){e[e.Button0=0]="Button0",e[e.Button1=1]="Button1",e[e.Button2=2]="Button2",e[e.Button3=3]="Button3",e[e.Button4=4]="Button4",e[e.Button5=5]="Button5",e[e.Button6=6]="Button6",e[e.Button7=7]="Button7",e[e.Button8=8]="Button8",e[e.Button9=9]="Button9",e[e.Button10=10]="Button10",e[e.Button11=11]="Button11",e[e.Button12=12]="Button12",e[e.Button13=13]="Button13",e[e.Button14=14]="Button14",e[e.Button15=15]="Button15",e[e.Button16=16]="Button16",e[e.Button17=17]="Button17"}(a||(a={})),function(e){e[e.Axis0=0]="Axis0",e[e.Axis1=1]="Axis1",e[e.Axis2=2]="Axis2",e[e.Axis3=3]="Axis3"}(s||(s={})),function(e){e[e.None=0]="None",e[e.Keyboard=1]="Keyboard",e[e.Gamepad=2]="Gamepad"}(r||(r={})),function(e){e[e.Ok=0]="Ok",e[e.UnknownFailure=8e3]="UnknownFailure",e[e.AccountLinkageMissing=8001]="AccountLinkageMissing",e[e.PlatformMissing=8002]="PlatformMissing",e[e.PlatformCoreMappingMissing=8003]="PlatformCoreMappingMissing",e[e.PlatformCoreMissing=8004]="PlatformCoreMissing",e[e.TranscoderDied=8005]="TranscoderDied",e[e.InvalidCoreMappingFile=8006]="InvalidCoreMappingFile",e[e.MissingCoreMappingFile=8007]="MissingCoreMappingFile",e[e.SessionPeerNeverShowedUp=8008]="SessionPeerNeverShowedUp",e[e.TranscoderDownloading=8009]="TranscoderDownloading",e[e.PlatformCoreDownloading=8010]="PlatformCoreDownloading",e[e.PlatformCoreMappingFileMissingOrInvalid=8011]="PlatformCoreMappingFileMissingOrInvalid",e[e.RomMissing=8012]="RomMissing",e[e.SubscriptionRequired=8013]="SubscriptionRequired"}(o||(o={})),function(e){e[e.PauseGame=1]="PauseGame",e[e.ResumeGame=2]="ResumeGame"}(l||(l={}))},fmBJ:function(e,t,i){e.exports={image:"DVRDeviceImage-image-3sq8i_"}},frcC:function(e,t,i){"use strict";i.r(t);var n=i("FIl5"),a=i("66GW");t.default=function(e){return e&&n.a.parseBoolean(e)?Object(a.default)("Yes"):Object(a.default)("No")}},fwi0:function(e,t,i){"use strict";i.d(t,"a",(function(){return n}));const n="livetv"},fz6g:function(e,t,i){var n=i("3O+N");function a(e){return e&&(e.__esModule?e.default:e)}e.exports=(n.default||n).template((function(e,t,n,s,r){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),r=r||{};var o,l="",c=this.escapeExpression,d=this;function u(e,t){var n="";return n+=' <h4 class="server-connect-error-header">'+c(a(i("d8WC")).call(e,"Problem Connecting to Plex",{hash:{},data:t}))+'</h4> <p class="text-muted">'+c(a(i("d8WC")).call(e,"Your server was unable to reach Plex. Please ensure that the computer or device running your server can access the internet.",{hash:{},data:t}))+"</p> "}function p(e,t){var n="";return n+=' <h4 class="server-connect-error-header">'+c(a(i("d8WC")).call(e,"Signed in to Plex",{hash:{},data:t}))+'</h4> <p class="text-muted">'+c(a(i("d8WC")).call(e,"You have successfully signed your server in to Plex, but we were unable to reach it from outside your network.",{hash:{},data:t}))+"</p> "}return((o=a(i("w+Xr")).call(t,t&&t.mappingError,"badauth",{hash:{},inverse:d.program(3,(function(e,t){var n,s="";return((n=a(i("w+Xr")).call(e,e&&e.mappingError,"myplexgone",{hash:{},inverse:d.program(6,p,t),fn:d.program(4,u,t),data:t}))||0===n)&&(s+=n),s+=" "}),r),fn:d.program(1,(function(e,t){var n="";return n+=' <h4 class="server-connect-error-header">'+c(a(i("d8WC")).call(e,"Problem Connecting to Plex",{hash:{},data:t}))+'</h4> <p class="text-muted">'+c(a(i("d8WC")).call(e,"Plex was unable to authenticate your server. Please sign your server out and try again.",{hash:{},data:t}))+"</p> "}),r),data:r}))||0===o)&&(l+=o),l+=" ",((o=a(i("WX+G")).call(t,t&&t.context,"settings",{hash:{},inverse:d.noop,fn:d.program(8,(function(e,t){var n="";return n+=' <p class="text-muted">'+c(a(i("d8WC")).call(e,"If you skip this step you will not be able to share or stream media outside your home. If you change your mind later, you can adjust this in Settings.",{hash:{},data:t}))+"</p> "}),r),data:r}))||0===o)&&(l+=o),l+=' <p class="text-muted">'+c(a(i("d8WC")).call(t,"If you would like to enable this now, you will need to configure your router or firewall to allow Plex to contact your server. Please refer to our {1}Connecting a Server{2} article for more information.",'<a href="http://support.plex.tv/hc/en-us/articles/200484543-Connecting-a-Server/?utm_source=Plex%20Apps&utm_medium=Plex%20Web&utm_campaign=Plex%20Apps" target="_blank">',"</a>",{hash:{},data:r}))+"</p> "}))},"g/3I":function(e,t,i){e.exports={iconButton:"IconButton-iconButton-2l04Bi Link-link-2ew_DK",isDisabled:"IconButton-isDisabled-12-jv9",isActive:"IconButton-isActive-3bCOJP"}},gA5T:function(e,t,i){e.exports={multiSelectPageHeader:"MultiSelectPageHeader-multiSelectPageHeader-MIQA1B PageHeader-pageHeader-2KNPGd",selectedTitle:"MultiSelectPageHeader-selectedTitle-1kn-xo",deselectLink:"MultiSelectPageHeader-deselectLink-3Muvcm",icon:"MultiSelectPageHeader-icon-3_oXiP"}},"gBB/":function(e,t,i){e.exports={menuPortal:"SourceSidebarMenu-menuPortal-LagpOp Menu-menuPortal-AbMPTD"}},gE37:function(e,t,i){e.exports={toast:"AudioVideoToast-toast-3RFwwG",metadataContainer:"AudioVideoToast-metadataContainer-Zqu4Pm"}},gEbU:function(e,t,i){e.exports={title:"TopPlayedColumn-title-VGe39d",item:"TopPlayedColumn-item-2_k5yY",emptyItem:"TopPlayedColumn-emptyItem-2STj9D TopPlayedColumn-item-2_k5yY"}},gZNl:function(e,t,i){e.exports={label:"DVRSetupPostalCodeInput-label-2511fq FormLabel-label-2aLJ9b"}},gZro:function(e,t,i){"use strict";i.r(t);var n={};i.r(n),i.d(n,"testServerConnection",(function(){return Ke})),i.d(n,"abortServerConnectionTest",(function(){return Ye})),i.d(n,"populateServerIdentity",(function(){return qe})),i.d(n,"refreshMetadata",(function(){return pn})),i.d(n,"analyzeItems",(function(){return hn})),i.d(n,"analyzeSection",(function(){return yn})),i.d(n,"unmatch",(function(){return fn})),i.d(n,"splitApart",(function(){return bn})),i.d(n,"merge",(function(){return In})),i.d(n,"deleteItems",(function(){return Cn})),i.d(n,"deleteMediaItem",(function(){return jn})),i.d(n,"deleteVersions",(function(){return wn})),i.d(n,"deleteSection",(function(){return En})),i.d(n,"deleteSectionThumbnails",(function(){return Nn})),i.d(n,"deletePlaylist",(function(){return xn})),i.d(n,"updateLibrary",(function(){return An})),i.d(n,"optimize",(function(){return Ln})),i.d(n,"cleanBundles",(function(){return kn})),i.d(n,"emptyTrash",(function(){return Rn})),i.d(n,"match",(function(){return zn})),i.d(n,"autoMatch",(function(){return Un})),i.d(n,"changeArtwork",(function(){return Bn})),i.d(n,"rate",(function(){return Fn})),i.d(n,"selectStream",(function(){return Wn})),i.d(n,"deleteFile",(function(){return Qn})),i.d(n,"deleteItem",(function(){return Xn})),i.d(n,"enableVersionGenerator",(function(){return $n})),i.d(n,"disableVersionGenerator",(function(){return ea})),i.d(n,"reprocessVersionGenerator",(function(){return ta})),i.d(n,"deleteVersionGenerator",(function(){return ia})),i.d(n,"deleteAllVersionGenerators",(function(){return aa})),i.d(n,"updateChannel",(function(){return sa})),i.d(n,"uninstallChannel",(function(){return oa})),i.d(n,"connectServer",(function(){return ca})),i.d(n,"reconnectServer",(function(){return da})),i.d(n,"signInServer",(function(){return ua})),i.d(n,"removeServer",(function(){return ha})),i.d(n,"resetUser",(function(){return _r})),i.d(n,"switchUser",(function(){return wo})),i.d(n,"authenticateWithServer",(function(){return Lo})),i.d(n,"authenticateWithHash",(function(){return ko})),i.d(n,"showSyncModal",(function(){return Sl})),i.d(n,"deleteSyncItem",(function(){return Cl})),i.d(n,"refreshSyncLists",(function(){return Ml})),i.d(n,"removeDevice",(function(){return Dl})),i.d(n,"signOut",(function(){return Ol})),i.d(n,"remotePlaybackUnlock",(function(){return jl}));var a={};i.r(a),i.d(a,"POSTER",(function(){return Sc})),i.d(a,"MOSAIC",(function(){return Cc})),i.d(a,"TABLE",(function(){return Mc})),i.d(a,"SIMPLE_SUMMARY",(function(){return Dc})),i.d(a,"SUMMARY",(function(){return Pc})),i.d(a,"EPG_EPISODE",(function(){return Oc})),i.d(a,"SHARED_ITEMS",(function(){return jc})),i.d(a,"showListStyles",(function(){return wc})),i.d(a,"showListStylesSlider",(function(){return Tc})),i.d(a,"showListStylesMenu",(function(){return Ec})),i.d(a,"default",(function(){return Nc}));var s={};i.r(s),i.d(s,"SERVER",(function(){return ht.n})),i.d(s,"PROVIDER",(function(){return ht.k})),i.d(s,"LIBRARY",(function(){return ht.d})),i.d(s,"HUB",(function(){return ht.c})),i.d(s,"USER",(function(){return ht.p})),i.d(s,"RESOURCE",(function(){return ht.l})),i.d(s,"FRIEND",(function(){return ht.a})),i.d(s,"HOME_USER",(function(){return ht.b})),i.d(s,"METADATA_LIST",(function(){return ht.h})),i.d(s,"METADATA_ITEM",(function(){return ht.g})),i.d(s,"MEDIA_SUBSCRIPTION",(function(){return ht.f})),i.d(s,"LIVE_TV_SESSION",(function(){return ht.e})),i.d(s,"PLAY_QUEUE_ITEM",(function(){return ht.j})),i.d(s,"PLAYLIST_ITEM",(function(){return ht.i})),i.d(s,"SEARCH_RESULT",(function(){return ht.m})),i.d(s,"TRANSCODE_JOBS",(function(){return ht.o})),i.d(s,"WATCH_TOGETHER_ROOM",(function(){return ht.q})),i.d(s,"BACKGROUND_TRANSCODE_JOBS",(function(){return Fj})),i.d(s,"SYNC_METADATA_ITEM",(function(){return Hj}));var r={};i.r(r),i.d(r,"resetEPGSettings",(function(){return VU})),i.d(r,"fetchEPGCountries",(function(){return BU})),i.d(r,"fetchEPGLanguages",(function(){return FU})),i.d(r,"selectEPGCountry",(function(){return HU})),i.d(r,"selectEPGLanguage",(function(){return _U})),i.d(r,"selectEPGRegion",(function(){return WU})),i.d(r,"setEPGPostalCode",(function(){return QU})),i.d(r,"fetchEPGLineups",(function(){return GU}));var o={};i.r(o),i.d(o,"AVAILABLE",(function(){return QX})),i.d(o,"DONE",(function(){return GX})),i.d(o,"DOWNLOADED",(function(){return KX})),i.d(o,"DOWNLOADING",(function(){return YX})),i.d(o,"ERROR",(function(){return qX})),i.d(o,"INSTALLING",(function(){return ZX})),i.d(o,"NONE",(function(){return JX})),i.d(o,"NOTIFY",(function(){return XX}));var l={};i.r(l),i.d(l,"INIT_QUICK_SEARCH",(function(){return Ite})),i.d(l,"RESET_QUICK_SEARCH",(function(){return Ste})),i.d(l,"FETCH_QUICK_SEARCH",(function(){return Cte})),i.d(l,"CHANGE_QUICK_SEARCH_QUERY",(function(){return Mte})),i.d(l,"CHANGE_QUICK_SEARCH_SETTINGS",(function(){return Dte})),i.d(l,"SELECT_QUICK_SEARCH_RESULT",(function(){return Pte})),i.d(l,"NAVIGATE_QUICK_SEARCH_RESULT",(function(){return Ote})),i.d(l,"PLAY_QUICK_SEARCH_RESULT",(function(){return jte})),i.d(l,"initQuickSearch",(function(){return wte})),i.d(l,"resetQuickSearch",(function(){return Tte})),i.d(l,"fetchQuickSearch",(function(){return Ete})),i.d(l,"changeQuickSearchQuery",(function(){return Nte})),i.d(l,"changeQuickSearchSettings",(function(){return xte})),i.d(l,"selectQuickSearchResult",(function(){return Ate})),i.d(l,"navigateQuickSearchResult",(function(){return Lte})),i.d(l,"playQuickSearchResult",(function(){return kte})),i.d(l,"quickSearchActionHandlers",(function(){return Vte}));var c={};i.r(c),i.d(c,"REDISPATCH_LEGACY_METADATA_ACTION",(function(){return Pne})),i.d(c,"ANALYZE_METADATA_ITEM",(function(){return One})),i.d(c,"DELETE_METADATA_ITEM",(function(){return jne})),i.d(c,"DELETE_METADATA_ITEM_VERSION",(function(){return wne})),i.d(c,"DOWNLOAD_METADATA_ITEM_VERSION",(function(){return Tne})),i.d(c,"EDIT_METADATA_ITEM",(function(){return Ene})),i.d(c,"FIX_METADATA_ITEM_MATCH",(function(){return Nne})),i.d(c,"GET_METADATA_ITEM_INFO",(function(){return xne})),i.d(c,"UPDATE_METADATA_ITEM_PLAYED_STATUS",(function(){return Ane})),i.d(c,"OPTIMIZE_METADATA_ITEM",(function(){return Lne})),i.d(c,"RATE_METADATA_ITEM",(function(){return kne})),i.d(c,"REFRESH_METADATA_ITEM",(function(){return Rne})),i.d(c,"SPLIT_METADATA_ITEM_APART",(function(){return zne})),i.d(c,"SYNC_METADATA_ITEM",(function(){return Une})),i.d(c,"UNMATCH_METADATA_ITEM",(function(){return Vne})),i.d(c,"CHANGE_METADATA_ITEM_FIELD",(function(){return Bne})),i.d(c,"UPDATE_METADATA_ITEM_REFRESHING_STATE",(function(){return Fne})),i.d(c,"UPDATE_METADATA_SETTINGS",(function(){return Hne})),i.d(c,"CLEAR_METADATA_SETTINGS_ERROR",(function(){return _ne})),i.d(c,"UPDATE_DOWNLOAD_AVAILABILITY",(function(){return Wne})),i.d(c,"UPDATE_DOWNLOAD_AVAILABILITY_FROM_DELETED_TIMELINE",(function(){return Qne})),i.d(c,"SET_DOWNLOAD_SUBSCRIPTION_ID",(function(){return Gne})),i.d(c,"UNSET_DOWNLOAD_SUBSCRIPTION_ID",(function(){return Kne})),i.d(c,"UPDATE_DOWNLOAD_SUBSCRIPTION_IDS",(function(){return Yne})),i.d(c,"MODIFY_SMART_PLAYLIST",(function(){return qne})),i.d(c,"redispatchLegacyMetadataAction",(function(){return Zne})),i.d(c,"analyzeMetadataItem",(function(){return Jne})),i.d(c,"deleteMetadataItem",(function(){return Xne})),i.d(c,"deleteMetadataItemVersion",(function(){return $ne})),i.d(c,"downloadMetadataItemVersion",(function(){return eae})),i.d(c,"editMetadataItem",(function(){return tae})),i.d(c,"fixMetadataItemMatch",(function(){return iae})),i.d(c,"getMetadataItemInfo",(function(){return nae})),i.d(c,"updateMetadataItemPlayedStatus",(function(){return aae})),i.d(c,"optimizeMetadataItem",(function(){return sae})),i.d(c,"rateMetadataItem",(function(){return rae})),i.d(c,"refreshMetadataItem",(function(){return oae})),i.d(c,"splitMetadataItemApart",(function(){return lae})),i.d(c,"syncMetadataItem",(function(){return cae})),i.d(c,"unmatchMetadataItem",(function(){return dae})),i.d(c,"changeMetadataItemField",(function(){return uae})),i.d(c,"updateMetadataItemRefreshingState",(function(){return pae})),i.d(c,"updateMetadataSettings",(function(){return hae})),i.d(c,"clearMetadataSettingsError",(function(){return mae})),i.d(c,"favoriteMetadataItem",(function(){return gae})),i.d(c,"unfavoriteMetadataItem",(function(){return vae})),i.d(c,"markMetadataItemUnplayed",(function(){return yae})),i.d(c,"markMetadataItemPlayed",(function(){return fae})),i.d(c,"setDownloadSubscriptionID",(function(){return bae})),i.d(c,"unsetDownloadSubscriptionID",(function(){return Iae})),i.d(c,"updateDownloadAvailability",(function(){return Sae})),i.d(c,"updateDownloadAvailabilityFromDeletedTimeline",(function(){return Cae})),i.d(c,"updateDownloadSubscriptionIDs",(function(){return Mae})),i.d(c,"modifySmartPlaylist",(function(){return Dae})),i.d(c,"metadataActionHandlers",(function(){return Oae}));var d={};i.r(d),i.d(d,"TONE_MAPPING",(function(){return Cme}));var u={};i.r(u),i.d(u,"NORTH",(function(){return Zye})),i.d(u,"NORTHEAST",(function(){return Jye})),i.d(u,"EAST",(function(){return Xye})),i.d(u,"SOUTHEAST",(function(){return $ye})),i.d(u,"SOUTH",(function(){return efe})),i.d(u,"SOUTHWEST",(function(){return tfe})),i.d(u,"WEST",(function(){return ife})),i.d(u,"NORTHWEST",(function(){return nfe})),i.d(u,"CENTER",(function(){return afe}));var p={};i.r(p),i.d(p,"INIT_RECORDING_SCHEDULE_PAGE",(function(){return dft})),i.d(p,"CLEAR_RECORDING_SCHEDULE_PAGE",(function(){return uft})),i.d(p,"FETCH_MEDIA_SUBSCRIPTIONS",(function(){return pft})),i.d(p,"MOVE_MEDIA_SUBSCRIPTION",(function(){return hft})),i.d(p,"SET_VISIBLE_DAYS",(function(){return mft})),i.d(p,"GO_TO_TODAY",(function(){return gft})),i.d(p,"GO_TO_PREVIOUS_RANGE",(function(){return vft})),i.d(p,"GO_TO_NEXT_RANGE",(function(){return yft})),i.d(p,"FETCH_CALENDAR",(function(){return fft})),i.d(p,"PLAY_RECORDING",(function(){return bft})),i.d(p,"CLEAR_MOVE_ERROR",(function(){return Ift})),i.d(p,"initRecordingSchedulePage",(function(){return Sft})),i.d(p,"clearRecordingSchedulePage",(function(){return Cft})),i.d(p,"fetchMediaSubscriptions",(function(){return Mft})),i.d(p,"moveMediaSubscription",(function(){return Dft})),i.d(p,"setVisibleDays",(function(){return Pft})),i.d(p,"goToToday",(function(){return Oft})),i.d(p,"goToPreviousRange",(function(){return jft})),i.d(p,"goToNextRange",(function(){return wft})),i.d(p,"fetchCalendar",(function(){return Tft})),i.d(p,"playRecording",(function(){return Eft})),i.d(p,"clearMoveError",(function(){return Nft})),i.d(p,"recordingSchedulePageActionHandlers",(function(){return kft}));var h={};i.r(h),i.d(h,"INIT_LIBRARY_PAGE",(function(){return aDt})),i.d(h,"CLEAR_LIBRARY_PAGE_ERRORS",(function(){return sDt})),i.d(h,"INIT_LIBRARY_PAGE_METADATA_LIST",(function(){return rDt})),i.d(h,"INIT_LIBRARY_PAGE_SUPPORTING_LISTS",(function(){return oDt})),i.d(h,"FETCH_LIBRARY_DETAILS",(function(){return lDt})),i.d(h,"POPULATE_LIBRARY_DETAILS",(function(){return cDt})),i.d(h,"FETCH_LIBRARY_FIRST_CHARACTERS",(function(){return dDt})),i.d(h,"POPULATE_LIBRARY_FIRST_CHARACTERS",(function(){return uDt})),i.d(h,"FETCH_QUERY_PARSE",(function(){return pDt})),i.d(h,"POPULATE_QUERY_PARSE",(function(){return hDt})),i.d(h,"SELECT_LIBRARY_FILTER",(function(){return mDt})),i.d(h,"DESELECT_LIBRARY_FILTER",(function(){return gDt})),i.d(h,"FETCH_LIBRARY_FILTER_OPTIONS",(function(){return vDt})),i.d(h,"POPULATE_LIBRARY_FILTER_OPTIONS",(function(){return yDt})),i.d(h,"SEARCH_LIBRARY_FILTER_OPTIONS",(function(){return fDt})),i.d(h,"SELECT_LIBRARY_TABLE_COLUMN",(function(){return bDt})),i.d(h,"DESELECT_LIBRARY_TABLE_COLUMN",(function(){return IDt})),i.d(h,"UPDATE_SMART_PLAYLIST",(function(){return SDt})),i.d(h,"NAVIGATE_PLAYLIST",(function(){return CDt})),i.d(h,"initLibraryPage",(function(){return MDt})),i.d(h,"clearLibraryPageErrors",(function(){return DDt})),i.d(h,"initLibraryPageMetadataList",(function(){return PDt})),i.d(h,"initLibraryPageSupportingLists",(function(){return ODt})),i.d(h,"fetchLibraryDetails",(function(){return jDt})),i.d(h,"populateLibraryDetails",(function(){return wDt})),i.d(h,"fetchLibraryFirstCharacters",(function(){return TDt})),i.d(h,"populateLibraryFirstCharacters",(function(){return EDt})),i.d(h,"fetchQueryParse",(function(){return NDt})),i.d(h,"populateQueryParse",(function(){return xDt})),i.d(h,"selectLibraryFilter",(function(){return ADt})),i.d(h,"deselectLibraryFilter",(function(){return LDt})),i.d(h,"fetchLibraryFilterOptions",(function(){return kDt})),i.d(h,"populateLibraryFilterOptions",(function(){return RDt})),i.d(h,"searchLibraryFilterOptions",(function(){return zDt})),i.d(h,"selectLibraryTableColumn",(function(){return UDt})),i.d(h,"deselectLibraryTableColumn",(function(){return VDt})),i.d(h,"updateSmartPlaylist",(function(){return BDt})),i.d(h,"navigatePlaylist",(function(){return FDt})),i.d(h,"libraryPageActionHandlers",(function(){return _Dt}));var m={};i.r(m),i.d(m,"AUTO",(function(){return kKt})),i.d(m,"CHANNELS_2_0",(function(){return RKt})),i.d(m,"CHANNELS_2_1",(function(){return zKt})),i.d(m,"CHANNELS_3_1",(function(){return UKt})),i.d(m,"CHANNELS_5_1",(function(){return VKt})),i.d(m,"CHANNELS_7_1",(function(){return BKt}));var g={};i.r(g),i.d(g,"AC3",(function(){return FKt})),i.d(g,"DTS",(function(){return HKt})),i.d(g,"DTS_HD",(function(){return _Kt})),i.d(g,"EAC3",(function(){return WKt})),i.d(g,"TRUEHD",(function(){return QKt}));i("4Brf"),i("tjZM"),i("BIHw"),i("XbcX"),i("Junv"),i("ToJy"),i("QGkA"),i("c9m3"),i("wZ/5"),i("rOQg"),i("wfmh"),i("p532"),i("UxlC"),i("SYor"),i("HiXI"),i("7ueG"),i("z8NH"),i("SpvK"),i("/Yfv"),i("iwkZ"),i("FDzp"),i("XMab"),i("ilnZ"),i("hMMk"),i("+ywr"),i("IL/d"),i("7JcK"),i("8go2"),i("3bBZ"),i("Ew+T"),i("n5b4"),i("Kz25"),i("vxnP"),i("mGGf");var v=i("Khyo"),y=i("DYcP"),f=i.n(y),b=i("F/us"),I=i.n(b),S=i("slDQ"),C=i("0jae"),M=i("EVdn"),D=i.n(M);D.a.fn.isDisabled=function(){return this.hasClass("disabled")||this.hasClass("active")||this.hasClass("hidden")},D.a.fn.selectText=function(){const e=this[0];let t;if(document.body.createTextRange)t=document.body.createTextRange(),t.moveToElementText(e),t.select();else if(window.getSelection){const i=window.getSelection();t=document.createRange(),t.selectNodeContents(e),i.removeAllRanges(),i.addRange(t)}},D.a.fn.triggerReflow=function(){const e=this[0];return e&&e.offsetHeight,this},f.a.isNodeAttached=function(e){return v.c.$.contains(document.documentElement,e)};const P=I.a.clone(f.a.View.prototype),O=I.a.clone(f.a.CollectionView.prototype),j=I.a.clone(f.a.Region.prototype),w=I.a.clone(f.a.Region),T=I.a.clone(f.a.Layout.prototype),E={constructor:function(){this.wrapAfterRender(),P.constructor.apply(this,arguments),this.listenViewEvents()},listenViewEvents:function(){this.stopListeningViewEvents();const e=I.a.result(this,"viewEvents");e&&(this._viewEventsListeners=I.a.mapObject(e,e=>I.a.isString(e)?this[e]:e),this.listenTo(this,this._viewEventsListeners))},stopListeningViewEvents:function(){this._viewEventsListeners&&(this.stopListening(this,this._viewEventsListeners),delete this._viewEventsListeners)},_setElement:function(){P._setElement.apply(this,arguments),this.el&&(this.el._viewInstance?this.el._viewInstance!==this&&C.a.warn('Multiple views registered for a single element with class="%s"',this.el.className):this.el._viewInstance=this)},_removeElement:function(){this.el&&delete this.el._viewInstance,P._removeElement.apply(this,arguments)},bindAllWhenRendered:function(){Object(S.a)(arguments.length>0,"`bindAllWhenRendered` requires at least one function");const e=Array.isArray(arguments[0])?arguments[0]:arguments;I.a.each(e,(function(e){try{this[e]=this.whenRendered(this[e])}catch(t){Object(S.a)(!1,"`bindAllWhenRendered` is unable to wrap "+JSON.stringify(e))}}),this)},whenRendered:function(e){return Object(S.a)(I.a.isFunction(e),"`whenRendered` must be called with a single function"),I.a.bind((function(){if(this.isClosed)return;const t=I.a.toArray(arguments),i=I.a.bind((function(){this.isRendered&&!this.isClosed&&e.apply(this,t)}),this);this.isRendered?I.a.defer(i):this.listenToOnce(this,"render",(function(){I.a.defer(i)}))}),this)},wrapAfterRender:function(){void 0!==this.onlyAfterRender&&(Object(S.a)(Array.isArray(this.onlyAfterRender),"`onlyAfterRender` must be an array"),this.bindAllWhenRendered.apply(this,this.onlyAfterRender))},bindUIElements:function(){P.bindUIElements.apply(this,arguments),this.bindToModel(),this.isRendered=!0},unbindUIElements:function(){P.unbindUIElements.apply(this,arguments),this.unbindFromModel()},_getImmediateChildren:function(){return[]},_getNestedViews:function(){const e=this._getImmediateChildren();return e.length?I.a.reduce(e,(function(e,t){return t._getNestedViews?e.concat(t._getNestedViews()):e}),e):e}},N={constructor:function(){O.constructor.apply(this,arguments)},triggerRendered:function(){return this.isRendered=!0,O.triggerRendered.apply(this,arguments)},rebase:function(e){return this.stopListening(this.collection),this.collection=e,this._initialEvents(),I.a.isFunction(this._renderChildren)?this._renderChildren():this.render(),this},buildItemView:function(){const e=O.buildItemView.apply(this,arguments);return e._parentView=this,e},_getImmediateChildren:function(){return I.a.values(this.children._views)}},x={constructor:function(){O.constructor.apply(this,arguments)}},A={append:function(e,t,i){const n=e.isClosed||I.a.isUndefined(e.$el),a=e!==this.currentView;return a&&this.close(),e.render(),(a||n)&&(t||(t=this.getEl(this.el)),i?t.prepend(e.el):t.append(e.el)),this.attachView(e),f.a.triggerMethod.call(this,"show",e),f.a.triggerMethod.call(e,"show"),this._updateParentView(e),this._triggerAttached(e,t),this},prepend:function(e,t){return this.append(e,t,!0)},show:function(e){j.show.apply(this,arguments),this._updateParentView(e),this._triggerAttached(e,this.$el)},_triggerAttached:function(e,t){if(!f.a.isNodeAttached(t.get(0)))return;const i=I.a.union([e],I.a.result(e,"_getNestedViews")||[]);I.a.each(i,(function(e){e.triggerMethod&&e.triggerMethod("attached",this)}),this)},_updateParentView:function(e){e&&(e._parentView=this._parentView)}},L={buildRegion:function(e,t){const i=w.buildRegion.apply(this,arguments);return i._parentView=e._parentView,i}},k={_buildRegions:function(e){const t=I.a.mapObject(e,e=>I.a.isString(e)?{_parentView:this,selector:e}:I.a.defaults(e,{_parentView:this}));return T._buildRegions.call(this,t)},_getImmediateChildren:function(){return I.a.chain(this.regionManager._regions).values().pluck("currentView").compact().value()}};I.a.extend(f.a.View.prototype,E),I.a.extend(f.a.ItemView.prototype,E),I.a.extend(f.a.CollectionView.prototype,E,N),I.a.extend(f.a.CompositeView.prototype,E,x),I.a.extend(f.a.Region.prototype,A),I.a.extend(f.a.Region,L),I.a.extend(f.a.Layout.prototype,k),f.a.extend=v.c.Model.extend,f.a.Controller.extend=f.a.extend,f.a.Region.extend=f.a.extend,f.a.Application.extend=f.a.extend,f.a.Module.extend=f.a.extend,f.a.View.extend=f.a.extend,f.a.ItemView.extend=f.a.extend,f.a.CollectionView.extend=f.a.extend,f.a.CompositeView.extend=f.a.extend,f.a.Layout.extend=f.a.extend;var R=f.a,z=(i("cnJD"),i("/vPP"),i("CCSj"),i("DBlN"),i("+K+r"),i("vOHB")),U=i("rG0a"),V=i("+X4A");const B={PUT:!0,DELETE:!0},F={Accept:!0,"Accept-Language":!0,"Content-Language":!0,"Content-Type":!0},H=/^(text\/plain|multipart\/form-data|application\/x-www-form-urlencoded)/,_=/(^X-Plex-[^=]+)/i,W=/(^[^?]+)\?(.+$)/;function Q(e){const{type:t,contentType:i,headers:n,allowHeadersInUrl:a,allowBlacklistedMethodHeaders:s}=e;if(!a)return;if(B[t]&&!s)return;const r={};let o=!1;if(I.a.each(n,(e,t)=>{F[t]||(_.test(t)?(o=!0,r[t]=e,delete n[t]):C.a.warn('Did not move header "%s" to query string. This can result in an unnecessary OPTIONS preflight request.',t))}),o){const i=e.url.match(W),[,n,a]=i||[null,e.url,null],s=a?a.split("&"):[],[o,l]=I.a.partition(s,e=>_.test(e)),c=e.data;"GET"===t&&c&&(l.push(I.a.isString(c)?c:V.stringifyParams(c)),delete e.data),o.forEach(e=>{const t=e.match(_);t&&delete r[t[1]]});const d=V.stringifyParams(r);d&&o.push(d),e.url=n+"?"+l.concat(o).join("&")}i&&!H.test(i)&&C.a.warn('Sending %s request with Content-Type "%s". This can result in an unnecessary OPTIONS preflight request.',t,i)}var G=i("T0/d");function K(){return D.a.ajaxPrefilter(Q),G.a.startListening(),D.a.Deferred().resolve().promise()}var Y=i("WSEr"),q=i("3CEA"),Z=i("gtzJ");var J=function(e){return e.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&")},X=i("4P0s");var $=new X.a({props:["X-Plex-Client-Identifier","X-Plex-Device","X-Plex-Device-Name","X-Plex-Device-Screen-Resolution","X-Plex-Device-Vendor","X-Plex-Model","X-Plex-Platform","X-Plex-Platform-Version","X-Plex-Product","X-Plex-Version"]});const ee=["X-Plex-Device","X-Plex-Model","X-Plex-Platform","X-Plex-Platform-Version","X-Plex-Product","X-Plex-Version"];var te=i("GXN7");var ie=function(e){const t=D.a.Deferred();return e&&e.then?e.then(t.resolve,t.resolve):t.resolve(e),t.promise()},ne=i("cgRT");const ae=/^([0-9]{1,3})\.([0-9]{1,3})\.([0-9]{1,3})\.([0-9]{1,3})$/,se=/(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))/i,re=/[a-f0-9]{1,4}/gi;function oe(e){const t=ae.exec(e);if(null!=t)return{octets:I.a.map(I.a.rest(t),e=>parseInt(e,10))}}function le(e){if(!se.test(e))return;const t=e.split("::"),i=t[0].match(re),n={parts:[]};if(null!=i){if(i.length>8)return;n.parts=I.a.map(i,e=>parseInt(e,16))}if(t.length>1){const e=t[1].match(re),i=I.a.map(e,e=>parseInt(e,16)),a=8-n.parts.length-i.length;if(a<0||8===a)return;I.a.times(a,()=>{n.parts.push(0)}),n.parts=n.parts.concat(i)}return n}function ce(e){return pe(e)||function(e){const t=le(e);return!(!t||!I.a.all(t.parts,e=>e>=0&&e<=65535))}(e)}function de(e){return"localhost"===e||function(e){const t=oe(e);return!(!t||127!==t.octets[0]&&!I.a.all(t.octets,e=>0===e))}(e)||function(e){const t=le(e);if(t){return I.a.all(I.a.take(t.parts,7),e=>0===e)&&1===I.a.last(t.parts)}return!1}(e)}function ue(e){return function(e){const t=oe(e);if(t){if(10===t.octets[0])return!0;if(172===t.octets[0]&&t.octets[1]>=16&&t.octets[1]<=31)return!0;if(192===t.octets[0]&&168===t.octets[1])return!0}return!1}(e)||function(e){const t=le(e);return!!(t&&t.parts[0]>=64512&&t.parts[0]<=65023)}(e)}function pe(e){const t=oe(e);return!(!t||!I.a.all(t.octets,e=>e>=0&&e<=255))}var he=function(e){const{hostname:t,protocol:i}=e,n="file:"===i;let a;return"https:"===i?a="https":"http:"===i?a=de(t)?"http-loopback":"http":n&&(a="file"),a};var me=function(e){const[,t,i=""]=e.match(/(^[^#]+)(?:#(.*$))?/),[,n,a=""]=t.match(/(^[^?]+)(\?.*$)?/),[,s,r=""]=i.match(/(^[^?]*)(\?.*$)?/);return{base:n,searchParams:a,hashPath:s,hashParams:r}};const ge=/^utm_/;function ve(){const{searchParams:e,hashParams:t}=me(window.location.href),i=Object.assign({},Object(te.a)(t),Object(te.a)(e));return Object.keys(i).reduce((e,t)=>(ge.test(t)&&(e[t.replace(ge,"")]=i[t]),e),{})}function ye(e={}){const t=Object(ne.c)("metrics"),{context:i={}}=e;return t.set({deviceIdentifier:$.prop("X-Plex-Client-Identifier"),context:Object.assign({},i,{campaign:ve(),device:{product:$.prop("X-Plex-Product"),version:$.prop("X-Plex-Version"),platform:$.prop("X-Plex-Platform"),platformVersion:$.prop("X-Plex-Platform-Version"),device:$.prop("X-Plex-Device"),model:$.prop("X-Plex-Model"),screenResolution:$.prop("X-Plex-Device-Screen-Resolution"),layout:"desktop",protocol:he(window.location)}})}),ie(t.start())}function fe(){return Object(C.a)("[Sources] Initializing..."),Object(ne.c)("sourceManager").start(),Object(C.a)("[Sources] Finished initialization"),D.a.Deferred().resolve().promise()}var be=i("kwss");var Ie=[],Se=i("FIl5");var Ce=function(){if(!z.a.hasReplaceState)return D.a.Deferred().resolve().promise();const e=D.a.Deferred(),t=window.location,i=Se.a.parseQueryString(t.search);let n;try{n=JSON.parse(i.alerts),delete i.alerts}catch(e){}if(n){Ie.push(...n);const e=""+V.join([""+t.origin+t.pathname],i)+t.hash;window.history.replaceState({},"",e)}return e.resolve().promise()};var Me=function(...e){const t=Array.isArray(e[0])?e[0]:e;return D.a.when(...t.map(ie))};var De=new X.a({interface:["get","set","remove","clear"]});var Pe=function(e){e=e>0?Math.min(e,1024):24;let t="";for(;t.length<e;)t+=Math.random().toString(36).substr(2);return t.substr(0,e)};function Oe(e){return I.a.isString(e)&&e.trim().length>0}function je(e,t){const i=Pe();return Object(C.a)("[appModelInitializer] Generating new %s [%s]",t,i),e.set(t,i),De.set(t,i)}function we(e,t){let i;const n=e.get(t);return Oe(n)?i=De.set(t,n):(i=De.get(t),i=i.then(i=>{if(!Oe(i))return C.a.error("[appModelInitializer] Invalid %s found in storage [%s]",t,n),je(e,t);e.set(t,i)},()=>(Object(C.a)("[appModelInitializer] Failed to read %s from storage",t),je(e,t)))),i}function Te(){const e=Object(ne.c)("appModel");return Me(we(e,"clientID"),we(e,"anonymousClientID"),function(e){const t=De.get("skipSignIn");return t.always(t=>{e.set("skipSignIn","1"===t)}),t}(e))}var Ee=i("htvf"),Ne=i("Eeuk"),xe=i("CHn6"),Ae=i("mOXR");function Le(e){if(/\.plex\.direct$/.test(e)){const t=e.indexOf(".");t>0&&(e=(e=e.substring(0,t)).replace(/-/g,"."))}return e}var ke=i("B69o");var Re=xe.a.extend({name:"ConnectionSourceModel",context:["server"],sessionAttrs:{id:Ae.a.string}});var ze=ke.a.extend({name:"ConnectionSourceCollection",context:["server"],model:Re});const Ue=Ae.a.boolean.isRequired;var Ve=xe.a.extend({name:"ConnectionModel",context:["server"],idAttribute:"uri",sessionAttrs:{currentTest:Ae.a.custom(e=>Array.isArray(e)&&e.every(e=>I.a.isFunction(e.abort))),testState:Ae.a.oneOf("untested","pending","connected","unauthorized","unavailable","aborted").isRequired,isBundled:Ue,isFallback:Ue},sessionRelations:{sources:{relationClass:ze}},syncedAttrs:{uri:Ae.a.string,scheme:Ae.a.string,address:Ae.a.string,port:Ae.a.string,relay:Ae.a.boolean},derivedAttrs:{isUntested(){return"untested"===this.get("testState")},isPending(){return"pending"===this.get("testState")},isConnected(){return"connected"===this.get("testState")},isUnauthorized(){return"unauthorized"===this.get("testState")},isUnavailable(){return"unavailable"===this.get("testState")},isFailed(){return this.get("isUnauthorized")||this.get("isUnavailable")},isAborted(){return"aborted"===this.get("testState")},isLoopback(){const e=this.get("address");return"localhost"===e||de(e)},isPrivate(){return this.get("isLoopback")||ue(this.get("address"))},isHttps(){return"https"===this.get("scheme")},isSecure(){return this.get("isLoopback")||this.get("isHttps")},isPlexDirect(){return/\.plex\.direct:/.test(this.get("uri"))}},defaults:{testState:"untested",isBundled:!1,isFallback:!1,relay:!1},url(){return this.get("uri")},constructor:function(e,t){const i=I.a.clone(e);I.a.isObject(e)&&!e.uri&&(Object(S.a)(e.scheme&&e.address,"A server connection requires either a uri or a scheme and address. "+e.scheme+"://"+e.address),i.uri=e.scheme+"://"+e.address,e.port&&(i.uri+=":"+e.port)),xe.a.prototype.constructor.call(this,i,t)},initialize(){this.listenTo(this.get("sources"),"remove reset",this.onSourcesChange)},augmentResponse(e){const t=e.protocol;return t?I.a.extend({},e,{scheme:t}):e},getAddressFromUri(){return Object(V.parseUrl)(this.get("uri")).hostname},getIpAddressFromPlexDirectAddress(){return Le(this.get("address"))},getLoopbackAttributes(){return{scheme:"http",address:"127.0.0.1",port:this.get("port")}},hasSource(e){return this.get("sources").some(t=>e&&t.get("id")===e)},onSourcesChange(){this.get("sources").length||this.trigger("destroy",this,this.collection)}}),Be=i("e/b/");var Fe=Ee.a.extend({lastModified:null,eTag:null,mixins:Ne.a,url:function(){const e=ne.c("appModel"),t=e.get("user"),i="/sub/"+this.requestType+"/"+t.id+"/"+e.get("clientID"),n=new Ve({scheme:"websockets"===this.requestType?"wss":"https",address:"pubsub.plex.tv"});return this.server.resolveUrl(i,{connection:n,appendToken:!0})},initialize:function(e){I.a.bindAll(this,"onSocketOpen","onSocketClose","onSocketError","onSocketMessage","onPingTimeout","onPollSuccess","onPollError"),this.server=e.server},open:function(){return(this.socket||this.pollRequest)&&this.close(),z.a.hasWebSocket?(this._deferred=D.a.Deferred(),this.requestType="websockets",this.socket=new window.WebSocket(I.a.result(this,"url")),this.socket.onopen=this.onSocketOpen,this.socket.onclose=this.onSocketClose,this.socket.onerror=this.onSocketError,this.socket.onmessage=this.onSocketMessage,this._deferred.promise()):this.poll()},close:function(){this.pollRequest&&(G.a.abort(this.pollRequest.rid),this.pollRequest=null),this._deferred&&"pending"===this._deferred.state()&&this._deferred.reject(),this.socket&&(this.cancelPing(),this.socket.onopen=null,this.socket.onclose=null,this.socket.onerror=null,this.socket.onmessage=null,this.socket.close(),this.socket=null)},schedulePing:function(){this.cancelPing(),this._pingTimeoutID=window.setTimeout(this.onPingTimeout,3e4)},cancelPing:function(){this._pingTimeoutID&&(window.clearTimeout(this._pingTimeoutID),this._pingTimeoutID=null)},poll:function(){this.requestType="longpolling",this.pollUrl=V.join(I.a.result(this,"url"),{ttl:String(30)+"s"});const e=this.server.getXHROptions(this.pollUrl,{timeout:35e3});return e.headers["If-Modified-Since"]=this.lastModified?this.lastModified:"Thu, 01 Jan 1970 00:00:00 GMT",this.eTag&&(e.headers["If-None-Match"]=this.eTag),this.pollRequest=D.a.ajax(e).done(this.onPollSuccess).fail(this.onPollError),this.pollRequest.promise()},handleResponse:function(e){if(!e)return;const t=Be.a.parseXML(e);if(I.a.isObject(t)){const e=t.command;U.a.trigger("cloudServer:"+e,t)}},onSocketOpen:function(e){this.server.set("hasEventConnection",!0),this.trigger("open",this.server,e),this._deferred.resolve(this.server,e),this.schedulePing()},onSocketClose:function(e){this.close(),this.server.set("hasEventConnection",!1),this.trigger("close",this.server,e),this._deferred.reject(this.server,e)},onSocketError:function(e){this.close(),this.trigger("error",this.server,e),this._deferred.reject(this.server,e)},onSocketMessage:function(e){this.handleResponse(e.data)},onPingTimeout:function(){this._pingTimeoutID=null,this.socket.send("hello"),this.schedulePing()},onPollSuccess:function(e,t,i){this.trigger("open",this.server,e),this.lastModified=i.getResponseHeader("Last-Modified"),this.eTag=i.getResponseHeader("ETag"),this.handleResponse(e),this.poll()},onPollError:function(e,t){"abort"===t?this.poll():this.pollRequest.aborting||this.trigger("error",this.server,e)}});var He=Ee.a.extend({maximumDelay:30,initialize({callback:e,logFormat:t}){this._serversBeingRetried={},this.callback=e,this.logFormat=t},start(e){this._serversBeingRetried[e.cid]||this.supportsRetry(e)&&(this._serversBeingRetried[e.cid]={server:e,attempt:1},this._scheduleRetry(e))},stop(e){const t=this._serversBeingRetried[e.cid];t&&(window.clearTimeout(t.timeout),delete this._serversBeingRetried[e.cid])},stopAll(){I.a.each(this._serversBeingRetried,(e,t)=>{window.clearTimeout(e.timeout),delete this._serversBeingRetried[t]})},supportsRetry:e=>!0,_scheduleRetry(e){const t=this._serversBeingRetried[e.cid],i=2*Math.min(this.maximumDelay/2,t.attempt);Object(C.a)(this.logFormat,e.get("debugName"),i),t.timeout=window.setTimeout(()=>{this.callback(e),t.attempt++,this._scheduleRetry(e)},1e3*i)}});var _e=He.extend({supportsRetry:e=>e.get("isCloud")});var We=Ee.a.extend({mixins:[Ne.a],initialize(e){this.name=e.name||"ServerEventManager",this.appModel=e.appModel,this.servers=e.servers||this.appModel.get("servers"),this.isValidServer=e.isValidServer,this.supportsLongPolling=e.supportsLongPolling,this.allowMultipleConnections=e.allowMultipleConnections,this.allowAppendingHeaders=e.allowAppendingHeaders,this.ServerEventConnection=e.ServerEventConnection,this.connections={},this._serverRetryManager=new e.ServerRetryManager({appModel:this.appModel,callback:this.retryServerConnections.bind(this),logFormat:"[Connections] Retrying server events connection for %s in %s seconds"})},start(){this.allowMultipleConnections?this.listenTo(this.servers,{"change:isResolved":this.onServerResolvedChange,"change:isRejected":this.onServerRejectedChange,remove:this.onServerRemove,reset:this.onServersReset}):this.listenTo(this.appModel,"change:primaryServer",this.onPrimaryServerChange)},stop(){this.stopListening(),this._serverRetryManager.stopAll(),this.disconnectAll(),this.connections={}},tryConnectServer(e){const t=this.connections[e.id];this.isValidServer(e)&&!t&&(z.a.hasWebSocket||this.supportsLongPolling?this.connect({server:e}).then(null,()=>{this._serverRetryManager.start(e)}):e.trigger("socket:websocket",{error:!0}))},connect(e){const t=e.server;let i=this.connections[t.id];i||(i=new this.ServerEventConnection({server:t,appendHeaders:this.allowAppendingHeaders}),this.connections[t.id]=i,this.listenTo(i,{open:this.onOpen,close:this.onClose,error:this.onClose}));const n=i.open(),a=i.socket?i.socket.url:i.pollUrl;return Object(C.a)("["+this.name+"] Opening server event connection to "+t.get("debugName")+" at "+a),n},disconnectAll(){I.a.each(this.connections,e=>{this.disconnect({connection:e})})},disconnect(e){let t=e.connection;if(t||(t=this.connections[e.server.id]),t){const e=t.socket?t.socket.url:t.pollUrl,i=t.server;Object(C.a)("["+this.name+"] Closing server event connection to "+i.get("debugName")+" at "+e),this.stopListening(t),this._serverRetryManager.stop(t.server),t.close(),delete this.connections[t.server.id]}},retryServerConnections:function(e){this.isValidServer(e)&&e.get("isResolved")&&this.connect({server:e})},onPrimaryServerChange(e,t){this.disconnectAll(),t&&this.tryConnectServer(t)},onServerResolvedChange(e,t){t&&this.tryConnectServer(e)},onServerRejectedChange(e,t){t&&this.disconnect({server:e})},onServerRemove(e){const t=this.connections[e.id];if(t&&(this.disconnect({connection:t}),e.get("isMerged")&&t)){const t=this.servers.get(e.id);this.connect({server:t})}},onServersReset(e,t){const i=t.previousModels;I.a.each(i,t=>{e.contains(t)||this.disconnect({server:t})})},onOpen(e){const t=this.connections[e.id],i=t.socket?t.socket.url:t.pollUrl;C.a.info("["+this.name+"] Opened server event connection to "+e.get("debugName")+" at "+i),this._serverRetryManager.stop(e)},onClose(e){C.a.warn("["+this.name+"] Unexpectedly closed server event connection to "+e.get("debugName")),this._serverRetryManager.start(e)}});function Qe(e){return e.get("isCloud")}var Ge={_map:{},register(e,t){Object(S.a)(I.a.isFunction(t),'The "'+e+'" command must be a function'),this._map[e]=t},registerAll(e){I.a.each(e,(e,t)=>{"__esModule"!==t&&this.register(t,e)})},hasRegistered(e){return this._map.hasOwnProperty(e)},reset(){this._map={}},execute(e,...t){const i=this._map[e];if(Object(S.a)(i,'The "'+e+'" command has not been registered'),i)return Object(C.a)("[Commands] Executing",e),i(...t)}};var Ke=function(e){return Object(ne.c)("serverConnectionTestManager").queueConnectionTest(e)};var Ye=function(e){return Object(ne.c)("serverConnectionTestManager").abortConnectionTest(e)};var qe=function(e){const{server:t,connection:i}=e;if(t.id)return D.a.Deferred().resolve(t.id).promise();const n=t.resolveUrl("/identity",{connection:i}),a=I.a.extend(t.getXHROptions(n),{timeout:t.connectionTestTimeout});Object(C.a)("[Identity] Requesting the machine identifier of "+t.get("debugName")+" at "+n);let s=D.a.ajax(a).promise();return s=s.then(e=>{const i=D.a.Deferred(),n=Se.a.parseXML(e),a=n&&n.machineIdentifier;return a?(Object(C.a)("[Identity] Machine identifier found for "+t.get("debugName")+": "+a),!t.collection||t.collection.get(a)?i.resolve(a):(t.collection.populateServer({isCloud:!0}).done(e=>{e.get("resources").populate().always(()=>{i.resolve(a)})}),t.collection.findServer({isCloud:!0}).done(e=>{e.populate().fail(()=>{i.resolve(a)})}).fail(()=>{i.resolve(a)}))):i.reject(),i.promise()}),s.fail(()=>{C.a.warn("[Identity] Machine identifier not found for "+t.get("debugName")+" at "+n)}),s},Ze=i("66GW"),Je=i("8OQS"),Xe=i.n(Je);function $e(e,t){return be.a.shouldCreateFlexModels&&(e.prototype.sessionRelations=Object.assign({},e.prototype.sessionRelations,{desktop:t})),e}var et=i("mCRK"),tt=i("KKL4");const it=v.c.Model.extend({mixins:[et.a],cache:new tt.a,constructor:function(e,t){e||(e={}),t||(t={}),this.server=this.findOption(t,"server"),this.section=this.findOption(t,"section"),this.channel=this.findOption(t,"channel"),this.device=this.findOption(t,"device"),this.parent=this.findOption(t,"parent");const i=this.findOption(t,"skipCache");if(i)return void v.c.Model.prototype.constructor.apply(this,arguments);const n=this.cache.getItemCacheKey(this,e),a=this.cache.get(n);if(a)return t.parse&&(e=a.parse(e)),this.preserveCachedAttributes&&this.preserveCachedAttributes(t.url)?I.a.each(e,(function(e,t){I.a.isUndefined(a.get(t))&&!I.a.isUndefined(e)&&a.set(t,e)})):a.set(e),a.server=this.server||a.server,a.section=this.section||a.section,a.channel=this.channel||a.channel,a.device=this.device||a.device,a.parent=this.parent||a.parent,t.collection&&(a.collection=t.collection),a;const s=this.findOption(t,"onlyIfCached");if(s)return{};v.c.Model.prototype.constructor.apply(this,arguments),this.cache.store(this,n)},findOption:function(e,t){return e[t]||e.collection&&e.collection[t]},clone:function(){const e={server:this.server,section:this.section,channel:this.channel,parent:this.parent,skipCache:!0};return new this.constructor(this.attributes,e)||null},convert:function(e){return I.a.isObject(e)?e:Be.a.parseXML(e)},parse:function(e,t){let i=this.convert(e);return this.whitelistedAttrs&&(i=I.a.pick(i,this.whitelistedAttrs)),i},save:function(e,t,i){let n,a;const s=this.attributes;null==e||"object"==typeof e?(n=e,i=t):(n={})[e]=t,i=I.a.extend({validate:!0},i);const r=this.getSaveParams(n,i);if(I.a.extend(r,i.data),n&&!i.wait){if(!this.set(n,i))return!1}else if(!this._validate(n,i))return!1;if(n&&i.wait&&(this.attributes=I.a.extend({},s,n)),I.a.isEmpty(r)&&!i.force)return i.success&&i.success(this),D.a.Deferred().resolve(this);void 0===i.parse&&(i.parse=!0);const o=this,l=i.success;i.success=function(e){if(o.attributes=s,e){let t=o.parse(e,i);if(i.wait&&(t=I.a.extend(n||{},t)),I.a.isObject(t)&&!o.set(t,i))return!1;o.cache.store(o)}l&&l(o,e,i),o.trigger("sync",o,e,i)},v.c.wrapError(this,i),a=this.isNew()?"create":i.patch?"patch":"update","patch"===a&&(i.attrs=n);const c=I.a.result(this,"saveUrl")||I.a.result(this,"url");I.a.isEmpty(r)||(i.url=V.join(c,r)),i.data="";const d=this.sync(a,this,i);return n&&i.wait&&(this.attributes=s),d},getSaveParams:function(e,t){return this.isNew()?e||this.toJSON():this.changedAttributes(e)||{}},getScopedKey:function(e){return null!=e&&I.a.isFunction(this.cacheKey)?this.cacheKey(this.attributes)+"!"+e:e},restoreDefaults:function(e){const t=I.a.result(this,"defaults");if(!t)return this.clear(e);const i=this.attributes;let n;for(n in i)n in t||this.unset(n,e);return this.set(t,e),this},startCapturingChangeEvents:function(){if(this.releaseCapturedChangeEvents)return void Object(S.a)(!1,"This model is already capturing events");const e=this.set;let t={};this.set=function(i,n,a){let s;"object"==typeof i?(s=i,a=n):(s={})[i]=n;const r=I.a.extend({},a,{silent:!0}),o=e.call(this,s,r);return I.a.extend(t,this.changed),o},this.releaseCapturedChangeEvents=function(){I.a.each(t,(function(e,t){this.trigger("change:"+t,this,e)}),this),I.a.isEmpty(t)||this.trigger("change",this,{}),t={},this.set=e,this.releaseCapturedChangeEvents=null}}});it.extend=function(){const e=v.c.Model.extend.apply(this,arguments);return e.prototype.cache=new tt.a,e};var nt=it,at=i("5lOB"),st=i("d7+L"),rt=i("Q3JP");var ot={waitingRegex:/^(transcoded|downloaded|directplay|processed)$/,processingRegex:/^(pending|transcoding|downloading)$/,failedRegex:/^(failed|error)$/,addVersionHeader:function(e,t){return t||(t={}),t.headers||(t.headers={}),t.headers["X-Plex-Sync-Version"]=e,t},addVersionHeaderForDevice:function(e,t){const i=e&&e.get("syncList");return i&&i.get("version")?this.addVersionHeader(i.get("version"),t):t},getSyncStateFromPart:function(e){return e.transcodeState||e.syncState},getSyncStateContextFromPart:function(e){return e.transcodeStateContext||e.syncStateContext}},lt=i("tqLa"),ct=i("nvND"),dt=i("Pizw"),ut=i("tibn"),pt=i("WfN5"),ht=i("7za+");var mt=xe.a.extend({name:"PlaylistItemModel",context:["server","provider","playlist"],entityType:ht.i,entityID(e=this.state){return Object(pt.a)(this.entityType,e.playlistItemID||e.key,this.server.entityID())},idAttribute:"playlistItemID",syncedAttrs:{playlistItemID:Ae.a.string,key:Ae.a.string,type:Ae.a.string},syncedRelations:{metadataItem:{relationClass:ut.a,deferred:!0}},augmentResponse:e=>({playlistItemID:e.playlistItemID,key:e.key,type:e.type,metadataItem:e})});var gt=ke.a.extend({name:"PlaylistItemCollection",context:["server","provider","playlist"],model:mt});var vt=xe.a.extend({mixins:[st.a],name:"PlaylistItemListModel",context:["server","provider","playlist","includeExternalMedia"],idAttribute:"key",collectionName:"metadataItems",url(){let e=this.getPaginatedUrl(this.get("containerKey"));return this.includeExternalMedia&&(e=V.join(e,{includeExternalMedia:1})),e},sessionAttrs:{containerKey:Ae.a.string,currentPageStart:Ae.a.integer,currentPageSize:Ae.a.integer,populatedRange:Ae.a.object},syncedAttrs:{totalSize:Ae.a.integer},syncedRelations:{metadataItems:{relationClass:gt,rootPropertyName:"Metadata",setOptions:e=>({remove:e.remove,at:e.at})}},defaults:()=>({populatedRange:{start:0,end:0,size:0}}),initialize(){this.startPopulatedRangeMonitor()},augmentResponseText:(e,t)=>t===ct.c?Object(dt.b)(e):e});var yt=xe.a.extend({name:"PlaylistModel",context:["server","containerKey"],idAttribute:"ratingKey",rootPropertyName:"Playlist",urlRoot:"/playlists",saveUrl(){return this.server.supports("truePlaylistsPath")?I.a.result(this,"url"):"/library/metadata/"+this.id},sessionAttrs:{isPlaylist:Ae.a.boolean,isLibraryItem:Ae.a.boolean},syncedAttrs:{ratingKey:Ae.a.string,key:Ae.a.string,guid:Ae.a.string,type:Ae.a.string,playlistType:Ae.a.string,title:Ae.a.string,titleSort:Ae.a.string,composite:Ae.a.string,summary:Ae.a.string,smart:Ae.a.boolean,allowSync:Ae.a.boolean,duration:Ae.a.integer,durationInSeconds:Ae.a.integer,leafCount:Ae.a.integer,addedAt:Ae.a.integer,updatedAt:Ae.a.integer},sessionRelations:{children:{relationClass:vt,attrs(e){const t={};return"audio"===e.playlistType&&(t.includeRelated=1),{containerKey:V.join(["/playlists",e.ratingKey,"items"],t)}},options(){return{playlist:this}}}},defaults:{isPlaylist:!0,isLibraryItem:!0},findItem(e){return this.get("children").getCollection().findWhere({playlistItemID:e})},moveItem(e,t){if(void 0===e)return;const i=t?{after:t}:{},n=V.join([I.a.result(this,"url"),"/items/",e,"/move"],i),a=I.a.extend(this.server.getXHROptions(n),{type:"PUT"}),s=D.a.ajax(a),r=this.get("children").getCollection(),o=this.findItem(e);r.remove(o);const l=this.findItem(t),c=l?r.indexOf(l)+1:0;return r.add(o,{at:c}),s},removeItem(e){if(void 0===e)return;const t=V.join([I.a.result(this,"url"),"/items/",e]),i=I.a.extend(this.server.getXHROptions(t),{type:"DELETE"}),n=D.a.ajax(i);n.then(e=>{this.set(this.parse(e))});const a=this.get("children").getCollection(),s=this.findItem(e);return a.remove(s),a.trigger("destroy",s,a),n},addContent(e,t){const i=this.isNew()?"POST":"PUT",n=[I.a.result(this,"url")],a={};this.isNew()?(a.type=this.get("playlistType"),a.title=this.get("title"),a.smart=this.get("smart")?1:0):n.push("/items"),e.get("playQueueID")?a.playQueueID=e.get("playQueueID"):a.uri=lt.a.uri(e,t);const s=V.join(n,a),r=I.a.extend(e.server.getXHROptions(s),{type:i}),o=D.a.ajax(r);return o.then(e=>{this.set(this.parse(e))}),o.promise()},isLibraryItem:(e,t)=>!0,isPlexMusicItem:()=>!1});var ft=ke.a.extend({name:"PlaylistCollection",context:["server","containerKey"],model:yt,url(){return this.containerKey}});var bt=xe.a.extend({mixins:[st.a],name:"PlaylistListModel",context:["server","section"],idAttribute:"key",collectionName:"playlists",responseType(){return Object(rt.a)(this.server)},url(){return this.getPaginatedUrl(I.a.result(this,"containerKey"))},containerKey(){const e=this.section.get("currentType"),t=this.section.get("currentSort"),i={type:15};return i.sort=t?t.id+":"+(t.get("direction")||"asc"):"titleSort:asc",e&&(i.playlistType=e),this.section.get("onlyDumb")&&(i.smart=0),V.join("/playlists/all",i)},sessionAttrs:{isPlaylistList:Ae.a.boolean,currentPageStart:Ae.a.integer,currentPageSize:Ae.a.integer,populatedRange:Ae.a.object},syncedAttrs:{totalSize:Ae.a.integer},syncedRelations:{playlists:{relationClass:ft,rootPropertyName:"Playlist",options(e){return{containerKey:I.a.result(this,"containerKey")}},setOptions:e=>({remove:e.remove,at:e.at})}},defaults:()=>({isPlaylistList:!0,populatedRange:{start:0,end:0,size:0}}),initialize(){this.startPopulatedRangeMonitor()},sync(e,t,i){const n=ot.addVersionHeader(2,i);return xe.a.prototype.sync.call(this,e,t,n)},augmentResponse:e=>(e.Metadata&&(e.Playlist=e.Metadata,delete e.Metadata),e)});var It=nt.extend({name:"PlaylistsSectionModel",defaults(){return{pseudo:!0,currentType:0,sorts:new at.a([],{section:this,server:this.server}),items:new bt({},{section:this,server:this.server})}},url:()=>"/playlists"}),St=i("DDbo");var Ct=ke.a.extend({name:"SectionCollection",context:["server"],model:St.a,url:"/library/sections",responseType(){return Object(rt.a)(this.server)}});var Mt={fetch(){return Object(S.a)(!1,"A model or collection with a controlled populate promise cannot be fetched directly"),this.populatePromise},isPopulating(){return!!this.populatePromise&&"pending"===this.populatePromise.state()},_resetPopulate(){return this.isPopulating()||(this._populateDeferred=D.a.Deferred(),this.populatePromise=this._populateDeferred.promise()),this.populatePromise},_resolvePopulate(){return"resolved"===this.populatePromise.state()||("rejected"===this.populatePromise.state()&&this._resetPopulate(),this._populateDeferred.resolveWith(this,[this])),this.populatePromise},_rejectPopulate(){return"rejected"===this.populatePromise.state()||("resolved"===this.populatePromise.state()&&this._resetPopulate(),this._populateDeferred.rejectWith(this,[this])),this.populatePromise}},Dt=i("8uQ2"),Pt=i("blH+"),Ot=i("Vk9Z"),jt=i("gnaf"),wt=i("zTsO");var Tt=xe.a.extend({name:"ProviderActionModel",context:["server","provider"],syncedAttrs:{id:Ae.a.string,key:Ae.a.string,reverseKey:Ae.a.string,requires:Ae.a.string}});var Et=ke.a.extend({name:"ProviderActionCollection",context:["server","provider"],model:Tt}),Nt=i("0L0C");const xt="hub",At="list";var Lt=xe.a.extend({name:"PivotModel",idAttribute:"key",syncedAttrs:{key:Ae.a.string.isRequired,type:Ae.a.oneOf(xt,At,"view").isRequired,id:Ae.a.string,title:Ae.a.string.isRequired,context:Ae.a.string.isRequired,requires:Ae.a.string,libraryKey:Ae.a.string}});var kt=ke.a.extend({name:"PivotCollection",model:Lt});var Rt=xe.a.extend({name:"ProviderDirectoryModel",context:["server","provider"],syncedAttrs:{id:Ae.a.string,key:Ae.a.string,hubKey:Ae.a.string,title:Ae.a.string,icon:Ae.a.string,type:Ae.a.string,subtype:Ae.a.string,agent:Ae.a.string,refreshing:Ae.a.boolean,updatedAt:Ae.a.integer,scannedAt:Ae.a.integer,context:Ae.a.string},syncedRelations:{pivots:{relationClass:kt,rootPropertyName:"Pivot",deferred:!0}}});var zt=ke.a.extend({name:"ProviderDirectoryCollection",context:["server","provider"],model:Rt,modelId:e=>e.key||e.hubKey});var Ut=xe.a.extend({name:"ProviderFeatureModel",context:["server","provider"],sessionAttrs:{isSettingsPending:Ae.a.boolean,isSettingsPopulated:Ae.a.boolean,settingsError:Ae.a.object},syncedAttrs:{id:Ae.a.string,key:Ae.a.string,reverseKey:Ae.a.string,scrobbleKey:Ae.a.string,unscrobbleKey:Ae.a.string,type:Ae.a.string,flavor:Ae.a.string,requires:Ae.a.string,automaticLibraryFolders:Ae.a.boolean,public:Ae.a.boolean,storageTotal:Ae.a.integer},syncedRelations:{directories:{relationClass:zt,rootPropertyName:"Directory",deferred:!0},settings:{relationClass:Nt.default,rootPropertyName:"Setting",deferred:!0},actions:{relationClass:Et,rootPropertyName:"Action",deferred:!0,setOptions:{remove:!1}}},defaults:{isSettingsPending:!0,isSettingsPopulated:!1}});var Vt=ke.a.extend({name:"ProviderFeatureCollection",context:["server","provider"],model:Ut,modelId:e=>e.type===Ot.a?e.id:e.type,augmentResponse(e){let t=e.find(e=>e.type===Ot.b);return null==t||Array.isArray(t.Action)||(t.Action=t.Action?[t.Action]:[]),null==t&&(t={Action:[],type:Ot.b},e.push(t)),e.forEach(e=>{if(e.type===Ot.r&&(null!=e.scrobbleKey||null!=e.unscrobbleKey)){const{scrobbleKey:i,unscrobbleKey:n}=e;t.Action.push({id:Pt.g,key:i,reverseKey:n}),delete e.scrobbleKey,delete e.unscrobbleKey}if(e.type===Ot.n){const{key:i}=e;t.Action.push({id:Pt.e,key:i}),delete e.key}if(e.type===Ot.a&&(null!=e.key||null!=e.reverseKey)){const{key:i,reverseKey:n}=e;t.Action.push({id:e.id,key:i,reverseKey:n}),delete e.key,delete e.reverseKey}e.type===Ot.b&&e.Action.forEach(e=>{e.id!==Pt.b&&e.id!==Pt.a&&e.id!==Pt.f&&e.id!==Pt.d&&e.id!==Pt.c||(e.requires=wt.p)}),e.type===Ot.p&&(e.requires=wt.p)}),e}});var Bt=function(e){if(!be.a.shouldRequestHTMLFromCloudProvider)return"plain";const t=[jt.h,jt.j];return jt.k(e,t)?"html":"plain"};var Ft=i("ZTgP");var Ht=function(e){return{"X-Plex-Drm":e||Ft.NONE}},_t=i("+fvj"),Wt=i("fwi0"),Qt=i("rXDx");function Gt(e,t){const i=["/library/sections",e,"all"];return t===Qt.k?V.join(i):V.join(i,{type:Qt.u(t).id})}var Kt=i("xI1S");function Yt(e){if(e&&e.features)return e.features.find(e=>e.type===Ot.c)}function qt(e){const t=Object(ne.c)("appModel").get("embeddedServer");return!!e&&!!t&&e.machineIdentifier===t.get("machineIdentifier")}function Zt(e,t,i,n={},a){const s=["#!","media"];return e||s.push(encodeURIComponent(t)),s.push(encodeURIComponent(i),a),V.join(s,n)}function Jt(e,t,i,n){return Zt(e.isCloud,e.machineIdentifier,t.identifier,i,n)}function Xt(e,t,i,n={},a){if(!qt(e))return Jt(e,t,i?Object.assign({},n,{source:i.id}):n,a)}const $t="view://dvr/recording-schedule",ei="view://dvr/guide",ti="view://photo/timeline",ii="view://shared-items",ni={[$t]:{path:"schedule"},[ei]:{path:"guide"},[ti]:{path:"timeline",getRouteParams:(e,t)=>({key:V.join([e.key,t.id,"cluster"],{clusterZoomLevel:1})})},[ii]:{getRouteParams:(e,t)=>({key:t.pivots[0].key})}};function ai(e){return!!ni[e]}function si(e,t,i,n,a={}){if(!ai(e))return;const s=ni[e],r=Yt(i);return Xt(t,i,n,s.getRouteParams?Object.assign({},a,s.getRouteParams(r,n)):a,s.path)}function ri(e){return{key:e.hubKey,type:xt,title:Object(Ze.default)("Recommended"),context:_t.DISCOVER_PIVOT}}function oi(e,t){return{key:Gt(e.id,t),libraryKey:e.key,type:At,title:Object(Ze.default)("Library"),context:_t.LIBRARY_PIVOT,isContent:!0}}function li(e){const t=Qt.u(Qt.e);return{key:V.join([e.key,"all"],{type:t.id}),type:At,title:Object(Ze.default)("Collections"),context:_t.COLLECTIONS_PIVOT}}function ci(e,t){const i=e.key.match(/\/library\/sections\/(\w+)/)[1],n=Qt.u(Qt.m);return V.join("/playlists/all",{type:n.id,playlistType:t,sectionID:i})}function di(e,t){return{key:ci(e,t),type:At,title:Object(Ze.default)("Playlists"),context:_t.PLAYLISTS_PIVOT}}function ui(e){return e&&-1!==e.split(",").indexOf(Wt.a)}function pi(e,t){return e&&e.some(e=>e.type===t)}function hi(e,t,i){return i.type===e&&(null==t&&null==i.subtype||null!=t&&i.subtype===t)}function mi(e,t){return/\/library\/sections\/(\w+)/.test(t.key)&&hi(e,null,t)}var gi=function(e,t){const i=t||e;return jt.k(i,jt.c)?jt.c:i};function vi(e){const t=e.split("/");if(""===t.shift()){const e=t[0],i=t[t.length-1];let n;return jt.k(e,jt.c)?n=e:i&&(n=i),n}return e}function yi(e){return/^\w+:\/\//.test(e)}function fi(e){const t=Object(ne.c)("appModel").get("drmType");return Object.assign({},Ht(t),{"X-Plex-Text-Format":Bt(e),"X-Plex-Provider-Version":"1.3"})}const bi=ht.k;function Ii({identifier:e,serverEntityID:t}){return Object(pt.a)(bi,e,t)}var Si=xe.a.extend({name:"ProviderModel",context:["server"],entityType:bi,entityID(e=this.state){return Ii({identifier:e.identifier,serverEntityID:this.server.entityID()})},idAttribute:"identifier",rootPropertyName:"MediaProvider",responseType:ct.a,url(){return this.get("baseURL")},mergeStrategy:(e,t,i)=>"protocols"===e&&i&&i.length>0?i:Object(Dt.a)(e,t,i),syncedAttrs:{id:Ae.a.integer,parentID:Ae.a.integer,identifier:Ae.a.string,providerIdentifier:Ae.a.string,baseURL:Ae.a.string,title:Ae.a.string,sourceTitle:Ae.a.string,types:Ae.a.list,protocols:Ae.a.list,subscriptions:Ae.a.boolean,icon:Ae.a.string,epgSource:Ae.a.string,source:Ae.a.string},sessionAttrs:{isPending:Ae.a.boolean,isPopulated:Ae.a.boolean,error:Ae.a.object},syncedRelations:{features:{relationClass:Vt,rootPropertyName:"Feature",options(){return{provider:this}},setOptions:{remove:!1}}},derivedAttrs:{isLibraryProvider(){return jt.k(gi(this.get("identifier"),this.get("providerIdentifier")),jt.d)},metricsIdentifier(){const e=this.get("providerIdentifier")||this.get("identifier");return jt.k(e,jt.c)?e.split(":")[0]:e}},populate(){return this.get("isPopulated")?D.a.Deferred().resolve(this).promise():xe.a.prototype.populate.apply(this,arguments)},resolveUrl(e,t){const i=Object.assign({},t);return this.url()&&(i.baseUrl=this.url()),this.server.resolveUrl(e,i)},getXHROptions(e,t={}){const i=yi(e)?e:V.join([this.get("baseURL"),e]),n=this.get("providerIdentifier")||this.get("identifier"),a=this.server.getXHROptions(i,Object.assign({},t,{headers:Object.assign({},fi(n),t.headers)}));return this.server.get("isCloud")&&(delete a.headers["X-Plex-Username"],delete a.headers["X-Plex-Device-Name"]),a},defaults:()=>({protocols:[],isPending:!0,isPopulated:!1,error:null}),augmentResponse(e){if(e.MediaProvider&&(e=e.MediaProvider),!e.Feature)return e;const t=jt.k(e.identifier,jt.d);return e.Feature.forEach(i=>{if(i.type===Ot.p&&(i.Setting=[]),!i.Directory||i.type!==Ot.c)return;let n;if(!i.key&&t&&(i.key="/library/sections"),i.Directory.forEach((t,i)=>{const a=t.key||t.hubKey;!t.id&&a&&(t.id=vi(a)),t.type===Qt.m&&(n=i),t.Pivot||(t.Pivot=function(e,t,i){return e.hubKey||"/playlists"===e.key?mi(Qt.b,e)?[ri(e),oi(e,Qt.b),di(e,Kt.a)]:mi(Qt.j,e)?[ri(e),oi(e,Qt.j),li(e),di(e,Kt.c)]:mi(Qt.o,e)?[ri(e),oi(e,Qt.o),li(e),di(e,Kt.c)]:mi(Qt.k,e)?[ri(e),{key:ti,type:"view",title:Object(Ze.default)("Timeline"),context:_t.TIMELINE_PIVOT},oi(e,Qt.k),di(e,Kt.b)]:ui(t)&&pi(i,Ot.q)?[{key:e.hubKey,type:xt,title:Object(Ze.default)("Recommended"),context:_t.DVR_DISCOVER_PIVOT},{key:ei,type:"view",title:Object(Ze.default)("Guide"),context:_t.DVR_GUIDE_PIVOT},{key:$t,type:"view",title:Object(Ze.default)("DVR Schedule"),context:_t.DVR_SCHEDULE_PIVOT}]:ui(t)||pi(i,Ot.e)?[{key:e.hubKey,type:xt,title:Object(Ze.default)("Recommended"),context:_t.DVR_DISCOVER_PIVOT},{key:ei,type:"view",title:Object(Ze.default)("Guide"),context:_t.DVR_GUIDE_PIVOT}]:hi(Qt.m,null,e)?[{key:V.join(e.key,{playlistType:Kt.a}),type:At,title:Object(Ze.default)("Music"),context:_t.PLAYLISTS_PIVOT},{key:V.join(e.key,{playlistType:Kt.c}),type:At,title:Object(Ze.default)("Video"),context:_t.PLAYLISTS_PIVOT},{key:V.join(e.key,{playlistType:Kt.b}),type:At,title:Object(Ze.default)("Photo"),context:_t.PLAYLISTS_PIVOT}]:[]:[]}(t,e.protocols,e.Feature)),Array.isArray(t.Pivot)||(t.Pivot=[t.Pivot]),t.Pivot.forEach(e=>{e.id&&e.id.match(/\.(saved|watchlist|playlists)$/)&&(e.requires=wt.p)})}),n&&n<i.Directory.length-1){const e=i.Directory[n];i.Directory.splice(n,1),i.Directory.push(e)}}),t&&!e.Feature.find(e=>e.type===Ot.d)&&e.Feature.push({type:Ot.d,key:"/hubs?identifier=home.continue,home.ondeck"}),e}});var Ci=Si.extend({name:"LegacyLibraryProviderModel",defaults(){const e=this.server,t=e.get("isFullServer"),i=e.get("isFullOwnedServer"),n=[{type:Ot.c,key:"/library/sections"},{type:Ot.i,key:"/library/matches"},{type:Ot.j,key:"/library/metadata"}];return t&&n.push({type:Ot.o,key:"/hubs/search"},{type:Ot.l,key:"/playQueues"},{type:Ot.k,key:"/playlists"},{type:Ot.r,key:"/:/timeline"},{type:Ot.b,actions:[{id:Pt.g,key:"/:/scrobble",reverseKey:"/:/unscrobble"},{id:Pt.e,key:"/:/rate"}]}),i&&n.push({type:Ot.h}),{identifier:jt.d,title:Object(Ze.default)("Library"),types:["video","audio","photo"],protocols:i?["stream","download"]:["stream"],features:new Vt(n,{parse:!0,server:e})}}});function Mi(e,t){!t.get("isCloud")&&e.forEach(e=>{e.set({isPending:!1,isPopulated:!0})}),t.get("isCloud")||e.get(jt.d)||e.add(new Ci({isPending:!1,isPopulated:!0},{server:t}))}var Di=ke.a.extend({name:"ProviderCollection",context:["server"],model:Si,url:"/media/providers",responseType(){return Object(rt.a)(this.server)},fetch(){const e=this.server;let t;return t=e.get("mediaProviders")||e.get("isCloud")?ke.a.prototype.fetch.apply(this,arguments):D.a.Deferred().resolve(this,"").promise(),t.then(t=>{Mi(t,e)}),t}}),Pi=i("ICb1"),Oi=i("92Vb"),ji=i("GdCd"),wi=i("hPIe"),Ti=i("1Lwt");const Ei="server/updateActivity",Ni="server/finishActivity",xi=Object(Pi.a)("server/testServer"),Ai=(Object(Pi.a)("server/testServers"),Object(Pi.a)("server/confirmRelayConnection")),Li=Object(Pi.a)("server/addHttpFallbackConnection"),ki=Object(Pi.a)("server/startActivity"),Ri=Object(Pi.a)(Ei),zi=Object(Pi.a)(Ni),Ui=Object(Pi.a)("server/startSyntheticActivity"),Vi=Object(Pi.a)("server/finishSyntheticActivity"),Bi=Object(Pi.a)("server/eventConnectionOpen"),Fi=Object(Pi.a)("server/eventConnectionClose"),Hi=Object(Pi.a)("server/fetchProviders"),_i=(Object(Pi.a)("server/populateProviders"),Object(Pi.a)("server/fetchLibraries")),Wi=(Object(Pi.a)("server/populateLibraries"),{"server/confirmRelayConnection"(e,t){},"server/addHttpFallbackConnection"(e,t){},"server/startActivity"(e,t,i){const n=Object(wi.l)(e,t);if(!n)return;const a=t.activity;n.get("activities").add([a],{parse:!0}),a.synthetic||i(Vi({serverEntityID:t.serverEntityID,activityType:a.type}))},[Ei](e,t){const i=Object(wi.l)(e,t);if(!i)return;i.get("activities").add([t.activity],{parse:!0,merge:!0})},[Ni](e,t){const i=Object(wi.l)(e,t);if(!i)return;i.get("activities").remove(t.activity.uuid)},"server/startSyntheticActivity"(e,t,i){Object(Ti.a)(()=>{const e={type:t.activityType,synthetic:!0,uuid:t.activityType+"-"+Date.now()};t.title&&(e.title=t.title),t.Context&&(e.Context=t.Context),i(ki({serverEntityID:t.serverEntityID,activity:e}))})},"server/finishSyntheticActivity"(e,t){const i=Object(wi.l)(e,t);if(!i)return;const n=i.get("activities"),{activityType:a,Context:s,title:r}=t,o=n.findWhere(e=>e.get("type")===a&&!0===e.get("synthetic")&&(!r||e.get("title")===r)&&(!s||I.a.isEqual(e.get("Context"),s)));o&&n.remove(o)},"server/eventConnectionOpen"(e,t){const i=Object(wi.m)(e,t),n=Object(wi.l)(e,t);if(!i||!n)return;const a=n.get("activities");i.set("hasEventConnection",!0),a.fetch()},"server/eventConnectionClose"(e,t){const i=Object(wi.m)(e,t);i&&i.set("hasEventConnection",!1)},"server/fetchProviders":Object(Oi.a)({key:"providers",getModel:wi.m}),"server/populateProviders":Object(ji.a)({key:"providers",fetchActionCreator:Hi,getModel:wi.m}),"server/fetchLibraries":Object(Oi.a)({key:"libraries",getModel:wi.l}),"server/populateLibraries":Object(ji.a)({key:"libraries",fetchActionCreator:_i,getModel:wi.l}),"server/testServer"(e,t){const i=Object(wi.m)(e,t);U.a.trigger("test:server",i)},"server/testServers"(){U.a.trigger("test:servers")}});function Qi(e,t){Object(S.a)(null!=e,"No `version` supplied to `isVersionOrNewer`."),Object(S.a)(null!=t,"No `minVersion` supplied to `isVersionOrNewer`. Have you misspelled a constant?");const i=t.split("."),n=e.split(".");for(let e=0,t=i.length;e<t;e++)if(e<n.length){const t=parseInt(i[e],10),a=parseInt(n[e],10);if(t<a)return!0;if(t>a)return!1}return!0}var Gi=function(e){const t=/(\d+\.){2,3}\d+/.exec(e);return I.a.first(t)||e};const Ki=(e,t)=>!e.get("relay")&&t.get("relay")?e:!t.get("relay")&&e.get("relay")||!e.get("isLoopback")&&t.get("isLoopback")?t:!t.get("isLoopback")&&e.get("isLoopback")?e:!e.get("isPrivate")&&t.get("isPrivate")?t:!t.get("isPrivate")&&e.get("isPrivate")?e:!e.get("isHttps")&&t.get("isHttps")?t:(!t.get("isHttps")&&e.get("isHttps"),e);var Yi=ke.a.extend({name:"ConnectionCollection",context:["server"],model:Ve,getBestConnection(){const e=be.a.allowHttpsMediaServerConnections,t=!this.server||this.server.get("isCloud")||e,i=this.filter(e=>e.get("isConnected")&&(t||!e.get("isHttps")));if(i.length)return I.a.reduce(i,Ki)},hasBetterConnectionCandidates(){const e=this.server&&this.server.get("activeConnection");return this.some(t=>{const i=t.get("isUntested")||t.get("isPending"),n=!e||t!==e&&Ki(t,e)===t;return i&&n})},hasOnlyFailedConnections(){return this.every(e=>e.get("isFailed"))},hasFailedEveryDirectConnection(){return this.where({relay:!1}).every(e=>e.get("isFailed"))},hasMultiplePrivateV4Subnets(){let e;return this.some(t=>{const i=t.get("address");if(t.get("isPrivate")&&pe(i)){const t=pe(n=i)?n.split(".").slice(0,-1).join("."):"";return e||(e=t),e!==t}var n})}});var qi={gracenoteAttribution:"1.21.1",firstCharacterKeySortDirection:"1.20.4",pivotIDs:"1.20.4",freeLiveTVDVRSettings:"1.20.2",augmentedHubsInRelatedHubs:"1.19.5",simpleRelatedKey:"1.19.2",plexMusicUpgrade:"1.18.0",libraryUpdateActivity:"1.16.5",contentDirectoryID:"1.18.0.1892",addProviderContentToLibrary:"1.15.4.993",transientTokenProxy:"1.15.4",dashboardRAMChart:"1.15.3",dashboardCPUChart:"1.15.2",playHistoryDevices:"1.15.2",playHistory:"1.15.1",enhancedSessionDetails:"1.15.1",sessionJSON:"1.15.1",dashboardTopPlayedChart:"1.14.1",dashboardBandwidthChart:"1.14.1",mediaProvidersServerRoot:"1.13.10",streamDisplayTitles:"1.13.8",bundledWebAppNewSettingsRoutes:"1.13.8",saveInlineSectionSettings:"1.13.4",softSubtitlesWithDirectPlay:"1.13.4",channelGrid:"1.13.2.5081",typeFirst:"1.12.1",photoTagEdit:"1.11.1",sharedUserNotifications:"1.11.1",adaptiveBitrateFallback:"1.9.5",truePlaylistsPath:"1.9.3",multiplePlaylistTypes:"1.7.1",itemClusters:"1.5.4",optimizeDatabaseActivity:"1.4.2",asyncCheckFiles:"1.4.0",json:"1.8.0",libraryDeleteActivity:"1.2.1",cleanBundlesActivity:"1.2.1",allowBlacklistedMethodHeaders:"1.2.1",decisionEndpoint:"1.0.3",defaultSections:"0.9.17.3",ownerFeatures:"0.9.17.0",replaceTranscodeTarget:"0.9.17.0",quickSearch:"0.9.16.0",relay:"0.9.15.0",claimServer:"0.9.14.2",searchSpecificType:"0.9.14.2",linkedYearMetadata:"0.9.14.0",streamReady:"0.9.14.0",syncOriginalQuality:"0.9.14.0",allPartsStreamSelection:"0.9.12.5",sharedChannels:"0.9.12.5",shortenTranscodeURL:"0.9.12.5",companionProxy:"0.9.12.5",editSimilarArtists:"0.9.12.2",neuterRedirect:"0.9.12.0",audioAsVideo:"0.9.12.0",compositeDelete:"0.9.12.0",batchEdit:"0.9.12.0",premiumMusic:"0.9.12.0",transientToken:"0.9.12.0",softSubtitles:"0.9.12.0",sharedSyncStatus:"0.9.11.14",reachability:"0.9.11.14",photoPlayQueues:"0.9.11.12",publicNowPlaying:"0.9.11.3",labels:"0.9.11.2",updater:"0.9.11.1",playItemsBatchAdd:"0.9.9.16",playlists:"0.9.9.13",imageFilters:"0.9.9.13",hubFilterSigns:"0.9.9.12",cancelAllUpdates:"0.9.9.10",playQueues:"0.9.9.6",sectionSettings:"0.9.9.6",hubFilters:"0.9.9.2",streamingMKV:"0.9.9.16",chunkedHTTP:"0.9.9.3",sharedSync:"0.9.9.3",dash:"0.9.8.6",specificMediaDeletion:"0.9.7.23",sharedSettings:"0.9.7.23",syncNotifications:"0.9.7.23",universalMusicTranscoder:"0.9.8.3",universalTranscoder:"0.9.7.17",sync:"0.9.7.10",artworkUpload:"0.9.7.9",firstRunPref:"0.9.7.3",timelineState:"0.9.7.2",cleanBundles:"0.9.7.0",advancedFilters:"0.9.7.0",search:"0.9.7.0",merge:"0.9.7.0",splitApart:"0.9.7.0"};const Zi={PENDING:"pending",CONNECTED:"connected",UNAVAILABLE:"unavailable",UNAUTHORIZED:"unauthorized"},Ji={PENDING:"pending",RESOLVED:"resolved",REJECTED:"rejected"},Xi={SECONDARY:"secondary"},$i=["camera_upload","content_filter","home","lyrics","music_videos","pass","premium_music_metadata","sync","trailers"],en=ht.n;function tn({machineIdentifier:e}){return Object(pt.a)(en,e)}const nn=xe.a.extend({mixins:[Mt],name:"ServerModel",entityType:en,entityID(e=this.state){return tn({machineIdentifier:e.machineIdentifier||this.cid})},idAttribute:"machineIdentifier",connectionTestTimeout:1e4,responseType(){return Object(rt.a)(this)},mergeStrategy:Dt.a,cache:new tt.a,persistInCache:!0,sessionAttrs:{connectionTestResult:Ae.a.oneOf(Zi.PENDING,Zi.CONNECTED,Zi.UNAVAILABLE,Zi.UNAUTHORIZED).isRequired,promiseState:Ae.a.oneOf(Ji.PENDING,Ji.RESOLVED,Ji.REJECTED).isRequired,sections:Ae.a.instanceOf(Ct).isRequired,playlists:Ae.a.instanceOf(It).isRequired,isShared:Ae.a.boolean.isRequired,isBundled:Ae.a.boolean.isRequired,isCloud:Ae.a.boolean.isRequired,isMerged:Ae.a.boolean.isRequired,isEmbedded:Ae.a.boolean.isRequired,isInstallingServerUpdate:Ae.a.boolean.isRequired,superToken:Ae.a.string,accessToken:Ae.a.string,sourceTitle:Ae.a.string,publicAddressMatches:Ae.a.boolean,httpsRequired:Ae.a.boolean,presence:Ae.a.boolean,home:Ae.a.boolean,createdAt:Ae.a.integer,lastSeenAt:Ae.a.integer,ownerId:Ae.a.integer,hasEventConnection:Ae.a.boolean,serverClass:Ae.a.oneOf(Xi.SECONDARY),onlyXML:Ae.a.boolean,isProvidersPending:Ae.a.boolean.isRequired,isProvidersPopulated:Ae.a.boolean.isRequired,providersError:Ae.a.object},sessionRelations:{activeConnection:{relationClass:Ve,deferred:!0},connections:{relationClass:Yi,options(){return{server:this}}}},syncedRelations:{providers:{relationClass:Di,rootPropertyName:"MediaProvider",options(){return{server:this}}}},syncedAttrs:{machineIdentifier:Ae.a.string,friendlyName:Ae.a.string,startState:Ae.a.string,version:Ae.a.string,platform:Ae.a.string,platformVersion:Ae.a.string,sync:Ae.a.boolean,backgroundProcessing:Ae.a.boolean,multiuser:Ae.a.boolean,transcoderLyrics:Ae.a.boolean,myPlex:Ae.a.boolean,myPlexMappingState:Ae.a.string,myPlexSigninState:Ae.a.oneOf("ok","none","invalid"),myPlexSubscription:Ae.a.boolean,myPlexUsername:Ae.a.string,transcoderPhoto:Ae.a.boolean,transcoderAudio:Ae.a.boolean,transcoderVideo:Ae.a.boolean,transcoderVideoRemuxOnly:Ae.a.boolean,transcoderSubtitles:Ae.a.boolean,transcoderActiveVideoSessions:Ae.a.integer,allowMediaDeletion:Ae.a.boolean,allowCameraUpload:Ae.a.boolean,allowChannelAccess:Ae.a.boolean,allowSync:Ae.a.boolean,diagnostics:Ae.a.list,companionProxy:Ae.a.boolean,updater:Ae.a.boolean,isDesktop:Ae.a.boolean,photoAutoTag:Ae.a.boolean,itemClusters:Ae.a.boolean,updatedAt:Ae.a.integer,countryCode:Ae.a.string,ownerFeatures:Ae.a.list,mediaProviders:Ae.a.integer,maxUploadBitrate:Ae.a.integer,maxUploadBitrateReason:Ae.a.string,maxUploadBitrateReasonMessage:Ae.a.string,streamingBrainABRVersion:Ae.a.integer,livetv:Ae.a.integer,games:Ae.a.boolean},derivedAttrs:{debugName(){const e=this.get("machineIdentifier"),t=this.get("connections"),i=1===t.length&&t.at(0).get("isLoopback");let n=this.get("friendlyName");return!n&&this.get("isBundled")?n="[Bundled]":!n&&i&&(n="[Loopback]"),n||(e?"["+e+"]":"[Anonymous]")},shortVersion(){return Gi(this.get("version"))},isConnected(){return this.get("connectionTestResult")===Zi.CONNECTED},isUnavailable(){return this.get("connectionTestResult")===Zi.UNAVAILABLE},isUnauthorized(){return this.get("connectionTestResult")===Zi.UNAUTHORIZED},isPending(){return this.get("promiseState")===Ji.PENDING},isPrivateConnection(){const e=this.get("activeConnection");return!(!e||!e.get("isPrivate"))},isResolved(){return this.get("promiseState")===Ji.RESOLVED},isRejected(){return this.get("promiseState")===Ji.REJECTED},isRelayed(){const e=this.get("activeConnection");return!(!e||!e.get("relay"))},isSecure(){const e=this.get("activeConnection");return!(!e||!e.get("isSecure"))},hasHttpsConnections(){return!!this.get("connections").findWhere({isHttps:!0})},hasFallbackConnections(){return!!this.get("connections").findWhere({isFallback:!0})},isMobileServer(){return this.get("serverClass")===Xi.SECONDARY},isFullServer(){return!this.get("isCloud")&&!this.get("isMobileServer")&&!this.get("isEmbedded")},isFullOwnedServer(){return this.get("isFullServer")&&!this.get("isShared")},isPrimaryEligible(){return!(!be.a.allowMobileServers&&this.get("isMobileServer"))&&!(!this.get("machineIdentifier")||this.get("isUnauthorized")||this.get("isCloud")||this.get("isEmbedded"))},isOutOfDate(){return!this.get("isMobileServer")&&!this.isVersionOrNewer("1.15.2")},isClaimed:function(){return this.get("isConnected")?"ok"===this.get("myPlexSigninState"):void 0},hasManualConnection(){return this.get("connections").some(e=>e.get("sources").some(e=>/^manual/.test(e.id)))},hasAdaptiveBitrate(){return this.get("streamingBrainABRVersion")>=3},shared(){return this.get("isShared")},bundled(){return this.get("isBundled")},cloud(){return this.get("isCloud")},merged(){return this.get("isMerged")},connected(){return this.get("connectionTestResult")===Zi.PENDING?null:this.get("isConnected")},available(){return this.get("connectionTestResult")===Zi.PENDING?null:!this.get("isUnavailable")},authorized(){return this.get("connectionTestResult")===Zi.PENDING?null:this.get("isResolved")},relayed(){return this.get("isRelayed")}},defaults(){return{connectionTestResult:Zi.PENDING,promiseState:Ji.PENDING,sections:new Ct([],{server:this}),playlists:new It({},{server:this}),isShared:!1,isBundled:!1,isCloud:!1,isMerged:!1,isEmbedded:!1,isInstallingServerUpdate:!1,hasEventConnection:!1,sync:!1,backgroundProcessing:!1,allowChannelAccess:!1,updater:!0,ownerFeatures:[],games:!1,isProvidersPending:!0,isProvidersPopulated:!1,providersError:null}},url(e=this.get("activeConnection")){Object(S.a)(e,"An active or manual connection is required for a server url");let t=I.a.result(e,"url");return/\/$/.test(t)||(t+="/"),t},initialize(){this._reset(),this.on("change:machineIdentifier",this.onMachineIdentifierChange,this),this.listenTo(this.get("connections"),{remove:this.onConnectionRemove,reset:this.onConnectionsReset})},uninitialize(){this.off("change:machineIdentifier",this.onMachineIdentifierChange,this),this.stopListening()},updateEntity(){if(!this.get("isMerged"))return xe.a.prototype.updateEntity.apply(this,arguments)},fetch(){return v.c.Model.prototype.fetch.apply(this,arguments)},resolveUrl(e,t={}){if(yi(e))return e;let i;i=t.useRelativeUrl?this.get("isMobileServer")?"http://127.0.0.1:"+this.getLoopbackPort()+"/":"":t.baseUrl||this.url(t.connection);const n=this.get("accessToken"),a=I.a.extend({},t.params);return t.appendHeaders&&I.a.defaults(a,this.getHeaders()),t.appendToken&&n&&(a["X-Plex-Token"]=n),V.join([i,e],a)},getXHROptions(e,t={}){let{headers:i,baseUrl:n}=t,a=Xe()(t,["headers","baseUrl"]);return Object.assign({url:this.resolveUrl(e,{baseUrl:n}),dataType:"text",headers:I.a.extend(this.getHeaders(),i),allowHeadersInUrl:!0,allowBlacklistedMethodHeaders:this.supports("allowBlacklistedMethodHeaders")},a)},getHeaders(){const e=$.getInstance(),t=I.a.clone(e),i=this.get("accessToken");i&&(t["X-Plex-Token"]=i);const n=Object(ne.c)("settingFinder").find("language");return n&&(t["X-Plex-Language"]=n,t["Accept-Language"]=n),t},addConnection(e){e.sources||(e.sources=[{id:"internal"}]);const t=this.get("connections"),i=new Ve(e),n=t.get(i.id);if(n){return n.get("sources").set(e.sources,{remove:!1}),n}return t.add(e)},hasSource(e){return this.get("connections").some(t=>t.hasSource(e))},removeSource(e){const t=this.get("connections");let i=t.length-1;for(;i>=0;){t.at(i).get("sources").remove(e),i--}},testAllConnections(){const e=this.get("connections");return Object(C.a)("[Connections] Testing all %s connection(s) for %s",e.length,this.get("debugName")),this._reset(),e.each(e=>{const t=!e.get("relay"),i=!e.get("isUntested");(t||i)&&this.testConnection(e)}),this.populatePromise},testOnlyUntestedConnections(){return this.get("connections").each(e=>{const t=!e.get("relay"),i=e.get("isUntested"),n=e.get("isAborted");t&&(i||n)&&this.testConnection(e)}),this.populatePromise},testOnlyUntestedRelayConnections(){return this.get("connections").each(e=>{const t=e.get("relay"),i=e.get("isUntested");t&&i&&this.testConnection(e)}),this.populatePromise},testConnection(e,t={}){t.server=this,t.connection=e,this.get("promiseState")===Ji.REJECTED&&this._reset();return Ge.execute("testServerConnection",t).done(this.onConnectionTestSuccess.bind(this)).fail(this.onConnectionTestError.bind(this))},abortAllConnectionTests(){const e=this.get("connections");Object(C.a)("[Connections] Aborting all pending connection tests for",this.get("debugName")),e.each(e=>{this.abortConnectionTest(e)})},abortConnectionTest(e){const t={server:this,connection:e};Ge.execute("abortServerConnectionTest",t)},populateIdentity(e){if(this._identityPromise)return this._identityPromise;const t=Ge.execute("populateServerIdentity",{server:this,connection:e});return t.done(e=>{this.set("machineIdentifier",e)}),this._identityPromise=t,t},updateCacheKey(){const e=this.get("debugName"),t=this.cacheKey(this.attributes),i=this.cache.get(t);if(i){const n=i.get("debugName");C.a.warn("[Identity] %s and %s (cached) collide",e,n),i.get("isConnected")||!this.get("isConnected")?(Object(C.a)("[Identity] Merging %s into %s (cached)",e,n),i.merge(this)):(Object(C.a)("[Identity] Merging %s (cached) into %s",n,e),this.merge(i),this.cache.store(this,t))}else this.cache.store(this,t)},merge(e){e.set("isMerged",!0),e.get("isBundled")&&this.set("isBundled",!0),e.get("connections").each(e=>{this.addConnection(e.toJSON())}),this.collection&&(this.collection.remove(e.cid,{silent:!0}),this.collection._byId[this.id]=this,this.collection.trigger("remove",e,this.collection),this.collection.trigger("update",this.collection)),this.cache.remove(e),be.a.shouldCreateStateTree&&this.updateEntity()},hasOwnerFeature(e){if(this.supports("ownerFeatures")){const t=this.get("ownerFeatures");return!!(t&&t.indexOf(e)>-1)}return!!this.get("myPlexSubscription")&&$i.indexOf(e)>-1},supports(e){const t=this.get(e);if(I.a.isBoolean(t))return t;const i=qi[e];return null!=i&&this.isVersionOrNewer(i)},isVersionOrNewer(e){const t=this.get("shortVersion");return!e||!t||Qi(t,e)},hasRegression(e){if(!e)return!1;const t=this.isVersionOrNewer(e.introduced),i=e.resolved&&this.isVersionOrNewer(e.resolved);return t&&!i},hasOtherLoopbackServer(){return!!this.collection&&this.collection.hasLoopbackServer()},getLoopbackPort(){const e=this.get("connections").findWhere({isPrivate:!0});return e?e.get("port"):"32400"},authenticate(e){this._resolve({accessToken:e})},deauthenticate(){this._reject({accessToken:null})},_reset(){this.startCapturingChangeEvents(),this.set("promiseState",Ji.PENDING),this._resetPopulate(),this.releaseCapturedChangeEvents()},_resolve(e){const t=I.a.extend({connectionTestResult:Zi.CONNECTED,promiseState:Ji.RESOLVED},e);this.startCapturingChangeEvents(),this.set(t),be.a.shouldCreateStateTree&&this.updateState(),this._resolvePopulate(),this.releaseCapturedChangeEvents()},_reject(e){const t=this.get("connections");t.hasOnlyFailedConnections()&&C.a.warn("[Connections] All connections to %s failed",this.get("debugName"));const i=t.findWhere({isUnauthorized:!0})?Zi.UNAUTHORIZED:Zi.UNAVAILABLE,n=I.a.extend({connectionTestResult:i,promiseState:Ji.REJECTED},e);this.startCapturingChangeEvents(),this.set(n),this._rejectPopulate(),this.releaseCapturedChangeEvents()},_checkActiveConnection(){const e=this.get("activeConnection"),t=this.get("connections");if(e&&!t.contains(e)){const e=t.getBestConnection();e?this.set({activeConnection:e}):this.testAllConnections()}},onMachineIdentifierChange(e,t){this.collection?this.listenToOnce(this.collection,"change:machineIdentifier",(function(){this.updateCacheKey()})):this.updateCacheKey()},onConnectionRemove(e,t){t.length?this._checkActiveConnection():(this.trigger("change:connections.remove",e,t),this.trigger("change:connections.change",this,t),this.trigger("destroy",this,this.collection))},onConnectionsReset(e,t){e.length?this._checkActiveConnection():(this.trigger("change:connections.reset",e,t),this.trigger("change:connections.change",this,e),this.trigger("destroy",this,this.collection))},onConnectionTestSuccess(e,t){const i=this.get("connections").getBestConnection();if(i!==this.get("activeConnection")&&C.a.info("[Connections] Active connection to %s is %s",this.get("debugName"),i.id),this._resolve(Object.assign({activeConnection:i},t)),be.a.allowLoopbackDiscovery){const e=this.get("connections"),t=this.get("activeConnection"),i=t.get("isPrivate"),n=!!e.findWhere({isLoopback:!0});!i||n||this.hasOtherLoopbackServer()||(Object(C.a)("[Connections] Adding possible loopback connection for",this.get("debugName")),this.addConnection(t.getLoopbackAttributes()))}},onConnectionTestError(e,t){if(e.get("isAborted"))return;const i=this.get("connections");!e.get("isHttps")||e.get("isUnauthorized")||e.get("relay")||Object(ne.c)("appStore").dispatch(Li({serverEntityID:this.entityID(),address:e.get("address"),port:e.get("port")})),!this.id&&e.get("isUnauthorized")&&this.populateIdentity(e),i.hasOnlyFailedConnections()?this.id||!this._identityPromise?this._reject():this._identityPromise.always(()=>{i.hasOnlyFailedConnections()&&this._reject()}):i.hasFailedEveryDirectConnection()&&this.testOnlyUntestedRelayConnections()}},{connectionTestResults:Zi,promiseStates:Ji,serverClasses:Xi});$e(nn,(function(){return{relationClass:Object(ne.c)("ServerFlexModel"),options:{server:this}}}));var an=nn,sn=0,rn=[],on=R.Layout.extend({className:"modal fade",focusDelay:500,animationDelay:500,events:{"hide.bs.modal":"onHide"},initialize:function(e){this.once("render",(function(){sn+=1,U.a.trigger("anyModalOpen")})),this.once("close",(function(){0===(sn-=1)&&U.a.trigger("allModalsClosed")}))},hide:function(){this.isClosed||this.isHidden||this.$el.modal("hide")},onRender:function(){this.rerender||(this.isForced?this.$el.modal({backdrop:"static",keyboard:!1}):(this.listenTo(U.a,"shortcut:escape",I.a.bind((function(){rn[0]===this&&this.hide()}),this)),this.listenToOnce(this,"close",(function(){var e=rn.indexOf(this);-1!==e&&rn.splice(e,1)})),rn.unshift(this),this.$el.modal()),D()(":focus").blur())},onHide:function(e){this.isHidden=!0,I.a.each(this.panes,(function(e,t){var i=e.constructor.onModalClose;i&&i.apply(this)}),this),window.setTimeout(I.a.bind((function(){U.a.trigger("hide:modal",this),this.trigger("close")}),this),this.animationDelay)}});function ln(e,t,i){return"#!/settings/server/"+encodeURIComponent(e)+"/"+t+"/"+i}var cn=i("Xa5i"),dn=i.n(cn);var un=on.extend({name:"libraryFailureModal",className:"confirm-modal modal modal-sm fade",template:dn.a,events:I.a.extend({"click .confirm-btn":"hide"},on.prototype.events),serializeData(){return{isSignedIn:"ok"===this.model.get("myPlexSigninState"),hasPlexSubscription:this.model.get("myPlexSubscription"),serverSettingsRoute:ln(this.model.id,"settings","general")}}});var pn=function(e){var t,i;return e.item?i=[t=e.item]:(i=e.items,t=i[0]),D.a.when.apply(D.a,I.a.map(i,(function(e){var i="/library/metadata/"+e.id+"/refresh",n=I.a.extend(t.server.getXHROptions(i),{type:"PUT"});return D.a.ajax(n).promise()}))).fail((function(e){503===e.status?U.a.trigger("show:modal",new un({model:t.server})):U.a.trigger("show:alert",{type:"error",message:Object(Ze.default)("There was a problem refreshing.")})}))};var hn=function(e){var t=e.items;return D.a.when.apply(D.a,I.a.map(t,(function(e){var t="/library/metadata/"+e.id+"/analyze",i=I.a.extend(e.server.getXHROptions(t),{type:"PUT"});return D.a.ajax(i).promise()})))},mn=i("3862"),gn=i.n(mn),vn=on.extend({className:"confirm-modal modal modal-sm fade",template:gn.a,ui:{doubleConfirmMessage:".double-confirm-message",confirmBtn:".confirm-btn",confirmLabel:".confirm-btn .btn-label"},events:I.a.extend({"click .confirm-btn":"onConfirm"},on.prototype.events),whitelistedOptions:["title","message","confirmLabel","cancelLabel","hasDanger","hideCancel"],initialize:function(e){on.prototype.initialize.apply(this,arguments),this.async=e.async,this.data=I.a.pick(e,this.whitelistedOptions),this.promise=D.a.Deferred()},serializeData:function(){return I.a.defaults(this.data,{confirmLabel:"Yes",cancelLabel:"No"})},onRender:function(){on.prototype.onRender.apply(this,arguments),window.setTimeout(I.a.bind((function(){this.ui.confirmBtn.focus()}),this),this.focusDelay)},onHide:function(e){on.prototype.onHide.apply(this,arguments),this.promise.reject()},onConfirm:function(e){if(e.preventDefault(),this.options.requireDoubleConfirm&&!this.hasConfirmedOnce){this.hasConfirmedOnce=!0;var t=this.options.doubleConfirmMessage,i=this.options.doubleConfirmLabel;return t&&this.ui.doubleConfirmMessage.text(t),void(i&&this.ui.confirmLabel.text(i))}this.promise.resolve(),this.async?this.ui.confirmBtn.addClass("active"):this.hide()}});var yn=function(e){var t=D.a.Deferred(),i=e.section,n="/library/sections/"+i.id+"/analyze",a=I.a.extend(i.server.getXHROptions(n),{type:"PUT"}),s=new vn({title:Object(Ze.default)("Analyze Library"),message:Object(Ze.default)("Analyzes all the media files in the library. The analysis captures information about the media which helps Plex decide how to optimally play back the media."),confirmLabel:Object(Ze.default)("Analyze"),cancelLabel:Object(Ze.default)("Cancel"),async:!0}),r=s.promise;return r.done((function(){var e=D.a.ajax(a);e.done((function(){t.resolve()})),e.fail((function(e){U.a.trigger("show:alert",{type:"error",message:Object(Ze.default)("There was a problem analyzing the library.")}),t.reject(e)})),e.always((function(e){s.hide()}))})),r.fail((function(){t.reject()})),U.a.trigger("show:modal",s),t.promise()};var fn=function(e){var t=e.item,i="/library/metadata/"+t.id+"/unmatch",n=I.a.extend(t.server.getXHROptions(i),{type:"PUT"}),a=D.a.ajax(n);return a.fail((function(){U.a.trigger("show:alert",{type:"error",message:Object(Ze.default)("There was a problem unmatching this item.")})})),a.promise()};var bn=function(e){var t=D.a.Deferred(),i=e.item,n="/library/metadata/"+i.id+"/split",a=new vn({title:Object(Ze.default)("Split Apart"),message:Object(Ze.default)("Are you sure you want to split this item apart?"),async:!0}),s=a.promise;return s.done((function(){var s=I.a.extend(i.server.getXHROptions(n),{type:"PUT"}),r=D.a.ajax(s);r.done((function(){var n,a=i.get("type");n="show"===a||"artist"===a||"album"===a?"Location":"Media",i.set(n,i.get(n).slice(0,1)),e.skipNavigate||U.a.trigger("navigate:back"),t.resolve()})),r.fail((function(e){U.a.trigger("show:alert",{type:"error",message:Object(Ze.default)("There was a problem splitting this item apart.")}),t.reject(e)})),r.always((function(e){a.hide()}))})),s.fail((function(){t.reject()})),U.a.trigger("show:modal",a),t.promise()};var In=function(e){var t=D.a.Deferred(),i=e.item,n=I.a.pluck(e.items,"id").join(","),a="/library/metadata/"+i.id+"/merge?ids="+n,s=I.a.extend(i.server.getXHROptions(a),{type:"PUT"}),r=new vn({title:Object(Ze.default)("Merge"),message:Object(Ze.default)("Are you sure you want to merge these items together?"),async:!0}),o=r.promise;return o.done((function(){var e=D.a.ajax(s);e.done((function(){t.resolve()})),e.fail((function(e){U.a.trigger("show:alert",{type:"error",message:Object(Ze.default)("There was a problem merging these items.")}),t.reject(e)})),e.always((function(e){r.hide()}))})),o.fail((function(){t.reject()})),U.a.trigger("show:modal",r),t.promise()};function Sn(e,t){return I.a.map(e,(function(e){return Ge.execute("deleteItem",{item:e,skipRedirect:t})}))}var Cn=function(e){var t=e.items,i=e.item,n=e.skipConfirmation,a=e.skipRedirect;t||(t=[i]),i||(i=I.a.first(t));var s,r=i.get("Media");if(1===t.length&&r.length>1&&!i.get("remoteMedia")&&i.server.supports("specificMediaDeletion"))return Ge.execute("deleteMediaItem",{item:i});if(n)s=D.a.when.apply(D.a,Sn(t,a));else{var o=function(e){var t,i,n=e.item,a=e.items,s=a.length>1,r=n.get("remoteMedia"),o=n.get("type"),l=Qt.u(o);r&&!s?(t=l.title,i=Object(Ze.default)("Are you sure you want to remove {1}?",n.get("title"))):s&&a.every(e=>e.get("remoteMedia"))?(t=l.plural,i=Object(Ze.default)("Are you sure you want to remove {1} items?",a.length)):o===Qt.e?(t=l.title,i=Object(Ze.default)("Are you sure you want to delete {1}? This cannot be undone.",n.get("title"))):s?(t=l.plural,i=Object(Ze.default)("Are you sure you want to delete {1} items from your filesystem?",a.length)):(t=l.title,i=Object(Ze.default)("Are you sure you want to delete this item from your filesystem?"));var c={title:r?Object(Ze.default)("Remove {typeLabel}",{typeLabel:t}):Object(Ze.default)("Delete {typeLabel}",{typeLabel:t}),message:i,confirmLabel:r?Object(Ze.default)("Remove"):Object(Ze.default)("Delete"),cancelLabel:Object(Ze.default)("Cancel"),async:!0,hasDanger:!0};(s||Qt.y(o))&&(c.requireDoubleConfirm=!0,c.doubleConfirmMessage=r?Object(Ze.default)("Multiple files may be removed."):Object(Ze.default)("Multiple items may be deleted."),c.doubleConfirmLabel=Object(Ze.default)("Yes, I'm sure"));var d=new vn(c);return U.a.trigger("show:modal",d),d}({item:i,items:t});s=o.promise.then((function(){return D.a.when.apply(D.a,Sn(t,a)).always((function(){o.hide()}))}))}return s},Mn=on.extend({className:"select-modal modal modal-sm fade",events:I.a.extend({"click a":"onClick"},on.prototype.events),initialize:function(){on.prototype.initialize.apply(this,arguments),this.promise=D.a.Deferred()},onRender:function(){on.prototype.onRender.apply(this,arguments)},onHide:function(e){on.prototype.onHide.apply(this,arguments),this.promise.reject()},onClick:function(e){e.preventDefault(),this.promise.resolve(D()(e.currentTarget).data("value")),this.hide()}}),Dn=i("xY9m"),Pn=i.n(Dn),On=Mn.extend({name:"SelectMediaFileModal",template:Pn.a,serializeData:function(){return{medias:this.model.get("Media")}}});var jn=function(e){var t=function(e){var t=D.a.Deferred(),i=e.item,n=i.get("Media");if(e.index in n)return t.resolve(n[e.index]).promise();var a=new On({model:i}),s=a.promise;return s.done((function(e){t.resolve(n[e])})),s.fail((function(){t.reject()})),U.a.trigger("show:modal",a),t.promise()}(e);return t=t.then((function(t){var i=function(){var e=new vn({title:Object(Ze.default)("Delete File"),message:Object(Ze.default)("Are you sure you want to delete this file from your filesystem?"),confirmLabel:Object(Ze.default)("Delete"),cancelLabel:Object(Ze.default)("Cancel"),async:!0,hasDanger:!0});return U.a.trigger("show:modal",e),e}();return i.promise.then((function(){return Ge.execute("deleteFile",{item:e.item,media:t}).always((function(){i.hide()}))}))}))};var wn=function(e){var t=e.item,i=t.server,n=t.get("Media"),a=I.a.filter(n,(function(e){return!!e.proxyType})),s=function(e){var t,i=e.item,n=e.versions,a=n.length>1;if(a)t=Object(Ze.default)("Are you sure you want to delete {1} versions of {2}?",n.length,i.get("title"));else{var s=I.a.first(n);t=Object(Ze.default)("Are you sure you want to delete the {1} version of {2}?",s.title,i.get("title"))}var r=new vn({title:a?Object(Ze.default)("Delete Versions"):Object(Ze.default)("Delete Version"),message:t,confirmLabel:Object(Ze.default)("Delete"),cancelLabel:Object(Ze.default)("Cancel"),async:!0,hasDanger:!0});return U.a.trigger("show:modal",r),r}({item:t,versions:a});return s.promise.then((function(){var e=V.join(["/library/metadata/",t.id],{proxy:1}),r=I.a.extend(i.getXHROptions(e),{type:"DELETE"}),o=D.a.ajax(r);return o.done((function(){I.a.each(a,(function(e){n.splice(I.a.indexOf(n,e),1)})),t.trigger("change:Media",t,t.get("Media"))})),o.fail((function(e){var t=403===e.status?Object(Ze.default)("Ensure that media deletion is enabled for library content in your server settings."):Object(Ze.default)("There was a problem deleting these versions.");U.a.trigger("show:alert",{type:"error",message:t})})),o.always((function(){s.hide()})),o.promise()}))},Tn=i("INWF");var En=function(e){var t=D.a.Deferred(),i=e.section,n=new vn({title:Object(Ze.default)("Delete Library"),message:Object(Ze.default)("Are you sure you want to delete {1}?",i.get("title")),confirmLabel:Object(Ze.default)("Delete"),cancelLabel:Object(Ze.default)("Cancel"),requireDoubleConfirm:!0,doubleConfirmMessage:Object(Ze.default)("This cannot be undone."),doubleConfirmLabel:Object(Ze.default)("Yes, I'm sure"),async:!0,hasDanger:!0}),a=n.promise;return a.done((function(){var e=i.destroy({wait:!0});e?(e.done((function(){var e=ne.c("appStore").dispatch,n=i.server.entityID();n&&e(Object(Tn.c)({serverEntityID:n})),t.resolve()})),e.fail((function(e){U.a.trigger("show:alert",{type:"error",message:Object(Ze.default)("There was a problem deleting the library.")}),t.reject(e)}))):t.resolve()})),a.fail((function(){t.reject()})),U.a.trigger("show:modal",n),t.promise().always(()=>{n.hide()}),t.promise()};var Nn=function(e){var t=e.section,i="/library/sections/"+t.id+"/indexes",n=I.a.extend(t.server.getXHROptions(i),{type:"DELETE"}),a=new vn({title:Object(Ze.default)("Delete Preview Thumbnails"),message:Object(Ze.default)("Are you sure you want to delete the preview thumbnails for items in this library? This cannot be undone."),confirmLabel:Object(Ze.default)("Delete"),cancelLabel:Object(Ze.default)("Cancel"),async:!0,hasDanger:!0}),s=a.promise;return s=s.then((function(){return(e=D.a.ajax(n)).done((function(e){U.a.trigger("show:alert",{type:"success",message:Object(Ze.default)("The preview thumbnails for items in this library were deleted.")})})),e.fail((function(e){U.a.trigger("show:alert",{type:"error",message:Object(Ze.default)("There was a problem deleting the preview thumbnails for items in this library.")})})),e.always((function(e){a.hide()})),e;var e})),U.a.trigger("show:modal",a),s};var xn=function(e){var t=D.a.Deferred(),i="photo"===e.item.get("playlistType"),n=new vn({title:i?Object(Ze.default)("Delete Album"):Object(Ze.default)("Delete Playlist"),message:Object(Ze.default)("Are you sure you want to delete {1}? This cannot be undone.",e.item.get("title")),confirmLabel:Object(Ze.default)("Delete"),cancelLabel:Object(Ze.default)("Cancel"),async:!0,hasDanger:!0}),a=n.promise;return a.done((function(){var a=e.item.destroy();a.done((function(){e.skipRedirect||U.a.trigger("navigate:back"),t.resolve()})),a.fail((function(e){U.a.trigger("show:alert",{type:"error",message:i?Object(Ze.default)("There was a problem deleting the album."):Object(Ze.default)("There was a problem deleting the playlist.")}),t.reject(e)})),a.always((function(e){n.hide()}))})),a.fail((function(){t.reject()})),U.a.trigger("show:modal",n),t.promise()};var An=function(e){var t=D.a.Deferred(),i=e.section,n=i?i.id:"all",a=e.cancel,s=i?i.server:e.server,r={};(e.params||{}).force&&(r.force=1);var o="/library/sections/"+n+"/refresh",l=I.a.extend(s.getXHROptions(o),{data:r});function c(){var e=D.a.ajax(l);e.done((function(){t.resolve()})),e.fail((function(e){if(503===e.status)U.a.trigger("show:modal",new un({model:s}));else{var i=a?Object(Ze.default)("There was a problem canceling the update."):Object(Ze.default)("There was a problem updating the library.");U.a.trigger("show:alert",{type:"error",message:i})}t.reject(e)}))}if(a&&(l.type="DELETE",i&&i.set("refreshing",!1)),r.force){var d=new vn({title:Object(Ze.default)("Refresh All"),message:Object(Ze.default)("Forces a download of fresh media information from the internet. This can take a long time. Any locked fields are not modified."),confirmLabel:Object(Ze.default)("Refresh"),cancelLabel:Object(Ze.default)("Cancel")}),u=d.promise;u.done(c),u.fail((function(){t.reject()})),U.a.trigger("show:modal",d)}else c();return t.promise()};var Ln=function(e){var t=D.a.Deferred(),i=e.server,n=I.a.extend(i.getXHROptions("/library/optimize"),{type:"PUT"}),a=new vn({title:Object(Ze.default)("Optimize Database"),message:Object(Ze.default)("Cleans up the library database and ensures it is operating as quickly as possible. This is especially useful when you've added or removed a large amount of media from the library."),confirmLabel:Object(Ze.default)("Optimize"),cancelLabel:Object(Ze.default)("Cancel"),async:!0}),s=a.promise;return s.done((function(){var e=D.a.ajax(n);e.done((function(){U.a.trigger("show:alert",{type:"success",message:Object(Ze.default)("The database was optimized.")}),t.resolve()})),e.fail((function(e){U.a.trigger("show:alert",{type:"error",message:Object(Ze.default)("There was a problem optimizing this database.")}),t.reject(e)})),e.always((function(e){a.hide()}))})),s.fail((function(){t.reject()})),U.a.trigger("show:modal",a),t.promise()};var kn=function(e){var t=D.a.Deferred(),i=e.server,n=I.a.extend(i.getXHROptions("/library/clean/bundles"),{type:"PUT"}),a=new vn({title:Object(Ze.default)("Clean Bundles"),message:Object(Ze.default)("The media server stores information about your media to disk, as well as posters, artwork, and other media resources from the internet. Running this task deletes any bundles which are no longer in use."),confirmLabel:Object(Ze.default)("Clean"),cancelLabel:Object(Ze.default)("Cancel"),async:!0}),s=a.promise;return s.done((function(){var e=D.a.ajax(n);e.done((function(){U.a.trigger("show:alert",{type:"success",message:Object(Ze.default)("Unused bundles are being removed.")}),t.resolve()})),e.fail((function(e){U.a.trigger("show:alert",{type:"error",message:Object(Ze.default)("There was a problem removing unused bundles.")}),t.reject(e)})),e.always((function(e){a.hide()}))})),s.fail((function(){t.reject()})),U.a.trigger("show:modal",a),t.promise()};var Rn=function(e){var t=D.a.Deferred(),i=e.section,n=i?i.server:e.server,a=[],s=[];i?a.push(i.id):n.get("sections").each((function(e){a.push(e.id)}));var r=new vn({title:Object(Ze.default)("Empty Trash"),message:Object(Ze.default)("By default the media server doesn't remove information for media right away. This helps if a drive is temporarily disconnected. When you empty the trash for a section, all information about missing media is deleted."),confirmLabel:Object(Ze.default)("Empty"),cancelLabel:Object(Ze.default)("Cancel"),async:!0}),o=r.promise;return o.done((function(){I.a.each(a,(function(e){var t="/library/sections/"+e+"/emptyTrash",i=I.a.extend(n.getXHROptions(t),{type:"PUT"});s.push(D.a.ajax(i))}));var e=D.a.when.apply(D.a,s);e.done((function(){U.a.trigger("show:alert",{type:"success",message:Object(Ze.default)("The trash was emptied.")}),t.resolve()})),e.fail((function(e){U.a.trigger("show:alert",{type:"error",message:Object(Ze.default)("There was a problem emptying the trash.")}),t.reject(e)})),e.always((function(e){r.hide()}))})),o.fail((function(){t.reject()})),U.a.trigger("show:modal",r),t.promise()};var zn=function(e){var t=e.item,i={guid:e.guid,name:e.name,year:e.year};"album"===t.get("type")&&e.children&&e.children.reduce((function(e,t){var i=t.get("id");return i&&(e["guid["+i+"]"]=t.get("guid")),e}),i);var n=V.join(["/library/metadata/",t.id,"/match"],i),a=I.a.extend(t.server.getXHROptions(n),{type:"PUT"});return D.a.ajax(a).promise()};var Un=function(e){var t=D.a.Deferred(),i=e.item,n={agent:e.agent.id,manual:0},a=V.join(["/library/metadata/",i.id,"/matches"],n),s=I.a.extend(i.server.getXHROptions(a)),r=D.a.ajax(s);return r.done((function(e){var a=I.a.isObject(e)?e:Be.a.parseXML(e);if(a.SearchResult){var s=a.SearchResult;Array.isArray(a.SearchResult)&&(s=a.SearchResult[0]),n={guid:s.guid,name:s.name};var r=V.join(["/library/metadata/",i.id,"/match"],n),o=I.a.extend(i.server.getXHROptions(r),{type:"PUT"}),l=D.a.ajax(o);l.done((function(){t.resolve()})),l.fail((function(){U.a.trigger("show:alert",{type:"error",message:Object(Ze.default)("There was a problem matching this item.")}),t.reject()}))}else U.a.trigger("show:alert",{type:"error",message:Object(Ze.default)("No matches were found using this agent.")}),t.reject()})),r.fail((function(e){U.a.trigger("show:alert",{type:"error",message:Object(Ze.default)("There was a problem searching for matches.")}),t.reject(e)})),t.promise()},Vn={poster:"thumb",art:"art",banner:"banner"};var Bn=function(e){var t=e.item,i={url:e.artworkRatingKey},n=V.join(["/library/metadata/",t.id,e.artworkType],i),a=I.a.extend(t.server.getXHROptions(n),{type:"PUT"}),s=D.a.ajax(a);return s.done((function(i){t.set(Vn[e.artworkType],i)})),s.promise()};var Fn=function(e){var t=e.item,i=e.rating,n=t.get("userRating");if(-1===i?t.unset("userRating"):t.set("userRating",i),e.passive)return D.a.Deferred().resolve().promise();var a={key:t.get("ratingKey"),identifier:t.get("identifier"),rating:i},s=V.join("/:/rate",a),r=D.a.ajax(t.server.getXHROptions(s));return r.fail((function(){t.set("userRating",n),U.a.trigger("show:alert",{type:"error",message:Object(Ze.default)("There was a problem rating this item.")})})),r.promise()},Hn=i("/No1");var _n=function(e,t,i){if(e){const n=Object(Hn.a)(e,{streamType:t.id});I.a.each(n,e=>{e.selected=e.id===i})}};var Wn=function(e){var t=D.a.Deferred(),i=e.item,n=i.server,a=e.media||I.a.first(i.get("Media")),s=e.part||a&&I.a.first(a.Part),r=e.streamType,o=e.streamID;if(!a||!s)return t.reject().promise();var l={};l[r.key]=o,!e.media&&n.supports("allPartsStreamSelection")&&(l.allParts=1);var c=V.join(["/library/parts/",s.id],l),d=I.a.extend(n.getXHROptions(c),{type:"PUT"}),u=D.a.ajax(d);return u.done((function(){_n(a,r,o),i.trigger("change:streams"),t.resolve()})),u.fail((function(e){U.a.trigger("show:alert",{type:"error",message:Object(Ze.default)("There was a problem selecting the stream for this item.")}),t.reject(e)})),t.promise()};var Qn=function(e){var t,i=e.item,n=e.media,a=i.server;if(n){var s="/library/metadata/"+i.id+"/media/"+n.id,r=I.a.extend(a.getXHROptions(s),{type:"DELETE"});(t=D.a.ajax(r)).done((function(){var t=e.item.get("Media");t.splice(I.a.indexOf(t,n),1),i.trigger("change:Media",i,i.get("Media"))}))}else t=i.destroy({wait:!0});return t.fail((function(e){var t=403===e.status?Object(Ze.default)("Ensure that media deletion is enabled for library content in your server settings."):Object(Ze.default)("There was a problem deleting this item.");U.a.trigger("show:alert",{type:"error",message:t})})),t},Gn=i("Wpyo"),Kn=i("yO9Y");function Yn(e,t){const i=e.get("features").get(Ot.c),n=i.get("directories");if(!i||!n)return null;const a=n.find(e=>e.get("hubKey")===t||e.get("key")===t);return a?a.toJSON():null}function qn(e,t){if(!e)return!1;var i=new ut.a({key:e},{server:t.item.server,onlyIfCached:!0});return!I.a.isEmpty(i)&&i}function Zn(e){if(e.skipRedirect)return;if(e.refreshPage)return void U.a.trigger("navigate:refresh");const t=e.item,i=t.get("isLibraryItem")&&t.parent,n=t.get("librarySectionKey")||i&&i.get("librarySectionKey");if(!n)return void U.a.trigger("navigate:back");const a=Yn(t.provider,n),s=Xt(t.server.toJSON(),t.provider.toJSON(),a);s?Object(ne.c)("appStore").dispatch(Object(Kn.v)({pathname:s,replace:!0})):U.a.trigger("navigate:back")}function Jn(e,t){t.skipRedirect||Object(ne.c)("appStore").dispatch(Object(Kn.x)({serverEntityID:e.server.entityID(),providerEntityID:e.provider.entityID(),key:e.get("key"),replace:!0}))}var Xn=function(e){var t=Ge.execute("deleteFile",e);return t.done((function(){var t=e.item,i=qn(t.get("parentKey"),e);if(i){var n=new Gn.default({containerKey:i.get("childrenKey")},{server:i.server,provider:i.provider,skipCache:!0});n.fetchRange({size:1}).then(()=>{if(n.getCollection().length>0)Jn(i,e);else{i.trigger("destroy",i,i.collection);var a=qn(t.get("grandparentKey"),e);if(a){var s=new Gn.default({containerKey:a.get("childrenKey")},{server:a.server,provider:a.provider,skipCache:!0});s.fetchRange({size:1}).then(()=>{s.getCollection().length>0?Jn(a,Object.assign({},e,{skipRedirect:!1})):Zn(e)})}else Zn(Object.assign({},e,{skipRedirect:!1}))}})}else Zn(e)})),t};var $n=function(e){var t=e.generator,i=I.a.result(t,"url")+"/"+e.ratingKey+"/enable",n=I.a.extend(t.server.getXHROptions(i),{type:"PUT"}),a=D.a.ajax(n).promise();return a.fail((function(e){U.a.trigger("show:alert",{type:"error",message:Object(Ze.default)("There was a problem enabling this version.")})})),a};var ea=function(e){var t=e.generator,i=I.a.result(t,"url")+"/"+e.ratingKey+"/disable",n=function(){var e=new vn({title:Object(Ze.default)("Remove Version"),message:Object(Ze.default)("Are you sure you want to delete this version? You can enable it again in Optimized Versions Settings."),confirmLabel:Object(Ze.default)("Remove"),cancelLabel:Object(Ze.default)("Cancel"),async:!0,hasDanger:!0});return U.a.trigger("show:modal",e),e}();return n.promise.then((function(){var e=I.a.extend(t.server.getXHROptions(i),{type:"PUT"}),a=D.a.ajax(e).promise();return a.fail((function(e){U.a.trigger("show:alert",{type:"error",message:Object(Ze.default)("There was a problem disabling this version.")})})),a.always((function(){n.hide()})),a}))};var ta=function(e){var t=e.generator,i=e.ratingKey,n=I.a.result(t,"url");i&&(n+="/"+i),n+="/reprocess";var a=I.a.extend(t.server.getXHROptions(n),{type:"PUT"}),s=D.a.ajax(a).promise();return s.fail((function(e){var t=i?Object(Ze.default)("There was a problem processing this item."):Object(Ze.default)("There was a problem processing these items.");U.a.trigger("show:alert",{type:"error",message:t})})),s};var ia=function(e){var t=e.generator,i=function(e){var t=e.generator.get("title"),i=t?Object(Ze.default)("Removing this item will delete all versions created by {1}. Are you sure you want to continue?",t):Object(Ze.default)("Removing this item will delete all related versions. Are you sure you want to continue?"),n=new vn({title:Object(Ze.default)("Delete Versions"),message:i,confirmLabel:Object(Ze.default)("Remove"),cancelLabel:Object(Ze.default)("Cancel"),async:!0,hasDanger:!0});return U.a.trigger("show:modal",n),n}(e);return i.promise.then((function(){var e=t.destroy();return e.fail((function(e){U.a.trigger("show:alert",{type:"error",message:Object(Ze.default)("Unable to stop generating these versions.")})})),e.always((function(){i.hide()})),e}))};var na={NORMAL:0,LOCAL:42,CLOUD:43};var aa=function(e){var t=function(){var e=new vn({title:Object(Ze.default)("Delete All Versions"),message:Object(Ze.default)("Are you sure you want to delete all versions? This cannot be undone."),confirmLabel:Object(Ze.default)("Delete"),cancelLabel:Object(Ze.default)("Cancel"),async:!0,hasDanger:!0});return U.a.trigger("show:modal",e),e}(),i=t.promise;return i=i.then((function(){var i="/playlists/generators?type="+na.LOCAL,n=I.a.extend(e.server.getXHROptions(i),{type:"DELETE"}),a=D.a.ajax(n).promise();return a.fail((function(e){U.a.trigger("show:alert",{type:"error",message:Object(Ze.default)("There was a problem deleting all versions.")})})),a.always((function(){t.hide()})),a.promise()}))};var sa=function(e){var t,i=D.a.Deferred(),n=e.channel,a=n?n.server:e.server,s=e.silent;if(n){var r=n.get("identifier");t=(r?"/system/appstore/apps/"+r:n.get("key"))+"/update"}else t="/system/appstore/updates";var o=D.a.ajax(a.getXHROptions(t));function l(e){s||U.a.trigger("show:alert",{type:"error",message:Object(Ze.default)("There was a problem checking for updates.")}),i.reject(e)}return o.done((function e(t){var n=I.a.isObject(t)?t:Be.a.parseXML(t);if(n&&(n.message||n.Directory))if(n.message)s||U.a.trigger("show:alert",{type:"success",message:n.message}),i.resolve();else{Be.a.parseArray(n,"Directory");var r=n.Directory[0].key,o=D.a.ajax(a.getXHROptions(r));o.done(e),o.fail(l)}else l()})),o.fail(l),i.promise()};function ra(e,t){U.a.trigger("navigate",e,t)}var oa=function(e){var t=D.a.Deferred(),i=e.channel,n=i.get("identifier"),a=(n?"/system/appstore/apps/"+n:i.get("key"))+"/uninstall",s=i.server.getXHROptions(a);function r(){var n=D.a.ajax(s);n.done((function(n){var a=I.a.isObject(n)?n:Be.a.parseXML(n);i.set("installed",!1),a.message&&!e.skipConfirmation&&U.a.trigger("show:alert",{type:"success",message:a.message}),t.resolve()})),n.fail((function(e){if(400===e.status){var n=new vn({title:Object(Ze.default)("Unable to Uninstall Plugin"),message:Object(Ze.default)("This plugin could not be uninstalled, but you can disable it in the server settings."),confirmLabel:Object(Ze.default)("OK"),cancelLabel:Object(Ze.default)("Ignore")});n.promise.done((function(){ra("serverSettings",{serverID:i.server.id,group:"channels"})})),U.a.trigger("show:modal",n)}else U.a.trigger("show:alert",{type:"error",message:Object(Ze.default)("This plugin could not be uninstalled.")});t.reject(e)}))}if(e.skipConfirmation)r();else{var o=new vn({title:Object(Ze.default)("Uninstall Plugin"),message:Object(Ze.default)("Are you sure you want to uninstall this plugin?")}),l=o.promise;l.done(r),l.fail((function(){t.reject()})),U.a.trigger("show:modal",o)}return t.promise()};var la=xe.a.extend({context:["server"],url:"/myplex/account",responseType:ct.a,sessionAttrs:{remoteAccessState:Ae.a.oneOf("connecting","disconnecting","unreachable","ok","")},syncedAttrs:{username:Ae.a.string,mappingState:Ae.a.oneOf("unknown","waiting","failed","mapped"),mappingError:Ae.a.oneOf("badauth","unreachable","myplexgone","publisherror","doublenat","jumboframes",""),signInState:Ae.a.oneOf("none","unknown","invalid","ok"),publicAddress:Ae.a.string,publicPort:Ae.a.integer,privateAddress:Ae.a.string,privatePort:Ae.a.integer,subscriptionActive:Ae.a.boolean,subscriptionState:Ae.a.string},derivedAttrs:{signedIn(){return"ok"===this.get("signInState")},isWaiting(){const e=this.get("remoteAccessState");return"connecting"===e||"disconnecting"===e}},defaults:{signedIn:!1,mappingState:null,mappingError:null,signInState:null,publicAddress:null,publicPort:null,privateAddress:null,privatePort:null},isNew(){return!this.get("signedIn")},augmentResponse(e){let t=e.MyPlex;t||(C.a.warn("[Account] Failed to get reachable information for account - received "+JSON.stringify(e)),t={});const i="ok"===t.signInState;i||(t.username=null);const n=!i||t.mappingError,a=!n&&"mapped"===t.mappingState;return n?t.remoteAccessState="unreachable":a&&(t.remoteAccessState="ok"),t}});var ca=function(e){var t,i=e.cloudAccount,n=i.server.get("desktop").get("settings").get("PublishServerOnPlexOnlineKey"),a=D.a.Deferred();if(!i.get("isWaiting")){var s=e.value?"connecting":"disconnecting";i.set("remoteAccessState",s)}var r=i.previous("remoteAccessState"),o=n.save({PublishServerOnPlexOnlineKey:e.value},{timeout:0});return o.done((function n(){i.fetch().done((function(){var s=i.get("mappingState"),r=e.value&&"unknown"===s,o=!e.value&&"mapped"===s;"waiting"===s||r||o?t||(t=window.setInterval(n,500)):(t=window.clearInterval(t),i.get("isWaiting")&&i.set("remoteAccessState",""),a.resolve())}))})),o.fail((function(t){var n;n=e.value?Object(Ze.default)("There was a problem connecting your server."):Object(Ze.default)("There was a problem disconnecting your server."),U.a.trigger("show:alert",{type:"error",message:n}),i.set("remoteAccessState",r),a.reject(t)})),a.promise()};var da=function(e){var t=e.cloudAccount,i={cloudAccount:t,value:!1},n=Ge.execute("connectServer",i);return n=(n=n.then((function(){return i.value=!0,Ge.execute("connectServer",i)}))).then((function(){if(t.get("mappingError"))return D.a.Deferred().reject().promise()}))};var ua=function(e){const{cloudAccount:t,username:i,password:n,claim:a=!1}=e,s=D.a.Deferred(),r=t.server,o=Object(ne.c)("appModel"),l=o.get("user"),c=o.get("cloudServer"),d=r.get("accessToken");r.set("accessToken",l.get("authToken"));const u=a?function(e,t){const i=t.getXHROptions("/api/claim/token");let n=D.a.ajax(i).promise();return n=n.then(t=>{const{token:i}=Se.a.parseXML(t),n=V.join("/myplex/claim",{token:i}),a=e.getXHROptions(n,{type:"POST"});return D.a.ajax(a).promise()}),n}(r,c):function(e,t,i){const n=V.join("/myplex/account",{username:e,password:t}),a=i.getXHROptions(n,{type:"PUT"});return D.a.ajax(a).promise()}(i,n,r);return u.done(e=>{const i=I.a.isObject(e)?e:Se.a.parseXML(e);i&&"invalid"===i.signInState?(U.a.trigger("show:alert",{type:"error",message:Object(Ze.default)("The username or password is incorrect.")}),s.reject()):(r.set({myPlexSigninState:"ok",myPlexUsername:l.get("email")}),t.set({signedIn:!0,username:l.get("email")}),s.resolve())}),u.fail(e=>{let i;r.set("accessToken",d),!0===t.get("signedIn")&&t.set("signedIn",!1),i=401===e.status?Object(Ze.default)("The username or password is incorrect."):Object(Ze.default)("There was a problem signing in to Plex."),U.a.trigger("show:alert",{type:"error",message:i}),s.reject(e)}),s.promise()};function pa(e){e.trigger("destroy",e,e.collection),e.cache.remove(e)}var ha=function(e){var t,i=ne.c("appModel").get("user"),n=e.device,a=e.server||function(e){var t=new an({machineIdentifier:e},{onlyIfCached:!0});if(!I.a.isEmpty(t))return t}(n.get("clientIdentifier"));t=n?Object(Ze.default)("If you remove the server, all syncs and shares associated with the server will be lost and you will need to sign the server in again to restore access to Plex."):Object(Ze.default)("Are you sure you want to remove this server?");var s={title:Object(Ze.default)("Remove Server"),message:t,confirmLabel:Object(Ze.default)("Remove"),cancelLabel:Object(Ze.default)("Cancel"),async:!0,hasDanger:!0};n&&(s.requireDoubleConfirm=!0,s.doubleConfirmMessage=Object(Ze.default)("Are you sure you want to remove this server?"),s.doubleConfirmLabel=Object(Ze.default)("Yes, I'm sure"));var r=new vn(s),o=r.promise;return o=o.then((function(){return function(){var e;if(n)e=n.destroy({wait:!0});else{var t="/api/servers/"+a.id,s=I.a.extend(i.server.getXHROptions(t),{type:"DELETE"});e=D.a.ajax(s)}if(a){if(a.get("connected")&&"ok"===a.get("myPlexSigninState")){var o=a.get("desktop").get("cloudAccount");e=(e=e.then((function(){return o.fetch()}))).then((function(){return function(e){var t=e.get("desktop").get("cloudAccount").destroy();return t.done((function(){e.set({accessToken:void 0,myPlexSigninState:"none",myPlexSubscription:!1})})),t}(a)}))}!1===a.get("connected")?pa(a):e.always((function(){U.a.trigger("test:server",a),a.populate().fail((function(){pa(a)}))}))}return e.always((function(){r.hide()})),e.promise()}()})),U.a.trigger("show:modal",r),o};var ma=function(e){const t=D.a.Deferred();return e&&e.then?e.then(t.resolve,t.reject):t.resolve(e),t.promise()},ga=i("1aU3"),va=i("i7Pf"),ya=i("5rFJ"),fa=i("vDqi"),ba=i.n(fa),Ia=i("Qyje"),Sa=i.n(Ia);var Ca={PUT:!0,DELETE:!0},Ma={Accept:!0,"Accept-Language":!0,"Content-Language":!0,"Content-Type":!0},Da=/(^X-Plex-[^=]+)/i;var Pa=function(e){const t=Object.assign({},e);function*i(e,i){const{server:n,provider:a,timeout:s=t.timeout,allowHeadersInUrl:r=!(!n&&!a)}=i,o=Xe()(i,["server","provider","timeout","allowHeadersInUrl"]),l=$.hasInstance()?$.getInstance():{},c=Object.assign({},l,i.headers);let d=e;if(n){if(!yi(e)){const t=(null==a?void 0:a.baseURL)?a.baseURL:n.uri;if(!t)throw new Error("Unable to make a request to a relative path without `server.uri` or `baseURL`");d=V.join([t,e])}n.accessToken&&(c["X-Plex-Token"]=n.accessToken),n.isEmbedded&&(c["X-Plex-Account-ID"]="1"),a&&(c["X-Plex-Provider-Version"]=t.providerVersion,c["X-Plex-Text-Format"]=Bt(a.identifier),t.drmType&&(c["X-Plex-Drm"]=t.drmType))}t.language&&(c["X-Plex-Language"]=t.language,c["Accept-Language"]=t.language);const u=ba.a.CancelToken.source();let p=Object.assign({},o,{url:d,cancelToken:u?u.token:void 0,headers:c,timeout:s,allowHeadersInUrl:r,paramsSerializer:e=>Sa.a.stringify(e,{arrayFormat:"repeat"})});(null==n?void 0:n.isCloud)&&a&&(p=function(e){return Object.assign({},e,{headers:(t=e.headers,t?Xe()(t,["X-Plex-Username","X-Plex-Device-Name"]):t)});var t}(p)),p=function(e){var{method:t="GET",headers:i={},params:n={},allowHeadersInUrl:a=!1,allowBlacklistedMethodHeaders:s=!1}=e;if(!a)return e;if(Ca[t]&&!s)return e;var r=Object.assign({},i),o=Object.assign({},n);return Object.keys(i).forEach(e=>{var t=i[e];Ma[e]||(Da.test(e)?(o[e]=t,delete r[e]):C.a.warn('[CORS] Did not move header "%s" to query string. This can result in an unnecessary OPTIONS preflight request.',e))}),Object.assign({},e,{headers:r,params:o})}(p);try{return yield Object(ya.b)(ba.a.request,p)}finally{(yield Object(ya.d)())&&(null==u||u.cancel())}}return{get:(e,t={})=>i(e,Object.assign({},t,{method:"GET"})),post:(e,t={},n)=>i(e,Object.assign({},t,{method:"POST",data:n})),put:(e,t={},n)=>i(e,Object.assign({},t,{method:"PUT",data:n})),del:(e,t={})=>i(e,Object.assign({},t,{method:"DELETE"})),setOption(e,i){t[e]=i},toPlainErrorObject(e){let t,i;(function(e){return e.isAxiosError})(e)&&(e.response?(t=e.response.status,i=e.response.data):e.request&&(t=e.request.status));const n={message:e.message,name:e.name,stack:e.stack,status:t,data:i};return C.a.error(n),n}}}({timeout:3e4,language:"en",drmType:Ft.NONE,providerVersion:"3.1"});function Oa(e){e.isPending=!0,e.error=null}function ja(e){e.isPending=!1,e.isPopulated=!0}function wa(e,t){e.isPending=!1,e.error=t}function Ta(e){e.isPending=!1,e.error=null}function Ea(e,t){const i={items:[],totalSize:void 0,isPending:!1,isPopulated:!1,error:null};return{getDefaultPaginatedState:()=>i,getRepopulateRangeOptions(e){const t=Math.max(e.findIndex(e=>null!=e),0);return{startIndex:t,size:e.length-t}},fetchAll:function*(e,i){const{server:n,provider:a,params:s}=i,r=yield Object(ya.b)(Pa.get,e,{server:n,provider:a,params:s}),o=t?t({server:n,provider:a,data:r.data}):r.data;return yield o},fetchRange:function*(e,i){const{server:n,provider:a,params:s,startIndex:r,size:o,isPrepend:l}=i,c=n.isCloud?200:400,d=Math.max(Math.min(o,c),24),u=l?Math.max(r-d+1,0):r,p=yield Object(ya.b)(Pa.get,e,{server:n,provider:a,params:s,headers:{"X-Plex-Container-Start":String(u),"X-Plex-Container-Size":String(d)}}),h=t?t({server:n,provider:a,data:p.data}):p.data;return yield h},reducers:{reset(t,{payload:n}){const a=e(t,n);Object.assign(a,i)},fetchAllRequested(t,{payload:i}){Oa(e(t,i))},fetchAllSucceeded(t,{payload:i}){const n=e(t,i),{items:a,size:s}=i.data;ja(n),n.totalSize=s,n.items=a},fetchAllFailed(t,{payload:i}){wa(e(t,i),i.error)},fetchRangeRequested(t,{payload:i}){Oa(e(t,i))},fetchRangeSucceeded(t,{payload:i}){const n=e(t,i),{items:a,totalSize:s,offset:r}=i.data;ja(n),n.totalSize=s;for(let e=0;e<a.length;e++)n.items[e+r]=a[e]},fetchRangeFailed(t,{payload:i}){wa(e(t,i),i.error)},repopulateRangeRequested(t,{payload:i}){Oa(e(t,i))},repopulateRangeSucceeded(t,{payload:i}){const n=e(t,i),{items:a,totalSize:s,offset:r}=i.data;ja(n),n.items=[],n.totalSize=s;for(let e=0;e<a.length;e++)n.items[e+r]=a[e]},repopulateRangeFailed(t,{payload:i}){wa(e(t,i),i.error)}}}}let Na,xa,Aa,La,ka,Ra,za,Ua,Va,Ba,Fa,Ha,_a,Wa,Qa,Ga,Ka,Ya,qa,Za,Ja,Xa,$a,es,ts,is,ns;function as(e,t,i){return e.features.find(e=>e.type===t&&(!i||e.flavor===i))}!function(e){e.Movie="movie",e.Show="show",e.Season="season",e.Episode="episode",e.Person="person",e.Artist="artist",e.Album="album",e.Track="track",e.Clip="clip",e.Photo="photo",e.Game="game",e.PhotoAlbum="photoalbum",e.Playlist="playlist",e.Collection="collection",e.Directory="directory",e.Channel="channel",e.Hub="hub",e.List="list"}(Na||(Na={})),function(e){e[e.Movie=1]="Movie",e[e.Show=2]="Show",e[e.Season=3]="Season",e[e.Episode=4]="Episode",e[e.Person=7]="Person",e[e.Artist=8]="Artist",e[e.Album=9]="Album",e[e.Track=10]="Track",e[e.Clip=12]="Clip",e[e.Photo=13]="Photo",e[e.PhotoAlbum=14]="PhotoAlbum",e[e.Playlist=15]="Playlist",e[e.Collection=18]="Collection",e[e.Game=19]="Game"}(xa||(xa={})),function(e){e.Podcast="podcast",e.Webshow="webshow",e.News="news",e.Movie="movie",e.Show="show",e.Artist="artist",e.Album="album",e.Trailer="trailer",e.DeletedScene="deletedScene",e.Interview="interview",e.MusicVideo="musicVideo",e.BehindTheScenes="behindTheScenes",e.SceneOrSample="sceneOrSample",e.LiveMusicVideo="liveMusicVideo",e.LyricMusicVideo="lyricMusicVideo",e.Concert="concert",e.Featurette="featurette",e.Short="short",e.Other="other",e.Photo="photo",e.Clip="clip"}(Aa||(Aa={})),function(e){e[e.Trailer=1]="Trailer",e[e.DeletedScene=2]="DeletedScene",e[e.Interview=3]="Interview",e[e.MusicVideo=4]="MusicVideo",e[e.BehindTheScenes=5]="BehindTheScenes",e[e.SceneOrSample=6]="SceneOrSample",e[e.LiveMusicVideo=7]="LiveMusicVideo",e[e.LyricMusicVideo=8]="LyricMusicVideo",e[e.Concert=9]="Concert",e[e.Featurette=10]="Featurette",e[e.Short=11]="Short",e[e.Other=12]="Other"}(La||(La={})),function(e){e.Video="video",e.Audio="audio",e.Photo="photo",e.Rom="rom"}(ka||(ka={})),function(e){e.VMAP="vmap"}(Ra||(Ra={})),function(e){e[e.Video=1]="Video",e[e.Audio=2]="Audio",e[e.Subtitles=3]="Subtitles",e[e.Lyrics=4]="Lyrics"}(za||(za={})),function(e){e.Video="videoStreamID",e.Audio="audioStreamID",e.Subtitles="subtitleStreamID",e.Lyrics="lyricStreamID"}(Ua||(Ua={})),function(e){e.North="north",e.NorthEast="northeast",e.East="east",e.SouthEast="southeast",e.South="south",e.SouthWest="southwest",e.West="west",e.NorthWest="northwest",e.Center="center"}(Va||(Va={})),function(e){e.Small="small",e.Medium="medium",e.Large="large"}(Ba||(Ba={})),function(e){e.Absolute="absolute",e.Relative="relative"}(Fa||(Fa={})),function(e){e.Album="album",e.Artist="artist",e.Channel="channel",e.Channels="channels",e.Content="content",e.Clip="clip",e.Collection="collection",e.Directory="directory",e.Episode="episode",e.Extra="extra",e.Folder="folder",e.Mixed="mixed",e.Movie="movie",e.MusicVideo="musicVideo",e.Person="person",e.Photo="photo",e.PhotoAlbum="photoAlbum",e.Playlist="playlist",e.Season="season",e.Show="show",e.Station="station",e.Track="track"}(Ha||(Ha={})),function(e){e.Hero="hero",e.List="list",e.Shelf="shelf",e.Spotlight="spotlight",e.Upsell="upsell",e.WideShelf="wideShelf",e.Grid="grid",e.PrePlayGrid="prePlayGrid",e.Table="table",e.Details="details",e.SimpleDetails="simpleDetails",e.SharedItems="sharedItems",e.Folder="folder"}(_a||(_a={})),function(e){e.Download="download",e.LiveTV="livetv",e.Stream="stream"}(Wa||(Wa={})),function(e){e.Action="action",e.Actions="actions",e.Content="content",e.ContinueWatching="continuewatching",e.Grid="grid",e.ImageTranscoder="imagetranscoder",e.Integrations="integrations",e.Lineups="lineups",e.Location="location",e.Manage="manage",e.Match="match",e.Metadata="metadata",e.Playlist="playlist",e.PlayQueue="playqueue",e.Promoted="promoted",e.Rate="rate",e.Search="search",e.Settings="settings",e.Subscribe="subscribe",e.Timeline="timeline",e.Universal="universal"}(Qa||(Qa={})),function(e){e.Download="download",e.Record="record",e.Universal="universal"}(Ga||(Ga={})),function(e){e.Scrobble="scrobble",e.Save="save",e.Pick="pick",e.AddToCatalog="addToCatalog",e.AddToWatchlist="addToWatchlist",e.Follow="follow",e.Mute="mute",e.Rate="rate"}(Ka||(Ka={})),function(e){e.Hub="hub",e.List="list",e.View="view"}(Ya||(Ya={})),function(e){e.RecordingSchedule="view://dvr/recording-schedule",e.Guide="view://dvr/guide",e.Timeline="view://photo/timeline",e.SharedItems="view://shared-items"}(qa||(qa={})),function(e){e.Freebase="com.plexapp.agents.freebase",e.IMDB="com.plexapp.agents.imdb",e.LastFM="com.plexapp.agents.lastfm",e.Lyricfind="com.plexapp.agents.lyricfind",e.None="com.plexapp.agents.none",e.PlexGame="tv.plex.agents.game",e.PlexMovie="tv.plex.agents.movie",e.PlexMusic="tv.plex.agents.music",e.PlexPremiumMusic="com.plexapp.agents.plexmusic",e.TheMovieDB="com.plexapp.agents.themoviedb",e.TheTVDB="com.plexapp.agents.thetvdb"}(Za||(Za={})),function(e){e.Filter="filter"}(Ja||(Ja={})),function(e){e.String="string",e.Integer="integer",e.Boolean="boolean"}(Xa||(Xa={})),function(e){e.Ascending="asc",e.Descending="desc"}($a||($a={})),function(e){e.Year="year",e.Decade="decade",e.Duration="duration",e.Rating="rating",e.HDR="hdr",e.FleSize="fileSize",e.Bitrate="bitrate"}(es||(es={})),function(e){e.Tag="tag",e.String="string",e.Integer="integer",e.Boolean="boolean",e.Date="date",e.SubtitleLanguage="subtitleLanguage",e.AudioLanguage="audioLanguage",e.Resolution="resolution"}(ts||(ts={})),function(e){e.AddedAt="addedAt",e.AddedAtChannelTag="addedAtChannelTag",e.AddedAtGrandparentTitle="addedAtGrandparentTitle",e.AirsAt="airsAt",e.AttributionLogo="attributionLogo",e.ChildCount="childCount",e.ContentRating="contentRating",e.Duration="duration",e.EpisodeIdentifier="episodeIdentifier",e.GrandparentTitle="grandparentTitle",e.LastRatedAt="lastRatedAt",e.LastViewedAt="lastViewedAt",e.LeafCount="leafCount",e.MediaBitrate="mediaBitrate",e.OriginallyAvailableAt="originallyAvailableAt",e.OriginalTitle="originalTitle",e.ParentTitle="parentTitle",e.Rating="rating",e.SourceTitle="sourceTitle",e.Title="title",e.TitleAttributed="titleAttributed",e.UnviewedLeafCount="unviewedLeafCount",e.UserRating="userRating",e.VideoResolution="videoResolution",e.ViewCount="viewCount",e.ViewOffset="viewOffset",e.Year="year"}(is||(is={})),function(e){e.Attribution="attribution",e.Avatar="avatar",e.Background="background",e.Banner="banner",e.Clear="clear",e.CoverArt="coverArt",e.CoverPoster="coverPoster",e.CoverSquare="coverSquare",e.Snapshot="snapshot"}(ns||(ns={}));var ss=Object.keys,rs=Object.values,os=Object.entries;var ls=function(e){var t=os(Na).find(([,t])=>t===e);return t?Na[t[0]]:void 0};var cs=function(e){var t;return null==(t=e.Type)?void 0:t.find(e=>e.active)};function ds(e,t){switch(t){case Aa.News:switch(e){case Ha.Clip:return[is.Title,is.AddedAtChannelTag]}break;case Aa.Podcast:switch(e){case Ha.Show:return[is.Title];case Ha.Track:return[is.Title,is.GrandparentTitle]}break;case Aa.Webshow:switch(e){case Ha.Show:return[is.Title];case Ha.Episode:return[is.Title,is.AddedAtGrandparentTitle]}}switch(e){case Ha.Movie:return[is.Title,is.Year];case Ha.Show:return[is.Title,is.ChildCount];case Ha.Season:return[is.ParentTitle,is.Title];case Ha.Episode:return[is.GrandparentTitle,is.Title,is.EpisodeIdentifier];case Ha.Artist:return[is.Title];case Ha.Album:return[is.ParentTitle,is.TitleAttributed];case Ha.Track:return[is.GrandparentTitle,is.Title];case Ha.Photo:case Ha.PhotoAlbum:case Ha.Clip:return[is.Title];case Ha.Playlist:return[is.Title,is.Duration];case Ha.Collection:return[is.Title,is.ChildCount];case Ha.Channels:return[is.Title,is.AirsAt]}return[is.Title]}var us=function(e){var t;if(!e)return;if(e.DisplayFields)return e;const i=cs(e);if(!i)return e;const n=null==(t=i.Sort)?void 0:t.find(e=>e.active);if(!n)return e;const a=ls(i.type);if(!a)return e;const s=ds(i.type,i.subtype),r=function(e,t){switch(e.key){case"addedAt":return[is.AddedAt];case"audienceRating":return[is.Rating];case"beginsAt":return[is.AirsAt];case"contentRating":return[is.ContentRating];case"duration":return[is.Duration];case"lastRatedAt":return[is.LastRatedAt];case"lastViewedAt":return[is.LastViewedAt];case"mediaBitrate":return[is.MediaBitrate];case"mediaCount":return[is.LeafCount];case"mediaHeight":return[is.VideoResolution];case"originallyAvailableAt":return[is.OriginallyAvailableAt];case"rating":return[is.Rating];case"unviewedLeafCount":return[is.UnviewedLeafCount];case"userRating":return[is.UserRating];case"viewCount":return[is.ViewCount];case"viewOffset":return[is.ViewOffset];case"year":return[is.Year]}return[]}(n);return e.DisplayFields=[{type:a,subtype:i.subtype,fields:Array.from(new Set([...s,...r]))}],e},ps=i("BkRI"),hs=i.n(ps),ms=i("LSig"),gs=i("zTY+");function vs(e){return jt.k(gi(e.identifier,e.providerIdentifier),[jt.b,jt.c])}function ys(e,t){if(!e)throw new Error(t)}function fs(e,t){var i;if(e.Image=null!=(i=e.Image)?i:[],e.Image.find(e=>e.type===t))return;const n=function(e,t){var i,n,a,s;switch(t){case ns.CoverArt:switch(e.type){case Na.Season:return null!=(i=e.parentArt)?i:e.art;case Na.Episode:return null!=(n=null!=(a=e.grandparentArt)?a:e.parentArt)?n:e.thumb;default:return e.art}case ns.CoverPoster:switch(e.type){case Na.Season:return null!=(s=e.parentTheme)?s:e.thumb;case Na.Episode:return e.grandparentThumb;default:return e.thumb}}}(e,t);n&&e.Image.push({alt:e.title,type:t,url:n})}var bs=function(e){fs(e,ns.CoverArt),fs(e,ns.CoverPoster)};function Is(e){return(t,i,n)=>{var a=e(t[i],i);n?(t[n]=a,delete t[i]):t[i]=a}}var Ss=Is((e,t)=>{var i=typeof e;if("string"===i||"number"===i)return Number(e);"undefined"!==i&&C.a.warn("normalizeAsNumber: returning undefined for type: "+i+", property: "+t)}),Cs=Is((e,t)=>{var i=typeof e;return"boolean"===i||"number"===i?Boolean(e):"string"===i?"1"===e:void("undefined"!==i&&C.a.warn("normalizeAsBoolean: returning undefined for type: "+i+", property: "+t))}),Ms=Is((e,t)=>{var i=typeof e;if(null!=e)return String(e);"undefined"!==i&&C.a.warn("normalizeAsNumber: returning undefined for type: "+i+", property: "+t)});function Ds(e,t,i){e.hasOwnProperty(i)&&(t[i]=e[i],delete e[i])}function Ps(e,t,i){e.hasOwnProperty(i)&&(t[i]=e[i])}function Os({server:e,provider:t,data:i,container:n}){var a,s,r,o,l,c,d,u,p,h,m,g,v,y,f,b,I,S,C,M,D,P,O,j,w,T,E;let N=hs()(i);if(N.type===Na.Channel&&N.Metadata){const e={id:N.id,thumb:N.thumb,title:N.title};N=hs()(N.Metadata),N.liveTVChannel=e}null!=N.allowSync||Ps(n,N,"allowSync"),null!=N.attribution||Ps(n,N,"attribution"),null!=N.librarySectionID||Ps(n,N,"librarySectionID"),null!=N.librarySectionTitle||Ps(n,N,"librarySectionTitle"),null!=N.librarySectionUUID||Ps(n,N,"librarySectionUUID"),null==n.augmentationKey||Qi(e.version,qi.augmentedHubsInRelatedHubs)||Ps(n,N,"augmentationKey");const x=/(.*)\/(children|items)$/.exec(N.key);x&&(N.childrenKey=V.join(N.skipChildren?N.key.replace("/children","/grandchildren"):N.key,{excludeAllLeaves:1}),N.key=x[1]),Ms(N,"librarySectionID"),Ss(N,"extraType");const A=N.source||Object(gs.a)({serverIdentifier:e.machineIdentifier,providerIdentifier:null==t?void 0:t.identifier});N.source=A,N.sourceURI=""+A+N.key,null==N.userState&&(N.userState=!0),N.isPlaylist=N.type===Na.Playlist&&!N.radio,N.isLiveTVChannel=!!N.liveTVChannel,N.isExtra=null!=N.extraType,N.isFolder=/\/folder\?parent=/.test(N.key),N.type===Na.Clip&&(null==(a=N.guid)?void 0:a.startsWith(ms.d+"://"))&&!N.subtype&&(N.subtype=Aa.Photo),N.type===Na.Movie&&(null==(s=N.guid)?void 0:s.startsWith(ms.d+"://"))&&!N.subtype&&(N.subtype=Aa.Clip),N.Media=null!=(r=N.Media)?r:[],N.Collection=null!=(o=N.Collection)?o:[],N.Director=null!=(l=N.Director)?l:[],N.Producer=null!=(c=N.Producer)?c:[],N.Writer=null!=(d=N.Writer)?d:[],N.Studio=null!=(u=N.Studio)?u:[],N.Style=null!=(p=N.Style)?p:[],N.Genre=null!=(h=N.Genre)?h:[],N.Mood=null!=(m=N.Mood)?m:[],N.Country=null!=(g=N.Country)?g:[],N.Label=null!=(v=N.Label)?v:[],N.Topic=null!=(y=N.Topic)?y:[],N.Channel=null!=(f=N.Channel)?f:[],N.Role=null!=(b=N.Role)?b:[],N.Review=null!=(I=N.Review)?I:[],N.Location=null!=(S=N.Location)?S:[],N.Autotag=null!=(C=N.Autotag)?C:[],N.Tag=null!=(M=N.Tag)?M:[],N.Platform=null!=(D=N.Platform)?D:[],N.Publisher=null!=(P=N.Publisher)?P:[],N.Media.forEach(e=>{var t;null==(t=e.Part)||t.forEach(e=>{var t;null==(t=e.Stream)||t.forEach(e=>{Ms(e,"id")})})}),bs(N),N.listItemKey=N.Media.reduce((e,t)=>(e.push(t.id),e),[N.sourceURI]).join("~");const L={tempState:{},isStale:!1,isPending:!1,isPopulated:!!N.userState,error:null};var k;(Ds(N,L,"deletedAt"),Ds(N,L,"downloadSubscriptionID"),Ds(N,L,"subscriptionID"),Ds(N,L,"subscriptionType"),Ds(N,L,"grandparentSubscriptionID"),Ds(N,L,"grandparentSubscriptionType"),Ds(N,L,"isDownloaded"),Ds(N,L,"lastRatedAt"),Ds(N,L,"lastViewedAt"),Ds(N,L,"picked"),Ds(N,L,"saved"),Ds(N,L,"unviewedLeafCount"),Ds(N,L,"userRating"),Ds(N,L,"viewCount"),Ds(N,L,"viewOffset"),Ds(N,L,"viewedLeafCount"),Ds(N,L,"watchlistedAt"),null!=N.leafCount)&&(L.viewedLeafCount=null!=(k=L.viewedLeafCount)?k:0,L.unviewedLeafCount=N.leafCount-L.viewedLeafCount);const R={[N.sourceURI]:L};if(null==(O=N.Stations)?void 0:O.Metadata){const i=js({server:e,provider:t,data:N.Stations.Metadata,container:n});N.stations=i.metadataItems,delete N.Stations,Object.assign(R,i.metadataItemStates)}if(null==(j=N.Extras)?void 0:j.Metadata){const i=js({server:e,provider:t,data:N.Extras.Metadata,container:n});N.extras=i.metadataItems,delete N.Extras,Object.assign(R,i.metadataItemStates)}if(null==(w=N.OnDeck)?void 0:w.Metadata){const i=Os({server:e,provider:t,data:N.OnDeck.Metadata,container:n});N.onDeck=i.metadataItem,delete N.OnDeck,Object.assign(R,i.metadataItemStates)}if((null==(T=N.PopularLeaves)?void 0:T.Metadata)&&(null==(E=N.PopularLeaves)?void 0:E.key)){const i=js({server:e,provider:t,data:N.PopularLeaves.Metadata,container:n});N.popularLeaves={key:N.PopularLeaves.key,items:i.metadataItems},delete N.PopularLeaves,Object.assign(R,i.metadataItemStates)}return N.Preferences&&(L.preferences=N.Preferences.Setting,delete N.Preferences),{metadataItem:N,metadataItemStates:N.userState?R:{}}}function js({server:e,provider:t,data:i,container:n}){return i.reduce((i,a)=>{const{metadataItem:s,metadataItemStates:r}=Os({server:e,provider:t,data:a,container:n});return i.metadataItems.push(s),Object.assign(i.metadataItemStates,r),i},{metadataItems:[],metadataItemStates:{}})}const ws=Ea((e,t)=>e[t.sourceURI],({server:e,provider:t,data:i})=>{var n,a,s,r,o;const l=null!=(n=null==i?void 0:i.MediaContainer)?n:{},{Metadata:c=[],Directory:d}=l,u=Xe()(l,["Metadata","Directory"]),p=t?function(e,t){var i,n=as(e,Qa.Content);if(n)return(null!=(i=null==n?void 0:n.directories)?i:[]).find(e=>!!e.id&&e.id===t)}(t,String(u.librarySectionID)):void 0;null==u||null==(a=u.Meta)||null==(s=a.Type)||s.forEach(e=>{e.type===Ha.Movie&&(null==p?void 0:p.agent)===Za.None&&null==e.subtype&&(e.subtype=Aa.Clip)});const{metadataItems:h,metadataItemStates:m}=js({server:e,provider:t,data:null!=d?d:c,container:u});return{items:h,totalSize:null!=(r=null==u?void 0:u.totalSize)?r:0,size:null==u?void 0:u.size,offset:null!=(o=null==u?void 0:u.offset)?o:0,meta:us(null==u?void 0:u.Meta),title:null==u?void 0:u.title,metadataItemStates:m}});var Ts=Object(va.c)({name:"metadataLists",initialState:{},reducers:Object.assign({},ws.reducers,{added(e,{payload:t}){t.metadataLists.forEach(t=>{e[t.sourceURI]=Object.assign({},ws.getDefaultPaginatedState(),t)})},throttledRepopulateRangeRequested(e,t){},throttledFetchAllRequested(e,t){}})});var Es=Object(va.c)({name:"metadataItemState",initialState:{},reducers:{metadataItemStatesNormalized(e,{payload:t}){Object.assign(e,t.metadataItemStates)},playedStatusUpdateRequested(e,{payload:t}){const{sourceURI:i,played:n}=t,a=e[i];if(a){const{viewedLeafCount:e,unviewedLeafCount:t,viewCount:i,viewOffset:s,tempState:r}=a;r.viewedLeafCount=e,r.unviewedLeafCount=t,r.viewCount=i,r.viewOffset=s,null!=t&&null!=e?(a.viewedLeafCount=n?t+e:0,a.unviewedLeafCount=n?0:t+e):(a.viewCount=n?(a.viewCount||0)+1:0,a.viewOffset=0)}},playedStatusUpdateSucceeded(e,{payload:t}){const{sourceURI:i}=t,n=e[i];if(n){const{tempState:e}=n;e.viewedLeafCount=void 0,e.unviewedLeafCount=void 0,e.viewCount=void 0,e.viewOffset=void 0,n.isStale=!0}},playedStatusUpdateFailed(e,{payload:t}){const i=e[t.sourceURI];if(i){const{tempState:e}=i;i.viewedLeafCount=e.viewedLeafCount,e.viewedLeafCount=void 0,i.unviewedLeafCount=e.unviewedLeafCount,e.unviewedLeafCount=void 0,i.viewCount=e.viewCount,e.viewCount=void 0,i.viewOffset=e.viewOffset,e.viewOffset=void 0}},rateRequested(e,{payload:t}){const i=e[t.sourceURI];if(i){const{lastRatedAt:e,userRating:n,tempState:a}=i,s=-1===t.rating;a.lastRatedAt=e,a.userRating=n,i.lastRatedAt=s?void 0:Date.now(),i.userRating=s?void 0:t.rating}},rateSucceeded(e,{payload:t}){const i=e[t.sourceURI];if(i){const{tempState:e}=i;e.lastRatedAt=void 0,e.userRating=void 0}},rateFailed(e,{payload:t}){const i=e[t.sourceURI];if(i){const{tempState:e}=i;i.lastRatedAt=e.lastRatedAt,e.lastRatedAt=void 0,i.userRating=e.userRating,e.userRating=void 0}},toggleWatchlistRequested(e,{payload:t}){const i=e[t.sourceURI];if(i){const{watchlistedAt:e,tempState:n}=i;n.watchlistedAt=e,i.watchlistedAt=t.added?Date.now():void 0}},toggleWatchlistSucceeded(e,{payload:t}){const i=e[t.sourceURI];if(i){const{tempState:e}=i;e.watchlistedAt=void 0,i.isStale=!0}},toggleWatchlistFailed(e,{payload:t}){const i=e[t.sourceURI];if(i){const{tempState:e}=i;i.watchlistedAt=e.watchlistedAt,e.watchlistedAt=void 0}},toggleSavedRequested(e,{payload:t}){const i=e[t.sourceURI];if(i){const{saved:e,tempState:n}=i;n.saved=e,i.saved=t.saved}},toggleSavedSucceeded(e,{payload:t}){const i=e[t.sourceURI];if(i){const{tempState:e}=i;e.saved=void 0,i.isStale=!0}},toggleSavedFailed(e,{payload:t}){const i=e[t.sourceURI];if(i){const{tempState:e}=i;i.saved=e.saved,e.saved=void 0}},streamSelectRequested(e,t){},streamSelectSucceeded(e,{payload:t}){const i=e[t.sourceURI];i&&(i.isStale=!0)},streamSelectFailed(e,{payload:t}){const i=e[t.sourceURI];i&&(i.isStale=!0)},streamDeleteRequested(e,{payload:t}){const i=e[t.sourceURI];i&&(i.isStreamDeletePending=!0)},streamDeleteSucceeded(e,{payload:t}){const i=e[t.sourceURI];i&&(i.isStreamDeletePending=!1,i.isStale=!0)},streamDeleteFailed(e,{payload:t}){const i=e[t.sourceURI];i&&(i.isStreamDeletePending=!1)},metadataProcessed(e,{payload:t}){const i=e[t.sourceURI];i&&(i.isStale=!0)},fetchRequested(e,{payload:t}){var i;const n=null!=(i=e[t.sourceURI])?i:{tempState:{},isPending:!0,isPopulated:!1,error:null,isStale:!1};Oa(n),e[t.sourceURI]=n},fetchSucceeded(e,{payload:t}){const i=e[t.sourceURI];i&&(Object.assign(i,t.metadataItemState),ja(i))},fetchFailed(e,{payload:t}){const i=e[t.sourceURI];i&&(t.error?wa(i,t.error):Ta(i))},resetAsync(e,{payload:t}){const i=e[t.sourceURI];i&&Ta(i)},repopulateRequested(e,{payload:t}){const i=e[t.sourceURI];i&&(i.isStale=!0)},repopulateCanceled(e,{payload:t}){const i=e[t.sourceURI];i&&(i.isStale=!1)},deleted(e,{payload:t}){const i=e[t.sourceURI];i&&(i.deletedAt=Date.now(),i.isDeleted=!0)},preferenceChanged(e,{payload:t}){const i=e[t.sourceURI];i&&(i.isStale=!0)},addToLibraryRequested(e,t){}},extraReducers:e=>{e.addCase(Ts.actions.added,(e,{payload:t})=>{Object.assign(e,t.metadataItemStates)}),e.addCase(Ts.actions.fetchRangeSucceeded,(e,{payload:t})=>{Object.assign(e,t.data.metadataItemStates)}),e.addCase(Ts.actions.fetchAllSucceeded,(e,{payload:t})=>{Object.assign(e,t.data.metadataItemStates)}),e.addCase(Ts.actions.repopulateRangeSucceeded,(e,{payload:t})=>{Object.assign(e,t.data.metadataItemStates)})}});let Ns,xs;!function(e){e.Queued="queued",e.Matching="matching",e.Processing="processing",e.Loading="loading"}(Ns||(Ns={})),function(e){e.Analyzing="analyzing",e.Thumbnailing="thumbnailing"}(xs||(xs={}));function As(e,t){let i=e[t];return i||(i={},e[t]=i),i}var Ls=Object(va.c)({name:"metadataTimelineState",initialState:{},reducers:{metadataRefreshRequested(e,{payload:t}){const i=As(e,t.sourceURI);i.metadataState||(i.metadataState=Ns.Queued)},metadataRefreshFailed(e,{payload:t}){const i=As(e,t.sourceURI);(null==i?void 0:i.mediaState)?i.metadataState=void 0:delete e[t.sourceURI]},mediaAnalysisRequested(e,{payload:t}){if(!t.hasChildren){const i=As(e,t.sourceURI);i.mediaState||(i.mediaState=xs.Analyzing)}},mediaAnalysisFailed(e,{payload:t}){const i=As(e,t.sourceURI);(null==i?void 0:i.metadataState)?i.mediaState=void 0:delete e[t.sourceURI]},timelineStatesChanged(e,{payload:t}){const i=As(e,t.sourceURI);t.metadataState||t.mediaState?(i.metadataState=t.metadataState,i.mediaState=t.mediaState):delete e[t.sourceURI]}}});var ks=Object(va.c)({name:"servers",initialState:{},reducers:{connected(e,t){},libraryScanUpdated(e,t){}}});const Rs={accounts:[],isPending:!1,isPopulated:!1,error:null};var zs=Object(va.c)({name:"serverAccounts",initialState:{},reducers:{populateRequested(e,t){},fetchRequested(e,{payload:t}){Oa(e[t.server.machineIdentifier])},fetchSucceeded(e,{payload:t}){const i=e[t.server.machineIdentifier];ja(i),i.accounts=t.data},fetchFailed(e,{payload:t}){wa(e[t.server.machineIdentifier],t.error)}},extraReducers:e=>{e.addCase(ks.actions.connected,(e,{payload:t})=>{const{server:i}=t;e[i.machineIdentifier]||(e[i.machineIdentifier]=Object.assign({},Rs))})}});var Us=Object(va.c)({name:"serverActivities",initialState:{},reducers:{activityStarted(e,t){},activityUpdated(e,t){},activityFinished(e,t){}},extraReducers:e=>{e.addCase(ks.actions.connected,(e,{payload:t})=>{const{server:i}=t;e[i.machineIdentifier]||(e[i.machineIdentifier]=[])})}});const Vs={devices:[],isPending:!1,isPopulated:!1,error:null};var Bs=Object(va.c)({name:"serverDevices",initialState:{},reducers:{populateRequested(e,t){},fetchRequested(e,{payload:t}){Oa(e[t.server.machineIdentifier])},fetchSucceeded(e,{payload:t}){const i=e[t.server.machineIdentifier];ja(i),i.devices=t.data},fetchFailed(e,{payload:t}){wa(e[t.server.machineIdentifier],t.error)}},extraReducers:e=>{e.addCase(ks.actions.connected,(e,{payload:t})=>{const{server:i}=t;e[i.machineIdentifier]||(e[i.machineIdentifier]=Object.assign({},Vs))})}});function Fs(e,t){const{isCloud:i,isConnected:n,isEmbedded:a,isFullOwnedServer:s,isFullServer:r,isUnauthorized:o,isUnavailable:l}=t,c={extra:{isCloud:i,isConnected:n,isEmbedded:a,isFullOwnedServer:s,isFullServer:r,isUnauthorized:o,isUnavailable:l}},d=new Error(e);C.a.error(d,c.extra),Z.a(d,c)}const Hs={sessionKeys:[],sessionsByKey:{},isPending:!1,isPopulated:!1,error:null,stopSessionError:null};var _s=Object(va.c)({name:"serverNowPlayingSessions",initialState:{},reducers:{fetchRequested(e,{payload:t}){const i=e[t.server.machineIdentifier];i&&Oa(i)},fetchSucceeded(e,{payload:t}){const i=e[t.server.machineIdentifier];if(!i)return;const{sessionKeys:n,sessionsByKey:a}=t.data.reduce((e,t)=>(e.sessionKeys.push(t.sessionKey),e.sessionsByKey[t.sessionKey]=t,e),{sessionKeys:[],sessionsByKey:{}});ja(i),i.sessionKeys=n,i.sessionsByKey=a},fetchFailed(e,{payload:t}){const i=e[t.server.machineIdentifier];i&&wa(i,t.error)},sessionChanged(e,{payload:t}){const{server:i,message:n}=t,a=e[i.machineIdentifier];if(!a)return void Fs("Session changed without serverState",i);const s=a.sessionsByKey[n.sessionKey];s&&s.key===n.key&&(s.viewOffset=n.viewOffset,s.Player.state=n.state)},sessionStopped(e,{payload:t}){const{server:i,sessionKey:n}=t,a=e[i.machineIdentifier];if(!a)return void Fs("Session stopped without serverState",i);a.sessionsByKey[n]&&(delete a.sessionsByKey[n],a.sessionKeys.splice(a.sessionKeys.indexOf(n),1))},stopRequested(e,t){},stopFailed(e,{payload:t}){const i=e[t.server.machineIdentifier];i&&(i.stopSessionError=t.error)},stopErrorDismissed(e,{payload:t}){const i=e[t.server.machineIdentifier];i&&(i.stopSessionError=null)}},extraReducers:e=>{e.addCase(ks.actions.connected,(e,{payload:t})=>{const{server:i}=t;e[i.machineIdentifier]||(e[i.machineIdentifier]=Object.assign({},Hs))})}});var Ws=Object(va.c)({name:"user",initialState:{},reducers:{languageChanged(){}}}),Qs=Object(ga.combineReducers)({metadataItemState:Es.reducer,metadataLists:Ts.reducer,metadataTimelineState:Ls.reducer,user:Ws.reducer,serverAccounts:zs.reducer,serverActivities:Us.reducer,serverDevices:Bs.reducer,serverNowPlayingSessions:_s.reducer,servers:ks.reducer});let Gs;!function(e){e.Modal="modal",e.Menu="menu"}(Gs||(Gs={}));var Ks=Object(va.c)({name:"addToPlaylist",initialState:{menu:{source:void 0,playlists:[],isPending:!1,isPopulated:!1,error:null},modal:{source:void 0,playlists:[],isPending:!1,isPopulated:!1,error:null},isSaving:!1,isSaved:!1,saveError:null},reducers:{modalClosed(e,t){e.isSaving=!1,e.isSaved=!1,e.saveError=null},playlistListFetchRequested(e,{payload:t}){const{ui:i,destinationProvider:n,destinationServer:a}=t,s=Object(gs.a)({serverIdentifier:a.machineIdentifier,providerIdentifier:n.identifier});e[i].source!==s&&(e[i].source=s,e[i].playlists=[],e[i].isPending=!1,e[i].isPopulated=!1,e[i].error=null),Oa(e[i])},playlistListFetchSucceeded(e,{payload:t}){const{ui:i,playlists:n}=t;ja(e[i]),e[i].playlists=n},playlistListFetchFailed(e,{payload:t}){const{ui:i,error:n}=t;wa(e[i],n)},playlistCreateRequested(e,t){e.isSaving=!0,e.saveError=null},playlistUpdateRequested(e,{payload:t}){const{ui:i}=t;i!==Gs.Menu&&(e.isSaving=!0,e.saveError=null)},playlistSaveSucceeded(e,{payload:t}){const{ui:i}=t;i!==Gs.Menu&&(e.isSaving=!1,e.isSaved=!0)},playlistSaveFailed(e,{payload:t}){const{ui:i}=t;i!==Gs.Menu&&(e.isSaving=!1,e.saveError=t.error)}}});const Ys={statistics:[],isPending:!1,isPopulated:!1,error:null,requestTimestampMilliseconds:null,responseTimestampMilliseconds:null};var qs=Object(va.c)({name:"dashboardBandwidth",initialState:Ys,reducers:{reset:()=>Ys,bandwidthFetchRequested(e,t){Oa(e)},bandwidthFetchSucceeded(e,{payload:t}){ja(e),e.statistics=t.data,e.requestTimestampMilliseconds=t.requestTimestampMilliseconds,e.responseTimestampMilliseconds=t.responseTimestampMilliseconds},bandwidthFetchFailed(e,{payload:t}){wa(e,t.error),e.requestTimestampMilliseconds=null,e.responseTimestampMilliseconds=null},bandwidthAbortRequested(){}}});const Zs={statistics:[],accounts:[],isPending:!1,isPopulated:!1,error:null};var Js=Object(va.c)({name:"dashboardPlayHistory",initialState:Zs,reducers:{reset:()=>Zs,playHistoryFetchRequested(e,t){Oa(e)},playHistoryFetchSucceeded(e,{payload:t}){ja(e),e.statistics=t.data.statistics,e.accounts=t.data.accounts},playHistoryFetchFailed(e,{payload:t}){wa(e,t.error)}}});const Xs={statistics:[],isPending:!1,isPopulated:!1,isUnsupported:!1,error:null,requestTimestampMilliseconds:null};var $s=Object(va.c)({name:"dashboardResources",initialState:Xs,reducers:{reset:()=>Xs,resourcesFetchRequested(e,t){Oa(e),e.isUnsupported=!1},resourcesFetchSucceeded(e,{payload:t}){ja(e),e.statistics=t.data,e.requestTimestampMilliseconds=t.requestTimestampMilliseconds},resourcesFetchFailed(e,{payload:t}){wa(e,t.error),e.isUnsupported=404===t.error.status}}});const er={moviesStatistics:[],tvStatistics:[],musicStatistics:[],gameStatistics:[],isPending:!1,isPopulated:!1,error:null};var tr=Object(va.c)({name:"dashboardTopPlayed",initialState:er,reducers:{reset:()=>er,topPlayedFetchRequested(e,t){Oa(e)},topPlayedFetchSucceeded(e,{payload:t}){ja(e),e.moviesStatistics=t.data.moviesStatistics,e.tvStatistics=t.data.tvStatistics,e.musicStatistics=t.data.musicStatistics,e.gameStatistics=t.data.gameStatistics},topPlayedFetchFailed(e,{payload:t}){wa(e,t.error)}}});const ir={statistics:[],accounts:[],isPending:!1,isPopulated:!1,error:null};var nr=Object(va.c)({name:"dashboardTopUsers",initialState:ir,reducers:{reset:()=>ir,topUsersFetchRequested(e,t){Oa(e)},topUsersFetchSucceeded(e,{payload:t}){ja(e),e.statistics=t.data.statistics,e.accounts=t.data.accounts},topUsersFetchFailed(e,{payload:t}){wa(e,t.error)}}});var ar=Object(ga.combineReducers)({bandwidth:qs.reducer,playHistory:Js.reducer,resources:$s.reducer,topPlayed:tr.reducer,topUsers:nr.reducer}),sr=i("5HFX");var rr=Object(va.c)({name:"players",initialState:{},reducers:{ended(e,t){}}});const or={meta:void 0,metadataListSourceURI:void 0,filterOptions:{},firstCharacters:{isPending:!1,isPopulated:!1,error:null,items:[]},hubsList:{sourceURI:void 0,lastFetchedAt:void 0,isPending:!1,isPopulated:!1,error:null,hubs:[]}};function lr(e,t){var i;(null==(i=e.hubsList.sourceURI)?void 0:i.includes(t))&&e.hubsList.hubs.forEach(e=>{e.isStale=!0})}var cr=Object(va.c)({name:"directory",initialState:or,reducers:{reset:()=>or,resetMeta(e){e.meta=void 0},resetHubs(e){e.hubsList=or.hubsList},initializeListRequested(e,{payload:t}){e.metadataListSourceURI=t.sourceURI},markHubsStaleRequested(e){e.hubsList.isPending=!1},markHubsStale(e){e.hubsList.hubs.forEach(e=>{e.isStale=!0})},markHubsStaleCanceled(e){},fetchHubsRequested(e,{payload:t}){e.hubsList.sourceURI=t.sourceURI,Oa(e.hubsList)},fetchHubsSucceeded(e,{payload:t}){ja(e.hubsList),e.hubsList.hubs=t.data.hubs,e.hubsList.lastFetchedAt=Date.now(),e.title=t.data.title,e.meta=t.data.meta},fetchHubsFailed(e,{payload:t}){wa(e.hubsList,t.error)},fetchFilterOptionsRequested(e,{payload:t}){e.filterOptions[t.key]||(e.filterOptions[t.key]={isPending:!1,isPopulated:!1,error:null,options:[]}),Oa(e.filterOptions[t.key])},fetchFilterOptionsSucceeded(e,{payload:t}){ja(e.filterOptions[t.key]),e.filterOptions[t.key].options=t.filterOptions},fetchFilterOptionsFailed(e,{payload:t}){wa(e.filterOptions[t.key],t.error)},fetchFirstCharactersRequested(e,t){Oa(e.firstCharacters)},fetchFirstCharactersSucceeded(e,{payload:t}){ja(e.firstCharacters),e.firstCharacters.items=t.firstCharacters},fetchFirstCharactersFailed(e,{payload:t}){wa(e.firstCharacters,t.error)}},extraReducers(e){e.addCase(Ts.actions.fetchRangeSucceeded,(e,{payload:t})=>{t.sourceURI===e.metadataListSourceURI&&(e.title=t.data.title,t.data.meta&&(e.meta=t.data.meta))}),e.addCase(Ts.actions.reset,(e,{payload:t})=>t.sourceURI===e.metadataListSourceURI?Object.assign({},or,{meta:e.meta}):e),e.addCase(Ts.actions.repopulateRangeSucceeded,(e,{payload:t})=>{e.hubsList.hubs.forEach(e=>{e.sourceURI===t.sourceURI&&(e.isStale=!1)})}),e.addCase(rr.actions.ended,(e,{payload:t})=>{lr(e,t.source)}),e.addCase(_s.actions.sessionStopped,(e,{payload:t})=>{lr(e,Object(gs.a)({serverIdentifier:t.server.machineIdentifier}))}),e.addCase(ks.actions.libraryScanUpdated,(e,{payload:t})=>{lr(e,Object(gs.a)({serverIdentifier:t.server.machineIdentifier}))}),e.addCase(Es.actions.playedStatusUpdateSucceeded,(e,{payload:t})=>{lr(e,Object(gs.a)({serverIdentifier:t.server.machineIdentifier,providerIdentifier:t.provider.identifier}))}),e.addCase(Es.actions.metadataProcessed,(e,{payload:t})=>{const{serverIdentifier:i,providerIdentifier:n}=Object(sr.a)(t.sourceURI);lr(e,Object(gs.a)({serverIdentifier:i,providerIdentifier:n}))}),e.addCase(Ws.actions.languageChanged,e=>{e.hubsList=or.hubsList})}});const dr="general.bundle.clean";let ur,pr;function hr(e,{payload:t}){const{type:i,progress:n=0,Context:a}=t.activity;if(!(null==a?void 0:a.source)||"provider.subscription.refresh"!==i)return;const{source:s,ratingKey:r}=a,{serverIdentifier:o,providerIdentifier:l}=Object(sr.a)(s),c=Object(gs.a)({serverIdentifier:o,providerIdentifier:l,metadataItemKey:"/library/metadata/"+r}),d=e.status.downloads[c];if(!d)return;const u=100===n;e.status.downloads[c]={id:d.id,subscription:u?ur.Saved:ur.Saving,sourceURI:c,type:d.type,relation:d.relation,progress:n}}!function(e){e[e.Subscribing=0]="Subscribing",e[e.Saving=1]="Saving",e[e.Saved=2]="Saved"}(ur||(ur={})),function(e){e[e.Self=0]="Self",e[e.Descendants=1]="Descendants",e[e.Ancestors=2]="Ancestors"}(pr||(pr={}));var mr=Object(va.c)({name:"downloads",initialState:{status:{downloads:{},error:null},creating:{},deleting:{},providerSections:[]},reducers:{providersFetchSucceeded(e,{payload:t}){e.providerSections=t.providerSections},downloadsFetchSucceeded(e,{payload:t}){for(const i of t.items)delete e.status.downloads[i.sourceURI];for(const i of t.downloads)e.status.downloads[i.sourceURI]=i},downloadsFetchFailed(e,{payload:t}){e.status.error=t.error},subscriptionTemplatesFetchRequested(e,t){},subscriptionTemplateChanged(e,{payload:t}){t.template?e.creating[t.sourceURI]={isPending:!1,error:null,template:t.template}:delete e.creating[t.sourceURI]},subscriptionCreateRequested(e,{payload:t}){e.creating[t.sourceURI]={isPending:!0,error:null}},subscriptionCreateSucceeded(e,{payload:t}){delete e.creating[t.sourceURI],e.status.downloads[t.sourceURI]={id:t.id,sourceURI:t.sourceURI,type:t.type,subscription:ur.Subscribing,relation:pr.Self,progress:0}},subscriptionCreateFailed(e,{payload:t}){e.creating[t.sourceURI]={isPending:!1,error:t.error},delete e.status.downloads[t.sourceURI]},subscriptionDeleteRequested(e,{payload:t}){e.deleting[t.sourceURI]={isPending:!0,error:null}},subscriptionDeleteSucceeded(e,{payload:t}){delete e.deleting[t.sourceURI],delete e.status.downloads[t.sourceURI]},subscriptionDeleteFailed(e,{payload:t}){e.deleting[t.sourceURI]={isPending:!1,error:t.error}}},extraReducers:e=>{be.a.allowSyncDownload&&(e.addCase(Us.actions.activityUpdated,hr),e.addCase(Us.actions.activityFinished,hr),e.addCase(Es.actions.deleted,(e,{payload:t})=>{const{mediaProviderID:i,sourceURI:n}=t,a=e.providerSections.find(({id:e})=>i===e);if(!a)return;const{serverIdentifier:s,providerIdentifier:r}=Object(sr.a)(a.source),{metadataItemKey:o}=Object(sr.a)(n),l=Object(gs.a)({serverIdentifier:s,providerIdentifier:r,metadataItemKey:o});delete e.status.downloads[l]}))}});const gr={channels:[],isPending:!0,isPopulated:!1,error:null},vr={devices:{mediaGrabberDevices:[],isPending:!1,isPopulated:!1,error:null},selectedDevice:void 0,channelsByDeviceKey:{},isDiscoveringDevices:!1};var yr=Object(va.c)({name:"dvrSetup",initialState:vr,reducers:{reset:()=>vr,devicesDiscoverRequested(e,t){e.isDiscoveringDevices=!0},devicesDiscoverSucceeded(e,{payload:t}){e.isDiscoveringDevices=!1;const{mediaGrabberDevices:i}=e.devices;for(let e=0;e<t.data.length;e++){const n=t.data[e],a=i.find(e=>n.uuid===e.uuid);a?(a.state=n.state,a.status=n.status):i.push(n)}},devicesDiscoverFailed(e,t){e.isDiscoveringDevices=!1},devicesFetchRequested({devices:e},t){Oa(e)},devicesFetchSucceeded({devices:e},{payload:t}){ja(e),e.mediaGrabberDevices=t.data},devicesFetchFailed({devices:e},{payload:t}){wa(e,t.error)},deviceChannelsFetchRequested(e,{payload:t}){let i=e.channelsByDeviceKey[t.deviceKey];i||(i=Object.assign({},gr),e.channelsByDeviceKey[t.deviceKey]=i),Oa(i)},deviceChannelsFetchSucceeded(e,{payload:t}){const i=e.channelsByDeviceKey[t.deviceKey];ja(i),i.channels=t.data},deviceChannelsFetchFailed(e,{payload:t}){let i=e.channelsByDeviceKey[t.deviceKey];i||(i=Object.assign({},gr),e.channelsByDeviceKey[t.deviceKey]=i),wa(i,t.error)},deviceSelected(e,{payload:t}){const i=e.devices.mediaGrabberDevices.find(e=>e.key===t.deviceKey);i&&(e.selectedDevice=i)},deviceSourceSelected({devices:e},{payload:t}){const i=e.mediaGrabberDevices.find(e=>e.key===t.deviceKey);i&&(i.source=t.source)}}});const fr={uuid:void 0,epgLineups:[],isPending:!1,isPopulated:!1,error:null},br={countries:{epgCountries:[],isPending:!1,isPopulated:!1,error:null},languages:{epgLanguages:[],isPending:!1,isPopulated:!1,error:null},regions:{epgCountryRegions:[],isPending:!1,isPopulated:!1,error:null},lineupGroup:fr,epgLineupActivityID:void 0,selectedLineupUUID:void 0,selectedCountry:void 0,selectedLanguage:void 0,selectedRegion:void 0,postalCode:""};var Ir=Object(va.c)({name:"epgSettings",initialState:br,reducers:{reset:()=>br,bestEPGLineupSearchRequested(e,t){},bestEPGLineupSearchSucceeded(e,{payload:t}){e.epgLineupActivityID=t.data},bestEPGLineupSearchFailed(e,t){},epgCountriesFetchRequested({countries:e},t){Oa(e)},epgCountriesFetchSucceeded({countries:e},{payload:t}){ja(e),e.epgCountries=t.data},epgCountriesFetchFailed({countries:e},{payload:t}){wa(e,t.error)},epgCountrySelected(e,{payload:t}){const i=e.countries.epgCountries.find(e=>e.code===t.countryCode);e.lineupGroup=fr,e.selectedCountry=i,e.selectedRegion=void 0,e.postalCode=void 0},epgCountryRegionSelected(e,{payload:t}){const i=e.regions.epgCountryRegions.find(e=>e.key===t.regionKey);e.lineupGroup=fr,e.selectedRegion=i},epgCountryRegionsFetchRequested({regions:e},t){Oa(e)},epgCountryRegionsFetchSucceeded({regions:e},{payload:t}){ja(e),e.epgCountryRegions=t.data},epgCountryRegionsFetchFailed({regions:e},{payload:t}){wa(e,t.error)},epgLanguagesFetchRequested({languages:e},t){Oa(e)},epgLanguagesFetchSucceeded({languages:e},{payload:t}){ja(e),e.epgLanguages=t.data},epgLanguagesFetchFailed({languages:e},{payload:t}){wa(e,t.error)},epgLineupGroupFetchRequested({lineupGroup:e},t){Oa(e)},epgLineupGroupFetchSucceeded({lineupGroup:e},{payload:t}){ja(e),e.uuid=t.data.uuid,e.epgLineups=t.data.epgLineups},epgLineupGroupFetchFailed({lineupGroup:e},{payload:t}){wa(e,t.error)},epgLanguageSelected(e,{payload:t}){const i=e.languages.epgLanguages.find(e=>e.code===t.languageCode);e.selectedLanguage=i},epgPostalCodeChanged(e,{payload:t}){e.lineupGroup=fr,e.postalCode=t.postalCode}},extraReducers(e){e.addCase(Us.actions.activityFinished,(e,{payload:t})=>{const{activity:i}=t;i.uuid===e.epgLineupActivityID&&(e.selectedLineupUUID=i.Response.lineup,e.epgLineupActivityID="")})}}),Sr=Object(ga.combineReducers)({dvrSetup:yr.reducer,epgSettings:Ir.reducer});const Cr={hubsListsByKey:{}},Mr={source:"",contentDirectoryID:[],hubs:[],isStale:!1,isPending:!1,isPopulated:!1,error:null};function Dr(e,t){for(const i in e.hubsListsByKey){const n=e.hubsListsByKey[i];t&&n.source!==t||n.hubs.forEach(e=>{e.isStale=!0})}}var Pr=Object(va.c)({name:"home",initialState:Cr,reducers:{reset:()=>Cr,markStaleRequested(e){for(const t in e.hubsListsByKey)e.hubsListsByKey[t].isPending=!1},markStale(e){Dr(e)},populateAllRequested(e,{payload:t}){const i=t.hubsSources.map(e=>e.key);Object.keys(e.hubsListsByKey).forEach(t=>{i.includes(t)||delete e.hubsListsByKey[t]})},fetchRequested(e,{payload:t}){const{hubsSource:{key:i,source:n,contentDirectoryID:a}}=t;let s=e.hubsListsByKey[i];s||(s=Object.assign({},Mr,{source:n})),Oa(s),s.contentDirectoryID=[...a],e.hubsListsByKey[i]=s},fetchSucceeded(e,{payload:t}){e.lastFetchedAt||(e.lastFetchedAt=Date.now());const i=e.hubsListsByKey[t.key];ja(i),i.hubs=t.data},fetchFailed(e,{payload:t}){let i=e.hubsListsByKey[t.key];i||(i=Object.assign({},Mr,{source:t.source,contentDirectoryID:[...t.contentDirectoryID]}),e.hubsListsByKey[t.key]=i),wa(i,t.error)}},extraReducers:e=>{e.addCase(Ts.actions.repopulateRangeSucceeded,(e,{payload:t})=>{for(const i in e.hubsListsByKey){e.hubsListsByKey[i].hubs.forEach(e=>{e.sourceURI===t.sourceURI&&(e.isStale=!1)})}}),e.addCase(rr.actions.ended,(e,{payload:t})=>{Dr(e,t.source)}),e.addCase(_s.actions.sessionStopped,(e,{payload:t})=>{Dr(e,Object(gs.a)({serverIdentifier:t.server.machineIdentifier}))}),e.addCase(ks.actions.libraryScanUpdated,(e,{payload:t})=>{Dr(e,Object(gs.a)({serverIdentifier:t.server.machineIdentifier}))}),e.addCase(Es.actions.playedStatusUpdateSucceeded,(e,{payload:t})=>{Dr(e,Object(gs.a)({serverIdentifier:t.server.machineIdentifier,providerIdentifier:t.provider.identifier}))}),e.addCase(Es.actions.metadataProcessed,(e,{payload:t})=>{const{serverIdentifier:i,providerIdentifier:n}=Object(sr.a)(t.sourceURI);Dr(e,Object(gs.a)({serverIdentifier:i,providerIdentifier:n}))}),e.addCase(Ws.actions.languageChanged,()=>Cr)}});const Or={isImporting:!1,isImported:!1,importError:null};var jr=Object(va.c)({name:"importPlaylists",initialState:Or,reducers:{reset:()=>Or,importRequested(e,t){e.isImporting=!0,e.importError=null},importSucceeded(e,t){e.isImporting=!1,e.isImported=!0},importFailed(e,{payload:t}){e.isImporting=!1,e.importError=t.error}}});var wr=function(e,t){const i={count:0,items:{}};return{getDefaultMultiselectState:()=>i,getIdentity:t,reducers:{reset(t){let n=e(t);return n=i,n},selectItems(i,{payload:n}){const a=e(i),{items:s}=n;s.forEach(e=>{const i=t(e);a.items[i]||(a.items[i]=e,a.count+=1)})},deselectItems(i,{payload:n}){const a=e(i),{items:s}=n;s.forEach(e=>{const i=t(e);a.items[i]&&(delete a.items[i],a.count-=1)})}}}}(e=>e,e=>e.sourceURI),Tr=wr.getDefaultMultiselectState(),Er=Object(va.c)({name:"metadataMultiselect",initialState:Tr,reducers:Object.assign({},wr.reducers)});const Nr=Ea(e=>e,e=>{var t,i,n,{data:a}=e,s=a.MediaContainer;return{items:null!=(t=null==s?void 0:s.Metadata)?t:[],totalSize:null!=(i=null==s?void 0:s.totalSize)?i:0,offset:null!=(n=null==s?void 0:s.offset)?n:0}}),xr=Nr.getDefaultPaginatedState();var Ar=Object(va.c)({name:"playHistory",initialState:xr,reducers:Object.assign({},Nr.reducers)});const Lr={descendantListSourceURI:void 0,siblingListSourceURI:void 0,popularLeavesSourceURI:void 0,extrasSourceURI:void 0,metadata:{metadataItem:void 0,isMediaFileUnavailable:!1,isStale:!1,isPending:!1,isPopulated:!1,error:null},related:{hubs:[],isPending:!1,isPopulated:!1,error:null},augmented:{hubs:[],isPending:!1,isPopulated:!1,error:null}};function kr(e,t,i){var n;const{type:a,Context:s}=i;if("library.refresh.items"!==a)return;Object(gs.a)({serverIdentifier:t.machineIdentifier,metadataItemKey:s.key})===(null==(n=e.metadata.metadataItem)?void 0:n.sourceURI)&&(s.exists&&s.accessible?e.metadata.isMediaFileUnavailable=!1:!1!==s.exists&&!1!==s.accessible||(e.metadata.isMediaFileUnavailable=!0))}var Rr=Object(va.c)({name:"prePlay",initialState:Lr,reducers:{reset:e=>Object.assign({},Lr,{siblingListSourceURI:e.siblingListSourceURI}),metadataItemFetchRequested(e,t){Oa(e.metadata)},metadataItemFetchSucceeded(e,{payload:t}){ja(e.metadata),e.descendantListSourceURI=t.descendantListSourceURI,e.siblingListSourceURI=t.siblingListSourceURI,e.popularLeavesSourceURI=t.popularLeavesSourceURI,e.extrasSourceURI=t.extrasSourceURI,e.metadata.metadataItem=t.metadataItem,e.metadata.isStale=!1},metadataItemFetchFailed(e,{payload:t}){wa(e.metadata,t.error)},metadataItemRepopulateRequested(e,t){Oa(e.metadata)},relatedHubsFetchRequested(e,t){Oa(e.related)},relatedHubsFetchSucceeded(e,{payload:t}){ja(e.related),e.related.hubs=t.hubs},relatedHubsFetchFailed(e,{payload:t}){wa(e.related,t.error)},augmentedHubsFetchRequested(e,t){Oa(e.augmented)},augmentedHubsFetchSucceeded(e,{payload:t}){ja(e.augmented),e.augmented.hubs=t.hubs},augmentedHubsFetchFailed(e,{payload:t}){wa(e.augmented,t.error)}},extraReducers:e=>{e.addCase(Us.actions.activityUpdated,(e,{payload:t})=>{kr(e,t.server,t.activity)}),e.addCase(Us.actions.activityFinished,(e,{payload:t})=>{kr(e,t.server,t.activity)}),e.addCase(rr.actions.ended,(e,{payload:t})=>{var i;(null==(i=e.metadata.metadataItem)?void 0:i.source)===t.source&&(e.metadata.isStale=!0)}),e.addCase(_s.actions.sessionStopped,(e,{payload:t})=>{var i;const n=Object(gs.a)({serverIdentifier:t.server.machineIdentifier});(null==(i=e.metadata.metadataItem)?void 0:i.source)===n&&(e.metadata.isStale=!0)}),e.addCase(Es.actions.playedStatusUpdateSucceeded,(e,{payload:t})=>{var i;const n=Object(gs.a)({serverIdentifier:t.server.machineIdentifier,providerIdentifier:t.provider.identifier});(null==(i=e.metadata.metadataItem)?void 0:i.source)===n&&(e.metadata.isStale=!0)}),e.addCase(Es.actions.deleted,(e,{payload:t})=>{var i;const n=null==(i=e.metadata.metadataItem)?void 0:i.sourceURI,{parentSourceURI:a,rootSourceURI:s}=t;!n||n!==a&&n!==s||(e.metadata.isStale=!0)}),e.addCase(Es.actions.repopulateCanceled,(e,t)=>{e.metadata.isStale=!1})}});const zr={secret:{secret:void 0,provisioningUri:void 0,isPending:!1,isPopulated:!1,error:null},toggle:{isPending:!1,isPopulated:!1,error:null},recoveryCodes:{isPending:!1,isPopulated:!1,error:null},codes:[]};var Ur=Object(va.c)({name:"twoFactorAuth",initialState:zr,reducers:{reset:()=>zr,createSecretRequested(e,t){Oa(e.secret)},createSecretSucceeded(e,{payload:t}){ja(e.secret),e.secret.provisioningUri=t.provisioningUri,e.secret.secret=t.secret},createSecretFailed(e,{payload:t}){wa(e.secret,t.error)},toggleRequested(e,t){Oa(e.toggle)},toggleSucceeded(e,{payload:t}){ja(e.toggle),t.enabled&&(e.codes=t.codes)},toggleFailed(e,{payload:t}){wa(e.toggle,t.error)},generateRecoveryCodesRequested(e,t){Oa(e.recoveryCodes)},generateRecoveryCodesSucceeded(e,{payload:t}){ja(e.recoveryCodes),e.codes=t.codes},generateRecoveryCodesFailed(e,{payload:t}){wa(e.recoveryCodes,t.error)}}});var Vr=Object(ga.combineReducers)({addToPlaylist:Ks.reducer,dashboard:ar,directory:cr.reducer,downloads:mr.reducer,dvrManagement:Sr,home:Pr.reducer,importPlaylists:jr.reducer,metadataMultiselect:Er.reducer,players:rr.reducer,playHistory:Ar.reducer,prePlay:Rr.reducer,twoFactorAuth:Ur.reducer}),Br=Object(ga.combineReducers)({core:Qs,features:Vr}),Fr=Object(va.b)("v4/reset"),Hr=(e,t)=>(t.type===Fr.type&&(e=void 0),Br(e,t));var _r=function(){const e=Object(ne.c)("appStore"),t=Object(ne.c)("appModel"),i=t.get("ui"),n=t.get("user"),a=t.get("fakeRouter"),s=n.server;let r=n.clearAccessToken();return r=r.fail(()=>{C.a.warn("Failed to clear the access token and user storage")}).always(()=>{t.set("history",[]),e.dispatch(Fr()),i&&i.restoreDefaults(),a&&a.restoreDefaults(),G.a.abortAll(),n.signOut(),n.uninitialize(),n.initialize(),U.a.trigger("clear:servers"),e.dispatch(Object(Kn.u)({budget:1/0})),U.a.trigger("clearAll:cache"),s.cache.store(s)}),r=r.then(()=>ma(Object(ne.c)("serviceWorker").sendMessage({type:"SIGN_OUT"}))),ie(r)};var Wr=xe.a.extend({name:"AbstractStorageModel",responseType:ct.a,save(e,t,i={}){const n=this.attributes;let a;if(null==e||I.a.isObject(e)?(a=e,i=t):(a={})[e]=t,i=I.a.extend({validate:!0},i),a&&!i.wait){if(!this.set(a,i))return!1}else if(!this._validate(a,i))return!1;a&&i.wait&&(this.attributes=I.a.extend({},n,a));const s=this._getStorageAdapter().getInstance().excludeDefaults,r=this.toJSON({syncedOnly:!0,excludeDefaults:!1!==s}),o=this._serialize(r),l=this._getStorageAdapter().set(this._getStorageKey(),o);return l.done(()=>{this.attributes=n,this.trigger("sync",this,n,i)}),l.fail(e=>{this.trigger("error",this,e,i)}),a&&i.wait&&(this.attributes=n),l},destroy(e={}){e.wait||this.trigger("destroy",this,this.collection,e);const t=this._getStorageAdapter().remove(this._getStorageKey());return t.done(t=>{e.wait&&this.trigger("destroy",this,this.collection,e),this.trigger("sync",this,t,e)}),t.fail(t=>{this.trigger("error",this,t,e)}),t},sync(){this._logError("does not support syncing to a server")},_getStorageAdapter:()=>De,_getStorageKey(){const e=I.a.result(this,"storageKey");if(!e)throw new Error(this.name+" requires a `storageKey` property");return e},_fetch(e={}){const t=this._getStorageAdapter().get(this._getStorageKey());return t.done(t=>{t&&this.set(this.parse(t)),this.trigger("sync",this,t,e)}),t.fail(t=>{this.trigger("error",this,t,e)}),t},_serialize(e){let t="";try{t=JSON.stringify(e)}catch(e){this._logError("serialization error: "+e.message)}return t},_warnUnsupportedOptions(e){e.parse&&this._logError("does not support the `parse` option. The response from storage is always parsed."),e.success&&this._logError("does not support a `success` callback. Use the returned promise."),e.error&&this._logError("does not support an `error` callback. Use the returned promise.")},_logError(e){let t;try{t=this._getStorageKey()}catch(e){t="no storageKey"}Object(S.a)(!1,this.name+" ("+t+") "+e)}});var Qr=xe.a.extend({name:"UserFeatureModel",idAttribute:"uuid",syncedAttrs:{uuid:Ae.a.string.isRequired,id:Ae.a.string}});var Gr=ke.a.extend({name:"UserFeatureCollection",context:["server"],model:Qr,url:V.join(["https://plex.tv","/api/v2/features"]),responseType:ct.a});var Kr=xe.a.extend({name:"UserEntitlementModel",syncedAttrs:{id:Ae.a.string}});var Yr=ke.a.extend({name:"UserEntitlementCollection",model:Kr});var qr=xe.a.extend({name:"UserRoleModel",syncedAttrs:{id:Ae.a.string}});var Zr=ke.a.extend({name:"UserRoleCollection",model:qr});var Jr=xe.a.extend({name:"UserServiceModel",syncedAttrs:{id:Ae.a.string,subscriptionType:Ae.a.string}});var Xr=ke.a.extend({name:"UserServiceCollection",model:Jr});var $r=["active","inactive","canceled","pending_cancellation","ended"];var eo=["arcade","plexpass","tidal"];var to=xe.a.extend({name:"UserSubscriptionModel",syncedAttrs:{type:Ae.a.oneOf(...eo).isRequired,state:Ae.a.oneOf(...$r).isRequired,mode:Ae.a.string.isRequired}});var io=ke.a.extend({name:"UserSubscriptionCollection",model:to});var no=xe.a.extend({additionalRelations:[],copyFromModel(e,t){this._copy(e,this,t)},copyToModel(e,t){this._copy(this,e,t)},_copy(e,t,i={}){const n=!!t.releaseCapturedChangeEvents;n||t.startCapturingChangeEvents(),this._copyAttributes(e,t,i),this._copyRelations(e,t,i),n||t.releaseCapturedChangeEvents()},_copyAttributes(e,t,i){const n={};I.a.each(this.syncedAttrs,(t,a)=>{i.included&&!i.included.includes(a)||(n[a]=e.get(a))}),t.set(n)},_copyRelations(e,t,i){I.a.each(this.syncedRelations,(n,a)=>{if(i.included&&!i.included.includes(a))return;if(this.additionalRelations.includes(a))return;const s=e.get(a),r=t.get(a);if(s&&r){const e=s.toJSON();r instanceof xe.a?r.set(r.parse(e)):r.set(e,{parse:!0})}})}});var ao=xe.a.extend({name:"StoredConnectionSourceModel",syncedAttrs:{id:Ae.a.string}});var so=ke.a.extend({name:"StoredConnectionSourceCollection",model:ao});var ro=xe.a.extend({name:"StoredConnectionModel",idAttribute:"uri",syncedAttrs:{uri:Ae.a.string,scheme:Ae.a.string,address:Ae.a.string,port:Ae.a.string,relay:Ae.a.boolean},syncedRelations:{sources:{relationClass:so}}});var oo=ke.a.extend({name:"StoredConnectionCollection",model:ro});var lo=xe.a.extend({name:"StoredProviderModel",idAttribute:"identifier",syncedAttrs:Object.assign({},Si.prototype.syncedAttrs),syncedRelations:{features:{relationClass:Vt}}});var co=ke.a.extend({name:"StoredProviderCollection",model:lo});var uo=no.extend({name:"StoredServerModel",idAttribute:"machineIdentifier",additionalRelations:["connections"],syncedAttrs:{machineIdentifier:Ae.a.string,friendlyName:Ae.a.string,accessToken:Ae.a.string,sourceTitle:Ae.a.string,home:Ae.a.boolean,serverClass:Ae.a.string,platform:Ae.a.string,isShared:Ae.a.boolean,version:Ae.a.string,publicAddressMatches:Ae.a.boolean,ownerId:Ae.a.integer,mediaProviders:Ae.a.integer},syncedRelations:{providers:{relationClass:co},connections:{relationClass:oo}}});var po=ke.a.extend({name:"StoredServerCollection",model:uo}),ho=i("e0Cb"),mo=i("2Xys"),go=i("CZ2S");const vo="json",yo={["bool"]:ho.a,[vo]:go.a};var fo=xe.a.extend({name:"UserSettingModel",context:["server"],sessionAttrs:{isDirty:Ae.a.boolean},syncedAttrs:{id:Ae.a.string,type:Ae.a.string,value:Ae.a.oneOfType(Ae.a.boolean,Ae.a.object),hidden:Ae.a.boolean,updatedAt:Ae.a.integer},defaults:{isDirty:!1},augmentResponse(e){const t=this.get("isDirty"),i=this.get("updatedAt"),n=Object(mo.a)(e.updatedAt),a=i&&n&&i<n;if(t&&i===n||i&&n&&i>n)return this.toJSON();t&&a&&(e.isDirty=!1);const s=yo[e.type];return s&&(e.value=s(e.value)),e}});var bo=xe.a.extend({name:"StoredUserSettingModel",syncedAttrs:Object.assign({},fo.prototype.syncedAttrs,{isDirty:Ae.a.boolean})});var Io=ke.a.extend({name:"StoredUserSettingCollection",model:bo});var So=no.extend({name:"StoredUserModel",additionalRelations:["servers"],syncedAttrs:{id:Ae.a.integer,authToken:Ae.a.string,anonymous:Ae.a.boolean,username:Ae.a.string,email:Ae.a.string,title:Ae.a.string,thumb:Ae.a.string,pin:Ae.a.string,home:Ae.a.boolean,restricted:Ae.a.boolean,guest:Ae.a.boolean,hasAllEntitlements:Ae.a.boolean,lastPrimaryServerID:Ae.a.string},syncedRelations:{subscriptions:{relationClass:io},roles:{relationClass:Zr},entitlements:{relationClass:Yr},services:{relationClass:Xr},features:{relationClass:Gr},settings:{relationClass:Io},experienceSettings:()=>({relationClass:Object(ne.c)("StoredUserExperienceSettingsModel")}),servers:{relationClass:po}},clearSensitiveAttributes(){this.unset("authToken"),this.unset("pin"),this.get("servers").reset()}});var Co=ke.a.extend({name:"StoredUserCollection",model:So});var Mo=new(Wr.extend({name:"UserStorageModel",storageKey:"users",sessionAttrs:{activeUserID:Ae.a.integer},syncedRelations:{users:{relationClass:Co}},initialize(){this.debouncedSaveTimeout=null},debouncedSave(){this.debouncedSaveTimeout&&window.clearTimeout(this.debouncedSaveTimeout),this.debouncedSaveTimeout=window.setTimeout(()=>this.save(),1e3)},flushDebouncedSave(){this.debouncedSaveTimeout&&(window.clearTimeout(this.debouncedSaveTimeout),this.save())},getActiveUser(){const e=this.get("users"),t=this.get("activeUserID");if(null!=t)return e.get(t)},clearActiveUser(){const e=this.getActiveUser();return e&&e.clearSensitiveAttributes(),this.unset("activeUserID"),this.save()},getActiveServers(){const e=this.getActiveUser();if(e)return e.get("servers")}}));let Do,Po,Oo,jo;!function(e){e.Pending="pending",e.Locked="locked",e.Unlocked="unlocked"}(Do||(Do={})),function(e){e.Empty="",e.Unsubscribed="unsubscribed",e.Active="active",e.Error="error",e.Removed="removed"}(Po||(Po={})),function(e){e.Active="active",e.Canceled="canceled",e.Ended="ended",e.Inactive="inactive",e.PendingCancellation="pending_cancellation"}(Oo||(Oo={})),function(e){e.Arcade="arcade",e.PlexPass="plexpass",e.Tidal="tidal"}(jo||(jo={}));var wo=function(e={}){const t=Object(ne.c)("appModel").get("user"),i=t.get("signedIn"),n=t.id!==e.homeUser.id,a=e.allowGuestLock,s=!!e.isRemoteUser,r=n||a,o=!1!==e.shouldUnlock;let l=i?Ge.execute("authenticateWithServer",e):Ge.execute("authenticateWithHash",e);return i&&r?l=l.then(t=>function(e,t){const i=Object(ne.c)("appModel").get("user");let n=Ge.execute("resetUser");return n=n.then(()=>{i.activateStoredUser(t.homeUser.id);const n=Mo.getActiveUser();n&&n.copyToModel(i),U.a.trigger("init:servers");const a={};return!1!==t.shouldUnlock&&(a.lockState=Do.Unlocked),i.signIn(e,a)}),n.done(()=>{Object(ne.c)("metrics").trackEvent({event:"client:switchuser",interaction:!0})}),n}(t,e)):l.done(()=>{const e={isRemote:s};o&&(e.lockState=Do.Unlocked),t.set(e)}),l};function To(e){return!e.get("experienceSettings").get("isRemoteSchemaVersionNewer")&&be.a.allowSyncSettings&&Object(ne.c)("settingFinder").find("shouldSyncSettings")}function Eo(e,t={}){return Object.assign({includeSubscriptions:1,includeProviders:1,includeSettings:be.a.allowSyncSettings?1:0,includeSharedSettings:To(e)?1:0},t)}var No=function({url:e,data:t,onMessage:i,timeout:n}){const a=window.setTimeout(()=>{i({success:!1}),s()},n);function s(){window.document.body.removeChild(o),window.removeEventListener("message",r),window.clearTimeout(a)}function r(e){if(e.source!==o.contentWindow)return;let t;try{t=JSON.parse(e.data)}catch(e){}t&&(i(t),s())}window.addEventListener("message",r);const o=window.document.createElement("iframe");o.style.display="none",o.src=e+"#"+encodeURIComponent(JSON.stringify({data:t})),window.document.body.appendChild(o)};function xo(e){return e&&e.statusText||""}var Ao=function(e){const t=e.xhrFields&&e.xhrFields.withCredentials&&!1;return e.headers=Object.assign({},$.getInstance(),e.headers||{}),t?function(e){const t=D.a.Deferred();return No({url:"https://app.plex.tv/service-reflector",data:e,timeout:5e3,onMessage:e=>{!0===e.success?t.resolve(e.data,xo(e.xhr),e.xhr):!1===e.success&&t.reject(e.xhr,xo(e.xhr))}}),t.promise()}(e):D.a.ajax(e)};var Lo=function(e){var t=e.homeUser,i=ne.c("appModel").get("user"),n=t.get("uuid")||i.get("uuid"),a=Eo(i,{pin:e.pin}),s=V.join(["/api/v2/home/users/",n,"/switch"],a),r=t.server.getXHROptions(s,{type:"POST",xhrFields:{withCredentials:be.a.allowSSO}});return Ao(r)};var ko=function(e){const t=D.a.Deferred().resolve().promise(),i=D.a.Deferred().reject().promise(),n=Mo.getActiveUser();if(!n)return i;const a=n.get("pin"),s=n.get("authToken");return a||e.pin?a===Object(ne.c)("appModel").get("user").hashPIN(e.pin,s)?t:i:t},Ro=i("5xhV"),zo=i.n(Ro),Uo=on.extend({name:"plexPassModal",template:zo.a,serializeData:function(){return{plexPassUrl:ne.c("appModel").get("user").server.get("plexPassUrl"),escapedFriendlyName:I.a.escape(this.model.get("friendlyName")),isClaimed:this.model.get("isClaimed")}}}),Vo=i("B8+q"),Bo=i.n(Vo),Fo=Mn.extend({name:"selectDeviceModal",template:Bo.a,serializeData:function(){return{devices:this.collection.toJSON()}}}),Ho={currentState:null,enterState:function(e){if(e!==this.currentState){var t=this.currentState,i=this.states[e];if(!i)throw new Error("The state machine is unable to enter undefined state: "+e);if(t){var n=this.states[t];if(I.a.isFunction(n.onExit)){var a=n.onExit.call(this);if(!1===a)return}}if(this.currentState=e,I.a.isFunction(i.onEnter)){var s=i.onEnter.apply(this,I.a.rest(arguments));if(!1===s)return void(this.currentState=t)}this.triggerMethod("stateMachineChange",{from:t,to:e})}},enterNextState:function(){var e;if(this.currentState){e=this.states[this.currentState].nextState}else{if(!this.initialState)throw new Error("An initial state must be defined for the state machine");e=this.initialState}e?this.enterState(e):this.triggerMethod("stateMachineComplete")}},_o=i("UVxU"),Wo=i.n(_o),Qo=R.ItemView.extend({className:"modal-body",template:Wo.a,events:{"click .try-again-link":"onTryAgainClick"},onTryAgainClick:function(e){e.preventDefault(),this.triggerMethod("request:state","form")}}),Go=i("pXC0");var Ko=xe.a.extend({name:"VersionGeneratorMediaSettingsModel",context:["server"],syncedAttrs:{videoQuality:{type:Ae.a.integer,save:!0},videoResolution:{type:Ae.a.string,save:!0},maxVideoBitrate:{type:Ae.a.integer,save:!0},audioBoost:{type:Ae.a.integer,save:!0},subtitleSize:{type:Ae.a.integer,save:!0},musicBitrate:{type:Ae.a.integer,save:!0},photoQuality:{type:Ae.a.integer,save:!0},photoResolution:{type:Ae.a.string,save:!0}}});var Yo=xe.a.extend({name:"VersionGeneratorMetadataModel",context:["server","generator"],idAttribute:"ratingKey",syncedAttrs:I.a.extend({},ut.a.prototype.syncedAttrs,{processingState:Ae.a.string,processingStateContext:Ae.a.string})});var qo=ke.a.extend({name:"VersionGeneratorMetadataCollection",context:["server","generator"],model:Yo});var Zo=xe.a.extend({mixins:[st.a],name:"VersionGeneratorMetadataListModel",context:["server","generator"],collectionName:"metadataItems",url(){const e=V.join([I.a.result(this.generator,"url"),"items"]);return this.getPaginatedUrl(e)},sessionAttrs:{currentPageStart:Ae.a.integer,currentPageSize:Ae.a.integer,populatedRange:Ae.a.object},syncedAttrs:{totalSize:Ae.a.integer,identifier:Ae.a.string,mediaTagPrefix:Ae.a.string,mediaTagVersion:Ae.a.string,viewGroup:Ae.a.string,title:Ae.a.string},syncedRelations:{metadataItems:{relationClass:qo,rootPropertyName:"Metadata",setOptions:e=>({remove:e.remove,at:e.at})}},defaults:()=>({populatedRange:{start:0,end:0,size:0}}),initialize(){this.startPopulatedRangeMonitor()},augmentResponseText:(e,t)=>t===ct.c?Object(dt.b)(e):e});var Jo=xe.a.extend({name:"VersionGeneratorPolicyModel",context:["server"],syncedAttrs:{scope:{type:Ae.a.string,save:!0},value:{type:Ae.a.integer,save:!0},unwatched:{type:Ae.a.boolean,save:!0}},defaults:{unwatched:!1}});var Xo=xe.a.extend({name:"VersionGeneratorStatusModel",context:["server"],syncedAttrs:{state:Ae.a.string,failureCode:Ae.a.string,failure:Ae.a.string,itemsCount:Ae.a.integer,itemsCompleteCount:Ae.a.integer,itemsSuccessfulCount:Ae.a.integer,itemsFailedCount:Ae.a.integer,itemsDisabledCount:Ae.a.integer,totalSize:Ae.a.integer}});var $o=xe.a.extend({name:"VersionGeneratorModel",context:["server","section","playlistID"],rootPropertyName:"Item",cache:new tt.a,cacheKey(e){return this.server&&this.server.getScopedKey(e.id)},urlRoot(){return"/playlists/"+(this.playlistID||this.parent.id)+"/items"},syncedAttrs:{id:Ae.a.integer,clientIdentifier:Ae.a.string,contentType:Ae.a.string,composite:Ae.a.string,type:{type:Ae.a.integer,save:!0},title:{type:Ae.a.string,save:!0},target:{type:Ae.a.string,save:!0},targetTagID:{type:Ae.a.integer,save:!0},locationID:{type:Ae.a.integer,save:!0},Location:{type:Ae.a.object,save:!0},Device:{type:Ae.a.object,save:!0}},sessionRelations:{children:{relationClass:Zo,options(){return{generator:this}}}},syncedRelations:{status:{relationClass:Xo,rootPropertyName:"Status"},policy:{relationClass:Jo,rootPropertyName:"Policy",save:!0},mediaSettings:{relationClass:Ko,rootPropertyName:"MediaSettings",save:!0}},derivedAttrs:{isDirectory(){const e=this.get("Location");if(e.uri)return/(playlist:\/\/|library:\/\/([\w-]*)\/directory\/)/.test(e.uri)}},defaults:()=>({type:42,locationID:-1,Location:{},Device:{}}),defaultCounts:{[Go.e]:5,[Go.a]:50,[Go.c]:50},warningCounts:{[Go.e]:10,[Go.a]:100,[Go.c]:100},getSaveParams(e,t){const i=xe.a.prototype.getSaveParams.apply(this,arguments);return i.targetTagID&&(delete i.MediaSettings,delete i.Device),{Item:i}},setPolicyDefaultsFor(e){const t=this.get("policy"),i=this.get("isDirectory");return t.has("scope")||t.set("scope",i?"count":"all"),!t.has("value")&&i&&t.set("value",this.defaultCounts[e]),this},shouldShowPolicyWarning(e,t){const i=this.get("policy").get("scope");return"count"===i?t>this.warningCounts[e]:"all"===i&&this.get("isDirectory")}});var el=$o.extend({name:"SyncItemModel",context:["server","device"],urlRoot(){return"/devices/"+(this.device?this.device.get("clientIdentifier"):this.get("clientIdentifier"))+"/sync_items"},syncedAttrs:I.a.extend({},$o.prototype.syncedAttrs,{version:{type:Ae.a.integer,save:!0},metadataType:{type:Ae.a.string,save:!0},rootTitle:{type:Ae.a.string,save:!0},machineIdentifier:{type:Ae.a.string,save:!0},Server:Ae.a.object}),defaults:()=>({Location:{},Device:{},Server:{}}),augmentResponse:e=>("photoAlbum"===e.metadataType&&(e.metadataType="photoalbum"),e),sync(e,t,i){const n=ot.addVersionHeaderForDevice(this.device,i);return $o.prototype.sync.call(this,e,t,n)},getSaveParams(e,t){const i=$o.prototype.getSaveParams.apply(this,arguments).Item;return I.a.each(i,(function(e,t){""===e&&delete i[t]})),{SyncItem:i}}}),tl=i("hGck"),il=i.n(tl),nl=R.ItemView.extend({className:"convert-policy-container",template:il.a,ui:{policyUnwatchedInput:"#convert-policy-unwatched",policyScopeInput:"#convert-policy-scope",policyValueInput:"#convert-policy-value",policyWarning:".convert-warning"},events:{"change input[name=policyUnwatched]":"onPolicyUnwatchedChange","change input[name=policyScope]":"onPolicyScopeChange","keyup input[name=policyValue]":"onPolicyValueChange","change input[name=policyValue]":"onPolicyValueChange"},initialize:function(e){this.type=Object(Qt.u)(this.model.get("metadataType")||"movie"),this.leafMediaType=Object(Qt.t)(this.type.typeString).mediaType,this.model.setPolicyDefaultsFor(this.leafMediaType)},serializeData:function(){var e={isSync:this.options.isSync,isDirectory:this.model.get("isDirectory"),policy:this.model.get("policy").toJSON()};return e.showLimitWarning=this.model.shouldShowPolicyWarning(this.leafMediaType,e.policy.value),e.showUnwatched=e.isDirectory&&this.leafMediaType===Go.e,e},updatePolicyValue:function(){var e=this.model.get("policy"),t=Math.abs(parseInt(this.ui.policyValueInput.val(),10));this.ui.policyValueInput.val(I.a.isNaN(t)?"":t),I.a.isNaN(t)&&(t=0),e.set("value","all"===e.scope?null:t);var i=this.model.shouldShowPolicyWarning(this.leafMediaType,t);this.ui.policyWarning.toggleClass("hidden",!i)},onPolicyUnwatchedChange:function(e){this.model.get("policy").set("unwatched",this.ui.policyUnwatchedInput.prop("checked"))},onPolicyScopeChange:function(e){var t=this.model.get("policy"),i=this.ui.policyScopeInput.prop("checked")?this.ui.policyScopeInput.val():"all";t.set("scope",i),this.updatePolicyValue()},onPolicyValueChange:function(e){this.updatePolicyValue()}});var al=i("EC8F");var sl=I.a.extend({},al.a,{type:"music",qualities:{bitrate:[96,128,192,320]},getNearestIndexToBitrate:function(e){return this.getNearestIndex(this.qualities.bitrate,e)}});var rl=I.a.extend({},al.a,{type:"photo",qualities:{photoResolution:["720x480","1280x720","1920x1080","3840x2160"],photoQuality:[24,49,74,99],title:function(){return[Object(Ze.default)("Low"),Object(Ze.default)("Medium"),Object(Ze.default)("High"),Object(Ze.default)("Highest")]}},getNearestIndexToQuality:function(e){return this.getNearestIndex(this.qualities.photoQuality,e)}}),ol=i("Ivly"),ll=i("pWsU"),cl=i.n(ll),dl=R.ItemView.extend({className:"sync-quality-container form-group",template:cl.a,events:{"change select[name=videoQuality]":"onVideoQualityChange","change select[name=musicQuality]":"onMusicQualityChange","change select[name=photoQuality]":"onPhotoQualityChange"},initialize:function(e){var t=Object(ne.c)("appModel").get("user").get("experienceSettings");this.mediaSettings=this.model.get("mediaSettings"),this.mediaSettings.has("audioBoost")||this.mediaSettings.set("audioBoost",t.get("audioBoost")),this.mediaSettings.has("subtitleSize")||this.mediaSettings.set("subtitleSize",t.get("subtitleSize")),this.initVideoQuality(),this.initMusicQuality(),this.initPhotoQuality()},initVideoQuality:function(){this.availableVideoQualities=ol.a.getAvailableQualities({lowestQualityIndex:2}).reverse();var e=Object(ne.c)("appModel").get("settings"),t=this.mediaSettings.get("maxVideoBitrate"),i=t?ol.a.getNearestIndexToBitrate(t):e.get(ol.a.getSyncQualityAttribute());this.updateVideoQuality(ol.a.getQualityByIndex(i))},initMusicQuality:function(){this.availableMusicQualities=sl.getAvailableQualities().reverse();var e=Object(ne.c)("appModel").get("settings"),t=this.mediaSettings.get("musicBitrate"),i=t?sl.getNearestIndexToBitrate(t):e.get(sl.getSyncQualityAttribute());this.updateMusicQuality(sl.getQualityByIndex(i))},initPhotoQuality:function(){this.availablePhotoQualities=rl.getAvailableQualities().reverse();var e=Object(ne.c)("appModel").get("settings"),t=this.mediaSettings.get("photoQuality"),i=t?rl.getNearestIndexToQuality(t):e.get(rl.getSyncQualityAttribute());this.updatePhotoQuality(rl.getQualityByIndex(i))},serializeData:function(){return{typeElement:Object(Qt.u)(this.model.get("metadataType")).mediaType,supportsOriginalQuality:this.model.server.supports("syncOriginalQuality"),availableVideoQualities:this.availableVideoQualities,selectedVideoQuality:this.selectedVideoQuality,availableMusicQualities:this.availableMusicQualities,selectedMusicQuality:this.selectedMusicQuality,availablePhotoQualities:this.availablePhotoQualities,selectedPhotoQuality:this.selectedPhotoQuality}},updateVideoQuality:function(e){this.selectedVideoQuality=e,this.mediaSettings.set({videoQuality:e.videoQuality,videoResolution:e.videoResolution,maxVideoBitrate:e.bitrate})},updateMusicQuality:function(e){this.selectedMusicQuality=e,this.mediaSettings.set({musicBitrate:e.bitrate})},updatePhotoQuality:function(e){this.selectedPhotoQuality=e,this.mediaSettings.set({photoQuality:e.photoQuality,photoResolution:e.photoResolution})},saveQualityIndex:function(e,t){var i=parseInt(t,10);return Object(ne.c)("appModel").get("settings").save(e.getSyncQualityAttribute(),i),e.getQualityByIndex(i)},onVideoQualityChange:function(e){var t=this.saveQualityIndex(ol.a,e.currentTarget.value);this.updateVideoQuality(t)},onMusicQualityChange:function(e){var t=this.saveQualityIndex(sl,e.currentTarget.value);this.updateMusicQuality(t)},onPhotoQualityChange:function(e){var t=this.saveQualityIndex(rl,e.currentTarget.value);this.updatePhotoQuality(t)}}),ul=i("qlzh"),pl=i.n(ul),hl={video:"movie",audio:"track",photo:"photo"},ml=R.Layout.extend({template:pl.a,ui:{submitBtn:".submit-btn"},regions:{policyRegion:".policy-region",qualityRegion:".quality-region"},events:{"change input[name=title]":"onTitleChange","submit #sync-form":"onSubmit"},initialize:function(e){var t=ne.c("appModel");if(this.device=e.device,this.model)this.tempModel=this.model.clone();else{var i,n,a=e.item,s=e.items;a.get("isPlaylist")?(i=a,n=hl[a.get("playlistType")]):a.get("isMetadataList")?(i=a,n=Object(Qt.t)(a.get("firstItemType")).typeString):(i=a.has("childrenKey")?new Gn.default({containerKey:a.get("childrenKey")},{server:a.server,provider:a.provider}):a,n=Object(Qt.t)(a.get("type")).typeString),n===Qt.e&&(n=a.get("subtype")),this.tempModel=new el({metadataType:n,title:lt.a.title(a,{items:s}),rootTitle:this.getRootTitle(a),machineIdentifier:a.server.id,clientIdentifier:this.device.get("clientIdentifier"),Location:{uri:lt.a.uri(i,{items:s})}},{parent:a.server,server:t.get("user").server,device:this.device})}},serializeData:function(){return{syncItem:this.tempModel.toJSON(),isNew:this.tempModel.isNew()}},getRootTitle:function(e){return e.section?e.section.get("title"):e.get("title")},onRender:function(){this.policyRegion.show(new nl({model:this.tempModel,isSync:!0})),this.qualityRegion.show(new dl({model:this.tempModel}))},onTitleChange:function(e){this.tempModel.set("title",e.currentTarget.value)},onSubmit:function(e){e.preventDefault();var t=this.ui.submitBtn;if(!t.hasClass("active")){t.addClass("active");var i=this.tempModel.save();i.done(I.a.bind((function(){if(this.model){var e=this.model.get("version")||0,t=I.a.omit(this.tempModel.toJSON(),"children");t.version=e+1,this.model.set(this.model.parse(t))}}),this)),(i=i.then(I.a.bind((function(){return Ge.execute("refreshSyncLists",{server:this.tempModel.parent,silent:!0})}),this))).done(this.whenRendered((function(){this.trigger("request:nextState")}))),i.fail(this.whenRendered((function(){this.trigger("request:state","error")})))}}}),gl=i("sscm"),vl=i.n(gl),yl=R.ItemView.extend({className:"modal-body",template:vl.a,events:{"click .status-link":"onStatusClick"},onStatusClick:function(e){e.preventDefault(),this.triggerMethod("request:nextState"),ra("syncedContent",{serverID:this.options.server.id,deviceID:this.options.device.id})}}),fl=i("roTl"),bl=i.n(fl),Il=on.extend({mixins:[Ho],name:"syncModal",className:"convert-modal modal fade",template:bl.a,regions:{bodyRegion:".modal-body-region"},initialize:function(e){on.prototype.initialize.apply(this,arguments),this.device=this.model?this.model.device:e.device},initialState:"form",states:{form:{nextState:"success",onEnter:function(){this.bodyRegion.show(new ml({model:this.model,item:this.options.item,items:this.options.items,device:this.device})),this.listenForStateRequests()}},success:{onEnter:function(){this.model?this.hide():(this.bodyRegion.show(new yl({server:this.options.item.server,device:this.device})),this.listenForStateRequests())}},error:{onEnter:function(){this.bodyRegion.show(new Qo),this.listenForStateRequests()}}},listenForStateRequests:function(){this.bodyRegion&&this.bodyRegion.currentView&&this.listenTo(this.bodyRegion.currentView,{"request:state":this.enterState,"request:nextState":this.enterNextState})},onRender:function(){on.prototype.onRender.apply(this,arguments),this.enterNextState()},onStateMachineComplete:function(){this.hide()}});var Sl=function(e){var t=ne.c("appModel").get("user"),i=e.item.server;if("ok"===i.get("myPlexSigninState"))if(i.get("allowSync")){var n=t.get("desktop").get("devices").filterSyncDevices(e.item),a=I.a.clone(e);if(n.length){var s=new Fo({collection:n});s.promise.done((function(e){a.device=n.get(e),U.a.trigger("show:modal",new Il(a))})),U.a.trigger("show:modal",s)}else U.a.trigger("show:alert",{type:"error",message:Object(Ze.default)("You are not signed in to any sync capable devices.")})}else U.a.trigger("show:modal",new Uo({model:i}));else{var r=Object(Ze.default)("This server needs to be connected to Plex to sync its content.");U.a.trigger("show:alert",{type:"error",message:r})}};var Cl=function(e){var t=e.syncItem,i=e.server;if(!t.server.get("connected"))return U.a.trigger("show:alert",{type:"error",message:Object(Ze.default)("Please sign in to remove sync items.")}),D.a.Deferred().reject().promise();var n=function(){var e=new vn({title:Object(Ze.default)("Stop Syncing"),message:Object(Ze.default)("Are you sure you want to stop syncing this item? All files created by this job will be removed from the device."),confirmLabel:Object(Ze.default)("Remove"),cancelLabel:Object(Ze.default)("Cancel"),async:!0,hasDanger:!0});return U.a.trigger("show:modal",e),e}(),a=n.promise.then((function(){var e=t.destroy();return e.fail((function(e){U.a.trigger("show:alert",{type:"error",message:Object(Ze.default)("There was a problem removing this sync item.")})})),e.always((function(){n.hide()})),e}));return a=a.then((function(){return Ge.execute("refreshSyncLists",{server:i,silent:!0,skipContent:!0})}))};var Ml=function(e){var t=e.server,i=I.a.extend(t.getXHROptions("/sync/refreshSynclists"),{type:"PUT"}),n=D.a.ajax(i);return e.skipContent||(n=n.then((function(e){var i=I.a.extend(t.getXHROptions("/sync/refreshContent"),{type:"PUT"});return D.a.ajax(i)}))),n.done((function(){e.silent||U.a.trigger("show:alert",{type:"success",message:Object(Ze.default)("Synced items were refreshed.")})})),n.promise()};var Dl=function(e){var t=e.device,i=Object(Ze.default)("If you remove this device, you will need to sign in again on the device to restore access to Plex."),n=new vn({title:Object(Ze.default)("Remove Device"),message:i,confirmLabel:Object(Ze.default)("Remove"),cancelLabel:Object(Ze.default)("Cancel"),async:!0,hasDanger:!0}),a=n.promise;return a=a.then((function(){return(e=t.destroy({wait:!0})).fail((function(){U.a.trigger("show:alert",{type:"error",message:Object(Ze.default)("There was a problem removing this device.")})})),e.always((function(){n.hide()})),e.promise();var e})),U.a.trigger("show:modal",n),a};var Pl=function(e){return ie(Ao({url:"https://plex.tv/api/v2/users/signout",headers:{"X-Plex-Token":e.accessToken},type:"DELETE",xhrFields:{withCredentials:!1}}))};var Ol=function(){Object(ne.c)("metrics").trackEvent({event:"client:signout",interaction:!0});const e=be.a.allowSSO,t=Object(ne.c)("appModel").get("user").get("authToken");return ie(e?Pl({accessToken:t}):D.a.Deferred().resolve().promise()).then(()=>Ge.execute("resetUser")).then(()=>(Mo.restoreDefaults(),Mo.save())).then(()=>{e&&Pl({accessToken:t}),U.a.trigger("init:servers")})};var jl=function(){const e=D.a.Deferred();return Object(ne.c)("appModel").get("user").get("isLocked")?e.reject():e.resolve(),e.promise()};function wl(){return Ge.registerAll(n),D.a.Deferred().resolve().promise()}var Tl={subscribe(){U.a.on("cloudServer:processRemoteControlCommand",this.onCloudServerCommand,this)},unsubscribe(){U.a.off("cloudServer:processRemoteControlCommand",this.onCloudServerCommand,this)},onCloudServerCommand(e){const t=e.Command,i={supportsTimeline:!1,path:t.path,commandID:t.commandID,query:{key:[t.queryKey],offset:[t.queryOffset],mediaIndex:[t.queryMediaIndex],containerKey:[t.queryContainerKey],playQueueID:[t.queryPlayqueueid],type:[t.queryType],volume:[t.queryVolume],repeat:[t.queryRepeat],autoPlay:[t.queryAutoPlay],subtitleSize:[t.querySubtitleSize],audioStreamID:[t.queryAudioStreamID],subtitleStreamID:[t.querySubtitleStreamID],token:[t.queryToken],machineIdentifier:[t.queryMachineIdentifier],protocol:[t.queryProtocol],address:[t.queryAddress],port:[t.queryPort],text:[t.queryText],field:[t.queryField]}};Object(ne.c)("localCompanionCommandHandler")(i)}};let El=null,Nl=null;function xl(){const e=Ll();return!(e&&!e.isLeader())&&Object(ne.c)("settingFinder").find("companion")}function Al(){if(!xl())return;const e=Object(ne.c)("appModel"),t=e.get("cloudServer"),i=e.get("clientID");if(!t||!t.get("authorized")||!i||i===El)return;El=i,C.a.info('[Companion] Registering player with plex.tv, clientID="%s"',i);Object(ne.c)("companionProxy").registerPlayer(t,i).done(()=>{C.a.info('[Companion] Registered player with plex.tv, clientID="%s"',i)}).fail(e=>{e||(e={}),El=null,C.a.warn('[Companion] Couldn\'t register player with plex.tv, status="%s", response="%s"',e.status,e.responseText&&e.responseText.substr(0,100))})}function Ll(){return Object(ne.a)("companionVote")?Object(ne.c)("companionVote"):null}function kl(){const e=Object(ne.c)("companionProxy"),t=xl();return Nl===t?D.a.Deferred().resolve().promise():(Nl=t,t?(Tl.subscribe(),D.a.when(e.subscribe(Object(ne.c)("localCompanionCommandHandler")))):(Tl.unsubscribe(),D.a.when(e.unsubscribe(),function(){const e=Object(ne.c)("appModel"),t=e.get("cloudServer"),i=e.get("clientID");if(!t.get("authorized")||!i)return;return C.a.info('[Companion] Unregistering player with plex.tv, clientID="%s"',i),Object(ne.c)("companionProxy").unregisterPlayer(t,i).done(()=>C.a.info('[Companion] Unregistered player with plex.tv, clientID="%s"',i)).fail((e={})=>C.a.warn('[Companion] Couldn\'t unregister player with plex.tv, status="%s", response="%s"',e.status,e.responseText&&e.responseText.substr(0,100)))}())))}function Rl(){const e=Object(ne.c)("appModel"),t=e.get("cloudServer");Al(),e.on("change:clientID",Al),t.on("change:authorized",Al),Object(ne.c)("settingFinder").addCompanionChangeListener(kl);const i=Ll();let n;return i&&i.on("leaderStatusChanged",e=>{C.a.info(e?"[Companion] Elected to poll leader role":"[Companion] Lost poll leader role"),kl()}),n=xl()?kl().then(()=>{const e=Object(ne.c)("companionProxy").getDeepLink();return e.fail(()=>{C.a.warn("[Companion] Ignoring error getting deep link")}),ie(e)}):D.a.Deferred().resolve().promise(),n}function zl(){const e=Object(ne.c)("appModel");return Me(e.get("settings").populate(),e.get("deviceSettings").populate())}var Ul=Ee.a.extend({getStorage(){},get(e){return this._catchStorageError(t=>{const i=window.PLEXWEB,n=i&&e in i?i[e]:t.getItem(e);if(null==n)throw new Error(e+" is not in "+this.name);return n})},set(e,t){return this._catchStorageError(i=>{if(!e)throw new Error("Unable to set value in "+this.name+" without a key");if(null==t)throw new Error("Unable to set null or undefined value for "+e+" in "+this.name+". Use the remove function.");return i.setItem(e,t)})},remove(e){return this._catchStorageError(t=>t.removeItem(e))},clear(){return this._catchStorageError(e=>e.clear())},_catchStorageError(e){const t=D.a.Deferred();try{t.resolve(e(this.getStorage()))}catch(e){C.a.warn(e.message),t.reject(e)}return t.promise()}});var Vl=Ul.extend({name:"BasicVolatileStorage",initialize(){const e={};this.api={getItem:t=>e[t],setItem(t,i){e[t]=i},removeItem(t){delete e[t]},clear(){for(const t in e)e.hasOwnProperty(t)&&delete e[t]}}},getStorage(){return this.api}});var Bl=new X.a({interface:["get","set","remove","clear"]});function Fl(e,t){return De.get(e).then(e=>Object(go.a)(e,t),()=>{if(t)return D.a.Deferred().resolve(t).promise()})}function Hl(e,t){return De.set(e,JSON.stringify(t))}var _l=function(e){return e.isDirty=!0,Fl(Mo.storageKey).then(t=>{if(t.users)return t.users.forEach(t=>{t.experienceSettings=Object.assign({},t.experienceSettings,e)}),Hl(Mo.storageKey,t)})};const Wl=["homeSettings"];var Ql=function(){const e=Object(ne.c)("StoredUserExperienceSettingsModel"),t=Object.keys(Object.assign({},e.prototype.syncedAttrs,e.prototype.syncedRelations)),i=I.a.without(t,...Wl),n=Fl("experience").then(e=>{const t=I.a.pick(e,i);return _l(t).then(()=>De.remove("experience"))});return ie(n)},Gl=i("xx2m"),Kl=i("jLR9"),Yl={PRODUCTION:"9AC194DC",QA:"4289C4E0",NINJA:"EB90125F",CUSTOM:"custom"};Yl.settings=[{value:Yl.PRODUCTION,title:"Production"},{value:Yl.QA,title:"QA"},{value:Yl.NINJA,title:"Ninja"},{value:Yl.CUSTOM,title:"Custom"}];var ql=Yl;var Zl=Wr.extend({name:"DeviceSettingsModel",storageKey:"deviceSettings",sessionAttrs:{isSaving:Ae.a.boolean,saveError:Ae.a.object},syncedAttrs:{v4DirectoryEnabled:Ae.a.boolean,v4DVRSetupEnabled:Ae.a.boolean,autoLogin:Ae.a.boolean,chromecastAppID:Ae.a.string,chromecastCustomAppID:Ae.a.string,sonosCustomBaseURL:Ae.a.string,debugAdKind:Ae.a.integer,debugLevel:Ae.a.integer,debugVideoQualityOverlay:Ae.a.boolean,directPlay:Ae.a.boolean,directStream:Ae.a.boolean,rejectDirectConnections:Ae.a.boolean,restorePlayQueue:Ae.a.object,shouldSyncSettings:Ae.a.boolean,hasDismissedInsecureHostedAppWarning:Ae.a.boolean,hasDismissedServerDownloadMessage:Ae.a.boolean,dismissedUnclaimedServers:Ae.a.object,dismissedServerUpdateVersions:Ae.a.object,volume:Ae.a.integer,serverUpdateDismissedVersion:Ae.a.string},defaults:()=>({isSaving:!1,saveError:null,v4DirectoryEnabled:!1,v4DVRSetupEnabled:!1,autoLogin:!1,chromecastAppID:ql.PRODUCTION,debugAdKind:Gl.a.NONE,debugLevel:Kl.a.DISABLED,debugVideoQualityOverlay:!1,directPlay:!0,directStream:!0,rejectDirectConnections:!1,restorePlayQueue:null,shouldSyncSettings:be.a.allowSyncSettings,hasDismissedInsecureHostedAppWarning:!1,hasDismissedServerDownloadMessage:!1,dismissedUnclaimedServers:{},dismissedServerUpdateVersions:{},volume:90})});const Jl=["debugVideoQualityOverlay","restorePlayQueue","volume"];var Xl=function(){const e=Zl.prototype.storageKey,t=Fl("experience").then(t=>{const i=I.a.pick(t,Jl);if(0!==Object.keys(i).length)return Fl(e,{}).then(t=>{const n=Object.assign({},t,i);return Hl(e,n)})});return ie(t)};const $l={aa:"Afaraf",af:"Afrikaans",ab:"Abkhazian",ak:"Akan",sq:"Shqip",am:"Amharic",ar:"",an:"Aragons",hy:"",as:"Assamese",av:" ",ae:"avesta",ay:"aymar aru",az:"azrbaycan dili",ba:" ",bm:"bamanankan",eu:"euskara",be:"",bn:"Bengali",bh:"",bi:"Bislama",bs:"bosanski jezik",br:"brezhoneg",bg:" ",my:"Burmese",ca:"Catal",ch:"Chamoru",ce:" ",cu:" ",cv:" ",kw:"Kernewek",co:"corsu",cr:"",dv:"Divehi",dz:"",en:"English","en-GB":"English (UK)",eo:"Esperanto",et:"eesti",ee:"Eegbe",fo:"froyskt",fj:"vosa Vakaviti",fy:"Frysk",ff:"Fulfulde",ka:"",gd:"Gidhlig",ga:"Gaeilge",gl:"Galego",gv:"Gaelg",gn:"Avae&apos;",gu:"",ht:"Kreyl ayisyen",ha:"",hz:"Otjiherero",hi:"",ho:"Hiri Motu",hr:"hrvatski",ig:"Ass Igbo",is:"slenska",io:"Ido",ii:" Nuosuhxop",iu:"",ie:"Interlingue",ia:"Interlingua",id:"Bahasa Indonesia",ik:"Iupiaq",jv:"basa Jawa",kl:"kalaallisut",kn:"",ks:"",kr:"Kanuri",kk:" ",km:"Khmer",ki:"Gky",rw:"Ikinyarwanda",ky:" ",kv:" ",kg:"KiKongo",kj:"Kuanyama",ku:"Kurd",lo:"Lao",la:"latine",lv:"latvieu valoda",li:"Limburgs",ln:"Lingla",lt:"lietuvi kalba",lb:"Ltzebuergesch",lu:"Luba-Katanga",lg:"Luganda",mk:" ",mh:"Kajin Maje",ml:"Malayalam",mi:"te reo Mori",mr:"",ms:"bahasa Melayu",mg:"Malagasy fiteny",mt:"Malti",mo:"Moldavian",mn:"",na:"Ekakair Naoero",nv:"Din bizaad",nr:"isiNdebele (North)",nd:"isiNdebele (South)",ng:"Owambo",ne:"",nn:"Norsk nynorsk",nb:"Norsk bokml",ny:"chiChea",oc:"Occitan",oj:"",or:"Oriya",om:"Afaan Oromoo",os:" ",pa:"",pi:"",ps:"",qu:"Runa Simi",rm:"rumantsch grischun",ro:"romn",rn:"kiRundi",sg:"yng t sng",sa:"",sr:" ",si:"Sinhala",sk:"slovenina",sl:"Slovenina",se:"Davvismegiella",sm:"gagana fa&apos;a Samoa",sn:"chiShona",sd:"",so:"Soomaaliga",st:"Sesotho",sc:"sardu",ss:"SiSwati",su:"Basa Sunda",sw:"Kiswahili",ty:"Reo Tahiti",ta:"",tt:"",te:"Telugu",tg:"",tl:"Wikang Tagalog",th:"",bo:"",ti:"Tigrinya",to:"faka Tonga",tn:"Setswana",ts:"Xitsonga",tk:"Trkmen",tw:"Twi",ug:"Uyurq",uk:"",ur:"",uz:"O&apos;zbek",ve:"Tshivena",vi:"Ting Vit",vo:"Volapk",cy:"Cymraeg",wa:"Walon",wo:"Wollof",xh:"isiXhosa",yi:"",yo:"Yorb",za:"Sa cue",zu:"isiZulu",pb:"Portugus (Brasil)",fr:"Franais","fr-CA":"Franais Canadien",de:"Deutsch",sv:"Svenska",no:"Norsk",da:"Dansk",fi:"Suomeksi",nl:"Nederlands",it:"Italiano",es:"Espaol","es-419":"Espaol (Latinoamrica)",pl:"Polski",hu:"Magyar",el:"",tr:"Trke",zh:"","zh-TW":"",ru:" ",he:"",ja:"",pt:"Portugus","pt-BR":"Portugus Brasileiro",ko:"",cs:"etina",fa:"",xx:"Unknown",xn:"None"};function ec(e,t){return $l[e].localeCompare($l[t])}const tc=["xx","xn"],ic=function(){const e=Object.keys($l).filter(e=>-1===tc.indexOf(e));return e.sort(ec),e.concat(tc)}();var nc=$l;const ac=/(^[^-]+)-/;function sc(e){for(let t=0,i=(e=e||[]).length;t<i;t++){const i=e[t];if("xx"===i||"xn"===i)continue;if(nc[i])return i;const n=i.match(ac),a=n&&sc([n[1]]);if(a)return a}}function rc(e){const t=window.navigator;let i;return e?i=[e]:t.languages?i=t.languages:t.language?i=[t.language]:t.userLanguage&&(i=[t.userLanguage]),sc(i)||"en"}const oc={NEVER:"never",SAME_NETWORK:"samenetwork",ALWAYS:"always"};oc.settings=[{value:oc.NEVER,title:"Never"},{value:oc.SAME_NETWORK,title:"On same network as server"},{value:oc.ALWAYS,title:"Always"}];var lc=oc;const cc={WHITE:"#ffffff",YELLOW:"#ffee00",BLACK:"#000000",CYAN:"#00ffff",BLUE:"#0000ff",GREEN:"#00ff00",MAGENTA:"#ee00ee",RED:"#ff0000",GREY:"#808080"};cc.settings=[{value:cc.WHITE,title:"White"},{value:cc.YELLOW,title:"Yellow"},{value:cc.BLACK,title:"Black"},{value:cc.CYAN,title:"Cyan"},{value:cc.BLUE,title:"Blue"},{value:cc.GREEN,title:"Green"},{value:cc.MAGENTA,title:"Magenta"},{value:cc.RED,title:"Red"},{value:cc.GREY,title:"Grey"}],cc.ALL=[cc.WHITE,cc.YELLOW,cc.BLACK,cc.CYAN,cc.BLUE,cc.GREEN,cc.MAGENTA,cc.RED,cc.GREY];var dc=cc;const uc={TOP:"top",MIDDLE:"middle",BOTTOM:"bottom"};uc.settings=[{value:uc.TOP,title:"Top"},{value:uc.MIDDLE,title:"Middle"},{value:uc.BOTTOM,title:"Bottom"}],uc.ALL=[uc.TOP,uc.MIDDLE,uc.BOTTOM];var pc=uc;const hc={AUTO:"auto",AVOID:"avoid",ALWAYS:"always",NEVER:"never"};hc.settings=[{value:hc.AUTO,title:"Automatic"},{value:hc.AVOID,title:"Only image formats"},{value:hc.ALWAYS,title:"Always"}];var mc=hc,gc=i("17x9"),vc=i.n(gc);const yc="library",fc="prePlay",bc="player",Ic="shared";vc.a.oneOf(["discover",yc,"directoryList","metadataList","timeline","continueWatching",fc,"postPlayPrevious","postPlayNext","playlist","search","quickSearch",bc,"playQueue","liveTVTimeline","liveTVGrid","newscast","recommended","nowPlaying","downloads",Ic,"watchTogether","watchTogetherLobby"]);const Sc="poster",Cc="mosaic",Mc="table",Dc="simpleSummary",Pc="summary",Oc="epgEpisode",jc="sharedItems";function wc(e,t){return Tc(t)||Ec(e)}function Tc(e){return e===Sc||e===Cc}function Ec(e){return e.length>1}var Nc=vc.a.oneOf([Sc,Cc,Mc,Dc,Pc,Oc,jc]);const xc=["calendar","agenda"];var Ac=xe.a.extend({name:"ReminderModel",syncedAttrs:{data:Ae.a.object,id:Ae.a.string.isRequired,remindAfter:Ae.a.string.isRequired,times:Ae.a.integer.isRequired}});var Lc=ke.a.extend({name:"ReminderCollection",model:Ac});const kc={hubIdentifier:Ae.a.string,hubKey:Ae.a.string,key:Ae.a.string,style:Ae.a.string,subtype:Ae.a.string,title:Ae.a.string,type:Ae.a.string},Rc={friendlyName:Ae.a.string,machineIdentifier:Ae.a.string.isRequired,sourceTitle:Ae.a.string},zc={identifier:Ae.a.string,providerIdentifier:Ae.a.string,title:Ae.a.string},Uc=xe.a.extend({name:"HomeHubProviderModel",syncedAttrs:Object.assign({},zc)}),Vc=xe.a.extend({name:"HomeHubServerModel",syncedAttrs:Object.assign({},Rc)});var Bc=xe.a.extend({name:"HomeHubModel",syncedAttrs:Object.assign({},kc,{id:Ae.a.string.isRequired,directoryID:Ae.a.string.isRequired,directoryKey:Ae.a.string.isRequired,isHidden:Ae.a.boolean.isRequired,hiddenAt:Ae.a.integer}),syncedRelations:{provider:{relationClass:Uc},server:{relationClass:Vc}},defaults:{isHidden:!1}});var Fc=ke.a.extend({name:"HomeHubCollection",model:Bc});var Hc=xe.a.extend({name:"HomeSettingsModel",syncedAttrs:{hasCustomizations:Ae.a.boolean.isRequired,hasSeededPreferredServerContent:Ae.a.boolean.isRequired,hasSeededProviderPromotedContent:Ae.a.boolean.isRequired,preferredServerID:Ae.a.string,settingsKey:Ae.a.string.isRequired,version:Ae.a.integer.isRequired},syncedRelations:{hubs:{relationClass:Fc}},defaults:()=>({hasCustomizations:!1,hasSeededPreferredServerContent:!1,hasSeededProviderPromotedContent:!1,settingsKey:Pe(),version:1})});var _c=xe.a.extend({name:"SidebarSourceModel",idAttribute:"key",syncedAttrs:{key:Ae.a.string.isRequired,sourceType:Ae.a.string.isRequired,machineIdentifier:Ae.a.string.isRequired,providerIdentifier:Ae.a.string.isRequired,directoryID:Ae.a.string,directoryIcon:Ae.a.string,title:Ae.a.string.isRequired,serverFriendlyName:Ae.a.string.isRequired,serverSourceTitle:Ae.a.string,providerSourceTitle:Ae.a.string,detail:Ae.a.string,isCloud:Ae.a.boolean,isFullOwnedServer:Ae.a.boolean,isHidden:Ae.a.boolean.isRequired,hiddenAt:Ae.a.integer},defaults:{isHidden:!1}});var Wc=ke.a.extend({name:"SidebarSourceCollection",model:_c});var Qc=xe.a.extend({name:"SidebarSettingsModel",syncedAttrs:{hasCompletedSetup:Ae.a.boolean.isRequired},syncedRelations:{pinnedSources:{relationClass:Wc}},defaults:()=>({hasCompletedSetup:!1})});var Gc={sessionAttrs:{sidebarPreferredSourcesSavedEnteredPath:Ae.a.string,isSidebarAllSources:Ae.a.boolean.isRequired,isDirty:Ae.a.boolean.isRequired,isSaving:Ae.a.boolean.isRequired,saveError:Ae.a.object},syncedAttrs:{updatedAt:Ae.a.integer,autoHomeHubsEnabled:Ae.a.boolean,shouldSaveLastSourcePivots:Ae.a.boolean.isRequired,lastSourcePivots:Ae.a.object.isRequired,savedPivotParams:Ae.a.object.isRequired,autoPinnedProviders:Ae.a.array.isRequired,dismissedUpsellModals:Ae.a.array},syncedRelations:{homeSettings:{relationClass:Hc},sidebarSettings:{relationClass:Qc}},defaults:{autoHomeHubsEnabled:null,sidebarPreferredSourcesSavedEnteredPath:null,isSidebarAllSources:!1,isDirty:!1,isSaving:!1,saveError:null,shouldSaveLastSourcePivots:!0,lastSourcePivots:{},savedPivotParams:{},autoPinnedProviders:[],dismissedUpsellModals:[]}};const Kc=al.a.ORIGINAL,Yc=Wr.extend({name:"UserExperienceSettingsModel",sessionAttrs:Object.assign({},Gc.sessionAttrs,{isRemoteSchemaVersionNewer:Ae.a.boolean}),syncedAttrs:Object.assign({},Gc.syncedAttrs,{schemaVersion:Ae.a.integer,language:Ae.a.string,playThemeMusic:Ae.a.boolean,companion:Ae.a.boolean,allowHttpFallback:Ae.a.string,timeFormat:Ae.a.string,autoAdjustQuality:Ae.a.boolean,remoteSmallVideoAtOriginalQuality:Ae.a.boolean,useHomeStreamingRecommendedSettings:Ae.a.boolean,localQuality:Ae.a.integer,remoteQuality:Ae.a.integer,audioBoost:Ae.a.integer,subtitleColor:Ae.a.string,subtitlePosition:Ae.a.string,subtitleSize:Ae.a.integer,subtitlesBurnLevel:Ae.a.string,extrasPrefixCount:Ae.a.integer,audioForceMultiChannel:Ae.a.boolean,forceTranscodeProtocolHLS:Ae.a.boolean,autoPlay:Ae.a.boolean,calendarViewType:Ae.a.string,columnAdjustment:Ae.a.integer,columnWidthMultiplier:Ae.a.float,dashboardNowPlayingShowDetails:Ae.a.boolean,hasDismissedDVRUpsell:Ae.a.boolean,hasDismissedServerDashboardUpsell:Ae.a.boolean,isSidebarCollapsed:Ae.a.boolean,libraryTableColumns:Ae.a.object,listStyles:Ae.a.object,prePlayListStyles:Ae.a.object,directoryListStyles:Ae.a.object,directoryTableColumns:Ae.a.object,savedDirectoryListKeys:Ae.a.object,relayReminders:Ae.a.object,showAdvancedSettings:Ae.a.boolean,showPrePlayArtwork:Ae.a.boolean,musicDownloadQuality:Ae.a.integer,videoDownloadQuality:Ae.a.integer,searchAllServers:Ae.a.boolean,libraryRoutes:Ae.a.object}),syncedRelations:Object.assign({},Gc.syncedRelations,{reminders:{relationClass:Lc}}),defaults:()=>Object.assign({},Gc.defaults,{isRemoteSchemaVersionNewer:!1,language:rc(),playThemeMusic:!1,companion:!0,allowHttpFallback:lc.NEVER,timeFormat:"h:mma",autoAdjustQuality:!1,remoteSmallVideoAtOriginalQuality:!0,useHomeStreamingRecommendedSettings:!0,localQuality:Kc,remoteQuality:6,audioBoost:100,subtitleColor:dc.WHITE,subtitlePosition:pc.BOTTOM,subtitleSize:100,subtitlesBurnLevel:mc.AUTO,extrasPrefixCount:0,audioForceMultiChannel:!1,forceTranscodeProtocolHLS:!1,autoPlay:!0,calendarViewType:"calendar",columnAdjustment:0,columnWidthMultiplier:1.5,dashboardNowPlayingShowDetails:!1,hasDismissedServerDashboardUpsell:!1,isSidebarCollapsed:!1,libraryTableColumns:{},listStyles:{[yc]:{episode:Mc,track:Mc},[fc]:{track:Mc}},prePlayListStyles:{},directoryListStyles:{},directoryTableColumns:{},savedDirectoryListKeys:{},relayReminders:{},showAdvancedSettings:!1,showPrePlayArtwork:!1,musicDownloadQuality:al.a.ORIGINAL,videoDownloadQuality:al.a.ORIGINAL,searchAllServers:!1,libraryRoutes:{}}),initialize(){this.set({schemaVersion:Yc.schemaVersion})},augmentResponse(e){if(e.schemaVersion>Yc.schemaVersion)return C.a.warn("[Settings] Received settings with schemaVersion of "+e.schemaVersion+"; expected "+Yc.schemaVersion+" or less.  Settings sharing is now disabled."),Object.assign({},this.toJSON(),{isRemoteSchemaVersionNewer:!0});e=sd(e);const t=this.get("isDirty"),i=this.get("updatedAt"),n=Object(mo.a)(e.updatedAt),a=i&&n&&i<n;return t&&i===n||i&&n&&i>n?this.toJSON():(t&&a&&(e.isDirty=!1),e.isRemoteSchemaVersionNewer=!1,e)}},{schemaVersion:4});var qc=Yc;var Zc=i("dFNG");function Jc(e){if(e)return e.split("--")}function Xc(e){Object.keys(e).forEach(t=>{const i=function(e){const t=Jc(e);if(t.length<3)return e;const[i,n,a,s]=t,r=vi(a);return Object(Zc.a)(i,n,r,s)}(t);if(i!==t){const n=e[t];e[i]=n,delete e[t]}})}var $c=i("RgJi");function ed(e,t){return e+"::"+t}function td(e){e.isHidden&&!e.hiddenAt&&(e.hiddenAt=Date.now())}const id={1:ad,2:function(e){const{lastSourcePivots:t,savedPivotParams:i,sidebarSettings:{pinnedSources:n}={}}=e;return t&&Xc(t),i&&Xc(i),n&&n.forEach(e=>{const t=Jc(e.key);if(!t)return;const i=t.pop(),n=vi(i);if(n!==i){const i=Object(Zc.a)(...t,n);e.directoryID||(e.directoryID=n),e.key=i}}),e},3:ad,4:function(e){if(!e.relayReminders)return e;e.reminders=e.reminders||[];for(const t in e.relayReminders){const i=ed("relay",t);if(e.reminders.some(e=>e.id===i))continue;const n=e.relayReminders[t],a={id:i,remindAfter:Object($c.a)(n.remindAfter).toISOString(),times:Math.max(0,n.times-1)};e.reminders.push(new Ac(a).toJSON())}return delete e.relayReminders,e}},nd=[function(e){if(null!=e.autoHomeHubsEnabled)return e;const t=e.homeSettings;return t&&t.hasCustomizations?e.autoHomeHubsEnabled=!1:e.autoHomeHubsEnabled=!0,e},function(e){const t=e.sidebarSettings;t&&t.pinnedSources&&t.pinnedSources.forEach(td);const i=e.homeSettings;return i&&i.hubs&&i.hubs.forEach(td),e},function(e){const{audioBoost:t}=e;if(null!=t){const i=100===t?100:700,n=qc.prototype.defaults().audioBoost;i!==t&&i!==n&&(e.audioBoost=i)}return e}];function ad(e){return e}function sd(e={}){let t=e.schemaVersion||0;for(;t<qc.schemaVersion;)e.schemaVersion=++t,id[t](e);return nd.forEach((t,i)=>{try{t(e)}catch(e){C.a.error("[User] Setting migration[%d] error",i,e)}}),e}function rd(){const e=Fl(Mo.storageKey).then(e=>{if(e.users&&e.users.some(e=>e.experienceSettings&&e.experienceSettings.schemaVersion!==qc.schemaVersion))return e.users.forEach(e=>{e.experienceSettings=sd(e.experienceSettings)}),Hl(Mo.storageKey,e)});return ie(e)}var od=Wr.extend({name:"DesktopSettingsModel",storageKey:"settingsv2",syncedAttrs:{preferInsecureConnections:Ae.a.string,"syncQuality!video":Ae.a.integer,"syncQuality!music":Ae.a.integer,"syncQuality!photo":Ae.a.integer,viewedUnclaimedServers:Ae.a.list,dismissedUnclaimedServers:Ae.a.list},defaults:()=>({preferInsecureConnections:be.a.shouldPreferInsecureLocalConnections?"samenetwork":"never","syncQuality!video":8,"syncQuality!music":2,"syncQuality!photo":2,viewedUnclaimedServers:[],dismissedUnclaimedServers:[]})});const ld=["autoLogin","chromecastAppID","chromecastCustomAppID","debugLevel","directPlay","directStream","rejectDirectConnections","serverUpdateDismissedVersion"];var cd=function(){const e=od.prototype.storageKey,t=Zl.prototype.storageKey,i=Fl(e).then(i=>{const n=I.a.pick(i,ld);if(0!==Object.keys(n).length)return Fl(t,{}).then(e=>{const i=Object.assign({},e,n);return Hl(t,i)}).then(()=>Hl(e,I.a.omit(i,ld)))});return ie(i)};const dd=["allowHttpFallback","audioBoost","companion","language"];var ud=function(){const e=Fl(od.prototype.storageKey).then(e=>{const t=I.a.pick(e,dd);if(0!==Object.keys(t).length)return _l(t).then(()=>Hl(od.prototype.storageKey,I.a.omit(e,dd)))});return ie(e)};function pd(){const e=D.a.Deferred(),t=De.set("plexTestToken",1);return t.done(()=>{De.remove("plexTestToken"),e.resolve()}),t.fail(t=>{const i=new Vl;C.a.warn("Storage module swapped for "+i.name+' due to exception: "'+t+'"'),Bl.register(i),De.register(i,{ignorePrevious:!0}),e.resolve()}),e.promise()}function hd(){return function(){const e=D.a.Deferred(),t=Bl.get("myPlexAccessToken");return t.done(()=>{window.PLEXWEB&&window.PLEXWEB.myPlexAccessToken||De.register(Bl.getInstance())}),t.always(()=>{e.resolve()}),e.promise()}().then(pd).then(cd).then(Xl).then(Ql).then(ud).then(rd)}var md=i("sKrL");var gd={[md.FAIRPLAY]:Ft.FAIRPLAY,[md.PLAYREADY]:Ft.PLAYREADY,[md.WIDEVINE]:Ft.WIDEVINE};var vd=function(){return!!(window.MediaKeys||window.WebKitMediaKeys||window.MSMediaKeys)};var yd=function(){return!!window.navigator.requestMediaKeySystemAccess};function fd(e,t){return yd()?window.navigator.requestMediaKeySystemAccess(e,t):Promise.reject(new Error("NotSupportedError"))}function bd(e,t,i){return vd()?new Promise((n,a)=>{const{audioCapabilities:s=[],videoCapabilities:r=[]}=i[0],o=s.concat(r).map(e=>e.contentType);!(!o||!o.length)&&o.every(i=>e.isTypeSupported(t,i))?n({keySystem:t}):a(new Error("NotSupportedError"))}):Promise.reject(new Error("NotSupportedError"))}var Id=function(e,t=Object.values(md)){const{audioCapabilities:i,videoCapabilities:n}=e,a=[{initDataTypes:["cenc"],audioCapabilities:i,videoCapabilities:n}],s=D.a.Deferred(),r=window.WebKitMediaKeys,o=r?bd.bind(null,r):fd,l=t.map(e=>o(e,a));return Promise.allSettled(l).then(e=>{const i=e.reduce((e,i,n)=>{const{status:a,reason:s,value:r}=i;return"fulfilled"===a?(Object(C.a)("[Player] %s is available",r.keySystem),e.push(r.keySystem)):Object(C.a)("[Player] %s is unavailable: %s",t[n],s.message),e},[]);i.length?s.resolve(i):s.reject()}),s.promise()};var Sd=function(){return Id({videoCapabilities:[{contentType:'video/mp4; codecs="avc1.42E01E"'}]}).then(e=>{const t=function(e){let t;for(const i of e)if(t=gd[i],t)break;return t}(e);return Object(C.a)("[Player] Supported key systems:",e),Object(C.a)("[Player] Selected DRM type:",t),t})};function Cd(){const e=Object(ne.c)("appModel"),t=be.a.drmType;return(t!==Ft.NONE?D.a.Deferred().resolve(t).promise():ie(Sd())).then(t=>{e.set("drmType",t),Pa.setOption("drmType",t)},()=>{e.unset("drmType"),Pa.setOption("drmType",Ft.NONE)})}var Md=function(e,t){const i=new RegExp("(\\?|&)("+J(t)+"=[^\\?&]+(?:[\\?&]?))","g");return e.replace(i,(e,t)=>t).replace(/(\?|&)$/,"")};var Dd=function(e){return e.get("ui").get("authCodeExchange")};var Pd=function(){const{hashParams:e}=me(window.location.href),t=Sa.a.parse(e.substr(1)),i=Object(mo.a)(t.pinID);if(i){const e=Object(ne.c)("appModel");Dd(e).set({pinIDInitial:i}),Object(Ti.a)(),window.history.replaceState(null,null,Md(window.location.href,"pinID"))}return D.a.Deferred().resolve().promise()};function Od(e,t){return e.save(Object.assign({},t,{isSaving:!0,saveError:null})).then(()=>{e.set({isSaving:!1})},t=>{const i=t&&t.message||"";e.set({isSaving:!1,saveError:{message:i}})})}function jd(e,t){return e.replace(/^\w+:\/\//,t+"//")}var wd=function(){const e=jd(window.location.href,"http:"),t=be.a.allowSSO?V.join(e,{secure:0},{parseParams:!0,recognizeHash:!0}):e;C.a.info("[redirectToHttp] Redirecting from "+window.location.href+" to "+t),window.location=t},Td=i("QPyl"),Ed=i("q1tI"),Nd=i.n(Ed),xd=i("xhK+"),Ad=i.n(xd);function Ld(e){var t=e["aria-label"],i=e.className,n=e.style,a={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1000 1000",id:"plex-icon-plex-chevron"};a["aria-hidden"]=!t,a.style=n,a.className=Ad.a.plexIcon+(i?" "+i:"");var s=[Nd.a.createElement.apply(Nd.a,["path",{d:"M195,0 L485.000707,0 L805,500 L485.000707,1000 L195,1000 L514.999293,500 L195,0"}].concat([]))];return t&&s.unshift(Nd.a.createElement("title",null,t)),Nd.a.createElement.apply(Nd.a,["svg",a].concat(s))}Ld.propTypes={"aria-label":vc.a.string,className:vc.a.string,style:vc.a.object};var kd=Ld,Rd=i("YINS"),zd=i("iZkF"),Ud=i("KAy6");const Vd=Nd.a.createElement;function Bd(e,t={}){return Object(Ud.renderToStaticMarkup)(Vd(e,t))}function Fd(e,t){var i=t.constructor.prototype.validate;return i?i(e):[]}function Hd(e){var t=this.panes[e],i=Qd.call(this,t);return 0===Fd.call(this,i,t).length}function _d(e,t){var i=this.panes[t].dependentPanes;return"function"==typeof i&&(i=i.call(this)),e.concat(i||[])}function Wd(){var e=this.$(".change-pane-btn");e.addClass("disabled").removeClass("selected"),I.a.each(this.getReachablePanes(),(function(t){e.filter("."+t+"-btn").removeClass("disabled")}),this),e.filter("."+this.selectedPane+"-btn").addClass("selected")}function Qd(e){return this[e.model]||this[this.panesModel]||this.model}var Gd={showPane:function(e){if(e!==this.selectedPane){var t=this.paneRegion.currentView;t&&(this.stopListening(t,"valid",Wd),this.stopListening(t,"invalid",Wd),this.$el.removeClass("pane-"+this.selectedPane),this.onPaneHide&&this.onPaneHide(this.selectedPane,t)),this.selectedPane=e;var i=this.panes[e],n=i.constructor,a=this.paneConstructorArg?this.paneConstructorArg():{},s=new n(I.a.extend(a,{model:Qd.call(this,i)}));if(s.onModalClose){this._paneOnModalCloseCallbacks||this.listenToOnce(this,"close",(function(){I.a.each(this._paneOnModalCloseCallbacks,(function(e){e[1].call(e[0])}),this),this._paneOnModalCloseCallbacks=null}));var r=this._paneOnModalCloseCallbacks||[];r.push([s,s.onModalClose]),this._paneOnModalCloseCallbacks=I.a.uniq(r,(function(e){return e[1]}))}this.listenTo(s,"valid",Wd),this.listenTo(s,"invalid",Wd),Wd.call(this),this.onPaneShow&&this.onPaneShow(e,s),this.$el.addClass("pane-"+e),this.paneRegion.show(s),Wd.call(this)}},getReachablePanes:function(){for(var e,t,i=I.a.reduce(this.panes,(function(e,t){var i=t.dependentPanes;return"function"==typeof i&&(i=i.call(this)),I.a.union(e,i||[])}),[],this),n=I.a.filter(I.a.keys(this.panes),(function(e){return!I.a.contains(i,e)})),a=n;a.length;)e=I.a.filter(a,Hd,this),t=t||e.length!==a.length,a=I.a.reduce(e,_d,[],this),n=n.concat(a);return n.isAnyInvalid=t,n},onChangePaneClick:function(e){e.preventDefault();var t=this.$(e.currentTarget);t.isDisabled()||this.showPane(t.data("pane"))}};var Kd=xe.a.extend({name:"DownloadServerReleaseModel",context:["server"],modelId(){return this.get("build")+"-"+this.get("distro")},syncedAttrs:{label:Ae.a.string,build:Ae.a.string,distro:Ae.a.string,url:Ae.a.string}});var Yd=ke.a.extend({name:"DownloadServerReleaseCollection",context:["server"],model:Kd});var qd=xe.a.extend({name:"DownloadServerPlatformModel",context:["server","type"],rootPropertyName:"Platform",idAttribute:"id",syncedAttrs:{id:Ae.a.string,name:Ae.a.string,version:Ae.a.string,date:Ae.a.integer,requirements:Ae.a.string,fixed:Ae.a.string,added:Ae.a.string,info:Ae.a.string},syncedRelations:{releases:{rootPropertyName:"Release",relationClass:Yd}},derivedAttrs:{type(){return this.type}},augmentResponse(e){let{release_date:t,extra_info:i,items_fixed:n,items_added:a}=e,s=Xe()(e,["release_date","extra_info","items_fixed","items_added"]);return Object.assign({},s,{info:i,fixed:n,added:a,date:t+"000"})}});var Zd=ke.a.extend({name:"DownloadServerPlatformCollection",context:["server","type"],model:qd});var Jd=xe.a.extend({name:"DownloadServerModel",context:["server"],rootPropertyName:"Type",idAttribute:"name",syncedAttrs:{name:Ae.a.string},syncedRelations:{platforms:{rootPropertyName:"Platform",relationClass:Zd,options:e=>({type:e.name})}}});var Xd=ke.a.extend({name:"DownloadServerCollection",context:["server"],url(){const e=I.a.result(this.server,"url");return V.join([e,"api/downloads/1"])},model:Jd});function $d(e=Td.a){return"chrome"===e.id}function eu(e=Td.a){return"edge"===e.id}var tu=i("y4j6"),iu=i("YVMD"),nu=i.n(iu),au=R.ItemView.extend({template:nu.a,className:"download-server-pane",serializeData:function(){const e=this.model.toJSON();return Object.assign({},e,{target:!1,shouldUseDownload:!0,shouldUseDropup:e.releases.length>1})}}),su=i("Wks2"),ru=i.n(su),ou={osx:"macos"},lu=on.extend({mixins:[Gd],name:"serverDownloadModal",className:"server-download-modal modal modal-lg fade",template:ru.a,ui:{downloadBtn:".download-btn",paneTabs:".show-pane-btn",loading:".server-download-loading"},regions:{paneRegion:".pane-region"},events:I.a.extend({"click .show-pane-btn":"onShowPaneClick","click .download-btn":"onDownloadClick"},on.prototype.events),panesModel:"selectedModel",onlyAfterRender:["showPane"],initialize:function(e){on.prototype.initialize.apply(this,arguments);var t=ne.c("appModel");t.get("primaryServer")||this.listenTo(t,"change:primaryServer",(e,t)=>{t&&t.id&&this.hide()}),this.downloadType=e.downloadType;var i=new Xd([],{server:t.get("cloudServer")}),n=i.populate();n.done(()=>{this.collection=i.get(this.downloadType).get("platforms"),this.paneSetup(),this.render(),this.ui.loading.addClass("hidden")}),ne.c("metrics").trackView({page:zd.F,firstRun:!0})},serializeData:function(){return{items:this.collection?this.collection.toJSON():[],selectedPane:this.selectedModel?this.selectedModel.get("id"):null,iconPlexChevron:Bd(kd,{className:"modal-icon"})}},selectListItem:function(){var e=this.selectedModel.get("id");this.ui.paneTabs.removeClass("selected"),this.ui.paneTabs.filter('[data-pane="'+e+'"]').addClass("selected")},paneSetup:function(){this.panes=this.collection.reduce((e,t)=>(e[t.get("id")]={constructor:au},e),{});var{platformID:e}=Td.a,t=ou[e]||e;this.selectedModel=this.collection.get(t)||this.collection.first(),this.showPane(this.selectedModel.get("id"))},onRender:function(){on.prototype.onRender.apply(this,arguments),this.selectedModel&&this.selectListItem()},onShowPaneClick:function(e){e.preventDefault();var t=this.$(e.currentTarget).data("pane");this.selectedModel=this.collection.get(t),this.showPane(t),this.selectListItem()},onDownloadClick:function(e){var t=this.selectedModel.get("id");ne.c("metrics").trackClick({page:zd.F,firstRun:!0,action:Rd.v,platform:this.downloadType,os:t}),this.hide()}});function cu(e,t,i,n={},a){if(!e||!t||!i)return;const s=function(e,t){const i=encodeURIComponent(e.machineIdentifier),n=encodeURIComponent(t.identifier),a="/server/"+i;return t.isLibraryProvider?a:(e.isCloud?"":a)+"/provider/"+n}(e,t),r=encodeURIComponent(i),o={[Go.c]:"album",[Go.e]:"playlist",[Go.a]:"playlist"},l="#!"+s+"/"+(a?o[a]:"details")+"?key="+r;return V.join(l,n)}const du=Object(Pi.a)("app/restoreDefaultDeviceSettings"),uu=(Object(Pi.a)("app/downloadServer"),Object(Pi.a)("app/discoverServers")),pu=Object(Pi.a)("app/dismissUnclaimedServer"),hu=Object(Pi.a)("app/redirectToRoute"),mu=Object(Pi.a)("app/redirectToHttp"),gu=Object(Pi.a)("app/redirectToUrl"),vu=Object(Pi.a)("app/preferInsecure"),yu=Object(Pi.a)("app/selectAudioDevice"),fu=(Object(Pi.a)("app/updateAudioDevices"),Object(Pi.a)("app/toggleFullscreen",e=>({isFullscreen:!0}))),bu=Object(Pi.a)("app/toggleFullscreen",e=>({isFullscreen:!1})),Iu={[Kn.a]:Kn.q[Kn.a],[Kn.k]:Kn.q[Kn.k],[Kn.d]:Kn.q[Kn.d],[Kn.f]:Kn.q[Kn.f],[Kn.g]:Kn.q[Kn.g],[Kn.h]:Kn.q[Kn.h],[Kn.j]:Kn.q[Kn.j],[Kn.n]:Kn.q[Kn.n],[Kn.c]:Kn.q[Kn.c],[Kn.o]:Kn.q[Kn.o],[Kn.m](e,t){Od(e.get("deviceSettings"),t)},"app/restoreDefaultDeviceSettings"(e){const t=e.get("deviceSettings");!function(e,{isUserRestricted:t}){const i={shouldSyncSettings:e.get("shouldSyncSettings")};t&&(i.autoLogin=e.get("autoLogin")),e.restoreDefaults(i)}(t,{isUserRestricted:e.get("user").get("restricted")}),Od(t,{})},"app/downloadServer"(e,t){const i=new lu({downloadType:t});U.a.trigger("show:modal",i)},"app/discoverServers"(e){U.a.trigger("discover:servers")},"app/dismissUnclaimedServer"(e,t,i){const{machineIdentifier:n}=t,a=e.get("deviceSettings").get("dismissedUnclaimedServers");a[n]||i(Object(Kn.A)({dismissedUnclaimedServers:Object.assign({},a,{[n]:!0})}))},[Kn.p](e,t){const{machineIdentifier:i}=t;e.get("servers").findServer(i).then(t=>{e.set({primaryServer:t,isWaitingForPrimaryServer:!1})},()=>{C.a.warn("Unable to set primary server to:",i)})},[Kn.l](e){e.set({primaryServer:null,isWaitingForPrimaryServer:!0})},[Kn.b](e,t){const{machineIdentifier:i}=t;e.get("servers").findServer(i).done(t=>{!t.get("isOutOfDate")&&t.get("isPrimaryEligible")&&e.get("primaryServer")!==t&&e.set({primaryServer:t,isWaitingForPrimaryServer:!1})})},[Kn.e](e,t,i){const n=function(e,t=!0){let i="";return e&&("string"==typeof e.pathname?i=e.query?V.join(e.pathname,e.query):e.pathname:"string"==typeof e&&(i=e)),i&&t&&0!==i.indexOf("#!")&&(i="#!"+i),i}(t);t.replace?window.location.replace(n):window.location.href=n},[Kn.i](e,t,i){const{key:n,replace:a}=t,s=Object(wi.m)(e,t),r=Object(wi.j)(e,t),o=cu(s.toJSON(),r.toJSON(),n);o&&i(Object(Kn.v)({pathname:o,replace:a}))},"app/redirectToRoute"(e,{route:t,options:i}){I.a.defer(()=>{U.a.trigger("navigate",t,i)})},"app/redirectToHttp"(){wd()},"app/redirectToUrl"(e,{url:t,replace:i}){i?window.location.replace(t):window.location.href=t},"app/preferInsecure"(){try{window.localStorage.setItem("preferInsecure","1")}catch(e){C.a.debug("Unable to set prefer insecure in storage due to error:",e.message)}},"app/toggleFullscreen"(e,{isFullscreen:t}){e.get("isFullscreen")!==t&&e.set("isFullscreen",t)},"app/selectAudioDevice"(){},"app/updateAudioDevices"(){}};function Su(){const e=Object(ne.c)("fullscreenManager").initialize({dispatchEnterFullscreen(){Object(ne.c)("appStore").dispatch(fu())},dispatchExitFullscreen(){Object(ne.c)("appStore").dispatch(bu())}});return ie(e)}var Cu=i("imBb"),Mu=i.n(Cu);function Du(){const e=Object(ne.c)("keyboardShortcuts");let t=!0;function i(i,n,a){if(t||n instanceof window.KeyboardEvent&&"esc"===a)return e[i.fn](e,n,a)}return U.a.on("anyModalOpen",()=>{t=!1}),U.a.on("allModalsClosed",()=>{t=!0}),e.shortcuts.forEach(e=>{Mu.a.bind(e.keys,i.bind(null,e))}),D.a.Deferred().resolve().promise()}var Pu=i("NciQ");function Ou(){const e=Object(ne.c)("settingFinder").find("language");return Pa.setOption("language",e),ie(Pu.a.load(e))}var ju=i("Fh1j");const wu=["touchstart","mousedown","click","keydown","keypress"];function Tu(){function e(){wu.forEach(t=>{document.body.removeEventListener(t,e,!0)});const t=Object(ju.a)("audio",!0);function i(){t.removeEventListener("playing",i),t.removeEventListener("error",i),t.src="",t.removeAttribute("src"),Object(ju.b)(t)}t.addEventListener("playing",i),t.addEventListener("error",i),t.src="data:audio/mpeg;base64,//uQxAAAAAAAAAAAAAAAAAAAAAAASW5mbwAAAA8AAAADAAAGhgBVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVWqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqr///////////////////////////////////////////8AAAA5TEFNRTMuOThyAc0AAAAAAAAAABSAJAiqQgAAgAAABobxtI73AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA//uQxAACFEII9ACZ/sJZwWEoEb8w/////N//////JcxjHjf+7/v/H2PzCCFAiDtGeyBCIx7bJJ1mmEEMy6g8mm2c8nrGABB4h2Mkmn//4z/73u773R5qHHu/j/w7Kxkzh5lWRWdsifCkNAnY9Zc1HvDAhjhSHdFkHFzLmabt/AQxSg2wwzLhHIJOBnAWwVY4zrhIYhhc2kvhYDfQ4hDi2Gmh5KyFn8EcGIrHAngNgIwVIEMf5bzbAiTRoAD///8z/KVhkkWEle6IX+d/z4fvH3BShK1e5kmjkCMoxVmXhd4ROlTKo3iipasvTilY21q19ta30/v/0/idPX1v8PNxJL6ramnOVsdvMv2akO0iSYIzdJFirtzWXCZicS9vHqvSKyqm5XJBdqBwPxyfJdykhWTZ0G0ZyTZGpLKxsNwwoRhsx3tZfhwmeOBVISm3impAC/IT/8hP/EKEM1KMdVdVKM2rHV4x7HVXZvbVVKN/qq8CiV9VL9jjH/6l6qf7MBCjZmOqsAibjcP+qqqv0oxqpa/NVW286hPo1nz2L/h8+jXt//uSxCmDU2IK/ECN98KKtE5IYzNoCfbw+u9i5r8PoadUMFPKqWL4LK3T/LCraMSHGkW4bpLXR/E6LlHOVQxmslKVJ8IULktMN06N0FKCpHCoYsjC4F+Z0NVqdNFoGSTjSiyjzLdnZ2fNqTi2eHKONONKLMPMKLONKLMPQRJGlFxZRoKcJFAYEeIFiRQkUWUeYfef//Ko04soswso40UJAgMw8wosososy0EalnZyjQUGBRQGIFggOWUacWUeYmuadrZziQKKEgQsQLAhQkUJAgMQDghltLO1onp0cpkNInSFMqlYeSEJ5AHsqFdOwy1DA2sRmRJKxdKRfLhfLw5BzUxBTUUzLjk4LjJVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUxBTUUzLjk4LjJVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVf/7ksRRA8AAAaQAAAAgAAA0gAAABFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVU=";const n=t.play();n&&n.then&&n.catch(()=>{})}return wu.forEach(t=>{document.body.addEventListener(t,e,!0)}),D.a.Deferred().resolve().promise()}var Eu=He.extend({mixins:[Ne.a],initialize({appModel:e}){He.prototype.initialize.apply(this,arguments),this.appModel=e,this.listenTo(this.appModel,"change:primaryServer",this.onPrimaryServerChange)},supportsRetry:e=>!0,onPrimaryServerChange(e,t){t&&!t.get("hasEventConnection")&&(this.stop(t),this.start(t))}});function Nu(e){return e.get("isFullOwnedServer")||e.get("isFullServer")&&e.supports("sharedUserNotifications")}function xu(){let e;return z.a.hasWebSocket&&(e=new We({name:"MediaServerEventManager",appModel:Object(ne.c)("appModel"),isValidServer:Nu,supportsLongPolling:!1,allowMultipleConnections:be.a.allowMultipleWebSocketConnections,ServerEventConnection:Object(ne.c)("mediaServerEventConnection"),ServerRetryManager:Eu}),e.start()),D.a.Deferred().resolve().promise()}var Au=Ee.a.extend({mixins:Ne.a,name:"AbstractReporter",enabled:!1,destroyed:!1,_suspended:!1,initialize(e={}){!1!==e.enabled&&this.enable()},hasSupport:()=>!0,enable(){this.enabled||this.destroyed||!this.hasSupport()||(this.enabled=!0,this.listenTo(U.a,{"log:message":this.onLog,"log:group":this.onLog,"log:groupCollapsed":this.onLog,"log:groupEnd":this.onLog}),this.onEnabled())},disable(){this.enabled&&(this.enabled=!1,this.stopListening(),this.onDisabled())},destroy(){this.destroyed||(this.disable(),this.destroyed=!0,this.onDestroyed())},_suspend(){this._suspended||(this._suspended=!0,this.onSuspended())},_resume(){this._suspended&&(this._suspended=!1,this.onResumed())},onLog(e){if(this._suspended)z.a.hasConsole&&window.console.warn("[Logging] Ignored log reentrancy:",JSON.stringify(e));else{switch(this._suspend(),e.type){case"log:message":this.onLogMessage(e);break;case"log:group":this.onLogGroup(e);break;case"log:groupCollapsed":this.onLogGroupCollapsed(e);break;case"log:groupEnd":this.onLogGroupEnd(e)}this._resume()}},onLogMessage(){},onLogGroup(){},onLogGroupCollapsed(){this.onLogGroup.apply(this,arguments)},onLogGroupEnd(){},onEnabled(){},onDisabled(){},onResumed(){},onSuspended(){},onDestroyed(){}});const Lu={[C.a.LEVEL_LOG]:"log",[C.a.LEVEL_DEBUG]:"debug",[C.a.LEVEL_INFO]:"info",[C.a.LEVEL_WARN]:"warn",[C.a.LEVEL_ERROR]:"error"};var ku=Au.extend({name:"ConsoleReporter",hasSupport:()=>z.a.hasConsole,onLogMessage(e){const t=e.message,i=Lu[e.level];(window.console[i]||window.console.log).call(window.console,t)},onLogGroup(e){(window.console.group||window.console.log).call(window.console,e.message)},onLogGroupCollapsed(e){(window.console.groupCollapsed||window.console.log).call(window.console,e.message)},onLogGroupEnd(){window.console.groupEnd&&window.console.groupEnd()}});function Ru(){return new ku,D.a.Deferred().resolve().promise()}var zu=R.AppRouter.extend({initialize:function(){this.uniqueRoutes=I.a.uniq(I.a.values(this.appRoutes)),this.fragments=I.a.invert(this.appRoutes),this.listenTo(this,"route",this.onRoute),this.listenTo(U.a,"navigate",this.onNavigate)},resolveUrlFragment:function(e,t){const i=e.match(/:\w+/g);return i&&I.a.each(i,(function(i){const n=i.slice(1),a=t[n];if(null==a){const t=new RegExp("\\([^\\)]*"+i+"[^\\)]*\\)","g");e=e.replace(t,"")}else e=e.replace(i,encodeURIComponent(a))})),e.replace(/\(|\)/g,"")},onRoute:function(e){const t=ne.c("appModel"),i=Array.from(t.get("history")),n=Array.from(t.get("forwardHistory")),a=v.c.history.getFragment();a===n[0]?i.push(n.shift()):a!==I.a.last(i)&&(i.push(a),n.splice(0)),t.set({history:i,forwardHistory:n})},onNavigate:function(e,t){if(-1===I.a.indexOf(this.uniqueRoutes,e))return;t||(t={});let i=!1;if(null!=t.silent&&(i=t.silent,delete t.silent),null==t.trigger&&(t.trigger=!0),i)this.controller[e].apply(this.controller,I.a.values(t));else{const i=this.resolveUrlFragment(this.fragments[e],t);this.navigate(i,{trigger:t.trigger,replace:t.replace})}}}),Uu=i("gcR/"),Vu=i.n(Uu),Bu=i("i8i4"),Fu=i.n(Bu),Hu=i("/MKj");var _u=R.Layout.extend({template:()=>"",mountReact(){const e=Object(ne.c)("appStore");Fu.a.render(Vu()(Hu.a,{store:e},void 0,this.component(this.options)),this.el)},unmountReact(){this.isRendered&&Fu.a.unmountComponentAtNode(this.el)},onBeforeRender(){this.unmountReact()},onRender(){this.mountReact()},onClose(){this.unmountReact()}}),Wu=i("G4qV"),Qu=i("t2mA");function Gu(e){return e.entities}var Ku=Object(Wu.a)(Gu,e=>e.servers);var Yu=Object(Wu.a)(Ku,e=>e.cloudServer,(e,t)=>e[t]);var qu=Object(Wu.a)(Ku,e=>e.servers,e=>e.embeddedServer,(e,t,i)=>{const n=t?t.map(t=>e[t]):[];return i&&e[i]&&n.push(e[i]),n}),Zu=i("Zl7H");const{useEffect:Ju,useRef:Xu}=Nd.a;function $u(e,t=!0){const i=Xu(!1);Ju(()=>{if(t&&!i.current)return i.current=!0,e()},[t,e,i])}var ep=i("pVnL"),tp=i.n(ep),ip=(i("YxO1"),i("dsvT")),np=i("7epD"),ap=i.n(np);const sp=Nd.a.createElement,{useCallback:rp,useEffect:op,useRef:lp}=Nd.a;let cp;function dp({forwardedRef:e,className:t=ap.a.scroller,style:i,children:n,scrollDirection:a=cp.Vertical,autoScroll:s=!0,smoothScroll:r=!1,targetScrollTop:o,targetScrollLeft:l,onScrollPositionChange:c}){const d=lp(null),u=rp(e=>{c&&null!=d.current&&d.current===e.target&&c({scrollTop:d.current.scrollTop,scrollLeft:d.current.scrollLeft})},[d,c]);return op(()=>{null==d.current||null==o&&null==l||d.current.scrollTo({top:o,left:l,behavior:r?"smooth":"auto"})},[d,o,l,r]),sp("div",{className:(t||"")+" "+(ap.a[a]||"")+" "+(s&&ap.a.auto||""),style:i,ref:Object(ip.a)(e,d),onScroll:u},n)}!function(e){e.None="none",e.Vertical="vertical",e.Horizontal="horizontal",e.Omni="omni"}(cp||(cp={}));var up=Nd.a.forwardRef((e,t)=>sp(dp,tp()({},e,{forwardedRef:t}))),pp=i("x/40"),hp=i.n(pp);const mp=Nd.a.createElement;function gp(e){let{children:t,className:i=hp.a.emptyPageContentScroller,contentClassName:n=hp.a.content,icon:a,titleClassName:s=hp.a.title,iconSrc:r,title:o,descriptionClassName:l=hp.a.description,description:c,footerClassName:d=hp.a.footer,footer:u}=e,p=Xe()(e,["children","className","contentClassName","icon","titleClassName","iconSrc","title","descriptionClassName","description","footerClassName","footer"]);return mp(up,tp()({className:i},p),Vu()("div",{className:n},void 0,a?Vu()("span",{className:hp.a.icon},void 0,a):null,r?Vu()("img",{className:hp.a.imgIcon,src:r}):null,o?Vu()("div",{className:s},void 0,o):null,c?Vu()("div",{className:l},void 0,c):null,t),u?Vu()("div",{className:d},void 0,u):null)}var vp;!function(e){e.Tiny="tiny",e.Small="small",e.Medium="medium",e.Large="large"}(vp||(vp={}));var yp=vp,fp=i("DUT6"),bp=i.n(fp);function Ip({className:e=bp.a.spinner,size:t=yp.Medium}){return Vu()("div",{className:(e||"")+" "+(bp.a[t]||""),"aria-label":Object(Ze.default)("Loading")})}function Sp(){const e=document.activeElement;return e&&e.dataset&&e.dataset.uid||null}let Cp=0;var Mp=function(){return"id-"+Cp++};const Dp="default",Pp="primary",Op="danger",jp="dark";function wp(e,t){if(e===t)return!0;const i=Object.keys(e),n=Object.keys(t);if(i.length!==n.length)return!1;const a=Object.prototype.hasOwnProperty;for(let n=0;n<i.length;n++)if(!a.call(t,i[n])||e[i[n]]!==t[i[n]])return!1;return!0}function Tp(e,t,i,n,a){const s=a||wp;let r=s(e.props,t);return r&&(r=s(e.state,i),r&&n&&(r=s(e.context,n))),!r}var Ep=i("3oIs"),Np=i("WtXS"),xp=i.n(Np);const Ap=Nd.a.createElement,{Component:Lp}=Nd.a;let kp=null;Ep.a&&window.addEventListener("blur",()=>{kp=Sp()});class Rp extends Lp{constructor(e,t){super(e,t),this._isActive=void 0,this._isFocused=void 0,this._isTouch=void 0,this._preventFocus=void 0,this._preventOnClick=void 0,this._ref=void 0,this._uid=void 0,this.onTouchStart=e=>{this._isTouch=!0,this._preventFocus=this._shouldPreventFocus(),1===e.touches.length&&this._activate(!0),this.props.onTouchStart&&this.props.onTouchStart(e)},this.onTouchMove=e=>{this._activate(!1),this.props.onTouchMove&&this.props.onTouchMove(e)},this.onTouchEnd=e=>{const{to:t,target:i,isDisabled:n,onTouchEnd:a}=this.props;this._isActive&&!n&&(!t||i&&"_self"!==i||(e.preventDefault(),window.location.href=t),this._press(e)),this._activate(!1),a&&a(e)},this.onTouchCancel=e=>{this._isTouch=!1,this._activate(!1),this.props.onTouchCancel&&this.props.onTouchCancel(e)},this.onMouseDown=e=>{this._isTouch||(this._preventFocus=this._shouldPreventFocus(),0===e.button&&this._activate(!0),this.props.onMouseDown&&this.props.onMouseDown(e))},this.onMouseUp=e=>{if(this._isTouch)return;const{isDisabled:t,onMouseUp:i}=this.props;this._isActive&&!t&&(this._press(e),this._preventOnClick=!0),this._activate(!1),i&&i(e)},this.onMouseLeave=e=>{this._isTouch||(this._isActive&&this.setState({isActive:!1}),this.props.onMouseLeave&&this.props.onMouseLeave(e))},this.onClick=e=>{this._preventFocus=!1;const{isDisabled:t}=this.props;this._preventOnClick||this._isTouch||this._isActive||!this._isFocused||t||this._press(e),this._preventOnClick=!1,this._isTouch=!1},this.onFocus=e=>{this._preventFocus?this._preventFocus=!1:this._uid!==kp?(this._focus(!0),this.props.onFocus&&this.props.onFocus(e)):kp=null},this.onBlur=e=>{this._focus(!1),this.props.onBlur&&this.props.onBlur(e)},this._preventFocus=!1,this._preventOnClick=!1,this._isTouch=!1,this._isActive=!1,this._isFocused=!1,this._uid=Mp(),this.state={isActive:!1,isFocused:!1},this._ref=Nd.a.createRef()}componentDidMount(){!this.props.isDisabled&&this.props.focusOnEnabled&&this._ref.current.focus()}shouldComponentUpdate(e,t){return Tp(this,e,t)}componentDidUpdate(e){const t=this.props.focusOnEnabled&&!this.props.isDisabled,i=e.focusOnEnabled&&!e.isDisabled;t&&!i&&this._ref.current.focus()}_activate(e){this._isActive=e,this.setState({isActive:e})}_focus(e){this._isFocused=e,this.setState({isFocused:e})}_shouldPreventFocus(){if(this.props.allowFocusOnPress)return!1;return!(Sp()===this._uid)}_press(e){const{onPress:t}=this.props;t&&t(e)}render(){const e=this.props,{className:t,to:i,kind:n,size:a,isSelected:s,isDisabled:r,component:o,role:l}=e,c=Xe()(e,["className","to","kind","size","isSelected","isDisabled","component","allowFocusOnPress","role","focusOnEnabled","onPress"]),{isActive:d,isFocused:u}=this.state,p={"data-uid":this._uid};let h=o;return i&&(h="a",p.href=i),p.role=l||(i?"link":"button"),p.className=(t||"")+" "+(xp.a.link||"")+" "+(xp.a[n]||"")+" "+(a&&xp.a[a]||"")+" "+(s&&xp.a.isSelected||"")+" "+(d?"isActive":"")+" "+(u?"isFocused":"")+" "+(r?"isDisabled":""),"button"!==h&&"input"!==h||(p.type=c.type||"button",p.disabled=r),Ap(h,Object.assign({},c,p,{ref:this._ref,onTouchStart:this.onTouchStart,onTouchMove:this.onTouchMove,onTouchEnd:this.onTouchEnd,onTouchCancel:this.onTouchCancel,onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onMouseLeave:this.onMouseLeave,onClick:this.onClick,onFocus:this.onFocus,onBlur:this.onBlur}))}}Rp.defaultProps={component:"button",kind:Dp,isSelected:!1,isDisabled:!1,allowFocusOnPress:!1};var zp=Rp;const Up="https://forums.plex.tv",Vp="https://www.plex.tv/tidal",Bp="?utm_source=Plex%20Apps&utm_medium=Plex%20Web&utm_campaign=Plex%20Apps",Fp="https://support.plex.tv"+Bp,Hp="https://support.plex.tv/articles/community-supported-tuners/"+Bp,_p="https://support.plex.tv/articles/206225077-how-to-use-secure-server-connections/"+Bp,Wp="https://support.plex.tv/hc/en-us/articles/115002267687-Webhooks/"+Bp;var Qp=i("LiCP"),Gp=i.n(Qp),Kp=i("Ckcz"),Yp=i.n(Kp);function qp(e,t,i){let n=0;return Nd.a.Children.map(e,e=>{if(Nd.a.isValidElement(e)){const a=n;return n++,t.call(i,e,a)}return e})}const Zp="none";var Jp=i("YuNx"),Xp=i.n(Jp);const $p=Nd.a.createElement,{Component:eh}=Nd.a;class th extends eh{constructor(e,t){super(e,t),this._animationFrameID=void 0,this._currentScrollLeft=void 0,this._currentScrollTop=void 0,this._scrollTimeoutID=void 0,this._scrollToPosition=void 0,this._scrollToTween=void 0,this._scrollerRef=void 0,this.onScroll=e=>{if(e.target!==this._scrollerRef.current)return;const t=e.target.scrollTop,i=e.target.scrollLeft,n=t!==this._currentScrollTop,a=i!==this._currentScrollLeft;(n||a)&&this._setScrollPosition({scrollTop:t,scrollLeft:i}),this.props.onScroll&&this.props.onScroll(e)},this.onScrollPositionChange=()=>{this._animationFrameID=null,this.props.onScrollPositionChange({scrollTop:this._currentScrollTop,scrollLeft:this._currentScrollLeft})},this.onScrollTimeout=()=>{this.setState({isScrolling:!1})},this.onScrollToUpdate=()=>{this._updateScrollPosition(this._scrollToPosition),this.props.onScrollToUpdate&&this.props.onScrollToUpdate(this._scrollToPosition)},this.onScrollToComplete=()=>{this._scrollToTween=null,this._scrollToPosition=null,this.props.onScrollToComplete&&this.props.onScrollToComplete()},this.state={isScrolling:!1},this._scrollerRef=e.forwardedRef||Nd.a.createRef(),this._currentScrollTop=0,this._currentScrollLeft=0}componentDidMount(){this._scrollTo(this.props)}componentWillReceiveProps(e){e.scrollTop===this.props.scrollTop&&e.scrollLeft===this.props.scrollLeft||this.setState({isScrolling:!0})}shouldComponentUpdate(e,t){return Tp(this,e,t)}componentDidUpdate(e){this.state.isScrolling&&(this._scrollTimeoutID&&window.clearTimeout(this._scrollTimeoutID),this._scrollTimeoutID=window.setTimeout(this.onScrollTimeout,this.props.isScrollingTimeout)),this._scrollTo(this.props)}componentWillUnmount(){this._clearTimeouts(),this._cancelScrollTo()}_setScrollPosition({scrollTop:e,scrollLeft:t}){this._clearTimeouts(),this._currentScrollTop=e,this._currentScrollLeft=t,this._animationFrameID=window.requestAnimationFrame(this.onScrollPositionChange)}_updateScrollPosition({scrollTop:e,scrollLeft:t}){const i=this._scrollerRef.current;null!=e&&(i.scrollTop=e),null!=t&&(i.scrollLeft=t)}_scrollTo({scrollTop:e,scrollLeft:t}){if(null==e&&null==t)return;const i=null!=e&&e!==this._currentScrollTop,n=null!=t&&t!==this._currentScrollLeft;if(!i&&!n)return;if(!this.props.smoothScroll&&!this.props.restoreScroll)return this._currentScrollTop=e,this._currentScrollLeft=t,void this._updateScrollPosition({scrollTop:e,scrollLeft:t});const a=this.props.smoothScrollDuration/1e3,s={ease:Yp.a.Power3.easeOut,onUpdate:this.onScrollToUpdate,onComplete:this.onScrollToComplete};this._scrollToPosition={};const r=this._scrollerRef.current;i&&(s.scrollTop=Math.min(e,r.scrollHeight-r.clientHeight),this._scrollToPosition.scrollTop=r.scrollTop),n&&(s.scrollLeft=Math.min(t,r.scrollWidth-r.clientWidth),this._scrollToPosition.scrollLeft=r.scrollLeft),this._cancelScrollTo(),this._scrollToTween=Gp.a.to(this._scrollToPosition,a,s)}_cancelScrollTo(){this._scrollToTween&&(this._scrollToTween.kill(),this._scrollToTween=null)}_clearTimeouts(){this._animationFrameID&&window.cancelAnimationFrame(this._animationFrameID),this._scrollTimeoutID&&window.clearTimeout(this._scrollTimeoutID)}render(){const e=this.props,{className:t,children:i,scrollDirection:n,autoScroll:a,compactScroller:s,enableChildrenProps:r,onScroll:o,onScrollPositionChange:l}=e,c=Xe()(e,["className","children","scrollDirection","autoScroll","compactScroller","enableChildrenProps","onScroll","onScrollPositionChange","forwardedRef","smoothScroll","restoreScroll","smoothScrollDuration","scrollTop","scrollLeft","isScrollingTimeout","onScrollToUpdate","onScrollToComplete"]);return $p("div",tp()({className:(t||"")+" "+(Xp.a.scroller||"")+" "+(Xp.a[n]||"")+" "+(a&&Xp.a.auto||"")+" "+(s&&Xp.a.compactScroller||""),ref:this._scrollerRef,onScroll:l?this.onScroll:o},c),r?qp(i,e=>Nd.a.cloneElement(e,{isScrolling:this.state.isScrolling,scrollTop:this._currentScrollTop,scrollLeft:this._currentScrollLeft})):i)}}th.defaultProps={scrollDirection:"vertical",autoScroll:!1,smoothScroll:!0,restoreScroll:!1,smoothScrollDuration:400,enableChildrenProps:!1,isScrollingTimeout:100};var ih=Nd.a.forwardRef((e,t)=>$p(th,tp()({},e,{forwardedRef:t}))),nh=i("a7ba"),ah=i.n(nh);var sh=function({children:e}){return Vu()("div",{className:ah.a.description},void 0,e)},rh=i("4Vl1"),oh=i.n(rh);const lh=Nd.a.createElement;function ch(e){const{contentClassName:t,iconClassName:i,titleClassName:n,footerClassName:a,children:s,kind:r,iconComponent:o,iconSrc:l,title:c,description:d,footer:u}=e,p=Xe()(e,["contentClassName","iconClassName","titleClassName","footerClassName","children","kind","iconComponent","iconSrc","title","description","footer"]);return lh(ih,tp()({className:oh.a.emptyPage},p),Vu()("div",{className:t},void 0,l?Vu()("img",{className:oh.a.imgIcon,src:l}):null,o?Vu()("span",{className:i},void 0,Vu()(o,{className:oh.a[r]})):null,c?Vu()("div",{className:n},void 0,c):null,d?Vu()(sh,{},void 0,d):null,s),u?Vu()("div",{className:a},void 0,u):null)}ch.defaultProps={contentClassName:oh.a.content,iconClassName:oh.a.icon,titleClassName:oh.a.title,footerClassName:oh.a.footer,kind:Dp};var dh=ch;function uh(e){var t=e["aria-label"],i=e.className,n=e.style,a={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-alert-560"};a["aria-hidden"]=!t,a.style=n,a.className=Ad.a.plexIcon+(i?" "+i:"");var s=[Nd.a.createElement.apply(Nd.a,["path",{d:"m280 0l-280 520 560 0-280-520m0 400c22.077 0 40 17.923 40 40 0 22.077-17.923 40-40 40-22.077 0-40-17.923-40-40 0-22.077 17.923-40 40-40m-30-40l0-220 60 0 0 220-60 0"}].concat([]))];return t&&s.unshift(Nd.a.createElement("title",null,t)),Nd.a.createElement.apply(Nd.a,["svg",a].concat(s))}uh.propTypes={"aria-label":vc.a.string,className:vc.a.string,style:vc.a.object};var ph=uh,hh=i("Nc8A"),mh=i.n(hh);const gh=Nd.a.createElement;var vh=function(e){return gh(dh,tp()({iconClassName:mh.a.icon,iconComponent:ph},e))};var yh=function(){return Vu()(vh,{title:Object(Ze.default)("Plex is down for maintenance"),description:Object(Ze.default)("Don't worry, it will be back soon")},void 0,Vu()(zp,{to:"https://status.plex.tv",target:"_blank",kind:Pp},void 0,"status.plex.tv"))};var fh=function(){return Vu()(vh,{title:Object(Ze.default)("Plex is not reachable"),description:Object(Ze.default)("We are unable to connect to plex.tv at this time. Please try again later.")})};const{useEffect:bh,useState:Ih}=Nd.a;var Sh=Vu()(yh,{}),Ch=Vu()(fh,{}),Mh=Vu()(gp,{},void 0,Vu()(Ip,{}));function Dh(e){const{children:t,isWaitingForServers:i,isAnyServerAuthenticated:n,isWaitingForCloudServer:a,isAccountRequired:s,isCloudServerUnauthorized:r,isCloudServerConnected:o,isCloudServerUnavailable:l,isCloudServerDownForMaintenance:c,hasAttemptedSignIn:d,isUserLocked:u,isUserFeaturesPopulated:p,isUserFeaturesError:h,onPopulateUserFeatures:m}=e,g=Ih(h||p),v=g[1],y=g[0],f=(d||l)&&!u,b=f&&o,I=p||h||y||l,S=!i&&!n&&!c&&!l&&f||s&&r;if(bh(()=>{if(b){const e=window.setTimeout(()=>v(!0),5e3);return()=>window.clearTimeout(e)}},[b]),bh(()=>{b&&m()},[b,m]),$u(()=>{U.a.trigger("navigate","login")},S),n&&I&&f&&(!s||o))return t;if(!a&&(s||!i&&!n)){if(c)return Sh;if(l)return Ch}return Mh}Dh.defaultProps={isAccountRequired:!1};var Ph=Dh;const Oh=Object(Wu.a)(e=>e.downloads,e=>!!e&&(!e.isSubscriptionsPopulated&&!e.subscriptionsError)),jh=Object(Wu.a)(e=>e.downloads,e=>!!(e&&e.subscriptions&&e.subscriptions.length>0)),wh=Object(Wu.a)(qu,e=>e.some(e=>e.isCloud&&e.isResolved||!e.isCloud&&e.isConnected)),Th=Object(Wu.a)(e=>e.isWaitingForServers,Oh,wh,jh,Zu.a,Yu,(e,t,i,n,a,s)=>({isWaitingForServers:e||t,isAnyServerAuthenticated:i||n,isWaitingForCloudServer:!s.isResolved&&!s.isRejected,isCloudServerUnauthorized:s.isUnauthorized,isCloudServerConnected:s.isConnected,isCloudServerUnavailable:s.isUnavailable,isCloudServerDownForMaintenance:s.isDownForMaintenance,hasAttemptedSignIn:a.hasAttemptedSignIn,isUserLocked:a.isLocked,isUserFeaturesPopulated:a.isFeaturesPopulated,isUserFeaturesError:!!a.featuresError})),Eh={onPopulateUserFeatures:Qu.j};var Nh=Object(Hu.b)(Th,Eh)(Ph),xh=i("EIzA"),Ah=i.n(xh);function Lh(e){const{className:t,children:i}=e;return Vu()("div",{className:t},void 0,i)}Lh.defaultProps={className:Ah.a.container};var kh=Lh,Rh=i("GTkx"),zh=i.n(Rh);const Uh=Nd.a.createElement;function Vh(e){return Uh(kh,e)}Vh.defaultProps={className:zh.a.container};var Bh=Vh;const Fh="small",Hh="medium",_h="large";var Wh={defaultColor:"#fff",quietColor:"#a8a8a8",inverseColor:"#222",primaryColor:"#cc7b19",primaryAlternateColor:"#e5a00d",selectedColor:"#e5a00d",successColor:"#6b5",dangerColor:"#f53",warningColor:"#f0ad4e",focusColor:"#7eb0d5",appBackgroundColor:"#444f56",darkOpaqueBackgroundColor:"#1f2326",blackDarkTranslucentBackgroundColor:"rgba(0, 0, 0, 0.15)",blackDarkerTranslucentBackgroundColor:"rgba(0, 0, 0, 0.3)",lightTranslucentBackgroundColor:"rgba(255, 255, 255, 0.15)",badgeBackgroundColor:"rgba(0, 0, 0, 0.15)",defaultBadgeColor:"rgba(255, 255, 255, 0.7)",defaultLinkColor:"rgba(255, 255, 255, 0.7)",defaultLinkHoverColor:"#fff",defaultLinkDisabledLinkColor:"rgba(255, 255, 255, 0.3)",selectedLinkColor:"#e5a00d",selectedLinkHoverColor:"color(#e5a00d lightness(+15%))",defaultBackgroundColor:"rgba(255, 255, 255, 0.25)",defaultHoverBackgroundColor:"rgba(255, 255, 255, 0.3)",defaultActiveBackgroundColor:"rgba(255, 255, 255, 0.2)",defaultDisabledBackgroundColor:"rgba(255, 255, 255, 0.15)",primaryButtonColor:"#1f2326",primaryBackgroundColor:"#e5a00d",primaryHoverBackgroundColor:"color(#e5a00d lightness(+10%))",primaryActiveBackgroundColor:"color(#e5a00d blackness(+20%))",primaryDisabledColor:"rgba(0, 0, 0, 0.4)",primaryDisabledBackgroundColor:"color(#e5a00d blackness(+50%))",quietBackgroundColor:"rgba(255, 255, 255, 0.08)",quietHoverBackgroundColor:"rgba(255, 255, 255, 0.1)",quietActiveBackgroundColor:"rgba(255, 255, 255, 0.06)",successBackgroundColor:"#3d7832",successHoverBackgroundColor:"color(#3d7832 lightness(+5%))",successActiveBackgroundColor:"color(#3d7832 blackness(+10%))",successDisabledBackgroundColor:"color(#3d7832 blackness(+30%))",dangerBackgroundColor:"#b32",dangerHoverBackgroundColor:"color(#b32 lightness(+5%))",dangerActiveBackgroundColor:"color(#b32 blackness(+10%))",dangerDisabledBackgroundColor:"color(#b32 blackness(+30%))",darkBackgroundColor:"rgba(0, 0, 0, 0.3)",darkHoverBackgroundColor:"rgba(255, 255, 255, 0.3)",darkActiveBackgroundColor:"rgba(255, 255, 255, 0.2)",darkDisabledBackgroundColor:"rgba(255, 255, 255, 0.15)",headerColor:"rgba(255, 255, 255, 0.3)",dimColor:"rgba(255, 255, 255, 0.45)",secondaryContentColor:"rgba(255, 255, 255, 0.75)",shadowColor:"rgba(0, 0, 0, 0.35)",dividerColor:"rgba(0, 0, 0, 0.3)",scrollbarBackgroundColor:"rgba(255, 255, 255, 0.2)",scrollbarHoverBackgroundColor:"rgba(255, 255, 255, 0.3)",scrollbarInactiveBackgroundColor:"rgba(255, 255, 255, 0.05)",errorBackgroundColor:"rgba(255, 85, 51, 0.3)",inputBackgroundColor:"rgba(255, 255, 255, 0.25)",inputFocusBackgroundColor:"#eee",inputColor:"#eee",inputFocusColor:"#555",inputPlaceholderColor:"#afb0b1",inputDisabledOpacity:"0.5",formSectionBackgroundColor:"rgba(0, 0, 0, 0.3)",formSectionHoverBackgroundColor:"rgba(0, 0, 0, 0.15)",modalBackdropBackgroundColor:"rgba(102, 102, 102, 0.6)",modalBackgroundColor:"#2d2d2d",modalBodyBackgroundColor:"rgba(0, 0, 0, 0.15)",menuBackgroundColor:"#191a1c",menuDisabledBackgroundColor:"#2d2d2d",menuItemHoverBackgroundColor:"rgba(255, 255, 255, 0.08)",menuItemActiveBackgroundColor:"rgba(255, 255, 255, 0.15)",menuSeparatorBackgroundColor:"rgba(200, 200, 200, 0.15)",tooltipBackgroundColor:"#191a1c",pageHeaderBackgroundColor:"rgba(0, 0, 0, 0.7)",pageHeaderLinkColor:"#999",pageHeaderLinkHoverColor:"#eee",pageHeaderColor:"rgba(255, 255, 255, 0.75)",searchInputBackgroundColor:"rgba(255, 255, 255, 0.25)",searchFocusBackgroundColor:"#eee",searchInputColor:"#eee",searchInputFocusColor:"#555",searchImagePlaceholderBackgroundColor:"rgba(255, 255, 255, 0.1)",searchHoverResultBackgroundColor:"rgba(255, 255, 255, 0.05)",searchSelectedResultBackgroundColor:"rgba(255, 255, 255, 0.08)",searchResultTitleColor:"rgba(255, 255, 255, 0.75)",searchResultTitleSelectedColor:"rgba(255, 255, 255, 1)",searchResultSecondaryTitleColor:"rgba(255, 255, 255, 0.3)",sidebarBackgroundColor:"rgba(0, 0, 0, 0.15)",sidebarMenuButtonBackgroundColor:"rgba(0, 0, 0, 0.3)",sidebarMenuButtonHoverBackgroundColor:"rgba(0, 0, 0, 0.45)",sidebarMenuButtonActiveBackgroundColor:"rgba(0, 0, 0, 0.75)",stripeListAlternateBackgroundColor:"rgba(255, 255, 255, 0.02)",stripeListHoverBackgroundColor:"rgba(255, 255, 255, 0.06)",stripeListSelectedBackgroundColor:"rgba(0, 0, 0, 0.15)"},Qh=i("4asQ"),Gh=i.n(Qh);function Kh({className:e,containerClassName:t,labelClassName:i,size:n,color:a,label:s,loadingLabel:r}){const o=(e||"")+" "+(Gh.a[n]||""),l={borderTopColor:a,borderLeftColor:a};return s?Vu()("div",{className:(t||"")+" "+(Gh.a.spinnerContainer||"")},void 0,Vu()("div",{className:o,style:l}),Vu()("div",{className:(i||"")+" "+(Gh.a.spinnerLabel||"")},void 0,s)):Vu()("div",{className:o,style:l,"aria-label":r})}Kh.defaultProps={size:Hh,color:Wh.primaryColor};var Yh=Kh;const qh=Nd.a.createElement;function Zh(e){return qh(Yh,tp()({},e,{loadingLabel:Object(Ze.default)("Loading")}))}Zh.defaultProps=Yh.defaultProps;var Jh=Zh;const{useEffect:Xh}=Nd.a;var $h=Vu()(dh,{},void 0,Vu()(Jh,{}));var em=function(e){const{primaryServerMachineIdentifier:t,isPrimaryServerShared:i,isWaitingForPrimaryServer:n}=e;return Xh(()=>{t&&ra(i?"sync":"alerts",{serverID:t})},[t,i]),t||n?$h:Vu()(vh,{title:Object(Ze.default)("Media server not found"),description:Object(Ze.default)("The server you're trying to access doesn't seem to exist.")})};var tm=Object(Hu.b)((function(){return Object(Wu.a)(e=>e.primaryServer,e=>e.isWaitingForPrimaryServer,qu,(e,t,i)=>{const n=i.find(t=>t.entityID===e);return{primaryServerMachineIdentifier:n&&n.machineIdentifier,isPrimaryServerShared:n&&n.isShared,isWaitingForPrimaryServer:t}})}))(em),im=Vu()(Nh,{},void 0,Vu()(tm,{}));var nm=_u.extend({component:()=>Vu()(Bh,{},void 0,im)});var am=nt.extend({idAttribute:"key",whitelistedAttrs:["key","name","defaultAudioLanguage","autoSelectAudio","defaultSubtitleLanguage","subtitleMode"],url:function(){return this.get("key")},convert:function(e){let t=I.a.isObject(e)?e:Be.a.parseXML(e);return t.Account&&(t=t.Account),Be.a.parseBoolean(t,"autoSelectAudio"),t},parse:function(e){let t=this.convert(e);return t=I.a.pick(t,this.whitelistedAttrs),t}}),sm=i("Gu3x");function rm(e){return Object(pt.a)(ht.k,jt.d,e)}var om=i("Dsr7");var lm=om.a.extend({maxCycles:3,maxSize:20,get:function(e){const t=om.a.prototype.get.apply(this,arguments);return t&&t.every((function(e){return!(!e.cache||!e.cache.isListening)&&(e.cache.store(e),!0)})),t},getItemCacheKey:function(e){let t=I.a.result(e,"url");return e.server&&(t=e.server.getScopedKey(t)),e.provider&&(t=e.provider.getScopedKey(t)),t}});const cm=v.c.Collection.extend({mixins:[et.a],cache:new lm,constructor:function(e,t){if(t||(t={}),this.server=t.server,this.section=t.section,this.channel=t.channel,this.device=t.device,this.parent=t.parent,this.allowInCache=t.allowInCache,this.persistInCache=t.persistInCache,this.skipCache=t.skipCache,t.url&&(this.url=t.url),t.path&&(this.path=t.path),null==t.pageStart&&null==t.pageSize||(this.pageStart=t.pageStart||0,this.pageSize=t.pageSize||0),t.populated&&this.resetPopulatePromise(D.a.Deferred().resolve().promise()),!t.allowInCache&&!t.persistInCache)return void v.c.Collection.prototype.constructor.apply(this,arguments);this.initialize.apply(this,arguments);const i=this.cache.getItemCacheKey(this);let n=this.cache.get(i);if(this.uninitialize(),t.onlyIfCached&&(n||(n={})),n)return n;v.c.Collection.prototype.constructor.apply(this,arguments),this.cache.store(this,i)},uninitialize:function(){this.stopListening()},sync:function(){return(this.allowInCache||this.persistInCache)&&this.cache.store(this),v.c.sync.apply(this,arguments)},syncUrl:function(){let e="";if(this.url&&(e=I.a.result(this,"url")),this.path&&(e=V.join([e,I.a.result(this,"path")])),null!=this.pageStart||null!=this.pageSize){const t={"X-Plex-Container-Start":this.pageStart||0,"X-Plex-Container-Size":this.pageSize||0};e=V.join(e,t)}return e},convert:function(e,t){const i=I.a.isObject(e)?e:Be.a.parseXML(e);if(!t)return i;let n=i[t];return n?(Array.isArray(n)||(n=[n]),n):[]},clone:function(e){const t={server:this.server,section:this.section,parent:this.parent,url:this.url};return e||(e=this.models),new this.constructor(e,t)},cloneDeep:function(e){return e||(e=this.map((function(e){return e.clone()}))),this.clone(e)},clear:function(e){e=I.a.extend({silent:!0},e),this.abortPendingPopulate(),this.resetPopulatePromise(null),this.reset([],e)}});cm.extend=function(){const e=v.c.Collection.extend.apply(this,arguments);return e.prototype.cache=new lm,e};var dm=cm,um=i("vjRy");var pm=nt.extend({idAttribute:"ratingKey",whitelistedAttrs:["guid","addedAt","composite","duration","key","leafCount","playlistType","ratingKey","smart","summary","title","type","allowSync"],defaults:function(){return{children:new um.default([],{server:this.server,parent:this,url:function(){const e="/playlists/"+this.parent.id+"/items";let t;return"audio"===this.parent.get("playlistType")&&(t={includeRelated:1}),V.join(e,t)}})}},urlRoot:"/playlists",saveUrl:function(){return"/library/metadata/"+this.id},cacheKey:function(e){if(e.key)return this.server&&this.server.getScopedKey(e.key)},initialize:function(){this.listenToOnce(this.get("children"),"add",(function(e){this.set("art",e.get("art"))}))},sync:function(e,t,i){const n=ot.addVersionHeader(2,i);return nt.prototype.sync.call(this,e,t,n)},parse:function(e){let t=this.convert(e);return t.Playlist&&(t=t.Playlist),Be.a.parseInteger(t,["duration","leafCount","addedAt"]),Be.a.parseBoolean(t,["smart","allowSync"]),t.isPlaylist=!0,t},findItem:function(e){return this.get("children").findWhere({playlistItemID:e})},moveItem:function(e,t){const i=t?{after:t}:{},n=V.join([I.a.result(this,"url"),"/items/",e,"/move"],i),a=I.a.extend(this.server.getXHROptions(n),{type:"PUT"}),s=D.a.ajax(a),r=this.get("children"),o=this.findItem(e);r.remove(o);const l=this.findItem(t),c=l?r.indexOf(l)+1:0;return r.add(o,{at:c}),s},removeItem:function(e){e=e.toString();const t=V.join([I.a.result(this,"url"),"/items/",e]),i=I.a.extend(this.server.getXHROptions(t),{type:"DELETE"}),n=D.a.ajax(i);n.then(I.a.bind((function(e){this.set(this.parse(e))}),this));const a=this.get("children"),s=this.findItem(e);return a.remove(s),n},addContent:function(e,t){const i=this.isNew()?"POST":"PUT",n=[I.a.result(this,"url")],a={};this.isNew()?(a.type=this.get("playlistType"),a.title=this.get("title"),a.smart=this.get("smart")?1:0):n.push("/items"),e.get("playQueueID")?a.playQueueID=e.get("playQueueID"):a.uri=lt.a.uri(e,t);const s=V.join(n,a),r=I.a.extend(e.server.getXHROptions(s),{type:i}),o=D.a.ajax(r);return o.then(I.a.bind((function(e){this.set(this.parse(e))}),this)),o.promise()},isLibraryItem:function(){return!0},isPlexMusicItem:function(){return!1}});var hm=ke.a.extend({name:"VersionGeneratorCollection",context:["server"],model:$o,url(){return V.join(["playlists",this.parent.id,"items"],{type:na.LOCAL})}}),mm=pm.extend({defaults:function(){return{children:new hm([],{server:this.server,parent:this})}},findItem:function(e){return this.get("children").get(e)},addContent:function(e){var t=[I.a.result(this,"url"),"items",e.id],i=V.join(t,e.getSaveParams()),n=I.a.extend(e.server.getXHROptions(i),{type:"PUT"}),a=D.a.ajax(n);return a.then(I.a.bind((function(e){this.set(this.parse(e))}),this)),a.promise()}}),gm=dm.extend({model:mm,url:"/playlists?type="+na.LOCAL,parse:function(e){return this.convert(e,"Playlist")}}),vm=i("j9Wk"),ym=nt.extend({idAttribute:"playQueueID",whitelistedAttrs:["playQueueID","playQueueSelectedItemID","playQueueSelectedItemOffset","playQueueSelectedMetadataItemID","playQueueLastAddedItemID","playQueueShuffled","playQueueSourceURI","playQueueTotalCount","playQueueVersion","message"],defaults:{selectedItem:null,mediaType:null,owned:!0,hasUserAdditions:!1,playQueueVersion:0},metadataElementNames:["Directory","Video","Track","Photo","Hub"],url:function(){return"/playQueues/"+this.id},initialize:function(){this.listenTo(this,"change:message",this.onMessageChange)},_fetch:function(){var e=I.a.result(this,"url");return this._ajax("GET",e)},convert:function(e){var t=I.a.isObject(e)?e:Be.a.parseXML(e);return Be.a.parseBoolean(t,"playQueueShuffled"),Be.a.parseInteger(t,["playQueueSelectedItemOffset","playQueueTotalCount","playQueueVersion"]),Be.a.parseArray(t,"Metadata"),t},parse:function(e,t){I.a.isString(e)&&(e=Be.a.replaceXMLElementNames(e,this.metadataElementNames,"Metadata"));var i=this.convert(e);i.id&&(i.playQueueID=i.id);var n=I.a.pick(i,this.whitelistedAttrs);return this.set(n,{silent:!0}),this.pendingChanges=this.changed,this.parseItems(i),n},parseItems:function(e){var t=this.get("collection"),i=e.Metadata,n=!!i.length,a=I.a.pluck(i,"playQueueItemID").indexOf(e.playQueueSelectedItemID),s=e.playQueueSelectedItemOffset-a;I.a.each(i,(function(t,i){t.queueIndex=s+i,e.identifier&&(t.identifier=e.identifier),e.mediaTagPrefix&&(t.mediaTagPrefix=e.mediaTagPrefix),e.mediaTagVersion&&(t.mediaTagVersion=e.mediaTagVersion)})),t?t.set(i,{parse:n}):(t=new vm.a(i,{server:this.server,parent:this,parse:n}),this.set("collection",t)),t.totalSize=e.playQueueTotalCount,t.availableRange={start:s,end:s+t.length}},moveItem:function(e,t){if(e===this.get("playQueueSelectedItemID"))return D.a.Deferred().resolve().promise();this.set("hasUserAdditions",!0);var i={after:t||-1},n=V.join([I.a.result(this,"url"),"/items/",e,"/move"],i);return this._ajax("PUT",n)},getUpNextRange:function(){var e=this.get("collection"),t=e.get(this.get("playQueueSelectedItemID")),i=e.indexOf(t),n=Math.max(i,0),a=n,s=this.get("playQueueLastAddedItemID");if(null!=s){var r=e.get(s),o=e.indexOf(r);o>n&&(a=o)}return{start:n,end:a}},getCurrentItem:function(){var e=this.get("playQueueSelectedItemID");return this.get("collection").findWhere({playQueueItemID:e})||null},_ajax:function(e,t){var i=I.a.extend(this.server.getXHROptions(t),{type:e}),n=D.a.ajax(i);return n.done(I.a.bind((function(e){this.set(this.parse(e)),I.a.isEmpty(this.pendingChanges)||(I.a.each(this.pendingChanges,(function(e,t){this.trigger("change:"+t,this,e)}),this),this.trigger("change",this),this.pendingChanges=null),this.set("selectedItem",this.getCurrentItem())}),this)),n.promise()},onMessageChange:function(e,t){t&&U.a.trigger("show:alert",{type:"error",message:t})}}),fm=dm.extend({model:ym,url:"/playQueues?type="+na.LOCAL,parse:function(e){return this.convert(e,"PlayQueue")}});function bm(e){return Object(Zc.a)("web-client","settings",e)}function Im(e,t,i){return Object(Zc.a)("server",e,t,i)}var Sm=R.CollectionView.extend({appendHtml:function(e,t,i){return this.sorted?this.sortedAppendHtml.apply(this,arguments):this.reversed?this.reversedAppendHtml.apply(this,arguments):R.CollectionView.prototype.appendHtml.apply(this,arguments)},sortedAppendHtml:function(e,t,i){if(e.isBuffering){var n=e.elBuffer.childNodes;n.length<=i?e.elBuffer.appendChild(t.el):e.elBuffer.insertBefore(t.el,n[i]),e._bufferedChildren.push(t)}else{var a=e.itemViewContainer?e.$(e.itemViewContainer):e.$el,s=a.children();s.size()<=i?a.append(t.el):s.eq(i).before(t.el)}},reversedAppendHtml:function(e,t,i){e.isBuffering?(e.elBuffer.insertBefore(t.el,e.elBuffer.firstChild),e._bufferedChildren.push(t)):(e.itemViewContainer?e.$(e.itemViewContainer):e.$el).prepend(t.el)},measureList:function(){if(this.children.length){var e=this.children._views,t=e[I.a.first(I.a.keys(e))];I.a.defer(I.a.bind((function(){this.itemWidth=t.$el.outerWidth(!0),this.itemHeight=t.$el.outerHeight(!0),this.itemMarginRight=parseInt(t.$el.css("margin-right"),10),this.itemMarginBottom=parseInt(t.$el.css("margin-bottom"),10),this.triggerMethod("measure",this)}),this))}},getViewForModel:function(e){var t=this.children._indexByModel[e.cid];return this.children._views[t]},reorder:function(){var e=this.children,t=this.collection.models,i=I.a.map(t,(function(t,i){var n=e.findByModel(t);return n._index=i,n.el}));this.$el.append(i)},onCollectionRendered:function(){this.measure&&this.measureList()}}),Cm=i("PDl1"),Mm=i.n(Cm),Dm=R.ItemView.extend({tagName:"li",className:"card-collapsed striped-list-item alert-list-item",template:Mm.a,serializeData:function(){var e=Object(ne.c)("appModel").get("user").get("experienceSettings"),t=this.model.toJSON(),i={serverID:this.model.server.id,itemKey:"/library/metadata/"+this.model.get("itemID"),event:t,escapedServerName:I.a.escape(this.model.server.get("friendlyName")),escapedEventLabel:I.a.escape(t.label),escapedEventValue:I.a.escape(t.value),escapedEventUsername:I.a.escape(t.username),escapedEventTitle:I.a.escape(t.title),escapedEventPlayer:I.a.escape(t.player),timeFormat:e.get("timeFormat")};if(t.label=I.a.escape(t.label),t.value=I.a.escape(t.value),"playing"===t._type&&(t.username=I.a.escape(t.username),t.title=I.a.escape(t.title),t.player=I.a.escape(t.player)),"timeline"===t._type)switch(t.mediaTitle=this.model.get("title")||"an item",this.model.get("state")){case 0:t.stateString=Object(Ze.default)("Created");break;case 1:t.stateString=Object(Ze.default)("Progress for");break;case 2:t.stateString=Object(Ze.default)("Matching");break;case 3:t.stateString=Object(Ze.default)("Downloading metadata for");break;case 4:t.stateString=Object(Ze.default)("Loading metadata for");break;case 5:t.stateString=Object(Ze.default)("Finished processing");break;case 6:t.stateString=Object(Ze.default)("Analyzing");break;case 9:t.stateString=Object(Ze.default)("Deleted")}return i}}),Pm=Sm.extend({tagName:"ul",className:"list card-list alert-list",itemView:Dm,reversed:!0}),Om=i("8wkp"),jm=i.n(Om),wm=R.Layout.extend({className:"alerts-container",template:jm.a,ui:{pageCount:".page-count",previousBtn:".previous-btn",nextBtn:".next-btn"},regions:{serverDropdown:".filter-bar",list:".alert-list-container"},modelEvents:{"change:shared":"onSharedChange"},collectionEvents:{add:"onAlertAdd"},events:{"click .previous-btn":"onPreviousClick","click .next-btn":"onNextClick"},onlyAfterRender:["onAlertAdd"],initialize:function(){this.shared=this.model.get("shared"),this.page=1,this.listCollection=this.collection.clone(this.collection.page(this.page,{reverse:!0})),this.listCollection.stopListening()},serializeData:function(){var e=this.collection.pages();return{shared:this.shared,escapedPage:I.a.escape(this.page),escapedPages:I.a.escape(e),enablePrevious:this.page>1,enableNext:this.page<e}},updatePages:function(){var e=this.collection.pages();this.ui.pageCount.text(Object(Ze.default)("{1} of {2}",this.page,e)),this.ui.previousBtn.toggleClass("disabled",this.page<2),this.ui.nextBtn.toggleClass("disabled",this.page>=e)},updateList:function(){this.listCollection.reset(this.collection.page(this.page,{reverse:!0}))},onRender:function(){this.shared||this.list.append(new Pm({collection:this.listCollection}))},onSharedChange:function(e,t){this.shared=t,this.render()},onAlertAdd:function(e,t){this.shared||(this.updatePages(),this.updateList())},onPreviousClick:function(e){e.preventDefault(),this.ui.previousBtn.isDisabled()||(this.page--,this.updatePages(),this.updateList())},onNextClick:function(e){e.preventDefault(),this.ui.nextBtn.isDisabled()||(this.page++,this.updatePages(),this.updateList())}});var Tm=Ee.a.extend({mixins:[Ne.a],defaultFilterName:"__default",whitelistedEvents:["add","remove","reset","sort","destroy","sync","request","error"],blacklistedMethods:["_onModelEvent","_prepareModel","_removeReference","_reset","add","initialize","sync","remove","reset","set","push","pop","unshift","shift","sort","parse","fetch","create","model","off","on","listenTo","listenToOnce","bind","trigger","once","stopListening"],constructor:function(e,t){this.superset=e,this._collection=new v.c.Collection(e.toArray()),this._proxyCollection(this._collection),this.resetFilters(),this.listenTo(e,{add:this.onSupersetAdd,remove:this.onSupersetRemove,reset:this.onSupersetReset}),this.initialize(t)},_proxyCollection:function(e){this.models=e.models,this._proxyCollectionMethods(e),this._proxyCollectionLength(e),this._proxyCollectionEvents(e)},_proxyCollectionMethods:function(e){const t={};I.a.each(I.a.functions(v.c.Collection.prototype),(function(i){I.a.contains(this.blacklistedMethods,i)||(t[i]=function(){return e[i].apply(e,arguments)})}),this),I.a.extend(this,t)},_proxyCollectionLength:function(e){const t=function(){this.length=e.length};this.listenTo(e,"all",t),t.call(this)},_proxyCollectionEvents:function(e){this.listenTo(e,"all",(function(t){const i=I.a.toArray(arguments),n="change"===t||"change:"===t.slice(0,7);"reset"===t&&(this.models=e.models),I.a.contains(this.whitelistedEvents,t)?(I.a.contains(["add","remove","destroy"],t)?i[2]=this:I.a.contains(["reset","sort"],t)&&(i[1]=this),this.trigger.apply(this,i)):n&&this.contains(i[1])&&this.trigger.apply(this,i)}))},addFilter:function(e,t){return t||(t=e,e=this.defaultFilterName),I.a.has(this._filters,e)&&this._invalidateCacheForFilter(e),this._filters[e]=this._createFilter(t),this._execFilters(),this.trigger("filtered:add",e),this},removeFilter:function(e){return e||(e=this.defaultFilterName),delete this._filters[e],this._invalidateCacheForFilter(e),this._execFilters(),this.trigger("filtered:remove",e),this},resetFilters:function(){return this._filters={},this._invalidateCache(),this._execFilters(),this.trigger("filtered:reset"),this},getFilters:function(){return I.a.keys(this._filters)},hasFilter:function(e){return I.a.contains(this.getFilters(),e)},refilter:function(e){return I.a.isObject(e)&&e.cid?this.onSupersetAdd(e):(this._invalidateCache(),this._execFilters()),this},destroy:function(){return this.stopListening(),this.superset=null,this._collection.reset([]),this.length=0,this.trigger("filtered:destroy"),this},_createFilter:function(e,t){if(I.a.isFunction(e))return e;throw new Error("Unsupported filter type")},_execFilters:function(e){e||(e={});let t=[];this.superset&&(t=this.superset.filter(I.a.bind(this._execFiltersOnModel,this))),e.reset?this._collection.reset(t):this._collection.set(t),this.length=this._collection.length},_execFiltersOnModel:function(e){this._filterResultCache[e.cid]||(this._filterResultCache[e.cid]={});const t=this._filterResultCache[e.cid];for(const i in this._filters)if(I.a.has(this._filters,i)&&(I.a.has(t,i)||(t[i]=this._filters[i](e)),!t[i]))return!1;return!0},_invalidateCache:function(){this._filterResultCache={}},_invalidateCacheForFilter:function(e){for(const t in this._filterResultCache)I.a.has(this._filterResultCache,t)&&delete this._filterResultCache[t][e]},onSupersetAdd:function(e){if(this._filterResultCache[e.cid]={},this._execFiltersOnModel(e)){if(!this._collection.get(e.cid)){let t=0;for(let i=this.superset.indexOf(e)-1;i>=0;i-=1)if(this.contains(this.superset.at(i))){t=this.indexOf(this.superset.at(i))+1;break}this._collection.add(e,{at:t})}}else this._collection.get(e.cid)&&this._collection.remove(e);this.length=this._collection.length},onSupersetRemove:function(e){this.contains(e)&&this._collection.remove(e),this.length=this._collection.length},onSupersetReset:function(){this._execFilters({reset:!0})}}).extend({initialize:function(e){this.playQueue=e.playQueue,this.includeSelectedItem=e.includeSelectedItem,this.addFilter(I.a.bind(this.filterUpNext,this)),this.listenForUpNextChanges()},listenForUpNextChanges:function(){const e=I.a.debounce(this.onPlayQueueChange);this.listenTo(this.playQueue,["change:playQueueSelectedItemID","change:playQueueLastAddedItemID"].join(" "),e),this.listenTo(this.playQueue.get("collection"),"change:queueIndex",e)},filterUpNext:function(e){const t=this.superset.indexOf(e),i=this.playQueue.getUpNextRange();let n=i.start;const a=i.end;return this.includeSelectedItem||(n+=1),t>=n&&t<=a},onPlayQueueChange:function(){this.refilter()}});var Em=Tm.extend({initialize:function(e){this.playQueue=e.playQueue,this.addFilter(I.a.bind(this.filterAfterUpNext,this)),this.listenForUpNextChanges()},filterAfterUpNext:function(e){return this.superset.indexOf(e)>this.playQueue.getUpNextRange().end}}),Nm=i("U/5H"),xm=i.n(Nm);const Am="placeholder-standard",Lm="placeholder-square",km="placeholder-widescreen";var Rm={movie:Am,show:Am,season:Am,episode:km,artist:Lm,album:Lm,track:Lm,photo:Lm,photoalbum:Lm,clip:km,playlist:Lm,playlistFolder:Lm,channel:Lm,channelDirectory:Lm,folder:"placeholder-folder",friend:"placeholder-friend",device:Lm,poster:Am,art:km,banner:km,collection:Am};var zm={sizes:{movie:"portrait",show:"portrait",season:"portrait",episode:"landscape",artist:"square",album:"square",track:"square",photo:"square",photoalbum:"square",clip:"landscape",playlist:"square",playlistFolder:"square",channel:"square",channelDirectory:"square",folder:"portrait",friend:"square",poster:"portrait",art:"landscape",banner:"banner",collection:"portrait"},ratios:{portrait:1/1.5,square:1,landscape:16/9,banner:5.2},getRatioByType:function(e){return this.ratios[this.sizes[e]]},getPosterWidthUsingRatio:function(e,t){return Math.round(this.ratios[e]*t)},getPosterHeightUsingRatio:function(e,t){return Math.round(this.ratios[e]&t)},getPosterWidth:function(e,t){return Math.round(t*this.getRatioByType(e))},getPosterHeight:function(e,t){return Math.round(t/this.getRatioByType(e))}};var Um=om.a.extend({maxCycles:3,maxSize:50,imageParamsRegex:/&?(size|scale|width|height)=([^&]+)/g,initialize:function(){om.a.prototype.initialize.apply(this,arguments),this._infoMemo={}},store:function(e,t){if(t||(t=this.getItemCacheKey(e)),!t)return;const i=e.url,n=this.getImageInfo(i),a={url:i,blobUrl:e.blobUrl,size:n.size};let s=this.get(t);if(s){if(!s.images.hasOwnProperty(i)){const e=s.sizes;s.images[i]=a;const t=I.a.sortedIndex(e,a,"size");e.splice(t,0,a)}}else s={images:{},sizes:[a]},s.images[i]=a,this.startListening(),s._cacheKey=t,this._cache[t]=s,this.size++,e.persistInCache||this.setItemCycle(s,t,I.a.first(this.cycles))},getItemCacheKey:function(e){return this.getImageInfo(e.url).key},getImageInfo:function(e){if(this._infoMemo.hasOwnProperty(e))return this._infoMemo[e];const t={width:"0",scale:"1"},i=e.replace(this.imageParamsRegex,(function(e,i,n){return t[i]=n,""})),n=t.size&&t.size.split("-"),a={key:i,size:(n&&2===n.length?n[1]:parseInt(t.width,10))*parseInt(t.scale,10)};return this._infoMemo[e]=a,a},removeImageInfo:function(e){this._infoMemo.hasOwnProperty(e)&&delete this._infoMemo[e]},getBlobUrl:function(e){const t=this.getImageInfo(e),i=this.get(t.key);if(i){const t=i.images[e];if(t)return t.blobUrl}},getPlaceholder:function(e){const t=this.getImageInfo(e),i=this.get(t.key);if(i){if(i.images[e])return;return I.a.last(i.sizes).blobUrl}},remove:function(e,t){om.a.prototype.remove.apply(this,arguments),I.a.each(e.sizes,(function(e){this.removeImageInfo(e.url),z.a.hasObjectUrl&&window.URL.revokeObjectURL(e.blobUrl)}),this)}});function Vm(){return window.viewport&&window.viewport.pixelRatio||window.devicePixelRatio||1}var Bm=function(e,t){return t?e.get("Media").findIndex(e=>e.id===t):0};var Fm=function(e,t){const i=e.Part;return I.a.indexOf(i,I.a.findWhere(i,{key:t}))};var Hm={extensions:{dash:".mpd",hls:".m3u8",http:""},logParams:function(e,t,i){Object(C.a)("[Transcoder] %s (%s) options:",e,t,i)},serializeParams:function(e,t){let i,n={},a={};const s=/^X-Plex/;return I.a.each(e,(function(e,t){s.test(t)?a[t]=e:n[t]=e})),n=V.stringifyParams(n),a=V.stringifyParams(a),i=n&&a?n+"&"+a:n||a,i},image:function(e,t,i){if(!t)return"";const n=i.fallbackServer;let a,s=!1;if(n&&n.get("isConnected")){a=n.get("isFullServer")?n:null}if(a)if(e.get("cloud"))s=!0;else if(!e.get("isFullServer")){const t=!e.get("activeConnection").get("isPrivate"),i=a.get("activeConnection").get("isPrivate");s=t||i}const r=s?a:e,o=r.id===e.id,l={url:e.resolveUrl(t,{useRelativeUrl:o,appendToken:!0}),width:i.width&&Math.round(parseFloat(i.width)),height:i.height&&Math.round(parseFloat(i.height))};i.minSize&&(l.minSize=1),i.format&&(l.format=i.format),i.quality&&(l.quality=i.quality),i.filters&&I.a.each(i.filters,(function(e,t){void 0!==e&&(l[t]=e)}));const c="/photo/:/transcode?"+this.serializeParams(l,r);return r.resolveUrl(c,{appendToken:!0})},music:function(e,t,i,n){n||(n="start");const a=I.a.first(t.get("Media"));if(!a)return;const s=I.a.first(a.Part);if(!s)return;let r,o;e.supports("universalMusicTranscoder")?(r=I.a.extend({hasMDE:1,path:e.resolveUrl(t.get("key"),{useRelativeUrl:!0}),mediaIndex:0,partIndex:0},i),o="/music/:/transcode/universal/"+n):(r={identifier:t.get("identifier"),url:e.resolveUrl(s.key,{useRelativeUrl:!0}),format:"mp3",audioCodec:"libmp3lame",audioBitrate:320,audioSamples:44100},o="/music/:/transcode/generic.mp3"),this.logParams("Music",n,r),r=I.a.extend(r,e.getHeaders());const l=this.extensions[r.protocol];return"start"===n&&l&&(o+=l),e.resolveUrl(o+"?"+this.serializeParams(r,e))},video:function(e,t,i,n,a,s){a||(a={}),s||(s="start");const r=e.entityID()===t.get("serverEntityID"),o=e.get("activeConnection").get("isPrivate");let l=I.a.extend({hasMDE:1,path:e.resolveUrl(t.get("key"),{useRelativeUrl:r,appendToken:!r}),mediaIndex:Bm(t,i.id),partIndex:Fm(i,n.key),protocol:"hls",fastSeek:1,directPlay:0,directStream:1,subtitleSize:100,audioBoost:100,location:o?"lan":"wan"},a);this.logParams("Video",s,l),l=I.a.extend(l,e.getHeaders());const c=this.extensions[l.protocol];let d="/video/:/transcode/universal/"+s;return"start"===s&&c&&(d+=c),e.resolveUrl(d+"?"+this.serializeParams(l,e))},game:function(e,t,i,n,a){n||(n={}),a||(a="start");const s=e.entityID()===t.get("serverEntityID"),r=e.get("activeConnection").get("isPrivate");let o=I.a.extend({path:e.resolveUrl(t.get("key"),{useRelativeUrl:s,appendToken:!s}),location:r?"lan":"wan",mediaIndex:Bm(t,i.id)},n,{protocol:void 0});this.logParams("Game",a,o),o=I.a.extend(o,e.getHeaders());const l=this.extensions[o.protocol];let c="/game/:/transcode/"+a;return"start"===a&&l&&(c+=l),e.resolveUrl(c+"?"+this.serializeParams(o,e))}};const _m="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7";var Wm=R.ItemView.extend({tagName:"img",background:!1,backgroundSize:"",cache:new Um,initialize:function(e){e||(e={}),I.a.bindAll(this,"onLoad","onError","loadImage"),this.url=e.url,this.server=e.server,this.placeholder=e.placeholder,this.placeholderClass=e.placeholderClass,this.modelAttribute=e.modelAttribute,this.ignoreAttributeChanges=e.ignoreAttributeChanges,this.exposeUrl=e.exposeUrl,this.resetOnError=e.resetOnError,this.emptyImage=e.explicitEmpty?"url("+_m+")":"",e.background&&(this.background=e.background),e.backgroundSize&&(this.backgroundSize=e.backgroundSize),e.format&&(this.format=e.format),e.quality&&(this.quality=e.quality),I.a.isFunction(e.getUrl)&&(this.getUrl=e.getUrl),this.allowBaseImageBlobs=be.a.allowBaseImageBlobs,this.allowBaseImagePreloading=be.a.allowBaseImagePreloading,this.setup(e)},setup:function(e){this.setDimensions(e),this.setFilters(e.filters),this.setModel(e.model,e)},setDimensions:function(e){e.width&&e.height&&(this.transcode=!0,this.width=e.width,this.height=e.height)},setFilters:function(e){this.filters=e||void 0},hasFilters:function(){return void 0!==this.filters},setModel:function(e,t){t||(t={}),this.stopListening(),this.src=null,this.model=e,e&&(this.server||(this.server=e.server),t.url||this.modelAttribute&&(this.url=this.getUrl(e.get(this.modelAttribute)),this.ignoreAttributeChanges||this.listenTo(e,"change:"+this.modelAttribute,this.onChange)))},setElement:function(e){R.ItemView.prototype.setElement.apply(this,arguments),this.render({force:!0})},getUrl:function(e){return e},getTranscodeUrl:function(e){if(!this.server||!this.transcode)return e;const t=ne.c("appModel"),i=Vm();return Hm.image(this.server,e,{fallbackServer:t.get("primaryServer"),width:this.width*i,height:this.height*i,minSize:this.minSize,filters:this.filters,format:this.format,quality:this.quality})},render:function(e){return e||(e={}),this.url||this.placeholder||this.placeholderClass?this.src?(e.force&&this.showImage(this.src),this):(this.isPlaceholderRendered&&this.url||this.showPlaceholder(),this.url&&this.load(this.url,this.transcode).then(this.onLoad,this.onError,this.onLoad),this):this},showPlaceholder:function(){if(this.isPlaceholderRendered=!0,this.$el.removeClass("loaded"),this.placeholderClass)return this.$el.addClass(this.placeholderClass),void this.$el.css("background-image",this.emptyImage);this.placeholder?this.showImage(this.placeholder):this.clearImage()},clearImage:function(){this.background?this.$el.css("background-image",this.emptyImage):this.showImage(_m)},showImage:function(e){this.background?this.showBackgroundImage(e):this.$el.attr("src",e).removeAttr("width").removeAttr("height")},showBackgroundImage:function(e){this.$el.css("background-image","url("+e+")")},load:function(e){if(!e)return D.a.Deferred().reject().promise();if(e=this.getTranscodeUrl(e),this.exposeUrl&&this.$el.attr("data-image-url",e),this.allowBaseImageBlobs&&z.a.hasBlob&&z.a.hasObjectUrl){let t=this.loadBlob(e);return t=t.then(this.loadImage,null,this.loadImage),t}return this.allowBaseImagePreloading?this.loadImage(e):D.a.Deferred().resolve(e).promise()},loadBlob:function(e){const t=D.a.Deferred();this.cancel();const i=this.cache.getBlobUrl(e);if(i)return t.resolve(i),t.promise();{const i=this.cache.getPlaceholder(e);i&&t.notify(i,!0)}const n=new window.XMLHttpRequest;return n.open("GET",e,!0),n.responseType="arraybuffer",this.xhr=n,n.onreadystatechange=I.a.bind((function(){if(4===n.readyState)if(n.onreadystatechange=null,this.xhr=null,200===n.status){const i=new window.Blob([n.response],{type:"image/jpeg"}),a=window.URL.createObjectURL(i);this.cache.store({url:e,blobUrl:a}),t.resolve(a)}else t.reject()}),this),n.send(),t.promise()},loadImage:function(e,t){const i=D.a.Deferred(),n=new window.Image;return n.onload=function(){n.onload=n.onabort=n.onerror=null,t?i.notify(e,n.width,n.height):i.resolve(e,n.width,n.height)},n.onabort=n.onerror=function(){n.onload=n.onabort=n.onerror=null,i.reject()},n.src=e,i.promise()},cancel:function(){this.xhr&&(this.xhr.onreadystatechange=null,this.xhr.abort(),this.xhr=null)},onLoad:function(e,t,i){if(this.backgroundSize){const e=t&&t>this.width||i&&i>this.height?this.backgroundSize:"auto";this.$el[0].style.backgroundSize=e}this.src=e,this.placeholderClass&&this.$el.removeClass(this.placeholderClass),this.$el.addClass("loaded"),this.showImage(e),this.trigger("load",e,t,i)},onError:function(){this.resetOnError&&this.showPlaceholder(),this.trigger("error")},onClose:function(){this.cancel()},onChange:function(e,t){if(t=this.getUrl(t),this.url===t)return this;this.url=t,this.src=null,this.render()}});var Qm=Wm.extend({background:!0,setup(e){this.minSize=!0,this.type=e.type,this.modelAttribute=e.modelAttribute||"thumb",!1!==e.placeholder&&(this.model&&this.model.get("isFolder")?this.placeholderClass=Rm.folder:e.placeholderClass||(this.placeholderClass=Rm[this.type])),Wm.prototype.setup.apply(this,arguments)},setDimensions(e){e.width?e.height=zm.getPosterHeight(this.type,e.width):e.height&&(e.width=zm.getPosterWidth(this.type,e.height)),Wm.prototype.setDimensions.call(this,e)},setModel(e,t){Wm.prototype.setModel.apply(this,arguments),this.model&&this.model.get("isFolder")&&(this.placeholderClass=Rm.folder)}});const Gm=864e5,Km=["years","months","days","hours","minutes","seconds","milliseconds"],Ym={years:31536e6,months:2592e6,days:Gm,hours:36e5,minutes:6e4,seconds:1e3,milliseconds:1};function qm(e){const t=e<0?-1:1,i={};let n=e*t,a=-1;for(;++a<Km.length;){const e=Km[a],s=Ym[e],r=Math.floor(n/s);i[e]=r&&r*t,n%=s}return i}var Zm=function(e){if(null==e)return"";const t=qm(e),i=t.hours+24*t.days,n=t.minutes,a=t.seconds;return i&&n?Object(Ze.default)("{1} hr {2} min",i,n):i?Object(Ze.default)("{1} hr",i):n?Object(Ze.default)("{1} min",n):a>0?Object(Ze.default)("{1} sec",a):""};const Jm=[[54e5,function(e){if(null==e)return"";const t=qm(e),i=24*t.days*60,n=60*t.hours,a=t.minutes+n+i,s=t.seconds;return a?Object(Ze.default)("{1} min",a):s>0?Object(Ze.default)("{1} sec",s):""}],[864e5,Zm],[6048e5,function(e){if(null==e)return"";const t=qm(e),i=t.days,n=t.hours,a=1!==i;return i&&n?a?Object(Ze.default)("{1} days {2} hr",i,n):Object(Ze.default)("{1} day {2} hr",i,n):i?a?Object(Ze.default)("{1} days",i):Object(Ze.default)("{1} day",i):Object(Ze.default)("{1} hr",n)}],[1/0,function(e){if(null==e)return"";const t=qm(e),i=365*t.years+30*t.months+t.days;return 1!==i?Object(Ze.default)("{1} days",i):Object(Ze.default)("{1} day",i)}]];var Xm=function(e){if(!e)return"";const t=I.a.find(Jm,([t])=>e<=t);return t&&t[1](e)};var $m=function(e){if(null==e)return"";const t=Xm(1e3*e);return t?Object(Ze.default)("{1} left",t):""},eg=i("4QgX"),tg=i.n(eg),ig=R.ItemView.extend({className:"circle-progress",template:tg.a,size:30,lineWidth:5,strokeColor:"#cc7b19",hasSize:!1,ui:{svg:".circle-progress-bar",svgCircle:".circle-progress-bar circle"},bindings:{".circle-progress-text":{modelAttribute:"text"}},modelEvents:{"change:progress":"onProgressChange"},initialize:function(e){this.size=e.size||this.size,this.lineWidth=e.lineWidth||this.lineWidth,this.strokeColor=e.strokeColor||this.strokeColor,this.size&&(this.$el.width(this.size),this.$el.height(this.size))},drawProgressBar:function(){var e=this.size,t=e/2,i=t-this.lineWidth,n=Math.PI*(2*i);this.hasSize||(this.ui.svg.attr("width",e),this.ui.svg.attr("height",e),this.ui.svgCircle.attr("r",i),this.ui.svgCircle.attr("cx",t),this.ui.svgCircle.attr("cy",t),this.ui.svgCircle.attr("stroke-dasharray",n),this.ui.svgCircle.css("stroke-width",this.lineWidth),this.ui.svgCircle.css("stroke",this.strokeColor),this.hasSize=!0);var a=(100-this.model.get("progress"))/100*n;this.ui.svgCircle.css("stroke-dashoffset",a)},onRender:function(){this.drawProgressBar()},onProgressChange:function(){this.drawProgressBar()}}),ng=i("nWaN"),ag=i.n(ng),sg=R.Layout.extend({mixins:[Ho],className:"conversion-status",template:ag.a,regions:{progressBarRegion:".progress-bar-region"},initialize:function(e){this.initialState=e.initialState,this.initialErrorMessage=e.initialErrorMessage,this.generator=e.generator,this.transcodeJobs=e.transcodeJobs,this.pausedSetting=e.pausedSetting,this.progressModel=new v.c.Model({progress:0,remaining:0,speed:0})},states:{pending:{onEnter:function(){this.$el.addClass("pending")},onExit:function(){this.$el.removeClass("pending")}},converting:{onEnter:function(){this.$el.addClass("converting")},onExit:function(){this.$el.removeClass("converting")}},processed:{onEnter:function(){this.$el.addClass("processed")},onExit:function(){this.$el.removeClass("processed")}},disabled:{onEnter:function(){this.$el.addClass("disabled")},onExit:function(){this.$el.removeClass("disabled")}},error:{onEnter:function(){this.$el.addClass("error")},onExit:function(){this.$el.removeClass("error")}}},bindingsModel:"progressModel",bindings:{".conversion-status-converting-label":{model:"pausedSetting",modelAttribute:"value",formatter:function(e){return e?Object(Ze.default)("Paused"):Object(Ze.default)("Converting")}},".conversion-status-pending-label":{model:"pausedSetting",modelAttribute:"value",formatter:function(e){return e?Object(Ze.default)("Paused"):Object(Ze.default)("Waiting")}},".conversion-status-converting-speed":{modelAttribute:"speed",autohide:!0,formatter:function(e){if(e){var t=Math.round(10*e)/10;return t>10&&(t=Math.round(t)),"("+t+"x)"}}},".conversion-status-converting-percentage":{modelAttribute:"progress",formatter:function(e){return Math.round(e)+"%"}},".conversion-status-converting-progress-separator":{modelAttribute:"remaining",manual:!0,autohide:function(e){return e&&this.progressModel.get("speed")}},".conversion-status-converting-remaining":{modelAttribute:"remaining",autohide:!0,formatter:function(e){if(this.progressModel.get("speed"))return $m(e)}}},serializeData:function(){return{initialErrorMessage:this.initialErrorMessage}},findTranscodeJob:function(){return this.transcodeJob=this.transcodeJobs.find((function(e){var t=this.model.get("ratingKey"),i=this.generator?this.generator.id:this.model.get("generatorID"),n=this.model.get("syncItemId"),a=t&&t===e.get("ratingKey"),s=i&&i===e.get("generatorID"),r=n&&n===e.get("syncItemId");return a&&(s||r)}),this),this.transcodeJob&&(this.stopListening(this.transcodeJobs),this.enterState("converting"),this.progressModel.set({progress:this.transcodeJob.get("progress"),speed:this.transcodeJob.get("speed"),remaining:this.transcodeJob.get("remaining")}),this.listenTo(this.transcodeJob,{remove:this.onTranscodeJobRemove,"change:progress":this.onTranscodeProgressChange,"change:speed":this.onTranscodeSpeedChange,"change:remaining":this.onTranscodeRemainingChange})),this.transcodeJob},onRender:function(){this.enterState(this.initialState||"pending"),this.findTranscodeJob()||this.listenTo(this.transcodeJobs,"reset add",this.findTranscodeJob),this.progressBarRegion.append(new ig({model:this.progressModel,size:30,lineWidth:3}))},onTranscodeJobRemove:function(e){this.enterState("pending")},onTranscodeProgressChange:function(e,t){this.progressModel.set("progress",t)},onTranscodeSpeedChange:function(e,t){this.progressModel.set("speed",t)},onTranscodeRemainingChange:function(e,t){this.progressModel.set("remaining",t)}}),rg=i("zjrX"),og=i.n(rg),lg=R.Layout.extend({className:"striped-list-item media-list-item playlist-item version-generator-item",tagName:"li",template:og.a,ui:{poster:".media-poster"},events:{"click .promote-btn":"onPromoteClick","click .delete-btn":"onDeleteClick"},regions:{statusRegion:".conversion-status-region"},attributes:function(){return{"data-queue-item-id":this.model.id}},initialize:function(e){this.metadataItem=e.model.get("metadataItem"),this.playQueue=e.playQueue,this.transcodeJobs=e.transcodeJobs,this.pausedSetting=e.pausedSetting,this.hideDragHandle=e.hideDragHandle,this.type=this.metadataItem.get("type");var t=Rm[this.type];"movie"===this.type&&(t=Rm.art);var i="episode"===this.type?"show":this.type;this.image=new Qm({model:this.metadataItem,type:i,placeholderClass:t,height:60,modelAttribute:"thumb",getUrl:this.getPosterUrl})},bindings:{".generator-title":{model:"metadataItem",modelAttribute:"title",formatter:function(e){return lt.a.title(this.metadataItem)}},".generator-target":{modelAttribute:"target",formatter:function(e){return this.model.get("syncItemId")?Object(Ze.default)("Sync"):e}},".sortable-handle":{model:"playQueue",modelAttribute:"playQueueSelectedItemID",manual:!0,autohide:function(e){return this.model.get("playQueueItemID")!==e}},".promote-btn":{modelAttribute:"queueIndex",manual:!0,autohide:function(e){var t=this.playQueue.getCurrentItem();return this.hideDragHandle||e-t.get("queueIndex")>1}}},serializeData:function(){return{hideDragHandle:this.hideDragHandle}},getPosterUrl:function(e){return"episode"===this.model.get("type")&&(this.model.get("grandparentThumb")||this.model.get("parentThumb"))||e},deleteSyncItem:function(){var e=ne.c("appModel"),t=new el({id:this.model.get("syncItemId"),clientIdentifier:this.model.get("clientIdentifier")},{server:e.get("user").server});return Ge.execute("deleteSyncItem",{syncItem:t,server:this.model.server})},deleteGenerator:function(){var e=new $o({id:this.model.get("generatorID")},{server:this.model.server,playlistID:this.metadataItem.get("playlistID")});return Ge.execute("disableVersionGenerator",{generator:e,ratingKey:this.metadataItem.get("ratingKey")})},onRender:function(){this.image.setElement(this.ui.poster),this.statusRegion.show(new sg({model:this.model,transcodeJobs:this.transcodeJobs,pausedSetting:this.pausedSetting}))},onClose:function(){this.image.close()},onCollectionSort:function(e){this.trigger("sort")},onPromoteClick:function(e){e.preventDefault();var t=this.playQueue.get("collection");this.listenToOnce(t,"sort",I.a.debounce(this.onCollectionSort));var i=this.model.get("playQueueItemID"),n=this.playQueue.get("playQueueSelectedItemID");this.playQueue.moveItem(i,n)},onDeleteClick:function(e){e.preventDefault(),this.model.has("syncItemId")?this.deleteSyncItem():this.deleteGenerator()}}),cg=Sm.extend({tagName:"ol",className:"list media-list playlist-items",itemView:lg,sorted:!0,itemEvents:{sort:"onSort"},initialize:function(){I.a.bindAll(this,"onItemMove")},onRender:function(){this.sortable&&this.sortable.destroy(),this.sortable=new xm.a(this.el,I.a.extend({onAdd:this.onItemMove,onUpdate:this.onItemMove,handle:".sortable-handle",animation:200,scroll:!0,scrollSensitivity:100,scrollSpeed:2},this.options.sortableOptions))},onClose:function(){this.sortable&&this.sortable.destroy()},onSort:function(){this.render()},onItemMove:function(e){var t=D()(e.item).data("queue-item-id"),i=D()(e.item).prev().data("queue-item-id"),n=this.options.playQueue;if(i)n.moveItem(t,i);else{var a=n.get("selectedItem").get("metadataItem").get("title"),s=new vn({title:Object(Ze.default)("Convert Immediately"),message:Object(Ze.default)("Do you want to start converting this item immediately? Any conversion progress for '{1}' will be lost.",a)}),r=s.promise;r.done((function(){n.moveItem(t)})),r.fail(I.a.bind(this.render,this)),U.a.trigger("show:modal",s)}}}),dg=i("EAJj"),ug=i.n(dg);var pg=R.ItemView.extend({template:ug.a,serializeData(){return{manageVersionsRoute:ln(this.model.id,"manage","versions")}}}),hg=i("PiUd"),mg=i.n(hg),gg=R.Layout.extend({className:"conversion-container",template:mg.a,ui:{filterBar:".filter-bar",pauseBtn:".pause-btn",resumeBtn:".resume-btn",divider:".conversion-queue-divider"},regions:{filterBar:".filter-bar",upNextList:".conversion-queue-up-next-list-region",afterUpNextList:".conversion-queue-after-up-next-list-region",emptyRegion:".conversion-queue-empty-region"},events:{"click .pause-btn":"onTogglePauseClick","click .resume-btn":"onTogglePauseClick"},initialize:function(e){this.playQueue=e.playQueue,this.transcodeJobs=e.transcodeJobs,this.generators=e.generators,this.items=this.playQueue.get("collection"),this.upNextItems=new Tm(this.items,{playQueue:this.playQueue,includeSelectedItem:!0}),this.afterUpNextItems=new Em(this.items,{playQueue:this.playQueue}),this.settings=this.model.get("desktop").get("settings"),this.pausedSetting=this.settings.get("BackgroundQueueIdlePaused"),this.listenTo(this.upNextItems,"reset add remove",this.onUpNextChange),this.listenTo(this.afterUpNextItems,"reset add remove",this.onAfterUpNextChange)},serializeData:function(){return{shouldShowList:this.model.supports("streamReady"),shouldShowDivider:!!this.afterUpNextItems.length,escapedMinServerVersion:I.a.escape(qi.streamReady),hasPausedSetting:!!this.pausedSetting,isPaused:this.pausedSetting&&this.pausedSetting.get("value"),errorMessage:this.getErrorMessage(),manageVersionsRoute:ln(this.model.id,"manage","versions")}},toggleEmptyView:function(){var e=this.upNextItems.length+this.afterUpNextItems.length>0;e?this.emptyRegion.close():this.emptyRegion.show(new pg({model:this.model})),this.$el.toggleClass("is-empty",!e),this.ui.filterBar.toggleClass("hide-actions",!e)},getErrorMessage:function(){var e=this.generators.reduce((function(e,t){var i=t.get("status");return"failed"===i.get("state")?e+=Math.max(i.get("itemsCount"),1):i.get("itemsFailedCount")&&(e+=i.get("itemsFailedCount")),e}),0);if(e)return 1===e?Object(Ze.default)("There was a problem converting 1 item."):Object(Ze.default)("There were problems converting {1} items.",e)},onRender:function(){var e={playQueue:this.playQueue},t={playQueue:this.playQueue,transcodeJobs:this.transcodeJobs,pausedSetting:this.pausedSetting};this.upNextList.show(new cg(I.a.extend({},e,{collection:this.upNextItems,itemViewOptions:t,sortableOptions:{sort:!0,group:{name:"upNext",pull:!1,put:["afterUpNext"]}}}))),this.afterUpNextList.show(new cg(I.a.extend({},e,{collection:this.afterUpNextItems,itemViewOptions:I.a.extend({},t,{hideDragHandle:!0}),sortableOptions:{sort:!1,group:{name:"afterUpNext",pull:!0,put:!1}}}))),this.toggleEmptyView()},onClose:function(){this.upNextItems.destroy(),this.afterUpNextItems.destroy()},onUpNextChange:function(){this.toggleEmptyView()},onAfterUpNextChange:function(){this.ui.divider.toggleClass("hidden",!this.afterUpNextItems.length),this.toggleEmptyView()},onTogglePauseClick:function(e){e.preventDefault();var t=this.pausedSetting.get("value");this.ui.pauseBtn.toggleClass("hidden",!t),this.ui.resumeBtn.toggleClass("hidden",t),this.pausedSetting.set("value",!t),this.settings.first().save(this.pausedSetting.id,t?0:1)}}),vg=i("V+TA");var yg=Object(Wu.a)(Gu,e=>e.providers);const fg={};function bg(e){if(fg[e])return fg[e];const t=Object(Wu.a)(Zu.a,t=>t[e]);return fg[e]=t,t}var Ig={entityID:"",identifier:"",metricsIdentifier:"",title:"",features:[],protocols:[],isPending:!1,isPopulated:!1,error:null},Sg={entityID:"",machineIdentifier:"",friendlyName:"Unknown",allowSync:!1,allowMediaDeletion:!1,backgroundProcessing:!1,transcoderVideo:!1,isCloud:!1,isEmbedded:!1,isFullServer:!1,isFullOwnedServer:!1,isUnavailable:!1,isUnauthorized:!1,isConnected:!1,ownerFeatures:[],providers:[]};var Cg=Object(vg.a)((function(e){return Object(Wu.a)(qu,t=>t.find(t=>t.machineIdentifier===e)||Sg)}));var Mg=Object(vg.a)((function(e,t){return Object(Wu.a)(yg,Cg(e),bg("providers"),(e,i,n)=>{var a=(!i||i.isCloud?n:i.providers).find(i=>e[i].identifier===t);return a?e[a]:Ig})}));var Dg=Object(vg.a)((function(e,t){return Object(Wu.a)(Mg(e,t),e=>{var t;const i=as(e,Qa.Content);return null!=(t=null==i?void 0:i.directories)?t:[]})}));var Pg=Object(vg.a)((function(e,t,i){return Object(Wu.a)(Dg(e,t),e=>e.find(e=>i===e.id))}));var Og=Object(Wu.b)(Wu.d,I.a.isEqual);function jg(e){return{entityID:e.entityID,machineIdentifier:e.machineIdentifier,accessToken:e.accessToken,uri:e.activeConnection?e.activeConnection.uri:void 0,version:e.version,friendlyName:e.friendlyName,sourceTitle:e.sourceTitle,countryCode:e.countryCode,allowSync:e.allowSync,allowMediaDeletion:e.allowMediaDeletion,backgroundProcessing:e.backgroundProcessing,transcoderVideo:e.transcoderVideo,isCloud:e.isCloud,isEmbedded:e.isEmbedded,isFullServer:e.isFullServer,isFullOwnedServer:e.isFullOwnedServer,isUnavailable:e.isUnavailable,isUnauthorized:e.isUnauthorized,isConnected:e.isConnected,livetv:e.livetv,ownerId:e.ownerId,ownerFeatures:e.ownerFeatures}}var wg=Og(Object(Wu.a)(qu,e=>e.map(jg)),e=>e);var Tg=Object(vg.a)((function(e){return Og(Object(Wu.a)(wg,t=>t.find(t=>t.machineIdentifier===e)||Sg),e=>e)}));const{createContext:Eg,useContext:Ng,useMemo:xg}=Nd.a,Ag=Eg([Sg,Ig,void 0]);function Lg(){return Ng(Ag)}function kg({machineIdentifier:e,providerIdentifier:t,contentDirectoryID:i,children:n}){const a=Object(Hu.d)(Tg(e)),s=Object(Hu.d)(Mg(e,t)),r=Object(Hu.d)(Pg(e,t,i)),o=xg(()=>[a,s,r],[a,s,r]);return Vu()(Ag.Provider,{value:o},void 0,n)}var Rg=i("l1OG");var zg=Object(vg.a)((function(e){return Object(Wu.a)(Rg.a,t=>t[e])}));const{useEffect:Ug,useState:Vg}=Nd.a;var Bg,Fg=function(e,t,i=500){const n=Vg(e),a=n[1],s=n[0];return Ug(()=>{let n;return e===t?n=window.setTimeout(()=>{a(e)},i):a(e),()=>window.clearTimeout(n)},[e,t,i]),s},Hg=i("6XLl"),_g=i.n(Hg);function Wg({children:e,title:t}){return Vu()("div",{className:_g.a.header},void 0,Vu()("div",{className:_g.a.headerTitle},void 0,t),e)}!function(e){e.Default="default",e.Primary="primary",e.Success="success",e.Danger="danger"}(Bg||(Bg={}));var Qg=Bg,Gg=i("NM2O"),Kg=i.n(Gg);const Yg=Nd.a.createElement,{useCallback:qg,useEffect:Zg,useRef:Jg,useState:Xg}=Nd.a;function $g(e){let{forwardedRef:t,children:i,to:n,component:a=(n?"a":"button"),type:s=("button"===a||"input"===a?"button":void 0),role:r=(n?"link":"button"),className:o=Kg.a.link,kind:l=Qg.Default,size:c,isDisabled:d=!1,onPress:u,onTouchStart:p,onTouchMove:h,onTouchEnd:m,onTouchCancel:g,onMouseDown:v,onMouseUp:y,onMouseLeave:f,onFocus:b,onBlur:I}=e,S=Xe()(e,["forwardedRef","children","to","component","type","role","className","kind","size","isDisabled","onPress","onTouchStart","onTouchMove","onTouchEnd","onTouchCancel","onMouseDown","onMouseUp","onMouseLeave","onClick","onFocus","onBlur"]);const C=Xg(!1),M=C[1],D=C[0],P=Xg(!1),O=P[1],j=P[0],w=Jg(!1),T=Jg(!1),E=Jg(!1),N=qg(e=>{w.current=!0,T.current=!0,1===e.touches.length&&(E.current=!0,M(!0)),null==p||p(e)},[p]),x=qg(e=>{E.current=!1,M(!1),null==h||h(e)},[h]),A=qg(e=>{M(!1),E.current&&(E.current=!1,null==u||u(e)),null==m||m(e)},[u,m]),L=qg(e=>{w.current=!1,T.current=!1,E.current=!1,M(!1),null==g||g(e)},[g]),k=qg(e=>{w.current=!0,M(!0),null==v||v(e)},[v]),R=qg(e=>{M(!1),null==y||y(e)},[y]),z=qg(e=>{w.current=!1,M(!1),null==f||f(e)},[f]),U=qg(e=>{w.current?w.current=!1:(O(!0),null==b||b(e))},[b]),V=qg(e=>{w.current=!1,O(!1),null==I||I(e)},[I]),B=qg(e=>{w.current=!1,M(!1),T.current?T.current=!1:null==u||u(e)},[u]),F=qg(()=>{O(!1)},[]);Zg(()=>(j&&window.addEventListener("mousemove",F),()=>{j&&window.removeEventListener("mousemove",F)}),[j,F]);const H=d?{}:{onTouchStart:N,onTouchMove:x,onTouchEnd:A,onTouchCancel:L,onMouseDown:k,onMouseUp:R,onMouseLeave:z,onFocus:U,onBlur:V,onClick:B};return Yg(a,Object.assign({},S,H,{ref:t,children:i,type:s,href:n,role:r,className:(o||"")+" "+(Kg.a[l]||"")+" "+(c&&Kg.a[c]||"")+" "+(n&&Kg.a.isHrefLink||"")+" "+(D?"isActive":"")+" "+(j?"isFocused":"")+" "+(d?"isDisabled":""),disabled:d}))}var ev=Nd.a.forwardRef((e,t)=>Yg($g,tp()({},e,{forwardedRef:t}))),tv=i("p9Lp"),iv=i.n(tv);function nv({children:e,className:t=iv.a.container}){return Vu()("div",{className:t},void 0,Vu()("div",{className:iv.a.message},void 0,e))}var av=i("fCYg"),sv=i.n(av);function rv({children:e,className:t=sv.a.container}){const[i]=Lg();return Vu()("div",{className:t},void 0,Vu()(nv,{},void 0,Vu()(ev,{className:sv.a.link,to:ln(i.machineIdentifier,"settings","general")},void 0,e)))}var ov=i("ZMKu"),lv=i("OcOZ");const cv=Nd.a.createElement,{Component:dv}=Nd.a;class uv extends dv{static getDerivedStateFromProps(e,t){return e.isOpen===t.isOpen?null:{isOpen:e.isOpen,shouldPreventPortalClose:e.closeTimeoutMilliseconds&&!e.isOpen&&t.isOpen}}constructor(e,t){super(e,t),this._closeTimeoutID=void 0,this.onCloseTimeout=()=>{this._closeTimeoutID=null,this.setState({shouldPreventPortalClose:!1},()=>{this.props.onClose&&this.props.onClose()})},this.onInteractionEvent=e=>{this.props.allowInteractionEventBubbling||e.stopPropagation()},this.state={isOpen:e.isOpen,shouldPreventPortalClose:!1}}componentDidMount(){this.props.onOpen&&this.props.isOpen&&this.props.onOpen()}componentDidUpdate(e,t){!this.state.shouldPreventPortalClose&&t.shouldPreventPortalClose&&(this._closeTimeoutID=window.clearTimeout(this._closeTimeoutID)),this.state.shouldPreventPortalClose&&!t.shouldPreventPortalClose&&(this._closeTimeoutID=window.setTimeout(this.onCloseTimeout,this.props.closeTimeoutMilliseconds)),this.props.onOpen&&this.props.isOpen&&!e.isOpen&&this.props.onOpen()}componentWillUnmount(){this._closeTimeoutID&&window.clearTimeout(this._closeTimeoutID)}render(){const{className:e,style:t,children:i,forwardedRef:n}=this.props,{isOpen:a,shouldPreventPortalClose:s}=this.state;return a||s?Fu.a.createPortal(cv("div",{className:e,style:t,ref:n,onTouchStart:this.onInteractionEvent,onTouchMove:this.onInteractionEvent,onTouchEnd:this.onInteractionEvent,onTouchCancel:this.onInteractionEvent,onMouseDown:this.onInteractionEvent,onMouseUp:this.onInteractionEvent,onClick:this.onInteractionEvent,onFocus:this.onInteractionEvent,onBlur:this.onInteractionEvent},i),document.body):null}}uv.defaultProps={isOpen:!0,closeTimeoutMilliseconds:0,allowInteractionEventBubbling:!1};var pv=Nd.a.forwardRef((e,t)=>cv(uv,tp()({},e,{forwardedRef:t})));const hv=Nd.a.createElement,{Component:mv}=Nd.a;class gv extends mv{constructor(e,t){super(e,t),this._popper=void 0,this._ref=void 0,this.onOpen=()=>{var e,t;this._open(),null==(e=(t=this.props).onOpen)||e.call(t)},this.onClose=()=>{var e,t;this._close(),null==(e=(t=this.props).onClose)||e.call(t)},this._ref=e.forwardedRef||Nd.a.createRef(),this._popper=null}shouldComponentUpdate(e,t){return Tp(this,e,t)}componentDidUpdate(e){this._popper&&this._popper.update()}componentWillUnmount(){this._close()}_open(){const{target:e,options:t}=this.props,i=document.getElementById(e)||document.getElementsByName(e)[0];this._popper=Object(lv.a)(i,Fu.a.findDOMNode(this._ref.current),t),this._popper.update()}_close(){this._popper&&(this._popper.destroy(),this._popper=null)}render(){return hv(pv,tp()({},this.props,{ref:this._ref,onOpen:this.onOpen,onClose:this.onClose}))}}gv.defaultProps=void 0;gv.defaultProps={options:{placement:"bottom-start"}};var vv=Nd.a.forwardRef((e,t)=>hv(gv,tp()({},e,{forwardedRef:t})));function yv(e){const t=parseFloat(e,10);let i=e.match(/m?s/);switch(i&&(i=i[0]),i){case"s":return 1e3*t;case"ms":return t}return 0}function fv(e){return yv(e)/1e3}function bv(e){let t=e.tabIndex;return null===t&&(t=void 0),!isNaN(t)&&t>=0&&function(e){if(!function e(t){if(t===document)return!0;if(!t)return!1;if(!t.parentNode)return!1;if(t.style){const e=t.style;if("none"===e.display||"hidden"===e.visibility)return!1}if(window.getComputedStyle){const e=window.getComputedStyle(t);if("none"===e.getPropertyValue("display")||"hidden"===e.getPropertyValue("visibility"))return!1}return e(t.parentNode)}(e))return!1;const t=e.nodeName.toLowerCase();if(/input|select|textarea|button|object/.test(t))return!e.disabled;if("a"===t)return e.href;return!0}(e)}function Iv(e){if(!e)return[];const t=[].slice.call(e.getElementsByTagName("*"),0).filter(e=>bv(e));return I.a.sortBy(t,e=>0===e.tabIndex?1/0:e.tabIndex)}let Sv,Cv;function Mv(e){try{e.focus()}catch(e){}}function Dv(e){const t=document.activeElement,i=t&&e&&e.contains(t);t&&!i&&t.blur()}function Pv(e){Sv=document.activeElement,Cv=e,Dv(e)}function Ov(e){Object(S.a)(Cv,"Call `startScopedFocus(element)` before `scopeTabEvent`");const t=Iv(Cv);if(!t.length)return;e.preventDefault();const i=document.activeElement,n=i?t.indexOf(i):-1,a=t.length-1;let s;-1===n?s=e.shiftKey?a:0:(s=e.shiftKey?n-1:n+1,s<0?s=a:s>a&&(s=0)),Mv(t[s])}function jv(){Object(S.a)(Cv,"Call `startScopedFocus(element)` before `scopeAutoFocus`");const e=Iv(Cv),t=I.a.find(e,e=>Object(ho.a)(e.getAttribute("data-autofocus")));t&&Mv(t)}function wv(){Sv&&(Mv(Sv),Sv=null)}var Tv={defaultSpeed:"0.2s",slowSpeed:"0.6s",fastSpeed:"0.1s",motionEasing:"cubic-bezier(0.6, 0.4, 0.2, 1.4)",modalSpeed:"0.2s",menuSpeed:"0.15s",tooltipSpeed:"0.15s"};var Ev={smallSize:"26px",mediumSize:"30px",largeSize:"36px",gapSmall:"15px",gapMedium:"30px",gapLarge:"60px",navigationHeaderHeight:"60px",navigationUserMenuImageSize:"34px",pageHeaderHeight:"60px",breadcrumbMargin:"25px",menuSmallWidth:"120px",menuMediumWidth:"180px",menuLargeWidth:"220px",menuPadding:"8px",menuItemTopPadding:"4px",menuItemSidePadding:"20px",toolbarButtonWidth:"50px",posterTitlePadding:"10px",posterTitleHeight:"20px",searchHubTitleHeight:"18px",searchResultWidth:"346px",searchResultHeight:"50px",sidebarWidth:"240px",sidebarRightGutterWidth:"15px",sidebarLeftGutterWidth:"25px",tableCellPadding:"20px",tableHeaderHeight:"40px",tableRowHeight:"40px",tableTitleHeight:"60px",inputMaxWidth:"360px",inputBorderRadius:"4px",autosuggestSuggestionRadius:"4px",smallArrowWidth:"6px",mediumArrowWidth:"8px",largeArrowWidth:"10px",tooltipArrowSize:"6px",tooltipMarginTop:"-6px",breakpointMobileNarrow:"320px",breakpointExtraSmall:"480px",breakpointSmall:"768px",breakpointMedium:"992px",breakpointLarge:"1200px",modalBodyPadding:"30px"};var Nv={motionEasing:[.6,.4,.2,1.4]};var xv=i("21iP"),Av=i.n(xv);const Lv=Nd.a.createElement,{Component:kv}=Nd.a,Rv=fv(Tv.menuSpeed),zv=1e3*Rv,Uv=parseInt(Ev.menuPadding,10),Vv={ease:Nv.motionEasing,duration:Rv},Bv={opacity:{ease:"easeOut",duration:Rv},y:Vv,scale:Vv},Fv={preEnter:{opacity:0,y:-10,scale:.95,transition:Bv},enter:{opacity:1,y:0,scale:1,transition:Bv},exit:{opacity:0,y:10,scale:.95,transition:Bv}},Hv=[{name:"preventOverflow",enabled:!0,options:{altAxis:!0}}];function _v(e){return Math.min(window.innerHeight-2*Uv,e.maxHeight)}class Wv extends kv{constructor(e,t){super(e,t),this._menuID=void 0,this._willMenuClose=void 0,this.onResize=e=>{this.setState({maxHeight:_v(this.props)})},this.onWindowDownPress=e=>{this._isElementContainedOrTarget(e.target)||(this._willMenuClose=!0)},this.onWindowUpPress=e=>{this._willMenuClose&&!this._isElementContainedOrTarget(e.target)&&this.props.onMenuClose(),this._willMenuClose=!1},this.onKeyDown=e=>{const t=e.keyCode;9===t?Ov(e):27===t&&(e.preventDefault(),e.stopPropagation(),this.props.onMenuClose(),wv())},this.state={maxHeight:_v(e)},this._willMenuClose=!1,this._menuID=Mp()}componentDidMount(){this.props.isOpen&&this._enable(),window.addEventListener("resize",this.onResize)}shouldComponentUpdate(e,t){return Tp(this,e,t)}componentDidUpdate(e,t){const i=e.isOpen&&!e.isAutoCloseDisabled,n=this.props.isOpen&&!this.props.isAutoCloseDisabled;!i&&n?this._enable():i&&!n&&this._disable()}componentWillUnmount(){this.props.isOpen&&!this.props.isAutoCloseDisabled&&this._disable(),window.removeEventListener("resize",this.onResize)}_enable(){Pv(document.getElementById(this._menuID)),document.addEventListener("mousedown",this.onWindowDownPress),document.addEventListener("touchstart",this.onWindowDownPress),document.addEventListener("mouseup",this.onWindowUpPress),document.addEventListener("touchend",this.onWindowUpPress),document.addEventListener("keydown",this.onKeyDown)}_disable(){document.removeEventListener("mousedown",this.onWindowDownPress),document.removeEventListener("touchstart",this.onWindowDownPress),document.removeEventListener("mouseup",this.onWindowUpPress),document.removeEventListener("touchend",this.onWindowUpPress),document.removeEventListener("keydown",this.onKeyDown)}_isElementContainedOrTarget(e){const{target:t}=this.props,i=document.getElementById(this._menuID),n=i&&i.contains(e),a=!n&&document.getElementById(t),s=a&&a.contains(e);return n||s}render(){var e;const{children:t,className:i,portalClassName:n,target:a,options:s,isOpen:r,isDisabled:o,scrollerProps:l,size:c,onMouseEnter:d,onMouseLeave:u,onMenuCloseComplete:p}=this.props,{maxHeight:h}=this.state;return Vu()(vv,{className:n,target:a,options:Object.assign({placement:"bottom-start"},s,{modifiers:[...Hv,...null!=(e=null==s?void 0:s.modifiers)?e:[]]}),isOpen:r,closeTimeoutMilliseconds:zv,onClose:p},void 0,Vu()(ov.a,{},void 0,r?Vu()(ov.b.div,{initial:"preEnter",animate:"enter",exit:"exit",variants:Fv,id:this._menuID,className:(i||"")+" "+(Av.a[c]||"")+" "+(o&&Av.a.isDisabled||""),onMouseEnter:d,onMouseLeave:u},"container",Lv(ih,tp()({},l,{style:{maxHeight:h}}),t)):null))}}Wv.defaultProps={className:Av.a.menu,portalClassName:Av.a.menuPortal,size:Hh,maxHeight:600,isDisabled:!1,scrollerProps:{className:Av.a.menuScroller,scrollDirection:"vertical",autoScroll:!0}};var Qv=Wv,Gv=i("dQj/"),Kv=i.n(Gv);const Yv=Nd.a.createElement;function qv(e){const{className:t,children:i,kind:n,isDisabled:a,isHidden:s}=e,r=Xe()(e,["className","children","kind","isDisabled","isHidden"]);return Yv(zp,tp()({className:(t||"")+" "+(Kv.a.menuItem||"")+" "+(Kv.a[n]||"")+" "+(a&&Kv.a.isDisabled||"")+" "+(s&&Kv.a.isHidden||""),"data-qa-id":"dropdownItem",role:"menuitem"},r),i)}qv.defaultProps={kind:Dp,isDisabled:!1};var Zv=qv,Jv=i("SBxW"),Xv=i.n(Jv);const $v=Nd.a.createElement,{Component:ey}=Nd.a;class ty extends ey{constructor(...e){super(...e),this.onPress=e=>{const{value:t,onSelect:i,onPress:n}=this.props;i&&i(t),n&&n(e)}}render(){const e=this.props,{children:t,className:i,menuLabelClassName:n,iconComponent:a,isSelected:s,selectedIconAriaLabel:r}=e,o=Xe()(e,["children","className","menuLabelClassName","iconComponent","isSelected","selectedIconAriaLabel"]);return $v(Zv,tp()({className:(i||"")+" "+(s&&Xv.a.isSelected||"")},o,{onPress:this.onPress}),Vu()("div",{className:Xv.a.menuItemContainer},void 0,Vu()("div",{className:n},void 0,t),s?Vu()("div",{className:Xv.a.selectedIcon},void 0,Vu()(a,{"aria-label":r})):null))}}ty.defaultProps={className:Xv.a.menuItemContainer,menuLabelClassName:Xv.a.menuLabel};var iy=ty;function ny(e){var t=e["aria-label"],i=e.className,n=e.style,a={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-selected-560"};a["aria-hidden"]=!t,a.style=n,a.className=Ad.a.plexIcon+(i?" "+i:"");var s=[Nd.a.createElement.apply(Nd.a,["path",{d:"m78.756 298.564l-40 69.282 242.488 140 240-415.692-69.282-40-200 346.41-173.206-100"}].concat([]))];return t&&s.unshift(Nd.a.createElement("title",null,t)),Nd.a.createElement.apply(Nd.a,["svg",a].concat(s))}ny.propTypes={"aria-label":vc.a.string,className:vc.a.string,style:vc.a.object};var ay=ny;const sy=Nd.a.createElement;function ry(e){return sy(iy,tp()({},e,{selectedIconAriaLabel:Object(Ze.default)("Selected")}))}ry.defaultProps={iconComponent:ay};var oy=ry;const{useState:ly}=Nd.a;var cy=function(){return ly(Mp)[0]};const{useCallback:dy,useState:uy}=Nd.a;function py(){const e=cy(),t=uy(!1),i=t[1],n=t[0],a=dy(()=>{i(!n)},[n,i]),s=dy(()=>{i(!1)},[i]);return{menuButtonID:e,isMenuOpen:n,onMenuButtonPress:a,onMenuClose:s}}const hy="up",my="down";var gy=i("d36p"),vy=i.n(gy);function yy({className:e,kind:t,size:i,direction:n,isSelected:a}){return Vu()("span",{className:(e||"")+" "+(vy.a[n]||"")+" "+(vy.a[t]||"")+" "+(vy.a[i]||"")+" "+(a&&vy.a.isSelected||"")})}yy.defaultProps={className:vy.a.disclosureArrow,direction:my,kind:Dp,size:Hh,isSelected:!1};var fy=yy,by=i("vD73"),Iy=i.n(by);const Sy=Nd.a.createElement,{Component:Cy}=Nd.a;class My extends Cy{render(){const e=this.props,{className:t,arrowClassName:i,children:n,direction:a,kind:s,size:r,isSelected:o}=e,l=Xe()(e,["className","arrowClassName","children","direction","kind","size","isSelected"]),c=r||Hh;return Sy(zp,tp()({className:(t||"")+" "+(Iy.a[c]||"")+" "+(o&&Iy.a.isSelected||""),"aria-haspopup":!0,kind:s,size:r,isSelected:o},l),n,Vu()(fy,{className:(i||"")+" "+(Iy.a[a]||"")+" "+(Iy.a[c]||""),direction:a,kind:s,size:c,isSelected:o}))}}My.defaultProps={className:Iy.a.disclosureArrowButton,arrowClassName:Iy.a.disclosureArrow,direction:my,isSelected:!0};var Dy=My,Py=i("r4V+"),Oy=i.n(Py);function jy({children:e,id:t,className:i=Oy.a.menuButton,isMenuOpen:n,onPress:a}){return Vu()(Dy,{className:i,id:t,size:_h,direction:n?hy:my,isSelected:!1,onPress:a},void 0,e)}const{Fragment:wy,useCallback:Ty}=Nd.a;function Ey({className:e,values:t,activeValue:i,formatter:n,onSelect:a}){const{menuButtonID:s,isMenuOpen:r,onMenuButtonPress:o,onMenuClose:l}=py(),c=Ty(e=>{l(),a(e)},[l,a]);return Vu()(wy,{},void 0,Vu()(jy,{id:s,className:e,isMenuOpen:r,onPress:o},void 0,n(i)),Vu()(Qv,{target:s,isOpen:r,onMenuClose:l},void 0,t.map(e=>Vu()(oy,{value:e,isSelected:i===e,onSelect:c},String(e),n(e)))))}let Ny;function xy(e){return function(e){return!!e.v4}(e)?e.v4:e}!function(e){e.All="all",e.Remote="remote",e.Local="local"}(Ny||(Ny={}));var Ay=Object(Wu.a)(xy,e=>e.features),Ly=Object(Wu.a)(Ay,e=>e.dashboard);var ky=Object(Wu.a)(Ly,e=>e.bandwidth);function Ry(e){switch(e){case Ny.All:return Object(Ze.default)("All");case Ny.Remote:return Object(Ze.default)("Remote");case Ny.Local:return Object(Ze.default)("Local");default:return""}}var zy,Uy,Vy=i("odh7"),By=i("Xep9"),Fy=i("WQ3w"),Hy=i("phiu"),_y=i("/Eym"),Wy=i("sdC+");function Qy(e){switch(e){case zy.RealTime:return Object(Ze.default)("Real Time");case zy.TwelveHours:return Object(Ze.default)("Last 12 Hours");case zy.Day:return Object(Ze.default)("Last 24 Hours");case zy.Week:return Object(Ze.default)("Last 7 Days");case zy.Month:return Object(Ze.default)("Last 30 Days");case zy.NinetyDays:return Object(Ze.default)("Last 90 Days");case zy.Year:return Object(Ze.default)("Last Year");case zy.AllTime:return Object(Ze.default)("All Time");default:return""}}function Gy(e){switch(e){case zy.RealTime:return Uy.RealTime;case zy.TwelveHours:case zy.Day:return Uy.Hour;case zy.Week:return Uy.Day;case zy.Month:case zy.NinetyDays:return Uy.Week;case zy.Year:case zy.AllTime:return Uy.Month;default:return Uy.Day}}function Ky(e){switch(e){case zy.TwelveHours:return Object(Vy.a)(Object(Fy.a)(new Date,12));case zy.Day:return Object(Vy.a)(Object(By.a)(new Date,1));case zy.Week:return Object(Vy.a)(Object(_y.a)(new Date,1));case zy.Month:return Object(Vy.a)(Object(Hy.a)(new Date,1));case zy.NinetyDays:return Object(Vy.a)(Object(By.a)(new Date,90));case zy.Year:return Object(Vy.a)(Object(Wy.a)(new Date,1));case zy.AllTime:return 0;default:return}}function Yy(e,t){switch(e){case zy.TwelveHours:return"H:00";case zy.Day:return t?"H:00":"HH";case zy.Week:case zy.Month:case zy.NinetyDays:return t?"MMMM do":"MMM d";case zy.Year:return t?"MMMM":"MMM";case zy.AllTime:return t?"MMMM yyyy":"MMM yy";default:return t?"MMMM do":"MMM d"}}!function(e){e.RealTime="real-time",e.TwelveHours="twelve-hours",e.Day="day",e.Week="week",e.Month="month",e.NinetyDays="ninety-days",e.Year="year",e.AllTime="all-time"}(zy||(zy={})),function(e){e[e.Year=0]="Year",e[e.Month=1]="Month",e[e.Week=2]="Week",e[e.Day=3]="Day",e[e.Hour=4]="Hour",e[e.Minutes=5]="Minutes",e[e.RealTime=6]="RealTime"}(Uy||(Uy={}));var qy=i("r4sE"),Zy=i("sWYD"),Jy=i("M34a"),Xy=i("rT61"),$y=i.n(Xy);function ef({className:e,separator:t}){return Vu()("span",{className:e},void 0,t)}ef.defaultProps={className:$y.a.separator,separator:""};var tf=ef,nf=i("G6Tw");function af(e){if(null==e)return!1;const t=Object($c.a)(e);return Object(nf.a)(new Date,t)}const sf=["bps","Kbps","Mbps","Gbps","Tbps"];var rf=function(e,t=2){if(0===e)return(0).toFixed(t)+" "+sf[0];const i=parseInt(Math.floor(Math.log(e)/Math.log(1024)),10);return(e/Math.pow(1024,i)).toFixed(t)+" "+sf[i]};const of=["B","KB","MB","GB","TB"];var lf=function(e,t=2){if(0===e)return(0).toFixed(t)+" "+of[0];const i=parseInt(Math.floor(Math.log(e)/Math.log(1024)),10);return(e/Math.pow(1024,i)).toFixed(t)+" "+of[i]},cf=i("EOrL"),df=i.n(cf);const{Fragment:uf}=Nd.a;function pf({children:e,className:t=df.a.container,errorClassName:i=df.a.errorMessage,isSpinnerVisible:n,errorMessage:a}){return Vu()("div",{className:t},void 0,a?Vu()(nv,{className:i},void 0,a):Vu()(uf,{},void 0,n?Vu()(Ip,{className:df.a.spinner,size:yp.Large}):null,e))}var hf=i("CsFZ"),mf=i.n(hf);const gf=Nd.a.createElement;function vf(e){return gf(pf,tp()({},e,{className:mf.a.container,errorClassName:mf.a.errorMessage}))}function yf(e){return null==e?"":0===e?Object(Ze.default)("Now").toUpperCase():e%60==0?Math.floor(e/60)+"m":e>60?Math.floor(e/60)+"m "+e%60+"s":e+"s"}function ff(e){return e.displayName||e.name||"Component"}var bf=i("ydjH");const If=Nd.a.createElement,{Component:Sf}=Nd.a;var Cf=function(e,t){var i,n;const a=Object.keys(t);return n=i=class extends Sf{constructor(e,t){super(e,t),this._pairs=void 0,this.state=a.reduce((e,t)=>(e[t]=null,e),{})}componentDidMount(){this._pairs=a.map(e=>[e,Object(bf.a)(t[e]())]),this._pairs.forEach(([e,t])=>{t.promise.then(t=>{this.setState({[e]:t})})})}componentWillUnmount(){this._pairs.forEach(([e,t])=>{t.cancel()})}render(){return If(e,tp()({},this.props,this.state))}},i.displayName="AsyncProps("+ff(e)+":"+a.join(",")+")",i.WrappedComponent=e,n};function Mf(e,t,i,n,a,s){const r=t-s,o=n>=0?1:-1,l=n>=0?1:0,c=Math.min(Math.abs(i)/2,Math.abs(n)/2),d=Math.min(c,a);return"M "+e+","+(r+o*d)+"\n    A "+d+","+d+",0,0,"+l+","+(e+d)+","+r+"\n    L "+(e+i-d)+","+r+"\n    A "+d+","+d+",0,0,"+l+","+(e+i)+","+(r+o*d)+"\n    L "+(e+i)+","+(r+n-o*d)+"\n    A "+d+","+d+",0,0,"+l+","+(e+i-d)+","+(r+n)+"\n    L "+(e+d)+","+(r+n)+"\n    A "+d+","+d+",0,0,"+l+","+e+","+(r+n-o*d)+" Z"}var Df=function(e){const{x:t,y:i,width:n,height:a,radius:s,fill:r,barGap:o,data:l,dataKey:c,seriesOrdering:d,seriesIndex:u}=e,p=d.slice(0,u),h=l.find(t=>t[c]===e[c]),m=p.reduce((e,t)=>(0!==h[t]&&e++,e),0)*o;return Vu()("path",{d:Mf(t,i,n,a,s,m),fill:r})},Pf=i("dSJO"),Of=i.n(Pf);const{Component:jf}=Nd.a;class wf extends jf{constructor(...e){super(...e),this.onPress=()=>{const{dataKey:e,onPress:t}=this.props;t&&t(e)},this.onMouseEnter=()=>{const{dataKey:e,onMouseEnter:t}=this.props;t&&t(e)}}render(){const{className:e,title:t,labelColor:i,onMouseLeave:n}=this.props;return Vu()(zp,{className:e,onPress:this.onPress,onMouseEnter:this.onMouseEnter,onMouseLeave:n},void 0,Vu()("span",{className:Of.a.dot,style:{backgroundColor:i}}),t)}}wf.defaultProps={className:Of.a.legendLabel};var Tf=wf,Ef=i("J9Q8"),Nf=i.n(Ef);const{Component:xf,Fragment:Af}=Nd.a;var Lf=Vu()(tf,{}),kf=Vu()(tf,{});class Rf extends xf{componentDidUpdate(e,t){const{active:i,onActive:n,onInactive:a}=this.props,{active:s}=e;!s&&i&&n?n():s&&!i&&a&&a()}render(){const{active:e,label:t,payload:i,series:n,showTotal:a,labelFormatter:s,valueFormatter:r}=this.props;if(!e||!i)return null;const o=s?s(t):t,l=a?i.reduce((e,t)=>e+t.value,0):null;return Vu()("div",{className:Nf.a.container},void 0,Vu()("div",{className:Nf.a.label},void 0,o),Vu()("div",{className:Nf.a.separator}),Vu()("div",{},void 0,Vu()("div",{className:Nf.a.values},void 0,i.map(e=>{const t=n.find(t=>t.dataKey===e.dataKey).title;return Vu()("div",{className:Nf.a.valueRow},e.dataKey,Vu()(Tf,{className:Nf.a.LegendLabel,title:t,labelColor:e.color}),Lf,r(e.value))})),a?Vu()(Af,{},void 0,Vu()("div",{className:Nf.a.separator}),Vu()("div",{className:Nf.a.total},void 0,Object(Ze.default)("Total"),kf,r(l))):null))}}Rf.defaultProps={showTotal:!0};var zf=Rf,Uf=i("VqzW"),Vf=i.n(Uf);const Bf=Nd.a.createElement,{Component:Ff}=Nd.a;function Hf(e){return e.every(e=>e.visible)}function _f(e){return function(t){return Bf(Df,tp()({},t,e))}}class Wf extends Ff{constructor(e,t){super(e,t),this.onMouseEnter=e=>{this.setState({hoveredDataKey:e})},this.onMouseLeave=()=>{this.setState({hoveredDataKey:null})},this.renderLegend=()=>{const{series:e,legendSummary:t,onLegendPress:i}=this.props,{hoveredDataKey:n}=this.state;return Vu()("div",{className:Vf.a.legendContainer},void 0,Vu()("div",{className:Vf.a.legendLabels},void 0,e.map(e=>{const t=!e.visible||n&&n!==e.dataKey&&!e.selected;return Vu()(Tf,{className:t?Vf.a.translucentLegendLabel:Vf.a.legendLabel,dataKey:e.dataKey,title:e.title,labelColor:e.color,onPress:i,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave},e.dataKey)})),t?Vu()("div",{className:Vf.a.legendSummary},void 0,t):null)},this.state={hoveredDataKey:null}}componentDidUpdate(e,t){const{recharts:i,onChartReady:n}=this.props;!e.recharts&&i&&n&&n()}render(){const{className:e,recharts:t,width:i,height:n,series:a,data:s,xAxisKey:r,stacked:o,isAnimationActive:l,showTooltipTotal:c,chartMargin:d,gridLinesStyles:u,barGap:p,legendHeight:h,tooltipLabelFormatter:m,tooltipValueFormatter:g,xAxisDomain:v,xAxisStyle:y,xAxisPadding:f,xAxisTick:b,xAxisTickMargin:I,xAxisTickLineStyle:S,xAxisTickFormatter:C,yAxisDomain:M,yAxisWidth:D,yAxisStyle:P,yAxisPadding:O,yAxisTick:j,yAxisTickMargin:w,yAxisTickLineStyle:T,yAxisTickFormatter:E}=this.props,{hoveredDataKey:N}=this.state;if(!t)return null;const{CartesianGrid:x,Legend:A,BarChart:L,Bar:k,ResponsiveContainer:R,Tooltip:z,XAxis:U,YAxis:V}=t,B=a.map(e=>e.dataKey);return Vu()(R,{className:e,width:i,height:n},void 0,Vu()(L,{data:s,margin:d},void 0,Bf(x,u),Vu()(U,{domain:v,axisLine:y,dataKey:r,padding:f,tick:b,tickLine:S,tickMargin:I,minTickGap:0,tickFormatter:C}),Vu()(V,{domain:M,axisLine:P,padding:O,tick:j,tickLine:T,tickMargin:w,tickCount:6,tickFormatter:E,width:D}),Vu()(z,{cursor:!1,isAnimationActive:!1,content:(F={series:a,showTotal:c,labelFormatter:m,valueFormatter:g},function(e){return Bf(zf,tp()({},e,F))})}),a.map((e,t)=>Vu()(k,{className:N&&N!==e.dataKey&&Hf(a)?Vf.a.translucentBar:Vf.a.bar,dataKey:e.dataKey,shape:_f({barGap:o?p:0,data:s,dataKey:r,seriesOrdering:B,seriesIndex:t}),radius:2,fill:e.color,isAnimationActive:l,stackId:o?"stacked":null,onMouseEnter:this.onMouseEnter.bind(null,e.dataKey),onMouseLeave:this.onMouseLeave},e.dataKey)),Vu()(A,{height:h,content:this.renderLegend,wrapperStyle:{paddingLeft:D+"px"}})));var F}}Wf.defaultProps={xAxisKey:"date",stacked:!0,isAnimationActive:!0,chartMargin:{top:15,right:20,bottom:10,left:0},gridLinesStyles:{horizontal:!0,vertical:!1,stroke:"rgba(255, 255, 255, 0.1)"},barGap:2,legendHeight:20,xAxisStyle:!1,xAxisPadding:{left:0,right:0},xAxisTick:{fill:"rgba(255, 255, 255, 0.45)",fontSize:"10px"},xAxisTickMargin:15,xAxisTickLineStyle:{fill:"rgba(255, 255, 255, 0.1)",strokeWidth:5},yAxisWidth:60,yAxisStyle:!1,yAxisPadding:{top:0,bottom:0},yAxisTick:{fill:"rgba(255, 255, 255, 0.45)",fontSize:"10px"},yAxisTickMargin:5,yAxisTickLineStyle:!1};var Qf=Cf(Wf,{recharts:()=>i.e(0).then(i.bind(null,"4XXU"))});var Gf=function(e){const{x:t,y:i,margin:n,fill:a,fontSize:s,index:r,visibleTicksCount:o,payload:l,tickFormatter:c}=e;let d="middle";0===r?d="start":r+1===o&&(d="end");const u=c?c(l.value):l.value;return Vu()("g",{transform:"translate("+t+","+i+")"},void 0,Vu()("text",{dy:n,fill:a,fontSize:s,textAnchor:d},void 0,u))},Kf=i("4ovG"),Yf=i.n(Kf);const qf=Nd.a.createElement,{Component:Zf}=Nd.a;function Jf(e){return e.every(e=>e.visible)}function Xf(e){return function(t){return qf(zf,tp()({},t,e))}}class $f extends Zf{constructor(e,t){super(e,t),this.onMouseEnter=e=>{this.setState({hoveredDataKey:e})},this.onMouseLeave=()=>{this.setState({hoveredDataKey:null})},this.renderLegend=()=>{const{series:e,legendSummary:t,onLegendPress:i}=this.props,{hoveredDataKey:n}=this.state;return Vu()("div",{className:Yf.a.legendContainer},void 0,Vu()("div",{className:Yf.a.legendLabels},void 0,e.map(e=>{const t=!e.visible||n&&n!==e.dataKey&&!e.selected;return Vu()(Tf,{className:t?Yf.a.translucentLegendLabel:Yf.a.legendLabel,dataKey:e.dataKey,title:e.title,labelColor:e.color,onPress:i,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave},e.dataKey)})),t?Vu()("div",{className:Yf.a.legendSummary},void 0,t):null)},this.state={hoveredDataKey:null}}componentDidUpdate(e,t){const{recharts:i,onChartReady:n}=this.props;!e.recharts&&i&&n&&n()}render(){const{className:e,recharts:t,width:i,height:n,series:a,data:s,xAxisKey:r,connectNulls:o,lineType:l,lineStrokeWidth:c,isAnimationActive:d,showTooltipTotal:u,chartMargin:p,gridLinesStyles:h,legendHeight:m,tooltipLabelFormatter:g,tooltipValueFormatter:v,dot:y,xAxisDomain:f,xAxisStyle:b,xAxisPadding:I,xAxisTick:S,xAxisTickInterval:C,xAxisTickMargin:M,xAxisTickLineStyle:D,xAxisTickFormatter:P,yAxisDomain:O,yAxisWidth:j,yAxisStyle:w,yAxisPadding:T,yAxisTick:E,yAxisTickMargin:N,yAxisTickLineStyle:x,yAxisTickFormatter:A,onTooltipActive:L,onTooltipInactive:k}=this.props,{hoveredDataKey:R}=this.state;if(!t)return null;const{CartesianGrid:z,Legend:U,LineChart:V,Line:B,ResponsiveContainer:F,Tooltip:H,XAxis:_,YAxis:W}=t,Q=[...a].reverse();return Vu()(F,{className:e,width:i,height:n},void 0,Vu()(V,{data:s,margin:p},void 0,qf(z,h),Vu()(_,{domain:f,axisLine:b,dataKey:r,padding:I,tick:(G=Object.assign({},S,{margin:M,tickFormatter:P}),function(e){return qf(Gf,tp()({},e,G))}),tickLine:D,minTickGap:0,interval:C}),Vu()(W,{domain:O,axisLine:w,padding:T,tick:E,tickLine:x,tickMargin:N,tickCount:6,tickFormatter:A,width:j}),Vu()(H,{cursor:!1,isAnimationActive:!1,content:Xf({series:a,showTotal:u,labelFormatter:g,valueFormatter:v,onActive:L,onInactive:k})}),Q.map(e=>Vu()(B,{className:R&&R!==e.dataKey&&Jf(a)?Yf.a.translucentLine:Yf.a.line,type:l,dataKey:e.dataKey,dot:y,stroke:e.color,strokeWidth:c,connectNulls:o,isAnimationActive:d,onMouseEnter:this.onMouseEnter.bind(null,e.dataKey),onMouseLeave:this.onMouseLeave},e.dataKey)),Vu()(U,{height:m,content:this.renderLegend,wrapperStyle:{paddingLeft:j+"px"}})));var G}}$f.defaultProps={xAxisKey:"date",connectNulls:!1,lineType:"monotone",lineStrokeWidth:3,isAnimationActive:!0,chartMargin:{top:15,right:20,bottom:10,left:0},gridLinesStyles:{horizontal:!0,vertical:!1,stroke:"rgba(255, 255, 255, 0.1)"},legendHeight:20,dot:!1,xAxisStyle:!1,xAxisPadding:{left:0,right:0},xAxisTick:{fill:"rgba(255, 255, 255, 0.45)",fontSize:"10px"},xAxisTickMargin:20,xAxisTickLineStyle:{fill:"rgba(255, 255, 255, 0.1)",strokeWidth:5},yAxisWidth:75,yAxisStyle:!1,yAxisPadding:{top:0,bottom:0},yAxisTick:{fill:"rgba(255, 255, 255, 0.45)",fontSize:"10px"},yAxisTickMargin:5,yAxisTickLineStyle:!1};var eb=Cf($f,{recharts:()=>i.e(0).then(i.bind(null,"4XXU"))});const{Fragment:tb,useCallback:ib,useMemo:nb,useState:ab}=Nd.a;function sb(e){return af(e)||Object(Vy.a)(Object(Jy.a)(new Date))<=e}function rb(e,t,i,n=!1){if(Gy(t)===Uy.Day&&af(e)){const e=Object(Ze.default)("Today");return n?e.toUpperCase():e}return Object(Zy.a)(Object($c.a)(e),i)}var ob=Vu()(tf,{}),lb=Vu()(tf,{});function cb({isRemoteVisible:e,isLocalVisible:t,summedData:i}){const n=e&&t;return Vu()(tb,{},void 0,n?Object(Ze.default)("Averages"):Object(Ze.default)("Average"),": ",n?Vu()(tb,{},void 0,Ry(Ny.Remote),ob):null,e?rf(8*(i[Ny.Remote]||0)/120,0):null,n?Vu()(tb,{},void 0," | ",Ry(Ny.Local),lb):null,t?rf(8*(i[Ny.Local]||0)/120,0):null)}var db=Vu()(tf,{}),ub=Vu()(tf,{});function pb({isRemoteVisible:e,isLocalVisible:t,summedData:i}){const n=e&&t;return Vu()(tb,{},void 0,n?Object(Ze.default)("Totals"):Object(Ze.default)("Total"),": ",n?Vu()(tb,{},void 0,Ry(Ny.Remote),db):null,e?lf(i[Ny.Remote],0):null,n?Vu()(tb,{},void 0," | ",Ry(Ny.Local),ub):null,t?lf(i[Ny.Local],0):null)}function hb({statistics:e,activeBandwidthSourceType:t,responseTimestampMilliseconds:i,activeTimePeriod:n,isPending:a,isPopulated:s,errorMessage:r,onGraphBandwidthSourceTypeSelect:o,onGraphTooltipActive:l,onGraphTooltipInactive:c}){const d=ab(!1),u=d[1],p=d[0],h=n===zy.RealTime,{data:m,summedData:g}=nb(()=>h?function(e,t,i){if(null==i)return{data:[],summedData:{}};const n=t===Ny.All||t===Ny.Remote,a=t===Ny.All||t===Ny.Local,s=Math.floor(i/1e3)-120-1,r=Array.from(new Array(121),(e,t)=>({at:s+t,date:120-t,[Ny.Remote]:n?0:void 0,[Ny.Local]:a?0:void 0})),o={};return e.forEach(e=>{const{at:t,lan:i,bytes:s}=e,l=r.findIndex(e=>e.at===Number(t));if(-1===l)return;const c=r[l];!i&&n&&(c[Ny.Remote]=(c[Ny.Remote]||0)+s,o[Ny.Remote]=(o[Ny.Remote]||0)+s),i&&a&&(c[Ny.Local]=(c[Ny.Local]||0)+s,o[Ny.Local]=(o[Ny.Local]||0)+s),r[l]=c}),{data:r,summedData:o}}(e,t,i):function(e,t){const i=t===Ny.All||t===Ny.Remote,n=t===Ny.All||t===Ny.Local,a={},s={};return e.forEach(e=>{const{at:t,lan:r,bytes:o}=e,l=String(t);a[l]||(a[l]={}),!r&&i&&(a[l][Ny.Remote]=(a[l][Ny.Remote]||0)+o,s[Ny.Remote]=(s[Ny.Remote]||0)+o),r&&n&&(a[l][Ny.Local]=(a[l][Ny.Local]||0)+o,s[Ny.Local]=(s[Ny.Local]||0)+o)}),{data:Object.keys(a).sort().map(e=>{const t=a[e],i=parseInt(e,10);return Object.assign({},t,{at:i,date:i})}),summedData:s}}(e,t),[t,h,i,e]),v=t===Ny.All||t===Ny.Remote,y=t===Ny.All||t===Ny.Local,f=[{dataKey:Ny.Remote,title:Ry(Ny.Remote),visible:v,selected:t===Ny.Remote,color:"#366dfc"},{dataKey:Ny.Local,title:Ry(Ny.Local),visible:y,selected:t===Ny.Local,color:"#e69f23"}],b=h?eb:Qf,I=h?cb:pb,S=!p||(h?!s:a),C=(h||!a)&&s,M=ib(e=>0===e?Object(Ze.default)("Now"):Object(Ze.default)("{unitOfTime} ago",{unitOfTime:yf(e)}),[]),D=ib(e=>{if(Gy(n)===Uy.Week){const t=rb(e,n,Yy(n,!0)),i=Object(Vy.a)(Object(qy.a)(Object($c.a)(e),1));if(af(e)&&sb(i))return Object(Ze.default)("Today");return t+" - "+rb(i,n,Yy(n,!0))}return rb(e,n,Yy(n,!0))},[n]),P=ib(e=>rf(8*e,0),[]),O=ib(e=>lf(e,0),[]),j=ib(e=>yf(e),[]),w=ib(e=>{if(n===zy.Month){const t=rb(e,n,Yy(n)),i=Object(Vy.a)(Object(qy.a)(Object($c.a)(e),1));if(af(e)&&sb(i))return Object(Ze.default)("Today").toUpperCase();return t+" - "+rb(i,n,Yy(n))}return rb(e,n,Yy(n),!0)},[n]),T=ib(e=>0===e?"":h?rf(8*e,0):lf(e,0),[h]),E=ib(()=>{u(!0)},[]);return Vu()(vf,{isSpinnerVisible:S,errorMessage:r},void 0,C?Vu()(b,{width:"100%",height:280,series:f,data:m,legendSummary:Vu()(I,{isRemoteVisible:v,isLocalVisible:y,summedData:g}),isAnimationActive:!h,xAxisTickInterval:h?9:null,tooltipLabelFormatter:h?M:D,tooltipValueFormatter:h?P:O,xAxisTickFormatter:h?j:w,yAxisTickFormatter:T,onLegendPress:o,onChartReady:E,onTooltipActive:l,onTooltipInactive:c}):null)}var mb=i("cV2A"),gb=i.n(mb);const{useCallback:vb,useEffect:yb,useMemo:fb,useRef:bb,useState:Ib}=Nd.a;function Sb(){const e=Object(Hu.c)(),[t]=Lg(),i=bb(null),n=Ib(Ny.All),a=n[1],s=n[0],r=fb(()=>[Ny.All,Ny.Remote,Ny.Local],[]),o=Ib(zy.RealTime),l=o[1],c=o[0],d=Ib(c),u=d[1],p=d[0],h=fb(()=>[zy.RealTime,zy.TwelveHours,zy.Day,zy.Week,zy.Month,zy.NinetyDays,zy.Year,zy.AllTime],[]),m=Qi(t.version,qi.dashboardBandwidthChart),{statistics:g,isPending:v,isPopulated:y,error:f,requestTimestampMilliseconds:b,responseTimestampMilliseconds:I}=Object(Hu.d)(ky),S=Fg(v,!0),C=vb(()=>{e(qs.actions.bandwidthFetchRequested({server:t,timespan:Gy(c),after:Ky(c)}))},[c,e,t]),M=vb(()=>{e(qs.actions.bandwidthAbortRequested())},[e]),D=vb(e=>{a(e)},[]),P=vb(e=>{l(e)},[]),O=vb(e=>{const t=e===s?Ny.All:e;a(t)},[s]),j=vb(()=>{c===zy.RealTime&&(i.current&&window.clearTimeout(i.current),M())},[c,M]),w=vb(()=>{c===zy.RealTime&&C()},[c,C]);return yb(()=>(m&&C(),M),[m,C,M]),yb(()=>{if(c===zy.RealTime&&b){const e=Date.now()-b,t=Math.max(1e3-e,0);i.current=window.setTimeout(C,t)}return()=>{i.current&&window.clearTimeout(i.current)}},[b,C,c]),yb(()=>{u(c)},[g]),yb(()=>()=>{e(qs.actions.reset())},[e]),Vu()("div",{className:gb.a.container},void 0,Vu()(Wg,{title:Object(Ze.default)("Bandwidth")},void 0,m?Vu()("div",{},void 0,Vu()(Ey,{values:r,activeValue:s,formatter:Ry,onSelect:D}),Vu()(Ey,{values:h,activeValue:c,formatter:Qy,onSelect:P})):null),Vu()("div",{className:gb.a.graph},void 0,m?Vu()(hb,{statistics:g,responseTimestampMilliseconds:I,activeBandwidthSourceType:s,activeTimePeriod:p,isPending:S,isPopulated:y,errorMessage:f?Object(Ze.default)("Unable to load statistics"):null,onGraphBandwidthSourceTypeSelect:O,onGraphTooltipActive:j,onGraphTooltipInactive:w}):Vu()(rv,{},void 0,Object(Ze.default)("The Bandwidth chart requires Plex Media Server {version} or higher",{version:qi.dashboardBandwidthChart}))))}function Cb(...e){return function(...t){for(let i=0,n=e.length;i<n;i++){const n=e[i];"function"==typeof n&&n(...t)}}}const Mb="topCenter";var Db=i("B854"),Pb=i.n(Db);const Ob=Nd.a.createElement,jb=fv(Tv.tooltipSpeed),wb=1e3*jb,Tb={opacity:{ease:"easeOut",duration:jb},y:{ease:Nv.motionEasing,duration:jb},x:{ease:Nv.motionEasing,duration:jb},scale:{ease:Nv.motionEasing,duration:jb}};function Eb(e){switch(e){case"topLeft":case Mb:case"topRight":return 5;case"bottomLeft":case"bottomCenter":case"bottomRight":return-5;case"middleLeft":case"middleRight":default:return 0}}function Nb(e){switch(e){case"topLeft":case Mb:case"topRight":return 0;case"bottomLeft":case"bottomCenter":case"bottomRight":return 0;case"middleLeft":return 5;case"middleRight":return-5;default:return 0}}function xb(e){switch(e){case"topLeft":case Mb:case"topRight":return-5;case"bottomLeft":case"bottomCenter":case"bottomRight":return 5;case"middleLeft":case"middleRight":default:return 0}}function Ab(e){switch(e){case"topLeft":case Mb:case"topRight":return 0;case"bottomLeft":case"bottomCenter":case"bottomRight":return 0;case"middleLeft":return-5;case"middleRight":return 5;default:return 0}}const Lb={before:e=>({opacity:0,y:Eb(e),x:Nb(e),scale:.95,transition:Tb}),enter:{opacity:1,y:0,x:.001,scale:1,transition:Tb},exit:e=>({opacity:0,y:xb(e),x:Ab(e),scale:.95,transition:Tb})},kb={topLeft:{placement:"top-start"},[Mb]:{placement:"top"},topRight:{placement:"top-end"},bottomLeft:{placement:"bottom-start"},bottomCenter:{placement:"bottom"},bottomRight:{placement:"bottom-end"},middleLeft:{placement:"left"},middleRight:{placement:"right"}};function Rb(e){const{children:t,className:i,target:n,attachment:a,options:s,isOpen:r}=e,o=Xe()(e,["children","className","target","attachment","options","isOpen","onMenuClose"]);return Vu()(vv,{className:Pb.a.tooltipPortal,target:n,options:s||kb[a],isOpen:r,closeTimeoutMilliseconds:wb},void 0,Vu()(ov.a,{},void 0,r?Ob(ov.b.div,tp()({key:"container",initial:"before",animate:"enter",exit:"exit",variants:Lb,custom:a,className:i||Pb.a[a]},o),t):null))}Rb.defaultProps={attachment:"bottomCenter"};var zb=Rb;const Ub=Nd.a.createElement;var Vb=function(e){const{children:t}=e,i=Xe()(e,["children"]);return Ub("div",i,t)};const Bb=Nd.a.createElement,{Component:Fb,Fragment:Hb}=Nd.a;class _b extends Fb{constructor(e,t){super(e,t),this._isFocused=void 0,this._isHovered=void 0,this._targetID=void 0,this.onMouseEnter=e=>{this.props.showOnHover&&(this._isHovered=!0,this.setState({isOpen:!0}))},this.onMouseLeave=e=>{this.props.showOnHover&&(this._isHovered=!1,this.setState({isOpen:this._isFocused}))},this.onFocus=e=>{this.props.showOnFocus&&(this._isFocused=!0,this.setState({isOpen:!0}))},this.onBlur=e=>{this.props.showOnFocus&&(this._isFocused=!1,this.setState({isOpen:this._isHovered}))},this.onPress=e=>{this.props.hideOnPress&&(this._isHovered=!1,this._isFocused=!1,this.setState({isOpen:!1}))},this.state={isOpen:!1},this._isHovered=!1,this._isFocused=!1,this._targetID=Mp()}shouldComponentUpdate(e,t){return Tp(this,e,t)}componentDidUpdate(e){const{hideOnDisabled:t,isDisabled:i}=this.props,{isOpen:n}=this.state;n&&t&&i&&!e.isDisabled&&(this._isHovered=!1,this._isFocused=!1,this.setState({isOpen:!1}))}render(){const e=this.props,{id:t,component:i,tooltip:n,tooltipClassName:a,tooltipFocusedClassName:s,tooltipAttachment:r,tooltipTarget:o,tooltipOptions:l,onMouseEnter:c,onMouseLeave:d,onFocus:u,onBlur:p,onPress:h}=e,m=Xe()(e,["id","component","tooltip","tooltipClassName","tooltipFocusedClassName","tooltipAttachment","tooltipTarget","tooltipOptions","showOnHover","showOnFocus","hideOnDisabled","hideOnPress","onMouseEnter","onMouseLeave","onFocus","onBlur","onPress"]),{isOpen:g}=this.state,v=this._isFocused&&s?s:a;return Vu()(Hb,{},void 0,Bb(i,tp()({id:t||this._targetID,onMouseEnter:Cb(this.onMouseEnter,c),onMouseLeave:Cb(this.onMouseLeave,d),onFocus:Cb(this.onFocus,u),onBlur:Cb(this.onBlur,p),onPress:Cb(this.onPress,h)},m)),n?Vu()(zb,{className:v,attachment:r,options:l,target:o||t||this._targetID,isOpen:g},void 0,n):null)}}_b.defaultProps={component:Vb,showOnHover:!0,showOnFocus:!0,hideOnPress:!0,hideOnDisabled:!0};var Wb=_b,Qb=Object(Wu.a)(xy,e=>e.core);var Gb=Object(vg.a)((function(e){return Object(Wu.a)(Qb,t=>t.serverNowPlayingSessions[e])})),Kb=i("dz8L");function Yb(e){var t=e["aria-label"],i=e.className,n=e.style,a={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-dashboard-expand-560"};a["aria-hidden"]=!t,a.style=n,a.className=Ad.a.plexIcon+(i?" "+i:"");var s=[Nd.a.createElement.apply(Nd.a,["path",{d:"M46.3324414,560 L46.3324414,504 L514,504 L514,560 L46.3324414,560 Z M46.3324414,392 L46.3324414,336 L514,336 L514,392 L46.3324414,392 Z M514,4.54747351e-13 L514,224 L46,224 L46,168 L46.1324766,168 L46.1324766,39.125 L46.3324414,39.125 L46.3324414,4.54747351e-13 L514,4.54747351e-13 Z M458.00987,168 L458.00987,56 L102.122607,56 L102.122607,168 L458.00987,168 Z"}].concat([]))];return t&&s.unshift(Nd.a.createElement("title",null,t)),Nd.a.createElement.apply(Nd.a,["svg",a].concat(s))}Yb.propTypes={"aria-label":vc.a.string,className:vc.a.string,style:vc.a.object};var qb=Yb,Zb=i("FdSe");const{useEffect:Jb,useRef:Xb}=Nd.a;function $b(e){const t=Xb();return Jb(()=>{t.current=e},[e]),t.current}var{useEffect:eI}=Nd.a;var tI=i("uCj2"),{useEffect:iI}=Nd.a;function nI(e,t=!0){var{metricsPage:i,metricsContextTuple:n}=Object(Zb.d)();iI(()=>{t?Object(ne.c)("metrics").trackView(Object.assign({},e,{page:i,contextTuple:n})):tI.a.startPeriod("client:view:"+i)},[t,n,i,JSON.stringify(e)])}const aI=Nd.a.createElement,{useCallback:sI,useEffect:rI,useState:oI}=Nd.a;function lI({className:e,style:t,children:i,forwardedRef:n,isOpen:a=!0,closeDelayMilliseconds:s=0,allowInteractionEventBubbling:r=!1,onOpen:o,onClose:l}){const c=oI(a),d=c[1],u=c[0],p=sI(e=>{r||e.stopPropagation()},[r]);return rI(()=>{let e;return a?(d(!0),null==o||o()):e=window.setTimeout(()=>{d(!1),null==l||l()},s),()=>{e&&window.clearTimeout(e)}},[s,a,l,o]),u?Fu.a.createPortal(aI("div",{className:e,style:t,ref:n,onTouchStart:p,onTouchMove:p,onTouchEnd:p,onTouchCancel:p,onMouseDown:p,onMouseUp:p,onClick:p,onFocus:p,onBlur:p},i),document.body):null}var cI=Nd.a.forwardRef((e,t)=>aI(lI,tp()({},e,{forwardedRef:t}))),dI=i("roui"),uI=i.n(dI);const pI=Nd.a.createElement,{useCallback:hI,useEffect:mI,useRef:gI}=Nd.a,vI=fv(Tv.modalSpeed),yI=1e3*vI,fI={ease:"easeOut",duration:vI},bI={opacity:fI},II={enter:{opacity:1,transition:bI},exit:{opacity:0,transition:bI}},SI={scale:{ease:Nv.motionEasing,duration:vI},opacity:fI},CI={enter:{opacity:1,scale:1,transition:SI},exit:{opacity:0,scale:.95,transition:SI}};function MI(e){if(function(e){return e.nativeEvent instanceof MouseEvent}(e))return e.target;const t=e.changedTouches;if(1===t.length){const e=t[0];return document.elementFromPoint(e.clientX,e.clientY)}return null}function DI(e,t){const i=MI(e);if(i){const e=Fu.a.findDOMNode(t);return!e||!e.contains(i)}return!1}function PI({children:e,className:t,backdropClassName:i=uI.a.modalBackdrop,containerClassName:n=uI.a.modalContainer,size:a=yp.Medium,isOpen:s,shouldTrackOnClose:r=!1,preventCloseOnBackdropPress:o=!1,onModalClose:l}){const c=gI(null),d=gI(!1),u=hI(e=>{d.current=DI(e,c.current)},[]),p=hI(e=>{!o&&d.current&&DI(e,c.current)&&l(),d.current=!1},[l,o]),h=hI(e=>{d.current=!1},[]),m=hI(e=>{d.current=!1},[]),g=hI(e=>{const t=e.keyCode;9===t?Ov(e):27===t&&(e.preventDefault(),e.stopPropagation(),l(),wv())},[l]),v=hI(e=>{c.current=e,e&&Pv(Fu.a.findDOMNode(e))},[]);return nI({},s),function(e,t=!1){var{metricsPage:i}=Object(Zb.d)(),n=$b(e);eI(()=>{n&&!e&&t&&Object(ne.c)("metrics").trackView({page:i,action:Rd.t})},[e,n,t,i])}(s,r),mI(()=>{let e;return s&&(e=window.setTimeout(jv,yI),document.addEventListener("keydown",g)),()=>{e&&window.clearTimeout(e),s&&document.removeEventListener("keydown",g)}},[s,g]),Vu()(cI,{isOpen:s,closeDelayMilliseconds:yI,className:n},void 0,Vu()(ov.a,{},void 0,s?Vu()(ov.b.div,{initial:"exit",animate:"enter",exit:"exit",variants:II,className:i,onMouseDown:u,onMouseUp:p,onTouchStart:u,onTouchEnd:p,onTouchMove:h,onTouchCancel:m},"backdrop",pI(ov.b.div,{key:"modal",initial:"exit",animate:"enter",exit:"exit",variants:CI,className:t||uI.a[a],ref:v},e)):void 0))}var OI=i("s5ij"),jI=i.n(OI);const wI=Nd.a.createElement;function TI(e){let{children:t,className:i,innerClassName:n=jI.a.innerModalBody}=e,a=Xe()(e,["children","className","innerClassName"]);const s=a.scrollDirection!==cp.None;return i||(i=s?jI.a.modalScroller:jI.a.modalBody),wI(up,tp()({},a,{className:i}),s?Vu()("div",{className:n},void 0,t):t)}function EI(e){var t=e["aria-label"],i=e.className,n=e.style,a={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-remove-560"};a["aria-hidden"]=!t,a.style=n,a.className=Ad.a.plexIcon+(i?" "+i:"");var s=[Nd.a.createElement.apply(Nd.a,["path",{d:"m120 70l-50 50 160 160-160 160 50 50 160-160 160 160 50-50-160-160 160-160-50-50-160 160-160-160"}].concat([]))];return t&&s.unshift(Nd.a.createElement("title",null,t)),Nd.a.createElement.apply(Nd.a,["svg",a].concat(s))}EI.propTypes={"aria-label":vc.a.string,className:vc.a.string,style:vc.a.object};var NI=EI,xI=i("dO6p"),AI=i.n(xI),LI=Vu()(NI,{});function kI({children:e,className:t=AI.a.modalContent,onModalClose:i}){return Vu()("div",{className:t},void 0,Vu()(ev,{className:AI.a.closeButton,onPress:i},void 0,LI),e)}var RI=i("G5wA"),zI=i.n(RI);function UI({children:e,className:t=zI.a.modalHeader}){return Vu()("div",{className:t},void 0,e)}var VI=i("ZZfJ"),BI=i.n(VI);function FI({isOpen:e,errorMessage:t,metricsPage:i,onModalClose:n}){return Vu()(Zb.a,{metricsPage:i},void 0,Vu()(PI,{isOpen:e,size:yp.Small,onModalClose:n},void 0,Vu()(kI,{onModalClose:n},void 0,Vu()(UI,{className:BI.a.modalHeader},void 0,Object(Ze.default)("Error")),Vu()(TI,{},void 0,t))))}function HI(e){const{className:t,style:i,src:n,width:a,height:s,backgroundSize:r,backgroundPosition:o,backgroundRepeat:l}=e;return Vu()("div",{className:t,style:Object.assign({width:a,height:s,backgroundImage:"url("+n+")",backgroundSize:r,backgroundPosition:o,backgroundRepeat:l},i)})}HI.defaultProps={backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat"};var _I=HI,WI=i("UadQ"),QI=i.n(WI);const GI=Nd.a.createElement,{useLayoutEffect:KI,useRef:YI}=Nd.a;function qI(e,t,i){const{className:n,style:a,styleProps:s,durationMilliseconds:r,useCrossFade:o}=i,l=document.createElement("div");l.className=(n||"")+" "+(o&&QI.a.crossFade||""),Object.assign(l.style,Object.assign({position:"absolute",animationDuration:r+"ms",backgroundImage:"url("+e+")",width:"100%",height:"100%"},s,a)),t.appendChild(l)}function ZI(e){const{className:t,style:i,containerClassName:n,containerStyle:a,src:s,width:r,height:o,backgroundSize:l,backgroundPosition:c,backgroundRepeat:d,animateOnMount:u,disableCrossFade:p,durationMilliseconds:h}=e,m=YI(null),g=YI(!0),v=Object.assign({position:"relative",width:r,height:o},a);return KI(()=>{const e=g.current;g.current=!1;const n={className:t,style:i,styleProps:{backgroundSize:l,backgroundPosition:c,backgroundRepeat:d},durationMilliseconds:h,useCrossFade:!e||u};let a,r;return p&&(n.useCrossFade=!1),e?qI(s,m.current,n):a=window.requestAnimationFrame(()=>{a=null,qI(s,m.current,n),r=window.setTimeout(()=>{for(;m.current.childNodes.length>1;)(e=m.current).removeChild(e.childNodes[0]);var e},2*h)}),()=>{a&&window.cancelAnimationFrame(a),r&&window.clearTimeout(r)}},[t,i,s,l,c,d]),GI("div",{className:n,style:v,ref:m})}ZI.defaultProps=Object.assign({},_I.defaultProps,{animateOnMount:!0,disableCrossFade:!1,durationMilliseconds:yv(Tv.slowSpeed)});var JI=ZI;var XI=function(e,t){return e>t?50:e<=0||t<=0?0:parseFloat((e/t*100).toFixed(2))};var $I=function(e,t){let i;if(e.Part.length>1){let n=0;for(let a=0,s=e.Part.length;a<s&&(i=e.Part[a],i.duration)&&(n+=i.duration,!(n>t));a++);}else i=I.a.first(e.Part);return i};var eS=function(e,t,i){let n=i;if(e.Part.length>1)for(let i=0,a=e.Part.length;i<a;i++){const a=e.Part[i];if(!a.duration)break;if(t.key===a.key)break;n-=a.duration}return n};var tS=function(e,t){if(!e.indexes)return;const i=e.indexes.split(",");return i.length?I.a.indexOf(i,t)>-1?t:i[0]:void 0};var iS=function(e,t,i){const n=$I(e,t);if(!(i=tS(n,i)))return;const a=eS(e,n,t);return"/library/parts/"+n.id+"/indexes/"+i+"/"+a},nS=i("BW9E");function aS(e,t){const i=I.a.invert(e);return I.a.reduce(e,(e,n)=>(e[n]=t[i[n]],e),{})}const sS={playing:"playing",paused:"paused",stopped:"paused",error:"paused",buffering:"playing"};var rS=new(Ee.a.extend({types:{VIDEO:"video",MUSIC:"music",PHOTO:"photo",ROM:"rom"},elements:{VIDEO:"video",MUSIC:"audio",PHOTO:"photo"},streams:{VIDEO:"video",MUSIC:"audio",PHOTO:"photo"},states:{STOPPED:"stopped",PAUSED:"paused",PLAYING:"playing",BUFFERING:"buffering",ERROR:"error"},slideshowStates:{PLAYING:"playing",PAUSED:"paused"},castStates:{ERROR:"IDLE",STOPPED:"IDLE",PAUSED:"PAUSED",PLAYING:"PLAYING",BUFFERING:"BUFFERING"},mediaStates:{LOADING:"LOADING",BUFFERING:"BUFFERING",READY:"READY",ERROR:"ERROR"},initialize(){this.typeByElement=aS(this.elements,this.types),this.elementByType=aS(this.types,this.elements),this.typeByStream=aS(this.streams,this.types),this.streamByType=aS(this.types,this.streams),this.statebyCastState=aS(this.castStates,this.states),this.castStateByState=aS(this.states,this.castStates)},getTypeByElement(e){return this.typeByElement[e]},getElementByType(e){return this.elementByType[e]},getTypeByStream(e){return this.typeByStream[e]},getStreamByType(e){return this.streamByType[e]},getStateByCastState(e){return this.statebyCastState[e]},getCastStateByState(e){return this.castStateByState[e]},getSlideshowStateByState:e=>sS[e]}));function oS(e){var t=e["aria-label"],i=e.className,n=e.style,a={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-tidal-logo-560"};a["aria-hidden"]=!t,a.style=n,a.className=Ad.a.plexIcon+(i?" "+i:"");var s=[Nd.a.createElement.apply(Nd.a,["path",{d:"M373.331 186.32l-93.324 93.332-93.337-93.341L280.007 93l93.332 93.309L466.67 93 560 186.318l-93.33 93.341-93.339-93.339zm.01 186.669l-93.334 93.34-93.337-93.34 93.337-93.337 93.334 93.337zm-186.67-186.67l-93.338 93.34L0 186.32 93.333 93l93.337 93.318z"}].concat([]))];return t&&s.unshift(Nd.a.createElement("title",null,t)),Nd.a.createElement.apply(Nd.a,["svg",a].concat(s))}oS.propTypes={"aria-label":vc.a.string,className:vc.a.string,style:vc.a.object};var lS=oS;function cS(e){var t=e["aria-label"],i=e.className,n=e.style,a={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",id:"plex-icon-watch-together"};a["aria-hidden"]=!t,a.style=n,a.className=Ad.a.plexIcon+(i?" "+i:"");var s=[Nd.a.createElement.apply(Nd.a,["path",{clipRule:"evenodd",d:"M32 21c3.32 0 5.98-2.68 5.98-6S35.32 9 32 9c-3.32 0-6 2.68-6 6s2.68 6 6 6zm-15.999 0c3.32 0 5.979-2.68 5.979-6s-2.659-6-5.979-6c-3.32 0-6 2.68-6 6s2.68 6 6 6zm0 4C11.341 25 2 27.73 2 33.167V39h28v-5.833C30 27.73 20.66 25 16.001 25zM32 25c-.58 0-1.24.047-1.94.117 2.32 1.96 3.94 4.596 3.94 8.05V39h12v-5.833C46 27.73 36.66 25 32 25z"}].concat([]))];return t&&s.unshift(Nd.a.createElement("title",null,t)),Nd.a.createElement.apply(Nd.a,["svg",a].concat(s))}cS.propTypes={"aria-label":vc.a.string,className:vc.a.string,style:vc.a.object};var dS=cS;const uS={"com.tidal":lS,"com.watchtogether":dS};var pS=function(e){const t=uS[e.attribution];return t?Vu()("div",{className:e.className},void 0,Vu()(t,{})):null};const hS=[/alexa/i,/sonos/i],mS={};var{useCallback:gS,useEffect:vS,useRef:yS,useState:fS}=Nd.a;function bS(){var e=fS(!1),t=e[1],i=e[0],n=yS(null),a=gS(()=>t(!0),[]),s=gS(()=>t(!1),[]);return vS(()=>{var e=n.current;return e&&(e.addEventListener("mouseenter",a),e.addEventListener("mouseleave",s)),()=>{e&&(e.removeEventListener("mouseenter",a),e.removeEventListener("mouseleave",s))}},[a,s]),[i,n]}const IS="large-720",SS=Nd.a.createElement,{useEffect:CS,useRef:MS,useState:DS}=Nd.a;function PS(e){e&&(e.onload=e.onabort=e.onerror=void 0)}function OS(e){const{src:t,emptySrc:i,component:n,preloadOnMount:a,onLoad:s,onError:r}=e,o=Xe()(e,["src","emptySrc","component","preloadOnMount","onLoad","onError"]),l=DS(a?null:t),c=l[1],d=l[0],u=DS(null),p=u[1],h=u[0],m=MS(a);return CS(()=>{if(!m.current)return void(m.current=!0);if(!t)return;let e=new window.Image;return e.onload=()=>{e=PS(e),c(t),p(null)},e.onabort=e.onerror=()=>{e=PS(e),c(null),p(new Error("Unable to load "+t))},e.src=t,()=>{e=PS(e)}},[t]),CS(()=>{!t&&d&&c(null)},[d,t]),CS(()=>{d&&s&&s(d)},[d,s]),CS(()=>{h&&r&&r(h)},[h,r]),SS(n,tp()({},o,{src:d||i}))}OS.defaultProps={emptySrc:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",component:_I,preloadOnMount:!0};var jS=OS;const wS=Nd.a.createElement,{memo:TS,useEffect:ES,useRef:NS,useState:xS}=Nd.a,AS=new Um,LS={},kS={},RS=["small-60","small-120","medium-240","medium-360","large-480",IS,"large-1280","large-1920"].sort((e,t)=>zS(e)-zS(t));function zS(e){if(kS.hasOwnProperty(e))return kS[e];const t=e.split("-")[1];return kS[e]=t,t}function US(e){const t=e.allowPixelRatioSize?Vm():1,i=e.size||function(e){if(LS.hasOwnProperty(e))return LS[e];const t=RS.find(t=>zS(t)>=e)||RS[RS.length-1];return LS[e]=t,t}(e.width);if(e.supportsSize)return{size:i,scale:Math.ceil(t)};{const n=zS(i),a=e.height/e.width;return{width:Math.ceil(n*t),height:Math.ceil(a*n*t),minSize:e.minSize?1:void 0,upscale:e.upscale?1:void 0}}}function VS(e){const{url:t,allowImageBlobs:i,onError:n}=e,a=Xe()(e,["url","minSize","format","quality","upscale","filters","allowPixelRatioSize","allowImageBlobs","supportsSize","onError"]),s=function(e,t){if(!e)return;const i=Object.assign(US(t),t.filters);t.format&&(i.format=t.format),t.quality&&(i.quality=t.quality);const n=e.indexOf("?");let a=e;return n>-1?(a=V.join(e.substring(0,n),i),a+=-1===a.indexOf("?")?"?":"&",a+=e.substring(n+1)):a=V.join(a,i),a}(t,e);let r,o;s&&i&&(r=AS.getBlobUrl(s),r||(o=AS.getPlaceholder(s)));const l=xS(r||o||(i?null:s)),c=l[1],d=l[0],u=NS(!1);return ES(()=>{if(u.current&&(u.current=!1,null==d))return void(n&&n());let e;return r?d!==r&&c(r):s&&i?(e=function(e){const t=D.a.Deferred(),i={cancelable:Object(bf.a)(t.promise()),xhr:null},n=new window.XMLHttpRequest;return n.open("GET",e,!0),n.responseType="arraybuffer",i.xhr=n,n.onreadystatechange=()=>{if(4===n.readyState)if(n.onreadystatechange=null,200===n.status){const i=new window.Blob([n.response],{type:"image/jpeg"}),a=window.URL.createObjectURL(i);AS.store({url:e,blobUrl:a}),t.resolve(a)}else t.reject()},n.send(),i}(s),e.cancelable.promise.then(t=>{e=null,c(t)},({isCanceled:t}={})=>{t||(e=null,null===d?n&&n():(u.current=!0,c(null)))})):c(s&&!i?s:null),()=>{e&&(e.cancelable.cancel(),e.xhr&&(e.xhr.onreadystatechange=null,e.xhr.abort()))}},[d,s,r,i,n]),wS(jS,tp()({},a,{src:d,onError:n}))}VS.defaultProps={minSize:!0,upscale:!0,allowPixelRatioSize:!0,allowImageBlobs:!0};var BS=TS(VS);var FS=Object(Wu.b)(Wu.d,wp);function HS(){return Object(Wu.a)((e,{providerEntityID:t})=>t,yg,(e,t)=>t[e])}function _S(){return Object(Wu.a)((e,{serverEntityID:t})=>t,Ku,(e,t)=>t[e])}const WS={},QS={};function GS(e,t){const{serverEntityID:i,providerEntityID:n}=t,a=i+":"+n;return QS[a]||(QS[a]=FS(Object(Wu.a)(_S(),HS(),(e,t)=>{const i=e&&e.activeConnection&&e.activeConnection.uri;if(!i)return WS;let n,a="/photo/:/transcode",s=!1,r=!1;if(t){const e=I.a.findWhere(t.features,{type:Ot.f});e&&(a=e.key,s=yi(a),r=e.public)}return n=s?t&&t.baseURL?t.baseURL:i:"",{accessToken:e.accessToken,baseUrl:n,isAbsoluteTranscodeKey:s,isPublicTranscoder:r,transcodeKey:a,uri:i}}),e=>e)),QS[a](e,t)}function KS(e){const t=e&&e.urlParams;return Object(Wu.a)((e,{url:t})=>t,GS,(e,i)=>{if(!e||i===WS)return;const{accessToken:n,baseUrl:a,isAbsoluteTranscodeKey:s,isPublicTranscoder:r,transcodeKey:o,uri:l}=i;let c;if(yi(e))c=e;else{const i={"X-Plex-Token":n};t&&Object.assign(i,t),c=V.join([a,e],i)}const d=s?o:[l,o];return V.join(d,{url:c,"X-Plex-Token":r?void 0:n})})}function YS(e){return e?{entityID:e.entityID,id:e.id,parentID:e.parentID,identifier:e.identifier,metricsIdentifier:e.metricsIdentifier,isLibraryProvider:e.isLibraryProvider,isPopulated:!!e.isPopulated,epgSource:e.epgSource,title:e.title,sourceTitle:e.sourceTitle,protocols:e.protocols.reduce((e,t)=>(e[t]=!0,e),{}),features:e.features.reduce((e,t)=>{let i=t;if(t.type===Ot.b){let e={type:Ot.b};e=t.actions.reduce((e,t)=>(e[t.id]=t,e),e),i=e}return e[t.type]=i,e},{})}:null}const qS={};function ZS(e,{providerEntityID:t}){let i=qS[t];return i||(i=Og(Object(Wu.a)((e,t)=>e.entities.providers[t],YS),e=>e),qS[t]=i),i(e,t)}function JS(e){return e?{entityID:e.entityID,machineIdentifier:e.machineIdentifier,version:e.version,friendlyName:e.friendlyName,sourceTitle:e.sourceTitle,allowSync:e.allowSync,allowMediaDeletion:e.allowMediaDeletion,backgroundProcessing:e.backgroundProcessing,transcoderVideo:e.transcoderVideo,isConnected:e.isConnected,isUnavailable:e.isUnavailable,isFullServer:e.isFullServer,isFullOwnedServer:e.isFullOwnedServer,isCloud:e.isCloud,isShared:e.isShared,livetv:e.livetv,ownerId:e.ownerId,ownerFeatures:e.ownerFeatures}:null}const XS={};function $S(e,{serverEntityID:t}){let i=XS[t];return i||(i=FS(Object(Wu.a)((e,t)=>e.entities.servers[t],JS),e=>e),XS[t]=i),i(e,t)}const eC=be.a.allowSyncDownload?{urlParams:{"X-Plex-Account-ID":1}}:null;var tC=Object(Hu.b)((function(){return Object(Wu.a)($S,ZS,KS(eC),(e,t,i)=>({url:i,supportsSize:!!(e&&e.isCloud&&t)}))}))(BS),iC=i("w+Nc"),nC=i.n(iC);const aC=Nd.a.createElement;function sC(e){const{className:t}=e,i=Xe()(e,["className"]);return Vu()("div",{className:t},void 0,aC(tC,i))}sC.defaultProps={className:nC.a.avatar};var rC=sC;const oC=Nd.a.createElement,lC={position:"relative",top:0,left:0,display:"block",width:"100%",height:"100%"};var cC=function(e){return oC(tC,tp()({},e,{component:JI,containerStyle:lC}))};function dC(e){var t=e["aria-label"],i=e.className,n=e.style,a={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-folder-560"};a["aria-hidden"]=!t,a.style=n,a.className=Ad.a.plexIcon+(i?" "+i:"");var s=[Nd.a.createElement.apply(Nd.a,["path",{d:"m80 160l480 0-80 360-480 0 80-360m400-80l-10 39.838c-127.207-.297-430 .162-430 .162l-40 200 0-260c0-11.038 8.961-20 20-20l200 0c11.039 0 20 8.962 20 20l0 20 240 0"}].concat([]))];return t&&s.unshift(Nd.a.createElement("title",null,t)),Nd.a.createElement.apply(Nd.a,["svg",a].concat(s))}dC.propTypes={"aria-label":vc.a.string,className:vc.a.string,style:vc.a.object};var uC=dC;function pC(e){var t=e["aria-label"],i=e.className,n=e.style,a={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",id:"plex-icon-radio-560"};a["aria-hidden"]=!t,a.style=n,a.className=Ad.a.plexIcon+(i?" "+i:"");var s=[Nd.a.createElement.apply(Nd.a,["path",{d:"M67.585 105.999c13.653-12.146 29.63-2.91 34.582 2.12 7.857 7.98 7.27 15.873 5.452 19.688-1.351 2.836-3.028 5.453-6.664 9.996-17.568 20.597-29.986 42.405-39.073 67.243-14.538 39.982-16.356 85.112-5.451 126.912 8.48 30.895 23.321 59.064 44.222 83.903 4.846 5.45 6.057 7.268 7.269 11.205.606 2.122.606 8.179-.303 10.905-1.817 5.755-6.058 10.299-12.116 12.418-1.515.606-17.907 5.469-28.827-3.028-1.818-1.211-8.482-8.785-13.327-15.145-28.17-36.044-46.04-79.056-51.493-124.792-2.422-19.082-2.422-40.588-.302-59.671 5.755-49.371 25.745-95.714 57.852-133.575 4.847-5.756 5.8-6.063 8.179-8.179zm80.238 77.238c8.986-10.49 24.838-16.15 37.2-5.61 12.362 10.538 8.589 23.784 3.439 30.447-13.63 16.356-21.505 34.228-24.534 55.43-.605 4.846-.908 16.356-.303 21.808 1.817 23.323 10.602 43.92 25.746 61.791 3.938 4.544 5.754 7.875 6.058 13.024.605 8.785-5.474 16.513-13.933 19.386-17.87 6.067-29.13-3.332-35.49-10.904-25.747-32.107-36.652-72.998-30.593-114.192 3.938-26.049 15.03-50.896 32.41-71.18zm128.276 149.264c-14.384-.7-26.663-6.3-36.837-16.1-10.876-11.2-16.138-24.15-16.138-39.55 0-15.398 5.262-28.35 16.138-39.549 11.225-10.85 24.207-16.1 39.643-16.1 15.437 0 28.416 5.25 39.644 16.1 10.874 11.199 16.137 24.15 16.137 39.55 0 15.4-5.263 28.349-16.137 39.55-10.526 10.15-22.804 15.75-37.54 16.1-1.753.349-4.209.349-4.91 0zm214.318-226.503c2.379 2.117 3.332 2.423 8.179 8.178 32.107 37.862 52.097 84.205 57.852 133.576 2.12 19.084 2.12 40.588-.302 59.671-5.453 45.736-23.324 88.748-51.492 124.792-4.846 6.36-11.51 13.933-13.328 15.145-10.92 8.496-27.312 3.635-28.827 3.029-6.058-2.12-10.299-6.664-12.116-12.419-.909-2.726-.909-8.785-.303-10.904 1.212-3.938 2.423-5.755 7.269-11.207 20.9-24.837 35.742-53.007 44.222-83.901 10.905-41.8 9.087-86.932-5.45-126.913-9.088-24.837-21.506-46.647-39.075-67.243-3.635-4.543-5.312-7.16-6.663-9.996-1.817-3.815-2.405-11.709 5.452-19.688 4.952-5.028 20.928-14.266 34.582-2.12zm-80.431 77.238c17.379 20.284 28.473 45.131 32.41 71.18 6.058 41.194-4.846 82.084-30.592 114.191-6.36 7.573-17.62 16.972-35.49 10.905-8.46-2.873-14.54-10.601-13.934-19.386.303-5.15 2.12-8.481 6.057-13.024 15.145-17.87 23.93-38.468 25.746-61.79.606-5.453.303-16.963-.302-21.809-3.028-21.202-10.905-39.073-24.534-55.43-5.15-6.664-8.923-19.909 3.438-30.447 12.363-10.54 28.214-4.88 37.2 5.61z"}].concat([]))];return t&&s.unshift(Nd.a.createElement("title",null,t)),Nd.a.createElement.apply(Nd.a,["svg",a].concat(s))}pC.propTypes={"aria-label":vc.a.string,className:vc.a.string,style:vc.a.object};var hC=pC;function mC(e){var t=e["aria-label"],i=e.className,n=e.style,a={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-artist-560"};a["aria-hidden"]=!t,a.style=n,a.className=Ad.a.plexIcon+(i?" "+i:"");var s=[Nd.a.createElement.apply(Nd.a,["path",{d:"m250 306.694l-157.846 67.947-40-69.282 258.305-192.603 77.647 134.488-78.106 33.622 0 279.134-60 0 0-253.306m88.09-226.08c7.93-10.767 18.16-20.107 30.474-27.217 47.797-27.595 109.007-11.194 136.603 36.603 27.595 47.797 11.194 109.007-36.603 136.603-12.314 7.109-25.518 11.298-38.808 12.783l-91.666-158.772"}].concat([]))];return t&&s.unshift(Nd.a.createElement("title",null,t)),Nd.a.createElement.apply(Nd.a,["svg",a].concat(s))}mC.propTypes={"aria-label":vc.a.string,className:vc.a.string,style:vc.a.object};var gC=mC;function vC(e){var t=e["aria-label"],i=e.className,n=e.style,a={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-clips-560"};a["aria-hidden"]=!t,a.style=n,a.className=Ad.a.plexIcon+(i?" "+i:"");var s=[Nd.a.createElement.apply(Nd.a,["path",{d:"m360 520l-360 0 0-400 360 0 0 160 200-120 0 320-200-120 0 160"}].concat([]))];return t&&s.unshift(Nd.a.createElement("title",null,t)),Nd.a.createElement.apply(Nd.a,["svg",a].concat(s))}vC.propTypes={"aria-label":vc.a.string,className:vc.a.string,style:vc.a.object};var yC=vC;function fC(e){var t=e["aria-label"],i=e.className,n=e.style,a={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-movies-560"};a["aria-hidden"]=!t,a.style=n,a.className=Ad.a.plexIcon+(i?" "+i:"");var s=[Nd.a.createElement.apply(Nd.a,["path",{d:"m0 560l560 0 0-520-560 0 0 520m120-40l-60 0 0-40 60 0 0 40m380 0l-60 0 0-40 60 0 0 40m-100 0l-240 0 0-200 240 0 0 200m100-80l-60 0 0-40 60 0 0 40m-380 0l-60 0 0-40 60 0 0 40m0-80l-60 0 0-40 60 0 0 40m380 0l-60 0 0-40 60 0 0 40m-100-80l-240 0 0-200 240 0 0 200m100 0l-60 0 0-40 60 0 0 40m-380 0l-60 0 0-40 60 0 0 40m0-80l-60 0 0-40 60 0 0 40m380 0l-60 0 0-40 60 0 0 40m0-80l-60 0 0-40 60 0 0 40m-380 0l-60 0 0-40 60 0 0 40"}].concat([]))];return t&&s.unshift(Nd.a.createElement("title",null,t)),Nd.a.createElement.apply(Nd.a,["svg",a].concat(s))}fC.propTypes={"aria-label":vc.a.string,className:vc.a.string,style:vc.a.object};var bC=fC;function IC(e){var t=e["aria-label"],i=e.className,n=e.style,a={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-music-560"};a["aria-hidden"]=!t,a.style=n,a.className=Ad.a.plexIcon+(i?" "+i:"");var s=[Nd.a.createElement.apply(Nd.a,["path",{d:"m199.855 473.521c.096 1.057.145 2.131.145 3.221 0 33.115-44.808 68.962-100 80-55.192 11.039-100-6.885-100-40 0-33.115 44.808-68.961 100-80 22.504-4.501 43.282-4.186 60 .01l0-356.752 400-80 0 392c0 .52-.05 1.028-.145 1.521.096 1.057.145 2.131.145 3.221 0 33.115-44.808 68.962-100 80-55.192 11.039-100-6.885-100-40 0-33.115 44.808-68.961 100-80 22.504-4.501 43.282-4.186 60 .01l0-232.852-320 64.2 0 283.9c0 .52-.05 1.028-.145 1.521"}].concat([]))];return t&&s.unshift(Nd.a.createElement("title",null,t)),Nd.a.createElement.apply(Nd.a,["svg",a].concat(s))}IC.propTypes={"aria-label":vc.a.string,className:vc.a.string,style:vc.a.object};var SC=IC;function CC(e){var t=e["aria-label"],i=e.className,n=e.style,a={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-photos-560"};a["aria-hidden"]=!t,a.style=n,a.className=Ad.a.plexIcon+(i?" "+i:"");var s=[Nd.a.createElement.apply(Nd.a,["path",{d:"m440 120l120 0 0 400-560 0 0-400 120 0 0-80 320 0 0 80m-320 200c0 88.306 71.694 160 160 160 88.306 0 160-71.694 160-160 0-88.306-71.694-160-160-160-88.306 0-160 71.694-160 160m80 0c0 44.153 35.847 80 80 80 44.153 0 80-35.847 80-80 0-44.153-35.847-80-80-80-44.153 0-80 35.847-80 80"}].concat([]))];return t&&s.unshift(Nd.a.createElement("title",null,t)),Nd.a.createElement.apply(Nd.a,["svg",a].concat(s))}CC.propTypes={"aria-label":vc.a.string,className:vc.a.string,style:vc.a.object};var MC=CC;function DC(e){var t=e["aria-label"],i=e.className,n=e.style,a={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-shows-560"};a["aria-hidden"]=!t,a.style=n,a.className=Ad.a.plexIcon+(i?" "+i:"");var s=[Nd.a.createElement.apply(Nd.a,["path",{d:"m440 520l0 40-320 0 0-40 320 0m120-40l-560 0 0-440 560 0 0 440m-60-380l-440 0 0 280 440 0 0-280"}].concat([]))];return t&&s.unshift(Nd.a.createElement("title",null,t)),Nd.a.createElement.apply(Nd.a,["svg",a].concat(s))}DC.propTypes={"aria-label":vc.a.string,className:vc.a.string,style:vc.a.object};var PC=DC;var OC={movie:bC,show:PC,season:PC,episode:PC,artist:gC,album:SC,track:SC,photo:MC,photoalbum:MC,clip:yC,station:hC},jC=i("BNpA"),wC=i.n(jC);var TC=function(e){const{className:t,type:i,width:n,height:a,icon:s}=e,r=function(e){switch(e){case"playlist://image.radio":return hC;case"folder":return uC;case"watchtogether":return dS}}(s)||OC[i];if(!r)return null;const o={fontSize:Math.max(14,Math.min(Math.round(n/4),42)),lineHeight:a+"px"},l={width:n+"px",height:a+"px"};return Vu()("div",{className:(t||"")+" "+(wC.a.container||""),style:l},void 0,Vu()(r,{style:o}))},EC=i("jWai"),NC=i.n(EC);var xC=function(e){const{className:t,type:i,icon:n,width:a,height:s,isFolder:r}=e;return Vu()(TC,{className:(t||"")+" "+(NC.a.placeholderIcon||""),type:i,icon:r?"folder":n,width:a,height:s})};var AC=function(e){const{serverEntityID:t,providerEntityID:i,itemServerEntityID:n,itemProviderEntityID:a,type:s,isOffscreen:r,url:o,src:l,width:c,height:d,icon:u,backgroundSize:p,isFolder:h,disableCrossFade:m,onLoad:g,onError:v}=e;return r?null:o||l?Vu()(cC,{serverEntityID:n||t,providerEntityID:a||i,url:o,src:l,width:c,height:d,backgroundPosition:"artist"===s?"center top":"center",backgroundSize:"game"===s?"contain":p,disableCrossFade:m,onLoad:g,onError:v}):Vu()(xC,{type:s,width:c,height:d,isFolder:h,icon:u})},LC=i("f2wi");function kC(e,t,i){if(i)switch(i){case"quickSearch":switch(e){case"genre":case"channel":return 1}break;case fc:case"watchTogetherLobby":switch(e){case"episode":return 16/9}break;case"continueWatching":case"newscast":case"watchTogether":return 16/9;case bc:switch(e){case"movie":case"episode":case"game":return 16/9}break;case"playQueue":case"playlist":case"downloads":case Ic:switch(e){case"episode":return 16/9}break;case"nowPlaying":switch(e){case"clip":return 1}break;case"liveTVGrid":case"liveTVTimeline":switch(e){case"clip":return 1/1.5}}switch(t){case LC.c:case LC.d:switch(e){case"show":return 1;case"episode":return 16/9}}switch(e){case"channels":return 1;case"movie":case"show":case"season":case"episode":return 1/1.5;case"artist":case"album":case"track":case"photo":case"photoalbum":return 1;case"clip":return 16/9;case"collection":return 1/1.5;case"extra":case"musicVideo":return 16/9;case"mixed":return 1/1.5;case"platform":case"directory":case"genre":return 16/9;case"content":case"channel":case"hub":case"list":return 1;case"game":return 3/4;default:return 1}}function RC(e,t,i,n){const a=kC(t,i,n);return Math.round(e*a)}function zC(e,t,i,n){const a=kC(t,i,n);return Math.round(e/a)}function UC(e){var t=e["aria-label"],i=e.className,n=e.style,a={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-dashboard-stop-560"};a["aria-hidden"]=!t,a.style=n,a.className=Ad.a.plexIcon+(i?" "+i:"");var s=[Nd.a.createElement.apply(Nd.a,["polygon",{points:"383.704 280 560 456.296 456.296 560 280 383.704 103.704 560 0 456.296 176.296 280 0 103.704 103.704 0 280 176.296 456.296 0 560 103.704 383.704 280"}].concat([]))];return t&&s.unshift(Nd.a.createElement("title",null,t)),Nd.a.createElement.apply(Nd.a,["svg",a].concat(s))}UC.propTypes={"aria-label":vc.a.string,className:vc.a.string,style:vc.a.object};var VC=UC;var BC=function(e){if(e<=0||!I.a.isNumber(e))return"0:00";const t=qm(e),i=t.seconds,n=t.minutes,a=t.hours+24*t.days;let s="";return s=i<10?":0"+i:":"+i,s=n<10&&a>0?"0"+n+s:n+s,a>0&&(s=a+":"+s),s},FC=i("JUjL"),HC=i("AXwp"),_C=i("bcER");var WC=function(e){return Object(Hn.a)(e,{streamType:_C.a.get("subtitles").id}).filter(e=>e.selected&&e.id!==HC.a)[0]},QC=i("VLKS");var GC=function(e){return e?e.replace(/\w\S*/g,(function(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()})):""};var KC=function(e){return e?e.toUpperCase():""};const YC={"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTEwIiBoZWlnaHQ9IjExMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICAgIDxnIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0ibm9uemVybyI+CiAgICAgICAgPHBhdGggZmlsbD0iIzE5MUExQyIgZD0iTTAgMGgxMTB2MTEwSDB6Ii8+CiAgICAgICAgPHBhdGggZD0iTTUwLjEzOCA4NS42MXYtNi4xNDZjMC0yLjE4NS0xLjMzOC00LjEzMy0zLjM2Ni00Ljk5NC03LjU5NS0zLjIyNC0xMi45MS0xMC43NjUtMTIuOTEtMTkuNDcgMC0xMS42MDMgOS40NDMtMjEuMTM5IDIxLjEzOC0yMS4xMzkgMTEuNjk1IDAgMjEuMTM5IDkuNTM2IDIxLjEzOSAyMS4xMzkgMCAxMy42OS0xMC41OSAyNi42MzQtMjYgMzAuNjF6TTU1IDI0Yy0xNy4xNTEgMC0zMSAxMy45ODUtMzEgMzFzMTMuODQ5IDMxIDMxIDMxIDMxLTEzLjk4NSAzMS0zMS0xMy44NDktMzEtMzEtMzF6IiBmaWxsPSIjMzFDNEYzIi8+CiAgICA8L2c+Cjwvc3ZnPgo=":/alexa/i,"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTEwIiBoZWlnaHQ9IjExMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICAgIDxnIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0ibm9uemVybyI+CiAgICAgICAgPHBhdGggZmlsbD0iIzE5MUExQyIgZD0iTTAgMGgxMTB2MTEwSDB6Ii8+CiAgICAgICAgPHBhdGggZD0iTTQzLjg5MSAyMy40NzlsMy4wMDUgNS4xODNjLTUuNDY5IDIuNjYxLTkuMTc1IDcuODczLTkuMTc1IDEzLjg1MmgzNC45OTRjMC01Ljk3OS0zLjcwNy0xMS4xOS05LjE3Ny0xMy44NTJsMy4wMDUtNS4xODNzLjE0My0uMjc1LS4xMjctLjQzYy0uMjctLjE1NS0uNDUxLjEwOS0uNDUxLjEwOWwtMy4wNSA1LjIyOWExOS4wMyAxOS4wMyAwIDAgMC03LjY5OC0xLjYwNmMtMi43NjMgMC01LjM3Ni41OC03LjY5NyAxLjYwNmwtMy4wNS01LjIyOXMtLjE3MS0uMjY0LS40NDItLjExYy0uMjcyLjE1NC0uMTM3LjQzLS4xMzcuNDNtMy4wMDUgMTAuMDRhMS42NiAxLjY2IDAgMCAxIDEuNjY0IDEuNjVjMCAuOTEtLjc0NyAxLjYyOC0xLjY2NCAxLjYyOC0uOTE2IDAtMS42NjQtLjcxOS0xLjY2NC0xLjYyNyAwLS45MS43NDgtMS42NTIgMS42NjQtMS42NTJtMTYuNjQyIDBhMS42NiAxLjY2IDAgMCAxIDEuNjY0IDEuNjUyYzAgLjkxLS43NDcgMS42MjctMS42NjQgMS42MjctLjkxNiAwLTEuNjY0LS43MTktMS42NjQtMS42MjcgMC0uOTEuNzQ4LTEuNjUyIDEuNjY0LTEuNjUybS0yNS45NiAxMS4wMTd2MjYuMzRjMCAxLjMwNyAxLjU5MyAzLjAxOCAyLjkxIDMuMDE4aDQuMTYzdjguOThjMCAyLjI4NiAxLjY3OSA0LjEyOCAzLjc2OCA0LjEyOCAyLjA4OSAwIDMuNzY4LTEuODQyIDMuNzY4LTQuMTI4di04Ljk4aDYuMDU2djguOThjMCAyLjI4NiAxLjY4IDQuMTI4IDMuNzY4IDQuMTI4czMuNzktMS44NDIgMy43OS00LjEyOHYtOC45OGg0LjE0YzEuMzE4IDAgMi45MS0xLjcxMSAyLjkxLTMuMDE4di0yNi4zNEgzNy41NzdtLTUuODA1LS41NTJjMi4wODMgMCAzLjc3IDEuODQ5IDMuNzcgNC4xMjh2MTUuNjI4YzAgMi4yNzktMS42ODggNC4xMjgtMy43NyA0LjEyOC0yLjA4MyAwLTMuNzcyLTEuODQ4LTMuNzcyLTQuMTI4VjQ4LjExYzAtMi4yNzkgMS42ODktNC4xMjggMy43NzItNC4xMjhtNDYuODg2IDBjMi4wODMgMCAzLjc3MiAxLjg0OSAzLjc3MiA0LjEyOHYxNS42MjhjMCAyLjI3OS0xLjY4OCA0LjEyOC0zLjc3MiA0LjEyOC0yLjA4MiAwLTMuNzctMS44NDgtMy43Ny00LjEyOFY0OC4xMWMwLTIuMjc5IDEuNjg3LTQuMTI4IDMuNzctNC4xMjgiIGZpbGw9IiNBNEM2MzkiLz4KICAgIDwvZz4KPC9zdmc+Cg==":/android/i,"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTEwIiBoZWlnaHQ9IjExMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICAgIDxnIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0ibm9uemVybyI+CiAgICAgICAgPHBhdGggZmlsbD0iIzE5MUExQyIgZD0iTTAgMGgxMTB2MTEwSDB6Ii8+CiAgICAgICAgPHBhdGggZD0iTTU2LjU1IDM5LjE0NWg1LjExNHY1Ljc3Nmg0LjkyNHY0LjA0OGgtNC45MjR2MTQuMzY5YzAgMi4yMjUuOTk0IDMuMjY2IDMuMTQ4IDMuMjY2LjU0NSAwIDEuNDItLjA3IDEuNzUyLS4xMTh2NC4wNDhjLS41NjguMTQyLTEuNzc1LjI2LTIuODg4LjI2LTUuMTM3IDAtNy4xMjUtMS45NjQtNy4xMjUtNi45MzV2LTE0Ljg5SDUzVjQ0LjkyaDMuNTV2LTUuNzc2em0zNi4yMDMgNS43NzZsLTkuMjU1IDI1LjcwOGgtNS40NjlMNjguNzUgNDQuOTJoNS40Mmw2LjU1OCAyMC42NDJoLjExOGw2LjU4MS0yMC42NDJoNS4zMjZ6bS01MC40NzEgOS41NGMtLjA0LTQuMzk4IDMuNTM4LTYuNTExIDMuNjk5LTYuNjEzLTIuMDEyLTIuOTg3LTUuMTQ0LTMuMzk3LTYuMjYxLTMuNDQ2LTIuNjY3LS4yNzQtNS4yMDMgMS41OTQtNi41NTQgMS41OTRzLTMuNDQtMS41NTMtNS42NS0xLjUxYy0yLjkwNy4wNDItNS41ODUgMS43MTQtNy4wODQgNC4zNTQtMy4wMTcgNS4zMTgtLjc3MSAxMy4xOTUgMi4xNzEgMTcuNTEgMS40MzkgMi4xMDggMy4xNTMgNC40ODIgNS40MDQgNC4zOTcgMi4xNy0uMDg2IDIuOTg4LTEuNDIzIDUuNjA4LTEuNDIzIDIuNjIgMCAzLjM1OCAxLjQyMyA1LjY1MiAxLjM3OCAyLjMzNC0uMDQyIDMuODExLTIuMTUgNS4yMzktNC4yNjcgMS42NS0yLjQ1IDIuMzMtNC44MiAyLjM3MS00Ljk0Mi0uMDUtLjAyNC00LjU1LTEuNzczLTQuNTk1LTcuMDMxbS00LjMwOC0xMi45MTNjMS4xOTYtMS40NyAyLjAwMS0zLjUxMyAxLjc4LTUuNTQ5LTEuNzIuMDcyLTMuODA2IDEuMTY1LTUuMDQzIDIuNjMzLTEuMTA3IDEuMzAxLTIuMDc4IDMuMzc5LTEuODE1IDUuMzc1IDEuOTIuMTUxIDMuODgyLS45OSA1LjA3OC0yLjQ2IiBmaWxsPSIjRkZGIi8+CiAgICA8L2c+Cjwvc3ZnPgo=":/plex.*atv|tvos/i,"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTEwIiBoZWlnaHQ9IjExMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICAgIDxkZWZzPgogICAgICAgIDxyYWRpYWxHcmFkaWVudCBjeD0iMTQuOTM1JSIgY3k9IjEzLjY0NCUiIGZ4PSIxNC45MzUlIiBmeT0iMTMuNjQ0JSIgcj0iMTAwLjQyNiUiIGlkPSJhIj4KICAgICAgICAgICAgPHN0b3Agc3RvcC1jb2xvcj0iI0ZGRiIgc3RvcC1vcGFjaXR5PSIuMDk4IiBvZmZzZXQ9IjAlIi8+CiAgICAgICAgICAgIDxzdG9wIHN0b3AtY29sb3I9IiNGRkYiIHN0b3Atb3BhY2l0eT0iMCIgb2Zmc2V0PSIxMDAlIi8+CiAgICAgICAgPC9yYWRpYWxHcmFkaWVudD4KICAgIDwvZGVmcz4KICAgIDxnIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCI+CiAgICAgICAgPHBhdGggZmlsbD0iIzE5MUExQyIgZD0iTTAgMGgxMTB2MTEwSDB6Ii8+CiAgICAgICAgPGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMjQgMjQpIj4KICAgICAgICAgICAgPHBhdGggZD0iTTQuOTIxIDE0LjI0M0MxMC40NCA1LjY3NyAyMC4wNjIgMCAzMSAwYzEyLjAzNyAwIDIyLjQ4IDYuODc1IDI3LjYxNSAxNi45MUgzMUwxOC43OTcgMzguMDQ0SDQuOTIxVjE0LjI0M3oiIGZpbGw9IiNEQjQ0MzciIGZpbGwtcnVsZT0ibm9uemVybyIvPgogICAgICAgICAgICA8cGF0aCBkPSJNNC45MiAxNC4yNDVsMTMuODc3IDIzLjhoMjQuNDF2MTAuMjU5TDI5LjU0MyA2MS45NjZDMTMuMTA5IDYxLjIwNSAwIDQ3LjYyMSAwIDMxYzAtNi4xNyAxLjgwNy0xMS45MjMgNC45Mi0xNi43NTV6IiBmaWxsPSIjMEY5RDU4IiBmaWxsLXJ1bGU9Im5vbnplcm8iLz4KICAgICAgICAgICAgPHBhdGggZD0iTTU4LjYxNSAxNi45MUEzMC44NDMgMzAuODQzIDAgMCAxIDYyIDMxYzAgMTcuMTEtMTMuODkgMzEtMzEgMzEtLjQ5MyAwLS45ODMtLjAxMi0xLjQ3LS4wMzVsMTMuNjc2LTIzLjkyTDMxIDE2LjkxaDI3LjYxNXoiIGZpbGw9IiNGRkNENDAiIGZpbGwtcnVsZT0ibm9uemVybyIvPgogICAgICAgICAgICA8cGF0aCBkPSJNMzEgMTYuOTFoMjcuNjE4TDMxIDI0LjI5di03LjM4ek00LjkyMSAxNC4yNUwyNS4wOSAzNC40MTNsLTYuMjkyIDMuNjMxTDQuOTIxIDE0LjI1em0yNC42MSA0Ny43MTFsNy4zODQtMjcuNTQ3IDYuMjkxIDMuNjMxLTEzLjY3NSAyMy45MTZ6IiBmaWxsLW9wYWNpdHk9Ii4xIiBmaWxsPSIjMDAwIi8+CiAgICAgICAgICAgIDxjaXJjbGUgZmlsbD0iI0YxRjFGMSIgY3g9IjMxIiBjeT0iMzEiIHI9IjE0LjA5MSIvPgogICAgICAgICAgICA8Y2lyY2xlIGZpbGw9IiM0Mjg1RjQiIGN4PSIzMSIgY3k9IjMxIiByPSIxMS4yNzMiLz4KICAgICAgICAgICAgPGNpcmNsZSBmaWxsPSJ1cmwoI2EpIiBjeD0iMzEiIGN5PSIzMSIgcj0iMzEiLz4KICAgICAgICA8L2c+CiAgICA8L2c+Cjwvc3ZnPgo=":/chrome/i,"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTEwIiBoZWlnaHQ9IjExMCIgdmlld0JveD0iMCAwIDExMCAxMTAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxwYXRoIGQ9Ik0xMTAgMEgwVjExMEgxMTBWMFoiIGZpbGw9IiMxOTFBMUMiLz4KPHBhdGggb3BhY2l0eT0iMC44NSIgZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik00MC4yMjk5IDg0TDY0LjgzNTcgNDEuMzgyMUw3Mi43NDM1IDU1LjA3NjVMNTYuMDQzNCA4NEg0MC4yMjk5Wk01NS45NzE4IDI2TDYwLjgxNjMgMzQuMjYzNkw1Mi44NjQ4IDQ4LjAzNTVMNDAuMDU5IDI2SDU1Ljk3MThaIiBmaWxsPSJ1cmwoI3BhaW50MF9yYWRpYWwpIi8+CjxwYXRoIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xpcC1ydWxlPSJldmVub2RkIiBkPSJNNjQuNzk2NSAzMS4wMzE4TDc2LjcyMzcgNTEuNjg5N0g5MC43MTQzVjU1LjAwMzVINzQuODExNEw2NC43OTY1IDM3LjY1OTNMNDIuOTI5OSA3NS41MzIyTDMyLjk5MDYgNTguMzE3M0gxOVY1NS4wMDM1SDM0LjkwMjlMNDIuOTI5OSA2OC45MDY2QzUwLjIxOTUgNTYuMjgxNyA1Ny41MDcgNDMuNjU2NyA2NC43OTY1IDMxLjAzMThaIiBmaWxsPSJ1cmwoI3BhaW50MV9saW5lYXIpIi8+CjxkZWZzPgo8cmFkaWFsR3JhZGllbnQgaWQ9InBhaW50MF9yYWRpYWwiIGN4PSIwIiBjeT0iMCIgcj0iMSIgZ3JhZGllbnRVbml0cz0idXNlclNwYWNlT25Vc2UiIGdyYWRpZW50VHJhbnNmb3JtPSJ0cmFuc2xhdGUoNzIuODAzNyA1NC4wMjg0KSBzY2FsZSgyOC45NDQ4IDQ3LjA3NzUpIj4KPHN0b3Agc3RvcC1jb2xvcj0iIzczN0U4NyIvPgo8c3RvcCBvZmZzZXQ9IjEiIHN0b3AtY29sb3I9IiM1MTU5NUUiIHN0b3Atb3BhY2l0eT0iMC43NSIvPgo8L3JhZGlhbEdyYWRpZW50Pgo8bGluZWFyR3JhZGllbnQgaWQ9InBhaW50MV9saW5lYXIiIHgxPSIxOC4xMTkxIiB5MT0iNTMuMjgyMiIgeDI9IjkxLjU5NTMiIHkyPSI1My4yODIyIiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSI+CjxzdG9wIHN0b3AtY29sb3I9IiNDQzdCMTkiLz4KPHN0b3Agb2Zmc2V0PSIxIiBzdG9wLWNvbG9yPSIjRjRDRTFFIi8+CjwvbGluZWFyR3JhZGllbnQ+CjwvZGVmcz4KPC9zdmc+Cg==":/plex.*dash/i,"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTEwIiBoZWlnaHQ9IjExMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICAgIDxnIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0ibm9uemVybyI+CiAgICAgICAgPHBhdGggZmlsbD0iIzE5MUExQyIgZD0iTTAgMGgxMTB2MTEwSDB6Ii8+CiAgICAgICAgPHBhdGggZD0iTTU1LjE4NCAyNy4yNTNjMTUuNTQ4IDAgMjguNTIgOS41MTIgMzEuNTI5IDIyLjE2LjI4IDEuMTc0LjQ3IDIuMzYyLS4wNzIgMy4xNTctLjc2NSAxLjEyNC0yLjUxNi45MTItMy43MjQuOTEyaC0yMi45OWMtMi4zMjIgMC00LjAwNy4wMy02LjE5OC0xLjA2LTEuNjkxLS44NDEtMi4yNzktMS41NDctMy40My0yLjg3NmE4LjQ2MSA4LjQ2MSAwIDAgMC02LjQxMS0yLjk0Yy00LjcwNCAwLTguNTIgMy44NTMtOC41MiA4LjYwNnMzLjgxNSA4LjYwNiA4LjUyIDguNjA2YTguNDI1IDguNDI1IDAgMCAwIDUuMzYxLTEuOTJjLjc2NS0uNjI1IDEuNzY1LTEuNzk0IDIuNDcyLTIuNTM5IDEuNzMtMS44MjEgNC40NDMtMi40MDMgNy41MzEtMi4yODRoMjQuNTZjMi42MDYtLjA2NCAzLjU1Ni40NTMgMy4wNjIgMi44NTItMi42OCAxMy4wMDMtMTUuODQ4IDIyLjg3Ni0zMS42ODcgMjIuODc2LTkuNTc3IDAtMTguMTc4LTMuNjEtMjQuMDczLTkuMzQyLS43MTEtLjY5MS0xLTEuNTc3LjAwNi0yLjE0Mi4zNzMtLjIwOS45MjUtLjMyNiAxLjY5LS4zMjhoMTYuNTA4YzEuNzY4LjEgMy4zNDMuNTYyIDQuNzQ3IDEuMzg3IDEuNjM5Ljk2NCAxLjkzNCAxLjYzIDMuMSAyLjg1MmE4LjQ1MiA4LjQ1MiAwIDAgMCA2LjEzNiAyLjYzNWM0LjcwMyAwIDguNTE5LTMuODUyIDguNTE5LTguNjA1IDAtNC43NTQtMy44MTUtOC42MDYtOC41Mi04LjYwNmE4LjQyNSA4LjQyNSAwIDAgMC01LjM2IDEuOTE5Yy0uNzY1LjYyNi0xLjc2NiAxLjc5NC0yLjQ3MiAyLjU0LTIuNjQyIDIuNzgtNy4wMTggMi4yODQtMTAuNTE1IDIuMjg0SDMyLjQ4NGMtMS45MzggMC00LjA5LjIwMS01Ljc3LS45MTMtMS4wNTgtLjcwMy0xLjc5LTEuODMtMi4zNTYtMy40NTdhMjQuMjQ3IDI0LjI0NyAwIDAgMS0uMzg0LTE0LjgwM2MuOTQzLTMuMTU0IDIuNDk4LTUuNjQ3IDcuMDkxLTUuNTIzaDE3LjA3NmMyLjQ5Mi0uMDk1IDQuNzQyLjI2NiA2LjQyNiAxLjM2OC45MjMuNjAzIDEuMjgyIDEuMTU5IDEuOTk1IDEuOTQyLjUyNS41NzcgMS4wOTYgMS4xNTIgMS41OCAxLjUxNCAxLjUxNiAxLjEzNSAzLjMzIDEuOTIgNS4zNjIgMS45MiA0LjcwNCAwIDguNTE4LTMuODUzIDguNTE4LTguNjA2IDAtNC43NTQtMy44MTMtOC42MDYtOC41MTgtOC42MDZhOC40NjQgOC40NjQgMCAwIDAtNi40ODggMy4wM2MtMS41MSAxLjc5Mi0zLjA3NyAyLjkyOS01LjExIDMuNDc4LTEuMzkuMzc1LTIuNTI0LjM2Ni0zLjkzLjM2NmgtMTQuOTZjLTIuOTUzLS4wMDgtMi44MzMtMS43MDctMS4wNzMtMy4yOSA1Ljg1OC01LjI4IDE0LjExLTguNTY3IDIzLjI0OS04LjU2NyIgZmlsbD0iIzQ1QUE0MiIvPgogICAgPC9nPgo8L3N2Zz4K":/dlna/i,"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTEwIiBoZWlnaHQ9IjExMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICAgIDxnIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0ibm9uemVybyI+CiAgICAgICAgPHBhdGggZmlsbD0iIzE5MUExQyIgZD0iTTAgMGgxMTB2MTEwSDB6Ii8+CiAgICAgICAgPHBhdGggZD0iTTQ0LjQyNSA0OS4xNzNoMjEuMTFjMC03LjU0My0zLjI3LTEyLjY4NS0xMi4xODctMTIuNjg1QzQyLjgxIDM2LjQ4OCAzMi4wOTQgNDMuMzkyIDI3IDUyYzEuNTc4LTE0Ljk0MSAxMi4yMjMtMjcgMjguMjUtMjcgMTMuNzM2IDAgMjYuNzUxIDEwLjU3IDI2Ljc1MSAyOC4xNHY2LjY4SDQ0LjUzOGMwIDkuMDkgNy44ODEgMTIuNjk0IDE2LjEzIDEyLjY5NCAxMC4wNCAwIDE2LjI2NS00LjU0MyAxNi4yNjUtNC41NDN2MTIuNzM1cy03LjAyIDQuMjkzLTE4LjIxNSA0LjI5M2MtMTQuNTQ1IDAtMjQuODEzLTEwLjQ5MS0yNC44MTMtMjMuNTM2IDAtMTAuMjQgNi4xNTQtMTguNDE1IDE0LjY3OS0yMS43ODktNC4xNSA0LjU4Ni00LjE2NCA5LjUwMi00LjE2NCA5LjUwMiIgZmlsbD0iIzMyNzdCQyIvPgogICAgPC9nPgo8L3N2Zz4K":/edge/i,[i.p+"desktop/common/img/devices/firefox.e8c14a7b2f07aaa06fc6b66b308c3e7a.svg"]:/firefox/i,[i.p+"desktop/common/img/devices/gtv.b27f5dff79b3f1898b1c4957c6155448.svg"]:/google.*tv/i,"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTEwIiBoZWlnaHQ9IjExMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICAgIDxnIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0ibm9uemVybyI+CiAgICAgICAgPHBhdGggZmlsbD0iIzE5MUExQyIgZD0iTTAgMGgxMTB2MTEwSDB6Ii8+CiAgICAgICAgPHBhdGggZD0iTTgzLjk5OSA1NS44N2MwLTQuOTAyLTEuMjY3LTkuNTA2LTMuNDktMTMuNTA3Qzg5Ljk4MiAyMC45MjYgNzAuMzYgMjQuMDY2IDY5LjI2OSAyNC4yOGE0OS44OTcgNDkuODk3IDAgMCAwLTExLjU1IDMuNzc0Yy0uNTIzLS4wMy0xLjA1LS4wNDUtMS41OC0uMDQ1LTEzLjIzOSAwLTI0LjMyIDkuMjM0LTI3LjE1NyAyMS42MTIgNi45NzgtNy44MjggMTEuODYxLTEwLjk4NiAxNC43ODYtMTIuMjUtLjQ2Ny40MTctLjkyNC44MzgtMS4zNzMgMS4yNjMtLjE1LjE0Mi0uMjk0LjI4NS0uNDQyLjQyNy0uMjk2LjI4NS0uNTkyLjU3LS44OC44NTgtLjE3My4xNzItLjM0LjM0NC0uNTEuNTE3LS4yNTUuMjYtLjUxMS41MjEtLjc2MS43ODQtLjE3OC4xODYtLjM1MS4zNzMtLjUyNi41NmE2OS4zNzYgNjkuMzc2IDAgMCAwLTIuMzggMi42NzUgODAuMzY1IDgwLjM2NSAwIDAgMC0xLjY1IDIuMDEyYy0uMTcyLjIxOC0uMzQ2LjQzNy0uNTE1LjY1NS0uMTYxLjIwNy0uMzE4LjQxNC0uNDc1LjYyMS0uMTc4LjIzNC0uMzU4LjQ2OC0uNTMxLjcwMS0uMTI0LjE2Ny0uMjQzLjMzMi0uMzY1LjQ5OGE4Ni40MjEgODYuNDIxIDAgMCAwLTMuNzE3IDUuNTA0bC0uMDM3LjA2Yy0uMjI3LjM2NS0uNDQ1LjcyNC0uNjU5IDEuMDhsLS4wMjIuMDM3YTg5LjQ5NCA4OS40OTQgMCAwIDAtMS41ODQgMi43NDZjLTIuNTA5IDQuNTQ3LTMuNzMgNy43MjQtMy43ODMgNy45MTMtNy45MjQgMjguMzI4IDE2LjgwNiAxNi4zNjUgMjAuMjU3IDE0LjU4YTI3Ljc0NyAyNy43NDcgMCAwIDAgMTIuMzI0IDIuODY4YzEyLjExNSAwIDIyLjQyMi03LjczMiAyNi4yNTgtMTguNTMxSDY3Ljc1N2MtMi4xNjYgMy42Ni02LjMzNiA2LjEzOC0xMS4xMjcgNi4xMzgtNy4wMiAwLTEyLjcxLTUuMzE4LTEyLjcxLTExLjg4aDM5Ljg1QTI4LjEzIDI4LjEzIDAgMCAwIDg0IDU1Ljg3aC0uMDAxem0tNS4yMDUtMjcuNDE3YzIuNCAxLjYyIDQuMzI0IDQuMTYyIDEuMDIgMTIuNzI2YTI3Ljk1NCAyNy45NTQgMCAwIDAtMTMuNjA3LTExLjI5M2MyLjU3OC0xLjI0NiA4Ljk2My0zLjg4IDEyLjU4Ny0xLjQzM3pNMjcuODA2IDgwLjgwNGMtMS45NTQtMi4wMDQtMi4zLTYuODg1IDIuMDEzLTE1Ljc4QTI3Ljk0MiAyNy45NDIgMCAwIDAgNDEuOTUgNzkuODUzYy0yLjc5MSAxLjUzNi0xMC4yMDIgNC45OTUtMTQuMTQ0Ljk1MnptMTYuMDUyLTI4Ljk2NmMuMjIzLTYuMzc2IDUuNzcyLTExLjQ4MiAxMi41OS0xMS40ODIgNi44MTkgMCAxMi4zNjggNS4xMDYgMTIuNTkgMTEuNDgyaC0yNS4xOHoiIGZpbGw9IiMxRUJCRUUiLz4KICAgIDwvZz4KPC9zdmc+Cg==":/internet.*explorer|explorer.*windows/i,"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTEwIiBoZWlnaHQ9IjExMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICAgIDxnIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCI+CiAgICAgICAgPHBhdGggZmlsbD0iIzE5MUExQyIgZmlsbC1ydWxlPSJub256ZXJvIiBkPSJNMCAwaDExMHYxMTBIMHoiLz4KICAgICAgICA8cGF0aCBkPSJNMjIuMzkgNzEuMzM4VjQ3Ljc4NGg0LjcwN3YyMy41NTRIMjIuMzl6bTIuMzY1LTI2LjkxNmMtMS41MTkgMC0yLjc1NS0xLjIxNC0yLjc1NS0yLjcxQzIyIDQwLjE3MSAyMy4yMzYgMzkgMjQuNzU1IDM5YzEuNTE4IDAgMi43NTQgMS4xNzEgMi43NTQgMi43MTEgMCAxLjQ5Ny0xLjIzNiAyLjcxMS0yLjc1NCAyLjcxMXptMjEuMzQyLTQuOTAxYzkgMCAxNC42NjEgNi4yMjQgMTQuNjYxIDE2LjE4IDAgOS45NTUtNS42NiAxNi4xNTgtMTQuNjYxIDE2LjE1OC05LjAyMyAwLTE0LjY2Mi02LjIwMy0xNC42NjItMTYuMTU4IDAtOS45NTYgNS42MzktMTYuMTggMTQuNjYyLTE2LjE4em0wIDQuMjcyYy01Ljk0MyAwLTkuNjk1IDQuNTk4LTkuNjk1IDExLjkwOCAwIDcuMjg3IDMuNzUyIDExLjg4NSA5LjY5NSAxMS44ODUgNS45NDIgMCA5LjY3My00LjU5OCA5LjY3My0xMS44ODUgMC03LjMxLTMuNzMtMTEuOTA4LTkuNjczLTExLjkwOHpNNjMuOTkgNjIuNjJoNC43OTNjLjM0NyAzLjEwMiAzLjM2MiA1LjE0IDcuNDgzIDUuMTQgMy45NDggMCA2Ljc4OS0yLjAzOCA2Ljc4OS00LjgzNiAwLTIuNDMtMS43MTQtMy44ODItNS43Ny00Ljg4bC00LjA1NS0uOTc2Yy01Ljc0OC0xLjM4OC04LjQxNi00LjA3OC04LjQxNi04LjQzNyAwLTUuNCA0LjcwNy05LjExIDExLjM4Ny05LjExIDYuNjE1IDAgMTEuMTQ4IDMuNzEgMTEuMyA5LjExaC00LjcyOGMtLjI4Mi0zLjEyMy0yLjg2My01LjAxLTYuNjM3LTUuMDEtMy43NzQgMC02LjM1NSAxLjkwOC02LjM1NSA0LjY4NSAwIDIuMjEyIDEuNjQ5IDMuNTEzIDUuNjgzIDQuNTExbDMuNDQ4Ljg0NmM2LjQyIDEuNTE4IDkuMDg4IDQuMSA5LjA4OCA4LjY3NSAwIDUuODU3LTQuNjYzIDkuNTIyLTEyLjA4IDkuNTIyLTYuOTQxIDAtMTEuNjI2LTMuNTc5LTExLjkzLTkuMjR6IiBmaWxsPSIjRkZGIi8+CiAgICA8L2c+Cjwvc3ZnPgo=":/ios/i,[i.p+"desktop/common/img/devices/linux.88a90a622da7571f29bdcdf21925a730.svg"]:/linux/i,"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTEwIiBoZWlnaHQ9IjExMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICAgIDxkZWZzPgogICAgICAgIDxsaW5lYXJHcmFkaWVudCB4MT0iNDkuOTk0JSIgeTE9IjEuNjMxJSIgeDI9IjQ5Ljk5NCUiIHkyPSI5OC41NDMlIiBpZD0iYSI+CiAgICAgICAgICAgIDxzdG9wIHN0b3AtY29sb3I9IiNGRjFCMkQiIG9mZnNldD0iMCUiLz4KICAgICAgICAgICAgPHN0b3Agc3RvcC1jb2xvcj0iI0ZGMUIyRCIgb2Zmc2V0PSIzMCUiLz4KICAgICAgICAgICAgPHN0b3Agc3RvcC1jb2xvcj0iI0ZGMUIyRCIgb2Zmc2V0PSI2MSUiLz4KICAgICAgICAgICAgPHN0b3Agc3RvcC1jb2xvcj0iI0E3MDAxNCIgb2Zmc2V0PSIxMDAlIi8+CiAgICAgICAgPC9saW5lYXJHcmFkaWVudD4KICAgICAgICA8bGluZWFyR3JhZGllbnQgeDE9IjUwLjAwNSUiIHkxPSIuODQ4JSIgeDI9IjUwLjAwNSUiIHkyPSI5OS42MDIlIiBpZD0iYiI+CiAgICAgICAgICAgIDxzdG9wIHN0b3AtY29sb3I9IiM5QzAwMDAiIG9mZnNldD0iMCUiLz4KICAgICAgICAgICAgPHN0b3Agc3RvcC1jb2xvcj0iI0ZGNEI0QiIgb2Zmc2V0PSI3MCUiLz4KICAgICAgICAgICAgPHN0b3Agc3RvcC1jb2xvcj0iI0ZGNEI0QiIgb2Zmc2V0PSIxMDAlIi8+CiAgICAgICAgPC9saW5lYXJHcmFkaWVudD4KICAgIDwvZGVmcz4KICAgIDxnIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0ibm9uemVybyI+CiAgICAgICAgPHBhdGggZmlsbD0iIzE5MUExQyIgZD0iTTAgMGgxMTB2MTEwSDB6Ii8+CiAgICAgICAgPHBhdGggZD0iTTMwLjg0IDBDMTMuODA2IDAgMCAxMy44MTIgMCAzMC44NDdjMCAxNi41NDMgMTMuMDI2IDMwLjA0MiAyOS4zOCAzMC44MWEzMC43MzQgMzAuNzM0IDAgMCAwIDIyLjAyNS03LjgxNGMtMy42MTYgMi4zOTktNy44NDUgMy43NzQtMTIuMzYzIDMuNzc0LTcuMzQ4IDAtMTMuOTIzLTMuNjQ2LTE4LjM0OS05LjM5Mi0zLjQxMy00LjAyLTUuNjIzLTkuOTc1LTUuNzctMTYuNjU0di0xLjQ1NWMuMTQ3LTYuNjczIDIuMzU3LTEyLjYyNyA1Ljc2NC0xNi42NTQgNC40MjYtNS43NDYgMTEuMDA3LTkuMzg2IDE4LjM1NS05LjM4NiA0LjUxOCAwIDguNzQ3IDEuMzgxIDEyLjM2MyAzLjc4MUEzMC43MzMgMzAuNzMzIDAgMCAwIDMwLjk1NyAwaC0uMTE3eiIgZmlsbD0idXJsKCNhKSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMjQgMjQpIi8+CiAgICAgICAgPHBhdGggZD0iTTIwLjY4NyAxMy40NjJjMi44MzYtMy4zNCA2LjQ4OS01LjM1MyAxMC40ODUtNS4zNTMgOC45OCAwIDE2LjI2MSAxMC4xODQgMTYuMjYxIDIyLjczOCAwIDEyLjU2LTcuMjggMjIuNzM3LTE2LjI2MSAyMi43MzctMy45OTYgMC03LjY0OS0yLjAxNC0xMC40NzktNS4zNTMgNC40MjYgNS43NDYgMTEgOS4zOTIgMTguMzQ5IDkuMzkyIDQuNTE4IDAgOC43NDctMS4zODEgMTIuMzYzLTMuNzc1IDYuMzEtNS42NTQgMTAuMjgyLTEzLjg2MSAxMC4yODItMjMuMDAxIDAtOS4xMzUtMy45NzItMTcuMzQ4LTEwLjI4OC0yMi45OTYtMy42MTYtMi40LTcuODQtMy43NzUtMTIuMzU3LTMuNzc1LTcuMzQ4IDAtMTMuOTIzIDMuNjQ2LTE4LjM0OSA5LjM5MiIgZmlsbD0idXJsKCNiKSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMjQgMjQpIi8+CiAgICA8L2c+Cjwvc3ZnPgo=":/opera/i,"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTEwIiBoZWlnaHQ9IjExMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICAgIDxnIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0ibm9uemVybyI+CiAgICAgICAgPHBhdGggZmlsbD0iIzE5MUExQyIgZD0iTTAgMGgxMTB2MTEwSDB6Ii8+CiAgICAgICAgPHBhdGggZD0iTTcxLjc2IDU0Ljk5NGMtLjA3NC03Ljc0IDYuMzQ0LTExLjQ2IDYuNjM1LTExLjY0LTMuNjEtNS4yNTctOS4yMjQtNS45NzgtMTEuMjMyLTYuMDY0LTQuNzgzLS40ODItOS4zMzIgMi44MDQtMTEuNzU1IDIuODA0LTIuNDI0IDAtNi4xNjYtMi43MzEtMTAuMTMzLTIuNjU3LTUuMjE1LjA3NS0xMC4wMTggMy4wMTctMTIuNzA2IDcuNjY0LTUuNDEyIDkuMzYtMS4zODQgMjMuMjIyIDMuODkzIDMwLjgxIDIuNTggMy43MTEgNS42NTMgNy44ODkgOS42OTMgNy43MzcgMy44OS0uMTUxIDUuMzYtMi41MDMgMTAuMDU5LTIuNTAzIDQuNyAwIDYuMDIzIDIuNTAzIDEwLjEzNiAyLjQyNSA0LjE4Ni0uMDczIDYuODM2LTMuNzg0IDkuMzk3LTcuNTEgMi45NjItNC4zMSA0LjE4LTguNDgzIDQuMjUzLTguNjk3LS4wOTItLjA0Mi04LjE2NC0zLjEyLTguMjQ1LTEyLjM3M20tNy43MjgtMjIuNzI1YzIuMTQ2LTIuNTg3IDMuNTg5LTYuMTg3IDMuMTkzLTkuNzY1LTMuMDg4LjEyNS02LjgyNyAyLjA0OS05LjA0NSA0LjYzNC0xLjk4NyAyLjI5LTMuNzI2IDUuOTQ4LTMuMjU1IDkuNDYgMy40NDIuMjY1IDYuOTYyLTEuNzQ1IDkuMTA3LTQuMzMiIGZpbGw9IiNGRkYiLz4KICAgIDwvZz4KPC9zdmc+Cg==":/mac/i,"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTEwIiBoZWlnaHQ9IjExMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICAgIDxkZWZzPgogICAgICAgIDxyYWRpYWxHcmFkaWVudCBjeD0iODkuMjY3JSIgY3k9IjQ5LjcxMyUiIGZ4PSI4OS4yNjclIiBmeT0iNDkuNzEzJSIgcj0iOTIuNSUiIGdyYWRpZW50VHJhbnNmb3JtPSJtYXRyaXgoMSAwIDAgLjYxMTIgMCAuMTkzKSIgaWQ9ImEiPgogICAgICAgICAgICA8c3RvcCBzdG9wLWNvbG9yPSIjRjlCRTAzIiBvZmZzZXQ9IjAlIi8+CiAgICAgICAgICAgIDxzdG9wIHN0b3AtY29sb3I9IiNDQzdDMTkiIG9mZnNldD0iMTAwJSIvPgogICAgICAgIDwvcmFkaWFsR3JhZGllbnQ+CiAgICA8L2RlZnM+CiAgICA8ZyBmaWxsPSJub25lIiBmaWxsLXJ1bGU9Im5vbnplcm8iPgogICAgICAgIDxwYXRoIGZpbGw9IiMxOTFBMUMiIGQ9Ik0wIDBoMTEwdjExMEgweiIvPgogICAgICAgIDxwYXRoIGZpbGw9InVybCgjYSkiIGQ9Ik0zOCAyNWgxNy40MzRsMTkuMjM4IDMwLTE5LjIzOCAzMEgzOGwxOS4yMzgtMzBMMzggMjUiLz4KICAgIDwvZz4KPC9zdmc+Cg==":/konvergo|plex.*home.*theater|plex.*media.*center/i,"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTEwIiBoZWlnaHQ9IjExMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICAgIDxkZWZzPgogICAgICAgIDxsaW5lYXJHcmFkaWVudCB4MT0iMTAwJSIgeTE9IjUwJSIgeDI9IjAlIiB5Mj0iNTAlIiBpZD0iYSI+CiAgICAgICAgICAgIDxzdG9wIHN0b3AtY29sb3I9IiNGNENFMUUiIG9mZnNldD0iMCUiLz4KICAgICAgICAgICAgPHN0b3Agc3RvcC1jb2xvcj0iI0NDN0MxOSIgb2Zmc2V0PSIxMDAlIi8+CiAgICAgICAgPC9saW5lYXJHcmFkaWVudD4KICAgIDwvZGVmcz4KICAgIDxnIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0ibm9uemVybyI+CiAgICAgICAgPHBhdGggZmlsbD0iIzE5MUExQyIgZD0iTTAgMGgxMTB2MTEwSDB6Ii8+CiAgICAgICAgPHBhdGggZmlsbD0idXJsKCNhKSIgZD0iTTc4LjQ3MyA1NWwtMjAuMy0yOC45ODZMNTEuNzI4IDI2bC0zLjIyMi4wMTRMNjguODA2IDU1IDUwLjc2IDgwLjc3N2gtMy4yMjJMNjUuNTg0IDU1bC0yMC4zLTI4Ljk4NkwzOC44NCAyNmwtMy4yMjMuMDE0IDE4LjA2MSAyNS43NjRIMTlWNTVoNDAuMTRMNDEuMDg0IDI5LjIyMmgzLjIyM0w2Mi4zNjEgNTVsLTIwLjMgMjloOS42NjdsMjAuMy0yOS0xOC4wNTQtMjUuNzc4aDMuMjIzTDc1LjI1IDU1bC0yMC4zIDI5aDkuNjY3bDE4LjAxLTI1Ljc3OGg4LjcwNlY1NWgtOS42MzlMNjMuNjUgODAuNzc3aC0zLjIyMnoiLz4KICAgIDwvZz4KPC9zdmc+Cg==":/plexamp/i,"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTEwIiBoZWlnaHQ9IjExMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICAgIDxkZWZzPgogICAgICAgIDxsaW5lYXJHcmFkaWVudCB4MT0iMTAwJSIgeTE9IjUwJSIgeDI9IjAlIiB5Mj0iNTAlIiBpZD0iYSI+CiAgICAgICAgICAgIDxzdG9wIHN0b3AtY29sb3I9IiNGOUJFMDMiIG9mZnNldD0iMCUiLz4KICAgICAgICAgICAgPHN0b3Agc3RvcC1jb2xvcj0iI0U1QTAwRCIgb2Zmc2V0PSI0Ny43MzglIi8+CiAgICAgICAgICAgIDxzdG9wIHN0b3AtY29sb3I9IiNDQzdDMTkiIG9mZnNldD0iMTAwJSIvPgogICAgICAgIDwvbGluZWFyR3JhZGllbnQ+CiAgICAgICAgPHJhZGlhbEdyYWRpZW50IGN4PSI4OS4yNjclIiBjeT0iNDkuNzEzJSIgZng9Ijg5LjI2NyUiIGZ5PSI0OS43MTMlIiByPSI5Mi41JSIgZ3JhZGllbnRUcmFuc2Zvcm09Im1hdHJpeCgxIDAgMCAuNjExMiAwIC4xOTMpIiBpZD0iYiI+CiAgICAgICAgICAgIDxzdG9wIHN0b3AtY29sb3I9IiNGOUJFMDMiIG9mZnNldD0iMCUiLz4KICAgICAgICAgICAgPHN0b3Agc3RvcC1jb2xvcj0iI0NDN0MxOSIgb2Zmc2V0PSIxMDAlIi8+CiAgICAgICAgPC9yYWRpYWxHcmFkaWVudD4KICAgIDwvZGVmcz4KICAgIDxnIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0ibm9uemVybyI+CiAgICAgICAgPHBhdGggZmlsbD0iIzE5MUExQyIgZD0iTTAgMGgxMTB2MTEwSDB6Ii8+CiAgICAgICAgPHBhdGggZD0iTTMxIDYyQzEzLjg3OSA2MiAwIDQ4LjEyMSAwIDMxIDAgMTMuODc5IDEzLjg3OSAwIDMxIDBjMTcuMTIxIDAgMzEgMTMuODc5IDMxIDMxIDAgMTcuMTIxLTEzLjg3OSAzMS0zMSAzMXptMC0xLjg2YzE2LjA5MyAwIDI5LjE0LTEzLjA0NyAyOS4xNC0yOS4xNFM0Ny4wOTMgMS44NiAzMSAxLjg2IDEuODYgMTQuOTA3IDEuODYgMzEgMTQuOTA3IDYwLjE0IDMxIDYwLjE0eiIgZmlsbD0idXJsKCNhKSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMjQgMjQpIi8+CiAgICAgICAgPHBhdGggZmlsbD0idXJsKCNiKSIgZD0iTTIwLjM5OCAxMS42NTZoMTEuMjZsMTIuNDI0IDE5LjM3NS0xMi40MjUgMTkuMzc1SDIwLjM5OGwxMi40MjUtMTkuMzc1LTEyLjQyNS0xOS4zNzUiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDI0IDI0KSIvPgogICAgPC9nPgo8L3N2Zz4K":/plex.*media.*server/i,"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTEwIiBoZWlnaHQ9IjExMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICAgIDxkZWZzPgogICAgICAgIDxsaW5lYXJHcmFkaWVudCB4MT0iNTAlIiB5MT0iMCUiIHgyPSI1MCUiIHkyPSIxMDAlIiBpZD0iYSI+CiAgICAgICAgICAgIDxzdG9wIHN0b3AtY29sb3I9IiMxQTgwRDMiIG9mZnNldD0iMCUiLz4KICAgICAgICAgICAgPHN0b3Agc3RvcC1jb2xvcj0iIzFBNDU5MyIgb2Zmc2V0PSIxMDAlIi8+CiAgICAgICAgPC9saW5lYXJHcmFkaWVudD4KICAgIDwvZGVmcz4KICAgIDxnIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0ibm9uemVybyI+CiAgICAgICAgPHBhdGggZmlsbD0iIzE5MUExQyIgZD0iTTAgMGgxMTB2MTEwSDB6Ii8+CiAgICAgICAgPHBhdGggZD0iTTg5LjkxMSA2OS44NmMtMS40MTcgMS43ODgtNC44OSAzLjA2NC00Ljg5IDMuMDY0bC0yNS44MyA5LjI3OFY3NS4zNmwxOS4wMS02Ljc3NGMyLjE1Ni0uNzczIDIuNDg4LTEuODY1LjczNC0yLjQzOS0xLjc1LS41NzUtNC45Mi0uNDEtNy4wNzguMzY2TDU5LjE5IDcwLjk3NHYtNy4xMDFsLjczLS4yNDdzMy42Ni0xLjI5NiA4LjgwNy0xLjg2NmM1LjE0Ny0uNTY3IDExLjQ1LjA3OCAxNi4zOTcgMS45NTMgNS41NzUgMS43NjIgNi4yMDMgNC4zNiA0Ljc4NyA2LjE0N3pNNjEuNjUgNTguMjF2LTE3LjVjMC0yLjA1NC0uMzc5LTMuOTQ2LTIuMzA3LTQuNDgyLTEuNDc3LS40NzMtMi4zOTMuODk4LTIuMzkzIDIuOTUyVjgzTDQ1LjEzIDc5LjI1VjI3YzUuMDI1LjkzMyAxMi4zNDUgMy4xMzggMTYuMjggNC40NjUgMTAuMDEgMy40MzYgMTMuNDAzIDcuNzEyIDEzLjQwMyAxNy4zNDggMCA5LjM5Mi01Ljc5OCAxMi45NTItMTMuMTY1IDkuMzk2ek0yMy40NDYgNzQuNjQ0Yy01LjcyMy0xLjYxMS02LjY3Ni00Ljk3LTQuMDY3LTYuOTA1IDIuNDEtMS43ODYgNi41MTEtMy4xMzEgNi41MTEtMy4xMzFsMTYuOTQ1LTYuMDI1djYuODY5bC0xMi4xOTQgNC4zNjRjLTIuMTU0Ljc3My0yLjQ4NSAxLjg2Ny0uNzM1IDIuNDQgMS43NTIuNTc0IDQuOTIzLjQxIDcuMDgtLjM2NGw1Ljg1LTIuMTIydjYuMTQ1Yy0uMzcyLjA2Ni0uNzg1LjEzMi0xLjE2OC4xOTYtNS44NS45NTYtMTIuMDgxLjU1Ny0xOC4yMjItMS40Njd6IiBmaWxsPSJ1cmwoI2EpIi8+CiAgICA8L2c+Cjwvc3ZnPgo=":/WebMAF|playstation|mystery.*3/i,"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTEwIiBoZWlnaHQ9IjExMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICAgIDxnIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCI+CiAgICAgICAgPHBhdGggZmlsbD0iIzE5MUExQyIgZmlsbC1ydWxlPSJub256ZXJvIiBkPSJNMCAwaDExMHYxMTBIMHoiLz4KICAgICAgICA8cGF0aCBmaWxsPSIjNjYyRDkxIiBkPSJNMTEgMzJoODh2NDZIMTF6Ii8+CiAgICAgICAgPHBhdGggZD0iTTY2LjkyNyA1NC4zODhsLTYuMTk2IDYuMjF2LTYuMjMxaC01LjM3OHYxNS44MzVoNS4zNzh2LTYuNDI0bDYuNDY5IDYuNDI0aDYuNzdsLTguMjIxLTguMjQyIDYuODA5LTYuODIzdjkuMzk4YzAgMy4xMiAxLjg3MiA2IDYuNTg2IDYgMi4yMzggMCA0LjI5Mi0xLjI3MiA1LjI5LTIuNDI0bDIuNDE4IDIuMDlIODhWNTQuMzg0aC01LjM3OHYxMC4yNGMtLjYwNSAxLjA2LTEuNDUgMS43MjYtMi43NTQgMS43MjYtMS4zMjMgMC0xLjkzLS43ODctMS45My0zLjMwMXYtOC42NjVoLTExLjAxbS0zMy4wNzMgMTUuODRsLTQuODQ2LTYuNzRoLTEuNjN2Ni43MjZIMjJWNTBoNy43MDZjNC40NDMgMCA4LjA2OSAzLjAyOSA4LjA2OSA2Ljc1NCAwIDIuMjczLTEuMzkgNC4zMDItMy41MSA1LjU0NGw1LjY5IDcuOTI3LTYuMS0uMDAyem0tMS40NjQtMTMuNDY3YzAtMS44OC0xLjUwOS0zLjM5My0zLjM1My0zLjM5M2gtMS42NjN2Ni43NTZoMS42NjNjMS44NDUgMCAzLjM1My0xLjUxNSAzLjM1My0zLjM2M3ptMjEuOTE3IDUuNTRjMCA0LjU3OC0zLjcxNCA4LjI0NC04LjI4IDguMjQ0YTguMjI2IDguMjI2IDAgMCAxLTguMjUxLTguMjQzIDguMjI2IDguMjI2IDAgMCAxIDguMjUtOC4yNDFjNC41NjYgMCA4LjI4IDMuNjY3IDguMjggOC4yNHptLTguMjgtNC4zM2MtMS40MjEgMC0yLjYzMSAxLjkzNS0yLjYzMSA0LjMzIDAgMi4zOTcgMS4yMDggNC4zMzUgMi42MyA0LjMzNSAxLjQ1MyAwIDIuNjYtMS45MzggMi42Ni00LjMzNCAwLTIuMzk3LTEuMjA2LTQuMzMxLTIuNjYtNC4zMzF6IiBmaWxsPSIjRkZGIiBmaWxsLXJ1bGU9Im5vbnplcm8iLz4KICAgIDwvZz4KPC9zdmc+Cg==":/roku/i,[i.p+"desktop/common/img/devices/safari.d35160fffeea81c083734fabf407a724.svg"]:/safari/i,"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTEwIiBoZWlnaHQ9IjExMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICAgIDxnIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0ibm9uemVybyI+CiAgICAgICAgPHBhdGggZmlsbD0iIzE5MUExQyIgZD0iTTAgMGgxMTB2MTEwSDB6Ii8+CiAgICAgICAgPHBhdGggZD0iTTEwMC45NDMgNDcuMzY5YzEuMjUzIDcuMjc2LTE4LjI5OSAxNi44MDYtNDMuNjc2IDIxLjI4NC0yNS4zNzMgNC40NzgtNDYuOTU5IDIuMjA1LTQ4LjIxLTUuMDc0LTEuMjUtNy4yNzggMTguMzA3LTE2LjgwNCA0My42OC0yMS4yODEgMjUuMzc1LTQuNDggNDYuOTU3LTIuMjA4IDQ4LjIwNiA1LjA3eiIgZmlsbD0iIzAzNEVBMiIvPgogICAgICAgIDxwYXRoIGQ9Ik03Ny4wNjEgNTguMTdsLS4xMy03LjU2NmgyLjM1NXY5LjUzN0g3NS45bC0yLjM1LTcuODI2aC0uMDVsLjEzIDcuODI2aC0yLjM0di05LjUzN2gzLjUzMmwyLjE4NiA3LjU2N2guMDUzem0tNDIuODA2LTYuNjczbC0xLjMwMyA4Ljc0NGgtMi41NjhsMS43NjMtOS42MzdoNC4yMzFsMS43NTYgOS42MzdoLTIuNTU4bC0xLjI2OC04Ljc0NGgtLjA1M3ptMTEuMDkyIDYuNDc0bDEuMTc2LTcuMzY3aDMuODc5bC4yMDYgOS42MzdINDguMjNsLS4wNjMtOC42NjRoLS4wNWwtMS41OSA4LjY2NGgtMi40MTNsLTEuNTktOC42NjRoLS4wNTJsLS4wNiA4LjY2NGgtMi4zODJsLjIxLTkuNjM3aDMuODgxbDEuMTc1IDcuMzY3aC4wNXptLTE4Ljk2OS0uNDQ4Yy0uNDg5LTEuMjQ4LTMuODY4LTEuODE4LTQuMjgzLTMuNzg3LS4xLS40ODMtLjA5LS44Ny0uMDIxLTEuMzAzLjI1Mi0xLjU2OSAxLjYzNS0yLjEzNSAzLjMyNy0yLjEzNSAxLjM0NyAwIDMuMjA3LjMyOCAzLjIwNyAyLjQyN3YuNjc3aC0yLjM3MnYtLjU5NWMwLS41MjYtLjMyOS0uODc0LS44ODUtLjg3NC0uNTk1IDAtLjgwMy4zMzgtLjg2OS42NDYtLjAyMi4xMS0uMDM1LjMxNC4wMS41MDguMjcgMS4xMjggMy44OCAxLjczIDQuMjggMy43NDguMDQuMjA1LjEyNi43NS4wMSAxLjU4My0uMjI1IDEuNjA1LTEuNjQyIDIuMjAxLTMuMzYyIDIuMjAxLTEuNzg5IDAtMy40NTktLjY0OC0zLjQ1OS0yLjc5NmwuMDAyLS43NDdoMi41NTF2LjkzM2MwIC41My4zNjIuODc2Ljk1OS44NzYuNjMyIDAgLjg0Ny0uMzI3LjkyNi0uNjQ4LjA0NC0uMTguMDcyLS40OC0uMDItLjcxNHptMzAuOTMtLjAxOGMtLjQ4NC0xLjIzNS0zLjgzLTEuODAxLTQuMjQtMy43NWEzLjM2IDMuMzYgMCAwIDEtLjAyMS0xLjI4N2MuMjQ3LTEuNTU3IDEuNjE5LTIuMTE3IDMuMjkyLTIuMTE3IDEuMzM0IDAgMy4xNzguMzI2IDMuMTc4IDIuNDAzdi42N2gtMi4zNTR2LS41OWMwLS41MjItLjMyMS0uODYyLS44NzItLjg2Mi0uNTkgMC0uNzkzLjMzMS0uODYxLjY0LS4wMjMuMTA0LS4wMzYuMzA3LjAwOS41LjI2NiAxLjExNiAzLjg0IDEuNzEyIDQuMjM5IDMuNzExLjA0MS4yMDIuMTIzLjc0LjAwOCAxLjU2Ni0uMjIxIDEuNTkxLTEuNjI1IDIuMTgtMy4zMjcgMi4xOC0xLjc3MSAwLTMuNDI2LS42NDMtMy40MjYtMi43N2wuMDA0LS43MzZoMi41MjRsLjAwMi45MjVjMCAuNTE3LjM2Ljg2My45NDcuODYzLjYyOSAwIC44NDEtLjMyMi45MTktLjY0MS4wNDItLjE4MS4wNzMtLjQ3My0uMDIxLS43MDV6bTcuOTkgMS4yOTVjLjY2IDAgLjg2Ni0uNDYzLjkxMS0uN2EyLjAzIDIuMDMgMCAwIDAgLjAyMi0uMzY4VjUwLjZoMi40MDZ2Ni45MTNjLjAwNS4xNzgtLjAxMi41NDItLjAyLjYzMy0uMTcgMS44LTEuNTczIDIuMzgzLTMuMzIgMi4zODMtMS43NSAwLTMuMTU1LS41ODQtMy4zMjItMi4zODNhOC4zMzMgOC4zMzMgMCAwIDEtLjAyLS42MzNWNTAuNmgyLjQwM3Y3LjEzMmMwIC4xMjQuMDA1LjI2NS4wMjMuMzY4LjA1MS4yMzcuMjUxLjcuOTE2Ljd6bTE5Ljg0Mi0uMTAyYy42ODkgMCAuOTMtLjQ0MS45NzQtLjY5OC4wMTctLjExLjAyMi0uMjQ1LjAyMS0uMzY3di0xLjM5OWgtLjk3NnYtMS40MDdoMy4zNzN2Mi41ODdjLS4wMDMuMTgtLjAwNy4zMTMtLjAzNS42MzUtLjE1OSAxLjc1My0xLjY2IDIuMzc5LTMuMzQ1IDIuMzc5LTEuNjkgMC0zLjE4OC0uNjI2LTMuMzQ5LTIuMzc5YTcuOSA3LjkgMCAwIDEtLjAzNC0uNjM1bC4wMDItNC4wNThjMC0uMTcxLjAyMS0uNDc0LjA0LS42MzUuMjEtMS44MDEgMS42NTItMi4zOCAzLjM0LTIuMzhzMy4xNjQuNTc2IDMuMzQgMi4zOGMuMDMuMzA3LjAyLjYzNS4wMi42MzV2LjMyMWgtMi4zOTh2LS41NGMuMDAyLjAwMi0uMDAzLS4yMjktLjAzMS0uMzY2LS4wNC0uMjEzLS4yMjQtLjcwMi0uOTQ4LS43MDItLjY5NCAwLS44OTcuNDYzLS45NDguNzAyYTIuMTkgMi4xOSAwIDAgMC0uMDQuNDU1djQuNDA3Yy0uMDAyLjEyMi4wMDUuMjU2LjAyNC4zNjcuMDQyLjI1OC4yODEuNjk4Ljk3LjY5OHoiIGZpbGw9IiNGRkYiLz4KICAgIDwvZz4KPC9zdmc+Cg==":/samsung/i,"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTEwIiBoZWlnaHQ9IjExMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICAgIDxnIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0ibm9uemVybyI+CiAgICAgICAgPHBhdGggZmlsbD0iIzE5MUExQyIgZD0iTTAgMGgxMTB2MTEwSDB6Ii8+CiAgICAgICAgPHBhdGggZD0iTTM0LjI1IDQ2Yy00Ljg3NSAwLTguODQyIDMuOTY2LTguODQyIDguODQyIDAgNC44NzQgMy45NjcgOC44NCA4Ljg0MiA4Ljg0czguODQxLTMuOTY2IDguODQxLTguODRjMC00Ljg3Ni0zLjk2Ni04Ljg0Mi04Ljg0LTguODQyem0wIDE0LjUwNmMtMy4wOTIgMC01LjYwNS0yLjU0LTUuNjA1LTUuNjY0IDAtMy4xMjQgMi41MTMtNS42NjQgNS42MDUtNS42NjQgMy4wOTEgMCA1LjYwNyAyLjU0IDUuNjA3IDUuNjY0IDAgMy4xMjMtMi41MTYgNS42NjQtNS42MDcgNS42NjR6bS0xNC4yMTktNS41MThjMS4yNS45NTMgMS44ODMgMi4xNzQgMS44ODMgMy42MjUgMCAxLjM1Mi0uNjI1IDIuNjcxLTEuNzE3IDMuNjItMS4wOTcuOTQ5LTIuNjAyIDEuNDczLTQuMjQgMS40NzMtMy40MDYgMC01LjM2NC0yLjI4My01LjQ0NS0yLjM3OGwtLjI3OC0uMzMgMi41NDctMS43Mi4yMjEuMTY1Yy40MS4zMDcgMS41MiAxLjAyMiAyLjk1NiAxLjAyMiAxLjcgMCAyLjcxNi0uOTQxIDIuNzE2LTEuODUyIDAtLjM4OCAwLTEuMTk1LTMuMjAxLTIuMjEzLTEuNjQ2LS41MjItMi43NS0xLjA0LTMuNTg4LTEuNjgtMS4yNS0uOTUyLTEuODg1LTIuMTcyLTEuODg1LTMuNjI0IDAtMS4zNTIuNjI2LTIuNjcxIDEuNzE5LTMuNjE5IDEuMDk2LS45NSAyLjYtMS40NzQgNC4yMzgtMS40NzQgMy40MDYgMCA1LjM2NCAyLjI4IDUuNDQ3IDIuMzc4bC4yNzYuMzMtMi41NDUgMS43Mi0uMjItLjE2NWMtLjQxMy0uMzA4LTEuNTI2LTEuMDIzLTIuOTU4LTEuMDIzLTEuNyAwLTIuNzE1Ljk0My0yLjcxNSAxLjg1MyAwIC4zODggMCAxLjE5NSAzLjIwMSAyLjIxMyAxLjY0Ni41MjIgMi43NSAxLjA0IDMuNTg4IDEuNjh6bTM4LjcyIDEuMTF2LTkuNDY1aDMuMTU5VjYzLjUybC0xMC42NTktOS45MnY5LjQwNmgtMy4xNThWNDYuMTZsMTAuNjU4IDkuOTM2em0xNy0xMC4wMzNjNC44NzYgMCA4Ljg0MiAzLjk2NiA4Ljg0MiA4Ljg0MSAwIDQuODc1LTMuOTY2IDguODQxLTguODQyIDguODQxLTQuODc0IDAtOC44NC0zLjk2Ni04Ljg0LTguODQgMC00Ljg3NiAzLjk2Ni04Ljg0MiA4Ljg0LTguODQyem0wIDE0LjUwNWMzLjA5IDAgNS42MDYtMi41NDEgNS42MDYtNS42NjQgMC0zLjEyMi0yLjUxNS01LjY2My01LjYwNi01LjY2My0zLjA5MiAwLTUuNjA1IDIuNTQtNS42MDUgNS42NjNzMi41MTMgNS42NjQgNS42MDUgNS42NjR6bTE0LjIxOS01LjgxYy0xLjI1LS45NTQtMS44ODItMi4xNzMtMS44ODItMy42MjUgMC0xLjM1Mi42MjUtMi42NyAxLjcxNy0zLjYyIDEuMDk2LS45NSAyLjYwMS0xLjQ3NCA0LjIzOS0xLjQ3NCAzLjQwNiAwIDUuMzY0IDIuMjgzIDUuNDQ1IDIuMzc5bC4yNzguMzMtMi41NDYgMS43Mi0uMjIyLS4xNjVjLS40MS0uMzA3LTEuNTItMS4wMjItMi45NTUtMS4wMjItMS43IDAtMi43MTcuOTQxLTIuNzE3IDEuODUyIDAgLjM4OCAwIDEuMTk1IDMuMjAyIDIuMjEzIDEuNjQ2LjUyMiAyLjc1IDEuMDQgMy41ODggMS42OEM5OS4zNjcgNTUuOTggMTAwIDU3LjIgMTAwIDU4LjY1YzAgMS4zNTQtLjYyNiAyLjY3Mi0xLjcxOCAzLjYyLTEuMDk2Ljk1LTIuNiAxLjQ3NC00LjIzOCAxLjQ3NC0zLjQwNyAwLTUuMzY0LTIuMjgxLTUuNDQ1LTIuMzc4bC0uMjc5LS4zMyAyLjU0Ny0xLjcyLjIyLjE2NWMuNDEyLjMwNyAxLjUyNSAxLjAyMiAyLjk1NyAxLjAyMiAxLjcgMCAyLjcxNi0uOTQyIDIuNzE2LTEuODUzIDAtLjM4OCAwLTEuMTk1LTMuMjAyLTIuMjExLTEuNjQ2LS41MjMtMi43NS0xLjA0LTMuNTg4LTEuNjh6IiBmaWxsPSIjRkZGIi8+CiAgICA8L2c+Cjwvc3ZnPgo=":/sonos/i,"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTEwIiBoZWlnaHQ9IjExMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICAgIDxkZWZzPgogICAgICAgIDxsaW5lYXJHcmFkaWVudCB4MT0iNTAlIiB5MT0iMCUiIHgyPSI1MCUiIHkyPSIxMDAlIiBpZD0iYSI+CiAgICAgICAgICAgIDxzdG9wIHN0b3AtY29sb3I9IiNGRkYiIHN0b3Atb3BhY2l0eT0iMCIgb2Zmc2V0PSIwJSIvPgogICAgICAgICAgICA8c3RvcCBzdG9wLWNvbG9yPSIjRkZGIiBzdG9wLW9wYWNpdHk9Ii40NSIgb2Zmc2V0PSIxMDAlIi8+CiAgICAgICAgPC9saW5lYXJHcmFkaWVudD4KICAgICAgICA8cmFkaWFsR3JhZGllbnQgY3g9IjgyLjg2MiUiIGZ4PSI4Mi44NjIlIiBmeT0iNTAlIiByPSI5MS4xNTklIiBncmFkaWVudFRyYW5zZm9ybT0ibWF0cml4KC0xIDAgMCAtLjg1MSAxLjY1NyAuOTI2KSIgaWQ9ImIiPgogICAgICAgICAgICA8c3RvcCBzdG9wLWNvbG9yPSIjRjlCRTAzIiBvZmZzZXQ9IjAlIi8+CiAgICAgICAgICAgIDxzdG9wIHN0b3AtY29sb3I9IiNDQzdDMTkiIG9mZnNldD0iMTAwJSIvPgogICAgICAgIDwvcmFkaWFsR3JhZGllbnQ+CiAgICA8L2RlZnM+CiAgICA8ZyBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPgogICAgICAgIDxwYXRoIGZpbGw9IiMxOTFBMUMiIGZpbGwtcnVsZT0ibm9uemVybyIgZD0iTTAgMGgxMTB2MTEwSDB6Ii8+CiAgICAgICAgPHBhdGggZD0iTTAgMTAuNjA0aDYuODU2TDkuMDkgNy44aDEuMDFsLTIuMTg2IDIuODA0aDkuNTIzTDE5LjE4IDcuOGgxLjAxbC0xLjY5NSAyLjgwNGg5LjUyM0wyOS4yNyA3LjhoMS4wMWwtMS4yMDQgMi44MDRoOS41MjNMMzkuMzYgNy44aDEuMDFsLS43MTMgMi44MDRoOS41MjNsLjI3LTIuODA0aDEuMDFsLS4yMjEgMi44MDRoOS41MjNMNTkuNTQgNy44aDEuMDA5bC4yNyAyLjgwNGg5LjUyM0w2OS42MyA3LjhoMS4wMDlsLjc2IDIuODA0aDkuNTI0TDc5LjcyMSA3LjhoMS4wMDlsMS4yNTIgMi44MDRoOS41MjNMODkuODExIDcuOGgxLjAwOWwxLjc0MyAyLjgwNGg5LjUyM0w5OS45MDEgNy44aDEuMDA5bDIuMjM0IDIuODA0SDExMHYuNzkyaC02LjIyNGwyLjU1NyAzLjIwOEgxMTB2Ljc5MmgtMy4wMzVsMi44NzUgMy42MDhoLjE2djEuNzUxbC0uNzQ4LS45NTlIOTguMjhsMi40OTIgNC4wMDhIMTEwdi43OTJoLTguNzM1bDIuOTg5IDQuODA4SDExMHYuNzkyaC01LjI1M2wzLjk4NSA2LjQwOEgxMTB2Ljc5MmgtLjc3NWwuNzc1IDEuMjQ3djIuNTYzbC0yLjMwMy0zLjgxSDkzLjk1bDMuNTc3IDguMDA4SDExMHYuNzkySDk3Ljg4MWw0LjI5MiA5LjYwOEgxMTB2Ljc5MmgtNy40NzNsNS43MjEgMTIuODA4SDExMHYuNzkyaC0xLjM5OGwxLjM5OCAzLjEzdjUuMDI2bC0zLjUtOC4xNTZIODcuNTgyTDkxLjYwMiA4NUg4OS4yNGwtMy43Ni0xNC44MDRINjYuNTZMNjcuOTg3IDg1aC0yLjM2bC0xLjE2OC0xNC44MDRINDUuNTQxTDQ0LjM3NCA4NWgtMi4zNjFsMS40MjYtMTQuODA0SDI0LjUyTDIwLjc2IDg1SDE4LjRsNC4wMi0xNC44MDRIMy41TDAgNzguMzUydi01LjAyNmwxLjM5OC0zLjEzSDB2LS43OTJoMS43NTJsNS43MjEtMTIuODA4SDB2LS43OTJoNy44MjdsNC4yOTItOS42MDhIMHYtLjc5MmgxMi40NzNsMy41NzctOC4wMDhIMi4zMDJMMCA0MS4yMDZ2LTIuNTYzbC43NzUtMS4yNDdIMHYtLjc5MmgxLjI2OGwzLjk4NS02LjQwOEgwdi0uNzkyaDUuNzQ1bDIuOTktNC44MDhIMHYtLjc5Mmg5LjIyOGwyLjQ5Mi00LjAwOEguNzQ4bC0uNzQ4Ljk2di0xLjc1MmguMTZsMi44NzUtMy42MDhIMHYtLjc5MmgzLjY2N2wyLjU1Ny0zLjIwOEgwdi0uNzkyem0yNi4xMTEgNDUuOTkySDkuMzM3TDMuODQgNjkuNDA0aDE4Ljc5NGwzLjQ3Ny0xMi44MDh6bTE4LjYzOCAwSDI3Ljk3NWwtMy4yNTMgMTIuODA4aDE4Ljc5M2wxLjIzNC0xMi44MDh6bTE4LjYzOCAwSDQ2LjYxM2wtMS4wMSAxMi44MDhoMTguNzk0bC0xLjAxLTEyLjgwOHptMTguNjM4IDBINjUuMjUxbDEuMjM0IDEyLjgwOGgxOC43OTNsLTMuMjUzLTEyLjgwOHptMTguNjM4IDBIODMuODg5bDMuNDc3IDEyLjgwOGgxOC43OTRsLTUuNDk3LTEyLjgwOHptLTcxLjcyOC0xMC40SDEzLjhsLTQuMTIzIDkuNjA4aDE2LjY1bDIuNjA4LTkuNjA4em0xNi44MTYgMEgzMC42MTdsLTIuNDQgOS42MDhoMTYuNjQ4bC45MjYtOS42MDh6bTE2LjgxNiAwSDQ3LjQzM2wtLjc1OCA5LjYwOGgxNi42NWwtLjc1OC05LjYwOHptMTYuODE2IDBINjQuMjVsLjkyNSA5LjYwOGgxNi42NWwtMi40NC05LjYwOHptMTYuODE3IDBIODEuMDY1bDIuNjA5IDkuNjA4aDE2LjY0OUw5Ni4yIDQ2LjE5NnptLTY0Ljg3Ni04LjhIMTcuNTc3bC0zLjQzNiA4LjAwOGgxNS4wMWwyLjE3My04LjAwOHptMTUuMjc1IDBIMzIuODUybC0yLjAzNCA4LjAwOGgxNS4wMWwuNzctOC4wMDh6bTE1LjI3NSAwSDQ4LjEyNmwtLjYzIDguMDA4aDE1LjAwOWwtLjYzMS04LjAwOHptMTUuMjc0IDBINjMuNDAxbC43NzEgOC4wMDhoMTUuMDFsLTIuMDM0LTguMDA4em0xNS4yNzUgMEg3OC42NzZsMi4xNzQgOC4wMDhoMTUuMDFsLTMuNDM3LTguMDA4em0tMTcuMTA0LTcuMkg2Mi43MDdsLjYxOCA2LjQwOGgxMy42MjJsLTEuNjI4LTYuNDA4em0tNTYuMDUzIDBINi42NTRsLTMuODcyIDYuNDA4aDEzLjYyMmwyLjg2Mi02LjQwOHptMTQuMDEzIDBIMjAuNjY3bC0yLjc1IDYuNDA4SDMxLjU0bDEuNzQtNi40MDh6bTE0LjAxNCAwSDM0LjY4bC0xLjYyOCA2LjQwOGgxMy42MjJsLjYxOC02LjQwOHptMTQuMDEzIDBINDguNjk0bC0uNTA1IDYuNDA4SDYxLjgxbC0uNTA1LTYuNDA4em0yOC4wMjcgMEg3Ni43MmwxLjc0IDYuNDA4aDEzLjYyMmwtMi43NS02LjQwOHptMTQuMDEzIDBIOTAuNzM0bDIuODYyIDYuNDA4aDEzLjYyMmwtMy44NzItNi40MDh6bS04MS41NzktNS42SDEwLjAzOGwtMi45MDUgNC44MDhIMTkuNjJsMi4xNDctNC44MDh6bTEzLjAzMyAwSDIzLjA3bC0yLjA2MyA0LjgwOGgxMi40ODhsMS4zMDUtNC44MDh6bTEzLjAzMiAwSDM2LjEwM2wtMS4yMjEgNC44MDhoMTIuNDg3bC40NjMtNC44MDh6bTEzLjAzMyAwaC0xMS43M2wtLjM3OCA0LjgwOGgxMi40ODZsLS4zNzgtNC44MDh6bTI2LjA2NCAwSDc1LjJsMS4zMDUgNC44MDhoMTIuNDg4bC0yLjA2NC00LjgwOHptLTEzLjAzMiAwaC0xMS43M2wuNDY0IDQuODA4aDEyLjQ4N2wtMS4yMjEtNC44MDh6bTI2LjA2NSAwaC0xMS43M2wyLjE0OCA0LjgwOGgxMi40ODdsLTIuOTA1LTQuODA4em0tNzYuMDUtNC44SDEyLjkzOWwtMi40MjIgNC4wMDhoMTEuNjA1bDEuNzktNC4wMDh6bTEyLjE5MSAwSDI1LjEzMWwtMS43MiA0LjAwOGgxMS42MDRsMS4wODgtNC4wMDh6bTEyLjE5MiAwSDM3LjMyMmwtMS4wMTggNC4wMDhINDcuOTFsLjM4Ni00LjAwOHptMTIuMTkxIDBINDkuNTE0bC0uMzE2IDQuMDA4aDExLjYwNGwtLjMxNi00LjAwOHptMTIuMTkyIDBINjEuNzA1bC4zODYgNC4wMDhoMTEuNjA1bC0xLjAxOC00LjAwOHptMTIuMTkxIDBINzMuODk3bDEuMDg4IDQuMDA4aDExLjYwNGwtMS43Mi00LjAwOHptMTIuMTkyIDBIODYuMDg4bDEuNzkgNC4wMDhoMTEuNjA1bC0yLjQyMi00LjAwOHptLTI1LjUtNC40SDYxLjI4bC4zNDggMy42MDhoMTAuODQ3bC0uOTE2LTMuNjA4em0tNTcuMTA1IDBINC4xNzhsLTIuODEyIDMuNjA4aDEwLjg0N2wyLjI0My0zLjYwOHptMTEuNDIxIDBIMTUuNTk4bC0yLjE4IDMuNjA4aDEwLjg0OGwxLjYxMS0zLjYwOHptMTEuNDIgMEgyNy4wMmwtMS41NDggMy42MDhoMTAuODQ3bC45OC0zLjYwOHptMTEuNDIyIDBoLTEwLjI4bC0uOTE1IDMuNjA4SDQ4LjM3bC4zNDgtMy42MDh6bTExLjQyIDBINDkuODYxbC0uMjg1IDMuNjA4aDEwLjg0OGwtLjI4NS0zLjYwOHptMjIuODQyIDBINzIuNzAybC45OCAzLjYwOGgxMC44NDdsLTEuNTQ4LTMuNjA4em0xMS40MiAwSDg0LjEyNGwxLjYxMSAzLjYwOGgxMC44NDhsLTIuMTgtMy42MDh6bTExLjQyMiAwaC0xMC4yOGwyLjI0NCAzLjYwOGgxMC44NDdsLTIuODExLTMuNjA4em0tMzUuMjc5LTRoLTkuNjQ4bC4zMDkgMy4yMDhoMTAuMTU0bC0uODE1LTMuMjA4em0tNTMuNiAwSDcuMjk2bC0yLjUgMy4yMDhoMTAuMTUzbDEuOTk1LTMuMjA4em0xMC43MiAwaC05LjY0OGwtMS45MzkgMy4yMDhoMTAuMTU0bDEuNDMzLTMuMjA4em0xMC43MiAwaC05LjY0OGwtMS4zNzcgMy4yMDhoMTAuMTU0bC44Ny0zLjIwOHptMTAuNzIgMGgtOS42NDhsLS44MTUgMy4yMDhoMTAuMTU0bC4zMDktMy4yMDh6bTEwLjcyIDBoLTkuNjQ4bC0uMjUzIDMuMjA4aDEwLjE1NGwtLjI1My0zLjIwOHptMjEuNDQgMGgtOS42NDhsLjg3MSAzLjIwOGgxMC4xNTRsLTEuMzc3LTMuMjA4em0xMC43MiAwaC05LjY0OGwxLjQzMyAzLjIwOGgxMC4xNTRsLTEuOTM5LTMuMjA4em0xMC43MiAwaC05LjY0OGwxLjk5NSAzLjIwOGgxMC4xNTNsLTIuNS0zLjIwOHpNMCA3Ljc5MlY3aDExMHYuODFsLS4wMTctLjAxOEgwem0wIC4wMThWNy44aC4wMDlMMCA3LjgxeiIgZmlsbD0idXJsKCNhKSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMCAyNSkiLz4KICAgICAgICA8cGF0aCBkPSJNMzkuNTggMjUuNDk2bDE5LjExIDI2LjI2Ny0zLjE1NyAzLjA4OS0xNi4yMTEtMjIuOTE3LjI1OS02LjQzOXptLTYuMjQgNTIuNzFoMjIuNjg2TDc3LjkzIDUxLjg1OGwtLjI0OCA2LjQzMi0yMS45MTkgMjYuMzQ3LTIyLjY3OC4wMTcuMjU1LTYuNDQ4eiIgZmlsbD0iIzk5NUMxMiIvPgogICAgICAgIDxwYXRoIGZpbGw9InVybCgjYikiIGQ9Ik0zOS41ODQuNTAzaDE2Ljc0OGwyMS42MDIgMjYuMzUzLTIxLjkxIDI2LjM1M0gzMy4zNDJsMjQuODc3LTI2LjM1M3oiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDAgMjUpIi8+CiAgICA8L2c+Cjwvc3ZnPgo=":/plex.*vr/i,"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTEwIiBoZWlnaHQ9IjExMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICAgIDxnIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCI+CiAgICAgICAgPHBhdGggZmlsbD0iIzE5MUExQyIgZmlsbC1ydWxlPSJub256ZXJvIiBkPSJNMCAwaDExMHYxMTBIMHoiLz4KICAgICAgICA8cGF0aCBkPSJNODAuMjYgNTEuNDYzdi04LjM3aDYuNjA4djkuMjUxYzAgMy45MDktNi42MDggNC43MDgtNi42MDgtLjg4em0tOS4xMDQgNS44NzRWNDYuMDNjMC0xLjc4NiAxLjU2LTIuOTM3IDMuMzc3LTIuOTM3aDIuNzl2OS44MzljMCA3LjA0NiAxMi42MjkgNy4xMDIgMTIuNjI5LS4xNDdWNDMuMjRoMy42N2MxLjMgMCAyLjM1IDEuNTI4IDIuMzUgMi45Mzd2MTEuNmMwIDIuMzM5LTEuOTAzIDMuOTY1LTQuMjU4IDMuOTY1aC0xNS44NmMtMi43OSAwLTQuNjk4LTEuNjQ0LTQuNjk4LTQuNDA1eiIgZmlsbD0iIzAwOUFDNyIvPgogICAgICAgIDxwYXRoIGQ9Ik02NC41NTYgNjcuMjU2aC00LjkxOVY1MS4zNWg0LjkxOXYxNS45MDd6bS01LjM5NS0yMS40MmMwLTEuNTQ4IDEuMzEtMi43NzcgMi44OTYtMi43NzcgMS42MjYgMCAyLjkzNSAxLjIzIDIuOTM1IDIuNzc2IDAgMS41NDctMS4zMDkgMi43NzctMi45MzUgMi43NzctMS41ODcgMC0yLjg5Ni0xLjI3LTIuODk2LTIuNzc3em0tNC41NjIgMjEuNDJINDkuNjhWNTEuMzVoNC45MnYxNS45MDd6bS01LjM5NS0yMS40MmMwLTEuNTQ4IDEuMjctMi43NzcgMi44NTctMi43NzcgMS42NjYgMCAyLjk3NSAxLjIzIDIuOTc1IDIuNzc2IDAgMS41NDctMS4zMSAyLjc3Ny0yLjk3NSAyLjc3Ny0xLjU4NyAwLTIuODU3LTEuMjctMi44NTctMi43Nzd6bS03LjMzOC0xLjQyOWg1LjE5NnMtNC45NTggMTcuOTctNS42MzIgMjAuMDcyYy0uNTU2IDEuNjI3LTEuNzg2IDIuOTM2LTMuNjUgMi45MzYtMi4xMDIgMC0zLjA5NC0xLjU0Ny0zLjU3LTIuOTM2LS40MzYtMS40MjgtMy42NS0xMy4yODgtMy42NS0xMy4yODhzLTMuMjEzIDExLjg2LTMuNjg5IDEzLjI4OGMtLjQzNiAxLjM4OS0xLjQyOCAyLjkzNi0zLjU3IDIuOTM2LTEuODI0IDAtMy4wOTQtMS4zMS0zLjYxLTIuOTM2LS42NzQtMi4xMDItNS42MzItMjAuMDcyLTUuNjMyLTIwLjA3Mmg1LjE1N2w0LjMyMyAxNi44NnMzLjI5My0xMi42NTUgMy44MDgtMTQuNDhjLjU1Ni0xLjc4NSAxLjYyNy0yLjU3OCAzLjIxNC0yLjU3OCAxLjU0NyAwIDIuNjU3Ljc5MyAzLjE3MyAyLjU3OC41NTUgMS44MjUgMy44NDggMTQuNDggMy44NDggMTQuNDhsNC4yODQtMTYuODZ6IiBmaWxsPSIjRkZGIiBmaWxsLXJ1bGU9Im5vbnplcm8iLz4KICAgIDwvZz4KPC9zdmc+Cg==":/wii.*u/i,"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTEwIiBoZWlnaHQ9IjExMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICAgIDxnIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0ibm9uemVybyI+CiAgICAgICAgPHBhdGggZmlsbD0iIzE5MUExQyIgZD0iTTAgMGgxMTB2MTEwSDB6Ii8+CiAgICAgICAgPHBhdGggZD0iTTI3IDM0LjkyOWwyMi44ODUtMy4xMDcuMDEgMjIuMDA2LTIyLjg3NC4xM0wyNyAzNC45Mjh6bTIyLjg3NSAyMS40MzVsLjAxNyAyMi4wMjYtMjIuODc0LTMuMTM1LS4wMDItMTkuMDM5IDIyLjg1OS4xNDh6bTIuNzc0LTI0Ljk0OUw4Mi45OTMgMjd2MjYuNTQ4bC0zMC4zNDQuMjRWMzEuNDE2ek04MyA1Ni41NzFMODIuOTkzIDgzbC0zMC4zNDQtNC4yNy0uMDQzLTIyLjIwOCAzMC4zOTQuMDV6IiBmaWxsPSIjMERBREVBIi8+CiAgICA8L2c+Cjwvc3ZnPgo=":/windows/i,"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTEwIiBoZWlnaHQ9IjExMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICAgIDxnIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0ibm9uemVybyI+CiAgICAgICAgPHBhdGggZmlsbD0iIzE5MUExQyIgZD0iTTAgMGgxMTB2MTEwSDB6Ii8+CiAgICAgICAgPHBhdGggZD0iTTI3IDM0LjkyOWwyMi44ODUtMy4xMDcuMDEgMjIuMDA2LTIyLjg3NC4xM0wyNyAzNC45Mjh6bTIyLjg3NSAyMS40MzVsLjAxNyAyMi4wMjYtMjIuODc0LTMuMTM1LS4wMDItMTkuMDM5IDIyLjg1OS4xNDh6bTIuNzc0LTI0Ljk0OUw4Mi45OTMgMjd2MjYuNTQ4bC0zMC4zNDQuMjRWMzEuNDE2ek04MyA1Ni41NzFMODIuOTkzIDgzbC0zMC4zNDQtNC4yNy0uMDQzLTIyLjIwOCAzMC4zOTQuMDV6IiBmaWxsPSIjRTgxMTIzIi8+CiAgICA8L2c+Cjwvc3ZnPgo=":/windows.*phone|wince/i,"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTEwIiBoZWlnaHQ9IjExMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICAgIDxkZWZzPgogICAgICAgIDxyYWRpYWxHcmFkaWVudCBjeD0iNDMuNTQxJSIgY3k9IjM0LjQzNiUiIGZ4PSI0My41NDElIiBmeT0iMzQuNDM2JSIgcj0iNjUuNTY0JSIgZ3JhZGllbnRUcmFuc2Zvcm09Im1hdHJpeCgwIDEgLTEuMDU2MiAwIC44IC0uMDkxKSIgaWQ9ImEiPgogICAgICAgICAgICA8c3RvcCBzdG9wLWNvbG9yPSIjRkZGIiBvZmZzZXQ9IjAlIi8+CiAgICAgICAgICAgIDxzdG9wIHN0b3AtY29sb3I9IiNGOUY5RjkiIG9mZnNldD0iMjcuNDQlIi8+CiAgICAgICAgICAgIDxzdG9wIHN0b3AtY29sb3I9IiM2NjYiIG9mZnNldD0iMTAwJSIvPgogICAgICAgIDwvcmFkaWFsR3JhZGllbnQ+CiAgICAgICAgPHJhZGlhbEdyYWRpZW50IGN4PSI0NS4wODQlIiBjeT0iMzkuMzg5JSIgZng9IjQ1LjA4NCUiIGZ5PSIzOS4zODklIiByPSI3Mi4wNCUiIGlkPSJiIj4KICAgICAgICAgICAgPHN0b3Agc3RvcC1jb2xvcj0iI0ZGRiIgc3RvcC1vcGFjaXR5PSIwIiBvZmZzZXQ9IjAlIi8+CiAgICAgICAgICAgIDxzdG9wIHN0b3AtY29sb3I9IiNGRkYiIHN0b3Atb3BhY2l0eT0iMCIgb2Zmc2V0PSI1NS43ODclIi8+CiAgICAgICAgICAgIDxzdG9wIHN0b3AtY29sb3I9IiNGRkYiIHN0b3Atb3BhY2l0eT0iLjYiIG9mZnNldD0iNzQuNjUzJSIvPgogICAgICAgICAgICA8c3RvcCBzdG9wLWNvbG9yPSIjRkZGIiBzdG9wLW9wYWNpdHk9Ii42IiBvZmZzZXQ9Ijg4LjQ0MyUiLz4KICAgICAgICAgICAgPHN0b3Agc3RvcC1jb2xvcj0iI0ZGRiIgc3RvcC1vcGFjaXR5PSIuNSIgb2Zmc2V0PSIxMDAlIi8+CiAgICAgICAgPC9yYWRpYWxHcmFkaWVudD4KICAgICAgICA8bGluZWFyR3JhZGllbnQgeDE9IjY4LjkzNSUiIHkxPSI4LjU0NCUiIHgyPSIzNS4xMDQlIiB5Mj0iNDcuMDU1JSIgaWQ9ImMiPgogICAgICAgICAgICA8c3RvcCBzdG9wLWNvbG9yPSIjMUU3RTAxIiBvZmZzZXQ9IjAlIi8+CiAgICAgICAgICAgIDxzdG9wIHN0b3AtY29sb3I9IiM3MkMwMjgiIG9mZnNldD0iNjAuMzk5JSIvPgogICAgICAgICAgICA8c3RvcCBzdG9wLWNvbG9yPSIjQTREMDU2IiBvZmZzZXQ9IjEwMCUiLz4KICAgICAgICA8L2xpbmVhckdyYWRpZW50PgogICAgICAgIDxsaW5lYXJHcmFkaWVudCB4MT0iMjcuMzQ3JSIgeTE9IjUwLjg5OCUiIHgyPSI3Ny45MzglIiB5Mj0iNjUuMTk4JSIgaWQ9ImQiPgogICAgICAgICAgICA8c3RvcCBzdG9wLWNvbG9yPSIjMUU3RTAxIiBvZmZzZXQ9IjAlIi8+CiAgICAgICAgICAgIDxzdG9wIHN0b3AtY29sb3I9IiM3MkMwMjgiIG9mZnNldD0iNjAuMzk5JSIvPgogICAgICAgICAgICA8c3RvcCBzdG9wLWNvbG9yPSIjQTREMDU2IiBvZmZzZXQ9IjEwMCUiLz4KICAgICAgICA8L2xpbmVhckdyYWRpZW50PgogICAgICAgIDxsaW5lYXJHcmFkaWVudCB4MT0iMjcuMzQ3JSIgeTE9IjUwLjg5OCUiIHgyPSI3Ny45MzglIiB5Mj0iNjUuMTk4JSIgaWQ9ImUiPgogICAgICAgICAgICA8c3RvcCBzdG9wLWNvbG9yPSIjMUU3RTAxIiBvZmZzZXQ9IjAlIi8+CiAgICAgICAgICAgIDxzdG9wIHN0b3AtY29sb3I9IiM3MkMwMjgiIG9mZnNldD0iNjAuMzk5JSIvPgogICAgICAgICAgICA8c3RvcCBzdG9wLWNvbG9yPSIjQTREMDU2IiBvZmZzZXQ9IjEwMCUiLz4KICAgICAgICA8L2xpbmVhckdyYWRpZW50PgogICAgPC9kZWZzPgogICAgPGcgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJub256ZXJvIj4KICAgICAgICA8cGF0aCBmaWxsPSIjMTkxQTFDIiBkPSJNMCAwaDExMHYxMTBIMHoiLz4KICAgICAgICA8cGF0aCBkPSJNNjEuODk1IDMwLjk4YzAgMTcuMDg4LTEzLjg1MiAzMC45NC0zMC45MzggMzAuOTRDMTMuODcgNjEuOTIuMDE5IDQ4LjA2Ny4wMTkgMzAuOTguMDE5IDEzLjg5NiAxMy44Ny4wNDQgMzAuOTU3LjA0NGMxNy4wODYgMCAzMC45MzggMTMuODUgMzAuOTM4IDMwLjkzOHoiIGZpbGw9InVybCgjYSkiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDI0IDI0KSIvPgogICAgICAgIDxwYXRoIGQ9Ik02MS44OTUgMzAuOTgxYzAgMTcuMDg4LTEzLjg1MiAzMC45MzktMzAuOTM4IDMwLjkzOUMxMy44NyA2MS45Mi4wMTkgNDguMDY5LjAxOSAzMC45OC4wMTkgMTMuODk2IDEzLjg3LjA0MyAzMC45NTcuMDQzYzE3LjA4NiAwIDMwLjkzOCAxMy44NTEgMzAuOTM4IDMwLjkzOHoiIGZpbGwtb3BhY2l0eT0iLjQ1IiBmaWxsPSJ1cmwoI2IpIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgyNCAyNCkiLz4KICAgICAgICA8cGF0aCBkPSJNOS43MzUgOC40NThjNC44OTMuOTQyIDEwLjYyMiA1LjQxNSAxMy4zMTQgOS4wMjggMS40ODUgMy44MzcgMi43OTcgNi45OTcgNC40NTIgMTAuNTA2YTE2OC40NCAxNjguNDQgMCAwIDEgMy40OTMtMi45NEwzMC45ODcgOS44MWMtMy42NDctMi4yOTQtOS42NzQtNS4zMTItMTYuMjQ0LTUuMTE1YTI5LjA4MyAyOS4wODMgMCAwIDAtNS4wMDggMy43NjJ6IiBmaWxsPSJ1cmwoI2MpIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgyNCAyNCkiLz4KICAgICAgICA8cGF0aCBkPSJNNi42NDggNTAuMDg2YTMxLjI5OSAzMS4yOTkgMCAwIDAgMi44NzkgMy4xODRjLS4xNS04Ljc5MyAxMC4wNDQtMTguMjAyIDE4LTI1LjMwNmwtNC40NjgtMTAuNTMzQzE5LjY1MyAyMS42MTEgNS4zODMgMzguNiA2LjY0OSA1MC4wODZ6IiBmaWxsPSJ1cmwoI2QpIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgyNCAyNCkiLz4KICAgICAgICA8cGF0aCBkPSJNMzAuOTEzIDguNDU4YzQuODk0Ljk0MiAxMC42MjIgNS40MTUgMTMuMzE0IDkuMDI4IDEuNDg1IDMuODM3IDIuNzk3IDYuOTk3IDQuNDUyIDEwLjUwNmExNjguNDQgMTY4LjQ0IDAgMCAxIDMuNDkzLTIuOTRMNTIuMTY1IDkuODFjLTMuNjQ2LTIuMjk0LTkuNjczLTUuMzEyLTE2LjI0NC01LjExNWEyOS4wODMgMjkuMDgzIDAgMCAwLTUuMDA4IDMuNzYyeiIgZmlsbD0idXJsKCNjKSIgdHJhbnNmb3JtPSJtYXRyaXgoLTEgMCAwIDEgMTA3LjA4NiAyNCkiLz4KICAgICAgICA8cGF0aCBkPSJNMzQuNDYgNTAuMDg2YTMxLjI5OSAzMS4yOTkgMCAwIDAgMi44NzggMy4xODRjLS4xNS04Ljc5MyAxMC4wNDUtMTguMjAyIDE4LTI1LjMwNkw1MC44NyAxNy40MzFjLTMuNDA1IDQuMTgtMTcuNjc2IDIxLjE2OS0xNi40MSAzMi42NTV6IiBmaWxsPSJ1cmwoI2UpIiB0cmFuc2Zvcm09Im1hdHJpeCgtMSAwIDAgMSAxMTMuNzE5IDI0KSIvPgogICAgPC9nPgo8L3N2Zz4K":/xbox|mystery.*5/i},qC=I.a.pairs(YC),ZC={};function JC(e){for(let t=0,i=qC.length;t<i;t++){const[i,n]=qC[t];if(n.test(e))return i}}function XC(e,t){let i=ZC[e]||ZC[t];return i||(i=e&&JC(e),i?(ZC[e]=i,i):(i=t&&JC(t),i?(ZC[t]=i,i):"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTEwIiBoZWlnaHQ9IjExMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICAgIDxnIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0ibm9uemVybyI+CiAgICAgICAgPHBhdGggZmlsbD0iIzE5MUExQyIgZD0iTTAgMGgxMTB2MTEwSDB6Ii8+CiAgICAgICAgPHBhdGggZmlsbC1vcGFjaXR5PSIuMyIgZmlsbD0iI0ZGRiIgZD0iTTM4IDI1aDE3LjQzNGwxOS4yMzggMzAtMTkuMjM4IDMwSDM4bDE5LjIzOC0zMEwzOCAyNSIvPgogICAgPC9nPgo8L3N2Zz4K"))}function $C(e){var t=e["aria-label"],i=e.className,n=e.style,a={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-alert-round-560"};a["aria-hidden"]=!t,a.style=n,a.className=Ad.a.plexIcon+(i?" "+i:"");var s=[Nd.a.createElement.apply(Nd.a,["path",{d:"m280 0c154.536 0 280 125.464 280 280 0 154.536-125.464 280-280 280-154.536 0-280-125.464-280-280 0-154.536 125.464-280 280-280m-40 420c0 22.077 17.923 40 40 40 22.077 0 40-17.923 40-40 0-22.077-17.923-40-40-40-22.077 0-40 17.923-40 40m60-320l-40 0c-11.038 0-20 8.962-20 20l0 200c0 11.038 8.962 20 20 20l40 0c11.038 0 20-8.962 20-20l0-200c0-11.038-8.962-20-20-20"}].concat([]))];return t&&s.unshift(Nd.a.createElement("title",null,t)),Nd.a.createElement.apply(Nd.a,["svg",a].concat(s))}$C.propTypes={"aria-label":vc.a.string,className:vc.a.string,style:vc.a.object};var eM=$C;function tM(e){var t=e["aria-label"],i=e.className,n=e.style,a={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-lock-560"};a["aria-hidden"]=!t,a.style=n,a.className=Ad.a.plexIcon+(i?" "+i:"");var s=[Nd.a.createElement.apply(Nd.a,["path",{d:"m280 0c154.536 0 280 125.464 280 280 0 154.536-125.464 280-280 280-154.536 0-280-125.464-280-280 0-154.536 125.464-280 280-280m-160 240l0 200 320 0 0-200-40.019 0 0-40-.001 0c.02-7.756-.72-15.486-2.2-23.072-1.088-5.577-2.575-11.076-4.448-16.441-1.886-5.402-4.161-10.668-6.802-15.743-3.116-5.991-6.74-11.716-10.817-17.099-4.131-5.455-8.728-10.557-13.722-15.235-4.912-4.6-10.209-8.789-15.818-12.507-5.444-3.608-11.182-6.772-17.14-9.446-9.444-4.237-19.437-7.236-29.653-8.897-4.12-.67-8.275-1.124-12.443-1.362-2.181-.125-4.365-.187-6.549-.197-.388-.001-.776 0-1.164.001-2.183.018-4.364.087-6.544.218-4.164.251-8.315.718-12.431 1.401-10.207 1.693-20.187 4.721-29.614 8.986-6.059 2.742-11.888 5.99-17.409 9.697-5.686 3.818-11.045 8.122-16.002 12.848-4.953 4.722-9.504 9.866-13.587 15.358-4.102 5.519-7.731 11.389-10.83 17.527-2.581 5.113-4.795 10.411-6.615 15.841-1.77 5.278-3.168 10.68-4.182 16.154-1.342 7.242-2.013 14.609-1.987 21.968l-.023 0 0 40-40 0m180 160l-40 0 0-45.359c-11.952-6.92-20-19.848-20-34.641 0-22.077 17.923-40 40-40 22.077 0 40 17.923 40 40 0 14.793-8.048 27.721-20 34.641l0 45.359m39.993-160l-119.986 0 0-40-.007-.197c.015-4.685.565-9.366 1.662-13.92 1.309-5.431 3.394-10.668 6.164-15.518 3.267-5.718 7.478-10.89 12.403-15.261 4.518-4.009 9.634-7.341 15.138-9.831 4.623-2.092 9.514-3.584 14.517-4.43 2.184-.37 4.389-.617 6.6-.743 1.105-.063 2.212-.094 3.318-.1.395 0 .789.002 1.183.008 1.166.02 2.33.07 3.492.155 2.2.16 4.39.441 6.558.843 4.922.912 9.723 2.451 14.257 4.57 5.473 2.557 10.549 5.95 15.018 10.012 4.873 4.429 9.022 9.651 12.219 15.408 2.715 4.888 4.736 10.156 5.978 15.608.986 4.326 1.479 8.761 1.493 13.197l-.007.199 0 40"}].concat([]))];return t&&s.unshift(Nd.a.createElement("title",null,t)),Nd.a.createElement.apply(Nd.a,["svg",a].concat(s))}tM.propTypes={"aria-label":vc.a.string,className:vc.a.string,style:vc.a.object};var iM=tM,nM=i("UCYk"),aM=i.n(nM);const{Component:sM}=Nd.a;var rM=class extends sM{shouldComponentUpdate(e,t){return Tp(this,e,t)}render(){const{className:e,isConnected:t,isUnavailable:i,isSecure:n,isRelayed:a}=this.props;return a?Vu()(eM,{className:(e||"")+" "+(aM.a.warningIcon||""),title:Object(Ze.default)("Indirect"),"aria-label":Object(Ze.default)("Indirect")}):i?Vu()(ph,{className:(e||"")+" "+(aM.a.alertIcon||""),title:Object(Ze.default)("Unavailable"),"aria-label":Object(Ze.default)("Unavailable")}):n&&t?Vu()(iM,{className:(e||"")+" "+(aM.a.secureIcon||""),title:Object(Ze.default)("Secure"),"aria-label":Object(Ze.default)("Secure")}):null}},oM=i("Pg5J");var lM=function(e){return(e=parseInt(e,10))?e<2?Object(Ze.default)("Mono"):e<3?Object(Ze.default)("Stereo"):(e-1).toString()+".1":""};var cM=function(e){return e?"dca"===e?"DTS":e.toUpperCase():""};var dM=function(e){const{stream:t,separatorComponent:i}=e,n=[];t.codec&&n.push(cM(t.codec)),t.channels&&n.push(lM(t.channels));const a=t.language||Object(Ze.default)("Unknown"),s=n&&n.length>0?n.join(" "):null,r=s?Object(Ze.default)("{label}, {details}",{label:a,details:s}):a;return Vu()("span",{"aria-label":r,"data-qa-id":"audioStream"},void 0,a,s?Vu()(i,{}):null,s)};var uM=function(e){const{stream:t,separatorComponent:i}=e,n=[];t.codec&&n.push(t.codec.toUpperCase()),t.key&&n.push(Object(Ze.default)("External")),t.forced&&n.push(Object(Ze.default)("Forced"));const a=t.language||Object(Ze.default)("Unknown"),s=n&&n.length>0?n.join(" "):null,r=s?Object(Ze.default)("{label}, {details}",{label:a,details:s}):a;return Vu()("span",{"aria-label":r,"data-qa-id":"subtitlesStream"},void 0,a,s?Vu()(i,{}):null,s)};var pM=function(e){const{mediaItem:t,separatorComponent:i}=e;let n;t.videoCodec&&(n=[t.videoCodec.toUpperCase()]);const a=Object(oM.a)(t),s=a&&a.scanType,r=Object(QC.default)(t.videoResolution,s)||Object(Ze.default)("Unknown"),o=n&&n.length>0?n.join(" "):null,l=o?Object(Ze.default)("{label}, {details}",{label:r,details:o}):r;return Vu()("span",{"aria-label":l,"data-qa-id":"videoStream"},void 0,r,o?Vu()(i,{}):null,o)};const hM=Nd.a.createElement,mM={audio:dM,subtitles:uM,video:pM};var gM=function(e){const{type:t,stream:i,mediaItem:n,serverShortVersion:a}=e,s=Xe()(e,["type","stream","mediaItem","serverShortVersion"]);if(!i&&!n)return Vu()("span",{"data-qa-id":t+"Stream"},void 0,Object(Ze.default)("None"));if(a&&Qi(a,qi.streamDisplayTitles)){let e;if("video"===t){const t=Object(oM.a)(n);e=t?t.displayTitle:Object(Ze.default)("None")}else e=i.displayTitle||i.language;return Vu()("span",{"aria-label":e,"data-qa-id":t+"Stream"},void 0,e)}return hM(mM[t],tp()({},s,{stream:i,mediaItem:n}))};var vM=Object(Hu.b)((function(){return Object(Wu.a)(_S(),e=>({serverShortVersion:e.shortVersion}))}))(gM);const yM=Nd.a.createElement;var fM=function(e){return yM(vM,tp()({},e,{separatorComponent:tf}))},bM=i("hsp8"),IM=i.n(bM);const{Fragment:SM}=Nd.a;function CM({children:e}){return Vu()("span",{},void 0,Vu()("span",{className:eu()?IM.a.rightArrowForEdge:IM.a.rightArrow}),e)}function MM({local:e,relayed:t}){let i;return i=t?Object(Ze.default)("Indirect"):e?"Local":Object(Ze.default)("Remote"),Vu()("span",{},void 0,i)}var DM=Vu()(tf,{}),PM=Vu()(tf,{}),OM=Vu()(tf,{}),jM=Vu()(tf,{}),wM=Vu()(tf,{});function TM({className:e,server:t,session:i,internalViewOffset:n}){const{duration:a,Media:s=[],Player:r,Session:o,TranscodeSession:l}=i,c=s.find(e=>e.selected)||s[0],d=WC(c);let u=Object(FC.a)(c);if(!u){const e=_C.a.get("audio").id;u=Object(Hn.a)(c,{streamType:e})[0]}const p=!!c.videoCodec,h=!!c.audioCodec,m=!!d,g=t.isCloud||Qi(t.version,qi.enhancedSessionDetails);return Vu()("div",{className:e},void 0,Vu()("div",{className:IM.a.playerContainer},void 0,Vu()("div",{className:IM.a.playerIcon},void 0,Vu()("img",{className:IM.a.productLogo,src:XC(r.product,r.platform),width:44,height:44}),g?Vu()(rM,{className:IM.a.statusIcon,isConnected:!0,isSecure:r.secure,isRelayed:r.relayed}):null),Vu()("div",{className:IM.a.playerInformation},void 0,Vu()("div",{className:IM.a.title,title:r.product+"  "+r.title},void 0,r.product," ",DM," ",r.title),Vu()("div",{className:IM.a.subtitle},void 0,GC(r.state),a?Vu()(SM,{},void 0,PM,BC(n)+" / "+BC(a)):null),g?Vu()("div",{className:IM.a.subtitle},void 0,Vu()(MM,{local:r.local,relayed:r.relayed}),r.relayed?null:" ("+r.address+")",o?Vu()(SM,{},void 0,OM,Vu()("span",{title:Object(Ze.default)("The amount of outgoing bandwidth reserved for this playback session")},void 0,rf(1024*i.Session.bandwidth,0))):null):null)),p?Vu()("div",{className:IM.a.videoStreamInformation},void 0,Vu()("div",{className:IM.a.streamType},void 0,Object(Ze.default)("Video")),Vu()("div",{className:IM.a.streams},void 0,Vu()("div",{className:IM.a.title},void 0,Vu()(fM,{serverEntityID:t.entityID,type:"video",mediaItem:c}),(null==l?void 0:l.transcodeHwDecoding)?" (hw)":null),Vu()("div",{className:IM.a.title},void 0,!o||l&&null!=l.videoDecision?null:Vu()(CM,{},void 0,Object(Ze.default)("Direct Play")),l&&"copy"===l.videoDecision?Vu()(CM,{},void 0,Object(Ze.default)("Direct Stream")):null,l&&"transcode"===l.videoDecision?Vu()(CM,{},void 0,(Object(QC.default)(c.videoResolution,l.scanType)||Object(Ze.default)("Unknown"))+" ","(",KC(l.videoCodec),")",jM,Object(Ze.default)("Transcode"),l.transcodeHwEncoding?" (hw)":null):null))):null,h?Vu()("div",{className:IM.a.audioStreamInformation},void 0,Vu()("div",{className:IM.a.streamType},void 0,Object(Ze.default)("Audio")),Vu()("div",{className:IM.a.streams},void 0,Vu()("div",{className:IM.a.title},void 0,Vu()(fM,{serverEntityID:t.entityID,type:"audio",stream:u})),Vu()("div",{className:IM.a.title},void 0,!o||l&&null!=l.audioDecision?null:Vu()(CM,{},void 0,Object(Ze.default)("Direct Play")),l&&"copy"===l.audioDecision?Vu()(CM,{},void 0,Object(Ze.default)("Direct Stream")):null,l&&"transcode"===l.audioDecision?Vu()(CM,{},void 0,KC(l.audioCodec),wM,Object(Ze.default)("Transcode")):null))):null,m?Vu()("div",{className:IM.a.subtitlesStreamInformation},void 0,Vu()("div",{className:IM.a.streamType},void 0,Object(Ze.default)("Subtitles")),Vu()("div",{className:IM.a.title},void 0,Vu()(fM,{serverEntityID:t.entityID,type:"subtitles",stream:WC(c)}))):null)}var EM=i("fArA");var NM=vc.a.shape({subscribe:vc.a.func.isRequired,dispatch:vc.a.func.isRequired,getState:vc.a.func.isRequired});const xM=Nd.a.createElement,{Component:AM}=Nd.a,LM="CHANGE",kM="REPLACE_STATE",RM="RESET",zM="SHOW_ERRORS",UM={change:Object(Pi.a)(LM),replaceState:Object(Pi.a)(kM),reset:Object(Pi.a)(RM),showErrors:Object(Pi.a)(zM)};function VM(e={},{type:t,payload:i}){switch(t){case LM:{const{name:t,change:n}=i;if(null==n){const i=Object.assign({},e);return delete i[t],i}return Object.assign({},e,{[t]:n})}case kM:return i;case RM:return{};case zM:return I.a.mapObject(e,e=>Object.assign({},e,{showErrors:0!==e.errors.length}));default:return e}}class BM extends AM{constructor(e,t){super(e,t),this.actions=void 0,this.prevState=void 0,this.store=void 0,this.unsubscribe=void 0,this.onFormStoreChange=()=>{const e=this.store.getState();e!==this.prevState&&(this.prevState=e,this.props.onChange(e))},this.onSubmit=e=>{e.preventDefault(),e.nativeEvent.preventDefault();const t=this.store.getState();if(I.a.some(t,(e,t)=>0!==e.errors.length))this.actions.showErrors();else{const e=I.a.mapObject(t,(e,t)=>e.value);this.props.onSubmit(e,t)}},this.store=Object(EM.createStore)(VM),this.prevState=this.store.getState(),this.actions=Object(EM.bindActionCreators)(UM,this.store.dispatch)}getChildContext(){return{formStore:this.store}}componentWillMount(){this.unsubscribe=this.store.subscribe(this.onFormStoreChange)}componentWillReceiveProps(e){e.formState&&this.store.getState()!==e.formState&&this.actions.replaceState(e.formState)}componentWillUnmount(){this.unsubscribe&&(this.unsubscribe(),this.store.replaceReducer(e=>e))}render(){const e=this.props,{children:t}=e,i=Xe()(e,["children","formState","onChange"]);return xM("form",tp()({},i,{onSubmit:this.onSubmit}),t)}}BM.childContextTypes={formStore:NM},BM.defaultProps={onSubmit(){},onChange(){}};var FM=BM,HM=i("XOYs"),_M=i.n(HM);const WM=Nd.a.createElement;function QM(e){let{children:t,className:i,errorClassName:n,name:a,hasError:s}=e,r=Xe()(e,["children","className","errorClassName","name","hasError"]);return WM("label",tp()({},r,{className:(i||"")+" "+(s&&n||""),htmlFor:a}),t)}QM.defaultProps={className:_M.a.label,errorClassName:_M.a.hasError};var GM=QM,KM=i("DTM1"),YM=i.n(KM);const qM=Nd.a.createElement,{Component:ZM}=Nd.a;class JM extends ZM{constructor(...e){super(...e),this.onChange=e=>{this.props.onChange(e.target.value)}}render(){const e=this.props,{className:t,errorClassName:i,disabledClassName:n,isDisabled:a,size:s,name:r,hasError:o}=e,l=Xe()(e,["className","errorClassName","disabledClassName","initialValue","isDisabled","size","name","hasError"]);return qM("textarea",tp()({},l,{id:r,name:r,disabled:a,className:(t||"")+" "+(YM.a[s]||"")+" "+(a&&n||"")+" "+(o&&i||""),onChange:this.onChange}))}}JM.defaultProps={className:YM.a.textArea,errorClassName:YM.a.hasError,disabledClassName:YM.a.isDisabled,isDisabled:!1,size:_h,hasError:!1,rows:2};var XM=JM,$M=i("LU7h"),eD=i.n($M);const tD=Nd.a.createElement;function iD(e){let{className:t=eD.a.button,kind:i=Qg.Default,size:n=yp.Medium}=e,a=Xe()(e,["className","kind","size"]);return tD(ev,tp()({},a,{className:(t||"")+" "+(eD.a.button||"")+" "+(eD.a[i]||"")+" "+(eD.a[n]||"")}))}var nD=i("7GFg"),aD=i.n(nD);function sD({children:e,className:t=aD.a.modalFooter}){return Vu()("div",{className:t},void 0,e)}var rD=i("kr0E"),oD=i.n(rD);function lD({children:e,className:t=oD.a.buttonBar}){return Vu()("div",{className:t},void 0,e)}var cD=i("lm5H"),dD=i.n(cD);const{Fragment:uD,useCallback:pD,useState:hD}=Nd.a;var mD=Vu()(tf,{});function gD({session:e,isOpen:t,onModalClose:i}){const n=Object(Hu.c)(),[a]=Lg(),s=hD(""),r=s[1],o=s[0],{type:l,grandparentTitle:c,parentTitle:d,title:u,parentIndex:p,index:h,originallyAvailableAt:m,User:g}=e,v=l===Qt.f?Object(nS.a)({seasonIndex:p,episodeIndex:h,date:m,noLeadingZero:!0,separator:"  "}):null,y=pD(()=>{n(_s.actions.stopRequested({server:a,session:e,reason:o})),i()},[n,o,a,e,i]),f=pD(e=>{e.preventDefault(),e.stopPropagation(),y()},[y]);return Vu()(Zb.a,{metricsPage:zd.tb},void 0,Vu()(PI,{isOpen:t,size:yp.Small,onModalClose:i},void 0,Vu()(kI,{onModalClose:i},void 0,Vu()(UI,{},void 0,Object(Ze.default)("Stop {title}",{title:c||d||u}),v?Vu()(uD,{},void 0,mD,v):null),Vu()(TI,{className:dD.a.modalBody},void 0,Vu()("div",{className:dD.a.topContainer},void 0,Vu()(rC,{className:dD.a.avatarImg,serverEntityID:a.entityID,url:g.thumb,width:76,height:76}),Vu()("div",{className:dD.a.description},void 0,Vu()("p",{},void 0,Object(Ze.default)("Do you wish to stop this item's playback?")),Vu()("p",{},void 0,Object(Ze.default)("You may supply a message that will be displayed to {username}.",{username:g.title}))))),Vu()(sD,{className:dD.a.modalFooter},void 0,Vu()(GM,{className:dD.a.formLabel,name:"message"},void 0,Object(Ze.default)("Message")),Vu()(FM,{className:dD.a.form,onSubmit:f},void 0,Vu()(XM,{className:dD.a.textArea,"data-autofocus":!0,name:"message",rows:4,value:o,onChange:r})),Vu()(lD,{className:dD.a.buttonBar},void 0,Vu()(iD,{onPress:i},void 0,Object(Ze.default)("Cancel")),Vu()(iD,{kind:Qg.Primary,onPress:y},void 0,Object(Ze.default)("Stop")))))))}var vD=i("rXhf"),yD=i.n(vD);const fD=Nd.a.createElement,{memo:bD,useCallback:ID,useEffect:SD,useMemo:CD,useState:MD}=Nd.a;function DD(e){if(!e.Media)return!1;return"livetv"===(e.Media.find(e=>e.selected)||e.Media[0]).origin}var PD=bD((function({sessionKey:e,isDetailsExpanded:t,canStopSessions:i}){const[n,a]=Lg(),s=CD(()=>function(e,t){return Object(Wu.a)(Gb(e),e=>e.sessionsByKey[t])}(n.machineIdentifier,e),[n.machineIdentifier,e]),r=Object(Hu.d)(s),o=r.Player.state===rS.states.PLAYING,[l,c]=bS(),d=MD(r.viewOffset||0),u=d[1],p=d[0],h=MD(!1),m=h[1],g=h[0],{type:v,subtype:y,duration:f,attribution:b,Media:I,User:S,Session:C,TranscodeSession:M,Player:D}=r,P=null!=r.viewOffset,O=v===Na.Game;let j=null;I&&(j=O&&M?M.key+"/frame?t="+Date.now():iS(I[0],p,"hd"));const w=l&&j,T=function(e,t,i){const{key:n,parentKey:a,grandparentKey:s,type:r,skipDetails:o,skipParent:l,extraType:c}=i;if(c||o||r===Na.Photo||DD(i))return;let d=n;return r===Na.Track&&(d=l?s:a),cu(e,t,d)}(n,a,r),E=T?ev:"div",N=!(!i||!C||function(e){const{product:t}=e;return mS.hasOwnProperty(t)||(mS[t]=hS.some(e=>e.test(t))),mS[t]}(D)),x=function(e){const{type:t,grandparentTitle:i,parentTitle:n,title:a}=e;return DD(e)?Object(Ze.default)("Live TV"):t===Na.Track||t===Na.Photo?a:i||n||a}(r),A=function(e){const{type:t,index:i,parentIndex:n,originallyAvailableAt:a,grandparentTitle:s,parentTitle:r,title:o,year:l}=e;if(t===Na.Track||t===Na.Photo)return r;const c=[];return t===Na.Episode&&c.push(Object(nS.a)({seasonIndex:n,episodeIndex:i,date:a,noLeadingZero:!0,separator:"  "})),s||r?c.push(o):l&&c.push(String(l)),c.join(" ")}(r),L=function(e){const{type:t,grandparentTitle:i,parentTitle:n,year:a,duration:s}=e;return t===Na.Movie||t===Na.Episode?Xm(s):t===Na.Album||t===Na.Track?i||n:t===Na.Photo?String(a):void 0}(r),k=function(e){return e.type===Na.Track?e.parentThumb:e.type===Na.Photo?e.thumb:e.grandparentThumb||e.parentThumb||e.thumb}(r),R=P?100:104,z=RC(R,v,y,"nowPlaying"),U=ID(e=>{e.preventDefault(),e.stopPropagation(),m(!0)},[]),V=ID(()=>{m(!1)},[]);return SD(()=>{let e;if(u(r.viewOffset||0),o){const t=Date.now();e=window.setInterval(()=>{u((r.viewOffset||0)+(Date.now()-t))},1e3)}return()=>window.clearInterval(e)},[o,r.viewOffset]),fD("div",{className:yD.a.listItem,ref:c},Vu()(E,{className:yD.a.mediaInformationContainer,to:T},void 0,Vu()("div",{className:yD.a.posterContainer,style:{width:z}},void 0,Vu()(AC,{serverEntityID:n.entityID,type:v,url:k,width:z,height:R}),b?Vu()(pS,{className:yD.a.attribution,attribution:b}):null),Vu()("div",{className:(yD.a.infoContainer||"")+" "+((P?yD.a.visibleProgressBar:void 0)||"")},void 0,w?Vu()("div",{className:yD.a.previewThumbnailContainer},void 0,Vu()(tC,{serverEntityID:n.entityID,providerEntityID:void 0,url:j,width:O?180:214,height:R,component:JI,backgroundSize:O?"contain":"cover"})):Vu()("div",{className:yD.a.metadataText},void 0,Vu()("div",{className:yD.a.title,title:x},void 0,x),Vu()("div",{className:yD.a.subtitle,title:A},void 0,A),Vu()("div",{className:yD.a.subtitle,title:L},void 0,L))),P?Vu()("div",{className:yD.a.progressTrack},void 0,Vu()("div",{className:yD.a.playProgressPercent,style:{width:XI(p,f)+"%"}}),(null==M?void 0:M.progress)?Vu()("div",{className:yD.a.transcodeProgressPercent,style:{width:M.progress+"%"}}):null):null),Vu()(TM,{className:(yD.a.detailsContainer||"")+" "+((t?yD.a.detailsContainerExpanded:void 0)||""),server:n,session:r,internalViewOffset:p}),Vu()("div",{className:yD.a.userContainer},void 0,Vu()(rC,{className:yD.a.avatarImg,serverEntityID:n.entityID,url:S.thumb,width:40,height:40}),Vu()("div",{className:yD.a.username},void 0,S.title),N?Vu()(ev,{className:yD.a.stopButton,onPress:U},void 0,Vu()(VC,{className:yD.a.stopIcon,"aria-label":Object(Ze.default)("Stop playback")}),Object(Ze.default)("Stop playback")):null),Vu()(gD,{session:r,isOpen:g,onModalClose:V}))})),OD=i("9rAt"),jD=i.n(OD);const wD=Nd.a.createElement,{useCallback:TD,useEffect:ED,useMemo:ND}=Nd.a;var xD=Vu()(qb,{});function AD(){const e=Object(Hu.c)(),[t]=Lg(),[i,{width:n}]=Object(Kb.a)(),a=ND(()=>{return e=t.machineIdentifier,Object(Wu.a)(Gb(e),e=>e.sessionKeys);var e},[t.machineIdentifier]),s=Object(Hu.d)(a),r=ND(()=>{return e=t.machineIdentifier,Object(Wu.a)(Gb(e),e=>e.stopSessionError);var e},[t.machineIdentifier]),o=Object(Hu.d)(r),l=Object(Hu.d)(zg("dashboardNowPlayingShowDetails")),c=t.ownerFeatures.includes("session_kick"),d=s.length>0,u=TD(()=>{Object(Ti.a)(()=>{e(_s.actions.stopErrorDismissed({server:t}))})},[e,t]),p=TD(()=>{Object(Ti.a)(()=>{e(Object(Qu.l)({dashboardNowPlayingShowDetails:!l}))})},[e,l]);return ED(()=>{let i;return d&&(i=window.setInterval(()=>e(_s.actions.fetchRequested({server:t})),5e3)),()=>window.clearInterval(i)},[e,d,t]),wD("div",{ref:i},Vu()(FI,{isOpen:!!o,errorMessage:Object(Ze.default)("There was a problem stopping playback"),metricsPage:zd.ub,onModalClose:u}),Vu()(Wg,{title:Object(Ze.default)("Now Playing")},void 0,d?Vu()(Wb,{className:jD.a.toggle,component:ev,tooltip:l?Object(Ze.default)("Hide Details"):Object(Ze.default)("Show Details"),"data-qa-id":"toolbarToggleNowPlayingDetails",hideOnPress:!1,onPress:p},void 0,xD):null),Vu()("div",{className:jD.a.tilesContainer},void 0,d&&null!=n?Vu()("div",{className:jD.a.nowPlayingList},void 0,function(e,t){const i=Math.max(Math.floor((t+40)/320),1),n=Array.from(new Array(i),()=>[]);return e.reduce((e,t,n)=>(e[n%i].push(t),e),n)}(s,n).map((e,t)=>Vu()("div",{className:jD.a.column,style:{width:"280px"}},t,e.map(e=>Vu()(PD,{sessionKey:e,isDetailsExpanded:l,canStopSessions:c},e))))):null,d?null:Vu()(nv,{className:jD.a.emptyMessage},void 0,Object(Ze.default)("Nothing is currently being played"))))}function LD(e,t){if(1===e.id)return-1;if(1===t.id)return 1;var i=e.name.trim().toUpperCase(),n=t.name.trim().toUpperCase();return i<n?-1:i>n?1:0}const{Fragment:kD,useCallback:RD}=Nd.a;function zD({className:e,accounts:t,activeAccount:i,onAccountSelect:n}){const{menuButtonID:a,isMenuOpen:s,onMenuButtonPress:r,onMenuClose:o}=py(),l=RD(e=>{const i=t.find(t=>t.id===e);o(),n(i)},[t,o,n]);return Vu()(kD,{},void 0,Vu()(jy,{id:a,className:e,isMenuOpen:s,onPress:r},void 0,i?i.name:Object(Ze.default)("All Users")),Vu()(Qv,{target:a,isOpen:s,onMenuClose:o},void 0,Vu()(oy,{value:void 0,isSelected:!i,onSelect:l},void 0,Object(Ze.default)("All Users")),t.map(e=>Vu()(oy,{value:e.id,isSelected:(null==i?void 0:i.id)===e.id,onSelect:l},e.id,e.name))))}let UD;!function(e){e[e.All=0]="All",e[e.Movie=1]="Movie",e[e.TV=4]="TV",e[e.Music=10]="Music",e[e.Photo=13]="Photo",e[e.Game=19]="Game"}(UD||(UD={}));var VD=Object(Wu.a)(Ly,e=>e.playHistory);function BD(e){switch(e){case UD.All:return Object(Ze.default)("All Media");case UD.Movie:return Object(Ze.default)("Movies");case UD.TV:return Object(Ze.default)("TV");case UD.Music:return Object(Ze.default)("Music");case UD.Photo:return Object(Ze.default)("Photos");case UD.Game:return Object(Ze.default)("Games");default:return""}}function FD(e,t){return V.join("#!/server/"+encodeURIComponent(e)+"/playHistory",t)}const{Fragment:HD,useCallback:_D,useMemo:WD,useState:QD}=Nd.a;function GD(e,t){return e.date-t.date}function KD(e){return af(e)||Object(Vy.a)(Object(Jy.a)(new Date))<=e}function YD(e,t,i,n=!1){if(Gy(t)===Uy.Day&&af(e)){const e=Object(Ze.default)("Today");return n?e.toUpperCase():e}return Object(Zy.a)(Object($c.a)(e),i)}function qD(e){const t=e/60,i=t/60,n=i/24,a=n/365;let s,r;return t<1?(s=e.toFixed(),r="s"):i<1?(s=t.toFixed(),r="m"):n<1?(s=i.toFixed(1),r="h"):a<1?(s=n.toFixed(1),r="d"):(s=a.toFixed(1),r="y"),""+s+r}var ZD=Vu()(tf,{}),JD=Vu()(tf,{}),XD=Vu()(tf,{}),$D=Vu()(tf,{}),eP=Vu()(tf,{});function tP({isMoviesVisible:e,isTVVisible:t,isMusicVisible:i,isPhotosVisible:n,isGamesVisible:a,summedData:s,hasGameStatistics:r}){if(!s)return null;const o=e&&t&&i&&n;return Vu()(HD,{},void 0,o?Object(Ze.default)("Totals"):Object(Ze.default)("Total"),": ",o?Vu()(HD,{},void 0,BD(UD.Movie),ZD):null,e?qD(s[UD.Movie]||0):null,o?Vu()(HD,{},void 0," | ",BD(UD.TV),JD):null,t?qD(s[UD.TV]||0):null,o?Vu()(HD,{},void 0," | ",BD(UD.Music),XD):null,i?qD(s[UD.Music]||0):null,o?Vu()(HD,{},void 0," | ",BD(UD.Photo),$D):null,n?qD(s[UD.Photo]||0):null,r&&o?Vu()(HD,{},void 0," | ",BD(UD.Game),eP):null,r&&a?qD(s[UD.Game]||0):null)}function iP({statistics:e,activeStatisticsMetadataType:t,activeAccount:i,activeTimePeriod:n,hasGameStatistics:a,isPending:s,isPopulated:r,errorMessage:o,onGraphMetadataTypeSelect:l}){const c=QD(!1),d=c[1],u=c[0],{data:p,summedData:h}=WD(()=>function(e,t,i){const n={};return{data:e.reduce((e,a)=>{const{accountID:s,at:r,metadataType:o,duration:l}=a;if(!(o in UD))return e;const c=e.findIndex(e=>e.date===r),d=-1!==c;let u;return u=d?e[c]:{date:r},i&&i.id!==s?(d||e.push(u),e):(t!==UD.All&&t!==o||(u[o]=(u[o]||0)+l,n[o]=(n[o]||0)+l,u[UD.All]=(u[UD.All]||0)+l,n[UD.All]=(n[UD.All]||0)+l),d?e[c]=u:e.push(u),e)},[]).sort(GD),summedData:n}}(e,t,i),[i,t,e]),m=t===UD.Movie,g=m||t===UD.All,v=t===UD.TV,y=v||t===UD.All,f=t===UD.Music,b=f||t===UD.All,I=t===UD.Photo,S=I||t===UD.All,C=t===UD.Game,M=C||t===UD.All,D=[{dataKey:String(UD.Movie),title:BD(UD.Movie),visible:g,selected:m,color:"#9ad186"},{dataKey:String(UD.TV),title:BD(UD.TV),visible:y,selected:v,color:"#f1335e"},{dataKey:String(UD.Music),title:BD(UD.Music),visible:b,selected:f,color:"#366dfc"},{dataKey:String(UD.Photo),title:BD(UD.Photo),visible:S,selected:I,color:"#e69f23"}];a&&D.push({dataKey:String(UD.Game),title:BD(UD.Game),visible:M,selected:C,color:"#bc9bb7"});const P=_D(e=>{if(Gy(n)===Uy.Week){const t=YD(e,n,Yy(n,!0)),i=Object(Vy.a)(Object(qy.a)(Object($c.a)(e),1));if(af(e)&&KD(i))return Object(Ze.default)("Today");return t+" - "+YD(i,n,Yy(n,!0))}return YD(e,n,Yy(n,!0))},[n]),O=_D(e=>qD(e),[]),j=_D(e=>{if(n===zy.Month){const t=YD(e,n,Yy(n)),i=Object(Vy.a)(Object(qy.a)(Object($c.a)(e),1));if(af(e)&&KD(i))return Object(Ze.default)("Today").toUpperCase();return t+" - "+YD(i,n,Yy(n))}return YD(e,n,Yy(n),!0)},[n]),w=_D(e=>0===e?"":qD(e),[]),T=_D(()=>{d(!0)},[]);return Vu()(vf,{isSpinnerVisible:s||!u,errorMessage:o},void 0,!s&&r?Vu()(Qf,{width:"100%",height:280,series:D,data:p,legendSummary:Vu()(tP,{isMoviesVisible:g,isTVVisible:y,isMusicVisible:b,isPhotosVisible:S,isGamesVisible:M,summedData:h,hasGameStatistics:a}),tooltipLabelFormatter:P,tooltipValueFormatter:O,xAxisTickFormatter:j,yAxisTickFormatter:w,onLegendPress:l,onChartReady:T}):null)}var nP=i("doli"),aP=i.n(nP);const{useCallback:sP,useEffect:rP,useMemo:oP,useState:lP}=Nd.a;var cP=Vu()(tf,{});function dP(){const e=Object(Hu.c)(),[t]=Lg(),i=lP(null),n=i[1],a=i[0],s=lP(zy.Month),r=s[1],o=s[0],l=lP(o),c=l[1],d=l[0],u=oP(()=>[zy.Week,zy.Month,zy.NinetyDays,zy.Year,zy.AllTime],[]),p=lP(UD.All),h=p[1],m=p[0],{accounts:g,statistics:v,isPending:y,isPopulated:f,error:b}=Object(Hu.d)(VD),I=!!v.find(e=>e.metadataType===UD.Game),S=oP(()=>{const e=[UD.All,UD.Movie,UD.TV,UD.Music,UD.Photo];return I?e.concat([UD.Game]):e},[I]),C=oP(()=>g.slice().sort(LD),[g]),M=Fg(y,!0),D=sP(e=>{h(e)},[]),P=sP(e=>{n(e)},[]),O=sP(e=>{r(e)},[]),j=sP(e=>{const t=parseInt(e,10),i=t===m?UD.All:t;h(i)},[m]);return rP(()=>{e(Js.actions.playHistoryFetchRequested({server:t,timespan:Gy(o),after:Ky(o)}))},[o,e,t]),rP(()=>{c(o)},[v]),rP(()=>()=>{e(Js.actions.reset())},[e]),Vu()("div",{className:aP.a.container},void 0,Vu()(Wg,{title:Object(Ze.default)("Play History")},void 0,Vu()("div",{className:aP.a.link},void 0,cP,Vu()(ev,{to:FD(t.machineIdentifier)},void 0,Object(Ze.default)("View Full History"))),Vu()("div",{},void 0,Vu()(Ey,{values:S,activeValue:m,formatter:BD,onSelect:D}),Vu()(zD,{accounts:C,activeAccount:a,onAccountSelect:P}),Vu()(Ey,{values:u,activeValue:o,formatter:Qy,onSelect:O}))),Vu()(iP,{statistics:v,activeStatisticsMetadataType:m,activeAccount:a,activeTimePeriod:d,isPending:M,isPopulated:f,hasGameStatistics:I,errorMessage:b?Object(Ze.default)("Unable to load history"):null,onGraphMetadataTypeSelect:j}))}var uP=i("/gAe"),pP=i.n(uP);function hP({children:e}){return Vu()("div",{className:pP.a.section},void 0,e)}let mP;!function(e){e.All="all",e.System="system",e.PlexMediaServer="plex-media-server"}(mP||(mP={}));var gP=Object(Wu.a)(Ly,e=>e.resources);function vP(e){switch(e){case mP.All:return Object(Ze.default)("All");case mP.PlexMediaServer:return"Plex Media Server";case mP.System:return Object(Ze.default)("System");default:return""}}const{Fragment:yP,useCallback:fP,useMemo:bP,useState:IP}=Nd.a;function SP(e){return 0===e?Object(Ze.default)("Now"):Object(Ze.default)("{timeAgo} ago",{timeAgo:yf(e)})}function CP(e){return e.toFixed(2)+"%"}function MP(e){return yf(e)}function DP(e){return 0===e?"":Math.round(e)+"%"}var PP=Vu()(tf,{}),OP=Vu()(tf,{});function jP({isPlexMediaServerVisible:e,isSystemVisible:t,summedData:i}){if(!i)return null;const n=e&&t;return Vu()(yP,{},void 0,n?Object(Ze.default)("Averages"):Object(Ze.default)("Average"),": ",n?Vu()(yP,{},void 0,vP(mP.PlexMediaServer),PP):null,e?(i[mP.PlexMediaServer]/25).toFixed(2)+"%":null,n?Vu()(yP,{},void 0," | ",vP(mP.System),OP):null,t?(i[mP.System]/25).toFixed(2)+"%":null)}function wP({statistics:e,activeResourceType:t,hostKey:i,processKey:n,hostColor:a,processColor:s,isPopulated:r,errorMessage:o,onGraphResourceTypeSelect:l,onGraphTooltipActive:c,onGraphTooltipInactive:d}){const u=IP(!1),p=u[1],h=u[0],{data:m,summedData:g}=bP(()=>function(e,t,i,n){const a=n===mP.All||n===mP.System,s=n===mP.All||n===mP.PlexMediaServer,r={[mP.System]:0,[mP.PlexMediaServer]:0};return{data:e.slice(-25).map((e,n)=>(r[mP.PlexMediaServer]=r[mP.PlexMediaServer]+(e[i]||0),r[mP.System]=r[mP.System]+(e[t]||0),{at:e.at,date:120-5*n,[mP.PlexMediaServer]:s?e[i]:null,[mP.System]:a?e[t]:null})),summedData:r}}(e,i,n,t),[t,i,n,e]),v=t===mP.All||t===mP.PlexMediaServer,y=t===mP.All||t===mP.System,f=[{dataKey:mP.PlexMediaServer,title:vP(mP.PlexMediaServer),visible:v,selected:t===mP.PlexMediaServer,color:a},{dataKey:mP.System,title:vP(mP.System),visible:y,selected:t===mP.System,color:s}],b=fP(()=>{p(!0)},[]);return Vu()(vf,{isSpinnerVisible:!r||!h,errorMessage:o},void 0,r?Vu()(eb,{width:"100%",height:280,series:f,data:m,legendSummary:Vu()(jP,{isPlexMediaServerVisible:v,isSystemVisible:y,summedData:g}),isAnimationActive:!1,showTooltipTotal:!1,yAxisDomain:[0,100],xAxisTickInterval:1,tooltipLabelFormatter:SP,tooltipValueFormatter:CP,xAxisTickFormatter:MP,yAxisTickFormatter:DP,onLegendPress:l,onChartReady:b,onTooltipActive:c,onTooltipInactive:d}):null)}var TP=i("+ZLW"),EP=i.n(TP);const{Fragment:NP,useCallback:xP,useEffect:AP,useMemo:LP,useRef:kP,useState:RP}=Nd.a;function zP(){const e=Object(Hu.c)(),[t]=Lg(),i=kP(null),n=RP(mP.All),a=n[1],s=n[0],r=RP(mP.All),o=r[1],l=r[0],c=LP(()=>[mP.All,mP.PlexMediaServer,mP.System],[]),d=Qi(t.version,qi.dashboardCPUChart),u=Qi(t.version,qi.dashboardRAMChart),{statistics:p,isPopulated:h,isUnsupported:m,error:g,requestTimestampMilliseconds:v}=Object(Hu.d)(gP),y=xP(()=>{e($s.actions.resourcesFetchRequested({server:t}))},[e,t]),f=xP(e=>{a(e)},[]),b=xP(e=>{o(e)},[]),I=xP(e=>{const t=e===s?mP.All:e;a(t)},[s]),S=xP(e=>{const t=e===l?mP.All:e;o(t)},[l]),C=xP(()=>{i.current&&window.clearTimeout(i.current)},[]);return AP(()=>{(d||u)&&y()},[d,u,y]),AP(()=>{if(v){const e=Date.now()-v,t=Math.max(5e3-e,0);i.current=window.setTimeout(y,t)}return()=>{i.current&&window.clearTimeout(i.current)}},[v,y]),AP(()=>()=>{e($s.actions.reset())},[e]),m?null:Vu()(NP,{},void 0,Vu()(hP,{},void 0,Vu()("div",{className:EP.a.container},void 0,Vu()(Wg,{title:Object(Ze.default)("CPU")},void 0,d?Vu()("div",{},void 0,Vu()(Ey,{values:c,activeValue:s,formatter:vP,onSelect:f})):null),Vu()("div",{className:EP.a.graph},void 0,d?Vu()(wP,{statistics:p,activeResourceType:s,hostKey:"hostCpuUtilization",processKey:"processCpuUtilization",hostColor:"#9ad186",processColor:"#f1335e",isPopulated:h,errorMessage:g?Object(Ze.default)("Unable to load statistics"):void 0,onGraphResourceTypeSelect:I,onGraphTooltipActive:C,onGraphTooltipInactive:y}):Vu()(rv,{},void 0,Object(Ze.default)("The CPU chart requires Plex Media Server {version} or higher",{version:qi.dashboardCPUChart}))))),Vu()(hP,{},void 0,Vu()("div",{className:EP.a.container},void 0,Vu()(Wg,{title:Object(Ze.default)("RAM")},void 0,u?Vu()("div",{},void 0,Vu()(Ey,{values:c,activeValue:l,formatter:vP,onSelect:b})):null),Vu()("div",{className:EP.a.graph},void 0,u?Vu()(wP,{statistics:p,activeResourceType:l,hostKey:"hostMemoryUtilization",processKey:"processMemoryUtilization",hostColor:"#33f1c5",processColor:"#bd86d1",isPopulated:h,errorMessage:g?Object(Ze.default)("Unable to load statistics"):null,onGraphResourceTypeSelect:S,onGraphTooltipActive:C,onGraphTooltipInactive:y}):Vu()(rv,{},void 0,Object(Ze.default)("The RAM chart requires Plex Media Server {version} or higher",{version:qi.dashboardRAMChart}))))))}var UP=Object(vg.a)((function(e){return Object(Wu.a)(Qb,t=>t.serverAccounts[e])}));var VP=Object(vg.a)((function(e){return Object(Wu.a)(UP(e),e=>e.accounts.slice().sort(LD))}));var BP=Object(Wu.a)(Ly,e=>e.topPlayed),FP=i("taPP"),HP=i.n(FP);function _P({title:e,isEmpty:t,metadataItem:i}){const[n]=Lg();return Vu()("div",{className:t?HP.a.header:HP.a.tintedHeader},void 0,!t&&i?Vu()("div",{className:HP.a.imageContainer},void 0,Vu()(cC,{serverEntityID:n.entityID,url:i.art||i.thumb,width:200,height:100,backgroundPosition:"center top"})):null,Vu()("div",{className:t?HP.a.emptyTitleBackground:HP.a.titleBackground},void 0,Vu()("div",{className:HP.a.titleText},void 0,e)))}function WP(e,t=""){const{type:i,title:n,parentTitle:a,grandparentTitle:s,index:r,parentIndex:o,originallyAvailableAt:l}=e;switch(i){case Qt.f:{let e=s+" "+t+" "+Object(nS.a)({seasonIndex:o,episodeIndex:r,date:l,noLeadingZero:!0,separator:"  "});return n&&(e+=" "+t+" "+n),e}case Qt.n:case Qt.a:return a+" "+t+" "+n;case Qt.p:return s+" "+t+" "+a+" "+t+" "+n;default:return n}}function QP(e,t,i){let n="metadataItemID="+t.ratingKey;return i&&(n+="&viewedAt="+Ky(i)),FD(e,{filters:n,filterTitle:WP(t),activeTimePeriod:i,isParentType:Object(Qt.y)(t.type)})}var GP=i("RVll"),KP=i.n(GP);function YP({className:e,style:t,metadataItem:i,activeTimePeriod:n}){const[a]=Lg(),{key:s,type:r,title:o,thumb:l,globalViewCount:c,userCount:d}=i,u=r===Qt.b,p=cu(a,{isLibraryProvider:!0},s);return Vu()("div",{className:e,style:t},void 0,Vu()(ev,{className:u?KP.a.artistPoster:KP.a.poster,to:p},void 0,Vu()(AC,{serverEntityID:a.entityID,type:r,url:l,width:u?60:53,height:u?60:80})),Vu()("div",{className:KP.a.summary},void 0,Vu()(ev,{className:KP.a.itemTitle,title:o,to:p},void 0,o),Vu()(ev,{to:QP(a.machineIdentifier,i,n)},void 0,1===c?Object(Ze.default)("{count} play",{count:1}):Object(Ze.default)("{count} plays",{count:c})),Vu()("div",{},void 0,1===d?Object(Ze.default)("{count} user",{count:1}):Object(Ze.default)("{count} users",{count:d}))))}var qP=i("gEbU"),ZP=i.n(qP);const JP=[.5,.4,.3,.2,.1,.05];function XP({className:e,type:t,title:i,items:n=[],activeTimePeriod:a}){const s=0===n.length;return Vu()("div",{className:e},void 0,Vu()(_P,{metadataItem:n[0],isEmpty:s,title:i}),s?Vu()("div",{className:ZP.a.emptyItem},void 0,function(e){switch(e){case Na.Movie:return Object(Ze.default)("No Movies Played");case Na.Show:return Object(Ze.default)("No TV Played");case Na.Artist:return Object(Ze.default)("No Artists Played");case Na.Game:return Object(Ze.default)("No Games Played");default:return""}}(t)):n.map((e,t)=>Vu()(YP,{className:ZP.a.item,style:{backgroundColor:"rgba(0, 0, 0, "+JP[t]+")"},metadataItem:e,activeTimePeriod:a},e.key)))}var $P=i("8/e7"),eO=i.n($P);function tO({moviesStatistics:e,tvStatistics:t,musicStatistics:i,gameStatistics:n,activeTimePeriod:a,isSpinnerVisible:s,showList:r,errorMessage:o}){const l=r&&!o,c=function(e,t,i,n){const a=[{type:Na.Movie,title:Object(Ze.default)("Movies"),items:e},{type:Na.Show,title:Object(Ze.default)("TV"),items:t},{type:Na.Artist,title:Object(Ze.default)("Artists"),items:i}];return n.length>0?a.concat({type:Na.Game,title:Object(Ze.default)("Games"),items:n}):a}(e,t,i,n);return Vu()(pf,{className:eO.a.container,isSpinnerVisible:s,errorMessage:o},void 0,l?c.map(e=>Vu()(XP,{className:eO.a.column,type:e.type,title:e.title,items:e.items,activeTimePeriod:a},e.type)):null)}const{Fragment:iO,useCallback:nO,useEffect:aO,useMemo:sO,useState:rO}=Nd.a;function oO(){const e=Object(Hu.c)(),[t]=Lg(),i=rO(null),n=i[1],a=i[0],s=rO(zy.Month),r=s[1],o=s[0],l=sO(()=>[zy.Week,zy.Month,zy.NinetyDays,zy.Year,zy.AllTime],[]),c=Qi(t.version,qi.dashboardTopPlayedChart),{moviesStatistics:d,tvStatistics:u,musicStatistics:p,gameStatistics:h,isPending:m,isPopulated:g,error:v}=Object(Hu.d)(BP),y=Fg(m,!0),f=Object(Hu.d)(VP(t.machineIdentifier)),b=nO(e=>{n(e)},[]),I=nO(e=>{r(e)},[]);return aO(()=>{e(zs.actions.populateRequested({server:t}))},[e,t]),aO(()=>{c&&e(tr.actions.topPlayedFetchRequested({server:t,accountID:a?a.id:void 0,viewedAt:Ky(o),limit:6}))},[o,a,e,c,t]),aO(()=>()=>{e(tr.actions.reset())},[e]),Vu()(iO,{},void 0,Vu()(Wg,{title:Object(Ze.default)("Top Played")},void 0,c?Vu()("div",{},void 0,Vu()(zD,{accounts:f,activeAccount:a,onAccountSelect:b}),Vu()(Ey,{values:l,activeValue:o,formatter:Qy,onSelect:I})):null),c?Vu()(tO,{moviesStatistics:d,tvStatistics:u,musicStatistics:p,gameStatistics:h,activeTimePeriod:o,isSpinnerVisible:y,showList:!y&&g,errorMessage:v?Object(Ze.default)("Unable to load statistics"):null}):Vu()(rv,{},void 0,Object(Ze.default)("The Top Played chart requires Plex Media Server {version} or higher",{version:qi.dashboardTopPlayedChart})))}var lO=i("g/3I"),cO=i.n(lO);const dO=Nd.a.createElement;function uO(e){let{children:t,className:i=cO.a.iconButton,activeClassName:n=cO.a.isActive,disabledClassName:a=cO.a.isDisabled,iconClassName:s,iconComponent:r,isDisabled:o=!1,isActive:l=!1,title:c,ariaLabel:d}=e,u=Xe()(e,["children","className","activeClassName","disabledClassName","iconClassName","iconComponent","isDisabled","isActive","title","ariaLabel"]);const p=d||c;return dO(ev,tp()({},u,{className:(i||"")+" "+(o&&a||"")+" "+(l&&n||""),isDisabled:o,"aria-label":p,title:c}),Vu()(r,{className:s}),t)}var pO=Object(Wu.a)(Ly,e=>e.topUsers);function hO(e){var t=e["aria-label"],i=e.className,n=e.style,a={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-hub-next-560"};a["aria-hidden"]=!t,a.style=n,a.className=Ad.a.plexIcon+(i?" "+i:"");var s=[Nd.a.createElement.apply(Nd.a,["path",{d:"m532 280l-252-252-56 56 196 196-196 196 56 56 252-252"}].concat([]))];return t&&s.unshift(Nd.a.createElement("title",null,t)),Nd.a.createElement.apply(Nd.a,["svg",a].concat(s))}hO.propTypes={"aria-label":vc.a.string,className:vc.a.string,style:vc.a.object};var mO=hO;function gO(e){var t=e["aria-label"],i=e.className,n=e.style,a={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-hub-prev-560"};a["aria-hidden"]=!t,a.style=n,a.className=Ad.a.plexIcon+(i?" "+i:"");var s=[Nd.a.createElement.apply(Nd.a,["path",{d:"m28 280l252-252 56 56-196 196 196 196-56 56-252-252"}].concat([]))];return t&&s.unshift(Nd.a.createElement("title",null,t)),Nd.a.createElement.apply(Nd.a,["svg",a].concat(s))}gO.propTypes={"aria-label":vc.a.string,className:vc.a.string,style:vc.a.object};var vO,yO=gO;function fO(e,t){return Math.max(Math.min(e,t-1),0)}function bO({direction:e=vO.Vertical,rows:t,columns:i,overscan:n=0,innerHorizontalPadding:a=0,innerVerticalPadding:s=0,outerPaddingTop:r=0,outerPaddingRight:o=0,outerPaddingBottom:l=0,outerPaddingLeft:c=0,getCellWidth:d,getCellHeight:u}){return{getListMeasurements(n,p){var h=n.listTop,m=n.listLeft,g=(n.viewportWidth||0)-o-c,v=(n.viewportHeight||0)-r-l;e===vO.Vertical?g-=m:v-=h,g=Math.max(0,g),v=Math.max(0,v);var y=d({innerViewportWidth:g,innerViewportHeight:v,innerHorizontalPadding:a,innerVerticalPadding:s}),f=u({cellWidth:y,innerViewportWidth:g,innerViewportHeight:v,innerHorizontalPadding:a,innerVerticalPadding:s}),b=Math.max(0,t||Math.floor((v+s)/(f+s))),I=Math.max(0,i||Math.floor((g+a)/(y+a))),S=I*b,C=0,M=0;return e===vO.Vertical&&I?(C=I*(y+a)-a,M=Math.ceil(p/I)*(f+s)-s):e===vO.Horizontal&&b&&(C=Math.ceil(p/b)*(y+a)-a,M=b*(f+s)-s),{width:C+o+c,height:M+r+l,outerPaddingTop:r,outerPaddingRight:o,outerPaddingBottom:l,outerPaddingLeft:c,listTop:h,listLeft:m,cellWidth:y,cellHeight:f,cellsPerColumn:b,cellsPerRow:I,cellsPerPage:S}},getPositionForIndex(t,i){var{listTop:n,listLeft:o,cellWidth:l,cellHeight:d}=i,u=function(t,i){return e===vO.Vertical?t%i.cellsPerRow:Math.floor(t/i.cellsPerColumn)}(t,i),p=function(t,i){return e===vO.Vertical?Math.floor(t/i.cellsPerRow):t%i.cellsPerColumn}(t,i);return{column:u,row:p,cellX:u*(l+a)+o+c,cellY:p*(d+s)+n+r,cellWidth:l,cellHeight:d}},getRangesForPosition(t,i,r,o){var{listTop:l,listLeft:c,cellWidth:d,cellHeight:u,cellsPerColumn:p,cellsPerRow:h,cellsPerPage:m}=o,g=u+s,v=d+a,y=t-l,f=i-c,b=e===vO.Vertical?h:p,I=e===vO.Vertical?y/g:f/v,S=m+2*b+n*b*2,C=Math.ceil(I)*b,M=C+m-1,D=C-b*n,P=fO(D,r)+S-1;return P>=r&&(D=r-S),{visibleStartIndex:fO(C,r),visibleEndIndex:fO(M,r),renderStartIndex:fO(D,r),renderEndIndex:fO(P,r)}}}}function IO(e){var{columnWidth:t,rowHeight:i}=e,n=Xe()(e,["columnWidth","rowHeight"]);return bO(Object.assign({direction:vO.Horizontal,rows:1,getCellWidth:()=>t,getCellHeight:()=>i,overscan:4},n))}!function(e){e.Vertical="vertical",e.Horizontal="horizontal"}(vO||(vO={}));var SO=i("HR/i"),{useEffect:CO,useRef:MO}=Nd.a,DO=window.ResizeObserver||SO.a;var PO=function(e){var t=MO(null),i=MO(null);return CO(()=>(t.current&&(i.current=new DO(e),i.current.observe(t.current)),()=>{var e;null==(e=i.current)||e.disconnect(),i.current=null}),[e]),t};const{Fragment:OO,memo:jO,useEffect:wO,useRef:TO}=Nd.a;var EO=jO((function({keyPropName:e,items:t,totalSize:i,layout:n,measurements:a,renderStartIndex:s,renderEndIndex:r,visibleStartIndex:o,visibleEndIndex:l,cellComponentFactory:c,minPageCount:d,pageRequestDelay:u,onPageRequest:p,onListUpdate:h}){const m=$b(s),g=TO(!1);s!==m&&(g.current=null!=m&&s<m),wO(()=>{let e;if(p&&d){const n=g.current,a=(r-s+1)*d;let o,l=!1;if(n){const e=Math.max(r-a+1,0);for(o=r;o>=e;){if(null==t[o]){l=!0;break}o--}}else{const e=Math.min(s+a-1,i-1);for(o=s;o<=e;){if(null==t[o]){l=!0;break}o++}}l&&(e=window.setTimeout(()=>{p({startIndex:o,size:a,isPrepend:n})},u))}return()=>window.clearTimeout(e)},[t,d,p,u,m,r,s,i]),wO(()=>{h&&h({renderStartIndex:s,renderEndIndex:r,visibleStartIndex:o,visibleEndIndex:l})},[h,r,s,l,o]);const v=[];for(let i=s;i<=r;i++){const s=t[i],r=i>=o&&i<=l,d=n.getPositionForIndex(i,a);v.push(c(Object.assign({key:String(s&&e?s[e]:i),isVirtual:!0,isVisible:r,cellIndex:i,item:s},d)))}return Vu()(OO,{},void 0,v)}));const{useEffect:NO,useMemo:xO}=Nd.a;function AO({className:e,children:t,keyPropName:i,items:n,totalSize:a,layout:s,cellComponentFactory:r,viewportWidth:o,viewportHeight:l,listTop:c=0,listLeft:d=0,scrollTop:u,scrollLeft:p,isWaitingToRestoreScrollPosition:h=!1,minPageCount:m=3,pageRequestDelay:g=200,onPageRequest:v,onListReady:y,onListUpdate:f}){const b=xO(()=>s.getListMeasurements({viewportWidth:o,viewportHeight:l,listTop:c,listLeft:d},a),[o,l,s,c,d,a]),{renderStartIndex:I,renderEndIndex:S,visibleStartIndex:C,visibleEndIndex:M}=xO(()=>s.getRangesForPosition(u,p,a,b),[s,b,p,u,a]);return NO(()=>{y&&y(b)},[b,y]),Vu()("div",{className:e,style:{width:b.width,height:b.height}},void 0,h?null:Vu()(EO,{keyPropName:i,items:n,totalSize:a,layout:s,measurements:b,renderStartIndex:I,renderEndIndex:S,visibleStartIndex:C,visibleEndIndex:M,cellComponentFactory:r,minPageCount:m,pageRequestDelay:g,onPageRequest:v,onListUpdate:f}),t)}let LO={};const kO={getPageKey:()=>window.location.hash,getKey:e=>kO.getPageKey()+"!"+e,get:e=>LO[e],set(e,t){LO[e]=t},remove(e){delete LO[e]},clear(){LO={}}};var RO=kO,{useCallback:zO,useEffect:UO,useMemo:VO,useRef:BO,useState:FO}=Nd.a;function HO({key:e,shouldRestoreImmediately:t=!1,onScrollPositionChange:i}){var n=VO(()=>RO.getKey(e+"!scrollPosition!"),[e]),a=BO(RO.get(n)),s=BO(null),r=FO(!(!t||!a.current)),o=r[1],l=r[0],c=FO(t&&a.current?a.current.scrollTop:null),d=c[1],u=c[0],p=FO(t&&a.current?a.current.scrollLeft:null),h=p[1],m=p[0],g=zO(()=>{var e=a.current;e&&(o(!0),d(e.scrollTop),h(e.scrollLeft),a.current=null)},[]),v=zO(e=>{s.current=e,i&&i(e)},[i]);return UO(()=>{l&&(o(!1),d(null),h(null))},[l]),UO(()=>()=>{var e=s.current;e&&(e.scrollTop||e.scrollLeft)?RO.set(n,e):RO.remove(n)},[n]),{isWaitingToRestoreScrollPosition:l||!t&&!!a.current,scrollRestoreProps:l?{targetScrollTop:u,targetScrollLeft:m,smoothScroll:!1,onScrollPositionChange:v}:{onScrollPositionChange:v},onScrollPositionReady:g}}var _O=i("ogW7"),WO=i.n(_O);const QO=Nd.a.createElement,{useCallback:GO,useMemo:KO,useState:YO}=Nd.a;function qO(e,t){if(t.shouldCenterCell){const i=(t.viewportDimension-t.cellDimension)/2,n=Math.round(e-i);return Math.max(n,0)}return e-(t.offset||0)}function ZO(e){let{className:t=WO.a.scroller,scrollerKey:i="VirtualListScroller",scrollerStyle:n,virtualListClassName:a,layout:s,scrollDirection:r=cp.Vertical,targetScrollIndex:o,shouldCenterScrollIndex:l=!1,autoScroll:c=!0,smoothScroll:d=!0,renderAboveList:u,renderBelowList:p,onListReady:h}=e,m=Xe()(e,["className","scrollerKey","scrollerStyle","virtualListClassName","layout","resizeTimeout","scrollDirection","targetScrollIndex","shouldCenterScrollIndex","autoScroll","smoothScroll","renderAboveList","renderBelowList","onListReady"]);const g=YO({scrollTop:0,scrollLeft:0}),v=g[1],y=g[0],f=YO({width:0,height:0}),b=f[1],I=f[0],S=!(!I.width||!I.height),C=YO(void 0),M=C[1],D=C[0],P=GO(([e])=>{b({width:e.target.clientWidth,height:e.target.clientHeight})},[]),O=PO(P),j=KO(()=>{if(!D||!I||null==o)return;const e=s.getPositionForIndex(Math.max(o,0),D);return function(e,t,i){const{shouldCenterCell:n,measurements:a,listMeasurements:s}=i;return{scrollTop:e===cp.Vertical||e===cp.Omni?qO(t.cellY,{shouldCenterCell:n,viewportDimension:a.height,offset:s.outerPaddingTop,cellDimension:t.cellHeight}):0,scrollLeft:e===cp.Horizontal||e===cp.Omni?qO(t.cellX,{shouldCenterCell:n,viewportDimension:a.width,offset:s.outerPaddingLeft,cellDimension:t.cellWidth}):0}}(r,e,{shouldCenterCell:l,measurements:I,listMeasurements:D})},[s,D,I,r,l,o]);let w,T;j&&(w=j.scrollTop,T=j.scrollLeft);const E=GO(({scrollLeft:e,scrollTop:t})=>{v({scrollTop:t,scrollLeft:e})},[]),{isWaitingToRestoreScrollPosition:N,scrollRestoreProps:x,onScrollPositionReady:A}=HO({key:i,onScrollPositionChange:E}),L=GO(e=>{M(e),A(),h&&h(e)},[h,A]);return QO(up,tp()({className:t,style:n,scrollDirection:r,autoScroll:c,smoothScroll:d,targetScrollTop:w,targetScrollLeft:T,ref:O},x),u&&!N?u(I):null,S?QO(AO,tp()({className:a,layout:s,scrollTop:y.scrollTop,scrollLeft:y.scrollLeft,isWaitingToRestoreScrollPosition:N,viewportWidth:I.width,viewportHeight:I.height,onListReady:L},m)):null,p&&!N?p(I):null)}var{useEffect:JO,useMemo:XO,useReducer:$O,useRef:ej}=Nd.a;function tj(e){var{style:t,moveDurationMilliseconds:i=400,isVirtual:n,isVisible:a,cellIndex:s,cellX:r,cellY:o,cellWidth:l,cellHeight:c}=e,d=$b(s),u=null!=d&&s!==d,p=ej(u),h=p.current||u,m=ej(!0);n&&!a||(m.current=!1);var g=$O(e=>e+1,0)[1],v=XO(()=>n?Object.assign({position:"absolute",width:l,height:c,transform:"translate3d("+r+"px, "+o+"px, 0)",zIndex:h?1:0,transition:h?"transform "+Tv.defaultSpeed:"none",transitionDuration:h?i+"ms":"0"},t):Object.assign({position:"relative"},t),[r,o,l,c,t,i,h,n]);return JO(()=>{var e;return h&&(p.current=!0,e=window.setTimeout(()=>{p.current=!1,g()},2*i)),()=>{e&&window.clearTimeout(e)}},[i,h,g]),{style:v,isOffscreenPlaceholder:m.current}}var ij=i("MgzW"),nj=i.n(ij);var aj=nj()({},Wh,{v4AccentLight:"#e5a00d",v4AltLight:"#fafafa",v4AltMedium:"#a0aab1",v4AltMediumDark:"#737e87",v4AltMediumLight:"#d6dcdf",v4BaseDark:"#1f2326",v4BaseLight:"#444f56",v4BaseMedium:"#2a3136",v4BaseMediumLight:"#343a3f",v4DefaultColor:"#fafafa",v4DividerColor:"#1f2326",primaryButtonColor:"#1f2326",dragPreviewBackgroundColor:"rgba(76, 76, 76, 0.7)",dragPreviewOpacity:"0.9",dragPreviewLowOpacity:"0.35",dropLocationColor:"#f9be03",sliderTrackBackgroundColor:"rgba(255, 255, 255, 0.2)",sliderThumbBackgroundColor:"#ddd",sliderThumbHoverBackgroundColor:"#fff",rowOddBackgroundColor:"rgba(255, 255, 255, 0.03)",rowEvenBackgroundColor:"#292929",avatarBackgroundColor:"#999",detailsShadowColor:"#000",playerBackgroundColor:"#232426",playerTopControlsBackgroundColor:"rgba(35, 36, 38, 0.45)",playerBottomControlsBackgroundColor:"rgba(35, 36, 38, 0.8)",playerPrimaryButtonBackgroundColor:"rgba(0, 0, 0, 0.45)",miniPlayerBackgroundColor:Wh.blackDarkerTranslucentBackgroundColor,playerSecondaryOverlayColor:"rgba(0, 0, 0, 0.4)",playerPosterActionColor:Wh.blackDarkTranslucentBackgroundColor,playerPanelColor:"rgba(0, 0, 0, 0.6)",playerDisabledLinkColor:"rgba(255, 255, 255, 0.15)",playerShadowColor:"rgba(0, 0, 0, 0.45)",seekBarTrackColor:"rgba(0, 0, 0, 0.75)",seekBarTrackColorHover:"rgba(255, 255, 255, 0.15)",seekBarFillColor:"#cc7b19",seekBarBufferColor:"rgba(204, 123, 25, 0.3)",seekBarThumbnailShadowColor:"rgba(0, 0, 0, 0.45)",seekBarTooltipBackgroundColor:"#000",seekBarTooltipShadowColor:"rgba(0, 0, 0, 0.5)",thumbnailBackgroundColor:"rgba(0, 0, 0, 0.45)",adSeekBarFillColor:"#f9be03",equalizerBarColor:"#f9be03",htmlMediaElementBackgroundColor:"#000",toastBackgroundColor:"rgba(1, 1, 1, 0.50)",posterBackgroundColor:"rgba(0, 0, 0, 0.45)",posterHoverBackgroundColor:"radial-gradient(farthest-corner at 50% 50%, rgba(50, 50, 50, 0.5) 50%, rgb(50, 50, 50) 100%)",posterSelectedBackgroundColor:"rgba(30, 30, 30, 0.5)",posterBlendedSelectedBackgroundColor:"rgba(19, 19, 19, 0.78);",posterPlaceholderIconColor:"rgba(255, 255, 255, 0.15)",posterCenterCircleBackgroundColor:"rgba(0, 0, 0, 0.45)",posterBadgeShadowColor:"rgba(0, 0, 0, 0.6)",posterProgressTrackBackgroundColor:"rgba(0, 0, 0, 0.75)",posterVersionBadgeColor:"#556688",posterSmartBadgeColor:"rgb(142, 97, 145)",posterFavoriteBadgeColor:"rgb(229, 172, 182)",v4CardBackgroundColor:"rgba(0, 0, 0, 0.45)",v4CardShimmerBackgroundColor:"rgba(0, 0, 0, 0.3)",v4CardShadowColor:"rgba(0, 0, 0, 0.3)",v4CardHoverBackgroundColor:"rgba(30, 30, 30, 0.6)",v4CardHoverBorderColor:"#e5a00d",recordColor:"#f53",recordHoverColor:"color(#f53 lightness(+5%))",recordBackgroundColor:"#b32",recordActiveBackgroundColor:"color(#b32 blackness(+10%))",dayOfWeekBackgroundColor:"rgba(255, 255, 255, 0.1)",dayOfWeekColor:"rgba(255, 255, 255, 0.75)",todayBackgroundColor:"rgba(255, 255, 255, 0.3)",todayColor:"rgba(255, 255, 255, 0.1)",calendarEventSuccessBackgroundColor:"rgba(0, 102, 153, 0.15)",calendarEventSuccessAlternateBackgroundColor:"rgba(31, 120, 165, 0.17)",calendarEventSuccessHoverBackgroundColor:"rgba(76, 148, 183, 0.20)",calendarEventErrorBackgroundColor:"rgba(187, 51, 34, 0.3)",calendarEventErrorAlternateBackgroundColor:"rgba(191, 64, 48, 0.31)",calendarEventErrorHoverBackgroundColor:"rgba(199, 87, 73, 0.34)",recordingIconColor:"#ff5533",playColor:"rgba(255, 255, 255, 0.75)",channelGridTimelineLabelColor:"#a0aab1",channelGridSelectedItemDetailsBackgroundColor:"rgba(0, 0, 0, 0.2)",channelGridBorderColor:"#343a3f",channelGridHoverColor:"rgba(255, 255, 255, 0.2)",channelGridBackgroundColor:"rgba(160, 170, 177, 0.1)",channelGridOnAirBackgroundColor:"rgba(160, 170, 177, 0.1)",channelGridFinishedAiringBackgroundColor:"rgba(160, 170, 177, 0.3)",channelGridProgressColor:"rgba(160, 170, 177, 0.1)",channelGridMissingItemBackgroundColor:"rgba(0, 0, 0, 0)",channelGridChannelThumbBackgroundColor:"rgba(42, 49, 54, 0.5)",channelGridRecentChannelThumbBackgroundColor:"rgba(255, 255, 255, 0.05)",channelGridChannelIdentifierBackroundColor:"rgba(42, 49, 54, 0.5)",channelGridNewBadgeColor:"rgba(84, 84, 84)",filterBuilderInputBackgroundColor:"rgba(0, 0, 0, 0.6)",altFilterBuilderInputBackgroundColor:Wh.blackDarkerTranslucentBackgroundColor,dvrBackgroundColor:Wh.blackDarkTranslucentBackgroundColor,preplayUnavailableButtonBackgroundColor:"rgba(255, 84, 50, 0.6)",preplayPartialButtonBackgroundColor:"rgba(204, 123, 25, 0.6)",searchInputBackgroundColor:"rgba(255, 255, 255, 0.08)",preferredServerButtonBackgroundColor:"rgba(0, 0, 0, 0.45)",sortableHomeHubsContainerBackgroundColor:"rgba(255, 255, 255, 0.03)",sortableHomeHubsRowBackgroundColor:"rgba(255, 255, 255, 0.02)",chartTranslucentOpacity:"0.25",serverDashboardTileRowBackgroundPrimaryColor:"rgba(229, 160, 13, 0.2)",serverDashboardTileRowBackgroundSecondaryColor:"rgba(229, 160, 13, 0.15)",serverDashboardTileRowBackgroundTertiaryColor:"rgba(229, 160, 13, 0.1)",serverDashboardTileRowBackgroundQuaternaryColor:"rgba(229, 160, 13, 0.05)",sessionStopBackgroundColor:"#701f29",sessionStopIconColor:"rgba(255, 255, 255, 0.5)",sourceSidebarSelectedColor:"rgba(255, 255, 255, 0.07)"}),sj=i("3+Hb"),rj=i.n(sj);const{memo:oj}=Nd.a,lj=[aj.serverDashboardTileRowBackgroundPrimaryColor,aj.serverDashboardTileRowBackgroundSecondaryColor,aj.serverDashboardTileRowBackgroundTertiaryColor,aj.serverDashboardTileRowBackgroundQuaternaryColor];function cj(e){return Xm(1e3*e)||Object(Ze.default)("{1} min",0)}var dj=oj((function(e){let{activeTimePeriod:t,item:i}=e,n=Xe()(e,["activeTimePeriod","item"]);const[a]=Lg(),s=tj(Object.assign({},n,{moveDurationMilliseconds:0}));if(!i)return null;const{accountID:r,username:o,thumb:l,playCount:c,totalDuration:d,durations:u}=i,p=Object.keys(u).sort((e,t)=>u[e]>u[t]?-1:u[e]<u[t]?1:0);return Vu()("div",{style:s.style},void 0,Vu()("div",{className:rj.a.summaryContainer},void 0,Vu()(rC,{className:rj.a.avatar,serverEntityID:a.entityID,url:l,width:50,height:50}),Vu()("div",{className:rj.a.summary},void 0,Vu()("div",{},void 0,1===c?Object(Ze.default)("{playCount} play",{playCount:c}):Object(Ze.default)("{playCount} plays",{playCount:c})),Vu()("div",{},void 0,cj(d))),Vu()(ev,{className:rj.a.playHistoryLink,to:FD(a.machineIdentifier,{filters:"accountID="+r+"&viewedAt="+Ky(t),activeTimePeriod:t})},void 0,Object(Ze.default)("View Play History"))),Vu()("div",{className:rj.a.username,title:o},void 0,o),p.map((e,t)=>Vu()("div",{className:rj.a.metadataRow,style:{backgroundColor:lj[t]}},e,Vu()("div",{className:rj.a.metadataTitle},void 0,BD(parseInt(e,10))),Vu()("div",{className:rj.a.duration},void 0,cj(u[e])))))})),uj=i("1kJW"),pj=i.n(uj);const hj=Nd.a.createElement,{useMemo:mj}=Nd.a,gj=IO({columnWidth:200,rowHeight:290,innerHorizontalPadding:40});function vj({activeTimePeriod:e,accounts:t,statistics:i,isSpinnerVisible:n,showList:a,errorMessage:s,targetScrollIndex:r,smoothScroll:o,onListUpdate:l}){const c=mj(()=>function(e,t){if(!t)return[];const i=!!t.find(e=>e.metadataType===UD.Game);return t.reduce((t,n)=>{const{accountID:a,metadataType:s,count:r,duration:o}=n;if(!(s in UD)||-1===a)return t;const l=t.findIndex(e=>e.accountID===a),c=-1!==l;let d;if(c)d=t[l];else{const t=e.find(e=>e.id===a);d={accountID:a,username:null==t?void 0:t.name,thumb:null==t?void 0:t.thumb,playCount:0,totalDuration:0,durations:{[UD.Movie]:0,[UD.TV]:0,[UD.Music]:0,[UD.Photo]:0}},i&&(d.durations[UD.Game]=0)}return d.playCount=d.playCount+r,d.totalDuration=d.totalDuration+o,d.durations[s]=d.durations[s]+o,c?t[l]=d:t.push(d),t},[]).sort((e,t)=>e.totalDuration>t.totalDuration?-1:e.totalDuration<t.totalDuration?1:0)}(t,i),[t,i]),d=a&&0===c.length?Object(Ze.default)("No data"):null,u=s||d,p=a&&!u,h=mj(()=>t=>hj(dj,tp()({},t,{activeTimePeriod:e})),[e]);return Vu()(pf,{className:pj.a.container,isSpinnerVisible:n,errorMessage:u},void 0,p?Vu()(ZO,{className:pj.a.listContainer,keyPropName:"accountID",items:c,totalSize:c.length,layout:gj,cellComponentFactory:h,scrollDirection:cp.Horizontal,targetScrollIndex:r,smoothScroll:o,onListUpdate:l}):null)}var yj=i("IV0B"),fj=i.n(yj);const{useCallback:bj,useEffect:Ij,useMemo:Sj,useRef:Cj,useState:Mj}=Nd.a;function Dj(){const e=Object(Hu.c)(),[t]=Lg(),i=Cj(null),n=Mj(!1),a=n[1],s=n[0],r=Mj(!1),o=r[1],l=r[0],c=Mj(0),d=c[1],u=c[0],p=Mj(!1),h=p[1],m=p[0],g=Mj(zy.Week),v=g[1],y=g[0],{accounts:f,statistics:b,isPending:I,isPopulated:S,error:C}=Object(Hu.d)(pO),M=Fg(I,!0),D=Sj(()=>[zy.Day,zy.Week,zy.Month,zy.NinetyDays,zy.Year,zy.AllTime],[]),P=bj(e=>{v(e)},[]),O=bj(e=>{const{visibleStartIndex:t,visibleEndIndex:n,renderEndIndex:s}=e;i.current=e,a(t>0),o(s>n)},[]),j=bj(()=>{const e=i.current;if(e){const t=e.visibleEndIndex-e.visibleStartIndex;d(Math.max(e.visibleStartIndex-t-1,0)),h(!0)}},[]),w=bj(()=>{const e=i.current;e&&(d(e.visibleEndIndex+1),h(!0))},[]);return Ij(()=>{e(nr.actions.topUsersFetchRequested({server:t,timespan:Gy(y),after:Ky(y)}))},[y,e,t]),Ij(()=>{d(0),h(!1)},[b]),Ij(()=>()=>{e(nr.actions.reset())},[e]),Vu()("div",{className:fj.a.container},void 0,Vu()(Wg,{title:Object(Ze.default)("Top Users")},void 0,Vu()("div",{},void 0,Vu()(Ey,{values:D,activeValue:y,formatter:Qy,onSelect:P}),Vu()("div",{className:fj.a.listActions},void 0,Vu()(uO,{className:fj.a.listScrollButton,iconComponent:yO,isDisabled:!s,title:Object(Ze.default)("Previous Page"),onPress:j}),Vu()(uO,{className:fj.a.listScrollButton,iconComponent:mO,isDisabled:!l,title:Object(Ze.default)("Next Page"),onPress:w})))),Vu()(vj,{activeTimePeriod:y,accounts:f,statistics:b,isSpinnerVisible:M,showList:!M&&S,errorMessage:C?Object(Ze.default)("Unable to load statistics"):null,targetScrollIndex:u,smoothScroll:m,onListUpdate:O}))}var Pj=i.p+"desktop/common/img/upsell/upsell-server-dashboard-list.7a5c5fc090835f292a8fd031b54b39d6.svg",Oj=i("XrH1"),jj=i.n(Oj);const{useCallback:wj}=Nd.a;var Tj=Vu()(NI,{});function Ej(){const e=Object(Hu.c)(),t=wj(()=>{Object(Ti.a)(()=>{e(Object(Qu.l)({hasDismissedServerDashboardUpsell:!0}))})},[e]);return Vu()("div",{className:jj.a.upsell},void 0,Vu()("div",{className:jj.a.description},void 0,Object(Ze.default)("Want more data? Get stats like top users, what's popular, and bandwidth usage with the new server Dashboard for Plex Pass holders!")+" ",Vu()(ev,{kind:Qg.Primary,to:"https://www.plex.tv/plex-pass",target:"_blank"},void 0,Object(Ze.default)("Learn more"))),Vu()("div",{className:jj.a.chartImageContainer},void 0,Vu()("img",{className:jj.a.image,src:String("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyNzYgODAiPgogIDxnIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCI+CiAgICA8cmVjdCB3aWR0aD0iMjc1Ljk2NSIgaGVpZ2h0PSI4MCIgZmlsbD0iIzAwMCIgb3BhY2l0eT0iLjI1Ii8+CiAgICA8ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxNi4xOTggNi4wMDUpIj4KICAgICAgPGcgZmlsbD0iI0ZGRiIgb3BhY2l0eT0iLjA1Ij4KICAgICAgICA8cmVjdCB3aWR0aD0iMjU1LjU2OCIgaGVpZ2h0PSIxIiB5PSI2MC4wNDkiLz4KICAgICAgICA8cmVjdCB3aWR0aD0iMjU1LjU2OCIgaGVpZ2h0PSIxIiB5PSI0OC4wMzkiLz4KICAgICAgICA8cmVjdCB3aWR0aD0iMjU1LjU2OCIgaGVpZ2h0PSIxIiB5PSIzNi4wMjkiLz4KICAgICAgICA8cmVjdCB3aWR0aD0iMjU1LjU2OCIgaGVpZ2h0PSIxIiB5PSIyNC4wMiIvPgogICAgICAgIDxyZWN0IHdpZHRoPSIyNTUuNTY4IiBoZWlnaHQ9IjEiIHk9IjEyLjAxIi8+CiAgICAgICAgPHJlY3Qgd2lkdGg9IjI1NS41NjgiIGhlaWdodD0iMSIvPgogICAgICA8L2c+CiAgICAgIDxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDAgOC43MDcpIj4KICAgICAgICA8ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgwIDEwLjgwOSkiPgogICAgICAgICAgPHJlY3Qgd2lkdGg9IjI4Ljc5NiIgaGVpZ2h0PSIyLjQwMiIgeD0iMjI2Ljc3MSIgeT0iMzAuNjI1IiBmaWxsPSIjRTY5RjIzIiByeD0iLjYiLz4KICAgICAgICAgIDxyZWN0IHdpZHRoPSIyOC43OTYiIGhlaWdodD0iNi45MDYiIHg9IjE4OC45NzYiIHk9IjIwLjcxNyIgZmlsbD0iI0YxMzM1RSIgcng9Ii42Ii8+CiAgICAgICAgICA8cmVjdCB3aWR0aD0iMjguNzk2IiBoZWlnaHQ9IjkuNjA4IiB4PSIxNTEuMTgxIiBmaWxsPSIjRjEzMzVFIiByeD0iLjYiLz4KICAgICAgICAgIDxyZWN0IHdpZHRoPSIyOC43OTYiIGhlaWdodD0iMS4yMDEiIHg9IjExMy4zODYiIHk9IjM3LjIzIiBmaWxsPSIjRTY5RjIzIiByeD0iLjYiLz4KICAgICAgICAgIDxyZWN0IHdpZHRoPSIyOC43OTYiIGhlaWdodD0iNS4xMDQiIHg9Ijc1LjU5IiB5PSIzMS41MjYiIGZpbGw9IiMzNjZERkMiIHJ4PSIuNiIvPgogICAgICAgICAgPHJlY3Qgd2lkdGg9IjI4Ljc5NiIgaGVpZ2h0PSIxMC41MDkiIHg9IjM3Ljc5NSIgeT0iMjQuNjIiIGZpbGw9IiMzNjZERkMiIHJ4PSIuNiIvPgogICAgICAgICAgPHJlY3Qgd2lkdGg9IjI4Ljc5NiIgaGVpZ2h0PSIyLjQwMiIgeT0iMzUuNzI5IiBmaWxsPSIjMzY2REZDIiByeD0iLjYiLz4KICAgICAgICA8L2c+CiAgICAgICAgPGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMCAyMS4wMTcpIj4KICAgICAgICAgIDxyZWN0IHdpZHRoPSIyOC43OTYiIGhlaWdodD0iNi45MDYiIHg9IjIyNi43NzEiIHk9IjIzLjQxOSIgZmlsbD0iI0YxMzM1RSIgcng9Ii42Ii8+CiAgICAgICAgICA8cmVjdCB3aWR0aD0iMjguNzk2IiBoZWlnaHQ9IjEyLjMxIiB4PSIxODguOTc2IiB5PSIxOC4wMTUiIGZpbGw9IiM5QUQxODYiIHJ4PSIuNiIvPgogICAgICAgICAgPHJlY3Qgd2lkdGg9IjI4Ljc5NiIgaGVpZ2h0PSIzMC4zMjUiIHg9IjE1MS4xODEiIGZpbGw9IiM5QUQxODYiIHJ4PSIuNiIvPgogICAgICAgICAgPHJlY3Qgd2lkdGg9IjI4Ljc5NiIgaGVpZ2h0PSIxLjUwMSIgeD0iMTEzLjM4NiIgeT0iMjguODIzIiBmaWxsPSIjMzY2REZDIiByeD0iLjYiLz4KICAgICAgICAgIDxyZWN0IHdpZHRoPSIyOC43OTYiIGhlaWdodD0iMy4zMDMiIHg9Ijc1LjU5IiB5PSIyNy4wMjIiIGZpbGw9IiNGMTMzNUUiIHJ4PSIuNiIvPgogICAgICAgICAgPHJlY3Qgd2lkdGg9IjI4Ljc5NiIgaGVpZ2h0PSI0LjgwNCIgeD0iMzcuNzk1IiB5PSIyNS41MjEiIGZpbGw9IiNGMTMzNUUiIHJ4PSIuNiIvPgogICAgICAgICAgPHJlY3Qgd2lkdGg9IjI4Ljc5NiIgaGVpZ2h0PSIxLjgwMSIgeT0iMjguNTIzIiBmaWxsPSIjRjEzMzVFIiByeD0iLjYiLz4KICAgICAgICA8L2c+CiAgICAgICAgPGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMCAzLjkwMykiPgogICAgICAgICAgPHJlY3Qgd2lkdGg9IjI4Ljc5NiIgaGVpZ2h0PSI2LjMwNSIgeD0iMTUxLjE4MSIgZmlsbD0iIzM2NkRGQyIgcng9Ii42Ii8+CiAgICAgICAgICA8cmVjdCB3aWR0aD0iMjguNzk2IiBoZWlnaHQ9IjMuMzAzIiB4PSI3NS41OSIgeT0iMzQuNTI4IiBmaWxsPSIjRTY5RjIzIiByeD0iLjYiLz4KICAgICAgICAgIDxyZWN0IHdpZHRoPSIyOC43OTYiIGhlaWdodD0iOC40MDciIHg9IjM3Ljc5NSIgeT0iMjIuNTE4IiBmaWxsPSIjRTY5RjIzIiByeD0iLjYiLz4KICAgICAgICAgIDxyZWN0IHdpZHRoPSIyOC43OTYiIGhlaWdodD0iMS44MDEiIHk9IjQwLjIzMyIgZmlsbD0iI0U2OUYyMyIgcng9Ii42Ii8+CiAgICAgICAgPC9nPgogICAgICAgIDxyZWN0IHdpZHRoPSIyOC43OTYiIGhlaWdodD0iMy4zMDMiIGZpbGw9IiNFNjlGMjMiIHJ4PSIuNiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTUxLjE4KSIvPgogICAgICA8L2c+CiAgICAgIDxyZWN0IHdpZHRoPSIxLjUiIGhlaWdodD0iMS41MDEiIHg9IjI0MC41NyIgeT0iNjAuMzQ5IiBmaWxsPSIjRkZGIiBvcGFjaXR5PSIuMSIvPgogICAgICA8cmVjdCB3aWR0aD0iMS41IiBoZWlnaHQ9IjEuNTAxIiB4PSIxNjQuOTc5IiB5PSI2MC4zNDkiIGZpbGw9IiNGRkYiIG9wYWNpdHk9Ii4xIi8+CiAgICAgIDxyZWN0IHdpZHRoPSIxLjUiIGhlaWdodD0iMS41MDEiIHg9IjIwMi43NzQiIHk9IjYwLjM0OSIgZmlsbD0iI0ZGRiIgb3BhY2l0eT0iLjEiLz4KICAgICAgPHJlY3Qgd2lkdGg9IjEuNSIgaGVpZ2h0PSIxLjUwMSIgeD0iODkuMzg5IiB5PSI2MC4zNDkiIGZpbGw9IiNGRkYiIG9wYWNpdHk9Ii4xIi8+CiAgICAgIDxyZWN0IHdpZHRoPSIxLjUiIGhlaWdodD0iMS41MDEiIHg9IjEyNy4xODQiIHk9IjYwLjM0OSIgZmlsbD0iI0ZGRiIgb3BhY2l0eT0iLjEiLz4KICAgICAgPHJlY3Qgd2lkdGg9IjEuNSIgaGVpZ2h0PSIxLjUwMSIgeD0iNTEuNTkzIiB5PSI2MC4zNDkiIGZpbGw9IiNGRkYiIG9wYWNpdHk9Ii4xIi8+CiAgICAgIDxyZWN0IHdpZHRoPSIxLjUiIGhlaWdodD0iMS41MDEiIHg9IjEzLjc5OCIgeT0iNjAuMzQ5IiBmaWxsPSIjRkZGIiBvcGFjaXR5PSIuMSIvPgogICAgPC9nPgogICAgPGcgZmlsbD0iI0ZGRiIgb3BhY2l0eT0iLjEiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDUuNDc0IDUuNTc1KSI+CiAgICAgIDxyZWN0IHdpZHRoPSIxMC45NDkiIGhlaWdodD0iMi4xOTIiIHg9IjE5LjcwOCIgeT0iNjYuNzUzIiByeD0iMS4wOTYiLz4KICAgICAgPHJlY3Qgd2lkdGg9IjEwLjk0OSIgaGVpZ2h0PSIyLjE5MiIgeD0iNTcuNjM2IiB5PSI2Ni43NTMiIHJ4PSIxLjA5NiIvPgogICAgICA8cmVjdCB3aWR0aD0iMTAuOTQ5IiBoZWlnaHQ9IjIuMTkyIiB4PSI5NS4xNTgiIHk9IjY2Ljc1MyIgcng9IjEuMDk2Ii8+CiAgICAgIDxyZWN0IHdpZHRoPSIxMC45NDkiIGhlaWdodD0iMi4xOTIiIHg9IjEzMy4zODMiIHk9IjY2Ljc1MyIgcng9IjEuMDk2Ii8+CiAgICAgIDxyZWN0IHdpZHRoPSIxMC45NDkiIGhlaWdodD0iMi4xOTIiIHg9IjE3MS4wMjYiIHk9IjY2Ljc1MyIgcng9IjEuMDk2Ii8+CiAgICAgIDxyZWN0IHdpZHRoPSIxMC45NDkiIGhlaWdodD0iMi4xOTIiIHg9IjIwOC44MzQiIHk9IjY2Ljc1MyIgcng9IjEuMDk2Ii8+CiAgICAgIDxyZWN0IHdpZHRoPSIxMS45NDkiIGhlaWdodD0iMi4xOTIiIHg9IjI0Ni4wNTkiIHk9IjY2Ljc1MyIgcng9IjEuMDk2Ii8+CiAgICAgIDxyZWN0IHdpZHRoPSI2LjU2OSIgaGVpZ2h0PSIyLjE5MiIgcng9IjEuMDk2Ii8+CiAgICAgIDxyZWN0IHdpZHRoPSI2LjU2OSIgaGVpZ2h0PSIyLjE5MiIgeT0iMTEuNzI1IiByeD0iMS4wOTYiLz4KICAgICAgPHJlY3Qgd2lkdGg9IjYuNTY5IiBoZWlnaHQ9IjIuMTkyIiB5PSIyMy45MjUiIHJ4PSIxLjA5NiIvPgogICAgICA8cmVjdCB3aWR0aD0iNi41NjkiIGhlaWdodD0iMi4xOTIiIHk9IjM1LjgyNSIgcng9IjEuMDk2Ii8+CiAgICAgIDxyZWN0IHdpZHRoPSI2LjU2OSIgaGVpZ2h0PSIyLjE5MiIgeT0iNDcuOTI1IiByeD0iMS4wOTYiLz4KICAgIDwvZz4KICA8L2c+Cjwvc3ZnPgo=")})),Vu()("div",{className:jj.a.listImageContainer},void 0,Vu()("img",{className:jj.a.image,src:String(Pj)})),Vu()(ev,{className:jj.a.button,onPress:t},void 0,Tj))}const{Fragment:Nj}=Nd.a;var xj=Vu()(Ej,{}),Aj=Vu()(hP,{},void 0,Vu()(AD,{})),Lj=Vu()(Nj,{},void 0,Vu()(hP,{},void 0,Vu()(Sb,{})),Vu()(zP,{}),Vu()(hP,{},void 0,Vu()(Dj,{})),Vu()(hP,{},void 0,Vu()(dP,{})),Vu()(hP,{},void 0,Vu()(oO,{})));function kj(){const[e]=Lg(),t=e.ownerFeatures.includes(wt.w),i=Object(Hu.d)(zg("hasDismissedServerDashboardUpsell"));return Vu()(Nj,{},void 0,t||i?null:xj,Aj,t?Lj:null)}var Rj=Vu()(kj,{});var zj=_u.extend({component(e){const t=e.server;return Vu()(kg,{machineIdentifier:t.get("machineIdentifier"),providerIdentifier:jt.d},void 0,Rj)}}),Uj=i("Ctv7");function Vj(e,{limit:t}={},i=!1){if(!e)return"";const n=new Date;e=Math.round(e),"past"===t?e=Math.min(e,Object(Vy.a)(n)):"future"===t&&(e=Math.max(e,Object(Vy.a)(Object(Uj.a)(n,1))));const a=Object($c.a)(e).getTime()-n.getTime();let s;return s="future"===t||"past"!==t&&a>0,function({milliseconds:e,isShorthand:t,isFuture:i}){let n=Math.abs(e)/1e3;n&&(n=n<1?1:Math.round(n));const a=Math.round(n/60),s=Math.round(a/60),r=Math.round(s/24),o=Math.round(r/30),l=Math.round(r/365),c={seconds:n,minutes:a,hours:s,days:r,months:o,years:l},d={unitOfTime:n<=44&&(t?Object(Ze.default)("{seconds}s",c):Object(Ze.default)("a few seconds",c))||n<45&&(t?Object(Ze.default)("{seconds}s",c):Object(Ze.default)("{seconds} seconds",c))||a<=1&&(t?Object(Ze.default)("{minutes}m",c):Object(Ze.default)("a minute",c))||a<45&&(t?Object(Ze.default)("{minutes}m",c):Object(Ze.default)("{minutes} minutes",c))||s<=1&&(t?Object(Ze.default)("{hours}h",c):Object(Ze.default)("an hour",c))||s<22&&(t?Object(Ze.default)("{hours}h",c):Object(Ze.default)("{hours} hours",c))||r<=1&&(t?Object(Ze.default)("{days}d",c):Object(Ze.default)("a day",c))||r<26&&(t?Object(Ze.default)("{days}d",c):Object(Ze.default)("{days} days",c))||o<=1&&(t?Object(Ze.default)("{months}mo",c):Object(Ze.default)("a month",c))||o<11&&(t?Object(Ze.default)("{months}mo",c):Object(Ze.default)("{months} months",c))||l<=1&&(t?Object(Ze.default)("{years}y",c):Object(Ze.default)("a year",c))||(t?Object(Ze.default)("{years}y",c):Object(Ze.default)("{years} years",c))};return i?Object(Ze.default)("in {unitOfTime}",d):Object(Ze.default)("{unitOfTime} ago",d)}({milliseconds:a,isShorthand:i,isFuture:s})}var Bj=function(e,t){return Vj(e,{limit:"past"},t)};const Fj="backgroundTranscodeJobs",Hj="syncMetadataItems";var _j=ut.a.extend({name:"SyncMetadataModel",entityType:Hj,entityID(e=this.state){return Object(pt.a)(this.entityType,e.ratingKey,this.syncItemId,this.server.entityID())},context:["server","device","syncItemId"],cache:new tt.a,cacheKey:function(){const e=ut.a.prototype.cacheKey.apply(this,arguments);return e+"!"+this.syncItemId}});var Wj=ke.a.extend({name:"SyncMetadataCollection",context:["server","device","syncItemId"],model:_j,url(){return"/sync/items/"+this.syncItemId},augmentResponseText:(e,t)=>t===ct.c?Object(dt.b)(e):e}),Qj=i("Zf8S"),Gj=i.n(Qj),Kj=R.ItemView.extend({tagName:"li",className:"sync-status-list-item",template:Gj.a,ui:{poster:".media-poster"},initialize:function(e){this.syncItem=e.syncItem,this.transcodeJobs=this.model.server.get("desktop").get("transcodeJobs"),this.$el.addClass(this.model.get("type")),this.image=new Qm({model:this.model,type:this.model.get("type"),getUrl:this.getPosterUrl,height:50,background:!1}),this.listenTo(this.transcodeJobs,"reset",(function(e){this.model.trigger("change:Media",this.model,this.model.get("Media"))}))},getPosterUrl:function(e){return e||this.model.get("parentThumb")||this.model.get("grandparentThumb")},analyzeTranscodeJobs:function(){var e;return this.transcodeJobs.each(I.a.bind((function(t){if(this.syncItem.id===t.get("syncItemId")){var i=this.model.get("thumb"),n=this.model.get("title"),a=t.get("transcodeThumb"),s=t.get("title"),r=s&&s.indexOf(n)>-1,o=!0;if(i&&a)o=new RegExp("(.+)"+t.get("thumb")+"$").exec(i);r&&o&&(e=t)}}),this)),e&&e.get("progress")>0?{active:!0,speed:Math.round(10*e.get("speed"))/10,remaining:$m(e.get("remaining"))||Object(Ze.default)("done"),progress:Math.round(10*e.get("progress"))/10,isUploading:"upload"===e.get("type")}:{active:!1}},analyzeParts:function(){var e="complete",t=this.model.get("Media");if(!t.length)return"unknown";for(var i=0,n=t.length;i<n;i++)for(var a=t[i].Part,s=0,r=a.length;s<r;s++){var o=a[s],l=ot.getSyncStateFromPart(o);ot.failedRegex.test(l)&&(e=ot.getSyncStateContextFromPart(o)),ot.processingRegex.test(l)&&(e="downloading"===l?"downloading":"processing"),ot.waitingRegex.test(l)&&"processing"!==e&&(e=o.key?"waiting":"processing")}return e},getErrorMessage:function(e){switch(e){case"sourceFileUnavailable":return Object(Ze.default)("This media is inaccessible. Please check that the file exists with the correct permissions.");case"sourceFileMetadataError":return Object(Ze.default)("The metadata for this media is invalid. Please reanalyze the media and try again.");case"clientProfileError":return Object(Ze.default)("The client profile for the sync target is invalid.");case"ioError":return Object(Ze.default)("An error occurred processing this media. Please check that the disk is not full.");case"transcoderError":return Object(Ze.default)("The transcoder was unable to process this media.");case"mediaAnalysisError":return Object(Ze.default)("This media was unable to be analyzed.");case"downloadFailed":return Object(Ze.default)("This media was unable to be downloaded. Please check that it is still available and try again.");case"unknownError":return Object(Ze.default)("An error occurred while syncing this media.")}return Object(Ze.default)("An error occurred while syncing this media.")},bindings:{".title":{modelAttribute:"title"},".subtitle":{modelAttribute:"Media",manual:!0,formatter:function(e){var t=this.analyzeParts(),i=this.analyzeTranscodeJobs();switch(this.$(".subtitle").addClass("hidden"),t){case"complete":this.$(".complete-subtitle").removeClass("hidden");break;case"waiting":this.$(".waiting-subtitle").removeClass("hidden");break;case"downloading":i.active?(this.$(".downloading-subtitle").removeClass("hidden"),this.$(".transcode-progress").text(i.progress)):this.$(".processing-subtitle").removeClass("hidden");break;case"processing":i.active?(this.$(".converting-subtitle").removeClass("hidden"),this.$(".transcode-progress").text(i.progress),this.$(".transcode-remaining").text(i.remaining)):this.$(".processing-subtitle").removeClass("hidden");break;case"unknown":this.$(".unknown-subtitle").removeClass("hidden");break;default:this.$(".failed-subtitle").removeClass("hidden"),this.$(".error-message").text(this.getErrorMessage(t))}}}},onRender:function(){this.image.setElement(this.ui.poster)}}),Yj=Sm.extend({tagName:"ul",className:"list sync-status-list",itemView:Kj}),qj=i("81Xg"),Zj=i.n(qj),Jj=on.extend({name:"syncStatusModal",template:Zj.a,regions:{list:".sync-status-list-container"},onRender:function(){on.prototype.onRender.apply(this,arguments),this.list.show(new Yj({collection:this.collection,itemViewOptions:{syncItem:this.model}}))}}),Xj=i("z4rd"),$j=i.n(Xj),ew=R.Layout.extend({tagName:"li",className:"poster-item media-tile-list-item sync-tile-list-item",template:$j.a,metadataItemsDelay:5e3,ui:{poster:".media-poster",transcodeStatus:".sync-status-transcode",transcodeTimeRemaining:".media-context",statusIcons:".sync-status-icon",completeIcon:".sync-complete-icon",waitingIcon:".sync-waiting-icon",processingIcon:".sync-processing-icon",failedIcon:".sync-failed-icon",unknownIcon:".sync-unknown-icon"},regions:{transcodeProgress:".sync-status-transcode"},events:{"click a":"onClick","click .edit-btn":"onEditClick","click .delete-btn":"onDeleteClick"},onlyAfterRender:["onMetadataItemsReset","onMediaChange","onTranscodeJobsReset"],initialize:function(e){this.server=e.server,this.model.parent=this.server,this.type=this.model.get("metadataType"),this.contentType=this.model.get("contentType");var t=this.type,i=this.contentType,n=150;"episode"===t?t="show":"clip"===t?n=250:"directory"===t&&(t="audio"===i?"track":"photo"===i?"photo":"movie"),this.$el.addClass(t),this.image=new Qm({server:this.server,type:t,width:n}),this.progressModel=new v.c.Model({current:0});var a=this.server.get("desktop").get("transcodeJobs");this.metadataItems=new Wj([],{server:this.server,device:this.model.device,syncItemId:this.model.id}),this.listenTo(this.metadataItems,"reset",this.onMetadataItemsReset),this.listenTo(a,"reset",this.onTranscodeJobsReset),this.metadataItems.fetch({reset:!0}),this.server.supports("syncNotifications")?this.listenTo(this.metadataItems,"change:Media",this.onMediaChange):this.metadataItemsInterval=window.setInterval(I.a.bind((function(){this.metadataItems.fetch({reset:!0})}),this),this.metadataItemsDelay)},serializeData:function(){return{syncItem:this.model.toJSON(),isFailure:!!this.model.get("status").get("failure")}},getPosterUrl:function(e){var t=e.get("thumb");return this.hasMultipleItems?this.hasSameParents?e.get("parentThumb")||e.get("grandparentThumb")||t:this.hasSameGrandparents?e.get("grandparentThumb")||e.get("parentThumb")||t:void 0:t},updatePoster:function(e){if(this.hasPoster=!0,!e){var t=this.metadataItems.first();if(!t)return;e=this.getPosterUrl(t)}this.image.url!==e&&(this.image.src=null,this.image.url=e,this.image.render())},analyzeParts:function(e){if(this.model.get("status").get("failure"))return"failed";var t=e.models,i=t.length;if(!i)return"unknown";for(var n="complete",a=[],s=[],r=0;r<i;r++){var o=t[r],l=o.get("Media");if(a.push(o.get("grandparentKey")),s.push(o.get("parentKey")),l.length||(n="unknown"),"failed"!==n&&"unknown"!==n)for(var c=0,d=l.length;c<d;c++)for(var u=l[c].Part,p=0,h=u.length;p<h;p++){var m=u[p],g=ot.getSyncStateFromPart(m);ot.failedRegex.test(g)&&(n="failed"),ot.processingRegex.test(g)&&(n="processing"),ot.waitingRegex.test(g)&&"processing"!==n&&(n=m.key?"waiting":"processing")}}return this.hasMultipleItems=i>1,this.hasSameGrandparents=1===I.a.compact(I.a.uniq(a)).length,this.hasSameParents=1===I.a.compact(I.a.uniq(s)).length,this.hasPoster||this.updatePoster(),n},bindings:{".media-title":{modelAttribute:"title"},".media-subtitle-1":{modelAttribute:"rootTitle"}},onRender:function(){this.image.setElement(this.ui.poster),this.transcodeProgress.append(new ig({model:this.progressModel,size:56}))},onClose:function(){window.clearInterval(this.metadataItemsInterval)},onMetadataItemsReset:function(e){var t=this.analyzeParts(e);if(this.ui.statusIcons.addClass("hidden"),this.ui.transcodeStatus.hasClass("hidden"))switch(t){case"complete":this.ui.completeIcon.removeClass("hidden");break;case"waiting":this.ui.waitingIcon.removeClass("hidden");break;case"processing":this.ui.processingIcon.removeClass("hidden");break;case"failed":this.ui.failedIcon.removeClass("hidden");break;default:this.ui.unknownIcon.removeClass("hidden")}},onMediaChange:function(e,t){this.onMetadataItemsReset(this.metadataItems)},onTranscodeJobsReset:function(e){var t=e.where({syncItemId:this.model.id});if(!t.length)return this.ui.transcodeStatus.hasClass("hidden")||(this.ui.transcodeStatus.addClass("hidden"),this.ui.waitingIcon.removeClass("hidden")),this.ui.transcodeTimeRemaining.text(""),void this.updatePoster();var i=t[0],n=i.get("progress");if(this.ui.statusIcons.addClass("hidden"),n>0){this.ui.transcodeStatus.removeClass("hidden");var a=i.get("type"),s=$m(i.get("remaining"));if(this.progressModel.set("progress",n),"download"===a)this.progressModel.set("text",n.toString()+"%"),this.ui.transcodeTimeRemaining.text(Object(Ze.default)("Downloading"));else if("upload"===a)this.progressModel.set("text",n.toString()+"%"),this.ui.transcodeTimeRemaining.text(Object(Ze.default)("Uploading"));else{if(i.get("speed")){var r=Math.round(10*i.get("speed"))/10;r>10&&(r=Math.round(r)),this.progressModel.set("text",r.toString()+"x")}else this.progressModel.set("text","");this.ui.transcodeTimeRemaining.text(s)}this.updatePoster(i.get("thumb"))}else this.ui.transcodeStatus.addClass("hidden"),this.ui.processingIcon.removeClass("hidden")},onClick:function(e){e.preventDefault(),U.a.trigger("show:modal",new Jj({model:this.model,collection:this.metadataItems}))},onEditClick:function(e){e.stopImmediatePropagation(),e.preventDefault(),U.a.trigger("show:modal",new Il({model:this.model}))},onDeleteClick:function(e){e.stopImmediatePropagation(),e.preventDefault(),Ge.execute("deleteSyncItem",{syncItem:this.model,server:this.server})}}),tw=Sm.extend({tagName:"ul",className:"tile-list media-tile-list sync-tile-list show-context",itemView:ew}),iw=i("aon8"),nw=i.n(iw);var aw=R.Layout.extend({className:"sync-device-items-container",template:nw.a,ui:{loading:".row-loading",empty:".sync-empty-message",deviceMessage:".sync-device-message",deviceMessageText:".sync-device-message-text"},regions:{list:".sync-item-list-container"},onlyAfterRender:["onDebouncedSyncItemsChange"],initialize(e){this.server=e.server,this.onDebouncedSyncItemsChange=I.a.debounce(this.onDebouncedSyncItemsChange,100),this.listenTo(this.model,{"change:syncList":this.onSyncListChange,"change:syncList.change:syncItems.reset":this.onDebouncedSyncItemsChange,"change:syncList.change:syncItems.update":this.onDebouncedSyncItemsChange}),this.fetchSyncList()},fetchSyncList(){const e=this.model.get("syncList");e&&e.fetch().always(this.onDebouncedSyncItemsChange)},onSyncListChange(){this.fetchSyncList()},onDebouncedSyncItemsChange(){const e=this.model.get("syncList");let t;e&&(t=e.clone(),t.resetToServer(this.server.id)),this.ui.loading.addClass("hidden");const i=!t||0===t.getCollection().length;this.ui.empty.toggleClass("hidden",!i);const n=!t||t.get("isActive");if(this.ui.deviceMessage.toggleClass("hidden",n),!n){const e=t.device,i=e.get("lastSeenAt");i&&this.ui.deviceMessageText.text(Object(Ze.default)("{1} was last seen {2}. Syncing will resume next time you launch Plex on this device.",e.get("name"),Bj(i)))}t?this.list.show(new tw({collection:t.getCollection(),itemViewOptions:{server:this.server}})):this.list.close()}}),sw=i("57QN"),rw=i.n(sw),ow=R.Layout.extend({className:"sync-container",template:rw.a,transcodeJobDelay:2e3,ui:{devices:".nav a"},regions:{filterBar:".filter-bar",container:".sync-device-container"},modelEvents:{"change:shared":"onSharedChange"},events:{"click .dropdown-menu a":"onDeviceDropdownClick","click .nav a":"onDeviceClick","click .edit-btn":"onEditClick","click .refresh-btn":"onRefreshClick"},initialize:function(e){var t=ne.c("appModel");this.routeOrigin=e.routeOrigin,this.selectedDevice=e.selectedDevice,this.user=t.get("user"),this.shared=this.model.get("shared"),this.transcodeJobs=this.model.get("desktop").get("transcodeJobs"),this.allowSync=this.model.get("allowSync"),this.signedIn="ok"===this.model.get("myPlexSigninState"),this.collection.length&&(this.selectedDevice||(this.selectedDevice=this.collection.first()),this.fetchTranscodeJobs())},serializeData:function(){return{showDeviceDropdown:this.collection.length>0,shared:this.shared,hasTouchScreen:z.a.hasTouchScreen,signedIn:this.signedIn,allowSync:this.allowSync,sync:this.model.get("sync"),selectedDevice:this.selectedDevice?this.selectedDevice.toJSON():null,devices:this.collection.toJSON(),plexPassInfo:this.getPlexPassInfo()}},fetchTranscodeJobs:function(){this.transcodeJobs.fetch({reset:!0}),this.transcodeJobTimeout=window.setTimeout(I.a.bind(this.fetchTranscodeJobs,this),this.transcodeJobDelay)},showList:function(){this.selectedDevice?this.container.show(new aw({model:this.selectedDevice,server:this.model})):this.container.close()},getPlexPassInfo:function(){return this.signedIn||this.shared?{url:this.user.server.get("plexPassUrl"),message:Object(Ze.default)("The server needs a Plex Pass to use sync."),buttonText:Object(Ze.default)("Learn More"),target:"_blank",showButton:!this.shared}:{url:ln(this.model.id,"settings","general"),message:Object(Ze.default)("The server needs to be signed in with a Plex Pass to use sync."),buttonText:Object(Ze.default)("Sign In"),target:"_self",showButton:!0}},onRender:function(){this.allowSync&&this.showList()},onClose:function(){window.clearTimeout(this.transcodeJobTimeout)},onSharedChange:function(e,t){this.shared=t,this.render()},onDeviceDropdownClick:function(e){e.preventDefault();const t=D()(e.currentTarget).data("id");this.selectedDevice=this.collection.get(t),ra(this.routeOrigin,{serverID:this.model.id,deviceID:t,replace:!0,trigger:!1}),this.render()},onDeviceClick:function(e){e.preventDefault();var t=D()(e.currentTarget),i=t.data("id");this.ui.devices.removeClass("selected"),t.addClass("selected"),this.selectedDevice=this.collection.get(i),this.showList()},onEditClick:function(e){e.preventDefault(),D()(e.currentTarget).toggleClass("selected"),this.$el.toggleClass("force-hover")},onRefreshClick:function(e){e.preventDefault();var t=Ge.execute("refreshSyncLists",{server:this.model});this.selectedDevice&&t.always(this.whenRendered((function(){this.selectedDevice.get("syncList").fetch()})))}});function lw(){return Object(Wu.a)(_S(),e=>e.v4.core.serverNowPlayingSessions,(e,t)=>{var i;if(!e)return 0;const n=t[e.machineIdentifier],a=null==n?void 0:n.sessionKeys;return null!=(i=null==a?void 0:a.length)?i:0})}var cw=i("9OK2"),dw=i.n(cw);const uw=Nd.a.createElement;function pw(e){let{className:t,children:i,kind:n,size:a}=e,s=Xe()(e,["className","children","kind","size"]);return uw(zp,tp()({className:(t||"")+" "+(dw.a.button||"")+" "+(n&&dw.a[n]||"")+" "+(a&&dw.a[a]||"")},s),i)}pw.defaultProps={kind:Dp,size:Hh};var hw=pw;const mw=Nd.a.createElement;function gw(e){const{className:t,component:i,childrenPropName:n,tags:a,message:s}=e;let r=[s],o=a.length-1,l=0;for(;o>=0;){const e=a[o],{open:t,close:i,unpaired:n,children:s,component:c,childrenPropName:d}=e,u=Xe()(e,["open","close","unpaired","children","component","childrenPropName"]),p=t?new RegExp("(^.*)"+J("{"+t+"}")+"(.*)"+J("{"+i+"}")+"(.*$)"):new RegExp("(^.*)"+J("{"+n+"}")+"()(.*$)"),h=[];for(let e=r.length-1;e>=0;e--){const t=r[e];if("string"!=typeof t)h.unshift(t);else{const e=t.match(p);if(e){const[,t,i,n]=e;c?h.unshift(t,mw(c,tp()({key:l},u,{[d||"children"]:i})),n):h.unshift(t,s,n),l+=1}else h.unshift(t)}}h.length===r.length?o-=1:r=h}return mw(i,tp()({className:t},{[n]:r}))}gw.defaultProps={component:"span",childrenPropName:"children"};var vw=gw;var yw=i("TGb9"),fw=i.n(yw);function bw(e){const{className:t,iconComponent:i,title:n,text:a}=e;return Vu()("div",{className:t},void 0,Vu()("div",{className:fw.a.iconContainer},void 0,Vu()(i,{className:fw.a.icon})),Vu()("div",{className:fw.a.title},void 0,n),Vu()("div",{className:fw.a.text},void 0,a))}bw.defaultProps={className:fw.a.upsell};var Iw=bw,Sw=i("LH2V"),Cw=i.n(Sw);function Mw(e){const{className:t,iconComponent:i,title:n,text:a,moreInfo:s,children:r}=e;return Vu()("div",{className:t},void 0,Vu()(Iw,{className:Cw.a.upsell,iconComponent:i,title:n,text:a}),Vu()("div",{className:Cw.a.moreInfo},void 0,s),r)}Mw.defaultProps={className:Cw.a.info};var Dw=i("/3H6"),Pw=i.n(Dw);const Ow=Nd.a.createElement,{Component:jw}=Nd.a,ww=fv(Tv.modalSpeed),Tw=1e3*ww,Ew={ease:"easeOut",duration:ww},Nw={opacity:Ew},xw={enter:{opacity:1,transition:Nw},exit:{opacity:0,transition:Nw}},Aw={scale:{ease:Nv.motionEasing,duration:ww},opacity:Ew},Lw={enter:{opacity:1,scale:1,transition:Aw},exit:{opacity:0,scale:.95,transition:Aw}};class kw extends jw{constructor(...e){super(...e),this._autoFocusTimeoutID=void 0,this._isBackdropPressed=void 0,this.onBackdropBeginPress=e=>{this._isBackdropPressed=this._isBackdropTarget(e)},this.onBackdropEndPress=e=>{!this.props.preventCloseOnBackdropPress&&this._isBackdropPressed&&this._isBackdropTarget(e)&&this.props.onModalClose(),this._isBackdropPressed=!1},this.onTouchMove=e=>{this._isBackdropPressed=!1},this.onTouchCancel=e=>{this._isBackdropPressed=!1},this.onKeyDown=e=>{const t=e.keyCode;9===t?Ov(e):27===t&&(e.preventDefault(),e.stopPropagation(),this.props.onModalClose(),wv())}}componentDidMount(){this.props.isOpen&&this._openModal()}shouldComponentUpdate(e,t){return Tp(this,e,t)}componentDidUpdate(e){!e.isOpen&&this.props.isOpen?this._openModal():e.isOpen&&!this.props.isOpen&&this._closeModal()}componentWillUnmount(){this.props.isOpen&&this._closeModal()}_openModal(){Pv(Fu.a.findDOMNode(this.refs.modal)),this._autoFocusTimeoutID=window.setTimeout(jv,Tw),document.addEventListener("keydown",this.onKeyDown)}_closeModal(){window.clearTimeout(this._autoFocusTimeoutID),document.removeEventListener("keydown",this.onKeyDown)}_isBackdropTarget(e){const t=this._findEventTarget(e);if(t){const e=Fu.a.findDOMNode(this.refs.modal);return!e||!e.contains(t)}return!1}_findEventTarget(e){const t=e.changedTouches;if(!t)return e.target;if(1===t.length){const e=t[0];return document.elementFromPoint(e.clientX,e.clientY)}}render(){const{className:e,backdropClassName:t,containerClassName:i,children:n,size:a,isOpen:s}=this.props;return Vu()(pv,{isOpen:s,closeTimeoutMilliseconds:Tw,className:i},void 0,Vu()(ov.a,{},void 0,s?Vu()(ov.b.div,{initial:"exit",animate:"enter",exit:"exit",variants:xw,className:t,onMouseDown:this.onBackdropBeginPress,onMouseUp:this.onBackdropEndPress,onTouchStart:this.onBackdropBeginPress,onTouchEnd:this.onBackdropEndPress,onTouchMove:this.onTouchMove,onTouchCancel:this.onTouchCancel},"backdrop",Ow(ov.b.div,{key:"modal",initial:"exit",animate:"enter",exit:"exit",variants:Lw,className:e||Pw.a[a],ref:"modal"},n)):null))}}kw.defaultProps={backdropClassName:Pw.a.modalBackdrop,containerClassName:Pw.a.modalContainer,size:Hh,preventCloseOnBackdropPress:!1};var Rw=kw;const{Component:zw}=Nd.a;class Uw extends zw{constructor(e,t){super(e,t),this.page=void 0,this.page=e.page}getChildContext(){return{metricsPage:this.page}}componentDidMount(){const e=this.props,{isDelegated:t}=e,i=Xe()(e,["children","isDelegated"]);t||window.requestAnimationFrame(()=>{Object(ne.c)("metrics").trackView(i)})}componentWillReceiveProps(e){}componentDidUpdate(e){const{isDelegated:t}=e,i=Xe()(e,["children","isDelegated"]),n=this.props,{isDelegated:a}=n,s=Xe()(n,["children","isDelegated"]),r=t!==a||!wp(i,s);!a&&r&&Object(ne.c)("metrics").trackView(s)}render(){return this.props.children?Nd.a.Children.only(this.props.children):null}}Uw.childContextTypes={metricsPage:vc.a.string.isRequired};var Vw=Uw;const Bw=Nd.a.createElement;var Fw=function(e){const{children:t,metricsPage:i,metricsProperties:n}=e,a=Xe()(e,["children","metricsPage","metricsProperties"]);return Bw(Rw,a,Bw(Vw,tp()({},n,{page:i}),t))},Hw=i("ZGgN");var _w=function(e){return Object(Hw.a)(e,e=>e.uuid,()=>!0)};var Ww=Object(Wu.a)(bg("features"),_w);const Qw={};var Gw=function(e){const t=Qw[e]||Object(Wu.a)(Ww,t=>!!t[e]);return Qw[e]=t,t};const Kw={"home.continue":[/^(movie|tv)\.inprogress\.([0-9]+)/],"home.ondeck":[/^tv\.ondeck\.([0-9]+)/]};function Yw(e,t){return t.some(t=>t.test(e))}function qw(e){for(const t in Kw){if(Yw(e,Kw[t]))return t}return e}function Zw(e){return Jw({hubIdentifier:e.get("hubIdentifier"),identifier:e.provider.get("identifier"),machineIdentifier:e.server.get("machineIdentifier")})}function Jw(e){const{identifier:t,hubIdentifier:i,machineIdentifier:n}=e;return n+"--"+t+"--"+qw(i)}function Xw(e,t){const i={};for(const n in t)e.hasAttr(n)&&(i[n]=e.get(n));return i}function $w(e,t){const i=e.get("user").get("experienceSettings").get("homeSettings");i.set("settingsKey",Pe()),t(Object(Qu.l)({homeSettings:i}))}var eT=i("9/EM");const tT=[7,30,60,90];function iT(e=0){return Object(eT.a)(Date.now(),tT[e]||180)}function nT(e,t,i="message"){if(!e)return t;const n=Se.a.parseXML(e.responseText);return n&&n[i]?n[i]:t}function aT(e){return e.isCloud?"online":e.isFullOwnedServer?"owned":"shared"}function sT(e){return e.isConnected?"online":"offline"}function rT(e){return e.isCloud?"online":e.isShared?"shared":"owned"}var oT=function(e,t=!0){Object(ne.c)("metrics").trackEvent({event:"client:click",interaction:t,properties:{page:zd.cb,action:Rd.bb,serverType:rT(e),status:sT(e),firstRun:!0}})};var lT=function(e){const{key:t,sourceType:i,machineIdentifier:n,providerIdentifier:a,directoryID:s,directoryIcon:r,title:o,serverFriendlyName:l,serverSourceTitle:c,providerSourceTitle:d,isCloud:u,isFullOwnedServer:p}=e;return{key:t,sourceType:i,machineIdentifier:n,providerIdentifier:a,directoryID:s,directoryIcon:r,title:o,serverFriendlyName:l,serverSourceTitle:c,providerSourceTitle:d,isCloud:u,isFullOwnedServer:p}};function cT(e,t){const i=Object(ne.c)("appModel").get("cloudServer"),n=function(e){if(!e)return null;const[t,i]=e.split(","),n=t.substr(5),a=window.atob(i),s=[];for(let e=0;e<a.length;e++)s.push(a.charCodeAt(e));const r=new Uint8Array(s);return new window.Blob([r],{type:n})}(e),a=new window.FormData;a.append("avatar",n),t&&a.append("userId",t);const s=i.getXHROptions("/api/v2/user",{type:"PUT",processData:!1,contentType:!1,data:a});return D.a.ajax(s)}var dT=function(e,t){const i=D.a.Deferred(),n=(new Date).getTime()+t;let a;function s(){const e=(new Date).getTime(),t=Math.max(n-e,0);window.setTimeout(a,t)}return e.then((...e)=>{a=()=>i.resolve(...e)},(...e)=>{a=()=>i.reject(...e)}),e.then(s,s),i.promise()};var uT=function(e,t){const i=e.server.getXHROptions(I.a.result(e,"url"),{method:"POST",dataType:"json",data:Sa.a.stringify({urls:t},{arrayFormat:"brackets"})||"urls="});return dT(D.a.ajax(i),400).then(t=>{e.reset(t)},e=>D.a.Deferred().reject(e.status&&e.responseJSON.errors||[]).promise())},pT=i("y3BC");var hT=xe.a.extend({name:"AutoHubsModel",context:["server","provider","includeExternalMedia"],idAttribute:"providerEntityID",sessionAttrs:{hubKey:Ae.a.string,machineIdentifier:Ae.a.string,providerIdentifier:Ae.a.string,contentDirectoryID:Ae.a.string,isPending:Ae.a.boolean.isRequired,isPopulated:Ae.a.boolean.isRequired,hubsError:Ae.a.object},sessionRelations:{hubs:{relationClass:pT.default,deferred:!0},server:{relationClass:an,deferred:!0},provider:{relationClass:Si,deferred:!0}},defaults:()=>({isPending:!0,isPopulated:!1,hubsError:null})});function mT(e){const{hubKey:t,server:i,provider:n,options:a}=e;return new pT.default([],Object.assign({count:16,excludes:["playlists"],libraryHubsOnly:!0,includeEmpty:!0,includeFeaturedTags:!0,includeTypeFirst:!0,includeRecentChannels:!0},a,{hubKey:t,server:i,provider:n}))}var gT=i("hDJw");function vT(e){return{includeExternalMedia:Object(gT.a)(e,wt.a),includeExternalMetadata:!0,includeStations:!0}}function yT({actionCreator:e,dispatch:t,hubs:i,serverModel:n}){i.server&&i.server!==n||i.forEach(a=>{const s=a.get("metadataList");if(a.server===n&&!a.get("random")&&!!s&&!!s.get("containerKey")){const n=e({metadataListEntityID:s.entityID(),count:i.count});t(n)}})}function fT(e){return!!e.user.anonymous}function bT(e,t=[],i=[]){return{anonymous:e,features:Object(Hw.a)(t,e=>e.uuid,()=>!0),services:Object(Hw.a)(i,e=>e.id,e=>e)}}var IT=Object(Wu.a)(fT,bg("features"),bg("services"),bT),ST=i("mvw6");const CT=["free"];function MT(e,t){const i=t&&t.requires;if(!i)return!0;if(i===wt.p)return!e.anonymous;const n=e.services[i];return!!n&&!CT.includes(n.subscriptionType)}var DT=i("b3RP"),PT=i("FKox");function OT(e){const{key:t,getModel:i}=e;const n=Object(PT.a)(t),a="is"+n+"Pending",s="is"+n+"Populated",r=t?t+"Error":"error";return(e,n)=>{const{startIndex:o,endIndex:l,pages:c=3,reloadThreshold:d=6,disableReloadThreshold:u}=n;const p=l-o+1,h=i(e,n),m=t?h.get(t):h;h.sessionAttrs;const g=m.get("populatedRange");let v=o,y=l;if(o<g.start?v=Math.max(0,o-p*c):y=o+p*c,v>=g.start&&y<=g.end)return;const f=h.get(a);h.set(a,!0),m.populateRange({start:v,end:y,reloadThreshold:u?null:p*d}).done(()=>{h.set({[a]:!1,[s]:!0,[r]:null})}).fail((e,t)=>{t.aborting?h.set(a,f):h.set({[a]:!1,[r]:Object(DT.a)(t)})})}}function jT(e){const{key:t,getModel:i}=e;const n=Object(PT.a)(t),a="is"+n+"Pending",s="is"+n+"Populated",r=t?t+"Error":"error";return(e,n={})=>{const{count:o}=n,l=i(e,n),c=t?l.get(t):l;l.sessionAttrs;const d=l.get(a);l.set(a,!0),c.repopulateRange(o).done(()=>{l.set({[a]:!1,[s]:!0,[r]:null})}).fail((e,t)=>{t.aborting?l.set(a,d):l.set({[a]:!1,[r]:Object(DT.a)(t)})})}}function wT(e,t={}){const{allowMetrics:i,metricsProperties:n={}}=t,a=e.server,s="/library/metadata/"+e.get("ratingKey")+"/analyze",r=a.getXHROptions(s,{type:"PUT"}),o=e.get("mediaState"),l=Object(Qt.x)(e.get("type"));l||e.set("mediaState","analyzing");const c=D.a.ajax(r).fail(t=>{l||"analyzing"!==e.get("mediaState")||e.set("mediaState",o)});return i&&Object(ne.c)("metrics").trackClick(Object.assign({},n,{action:Rd.h,type:e.get("type")})),c.promise()}function TT(e,t,i){const{rating:n,allowMetrics:a,metricsProperties:s={}}=i,r=e.get("features").get(Ot.b).get("actions").get(Pt.e);if(!r)return D.a.Deferred().reject().promise();const o={key:t.get("ratingKey"),identifier:t.get("identifier"),rating:n},l=V.join(r.get("key"),o),c=e.getXHROptions(l,{type:"PUT"}),d=t.get("userRating"),u=-1===n?void 0:n;t.set("userRating",u);const p=D.a.ajax(c).fail(e=>{t.get("userRating")===u&&t.set("userRating",d)});return a&&Object(ne.c)("metrics").trackClick(Object.assign({},s,{action:Rd.U,type:t.get("type"),rating:n})),p.promise()}function ET(e,t={}){const{allowMetrics:i,metricsProperties:n={}}=t,a=e.server,s="/library/metadata/"+e.get("ratingKey")+"/refresh",r=a.getXHROptions(s,{type:"PUT"}),o=e.get("metadataState");e.set("metadataState","queued");const l=D.a.ajax(r).fail(t=>{"queued"===e.get("metadataState")&&e.set("metadataState",o)});return i&&Object(ne.c)("metrics").trackClick(Object.assign({},n,{action:Rd.V,type:e.get("type")})),l.promise()}function NT(e,t={}){const{played:i,providerEntityID:n,serverEntityID:a,metadataItemEntityID:s}=t,r=Object(wi.j)(e,t);if(null==r){const e="Could not find providerModel with provided `providerEntityID`";return D.a.Deferred().reject({errorMessage:e}).promise()}if(null==Object(wi.m)(e,t)){const e="Could not find serverModel with provided `serverEntityID`";return D.a.Deferred().reject({errorMessage:e}).promise()}const o=Object(wi.r)(e,{metadataItemEntityID:s});if(null==o){const e="Could not find metadataModel with provided `metadataItemEntityID`";return D.a.Deferred().reject({errorMessage:e}).promise()}const l=r.get("features").get(Ot.b).get("actions").get(Pt.g),c=i?l.get("key"):l.get("reverseKey"),d={identifier:o.get("identifier")||"com.plexapp.plugins.library",key:o.get("ratingKey")},u=V.join(c,d),p=D.a.ajax(r.getXHROptions(u));return p.then(()=>{const t={providerEntityID:n,serverEntityID:a,metadataItemEntityID:o.entityID()};!function e(t,i,n,a){const s=Object(wi.r)(t,i);if(!s)return;const r=Object(Qt.u)(s.get("type")),o=Object(pt.a)(ht.g,s.get("parentKey"),i.serverEntityID),l=Object(wi.r)(t,{metadataItemEntityID:o});let c;l&&(c=Object(Qt.u)(l.get("type")));if(c&&c.typeString===r.parent){let r;const c=Object(Qt.x)(s.get("type"));n?r=c?s.get("unviewedLeafCount"):1:(r=c?s.get("viewedLeafCount"):1,r*=-1);const d=null!=a?a:r;l.set({viewedLeafCount:l.get("viewedLeafCount")+d});const u=Object.assign({},i,{metadataItemEntityID:o});e(t,u,n,d)}}(e,t,i),function e(t,i,n){const a=Object(wi.r)(t,i);if(!a)return;if(Object(Qt.x)(a.get("type"))){a.set({viewedLeafCount:n?a.get("leafCount"):0});const s=Object(pt.a)(ht.h,a.get("childrenKey"),i.providerEntityID||i.serverEntityID),r=Object(wi.s)(t,{metadataListEntityID:s});r&&r.get("metadataItems").forEach(a=>{const s=Object.assign({},i,{metadataItemEntityID:a.entityID()});e(t,s,n)})}else a.set({viewOffset:0,viewCount:n?1:0})}(e,t,i)}),p}var xT=i("SiWM");var AT=function(e){return 10===e.userRating},LT=i("tlMz");function kT(e,t){const i=Object(wi.m)(e,{serverEntityID:t.server.entityID}),n=Object(wi.j)(e,{providerEntityID:t.provider.entityID});let a,s;t.itemServer&&(a=Object(wi.m)(e,{serverEntityID:t.itemServer.entityID})),t.itemProvider&&(s=Object(wi.j)(e,{providerEntityID:t.itemProvider.entityID}));const r=hs()(Object.assign({},t.metadataItem,t.metadataItemState));if(r.source){const{serverIdentifier:e,providerIdentifier:i}=Object(sr.a)(r.source);e===t.server.machineIdentifier&&i===t.provider.identifier&&delete r.source}const o=new ut.a(r,{server:i,provider:n,identifier:t.provider.identifier,parse:!0});null==o._populatedParams&&(o._populatedParams={});const l={includeExternalMedia:1};return r.preferences&&(l.includePreferences=1),r.extras&&(l.includeExtras=1),r.stations&&(l.includeStations=1),r.onDeck&&(l.includeOnDeck=1),r.popularLeaves&&(l.includePopularLeaves=1),r.Concert&&(l.includeConcerts=1),r.Chapter&&(l.includeChapters=1),Object.assign(o._populatedParams,l),{serverModel:i,providerModel:n,itemServerModel:a,itemProviderModel:s,metadataItemModel:o}}var RT=i("Se/U"),zT=i("LPPQ");var UT=xe.a.extend({name:"LibraryDirectoryModel",context:["server"],idAttribute:"key",rootPropertyName:"Directory",syncedAttrs:{key:Ae.a.string,title:Ae.a.string}});var VT=ke.a.extend({name:"LibraryDirectoryCollection",context:["server"],model:UT}),BT=i("2TYq"),FT=i("9gKU");var HT=xe.a.extend({name:"LibraryDetailsModel",context:["server","provider","includeAdvanced"],responseType(){return Object(rt.a)(this.server)},url(){const e={includeDetails:1};return this.includeAdvanced&&(e.includeAdvanced=1),V.join(this.get("key"),e)},sessionAttrs:{key:Ae.a.string.isRequired},syncedAttrs:{librarySectionID:Ae.a.string},syncedRelations:{directories:{relationClass:VT,rootPropertyName:"Directory"},types:{relationClass:FT.a,rootPropertyName:"Type"},fieldTypes:{relationClass:BT.a,rootPropertyName:"FieldType"}},augmentResponse(e){if(e.Directory&&e.Directory.length&&e.Directory.some(({key:e})=>"folder"===e)&&e.Type&&e.Type.length&&e.Type.every(({type:e})=>"folder"!==e)){const t=e.librarySectionID;e.Type.push({key:"/library/sections/"+t+"/folder",type:"folder",title:Object(Ze.default)("Folders")})}return e}});const _T="date";var WT=i("41GN");var QT=xe.a.extend({name:"TagModel",context:["server","section"],idAttribute:"tag",syncedAttrs:{id:Ae.a.integer,key:Ae.a.string,tag:{type:Ae.a.string,save:!0},tagType:Ae.a.integer,librarySectionID:Ae.a.string,librarySectionKey:Ae.a.string,librarySectionType:Ae.a.integer,librarySectionTitle:Ae.a.string,filter:Ae.a.string,role:Ae.a.string,thumb:Ae.a.string,count:Ae.a.integer,directory:Ae.a.boolean,type:Ae.a.string,context:Ae.a.string}});var GT=ke.a.extend({name:"TagCollection",context:["server","section"],model:QT}),KT=i("cVe3");var YT=xe.a.extend({name:"LockedFieldModel",context:["server","section"],idAttribute:"name",syncedAttrs:{name:{type:Ae.a.string,save:!0},locked:{type:Ae.a.boolean,save:!0}}});var qT=ke.a.extend({name:"LockedFieldCollection",context:["server","section"],model:YT});const ZT={Autotag:"autotags",Collection:"collections",Composer:"composers",Conductor:"conductors",Country:"countries",Director:"directors",Genre:"genres",Label:"labels",Mood:"moods",Producer:"producers",Role:"roles",Similar:"similar",Style:"styles",Tag:"tags",Writer:"writers"},JT={album:{title:"title",parentRatingKey:"artist.id",parentTitle:"artist.title"},track:{parentRatingKey:"album.id",parentTitle:"album.title",grandparentRatingKey:"artist.id",grandparentTitle:"artist.title"}};var XT=xe.a.extend({name:"MultiMetadataModel",context:["server","section"],rootPropertyName:"Common",isNew:()=>!1,url(){return V.join([this.sectionUrl(),"common"],this.getUrlParams())},saveUrl(){return V.join([this.sectionUrl(),"all"],this.getUrlParams())},sectionUrl(){return I.a.result(this.section,"url")},sessionAttrs:{metadataItems:Ae.a.array.isRequired,editableTags:Ae.a.array,originalSaveParams:Ae.a.object,poster:Ae.a.string,banner:Ae.a.string,art:Ae.a.string},syncedAttrs:{mixedFields:Ae.a.list.isRequired,key:{type:Ae.a.string,save:!0},ratingKey:{type:Ae.a.string,save:!0},parentRatingKey:{type:Ae.a.string,save:!0},grandparentRatingKey:{type:Ae.a.string,save:!0},title:{type:Ae.a.string,save:!0},titleSort:{type:Ae.a.string,save:!0},originalTitle:{type:Ae.a.string,save:!0},parentTitle:{type:Ae.a.string,save:!0},grandparentTitle:{type:Ae.a.string,save:!0},year:{type:Ae.a.string,save:!0},tagline:{type:Ae.a.string,save:!0},summary:{type:Ae.a.string,save:!0},studio:{type:Ae.a.string,save:!0},contentRating:{type:Ae.a.string,save:!0},originallyAvailableAt:{type:Ae.a.string,save:!0},rating:{type:Ae.a.float,save:!0},userRating:{type:Ae.a.float,save:!0},index:{type:Ae.a.integer,save:!0},parentIndex:{type:Ae.a.integer,save:!0}},sessionRelations:{preferences:{relationClass:KT.a}},syncedRelations:Object.keys(ZT).reduce((e,t)=>(e[ZT[t]]={relationClass:GT,rootPropertyName:t,save:!0},e),{lockedFields:{relationClass:qT,rootPropertyName:"Field",save:!0}}),derivedAttrs:{type(){const e=this.getSingleMetadataItem();if(e)return e.get("type")},aggregateTitle(){if(this.get("metadataItems").length)return lt.a.title(null,{items:this.get("metadataItems")})},isSingleMetadataItem(){return 1===this.get("metadataItems").length}},defaults:()=>({metadataItems:[],mixedFields:[]}),initialize(e,t){this.set("metadataItems",I.a.clone(t.metadataItems))},getSingleMetadataItem(){return I.a.first(this.get("metadataItems"))},getUrlParams(){const e=Object(Qt.u)(this.get("type")),t=I.a.map(this.get("metadataItems"),e=>e.get("ratingKey"));return{type:e.id,id:t.join(","),includeExternalMedia:1}},getSaveParams(){const e=xe.a.prototype.getSaveParams.apply(this,arguments),t=this.get("originalSaveParams");if(!t)return e;const i={};if(I.a.each(e,(e,n)=>{const a=t[n];I.a.isEqual(e,a)||I.a.extend(i,this.getSaveParam(n,e,a))}),i.isReparenting){delete i.isReparenting;const e=JT[this.get("type")];I.a.each(e,(e,t)=>{const n=e+".value",a=this.getQueryAttrSibling(e)+".value",s=I.a.has(i,n),r=I.a.has(i,a);if(s&&r&&n!==a&&delete i[a],!s&&!r){const e=this.get(t);e&&(i[n]=e)}})}return i},getSaveParam(e,t,i){if("Field"===e)return this.getFieldSaveParams(e,t,i);if(ZT.hasOwnProperty(e))return this.getTagSaveParams(e,t,i);const n=JT[this.get("type")];if(n&&I.a.has(n,e)){const i=n[e];return t?{isReparenting:!0,[i+".value"]:t}:void 0}return{[e+".value"]:t}},getFieldSaveParams:(e,t,i)=>t.reduce((e,t)=>(e[t.name+".locked"]=t.locked,e),{}),getTagSaveParams(e,t,i){const n=I.a.map(t,e=>e.tag),a=I.a.map(i,e=>e.tag),s=I.a.without(a,...n),r=e.toLowerCase(),o={};return n.forEach((e,t)=>{o[r+"["+t+"].tag.tag"]=e}),s.length&&(o[r+"[].tag.tag-"]=I.a.map(s,encodeURIComponent).join(",")),o},getQueryAttr(e){const t=this.get("type"),i=JT[t];return i&&i[e]||e},getQueryAttrSibling(e){const t=this.getQueryAttr(e).match(/(^.*\.)(.*$)/);return t?t[1]+("id"===t[2]?"title":"id"):e}}),$T=R.Layout.extend({events:{"click .edit-lock-addon":"onLockClick","keyup .lockable-field:not(.selectized)":"onLockableFieldChange","change .lockable-field:not(.selectized)":"onLockableFieldChange"},ui:{form:".edit-metadata-form"},serializeData:function(){var e=this.model.get("lockedFields"),t={};e&&e.each((function(e){t[e.get("name")]=e.get("locked")}));var i=this.model.toJSON(),n=this.model.get("mixedFields"),a={originallyAvailableAt:"YYYY-MM-DD",capturedTime:"YYYY-MM-DD HH:mm:ss"};return n&&n.forEach((function(e){a[e]=Object(Ze.default)("MIXED")})),{item:i,locked:t,placeholders:a,canReparent:this.canReparent,canEditSimilarArtists:this.canEditSimilarArtists,disableIndices:!this.canReparent,editableTags:{}}},flushChanges:function(){},getLockedFieldsArray:function(){var e=this.ui.form,t=this.model.get("lockedFields").reduce((function(e,t){return e[t.get("name")]=t.get("locked"),e}),{});return e.find(".edit-lock-addon").each((function(e,i){var n=D()(i),a=n.data("field");n.hasClass("locked")?t[a]=!0:a in t&&(t[a]=!1)})),I.a.map(t,(function(e,t){return{name:t,locked:e}}))},onLockClick:function(e){e.preventDefault(),D()(e.currentTarget).hasClass("disabled")||D()(e.currentTarget).toggleClass("locked")},onLockableFieldChange:function(e){var t=e instanceof D.a?e:D()(e.currentTarget);if(!e.force){var i=t.data("original-value");if(void 0===i&&(i=t.attr("value")||t.val()),t.data("original-value",i),t.val()===i)return}t.siblings(".edit-lock-addon").addClass("locked")}}),eE=i("BDy8"),tE=i.n(eE);var iE=$T.extend({template:tE.a,serializeData(){const e=this.model.get("preferences"),t=this.model.getSingleMetadataItem().get("preferences");return e.length?t.reduce((t,i)=>{const n=e.get(i.id);return n?t.push(n.toJSON()):t.push(i.toJSON()),t},[]):t.toJSON()},flushChanges(){const e=this.ui.form.serializeArray(),t=this.model.getSingleMetadataItem().get("preferences"),i=this.model.get("preferences");e.forEach(e=>{const n=i.get(e.name)||t.get(e.name),a=n.clone();a.parseAndSetValue(e.value),a.get("value")!==n.get("value")&&i.add(a,{merge:!0})})}}),nE=xe.a.extend({name:"ArtworkModel",context:["server","artworkType"],idAttribute:"ratingKey",rootPropertyName:"Photo",syncedAttrs:{key:Ae.a.string,ratingKey:Ae.a.string,thumb:Ae.a.string,selected:Ae.a.boolean}},{types:{POSTER:"poster",ART:"art",BANNER:"banner"}}),aE=ke.a.extend({name:"ArtworkCollection",context:["server","artworkType"],model:nE,url(){const e=V.parseUrl(I.a.result(this.parent,"url"));return V.join([e.pathname,this.artworkType+"s"],e.params)}}),sE=i("m7TM"),rE=i.n(sE),oE=R.Layout.extend({tagName:"span",template:rE.a,regions:{poster:".media-poster"},initialize:function(e){var t=e.artworkType,i=150;"art"===t?i=240:"banner"===t&&(i=520),this.$el.addClass(t),this.image=new Wm({className:"media-poster-image",model:this.model,modelAttribute:"thumb",placeholderClass:Rm[t],width:i,height:zm.getPosterHeight(t,i)})},bindings:{".artwork-option":{modelAttribute:"selected",manual:!0,formatter:function(e,t){t.toggleClass("selected",e)}}},onRender:function(){this.poster.show(this.image)}}),lE=Sm.extend({className:"artwork-options-list",itemView:oE}),cE=i("mJEB"),dE=i.n(cE),uE=R.Layout.extend({template:dE.a,dragStatus:0,ui:{upload:".upload-artwork-container",urlInput:"input[name=url]"},regions:{list:".artwork-list-container"},events:{dragenter:"onDragEnter",dragleave:"onDragLeave",dragover:"onDragOver",drop:"onDrop",keydown:"onKeyDown","change .artwork-file-control":"onFileChange","click .upload-url-btn":"onUploadUrlClick","click .cancel-url-btn":"onCancelUrlClick","click .submit-url-btn":"onUrlSubmit","submit #upload-form":"onUrlSubmit","click .upload-back-btn":"onUploadBackClick","click .artwork-option":"onArtworkOptionClick"},initialize:function(e){this.type=e.type,this.metadataItem=this.model.getSingleMetadataItem(),this.changes={},this.collection=new aE([],{server:this.model.server,section:this.model.section,parent:this.metadataItem,artworkType:this.type}),this.collection.fetch()},serializeData:function(){return{showUpload:this.model.server.supports("artworkUpload"),showFileUpload:z.a.hasFileUpload}},flushChanges:function(){this.model.set(this.changes)},uploadFiles:function(e){if(e&&e.length){this.changes={},this.ui.upload.removeClass("show-success show-error");var t=this.collection.url(),i=I.a.extend(this.model.server.getXHROptions(t),{type:"POST",processData:!1}),n=[],a=I.a.bind((function(e){/image\//.test(e.type)&&(i.data=e,n.push(D.a.ajax(i)))}),this);I.a.each(e,a),n.length?(this.ui.upload.addClass("show-progress"),this.monitorUpload(D.a.when.apply(D.a,n))):this.ui.upload.addClass("show-error")}},uploadUrl:function(e){this.changes={},this.ui.upload.removeClass("show-form"),this.ui.upload.addClass("show-progress"),this.ui.urlInput.val("");var t=V.join(this.collection.url(),{url:e}),i=this.model.server.getXHROptions(t,{type:"POST"});this.monitorUpload(D.a.ajax(i))},monitorUpload:function(e){e.done(I.a.bind((function(){this.isClosed||this.ui.upload.addClass("show-success");var e={server:this.model.server,onlyIfCached:!0},t=new ut.a({key:this.metadataItem.get("key")},e);I.a.isEmpty(t)||t.fetch({usePopulatedParams:!0,data:{includePreferences:"1"}}),this.collection.fetch()}),this)),e.fail(this.whenRendered((function(){this.ui.upload.addClass("show-error")}))),e.always(this.whenRendered((function(){this.ui.upload.removeClass("show-progress")})))},onRender:function(){this.list.show(new lE({collection:this.collection,itemViewOptions:{artworkType:this.type}}))},onDragEnter:function(e){this.dragStatus++,this.ui.upload.addClass("drag-hover")},onDragLeave:function(e){this.dragStatus--,0===this.dragStatus&&this.ui.upload.removeClass("drag-hover")},onDragOver:function(e){e.preventDefault()},onDrop:function(e){e.preventDefault(),e.stopPropagation(),this.dragStatus=0,this.ui.upload.removeClass("drag-hover"),this.uploadFiles(e.originalEvent.dataTransfer.files)},onKeyDown:function(e){27===e.which&&this.ui.upload.hasClass("show-form")&&(e.preventDefault(),this.ui.upload.removeClass("show-form"))},onFileChange:function(e){this.uploadFiles(e.target.files)},onUploadUrlClick:function(e){e.preventDefault(),this.ui.upload.addClass("show-form"),this.ui.urlInput.focus()},onCancelUrlClick:function(e){e.preventDefault(),this.ui.upload.removeClass("show-form")},onUrlSubmit:function(e){e.preventDefault();var t=this.ui.urlInput.val();t?this.uploadUrl(t):this.ui.upload.removeClass("show-form")},onUploadBackClick:function(e){e.preventDefault(),this.ui.upload.removeClass("show-success show-error")},onArtworkOptionClick:function(e){e.preventDefault();var t=D()(e.currentTarget),i=t.data("ratingKey");this.$(".artwork-option.selected").removeClass("selected"),t.addClass("selected"),this.changes[this.type]=i}}),pE=i("buR4"),hE=i.n(pE),mE=R.ItemView.extend({className:"player-slider",template:hE.a,dragging:!1,ui:{thumb:".player-slider-thumb",track:".player-slider-track",progress:".player-slider-progress"},events:{mousedown:"onMouseDown",touchstart:"onTouchStart"},onlyAfterRender:["displayValue"],initialize:function(e){I.a.bindAll(this,"onMouseMove","onMouseUp","onTouchMove","onTouchEnd"),this.$document=D()(document),this.currentValue=e.value||0},startDragging:function(){this.dragging=!0,this.$el.addClass("active")},stopDragging:function(){this.dragging=!1,this.$el.removeClass("active"),this.triggerMethod("dragComplete")},updateForPosition:function(e,t){var i=this.getValueForPosition(e);this.setValue(i)&&this.displayValue(i,t)},getValueForPosition:function(e){var t=this.ui.track,i=(e-t.offset().left)/t.width();return i=Math.min(Math.max(i,0),1),i=Math.round(100*i)},setValue:function(e){return this.currentValue=e,this.trigger("change:value",e),!0},displayValue:function(e,t){this.ui.thumb.css("left",e+"%"),this.ui.progress.css("width",e+"%"),this.$el.data("value",e)},onRender:function(){this.displayValue(this.currentValue)},onClose:function(){this.$document.off("mousemove",this.onMouseMove),this.$document.off("mouseup",this.onMouseUp),this.$document.off("touchmove",this.onTouchMove),this.$document.off("touchend",this.onTouchEnd)},onMouseDown:function(e){e.preventDefault(),this.$document.on("mousemove",this.onMouseMove),this.$document.on("mouseup",this.onMouseUp),this.startDragging(),this.setValue(this.getValueForPosition(e.pageX))},onTouchStart:function(e){this.$document.on("touchmove",this.onTouchMove),this.$document.on("touchend",this.onTouchEnd),this.startDragging();var t=e.originalEvent.touches[0];t&&this.updateForPosition(t.pageX)},onMouseMove:function(e){e.preventDefault(),this.updateForPosition(e.pageX)},onTouchMove:function(e){e.preventDefault();var t=e.originalEvent.touches[0];t&&this.updateForPosition(t.pageX)},onMouseUp:function(e){e.preventDefault(),this.$document.off("mousemove",this.onMouseMove),this.$document.off("mouseup",this.onMouseUp),this.updateForPosition(e.pageX),this.stopDragging()},onTouchEnd:function(e){this.$document.off("touchmove",this.onTouchMove),this.$document.off("touchend",this.onTouchEnd);var t=e.originalEvent.touches[0];t&&this.updateForPosition(t.pageX),this.stopDragging()}}),gE=i("999L"),vE=i.n(gE),yE=mE.extend({tagName:"span",className:"rating star-rating",template:vE.a,disabled:!0,modelEvents:{"change:rating":"onRatingChange","change:userRating":"onRatingChange"},events:I.a.extend({mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",mousemove:"onMouseMove"},mE.prototype.events),initialize:function(e){mE.prototype.initialize.apply(this,arguments);var t=this.model.server.get("shared")&&!this.model.server.get("multiuser");this.disabled=e.disabled||t,this.passive=e.passive,this.updateRating()},updateRating:function(){this.metadataRating=this.model.get("rating")||0,this.userRating=this.model.get("userRating"),this.setValue(this.userRating>0?this.userRating:this.metadataRating)},normalizeRating:function(e){return Math.round(e/2)},serializeData:function(){var e=this.normalizeRating(this.currentValue);return{stars:[e>0,e>1,e>2,e>3,e>4]}},getValueForPosition:function(e){var t=this.$el,i=(e-t.offset().left)/t.width();return i=Math.min(Math.max(i,0),1),i=2*Math.ceil(5*i)},persistValue:function(){var e=this.currentValue||-1;Ge.execute("rate",{item:this.model,rating:e,passive:this.passive}),this.updateRating(),this.render()},displayValue:function(e){this.$el.data("value",e);var t=this.normalizeRating(e);this.$(".star-icon").each((function(e){var i=t>e;D()(this).toggleClass("star",i).toggleClass("dislikes",!i)})),this.$el.toggleClass("unrated",!e)},onRender:function(){mE.prototype.onRender.apply(this,arguments),this.$el.toggleClass("unrated",!this.currentValue),this.$el.toggleClass("user-rating",this.userRating>0),this.$el.toggleClass("disabled",this.disabled)},onRatingChange:function(e,t){this.updateRating(),this.render()},onMouseEnter:function(e){this.disabled||(this.$el.addClass("user-rating"),this.$el.removeClass("unrated"))},onMouseLeave:function(e){this.disabled||this.render()},onMouseMove:function(e){if(!this.disabled)if(this.dragging)this.updateForPosition(e.pageX);else{var t=this.getValueForPosition(e.pageX);this.displayValue(t)}},onDragComplete:function(){this.disabled||this.persistValue()}});var fE=xe.a.extend({name:"MetadataAutocompleteResultModel",context:["server","section","multiMetadataItem","query"],idAttribute:"ratingKey",rootPropertyName:"Metadata",syncedAttrs:{elementName:Ae.a.string,ratingKey:Ae.a.string,parentRatingKey:Ae.a.string,grandparentRatingKey:Ae.a.string,type:Ae.a.string,title:Ae.a.string,parentTitle:Ae.a.string,grandparentTitle:Ae.a.string,tag:Ae.a.string,tagType:Ae.a.integer}});function bE(e,t,i){const n=/!$/.test(i),a=/\.id$/.test(i);if(n||a)return e[i]=t,e;const s=i.match(/^(.+)\.(.+)/);return s&&(e.type=Object(Qt.u)(s[1]).id,i=s[2]),e[i+".query"]=t,e}var IE=ke.a.extend({name:"MetadataAutocompleteResultCollection",context:["server","section","multiMetadataItem","query"],model:fE,url(){var e={type:Object(Qt.u)(this.multiMetadataItem.get("type")).id,limit:10};return e=I.a.reduce(this.query,bE,e),V.join([this.multiMetadataItem.sectionUrl(),"autocomplete"],e)},augmentResponseText:(e,t)=>t===ct.c?Object(dt.b)(e):e}),SE=function(e,t){var i=D()(t),n=i.attr("name"),a=n.replace(/parentTitle$/,"parentRatingKey");a===n&&(a=null);var s,r=e.model.getQueryAttr(n),o=e.model.getQueryAttrSibling(n),l=r!==n,c=l?"title":n,d=l?"ratingKey":c,u=e.model.get("type");s=l?r.match(/(^.*)\./)[1]:"title"===c?u:null;var p=i.data("scopeToAttr"),h=i.data("scopeToParam"),m=i.data("ratingKey"),g=!m;m&&(m=m.toString());var v=!l,y={};h&&e.listenTo(e,"reset_selectize:"+h,(function(){w.loadedSearches={}}));var f,b,S=e.model["original.updateValues."+n];S?(f=S.updateAttr,b=S.altUpdateAttr):(f=e.model.get(n),a&&(b=parseInt(e.model.get(a),10)),e.model["original.updateValues."+n]={updateAttr:f,altUpdateAttr:b});var C=e.model["original.general."+n];if(!C){C=[];var M={};M[c]=f,M.ratingKey=m,C=[M],e.model["original.general."+n]=C}var P=[e.model.get(a)||e.model.get(n)],O=function(){var e=w.$dropdown_content.children();w.$dropdown.toggleClass("hidden",e.length<=1)},j=function(){I.a.defer(O)};i.data("autocompleteAttr",c),i.data("updateAttr",n),a&&i.data("altUpdateAttr",a);var w=i.selectize({options:C,items:P,plugins:["restore_on_focus"],delimiter:null,create:!0,maxItems:1,labelField:c,valueField:d,sortField:c,searchField:[c],selectOnTab:!0,hideSelected:!1,highlight:!1,openOnFocus:!0,selectOnBlur:!0,createOnBlur:!0,persist:!0,addPrecedence:!0,allowEmptyOption:!0,allowCreateEmpty:v,manualInputWidth:!0,loadingClass:"",onFocus:function(){w.preloaded||(w.preloaded=!0,w.onSearchChange(w.$control_input.val()))},createFilter:function(e){return y[c]=e,!I()(this.options).findWhere(y)},load:function(t,i){if(t.length){var n={};if(n[r]=t,p){var a=e.model.get(p);if(!a)return void i();n[h]=a}new IE([],{server:e.model.server,multiMetadataItem:e.model,query:n}).fetch().done((function(e){i(e.map((function(e){return e.toJSON()}))),O()}))}else i()},render:{option:function(e,t){var i;return i=(a?e.ratingKey===String(b):e[c]===f)?'<small class="autocomplete-annotate pull-right">('+(s&&!g?Object(Ze.default)("this {1}",s):Object(Ze.default)("original value"))+")</small>":"","<div>"+t(e[c])+i+"</div>"},option_create:function(e,t){return e.input?'<div class="create">'+t(e.input)+"</div>":'<div class="create hidden"></div>'}},onDropdownClose:function(){w.$dropdown.addClass("hidden")},onDropdownOpen:function(){w.$dropdown.addClass("hidden"),j()},onType:I.a.bind((function(e){if(w.canCreate(e)){var t=D()(w.$dropdown_content[0].childNodes[0]);w.setActiveOption(t)}j(),this.onLockableFieldChange({currentTarget:w.$input,force:!0})}),e),onOptionAdd:function(e,t){var i=I.a.pick(t,c,"ratingKey");I.a.findWhere(C,i)||C.splice(C.length,0,t)},onChange:function(t){var a=this.options[t];if(a){if(l){var s=a.ratingKey===a[c];i.data("isText",s)}e.flushChanges();var d=e.model.changedAttributes();I.a.has(d,r)||I.a.has(d,o)?e.trigger("focusSubmit"):I.a.defer((function(){w.onBlur()})),e.trigger("reset_selectize:"+n),O()}}})[0].selectize;w.$dropdown.addClass("hidden")},CE=i("611r"),ME=i.n(CE),DE=i("FQAj"),PE=i.n(DE),OE=i("L6Cy"),jE=i.n(OE),wE=i("eEL/"),TE=i.n(wE),EE=i("PHkR"),NE=i.n(EE),xE=i("WQVZ"),AE=i.n(xE),LE=i("K5nX"),kE=i.n(LE),RE=i("B8UO"),zE=i.n(RE),UE=i("e/8p"),VE=i.n(UE),BE=i("HAvv"),FE=i.n(BE),HE=i("FePx"),_E=i.n(HE);function WE(e){return I.a.reduce(e,(function(e,t){return e[t]=!0,e}),{})}var QE={movie:NE.a,show:FE.a,season:VE.a,episode:TE.a,artist:PE.a,album:ME.a,track:_E.a,photoalbum:AE.a,photo:kE.a,playlist:zE.a,collection:jE.a},GE=$T.extend({regions:{ratingRegion:".rating-region"},ui:I.a.extend({selectizeInputs:".selectize input[type=text]"},$T.prototype.ui),initialize:function(e){const t=this.model.get("type"),i=Qt.u(t);this.template=QE[t]||QE[Qt.j],this.canSelectize=this.model.server.supports("batchEdit")&&i,this.canReparent=this.model.server.supports("batchEdit")},serializeData(){return Object.assign({},$T.prototype.serializeData.apply(this),{supportsLinkedYears:this.model.server.supports("linkedYearMetadata"),section:this.model.section,metadataTypeName:this.model.get("type")})},flushChanges:function(){var e=this.ui.form;if(e&&e.find){var t=e.find(".selectize input[tabindex=-1]"),i=WE(I.a.pluck(t,"name")),n=WE(I.a.pluck(e.find("[type=number]"),"name")),a=I()(e.serializeArray()).reject((function(e){return i[e.name]}),this),s=I.a.reduce(a,(function(e,t){if(n[t.name]){var i=t.value.trim();if(i)return e[t.name]=parseFloat(i,10),e;if(!this.model.get(t.name))return e}return e[t.name]=t.value,e}),{},this);I.a.each(t,(function(e){var t=D()(e),i=t.data("updateAttr"),n=t.data("altUpdateAttr"),a=t.data("isText"),r=e.selectize.getValue();if(n)if(a)s[i]=r,s[n]=null;else{var o=e.selectize.options[r];if(o){var l=o[t.data("autocompleteAttr")];s[i]=l,s[n]=r}}else s[i]=r}));var r=this.model.get("lockedFields");r&&r.set(this.getLockedFieldsArray(),{parse:!0}),this.model.set(s)}},markInvalid:function(e){this.$(".form-group").removeClass("has-error"),I()(e).each((function(e){var t=this.$('.form-group[data-attr="'+e+'"]');t.addClass("has-error"),t.find(".control-error").text(Object(Ze.default)("Required"))}),this)},onRender:function(){if(this.$(".rating-region").length>0&&this.ratingRegion.show(new yE({model:this.model,passive:!0})),this.canSelectize){var e=this;this.ui.selectizeInputs.each((function(t,i){SE(e,i)}))}}}),KE=i("0vpL"),YE=i.n(KE),qE=R.ItemView.extend({template:YE.a,tagName:"li",className:"well",serializeData:function(){return{file:this.model.get("file")}}}),ZE=i("b3Ly"),JE=i.n(ZE),XE=R.CompositeView.extend({template:JE.a,className:"files",itemView:qE,itemViewContainer:"ul",initialize:function(){this.collection=new dm,this.populateParts().always(this.whenRendered((function(){this.$(".loading").addClass("hidden")})))},populateParts:function(){var e=this.collection;function t(e){var t=e.get("Media");if(t&&t.length)return I.a.each(t,i),t}function i(e){I.a.each(e.Part,n)}function n(t){e.push(t)}var a=this.model.getSingleMetadataItem();return t(a)?D.a.Deferred().resolve():a.populate().then((function(){if(!t(a)&&a.has("childrenKey")){const e=new Gn.default({containerKey:a.get("childrenKey")},{server:a.server,provider:a.provider,skipCache:!0});return e.fetch().then((function(){e.get("metadataItems").each(t)}))}}))},flushChanges:function(){}}),$E=(i("ZDL3"),i("pxcU")),eN=function(e,t){var i=D()(t),n=i.data("name"),a=i.data("query")||i.data("name"),s=i.data("attr"),r=!!i.data("only-delete"),o=e.model.get(s).toJSON(),l=I.a.pluck(o,"tag"),c=e.model["original.tag."+n];c||(c=I.a.clone(o),e.model["original.tag."+n]=c);var d=I.a.difference(l,I.a.pluck(c,"tag"));if(d.length){var u=I.a.map(d,(function(e){return{tag:e}}));u.unshift(c.length,0),c.splice.apply(c,u)}var p=function(t){e.model["original.allTagsRequested."+n]=!0,new $E.a({filter:n,filterType:"string"},{server:e.model.server,section:e.section,type:Object(Qt.u)(e.model.get("type")).id}).get("options").populate().then(I.a.bind((function(i){e.model["original.allTagsAvailable."+n]=!0,t(i.map((function(e){return{tag:e.attributes.title}})))}),e))};i.data("original-value",i.val()),i.selectize({options:c,items:l,plugins:["remove_button"],create:!0,hideDropdown:r,labelField:"tag",valueField:"tag",sortField:"tag",searchField:["tag"],highlight:!1,createFilter:function(e){return!I()(this.options).findWhere({tag:e})},onInitialize:function(){r&&(this.$control.off("click mousedown"),this.$control.addClass("no-input"),this.$control_input.prop("disabled",!0))},onChange:function(){e.onLockableFieldChange(i)},onFocus:function(){this.onSearchChange("")},loadingClass:"",load:function(t,i){if(a!==n||t.length&&e.canAutocomplete)if(e.model["original.allTagsAvailable."+n]||0===t.length)i();else{var s={};s[a]=t;var r=new IE([],{server:e.model.server,multiMetadataItem:e.model,query:s}),o=a===n?function(e){return e.toJSON()}:function(e){return{tag:e.get(a)}};r.fetch().done((function(e){var t=e.map(o);i(t)})).fail((function(){i()}))}else e.model["original.allTagsRequested."+n]?i():p.call(e,i)},render:{item:function(e,t){return'<div class="item">'+(e.tag?t(e.tag):'<span class="autocomplete-annotate">('+Object(Ze.default)("blank")+")</span>")+"</div>"},option:function(e,t){return'<div class="item">'+(e.tag?t(e.tag):'<small class="autocomplete-annotate">('+Object(Ze.default)("blank")+")</small>")+"</div>"}}})},tN=i("NN/D"),iN=i.n(tN),nN=i("I36r"),aN=i.n(nN),sN=i("9TTh"),rN=i.n(sN),oN=i("W/xp"),lN=i.n(oN),cN=i("hrOP"),dN=i.n(cN),uN=i("ceEp"),pN=i.n(uN),hN=i("8Pq2"),mN=i.n(hN),gN=$T.extend({templatesByType:{movie:lN.a,show:pN.a,episode:rN.a,artist:aN.a,album:iN.a,track:mN.a,photo:dN.a},ui:I.a.extend({tagInputs:".tag-input-hidden"},$T.prototype.ui),events:I.a.extend({"change .lockable-field":"onLockableFieldChange"},$T.prototype.events),initialize:function(e){this.template=this.templatesByType[this.model.get("type")]||this.templatesByType.movie,this.canAutocomplete=this.model.server.supports("batchEdit"),this.canEditSimilarArtists=this.model.server.supports("editSimilarArtists"),this.getSection()},getSection:function(){var e=this.model.section;if(!e){var t=this.model.get("librarySectionID");e=new St.a({key:t},{server:this.model.server})}this.section=e},flushChanges:function(){var e=this.ui.form,t=I.a.reduce(e.serializeArray(),(function(e,t){return e[t.name]=t.value,e}),{}),i=I.a.reduce(this.ui.tagInputs,(function(e,t){var i=t.selectize,n=D()(t).data("name");return e[D()(t).data("attr")]=I.a.map(i.items,(function(e){var t=i.options[e];return{tag:t.tag,id:t.id}})),this.model["original.tag."+n]=I.a.toArray(i.options),e}),{},this);I.a.each(i,(function(e,t){this.model.get(t).set(e,{parse:!0})}),this),this.model.get("lockedFields").set(this.getLockedFieldsArray(),{parse:!0}),this.model.set(t)},serializeData(){return this.model.get("editableTags").reduce((e,t)=>(e.editableTags[t]=!0,e),$T.prototype.serializeData.apply(this,arguments))},onRender:function(){var e=this;this.ui.tagInputs.each((function(t,i){eN(e,i)}))}}),vN=i("AsNd"),yN=i.n(vN),fN=gN.extend({templatesByType:{movie:yN.a,show:yN.a,album:yN.a,photo:yN.a},serializeData:function(){var e=ne.c("appModel"),t=e.get("user"),i=gN.prototype.serializeData.apply(this,arguments);const n=t.get("features").get(wt.c);return I.a.extend(i,{showLabels:this.model.server.supports("labels"),escapedLabelsMinVersion:qi.labels,hasContentFilterFeature:n,plexPassUrl:t.server.get("plexPassUrl")}),i}}),bN=i("d0sW"),IN=i.n(bN),SN={movie:["general","tags","sharing","poster","art","info","advanced"],show:["general","tags","sharing","poster","banner","art","advanced"],season:["general","poster","art","info","advanced"],episode:["general","tags","poster","art","info","advanced"],artist:["general","tags","poster","art","advanced"],album:["general","tags","sharing","poster","art","info","advanced"],track:["general","tags","info","advanced"],photoalbum:["general","poster","art","advanced"],photo:["general","tags","info","advanced"],clip:["general","info","advanced"],collection:["general","sharing","poster","art","info","advanced"]},CN=["poster","art","banner","info","advanced"];function MN({server:e,provider:t,metadataTypeName:i,sectionKey:n}){const a=new HT({key:"/library/sections/"+n},{server:e,provider:t,includeAdvanced:!0});return a.populate().then(()=>{const e=a.get("types").findWhere({type:i});return e?e.get("fields").filter(e=>"tag"===e.get("type")).map(e=>e.get("key")):[]})}var DN=on.extend({mixins:[Gd],name:"editMetadataModal",className:"edit-metadata-modal modal modal-lg fade",template:IN.a,panes:{general:{constructor:GE},tags:{constructor:gN},poster:{constructor:uE},art:{constructor:uE},banner:{constructor:uE},sharing:{constructor:fN},info:{constructor:XE},advanced:{constructor:iE}},events:Object.assign({"click .change-pane-btn":"onChangePaneClick","click .save-btn":"onFormSubmit","submit .edit-metadata-form":"onFormSubmit"},on.prototype.events),ui:{saveBtn:".save-btn",message:".form-message",navPane:".modal-nav-pane",loadingIndicator:".modal-body-pane .loading-inline"},regions:{paneRegion:".pane-region"},onlyAfterRender:["saveChanges","showPane","showNav"],initialize:function(e){on.prototype.initialize.apply(this,arguments);const t=e.items||[this.model],i=t[0],n=i.server;this.model=new XT({},{server:n,metadataItems:t}),this.on("before:close",this.onBeforeClose),this._initCancelable=Object(bf.a)(i.fetch({usePopulatedParams:!0,data:{includePreferences:"1"}}).then(()=>{const e=Object(WT.a)(i,{onlyIfCached:!1});return this.model.setContext("section",e),this.model.populate().then(()=>e.get("key"))}).then(e=>MN({server:n,provider:i.provider,metadataTypeName:this.model.get("type"),sectionKey:e}))),this._initCancelable.promise.then(t=>{this.model.set({editableTags:t,originalSaveParams:this.model.getSaveParams()}),this.render(),this.showNav(),this.showPane(e.selectedPane||"general"),this.listenTo(U.a,"shortcut:save",this.saveChanges)},({isCanceled:e})=>{e||(this.ui.message.text(Object(Ze.default)("There was an error editing this item")),this.ui.loadingIndicator.addClass("hidden"))})},serializeData:function(){const e=this.model.get("type");let t=SN[e]||SN[Qt.j];this.model.get("isSingleMetadataItem")||(t=I.a.difference(t,CN)),this.model.getSingleMetadataItem().has("preferences")||(t=I.a.difference(t,["advanced"])),this.model.getSingleMetadataItem().get("remoteMedia")&&(t=I.a.difference(t,["info"])),e!==Qt.k||this.model.server.supports("photoTagEdit")||(t=I.a.difference(t,["tags"]));var i=Object(Ze.default)("Edit {1}",this.model.get("aggregateTitle"),{escape:!0});return{item:this.model.toJSON(),panes:Object(Hw.a)(t,e=>e,()=>!0),selectedPane:this.selectedPane,paneTitle:i}},paneConstructorArg:function(){return{type:this.selectedPane}},invalidChangedAttrs:function(e){var t=[];const i=this.model.get("type");if(i===Qt.p){var n=I.a.has(e,"artist.id.value")||I.a.has(e,"artist.title.value")||I.a.has(e,"album.id.value")||I.a.has(e,"album.title.value"),a=e["album.id.value"]||e["album.title.value"],s=e["artist.id.value"]||e["artist.title.value"];!n||s&&a||(s||t.push("grandparentTitle"),a||t.push("parentTitle"))}else if(i===Qt.a&&!this.model.get("isSingleMetadataItem")){const i=this.model.get("mixedFields"),n=I.a.has(e,"artist.title.value")||I.a.has(e,"artist.id.value"),a=I.a.includes(i,"ratingKey"),s=I.a.has(e,"title.value");a&&s&&!n&&t.push("parentTitle")}if(I.a.has(e,"originallyAvailableAt.value")){var r=e["originallyAvailableAt.value"];if(/^\d{4}$/.test(r)&&(e["originallyAvailableAt.value"]+="-01-01",r=e["originallyAvailableAt.value"]),""!==r){var o=Object(RT.a)(Object(zT.a)(r,"yyyy-MM-dd",new Date)),l=Object(RT.a)(Object(zT.a)(r,"yyyy-MM-dd HH:mm:ss",new Date));o||l||t.push("originallyAvailableAt")}else this.model.set("originallyAvailableAt",r)}return t},markInvalid:function(e){this.paneRegion.currentView.markInvalid(e)},showNav:function(){this.ui.navPane.removeClass("hidden")},saveChanges:function(){var e=this.ui.saveBtn,t=this.ui.message;if(!e.isDisabled()){t.text(""),this.paneRegion.currentView.flushChanges();var i=[],n=this.model.getSaveParams(),a=this.invalidChangedAttrs(n);if(a.length)this.markInvalid(a);else{e.addClass("active");var s=this.showAdvancedConfirmModal({saving:!0});s.done(()=>{["poster","banner","art"].forEach(e=>{var t=this.model.get(e);t&&i.push(Ge.execute("changeArtwork",{item:this.model.getSingleMetadataItem(),artworkType:e,artworkRatingKey:t}))}),i.push(this.savePreferences()),i.push(this.model.save());var n=D.a.when.apply(D.a,i);n.done(()=>{var e=ne.c("appStore").dispatch,t=this.model.server.entityID();t&&e(Object(Tn.c)({serverEntityID:t})),this.hide()}),n.fail((function(){t.text(Object(Ze.default)("Your changes could not be saved."))})),n.always((function(){e.removeClass("active")}))}),s.fail(()=>{e.removeClass("active"),this.showPane("advanced")})}}},savePreferences:function(){var e=this.model.get("preferences");if(!e.length)return D.a.Deferred().resolve().promise();var t=this.model.getSingleMetadataItem(),i=V.join(["/library/metadata",t.get("ratingKey"),"prefs"],e.getSaveParams()),n=this.model.server.getXHROptions(i,{type:"PUT"}),a=D.a.ajax(n);return a.done(()=>{var i=t.get("preferences");e.forEach((function(e){i.get(e.id).set("value",e.get("value"))}));var n=ne.c("appStore").dispatch,a=Object(gs.a)({serverIdentifier:this.model.server.get("machineIdentifier"),providerIdentifier:jt.d,metadataItemKey:t.get("key")});n(Es.actions.preferenceChanged({sourceURI:a,preferences:e.toJSON()}))}),a},showAdvancedConfirmModal:function(){if(!this.model.get("preferences").some((function(e){return/^autoDeletion/.test(e.id)})))return D.a.Deferred().resolve().promise();var e=new vn({title:Object(Ze.default)("Confirm Deletion Settings"),message:Object(Ze.default)("Deletion settings will take effect immediately! Files may be deleted and this can't be undone. Are you sure?"),confirmLabel:Object(Ze.default)("Yes"),cancelLabel:Object(Ze.default)("Cancel"),requireDoubleConfirm:!0,doubleConfirmMessage:Object(Ze.default)("Multiple files may be deleted."),doubleConfirmLabel:Object(Ze.default)("Yes, I'm sure"),hasDanger:!0});return U.a.trigger("show:modal",e),e.promise},onBeforeClose:function(e){this._initCancelable.cancel()},onPaneShow:function(e,t){this.listenTo(t,"focusSubmit",(function(){this.ui.saveBtn.focus()}))},onPaneHide:function(e,t){t.flushChanges(),this.stopListening(t)},onFormSubmit:function(e){e.preventDefault(),this.saveChanges()}}),PN=nt.extend({idAttribute:"title",whitelistedAttrs:["title","selected"],convert:function(e){var t=I.a.isObject(e)?e:Be.a.parseXML(e);return Be.a.parseBoolean(t,"selected"),t},parse:function(e,t){var i=this.convert(e);return i=I.a.pick(i,this.whitelistedAttrs)}}),ON=dm.extend({model:PN,url:"/clients/profiles?type="+na.LOCAL,parse:function(e){return this.convert(e,"Profile")}}),jN=nt.extend({name:"VersionTargetModel",whitelistedAttrs:["id","tag","tagType","MediaSettings","Device"],convert:function(e){var t=I.a.isObject(e)?e:Be.a.parseXML(e);return Be.a.parseInteger(t,"id"),t},parse:function(e,t){var i=this.convert(e);return i=I.a.pick(i,this.whitelistedAttrs)}}),wN=dm.extend({model:jN,url:"/library/tags?type="+na.LOCAL,comparator:function(e){return e.get("MediaSettings").maxVideoBitrate},parse:function(e){return this.convert(e,"Tag")}}),TN=i("NAGO"),EN=i.n(TN),NN=R.ItemView.extend({className:"modal-body",template:EN.a,events:{"click .try-again-link":"onTryAgainClick"},serializeData:function(){return{status:this.options.status}},onTryAgainClick:function(e){e.preventDefault(),this.triggerMethod("request:state","loading")}}),xN=i("9IAt"),AN=i.n(xN),LN=R.ItemView.extend({className:"convert-location-container form-group",template:AN.a,events:{"change select[name=storageLocation]":"onLocationChange"},serializeData:function(){return{disableLocation:!this.model.isNew(),selectedLocationID:this.model.get("locationID"),locations:this.model.section&&this.model.section.get("locations").toJSON()}},onLocationChange:function(e){this.model.set("locationID",parseInt(e.currentTarget.value,10))}}),kN=i("fZAC"),RN=i.n(kN),zN=R.ItemView.extend({className:"convert-target-container form-group",template:RN.a,ui:{targetTitleInput:".convert-target-title"},events:{"change select[name=target]":"onTargetChange","keydown input[name=targetTitle]":"onTitleKeyDown","change input[name=targetTitle]":"onTitleChange","change select[name=targetProfile]":"onProfileChange","change select[name=targetQuality]":"onQualityChange"},initialize:function(e){this.targets=e.targets,this.profiles=e.profiles;var t=this.model.get("Device").profile;this.selectedProfile=t?this.profiles.get(t):this.profiles.findWhere({selected:!0}),this.availableCustomQualities=ol.a.getAvailableQualities({lowestQualityIndex:2}).reverse();var i=this.model.get("mediaSettings").get("maxVideoBitrate");if(i){var n=ol.a.getNearestIndexToBitrate(i);this.selectedCustomQuality=ol.a.getQualityByIndex(n)}else this.selectedCustomQuality=I.a.first(this.availableCustomQualities);this.model.isNew()||this.model.get("targetTagID")||this.$el.addClass("show-custom-target")},serializeData:function(){return{item:this.model.toJSON(),targets:this.targets.toJSON(),disableTarget:!this.model.isNew(),profiles:this.profiles.toJSON(),selectedProfile:this.selectedProfile.toJSON(),availableCustomQualities:this.availableCustomQualities,selectedCustomQuality:this.selectedCustomQuality}},updateDeviceProfile:function(e){this.model.get("Device").profile=this.selectedProfile.get("title")},updateMediaSettings:function(e){this.model.get("mediaSettings").set({videoQuality:e.videoQuality,videoResolution:e.videoResolution,maxVideoBitrate:e.bitrate})},onTargetChange:function(e){var t=parseInt(e.currentTarget.value,10);t>-1?(this.model.unset("target"),this.model.set({targetTagID:t,Device:{}}),this.model.get("mediaSettings").restoreDefaults()):(this.model.set("target",this.ui.targetTitleInput.val()),this.model.unset("targetTagID"),this.updateDeviceProfile(this.selectedProfile),this.updateMediaSettings(this.selectedCustomQuality)),this.$el.toggleClass("show-custom-target",-1===t)},onTitleKeyDown:function(e){190===e.which&&0===e.currentTarget.selectionStart&&e.preventDefault()},onTitleChange:function(e){this.model.set("target",e.currentTarget.value)},onProfileChange:function(e){this.selectedProfile=this.profiles.findWhere({title:e.currentTarget.value}),this.updateDeviceProfile(this.selectedProfile)},onQualityChange:function(e){var t=parseInt(e.currentTarget.value,10);this.selectedCustomQuality=ol.a.getQualityByIndex(t),this.updateMediaSettings(this.selectedCustomQuality)}}),UN=i("4gIP"),VN=i.n(UN),BN=R.Layout.extend({template:VN.a,ui:{submitBtn:".submit-btn"},regions:{policyRegion:".policy-region",targetsRegion:".targets-region",locationRegion:".location-region"},events:{"change input[name=title]":"onTitleChange","submit #convert-form":"onSubmit"},initialize:function(e){if(this.playlist=e.playlist,this.targets=e.targets,this.profiles=e.profiles,this.model){this.tempModel=this.model.clone();var t=this.model.get("Location").librarySectionID;if(t){var i=new St.a({key:t},{server:this.model.server,onlyIfCached:!0});I.a.isEmpty(i)||(this.tempModel.section=i)}}else{var n,a=e.item,s=e.items,r=a.has("childrenKey")?new Gn.default({containerKey:a.get("childrenKey")},{server:a.server,provider:a.provider}):a,o=a.server;if(a.get("isSection"))n=a;else{var l=Object(WT.a)(a);I.a.isEmpty(l)||(n=l)}this.tempModel=new $o({title:lt.a.title(a,{items:s}),targetTagID:this.targets.first().id,Location:{uri:lt.a.uri(r,{items:s})}},{server:o,section:n})}},serializeData:function(){return{conversionItem:this.tempModel.toJSON(),isNew:this.tempModel.isNew(),showRemuxOnlyWarning:this.tempModel.server.get("transcoderVideoRemuxOnly")}},onRender:function(){this.policyRegion.show(new nl({model:this.tempModel,isSync:!1})),this.targetsRegion.show(new zN({model:this.tempModel,targets:this.targets,profiles:this.profiles})),this.locationRegion.show(new LN({model:this.tempModel}))},onTitleChange:function(e){this.tempModel.set("title",e.currentTarget.value)},onSubmit:function(e){e.preventDefault();var t=this.ui.submitBtn;if(!t.hasClass("active")){if(t.addClass("active"),!this.tempModel.get("targetTagID")&&!this.tempModel.get("target")){var i=this.tempModel.get("Device");this.tempModel.set("target",Object(Ze.default)("Custom: {1}",i.profile))}var n=this.playlist.addContent(this.tempModel);n.done(this.whenRendered((function(){if(this.model){var e=I.a.omit(this.tempModel.toJSON(),"children");this.model.set(this.model.parse(e))}this.trigger("request:nextState")}))),n.fail(this.whenRendered((function(e){var t=e.responseText,i=Be.a.parseXML(t),n=i&&i.status;this.trigger("request:state","error",n)})))}}}),FN=i("Ty6D"),HN=i.n(FN),_N=R.ItemView.extend({className:"modal-body loading-container",template:HN.a}),WN=i("9iqW"),QN=i.n(WN),GN=R.ItemView.extend({className:"modal-body",template:QN.a,events:{"click .status-link":"onStatusClick"},onStatusClick:function(e){e.preventDefault(),this.triggerMethod("request:nextState"),ra("conversion",{serverID:this.options.server.id})}}),KN=i("xHef"),YN=i.n(KN),qN=on.extend({mixins:[Ho],name:"convertModal",className:"convert-modal modal fade",template:YN.a,regions:{bodyRegion:".modal-body-region"},initialize:function(e){on.prototype.initialize.apply(this,arguments),this.server=this.model?this.model.server:e.item.server;var t={server:this.server,allowInCache:!0};this.playlists=new gm([],t),this.targets=new wN([],t),this.profiles=new ON([],t)},initialState:"loading",states:{loading:{nextState:"form",onEnter:function(){this.bodyRegion.show(new _N),this.listenForStateRequests();const e=this.options.item,t=e&&!e.get("isMetadataList");var i=D.a.when(t?e.populate():null,this.playlists.populate(),this.targets.populate(),this.profiles.populate(),this.server.get("sections").populate());i.done(this.whenRendered((function(){this.playlist=this.playlists.first(),this.playlist?this.enterNextState():this.enterState("error")}))),i.fail(this.whenRendered((function(){this.enterState("error")})))}},form:{nextState:"success",onEnter:function(){this.bodyRegion.show(new BN({model:this.model,item:this.options.item,items:this.options.items,playlist:this.playlist,targets:this.targets,profiles:this.profiles})),this.listenForStateRequests()}},success:{onEnter:function(){this.model?this.hide():(this.bodyRegion.show(new GN({server:this.server})),this.listenForStateRequests())}},error:{onEnter:function(e){this.bodyRegion.show(new NN({status:e})),this.listenForStateRequests()}}},listenForStateRequests:function(){this.bodyRegion&&this.bodyRegion.currentView&&this.listenTo(this.bodyRegion.currentView,{"request:state":this.enterState,"request:nextState":this.enterNextState})},onRender:function(){on.prototype.onRender.apply(this,arguments),this.enterNextState()},onStateMachineComplete:function(){this.hide()}});const ZN=Object(Pi.a)("multiSelect/redispatchLegacyMuliselectAction"),JN=Object(Pi.a)("multiSelect/selectItem"),XN=Object(Pi.a)("multiSelect/selectModels"),$N=Object(Pi.a)("multiSelect/deselectAllItems"),ex=Object(Pi.a)("multiSelect/deselectModels"),tx=Object(Pi.a)("multiSelect/deselectCollection"),ix=Object(Pi.a)("multiSelect/selectRange"),nx=Object(Pi.a)("multiSelect/deselectRange"),ax=Object(Pi.a)("multiSelect/playSelectedItems"),sx=Object(Pi.a)("multiSelect/favoriteSelectedItems"),rx=Object(Pi.a)("multiSelect/unfavoriteSelectedItems"),ox=(Object(Pi.a)("multiSelect/updateSelectedItemsPlayedStatus"),Object(Pi.a)("multiSelect/editSelectedItems")),lx=Object(Pi.a)("multiSelect/refreshSelectedItems"),cx=Object(Pi.a)("multiSelect/analyzeSelectedItems"),dx=Object(Pi.a)("multiSelect/syncMetadataItems"),ux=Object(Pi.a)("multiSelect/optimizeMetadataItems"),px=Object(Pi.a)("multiSelect/mergeSelectedItems"),hx=Object(Pi.a)("multiSelect/deleteSelectedItems"),mx=Object(Pi.a)("multiSelect/playSelectedItems",e=>{let{options:t={}}=e,i=Xe()(e,["options"]);return Object.assign({},i,{options:Object.assign({},t,{shuffle:!0})})}),gx=Object(Pi.a)("multiSelect/updateSelectedItemsPlayedStatus",e=>Object.assign({},e,{played:!0})),vx=Object(Pi.a)("multiSelect/updateSelectedItemsPlayedStatus",e=>Object.assign({},e,{played:!1})),yx=Object(Pi.a)("multiSelect/queueSelectedItems",e=>{let{options:t={}}=e,i=Xe()(e,["options"]);return Object.assign({},i,{options:Object.assign({},t,{next:!1})})}),fx=Object(Pi.a)("multiSelect/queueSelectedItems",e=>{let{options:t={}}=e,i=Xe()(e,["options"]);return Object.assign({},i,{options:Object.assign({},t,{next:!0})})});function bx(e){return e.get("ui").get("multiSelect").get("activeSelectionItems").map(e=>e.get("model").entityID())}function Ix(e){return e.map(e=>e.entityID())}const Sx={"multiSelect/redispatchLegacyMuliselectAction"(e,t,i){const n=t.items.map(t=>{const{metadataItemModel:i}=kT(e,t);return i}),a=t.legacyAction.type,s=t.legacyAction.payload;i({type:a,payload:Object.assign({},s,{items:n})})},"multiSelect/selectItem"(e,t,i){const{type:n,model:a,collection:s,isRangeSelect:r=!1}=t,o=e.get("ui").get("multiSelect"),l=o.get("activeSelectionType"),c=o.get("activeSelectionRange");if(l&&l!==n)return;if(o.listenToCollection(s),!r||!c||c.collection!==s)return o.set("activeSelectionRange",{collection:s,startModel:a}),void i(XN([{id:a.id,type:n,model:a}]));const d=c.startModel,u=c.endModel,p=s.indexOf(d),h=s.indexOf(a);if(u){const e=s.indexOf(u);i(nx({collection:s,range:{start:p,end:e}}))}o.set("activeSelectionRange",{collection:s,startModel:d,endModel:a}),i(ix({type:n,collection:s,range:{start:p,end:h}}))},"multiSelect/selectModels"(e,t){e.get("ui").get("multiSelect").get("activeSelectionItems").add(t)},"multiSelect/deselectAllItems"(e){e.get("ui").get("multiSelect").get("activeSelectionItems").reset()},"multiSelect/deselectModels"(e,t){e.get("ui").get("multiSelect").get("activeSelectionItems").remove(t)},"multiSelect/deselectCollection"(e,t,i){const n=e.get("ui").get("multiSelect"),a=n.get("activeSelectionItems"),s=[];n.stopListening(t),t.each(e=>{a.get(e.id)&&s.push(e.id)}),s.length&&i(ex(s))},"multiSelect/selectRange"(e,t,i){const{type:n,collection:a,range:s}=t,r=e.get("ui").get("multiSelect").get("activeSelectionItems"),o=[];LT.a.each(s,e=>{const t=a.at(e);t&&!r.get(t.id)&&o.push({id:t.id,type:n,model:t})}),o.length&&i(XN(o))},"multiSelect/deselectRange"(e,t,i){const{collection:n,range:a}=t,s=e.get("ui").get("multiSelect").get("activeSelectionItems"),r=[];LT.a.each(a,e=>{const t=n.at(e);t&&s.get(t.id)&&r.push(t.id)}),r.length&&i(ex(r))},"multiSelect/playSelectedItems"(e,t,i){const n=t.items?Ix(t.items):bx(e);i(Object(xT.x)(Object.assign({},t,{metadataItemEntityIDs:n})))},"multiSelect/queueSelectedItems"(e,t,i){const n=t.items?Ix(t.items):bx(e);i(Object(xT.r)(Object.assign({},t,{metadataItemEntityIDs:n})))},"multiSelect/favoriteSelectedItems"(e,t,i){const n=Object(wi.j)(e,t),a=e.get("ui").get("multiSelect").get("activeSelectionItems").pluck("model");let s=D.a.Deferred().resolve().promise();a.forEach(e=>{s=s.then(()=>TT(n,e,{rating:10}))}),s.fail(()=>{i(Object(Tn.d)(Object(Ze.default)("There was an unexpected error favoriting an item.")))})},"multiSelect/unfavoriteSelectedItems"(e,t,i){const n=Object(wi.j)(e,t),a=e.get("ui").get("multiSelect").get("activeSelectionItems").pluck("model");let s=D.a.Deferred().resolve().promise();a.forEach(e=>{s=s.then(()=>TT(n,e,{rating:-1}))}),s.fail(()=>{i(Object(Tn.d)(Object(Ze.default)("There was an unexpected error unfavoriting an item.")))})},"multiSelect/updateSelectedItemsPlayedStatus"(e,t,i){const n=e.get("ui").get("multiSelect").get("activeSelectionItems").pluck("model");let a=D.a.Deferred().resolve().promise();n.forEach(i=>{a=a.then(()=>NT(e,Object.assign({},t,{metadataItemEntityID:i.entityID()})))}),a.fail(()=>{const e=t.played?Object(Ze.default)("There was an unexpected error marking an item played."):Object(Ze.default)("There was an unexpected error marking an item unplayed.");i(Object(Tn.d)(e))}),a.always(()=>{const e={};n.forEach(t=>{const n=t.server.entityID();e[n]||(e[n]=!0,i(Object(Tn.c)({serverEntityID:n})))})})},"multiSelect/editSelectedItems"(e,t){var i;const n=e.get("ui").get("multiSelect"),a=null!=(i=t.items)?i:n.get("activeSelectionItems").pluck("model"),s=new DN({items:a});U.a.trigger("show:modal",s)},"multiSelect/refreshSelectedItems"(e,t,i){var n;const a=e.get("ui").get("multiSelect"),s=null!=(n=t.items)?n:a.get("activeSelectionItems").pluck("model");let r=D.a.Deferred().resolve().promise();s.forEach(e=>{r=r.then(()=>ET(e))}),r.fail(()=>{i(Object(Tn.d)(Object(Ze.default)("There was an unexpected error refreshing an item.")))})},"multiSelect/analyzeSelectedItems"(e,t,i){var n;const a=e.get("ui").get("multiSelect"),s=null!=(n=t.items)?n:a.get("activeSelectionItems").pluck("model");let r=D.a.Deferred().resolve().promise();s.forEach(e=>{r=r.then(()=>wT(e))}),r.fail(()=>{i(Object(Tn.d)(Object(Ze.default)("There was an unexpected error analyzing an item.")))})},"multiSelect/syncMetadataItems"(e,t){var i;const n=e.get("ui").get("multiSelect"),a=null!=(i=t.items)?i:n.get("activeSelectionItems").pluck("model");Ge.execute("showSyncModal",{item:I.a.first(a),items:a})},"multiSelect/optimizeMetadataItems"(e,t){var i;const n=e.get("ui").get("multiSelect"),a=null!=(i=t.items)?i:n.get("activeSelectionItems").pluck("model"),s=new qN({item:I.a.first(a),items:a});U.a.trigger("show:modal",s)},"multiSelect/mergeSelectedItems"(e,t){var i;const n=e.get("ui").get("multiSelect"),a=null!=(i=t.items)?i:n.get("activeSelectionItems").pluck("model"),[s,...r]=a;Ge.execute("merge",{item:s,items:r})},"multiSelect/deleteSelectedItems"(e,t,i){var n;const a=e.get("ui").get("multiSelect"),s=null!=(n=t.items)?n:a.get("activeSelectionItems").pluck("model"),r=t.options||{};Ge.execute("deleteItems",Object.assign({},r,{items:s,skipConfirmation:!0}))}};var Cx=i("FWoo");function Mx(e,{homeUserEntityID:t}){return Object(Cx.a)(e,ht.b,t)}function Dx(e,{playerIdentifier:t}){const i=e.get("user").get("desktop").get("cloudCompanions");for(const e of i.models){const i=e.get("cloudPlayers").findWhere({playerIdentifier:t});if(i)return i}return e.get("companionServer").get("desktop").get("players").findWhere({playerIdentifier:t})}const Px=Object(Pi.a)("metadata/metadataList/fetchMetadataList"),Ox=Object(Pi.a)("metadata/metadataList/populateMetadataList"),jx=Object(Pi.a)("metadata/metadataList/populateMetadataListRange"),wx=Object(Pi.a)("metadata/metadataList/repopulateMetadataListRange"),Tx=Object(Pi.a)("metadata/metadataList/syncMetadataList"),Ex=Object(Pi.a)("metadata/metadataList/optimizeMetadataList"),Nx=Object(Pi.a)("metadata/metadataList/selectMetadataListItem"),xx=Object(Pi.a)("metadata/metadataList/deselectMetadataListItem"),Ax=Object(Pi.a)("metadata/metadataList/selectMetadataListItems"),Lx=Object(Pi.a)("metadata/metadataList/deselectMetadataListItems"),kx=Object(Pi.a)("metadata/metadataList/deselectAllMetadataListItems"),Rx=Object(Pi.a)("metadata/metadataList/resetMetadataList"),zx=Object(Pi.a)("metadata/metadataList/redispatchLegacyMetadataListAction");function Ux(e,t,i={}){Object(ne.c)("metrics").trackClick(Object.assign({page:t,action:e,context:_t.LIST},i))}const Vx={"metadata/metadataList/fetchMetadataList":Object(Oi.a)({getModel:wi.g}),"metadata/metadataList/populateMetadataList":Object(ji.a)({fetchActionCreator:Px,getModel:wi.g}),"metadata/metadataList/populateMetadataListRange":OT({getModel:wi.g}),"metadata/metadataList/repopulateMetadataListRange":jT({getModel:wi.g}),"metadata/metadataList/syncMetadataList"(e,t){const i=Object(wi.g)(e,t);Ge.execute("showSyncModal",{item:i}),Ux(Rd.kb,t.metricsPage,t.metricsProperties)},"metadata/metadataList/optimizeMetadataList"(e,t){const i=Object(wi.g)(e,t),n=new qN({item:i});U.a.trigger("show:modal",n),Ux(Rd.I,t.metricsPage,t.metricsProperties)},"metadata/metadataList/selectMetadataListItem"(e,t,i){const{id:n,type:a,isRangeSelect:s}=t,r=Object(wi.g)(e,t),o=Object(wi.f)(e,{metadataItemEntityID:n}),l=r.getCollection();o&&i(JN({type:a,model:o,collection:l,isRangeSelect:s}))},"metadata/metadataList/deselectMetadataListItem"(e,t,i){const n=Object(wi.f)(e,{metadataItemEntityID:t.id});n&&i(ex([n.id]))},"metadata/metadataList/selectMetadataListItems"(e,t,i){const{ids:n,type:a}=t,s=n.reduce((t,i)=>{const n=Object(wi.r)(e,{metadataItemEntityID:i});return n&&t.push({id:n&&n.id,type:a,model:n}),t},[]);i(XN(s))},"metadata/metadataList/deselectMetadataListItems"(e,t,i){const n=t.ids.reduce((t,i)=>{const n=Object(wi.r)(e,{metadataItemEntityID:i});return n&&t.push({id:n&&n.id}),t},[]);i(ex(n))},"metadata/metadataList/deselectAllMetadataListItems"(e,t,i){const n=Object(wi.g)(e,t).getCollection();i(tx(n))},"metadata/metadataList/resetMetadataList"(e,t){const i=Object(wi.g)(e,t),n=i.get("entityKey");i.abortPendingPopulate(),i.resetPopulatePromise(null),i.restoreDefaults({entityKey:n,meta:n?i.get("meta"):void 0,containerKey:i.get("containerKey"),containerTitle:i.get("containerTitle")})},"metadata/metadataList/redispatchLegacyMetadataListAction"(e,t,i){const n=Object(wi.m)(e,{serverEntityID:t.server.entityID}),a=Object(wi.j)(e,{providerEntityID:t.provider.entityID}),s=new Gn.default({containerKey:t.containerKey},{server:n,provider:a,includeCollections:!0,includeExternalMedia:!0}),r=t.legacyAction.type,o=t.legacyAction.payload,l=(null==o?void 0:o.metricsProperties)||{};i({type:r,payload:Object.assign({},o,{serverEntityID:n.entityID(),providerEntityID:a.entityID(),metadataListEntityID:s.entityID(),metricsPage:t.metricsPage,metricsProperties:Object.assign({},l,t.metricsProperties),skipClickMetrics:!0})})}},Bx=(Object(Pi.a)("home/initAutoHomeHubContent"),Object(Pi.a)("home/buildAutoHomeHubs")),Fx=Object(Pi.a)("home/fetchAutoHomeHubs"),Hx=Object(Pi.a)("home/restoreAutoHomeHubs");function _x(e){return e.get("ui").get("autoHomePage")}function Wx(e){return e.map(e=>e.get("directoryID")).join(",")}function Qx(e){return e.reduce((e,t)=>{if(t.get("isHidden"))return e;const i=function(e){return Object(Zc.a)(e.get("machineIdentifier"),e.get("providerIdentifier"))}(t);return e.sourcesByProviderKey[i]?e.sourcesByProviderKey[i].push(t):(e.providerKeys.push(i),e.sourcesByProviderKey[i]=[t],e.identifiersByProviderKey[i]={machineIdentifier:t.get("machineIdentifier"),providerIdentifier:t.get("providerIdentifier")}),e},{providerKeys:[],sourcesByProviderKey:{},identifiersByProviderKey:{}})}function Gx(e,t,i){const{sourcesByProviderKey:n,identifiersByProviderKey:a}=i,{machineIdentifier:s,providerIdentifier:r}=a[t],o=n[t],{server:l,provider:c}=function(e,t,i){let n,a;return t===ST.a?(n=e.get("cloudServer"),a=e.get("user").get("providers").get(i)):(n=e.get("servers").get(t),n&&(a=n.get("providers").get(i))),{server:n,provider:a}}(e,s,r);if(!l||!c)return;const d=function(e,t){const i=e.get("features").get(Ot.m),n=t.toJSON(),a=bT(n.features,n.services);return i&&MT(a,i.toJSON())?i.get("key"):e.get("isLibraryProvider")?"/hubs":void 0}(c,e.get("user"));return d?new hT({hubKey:d,machineIdentifier:s,providerIdentifier:r,server:l,provider:c,hubs:mT({hubKey:d,server:l,provider:c,options:vT(e)}),contentDirectoryID:Wx(o)},{server:l,provider:c}):void 0}let Kx;const Yx={"home/initAutoHomeHubContent"(e,t,i){_x(e).set({isHubsPopulated:!0}),i(Bx(t))},"home/buildAutoHomeHubs"(e,t={},i){const n=_x(e),a=n.get("hubs");if(!n.get("isHubsPopulated"))return;const s=Qx(e.get("user").get("experienceSettings").get("sidebarSettings").get("pinnedSources")),{providerKeys:r,sourcesByProviderKey:o}=s,l=r.reduce((t,i)=>{const n=o[i],r=a.get(i);if(r){const e=Wx(n);e!==r.get("contentDirectoryID")&&r.set("contentDirectoryID",e),t.push(r)}else{const n=Gx(e,i,s);n&&t.push(n)}return t},[]);n.get("hubs").set(l),Kx&&window.clearTimeout(Kx),Kx=window.setTimeout(()=>{i(Fx())},t.debounceHubContentRefresh?5e3:0)},"home/fetchAutoHomeHubs"(e){const t=_x(e),i=t.get("hubs");if(!t.get("isHubsPopulated"))return;let n=D.a.Deferred().resolve();i.forEach(e=>{e.set({isPending:!0,isPopulated:!1}),n=n.then(()=>{let t=e.server.get("isConnected")?e.get("hubs").fetch({data:{contentDirectoryID:e.get("contentDirectoryID")}}):D.a.Deferred().reject({});return t=t.then(()=>{e.set({isPending:!1,isPopulated:!0,hubsError:null})},t=>{e.get("hubs").reset(),e.set({isPending:!1,isPopulated:!1,hubsError:Object(DT.a)(t)})}),ie(t)})})},"home/restoreAutoHomeHubs"(e){const t=_x(e);t.get("hubs").reset(),t.set({isHubsPopulated:!1})},[Tn.a](e,t,i){const n=_x(e).get("hubs"),a=Object(wi.m)(e,t);n.forEach(e=>{yT({actionCreator:wx,dispatch:i,hubs:e.get("hubs"),serverModel:a})})}};var qx=i("UCuc"),Zx=i.n(qx);const Jx={success:!0,error:!0,notify:!0};var Xx=R.ItemView.extend({className:"alert-bar",template:Zx.a,events:{"click .close-btn":"onCloseClick"},initialize:function(e){const t=e.alert;if(this.alert=t,t){const e=t.type;e&&Jx[e]&&this.$el.addClass(e)}},hide:function(){U.a.trigger("hide:bar","alertbar")},serializeData:function(){return this.alert},onCloseClick:function(e){e.preventDefault(),this.hide()}}),$x=i("pRYq"),eA=i.n($x),tA=Xx.extend({className:"user-select-alert-bar",template:eA.a}),iA=i("1Cr9");const nA=Object(iA.a)(["identifier"],[{identifier:"little_kid",title:()=>Object(Ze.default)("Younger Kid"),defaultUsername:()=>Object(Ze.default)("Kids")},{identifier:"older_kid",title:()=>Object(Ze.default)("Older Kid"),defaultUsername:()=>Object(Ze.default)("Kids")},{identifier:"teen",title:()=>Object(Ze.default)("Teen"),defaultUsername:()=>Object(Ze.default)("Kids")},{identifier:"unrestricted",title:()=>Object(Ze.default)("None"),defaultUsername:()=>""}]),aA=nA.get,sA=nA.getAll;var rA=Qm.extend({getUrl(e){if(e){const t=Vm();return V.join(e,{size:Math.round(this.width*t)})}return e}}),oA=i("BVbW"),lA=i.n(oA),cA=R.ItemView.extend({tagName:"li",className:"user-select-list-item",template:lA.a,ui:{container:".user-select-container",poster:".user-poster"},events:{"click a":"onClick"},initialize:function(e){this.disabled=e.disabled,this.posterImage=new rA({model:this.model,type:"friend",width:80});var t=ne.c("appModel").get("primaryServer");t&&t.supports("imageFilters")&&(this.backgroundImage=new rA({model:this.model,type:"friend",width:120,background:!0,filters:{blur:20,opacity:50,background:"000000"}}),this.backgroundImage.placeholderClass=!1)},serializeData:function(){return{disabled:this.disabled}},bindings:{".username":{modelAttribute:"title"},".managed-title":{modelAttribute:"restrictionProfile",autohide:!0,formatter(e){if(this.model.get("restricted")&&!this.model.get("guest"))return e?aA(e).title:Object(Ze.default)("Managed User")}},".protected-icon":{modelAttribute:"protected",autohide:!0,manual:!0},".admin-icon":{modelAttribute:"admin",autohide:!0,manual:!0}},onRender:function(){this.posterImage.setElement(this.ui.poster),this.backgroundImage&&this.backgroundImage.setElement(this.ui.container)},onClose:function(){this.posterImage.close(),this.backgroundImage&&this.backgroundImage.close()},onClick:function(e){e.preventDefault(),this.trigger("selectUser",this.model)}}),dA=i("oayy"),uA=i.n(dA),pA=R.Layout.extend({className:"user-select-modal-pin-container",template:uA.a,ui:{digitContainer:".pin-digit-container",input:".pin-input",digits:".pin-digit",loading:".loading",removeBtn:".remove-btn",saveBtn:".save-btn",pinForgotLink:".pin-forgot-link"},regions:{userList:".user-select-list"},events:{"keydown input":"onKeyDown","input input":"onInput","keyup input":"onKeyUp","focus input":"onFocus","blur input":"onBlur","change input":"onChange","animationend .pin-input-container":"onInputsAnimationEnd","webkitAnimationEnd .pin-input-container":"onInputsAnimationEnd","oAnimationEnd .pin-input-container":"onInputsAnimationEnd","click .back-btn":"onBackClick","click .remove-btn":"onRemoveClick","submit #pin-form":"onSubmit","click .pin-digit":"onPINClick","keydown .save-btn":"onSaveKeyDown"},onlyAfterRender:["confirmUser"],initialize:function(e){var t=ne.c("appModel");this.isForced=e.isForced,this.isEditing=e.isEditing,this.isEditWarning=e.isEditWarning,this.showBackButton=e.showBackButton,this.openAddManagedUser=e.openAddManagedUser,this.focusDelay=e.focusDelay,this.user=t.get("user"),this.isEditConfirmation=this.isEditing&&this.model.get("protected")&&!this.model.get("restricted")},serializeData:function(){return{isEditing:this.isEditing&&!this.isEditConfirmation,isEditWarning:this.isEditWarning,isEditConfirmation:this.isEditConfirmation,isOpeningAddManagedUser:this.openAddManagedUser,hasCurrentPIN:this.model.get("protected"),showBackButton:this.showBackButton}},focusInput:function(){this.ui.input.val(""),this.ui.input.focus()},getPIN:function(){return this.ui.input.val()},editPIN:function(e){this.ui.saveBtn.isDisabled()||(this.ui.saveBtn.addClass("disabled"),this.savePIN(e).fail(this.whenRendered((function(){this.ui.saveBtn.removeClass("disabled"),U.a.trigger("show:alert",{type:"error",message:Object(Ze.default)("This PIN could not be saved.")})}))))},removePIN:function(){this.ui.removeBtn.isDisabled()||(this.ui.removeBtn.addClass("disabled"),this.savePIN("").fail(this.whenRendered((function(){this.ui.removeBtn.removeClass("disabled"),U.a.trigger("show:alert",{type:"error",message:Object(Ze.default)("This PIN could not be removed.")})}))))},savePIN:function(e){this.ui.loading.removeClass("hidden");var t=this.model.get("restricted"),i=this.model.getSaveParams(),n={};this.currentPin&&(n.currentPin=this.currentPin),""===e&&t?n.removePin=1:n.pin=e;var a=D.a.extend(!0,{},i,n),s=V.join(this.model.pinUrl(),a),r=this.model.server.getXHROptions(s,{type:t?"POST":"PUT"}),o=D.a.ajax(r);return o.done(I.a.bind((function(){this.model.set("protected",!!e),this.model.id===this.user.id&&(e?this.user.set("pin",this.user.hashPIN(e)):this.user.unset("pin"),this.user.set("home",this.user.hasHome())),this.trigger("resolve",e)}),this)),o.always(this.whenRendered((function(){this.ui.loading.addClass("hidden")}))),o},confirmUser:function(e){this.ui.loading.removeClass("hidden");var t=Ge.execute("switchUser",{homeUser:this.model,pin:e,allowGuestLock:!this.isEditing});t.done(I.a.bind((function(){this.isEditing?(this.isEditConfirmation=!1,this.currentPin=e,this.render()):this.trigger("resolve",e,this.openAddManagedUser)}),this)),t.fail(this.whenRendered((function(){this.ui.digitContainer.addClass("shake"),this.ui.input.val(""),this.focusInput()}))),t.always(this.whenRendered((function(){this.ui.loading.addClass("hidden")})))},renderPIN:function(){var e=this.getPIN(),t=e.length,i=this.isEditing&&!this.isEditConfirmation;this.ui.digits.each((function(n,a){var s=e[n]||"";s&&!i&&(s="&bull;"),D()(a).toggleClass("current",n===t).html(s)}))},onRender:function(){this.userList.show(new cA({model:this.model,disabled:!0})),this.ui.pinForgotLink.toggleClass("hidden",this.model.get("restricted")),Td.a.mobile||window.setTimeout(I.a.bind(this.focusInput,this),this.focusDelay)},onKeyDown:function(e){var t=e.which;13!==t&&(8!==t&&46!==t&&229!==t&&(t>=48&&t<=57||t>=96&&t<=105||e.preventDefault()))},onInput:function(e){var t=D()(e.currentTarget),i=t.val(),n=i.length,a=i.charAt(i.length-1);/[0-9]/.test(a)?4===i.length&&(!this.isEditing||this.isEditConfirmation?(t.blur(),this.confirmUser(this.getPIN())):this.ui.saveBtn.focus()):t.val(i.slice(0,n-1))},onKeyUp:function(e){this.renderPIN()},onFocus:function(e){this.renderPIN()},onBlur:function(e){this.renderPIN(),this.ui.digits.removeClass("current")},onChange:function(e){this.renderPIN()},onInputsAnimationEnd:function(e){D()(e.currentTarget).removeClass("shake")},onBackClick:function(e){e.preventDefault(),this.trigger("change:pane","users")},onRemoveClick:function(e){e.preventDefault(),this.removePIN()},onSubmit:function(e){e.preventDefault();var t=this.getPIN();4===t.length?this.isEditing&&!this.isEditConfirmation?this.editPIN(t):this.confirmUser(t):U.a.trigger("show:alert",{type:"error",message:Object(Ze.default)("Please enter a 4 digit PIN.")})},onSaveKeyDown:function(e){var t=e.which;8!==t&&46!==t||(e.preventDefault(),this.ui.input.val(""),this.focusInput())},onPINClick:function(){this.focusInput()}});var hA=nt.extend({urlRoot:"/api/home/users",whitelistedAttrs:["id","uuid","admin","protected","restricted","restrictionProfile","guest","title","username","email","thumb"],convert(e){let t=I.a.isObject(e)?e:Be.a.parseXML(e);return t.User&&(t=t.User),Be.a.parseInteger(t,"id"),Be.a.parseBoolean(t,["admin","protected","restricted","guest"]),t},parse(e){let t=this.convert(e);return t=I.a.pick(t,this.whitelistedAttrs),t},getSaveParams(e,t){if(I.a.isEmpty(e)){const e={};return this.get("restricted")?e.title=this.get("title"):this.isNew()&&(e.invitedEmail=this.get("username")),e}return nt.prototype.getSaveParams.apply(this,arguments)}});var mA=dm.extend({model:hA,url:"/api/home/users",parse(e){return this.convert(e,"User")}});function gA(e){var t=e["aria-label"],i=e.className,n=e.style,a={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-add-560"};a["aria-hidden"]=!t,a.style=n,a.className=Ad.a.plexIcon+(i?" "+i:"");var s=[Nd.a.createElement.apply(Nd.a,["path",{d:"m320 320l0 200-80 0 0-200-200 0 0-80 200 0 0-200 80 0 0 200 200 0 0 80-200 0"}].concat([]))];return t&&s.unshift(Nd.a.createElement("title",null,t)),Nd.a.createElement.apply(Nd.a,["svg",a].concat(s))}gA.propTypes={"aria-label":vc.a.string,className:vc.a.string,style:vc.a.object};var vA=gA,yA=i("uEK0"),fA=i.n(yA);var bA=R.ItemView.extend({tagName:"li",className:"user-select-list-item",template:fA.a,events:{"click a":"onClick"},initialize(e){this.disabled=e.disabled},serializeData(){return{iconAdd:Bd(vA,{className:"add-icon"}),disabled:this.disabled}},onClick(e){e.preventDefault(),this.trigger("selectUser",this.model,!0)}}),IA=Sm.extend({tagName:"ul",className:"tile-list user-select-list",itemView:cA,onRender(){this.options.showAddUser&&this.addItemView(this.options.adminModel,bA,this.collection.length)}}),SA=i("4nIb"),CA=i.n(SA),MA=R.Layout.extend({className:"user-select-modal-users-container",template:CA.a,ui:{loading:".loading"},regions:{body:".modal-body"},onlyAfterRender:["onUserPopulated","onHomeUsersPopulated","onError"],initialize:function(e){var t=ne.c("appModel");this.user=t.get("user"),this.homeUsers=this.user.get("homeUsers"),this.user.server.populate().done(I.a.bind(this.onUserPopulated,this)).fail(I.a.bind(this.onError,this))},showList:function(e){this.ui.loading.addClass("hidden");const t=e.findWhere({admin:!0});this.body.show(new IA({collection:e,adminModel:t,showAddUser:!!t})),this.listenTo(this.body.currentView,"itemview:selectUser",this.onUserSelect)},selectUser:function(e,t){this.ui.loading.removeClass("hidden");var i=Ge.execute("switchUser",{homeUser:e,switchUser:!0,allowGuestLock:!0});i.done(I.a.bind((function(){this.trigger("resolve",null,t)}),this)),i.always(this.whenRendered((function(){this.ui.loading.addClass("hidden")})))},onUserPopulated:function(){this.homeUsers.fetch().done(I.a.bind(this.onHomeUsersPopulated,this)).fail(I.a.bind(this.onError,this))},onHomeUsersPopulated:function(e){this.showList(e)},onError:function(){var e=Mo.getActiveUser();if(e&&e.get("home")){var t={id:e.id,title:e.get("title"),protected:!!e.get("pin")};this.showList(new mA([t],{server:this.user.server,parent:this.user}))}else this.user.set("lockState",Do.Unlocked),this.trigger("resolve")},onUserSelect:function(e,t,i){t.get("protected")?this.trigger("change:pane","pin",{model:t,showBackButton:!0,openAddManagedUser:i,focusDelay:0}):this.selectUser(t,i)}}),DA=i("9A7T"),PA=i.n(DA),OA=on.extend({name:"userSelectModal",className:"user-select-modal modal modal-transparent fade",template:PA.a,transparent:!0,panes:{users:MA,pin:pA},regions:{content:".modal-content",alertBar:".modal-alert"},initialize:function(e){on.prototype.initialize.apply(this,arguments);var t=ne.c("appModel");this.options=e,this.isForced=e.isForced,this.user=t.get("user"),this.promise=D.a.Deferred()},showPane:function(e,t){this.currentPane&&this.stopListening(this.currentPane);var i=new(0,this.panes[e])(I.a.extend({},this.options,t));return this.listenTo(i,{"change:pane":this.onChangePane,resolve:this.onResolve,reject:this.onReject}),this.currentPane=i,this.content.show(i),i},showAlertBar:function(){const e=Ie[0];Ie.length=0,this.alertBar.show(new tA({alert:e}))},onRender:function(){on.prototype.onRender.apply(this,arguments),this.model?this.showPane("pin",{focusDelay:this.focusDelay}):this.showPane("users"),this.showAlertBar()},onHide:function(e){on.prototype.onHide.apply(this,arguments),"pending"===this.promise.state()&&this.promise.reject()},onChangePane:function(e,t){this.showPane(e,t)},onResolve:function(e,t){null==be.a.continueUrl||this.options.isEditing?(t&&(window.location="#!/settings/users-sharing?addManagedUser=1"),this.promise.resolve(e),this.hide()):window.location=be.a.continueUrl},onReject:function(){this.promise.reject(),this.hide()}});const jA=Object(Pi.a)("user/changePreferredServer"),wA=Object(Pi.a)("user/fetchAllFriends"),TA=Object(Pi.a)("user/fetchHomeUsers"),EA=Object(Pi.a)("user/populateHomeUsers"),NA=Object(Pi.a)("user/populateAllFriends"),xA=Object(Pi.a)("user/fetchPlans"),AA=(Object(Pi.a)("user/populatePlans"),Object(Pi.a)("user/updateUser")),LA=Object(Pi.a)("user/clearUpdateUserError"),kA=Object(Pi.a)("user/fetchWebhooks"),RA=Object(Pi.a)("user/addWebhook"),zA=Object(Pi.a)("user/replaceWebhook"),UA=Object(Pi.a)("user/clearUpdateWebhookError"),VA=Object(Pi.a)("user/removeWebhook"),BA=Object(Pi.a)("user/startFirstRunExperience"),FA=Object(Pi.a)("user/endFirstRunExperience"),HA=Object(Pi.a)("user/fetchHomeDetails"),_A=Object(Pi.a)("user/removeHomeUser"),WA=Object(Pi.a)("user/removeFriend"),QA=Object(Pi.a)("user/toggleGuestUser"),GA=Object(Pi.a)("user/editHomeUserPIN"),KA=Object(Pi.a)("user/fetchInvites"),YA=Object(Pi.a)("user/fetchSentInvites"),qA=Object(Pi.a)("user/acceptInvite"),ZA=Object(Pi.a)("user/rejectInvite"),JA=Object(Pi.a)("user/cancelInvite"),XA=Object(Pi.a)("user/showNewHomeWarnings"),$A=Object(Pi.a)("user/seedProviderPromotedContent"),eL=Object(Pi.a)("user/seedPreferredServerContent"),tL=Object(Pi.a)("user/addHomeHubs"),iL=Object(Pi.a)("user/removeHomeHubs"),nL=(Object(Pi.a)("user/updateHomeHubs"),Object(Pi.a)("user/reorderHomeHubs")),aL=Object(Pi.a)("user/resetHomeSettings"),sL=Object(Pi.a)("user/enableAutoHomeHubs"),rL=Object(Pi.a)("user/disableAutoHomeHubs"),oL=Object(Pi.a)("user/pinSources"),lL=Object(Pi.a)("user/unpinSources"),cL=Object(Pi.a)("user/setupSources"),dL=Object(Pi.a)("user/reorderPinnedSources"),uL=(Object(Pi.a)("user/updatePinnedSources"),Object(Pi.a)("user/dismissUpsellModal"),Object(Pi.a)("user/saveSetting"),Object(Pi.a)("user/syncSettings")),pL=Object(Pi.a)("user/syncExperienceSettings"),hL=Object(Pi.a)("user/restoreDefaultExperienceSettings"),mL=Object(Pi.a)("user/restoreCustomizationSettings"),gL=Object(Pi.a)("user/setTwoFactorEnabled"),vL=Object(Pi.a)("user/setReminder"),yL=(Object(Pi.a)("user/removeReminder"),Object(Pi.a)("user/resetReminders"));function fL(e,t){if(!e.get("isSignedIn")||!be.a.allowSyncSettings)return D.a.Deferred().resolve().promise();const i=Array.isArray(t)?t:[t],n=V.join("/api/v2/user/settings",{sharedSettings:To(e)?1:0}),a=e.server.getXHROptions(n,{type:"POST",contentType:"application/json",dataType:"json",data:JSON.stringify({value:JSON.stringify(i)})});return D.a.ajax(a).promise()}function bL(e,t){if(!e)return null;const i=e.find(e=>e.id===t);return i&&i.updatedAt}function IL(e){return e.get("user")}function SL(e){return e.get("user").get("experienceSettings").get("sidebarSettings")}function CL(e){return e.get("user").get("experienceSettings").get("homeSettings")}const ML={[Qu.a]:Qu.p[Qu.a],[Qu.c]:Qu.p[Qu.c],[Qu.f]:Qu.p[Qu.f],[Qu.g]:Qu.p[Qu.g],[Qu.h]:Qu.p[Qu.h],[Qu.d]:Qu.p[Qu.d],[Qu.b](e){Object(Ti.a)(()=>{e.get("user").set("lockState",Do.Locked)})},"user/changePreferredServer"(e,t,i){const{machineIdentifier:n}=t;CL(e).set("preferredServerID",n),$w(e,i)},"user/fetchAllFriends":Object(Oi.a)({key:"allFriends",getModel:IL}),"user/populateAllFriends":Object(ji.a)({key:"allFriends",fetchActionCreator:wA,getModel:IL}),"user/fetchHomeUsers":Object(Oi.a)({key:"homeUsers",getModel:wi.n}),"user/populateHomeUsers":Object(Oi.a)({key:"homeUsers",fetchActionCreator:TA,getModel:wi.n}),"user/fetchPlans":Object(Oi.a)({key:"plans",getModel:wi.n}),"user/populatePlans":Object(ji.a)({key:"plans",fetchActionCreator:xA,getModel:wi.n}),"user/clearUpdateUserError"(e){Object(wi.n)(e).set("updateUserError",null)},"user/updateUser"(e,t,i){const n=Object(wi.n)(e),a=e.get("user"),{avatar:s}=t,r=Xe()(t,["avatar"]);let o;if(n.set({isUpdatingUser:!0,updateUserError:null}),s)o=cT(s);else{const e=new window.FormData;I.a.each(r,(t,i)=>{e.append(i,t)});const t=a.server.getXHROptions(I.a.result(a,"url"),{type:"PUT",processData:!1,contentType:!1,data:e});o=D.a.ajax(t)}o.done(e=>{!t.avatar&&a.get("hasPassword")||a.fetch();const i=I.a.reduce(t,(e,t,i)=>(a.hasAttr(i)&&(e[i]=t),e),{});a.set(i),n.set({isUpdatingUser:!1,updateUserError:null})}).fail(e=>{const t=Se.a.parseXML(e.responseText),i=Array.isArray(t)&&t||(Array.isArray(t.error)?t.error:[t.error]),a=I.a.mapObject(I.a.groupBy(i,e=>e&&e.field?e.field:"request"),(e,t)=>I.a.flatten(e));n.set({isUpdatingUser:!1,updateUserError:a})})},"user/fetchWebhooks":Object(Oi.a)({key:"webhooks",getModel:wi.n}),"user/addWebhook"(e){const t=Object(wi.n)(e);t.get("webhooks").add({}),t.set("updateWebhooksError",null)},"user/replaceWebhook"(e,{oldUrl:t,newUrl:i}){const n=Object(wi.n)(e),a=n.get("webhooks");if(a.findWhere({url:t})){const e=a.map(e=>{const n=e.get("url");return n===t?i:n});n.set({isUpdatingWebhooks:!0,updateWebhooksError:null}),uT(a,e).always(()=>{n.set("isUpdatingWebhooks",!1)}).fail(e=>{n.set("updateWebhooksError",e[0])})}},"user/clearUpdateWebhookError"(e){Object(wi.n)(e).set("updateWebhooksError",null)},"user/removeWebhook"(e,t){const i=Object(wi.n)(e),n=i.get("webhooks");if(!t){const e=n.filter(e=>e.get("url")!==t);return void n.reset(e)}i.set({isRemovingWebhooks:!0,updateWebhooksError:null});const a=n.map(e=>e.get("url")).filter(e=>e!==t);uT(n,a).always(()=>{i.set("isRemovingWebhooks",!1)}).fail(e=>{i.set("updateWebhooksError",e[0])})},"user/startFirstRunExperience"(e,t={},i){window.setTimeout(()=>{i(Object(Kn.v)({replace:!0,pathname:"/client-setup"}))},0)},"user/endFirstRunExperience"(e,t,i){const{preferredServerEntityID:n}=t;if(n){const i=Object(wi.m)(e,{serverEntityID:n});oT(i.toJSON(),t.preferredServerInteraction)}window.setTimeout(()=>{U.a.trigger("navigate","dashboard",{replace:!0})},0)},"user/fetchHomeDetails"(e){const t=Object(wi.n)(e),i=t.get("homeDetails");t.set("isHomeDetailsPending",!0),i.fetch().then(()=>{t.set({isHomeDetailsPending:!1,isHomeDetailsPopulated:!0,homeDetailsError:null})},(e,i)=>{const n={isHomeDetailsPending:!1};404===i.status?(n.isHomeDetailsPopulated=!0,n.homeDetailsError=null):(n.isHomeDetailsPopulated=!1,n.homeDetailsError=i),t.set(n)})},"user/removeHomeUser"(e,t,i){const n=e.get("user"),a=Object(wi.n)(e),s=a.get("homeUsers"),r=n.get("homeUsers"),o=n.get("allFriends"),l=Mx(e,t),c=n.id===l.id;Object(Ti.a)(()=>{l.set("isRemoving",!0)});const d=l.server.getXHROptions(l.url(),{type:"DELETE"});D.a.ajax(d).then(()=>{const e=o.get(l.id);e?(l.get("restricted")?o.remove(e):e.set("home",!1),s.remove(l)):(s.reset([l]),l.set("admin",!0),o.each(e=>{e.set("home",!1)}));const t=!!n.get("pin")||s.length>1;if(n.set("home",t),!t){const e=a.get("homeDetails"),t=n.get("homeDetails");e.restoreDefaults(),t.restoreDefaults()}r.fetch(),l.set("isRemoving",!1)},()=>{i(Object(Tn.d)({type:"error",message:c?Object(Ze.default)("There was a problem leaving this home."):Object(Ze.default)("There was a problem removing this user.")})),l.set({isRemoving:!1})})},"user/removeFriend"(e,t,i){const n=e.get("user"),a=Object(wi.n)(e),s=a.get("homeUsers"),r=n.get("allFriends"),o=n.get("homeUsers"),l=Object(wi.a)(e,t);Object(Ti.a)(()=>{l.set("isRemoving",!0)});const c=V.join(["/api/v2/friends",l.id]),d=l.server.getXHROptions(c,{type:"DELETE"});D.a.ajax(d).then(()=>{const e=l.get("home");a.get("invites").fetch(),a.get("sentInvites").fetch(),e&&(s.fetch(),o.fetch()),l.get("serverShares").some(e=>!e.owned)&&U.a.trigger("discover:servers"),l.set({isRemoving:!1}),r.remove(l)},()=>{i(Object(Tn.d)({type:"error",message:Object(Ze.default)("There was a problem removing this friend.")})),l.set({isRemoving:!1})})},"user/toggleGuestUser"(e,t,i){const n=e.get("user"),a=Object(wi.n)(e),s=n.get("homeSize"),r=a.get("homeDetails"),o=a.get("homeUsers"),l=n.get("allFriends"),c=n.get("homeDetails"),d=n.get("homeUsers"),u=!r.get("guestEnabled");r.set("isTogglingGuestUser",!0);const p=V.join("/api/home",{guestEnabled:u?1:0}),h=u&&1===s,m=n.server.getXHROptions(p,{type:h?"POST":"PUT"});D.a.ajax(m).then(()=>{o.fetch(),l.fetch(),d.fetch(),u||2!==s?(c.set("guestEnabled",u),r.set({guestEnabled:u,isTogglingGuestUser:!1}),h&&n.set("home",!0)):(c.clear(),r.clear(),n.set("home",!1))},e=>{const t=nT(e,u?Object(Ze.default)("Unable to enable guest account"):Object(Ze.default)("Unable to disable guest account"),"status");i(Object(Tn.d)({type:"error",message:t})),r.set("isTogglingGuestUser",!1)})},"user/editHomeUserPIN"(e,t){const i=Mx(e,t),n=new OA({model:i,isEditing:!0});U.a.trigger("show:modal",n),n.promise.then(e=>{i.set("protected",!!e)})},"user/fetchInvites":Object(Oi.a)({key:"invites",getModel:wi.n}),"user/fetchSentInvites":Object(Oi.a)({key:"sentInvites",getModel:wi.n}),"user/acceptInvite"(e,t,i){const n=e.get("user"),a=Object(wi.n)(e),s=a.get("invites"),r=s.get(t.inviteID),o=a.get("homeUsers").get(n.id),l=n.get("homeUsers");r.set("isAccepting",!0);const c=o.get("protected");(r.get("home")&&!c?function(e){const t=new OA({model:e,isEditing:!0,isEditWarning:!0});return U.a.trigger("show:modal",t),ie(t.promise)}(o):D.a.Deferred().resolve().promise()).then(()=>r.save(null,{force:!0})).then(()=>{s.remove(r),l.fetch(),i(TA()),i(wA()),i(YA()),r.get("server")&&U.a.trigger("discover:servers")},e=>{r.set("isAccepting",!1),i(Object(Tn.d)({type:"error",message:Object(Ze.default)("There was a problem accepting this invite.")}))})},"user/rejectInvite"(e,t,i){const n=Object(wi.n)(e).get("invites"),a=n.get(t.inviteID);a.set("isRemoving",!0);const s=a.server.getXHROptions(a.url(),{type:"DELETE"});D.a.ajax(s).then(()=>{n.remove(a),a.get("server")&&i(wA())},()=>{a.set("isRemoving",!1),i(Object(Tn.d)({type:"error",message:Object(Ze.default)("There was a problem rejecting this invite.")}))})},"user/cancelInvite"(e,t,i){const n=Object(wi.n)(e).get("sentInvites"),a=n.get(t.inviteID);a.set("isRemoving",!0);const s=a.server.getXHROptions(a.url(),{type:"DELETE"});D.a.ajax(s).then(()=>{n.remove(a),a.get("server")&&i(wA())},()=>{a.set("isRemoving",!1),i(Object(Tn.d)({type:"error",message:Object(Ze.default)("There was a problem canceling this invite.")}))})},"user/showNewHomeWarnings"(e,t,i){const n=e.get("user"),a=Object(wi.n)(e).get("homeUsers"),s=a.get(n.id);if(s.get("protected")||a.length>1)return;const r=new OA({model:s,isEditing:!0,isEditWarning:!0});U.a.trigger("show:modal",r)},"user/seedPreferredServerContent"(e,t,i){if(!t.hubs.length)return;const n=CL(e),a=Object.assign({},t);n.get("hasCustomizations")||(a.at=0),i(tL(a)),n.set({hasSeededPreferredServerContent:!0}),$w(e,i)},"user/seedProviderPromotedContent"(e,t,i){if(!t.hubs.length)return;const n=CL(e);i(tL(t)),n.set({hasSeededProviderPromotedContent:!0}),$w(e,i)},"user/addHomeHubs"(e,t,i){const n=CL(e),{at:a,isUserInitiated:s,hubs:r}=t,o=a>=0?{at:a}:null,l=r.reduce((t,i)=>{const{directoryKey:n,entityID:a,model:s}=i,r=a?Object(wi.b)(e,{hubEntityID:a}):s;return r&&t.push(function({directoryKey:e,hubModel:t}){const i=t.get("hubIdentifier"),n=qw(i),a=n===i?e:"/hubs";return new Bc(Object.assign({},Xw(t,kc),{provider:Object.assign({},Xw(t.provider,zc)),server:Object.assign({},Xw(t.server,Rc)),hubIdentifier:n,id:Zw(t),directoryKey:a}))}({directoryKey:n,hubModel:r})),t},[]);l.length&&(s&&!n.get("hasCustomizations")&&n.set("hasCustomizations",!0),Object(C.a)("[Home] user/addHomeHubs:",t,l),n.get("hubs").add(l,o),$w(e,i))},"user/removeHomeHubs"(e,t,i){const n=CL(e),{isUserInitiated:a,hubs:s}=t,r=s.reduce((t,i)=>{const{entityID:n,homeHubID:a}=i;let s=a;if(n){const t=Object(wi.b)(e,{hubEntityID:n});s=t&&Zw(t)}return s&&t.push(s),t},[]);r.length&&(a&&!n.get("hasCustomizations")&&n.set("hasCustomizations",!0),n.get("hubs").remove(r),$w(e,i))},"user/updateHomeHubs"(e,t,i){const{homeHubIDs:n,homeHubAttrs:a}=t,s=e.get("user").get("experienceSettings").get("homeSettings").get("hubs");n.forEach(e=>{const t=s.get(e);t&&t.set(a)}),$w(e,i)},"user/reorderHomeHubs"(e,t,i){const n=CL(e),a=n.get("hubs"),{isUserInitiated:s,homeHubIDs:r}=t,o=r.map(e=>a.get(e));s&&!n.get("hasCustomizations")&&n.set("hasCustomizations",!0),n.get("hubs").reset(o),$w(e,i)},"user/resetHomeSettings"(e,t,i){const n=CL(e);n.restoreDefaults({preferredServerID:n.get("preferredServerID")}),$w(e,i)},"user/enableAutoHomeHubs"(e,t,i){e.get("user").get("experienceSettings").set("autoHomeHubsEnabled",!0),i(aL())},"user/disableAutoHomeHubs"(e,t,i){const n=e.get("ui").get("autoHomePage"),a=e.get("user").get("experienceSettings"),s=a.get("homeSettings");s.restoreDefaults({preferredServerID:s.get("preferredServerID"),hasSeededProviderPromotedContent:!1,hasSeededPreferredServerContent:!1}),a.set("autoHomeHubsEnabled",!1),n.restoreDefaults(),$w(e,i)},"user/setupSources"(e,t,i){const n=SL(e),a=n.get("pinnedSources"),{sources:s=[]}=t;n.get("hasCompletedSetup")||n.set("hasCompletedSetup",!0);const r=s.map(lT);a.reset(r),i(Object(Qu.l)({sidebarSettings:n})),r.forEach(e=>{Object(ne.c)("metrics").trackEvent({event:"client:click",interaction:!0,identifier:e.providerIdentifier,properties:{page:zd.db,action:Rd.L,type:e.sourceType,serverType:aT(e),firstRun:!0}})})},"user/pinSources"(e,t,i){const n=SL(e),a=n.get("pinnedSources"),{sources:s=[],interaction:r=!0}=t,o=s.map(lT);a.add(o),i(Bx()),i(Object(Qu.l)({sidebarSettings:n})),o.forEach(e=>{Object(ne.c)("metrics").trackEvent({event:"client:click",interaction:r,identifier:e.providerIdentifier,properties:{page:zd.ob,action:Rd.L,type:e.sourceType,serverType:aT(e),firstRun:!1}})})},"user/unpinSources"(e,t,i){const n=SL(e),a=n.get("pinnedSources"),{sources:s=[]}=t,r=s.map(e=>a.get(e.key));a.remove(r),i(Bx()),i(Object(Qu.l)({sidebarSettings:n})),s.forEach(e=>{Object(ne.c)("metrics").trackEvent({event:"client:click",interaction:!0,identifier:e.providerIdentifier,properties:{page:zd.ob,action:Rd.mb,type:e.sourceType,serverType:aT(e),firstRun:!1}})})},"user/reorderPinnedSources"(e,t,i){const n=SL(e),a=n.get("pinnedSources"),s=t.sourceKeys.map(e=>a.get(e));a.reset(s),i(Bx({debounceHubContentRefresh:!0})),i(Object(Qu.l)({sidebarSettings:n})),Object(ne.c)("metrics").trackEvent({event:"client:click",interaction:!0,properties:{page:zd.ob,action:Rd.Z}})},"user/updatePinnedSources"(e,t,i){const{sourceKeys:n,pinnedSourceAttrs:a}=t,s=SL(e),r=s.get("pinnedSources");n.forEach(e=>{const t=r.get(e);t&&t.set(a)}),i(Object(Qu.l)({sidebarSettings:s}))},"user/dismissUpsellModal"(e,t,i){const n=e.get("user").get("experienceSettings").get("dismissedUpsellModals"),{dismissedModal:a}=t;n.includes(a)||i(Object(Qu.l)({dismissedUpsellModals:[...n,a]}))},"user/saveSetting"(e,t,i){e.get("user").get("settings").get(t.id).set({value:t.value,isDirty:!0}),i(uL([t.id]))},"user/syncSettings"(e,t){const i=e.get("user"),n=i.get("settings");fL(i,t.map(e=>n.get(e).toJSON({syncedOnly:!0}))).then(e=>{t.forEach(t=>{const i=n.get(t),a=bL(e,t);a&&i.set({updatedAt:a,isDirty:!1})})})},[Qu.e](e,t,i){e.get("user").get("experienceSettings").set(Object.assign({},t,{isDirty:!0})),i(pL())},"user/syncExperienceSettings"(e){const t=e.get("user"),i=t.get("experienceSettings"),n=i.toJSON({excluded:["updatedAt"],syncedOnly:!0,excludeDefaults:!0});i.set({isSaving:!0,saveError:null}),fL(t,{id:"experience",type:"json",value:JSON.stringify(n),hidden:!0}).then(e=>{const t=bL(e,"experience"),n={isSaving:!1};t&&(n.updatedAt=t,n.isDirty=!1),i.set(n)},()=>{i.set({isSaving:!1,saveError:{message:Object(Ze.default)("An error occurred while syncing settings")}})})},"user/restoreDefaultExperienceSettings"(e,t,i){const n=e.get("user").get("experienceSettings"),a={showAdvancedSettings:n.get("showAdvancedSettings"),isDirty:!0};n.restoreDefaults(a),i(pL())},"user/restoreCustomizationSettings"(e,t,i){const n=e.get("user").get("experienceSettings");n.set("autoHomeHubsEnabled",!0),n.get("homeSettings").restoreDefaults(),n.get("sidebarSettings").restoreDefaults(),i(pL()),i(Hx())},"user/setTwoFactorEnabled"(e,{twoFactorEnabled:t},i){e.get("user").set({twoFactorEnabled:t})},"user/setReminder"(e,t,i){const n=e.get("user").get("experienceSettings"),{id:a,data:s}=t,r=n.get("reminders"),o=r.get(a),l=o?o.get("times")+1:0;r.add({data:s,id:a,times:l,remindAfter:iT(l).toISOString()},{merge:!0}),i(Object(Qu.l)())},"user/removeReminder"(e,t,i){e.get("user").get("experienceSettings").get("reminders").remove(t.id),i(Object(Qu.l)())},"user/resetReminders"(e,t,i){const n=e.get("user").get("experienceSettings").get("reminders");Object(C.a)("[User] Removing "+n.length+" reminders"),n.clear(),i(Object(Qu.l)())}};var DL=i("W+Vb"),PL=i.n(DL);const OL=Nd.a.createElement;function jL(e){let{children:t,className:i,innerClassName:n,scrollDirection:a}=e,s=Xe()(e,["children","className","innerClassName","scrollDirection"]);const r=a!==Zp;return i||(i=r?PL.a.modalScroller:PL.a.modalBody),OL(ih,tp()({className:i,scrollDirection:a,autoScroll:!0},s),r?Vu()("div",{className:n},void 0,t):t)}jL.defaultProps={innerClassName:PL.a.innerModalBody};var wL=jL,TL=i("E3/3"),EL=i.n(TL);const NL=Nd.a.createElement;function xL(e){let{className:t,children:i}=e,n=Xe()(e,["className","children"]);return NL("div",tp()({className:t},n),i)}xL.defaultProps={className:EL.a.modalFooter};var AL=xL,LL=i("LrNF"),kL=i.n(LL);const RL=Nd.a.createElement;var zL=function(e){let{children:t}=e,i=Xe()(e,["children"]);return RL("div",tp()({className:kL.a.modalHeader},i),t)};const{Component:UL}=Nd.a;class VL extends UL{constructor(...e){super(...e),this.onPress=e=>{const t=this.props,i=Xe()(t,["children"]),{metricsPage:n}=this.context;Object(ne.c)("metrics").trackClick(Object.assign({},i,{page:n}))}}shouldComponentUpdate(e,t){return Tp(this,e,t)}render(){const e=Nd.a.Children.only(this.props.children);return Nd.a.cloneElement(e,{onPress:Cb(this.onPress,e.props.onPress)})}}VL.contextTypes={metricsPage:vc.a.string.isRequired};var BL=VL,FL=i("QExs"),HL=i.n(FL);const _L=Nd.a.createElement;function WL(e){const{className:t,children:i,iconComponent:n,onModalClose:a}=e,s=Xe()(e,["className","children","iconComponent","onModalClose"]);return _L("div",tp()({className:t},s),Vu()(zp,{className:HL.a.closeButton,onPress:a},void 0,n?Vu()(n,{}):null),i)}WL.defaultProps={className:HL.a.modalContent};var QL=WL;const GL=Nd.a.createElement;function KL(e){return GL(QL,e)}KL.defaultProps=Object.assign({},KL.defaultProps,{iconComponent:NI});var YL=KL,qL=i("MUGT"),ZL=i.n(qL);var JL=function({img:e,title:t,description:i}){return Vu()("div",{className:ZL.a.feature},void 0,Vu()("div",{className:ZL.a.featurePadding},void 0,Vu()("img",{className:ZL.a.featureImage,src:e}),Vu()("div",{className:ZL.a.featureContainer},void 0,Vu()("div",{className:ZL.a.featureTitle},void 0,t),Vu()("div",{className:ZL.a.featureDescription},void 0,i))))},XL=i("wOT7"),$L=i.n(XL);const ek=Nd.a.createElement,{useCallback:tk,useEffect:ik,useState:nk}=Nd.a;var ak=Vu()(Jh,{});var sk=function(e){const{metricsProperties:t,subscribeUrl:i,infoUrl:n,plans:a,isPlansPending:s,isPlansPopulated:r,plansError:o,origin:l,allowMarketingModalContent:c,onModalClose:d}=e,u=nk(),p=u[1],h=u[0],m=nk(!1),g=m[1],v=m[0],y=tk(e=>{try{if(!e.origin.endsWith(".plex.tv"))return;const t=JSON.parse(e.data);t.frameHeight&&p(t.frameHeight)}catch(e){C.a.warn(e.message)}},[]);return ik(()=>(window.addEventListener("message",y),()=>{window.removeEventListener("message",y)}),[y]),ik(()=>{let e;return c&&null==h&&(e=window.setTimeout(()=>{g(!0)},1e3)),()=>{e&&window.clearTimeout(e)}},[c,h]),c&&!v?Vu()(YL,{style:{visibility:null==h?"hidden":"visible"},onModalClose:d},void 0,Vu()("iframe",{className:$L.a.marketingFrame,src:"https://assets.plex.tv/marketing/in-app/pp-interstitial/index.html?utm_content="+l,style:{minHeight:h}})):Vu()(YL,{onModalClose:d},void 0,Vu()(zL,{className:$L.a.header},void 0,Vu()("div",{className:$L.a.plexPassTitle},void 0,Object(Ze.default)("Plex Pass")),Object(Ze.default)("Enhance your Plex experience with exclusive premium features")),Vu()(wL,{innerClassName:$L.a.body},void 0,Vu()(JL,{img:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI0MCIgaGVpZ2h0PSI0MCIgdmlld0JveD0iMCAwIDQwIDQwIj4KICA8ZyBmaWxsPSIjQ0M3QjE5IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxMCA0KSI+CiAgICA8cGF0aCBkPSJNMTUuOTUxLDE2LjQ0NCBDMTUuODUsMTYuMTkzIDE1LjYwOCwxNi4wMjkgMTUuMzM5LDE2LjAyOCBMMTIuNjY3LDE2LjAwNSBMMTIuNjY3LDEwIEMxMi42NjcsOS42MzIgMTIuMzY4LDkuMzMzIDEyLDkuMzMzIEw4LDkuMzMzIEM3LjYzMiw5LjMzMyA3LjMzMyw5LjYzMiA3LjMzMywxMCBMNy4zMzMsMTYgTDQuNjEsMTYgQzQuMzQxLDE2IDQuMDk3LDE2LjE2MyAzLjk5NCwxNi40MTIgQzMuODksMTYuNjYxIDMuOTQ3LDE2Ljk0OCA0LjEzOCwxNy4xMzkgTDkuNDcxLDIyLjQ3MiBDOS42MDIsMjIuNjAxIDkuNzcyLDIyLjY2NyA5Ljk0MywyMi42NjcgQzEwLjExMSwyMi42NjcgMTAuMjgsMjIuNjAzIDEwLjQxMSwyMi40NzUgTDE1LjgsMTcuMTcgQzE1Ljk5MiwxNi45ODEgMTYuMDUyLDE2LjY5NSAxNS45NDksMTYuNDQ1IEwxNS45NTEsMTYuNDQ0IFogTTkuOTQ4LDIxLjA2MSBMNi4yMiwxNy4zMzMgTDgsMTcuMzMzIEM4LjM2OCwxNy4zMzMgOC42NjcsMTcuMDM0IDguNjY3LDE2LjY2NiBMOC42NjcsMTAuNjY2IEwxMS4zMzQsMTAuNjY2IEwxMS4zMzQsMTYuNjY2IEMxMS4zMzQsMTcuMDMxIDExLjYyOSwxNy4zMyAxMS45OTUsMTcuMzMzIEwxMy43MTksMTcuMzQ4IEw5Ljk0OCwyMS4wNjEgWiIvPgogICAgPHBhdGggZD0iTTE2LDcuODg4NjA5MDVlLTMxIEw0LDcuODg4NjA5MDVlLTMxIEMyLjE2Myw3Ljg4ODYwOTA1ZS0zMSAwLjY2NywxLjQ5NSAwLjY2NywzLjMzMyBMMC42NjcsMjguNjY2IEMwLjY2NywzMC41MDUgMi4xNjMsMzEuOTk5IDQsMzEuOTk5IEwxNiwzMS45OTkgQzE3LjgzNywzMS45OTkgMTkuMzMzLDMwLjUwNCAxOS4zMzMsMjguNjY2IEwxOS4zMzMsMy4zMzMgQzE5LjMzMywxLjQ5NCAxNy44MzcsLTEuNzc2MzU2ODRlLTE1IDE2LDcuODg4NjA5MDVlLTMxIFogTTIsNi42NjcgTDE4LDYuNjY3IEwxOCwyNS4zMzQgTDIsMjUuMzM0IEwyLDYuNjY3IFogTTQsMS4zMzMgTDE2LDEuMzMzIEMxNy4xMDMsMS4zMzMgMTgsMi4yMyAxOCwzLjMzMyBMMTgsNS4zMzMgTDIsNS4zMzMgTDIsMy4zMzMgQzIsMi4yMyAyLjg5NywxLjMzMyA0LDEuMzMzIFogTTE2LDMwLjY2NyBMNCwzMC42NjcgQzIuODk3LDMwLjY2NyAyLDI5Ljc3IDIsMjguNjY3IEwyLDI2LjY2NyBMMTgsMjYuNjY3IEwxOCwyOC42NjcgQzE4LDI5Ljc3IDE3LjEwMywzMC42NjcgMTYsMzAuNjY3IFoiLz4KICAgIDxwYXRoIGQ9Ik02LjY2NyA0TDEzLjMzNCA0QzEzLjcwMiA0IDE0LjAwMSAzLjcwMSAxNC4wMDEgMy4zMzMgMTQuMDAxIDIuOTY1IDEzLjcwMiAyLjY2NiAxMy4zMzQgMi42NjZMNi42NjcgMi42NjZDNi4yOTkgMi42NjYgNiAyLjk2NSA2IDMuMzMzIDYgMy43MDEgNi4yOTkgNCA2LjY2NyA0ek0xMS4zMzMgMjguNjY3QzExLjMzMyAyOS40MDMgMTAuNzM2IDMwIDEwIDMwIDkuMjY0IDMwIDguNjY3IDI5LjQwMyA4LjY2NyAyOC42NjcgOC42NjcgMjcuOTMxIDkuMjY0IDI3LjMzNCAxMCAyNy4zMzQgMTAuNzM2IDI3LjMzNCAxMS4zMzMgMjcuOTMxIDExLjMzMyAyOC42Njd6Ii8+CiAgPC9nPgo8L3N2Zz4K",title:Object(Ze.default)("Downloads"),description:Object(Ze.default)("Enjoy your media offline on Android and iOS devices")}),Vu()(JL,{img:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI0MCIgaGVpZ2h0PSI0MCIgdmlld0JveD0iMCAwIDQwIDQwIj4KICA8ZyBmaWxsPSIjQ0M3QjE5IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgzIDQpIj4KICAgIDxwYXRoIGQ9Ik0yNSwxNiBDMjAuNTg4LDE2IDE3LDE5LjU4OCAxNywyNCBDMTcsMjguNDEyIDIwLjU4OCwzMiAyNSwzMiBDMjkuNDEyLDMyIDMzLDI4LjQxMiAzMywyNCBDMzMsMTkuNTg4IDI5LjQxMiwxNiAyNSwxNiBaIE0yNSwzMC42NjcgQzIxLjMyNCwzMC42NjcgMTguMzMzLDI3LjY3NiAxOC4zMzMsMjQgQzE4LjMzMywyMC4zMjQgMjEuMzI0LDE3LjMzMyAyNSwxNy4zMzMgQzI4LjY3NiwxNy4zMzMgMzEuNjY3LDIwLjMyNCAzMS42NjcsMjQgQzMxLjY2NywyNy42NzYgMjguNjc2LDMwLjY2NyAyNSwzMC42NjcgWiIvPgogICAgPHBhdGggZD0iTTI1LDIwIEMyMi43OTUsMjAgMjEsMjEuNzk1IDIxLDI0IEMyMSwyNi4yMDUgMjIuNzk1LDI4IDI1LDI4IEMyNy4yMDUsMjggMjksMjYuMjA1IDI5LDI0IEMyOSwyMS43OTUgMjcuMjA1LDIwIDI1LDIwIFogTTI1LDI2LjY2NyBDMjMuNTI5LDI2LjY2NyAyMi4zMzMsMjUuNDcxIDIyLjMzMywyNCBDMjIuMzMzLDIyLjUyOSAyMy41MjksMjEuMzMzIDI1LDIxLjMzMyBDMjYuNDcxLDIxLjMzMyAyNy42NjcsMjIuNTI5IDI3LjY2NywyNCBDMjcuNjY3LDI1LjQ3MSAyNi40NzEsMjYuNjY3IDI1LDI2LjY2NyBaIi8+CiAgICA8cGF0aCBkPSJNMzIuMzMzIDkuMzMzTDEuNjY2IDkuMzMzQzEuMjk4IDkuMzMzLjk5OSA5LjYzMi45OTkgMTBMLjk5OSAyNi44MDFDLjk5OSAyOC4xOTcgMi4xNTggMjkuMzMzIDMuNTgzIDI5LjMzM0wxNC4zMzIgMjkuMzMzIDE0LjMzMiAyOCAzLjU4MyAyOEMyLjg5MiAyOCAyLjMzMiAyNy40NjMgMi4zMzIgMjYuODAxTDIuMzMyIDEwLjY2NiAzMS42NjUgMTAuNjY2IDMxLjY2NSAxNS45OTMgMzIuOTk4IDE1Ljk5MyAzMi45OTggMTBDMzIuOTk4IDkuNjMyIDMyLjY5OSA5LjMzMyAzMi4zMzEgOS4zMzNMMzIuMzMzIDkuMzMzek0zMSAwTDMgMEMxLjg5NyAwIDEgLjg5NyAxIDIuMDAxTDEgNy4zMzNDMSA3LjcwMSAxLjI5OSA4IDEuNjY3IDhMMzIuMzM0IDhDMzIuNzAyIDggMzMuMDAxIDcuNzAxIDMzLjAwMSA3LjMzM0wzMy4wMDEgMi4wMDFDMzMuMDAxLjg5NyAzMi4xMDQgNC40NDA4OTIxZS0xNiAzMS4wMDEgNC40NDA4OTIxZS0xNkwzMSAwek0zMS42MiAxLjc3MkwyNi43MjUgNi42NjcgMjMuMjc3IDYuNjY3IDI4LjYxIDEuMzM0IDMwLjk5OSAxLjMzNEMzMS4yODYgMS4zMzQgMzEuNTI2IDEuNTE4IDMxLjYxOSAxLjc3M0wzMS42MiAxLjc3MnpNMTIuNjExIDEuMzMzTDE2LjA1OSAxLjMzMyAxMC43MjYgNi42NjYgNy4yNzggNi42NjYgMTIuNjExIDEuMzMzek01LjM5MiA2LjY2N0wyLjYxMSA2LjY2NyA3Ljk0NCAxLjMzNCAxMC43MjUgMS4zMzQgNS4zOTIgNi42Njd6TTE3Ljk0NCAxLjMzM0wyMS4zOTIgMS4zMzMgMTYuMDU5IDYuNjY2IDEyLjYxMSA2LjY2NiAxNy45NDQgMS4zMzN6TTIzLjI3NyAxLjMzM0wyNi43MjUgMS4zMzMgMjEuMzkyIDYuNjY2IDE3Ljk0NCA2LjY2NiAyMy4yNzcgMS4zMzN6TTMgMS4zMzNMNi4wNTkgMS4zMzMgMi4zMzQgNS4wNTggMi4zMzQgMi4wMDFDMi4zMzQgMS42MzMgMi42MzMgMS4zMzMgMy4wMDEgMS4zMzNMMyAxLjMzM3pNMjguNjExIDYuNjY3TDMxLjY2NyAzLjYxMSAzMS42NjcgNi42NjcgMjguNjExIDYuNjY3eiIvPgogIDwvZz4KPC9zdmc+Cg==",title:Object(Ze.default)("Live TV & DVR"),description:Object(Ze.default)("Connect a tuner and antenna to record free OTA broadcasts")}),Vu()(JL,{img:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAiIGhlaWdodD0iNDAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CiAgPHBhdGggZD0iTTM1LjMzMyAyNi42NjdoLS42NjdWMjZhNC42NzIgNC42NzIgMCAwIDAtNC42NjctNC42NjdBNC42NzIgNC42NzIgMCAwIDAgMjUuMzMyIDI2di42NjdoLS42NjdhLjY2Ny42NjcgMCAwIDAtLjY2Ny42Njd2OGMwIC4zNjguMjk5LjY2Ny42NjcuNjY3aDEwLjY2N2EuNjY3LjY2NyAwIDAgMCAuNjY3LS42Njd2LThhLjY2Ny42NjcgMCAwIDAtLjY2Ny0uNjY3aC4wMDF6TTI2LjY2NyAyNkEzLjMzOCAzLjMzOCAwIDAgMSAzMCAyMi42NjcgMy4zMzggMy4zMzggMCAwIDEgMzMuMzMzIDI2di42NjdoLTYuNjY3VjI2aC4wMDF6bTggOC42NjdoLTkuMzMzVjI4aDkuMzMzdjYuNjY3ek0zMCAyOS4zMzNoLjAwMmMuNzM0IDAgMS4zMzMuNTk4IDEuMzMzIDEuMzMzIDAgLjQ4Ny0uMjc2Ljg5Ni0uNjY3IDEuMTI4di44NzJhLjY2Ny42NjcgMCAwIDEtMS4zMzQgMHYtLjg3MmMtLjM5MS0uMjMyLS42NjctLjY0MS0uNjY3LTEuMTI4IDAtLjczNC41OTgtMS4zMzMgMS4zMzMtMS4zMzN6bS01LjM0OS0xNi42NjZoLjAwMmMwIDMuMDI4LTEuMzIxIDUuNjkzLTMuMzE3IDcuMjQ0djMuNDIzaC0xLjMzM3YtMi42MDlhNi4zMjMgNi4zMjMgMCAwIDEtMi42ODMuNjA5IDYuMzE3IDYuMzE3IDAgMCAxLTIuNjUxLS41OTV2Mi41OTVhLjY2OS42NjkgMCAwIDEtLjQ0My42MjhsLTYuNjggMi4zODVhMy4zNCAzLjM0IDAgMCAwLTIuMjExIDMuMTM5djIuNTE1aDE1LjMzM3YxLjMzM2gtMTZhLjY2Ny42NjcgMCAwIDEtLjY2Ny0uNjY3di0zLjE4MWE0LjY3NiA0LjY3NiAwIDAgMSAzLjA5Ni00LjM5NWw2LjIzNy0yLjIyOHYtMi45MzFjLTIuMDEzLTEuNTQ2LTMuMzQ5LTQuMjIyLTMuMzQ5LTcuMjY1QzkuOTg1IDcuODg4IDEzLjI3NCA0IDE3LjMxOCA0YzQuMDQ0IDAgNy4zMzMgMy44ODggNy4zMzMgOC42Njd6bS03LjMzNC03LjMzNGwtLjAwMS4wMDFjLTIuODM1IDAtNS4yMSAyLjQxNi01LjgzNSA1LjY1MWE0LjY4IDQuNjggMCAwIDAgMS44MzUuMzQ5YzEuNzQ1IDAgMy44MTUtMS4wMzUgNC40MjgtMi4yMTVhLjY2NS42NjUgMCAwIDEgLjU3OS0uMzU5LjYyNS42MjUgMCAwIDEgLjU5Mi4zMzZjMS4xMzkgMS45OTIgMi4zMzggMi42MjQgNC4yNzUgMi4yNDlsLjAyNC0uMDAxYy0uNTEyLTMuNDE0LTIuOTU4LTYuMDExLTUuODk3LTYuMDExem0tNiA3LjMzNGMwIDQuMDQ0IDIuNjkyIDcuMzMzIDYgNy4zMzNzNi0zLjI4OSA2LTcuMzMyYTYuNTA0IDYuNTA0IDAgMCAxLTEuMTEzLjExM2MtMS41OTIgMC0yLjg0NC0uNzAyLTMuOTA3LTIuMTgxLTEuMTM5IDEuMTk2LTMuMTQ3IDIuMDY3LTQuOTggMi4wNjctLjcxNCAwLTEuMzYtLjExLTEuOTg3LS4zMjEtLjAwNC4xMDgtLjAxMy4yMTMtLjAxMy4zMjF6IiBmaWxsPSIjQ0M3QjE5IiBmaWxsLXJ1bGU9Im5vbnplcm8iLz4KPC9zdmc+Cg==",title:Object(Ze.default)("Parental Controls"),description:Object(Ze.default)("Set up managed user accounts to create custom access restrictions")}),Vu()(JL,{img:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAiIGhlaWdodD0iNDAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CiAgPHBhdGggZD0iTTkuNDk3IDcuNDM4YS42ODguNjg4IDAgMSAxLTEuMzc1IDAgLjY4OC42ODggMCAwIDEgMS4zNzUgMHptMi43NSAwYS42ODguNjg4IDAgMSAxLTEuMzc1IDAgLjY4OC42ODggMCAwIDEgMS4zNzUgMHptMi43NSAwYS42ODguNjg4IDAgMSAxLTEuMzc1IDAgLjY4OC42ODggMCAwIDEgMS4zNzUgMHptMi4wNjMgMTguNTZ2LS4wMDFhLjY4OC42ODggMCAxIDEgMCAxLjM3NUg3LjQzOEEzLjQ0IDMuNDQgMCAwIDEgNCAyMy45MzZ2LTE2LjVBMy40NCAzLjQ0IDAgMCAxIDcuNDM3IDRoMjEuOTk4YTMuNDQgMy40NCAwIDAgMSAzLjQzNyAzLjQzN3YxMWEuNjg4LjY4OCAwIDEgMS0xLjM3NiAwdi03LjU2Mkg1LjM3NHYxMy4wNjJjMCAxLjEzNy45MjQgMi4wNjIgMi4wNjIgMi4wNjJoOS42MjR6TTcuNDM1IDUuMzc3YTIuMDY0IDIuMDY0IDAgMCAwLTIuMDYzIDIuMDYyVjkuNWgyNi4xMjNWNy40MzhhMi4wNjQgMi4wNjQgMCAwIDAtMi4wNjItMi4wNjJINy40MzV6TTM2LjY1NCAzMC4xNWwuMDAyLS4wMDJhLjY4NS42ODUgMCAwIDEgLjI1Mi45MzhsLTIuMDYyIDMuNTcyYS42NzcuNjc3IDAgMCAxLS40MTcuMzIuNzAxLjcwMSAwIDAgMS0uNTIzLS4wN2wtMS4wOTItLjYzMmMtLjQxLjMtLjg1Mi41NTQtMS4zMTcuNzZ2MS4yNzRjMCAuMzgtLjMwOC42ODctLjY4OC42ODdoLTQuMTI0YS42ODguNjg4IDAgMCAxLS42ODgtLjY4N3YtMS4yNjhhNy4zMTEgNy4zMTEgMCAwIDEtMS4zMzctLjc2MmwtMS4xMDguNjM1YS42OS42OSAwIDAgMS0uOTM3LS4yNTJsLTIuMDYzLTMuNTcyYS42ODguNjg4IDAgMCAxIC4yNTItLjk0bDEuMDk0LS42MzRhNi4zMjggNi4zMjggMCAwIDEgLjAwMS0xLjUzNWwtMS4wOTQtLjYzMmEuNjg3LjY4NyAwIDAgMS0uMjUtLjk0bDIuMDYzLTMuNTcyYS42OS42OSAwIDAgMSAuOTM3LS4yNTJsMS4xMDUuNjM1Yy40MTgtLjMuODY2LS41NTUgMS4zMzYtLjc2MnYtMS4yNzRjMC0uMzguMzA4LS42ODcuNjg4LS42ODdoNC4xMjRjLjM4IDAgLjY4OC4zMDguNjg4LjY4N3YxLjI3NGMuNDY0LjIwNi45MDUuNDYgMS4zMTYuNzU5bDEuMDg5LS42MzJhLjY3OS42NzkgMCAwIDEgLjUyMy0uMDcuNjkuNjkgMCAwIDEgLjQxNy4zMmwyLjA2MyAzLjU3MmMuMTkuMzMuMDc3Ljc1LS4yNTIuOTRsLTEuMDk2LjYzNGMuMDU5LjUxLjA2IDEuMDI0IDAgMS41MzRsMS4wOTguNjM0em0tMi42NTYgMy4yMjZsMS4zNzMtMi4zNzktLjkwNy0uNTI0YS42ODcuNjg3IDAgMCAxLS4zMzEtLjcyYy4wNjItLjMzNi4wOTQtLjY3My4wOTQtMS4wMDNhNS41IDUuNSAwIDAgMC0uMDk1LTEuMDAyLjY4NS42ODUgMCAwIDEgLjMzLS43MjFsLjkwNy0uNTI0LTEuMzc0LTIuMzgtLjg5NS41MjFhLjY5LjY5IDAgMCAxLS43OTItLjA3MyA1Ljg0NyA1Ljg0NyAwIDAgMC0xLjc0LTEuMDA0LjY4Ny42ODcgMCAwIDEtLjQ0Ni0uNjQ0di0xLjA0OGgtMi43NXYxLjA0OGEuNjk2LjY5NiAwIDAgMS0uNDQ3LjY0OGMtLjY2Ni4yNDctMS4yOS42MDMtMS43NTYgMS4wMDNhLjY4Ny42ODcgMCAwIDEtLjc4OS4wNzRsLS45MTItLjUyNS0xLjM3NyAyLjM4My45MDQuNTI0Yy4yNS4xNDYuMzgzLjQzMy4zMzEuNzE5YTUuNDUyIDUuNDUyIDAgMCAwLS4wOTggMS4wMDJjMCAuMzM2LjAzMy42NzIuMDk2IDEuMDAyYS42ODcuNjg3IDAgMCAxLS4zMzMuNzJsLS45MDQuNTIzIDEuMzc2IDIuMzgzLjkxNi0uNTI1YS42ODYuNjg2IDAgMCAxIC43ODkuMDc1Yy40NjYuNCAxLjA5Ljc1NSAxLjc1NCAxLjAwMy4yNy4xLjQ0OS4zNTcuNDQ4LjY0NHYxLjA0OGgyLjc1di0xLjA0OGMwLS4yODcuMTgtLjU0NC40NS0uNjQ0YTUuNzQ0IDUuNzQ0IDAgMCAwIDEuNzM3LTEuMDA0LjY5LjY5IDAgMCAxIC43OTItLjA3M2wuODk5LjUyem0tNS4yNzItOC4wNjRhMy40NCAzLjQ0IDAgMCAxIDMuNDM3IDMuNDM3IDMuNDQgMy40NCAwIDAgMS0zLjQzNyAzLjQzNyAzLjQ0IDMuNDQgMCAwIDEtMy40MzctMy40MzcgMy40NCAzLjQ0IDAgMCAxIDMuNDM3LTMuNDM3em0wIDUuNWEyLjA2NCAyLjA2NCAwIDAgMCAyLjA2My0yLjA2MyAyLjA2NCAyLjA2NCAwIDAgMC0yLjA2My0yLjA2MiAyLjA2NCAyLjA2NCAwIDAgMC0yLjA2MiAyLjA2MmMwIDEuMTM3LjkyNSAyLjA2MiAyLjA2MiAyLjA2MnoiIGZpbGw9IiNDQzdCMTkiIGZpbGwtcnVsZT0ibm9uemVybyIvPgo8L3N2Zz4K",title:Object(Ze.default)("Webhooks"),description:Object(Ze.default)("Connect your media server to your home automation system")}),Vu()(JL,{img:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAiIGhlaWdodD0iNDAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CiAgPHBhdGggZD0iTTEyLjcwOCAxNC42NjdhNS4zNCA1LjM0IDAgMCAxLTUuMzMzLTUuMzMzIDUuMzM5IDUuMzM5IDAgMCAxIDUuMzMzLTUuMzMzIDUuMzM5IDUuMzM5IDAgMCAxIDUuMzMzIDUuMzMzIDUuMzM5IDUuMzM5IDAgMCAxLTUuMzMzIDUuMzMzem0wLTkuMzM0Yy0yLjIwNSAwLTQgMS43OTUtNCA0czEuNzk1IDQgNCA0IDQtMS43OTUgNC00LTEuNzk1LTQtNC00ek0yMC4wNDEgMTZjLjM3IDAgLjY2Ny4yOTkuNjY3LjY2NyAwIDQuNzM3LTEuNjk1IDguNDkyLTQuNjY3IDEwLjM3N3Y4LjI4OWEuNjY3LjY2NyAwIDAgMS0uNjY3LjY2N2gtNS4zMzNhLjY2Ny42NjcgMCAwIDEtLjY2Ny0uNjY3di04LjI4OWMtMi45NzItMS44ODQtNC42NjctNS42MzgtNC42NjctMTAuMzc3IDAtLjM2OC4yOTktLjY2Ny42NjctLjY2N2gxNC42Njd6bS03LjI4IDEuMzMzaC0uMTA4bC0uNTg5IDcuMDgxLjY0My42NDMuNjQzLS42NDMtLjU4OS03LjA4MXptMi4yODQgOC43NTRsLS4wMDEtLjAwMWMyLjYxMi0xLjQ4NSA0LjE2Ni00LjY1NCA0LjMxNy04Ljc1M2gtNS4yNjRsLjYwOCA3LjI3OWEuNjY4LjY2OCAwIDAgMS0uMTkzLjUyN2wtMS4zMzMgMS4zMzNhLjY2OS42NjkgMCAwIDEtLjQ3Mi4xOTUuNjU0LjY1NCAwIDAgMS0uNDY5LS4xOTZsLTEuMzMzLTEuMzMzYS42Ny42NyAwIDAgMS0uMTkzLS41MjdsLjYwNy03LjI3N0g2LjA1NWMuMTUxIDQuMSAxLjcwNSA3LjI2OCA0LjMxNiA4Ljc1My4yMDguMTE5LjMzNy4zNC4zMzcuNTh2OGg0di04YzAtLjI0LjEyOS0uNDYxLjMzNy0uNTh6TTM1LjMzMyA1LjMzM2MuMzY4IDAgLjY2Ny4yOTkuNjY3LjY2N3YxOC42NjdhLjY2Ny42NjcgMCAwIDEtLjY2Ny42NjdIMjIuNjY2YS42NjcuNjY3IDAgMCAxIDAtMS4zMzRoMTJWNi42NjdIMjEuMzMzYS42NjcuNjY3IDAgMCAxIDAtMS4zMzRoMTR6TTIzLjAxNyAyMC41NDF2LS4wMDJhLjY2Ni42NjYgMCAwIDEtLjM5Mi0uODU2bDIuNS02LjcxN2EuNjcuNjcgMCAwIDEgLjM4NS0uMzkyLjY4LjY4IDAgMCAxIC41NDguMDMxbDMuMzg5IDEuNzcyIDEuNzUyLTUuMjU3YS42NjYuNjY2IDAgMSAxIDEuMjY0LjQyM2wtMiA2YS42Ny42NyAwIDAgMS0uMzgzLjQwOC42NzQuNjc0IDAgMCAxLS41NTctLjAyOGwtMy40MTMtMS43ODUtMi4yMzYgNi4wMTFhLjY2OS42NjkgMCAwIDEtLjg1Ny4zOTJ6IiBmaWxsPSIjQ0M3QjE5IiBmaWxsLXJ1bGU9Im5vbnplcm8iLz4KPC9zdmc+Cg==",title:Object(Ze.default)("Server Dashboard"),description:Object(Ze.default)("See the play history, bandwidth, and top users on your media server")}),Vu()(JL,{img:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI0MCIgaGVpZ2h0PSI0MCIgdmlld0JveD0iMCAwIDQwIDQwIj4KICA8ZyBmaWxsPSIjQ0M3QjE5IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSg0IDQpIj4KICAgIDxwYXRoIGQ9Ik0xMi41MzIgMTUuMjcyQzExLjIzMiAxNi41NzIgMTEuMjMyIDE4LjY4OCAxMi41MzIgMTkuOTg3IDEzLjE2MyAyMC42MTYgMTMuOTk5IDIwLjk2MiAxNC44ODkgMjAuOTYyIDE1Ljc3OSAyMC45NjIgMTYuNjE2IDIwLjYxNSAxNy4yNDYgMTkuOTg3IDE4LjU0NiAxOC42ODcgMTguNTQ2IDE2LjU3MSAxNy4yNDYgMTUuMjcyIDE1Ljk4NSAxNC4wMTUgMTMuNzkzIDE0LjAxNSAxMi41MzEgMTUuMjcyTDEyLjUzMiAxNS4yNzJ6TTE2LjMwNCAxOS4wNDRDMTUuNTQ5IDE5Ljc5OSAxNC4yMzEgMTkuNzk5IDEzLjQ3NiAxOS4wNDQgMTIuNjk2IDE4LjI2NCAxMi42OTYgMTYuOTk1IDEzLjQ3NiAxNi4yMTUgMTMuODUzIDE1LjgzOCAxNC4zNTYgMTUuNjMxIDE0Ljg5MSAxNS42MzEgMTUuNDI2IDE1LjYzMSAxNS45MjcgMTUuODM4IDE2LjMwNiAxNi4yMTUgMTcuMDgzIDE2Ljk5NSAxNy4wODMgMTguMjY0IDE2LjMwNSAxOS4wNDRMMTYuMzA0IDE5LjA0NHpNNS45MzIgMjIuODE1QzUuNjcyIDIyLjU1NSA1LjI0OSAyMi41NTUgNC45ODkgMjIuODE1IDQuNzI5IDIzLjA3NSA0LjcyOSAyMy40OTggNC45ODkgMjMuNzU4TDguNzYgMjcuNTI5QzguODkxIDI3LjY2IDkuMDYxIDI3LjcyNCA5LjIzMiAyNy43MjQgOS40MDMgMjcuNzI0IDkuNTczIDI3LjY1OSA5LjcwNCAyNy41MjkgOS45NjQgMjcuMjY5IDkuOTY0IDI2Ljg0NiA5LjcwNCAyNi41ODZMNS45MzIgMjIuODE1eiIvPgogICAgPHBhdGggZD0iTTMxLjQ2MSw1LjMzMyBMMzIuMzIyLDQuNDcyIEMzMi41ODIsNC4yMTIgMzIuNTgyLDMuNzg5IDMyLjMyMiwzLjUyOSBMMjguOTg5LDAuMTk2IEMyOC43MjksLTAuMDY0IDI4LjMwNiwtMC4wNjQgMjguMDQ2LDAuMTk2IEwyNy4xODUsMS4wNTcgTDI2LjMyNCwwLjE5NiBDMjYuMDY0LC0wLjA2NCAyNS42NDEsLTAuMDY0IDI1LjM4MSwwLjE5NiBDMjUuMTIxLDAuNDU2IDI1LjEyMSwwLjg3OSAyNS4zODEsMS4xMzkgTDI2LjI0MiwyIEwyNS4xODUsMy4wNTcgTDI0LjMyNCwyLjE5NiBDMjQuMDY0LDEuOTM2IDIzLjY0MSwxLjkzNiAyMy4zODEsMi4xOTYgQzIzLjEyMSwyLjQ1NiAyMy4xMjEsMi44NzkgMjMuMzgxLDMuMTM5IEwyNC4yNDIsNCBMMjIuNzE0LDUuNTI4IEMyMi40NTQsNS43ODggMjIuNDU0LDYuMjExIDIyLjcxNCw2LjQ3MSBMMjIuOTA5LDYuNjY3IEwxOC40MjgsMTEuMTQ4IEMxNy4zMDQsMTAuNDc1IDE2LjA4OCwxMC4xMjEgMTQuODgsMTAuMTIxIEMxMi4xMDUsMTAuMTIxIDkuOTAzLDExLjkxMiA5LjMwNywxNC41NTQgQzUuNjk0LDE0LjAxIDIuODAyLDE1LjQ5MyAxLjU3NiwxOC40NDkgQzAuMjUzLDIxLjY0MiAxLjI0NywyNS42NjkgNC4wNDgsMjguNDcgQzUuOTg1LDMwLjQwNyA4LjU0LDMxLjUxOCAxMS4wNTcsMzEuNTE4IEMxMy4zMjUsMzEuNTE4IDE1LjM1NCwzMC42MTcgMTYuNjI1LDI5LjA0NiBDMTcuNSwyNy45NjMgMTguNDAyLDI2LjA5NSAxNy45NjIsMjMuMjA5IEMxOS43MTgsMjIuODA4IDIxLjE1NSwyMS42NjggMjEuODgzLDIwLjA2NCBDMjIuNzIsMTguMjE5IDIyLjUyMywxNi4wMjMgMjEuMzcsMTQuMDkyIEwyNS44NTEsOS42MTEgTDI2LjA0Niw5LjgwNiBDMjYuMzA2LDEwLjA2NiAyNi43MjksMTAuMDY2IDI2Ljk4OSw5LjgwNiBMMjguNTE3LDguMjc4IEwyOS4zNzgsOS4xMzkgQzI5LjUxLDkuMjY4IDI5LjY4MSw5LjMzNCAyOS44NTEsOS4zMzQgQzMwLjAyMSw5LjMzNCAzMC4xOTIsOS4yNjkgMzAuMzIzLDkuMTM5IEMzMC41ODMsOC44NzkgMzAuNTgzLDguNDU2IDMwLjMyMyw4LjE5NiBMMjkuNDYsNy4zMzMgTDMwLjUxNyw2LjI3NiBMMzEuMzc4LDcuMTM3IEMzMS41MDksNy4yNjggMzEuNjc5LDcuMzMzIDMxLjg1LDcuMzMzIEMzMi4wMjEsNy4zMzMgMzIuMTkxLDcuMjY4IDMyLjMyMiw3LjEzOCBDMzIuNTgyLDYuODc4IDMyLjU4Miw2LjQ1NSAzMi4zMjIsNi4xOTUgTDMxLjQ1OSw1LjMzMiBMMzEuNDYxLDUuMzMzIFogTTI2LjUxOSw4LjM5MSBMMjYuMzI0LDguMTk2IEMyNi4wNjQsNy45MzYgMjUuNjQxLDcuOTM2IDI1LjM4MSw4LjE5NiBMMjAuMDQ4LDEzLjUyOSBDMTkuODIsMTMuNzU3IDE5Ljc4OCwxNC4xMTYgMTkuOTcyLDE0LjM4MSBDMjEuMTE5LDE2LjAyOSAyMS4zOCwxNy45NDkgMjAuNjY5LDE5LjUxNCBDMjAuMDMzLDIwLjkxNyAxOC43MzYsMjEuODIzIDE3LjExLDIyLjAwNSBDMTYuOTIzLDIyLjAyNiAxNi43NTMsMjIuMTI1IDE2LjY0MywyMi4yNzggQzE2LjUzMiwyMi40MyAxNi40OTIsMjIuNjIzIDE2LjUzMiwyMi44MDYgQzE3LjAwMSwyNC45OTQgMTYuNjczLDI2Ljg2MiAxNS41ODcsMjguMjA5IEMxNC41NzEsMjkuNDY2IDEyLjkyLDMwLjE4NiAxMS4wNTYsMzAuMTg2IEM4Ljg4OSwzMC4xODYgNi42NzcsMjkuMjE3IDQuOTg5LDI3LjUyOSBDMi41NjUsMjUuMTA1IDEuNjg4LDIxLjY2MiAyLjgwNiwxOC45NjEgQzMuNjQ1LDE2LjkzNiA1LjQ4MiwxNS43NzYgNy44NDYsMTUuNzc2IEM4LjQzNSwxNS43NzYgOS4wNjMsMTUuODQ3IDkuNzEsMTUuOTg1IEM5Ljg5NCwxNi4wMiAxMC4wODcsMTUuOTg1IDEwLjIzOSwxNS44NzMgQzEwLjM5MSwxNS43NjQgMTAuNDkxLDE1LjU5NCAxMC41MTIsMTUuNDA2IEMxMC43NzEsMTMuMDgxIDEyLjU2NSwxMS40NTUgMTQuODc3LDExLjQ1NSBDMTUuOTgyLDExLjQ1NSAxNy4xMDgsMTEuODMyIDE4LjEzNCwxMi41NDYgQzE4LjM5OCwxMi43MzEgMTguNzU3LDEyLjY5OCAxOC45ODYsMTIuNDcgTDI0LjMxOSw3LjEzNyBDMjQuNTc5LDYuODc3IDI0LjU3OSw2LjQ1NCAyNC4zMTksNi4xOTQgTDI0LjEyNCw1Ljk5OSBMMjguNTE1LDEuNjA4IEwzMC45MDYsMy45OTkgTDI2LjUxNSw4LjM5IEwyNi41MTksOC4zOTEgWiIvPgogIDwvZz4KPC9zdmc+Cg==",title:Object(Ze.default)("Premium Music Magic"),description:Object(Ze.default)("Sweet Fades, Loudness Leveling, Lyrics, and more")}),Vu()("div",{className:$L.a.moreFeatures},void 0,Vu()(zp,{className:$L.a.link,to:n,target:"_self"},void 0,Object(Ze.default)("...plus more exclusive features!")))),Vu()(AL,{className:$L.a.footer},void 0,s?Vu()("div",{className:$L.a.spinnerContainer},void 0,ak):null,Vu()("div",{className:($L.a.plansContainer||"")+" "+(s&&$L.a.isPlansPending||"")},void 0,!s&&r?a.map(e=>ek(BL,tp()({key:e.id},t,{action:Rd.jb,plan:e.id}),Vu()(hw,{className:$L.a.planButton,to:V.join(i,{plan:e.id,continue:window.location.href}),target:"_self",kind:Pp,size:_h},void 0,e.formattedPrice,"  ",e.name))):null,!s&&o?ek(BL,tp()({},t,{action:Rd.jb,plan:"unknown"}),Vu()(hw,{className:$L.a.planButton,to:i,target:"_self",kind:Pp,size:_h},void 0,Object(Ze.default)("Subscribe"))):null)))};const rk=Nd.a.createElement,{Component:ok}=Nd.a;var lk=Object(Hu.b)((function(){return Object(Wu.a)((e,{origin:t})=>t,Zu.a,Gw(wt.s),(e,t,i)=>{const n=t.desktop,a={utm_source:"app.plex.tv",utm_medium:"app",utm_campaign:"PP_in-app-upsell_01"};return e&&(a.utm_content=e),{isSignedIn:t.isSignedIn,plans:n.plans,isPlansPending:n.isPlansPending,isPlansPopulated:n.isPlansPopulated,plansError:n.plansError,subscribeUrl:V.join(["https://www.plex.tv","/plex-pass/purchase"],a),infoUrl:V.join(["https://www.plex.tv","/plex-pass"]),allowMarketingModalContent:i&&"en"===t.experienceSettings.language&&"us"===t.country.toLowerCase()}})}),{fetchPlans:xA})(class extends ok{componentWillMount(){this.props.isSignedIn&&this.props.fetchPlans()}componentWillReceiveProps(e){e.isSignedIn&&e.isSignedIn!==this.props.isSignedIn&&e.fetchPlans()}render(){return rk(sk,this.props)}});const{Component:ck}=Nd.a;var dk=class extends ck{constructor(...e){super(...e),this.onModalClose=()=>{Object(ne.c)("metrics").trackClick(Object.assign({},this.props.metricsProperties,{page:zd.bb,action:Rd.hb})),this.props.onModalClose()}}shouldComponentUpdate(e,t){return Tp(this,e,t)}render(){const{origin:e,isOpen:t,metricsProperties:i}=this.props;return Vu()(Fw,{size:_h,isOpen:t,metricsPage:zd.bb,metricsProperties:i,onModalClose:this.onModalClose},void 0,Vu()(lk,{origin:e,metricsProperties:i,onModalClose:this.onModalClose}))}};const{Component:uk}=Nd.a;var pk=class extends uk{constructor(e,t){super(e,t),this.onPlexPassPress=()=>{this.setState({isPlexPassModalOpen:!0})},this.onPlexPassModalClose=()=>{this.setState({isPlexPassModalOpen:!1})},this.state={isPlexPassModalOpen:!1}}render(){const{modalMetricsProperties:e,origin:t}=this.props,{isPlexPassModalOpen:i}=this.state;return Vu()(hw,{kind:Pp,size:_h,onPress:this.onPlexPassPress},void 0,Object(Ze.default)("Get a Plex Pass"),Vu()(dk,{origin:t,metricsProperties:e,isOpen:i,onModalClose:this.onPlexPassModalClose}))}};var hk=function(e){const{machineIdentifier:t,origin:i,modalMetricsProperties:n,isSignedIn:a,isClaimed:s,hasPlexSubscription:r}=e;return r&&s?null:!r&&a?Vu()(pk,{origin:i,modalMetricsProperties:n}):Vu()(hw,{kind:Pp,size:_h,to:ln(t,"settings","general")},void 0,a?Object(Ze.default)("Claim Server"):Object(Ze.default)("Sign In"))};const mk=Object(Hu.b)((function(){return Object(Wu.a)(Zu.a,_S(),(e,t)=>({machineIdentifier:t.machineIdentifier,isClaimed:t.isClaimed,isSignedIn:!!e&&e.signedIn,hasPlexSubscription:!!e&&e.hasPlexSubscription}))}))(hk);mk.propTypes=Object.assign({},mk.propTypes,{serverEntityID:vc.a.string.isRequired});var gk=mk;function vk(e){var t=e["aria-label"],i=e.className,n=e.style,a={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-marketing-dvr-560"};a["aria-hidden"]=!t,a.style=n,a.className=Ad.a.plexIcon+(i?" "+i:"");var s=[Nd.a.createElement.apply(Nd.a,["path",{d:"m420 280c-77.21 0-140 62.79-140 140 0 77.21 62.79 140 140 140 77.21 0 140-62.79 140-140 0-77.21-62.79-140-140-140m0 256.67c-64.33 0-116.67-52.34-116.67-116.67 0-64.33 52.34-116.67 116.67-116.67 64.33 0 116.67 52.34 116.67 116.67 0 64.33-52.34 116.67-116.67 116.67m128.33-373.35h-.035c6.44 0 11.672 5.232 11.672 11.672v104.88h-23.328v-93.22h-513.33v282.36c0 11.584 9.8 20.982 21.892 20.982h188.11v23.328h-188.11c-24.937 0-45.22-19.88-45.22-44.31v-294.02c0-6.44 5.233-11.672 11.673-11.672h536.67m-128.33 186.67c-38.587 0-70 31.413-70 70 0 38.587 31.413 70 70 70 38.587 0 70-31.413 70-70 0-38.587-31.413-70-70-70m0 116.67c-25.742 0-46.672-20.93-46.672-46.673 0-25.742 20.93-46.672 46.672-46.672 25.743 0 46.673 20.93 46.673 46.672 0 25.743-20.93 46.673-46.673 46.673m105-466.67h.018c19.302 0 35 15.698 35 35.02v93.31c0 6.439-5.233 11.672-11.673 11.672h-536.67c-6.44 0-11.673-5.232-11.673-11.672v-93.31c0-19.32 15.697-35.02 35-35.02h490m10.833 31.03c-1.629-4.462-5.828-7.682-10.85-7.682h-41.808l-93.33 93.33h60.34l85.64-85.65m-458.97 85.65l93.33-93.33h-48.668l-93.33 93.33h48.667m459.81 0v-53.48l-53.48 53.48h53.48m-366.47-.018l93.33-93.33h-60.34l-93.33 93.33h60.34m93.33 0l93.33-93.33h-60.34l-93.33 93.33h60.34m93.33 0l93.33-93.33h-60.34l-93.33 93.33h60.34m-321.86-93.33h.017c-6.44 0-11.672 5.25-11.672 11.69v53.5l65.19-65.19h-53.52-.017"}].concat([]))];return t&&s.unshift(Nd.a.createElement("title",null,t)),Nd.a.createElement.apply(Nd.a,["svg",a].concat(s))}vk.propTypes={"aria-label":vc.a.string,className:vc.a.string,style:vc.a.object};var yk=vk;function fk(e){return e.deviceSettings}var bk=Object(Wu.a)(fk,e=>e.v4DVRSetupEnabled),Ik=i("tjw3");var Sk=function(e){return e};var Ck=xe.a.extend({name:"ChannelMappingModel",context:["server"],rootPropertyName:"ChannelMapping",idAttribute:"deviceIdentifier",syncedAttrs:{deviceIdentifier:Ae.a.string,lineupIdentifier:Ae.a.string,channelKey:Ae.a.string,enabled:Ae.a.boolean},defaults:{enabled:!1}});var Mk=ke.a.extend({name:"ChannelMappingCollection",context:["server"],model:Ck});var Dk=function(e,t){if(e===t)return 0;const i=e.split("."),n=t.split(".");for(let e=0;e<i.length;e++){if(!n[e])return 1;const t=parseInt(i[e],10),a=parseInt(n[e],10);if(t>a)return 1;if(t<a)return-1}return 0};var Pk=xe.a.extend({name:"MediaGrabberDeviceChannelModel",rootPropertyName:"DeviceChannel",idAttribute:"key",syncedAttrs:{key:Ae.a.string,identifier:Ae.a.string,name:Ae.a.string,drm:Ae.a.boolean,hd:Ae.a.boolean,signalStrength:Ae.a.integer,signalQuality:Ae.a.integer},augmentResponse:e=>(e.key=e.key||e.identifier,e)});var Ok=ke.a.extend({name:"MediaGrabberDeviceChannelCollection",context:["server"],model:Pk,comparator:(e,t)=>Dk(e.get("identifier"),t.get("identifier"))});const jk="dead",wk="alive";var Tk=xe.a.extend({name:"MediaGrabberDeviceModel",context:["server"],rootPropertyName:"Device",idAttribute:"key",sessionAttrs:{isChannelsPending:Ae.a.boolean,isChannelsPopulated:Ae.a.boolean,channelsError:Ae.a.object,selectedSource:Ae.a.string,isSaving:Ae.a.boolean,saveError:Ae.a.object},sessionRelations:{channels:{relationClass:Ok}},syncedAttrs:{key:Ae.a.integer,uuid:Ae.a.string,parentID:Ae.a.integer,uri:Ae.a.string,protocol:Ae.a.string,status:Ae.a.string,state:Ae.a.string,lastSeenAt:Ae.a.integer,make:Ae.a.string,model:Ae.a.string,modelNumber:Ae.a.string,source:Ae.a.integer,sources:Ae.a.list,tuners:Ae.a.integer,thumb:Ae.a.string,unsupported:Ae.a.boolean},syncedRelations:{channelMappings:{rootPropertyName:"ChannelMapping",relationClass:Mk},prefs:{relationClass:KT.a,rootPropertyName:"Setting",deferred:!0,save:!0}},defaults:{isChannelsPending:!1,isChannelsPopulated:!1,channelsError:null,isSaving:!1,saveError:null,unsupported:!1}});var Ek=ke.a.extend({name:"MediaGrabberDeviceCollection",context:["server"],model:Tk,url:"/media/grabbers/devices"});var Nk=xe.a.extend({name:"DVRModel",context:["server"],rootPropertyName:"Dvr",idAttribute:"key",sessionAttrs:{isSaving:Ae.a.boolean,saveError:Ae.a.object},syncedAttrs:{key:Ae.a.integer,epgIdentifier:Ae.a.string,country:Ae.a.string,language:Ae.a.string,lineup:Ae.a.string,lineupTitle:Ae.a.string,uuid:Ae.a.string},syncedRelations:{devices:{relationClass:Ek,rootPropertyName:"Device"},prefs:{relationClass:KT.a,rootPropertyName:"Setting",deferred:!0,save:!0}},defaults:{isSaving:!1,saveError:null}});var xk=ke.a.extend({name:"DVRCollection",context:["server"],model:Nk,url:"/livetv/dvrs"});var Ak=xe.a.extend({name:"DVRNetworkModel",sessionAttrs:{key:Ae.a.string,title:Ae.a.string}});var Lk=ke.a.extend({name:"DVRNetworkCollection",model:Ak});var kk=xe.a.extend({name:"DVRSetupErrorMessageModel",sessionAttrs:{id:Ae.a.string,message:Ae.a.string}});var Rk=ke.a.extend({name:"DVRSetupErrorMessageCollection",model:kk});var zk=xe.a.extend({name:"EPGCountryModel",context:["server"],idAttribute:"code",rootPropertyName:"Country",syncedAttrs:{key:Ae.a.string,type:Ae.a.string,title:Ae.a.string,code:Ae.a.string,example:Ae.a.string,flavor:Ae.a.integer,language:Ae.a.string,languageTitle:Ae.a.string}});var Uk=ke.a.extend({name:"EPGCountryCollection",context:["server"],model:zk,url:"/livetv/epg/countries"});var Vk=xe.a.extend({name:"EPGCountryRegionModel",context:["server"],idAttribute:"key",rootPropertyName:"Region",syncedAttrs:{key:Ae.a.string,type:Ae.a.string,title:Ae.a.string}});var Bk=ke.a.extend({name:"EPGCountryRegionCollection",context:["server"],model:Vk});var Fk=xe.a.extend({name:"EPGLineupModel",context:["server"],idAttribute:"uuid",rootPropertyName:"Lineup",syncedAttrs:{uuid:Ae.a.string,type:Ae.a.string,title:Ae.a.string,lineupType:Ae.a.integer,location:Ae.a.string},defaults:{location:""}});var Hk=ke.a.extend({name:"EPGCountryRegionCollection",context:["server"],model:Fk});var _k=xe.a.extend({name:"EPGLineupGroupModel",context:["server"],idAttribute:"uuid",syncedAttrs:{uuid:Ae.a.string},syncedRelations:{lineups:{relationClass:Hk,rootPropertyName:"Lineup"}}});var Wk=xe.a.extend({name:"EPGLanguageModel",context:["server"],rootPropertyName:"Language",idAttribute:"code",syncedAttrs:{code:Ae.a.string,title:Ae.a.string}});var Qk=ke.a.extend({name:"EPGLanguageCollection",context:["server"],model:Wk,url:"/livetv/epg/languages"});var Gk=xe.a.extend({name:"EPGSettingsModel",context:["server"],sessionAttrs:{baseUrl:Ae.a.string,postalCode:Ae.a.string,isFetching:Ae.a.boolean,isPopulated:Ae.a.boolean},sessionRelations:{countries:{relationClass:Uk},languages:{relationClass:Qk},regions:{relationClass:Bk},lineupGroup:{relationClass:_k},selectedCountry:{relationClass:zk,deferred:!0},selectedLanguage:{relationClass:Wk,deferred:!0},selectedRegion:{relationClass:Vk,deferred:!0}},defaults:{baseUrl:"/livetv/epg/countries",isFetching:!1,isPopulated:!1,postalCode:""}});var Kk=xe.a.extend({name:"EPGChannelModel",context:["server"],rootPropertyName:"Channel",syncedAttrs:{identifier:Ae.a.string,key:Ae.a.string,callSign:Ae.a.string,thumb:Ae.a.string,title:Ae.a.string,hd:Ae.a.boolean},defaults:{hd:!1}});var Yk=ke.a.extend({name:"EPGChannelCollection",context:["server"],model:Kk});const qk="device",Zk="unsupportedDevice",Jk="deviceChannels",Xk="epg",$k="epgMapping",eR="channelMapping",tR="epgDownload";var iR=xe.a.extend({name:"DVRSetupModel",context:["server"],sessionAttrs:{isDevicesPending:Ae.a.boolean,isDevicesPopulated:Ae.a.boolean,devicesError:Ae.a.object,isDiscoveringDevices:Ae.a.boolean,isChannelMappingsPending:Ae.a.boolean,isChannelMappingsPopulated:Ae.a.boolean,channelMappingsError:Ae.a.object,isChannelMappingsSaving:Ae.a.boolean,channelMappingsSaveError:Ae.a.object,isLineupChannelsPending:Ae.a.boolean,isLineupChannelsPopulated:Ae.a.boolean,lineupChannelsError:Ae.a.object,epgLineupActivityID:Ae.a.string,epgDownloadActivityID:Ae.a.string,step:Ae.a.string,selectedLineupUUID:Ae.a.string,addDevicePending:Ae.a.boolean,isSavingDVR:Ae.a.boolean,hasScannedChannels:Ae.a.boolean},sessionRelations:{devices:{relationClass:Ek},lineupChannels:{relationClass:Yk},epgSettings:{relationClass:Gk},channelMappings:{relationClass:Mk},selectedDVR:{relationClass:Nk,deferred:!0},selectedDevice:{relationClass:Tk,deferred:!0},selectedLanguage:{relationClass:Wk,deferred:!0},setupErrorMessages:{relationClass:Rk},scanPrefs:{relationClass:KT.a,deferred:!0},scanNetworks:{relationClass:Lk,deferred:!0}},defaults:{step:qk,isDevicesPending:!1,isDevicesPopulated:!1,isDiscoveringDevices:!1,devicesError:null,isChannelMappingsPending:!1,isChannelMappingsPopulated:!1,channelMappingsError:null,isChannelMappingsSaving:!1,channelMappingsSaveError:null,isLineupChannelsPending:!1,isLineupChannelsPopulated:!1,lineupChannelsError:null,epgLineupActivityID:"",epgDownloadActivityID:"",addDevicePending:!1,isSavingDVR:!1,hasScannedChannels:!1}});const nR=Object(Pi.a)("ui/dvrSettings/initDVRSettingsUI"),aR=Object(Pi.a)("ui/dvrSettings/clearDVRSettingsUI"),sR=Object(Pi.a)("ui/dvrSettings/fetchDVRs"),rR=Object(Pi.a)("ui/dvrSettings/removeDVR"),oR=Object(Pi.a)("ui/dvrSettings/reloadGuide"),lR=Object(Pi.a)("ui/dvrSettings/cancelReloadGuide");function cR(e){return e.get("ui").get("dvrSettingsUI")}function dR(e,t,i){const n=Object(wi.m)(e,t),a=V.join(["/livetv/dvrs",t.dvrID,"reloadGuide"]),s=n.getXHROptions(a,{method:i});D.a.ajax(s)}const uR=Sk({"ui/dvrSettings/fetchDVRs":Object(Oi.a)({key:"dvrs",getModel:cR}),"ui/dvrSettings/initDVRSettingsUI"(e,t,i){const n=cR(e),a=n.get("dvrSetup"),s=n.get("dvr"),r=Object(wi.m)(e,t),o=r.get("machineIdentifier"),l={isUIPopulated:!0};s&&s.server.get("machineIdentifier")===o||(l.dvrs=new xk([],{server:r})),a&&a.server.get("machineIdentifier")===o?a.restoreDefaults():l.dvrSetup=new iR({},{server:r}),n.set(l),(r.hasOwnerFeature("dvr")||r.hasOwnerFeature("livetv"))&&i(sR(t))},"ui/dvrSettings/clearDVRSettingsUI"(e){cR(e).set("isUIPopulated",!1)},"ui/dvrSettings/removeDVR"(e,t,i){const n=cR(e).get("dvrs").get(t.dvrID);n&&n.destroy().fail(()=>i(Object(Tn.d)(Object(Ze.default)("There was a problem removing your DVR"))))},"ui/dvrSettings/reloadGuide"(e,t,i){dR(e,t,"POST")},"ui/dvrSettings/cancelReloadGuide"(e,t,i){dR(e,t,"DELETE")}});let pR,hR,mR,gR,vR;!function(e){e[e.Regions=0]="Regions",e[e.PostalCode=1]="PostalCode",e[e.SinglePostalCode=2]="SinglePostalCode"}(pR||(pR={})),function(e){e.Dead="dead",e.Alive="alive"}(hR||(hR={})),function(e){e.Disabled="disabled",e.Enabled="enabled"}(mR||(mR={})),function(e){e.Antenna="0",e.Cable="1",e.Satellite="2"}(gR||(gR={})),function(e){e[e.Unknown=-1]="Unknown",e[e.OverTheAir=0]="OverTheAir",e[e.Cable=1]="Cable",e[e.Satellite=2]="Satellite",e[e.IPTV=3]="IPTV",e[e.Virtual=4]="Virtual"}(vR||(vR={}));var yR=Object(Wu.a)(Ay,e=>e.dvrManagement),fR=Object(Wu.a)(yR,e=>e.dvrSetup),bR=Object(Wu.a)(yR,e=>e.epgSettings),IR=i("+vwP"),SR=i.n(IR);const CR=Nd.a.createElement;function MR(e){let{className:t=SR.a.button,spinnerSize:i=yp.Small,isDisabled:n=!1,isSpinning:a=!1,children:s}=e,r=Xe()(e,["className","spinnerSize","isDisabled","isSpinning","children"]);return CR(iD,tp()({className:(t||"")+" "+(a&&SR.a.isSpinning||""),isDisabled:n||a},r),Vu()("span",{className:SR.a.spinnerContainer},void 0,Vu()(Ip,{className:SR.a.spinner,size:i})),Vu()("span",{className:SR.a.label},void 0,s))}var DR=e=>Object(Wu.a)(fR,t=>t.channelsByDeviceKey[e]),PR=Object(Wu.a)(bR,({selectedCountry:e})=>e&&1===e.flavor?e.example:void 0),OR=i("fmBJ"),jR=i.n(OR);function wR({className:e=jR.a.image,thumb:t,width:i,height:n}){const[a]=Lg();return Vu()(tC,{serverEntityID:a.entityID,providerEntityID:void 0,className:e,url:t,width:i,height:n})}var TR=i("mKd/"),ER=i.n(TR);const NR=Nd.a.createElement,{Component:xR}=Nd.a;class AR extends xR{constructor(...e){super(...e),this.onChange=e=>{this.props.onChange(e.target.value)}}render(){const e=this.props,{className:t,errorClassName:i,disabledClassName:n,isDisabled:a,size:s,name:r,value:o,values:l,hasError:c}=e,d=Xe()(e,["className","errorClassName","disabledClassName","isDisabled","size","name","initialValue","value","values","hasError","errors","validations"]);return Vu()("div",{className:(t||"")+" "+(ER.a[s]||"")+" "+(a&&n||"")+" "+(c&&i||"")},void 0,NR("select",tp()({},d,{disabled:a,className:ER.a.select,id:r,name:r,value:o,onChange:this.onChange}),l.map((e,t)=>{if(I.a.isString(e))return Vu()("option",{value:e},t,e);const[i]=I.a.keys(e);return Vu()("option",{value:i},t,I.a.result(e,i))})))}}AR.defaultProps={className:ER.a.input,errorClassName:ER.a.hasError,disabledClassName:ER.a.isDisabled,isDisabled:!1,size:_h,hasError:!1};var LR=AR,kR=i("NXjI"),RR=i.n(kR);const{Fragment:zR,useCallback:UR}=Nd.a;function VR(){const e=Object(Hu.c)(),{selectedRegion:t,regions:{epgCountryRegions:i}}=Object(Hu.d)(bR),n=i.length>0,a=i.map(e=>({[e.key]:e.title}));a.unshift({"":Object(Ze.default)("Select Region")});const s=UR(t=>{e(Ir.actions.epgCountryRegionSelected({regionKey:t}))},[e]);return n?Vu()(zR,{},void 0,Vu()(GM,{className:RR.a.label},void 0,Object(Ze.default)("Region")),Vu()(LR,{name:"regionSelect",value:null==t?void 0:t.key,values:a,onChange:s})):null}var BR=i("idx1"),FR=i.n(BR);const{Fragment:HR,useCallback:_R,useEffect:WR,useState:QR}=Nd.a;function GR({deviceKey:e,isActive:t,isDisabled:i,onEdit:n}){var a;const s=Object(Hu.c)(),[r]=Lg(),{selectedCountry:o,countries:{epgCountries:l,isPending:c,isPopulated:d,error:u}}=Object(Hu.d)(bR),p=QR(!1),h=p[1],m=p[0],g=null!=(a=null==o?void 0:o.code)?a:"",v=l.map(e=>({[e.code]:e.title}));v.unshift({"":Object(Ze.default)("Select country")});const y=_R(e=>{s(Ir.actions.epgCountrySelected({countryCode:e}))},[s]),f=_R(()=>{n(e)},[e,n]);$u(()=>{const{countryCode:e}=r;!g&&e?y(e):h(!0)},d),$u(()=>{h(!0)},!!g&&!m),WR(()=>{if(o){const{flavor:e}=o;e===pR.Regions?s(Ir.actions.epgCountryRegionsFetchRequested({server:r,country:o})):e===pR.SinglePostalCode&&s(Ir.actions.epgPostalCodeChanged({postalCode:o.example}))}},[s,o,r]);const b=t||!g?Vu()(LR,{name:"countrySelect",value:g,values:v,isDisabled:i,onChange:y}):Vu()("div",{className:FR.a.edit},void 0,null==o?void 0:o.title,i?null:Vu()(ev,{kind:Qg.Primary,onPress:f},void 0,Object(Ze.default)("Edit")));return Vu()(HR,{},void 0,Vu()(GM,{className:FR.a.label},void 0,Object(Ze.default)("Country")),c||!m?Object(Ze.default)("Loading countries..."):null,u?Object(Ze.default)("We couldn't fetch countries at this moment."):null,d&&m?b:null)}var KR=i("qR6r"),YR=i.n(KR);const qR=Nd.a.createElement;function ZR(e){let{forwardedRef:t,className:i=YR.a.input,selectClassName:n=YR.a.select,errorClassName:a=YR.a.hasError,disabledClassName:s=YR.a.isDisabled,isDisabled:r=!1,hasError:o=!1,name:l,size:c=yp.Medium,children:d}=e,u=Xe()(e,["forwardedRef","className","selectClassName","errorClassName","disabledClassName","isDisabled","hasError","name","size","children"]);return Vu()("span",{className:(i||"")+" "+(YR.a[c]||"")+" "+(r&&s||"")+" "+(o&&a||"")},void 0,qR("select",tp()({className:n,name:l,disabled:r,ref:t},u),d))}var JR=Nd.a.forwardRef((e,t)=>qR(ZR,tp()({},e,{forwardedRef:t})));const{useCallback:XR}=Nd.a;function $R(e){switch(e){case gR.Antenna:return Object(Ze.default)("Antenna");case gR.Cable:return Object(Ze.default)("Cable");case gR.Satellite:return Object(Ze.default)("Satellite")}}function ez({device:e,isDisabled:t}){const i=Object(Hu.c)(),{key:n,source:a,sources:s}=e,r=function(e){return e.map(e=>({value:e,label:$R(e)}))}(s),o=XR(e=>{i(yr.actions.deviceSourceSelected({deviceKey:n,source:e.target.value}))},[i,n]);return Vu()(JR,{name:"deviceSource",value:a,isDisabled:t,onChange:o},void 0,r.map(({value:e,label:t},i)=>Vu()("option",{value:e},i,t)))}var tz=i("Nbqw"),iz=i.n(tz);const nz=Nd.a.createElement;function az(e){let{className:t=iz.a.label,errorClassName:i=iz.a.hasError,children:n,name:a,hasError:s}=e,r=Xe()(e,["className","errorClassName","children","name","hasError"]);return nz("label",tp()({},r,{className:(t||"")+" "+(s&&i||""),htmlFor:a}),n)}var sz=i("eYpM"),rz=i.n(sz);const oz=Nd.a.createElement;function lz(e){let{forwardedRef:t,className:i=rz.a.input,errorClassName:n=rz.a.hasError,disabledClassName:a=rz.a.isDisabled,isDisabled:s=!1,hasFocusOnMount:r=!1,hasError:o=!1,name:l,size:c=yp.Large,onFocus:d}=e,u=Xe()(e,["forwardedRef","className","errorClassName","disabledClassName","isDisabled","hasFocusOnMount","hasError","name","size","onFocus"]);return oz("input",tp()({className:(i||"")+" "+(rz.a[c]||"")+" "+(s&&a||"")+" "+(o&&n||""),name:l,disabled:s,autoFocus:r,ref:t,onFocus:d},u))}var cz=Nd.a.forwardRef((e,t)=>oz(lz,tp()({},e,{forwardedRef:t}))),dz=i("gZNl"),uz=i.n(dz);const{Fragment:pz,useCallback:hz,useEffect:mz,useState:gz}=Nd.a;let vz;function yz(){const e=Object(Hu.c)(),[t]=Lg(),{postalCode:i}=Object(Hu.d)(bR),n=Object(Hu.d)(PR),a=gz(i||""),s=a[1],r=a[0],o=hz(e=>{s(e.target.value)},[s]);return mz(()=>{vz&&window.clearTimeout(vz),vz=window.setTimeout(()=>{e(Ir.actions.epgPostalCodeChanged({postalCode:r,server:t}))},300)},[e,t,r]),n?Vu()(pz,{},void 0,Vu()(az,{className:uz.a.label},void 0,Object(Ze.default)("Postal Code")),Vu()(cz,{name:"postalCodeInput",placeholder:Object(Ze.default)("e.g. {postalCodeExample}",{postalCodeExample:n}),value:r,onChange:o})):null}var fz=i("Bvvc"),bz=i.n(fz);const{useCallback:Iz,useEffect:Sz,useMemo:Cz}=Nd.a;var Mz=Vu()(tf,{}),Dz=Vu()(VR,{}),Pz=Vu()(yz,{});function Oz({device:e,activeDeviceKey:t,onSetupStart:i,onNext:n}){const a=Object(Hu.c)(),[s]=Lg(),r=Cz(()=>DR(e.key),[e]),o=Object(Hu.d)(PR),l=Object(Hu.d)(r),{selectedCountry:c,selectedRegion:d,postalCode:u,lineupGroup:p}=Object(Hu.d)(bR),{selectedDevice:h}=Object(Hu.d)(fR),{key:m,make:g,model:v,tuners:y,thumb:f,uri:b}=e,I=!(!t||t!==m),S=!(!t||t===m),C=!!(t&&p.epgLineups.length>0),M=p.isPending,D=function(e){if(!e||e.isPending)return Object(Ze.default)("Loading channels...");const{channels:t,error:i}=e,n=t.length;return i||0===n?Object(Ze.default)("0 Channels (scan required)"):1===n?Object(Ze.default)("1 channel"):Object(Ze.default)("{channelCount} channels",{channelCount:n})}(l),P=Iz(()=>{a(yr.actions.deviceSelected({deviceKey:e.key}))},[a,e]),O=Iz(()=>{i(m)},[m,i]);return $u(()=>{a(yr.actions.deviceChannelsFetchRequested({server:s,deviceKey:m}))}),Sz(()=>{c&&(u||d||c.flavor===pR.SinglePostalCode)&&a(Ir.actions.epgLineupGroupFetchRequested({server:s,country:c,region:d,postalCode:u}))},[d,u,s,c,a]),Sz(()=>{h&&n()},[h,n]),Vu()("div",{className:bz.a.container},void 0,Vu()(wR,{thumb:f,width:200,height:110}),Vu()("div",{className:bz.a.section},void 0,Vu()("div",{className:bz.a.make},void 0,g),Vu()("div",{className:bz.a.model},void 0,v),Vu()("div",{className:bz.a.moreInfo},void 0,b,b&&y?Mz:null,y>1?Object(Ze.default)("{tunersCount} tuners",{tunersCount:y}):Object(Ze.default)("1 tuner"))),Vu()("div",{className:bz.a.section},void 0,Vu()(ez,{device:e,isDisabled:S}),Vu()("div",{className:bz.a.channelsMessage},void 0,D)),Vu()("div",{className:bz.a.section},void 0,Vu()(GR,{deviceKey:e.key,isActive:I,isDisabled:S,onEdit:O})),I&&(null==c?void 0:c.flavor)===pR.Regions?Vu()("div",{className:bz.a.section},void 0,Dz):null,I&&o?Vu()("div",{className:bz.a.section},void 0,Pz):null,I||S?null:Vu()(iD,{kind:Qg.Primary,className:bz.a.button,onPress:O},void 0,Object(Ze.default)("Setup Device")),I?Vu()(MR,{kind:Qg.Primary,className:bz.a.button,isDisabled:!C,isSpinning:M,onPress:P},void 0,Object(Ze.default)("Next")):null,S?Vu()("div",{className:bz.a.disabledText},void 0,Object(Ze.default)("You can add this device later.")):null)}var jz=i("siYB"),wz=i.n(jz);const{useCallback:Tz,useEffect:Ez,useMemo:Nz,useState:xz}=Nd.a;function Az(e){return e.filter(e=>!e.parentID&&e.status===hR.Alive)}var Lz=Vu()(Ip,{});function kz({onSetStep:e}){const t=Object(Hu.c)(),[i]=Lg(),n=xz(void 0),a=n[1],s=n[0],{devices:r,isDiscoveringDevices:o}=Object(Hu.d)(fR),{countries:{epgCountries:l}}=Object(Hu.d)(bR),c=Nz(()=>Az(r.mediaGrabberDevices),[r]),d=Tz(e=>{a(e)},[a]),u=Tz(()=>{e(eU.Info)},[e]);Ez(()=>{t(yr.actions.devicesFetchRequested({server:i})),t(Ir.actions.epgCountriesFetchRequested({server:i}))},[t,i]),Ez(()=>{const e=i.countryCode;l.length>0&&e&&t(Ir.actions.epgCountrySelected({countryCode:e}))},[t,l,i]),Ez(()=>{c.some(e=>e.key===s)||a(void 0)},[c,s,a]),Ez(()=>{let e;return o||(e=window.setTimeout(()=>{t(yr.actions.devicesDiscoverRequested({server:i}))},2e3)),()=>{e&&window.clearTimeout(e)}},[t,i,o]);const p=function(e){if(!e||e.isPending)return Object(Ze.default)("Looking for compatible devices...");const{mediaGrabberDevices:t,isPopulated:i}=e,n=Az(t);return i&&n.length>0?Object(Ze.default)("We found hardware we recognize!"):i&&0===n.length?Object(Ze.default)("We couldn't find any hardware we recognize, but will continue to look for available devices."):Object(Ze.default)("Something went wrong. Please try again later.")}(r),h=r.isPending||!c.length;return Vu()(TI,{innerClassName:wz.a.innerModalBody},void 0,Vu()("p",{},void 0,p),h?Vu()("div",{className:wz.a.spinnerContainer},void 0,Lz):Vu()(up,{className:wz.a.devicesContainer,scrollDirection:cp.Horizontal},void 0,c.map(e=>Vu()(Oz,{device:e,activeDeviceKey:s,onSetupStart:d,onNext:u},e.key))))}var Rz=i("8CTZ"),zz=i.n(Rz);function Uz({className:e=zz.a.badge,style:t,iconClassName:i=zz.a.icon,iconComponent:n}){return Vu()("div",{className:e,style:t},void 0,Vu()(n,{className:i}))}var Vz=i("lHYh"),Bz=i.n(Vz);function Fz({activeStep:e,step:t,title:i}){const n=e===t,a=e>t,s=e<t;return Vu()("div",{className:Bz.a.container},void 0,a?Vu()(Uz,{className:Bz.a.done,iconComponent:ay}):null,n?Vu()(Ip,{className:Bz.a.active}):null,s?Vu()("div",{className:Bz.a.waiting}):null,i)}var Hz=i("MeBg"),_z=i.n(Hz);const{useEffect:Wz,useMemo:Qz,useState:Gz}=Nd.a;let Kz;function Yz({onSetStep:e}){const t=Object(Hu.c)(),[i]=Lg(),n=Gz(Kz.Data),a=n[1],s=n[0],{selectedDevice:r}=Object(Hu.d)(fR),o=Qz(()=>DR(r.key),[r]),{channels:l,isPending:c,isPopulated:d}=Object(Hu.d)(o),{postalCode:u,selectedCountry:p,selectedLanguage:h,selectedLineupUUID:m,selectedRegion:g,languages:{epgLanguages:v},lineupGroup:y}=Object(Hu.d)(bR);return Wz(()=>{t(Ir.actions.epgLanguagesFetchRequested({server:i}))},[t,i]),Wz(()=>{s===Kz.Data&&(p&&h?a(Kz.Channels):v&&p&&!h&&t(Ir.actions.epgLanguageSelected({languageCode:p.language})))},[t,v,s,p,h]),Wz(()=>{s===Kz.Channels&&(d?a(Kz.Guide):!r||l&&c||t(yr.actions.deviceChannelsFetchRequested({server:i,deviceKey:r.key})))},[l,t,c,d,s,r,i]),Wz(()=>{s===Kz.Guide&&p&&(y.uuid?r&&!m?t(Ir.actions.bestEPGLineupSearchRequested({server:i,device:r,lineupGroup:y})):m&&e(eU.Mapping):t(Ir.actions.epgLineupGroupFetchRequested({server:i,country:p,region:g,postalCode:u})))},[s,y,m,p,r,t,i,g,u,e]),Vu()(TI,{},void 0,Vu()("p",{},void 0,Object(Ze.default)("Setting up your tuner and channels...")),Vu()(Ip,{className:_z.a.spinner}),Vu()("div",{className:_z.a.steps},void 0,Vu()(Fz,{step:Kz.Data,activeStep:s,title:Object(Ze.default)("Gathering data")}),Vu()(Fz,{step:Kz.Channels,activeStep:s,title:Object(Ze.default)("Scanning channels")}),Vu()(Fz,{step:Kz.Guide,activeStep:s,title:Object(Ze.default)("Finding the best guide")})))}!function(e){e[e.Data=1]="Data",e[e.Channels=2]="Channels",e[e.Guide=3]="Guide"}(Kz||(Kz={}));var qz=i("/5lZ"),Zz=i.n(qz);const{useCallback:Jz,useEffect:Xz,useState:$z}=Nd.a;let eU;function tU({machineIdentifier:e,providerIdentifier:t,isOpen:i,metricsContext:n,onModalClose:a}){const s=$z(eU.Device),r=s[1],o=s[0],l=Object(Hu.c)(),c=$b(i),d=Jz(e=>{r(e)},[r]);Xz(()=>{c&&!i&&(l(yr.actions.reset()),l(Ir.actions.reset()),r(eU.Device))},[i,c,l]);const u=function(e){switch(e){case eU.Device:return kz;case eU.Info:return Yz}throw new Error("Unmatched DVR setup modal step: "+e)}(o);return Vu()(Zb.a,{metricsPage:zd.N,name:n},void 0,Vu()(kg,{machineIdentifier:e,providerIdentifier:t},void 0,Vu()(PI,{className:Zz.a.modal,isOpen:i,shouldTrackOnClose:!0,onModalClose:a},void 0,Vu()(kI,{onModalClose:a},void 0,Vu()(UI,{},void 0,Object(Ze.default)("Tuner Setup")),Vu()(u,{onSetStep:d})))))}!function(e){e.Device="device",e.Info="info",e.Mapping="mapping"}(eU||(eU={}));const iU=Object(Pi.a)("CLEAR_DVR_SETUP"),nU=Object(Pi.a)("DVR_SETUP_NEXT_STEP"),aU=Object(Pi.a)("DVR_SETUP_PREVIOUS_STEP"),sU=Object(Pi.a)("FETCH_DEVICES"),rU=Object(Pi.a)("DISCOVER_DEVICES"),oU=Object(Pi.a)("ADD_DEVICE"),lU=Object(Pi.a)("SELECT_DEVICE"),cU=Object(Pi.a)("SELECT_DEVICE_SOURCE"),dU=Object(Pi.a)("FETCH_DEVICE_DETAILS"),uU=Object(Pi.a)("FETCH_DEVICE_CHANNELS"),pU=Object(Pi.a)("SCAN_DEVICE_CHANNELS"),hU=Object(Pi.a)("CANCEL_SCAN_DEVICE_CHANNELS"),mU=Object(Pi.a)("FIND_BEST_EPG_LINEUP"),gU=Object(Pi.a)("SELECT_EPG_LINEUP"),vU=Object(Pi.a)("CLEAR_CHANNEL_MAP_ERROR"),yU=Object(Pi.a)("SAVE_CHANNEL_MAP"),fU=Object(Pi.a)("CLEAR_CHANNEL_MAPPINGS_SAVE_ERROR"),bU=Object(Pi.a)("SAVE_DVR"),IU=Object(Pi.a)("ADD_DVR_DEVICE"),SU=Object(Pi.a)("REMOVE_DVR_DEVICE"),CU=Object(Pi.a)("SAVE_DVR_SETTINGS"),MU=Object(Pi.a)("CLEAR_DVR_SETTINGS_SAVE_ERROR"),DU=Object(Pi.a)("SAVE_DEVICE_SETTINGS"),PU=Object(Pi.a)("CLEAR_DEVICE_SETTINGS_SAVE_ERROR"),OU=Object(Pi.a)("CLEAR_DEVICE_SCAN_PREFS"),jU=Object(Pi.a)("SET_DVR_DEVICE_ENABLED"),wU=Object(Pi.a)("FETCH_LINEUP_CHANNELS",e=>{const t=V.join("/livetv/epg/channels",{lineup:e.lineupUUID});return Object.assign({options:{url:t,timeout:v.b}},e)}),TU=Object(Pi.a)("FETCH_CHANNEL_MAP",e=>{const t=V.join("/livetv/epg/channelmap",{device:e.deviceUUID,lineup:e.lineupUUID});return Object.assign({options:{url:t}},e)});function EU(e){return e.get("ui").get("dvrSettingsUI").get("dvrSetup")}function NU(e){return e.get("ui").get("dvrSettingsUI").get("dvrs")}function xU(e,t){return NU(e).get(t.dvrID)}function AU(e,t){const i=EU(e),n=t.deviceID;if(t.dvrID&&n){const i=xU(e,t).get("devices").get(n);if(i)return i}if(n){const e=i.get("devices").get(n);if(e)return e}return i.get("selectedDevice")}function LU(e,t){if(t.country)return t.country;const i=EU(e).get("epgSettings").get("selectedCountry");return i?i.get("code"):void 0}function kU(e,t){const i=EU(e),n=Object(wi.m)(e,t),a=AU(e,t).get("channels"),s=t.data,r=[],o={};Object.keys(s).forEach(e=>{const{enabled:t,channelKey:i,lineupIdentifier:n}=s[e],l=a.get(e),c=!(!l||!l.get("drm"));t&&n&&!c&&r.push(e),n&&(o["channelMappingByKey["+e+"]"]=i,o["channelMapping["+e+"]"]=n)});const l=V.join(["/media/grabbers/devices",t.deviceID,"channelmap"],Object.assign({channelsEnabled:r.toString()},o));i.set("isChannelMappingsSaving",!0);const c=n.getXHROptions(l,{type:"PUT"}),d=D.a.ajax(c);return d.done(()=>{i.set({isChannelMappingsSaving:!1,channelMappingsSaveError:null});const n=function(e,t){if(t.dvrID&&t.deviceID){return AU(e,t).get("channelMappings")}return EU(e).get("channelMappings")}(e,t);a.forEach(e=>{const t=e.id,i=-1!==r.indexOf(t),a=o["channelMapping["+t+"]"];a?n.add([{deviceIdentifier:t,enabled:i,lineupIdentifier:a}],{parse:!0,merge:!0}):n.remove(t)})}),d.fail(e=>{i.set({isChannelMappingsSaving:!1,channelMappingsSaveError:Object(DT.a)(e)})}),d}function RU(e,t){const i=Object(wi.m)(e,t),n=t.enabled,a=V.join(["/media/grabbers/devices",t.deviceID],{enabled:n?1:0}),s=i.getXHROptions(a,{type:"PUT"}),r=D.a.ajax(s).promise();return r.done(()=>{if(EU(e)){const i=AU(e,t);i&&i.set("status",n?"enabled":"disabled")}}),r}const zU=Sk({CLEAR_DVR_SETUP(e){EU(e).restoreDefaults()},DVR_SETUP_NEXT_STEP(e,t={}){const i=EU(e),n={};switch(i.get("step")){case qk:i.get("selectedDevice").get("unsupported")?n.step=Zk:n.step=Jk;break;case Zk:n.step=Jk;break;case Jk:t.dvrID?(n.selectedLineupUUID=xU(e,t).get("lineup"),n.step=eR):n.step=Xk;break;case Xk:i.get("selectedLineupUUID")?n.step=eR:n.step=$k;break;case $k:n.step=eR;break;case eR:n.step=tR}i.get("setupErrorMessages").reset(),i.set(n)},DVR_SETUP_PREVIOUS_STEP(e,t={}){const i=EU(e),n={};switch(i.get("step")){case Zk:n.step=qk;break;case Jk:n.hasScannedChannels=!1,n.step=qk;break;case Xk:n.step=Jk;break;case eR:t.dvrID?n.step=Jk:n.step=Xk}i.get("setupErrorMessages").reset(),i.set(n)},FETCH_DEVICES(e,t,i){const n=EU(e),a=n.get("devices");n.set("isDevicesPending",!0),a.fetch().done(()=>{n.set({isDevicesPending:!1,isDevicesPopulated:!0,devicesError:null});const e=a.filter(e=>!e.get("parentID")&&e.get("status")===wk);1===e.length&&i(lU({serverEntityID:t.serverEntityID,deviceID:e[0].id}))}).fail((e,t)=>{n.set({isDevicesPending:!1,devicesError:Object(DT.a)(t)})})},DISCOVER_DEVICES(e,t,i){const n=Object(wi.m)(e,t),a=EU(e),s=n.getXHROptions("/media/grabbers/devices/discover",{type:"POST"});a.get("isDiscoveringDevices")||(a.set("isDiscoveringDevices",!0),D.a.ajax(s).done(e=>{const n=a.get("devices").add(e,{parse:!0,merge:!0}).filter(e=>!e.get("parentID")&&e.get("status")===wk);a.get("setupErrorMessages").remove("discoverDevices"),1===n.length&&i(lU({serverEntityID:t.serverEntityID,deviceID:n[0].id})),a.set("isDiscoveringDevices",!1)}).fail(e=>{a.get("setupErrorMessages").add({id:"discoverDevices",message:nT(e,Object(Ze.default)("There was a problem discovering devices"))}),a.set("isDiscoveringDevices",!1)}))},ADD_DEVICE(e,t,i){const n=Object(wi.m)(e,t),a=EU(e),s=V.join(["/media/grabbers","tv.plex.grabbers.hdhomerun","devices"],{uri:t.uri}),r=n.getXHROptions(s,{type:"POST"});a.set("addDevicePending",!0),D.a.ajax(r).done((e,i)=>{const n=a.get("devices").add(e,{parse:!0});if(0===n.length){const i=Se.a.parseXML(e),n=i&&i.message||Object(Ze.default)("No device found at {1}",t.uri);a.get("setupErrorMessages").add({id:"addDevice",message:n}),a.set("addDevicePending",!1)}else a.get("setupErrorMessages").remove("addDevice"),a.set({addDevicePending:!1,selectedDevice:1===n.length?n[0]:a.get("selectedDevice")})}).fail(e=>{a.get("setupErrorMessages").add({id:"addDevice",message:nT(e,Object(Ze.default)("There was a problem adding the device: {1}",t.uri))}),a.set("addDevicePending",!1)})},SELECT_DEVICE(e,t){const i=EU(e),n=AU(e,t);i.set("selectedDevice",n)},SELECT_DEVICE_SOURCE(e,t){EU(e).get("selectedDevice").set("selectedSource",t.source)},FETCH_DEVICE_DETAILS(e,t){const i=EU(e);AU(e,t).fetch().fail(e=>{i.get("setupErrorMessages").add({id:"fetchDeviceDetails",message:nT(e,Object(Ze.default)("There was a problem getting the details for your device"))})})},FETCH_DEVICE_CHANNELS(e,t){const i=EU(e),n=AU(e,t),a=V.join(["/media/grabbers/devices",n.get("key"),"channels"]);n.set("isChannelsPending",!0);const s={url:a,timeout:v.b};n.get("channels").fetch(s).done(()=>{n.set({isChannelsPending:!1,isChannelsPopulated:!0,channelsError:null})}).fail(e=>{n.set({isChannelsPending:!1,isChannelsPopulated:!0,channelsError:null}),i.get("setupErrorMessages").add({id:"fetchDeviceDetails",message:nT(e,Object(Ze.default)("There was a problem getting the channels for your device"))})})},SCAN_DEVICE_CHANNELS(e,t,i){const n=EU(e),a=Object(wi.m)(e,t),s=AU(e,t),r=LU(e,t),o=s.get("selectedSource")||s.get("source"),{prefs:l,network:c}=t,d=V.join(["/media/grabbers/devices",s.get("key"),"scan"],{source:o,country:r,prefs:l,network:c}),u=a.getXHROptions(d,{type:"POST"});D.a.ajax(u).done((e,a,r)=>{const o=r.getResponseHeader("X-Plex-Activity");if(s.get("channels").reset(),o)i(OU(t));else{const t=new KT.a(e,{parse:!0});n.set("scanPrefs",t)}}).fail(e=>{n.get("setupErrorMessages").add({id:"scanDeviceChannels",message:nT(e,Object(Ze.default)("There was a problem scanning channels"))})})},CANCEL_SCAN_DEVICE_CHANNELS(e,t,i){const n=EU(e),a=Object(wi.m)(e,t),s=t.deviceID;if(!s)throw new Error("A device ID is required to cancel a channel scan.");const r=V.join(["/media/grabbers/devices",s,"scan"]),o=a.getXHROptions(r,{type:"DELETE"});D.a.ajax(o).fail(e=>{n.get("setupErrorMessages").add({id:"cancelScanDeviceChannels",message:nT(e,Object(Ze.default)("There was a problem canceling the current channel scan"))})})},FIND_BEST_EPG_LINEUP(e,t,i){const n=Object(wi.m)(e,t),a=EU(e),s=a.get("selectedDevice"),r=a.get("epgSettings").get("lineupGroup"),o=V.join("/livetv/epg/lineup",{device:s.get("uuid"),lineupGroup:r.get("uuid")}),l=n.getXHROptions(o);D.a.ajax(l).done((e,t,i)=>{const n=i.getResponseHeader("X-Plex-Activity");a.set("epgLineupActivityID",n)}).fail(e=>{a.get("setupErrorMessages").add({id:"findBestEPGLineup",message:nT(e,Object(Ze.default)("There was a problem mapping channels"))})})},SELECT_EPG_LINEUP(e,t){EU(e).set("selectedLineupUUID",t.lineupUUID)},FETCH_LINEUP_CHANNELS:Object(Oi.a)({key:"lineupChannels",getModel:EU}),FETCH_CHANNEL_MAP(e,t){const i=EU(e),n=i.get("channelMappings"),a=Object.assign({timeout:v.b},t.options);i.set("isChannelMappingsPending",!0),n.fetch(a).done(()=>{t.forceEnabled&&n.each(e=>{e.set("enabled",e.has("lineupIdentifier"))}),i.set({isChannelMappingsPending:!1,isChannelMappingsPopulated:!0,channelMappingsError:null})}).fail((e,t)=>{i.set({isChannelMappingsPending:!1,channelMappingsError:Object(DT.a)(t)})})},CLEAR_CHANNEL_MAP_ERROR(e,t){EU(e).set({channelMappingsError:null,lineupChannelsError:null})},SAVE_CHANNEL_MAP(e,t,i){kU(e,t).done(()=>{i(dU(t))})},CLEAR_CHANNEL_MAPPINGS_SAVE_ERROR(e){EU(e).set("channelMappingsSaveError",null)},SAVE_DVR(e,t,i){const n=EU(e);n.set("isSavingDVR",!0);const{serverEntityID:a,deviceID:s}=t,r=NU(e);RU(e,{serverEntityID:a,deviceID:s,enabled:!0}).then(()=>kU(e,t)).then(()=>{const i=Object(wi.m)(e,t),a=n.get("selectedDevice"),s=n.get("selectedLineupUUID"),r=n.get("epgSettings").get("selectedLanguage"),o=LU(e,t);n.get("setupErrorMessages").remove("saveDVR");const l=V.join("/livetv/dvrs",{device:a.get("uuid"),lineup:s,language:r.get("code"),country:o}),c=i.getXHROptions(l,{type:"POST"});return D.a.ajax(c)}).then((e,t,s)=>{const o=s.getResponseHeader("X-Plex-Activity"),l=r.add(e,{parse:!0})[0];if(!l)return D.a.Deferred().reject(s).promise();n.get("setupErrorMessages").remove("saveDVR"),n.set({epgDownloadActivityID:o,selectedDVR:l,isSavingDVR:!1}),i(nU({serverEntityID:a})),i(Hi({serverEntityID:a}))}).fail(e=>{n.get("setupErrorMessages").add({id:"saveDVR",message:nT(e,Object(Ze.default)("There was a problem saving your DVR. Please try again."))}),n.set("isSavingDVR",!1)})},ADD_DVR_DEVICE(e,t,i){const n=EU(e);n.set("isSavingDVR",!0);const{serverEntityID:a,deviceID:s}=t,r=n.get("selectedDevice"),o=xU(e,t);RU(e,{serverEntityID:a,deviceID:s,enabled:!0}).then(()=>kU(e,t)).then(()=>{const i=Object(wi.m)(e,t),n=V.join(["/livetv/dvrs",o.id,"devices",r.id]),a=i.getXHROptions(n,{type:"PUT"});return D.a.ajax(a)}).done((e,t,s)=>{const l=s.getResponseHeader("X-Plex-Activity");o.get("devices").add([r]),n.set({epgDownloadActivityID:l,selectedDVR:o,isSavingDVR:!1}),i(nU({serverEntityID:a})),i(Hi({serverEntityID:a}))}).fail(e=>{n.get("setupErrorMessages").add({id:"addDVRDevice",message:nT(e,Object(Ze.default)("There was a problem adding a new device to your DVR. Please try again."))}),n.set("isSavingDVR",!1)})},REMOVE_DVR_DEVICE(e,t,i){const n=Object(wi.m)(e,t),a=xU(e,t),s=t.deviceID,r=V.join(["/livetv/dvrs",a.id,"devices",s]),o=n.getXHROptions(r,{type:"DELETE"});D.a.ajax(o).done((e,t,i)=>{a.get("devices").remove(s)})},SAVE_DVR_SETTINGS(e,t){const i=Object(wi.m)(e,t),n=xU(e,t),a=t.prefs,s=V.join(["/livetv/dvrs",t.dvrID,"prefs"],a);n.set("isSaving",!0);const r=i.getXHROptions(s,{type:"PUT"}),o=D.a.ajax(r);o.done(()=>{const e=n.get("prefs");Object.keys(a).forEach(t=>{e.get(t).set("value",a[t])}),n.set({isSaving:!1,saveError:null})}),o.fail(e=>{n.set({isSaving:!1,saveError:Object(DT.a)(e)})})},CLEAR_DVR_SETTINGS_SAVE_ERROR(e,t){xU(e,t).set("saveError",null)},SAVE_DEVICE_SETTINGS(e,t){const i=Object(wi.m)(e,t),n=AU(e,t),a=t.prefs,s=V.join(["/media/grabbers/devices",t.deviceID,"prefs"],a);n.set("isSaving",!0);const r=i.getXHROptions(s,{type:"PUT"}),o=D.a.ajax(r);o.done(()=>{const e=n.get("prefs");Object.keys(a).forEach(t=>{e.get(t).set("value",a[t])}),n.set({isSaving:!1,saveError:null})}),o.fail(e=>{n.set({isSaving:!1,saveError:Object(DT.a)(e)})})},CLEAR_DEVICE_SETTINGS_SAVE_ERROR(e,t){AU(e,t).set("saveError",null)},CLEAR_DEVICE_SCAN_PREFS(e){EU(e).set({scanPrefs:void 0,scanNetworks:void 0})},SET_DVR_DEVICE_ENABLED(e,t){RU(e,t)},[Ni](e,t,i){const n=EU(e);if(!n)return;const a=n.get("selectedDevice"),s=t.activity;if(a&&"provider.device.channelscan"===s.type&&parseInt(s.Context.deviceID,10)===a.id){const e=s.Response.Network;if(e){const t=new Lk(e,{parse:!0});n.set("scanNetworks",t)}else n.set("hasScannedChannels",!0)}else{if(s.uuid===n.get("epgLineupActivityID"))return n.set({selectedLineupUUID:s.Response.lineup,epgLineupActivityID:""}),void i(nU({serverEntityID:t.serverEntityID}));s.uuid!==n.get("epgDownloadActivityID")||n.set("epgDownloadActivityID","")}}});var UU=Object(Wu.a)(e=>e.ui.dvrSettingsUI,e=>e.dvrSetup);const VU=Object(Pi.a)("RESET_EPG_SETTINGS"),BU=Object(Pi.a)("FETCH_EPG_COUNTRIES"),FU=Object(Pi.a)("FETCH_EPG_LANGUAGES"),HU=Object(Pi.a)("SELECT_EPG_COUNTRY"),_U=Object(Pi.a)("SELECT_EPG_LANGUAGE"),WU=Object(Pi.a)("SELECT_EPG_REGION"),QU=Object(Pi.a)("SET_EPG_POSTAL_CODE"),GU=Object(Pi.a)("FETCH_EPG_LINEUPS");var KU=function(){return Object(Wu.a)(_S(),e=>{if(!e)return;return e.desktop.activities})};var YU=function(){return Object(Wu.a)((e,{deviceID:t})=>t,KU(),UU,(e,t,i)=>{const n=i.selectedDevice&&i.selectedDevice.key;return I.a.find(t,t=>"provider.device.channelscan"===t.type&&parseInt(t.Context.deviceID,10)===(e||n))})};var qU=Object(Wu.a)(e=>e.ui.dvrSettingsUI,e=>{const t=e.dvrSetup.setupErrorMessages;return t.length?t[0].message:null}),ZU=i("9O+r"),JU=i.n(ZU);const XU=Nd.a.createElement;function $U(e){let{children:t}=e,i=Xe()(e,["children"]);return XU("div",i,t)}$U.defaultProps={className:JU.a.group};var eV=$U,tV=i("v6AS"),iV=i.n(tV);const nV=Nd.a.createElement;function aV(e){let{children:t}=e,i=Xe()(e,["children"]);return nV("div",i,t)}aV.defaultProps={className:iV.a.buttonBar};var sV=aV,rV=i("7jkP"),oV=i.n(rV);const lV=Nd.a.createElement;function cV(e){let{children:t,className:i,loadingLabel:n,spinnerSize:a,spinnerColor:s,isDisabled:r,isSpinning:o}=e,l=Xe()(e,["children","className","loadingLabel","spinnerSize","spinnerColor","isDisabled","isSpinning"]);return lV(hw,tp()({className:(i||"")+" "+(oV.a.button||"")+" "+(o&&oV.a.isSpinning||""),isDisabled:r||o},l),Vu()("span",{className:oV.a.spinnerContainer},void 0,Vu()(Yh,{className:oV.a.spinner,color:s,loadingLabel:n,size:a})),Vu()("span",{className:oV.a.label},void 0,t))}cV.defaultProps={isDisabled:!1,isSpinning:!1,spinnerSize:Fh,spinnerColor:Wh.defaultColor};var dV=cV;const uV=Nd.a.createElement;function pV(e){return uV(dV,tp()({},e,{loadingLabel:Object(Ze.default)("Loading")}))}pV.defaultProps=dV.defaultProps;var hV=pV,mV=i("Rkkp"),gV=i.n(mV);var vV=function({errorMessage:e}){return Vu()("div",{className:gV.a.sectionError},void 0,Vu()(ph,{className:gV.a.sectionErrorIcon}),e||Object(Ze.default)("There was a problem saving your changes."))};var yV=function(e){const{title:t,children:i,errorMessage:n,onModalClose:a}=e;return Vu()(YL,{onModalClose:a},void 0,Vu()(zL,{},void 0,t||Object(Ze.default)("DVR Setup")),n?Vu()(vV,{errorMessage:n}):null,i)},fV=i("E6f+"),bV=i.n(fV);function IV({children:e,className:t}){return Vu()(AL,{className:t},void 0,e)}IV.defaultProps={className:bV.a.footer};var SV=IV;const{Component:CV}=Nd.a;class MV extends CV{constructor(...e){super(...e),this.onNextStepPress=()=>{this.props.dvrSetupNextStep({dvrID:this.props.dvrID})}}render(){const{label:e=Object(Ze.default)("Continue"),isDisabled:t}=this.props;return Vu()(hw,{kind:Pp,size:Hh,isDisabled:t,onPress:this.onNextStepPress},void 0,e)}}MV.defaultProps={isDisabled:!1};var DV=Object(Hu.b)(null,{dvrSetupNextStep:nU})(MV);const{Component:PV}=Nd.a;var OV=Object(Hu.b)(null,{dvrSetupPreviousStep:aU})(class extends PV{constructor(...e){super(...e),this.onPreviousStepPress=()=>{this.props.dvrSetupPreviousStep({dvrID:this.props.dvrID})}}render(){return Vu()(hw,{kind:Dp,size:Hh,onPress:this.onPreviousStepPress},void 0,Object(Ze.default)("Previous"))}}),jV=i("+MhW"),wV=i.n(jV);const TV=Nd.a.createElement;function EV(e){const{className:t,selectedClassName:i,circleClassName:n,iconClassName:a,title:s,isSelected:r}=e,o=Xe()(e,["className","selectedClassName","circleClassName","iconClassName","title","isSelected"]);return TV(zp,tp()({className:(t||"")+" "+(r&&i||""),"aria-label":r?Object(Ze.default)("Deselect {title}",{title:s}):Object(Ze.default)("Select {title}",{title:s})},o),Vu()("div",{className:n,"data-qa-id":"multipleSelectButton"},void 0,Vu()(ay,{className:a})))}EV.defaultProps={className:wV.a.selectButton,selectedClassName:wV.a.isSelected,circleClassName:wV.a.selectCircle,iconClassName:wV.a.selectedIcon};var NV=EV,xV=i("6a8U"),AV=i.n(xV);var LV=function(){const e=Object(Ze.default)("This tuner isn't officially supported by Plex, click for more information");return Vu()(Wb,{className:AV.a.unsupported,component:zp,tooltip:e,tooltipClassName:AV.a.unsupportedTooltip,tooltipAttachment:"bottomCenter",target:"_blank",to:Hp},void 0,Vu()(ph,{className:AV.a.unsupportedIcon,"aria-label":e}))},kV=i("t87T"),RV=i.n(kV);function zV(e){const{className:t,serverEntityID:i,providerEntityID:n,model:a,thumb:s,width:r,height:o}=e;let l;switch(a){case"HDHomeRun CONNECT":l="data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgNTYwIDU2MCIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHN0eWxlPSJzdHJva2UtbWl0ZXJsaW1pdDoxLjQxNDIxO2NsaXAtcnVsZTpldmVub2RkO2ZpbGwtcnVsZTpldmVub2RkO3N0cm9rZS1saW5lam9pbjpyb3VuZCI+CiA8cmVjdCB3aWR0aD0iNTYwIiBoZWlnaHQ9IjU2MCIgc3R5bGU9ImZpbGw6IzJmNDc0MSIvPgogPHBhdGggZD0ibTE0MCAyNDRjMC04LjI0MyA1LjgzMi0xNS4zNDcgMTQtMTYuNTE2bDI4LTMuNDgzaDE5NmwyOCAzLjQ4M2M4LjE4MyAxLjE2OSAxNCA4LjI4MSAxNCAxNi41MTZ2NzJjMCA4LjI0My01LjgzMiAxNS4zNDctMTQgMTYuNTE2bC0yOCAzLjQ4M2gtMTk2bC0yOC0zLjQ4M2MtOC4xODMtMS4xNjktMTQtOC4yODEtMTQtMTYuNTE2di03MiIgc3R5bGU9ImZpbGwtb3BhY2l0eTouMTQ5MDIiLz4KIDxwYXRoIGQ9Im0zNzggMzM2aC0xOTZsLTI4LTMuNDgzYy0uNTA2LS4wNzUtMS4wMS0uMTY4LTEuNTA2LS4yODgtMS4wODktLjI2MS0yLjE0OS0uNjM3LTMuMTU5LTEuMTItMi4xMzItMS4wMTgtNC4wMi0yLjUxNC01LjUyLTQuMzQtMS4yMzEtMS41MDItMi4xOTQtMy4yMi0yLjg0MS01LjA1LS40MzQtMS4yMzItLjcyNi0yLjUxMy0uODY5LTMuODExLS4wNjMtLjU2OS0uMTA0LTEuNzE0LS4xMDQtMS43MTR2LTcyLjM5YzAgMCAuMDQxLTEuMTQ2LjEwNC0xLjcxNi4xNDQtMS4yOTkuNDM2LTIuNTgxLjg3MS0zLjgxMi42NDgtMS44MzIgMS42MTItMy41NTEgMi44NDUtNS4wNSAxLjQ5OC0xLjgyNSAzLjM4OS0zLjMyIDUuNTE5LTQuMzM4IDEuMDEtLjQ4MiAyLjA2OS0uODU3IDMuMTU2LTEuMTE5LjQ5Ny0uMTE5Ljk5OS0uMjEyIDEuNTA0LS4yODdsMjgtMy40ODNoMTk2YzAgMCAxOC42NjcgMi4zMjIgMjggMy40ODMuNTA2LjA3NSAxLjAxLjE2OCAxLjUwNi4yODggMS4wODkuMjYxIDIuMTQ5LjYzNyAzLjE1OSAxLjEyIDIuMTMyIDEuMDE4IDQuMDIgMi41MTQgNS41MiA0LjM0IDEuMjMxIDEuNTAyIDIuMTk0IDMuMjIgMi44NDEgNS4wNS40MzQgMS4yMzIuNzI2IDIuNTEzLjg2OSAzLjgxMS4wNjMuNTY5LjEwNCAxLjcxNC4xMDQgMS43MTR2NzIuMzljMCAwLS4wNDEgMS4xNDYtLjEwNCAxLjcxNi0uMTQ0IDEuMjk5LS40MzYgMi41ODEtLjg3MSAzLjgxMi0uNjQ4IDEuODMyLTEuNjEyIDMuNTUxLTIuODQ1IDUuMDUtMS40OTggMS44MjUtMy4zODkgMy4zMi01LjUxOSA0LjMzOC0xLjAxLjQ4Mi0yLjA2OS44NTctMy4xNTYgMS4xMTktLjQ5Ny4xMTktLjk5OS4yMTItMS41MDQuMjg3bC0yOCAzLjQ4M20tLjU1OC0xMDNoLTE5NC44OGMtOS4xMjQgMS4xMzUtMTguMjc4IDIuMDUyLTI3LjM3MiAzLjQwNS0uMTEzLjAxOS0uMjI2LjAzOS0uMzM4LjA2MS0uNjQxLjEzNC0xLjI2LjM0OC0xLjg0MS42NS0uOTMxLjQ4Ni0xLjc0NSAxLjE4My0yLjM4NCAyLjAxLS40OTcuNjQ4LS44ODkgMS4zNzYtMS4xNjEgMi4xNDYtLjI5OS44NDYtLjQ2MSAyLjYyOS0uNDYxIDIuNjI5bC4wMDEgNzIuMjhjMCAwIC4xOTMgMS44MzQuNTE5IDIuNjk3LjI4Ny43NjIuNjkyIDEuNDc5IDEuMjAyIDIuMTE0LjY3MS44MzcgMS41MjQgMS41MjggMi40OTMgMS45OTEuNTk4LjI4NiAxLjIzMi40NzkgMS44ODQuNTkybC4wODcuMDE0LjAzMi4wMDQgMjcuMzM5IDMuNDAxaDE5NC44OGMwIDAgMTguMjc4LTIuMDUyIDI3LjM3MS0zLjQwNS42ODEtLjExIDEuMzQzLS4zMDcgMS45NjYtLjYwNCAxLjAyLS40ODggMS45MS0xLjIyNiAyLjU5OC0yLjEyMi40OC0uNjI1Ljg2MS0xLjMyNSAxLjEzMi0yLjA2NS4zMTctLjg2OS40OS0yLjcxLjQ5LTIuNzFsLS4wMDEtNzIuMjhjMCAwLS4xOTMtMS44MzQtLjUxOS0yLjY5OC0uMjg3LS43NjEtLjY5Mi0xLjQ3OC0xLjIwMS0yLjExMy0uNjU1LS44MTYtMS40ODItMS40OTQtMi40MjItMS45NTYtLjYxOS0uMzA1LTEuMjc4LS41MDktMS45NTYtLjYyN2wtLjA4Ni0uMDEzLS4wMzItLjAwNS0yNy4zNC0zLjQwMW0tMTMuNDQyIDM4YzQuOTY3IDAgOSA0LjAzIDkgOSAwIDQuOTY3LTQuMDMgOS05IDktNC45NjcgMC05LTQuMDMtOS05IDAtNC45NjcgNC4wMy05IDktOW0tNDIgMGM0Ljk2NyAwIDkgNC4wMyA5IDkgMCA0Ljk2Ny00LjAzIDktOSA5LTQuOTY3IDAtOS00LjAzLTktOSAwLTQuOTY3IDQuMDMtOSA5LTltLTEyNiAwYzQuOTY3IDAgOSA0LjAzIDkgOSAwIDQuOTY3LTQuMDMgOS05IDktNC45NjcgMC05LTQuMDMtOS05IDAtNC45NjcgNC4wMy05IDktOSIgc3R5bGU9ImZpbGw6IzkxYzUzYiIvPgo8L3N2Zz4K";break;case"HDHomeRun EXPAND":l="data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgNTYwIDU2MCIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHN0eWxlPSJzdHJva2UtbWl0ZXJsaW1pdDoxLjQxNDIxO2NsaXAtcnVsZTpldmVub2RkO2ZpbGwtcnVsZTpldmVub2RkO3N0cm9rZS1saW5lam9pbjpyb3VuZCI+CiA8cmVjdCB3aWR0aD0iNTYwIiBoZWlnaHQ9IjU2MCIgc3R5bGU9ImZpbGw6IzQxNDEzZSIvPgogPHBhdGggZD0ibTg0IDI0NGMwLTguMjQzIDUuODMyLTE1LjM0NyAxNC0xNi41MTZsNTYtMy40ODNoMjUybDU2IDMuNDgzYzguMTgzIDEuMTY5IDE0IDguMjgxIDE0IDE2LjUxNnY3MmMwIDguMjQzLTUuODMyIDE1LjM0Ny0xNCAxNi41MTZsLTU2IDMuNDgzaC0yNTJsLTU2LTMuNDgzYy04LjE4My0xLjE2OS0xNC04LjI4MS0xNC0xNi41MTZ2LTcyIiBzdHlsZT0iZmlsbC1vcGFjaXR5Oi4xNDkwMiIvPgogPHBhdGggZD0ibTQwNiAzMzZoLTI1MmwtNTYtMy40ODNjLS41MDYtLjA3NS0xLjAxLS4xNjgtMS41MDYtLjI4OC0xLjA4OS0uMjYxLTIuMTQ5LS42MzctMy4xNTktMS4xMi0yLjEzMi0xLjAxOC00LjAyLTIuNTE0LTUuNTItNC4zNC0xLjIzMS0xLjUwMi0yLjE5NC0zLjIyLTIuODQxLTUuMDUtLjQzNC0xLjIzMi0uNzI2LTIuNTEzLS44NjktMy44MTEtLjA2My0uNTY5LS4xMDQtMS43MTQtLjEwNC0xLjcxNHYtNzIuMzljMCAwIC4wNDEtMS4xNDYuMTA0LTEuNzE2LjE0NC0xLjI5OS40MzYtMi41ODEuODcxLTMuODEyLjY0OC0xLjgzMiAxLjYxMi0zLjU1MSAyLjg0NS01LjA1IDEuNDk4LTEuODI1IDMuMzg5LTMuMzIgNS41MTktNC4zMzggMS4wMS0uNDgyIDIuMDY5LS44NTcgMy4xNTYtMS4xMTkuNDk3LS4xMTkuOTk5LS4yMTIgMS41MDQtLjI4N2w1Ni0zLjQ4M2gyNTJjMCAwIDM3LjMzIDIuMzIyIDU2IDMuNDgzLjUwNi4wNzUgMS4wMS4xNjggMS41MDYuMjg4IDEuMDg5LjI2MSAyLjE0OS42MzcgMy4xNTkgMS4xMiAyLjEzMiAxLjAxOCA0LjAyIDIuNTE0IDUuNTIgNC4zNCAxLjIzMSAxLjUwMiAyLjE5NCAzLjIyIDIuODQxIDUuMDUuNDM0IDEuMjMyLjcyNiAyLjUxMy44NjkgMy44MTEuMDYzLjU2OS4xMDQgMS43MTQuMTA0IDEuNzE0djcyLjM5YzAgMC0uMDQxIDEuMTQ2LS4xMDQgMS43MTYtLjE0NCAxLjI5OS0uNDM2IDIuNTgxLS44NzEgMy44MTItLjY0OCAxLjgzMi0xLjYxMiAzLjU1MS0yLjg0NSA1LjA1LTEuNDk4IDEuODI1LTMuMzg5IDMuMzItNS41MTkgNC4zMzgtMS4wMS40ODItMi4wNjkuODU3LTMuMTU2IDEuMTE5LS40OTcuMTE5LS45OTkuMjEyLTEuNTA0LjI4N2wtNTYgMy40ODNtLS4yOC0xMDNoLTI1MS40NGwtNTUuMjkgMy40MzljLS4xMDMuMDE5LS4yMDYuMDQtLjMwOC4wNjMtLjYwOC4xNDItMS4xOTUuMzU2LTEuNzQ1LjY1MS0uOTUxLjUxLTEuNzc2IDEuMjQxLTIuNDEzIDIuMTExLS40NTEuNjE0LS44MDggMS4yOTUtMS4wNjIgMi4wMS0uMjk5Ljg0NS0uNDYxIDIuNjI4LS40NjEgMi42Mjh2NzIuMjhjMCAwIC4xOTMgMS44MzQuNTE5IDIuNjk4LjI4Ny43NjEuNjkyIDEuNDc4IDEuMjAyIDIuMTEzLjY3MS44MzggMS41MjQgMS41MjggMi40OTMgMS45OTEuNTYzLjI2OSAxLjE2LjQ1OSAxLjc3NC41NzJsNTUuMjkgMy40MzloMjUxLjQ0bDU1LjI5LTMuNDM5Yy42MTItLjExMyAxLjIwNy0uMzAyIDEuNzY5LS41NyAxLjAyLS40ODggMS45MS0xLjIyNiAyLjU5OC0yLjEyMi40OC0uNjI1Ljg2MS0xLjMyNSAxLjEzMi0yLjA2NS4zMTctLjg2OS40OS0yLjcxLjQ5LTIuNzFsLS4wMDEtNzIuMjhjMCAwLS4xOTMtMS44MzQtLjUxOS0yLjY5OC0uMjg3LS43NjEtLjY5Mi0xLjQ3OC0xLjIwMS0yLjExMy0uNjcyLS44MzgtMS41MjUtMS41MjgtMi40OTUtMS45OTItLjU2My0uMjY5LTEuMTYtLjQ1OC0xLjc3My0uNTcxbC01NS4yOS0zLjQzOW0tNDEuNzIgMzhjNC45NjcgMCA5IDQuMDMgOSA5IDAgNC45NjctNC4wMyA5LTkgOS00Ljk2NyAwLTktNC4wMy05LTkgMC00Ljk2NyA0LjAzLTkgOS05bS00MiAwYzQuOTY3IDAgOSA0LjAzIDkgOSAwIDQuOTY3LTQuMDMgOS05IDktNC45NjcgMC05LTQuMDMtOS05IDAtNC45NjcgNC4wMy05IDktOW0tNDIgMGM0Ljk2NyAwIDkgNC4wMyA5IDkgMCA0Ljk2Ny00LjAzIDktOSA5LTQuOTY3IDAtOS00LjAzLTktOSAwLTQuOTY3IDQuMDMtOSA5LTltLTg0IDBjNC45NjcgMCA5IDQuMDMgOSA5IDAgNC45NjctNC4wMyA5LTkgOS00Ljk2NyAwLTktNC4wMy05LTkgMC00Ljk2NyA0LjAzLTkgOS05bS00MiAwYzQuOTY3IDAgOSA0LjAzIDkgOSAwIDQuOTY3LTQuMDMgOS05IDktNC45NjcgMC05LTQuMDMtOS05IDAtNC45NjcgNC4wMy05IDktOSIgc3R5bGU9ImZpbGw6I2Y3OTQxZSIvPgo8L3N2Zz4K";break;case"HDHomeRun EXTEND":l="data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgNTYwIDU2MCIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHN0eWxlPSJzdHJva2UtbWl0ZXJsaW1pdDoxLjQxNDIxO2NsaXAtcnVsZTpldmVub2RkO2ZpbGwtcnVsZTpldmVub2RkO3N0cm9rZS1saW5lam9pbjpyb3VuZCI+CiA8cmVjdCB3aWR0aD0iNTYwIiBoZWlnaHQ9IjU2MCIgc3R5bGU9ImZpbGw6IzFlNDI1NCIvPgogPHBhdGggZD0ibTQyMCAyMzhjMC03LjcyNi02LjI3NS0xNC0xNC0xNGgtMjUyYy03LjcyNyAwLTE0IDYuMjc0LTE0IDE0djg0YzAgNy43MjcgNi4yNzMgMTQgMTQgMTRoMjUyYzcuNzI2IDAgMTQtNi4yNzMgMTQtMTR2LTg0IiBzdHlsZT0iZmlsbC1vcGFjaXR5Oi4xNDkwMiIvPgogPHBhdGggZD0ibTQwNi4xOCAyMjRjMCAwIC45NTIuMDM2IDEuNDI2LjA5IDEuMDM2LjExOSAyLjA1OS4zNTQgMy4wNDMuNzAxIDEuOTE2LjY3NSAzLjY3NSAxLjc3NCA1LjEyOCAzLjE5MiAxLjQ5MiAxLjQ1OCAyLjY1NCAzLjI0NiAzLjM3MiA1LjIwNC4zNTguOTc4LjYwNiAxLjk5Ny43MzcgMy4wMy4wNjguNTMyLjExMiAxLjYwMS4xMTIgMS42MDF2ODQuMzZjMCAwLS4wNDQgMS4wNjktLjExMiAxLjYwMS0uMTMxIDEuMDMzLS4zNzkgMi4wNTItLjczNyAzLjAzLS43MTggMS45NTgtMS44OCAzLjc0Ni0zLjM3MiA1LjIwNC0xLjQ1MyAxLjQxOC0zLjIxMiAyLjUxNy01LjEyOCAzLjE5Mi0uOTg0LjM0Ny0yLjAxLjU4Mi0zLjA0My43MDEtLjQ3NC4wNTQtMS40MjYuMDktMS40MjYuMDloLTI1Mi4zNmMwIDAtLjk1Mi0uMDM2LTEuNDI2LS4wOS0xLjAzNi0uMTE5LTIuMDU5LS4zNTQtMy4wNDMtLjcwMS0xLjkxNi0uNjc1LTMuNjc1LTEuNzc0LTUuMTI4LTMuMTkyLTEuNDkyLTEuNDU4LTIuNjU0LTMuMjQ2LTMuMzcyLTUuMjA0LS4zNTgtLjk3OC0uNjA2LTEuOTk3LS43MzctMy4wMy0uMDY4LS41MzItLjExMi0xLjYwMS0uMTEyLTEuNjAxdi04NC4zNmMwIDAgLjA0NC0xLjA2OS4xMTItMS42MDEuMTMxLTEuMDMzLjM3OS0yLjA1Mi43MzctMy4wMy43MTgtMS45NTggMS44OC0zLjc0NiAzLjM3Mi01LjIwNCAxLjQ1My0xLjQxOCAzLjIxMi0yLjUxNyA1LjEyOC0zLjE5Mi45ODQtLjM0NyAyLjAxLS41ODIgMy4wNDMtLjcwMS40NzQtLjA1NCAxLjQyNi0uMDkgMS40MjYtLjA5aDI1Mi4zNm0tMjUyLjE1IDguOTk5YzAgMC0uNDA4LjAxLS42MTEuMDMzLS40MDYuMDQ3LS44MDYuMTQ0LTEuMTg4LjI4OS0xLjM0NC41MTEtMi40MzQgMS42MTQtMi45MjggMi45NjMtLjE5NC41MjktLjMgMS42NDgtLjMgMS42NDhsLjAwMSA4NC4yYzAgMCAuMTEyIDEuMDc0LjI5OSAxLjU4Mi40OTQgMS4zNDkgMS41ODQgMi40NTIgMi45MjggMi45NjMuNTI0LjIgMS42MzguMzIgMS42MzguMzJoMjUyLjI3YzAgMCAxLjExNC0uMTIgMS42MzktLjMyIDEuMzQzLS41MTEgMi40MzMtMS42MTQgMi45MjctMi45NjMuMTg2LS41MDguMjk5LTEuNTgyLjI5OS0xLjU4MnYtODQuMjdjMCAwLS4xMi0xLjExNC0uMzItMS42MzgtLjUxMS0xLjM0NC0xLjYxNC0yLjQzNC0yLjk2My0yLjkyOC0uNTA4LS4xODctMS41ODItLjI5OS0xLjU4Mi0uMjk5bC0yNTIuMS0uMDAybTEwMS43MSA2My40MmgtNi45NjN2LTMyLjgzOGg2Ljk2M3YxMi44N2gxMy4wMXYtMTIuODdoNi45NDF2MzIuODM4aC02Ljk0MXYtMTQuMTczaC0xMy4wMXYxNC4xNzNtMzcuNTMyIDBoLTkuMjk4di0zMi44MzhoMTAuMzA5YzUuMzYxIDAgOS41MjQgMS40MTUgMTIuNDg4IDQuMjQ1IDIuOTY1IDIuODMgNC40NDggNi43ODMgNC40NDggMTEuODYgMCA1LjQwNS0xLjUzOSA5LjU0NS00LjYxNiAxMi40Mi0zLjA3NyAyLjg3NS03LjUyIDQuMzEzLTEzLjMzMSA0LjMxM20xLjM3MS0yNy4xM2gtMy43MDd2MjEuMzgzaDIuOTg4YzYuNzA4IDAgMTAuMDYtMy42MDEgMTAuMDYtMTAuODA0IDAtNy4wNS0zLjExNC0xMC41NzktOS4zNDMtMTAuNTc5IiBzdHlsZT0iZmlsbDojMzFhZmMwIi8+Cjwvc3ZnPgo=";break;case"HDHomeRun PRIME":l="data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgNTYwIDU2MCIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHN0eWxlPSJzdHJva2UtbWl0ZXJsaW1pdDoxLjQxNDIxO2NsaXAtcnVsZTpldmVub2RkO2ZpbGwtcnVsZTpldmVub2RkO3N0cm9rZS1saW5lam9pbjpyb3VuZCI+CiA8cmVjdCB3aWR0aD0iNTYwIiBoZWlnaHQ9IjU2MCIgc3R5bGU9ImZpbGw6IzJmMzM0ZCIvPgogPHBhdGggZD0ibTg0IDI0NGMwLTguMjQzIDUuODMyLTE1LjM0NyAxNC0xNi41MTZsNTYtMy40ODNoMjUybDU2IDMuNDgzYzguMTgzIDEuMTY5IDE0IDguMjgxIDE0IDE2LjUxNnY3MmMwIDguMjQzLTUuODMyIDE1LjM0Ny0xNCAxNi41MTZsLTU2IDMuNDgzaC0yNTJsLTU2LTMuNDgzYy04LjE4My0xLjE2OS0xNC04LjI4MS0xNC0xNi41MTZ2LTcyIiBzdHlsZT0iZmlsbC1vcGFjaXR5Oi4xNDkwMiIvPgogPHBhdGggZD0ibTQwNiAzMzZoLTI1MmwtNTYtMy40ODNjLS41MDYtLjA3NS0xLjAxLS4xNjgtMS41MDYtLjI4OC0xLjA4OS0uMjYxLTIuMTQ5LS42MzctMy4xNTktMS4xMi0yLjEzMi0xLjAxOC00LjAyLTIuNTE0LTUuNTItNC4zNC0xLjIzMS0xLjUwMi0yLjE5NC0zLjIyLTIuODQxLTUuMDUtLjQzNC0xLjIzMi0uNzI2LTIuNTEzLS44NjktMy44MTEtLjA2My0uNTY5LS4xMDQtMS43MTQtLjEwNC0xLjcxNHYtNzIuMzljMCAwIC4wNDEtMS4xNDYuMTA0LTEuNzE2LjE0NC0xLjI5OS40MzYtMi41ODEuODcxLTMuODEyLjY0OC0xLjgzMiAxLjYxMi0zLjU1MSAyLjg0NS01LjA1IDEuNDk4LTEuODI1IDMuMzg5LTMuMzIgNS41MTktNC4zMzggMS4wMS0uNDgyIDIuMDY5LS44NTcgMy4xNTYtMS4xMTkuNDk3LS4xMTkuOTk5LS4yMTIgMS41MDQtLjI4N2w1Ni0zLjQ4M2gyNTJjMCAwIDM3LjMzIDIuMzIyIDU2IDMuNDgzLjUwNi4wNzUgMS4wMS4xNjggMS41MDYuMjg4IDEuMDg5LjI2MSAyLjE0OS42MzcgMy4xNTkgMS4xMiAyLjEzMiAxLjAxOCA0LjAyIDIuNTE0IDUuNTIgNC4zNCAxLjIzMSAxLjUwMiAyLjE5NCAzLjIyIDIuODQxIDUuMDUuNDM0IDEuMjMyLjcyNiAyLjUxMy44NjkgMy44MTEuMDYzLjU2OS4xMDQgMS43MTQuMTA0IDEuNzE0djcyLjM5YzAgMC0uMDQxIDEuMTQ2LS4xMDQgMS43MTYtLjE0NCAxLjI5OS0uNDM2IDIuNTgxLS44NzEgMy44MTItLjY0OCAxLjgzMi0xLjYxMiAzLjU1MS0yLjg0NSA1LjA1LTEuNDk4IDEuODI1LTMuMzg5IDMuMzItNS41MTkgNC4zMzgtMS4wMS40ODItMi4wNjkuODU3LTMuMTU2IDEuMTE5LS40OTcuMTE5LS45OTkuMjEyLTEuNTA0LjI4N2wtNTYgMy40ODNtLS4yOC0xMDNoLTI1MS40NGwtNTUuMjkgMy40MzljLS4xMDMuMDE5LS4yMDYuMDQtLjMwOC4wNjMtLjYwOC4xNDItMS4xOTUuMzU2LTEuNzQ1LjY1MS0uOTUxLjUxLTEuNzc2IDEuMjQxLTIuNDEzIDIuMTExLS40NTEuNjE0LS44MDggMS4yOTUtMS4wNjIgMi4wMS0uMjk5Ljg0NS0uNDYxIDIuNjI4LS40NjEgMi42Mjh2NzIuMjhjMCAwIC4xOTMgMS44MzQuNTE5IDIuNjk4LjI4Ny43NjEuNjkyIDEuNDc4IDEuMjAyIDIuMTEzLjY3MS44MzggMS41MjQgMS41MjggMi40OTMgMS45OTEuNTYzLjI2OSAxLjE2LjQ1OSAxLjc3NC41NzJsNTUuMjkgMy40MzloMjUxLjQ0bDU1LjI5LTMuNDM5Yy42MTItLjExMyAxLjIwNy0uMzAyIDEuNzY5LS41NyAxLjAyLS40ODggMS45MS0xLjIyNiAyLjU5OC0yLjEyMi40OC0uNjI1Ljg2MS0xLjMyNSAxLjEzMi0yLjA2NS4zMTctLjg2OS40OS0yLjcxLjQ5LTIuNzFsLS4wMDEtNzIuMjhjMCAwLS4xOTMtMS44MzQtLjUxOS0yLjY5OC0uMjg3LS43NjEtLjY5Mi0xLjQ3OC0xLjIwMS0yLjExMy0uNjcyLS44MzgtMS41MjUtMS41MjgtMi40OTUtMS45OTItLjU2My0uMjY5LTEuMTYtLjQ1OC0xLjc3My0uNTcxbC01NS4yOS0zLjQzOW0tNDEuNzIgMzhjNC45NjcgMCA5IDQuMDMgOSA5IDAgNC45NjctNC4wMyA5LTkgOS00Ljk2NyAwLTktNC4wMy05LTkgMC00Ljk2NyA0LjAzLTkgOS05bS00MiAwYzQuOTY3IDAgOSA0LjAzIDkgOSAwIDQuOTY3LTQuMDMgOS05IDktNC45NjcgMC05LTQuMDMtOS05IDAtNC45NjcgNC4wMy05IDktOW0tNDIgMGM0Ljk2NyAwIDkgNC4wMyA5IDkgMCA0Ljk2Ny00LjAzIDktOSA5LTQuOTY3IDAtOS00LjAzLTktOSAwLTQuOTY3IDQuMDMtOSA5LTltLTg0IDBjNC45NjcgMCA5IDQuMDMgOSA5IDAgNC45NjctNC4wMyA5LTkgOS00Ljk2NyAwLTktNC4wMy05LTkgMC00Ljk2NyA0LjAzLTkgOS05bS00MiAwYzQuOTY3IDAgOSA0LjAzIDkgOSAwIDQuOTY3LTQuMDMgOS05IDktNC45NjcgMC05LTQuMDMtOS05IDAtNC45NjcgNC4wMy05IDktOSIgc3R5bGU9ImZpbGw6Izk0NTA4ZCIvPgo8L3N2Zz4K"}return Vu()(tC,{serverEntityID:i,providerEntityID:n,className:t,url:s,emptySrc:l,width:r,height:o})}zV.defaultProps={className:RV.a.image};var UV=zV;var VV=function({className:e,uri:t}){const i=t.replace(/^https?:\/\//,"");return Vu()("div",{className:e},void 0,i)};var BV=nj()({},Ev,{sliderTrackSize:"60px",sliderThumbSize:"12px",serverMenuItemHeight:"60px",sourceMenuItemHeight:"65px",sourceMenuItemGutter:"25px",posterCenterCircleSize:"42px",posterBadgeHeight:"24px",posterHoverSlideDistance:"10px",posterIconPadding:"20px",posterProgressHeight:"4px",v4CardBorderRadius:"4px",v4CardShadowSize:"4px",v4CardTitleGap:"10px",v4CardTitleHeight:"20px",v4CardCircleSize:"42px",listButtonHeight:"40px",hubCellHeaderBottomPadding:"5px",hubCellHeaderTopPadding:"25px",v4ListSpacing:"40px",v4SpotlightHeight:"350px",pagePadding:"60px",v4PagePadding:"50px",v4PagePaddingAlt:"25px",pageHeaderRowHeight:"50px",pageHeaderLeftMargin:"40px",pageHeaderTabButtonLeftRightMargin:"5px",recordingPriorityPaneWidth:"360px",recordingPriorityPaneBorderWidth:"4px",recordingPriorityDragHandleWidth:"62px",channelGridRowHeight:"60px",channelGridTitleColumnWidth:"130px",channelGridChannelColumnWidth:"250px",channelGridChannelOverflowWidth:"100px",channelGridChannelIconWidth:"80px",channelGridBorderSize:"1.5px",jumpBarCharacterHeight:"25px",jumpBarCharacterPadding:"10px",jumpBarGutter:"30px",jumpBarMargin:"10px",playCellWidth:"42px",actionsCellWidth:"82px",actionsCellPadding:"10px",summaryCellHeight:"136px",simpleSummaryCellHeight:"90px",summaryCellPadding:"20px",trackCellHeight:"60px",trackCellPadding:"10px",mosaicCellPadding:"5px",timelineGutter:"60px",prePlaySummaryMaxWidth:"750px",prePlayPosterMinWidth:"150px",prePlayPosterMaxWidth:"230px",prePlayPosterWidthRatio:"0.15",prePlayContentPadding:"20px",prePlayRatingBase:"1em",v4PrePlayListTitleGap:"20px",v4PrePlayDividerHeight:"2px",postPlayPosterWidth:"260px",postPlayTitleHeight:"40px",postPlayAutoPlayHeight:"55px",dvrSetupImageWidth:"193px",playerControlsHeight:"100px",playerControlsMinWidth:"640px",playerControlsNarrowHeight:"140px",playerControlsNarrowBreakpoint:"960px",playerControlsPosterHeight:"80px",playerControlsPosterLeftGutter:"8px",playerControlsPosterBottomGutter:"8px",playerControlsNarrowPosterBottomGutter:"48px",playerControlsContentSpacing:"20px",playerControlsSquarePosterWidth:"80px",playerControlsLandscapePosterWidth:Math.round(16/9*80)+"px",playerInfoBarHeight:"45px",playerTopControlsHeight:"60px",playerSideControlsWidth:"100px",playerOverlayActionEdgeGutter:"20px",playerIconButtonSize:"30px",playerIconButtonSpacing:"5px",playerVolumeSliderWidth:"32px",playerVolumeSliderHeight:"60px",seekBarHeight:"4px",seekBarTooltipMarginBottom:"4px",seekBarTooltipHeight:"23px",seekBarTooltipSmallWidth:"60px",seekBarTooltipLargeWidth:"90px",playQueueItemHeight:"68px",playQueueMoveButtonWidth:"54px",playQueueSidePadding:"60px",lyricsLineHeight:"30px",lyricsLineWidth:"640px",playerMediaOverlayInnerMargin:"1vw",playerMediaOverlayOuterMargin:"2vw",playlistItemCardWidth:"64px",playlistBadgeSize:"30px",navigationIconSize:"20px",sourceSidebarIconSize:"18px",sourceSidebarWidth:"60px",sourceSidebarExpandedWidth:"260px",sourceSidebarLeftGutter:"20px",sourceSidebarItemHeight:"50px",sourceSidebarLinkHoverStatusbarAllowance:"20px",sourceSidebarServerHeaderIconSize:"24px",homeServerListItemHeight:"40px",serverSelectMenuWidth:"260px",heroBadgeHeight:"90px",heroPageMinHeight:"600px",serverShareListRowHeight:"40px",lineupSettingChannelHeight:"40px",spotlightHubCellHeight:"324px",spotlightHubCellGap:"25px",watchTogetherLobbyPosterWidth:"260px",watchTogetherLobbyTitleHeight:"40px"}),FV=i("/EX7"),HV=i.n(FV);const{Component:_V}=Nd.a,WV=parseInt(BV.dvrSetupImageWidth,10);var QV=Vu()(LV,{});class GV extends _V{constructor(...e){super(...e),this.onSelectDevicePress=()=>{this.props.onSelectDevice(this.props.deviceID)}}render(){const{className:e,serverEntityID:t,make:i,model:n,uri:a,thumb:s,channelCount:r,unsupported:o,isSelectable:l,isSelected:c,includeUri:d,includeChannelCount:u}=this.props;let p;return p=1===r?Object(Ze.default)("1 channel"):r>1?Object(Ze.default)("{channelCount} channels",{channelCount:r}):Object(Ze.default)("No channels"),Vu()("div",{className:e},void 0,l?Vu()(zp,{onPress:this.onSelectDevicePress},void 0,Vu()("div",{className:HV.a.deviceImageContainer},void 0,Vu()(UV,{serverEntityID:t,model:n,thumb:s,width:WV,height:100}),c?Vu()(NV,{className:HV.a.selectButton,component:"div",title:n,isSelected:!0,isDisabled:!0}):null)):null,l?null:Vu()(UV,{serverEntityID:t,model:n,thumb:s,width:WV,height:100}),Vu()("div",{className:HV.a.details},void 0,Vu()("div",{className:HV.a.make},void 0,i),Vu()("div",{className:HV.a.modelContainer},void 0,Vu()("div",{className:HV.a.model},void 0,n),o?QV:null),d?Vu()(VV,{className:HV.a.uri,uri:a}):null,u?Vu()("div",{className:HV.a.channelCount},void 0,p):null))}}GV.defaultProps={includeUri:!1,includeChannelCount:!1,isSelectable:!1};var KV=GV,YV=i("yhTy"),qV=i.n(YV);const{Component:ZV}=Nd.a;class JV extends ZV{constructor(e,t){super(e,t),this._progressPosition=void 0,this._progressToTween=void 0,this.onProgressToUpdate=()=>{this.setState({progress:this._progressPosition.progress})},this.onProgressToComplete=()=>{this._progressToTween=null},this.state={progress:0}}componentDidMount(){this._progressTo(this.props)}componentDidUpdate(e){e.progress!==this.props.progress&&this._progressTo(this.props)}componentWillUnmount(){this._cancelProgressTo()}_progressTo({progress:e}){const t=this.props.smoothProgressDuration/1e3,i={progress:e,ease:this.props.easing,onUpdate:this.onProgressToUpdate,onComplete:this.onProgressToComplete};this._progressPosition={progress:this.state.progress},this._cancelProgressTo(),this._progressToTween=Gp.a.to(this._progressPosition,t,i)}_cancelProgressTo(){this._progressToTween&&(this._progressToTween.kill(),this._progressToTween=null)}render(){const e=this.state.progress,{className:t,containerClassName:i,backgroundClassName:n,textClassName:a,size:s,lineWidth:r,strokeColor:o,trackColor:l,progressText:c=Math.round(e)+"%",showProgressText:d,showIndeterminate:u}=this.props,p=u?50:e,h=u?null:c,m=s/2,g=m-r,v=Math.PI*(2*g),y=s+"px",f=s-3*r+"px",b=(100-p)/100*v;return Vu()("div",{className:i,style:{width:y,height:y,lineHeight:y}},void 0,Vu()("svg",{className:(t||"")+" "+(u&&qV.a.indeterminate||""),version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:s,height:s},void 0,l?Vu()("circle",{fill:"transparent",r:g,cx:m,cy:m,style:{strokeWidth:r,stroke:l}}):null,Vu()("circle",{fill:"transparent",r:g,cx:m,cy:m,strokeDasharray:v,style:{strokeWidth:r,stroke:o,strokeDashoffset:b}})),Vu()("div",{className:n,style:{width:f,height:f}}),d&&h?Vu()("div",{className:a},void 0,h):null)}}JV.defaultProps={className:qV.a.circularProgressBar,containerClassName:qV.a.circularProgressBarContainer,backgroundClassName:qV.a.circularProgressBarBackground,textClassName:qV.a.circularProgressBarText,size:60,lineWidth:5,strokeColor:Wh.primaryColor,showProgressText:!0,smoothProgressDuration:1e3};var XV=JV;const $V=Yp.a.Power0.easeInOut,eB=Yp.a.Power3.easeOut;var tB=i("jsGA"),iB=i.n(tB);const nB=Nd.a.createElement;function aB(e){return nB(XV,tp()({},e,{textClassName:iB.a.circularProgressBarText}))}aB.defaultProps=Object.assign({},XV.defaultProps,{backgroundClassName:iB.a.circularProgressBarBackground,strokeColor:aj.primaryColor,easing:eB});var sB=aB;function rB(e){var t=e["aria-label"],i=e.className,n=e.style,a={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-dvr-clock-hour-560"};a["aria-hidden"]=!t,a.style=n,a.className=Ad.a.plexIcon+(i?" "+i:"");var s=[Nd.a.createElement.apply(Nd.a,["path",{d:"m179.45 378h-106.62l29.821-29.12h51.725l25.07 29.12m-148.31-81.48l-6.069 75.88-25.07-29.12 3.167-39.48 18.737-18.2 9.236 10.92m69.934 7.28l-3.166 39.48-29.821 29.12 6.069-75.88 11.348-10.92 15.57 18.2m61.23-9.24h-58.59l-12.403-14.56 14.779-14.56h58.59l12.667 14.56-15.04 14.56m-155.18-38.36l3.167-39.48 29.821-29.12-6.07 75.88-11.347 11.2-15.571-18.48m159.93 0l3.167-39.48 29.821-29.12-6.07 75.88-11.348 11.2-15.57-18.48m-1.32-44.8h-51.724l-25.07-29.4h106.62l-29.821 29.4"}].concat([]))];return t&&s.unshift(Nd.a.createElement("title",null,t)),Nd.a.createElement.apply(Nd.a,["svg",a].concat(s))}rB.propTypes={"aria-label":vc.a.string,className:vc.a.string,style:vc.a.object};var oB=rB;function lB(e){var t=e["aria-label"],i=e.className,n=e.style,a={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-dvr-clock-minutes-560"};a["aria-hidden"]=!t,a.style=n,a.className=Ad.a.plexIcon+(i?" "+i:"");var s=[Nd.a.createElement.apply(Nd.a,["path",{d:"m391.63 378h-106.62l29.821-29.12h51.725l25.07 29.12m147.79 0h-106.62l29.821-29.12h51.725l25.07 29.12m-226.16-74.2l-3.167 39.48-29.821 29.12 6.07-75.88 11.347-10.92 15.571 18.2m89.99-7.28l-6.07 75.88-25.07-29.12 3.167-39.48 18.737-18.2 9.236 10.92m57.795 7.28l-3.167 39.48-29.821 29.12 6.07-75.88 11.348-10.92 15.57 18.2m89.99-7.28l-6.069 75.88-25.07-29.12 3.167-39.48 18.737-18.2 9.236 10.92m-261.79-33.04l6.069-75.88 25.07 29.12-3.167 39.48-18.737 18.48-9.236-11.2m89.99-7.28l3.167-39.48 29.821-29.12-6.07 75.88-11.348 11.2-15.57-18.48m57.795 7.28l6.069-75.88 25.07 29.12-3.167 39.48-18.737 18.48-9.236-11.2m89.99-7.28l3.167-39.48 29.821-29.12-6.07 75.88-11.348 11.2-15.57-18.48m-149.1-44.8h-51.725l-25.07-29.4h106.62l-29.821 29.4m177.61-29.4l-29.821 29.4h-51.725l-25.07-29.4h106.62"}].concat([]))];return t&&s.unshift(Nd.a.createElement("title",null,t)),Nd.a.createElement.apply(Nd.a,["svg",a].concat(s))}lB.propTypes={"aria-label":vc.a.string,className:vc.a.string,style:vc.a.object};var cB=lB;function dB(e){var t=e["aria-label"],i=e.className,n=e.style,a={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-dvr-clock-separator-560"};a["aria-hidden"]=!t,a.style=n,a.className=Ad.a.plexIcon+(i?" "+i:"");var s=[Nd.a.createElement.apply(Nd.a,["path",{d:"m218.51 378l2.375-29.12h27.71l-2.375 29.12h-27.71m11.08-134.12l2.376-29.12h27.709l-2.375 29.12h-27.71"}].concat([]))];return t&&s.unshift(Nd.a.createElement("title",null,t)),Nd.a.createElement.apply(Nd.a,["svg",a].concat(s))}dB.propTypes={"aria-label":vc.a.string,className:vc.a.string,style:vc.a.object};var uB=dB,pB=i("Xs/E"),hB=i.n(pB);const mB=Nd.a.createElement;function gB(e){let{children:t,className:i}=e,n=Xe()(e,["children","className"]);return mB("p",tp()({},n,{className:i}),t)}gB.defaultProps={className:hB.a.help};var vB=gB;var yB=function(e){const{className:t,name:i,labelText:n,showErrors:a,errors:s}=e,[r]=s;return Vu()(GM,{className:t,hasError:a,name:i},void 0,n,a&&r?"  "+r:null)};const fB=Nd.a.createElement,{Component:bB}=Nd.a;function IB(e){var t,i;const n="FormInput("+ff(e)+")";return i=t=class extends bB{constructor(e,t){super(e,t),this.actions=void 0,this.hasBlurred=void 0,this.previousFormState=void 0,this.store=void 0,this.unsubscribe=void 0,this.onFormStoreChange=()=>{const{name:e}=this.props,t=this.store.getState(),i=t[e];i||this.initializeInputState(this.props),wp(t,this.previousFormState)||(this.previousFormState=t,this.handleStateChange(this.props)),this.state!==i&&null!=i&&this.setState(i)},this.onChange=e=>{const{transformValue:t}=this.props;this.handleStateChange(this.props,t?t(e):e)},this.onBlur=()=>{if(this.hasBlurred)return;this.hasBlurred=!0;const e=this.store.getState(),{name:t}=this.props,i=e[t],n=this.calculateErrors(i.value,e,this.props);this.actions.change({name:t,change:Object.assign({},i,{errors:n,showErrors:0!==n.length})})},this.store=t.formStore,this.actions=Object(EM.bindActionCreators)(UM,this.store.dispatch),this.state=null,this.hasBlurred=!1}componentWillMount(){this.previousFormState=this.store.getState(),this.unsubscribe=this.store.subscribe(this.onFormStoreChange),this.initializeInputState(this.props)}componentWillReceiveProps(e){Object(Ik.a)(e.initialValue)&&Object(Ik.a)(this.props.initialValue)?wp(e.initialValue,this.props.initialValue)||this.handleStateChange(e,e.initialValue):I.a.isEqual(e.initialValue,this.props.initialValue)||this.handleStateChange(e,e.initialValue)}shouldComponentUpdate(e,t){return Tp(this,e,t)}componentWillUnmount(){const{name:e}=this.props;this.unsubscribe&&this.unsubscribe(),this.actions.change({name:e,change:null})}initializeInputState(e){const{name:t,initialValue:i}=e,n=this.store.getState();n[t]={errors:this.calculateErrors(i,n,e),showErrors:!1,value:i},this.actions.replaceState(n)}handleStateChange(e,t){const i=this.store.getState(),{name:n}=e,a=i[n],s=Array.isArray(t)||null!=t?t:a.value,r=this.calculateErrors(s,i,e);I.a.isEqual(a.value,s)&&I.a.isEqual(a.errors,r)||this.actions.change({name:n,change:{errors:r,showErrors:this.hasBlurred&&0!==r.length,value:s}})}calculateErrors(e,t,i){const{validations:n}=i;return n.map(i=>i(e,t)).filter(e=>null!=e)}render(){const t=this.props,{errors:i,onChange:n}=t,a=Xe()(t,["validations","errors","transformValue","onChange"]);if(!this.state)return null;const s=i.length>0,{value:r,errors:o,showErrors:l}=this.state;return fB(e,tp()({},a,{showErrors:!!s||l,errors:s?i:o,value:r,onChange:Cb(this.onChange,n),onBlur:this.onBlur}))}},t.displayName=n,t.contextTypes={formStore:NM},t.defaultProps={validations:[],errors:[]},t.WrappedComponent=e,i}const SB=Nd.a.createElement;var CB=IB((function(e){let{formGroupClassName:t,formLabelClassName:i,name:n,labelText:a,helpText:s,showErrors:r,errors:o}=e,l=Xe()(e,["formGroupClassName","formLabelClassName","name","labelText","helpText","showErrors","errors"]);return Vu()(eV,{className:t},void 0,Vu()(yB,{className:i,showErrors:r,errors:o,name:n,labelText:a}),SB(LR,tp()({name:n,hasError:r},l)),s?Vu()(vB,{},void 0,s):null)}));var MB=function({className:e,networks:t}){const i=t.reduce((e,t)=>(e.push({[t.key]:t.title}),e),[{"":Object(Ze.default)("Select Network")}]);return Vu()("div",{className:e},void 0,Vu()(CB,{name:"network",labelText:"Network",initialValue:"",values:i}))},DB=i("MZ2x"),PB=i.n(DB);const OB=Nd.a.createElement,{Component:jB}=Nd.a;class wB extends jB{constructor(e,t){super(e,t),this._checkbox=void 0,this.setRef=e=>{this._checkbox=e},this.onChange=e=>{const t=e.target.checked?this.props.checkedValue:this.props.uncheckedValue;this.props.value!==t&&this.props.onChange(t)},this._checkbox=null}componentDidMount(){this.setIndeterminate()}componentDidUpdate(){this.setIndeterminate()}setIndeterminate(){if(!this._checkbox)return;const{value:e,uncheckedValue:t,checkedValue:i}=this.props;this._checkbox.indeterminate=e!==t&&e!==i}render(){const e=this.props,{className:t,inputClassName:i,errorClassName:n,disabledClassName:a,isDisabled:s,size:r,checkboxText:o,name:l,value:c,checkedValue:d,hasError:u}=e,p=Xe()(e,["className","inputClassName","errorClassName","disabledClassName","isDisabled","size","checkboxText","name","initialValue","value","checkedValue","uncheckedValue","showErrors","hasError","errors","validations"]);return Vu()("label",{className:(t||"")+" "+(PB.a[r]||"")+" "+(s&&a||"")+" "+(u&&n||""),htmlFor:l},void 0,OB("input",tp()({},p,{id:l,type:"checkbox",disabled:s,className:i,checked:c===d,ref:this.setRef,onChange:this.onChange})),o)}}wB.defaultProps={className:PB.a.label,inputClassName:PB.a.input,errorClassName:PB.a.hasError,disabledClassName:PB.a.isDisabled,isDisabled:!1,size:_h,uncheckedValue:!1,checkedValue:!0,value:!1,hasError:!1};var TB=wB;const EB=Nd.a.createElement;function NB(e){let{formGroupClassName:t,labelText:i,checkboxText:n,helpText:a,showErrors:s,errors:r}=e,o=Xe()(e,["formGroupClassName","labelText","checkboxText","helpText","showErrors","errors"]);const[l]=r;return Vu()(eV,{className:t},void 0,i?Vu()(GM,{},void 0,i):null,EB(TB,tp()({hasError:s,checkboxText:Vu()("span",{},void 0,n,s&&l?"  "+l:null)},o)),a?Vu()(vB,{},void 0,a):null)}NB.defaultProps={showErrors:!1,errors:[]};var xB=IB(NB),AB=i("qoqg"),LB=i.n(AB);const kB=Nd.a.createElement,{Component:RB}=Nd.a;class zB extends RB{constructor(...e){super(...e),this.inputElement=void 0,this.onChange=e=>{this.props.onChange(e.target.value)},this.onFocus=()=>{this._select()},this.onRef=e=>{this.inputElement=e}}componentDidMount(){this.props.focusOnMount&&(this.inputElement.focus(),this._select())}_select(){if(this.inputElement&&this.props.selectTextOnFocus){const e=this.inputElement.value,t=e?e.length:0;this.inputElement.selectionStart=0,this.inputElement.selectionEnd=t}}render(){const e=this.props,{className:t,errorClassName:i,disabledClassName:n,isDisabled:a,value:s,size:r,type:o,name:l,placeholder:c,hasError:d,focusOnMount:u}=e,p=Xe()(e,["className","errorClassName","disabledClassName","isDisabled","initialValue","value","size","type","name","placeholder","hasError","errors","validations","focusOnMount","selectTextOnFocus"]);return kB("input",tp()({},p,{id:l,name:l,type:o,disabled:a,value:s,placeholder:c,className:(t||"")+" "+(LB.a[r]||"")+" "+(a&&n||"")+" "+(d&&i||""),ref:u?this.onRef:null,onChange:this.onChange,onFocus:this.onFocus}))}}zB.defaultProps={className:LB.a.input,errorClassName:LB.a.hasError,disabledClassName:LB.a.isDisabled,isDisabled:!1,size:_h,type:"text",hasError:!1,focusOnMount:!1,selectTextOnFocus:!1};var UB=zB;const VB=Nd.a.createElement,{Component:BB}=Nd.a;var FB=class extends BB{constructor(...e){super(...e),this.onChange=e=>{const t=e?parseInt(e,10):null;this.props.onChange(t)}}render(){return VB(UB,tp()({type:"number"},this.props,{selectTextOnFocus:!1,onChange:this.onChange}))}},HB=i("VOGa"),_B=i.n(HB);const WB=Nd.a.createElement;function QB(e){let{formGroupClassName:t,formLabelClassName:i,inputClassName:n,name:a,labelText:s,helpText:r,showErrors:o,errors:l}=e,c=Xe()(e,["formGroupClassName","formLabelClassName","inputClassName","name","labelText","helpText","showErrors","errors"]);return Vu()(eV,{className:t},void 0,Vu()(yB,{className:i,showErrors:o,errors:l,name:a,labelText:s}),WB(FB,tp()({className:n,name:a,type:"number",hasError:o},c)),r?Vu()(vB,{},void 0,r):null)}QB.defaultProps={inputClassName:_B.a.input};var GB=IB(QB);const KB=Nd.a.createElement;function YB(e){let{formGroupClassName:t,formLabelClassName:i,name:n,labelText:a,helpText:s,showErrors:r,errors:o,children:l}=e,c=Xe()(e,["formGroupClassName","formLabelClassName","name","labelText","helpText","showErrors","errors","children"]);return Vu()(eV,{className:t},void 0,l,Vu()(yB,{className:i,showErrors:r,errors:o,name:n,labelText:a}),KB(UB,tp()({name:n,hasError:r},c)),s?Vu()(vB,{},void 0,s):null)}YB.defaultProps={errors:[]};var qB=IB(YB),ZB=i("/fYT");function JB(e,t,i){return(e-t)/(i-t)*100}var XB=i("6uTd"),$B=i.n(XB);const eF=Nd.a.createElement,{Component:tF}=Nd.a;class iF extends tF{constructor(e,t){super(e,t),this._trackRef=void 0,this.onMouseDown=e=>{e.preventDefault(),0===e.button&&this._startDrag(e.pageX,e.pageY,!1)},this.onMouseMove=({pageX:e,pageY:t})=>{if(this.state.isDragging)return;const i=this._getValueForPosition(e,t),n=this._trackRef.current.getBoundingClientRect(),a=this.props.isVertical?{x:n.left,y:t}:{x:e,y:n.top};this.props.onMove({position:a,positionValue:i,steppedValue:this._getSteppedValue(i)})},this.onTouchStart=e=>{e.preventDefault();const t=e.touches&&e.touches[0];t&&this._startDrag(t.pageX,t.pageY,!0)},this.onDocumentMouseMove=e=>{this._drag(e.pageX,e.pageY)},this.onDocumentTouchMove=e=>{const t=e.touches&&e.touches[0];t&&this._drag(t.pageX,e.pageY)},this.onDocumentMouseUp=e=>{this._stopDrag(e.pageX,e.pageY)},this.onDocumentTouchEnd=e=>{const t=e.changedTouches&&e.changedTouches[0];t&&this._stopDrag(t.pageX,t.pageY)},this._trackRef=Nd.a.createRef(),this.state={isDragging:!1}}shouldComponentUpdate(e,t){return Tp(this,e,t)}componentWillUnmount(){this._stopListeningForDrag()}_listenForDrag(e){e?(document.addEventListener("touchmove",this.onDocumentTouchMove),document.addEventListener("touchcancel",this.onDocumentTouchEnd),document.addEventListener("touchend",this.onDocumentTouchEnd)):(document.addEventListener("mousemove",this.onDocumentMouseMove),document.addEventListener("mouseup",this.onDocumentMouseUp))}_stopListeningForDrag(){document.removeEventListener("mousemove",this.onDocumentMouseMove),document.removeEventListener("touchmove",this.onDocumentTouchMove),document.removeEventListener("mouseup",this.onDocumentMouseUp),document.removeEventListener("touchcancel",this.onDocumentTouchEnd),document.removeEventListener("touchend",this.onDocumentTouchEnd)}_startDrag(e,t,i){this._changeValue(this._getValueForPosition(e,t)),this._listenForDrag(i),this.props.onDragStart&&this.props.onDragStart()}_drag(e,t){this.state.isDragging||(document.body.classList.add($B.a.isDragging),this.setState({isDragging:!0})),this._changeValue(this._getValueForPosition(e,t))}_stopDrag(e,t){document.body.classList.remove($B.a.isDragging),this._stopListeningForDrag();const i=this._getValueForPosition(e,t),n=this._getSteppedValue(i);this._changeValue(i),this.setState({isDragging:!1}),this.props.onDragComplete&&this.props.onDragComplete({positionValue:i,steppedValue:n})}_getValueForPosition(e,t){const{isVertical:i,min:n,max:a}=this.props,s=this._trackRef.current,r=s.getBoundingClientRect();let o;if(i){const e=t-document.body.scrollTop;o=(r.bottom-e)/s.offsetHeight}else{o=(e-document.body.scrollLeft-r.left)/s.offsetWidth}return o=Math.min(Math.max(o,0),1),(a-n)*o+n}_getSteppedValue(e){const{min:t,max:i,stepSize:n}=this.props;if(!n)return e;const a=Math.round(e/n)*n;return Math.min(Math.max(a,t),i)}_getStickyValue(e){const{max:t,min:i,stepSize:n,stickiness:a}=this.props;if(!n||!a)return e;const s=this._getSteppedValue(e);return Math.abs(s-e)/(t-i)<a/100?s:e}_changeValue(e){const{value:t}=this.props;e!==t&&this.props.onChange({positionDelta:e-t,positionValue:e,steppedValue:this._getSteppedValue(e)})}render(){const{style:e,className:t,trackClassName:i,secondaryFillClassName:n,fillClassName:a,thumbClassName:s,thumbTrackClassName:r,label:o,tabIndex:l,value:c,min:d,max:u,secondaryMin:p,secondaryMax:h,showSecondaryFill:m,showFill:g,autoHideThumb:v,isDisabled:y,isVertical:f,onMove:b,onMouseEnter:I,onMouseLeave:S,onWheel:C}=this.props,{isDragging:M}=this.state,D=JB(this._getStickyValue(c),d,u);let P="left",O="scaleX",j="translateX";f&&(P="top",O="scaleY",j="translateY");const w=j+"("+(f?-D:D)+"%)",T=p?JB(this._getStickyValue(p),d,u):0,E=h?JB(this._getStickyValue(h),d,u):0,N=O+"("+Math.max((D-T)/100,0)+")",x=O+"("+Math.max((E-T)/100,0)+")";return Vu()("div",{style:e,className:(t||"")+" "+(y&&$B.a.isDisabled||"")+" "+(M&&$B.a.isDragging||"")+" "+(v&&$B.a.hasAutoHideThumb||""),onWheel:y?null:C,onMouseEnter:y?null:I,onMouseLeave:y?null:S,onMouseDown:y?null:this.onMouseDown,onMouseMove:y||!b?null:this.onMouseMove,onTouchStart:y?null:this.onTouchStart},void 0,eF("div",{className:i,ref:this._trackRef},m?Vu()("div",{className:n,style:{[P]:p?T+"%":void 0,WebkitTransform:x,msTransform:x,transform:x}}):null,g?Vu()("div",{className:a,style:{[P]:p?T+"%":void 0,WebkitTransform:N,msTransform:N,transform:N}}):null),Vu()("div",{className:r,style:{WebkitTransform:w,msTransform:w,transform:w}},void 0,Vu()(zp,{className:s,role:"slider",tabIndex:l,"aria-labelledby":o,"aria-valuemin":d,"aria-valuemax":u,"aria-valuenow":c,onMouseDown:this.onMouseDown,onMouseMove:b&&this.onMouseMove,onTouchStart:this.onTouchStart})))}}iF.defaultProps={className:$B.a.slider,trackClassName:$B.a.track,fillClassName:$B.a.fill,secondaryFillClassName:$B.a.secondaryFill,thumbClassName:$B.a.thumb,thumbTrackClassName:$B.a.thumbTrack,min:0,max:100,stepSize:0,stickiness:10,showFill:!1,showSecondaryFill:!1,autoHideThumb:!1,isDisabled:!1,isDragging:!1,isVertical:!1};var nF=iF,aF=i("JKRp"),sF=i.n(aF);const{Component:rF}=Nd.a;class oF extends rF{constructor(...e){super(...e),this.onChange=({steppedValue:e})=>{const t=String(this.props.stepSize),[,i]=t.split("."),n=null!=i?parseFloat(e.toFixed(i.length)):e;this.props.onChange(n)}}render(){const{name:e,value:t,min:i,max:n,stepSize:a,labelText:s,showErrors:r,errors:o,valueModifier:l}=this.props;return Vu()(eV,{},void 0,Vu()(yB,{showErrors:r,errors:o,name:e,labelText:s}),Vu()("div",{className:sF.a.sliderContainer},void 0,Vu()(nF,{className:sF.a.slider,value:t,min:i,max:n,stepSize:a,onChange:this.onChange}),Vu()("div",{className:sF.a.sliderValue},void 0,l(t))))}}oF.defaultProps=void 0,oF.defaultProps={valueModifier:e=>e};var lF=IB(oF);function cF(e){return e+""}const dF=Nd.a.createElement;function uF(e=[]){return e.map(({label:e,value:t})=>({[t]:e}))}const pF={playbackSpeed:cF};function hF(e){const{id:t,type:i,label:n,summary:a,value:s,initialValueModifier:r,enumValues:o,min:l,max:c,step:d}=e,u={name:t,helpText:a,initialValue:r(s)};if(Array.isArray(o))return dF(CB,tp()({labelText:n},u,{values:uF(o)}));switch(i){case ZB.b.TEXT:return dF(qB,tp()({labelText:n},u));case ZB.b.BOOL:return dF(xB,tp()({checkboxText:n},u));case ZB.b.INT:return dF(GB,tp()({labelText:n},u));case ZB.b.DOUBLE:return dF(lF,tp()({labelText:n,min:l,max:c,stepSize:d,valueModifier:pF[t]},u));default:return null}}hF.defaultProps={initialValueModifier:e=>e};var mF=hF;const gF=Nd.a.createElement;var vF=function({className:e,prefs:t}){return Vu()("div",{className:e},void 0,t.map(e=>{const{id:t,value:i,enumValues:n,label:a}=e,s=Array.isArray(n)?[{label:Object(Ze.default)("Select {label}",{label:a}),value:""},...n]:void 0;return gF(mF,tp()({key:t},e,{value:null==i?"":i,enumValues:s}))}))},yF=i("5hya"),fF=i.n(yF);function bF(e){const{className:t,width:i,height:n,signalStrength:a}=e;if(null==a)return null;const s=function(e){return e<=20?"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iNDJweCIgaGVpZ2h0PSIzMnB4IiB2aWV3Qm94PSIwIDAgNDIgMzIiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDQ5LjMgKDUxMTY3KSAtIGh0dHA6Ly93d3cuYm9oZW1pYW5jb2RpbmcuY29tL3NrZXRjaCAtLT4KICAgIDx0aXRsZT5TdHJlbmd0aCAtIDE8L3RpdGxlPgogICAgPGRlc2M+Q3JlYXRlZCB3aXRoIFNrZXRjaC48L2Rlc2M+CiAgICA8ZGVmcz48L2RlZnM+CiAgICA8ZyBpZD0iUGFnZS0xIiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4KICAgICAgICA8ZyBpZD0iMS4xLVNpZ25hbC1TdHJlbmd0aC1NYW5hZ2UtQ2hhbm5lbHMiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0xMzc4LjAwMDAwMCwgLTEwNzguMDAwMDAwKSI+CiAgICAgICAgICAgIDxnIGlkPSJTdHJlbmd0aC1JbmRpY2F0b3JzIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxMzc4LjAwMDAwMCwgNzU4LjAwMDAwMCkiPgogICAgICAgICAgICAgICAgPGcgaWQ9IlN0cmVuZ3RoLS0tMSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMC4wMDAwMDAsIDMyMC4wMDAwMDApIj4KICAgICAgICAgICAgICAgICAgICA8cmVjdCBpZD0iUmVjdGFuZ2xlLUNvcHktNSIgZmlsbD0iIzUyNTI1MiIgeD0iMzUuNzQ0NjgwOSIgeT0iMCIgd2lkdGg9IjYuMjU1MzE5MTUiIGhlaWdodD0iMzIiIHJ4PSIzLjEyNzY1OTU3Ij48L3JlY3Q+CiAgICAgICAgICAgICAgICAgICAgPHJlY3QgaWQ9IlJlY3RhbmdsZS1Db3B5IiBmaWxsPSIjNTI1MjUyIiB4PSIyNi44MDg1MTA2IiB5PSI2LjQiIHdpZHRoPSI2LjI1NTMxOTE1IiBoZWlnaHQ9IjI1LjYiIHJ4PSIzLjEyNzY1OTU3Ij48L3JlY3Q+CiAgICAgICAgICAgICAgICAgICAgPHJlY3QgaWQ9IlJlY3RhbmdsZS1Db3B5LTIiIGZpbGw9IiM1MjUyNTIiIHg9IjE3Ljg3MjM0MDQiIHk9IjEyLjgiIHdpZHRoPSI2LjI1NTMxOTE1IiBoZWlnaHQ9IjE5LjIiIHJ4PSIzLjEyNzY1OTU3Ij48L3JlY3Q+CiAgICAgICAgICAgICAgICAgICAgPHJlY3QgaWQ9IlJlY3RhbmdsZS1Db3B5LTMiIGZpbGw9IiM1MjUyNTIiIHg9IjguOTM2MTcwMjEiIHk9IjE5LjIiIHdpZHRoPSI2LjI1NTMxOTE1IiBoZWlnaHQ9IjEyLjgiIHJ4PSIzLjEyNzY1OTU3Ij48L3JlY3Q+CiAgICAgICAgICAgICAgICAgICAgPHJlY3QgaWQ9IlJlY3RhbmdsZS1Db3B5LTQiIGZpbGw9IiNEMDAyMUIiIHg9IjAiIHk9IjI1LjYiIHdpZHRoPSI2LjI1NTMxOTE1IiBoZWlnaHQ9IjYuNCIgcng9IjMuMTI3NjU5NTciPjwvcmVjdD4KICAgICAgICAgICAgICAgIDwvZz4KICAgICAgICAgICAgPC9nPgogICAgICAgIDwvZz4KICAgIDwvZz4KPC9zdmc+":e<=40?"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iNDJweCIgaGVpZ2h0PSIzMnB4IiB2aWV3Qm94PSIwIDAgNDIgMzIiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDQ5LjMgKDUxMTY3KSAtIGh0dHA6Ly93d3cuYm9oZW1pYW5jb2RpbmcuY29tL3NrZXRjaCAtLT4KICAgIDx0aXRsZT5TdHJlbmd0aCAtIDI8L3RpdGxlPgogICAgPGRlc2M+Q3JlYXRlZCB3aXRoIFNrZXRjaC48L2Rlc2M+CiAgICA8ZGVmcz48L2RlZnM+CiAgICA8ZyBpZD0iUGFnZS0xIiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4KICAgICAgICA8ZyBpZD0iMS4xLVNpZ25hbC1TdHJlbmd0aC1NYW5hZ2UtQ2hhbm5lbHMiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0xMzc4LjAwMDAwMCwgLTk5OC4wMDAwMDApIj4KICAgICAgICAgICAgPGcgaWQ9IlN0cmVuZ3RoLUluZGljYXRvcnMiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDEzNzguMDAwMDAwLCA3NTguMDAwMDAwKSI+CiAgICAgICAgICAgICAgICA8ZyBpZD0iU3RyZW5ndGgtLS0yIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgwLjAwMDAwMCwgMjQwLjAwMDAwMCkiPgogICAgICAgICAgICAgICAgICAgIDxyZWN0IGlkPSJSZWN0YW5nbGUtQ29weS01IiBmaWxsPSIjNTI1MjUyIiB4PSIzNS43NDQ2ODA5IiB5PSIwIiB3aWR0aD0iNi4yNTUzMTkxNSIgaGVpZ2h0PSIzMiIgcng9IjMuMTI3NjU5NTciPjwvcmVjdD4KICAgICAgICAgICAgICAgICAgICA8cmVjdCBpZD0iUmVjdGFuZ2xlLUNvcHkiIGZpbGw9IiM1MjUyNTIiIHg9IjI2LjgwODUxMDYiIHk9IjYuNCIgd2lkdGg9IjYuMjU1MzE5MTUiIGhlaWdodD0iMjUuNiIgcng9IjMuMTI3NjU5NTciPjwvcmVjdD4KICAgICAgICAgICAgICAgICAgICA8cmVjdCBpZD0iUmVjdGFuZ2xlLUNvcHktMiIgZmlsbD0iIzUyNTI1MiIgeD0iMTcuODcyMzQwNCIgeT0iMTIuOCIgd2lkdGg9IjYuMjU1MzE5MTUiIGhlaWdodD0iMTkuMiIgcng9IjMuMTI3NjU5NTciPjwvcmVjdD4KICAgICAgICAgICAgICAgICAgICA8cmVjdCBpZD0iUmVjdGFuZ2xlLUNvcHktMyIgZmlsbD0iI0Y5ODkwMCIgeD0iOC45MzYxNzAyMSIgeT0iMTkuMiIgd2lkdGg9IjYuMjU1MzE5MTUiIGhlaWdodD0iMTIuOCIgcng9IjMuMTI3NjU5NTciPjwvcmVjdD4KICAgICAgICAgICAgICAgICAgICA8cmVjdCBpZD0iUmVjdGFuZ2xlLUNvcHktNCIgZmlsbD0iI0Y5ODkwMCIgeD0iMCIgeT0iMjUuNiIgd2lkdGg9IjYuMjU1MzE5MTUiIGhlaWdodD0iNi40IiByeD0iMy4xMjc2NTk1NyI+PC9yZWN0PgogICAgICAgICAgICAgICAgPC9nPgogICAgICAgICAgICA8L2c+CiAgICAgICAgPC9nPgogICAgPC9nPgo8L3N2Zz4=":e<=60?"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iNDJweCIgaGVpZ2h0PSIzMnB4IiB2aWV3Qm94PSIwIDAgNDIgMzIiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDQ5LjMgKDUxMTY3KSAtIGh0dHA6Ly93d3cuYm9oZW1pYW5jb2RpbmcuY29tL3NrZXRjaCAtLT4KICAgIDx0aXRsZT5TdHJlbmd0aCAtIDM8L3RpdGxlPgogICAgPGRlc2M+Q3JlYXRlZCB3aXRoIFNrZXRjaC48L2Rlc2M+CiAgICA8ZGVmcz48L2RlZnM+CiAgICA8ZyBpZD0iUGFnZS0xIiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4KICAgICAgICA8ZyBpZD0iMS4xLVNpZ25hbC1TdHJlbmd0aC1NYW5hZ2UtQ2hhbm5lbHMiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0xMzc4LjAwMDAwMCwgLTkxOC4wMDAwMDApIj4KICAgICAgICAgICAgPGcgaWQ9IlN0cmVuZ3RoLUluZGljYXRvcnMiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDEzNzguMDAwMDAwLCA3NTguMDAwMDAwKSI+CiAgICAgICAgICAgICAgICA8ZyBpZD0iU3RyZW5ndGgtLS0zIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgwLjAwMDAwMCwgMTYwLjAwMDAwMCkiPgogICAgICAgICAgICAgICAgICAgIDxyZWN0IGlkPSJSZWN0YW5nbGUtQ29weS01IiBmaWxsPSIjNTI1MjUyIiB4PSIzNS43NDQ2ODA5IiB5PSIwIiB3aWR0aD0iNi4yNTUzMTkxNSIgaGVpZ2h0PSIzMiIgcng9IjMuMTI3NjU5NTciPjwvcmVjdD4KICAgICAgICAgICAgICAgICAgICA8cmVjdCBpZD0iUmVjdGFuZ2xlLUNvcHkiIGZpbGw9IiM1MjUyNTIiIHg9IjI2LjgwODUxMDYiIHk9IjYuNCIgd2lkdGg9IjYuMjU1MzE5MTUiIGhlaWdodD0iMjUuNiIgcng9IjMuMTI3NjU5NTciPjwvcmVjdD4KICAgICAgICAgICAgICAgICAgICA8cmVjdCBpZD0iUmVjdGFuZ2xlLUNvcHktMiIgZmlsbD0iI0Y5QkUwMyIgeD0iMTcuODcyMzQwNCIgeT0iMTIuOCIgd2lkdGg9IjYuMjU1MzE5MTUiIGhlaWdodD0iMTkuMiIgcng9IjMuMTI3NjU5NTciPjwvcmVjdD4KICAgICAgICAgICAgICAgICAgICA8cmVjdCBpZD0iUmVjdGFuZ2xlLUNvcHktMyIgZmlsbD0iI0Y5QkUwMyIgeD0iOC45MzYxNzAyMSIgeT0iMTkuMiIgd2lkdGg9IjYuMjU1MzE5MTUiIGhlaWdodD0iMTIuOCIgcng9IjMuMTI3NjU5NTciPjwvcmVjdD4KICAgICAgICAgICAgICAgICAgICA8cmVjdCBpZD0iUmVjdGFuZ2xlLUNvcHktNCIgZmlsbD0iI0Y5QkUwMyIgeD0iMCIgeT0iMjUuNiIgd2lkdGg9IjYuMjU1MzE5MTUiIGhlaWdodD0iNi40IiByeD0iMy4xMjc2NTk1NyI+PC9yZWN0PgogICAgICAgICAgICAgICAgPC9nPgogICAgICAgICAgICA8L2c+CiAgICAgICAgPC9nPgogICAgPC9nPgo8L3N2Zz4=":e<=80?"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iNDJweCIgaGVpZ2h0PSIzMnB4IiB2aWV3Qm94PSIwIDAgNDIgMzIiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDQ5LjMgKDUxMTY3KSAtIGh0dHA6Ly93d3cuYm9oZW1pYW5jb2RpbmcuY29tL3NrZXRjaCAtLT4KICAgIDx0aXRsZT5TdHJlbmd0aCAtIDQ8L3RpdGxlPgogICAgPGRlc2M+Q3JlYXRlZCB3aXRoIFNrZXRjaC48L2Rlc2M+CiAgICA8ZGVmcz48L2RlZnM+CiAgICA8ZyBpZD0iUGFnZS0xIiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4KICAgICAgICA8ZyBpZD0iMS4xLVNpZ25hbC1TdHJlbmd0aC1NYW5hZ2UtQ2hhbm5lbHMiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0xMzc4LjAwMDAwMCwgLTgzOC4wMDAwMDApIj4KICAgICAgICAgICAgPGcgaWQ9IlN0cmVuZ3RoLUluZGljYXRvcnMiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDEzNzguMDAwMDAwLCA3NTguMDAwMDAwKSI+CiAgICAgICAgICAgICAgICA8ZyBpZD0iU3RyZW5ndGgtLS00IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgwLjAwMDAwMCwgODAuMDAwMDAwKSI+CiAgICAgICAgICAgICAgICAgICAgPHJlY3QgaWQ9IlJlY3RhbmdsZS1Db3B5LTUiIGZpbGw9IiM1MjUyNTIiIHg9IjM1Ljc0NDY4MDkiIHk9IjAiIHdpZHRoPSI2LjI1NTMxOTE1IiBoZWlnaHQ9IjMyIiByeD0iMy4xMjc2NTk1NyI+PC9yZWN0PgogICAgICAgICAgICAgICAgICAgIDxyZWN0IGlkPSJSZWN0YW5nbGUtQ29weSIgZmlsbD0iI0FDRDMyMSIgeD0iMjYuODA4NTEwNiIgeT0iNi40IiB3aWR0aD0iNi4yNTUzMTkxNSIgaGVpZ2h0PSIyNS42IiByeD0iMy4xMjc2NTk1NyI+PC9yZWN0PgogICAgICAgICAgICAgICAgICAgIDxyZWN0IGlkPSJSZWN0YW5nbGUtQ29weS0yIiBmaWxsPSIjQUNEMzIxIiB4PSIxNy44NzIzNDA0IiB5PSIxMi44IiB3aWR0aD0iNi4yNTUzMTkxNSIgaGVpZ2h0PSIxOS4yIiByeD0iMy4xMjc2NTk1NyI+PC9yZWN0PgogICAgICAgICAgICAgICAgICAgIDxyZWN0IGlkPSJSZWN0YW5nbGUtQ29weS0zIiBmaWxsPSIjQUNEMzIxIiB4PSI4LjkzNjE3MDIxIiB5PSIxOS4yIiB3aWR0aD0iNi4yNTUzMTkxNSIgaGVpZ2h0PSIxMi44IiByeD0iMy4xMjc2NTk1NyI+PC9yZWN0PgogICAgICAgICAgICAgICAgICAgIDxyZWN0IGlkPSJSZWN0YW5nbGUtQ29weS00IiBmaWxsPSIjQUNEMzIxIiB4PSIwIiB5PSIyNS42IiB3aWR0aD0iNi4yNTUzMTkxNSIgaGVpZ2h0PSI2LjQiIHJ4PSIzLjEyNzY1OTU3Ij48L3JlY3Q+CiAgICAgICAgICAgICAgICA8L2c+CiAgICAgICAgICAgIDwvZz4KICAgICAgICA8L2c+CiAgICA8L2c+Cjwvc3ZnPg==":e<=100?"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iNDJweCIgaGVpZ2h0PSIzMnB4IiB2aWV3Qm94PSIwIDAgNDIgMzIiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDQ5LjMgKDUxMTY3KSAtIGh0dHA6Ly93d3cuYm9oZW1pYW5jb2RpbmcuY29tL3NrZXRjaCAtLT4KICAgIDx0aXRsZT5TdHJlbmd0aCAtIDU8L3RpdGxlPgogICAgPGRlc2M+Q3JlYXRlZCB3aXRoIFNrZXRjaC48L2Rlc2M+CiAgICA8ZGVmcz48L2RlZnM+CiAgICA8ZyBpZD0iUGFnZS0xIiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4KICAgICAgICA8ZyBpZD0iMS4xLVNpZ25hbC1TdHJlbmd0aC1NYW5hZ2UtQ2hhbm5lbHMiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0xMzc4LjAwMDAwMCwgLTc1OC4wMDAwMDApIiBmaWxsPSIjN0VEMzIxIj4KICAgICAgICAgICAgPGcgaWQ9IlN0cmVuZ3RoLUluZGljYXRvcnMiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDEzNzguMDAwMDAwLCA3NTguMDAwMDAwKSI+CiAgICAgICAgICAgICAgICA8ZyBpZD0iU3RyZW5ndGgtLS01Ij4KICAgICAgICAgICAgICAgICAgICA8cmVjdCBpZD0iUmVjdGFuZ2xlLUNvcHkiIHg9IjI2LjgwODUxMDYiIHk9IjYuNCIgd2lkdGg9IjYuMjU1MzE5MTUiIGhlaWdodD0iMjUuNiIgcng9IjMuMTI3NjU5NTciPjwvcmVjdD4KICAgICAgICAgICAgICAgICAgICA8cmVjdCBpZD0iUmVjdGFuZ2xlLUNvcHktNSIgeD0iMzUuNzQ0NjgwOSIgeT0iMCIgd2lkdGg9IjYuMjU1MzE5MTUiIGhlaWdodD0iMzIiIHJ4PSIzLjEyNzY1OTU3Ij48L3JlY3Q+CiAgICAgICAgICAgICAgICAgICAgPHJlY3QgaWQ9IlJlY3RhbmdsZS1Db3B5LTIiIHg9IjE3Ljg3MjM0MDQiIHk9IjEyLjgiIHdpZHRoPSI2LjI1NTMxOTE1IiBoZWlnaHQ9IjE5LjIiIHJ4PSIzLjEyNzY1OTU3Ij48L3JlY3Q+CiAgICAgICAgICAgICAgICAgICAgPHJlY3QgaWQ9IlJlY3RhbmdsZS1Db3B5LTMiIHg9IjguOTM2MTcwMjEiIHk9IjE5LjIiIHdpZHRoPSI2LjI1NTMxOTE1IiBoZWlnaHQ9IjEyLjgiIHJ4PSIzLjEyNzY1OTU3Ij48L3JlY3Q+CiAgICAgICAgICAgICAgICAgICAgPHJlY3QgaWQ9IlJlY3RhbmdsZS1Db3B5LTQiIHg9IjAiIHk9IjI1LjYiIHdpZHRoPSI2LjI1NTMxOTE1IiBoZWlnaHQ9IjYuNCIgcng9IjMuMTI3NjU5NTciPjwvcmVjdD4KICAgICAgICAgICAgICAgIDwvZz4KICAgICAgICAgICAgPC9nPgogICAgICAgIDwvZz4KICAgIDwvZz4KPC9zdmc+":void 0}(a);return Vu()("div",{className:t},void 0,Vu()("img",{src:s,width:i,height:n}))}bF.defaultProps={className:fF.a.signalStrength,width:23,height:18};var IF=bF,SF=i("XzZp"),CF=i.n(SF);var MF=function(e){const{identifier:t,name:i,signalStrength:n,signalQuality:a}=e;return Vu()("div",{className:CF.a.channel},void 0,Vu()("div",{className:CF.a.channelIdentifier},void 0,t),Vu()(IF,{className:CF.a.signalStrength,signalStrength:a||n}),Vu()("div",{},void 0,i))},DF=i("iI5r"),PF=i.n(DF);const OF=Nd.a.createElement;var jF=function(e){const{selectedDevice:t,channelCount:i,isChannelsPending:n,channelScanActivity:a,scanPrefs:s,scanNetworks:r,hasScannedChannels:o}=e;return a?Vu()("div",{className:PF.a.container},void 0,Vu()(sB,{size:90,progress:a.progress}),Vu()("div",{className:PF.a.message},void 0,Object(Ze.default)("Scanning channels"))):s.length?Vu()(vF,{className:PF.a.settings,prefs:s}):r.length?Vu()(MB,{className:PF.a.settings,networks:r}):n?Vu()("div",{className:PF.a.container},void 0,Vu()("div",{className:PF.a.message},void 0,Object(Ze.default)("Loading channels"))):i?Vu()("div",{},void 0,t.channels.map(e=>OF(MF,tp()({key:e.identifier},e)))):o?Vu()("div",{className:PF.a.container},void 0,Vu()("div",{className:PF.a.noChannelsIconContainer},void 0,Vu()("div",{className:PF.a.noChannelsIconBackground},void 0,Vu()(ph,{className:PF.a.noChannelsIcon}))),Vu()("div",{className:PF.a.message},void 0,Object(Ze.default)("No channels found. Make sure your device has a signal from your antenna and try scanning again."))):Vu()("div",{className:PF.a.container},void 0,Vu()("div",{className:PF.a.clockContainer},void 0,Vu()("div",{className:PF.a.clockBackground}),Vu()(oB,{className:PF.a.clockTime}),Vu()(uB,{className:PF.a.clock}),Vu()(cB,{className:PF.a.clockTime})),Vu()("div",{className:PF.a.message},void 0,Object(Ze.default)("Awaiting channel scan")))},wF=i("U0WA"),TF=i.n(wF);var EF=function(e){const t=function(e){const{channelCount:t,hasSignalStrength:i,isChannelsPending:n,channelScanActivity:a,hasScanPrefs:s,hasScanNetworks:r}=e;return a?Object(Ze.default)("Scanning for channels... This may take some time."):s?Object(Ze.default)("We need some more information before proceeding with the channel scan."):r?Object(Ze.default)("Please select a network before proceeding with the channel scan."):n?Object(Ze.default)("Fetching device channels"):t?i?Object(Ze.default)("We found {channelCount} channels. If these don't look right, you can scan again. Signal strength is stored at the time of scanning.",{channelCount:t}):Object(Ze.default)("We found {channelCount} channels. If these don't look right, you can scan again.",{channelCount:t}):Object(Ze.default)("Make sure your device is connected to your antenna or cable and click Scan Channels.")}(e);return Vu()("div",{className:TF.a.message},void 0,t)},NF=i("m9Cz"),xF=i.n(NF);const AF=Nd.a.createElement,{Component:LF}=Nd.a;var kF=Vu()(OV,{});class RF extends LF{constructor(...e){super(...e),this.onScanDeviceChannelsPress=e=>{const t=this.props.scanPrefs.length?{prefs:e}:e;this.props.onScanDeviceChannels(t)},this.onDeviceSourceSelect=e=>{this.props.onDeviceSourceSelect(e),this.clearExistingScanPrefs()},this.onCountrySelect=e=>{this.props.onCountrySelect(e),this.clearExistingScanPrefs()}}clearExistingScanPrefs(){const{selectedDevice:e,scanPrefs:t,scanNetworks:i,onScanDeviceChannels:n,onClearDeviceScanPrefs:a}=this.props;t.length?(a(),n(e.deviceID)):i.length&&a()}render(){const{serverEntityID:e,dvrID:t,selectedDevice:i,setupErrorMessage:n,isChannelsPending:a,sourceOptions:s,channelScanActivity:r,isCancellingChannelScan:o,selectedCountryCode:l,countryOptions:c=[],countriesPopulated:d,scanPrefs:u,scanNetworks:p,hasScannedChannels:h,onCancelScanDeviceChannels:m,onModalClose:g}=this.props,v=i.selectedSource||i.sources[0],y=r?parseInt(r.Response.channels,10):i.channels.length,f=!(!y||r||a),b=!!u.length,I=!!p.length,S=[{"":Object(Ze.default)("Select Country")},...c],C=i.channels.some(e=>null!=e.signalQuality||null!=e.signalStrengh),M=!(i&&i.channels.length&&!r&&l);return Vu()(yV,{errorMessage:n,onModalClose:g},void 0,Vu()(wL,{className:xF.a.deviceInfoBody,scrollDirection:Zp},void 0,Vu()(FM,{className:xF.a.deviceInfoForm,onSubmit:this.onScanDeviceChannelsPress},void 0,Vu()("div",{className:xF.a.channelInfo},void 0,Vu()(EF,{channelCount:y,hasSignalStrength:C,isChannelsPending:a,channelScanActivity:r,hasScanPrefs:b,hasScanNetworks:I}),Vu()("div",{},void 0,Vu()(hV,{type:r?"button":"submit",kind:r||y||a?Dp:Pp,size:Hh,isSpinning:o,isDisabled:!l||o,onPress:r?m:null},void 0,r?Object(Ze.default)("Stop scanning"):Object(Ze.default)("Scan channels")))),Vu()("div",{className:xF.a.channelDetails},void 0,Vu()(ih,{className:xF.a.deviceDetails},void 0,AF(KV,tp()({serverEntityID:e,deviceID:i.key,channelCount:y,includeChannelCount:!0},i)),Vu()(eV,{},void 0,Vu()(LR,{className:xF.a.channelScanSourceSelect,name:"deviceSource",value:v,values:s,isDisabled:!!r,onChange:this.onDeviceSourceSelect})),d?Vu()(eV,{className:xF.a.countryInputGroup},void 0,Vu()(GM,{},void 0,Object(Ze.default)("Country")),Vu()(LR,{name:"countrySelect",value:l,values:S,isDisabled:!!r,onChange:this.onCountrySelect})):null),Vu()("div",{className:xF.a.deviceChannelsContainer},void 0,Vu()(ih,{className:f?xF.a.deviceChannels:xF.a.deviceChannelsInfo,autoScroll:!0},void 0,Vu()(jF,{selectedDevice:i,channelCount:y,isChannelsPending:a,channelScanActivity:r,scanPrefs:u,scanNetworks:p,hasScannedChannels:h})))))),Vu()(SV,{},void 0,Vu()(sV,{},void 0,Vu()(hw,{kind:Dp,size:Hh,onPress:g},void 0,Object(Ze.default)("Cancel"))),Vu()(sV,{},void 0,kF,Vu()(DV,{dvrID:t,isDisabled:M}))))}}RF.defaultProps={scanPrefs:[],scanNetworks:[]};var zF=RF;const UF=Nd.a.createElement,{Component:VF}=Nd.a;var BF=Object(Hu.b)((function(){return Object(Wu.a)(UU,qU,YU(),(e,t,i)=>{const n=e.selectedDevice,a=n.sources.reduce((e,t)=>{switch(t){case"0":e.push({[t]:Object(Ze.default)("Antenna")});break;case"1":e.push({[t]:Object(Ze.default)("Cable")})}return e},[]),{scanPrefs:s,scanNetworks:r,hasScannedChannels:o}=e,{selectedCountry:l,countries:c}=e.epgSettings,d=c.length>0,u=l?l.code:"",p=c.reduce((e,t)=>(e.push({[t.code]:t.title}),e),[]);return{selectedDevice:n,setupErrorMessage:t,isChannelsPending:n.isChannelsPending,sourceOptions:a,countriesPopulated:d,selectedCountryCode:u,countryOptions:p,scanPrefs:s,scanNetworks:r,hasScannedChannels:o,channelScanActivity:i}})}),(function(e,t){const{serverEntityID:i}=t;return{dispatchFetchDeviceDetails(){e(dU({serverEntityID:i}))},dispatchFetchDeviceChannels(){e(uU({serverEntityID:i}))},dispatchFetchEPGCountries(){e(BU({serverEntityID:i}))},dispatchCancelScanDeviceChannels(t){e(hU({serverEntityID:i,deviceID:t}))},onDeviceSourceSelect(t){e(cU({serverEntityID:i,source:t}))},onScanDeviceChannels(t={}){e(pU(Object.assign({serverEntityID:i},t)))},onCountrySelect(t){e(HU({serverEntityID:i,countryCode:t}))},onClearDeviceScanPrefs(){e(OU({serverEntityID:i}))}}}))(class extends VF{constructor(e,t){super(e,t),this.onCancelScanDeviceChannels=()=>{this.setState({isCancellingChannelScan:!0}),this.props.dispatchCancelScanDeviceChannels(this.props.selectedDevice.key)},this.state={isCancellingChannelScan:!1}}componentWillMount(){this.props.channelScanActivity&&this.setState({isCancellingChannelScan:!0})}componentDidMount(){const e=this.props.selectedDevice,t=e.source>-1?e.source.toString():e.sources[0];Object(Ti.a)(()=>{this.props.dispatchFetchDeviceDetails(),this.props.dispatchFetchDeviceChannels(),this.props.dispatchFetchEPGCountries(),this.props.onDeviceSourceSelect(t),this.props.onClearDeviceScanPrefs()})}componentWillReceiveProps(e){!e.channelScanActivity&&this.props.channelScanActivity&&this.setState({isCancellingChannelScan:!1})}componentDidUpdate(e,t){this.props.channelScanActivity||!e.channelScanActivity||this.props.scanNetworks||Object(Ti.a)(()=>{this.props.dispatchFetchDeviceChannels()})}componentWillUnmount(){this.props.channelScanActivity&&!this.state.isCancellingChannelScan&&this.props.dispatchCancelScanDeviceChannels(this.props.selectedDevice.key)}render(){const e=this.props,t=Xe()(e,["dispatchFetchDeviceDetails","dispatchFetchDeviceChannels","dispatchFetchEPGCountries","dispatchCancelScanDeviceChannels"]);return UF(zF,tp()({isCancellingChannelScan:this.state.isCancellingChannelScan,onCancelScanDeviceChannels:this.onCancelScanDeviceChannels},t))}}),FF=i("DrhB"),HF=i.n(FF);const _F=Nd.a.createElement,{Component:WF}=Nd.a;var QF=Vu()(Jh,{});var GF=class extends WF{constructor(e,t){super(e,t),this.onShowDeviceAddressPress=()=>{this.setState({showManualAddress:!this.state.showManualAddress})},this.onDeviceAddressChange=e=>{this.setState({manualDeviceAddress:e})},this.onAddDevicePress=()=>{this.props.onAddDevice(this.state.manualDeviceAddress)},this.state={showManualAddress:!1,manualDeviceAddress:""}}render(){const{serverEntityID:e,selectedDevice:t,setupErrorMessage:i,addDevicePending:n,devices:a,onSelectDevice:s,onModalClose:r}=this.props,{showManualAddress:o,manualDeviceAddress:l}=this.state,c=a.length>0;return Vu()(yV,{errorMessage:i,onModalClose:r},void 0,Vu()(wL,{},void 0,c?Vu()("div",{},void 0,Object(Ze.default)("We found hardware we recognize!")):null,c?null:Vu()("div",{},void 0,Object(Ze.default)("Looking for compatible devices...")),Vu()("div",{className:HF.a.manualDeviceButtonContainer},void 0,Vu()(Dy,{kind:Pp,direction:o?hy:my,isSelected:!1,onPress:this.onShowDeviceAddressPress},void 0,Object(Ze.default)("Don't see your HDHomeRun device? Enter its network address manually"))),Vu()("div",{className:HF.a.manualDeviceContainer},void 0,o?Vu()("div",{},void 0,Vu()(eV,{},void 0,Vu()(GM,{},void 0,Object(Ze.default)("HDHomeRun Device Address")),Vu()(UB,{type:"text",name:"manualDeviceInput",className:HF.a.manualDeviceInput,value:this.state.manualDeviceAddress,placeholder:Object(Ze.default)("IP address or hostname"),onChange:this.onDeviceAddressChange}),Vu()(hV,{className:HF.a.addDeviceButton,kind:Pp,size:_h,isDisabled:!l,isSpinning:n,onPress:this.onAddDevicePress},void 0,Object(Ze.default)("Connect")))):null),c?null:Vu()("div",{className:HF.a.spinnerContainer},void 0,QF),c?Vu()("div",{},void 0,Vu()("div",{className:HF.a.deviceCount},void 0,1===a.length?Object(Ze.default)("1 device found"):Object(Ze.default)("{deviceCount} devices found",{deviceCount:a.length})),Vu()(ih,{className:HF.a.devices,scrollDirection:"horizontal"},void 0,a.map(i=>{const n=t&&t.key===i.key;return _F(KV,tp()({key:i.key,className:HF.a.device,serverEntityID:e,deviceID:i.key,isSelectable:!0,isSelected:n,includeUri:!0,onSelectDevice:s},i))}))):null),Vu()(SV,{},void 0,Vu()(sV,{},void 0,Vu()(hw,{kind:Dp,size:Hh,onPress:r},void 0,Object(Ze.default)("Cancel"))),Vu()(sV,{},void 0,Vu()(DV,{isDisabled:!t}))))}};const KF=Nd.a.createElement,{Component:YF}=Nd.a,qF=Object(Wu.a)(e=>e.ui.dvrSettingsUI.dvrSetup.devices,e=>I.a.filter(e,e=>!e.parentID&&e.status===wk));var ZF=Object(Hu.b)((function(){return Object(Wu.a)(UU,qU,qF,(e,t,i)=>{const{isDiscoveringDevices:n,selectedDevice:a,addDevicePending:s}=e;return{isDiscoveringDevices:n,selectedDevice:a,setupErrorMessage:t,addDevicePending:s,devices:i}})}),(function(e,t){const{serverEntityID:i}=t;return{dispatchDiscoverDevices(){e(rU({serverEntityID:i}))},dispatchFetchDevices(){e(sU({serverEntityID:i}))},onAddDevice(t){e(oU({serverEntityID:i,uri:t}))},onSelectDevice(t){e(lU({serverEntityID:i,deviceID:t}))}}}))(class extends YF{constructor(e){super(e),this._discoverTimeoutID=void 0,this.discoverDelay=void 0,this._discoverDevices=()=>{this.props.dispatchDiscoverDevices()},this._discoverTimeoutID=null,this.discoverDelay=2e3}componentDidMount(){Object(Ti.a)(()=>{this.props.dispatchFetchDevices()}),this._discoverTimeoutID=window.setTimeout(this._discoverDevices,this.discoverDelay)}componentDidUpdate(e){!this.props.isDiscoveringDevices&&e.isDiscoveringDevices&&(this._discoverTimeoutID=window.setTimeout(this._discoverDevices,this.discoverDelay))}componentWillUnmount(){this._discoverTimeoutID&&window.clearTimeout(this._discoverTimeoutID)}render(){const e=this.props,t=Xe()(e,["dispatchDiscoverDevices","dispatchFetchDevices"]);return KF(GF,t)}}),JF=i("4+bI"),XF=i.n(JF);const $F=parseInt(BV.dvrSetupImageWidth,10);var eH=function(e){const{serverEntityID:t,dvrID:i,make:n,model:a,thumb:s,onModalClose:r}=e;return Vu()(yV,{title:Object(Ze.default)("Unsupported Tuner"),onModalClose:r},void 0,Vu()(wL,{className:XF.a.unsupportedDeviceBody,scrollDirection:Zp},void 0,Vu()("div",{className:XF.a.imageContainer},void 0,Vu()(UV,{serverEntityID:t,make:n,model:a,thumb:s,width:$F,height:100}),Vu()("div",{className:XF.a.makeModelContainer},void 0,Vu()("div",{},void 0,n),Vu()("div",{},void 0,a))),Vu()("div",{className:XF.a.info},void 0,Object(Ze.default)("Community Supported Tuners opens up your Plex account to access a larger variety of DVR tuners, many of which have been tested and are supported by the community. If your tuner hasn't been recognized by Plex DVR and you're up for a little adventure, this will allow you to use unsupported tuners that have not been tested by Plex.")),Vu()("div",{className:XF.a.info},void 0,Vu()(vw,{message:Object(Ze.default)("We recommend you review our {openLink}Community Supported Tuners{closeLink} article to learn about limitations, compatibility, and how to get involved."),tags:[{open:"openLink",close:"closeLink",component:zp,kind:Pp,to:Hp,target:"_blank"}]}))),Vu()(SV,{},void 0,Vu()(sV,{},void 0,Vu()(hw,{kind:Dp,size:Hh,onPress:r},void 0,Object(Ze.default)("Cancel"))),Vu()(sV,{},void 0,Vu()(DV,{dvrID:i,label:Object(Ze.default)("Enable Unsupported Tuner")}))))};var tH=Object(Hu.b)((function(){return Object(Wu.a)(UU,e=>{const{make:t,model:i,thumb:n}=e.selectedDevice;return{make:t,model:i,thumb:n}})}))(eH);function iH(){return Object(Wu.a)(_S(),e=>e?e.providers:void 0)}var nH=function(){return Object(Wu.a)((e,{dvrID:t})=>t,KU(),UU,(e,t,i)=>e?I.a.find(t,t=>"provider.epg.load"===t.type&&parseInt(t.Context.dvrID,10)===e):I.a.find(t,{uuid:i.epgDownloadActivityID}))},aH=i("9U8V"),sH=i.n(aH);function rH(e){const{server:t,provider:i,sourceDirectory:n,setupErrorMessage:a,epgDownloadActivityID:s,progress:r,message:o,onModalClose:l}=e;let c;return i&&(c=si(ei,t,i,n)),Vu()(yV,{errorMessage:a,onModalClose:l},void 0,Vu()(wL,{},void 0,Vu()("div",{className:sH.a.message},void 0,Vu()("div",{},void 0,Object(Ze.default)("Setup complete!")),Vu()("div",{},void 0,Object(Ze.default)("You can now find your Guide and Recordings in the sidebar under \"Live TV & DVR\". While we're grabbing the guide data, you can start browsing; it will update automatically as we download what's on."))),s?Vu()("div",{},void 0,Vu()("div",{className:sH.a.spinnerContainer},void 0,Vu()(sB,{size:90,progress:r}),Vu()("div",{className:sH.a.spinnerMessage},void 0,o))):null),Vu()(AL,{},void 0,Vu()(sV,{},void 0,Vu()(hw,{kind:Dp,size:Hh,onPress:l},void 0,Object(Ze.default)("Close")),Vu()(hw,{kind:Pp,size:Hh,to:c,isDisabled:!i},void 0,Object(Ze.default)("View Guide")))))}rH.defaultProps={progress:0,message:""};var oH=rH;const lH=Nd.a.createElement;var cH=Object(Hu.b)((function(){return Object(Wu.a)(UU,qU,_S(),Object(Wu.a)(iH(),UU,yg,(e,{selectedDVR:t},i)=>{if(t&&e){for(let n=0;n<e.length;n++){const a=i[e[n]];if(a.identifier===t.epgIdentifier)return a}return null}}),nH(),(e,t,i,n,a)=>{const{progress:s,subtitle:r}=a||{},o=Yt(n);return{server:i,provider:n,sourceDirectory:o&&o.directories&&o.directories.find(e=>e.hubKey&&!e.key),setupErrorMessage:t,epgDownloadActivityID:e.epgDownloadActivityID,progress:s,message:r}})}))((function(e){return lH(oH,e)})),dH=i("mYof"),uH=i.n(dH);function pH({setupErrorMessage:e,progress:t,onModalClose:i}){return Vu()(yV,{errorMessage:e,onModalClose:i},void 0,Vu()(wL,{},void 0,Vu()("div",{className:uH.a.message},void 0,Vu()("div",{},void 0,Object(Ze.default)("We're finding the best guide for your channels and location.")),Vu()("div",{},void 0,Object(Ze.default)("This should only take a few moments."))),Vu()("div",{className:uH.a.spinnerContainer},void 0,Vu()(sB,{size:90,progress:t}))),Vu()(SV,{},void 0,Vu()(sV,{},void 0,Vu()(hw,{kind:Dp,size:Hh,onPress:i},void 0,Object(Ze.default)("Cancel")))))}pH.defaultProps={progress:0};var hH=pH;const mH=Nd.a.createElement,{Component:gH}=Nd.a;const vH={findBestEPGLineup:mU};var yH=Object(Hu.b)((function(){return Object(Wu.a)(UU,qU,KU(),(e,t,i)=>{const n=I.a.find(i,{uuid:e.epgLineupActivityID}),{progress:a}=n||{};return{setupErrorMessage:t,progress:a}})}),vH)(class extends gH{componentWillMount(){this._populate(this.props)}_populate(e){Object(Ti.a)(()=>{e.findBestEPGLineup({serverEntityID:e.serverEntityID})})}render(){return mH(hH,this.props)}});const fH=Nd.a.createElement,{Component:bH}=Nd.a;var IH=class extends bH{constructor(e,t){super(e,t),this.onPostalCodeChange=e=>{this.setState({postalCode:e},()=>{this.props.onPostalCodeChange(e)})},this.state={postalCode:""}}componentWillReceiveProps(e){this.state.postalCode!==e.postalCode&&this.setState({postalCode:e.postalCode})}focusInput(e){e&&Fu.a.findDOMNode(e).focus()}render(){const e=this.props.postalCodeExample,t=this.state.postalCode;return fH(UB,{name:"postalCodeInput",placeholder:"e.g. "+e,value:t,ref:this.focusInput,onChange:this.onPostalCodeChange})}};const SH=Nd.a.createElement,{Component:CH}=Nd.a;var MH=Object(Hu.b)((function(e){return{postalCode:e.ui.dvrSettingsUI.dvrSetup.epgSettings.postalCode}}),r)(class extends CH{constructor(e,t){super(e,t),this._postalCodeTimeoutID=void 0,this._fetchEPGLineups=()=>{this.props.fetchEPGLineups({serverEntityID:this.props.serverEntityID})},this.onPostalCodeChange=e=>{this._postalCodeTimeoutID&&window.clearTimeout(this._postalCodeTimeoutID),Object(Ti.a)(()=>{this.props.setEPGPostalCode({serverEntityID:this.props.serverEntityID,postalCode:e}),""!==e.trim()&&(this._postalCodeTimeoutID=window.setTimeout(this._fetchEPGLineups,200))})},this._postalCodeTimeoutID=null}componentWillUnmount(){this._postalCodeTimeoutID&&window.clearTimeout(this._postalCodeTimeoutID)}render(){return SH(IH,tp()({onPostalCodeChange:this.onPostalCodeChange},this.props))}}),DH=i("F3Cg"),PH=i.n(DH);const{Component:OH}=Nd.a;var jH=Vu()(OV,{});var wH=class extends OH{constructor(e,t){super(e,t),this.onShowXMLTVEntryPress=()=>{this.setState({showXMLTVEntry:!this.state.showXMLTVEntry})},this.onLanguageSelect=e=>{this.props.onLanguageSelect(e)},this.onRegionSelect=e=>{this.props.onRegionSelect(e)},this.onXMLTVPathChange=e=>{this.setState({xmlTVPath:e},()=>{this.props.onXMLTVProgramGuideChange(e,this.state.programGuideTitle)})},this.onProgramGuideTitleChange=e=>{this.setState({programGuideTitle:e},()=>{this.props.onXMLTVProgramGuideChange(this.state.xmlTVPath,e)})},this.state={showXMLTVEntry:!1,xmlTVPath:"",programGuideTitle:Object(Ze.default)("My Guide")}}render(){const{serverEntityID:e,platform:t,setupErrorMessage:i,isFetching:n,selectedLanguageCode:a,selectedRegionCode:s,languageOptions:r=[],regionOptions:o=[],languagesPopulated:l,regionsPopulated:c,canContinue:d,postalCodeExample:u,onSubmit:p,onModalClose:h}=this.props,{showXMLTVEntry:m,xmlTVPath:g,programGuideTitle:v}=this.state,y=l,f=!(!l||!u),b=!(!l||!c),I=[{"":Object(Ze.default)("Select Language")},...r],S=[{"":Object(Ze.default)("Select Region")},...o],C="Windows"===t?"C:\\path\\to\\your\\xmltv_file.xml":"/path/to/your/xmltv_file.xml";return Vu()(FM,{className:PH.a.form,onSubmit:p},void 0,Vu()(yV,{errorMessage:i,onModalClose:h},void 0,Vu()(wL,{},void 0,Vu()("div",{className:PH.a.message},void 0,Vu()("div",{},void 0,Object(Ze.default)("To download an electronic guide we need to know your location.")),Vu()(zp,{kind:Pp,onPress:this.onShowXMLTVEntryPress},void 0,m?Object(Ze.default)("Don't use XMLTV? Click here to select your location instead."):Object(Ze.default)("Have an XMLTV guide on your server? Click here to use that instead."))),m?Vu()("div",{},void 0,l?Vu()(eV,{},void 0,Vu()(GM,{},void 0,Object(Ze.default)("Language")),Vu()(LR,{name:"languageSelect",values:I,value:a,onChange:this.onLanguageSelect})):null,Vu()(eV,{},void 0,Vu()(GM,{},void 0,Object(Ze.default)("XMLTV Guide")),Vu()(UB,{name:"xmltvPath",placeholder:C,value:g,onChange:this.onXMLTVPathChange})),Vu()(eV,{},void 0,Vu()(GM,{},void 0,Object(Ze.default)("Guide Title")),Vu()(UB,{name:"programGuideTitle",value:v,onChange:this.onProgramGuideTitleChange}))):null,m?null:Vu()("div",{},void 0,y?Vu()(eV,{},void 0,Vu()(GM,{},void 0,Object(Ze.default)("Language")),Vu()(LR,{name:"languageSelect",values:I,value:a,onChange:this.onLanguageSelect})):null,f?Vu()(eV,{},void 0,Vu()(GM,{},void 0,Object(Ze.default)("Postal Code")),Vu()(MH,{serverEntityID:e,postalCodeExample:u}),n?Vu()(Jh,{className:PH.a.fetchingSpinner}):null):null,b?Vu()(eV,{},void 0,Vu()(GM,{},void 0,Object(Ze.default)("Region")),Vu()(LR,{className:PH.a.regionInput,name:"regionSelect",values:S,value:s,onChange:this.onRegionSelect}),n?Vu()(Jh,{className:PH.a.fetchingSpinner}):null):null)),Vu()(SV,{},void 0,Vu()(sV,{},void 0,Vu()(hw,{kind:Dp,size:Hh,onPress:h},void 0,Object(Ze.default)("Cancel"))),Vu()(sV,{},void 0,jH,Vu()(hw,{type:"submit",kind:Pp,size:Hh,isDisabled:!d||n},void 0,Object(Ze.default)("Continue"))))))}};const TH=Nd.a.createElement,{Component:EH}=Nd.a;const NH=Object.assign({dvrSetupNextStep:nU,selectEPGLineup:gU},r);var xH=Object(Hu.b)((function(){return Object(Wu.a)(_S(),UU,qU,(e,t,i)=>{const{selectedLineupUUID:n,epgSettings:a}=t,{isFetching:s,selectedCountry:r,selectedLanguage:o,selectedRegion:l,languages:c,regions:d,lineupGroup:u}=a,p=r&&1===r.flavor?r.example:null,h=o?o.code:"",m=l?l.key:"",g=c.length>0,v=d.length>0,y=c.reduce((e,t)=>(e.push({[t.code]:t.title}),e),[]),f=d.reduce((e,t)=>(e.push({[t.key]:t.title}),e),[]);return{platform:e.platform,setupErrorMessage:i,selectedLineupUUID:n,selectedLanguageCode:h,selectedRegionCode:m,languagesPopulated:g,regionsPopulated:v,languageOptions:y,regionOptions:f,isFetching:s,postalCodeExample:p,canContinue:!(!u.lineups.length&&!n||!h)}})}),NH)(class extends EH{constructor(...e){super(...e),this.onPostalCodeChange=void 0,this.onLanguageSelect=e=>{this.props.selectEPGLanguage({serverEntityID:this.props.serverEntityID,languageCode:e})},this.onRegionSelect=e=>{this.props.selectEPGRegion({serverEntityID:this.props.serverEntityID,regionKey:e})},this.onSubmit=()=>{this.props.dvrSetupNextStep()},this.onXMLTVProgramGuideChange=(e,t)=>{if(!e||!t)return void this.props.selectEPGLineup({lineupUUID:null});const i="lineup://tv.plex.providers.epg.xmltv/"+function(e){return/^[a-z]:\\|\\\\/i.test(e)&&(e=e.replace(/\\/g,"/")),/^(\/|[a-z]:\/)/i.test(e)&&(e=e.replace(/\/(.+?)(?=\/|$)/g,(e,t)=>"/"+encodeURIComponent(t))),"/"===e.charAt(0)&&(e=e.substring(1)),/^[a-z]+?:\/\//i.test(e)&&(e=encodeURIComponent(e)),e}(e)+"#"+encodeURIComponent(t);this.props.selectEPGLineup({lineupUUID:i})}}componentWillMount(){this._populate(this.props)}_populate(e){Object(Ti.a)(()=>{const t=e.serverEntityID;e.fetchEPGLanguages({serverEntityID:t}),e.selectEPGLineup({lineupUUID:null})})}render(){return TH(wH,tp()({onLanguageSelect:this.onLanguageSelect,onRegionSelect:this.onRegionSelect,onPostalCodeChange:this.onPostalCodeChange,onXMLTVProgramGuideChange:this.onXMLTVProgramGuideChange,onSubmit:this.onSubmit},this.props))}});var AH=function(){return Object(Wu.a)(e=>e.ui.dvrSettingsUI,(e,{dvrID:t})=>t,(e,t)=>{const i=e.dvrs;return I.a.find(i,{key:t})})};var LH=function(){return Object(Wu.a)((e,{deviceID:t})=>t,AH(),(e,t)=>{if(t)return I.a.find(t.devices,{key:e})})};function kH(){return FS(Object(Wu.a)(UU,LH(),(e,t)=>{const i=t?t.channels:e.selectedDevice.channels,n=t?t.channelMappings:e.channelMappings,a=e.lineupChannels,s=I.a.pluck(i,"key"),r=I.a.pluck(n,"deviceIdentifier"),o=s.concat(r);return I.a.uniq(o).map(e=>{const t=I.a.find(i,{key:e}),s=I.a.findWhere(n,{deviceIdentifier:e}),r=a.find(e=>s&&e.key&&e.key===s.channelKey||s&&e.identifier&&e.identifier===s.lineupIdentifier),{name:o="",identifier:l="",drm:c=!1,signalStrength:d,signalQuality:u,hd:p=!1}=t||{};return{key:e,name:o,deviceIdentifier:l,enabled:!(!t||c||!s||!s.enabled),drm:c,isChannelMissing:!t,channelKey:s&&s.channelKey||r&&r.key,lineupIdentifier:s&&s.lineupIdentifier||r&&r.identifier,signalStrength:d,signalQuality:u,isDeviceChannelHD:p,isLineupChannelHD:!!r&&r.hd}}).sort((e,t)=>Dk(e.deviceIdentifier,t.deviceIdentifier))}),e=>e)}var RH=function(e){const t=e.identifier+" "+e.callSign;return e.title?t+" ("+e.title+")":t};var zH=Object(Wu.a)(UU,e=>e.lineupChannels);const UH=Object(Wu.a)(zH,e=>e.slice().sort((e,t)=>Dk(e.identifier,t.identifier)).reduce((e,t)=>{const i=RH(t),n=JSON.stringify({channelKey:t.key,lineupIdentifier:t.identifier});return e.concat({[n]:i})},[{"":Object(Ze.default)("Select Channel")}]));var VH=FS(UH,e=>e),BH=i("x1aQ"),FH=i.n(BH);function HH({className:e,children:t,kind:i}){return Vu()("span",{className:(e||"")+" "+(FH.a.badge||"")+" "+(FH.a[i]||"")+" "+(!t&&FH.a.isHidden||""),"data-qa-id":"badgeElement"},void 0,t)}HH.defaultProps={kind:Dp};var _H=HH,WH=i("tmXh"),QH=i.n(WH);var GH=function(){return Vu()(_H,{className:QH.a.resolution},void 0,"HD")},KH=i("z2YV"),YH=i.n(KH);const{Component:qH}=Nd.a;var ZH=Vu()(GH,{});vc.a.shape({enabled:vc.a.bool.isRequired,channelKey:vc.a.string,lineupIdentifier:vc.a.string});var JH=IB(class extends qH{constructor(e,t){super(e,t),this.onSelectPress=e=>{this.setState({showSelectOptions:!0})},this.onEnabledChange=e=>{this.setState({enabled:e},()=>{this.props.onChange({enabled:e,channelKey:this.state.channelKey,lineupIdentifier:this.state.lineupIdentifier})})},this.onLineupChannelChange=e=>{const{channelKey:t,lineupIdentifier:i}=JSON.parse(e||{});this.setState({channelKey:t,lineupIdentifier:i},()=>{this.props.onChange({enabled:this.state.enabled,channelKey:t,lineupIdentifier:i})})},this.state={enabled:e.initialValue.enabled,channelKey:e.initialValue.channelKey,lineupIdentifier:e.initialValue.lineupIdentifier,showSelectOptions:!1}}componentWillReceiveProps(e){const{enabled:t,lineupIdentifier:i}=this.state,{enabled:n,lineupIdentifier:a}=e.value;t===n&&i===a||this.setState(this.props.value)}shouldComponentUpdate(e,t){return t.enabled!==this.state.enabled||(t.channelKey!==this.state.channelKey||(t.lineupIdentifier!==this.state.lineupIdentifier||(t.showSelectOptions!==this.state.showSelectOptions||(e.deviceIdentifier!==this.props.deviceIdentifier||(e.channelName!==this.props.channelName||(e.initialValue.enabled!==this.props.initialValue.enabled||(e.initialValue.lineupIdentifier!==this.props.initialValue.lineupIdentifier||(e.initialValue.channelKey!==this.props.initialValue.channelKey||(e.value.enabled!==this.props.value.enabled||(e.value.lineupIdentifier!==this.props.value.lineupIdentifier||(e.value.channelKey!==this.props.value.channelKey||e.lineupChannels!==this.props.lineupChannels)))))))))))}render(){const{name:e,deviceIdentifier:t,channelName:i,drm:n,signalStrength:a,isDeviceChannelHD:s,isLineupChannelHD:r,isChannelMissing:o,showResolution:l,lineupChannels:c,lineupChannelOptions:d}=this.props,{enabled:u,channelKey:p,lineupIdentifier:h}=this.state;if(o)return null;const m=c.find(e=>p&&h?e.key===p&&e.identifier===h:p?e.key===p:h?e.identifier===h:void 0),g=m?RH(m):null,v=JSON.stringify({channelKey:p,lineupIdentifier:h});return Vu()("div",{className:YH.a.channelMapping},void 0,Vu()("div",{className:YH.a.deviceInfo},void 0,Vu()("div",{className:YH.a.channelEnabled},void 0,n?null:Vu()(TB,{name:e+"Check",value:u,onChange:this.onEnabledChange})),Vu()("label",{className:(YH.a.deviceIdentifier||"")+" "+(!u&&YH.a.mappingDisabled||""),htmlFor:e+"Check"},void 0,t),Vu()("div",{className:(YH.a.channelName||"")+" "+(!u&&YH.a.mappingDisabled||"")},void 0,i),Vu()(IF,{className:YH.a.signalStrength,signalStrength:a})),n?Vu()("div",{className:YH.a.drmChannel},void 0,Vu()(_H,{className:YH.a.drmChannelBadge},void 0,Object(Ze.default)("Protected"))):Vu()("div",{className:YH.a.epgChannel},void 0,Vu()(LR,{name:e+"Select",value:v,values:this.state.showSelectOptions?d:[{[v]:u?g||Object(Ze.default)("Select Channel"):g}],size:Fh,isDisabled:!u,onMouseDown:this.onSelectPress,onTouchStart:this.onSelectPress,onChange:this.onLineupChannelChange}),l?Vu()("div",{className:YH.a.resolutionContainer},void 0,s||r?ZH:null):null))}}),XH=i("vXsA"),$H=i.n(XH);var e_=function(e){const{showSignalStrength:t,allChannelMappingsEnabled:i,allChannelMappingsDisabled:n,onAllChannelMappingsEnabledChange:a}=e;let s=null;return i?s=!0:n&&(s=!1),Vu()("div",{className:$H.a.container},void 0,Vu()("div",{className:$H.a.deviceChannelsContainer},void 0,Vu()(TB,{name:"toggleAll",value:s,onChange:a}),Vu()("div",{className:$H.a.deviceChannelsPadding}),Vu()("div",{className:$H.a.deviceChannels},void 0,Object(Ze.default)("Device Channels")),t?Vu()("div",{className:$H.a.signalStrength},void 0,Object(Ze.default)("Strength")):null),Vu()("div",{className:$H.a.guideChannels},void 0,Object(Ze.default)("Guide Channels")))};const t_=Nd.a.createElement,{Component:i_}=Nd.a;var n_=function(e){var t,i;return i=t=class extends i_{constructor(e,t){super(e,t),this.onFormStateChange=e=>{let t=!0,i=!0;Object.keys(e).forEach(n=>{e[n].value.enabled?i=!1:t=!1}),this.setState({formState:e,allChannelMappingsEnabled:t,allChannelMappingsDisabled:i})},this.onAllChannelMappingsEnabledChange=e=>{this.setState(t=>{const i={};return Object.keys(t.formState).forEach(n=>{const a=t.formState[n].value;a.enable===e?i[n]=t.formState[n]:i[n]=Object.assign({},t.formState[n],{value:{enabled:e,lineupIdentifier:a.lineupIdentifier}})}),{formState:i,allChannelMappingsEnabled:e,allChannelMappingsDisabled:!e}})},this.state={formState:{},allChannelMappingsEnabled:!1,allChannelMappingsDisabled:!1}}render(){const{allChannelMappingsEnabled:t,allChannelMappingsDisabled:i}=this.state;return t_(e,tp()({formState:this.state.formState,allChannelMappingsEnabled:t,allChannelMappingsDisabled:i,onFormStateChange:this.onFormStateChange,onAllChannelMappingsEnabledChange:this.onAllChannelMappingsEnabledChange},this.props))}},t.displayName="DeviceChannelMappingsForm("+ff(e)+")",t.WrappedComponent=e,i},a_=i("/sof"),s_=i.n(a_);var r_=n_((function(e){const{dvrID:t,setupErrorMessage:i,selectedLineupUUID:n,availableLineups:a,lineupChannels:s,lineupChannelOptions:r,channelMappings:o,isChannelMappingsPending:l,isLineupChannelsPending:c,isSavingDVR:d,channelMappingsErrorMessage:u,formState:p,allChannelMappingsEnabled:h,allChannelMappingsDisabled:m,onAllChannelMappingsEnabledChange:g,onFormStateChange:v,onLineupSelect:y,onModalClose:f,onSubmit:b}=e,I=l||c,S=!!a.length,C=[{"":Object(Ze.default)("Select Guide")},...a],M=n?decodeURIComponent(n.match(/#(.+?)$/)[1]):void 0;let D=!1,P=!1;for(let e=0;e<o.length&&(!D||!P);e++){const t=o[e];null==t.signalQuality&&null==t.signalStrengh||(D=!0),(t.isDeviceChannelHD||t.isLineupChannelHD)&&(P=!0)}return Vu()(FM,{className:s_.a.form,formState:p,onChange:v,onSubmit:b},void 0,Vu()(yV,{errorMessage:i,onModalClose:f},void 0,u?Vu()(wL,{className:s_.a.channelMappingsBody,scrollDirection:Zp},void 0,Vu()("div",{className:s_.a.centeredContainer},void 0,u)):null,u?null:Vu()(wL,{className:s_.a.channelMappingsBody,scrollDirection:Zp},void 0,S?Vu()("div",{},void 0,Vu()("div",{className:s_.a.programGuideLabel},void 0,Object(Ze.default)("Guide")),Vu()("div",{className:s_.a.programGuideSelectContainer},void 0,Vu()(LR,{name:"programGuide",values:C,value:n,onChange:y}))):null,S?null:Vu()("div",{className:s_.a.programGuideTitle},void 0,M),I?Vu()("div",{className:s_.a.centeredContainer},void 0,Vu()(Jh,{label:Object(Ze.default)("Loading channel mappings")})):null,!I&&n?Vu()(ih,{className:s_.a.scroller,autoScroll:!0},void 0,Vu()(e_,{showSignalStrength:D,allChannelMappingsEnabled:h,allChannelMappingsDisabled:m,onAllChannelMappingsEnabledChange:g}),o.map(e=>{const{key:t,deviceIdentifier:i,name:n,enabled:a,channelKey:o,lineupIdentifier:l,drm:c,signalStrengh:d,signalQuality:u,isDeviceChannelHD:p,isLineupChannelHD:h,isChannelMissing:m}=e;return Vu()(JH,{name:t,initialValue:{enabled:a,channelKey:o,lineupIdentifier:l},deviceIdentifier:i,channelName:n,drm:c,signalStrength:u||d,isDeviceChannelHD:p,isLineupChannelHD:h,isChannelMissing:m,showResolution:P,lineupChannels:s,lineupChannelOptions:r},t)})):null),Vu()(SV,{},void 0,Vu()(sV,{},void 0,Vu()(hw,{kind:Dp,size:Hh,onPress:f},void 0,Object(Ze.default)("Cancel"))),Vu()(sV,{},void 0,Vu()(OV,{dvrID:t}),Vu()(hV,{type:"submit",kind:Pp,size:Hh,isSpinning:d},void 0,Object(Ze.default)("Continue"))))))}));const o_=Nd.a.createElement,{Component:l_}=Nd.a;function c_(e,t){if(e){const t=Se.a.parseXML(e.responseText);if(t.message)return t.message}else{if(!t)return;{const e=Se.a.parseXML(t.responseText);if(e.message)return e.message}}return Object(Ze.default)("Unable to load channel mappings")}const d_={fetchLineupChannels:wU,fetchChannelMap:TU,selectEPGLineup:gU,clearChannelMapError:vU,saveDVR:bU,addDVRDevice:IU};var u_=Object(Hu.b)((function(){return Object(Wu.a)(UU,qU,zH,VH,kH(),(e,t,i,n,a)=>{const{selectedDevice:s,selectedLineupUUID:r,isChannelMappingsPending:o,isLineupChannelsPending:l,channelMappingsError:c,lineupChannelsError:d,isSavingDVR:u}=e;return{setupErrorMessage:t,selectedDevice:s,selectedLineupUUID:r,availableLineups:I.a.reduce(e.epgSettings.lineupGroup.lineups,(e,t)=>(e.push({[t.uuid]:t.title}),e),[]),lineupChannels:i,lineupChannelOptions:n,channelMappings:a,isChannelMappingsPending:o,isLineupChannelsPending:l,isSavingDVR:u,channelMappingsErrorMessage:c_(c,d)}})}),d_)(class extends l_{constructor(...e){super(...e),this.onLineupSelect=e=>{const{serverEntityID:t,selectedDevice:i}=this.props;e&&(this.props.selectEPGLineup({serverEntityID:t,lineupUUID:e}),this.props.fetchLineupChannels({serverEntityID:t,lineupUUID:e}),this.props.fetchChannelMap({serverEntityID:t,deviceUUID:i.uuid,lineupUUID:e,forceEnabled:!0}))},this.onAddDeviceSubmit=e=>{const{serverEntityID:t,dvrID:i,selectedDevice:n}=this.props;this.props.addDVRDevice({serverEntityID:t,dvrID:i,deviceID:n.key,data:e})},this.onSaveDVRSubmit=e=>{const{serverEntityID:t,selectedDevice:i}=this.props;this.props.saveDVR({serverEntityID:t,deviceID:i.key,data:e})}}componentWillMount(){this._populate(this.props)}componentWillUnmount(){this.props.clearChannelMapError()}_populate(e){const t=e.serverEntityID,i=e.selectedDevice.uuid,n=e.selectedLineupUUID;n&&Object(Ti.a)(()=>{e.fetchLineupChannels({serverEntityID:t,lineupUUID:n}),e.fetchChannelMap({serverEntityID:t,deviceUUID:i,lineupUUID:n,forceEnabled:!0})})}render(){const e=this.props.dvrID;return o_(r_,tp()({onLineupSelect:this.onLineupSelect,onSubmit:e?this.onAddDeviceSubmit:this.onSaveDVRSubmit},this.props))}});const p_=Nd.a.createElement,{Component:h_}=Nd.a;const m_={clearDVRSetup:iU};var g_=Object(Hu.b)((function(){return Object(Wu.a)(UU,e=>({step:e.step}))}),m_)(class extends h_{componentWillUnmount(){this.props.clearDVRSetup()}render(){const e=this.props,{step:t}=e,i=Xe()(e,["step"]);switch(t){case qk:return p_(ZF,i);case Zk:return p_(tH,i);case Jk:return p_(BF,i);case Xk:return p_(xH,i);case $k:return p_(yH,i);case eR:return p_(u_,i);case tR:return p_(cH,i)}}}),v_=i("mqLr"),y_=i.n(v_);const{Component:f_}=Nd.a;var b_=class extends f_{constructor(...e){super(...e),this.onModalClose=()=>{Object(ne.c)("metrics").trackClick(Object.assign({},this.props.metricsProperties,{page:zd.N,action:Rd.t})),this.props.onModalClose()}}shouldComponentUpdate(e,t){return Tp(this,e,t)}render(){const{serverEntityID:e,dvrID:t,isOpen:i,metricsProperties:n}=this.props;return Vu()(Fw,{className:y_.a.modal,isOpen:i,metricsPage:zd.N,metricsProperties:n,preventCloseOnBackdropPress:!0,onModalClose:this.onModalClose},void 0,Vu()(g_,{serverEntityID:e,dvrID:t,onModalClose:this.onModalClose}))}};const{Component:I_}=Nd.a,S_={context:_t.SETTINGS};class C_ extends I_{constructor(e,t){super(e,t),this.onCreateDVRPress=()=>{this.setState({isDVRSetupModalOpen:!0})},this.onDVRSetupModalClose=()=>{this.setState({isDVRSetupModalOpen:!1}),this.props.onModalClose&&this.props.onModalClose()},this.state={isDVRSetupModalOpen:e.isModalOpen}}render(){const{className:e,serverEntityID:t,machineIdentifier:i,providerIdentifier:n,isDvrsPending:a,isV4DVRSetupEnabled:s,hasDVRs:r,hasDVRFeature:o,hasLiveTVSetupFeature:l,dvrsError:c,children:d}=this.props,{isDVRSetupModalOpen:u}=this.state,p=!a&&!r;return Vu()("div",{className:e},void 0,d?d({serverEntityID:t,hasDVRFeature:o,hasLiveTVSetupFeature:l,noDVRs:p,dvrsError:c,onOpen:this.onCreateDVRPress}):null,s?Vu()(tU,{machineIdentifier:i,providerIdentifier:n,metricsContext:S_.context,isOpen:u,onModalClose:this.onDVRSetupModalClose}):Vu()(b_,{serverEntityID:t,metricsProperties:S_,isOpen:u,onModalClose:this.onDVRSetupModalClose}))}}C_.defaultProps={isModalOpen:!1};var M_=C_;const D_=Nd.a.createElement,{Component:P_}=Nd.a;const O_={dispatchInitDVRSettingsUI:nR,dispatchClearDVRSettingsUI:aR};var j_=Object(Hu.b)((function(){return Object(Wu.a)(e=>e.ui.dvrSettingsUI,_S(),Gw(wt.l),yg,bk,(e,t,i,n,a)=>{const{isDvrsPending:s,dvrs:r,dvrsError:o,isUIPopulated:l}=e,c=t.providers.map(e=>n[e]).find(vs);return{machineIdentifier:t.machineIdentifier,providerIdentifier:null==c?void 0:c.identifier,isUIPopulated:l,isDvrsPending:s,hasDVRs:!(!r||!r.length),hasDVRFeature:!!t.ownerFeatures&&t.ownerFeatures.indexOf("dvr")>-1,hasLiveTVSetupFeature:i,isV4DVRSetupEnabled:a,dvrsError:o}})}),O_)(class extends P_{componentDidMount(){Object(Ti.a)(()=>{this.props.dispatchInitDVRSettingsUI({serverEntityID:this.props.serverEntityID})})}componentWillUnmount(){this.props.dispatchClearDVRSettingsUI()}render(){const e=this.props,t=Xe()(e,["dispatchInitDVRSettingsUI","dispatchClearDVRSettingsUI"]);return this.props.isUIPopulated?D_(M_,t):null}}),w_=i("vQY0"),T_=i.n(w_);const E_=Nd.a.createElement;var N_=function(e){return E_(dh,tp()({className:T_.a.innerEmptyPage,contentClassName:T_.a.innerEmptyPageContent,scrollDirection:Zp},e))},x_=i("FAj2"),A_=i.n(x_);const L_=Nd.a.createElement;var k_=function(e){return L_(N_,tp()({iconClassName:A_.a.icon,iconComponent:ph},e))},R_=i("dDQa"),z_=i.n(R_);const U_=Nd.a.createElement,{Component:V_}=Nd.a;class B_ extends V_{constructor(e,t){super(e,t),this.onCancel=()=>{Object(ne.c)("metrics").trackClick(Object.assign({},this.props.metricsProperties,{page:this.props.metricsPage,action:Rd.j})),this.props.onCancel()},this.onAccordChange=e=>{this.setState({isAccordGiven:e.target.checked})},this.state={isAccordGiven:!1}}shouldComponentUpdate(e,t){return Tp(this,e,t)}render(){const{containerClassName:e,isCancelButtonDisabled:t,isConfirmButtonSpinning:i,isOpen:n,metricsPage:a,metricsProperties:s,kind:r,title:o,message:l,accordMessage:c,confirmLabel:d,cancelLabel:u,hideCancelButton:p,onConfirm:h}=this.props,m=!!c,g=i||m&&!this.state.isAccordGiven;return Vu()(Fw,{containerClassName:e,size:Fh,isOpen:n,metricsPage:a,metricsProperties:s,onModalClose:this.onCancel},void 0,Vu()(YL,{onModalClose:this.onCancel},void 0,Vu()(zL,{},void 0,o),Vu()(wL,{className:z_.a.confirmBody},void 0,l,m?Vu()("label",{className:z_.a.accordLabel},void 0,Vu()("input",{type:"checkbox",className:z_.a.accordInput,checked:this.state.isAccordGiven,onChange:this.onAccordChange}),c):null),Vu()(AL,{},void 0,Vu()(sV,{},void 0,p?null:Vu()(hw,{className:z_.a.cancelButton,kind:Dp,isDisabled:t,onPress:this.onCancel},void 0,u||Object(Ze.default)("Cancel")),U_(BL,tp()({},s,{action:Rd.o}),Vu()(hV,{className:z_.a.confirmButton,"data-autofocus":!0,kind:r,isDisabled:g,isSpinning:i,onPress:h},void 0,d||Object(Ze.default)("OK")))))))}}B_.defaultProps={isConfirmButtonSpinning:!1,kind:Pp};var F_=B_,H_=i("9YI8"),__=i.n(H_);function W_(e){const{className:t,machineIdentifier:i,shouldRender:n,showButton:a}=e;return n?Vu()("div",{className:t},void 0,Vu()("div",{className:__.a.messageContainer},void 0,Vu()(eM,{className:__.a.icon}),Vu()("div",{className:__.a.message},void 0,Object(Ze.default)("Guide data for this DVR will no longer be updated after January 1, 2021. Please delete and recreate a new DVR and reschedule your recordings to ensure continued coverage."))),a?Vu()(hw,{className:__.a.button,kind:jp,to:ln(i,"manage","dvr")},void 0,Object(Ze.default)("Get Started")):null):null}W_.defaultProps={className:__.a.container,showButton:!0};var Q_=W_;var G_=Object(Hu.b)((function(){return Object(Wu.a)($S,ZS,Gw(wt.h),(e,t,i)=>{const n=jt.k(t.identifier,jt.c),a=e.version&&Qi(e.version,qi.gracenoteAttribution);return{machineIdentifier:e.machineIdentifier,shouldRender:n&&a&&i&&"Plex"===t.epgSource&&e.isFullOwnedServer}})}))(Q_);function K_(e){var t=e["aria-label"],i=e.className,n=e.style,a={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-reload-560"};a["aria-hidden"]=!t,a.style=n,a.className=Ad.a.plexIcon+(i?" "+i:"");var s=[Nd.a.createElement.apply(Nd.a,["path",{d:"m280 560c-1.807-.003-3.614-.017-5.421-.052-3.292-.062-6.584-.182-9.873-.359-9.731-.525-19.435-1.554-29.059-3.089-11.735-1.871-23.35-4.493-34.75-7.849-11.774-3.466-23.317-7.714-34.53-12.705-13.924-6.197-27.338-13.54-40.067-21.922-13.116-8.636-25.504-18.374-36.998-29.074-11.686-10.88-22.446-22.753-32.124-35.451-9.55-12.53-18.044-25.862-25.357-39.816-6.195-11.822-11.541-24.088-15.978-36.676-4.407-12.5-7.916-25.316-10.495-38.317-3.569-17.998-5.348-36.343-5.348-54.69 0-12.5.823-25 2.48-37.39 1.885-14.104 4.851-28.063 8.869-41.713 4.106-13.949 9.311-27.574 15.547-40.711 7.129-15.019 15.603-29.397 25.281-42.915 9.786-13.67 20.8-26.46 32.864-38.17 12.674-12.302 26.506-23.411 41.259-33.125 14.39-9.476 29.653-17.622 45.541-24.289 17.483-7.337 35.716-12.877 54.325-16.507 17.427-3.4 35.175-5.122 52.929-5.179 17.775-.056 35.554 1.556 53.023 4.85 18.646 3.516 36.926 8.946 54.466 16.181 15.934 6.572 31.253 14.628 45.705 24.02 14.578 9.474 28.271 20.305 40.854 32.302 1.622 1.546 3.224 3.111 4.808 4.695l82.049-82.049 0 220-220 0 81.382-81.382c-.709-.71-1.423-1.413-2.142-2.112-9.074-8.807-18.975-16.76-29.536-23.715-10.101-6.651-20.804-12.386-31.942-17.1-12.43-5.261-25.396-9.245-38.635-11.871-12.45-2.469-25.133-3.735-37.825-3.816-12.729-.08-25.466 1.027-37.984 3.347-13.29 2.463-26.324 6.29-38.836 11.406-11.386 4.656-22.336 10.374-32.671 17.047-10.456 6.75-20.28 14.475-29.313 23.036-8.883 8.419-17 17.646-24.213 27.534-6.997 9.59-13.143 19.801-18.331 30.479-4.523 9.309-8.318 18.972-11.333 28.873-2.889 9.484-5.061 19.185-6.498 28.995-1.42 9.691-2.123 19.485-2.123 29.279 0 13.333 1.307 26.665 3.942 39.736 1.824 9.049 4.281 17.969 7.35 26.674 3.163 8.971 6.973 17.713 11.389 26.139 5.226 9.973 11.299 19.501 18.124 28.456 6.932 9.096 14.639 17.599 23.009 25.392 7.933 7.385 16.461 14.131 25.477 20.146 8.881 5.924 18.236 11.138 27.949 15.569 7.946 3.624 16.131 6.723 24.485 9.267 8.087 2.463 16.331 4.405 24.666 5.815 6.853 1.159 13.767 1.958 20.704 2.398 2.353.149 4.708.257 7.065.325 1.296.037 2.592.059 3.889.074.65.005 1.301.008 1.951.009l.259 79.999-.259.001"}].concat([]))];return t&&s.unshift(Nd.a.createElement("title",null,t)),Nd.a.createElement.apply(Nd.a,["svg",a].concat(s))}K_.propTypes={"aria-label":vc.a.string,className:vc.a.string,style:vc.a.object};var Y_=K_;function q_(e){var t=e["aria-label"],i=e.className,n=e.style,a={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-settings-560"};a["aria-hidden"]=!t,a.style=n,a.className=Ad.a.plexIcon+(i?" "+i:"");var s=[Nd.a.createElement.apply(Nd.a,["path",{d:"m200 280c0 44.153 35.847 80 80 80 44.153 0 80-35.847 80-80 0-44.153-35.847-80-80-80-44.153 0-80 35.847-80 80m-115.992-40c5.189-25.52 15.244-49.281 29.153-70.271l-61.151-61.15 56.569-56.569 61.15 61.151c20.99-13.909 44.751-23.964 70.271-29.153l0-84.008 80 0 0 84.008c25.52 5.189 49.281 15.244 70.271 29.153l61.15-61.151 56.569 56.569-61.151 61.15c13.909 20.99 23.964 44.751 29.153 70.271l84.008 0 0 80-84.008 0c-5.189 25.52-15.244 49.282-29.153 70.271l61.151 61.15-56.569 56.569-61.15-61.151c-20.99 13.909-44.751 23.964-70.271 29.153l0 84.008-80 0 0-84.008c-25.52-5.189-49.281-15.244-70.271-29.153l-61.15 61.151-56.569-56.569 61.151-61.15c-13.909-20.989-23.964-44.751-29.153-70.271l-84.008 0 0-80 84.008 0"}].concat([]))];return t&&s.unshift(Nd.a.createElement("title",null,t)),Nd.a.createElement.apply(Nd.a,["svg",a].concat(s))}q_.propTypes={"aria-label":vc.a.string,className:vc.a.string,style:vc.a.object};var Z_=q_,J_=i("VfUD"),X_=i.n(J_);const $_=Nd.a.createElement;var eW=function(e){let{children:t}=e,i=Xe()(e,["children"]);return $_(YL,i,Vu()(wL,{className:X_.a.modalScroller,innerClassName:X_.a.innerModalBody},void 0,t))},tW=i("bb11"),iW=i.n(tW);const nW=Nd.a.createElement;function aW(e){const{iconClassName:t,messageClassName:i,kind:n,message:a}=e,s=Xe()(e,["iconClassName","messageClassName","kind","message"]);return nW(eW,s,Vu()(ph,{className:(iW.a[n]||"")+" "+(t||"")}),Vu()("div",{className:i},void 0,a))}aW.defaultProps={iconClassName:iW.a.icon,messageClassName:iW.a.message,kind:Dp};var sW=aW,rW=i("Tp3C"),oW=i.n(rW);var lW=function(e){const{channelMappings:t,lineupChannels:i,lineupChannelOptions:n,showSignalStrength:a,channelScanActivity:s,scanPrefs:r,scanNetworks:o,allChannelMappingsEnabled:l,allChannelMappingsDisabled:c,onAllChannelMappingsEnabledChange:d}=e,u=t.some(e=>e.isDeviceChannelHD||e.isLineupChannelHD);return s?Vu()("div",{className:oW.a.progressContainer},void 0,Vu()(sB,{size:90,progress:s.progress})):r.length?Vu()(ih,{className:oW.a.scroller,autoScroll:!0},void 0,Vu()(vF,{prefs:r})):o.length?Vu()(MB,{networks:o}):t.length?Vu()(ih,{className:oW.a.scroller,autoScroll:!0},void 0,Vu()(e_,{showSignalStrength:a,allChannelMappingsEnabled:l,allChannelMappingsDisabled:c,onAllChannelMappingsEnabledChange:d}),t.map(e=>{const{key:t,deviceIdentifier:a,name:s,enabled:r,channelKey:o,lineupIdentifier:l,drm:c,signalStrength:d,signalQuality:p,isDeviceChannelHD:h,isLineupChannelHD:m,isChannelMissing:g}=e;return Vu()(JH,{name:t,initialValue:{enabled:r,channelKey:o,lineupIdentifier:l},deviceIdentifier:a,channelName:s,drm:c,signalStrength:p||d,isChannelMissing:g,showResolution:u,isDeviceChannelHD:h,isLineupChannelHD:m,lineupChannels:i,lineupChannelOptions:n},t)})):null},cW=i("ugHo"),dW=i.n(cW);const{Component:uW}=Nd.a;var pW=Vu()(Jh,{});class hW extends uW{constructor(...e){super(...e),this.onScanDeviceChannelsButtonPress=()=>{const{scanPrefs:e,scanNetworks:t,channelScanActivity:i,onScanDeviceChannels:n,onCancelScanDeviceChannels:a}=this.props;e.length||t.length||(i?a():n(this.props.country))},this.onSubmit=e=>{const{scanPrefs:t,scanNetworks:i,onSubmit:n}=this.props;if(t.length||i.length){const t=this.props.scanPrefs.length?{prefs:e}:e;this.props.onScanDeviceChannels(this.props.country,t)}else n(e)}}render(){const{channelMappings:e,lineupChannels:t,lineupChannelOptions:i,isChannelMappingsPending:n,isLineupChannelsPending:a,isDeviceChannelsPending:s,channelMappingsError:r,lineupChannelsError:o,deviceChannelsError:l,isChannelMappingsSaving:c,channelMappingsSaveError:d,formState:u,allChannelMappingsEnabled:p,allChannelMappingsDisabled:h,isCancellingChannelScan:m,scanPrefs:g,scanNetworks:v,channelScanActivity:y,onAllChannelMappingsEnabledChange:f,onFormStateChange:b,onModalClose:I}=this.props,S=y&&!m,C=r||o||l,M=!S&&(n||a||s),D=y?parseInt(y.Response.channels,10):0;let P;P=1===D?Object(Ze.default)("Scanning channels. 1 channel found."):D>1?Object(Ze.default)("Scanning channels. {channelCount} channels found.",{channelCount:D}):Object(Ze.default)("Scanning channels. No channels found.");const O=!(!g.length&&!v.length),j=e.some(e=>null!=e.signalQuality||null!=e.signalStrengh),w=j?Object(Ze.default)('Click "Scan Channels" to refresh this list, or create a new DVR to use a different lineup. Signal strength is stored at the time of scanning.'):Object(Ze.default)('Click "Scan Channels" to refresh this list, or create a new DVR to use a different lineup.');return C?Vu()(sW,{message:Object(Ze.default)("Unable to load channel mappings"),onModalClose:I}):Vu()(FM,{className:dW.a.form,formState:u,onChange:b,onSubmit:this.onSubmit},void 0,Vu()(YL,{onModalClose:I},void 0,Vu()(zL,{},void 0,Object(Ze.default)("Manage Channels")),M?Vu()(wL,{},void 0,Vu()("div",{className:dW.a.centeredContainer},void 0,pW)):null,!M&&d?Vu()("div",{},void 0,Vu()(vV,{errorMessage:nT(d,Object(Ze.default)("There was a problem saving your changes. Please try again."))})):null,M?null:Vu()(wL,{className:y?void 0:dW.a.manageChannelsBody,scrollDirection:y?"vertical":Zp},void 0,Vu()("div",{className:dW.a.scanChannelsContainer},void 0,Vu()("div",{className:dW.a.scanChannelsMessage},void 0,y?P:w),Vu()("div",{},void 0,Vu()(hV,{type:O?"submit":"button",size:Hh,isSpinning:m,isDisabled:m,onPress:this.onScanDeviceChannelsButtonPress},void 0,S?Object(Ze.default)("Stop scanning"):Object(Ze.default)("Scan channels")))),Vu()(lW,{channelMappings:e,lineupChannels:t,lineupChannelOptions:i,showSignalStrength:j,channelScanActivity:y,scanPrefs:g,scanNetworks:v,allChannelMappingsEnabled:p,allChannelMappingsDisabled:h,onAllChannelMappingsEnabledChange:f})),Vu()(AL,{},void 0,Vu()(sV,{},void 0,Vu()(hw,{kind:Dp,size:Hh,onPress:I},void 0,Object(Ze.default)("Cancel")),Vu()(hV,{type:"submit",kind:Pp,size:Hh,isDisabled:M||!!y,isSpinning:c},void 0,Object(Ze.default)("Save"))))))}}hW.defaultProps={scanPrefs:[],scanNetworks:[]};var mW=n_(hW);const gW=Nd.a.createElement,{Component:vW}=Nd.a;var yW=Object(Hu.b)((function(){return Object(Wu.a)(AH(),LH(),kH(),YU(),UU,zH,VH,(e,t,i,n,a,s,r)=>{const{country:o,lineup:l}=e,{isChannelMappingsPending:c,isLineupChannelsPending:d,channelMappingsError:u,lineupChannelsError:p,isChannelMappingsSaving:h,channelMappingsSaveError:m,scanPrefs:g,scanNetworks:v}=a;return{country:o,lineupUUID:e.lineup,lineupTitle:l,channelMappings:i,lineupChannels:s,lineupChannelOptions:r,isChannelMappingsPending:c,isLineupChannelsPending:d,isDeviceChannelsPending:t.isChannelsPending,channelMappingsError:u,lineupChannelsError:p,isChannelMappingsSaving:h,channelMappingsSaveError:m,deviceChannelsError:t.channelsError,scanPrefs:g,scanNetworks:v,channelScanActivity:n}})}),(function(e,t){const{serverEntityID:i,dvrID:n,deviceID:a}=t;return{dispatchSelectDevice(){e(dU({serverEntityID:i,dvrID:n,deviceID:a}))},dispatchFetchLineupChannels(t){e(wU({serverEntityID:i,lineupUUID:t}))},dispatchFetchDeviceChannels(){e(uU({serverEntityID:i,dvrID:n,deviceID:a}))},dispatchFetchChannelMap(){e(TU({serverEntityID:i}))},dispatchCancelScanDeviceChannels(){e(hU({serverEntityID:i,deviceID:a}))},dispatchClearDeviceScanPrefs(){e(OU({serverEntityID:i}))},onScanDeviceChannels(t,s={}){e(pU(Object.assign({serverEntityID:i,dvrID:n,deviceID:a,country:t},s)))},onSubmit(t){Object(Ti.a)(()=>{e(yU({serverEntityID:i,dvrID:n,deviceID:a,data:t}))})},onDismissSaveError(){Object(Ti.a)(()=>{e(fU())})}}}))(class extends vW{constructor(e,t){super(e,t),this.onCancelScanDeviceChannels=()=>{this.setState({isCancellingChannelScan:!0}),this.props.dispatchCancelScanDeviceChannels(this.props.deviceID)},this.state={isCancellingChannelScan:!!e.channelScanActivity}}componentDidMount(){const{lineupUUID:e,dispatchClearDeviceScanPrefs:t,dispatchSelectDevice:i,dispatchFetchLineupChannels:n,dispatchFetchDeviceChannels:a}=this.props;Object(Ti.a)(()=>{t(),i(),n(e),a()})}componentWillReceiveProps(e){!e.channelScanActivity&&this.props.channelScanActivity&&this.setState({isCancellingChannelScan:!1})}componentDidUpdate(e,t){e.isChannelMappingsSaving&&!this.props.isChannelMappingsSaving&&null==this.props.channelMappingsSaveError&&this.props.onModalClose(),this.props.channelScanActivity||!e.channelScanActivity||this.props.scanNetworks||Object(Ti.a)(()=>{this.props.dispatchFetchDeviceChannels()})}componentWillUnmount(){const{serverEntityID:e,dvrID:t,deviceID:i,channelScanActivity:n}=this.props;n&&!this.state.isCancellingChannelScan&&this.props.dispatchCancelScanDeviceChannels({serverEntityID:e,dvrID:t,deviceID:i})}render(){const e=this.props,t=Xe()(e,["dispatchSelectDevice","dispatchFetchLineupChannels","dispatchFetchDeviceChannels","dispatchFetchChannelMap","dispatchCancelScanDeviceChannels","dispatchClearDeviceScanPrefs"]);return gW(mW,tp()({isCancellingChannelScan:this.state.isCancellingChannelScan,onCancelScanDeviceChannels:this.onCancelScanDeviceChannels},t))}});var fW=function(e){const{serverEntityID:t,dvrID:i,deviceID:n,metricsProperties:a,isOpen:s,onModalClose:r}=e;return Vu()(Fw,{metricsPage:zd.J,metricsProperties:a,isOpen:s,preventCloseOnBackdropPress:!0,onModalClose:r},void 0,Vu()(yW,{serverEntityID:t,dvrID:i,deviceID:n,onModalClose:r}))};const bW=Nd.a.createElement,{Component:IW}=Nd.a;var SW=Object(Hu.b)((function(){return Object(Wu.a)(AH(),LH(),(e,t)=>({dvrID:e.key,deviceID:t.key}))}),{clearDVRSetup:iU})(class extends IW{constructor(...e){super(...e),this.onModalClose=()=>{this.props.clearDVRSetup({serverEntityID:this.props.serverEntityID}),this.props.onModalClose()}}render(){return bW(fW,tp()({},this.props,{onModalClose:this.onModalClose}))}}),CW=i("Ryf4"),MW=i.n(CW);const DW=Nd.a.createElement,{Component:PW}=Nd.a;var OW=class extends PW{componentDidUpdate(e,t){e.isSaving&&!this.props.isSaving&&null==this.props.saveError&&this.props.onModalClose()}render(){const{serverEntityID:e,model:t,uri:i,thumb:n,prefs:a,isSaving:s,saveError:r,onSubmit:o,onModalClose:l}=this.props;return Vu()(FM,{className:MW.a.form,onSubmit:o},void 0,Vu()(YL,{onModalClose:l},void 0,Vu()(zL,{},void 0,Object(Ze.default)("Device Settings")),r?Vu()(vV,{errorMessage:nT(r,Object(Ze.default)("There was a problem saving your changes. Please try again."))}):null,Vu()(wL,{},void 0,Vu()("div",{className:MW.a.container},void 0,Vu()(UV,{className:MW.a.deviceImage,serverEntityID:e,model:t,thumb:n,width:150,height:150}),Vu()("div",{className:MW.a.info},void 0,Vu()("div",{className:MW.a.model},void 0,t),Vu()("div",{},void 0,i),Vu()("div",{className:MW.a.settings},void 0,a.map(e=>{const{id:t}=e;return DW(mF,tp()({key:t},e))}))))),Vu()(AL,{},void 0,Vu()(sV,{},void 0,Vu()(hw,{kind:Dp,size:Hh,onPress:l},void 0,Object(Ze.default)("Cancel")),Vu()(hV,{type:"submit",isSpinning:s,kind:Pp,size:Hh},void 0,Object(Ze.default)("Save"))))))}};const jW=Nd.a.createElement,{Component:wW}=Nd.a;var TW=Object(Hu.b)((function(){return Object(Wu.a)((e,{dvrID:t})=>t,LH(),(e,t)=>{const{key:i,model:n,uri:a,prefs:s,thumb:r,isSaving:o,saveError:l}=t;return{dvrID:e,deviceID:i,model:n,uri:a,prefs:s,thumb:r,isSaving:o,saveError:l}})}),{saveDeviceSettings:DU,clearDeviceSettingsSaveError:PU})(class extends wW{constructor(...e){super(...e),this.onSubmit=e=>{const{serverEntityID:t,dvrID:i,deviceID:n}=this.props;Object(Ti.a)(()=>{this.props.saveDeviceSettings({serverEntityID:t,dvrID:i,deviceID:n,prefs:e})})},this.onModalClose=()=>{const{dvrID:e,deviceID:t}=this.props;this.props.clearDeviceSettingsSaveError({dvrID:e,deviceID:t}),this.props.onModalClose()}}render(){return jW(OW,tp()({},this.props,{onSubmit:this.onSubmit,onModalClose:this.onModalClose}))}});const EW=Nd.a.createElement;var NW=function(e){const{isOpen:t,metricsProperties:i,onModalClose:n}=e,a=Xe()(e,["isOpen","metricsProperties","onModalClose"]);return Vu()(Fw,{isOpen:t,metricsPage:zd.H,metricsProperties:i,onModalClose:n},void 0,EW(TW,tp()({onModalClose:n},a)))},xW=i("K/Mj"),AW=i.n(xW);const{Component:LW,Fragment:kW}=Nd.a,RW={context:_t.SETTINGS};var zW=Vu()(LV,{}),UW=Vu()(ph,{});var VW=class extends LW{constructor(e,t){super(e,t),this.onManageChannelsPress=()=>{this.setState({isManageChannelsModalOpen:!0})},this.onManageChannelsModalClose=()=>{this.setState({isManageChannelsModalOpen:!1})},this.onDeviceSettingsPress=()=>{this.setState({isDeviceSettingsModalOpen:!0})},this.onDeviceSettingsModalClose=()=>{this.setState({isDeviceSettingsModalOpen:!1})},this.state={isManageChannelsModalOpen:!1,isDeviceSettingsModalOpen:!1}}render(){const{serverEntityID:e,dvrID:t,deviceID:i,model:n,uri:a,thumb:s,tunerCount:r,channelCount:o,unsupported:l,activeTunerCount:c,channelMappings:d,hasPrefs:u,status:p,canRemoveDevice:h,onRemoveDevicePress:m}=this.props,g=p===jk,v=d.filter(e=>e.enabled).length;let y;return y=o?1===o?Object(Ze.default)("1 channel"):Object(Ze.default)("{channelCount} channels",{channelCount:o}):Object(Ze.default)("No channels"),Vu()("div",{className:AW.a.device},void 0,Vu()(UV,{serverEntityID:e,model:n,thumb:s,width:100,height:100}),Vu()("div",{className:AW.a.details},void 0,Vu()("div",{className:AW.a.modelContainer},void 0,Vu()("div",{className:AW.a.model},void 0,n),a?Vu()(kW,{},void 0,Vu()(tf,{className:AW.a.separator}),Vu()(VV,{className:AW.a.uri,uri:a})):null,l?zW:null),g?Vu()("div",{className:AW.a.deviceWarning},void 0,Vu()("div",{className:AW.a.deviceWarningIconContainer},void 0,UW),Object(Ze.default)("Device not found. Ensure your device is powered on and connected to your network.")):Vu()("div",{className:AW.a.info},void 0,Vu()("div",{},void 0,1===r?Object(Ze.default)("1 tuner"):Object(Ze.default)("{tunerCount} tuners",{tunerCount:r}),c?Vu()(kW,{},void 0,Vu()(tf,{className:AW.a.separator}),Object(Ze.default)("{activeTunerCount} in use now",{activeTunerCount:c})):null),Vu()("div",{},void 0,y,Vu()(tf,{className:AW.a.separator}),Vu()(zp,{kind:Pp,onPress:this.onManageChannelsPress},void 0,Object(Ze.default)("{enabledChannelsCount} enabled",{enabledChannelsCount:v}))),u?Vu()(zp,{className:AW.a.deviceSettingsButton,kind:Pp,onPress:this.onDeviceSettingsPress},void 0,Vu()(Z_,{className:AW.a.deviceSettingsIcon,"aria-label":Object(Ze.default)("Device Settings")}),Object(Ze.default)("Device Settings")):null)),h?Vu()("div",{className:AW.a.removeDeviceContainer},void 0,Vu()(zp,{className:AW.a.removeDevice,onPress:m},void 0,Vu()(NI,{"aria-label":Object(Ze.default)("Remove Device")}))):null,Vu()(SW,{serverEntityID:e,dvrID:t,deviceID:i,metricsProperties:RW,isOpen:this.state.isManageChannelsModalOpen,onModalClose:this.onManageChannelsModalClose}),Vu()(NW,{serverEntityID:e,dvrID:t,deviceID:i,metricsProperties:RW,isOpen:this.state.isDeviceSettingsModalOpen,onModalClose:this.onDeviceSettingsModalClose}))}};const BW=Nd.a.createElement,{Component:FW}=Nd.a;const HW={fetchDeviceChannels:uU,removeDVRDevice:SU};var _W=Object(Hu.b)((function(){return Object(Wu.a)(LH(),KU(),(e,t)=>{const i=t.reduce((t,i)=>{const n=i.Context&&i.Context.transcode_session;return"grabber.grab"!==i.type||parseInt(i.Context.deviceID,10)!==e.key||n&&t.some(e=>e.Context.transcode_session===n)||t.push(i),t},[]);return{hasPrefs:!(!e.prefs||!e.prefs.length),channelCount:e.channels.length,activeTunerCount:i.length}})}),HW)(class extends FW{constructor(...e){super(...e),this.onRemoveDevicePress=()=>{const{serverEntityID:e,dvrID:t,deviceID:i}=this.props;this.props.removeDVRDevice({serverEntityID:e,dvrID:t,deviceID:i})}}componentWillMount(){const{serverEntityID:e,dvrID:t,deviceID:i}=this.props;Object(Ti.a)(()=>{this.props.fetchDeviceChannels({serverEntityID:e,dvrID:t,deviceID:i})})}render(){return BW(VW,tp()({onRemoveDevicePress:this.onRemoveDevicePress},this.props))}}),WW=i("r8pT"),QW=i.n(WW);const GW=Nd.a.createElement,{Component:KW}=Nd.a;var YW=class extends KW{componentDidUpdate(e,t){e.isSaving&&!this.props.isSaving&&null==this.props.saveError&&this.props.onModalClose()}render(){const{prefs:e,isSaving:t,saveError:i,onSubmit:n,onModalClose:a}=this.props;return Vu()(FM,{className:QW.a.form,onSubmit:n},void 0,Vu()(YL,{onModalClose:a},void 0,Vu()(zL,{},void 0,Object(Ze.default)("DVR Settings")),i?Vu()(vV,{errorMessage:nT(i,Object(Ze.default)("There was a problem saving your changes. Please try again."))}):null,Vu()(wL,{},void 0,e.map(e=>{const{id:t}=e;return GW(mF,tp()({key:t},e))})),Vu()(AL,{},void 0,Vu()(sV,{},void 0,Vu()(hw,{kind:Dp,size:Hh,onPress:a},void 0,Object(Ze.default)("Cancel")),Vu()(hV,{type:"submit",isSpinning:t,kind:Pp,size:Hh},void 0,Object(Ze.default)("Save"))))))}};const qW=Nd.a.createElement,{Component:ZW}=Nd.a;var JW=Object(Hu.b)((function(){return Object(Wu.a)(AH(),e=>{const{prefs:t,isSaving:i,saveError:n}=e;return{prefs:t.filter(e=>!e.hidden),isSaving:i,saveError:n}})}),{saveDVRSettings:CU,clearDVRSettingsSaveError:MU})(class extends ZW{constructor(...e){super(...e),this.onSubmit=e=>{const{serverEntityID:t,dvrID:i}=this.props;Object(Ti.a)(()=>{this.props.saveDVRSettings({serverEntityID:t,dvrID:i,prefs:e})})},this.onModalClose=()=>{this.props.clearDVRSettingsSaveError({dvrID:this.props.dvrID}),this.props.onModalClose()}}render(){return qW(YW,tp()({},this.props,{onSubmit:this.onSubmit,onModalClose:this.onModalClose}))}});const XW=Nd.a.createElement;var $W=function(e){const{isOpen:t,metricsProperties:i,onModalClose:n}=e,a=Xe()(e,["isOpen","metricsProperties","onModalClose"]);return Vu()(Fw,{isOpen:t,metricsPage:zd.M,metricsProperties:i,onModalClose:n},void 0,XW(JW,tp()({onModalClose:n},a)))},eQ=i("QlLa"),tQ=i.n(eQ);const{Component:iQ}=Nd.a,nQ={context:_t.SETTINGS};var aQ=class extends iQ{constructor(e,t){super(e,t),this.onRemoveDVRPress=()=>{this.setState({isRemoveDVRModalOpen:!0})},this.onRemoveDVRConfirm=()=>{this.setState({isRemoveDVRModalOpen:!1}),this.props.onRemoveDVR()},this.onRemoveDVRCancel=()=>{this.setState({isRemoveDVRModalOpen:!1})},this.onDVRSettingsPress=()=>{this.setState({isDVRSettingsModalOpen:!0})},this.onDVRSettingsModalClose=()=>{this.setState({isDVRSettingsModalOpen:!1})},this.onAddDevicePress=()=>{this.setState({isAddDeviceModalOpen:!0})},this.onModalClose=()=>{this.setState({isAddDeviceModalOpen:!1})},this.state={isRemoveDVRModalOpen:!1,isDVRSettingsModalOpen:!1,isAddDeviceModalOpen:!1}}shouldComponentUpdate(e,t){return Tp(this,e,t)}render(){const{serverEntityID:e,providerEntityID:t,dvrID:i,machineIdentifier:n,providerIdentifier:a,lineupTitle:s,devices:r,epgDownloadActivity:o,hasPrefs:l,hasDVRFeature:c,hasLiveTVSetupFeature:d,hasFreeLiveTVDVRSettings:u,isV4DVRSetupEnabled:p,onReloadGuidePress:h,onCancelReloadGuidePress:m}=this.props,{isRemoveDVRModalOpen:g,isDVRSettingsModalOpen:v}=this.state,y=(c||d&&u)&&l;return Vu()("div",{className:tQ.a.dvr},void 0,t?Vu()(G_,{className:tQ.a.banner,serverEntityID:e,providerEntityID:t,showButton:!1}):null,Vu()("div",{className:tQ.a.header},void 0,Vu()("div",{className:tQ.a.name},void 0,Object(Ze.default)("DVR"),Vu()(tf,{className:tQ.a.separator}),s),Vu()(zp,{className:tQ.a.deleteLink,kind:Pp,onPress:this.onRemoveDVRPress},void 0,Object(Ze.default)("Delete DVR"))),Vu()("div",{className:tQ.a.actions},void 0,Vu()("div",{},void 0,o?Vu()(zp,{kind:Dp,title:Object(Ze.default)("Cancel refresh"),onPress:m},void 0,Vu()(NI,{className:tQ.a.actionIcon}),o.title," (",o.progress,"%)",Vu()(tf,{className:tQ.a.separator}),o.subtitle):Vu()(zp,{kind:Pp,onPress:h},void 0,Vu()(Y_,{className:tQ.a.actionIcon}),Object(Ze.default)("Refresh Guide"))),y?Vu()("div",{},void 0,Vu()(zp,{kind:Pp,onPress:this.onDVRSettingsPress},void 0,Vu()(Z_,{className:tQ.a.actionIcon,"aria-label":Object(Ze.default)("DVR Settings")}),Object(Ze.default)("DVR Settings"))):null),Vu()("div",{className:tQ.a.devices},void 0,r.map(t=>Vu()(_W,{serverEntityID:e,dvrID:i,deviceID:t.key,canRemoveDevice:r.length>1,model:t.model,uri:t.uri,unsupported:t.unsupported,channelMappings:t.channelMappings,tunerCount:t.tuners,status:t.status,thumb:t.thumb},t.key))),Vu()(zp,{kind:Pp,onPress:this.onAddDevicePress},void 0,Vu()(vA,{className:tQ.a.addDeviceIcon}),Object(Ze.default)("Add Device")),Vu()(F_,{isOpen:g,metricsPage:zd.y,title:Object(Ze.default)("Delete DVR"),message:Object(Ze.default)("Deleting your DVR will remove the Guide, and all scheduled recordings will be suspended. Programming you've previously recorded will remain in your library."),confirmLabel:Object(Ze.default)("Delete"),kind:Op,onConfirm:this.onRemoveDVRConfirm,onCancel:this.onRemoveDVRCancel}),Vu()($W,{isOpen:v,serverEntityID:e,dvrID:i,metricsProperties:nQ,onModalClose:this.onDVRSettingsModalClose}),p?Vu()(tU,{machineIdentifier:n,providerIdentifier:a,dvrID:i,metricsContext:nQ.context,isOpen:this.state.isAddDeviceModalOpen,onModalClose:this.onModalClose}):Vu()(b_,{serverEntityID:e,dvrID:i,metricsProperties:nQ,isOpen:this.state.isAddDeviceModalOpen,onModalClose:this.onModalClose}))}};const sQ=Object(Wu.c)({machineIdentifier:Object(Wu.a)($S,e=>e.machineIdentifier),providerIdentifier:Object(Wu.a)(_S(),yg,(e,t)=>{const i=e.providers.find(e=>vs(t[e]));return null==i?void 0:i.identifier}),providerEntityID:Object(Wu.a)(_S(),yg,(e,t)=>{const i=e.providers.map(e=>t[e]).find(vs);return null==i?void 0:i.entityID}),epgDownloadActivity:nH(),hasPrefs:Object(Wu.a)(AH(),e=>!!e.prefs),hasFreeLiveTVDVRSettings:Object(Wu.a)($S,e=>Qi(e.version,qi.freeLiveTVDVRSettings)),isV4DVRSetupEnabled:bk});var rQ=Object(Hu.b)(sQ,(function(e,t){const{serverEntityID:i,dvrID:n}=t;return{onRemoveDVR(){e(rR({serverEntityID:i,dvrID:n}))},onReloadGuidePress(){e(oR({serverEntityID:i,dvrID:n}))},onCancelReloadGuidePress(){e(lR({serverEntityID:i,dvrID:n}))}}}))(aQ);var oQ=function(e){const{serverEntityID:t,isDvrsPending:i,dvrsError:n,dvrs:a,hasDVRFeature:s,hasLiveTVSetupFeature:r}=e;return n?Vu()(k_,{title:Object(Ze.default)("Unable to load DVRs")}):i?Vu()(Jh,{label:Object(Ze.default)("Loading DVRs")}):Vu()("div",{},void 0,a.map(e=>Vu()(rQ,{dvrID:e.key,serverEntityID:t,lineupTitle:e.lineupTitle,devices:e.devices,hasDVRFeature:s,hasLiveTVSetupFeature:r},e.key)))};var lQ=Object(Hu.b)((function(e){const{isDvrsPending:t,dvrsError:i,dvrs:n}=e.ui.dvrSettingsUI;return{isDvrsPending:t,dvrsError:i,dvrs:n}}))(oQ),cQ=i("9gax"),dQ=i.n(cQ);var uQ=function(e){const{serverEntityID:t}=e;return Vu()(j_,{className:dQ.a.container,serverEntityID:t},void 0,({noDVRs:e,hasDVRFeature:i,hasLiveTVSetupFeature:n,dvrsError:a,onOpen:s})=>Vu()("div",{},void 0,e&&!a?Vu()(Mw,{iconComponent:yk,title:Object(Ze.default)("Introducing Live TV & DVR"),text:Object(Ze.default)("With Plex Pass and a digital tuner, you can record over-the-air broadcast TV and watch your favorite shows, movies, news, and sports on any device, anywhere in the world. Cut the cord and love TV again."),moreInfo:Vu()(vw,{message:Object(Ze.default)("To get started recording TV, connect a tuner device to your network. Here's a {openLinkSupported}list of supported devices{closeLinkSupported}. However, some tuners not officially supported {openLinkUnsupported}work as well{closeLinkUnsupported}!"),tags:[{open:"openLinkSupported",close:"closeLinkSupported",component:zp,kind:Pp,to:"https://support.plex.tv/articles/225877427-supported-dvr-tuners-and-antennas/?utm_source=Plex%20Apps&utm_medium=Plex%20Web&utm_campaign=Plex%20Apps",target:"_blank"},{open:"openLinkUnsupported",close:"closeLinkUnsupported",component:zp,kind:Pp,to:Hp,target:"_blank"}]})},void 0,i||n?Vu()(hw,{kind:Pp,size:_h,onPress:s},void 0,Object(Ze.default)("Set Up Plex DVR")):Vu()(gk,{serverEntityID:t,origin:"dvr-setup",modalMetricsProperties:{context:"dvrSetup"}})):null,i||n?Vu()(lQ,{serverEntityID:t,hasDVRFeature:i,hasLiveTVSetupFeature:n}):null))};var pQ=xe.a.extend({name:"DeprecatedPluginModel",context:["server","channel"],idAttribute:"key",url(){return this.id?this.id:this.identifierUrl(this.get("identifier"))},identifierUrl:e=>"/:/plugins/"+e+"/root",syncedAttrs:{key:Ae.a.string,identifier:Ae.a.string,type:Ae.a.string,name:Ae.a.string,title1:Ae.a.string,title2:Ae.a.string,message:Ae.a.string,summary:Ae.a.string,thumb:Ae.a.string,art:Ae.a.string,prefsKey:Ae.a.string,searchKey:Ae.a.string,installed:Ae.a.boolean,noCache:Ae.a.boolean,allowSync:Ae.a.boolean,hasPrefs:Ae.a.boolean,hasStoreServices:Ae.a.boolean,share:Ae.a.boolean,lastAccessedAt:Ae.a.integer},syncedRelations:{metadataList:{relationClass:Gn.default,attrs(e){return{containerKey:e.key?e.key:this.identifierUrl(e.identifier)}},options(e){return{channel:this,skipCache:!0}}}},derivedAttrs:{title(){return this.get("name")||this.get("title2")||this.get("title1")}},augmentResponseText:(e,t)=>t===ct.c?Object(dt.b)(e,{includeDirectories:!0}):e,augmentResponse(e){if(this.has("key")&&(e.key=this.get("key")),"none"===e.key&&delete e.key,e.key){const t=e.key.match(/^\/(\w+)\//);t&&(e.type=t[1])}e.title&&(e.name=e.title);const t=Se.a.parseArray(e.Metadata);for(let i=t.length-1;i>=0;i--){const n=t[i];if(n.settings||n.search){e[n.settings?"prefsKey":"searchKey"]=n.key,t.splice(i,1)}}return e.Metadata=t,e.metadataList=e,e}});var hQ=ke.a.extend({name:"DeprecatedPluginCollection",context:["server","channel"],model:pQ,url(){return this.containerKey},comparator:e=>e.get("title").toLowerCase(),filterByType(e){const t=this.filter(t=>t.get("type")===e);return this.clone(t)}});var mQ=xe.a.extend({mixins:[st.a],name:"DeprecatedPluginListModel",context:["server"],idAttribute:"key",collectionName:"channels",url(){const e=this.get("key"),t=e||V.join(["/channels",this.get("subset")]);return this.getPaginatedUrl(t)},sessionAttrs:{key:Ae.a.string,subset:Ae.a.oneOf("all","recentlyViewed"),currentPageStart:Ae.a.integer,currentPageSize:Ae.a.integer,populatedRange:Ae.a.object},syncedAttrs:{totalSize:Ae.a.integer,viewGroup:Ae.a.string,title1:Ae.a.string,title2:Ae.a.string},syncedRelations:{channels:{relationClass:hQ,rootPropertyName:"Directory",setOptions:e=>({remove:e.remove,at:e.at})}},defaults:()=>({subset:"all",populatedRange:{start:0,end:0,size:0}}),initialize(){this.startPopulatedRangeMonitor()}});const gQ=Object(Pi.a)("CHANGE_BACKGROUND"),vQ=Object(Pi.a)("CHANGE_THEME_MUSIC"),yQ=Object(Pi.a)("RESET_BACKGROUND");var fQ=i("/k80"),bQ=i.n(fQ),IQ=i("uUkn"),SQ=i.n(IQ);var CQ=on.extend({name:"DeprecatedPluginSettingsModal",className:"channel-settings-modal modal fade",template:SQ.a,ui:{submitBtn:".submit-btn"},events:I.a.extend({"change input[name]":"onInputChange","change select[name]":"onInputChange","submit #channel-settings-form":"onSubmit"},on.prototype.events),initialize:function(){on.prototype.initialize.apply(this,arguments),this.changes={}},serializeData:function(){const e=this.model.get("title")||this.model.get("name");return{escapedTitle:I.a.escape(e||"Preferences..."),settings:this.collection.toJSON()}},onInputChange:function(e){const t=e.currentTarget;let i=t.value;"checkbox"===t.type&&(i=t.checked),this.changes[t.name]=i},onSubmit:function(e){if(e.preventDefault(),I.a.isEmpty(this.changes))return void this.hide();const t=this.ui.submitBtn;if(t.hasClass("active"))return;t.addClass("active");const i=this.collection.first(),n=i.getSaveParams(this.changes),a=I.a.result(this.collection,"url"),s=V.join([a,"/set"],n),r=D.a.ajax(i.server.getXHROptions(s));r.done(()=>{this.hide()}),r.fail(()=>{U.a.trigger("show:alert",{type:"error",message:Object(Ze.default)("There was a problem saving these settings.")})}),r.always(()=>{t.removeClass("active")})}}),MQ=i("s1Aa"),DQ=i.n(MQ);var PQ=R.ItemView.extend({tagName:"li",className:"poster-item media-tile-list-item channel",template:DQ.a,ui:{poster:".media-poster"},events:{"click .settings-btn":"onSettingsClick","click .uninstall-btn":"onUninstallClick"},initialize:function(e){this.image=new Qm({model:this.model,type:"channel",width:150}),this.shared=this.model.server.get("shared")},serializeData:function(){return{item:this.model.toJSON(),shared:this.shared}},bindings:{".media-title":{modelAttribute:"title"},".media-subtitle-1":{modelAttribute:"type",autohide:!0,formatter:e=>"video"===e?Object(Ze.default)("Video"):"music"===e?Object(Ze.default)("Music"):"photos"===e?Object(Ze.default)("Photo"):Object(Ze.default)("Utility")}},onRender:function(){this.image.setElement(this.ui.poster)},onClose:function(){this.image.close()},onSettingsClick:function(e){if(e.preventDefault(),this.$el.hasClass("active"))return;this.$el.addClass("active");const t=new sm.a([],{server:this.model.server,url:this.model.id+"/:/prefs"}),i=t.fetch();i.done(()=>{U.a.trigger("show:modal",new CQ({model:this.model,collection:t}))}),i.always(()=>{this.$el.removeClass("active")})},onUninstallClick:function(e){if(e.preventDefault(),this.$el.hasClass("active"))return;this.$el.addClass("active");const t=Ge.execute("uninstallChannel",{channel:this.model});t.done(()=>{this.model.trigger("destroy",this.model,this.model.collection)}),t.always(()=>{this.$el.removeClass("active")})}});var OQ=Sm.extend({tagName:"ul",className:"tile-list media-tile-list channel-tile-list",itemView:PQ});var jQ=R.Layout.extend({className:"container",template:bQ.a,ui:{navLinks:".nav a"},regions:{list:".channels-container"},events:{"click .nav a":"onNavClick","click .all-btn":"onAllClick","click .video-btn":"onVideoClick","click .music-btn":"onMusicClick","click .photo-btn":"onPhotoClick"},initialize:function({deprecatedPlugins:e}){(0,Object(ne.c)("appStore").dispatch)(gQ({allowLightPreset:!1})),this.collection=e.get("channels"),this.videoCollection=this.collection.filterByType("video"),this.musicCollection=this.collection.filterByType("music"),this.photoCollection=this.collection.filterByType("photos")},serializeData:function(){return{serverID:this.collection.server.id,allCount:this.collection.length,hasInstalledChannels:this.collection.length>0,videoCount:this.videoCollection.length,musicCount:this.musicCollection.length,photoCount:this.photoCollection.length}},onRender:function(){this.list.show(new OQ({collection:this.collection}))},onNavClick:function(e){this.ui.navLinks.removeClass("selected"),D()(e.currentTarget).addClass("selected")},onAllClick:function(e){e.preventDefault(),this.list.show(new OQ({collection:this.collection}))},onVideoClick:function(e){e.preventDefault(),this.list.show(new OQ({collection:this.videoCollection}))},onMusicClick:function(e){e.preventDefault(),this.list.show(new OQ({collection:this.musicCollection}))},onPhotoClick:function(e){e.preventDefault(),this.list.show(new OQ({collection:this.photoCollection}))}});const wQ=Nd.a.createElement,{Component:TQ}=Nd.a;var EQ=class extends TQ{constructor(...e){super(...e),this._el=void 0,this._view=void 0}componentDidMount(){const e=this.props.view;this._view=new e(this.props.viewOptions),this._view.render(),this._el.appendChild(this._view.el),this._view.triggerMethod("show")}shouldComponentUpdate(){return!1}componentWillUnmount(){this._view.close&&this._view.close()}render(){return wQ("div",{className:this.props.className,ref:e=>this._el=e})}};const{useState:NQ}=Nd.a;var xQ=Vu()(dh,{},void 0,Vu()(Jh,{}));var AQ=function(e){const{serverEntityID:t}=e,i=NQ({deprecatedPlugins:null,isDeprecatedPluginsPending:!0,deprecatedPluginsError:!1}),n=i[1],a=i[0];return $u(()=>{var e;const i=null==(e=Object(ne.c)("appModel").get("entities").get("servers").get(t))?void 0:e.get("model"),a=new mQ({},{server:i});a.fetch().then(()=>{n({deprecatedPlugins:a,isDeprecatedPluginsPending:!1,deprecatedPluginsError:!1})},()=>{n({deprecatedPlugins:null,isDeprecatedPluginsPending:!1,deprecatedPluginsError:!0})})}),a.isDeprecatedPluginsPending?xQ:a.deprecatedPluginsError?Vu()(vh,{title:Object(Ze.default)("Plugins are not available.")}):Vu()(EQ,{view:jQ,viewOptions:{deprecatedPlugins:a.deprecatedPlugins}})};var LQ=Object(Wu.a)(Gu,e=>e.libraries);function kQ(){return Object(Wu.a)(LQ,Object(Wu.a)(_S(),e=>e?e.desktop.libraries:void 0),(e,t)=>t?t.map(t=>e[t]):[])}function RQ(){return Object(Wu.a)(_S(),e=>e&&e.desktop)}var zQ=i("z8ZC");function UQ(e){const t="movie"===e.type&&e.agent===ms.d?"videos":e.type;return zQ.g.get(t).key}var VQ=i("5XbV");function BQ(e){return!!e&&"string"==typeof e&&Date.now()>=new Date(e).getTime()}var FQ=function(e,t,i,n){if(function(e,t){if(!e.get("isFullServer"))return!1;if(z.a.isHostedHttps&&!be.a.allowMixedContent)return!1;const i=t===lc.ALWAYS,n=t===lc.SAME_NETWORK;return!!(i||n&&e.get("publicAddressMatches"))}(e,n)){const n=e.addConnection({scheme:"http",address:t,port:i,isFallback:!0});Object(C.a)("[Connections] Added insecure fallback connection for %s at %s",e.get("debugName"),n.id)}else C.a.warn("[Connections] Prevented fallback to insecure connection for",e.get("debugName"))};function HQ(e,t){const{libraryID:i,libraryType:n,cancel:a,force:s,allowMetrics:r,metricsProperties:o={}}=t,l=s?{force:1}:void 0,c=Object(V.join)(["/library/sections",i,"refresh"],l),d=e.getXHROptions(c,{type:a?"DELETE":"GET"});if(r){let e;e=a?Rd.k:s?Rd.B:Rd.nb,Object(ne.c)("metrics").trackClick(Object.assign({},o,{action:e,type:"all"===i?"all":n}))}return D.a.ajax(d).promise()}var _Q=i("Y0bH"),WQ=i.n(_Q);var QQ=Xx.extend({className:"alert-bar notify",template:WQ.a,events:I.a.extend({"click .setup-link":"onSetupClick"},Xx.prototype.events),serializeData(){return{model:this.model.get("model"),make:this.model.get("make"),dvrSettingsRoute:ln(this.options.machineIdentifier,"manage","dvr")}},disableDevice(){const e=Object(ne.c)("appStore"),t=this.options.serverEntityID;t&&e.dispatch(jU({serverEntityID:t,deviceID:this.model.id,enabled:!1}))},onSetupClick(){this.hide(),this.disableDevice()},onCloseClick(e){Xx.prototype.onCloseClick.apply(this,arguments),this.disableDevice()}});function GQ(e,t,i,n){return Object(Zc.a)("source",e,t,i,n)}const KQ="dvr",YQ=Object(iA.a)(["key"],[{key:"unknown",title:()=>Object(Ze.default)("Unknown"),types:{}},{key:"playlists",types:{type:Qt.m}},{key:"movies",types:{type:Qt.j}},{key:"tv",types:{type:Qt.o}},{key:"music",types:{type:Qt.b}},{key:"photos",types:{type:Qt.k}},{key:"videos",types:{type:Qt.j}},{key:"episode",types:{type:Qt.f}},{key:KQ,title:()=>Object(Ze.default)("Live TV & DVR")},{key:"shared",types:{type:Qt.i}},{key:"news",title:()=>Object(Ze.default)("News"),types:{type:Qt.d,subtype:LC.b}},{key:"podcasts",types:{type:Qt.o,subtype:LC.c}},{key:"webShows",types:{type:Qt.o,subtype:LC.d}},{key:"game",types:{type:Qt.h}}]),qQ=(YQ.get,YQ.getAll);var ZQ=function(e,t,i){const{key:n,types:a={}}=e,s=Array.isArray(t.protocols)?t.protocols.includes(Wt.a):t.protocols[Wt.a],r=n===KQ;if(s)return r;if(r)return!1;const o=i.agent===ms.d;if("videos"===n&&!o||"movies"===n&&o)return!1;const{type:l,subtype:c}=a;return i.type===l&&(null==c&&null==i.subtype||null!=c&&i.subtype===c)};function JQ(e,t){if(!e||!t||"hubs"===t.id||"categories"===t.id&&"news"===t.subtype||"channels"===t.id&&"news"===t.subtype)return;const i=qQ();for(let n=0,a=i.length;n<a;n++){const a=i[n];if(ZQ(a,e,t))return a}return i.find(e=>"unknown"===e.key)}var XQ=function(){const e=Object(ne.c)("appModel"),t=Object(gT.a)(e,wt.C),i=e.get("deviceSettings").get("v4DirectoryEnabled"),n=e.get("user").get("experienceSettings").get("autoHomeHubsEnabled");return t&&i&&n},$Q=i("jKuV"),eG=i.n($Q),tG=R.ItemView.extend({template:eG.a,events:{"change input[name]":"onInputChange","change select[name]":"onInputChange"},initialize:function(){this.changes={}},serializeData:function(){return{settings:this.collection.toJSON(),escapedAgentName:I.a.escape(this.model.agents.get(this.model.get("agent")).get("name"))}},onInputChange:function(e){var t=D()(e.currentTarget),i=t.is(":checkbox")?t.prop("checked"):t.val();this.collection.findWhere({id:t.attr("name")}).set("value",i)}}),iG=xe.a.extend({name:"AgentAttributionModel",context:["server"],responseType:ct.b,syncedAttrs:{content:Ae.a.string},url:function(){return"/system/agents/attribution?identifier="+this.parent.id},augmentResponse:function(e){return{content:e}}});function nG(e){return nc[e]||""}var aG=xe.a.extend({name:"LanguageModel",context:["server"],idAttribute:"code",rootPropertyName:"Language",syncedAttrs:{code:Ae.a.string,title:Ae.a.string,default:Ae.a.boolean},derivedAttrs:{name:function(){return this.get("title")||nG(this.get("code"))}}}),sG=ke.a.extend({name:"LanguageCollection",context:["server"],model:aG,comparator:"name"}),rG=xe.a.extend({name:"AgentModel",context:["server"],idAttribute:"identifier",rootPropertyName:"Agent",sessionAttrs:{isPrimary:Ae.a.boolean,selected:Ae.a.boolean},sessionRelations:{attribution:{relationClass:iG}},syncedAttrs:{identifier:Ae.a.string,name:Ae.a.string,enabled:Ae.a.boolean,hasPrefs:Ae.a.boolean,order:Ae.a.string},syncedRelations:{languages:{relationClass:sG,rootPropertyName:"Language"}}}),oG=ke.a.extend({name:"AgentCollection",context:["server","mediaTypeID","primaryAgentID","relatedAgentID"],model:rG,cache:new lm,cacheKey:function(){var e=I.a.result(this,"url");return this.server&&this.server.getScopedKey(e)},url:function(){var e="/system/agents";return this.primaryAgentID?e+"/contributors?mediaType="+this.mediaTypeID+"&primaryAgent="+this.primaryAgentID:this.relatedAgentID?e+"/"+this.relatedAgentID+"/config/"+this.mediaTypeID:this.mediaTypeID?e+"?mediaType="+this.mediaTypeID:e},hasExclusiveAgent:function(e){return!!I.a.intersection(this.pluck("identifier"),e).length}}),lG=i("pnnh"),cG=i.n(lG),dG=cG.a.extend({constructor:function(e,t,i,n){this.exclusiveAgents=t,this.agentIdentifier=i,cG.a.call(this,e,n),this.filterBy(I.a.bind(this.filterExclusiveAgent,this))},filterExclusiveAgent:function(e){var t=e.get("identifier"),i=this.exclusiveAgents;if(!i)return!0;var n=this.agentIdentifier,a=-1!==i.indexOf(n),s=-1!==i.indexOf(t);return a?t===n:!s}}),uG=cG.a.extend({constructor:function(e,t,i,n){this.exclusiveScanners=t,this.scannerName=i,cG.a.call(this,e,n),this.filterBy(I.a.bind(this.filterExclusiveScanner,this))},filterExclusiveScanner:function(e){var t=e.get("name"),i=this.exclusiveScanners;if(!i)return!0;var n=this.scannerName,a=-1!==i.indexOf(n),s=-1!==i.indexOf(t);return a?t===n:!s}}),pG=xe.a.extend({name:"ScannerModel",context:["server"],rootPropertyName:"Scanner",syncedAttrs:{name:Ae.a.string}}),hG=ke.a.extend({name:"ScannerCollection",context:["server","sectionTypeID"],model:pG,url:function(){return"/system/scanners/"+this.sectionTypeID},hasExclusiveScanner:function(e){return!!I.a.intersection(this.pluck("name"),e).length}}),mG=R.Layout.extend({ui:{formGroup:".form-group"},onlyAfterRender:["showValidationResult"],serializeData:function(){var e={};return this.model.isNew()?e.add=!0:e.edit=!0,e.section=this.model.toJSON(),e},showValidationResult:function(e){var t=this.ui.formGroup;t.removeClass("has-error"),I.a.each(e,(function(e){t.filter("."+e+"-group").addClass("has-error")})),this.trigger(e.length?"invalid":"valid")},createMenuOptions:function(e,t){return I.a.map(e,(function(e){return'<option value="'+e.value+'"'+(e.value===t?" selected":"")+">"+e.label+"</option>"})).join("\n")},getSectionType:function(){if(this.model.sectionType)return this.model.sectionType;var e=this.model.get("type"),t=zQ.g.get(e);return"movie"===e&&this.model.get("agent")===ms.d&&(t=zQ.g.get("videos")),this.model.sectionType=t,t},setSectionType:function(e){this.model.sectionType=e},populateAgents:function(){var e=this.getSectionType();return e?(this.model.agents||(this.model.agents=new oG([],{server:this.model.server,mediaTypeID:e.typeID})),this.model.agents.populate().then((function(e){return e}))):D.a.Deferred().reject().promise()},populateScanners:function(){var e=this.getSectionType();return e?(this.model.scanners||(this.model.scanners=new hG([],{server:this.model.server,sectionTypeID:e.typeID})),this.model.scanners.populate().then((function(e){return e}))):D.a.Deferred().reject().promise()},populateAgentsProxy:function(){var e=this.getSectionType().exclusiveAgents,t=new dG(this.model.agents,e,this.model.get("agent"));return this.model.agentsProxy=t,D.a.Deferred().resolve(t).promise()},populateScannersProxy:function(){var e=this.getSectionType().exclusiveScanners,t=new uG(this.model.scanners,e,this.model.get("scanner"));return this.model.scannersProxy=t,D.a.Deferred().resolve(t).promise()},populateSectionSettings:function(){if(!this.model.server.supports("sectionSettings"))return D.a.Deferred().resolve().promise();if(!this.model.settings){var e=new sm.a([],{server:this.model.server}),t={agent:this.model.get("agent")};if(this.model.isNew()){var i=this.getSectionType();t.type=i.typeID,e.url=V.join(["/library/sections/prefs"],t)}else e.url=V.join(["/library/sections/",this.model.id,"/prefs"],t);this.model.settings=e}return this.model.settings.populate().then(()=>(!(!this.model.isNew()||"music"!==this.model.get("type")||!this.model.server.supports("premiumMusic")||this.model.settings.findWhere({id:"importFromiTunes"})||!this.model.server.get("desktop").get("settings").findWhere({id:"iTunesLibraryXmlPath"}))&&this.model.settings.unshift({type:"bool",id:"importFromiTunes",value:!1,label:Object(Ze.default)("Import from iTunes"),summary:Object(Ze.default)("Importing from iTunes will import your music playlists. It will also import your ratings, the date you added the music, as well as play and skip counts for tracks in your library.")}),this.model.settings))},populateSectionAgentSettings:function(){if(!this.model.agentSettings){var e=new sm.a([],{server:this.model.server,url:V.join(["/:/plugins/",this.model.get("agent"),"/prefs"])});this.model.agentSettings=e}return this.model.agentSettings.populate()},onModalClose:function(){this.model.scanners=null,this.model.scannersProxy=null,this.model.agents=null,this.model.agentsProxy=null,this.model.settings=null}}),gG=i("cAHu"),vG=i.n(gG),yG=R.ItemView.extend({template:vG.a,events:{"change [name]":"onEditSectionSettingInputChange"},serializeData:function(){return{settings:this.collection.toJSON(),edit:!this.model.isNew()}},onEditSectionSettingInputChange:function(e){var t=D()(e.currentTarget),i=t.attr("name");if("importFromiTunes"!==i){var n=t.is(":checkbox")?t.prop("checked"):t.val();this.collection.findWhere({id:i}).set("value",n)}else this.model.set(i,!0)}}),fG=i("8YbF"),bG=i.n(fG),IG=mG.extend({template:bG.a,ui:I.a.extend({sectionAgent:"#edit-section-agent",sectionScanner:"#edit-section-scanner",thumbnailsCheckbox:'input[name="enableBIFGeneration"]',agentGroup:".agent-group",scannerGroup:".scanner-group"},mG.prototype.ui),events:{"change #edit-section-agent":"onEditSectionAgentChange","change #edit-section-scanner":"onEditSectionScannerChange","click .delete-thumbnails-btn":"onThumbnailsDeleteClick"},regions:{sectionSettingsRegion:".section-settings-region",agentSettingsRegion:".section-agent-settings-region"},onlyAfterRender:["renderSectionAgent","renderSectionScanner","renderSectionSettings","renderSectionAgentSettings"].concat(mG.prototype.onlyAfterRender),initialize:function(){this.populateCollections()},onRender:function(){this.model.agents.populate(),this.model.scanners.populate()},validate:function(e){var t=[];return e.get("agent")||t.push("agent"),e.get("scanner")||t.push("scanner"),t},renderSectionSettings:function(){var e=new yG({model:this.model,collection:this.model.settings});this.sectionSettingsRegion.show(e)},renderSectionAgentSettings:function(){var e=new tG({model:this.model,collection:this.model.agentSettings});this.agentSettingsRegion.show(e)},populateCollections:function(){var e=this.populateAgents(),t=this.populateScanners(),i=this.populateSectionSettings(),n=this.populateSectionAgentSettings();return this.populateAgentsProxy(),this.populateScannersProxy(),e.then(I.a.bind(this.onAgentsPopulate,this)),t.then(I.a.bind(this.onScannersPopulate,this)),i.then(I.a.bind(this.renderSectionSettings,this)),n.then(I.a.bind(this.renderSectionAgentSettings,this)),D.a.when(e,t,i,n).then(I.a.bind(this.validate,this,this.model))},renderSectionAgent:function(){var e=this.model.agentsProxy,t=this.createMenuOptions(e.map((function(e){return{label:e.get("name"),value:e.get("identifier")}})),this.model.get("agent"));this.ui.sectionAgent.html(t),e.length>1&&this.ui.agentGroup.removeClass("hidden")},renderSectionScanner:function(){var e=this.model.scannersProxy,t=this.createMenuOptions(e.map((function(e){return{label:e.get("name"),value:e.get("name")}})),this.model.get("scanner"));this.ui.sectionScanner.html(t),e.length>1&&this.ui.scannerGroup.removeClass("hidden")},onEditSectionAgentChange:function(e){var t=D()(e.currentTarget).val(),i=this.model.get("scanner");this.model.set("agent",t),this.agentSettingsRegion.close();var n=this.model.agents.get(t);if(n){var a=n.get("languages"),s=this.model.get("language"),r=this.getSectionType();if(!a.get(s)){var o=a.findWhere({default:!0});o||2!==s.search("-")||(o=a.get(s.substr(0,2))),o||(o=a.get(r.defaultLanguage)||a.first()),this.model.set("language",o.get("code"))}if(this.model.agentSettings=null,this.populateSectionAgentSettings().then(I.a.bind(this.renderSectionAgentSettings,this)),this.model.settings=null,this.populateSectionSettings().then(I.a.bind(this.renderSectionSettings,this)),t===r.mutual.agent)this.model.set("scanner",r.mutual.scanner),this.renderSectionScanner();else if(this.model.get("scanner")===r.mutual.scanner){var l=this.model.scanners.find(e=>e.get("name")!==i);this.model.set("scanner",l.get("name")),this.renderSectionScanner()}}this.showValidationResult(this.validate(this.model))},onEditSectionScannerChange:function(e){var t=D()(e.currentTarget).val(),i=this.model.get("agent"),n=this.getSectionType();if(this.model.set("scanner",t),t===n.mutual.scanner)this.model.set("agent",n.mutual.agent),this.renderSectionAgent();else if(this.model.get("agent")===n.mutual.agent){var a=this.model.agents.find(e=>e.get("identifier")!==i);this.model.set("agent",a.get("identifier")),this.renderSectionAgent()}this.showValidationResult(this.validate(this.model))},onAgentsPopulate:function(e){this.renderSectionAgent()},onScannersPopulate:function(e){this.renderSectionScanner()},onThumbnailsDeleteClick:function(e){e.preventDefault(),Ge.execute("deleteSectionThumbnails",{section:this.model}).done(this.whenRendered((function(){this.ui.thumbnailsCheckbox.prop("checked",!1)})))}}),SG=i("vCrX"),CG=i.n(SG),MG=mG.extend({template:CG.a});const DG=["free"];function PG(e,t){if(!t)return!0;const i=e.find(e=>e.id===t);return!!i&&(!i.subscriptionType||!DG.includes(i.subscriptionType))}var OG=i("cyda"),jG=i.n(OG),wG=R.ItemView.extend({template:jG.a,className:"row",events:{"click .remove-path-btn":"onRemovePathClick"},onRemovePathClick:function(e){e.preventDefault(),this.model.trigger("destroy",this.model,this.model.collection)}}),TG=R.CollectionView.extend({itemView:wG}),EG=i("blYO"),NG=i("SfGf"),xG=i.n(NG);var AG=R.ItemView.extend({tagName:"li",className:"striped-list-item browse-directory-list-item disabled",template:xG.a,serializeData:function(){return{filePath:this.model.toJSON()}}}),LG=i("JFSz"),kG=i.n(LG);var RG=R.CompositeView.extend({template:kG.a,itemView:AG,itemViewContainer:".js-file-list-items",bindings:{".js-file-list-truncated-message":{modelAttribute:"truncatedFilesCount",formatter:e=>e?Object(Ze.default)("and {truncatedFilesCount} more",{truncatedFilesCount:e}):null}}}),zG=i("bq2q"),UG=i.n(zG),VG=R.ItemView.extend({tagName:"li",className:"striped-list-item browse-directory-list-item",template:UG.a,ui:{link:"a",spinner:".loading"},serializeData:function(){return{filePath:this.model.toJSON(),isRoot:!this.model.parent}},select:function(e){this.ui.link.addClass("selected"),this.ui.spinner.toggleClass("hidden",!e)},unselect:function(){this.ui.link.removeClass("selected"),this.ui.spinner.addClass("hidden")}}),BG=R.CollectionView.extend({tagName:"ul",className:"list browse-directory-list",itemView:VG,selectedFilePath:null,events:{"click a":"onDirectoryClick"},collectionEvents:{reset:"onReset"},startLoadingItem:function(e){this.selectedFilePath&&this.unselectItem(this.selectedFilePath),this.selectedFilePath=e;var t=this.children.findByModel(e);t&&t.select(!0)},stopLoadingItem:function(e){var t=this.children.findByModel(e);t&&t.select(!1)},unselectItem:function(e){this.selectedFilePath=null;var t=this.children.findByModel(e);t&&t.unselect()},onReset:function(){this.parentFilePath&&this.collection.add(this.parentFilePath,{at:0})},onDirectoryClick:function(e){e.preventDefault();var t=D()(e.currentTarget).data("key"),i=this.collection.get(t)||this.parentFilePath;this.trigger("change:path",i),this.options.isRoot||(i.parent.parent?(this.parentFilePath=i.parent.parent.clone(),this.parentFilePath.set({title:".. [Back]",isBackShortcut:!0})):this.parentFilePath=null)}}),FG=i("ryK+"),HG=i.n(FG),_G=on.extend({name:"addFolderModal",className:"add-folder-modal modal fade",template:HG.a,events:I.a.extend({"submit form":"onSubmitForm"},on.prototype.events),ui:{path:'input[name="path"]'},regions:{rootList:".home-directory-container",childrenList:".path-container",childrenFileList:".file-container"},initialize:function(e){on.prototype.initialize.apply(this,arguments),this.rootPathList=new EG.default({},{server:e.server,includeFiles:1}),this.childrenPathList=new EG.default({},{server:e.server,includeFiles:1}),this.loadRootPaths()},loadRootPaths:function(){this.rootPathList.fetch().done(this.whenRendered((function(){var e=this.rootPathList.get("paths").where({home:!0}),t=I.a.first(e)||this.rootPathList.get("paths").first();this.rootList.currentView.startLoadingItem(t),this.loadChildrenPaths(t)})))},loadChildrenPaths:function(e){G.a.abortAll("addFolderModal");var t=e.get("children"),i=t.fetch({scope:"addFolderModal"});i.done(this.whenRendered((function(){this.ui.path.val(e.get("path")),this.childrenPathList.get("paths").reset(t.get("paths").models),this.childrenPathList.get("files").reset(t.get("files").models),this.childrenPathList.set("truncatedFilesCount",t.get("truncatedFilesCount"))}))),i.fail(this.whenRendered((function(){this.childrenList.currentView.unselectItem(e),U.a.trigger("show:alert",{type:"error",message:Object(Ze.default)("Unable to load contents of '{1}'",e.get("path"))})}))),i.always(this.whenRendered((function(){this.rootList.currentView.stopLoadingItem(e)})))},onRender:function(){on.prototype.onRender.apply(this,arguments);var e=new BG({isRoot:!0,collection:this.rootPathList.get("paths")}),t=new BG({collection:this.childrenPathList.get("paths")}),i=new RG({model:this.childrenPathList,collection:this.childrenPathList.get("files")});this.listenTo(e,"change:path",this.onRootPathChange),this.listenTo(t,"change:path",this.onChildrenPathChange),this.rootList.show(e),this.childrenList.show(t),this.childrenFileList.show(i)},onRootPathChange:function(e){this.childrenList.currentView.parentFilePath=null,this.rootList.currentView.startLoadingItem(e),this.loadChildrenPaths(e)},onChildrenPathChange:function(e){this.childrenList.currentView.startLoadingItem(e),this.loadChildrenPaths(e)},onSubmitForm:function(e){e.preventDefault(),this.trigger("add:folder",this.ui.path.val()),this.hide()}}),WG=i("uh19"),QG=i.n(WG);function GG(e,t){return e.findWhere({type:t,state:"active"})||e.findWhere({type:t,state:"pending_cancellation"})}function KG(e,t){return e.findWhere({type:t,state:"inactive"})||e.findWhere({type:t,state:"canceled"})||e.findWhere({type:t,state:"ended"})}var YG=mG.extend({template:QG.a,fieldNames:["Location"],regions:{pathsRegion:".paths-region"},ui:Object.assign({},mG.prototype.ui,{addFolderBtn:".add-folder-btn",addFolderPopulating:".add-folder-populating",addFolderError:".add-folder-error",arcadeDownloadMediaInput:"#arcade-download-media",arcadeGreeting:"#arcade-greeting",arcadeRequired:"#arcade-required",arcadeUpsell:"#arcade-upsell",parsecRequired:"#parsec-required"}),events:{"click .add-folder-btn":"onAddFolderClick","change input[name=path]":"onFolderChange","change input[name=downloadMedia]":"onDownloadMediaChange"},onlyAfterRender:["renderSectionLocation"].concat(mG.prototype.onlyAfterRender),initialize:function(){this.listenTo(this.model.get("locations"),{add:this.onCollectionChange,remove:this.onCollectionChange}),this.model.get("type")===zQ.a&&this.listenTo(Object(ne.c)("appModel").get("user"),{change:this.onUserChange}),this.renderSectionLocation(),this.showValidationResult(this.validate(this.model))},serializeData:function(){var e=this.model.get("type")===zQ.a,t=this.model.isNew()&&e,i=Object(ne.c)("appModel").get("user"),n=!!GG(i.get("subscriptions"),"arcade"),a=!(!KG(i.get("subscriptions"),"arcade")&&!KG(i.get("pastSubscriptions"),"arcade")),s=PG(i.get("services").toJSON(),"parsec"),r=e&&n,o=t&&a&&!n,l=t&&!a&&!n,c=e&&n&&!s;return Object.assign({},mG.prototype.serializeData.call(this),{hideArcadeGreeting:!r,hideArcadeRequired:!o,hideArcadeUpsell:!l,hideParsecRequired:!c,isDisabled:t&&!n,isGamesSection:e,isNewGamesSection:t,subscribeURL:V.join(["https://www.plex.tv","/arcade/checkout"])})},validate:function(e){var t=GG(Object(ne.c)("appModel").get("user").get("subscriptions"),"arcade");if(e.isNew()&&e.get("type")===zQ.a){if(!t)return["subscriptionRequired"];if(e.get("downloadMedia"))return[]}var i=[];return e.get("locations").length||i.push("locations"),i},renderSectionLocation:function(){var e=new TG({collection:this.model.get("locations")});this.pathsRegion.show(e)},onCollectionChange:function(){this.showValidationResult(this.validate(this.model))},onAddFolderClick:function(e){e.preventDefault();var t=new _G({server:this.model.server});this.listenToOnce(t,"add:folder",this.onAddFolder),U.a.trigger("show:modal",t)},onAddFolder:function(e){if(e){var t={path:e};this.model.get("locations").findWhere(t)||this.model.get("locations").add(t)}},onFolderChange:function(e){var t=D()(e.currentTarget),i=t.prop("defaultValue"),n=t.val();n?(this.model.get("locations").findWhere({path:i}).set("path",n),t.prop("defaultValue",n)):t.val(i)},onDownloadMediaChange:function(e){D()(e.currentTarget).prop("checked")?(this.model.set("downloadMedia",1),this.trigger("valid")):(this.model.unset("downloadMedia"),this.trigger("invalid"))},onUserChange:function(){const{hideArcadeGreeting:e,hideArcadeRequired:t,hideArcadeUpsell:i,hideParsecRequired:n,isDisabled:a}=this.serializeData(),{addFolderBtn:s,arcadeDownloadMediaInput:r,arcadeGreeting:o,arcadeRequired:l,arcadeUpsell:c,parsecRequired:d}=this.ui;s.prop("disabled",a),r.prop("disabled",a),o.toggleClass("hidden",e),l.toggleClass("hidden",t),c.toggleClass("hidden",i),d.toggleClass("hidden",n),this.showValidationResult(this.validate(this.model))}}),qG=i("CHYD"),ZG=i.n(qG),JG=mG.extend({template:ZG.a,ui:{chooseLibrary:".choose-library"},events:{"click .choose-library":"onChooseLibraryClick"},modelEvents:{"change:agent":"onSectionAgentChange","change:scanner":"onSectionScannerChange"},onlyAfterRender:["updateSelectedOffering"],initialize:function(){this.hasPremiumMusic=this.model.server.hasOwnerFeature("premium_music_metadata"),this.updateSelectedOffering()},serializeData:function(){var e=ne.c("appModel").get("user");return{hasPremiumMusic:this.hasPremiumMusic,plexPassUrl:e.server.get("plexPassUrl"),hasLyrics:this.model.server.get("transcoderLyrics")}},updateSelectedOffering:function(){var e=this.model.get("agent"),t=this.model.get("scanner");this.ui.chooseLibrary.find("input").prop("checked",!1);var i=this.ui.chooseLibrary.filter('[data-agent="'+e+'"][data-scanner="'+t+'"]').find("input");i.length||(i=this.ui.chooseLibrary.not("[data-agent][data-scanner]").find("input")),i.prop("checked",!0)},onChooseLibraryClick:function(e){var t=D()(e.currentTarget),i=t.data("agent"),n=t.data("scanner");!i&&!n||this.hasPremiumMusic?(this.model.agentSettings=null,this.model.set({agent:i||this.getSectionType().defaultAgent,scanner:n||this.getSectionType().defaultScanner})):U.a.trigger("show:modal",new Uo({model:this.model.server}))},onSectionAgentChange:function(){this.updateSelectedOffering()},onSectionScannerChange:function(){this.updateSelectedOffering()}});function XG(e){var t=e["aria-label"],i=e.className,n=e.style,a={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",id:"plex-icon-games-24px"};a["aria-hidden"]=!t,a.style=n,a.className=Ad.a.plexIcon+(i?" "+i:"");var s=[Nd.a.createElement.apply(Nd.a,["path",{d:"M15 7.5V2H9v5.5l3 3 3-3zM7.5 9H2v6h5.5l3-3-3-3zM9 16.5V22h6v-5.5l-3-3-3 3zM16.5 9l-3 3 3 3H22V9h-5.5z"}].concat([]))];return t&&s.unshift(Nd.a.createElement("title",null,t)),Nd.a.createElement.apply(Nd.a,["svg",a].concat(s))}XG.propTypes={"aria-label":vc.a.string,className:vc.a.string,style:vc.a.object};var $G=XG;var eK=function(e){switch(e){case zQ.b:return bC;case zQ.c:return SC;case zQ.d:return MC;case zQ.e:return PC;case zQ.f:return yC;case zQ.a:return $G}},tK=i("PKZm"),iK=i.n(tK);function nK(e,t){return(null==e?void 0:e.key)!==zQ.a||t.get("games")}var aK=mG.extend({template:iK.a,ui:I.a.extend({sectionTypes:".wizard-block",sectionTitle:"#edit-section-title",sectionLanguage:"#edit-section-language",sectionLanguageGroup:".language-group"},mG.prototype.ui),modelEvents:{"change:type":"onSectionTypeChange","change:title":"onSectionTitleChange","change:language":"onSectionLanguageChange"},events:{"click .section-type":"onSectionTypeClick","keyup #edit-section-title":"onEditSectionTitleChange","change #edit-section-title":"onEditSectionTitleChange","change #edit-section-language":"onEditSectionLanguageChange"},onlyAfterRender:["renderSectionLanguage","updateSectionTypesWizardBlocks","updateSectionLanguage","updateSectionTitle"].concat(mG.prototype.onlyAfterRender),initialize:function(e){this.populateCollections(),this.isDefaultSection=e.isDefaultSection},serializeData:function(){var e=mG.prototype.serializeData.apply(this,arguments);const t=ne.c("appModel"),i=t.get("user"),n=i.get("features").get(wt.v)&&this.model.server.hasOwnerFeature(wt.v);e.sectionTypes=zQ.g.getAll().reduce((e,t)=>((t.key!==zQ.a||n)&&e.push(Object.assign({},t,{typeIcon:Bd(eK(t.key),{className:"wizard-block-icon"})})),e),[]);var a=this.getSectionType();a&&(e.currentSectionKey=a.key);var s=this.model.get("updatedAt");return s&&(e.updatedAt=Bj(s)),e.canChangeType=this.model.isNew()&&!this.isDefaultSection,e.hasType=!!this.model.get("type"),e.isInitialTypeSupported=nK(this.model.sectionType,this.model.server),e.escapedUpdatedAt=I.a.escape(e.updatedAt),e},validate:function(e){var t=[];return e.get("type")||t.push("type"),e.get("title")||t.push("title"),e.get("language")||t.push("language"),e.get("isCollectionsPopulated")||t.push("collectionsNotPopulated"),nK(e.sectionType,e.server)||t.push("unsupportedType"),t},populateCollections:function(){this.model.set("isCollectionsPopulated",!1);var e=this.populateAgents(),t=this.populateScanners(),i=this.getSectionType(),n=D.a.when(i,e,t,this.model.server.get("myPlexSubscription")&&this.model.server.supports("premiumMusic"));return this.model.isNew()&&(n=n.then(I.a.bind(this.model.setAgentAndScanner,this.model))),n=n.then(e).then(I.a.bind(this.onAgentsPopulate,this)).then(I.a.bind((function(){this.showValidationResult(this.validate(this.model))}),this)).then(()=>{this.model.isNew()&&this.model.get("type")===zQ.a?this.model.set("downloadMedia",1):this.model.unset("downloadMedia"),this.model.set("isCollectionsPopulated",!0)})},renderSectionLanguage:function(){var e=this.model.get("language"),t=this.model.agents.get(this.model.get("agent"));if(t){var i=t.get("languages");if(!i.get(e)){var n,a=i.findWhere({default:!0});if(a&&(n=a.get("code")),!n){var s=this.model.get("type");n=zQ.g.get(s).defaultLanguage}this.model.set("language",n,{silent:!0}),e=n}var r=i.map((function(e){return{label:e.get("name"),value:e.id}}));this.updateSectionLanguage(),this.ui.sectionLanguage.html(this.createMenuOptions(r,e))}else this.ui.sectionLanguageGroup.hide()},updateSectionTypesWizardBlocks:function(){this.ui.sectionTypes.removeClass("selected"),this.ui.sectionTypes.filter('[data-key="'+this.model.get("type")+'"]').addClass("selected"),this.$el.addClass("section-type-chosen")},updateSectionLanguage:function(){this.ui.sectionLanguage.val(this.model.get("language"))},updateSectionTitle:function(){var e=this.ui.sectionTitle.val(),t=this.model.get("title");e!==t&&this.ui.sectionTitle.val(t)},onSectionTypeClick:function(e){e.preventDefault();var t=D()(e.currentTarget);if(t.hasClass("selectable")){var i=t.data("key"),n={type:i},a=zQ.g.get(i);this.model.get("title")||(n.title=a.title),this.model.set(n)}},onEditSectionTitleChange:function(e){var t=D()(e.currentTarget);this.model.set("title",t.val()),this.showValidationResult(this.validate(this.model))},onEditSectionLanguageChange:function(e){var t=D()(e.currentTarget);this.model.set("language",t.val()),this.showValidationResult(this.validate(this.model))},onSectionTypeChange:function(e,t){this.updateSectionTypesWizardBlocks();var i=zQ.g.get(t);if(!this.model.get("language")){var n=i.defaultLanguage;this.model.set("language",n)}var a=this.model.get("title"),s=this.model.previous("type"),r=zQ.g.get(s),o=r&&r.title;a&&a!==o||this.model.set("title",i.title),this.setSectionType(i),this.model.agents=null,this.model.scanners=null,this.model.settings=null;const l=nK(i,this.model.server);this.$el.toggleClass("is-type-unsupported",!l),l&&this.populateCollections()},onSectionTitleChange:function(e,t){this.updateSectionTitle(),this.showValidationResult(this.validate(this.model))},onSectionLanguageChange:function(e,t){this.updateSectionLanguage()},onAgentsPopulate:function(e){this.renderSectionLanguage()}}),sK=i("5QzM"),rK=i.n(sK),oK=on.extend({mixins:[Gd],name:"editSectionModal",className:"edit-section-modal modal modal-lg fade",template:rK.a,panes:{type:{constructor:aK,nextPane:"folders",dependentPanes(){return this.showFolders?["folders"]:["options","advanced"]}},folders:{constructor:YG,nextPane:"options",dependentPanes:["options","advanced"]},options:{constructor:JG,nextPane:"advanced"},advanced:{constructor:IG},error:{constructor:MG}},panesModel:"tempModel",ui:{sidebar:".modal-nav-list",optionsBtn:".options-btn",saveBtn:".save-btn",message:".form-message",headerSectionType:".section-type-title"},regions:{paneRegion:".pane-region"},events:I.a.extend({"click .change-pane-btn":"onChangePaneClick","click .save-btn":"onSaveClick","submit .edit-section-type-form":"onGeneralFormSubmit"},on.prototype.events),onlyAfterRender:["showPane","updateMessage","updateSectionTitle","updateSectionTitleDestabilized","updateSaveBtn"],paneConstructorArg:function(){return{isDefaultSection:this.isDefaultSection}},initialize:function(e){on.prototype.initialize.apply(this,arguments),this.server=e.server,this.redirect=e.redirect,this.isDefaultSection=e.isDefaultSection,this.isLoading=!0,this.model?(this.tempModel=this.model.clone(),this.tempModel.collection=this.model.collection):this.tempModel=new St.a({},{server:this.server,collection:this.server.get("sections")}),this.listenTo(this.tempModel,"change:type",this.onSectionTypeChange),this.tempModel.isNew()&&e.seedAttrs&&this.tempModel.set(this.tempModel.parse(e.seedAttrs)),this._deferred=D.a.Deferred(),this.promise=this._deferred.promise();var t=this.server.get("providers");t.populate().done(this.whenRendered(()=>{var i=t.get(jt.d).get("features").get(Ot.h).get("automaticLibraryFolders");this.showFolders=!i,this.isLoading=!1,this.render(),this.showPane(e.selectedPane||"type")}))},serializeData:function(){var e=this.tempModel,t=e.isNew(),i=e&&Object(Ze.default)("Edit {1}",e.get("title"),{escape:!0});return{isLoading:this.isLoading,add:t,edit:!t,paneTitle:i,section:e&&e.toJSON(),selectedPane:this.selectedPane,showFolders:this.showFolders}},updateMessage:function(e){this.ui.message.text(e||"")},updateSaveBtn:function(){var e=this.ui.saveBtn,t=this.panes[this.selectedPane],i=I.a.bind((function(i){var n,a=t.nextPane,s=this.tempModel.isNew(),r=!t.constructor.prototype.validate||0===t.constructor.prototype.validate(this.tempModel).length,o=!this.getReachablePanes().isAnyInvalid,l=this.tempModel.get("isCollectionsPopulated");this.ui.optionsBtn.toggleClass("hidden",!i.showOptions);var c=l&&(o||s&&r);n=a,i.showOptions||"options"!==a||(n=!1),o&&(n=!1),i.showOptions&&"options"===a&&(n=!0),i.showAdvanced&&"advanced"===a&&(n=!0),this.tempModel.isNew()&&"folders"===a&&(n=!0),e.toggleClass("save",!n),e.toggleClass("next",!!n),e.toggleClass("disabled",!c)}),this),n=this.tempModel.server,a=this.tempModel.sectionType,s=a&&"music"===a.key&&n.supports("premiumMusic"),r=this.tempModel.isNew();s?this.paneRegion.currentView.populateAgents().then((function(e){var t=e.findWhere({identifier:ms.h}),n=r&&t;i({showOptions:n,showAdvanced:n})})):i({})},updateSectionTitle:function(){var e=zQ.g.get(this.tempModel.get("type"));if(e){this.updateSectionTitleDestabilized();var t=I.a.escape(e.title);this.ui.headerSectionType.html(t)}},updateSectionTitleDestabilized:function(){this.ui.headerSectionType.addClass("section-type-title-unstable"),this.ui.headerSectionType.triggerReflow(),this.ui.headerSectionType.removeClass("section-type-title-unstable")},save:function(){var e=this.ui.saveBtn;this.updateMessage(""),e.addClass("active");var t=this.saveModel();t.always((function(){e.removeClass("active")})),t.fail(I.a.bind((function(e){503===e.status?U.a.trigger("show:modal",new un({model:this.server})):this.updateMessage(Object(Ze.default)("Your changes could not be saved."))}),this)),t.then(I.a.bind((function(){var e=this.model.server.entityID(),t=Object(ne.c)("appStore").dispatch;if(t(Hi({serverEntityID:e})),t(_i({serverEntityID:e})),!this.redirect)return this._deferred.resolve(),void this.hide();var i,n={machineIdentifier:this.model.server.get("machineIdentifier"),isCloud:this.model.server.get("isCloud")},a={identifier:jt.d,isLibraryProvider:!0},s={id:this.model.id},r=this.model.get("type"),o={};XQ()?(o.pivot=Qi(this.model.server.get("version"),qi.pivotIDs)?"library":Gt(this.model.id,r),r===Qt.b&&(o.key=V.join(["/library/sections",this.model.id,"all"],{type:Object(Qt.u)(Qt.a).id,sort:"addedAt:desc"})),i=Xt(n,a,s,o)):(o.key=Gt(this.model.id,r),r===Qt.b&&(o.typeKey="/library/sections/"+this.model.id+"/all?type="+Object(Qt.u)(Qt.a).id,o.sort="addedAt:desc"),i=Xt(n,a,s,o)),window.location.hash=i,this._deferred.resolve(),this.hide()}),this))},saveModel:function(){var e,t=this.getSectionSettingsParams(),i=this.server.supports("saveInlineSectionSettings"),n=t&&i?{data:{prefs:t}}:{};return this.tempModel.isNew()?e=(e=this.tempModel.save(null,n)).then(I.a.bind((function(e,i,n){var a=Be.a.parseXML(e);if(201===n.status){if(a.Directory&&(a=a.Directory),!a.key){var s=n.getResponseHeader("Location");s&&(a.key=s.substring(s.lastIndexOf("/")+1))}var r=this.server;r.supports("advancedFilters")&&(a.filters=!0),this.model=new St.a(a,{parse:!0,server:r}),r.get("sections").add(this.model);var o=null==t?void 0:t.hidden,l="string"==typeof o?parseInt(o,10):null;if(1!==l&&2!==l){var c=r.get("providers").get(jt.d),d=c?JQ(c.toJSON(),this.model.toJSON()):null,u=d?d.key:null;c&&u&&Object(ne.c)("appStore").dispatch(oL({sources:[{key:GQ(u,r.get("machineIdentifier"),c.get("identifier"),a.key),sourceType:u,serverEntityID:r.entityID(),machineIdentifier:r.get("machineIdentifier"),providerEntityID:c.entityID(),providerIdentifier:c.get("identifier"),providerMetricsIdentifier:c.get("metricsIdentifier"),directoryID:a.key,directoryIcon:null,title:this.model.get("title"),serverFriendlyName:r.get("friendlyName"),serverSourceTitle:r.get("sourceTitle"),isLocal:r.get("isPrivateConnection"),isUnavailable:!1,isOutOfDate:!1,isUnclaimedServer:!r.get("isClaimed"),isFullOwnedServer:r.get("isFullOwnedServer"),isProviderReady:!0}],interaction:!1}))}return n}}),this)):(this.model.copy(this.tempModel),e=this.model.save(null,n)),t&&!i&&(e=e.then(I.a.bind(this.saveSettings,this,t))),e=e.then(I.a.bind(this.saveAgentSettings,this))},saveSettings:function(e){var t=D.a.Deferred().resolve(this.model).promise();if(!this.server.supports("sectionSettings"))return t;if(!e)return t;var i=V.join(["/library/sections/",this.model.id,"/prefs"],e),n=I.a.extend(this.server.getXHROptions(i),{type:"PUT"});return D.a.ajax(n).promise().then((function(){return t}))},saveAgentSettings:function(){var e=D.a.Deferred().resolve(this.model).promise(),t=this.tempModel.agentSettings;if(!this.tempModel.agentSettings)return e;var i=this.getSettingsChanges(t);if(I.a.isEmpty(i))return e;var n=t.first(),a=n.getSaveParams(i),s=I.a.result(t,"url"),r=V.join([s,"/set"],a),o=n.server.getXHROptions(r);return D.a.ajax(o).promise().then((function(){return e}))},getSectionSettingsParams:function(){var e=this.tempModel.settings;if(e){var t=this.getSettingsChanges(e);if(!I.a.isEmpty(t))return e.first().getSaveParams(t)}},getSettingsChanges:function(e){return e.filter((function(e){return e.changedAttributes()})).reduce((function(e,t){var i=t.get("value");return"bool"===t.get("type")&&(i=i?"1":"0"),e[t.get("id")]=i,e}),{})},onPaneShow:function(e,t){this.listenTo(t,"valid",this.updateSaveBtn),this.listenTo(t,"invalid",this.updateSaveBtn),this.updateSaveBtn()},onPaneHide:function(e,t){this.stopListening(t,"valid",this.updateSaveBtn),this.stopListening(t,"invalid",this.updateSaveBtn)},onChangePaneClick:function(e){e.preventDefault();var t=this.$(e.currentTarget);t.isDisabled()||this.showPane(t.data("pane"))},onSaveClick:function(e){e.preventDefault();var t=this.ui.saveBtn;if(!t.isDisabled())if(t.hasClass("next")){var i=this.panes[this.selectedPane].nextPane;"folders"!==i||this.showFolders||(i=this.ui.sidebar.find(".options-btn").isDisabled()?"advanced":"options"),i&&!this.ui.sidebar.find("."+i+"-btn").isDisabled()&&this.showPane(i)}else this.save()},onGeneralFormSubmit:function(e){this.onSaveClick(e)},onSectionTypeChange:function(){this.updateSaveBtn()}}),lK=i("HVP4"),cK=i.n(lK),dK=vn.extend({template:cK.a,events:I.a.extend({"click .learn-more":"onLearnMoreClick"},vn.prototype.events),onRender:function(){vn.prototype.onRender.apply(this,arguments),Object(ne.c)("metrics").trackView({page:"relayNotification",mode:"modal",action:Rd.t},{interaction:!1})},onHide(e){vn.prototype.onHide.apply(this,arguments),Object(ne.c)("metrics").trackClick({page:"relayNotification",mode:"modal",action:Rd.t})},onLearnMoreClick(){Object(ne.c)("metrics").trackClick({page:"relayNotification",mode:"modal",action:Rd.D})},serializeData(){return{serverName:this.options.serverName,escapedServerName:I.a.escape(this.options.serverName)}}});const uK=Object(Pi.a)("server/fetchSettings"),pK=Object(Pi.a)("server/populateSettings"),hK=Object(Pi.a)("server/updateSetting"),mK=Object(Pi.a)("server/saveSetting"),gK=Object(Pi.a)("server/addLibrary"),vK=Object(Pi.a)("server/startLibrariesRefresh"),yK=Object(Pi.a)("server/allowHttpFallback"),fK=Object(Pi.a)("server/optimizeDatabase"),bK=Object(Pi.a)("server/cleanbundles"),IK=Object(Pi.a)("server/emptyTrash"),SK=Object(Pi.a)("server/deleteServer"),CK=Object(Pi.a)("server/discoverMediaGrabberDevice"),MK=Object(Pi.a)("server/populateHasiTunes"),DK=Object(Pi.a)("server/startLibrariesRefresh",e=>Object.assign({},e,{cancel:!0}));function PK(e,t){Object(ne.c)("metrics").trackClick({page:t,action:e,context:_t.SERVER})}function OK(e,t){const i=Object(wi.m)(e,t),n=Object(wi.l)(e,t).get("settings").get(t.setting.id);if(n){const e=n.parse(t.setting);n.set("value",e.value),"FriendlyName"===e.id&&e.value?i.set("friendlyName",e.value):"allowMediaDeletion"===e.id&&i.set("allowMediaDeletion",e.value)}}const jK={"server/testServer":Wi["server/testServer"],"server/testServers":Wi["server/testServers"],"server/startActivity":Wi["server/startActivity"],[Ei]:Wi[Ei],[Ni]:Wi[Ni],"server/startSyntheticActivity":Wi["server/startSyntheticActivity"],"server/finishSyntheticActivity":Wi["server/finishSyntheticActivity"],"server/eventConnectionOpen":Wi["server/eventConnectionOpen"],"server/eventConnectionClose":Wi["server/eventConnectionClose"],"server/fetchProviders":Wi["server/fetchProviders"],"server/populateProviders":Wi["server/populateProviders"],"server/fetchLibraries":Wi["server/fetchLibraries"],"server/populateLibraries":Wi["server/populateLibraries"],"server/fetchSettings":Object(Oi.a)({key:"settings",getModel:wi.l}),"server/populateSettings":Object(ji.a)({key:"settings",fetchActionCreator:uK,getModel:wi.l}),"server/updateSetting"(e,t){OK(e,t)},"server/saveSetting"(e,t){const i=Object(wi.l)(e,t).get("settings").get(t.setting.id);Object(Ti.a)(()=>i.set({isSaving:!0})),OK(e,t),i.save().then(()=>i.set({isSaving:!1}),()=>i.set({isSaving:!1}))},"server/confirmRelayConnection"(e,{machineIdentifier:t,serverName:i},n){const a=e.get("user").get("experienceSettings").get("reminders"),s=ed("relay",t),r=a.get(s);if(r&&!BQ(r.get("remindAfter")))return;const o=new dK({serverName:i});U.a.trigger("show:modal",o),n(vL({id:s}))},"server/addHttpFallbackConnection"(e,t){const i=Object(wi.m)(e,t),n=e.get("user").get("experienceSettings").get("allowHttpFallback");FQ(i,t.address,t.port,n)},"server/addLibrary"(e,t){const i=Object(wi.m)(e,t),{options:n={}}=t,a=new oK(Object.assign({server:i,redirect:!1!==t.redirect},n));U.a.trigger("show:modal",a),PK(Rd.a,t.metricsPage)},"server/startLibrariesRefresh"(e,t,i){const{cancel:n,force:a,metricsPage:s}=t,r=Object(wi.m)(e,t),o={serverModel:r,libraryID:"all",cancel:n,force:a,allowMetrics:!!s,metricsProperties:{page:s}};if(t.cancel){Object(wi.l)(e,t).get("libraries").each(e=>e.set("refreshing",!1))}HQ(r,o).fail(()=>{const e=t.cancel?Object(Ze.default)("There was a problem canceling the update."):Object(Ze.default)("There was a problem updating libraries.");i(Object(Tn.d)(e))}).always(()=>{i(_i({serverEntityID:t.serverEntityID}))})},"server/allowHttpFallback"(e,t,i){i(Object(Qu.l)({allowHttpFallback:t.allowHttpFallback})),i(xi({serverEntityID:t.serverEntityID}))},"server/optimizeDatabase"(e,t,i){const n=Object(wi.m)(e,t),a=Object(wi.l)(e,t),s=n.supports("optimizeDatabaseActivity"),r=V.join("/library/optimize",s?{async:1}:{}),o=n.getXHROptions(r,{type:"PUT"});i(Ui({serverEntityID:t.serverEntityID,activityType:"general.db.optimize"})),a.set({optimizeDatabaseError:null}),D.a.ajax(o).done(()=>{s||i(Vi({serverEntityID:t.serverEntityID,activityType:"general.db.optimize"}))}).fail(()=>{a.set({optimizeDatabaseError:Object(Ze.default)("There was a problem optimizing the database.")}),i(Vi({serverEntityID:t.serverEntityID,activityType:"general.db.optimize"})),t.hideAlerts||i(Object(Tn.d)(Object(Ze.default)("There was a problem optimizing the database.")))}),PK(Rd.J,t.metricsPage)},"server/cleanbundles"(e,t,i){const n=Object(wi.m)(e,t),a=Object(wi.l)(e,t),s=n.supports("cleanBundlesActivity"),r=V.join("/library/clean/bundles",s?{async:1}:{}),o=n.getXHROptions(r,{type:"PUT"});i(Ui({serverEntityID:t.serverEntityID,activityType:dr})),a.set({cleanBundlesError:null}),D.a.ajax(o).done(()=>{s||i(Vi({serverEntityID:t.serverEntityID,activityType:dr}))}).fail(()=>{a.set({cleanBundlesError:Object(Ze.default)("There was a problem removing unused bundles.")}),i(Vi({serverEntityID:t.serverEntityID,activityType:dr})),t.hideAlerts||i(Object(Tn.d)(Object(Ze.default)("There was a problem removing unused bundles.")))}),PK(Rd.m,t.metricsPage)},"server/emptyTrash"(e,t,i){const n=Object(wi.m)(e,t),a=Object(wi.l)(e,t).get("libraries");(t.libraryID?D.a.Deferred().resolve([t.libraryID]).promise():a.populate().then(()=>a.map(({id:e})=>e))).then(e=>{const t=e.map(e=>D.a.ajax(n.getXHROptions("/library/sections/"+e+"/emptyTrash",{type:"PUT"})));return D.a.when(...t)}).then(()=>{i(Object(Tn.d)({type:VQ.b,message:Object(Ze.default)("The trash was emptied.")}))},e=>{i(Object(Tn.d)(Object(Ze.default)("There was a problem emptying the trash.")))}),PK(Rd.y,t.metricsPage)},"server/deleteServer"(e,t,i){const n=Object(wi.m)(e,t),a=e.get("cloudServer");if(!n)return;if(a.get("isResolved")){const e=a.getXHROptions("/api/servers/"+n.id,{type:"DELETE"});D.a.ajax(e)}const s=a.get("resources").get(n.id);if(s&&s.trigger("destroy",s,s.collection),n.get("isFullOwnedServer")&&n.get("isConnected")){n.get("desktop").get("cloudAccount").destroy().done(()=>{n.set({myPlexSigninState:"none",myPlexSubscription:!1})}).always(()=>{i(xi({serverEntityID:t.serverEntityID})),n.populate().fail((function(){n.trigger("destroy",n,n.collection),i(hu({route:"dashboard"}))}))})}else n.trigger("destroy",n,n.collection),i(hu({route:"dashboard"}));PK(Rd.r,t.metricsPage)},"server/discoverMediaGrabberDevice"(e,t){const i=Object(wi.m)(e,t),n=e.get("ui").get("dvrSettingsUI"),a=t.device;if(n.get("isUIPopulated"))return;const s=new QQ({model:new Tk(a,{parse:!0}),serverEntityID:t.serverEntityID,machineIdentifier:i.get("machineIdentifier")});U.a.trigger("show:bar","alertbar",s)},"server/populateHasiTunes"(e,t){const i=Object(wi.m)(e,t),n=Object(wi.l)(e,t);if(!n.get("isHasiTunesPopulated")){const e=V.join("/music/iTunes"),t=i.getXHROptions(e);D.a.ajax(t).done(()=>{n.set({hasiTunes:!0,isHasiTunesPopulated:!0})}).fail(()=>{n.set({hasiTunes:!1,isHasiTunesPopulated:!0})})}}};function wK(){return Object(Wu.a)(kQ(),e=>e.some(e=>e.refreshing))}function TK(){return Object(Wu.a)((e,{libraryEntityID:t})=>t,LQ,(e,t)=>t[e])}function EK(e){return Object(Wu.a)(KU(),t=>I.a.find(t,{type:e}))}function NK(){return EK("general.db.optimize")}function xK(){return EK(dr)}function AK(){return EK("library.delete")}const LK=Nd.a.createElement;function kK(...e){const t=Object(Hu.b)(...e);return e=>{const i=t(e);function n(e,{metricsPage:t,metricsContext:n}){const{metricsContext:a}=e,s=Xe()(e,["metricsContext"]);return LK(i,tp()({metricsPage:t,metricsContext:a||n},s))}return n.displayName="ConnectWithMetrics("+ff(e)+")",n.contextTypes={metricsPage:vc.a.string,metricsContext:vc.a.string},n}}const RK=Object(Pi.a)("library/startLibraryRefresh"),zK=Object(Pi.a)("library/editLibrary"),UK=Object(Pi.a)("library/analyzeLibrary"),VK=Object(Pi.a)("library/emptyTrashLibrary"),BK=Object(Pi.a)("library/deleteLibrary"),FK=Object(Pi.a)("library/startLibraryRefresh",e=>Object.assign({},e,{force:!0})),HK=Object(Pi.a)("library/startLibraryRefresh",e=>Object.assign({},e,{cancel:!0}));function _K(e,t,i){Object(ne.c)("metrics").trackClick({page:i,action:e,type:t.get("type"),context:_t.LIBRARY})}const WK={"library/startLibraryRefresh"(e,t,i){const{cancel:n,force:a,metricsPage:s}=t,r=Object(wi.m)(e,t),o=Object(wi.c)(e,t),l={libraryID:o.id,libraryType:o.get("type"),cancel:n,force:a,allowMetrics:!!s,metricsProperties:{page:s}};o.set("refreshing",!n),HQ(r,l).fail(e=>{if(503===e.status)U.a.trigger("show:modal",new un({model:r}));else{const e=t.cancel?Object(Ze.default)("There was a problem canceling the update."):Object(Ze.default)("There was a problem updating the library.");i(Object(Tn.d)(e))}}).always(e=>{i(_i({serverEntityID:t.serverEntityID}))})},"library/editLibrary"(e,t){const i=Object(wi.m)(e,t),n=Object(wi.c)(e,t);U.a.trigger("show:modal",new oK({server:i,model:n})),_K(Rd.x,n,t.metricsPage)},"library/analyzeLibrary"(e,t,i){const n=Object(wi.m)(e,t),a=Object(wi.c)(e,t),s=n.getXHROptions("/library/sections/"+a.id+"/analyze",{type:"PUT"});D.a.ajax(s).fail(e=>{i(Object(Tn.d)(Object(Ze.default)("There was a problem analyzing the library.")))}),_K(Rd.i,a,t.metricsPage)},"library/emptyTrashLibrary"(e,t,i){const n=Object(wi.m)(e,t),a=Object(wi.c)(e,t),s=n.getXHROptions("/library/sections/"+a.id+"/emptyTrash",{type:"PUT"});D.a.ajax(s).done(()=>{i(Object(Tn.d)({type:VQ.b,message:Object(Ze.default)("The trash was emptied.")}))}).fail(e=>{i(Object(Tn.d)(Object(Ze.default)("There was a problem emptying the trash.")))}),_K(Rd.y,a,t.metricsPage)},"library/deleteLibrary"(e,t,i){const n=Object(wi.m)(e,t),a=Object(wi.c)(e,t);if(a.isNew())return void a.destroy();const s=n.supports("libraryDeleteActivity"),r=V.join(a.url(),s?{async:1}:{}),o=n.getXHROptions(r,{type:"DELETE"});i(Ui({serverEntityID:t.serverEntityID,activityType:"library.delete"})),D.a.ajax(o).done(()=>{s||i(Vi({serverEntityID:t.serverEntityID,activityType:"library.delete"}))}).fail(()=>{i(Vi({serverEntityID:t.serverEntityID,activityType:"library.delete"})),i(Object(Tn.d)(Object(Ze.default)("There was a problem deleting the library.")))}),_K(Rd.q,a,t.metricsPage)}};function QK(){return Object(Wu.a)(HS(),e=>{const t=Yt(e);return t?t.directories:[]})}function GK(e,t){if(e&&t)for(let i=0,n=e.length;i<n;i++){const n=e[i],{id:a}=n;if(a===t)return n}}var KK=i("2sa7"),YK=i.n(KK);const qK=Nd.a.createElement;function ZK(e){const{className:t,iconComponent:i,iconClassName:n,activeClassName:a,disabledClassName:s,isDisabled:r,isActive:o,label:l,labelClassName:c,title:d,ariaLabel:u,children:p}=e,h=Xe()(e,["className","iconComponent","iconClassName","activeClassName","disabledClassName","isDisabled","isActive","label","labelClassName","title","ariaLabel","children"]),m=u||d;return qK(zp,tp()({className:(t||"")+" "+(r&&s||"")+" "+(o&&a||""),isDisabled:r,"aria-label":m,title:d},h),Vu()(i,{className:n}),l?Vu()("span",{className:c},void 0,l):null,p)}ZK.defaultProps={className:YK.a.button,activeClassName:YK.a.isActive,disabledClassName:YK.a.isDisabled,labelClassName:YK.a.label,isDisabled:!1};var JK=ZK;var XK=Object(Wu.a)(Gu,e=>e.metadataItems);function $K(){return Object(Wu.a)((e,{metadataItemEntityID:t})=>t,XK,(e,t)=>t[e])}var eY=xe.a.extend({name:"SectionOverviewModel",context:["server"],rootPropertyName:"Section",syncedAttrs:{id:Ae.a.integer,key:Ae.a.string,type:Ae.a.string,title:Ae.a.string}});var tY=ke.a.extend({name:"SectionOverviewCollection",context:["server"],model:eY});var iY=xe.a.extend({name:"ServerOverviewModel",context:["server"],idAttribute:"machineIdentifier",rootPropertyName:"Server",urlRoot:"/api/servers",syncedAttrs:{machineIdentifier:Ae.a.string,name:Ae.a.string,address:Ae.a.string,port:Ae.a.string,version:Ae.a.string,createdAt:Ae.a.integer,updatedAt:Ae.a.integer},syncedRelations:{sections:{relationClass:tY,rootPropertyName:"Section"}}});var nY=ke.a.extend({name:"ServerOverviewCollection",context:["server"],model:iY});const aY="warning",sY="user",rY="libraries",oY="restrictions",lY="summary";var cY=xe.a.extend({name:"ShareModalModel",context:["server"],sessionAttrs:{steps:Ae.a.array,step:Ae.a.string,metadataItemEntityID:Ae.a.string,friendEntityID:Ae.a.string,username:Ae.a.string,restrictionProfileIdentifier:Ae.a.string,isNewFriend:Ae.a.boolean,isAddingHomeUser:Ae.a.boolean,isCreatingManagedUser:Ae.a.boolean,selectedAllLibrariesMachineIdentifiers:Ae.a.array,selectedLibrarySectionIDs:Ae.a.array,filterOptionsTags:Ae.a.object,isUsernameValidating:Ae.a.boolean,isUsernameValidated:Ae.a.boolean,isServerOverviewsPopulating:Ae.a.boolean,isServerOverviewsPopulated:Ae.a.boolean,isServerSharesPopulating:Ae.a.boolean,isServerSharesPopulated:Ae.a.boolean,serverSharesError:Ae.a.string,isFilterOptionsTagsPopulating:Ae.a.boolean,isFilterOptionsTagsPopulated:Ae.a.boolean,isSharingPending:Ae.a.boolean,isSharingCompleted:Ae.a.boolean,sharingError:Ae.a.string,inviteToken:Ae.a.string,inviteTokenError:Ae.a.string},sessionRelations:{serverOverviews:{relationClass:nY,deferred:!0}},defaults:()=>({steps:[],step:null,metadataItemEntityID:null,friendEntityID:null,username:"",restrictionProfileIdentifier:"little_kid",isNewFriend:!1,isAddingHomeUser:!1,isCreatingManagedUser:!1,selectedAllLibrariesMachineIdentifiers:null,selectedLibrarySectionIDs:null,filterOptionsTags:{},isUsernameValidating:!1,isUsernameValidated:!1,isServerOverviewsPopulating:!1,isServerOverviewsPopulated:!1,isServerSharesPopulating:!1,isServerSharesPopulated:!1,serverSharesError:null,isFilterOptionsTagsPopulating:!1,isFilterOptionsTagsPopulated:!1,isSharingPending:!1,isSharingCompleted:!1,sharingError:null,inviteToken:null,inviteTokenError:null})});function dY(e){const t=Object(ne.c)("appModel"),i=t.get("user"),n=new nY(e.map(e=>({machineIdentifier:Object(wi.m)(t,{serverEntityID:e}).get("machineIdentifier")})),{server:i.server});return Me(n.map(e=>e.fetch())).then(()=>{const e=n.filter(e=>!e.isPopulated());return n.remove(e),n})}function uY(e,t){const i=e.get("serverShares");return i?Me(i.map(e=>e.fetch({merge:!0,scope:t}))):D.a.Deferred().resolve().promise()}function pY(e){const{user:t,friend:i,serverShare:n,librarySectionIDs:a,isNewFriend:s,isCreatingManagedUser:r,isNewServerShare:o}=e,l={machineIdentifier:n.get("machineIdentifier"),librarySectionIds:a};s&&(l.settings=i.getSaveParams()),o&&(s&&!r?l.invitedEmail=i.get("username"):l.invitedId=i.id);const c=n.url(),d=t.server.getXHROptions(c,{type:"POST",contentType:"application/json",dataType:"json",data:JSON.stringify(l)});return D.a.ajax(d).promise()}const hY="contentRating",mY="contentRating!",gY="label",vY="label!";function yY(e){return{type:Ae.a.boolean,save(){return this.has(e)}}}function fY(e){return{type:Ae.a.queryString,separators:["|","&"],orFields:[hY,gY],andFields:[mY,vY],save(){return this.has(e)}}}var bY={allowTuners:{type:Ae.a.integer,save(){return this.has("allowTuners")}},allowSync:yY("allowSync"),allowCameraUpload:yY("allowCameraUpload"),allowChannels:yY("allowChannels"),filterMovies:fY("filterMovies"),filterTelevision:fY("filterTelevision"),filterMusic:fY("filterMusic"),filterPhotos:fY("filterPhotos")};var IY=xe.a.extend({name:"ServerShareLibraryModel",syncedAttrs:{id:Ae.a.integer,key:Ae.a.string,title:Ae.a.string,type:Ae.a.string}});var SY=ke.a.extend({name:"ServerShareLibraryCollection",context:["server"],model:IY});var CY=xe.a.extend({name:"ServerShareSharingSettingsModel",syncedAttrs:bY});var MY=xe.a.extend({name:"ServerShareModel2",context:["server"],mergeStrategy:Dt.a,responseType:ct.a,urlRoot:"api/v2/shared_servers",syncedAttrs:{id:Ae.a.integer,serverId:Ae.a.integer,machineIdentifier:Ae.a.string,name:Ae.a.string,owned:Ae.a.boolean,admin:Ae.a.boolean,pending:Ae.a.boolean,accepted:Ae.a.boolean,ownerId:Ae.a.integer,inviteToken:Ae.a.string,invitedEmail:Ae.a.string,invitedAt:Ae.a.string,acceptedAt:Ae.a.string,lastSeenAt:Ae.a.string,deletedAt:Ae.a.string,leftAt:Ae.a.string,numLibraries:Ae.a.integer,allLibraries:Ae.a.boolean},syncedRelations:{libraries:{relationClass:SY},sharingSettings:{relationClass:CY}}});var DY=ke.a.extend({name:"ServerShareCollection2",context:["server"],model:MY});var PY=xe.a.extend({name:"FriendModel2",context:["server"],rootPropertyName:"User",entityType:ht.a,entityID(e=this.state){return Object(pt.a)(this.entityType,e.id)},urlRoot(){return this.get("home")?"/api/users":"/api/friends"},sessionAttrs:{user:Ae.a.string,isRemoving:Ae.a.boolean},syncedAttrs:Object.assign({id:Ae.a.integer,home:Ae.a.boolean,protected:Ae.a.boolean,restricted:Ae.a.boolean,title:Ae.a.string,username:Ae.a.string,email:Ae.a.string,thumb:Ae.a.string,recommendationsPlaylistId:Ae.a.string},bY),syncedRelations:{serverShares:{relationClass:DY,rootPropertyName:"Server"}},defaults:{isRemoving:!1}});var OY=xe.a.extend({name:"HomeUserModel",context:["server"],rootPropertyName:"User",entityType:ht.b,entityID(e=this.state){return Object(pt.a)(this.entityType,e.id)},urlRoot(){return this.get("restricted")?"/api/v2/home/users":"/api/home/users"},saveUrl(){let e=I.a.result(this,"url");return this.get("restricted")&&(e=V.join([e,"/restricted"])),e},pinUrl(){const e=this.get("restricted")?"/api/v2/home/users/restricted":"/api/home/users";return V.join([e,this.get("id")])},sessionAttrs:{isRemoving:Ae.a.boolean},syncedAttrs:Object.assign({id:Ae.a.integer,uuid:Ae.a.string,admin:Ae.a.boolean,protected:Ae.a.boolean,restricted:Ae.a.boolean,restrictionProfile:Ae.a.string,guest:Ae.a.boolean,title:Ae.a.string,username:Ae.a.string,email:Ae.a.string,thumb:Ae.a.string},bY),defaults:{isRemoving:!1},getSaveParams(e){const t=xe.a.prototype.getSaveParams.apply(this,arguments);return e&&0!==Object.keys(e).length||(this.get("restrictionProfile")&&(t.restrictionProfile=this.get("restrictionProfile")),t.sharingSettings={},Object.keys(bY).forEach(e=>{t.hasOwnProperty(e)&&(t.sharingSettings[e]=t[e],delete t[e])}),this.get("restricted")?t.friendlyName=this.get("username"):this.isNew()&&(t.invitedEmail=this.get("username"))),t}});function jY(e,t){const i=e.title.toUpperCase(),n=t.title.toUpperCase();return i<n?-1:i>n?1:0}function wY(e,t){const i=Array.isArray(e)?e:[e],n=D.a.Deferred(),a={[hY]:[],[gY]:[]},s={[Qt.j]:{[hY]:[],[gY]:[]},[Qt.o]:{[hY]:[],[gY]:[]},[Qt.b]:{[hY]:[],[gY]:[]}},r=i.reduce((e,t)=>(t.get("isConnected")&&e.push(t.get("sections")),e),[]),o=r.map(e=>e.populate({scope:t}));return Me(o).done(()=>{r.forEach(e=>{e.forEach(e=>{const t=e.get("type");s[t]&&[hY,gY].forEach(t=>{const i=new $E.a({filter:t},{server:e.server,section:e}).get("options");a[t].push(i)})})}),Me([...a[hY].map(e=>e.fetch({scope:t})),...a[gY].map(e=>e.fetch({scope:t}))]).done(()=>{a[hY].forEach(e=>{const t=e.section.get("type");e.toJSON().forEach(e=>{s[t][hY].find(t=>t.value===e.value)||s[t][hY].push(e)})}),a[gY].forEach(e=>{const t=e.section.get("type");e.toJSON().forEach(e=>{s[t][gY].find(t=>t.value===e.value)||s[t][gY].push(e)})}),Object.keys(s).forEach(e=>{const t=s[e];t[hY].sort(jY),t[gY].sort(jY)}),n.resolve(s)})}),n.promise()}function TY(e,t,i,n){const a={};return e&&e.length&&(a[hY]=e.join(",")),t&&t.length&&(a[mY]=t.join(",")),i&&i.length&&(a[gY]=i.join(",")),n&&n.length&&(a[vY]=n.join(",")),a}function EY(e){const{allowSync:t,allowCameraUpload:i,allowTuners:n,moviesContentRatings:a,moviesExcludeContentRatings:s,moviesLabels:r,moviesExcludeLabels:o,televisionContentRatings:l,televisionExcludeContentRatings:c,televisionLabels:d,televisionExcludeLabels:u,musicLabels:p,musicExcludeLabels:h}=e,m={};return null!=t&&(m.allowSync=t),null!=i&&(m.allowCameraUpload=i),null!=n&&(m.allowTuners=Number(n)),null==a&&null==s&&null==r&&null==o||(m.filterMovies=TY(a,s,r,o)),null==l&&null==c&&null==d&&null==u||(m.filterTelevision=TY(l,c,d,u)),null==p&&null==h||(m.filterMusic=TY(null,null,p,h)),m}const NY="shareModal",xY=Object(Pi.a)("ui/shareModal/initShareModal"),AY=Object(Pi.a)("ui/shareModal/resetShareModal"),LY=Object(Pi.a)("ui/shareModal/sharePreviousStep"),kY=Object(Pi.a)("ui/shareModal/shareNextStep"),RY=Object(Pi.a)("ui/shareModal/validateUsername"),zY=Object(Pi.a)("ui/shareModal/setUsername"),UY=Object(Pi.a)("ui/shareModal/setUser"),VY=Object(Pi.a)("ui/shareModal/fetchServerOverviews"),BY=Object(Pi.a)("ui/shareModal/fetchServerShares"),FY=Object(Pi.a)("ui/shareModal/setLibraryShares"),HY=Object(Pi.a)("ui/shareModal/fetchFilterOptionsTags"),_Y=Object(Pi.a)("ui/shareModal/saveItemShare"),WY=Object(Pi.a)("ui/shareModal/saveLibraryShares");function QY(e){return e.get("ui").get("shareModal")}function GY(e,t){const i=e.get("user"),n=e.get("servers"),{metadataItemEntityID:a,friendEntityID:s,isNewFriend:r=!0,isAddingHomeUser:o,isCreatingManagedUser:l}=t,c=[];o&&c.push(aY),c.push(sY);const d=!!a,u=n.some(e=>e.get("isFullOwnedServer")&&e.get("isClaimed")&&e.get("friendlyName"));!d&&u&&c.push(rY);const p=i.get("hasPlexPass"),h=function(e,t){const{friendEntityID:i,isNewFriend:n,isAddingHomeUser:a,isCreatingManagedUser:s}=t,r=Object(gT.a)(e,wt.c),o=Object(gT.a)(e,wt.A);return r||(o||!(!s&&!!(i||n||a)))}(e,{friendEntityID:s,isNewFriend:r,isAddingHomeUser:o,isCreatingManagedUser:l});return!d&&(r||o)&&(p||l||h)&&c.push(oY),r&&!l&&c.push(lY),c}function KY(e,t){return e.findIndex(e=>e===t)}function YY(e,t){return e[KY(e,t)-1]}function qY(e,t){return e[KY(e,t)+1]}function ZY(e,t){const i=qY(e,t);return!(!i||i===lY)}const JY=Sk({"ui/shareModal/initShareModal"(e,t){const i=QY(e),n=GY(e,t);i.set({steps:n,step:n[0]})},"ui/shareModal/resetShareModal"(e,t={}){const i=QY(e);G.a.abortAll(NY),i.restoreDefaults(t)},"ui/shareModal/sharePreviousStep"(e,t,i){const n=QY(e),a=n.get("steps"),s=n.get("step"),r={steps:a,step:YY(a,s),username:n.get("username"),restrictionProfileIdentifier:n.get("restrictionProfileIdentifier"),isUsernameValidated:!n.get("isCreatingManagedUser")};s===oY&&(r.friendEntityID=n.get("friendEntityID"),r.isNewFriend=n.get("isNewFriend"),r.isAddingHomeUser=n.get("isAddingHomeUser"),r.isCreatingManagedUser=n.get("isCreatingManagedUser"),r.selectedAllLibrariesMachineIdentifiers=n.get("selectedAllLibrariesMachineIdentifiers"),r.selectedLibrarySectionIDs=n.get("selectedLibrarySectionIDs")),i(AY(r))},"ui/shareModal/shareNextStep"(e){const t=QY(e),i=qY(t.get("steps"),t.get("step"));i&&t.set({step:i})},"ui/shareModal/validateUsername"(e,t={}){const i=QY(e),n=e.get("cloudServer"),{username:a=""}=t;if(""===a.trim())return void i.set({isUsernameValidating:!1,isUsernameValidated:!1});Object(Ti.a)(()=>{i.set({isUsernameValidating:!0,isUsernameValidated:!1})});const s=V.join("/api/users/validate",{invited_email:a}),r=n.getXHROptions(s,{type:"POST",scope:NY});D.a.ajax(r).done(()=>{i.set({isUsernameValidating:!1,isUsernameValidated:!0})}).fail(()=>{i.set({isUsernameValidating:!1})})},"ui/shareModal/setUsername"(e,t={},i){const n=QY(e),{metadataItemEntityID:a,username:s,restrictionProfileIdentifier:r,isAddingHomeUser:o,isCreatingManagedUser:l}=t,c=e.get("user").get("allFriends");let d=c.findWhere({username:s});d||(d=c.findWhere({email:s}));const u=!!d&&!l,p=u?d.entityID():null,h=GY(e,{metadataItemEntityID:a,friendEntityID:p,isNewFriend:!u,isAddingHomeUser:o,isCreatingManagedUser:l});n.set({steps:h,metadataItemEntityID:a,friendEntityID:p,username:u?d.get("title"):s,restrictionProfileIdentifier:r,isNewFriend:!u,isAddingHomeUser:o,isCreatingManagedUser:l});i(ZY(h,sY)?kY():a?_Y():WY())},"ui/shareModal/setUser"(e,t={},i){const n=QY(e),a=Object(wi.a)(e,t),{metadataItemEntityID:s,isAddingHomeUser:r}=t,o=a.entityID(),l=GY(e,{metadataItemEntityID:s,friendEntityID:o,isNewFriend:!1,isAddingHomeUser:r,isCreatingManagedUser:!1});n.set({steps:l,metadataItemEntityID:s,friendEntityID:o,username:a.get("title"),isNewFriend:!1,isAddingHomeUser:r}),i(s?_Y():kY())},"ui/shareModal/fetchServerOverviews"(e,t={}){const i=QY(e),{serverEntityIDs:n}=t;Object(Ti.a)(()=>{i.set({isServerOverviewsPopulating:!0,isServerOverviewsPopulated:!1})}),dY(n).then(e=>{i.set({isServerOverviewsPopulating:!1,isServerOverviewsPopulated:!0,serverOverviews:e})})},"ui/shareModal/fetchServerShares"(e,t={}){const i=QY(e),n=Object(wi.a)(e,t);G.a.abortAll(NY),n?(Object(Ti.a)(()=>{i.set({isServerSharesPopulating:!0,isServerSharesPopulated:!1,serverSharesError:null})}),uY(n,NY).done(()=>{i.set({isServerSharesPopulating:!1,isServerSharesPopulated:!0})}).fail(()=>{i.set({isServerSharesPopulating:!1,serverSharesError:Object(Ze.default)("Failed to load shares.")})})):i.set("isServerSharesPopulated",!0)},"ui/shareModal/setLibraryShares"(e,t={},i){const n=QY(e);n.set(t);i(ZY(n.get("steps"),rY)?kY():WY())},"ui/shareModal/fetchFilterOptionsTags"(e,t={}){const i=QY(e),{serverEntityIDs:n}=t,a=n.map(t=>Object(wi.m)(e,{serverEntityID:t}));G.a.abortAll(NY),Object(Ti.a)(()=>{i.set({isFilterOptionsTagsPopulating:!0,isFilterOptionsTagsPopulated:!1})}),wY(a,NY).done(e=>{i.set({isFilterOptionsTagsPopulating:!1,isFilterOptionsTagsPopulated:!0,filterOptionsTags:e})})},"ui/shareModal/saveItemShare"(e,t,i){const n=QY(e),a=n.get("metadataItemEntityID"),s=n.get("friendEntityID"),r=n.get("username"),o=n.get("isNewFriend"),l=e.get("cloudServer");Object(Ti.a)(()=>{n.set({isSharingPending:!0,isSharingCompleted:!1,sharingError:null,inviteTokenError:null})});const c=Object(wi.f)(e,{metadataItemEntityID:a}),d=Object(gs.a)({serverIdentifier:c.server.get("machineIdentifier"),metadataItemKey:c.get("key")}),u=WP({type:c.get("type"),title:c.get("title"),parentTitle:c.get("parentTitle"),grandparentTitle:c.get("grandparentTitle"),index:c.get("index"),parentIndex:c.get("parentIndex"),originallyAvailableAt:c.get("originallyAvailableAt")},""),p={items:[{uri:d,type:c.get("type"),title:u}]};if(s){const t=Object(wi.a)(e,{friendEntityID:s});p.invitedId=t.id}else p.invitedEmail=r;const h=l.getXHROptions("/api/v2/shared_items",{type:"POST",contentType:"application/json",dataType:"json",data:JSON.stringify(p),scope:NY});D.a.ajax(h).then(t=>{o?function(e,t){const i="/api/v2/shared_sources/"+t,n=e.get("cloudServer").getXHROptions(i,{type:"GET",dataType:"json",scope:NY});return D.a.ajax(n).then(e=>e.inviteToken,e=>{const t=e&&e.status?e.responseJSON.errors:null,i=t?t[0].message:Object(Ze.default)("Unknown error");return Object(Ze.default)("Failed to get invite link: {errorMessage}",{errorMessage:i})})}(e,t[0].sharedSourceId).done(e=>{n.set({inviteToken:e,isSharingPending:!1,isSharingCompleted:!0})}).fail(e=>{n.set({inviteTokenError:e,isSharingPending:!1,isSharingCompleted:!0})}).always(()=>{i(kY())}):n.set({isSharingPending:!1,isSharingCompleted:!0})},e=>{const t=e&&e.status?e.responseJSON.errors:null,i=t?t[0].message:null;n.set({isSharingPending:!1,sharingError:i||Object(Ze.default)("Failed to share item")})})},"ui/shareModal/saveLibraryShares"(e,t={},i){const{addToHome:n,restrictions:a={}}=t,s=QY(e),r=s.get("friendEntityID"),o=s.get("username"),l=s.get("restrictionProfileIdentifier"),c=s.get("isNewFriend"),d=s.get("isAddingHomeUser"),u=s.get("isCreatingManagedUser"),p=s.get("serverOverviews"),h=s.get("selectedAllLibrariesMachineIdentifiers")||[],m=s.get("selectedLibrarySectionIDs")||[],g=e.get("user");Object(Ti.a)(()=>{s.set({isSharingPending:!0,isSharingCompleted:!1,sharingError:null})});const v=[],y=r?Object(wi.a)(e,{friendEntityID:r}):new PY({username:o},{server:g.server}),f=Object(gT.a)(e,wt.c),b=Object(gT.a)(e,wt.A)||!(!u&&!!(r||c||d)),I=f||b?EY(a):{};c&&(f||b)&&y.set(I);const S=y.get("serverShares").where({owned:!0}),C=function(e=[]){return e.reduce((e,t)=>(t.get("sections").forEach(i=>{e[i.get("id")]=t.get("machineIdentifier")}),e),{})}(p),M=S.map(e=>e.get("machineIdentifier")),P=Array.from(new Set(m.map(e=>C[e]))),O=Array.from(new Set([...M,...P,...h])),j=d||n&&!y.get("home")||u;let w;if(j){const e=Object.assign({},I,{username:o,restricted:u});l&&"unrestricted"!==l&&(e.restrictionProfile=l);w=new OY(e,{server:g.server}).save(),u&&(w=w.then(e=>{y.set("id",parseInt(Se.a.parseXML(e).id,10))}))}else{const e=0===O.length;w=c&&e?y.save(Object.assign({user:o},I)):D.a.Deferred().resolve().promise()}w.done(()=>{O.forEach(e=>{const t=p.get(e);if(!t)return;const i=S.find(t=>t.get("machineIdentifier")===e),n=h.indexOf(e)>-1,a=!i,s=!n&&!P.find(t=>t===e),r=function(e,t){const i=e.get("sections");return t.filter(e=>i.get(e))}(t,m),o=n?[]:r;if(a){const t=new MY({machineIdentifier:e}),i=pY({user:g,friend:y,serverShare:t,librarySectionIDs:o,isNewFriend:c,isCreatingManagedUser:u,isNewServerShare:!0});v.push(i)}else if(s)v.push(i.destroy({wait:!0}));else{const e=pY({user:g,friend:y,serverShare:i,librarySectionIDs:o,isNewFriend:c,isCreatingManagedUser:u,isNewServerShare:!1});v.push(e)}}),D.a.when(...v).done((...e)=>{const t={isSharingPending:!1,isSharingCompleted:!0};if(O.length>0&&c&&!u){const i=(v.length>1?e[e.length-1]:e)[0];t.inviteToken=i.inviteToken}s.set(t),u&&g.set("home",!0),i(kY())}).fail((...e)=>{let t;for(const i of e){const e=nT(i,null,"status");if(e){t=e;break}}t||(t=u?Object(Ze.default)("Failed to create home user."):c?Object(Ze.default)("Failed to send invite."):Object(Ze.default)("Failed to update server shares.")),s.set({isSharingPending:!1,sharingError:t})}).always(()=>{if(i(wA()),i(YA()),j){g.get("homeUsers").fetch(),i(TA()),i(XA())}})}).fail(e=>{const t=nT(e,null,"status")||Object(Ze.default)("Failed to create home user.");s.set({isSharingPending:!1,sharingError:t})})}});var XY=function(e){const{children:t,metadataItem:i,isAddingHomeUser:n,isCreatingManagedUser:a,isSharingSingleLibrary:s,errorMessage:r,onModalClose:o}=e;let l;return l=i?Object(Ze.default)("Share {metadataTitle}",{metadataTitle:WP(i,"")}):n?Object(Ze.default)("Invite Home User"):a?Object(Ze.default)("Create Managed User"):s?Object(Ze.default)("Share Library"):Object(Ze.default)("Add A Friend"),Vu()(YL,{onModalClose:o},void 0,Vu()(zL,{},void 0,l),r?Vu()(vV,{errorMessage:r}):null,t)},$Y=i("wIt8"),eq=i.n($Y);const tq=Nd.a.createElement;var iq=function(e){const{onNext:t,onModalClose:i}=e,n=Xe()(e,["onNext","onModalClose"]);return Vu()(FM,{className:eq.a.form,onSubmit:t},void 0,tq(XY,tp()({onModalClose:i},n),Vu()(wL,{className:eq.a.modalBody,scrollDirection:Zp},void 0,Vu()(eM,{className:eq.a.warning}),Vu()("div",{},void 0,Object(Ze.default)("Inviting other users to your home is a security risk that could allow these users to access your account. You should only do this if you live in the same home and share devices."))),Vu()(AL,{},void 0,Vu()(sV,{},void 0,Vu()(hw,{onPress:i},void 0,Object(Ze.default)("Cancel")),Vu()(hV,{type:"submit",kind:Pp},void 0,Object(Ze.default)("Continue"))))))};const nq={onNext:kY};var aq=Object(Hu.b)(null,nq)(iq);var sq=FS(Object(Wu.a)(qu,e=>e.reduce((e,t)=>(t.isFullOwnedServer&&t.isClaimed&&t.friendlyName&&e.push(t.entityID),e),[])),e=>e);var rq=Object(Wu.a)(Gu,e=>e.friends);function oq(){return Object(Wu.a)(rq,(e,t)=>t.friendEntityID,(e,t)=>e[t])}var lq=i("BoH4"),cq=i.n(lq);const dq=Nd.a.createElement;var uq=IB((function(e){return dq(TB,tp()({className:cq.a.input},e))})),pq=i("ygGu"),hq=i.n(pq);const mq=Nd.a.createElement;function gq(e){return mq(TB,e)}gq.defaultProps={className:hq.a.input};var vq=IB(gq),yq=i("Z2Ww"),fq=i.n(yq);const{Component:bq,Fragment:Iq}=Nd.a,Sq=parseInt(BV.serverShareListRowHeight,10);var Cq=class extends bq{constructor(e,t){super(e,t),this.onTogglePress=()=>{this.setState({isCollapsed:!this.state.isCollapsed})},this.onAllLibrariesToggle=()=>{this.setState({isAllLibrariesChecked:!this.state.isAllLibrariesChecked})};const{sourceServer:i,serverOverview:n,serverShare:a,selectedAllLibrariesMachineIdentifiers:s}=e;this.state={isCollapsed:i.machineIdentifier!==ST.a&&i.machineIdentifier!==n.machineIdentifier,isAllLibrariesChecked:null!=s?s.includes(n.machineIdentifier):!(!a||!a.allLibraries)}}render(){const{sourceDirectory:e,sourceServer:t,serverOverview:i,serverShare:n,selectedLibrarySectionIDs:a}=this.props,{isAllLibrariesChecked:s,isCollapsed:r}=this.state,{machineIdentifier:o,name:l,sections:c}=i,d={maxHeight:r?0:(c.length||1)*Sq},u=e&&e.id;let p=l;return s&&(p+=" ("+Object(Ze.default)("All Libraries")+")"),Vu()(Iq,{},void 0,Vu()("div",{className:fq.a.header},void 0,Vu()(zp,{className:s?fq.a.toggleButtonHidden:fq.a.toggleButton,onPress:this.onTogglePress},void 0,Vu()(fy,{direction:r?"right":my})),Vu()(uq,{name:JSON.stringify({machineIdentifier:o}),checkboxText:p,initialValue:s,onChange:this.onAllLibrariesToggle})),Vu()("div",{className:fq.a.libraries,style:d},void 0,s||0!==c.length?null:Vu()("div",{className:fq.a.emptyMessage},void 0,Object(Ze.default)("No libraries")),c.map(e=>{const{id:i,key:r,title:l}=e;let c;if(null!=a)c=a.includes(i);else{const e=t.machineIdentifier===o&&u===r,a=!!(n&&n.libraries&&n.libraries.find(e=>e.id===i));c=e||a}return Vu()(vq,{className:s?fq.a.hidden:void 0,name:JSON.stringify({sectionID:i}),checkboxText:l,initialValue:c},i)})))}},Mq=i("0UmJ"),Dq=i.n(Mq),Pq=Vu()(Jh,{});var Oq=function(e){const{sourceDirectory:t,sourceServer:i,serverOverviews:n,serverShares:a,selectedAllLibrariesMachineIdentifiers:s,selectedLibrarySectionIDs:r,hasNextStep:o,isPopulating:l,showList:c,isNewFriend:d,isAddingHomeUser:u,isCreatingManagedUser:p,isSharingPending:h,errorMessage:m,onPreviousStep:g,onSubmit:v,onModalClose:y}=e;let f;return f=o?Object(Ze.default)("Continue"):p?Object(Ze.default)("Add"):d?Object(Ze.default)("Send"):Object(Ze.default)("Save"),Vu()(FM,{className:Dq.a.form,onSubmit:v},void 0,Vu()(XY,{isAddingHomeUser:u,isCreatingManagedUser:p,isSharingSingleLibrary:!!t,errorMessage:m,onModalClose:y},void 0,Vu()(wL,{className:Dq.a.modalBody,scrollDirection:Zp},void 0,Vu()("div",{className:Dq.a.message},void 0,Object(Ze.default)("Choose some libraries to share.")),l?Vu()("div",{className:Dq.a.spinnerContainer},void 0,Pq):null,c?Vu()(ih,{className:Dq.a.scroller,autoScroll:!0},void 0,n.map(e=>{const{machineIdentifier:n}=e,o=a.find(e=>e.machineIdentifier===n);return Vu()(Cq,{sourceDirectory:t,sourceServer:i,serverOverview:e,serverShare:o,selectedAllLibrariesMachineIdentifiers:s,selectedLibrarySectionIDs:r},n)})):null),Vu()(AL,{className:Dq.a.modalFooter},void 0,Vu()(hw,{onPress:y},void 0,Object(Ze.default)("Cancel")),Vu()(sV,{},void 0,Vu()(hw,{onPress:g},void 0,Object(Ze.default)("Previous")),Vu()(hV,{type:"submit",kind:Pp,isDisabled:l||h,isSpinning:h},void 0,f)))))};const jq=Nd.a.createElement,{Component:wq}=Nd.a;const Tq={dispatchFetchServerOverviews:VY,dispatchFetchServerShares:BY,dispatchSetLibraryShares:FY,onPreviousStep:LY};var Eq=Object(Hu.b)((function(){return Object(Wu.a)(e=>e.ui.shareModal,$S,sq,oq(),(e,t,i,n)=>{const{steps:a,serverOverviews:s,selectedAllLibrariesMachineIdentifiers:r,selectedLibrarySectionIDs:o,isNewFriend:l,isServerOverviewsPopulating:c,isServerOverviewsPopulated:d,isServerSharesPopulating:u,isServerSharesPopulated:p,isSharingPending:h,sharingError:m,serverSharesError:g}=e,v=c||u,y=d&&p,f=g||m;return{sharingEligibleServerEntityIDs:i,sourceServer:t,serverOverviews:s,selectedAllLibrariesMachineIdentifiers:r,selectedLibrarySectionIDs:o,serverShares:n?n.serverShares:[],hasNextStep:ZY(a,rY),isPopulating:v&&!f,isSharingPending:h&&!f,showList:y,isNewFriend:l,errorMessage:f}})}),Tq)(class extends wq{constructor(...e){super(...e),this.onSubmit=e=>{const t=Object.keys(e).reduce((t,i)=>{if(!e[i])return t;const n=JSON.parse(i);return n.hasOwnProperty("sectionID")&&t.selectedLibrarySectionIDs.push(n.sectionID),n.hasOwnProperty("machineIdentifier")&&t.selectedAllLibrariesMachineIdentifiers.push(n.machineIdentifier),t},{selectedAllLibrariesMachineIdentifiers:[],selectedLibrarySectionIDs:[]});this.props.dispatchSetLibraryShares(t)}}componentDidMount(){const{friendEntityID:e,sharingEligibleServerEntityIDs:t,dispatchFetchServerOverviews:i,dispatchFetchServerShares:n}=this.props;i({serverEntityIDs:t}),n({friendEntityID:e})}render(){const e=this.props,t=Xe()(e,["sharingEligibleServerEntityIDs","dispatchFetchServerOverviews","dispatchFetchServerShares"]);return jq(Oq,tp()({},t,{onSubmit:this.onSubmit}))}});var Nq=FS(Object(Wu.a)(qu,e=>e.filter(e=>e.isFullOwnedServer&&e.isConnected)),e=>e);var xq=Object(Wu.a)(Nq,e=>e.map(e=>e.entityID));const Aq={NONE:0,TV_ONLY:1,TV_AND_DVR:2};Aq.options={[Aq.NONE]:()=>Object(Ze.default)("No Live TV and DVR access"),[Aq.TV_ONLY]:()=>Object(Ze.default)("Allow Live TV only"),[Aq.TV_AND_DVR]:()=>Object(Ze.default)("Allow Live TV and DVR access")},Aq.values=Object.keys(Aq.options).map(e=>({[e]:Aq.options[e]}));var Lq=Aq,kq=i("ZQAG"),Rq=i.n(kq);const zq=Nd.a.createElement;var Uq=IB((function(e){const{subtitle:t}=e,i=Xe()(e,["subtitle"]);return Vu()("div",{className:Rq.a.container},void 0,zq(TB,tp()({size:Fh},i)),t?Vu()("span",{className:Rq.a.subtitle},void 0,t):null)}));const{useCallback:Vq,useState:Bq}=Nd.a;function Fq(e,t){return e&&e[t]?e[t].split(","):[]}function Hq(e,t,i){const n=Fq(e,t),a=Fq(e,i),s=Bq(n),r=s[1],o=s[0],l=Bq(a),c=l[1];return{initialAllowTags:n,initialExcludeTags:a,allowTags:o,excludeTags:l[0],onAllowTagsChange:Vq(e=>{r(e)},[]),onExcludeTagsChange:Vq(e=>{c(e)},[])}}var _q=i("thf+"),Wq=i("1h/R"),Qq=i.n(Wq),Gq=i("egLJ"),Kq=i.n(Gq);const Yq=Nd.a.createElement;function qq(e){const{inputComponent:t,suggestionsComponent:i,theme:n}=e,a=Xe()(e,["inputComponent","suggestionsComponent","theme"]);return Yq(Qq.a,tp()({},a,{renderInputComponent:t,renderSuggestionsContainer:i,theme:Object.assign({},Kq.a,n)}))}qq.defaultProps={inputComponent:function(e){return Yq("input",tp()({type:"text"},e))}};var Zq=qq,Jq=i("bA7v"),Xq=i.n(Jq);const{Component:$q}=Nd.a;class eZ extends $q{constructor(...e){super(...e),this.onPress=()=>{const{onRemove:e,index:t}=this.props;e(t)}}render(){const{className:e,removeClassName:t,tag:i,iconComponent:n,isDisabled:a,removeLabel:s,getTagDisplayValue:r}=this.props;return Vu()("span",{className:e},void 0,a?null:Vu()(zp,{className:t,"aria-label":s,onPress:this.onPress},void 0,Vu()(n,{})),Vu()("span",{},void 0,r(i)))}}eZ.defaultProps={className:Xq.a.tag,removeClassName:Xq.a.remove};var tZ=eZ,iZ=i("sq6x"),nZ=i.n(iZ);const aZ=Nd.a.createElement,{Component:sZ}=Nd.a;class rZ extends sZ{constructor(e,t){super(e,t),this.divRef=void 0,this.inputRef=void 0,this.addTag=e=>this._addTags([e]),this.setInputRef=e=>{this.inputRef=e},this.setDivRef=e=>{this.divRef=e},this.onPaste=e=>{const{addOnPaste:t,pasteSplit:i,makeTag:n}=this.props;if(!t)return;e.preventDefault();const a=i(function(e){return window.clipboardData?window.clipboardData.getData("Text"):e.clipboardData?e.clipboardData.getData("text/plain"):""}(e)).map(e=>n(e));this._addTags(a)},this.onKeyDown=e=>{const{onKeyDown:t}=this.props.inputProps;if(t&&t(e),e.defaultPrevented)return;const{value:i,removeKeys:n,addKeys:a,inputValue:s}=this.props,r=""===s,o=e.keyCode,l=-1!==a.indexOf(o),c=-1!==n.indexOf(o);if(l){(this._accept()||13===o)&&e.preventDefault()}c&&i.length>0&&r&&(e.preventDefault(),this._removeTag(i.length-1))},this.onClick=e=>{e.target===this.divRef&&(this.inputRef&&"function"==typeof this.inputRef.focus&&this.inputRef.focus(),this.onFocus())},this.onChange=e=>{const{onInputChange:t}=this.props,{onChange:i}=this.props.inputProps,n=e.target.value;i&&i(e),t(n)},this.onFocus=e=>{const{onFocus:t}=this.props.inputProps;t&&t(e),this.setState({isFocused:!0})},this.onBlur=e=>{const{onBlur:t}=this.props.inputProps;if(this.setState({isFocused:!1}),null!=e&&(t&&t(e),this.props.addOnBlur)){const t=this.props.makeTag(e.target.value);this._addTags([t])}},this.onRemove=e=>{this._removeTag(e)},this.state={isFocused:!1}}componentDidUpdate(e){const{value:t,excludedTags:i}=this.props;i!==e.excludedTags&&i.forEach(e=>{const i=t.findIndex(t=>t===e);this._removeTag(i)})}_removeTag(e){if(e>-1&&e<this.props.value.length){const t=this.props.value.slice(0),i=t.splice(e,1);this.props.onChange(t,i,[e])}}_clearInput(){this.props.onInputChange("")}_addTags(e){const{validationRegex:t,onlyUnique:i,maxTags:n,value:a,getTagValue:s,onChange:r,onValidationReject:o}=this.props;let l;if(i&&(e=I.a.uniq(e,e=>s(e))),t&&(l=e.filter(e=>!t.test(s(e))),e=e.filter(e=>t.test(s(e)))),e=e.filter(e=>{const t=s(e);return t?t.trim().length>0:t}),n>=0){const t=Math.max(n-a.length,0);e=e.slice(0,t)}if(o&&l&&l.length>0&&o(l),e.length>0){let t=a.concat(e);const n=[];for(let t=0;t<e.length;t++)n.push(a.length+t);i&&(t=I.a.uniq(t,e=>s(e)));const o=t.length!==a.length;return o&&r(t,e,n),this._clearInput(),o}return this._clearInput(),!1}_accept(){let e=this.props.inputValue;return""!==e&&(e=this.props.makeTag(e),this._addTags([e]))}inputProps(){const{value:e,inputProps:t}=this.props,{placeholder:i}=t,n=Xe()(t,["placeholder","onChange","onFocus","onBlur"]),a=Object.assign({className:nZ.a.input,placeholder:e.length?"":i},n);return this.props.isDisabled&&(a.isDisabled=!0),a}render(){const{id:e,className:t,errorClassName:i,focusedClassName:n,hasError:a,value:s,inputValue:r,getTagValue:o,getTagDisplayValue:l,tagProps:c,tagComponent:d,inputComponent:u,isDisabled:p}=this.props,{isFocused:h}=this.state;return aZ("div",{id:e,className:(t||"")+" "+(h&&n||"")+" "+(a&&i||""),ref:this.setDivRef,onClick:this.onClick},s.map((e,t)=>aZ(d,tp()({key:o(e)+"-"+t,index:t,tagCount:s.length,tag:e,isDisabled:p,getTagDisplayValue:l,onRemove:this.onRemove},c))),aZ(u,tp()({key:"input",inputRef:this.setInputRef,value:r},this.inputProps(),{addTag:this.addTag,onPaste:this.onPaste,onKeyDown:this.onKeyDown,onChange:this.onChange,onFocus:this.onFocus,onBlur:this.onBlur})))}}rZ.defaultProps=void 0,rZ.defaultProps={className:nZ.a.tagsInput,errorClassName:nZ.a.hasError,addKeys:[9,13],addOnBlur:!1,addOnPaste:!1,inputProps:{},removeKeys:[8],inputComponent:function(e){const{inputRef:t}=e,i=Xe()(e,["inputRef","addTag"]);return aZ("input",tp()({type:"text",ref:t},i))},tagComponent:tZ,pasteSplit:function(e){return e.split(" ").map(e=>e.trim())},tagProps:{},onlyUnique:!0,maxTags:-1,excludedTags:[],validationRegex:null,isDisabled:!1,getTagDisplayValue:e=>e,getTagValue:e=>e,makeTag:e=>e};var oZ=rZ,lZ=i("SsI7"),cZ=i.n(lZ);const dZ=Nd.a.createElement,{Component:uZ}=Nd.a,pZ={placement:"bottom-start",modifiers:[{name:"preventOverflow",enabled:!1},{name:"flip",enabled:!1},{name:"maxSize",enabled:!0,phase:"beforeWrite",requiresIfExists:["offset","preventOverflow","flip"],fn({state:e,name:t,options:i}){const n=Object(_q.a)(e,i),{y:a}=e.modifiersData.preventOverflow||{x:0,y:0},{height:s}=e.rects.popper,[r]=e.placement.split("-"),o="top"===r?"top":"bottom";e.styles.popper.maxHeight=s-n[o]-a-14+"px",e.styles.popper.width=e.rects.reference.width+"px"}}]};class hZ extends uZ{constructor(e,t){super(e,t),this.inputID=void 0,this.suggestRef=void 0,this.tagsInputRef=void 0,this.setTagsInputRef=e=>{this.tagsInputRef=e},this.onInputChange=e=>{this.setState({inputValue:e})},this.onSuggestionSelected=(e,{suggestion:t})=>{this.tagsInputRef.addTag(this.props.makeTagFromSuggestion(t))},this.onInputFocus=(e,t)=>{this.setState({isMenuOpen:!0},()=>t(e))},this.onWindowPress=e=>{const t=this.suggestRef.current,i=t&&t.contains(e.target),n=!i&&document.getElementById(this.inputID),a=n&&n.contains(e.target);i||a||this.setState({isMenuOpen:!1})},this.renderInputComponent=e=>{let{ref:t}=e,i=Xe()(e,["ref"]);const{className:n,shouldRenderSuggestions:a,tagComponent:s,validationRegex:r,value:o,makeTag:l,getTagDisplayValue:c,getTagValue:d,tagProps:u,excludedTags:p,onChange:h}=this.props,{inputValue:m}=this.state;return dZ(oZ,{id:this.inputID,className:n,inputValue:m,inputProps:Object.assign({},i,{inputRef:t,onFocus:e=>{this.onInputFocus(e,i.onFocus)}}),tagProps:u,value:o,validationRegex:r,tagComponent:s,addOnBlur:!a(m),getTagValue:d,getTagDisplayValue:c,makeTag:l,excludedTags:p,ref:this.setTagsInputRef,onInputChange:this.onInputChange,onChange:h})},this.renderSuggestionsComponent=e=>{const{containerProps:{ref:t},children:i}=e,n=Xe()(e.containerProps,["ref"]);return t(this.suggestRef.current),dZ(vv,tp()({target:this.inputID,isOpen:this.state.isMenuOpen,options:pZ,ref:this.suggestRef},n),i)},this.state={inputValue:"",isMenuOpen:!1},this.suggestRef=Nd.a.createRef(),this.inputID=Mp()}componentDidUpdate(e,t){if(!t.isMenuOpen&&this.state.isMenuOpen)this._enable();else{t.isMenuOpen&&!this.state.isMenuOpen&&this._disable()}}_enable(){document.addEventListener("mouseup",this.onWindowPress),document.addEventListener("touchend",this.onWindowPress)}_disable(){document.removeEventListener("mouseup",this.onWindowPress),document.removeEventListener("touchend",this.onWindowPress)}render(){const{placeholder:e,suggestions:t,getAddSuggestionTag:i,getSuggestionValue:n,renderSuggestion:a,suggestionsFilter:s,shouldRenderSuggestions:r,theme:o,onSuggestionsClearRequested:l,onSuggestionsFetchRequested:c}=this.props,{inputValue:d}=this.state,u=i&&d.length>0?[i(d)]:[],p=t.reduce((e,t)=>(s(t,d)&&e.push(t),e),u);return Vu()(Zq,{suggestions:p,shouldRenderSuggestions:r,getSuggestionValue:n,renderSuggestion:a,focusInputOnSuggestionClick:!1,highlightFirstSuggestion:!0,inputProps:{value:d,placeholder:e,onChange:(e,{newValue:t,method:i})=>{"enter"===i&&e.preventDefault(),"enter"===i||"click"===i?this.setState({isMenuOpen:!1}):"type"===i&&this.setState({isMenuOpen:!0})}},theme:Object.assign({input:cZ.a.input},o),inputComponent:this.renderInputComponent,suggestionsComponent:this.renderSuggestionsComponent,onSuggestionSelected:this.onSuggestionSelected,onSuggestionsClearRequested:l,onSuggestionsFetchRequested:c})}}hZ.defaultProps={className:cZ.a.tagsInput,suggestions:[],value:[],shouldRenderSuggestions:()=>!1};var mZ=hZ;const gZ=Nd.a.createElement;var vZ=IB((function(e){const{formGroupClassName:t,formLabelClassName:i,name:n,labelText:a,helpText:s,showErrors:r,errors:o,children:l}=e,c=Xe()(e,["formGroupClassName","formLabelClassName","name","labelText","helpText","showErrors","errors","children"]);return Vu()(eV,{className:t},void 0,l,Vu()(yB,{className:i,showErrors:r,errors:o,name:n,labelText:a}),gZ(mZ,tp()({name:n,hasError:r},c)),s?Vu()(vB,{},void 0,s):null)})),yZ=i("N2kb"),fZ=i.n(yZ);const{Component:bZ}=Nd.a;var IZ=Vu()(NI,{});var SZ=class extends bZ{constructor(...e){super(...e),this.onRemovePress=()=>{this.props.onRemove(this.props.index)}}render(){const{tag:e,getTagDisplayValue:t}=this.props;return Vu()("span",{className:fZ.a.container},void 0,Vu()("span",{className:fZ.a.tag},void 0,Vu()(zp,{className:fZ.a.remove,"aria-label":Object(Ze.default)("Remove Tag"),onPress:this.onRemovePress},void 0,IZ),Vu()("span",{},void 0,t(e))))}};const{Component:CZ}=Nd.a,MZ={[hY]:{labelText:()=>Object(Ze.default)("Allow Only Ratings"),placeholder:()=>Object(Ze.default)("Allow all ratings")},[mY]:{labelText:()=>Object(Ze.default)("Exclude Ratings"),placeholder:()=>Object(Ze.default)("Don't exclude any ratings")},[gY]:{labelText:()=>Object(Ze.default)("Allow Only Labels"),placeholder:()=>Object(Ze.default)("Allow all labels")},[vY]:{labelText:()=>Object(Ze.default)("Exclude Labels"),placeholder:()=>Object(Ze.default)("Don't exclude any labels")}};function DZ(e){const{metadataType:t,tagType:i,filterOptionsTags:n}=e,a=i===hY||i===mY?hY:gY;return n[t][a]}const PZ=e=>e.value,OZ=e=>""===e.key?e.value:e.title,jZ=(e,t)=>e.title.toUpperCase().includes(t.toUpperCase()),wZ=e=>({key:"",title:Object(Ze.default)("Add {inputValue}",{inputValue:e}),value:e}),TZ=e=>e.title,EZ=()=>!0,NZ=()=>{},xZ=()=>{};var AZ=class extends CZ{static getDerivedStateFromProps(e,t){return!t.isFilterOptionsTagsPopulated&&e.isFilterOptionsTagsPopulated?{suggestions:DZ(e),isFilterOptionsTagsPopulated:!0}:null}constructor(e,t){super(e,t);const{isFilterOptionsTagsPopulated:i}=e;this.state={suggestions:i?DZ(e):[],isFilterOptionsTagsPopulated:i}}render(){const{name:e,tagType:t,initialValue:i,excludedTags:n,onChange:a}=this.props,{labelText:s,placeholder:r}=MZ[t];return Vu()(vZ,{getSuggestionValue:PZ,initialValue:i,labelText:s(),placeholder:r(),makeTagFromSuggestion:OZ,tagComponent:SZ,name:e,renderSuggestion:TZ,shouldRenderSuggestions:EZ,getAddSuggestionTag:wZ,suggestions:this.state.suggestions,suggestionsFilter:jZ,excludedTags:n,onSuggestionsClearRequested:NZ,onSuggestionsFetchRequested:xZ,onChange:a})}},LZ=i("mDY5"),kZ=i.n(LZ);const RZ=Nd.a.createElement;var zZ=Vu()(tf,{}),UZ=Vu()(tf,{}),VZ=Vu()(tf,{});var BZ=function(e){const{className:t,friendFilterOptions:i}=e,n=Xe()(e,["className","friendFilterOptions"]),{filterMovies:a,filterTelevision:s,filterMusic:r}=i,o=Hq(a,hY,mY),l=Hq(a,gY,vY),c=Hq(s,hY,mY),d=Hq(s,gY,vY),u=Hq(r,gY,vY);return Vu()("div",{className:t},void 0,Vu()("div",{className:kZ.a.section},void 0,Vu()("div",{},void 0,Object(Ze.default)("Content Restrictions"),zZ,zQ.g.get(zQ.b).title),RZ(AZ,tp()({name:"moviesContentRatings",metadataType:Qt.j,tagType:hY,initialValue:o.initialAllowTags,excludedTags:o.excludeTags,onChange:o.onAllowTagsChange},n)),RZ(AZ,tp()({name:"moviesExcludeContentRatings",metadataType:Qt.j,tagType:mY,initialValue:o.initialExcludeTags,excludedTags:o.allowTags,onChange:o.onExcludeTagsChange},n)),RZ(AZ,tp()({name:"moviesLabels",metadataType:Qt.j,tagType:gY,initialValue:l.initialAllowTags,excludedTags:l.excludeTags,onChange:l.onAllowTagsChange},n)),RZ(AZ,tp()({name:"moviesExcludeLabels",metadataType:Qt.j,tagType:vY,initialValue:l.initialExcludeTags,excludedTags:l.allowTags,onChange:l.onExcludeTagsChange},n))),Vu()("div",{className:kZ.a.section},void 0,Vu()("div",{},void 0,Object(Ze.default)("Content Restrictions"),UZ,zQ.g.get(zQ.e).title),RZ(AZ,tp()({name:"televisionContentRatings",metadataType:Qt.o,tagType:hY,initialValue:c.initialAllowTags,excludedTags:c.excludeTags,onChange:c.onAllowTagsChange},n)),RZ(AZ,tp()({name:"televisionExcludeContentRatings",metadataType:Qt.o,tagType:mY,initialValue:c.initialExcludeTags,excludedTags:c.allowTags,onChange:c.onExcludeTagsChange},n)),RZ(AZ,tp()({name:"televisionLabels",metadataType:Qt.o,tagType:gY,initialValue:d.initialAllowTags,excludedTags:d.excludeTags,onChange:d.onAllowTagsChange},n)),RZ(AZ,tp()({name:"televisionExcludeLabels",metadataType:Qt.o,tagType:vY,initialValue:d.initialExcludeTags,excludedTags:d.allowTags,onChange:d.onExcludeTagsChange},n))),Vu()("div",{className:kZ.a.section},void 0,Vu()("div",{},void 0,Object(Ze.default)("Content Restrictions"),VZ,zQ.g.get(zQ.c).title),RZ(AZ,tp()({name:"musicLabels",metadataType:Qt.b,tagType:gY,initialValue:u.initialAllowTags,excludedTags:u.excludeTags,onChange:u.onAllowTagsChange},n)),RZ(AZ,tp()({name:"musicExcludeLabels",metadataType:Qt.b,tagType:vY,initialValue:u.initialExcludeTags,excludedTags:u.allowTags,onChange:u.onExcludeTagsChange},n))))},FZ=i("dJu0"),HZ=i.n(FZ);var _Z=IB((function(e){const{name:t,title:i,subtitle:n,value:a,values:s,onChange:r}=e;return Vu()("div",{},void 0,Vu()(GM,{},void 0,i),Vu()(LR,{name:t,value:a,values:s,size:Fh,onChange:r}),n?Vu()("div",{className:HZ.a.subtitle},void 0,n):null)})),WZ=i("+FCs"),QZ=i.n(WZ);const{useState:GZ}=Nd.a;function KZ(e){return parseInt(e,10)}var YZ=function(e){const{friend:t,sourceDirectory:i,filterOptionsTags:n,isFilterOptionsTagsPopulating:a,isFilterOptionsTagsPopulated:s,canAddToHome:r,canShareTunersWithFriends:o,canShareDVR:l,canShowRestrictions:c,canShowRestrictionsFilters:d,isAddingHomeUser:u,isCreatingManagedUser:p,isSharingPending:h,errorMessage:m,onPreviousPress:g,onSubmit:v,onModalClose:y}=e,f=!!t&&t.home,b=!t||t.allowSync,I=!!t&&t.allowCameraUpload,S=t?t.allowTuners:0,C=t?{filterMovies:t.filterMovies,filterTelevision:t.filterTelevision,filterMusic:t.filterMusic}:{},M=GZ(f||u||p),D=M[1],P=M[0],O=P||o;return Vu()(FM,{className:QZ.a.form,onSubmit:v},void 0,Vu()(XY,{isAddingHomeUser:u,isCreatingManagedUser:p,isSharingSingleLibrary:!!i,errorMessage:m,onModalClose:y},void 0,Vu()(wL,{className:QZ.a.modalBody,scrollDirection:Zp},void 0,Vu()(ih,{className:QZ.a.scroller,autoScroll:!0},void 0,r?Vu()("div",{className:QZ.a.message},void 0,Object(Ze.default)("Users in your Home appear on the Switch User screen. The invited user will be asked to confirm Home membership.")):null,r?Vu()("div",{className:QZ.a.section},void 0,Vu()(Uq,{name:"addToHome",checkboxText:Object(Ze.default)("Add to Plex Home"),initialValue:f,isDisabled:f,onChange:D})):null,P&&!p?Vu()("div",{className:QZ.a.warningMessage},void 0,Vu()(eM,{className:QZ.a.warningIcon}),Object(Ze.default)("Inviting other users to your home is a security risk that could allow these users to access your account. You should only do this if you live in the same home and share devices.")):null,Vu()("div",{className:QZ.a.message},void 0,c||O?Object(Ze.default)("You can restrict this user's access to certain features and content. These restrictions apply to all items shared with this user. You can change them at any time in the Users & Sharing settings."):null),Vu()("div",{className:QZ.a.section},void 0,c?Vu()(Uq,{name:"allowSync",checkboxText:Object(Ze.default)("Allow Sync and Download"),subtitle:Object(Ze.default)("This will allow this user to sync or download content from your server"),initialValue:b}):null,c?Vu()(Uq,{name:"allowCameraUpload",checkboxText:Object(Ze.default)("Allow Camera Upload"),subtitle:Object(Ze.default)("This will allow this user to upload media to your server"),initialValue:I}):null,O&&!l?Vu()(Uq,{name:"allowTuners",checkboxText:Object(Ze.default)("Allow access to Live TV"),subtitle:Object(Ze.default)("Enabling this option will allow this user to access Live TV streams. It requires a library on the Plex Media Server that has DVR configured to be shared with the user"),initialValue:!!S}):null,O&&l?Vu()(_Z,{name:"allowTuners",title:Object(Ze.default)("Live TV & DVR Access"),subtitle:Object(Ze.default)("Enabling Live TV for this user requires sharing a library with them. Enabling DVR will show all scheduled recordings, but this user will only be able to manage their own recordings"),initialValue:S,value:Lq.values[S],values:Lq.values,transformValue:KZ}):null),c&&d?Vu()(BZ,{className:QZ.a.list,filterOptionsTags:n,friendFilterOptions:C,isFilterOptionsTagsPopulating:a,isFilterOptionsTagsPopulated:s}):null)),Vu()(AL,{className:QZ.a.modalFooter},void 0,Vu()(hw,{onPress:y},void 0,Object(Ze.default)("Cancel")),Vu()(sV,{},void 0,Vu()(hw,{onPress:g},void 0,Object(Ze.default)("Previous")),Vu()(hV,{type:"submit",kind:Pp,isDisabled:h,isSpinning:h},void 0,p?Object(Ze.default)("Add"):Object(Ze.default)("Send"))))))};const qZ=Nd.a.createElement,{Component:ZZ}=Nd.a;var JZ=Object(Hu.b)((function(){return Object(Wu.a)((e,{isAddingHomeUser:t})=>t,(e,{isCreatingManagedUser:t})=>t,e=>e.ui.shareModal,xq,oq(),bg("hasPlexPass"),Gw(wt.A),Gw(wt.b),Gw(wt.c),(e,t,i,n,a,s,r,o,l)=>{const{restrictionProfileIdentifier:c,filterOptionsTags:d,isFilterOptionsTagsPopulating:u,isFilterOptionsTagsPopulated:p,isSharingPending:h,sharingError:m}=i;return{serverEntityIDs:n,friend:a,filterOptionsTags:d,isFilterOptionsTagsPopulating:u,isFilterOptionsTagsPopulated:p,canAddToHome:s&&!e&&!t,canShareTunersWithFriends:r,canShareDVR:o,canShowRestrictions:l,canShowRestrictionsFilters:!c||"unrestricted"===c,isSharingPending:h&&!m,errorMessage:m}})}),(function(e){return{dispatchFetchFilterOptionsTags(t){e(HY({serverEntityIDs:t}))},onPreviousPress(){e(LY())},onSubmit(t){const{addToHome:i}=t,n=Xe()(t,["addToHome"]);e(WY({addToHome:i,restrictions:n}))}}}))(class extends ZZ{componentDidMount(){const{serverEntityIDs:e,dispatchFetchFilterOptionsTags:t}=this.props;t(e)}render(){const e=this.props,t=Xe()(e,["serverEntityIDs","dispatchFetchFilterOptionsTags"]);return qZ(YZ,t)}}),XZ=i("ABYF"),$Z=i("uyqX"),eJ=i.n($Z);const{useCallback:tJ,useEffect:iJ,useRef:nJ,useState:aJ}=Nd.a,sJ=()=>{};var rJ=function(e){const{sourceDirectory:t,metadataItem:i,username:n,inviteToken:a,inviteTokenError:s,libraryCount:r,isSharingSingleItem:o,isAddingHomeUser:l,hasNewSharingInvitationFeature:c,onModalClose:d}=e,u=aJ(!1),p=u[1],h=u[0],m=$b(h),g=nJ(null),v=function(e,t,i){if(i){const i={inviteToken:e};return t?i.sharedItems=1:i.sharedServers=1,V.join(["https://app.plex.tv/auth","#!"],i)}return V.join(["https://plex.tv","servers/shared_servers/accept"],{invite_token:e})}(a,o,c),y=tJ(()=>{XZ.writeText(v),p(!0)},[v]);let f;iJ(()=>(!m&&h&&(g.current=window.setTimeout(()=>{p(!1),window.clearTimeout(g.current)},2e3)),()=>{window.clearTimeout(g.current)}),[m,h]),f=i?Object(Ze.default)("You shared {metadataTitle} with {username}.",{metadataTitle:WP(i,""),username:n}):0===r||l?Object(Ze.default)("We've sent an invite to {username}.",{username:n}):1===r?Object(Ze.default)("You shared a library with {username}.",{username:n}):Object(Ze.default)("You shared {libraryCount} libraries with {username}.",{libraryCount:r,username:n});const b=(i||r)&&!s;return Vu()("div",{className:eJ.a.container},void 0,Vu()(XY,{metadataItem:i,isSharingSingleLibrary:!!t,onModalClose:d},void 0,Vu()(wL,{className:eJ.a.modalBody,scrollDirection:Zp},void 0,Vu()("div",{className:eJ.a.content},void 0,Vu()("p",{},void 0,f),b?Vu()("p",{},void 0,Object(Ze.default)("We've sent an email asking them to confirm, or they can use this link to accept the invitation"),":"):null,s?Vu()("div",{},void 0,s):null,b?Vu()("div",{className:eJ.a.inviteLink},void 0,Vu()(UB,{className:eJ.a.input,name:"inviteLink",value:v,readOnly:"readonly",onChange:sJ}),Vu()(zp,{className:eJ.a.copyLink,kind:Pp,isDisabled:h||!!s,onPress:y},void 0,h?Object(Ze.default)("Copied!"):Object(Ze.default)("Copy link"))):null)),Vu()(AL,{},void 0,Vu()(sV,{},void 0,Vu()(hw,{kind:Pp,onPress:d},void 0,Object(Ze.default)("Finish"))))))};var oJ=Object(Hu.b)((function(){return Object(Wu.a)(e=>e.ui.shareModal,Gw(wt.o),(e,t)=>{const{username:i,metadataItemEntityID:n,serverOverviews:a,selectedAllLibrariesMachineIdentifiers:s,selectedLibrarySectionIDs:r,inviteToken:o,inviteTokenError:l}=e;return{username:i,inviteToken:o,inviteTokenError:l,libraryCount:s?s.reduce((e,t)=>e+a.find(e=>e.machineIdentifier===t).sections.length,r.length):null,isSharingSingleItem:!!n,hasNewSharingInvitationFeature:t}})}))(rJ);var lJ=Object(Wu.a)(Zu.a,e=>e.desktop);const cJ={};var dJ=Object(Wu.a)(Gu,e=>e.homeUsers);var uJ=Object(Wu.a)(Zu.a,e=>e.allFriends);function pJ(e){var t=e["aria-label"],i=e.className,n=e.style,a={viewBox:"0 0 129 100",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-check"};a["aria-hidden"]=!t,a.style=n,a.className=Ad.a.plexIcon+(i?" "+i:"");var s=[Nd.a.createElement.apply(Nd.a,["path",{d:"m111.162 0l17.838 17.227-79.928 82.773-49.072-52.714 18.136-16.912 31.292 33.558 61.734-63.932"}].concat([]))];return t&&s.unshift(Nd.a.createElement("title",null,t)),Nd.a.createElement.apply(Nd.a,["svg",a].concat(s))}pJ.propTypes={"aria-label":vc.a.string,className:vc.a.string,style:vc.a.object};var hJ=pJ,mJ=i("+GYj"),gJ=i.n(mJ);const{useMemo:vJ}=Nd.a;function yJ(){return sA().map(e=>({[e.identifier]:e.title}))}function fJ(e){const{className:t,name:i,value:n,hasPlexPass:a,onChange:s}=e,r=vJ(yJ,[]);return Vu()("div",{},void 0,Vu()(GM,{},void 0,Object(Ze.default)("Restriction Profile")),Vu()(LR,{className:t,name:i,value:n,values:r,size:Fh,onChange:s}),Vu()("div",{className:gJ.a.subtitle},void 0,a?Object(Ze.default)("Younger Kid allows TV-Y, G, TV-G and equivalent; Older Kid allows TV-PG, PG and equivalent; Teen allows TV-13, PG-13 and equivalent. Pick None to choose your own ratings and manage other Media Server permissions."):Object(Ze.default)("Younger Kid allows TV-Y, G, TV-G and equivalent; Older Kid allows TV-PG, PG and equivalent; Teen allows TV-13, PG-13 and equivalent. With a Plex Pass, you can choose your own ratings and manage other Media Server permissions.")))}fJ.defaultProps={className:gJ.a.input};var bJ=IB(fJ);function IJ(e){var t=e["aria-label"],i=e.className,n=e.style,a={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-sharing-user-home-560"};a["aria-hidden"]=!t,a.style=n,a.className=Ad.a.plexIcon+(i?" "+i:"");var s=[Nd.a.createElement.apply(Nd.a,["path",{d:"M532 504H319.2V352.8h-78.4V504H28V280L280 28l252 252v224zm-168-44.8h123.2V298.557L280 91.357l-207.2 207.2V459.2H196V308h168v151.2z"}].concat([]))];return t&&s.unshift(Nd.a.createElement("title",null,t)),Nd.a.createElement.apply(Nd.a,["svg",a].concat(s))}IJ.propTypes={"aria-label":vc.a.string,className:vc.a.string,style:vc.a.object};var SJ=IJ,CJ=i("czqj"),MJ=i.n(CJ);const{Component:DJ}=Nd.a;var PJ=Vu()(tf,{});var OJ=class extends DJ{constructor(...e){super(...e),this.onPress=()=>{this.props.onSelect(this.props.user.id)}}render(){const{serverEntityID:e,user:t,isSelected:i}=this.props,{title:n,email:a,thumb:s,home:r}=t,o=a&&a!==n;return Vu()(hw,{className:i?MJ.a.selectedButton:MJ.a.button,onPress:this.onPress},void 0,Vu()(rC,{className:MJ.a.avatar,serverEntityID:e,url:s,width:30,height:30}),Vu()("div",{className:MJ.a.titleContainer},void 0,Vu()("span",{className:MJ.a.title},void 0,n),o?Vu()("span",{className:MJ.a.email},void 0,PJ,a):null),i?Vu()(hJ,{className:MJ.a.selectedIcon}):null,Vu()(SJ,{className:r?MJ.a.visibleHomeIcon:MJ.a.homeIcon}))}},jJ=i("UcbN"),wJ=i.n(jJ);function TJ(e){const{className:t,serverEntityID:i,users:n,isUserSelected:a,onUserSelect:s}=e;return Vu()(ih,{className:t,autoScroll:!0},void 0,n.map(e=>Vu()(OJ,{serverEntityID:i,user:e,isSelected:a(e),onSelect:s},e.id)))}TJ.defaultProps={className:wJ.a.list};var EJ=TJ,NJ=i("8n2K"),xJ=i.n(NJ);const{Component:AJ,Fragment:LJ}=Nd.a;function kJ(e){return e.includes("@")}function RJ(e,t){return!e.home&&t.home?1:e.home&&!t.home?-1:0}function zJ(e){return{id:-1,title:e.trim(),thumb:"https://plex.tv/users/"+encodeURIComponent(e)+"/avatar"}}var UJ=class extends AJ{static getDerivedStateFromProps(e,t){return t.isChangingUsername&&e.isUsernameValidating?{isChangingUsername:!1}:null}constructor(e,t){super(e,t),this._timeoutID=void 0,this.isUserSelected=e=>this.state.selectedFriendID===e.id||!this.state.selectedFriendID&&this.state.username===e.title,this.onUsernameChange=e=>{this._clearOnUsernameChangeTimeout(),this.setState({username:e,selectedFriendID:null,isChangingUsername:!0},()=>{this.props.isCreatingManagedUser||(this._timeoutID=window.setTimeout(()=>{this._timeoutID=null,this.props.onValidateUsername({username:e})},500))})},this.onUserSelect=e=>{this.setState({selectedFriendID:e===this.state.selectedFriendID?null:e})},this.onRestrictionProfileSelect=e=>{this.setState({restrictionProfileIdentifier:e})},this.onSubmit=({restrictionProfileIdentifier:e})=>{const{metadataItemEntityID:t,users:i,isAddingHomeUser:n,isCreatingManagedUser:a,onSetUsername:s,onSetUser:r}=this.props,{username:o,selectedFriendID:l}=this.state;if(!l||-1===l)s({metadataItemEntityID:t,username:o.trim(),restrictionProfileIdentifier:e,isAddingHomeUser:n,isCreatingManagedUser:a});else{r({metadataItemEntityID:t,friendEntityID:i.find(e=>e.id===l).entityID,isAddingHomeUser:n})}},this.state={username:e.username,selectedFriendID:null,isChangingUsername:!1,restrictionProfileIdentifier:e.restrictionProfileIdentifier}}componentWillUnmount(){this._clearOnUsernameChangeTimeout()}_clearOnUsernameChangeTimeout(){this._timeoutID&&window.clearTimeout(this._timeoutID)}render(){const{serverEntityID:e,sourceDirectory:t,metadataItem:i,users:n,existingHomeUsernames:a,hasNextStep:s,hasPlexPass:r,isAddingHomeUser:o,isCreatingManagedUser:l,isUsernameValidating:c,isUsernameValidated:d,isSharingPending:u,sharingError:p,onModalClose:h}=this.props,{username:m,selectedFriendID:g,isChangingUsername:v,restrictionProfileIdentifier:y}=this.state,f=function(e,t,i){const{sourceDirectory:n,metadataItem:a,isAddingHomeUser:s,isCreatingManagedUser:r}=i,o=t.trim().toUpperCase(),l=e.filter(e=>(!s||!e.home)&&(!!(n||a||s||r)&&(e.username&&e.username.toUpperCase().includes(o)||e.title&&e.title.toUpperCase().includes(o)||e.email&&e.email.toUpperCase().includes(o))));return l.sort(RJ),l}(n,m,this.props),b=!d||v||function(e,t){return!!e.find(e=>e.username===t||e.title===t||e.email===t)}(f,m)?f:[zJ(m),...f],I=!c&&!d,S=!!n.find(e=>e.username===m||e.email===m),C=v||c||I&&!kJ(m),M=""!==m.trim()&&!l&&0===b.length&&I&&!v,D=l&&a.includes(m.trim()),P=S&&!t&&!i&&!o&&!l;let O;var j;let w;M?O=kJ(j=m)?Object(Ze.default)("An invite will be sent to {emailAddress}",{emailAddress:j.trim()}):Object(Ze.default)("No Plex users found. Enter a valid email address to invite someone new"):D?O=Object(Ze.default)("A Home user already exists with this name"):P&&(O=Object(Ze.default)("{username} is already a friend",{username:m})),w=!i&&s?Object(Ze.default)("Continue"):l?Object(Ze.default)("Add"):Object(Ze.default)("Send");const T=P||!g&&(u||""===m.trim()||!l&&C||D);return Vu()(FM,{className:xJ.a.form,onSubmit:this.onSubmit},void 0,Vu()(XY,{metadataItem:i,isAddingHomeUser:o,isCreatingManagedUser:l,isSharingSingleLibrary:!!t,errorMessage:p,onModalClose:h},void 0,Vu()(wL,{className:xJ.a.modalBody,scrollDirection:Zp},void 0,Vu()("div",{className:xJ.a.messages},void 0,Vu()("div",{},void 0,function(e,t){return e?Object(Ze.default)("Users in your Home appear on the Switch User screen."):t?Object(Ze.default)("Managed users are only available when signed in with an account in your home."):Object(Ze.default)("Choose a user to invite. You can enter their Plex username or email.")}(o,l)),Vu()("div",{},void 0,function(e,t){return e?Object(Ze.default)("The invited user will be asked to confirm Home membership."):t?Object(Ze.default)("You can choose any name you like and you'll be able to set restrictions on accessible media."):Object(Ze.default)("New users will be asked to accept the invitation.")}(o,l))),Vu()("div",{className:xJ.a.inputContainer},void 0,Vu()(UB,{name:"username",autoComplete:"off",placeholder:l?Object(Ze.default)("Username"):Object(Ze.default)("Username or email"),value:m,focusOnMount:!0,onChange:this.onUsernameChange}),c?Vu()(Jh,{className:xJ.a.icon,size:Fh}):null,d?Vu()(hJ,{className:xJ.a.checkIcon}):null),Vu()("div",{className:xJ.a.warningMessage},void 0,O),l?Vu()(bJ,{name:"restrictionProfileIdentifier",className:xJ.a.restrictionsInput,initialValue:y,hasPlexPass:r,onChange:this.onRestrictionProfileSelect}):null,!l&&b.length>0?Vu()(LJ,{},void 0,Vu()(GM,{},void 0,Object(Ze.default)("Users")),Vu()(EJ,{className:xJ.a.list,serverEntityID:e,users:b,isUserSelected:this.isUserSelected,onUserSelect:this.onUserSelect})):null),Vu()(AL,{},void 0,Vu()(sV,{},void 0,Vu()(hw,{onPress:h},void 0,Object(Ze.default)("Cancel")),Vu()(hV,{type:"submit",kind:Pp,isDisabled:T,isSpinning:u},void 0,w)))))}};const VJ=Nd.a.createElement,{useEffect:BJ}=Nd.a,FJ=Object(Wu.a)(dJ,function(e){if(cJ[e])return cJ[e];const t=Object(Wu.a)(lJ,t=>t[e]);return cJ[e]=t,t}("homeUsers"),(e,t)=>t.map(t=>e[t].title));const HJ={dispatchFetchAllFriends:wA,onValidateUsername:RY,onSetUsername:zY,onSetUser:UY};var _J=Object(Hu.b)((function(){return Object(Wu.a)(e=>e.ui.shareModal,uJ,rq,FJ,bg("hasPlexPass"),(e,t,i,n,a)=>{const{steps:s,username:r,restrictionProfileIdentifier:o,isNewFriend:l,isUsernameValidating:c,isUsernameValidated:d,isSharingPending:u,sharingError:p}=e;return{username:r,restrictionProfileIdentifier:o,users:t.map(e=>i[e]),existingHomeUsernames:n,hasNextStep:ZY(s,sY),hasPlexPass:a,isNewFriend:l,isUsernameValidating:c,isUsernameValidated:d,isSharingPending:u&&!p,sharingError:p}})}),HJ)((function(e){const{dispatchFetchAllFriends:t}=e,i=Xe()(e,["dispatchFetchAllFriends"]);return BJ(()=>{t()},[t]),VJ(UJ,i)}));const WJ=Nd.a.createElement,{Component:QJ}=Nd.a;const GJ={dispatchInitShareModal:xY,dispatchResetShareModal:AY};var KJ=Object(Hu.b)((function(){return Object(Wu.a)(e=>e.ui.shareModal,$K(),(e,t)=>({steps:e.steps,step:e.step,friendEntityID:e.friendEntityID,isSharingCompleted:e.isSharingCompleted,metadataItem:t}))}),GJ)(class extends QJ{componentDidMount(){const{metadataItemEntityID:e,isAddingHomeUser:t,isCreatingManagedUser:i,dispatchInitShareModal:n}=this.props;n({metadataItemEntityID:e,isAddingHomeUser:t,isCreatingManagedUser:i})}componentDidUpdate(e,t){const{steps:i,step:n,isSharingCompleted:a,onModalClose:s}=this.props,r=!e.isSharingCompleted&&a,o=qY(i,n);r&&n!==lY&&!o&&s()}componentWillUnmount(){this.props.dispatchResetShareModal()}render(){const e=this.props,{step:t}=e,i=Xe()(e,["step","dispatchResetShareModal"]);switch(t){case aY:return WJ(aq,i);case sY:return WJ(_J,i);case rY:return WJ(Eq,i);case oY:return WJ(JZ,i);case lY:return WJ(oJ,i);default:return null}}});var YJ=function(e){const{serverEntityID:t,metadataItemEntityID:i,sourceDirectory:n,metricsProperties:a,isAddingHomeUser:s,isCreatingManagedUser:r,isOpen:o,onModalClose:l}=e;return Vu()(Fw,{metricsPage:zd.nb,metricsProperties:a,isOpen:o,onModalClose:l},void 0,Vu()(KJ,{serverEntityID:t,metadataItemEntityID:i,sourceDirectory:n,isAddingHomeUser:s,isCreatingManagedUser:r,onModalClose:l}))};const qJ=Nd.a.createElement,{Fragment:ZJ,useCallback:JJ,useState:XJ}=Nd.a;var $J=function(e){const{serverEntityID:t,isLibraryRefreshing:i,onUpdatePress:n,onCancelUpdatePress:a,onAnalyzePress:s,onRefreshAllPress:r,onEmptyTrashPress:o,onDeletePress:l,onMenuClose:c}=e,d=Xe()(e,["serverEntityID","isLibraryRefreshing","onUpdatePress","onCancelUpdatePress","onAnalyzePress","onRefreshAllPress","onEmptyTrashPress","onDeletePress","onMenuClose"]),u=XJ(!1),p=u[1],h=u[0],m=JJ(()=>p(!0),[]),g=JJ(()=>{p(!1)},[]);return Vu()(ZJ,{},void 0,qJ(Qv,tp()({onMenuClose:c},d),Vu()(Zv,{onPress:m},void 0,Object(Ze.default)("Share")),i?Vu()(Zv,{onPress:Cb(c,a)},void 0,Object(Ze.default)("Cancel Scan")):Vu()(Zv,{onPress:Cb(c,n)},void 0,Object(Ze.default)("Scan Library Files")),Vu()(Zv,{onPress:Cb(c,s)},void 0,Object(Ze.default)("Analyze")),Vu()(Zv,{onPress:Cb(c,r)},void 0,Object(Ze.default)("Refresh All Metadata")),Vu()(Zv,{onPress:Cb(c,o)},void 0,Object(Ze.default)("Empty Trash")),Vu()(Zv,{kind:Op,onPress:Cb(c,l)},void 0,Object(Ze.default)("Delete"))),Vu()(YJ,{metricsProperties:{context:_t.SETTINGS},serverEntityID:t,isOpen:h,onModalClose:g}))};function eX(e){var t=e["aria-label"],i=e.className,n=e.style,a={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-more-vertical-560"};a["aria-hidden"]=!t,a.style=n,a.className=Ad.a.plexIcon+(i?" "+i:"");var s=[Nd.a.createElement.apply(Nd.a,["path",{d:"M350 280c0 38.634-31.366 70-70 70s-70-31.366-70-70 31.366-70 70-70 70 31.366 70 70m0-210c0 38.634-31.366 70-70 70s-70-31.366-70-70 31.366-70 70-70 70 31.366 70 70m0 420c0 38.634-31.366 70-70 70s-70-31.366-70-70 31.366-70 70-70 70 31.366 70 70"}].concat([]))];return t&&s.unshift(Nd.a.createElement("title",null,t)),Nd.a.createElement.apply(Nd.a,["svg",a].concat(s))}eX.propTypes={"aria-label":vc.a.string,className:vc.a.string,style:vc.a.object};var tX=eX,iX=i("4DQJ"),nX=i.n(iX);const{Component:aX}=Nd.a;var sX=class extends aX{static getDerivedStateFromProps(e,t){return e.isLibraryDeleteInProgress!==t.isLibraryDeleteInProgress?!e.isLibraryDeleteInProgress&&t.isLibraryDeleteInProgress&&t.isDeleteModalOpen?{isDeleteModalOpen:!1,isLibraryDeleteInProgress:e.isLibraryDeleteInProgress}:{isLibraryDeleteInProgress:e.isLibraryDeleteInProgress}:null}constructor(e,t){super(e,t),this._actionsMenuButtonID=void 0,this.onActionsPress=()=>{this.setState({isActionsMenuOpen:!this.state.isActionsMenuOpen})},this.onActionsMenuClose=()=>{this.setState({isActionsMenuOpen:!1})},this.onAnalyzePress=()=>{this.setState({isAnalyzeModalOpen:!0})},this.onAnalyzeConfirm=()=>{this.setState({isAnalyzeModalOpen:!1}),this.props.onAnalyzeLibraryPress()},this.onAnalyzeCancel=()=>{this.setState({isAnalyzeModalOpen:!1})},this.onRefreshAllPress=()=>{this.setState({isRefreshAllModalOpen:!0})},this.onRefreshAllConfirm=()=>{this.setState({isRefreshAllModalOpen:!1}),this.props.onRefreshLibraryPress()},this.onRefreshAllCancel=()=>{this.setState({isRefreshAllModalOpen:!1})},this.onEmptyTrashPress=()=>{this.setState({isEmptyTrashModalOpen:!0})},this.onEmptyTrashConfirm=()=>{this.setState({isEmptyTrashModalOpen:!1}),this.props.onEmptyTrashLibraryPress()},this.onEmptyTrashCancel=()=>{this.setState({isEmptyTrashModalOpen:!1})},this.onDeletePress=()=>{this.setState({isDeleteModalOpen:!0})},this.onDeleteConfirm=()=>{this.props.onDeleteLibraryPress()},this.onDeleteCancel=()=>{this.setState({isDeleteModalOpen:!1})},this.state={isActionsMenuOpen:!1,isAnalyzeModalOpen:!1,isRefreshAllModalOpen:!1,isEmptyTrashModalOpen:!1,isDeleteModalOpen:!1},this._actionsMenuButtonID=Mp()}render(){const{serverEntityID:e,rowIndex:t,title:i,route:n,type:a,refreshing:s,isLibraryDeleteInProgress:r,onUpdateLibraryPress:o,onCancelUpdateLibraryPress:l,onEditLibraryPress:c}=this.props,{isActionsMenuOpen:d}=this.state,u=Object(Ze.default)("Edit {library}",{library:i}),p=eK(a);return Vu()("div",{className:((t%2?nX.a.alternateContainer:nX.a.container)||"")+" "+(d&&nX.a.isActionsMenuOpen||"")},void 0,Vu()(zp,{className:nX.a.underlay,title:u,onPress:c}),Vu()("div",{className:nX.a.titleContainer},void 0,Vu()("div",{className:nX.a.iconContainer},void 0,s?Vu()(Jh,{className:nX.a.spinner}):Vu()(p,{})),Vu()(zp,{className:nX.a.title,title:i,to:n},void 0,i)),Vu()("div",{className:nX.a.actions},void 0,Vu()(zp,{className:nX.a.action,title:u,onPress:c},void 0,Object(Ze.default)("Edit")),Vu()(JK,{id:this._actionsMenuButtonID,className:nX.a.action,iconComponent:tX,title:Object(Ze.default)("More Actions"),onPress:this.onActionsPress}),Vu()($J,{target:this._actionsMenuButtonID,isOpen:this.state.isActionsMenuOpen,serverEntityID:e,isLibraryRefreshing:s,onMenuClose:this.onActionsMenuClose,onUpdatePress:o,onCancelUpdatePress:l,onAnalyzePress:this.onAnalyzePress,onRefreshAllPress:this.onRefreshAllPress,onEmptyTrashPress:this.onEmptyTrashPress,onDeletePress:this.onDeletePress}),Vu()(F_,{isOpen:this.state.isAnalyzeModalOpen,metricsPage:zd.g,title:Object(Ze.default)("Analyze Library"),message:Object(Ze.default)("Analyzes all the media files in the library. The analysis captures information about the media which helps Plex decide how to optimally play back the media."),confirmLabel:Object(Ze.default)("Analyze"),onConfirm:this.onAnalyzeConfirm,onCancel:this.onAnalyzeCancel}),Vu()(F_,{isOpen:this.state.isRefreshAllModalOpen,metricsPage:zd.q,title:Object(Ze.default)("Refresh All Metadata"),message:Object(Ze.default)("Forces a download of fresh media information from the internet. This can take a long time. Any locked fields are not modified."),confirmLabel:Object(Ze.default)("Refresh"),onConfirm:this.onRefreshAllConfirm,onCancel:this.onRefreshAllCancel}),Vu()(F_,{isOpen:this.state.isEmptyTrashModalOpen,metricsPage:zd.p,title:Object(Ze.default)("Empty Trash"),message:Object(Ze.default)("By default the media server doesn't remove information for media right away. This helps if a drive is temporarily disconnected. When you empty the trash for a section, all information about missing media is deleted."),confirmLabel:Object(Ze.default)("Empty"),onConfirm:this.onEmptyTrashConfirm,onCancel:this.onEmptyTrashCancel}),Vu()(F_,{isOpen:this.state.isDeleteModalOpen,isConfirmButtonSpinning:r,isCancelButtonDisabled:r,metricsPage:zd.l,kind:Op,title:Object(Ze.default)("Delete Library"),message:Object(Ze.default)('The library "{libraryName}" will be removed from this server. Your media files will not be affected. This can\'t be undone. Continue?',{libraryName:i}),accordMessage:Object(Ze.default)('Yes, delete the library "{libraryName}"',{libraryName:i}),confirmLabel:Object(Ze.default)("Delete"),onConfirm:this.onDeleteConfirm,onCancel:this.onDeleteCancel})))}};var rX=kK((function(){return Object(Wu.a)(TK(),Object(Wu.a)(_S(),HS(),QK(),TK(),(e,t,i,n)=>Xt(e,t,GK(i,n.key))),AK(),(e,t,i)=>({title:e.title,route:t,type:UQ(e),refreshing:e.refreshing,isLibraryDeleteInProgress:!!i}))}),(function(e,t){const i={serverEntityID:t.serverEntityID,libraryEntityID:t.libraryEntityID,metricsPage:t.metricsPage};return{onUpdateLibraryPress(){e(RK(i))},onCancelUpdateLibraryPress(){e(HK(i))},onEditLibraryPress(){e(zK(i))},onAnalyzeLibraryPress(){e(UK(i))},onRefreshLibraryPress(){e(FK(i))},onEmptyTrashLibraryPress(){e(VK(i))},onDeleteLibraryPress(){e(BK(i))}}}))(sX),oX=i("oKl5"),lX=i.n(oX);const{Fragment:cX}=Nd.a;var dX=function(e){const{serverEntityID:t,providerEntityID:i,libraryEntityIDs:n,sectionTypeTitle:a}=e;return Vu()(cX,{},void 0,Vu()("div",{className:lX.a.title},void 0,a),Vu()("div",{className:lX.a.divider}),n.map((e,n)=>Vu()(rX,{serverEntityID:t,providerEntityID:i,libraryEntityID:e,rowIndex:n},e)))},uX=i("PZgO"),pX=i.n(uX);const{Fragment:hX}=Nd.a;var mX=Vu()(dh,{},void 0,Vu()(Jh,{}));var gX=function(e){const{serverEntityID:t,providerEntityID:i,sectionTypes:n,librariesBySectionType:a,librariesCount:s,isLibrariesPopulated:r,librariesError:o,isLibraryRefreshing:l,onAddLibraryPress:c,onCancelUpdatePress:d,onUpdateLibrariesPress:u}=e;return o&&!s?Vu()(vh,{title:Object(Ze.default)("There was an unexpected error loading libraries.")}):r||o?Vu()(hX,{},void 0,Vu()("div",{className:pX.a.header},void 0,Vu()("div",{className:pX.a.headerTitle},void 0,Object(Ze.default)("{librariesCount} Libraries",{librariesCount:s})),Vu()("div",{},void 0,Vu()(hw,{className:pX.a.button,size:Fh,onPress:c},void 0,Object(Ze.default)("Add library")),l?Vu()(hw,{className:pX.a.button,size:Fh,onPress:d},void 0,Object(Ze.default)("Cancel scan")):Vu()(hw,{className:pX.a.button,size:Fh,onPress:u},void 0,Object(Ze.default)("Scan library files")))),n.map(e=>{const n=a[e.key];return n?Vu()(dX,{serverEntityID:t,providerEntityID:i,libraryEntityIDs:n,sectionTypeTitle:e.title},e.key):null})):mX};const vX=Nd.a.createElement,{Component:yX}=Nd.a;var fX=Object(Hu.b)((function(){return Object(Wu.a)(RQ(),wK(),Object(Wu.a)(kQ(),e=>e.reduce((e,t)=>{const i=UQ(t);return e[i]?e[i].push(t.entityID):e[i]=[t.entityID],e},{})),(e,t,i)=>({sectionTypes:zQ.g.getAll(),librariesBySectionType:i,librariesCount:e.libraries.length,isLibrariesPopulated:e.isLibrariesPopulated,librariesError:e.librariesError,isLibraryRefreshing:t}))}),(function(e,t){const i={serverEntityID:t.serverEntityID};return{dispatchFetchLibraries(){e(_i(i))},onAddLibraryPress(){e(gK(Object.assign({},i,{redirect:!1})))},onUpdateLibrariesPress(){e(vK(i))},onCancelUpdatePress(){e(DK(i))}}}))(class extends yX{componentDidMount(){this.props.dispatchFetchLibraries()}render(){const e=this.props,t=Xe()(e,["dispatchFetchLibraries"]);return vX(gX,t)}}),bX=i("EhJz"),IX=i("dndX");function SX(e,t,i){if(!t)return null;const n=new Date(t);if(!Object(RT.a)(n))return-1;const a=n.getTime();let s,r=0,o=e.length-1;for(;r<=o;){s=Math.floor((r+o)/2);const t=e[s],n=e[s+1],l=new Date(t.time).getTime();if(!n)return a>l?s:s+1;if(a===l)return i<s?s:s+1;const c=new Date(n.time).getTime();if(a>l&&a<c)return s+1;a>l?r=s+1:a<l&&(o=s-1)}return Math.max(0,s)}function CX(e){return Object(zT.a)(e,"MMM dd, yyyy HH:mm:ss.SSS",new Date)}const MX="ui/serverLogPageActions/clearLog",DX="ui/serverLogPageActions/toggleRaw",PX=Object(Pi.a)("ui/serverLogPageActions/changeTextFilter"),OX=Object(Pi.a)("ui/serverLogPageActions/changeTimeFilter"),jX=Object(Pi.a)("ui/serverLogPageActions/clearFilter"),wX=Object(Pi.a)("ui/serverLogPageActions/addLogLine"),TX=Object(Pi.a)("ui/serverLogPageActions/resetLogLevels"),EX=Object(Pi.a)("ui/serverLogPageActions/toggleLogLevel"),NX=Object(Pi.a)(MX),xX=Object(Pi.a)("ui/serverLogPageActions/loadLogfile"),AX=Object(Pi.a)("ui/serverLogPageActions/toggleTimeFilter"),LX=Object(Pi.a)(DX),kX=Object(Pi.a)("ui/serverLogPageActions/highlightLine");function RX(e,t,i){t.all||(t.all=[]),e.index=t.all.length;return VX(e,{filter:i.get("filter"),timeFilterStart:i.get("timeFilterStart"),timeFilterEnd:i.get("timeFilterEnd"),logLevels:i.get("logLevels")})?t.filtered&&t.filtered.push(e):t.filtered||(t.filtered=t.all.slice(0)),t.all.push(e),t}function zX(e){return e.get("ui").get("serverLogPage")}function UX(e){return e.split(/\s+/).map(e=>new RegExp(J(e),"i"))}function VX(e,t){const{filter:i,timeFilterStart:n,timeFilterStartIndex:a,timeFilterEnd:s,timeFilterEndIndex:r,logLevels:o}=t;if(!(!o.length||-1!==o.indexOf(e.level)))return!1;if(n||null!=a||s||null!=r){let t,i,o;if(null!=a&&null!=r||(t=CX(e.time),null==a&&(i=n&&CX(n)),null==r&&(o=s&&CX(s))),null!=a&&a>e.index||null!=r&&r<e.index||i&&Object(bX.a)(i,t)||o&&Object(IX.a)(o,t))return!1}if(!i)return!0;return(t.regexps||UX(i)).every(t=>t.test(e.message)||t.test(e.thread))}function BX(e){const t=e.get("filter"),i=e.get("timeFilterStart"),n=e.get("timeFilterEnd"),a=e.get("logLevels"),s=e._unfilteredLogLines,r=SX(s,i,-1/0);const o=function(e,t){return SX(e,t,1/0)}(s,n),l=function(e,t){const i=UX(t.filter);return e.filter(e=>VX(e,Object.assign({},t,{regexps:i})))}(s,{logLevels:a,filter:t,timeFilterStart:i,timeFilterStartIndex:-1===r?null:r,timeFilterEndIndex:-1===o?null:o,timeFilterEnd:n});e.set({logLines:l,unfilteredLogLinesCount:s.length,isTimeFilterStartValid:-1!==r,isTimeFilterEndValid:-1!==o})}const FX=/^([^[]+)\[([^\]]+)]\s+([^\s]+)\s+-\s+(.*)/,HX={ERROR:0,WARN:1,INFO:2,DEBUG:3,VERBOSE:4};function _X(e){if(!e)return null;const t=e.match(FX),[,i,n,a,s]=t;return{time:i.trim(),thread:n.trim(),level:HX[a],message:s.trim()}}var WX=Sk({"ui/serverLogPageActions/addLogLine"(e,t){const{message:i}=t,n=zX(e);n._unfilteredLogLines||(n._unfilteredLogLines=[]);const a=n.get("logLines").length!==n._unfilteredLogLines.length,s=a?n.get("logLines"):null,r=a?s.length:null,o=RX(i,{all:n._unfilteredLogLines.slice(0),filtered:s},n);o.filtered&&o.filtered.length!==r&&(o.filtered=o.filtered.slice(0)),n._unfilteredLogLines=o.all,n.set({unfilteredLogLinesCount:o.all.length,logLines:o.filtered||o.all})},"ui/serverLogPageActions/changeTextFilter"(e,t){const i=zX(e),{filter:n}=t;i.set({filter:n}),BX(i)},"ui/serverLogPageActions/changeTimeFilter"(e,t){const i=zX(e),{timeFilterStart:n,timeFilterEnd:a}=t;i.set({showTimeFilter:!(!n&&!a),timeFilterStart:n,timeFilterEnd:a}),BX(i)},"ui/serverLogPageActions/clearFilter"(e){const t=zX(e);t.set({filter:"",timeFilterStart:"",timeFilterEnd:"",logLevels:[]}),BX(t)},"ui/serverLogPageActions/resetLogLevels"(e){const t=zX(e);t.set({logLevels:[]}),BX(t)},"ui/serverLogPageActions/toggleLogLevel"(e,t){const i=zX(e),n=i.get("logLevels"),a=n.slice(0),s=n.indexOf(t.logLevel);-1===s?a.push(t.logLevel):a.splice(s,1),i.set({logLevels:a}),BX(i)},[MX](e){const t=zX(e);t.set({logLines:[],unfilteredLogLinesCount:0,highlightedLineIndex:null,showRawText:!1}),t._unfilteredLogLines=[]},"ui/serverLogPageActions/loadLogfile"(e,t){const{result:i}=t,n=zX(e);let a={all:[]};n.set({logLines:[],unfilteredLogLinesCount:0});try{i.split(/\n+/).map(_X).forEach(e=>{e&&(a=RX(e,a,n))}),n._unfilteredLogLines=a.all,n.set({unfilteredLogLinesCount:a.all.length,logLines:a.filtered||a.all})}catch(e){}},"ui/serverLogPageActions/toggleTimeFilter"(e){const t=zX(e),i=t.get("showTimeFilter");t.set({timeFilterStart:"",timeFilterEnd:"",showTimeFilter:!i}),BX(t)},[DX](e){const t=zX(e);t.set("showRawText",!t.get("showRawText"))},"ui/serverLogPageActions/highlightLine"(e,t){zX(e).set("highlightedLineIndex",t.index)}});const QX="available",GX="done",KX="downloaded",YX="downloading",qX="error",ZX="installing",JX="none",XX="notify";var $X=function(e,t){return(-1===t.indexOf(e.type)?[]:function(e){switch(e.type){case"preference":return e.Setting;case"timeline":return e.TimelineEntry;case"status":return e.StatusNotification;case"progress":return e.ProgressNotification;case"playing":return e.PlaySessionStateNotification;case"syncState":return e.SyncStateNotification;case"backgroundGeneratorState":return e.BackgroundGeneratorStateNotification;case"versionState":return e.VersionStateNotification;case"backgroundProcessingQueue":return e.BackgroundProcessingQueueEventNotification;case"transcodeSession.start":case"transcodeSession.update":case"transcodeSession.end":return e.TranscodeSession;case"update.statechange":return e.AutoUpdateNotification;case"reachability":return e.ReachabilityNotification;case"account":return e.AccountUpdateNotification;case"activity":return e.ActivityNotification;case"grabber.device":return e.MediaGrabberDeviceNotification;case"provider.change":return e.MediaProviderNotification;case"provider.content.change":return e.MediaProviderContentNotification;case"log":return e.LogSentNotification;case"provider.subscription.change":return e.MediaProviderSubscriptionNotification;case"clientDecision":return e.ClientDecisionRequestEventNotification}}(e))||[]};var e$=Ee.a.extend({mixins:Ne.a,url(){const e=this.server.get("activeConnection");if(!e)return;const t=e.id.replace(/^http/,"ws");return this.server.resolveUrl("/:/websockets/notifications",{connection:new Ve({uri:t}),appendToken:!0,appendHeaders:this.appendHeaders})},initialize(e){I.a.bindAll(this,"onOpen","onClose","onError","onMessage","getMessageTypes"),this.server=e.server,this.appendHeaders=e.appendHeaders||!1},open(){this.socket&&this.close(),this._deferred=D.a.Deferred();const e=I.a.result(this,"url");return e?(this.socket=new window.WebSocket(e),this.socket.onopen=this.onOpen,this.socket.onclose=this.onClose,this.socket.onerror=this.onError,this.socket.onmessage=this.onMessage,this._deferred.promise()):this._deferred.reject().promise()},close(){this.socket&&(this.socket.onopen=null,this.socket.onclose=null,this.socket.onerror=null,this.socket.onmessage=null,this.socket.close(),this.socket=null,this._deferred&&"pending"===this._deferred.state()&&this._deferred.reject())},testConnection(){if(!this.server.get("connected"))return;const e=this.server.get("desktop").get("update");e&&e.get("state")===ZX&&this.server.set("connected",null),this.server.trigger("error:connection",this.server)},onOpen(e){const t=ne.c("appStore"),i=this.server.entityID();i&&t.dispatch(Bi({serverEntityID:i,event:e})),this.server.trigger("socket:websocket",{opened:!0}),this.trigger("open",this.server,e),this._deferred.resolve(this.server,e)},onClose(e){this.close();const t=ne.c("appStore"),i=this.server.entityID();i&&t.dispatch(Fi({serverEntityID:i,event:e})),this.server.trigger("socket:websocket",{closed:!0}),this.trigger("close",this.server,e),this._deferred.reject(this.server,e),this.testConnection()},onError(e){this.close(),this.server.trigger("socket:websocket",{error:!0}),this.trigger("error",this.server,e),this._deferred.reject(this.server,e),this.testConnection()},onMessage(e){let t;try{t=JSON.parse(e.data)}catch(t){return void C.a.warn("[Connections] Error formatting message:\n%s",e.data)}const i=!!t._elementType,n=i?I.a.first(t._children):t.NotificationContainer;if(n){const e=this[i?t.type:n.type];let a;a=i?Array.isArray(n)?n:[n]:$X(n,this.getMessageTypes()),a.forEach(t=>{this.trigger("message",t),I.a.isFunction(e)&&e.call(this,t)})}}});const t$=["log"];var i$=e$.extend({name:"MediaServerLogEventConnection",url(){const e=this.server.get("activeConnection").id.replace(/^http/,"ws");return this.server.resolveUrl("/:/websockets/notifications",{params:{filters:"log"},connection:new Ve({uri:e}),appendToken:!0})},getMessageTypes:()=>t$,log(e){Object(ne.c)("appStore").dispatch(wX({message:e,serverEntityID:this.server.entityID()}))}});const n$=Nd.a.createElement;var a$=function(e){const{children:t}=e,i=Xe()(e,["children"]);return n$(vh,tp()({title:Object(Ze.default)("There was an unexpected error"),description:Object(Ze.default)("Please visit our forums if you continue to experience problems")},i),Vu()(zp,{to:Up,target:"_self",kind:Pp},void 0,Object(Ze.default)("Go to Forums")),t)};const s$=Nd.a.createElement,{Component:r$}=Nd.a;class o$ extends r${constructor(e,t){super(e,t),this._currentScrollTop=void 0,this._positionKey=void 0,this._restoreScroll=void 0,this._restoreScrollDelay=void 0,this._restoreScrollTimeoutID=void 0,this.onScrollPositionChange=({scrollTop:e})=>{this.state.isScrolling||(this._currentScrollTop=e)},this.state={isScrolling:!1},this._positionKey=RO.getKey(e.scrollPositionKey),this._currentScrollTop=0,this._restoreScrollDelay=e.smoothScroll?e.smoothScrollDuration:e.restoreScrollDelay,this._restoreScroll=!1,this._restoreScrollTimeoutID=null}componentDidMount(){this._restoreScrollPosition()}componentDidUpdate(e){const{scrollPositionKey:t}=this.props;e.scrollPositionKey!==t&&(this._positionKey=RO.getKey(t))}componentWillUnmount(){this._storeScrollPosition(),this._restoreScrollTimeoutID&&window.clearTimeout(this._restoreScrollTimeoutID)}_restoreScrollPosition(){const e=RO.get(this._positionKey);e&&(this.setState({isScrolling:!0}),this._currentScrollTop=e.scrollTop,this._restoreScroll=!0,this._restoreScrollTimeoutID=window.setTimeout(()=>{this.setState({isScrolling:!1}),this._restoreScroll=!1},this._restoreScrollDelay))}_storeScrollPosition(){RO.set(this._positionKey,{scrollTop:this._currentScrollTop})}render(){const e=this.props,{children:t,className:i}=e,n=Xe()(e,["children","className","restoreScrollDelay","scrollPositionKey"]);return s$(ih,tp()({className:i,scrollTop:this._currentScrollTop,restoreScroll:this._restoreScroll,onScrollPositionChange:this.onScrollPositionChange},n),t)}}o$.defaultProps={restoreScrollDelay:100,scrollPositionKey:"scrollPosition",smoothScroll:!0,smoothScrollDuration:400};var l$=o$,c$=i("h1VY"),d$=i.n(c$);const u$=Nd.a.createElement;var p$=function(e){const{children:t,metricsPage:i,metricsProperties:n,isMetricsDelegated:a}=e,s=Xe()(e,["children","metricsPage","metricsProperties","isMetricsDelegated"]);return u$(Vw,tp()({},n,{page:i,isDelegated:a}),u$(l$,tp()({className:d$.a.page},s),t))};const h$=Nd.a.createElement,{Component:m$}=Nd.a,g$={dispatchChangeBackground:gQ,dispatchResetBackground:yQ,dispatchGarbageCollectEntities:Kn.u};var v$=Vu()(a$,{});class y$ extends m${constructor(e,t){super(e,t),this.state={hasError:!1}}componentDidMount(){this.props.disableBackgroundPreset||this.props.dispatchChangeBackground({allowLightPreset:this.props.allowBackgroundLightPreset})}componentWillUnmount(){const{dispatchResetBackground:e,dispatchGarbageCollectEntities:t}=this.props;e(),t()}componentDidCatch(e){C.a.error(e),this.setState({hasError:!0})}render(){const e=this.props,t=Xe()(e,["dispatchChangeBackground","dispatchResetBackground","dispatchGarbageCollectEntities","disableBackgroundPreset","allowBackgroundLightPreset"]),{hasError:i}=this.state;return i?v$:h$(p$,t)}}y$.defaultProps={disableBackgroundPreset:!1,allowBackgroundLightPreset:!1};var f$=Object(Hu.b)(null,g$)(y$),b$=i("1GD4"),I$=i.n(b$);const S$=Nd.a.createElement,{Component:C$}=Nd.a;class M$ extends C${render(){const e=this.props,{children:t,tooltip:i,className:n,tooltipAttachment:a,hideOnPress:s,onPress:r}=e,o=Xe()(e,["children","tooltip","className","hasLabel","tooltipAttachment","hideOnPress","onPress"]),l=I$.a[a],c=l+" "+I$.a.hasFocus;return S$(Wb,tp()({className:n,"aria-label":i,component:zp,tooltip:i,tooltipClassName:l,tooltipFocusedClassName:c,hideOnPress:s,onPress:r},o),t)}}M$.defaultProps={className:I$.a.toolbarButton,tooltipAttachment:"bottomCenter"};var D$=M$,P$=i("IV3D"),O$=i.n(P$);const j$=Nd.a.createElement;var w$=function(e){let{children:t}=e,i=Xe()(e,["children"]);return j$("div",tp()({className:O$.a.pageHeader},i),t)},T$=i("MXEh"),E$=i.n(T$);function N$({className:e,children:t}){return Vu()("div",{className:e},void 0,t)}N$.defaultProps={className:E$.a.pageHeaderLeft};var x$=N$,A$=i("HR74"),L$=i.n(A$);function k$({className:e,children:t}){return Vu()("div",{className:e},void 0,t)}k$.defaultProps={className:L$.a.pageHeaderRight};var R$=k$,z$=i("WGvO"),U$=i.n(z$);const V$=Nd.a.createElement,{Component:B$}=Nd.a;class F$ extends B${render(){const e=this.props,{linkClassName:t,buttonClassName:i,children:n,to:a,hasMenu:s,isMenuOpen:r,isSelected:o,isDisabled:l}=e,c=Xe()(e,["linkClassName","buttonClassName","children","to","hasMenu","isMenuOpen","isSelected","isDisabled"]);return s||a?s?V$(Dy,tp()({className:i,"data-qa-id":"typeDropdownButton",isSelected:o,isDisabled:l,direction:r?hy:my},c),n):Vu()(zp,{className:t,to:a,isDisabled:l},void 0,n):Vu()("span",{className:t},void 0,n)}}F$.defaultProps={linkClassName:U$.a.link,buttonClassName:U$.a.button,hasMenu:!1,isMenuOpen:!1,isSelected:!1,isDisabled:!1};var H$=F$,_$=i("iFKP"),W$=i.n(_$);var Q$=function(){return Vu()("div",{className:W$.a.separator})};var G$=[4,3,2,1,0];var K$=function(e){switch(e){case 0:return Object(Ze.default)("Error");case 1:return Object(Ze.default)("Warning");case 2:return Object(Ze.default)("Info");case 3:return Object(Ze.default)("Debug");case 4:return Object(Ze.default)("Verbose");default:return Object(Ze.default)("Unknown")}};const{Component:Y$,Fragment:q$}=Nd.a;var Z$=Vu()(Q$,{});var J$=class extends Y${constructor(e,t){super(e,t),this._buttonID=void 0,this.onMenuPress=()=>{this.setState(e=>({isMenuOpen:!e.isMenuOpen}))},this.onMenuClose=()=>{this.setState({isMenuOpen:!1})},this.onAllPress=()=>{this.props.onResetLogLevels()},this.onLogLevelSelect=e=>{this.props.onToggleLogLevel(e)},this._buttonID=Mp(),this.state={isMenuOpen:!1}}render(){const{logLevels:e}=this.props,{isMenuOpen:t}=this.state;let i;return i=e.length?1===e.length?K$(e[0]):Object(Ze.default)("Custom"):Object(Ze.default)("All"),Vu()(q$,{},void 0,Vu()(H$,{id:this._buttonID,hasMenu:!0,isMenuOpen:t,onPress:this.onMenuPress},void 0,i),Vu()(Qv,{target:this._buttonID,isOpen:t,size:_h,onMenuClose:this.onMenuClose},void 0,Vu()(oy,{isSelected:!e.length,onPress:this.onAllPress},"all",Object(Ze.default)("All")),Z$,G$.map((t,i)=>Vu()(oy,{value:t,isSelected:-1!==e.indexOf(t),onSelect:this.onLogLevelSelect},i,K$(t)))))}};const X$=Object(Wu.a)(e=>e.ui.serverLogPage.logLevels,e=>({logLevels:e}));var $$=Object(Hu.b)(X$,(function(e,t){const{serverEntityID:i}=t;return{onResetLogLevels(){e(TX({serverEntityID:i}))},onToggleLogLevel(t){e(EX({serverEntityID:i,logLevel:t}))}}}))(J$);function e0(e){var t=e["aria-label"],i=e.className,n=e.style,a={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-circle-backslash-560"};a["aria-hidden"]=!t,a.style=n,a.className=Ad.a.plexIcon+(i?" "+i:"");var s=[Nd.a.createElement.apply(Nd.a,["g",void 0].concat([Nd.a.createElement.apply(Nd.a,["path",{d:"M280 518C148.56 518 42 411.44 42 280S148.56 42 280 42s238 106.56 238 238-106.56 238-238 238m0-42c108.25 0 196-87.75 196-196S388.25 84 280 84 84 171.75 84 280s87.75 196 196 196"}].concat([])),Nd.a.createElement.apply(Nd.a,["path",{d:"M157.246 125.568l277.186 277.186-31.678 31.678-277.186-277.186"}].concat([]))]))];return t&&s.unshift(Nd.a.createElement("title",null,t)),Nd.a.createElement.apply(Nd.a,["svg",a].concat(s))}e0.propTypes={"aria-label":vc.a.string,className:vc.a.string,style:vc.a.object};var t0=e0;function i0(e){var t=e["aria-label"],i=e.className,n=e.style,a={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-timer-560"};a["aria-hidden"]=!t,a.style=n,a.className=Ad.a.plexIcon+(i?" "+i:"");var s=[Nd.a.createElement.apply(Nd.a,["path",{d:"M364 84h-56v29.99c1.22.173 2.437.36 3.653.558 8.207 1.334 16.33 3.195 24.298 5.567 8.232 2.452 16.3 5.45 24.137 8.966 9.732 4.368 19.104 9.535 27.995 15.428 9.163 6.073 17.813 12.915 25.836 20.428 8.158 7.64 15.666 15.974 22.414 24.884 6.66 8.792 12.578 18.144 17.668 27.928 4.312 8.29 8.03 16.89 11.11 25.713 3.058 8.765 5.487 17.747 7.264 26.856C474.794 282.723 476 295.36 476 308c0 8.956-.604 17.91-1.818 26.785-1.35 9.864-3.456 19.624-6.297 29.166-2.904 9.754-6.576 19.277-10.968 28.457-5.02 10.496-10.983 20.54-17.784 29.982-6.88 9.547-14.615 18.477-23.084 26.648-8.758 8.45-18.297 16.087-28.46 22.78-10.073 6.632-20.757 12.334-31.878 17-12.24 5.137-25.002 9.015-38.028 11.556-12.2 2.38-24.622 3.586-37.05 3.625-12.443.038-24.89-1.09-37.117-3.395-13.052-2.462-25.848-6.263-38.126-11.327-11.153-4.6-21.876-10.24-31.992-16.815-10.205-6.63-19.79-14.213-28.598-22.61-8.517-8.12-16.305-17.003-23.24-26.51-6.857-9.397-12.877-19.403-17.96-29.865-4.446-9.148-8.174-18.643-11.137-28.372-2.897-9.516-5.062-19.254-6.474-29.1C84.66 326.732 84 317.365 84 308c0-12.028 1.09-24.054 3.283-35.88 1.657-8.94 3.94-17.765 6.83-26.385 2.974-8.87 6.59-17.524 10.804-25.874 5.062-10.025 10.99-19.613 17.69-28.627 6.67-8.97 14.103-17.37 22.193-25.085 8.096-7.72 16.85-14.75 26.136-20.985 9.017-6.055 18.538-11.36 28.434-15.838 7.823-3.54 15.88-6.56 24.102-9.036 7.958-2.398 16.07-4.283 24.27-5.643 1.416-.235 2.836-.455 4.258-.658V84h-56V56h168v28m-83.5 70h-1c-2.815.014-5.627.094-8.436.254-5.51.315-11.005.924-16.45 1.827-12.92 2.144-25.556 5.957-37.505 11.32-7.786 3.493-15.277 7.64-22.376 12.374-6.938 4.628-13.5 9.82-19.604 15.502-6.326 5.89-12.16 12.307-17.42 19.166-5.18 6.754-9.802 13.936-13.8 21.452-3.513 6.607-6.542 13.47-9.052 20.52-2.385 6.7-4.3 13.568-5.727 20.535-2.09 10.21-3.13 20.63-3.13 31.05 0 7.212.496 14.425 1.497 21.568 1.06 7.573 2.69 15.067 4.872 22.397 2.276 7.648 5.156 15.117 8.6 22.316 4.013 8.388 8.79 16.407 14.247 23.935 5.436 7.5 11.547 14.508 18.23 20.92 7.247 6.95 15.167 13.195 23.617 18.615 7.583 4.864 15.592 9.06 23.91 12.522 9.61 4 19.63 7.01 29.854 8.97C260.436 461.085 270.218 462 280 462s19.564-.915 29.172-2.758c10.223-1.96 20.243-4.97 29.855-8.97 8.888-3.7 17.424-8.238 25.464-13.533 7.87-5.182 15.263-11.084 22.062-17.606 6.573-6.304 12.59-13.187 17.96-20.545 5.57-7.636 10.44-15.783 14.518-24.31 3.444-7.198 6.324-14.666 8.6-22.315 2.183-7.33 3.812-14.823 4.873-22.397 1-7.143 1.497-14.356 1.497-21.568 0-10.42-1.04-20.84-3.13-31.052-1.46-7.12-3.428-14.136-5.886-20.976-2.48-6.895-5.455-13.61-8.895-20.08-4.143-7.787-8.957-15.217-14.367-22.184-5.016-6.46-10.544-12.525-16.515-18.116-6.425-6.018-13.363-11.49-20.716-16.33-6.868-4.523-14.098-8.496-21.6-11.863-11.95-5.363-24.585-9.176-37.506-11.32-5.445-.902-10.94-1.51-16.45-1.826-2.81-.16-5.62-.24-8.435-.253M252 336V185.167c8.998-2.085 18.374-3.167 28-3.167 34.77 0 66.27 14.115 89.078 36.922L252 336"}].concat([]))];return t&&s.unshift(Nd.a.createElement("title",null,t)),Nd.a.createElement.apply(Nd.a,["svg",a].concat(s))}i0.propTypes={"aria-label":vc.a.string,className:vc.a.string,style:vc.a.object};var n0=i0,a0=i("jy+L"),s0=i.n(a0);const{Component:r0}=Nd.a;var o0=class extends r0{static getDerivedStateFromProps(e,t){return e.filter!==t.filterFromStore?{filter:e.filter,filterFromStore:e.filter}:null}constructor(e,t){super(e,t),this._timeoutID=void 0,this.onTextFilterChange=e=>{this._clearOnTextFilterChangeTimeout(),this.setState({filter:e},()=>{this._timeoutID=window.setTimeout(()=>{this._timeoutID=null,this.props.onTextFilterChange(this.state.filter)},200)})},this.state={filter:e.filter,filterFromStore:e.filter}}componentWillUnmount(){this._clearOnTextFilterChangeTimeout()}_clearOnTextFilterChangeTimeout(){this._timeoutID&&window.clearTimeout(this._timeoutID)}render(){const{filter:e}=this.state;return Vu()(UB,{className:s0.a.input,size:_h,name:"filter",initialValue:e,value:e,placeholder:Object(Ze.default)("Filter logs"),onChange:this.onTextFilterChange})}},l0=i("wTIs"),c0=i.n(l0);const{Component:d0}=Nd.a;var u0=class extends d0{static getDerivedStateFromProps(e,t){return e.timeFilterStart!==t.timeFilterStartFromStore||e.timeFilterEnd!==t.timeFilterEndFromStore?{timeFilterStart:e.timeFilterStart,timeFilterStartFromStore:e.timeFilterStart,timeFilterEnd:e.timeFilterEnd,timeFilterEndFromStore:e.timeFilterEnd}:null}constructor(e,t){super(e,t),this._timeoutID=void 0,this._flushValues=()=>{this._timeoutID=window.setTimeout(()=>{this._timeoutID=null,this.props.onTimeFilterChange(this.state.timeFilterStart,this.state.timeFilterEnd)},200)},this.onFilterStartChange=e=>{this._clearOnTextFilterChangeTimeout(),this.setState({timeFilterStart:e},this._flushValues)},this.onFilterEndChange=e=>{this._clearOnTextFilterChangeTimeout(),this.setState({timeFilterEnd:e},this._flushValues)},this.state={timeFilterStart:e.timeFilterStart,timeFilterStartFromStore:e.timeFilterStart,timeFilterEnd:e.timeFilterEnd,timeFilterEndFromStore:e.timeFilterEnd}}componentWillUnmount(){this._clearOnTextFilterChangeTimeout()}_clearOnTextFilterChangeTimeout(){this._timeoutID&&window.clearTimeout(this._timeoutID)}render(){const{isTimeFilterStartValid:e,isTimeFilterEndValid:t}=this.props,{timeFilterStart:i,timeFilterEnd:n}=this.state;return Vu()("div",{className:c0.a.container},void 0,Vu()(UB,{className:c0.a.input,size:_h,name:"timeFilterStart",hasError:!e,initialValue:i,value:i,placeholder:"Jun 15, 2018 09:00:00",onChange:this.onFilterStartChange}),Vu()("span",{className:c0.a.separator},void 0,Object(Ze.default)("to")),Vu()(UB,{className:c0.a.input,size:_h,name:"timeFilterEnd",hasError:!t,initialValue:n,value:n,placeholder:"Jun 15, 2018 09:01:00",onChange:this.onFilterEndChange}))}},p0=i("Y103"),h0=i.n(p0);const{Component:m0,Fragment:g0}=Nd.a;var v0=Vu()(tf,{}),y0=Vu()(tf,{}),f0=Vu()($$,{}),b0=Vu()(n0,{}),I0=Vu()(t0,{});var S0=class extends m0{render(){const{filter:e,timeFilterStart:t,timeFilterEnd:i,isTimeFilterStartValid:n,isTimeFilterEndValid:a,showTimeFilter:s,showRawText:r,title:o,unfilteredLogLinesCount:l,logLines:c,onTextFilterChange:d,onTimeFilterChange:u,onToggleTimeFilter:p,onToggleRaw:h,onClearLog:m}=this.props,g=l-c.length;return Vu()(g0,{},void 0,Vu()(w$,{},void 0,Vu()(x$,{},void 0,o,v0,Object(Ze.default)("Plex Media Server Logs"),g>0?Vu()("span",{className:h0.a.controlsHiddenLinesCount},void 0,y0,Object(Ze.default)("{hiddenLinesCount} items hidden by filters",{hiddenLinesCount:g})):null),Vu()(R$,{},void 0,f0,Vu()(o0,{filter:e,onTextFilterChange:d}),Vu()(D$,{tooltip:Object(Ze.default)("Time Filter"),isSelected:s,onPress:p},void 0,b0),Vu()(zp,{className:h0.a.rawButton,isSelected:r,onPress:h},void 0,Object(Ze.default)("Raw")),Vu()(D$,{tooltip:Object(Ze.default)("Clear Logs"),onPress:m},void 0,I0))),s?Vu()(u0,{timeFilterStart:t,timeFilterEnd:i,isTimeFilterStartValid:n,isTimeFilterEndValid:a,onTimeFilterChange:u}):null)}};const C0=Object(Wu.a)(e=>e.ui.serverLogPage,e=>({filter:e.filter,timeFilterStart:e.timeFilterStart,timeFilterEnd:e.timeFilterEnd,isTimeFilterStartValid:e.isTimeFilterStartValid,isTimeFilterEndValid:e.isTimeFilterEndValid,showTimeFilter:e.showTimeFilter,showRawText:e.showRawText,logLines:e.logLines,unfilteredLogLinesCount:e.unfilteredLogLinesCount}));var M0=Object(Hu.b)(C0,(function(e,t){const{serverEntityID:i}=t;return{onTextFilterChange(t){Object(Ti.a)(()=>{e(PX({serverEntityID:i,filter:t}))})},onTimeFilterChange(t,n){Object(Ti.a)(()=>{e(OX({serverEntityID:i,timeFilterStart:t,timeFilterEnd:n}))})},onToggleTimeFilter(){e(AX({serverEntityID:i}))},onToggleRaw(){e(LX())},onClearLog(){e(NX({serverEntityID:i}))}}}))(S0),D0=i("R+Vt"),P0=i.n(D0);const O0=Nd.a.createElement,{Component:j0}=Nd.a;class w0 extends j0{constructor(e,t){super(e,t),this._container=void 0,this._expandContainer=void 0,this._frameRequestID=void 0,this._measureTimeoutID=void 0,this._shrinkContainer=void 0,this._requestFrame=()=>{this._clearTimeout(),this._cancelFrame(),this._frameRequestID=window.requestAnimationFrame(this._measure)},this._requestTimeout=()=>{this._clearTimeout(),this._cancelFrame(),this._measureTimeoutID=window.setTimeout(this._requestFrame,this.props.resizeTimeout)},this._measure=()=>{const{ignoreWidth:e,ignoreHeight:t,ignorePosition:i,ignoreTransforms:n}=this.props,{isMeasured:a,width:s,scrollWidth:r,height:o,scrollHeight:l,x:c,y:d}=this.state,u=this._container;if(!u)return;const p=u.getBoundingClientRect(),h=n?u.offsetWidth:p.width,m=n?u.offsetHeight:p.height,g=!0!==a,v=!i&&(p.left!==c||p.top!==d),y=!e&&(h!==s||u.scrollWidth!==r),f=!t&&(m!==o||u.scrollHeight!==l);if(this._reset(),g||v||y||f){const n=window.getComputedStyle(u),a={isMeasured:!0};if(i||(a.x=v?p.left:c,a.y=v?p.top:d),!e){const e=parseInt(n.paddingRight,10)||0,t=parseInt(n.paddingLeft,10)||0;a.width=y?h-t-e:s,a.scrollWidth=y?u.scrollWidth:r}if(!t){const e=parseInt(n.paddingTop,10)||0,t=parseInt(n.paddingBottom,10)||0;a.height=f?m-e-t:o,a.scrollHeight=f?u.scrollHeight:l}this.setState(a),this.props.onMeasure&&this.props.onMeasure(a)}},this._setContainerRef=e=>{this._container=e;const{onContainerRef:t}=this.props;t&&t(e)},this._setExpandContainerRef=e=>{this._expandContainer=e},this._setShrinkContainerRef=e=>{this._shrinkContainer=e},this.onScroll=e=>{this._requestTimeout()};const{ignoreWidth:i,ignoreHeight:n,ignorePosition:a}=e;this.state={isMeasured:!1,width:i?void 0:0,scrollWidth:i?void 0:0,height:n?void 0:0,scrollHeight:n?void 0:0,x:a?void 0:0,y:a?void 0:0}}componentDidMount(){this._requestFrame()}shouldComponentUpdate(e,t){return Tp(this,e,t)}componentWillUnmount(){this._cancelFrame(),this._clearTimeout()}_cancelFrame(){this._frameRequestID&&(this._frameRequestID=window.cancelAnimationFrame(this._frameRequestID))}_clearTimeout(){this._measureTimeoutID&&(this._measureTimeoutID=window.clearTimeout(this._measureTimeoutID))}_reset(){const e=this._expandContainer,t=this._shrinkContainer;e.scrollTop=1e5,e.scrollLeft=1e5,t.scrollTop=1e5,t.scrollLeft=1e5}render(){const{id:e,className:t,children:i,style:n,onKeyDown:a,onMeasure:s}=this.props,r="function"!=typeof i;return O0("div",{id:e,className:t,style:n,ref:this._setContainerRef,onKeyDown:a},r?i:i(this.state),O0("div",{className:P0.a.scrollContainer,ref:this._setExpandContainerRef,onScroll:this.onScroll},Vu()("div",{className:P0.a.expandContent})),O0("div",{className:P0.a.scrollContainer,ref:this._setShrinkContainerRef,onScroll:this.onScroll},Vu()("div",{className:P0.a.shrinkContent})))}}w0.defaultProps={className:P0.a.container,ignoreWidth:!1,ignoreHeight:!1,ignorePosition:!1,ignoreTransforms:!1,resizeTimeout:100};var T0=w0;const{Component:E0}=Nd.a;class N0 extends E0{constructor(e,t){super(e,t),this._keyPool=void 0,this._shouldRequestPage=void 0,this.state=this._getListState(e),this._keyPool=function(e=""){const t=[],i={},n={};let a=0;function s(){let i;return t.length?i=t.shift():(i=e+a,a++),i}function r(e){delete i[e]}return{getKeys(e,a,o,l=0,c){I.a.each(i,(i,s)=>{const r=i.item;if(null===r)t.push(s);else{const i=I.a.isString(r)?r:r[c],d=o.indexOf(r)+l;(d<e||d>a)&&(t.push(s),delete n[i])}});for(let t=e;t<=a;t++){const e=o[t-l]||null,a=e&&(I.a.isString(e)?e:e[c]);let r=e&&n[a];r||(r=s(),e&&(n[a]=r)),i[r]={index:t,item:e}}return t.forEach(r),t.length=0,I.a.extend({},i)}}}("cell"),this._shouldRequestPage=!1}componentWillMount(){this.props.onListUpdate&&this.props.onListUpdate(this.state)}componentDidMount(){this._checkForPageRequest()}componentWillReceiveProps(e){const t=this._getListState(e);wp(this.state,t)||this.setState(t)}shouldComponentUpdate(e,t){const i=this.props,n=this.state;return e.items!==i.items||e.size!==i.size||(e.viewportWidth!==i.viewportWidth||e.viewportHeight!==i.viewportHeight||(e.listTop!==i.listTop||e.listLeft!==i.listLeft||(e.isScrolling!==i.isScrolling||(e.skipRenderCells!==i.skipRenderCells||(e.layout!==i.layout||(e.cellRenderer!==i.cellRenderer||(t.visibleStartIndex!==n.visibleStartIndex||(t.visibleEndIndex!==n.visibleEndIndex||(t.partiallyVisibleStartIndex!==n.partiallyVisibleStartIndex||(t.partiallyVisibleEndIndex!==n.partiallyVisibleEndIndex||(t.renderStartIndex!==n.renderStartIndex||(t.renderEndIndex!==n.renderEndIndex||t.moveIndex!==n.moveIndex))))))))))))}componentWillUpdate(e,t){this.props.onListUpdate&&t!==this.state&&this.props.onListUpdate(t)}componentDidUpdate(){this._checkForPageRequest()}_getListState(e){const t=this._getListStyle(e),i=e.layout.getLandmarks&&e.layout.getLandmarks(),n=e.layout.getRangesForPosition(e.scrollTop,e.scrollLeft,e.size);return{listStyle:t,landmarks:i,visibleStartIndex:n.visibleStartIndex,visibleEndIndex:n.visibleEndIndex,partiallyVisibleStartIndex:n.partiallyVisibleStartIndex,partiallyVisibleEndIndex:n.partiallyVisibleEndIndex,renderStartIndex:n.renderStartIndex,renderEndIndex:n.renderEndIndex,moveIndex:e.moveIndex}}_getListStyle(e){const{size:t,layout:i,viewportWidth:n,viewportHeight:a,listTop:s,listLeft:r}=e,o={viewportWidth:n,viewportHeight:a,listTop:s,listLeft:r};return i.getListStyle(o,t)}_checkForPageRequest(){const e=this.state;this._shouldRequestPage&&(this._shouldRequestPage=!1,this.props.onPageRequest({startIndex:e.renderStartIndex,endIndex:e.renderEndIndex}))}renderCells(){const{keyPropName:e,items:t,itemsOffset:i,size:n,layout:a,hasNestedList:s,viewportWidth:r,viewportHeight:o,scrollLeft:l,scrollTop:c,cellRenderer:d,isScrolling:u,onPageRequest:p}=this.props,{moveIndex:h,renderStartIndex:m,renderEndIndex:g,partiallyVisibleStartIndex:v,partiallyVisibleEndIndex:y}=this.state;if(!n)return[];let f=n>t.length&&g===t.length-1;const b=this._keyPool.getKeys(m,g,t,i,e),S=[];return I.a.each(b,(i,p)=>{const m=i.index,g=i.item,b=m>=v&&m<=y,C=a.getPositionForIndex(m,n,t);(null===g||s)&&(f=!0);let M={key:p,keyPropName:e,isVirtual:!0,isVisible:b,isScrolling:u,moveIndex:h,viewportWidth:r,viewportHeight:o,cellIndex:m,cellX:C.cellX,cellY:C.cellY,cellWidth:C.cellWidth,cellHeight:C.cellHeight};s&&(M.scrollLeft=l,M.scrollTop=c),I.a.isString(g)?M[e]=g:M=Object.assign({},g,M),S.push(d(M))}),this._shouldRequestPage=!!p&&(f&&!u),S}render(){const e=this._getListStyle(this.props),{className:t,isScrolling:i,skipRenderCells:n,children:a}=this.props;return Vu()("div",{className:(t||"")+" "+(i?"isScrolling":""),style:e},void 0,n?null:this.renderCells(),a)}}N0.defaultProps={keyPropName:"entityID",items:[],itemsOffset:0,hasNestedList:!1,listTop:0,listLeft:0,isScrolling:!1,skipRenderCells:!1};var x0=N0,A0=i("cUsW"),L0=i.n(A0);const k0=Nd.a.createElement,{Component:R0}=Nd.a;function z0(e,t){if(t.shouldCenterCell){const i=(t.viewportDimension-t.cellDimension)/2,n=Math.round(e-i);return Math.max(n,0)}return e-(t.offset||0)}class U0 extends R0{constructor(e,t){super(e,t),this._currentScrollIndex=void 0,this._scrollPositionKey=void 0,this.onScrollPositionChange=({scrollTop:e,scrollLeft:t})=>{this.setState({scrollTop:e,scrollLeft:t})},this.onListUpdate=e=>{const{visibleStartIndex:t}=e,{scrollIndex:i,onListScrollIndexChange:n,onListUpdate:a}=this.props;this._currentScrollIndex=t,this.state.isRestoringScrollPosition&&this.setState({isRestoringScrollPosition:!1}),n&&i!==t&&n(t),a&&a(e)},this.onMeasure=e=>{const t=Math.round(e.width),i=Math.round(e.height),{onMeasure:n}=this.props;this.setState({isMeasured:!0,width:t,height:i}),n&&n(e)},this.state={isRestoringScrollPosition:!1,isMeasured:!1,width:null,height:null,scrollTop:0,scrollLeft:0},this._currentScrollIndex=0,e.scrollPositionStorageKey&&(this._scrollPositionKey=RO.getPageKey()+"!scrollPosition!"+e.scrollPositionStorageKey)}componentWillMount(){this.props.scrollIndex||this._restoreScrollPosition()}shouldComponentUpdate(e,t){return Tp(this,e,t)}componentDidUpdate(e,t){const{scrollIndex:i,scrollDirection:n,shouldCenterScrollIndex:a,layout:s}=this.props,{scrollLeft:r,scrollTop:o,width:l,height:c,isMeasured:d}=this.state;if(null==i||i===this._currentScrollIndex&&!a)return;const u=d&&!t.isMeasured&&i>0,p=d&&i!==e.scrollIndex,h=a!==e.shouldCenterScrollIndex;if(u||p||h){const e=function(e,t,{shouldCenterCell:i,outerPaddingLeft:n,outerPaddingTop:a,scrollerWidth:s,scrollerHeight:r}){return{scrollLeft:"horizontal"===e?z0(t.cellX,{shouldCenterCell:i,offset:n,viewportDimension:s,cellDimension:t.cellWidth}):0,scrollTop:"vertical"===e?z0(t.cellY,{shouldCenterCell:i,offset:a,viewportDimension:r,cellDimension:t.cellHeight}):0}}(n,s.getPositionForIndex(Math.max(i,0)),{shouldCenterCell:a,outerPaddingLeft:s.options.outerPaddingLeft,outerPaddingTop:s.options.outerPaddingTop,scrollerWidth:l,scrollerHeight:c}),t=e.scrollLeft!==r||e.scrollTop!==o;this.setState({scrollLeft:e.scrollLeft,scrollTop:e.scrollTop,isRestoringScrollPosition:u&&t})}}componentWillUnmount(){this._scrollPositionKey&&RO.set(this._scrollPositionKey,{scrollTop:this.state.scrollTop,scrollLeft:this.state.scrollLeft})}_restoreScrollPosition(){if(this._scrollPositionKey){const e=RO.get(this._scrollPositionKey);e&&this.setState(Object.assign({isRestoringScrollPosition:!0},e))}}render(){const e=this.props,{className:t,children:i,scrollerClassName:n,virtualListClassName:a,ignoreWidth:s,ignoreHeight:r,resizeTimeout:o,scrollDirection:l,smoothScroll:c,scrollerStyle:d,forwardedRef:u,onScroll:p}=e,h=Xe()(e,["className","children","scrollerClassName","virtualListClassName","ignoreWidth","ignoreHeight","resizeTimeout","scrollDirection","scrollIndex","scrollPositionStorageKey","smoothScroll","scrollerStyle","forwardedRef","onListUpdate","onMeasure","onScroll"]),{isMeasured:m,isRestoringScrollPosition:g,width:v,height:y,scrollTop:f,scrollLeft:b}=this.state;return Vu()(T0,{className:t,ignoreWidth:s,ignoreHeight:r,ignorePosition:!0,resizeTimeout:o,onMeasure:this.onMeasure},void 0,m?k0(ih,{className:n,smoothScroll:!1!==c&&!g,scrollDirection:l,scrollTop:f,scrollLeft:b,enableChildrenProps:!0,style:d,ref:u,onScroll:p,onScrollPositionChange:this.onScrollPositionChange},k0(x0,tp()({className:a,viewportWidth:v,viewportHeight:y,skipRenderCells:g,onListUpdate:this.onListUpdate},h)),i):null)}}U0.defaultProps={scrollDirection:"vertical",scrollerClassName:L0.a.scroller,shouldCenterScrollIndex:!1};var V0=Nd.a.forwardRef((e,t)=>k0(U0,tp()({},e,{forwardedRef:t})));const B0="vertical";function F0(e={}){const{direction:t=B0,rows:i,columns:n,overscan:a=0,innerHorizontalPadding:s=0,innerVerticalPadding:r=0,outerPaddingTop:o=0,outerPaddingRight:l=0,outerPaddingBottom:c=0,outerPaddingLeft:d=0,getCellWidth:u,getCellHeight:p}=e;let h,m,g,v,y,f,b,I,S,C;function M(e){return t===B0?Math.floor(e/f):e%y}function D(e){return t===B0?e%f:Math.floor(e/y)}function P(e,i){const n=M(e);return t===B0?n*f:n}function O(e,i){const n=D(e);return t===B0?n:n*y}return{options:e,getListStyle:function(e,a){const M=[o,l,c,d,a];for(const t in e)M.push(e[t]);const D=M.join(":");if(D===I)return S;h=e.listTop,m=e.listLeft;let P=(e.viewportWidth||0)-l-d,O=(e.viewportHeight||0)-o-c;t===B0?P-=m:O-=h,P=Math.max(0,P),O=Math.max(0,O),g=u({innerViewportWidth:P,innerViewportHeight:O,innerHorizontalPadding:s,innerVerticalPadding:r}),v=p({cellWidth:g,innerViewportWidth:P,innerViewportHeight:O,innerHorizontalPadding:s,innerVerticalPadding:r}),y=Math.max(0,i||Math.floor((O+r)/(v+r))),f=Math.max(0,n||Math.floor((P+s)/(g+s))),b=f*y;let j=0,w=0;return t===B0&&f?(j=f*(g+s)-s,w=Math.ceil(a/f)*(v+r)-r):"horizontal"===t&&y&&(j=Math.ceil(a/y)*(g+s)-s,w=y*(v+r)-r),C={},I=D,S={width:j+l+d,height:w+o+c},S},getRelativeIndex:function(e,i,n,a){const s=t===n;if(s&&(t===B0&&1===f||"horizontal"===t&&1===y))return fO(e+i,a);let r,o,l;n===B0&&(r=s?f*i:i,o=O(e,a),l=function(e,i){if(t===B0){const t=i-1,n=D(e),a=(M(t)+1)*f-(f-n);let s;return s=a<i?a:t-i%f-(f-1-n),s}return fO(O(e,i)+(y-1),i)}(e,a)),"horizontal"===n&&(r=s?y*i:i,o=P(e,a),l=function(e,i){if(t===B0){return fO(P(e,i)+(f-1),i)}{const t=i-1,n=M(e),a=(D(t)+1)*y-(y-n);let s;return s=a<i?a:t-i%y-(y-1-n),s}}(e,a));const c=e+r;return o||l?Math.max(Math.min(c,l),o):e},getCoordinateDistance:function(e,t){const i=M(e),n=M(t),a=D(e),s=D(t);return Math.sqrt(Math.pow(n-i,2)+Math.pow(s-a,2))},getPositionForIndex:function(e){const t=e;if(C[t])return C[t];const i=D(e),n=M(e),a={column:i,row:n,cellX:i*(g+s)+m+d,cellY:n*(v+r)+h+o,cellWidth:g,cellHeight:v};return C[t]=a,a},getRangesForPosition:function(e,i,n){const o=t===B0?f:y,l=t===B0?(e-h)/(v+r):(i-m)/(g+s),c=b+2*o+a*o*2,d=Math.ceil(l)*o,u=d+b-1,p=Math.floor(l)*o,I=d+b+o-1;let S=p-o*a;const C=fO(S,n)+c-1;return C>=n&&(S=n-c),{visibleStartIndex:fO(d,n),visibleEndIndex:fO(u,n),partiallyVisibleStartIndex:fO(p,n),partiallyVisibleEndIndex:fO(I,n),renderStartIndex:fO(S,n),renderEndIndex:fO(C,n)}}}}function H0(e=40,t=10,i){return F0(Object.assign({direction:B0,columns:1,overscan:t,getCellWidth:e=>e.innerViewportWidth,getCellHeight:()=>e},i))}const{useEffect:_0,useMemo:W0,useReducer:Q0,useRef:G0}=Nd.a;function K0({isVirtual:e,isVisible:t,isScrolling:i}){return e&&!t||i}function Y0(e){const{cellIndex:t,cellX:i,cellY:n,cellWidth:a,cellHeight:s,style:r,keyPropName:o,moveDurationMilliseconds:l=400,isVirtual:c}=e,d=e[o],u=$b(d),p=$b(t),h=!(null==u||null==p||d!==u||e.cellIndex===p),m=Q0(e=>e+1,0)[1],g=G0(h),v=g.current||h,y=W0(()=>function({cellX:e,cellY:t,cellWidth:i,cellHeight:n,style:a,isMoving:s,moveDurationMilliseconds:r,isVirtual:o}){return o?Object.assign({position:"absolute",width:i,height:n,transform:"translate3d("+e+"px, "+t+"px, 0)",zIndex:s?1:0,transition:s?"transform "+Tv.defaultSpeed:"none",transitionDuration:s?r+"ms":0},a):Object.assign({position:"relative"},a)}({cellX:i,cellY:n,cellWidth:a,cellHeight:s,style:r,moveDurationMilliseconds:l,isMoving:v,isVirtual:c}),[i,n,a,s,r,l,v,c]),f=G0(K0(e)?null:d);let b;return K0(e)?(b=f.current!==d,b&&(f.current=null)):(b=!1,f.current=d),_0(()=>{let e;return v&&(g.current=!0,e=window.setTimeout(()=>{g.current=!1,m({})},2*l)),()=>{e&&window.clearTimeout(e)}},[l,v,m]),{style:y,isPlaceholder:b}}var q0=i("kJQh"),Z0=i.n(q0);const{useCallback:J0}=Nd.a;var X0=function(e){const{index:t,level:i,message:n,thread:a,time:s,isHighlighted:r,onLogLinePress:o}=e,l=Y0(e),c=J0(e=>{o({index:t,time:s,thread:a,level:i,message:n})},[t,s,a,i,n,o]),d=function(e){return[Z0.a.levelError,Z0.a.levelWarning,Z0.a.levelInfo,Z0.a.levelDebug,Z0.a.levelVerbose][e]||Z0.a.levelUnknown}(i);return Vu()("div",{style:l.style},void 0,Vu()(zp,{className:(d||"")+" "+(r&&Z0.a.isHighlighted||""),tabIndex:t,onPress:c},void 0,Vu()("span",{className:Z0.a.fieldTime},void 0,s),Vu()("span",{className:Z0.a.fieldThread},void 0,"[",a,"]"),Vu()("span",{className:Z0.a.fieldMessage},void 0,n)))};var $0=Object(Hu.b)((function(){return Object(Wu.a)(e=>e.ui.serverLogPage.highlightedLineIndex,(e,{index:t})=>t,(e,t)=>({isHighlighted:e===t}))}))(X0);var e1=function(e,t){const i=e.replace(new RegExp("\\s?"+J(t)),"").trim();return i.length?t+" "+i:t},t1=i("OtNE"),i1=i.n(t1);const{Component:n1}=Nd.a;function a1(e){return[i1.a.containerError,i1.a.containerWarning,i1.a.containerInfo,i1.a.containerDebug,i1.a.containerVerbose][e]||i1.a.containerUnknown}function s1(e){return[i1.a.levelError,i1.a.levelWarning,i1.a.levelInfo][e]}var r1=Vu()(NI,{});var o1=class extends n1{constructor(e,t){super(e,t),this._timeMenuButtonID=void 0,this.onClosePress=e=>{this.props.onClose()},this.onShowContextPress=e=>{this.props.onJumpToContext(Math.max(this.props.index-10,0))},this.onFilterFromPress=()=>{this.props.onTimeFilterChange({timeFilterStart:this.props.time,timeFilterEnd:this.props.timeFilterEnd})},this.onFilterToPress=()=>{this.props.onTimeFilterChange({timeFilterStart:this.props.timeFilterStart,timeFilterEnd:this.props.time})},this.onThreadPress=()=>{this.props.onTextFilterChange({filter:e1(this.props.filter,this.props.thread)})},this.onTimeMenuPress=()=>{this.setState({isTimeMenuOpen:!this.state.isTimeMenuOpen})},this.onTimeMenuClose=()=>{this.setState({isTimeMenuOpen:!1})},this.onKeyDown=e=>{27===e.keyCode&&(e.preventDefault(),e.stopPropagation(),this.props.onClose())},this._timeMenuButtonID=Mp(),this.state={isTimeMenuOpen:!1}}componentDidMount(){document.addEventListener("keydown",this.onKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.onKeyDown)}render(){const{level:e,time:t,thread:i,message:n}=this.props,{isTimeMenuOpen:a}=this.state;return Vu()(ih,{className:a1(e),autoScroll:!0},void 0,Vu()(zp,{className:i1.a.closeButton,"aria-label":Object(Ze.default)("Close"),onPress:this.onClosePress},void 0,r1),Vu()("p",{},void 0,Vu()("span",{className:i1.a.label},void 0,Object(Ze.default)("Time")),Vu()(zp,{kind:Pp,id:this._timeMenuButtonID,onPress:this.onTimeMenuPress},void 0,t,Vu()(fy,{kind:Pp,direction:a?hy:my})),Vu()(Qv,{size:_h,isOpen:a,target:this._timeMenuButtonID,onMenuClose:this.onTimeMenuClose},void 0,Vu()(Zv,{onPress:this.onFilterFromPress},void 0,Object(Ze.default)("Filter from this time")),Vu()(Zv,{onPress:this.onFilterToPress},void 0,Object(Ze.default)("Filter to this time")))),Vu()("p",{},void 0,Vu()("span",{className:i1.a.label},void 0,Object(Ze.default)("Level")),Vu()("span",{className:s1(e)},void 0,K$(e))),Vu()("p",{},void 0,Vu()("span",{className:i1.a.label},void 0,Object(Ze.default)("Thread")),Vu()(zp,{kind:Pp,onPress:this.onThreadPress},void 0,i)),Vu()("p",{},void 0,Vu()("span",{className:i1.a.label},void 0,Object(Ze.default)("Message")),n),Vu()("div",{className:i1.a.action},void 0,Vu()(hw,{onPress:this.onShowContextPress},void 0,Object(Ze.default)("Clear Filters and Jump to Context"))))}};const{Component:l1}=Nd.a;var c1=class extends l1{shouldComponentUpdate(e){return e.filter!==this.props.filter||e.logLevels!==this.props.logLevels}render(){const{className:e,lines:t}=this.props;return Vu()(ih,{className:e},void 0,Vu()("pre",{},void 0,t.reduce((e,t)=>e+=t.time+" ["+t.thread+"] "+K$(t.level)+"  "+t.message+"\n","")))}},d1=i("6Nac"),u1=i.n(d1);const p1=Nd.a.createElement,{Component:h1,Fragment:m1}=Nd.a,g1=H0(26,10,{outerPaddingTop:10,outerPaddingBottom:10});function v1(e){return!!(e.filter||e.timeFilterStart||e.timeFilterEnd||e.logLevels.length)}var y1=class extends h1{static getDerivedStateFromProps(e,t){return null==t.scrollIndexAfterFilterChange||v1(e)?e.showRawText&&(!t.isSticky||t.scrollIndex||t.selectedLogLine)?{isSticky:!0,scrollIndex:0,scrollIndexAfterFilterChange:null,selectedLogLine:null}:null:{isSticky:!1,scrollIndex:t.scrollIndexAfterFilterChange,scrollIndexAfterFilterChange:null}}constructor(e,t){super(e,t),this._lastScrollTop=void 0,this._scrollerRef=void 0,this.onScroll=()=>{const e=this._scrollerRef.current;e.scrollTop+e.clientHeight>=e.scrollHeight?this.setState({isSticky:!0,scrollIndex:null}):e.scrollTop<this._lastScrollTop&&this.setState({isSticky:!1}),this._lastScrollTop=e.scrollTop},this.onJumpToContext=e=>{v1(this.props)?this.setState({isSticky:!1,scrollIndexAfterFilterChange:e,selectedLogLine:null},()=>{this.props.onClearFilter()}):this.setState({isSticky:!1,scrollIndex:e,selectedLogLine:null})},this.onTextFilterChange=(...e)=>{this.setState({scrollIndex:0,selectedLogLine:null}),this.props.onTextFilterChange(...e)},this.onTimeFilterChange=(...e)=>{this.setState({scrollIndex:0,selectedLogLine:null}),this.props.onTimeFilterChange(...e)},this.onLogLinePress=e=>{this.setState({selectedLogLine:e}),this.props.onHighlightLine(e)},this.onModalClose=e=>{this.setState({selectedLogLine:null})},this.onJumpToLatestPress=()=>{this.setState({isSticky:!0})},this.renderLogLine=e=>p1($0,tp()({},e,{onLogLinePress:this.onLogLinePress})),this.state={isSticky:!0,scrollIndex:0,scrollIndexAfterFilterChange:null,selectedLogLine:null},this._scrollerRef=Nd.a.createRef()}render(){const{filter:e,timeFilterStart:t,timeFilterEnd:i,logLevels:n,showRawText:a,logLines:s}=this.props,{isSticky:r,scrollIndex:o,selectedLogLine:l}=this.state,c=!!l,d=c||a;return Vu()(m1,{},void 0,a?Vu()(c1,{className:u1.a.rawTextScroller,filter:e,logLevels:n,lines:s}):null,p1(V0,{className:d?u1.a.hiddenPageContent:u1.a.pageContent,scrollerClassName:u1.a.pageContentScroller,smoothScroll:!1,keyPropName:"index",items:s,size:s.length,layout:g1,cellRenderer:this.renderLogLine,scrollIndex:r?s.length-1:o,ref:this._scrollerRef,onScroll:this.onScroll}),Vu()(zp,{className:r?u1.a.jumpLinkHidden:u1.a.jumpLinkVisible,onPress:this.onJumpToLatestPress},void 0,Object(Ze.default)("Jump to latest")),c?p1(o1,tp()({},l,{filter:e,timeFilterStart:t,timeFilterEnd:i,onJumpToContext:this.onJumpToContext,onTextFilterChange:this.onTextFilterChange,onTimeFilterChange:this.onTimeFilterChange,onClose:this.onModalClose})):null)}};const f1=Object(Wu.a)(e=>e.ui.serverLogPage,e=>({filter:e.filter,timeFilterStart:e.timeFilterStart,timeFilterEnd:e.timeFilterEnd,logLevels:e.logLevels,showRawText:e.showRawText,logLines:e.logLines}));var b1=Object(Hu.b)(f1,(function(e,t){const{serverEntityID:i}=t;return{onTextFilterChange(...t){e(PX(...t))},onTimeFilterChange(...t){e(OX(...t))},onHighlightLine(t){e(kX(t))},onClearFilter(){e(jX({serverEntityID:i}))}}}))(y1),I1=i("S686"),S1=i.n(I1);const{Component:C1}=Nd.a;function M1(e){const t=e.dataTransfer.items,i=t[0];return""!==i.type||"file"!==i.kind?2:t.length>1?1:void 0}var D1=Vu()(b1,{}),P1=Vu()(Jh,{});var O1=class extends C1{constructor(e,t){super(e,t),this.onDragOver=e=>{this.setState({isDraggingFile:!0,fileDragError:M1(e)}),e.preventDefault()},this.onDragLeave=()=>{this.setState({isDraggingFile:!1,fileDragError:null})},this.onDrop=e=>{e.preventDefault();if(M1(e))return void this.setState({isDraggingFile:!1,fileDragError:null});this.setState({isDroppingFile:!0});const t=e.dataTransfer.files[0],i=new window.FileReader;i.onload=()=>{this.setState({title:t.name,isDraggingFile:!1,isDroppingFile:!1}),this.props.onDrop({result:i.result})},i.readAsText(t)},this.state={title:e.title,isDraggingFile:!1,isDroppingFile:!1,fileDragError:null}}render(){const{metricsPage:e,metricsPane:t}=this.props,{title:i,isDraggingFile:n,isDroppingFile:a,fileDragError:s}=this.state,r=n&&!a&&(1===s&&Object(Ze.default)("Only one file at a time")||2===s&&Object(Ze.default)("Only log files are allowed")||Object(Ze.default)("Load log file"));return Vu()(f$,{metricsPage:e,metricsProperties:{pane:t},scrollDirection:Zp,onDragOver:this.onDragOver,onDragLeave:this.onDragLeave,onDrop:this.onDrop},void 0,Vu()(M0,{title:i}),D1,n?Vu()("div",{className:S1.a.dropFileOverlay},void 0,s?Vu()(t0,{className:S1.a.icon}):null,r,a?P1:null):null)}};const j1=Nd.a.createElement,{Component:w1}=Nd.a;const T1={dispatchClearLog:NX,dispatchLoadLogFile:xX};var E1=Object(Hu.b)((function(){return Object(Wu.a)(_S(),e=>({title:e.friendlyName}))}),T1)(class extends w1{constructor(e,t){super(e,t),this._isServerEventManagerStopped=void 0,this._serverEventManager=void 0,this.onDrop=(...e)=>{this._stopServerEventManager(),this.props.dispatchLoadLogFile(...e)};const i=Object(ne.c)("appModel");this._serverEventManager=new We({name:"MediaServerLogEventManager",appModel:i,isValidServer:t=>t.entityID()===e.serverEntityID,supportsLongPolling:!1,ServerEventConnection:i$,ServerRetryManager:Eu})}componentDidMount(){this.props.dispatchClearLog(),this._serverEventManager.start();Object(ne.c)("appModel").get("servers").forEach(e=>{const t=e.get("isResolved");t&&this._serverEventManager.onServerResolvedChange(e,t)})}componentWillUnmount(){this._stopServerEventManager()}_stopServerEventManager(){this._isServerEventManagerStopped||(this._serverEventManager.stop(),this.props.dispatchClearLog(),this._isServerEventManagerStopped=!0)}render(){return j1(O1,tp()({onDrop:this.onDrop},this.props))}});function N1(e){return Object(Wu.a)(_S(),t=>{if(!t||!t.activeConnection)return null;const i=t.activeConnection.uri,n=t.accessToken?{"X-Plex-Token":t.accessToken}:{};return V.join([i,e],n)})}var x1=i("fhkX"),A1=i.n(x1);const{Component:L1}=Nd.a;var k1=Vu()(ay,{}),R1=Vu()(NI,{}),z1=Vu()(ay,{}),U1=Vu()(NI,{});var V1=class extends L1{static getDerivedStateFromProps(e,t){const i=e.isCleanBundlesInProgress!==t.isCleanBundlesInProgress,n=e.isOptimizeDatabaseInProgress!==t.isOptimizeDatabaseInProgress;if(!i&&!n)return null;const a={};return i&&(a.isCleanBundlesInProgress=e.isCleanBundlesInProgress,a.isCleanBundlesComplete=t.isCleanBundlesInProgress&&!e.isCleanBundlesInProgress),n&&(a.isOptimizeDatabaseInProgress=e.isOptimizeDatabaseInProgress,a.isOptimizeDatabaseComplete=t.isOptimizeDatabaseInProgress&&!e.isOptimizeDatabaseInProgress),a}constructor(e,t){super(e,t),this.state={isCleanBundlesInProgress:!1,isOptimizeDatabaseInProgress:!1,isCleanBundlesComplete:!1,isOptimizeDatabaseComplete:!1}}render(){const{machineIdentifier:e,downloadDatabasesUrl:t,downloadLogsUrl:i,cleanBundlesError:n,optimizeDatabaseError:a,isCleanBundlesInProgress:s,isOptimizeDatabaseInProgress:r,showDownloadDatabases:o,showDownloadLogs:l,onCleanBundlesPress:c,onOptimizeDatabasePress:d}=this.props,{isCleanBundlesComplete:u,isOptimizeDatabaseComplete:p}=this.state;return Vu()("div",{},void 0,Vu()("div",{className:A1.a.troubleshootingSection},void 0,Vu()("div",{className:A1.a.buttonContainer},void 0,Vu()(dV,{className:A1.a.button,isSpinning:r,onPress:d},void 0,Object(Ze.default)("Optimize Database")),p&&!a?Vu()("div",{className:A1.a.buttonStatusSuccess},void 0,k1,Vu()("div",{className:A1.a.textStatus},void 0,Object(Ze.default)("Optimize database complete"))):null,p&&a?Vu()("div",{className:A1.a.buttonStatusError},void 0,R1,Vu()("div",{className:A1.a.textStatus},void 0,a)):null),Vu()("div",{className:A1.a.description},void 0,Object(Ze.default)("Cleans up the library database and ensures it is operating as quickly as possible. This is especially useful when you've added or removed a large amount of media from the library."))),Vu()("div",{className:A1.a.troubleshootingSection},void 0,Vu()("div",{className:A1.a.buttonContainer},void 0,Vu()(dV,{className:A1.a.button,isSpinning:s,onPress:c},void 0,Object(Ze.default)("Clean Bundles")),u&&!n?Vu()("div",{className:A1.a.buttonStatusSuccess},void 0,z1,Vu()("div",{},void 0,Object(Ze.default)("Bundles cleaned"))):null,u&&n?Vu()("div",{className:A1.a.buttonStatusError},void 0,U1,Vu()("div",{},void 0,n)):null),Vu()("div",{className:A1.a.description},void 0,Vu()(vw,{className:A1.a.description,message:Object(Ze.default)('Poster images and other metadata for items in your library are kept in "bundle" packages. When you remove items from your library, these bundles arent immediately removed. Removing them can reduce the size of your install. By default, your server will automatically clean up old bundles once a week as part of {openScheduledTass}Scheduled Tasks{closeScheduledTass}.'),tags:[{open:"openScheduledTass",close:"closeScheduledTass",component:zp,kind:Pp,to:ln(e,"settings","butler")}]}))),l||o?Vu()("div",{className:A1.a.troubleshootingSection},void 0,Vu()("div",{className:A1.a.buttonContainer},void 0,l?Vu()(hw,{className:A1.a.button,to:i,target:"_self"},void 0,Object(Ze.default)("Download Logs")):null,o?Vu()(hw,{className:A1.a.button,to:t,target:"_self"},void 0,Object(Ze.default)("Download Database")):null),Vu()("div",{className:A1.a.description},void 0,Object(Ze.default)("The Plex Media Server logs and database can be helpful to developers and forum community members in diagnosing server issues."))):null,Vu()("div",{className:A1.a.description},void 0,Vu()(vw,{className:A1.a.description,message:Object(Ze.default)("You can find additional documentation, guides and FAQs as well as our friendly Community Forums among our {openSupportLink}support resources{closeSupportLink}."),tags:[{open:"openSupportLink",close:"closeSupportLink",component:zp,kind:Pp,to:Fp,target:"_blank"}]})))}};const B1=Nd.a.createElement,{Component:F1}=Nd.a;const H1={dispatchCleanBundles:bK,dispatchOptimizeDatabase:fK};var _1=Object(Hu.b)((function(){return Object(Wu.a)(_S(),N1("/diagnostics/databases"),N1("/diagnostics/logs"),xK(),NK(),(e,t,i,n,a)=>{const s=e.diagnostics;return{machineIdentifier:e.machineIdentifier,downloadDatabasesUrl:t,downloadLogsUrl:i,cleanBundlesError:e.desktop.cleanBundlesError,optimizeDatabaseError:e.desktop.optimizeDatabaseError,isCleanBundlesInProgress:!!n,isOptimizeDatabaseInProgress:!!a,showDownloadDatabases:!(!t||!s||-1===s.indexOf("databases")),showDownloadLogs:!(!i||!s||-1===s.indexOf("logs"))}})}),H1)(class extends F1{constructor(...e){super(...e),this.onCleanBundlesPress=()=>{this.props.dispatchCleanBundles({serverEntityID:this.props.serverEntityID,hideAlerts:!0})},this.onOptimizeDatabasePress=()=>{this.props.dispatchOptimizeDatabase({serverEntityID:this.props.serverEntityID,hideAlerts:!0})}}render(){const e=this.props,t=Xe()(e,["dispatchCleanBundles","dispatchOptimizeDatabase"]);return B1(V1,tp()({onCleanBundlesPress:this.onCleanBundlesPress,onOptimizeDatabasePress:this.onOptimizeDatabasePress},t))}});function W1(e){var t=e["aria-label"],i=e.className,n=e.style,a={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-status-560"};a["aria-hidden"]=!t,a.style=n,a.className=Ad.a.plexIcon+(i?" "+i:"");var s=[Nd.a.createElement.apply(Nd.a,["path",{d:"m458.541 390l-71.708 143.416-2.724 4.438c-1.15 1.3-2.192 2.705-3.45 3.9-2.527 2.399-5.452 4.34-8.645 5.735-1.591.696-3.29 1.109-4.934 1.664-1.716.261-3.432.523-5.148.785-4.604-.104-5.84.169-10.313-1.132-3.345-.974-6.496-2.523-9.31-4.577-2.814-2.055-5.249-4.584-7.195-7.475-2.601-3.863-2.718-5.124-4.218-9.478l-96.634-386.535-86.172 229.793-2.235 4.682c-2.66 3.738-3.128 4.909-6.699 7.872-2.672 2.217-5.708 3.953-8.974 5.131-1.626.587-3.31 1.034-5.014 1.332-1.703.298-3.445.299-5.168.449l-120 0 0-60 99.21 0 112.7-300.534 2.359-4.891c1.068-1.462 2.007-3.027 3.203-4.386 2.401-2.73 5.278-5.001 8.491-6.702 3.213-1.701 6.708-2.804 10.315-3.255 3.608-.451 7.267-.243 10.8.615 1.759.427 3.486 1.016 5.14 1.754 3.32 1.48 6.343 3.552 8.923 6.114 2.579 2.562 4.672 5.571 6.175 8.881.748 1.648 1.192 3.419 1.788 5.128l100.331 401.324 43.732-87.464 2.448-4.059c2.706-3.207 3.231-4.214 6.646-6.719 2.557-1.874 5.394-3.331 8.407-4.318 1.501-.491 3.047-.865 4.607-1.114 1.56-.248 3.15-.249 4.725-.374l120 0 0 60-101.459 0"}].concat([]))];return t&&s.unshift(Nd.a.createElement("title",null,t)),Nd.a.createElement.apply(Nd.a,["svg",a].concat(s))}W1.propTypes={"aria-label":vc.a.string,className:vc.a.string,style:vc.a.object};var Q1=W1,G1=Vu()(Q1,{});var K1=function(e){const{isActive:t}=e;return t?G1:null};function Y1(e){var t=e["aria-label"],i=e.className,n=e.style,a={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-help-560"};a["aria-hidden"]=!t,a.style=n,a.className=Ad.a.plexIcon+(i?" "+i:"");var s=[Nd.a.createElement.apply(Nd.a,["path",{d:"m280 0c154.536 0 280 125.464 280 280 0 154.536-125.464 280-280 280-154.536 0-280-125.464-280-280 0-154.536 125.464-280 280-280m-40 440c0 22.077 17.923 40 40 40 22.077 0 40-17.923 40-40 0-22.077-17.923-40-40-40-22.077 0-40 17.923-40 40m70-80l0-6.84 0-.179c.011-2.265.168-4.528.482-6.772.586-4.188 1.706-8.299 3.324-12.206 1.56-3.765 3.581-7.337 6.005-10.613 1.378-1.861 2.886-3.622 4.506-5.277 12.286-12.48 24.784-24.75 37.148-37.152 1.253-1.265 2.48-2.554 3.674-3.873 2.298-2.538 4.482-5.178 6.544-7.91 5.64-7.475 10.359-15.64 14.021-24.258 2.605-6.129 4.675-12.484 6.18-18.972 1.516-6.534 2.457-13.201 2.81-19.9.584-11.079-.447-22.237-3.053-33.021-1.591-6.586-3.767-13.03-6.492-19.232-2.728-6.21-6.008-12.176-9.788-17.807-2.756-4.106-5.777-8.033-9.039-11.749-1.655-1.886-3.374-3.715-5.147-5.49-1.412-1.415-2.866-2.79-4.352-4.127-3.068-2.761-6.285-5.356-9.632-7.77-8.915-6.432-18.755-11.571-29.126-15.214-7.849-2.757-15.996-4.658-24.254-5.658-3.049-.369-6.113-.616-9.182-.74-1.423-.057-2.848-.086-4.272-.093-.357 0-.713 0-1.07.002-2.253.018-4.505.094-6.754.241-4.7.306-9.381.901-14.008 1.782-6.09 1.159-12.086 2.813-17.909 4.939-5.594 2.042-11.028 4.519-16.238 7.403-5.852 3.239-11.419 6.99-16.618 11.196-2.576 2.084-5.056 4.282-7.446 6.577-.342.331-.682.663-1.021.996-6.867 6.803-13.671 13.669-20.506 20.504l42.426 42.426 19.985-19.984.136-.137c1.966-1.946 4.07-3.749 6.304-5.381 3.924-2.868 8.23-5.21 12.77-6.946 3.392-1.297 6.913-2.256 10.494-2.859 3.453-.58 6.961-.829 10.461-.742 4.493.111 8.971.778 13.302 1.98 4.678 1.298 9.18 3.219 13.354 5.699 2.604 1.547 5.08 3.31 7.393 5.266 1.182 1 2.318 2.051 3.414 3.144.705.713 1.397 1.438 2.065 2.185 1.35 1.51 2.617 3.095 3.792 4.745 3.921 5.506 6.807 11.735 8.475 18.285 1.377 5.408 1.921 11.022 1.61 16.593-.35 6.263-1.783 12.458-4.219 18.239-1.715 4.068-3.921 7.928-6.559 11.468-1.484 1.993-3.105 3.879-4.843 5.655-12.294 12.486-24.797 24.764-37.169 37.173-1.121 1.131-2.22 2.283-3.292 3.46-2.284 2.506-4.452 5.119-6.494 7.825-5.604 7.427-10.259 15.565-13.819 24.161-3.431 8.283-5.844 16.985-7.167 25.852-.467 3.127-.799 6.275-.995 9.431-.098 1.587-.16 3.175-.192 4.764-.008.455-.013.91-.017 1.365-.012 2.515-.002 5.032-.002 7.546l60 0m8.826-198.747l0-.001c-.011-.01.043.043.032.032l-.032-.031"}].concat([]))];return t&&s.unshift(Nd.a.createElement("title",null,t)),Nd.a.createElement.apply(Nd.a,["svg",a].concat(s))}Y1.propTypes={"aria-label":vc.a.string,className:vc.a.string,style:vc.a.object};var q1=Y1,Z1=i("DDT0"),J1=i.n(Z1);const X1={connecting:Vu()(q1,{className:J1.a.unknown}),disconnecting:Vu()(q1,{className:J1.a.unknown}),unreachable:Vu()(eM,{className:J1.a.error}),ok:Vu()(ay,{className:J1.a.ok})};var $1=function(e){const{remoteAccessState:t}=e;return X1[t]||null},e2=i("vd0/"),t2=i.n(e2);var i2=function(e){const{isClaimed:t}=e;return t?null:Vu()(ph,{className:t2.a.icon})};function n2(e){return!e.isShared}function a2(e){return!!e.desktop.isSettingsPopulated}function s2(e,t){return t>0}function r2(e){return e.desktop.backgroundTranscodeJobs.length>0}function o2(e){const t=e.desktop.cloudAccount;return t&&t.remoteAccessState}var l2=[{key:"status",title:()=>Object(Ze.default)("Status"),isVisible:!0,metricsPage:zd.sb,metricsPanePrefix:"",groups:[{key:"server-dashboard",title:()=>Object(Ze.default)("Dashboard"),isVisible:n2,createStatusIndicator:(e,t)=>Vu()(K1,{isActive:s2(0,t)})},{key:"alerts",title:()=>Object(Ze.default)("Alerts"),isVisible:n2},{key:"sync",title:()=>Object(Ze.default)("Sync"),isVisible:function(e,t){return!function(e,t){return!!e.features.find(e=>e.uuid===t)}(t,wt.d)}},{key:"conversion",title:()=>Object(Ze.default)("Conversions"),isVisible:n2,createStatusIndicator:e=>Vu()(K1,{isActive:r2(e)})}]},{key:"settings",title:()=>Object(Ze.default)("Settings"),isVisible:n2,metricsPage:zd.kb,metricsPanePrefix:"server:",groups:[{key:"general",title:()=>Object(Ze.default)("General"),isVisible:a2,createStatusIndicator:e=>Vu()(i2,{isClaimed:!!e.isClaimed})},{key:"remoteAccess",title:()=>Object(Ze.default)("Remote Access"),isVisible:e=>a2(e),createStatusIndicator:e=>Vu()($1,{remoteAccessState:o2(e)})},{key:"agents",title:()=>Object(Ze.default)("Agents"),isVisible:a2},{key:"library",title:()=>Object(Ze.default)("Library")},{key:"channels",title:()=>Object(Ze.default)("Plugins"),isVisible:a2},{key:"network",title:()=>Object(Ze.default)("Network")},{key:"transcoder",title:()=>Object(Ze.default)("Transcoder")},{key:"languages",title:()=>Object(Ze.default)("Languages"),isVisible:a2},{key:"dlna",title:()=>Object(Ze.default)("DLNA")},{key:"butler",title:()=>Object(Ze.default)("Scheduled Tasks")},{key:"extras",title:()=>Object(Ze.default)("Extras")}]},{key:"manage",title:()=>Object(Ze.default)("Manage"),isVisible:!0,groups:[{key:"libraries",title:()=>Object(Ze.default)("Libraries"),isVisible:n2,metricsPage:zd.kb,metricsPane:"server:libraries",paneComponent:fX},{key:"versions",title:()=>Object(Ze.default)("Optimized Versions"),isVisible:e=>n2(e)&&a2(e),metricsPage:zd.sb,metricsPane:"versions"},{key:"dvr",title:()=>Object(Ze.default)("Live TV & DVR"),isVisible:e=>n2(e)&&e.livetv>=1&&a2(e),metricsPage:zd.kb,metricsPane:"server:dvr",paneComponent:uQ},{key:"help",title:()=>Object(Ze.default)("Troubleshooting"),isVisible:e=>n2(e)&&a2(e),metricsPage:zd.kb,metricsPane:"server:help",paneComponent:_1},{key:"console",title:()=>Object(Ze.default)("Console"),isVisible:e=>n2(e)&&function(e){const t=e.diagnostics;return!(!t||-1===t.indexOf("streaminglogs"))}(e),metricsPage:zd.kb,metricsPane:"server:console",pageComponent:E1},{key:"plugins",title:()=>Object(Ze.default)("Plugins"),isVisible:function(e){return e.allowChannelAccess},metricsPage:zd.kb,metricsPane:"server:plugins",paneComponent:AQ}]}];function c2(){return Object(Wu.a)(Object(Wu.a)(_S(),e=>e?e.desktop.settings:[]),e=>e.reduce((e,t)=>(!t.group||e.includes(t.group)||t.hidden||e.push(t.group),e),[]))}function d2(e,t,i){return!0===e||I.a.isFunction(e)&&e(t,i)}function u2(){return Object(Wu.a)(_S(),lw(),Zu.a,c2(),(e,t,i,n)=>!e||e.isUnavailable?[]:l2.reduce((a,s)=>{if(!d2(s.isVisible,e,i))return a;const r=s.groups.reduce((a,r)=>((d2(r.isVisible,e,i)||!1!==r.isVisible&&n.includes(r.key))&&a.push({key:r.key,title:r.title(),statusIndicator:r.createStatusIndicator&&r.createStatusIndicator(e,t),pageComponent:r.pageComponent,paneComponent:r.paneComponent,route:ln(e.machineIdentifier,s.key,r.key)}),a),[]);return r.length>0&&a.push({key:s.key,title:s.title(),groups:r}),a},[]))}function p2(e,t){const i=I.a.findWhere(l2,{key:e}),n=I.a.findWhere(i.groups,{key:t});return n.metricsPage?{metricsPage:n.metricsPage,metricsPane:n.metricsPane}:{metricsPage:i.metricsPage,metricsPane:i.metricsPanePrefix+n.key}}function h2(e,t){const{download:i,initialState:n,isChecking:a=!0}=t,s={download:i?"1":"0"},r=V.join("/updater/check",s),o=e.getXHROptions(r,{type:"PUT"}),l=e.get("desktop").get("update"),c={isChecking:a};null!=n&&(c.state=n),l.set(c),D.a.ajax(o).then(null,()=>{l.set({isChecking:!1,state:qX})})}function m2(e,t){const i=V.join(["/updater/apply"],t),n=e.getXHROptions(i,{type:"PUT"});return D.a.ajax(n)}function g2(e){const t=e.get("desktop").get("update");m2(e).then(()=>{t.set("state",ZX),e.set("isInstallingServerUpdate",!0)},()=>{t.set("state",qX),e.set("isInstallingServerUpdate",!1)})}function v2(e,t,i,n){const a=e.get("deviceSettings").get("dismissedServerUpdateVersions");t(Object(Kn.A)({dismissedServerUpdateVersions:Object.assign({},a,{[i.get("machineIdentifier")]:n})}))}const y2=Object(Pi.a)("serverUpdate/fetchServerUpdateStatus"),f2=Object(Pi.a)("serverUpdate/checkForServerUpdate"),b2=Object(Pi.a)("serverUpdate/dismissServerUpdate"),I2=Object(Pi.a)("serverUpdate/downloadServerUpdate"),S2=Object(Pi.a)("serverUpdate/installServerUpdate"),C2={"serverUpdate/fetchServerUpdateStatus"(e,t){const i=Object(wi.m)(e,t),n=Object(wi.l)(e,t).get("update");i.get("isFullOwnedServer")&&i.get("updater")&&!i.get("isOutOfDate")&&!n.get("isChecking")&&(n.set({isChecking:!0}),n.fetch().then(()=>{const e=n.get("state");h2(i,{isChecking:e===GX||e===qX||e===JX})},()=>{n.set({isChecking:!1})}))},"serverUpdate/checkForServerUpdate"(e,t){const{download:i,initialState:n}=t;h2(Object(wi.m)(e,t),{download:i,initialState:n})},"serverUpdate/dismissServerUpdate"(e,t,i){const n=Object(wi.m)(e,t);Object(wi.l)(e,t).get("update").get("canInstall")?m2(n,{skip:1}).then(()=>{i(y2(t))},()=>{v2(e,i,n,t.version)}):v2(e,i,n,t.version)},"serverUpdate/downloadServerUpdate"(e,t){h2(Object(wi.m)(e,t),{download:!0,initialState:YX})},"serverUpdate/installServerUpdate"(e,t){const i=Object(wi.m)(e,t);if(i.get("activeConnection").get("isLoopback"))g2(i);else{const e=new vn({title:Object(Ze.default)("Remote Installation"),confirmLabel:Object(Ze.default)("Continue"),cancelLabel:Object(Ze.default)("Cancel"),message:Object(Ze.default)("The installer may display dialogs that require input. Make sure you have desktop access to the computer running Plex Media Server before continuing.")});U.a.trigger("show:modal",e),e.promise.then(()=>g2(i))}}};var M2=i("6ek3"),D2=i.n(M2),P2=R.ItemView.extend({tagName:"li",template:D2.a,bindings:{a:{modelAttribute:"selected",manual:!0,formatter:function(e){this.$el.toggleClass("active",!!e)}}}}),O2=Sm.extend({tagName:"ul",className:"agents-nav nav nav-pills nav-pills-sm",itemView:P2}),j2=i("wIEn"),w2=i.n(j2),T2=on.extend({name:"agentInfoModal",className:"agent-info-modal modal fade",template:w2.a,regions:{icon:".agent-icon-container"},serializeData:function(){return{agent:this.model.toJSON(),attribution:this.model.get("attribution").get("content")}},onRender:function(){on.prototype.onRender.apply(this,arguments),this.icon.show(new Wm({model:this.model,url:"/system/agents/attribution/image?identifier="+this.model.id,className:"agent-icon",width:100,height:100}))}}),E2=i("08Kf"),N2=i.n(E2),x2=R.ItemView.extend({tagName:"li",className:"card card-sortable",template:N2.a,events:{"change input[type=checkbox]":"onEnabledChange","click .settings-btn":"onSettingsClick","click .info-btn":"onInfoClick"},initialize:function(){this.attribution=this.model.get("attribution"),this.attribution.fetch()},bindings:{".info-btn":{model:"attribution",modelAttribute:"content",manual:!0,autohide:!0},".settings-btn":{modelAttribute:"hasPrefs",manual:!0,autohide:!0}},onEnabledChange:function(e){this.model.set("enabled",e.target.checked)},onSettingsClick:function(e){e.preventDefault();var t=new sm.a([],{server:this.model.server,url:"/:/plugins/"+this.model.id+"/prefs"});t.fetch().done(I.a.bind((function(){U.a.trigger("show:modal",new CQ({model:this.model,collection:t}))}),this))},onInfoClick:function(e){e.preventDefault(),U.a.trigger("show:modal",new T2({model:this.model}))}}),A2=Sm.extend({tagName:"ul",className:"list contributor-list",itemView:x2,events:{"change input[type=checkbox]":"save",update:"save"},save:function(){var e=[];this.$(":checked").each((function(t){e.push(this.name)})),this.trigger("save",e.join(","))},onRender:function(){this.sortable=new xm.a(this.$el[0],{draggable:".card-sortable",animation:200})},onClose:function(){this.sortable.destroy()}}),L2=i("+E9k"),k2=i.n(L2),R2=R.Layout.extend({template:k2.a,ui:{agentLabel:".agent-label",typeNavItems:".agent-types-nav li",agentNavItems:".agents-nav li"},regions:{agentsList:".agents-list-container",contributorsList:".contributors-list-container"},events:{"click .agent-types-nav a":"onAgentTypeClick","click .agents-nav a":"onAgentClick"},initialize:function(){this.bindAllWhenRendered("onAgentsReset","onContributorsReset"),this.agentTypes=[],this.agentTypes.push(Object(Qt.u)(Qt.j)),this.agentTypes.push(Object(Qt.u)(Qt.o)),this.agentTypes.push(Object(Qt.u)(Qt.b)),this.agentTypes.push(Object(Qt.u)(Qt.a)),this.agentTypes.push(Object(Qt.u)(Qt.k)),this.currentType=I.a.first(this.agentTypes),this.populateAgents()},serializeData:function(){return{currentType:this.currentType,agentTypes:this.agentTypes}},populateAgents:function(){var e=new oG([],{server:this.model,mediaTypeID:this.currentType.id});e.populate({reset:!0}).then(()=>{var t=e.filter(e=>e.get("identifier")!==ms.g&&e.get("identifier")!==ms.f&&e.get("identifier")!==ms.i);this.agents=e.clone(t),this.onAgentsReset()})},selectAgent:function(e){this.currentAgent&&this.currentAgent.set("selected",!1),this.currentAgent=e,e.set("selected",!0),this.ui.agentLabel.text(e.get("name")),this.additionalAgents=new oG([],{server:this.model,mediaTypeID:this.currentType.id,relatedAgentID:e.id}),this.contributors=new oG([],{server:this.model,mediaTypeID:this.currentType.id,primaryAgentID:e.id}),this.contributorsList.show(new A2({collection:this.contributors})),this.listenTo(this.contributorsList.currentView,"save",this.onContributorsSave),this.populateContributors()},populateContributors:function(){var e=[this.additionalAgents.populate({reset:!0}),this.contributors.populate({reset:!0})];D.a.when.apply(D.a,e).done(I.a.bind(this.onContributorsReset,this))},onAgentsReset:function(){if(this.agentsList.show(new O2({collection:this.agents})),this.agents.length){var e=this.agents.findWhere({selected:!0})||this.agents.first();this.selectAgent(e)}},onContributorsReset:function(){var e=I.a.bind((function(e){return e.id===this.currentAgent.id?(e.set("isPrimary",!0),!0):!!this.contributors.get(e.id)}),this);this.contributors.reset(this.additionalAgents.filter(e))},onAgentTypeClick:function(e){e.preventDefault();var t=D()(e.currentTarget),i=t.data("type");this.currentType=Object(Qt.u)(i),this.populateAgents(),this.ui.typeNavItems.removeClass("active"),t.parent("li").addClass("active")},onAgentClick:function(e){e.preventDefault();var t=D()(e.target).data("identifier"),i=this.agents.get(t);i&&this.selectAgent(i)},onContributorsSave:function(e){this.currentAgent.url="system/agents/"+this.currentAgent.id+"/config/"+this.currentType.id,this.currentAgent.save({order:e}).done(I.a.bind((function(){this.additionalAgents.fetch({silent:!0}),this.contributors.fetch({silent:!0})}),this))}}),z2=i("NQww"),U2=i.n(z2),V2=R.Layout.extend({className:"form-group",template:U2.a,isDisabled:!0,isActive:!1,ui:{submitBtn:".submit-btn",message:".form-message"},events:{"change #server-settings-form input[name]":"onInputChange","input #server-settings-form input[type=text]":"onInputChange","change #server-settings-form select[name]":"onInputChange","submit #server-settings-form":"onSubmit"},initialize:function(e){this.changes=e.changes},serializeData:function(){return I.a.where(this.collection.toJSON(),{group:this.options.group,hidden:!1})},enable:function(){this.isDisabled=!1,this.ui.submitBtn.removeClass("disabled"),this.ui.message.text(""),this.ui.message.removeClass("has-error")},updateModel:function(e,t){var i=this.collection.get(e);if(i)return i.set("value",t)},onRender:function(){I.a.isEmpty(this.changes)||this.enable()},onInputChange:function(e){var t=e.currentTarget,i=t.name,n=t.value,a=t.value;i&&("checkbox"===t.type&&((a=t.checked)||(n="0")),this.updateModel(i,a)&&(this.changes[t.name]=n,this.enable()))},onSubmit:function(e){e.preventDefault(),this.trigger("save")},onBeforeSave:function(){this.isActive=!0,this.ui.submitBtn.addClass("active")},onAfterSave:function(e){this.isActive=!1,this.ui.submitBtn.removeClass("active"),e?(this.isDisabled=!0,this.ui.submitBtn.addClass("disabled"),this.ui.message.removeClass("has-error"),this.ui.message.text(Object(Ze.default)("Your changes have been saved."))):(this.ui.message.addClass("has-error"),this.ui.message.text(Object(Ze.default)("Your changes could not be saved.")))}}),B2=V2.extend({prefix:"channel.",serializeData:function(){var e=V2.prototype.serializeData.apply(this,arguments),t=this.options.channelSettings.toJSON();return I.a.each(t,(function(e){e.id=this.prefix+e.id}),this),e.unshift.apply(e,t),e},updateModel:function(e,t){var i=V2.prototype.updateModel.apply(this,arguments);if(i)return i;var n=e.replace(this.prefix,""),a=this.options.channelSettings.get(n);return a?a.set("value",t):void 0}});var F2=function(){return Object(Wu.a)(_S(),e=>e?e.desktop.cloudAccount:null)};var H2=function(){return Object(Wu.a)(_S(),F2(),(e,t)=>!!(e&&e.isClaimed&&t&&t.signedIn))};var _2=function(e){return e.ui.authCodeExchange};var W2=function(e){const t=e&&e.responseJSON,i=!t&&e&&e.responseText&&Se.a.parseXML(e.responseText),n=t&&t.errors||i&&i.error;return n?Array.isArray(n)?n:[n]:[]};const Q2="subscription";function G2(e,t){switch(t){case Q2:switch(e){case"1003":return Object(Ze.default)("Subscriptions have been temporarily disabled: too many failed attempts. Please try again later.")}}switch(e){case"1001":return Object(Ze.default)("The username or password is incorrect");case"1003":return Object(Ze.default)("Sign in has been temporarily disabled: too many failed attempts. Please try again later.");case"1010-login":return Object(Ze.default)("Login is required");case"1010-password":return Object(Ze.default)("Password is required");case"1010-email":return Object(Ze.default)("Email is required");case"1011-username":return Object(Ze.default)("Username has already been taken");case"1011-email":return Object(Ze.default)("Email has already been taken");case"1028":return Object(Ze.default)("Invalid verification code");case"1029":return Object(Ze.default)("Please enter the verification code");case"1030":return Object(Ze.default)("This account only allows signing in with an email address");case"1031":return Object(Ze.default)("The username or password is incorrect. Repeated attempts may temporarily disable sign in.");case"1032-password":return Object(Ze.default)("Password must be at least 8 characters");case"1033-password":return Object(Ze.default)("Password is too weak");case"1034-password":return Object(Ze.default)("Password must be different from username or email address");case"1035-email":return Object(Ze.default)("Email is not a valid email address");case"1036-username":return Object(Ze.default)("Username must not be an email address");case"1037-username":return Object(Ze.default)("Username contains invalid characters");case"1038-pin":return Object(Ze.default)("Pin must be 4 digits");case"1039-passwordConfirmation":return Object(Ze.default)("Confirm Password must match Password");case"1040":case"1044":return Object(Ze.default)("Invalid Password")}}function K2(e,t){if(!e)return;const i=String(e.code);return G2(e.code+"-"+e.field,t)||G2(i,t)||e.message||Object(Ze.default)("An unknown error occurred")}function Y2(e){const t=e&&e[0];return t?I.a.isObject(t)?K2(t):t:Object(Ze.default)("There was a problem signing in to Plex.")}var q2=function(e,t){const i=D.a.Deferred(),n=window.setTimeout(()=>{i.reject()},t);return e.then(i.resolve,i.reject).always(()=>{window.clearTimeout(n)}),i.promise()};function Z2(e){return!!e.get("shortVersion")&&Qi(e.get("shortVersion"),qi.mediaProvidersServerRoot)}function J2(e,t){const i=e.get("cloudServer").get("resources"),n={clientIdentifier:t.get("machineIdentifier")};return function(e,t={}){let i=Math.floor(Math.max(t.times||0,0));const n=Math.floor(Math.max(t.delay||0,0));t.cancel&&t.cancel.always(()=>{i=-1});const a=D.a.Deferred();let s;return t.maxDuration&&(s=window.setTimeout(()=>{a.reject("maxDuration")},t.maxDuration)),function t(){i<0||e().done((function(){s&&window.clearTimeout(s),a.resolve(...arguments)})).fail((function(){i-=1,i<0?(s&&window.clearTimeout(s),a.reject(...arguments)):"pending"===a.state()&&window.setTimeout(t,n)}))}(),a.promise()}(()=>i.fetch().then(()=>i.findWhere(n)?D.a.Deferred().resolve().promise():D.a.Deferred().reject().promise()),{times:30,delay:1e3})}var X2=function(e,t,i,n){const a=e.get("user"),s=e.get("cloudServer");return a.get("anonymous")?D.a.Deferred().reject().promise():D.a.ajax(s.getXHROptions("/api/claim/token",{headers:{"X-Plex-Token":i}})).promise().then(e=>Se.a.parseXML(e).token).then(e=>D.a.ajax(t.getXHROptions(V.join("/myplex/claim",{token:e}),{type:"POST"}))).then(()=>J2(e,t)).then(()=>{let e;return Z2(t)&&(e=t.getXHROptions("/media/providers")),t.fetch(e)}).then(()=>function(e,t,i){const n=D.a.Deferred();return e.get("primaryServer")===t?n.resolve():(e.once("change:primaryServer",n.resolve),i()),q2(n.promise(),2e3)}(e,t,n)).then(()=>{const e=a.get("email"),i=t.get("desktop").get("cloudAccount");t.set({myPlexSigninState:"ok",myPlexUsername:e}),i.set({signedIn:!0,username:e})})};var $2=function(e){return e.destroy({timeout:0}).promise().done(()=>{e.server.set({accessToken:void 0,myPlexSigninState:"none",myPlexSubscription:!1}),e.restoreDefaults()})};var e4=function(e){const t=e.get("cloudServer");return D.a.ajax(t.getXHROptions("/api/v2/pins",{method:"POST",dataType:"json",data:{strong:!0}})).then(e=>e)};const t4=Object(Pi.a)("server/claim/claimServer"),i4=Object(Pi.a)("server/claim/signInThenClaimServer"),n4=Object(Pi.a)("server/claim/signOutServer"),a4=Object(Pi.a)("server/claim/createPIN");function s4(e,t,i){const{authToken:n}=t,a=Object(wi.m)(e,t),s=Dd(e);s.set({errorMessage:null,isBusy:!0});const r=Object(ne.c)("metrics");return X2(e,a,n,()=>{i(Object(Kn.s)({machineIdentifier:a.id,metricsProperties:{context:_t.SETTINGS}}))}).done(()=>{r.trackEvent({event:"client:claimServer",interaction:!0})}).fail(()=>{r.trackEvent({event:"client:claimServerFailure",interaction:!1}),s.set({errorMessage:Object(Ze.default)("There was a problem claiming this server."),isBusy:!1})})}const r4={"server/claim/claimServer"(e,t,i){s4(e,t,i).then(()=>{Dd(e).set({errorMessage:null,isBusy:!1})})},"server/claim/signInThenClaimServer"(e,t,i){(function(e,t){const i=e.get("user"),{authToken:n}=t;return D.a.ajax(i.server.getXHROptions(I.a.result(i,"url"),{headers:{"X-Plex-Token":n}})).then(e=>i.signIn(e,{}))})(e,t).then(()=>s4(e,t,i)).then(()=>{Dd(e).set({errorMessage:null,isBusy:!1})}).fail(t=>{const i=W2(t);U.a.trigger("show:alert",{message:Y2(i)});Dd(e).set({errorMessage:Object(Ze.default)("There was a problem claiming this server."),isBusy:!1})})},"server/claim/signOutServer"(e,t,i){const n=Object(wi.m)(e,t).get("desktop").get("cloudAccount"),a=Dd(e);a.set({errorMessage:null,isBusy:!0}),$2(n).done(()=>{a.set({errorMessage:null,isBusy:!1})}).fail(()=>{a.set({errorMessage:Object(Ze.default)("There was a problem signing the server out."),isBusy:!1})})},"server/claim/createPIN"(e,t,i){const n=e4(e),a=Dd(e);n.then(e=>{a.set({pinID:e.id,code:e.code,isBusy:!0})}),n.fail(()=>{a.set({fatalErrorMessage:Object(Ze.default)("An error occurred"),isBusy:!1})})}};var o4=i("AKFi"),l4=i.n(o4);var c4=function(e){const{serverEntityID:t,avatarUrl:i}=e;return Vu()("div",{className:l4.a.avatar},void 0,i?null:Vu()(ph,{className:l4.a.icon}),Vu()(rC,{serverEntityID:t,url:i,width:60,height:60}))};const d4=Object(Wu.a)(Zu.a,e=>({avatarUrl:e.isSignedIn?e.thumb:null}));var u4=Object(Hu.b)(d4)(c4),p4=i("z9Hc"),h4=i.n(p4);var m4=function(e){const{isSigningOut:t,username:i,serverEntityID:n,onSignOutPress:a}=e;return Vu()("div",{className:h4.a.container},void 0,Vu()(u4,{serverEntityID:n}),Vu()("div",{className:h4.a.message},void 0,Vu()("div",{className:h4.a.messageHeader},void 0,Object(Ze.default)("Server signed in as")),Vu()("div",{className:h4.a.messageDetails},void 0,i)),Vu()(hV,{className:h4.a.button,kind:Dp,size:Hh,isSpinning:t,onPress:a},void 0,Object(Ze.default)("Sign Out")))};const g4=Nd.a.createElement,{Component:v4}=Nd.a;const y4=Object(Wu.a)(_2,e=>e.isBusy);const f4={dispatchSignOutServer:n4};var b4=Object(Hu.b)((function(){return Object(Wu.a)(y4,Object(Wu.a)(F2(),e=>e&&e.username||null),(e,t)=>({isSigningOut:e,username:t}))}),f4)(class extends v4{constructor(...e){super(...e),this.onSignOutPress=e=>{this.props.dispatchSignOutServer({serverEntityID:this.props.serverEntityID})}}render(){const e=this.props,t=Xe()(e,["dispatchSignOutServer"]);return g4(m4,tp()({},t,{onSignOutPress:this.onSignOutPress}))}});var I4=function(){return window!==window.top};var S4=function(){return I4()},C4=i("aIE1"),M4=i.n(C4);const D4=Nd.a.createElement;var P4=function(e){return D4(hV,tp()({className:M4.a.button,kind:Dp,size:Hh,target:"_blank"},e),Object(Ze.default)("Claim Server"))};const{Component:O4}=Nd.a,j4=Object(Wu.a)(bg("authToken"),e=>({authToken:e})),w4={dispatchClaimServer:t4};var T4=Object(Hu.b)(j4,w4)(class extends O4{constructor(...e){super(...e),this.onClaimServerPress=()=>{this.props.dispatchClaimServer({serverEntityID:this.props.serverEntityID,authToken:this.props.authToken})}}render(){const{isBusy:e,isDisabled:t}=this.props;return Vu()(P4,{isSpinning:e,isDisabled:t,onPress:this.onClaimServerPress})}});var E4=function(e,t){const i=e.get("cloudServer");return D.a.ajax(i.getXHROptions("/api/v2/pins/"+t,{dataType:"json"})).promise().then(e=>e)};var N4=function(){return function(e,t,i){const{pinID:n}=t,a=Dd(e);function s(){const t=a.get("pinID");n===t&&E4(e,n).then(({authToken:e})=>{e?a.set({authToken:e}):r()}).fail(e=>{a.set({code:null,pinID:null,isBusy:!1,fatalErrorMessage:e&&404===e.status?null:Object(Ze.default)("An error occurred")})})}function r(){window.setTimeout(s,2e3)}r()}};const x4=Object(Pi.a)("user/authCodeExchange/readStoredPIN"),A4=Object(Pi.a)("user/authCodeExchange/preloadPIN"),L4=Object(Pi.a)("user/authCodeExchange/resetAuthCodeExchange"),k4=Object(Pi.a)("user/authCodeExchange/beginPolling"),R4=Object(Pi.a)("user/authCodeExchange/stopPolling"),z4=Object(Pi.a)("user/authCodeExchange/skipSignIn");function U4(e,t){const i=Dd(e);return i.set({isBusy:!0}),e4(e).then(({id:e,code:n,expiresIn:a})=>{const s=window.setTimeout(()=>{t(R4())},1e3*a);i.set({code:n,pinID:e,pinTimeout:s,isBusy:!1})}).fail(()=>{i.set({fatalErrorMessage:Object(Ze.default)("An error occurred"),isBusy:!1})})}const V4={"user/authCodeExchange/resetAuthCodeExchange"(e,t,i){const n=Dd(e);Object(Ti.a)(()=>{n.set({code:null,pinID:null,authToken:null,errorMessage:null})})},"user/authCodeExchange/readStoredPIN"(e,t,i){const n=Dd(e),a=n.get("pinIDInitial"),s=(a?D.a.Deferred().resolve(a).promise():D.a.Deferred().reject().promise()).then(()=>E4(e,a).fail(()=>{n.set({errorMessage:Object(Ze.default)("There was an error signing in")})})).then(({authToken:e})=>e?D.a.Deferred().resolve(e).promise():(n.set({errorMessage:Object(Ze.default)("There was an error signing in")}),D.a.Deferred().reject().promise())).then(e=>{n.set({authToken:e})});t.shouldCreatePIN&&s.fail(()=>U4(e,i))},"user/authCodeExchange/preloadPIN"(e,t,i){Dd(e).set({isBusy:!0,code:null,pinID:null}),U4(e,i)},"user/authCodeExchange/beginPolling":N4(),"user/authCodeExchange/stopPolling"(e,t,i){const n=Dd(e),a=n.get("pinTimeout");a&&window.clearTimeout(a),n.set({pinID:null,pinTimeout:null,code:null})},"user/authCodeExchange/skipSignIn"(e,t,i){e.set({skipSignIn:!0})}},{Component:B4}=Nd.a,F4={dispatchRedirectToUrl:gu};var H4=Object(Hu.b)(null,F4)(class extends B4{componentDidMount(){const{to:e,replace:t}=this.props;this.props.dispatchRedirectToUrl({url:e,replace:t})}render(){return null}}),_4=i("ffMF");var W4=function e(t){return function(e,t=I.a.identity){return Object.keys(e).forEach(i=>{e[i]=t(e[i])}),e}(function(e,t=I.a.identity){return Object.keys(e).forEach(i=>{t(e[i])||delete e[i]}),e}(t),t=>I.a.isObject(t)?e(t):t)},Q4=i("P24g");var G4=function(e,t){const{base:i,searchParams:n,hashPath:a,hashParams:s}=me(e),r=Object(te.a)(s);return""+i+n+"#"+a+"?"+Object(Q4.a)(Object.assign({},r,t))};function K4(e,t){let[,i]=e.match(/(^[^#]+)?/);return i=i||"",""+i+t}var Y4=e=>e.user;var q4=function(){return Object(Wu.a)((e,{signUp:t})=>t,(e,{email:t})=>t,(e,{providerID:t})=>t,(e,{userAuthToken:t})=>t,(e,{code:t})=>t,(e,{pinID:t})=>t,(e,{errorMessage:t})=>t,e=>e.clientID,e=>e.isFirstRun,Y4,_4.a,(e,t,i,n,a,s,r,o,l,c,d)=>{const u=function(e){const t=e.context||{},i=Xe()(t,["user"]);return W4(Object.assign({},i))}(Object(ne.c)("metrics").toJSON());if(e){const{base:e}=me(window.location.href),t={forwardUrl:e,twop:"1",context:u};return d&&(t.lang=d),c.anonymous&&(t.guestToken=c.authToken),V.join(["https://www.plex.tv","sign-up/"],t)}{const e={clientID:o,context:u};if(!S4()){const t=s?G4(window.location.href,{pinID:s}):window.location.href;e.forwardUrl=t,l&&(e.skipSignInUrl=K4(window.location.href,V.join(["#!/setup/skipSignIn"],{forwardUrl:t})))}return a&&(e.code=a),i&&(e.provider=i),t&&(e.email=t),n&&(e.authToken=n),r&&(e.error=r),d&&(e.language=d),c.anonymous&&(e.guestToken=c.authToken),V.join(["https://app.plex.tv/auth",V.join(["#!/"],e)])}})};const Z4=Nd.a.createElement;var J4=Object(Hu.b)((function(){return Object(Wu.a)(q4(),e=>({serviceAuthUrl:e}))}),{})((function(e){const{component:t,serviceAuthUrl:i}=e,n=Xe()(e,["component","serviceAuthUrl"]);return Z4(t,tp()({to:i},n))}));const{Component:X4}=Nd.a,$4={dispatchReadStoredPIN:x4,dispatchCreatePIN:a4,dispatchSignInThenClaimServer:i4};var e3=Object(Hu.b)(_2,$4)(class extends X4{constructor(...e){super(...e),this.onClaimServerPress=()=>{this.props.dispatchCreatePIN()}}componentDidMount(){this.props.dispatchReadStoredPIN({shouldCreatePIN:!1})}componentDidUpdate(e){this.props.authToken!==e.authToken&&this.props.authToken&&this.props.dispatchSignInThenClaimServer({serverEntityID:this.props.serverEntityID,authToken:this.props.authToken})}render(){const{isBusy:e,isDisabled:t,pinID:i,code:n}=this.props;return i?Vu()(J4,{component:H4,code:n,pinID:i}):Vu()(P4,{isSpinning:e,isDisabled:t,onPress:this.onClaimServerPress})}});const{Component:t3}=Nd.a,i3={dispatchPreloadPIN:A4,dispatchBeginPolling:k4,dispatchStopPolling:R4,dispatchSignInThenClaimServer:i4};var n3=Object(Hu.b)(_2,i3)(class extends t3{constructor(...e){super(...e),this.onClaimServerPress=()=>{this.props.dispatchBeginPolling({pinID:this.props.pinID})},this.onStillTherePress=()=>{this.props.dispatchPreloadPIN()}}componentDidMount(){this.props.dispatchPreloadPIN()}componentDidUpdate(e){this.props.authToken!==e.authToken&&this.props.authToken&&this.props.dispatchSignInThenClaimServer({serverEntityID:this.props.serverEntityID,authToken:this.props.authToken})}componentWillUnmount(){this.props.dispatchStopPolling()}render(){const{code:e,pinID:t,isBusy:i,isDisabled:n}=this.props;return!(i||this.props.code)?Vu()(vw,{message:Object(Ze.default)("Server claiming timed out. {openLink}Try again?{closeLink}"),tags:[{open:"openLink",close:"closeLink",component:zp,kind:Pp,onPress:this.onStillTherePress}]}):Vu()(J4,{component:P4,code:e,pinID:t,isSpinning:i,isDisabled:n||!t,onPress:this.onClaimServerPress})}}),a3=i("9pnm"),s3=i.n(a3);var r3=function(e){const{serverEntityID:t,isBusy:i,isAnonymousUser:n,isUserRestricted:a,ClaimServerButtonConnectorComponent:s}=e;return Vu()("div",{className:s3.a.container},void 0,Vu()(c4,{serverEntityID:t}),n?Vu()("div",{className:s3.a.message},void 0,Vu()("div",{className:s3.a.messageHeader},void 0,Object(Ze.default)("This server is unclaimed and not secure")),Vu()("div",{className:s3.a.messageDetails},void 0,Object(Ze.default)("You need to sign in to claim this server."))):null,a?Vu()("div",{className:s3.a.message},void 0,Vu()("div",{className:s3.a.messageHeader},void 0,Object(Ze.default)("This server is unclaimed and not secure")),Vu()("div",{className:s3.a.messageDetails},void 0,Object(Ze.default)("You are signed in as a managed user.")),Vu()("div",{className:s3.a.messageDetails},void 0,Object(Ze.default)("Switch to a full user account to claim this server."))):null,n||a?null:Vu()("div",{className:s3.a.message},void 0,Vu()("div",{className:s3.a.messageHeader},void 0,Object(Ze.default)("This server is unclaimed and not secure")),Vu()("div",{className:s3.a.messageDetails},void 0,Object(Ze.default)("Claiming this server will associate it with your Plex account. This helps your devices find each other and helps keep your media safe."))),Vu()(s,{serverEntityID:t,isBusy:i,isDisabled:n||a}))};const{Component:o3}=Nd.a;const l3={dispatchClaimServer:t4},c3={SIGNED_IN_BUTTON:T4,SIGNED_OUT_POLL_BUTTON:n3,SIGNED_OUT_LAUNCH_BUTTON:e3};var d3=Object(Hu.b)((function(){return Object(Wu.a)(_2,fT,bg("isSignedIn"),bg("restricted"),(e,t,i,n)=>{let a;return a=i?"SIGNED_IN_BUTTON":S4()?"SIGNED_OUT_POLL_BUTTON":"SIGNED_OUT_LAUNCH_BUTTON",Object.assign({componentType:a,isUserRestricted:!!n,isAnonymousUser:t},e)})}),l3)(class extends o3{render(){const{serverEntityID:e,componentType:t,isBusy:i,isAnonymousUser:n,isUserRestricted:a}=this.props;return Vu()(r3,{serverEntityID:e,isBusy:i,isAnonymousUser:n,isUserRestricted:a,ClaimServerButtonConnectorComponent:c3[t]})}});const u3=Nd.a.createElement;var p3=Object(Hu.b)((function(){return Object(Wu.a)(H2(),e=>({isServerClaimed:e}))}))((function(e){const{isServerClaimed:t}=e,i=Xe()(e,["isServerClaimed"]);return u3(t?b4:d3,i)}));var h3=_u.extend({template:()=>"",mountReact(){const e=Object(ne.c)("appStore"),t=this.model.entityID();Fu.a.render(Vu()(Hu.a,{store:e},void 0,Vu()(p3,{serverEntityID:t})),this.el)}}),m3=i("o8wu"),g3=i.n(m3);function v3(e){return e?e.split("\n"):[]}var y3=on.extend({name:"releaseNotesModal",template:g3.a,serializeData:function(){var e=this.model.toJSON();return e.escapedVersion=I.a.escape(e.version.replace(/-.*/gi,"")),e.added=v3(e.added),e.fixed=v3(e.fixed),e}}),f3=i("Ynln"),b3=i.n(f3);const I3=Object.assign({},o,{CHECKING:"checking"});var S3=R.ItemView.extend({tagName:"span",className:"check-for-updates-container",template:b3.a,ui:{checkForUpdatesBtn:".check-for-updates-btn",downloadUpdatesContainer:".downloading-updates-container",downloadProgressContainer:".downloading-progress-container",downloadProgressLabel:".downloading-progress-label",updateProgressLabel:".downloading-updates-label",updateErrorMessage:".update-error-message",installManualLink:".install-manual-link"},modelEvents:{"change:isChecking":"onIsCheckingChange","change:state":"onStateChange","change:progress":"onProgressChange"},events:{"click .check-for-updates-btn":"onCheckForUpdatesClick","click .available-updates-btn":"onDownloadUpdatesClick","click .install-updates-btn":"onInstallUpdatesClick","click .install-manual-link":"onInstallManualClick","click .release-notes-btn":"onInfoClick"},initialize:function(){ne.c("appStore").dispatch(y2({serverEntityID:this.model.server.entityID()}))},serializeData:function(){return{canCheckForUpdate:this.canCheckForUpdate(this.model)}},checkForUpdates:function(e={}){ne.c("appStore").dispatch(f2({serverEntityID:this.model.server.entityID(),download:e.download,initialState:e.initialState}))},dismissUpdates:function(){ne.c("appStore").dispatch(b2({serverEntityID:this.model.server.entityID(),version:Gi(this.model.get("version"))}))},downloadUpdates:function(){ne.c("appStore").dispatch(I2({serverEntityID:this.model.server.entityID()}))},installUpdates:function(){ne.c("appStore").dispatch(S2({serverEntityID:this.model.server.entityID()}))},waitForInstall:function(){this.onWaitingForInstallCheck(),this.listenTo(this.model.server,"change:isConnected",this.onServerConnectedChange)},setCurrentViewState:function(e){this.$el.removeClass(this.currentViewState),this.currentViewState=e,this.$el.addClass(this.currentViewState)},showUpdateState:function(){var e=this.model.get("state");this.model.previous("state")===ZX&&this.stopListening(this.model.server,"change:isConnected",this.onServerConnectedChange);var t=e;this.model.get("canInstall")||e!==QX?this.model.get("isChecking")&&(t=I3.CHECKING):t=I3.NOTIFY,this.setCurrentViewState(t);var i=!(!this.model.get("added")&&!this.model.get("fixed"));if(this.$el.toggleClass("has-release-notes",i),t===I3.INSTALLING)this.waitForInstall();else if(t===I3.ERROR||t===I3.NOTIFY){var n;this.model.get("error")?(n=this.model.get("error"),this.ui.installManualLink.addClass("hidden")):this.model.get("canInstall")?(n=Object(Ze.default)("Something went wrong."),this.ui.installManualLink.removeClass("hidden")):(n=Object(Ze.default)("An update is available."),this.ui.installManualLink.removeClass("hidden"));var a=ne.c("appModel").get("user").server,s=this.model.get("downloadURL")||a.get("appsUrl");this.ui.installManualLink.attr("href",s),this.ui.updateErrorMessage.text(n)}},canCheckForUpdate:function(e){const t=e.get("state");return!e.get("isChecking")&&(t===GX||t===qX||t===JX)},onViewStateChange:function(e){this.isRendered&&(this.showUpdateState(),this.ui.checkForUpdatesBtn.toggleClass("active",!this.canCheckForUpdate(e)))},onRender:function(){this.showUpdateState()},onIsCheckingChange:function(e){this.onViewStateChange(e)},onStateChange:function(e){this.onViewStateChange(e)},onProgressChange:function(e,t){I.a.isNumber(t)?(this.ui.downloadUpdatesContainer.css({"background-size":t+"% 100%"}),this.ui.downloadProgressContainer.removeClass("hidden"),this.ui.downloadProgressLabel.text(t)):this.ui.downloadProgressContainer.addClass("hidden")},onServerConnectedChange:function(e,t){t?this.checkForUpdates():this._waitingTimeoutID&&(this._waitingTimeoutID=window.clearTimeout(this._waitingTimeoutID))},onWaitingForInstallCheck:function(){var e=this.model.server;if(e.get("isConnected")&&this.model.get("state")===ZX){var t=e.getXHROptions("/updater/check",{type:"PUT"});D.a.ajax(t).promise().always(()=>{this._waitingTimeoutID=window.setTimeout(this.onWaitingForInstallCheck.bind(this),2e3)})}},onCheckForUpdatesClick:function(e){e.preventDefault(),this.ui.checkForUpdatesBtn.isDisabled()||(this.ui.checkForUpdatesBtn.addClass("active"),this.checkForUpdates({download:!0}))},onDownloadUpdatesClick:function(e){e.preventDefault(),this.downloadUpdates()},onInstallUpdatesClick:function(e){e.preventDefault(),this.installUpdates()},onInstallManualClick:function(){this.dismissUpdates()},onInfoClick:function(e){e.preventDefault(),U.a.trigger("show:modal",new y3({model:this.model}))}}),C3=i("YWAx"),M3=i.n(C3),D3=V2.extend({template:M3.a,regions:{signIn:".sign-in-region",update:".update-region"},serializeData:function(){var e=V2.prototype.serializeData.apply(this,arguments),t=I.a.findWhere(e,{id:"FriendlyName"});return t&&(t.placeholder=this.model.get("friendlyName")),e},bindings:{".version":{modelAttribute:"shortVersion",formatter:function(e){return Object(Ze.default)("Version {1}",e)}}},onRender:function(){V2.prototype.onRender.apply(this,arguments),this.signIn.show(new h3({model:this.model})),this.model.get("updater")&&this.update.show(new S3({model:this.model.get("desktop").get("update"),collection:this.collection}))}});var P3=V2.extend({prefix:"account.",serializeData:function(){const e=this.options.account,t=[],i=ic.map(e=>({value:e,label:nc[e]}));return t.push({id:this.prefix+"autoSelectAudio",label:Object(Ze.default)("Automatically select audio and subtitle tracks"),summary:Object(Ze.default)("Automatically select audio and subtitle tracks in your preferred language when possible."),default:!1,value:e.get("autoSelectAudio"),type:"bool",group:"account.language",advanced:!1,hidden:!1}),t.push({id:this.prefix+"defaultAudioLanguage",label:Object(Ze.default)("Prefer audio tracks in"),default:"en",value:e.get("defaultAudioLanguage"),type:"text",group:"account.language",advanced:!1,hidden:!1,enumValues:i}),t.push({id:this.prefix+"subtitleMode",label:Object(Ze.default)("Subtitle mode"),default:1,value:parseInt(e.get("subtitleMode"),10),type:"int",group:"account.language",advanced:!1,hidden:!1,enumValues:[{value:0,label:Object(Ze.default)("Manually selected")},{value:1,label:Object(Ze.default)("Shown with foreign audio")},{value:2,label:Object(Ze.default)("Always enabled")}]}),t.push({id:this.prefix+"defaultSubtitleLanguage",label:Object(Ze.default)("Prefer subtitles in"),default:"en",value:e.get("defaultSubtitleLanguage"),type:"text",group:"account.language",advanced:!1,hidden:!1,enumValues:i}),t},updateModel:function(e,t){const i=V2.prototype.updateModel.apply(this,arguments);if(i)return i;const n=e.replace(this.prefix,""),a=this.options.account;return a.has(n)?a.set(n,t):void 0}}),O3=i("Xznh"),j3=i.n(O3),w3=V2.extend({className:"remote-access-container",template:j3.a,ui:{manualPortMappingMode:"#ManualPortMappingMode",manualPortMappingPort:"#ManualPortMappingPort",wanTotalMaxUploadRate:"#WanTotalMaxUploadRate",uploadContainer:".remote-access-upload-container",submitBtn:".submit-btn",message:".form-message"},events:{"change .remote-access-error-container input[id]":"onErrorInputChange","click .sign-in-link":"onSignInClick","click .remote-access-enable-btn":"onEnableClick","click .retry-btn":"onRetryClick","click .remote-access-disable-btn":"onDisableClick","change input[name=WanTotalMaxUploadRate]":"onTotalRateChange","keyup input[name=WanTotalMaxUploadRate]":"onTotalRateChange","change select[name=WanPerStreamMaxUploadRate]":"onPerStreamRateChange","submit #remote-access-upload-form":"onUploadFormSubmit"},initialize:function(e){this.cloudAccount=e.cloudAccount,this.changes=e.changes,this.listenTo(this.cloudAccount,{"change:signInState":this.render,"change:remoteAccessState":this.render})},serializeData:function(){var e=this.collection.get("PublishServerOnPlexOnlineKey"),t=this.collection.get("ManualPortMappingMode"),i=this.collection.get("ManualPortMappingPort"),n=this.collection.get("WanTotalMaxUploadRate"),a=this.collection.get("WanPerStreamMaxUploadRate"),s=this.cloudAccount.toJSON(),r=!e.get("value"),o=!s.signedIn,l=r||o;const c=!(!s.privateAddress||null==s.privatePort),d=!(!s.publicAddress||null==s.publicPort);var u={forceAdvanced:!r&&!!s.mappingError,isDisabled:r,isSignedOut:o,isUnavailable:l,canEditPort:!l&&t&&t.get("value"),hasPrivateAddress:c,hasPublicAddress:d,cloudAccount:s,hasMappingSettings:!(!t||!i),hasUploadLimitSettings:!(!n||!a),mappingModeSetting:t?t.toJSON():null,mappingPortSetting:i?i.toJSON():null,uploadSettings:[]};return n&&(u.totalRateSettingID=n.id,u.totalRateSettingValue=n.get("value")/1e3),a&&u.uploadSettings.push(a.toJSON()),u},enable:function(){},enableUploadForm:function(){this.isDisabled=!1,this.ui.message.text(""),this.ui.message.removeClass("has-error"),this.ui.submitBtn.removeClass("disabled")},updateUploadSetting:function(e,t){e&&(this.updateModel(e,t)&&(this.changes[e]=t,this.enable()))},connect:function(){return Ge.execute("connectServer",{cloudAccount:this.cloudAccount,value:!0})},disconnect:function(){return Ge.execute("connectServer",{cloudAccount:this.cloudAccount,value:!1})},reconnect:function(){return Ge.execute("reconnectServer",{cloudAccount:this.cloudAccount})},saveChanges:function(){if(I.a.isEmpty(this.changes))return D.a.Deferred().resolve().promise();var e=this.collection.first().save(this.changes);return e.done(I.a.bind((function(){this.changes={}}),this)),e},onErrorInputChange:function(e){V2.prototype.onInputChange.apply(this,arguments),this.ui.manualPortMappingPort.prop("disabled",!this.ui.manualPortMappingMode.prop("checked"))},onSignInClick:function(e){e.preventDefault(),ra("serverSettings",{serverID:this.model.id,group:"general"})},onEnableClick:function(e){e.preventDefault(),this.connect()},onDisableClick:function(e){e.preventDefault(),this.disconnect()},onRetryClick:function(e){e.preventDefault(),this.cloudAccount.set("remoteAccessState","connecting"),this.saveChanges().always(I.a.bind(this.reconnect,this))},onTotalRateChange:function(e){var t=e.currentTarget,i=parseFloat(t.value,10),n=I.a.isNaN(i)?0:Math.max(i,0);this.updateUploadSetting(t.name,1e3*n),this.enableUploadForm()},onPerStreamRateChange:function(e){var t=e.currentTarget;this.updateUploadSetting(t.name,t.value),this.enableUploadForm()},onUploadFormSubmit:function(e){e.preventDefault(),this.trigger("save");var t=this.collection.get("WanTotalMaxUploadRate").get("value"),i=!t;this.ui.wanTotalMaxUploadRate.val(t/1e3),this.ui.uploadContainer.toggleClass("show-warning",i)}}),T3=i("Pfwo"),E3=i.n(T3),N3=R.ItemView.extend({className:"loading",template:E3.a,initialize:function(e){e&&e.inline&&this.$el.addClass("loading-inline")}}),x3=i("apI8"),A3=i.n(x3),L3=R.ItemView.extend({template:A3.a}),k3={PENDING:"pending",FAILED:"failed",COMPLETE:"complete",failureCodes:{INVALID_PATH:"invalidPath",DISK_FULL:"diskFull",DISK_UNWRITABLE:"diskUnwritable"}};var R3=Wm.extend({background:!0,setup:function(e){this.model=e.model,e.noPlaceholder||(this.placeholderClass=Rm.playlist);const t=Vm(),i={width:Math.round((e.width||e.height||256)*t),height:Math.round((e.height||e.width||256)*t),rows:e.rows||2,cols:e.columns||2,border:e.border||0,media:e.media||"thumb",repeat:e.unique?0:1},n=this.model.get("composite");n&&(this.url=this.model.server.resolveUrl(V.join(n,i),{appendToken:!0}))}});const z3=["Bytes","KB","MB","GB","TB"];var U3=function(e,t){if(e=parseInt(e,10),t=t||1,I.a.isNaN(e))return"";if(0===e)return"0 Bytes";const i=parseInt(Math.floor(Math.log(e)/Math.log(1024)),10);return(e/Math.pow(1024,i)).toFixed(t)+" "+z3[i]},V3={PENDING:"pending",ERROR:"error",PROCESSED:"processed",contexts:{OK:"ok",FILE_UNAVAILABLE:"sourceFileUnavailable",METADATA_ERROR:"sourceFileMetadataError",PROFILE_ERROR:"clientProfileError",IO_ERROR:"ioError",TRANSCODER_ERROR:"transcoderError",UNKNOWN_ERROR:"unknownError",ANALYSIS_ERROR:"mediaAnalysisError",DOWNLOAD_FAILED:"downloadFailed",CANNOT_TRANSCODE:"cannotTranscode"}},B3=i("ngbI"),F3=i.n(B3),H3=R.Layout.extend({tagName:"li",className:"striped-list-item version-generator-metadata-list-item",template:F3.a,ui:{poster:".media-poster"},regions:{statusRegion:".conversion-status-region"},events:{"click .enable-btn":"onEnableClick","click .retry-btn":"onRetryClick"},modelEvents:{"change:processingState":"onProcessingStateChange"},initialize:function(e){this.generator=e.generator,this.transcodeJobs=e.transcodeJobs,this.pausedSetting=e.pausedSetting,this.type=this.model.get("type"),this.image=new Qm({model:this.model,type:"movie",height:60,modelAttribute:"episode"===this.type?"grandparentThumb":"thumb"})},bindings:{".generator-metadata-title":{modelAttribute:"title",formatter:function(e){return this.model.get("grandparentTitle")||this.model.get("parentTitle")||e}},".generator-metadata-episode-index":{modelAttribute:"index",autohide:!0,formatter:function(e){if("episode"===this.type)return Object(nS.a)({seasonIndex:this.model.get("parentIndex"),episodeIndex:e,date:this.model.get("originallyAvailableAt"),noLeadingZero:!0,separator:"  "})}},".generator-metadata-year":{modelAttribute:"year",autohide:!0,formatter:function(e){if("movie"===this.type)return e}},".conversion-status-failed-message":{modelAttribute:"processingStateContext",formatter:function(e){return this.getErrorMessage(e)}}},getErrorMessage:function(e){var t=V3.contexts;switch(e){case t.FILE_UNAVAILABLE:return Object(Ze.default)("File unavailable");case t.METADATA_ERROR:return Object(Ze.default)("Invalid metadata");case t.PROFILE_ERROR:return Object(Ze.default)("Invalid profile");case t.ANALYSIS_ERROR:return Object(Ze.default)("Unable to analyze")}return Object(Ze.default)("Unable to convert")},onRender:function(){this.image.setElement(this.ui.poster),this.statusRegion.show(new sg({model:this.model,generator:this.generator,transcodeJobs:this.transcodeJobs,pausedSetting:this.pausedSetting,initialState:this.model.get("processingState"),initialErrorMessage:this.getErrorMessage(this.model.get("processingStateContext"))}))},onClose:function(){this.image.close()},onProcessingStateChange:function(e,t){this.statusRegion.currentView&&this.statusRegion.currentView.enterState(t)},onEnableClick:function(e){e.preventDefault(),Ge.execute("enableVersionGenerator",{generator:this.model.generator,ratingKey:this.model.id})},onRetryClick:function(e){e.preventDefault(),Ge.execute("reprocessVersionGenerator",{generator:this.model.generator,ratingKey:this.model.id})}}),_3=Sm.extend({tagName:"ul",className:"list version-generator-metadata-list",itemView:H3}),W3=i("5+Nd"),Q3=i.n(W3),G3=on.extend({mixins:[Ho],name:"versionGeneratorMetadataModal",className:"version-generator-metadata-modal modal fade",template:Q3.a,pageSize:20,scrollThreshold:50,ui:{body:".modal-body",loading:".loading",errorMessage:".error-message"},regions:{listRegion:".list-region"},initialize:function(e){this.status=this.model.get("status"),this.listModel=e.listModel,this.collection=this.listModel.get("metadataItems"),this.transcodeJobs=e.transcodeJobs,this.pausedSetting=e.pausedSetting,this.handleScroll=I.a.throttle(this.whenRendered(this.onScroll),100)},states:{base:{},loading:{onEnter:function(){this.ui.loading.removeClass("hidden")},onExit:function(){this.ui.loading.addClass("hidden")}},error:{onEnter:function(){this.ui.errorMessage.removeClass("hidden")},onExit:function(){this.ui.errorMessage.addClass("hidden")}}},bindings:{".generator-title":{modelAttribute:"title"},".generator-items-count":{model:"status",modelAttribute:"itemsCount",formatter:function(e){return 1===e?Object(Ze.default)("{1} item",e):Object(Ze.default)("{1} items",e)}},".generator-total-size":{model:"status",modelAttribute:"totalSize",formatter:function(e){return e?U3(e):Object(Ze.default)("0 files")}},".generator-failure-container":{model:"status",modelAttribute:"failure",manual:!0,autohide:function(e){return!!e}},".generator-failure-message":{model:"status",modelAttribute:"failure",formatter:function(e){return e}}},populatePage:function(){this.enterState("loading");var e=this.listModel.populateRange({start:0,end:this.listModel.get("populatedRange").end+this.pageSize});return e.done(this.whenRendered((function(){this.enterState("base")}))),e.fail(this.whenRendered((function(){this.enterState("error")}))),e},onRender:function(){on.prototype.onRender.apply(this,arguments),this.ui.body.on("scroll",this.handleScroll),this.model.fetch(),this.populatePage(),this.listRegion.show(new _3({collection:this.collection,itemViewOptions:{generator:this.model,transcodeJobs:this.transcodeJobs,pausedSetting:this.pausedSetting}}))},onClose:function(){this.ui.body.off("scroll",this.handleScroll),this.collection.reset()},onScroll:function(){"error"!==this.currentState&&(this.ui.body.prop("scrollHeight")-this.ui.body.innerHeight()-this.ui.body.scrollTop()<this.scrollThreshold&&this.listModel.get("populatedRange").end<this.listModel.get("totalSize")&&this.populatePage())}}),K3=i("9jA7"),Y3=i.n(K3),q3=R.ItemView.extend({className:"striped-list-item media-list-item playlist-item version-generator-item",tagName:"li",template:Y3.a,ui:{poster:".media-poster",status:".generator-status"},events:{"click .playlist-inner-item":"onClick","click .retry-btn":"onRetryClick","click .edit-btn":"onEditClick","click .delete-btn":"onDeleteClick"},attributes:function(){return{"data-generator-id":this.model.id}},initialize:function(e){this.transcodeJobs=e.transcodeJobs,this.pausedSetting=e.pausedSetting,this.status=this.model.get("status");this.compositeImage=new R3({model:this.model,width:zm.getPosterWidth("movie",60),height:60,rows:1,columns:1}),this.listenTo(this.transcodeJobs,"reset add remove",this.onTranscodeJobsChange)},resetState:function(){var e=["converting",k3.PENDING,k3.COMPLETE,k3.FAILED];this.ui.status.removeClass(e.join(" "))},getState:function(e){return this.transcodeJobs.findWhere({generatorID:this.model.id})?"converting":e.get("itemsFailedCount")>0?k3.FAILED:e.get("state")},bindings:{".generator-title":{modelAttribute:"title"},".generator-target":{modelAttribute:"target"},".generator-status":{model:"status",modelAttribute:"state",modelListeners:["state","itemsFailedCount"],manual:!0,formatter:function(e,t){this.resetState(),t.addClass(this.getState(this.status))}},".generator-status-failed-message":{model:"status",modelAttribute:"itemsFailedCount",formatter:function(e){return 1===e?Object(Ze.default)("1 failed item"):Object(Ze.default)("{1} failed items",e)}},".retry-btn":{model:"status",modelAttribute:"state",modelListeners:["state","itemsFailedCount"],manual:!0,autohide:function(e){return this.getState(this.status)===k3.FAILED}}},onRender:function(){this.compositeImage.setElement(this.ui.poster)},onClose:function(){this.compositeImage.close()},onTranscodeJobsChange:function(){var e=this.getState(this.status);this.resetState(),this.ui.status.addClass(e)},onClick:function(e){e.preventDefault(),U.a.trigger("show:modal",new G3({model:this.model,listModel:this.model.get("children"),transcodeJobs:this.transcodeJobs,pausedSetting:this.pausedSetting}))},onRetryClick:function(e){e.preventDefault(),e.stopImmediatePropagation(),Ge.execute("reprocessVersionGenerator",{generator:this.model})},onEditClick:function(e){e.preventDefault(),e.stopImmediatePropagation(),U.a.trigger("show:modal",new qN({model:this.model}))},onDeleteClick:function(e){e.preventDefault(),e.stopImmediatePropagation(),Ge.execute("deleteVersionGenerator",{generator:this.model})}}),Z3=Sm.extend({tagName:"ol",className:"list media-list playlist-items",itemView:q3,emptyView:L3,sorted:!0,onRender:function(){this.sortable&&this.sortable.destroy(),this.sortable=new xm.a(this.el,{onUpdate:I.a.bind(this.onItemMove,this),handle:".sortable-handle",animation:200,scroll:!0,scrollSensitivity:100,scrollSpeed:2})},onClose:function(){this.sortable&&this.sortable.destroy()},onItemMove:function(e){var t=D()(e.item).data("generator-id"),i=D()(e.item).prev().data("generator-id");this.collection.parent.moveItem(t,i)}}),J3=i("hvMQ"),X3=i.n(J3),$3=R.ItemView.extend({template:X3.a,serializeData:function(){return{isTranscoderRequired:!this.model.get("transcoderVideo"),isUpgradeRequired:!this.model.supports("streamReady"),escapedMinServerVersion:I.a.escape(qi.streamReady)}}}),e5=i("HJfd"),t5=i.n(e5),i5=V2.extend({mixins:[Ho],className:"versions-container",template:t5.a,ui:{message:".versions-status-message"},regions:{listRegion:".background-processing-list-region"},events:{"click .delete-all-btn":"onDeleteAllVersionsClick","click .status-conversion-btn":"onStatusConversionClick"},initialize:function(e){this.pausedSetting=this.collection.get("BackgroundQueueIdlePaused"),this.playlists=new gm([],{server:this.model,allowInCache:!0}),this.transcodeJobs=this.model.get("desktop").get("backgroundTranscodeJobs")},initialState:"loading",states:{loading:{nextState:"list",onEnter:function(){var e=this.model.supports("streamReady"),t=this.model.get("transcoderVideo");if(this.listRegion.show(new N3({inline:!0})),e&&t){var i=D.a.when(this.playlists.populate(),this.transcodeJobs.fetch());(i=i.then(I.a.bind((function(){return this.playlist=this.playlists.first(),this.playlist?(this.generators=this.playlist.get("children"),this.generators.fetch()):D.a.Deferred().reject().promise()}),this))).done(this.whenRendered((function(){this.enterNextState()}))),i.fail(this.whenRendered((function(){this.enterState("error")})))}else this.enterState("error")}},list:{onEnter:function(){this.toggleMessage(),this.listenTo(this.generators,"reset add remove",this.toggleMessage),this.listRegion.show(new Z3({collection:this.generators,itemViewOptions:{transcodeJobs:this.transcodeJobs,pausedSetting:this.pausedSetting}}))},onExit:function(){this.stopListening(this.generators)}},error:{onEnter:function(){this.listRegion.show(new $3({model:this.model}))}}},toggleMessage:function(){this.ui.message.toggleClass("hidden",!this.generators.length)},onRender:function(){this.enterNextState()},onDeleteAllVersionsClick:function(e){e.preventDefault(),Ge.execute("deleteAllVersionGenerators",{server:this.model}).then(I.a.bind((function(){return this.generators.fetch()}),this))},onStatusConversionClick:function(e){e.preventDefault(),ra("conversion",{serverID:this.model.id})}}),n5=i("Xrwt"),a5=i.n(n5),s5=R.Layout.extend({className:"server-settings-container",template:a5.a,remoteAccessDecorators:{connecting:"unknown",disconnecting:"unknown",unreachable:"error",ok:"success"},regions:{serverDropdown:".filter-bar",nav:".nav-region",pane:".pane-region"},events:{"click .toggle-advanced-btn":"onToggleAdvancedClick"},panes:{general:{constructor:D3,group:"general",title:"General",isVisible:!0},remoteAccess:{constructor:w3,group:"remoteAccess",title:"Remote Access",isVisible:!0},versions:{constructor:i5,group:"versions",title:"Optimized Versions",isVisible:!0},agents:{constructor:R2,group:"agents",title:"Agents",isVisible:!0},library:{constructor:V2,group:"library",title:"Library"},channels:{constructor:B2,group:"channels",title:"Plugins",isVisible:!0},network:{constructor:V2,group:"network",title:"Network"},transcoder:{constructor:V2,group:"transcoder",title:"Transcoder"},languages:{constructor:P3,group:"account.language",title:"Languages",isVisible:!0},dlna:{constructor:V2,group:"dlna",title:"DLNA"},butler:{constructor:V2,group:"butler",title:"Scheduled Tasks"},extras:{constructor:V2,group:"extras",title:"Extras"}},initialize:function(e){this.defaultGroup=e.group||"general",this.account=e.account,this.cloudAccount=e.cloudAccount,this.channelSettings=e.channelSettings,this.tempSettings=this.collection.cloneDeep(),this.tempAccount=this.account.clone(),this.tempChannelSettings=this.channelSettings.cloneDeep(),this.changes={};var t=Object(ne.c)("appModel").get("user").get("experienceSettings").get("showAdvancedSettings");if(this.$el.toggleClass("show-advanced",t),this.initGroups(),this.model.supports("reachability")){var i=I.a.extend(this.model.getXHROptions("/myplex/refreshReachability"),{type:"PUT"});D.a.ajax(i)}this.listenTo(U.a,"shortcut:save",this.saveChanges),this.listenTo(this.collection,"change:value",this.onSettingValueChange)},initGroups:function(){var e=I.a.keys(this.panes);const t=I.a.unique(this.collection.filter(e=>e.get("group")&&!e.get("hidden")).map(e=>e.get("group")));this.groups=new v.c.Collection,e.forEach(e=>{const i=this.panes[e],n=i.isVisible;(!0===n||!1!==n&&I.a.contains(t,e))&&this.addGroup(e,i)}),I.a.each(t,(function(t){if(!I.a.contains(e,t)){var i={constructor:V2,group:t,title:t};this.panes[t]=i,this.addGroup(t,i)}}),this)},addGroup:function(e,t){var i=I.a.omit(t,"constructor");i.id=e,this.groups.add(i)},showPane:function(e){if(this.currentPane){if(this.currentPane.isActive)return this.currentPane;this.stopListening(this.currentPane),this.flushChanges()}var t=this.panes[e];if(t&&this.groups.get(e)){var i=new(0,t.constructor)({model:this.model,collection:this.tempSettings,account:this.tempAccount,cloudAccount:this.cloudAccount,channelSettings:this.tempChannelSettings,group:t.group,changes:this.changes});return this.currentPane=i,this.pane.show(i),this.listenTo(this.currentPane,"save",this.saveChanges),i}ra("serverSettings",{serverID:this.model.id,group:"general"})},flushChanges:function(){this.currentPane.changes&&I.a.extend(this.changes,this.currentPane.changes)},saveChanges:function(){if(this.flushChanges(),!this.currentPane.isDisabled&&!this.currentPane.isActive){this.currentPane.triggerMethod("before:save");var e=[],t=this.getPrefixedChanges("channel."),i=this.getPrefixedChanges("account.");if(!I.a.isEmpty(t)){var n=this.channelSettings.first().getSaveParams(t),a=I.a.result(this.channelSettings,"url"),s=V.join([a,"/set"],n);e.push(D.a.ajax(this.model.getXHROptions(s)))}I.a.isEmpty(i)||e.push(this.account.save(i)),I.a.isEmpty(this.changes)||e.push(this.collection.first().save(this.changes));var r=D.a.when.apply(D.a,e);r.done(I.a.bind((function(){var e=I.a.keys(this.changes);I.a.each(e,(function(e){var t=this.tempSettings.get(e);this.collection.get(e).set("value",t.get("value")),"ButlerUpdateChannel"===e&&this.onButlerUpdateChannelChange()}),this),this.changes={},this.currentPane&&(this.currentPane.changes&&(this.currentPane.changes={}),this.currentPane.triggerMethod("after:save",!0))}),this)),r.fail(I.a.bind((function(){this.currentPane&&this.currentPane.triggerMethod("after:save",!1)}),this))}},getPrefixedChanges:function(e){var t={};return I.a.each(this.changes,(function(i,n){0===n.lastIndexOf(e,0)&&(t[n.substring(e.length)]=i,delete this.changes[n])}),this),t},onRender:function(){this.showPane(this.defaultGroup)},onClose:function(){this.currentPane=null},onSettingValueChange:function(e,t){this.tempSettings.get(e.id).set("value",t)},onServerConnectedChange:function(e,t){t&&(this.stopListening(e,"change:connected",this.onServerConnectedChange),Object(ne.c)("appModel").set("primaryServer",e))},onToggleAdvancedClick:function(e){e.preventDefault();var t=this.$el.hasClass("show-advanced");Object(ne.c)("appStore").dispatch(Object(Qu.l)({showAdvancedSettings:!t})),this.$el.toggleClass("show-advanced",!t)},onButlerUpdateChannelChange:function(){var e=this.collection.get("ButlerTaskCheckForUpdates");e&&e.get("value")&&Object(ne.c)("appStore").dispatch(f2({serverEntityID:this.model.entityID(),download:!1}))}});var r5=function(){return Vu()(vh,{title:Object(Ze.default)("No soup for you!"),description:Object(Ze.default)("You do not have access to this server")})};var o5=function(e){const{friendlyName:t,isPending:i,onTryAgainPress:n}=e;return Vu()(vh,{title:t?Object(Ze.default)("{serverName} is currently unavailable",{serverName:t}):Object(Ze.default)("Server is currently unavailable"),description:Vu()(vw,{message:Object(Ze.default)("Verify you have a network connection and that the server is online, or see our {openLink}troubleshooting{closeLink} tips for further assistance."),tags:[{open:"openLink",close:"closeLink",component:zp,kind:Pp,to:"https://help.plex.tv/noserver",target:"_blank"}]})},void 0,Vu()(dV,{isSpinning:i,kind:Pp,onPress:n},void 0,Object(Ze.default)("Retry connection")))};const{Component:l5}=Nd.a;var c5=Vu()("br",{});var d5=class extends l5{constructor(e,t){super(e,t),this.onAllowFallbackConfirm=()=>{this.setState({isSubmitting:!0}),this.props.onAllowHttpFallback({serverEntityID:this.props.serverEntityID,allowHttpFallback:this.props.publicAddressMatches?lc.SAME_NETWORK:lc.ALWAYS})},this.state={isSubmitting:!1}}render(){const{publicAddressMatches:e,isOpen:t,onModalClose:i}=this.props,{isSubmitting:n}=this.state;return Vu()(Fw,{size:Fh,isOpen:t,metricsPage:zd.O,onModalClose:i},void 0,Vu()(YL,{onModalClose:i},void 0,Vu()(zL,{},void 0,Object(Ze.default)("Allow Insecure Connections")),Vu()(wL,{},void 0,e?Object(Ze.default)("Insecure connections will only be allowed when you're on the same network as the server."):Object(Ze.default)("Insecure connections will be allowed to any server."),c5,Object(Ze.default)("The Allow Fallback to Insecure Connections setting can be changed in Web Settings. Would you like to allow insecure connections?")),Vu()(AL,{},void 0,Vu()(sV,{},void 0,Vu()(hV,{kind:Dp,isDisabled:n,onPress:i},void 0,Object(Ze.default)("Cancel")),Vu()(hV,{kind:Op,isSpinning:n,onPress:this.onAllowFallbackConfirm},void 0,Object(Ze.default)("Allow"))))))}};const u5={onAllowHttpFallback:yK};var p5=Object(Hu.b)((function(){return Object(Wu.a)(_S(),e=>({publicAddressMatches:e.publicAddressMatches}))}),u5)(d5);const{Component:h5}=Nd.a;var m5=class extends h5{constructor(e,t){super(e,t),this.onReloadHttpPress=()=>{this.setState({isSubmitting:!0}),this.props.onReloadHttp()},this.onReloadHttpAlwaysPress=()=>{this.setState({isSubmitting:!0}),this.props.onReloadHttpAlways()},this.state={isSubmitting:!1}}render(){const{isOpen:e,onModalClose:t}=this.props,{isSubmitting:i}=this.state;return Vu()(Fw,{size:Fh,isOpen:e,metricsPage:zd.O,onModalClose:t},void 0,Vu()(YL,{onModalClose:t},void 0,Vu()(zL,{},void 0,Object(Ze.default)("Allow Insecure Connections")),Vu()(wL,{},void 0,Object(Ze.default)("I understand that traffic between this application and Plex Media Server over an insecure connection is not encrypted.")),Vu()(AL,{},void 0,Vu()(sV,{},void 0,Vu()(hV,{kind:Dp,isDisabled:i,onPress:t},void 0,Object(Ze.default)("Cancel")),Vu()(hV,{kind:Op,isSpinning:i,onPress:this.onReloadHttpAlwaysPress},void 0,Object(Ze.default)("Allow always")),Vu()(hV,{"data-autofocus":!0,kind:Op,isSpinning:i,onPress:this.onReloadHttpPress},void 0,Object(Ze.default)("Allow once"))))))}};var g5=Object(Hu.b)((function(){return Object(Wu.a)(_S(),e=>({friendlyName:e.friendlyName}))}),(function(e){return{onReloadHttp(){e(mu())},onReloadHttpAlways(){e(vu()),e(mu())}}}))(m5),v5="data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMTAwIDEwMCIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBzdHlsZT0ic3Ryb2tlLW1pdGVybGltaXQ6MS40MTQyMTtjbGlwLXJ1bGU6ZXZlbm9kZDtmaWxsLXJ1bGU6ZXZlbm9kZDtzdHJva2UtbGluZWpvaW46cm91bmQiPgogPGNpcmNsZSBpZD0iMCIgY3g9IjUwIiBjeT0iNTAiIHI9IjUwIiBzdHlsZT0iZmlsbDp1cmwoIzMpIi8+CiA8Y2lyY2xlIGlkPSIxIiBjeD0iNTAiIGN5PSI1MCIgcj0iNDciIHN0eWxlPSJmaWxsOnVybCgjNCkiLz4KIDxwYXRoIGlkPSIyIiBkPSJtMzIuOSAxOC44bDE4LjE2MSAwIDIwLjAzOSAzMS4yNS0yMC4wMzkgMzEuMjUtMTguMTYxIDAgMjAuMDM5LTMxLjI1LTIwLjAzOS0zMS4yNSIgc3R5bGU9ImZpbGw6dXJsKCM1KSIvPgogPGRlZnM+CiAgPGxpbmVhckdyYWRpZW50IGlkPSIzIiB4MT0iMTAwIiB4Mj0iMCIgZ3JhZGllbnRVbml0cz0idXNlclNwYWNlT25Vc2UiPgogICA8c3RvcCBvZmZzZXQ9IjAlIiBzdHlsZT0ic3RvcC1jb2xvcjojZjliZTAzIi8+CiAgIDxzdG9wIG9mZnNldD0iMTAwJSIgc3R5bGU9InN0b3AtY29sb3I6I2NjN2IxOSIvPgogIDwvbGluZWFyR3JhZGllbnQ+CiAgPGxpbmVhckdyYWRpZW50IGlkPSI0IiB4MT0iOTciIHgyPSIzIiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSI+CiAgIDxzdG9wIG9mZnNldD0iMCUiIHN0eWxlPSJzdG9wLWNvbG9yOiMyODI4MjgiLz4KICAgPHN0b3Agb2Zmc2V0PSIxMDAlIiBzdHlsZT0ic3RvcC1jb2xvcjojMWYxZjFmIi8+CiAgPC9saW5lYXJHcmFkaWVudD4KICA8cmFkaWFsR3JhZGllbnQgaWQ9IjUiIGN4PSI2NyIgY3k9IjQ5LjkiIHI9IjU3LjgxMjMiIGdyYWRpZW50VW5pdHM9InVzZXJTcGFjZU9uVXNlIiB4bGluazpocmVmPSIjMyIvPgogPC9kZWZzPgo8L3N2Zz4K",y5=i("t4kf"),f5=i.n(y5);const{Component:b5,Fragment:I5}=Nd.a;var S5=class extends b5{constructor(e,t){super(e,t),this.onAdvancedPress=()=>{this.setState({isModalOpen:!0})},this.onModalClose=()=>{this.setState({isModalOpen:!1})},this.state={isModalOpen:!1}}render(){const{serverEntityID:e,title:t,description:i,modalComponent:n}=this.props,{isModalOpen:a}=this.state;return Vu()(dh,{iconSrc:v5,title:t,description:Vu()(I5,{},void 0,Vu()(vw,{message:Object(Ze.default)('Its "Secure connections" setting may be set to disabled, or you may need to adjust some settings on your network. You can {openLink}learn more about secure connections here{closeLink}.'),tags:[{open:"openLink",close:"closeLink",component:zp,to:"https://support.plex.tv/hc/en-us/articles/206225077-How-to-Use-Secure-Server-Connections",kind:Pp,target:"_blank"}]}))},void 0,Vu()("div",{className:f5.a.description},void 0,i),Vu()(n,{isOpen:a,serverEntityID:e,onModalClose:this.onModalClose}),Vu()(hw,{kind:Pp,onPress:this.onAdvancedPress},void 0,Object(Ze.default)("Allow Insecure Connections")))}};function C5(){return!z.a.isHostedHttps||!!be.a.allowMixedContent}function M5(e){return e.isFullServer&&!!e.presence&&!e.httpsRequired}function D5(e){return!C5()&&M5(e)}function P5(e){const t=e.hasHttpsConnections&&!e.hasFallbackConnections;return C5()&&M5(e)&&t}var O5=Object(Hu.b)((function(){return Object(Wu.a)(_S(),e=>({friendlyName:e.friendlyName,shouldAllowInsecureRedirect:D5(e),shouldAllowInsecureFallback:P5(e),isPending:e.isPending}))}),(function(e,t){const i={serverEntityID:t.serverEntityID,metricsPage:t.metricsPage};return{onTryAgainPress(){e(uu()),e(xi(i))}}}))((function(e){const{friendlyName:t,shouldAllowInsecureRedirect:i,shouldAllowInsecureFallback:n,isPending:a,onTryAgainPress:s}=e;return i?Vu()(S5,{serverEntityID:e.serverEntityID,title:Object(Ze.default)('Unable to connect to "{serverName}" securely',{serverName:t}),description:Object(Ze.default)("You can also allow insecure connections now, which will reload the app insecurely."),modalComponent:g5}):n?Vu()(S5,{serverEntityID:e.serverEntityID,title:Object(Ze.default)('The server "{serverName}" does not allow secure connections',{serverName:t}),description:Object(Ze.default)("The app is loaded insecurely. You can attempt to use an insecure connection now."),modalComponent:p5}):Vu()(o5,{friendlyName:t,isPending:a,onTryAgainPress:s})}));var j5=function(e){const{friendlyName:t,isPending:i,onTryAgainPress:n}=e;return Vu()(dh,{iconSrc:v5,title:Object(Ze.default)('The server "{serverName}" is installing an update',{serverName:t}),description:Object(Ze.default)("Grab a cup of tea. This may take a couple of minutes.")},void 0,Vu()(dV,{isSpinning:i,kind:Pp,onPress:n},void 0,Object(Ze.default)("Retry connection")))};var w5=Object(Hu.b)((function(){return Object(Wu.a)(_S(),e=>({friendlyName:e.friendlyName,isPending:e.isPending}))}),(function(e,t){const i={serverEntityID:t.serverEntityID};return{onTryAgainPress(){e(uu()),e(xi(i))}}}))(j5);function T5(e){const{friendlyName:t,isShared:i}=e;return i?t:void 0}function E5(e){const{friendlyName:t,sourceTitle:i,isShared:n}=e;return n?i:t}var N5=i("h7fT"),x5=i.n(N5);function A5(e){return Vu()("h2",{className:e.className},void 0,e.children)}A5.defaultProps={className:x5.a.header};var L5=A5,k5=Vu()(tf,{});var R5=function(e){const{friendlyName:t,sourceTitle:i,settingsTitle:n,isShared:a}=e,s={friendlyName:t,sourceTitle:i,isShared:a},r=E5(s),o=T5(s),l=r&&o?r+" ("+o+")":r;return Vu()(L5,{},void 0,l,k5,n)};var z5=Object(Hu.b)((function(){return Object(Wu.a)(_S(),Object(Wu.a)((e,{settingsSection:t})=>t,(e,{settingsGroup:t})=>t,(e,t)=>{const i=I.a.findWhere(l2,{key:e});return I.a.findWhere(i.groups,{key:t}).title()}),(e,t)=>({friendlyName:e?e.friendlyName:"",sourceTitle:e?e.sourceTitle:"",isShared:!(!e||!e.isShared),settingsTitle:t}))}))(R5),U5=i("VFN/"),V5=i.n(U5);function B5({children:e,className:t,metricsPage:i,metricsPane:n,scrollTop:a,onScrollPositionChange:s}){return Vu()(f$,{metricsPage:i,metricsProperties:{pane:n},scrollTop:a,onScrollPositionChange:s},void 0,Vu()("div",{className:t},void 0,e))}B5.defaultProps={className:V5.a.content};var F5=B5;const H5=Nd.a.createElement;var _5=Vu()(dh,{},void 0,Vu()(Jh,{})),W5=Vu()(r5,{}),Q5=Vu()(dh,{},void 0,Vu()(Jh,{}));var G5=function(e){const{serverEntityID:t,providerEntityID:i,viewDataErrorMessage:n,isViewDataPending:a,isInstallingServerUpdate:s,isUnavailable:r,isUnauthorized:o,isSettingAccessible:l,isSettingsPending:c,settingsSection:d,settingsGroup:u,pageComponent:p,paneComponent:h,contentView:m}=e,g=Xe()(e,["serverEntityID","providerEntityID","viewDataErrorMessage","isViewDataPending","isInstallingServerUpdate","isUnavailable","isUnauthorized","isSettingAccessible","isSettingsPending","settingsSection","settingsGroup","pageComponent","paneComponent","contentView"]);return s?Vu()(w5,{serverEntityID:t}):a?_5:r?Vu()(O5,{serverEntityID:e.serverEntityID}):o?W5:n?Vu()(vh,{title:n}):l?p?H5(p,tp()({serverEntityID:t},p2(d,u))):H5(F5,p2(d,u),Vu()(z5,{serverEntityID:t,settingsSection:d,settingsGroup:u}),h?Vu()(h,{serverEntityID:t,providerEntityID:i}):Vu()(EQ,{view:m||s5,viewOptions:g})):c?Q5:Vu()(vh,{title:Object(Ze.default)("There was an unexpected error loading the settings")})};var K5=Object(Hu.b)((function(){return Object(Wu.a)((e,{settingsSection:t})=>t,(e,{settingsGroup:t})=>t,u2(),_S(),(e,t,i,n)=>{const a=function(e,t,i){const n=e.find(e=>e.key===t);return n?n.groups.find(e=>e.key===i):null}(i,e,t);return{isInstallingServerUpdate:!(!n||!n.isInstallingServerUpdate),isUnavailable:!(!n||!n.isUnavailable),isUnauthorized:!(!n||!n.isUnauthorized),isSettingAccessible:!!a,isSettingsPending:!(!n||!n.desktop.isSettingsPending),pageComponent:a&&a.pageComponent,paneComponent:a&&a.paneComponent}})}))(G5);var Y5=Og(qu,e=>e.filter(e=>e.isPrimaryEligible));var q5=Object(Wu.a)(Y5,Gw(wt.d),(e,t)=>e.reduce((e,i)=>{const n=i.allowSync&&!t;return i.isShared&&!n||i.isOutOfDate||e.push(i.entityID),e},[]));var Z5=FS(Object(Wu.a)(qu,e=>e.filter(e=>(e.isFullOwnedServer||e.isShared)&&e.isConnected)),e=>e),J5=i("HjAS"),X5=i.n(J5);function $5(e){const{className:t,children:i}=e;return Vu()("div",{className:t},void 0,i)}$5.defaultProps={className:X5.a.sidebarContainer};var e6=$5,t6=i("7f9p"),i6=i.n(t6);const n6=Nd.a.createElement;function a6(e){const{className:t}=e;return n6(ih,tp()({className:t,autoScroll:!0},e))}a6.defaultProps={className:i6.a.scroller};var s6=a6;function r6(e,t){return e&&t?t+" ("+e+")":t||e}var o6=function(e){const t=e.activeConnection;let i,n=!1;return e.isConnected&&t?i=e.isOutOfDate?Object(Ze.default)("Needs Update"):t.relay?Object(Ze.default)("Indirect"):t.isPrivate?Object(Ze.default)("Nearby"):Object(Ze.default)("Remote"):e.isRelayed?i=Object(Ze.default)("Indirect"):e.isUnavailable?i=Object(Ze.default)("Unavailable"):e.isUnauthorized?i=Object(Ze.default)("Unauthorized"):(n=!0,i=Object(Ze.default)("Connecting")),{isConnecting:n,status:i}},l6=i("rUJk"),c6=i.n(l6);const{Component:d6}=Nd.a;class u6 extends d6{shouldComponentUpdate(e,t){return Tp(this,e,t)}render(){const{children:e,className:t,friendlyNameClassName:i,detailsClassName:n,to:a,isDisabled:s,isSelected:r,identifier:o,title:l,details:c,onPress:d}=this.props;return Vu()(Zv,{className:(t||"")+" "+(c6.a.serverMenuItem||"")+" "+(r&&c6.a.selectedServerMenuItem||""),"data-qa-id":"serverMenuItem--"+o,to:a,isDisabled:s,onPress:d},void 0,Vu()("div",{className:c6.a.serverMenuItemContainer},void 0,Vu()("div",{className:c6.a.serverMenuTitle},void 0,Vu()("div",{className:i},void 0,l),Vu()("div",{className:n},void 0,c)),Vu()("div",{className:c6.a.serverMenuIconContainer},void 0,r?Vu()(ay,{className:(c6.a.serverMenuIcon||"")+" "+(c6.a.selectedIcon||""),"aria-label":Object(Ze.default)("Selected")}):null,e)))}}u6.defaultProps={friendlyNameClassName:c6.a.serverMenuFriendlyName,detailsClassName:c6.a.serverMenuDetails};var p6=u6,h6=i("H6oa"),m6=i.n(h6);const g6=Nd.a.createElement;var v6=function(e){const{className:t,isFullOwnedServer:i,isInstallingServerUpdate:n,isUnavailable:a,isSettingsPending:s}=e;return n||i&&s&&!a?Vu()("div",{className:t},void 0,Vu()(Jh,{className:m6.a.spinner,size:Fh})):g6(rM,e)},y6=i("Jdyf"),f6=i.n(y6);var b6=function(e){const{isSelected:t,activeConnection:i,isConnected:n,isShared:a,isUnavailable:s,isSecure:r,isRelayed:o,machineIdentifier:l,friendlyName:c,sourceTitle:d,isFullOwnedServer:u,isInstallingServerUpdate:p,isSettingsPending:h,settingsSection:m,settingsGroup:g}=e,v={activeConnection:i,friendlyName:c,sourceTitle:d,isFullOwnedServer:u,isShared:a,isConnected:n,isRelayed:o,isUnavailable:s},{isConnecting:y,status:f}=o6(v),b=r6(T5(v),f),I=u&&h||y||s;return Vu()(p6,{className:I&&f6.a.disabled||"",friendlyNameClassName:f6.a.friendlyName,detailsClassName:f6.a.details,to:ln(l,m||"settings",g||"general"),isDisabled:y,isSelected:t,identifier:l,title:E5(v),details:b},void 0,Vu()(v6,{className:f6.a.icon,isFullOwnedServer:u,isInstallingServerUpdate:p,isSettingsPending:h,isUnavailable:s,isRelayed:o,isSecure:r,isConnected:n}))};var I6=Object(Hu.b)((function(){return Object(Wu.a)(_S(),e=>({machineIdentifier:e.machineIdentifier,friendlyName:e.friendlyName,sourceTitle:e.sourceTitle,activeConnection:e.activeConnection,isFullOwnedServer:e.isFullOwnedServer,isInstallingServerUpdate:e.isInstallingServerUpdate,isConnected:e.isConnected,isShared:e.isShared,isUnavailable:e.isUnavailable,isSecure:e.isSecure,isRelayed:e.isRelayed,isSettingsPending:e.desktop.isSettingsPending}))}))(b6),S6=i("M0a6"),C6=i.n(S6);const M6=5*parseInt(BV.serverMenuItemHeight,10),D6={className:C6.a.serverMenuScroller,scrollDirection:"vertical",autoScroll:!0};var P6=function(e){const{target:t,serverEntityIDs:i,selectedServerEntityID:n,settingsSection:a,settingsGroup:s,isOpen:r,onMenuClose:o}=e;return Vu()(Qv,{className:C6.a.serverMenu,target:t,isOpen:r,scrollerProps:D6,maxHeight:M6,onMenuClose:o},void 0,i.map(e=>Vu()(I6,{serverEntityID:e,isSelected:e===n,settingsSection:a,settingsGroup:s},e)))},O6=i("HPx8"),j6=i.n(O6);function w6(e){const{className:t,secondaryTitleClassName:i,id:n,isLoading:a,isMenuOpen:s,isDisabled:r,isSelected:o,primaryTitle:l,secondaryTitle:c,children:d,spinnerComponent:u,onPress:p}=e;return Vu()(zp,{id:n,className:(t||"")+" "+(r&&j6.a.isDisabled||""),"aria-haspopup":!r,"data-qa-id":"serverMenuButton",isSelected:o,isDisabled:r,onPress:p},void 0,Vu()("div",{className:j6.a.sidebarMenuButtonContainer},void 0,Vu()("span",{className:j6.a.sidebarMenuTitle},void 0,Vu()("span",{className:j6.a.sidebarMenuPrimaryTitleContainer},void 0,Vu()("span",{className:j6.a.sidebarMenuPrimaryTitle},void 0,l),r?null:Vu()(fy,{direction:s?hy:my,isSelected:o})),c?Vu()("span",{className:i},void 0,c):null),a?Vu()(u,{size:Fh,className:j6.a.sidebarMenuSpinner}):d))}w6.defaultProps={className:j6.a.sidebarMenuButton,secondaryTitleClassName:j6.a.sidebarMenuSecondaryTitle,isMenuOpen:!1,isSelected:!0,isDisabled:!1,isLoading:!1,spinnerComponent:Yh};var T6=w6;const E6=Nd.a.createElement;var N6=function(e){return E6(T6,tp()({spinnerComponent:Jh},e))},x6=i("61dU"),A6=i.n(x6);var L6=function(e){const{id:t,friendlyName:i,sourceTitle:n,isFullOwnedServer:a,isShared:s,isConnected:r,isInstallingServerUpdate:o,isSelected:l,isUnavailable:c,isSecure:d,isSettingsPending:u,isRelayed:p,isMenuOpen:h,onPress:m}=e,g={friendlyName:i,sourceTitle:n,isShared:s},v=r6(T5(g),p?Object(Ze.default)("Indirect"):null);return Vu()(N6,{className:A6.a.button,secondaryTitleClassName:A6.a.secondaryTitle,id:t,isMenuOpen:h,primaryTitle:E5(g),secondaryTitle:v,isSelected:l,onPress:m},void 0,Vu()(v6,{className:A6.a.icon,isFullOwnedServer:a,isInstallingServerUpdate:o,isSettingsPending:u,isUnavailable:c,isRelayed:p,isSecure:d,isConnected:r}))};var k6=Object(Hu.b)((function(){return Object(Wu.a)(_S(),e=>({machineIdentifier:e.machineIdentifier,friendlyName:e.friendlyName,isFullOwnedServer:e.isFullOwnedServer,isInstallingServerUpdate:e.isInstallingServerUpdate,isShared:e.isShared,isConnected:e.isConnected,isUnavailable:e.isUnavailable,isSettingsPending:e.desktop.isSettingsPending,isSecure:e.isSecure,isRelayed:e.isRelayed,sourceTitle:e.sourceTitle}))}))(L6);var R6=i("S+WG"),z6=i.n(R6);const U6=Nd.a.createElement;function V6(e){const{className:t,children:i,iconClassName:n,titleClassName:a,iconSrc:s,iconComponent:r,iconNode:o,title:l,showSpinner:c}=e,d=Xe()(e,["className","children","iconClassName","titleClassName","iconSrc","iconComponent","iconNode","title","showSpinner"]);let u;return s?u=Vu()("img",{className:z6.a.iconImg,src:s}):r?u=Vu()(r,{}):o&&(u=o),U6(zp,tp()({className:t},d),Vu()("div",{className:z6.a.container},void 0,Vu()("div",{className:n},void 0,c?Vu()(Yh,{className:z6.a.spinner}):u),l?Vu()("div",{className:a},void 0,l):null,function(e){const t=[];return Nd.a.Children.forEach(e,e=>{Nd.a.isValidElement(e)&&t.push(e)}),t}(i).length?Vu()("div",{className:z6.a.children},void 0,i):null))}V6.defaultProps={className:z6.a.sidebarLink,iconClassName:z6.a.icon,titleClassName:z6.a.title};var B6=V6,F6=i("sn/B"),H6=i.n(F6);function _6({className:e,children:t}){return Vu()("div",{className:e},void 0,t)}_6.defaultProps={className:H6.a.sidebarListItem};var W6=_6;const Q6=Nd.a.createElement;var G6=function(e){return Vu()(W6,{},void 0,Q6(B6,e))},K6=i("MIt9"),Y6=i.n(K6);var q6=function({message:e,children:t}){return Vu()("div",{},void 0,Vu()("p",{className:Y6.a.sidebarMessage},void 0,e),t)};function Z6(e){var t=e["aria-label"],i=e.className,n=e.style,a={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-unlock-560"};a["aria-hidden"]=!t,a.style=n,a.className=Ad.a.plexIcon+(i?" "+i:"");var s=[Nd.a.createElement.apply(Nd.a,["path",{d:"m280 160c-.02-7.756.721-15.486 2.2-23.072 1.088-5.577 2.576-11.076 4.449-16.441 1.885-5.402 4.161-10.668 6.801-15.743 3.116-5.991 6.74-11.716 10.817-17.099 4.132-5.455 8.728-10.557 13.723-15.235 4.912-4.6 10.208-8.789 15.818-12.507 5.443-3.608 11.181-6.772 17.14-9.446 9.443-4.237 19.436-7.236 29.653-8.897 4.12-.67 8.275-1.124 12.442-1.362 2.181-.125 4.365-.187 6.55-.197.387-.001.775 0 1.163.001 2.183.018 4.365.087 6.544.218 4.164.251 8.316.718 12.431 1.401 10.208 1.693 20.188 4.721 29.615 8.986 6.059 2.742 11.888 5.99 17.409 9.697 5.686 3.818 11.044 8.122 16.001 12.848 4.953 4.722 9.504 9.866 13.587 15.358 4.103 5.519 7.732 11.389 10.831 17.527 2.581 5.113 4.794 10.411 6.615 15.841 1.769 5.278 3.167 10.68 4.182 16.154 1.342 7.242 2.012 14.609 1.987 21.968l-59.984 0 .006-.197c-.015-4.685-.564-9.366-1.661-13.92-1.309-5.431-3.394-10.668-6.165-15.518-3.266-5.718-7.478-10.89-12.403-15.261-4.517-4.009-9.633-7.341-15.137-9.831-4.624-2.092-9.514-3.584-14.518-4.43-2.184-.37-4.388-.617-6.599-.743-1.106-.063-2.212-.094-3.319-.1-.394 0-.788.002-1.183.008-1.165.02-2.329.07-3.492.155-2.199.16-4.389.441-6.558.843-4.921.912-9.722 2.451-14.257 4.57-5.472 2.557-10.548 5.95-15.017 10.012-4.873 4.429-9.022 9.651-12.219 15.408-2.715 4.888-4.736 10.156-5.979 15.608-.985 4.326-1.478 8.761-1.492 13.197l.007.199 0 80 60.012 0 0 280-360 0 0-280 240 0 0-80m-40 280l0-45.359c11.952-6.92 20-19.848 20-34.641 0-22.077-17.923-40-40-40-22.077 0-40 17.923-40 40 0 14.793 8.048 27.721 20 34.641l0 45.359 40 0"}].concat([]))];return t&&s.unshift(Nd.a.createElement("title",null,t)),Nd.a.createElement.apply(Nd.a,["svg",a].concat(s))}Z6.propTypes={"aria-label":vc.a.string,className:vc.a.string,style:vc.a.object};var J6=Z6;const{Component:X6,Fragment:$6}=Nd.a;var e8=class extends X6{constructor(e,t){super(e,t),this.onRemoveServerPress=e=>{this.setState({isRemoveModalOpen:!0})},this.onRemoveConfirm=()=>{this.setState({isRemoveModalOpen:!1}),this.props.onDeleteServerConfirm(this.props.machineIdentifier)},this.onRemoveCancel=()=>{this.setState({isRemoveModalOpen:!1})},this.onAllowInsecureConnectionPress=e=>{this.setState({isAllowInsecureConnectionModalOpen:!0})},this.onAllowInsecureConnectionCancel=e=>{this.setState({isAllowInsecureConnectionModalOpen:!1})},this.state={isRemoveModalOpen:!1,isAllowInsecureConnectionModalOpen:!1}}shouldComponentUpdate(e,t){return Tp(this,e,t)}render(){const{serverEntityID:e,friendlyName:t,presence:i,isPending:n,isBundled:a,isCloudServerResourcesPending:s,isFullServer:r,isFullOwnedServer:o,isInstallingServerUpdate:l,httpsRequired:c,hasHttpsConnections:d,hasFallbackConnections:u,onTryAgainPress:p}=this.props,{isRemoveModalOpen:h,isAllowInsecureConnectionModalOpen:m}=this.state;let g,v,y,f,b,I;if(l)v=!1,y=!1,f=!1,b=!1,I=Object(Ze.default)('Once the server "{serverName}" has finished installing the update, Plex will automatically try to reconnect to this server.',{serverName:t});else{const e={isFullServer:r,presence:i,httpsRequired:c,hasHttpsConnections:d,hasFallbackConnections:u};g=D5(e),v=P5(e),y=g||v,f=!y,b=o&&!a,I=y?Object(Ze.default)('Unable to connect to "{serverName}" securely.',{serverName:t}):Object(Ze.default)('The server "{serverName}" is unreachable. Make sure it\'s running, double check your network, and try again.',{serverName:t})}const S=s||n,C=S?Object(Ze.default)("Connecting"):Object(Ze.default)("Try again");return Vu()(q6,{message:I},void 0,Vu()(G6,{iconComponent:Y_,title:C,showSpinner:S,isDisabled:S,onPress:p}),v?Vu()($6,{},void 0,Vu()(G6,{iconComponent:J6,title:Object(Ze.default)("Allow insecure connection"),onPress:this.onAllowInsecureConnectionPress}),Vu()(p5,{serverEntityID:e,isOpen:m,onModalClose:this.onAllowInsecureConnectionCancel})):null,y?Vu()(G6,{to:_p,target:"_blank",iconComponent:q1,title:Object(Ze.default)("Learn more")}):null,f?Vu()(G6,{to:"https://help.plex.tv/noserver",target:"_blank",iconComponent:q1,title:Object(Ze.default)("Where is my server?")}):null,b?Vu()($6,{},void 0,Vu()(G6,{iconComponent:NI,title:Object(Ze.default)("Remove server"),onPress:this.onRemoveServerPress}),Vu()(F_,{isOpen:h,metricsPage:zd.m,kind:Op,title:Object(Ze.default)("Remove {serverName}",{serverName:t}),message:Object(Ze.default)("If this server is restarted, it will automatically be added to your account again."),confirmLabel:Object(Ze.default)("Remove"),onConfirm:this.onRemoveConfirm,onCancel:this.onRemoveCancel})):null)}};var t8=kK((function(){return Object(Wu.a)(Yu,_S(),(e,t)=>({machineIdentifier:t.machineIdentifier,friendlyName:t.friendlyName,presence:t.presence,isPending:t.isPending,isFullServer:t.isFullServer,isFullOwnedServer:t.isFullOwnedServer,isInstallingServerUpdate:t.isInstallingServerUpdate,isBundled:t.isBundled,isCloudServerResourcesPending:e.isResourcesPending,httpsRequired:t.httpsRequired,hasHttpsConnections:t.hasHttpsConnections,hasFallbackConnections:t.hasFallbackConnections}))}),(function(e,t){const i={serverEntityID:t.serverEntityID,metricsPage:t.metricsPage};return{onDeleteServerConfirm(){e(SK(i))},onTryAgainPress(){e(uu()),e(xi(i))}}}))(e8),i8=i("vSud"),n8=i.n(i8);const a8=Nd.a.createElement;function s8(e){const{className:t,headerContainerClassName:i,headerClassName:n,children:a,title:s,icon:r,onRef:o}=e;return a8("div",{className:t,role:"navigation",ref:o},Vu()("div",{className:i},void 0,Vu()("div",{className:n,role:"header"},void 0,s),r?Vu()("div",{className:n8.a.sidebarListHeaderIcon},void 0,r):null),a)}s8.defaultProps={headerContainerClassName:n8.a.sidebarListHeaderContainer,headerClassName:n8.a.sidebarListHeader};var r8=s8,o8=i("X8Qt"),l8=i.n(o8);const c8=Nd.a.createElement;var d8=function(e){return c8(r8,tp()({headerClassName:l8.a.header},e))},u8=i("zQVR"),p8=i.n(u8);var h8=function(e){const{className:t,children:i,selectableKey:n,selectedKey:a,to:s,title:r}=e,o=a&&a===n;let l;return/^#/.test(s)||(l=I4()?"_blank":"_self"),Vu()(G6,{className:t,target:l,to:s,iconClassName:o?p8.a.selectedIcon:p8.a.icon,title:r,isSelected:o},n,i)};var m8=function(e){const{serverEntityID:t,machineIdentifier:i,selectedKey:n,isShared:a,isInstallingServerUpdate:s,isUnavailable:r,isSettingsPending:o,settingsSections:l}=e;return s||r?Vu()(t8,{serverEntityID:t}):o?null:l.map((e,t)=>{if(a&&1===e.groups.length){const a=e.groups[0];return Vu()(h8,{selectableKey:Im(i,e.key,a.key),selectedKey:n,title:a.title,to:a.route},t)}return Vu()(d8,{title:e.title},t,e.groups.map((a,s)=>Vu()(h8,{selectableKey:Im(i,e.key,a.key),selectedKey:n,title:a.title,to:a.route},""+t+s,a.statusIndicator)))})};const g8=Nd.a.createElement,{Component:v8}=Nd.a;const y8={dispatchPopulateSettings:pK};var f8=Object(Hu.b)((function(){return Object(Wu.a)(_S(),u2(),(e,t)=>({machineIdentifier:e.machineIdentifier,friendlyName:e.friendlyName,isShared:e.isShared,isInstallingServerUpdate:e.isInstallingServerUpdate,isConnected:e.isConnected,isUnavailable:e.isUnavailable,isSettingsPending:e.isFullOwnedServer&&e.desktop.isSettingsPending,isFullOwnedServer:e.isFullOwnedServer,settingsSections:t}))}),y8)(class extends v8{componentDidMount(){this._populate()}componentDidUpdate(e){e.serverEntityID!==this.props.serverEntityID&&this._populate()}_populate(){const{serverEntityID:e,isConnected:t,isFullOwnedServer:i,dispatchPopulateSettings:n}=this.props;t&&i&&n({serverEntityID:e})}render(){const e=this.props,t=Xe()(e,["isConnected","isFullOwnedServer","dispatchPopulateSettings"]);return g8(m8,t)}});var b8=Object(Wu.a)(fk,e=>!1),I8=i("46B2"),S8=i.n(I8);const C8=Nd.a.createElement;var M8=function(e){const{shouldShowWarning:t}=e,i=Xe()(e,["shouldShowWarning"]);return C8(h8,i,t?Vu()(ph,{className:S8.a.alertIcon}):null)};const D8=Object(Wu.a)(b8,e=>({shouldShowWarning:e}));var P8=Object(Hu.b)(D8)(M8);const{Component:O8,Fragment:j8}=Nd.a;var w8=class extends O8{constructor(e,t){super(e,t),this._serverMenuButtonID=void 0,this.onMeasure=()=>{this.setState({isMeasured:!0})},this.onScrollPositionChange=({scrollTop:e})=>{this.setState({scrollTop:e},()=>{RO.set("SettingsSidebarScrollTop",e)})},this.onMenuButtonPress=()=>{this.setState({isMenuOpen:!this.state.isMenuOpen})},this.onMenuClose=()=>{this.setState({isMenuOpen:!1})};const i=RO.get("SettingsSidebarScrollTop");this.state={isMeasured:!1,scrollTop:i||0,isMenuOpen:!1},this._serverMenuButtonID=Mp()}render(){const{manageableServerEntityIDs:e,serverMenuServerEntityID:t,selectedKey:i,isUserSignedIn:n,isUserAnonymous:a,isUserUnrestricted:s,isServerMenuServerEntityIDSelected:r,showAdvancedSettings:o,showQualitySettings:l,showDownloadQualitySettings:c,userTitle:d,settingsSection:u,settingsGroup:p}=this.props,{scrollTop:h,isMenuOpen:m}=this.state,g=bm();return Vu()(Vw,{page:zd.lb,isDelegated:!0},void 0,Vu()(T0,{ignorePosition:!0,ignoreWidth:!0,onMeasure:this.onMeasure},void 0,Vu()(e6,{},void 0,this.state.isMeasured?Vu()(s6,{smoothScroll:!1,scrollTop:h,onScrollPositionChange:this.onScrollPositionChange},void 0,Vu()("div",{className:S8.a.sidebarContent},void 0,n?Vu()(d8,{title:d||Object(Ze.default)("Settings")},void 0,Vu()(h8,{selectableKey:"account",selectedKey:i,to:"#!/settings/account",title:Object(Ze.default)("Account")}),s&&!a?Vu()(h8,{selectableKey:"online-media-sources",selectedKey:i,to:"#!/settings/online-media-sources",title:Object(Ze.default)("Online Media Sources")}):null,s&&!a?Vu()(h8,{selectableKey:"devices",selectedKey:i,to:"#!/settings/devices",title:Object(Ze.default)("Authorized Devices")}):null,s&&!a?Vu()(h8,{selectableKey:"webhooks",selectedKey:i,to:"#!/settings/webhooks",title:Object(Ze.default)("Webhooks")}):null,n&&!a?Vu()(h8,{selectableKey:"users-sharing",selectedKey:i,to:"#!/settings/users-sharing",title:Object(Ze.default)("Users & Sharing")}):null):null,Vu()(d8,{title:$.prop("X-Plex-Product"),selectableKey:g,selectedKey:i},void 0,Vu()(P8,{selectableKey:bm("general"),selectedKey:i,to:"#!/settings/web/general",title:Object(Ze.default)("General")}),l?Vu()(h8,{selectableKey:bm("quality"),selectedKey:i,to:"#!/settings/web/quality",title:Object(Ze.default)("Quality")}):null,o?Vu()(h8,{selectableKey:bm("debug"),selectedKey:i,to:"#!/settings/web/debug",title:Object(Ze.default)("Debug")}):null,Vu()(h8,{selectableKey:bm("player"),selectedKey:i,to:"#!/settings/web/player",title:Object(Ze.default)("Player")}),c?Vu()(h8,{selectableKey:bm("downloads"),selectedKey:i,to:"#!/settings/web/downloads",title:Object(Ze.default)("Downloads")}):null),t?Vu()(j8,{},void 0,Vu()(k6,{id:this._serverMenuButtonID,serverEntityID:t,isMenuOpen:m,isSelected:r,onPress:this.onMenuButtonPress}),Vu()(P6,{target:this._serverMenuButtonID,serverEntityIDs:e,selectedServerEntityID:t,isOpen:m,settingsSection:u,settingsGroup:p,onMenuClose:this.onMenuClose}),Vu()(f8,{serverEntityID:t,selectedKey:i})):null)):null)))}};const T8=Object(Wu.a)(Z5,e=>e.length>0);var E8=Object(Hu.b)((function(){return Object(Wu.a)((e,{selectedServerEntityID:t})=>t,e=>e.primaryServer,e=>e.user.experienceSettings.showAdvancedSettings,Gw(wt.d),Zu.a,q5,T8,(e,t,i,n,a,s,r)=>{const o=function(e,t,i){return i.includes(e)?e:i.includes(t)?t:i?i[0]:null}(e,t,s);return{serverMenuServerEntityID:o,manageableServerEntityIDs:s,isUserSignedIn:a.isSignedIn,isUserAnonymous:a.anonymous,isUserUnrestricted:!a.restricted,isServerMenuServerEntityIDSelected:o===e,showAdvancedSettings:i,showQualitySettings:r,showDownloadQualitySettings:be.a.allowSyncDownload&&n,userTitle:a.title}})}))(w8);const N8=Nd.a.createElement;var x8=_u.extend({initialize(e){const{serverID:t,settingsSection:i,settingsGroup:n}=e,a=ne.c("appModel"),s=a.get("servers");this.options={settingsSection:i,settingsGroup:n,machineIdentifier:t,isViewDataPending:!0},s.findServer(t).done(this.whenRendered(t=>(Object(Ti.a)(),a.set("primaryServer",t),this.listenTo(t,"change:isConnected",this.onServerIsConnectedChanged),t.get("isConnected")?!t.get("isShared")||t.get("allowSync")&&!a.get("user").get("features").get(wt.d)?void(!t.get("isShared")||!t.get("allowSync")||"status"===i&&"sync"===n?"settings"===i||"manage"===i?this.initializeServerSettingsView(t,e):"status"===i&&"alerts"===n?this.initializeAlertsView(t):"status"===i&&"conversion"===n?this.initializeConversionView(t):"status"===i&&"sync"===n?this.initializeSyncView(t,e):"status"===i&&"server-dashboard"===n?this.initializeServerDashboardView(t):(this.options.isViewDataPending=!1,this.render()):ra("sync",{serverID:t.id})):(Object.assign(this.options,{viewDataErrorMessage:Object(Ze.default)("You do not have access to this server"),isViewDataPending:!1}),void this.render()):(this.options.isViewDataPending=!t.get("isUnavailable")&&!t.get("isUnauthorized"),void this.render())))).fail(this.whenRendered(()=>{Object.assign(this.options,{viewDataErrorMessage:Object(Ze.default)("The server you're trying to access doesn't seem to exist."),isViewDataPending:!1}),this.render()}))},initializeServerSettingsView(e,t){const{group:i}=t;this.options.settingsGroup=i;const n=e.get("desktop"),a=n.get("settings"),s=new am({key:"/accounts/1"},{server:e}),r=n.get("cloudAccount"),o=new sm.a([],{server:e,url:"/system/:/prefs"}),l=D.a.when(a.fetch(),s.fetch(),r.fetch(),o.fetch());l.done(this.whenRendered(()=>{Object.assign(this.options,{model:e,collection:a,account:s,cloudAccount:r,channelSettings:o,subset:"server",group:i,isViewDataPending:!1}),this.render()})),l.fail(this.whenRendered(()=>{Object.assign(this.options,{viewDataErrorMessage:Object(Ze.default)("Server settings are unavailable."),isViewDataPending:!1}),this.render()}))},initializeAlertsView(e){const t=e.get("desktop");Object.assign(this.options,{model:e,collection:t.get("alerts"),subset:"alerts",contentView:wm,isViewDataPending:!1}),this.render()},initializeConversionView(e){const t=e.get("desktop");this.options.contentView=gg;const i=new fm([],{server:e,allowInCache:!0}),n=t.get("backgroundTranscodeJobs"),a=new gm([],{server:e,allowInCache:!0});let s,r;const o=D.a.when(i.populate(),n.fetch(),t.get("settings").fetch(),a.populate()).then(()=>{s=i.first();const e=a.first();return s&&e?(r=e.get("children"),D.a.when(s.fetch(),r.fetch())):D.a.Deferred().reject().promise()});o.done(this.whenRendered(()=>{Object.assign(this.options,{model:e,playQueue:s,transcodeJobs:n,generators:r,subset:"conversion",isViewDataPending:!1}),this.render()})),o.fail(this.whenRendered(()=>{Object.assign(this.options,{viewDataErrorMessage:Object(Ze.default)("The conversion queue is unavailable."),isViewDataPending:!1}),this.render()}))},initializeSyncView(e,t){const{deviceID:i,routeOrigin:n}=t;var a;Object.assign(this.options,{contentView:ow,sidebarKey:"syncedContent"===n?(a=e.id,Object(Zc.a)("synced-content",a)):null});const s=ne.c("appModel").get("user").get("desktop").get("devices"),r=s.populate();r.done(this.whenRendered(()=>{const t=s.filterSyncDevices(),a=i?t.get(i):null;Object.assign(this.options,{model:e,collection:t,selectedDevice:a,subset:"sync",routeOrigin:n,isViewDataPending:!1}),this.render()})),r.fail(this.whenRendered(()=>{Object.assign(this.options,{viewDataErrorMessage:Object(Ze.default)("Sync status is unavailable."),isViewDataPending:!1}),this.render()}))},initializeServerDashboardView(e){Object.assign(this.options,{server:e,subset:"server-dashboard",contentView:zj,isViewDataPending:!1}),this.render()},component(e){const{machineIdentifier:t,settingsSection:i,settingsGroup:n,sidebarKey:a}=e,s=Xe()(e,["machineIdentifier","settingsSection","settingsGroup","sidebarKey"]),r=Object(pt.a)(ht.n,t),o=a||Im(t,i,n);return Vu()(kh,{},void 0,Vu()(E8,{selectedKey:o,settingsSection:i,settingsGroup:n,selectedServerEntityID:r}),N8(K5,tp()({serverEntityID:r,providerEntityID:rm(r),settingsSection:i,settingsGroup:n},s)))},onServerIsConnectedChanged(e,t){t&&U.a.trigger("navigate:refresh")}});var A8=_u.extend({component:e=>Vu()(Bh,{},void 0,Vu()(Nh,{isAccountRequired:!0},void 0,Vu()(EQ,{view:x8,viewOptions:e})))});var L8=_u.extend({component:e=>Vu()(Nh,{},void 0,Vu()(EQ,{view:x8,viewOptions:e}))});var k8=R.Controller.extend({activity(){U.a.trigger("show:view",new nm)},alerts(e){this.showAlertsView(e)},legacyAlerts(e){this.showAlertsView(e)},showAlertsView(e){U.a.trigger("show:view",new L8({settingsSection:"status",settingsGroup:"alerts",serverID:e}))},sync(e,t){this.showSyncView(e,t)},legacySync(e,t){this.showSyncView(e,t)},syncedContent(e,t){this.showSyncView(e,t,"syncedContent")},showSyncView(e,t,i="sync"){U.a.trigger("show:view",new A8({settingsSection:"status",settingsGroup:"sync",serverID:e,deviceID:t,routeOrigin:i}))},conversion(e){this.showConversionView(e)},legacyConversion(e){this.showConversionView(e)},showConversionView(e){U.a.trigger("show:view",new L8({settingsSection:"status",settingsGroup:"conversion",serverID:e}))},serverDashboard(e){this.showServerDashboardView(e)},showServerDashboardView(e){U.a.trigger("show:view",new L8({settingsSection:"status",settingsGroup:"server-dashboard",serverID:e}))}}),R8=zu.extend({controller:new k8,appRoutes:{"!/settings/server/:serverID/status/alerts":"alerts","!/settings/server/:serverID/status/sync(/:deviceID)":"sync","!/settings/server/:serverID/status/conversion":"conversion","!/settings/server/:serverID/status/server-dashboard":"serverDashboard","!/settings/synced-content/:serverID(/:deviceID)":"syncedContent","!/activity":"activity","!/activity/alerts(/:serverID)":"legacyAlerts","!/activity/sync(/:serverID)(/:deviceID)":"legacySync","!/activity/conversion(/:serverID)":"legacyConversion","!/status":"activity","!/status/alerts(/:serverID)":"legacyAlerts","!/status/sync(/:serverID)(/:deviceID)":"legacySync","!/status/conversion(/:serverID)":"legacyConversion"}});var z8=zu.extend({initialize:function(){zu.prototype.initialize.apply(this,arguments),this.listenTo(U.a,{"navigate:back":this.onNavigateBack,"navigate:forward":this.onNavigateForward,"navigate:refresh":this.onNavigateRefresh,"navigate:refresh:dashboard":this.onNavigateRefreshDashboard})},onNavigateBack:function(e={}){const t=ne.c("appModel"),i=t.get("history"),n=t.get("forwardHistory");if(i.length<2)return this.navigate("",Object.assign({},e,{trigger:!0}));n.unshift(i.pop()),this.navigate(I.a.last(i),Object.assign({},e,{trigger:!0}))},onNavigateForward:function(e={}){const t=ne.c("appModel").get("forwardHistory");t.length&&this.navigate(t[0],Object.assign({},e,{trigger:!0}))},onNavigateRefresh:function(){v.c.history.loadUrl(v.c.history.getFragment())}}),U8=R.Region.extend({resizeSubscribersCallbacks:[],scrollSubscribersCallbacks:[],sidebarDelay:200,scrollDelay:100,initialize:function(e){I.a.bindAll(this,"onResize","onScroll","onScrollEvent","onSidebarChange"),this.$el=D()(this.el),this.channelName=e.channelName;var t={};t[this.channelName+".subscribe:resize"]=this.onResizeSubscribe,t[this.channelName+".unsubscribe:resize"]=this.onResizeUnsubscribe,t[this.channelName+".subscribe:scroll"]=this.onScrollSubscribe,t[this.channelName+".unsubscribe:scroll"]=this.onScrollUnsubscribe,this.listenTo(U.a,t)},updateSize:function(){this.size={width:this.$el.width(),height:this.$el.height(),innerWidth:this.$el.innerWidth(),innerHeight:this.$el.innerHeight(),outerWidth:this.$el.outerWidth(),outerHeight:this.$el.outerHeight(),offset:this.$el.offset()}},updateScrollPosition:function(){this.scrollPosition={scrollHeight:this.$el[0].scrollHeight,scrollTop:this.$el[0].scrollTop}},onShow:function(){this.updateSize(),this.updateScrollPosition()},onResizeSubscribe:function(e){this.resizeSubscribersCallbacks.push(e),1===this.resizeSubscribersCallbacks.length&&(this.updateSize(),this.listenTo(U.a,{resize:this.onResize,"show:bar hide:bar":this.onSidebarChange})),e(this.size)},onResizeUnsubscribe:function(e){this.resizeSubscribersCallbacks.splice(I.a.indexOf(this.resizeSubscribersCallbacks,e),1),0===this.resizeSubscribersCallbacks.length&&this.stopListening(U.a,"resize show:bar hide:bar")},onScrollSubscribe:function(e){this.scrollSubscribersCallbacks.push(e),1===this.scrollSubscribersCallbacks.length&&(this.updateScrollPosition(),this.$el.on("scroll",this.onScroll)),e(this.scrollPosition)},onScrollUnsubscribe:function(e){this.scrollSubscribersCallbacks.splice(I.a.indexOf(this.scrollSubscribersCallbacks,e),1),0===this.scrollSubscribersCallbacks.length&&this.$el.off("scroll",this.onScroll)},onResize:function(){this.updateSize(),I.a.each(this.resizeSubscribersCallbacks,(function(e){e(this.size)}),this)},onScroll:function(){this.scrollTimeout=window.clearTimeout(this.scrollTimeout),this.scrollTimeout=window.setTimeout(this.onScrollEvent,this.scrollDelay)},onScrollEvent:function(){this.updateScrollPosition(),I.a.each(this.scrollSubscribersCallbacks,(function(e){e(this.scrollPosition)}),this)},onSidebarChange:function(e){"sidebar"===e&&I.a.delay(this.onResize,this.sidebarDelay)}}),V8=i("uCRf");const{Component:B8}=Nd.a;var F8=class extends B8{constructor(e,t){super(e,t),this._currentDurationMilliseconds=void 0,this.fadeOutStartMilliseconds=void 0,this.fadeOutTimeoutID=void 0,this.fadeOut=()=>{const{currentThemeMusicUrl:e}=this.state;e&&this.props.volume>0?(this.fadeOutStartMilliseconds||(this.fadeOutStartMilliseconds=Date.now()),this.setState(this.updateFrameState)):this.reset()},this.updateFrameState=e=>{const t=e.relativeVolume,i=Date.now()-this.fadeOutStartMilliseconds;let n=-t*i/2e3+t;return n=Math.max(0,n),n&&(this.fadeOutTimeoutID=window.setTimeout(this.fadeOut,100)),{volume:n}},this.onDurationMillisecondsChange=e=>{this._currentDurationMilliseconds=e},this.onPositionMillisecondsChange=e=>{const t=Math.floor(e/1e3),i=this.state.shouldStopOnEnd?0:2e3;this.state.positionSeconds!==t&&this.setState({positionSeconds:t}),this._currentDurationMilliseconds-e<=i&&!this.fadeOutTimeoutID&&this.endThemeMusic()},this.onEnd=()=>{this.reset()},this.onMetricsPlayerChange=()=>{},this.state=this.getInitialStateFromProps(e)}componentWillReceiveProps(e){const{volume:t,themeMusicUrl:i}=this.props,{volume:n,themeMusicUrl:a}=e;if(t!==n){const e={relativeVolume:this.getRelativeVolume(n)};this.fadeOutTimeoutID||(e.volume=e.relativeVolume),this.setState(e)}i!==a&&(a?this.reset(a):this.fadeOutTimeoutID||this.endThemeMusic())}componentWillUnmount(){this.reset()}getRelativeVolume(e){return.5*e}getInitialStateFromProps({currentThemeMusicUrl:e,volume:t}){const i=this.getRelativeVolume(t);return{currentThemeMusicUrl:e,relativeVolume:i,volume:i,positionSeconds:0,shouldStopOnEnd:be.a.shouldStopThemeMusicOnNavigate}}reset(e){this.fadeOutTimeoutID=window.clearTimeout(this.fadeOutTimeoutID),this.fadeOutStartMilliseconds=null,this.setState(this.getInitialStateFromProps({currentThemeMusicUrl:e,volume:this.props.volume}))}endThemeMusic(){if(this.state.shouldStopOnEnd){const{dispatchEndPlayback:e,playerType:t}=this.props;e({playerType:t}),this.reset()}else this.fadeOut()}render(){const{currentThemeMusicUrl:e,positionSeconds:t,volume:i}=this.state;if(!e)return null;const{component:n,playerType:a}=this.props;return Vu()(n,{mediaType:"audio",isBackgroundMedia:!0,isThemeMusic:!0,src:e,playerType:a,positionSeconds:t,volume:i,allowRecycleElement:!0,onDurationMillisecondsChange:this.onDurationMillisecondsChange,onPositionMillisecondsChange:this.onPositionMillisecondsChange,onMetricsPlayerChange:this.onMetricsPlayerChange,onEnd:this.onEnd},e)}};const H8=Nd.a.createElement,{Component:_8}=Nd.a;const W8={dispatchEndPlayback:xT.p};class Q8 extends _8{shouldComponentUpdate(e){const{volume:t,isPlayerOpen:i}=this.props;return e.volume!==t||e.isPlayerOpen!==i||!e.isBackgroundPending}render(){const e=this.props,{isPlayerOpen:t}=e,i=Xe()(e,["isBackgroundPending","isPlayerOpen"]);return t?null:H8(F8,i)}}Q8.defaultProps={playerType:V8.a};var G8=Object(Hu.b)((function(){return Object(Wu.a)(Object(ne.c)("selectLocalVolume"),e=>e.ui.background,e=>e.ui.audioVideoPlayer.isOpen,(e,t,i)=>({volume:e,isBackgroundPending:t.isBackgroundPending,themeMusicUrl:t.themeMusicUrl,component:Object(ne.c)("mediaComponent").getComponent({protocol:"http",isDirectPlay:!0}),isPlayerOpen:i}))}),W8)(Q8),K8=i.p+"common/img/backgrounds/noise.b38a559594ac52d049bac587b89ec859.png",Y8=i.p+"common/img/backgrounds/preset-dark2.24cb7f1a5e2d0102f05f3e59dfad9086.png",q8=i.p+"common/img/backgrounds/preset-light2.479017288a229d836f44315d2b43afdb.png";const{Component:Z8}=Nd.a,J8={position:"absolute",width:"100%",height:"100%"},X8=Object.assign({},J8,{background:"url("+K8+")",zIndex:2}),$8={opacity:10,background:"343a3f"},e9=Object.assign({},$8,{opacity:25,format:"png"});var t9=Vu()("div",{style:X8});class i9 extends Z8{shouldComponentUpdate(e,t){return Tp(this,e,t)}render(){const{serverEntityID:e,providerEntityID:t,url:i,allowPreset:n,allowLightPreset:a,allowBlur:s}=this.props,r=window.innerWidth,o=window.innerHeight,l=s?e9:$8;let c,d,u,p;if(s){const e=r/o;c=e>1?640:640*e,d=e>1?640/e:640;const t=Math.max(r/c,o/d);u=Math.round(100/t)}else c=Math.min(window.innerWidth,1920),d=Math.min(window.innerHeight,1080);return!i&&n&&(p=a?q8:Y8),Vu()("div",{},void 0,Vu()(tC,{serverEntityID:e,providerEntityID:t,url:i,emptySrc:p,width:c,height:d,upscale:s,containerStyle:J8,filters:p?null:Object.assign({},l,{blur:u}),allowPixelRatioSize:!1,component:JI}),t9)}}i9.defaultProps={allowBlur:!0};var n9=i9;const{Component:a9}=Nd.a,s9=Object(Wu.a)(e=>e.ui.background,e=>({serverEntityID:e.server,providerEntityID:e.provider,url:e.imageUrl,allowLightPreset:e.allowLightPreset,allowBlur:e.allowBlur,isBackgroundPending:e.isBackgroundPending}));var r9=Object(Hu.b)(e=>s9)(class extends a9{shouldComponentUpdate(e){return!e.isBackgroundPending}render(){const{serverEntityID:e,providerEntityID:t,url:i,allowLightPreset:n,allowBlur:a}=this.props;return Vu()(n9,{serverEntityID:e,providerEntityID:t,url:i,allowPreset:!0,allowLightPreset:n,allowBlur:a})}}),o9=Vu()(kh,{},void 0,Vu()(r9,{}),Vu()(G8,{}));var l9=_u.extend({className:"background-container",component:()=>o9}),c9=i("PZBo"),d9=i.n(c9),u9=R.ItemView.extend({mixins:[Ho],className:"alert transition-in",template:d9.a,alertDuration:2e3,transitionDuration:500,events:{mouseenter:"onMouseEnter",mouseleave:"onMouseLeave","click .close-btn":"onCloseClick"},initialState:"transitionIn",states:{transitionIn:{nextState:"visible",onEnter:function(){this.$el.triggerReflow(),this.$el.removeClass("transition-in"),this.startTransition()}},visible:{nextState:"transitionOut",onEnter:function(){this.transitionOutTimeout=window.setTimeout(this.enterNextState,this.alertDuration)}},transitionOut:{onEnter:function(){this.$el.addClass("transition-out"),this.startTransition()}}},initialize:function(e){this.bindAllWhenRendered(["enterNextState"]),I.a.isString(e)&&(e={message:e}),this.type=e.type,this.message=e.message,this.type&&this.$el.addClass("has-"+this.type)},serializeData:function(){return{type:this.type,message:this.message}},startTransition:function(){window.setTimeout(this.enterNextState,this.transitionDuration)},onRender:function(){I.a.defer(this.enterNextState)},onStateMachineComplete:function(){this.close()},onMouseEnter:function(e){window.clearTimeout(this.transitionOutTimeout)},onMouseLeave:function(e){"visible"===this.currentState&&(window.clearTimeout(this.transitionOutTimeout),this.transitionOutTimeout=window.setTimeout(this.enterNextState,this.alertDuration/2))},onCloseClick:function(e){e.preventDefault(),"visible"===this.currentState&&(window.clearTimeout(this.transitionOutTimeout),this.enterNextState())}});const p9=Object(Pi.a)("ui/modal/syncDownloadModalChangeTemplateMode"),h9=Object(Pi.a)("ui/modal/syncDownloadModalClose"),m9=(Object(Pi.a)("ui/modal/syncDownloadModalOpen"),Object(Pi.a)("ui/modal/syncDownloadModalSaveSubscription")),g9=Sk({});var v9=Object(Wu.a)(Gu,e=>e.mediaSubscriptions);function y9(){return Object(Wu.a)((e,{mediaSubscriptionEntityID:t})=>t,v9,(e,t)=>t[e])}var f9=function(e,t){const i=I.a.groupBy(e,e=>e.advanced||t&&t.has(e.id)?"advanced":"basic");return i.basic=I.a.indexBy(i.basic,"id"),i};const b9=Nd.a.createElement;var I9=function(e){const{prefs:t}=e;return Vu()("div",{},void 0,t.map(e=>{const{id:t}=e;return b9(mF,tp()({key:t},e))}))};const S9=Nd.a.createElement,{useEffect:C9}=Nd.a;var M9=function(e){const{errorMessage:t,isMediaSubscriptionSaving:i,prefGroups:n,className:a,onModalClose:s,onSubmit:r}=e,o=Xe()(e,["errorMessage","isMediaSubscriptionSaving","prefGroups","className","onModalClose","onSubmit"]),l=$b(i)&&!i;return C9(()=>{l&&!t&&s()},[t,l,s]),Vu()(FM,{className:a,onSubmit:r},void 0,Vu()(zL,{},void 0,Object(Ze.default)("Download Options")),t?Vu()(vV,{errorMessage:t}):null,Vu()(wL,{},void 0,Vu()("div",{},"advanced",S9(I9,tp()({},o,{prefs:n.advanced})))),Vu()(AL,{},void 0,Vu()(sV,{},void 0,Vu()(hw,{kind:Dp,onPress:s},void 0,Object(Ze.default)("Cancel")),Vu()(hV,{type:"submit",isSpinning:i,kind:Pp},void 0,Object(Ze.default)("Save")))))};const D9=Nd.a.createElement,{useCallback:P9}=Nd.a,O9=new Set(["autoDeletionItemPolicyUnwatchedLibrary","autoDeletionItemPolicyWatchedLibrary"]),j9={dispatchSyncDownloadModalChangeTemplateMode:p9,dispatchSyncDownloadSaveSubscription:m9};var w9=Object(Hu.b)((function(){return Object(Wu.a)((e,{modal:t})=>t,y9(),Object(Wu.a)(e=>e.downloads.states,(e,{modal:t})=>t,(e,t)=>{const{sourceAttr:i,ratingKey:n}=t;return e.some(e=>e.ratingKey===n&&e.sourceAttr===i&&"saving"===e.state)}),XK,(e,t,i,n)=>{const{hint:a}=t,s=t.target&&n[t.target.metadata],r=f9(t.prefs,O9);return{errorMessage:e.error,hint:a,isMediaSubscriptionSaving:i,prefGroups:r,target:s}})}),j9)((function(e){const{dispatchSyncDownloadSaveSubscription:t,modal:i}=e,n=Xe()(e,["dispatchSyncDownloadModalChangeTemplateMode","dispatchSyncDownloadSaveSubscription","modal"]),{ratingKey:a,sourceAttr:s}=i,r=P9(e=>{const i=Xe()(e,["mode"]);t({prefs:i,ratingKey:a,sourceAttr:s})},[a,s,t]);return D9(M9,tp()({},n,{onSubmit:r}))})),T9=i("OG2d"),E9=i.n(T9);const{useCallback:N9}=Nd.a;var x9=function(e){const{isOpen:t,modal:i,onSyncDownloadModalClose:n}=e,{error:a,mediaSubscription:s,ratingKey:r,sourceAttr:o}=i,l=N9(()=>{n({ratingKey:r,sourceAttr:o})},[r,o,n]);return Vu()(Fw,{isOpen:t,metricsPage:zd.S,onModalClose:l},void 0,a&&!s?Vu()(sW,{message:a,onModalClose:l}):Vu()(YL,{onModalClose:l},void 0,Vu()(w9,{className:E9.a.formContent,modal:i,mediaSubscriptionEntityID:s,onModalClose:l})))};const A9=Nd.a.createElement;var L9=function(e){return e.modal?A9(x9,tp()({},e,{isOpen:!0})):null};const k9=Object(Wu.a)((function(e){return e.ui.syncDownloadModals}),e=>({modal:e.find(e=>e.isOpen)})),R9={onSyncDownloadModalClose:h9};var z9=Object(Hu.b)(k9,R9)(L9),U9=Vu()(z9,{});var V9=_u.extend({component:()=>U9});var B9=Object(Wu.a)(lJ,e=>e.announcements);var F9=Object(Wu.a)(B9,e=>e.filter(e=>!e.read));var H9=Object(Wu.a)(qu,e=>e.filter(e=>!e.isCloud&&!e.isEmbedded&&!!e.friendlyName));var _9=Object(Wu.a)(lJ,e=>e.invites),W9=Vu()("br",{});var Q9=function(e){const{isOpen:t,errorMessage:i,onModalClose:n}=e,a=[i||Object(Ze.default)("There was an unexpected error."),Object(Ze.default)("Please visit our forums if you continue to experience problems.")];return Vu()(Fw,{size:Fh,isOpen:t,metricsPage:zd.O,onModalClose:n},void 0,Vu()(YL,{onModalClose:n},void 0,Vu()(zL,{},void 0,Object(Ze.default)("There was an unexpected error")),Vu()(wL,{},void 0,a.join(" "),W9,Vu()(zp,{to:Up,target:"_self",kind:Pp,onPress:n},void 0,Object(Ze.default)("Go to Forums"))),Vu()(AL,{},void 0,Vu()(hw,{className:EL.a.button,"data-autofocus":!0,kind:Pp,onPress:n},void 0,Object(Ze.default)("Okay")))))};const{useCallback:G9,useState:K9}=Nd.a;function Y9(e){const t=K9(!1),i=t[1];return{isOpen:t[0],onOpen:G9(()=>i(!0),[]),onClose:G9(()=>i(!1),[]),onConfirm:G9(t=>{i(!1),e&&e(t)},[e])}}var q9=i("6DgY"),Z9=i.n(q9);var J9=function(){const e=Y9(),t=Object(Ze.default)("An unexpected error is impacting the navigation bar");return Vu()("div",{className:Z9.a.container},void 0,Vu()(Wb,{component:zp,tooltip:t,tooltipAttachment:"bottomCenter","aria-label":t,onPress:e.onOpen},void 0,Vu()(ph,{className:Z9.a.icon})),Vu()(Q9,{isOpen:e.isOpen,errorMessage:t+".",onModalClose:e.onClose}))};var X9=function(e){return e.remotePlayer},$9=i("EK1w");const e7={amp:"&",apos:"'","#x27":"'","#x2F":"/","#39":"'","#47":"/",lt:"<",gt:">",nbsp:" ",quot:'"'};function t7(e){let t=e;return Object.keys(e7).forEach(e=>{t=t.replace(new RegExp(J("&"+e+";"),"g"),e7[e])}),t}var i7=xe.a.extend({sessionAttrs:{protocol:Ae.a.string.isRequired,protocolCapabilities:Ae.a.array.isRequired},syncedAttrs:{friendlyName:Ae.a.string.isRequired,capabilities:Ae.a.array,volume:Ae.a.integer.isRequired},defaults:{protocol:$9.a,protocolCapabilities:["timeline","playback","mirror","playqueues","provider-playback"],volume:100},augmentResponse:e=>Object.assign({},e,{friendlyName:t7(e.friendlyName)})});const n7=Object(Pi.a)("ui/player/remoteCastPlayer/changeCastApiAvailability"),a7=Object(Pi.a)("ui/player/remoteCastPlayer/requestCastSession"),s7=Object(Pi.a)("ui/player/remoteCastPlayer/changeRemoteCastPlayer"),r7={"ui/player/remoteCastPlayer/changeCastApiAvailability"(e,t){e.set({castApiAvailability:t})},"ui/player/remoteCastPlayer/requestCastSession"(e){Object(ne.c)("remoteCastPlayerManager").requestSession()},"ui/player/remoteCastPlayer/changeRemoteCastPlayer"(e,t){const i=e.get("ui"),n=i.get("audioVideoPlayer"),a=i.get("photoPlayer"),s=i.get("romPlayer");if(s.get("isOpen")&&s.set({hasError:!0,errorMessage:Object(Ze.default)("Games are unsupported when connected to a remote player.")}),n.get("isOpen")){const e=n.get("isWatchTogether")?{hasError:!0,errorMessage:Object(Ze.default)("Watch Together is not currently supported when connected to a remote player.")}:{confirmLocalToRemote:2,isPaused:!0};n.set(e)}a.get("isOpen")&&a.set({confirmLocalToRemote:2,isPaused:!0}),e.set("remotePlayer",new i7(t,{parse:!0}))}};var o7=new X.a({props:["capabilities","video","music","photo"]}),l7=i("vdRG");var c7=xe.a.extend({name:"LiveTVSessionModel",context:["server","provider"],entityType:ht.e,entityID(e=this.state){return Object(pt.a)(this.entityType,e.key||this.cid,this.server.entityID())},idAttribute:"key",rootPropertyName:"MediaSubscription",url(){return"/media/subscriptions/"+this.get("key")},sessionAttrs:{dvrID:Ae.a.integer,channelIdentifier:Ae.a.string,activityUUID:Ae.a.string,currentPosition:Ae.a.integer,nextPosition:Ae.a.integer,lastSeekPosition:Ae.a.integer,startedAt:Ae.a.integer,captureBuffer:Ae.a.object},syncedAttrs:{key:Ae.a.string,type:Ae.a.integer,title:Ae.a.string},syncedRelations:{grabOperation:{relationClass:l7.a,rootPropertyName:"MediaGrabOperation",deferred:!0},timeline:{relationClass:um.default,rootPropertyName:"Timeline",deferred:!0},alsoAiring:{relationClass:um.default,rootPropertyName:"AlsoAiring",deferred:!0}},defaults:{nextPosition:null,lastSeekPosition:null},augmentResponseText:(e,t)=>t===ct.c?Object(dt.b)(e):e,augmentResponse(e){const t=e[this.rootPropertyName]||e,i=t.Timeline,n=t.AlsoAiring;return i&&(t.Timeline=i.Metadata),n&&(t.AlsoAiring=n.Metadata),e}}),d7=i("jpr2");function u7(e){let t;if(e){const i=V.parseUrl(e),n=/^\/playQueues\/([^/?]+)/.exec(i.pathname||i.href);t=n?n[1]:void 0}return t}var p7=i("DdRF"),h7=i("ZToC"),m7=i("IbpV");function g7(e){return _w(e.get("user").get("features").getState())}var v7=i("/oUX"),y7=i("U1rH");var f7=i("ijGY"),b7=i("2eFc");var I7=function({protocol:e,protocolCapabilities:t=[],providerIdentifier:i,userFeaturesByUUID:n,metadataItemModel:a,playQueueType:s,isWatchTogether:r=!1}){if(e!==$9.a&&e!==$9.b)return!1;if(s===f7.c)return!1;if(r)return!1;const o=jt.k(i,[jt.d,jt.h]),l=jt.k(i,[jt.c,jt.b]),c=jt.k(i,[jt.j,jt.g]),d=jt.k(i,jt.f),u=jt.k(i,jt.e),p=jt.k(i,[jt.i]),h=e===$9.a||n[wt.k],m=n[wt.H],g=e===$9.a||t.includes("provider-playback");return!!(o||l&&h||c&&m||d&&g||u&&g||p&&g)},S7=i("+Mxn");const C7=Object(Pi.a)("ui/player/remotePlayer/changeRemotePlayer"),M7=Object(Pi.a)("ui/player/remotePlayer/syncRemotePlayerCurrentItem"),D7=Object(Pi.a)("ui/player/remotePlayer/syncRemotePlayerState"),P7=Object(Pi.a)("ui/player/remotePlayer/syncRemotePlayQueueState"),O7=Object(Pi.a)("ui/player/remotePlayer/syncRemoteQuality"),j7=Object(Pi.a)("ui/player/remotePlayer/syncRemoteStreams"),w7=Object(Pi.a)("ui/player/remotePlayer/syncRemoteExperienceSettings"),T7=Object(Pi.a)("ui/player/remotePlayer/changeRemotePlayerVolume"),E7=Object(Pi.a)("ui/player/remotePlayer/showRemotePlayerError"),N7=Object(Pi.a)("ui/player/remotePlayer/mirrorDetails"),x7=Object(Pi.a)("ui/player/remotePlayer/discoverRemotePlayers"),A7=Object(Pi.a)("ui/player/remotePlayer/idleRemotePlayer"),L7=Object(Pi.a)("ui/player/remotePlayer/removeRemotePlayer"),k7=Object(Pi.a)("ui/player/remotePlayer/confirmRemoteToLocal"),R7=Object(Pi.a)("ui/player/remotePlyaer/cancelLocalToRemote"),z7=Object(Pi.a)("ui/player/remotePlayer/closeLocalToRemote"),U7=Object(Pi.a)("ui/player/remotePlayer/confirmLocalToRemote");function V7(e,t){const i=Object(V8.d)(t);return e.get("ui").get(i+"Player")}function B7(e,t){const{appModel:i,serverModel:n,providerModel:a,playerModel:s,playQueueModel:r,openState:o,mediaIndex:l,bitrate:c,initialState:d}=e;if(s.get("isPlayQueueLoading"))return;const u=r.get("type");s.restoreDefaults({serverEntityID:n.entityID(),providerEntityID:a.entityID(),isOpen:!0,openState:o||u===f7.a?b7.b:b7.a,isPlayQueueLoading:!0,playQueue:r,playbackStartTime:Date.now()}),function({serverModel:e,providerModel:t,playQueueModel:i}){if(!i.get("isLocal"))return Object(m7.a)(i);const n={server:e,provider:t},a=new Gn.default({containerKey:i.get("playQueueID")},n);return a.fetch().then(()=>a.get("metadataItems").length?Object(h7.a)({providerModel:t,metadataListModel:a,playQueueModel:i}).then(null,()=>D.a.Deferred().reject("ERROR_COMPANION_PLAY_QUEUE_COULD_NOT_ADD_TO").promise()):D.a.Deferred().reject("ERROR_COMPANION_PLAY_QUEUE_EMPTY").promise(),()=>D.a.Deferred().reject("ERROR_COMPANION_PLAY_QUEUE_COULD_NOT_POPULATE").promise())}({serverModel:n,providerModel:a,playQueueModel:r}).done(()=>{s.set(Object.assign({isPlayQueueLoading:!1},d)),t(O7({playQueueType:u,mediaIndex:l,bitrate:c}))}).fail(()=>{const e=i.get("remotePlayer");if(e){const t=e.get("friendlyName");s.restoreDefaults({hasError:!0,errorMessage:Object(Ze.default)('An error occurred loading the media being played on "{playerName}".',{playerName:t})})}})}function F7(e,t,i){return e.get("servers").populateServer(t).then(t=>(t.get("isCloud")?e.get("user").get("providers"):t.get("providers")).populate().then(e=>e)).then(e=>{const t=e.get(i)||e.get(jt.d);return t?t.populate().then(e=>e):D.a.Deferred().reject().promise()})}const H7={"ui/player/remotePlayer/changeRemotePlayer"(e,t){const i=Dx(e,{playerIdentifier:t});e.set("remotePlayer",i)},"ui/player/remotePlayer/syncRemotePlayerCurrentItem"(e,{playQueueType:t,options:i},n){const{machineIdentifier:a,providerIdentifier:s,containerKey:r,key:o,mediaIndex:l,bitrate:c,playQueueItemID:d,shouldRefreshPlayQueue:u,initialState:p}=i;if(!r||!o)return;const h=V7(e,t);if(!h)return;const m=a||ST.a,g=e.get("servers").populateServer(m),v=F7(e,a,s),y=v.then(e=>function({providerModel:e,currentPlayQueueModel:t,containerKey:i,playQueueOptions:n}){const a=u7(i)||i;return t&&t.get("playQueueID")===a?t:Object(d7.a)(Object.assign({providerModel:e,playQueueID:a},n))}({providerModel:e,currentPlayQueueModel:h.get("playQueue"),containerKey:r,playQueueOptions:{playQueueType:t,playQueueOwn:!1}}));D.a.when(g,v,y).then((t,i,a)=>{if(h.get("playQueue")===a){if(!h.get("isPlayQueueLoading")&&!a.get("isUpdatePending")&&u){const e=a.get("playQueueItems"),t=null!=d?e.get(d):e.find(e=>o===e.get("metadataItem").get("key"));if(h.set({isLyricsVisible:!1}),t){const i=a.get("playQueueSelectedItemID"),n=e.get(i),s=a.get("playQueueSelectedItemOffset"),r=e.indexOf(n),o=e.indexOf(t),l=t.get("metadataItem"),c=t.get("playQueueItemID");Object(C.a)("[Cast] The current metadata item on the remote player changed to "+l.get("title")),Object(m7.a)(a).done(()=>{a.set({playQueueSelectedItemID:c,playQueueSelectedItemOffset:s+(o-r)})})}else Object(m7.a)(a)}}else B7({appModel:e,serverModel:t,providerModel:i,playerModel:h,playQueueModel:a,openState:h.get("isOpen")?null:b7.b,mediaIndex:l,bitrate:c,initialState:p},n)}).fail(()=>{const t=e.get("remotePlayer");if(t){const e=t.get("friendlyName");h.restoreDefaults({hasError:!0,errorMessage:Object(Ze.default)('"{playerName}" is playing media from an unknown source.',{playerName:e})})}})},"ui/player/remotePlayer/syncRemotePlayerState"(e,t){const{playQueueType:i,playerState:n,providerIdentifier:a,machineIdentifier:s,liveTVSessionSubscriptionKey:r,liveTVSessionStartedAt:o,liveTVSessionSeekRangeStartedAt:l,liveTVSessionSeekStartSeconds:c,liveTVSessionSeekEndSeconds:d,liveTVSessionCurrentPosition:u,liveTVSessionChannelIdentifier:p}=t,h=V7(e,i);if(!h||!h.get("isOpen"))return;const m=Object(wi.m)(e,{serverEntityID:h.get("serverEntityID")});F7(e,s,a).then(e=>function(e,t,i,n,a,s,r,o,l,c){if(!n)return i.set({liveTVSession:null}),D.a.Deferred().resolve().promise();const d=i.get("liveTVSession"),u={key:n,currentPosition:l,startedAt:a,channelIdentifier:c,captureBuffer:{startedAt:s,seekStartSeconds:r,seekEndSeconds:o},nextPosition:null,lastSeekPosition:null};return d&&d.get("key")===n||i.set({liveTVSession:new c7(u,{provider:t,server:t.server})}),e.get("isCloud")?(null==d||d.set(u),D.a.Deferred().resolve().promise()):i.get("liveTVSession").populate().then(e=>(e.set(u),e))}(m,e,h,r,o,l,c,d,u,p)),Object(Ti.a)(()=>{h.set(n)})},"ui/player/remotePlayer/syncRemotePlayQueueState"(e,t){const{playQueueType:i,playQueueVersion:n,repeatAll:a,repeatOne:s}=t,r=V7(e,i);if(!r||!r.get("isOpen"))return;const o=r.get("playQueue");if(r.set({repeatAll:a,repeatOne:s}),o){const e=o.get("playQueueVersion");o.set("repeat",a),!o.get("isUpdatePending")&&e<n&&o.fetch()}},"ui/player/remotePlayer/syncRemoteQuality"(e,{playQueueType:t,mediaIndex:i=0,bitrate:n}){const a=V7(e,t);if(!a||!a.get("isOpen")||a.get("isPlayQueueLoading"))return;const s=a.get("playQueue"),r=s.get("playQueueItems").get(s.get("playQueueSelectedItemID"));if(!r)return;const o=r.get("metadataItem"),l=Object(Qt.u)(r.get("type"));if(!l||l.mediaType!==Go.e)return;const c=o.get("Media")[i],d=o7.prop("video"),u=ol.a.getAvailableQualitiesFor(c,o.server,{lowestQualityIndex:d.lowestQualityIndex}),p=e.get("user").get("experienceSettings");let h=null==n?p.defaults().localQuality:ol.a.getNearestIndexToBitrate(n);if(ol.a.isExplicitQuality(h)){const e=u[0],t=u[u.length-1];e&&h<e.index?h=e.index:t&&h>t.index&&(h=ol.a.ORIGINAL)}a.set({qualityIndex:h,availableQualities:u})},"ui/player/remotePlayer/syncRemoteStreams"(e,t,i){const{playQueueType:n,key:a,mediaIndex:s=0,partIndex:r=0,audioStreamID:o,subtitleStreamID:l}=t,c=V7(e,n);if(!c||!c.get("isOpen")||c.get("isPlayQueueLoading"))return;const d=c.get("playQueue"),u=d.get("playQueueItems").get(d.get("playQueueSelectedItemID")).get("metadataItem"),p=u.get("Media")[s],h=p&&p.Part[r];if(a!==u.get("key"))return;if(!h)return;const m=I.a.findWhere(h.Stream,{streamType:_C.a.get("audio").id,selected:!0}),g=I.a.findWhere(h.Stream,{streamType:_C.a.get("subtitles").id,selected:!0}),v=null==o?void 0:o.toString(),y=(null==l?void 0:l.toString())||HC.a;null!=o&&m&&m.id!==v&&i(Object(v7.p)({metadataItemEntityID:u.entityID(),mediaIndex:s,streamTypeString:"audio",streamID:v,updateLocalOnly:!0})),g&&g.id!==y&&i(Object(v7.p)({metadataItemEntityID:u.entityID(),mediaIndex:s,streamTypeString:"subtitles",streamID:y,updateLocalOnly:!0}))},"ui/player/remotePlayer/syncRemoteExperienceSettings"(e,t){e.get("user").get("experienceSettings").set(t)},"ui/player/remotePlayer/changeRemotePlayerVolume"(e,t){e.get("remotePlayer").set("volume",t)},"ui/player/remotePlayer/showRemotePlayerError"(e,{playQueueType:t,errorMessage:i}){const n=V7(e,t);n&&n.restoreDefaults({hasError:!0,errorMessage:i})},"ui/player/remotePlayer/mirrorDetails"(e,t){const i=Object(p7.a)(e),n=Object(wi.j)(e,t),a=Object(wi.f)(e,t),s=e.get("remotePlayer"),r=s.get("protocol"),o=s.get("protocolCapabilities");I7({protocol:r,protocolCapabilities:o,providerIdentifier:gi(n.get("identifier"),n.get("providerIdentifier")),userFeaturesByUUID:g7(e)})&&i.mirrorDetails(a)},"ui/player/remotePlayer/discoverRemotePlayers"(e){const t=e.get("companionServer");t&&(t.get("desktop").get("players").fetch(),t.get("desktop").get("neighborhoodDevices").fetch()),e.get("user").get("desktop").get("cloudCompanions").forEach(e=>{e.get("cloudPlayers").fetch().then(()=>e.set({linkState:"linked"}),(t,{status:i})=>e.set({linkState:402===i?"unable":"able"}))})},"ui/player/remotePlayer/idleRemotePlayer"(e,{playQueueType:t},i){const n=V7(e,t);i(Object(y7.C)()),n.restoreDefaults()},"ui/player/remotePlayer/removeRemotePlayer"(e){const t=e.get("remotePlayer");if(!t)return;const i=e.get("ui"),n=i.get("audioVideoPlayer"),a=i.get("photoPlayer");n.get("isOpen")&&n.set({confirmRemoteToLocal:!0,controllable:null}),a.get("isOpen")&&a.set({confirmRemoteToLocal:!0,controllable:null});const s=t.get("protocol");s===$9.a?Object(ne.c)("remoteCastPlayerManager").endSession():s===$9.b&&Object(ne.c)("remotePlexPlayerManager").endSession(),e.unset("remotePlayer")},"ui/player/remotePlayer/confirmRemoteToLocal"(e,{playerType:t}){const i=e.get("ui").get(t+"Player"),n=i.get("playQueue"),a=n.get("playQueueItems"),s=n.get("playQueueSelectedItemID"),r=a.get(s).get("metadataItem");n.set("own",!0),Object(m7.a)(n),i.set({confirmRemoteToLocal:!1,startMetadataItemEntityID:r.entityID(),startOffsetMilliseconds:1e3*i.get("positionSeconds")})},"ui/player/remotePlyaer/cancelLocalToRemote"(e,{playerType:t},i){Object(S7.c)(e,t).set("confirmLocalToRemote",1),i(Object(xT.p)({playerType:t}))},"ui/player/remotePlayer/closeLocalToRemote"(e,{playerType:t}){Object(S7.c)(e,t).set("confirmLocalToRemote",1)},"ui/player/remotePlayer/confirmLocalToRemote"(e,{playerType:t}){const i=Object(S7.c)(e,t);Object(p7.a)(e).startPlayback(i),i.set("confirmLocalToRemote",3)}},_7=[1,2,3,4],W7=(vc.a.oneOf(_7),Ae.a.oneOf(..._7));function Q7(){return Object(Wu.a)(e=>e.ui,(e,{playerType:t})=>t,(e,t)=>e[t+"Player"])}function G7(e){return Object(Wu.a)(Q7(),t=>t?t[e]:void 0)}function K7(){return Object(Wu.a)(yg,G7("providerEntityID"),(e,t)=>e[t])}var Y7=function(){return Object(Wu.a)(K7(),e=>gi(e.identifier,e.providerIdentifier))};var q7=function(e){return e.castApiAvailability};var Z7=function(){return Object(Wu.a)(q7,Y7(),Ww,(e,t,i)=>I7({protocol:$9.a,providerIdentifier:t,userFeaturesByUUID:i})?e:1)};var J7=function(){return(e,t)=>t.playerType?Z7()(e,t):q7(e,t)};var X7=Object(Wu.a)(lJ,({cloudCompanions:e})=>e);var $7=Object(Wu.a)(X7,e=>e.reduce((e,{cloudPlayers:t})=>e.concat(t),[]));var eee=Object(Wu.a)(e=>e.companionServer,Ku,(e,t)=>t[e]);var tee=Object(Wu.a)(eee,e=>e?e.desktop.players:[]);var iee=Object(Wu.a)(tee,$7,(e,t)=>e.concat(t));var nee=function(){return Object(Wu.a)(Y7(),Ww,iee,(e,t,i)=>i.filter(({protocol:i,protocolCapabilities:n})=>I7({protocol:i,protocolCapabilities:n,providerIdentifier:e,userFeaturesByUUID:t})))};var aee=function(){return(e,t)=>t.playerType?nee()(e,t):iee(e,t)};var see=Object(Wu.a)(X7,Yu,(e,t)=>e.filter(({identifier:e})=>e.includes("sonos")).map(e=>{const i=V.join(e.linkURL,{"X-Plex-Token":t.accessToken,next:window.location.href});return{title:e?e.title:"Sonos",state:e?e.linkState:"untested",url:i}}));var ree=Object(Wu.a)(eee,e=>e?e.desktop.neighborhoodDevices:[]);var oee=Object(Wu.a)(ree,e=>!!e.find(({uuid:e})=>e.includes("RINCON")));function lee(e){var t=e["aria-label"],i=e.className,n=e.style,a={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-remote-player-off-560"};a["aria-hidden"]=!t,a.style=n,a.className=Ad.a.plexIcon+(i?" "+i:"");var s=[Nd.a.createElement.apply(Nd.a,["path",{d:"M0 84v98c14.294 0 28.252 1.372 42 3.346V126h476v308H290.654c1.974 13.748 3.346 27.706 3.346 42h266V84H0m42 392c0-23.198-18.802-42-42-42v42h42m56 0h42c0-77.322-62.678-140-140-140v42c54.04 0 98 43.96 98 98m98 0h42c0-131.446-106.554-238-238-238v42c108.08 0 196 87.92 196 196"}].concat([]))];return t&&s.unshift(Nd.a.createElement("title",null,t)),Nd.a.createElement.apply(Nd.a,["svg",a].concat(s))}lee.propTypes={"aria-label":vc.a.string,className:vc.a.string,style:vc.a.object};var cee=lee;function dee(e){var t=e["aria-label"],i=e.className,n=e.style,a={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-remote-player-on-560"};a["aria-hidden"]=!t,a.style=n,a.className=Ad.a.plexIcon+(i?" "+i:"");var s=[Nd.a.createElement.apply(Nd.a,["path",{d:"M0 84v98c162.372 0 294 131.628 294 294h266V84H0m42 392c0-23.198-18.802-42-42-42v42h42m56 0h42c0-77.322-62.678-140-140-140v42c54.04 0 98 43.96 98 98m98 0h42c0-131.446-106.554-238-238-238v42c108.08 0 196 87.92 196 196"}].concat([]))];return t&&s.unshift(Nd.a.createElement("title",null,t)),Nd.a.createElement.apply(Nd.a,["svg",a].concat(s))}dee.propTypes={"aria-label":vc.a.string,className:vc.a.string,style:vc.a.object};var uee=dee;function pee(e){var t=e["aria-label"],i=e.className,n=e.style,a={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-ban-560"};a["aria-hidden"]=!t,a.style=n,a.className=Ad.a.plexIcon+(i?" "+i:"");var s=[Nd.a.createElement.apply(Nd.a,["path",{d:"M169.704 446.864C201.322 467.804 239.237 480 280 480c110.457 0 200-89.543 200-200 0-40.763-12.195-78.678-33.136-110.296l-277.16 277.16zm-56.568-56.568l277.16-277.16C358.678 92.196 320.763 80 280 80 169.543 80 80 169.543 80 280c0 40.763 12.195 78.678 33.136 110.296zM280 560C125.36 560 0 434.64 0 280S125.36 0 280 0s280 125.36 280 280-125.36 280-280 280z"}].concat([]))];return t&&s.unshift(Nd.a.createElement("title",null,t)),Nd.a.createElement.apply(Nd.a,["svg",a].concat(s))}pee.propTypes={"aria-label":vc.a.string,className:vc.a.string,style:vc.a.object};var hee=pee;var mee=function(e){const{isOpen:t,onClose:i}=e;return Vu()(Fw,{isOpen:t,metricsPage:zd.d,size:Fh,onModalClose:i},void 0,Vu()(YL,{onModalClose:i},void 0,Vu()(zL,{},void 0,Object(Ze.default)("Chromecast unavailable")),Vu()(wL,{},void 0,Vu()(vw,{message:Object(Ze.default)("Casting to Chromecast requires a secure connection to the Plex Web app. Please visit {openLink}https://app.plex.tv{closeLink} and try again."),tags:[{open:"openLink",close:"closeLink",component:zp,to:"https://app.plex.tv/desktop"+window.location.hash,kind:Pp}]}))))};const{Component:gee}=Nd.a;var vee=class extends gee{constructor(...e){super(...e),this.onPress=e=>{this.props.onPlayerSelect(this.props.playerIdentifier),this.props.onPress(e)}}render(){return Vu()(Zv,{onPress:this.onPress},void 0,this.props.children)}},yee=i("IlPc"),fee=i.n(yee);const{Component:bee,Fragment:Iee}=Nd.a;var See=Vu()("div",{},void 0,"Sonos..."),Cee=Vu()(Q$,{},"separator");var Mee=class extends bee{constructor(e,t){super(e,t),this.onCastPress=e=>{this.props.onCastPress(e),this.props.onMenuClose(e)},this.onCastMissingPress=e=>{this.setState({isCastMissingModalOpen:!0})},this.onCastMissingModalClose=()=>{this.setState({isCastMissingModalOpen:!1},()=>{this.props.onMenuClose()})},this.onSonosUpsellPress=()=>{this.setState({isPlexPassModalOpen:!0})},this.onPlexPassModalClose=()=>{this.setState({isPlexPassModalOpen:!1})},this.onDisconnectPress=e=>{this.props.onDisconnectPress(e),this.props.onMenuClose(e)},this.state={isCastMissingModalOpen:!1,isPlexPassModalOpen:!1}}render(){const{castApiAvailability:e,castAppTitle:t,sonosLinks:i,isRemotePlayer:n,remotePlayerName:a,remotePlayerProduct:s,players:r,onMenuClose:o,onPlayerSelect:l}=this.props,{isCastMissingModalOpen:c,isPlexPassModalOpen:d}=this.state,u=i.filter(({state:e})=>"able"===e),p=!n&&2===e,h=!n&&3===e,m=!n&&u.length,g=!n&&i.length&&i.every(({state:e})=>"unable"===e),v=p||h||m||g,y=!n&&!!r.length,f=!(n||p||h||y);return Vu()("div",{},void 0,n?[Vu()("div",{className:fee.a.remotePlayerName},"name",a),Vu()("div",{className:fee.a.remoteProduct},"product",s),Vu()(Zv,{onPress:this.onDisconnectPress},"disconnect",Vu()(hee,{className:fee.a.disconnectIcon,"aria-label":Object(Ze.default)("Disconnect")}),Object(Ze.default)("Disconnect"))]:null,p?Vu()(Zv,{onPress:this.onCastPress},"cast",t?Object(Ze.default)("Cast ({title})...",{title:t}):Object(Ze.default)("Cast...")):null,h?Vu()(Iee,{},void 0,Vu()(mee,{isOpen:c,onClose:this.onCastMissingModalClose}),Vu()(Zv,{onPress:this.onCastMissingPress},"cast",Object(Ze.default)("Cast..."))):null,null,m?u.map(e=>Vu()(Zv,{to:e.url},e.url,Vu()("div",{},void 0,e.title,"..."),Vu()("div",{className:fee.a.menuItemSubtitle},void 0,Object(Ze.default)("Link your Sonos account")))):null,g?Vu()(Zv,{onPress:this.onSonosUpsellPress},"sonosUpsell",See,Vu()("div",{className:fee.a.menuItemSubtitle},void 0,Object(Ze.default)("Upgrade to a Plex Pass"))):null,v&&y?Cee:null,y?r.map(({playerIdentifier:e,friendlyName:t,product:i})=>Vu()(vee,{playerIdentifier:e,onPress:o,onPlayerSelect:l},e,Vu()("div",{},void 0,t),Vu()("div",{className:fee.a.remotePlayerProduct},void 0,i))):null,f?Vu()("div",{className:fee.a.emptyMessage},void 0,Object(Ze.default)("No players found")):null,Vu()(dk,{origin:"sonos",isOpen:d,onModalClose:this.onPlexPassModalClose}))}};const{Component:Dee,Fragment:Pee}=Nd.a;class Oee extends Dee{constructor(e,t){super(e,t),this._menuButtonID=void 0,this.onPress=()=>{this.setState((e,t)=>({isMenuOpen:!e.isMenuOpen}),()=>{this.props.onMenuChange&&this.props.onMenuChange(this.state.isMenuOpen)})},this.onMenuClose=()=>{this.setState({isMenuOpen:!1},()=>{this.props.onMenuChange&&this.props.onMenuChange(!1)})},this.state={isMenuOpen:!1},this._menuButtonID=Mp()}componentDidUpdate(e,t){this.state.isMenuOpen&&!t.isMenuOpen&&this.props.onDiscoverPlayers()}render(){const{className:e,iconClassName:t,iconComponent:i,isRemotePlayer:n,castApiAvailability:a,castAppTitle:s,sonosLinks:r,hasCompanionServer:o,remotePlayerName:l,remotePlayerProduct:c,players:d,onPlayerSelect:u,onCastPress:p,onDisconnectPress:h}=this.props,m=2===a;return Vu()(Pee,{},void 0,Vu()(i,{className:e,iconClassName:t,id:this._menuButtonID,ariaLabel:Object(Ze.default)("Select Player"),title:this.state.isMenuOpen?null:Object(Ze.default)("Select Player"),iconComponent:n?uee:cee,isDisabled:!m&&!o,isSelected:n,onPress:this.onPress}),Vu()(Qv,{target:this._menuButtonID,isOpen:this.state.isMenuOpen,size:_h,onMenuClose:this.onMenuClose},void 0,Vu()(Mee,{castApiAvailability:a,castAppTitle:s,sonosLinks:r,isRemotePlayer:n,remotePlayerName:l,remotePlayerProduct:c,players:d,onPlayerSelect:u,onCastPress:p,onDisconnectPress:h,onMenuClose:this.onMenuClose})))}}Oee.defaultProps={iconComponent:JK};var jee=Oee;const wee=()=>{};var Tee=Object(Hu.b)((function(){return Object(Wu.a)(J7(),X9,aee(),see,oee,e=>e.companionServer,wee,(e,t,i,n,a,s,r)=>({castApiAvailability:e,castAppTitle:r,sonosLinks:a?n:[],hasCompanionServer:!!s,isRemotePlayer:!!t,remotePlayerName:t&&t.friendlyName,remotePlayerProduct:t&&t.product,players:i}))}),(function(e){return{onDiscoverPlayers(t){e(x7())},onPlayerSelect(e){Object(ne.c)("remotePlexPlayerManager").requestSession(e)},onCastPress(t){e(a7())},onDisconnectPress(t){e(L7())}}}))(jee),Eee=i("2ewr"),Nee=i.n(Eee);const xee=Nd.a.createElement;function Aee(e){const{className:t,tooltipClassName:i,tooltipFocusedClassName:n,labelClassName:a,iconClassName:s,iconComponent:r,alertIconClassName:o,alertIconComponent:l,title:c,ariaLabel:d,label:u,iconProps:p}=e,h=Xe()(e,["className","tooltipClassName","tooltipFocusedClassName","labelClassName","iconClassName","iconComponent","alertIconClassName","alertIconComponent","title","ariaLabel","label","iconProps"]),m=c||d;return xee(Wb,tp()({className:t,tooltipClassName:i,tooltipFocusedClassName:n,component:zp,tooltip:c,"aria-label":m},h),xee(r,tp()({className:s},p)),l?Vu()(l,{className:o}):null,u?Vu()("span",{className:a},void 0,u):null)}Aee.defaultProps={className:Nee.a.button,iconClassName:Nee.a.icon,alertIconClassName:Nee.a.alertIcon,tooltipClassName:Nee.a.tooltip,tooltipFocusedClassName:Nee.a.tooltipTriggerHasFocus};var Lee=Aee;function kee(e){var t=e["aria-label"],i=e.className,n=e.style,a={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-alert-dot-560"};a["aria-hidden"]=!t,a.style=n,a.className=Ad.a.plexIcon+(i?" "+i:"");var s=[Nd.a.createElement.apply(Nd.a,["circle",{cx:"280",cy:"280",r:"196"}].concat([]))];return t&&s.unshift(Nd.a.createElement("title",null,t)),Nd.a.createElement.apply(Nd.a,["svg",a].concat(s))}kee.propTypes={"aria-label":vc.a.string,className:vc.a.string,style:vc.a.object};var Ree=kee;function zee(e){var t=e["aria-label"],i=e.className,n=e.style,a={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-navbar-settings-560"};a["aria-hidden"]=!t,a.style=n,a.className=Ad.a.plexIcon+(i?" "+i:"");var s=[Nd.a.createElement.apply(Nd.a,["path",{d:"M294 378l56-56 142.027 116.204a14 14 0 0 1 1.034 20.735l-62.122 62.122a14.001 14.001 0 0 1-20.735-1.034L294 378zm-.589-167.411C284.832 193.57 280 174.345 280 154c0-69.541 56.459-126 126-126 35.996 0 68.486 15.127 91.456 39.365L364 103.124l30.746 114.746 134.142-35.943C516.169 238.048 465.945 280 406 280c-20.345 0-39.57-4.832-56.589-13.411L103.799 512.201c-10.935 10.935-28.663 10.935-39.598 0l-16.402-16.402c-10.935-10.935-10.935-28.663 0-39.598l245.612-245.612zM84 168L28 84l28-28 84 56v28l84 84-28 28-84-84H84z"}].concat([]))];return t&&s.unshift(Nd.a.createElement("title",null,t)),Nd.a.createElement.apply(Nd.a,["svg",a].concat(s))}zee.propTypes={"aria-label":vc.a.string,className:vc.a.string,style:vc.a.object};var Uee=zee,Vee=i("Auv6"),Bee=i.n(Vee);var Fee=function(e){const{shouldShowAlertDot:t}=e;return Vu()(Lee,{className:Bee.a.button,to:"#!/settings/web/general",iconComponent:Uee,alertIconComponent:t?Ree:null,title:Object(Ze.default)("Settings")})};const Hee=Object(Wu.a)(b8,e=>({shouldShowAlertDot:e}));var _ee=Object(Hu.b)(Hee)(Fee),Wee=i("FSRn"),Qee=i.n(Wee);const Gee=Nd.a.createElement;function Kee(e){const{children:t,className:i}=e,n=Xe()(e,["children","className"]);return Gee(zp,tp()({},n,{className:i}),t)}Kee.defaultProps={className:Qee.a.button};var Yee=Kee,qee=i("FYiy"),Zee=i.n(qee);const{useCallback:Jee}=Nd.a;var Xee=function(){const e=Jee(()=>{U.a.trigger("navigate","login")},[]);return Vu()(Yee,{className:Zee.a.signInButton,"data-qa-id":"signInButton",onPress:e},void 0,Object(Ze.default)("Sign In"))};const{useCallback:$ee}=Nd.a;var ete=function(){const e=$ee(()=>{U.a.trigger("navigate","signUp")},[]);return Vu()(Yee,{"data-qa-id":"signUpButton",onPress:e},void 0,Object(Ze.default)("Sign Up"))};var tte=Object(Wu.a)(Rg.a,e=>e.sidebarSettings);var ite=Object(Wu.a)(tte,e=>e.pinnedSources);function nte(e){const{sourceType:t,sourceServer:i,sourceProvider:n,sourceDirectory:a}=e,s={key:GQ(t,i.machineIdentifier,n.identifier,a.id),sourceType:t,serverEntityID:i.entityID,machineIdentifier:i.machineIdentifier,providerEntityID:n.entityID,providerIdentifier:n.identifier,providerMetricsIdentifier:n.metricsIdentifier,directoryID:a.id,directoryIcon:a.icon,title:a.title,serverFriendlyName:i.friendlyName,serverSourceTitle:i.sourceTitle,providerSourceTitle:n.sourceTitle,isLocal:i.isConnected&&i.activeConnection&&i.activeConnection.isPrivate,isUnavailable:i.isUnavailable,isOutOfDate:i.isOutOfDate,isUnclaimedServer:i.isConnected&&!i.isClaimed&&!i.isCloud,isFullOwnedServer:i.isFullOwnedServer,isProviderReady:n.isPopulated||null!=n.error||i.isUnavailable||i.isUnauthorized};return i.isCloud?s.isCloud=!0:t===KQ&&(s.title=Object(Ze.default)("Live TV & DVR")),s}function ate(e,t,i){const{isCloud:n,isFullOwnedServer:a,serverFriendlyName:s,serverSourceTitle:r,providerSourceTitle:o}=e,{ownedSources:l,sharedSources:c}=t,d=Object.keys(l).length,u=Object.keys(c).length;if(n)return d>0||u>0?o:void 0;if(a)return d>1?s:void 0;const p=c[r];return(p?p.length:0)>1?i?s:r+"  "+s:d>0||u>1?r:void 0}function ste(e){return e.reduce((e,t)=>{const{isFullOwnedServer:i,serverSourceTitle:n,machineIdentifier:a}=t;if(!i&&n){null==e.sharedSources[n]&&(e.sharedSources[n]=[]);const t=e.sharedSources[n];t.includes(a)||t.push(a)}return a&&i&&(null==e.ownedSources[a]&&(e.ownedSources[a]=0),e.ownedSources[a]++),e},{sharedSources:{},ownedSources:{}})}function rte(e,t){const i=Yt(e);return i&&i.directories?i.directories.find(e=>e.id===t):null}function ote(){return Object(Wu.a)(ite,Zu.a,qu,Yu,yg,e=>!e.user.isFullUser,(e,t,i,n,a,s)=>{const r=[];return e.forEach(e=>{if(e.isHidden)return;const s=function(e,t){return e.find(e=>e.machineIdentifier===t)}(i,e.machineIdentifier),o=function(e,t,i,n){if(!e)return null;const a=(e.isCloud?i:e.providers).find(e=>{const i=t[e];return i&&i.identifier===n});return t[a]}(s,a,t.providers,e.providerIdentifier),l=rte(o,e.directoryID),c=JQ(o,l);if(c)r.push(nte({sourceType:c.key,sourceServer:s,sourceProvider:o,sourceDirectory:l}));else{const i=function(e,t,i,n){return e?e.isCloud?e.connectionTestResult!==Zi.UNAVAILABLE&&!n.isProvidersPopulated&&!n.providersError||t&&!t.isPopulated&&!t.error:e.connectionTestResult===Zi.PENDING:i.isResourcesPending}(s,o,n,t);r.push(Object.assign({},e,{serverEntityID:s&&s.entityID,providerEntityID:o&&o.entityID,isUnavailable:!i,isProviderReady:o?o.isPopulated||null!=o.error:!i}))}}),function(e,t){const i=ste(e);return e.map(e=>Object.assign({},e,{titleDetail:ate(e,i,t)}))}(r,s)})}var lte=Object(Wu.a)(bg("providers"),yg,(e,t)=>e?e.map(e=>t[e]):[]);var cte=Object(Wu.a)(Yu,bg("isProvidersPopulated"),bg("providersError"),lte,(e,t,i,n)=>{if(e.isRejected)return!0;const a=(t||!!i)&&n.every(e=>e.isPopulated||!!e.error);return e.isResourcesPopulated&&a});var dte=xe.a.extend({name:"SearchResultAdditionalSourceModel",sessionAttrs:{serverEntityID:Ae.a.string,providerEntityID:Ae.a.string,metadataItemEntityID:Ae.a.string,tagItem:Ae.a.object}});var ute=ke.a.extend({name:"SearchResultAdditionalSourceCollection",model:dte});var pte=xe.a.extend({name:"SearchResultModel",context:["server","provider","metricsContext"],entityType:ht.m,entityID(e=this.state){return Object(pt.a)(this.entityType,e.key,this.provider&&this.provider.entityID(),this.server.entityID())},responseType(){return Object(rt.a)(this.server)},idAttribute:"key",sessionRelations:{additionalSources:{relationClass:ute}},syncedAttrs:{key:Ae.a.string,reasonID:Ae.a.integer,reason:Ae.a.string,reasonTitle:Ae.a.string},syncedRelations:{metadataItem:{relationClass:ut.a,deferred:!0},tagItem:{relationClass:QT,deferred:!0}},augmentResponse(e){const{key:t,reason:i,reasonTitle:n,reasonID:a}=e,s=Xe()(e,["key","reason","reasonTitle","reasonID"]);return{key:t,reason:i,reasonTitle:n,reasonID:a,[s.tag?"tagItem":"metadataItem"]:Object.assign({key:t},s)}}});var hte=ke.a.extend({name:"SearchResultCollection",context:["server","provider","metricsContext"],model:pte,responseType(){return Object(rt.a)(this.server)}});var mte=xe.a.extend({name:"SearchHubModel",context:["server","provider"],responseType(){return Object(rt.a)(this.server)},idAttribute:"hubIdentifier",syncedAttrs:{hubIdentifier:Ae.a.string,size:Ae.a.integer,type:Ae.a.string,subtype:Ae.a.string,title:Ae.a.string,context:Ae.a.string},syncedRelations:{metadataResults:{relationClass:hte,rootPropertyName:"Metadata",options:e=>({metricsContext:e.context})},tagResults:{relationClass:hte,rootPropertyName:"Directory",options:e=>({metricsContext:e.context})}}});var gte=ke.a.extend({name:"SearchHubCollection",context:["server","provider"],model:mte,responseType(){return Object(rt.a)(this.server)}});var vte=xe.a.extend({name:"SearchModel",context:["server","provider","isContextual","includeCollections","includeExternalMedia"],responseType(){return Object(rt.a)(this.server)},url(){const e={};return this.includeCollections&&(e.includeCollections=1),this.includeExternalMedia&&(e.includeExternalMedia=1),this.isContextual&&(e.contextual=1),this.get("contentDirectoryID")&&(e.contentDirectoryID=this.get("contentDirectoryID")),V.join(this.get("key"),e)},idAttribute:"providerEntityID",sessionAttrs:{providerEntityID:Ae.a.string,serverEntityID:Ae.a.string,key:Ae.a.string,contentDirectoryID:Ae.a.string,searchTitle:Ae.a.string,isSearchPending:Ae.a.boolean,isSearchPopulated:Ae.a.boolean,searchError:Ae.a.object},syncedRelations:{hubs:{relationClass:gte,rootPropertyName:"Hub"}},defaults:{isSearchPending:!0,isSearchPopulated:!1,contentDirectoryID:""},augmentResponseText:(e,t)=>t===ct.c?Object(dt.b)(e):e,augmentResponse(e){if(!e.Hub)return e;const t=Array.isArray(e.Hub)?e.Hub:[e.Hub];return e.Hub=t.filter(e=>parseInt(e.size,10)>0),e}});var yte=Object(iA.a)(["id","typeString"],[{id:0,typeString:"tag",title:()=>Object(Ze.default)("Tag")},{id:1,typeString:"genre",title:()=>Object(Ze.default)("Genre")},{id:2,typeString:"collection",title:()=>Object(Ze.default)("Collection")},{id:3,typeString:"bookmark",title:()=>Object(Ze.default)("Bookmark")},{id:4,typeString:"director",title:()=>Object(Ze.default)("Director"),isPerson:!0},{id:5,typeString:"writer",title:()=>Object(Ze.default)("Writer"),isPerson:!0},{id:6,typeString:"actor",title:()=>Object(Ze.default)("Actor"),isPerson:!0},{id:7,typeString:"producer",title:()=>Object(Ze.default)("Producer"),isPerson:!0},{id:8,typeString:"country",title:()=>Object(Ze.default)("Country")},{id:9,typeString:"chapter",title:()=>Object(Ze.default)("Chapter")},{id:10,typeString:"review",title:()=>Object(Ze.default)("Review")},{id:11,typeString:"label",title:()=>Object(Ze.default)("Label")},{id:42,typeString:"versionBackgroundProcessingTarget",title:()=>Object(Ze.default)("Version Background Processing Target")},{id:200,typeString:"make",title:()=>Object(Ze.default)("Make")},{id:201,typeString:"model",title:()=>Object(Ze.default)("Model")},{id:202,typeString:"aperture",title:()=>Object(Ze.default)("Aperture")},{id:203,typeString:"exposure",title:()=>Object(Ze.default)("Exposure")},{id:204,typeString:"iso",title:()=>Object(Ze.default)("ISO")},{id:205,typeString:"lens",title:()=>Object(Ze.default)("Lens")},{id:206,typeString:"device",title:()=>Object(Ze.default)("Device")},{id:207,typeString:"autotag",title:()=>Object(Ze.default)("Autotag")},{id:400,typeString:"place",title:()=>Object(Ze.default)("Place")},{id:300,typeString:"mood",title:()=>Object(Ze.default)("Mood")},{id:301,typeString:"bpm",title:()=>Object(Ze.default)("BPM")},{id:302,typeString:"composer",title:()=>Object(Ze.default)("Composer")},{id:303,typeString:"featuring",title:()=>Object(Ze.default)("Featuring")},{id:304,typeString:"trackArtist",title:()=>Object(Ze.default)("Track Artist")},{id:305,typeString:"similarArtist",title:()=>Object(Ze.default)("Similar Artist")},{id:306,typeString:"concert",title:()=>Object(Ze.default)("Concert")}]);function fte(e,t,i,n={},a){if(i){const e=i.pivots.find(({key:e})=>e.includes(i.key));n.key=t.identifier===jt.d?e.key:i.key}return Xt(e,t,i,n,a)}function bte(e,t,i={},n,a){const s=i.type,r=i.subtype,o=i.playlistType;let l=i.key;if(!i.skipDetails&&s!==Qt.k)return s===Qt.p&&r!==LC.c&&(l=i.skipParent?i.grandparentKey:i.parentKey),!l&&i.librarySectionID?fte(e,t,a,n):cu(e,t,l,n,o)}const Ite="quickSearch/initQuickSearch",Ste="quickSearch/resetQuickSearch",Cte="quickSearch/fetchQuickSearch",Mte="quickSearch/changeQuickSearchQuery",Dte="quickSearch/changeQuickSearchSettings",Pte="quickSearch/selectQuickSearchResult",Ote="quickSearch/navigateQuickSearchResult",jte="quickSearch/playQuickSearchResult",wte=Object(Pi.a)(Ite),Tte=Object(Pi.a)(Ste),Ete=Object(Pi.a)(Cte),Nte=Object(Pi.a)(Mte),xte=Object(Pi.a)(Dte),Ate=Object(Pi.a)(Pte),Lte=Object(Pi.a)(Ote),kte=Object(Pi.a)(jte);function Rte(e){return e.get("ui").get("quickSearch")}function zte(e){return e.map(e=>e.entityID())}function Ute(e,t,i){const{isCloud:n,isFullOwnedServer:a,title:s,serverFriendlyName:r,serverSourceTitle:o,providerSourceTitle:l}=e,c=jt.k(e.providerIdentifier,jt.d);if(n)return l?s+" - "+l:s;if(a&&c)return r;if(a&&!c)return s+"  "+r;const{ownedSources:d,sharedSources:u}=t,p=Object.keys(d).length,h=Object.keys(u).length,m=u[o];return(m?m.length:0)>1?i?r:o+"  "+r:p>0||h>0?o:void 0}const Vte={[Ite](e,t,i){const n=Rte(e),a=e.get("user").get("isFullUser"),s=n.get("searches"),{searchSources:r}=t,o=ste(r),l=Object(gT.a)(e,wt.a);s.reset(r.reduce((t,i)=>{const{providerEntityID:s}=i,r=Object(wi.j)(e,{providerEntityID:s});if(!r)return t;const c=r.get("features").get(Ot.o),d=t.find(e=>e.id===s);if(d){if(d&&i.directoryID){const e=d.get("contentDirectoryID").split(",");e.includes(i.directoryID)||e.push(i.directoryID);const t=e.join(",");d.set("contentDirectoryID",t)}}else{const e=s===n.get("providerEntityID");t[e?"unshift":"push"](new vte({providerEntityID:s,serverEntityID:r.server.entityID(),key:c?c.get("key"):"/hubs/search",contentDirectoryID:i.directoryID,searchTitle:Ute(i,o,!a)},{server:r.server,provider:r,isContextual:e,includeCollections:!0,includeExternalMedia:l}))}return t},[])),n.get("query")&&i(Ete())},[Ste](e){const t=Rte(e),i=t.get("searches");t.set({query:"",selectedResultEntityID:null}),i.each(e=>{e.restoreDefaults({providerEntityID:e.get("providerEntityID"),serverEntityID:e.get("serverEntityID"),searchTitle:e.get("searchTitle"),key:e.get("key")})})},[Cte](e,t={}){const i=Rte(e),n=i.get("searches"),{query:a=i.get("query"),limit:s}=t;n.each(t=>{const n=t.server;if(!n.supports("quickSearch")||!n.get("isConnected"))return void t.set({isSearchPending:!1});t.abortPendingPopulate(),t.set("isSearchPending",!0);const r=t.get("providerEntityID");Object(wi.j)(e,{providerEntityID:r}).populate({merge:!0}).then(()=>t.fetch({data:{sectionId:i.get("directoryID"),query:a,limit:s}})).done(()=>{t.set({isSearchPending:!1,isSearchPopulated:!0,searchError:null})}).fail(e=>{t.set({isSearchPending:!1,searchError:Object(DT.a)(e)})})})},[Mte](e,t,i){const n=Rte(e);""===t.trim()?i(Tte()):(n.get("query").length>1&&t.length<2&&i(Tte()),n.set("query",t))},[Dte](e,t){const i=Rte(e),{serverEntityID:n=i.get("serverEntityID"),providerEntityID:a=i.get("providerEntityID"),providerIdentifier:s=i.get("providerIdentifier"),directoryID:r=i.get("directoryID")}=t;i.set({serverEntityID:n,providerEntityID:a,providerIdentifier:s,directoryID:r})},[Pte](e,t){const i=Rte(e),{searchResultEntityID:n,offset:a}=t;if(n)return void i.set("selectedResultEntityID",n);const s=i.get("searches").reduce((e,t)=>{const i=t.get("hubs").reduce((e,t)=>e.concat(zte(t.get("metadataResults")),zte(t.get("tagResults"))),[]);return e.concat(i)},[]);const r=s.indexOf(i.get("selectedResultEntityID")),o=s.length-1,l=r+a,c=l<-1||l>o?a>0?-1:o:l,d=-1===c?null:s[c];i.set("selectedResultEntityID",d)},[Ote](e,t={},i){const n=Rte(e),a=null!=t.searchResultEntityID?t.searchResultEntityID:n.get("selectedResultEntityID"),s=Object(wi.k)(e,{searchResultEntityID:a});if(!s){const e=n.get("query");return i(Object(Kn.v)({pathname:"/search",query:{query:e}})),void i(Tte())}const{tagItem:r,metadataItem:o}=s.pick("tagItem","metadataItem");if(r){const{typeString:e}=yte.get(r.get("tagType")),t={filters:r.has("filter")?r.get("filter"):e+"="+r.get("id"),filterLabel:r.get("tag"),context:s.metricsContext};return window.location.hash=fte(s.server.toJSON(),s.provider.toJSON(),Yn(s.provider,r.get("librarySectionKey")),t),void i(Tte())}const l=Yn(s.provider,o.get("librarySectionKey")),c=bte(s.server.attributes,s.provider.attributes,o.attributes,{context:s.metricsContext},l);c?(window.location.hash=c,i(Tte())):i(kte({searchResultEntityID:a}))},[jte](e,t={},i){const{options:n}=t,a=Rte(e),s=null!=t.searchResultEntityID?t.searchResultEntityID:a.get("selectedResultEntityID"),r=Object(wi.k)(e,{searchResultEntityID:s});if(!r)return void i(Lte(t));const o=r.get("metadataItem");o&&(i(Object(xT.x)({serverEntityID:r.server.entityID(),providerEntityID:r.provider.entityID(),metadataItemEntityID:o.entityID(),metricsPage:zd.gb,metricsContext:r.metricsContext,options:Object.assign({containerKey:o.get("skipParent")?o.get("grandparentKey"):o.get("parentKey")},n)})),i(Tte()))}};var Bte=i("WlSR"),Fte=i.n(Bte);const Hte=Nd.a.createElement,{Component:_te}=Nd.a;class Wte extends _te{constructor(e){super(e),this._input=void 0,this.searchTimeout=void 0,this.focusInput=()=>{this._input.focus()},this.onClick=e=>{this.focusInput(),this.props.onClick()},this.onFocus=()=>{this.setState({isFocused:!0})},this.onBlur=()=>{this.setState({isFocused:!1})},this.onChange=e=>{const t=e.target.value;this.searchTimeout&&window.clearTimeout(this.searchTimeout),this.setState({query:t},()=>{this.props.onChange(t),""!==t.trim()&&(this.searchTimeout=window.setTimeout(this.props.onSearch,200))})},this.onClearPress=e=>{e.stopPropagation(),this.searchTimeout&&window.clearTimeout(this.searchTimeout),this.setState({query:""},()=>{this.props.onChange(""),this.focusInput()})},this.onRef=e=>{const{onRef:t}=this.props;this._input=e,t&&t(e)},this.state={isFocused:!1,query:e.query},this.searchTimeout=null}componentWillReceiveProps(e){this.state.query!==e.query&&this.setState({query:e.query})}shouldComponentUpdate(e,t){return Tp(this,e,t)}componentWillUnmount(){this.searchTimeout&&window.clearTimeout(this.searchTimeout)}render(){const{closeIcon:e,searchIcon:t}=this.props,{isFocused:i,query:n}=this.state;return Vu()("div",{className:(Fte.a.container||"")+" "+(i&&Fte.a.focused||""),onClick:this.onClick},void 0,Vu()(t,{className:Fte.a.searchIcon}),Hte("input",{"data-qa-id":"quickSearchInput",className:Fte.a.searchInput,value:n,type:"text",autoComplete:"off",spellCheck:"false",ref:this.onRef,onChange:this.onChange,onFocus:this.onFocus,onBlur:this.onBlur}),n.length>0?Vu()(zp,{onPress:this.onClearPress},void 0,Vu()(e,{className:Fte.a.closeIcon})):null)}}Wte.defaultProps={query:"",onClick:vc.a.func};var Qte=Wte;function Gte(e){var t=e["aria-label"],i=e.className,n=e.style,a={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-close-560"};a["aria-hidden"]=!t,a.style=n,a.className=Ad.a.plexIcon+(i?" "+i:"");var s=[Nd.a.createElement.apply(Nd.a,["path",{d:"M280,0C434.536,0 560,125.464 560,280C560,434.536 434.536,560 280,560C125.464,560 0,434.536 0,280C0,125.464 125.464,0 280,0ZM435.563,171.005L388.995,124.437L280,233.431L171.005,124.437L124.436,171.005L233.431,280L124.436,388.995L171.005,435.564L280,326.569L388.995,435.564L435.564,388.995L326.569,280L435.563,171.005Z"}].concat([]))];return t&&s.unshift(Nd.a.createElement("title",null,t)),Nd.a.createElement.apply(Nd.a,["svg",a].concat(s))}Gte.propTypes={"aria-label":vc.a.string,className:vc.a.string,style:vc.a.object};var Kte=Gte;function Yte(e){var t=e["aria-label"],i=e.className,n=e.style,a={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-search-560"};a["aria-hidden"]=!t,a.style=n,a.className=Ad.a.plexIcon+(i?" "+i:"");var s=[Nd.a.createElement.apply(Nd.a,["path",{d:"M351.883,407.883C315.613,433.168 271.525,448 224,448C100.371,448 0,347.629 0,224C0,100.371 100.371,0 224,0C347.629,0 448,100.371 448,224C448,271.525 433.168,315.613 407.883,351.883L560,504L504,560L351.883,407.883ZM56,224C56,316.722 131.278,392 224,392C316.722,392 392,316.722 392,224C392,131.278 316.722,56 224,56C131.278,56 56,131.278 56,224Z"}].concat([]))];return t&&s.unshift(Nd.a.createElement("title",null,t)),Nd.a.createElement.apply(Nd.a,["svg",a].concat(s))}Yte.propTypes={"aria-label":vc.a.string,className:vc.a.string,style:vc.a.object};var qte=Yte;const Zte=Nd.a.createElement,{Component:Jte}=Nd.a;var Xte=class extends Jte{constructor(...e){super(...e),this._input=void 0,this.focusInput=()=>{this._input.focus()},this.onRef=e=>{this._input=e}}componentDidMount(){U.a.on("shortcut:search",this.focusInput)}shouldComponentUpdate(e,t){return Tp(this,e,t)}componentWillUnmount(){U.a.off("shortcut:search",this.focusInput)}render(){return Zte(Qte,tp()({},this.props,{closeIcon:Kte,searchIcon:qte,onRef:this.onRef}))}},$te=i("IjFk"),eie=i.n($te);const tie=Nd.a.createElement;function iie(e){const{className:t,isSelected:i,text:n,url:a,onLinkPress:s,onLinkFocus:r}=e,o=Xe()(e,["className","isSelected","text","url","onLinkPress","onLinkFocus"]);return tie(zp,tp()({className:(t||"")+" "+(i&&eie.a.isPlaceholderSelected||""),tabIndex:"1",title:n,to:a,onPress:s,onFocus:r},o),n)}iie.defaultProps={className:eie.a.placeholder};var nie=iie;var aie=function(e){const{query:t,isSelected:i,onLinkPress:n,onLinkFocus:a}=e,s=encodeURIComponent(t);return Vu()(nie,{isSelected:i,text:Object(Ze.default)("Search all sources..."),url:"#!/search?query="+s,onLinkPress:n,onLinkFocus:a})};const sie=Nd.a.createElement,{Component:rie}=Nd.a;const oie={resetQuickSearch:Tte,selectQuickSearchResult:Ate};var lie=Object(Hu.b)(Object(Wu.a)(e=>e.ui.quickSearch,e=>({query:e.query,isSelected:!e.selectedResultEntityID})),oie)(class extends rie{constructor(...e){super(...e),this.onLinkPress=e=>{this.props.resetQuickSearch(),Dv()},this.onLinkFocus=e=>{this.props.selectQuickSearchResult({searchResultEntityID:null})}}render(){return sie(aie,tp()({onLinkPress:this.onLinkPress,onLinkFocus:this.onLinkFocus},this.props))}}),cie=i("QF2Q"),die=i.n(cie);var uie=function(e){const{children:t,title:i}=e;return Vu()("div",{},void 0,Vu()("h5",{className:die.a.hubTitle,"data-qa-id":"quickSearchHub"},void 0,i),t)};var pie=Object(Wu.a)(Gu,e=>e.searchResults);function hie(){return Object(Wu.a)(pie,(e,{searchResultEntityID:t})=>t,(e,t)=>e[t])}function mie(e,t){const i=e.features.content;return i?GK(i.directories,t):null}var gie=function(e,t,i){const n=t.get("key"),a=V.join([n,"prefs"],i),s=e.getXHROptions(a,{type:"PUT"});t.set({isSettingsUpdating:!0,settingsUpdateError:null});const r=D.a.ajax(s);return r.then(()=>{t.set("isSettingsUpdating",!1)},e=>{t.set({isSettingsUpdating:!1,settingsUpdateError:Object(DT.a)(e)})}),r};const vie=(e,t,i)=>{for(const n of t){const t=n.fields.find(({key:t})=>{const a=e.key===t||i+"."+e.key===t;return i===n.type&&e.key===i+"."+t||a});if(t)return Object.assign({},e,{key:t.key})}};var yie=({filters:e,types:t,type:i})=>{const n=[],a=[];for(const s of e)if("userRating"===s.key&&Array.isArray(s.value))a.push(s);else{const e=vie(s,t,i);e?n.push(e):a.push(s)}return{supported:n,unsupported:a}};const fie="([^&!=<>]+)("+["=","!=","==","!==",">=","<=",">>=","<<=",">>=-","<<=-"].sort((e,t)=>t.length-e.length).map(J).join("|")+")([^&]+)?",bie=new RegExp(fie,"g"),Iie=new RegExp(fie),Sie={unwatched:!0,unwatchedLeaves:!0,unmatched:!0,duplicate:!0,inProgress:!0,hdonly:!0,hdr:!0};function Cie(e){if(!e)return[];const t=decodeURIComponent(e).match(bie);if(!t)return[];return t.reduce((e,t)=>{const i=t.match(Iie),[,n,a,s]=i||[];let r=s?I.a.uniq(s.split(",")):"";return 1===r.length&&(r=r[0]),function(e,t,i){const n=[...e];if("boolean"===i.type){const e=I.a.findIndex(n,e=>e.key===t),a=-1===e?0:e,s=Object.assign({key:t},i);-1===e?n.push(s):n.splice(a,1,s)}else{I.a.findWhere(n,{key:t,value:i.value})||n.push(Object.assign({key:t},i))}return n}(e,n,{value:r,type:Sie[n]?"boolean":"other",operator:a})},[])}let Mie,Die;function Pie(e,t){if(I.a.isEmpty(e))return;if(e===Mie)return Die;const i=e.map(({key:e,value:i,operator:n="="})=>{let a;a=t?Array.isArray(i)?i.join(","):i:Array.isArray(i)?i.map(encodeURIComponent).join(","):encodeURIComponent(i);const s=n.lastIndexOf("="),r=n.substr(0,s),o=n.substr(s+1,n.lastIndexOf("="));return encodeURIComponent(e)+encodeURIComponent(r)+"="+encodeURIComponent(o)+a},[]);return Mie=e,Die=i.join("&"),Die}var Oie=i("idkr"),jie=i.n(Oie),wie=Mn.extend({name:"downloadVersionModal",template:jie.a,serializeData:function(){var e=this.model;return{defaultLinkTarget:"_self",mediaItems:I.a.map(this.model.get("Media"),(function(t,i){var n=I.a.clone(t);n.downloadUrl=e.getDownloadUrl(i);var a=e.getFilepath(i);return a&&(n.downloadName=V.getLastSegment(a)),n}))}},onClick:function(){}});var Tie=$T.extend({template:tE.a,serializeData(){return this.model.get("preferences").toJSON()},flushChanges(){const e=this.ui.form.serializeArray(),t=this.model.get("preferences");e.forEach(e=>{const i=t.get(e.name),n=i.clone();n.parseAndSetValue(e.value),n.get("value")!==i.get("value")&&t.add(n,{merge:!0})})}}),Eie={playlist:["general","advanced"]},Nie=on.extend({mixins:[Gd],name:"editPlaylistModal",className:"edit-metadata-modal modal modal-lg fade",template:IN.a,panes:{general:{constructor:GE},advanced:{constructor:Tie}},panesModel:"tempModel",events:I.a.extend({"click .change-pane-btn":"onChangePaneClick","click .save-btn":"onFormSubmit","submit .edit-metadata-form":"onFormSubmit"},on.prototype.events),ui:{saveBtn:".save-btn",message:".form-message",navPane:".modal-nav-pane",loadingIndicator:".modal-body-pane .loading-inline"},regions:{paneRegion:".pane-region"},onlyAfterRender:["saveChanges","showPane","showNav"],initialize:function(e){on.prototype.initialize.apply(this,arguments);var t=e.model;this.model=t;var i=t.fetch({usePopulatedParams:!0,data:{includePreferences:"1"}});(i=i.done(I.a.bind((function(){this.tempModel=t.clone(),this.render(),this.showNav(),this.showPane(e.selectedPane||"general"),this.listenTo(U.a,"shortcut:save",this.saveChanges)}),this))).fail(I.a.bind((function(){this.ui.message.text(Object(Ze.default)("There was an error editing this item")),this.ui.loadingIndicator.addClass("hidden")}),this))},serializeData:function(){var e=Eie[this.model.get("type")]||Eie.movie;this.model.has("preferences")||(e=I.a.difference(e,["advanced"]));var t=I.a.reduce(e,(function(e,t){return e[t]=!0,e}),{}),i=I.a.escape(Object(Ze.default)("Edit {1}",this.model.get("title")));return{item:this.model.toJSON(),panes:t,selectedPane:this.selectedPane,paneTitle:i}},paneConstructorArg:function(){return{type:this.selectedPane}},showNav:function(){this.ui.navPane.removeClass("hidden")},saveChanges:function(){var e=this.ui.saveBtn,t=this.ui.message;if(!e.isDisabled()){t.text(""),this.paneRegion.currentView.flushChanges();var i=I.a.reduce(this.model.changedAttributes(this.tempModel.attributes),(e,t,i)=>(this.model.syncedAttrs[i]&&(e[i]=t),e),{});e.addClass("active");var n=[];I.a.isEmpty(i)||n.push(this.model.save(i)),n.push(this.savePreferences());var a=D.a.when.apply(D.a,n);a.done(I.a.bind((function(){this.hide()}),this)),a.fail((function(){t.text(Object(Ze.default)("Your changes could not be saved."))})),a.always((function(){e.removeClass("active")}))}},savePreferences:function(){var e=this.tempModel.get("preferences");if(!e||!e.length)return D.a.Deferred().resolve().promise();var t=this.model,i=V.join(["/library/metadata",t.get("ratingKey"),"prefs"],e.getSaveParams()),n=this.model.server.getXHROptions(i,{type:"PUT"}),a=D.a.ajax(n);return a.done((function(){var i=t.get("preferences");e.forEach((function(e){i.get(e.id).set("value",e.get("value"))}))})),a},onPaneShow:function(e,t){this.listenTo(t,"focusSubmit",(function(){this.ui.saveBtn.focus()}))},onPaneHide:function(e,t){t.flushChanges(),this.stopListening(t)},onFormSubmit:function(e){e.preventDefault(),this.saveChanges()}}),xie=i("Aeq+"),Aie=i.n(xie),Lie=R.ItemView.extend({id:"auto-match-dropdown",tagName:"span",className:"dropdown",template:Aie.a,collectionEvents:{reset:"render"},events:{"click .auto-match-agent":"onClick"},serializeData:function(){return{agents:this.collection.toJSON()}},onClick:function(e){e.preventDefault();var t=D()(e.currentTarget).data("id"),i=this.model.agents.get(t);Ge.execute("autoMatch",{item:this.model,agent:i})}}),kie=i("2ifn"),Rie=i("3ZRf"),zie=i.n(Rie),Uie=i("YRs7"),Vie=i.n(Uie);const Bie=new Set([ms.f,ms.g,ms.i]);function Fie(e){return I.a.map(e,(function(e){return'<option value="'+e.value+'"'+(e.selected?" selected":"")+">"+e.label+"</option>"})).join("\n")}function Hie(e,t){return e.map((function(e){return{label:e.get("name"),value:e.get("identifier"),selected:t===e.get("identifier")}}))}function _ie(e,t){return e?e.get("languages").map((function(e){return{label:e.get("name"),value:e.id,selected:e.id===t}})):[]}var Wie=R.ItemView.extend({template(e){const{item:t,scannerIdentifier:i}=e;return t.type===Qt.a&&i===kie.d?zie()(e):Vie()(e)},ui:{agentSelect:"#match-search-agent",languageSelect:"#match-search-language"},events:{"change #match-search-agent":"onAgentSelectChange"},onlyAfterRender:["updateAgents","updateLanguages"],initialize:function(){var e=Object(WT.a)(this.model).get("agent"),t=this.setupAgents(e);t.then(I.a.bind(this.updateAgents,this,e)),t.then(I.a.bind(this.updateLanguages,this,e))},serializeData:function(){var e=Object(WT.a)(this.model),t=e.get("agent"),i=this.model.agentsProxy.findWhere({identifier:t});return{item:this.model.toJSON(),agents:Hie(this.model.agentsProxy,t),scannerIdentifier:e.get("scanner"),languages:_ie(i)}},setupAgents:function(e){if(this.model.agentsPromise)return this.model.agentsPromise;var t=Object(WT.a)(this.model),i=t.getSectionType(),n=new oG([],{server:this.model.server,mediaTypeID:i.typeID}),a=n.populate({reset:!0,cancelable:!0});return a.then(()=>{var a=function(e,t){if(!e)return[];var i=Bie.has(t);return e.filter(e=>{const t=Bie.has(e.get("identifier"));return i?t:!t})}(n,t.get("agent"));this.model.agents=n.clone(a);var s=i.exclusiveAgents;this.model.agentsProxy=new dG(this.model.agents,s,e)}),this.model.agentsPromise=a,this.model.agentsPromise},updateAgents:function(e){this.ui.agentSelect.html(Fie(Hie(this.model.agentsProxy,e)))},updateLanguages:function(e){var t=this.model.agentsProxy.findWhere({identifier:e});if(e){var i=Object(WT.a)(this.model).get("language");this.ui.languageSelect.html(Fie(_ie(t,i)))}else this.ui.languageSelect.empty()},onAgentSelectChange:function(e){this.updateLanguages(e.currentTarget.value)},onModalClose:function(){this.model.agents=null,this.model.agentsProxy=null,this.model.agentsPromise=null}}),Qie=i("p7ty"),Gie=i("XBZo"),Kie=i.n(Gie),Yie=R.ItemView.extend({template:Kie.a}),qie={collectionEvents:{"update reset sort":"onTracksUpdate"},markDiscNumbers:function(){if(this.collection.server.supports("premiumMusic")){var e=this.collection.reduce((function(e,t,i){var n=t.get("parentIndex");return n!==e.lastDiscNumber&&(e.markers[i]=n,e.lastDiscNumber=n,e.count+=1),e}),{markers:{},lastDiscNumber:null,count:0});return this.discMarkers=e.markers,e.count}},onRender:function(){1!==this.markDiscNumbers()&&I.a.each(this.discMarkers,I.a.bind((function(e,t){this.$("li:eq("+t+") .disc-number").removeClass("hidden")}),this))},onTracksUpdate:function(){this.render()}},Zie=i("21aO"),Jie=i.n(Zie),Xie=R.ItemView.extend({tagName:"li",template:Jie.a,className:"striped-list-item",serializeData(){const e=this.model.toJSON();return Object.assign({},e,{escapedParentIndex:I.a.escape(e.parentIndex)})}}),$ie=Sm.extend({mixins:[qie],tagName:"ul",itemView:Xie,className:"list"});const ene=/\d{4}/;var tne=function({disambiguation:e="",lifespanBegin:t="",lifespanEnd:i="",area:n="",beginArea:a=""}){const s=t.match(ene),r=i.match(ene),o=[a,n,r?s+"-"+r:s].filter(Boolean);return e?[e,o.length?"("+o.join(", ")+")":null].filter(Boolean).join(" "):o.join(", ")},ine=i("L0ox"),nne=i.n(ine),ane=R.Layout.extend({tagName:"li",className:"striped-list-item match-result-list-item row",template:nne.a,ui:{matchExtendedInfo:".match-extended-info"},regions:{childrenRegion:".children-region"},events:{"click .match-result":"onClick"},initialize:function(e){this.item=e.item},onRender:function(){!this.model.get("summary")||this.model.get("type")!==Qt.j&&this.model.get("type")!==Qt.h&&this.model.get("type")!==Qt.o||this.ui.matchExtendedInfo.removeClass("hidden");var e=this.model.get("children");if(e){var t=e.first();t&&t.get("type")===Qt.p&&(this.ui.matchExtendedInfo.removeClass("hidden"),this.childrenRegion.show(new $ie({collection:e})))}},onClick:function(e){e.preventDefault(),Ge.execute("match",{item:this.item,guid:this.model.id,name:this.model.get("name"),year:this.model.get("year"),children:this.model.get("children")})},serializeData(){const e=this.model.toJSON();return{year:e.year,parentName:e.parentName,name:e.name,disambiguationInfo:tne(e),thumb:e.thumb,normalizedScore:e.normalizedScore,escapedNormalizedScore:I.a.escape(e.normalizedScore),summary:e.summary}}}),sne=Sm.extend({tagName:"ul",className:"list match-result-list",itemView:ane,emptyView:Yie}),rne=i("oToW"),one=i.n(rne),lne=R.Layout.extend({template:one.a,regions:{resultRegion:".result-region"},onlyAfterRender:["updateResults"],initialize:function(){this.setupResults();var e=Object(WT.a)(this.model),t={manual:1},i={reset:!0,timeout:0,data:t};/com\.plexapp\.agents\.none:\/\//.test(this.model.get("guid"))&&I.a.extend(i,{data:I.a.extend(t,{agent:e.get("agent"),language:e.get("language")}),processData:!0}),this.model.results.populate(i).then(I.a.bind(this.updateResults,this))},setupResults:function(){if(!this.model.results){var e=this.model.results||new Qie.default([],{server:this.model.server,parent:this.model});this.model.results=e}},updateResults:function(){this.resultRegion.show(new sne({collection:this.model.results,itemViewOptions:{item:this.model}}))},onModalClose:function(){this.model.results=null}}),cne=i("Kpr6"),dne=i.n(cne),une=on.extend({mixins:[Gd],name:"fixIncorrectMatch",className:"fix-incorrect-match-modal modal modal-lg fade",template:dne.a,panes:{form:{constructor:Wie},results:{constructor:lne}},ui:{searchBtn:".search-btn"},regions:{paneRegion:".pane-region",autoMatchDropdownRegion:".auto-match-dropdown-region"},events:I.a.extend({"click .auto-match-agent":"hide","click .match-result":"hide","click .search-options-btn":"onSearchOptionsClick","click .cancel-btn":"onCancelClick","click .search-btn":"onSearchClick","submit #fix-incorrect-match-form":"onSearchSubmit"},on.prototype.events),onlyAfterRender:["showPane","updateSearchBtn","showAutoMatchPicker"],initialize:function(){on.prototype.initialize.apply(this,arguments),Wie.prototype.setupAgents.apply(this).then(()=>{this.showAutoMatchPicker()}),lne.prototype.setupResults.apply(this),this.showPane("results")},serializeData:function(){return{location:this.model.getLocation(),showNavigation:!this.model.isPlexMusicItem()}},updateSearchBtn:function(e){this.ui.searchBtn.toggleClass("disabled","form"!==e)},showAutoMatchPicker:function(){this.autoMatchDropdownRegion.show(new Lie({model:this.model,collection:this.model.agentsProxy}))},fetchResults:function(e){var t=I.a.reduce(e.serializeArray(),(function(e,t){return e[t.name]=t.value,e}),{manual:1});this.model.results.fetch({reset:!0,data:t,processData:!0,timeout:0})},bindings:{".modal-title-text":{modelAttribute:"guid",formatter:function(e){return/com\.plexapp\.agents\.none:\/\//.test(e)?Object(Ze.default)("Match"):Object(Ze.default)("Fix Match")}}},onRender:function(){on.prototype.onRender.apply(this,arguments)},onPaneShow:function(e){this.updateSearchBtn(e)},onSearchOptionsClick:function(e){e.preventDefault(),this.showPane("form")},onCancelClick:function(e){e.preventDefault(),"results"!==this.selectedPane?this.showPane("results"):this.hide()},onSearchClick:function(e){e.preventDefault();var t=D()(e.currentTarget);if(!t.isDisabled()){var i=t.closest("form");this.fetchResults(i),this.showPane("results")}},onSearchSubmit:function(e){e.preventDefault();var t=D()(e.currentTarget);t.find("search-btn").isDisabled()||(this.fetchResults(t),this.showPane("results"))}});const pne={h264:10,hevc:30};var hne=function(e,t){if(null==e||Number.isNaN(e))return"";const i=parseInt(e,10),n=pne[t||"h264"];return Number.isFinite(i)&&Number.isFinite(n)?(i/n).toFixed(1):String(e)},mne=i("frcC");var gne=function(e){let t="";for(let i=0,n=e.length;i<n;i++){const n=e.charAt(i),a=n.toUpperCase();t+=0===i?a:n===a?" "+a:n}return t},vne=i("814K"),yne=i.n(vne),fne=["id","key","index","videoCodec","audioCodec","audioChannels","default","selected","languageCode","accessible","exists","provider","lines","minLines","follow","requiredBandwidths","deepAnalysisVersion","deepAnalysisDate","Overlay"],bne={size:lf,duration:BC,codec:KC,format:KC,container:KC,videoResolution:QC.default,bitrateMode:KC,accessible:mne.default,exists:mne.default,optimizedForStreaming:mne.default,timed:mne.default,file:V.getLastSegment},Ine={optimizedForStreaming:"Web Optimized",has64bitOffsets:"Has 64bit Offsets",cabac:"CABAC",postURL:"URL",codecID:"Codec ID"},Sne={frameRate:" fps",dialogNorm:" dB",bitrate:" kbps",samplingRate:" Hz"},Cne=function(e,t){var i={properties:[]};for(var n in e)if(n!==t&&-1===I.a.indexOf(fne,n)){var a=Ine[n],s=e[n];"level"===n&&(s=hne(s,e.codec)),bne[n]&&(s=bne[n](s)),s&&(Sne[n]&&(s+=Sne[n]),a||(a=gne(n)),i.properties.push({name:a,value:s}))}return t&&e&&(i[t]=e[t]),i};function Mne(e){return I.a.map(e.get("Media"),(function(e){return I.a.extend(Cne(e,"Part"),{Part:I.a.map(e.Part,(function(e){return I.a.extend(Cne(e,"Stream"),{file:e.file,exists:!1!==e.exists,accessible:!1!==e.accessible,Stream:(t=e.Stream,i=I.a.reject(t,(function(e){return e.id===HC.a})),n=I.a.sortBy(i,"streamType"),I.a.map(n,(function(e){return Cne(e,"streamType")})))});var t,i,n}))})}))}var Dne=on.extend({name:"mediaInfoModal",className:"media-info-modal modal modal-lg fade",template:yne.a,ui:{scroller:".modal-body-scroll",files:".files > ul",stickyProps:".media > .props, .part > .props"},events:I.a.extend({"click .delete-btn":"onDeleteClick"},on.prototype.events),modelEvents:{"change:Media":"onMediaChange"},initialize:function(e){on.prototype.initialize.apply(this,arguments),this.bindAllWhenRendered("onMediaChange","onScroll"),this.loading=!1,this.media=Mne(this.model),this.loading=!0,this.model.fetch({usePopulatedParams:!0,data:{checkFiles:1,asyncCheckFiles:0}}).always(this.whenRendered((function(){this.model.changed.hasOwnProperty("Media")||this.updateMedia()})))},serializeData:function(){var e=this.model.get("key"),t=ne.c("appModel").get("user"),i=this.model.server;return this.model.get("isLibraryItem")&&(e=V.join(e,{checkFiles:1,includeAllConcerts:1,includeBandwidths:1,includeChapters:1,includeChildren:1,includeConcerts:1,includeExtras:1,includeFields:1,includeGeolocation:1,includeLoudnessRamps:1,includeMarkers:1,includeOnDeck:1,includePopularLeaves:1,includePreferences:1,includeRelated:1,includeRelatedCount:1,includeReviews:1,includeStations:1})),{key:e,url:this.model.server.resolveUrl(e,{appendToken:!0}),media:this.media,hasFiles:this.hasFiles(),hasStreams:this.hasStreams()||this.loading,showDeleteFile:i.get("isFullOwnedServer")&&i.get("allowMediaDeletion")&&i.supports("specificMediaDeletion"),showFilepath:!i.get("shared")||t.isNinja(),loading:this.loading}},updateMedia:function(){this.loading=!1,this.rerender=!0,this.ui.scroller.off("scroll",this.onScroll),this.media=Mne(this.model),this.render()},hasFiles:function(){return!!I.a.chain(this.media).pluck("Part").flatten().pluck("file").compact().size().value()},hasStreams:function(){return!!I.a.chain(this.media).pluck("Part").flatten().pluck("Stream").flatten().size().value()},onRender:function(){on.prototype.onRender.apply(this,arguments),this.ui.scroller.on("scroll",this.onScroll),this.$el.tooltip({selector:".files .label",placement:"bottom"})},onClose:function(){this.ui.scroller.off("scroll",this.onScroll)},onMediaChange:function(){this.isHidden||(this.model.get("Media").length?this.updateMedia():this.hide())},onDeleteClick:function(e){e.preventDefault(),Ge.execute("deleteMediaItem",{item:this.model,index:D()(e.currentTarget).data("media-item")})},onScroll:function(){var e=this.ui.scroller.scrollTop(),t=this.ui.scroller.offset().top;this.ui.files.length&&(t+=parseInt(this.ui.files.css("margin-bottom"),10)),t<0?window.setTimeout(this.onScroll,500):this.ui.stickyProps.each((function(){var i=D()(this),n=i.parent().height()-i.height(),a=e-this.parentNode.offsetTop,s=Math.min(Math.max(a,0),n);s&&s===a?(i.addClass("sticky"),i.css("top",t)):(i.removeClass("sticky"),i.css("top",s))}))}});const Pne="metadata/redispatchLegacyMetadataAction",One="metadata/analyzeMetadataItem",jne="metadata/deleteMetadataItem",wne="metadata/deleteMetadataItemVersion",Tne="metadata/downloadMetadataItemVersion",Ene="metadata/editMetadataItem",Nne="metadata/fixMetadataItemMatch",xne="metadata/getMetadataItemInfo",Ane="metadata/updateMetadataItemPlayedStatus",Lne="metadata/optimizeMetadataItem",kne="metadata/rateMetadataItem",Rne="metadata/refreshMetadataItem",zne="metadata/splitMetadataItemApart",Une="metadata/syncMetadataItem",Vne="metadata/unmatchMetadataItem",Bne="metadata/changeMetadataItemField",Fne="metadata/updateMetadataItemRefreshingState",Hne="metadata/UPDATE_METADATA_SETTINGS",_ne="CLEAR_METADATA_SETTINGS_ERROR",Wne="metadata/updateDownloadAvailability",Qne="metadata/updateDownloadAvailabilityFromDeletedTimeline",Gne="metadata/setDownloadSubscriptionID",Kne="metadata/unsetDownloadSubscriptionID",Yne="metadata/updateDownloadSubscriptionIDs",qne="metadata/modifySmartPlaylist",Zne=Object(Pi.a)(Pne),Jne=Object(Pi.a)(One),Xne=Object(Pi.a)(jne),$ne=Object(Pi.a)(wne),eae=Object(Pi.a)(Tne),tae=Object(Pi.a)(Ene),iae=Object(Pi.a)(Nne),nae=Object(Pi.a)(xne),aae=Object(Pi.a)(Ane),sae=Object(Pi.a)(Lne),rae=Object(Pi.a)(kne),oae=Object(Pi.a)(Rne),lae=Object(Pi.a)(zne),cae=Object(Pi.a)(Une),dae=Object(Pi.a)(Vne),uae=Object(Pi.a)(Bne),pae=Object(Pi.a)(Fne),hae=Object(Pi.a)(Hne),mae=Object(Pi.a)(_ne),gae=Object(Pi.a)(kne,e=>Object.assign({},e,{rating:10})),vae=Object(Pi.a)(kne,e=>Object.assign({},e,{rating:-1})),yae=Object(Pi.a)(Ane,e=>Object.assign({},e,{played:!1})),fae=Object(Pi.a)(Ane,e=>Object.assign({},e,{played:!0})),bae=Object(Pi.a)(Gne),Iae=Object(Pi.a)(Kne),Sae=Object(Pi.a)(Wne),Cae=Object(Pi.a)(Qne),Mae=Object(Pi.a)(Yne),Dae=Object(Pi.a)(qne);function Pae(e,t,i,n={}){i&&Object(ne.c)("metrics").trackClick(Object.assign({page:i,action:e,type:t.get("type")},n))}const Oae={[v7.e]:v7.m[v7.e],[v7.j]:v7.m[v7.j],[v7.d]:v7.m[v7.d],[v7.c]:v7.m[v7.c],[v7.h]:v7.m[v7.h],[v7.g]:v7.m[v7.g],[v7.i]:v7.m[v7.i],[v7.a]:v7.m[v7.a],[v7.b]:v7.m[v7.b],[v7.f]:v7.m[v7.f],[Pne](e,t,i){const{serverModel:n,providerModel:a,itemServerModel:s,itemProviderModel:r,metadataItemModel:o}=kT(e,t),l=t.legacyAction.type,c=t.legacyAction.payload,d=(null==c?void 0:c.metricsProperties)||{};i({type:l,payload:Object.assign({},c,{serverEntityID:n.entityID(),providerEntityID:a.entityID(),itemServerEntityID:s?s.entityID():null,itemProviderEntityID:r?r.entityID():null,metadataItemEntityID:o.entityID(),metricsPage:t.metricsPage,metricsProperties:Object.assign({},d,t.metricsProperties),skipClickMetrics:!0})})},[One](e,t,i){const n=Object(wi.f)(e,t),a=t.metricsPage;wT(n,{allowMetrics:!!a,metricsProperties:{page:a}}).fail(e=>{i(Object(Tn.d)(Object(Ze.default)("There was a problem analyzing this item.")))})},[Tne](e,t){const i=Object(wi.f)(e,t),n=new wie({model:i});U.a.trigger("show:modal",n)},[jne](e,t){const i=Object(wi.f)(e,t),n=t.options||{},a=i.get("isPlaylist")?"deletePlaylist":"deleteItems";Ge.execute(a,Object.assign({item:i},n)),Pae(Rd.p,i,t.metricsPage)},[wne](e,t){const i=Object(wi.f)(e,t);Ge.execute("deleteVersions",{item:i}),Pae(Rd.p,i,t.metricsPage)},[Ene](e,t){const i=Object(wi.f)(e,t),n=i.get("isPlaylist")?new Nie({model:i}):new DN({model:i});U.a.trigger("show:modal",n),Pae(Rd.w,i,t.metricsPage)},[Nne](e,t){const i=Object(wi.f)(e,t);i.server.get("sections").fetch().then(()=>{const e=new une({model:i});U.a.trigger("show:modal",e),Pae(Rd.z,i,t.metricsPage)})},[xne](e,t){const i=Object(wi.f)(e,t),n=new Dne({model:i});U.a.trigger("show:modal",n),Pae(Rd.C,i,t.metricsPage)},[Ane](e,t,i){const n=Object(wi.f)(e,t);NT(e,t).then(()=>{i(Object(Tn.c)({serverEntityID:t.serverEntityID}))},()=>{const e=t.played?Object(Ze.default)("There was an unexpected error marking an item played."):Object(Ze.default)("There was an unexpected error marking an item unplayed.");i(Object(Tn.d)(e))});Pae(t.played?Rd.F:Rd.E,n,t.metricsPage)},[Lne](e,t){const i=Object(wi.f)(e,t),n=new qN({item:i});U.a.trigger("show:modal",n),Pae(Rd.I,i,t.metricsPage)},[kne](e,t,i){const{rating:n,metricsPage:a}=t;TT(Object(wi.j)(e,t),Object(wi.f)(e,t),{rating:n,allowMetrics:!!a,metricsProperties:{page:a}}).fail(e=>{i(Object(Tn.d)(Object(Ze.default)("There was a problem rating this item.")))})},[Rne](e,t,i){const n=Object(wi.f)(e,t),a=t.metricsPage;ET(n,{allowMetrics:!!a,metricsProperties:{page:a}}).fail(e=>{503===e.status?U.a.trigger("show:modal",new un({model:n.server})):i(Object(Tn.d)(Object(Ze.default)("There was a problem refreshing this item.")))})},[zne](e,t,i){const n=Object(wi.f)(e,t);Ge.execute("splitApart",{item:n,skipNavigate:!0}).done(()=>{i(Object(Tn.c)({serverEntityID:t.serverEntityID}))}),Pae(Rd.ib,n,t.metricsPage)},[Une](e,t){const i=Object(wi.f)(e,t);Ge.execute("showSyncModal",{item:i}),Pae(Rd.kb,i,t.metricsPage)},[Vne](e,t){const i=Object(wi.f)(e,t);Ge.execute("unmatch",{item:i}),Pae(Rd.lb,i,t.metricsPage)},[Bne](e,t,i){const{providerEntityID:n,metadataItemEntityID:a,name:s,value:r,save:o}=t,l=Object(wi.f)(e,{metadataItemEntityID:a});if(!o)return void l.set({[s]:r});const c=Object(wi.j)(e,{providerEntityID:n}),d=V.join(l.get("key"),{[s]:r,[s+".locked"]:1}),u=c.getXHROptions(d,{type:"PUT"});D.a.ajax(u).fail(e=>{i(Object(Tn.d)(Object(Ze.default)("There was a problem editing this item.")))}),Pae(Rd.w,l,t.metricsPage)},[Fne](e,t){const i=Object(wi.r)(e,t);i&&i.set({metadataState:t.metadataState,mediaState:t.mediaState})},[Hne](e,t,i){const n=Object(wi.j)(e,t),a=Object(wi.f)(e,t),{data:s}=t;gie(n,a,s).then(()=>{i(Object(v7.o)({serverEntityID:t.serverEntityID,metadataItemEntityID:t.metadataItemEntityID}))})},[_ne](e,t,i){Object(wi.f)(e,t).set("settingsUpdateError",null)},[Wne](){},[Yne](){},[qne](e,t,i){const n=Object(wi.m)(e,t),a=Object(wi.j)(e,t),s=Object(wi.f)(e,t);s.fetch().done(()=>{const e=s.get("content"),{sectionKey:t,type:r,sort:o,limit:l,sourceType:c,filterString:d}=lt.a.parseLibraryUri(e),u=new HT({key:t},{server:n,provider:a,includeAdvanced:!0});u.fetch().done(()=>{const e=c||r,p=e?Qt.u(e).typeString:"",h=u.get("types").toJSON(),m=Cie(d),{supported:g,unsupported:v}=yie({filters:m,types:h,type:p});if(v.length)return void i(Object(Tn.d)(Object(Ze.default)("This playlist cannot be edited.")));const y=o?decodeURIComponent(o):"",f=Pie(g),b=Yn(a,t),I=b.pivots.find(({key:e})=>e.includes(b.key)).key,S=e?Gt(b.id,p):I,C=Xt(n.toJSON(),a.toJSON(),b,{key:I,typeKey:S,filters:f,sort:y,type:e,limit:l,customFilter:1,playlistID:s.get("ratingKey"),playlistTitle:s.get("title")});i(Object(Kn.v)({pathname:C}))})})}};function jae(e){return e.thumb||e.parentThumb||e.grandparentThumb}function wae(e){return e.art||e.parentArt||e.grandparentArt}function Tae(e,t,i,n){if(n)switch(n){case fc:switch(t){case LC.c:switch(e){case Qt.p:return i.thumb||i.grandparentThumb}}switch(e){case Qt.n:case Qt.f:case Qt.a:case Qt.p:return i.thumb}break;case"continueWatching":case"newscast":case"watchTogether":switch(e){case Qt.j:return wae(i);case Qt.f:return wae(i)||i.thumb}break;case bc:switch(e){case Qt.j:return wae(i);case Qt.f:return i.thumb||wae(i)}break;case"playQueue":case"playlist":case"downloads":case Ic:switch(e){case Qt.f:return i.thumb}}switch(t){case LC.c:switch(e){case Qt.o:return i.thumb;case Qt.p:return i.grandparentThumb||i.thumb}break;case LC.d:switch(e){case Qt.f:return i.thumb}}switch(e){case Qt.j:case Qt.o:return i.thumb;case Qt.n:return jae(i);case Qt.f:return i.grandparentThumb;case Qt.b:return i.thumb;case Qt.a:case Qt.p:return jae(i);case Qt.k:case Qt.l:case Qt.d:return i.thumb;case Qt.m:return i.thumb||i.composite;default:return i.thumb}}function Eae(e,t,i,n,a,s){const r=null==e?RC(t,i,n,s):e,o=null==t?zC(e,i,n,s):t;return{url:Tae(i,n,a,s),width:r,height:o}}function Nae(e,t,i){return Object.assign({},e,i,t)}function xae(e,{metadataItemEntityID:t}){const i=e.entities.metadataItems[t],n=i&&i.providerEntityID;if(n)return ZS(e,{providerEntityID:n})}function Aae(e,{metadataItemEntityID:t}){const i=e.entities.metadataItems[t],n=i&&i.serverEntityID;if(n)return $S(e,{serverEntityID:n})}var Lae=Object(Wu.a)(Aae,xae,(e,t)=>({itemServerEntityID:e&&e.entityID,itemProviderEntityID:t&&t.entityID}));const kae=Object(Pi.a)("downloads/cancelDownloadActivity"),Rae=Object(Pi.a)("downloads/createDownloadSubscription"),zae=(Object(Pi.a)("downloads/deleteDownloadState"),Object(Pi.a)("downloads/deleteDownloadSubscription"));Object(Pi.a)("downloads/fetchDownloadSubscriptions"),Object(Pi.a)("downloads/populateDownloadSubscriptions"),Object(Pi.a)("downloads/processDownloadSubscriptions"),Object(Pi.a)("downloads/retryDownloadSubscription"),Object(Pi.a)("downloads/saveDownloadSubscription"),Object(Pi.a)("downloads/syncDownloadViewstate"),Object(Pi.a)("downloads/updateDownloadState"),Object(Pi.a)("downloads/refreshDownloads"),Object(Pi.a)("downloads/getDownloadDecision"),Sk({});var Uae=i("PXtH");function Vae(e,t,i,n){if(!(e&&t&&i&&n))return!1;const{type:a,hasInvalidKey:s,deletedAt:r,isFolder:o,isMetadataList:l,firstItemType:c,dvrChannel:d,onAir:u}=n;if(!l&&(s||r||o))return!1;if(!(d||l||t.protocols.stream||u))return!1;if(l&&!c)return!1;const p=!!i[wt.j];if(t.protocols.livetv&&(e.livetv<4||!p))return!1;if(t.protocols.livetv&&!be.a.allowLiveTVPlayback)return!1;if(t.features.playqueue)return!0;const h=l?c:a,m=Object(Qt.t)(h),g=Object(Qt.s)(h);return h===m.typeString||g.id===m.id}const Bae={showPlay:Hae,showPlayVersion:function({server:e,provider:t,stableUser:i,metadataItem:n}){if(!Hae({server:e,provider:t,stableUser:i,metadataItem:n}))return!1;return t.isLibraryProvider&&n.Media&&n.Media.length>1},showPlayAll:Hae,showShuffle:function({server:e,provider:t,stableUser:i,metadataItem:n}){if(n.radio)return!1;return Hae({server:e,provider:t,stableUser:i,metadataItem:n})&&!!t.features.playqueue},showQueue:_ae,showPlayTrailer:Wae,showPlayPlexMix:Qae,showQueuePlexMix:function({server:e,provider:t,stableUser:i,metadataItem:n}){return Qae({server:e,provider:t,stableUser:i,metadataItem:n})},showPlayMusicVideo:Wae,showPlayRadio:function({server:e,provider:t,stableUser:i,metadataItem:n}){return!!n.hasRadioStation},showPlayArtistTV:function({server:e,provider:t,stableUser:i,metadataItem:n}){return!!n.hasArtistTVStation},showAddToWatchlist:function({provider:e,stableUser:t}){return!!(e.features.actions&&e.features.actions.addToWatchlist&&MT(t,e.features.actions.addToWatchlist))},showAddToPicks:function({server:e,provider:t,stableUser:i,metadataItem:n}){return!!(i.features[wt.t]&&t.features.actions&&t.features.actions.pick)},showAddToPlaylist:Gae,showAddToSaved:function({server:e,provider:t,stableUser:i,metadataItem:n}){if(!t)return!1;const a=t.features.actions.save;if(!a||!MT(i,a))return!1;return null!=n.saved},showAddToLibrary:function({server:e,provider:t,stableUser:i,metadataItem:n}){if(!t)return;const a=n.type===Qt.p||n.type===Qt.a||n.type===Qt.b,s=jt.k(t.identifier,jt.f),r=!!i.features[wt.a],o=MT(i,{requires:"tidal"});return a&&s&&r&&o},showFavorite:Yae,showUnfavorite:qae,showMarkPlayed:Zae,showMarkUnplayed:Jae,showSettings:function({server:e,provider:t,stableUser:i,metadataItem:n}){const{preferences:a}=n;return!t.features.manage&&null!=a},showEdit:Xae,showModifySmartPlaylist:function({server:e,provider:t,stableUser:i,metadataItem:n}){if(!Xae({server:e,provider:t,stableUser:i,metadataItem:n}))return!1;return!!n.smart},showRefresh:$ae,showAnalyze:ese,showFixMatch:tse,showMatch:function({server:e,provider:t,stableUser:i,metadataItem:n}){if(!Xae({server:e,provider:t,stableUser:i,metadataItem:n}))return!1;if(!n.guid)return!1;return!tse({server:e,provider:t,stableUser:i,metadataItem:n})},showUnmatch:function({server:e,provider:t,stableUser:i,metadataItem:n}){return tse({server:e,provider:t,stableUser:i,metadataItem:n})},showSplitApart:function({server:e,provider:t,stableUser:i,metadataItem:n}){if(!Xae({server:e,provider:t,stableUser:i,metadataItem:n}))return!1;let a;a=Qt.y(n.type)?n.Location:I.a.filter(n.Media,e=>!e.proxyType);return a.length>1},showSync:ise,showSyncDownload:function({server:e,provider:t,stableUser:i,metadataItem:n}){if(!be.a.allowSyncDownload)return!1;if(!t)return!1;if(!jt.a.includes(t.identifier))return!1;if(n.isPlaylist&&n.playlistType===Kt.b)return!1;if(n.isDownloaded&&!n.downloadSubscriptionID)return!1;if(!n.hasOwnProperty("guid"))return!1;if(n.remoteMedia)return!1;const a=t.features[Ot.q],s=(null==a?void 0:a.flavor)===Uae.a&&!!i.features[wt.d];return t.isLibraryProvider?e.allowSync&&s:s},showOptimize:nse,showDownload:function({server:e,provider:t,stableUser:i,metadataItem:n}){if(!be.a.allowDirectDownload)return!1;return!!t.protocols.download&&!n.isExtra&&!n.remoteMedia},showShare:function({server:e,provider:t,stableUser:i,metadataItem:n}){return e.isFullOwnedServer&&t.isLibraryProvider&&!n.isExtra&&!n.remoteMedia},showDelete:ase,showDeleteVersion:function({server:e,provider:t,stableUser:i,metadataItem:n}){if(!Xae({server:e,provider:t,stableUser:i,metadataItem:n}))return!1;if(!e.allowMediaDeletion)return!1;return I.a.filter(n.Media,e=>!!e.proxyType).length>0},showViewPlayHistory:function({server:e,provider:t,stableUser:i,metadataItem:n}){return e.isFullOwnedServer&&!qt(e)},showWatchTogether:function({server:e,provider:t,stableUser:i,metadataItem:n}){const a=!!i.features[wt.E],s=jt.k(t.identifier,[jt.d,jt.i]),r=n.isExtra;return a&&s&&!r},showGetInfo:function({server:e,provider:t,stableUser:i,metadataItem:n}){return!!t&&t.isLibraryProvider&&!n.isExtra&&!n.indirect},showSelect:sse},Fae={[Qt.j]:["showPlay","showPlayVersion","showQueue","showPlayTrailer","showAddToWatchlist","showAddToPlaylist","showMarkPlayed","showMarkUnplayed","showEdit","showRefresh","showAnalyze","showFixMatch","showMatch","showUnmatch","showSplitApart","showSync","showSyncDownload","showOptimize","showDownload","showShare","showDelete","showDeleteVersion","showViewPlayHistory","showWatchTogether","showGetInfo","showSelect"],[Qt.o]:["showPlay","showPlayAll","showShuffle","showQueue","showPlayTrailer","showAddToPicks","showAddToWatchlist","showAddToPlaylist","showAddToSaved","showMarkPlayed","showMarkUnplayed","showEdit","showSettings","showRefresh","showAnalyze","showFixMatch","showMatch","showUnmatch","showSplitApart","showSync","showSyncDownload","showOptimize","showShare","showDelete","showViewPlayHistory","showSelect"],[Qt.n]:["showPlay","showPlayAll","showShuffle","showQueue","showAddToPlaylist","showMarkPlayed","showMarkUnplayed","showEdit","showAnalyze","showSync","showSyncDownload","showOptimize","showShare","showDelete","showViewPlayHistory","showSelect"],[Qt.f]:["showPlay","showPlayVersion","showQueue","showAddToPlaylist","showMarkPlayed","showMarkUnplayed","showEdit","showRefresh","showAnalyze","showSync","showSyncDownload","showOptimize","showDownload","showShare","showDelete","showDeleteVersion","showViewPlayHistory","showWatchTogether","showGetInfo","showSelect"],[Qt.b]:["showPlay","showShuffle","showPlayRadio","showPlayArtistTV","showQueue","showAddToPlaylist","showAddToSaved","showAddToLibrary","showEdit","showRefresh","showAnalyze","showFixMatch","showMatch","showUnmatch","showSplitApart","showSync","showSyncDownload","showShare","showDelete","showViewPlayHistory","showSelect"],[Qt.a]:["showPlay","showShuffle","showQueue","showAddToPicks","showAddToPlaylist","showAddToSaved","showAddToLibrary","showEdit","showRefresh","showAnalyze","showFixMatch","showMatch","showUnmatch","showSplitApart","showSync","showSyncDownload","showShare","showDelete","showViewPlayHistory","showSelect"],[Qt.p]:["showPlay","showQueue","showPlayPlexMix","showQueuePlexMix","showPlayMusicVideo","showAddToPlaylist","showAddToSaved","showAddToLibrary","showMarkPlayed","showMarkUnplayed","showEdit","showAnalyze","showSync","showSyncDownload","showDownload","showShare","showDelete","showViewPlayHistory","showGetInfo","showSelect"],[Qt.l]:["showPlay","showShuffle","showAddToPlaylist","showEdit","showAnalyze","showSync","showShare","showSelect"],[Qt.k]:["showPlay","showAddToPlaylist","showFavorite","showUnfavorite","showEdit","showAnalyze","showSync","showDownload","showShare","showDelete","showGetInfo","showSelect"],[Qt.d]:["showPlay","showPlayVersion","showQueue","showPlayTrailer","showAddToPlaylist","showAddToSaved","showMarkPlayed","showMarkUnplayed","showEdit","showRefresh","showAnalyze","showFixMatch","showMatch","showUnmatch","showSplitApart","showSync","showSyncDownload","showOptimize","showDownload","showShare","showDelete","showDeleteVersion","showViewPlayHistory","showWatchTogether","showGetInfo","showSelect"],[Qt.m]:["showDelete","showEdit","showPlay","showQueue","showShuffle","showAddToSaved","showSync","showSyncDownload","showShare","showSelect","showEdit","showModifySmartPlaylist"],[Qt.e]:["showPlay","showQueue","showShuffle","showAddToPlaylist","showEdit","showSync","showDelete"],[Qt.h]:["showPlay","showPlayVersion","showMarkPlayed","showMarkUnplayed","showEdit","showRefresh","showAnalyze","showFixMatch","showMatch","showUnmatch","showSplitApart","showDelete","showDeleteVersion","showGetInfo","showSelect"]};function Hae({server:e,provider:t,stableUser:i,metadataItem:n}){return Vae(e,t,i.features,n)}function _ae({server:e,provider:t,stableUser:i,metadataItem:n}){const a=Hae({server:e,provider:t,stableUser:i,metadataItem:n}),s=n.isExtra&&n.isPremium;return a&&!!t.features.playqueue&&!s}function Wae({server:e,provider:t,stableUser:i,metadataItem:n}){return!!n.primaryExtraKey}function Qae({server:e,provider:t,stableUser:i,metadataItem:n}){return!(!n.related||!n.related.find(e=>/similarPlaylist/.test(e)))}function Gae({server:e,provider:t,stableUser:i,metadataItem:n}){if(!t)return!1;const a=t.features.playlist;if(!a||!MT(i,a))return!1;return!(n.isExtra&&n.isPremium)&&!qt(e)}function Kae({provider:e,stableUser:t,metadataItem:i}){return!(!e.features.actions.rate||Qt.x(i.type)||i.isFolder)}function Yae({server:e,provider:t,stableUser:i,metadataItem:n}){return Kae({provider:t,stableUser:i,metadataItem:n})&&!AT(n)}function qae({server:e,provider:t,stableUser:i,metadataItem:n}){return Kae({provider:t,stableUser:i,metadataItem:n})&&AT(n)}function Zae({server:e,provider:t,stableUser:i,metadataItem:n}){return!(!(t&&t.features.actions&&t.features.actions.scrobble&&t.features.actions.scrobble.key)||t.protocols.livetv||n.type===Qt.p&&n.subtype!==LC.c||null!=n.saved&&!n.saved&&!n.viewOffset||n.isExtra)&&(Qt.y(n.type)?n.unviewedLeafCount>0:!n.viewCount||!!n.viewOffset)}function Jae({server:e,provider:t,stableUser:i,metadataItem:n}){return!(!(t&&t.features.actions&&t.features.actions.scrobble&&t.features.actions.scrobble.reverseKey)||t.protocols.livetv||n.type===Qt.p&&n.subtype!==LC.c||null!=n.saved&&!n.saved||n.isExtra)&&(Qt.y(n.type)?n.viewedLeafCount>0:!!n.viewCount||!!n.viewOffset)}function Xae({server:e,provider:t,stableUser:i,metadataItem:n}){const{isLibraryItem:a,isPlaylist:s,isExtra:r,isFolder:o,radio:l,readOnly:c}=n,d=a&&!r&&!o&&!l;return s?!c:!!(t&&t.features.manage&&d)}function $ae({server:e,provider:t,stableUser:i,metadataItem:n}){return Xae({server:e,provider:t,stableUser:i,metadataItem:n})}function ese({server:e,provider:t,stableUser:i,metadataItem:n}){return!n.indirect&&!n.remoteMedia&&Xae({server:e,provider:t,stableUser:i,metadataItem:n})}function tse({server:e,provider:t,stableUser:i,metadataItem:n}){return!!Xae({server:e,provider:t,stableUser:i,metadataItem:n})&&!(!n.guid||/(local|none):\/\//.test(n.guid))}function ise({server:e,provider:t,stableUser:i,metadataItem:n}){if(!be.a.allowSync)return!1;if(!e.isFullServer)return!1;if(i.features[wt.d])return!1;const{allowSync:a,isExtra:s,isLibraryItem:r,isPlaylist:o,remoteMedia:l}=n;return!(s||l||!r&&!o)&&!(!e.allowSync||!a)}function nse({server:e,provider:t,stableUser:i,metadataItem:n}){return!!Xae({server:e,provider:t,stableUser:i,metadataItem:n})&&!(!e.transcoderVideo||!e.backgroundProcessing)}function ase({server:e,provider:t,stableUser:i,metadataItem:n}){return!!Xae({server:e,provider:t,stableUser:i,metadataItem:n})&&!!(n.isPlaylist||n.type===Qt.e||n.remoteMedia||e.allowMediaDeletion)}function sse({server:e,provider:t,stableUser:i,metadataItem:n}){return!n.radio&&(t.isLibraryProvider&&!n.isFolder)}function rse({server:e,provider:t,stableUser:i,metadataItem:n}){const{type:a}=n,s=Fae[a];if(!s)return{};return s.reduce((s,r)=>{const o=Bae[r];return Object(S.a)(I.a.isFunction(o),"getMetadataActionProps: Invalid action, "+r+", for "+a),s[r]=!!(e&&t&&n)&&o({server:e,provider:t,stableUser:i,metadataItem:n}),s},{})}function ose(){return Object(Wu.a)($K(),Aae,xae,IT,(e,t,i,n)=>rse({server:t,provider:i,stableUser:n,metadataItem:e}))}function lse(e){return e.embeddedServer}function cse(){return Object(Wu.a)($K(),ZS,$S,(e,t,i)=>e&&e.source||Object(gs.a)({providerIdentifier:t.identifier,serverIdentifier:i.machineIdentifier}))}var dse=function(){return Object(Wu.a)(e=>e.downloads.states,cse(),Object(Wu.a)($K(),e=>e.ratingKey),(e,t,i)=>e.find(e=>e.ratingKey===i&&e.sourceAttr===t))};var use=Og(Object(Wu.a)(lse,Ku,(e,t)=>t[e]),e=>e);var pse=Object(Wu.a)(use,e=>e?e.desktop.activities:[]);function hse(e){return Object(Wu.a)(pse,t=>t.filter(t=>t.type===e))}const{useEffect:mse}=Nd.a,gse={dispatchUpdateDownloadAvailability:Sae,dispatchUpdateDownloadSubscriptionIDs:Mae};function vse(e){const{dispatchUpdateDownloadAvailability:t,dispatchUpdateDownloadSubscriptionIDs:i,metadataItemEntityID:n,providerEntityID:a}=e;return mse(()=>{const e={metadataItemEntityID:n,providerEntityID:a};t(e),i(e)},[t,i,n,a]),null}vse.propTypes={metadataItemEntityID:vc.a.string.isRequired,providerEntityID:vc.a.string.isRequired,dispatchUpdateDownloadAvailability:vc.a.func.isRequired,dispatchUpdateDownloadSubscriptionIDs:vc.a.func.isRequired};var yse=Object(Hu.b)(null,gse)(vse);var fse=function(e){return!(!e||!e.isDownloaded)};var bse=function(e){return!(!e||!e.downloadSubscriptionID)};const Ise=Nd.a.createElement,{Fragment:Sse,useCallback:Cse,useState:Mse}=Nd.a,Dse="subscribe",Pse="cancel",Ose="remove",jse="upsell";function wse(e){const{onCancelDownloadActivity:t,onCreateDownloadSubscription:i,onDeleteDownloadSubscription:n}=e,a=Mse({isOpen:!1,state:null}),s=a[1],r=a[0],o=Cse(e=>{const t=e===Dse,n=null!==e&&!t,a=t?null:e;t&&i();s({isOpen:n,state:a})},[i]),l=Cse(()=>s({isOpen:!1,state:null}),[]),c=Cse(()=>{r.state===Pse?t():r.state===Ose&&n(),l()},[r.state,t,l,n]);return Object.assign({},r,{onPress:o,onClose:l,onConfirm:c})}const Tse=Object(Wu.a)(Gw(wt.f),Gw(wt.e),$S,(e,t,i)=>{var n;const a=t&&(null==(n=i.ownerFeatures)?void 0:n.includes(wt.e));return!e&&!a});var Ese=Object(Hu.b)((function(){return Object(Wu.a)((e,{isDisabled:t})=>t,$K(),dse(),(e="grabber.grab",Object(Wu.a)($K(),cse(),hse(e),(e,t,i)=>{const n=Object(sr.a)(t);return i.find(({Context:t})=>{let i=!1;if(t.itemKey===e.key){const e=Object(sr.a)(t.source);i=n.serverIdentifier===e.serverIdentifier&&n.providerIdentifier===e.providerIdentifier}return i})})),Tse,lse,(e,t,i,n,a,s)=>{const r=!!i,o=fse(t),l=bse(t),c=!l;return{canCancel:!!n&&n.cancellable,canRemove:l,canShowUpsell:!l&&a&&t.subtype!==LC.c,canSubscribe:c,hasDownloadState:r,hasOfflineFile:o,hasOwnSubscription:l,isDisabled:e||!s,progress:n&&n.progress}});var e}),(function(e,t){return{}}))((function(e){const{component:t,canCancel:i,canRemove:n,canShowUpsell:a,canSubscribe:s,metadataItemEntityID:r,providerEntityID:o,onPress:l}=e,c=Xe()(e,["component","canCancel","canRemove","canShowUpsell","canSubscribe","metadataItemEntityID","metricsPage","providerEntityID","serverEntityID","onCancelDownloadActivity","onCreateDownloadSubscription","onDeleteDownloadSubscription","onPress"]),d=Cse(()=>{let e=null;i?e=Pse:n?e=Ose:a?e=jse:s&&(e=Dse),l&&l(e)},[i,n,a,s,l]);let u;return u=i?Object(Ze.default)("Cancel Download"):n?Object(Ze.default)("Delete Download"):Object(Ze.default)("Download"),Vu()(Sse,{},void 0,Ise(t,tp()({},c,{label:u,onPress:d})),Vu()(yse,{metadataItemEntityID:r,providerEntityID:o}))}));const{Fragment:Nse}=Nd.a;var xse=function(e){const{isOpen:t,state:i,onConfirm:n,onClose:a}=e,s=t&&i===Pse,r=t&&i===Ose,o=t&&i===jse;return Vu()(Nse,{},void 0,Vu()(F_,{isOpen:s,title:Object(Ze.default)("Cancel Download"),message:Object(Ze.default)("Are you sure you want to cancel this download?"),metricsPage:zd.h,confirmLabel:Object(Ze.default)("Yes"),cancelLabel:Object(Ze.default)("No"),onConfirm:n,onCancel:a}),Vu()(F_,{isOpen:r,title:Object(Ze.default)("Delete Download"),message:Object(Ze.default)("Are you sure you want to delete this download?"),metricsPage:zd.x,onConfirm:n,onCancel:a}),Vu()(dk,{origin:"download-button",isOpen:o,onModalClose:a}))};function Ase(e){var t=e["aria-label"],i=e.className,n=e.style,a={viewBox:"0 0 473 540",xmlns:"http://www.w3.org/2000/svg",id:"plex-icon-triangle-right"};a["aria-hidden"]=!t,a.style=n,a.className=Ad.a.plexIcon+(i?" "+i:"");var s=[Nd.a.createElement.apply(Nd.a,["path",{d:"M473 270L0 540V0l473 270z"}].concat([]))];return t&&s.unshift(Nd.a.createElement("title",null,t)),Nd.a.createElement.apply(Nd.a,["svg",a].concat(s))}Ase.propTypes={"aria-label":vc.a.string,className:vc.a.string,style:vc.a.object};var Lse=Ase,kse=i("Uazv"),Rse=i.n(kse);const{Component:zse,Fragment:Use}=Nd.a,Vse={placement:"right-start"};var Bse=class extends zse{constructor(e,t){super(e,t),this._menuTimer=void 0,this.target=void 0,this.wasDismissed=void 0,this._openMenu=(e=!1)=>{this.wasDismissed=!1,this._updateMenu(e,!0)},this._closeMenu=(e=!1)=>{this.wasDismissed=e,this._updateMenu(e,!1)},this.onMouseEnter=()=>{this._openMenu()},this.onMouseEnterMenu=()=>{this.wasDismissed||this._openMenu()},this.onMouseLeave=()=>{this.wasDismissed||this._closeMenu()},this.onMenuClose=()=>{this._closeMenu(!0),this.props.onMenuClose()},this.onPress=()=>{this._openMenu(!0)},this.target=Mp(),this.state={isOpen:!1},this.wasDismissed=!1}componentWillUnmount(){window.clearTimeout(this._menuTimer)}_updateMenu(e,t){window.clearTimeout(this._menuTimer),this._menuTimer=window.setTimeout(()=>{this.setState({isOpen:t})},e?0:100)}render(){const{label:e,children:t,isDisabled:i}=this.props,{isOpen:n}=this.state;return Vu()(Use,{},void 0,Vu()(Zv,{id:this.target,className:Rse.a.item,isDisabled:i,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave,onPress:this.onPress},void 0,e,Vu()(Lse,{className:Rse.a.icon})),Vu()(Qv,{className:Rse.a.menu,isOpen:n,target:this.target,options:Vse,onMouseEnter:this.onMouseEnterMenu,onMouseLeave:this.onMouseLeave,onMenuClose:this.onMenuClose},void 0,t))}},Fse=i("r5Me"),Hse=i.n(Fse);const{Component:_se}=Nd.a;var Wse=class extends _se{constructor(...e){super(...e),this.createOnPress=e=>{const{metadataItemEntityID:t,onItemPress:i}=this.props;return()=>i(Object.assign({metadataItemEntityID:t},e))}}render(){const{serverDirectories:e,hasMultipleServers:t,onMenuClose:i}=this.props;if(!e||!e.length)return null;if(1===e.length){const t=e[0].title,n=Object(Ze.default)("Add to {libraryTitle}",{libraryTitle:t});return Vu()(Zv,{className:Hse.a.item,title:n,onPress:Cb(this.createOnPress(e[0]),i)},void 0,n)}return Vu()(Bse,{label:Object(Ze.default)("Add to Library"),onMenuClose:i},void 0,e.map((e,i)=>{let{serverFriendlyName:n,title:a}=e,s=Xe()(e,["serverFriendlyName","title"]);const r=a+(t?" ("+n+")":"");return Vu()(Zv,{className:Hse.a.item,title:r,onPress:this.createOnPress(s)},i,r)}))}};const Qse=Object(Wu.a)(yg,(Gse=qi.addProviderContentToLibrary,Object(Wu.a)(Nq,e=>e.filter(({version:e})=>e&&Qi(e,Gse)))),(e,t)=>{let i=0;return{serverDirectories:t.reduce((t,n)=>{const a=function(e,t){return e.reduce((e,i)=>{const n=Yt(i),a=(n?n.directories:[]).filter(e=>e.type===t);return e.push(...a),e},[])}(n.providers.map(t=>e[t]),Qt.b);a.length&&(i+=1);const s=a.map(e=>({serverEntityID:n.entityID,serverFriendlyName:n.friendlyName,title:e.title,sectionKey:e.key}));return t.push(...s),t},[]),hasMultipleServers:i>1}});var Gse;const Kse={onItemPress:v7.k};var Yse=Object(Hu.b)(Qse,Kse)(Wse);const{Component:qse}=Nd.a;function Zse(e){return e!==Qt.o&&e!==Qt.n}function Jse({title:e,leafCount:t}){return 1===t?Object(Ze.default)('Are you sure you want to mark 1 episode in "{showTitle}" as unplayed?',{showTitle:e}):Object(Ze.default)('Are you sure you want to mark {numEpisodes} episodes in "{showTitle}" as unplayed?',{numEpisodes:t,showTitle:e})}function Xse({title:e,leafCount:t}){return 1===t?Object(Ze.default)('Are you sure you want to mark 1 episode in "{showTitle}" as played?',{showTitle:e}):Object(Ze.default)('Are you sure you want to mark {numEpisodes} episodes in "{showTitle}" as played?',{numEpisodes:t,showTitle:e})}var $se=class extends qse{componentDidMount(){this._checkAutoConfirm()}componentDidUpdate(){this._checkAutoConfirm()}_checkAutoConfirm(){Zse(this.props.type)&&this.props.isOpen&&this.props.onConfirm()}render(){const{isOpen:e,type:t,markUnplayed:i,onConfirm:n,onCancel:a}=this.props;return Zse(t)?null:Vu()(F_,{isOpen:e,metricsPage:i?zd.s:zd.t,title:i?Object(Ze.default)("Mark as Unplayed"):Object(Ze.default)("Mark as Played"),message:i?Jse(this.props):Xse(this.props),onConfirm:n,onCancel:a})}},ere=i("S09J"),tre=i("wlUd"),ire=i.n(tre);const{Component:nre}=Nd.a;var are=class extends nre{constructor(...e){super(...e),this.onItemSelect=e=>{Object(ne.c)("metrics").trackClick(Object.assign({},this.props.metricsProperties,{page:this.props.metricsPage,action:Rd.ab,value:e})),this.props.onItemSelect(e)},this.onCancel=()=>{Object(ne.c)("metrics").trackClick(Object.assign({},this.props.metricsProperties,{page:this.props.metricsPage,action:Rd.j})),this.props.onCancel()}}render(){const{children:e,isOpen:t,metricsPage:i,metricsProperties:n,title:a}=this.props;return Vu()(Fw,{size:Fh,isOpen:t,metricsPage:i,metricsProperties:n,onModalClose:this.onCancel},void 0,Vu()(YL,{onModalClose:this.onCancel},void 0,Vu()(zL,{},void 0,a),Vu()(wL,{innerClassName:ire.a.listModalInnerBody},void 0,qp(e,e=>Nd.a.cloneElement(e,{onSelect:this.onItemSelect})))))}},sre=i("Yc8G"),rre=i.n(sre);const ore=Nd.a.createElement,{Component:lre}=Nd.a;class cre extends lre{constructor(...e){super(...e),this.onPress=e=>{const{value:t,onSelect:i,onPress:n}=this.props;i&&i(t),n&&n(e)}}render(){const e=this.props,t=Xe()(e,["value","onSelect"]);return ore(zp,tp()({},t,{onPress:this.onPress}))}}cre.defaultProps={className:rre.a.listModalItem};var dre=cre;const ure=Nd.a.createElement;var pre=Vu()(tf,{});var hre=function(e){const{mediaItems:t}=e,i=Xe()(e,["mediaItems"]);return ure(are,tp()({title:Object(Ze.default)("Play Version"),metricsPage:zd.ab},i),t.map((e,t)=>{const i=[];if(e.bitrate&&i.push(Object(ere.default)(e.bitrate)),e.videoResolution){const t=Object(oM.a)(e),n=t?t.scanType:null;i.push(Object(QC.default)(e.videoResolution,n))}const n=!!e.title,a=i.length>0;return Vu()(dre,{value:t},t,n?e.title:null,n&&a?pre:null,a?i.join(", "):null,n||a?null:Object(Ze.default)("Unknown"))}))},mre=i("LMIY"),gre=i.n(mre);const vre=Nd.a.createElement;var yre=function(e){const{isSettingsUpdating:t,hasError:i,settings:n,onSubmit:a,onModalClose:s}=e;return Vu()(FM,{className:gre.a.form,onSubmit:a},void 0,Vu()(YL,{onModalClose:s},void 0,Vu()(zL,{},void 0,Object(Ze.default)("Settings")),i?Vu()(vV,{errorMessage:Object(Ze.default)("There was an error saving the settings")}):null,Vu()(wL,{},void 0,n.map(e=>vre(mF,tp()({key:e.id},e)))),Vu()(AL,{},void 0,Vu()(sV,{},void 0,Vu()(hw,{onPress:s},void 0,Object(Ze.default)("Cancel")),Vu()(dV,{kind:Pp,type:"submit",isSpinning:t},void 0,Object(Ze.default)("Save"))))))};const fre=Nd.a.createElement,{Component:bre}=Nd.a;var Ire=Object(Hu.b)((function(){return Object(Wu.a)($K(),(e={})=>({settings:e.preferences,isSettingsUpdating:e.isSettingsUpdating,hasError:!!e.settingsUpdateError}))}),(function(e,t){return{onSubmit(i){Object(Ti.a)(()=>{e(hae({serverEntityID:t.serverEntityID,providerEntityID:t.providerEntityID,metadataItemEntityID:t.metadataItemEntityID,data:i}))})},onClearError(){e(mae({metadataItemEntityID:t.metadataItemEntityID}))}}}))(class extends bre{componentDidUpdate(e,t){!e.isSettingsUpdating||this.props.isSettingsUpdating||this.props.hasError||this.props.onModalClose()}componentWillUnmount(){this.props.onClearError()}render(){return fre(yre,this.props)}});var Sre=function(e){const{serverEntityID:t,providerEntityID:i,metadataItemEntityID:n,isOpen:a,metricsProperties:s,onModalClose:r}=e;return Vu()(Fw,{size:Fh,isOpen:a,metricsPage:zd.U,metricsProperties:s,onModalClose:r},void 0,Vu()(Ire,{serverEntityID:t,providerEntityID:i,metadataItemEntityID:n,onModalClose:r}))},Cre=i("0jcA");function Mre(e){const{providerFeatureType:t,providerModel:i,itemProviderModel:n,metadataItemModel:a,metadataListModel:s,metadataItemModels:r}=e,o=i.get("features"),l=o&&o.get(t);if(!!l&&l.get("flavor")===Uae.c){const e=(null==a?void 0:a.get("source"))?Object(sr.a)(a.get("source")).providerIdentifier:void 0,t=!!e&&e!==n.get("identifier")?a.get("source"):Object(Cre.a)(n.server.get("machineIdentifier"),n.get("identifier")),i=a&&a.get("key")||s&&s.get("containerKey")||function(e){if(!e)return;const[t]=e;return e.some(e=>e.get("source")!==t.get("source"))?void C.a.warn("[Playlists] universal playlists can not contain items from multiple sources"):"/library/metadata/"+e.map(e=>e.get("ratingKey")).join(",")}(r);return V.join([t,i])}return lt.a.uri(a||s||r,{items:r})}var Dre=i("8NF1");function Pre(e){const{providerModel:t,itemProviderModel:i,metadataItemModel:n,metadataListModel:a,multiSelectModel:s,playQueueModel:r,smart:o,readOnly:l,recent:c}=e,d=s&&s.get("activeSelectionItems").pluck("model"),u=r?r.get("type"):Object(Dre.a)({metadataItemModel:n,metadataListModel:a,metadataItemModels:d}),p=t&&t.get("features"),h=p&&p.get(Ot.k),m=h&&h.get("key"),g={type:Object(Qt.u)(Qt.m).id,playlistType:u,smart:o?1:0,readOnly:l?1:0};c&&(g.sort="updatedAt:desc");const v={playlistType:u,containerKey:m&&Object(V.join)(m,g)};return r||(v.uri=Mre({providerFeatureType:Ot.k,providerModel:t,itemProviderModel:i,metadataItemModel:n,metadataListModel:a,metadataItemModels:d})),v}function Ore(e){const{providerModel:t,type:i,title:n,smart:a=0,playlistID:s,playQueueID:r,uri:o,includeExternalMedia:l}=e,c={uri:o,playQueueID:r};l&&(c.includeExternalMedia=1),s||(c.title=n,c.smart=a?1:0,c.type=i);const d=t.get("features"),u=d&&d.get(Ot.k),p=u&&u.get("key"),h=V.join([p,s&&s+"/items"],c),m=s?"PUT":"POST",g=t.getXHROptions(h,{type:m});return D.a.ajax(g)}const jre=Object(Pi.a)("ui/modal/initAddToPlaylistModal"),wre=Object(Pi.a)("ui/modal/clearAddToPlaylistModal"),Tre=Object(Pi.a)("ui/modal/selectDestination"),Ere=Object(Pi.a)("ui/modal/createPlaylist"),Nre=Object(Pi.a)("ui/modal/addToPlaylist");function xre(e){return e.get("ui").get("addToPlaylistModal")}function Are(e,t){Object(Ti.a)(()=>{e.set({isUpdating:!0,error:null})}),Ore(t).then(()=>{e.set({isUpdating:!1})},t=>{e.set({isUpdating:!1,error:Object(DT.a)(t)})})}const Lre=Sk({"ui/modal/initAddToPlaylistModal"(e,t,i){const n=xre(e);let a,s,r,o,l="";if(t.metadataItemEntityID)a=Object(wi.f)(e,t),l=lt.a.title(a);else if(t.metadataListEntityID)s=Object(wi.g)(e,t),l=lt.a.title(s);else if(t.playQueueID)o=Object(S7.b)(e,t.playQueueID);else{r=e.get("ui").get("multiSelect");const t=r.get("activeSelectionItems").pluck("model");l=lt.a.title(t,{items:t})}n.set({title:l,smart:t.smart,metadataItem:a,metadataList:s,multiSelect:r,playQueue:o}),i(Tre(t))},"ui/modal/clearAddToPlaylistModal"(e){xre(e).restoreDefaults()},"ui/modal/selectDestination"(e,t){const i=xre(e),n=Object(wi.m)(e,t),a=Object(wi.j)(e,t),s=i.get("metadataItem"),r=i.get("metadataList"),o=i.get("multiSelect"),l=i.get("playQueue"),c=i.get("smart"),d=s?Object(wi.j)(e,{providerEntityID:s.get("providerEntityID")}):a,{containerKey:u,playlistType:p,uri:h}=Pre({providerModel:a,itemProviderModel:d,metadataItemModel:s,metadataListModel:r,multiSelectModel:o,playQueueModel:l}),m=new Gn.default({containerKey:u},{server:n,provider:a});i.set({server:n,provider:a,type:p,smart:c,containerKey:u,uri:h,playlists:m})},"ui/modal/createPlaylist"(e,t){const i=xre(e),n=i.get("provider"),a=i.get("playQueue"),{formData:s}=t;let r=i.pick("type","title","uri","smart");r=Object.assign({},r,s),r.providerModel=n,a&&(r.playQueueID=a.get("playQueueID")),Object(gT.a)(e,wt.a)&&(r.includeExternalMedia=!0),Are(i,r)},"ui/modal/addToPlaylist"(e,{playlistID:t}){const i=xre(e),n=i.get("provider"),a=i.get("playQueue"),s={playlistID:t,providerModel:n,uri:i.get("uri")};a&&(s.playQueueID=a.get("playQueueID")),Object(gT.a)(e,wt.a)&&(s.includeExternalMedia=!0),Are(i,s)}});var kre=Object(Wu.a)(Gu,e=>e.metadataLists);function Rre(){return Object(Wu.a)((e,{metadataListEntityID:t})=>t,kre,(e,t)=>t[e])}function zre(e){return e.ui.multiSelect}function Ure(){return Object(Wu.a)((e,{columnAdjustment:t})=>t,Rg.a,(e,t)=>e||t.columnAdjustment)}const Vre=Nd.a.createElement,{Component:Bre}=Nd.a;const Fre={dispatchPopulateMetadataList:Ox,dispatchPopulateMetadataListRange:jx,dispatchDeselectAllMetadataListItems:kx,dispatchResetMetadataList:Rx};class Hre extends Bre{constructor(...e){super(...e),this.onPageRequest=e=>{const{metadataListEntityID:t,disableReloadThreshold:i,dispatchPopulateMetadataListRange:n}=this.props;n(Object.assign({metadataListEntityID:t,disableReloadThreshold:i},e))}}componentWillMount(){this._populate()}componentWillReceiveProps(e){const{containerKey:t,metadataListEntityID:i}=e;t===this.props.containerKey&&i===this.props.metadataListEntityID||this._populate(e)}componentWillUnmount(){const{metadataListEntityID:e,shouldResetOnUnmount:t}=this.props;this.props.dispatchDeselectAllMetadataListItems({metadataListEntityID:e}),t&&this.props.dispatchResetMetadataList({metadataListEntityID:e})}_populate(e=this.props){const{entityKey:t,metadataListEntityID:i,initialSize:n,dispatchPopulateMetadataList:a,dispatchPopulateMetadataListRange:s}=e;n&&Object(Ti.a)(()=>{t&&this.props.dispatchResetMetadataList({metadataListEntityID:i}),n===1/0?a({metadataListEntityID:i}):s({metadataListEntityID:i,startIndex:0,endIndex:n-1,pages:1})})}render(){const e=this.props,{component:t}=e,i=Xe()(e,["component","dispatchPopulateMetadataListRange","dispatchDeselectAllMetadataListItems","dispatchResetMetadataList"]);return Vre(t,tp()({},i,{onPageRequest:this.onPageRequest}))}}Hre.defaultProps={disableReloadThreshold:!1,shouldResetOnUnmount:!1};var _re=Object(Hu.b)((function(){return Object(Wu.a)(Ure(),Rre(),zre,(e,t,i)=>({metadataItemEntityIDs:t.metadataItems,entityKey:t.entityKey,containerKey:t.containerKey||t.key,disableReloadThreshold:!!i.activeSelectionType,columnAdjustment:e,totalSize:t.totalSize,librarySectionID:t.librarySectionID,populatedRange:t.populatedRange,allowSync:t.allowSync,isPending:t.isPending,isPopulated:t.isPopulated,isMetaPopulated:t.isMetaPopulated,error:t.error,firstItemType:t.firstItemType,firstItemSubtype:t.firstItemSubtype,isFirstItemLibraryItem:t.isFirstItemLibraryItem,isDirectoryList:t.isDirectoryList,isChannelsList:t.isChannelsList}))}),Fre)(Hre);var Wre=Object(Wu.a)(qu,yg,bg("providers"),(e,t,i)=>e.reduce((e,n)=>{const a=(n.isCloud?i:n.providers).map(e=>({server:n,provider:t[e]})),s=a.length?a:[{server:n}];return e.push(...s),e},[]));function Qre({server:e,provider:t}){if(!t||!t.features)return!1;if(e&&(e.isShared||e.isCloud||!e.isConnected))return!1;const i=[jt.f,jt.d];return!!jt.k(t.identifier,i)&&!!t.features.find(e=>e.type===Ot.k&&e.flavor===Uae.c)}const{Component:Gre}=Nd.a;var Kre=class extends Gre{constructor(...e){super(...e),this.onPress=e=>{this.props.isSelected||this.props.onDestinationSelect(this.props.destination),this.props.onMenuClose()}}render(){const{destination:e,isSelected:t}=this.props;return Vu()(oy,{isSelected:t,onPress:this.onPress},void 0,e.name)}};var Yre=function(e){const{target:t,isOpen:i,destination:n,destinations:a,onMenuClose:s,onDestinationSelect:r}=e;return Vu()(Qv,{target:t,isOpen:i,size:_h,onMenuClose:s},void 0,a.map((e,t)=>Vu()(Kre,{destination:e,isSelected:e===n,onMenuClose:s,onDestinationSelect:r},"playlist-destination-"+t)))};const{Component:qre}=Nd.a;var Zre=class extends qre{constructor(e,t){super(e,t),this._menuButtonID=void 0,this.onMenuButtonPress=()=>{this.setState({isMenuOpen:!this.state.isMenuOpen})},this.onMenuClose=()=>{this.setState({isMenuOpen:!1})},this.state={isMenuOpen:!1},this._menuButtonID=Mp()}render(){const{className:e,destination:t,destinations:i,onDestinationSelect:n}=this.props,{isMenuOpen:a}=this.state;return!i||i.length<2?null:Vu()("div",{className:e},void 0,Vu()(Dy,{id:this._menuButtonID,direction:a?hy:my,onPress:this.onMenuButtonPress},void 0,t.name),Vu()(Yre,{target:this._menuButtonID,isOpen:a,destination:t,destinations:i,onMenuClose:this.onMenuClose,onDestinationSelect:n}))}};const Jre=Object(Wu.a)(Wre,Aae,xae,(e,t,i)=>{const n={server:t,provider:i},a=e.filter(Qre);return a.find(({server:e,provider:n})=>e.machineIdentifier===t.machineIdentifier&&n.identifier===i.identifier)||a.unshift(n),a});var Xre=Object(Hu.b)((function(){return Object(Wu.a)($S,ZS,Jre,(e,t,i)=>{const n=i.map(e=>({name:e.server.isCloud?Object(Ze.default)("TIDAL"):e.server.friendlyName,serverEntityID:e.server.entityID,providerEntityID:e.provider.entityID}));return{destination:n.find(({serverEntityID:i,providerEntityID:n})=>i===e.entityID&&n===t.entityID),destinations:n}})}))(Zre),$re=i("ybRO"),eoe=i.n($re);const toe=Nd.a.createElement;function ioe(e){const{className:t,children:i,component:n,width:a,height:s,url:r}=e,o=Xe()(e,["className","children","component","width","height","url"]);return Vu()("div",{className:t,style:{width:a,height:s}},void 0,toe(n,tp()({width:a,height:s,url:r},o)),i)}ioe.defaultProps={className:eoe.a.card};var noe=ioe,aoe=i("ShFY"),soe=i.n(aoe);const{useCallback:roe}=Nd.a;var ooe=function(e){const{className:t,serverEntityID:i,providerEntityID:n,playlistID:a,title:s,thumb:r,isLoading:o,cellIndex:l,onSelect:c}=e,d=Y0(e),u=roe(()=>{c(a)},[a,c]);return Vu()("div",{className:t,style:d.style},void 0,o?null:Vu()(zp,{className:(soe.a.container||"")+" "+(l%2&&soe.a.alternate||""),onPress:u},void 0,Vu()(noe,{className:soe.a.card,serverEntityID:i,providerEntityID:n,component:AC,width:40,height:40,url:r}),Vu()("span",{className:soe.a.title},void 0,s)))};var loe=Object(Hu.b)((function(){return Object(Wu.a)($K(),e=>e?{isLoading:!1,playlistID:e.ratingKey,title:e.title,thumb:e.thumb||e.composite||""}:{isLoading:!0})}))(ooe),coe=i("jw1d"),doe=i.n(coe);const uoe=Nd.a.createElement,{Component:poe}=Nd.a,hoe=H0(50);var moe=class extends poe{constructor(...e){super(...e),this.renderPlaylistItem=e=>{const{serverEntityID:t,providerEntityID:i,onPlaylistSelect:n}=this.props;return uoe(loe,tp()({},e,{className:doe.a.cell,serverEntityID:t,providerEntityID:i,onSelect:n}))}}render(){const e=this.props,{metadataItemEntityIDs:t,isPopulated:i,totalSize:n}=e,a=Xe()(e,["metadataItemEntityIDs","isPopulated","totalSize"]);return i?uoe(V0,tp()({className:doe.a.content,scrollerClassName:doe.a.contentScroller,keyPropName:"metadataItemEntityID",items:t,size:n,layout:hoe,cellRenderer:this.renderPlaylistItem},a)):Vu()(Jh,{className:doe.a.spinner})}},goe=i("upBJ"),voe=i.n(goe);const yoe=Nd.a.createElement,{Component:foe}=Nd.a;function boe(e){if(!e)return Object(Ze.default)("Title is required")}const Ioe=IB(e=>{let{showErrors:t}=e,i=Xe()(e,["showErrors"]);return yoe(UB,tp()({hasError:t},i))});var Soe=class extends foe{componentDidUpdate(e){this.props.isUpdating||!e.isUpdating||this.props.hasError||this.props.onModalClose()}render(){const{serverEntityID:e,providerEntityID:t,metadataItemEntityID:i,metadataListEntityID:n,title:a,smart:s,hasError:r,isUpdating:o,isMultiSelect:l,onModalClose:c,onDestinationSelect:d,onFormSubmit:u,onPlaylistSelect:p}=this.props,h=!l&&!s&&e&&t&&i;return Vu()(YL,{onModalClose:c},void 0,Vu()(zL,{},void 0,s?Object(Ze.default)("Create Playlist"):Object(Ze.default)("Add to Playlist")),h?Vu()(Xre,{className:voe.a.listModalSubheader,serverEntityID:e,providerEntityID:t,metadataItemEntityID:i,onDestinationSelect:d}):null,r?Vu()(vV,{errorMessage:Object(Ze.default)("Something went wrong. Make sure the destination is available and try again.")}):null,s?null:Vu()(wL,{innerClassName:voe.a.listModalInnerBody},void 0,n?Vu()(_re,{serverEntityID:e,providerEntityID:t,metadataListEntityID:n,component:moe,initialSize:20,onPlaylistSelect:p}):null),Vu()(AL,{},void 0,Vu()(FM,{className:voe.a.createForm,onSubmit:u},void 0,Vu()(Ioe,{focusOnMount:!0,"data-autofocus":!0,selectTextOnFocus:!0,name:"title",initialValue:a,validations:[boe]}),Vu()(hV,{className:voe.a.createButton,type:"submit",kind:Pp,isSpinning:o},void 0,Object(Ze.default)("Create")))))}};const Coe=Nd.a.createElement,{Component:Moe}=Nd.a,Doe=Object(Wu.a)(e=>e.ui.addToPlaylistModal,kre,(e,t)=>{const{metadataItem:i,metadataList:n,multiSelect:a}=e;if(i)return i;const s=t[n];return s&&s.metadataItems.length?s.metadataItems[0]:a&&a.activeSelectionItems&&a.activeSelectionItems.length?a.activeSelectionItems[0].model:void 0}),Poe=Object(Wu.a)(e=>e.ui.addToPlaylistModal,Doe,(e,t)=>({serverEntityID:e.server,providerEntityID:e.provider,metadataItemEntityID:t,metadataListEntityID:e.playlists,title:e.title,isUpdating:e.isUpdating,isMultiSelect:!!e.multiSelect,hasError:!!e.error}));var Ooe=Object(Hu.b)(Poe,(function(e,t){return{onDestinationSelect({serverEntityID:t,providerEntityID:i}){e(Tre({serverEntityID:t,providerEntityID:i}))},onFormSubmit(t){e(Ere({formData:t}))},dispatchInitAddToPlaylistModal(){e(jre({serverEntityID:t.serverEntityID,providerEntityID:t.providerEntityID,metadataItemEntityID:t.metadataItemEntityID,metadataListEntityID:t.metadataListEntityID,playQueueID:t.playQueueID,smart:t.smart}))},dispatchClearAddToPlaylistModal(){e(wre())},dispatchAddToPlaylist(t){e(Nre({playlistID:t}))}}}))(class extends Moe{constructor(...e){super(...e),this.onAdd=e=>{this.props.dispatchAddToPlaylist(e)}}componentDidMount(){this.props.dispatchInitAddToPlaylistModal()}componentWillUnmount(){this.props.dispatchClearAddToPlaylistModal()}render(){const e=this.props,t=Xe()(e,["dispatchInitAddToPlaylistModal","dispatchClearAddToPlaylistModal","dispatchAddToPlaylist"]);return Coe(Soe,tp()({onPlaylistSelect:this.onAdd},t))}});const joe=Nd.a.createElement;var woe=function(e){const{isOpen:t,onModalClose:i}=e,n=Xe()(e,["isOpen","onModalClose"]);return Vu()(Fw,{size:Fh,isOpen:t,metricsPage:zd.Y,onModalClose:i},void 0,joe(Ooe,tp()({onModalClose:i},n)))};var Toe=Object(Wu.a)(Gu,e=>e.watchTogetherRooms||{});const Eoe=2500;function Noe(e){const{eventSource:t,events:i,predicate:n=(()=>!0),waitDuration:a=Eoe}=e,s=D.a.Deferred(),r=()=>{n(t)&&(l=window.clearTimeout(l),t.off(o),s.resolve(t))},o=i.reduce((e,t)=>(e[t]=r,e),{});let l=window.setTimeout(()=>{C.a.warn('Model "%s" events %o did not pass the predicate within %dms',t.name,i,a),t.off("add",o),s.reject(t)},a);return t.on(o),s.promise()}function xoe(e){return e.get("isPopulated")?D.a.Deferred().resolve(e).promise():Noe({eventSource:e,events:["change:error","change:isPopulated"]})}function Aoe(e,t){return function(e,t){return e.findWhere(t)?D.a.Deferred().resolve(e).promise():Noe({eventSource:e,events:["add"],predicate:()=>!!e.findWhere(t)})}(e,t).then(e=>xoe(e.findWhere(t)),()=>D.a.Deferred().reject().promise())}var Loe=function(e,t){const i=function(e){return e.get("Origin")||{key:e.get("key"),source:Object(gs.a)({serverIdentifier:e.server.get("machineIdentifier"),providerIdentifier:e.provider.get("identifier")})}}(t),n=D.a.Deferred(),{source:a,key:s}=i,{providerIdentifier:r,serverIdentifier:o}=Object(sr.a)(a),l=e.get("servers").get(o),c=l&&l.get("isCloud")?e.get("user"):l,d=c&&c.get("providers").get(r);let u;if(l?l.get("isConnected")?d?d.get("isPopulated")||(u="Provider is not populated"):u="Unknown provider":u="Server is not connected":u="Unknown server",u)n.reject(new Error(u));else{const e=new ut.a({key:s},{server:l,provider:d,channel:t.channel,includeExternalMedia:t.includeExternalMedia,skipCache:!0}),i=Object(rt.a)(d.server),r=d.resolveUrl(e.url(),{appendHeaders:!0}),o=d.getXHROptions(r,{dataType:i.typeName,data:{resolveIndirect:1}});e.fetch(o).then(t=>{const i=e.get("Media"),s=i?i.map(e=>D.a.extend(!0,{source:a},e)):[];n.resolve(s)},()=>{n.reject(new Error("Unable to fetch Origin metadata"))})}return n.promise()};function koe(e,t={}){let i=t.forceFetch||!e.get("isPreFetched")?function(e,t){const{itemProvider:i}=t,n={includeConcerts:1,includeExtras:1,includeOnDeck:1,includePopularLeaves:1,includePreferences:1,includeChapters:1,includeStations:1,includeExternalMedia:1,asyncAugmentMetadata:1};e.get("type")===Qt.p&&(n.includeRelated=1),!t.forceSyncCheckFiles&&e.server.supports("asyncCheckFiles")?(n.asyncCheckFiles=1,n.asyncRefreshAnalysis=1,n.asyncRefreshLocalMediaAgent=1):n.checkFiles=1;const a=i||e.provider,s=Object(rt.a)(a.server),r=a.resolveUrl(e.url(),{appendHeaders:!0}),o=a.getXHROptions(r,{dataType:s.typeName,data:n,merge:!0});return e.fetch(o).done(()=>{e.set("isPreFetched",!0)})}(e,t):D.a.Deferred().resolve().promise();return i=i.then(()=>{const t=e.get("Media");if(e.get("indirect")&&(!t||!t.length)){const t=Loe(Object(ne.c)("appModel"),e).then(t=>{e.set({Media:t})});return t.then(null,e=>{C.a.error("[Metadata] %s",e.message)}),t}}),i}var Roe=xe.a.extend({name:"SyncplaySessionUserModel",idAttribute:"deviceIdentifier",sessionAttrs:{adDisplayIndex:Ae.a.integer,adDisplayTotal:Ae.a.integer,deviceIdentifier:Ae.a.string.isRequired,deviceName:Ae.a.string.isRequired,id:Ae.a.integer.isRequired,isAdPlaying:Ae.a.boolean,isPresent:Ae.a.boolean,isReady:Ae.a.boolean,isWatching:Ae.a.boolean,positionSeconds:Ae.a.oneOfType(Ae.a.integer,Ae.a.float),thumb:Ae.a.string,title:Ae.a.string},defaults:{deviceIdentifier:null,deviceName:null,id:null,isAdPlaying:!1,isReady:!1,isWatching:!1,positionSeconds:0}});var zoe=ke.a.extend({name:"SyncplaySessionUserCollection",model:Roe});var Uoe=xe.a.extend({name:"SyncplaySessionModel",idAttribute:"roomID",sessionAttrs:{notifications:Ae.a.array,roomID:Ae.a.string},sessionRelations:{metadataItem:{relationClass:ut.a,deferred:!0},users:{relationClass:zoe}},defaults:{notifications:[]}}),Voe=i("Qc+q"),Boe=i("wAGh");const Foe="syncplaySessionActions/toggleSessionLobby",Hoe="syncplaySessionActions/syncUser",_oe="syncplaySessionActions/syncLobby",Woe="syncplaySessionActions/syncPlaystate",Qoe=Object(Pi.a)("syncplaySessionActions/joinSession"),Goe=Object(Pi.a)("syncplaySessionActions/leaveSession"),Koe=Object(Pi.a)("syncplaySessionActions/setSessionError"),Yoe=(Object(Pi.a)(Foe),Object(Pi.a)(Foe,e=>Object.assign({},e,{shouldShow:!0}))),qoe=Object(Pi.a)(Foe,e=>Object.assign({},e,{shouldHide:!0})),Zoe=Object(Pi.a)(Hoe),Joe=Object(Pi.a)(_oe),Xoe=Object(Pi.a)(Woe),$oe=Object(Pi.a)("syncplaySessionActions/addNotification"),ele=Object(Pi.a)("syncplaySessionActions/removeNotification"),tle=V8.a;function ile(e){return ale(e).get("rooms")}function nle(e){return ale(e).get("session")}function ale(e){return e.get("ui").get("watchTogether")}function sle(e){return(null==e?void 0:e.deviceIdentifier)===$.prop("X-Plex-Client-Identifier")}function rle(e){const t=Object(S7.c)(e,tle);return t.get("syncplaySessionRoomID")&&!!Object(Voe.a)(t)}const ole={"syncplaySessionActions/joinSession"(e,t,i){const n=Object(wi.p)(e,t),a=n.get("id");ale(e).set("session",new Uoe({metadataItem:n.get("metadataItem"),roomID:a})),i(gle()),Object(ne.c)("syncplaySessionManager").join({roomID:a,roomSourceUri:n.get("sourceUri"),roomSyncplayHost:n.get("syncplayHost"),roomSyncplayPort:n.get("syncplayPort")})},"syncplaySessionActions/leaveSession"(e,t,i){const n=nle(e);if(n){const t=ale(e);Object(C.a)("[Watch Together] Leaving session for room:",n.get("roomID")),Object(ne.c)("syncplaySessionManager").leave(),t.unset("session"),t.unset("sessionError")}},"syncplaySessionActions/setSessionError"(e,t,i){const n=Object(S7.c)(e,tle),{sessionError:a}=t;n.get("syncplaySessionRoomID")?n.set({hasError:!0,errorMessage:a}):ale(e).set({sessionError:a})},[Foe](e,t,i){const n=Object(S7.c)(e,tle),a=n.get("syncplaySessionRoomID"),s={initiator:"WATCH_TOGETHER",playerType:tle},{shouldHide:r,shouldShow:o}=t;let l;if(o&&(n.set({isWatchTogetherLobbyVisible:!0,isWatchTogetherParticipantsVisible:!1}),n.get("isPaused")||(l=Object(Boe.s)(s))),r){const e=null!==n.get("adState");e&&Object(ne.c)("syncplaySessionManager").update({roomID:a,isAdPlaying:e,adDisplayIndex:n.get("adDisplayIndex"),adDisplayTotal:n.get("adDisplayIndex")}),n.get("isPaused")&&(l=Object(Boe.t)(s)),n.set({isWatchTogetherLobbyVisible:!1})}(o||r)&&Object(C.a)("[Watch Together] Session lobby is visible?",n.get("isWatchTogetherLobbyVisible")),l&&rle(e)&&(Object(C.a)("[Watch Together] Dispatching after lobby visibility:",l),i(l))},[Hoe](e,t,i){const{event:n}=t;if(!n.user)return;const{ad:a,isPresent:s,isReady:r,positionSeconds:o,isPaused:l,user:c}=n,{deviceIdentifier:d,deviceName:u,id:p}=c,h=nle(e),m=h.get("users"),g=[],v={},y=m.get(d)||m.add({deviceIdentifier:d,deviceName:u,id:p});if(!y.get("title")){var f;const t=null==(f=ile(e).get(h.get("roomID")))?void 0:f.get("users"),i=null==t?void 0:t.get(p);i?(v.title=i.get("title"),v.thumb=i.get("thumb")):ale(e).get("isRoomsPending")||(C.a.debug("[Watch Together] Syncplay user is unknown "+c.id+" ("+c.deviceName+")"),g.push(gle()))}if(void 0!==s&&s!==y.get("isPresent")&&(v.isPresent=s,g.push($oe({type:s?"join":"leave",user:c}))),!1===s&&y.get("isAdPlaying"))v.adDisplayIndex=null,v.adDisplayTotal=null,v.isAdPlaying=!1;else if(void 0!==a){var b,I,S;v.adDisplayIndex=null!=(b=null==a?void 0:a.displayIndex)?b:null,v.adDisplayTotal=null!=(I=null==a?void 0:a.displayTotal)?I:null,v.isAdPlaying=null!=(S=null==a?void 0:a.isPlaying)&&S}void 0!==r&&(v.isReady=r),void 0!==l&&(v.isWatching=!l),void 0!==o&&(v.positionSeconds=o),C.a.debug("[Watch Together] Updating user "+c.id+" ("+c.deviceName+"):",v),y.set(v),g.forEach(e=>{C.a.debug("[Watch Together](%s) Dispatching:",Hoe,e),i(e)})},[Woe](e,t,i){const{roomID:n,event:a}=t,s=nle(e);if(sle(a.user))return;const r={user:a.user},o=function(e,t){const i=Object(S7.c)(e,tle),{event:n}=t,{isPaused:a,positionSeconds:s,user:r}=n,o=null!=s,l=nle(e).get("users").get(null==r?void 0:r.deviceIdentifier),c={nextPlaybackSpeed:i.get("playbackSpeed"),shouldChangePlaybackSpeed:!1,shouldPause:!1,shouldResume:!1,shouldSeek:!1,shouldStartPlayback:!1};if(!i.get("syncplaySessionRoomID")&&o)return c.shouldStartPlayback=!0,c;if(null!=i.get("adState")||(null==l?void 0:l.get("isAdPlaying")))return c;if(!rle(e))return c;if(c.shouldPause=!0===a&&!i.get("isPaused"),c.shouldResume=!1===a&&i.get("isPaused"),c.shouldSeek=n.shouldSeek,o&&(c.nextPlaybackSpeed=1,!c.shouldSeek)){const e=i.get("positionSeconds")-s;C.a.debug("[Watch Together] Local position diff:",e+"s"),c.shouldSeek=e>=4||e<=-1.75,!c.shouldSeek&&e>1.5&&(c.nextPlaybackSpeed=.95)}return c.shouldChangePlaybackSpeed=c.nextPlaybackSpeed!==i.get("playbackSpeed"),c}(e,t),l=[];if(o.shouldStartPlayback){const e=s.get("metadataItem"),t=Math.round(1e3*a.positionSeconds);Object(C.a)("[Watch Together] Start playback at "+t+"s"),l.push(Object(xT.x)({serverEntityID:e.get("serverEntityID"),providerEntityID:e.get("providerEntityID"),syncplaySessionRoomID:n,playerType:tle,isPaused:!0,isWatchTogetherLobbyVisible:!0,openState:b7.a,startOffsetMilliseconds:t,options:{metadataItemKey:e.get("key"),type:f7.d}}))}o.shouldChangePlaybackSpeed&&l.push(Object(Boe.j)({playerType:tle,playbackSpeed:o.nextPlaybackSpeed})),o.shouldSeek&&(l.push(Object(Boe.w)({initiator:"WATCH_TOGETHER",playerType:tle,positionSeconds:Math.round(a.positionSeconds)})),a.shouldSeek&&l.push($oe(Object.assign({},r,{type:"seek"})))),o.shouldPause&&l.push(Object(Boe.s)({initiator:"WATCH_TOGETHER",playerType:tle}),$oe(Object.assign({},r,{type:"pause"}))),o.shouldResume&&l.push(Object(Boe.t)({initiator:"WATCH_TOGETHER",playerType:tle}),$oe(Object.assign({},r,{type:"resume"}))),l.forEach(e=>{C.a.debug("[Watch Together](%s) Dispatching:",Woe,e),i(e)})},[_oe](e,t,i){const n=function(e,t){const{event:i}=t,{user:n}=i,a=Object(S7.c)(e,tle),s=nle(e),r=ile(e).get(s.get("roomID")),o=s.get("users"),l=o.get(null==n?void 0:n.deviceIdentifier),c={shouldHide:!1,shouldShow:!1};if(!l)return c;const d=!r||r.get("users").every(e=>o.findWhere({id:e.get("id")})),u=o.length>0&&o.every(e=>e.get("isReady")),p=!sle(n)&&(null==l?void 0:l.get("isAdPlaying")),h=!!a.get("adState"),m=a.get("isWatchTogetherLobbyVisible");return p&&!h?c.shouldShow=!0:(p&&h||d&&u)&&(c.shouldHide=!0),c.shouldHide=m&&c.shouldHide,c.shouldShow=!m&&c.shouldShow,c}(e,t);n.shouldHide&&i(qoe(t)),n.shouldShow&&i(Yoe(t))},"syncplaySessionActions/addNotification"(e,t,i){const n=Object(S7.c)(e,tle),a=nle(e),{type:s,user:r}=t;if(sle(r))return void C.a.debug("[Watch Together] Ignoring notification from local user:",t);if(n.get("isWatchTogetherLobbyVisible"))return void C.a.debug("[Watch Together] Ignoring notification while lobby visible:",t);const o={timestamp:Date.now(),type:s,uid:I.a.uniqueId(),userID:r.id};Object(C.a)('[Watch Together] Notification "'+s+'" from:',r);const l=a.get("notifications").concat(o).slice(-5);a.set({notifications:l})},"syncplaySessionActions/removeNotification"(e,t,i){const n=nle(e),a=n.get("notifications").filter(e=>e.uid!==t.uid);n.set({notifications:a})},[xT.m](e,t,i){const n=Object(S7.c)(e,tle),a=n.get("syncplaySessionRoomID");if(a&&!n.get("isWatchTogetherLobbyVisible")){const{adState:e,adDisplayIndex:n,adDisplayTotal:s}=t;Object(ne.c)("syncplaySessionManager").update({roomID:a,isAdPlaying:null!=e,adDisplayIndex:n,adDisplayTotal:s}),null==e&&i(Yoe())}},[xT.c](e,t,i){i(Goe())},[xT.f](e,t,i){i(Goe())},[Boe.c](e,t){Object(S7.c)(e,tle).get("syncplaySessionRoomID")&&"WATCH_TOGETHER"!==t.initiator&&Object(ne.c)("syncplaySessionManager").update({hasPendingSeek:!0})},[Boe.h](e,t){const i=Object(S7.c)(e,tle);i.get("syncplaySessionRoomID")&&"WATCH_TOGETHER"!==t.initiator&&!i.get("adState")&&Object(ne.c)("syncplaySessionManager").update({hasPendingPlayPause:!0})}};Object.assign(ole,{[Boe.d]:ole[Boe.c],[Boe.e]:ole[Boe.c],[Boe.f]:ole[Boe.c],[Boe.g]:ole[Boe.c]});var lle=function(e){return e instanceof Promise?e:e instanceof Error?Promise.reject(e):"[object Function]"===Object.prototype.toString.call(null==e?void 0:e.then)?new Promise((t,i)=>{try{e.then(t,i)}catch(e){t(e)}}):Promise.resolve(e)};Object(Pi.a)("watchTogetherRooms/initialize");const cle=Object(Pi.a)("watchTogetherRooms/tryUpdateRooms"),dle=Object(Pi.a)("watchTogetherRooms/createRoom"),ule=Object(Pi.a)("watchTogetherRooms/inviteUsers"),ple=Object(Pi.a)("watchTogetherRooms/resetCreateRoom"),hle=Object(Pi.a)("watchTogetherRooms/populateMetadataItem"),mle=Object(Pi.a)("watchTogetherRooms/deleteRoom"),gle=Object(Pi.a)("watchTogetherRooms/updateRooms"),vle=Object(Pi.a)("watchTogetherRooms/roomsUpdated");function yle(e){return e.get("ui").get("watchTogether")}const fle={"watchTogetherRooms/tryUpdateRooms"(e,t,i){const n=Object(ne.c)("watchTogetherRoomsManager").getRoomsClient();!1===(null==n?void 0:n.isOpen)&&i(gle())},"watchTogetherRooms/updateRooms"(e,t,i){const n=Object(ne.c)("watchTogetherRoomsManager").getRoomsClient(),a=yle(e);a.set({isRoomsPending:!0,isRoomsPopulated:!1}),n.rooms().then(e=>{i(vle({rooms:e}))},e=>{C.a.warn("[Watch Together] Unable to fetch rooms:",e),a.set({roomsError:Object(Ze.default)("Unable to retrieve Watch Together rooms."),isRoomsPending:!1,isRoomsPopulated:!1})})},"watchTogetherRooms/roomsUpdated"(e,t,i){const n=yle(e),a=n.get("rooms");a.set(t.rooms,{parse:!0}),n.set({isRoomsPending:!1,isRoomsPopulated:!0});const s=n.get("session");if(s){const e=a.get(s.get("roomID"));if(e){const t=e.get("users");s.get("users").forEach(e=>{const i=t.get("user");!i||e.get("thumb")&&e.get("title")||e.set({thumb:e.get("thumb")||i.get("thumb"),title:e.get("title")||i.get("title")})})}}},"watchTogetherRooms/createRoom"(e,t,i){const n=yle(e),a=Object(wi.f)(e,t),s=a.get("sourceURI"),r=WP(a.toJSON()),{userIDs:o}=t,l=Object(ne.c)("watchTogetherRoomsManager").getRoomsClient();n.set({isInvitePending:!0,isInviteCompleted:!1,inviteError:null}),l.createRoom(s,r,o).then(e=>{Object(ne.c)("metrics").trackEvent({event:"watchtogether:created",interaction:!0,properties:{itemCount:o.length+1,playbackSessionId:e}});const t=n.get("rooms").get(e);n.set({isInvitePending:!1,isInviteCompleted:!0}),t.set({isMetadataItemPending:!1,isMetadataItemPopulated:!0,metadataItem:a}),n.get("session")||i(Qoe({watchTogetherRoomEntityID:t.entityID()}))}).catch(e=>{C.a.warn("[Watch Together] An error occurred while creating a room:",e),n.set({isInvitePending:!1,inviteError:Object(Ze.default)("Unable to send invite. Please try again.")})})},"watchTogetherRooms/inviteUsers"(e,t){const i=yle(e),n=Object(wi.p)(e,t),a=Object(ne.c)("watchTogetherRoomsManager").getRoomsClient();i.set({isInvitePending:!0,isInviteCompleted:!1,inviteError:null}),a.inviteUsers(n.get("id"),t.userIDs).then(()=>{i.set({isInvitePending:!1,isInviteCompleted:!0})}).catch(e=>{C.a.warn("[Watch Together] An error occurred while inviting users:",e),i.set({isInvitePending:!1,inviteError:Object(Ze.default)("Unable to send invite. Please try again.")})})},"watchTogetherRooms/resetCreateRoom"(e){yle(e).set({isInvitePending:!1,isInviteCompleted:!1,inviteError:null})},"watchTogetherRooms/populateMetadataItem"(e,t){const i=Object(wi.p)(e,t);if(i.get("isMetadataItemPopulated"))return;const n=i.get("sourceUri"),{metadataItemKey:a,serverIdentifier:s,providerIdentifier:r}=Object(sr.a)(n),o=Object(gs.a)({providerIdentifier:r,serverIdentifier:s}),l=function(e,t){const{metadataItemKey:i,providerIdentifier:n,serverIdentifier:a}=Object(sr.a)(t),s=e.get("entities").get(ht.g).findWhere(e=>{const t=null==e?void 0:e.get("model");return t&&t.server&&t.provider&&t.server.get("machineIdentifier")===a&&t.provider.get("identifier")===n&&t.get("key")===i});return null==s?void 0:s.get("model")}(e,n);let c;if(i.set({isMetadataItemPending:!0,metadataItemError:null}),l)c=Promise.resolve(l);else{const t=e.get("servers").findWhere({machineIdentifier:s}),i=(null==t?void 0:t.get("isCloud"))?Object(wi.o)(e):t;c=i?lle(Aoe(i.get("providers"),{identifier:r})).then(e=>{const i=new ut.a({key:a,source:o},{server:t,provider:e});return lle(koe(i)).then(()=>i)}):Promise.reject(new Error("Cannot populate from unknown server"))}c.then(e=>{const t=!e.get("key")&&jt.k(r,[jt.i])?{isMetadataItemPending:!1,isMetadataItemPopulated:!1,metadataItemError:Object(Ze.default)("This item is not available in your region.")}:{isMetadataItemPending:!1,isMetadataItemPopulated:!0,metadataItem:e};i.set(t)},e=>{const t=null==e?void 0:e.server,n=(null==t?void 0:t.get("isConnected"))||(null==t?void 0:t.get("isUnauthorized"))?Object(Ze.default)("You dont have access to this item. Ask the owner to share it with you."):Object(Ze.default)("The server is unreachable.");i.set({isMetadataItemPending:!1,isMetadataItemPopulated:!1,metadataItemError:n})})},"watchTogetherRooms/deleteRoom"(e,t){const i=Object(wi.p)(e,t);Object(ne.c)("watchTogetherRoomsManager").getRoomsClient().deleteRoom(i.get("id")).catch(e=>{C.a.warn("[Watch Together] An error occurred while deleting a room:",e)})}};var ble=i("tsFx"),Ile=i.n(ble);const{Fragment:Sle,useCallback:Cle,useEffect:Mle,useState:Dle}=Nd.a;var Ple=Vu()(Jh,{});var Ole=function(e){const{serverEntityID:t,metadataItemEntityID:i,watchTogetherRoomEntityID:n,users:a,isLoading:s,isInvitePending:r,isInviteCompleted:o,inviteError:l,onModalClose:c,dispatchCreateRoom:d,dispatchInviteUsers:u}=e,p=Dle([]),h=p[1],m=p[0],g=!$b(o)&&o&&!l;Mle(()=>{g&&c()},[g,c]);const v=Cle(e=>m.includes(e.id),[m]),y=Cle(e=>{const t=m.includes(e)?m.filter(t=>t!==e):[...m,e];h(t)},[m]),f=Cle(()=>{n?u({watchTogetherRoomEntityID:n,userIDs:m}):d({metadataItemEntityID:i,userIDs:m})},[i,n,m,d,u]),b=a.length>0;return Vu()(YL,{onModalClose:c},void 0,Vu()(zL,{},void 0,Object(Ze.default)("Watch Together")),l?Vu()(vV,{errorMessage:l}):null,Vu()(wL,{className:Ile.a.modalBody,scrollDirection:Zp},void 0,s?null:Vu()("div",{className:Ile.a.message},void 0,b?Object(Ze.default)("Invite friends to watch with you."):Vu()(vw,{message:Object(Ze.default)("Add friends in {openSpan}Users & Sharing{closeSpan} to watch together."),tags:[{open:"openSpan",close:"closeSpan",component:zp,kind:Pp,to:"#!/settings/users-sharing"}]})),s?Vu()("div",{className:Ile.a.spinnerContainer},void 0,Ple):null,!s&&b?Vu()(Sle,{},void 0,Vu()(GM,{},void 0,Object(Ze.default)("Users")),Vu()(EJ,{className:Ile.a.list,serverEntityID:t,users:a,isUserSelected:v,onUserSelect:y})):null),Vu()(AL,{className:Ile.a.modalFooter},void 0,Vu()(hw,{onPress:c},void 0,Object(Ze.default)("Cancel")),Vu()(hV,{kind:Pp,isDisabled:r||0===m.length,isSpinning:r,onPress:f},void 0,Object(Ze.default)("Invite"))))};const jle=Nd.a.createElement,{useEffect:wle}=Nd.a;const Tle={dispatchFetchAllFriends:wA,dispatchCreateRoom:dle,dispatchInviteUsers:ule,dispatchResetCreateRoom:ple};var Ele=Object(Hu.b)((function(){return Object(Wu.a)(e=>e.ui.watchTogether,Zu.a,uJ,rq,Object(Wu.a)((e,{watchTogetherRoomEntityID:t})=>t,Toe,(e,t)=>t[e]),(e,t,i,n,a)=>({users:i.reduce((e,t)=>{const i=n[t];return(!a||!a.users.find(e=>e.id===i.id))&&e.push(i),e},[]),isLoading:t.isAllFriendsPending,isInvitePending:e.isInvitePending,isInviteCompleted:e.isInviteCompleted,inviteError:e.inviteError}))}),Tle)((function(e){const{dispatchFetchAllFriends:t,dispatchResetCreateRoom:i}=e,n=Xe()(e,["dispatchFetchAllFriends","dispatchResetCreateRoom"]);return wle(()=>{Object(Ti.a)(()=>{t()})},[t]),wle(()=>i,[i]),jle(Ole,n)}));var Nle=function(e){const{serverEntityID:t,metadataItemEntityID:i,watchTogetherRoomEntityID:n,metricsProperties:a,isOpen:s,onModalClose:r}=e;return Vu()(Fw,{metricsPage:zd.Ab,metricsProperties:a,isOpen:s,onModalClose:r},void 0,Vu()(Ele,{serverEntityID:t,metadataItemEntityID:i,watchTogetherRoomEntityID:n,onModalClose:r}))};const xle=Object(Pi.a)("ui/initAddToPlaylistMenu"),Ale=Object(Pi.a)("ui/clearAddToPlaylistMenu"),Lle=Object(Pi.a)("ui/addToExistingPlaylist");function kle(e){return e.get("ui").get("addToPlaylistMenu")}const Rle=Sk({"ui/initAddToPlaylistMenu"(e,t){const i=kle(e),n=Object(wi.r)(e,t),a=Object(wi.s)(e,t),s=e.get("ui").get("multiSelect"),r=Object(wi.m)(e,t),o=Object(wi.j)(e,t),l=n?Object(wi.j)(e,{providerEntityID:n.get("providerEntityID")}):o,{containerKey:c,uri:d}=Pre({providerModel:o,itemProviderModel:l,metadataItemModel:n,metadataListModel:a,multiSelectModel:s,recent:!0}),u=new Gn.default({containerKey:c},{server:r,provider:o});i.set({recentPlaylists:u,uri:d})},"ui/clearAddToPlaylistMenu"(e){kle(e).restoreDefaults()},"ui/addToExistingPlaylist"(e,t){const i=kle(e),n=Object(wi.j)(e,t),a=i.get("uri"),{playlistID:s}=t,r={playlistID:s,providerModel:n,uri:a};Object(gT.a)(e,wt.a)&&(r.includeExternalMedia=!0),Ore(r)}});var zle=i("jD54"),Ule=i.n(zle);function Vle(e){const{className:t,children:i}=e;return Vu()("div",{className:t},void 0,i)}Vle.defaultProps={className:Ule.a.menuHeader};var Ble=Vle,Fle=i("Lu/9"),Hle=i.n(Fle);const{useCallback:_le}=Nd.a;var Wle=function(e){const{ratingKey:t,title:i,onPress:n}=e,a=_le(()=>n(t),[n,t]);return Vu()(Zv,{className:Hle.a.item,onPress:a},void 0,i)};const Qle=Object(Wu.a)($K(),({ratingKey:e,title:t})=>({ratingKey:e,title:t}));var Gle=Object(Hu.b)(Qle)(Wle);const{Fragment:Kle}=Nd.a;var Yle=Vu()(Q$,{});function qle(e){const{metadataItemEntityIDs:t,showTopSeparator:i,header:n,onItemPress:a}=e;return t.length?Vu()(Kle,{},void 0,i&&t.length?Yle:null,n?Vu()(Ble,{},void 0,n):null,t.map(e=>Vu()(Gle,{metadataItemEntityID:e,onPress:a},e))):null}qle.defaultProps={showTopSeparator:!0};var Zle=qle;const{Fragment:Jle,useEffect:Xle}=Nd.a;const $le=Object(Wu.a)(e=>e.ui.addToPlaylistMenu.recentPlaylists,e=>({recentPlaylists:e}));var ece=Object(Hu.b)($le,(function(e,t){const{serverEntityID:i,providerEntityID:n,metadataItemEntityID:a,metadataListEntityID:s}=t;return{onInitMenu(){e(xle({serverEntityID:i,providerEntityID:n,metadataItemEntityID:a,metadataListEntityID:s}))},onClearMenu(){e(Ale())},onAddToExistingPlaylistPress(t){e(Lle({providerEntityID:n,playlistID:t}))}}}))((function(e){const{showAddToPlaylist:t,showAddToSmartPlaylist:i,recentPlaylists:n,customFilterRoute:a,onAddToPlaylistPress:s,onAddToSmartPlaylistPress:r,onAddToExistingPlaylistPress:o,onInitMenu:l,onClearMenu:c,onMenuClose:d}=e;Xle(()=>(l(),c),[c,l]);const u=!!a;return Vu()(Jle,{},void 0,t?Vu()(Zv,{onPress:s},void 0,Object(Ze.default)("Add to Playlist...")):null,i?Vu()(Zv,{onPress:r},void 0,Object(Ze.default)("Save as Smart Playlist...")):null,u?Vu()(Zv,{to:a},void 0,Object(Ze.default)("Create Smart Playlist")):null,n?Vu()(_re,{metadataListEntityID:n,component:Zle,initialSize:3,showTopSeparator:t||u,header:Object(Ze.default)("Add to..."),onItemPress:Cb(o,d)}):null)}));const tce=Nd.a.createElement;var ice=function(e){const{onMenuClose:t}=e;return Vu()(Bse,{label:Object(Ze.default)("Add to Playlist"),onMenuClose:t},void 0,tce(ece,e))};i("3+5O");const{Fragment:nce}=Nd.a;var ace=function(e){const{metadataItem:t,onMenuClose:i}=e,n=cy(),a=t.downloadUrl?t.downloadUrl():null,s=a&&!0;return Vu()(nce,{},void 0,Vu()(Zv,{to:a,target:a?n:null,download:s,onPress:t.downloadUrl?i:Cb(e.onDownloadVersionPress,i)},void 0,Object(Ze.default)("Download File")),null)};const sce=Nd.a.createElement;var rce=function(e){const{label:t}=e,i=Xe()(e,["hasDownloadState","hasOfflineFile","hasOwnSubscription","label","progress"]);return sce(Zv,i,t)};const{Fragment:oce,useCallback:lce}=Nd.a,cce=["showPlay","showPlayVersion","showPlayAll","showShuffle","showQueue","showPlayPlexMix","showQueuePlexMix","showPlayTrailer","showPlayMusicVideo","showWatchTogether","showAddToPlaylist","showAddToLibrary"],dce=["showEdit","showMarkPlayed","showMarkUnplayed","showModifySmartPlaylist","showSettings","showRefresh","showAnalyze","showFixMatch","showMatch","showUnmatch","showSplitApart","showSync","showSyncDownload","showOptimize","showDownload","showShare","showDelete","showDeleteVersion","showViewPlayHistory","showGetInfo"];function uce(e,t){return!!I.a.find(e,e=>t[e])}var pce=Vu()(Q$,{});function hce(e){const{target:t,isOpen:i,metadataItem:n,metadataItemEntityID:a,metricsPage:s,providerEntityID:r,serverEntityID:o,onPlayVersionPress:l,onCancelDownloadActivity:c,onDeleteDownloadSubscription:d,onCreateDownloadSubscription:u,onMenuClose:p}=e,h=Y9(e.onMarkPlayedConfirm),m=Y9(e.onMarkUnplayedConfirm),g=Y9(),v=Y9(),y=Y9(),f=Y9(),b=Y9(),I=wse({metadataItemEntityID:a,metricsPage:s,providerEntityID:r,serverEntityID:o,onCancelDownloadActivity:c,onCreateDownloadSubscription:u,onDeleteDownloadSubscription:d}),S=lce(e=>{l(e),g.onClose()},[l,g]),C=!!n.metadataState,M=!!n.mediaState,D=uce(cce,e),P=uce(dce,e),O=D&&P;return Vu()(oce,{},void 0,Vu()(Qv,{target:t,isOpen:i,onMenuClose:p},void 0,e.showPlay?Vu()(Zv,{onPress:Cb(e.onPlayPress,p)},void 0,Object(Ze.default)("Play")):null,e.showPlayVersion?Vu()(Zv,{onPress:Cb(g.onOpen,p)},void 0,Object(Ze.default)("Play Version...")):null,e.showPlayAll?Vu()(Zv,{onPress:Cb(e.onPlayAllPress,p)},void 0,Object(Ze.default)("Play All")):null,e.showShuffle?Vu()(Zv,{onPress:Cb(e.onShufflePress,p)},void 0,Object(Ze.default)("Shuffle")):null,e.showPlayRadio?Vu()(Zv,{onPress:Cb(e.onPlayRadioPress,p)},void 0,Object(Ze.default)("Play Radio")):null,e.showPlayArtistTV?Vu()(Zv,{onPress:Cb(e.onPlayArtistTVPress,p)},void 0,Object(Ze.default)("Play Artist TV")):null,e.showWatchTogether?Vu()(Zv,{onPress:Cb(v.onOpen,p)},void 0,Object(Ze.default)("Watch Together...")):null,e.showQueue?Vu()(Zv,{onPress:Cb(e.onPlayNextPress,p)},void 0,Object(Ze.default)("Play Next")):null,e.showQueue?Vu()(Zv,{onPress:Cb(e.onAddToQueuePress,p)},void 0,Object(Ze.default)("Add to Queue")):null,e.showPlayPlexMix?Vu()(Zv,{onPress:Cb(e.onPlayPlexMixPress,p)},void 0,Object(Ze.default)("Play Plex Mix")):null,e.showQueuePlexMix?Vu()(Zv,{onPress:Cb(e.onQueuePlexMixPress,p)},void 0,Object(Ze.default)("Queue Plex Mix")):null,e.showPlayTrailer?Vu()(Zv,{onPress:Cb(e.onPlayPrimaryExtraPress,p)},void 0,Object(Ze.default)("Play Trailer")):null,e.showPlayMusicVideo?Vu()(Zv,{onPress:Cb(e.onPlayPrimaryExtraPress,p)},void 0,Object(Ze.default)("Play Music Video")):null,e.showAddToWatchlist?Vu()(Zv,{onPress:Cb(e.onAddToWatchlistPress,p)},void 0,n.watchlistedAt?Object(Ze.default)("Remove from Watchlist"):Object(Ze.default)("Add to Watchlist")):null,e.showAddToPlaylist?Vu()(ice,{serverEntityID:o,providerEntityID:r,metadataItemEntityID:a,showAddToPlaylist:!0,onAddToPlaylistPress:Cb(f.onOpen,p),onMenuClose:p}):null,e.showAddToSaved?Vu()(Zv,{onPress:Cb(e.onAddToSavedPress,p)},void 0,(j=n.saved,w=e.providerIdentifier,n.subtype===LC.c?j?Object(Ze.default)("Remove from My Podcasts"):Object(Ze.default)("Add to My Podcasts"):jt.k(w,jt.f)?j?Object(Ze.default)("Remove from My TIDAL"):Object(Ze.default)("Add to My TIDAL"):j?Object(Ze.default)("Remove from My Shows"):Object(Ze.default)("Add to My Shows"))):null,e.showAddToPicks?Vu()(Zv,{onPress:Cb(e.onAddToPicksPress,p)},void 0,n.picked?Object(Ze.default)("Remove from Plex Picks"):Object(Ze.default)("Add to Plex Picks")):null,e.showAddToLibrary?Vu()(Yse,{serverEntityID:o,providerEntityID:r,metadataItemEntityID:a,onMenuClose:e.onMenuClose}):null,O?pce:null,e.showEdit?Vu()(Zv,{onPress:Cb(e.onEditPress,p)},void 0,Object(Ze.default)("Edit")):null,e.showModifySmartPlaylist?Vu()(Zv,{onPress:Cb(e.onModifySmartPlaylistPress,p)},void 0,Object(Ze.default)("Edit Filters")):null,e.showSettings?Vu()(Zv,{onPress:Cb(y.onOpen,p)},void 0,Object(Ze.default)("Settings")):null,e.showMarkPlayed?Vu()(Zv,{onPress:Cb(h.onOpen,p)},void 0,Object(Ze.default)("Mark as Played")):null,e.showMarkUnplayed?Vu()(Zv,{onPress:Cb(m.onOpen,p)},void 0,Object(Ze.default)("Mark as Unplayed")):null,e.showRefresh?Vu()(Zv,{isDisabled:C,onPress:Cb(e.onRefreshPress,p)},void 0,Object(Ze.default)("Refresh Metadata")):null,e.showAnalyze?Vu()(Zv,{isDisabled:M,onPress:Cb(e.onAnalyzePress,p)},void 0,Object(Ze.default)("Analyze")):null,e.showFixMatch?Vu()(Zv,{onPress:Cb(e.onFixMatchPress,p)},void 0,Object(Ze.default)("Fix Match...")):null,e.showMatch?Vu()(Zv,{onPress:Cb(e.onFixMatchPress,p)},void 0,Object(Ze.default)("Match...")):null,e.showUnmatch?Vu()(Zv,{onPress:Cb(e.onUnmatchPress,p)},void 0,Object(Ze.default)("Unmatch")):null,e.showSplitApart?Vu()(Zv,{onPress:Cb(e.onSplitApartPress,p)},void 0,Object(Ze.default)("Split Apart")):null,e.showSync?Vu()(Zv,{onPress:Cb(e.onSyncPress,p)},void 0,Object(Ze.default)("Sync...")):null,e.showSyncDownload?Vu()(Ese,{component:rce,metadataItemEntityID:a,providerEntityID:r,serverEntityID:o,onPress:Cb(I.onPress,p)}):null,e.showOptimize?Vu()(Zv,{onPress:Cb(e.onOptimizePress,p)},void 0,Object(Ze.default)("Optimize...")):null,e.showDownload?Vu()(BL,{action:Rd.u},void 0,Vu()(ace,{metadataItem:n,onMenuClose:p,onDownloadVersionPress:e.onDownloadVersionPress})):null,e.showShare?Vu()(BL,{action:Rd.fb},void 0,Vu()(Zv,{onPress:Cb(b.onOpen,p)},void 0,Object(Ze.default)("Share"))):null,e.showDelete?Vu()(Zv,{kind:n.remoteMedia?void 0:Op,onPress:Cb(e.onDeletePress,p)},void 0,n.remoteMedia?Object(Ze.default)("Remove"):Object(Ze.default)("Delete")):null,e.showDeleteVersion?Vu()(Zv,{kind:Op,onPress:Cb(e.onDeleteVersionPress,p)},void 0,Object(Ze.default)("Delete Version")):null,e.showViewPlayHistory?Vu()(Zv,{to:QP(e.machineIdentifier,n)},void 0,Object(Ze.default)("View Play History")):null,e.showGetInfo?Vu()(Zv,{onPress:Cb(e.onGetInfoPress,p)},void 0,Object(Ze.default)("Get Info")):null),e.showMarkPlayed||e.showMarkUnplayed?Vu()($se,{isOpen:h.isOpen||m.isOpen,type:n.type,subtype:n.subtype,title:n.title,leafCount:h.isOpen?n.unviewedLeafCount:n.viewedLeafCount,markUnplayed:m.isOpen,onConfirm:h.isOpen?h.onConfirm:m.onConfirm,onCancel:h.isOpen?h.onClose:m.onClose}):null,e.showAddToPlaylist?Vu()(woe,{isOpen:f.isOpen,serverEntityID:o,providerEntityID:r,metadataItemEntityID:a,onModalClose:f.onClose}):null,e.showSyncDownload?Vu()(xse,{isOpen:I.isOpen,state:I.state,onConfirm:I.onConfirm,onClose:I.onClose}):null,Vu()(hre,{isOpen:g.isOpen,mediaItems:n.Media,onCancel:g.onClose,onItemSelect:S}),Vu()(Sre,{serverEntityID:o,providerEntityID:r,metadataItemEntityID:a,isOpen:y.isOpen,onModalClose:y.onClose}),e.showWatchTogether?Vu()(Nle,{metricsProperties:{context:e.metricsContext,page:s},serverEntityID:o,metadataItemEntityID:a,isOpen:v.isOpen,onModalClose:v.onClose}):null,e.showShare?Vu()(YJ,{metricsProperties:{context:e.metricsContext,page:s},serverEntityID:o,metadataItemEntityID:a,isOpen:b.isOpen,onModalClose:b.onClose}):null);var j,w}hce.defaultProps={allowRedirectOnDelete:!1};var mce=hce;var gce=Object(Hu.b)(Lae)(kK((function(){return Object(Wu.a)($S,xae,lse,$K(),ose(),(e,t,i,n,a)=>Object.assign({metadataItem:n,machineIdentifier:e.machineIdentifier,providerIdentifier:t.identifier,embeddedServerEntityID:i},a))}),(function(e,t){const i={serverEntityID:t.serverEntityID,providerEntityID:t.providerEntityID,itemServerEntityID:t.itemServerEntityID,itemProviderEntityID:t.itemProviderEntityID,metadataItemEntityID:t.metadataItemEntityID,metricsPage:t.metricsPage,metricsProperties:{context:t.metricsContext}};return{onPlayPress(){e(xT.x(Object.assign({},i,{options:{containerKey:t.containerKey,listType:t.listType}})))},onPlayVersionPress(n){e(xT.x(Object.assign({},i,{startMediaIndex:n,options:{containerKey:t.containerKey,listType:t.listType}})))},onPlayAllPress(){e(xT.w(i))},onShufflePress(){e(xT.B(i))},onPlayNextPress(){e(xT.r(Object.assign({},i,{options:{playAll:!0,next:!0}})))},onAddToQueuePress(){e(xT.r(Object.assign({},i,{options:{playAll:!0,next:!1}})))},onPlayPlexMixPress(){e(xT.A(i))},onQueuePlexMixPress(){e(xT.s(i))},onPlayPrimaryExtraPress(){e(xT.y(i))},onPlayRadioPress(){e(xT.z(Object.assign({playlistType:Kt.a},i)))},onPlayArtistTVPress(){e(xT.z(Object.assign({playlistType:Kt.c},i)))},onAddToPicksPress(){e(Object(v7.q)(i))},onAddToSavedPress(){e(Object(v7.r)(i))},onAddToWatchlistPress(){e(Object(v7.s)(i))},onMarkPlayedConfirm(){e(fae(Object.assign({},i,{skipConfirm:!0})))},onMarkUnplayedConfirm(){e(yae(Object.assign({},i,{skipConfirm:!0})))},onEditPress(){e(tae(i))},onRefreshPress(){e(oae(i))},onModifySmartPlaylistPress(){e(Dae(i))},onAnalyzePress(){e(Jne(i))},onFixMatchPress(){e(iae(i))},onUnmatchPress(){e(dae(i))},onSplitApartPress(){e(lae(i))},onSyncPress(){e(cae(i))},onOptimizePress(){e(sae(i))},onDownloadVersionPress(){e(eae(i))},onDeletePress(){e(Xne(Object.assign({},i,{options:{skipRedirect:!t.allowRedirectOnDelete}})))},onDeleteVersionPress(){e($ne(i))},onGetInfoPress(){e(nae(i))},onCancelDownloadActivity(){e(kae(i))},onDeleteDownloadSubscription(){e(zae(i))},onCreateDownloadSubscription(){e(Rae(i))}}}),Nae)(mce));const vce=Nd.a.createElement,{Component:yce}=Nd.a;var fce=class extends yce{constructor(e,t){super(e,t),this._moreButtonID=void 0,this.onActionsPress=e=>{this.setState({hasBeenOpened:!0},()=>{this.props.onMenuOpenChange(!this.props.isMenuOpen)})},this.onActionsMenuClose=()=>{this.props.onMenuOpenChange(!1)},this._moreButtonID=Mp(),this.state={hasBeenOpened:!1}}render(){const e=this.props,{"data-qa-id":t,className:i,iconClassName:n,tabIndex:a,serverEntityID:s,providerEntityID:r,metadataItemEntityID:o,containerKey:l,listType:c,isMenuOpen:d}=e,u=Xe()(e,["data-qa-id","className","iconClassName","tabIndex","serverEntityID","providerEntityID","metadataItemEntityID","containerKey","listType","isMenuOpen","onMenuOpenChange"]);return Vu()(zp,{"data-qa-id":t,id:this._moreButtonID,className:i,tabIndex:a,"aria-label":Object(Ze.default)("More Actions"),"aria-haspopup":!0,onPress:this.onActionsPress},void 0,Vu()(tX,{className:n}),this.state.hasBeenOpened?vce(gce,tp()({serverEntityID:s,providerEntityID:r,metadataItemEntityID:o,containerKey:l,listType:c,target:this._moreButtonID,isOpen:d,onMenuClose:this.onActionsMenuClose},u)):null)}};var bce=function({className:e,tabIndex:t,title:i,route:n}){return i?n?Vu()(zp,{className:e,"data-qa-id":"metadataTitleLink",tabIndex:t,title:i,to:n},void 0,i):Vu()("span",{className:e,title:i},void 0,i):null};var Ice=function({className:e,tabIndex:t,grandparentTitle:i,grandparentRoute:n}){return Vu()(bce,{className:e,tabIndex:t,title:i,route:n})};var Sce=kK((function(){return Object(Wu.a)((e,{metricsContext:t})=>t,Aae,xae,$K(),(e,t,i,n={})=>{const a={};return e&&(a.context=e),{grandparentTitle:n.grandparentTitle,grandparentRoute:cu(t,i,n.grandparentKey,a)}})}))(Ice);var Cce=function({className:e,tabIndex:t,parentTitle:i,parentRoute:n}){return Vu()(bce,{className:e,tabIndex:t,title:i,route:n})};var Mce=kK((function(){return Object(Wu.a)((e,{metricsContext:t})=>t,Aae,xae,$K(),(e,t,i,n={})=>{const a={};return e&&(a.context=e),{parentTitle:n.parentTitle,parentRoute:cu(t,i,n.parentKey,a)}})}))(Cce);const{Component:Dce}=Nd.a;function Pce(e,t){const i=Math.abs(Date.now()-1e3*e);return i<36e5?window.setTimeout(t,6e4):i<864e5?window.setTimeout(t,36e5):void 0}var Oce=class extends Dce{constructor(e,t){super(e,t),this.timeoutID=void 0,this.trackTime=()=>{const{timestamp:e}=this.props,t=Bj(e);this.setState({title:t}),this.timeoutID=Pce(e,this.trackTime)};const{timestamp:i}=this.props,n=Bj(i);this.state={title:n},this.timeoutID=Pce(i,this.trackTime)}componentWillReceiveProps(e){if(e.timestamp!==this.props.timestamp){const t=Bj(e.timestamp);this.setState({title:t})}}componentWillUnmount(){this.timeoutID&&(this.timeoutID=window.clearTimeout(this.timeoutID))}render(){const{className:e}=this.props,{title:t}=this.state;return Vu()("span",{className:e},void 0,t)}};var jce=function({className:e,addedAt:t,title:i,route:n}){return t||i?Vu()("span",{className:e},void 0,Vu()(Oce,{timestamp:t}),t&&i?"  ":null,Vu()(bce,{title:i,route:n})):null};var wce=Object(Hu.b)((function(){return Object(Wu.a)($K(),(e={})=>{const{addedAt:t,Channel:i}=e;return{addedAt:t,title:i&&i[0]&&i[0].tag}})}))(jce);var Tce=function({className:e,leafCount:t}){let i;return null!=t&&(i=1===t?Object(Ze.default)("{trackCount} track",{trackCount:t}):Object(Ze.default)("{trackCount} tracks",{trackCount:t})),Vu()("span",{className:e},void 0,i)};var Ece=function({className:e,skipChildren:t,childCount:i,leafCount:n}){if(t)return Vu()(Tce,{className:e,leafCount:n});let a;return null!=i&&(a=1===i?Object(Ze.default)("{albumCount} album",{albumCount:i}):Object(Ze.default)("{albumCount} albums",{albumCount:i})),Vu()("span",{className:e},void 0,a)};var Nce=Object(Hu.b)((function(){return Object(Wu.a)($K(),(e={})=>({skipChildren:e.skipChildren,childCount:e.childCount,leafCount:e.leafCount}))}))(Ece);var xce=function({className:e,childCount:t,subtype:i}){let n;if(null!=t){const e=1===t,a={itemCount:t};n=i===Qt.j?e?Object(Ze.default)("{itemCount} movie",a):Object(Ze.default)("{itemCount} movies",a):i===Qt.o?e?Object(Ze.default)("{itemCount} show",a):Object(Ze.default)("{itemCount} shows",a):e?Object(Ze.default)("{itemCount} item",a):Object(Ze.default)("{itemCount} items",a)}return Vu()("span",{className:e},void 0,n)};var Ace=Object(Hu.b)((function(){return Object(Wu.a)($K(),(e={})=>({childCount:e.childCount,subtype:e.subtype}))}))(xce);var Lce=function({className:e,title:t}){return Vu()("span",{className:e,title:t},void 0,t)};var kce=Object(Hu.b)((function(){return Object(Wu.a)($K(),(e={})=>({title:e.title}))}))(Lce),Rce=i("repV");var zce=function({className:e,date:t}){return t?Vu()("span",{className:e},void 0,Object(Rce.default)(t)):null};var Uce=function({className:e,addedAt:t}){return t?Vu()(zce,{className:e,date:1e3*t}):null};var Vce=Object(Hu.b)((function(){return Object(Wu.a)($K(),(e={})=>({addedAt:e.addedAt}))}))(Uce);var Bce=function({className:e,leafCount:t}){let i;return null!=t&&(i=1===t?Object(Ze.default)("{itemCount} item",{itemCount:t}):Object(Ze.default)("{itemCount} items",{itemCount:t})),Vu()("span",{className:e},void 0,i)};var Fce=Object(Hu.b)((function(){return Object(Wu.a)($K(),(e={})=>({leafCount:e.leafCount}))}))(Bce);var Hce=function({className:e,leafCount:t}){let i;return null!=t&&(i=1===t?Object(Ze.default)("{episodeCount} episode",{episodeCount:t}):Object(Ze.default)("{episodeCount} episodes",{episodeCount:t})),Vu()("span",{className:e},void 0,i)};var _ce=function({className:e,skipChildren:t,childCount:i,leafCount:n}){if(t)return Vu()(Hce,{className:e,leafCount:n});if(!i)return null;const a=1===i?Object(Ze.default)("{seasonCount} season",{seasonCount:i}):Object(Ze.default)("{seasonCount} seasons",{seasonCount:i});return Vu()("span",{className:e},void 0,a)};var Wce=Object(Hu.b)((function(){return Object(Wu.a)($K(),(e={})=>({skipChildren:e.skipChildren,childCount:e.childCount,leafCount:e.leafCount}))}))(_ce),Qce=Vu()(tf,{});var Gce=function({className:e,tabIndex:t,skipParent:i,skipGrandparent:n,parentTitle:a,parentRoute:s,grandparentTitle:r,grandparentRoute:o}){return Vu()("span",{className:e},void 0,n?null:Vu()(bce,{tabIndex:t,title:r,route:o}),!a||i||n?null:Qce,i?null:Vu()(bce,{tabIndex:t,title:a,route:s}))};var Kce=kK((function(){return Object(Wu.a)((e,{metricsContext:t})=>t,(e,{skipGrandparent:t})=>t,Aae,xae,$K(),(e,t,i,n,a={})=>{const s={};return e&&(s.context=e),{skipParent:a.skipParent,skipGrandparent:t,parentTitle:a.parentTitle,parentRoute:cu(i,n,a.parentKey,s),grandparentTitle:a.originalTitle||a.grandparentTitle,grandparentRoute:cu(i,n,a.grandparentKey,s)}})}))(Gce);var Yce=function({className:e,year:t}){return Vu()("span",{className:e,"data-qa-id":"metadataYear"},void 0,t)};var qce=Object(Hu.b)((function(){return Object(Wu.a)($K(),(e={})=>({year:e.year}))}))(Yce),Zce=Vu()("path",{d:"M216 170l190.5 110L216 390z"});var Jce=function(e){return Vu()("svg",{className:e.className,viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg"},void 0,Zce)},Xce=i("Qc4C"),$ce=i.n(Xce);const ede=Nd.a.createElement;function tde(e){const{className:t,circleClassName:i,title:n}=e,a=Xe()(e,["className","circleClassName","title"]);return ede(zp,tp()({className:t,"aria-label":Object(Ze.default)("Play {title}",{title:n})},a),Vu()(Jce,{className:i}))}tde.defaultProps={className:$ce.a.playButton,circleClassName:$ce.a.playCircle};var ide=tde,nde=i("yfwS"),ade=i.n(nde);function sde(e){const{circleClassName:t,iconClassName:i}=e;return Vu()("div",{className:t},void 0,Vu()("span",{className:i}))}sde.defaultProps={circleClassName:ade.a.recordCircle,iconClassName:ade.a.recordIcon};var rde=sde,ode=i("Y/9r"),lde=i.n(ode);const cde=Nd.a.createElement;function dde(e){let{className:t,circleClassName:i,iconClassName:n,title:a}=e,s=Xe()(e,["className","circleClassName","iconClassName","title"]);return cde(zp,tp()({className:t,"aria-label":Object(Ze.default)("Record {title}",{title:a})},s),Vu()(rde,{circleClassName:i,iconClassName:n}))}dde.defaultProps={className:lde.a.recordButton};var ude=dde,pde=i("k+R5"),hde=i.n(pde);function mde(e){const{className:t,playButtonClassName:i,playCircleClassName:n,serverEntityID:a,providerEntityID:s,imageWidth:r,imageHeight:o,imageUrl:l,title:c,isLiveTVItem:d,recordLink:u,onRecordPress:p,onPlayPress:h}=e;return Vu()(noe,{className:t,serverEntityID:a,providerEntityID:s,component:AC,width:r,height:o,url:l},void 0,d?Vu()(ude,{className:hde.a.recordButton,"data-qa-id":"metadataPosterRecordButton",circleClassName:hde.a.recordCircle,tabIndex:"-1",title:c,to:u,onPress:p}):Vu()(ide,{className:i,"data-qa-id":"metadataPosterPlayButton",circleClassName:n,tabIndex:"-1",title:c,onPress:h}))}mde.defaultProps={className:hde.a.card,playButtonClassName:hde.a.playButton,playCircleClassName:hde.a.playCircle,isLiveTVItem:!1};var gde=mde,vde=i("a88H"),yde=i.n(vde);const fde=Nd.a.createElement;function bde(e){return fde(gde,e)}bde.defaultProps={className:yde.a.card};var Ide=bde,Sde=i("EBCF"),Cde=i.n(Sde);const Mde=Nd.a.createElement;function Dde(e){let{className:t,name:i,width:n,height:a}=e,s=Xe()(e,["className","name","width","height"]);const r=i.toUpperCase().split(" "),o=r[0].charAt(0),l=r[r.length-1].charAt(0),c=r.length>1?""+o+l:i.charAt(0),d={fontSize:Math.max(14,Math.min(Math.round(n/4),42)),lineHeight:a+"px"};return Mde("div",tp()({style:d,className:(t||"")+" "+(Cde.a.anagram||"")},s),c)}Dde.defaultProps={width:13,height:13};var Pde=Dde;var Ode=function(e){const{serverEntityID:t,providerEntityID:i,isOffscreen:n,tagType:a,librarySectionType:s,title:r,url:o,width:l,height:c,transitionProps:d,onLoad:u,onError:p}=e;if(n)return null;if(o)return Vu()(cC,{serverEntityID:t,providerEntityID:i,url:o,width:l,height:c,transitionProps:d,backgroundPosition:"center center",onLoad:u,onError:p});const h=yte.get(a);if(h&&h.isPerson)return Vu()(Pde,{name:r,width:l,height:c});const m=zQ.g.get(s),g=function(e){switch(e){case"artist":return"track";default:return e}}(m&&m.typeString);return Vu()(xC,{type:g,width:l,height:c})},jde=i("QZNe"),wde=i.n(jde);const Tde=Nd.a.createElement;function Ede(e){const{className:t,imageWidth:i,imageHeight:n,imageUrl:a,tag:s,tagType:r}=e,o=Xe()(e,["className","imageWidth","imageHeight","imageUrl","tag","tagType"]),l=yte.get(r),c=!!l&&l.isPerson;return Tde(noe,tp()({key:s,className:(t||"")+" "+(c&&wde.a.isPerson||""),component:Ode,width:i,height:n,url:a,tagType:r},o))}Ede.defaultProps={className:wde.a.card};var Nde=Ede,xde=i("r+/Q"),Ade=i.n(xde);const Lde=Nd.a.createElement;var kde=function(e){return Lde(Nde,tp()({className:Ade.a.card},e))},Rde=i("1H5i"),zde=i.n(Rde);const Ude=Nd.a.createElement;var Vde=function(e){const{className:t,component:i,isSecondary:n}=e,a=Xe()(e,["className","component","isSecondary"]);return Vu()("div",{className:(t||"")+" "+(zde.a.title||"")+" "+(n&&zde.a.isSecondary||"")},void 0,Ude(i,tp()({tabIndex:"-1"},a)))};var Bde=function(e){const{className:t,server:i,provider:n,sourceDirectory:a,originalTitle:s,reason:r,reasonID:o,reasonTitle:l,filter:c,onPress:d}=e;if(!r)return null;if("originalTitle"===r)return Vu()("span",{className:t},void 0,s);if(!l)return null;const u={};("actor"===r||"director"===r)&&(u.filters=c||r+"="+o,u.filterLabel=l);const p=fte(i,n,a,u),h={director:Object(Ze.default)("by"),actor:Object(Ze.default)("with"),section:Object(Ze.default)("in"),autotag:Object(Ze.default)("tagged"),place:Object(Ze.default)("in")};return p?Vu()("span",{className:t},void 0,h[r]," ",Vu()(zp,{title:l,tabIndex:"-1",to:p,onPress:d},void 0,l)):Vu()("span",{className:t},void 0,h[r]+" "+l)};var Fde=Object(Hu.b)((function(){return Object(Wu.a)($S,ZS,hie(),$K(),(e,t,i={},n)=>{const a=n||i.tagItem;return{server:e,provider:t,sourceDirectory:mie(t,a.librarySectionID),reasonID:i.reasonID,reason:i.reason,reasonTitle:i.reasonTitle,originalTitle:a.originalTitle,filter:a.filter,librarySectionType:a.librarySectionType}})}))(Bde);var Hde=function({className:e,tag:t}){return Vu()("span",{className:e},void 0,t)};const _de=Nd.a.createElement;var Wde=Object(Hu.b)((function(){return Object(Wu.a)(hie(),(e={})=>({tag:e.tagItem&&e.tagItem.tag}))}))((function(e){return _de(Hde,e)})),Qde=i("wRTI"),Gde=i.n(Qde);const{Component:Kde}=Nd.a;function Yde(e,t,i){return i?function(e,t){switch(t){case"news":switch(e){case"clip":return[kce,wce]}}switch(e){case"movie":return[kce,qce];case"show":return[kce,Wce];case"episode":return[kce,Sce];case"artist":return[kce,Nce];case"album":return[kce,Mce];case"track":return[kce,Kce];case"photo":case"photoalbum":case"clip":return[kce,Vce];case"playlist":return[kce,Fce];case"collection":return[kce,Ace];default:return[kce,Fde]}}(e,t):[Wde,Fde]}class qde extends Kde{constructor(e){super(e),this.onItemPress=e=>{e.stopPropagation(),this.state.isActionsMenuOpen&&this.props.onLinkPress()},this.onItemFocus=e=>{this.props.onResultFocus(this.props.searchResultEntityID)},this.onPlayPress=e=>{e.stopPropagation(),this.props.onPlayPress(this.props.searchResultEntityID)},this.onLinkPress=e=>{e.stopPropagation(),this.props.onLinkPress()},this.onActionsMenuOpenChange=e=>{this.setState({isActionsMenuOpen:e})},this.state={isActionsMenuOpen:!1}}shouldComponentUpdate(e,t){return Tp(this,e,t)}componentWillUpdate(e,t){if(e.isSelected!==this.props.isSelected&&e.isSelected){const e=Fu.a.findDOMNode(this);this.props.onScrollIntoView({scrollTop:e.offsetTop})}}render(){const{serverEntityID:e,providerEntityID:t,searchResultEntityID:i,metadataItemEntityID:n,server:a,provider:s,isSelected:r,isMetadataItem:o,imageWidth:l,imageHeight:c,imageUrl:d,resultRoute:u,metadataKey:p,metadataTitle:h,metadataType:m,metadataSubtype:g,tag:v,tagTypeString:y,librarySectionType:f,reasonTitle:b}=this.props,{isActionsMenuOpen:I}=this.state,S=o?m:y,C=o?g:null,M=s.protocols.livetv;return Vu()(zp,{component:"div","data-qa-id":"quickSearchItemButton",className:(Gde.a.button||"")+" "+((r||I)&&Gde.a.selected||""),onPress:this.onItemPress,onFocus:this.onItemFocus},void 0,Vu()(zp,{className:Gde.a.underlay,"data-qa-id":"quickSearchItemLink",tabIndex:"1",title:o?h:v,to:u,onPress:u?this.onLinkPress:this.onPlayPress}),Vu()("div",{className:Gde.a.overlay},void 0,Vu()("div",{className:Gde.a.imageContainer},void 0,o?Vu()(Ide,{serverEntityID:e,providerEntityID:t,imageWidth:l,imageHeight:c,imageUrl:d,title:h,type:m,isLiveTVItem:M,recordLink:cu(a,s,p,{record:1}),onRecordPress:this.onLinkPress,onPlayPress:this.onPlayPress}):Vu()(kde,{serverEntityID:e,providerEntityID:t,imageWidth:l,imageHeight:c,imageUrl:d,title:v,tag:v,tagType:y,librarySectionType:f})),Vu()("div",{className:Gde.a.titles,"data-qa-id":"quickSearchTitleContainer"},void 0,Yde(S,C,o).map((a,s)=>{const r=s>0,o=r&&!!b;return Vu()(Vde,{className:r?null:Gde.a.title,serverEntityID:e,providerEntityID:t,searchResultEntityID:i,metadataItemEntityID:n,component:o?Fde:a,isSecondary:r,onPress:this.onLinkPress},s)})),o&&!M?Vu()(fce,{"data-qa-id":"quickSearchMoreButton",className:Gde.a.moreButton,iconClassName:Gde.a.moreIcon,tabIndex:"-1",serverEntityID:e,providerEntityID:t,metadataItemEntityID:n,showPlayTrailer:!1,showPlayPlexMix:!1,showQueuePlexMix:!1,showPlayMusicVideo:!1,showEdit:!1,showRefresh:!1,showAnalyze:!1,showFixMatch:!1,showMatch:!1,showUnmatch:!1,showSplitApart:!1,showSync:!1,showOptimize:!1,showDownload:!1,showDelete:!1,showDeleteVersion:!1,isMenuOpen:I,onMenuOpenChange:this.onActionsMenuOpenChange}):null))}}qde.defaultProps={isMetadataItem:!1};var Zde=qde;const Jde=Nd.a.createElement,{Component:Xde}=Nd.a;const $de=Object.assign({resetQuickSearch:Tte,selectQuickSearchResult:Ate,playQuickSearchResult:kte},c);var eue=Object(Hu.b)((function(){return Object(Wu.a)((e,{metricsContext:t})=>t,$S,ZS,hie(),$K(),(e,t,i,n={},a)=>{let s={server:t,provider:i,reasonID:n.reasonID,reasonTitle:n.reasonTitle};if(a){const n=Eae(kC(a.type,a.subtype)===1/1.5?28:36,null,a.type,a.subtype,a,"quickSearch"),r=mie(i,a.librarySectionKey);s=Object.assign({metadataKey:a.key,metadataTitle:a.title,metadataType:a.type,metadataSubtype:a.subtype,typeString:a.type,imageWidth:n.width,imageHeight:n.height,imageUrl:n.url,resultRoute:bte(t,i,a,{context:e},r)},s)}else{const a=n.tagItem||{},r=yte.get(a.tagType),o=r&&r.typeString,l=Eae(36,null,o,null,a,"quickSearch"),c=fte(t,i,mie(i,a.librarySectionID),{filters:a.filter?a.filter:o+"="+a.id,filterLabel:a.tag,context:e});s=Object.assign({tag:a.tag,tagType:a.tagType,tagTypeString:o,librarySectionType:a.librarySectionType,imageWidth:l.width,imageHeight:l.height,imageUrl:l.url,resultRoute:c},s)}return s})}),$de,Nae)(class extends Xde{constructor(...e){super(...e),this.onLinkPress=()=>{const{serverEntityID:e}=this.props;this.props.resetQuickSearch({serverEntityID:e}),Dv()},this.onResultFocus=e=>{Object(Ti.a)(()=>{this.props.selectQuickSearchResult({searchResultEntityID:e})})},this.onPlayPress=e=>{const{serverEntityID:t,providerEntityID:i}=this.props;this.props.playQuickSearchResult({serverEntityID:t,providerEntityID:i,searchResultEntityID:e})}}render(){return Jde(Zde,tp()({},this.props,{onLinkPress:this.onLinkPress,onResultFocus:this.onResultFocus,onPlayPress:this.onPlayPress}))}});const tue=Nd.a.createElement;var iue=Object(Hu.b)((function(){return Object(Wu.a)(hie(),({metadataItem:e})=>({metadataItemEntityID:e,isMetadataItem:!!e}))}))((function(e){let{component:t}=e,i=Xe()(e,["component"]);return tue(t,i)}));const nue=Nd.a.createElement,{Component:aue}=Nd.a;var sue=class extends aue{shouldComponentUpdate(e,t){return Tp(this,e,t)}render(){const e=this.props,{title:t,selectedResultEntityID:i,metadataResults:n,tagResults:a}=e,s=Xe()(e,["title","selectedResultEntityID","metadataResults","tagResults"]);return Vu()(uie,{title:t},void 0,n.concat(a).map((e,t)=>nue(iue,tp()({key:e,searchResultEntityID:e,component:eue,isSelected:i===e},s))))}},rue=i("Ms8g"),oue=i.n(rue);const lue=Nd.a.createElement,{Fragment:cue}=Nd.a;function due(e){const{isLoading:t,hubs:i}=e,n=Xe()(e,["isLoading","hubs"]);return t?Vu()("div",{className:oue.a.spinnerContainer},void 0,Vu()(Jh,{className:oue.a.spinner})):i.length?Vu()("div",{},void 0,i.map(e=>lue(sue,tp()({key:e.hubIdentifier,title:e.title,metadataResults:e.metadataResults,tagResults:e.tagResults,metricsContext:e.context},n)))):Vu()("div",{className:oue.a.noResults},void 0,Object(Ze.default)("No Results"))}var uue=function(e){const{searchTitle:t,isSearchPending:i}=e,n=Xe()(e,["searchTitle","isSearchPending","isSearchPopulated"]);return Vu()(cue,{},void 0,Vu()("div",{className:oue.a.title,"aria-label":"heading","aria-level":"4"},void 0,t),lue(due,tp()({isLoading:i&&!e.hubs.length},n)))};const pue=Nd.a.createElement;var hue=Object(Hu.b)((function(){return Object(Wu.a)(e=>e.ui.quickSearch,e=>({selectedResultEntityID:e.selectedResultEntityID}))}))((function(e){return pue(uue,e)})),mue=i("pWth"),gue=i.n(mue);const vue=Nd.a.createElement,{Fragment:yue}=Nd.a;var fue=function(e){const{searches:t,onScrollIntoView:i}=e;return Vu()(yue,{},void 0,t&&t.length?t.map(e=>vue(hue,tp()({},e,{key:e.providerEntityID,onScrollIntoView:i}))):Vu()("div",{className:gue.a.noSources},void 0,Object(Ze.default)("No pinned sources to search.")))};const bue=Object(Wu.a)(e=>e.ui.quickSearch,e=>({searches:e.searches}));var Iue=Object(Hu.b)(e=>bue(e))(fue),Sue=i("eSZy"),Cue=i.n(Sue);const Mue=Nd.a.createElement,{Component:Due}=Nd.a;var Pue=Vu()(lie,{});class Oue extends Due{constructor(e){super(e),this.onWindowResize=()=>{this.setState({maxHeight:this.getMaxHeight()})},this.state={maxHeight:this.getMaxHeight()}}componentDidMount(){window.addEventListener("resize",this.onWindowResize)}shouldComponentUpdate(e,t){return Tp(this,e,t)}componentWillUnmount(){window.removeEventListener("resize",this.onWindowResize)}getMaxHeight(){return window.innerHeight-150}render(){const{forwardedRef:e,className:t,scrollTop:i,onScrollIntoView:n,onScrollPositionChange:a}=this.props;return Vu()(Vw,{page:zd.gb},void 0,Mue(ih,{className:(Cue.a.container||"")+" "+(t||""),style:this.state,scrollTop:i,ref:e,onScrollPositionChange:a},Pue,Vu()(Iue,{onScrollIntoView:n})))}}var jue=Nd.a.forwardRef((e,t)=>Mue(Oue,tp()({},e,{forwardedRef:t}))),wue=i("mEyC"),Tue=i.n(wue);const Eue=Nd.a.createElement,{Component:Nue}=Nd.a,xue=parseInt(BV.searchResultHeight,10);var Aue=class extends Nue{constructor(e,t){super(e,t),this._resultsRef=void 0,this._searchRef=void 0,this.isTabScoped=void 0,this.onScrollIntoView=({scrollTop:e})=>{const t=this._resultsRef.current.clientHeight+this.state.scrollTop,i=e+xue>t||e<this.state.scrollTop;this.setState({scrollTop:i?e:this.state.scrollTop})},this.onWindowPress=e=>{if(!this.state.isOpen)return;const t=this._searchRef.current;t&&t.contains(e.target)||this.setState({isOpen:!1})},this.onKeyDown=e=>{const{isOpen:t}=this.state;switch(e.keyCode){case 40:case 38:t&&(e.stopPropagation(),e.preventDefault(),38===e.keyCode?this.props.selectQuickSearchResult({offset:-1}):this.props.selectQuickSearchResult({offset:1}),this.isTabScoped&&(wv(),this.isTabScoped=!1));break;case 13:if(t){const{platformID:t}=Td.a,i="osx"===t?e.metaKey:e.ctrlKey,n=e.shiftKey;Dv(),this.isTabScoped=!1,i?n?this.props.playQuickSearchResult({options:{shuffle:!0}}):this.props.playQuickSearchResult():this.props.navigateQuickSearchResult()}break;case 27:e.nativeEvent.stopImmediatePropagation(),this.isTabScoped&&(wv(),this.isTabScoped=!1),t?this.setState({isOpen:!1}):this.props.changeQuickSearchQuery("");break;case 9:if(t){if(!this.isTabScoped){Pv(this._resultsRef.current),this.isTabScoped=!0}Ov(e)}}},this.onInputClick=e=>{this.isTabScoped&&(wv(),this.isTabScoped=!1),this.state.isOpen||""===this.props.query||this.setState({isOpen:!0})},this.onScrollPositionChange=({scrollTop:e})=>{this.setState({scrollTop:e})},this.onSearch=()=>{Object(Ti.a)(()=>{this.props.fetchQuickSearch()})},this.onInputChange=e=>{Object(Ti.a)(()=>{this.props.changeQuickSearchQuery(e)})},this._searchRef=Nd.a.createRef(),this._resultsRef=Nd.a.createRef(),this.isTabScoped=!1,this.state={scrollTop:0,isOpen:!1}}componentWillMount(){this._listenForPress()}componentWillReceiveProps(e,t){const{selectedResultEntityID:i,query:n}=e,a=this.props.query!==n,s=n.trim().length,r=this.state.isOpen;s&&!r&&a?this.setState({isOpen:!0}):!s&&r&&(this.setState({isOpen:!1}),this.isTabScoped&&(Cv=null,this.isTabScoped=!1)),null==i&&this.setState({scrollTop:0})}shouldComponentUpdate(e,t){return Tp(this,e,t)}componentWillUnmount(){this._stopListeningForPress()}_listenForPress(){window.addEventListener("mouseup",this.onWindowPress),window.addEventListener("touchend",this.onWindowPress)}_stopListeningForPress(){window.removeEventListener("mouseup",this.onWindowPress),window.removeEventListener("touchend",this.onWindowPress)}render(){const{query:e}=this.props;return Eue("div",{className:Tue.a.container,ref:this._searchRef,onKeyDown:this.onKeyDown},Vu()(Xte,{query:e,onChange:this.onInputChange,onSearch:this.onSearch,onClick:this.onInputClick}),this.state.isOpen?Eue(jue,{scrollTop:this.state.scrollTop,ref:this._resultsRef,onScrollIntoView:this.onScrollIntoView,onScrollPositionChange:this.onScrollPositionChange}):null)}};const Lue=Nd.a.createElement,{Component:kue}=Nd.a,Rue=Object(Wu.a)(e=>e.ui.quickSearch.providerEntityID,yg,(e,t)=>t[e]),zue=Object(Wu.a)(e=>e.ui.quickSearch.serverEntityID,Ku,(e,t)=>t[e]),Uue=Object(Wu.a)(e=>e.ui.quickSearch.directoryID,Rue,(e,t)=>{if(!t)return;if(jt.k(t.providerIdentifier,jt.c)){return Yt(t).directories.find(e=>!!e.hubKey)}if(!e)return;const i=Yt(t);if(!i)return;return i.directories.find(t=>t.id?t.id===e:t.key==="/library/sections/"+e)}),Vue=Object(Wu.a)(zue,Rue,Uue,(e,t,i)=>{let n;if(e&&t&&i){const a=JQ(t,i);a&&(n=nte({sourceType:a.key,sourceServer:e,sourceProvider:t,sourceDirectory:i}))}return n}),Bue=Og(Object(Wu.a)(ote(),Vue,(e,t)=>(t?[t,...e]:e).map(e=>({isCloud:e.isCloud,isFullOwnedServer:e.isFullOwnedServer,title:e.title,serverSourceTitle:e.serverSourceTitle,serverFriendlyName:e.serverFriendlyName,providerSourceTitle:e.providerSourceTitle,machineIdentifier:e.machineIdentifier,providerIdentifier:e.providerIdentifier,serverEntityID:e.serverEntityID,providerEntityID:e.providerEntityID,directoryID:e.directoryID}))),e=>e),Fue=Object(Wu.a)(Bue,yg,IT,(e,t,i)=>e.filter(e=>{const n=t[e.providerEntityID],a=n&&n.features.find(e=>e.type===Ot.o);return a&&MT(i,a)}));const Hue=Object.assign({},l);var _ue=Object(Hu.b)((function(){return Object(Wu.a)(e=>e.ui.quickSearch,Fue,cte,(e,t,i)=>({hasInitialSources:i,searchSources:t,providerEntityID:e.providerEntityID,query:e.query,selectedResultEntityID:e.selectedResultEntityID}))}),Hue)(class extends kue{componentWillMount(){this._populate()}componentWillReceiveProps(e){const t=e.searchSources!==this.props.searchSources,i=e.providerEntityID!==this.props.providerEntityID;(e.hasInitialSources!==this.props.hasInitialSources||t||i)&&this._populate(e)}_populate(e=this.props){const{searchSources:t,hasInitialSources:i}=e;i&&t&&t.length&&Object(Ti.a)(()=>{e.initQuickSearch({searchSources:t})})}render(){return Lue(Aue,this.props)}});function Wue(e){var t=e["aria-label"],i=e.className,n=e.style,a={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-navbar-back-560"};a["aria-hidden"]=!t,a.style=n,a.className=Ad.a.plexIcon+(i?" "+i:"");var s=[Nd.a.createElement.apply(Nd.a,["path",{d:"M56 280l224 224V322h224v-84H280V56z"}].concat([]))];return t&&s.unshift(Nd.a.createElement("title",null,t)),Nd.a.createElement.apply(Nd.a,["svg",a].concat(s))}Wue.propTypes={"aria-label":vc.a.string,className:vc.a.string,style:vc.a.object};var Que=Wue;function Gue(e){var t=e["aria-label"],i=e.className,n=e.style,a={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-navbar-fullscreen-560"};a["aria-hidden"]=!t,a.style=n,a.className=Ad.a.plexIcon+(i?" "+i:"");var s=[Nd.a.createElement.apply(Nd.a,["path",{d:"M532.011 28H346.44l76.891 76.892L310.2 218.023l31.788 31.788 113.131-113.132 76.892 76.892V28zM28 532.011h185.572L136.68 455.12l113.131-113.131-31.788-31.788-113.131 113.131L28 346.44v185.571z"}].concat([]))];return t&&s.unshift(Nd.a.createElement("title",null,t)),Nd.a.createElement.apply(Nd.a,["svg",a].concat(s))}Gue.propTypes={"aria-label":vc.a.string,className:vc.a.string,style:vc.a.object};var Kue=Gue;function Yue(e){var t=e["aria-label"],i=e.className,n=e.style,a={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-navbar-home-560"};a["aria-hidden"]=!t,a.style=n,a.className=Ad.a.plexIcon+(i?" "+i:"");var s=[Nd.a.createElement.apply(Nd.a,["path",{d:"M84 448V291.598a28 28 0 0 1 8.201-19.799L280 84l187.799 187.799A28 28 0 0 1 476 291.598V448c0 15.464-12.536 28-28 28H322V336h-84v140H112c-15.464 0-28-12.536-28-28z"}].concat([]))];return t&&s.unshift(Nd.a.createElement("title",null,t)),Nd.a.createElement.apply(Nd.a,["svg",a].concat(s))}Yue.propTypes={"aria-label":vc.a.string,className:vc.a.string,style:vc.a.object};var que=Yue;function Zue(e){var t=e["aria-label"],i=e.className,n=e.style,a={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-navbar-menu-560"};a["aria-hidden"]=!t,a.style=n,a.className=Ad.a.plexIcon+(i?" "+i:"");var s=[Nd.a.createElement.apply(Nd.a,["path",{d:"M28 420h504v62.222H28V420zm0-171.333h504v62.222H28v-62.222zM28 78h504v62.222H28V78z"}].concat([]))];return t&&s.unshift(Nd.a.createElement("title",null,t)),Nd.a.createElement.apply(Nd.a,["svg",a].concat(s))}Zue.propTypes={"aria-label":vc.a.string,className:vc.a.string,style:vc.a.object};var Jue=Zue;function Xue(e){var t=e["aria-label"],i=e.className,n=e.style,a={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-navbar-windowed-560"};a["aria-hidden"]=!t,a.style=n,a.className=Ad.a.plexIcon+(i?" "+i:"");var s=[Nd.a.createElement.apply(Nd.a,["path",{d:"M224 336H38.428l76.892 76.892L2.189 526.023l31.788 31.788L147.108 444.68 224 521.572V336zm112-112h185.572l-76.892-76.892L557.811 33.977 526.023 2.189 412.892 115.32 336 38.428V224z"}].concat([]))];return t&&s.unshift(Nd.a.createElement("title",null,t)),Nd.a.createElement.apply(Nd.a,["svg",a].concat(s))}Xue.propTypes={"aria-label":vc.a.string,className:vc.a.string,style:vc.a.object};var $ue=Xue,epe=i("T8us"),tpe=i.n(epe);function ipe(e){return I.a.reduce(e,(function(e,t,i){var n=function e(t){var i=t.match(/(.+) (.+)/);if(i)return e(i[1]).concat({plain:!0,s:"then"}).concat(e(i[2]));var n=t.match(/(.+)\+(\S+)/);if(n)return e(n[1]).concat({plain:!0,s:"+"}).concat(e(n[2]));return[{s:I.a.reduce([[/command/,""],[/up/,""],[/down/,""],[/left/,""],[/right/,""]],(function(e,t){return e.replace(t[0],t[1])}),t)}]}(t);if(0===i)return e.concat(n);var a=n.length>1;return e.concat({plain:!0,split:a,s:"or"},n)}),[])}var npe=on.extend({name:"keyboardShortcutsModal",className:"keyboard-shortcuts-modal modal fade",template:tpe.a,orderedGroups:[{group:"navigation",label:"Navigation"},{group:"actions",label:"Actions"},{group:"player",label:"Player"}],initialize:function(e){on.prototype.initialize.apply(this,arguments),this.shortcuts=e.shortcuts},serializeData:function(){var e={};return I.a.each(this.shortcuts,(function(t){var i=t.group;("function"!=typeof t.isSupported||t.isSupported())&&(e[i]||(e[i]=[]),e[i].push(this.humanizeShortcut(t)))}),this),{groups:I.a.map(this.orderedGroups,(function(t){var i=I.a.clone(t);return i.shortcuts=e[t.group],i}),this)}},humanizeShortcut:function(e){return(e=I.a.clone(e)).keys=ipe(e.keys),e.label=e.label(),e}}),ape=i("tt2x"),spe=i.n(ape);const rpe=Nd.a.createElement;function ope(e){const{children:t,badgeClassName:i,badgeLabel:n,badgeKind:a}=e,s=Xe()(e,["children","badgeClassName","badgeLabel","badgeKind"]);return rpe(Zv,s,t,Vu()(_H,{className:i,kind:a},void 0,n))}ope.defaultProps={className:spe.a.badgeMenuItem,badgeClassName:spe.a.badge,badgeKind:Pp};var lpe=ope,cpe=Vu()(Q$,{}),dpe=Vu()(Q$,{});var upe=function(e){const{isOpen:t,target:i,options:n,username:a,isSignedIn:s,isAnonymousUser:r,isFullUser:o,announcementsCount:l,friendInvitesCount:c,appsURL:d,isCloudServerConnected:u,onUsersAndSharingPress:p,onSwitchUserPress:h,onSignInPress:m,onSignOutPress:g,onKeyboardShortcutPress:v,onMenuClose:y}=e,f=u&&(!s||r),b=s&&o&&!r;return Vu()(Qv,{isOpen:t,target:i,options:n,onMenuClose:y},void 0,a?Vu()(Ble,{},void 0,a):null,s?Vu()(Zv,{to:"#!/settings/account",onPress:y},void 0,Object(Ze.default)("Account")):null,s&&!r?Vu()(lpe,{badgeLabel:c>0?c:null,onPress:Cb(y,p)},void 0,Object(Ze.default)("Users & Sharing")):null,s?cpe:null,s&&o&&!r?Vu()(lpe,{to:"#!/announcements",badgeLabel:l>0?l:null,onPress:y},void 0,Object(Ze.default)("Announcements")):null,u?Vu()(Zv,{to:d,target:"_self",onPress:y},void 0,Object(Ze.default)("Get Plex Apps")):null,u?Vu()(Zv,{to:Fp,target:"_self",onPress:y},void 0,Object(Ze.default)("Help")):null,Vu()(Zv,{onPress:Cb(y,v)},void 0,Object(Ze.default)("Keyboard Shortcuts")),dpe,r?null:Vu()(Zv,{onPress:Cb(y,h)},void 0,Object(Ze.default)("Switch User...")),f?Vu()(Zv,{onPress:Cb(y,m)},void 0,Object(Ze.default)("Sign In")):null,b?Vu()(Zv,{onPress:Cb(y,g)},void 0,Object(Ze.default)("Sign Out")):null)};var ppe=Object(Hu.b)((function(){return Object(Wu.a)(Zu.a,Yu,F9,_9,(e,t,i,n)=>({username:e.title,isSignedIn:e.signedIn,isRestricted:e.isRestricted,isCloudServerConnected:t.isConnected,isAnonymousUser:!!e.anonymous,isFullUser:e.isFullUser,announcementsCount:i.length,friendInvitesCount:n.length,appsURL:t?t.appsUrl:"https://plex.tv/downloads"}))}),(function(e,t){return{onSwitchUserPress(t){window.setTimeout(()=>{e(Object(Qu.i)())})},onUsersAndSharingPress(e){e.preventDefault(),U.a.trigger("navigate","usersSharing")},onSignInPress(e){e.preventDefault(),U.a.trigger("navigate","login")},onSignOutPress(e){e.preventDefault(),U.a.trigger("navigate","logout")},onKeyboardShortcutPress(e){e.preventDefault();const t=Object(ne.c)("keyboardShortcuts");U.a.trigger("show:modal",new npe({shortcuts:t.shortcuts}))}}}))(upe),hpe=i("xwJx"),mpe=i.n(hpe);const{Component:gpe,Fragment:vpe}=Nd.a;class ype extends gpe{constructor(e,t){super(e,t),this._buttonID=void 0,this.onButtonPress=e=>{this.setState({isMenuOpen:!this.state.isMenuOpen})},this.onMenuClose=e=>{this.setState({isMenuOpen:!1})},this.state={isMenuOpen:!1},this._buttonID=Mp()}render(){const{className:e,tooltipClassName:t,tooltipFocusedClassName:i,serverEntityID:n,userThumb:a,badgeCount:s}=this.props;return Vu()(vpe,{},void 0,Vu()(Wb,{className:e,tooltipClassName:t,tooltipFocusedClassName:i,id:this._buttonID,component:Dy,isSelected:!1,tooltip:this.state.isMenuOpen?null:Object(Ze.default)("Account"),direction:this.state.isMenuOpen?hy:my,onPress:this.onButtonPress},void 0,Vu()("div",{className:mpe.a.avatarContainer},void 0,Vu()("div",{className:(mpe.a.overlay||"")+" "+(this.state.isMenuOpen&&mpe.a.isMenuOpen||"")}),Vu()(rC,{serverEntityID:n,width:30,height:30,url:a})),Vu()(_H,{className:mpe.a.badge,kind:Pp},void 0,s>0?s:null)),Vu()(ppe,{isOpen:this.state.isMenuOpen,target:this._buttonID,onMenuClose:this.onMenuClose}))}}ype.defaultProps={className:mpe.a.button,tooltipClassName:mpe.a.tooltip,tooltipFocusedClassName:mpe.a.tooltipTriggerHasFocus};var fpe=ype;function bpe(e,t,i){const n=function(e){const t=e.desktop&&e.desktop.update;if(t&&(t.state===QX||t.state===KX||t.state===YX||t.state===XX))return Gi(t.version)}(e);return!!(e.isConnected&&e.isFullOwnedServer&&n&&n!==i&&n!==t[e.machineIdentifier])}var Ipe=Object(Wu.a)(fk,e=>e.dismissedServerUpdateVersions);var Spe=Object(Wu.a)(fk,e=>e.serverUpdateDismissedVersion);var Cpe={"provider.device.channelscan":!0,"provider.epg.load":!0,"grabber.grab":!0,"grabber.assimilate":!0,[dr]:!0,"general.db.backup":!0,"general.db.optimize":!0,"library.delete":!0,"library.update.section":!0,"library.update.item.metadata":!0,"media.generate.bif":!0,"media.generate.chapter.thumbs":!0,"media.generate.intros":!0,"subtitle.download":!0};var Mpe=i("3GOe"),Dpe=i.n(Mpe);var Ppe=function(e){const{className:t}=e;return Vu()("div",{className:t},void 0,Vu()("img",{className:Dpe.a.img,src:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDgiIGhlaWdodD0iNDgiIHZpZXdCb3g9IjAgMCA0OCA0OCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICA8cGF0aCBkPSJNMjQgMEMzNy4yNDU5IDAgNDggMTAuNzU0MSA0OCAyNEM0OCAzNy4yNDU5IDM3LjI0NTkgNDggMjQgNDhDMTAuNzU0MSA0OCAwIDM3LjI0NTkgMCAyNEMwIDEwLjc1NDEgMTAuNzU0MSAwIDI0IDBaIiBmaWxsPSIjRTVBMDBEIi8+CiAgPHBhdGggZD0iTTI0IDhMOCAyNUgyMVY0MEgyN1YyNUg0MEwyNCA4WiIgZmlsbD0iYmxhY2siLz4KPC9zdmc+Cg=="}))},Ope=i("Wi4N"),jpe=i.n(Ope);var wpe=function(e){const{title:t,subtitle:i,progress:n,isPostProcessing:a}=e;return Vu()("div",{className:jpe.a.splitButton},void 0,Vu()("span",{className:jpe.a.activityTitleContainer},void 0,Vu()("span",{className:jpe.a.activityTitle,title:t},void 0,t,i?":":null),i?Vu()("span",{className:jpe.a.activitySubtitle,title:i},void 0,i):null),Vu()("span",{},void 0,null==n||a?Vu()(Jh,{size:Fh}):Vu()(XV,{progress:n,size:18,lineWidth:2,showProgressText:!1})))},Tpe=i("yG8u"),Epe=i.n(Tpe);function Npe(e){const{labelClassName:t,to:i,label:n,indicator:a,onPress:s}=e;return Vu()(Zv,{className:Epe.a.splitButton,to:i,onPress:s},void 0,Vu()("span",{className:t},void 0,n),a?Vu()("span",{className:Epe.a.statusButtonIndicator},void 0,a):null)}var xpe=function(e){const{friendlyName:t,machineIdentifier:i,sessionsCount:n,backgroundTranscodeJobs:a,activities:s,libraries:r,showLegacyLibraryScanning:o,showUpdateAvailable:l,onMenuClose:c}=e,d=encodeURIComponent(i);return Vu()("div",{className:Epe.a.statusContainer},void 0,Vu()("div",{className:Epe.a.statusTitle},void 0,t),Vu()(Npe,{to:"#!/settings/server/"+d+"/status/server-dashboard",label:Object(Ze.default)("Dashboard"),indicator:n?""+n:null,onPress:c}),a.length?Vu()(Npe,{to:"#!/settings/server/"+d+"/status/conversion",label:Object(Ze.default)("Conversions"),indicator:""+a.length,onPress:c}):null,s.length?s.map(e=>{const{uuid:t,type:i,title:n,subtitle:a,progress:s,Context:r={}}=e;return Cpe[i]?Vu()(wpe,{title:n,subtitle:a,progress:s,isPostProcessing:"postprocessing"===r.status},t):null}):null,o&&r.length?r.map(e=>{const{uuid:t,title:i}=e;return Vu()(wpe,{title:Object(Ze.default)("Scanning library files"),subtitle:i},t)}):null,l?Vu()(Npe,{labelClassName:Epe.a.primaryLabel,to:"#!/server/"+d+"/update",label:Object(Ze.default)("Server Update Available"),indicator:Vu()(Ppe,{className:Epe.a.alertIndicator}),onPress:c}):null)};function Ape(){return Object(Wu.a)(Object(Wu.a)(RQ(),e=>e.libraries?e.libraries:[]),LQ,(e,t)=>e.reduce((e,i)=>{const n=t[i];return n.refreshing&&e.push(n),e},[]))}var Lpe=Object(Hu.b)((function(){return Object(Wu.a)(_S(),lw(),Object(Wu.a)(RQ(),e=>e.backgroundTranscodeJobs?e.backgroundTranscodeJobs:[]),Object(Wu.a)(RQ(),e=>e.activities?e.activities:[]),Ape(),Ipe,Spe,(e,t,i,n,a,s,r)=>({friendlyName:e.friendlyName,machineIdentifier:e.machineIdentifier,sessionsCount:t,backgroundTranscodeJobs:i,activities:n,libraries:a,showLegacyLibraryScanning:!Qi(e.version,qi.libraryUpdateActivity),showUpdateAvailable:bpe(e,s,r)}))}))(xpe);function kpe(e){return V.join("#!/downloads",e)}var Rpe=i("paCu"),zpe=i.n(Rpe);var Upe=function(e){const{activities:t,onMenuClose:i}=e;return t.length?Vu()("div",{className:zpe.a.statusContainer},void 0,Vu()("div",{className:zpe.a.statusTitle},void 0,Vu()(zp,{to:kpe(),onPress:i},void 0,Object(Ze.default)("Downloads"))),t.map(e=>{const{uuid:t,title:i,subtitle:n,progress:a,Context:s={}}=e;return Vu()(wpe,{title:i,subtitle:n,progress:a,isPostProcessing:"postprocessing"===s.status},t)})):null};var Vpe=Object(Hu.b)((function(){return Object(Wu.a)(RQ(),e=>({activities:e&&e.activities?e.activities.filter(e=>Cpe[e.type]):[]}))}))(Upe),Bpe=i("dCCs"),Fpe=i.n(Bpe);const Hpe={placement:"bottom-end"};var _pe=function(e){const{isOpen:t,target:i,embeddedServerEntityID:n,ownedServerEntityIDs:a,onMenuClose:s}=e;return Vu()(Qv,{className:Fpe.a.menu,isOpen:t,target:i,options:Hpe,onMenuClose:s},void 0,a.map(e=>Vu()(Lpe,{serverEntityID:e,onMenuClose:s},e)),n?Vu()(Vpe,{serverEntityID:n,onMenuClose:s},n):null)};function Wpe(e){var t=e["aria-label"],i=e.className,n=e.style,a={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-navbar-activity-560"};a["aria-hidden"]=!t,a.style=n,a.className=Ad.a.plexIcon+(i?" "+i:"");var s=[Nd.a.createElement.apply(Nd.a,["path",{d:"M248.175 179.16l-61.448 163.858A20 20 0 0 1 168 355.996H84v-40h70.14l79.133-211.019c6.892-18.376 33.37-16.868 38.13 2.172l70.887 283.544 31.821-63.641A20 20 0 0 1 392 315.996h84v40h-71.64L353.89 456.938c-8.304 16.608-32.788 13.92-37.292-4.093l-68.422-273.686z"}].concat([]))];return t&&s.unshift(Nd.a.createElement("title",null,t)),Nd.a.createElement.apply(Nd.a,["svg",a].concat(s))}Wpe.propTypes={"aria-label":vc.a.string,className:vc.a.string,style:vc.a.object};var Qpe=Wpe,Gpe=i("VjkR"),Kpe=i.n(Gpe);function Ype(e){const{className:t,iconComponent:i,isActive:n}=e;return Vu()("span",{className:t},void 0,n?Vu()(Jh,{className:Kpe.a.activityIndicator}):null,Vu()(i,{className:Kpe.a.icon}))}Ype.defaultProps={className:Kpe.a.iconContainer,iconClassName:Kpe.a.icon,iconComponent:Qpe};var qpe=Ype,Zpe=i("BTFm"),Jpe=i.n(Zpe);const{Component:Xpe,Fragment:$pe}=Nd.a;class ehe extends Xpe{constructor(e,t){super(e,t),this._buttonID=void 0,this.onActivityPress=e=>{this.setState({isMenuOpen:!this.state.isMenuOpen})},this.onMenuClose=()=>{this.setState({isMenuOpen:!1})},this.state={isMenuOpen:!1},this._buttonID=Mp()}componentDidUpdate(e){this.props.isDisabled&&!e.isDisabled&&this.state.isMenuOpen&&this.onMenuClose()}render(){const{className:e,isDisabled:t,iconClassName:i,labelClassName:n,showActivityButton:a,embeddedServerEntityID:s,ownedServerEntityIDs:r,hasSessions:o,hasConversions:l,hasActivities:c,hasAvailableServerUpdate:d,hasLibraryRefreshing:u,activityButtonCount:p}=this.props;if(!a)return null;const h=o||l,m=c||u,g=!p&&d;return Vu()($pe,{},void 0,Vu()(Lee,{id:this._buttonID,isDisabled:t,className:(e||"")+" "+(h&&Jpe.a.isHighlighted||""),iconClassName:i,labelClassName:n,iconProps:{isActive:m},iconComponent:qpe,alertIconClassName:Jpe.a.alertIcon,alertIconComponent:g?Ppe:null,ariaLabel:Object(Ze.default)("Activity"),title:this.state.isMenuOpen?null:Object(Ze.default)("Activity"),label:p?String(p):null,onPress:this.onActivityPress}),Vu()(_pe,{isOpen:this.state.isMenuOpen,target:this._buttonID,embeddedServerEntityID:s,ownedServerEntityIDs:r,onMenuClose:this.onMenuClose}))}}ehe.defaultProps={iconClassName:Jpe.a.activityIcon,labelClassName:Jpe.a.label};var the=ehe;const ihe={sessionsCount:0,backgroundTranscodeJobsCount:0,activitiesCount:0};function nhe(e,t){return e.reduce((e,i)=>{const{backgroundTranscodeJobs:n=[],activities:a=[]}=i.desktop,s=t[i.machineIdentifier],r=null==s?void 0:s.sessionKeys.length,o=n.length,l=a.filter(e=>!!Cpe[e.type]).length;return r>0&&(e.sessionsCount+=r),o>0&&(e.backgroundTranscodeJobsCount+=o),l>0&&(e.activitiesCount+=l),e},Object.assign({},ihe))}const ahe=Object(Wu.a)(Nq,e=>e.v4.core.serverNowPlayingSessions,(e,t)=>nhe(e,t)),she=Object(Wu.a)(use,e=>e.v4.core.serverNowPlayingSessions,(e,t)=>e?nhe([e],t):ihe),rhe=Object(Wu.a)(ahe,she,(e,t)=>({activitiesCount:e.activitiesCount+t.activitiesCount,backgroundTranscodeJobsCount:e.backgroundTranscodeJobsCount+t.backgroundTranscodeJobsCount,sessionsCount:e.sessionsCount+t.sessionsCount})),ohe=Object(Wu.a)(Nq,LQ,(e,t)=>e.reduce((e,i)=>{const{libraries:n}=i.desktop;return e+=n.filter(e=>{const i=t[e];return!!i&&i.refreshing}).length},0)),lhe=Object(Wu.a)(Nq,Ipe,Spe,(e,t,i)=>e.some(e=>bpe(e,t,i)));var che=Object(Hu.b)((function(){return Object(Wu.a)((e,{isDisabled:t})=>t,lse,xq,rhe,ohe,lhe,(e,t,i,n,a,s)=>{const r=i.length>0;let o=r;return t&&(o=!0,e=e||!r&&n.sessionsCount+n.backgroundTranscodeJobsCount+n.activitiesCount===0),{isDisabled:e,embeddedServerEntityID:t,ownedServerEntityIDs:i,showActivityButton:o,hasSessions:n.sessionsCount>0,hasConversions:n.backgroundTranscodeJobsCount>0,hasActivities:n.activitiesCount>0,hasAvailableServerUpdate:s,hasLibraryRefreshing:a>0,activityButtonCount:n.sessionsCount+n.backgroundTranscodeJobsCount}})}))(the);const{Component:dhe,Fragment:uhe}=Nd.a;var phe=class extends dhe{constructor(e,t){super(e,t),this.onButtonPress=e=>{this.setState({isPlexPassModalOpen:!0})},this.onModalClose=e=>{this.setState({isPlexPassModalOpen:!1})},this.state={isPlexPassModalOpen:!1}}render(){return Vu()(uhe,{},void 0,Vu()(Yee,{onPress:this.onButtonPress},void 0,Object(Ze.default)("Go Premium")),Vu()(dk,{origin:"nav-bar",metricsProperties:{context:_t.NAV_BAR},isOpen:this.state.isPlexPassModalOpen,onModalClose:this.onModalClose}))}},hhe=i("1d8V"),mhe=i.n(hhe);const{Fragment:ghe,useCallback:vhe}=Nd.a;var yhe=Vu()(_ue,{}),fhe=Vu()(phe,{}),bhe=Vu()(ghe,{},void 0,Vu()(Xee,{}),Vu()(ete,{})),Ihe=Vu()(_ee,{});var She=function(e){const{serverEntityID:t,hasHistory:i,hasHomeButton:n,userThumb:a,badgeCount:s,canEnterFullscreen:r,canExitFullscreen:o,isAnonymousUser:l,canGoPremium:c,canNavigateHistory:d,canToggleSidebar:u,isSidebarCollapsed:p,shouldRender:h,onBackPress:m,onEnterFullscreen:g,onExitFullscreen:v,onToggleCollapsedSidebar:y}=e,f=vhe(()=>{y(!p)},[p,y]);return h?Vu()("div",{className:mhe.a.container},void 0,Vu()("div",{className:mhe.a.left},void 0,u?Vu()(Lee,{className:mhe.a.button,iconComponent:Jue,title:p?Object(Ze.default)("Expand"):Object(Ze.default)("Collapse"),onPress:f}):null,n?Vu()(Lee,{className:mhe.a.button,to:"#",iconComponent:que,title:Object(Ze.default)("Home")}):null,Vu()(zp,{to:"#",className:mhe.a.plexLogo}),d?Vu()(Lee,{className:mhe.a.button,iconComponent:Que,title:Object(Ze.default)("Back"),isDisabled:!i,onPress:m}):null,yhe),Vu()("div",{className:mhe.a.right},void 0,c?fhe:null,l?bhe:null,c||l?Vu()("div",{className:mhe.a.buttonSeparator}):null,o?Vu()(Lee,{className:mhe.a.button,iconComponent:$ue,title:Object(Ze.default)("Exit Full Screen"),onPress:v}):null,r?Vu()(Lee,{className:mhe.a.button,iconComponent:Kue,title:Object(Ze.default)("Enter Full Screen"),onPress:g}):null,r||o?Vu()("div",{className:mhe.a.buttonSeparator}):null,Vu()(che,{className:mhe.a.button}),Ihe,Vu()(Tee,{className:mhe.a.button,iconComponent:Lee}),Vu()(fpe,{className:mhe.a.accountButton,serverEntityID:t,userThumb:l?null:a,badgeCount:s}))):null};const{Component:Che}=Nd.a,Mhe=function(e=Td.a){return"ios"===e.platformID}()||!1,Dhe=Object(Wu.a)(e=>e.isFullscreen,e=>e),Phe=Object(Wu.a)(Rg.a,e=>e.isSidebarCollapsed),Ohe=Object(Wu.a)(e=>e.downloads&&e.downloads.subscriptions,e=>!!e&&e.length>0),jhe=Object(Wu.a)(H9,e=>e.some(e=>e.isConnected));const whe=Object(Hu.b)((function(){return Object(Wu.a)(e=>e.history,(e,{route:t})=>t,Zu.a,F9,_9,Dhe,Phe,Object(Wu.a)(Zu.a,Yu,Ohe,jhe,(e,t,i,n)=>!(e.isLocked||!t)&&(t.isResolved||i||n)),(e,t,i,n,a,s,r,o)=>{const l=Object(pt.a)(ht.n,ST.a),c=/#!\/settings/.test(t);return{serverEntityID:l,hasHistory:e.length>1,hasHomeButton:c,userThumb:i.thumb,badgeCount:n.length+a.length,isFullscreen:s,isSidebarCollapsed:r,isAnonymousUser:!!i.anonymous,canGoPremium:i.canGoPremium,canEnterFullscreen:!1,canExitFullscreen:!1,canNavigateHistory:Mhe,canToggleSidebar:!c,shouldRender:o}})}),(function(e,t){return{onBackPress(e){U.a.trigger("navigate:back")},onEnterFullscreen(e){Object(ne.c)("fullscreenManager").enter()},onExitFullscreen(e){Object(ne.c)("fullscreenManager").exit()},onToggleCollapsedSidebar(t){Object(Ti.a)(()=>{e(Object(Qu.l)({isSidebarCollapsed:t}))})}}}))(She);var The=Vu()(J9,{});var Ehe=class extends Che{static getDerivedStateFromError(){return{hasError:!0}}constructor(e){super(e),this.onHashChange=()=>{this.setState({route:window.location.hash})},this.state={hasError:!1,route:window.location.hash}}componentDidMount(){window.addEventListener("hashchange",this.onHashChange,!1)}componentWillUnmount(){window.removeEventListener("hashchange",this.onHashChange,!1)}componentDidCatch(e){C.a.error(e)}render(){return this.state.hasError?The:Vu()(whe,{route:this.state.route})}},Nhe=Vu()(Ehe,{});var xhe=_u.extend({className:"nav-bar",initialize(){this.listenTo(U.a,"change:language",this.render)},component:()=>Nhe});var Ahe=function(){return G7("playQueue")};var Lhe=Object(Wu.a)(Gu,e=>e.playQueueItems);var khe=function(e=0){return Object(Wu.a)(Ahe(),Lhe,(t,i)=>{const n=t?t.playQueueItems:[];if(n.length){const a=t.currentIndex;let s=a+e;t.repeat&&(s=function(e,t,i){return(e+t%i+i)%i}(a,e,t.length));const r=n[s];return r&&i[r]}})};var Rhe=function(){return Object(Wu.a)(G7("currentDecision"),khe(),(e,t)=>{const i=e;if(i&&i.playQueueItemID===t.playQueueItemID)return i})};var zhe=function(e=0){return Object(Wu.a)(khe(e),XK,(e,t)=>{if(e&&e.metadataItem)return t[e.metadataItem]})};function Uhe(){return Og(Object(Wu.a)(Object(Wu.a)(zhe(),e=>{var t;return null!=(t=null==e?void 0:e.Marker)?t:[]}),Gw(wt.m),Gw(wt.n),(e,t,i)=>e.filter(e=>t&&"commercial"===e.type||i&&"intro"===e.type)),e=>e)}var Vhe=Object(Wu.a)(Gu,e=>e.liveTVSessions);function Bhe(){return Object(Wu.a)(Vhe,G7("liveTVSession"),(e,t)=>e[t])}function Fhe(){return Object(Wu.a)(Bhe(),e=>e&&e.currentPosition)}var Hhe=Object(Wu.a)(e=>{var t;return null==(t=e.ui.channelGridPage)?void 0:t.metadataList},kre,XK,(e,t,i)=>{const n=t[e];return n&&n.metadataItems?n.metadataItems.map(e=>i[e]):[]});function _he(){return Object(Wu.a)(Bhe(),Fhe(),Hhe,(e,t,i)=>{if(!e||null===t)return;const n=e.channelIdentifier;for(let e=0;e<i.length;e++){const a=i[e];for(let e=0;e<a.Media.length;e++){const i=a.Media[e],{beginsAt:s,endsAt:r,channelIdentifier:o}=i;if(o===n&&s<=t&&r>t)return a}}})}function Whe(){return Object(Wu.a)(_he(),Fhe(),Bhe(),(e,t,i)=>{if(!e||null===t||!i)return;const n=i.channelIdentifier;return e.Media.find(e=>{const{beginsAt:i,endsAt:a,channelIdentifier:s}=e;return s===n&&i<=t&&a>t})})}function Qhe(e=0){return Object(Wu.a)(khe(e),XK,(e,t)=>{if(e)return t[e.metadataItem]})}var Ghe=Object(Wu.a)(K7(),e=>!(!e||!jt.k(gi(e.identifier,e.providerIdentifier),[jt.b,jt.c])));function Khe(){return Object(Wu.a)(Ghe,Qhe(),Whe(),Rhe(),(e,t,i,n)=>{let a;return e?a=i:n&&(a=t.Media[n.mediaIndex]),a||null})}const{createContext:Yhe}=Nd.a,qhe=Yhe(),Zhe=Object(Pi.a)("UPDATE_POSITION_MILLISECONDS"),Jhe=Object(Pi.a)("RESET_POSITION_MILLISECONDS");function Xhe(e,{type:t,payload:i}){switch(t){case"UPDATE_POSITION_MILLISECONDS":return i;case"RESET_POSITION_MILLISECONDS":return 0;default:return e}}const $he=Nd.a.createElement,{Component:eme}=Nd.a;var tme=function(e){var t,i;const n={dispatchUpdatePositionMilliseconds:Zhe,dispatchResetPositionMilliseconds:Jhe};return Object(Hu.b)(null,n,null,{context:qhe})((i=t=class extends eme{constructor(...e){super(...e),this.onPositionMillisecondsChange=e=>{this.props.dispatchUpdatePositionMilliseconds(e)}}shouldComponentUpdate(e,t){return Tp(this,e,t)}componentWillUnmount(){this.props.dispatchResetPositionMilliseconds()}render(){const t=this.props,i=Xe()(t,["dispatchUpdatePositionMilliseconds","dispatchResetPositionMilliseconds"]);return $he(e,tp()({},i,{onPositionMillisecondsChange:this.onPositionMillisecondsChange}))}},t.displayName="PositionMillisecondsMonitor("+ff(e)+")",t.WrappedComponent=e,i))};function ime(){return Object(Wu.a)(X9,G7("playbackSpeed"),zhe(),(e,t,i)=>e?1:t||i&&i.playbackSpeed||1)}function nme(e){const t=e.remotePlayer;return t?t.volume:Object(ne.c)("selectLocalVolume")(e)}var ame=function(e){if(!e)return{};const t=e.captureBuffer,i={liveTVSessionSubscriptionKey:e.key,liveTVSessionChannelIdentifier:e.channelIdentifier,liveTVSessionCurrentPosition:e.currentPosition,liveTVSessionStartedAt:e.startedAt};if(t){const n=t.startedAt,a=e.startedAt,s=n||a;Object.assign(i,{liveTVPositionSeconds:e.currentPosition-s,liveTVSessionSeekRangeStartedAt:t.startedAt,liveTVSessionSeekStartSeconds:t.seekStartSeconds,liveTVSessionSeekEndSeconds:t.seekEndSeconds})}return i};function sme(e){let t;if(e.get("indirect")){const i=e.get("Origin");t=i&&i.source}else if(e.get("remoteMedia")){const i=e.get("Media");t=i[0]&&i[0].source}else e.get("source")&&(t=e.get("source"));return t||null}function rme(e){const t=sme(e);let i,n;if(t){const{serverIdentifier:e,providerIdentifier:a}=Object(sr.a)(t);n=tn({machineIdentifier:e}),i=Ii({identifier:a,serverEntityID:n})}else n=e.get("serverEntityID"),i=e.get("providerEntityID");return{serverEntityID:n,providerEntityID:i}}var ome=xe.a.extend({name:"ResourceModel",context:["server"],idAttribute:"clientIdentifier",urlRoot:"/api/v2/resources",syncedAttrs:{clientIdentifier:Ae.a.string,name:Ae.a.string,sourceTitle:Ae.a.string,accessToken:Ae.a.string,product:Ae.a.string,productVersion:Ae.a.string,platform:Ae.a.string,platformVersion:Ae.a.string,device:Ae.a.string,provides:Ae.a.list,owned:Ae.a.boolean,home:Ae.a.boolean,synced:Ae.a.boolean,presence:Ae.a.boolean,publicAddressMatches:Ae.a.boolean,httpsRequired:Ae.a.boolean,createdAt:Ae.a.integer,lastSeenAt:Ae.a.integer,ownerId:Ae.a.integer},syncedRelations:{connections:{relationClass:Yi}},augmentResponse(e){"string"==typeof e.createdAt&&(e.createdAt=Object(Vy.a)(e.createdAt)),"string"==typeof e.lastSeenAt&&(e.lastSeenAt=Object(Vy.a)(e.lastSeenAt));const t=e.Device;return t?(t.connections=t.Connection,delete t.Connection,t):e}});function lme(e,t){if(!e.supports("transientTokenProxy"))return D.a.Deferred().reject().promise();const i=e.resolveUrl("/security/resources");let n=D.a.ajax(e.getXHROptions(i,{data:{source:t}})).promise();return n=n.then(t=>new ome(t,{parse:!0,server:e})),n}var cme=function(e){if(!e.length)return D.a.Deferred().reject().promise();const t=D.a.Deferred();let i=e.length;return I.a.each(e,(function(e){e.done((function(){i--,t.resolveWith(this,arguments)})).fail((function(){i--,0===i&&t.reject()}))})),t.promise()};var dme=ke.a.extend({name:"ResourceCollection",model:ome,context:["server"],responseType:ct.a,url(){const e={};return be.a.allowHttpsMediaServerConnections&&(e.includeHttps=1),be.a.allowMediaServerRelayConnections&&(e.includeRelay=1),V.join("/api/v2/resources",e)}});const{connectionTestResults:ume,promiseStates:pme}=an,hme=an.extend({name:"CloudServerModel",connectionTestUrl:"https://plex.tv/monitoring/health",sessionAttrs:{connectionTestResult:Ae.a.oneOf(ume.PENDING,ume.CONNECTED,ume.UNAVAILABLE,ume.UNAUTHORIZED).isRequired,promiseState:Ae.a.oneOf(pme.PENDING,pme.RESOLVED,pme.REJECTED).isRequired,isShared:Ae.a.boolean.isRequired,isBundled:Ae.a.boolean.isRequired,isCloud:Ae.a.boolean.isRequired,isMerged:Ae.a.boolean.isRequired,isDownForMaintenance:Ae.a.boolean.isRequired,isResourcesPending:Ae.a.boolean.isRequired,isResourcesPopulated:Ae.a.boolean.isRequired,hasFailedResources:Ae.a.boolean.isRequired,accessToken:Ae.a.string,baseUrl:Ae.a.string.isRequired,plexPassUrl:Ae.a.string.isRequired,appsUrl:Ae.a.string.isRequired,hasEventConnection:Ae.a.boolean},sessionRelations:{activeConnection:{relationClass:Ve,deferred:!0},connections:{relationClass:Yi,options(){return{server:this}}},resources:{relationClass:dme,options(){return{server:this}}}},defaults(){const e="https://plex.tv";return{connectionTestResult:ume.PENDING,promiseState:pme.PENDING,isShared:!1,isBundled:!1,isCloud:!0,isMerged:!1,isDownForMaintenance:!1,isResourcesPending:!1,isResourcesPopulated:!1,hasFailedResources:!1,friendlyName:"plex.tv",baseUrl:e,plexPassUrl:V.join([e,"/subscription/about"]),appsUrl:V.join([e,"/downloads"]),hasEventConnection:!1}},testAllConnections(){const e=this.get("connections");Object(C.a)("[Connections] Testing all %s connection(s) for %s",e.length,this.get("debugName"));const t=e.map(e=>this.testConnection(e));return cme(t)},testConnection(e){const t={server:this,connection:e,url:this.connectionTestUrl};return Ge.execute("testServerConnection",t).done(this.onConnectionTestSuccess.bind(this)).fail(this.onConnectionTestError.bind(this))},abortConnectionTest(e){const t={server:this,connection:e,url:this.connectionTestUrl};Ge.execute("abortServerConnectionTest",t)},deauthenticate(){this.get("resources").clear(),this._reject({connectionTestResult:this.get("connectionTestResult"),accessToken:null})},onConnectionTestSuccess(e){const t=this.get("connections").getBestConnection();C.a.info("[Connections] Active connection to %s is %s",this.get("debugName"),t.id),this.startCapturingChangeEvents(),this.set({isDownForMaintenance:!1,connectionTestResult:ume.CONNECTED,activeConnection:t}),this.releaseCapturedChangeEvents()},onConnectionTestError(e,t){e.get("isAborted")||this.get("connections").hasOnlyFailedConnections()&&this._reject({isDownForMaintenance:503===t.status})}});$e(hme,(function(){return{relationClass:Object(ne.c)("CloudServerFlexModel"),options:{server:this}}}));var mme=hme;function gme(){const[,e,t]="https://plex.tv".match(/^([^:]+):\/\/(.*)$/)||[];return{scheme:e,address:t}}function vme(e,t){return lme(e,t).then(e=>{const t=function(e){const t=new mme({accessToken:e.get("accessToken"),machineIdentifier:ST.a});t.addConnection(gme());const i=e.get("connections").first();return new Si({identifier:e.get("clientIdentifier"),title:e.get("name"),baseURL:i.get("uri")},{server:t})}(e);return t.server.testAllConnections().then(()=>t.populate({merge:!0}))})}function yme(e,t){t.get("connections").each(i=>{const n=[{id:t.server.id}],a=I.a.extend(i.toJSON(),{sources:n});e.addConnection(a)})}function fme(e,t=!1){const i=t||"Plex Media Server"===e.get("product"),n=new an({machineIdentifier:e.id,friendlyName:e.get("name"),version:i?e.get("productVersion"):void 0,isShared:!e.get("owned"),accessToken:e.get("accessToken"),sourceTitle:e.get("sourceTitle"),publicAddressMatches:e.get("publicAddressMatches"),httpsRequired:e.get("httpsRequired"),platform:e.get("platform"),platformVersion:e.get("platformVersion"),presence:e.get("presence"),home:e.get("home"),serverClass:i?void 0:an.serverClasses.SECONDARY,createdAt:e.get("createdAt"),lastSeenAt:e.get("lastSeenAt"),ownerId:e.get("ownerId")},{parent:ne.c("appModel")});return yme(n,e),n}function bme(e){return e.get("isConnected")||e.testOnlyUntestedConnections()}function Ime(e,t){return Object(sr.a)(t).isServer?function(e,t){return lme(e,t).then(e=>fme(e,!0).testAllConnections())}(e,t):vme(e,t)}var Sme=function(e,t,i){const n=i.get("metadataItem"),a=wi.m(e,{serverEntityID:t.get("serverEntityID")}),s=rme(n),r={serverEntityID:n.get("serverEntityID"),providerEntityID:n.get("providerEntityID")},o=n.get("source"),l=sme(n),c=wi.m(e,r),d=l&&wi.m(e,s),u=be.a.allowTransientProxy&&a.get("isFullOwnedServer")&&a.supports("transientTokenProxy");if(!u&&(o&&!c||l&&!d))return D.a.Deferred().reject().promise();const p=[];return c?p.push(bme(c)):u&&o&&p.push(Ime(a,o)),o!==l&&(d?p.push(bme(d)):u&&l&&p.push(Ime(a,l))),D.a.when(...p).then(()=>function(e,t){const i=e.get("user"),n=t&&Object(sr.a)(t);return!!i.get("providers")&&n&&!n.isServer?i.get("providers").populate().then(e=>{const t=e.findWhere({identifier:n.providerIdentifier});return t&&t.populate()}):D.a.Deferred().resolve().promise()}(e,l)).then(()=>({serverModel:wi.m(e,r),providerModel:wi.j(e,r),mediaServerModel:wi.m(e,s),mediaProviderModel:wi.j(e,s)}))};const Cme="toneMapping";const Mme=[(e,t,i)=>{const n=e.get("user").get("experienceSettings").get("reminders").get(ed("upsell",Cme));if(n&&!BQ(n.get("remindAfter")))return null;const a=Object(S7.c)(e,t).get("playQueue").get("playQueueItems").get(i.playQueueItemID).get("metadataItem"),s=rme(a),r=Object(wi.m)(e,s),o=a.get("Media")[i.mediaIndex],l=null==o?void 0:o.Part[i.partIndex];if(!r||!l)return null;const c=r.hasOwnerFeature(wt.i),d=r.hasOwnerFeature(wt.z);return r.get("isFullOwnedServer")&&c&&!d&&function(e){return Array.isArray(e.Stream)&&e.Stream.some(e=>"smpte2084"===e.colorTrc)}(l)&&!i.canDisplayHDR&&!i.isDirectPlay&&!i.canDirectStreamVideo?{type:Cme,metricsContext:_t.HDR_CONVERSION}:null}];var Dme=i("7/aH");function Pme(e,t){const{type:i,item:n,availableQualities:a,qualityIndex:s}=e,{transcodeServer:r,media:o,part:l}=t,c=n.get("Media"),d=o.Part,u=function(e,t){return I.a.findIndex(e,e=>null!=e.id?e.id===t.id:null==e.uuid||e.uuid===t.uuid)}(c,o),p=function(e,t){return I.a.findIndex(e,e=>null!=e.id?e.id===t.id:null==e.key||e.key===t.key)}(d,l);let h=[],m=ol.a.ORIGINAL;i===rS.types.VIDEO&&(h=a,m=s),t.abr&&(m=ol.a.CONVERT_AUTOMATICALLY);const g={availableQualities:h,qualityIndex:m,mediaIndex:u,partIndex:p,partCount:d.length,url:t.url,subtitlesUrl:t.subtitlesUrl,protocol:t.protocol,isDirectPlay:t.canDirectPlay,useSoftSubtitles:t.useSoftSubtitles,useSidecarSrtSubtitles:t.useSidecarSrtSubtitles,canDirectStreamVideo:t.canDirectStreamVideo,canDirectStreamAudio:t.canDirectStreamAudio,canPlayOriginalQuality:t.canPlayOriginalQuality,positionSeconds:Math.floor(t.offset/1e3),durationSeconds:Math.floor((l.duration||0)/1e3),playbackSessionID:t.playbackSessionID,canDisplayHDR:t.canDisplayHDR,canDisplayDolbyVision:t.canDisplayDolbyVision};return t.canDirectPlay||(g.transcodeSessionID=t.transcodeSessionID),t.drm&&(g.drm=t.drm,g.license=t.license,g.certificate=t.certificate),g.transcodeServerEntityID=r&&r.entityID(),g}var Ome=i("L7Oz");function jme(e){return e>=2e3}function wme(e){return jme(e.transcodeDecisionCode)?e.transcodeDecisionText:jme(e.generalDecisionCode)?e.generalDecisionText:jme(e.mdeDecisionCode)?e.mdeDecisionText:e.errorMessage}var Tme=i("nVBp");var Eme=function(e){const t=e?I.a.first(e.get("Media")):null;return!(!t||t.container)};var Nme=function(e){const t=[];return Array.isArray(e)||(e=[e]),I.a.each(e,e=>{const i=e.Part;i&&I.a.each(i,e=>{!1!==e.exists&&!1!==e.accessible||t.push(e)})}),t};function xme(e){return/^(idx|pgs|vobsub)$/i.test(e)}var Ame={getMediaDecision:function(e){const t=this.augmentProfile(e);if(C.a.info("[MDE] Augmented profile:",t),e.media)return this.analyzeMedia(e.media,t,e);const i=e.item.get("Media");if(!i.length)return{transcodeServer:e.transcodeServer,canPlay:!0,canDirectPlay:!0};if(1===i.length)return this.analyzeMedia(I.a.first(i),t,e);const n=I.a.map(i,(function(i){return this.analyzeMedia(i,t,e)}),this);return this.getBestDecision(n)},augmentProfile:function(e){const t=e.profile;if(!t)throw new Error("MDE: No player profile provided for "+e.type);const i=e.type===rS.types.VIDEO,n=D.a.extend(!0,{},t.directPlay),a=D.a.extend(!0,{},t.directStream),s=n.generic;s&&delete n.generic;let r=e.allowedAC3Containers;const o="*"===r;!o&&r&&(r=Array.isArray(r)?r:[r]);let l=e.allowedEAC3Containers;const c="*"===l;!c&&l&&(l=Array.isArray(l)?l:[l]);let d=e.allowedDCAContainers;const u="*"===d;!u&&d&&(d=Array.isArray(d)?d:[d]);let p=e.allowedTrueHDContainers;const h="*"===p;return!h&&p&&(p=Array.isArray(p)?p:[p]),I.a.each(n,(function(t,n){this.mergeGenericOptions(t,s),this.mergeMaxQualityOptions(t,e),(o||r&&I.a.contains(r,n))&&this.addAudioCodec("ac3",t,e),(c||l&&I.a.contains(l,n))&&this.addAudioCodec("eac3",t,e),(u||d&&I.a.contains(d,n))&&this.addAudioCodec("dca",t,e),(h||p&&I.a.contains(p,n))&&this.addAudioCodec("truehd",t,e);const a=t[rS.getStreamByType(e.type)];if(a){const t=a.codecs;I.a.each(t,(function(t,i){this.mergeMaxQualityOptions(t,e,!0),e.videoCodecOptions&&e.videoCodecOptions[i]&&this.mergeCodecOptions(t,e.videoCodecOptions[i])}),this)}const m=i&&t.audio;if(m&&e.audioCodecOptions){const t=m.codecs;I.a.each(t,(function(t,i){e.audioCodecOptions[i]&&this.mergeCodecOptions(t,e.audioCodecOptions[i])}),this)}}),this),this.mergeMaxQualityOptions(a,e),i&&(e.videoCodecOptions&&a.video&&I.a.each(a.video.codecs,(function(t,i){e.videoCodecOptions[i]&&this.mergeCodecOptions(t,e.videoCodecOptions[i])}),this),e.audioCodecOptions&&a.audio&&I.a.each(a.audio.codecs,(function(t,i){e.audioCodecOptions[i]&&this.mergeCodecOptions(t,e.audioCodecOptions[i])}),this)),{directPlay:n,directStream:a}},mergeGenericOptions:function(e,t){t&&(I.a.defaults(e,I.a.omit(t,"video","audio")),I.a.each(["audio","video"],(function(i){const n=t[i];let a=e[i];n&&(a||(a={},e[i]=a),I.a.defaults(a,I.a.omit(n,"codecs")),n.codecs&&I.a.each(n.codecs,(function(e,t){I.a.defaults(this.ensureCodecs(t,a),e)}),this))}),this))},mergeCodecOptions:function(e,t){I.a.each(t,(function(t,i){e[i]=t}),this)},ensureCodecs:function(e,t){return t.codecs||(t.codecs={}),t.codecs[e]||(t.codecs[e]={}),t.codecs[e]},mergeMaxQualityOptions:function(e,t,i){I.a.each([{option:"bitrate",setting:"maxBitrate"},{option:"videoResolution",setting:"maxVideoResolution"}],(function(n){if("videoResolution"===n.option&&t.type!==rS.types.VIDEO)return;const a=this.getMaxQualityOption(e,n.option,t);if(null==a)return;const s=n.setting,r=rS.getStreamByType(t.type);e.hasOwnProperty(s)?e[s]=a:e.hasOwnProperty(r)?e[r][s]=a:i||(e[r]={},e[r][s]=a)}),this)},getMaxQualityOption:function(e,t,i){const n=i.quality||{},a="max"+t.charAt(0).toUpperCase()+t.slice(1);let s=n[t];const r=this.getPrimaryStreamProperty(e,a,i);if("videoResolution"===t&&s&&(s=ol.a.getResolutionFromSize(s)),"bitrate"===t){const e=i.item.server.get("maxUploadBitrate");e&&(!s||e<s)&&(s=e)}if(s||r){let e;return e=s&&r?Math.min(s,r):s||r,e}},addAudioCodec:function(e,t,i){t.audio||(t.audio={}),this.ensureCodecs(e,t.audio)},analyzeMedia:function(e,t,i){C.a.info("[MDE] Starting analysis of",this.getMediaTitle(e)),Object(C.a)("[MDE] Analyzing direct play");const n=this.canDirectPlay(e,t.directPlay,i);n.result||Object(C.a)("[MDE] Cannot direct play:",n.failedCheck);const a={finalProfile:t,transcodeServer:i.transcodeServer,preferredDirectPlayProtocol:i.preferredDirectPlayProtocol,item:i.item,media:e,canDirectPlay:n.result,canDirectPlayFailedCheck:n.failedCheck,canDisplayHDR:!!i.canDisplayHDR,canDisplayDolbyVision:!!i.canDisplayDolbyVision};let s=i.transcoderOptions||{};if(I.a.isFunction(s)&&(s=s(a)),i.type===rS.types.VIDEO){Object(C.a)("[MDE] Analyzing video direct stream");const n=Object(oM.a)(e);if(n){const e=this.canDirectStreamVideo(n,t.directStream.video,i,s);a.canDirectStreamVideo=e.result,a.canDirectStreamVideoFailedCheck=e.failedCheck}}if(i.type!==rS.types.PHOTO){Object(C.a)("[MDE] Analyzing audio direct stream");const n=Object(FC.a)(e);if(n){const e=this.canDirectStreamAudio(n,t.directStream.audio,i,s);a.canDirectStreamAudio=e.result,a.canDirectStreamAudioFailedCheck=e.failedCheck}}const r=WC(a.media);return r&&(Object(C.a)("[MDE] Analyzing subtitles"),I.a.extend(a,this.analyzeSubtitles(r,i))),Object(C.a)("[MDE] Analyzing playability"),I.a.extend(a,this.canPlay(a,i)),I.a.extend(a,this.getEffectiveQuality(e,t.directStream,i)),Object(C.a)("[MDE] Finished analysis of:",this.getMediaTitle(e),this.getDecisionLogs(a)),a},canDirectPlay:function(e,t,i){if(i.forceDirectPlay)return Object(C.a)("[MDE] Direct play forced"),{result:!0};if(!1===i.allowDirectPlay&&!i.transcodeServer.get("isCloud"))return C.a.warn("[MDE] Direct play failed; option is disabled"),{result:!1,failedCheck:"allowDirectPlay"};if(i.type===rS.types.VIDEO&&!this.canDirectPlayVideo(e,i))return{result:!1,failedCheck:"canDirectPlayVideo"};const n=t[e.container];if(!n)return C.a.warn("[MDE] Direct play failed; unsupported container:",e.container),{result:!1,failedCheck:"containerProfile"};const a=I.a.keys(n);if(a&&a.length){for(let t=0,s=a.length;t<s;t++){const s=a[t],r=n[s];if("mimeType"===s){if(!i.skipCanPlayTypeTest&&!this.canPlayType(rS.getElementByType(i.type),r))return C.a.warn("[MDE] Direct play failed; canPlayType test, %s: %s",s,r),{result:!1,failedCheck:"canPlayType"}}else if("video"===s||"audio"===s){const t=_C.a.get(s),n=Object(Hn.a)(e,{streamType:t.id}),a="video"===s?Object(oM.a)(e):Object(FC.a)(e);if(!a){C.a.warn("[MDE] No stream selected; will not be able to analyze stream codecs");continue}if("audio"===s&&a!==n[0]&&!i.allowMultiTrackAudio)return C.a.warn("[MDE] Direct play failed; multi-track audio is required"),{result:!1,failedCheck:"allowMultiTrackAudio"};const o=this.analyzeStream(a,r,i);if(!o.result)return{result:!1,failedCheck:o.failedCheck}}else if("photo"===s){const t=this.analyzeStream(I.a.first(e.Part),r,i);if(!t.result)return{result:!1,failedCheck:t.failedCheck}}else if(!this.validateProfileProperty(s,r,e))return{result:!1,failedCheck:"validateProfileProperty:"+s}}return{result:!0}}return{result:!0}},canDirectPlayVideo:function(e,t){return t.allowDirectPlay||t.transcodeServer.get("isCloud")?"hls"!==e.protocol||t.hasNativeHLS?"flv"!==e.container||t.hasFlash?!("dash"===e.protocol&&!t.hasDASH)||(C.a.warn("[MDE] Direct play failed; cannot play DASH"),!1):(C.a.warn("[MDE] Direct play failed; cannot play FLV"),!1):(C.a.warn("[MDE] Direct play failed; cannot play HLS"),!1):(C.a.warn("[MDE] Direct play failed; option is disabled"),!1)},canPlayType:function(e,t){if(e===rS.elements.PHOTO)return!0;const i=document.createElement(e);return!(!i.canPlayType||!i.canPlayType(t).replace(/^no$/,""))},canDirectStreamVideo:function(e,t,i,n){return n.directStream||i.transcodeServer.get("isCloud")?this.analyzeStream(e,t,i):(C.a.warn("[MDE] Direct stream video failed; option is disabled"),{result:!1,failedCheck:"options:directStream"})},canDirectStreamAudio:function(e,t,i,n){return n.directStreamAudio||i.transcodeServer.get("isCloud")?this.analyzeStream(e,t,i):(C.a.warn("[MDE] Direct stream audio failed; option is disabled"),{result:!1,failedCheck:"options:directStreamAudio"})},analyzeStream:function(e,t,i){const n=t&&t.codecs&&t.codecs[e.codec];for(const a in t){const s=t[a];if("codecs"===a){const t=s[e.codec];if(!t)return{result:!1,failedCheck:"noCodecInProfile:"+e.codec};const n=this.analyzeStream(e,t,i);if(!n.result)return{result:!1,failedCheck:n.failedCheck}}else if(!(n&&a in n||this.validateProfileProperty(a,s,e)))return{result:!1,failedCheck:"validateProfileProperty:"+a}}return{result:!0}},validateProfileProperty:function(e,t,i){const n=e.match(/^(min|max)(\w)(\w*)/);let a;if(n){const s="min"===n[1],r="max"===n[1];if(a=i[e=n[2].toLowerCase()+n[3]],null==a&&C.a.warn("[MDE] Unable to validate %s; re-analyze the media if possible",e),null!=a&&"videoResolution"===e&&(a=ol.a.getHeightFromResolution(a),t=ol.a.getHeightFromResolution(t)),null!=a){if(s&&a<t)return C.a.warn("[MDE] Invalid profile property; %s: %s < %s",e,a,t),!1;if(r&&a>t)return C.a.warn("[MDE] Invalid profile property; %s: %s > %s",e,a,t),!1}}else if(a=i[e],null==a&&C.a.warn("[MDE] Unable to validate %s; re-analyze the media if possible",e),a!==t&&!I.a.contains(t,a))return C.a.warn("[MDE] Invalid profile property; %s: %s !== %s",e,a,t),!1;return!0},analyzeSubtitles:function(e,t){const i=t.subtitlesBurnLevel||mc.ALWAYS,n=e.codec,a=!!e.key&&void 0===n&&t.transcodeServer.get("isCloud"),s=t.transcodeServer.get("isCloud")&&("vtt"===n||"eia_608"===n);return Object(C.a)("[MDE] Subtitle codec:",n),Object(C.a)("[MDE] Burn level:",i),a?(Object(C.a)("[MDE] Using sidecar subtitles %s",e.key),{useSidecarSrtSubtitles:!0}):s?{canDirectPlay:!0}:i===mc.NEVER?{useSoftSubtitles:!1}:i===mc.ALWAYS?(C.a.warn("[MDE] Direct play failed; asked to always burn subtitles"),{useSoftSubtitles:!1,canDirectPlay:!1,canDirectPlayFailedCheck:"subtitles:burnLevelAlways",canDirectStreamVideo:!1}):t.transcodeServer.supports("softSubtitles")?xme(n)?(C.a.warn("[MDE] Soft subtitles failed; bitmap subtitles"),{useSoftSubtitles:!1,canDirectPlay:!1,canDirectPlayFailedCheck:"subtitles",canDirectStreamVideo:!1}):/^(ass|ssa)$/i.test(n)&&i===mc.AUTO?(C.a.warn("[MDE] Soft subtitles failed; ASS subtitles"),{useSoftSubtitles:!1,canDirectPlay:!1,canDirectPlayFailedCheck:"subtitles",canDirectStreamVideo:!1}):/^eia_608$/i.test(n)?(C.a.warn("[MDE] Soft subtitles failed; Closed captioning"),{useSoftSubtitles:!1,canDirectPlay:!1,canDirectPlayFailedCheck:"subtitles",canDirectStreamVideo:!1}):t.transcodeServer.supports("softSubtitlesWithDirectPlay")?t.allowDirectStreamVideoWithSoftSubtitles?{useSoftSubtitles:!0}:{useSoftSubtitles:!0,canDirectStreamVideo:!1}:(C.a.warn("[MDE] Direct play failed; %s subtitles",n),t.allowDirectStreamVideoWithSoftSubtitles?{useSoftSubtitles:!0,canDirectPlay:!1,canDirectPlayFailedCheck:"subtitles"}:{useSoftSubtitles:!1,canDirectPlay:!1,canDirectPlayFailedCheck:"subtitles",canDirectStreamVideo:!1}):(C.a.warn("[MDE] Direct play failed; server support requires burn subtitles"),C.a.warn("[MDE] Soft subtitles failed; server version"),{useSoftSubtitles:!1,canDirectPlay:!1,canDirectPlayFailedCheck:"subtitles:softSubtitlesUnsupported",canDirectStreamVideo:!1})},canPlay:function(e,t){const i=this.validateParts(e,t)||this.validateTranscoder(e,t);return i?{canPlay:!1,errorMessage:i}:{canPlay:!0}},validateParts:function(e,t){const i=Nme(e.media);if(!i.length)return;C.a.warn("[MDE] Unable to play; missing parts");const n=I.a.first(i);return 1===Number(n.exists)?Object(Ze.default)("Please check the permissions for this file."):Object(Ze.default)("Please check that the file exists and the necessary drive is mounted.")},validateTranscoder:function(e,t){if(e.canDirectPlay)return;const i=t.type,n=i===rS.types.MUSIC,a=i===rS.types.VIDEO,s=t.transcodeServer,r=s.get("transcoderAudio"),o=s.get("transcoderVideo");let l;if(n||"track"===t.item.get("type")){if(l=Object(Ze.default)("This server is not powerful enough to convert audio."),a&&!o)return C.a.warn("[MDE] Unable to play; server unable to transcode music using video transcoder"),l;if(n&&!r)return C.a.warn("[MDE] Unable to play; server unable to transcode music using audio transcoder"),l}else if(a){const i=Object(Ze.default)("This server is not powerful enough to convert video. You may be able to enable playback by increasing your quality setting."),n=Object(Ze.default)("This server is not powerful enough to convert video. Playback qualities are limited because an indirect connection is being used."),a=e.canDirectStreamVideo||!s.get("transcoderVideoRemuxOnly");if(l=Object(Ze.default)("This server is not powerful enough to convert video."),!o||!a){if(C.a.warn("[MDE] Unable to play; server unable to transcode video"),t.quality){if(t.quality.index===ol.a.ORIGINAL)return l;const e=I.a.clone(t);return e.quality=I.a.extend({index:ol.a.ORIGINAL},I.a.pick(t.quality,"attribute")),this.getMediaDecision(e).canDirectPlay?i:"relay"===s.get("maxUploadBitrateReason")?n:l}return i}}},getEffectiveQuality:function(e,t,i){const n=i.quality,a={},s={};if(e.bitrate||C.a.warn("[MDE] Unable to determine effective quality; re-analyze the media if possible"),i.type===rS.types.VIDEO){a.bitrate=e.bitrate,a.videoResolution=ol.a.getHeightFromResolution(e.videoResolution);const r=this.getPrimaryStreamProperty(t,"maxBitrate",i);if(r){const t=Object(oM.a)(e),i=t?t.bitrate:e.bitrate;a.bitrate=Math.min(i,r),s.maxVideoBitrate=r}if(n){if(n.videoResolution){const e=ol.a.getResolutionFromSize(n.videoResolution),t=ol.a.getHeightFromResolution(e);a.videoResolution=Math.min(a.videoResolution,t)}}}else if(i.type===rS.types.MUSIC){a.bitrate=e.bitrate;const n=this.getPrimaryStreamProperty(t,"maxBitrate",i);n&&(a.bitrate=Math.min(e.bitrate,n),s.musicBitrate=n)}return a.transcoderQualityOptions=s,a},getPrimaryStreamProperty:function(e,t,i){const n=e[rS.getStreamByType(i.type)];let a=e[t];return null==a&&n&&(a=n[t]),a},getMediaTitle:function(e){let t=e.title||e.videoResolution||e.bitrate||e.container;const i=I.a.compact([e.container,e.videoCodec,e.audioCodec]),n=Object(oM.a)(e);return n&&i.push(n.level,n.profile),i.length&&(t+=" ("+i.join(", ")+")"),t},getDecisionLogs:function(e){const t={canPlay:e.canPlay,canDirectPlay:e.canDirectPlay},i=e.canDirectStreamVideo;null!=i&&(t.canDirectStreamVideo=i);const n=e.canDirectStreamAudio;null!=n&&(t.canDirectStreamAudio=n);const a=e.useSoftSubtitles;null!=a&&(t.useSoftSubtitles=a);const s=e.bitrate;null==s||I.a.isNaN(s)||(t.bitrate=s);const r=e.videoResolution;return null==r||I.a.isNaN(r)||(t.videoResolution=r),t},getBestDecision:function(e){const t=I.a.last(this.sortDecisions(e));return Object(C.a)("[MDE] Selected %s to play:",this.getMediaTitle(t.media),this.getDecisionLogs(t)),t},sortDecisions:function(e){return I.a.chain(e).reverse().sortBy(this.preferHigherBitrate,this).sortBy(this.preferMoreAudioChannels,this).sortBy(this.preferDirectStreamAudio,this).sortBy(this.preferHigherResolution,this).sortBy(this.preferDirectStreamVideo,this).sortBy(this.preferDirectPlayMatchingPreferredProtocol,this).sortBy(this.preferDirectPlay,this).sortBy(this.preferHigherResolutionIfCapable,this).sortBy(this.preferCloudIfRemote,this).sortBy(this.preferDirectPlayOrDirectStreamIfUHD,this).sortBy(this.preferPlayable,this).value()},preferPlayable:function(e){return void 0===e.canPlay?null:e.canPlay},preferDirectPlayOrDirectStreamIfUHD:function(e){const t=e.media.height;if(void 0===t)return null;const i=ol.a.getResolutionFromHeight(t);return!/^\d+k$/i.test(i)||(e.canDirectPlay||e.canDirectStreamVideo)},preferCloudIfRemote:function(e){const t=e.media.proxyType===na.CLOUD;return e.transcodeServer.get("isPrivateConnection")?!t:t},preferHigherResolutionIfCapable:function(e){const t=e.transcodeServer,i=t.get("transcoderVideo"),n=t.get("transcoderVideoRemuxOnly");return i&&!n&&(e.canDirectPlay||e.canDirectStreamVideo)?this.preferHigherResolution(e):null},preferDirectPlay:function(e){return void 0===e.canDirectPlay?null:e.canDirectPlay},preferDirectPlayMatchingPreferredProtocol:function(e){return e.canDirectPlay&&e.media.protocol&&e.preferredDirectPlayProtocol?e.media.protocol===e.preferredDirectPlayProtocol:null},preferDirectStreamVideo:function(e){return void 0===e.canDirectStreamVideo?null:e.canDirectStreamVideo},preferHigherResolution:function(e){return void 0===e.videoResolution?null:e.videoResolution},preferDirectStreamAudio:function(e){return void 0===e.canDirectStreamAudio?null:e.canDirectStreamAudio},preferMoreAudioChannels:function(e){const t=e.media.audioChannels;return void 0===t?null:t},preferHigherBitrate:function(e){return void 0===e.bitrate?null:e.bitrate}};function Lme(e){return"dash"===e||"hls"===e}function kme(e,t){return t.itemProvider||e.provider||t.itemServer||e.server}var Rme={getPlayerDecision:function(e){return this.resolvePlayerDecision(e).then(null,t=>t.canDirectPlay&&1001===t.generalDecisionCode?(C.a.warn("[PDE] Forcing transcode;",t.mdeDecisionText),this.resolvePlayerDecision(Object.assign({},e,{allowDirectPlay:!1}))):t)},resolvePlayerDecision:function(e){I.a.defaults(e,{offset:0,minVersionForDASH:qi.dash,minVersionForStreamingMKV:qi.streamingMKV,transcoderOptions:{}});const t={playbackSessionID:e.playbackSessionID||Pe(),transcodeSessionID:e.transcodeSessionID||Pe(),offset:e.offset};let i=this.populateMedia(t,e);return i=i.then(I.a.bind((function(){return this.resolveMedia(t,e)}),this)),i=i.then((function(){return D.a.when(t.url)})),i=i.then((function(e){return t.url=e,t})),i},populateMedia:function(e,t){const i=D.a.Deferred(),n=I.a.bind(i.resolve,i,e);return t.requireAnalysis&&Eme(t.item)?t.item.fetch({scope:"player"}).always(n):I.a.defer(n),i.promise()},resolveMedia:function(e,t){const i=I.a.extend({transcodeServer:this.resolveTranscodeServer(t)},t),n=Ame.getMediaDecision(i);if(i.originalQualityDecisionOptions){const e=Ame.getMediaDecision(Object.assign({},i,i.originalQualityDecisionOptions));n.canPlayOriginalQuality=e.canDirectPlay||e.canDirectStreamVideo}else n.canPlayOriginalQuality=n.canDirectPlay||n.canDirectStreamVideo;const a=n.media,s=D.a.Deferred();return I.a.extend(e,n),a?e.canPlay?"webkit"===a.protocol?(C.a.warn("[PDE] Webkit videos are not supported"),e.redirect=!0,s.reject(e).promise()):"embed"===a.protocol?(C.a.warn("[PDE] An embed is required"),e.embed=!0,e.part=I.a.first(a.Part),s.reject(e).promise()):this.resolvePart(e,t):(C.a.warn("[PDE] Unable to play item;",e.errorMessage),s.reject(e).promise()):this.resolveUrls(e,t)},resolveTranscodeServer:function(e){const t=e.itemServer||e.item.server,i=e.fallbackServer,n=e.itemProvider||e.item.provider;if(t===i||!i||!i.get("isConnected"))return t;let a;e.type===rS.types.VIDEO?a="transcoderVideo":e.type===rS.types.MUSIC&&(a="transcoderAudio");const s=!n||jt.k(n.get("identifier"),jt.d);return a&&!t.get(a)&&i.get(a)&&s?i:t},resolvePart:function(e,t){return t.part?e.part=t.part:t.offset?1===e.media.Part.length?e.part=e.media.Part[0]:(e.part=$I(e.media,t.offset),e.offset=eS(e.media,e.part,t.offset)):e.part=I.a.first(e.media.Part),e.part.drm&&(e.drm=e.part.drm,e.certificate=e.part.certificate,Object(C.a)("[PDE] DRM content decryption module:",e.drm),Object(C.a)("[PDE] DRM certificate:",e.certificate)),this.resolveUrls(e,t)},resolveUrls:function(e,t){const i=D.a.Deferred();return this.validateDrmType(e,t)&&this.validatePlayerType(e,t)?(this.validateSidecarSrtSubtitles(e,t)?e.subtitlesUrl=this.resolveSubtitlesUrl(e,t):e.useSidecarSrtSubtitles=!1,this.validateSoftSubtitles(e,t)?e.subtitlesUrl=this.resolveSubtitlesUrl(e,t):e.useSoftSubtitles&&(e.useSoftSubtitles=!1),Object(C.a)("[PDE] Player decision:",{playerType:e.playerType,protocol:e.protocol,canDirectPlay:e.canDirectPlay}),e.canDirectPlay?e.url=this.resolveDirectPlayUrl(e,t):e.url=this.resolveTranscoderUrl(e,t),e.drm&&(e.license=this.resolveLicenseUrl(e,t)),this.resolveDecision(e,t)):i.reject(e).promise()},validateDrmType:function(e,t){const i=ne.c("appModel").get("drmType"),n={music:Go.a,video:Go.e},a=!!e.drm,s=i===Object(Tme.a)(e.drm)||i===Object(Tme.a)(e.drm,n[t.type]);return a&&!s&&(e.errorCode=z.a.isHostedHttps||de(window.location.hostname)?"D200":z.a.isHostedHttps?"D300":"D100",e.errorMessage=Object(Ze.default)("Streaming this media is unsupported.")),!a||s},validatePlayerType:function(e,t){return e.media&&t.type&&t.type!==rS.types.PHOTO?e.canDirectPlay?("hls"===e.media.protocol?(e.protocol="hls",e.playerType=t.hasNativeHLS?"html":"flash"):"dash"===e.media.protocol?(e.protocol="dash",e.playerType="html"):(e.protocol="http",e.playerType="flv"===e.media.container?"flash":"html"),!0):this.validatePlayerTranscodeProtocol(e,t):(e.protocol="http",e.playerType="html",!0)},validatePlayerTranscodeProtocol:function(e,t){const i=e.transcodeServer,n=t.transcodeProtocol;let a,s=!0,r=!0,o=!0;if(n&&(s="dash"===n,r="http"===n,o="hls"===n),o&&t.hasNativeHLS)return e.protocol="hls",e.playerType="html",!0;if(r&&t.hasStreamingMKV){if(i.isVersionOrNewer(t.minVersionForStreamingMKV))return e.protocol="http",e.playerType="html",!0;a=t.minVersionForStreamingMKV}if(s&&t.hasDASH){if(i.isVersionOrNewer(t.minVersionForDASH))return e.protocol="dash",e.playerType="html",!0;a=t.minVersionForDASH}return t.type===rS.types.MUSIC?(e.protocol="http",e.playerType="html",!0):o&&t.hasFlash?(e.protocol="hls",e.playerType="flash",!0):t.type===rS.types.ROM?(e.protocol="parsec",!0):(e.errorMessage=a?Object(Ze.default)("Please update Plex Media Server. This feature requires {1} or later.",a):Object(Ze.default)("Streaming this media is unsupported."),!1)},validateSidecarSrtSubtitles:function(e,t){return e.useSidecarSrtSubtitles&&!e.canDirectPlay?(C.a.warn("[PDE] Sidecar SRT is only supported when media is direct play."),!1):e.useSidecarSrtSubtitles},validateSoftSubtitles:function(e,t){return e.useSoftSubtitles&&"html"!==e.playerType?(C.a.warn("[PDE] Only the HTML player supports soft subtitles"),!1):!e.useSoftSubtitles||e.canDirectPlay||t.allowDirectStreamVideoWithSoftSubtitles?e.useSoftSubtitles:(C.a.warn("[PDE] Unable to use soft subtitles without direct play"),!1)},resolveDirectPlayUrl:function(e,t){const i=t.item,n=e.part,a={"X-Plex-Session-Identifier":e.playbackSessionID};e.drm&&Object.assign(a,Ht(e.drm));const s=n?n.key:i.get("key"),r={appendHeaders:!0,params:a};return kme(i,t).resolveUrl(s,r)},resolveTranscoderUrl:function(e,t,i){const n=t.item,a=e.media,s=e.part;let r=t.transcoderOptions;I.a.isFunction(r)&&(r=r(e)),r=I.a.extend({},e.transcoderQualityOptions,r,{"X-Plex-Session-Identifier":e.playbackSessionID,session:e.transcodeSessionID,protocol:e.protocol,directPlay:e.canDirectPlay?1:0,offlineTranscode:t.offlineTranscode,context:t.context,offset:e.offset?e.offset/1e3:e.offset});const o=t.subtitlesBurnLevel;t.type!==rS.types.VIDEO||e.transcodeServer.get("isCloud")||(o===mc.NEVER?r.subtitles=e.canDirectPlay?"none":"auto":e.useSoftSubtitles?(r.subtitles=e.canDirectPlay?"sidecar":"auto",o===mc.AVOID&&(r.advancedSubtitles="text")):r.subtitles="burn");let l=t.profileExtra;I.a.isFunction(l)&&(l=l(e)),r["X-Plex-Client-Profile-Extra"]=l;const c=n.get("Media")[0],d=!!c&&"livetv"===c.origin;("hls"===r.protocol&&!t.useOffsetHLS&&!d||"dash"===r.protocol&&!d)&&(Object(C.a)("[PDE] DASH and HLS should seek forward by default, offset=0"),delete r.offset),"hls"===r.protocol&&t.useOffsetHLS&&(e.useOffsetHLS=!0,r.offset&&(Object(C.a)("[PDE] HLS started with an offset, copyts=0"),r.copyts=0)),Lme(r.protocol)&&d&&(r.copyts=0),"http"===r.protocol&&(r.copyts=d?0:1),"http"!==r.protocol||e.canDirectPlay||(r["X-Plex-Chunked"]=1),t.allowIncompleteSegments&&(r["X-Plex-Incomplete-Segments"]=1),I.a.each(I.a.keys(r),(function(e){null==r[e]&&delete r[e]}));const u=t.type,p=t.transcoder,h=e.transcodeServer;if(u===rS.types.VIDEO)return p.video(h,n,a,s,r,i);if(u===rS.types.MUSIC)return p.music(h,n,r,i);if(u===rS.types.PHOTO){r.fallbackServer=t.fallbackServer;const e="photo"===n.get("type")?n.getMediaKey():n.get("thumb");return p.image(h,e,r)}return u===rS.types.ROM?p.game(h,n,a,r,i):void 0},resolveSubtitlesUrl:function(e,t){if(e.useSidecarSrtSubtitles){const i=t.itemProvider||t.item.provider,n=WC(e.media);return i.resolveUrl(n.key,{appendHeaders:!0,appendToken:!0,params:{format:"srt"}})}const i=this.resolveTranscoderUrl(e,t),n=V.parseUrl(i).params,a=e.canDirectPlay?"/subtitles/:/transcode/universal/start":"/video/:/transcode/universal/subtitles";return e.transcodeServer.resolveUrl(a,{params:n})},resolveLicenseUrl:function(e,t){const i=t.item,n={appendHeaders:!0,params:Ht(e.drm)},a=kme(i,t);return Object(C.a)("[PDE] Resolving DRM license",e.part.license),a.resolveUrl(e.part.license,n)},resolveDecision:function(e,t){const i=e.transcodeServer,n=D.a.Deferred(),a=i.get("isCloud")||!i.supports("decisionEndpoint"),s=t.type===rS.types.PHOTO||t.type===rS.types.ROM;if(a||s)return Object(C.a)("[PDE] Unnecessary for server to resolve decision"),n.resolve(e).promise();const r=I.a.clone(e);this.validatePlayerTranscodeProtocol(r,t);const o=this.resolveTranscoderUrl(r,t,"decision"),l=D.a.ajax(i.getXHROptions(o,{timeout:2e3}));return null!=e.offset&&!e.canDirectPlay&&Lme(e.protocol)&&e.media&&"livetv"===e.media.origin&&(e.offset=0),l.done((function(t){const i=Se.a.parseXML(t);i.generalDecisionCode&&(e.generalDecisionCode=Se.a.parseInteger(i.generalDecisionCode),e.generalDecisionText=i.generalDecisionText),i.mdeDecisionCode&&(e.mdeDecisionCode=Se.a.parseInteger(i.mdeDecisionCode),e.mdeDecisionText=i.mdeDecisionText),i.transcodeDecisionCode&&(e.transcodeDecisionCode=Se.a.parseInteger(i.transcodeDecisionCode),e.transcodeDecisionText=i.transcodeDecisionText),e.abr=Se.a.parseBoolean(i.abr),e.decisionXML=t,wme(e)?n.reject(e):n.resolve(e)})),l.fail((function(){C.a.warn("[PDE] Player decision failed; the transcode server may be a slow or outdated"),n.resolve(e)})),n.promise()}};const zme=Object(Pi.a)("ui/player/playerDecision/makeDecision"),Ume=Object(Pi.a)("ui/player/playerDecision/makeNextDecision"),Vme=Object(Pi.a)("ui/player/playerDecision/removeDecision"),Bme=Object(Pi.a)("ui/player/playerDecision/retryDecision");function Fme(e,t,i){const n=Object(S7.c)(e,t),a=Object(Voe.a)(n),s=a.get("metadataItem");if(a.get("playQueueItemID")!==i.playQueueItemID)return;const r={currentDecision:i,availableQualities:i.availableQualities,qualityIndex:i.qualityIndex,mediaIndex:i.mediaIndex,partIndex:i.partIndex,positionSeconds:i.positionSeconds,durationSeconds:i.durationSeconds};null!=n.get("startMetadataItemEntityID")&&n.get("startMetadataItemEntityID")!==s.entityID()||(r.startMetadataItemEntityID=null,r.startOffsetMilliseconds=null,r.startMediaIndex=null);const o=function(e,t,i){if(e.get("user").get("experienceSettings").get("reminders"))for(const n of Mme){const a=n(e,t,i);if(a)return a}return null}(e,t,i);r.confirmPlayerUpsellPayload=o,r.isPaused=!!o||n.get("isPaused"),n.set(r)}const Hme={"ui/player/playerDecision/makeDecision"(e,t){const{playerType:i,playQueueItemEntityID:n,mediaIndex:a,partIndex:s,qualityIndex:r,transcodeSessionID:o,options:l={}}=t,c=Object(S7.c)(e,i),d=wi.h(e,{playQueueItemEntityID:n});if(d.get("type")===Go.c)return;const u=c.get("decisions")[n];if(u)return void Fme(e,i,u);let p,h;const m=d.get("metadataItem");let g,v=Sme(e,c,d).then(e=>c.get("liveTVSession")?D.a.Deferred().resolve().promise():(p=e.mediaServerModel,h=e.mediaProviderModel,koe(m,{forceSyncCheckFiles:!0,itemProvider:e.providerModel})));v=v.then(()=>{const t=null==a?function(e,t){return null==e.get("startMetadataItemEntityID")&&null!=e.get("startMediaIndex")||e.get("startMetadataItemEntityID")===t.entityID()?e.get("startMediaIndex"):null}(c,m):a,i=m.get("Media")[t],n=i&&i.Part[s],d=Object(ne.c)("getDecisionOptions")(m,r,i);return g=Object.assign({transcodeSessionID:o,playbackSessionID:c.get("playbackSessionID"),item:m,offset:Object(Dme.a)(c,m),fallbackServer:e.get("primaryServer"),media:i,part:n,itemProvider:h,itemServer:p},d,l),l.offset,Rme.getPlayerDecision(g)}),v.done(Object(Ome.a)(c,t=>{const a=Pme(g,t),s=Object.assign({},a,{playQueueItemID:d.get("playQueueItemID")}),r=c.get("decisions");c.set("decisions",Object.assign({},r,{[n]:s})),Fme(e,i,s)})).fail(Object(Ome.a)(c,e=>{let t;p&&h?m.get("isPreFetched")?(m.set({isPreFetched:!1}),t=wme(e)):t=Object(Ze.default)("Content is unavailable"):t=Object(Ze.default)("Source is unavailable"),function(e,t,i,n){const a=e.get("playQueue"),s=a.get("playQueueItems").at(a.get("currentIndex"));t.id===s.id&&e.set({isMediaLoading:!1,hasError:!0,errorCode:n,errorMessage:i})}(c,d,t,e.errorCode)}))},"ui/player/playerDecision/makeNextDecision"(e,{playerType:t},i){const n=Object(S7.c)(e,t),a=n.get("playQueue"),s=a.get("playQueueItems"),r=a.get("currentIndex");let o=n.get("repeatOne")?r:r+1;if(n.get("repeatAll")&&o>s.length-1&&(o=0),o!==r&&o<s.length){const e=s.at(o).entityID();i(zme({playerType:t,playQueueItemEntityID:e}))}},"ui/player/playerDecision/removeDecision"(e,{playerType:t,playQueueItemEntityID:i}){const n=Object(S7.c)(e,t);Object(Ti.a)(()=>{const e=n.get("decisions"),t=n.get("currentDecision"),a={decisions:Object.assign({},e,{[i]:null})};e[i]===t&&(a.currentDecision=null),n.set(a)})},"ui/player/playerDecision/retryDecision"(e,t,i){const{playerType:n,decisionOptions:a}=t,s=Object(S7.c)(e,n),r=s.get("playQueue"),o=r.get("playQueueItems"),l=s.get("currentDecision"),c=r.get("currentIndex"),d=o.at(c).entityID();l&&i(Vme({playerType:n,playQueueItemEntityID:d})),i(zme(l?{playerType:n,playQueueItemEntityID:d,mediaIndex:l.mediaIndex,partIndex:l.partIndex,qualityIndex:s.get("qualityIndex"),options:Object.assign({offset:1e3*s.get("positionSeconds")},a)}:{playerType:n,playQueueItemEntityID:d,qualityIndex:s.get("qualityIndex")}))}};var _me=function(e=0){return Object(Wu.a)(khe(e),XK,yg,(e,t,i)=>{if(!e||!e.metadataItem)return;const n=t[e.metadataItem];return n&&i[n.providerEntityID]})};var Wme=function(){return Object(Wu.a)(G7("mediaIndex"),khe(),XK,(e=0,t,i)=>{if(!t||!t.metadataItem)return;const{Media:n}=i[t.metadataItem];return n[e]})};var Qme=function(){return Object(Wu.a)(G7("partIndex"),Wme(),(e=0,t)=>{if(t)return t.Part[e]})};var Gme=function(){return Object(Wu.a)(Qme(),e=>{if(!e)return{videoStreams:[],selectedVideoStream:null,audioStreams:[],selectedAudioStream:null,subtitlesStreams:[],selectedSubtitlesStream:null};const t=_C.a.get("video").id,i=_C.a.get("audio").id,n=_C.a.get("subtitles").id,a=e.Stream.filter(e=>e.streamType===t),s=e.Stream.filter(e=>e.streamType===i),r=e.Stream.filter(e=>e.streamType===n),o=a[0],l=s.find(e=>e.selected),c=r.find(e=>e.selected);return{videoStreams:a,selectedVideoStream:o,audioStreams:s,selectedAudioStream:l,subtitlesStreams:r,selectedSubtitlesStream:c}})};function Kme(){return Object(Wu.a)(Ghe,Qhe(),_he(),(e,t,i)=>e?i:t)}var Yme=function(){return Object(Wu.a)(Object(ne.c)("selectRemoteQuality"),e=>{let t=ol.a.getQualityByIndex(e).bitrate;return null==t&&(t=2e5),1e3*t})};var qme=function(){return Object(Wu.a)(G7("serverEntityID"),Rhe(),Ku,(e,t,i)=>t&&t.transcodeServerEntityID?i[t.transcodeServerEntityID]:e?i[e]:void 0)},Zme=i("qNzc"),Jme=i("jvu3"),Xme=i("P0vZ"),$me=i.n(Xme);const ege=Nd.a.createElement,{Component:tge,Suspense:ige}=Nd.a;var nge=class extends tge{constructor(e,t){super(e,t),this._mediaComponent=void 0,this._mediaComponent=Object(ne.c)("mediaComponent")}render(){const e=this.props,{isDecisionPending:t,isDecisionDirectPlay:i,isDecisionDirectStreamAudio:n,isDecisionDirectStreamVideo:a,isLibraryProvider:s,hasStreamProtocol:r,isPaused:o,isAdVisible:l,decisionUrl:c,decisionProtocol:d,decisionDrm:u,decisionCertificate:p,decisionLicense:h,media:m,mediaType:g,mediaSubtype:v,placement:y,shouldCoverWhenDecisionPending:f}=e,b=Xe()(e,["isDecisionPending","isDecisionDirectPlay","isDecisionDirectStreamAudio","isDecisionDirectStreamVideo","isLibraryProvider","hasStreamProtocol","isPaused","isAdVisible","decisionUrl","decisionProtocol","decisionError","decisionDrm","decisionCertificate","decisionLicense","media","mediaType","mediaSubtype","placement","shouldCoverWhenDecisionPending"]);if(t)return f?Vu()("div",{className:$me.a.isDecisionPending}):null;const I=this._mediaComponent.getComponent({drm:u,protocol:d,isDirectPlay:i,isDirectStreamAudio:n,isDirectStreamVideo:a,isLibraryProvider:s,hasStreamProtocol:r,media:m}),S=g===Go.a?Jme.b:y;return Vu()(ige,{fallback:null},void 0,ege(I,tp()({},b,{key:c,src:c,paused:o||l,placement:S,media:m,mediaType:g,mediaSubtype:v,drm:u,license:h,certificate:p,isDecisionDirectPlay:i,isDecisionDirectStreamAudio:n,isDecisionDirectStreamVideo:a})))}};const age=Nd.a.createElement,{Component:sge}=Nd.a;function rge(e){const{playerType:t,mediaType:i,mediaSubtype:n,durationSeconds:a,minSecondsForPostPlay:s}=e;return i===Go.e&&n!==LC.a&&t===V8.a&&a>=s}const oge={dispatchMakeDecision:zme,dispatchMakeNextDecision:Ume,dispatchRemoveDecision:Vme,dispatchRetryDecision:Bme,dispatchUpdatePlayerDuration:Boe.O,dispatchUpdatePlayerPosition:Boe.Q,dispatchUpdatePlayerSeekRange:Boe.R,dispatchUpdatePlayerBuffering:Boe.N,dispatchPause:Boe.s,dispatchPlay:Boe.t,dispatchUpdatePlayerError:Boe.P,dispatchSendTimeline:Boe.x,dispatchTickPlayer:Boe.E,dispatchShowPostPlay:y7.H,dispatchPlayNextItem:y7.y,dispatchEndPlayback:xT.p,dispatchSetMetricsPlayer:xT.u,dispatchUpdateMediaDimensions:Boe.M,dispatchUpdateCanPlayThrough:Boe.L};class lge extends sge{constructor(e,t){super(e,t),this._hasPreFetched=void 0,this._hasRefreshedPlayQueue=void 0,this._shouldStopOnUnmount=void 0,this.onDurationMillisecondsChange=e=>{this.props.dispatchUpdatePlayerDuration({playerType:this.props.playerType,durationMilliseconds:e})},this.onPositionMillisecondsChange=e=>{const{playerType:t,dispatchUpdatePlayerPosition:i,onPositionMillisecondsChange:n}=this.props,a=Math.floor(e/1e3);n&&n(e),a!==this.props.positionSeconds&&i({playerType:t,positionSeconds:a})},this.onTick=e=>{const{metadataItemEntityID:t,liveTVSessionEntityID:i,mediaItemID:n,playerType:a,dispatchTickPlayer:s}=this.props;t&&n&&s({metadataItemEntityID:t,liveTVSessionEntityID:i,mediaItemID:n,playerType:a,secondsElapsed:e})},this.onBufferingChange=e=>{this.props.dispatchUpdatePlayerBuffering({playerType:this.props.playerType,isBuffering:e})},this.onPause=()=>{this.props.isAdVisible||this.props.dispatchPause({playerType:this.props.playerType,isApplicationInitiated:!0})},this.onPlay=()=>{this.props.isAdVisible||this.props.dispatchPlay({playerType:this.props.playerType,isApplicationInitiated:!0})},this.onStreamChange=()=>{const{playerType:e,playQueueItemEntityID:t,positionSeconds:i,liveTVPositionSeconds:n,qualityIndex:a,decisionMediaIndex:s,decisionPartIndex:r,dispatchMakeDecision:o,dispatchRemoveDecision:l}=this.props;l({playerType:e,playQueueItemEntityID:t}),o({playerType:e,playQueueItemEntityID:t,mediaIndex:s,partIndex:r,qualityIndex:a,options:{offset:null!=n?1e3*n:1e3*i}})},this.onMetricsPlayerChange=e=>{const{playerType:t,dispatchSetMetricsPlayer:i}=this.props;i({playerType:t,metricsPlayer:e})},this.onError=(e={})=>{const{code:t,category:i,message:n}=e,{playerType:a,isDecisionDirectPlay:s,isDecisionDirectStreamVideo:r,isDecisionDirectStreamAudio:o,canTranscodeServerTranscode:l,dispatchUpdatePlayerError:c}=this.props;s&&l?(C.a.warn("[Player] Direct Play failed, but server can transcode. Attempting to fallback to either Direct Stream or transcode..."),this._itemRestarting(this.props,{allowDirectPlay:!1})):r&&l?(C.a.warn("[Player] Direct Stream failed, but server can transcode. Attempting to fallback to video transcode..."),this._itemRestarting(this.props,{allowDirectPlay:!1,transcoderOptions:{directStream:0}})):o&&l?(C.a.warn("[Player] Video transcode failed. Attempting to fallback to video and audio transcode..."),this._itemRestarting(this.props,{allowDirectPlay:!1,transcoderOptions:{directStream:0,directStreamAudio:0}})):(this.onPause(),c({playerType:a,errorCode:t,errorCategory:i,errorMessage:n}))},this.onEnd=()=>{const{playerType:e,playQueueItemEntityID:t,qualityIndex:i,repeatOne:n,repeatAll:a,isLastPlayQueueItem:s,totalCount:r,decisionMediaIndex:o,decisionPartIndex:l,decisionPartCount:c,dispatchMakeDecision:d,dispatchRemoveDecision:u,dispatchShowPostPlay:p,dispatchPlayNextItem:h,dispatchEndPlayback:m}=this.props,g=n||a&&1===r;l+1<c?(u({playerType:e,playQueueItemEntityID:t}),d({playerType:e,playQueueItemEntityID:t,qualityIndex:i,mediaIndex:o,partIndex:l+1,options:{offset:0}})):g?(u({playerType:e,playQueueItemEntityID:t}),d({playerType:e,playQueueItemEntityID:t,qualityIndex:i,mediaIndex:o,partIndex:0,options:{offset:0}})):!s||a?rge(this.props)?p({playerType:e}):h({playerType:e,isApplicationInitiated:!0}):m({playerType:e})},this.onIntrinsicDimensions=({width:e,height:t})=>{const{playerType:i,dispatchUpdateMediaDimensions:n}=this.props;Object(C.a)("[Player] Media resized: "+e+"x"+t+" ("+e/t+")"),n({playerType:i,width:e,height:t})},this.onCanPlayThrough=e=>{const{playerType:t,dispatchUpdateCanPlayThrough:i}=this.props;i({playerType:t,canPlayThrough:e})},this._hasRefreshedPlayQueue=!1,this._shouldStopOnUnmount=!1}componentDidMount(){this._itemStarting(this.props),this.props.mediaType===Go.c&&this._itemProgressing(this.props)}componentDidUpdate(e){const{playQueueItemEntityID:t,mediaItemID:i,playerType:n,mediaType:a,isDecisionPending:s,isPaused:r,isBuffering:o,hasError:l,positionSeconds:c,durationSeconds:d,preFetchSeconds:u,qualityIndex:p,dispatchMakeNextDecision:h,liveTVPositionSeconds:m,isLiveTV:g}=this.props,v=e.mediaItemID,y=g?!(!i||!v||i===v):t!==e.playQueueItemEntityID,f=s!==e.isDecisionPending,b=p!==e.qualityIndex,I=r!==e.isPaused,S=o!==e.isBuffering,C=l!==e.hasError,M=d!==e.durationSeconds;if(!b||y||f){if(y)return this._hasRefreshedPlayQueue=!1,this._hasPreFetched=!1,this._itemStopping(e,{removeDecision:!g}),this._itemStarting(this.props),void(a===Go.c&&(this._itemProgressing(this.props,{shouldRefreshPlayQueue:!0}),this._hasRefreshedPlayQueue=!0));!this._hasPreFetched&&d>0&&d-c<u&&!rge(this.props)&&(this._hasPreFetched=!0,h({playerType:n})),!f&&(!this._hasRefreshedPlayQueue||I||S||C||M)&&(this._itemProgressing(this.props,{shouldRefreshPlayQueue:!this._hasRefreshedPlayQueue}),this._hasRefreshedPlayQueue=!0)}else{const e=null!=m?1e3*m:1e3*c;this._itemRestarting(this.props,{offset:e})}}componentWillUnmount(){!this.props.shouldSuppressStopOnUnmount&&this._shouldStopOnUnmount&&this._itemStopping(this.props,{continuing:!1}),this.props.onPositionMillisecondsChange&&this.props.onPositionMillisecondsChange(0)}_itemStarting(e){const{mediaType:t,playerType:i,playQueueItemEntityID:n,qualityIndex:a}=e;t!==Go.c&&e.dispatchMakeDecision({playerType:i,playQueueItemEntityID:n,qualityIndex:a})}_itemRestarting(e,t={}){const{mediaType:i,playerType:n}=e;i!==Go.c&&e.dispatchRetryDecision({playerType:n,decisionOptions:t})}_itemProgressing(e,{shouldRefreshPlayQueue:t=!1}={}){const{playerType:i,mediaType:n,providerEntityID:a,playQueueItemEntityID:s,metadataItemEntityID:r,mediaItemID:o,playbackTime:l,positionSeconds:c,durationSeconds:d,isPaused:u,decisionMediaIndex:p,decisionPartIndex:h,decisionPartCount:m,dispatchSendTimeline:g,liveTVSessionEntityID:v}=e,y=n===Go.c,f=u&&!y?Zme.c:Zme.d;g({playerType:i,providerEntityID:a,playQueueItemEntityID:s,metadataItemEntityID:r,liveTVSessionEntityID:v,mediaItemID:o,shouldRefreshPlayQueue:t,options:y?{state:f}:{playbackSessionID:e.playbackSessionID,playbackTime:l,positionSeconds:c,durationSeconds:d,mediaIndex:p,partIndex:h,partCount:m}}),this._shouldStopOnUnmount=!0}_itemStopping(e,{continuing:t=!0,removeDecision:i=!0}={}){e.dispatchSendTimeline({playerType:e.playerType,providerEntityID:e.providerEntityID,playQueueItemEntityID:e.playQueueItemEntityID,metadataItemEntityID:e.metadataItemEntityID,liveTVSessionEntityID:e.liveTVSessionEntityID,mediaItemID:e.mediaItemID,options:{state:Zme.e,continuing:t,playbackSessionID:e.playbackSessionID,playbackTime:e.playbackTime,positionSeconds:e.positionSeconds,durationSeconds:e.durationSeconds,mediaIndex:e.decisionMediaIndex,partIndex:e.decisionPartIndex,partCount:e.decisionPartCount}}),i&&e.mediaType!==Go.c&&e.dispatchRemoveDecision({playerType:e.playerType,playQueueItemEntityID:e.playQueueItemEntityID}),this._shouldStopOnUnmount=!1}render(){const e=this.props,{isAdVisible:t}=e,i=Xe()(e,["preFetchSeconds","minSecondsForPostPlay","repeatOne","repeatAll","totalCount","isLastPlayQueueItem","isAdVisible","shouldSuppressStopOnUnmount","canTranscodeServerTranscode","qualityIndex","decisionMediaIndex","decisionPartIndex","decisionPartCount","dispatchMakeDecision","dispatchRemoveDecision","dispatchUpdatePlayerDuration","dispatchUpdatePlayerPosition","dispatchUpdatePlayerSeekRange","dispatchUpdatePlayerBuffering","dispatchPause","dispatchUpdatePlayerError","dispatchTickPlayer","dispatchShowPostPlay","dispatchPlayNextItem","dispatchEndPlayback","dispatchSetMetricsPlayer","dispatchUpdateMediaDimensions","dispatchUpdateCanPlayThrough"]);return t&&!be.a.allowAdsOverMedia?null:age(nge,tp()({},i,{isAdVisible:t,onMetricsPlayerChange:this.onMetricsPlayerChange,onDurationMillisecondsChange:this.onDurationMillisecondsChange,onPositionMillisecondsChange:this.onPositionMillisecondsChange,onTick:this.onTick,onBufferingChange:this.onBufferingChange,onStreamChange:this.onStreamChange,onError:this.onError,onEnd:this.onEnd,onPause:this.onPause,onPlay:this.onPlay,onIntrinsicDimensions:this.onIntrinsicDimensions,onCanPlayThrough:this.onCanPlayThrough}))}}lge.defaultProps={preFetchSeconds:10,minSecondsForPostPlay:300,shouldSuppressStopOnUnmount:!1};var cge=Object(Hu.b)((function(){return Object(Wu.a)(_me(),Q7(),Rhe(),qme(),khe(),khe(1),Kme(),Khe(),Gme(),Bhe(),Yme(),(e,t,i,n,a,s,r,o,l,c,d)=>{const u=t.playQueue,p=u.playQueueSelectedItemOffset,h=a.entityID,m=!s||p+1===u.length,g={providerEntityID:t.providerEntityID,mediaItemID:null==o?void 0:o.id,metadataItemEntityID:null==r?void 0:r.entityID,playQueueItemEntityID:h,liveTVSessionEntityID:null==c?void 0:c.entityID,isDecisionPending:!i,isPaused:t.isPaused,isBuffering:t.isBuffering,hasError:t.hasError,repeatOne:t.repeatOne,repeatAll:t.repeatAll,totalCount:u.length,isLastPlayQueueItem:m,playbackTime:t.itemPlaybackTime,positionSeconds:t.positionSeconds,durationSeconds:t.durationSeconds,playbackSessionID:t.playbackSessionID,lastSeekPositionSeconds:t.lastSeekPositionSeconds,videoStreams:l.videoStreams,videoStream:l.selectedVideoStream,audioStreams:l.audioStreams,audioStream:l.selectedAudioStream,subtitlesStreams:l.subtitlesStreams,subtitleStream:l.selectedSubtitlesStream,isStreamChangeInProgress:null==r?void 0:r.isStreamChangeInProgress,bufferingDetectionLimit:be.a.bufferingDetectionLimit};if(c){const e=3===t.confirmLocalToRemote;Object.assign(g,ame(c),{shouldSuppressStopOnUnmount:e,isLiveTV:!0})}return i&&(g.decisionMediaIndex=i.mediaIndex,g.decisionPartIndex=i.partIndex,g.decisionPartCount=i.partCount,g.decisionUrl=i.url,g.decisionProtocol=i.protocol,g.decisionError=i.error,g.isDecisionDirectPlay=i.isDirectPlay,g.isDecisionDirectStreamVideo=i.canDirectStreamVideo,g.isDecisionDirectStreamAudio=i.canDirectStreamAudio,g.canTranscodeServerTranscode=!n.isCloud&&Qi(n.version,qi.decisionEndpoint),i.playbackSessionID&&(g.playbackSessionID=i.playbackSessionID),g.hasBurnedSubtitles=l.selectedSubtitlesStream&&l.selectedSubtitlesStream.id!==HC.a&&!i.subtitlesUrl,g.decisionDrm=i.drm,g.decisionLicense=i.license,g.decisionCertificate=i.certificate),!g.isDecisionDirectPlay||"dash"!==g.decisionProtocol&&"hls"!==g.decisionProtocol||(g.bufferingGoal=10,g.defaultBandwidthEstimate=d),e&&(g.isLibraryProvider=e.isLibraryProvider,g.hasStreamProtocol=e.protocols.includes("stream")),g})}),oge,(function(e,t,i){const n=t;return Object.assign({},i,e,n)}))(lge);var dge=Object(Hu.b)((function(){return Object(Wu.a)(G7("qualityIndex"),Rg.a,nme,ime(),Object(Wu.a)((e,{mediaType:t})=>t,G7("openState"),(e,t)=>e===Go.e&&t===b7.a),(e,t,i,n,a)=>({qualityIndex:e,subtitleSize:t.subtitleSize,volume:i,playbackSpeed:n,shouldCoverWhenDecisionPending:a}))}))(cge);const uge=Nd.a.createElement;var pge=tme((function(e){return uge(dge,tp()({},e,{type:"audio",allowRecycleElement:!0}))}));var hge=function(e,t){return FS(Object(Wu.a)(e=>e.ui,(e,{playerType:t})=>t,(i,n=t)=>{const a=n+"Player";return i[a]?I.a.pick(i[a],e):{}}),e=>e)};function mge(){return Object(Wu.a)(Ku,G7("serverEntityID"),(e,t)=>e[t])}var gge=i("Jig8"),vge=i("Sp9s");function yge(e){if(e)return e.relay?"relayed":e.isLoopback?"localhost":e.isPrivate?"local":"remote"}function fge(e,t){let i=e/t;return i=Math.round(i),i*=t,i}function bge(e){if(null==e)return;const t=Math.round(e/1e3);let i;return i=t>=3600?300:60,fge(t,i)}const{Component:Ige}=Nd.a,Sge="cast",Cge="failed",Mge="completed",Dge="stopped",Pge="skipped",Oge="quality",jge="streams";const wge={dispatchSetPlayerItemPlaybackTime:Boe.y,dispatchSetPlayerSessionPlaybackTime:Boe.z};class Tge extends Ige{constructor(e,t){super(e,t),this._tickTimeout=void 0,this.hasEnded=void 0,this.hasError=void 0,this.hasStopped=void 0,this.itemDecision=void 0,this.itemID=void 0,this.itemMetricsProperties=void 0,this.itemPlaybackMilliseconds=void 0,this.itemPlaybackTimestamp=void 0,this.sessionAdPlaybackStartTime=void 0,this.sessionPlaybackCount=void 0,this.sessionPlaybackMilliseconds=void 0,this.onTickTimeout=()=>{this.flushPlaybackTimes(),this.setTickTimeout(this.props)},this.itemID=null,this.itemDecision=null,this.itemMetricsProperties=null,this.itemPlaybackTimestamp=null,this.itemPlaybackMilliseconds=0,this.sessionPlaybackMilliseconds=0,this.sessionPlaybackCount=0,this.sessionAdPlaybackStartTime=0,this.hasError=!1,this.hasEnded=!1,this.hasStopped=!1,this._tickTimeout=null}componentDidMount(){this.update()}componentDidUpdate(e){this.update(e)}componentWillUnmount(){this.hasStopped=!0,this.trackItemEnd(),this.trackSessionEnd(),this.clearTickTimeout()}clearTickTimeout(){this._tickTimeout&&(this._tickTimeout=window.clearTimeout(this._tickTimeout))}setTickTimeout(e){e.isPlaying&&(this.clearTickTimeout(),this.itemPlaybackTimestamp=Date.now(),this._tickTimeout=window.setTimeout(this.onTickTimeout,1e3))}update(e={}){const{itemID:t,decision:i,isRemotePlayer:n,isAdVisible:a,isPlaying:s,hasError:r,metricsType:o,metricsPlayer:l}=this.props,{isPlaying:c}=e;if(s&&!c?this.setTickTimeout(this.props):!s&&c&&this.clearTickTimeout(),n)return void(e.isRemotePlayer||(this.trackItemEnd(),this.trackSessionEnd()));!this.hasError&&r&&(this.hasError=!0,this.trackFailure()),this.itemID&&(this.itemID===t?this.updateCurrentItem():this.trackItemEnd());const d=!this.itemID&&!this.hasError&&t&&l&&(i||o===Qt.k);d&&a&&!s&&!this.sessionAdPlaybackStartTime&&(this.sessionAdPlaybackStartTime=Date.now()),d&&s&&this.trackItemStart()}updateCurrentItem(){const{decision:e,isPlaying:t,hasEnded:i}=this.props;if(t?(this.itemPlaybackTimestamp||(this.itemPlaybackTimestamp=Date.now()),this.hasEnded=i):this.flushPlaybackTimes(),this.itemDecision&&e&&this.itemDecision!==e){let t;if(this.itemDecision.qualityIndex!==e.qualityIndex?t=Oge:this.itemDecision.partIndex===e.partIndex&&(t=jge),t){const e=this.itemMetricsProperties.offset;this.trackItemRestart(t),this.itemMetricsProperties.offset=e}}}getItemMetricsProperties(){const e={serverType:this.props.metricsServerType,connectionType:this.props.metricsConnectionType,type:this.props.metricsType,identifier:this.props.metricsIdentifier,page:this.props.metricsPage,contextTuple:this.props.metricsContextTuple,setting:this.props.metricsSetting,auto:this.props.metricsAutoPlay,protocol:this.props.metricsProtocol,offset:this.props.metricsOffset,container:this.props.metricsContainer,duration:this.props.metricsDuration,bitrate:this.props.metricsBitrate,origin:this.props.metricsOrigin,audioCodec:this.props.metricsAudioCodec,audioDecision:this.props.metricsAudioDecision,videoCodec:this.props.metricsVideoCodec,videoDecision:this.props.metricsVideoDecision,subtitleFormat:this.props.metricsSubtitleFormat,subtitleDecision:this.props.metricsSubtitleDecision,player:this.props.metricsPlayer,mode:this.props.metricsMode};return this.props.isLiveTV&&this.props.isCloudServer&&(e.guid=this.props.metricsGUID,e.group=this.props.metricsGroup,e.title=this.props.metricsTitle,e.publishedAt=this.props.metricsPublishedAt,e.containedId=this.props.metricsContainerID),e}flushPlaybackTimes(){if(!this.itemPlaybackTimestamp)return;const e=Date.now()-this.itemPlaybackTimestamp;this.itemPlaybackTimestamp=null,this.itemPlaybackMilliseconds+=e,this.sessionPlaybackMilliseconds+=e,this.setPlayerItemPlaybackTime(),this.setPlayerSessionPlaybackTime(),Object(ne.c)("metrics").addPlaybackTime(e)}trackItemStart(){this.itemID=this.props.itemID,this.itemDecision=this.props.decision,this.itemMetricsProperties=this.getItemMetricsProperties(),this.itemPlaybackTimestamp=Date.now(),this.itemPlaybackMilliseconds=0,this.sessionPlaybackCount+=1,this.hasEnded=this.props.hasEnded,this.hasError=this.props.hasError;const e=this.props.playbackStartTime,t=Object.assign({},this.itemMetricsProperties);if(e>0&&1===this.sessionPlaybackCount){const i=this.sessionAdPlaybackStartTime||Date.now();t.latency=i-e}this.props.syncplaySessionRoomID&&(t.format="watch-together",t.playbackSessionId=this.props.syncplaySessionRoomID),Object(ne.c)("metrics").trackEvent({event:"playback:itemstart",interaction:!0,properties:t}),Object(ne.c)("metrics").incrementPlaybackCount(),this.setTickTimeout(this.props)}trackItemRestart(e){this.itemDecision=this.props.decision,this.itemMetricsProperties=this.getItemMetricsProperties(),Object(ne.c)("metrics").trackEvent({event:"playback:itemrestart",interaction:!0,properties:Object.assign({},this.itemMetricsProperties,{reason:e})})}trackItemEnd(){if(!this.itemID)return;let e;this.flushPlaybackTimes(),this.clearTickTimeout(),e=this.props.isRemotePlayer?Sge:this.hasError?Cge:this.hasEnded?Mge:this.hasStopped?Dge:Pge;const t=Object.assign({},this.itemMetricsProperties,{playbackTime:bge(this.itemPlaybackMilliseconds),status:e});this.props.syncplaySessionRoomID&&(t.format="watch-together",t.playbackSessionId=this.props.syncplaySessionRoomID),Object(ne.c)("metrics").trackEvent({event:"playback:itemend",interaction:!0,properties:t}),this.itemID=null,this.itemDecision=null,this.itemMetricsProperties=null,this.itemPlaybackTimestamp=null,this.itemPlaybackMilliseconds=0,this.hasError=!1,this.hasEnded=!1}trackSessionEnd(){this.sessionPlaybackCount&&(this.flushPlaybackTimes(),Object(ne.c)("metrics").trackEvent({event:"playback:sessionend",interaction:!0,properties:{serverType:this.props.metricsServerType,connectionType:this.props.metricsConnectionType,type:this.props.metricsType,playbackCount:this.sessionPlaybackCount,playbackTime:bge(this.sessionPlaybackMilliseconds)}}),this.sessionPlaybackMilliseconds=0,this.sessionPlaybackCount=0,this.sessionAdPlaybackStartTime=0)}trackFailure(){Object(ne.c)("metrics").trackEvent({event:"playback:failure",interaction:!0,properties:{serverType:this.props.metricsServerType,connectionType:this.props.metricsConnectionType,container:this.props.metricsContainer,type:this.props.metricsType,error:this.props.errorCode,mode:this.props.metricsMode}})}setPlayerItemPlaybackTime(){this.props.dispatchSetPlayerItemPlaybackTime({playbackTime:this.itemPlaybackMilliseconds,playerType:this.props.playerType})}setPlayerSessionPlaybackTime(){this.props.dispatchSetPlayerSessionPlaybackTime({playbackTime:this.sessionPlaybackMilliseconds,playerType:this.props.playerType})}render(){return null}}Tge.defaultProps={metricsPage:zd.W};var Ege=Object(Hu.b)((function(){return Object(Wu.a)(Ghe,K7(),mge(),Kme(),Khe(),Rhe(),khe(),Object(Wu.a)((e,{isAdVisible:t})=>t,hge(["confirmRemoteToLocal","isPostPlayVisible","isMediaLoading","isBuffering","isPaused","hasError"]),Kme(),Rhe(),(e,t,i,n)=>!(!i||i.type!==Qt.k)||!(!n||e||t.confirmRemoteToLocal||t.isPostPlayVisible||t.isMediaLoading||t.isBuffering||t.isPaused||t.hasError)),Object(Wu.a)(Fhe(),G7("positionSeconds"),Kme(),Khe(),Rhe(),(e,t,i,n,a)=>{if(e){if(!n)return!1;const{beginsAt:t,endsAt:i}=n;return e>i-.9*(i-t)}if(i&&i.type===Qt.k)return!0;if(a){const e=n&&n.Part[a.partIndex];if(n&&n.duration&&e)return Object(vge.a)(n,e,1e3*t)>.9*n.duration}return!1}),G7("syncplaySessionRoomID"),G7("hasError"),G7("errorCode"),G7("metricsPage"),G7("metricsContextTuple"),G7("metricsAutoPlay"),G7("metricsPlayer"),G7("metricsSetting"),G7("playbackStartTime"),(e,t,i,n,a,s,r,o,l,c,d,u,p,h,m,g,v,y)=>{const f={decision:s,isPlaying:o,isLiveTV:e,hasEnded:l,hasError:d,errorCode:u,metricsPage:p,metricsContextTuple:h,metricsAutoPlay:m,metricsPlayer:g,metricsSetting:v,playbackStartTime:y,syncplaySessionRoomID:c};if(i&&(f.isCloudServer=i.isCloud,f.metricsServerType=rT(i),f.metricsConnectionType=yge(i.activeConnection)),n&&(f.metricsType=n.type,f.metricsIdentifier=n.identifier,e&&(f.metricsGUID=n.ratingKey,f.metricsTitle=n.type===Qt.f?n.grandparentTitle:n.title,f.metricsPublishedAt=a.beginsAt,f.metricsContainerID=a.channelIdentifier,f.metricsGroup=a.channelShortTitle),n.type===Qt.k&&(f.metricsPlayer=gge.b,n.Media.length&&(f.metricsContainer=n.Media[0].container)),n.type===Qt.h&&(f.metricsPlayer=gge.b)),f.itemID=e?null==a?void 0:a.id:null==r?void 0:r.playQueueItemID,t&&!f.metricsIdentifier&&(f.metricsIdentifier=t.identifier),s){const e=function(e){const t={};return e.isDirectPlay?(t.videoDecision="direct",t.audioDecision="direct",t.subtitleDecision="direct"):(t.videoDecision=e.canDirectStreamVideo?"copy":"transcode",t.audioDecision=e.canDirectStreamAudio?"copy":"transcode",t.subtitleDecision=e.useSoftSubtitles?"copy":"transcode"),t}(s),t=a&&a.Part[s.partIndex];let i;n&&(i=Qt.u(n.type).mediaType);const r=_C.a.get("video").id,o=t&&I.a.findWhere(t.Stream,{streamType:r}),l=_C.a.get("audio").id,c=t&&I.a.findWhere(t.Stream,{streamType:l,selected:!0}),d=_C.a.get("subtitles").id,u=t&&I.a.findWhere(t.Stream,{streamType:d,selected:!0});f.metricsProtocol=s.protocol,f.metricsOffset=s.positionSeconds,s.drm&&(f.metricsMode=s.drm),a&&(f.metricsContainer=a.container,f.metricsDuration=bge(a.duration||n.duration),f.metricsBitrate=function(e){if(null==e)return;let t;return t=e>=10240?512:e>=1024?256:e>=512?128:e>=256?64:32,fge(e,t)}(a.bitrate),f.metricsOrigin=a.origin),i===Go.e&&(f.metricsVideoCodec=o&&o.codec||"unknown",f.metricsVideoDecision=e.videoDecision,u&&u.id!==HC.a&&(f.metricsSubtitleFormat=u&&u.codec||"unknown",f.metricsSubtitleDecision=e.subtitleDecision)),i!==Go.e&&i!==Go.a||(f.metricsAudioCodec=c&&c.codec||"unknown",f.metricsAudioDecision=e.audioDecision)}return n&&n.type===Qt.h&&n.Platform.length&&(f.metricsContainer=n.Platform[0].tag),f})}),wge)(Tge);const{Component:Nge}=Nd.a;var xge=Object(Hu.b)((function(){return Object(Wu.a)(hge(["isOpen","isPaused","openState"]),({isOpen:e,isPaused:t,openState:i})=>{const n=i===b7.a;return{isEnabled:!e||!n||t}})}))(class extends Nge{constructor(e,t){super(e,t),this._screenSaverManager=void 0,this._screenSaverManager=Object(ne.a)("screenSaverManager")?Object(ne.c)("screenSaverManager"):null}componentDidMount(){this._toggleScreenSaver(this.props.isEnabled)}componentDidUpdate(e){e.isEnabled!==this.props.isEnabled&&this._toggleScreenSaver(this.props.isEnabled)}componentWillUnmount(){this._toggleScreenSaver(!0)}_toggleScreenSaver(e){this._screenSaverManager&&this._screenSaverManager.toggle(e)}render(){return null}});const{Component:Age}=Nd.a;class Lge extends Age{constructor(...e){super(...e),this.timeoutID=void 0,this.onResize=e=>{this.timeoutID=window.clearTimeout(this.timeoutID),this.timeoutID=window.setTimeout(this.onResizeTimeout,this.props.resizeDelay)},this.onResizeTimeout=()=>{this.props.onScreenSizeChange({width:window.innerWidth,height:window.innerHeight})}}componentDidMount(){window.addEventListener("resize",this.onResize),this.onResizeTimeout()}componentWillUnmount(){window.removeEventListener("resize",this.onResize),this.timeoutID=window.clearTimeout(this.timeoutID)}render(){return null}}Lge.defaultProps={resizeDelay:100};var kge=Lge;const Rge=Object(Pi.a)("ui/advertisingNoticeModal/setAdConsent"),zge=Object(Pi.a)("ui/advertisingNoticeModal/resetAdConsent"),Uge=Object(Pi.a)("ui/advertisingNoticeModal/trackAdConsentAction"),Vge={"ui/advertisingNoticeModal/setAdConsent"(e,t){const i=e.get("user"),n=e.get("ui").get("advertisingNoticeModal");Object(Ti.a)(()=>{n.set({isSaving:!0})});const a=V.join(["/api/v2/user",i.get("uuid"),"settings/consent"]),s=i.server.getXHROptions(a,{type:"PUT",data:{consent:t.consent}});let r=D.a.ajax(s);r=r.then(()=>i.fetch()),r.then(()=>{n.set({isSaving:!1,isSaved:!0})},e=>{n.set({isSaving:!1,isSaved:!0});const a=Math.round(Date.now()/1e3);i.set({adsConsent:t.consent,adsConsentSetAt:a,adsConsentReminderAt:a+86400})})},"ui/advertisingNoticeModal/resetAdConsent"(e){e.get("ui").get("advertisingNoticeModal").restoreDefaults()},"ui/advertisingNoticeModal/trackAdConsentAction"(e,{advertisingNoticePayload:t,action:i}){const n=wi.j(e,t),a={page:zd.f,action:i,identifier:n.get("identifier")};if(t.metadataItemEntityID){const i=wi.f(e,t);a.type=i.get("type")}Object(ne.c)("metrics").trackClick(a)}};var Bge=i("DYor"),Fge=i.n(Bge);const{useCallback:Hge,useEffect:_ge,useState:Wge}=Nd.a;var Qge=function(e){const{isOpen:t,isSaving:i,isSaved:n,onContinue:a,onCancel:s,onSaveComplete:r}=e,o=i||n,l=Wge(!1),c=l[1],d=l[0],u=Hge(()=>{c(!0),a(!0)},[a]),p=Hge(()=>{c(!1),a(!1)},[a]);return _ge(()=>{n&&r(d)},[d,n,r]),Vu()(Fw,{size:Fh,isOpen:t,metricsPage:zd.c,onModalClose:s},void 0,Vu()(YL,{onModalClose:s},void 0,Vu()(zL,{},void 0,Object(Ze.default)("Consent")),Vu()(wL,{},void 0,Vu()("div",{className:Fge.a.message},void 0,Object(Ze.default)("Plex is able to provide free-to-watch movies and shows by displaying a modest number of ads before and during playback. While it is not possible to opt out of these ads, we can provide you the best and most relevant advertising experience if you agree to the terms below.")),Vu()(vw,{className:Fge.a.consentMessage,component:"div",message:Object(Ze.default)("I consent to Plex sharing the advertising identifiers on my devices with Plex's advertising partners. This data is used to deliver the advertising that supports content you may access through Plex on all devices on which you have Plex installed. To learn how to withdraw consent, visit our {openLinkPrivacyPolicyUrl}privacy policy{closeLinkPrivacyPolicyUrl}."),tags:[{open:"openLinkPrivacyPolicyUrl",close:"closeLinkPrivacyPolicyUrl",component:zp,kind:Pp,to:"https://www.plex.tv/privacy",target:"_blank"}]})),Vu()(AL,{},void 0,Vu()(sV,{},void 0,Vu()(BL,{metricsProperties:{page:zd.c},action:Rd.s},void 0,Vu()(hV,{className:Fge.a.confirmButton,isSpinning:o&&!d,onPress:p},void 0,Object(Ze.default)("I Do Not Agree"))),Vu()(BL,{metricsProperties:{page:zd.c},action:Rd.g},void 0,Vu()(hV,{className:Fge.a.confirmButton,"data-autofocus":!0,kind:Pp,isSpinning:o&&d,onPress:u},void 0,Object(Ze.default)("I Agree")))))))};var Gge=Object(Hu.b)((function(){return Object(Wu.a)(e=>e.ui.advertisingNoticeModal,Object(Wu.a)((e,{advertisingNoticePayload:t})=>t,XK,(e,t)=>{if(e.metadataItemEntityID)return t[e.metadataItemEntityID]}),(e,t)=>Object.assign({},e,{metadatItemType:t&&t.type}))}),(function(e,{playerType:t,advertisingNoticePayload:i}){return{onContinue(t){e(Rge({consent:t}))},onCancel(){e(Uge({advertisingNoticePayload:i,action:Rd.j})),e(Object(xT.t)({playerType:t}))},onSaveComplete(n){e(Uge({advertisingNoticePayload:i,action:n?Rd.g:Rd.s})),e(Object(xT.x)(Object.assign({},i,{playerType:t,confirmAdvertisingNotice:!0}))),e(zge())}}}))(Qge),Kge=i("iPle"),Yge=i("tNwU");function qge(e){const t=e.get("captureBuffer");return t&&t.startedAt}function Zge(e){return e.get("currentPosition")}function Jge(e){const t=e.get("liveTVSession");return e.get("liveTVSession")?Zge(t):0}function Xge(e){const t=e.get("liveTVSession"),i=t.get("captureBuffer");if(i){const{startedAt:e,seekStartSeconds:t,seekEndSeconds:n}=i;return{seekStartSeconds:e+t,seekEndSeconds:e+n}}const n=t.get("startedAt");return{seekStartSeconds:n+e.get("seekStartSeconds"),seekEndSeconds:n+e.get("seekEndSeconds")}}function $ge(e){const t=Zge(e);if(!t)return;const i=e.get("timeline");for(let e=0;e<i.length;e++){const n=[...i.at(e).get("Media")].sort((e,t)=>e.endsAt-t.endsAt);for(let e=0;e<n.length;e++){const i=n[e],{beginsAt:a,endsAt:s}=i;if(a<=t&&s>t)return i}}}function eve(e,t){const i=Jge(e),n=Xge(e).seekEndSeconds;return i?Math.min(n,i+t):void 0}function tve(e,t){const i=Jge(e),n=Xge(e).seekStartSeconds;return i?Math.max(n,i-t):void 0}function ive(e){const t=e.get("liveTVSession");if(!e.get("liveTVSession"))return;const i=Xge(e).seekStartSeconds,n=Zge(t),a=$ge(t);if(!a)return;if(n-a.beginsAt>Yge.a)return Math.max(i,a.beginsAt);const s=function(e){const t=Zge(e);if(!t)return;const i=e.get("timeline");for(let e=i.length-1;e>=0;e--){const n=[...i.at(e).get("Media")].sort((e,t)=>e.endsAt-t.endsAt);for(let e=n.length-1;e>=0;e--){const i=n[e];if(i.endsAt<=t)return i}}}(t);return s?Math.max(i,s.beginsAt):void 0}function nve(e,t){1===arguments.length&&(t=e.get("currentPosition"));const i=qge(e)||e.get("startedAt");return t-i}function ave(e,t,i,n){if(null==i)return;const a=Object(p7.a)(e),s=Object(S7.c)(e,t),r=s.get("liveTVSession"),o=r.get("startedAt");Object(Ti.a)(()=>{if(r.set({currentPosition:i,lastSeekPosition:i}),function(e,t){const i=e.get("currentDecision");if(!i||i.isDirectPlay)return!1;const n=e.get("liveTVSession"),a=n.get("startedAt");if(!n.get("captureBuffer"))return!1;if(be.a.shouldCreateNewSessionWhenSeekingLiveTV)return!0;const s=a+e.get("seekStartSeconds"),r=a+e.get("seekEndSeconds");return!(t>=s&&t<=r)}(s,i))r.set({startedAt:i}),n(Bme({playerType:t,decisionOptions:{offset:1e3*nve(r)}}));else{const e=Math.max(i-o,0);a.seek(s,e)}})}var sve=i("1iMN");function rve(e,t,i,n){const a=e.server.get("isCloud"),s=a?"/channels/"+i+"/tune":"/livetv/dvrs/"+t+"/channels/"+i+"/tune",r={method:"POST",headers:{"X-Plex-Session-Identifier":n.playbackSessionID},timeout:v.a};return D.a.ajax(a?e.provider.getXHROptions(s,r):e.server.getXHROptions(s,r)).then((n,s,r)=>{e.set(e.parse(n));const o=e.get("grabOperation");if(!o){const e=nT(r,Object(Ze.default)("Could not tune channel"));return D.a.Deferred().reject({errorMessage:e}).promise()}const l=o.get("metadataItem"),c=l.get("Media")[o.get("mediaIndex")],d=o.get("conflicts"),u=r.getResponseHeader("X-Plex-Activity"),p=o.get("beginsAt"),h=l.get("transcodeSession"),m={dvrID:t,channelIdentifier:i,activityUUID:u,currentPosition:p,startedAt:p};let g=!1;if(h){const t=h.get("timeStamp"),i=h.get("minOffsetAvailable"),n=h.get("maxOffsetAvailable");if(t&&null!=i&&null!=n){m.captureBuffer={startedAt:t,seekStartSeconds:i,seekEndSeconds:n};const a=t+i,s=e.get("timeline").toJSON().reduce((e,t)=>e||t.Media.find(e=>e.onAir),null).beginsAt,r=Math.max(a,s);Date.now()/1e3-r>60&&(g=!0)}}if(e.set(m),a)return D.a.Deferred().resolve(e).promise();if(d&&d.length)return D.a.Deferred().reject({hasConflicts:!0,liveTVSession:e}).promise();if(!u)return D.a.Deferred().reject({errorMessage:Object(Ze.default)("Could not tune channel (No activity)")}).promise();const v=c&&c.Part;return v&&v.length?(l.set("isPreFetched",!0),g?D.a.Deferred().reject({confirmPlayback:g,liveTVSession:e}).promise():D.a.Deferred().resolve(e).promise()):D.a.Deferred().reject({errorMessage:Object(Ze.default)("Could not tune channel (No parts)")}).promise()},(e,t)=>"abort"===t?D.a.Deferred().reject({errorMessage:Object(Ze.default)("Could not tune channel (Timed out)")}).promise():D.a.Deferred().reject({errorMessage:Object(Ze.default)("Could not tune channel")}).promise())}const ove="ui/player/liveTVPlayer/skipBack",lve="ui/player/liveTVPlayer/stepBack",cve=Object(Pi.a)("ui/player/liveTVPlayer/startLiveTVPlayback"),dve=Object(Pi.a)("ui/player/liveTVPlayer/endLiveTVPlayback"),uve=Object(Pi.a)("ui/player/liveTVPlayer/confirmLiveTVPlayback"),pve=Object(Pi.a)("ui/player/liveTVPlayer/cancelConfirmLiveTVPlayback"),hve=Object(Pi.a)("ui/player/liveTVPlayer/updatePlayerLiveTVMetadata"),mve=Object(Pi.a)("ui/player/liveTVPlayer/playNextItem"),gve=Object(Pi.a)("ui/player/liveTVPlayer/playPreviousItem"),vve=Object(Pi.a)(ove),yve=Object(Pi.a)("ui/player/liveTVPlayer/skipForward"),fve=(Object(Pi.a)(lve),Object(Pi.a)("ui/player/liveTVPlayer/stepForward"),Object(Pi.a)("ui/player/liveTVPlayer/seek")),bve=Object(Pi.a)("ui/player/liveTVPlayer/clearPlayerConflicts"),Ive=Object(Pi.a)("ui/player/liveTVPlayer/cancelMediaGrabber"),Sve=Object(Pi.a)("ui/player/liveTVPlayer/togglePlayerAlsoAiringState");function Cve(e,t){const i=Math.floor(Date.now()/1e3);return e.get("Media").find(e=>{const n=e.beginsAt<=i&&i<=e.endsAt,a=!t||e.channelIdentifier===t;return n&&a})}function Mve(e){const t=Cve(e);return t?t.channelIdentifier:void 0}function Dve(e,t){const i=Object(S7.c)(e,t).get("liveTVSession");i&&i.set("lastSeekPosition",i.get("currentPosition"))}const Pve={"ui/player/liveTVPlayer/startLiveTVPlayback"(e,t,i){const{serverEntityID:n,providerEntityID:a}=t,s=Date.now(),r=Object(Kge.a)(e,t),o=Object(Dre.a)(r),l=V8.d(o),c=Object(S7.c)(e,l),d=wi.m(e,t),u=wi.j(e,{providerEntityID:a}),p=u.get("parentID"),h=r.metadataItemModel,m=gi(u.get("identifier"),u.get("providerIdentifier"));let g=null;if(h?g=Cve(h,r.identifier):r.identifier&&(g={channelIdentifier:r.identifier,beginsAt:Math.floor(Date.now()/1e3)}),!g)return void Object(Ti.a)(()=>{c.restoreDefaults({hasError:!0,errorMessage:Object(Ze.default)("Unable to tune channel (Not on air)")})});const v=e.get("remotePlayer");if(v&&!I7({protocol:v.get("protocol"),protocolCapabilities:v.get("protocolCapabilities"),providerIdentifier:m,userFeaturesByUUID:g7(e)}))return void Object(Ti.a)(()=>{c.set({hasError:!0,errorMessage:Object(Ze.default)("Live TV is not currently supported when connected to a remote player.")})});Object(Ti.a)(()=>{c.restoreDefaults({serverEntityID:n,providerEntityID:a,isOpen:!0,openState:b7.a,isPlayQueueLoading:!0,isMediaLoading:!0,playbackStartTime:s})});const y=new c7({},{server:d,provider:u}),f=g.channelIdentifier;rve(y,p,f,{playbackSessionID:c.get("playbackSessionID")}).done(()=>{c.set("liveTVSession",y);const e=y.get("grabOperation").get("metadataItem");i(Object(xT.x)(Object.assign({},t,{liveTVSessionEntityID:y.entityID(),metadataItemEntityID:e.entityID(),playbackStartTime:s,options:{offset:void 0}})))}).fail(e=>{const{confirmPlayback:t,hasConflicts:i,errorMessage:s}=e;if(t)c.restoreDefaults({serverEntityID:n,providerEntityID:a,liveTVSession:y,confirmLiveTVPlayback:t});else if(i)c.restoreDefaults({serverEntityID:n,providerEntityID:a,liveTVSession:y,hasConflicts:i});else{const e=d.getState();Object(ne.c)("metrics").trackEvent({event:"playback:failure",interaction:!0,properties:{serverType:rT(e),connectionType:yge(e.activeConnection),error:"tuneFailed",identifier:f}}),c.restoreDefaults({hasError:!0,errorMessage:s})}})},"ui/player/liveTVPlayer/endLiveTVPlayback"(e,t,i){const{playerType:n,showError:a}=t,s=Object(S7.c)(e,n);a?s.restoreDefaults({hasError:!0,errorMessage:Object(Ze.default)("This live TV session has ended due to a recording conflict")}):i(Object(xT.p)({playerType:n}))},"ui/player/liveTVPlayer/confirmLiveTVPlayback"(e,t,i){const{playerType:n,serverEntityID:a,providerEntityID:s,offset:r}=t,o=Object(S7.c)(e,n).get("liveTVSession"),l=o.get("captureBuffer"),c=o.get("grabOperation").get("metadataItem");if(null!=r){const e=l.startedAt+Math.floor(r/1e3);o.set({currentPosition:e,lastSeekPosition:e})}i(Object(xT.x)({serverEntityID:a,providerEntityID:s,liveTVSessionEntityID:o.entityID(),metadataItemEntityID:c.entityID(),startOffsetMilliseconds:r}))},"ui/player/liveTVPlayer/cancelConfirmLiveTVPlayback"(e,{playerType:t}){const i=Object(S7.c)(e,t);Object(Ti.a)(()=>{i.restoreDefaults()})},"ui/player/liveTVPlayer/updatePlayerLiveTVMetadata"(e,t){const{serverEntityID:i,playerType:n}=t,a=Object(S7.c)(e,n),s=a.get("liveTVSession");if(!s||a.get("serverEntityID")!==i)return;const r=s.get("dvrID"),o=s.get("channelIdentifier");rve(s,r,o,{playbackSessionID:a.get("playbackSessionID")})},"ui/player/liveTVPlayer/playNextItem"(e,{playerType:t},i){ave(e,t,function(e){const t=e.get("liveTVSession");if(!e.get("liveTVSession"))return;const i=Xge(e).seekEndSeconds,n=$ge(t);return n?Math.min(i,n.endsAt):void 0}(Object(S7.c)(e,t)),i)},"ui/player/liveTVPlayer/playPreviousItem"(e,{playerType:t},i){ave(e,t,ive(Object(S7.c)(e,t)),i)},[ove](e,{playerType:t},i){ave(e,t,function(e){return tve(e,Yge.c)}(Object(S7.c)(e,t)),i)},"ui/player/liveTVPlayer/skipForward"(e,{playerType:t},i){ave(e,t,function(e){return eve(e,Yge.d)}(Object(S7.c)(e,t)),i)},[lve](e,{playerType:t},i){ave(e,t,function(e){return tve(e,Yge.e)}(Object(S7.c)(e,t)),i)},"ui/player/liveTVPlayer/stepForward"(e,{playerType:t},i){ave(e,t,function(e){return eve(e,Yge.f)}(Object(S7.c)(e,t)),i)},"ui/player/liveTVPlayer/seek"(e,t,i){const{playerType:n,seekPosition:a}=t;ave(e,n,a,i)},"ui/player/liveTVPlayer/clearPlayerConflicts"(e,{playerType:t}){const i=Object(S7.c)(e,t);Object(Ti.a)(()=>{i.set({hasConflicts:!1})})},"ui/player/liveTVPlayer/cancelMediaGrabber"(e,t,i){const{playerType:n,grabOperationKey:a}=t,s=Object(S7.c)(e,n),r=s.get("serverEntityID"),o=wi.m(e,{serverEntityID:r}),l=s.get("liveTVSession").get("grabOperation").get("metadataItem"),c=!s.get("isOpen");if(c&&!Mve(l))return void s.restoreDefaults({hasError:!0,errorMessage:Object(Ze.default)("Unable to cancel conflict, please try again.")});Object(Ti.a)(()=>{s.set({isConflictCancelling:!0})});const d=o.getXHROptions(a,{type:"DELETE"});D.a.ajax(d).done(e=>{if(s.set({hasConflicts:!1,isConflictCancelling:!1,cancelConflictError:null}),c){const e=s.get("providerEntityID");if(!Mve(l))return void s.restoreDefaults({hasError:!0,errorMessage:Object(Ze.default)("Unable to tune channel after canceling a conflict, please try again.")});i(cve({serverEntityID:r,providerEntityID:e,metadataItemEntityID:l.entityID(),playerType:n}))}}).fail(e=>{s.set({isConflictCancelling:!1,cancelConflictError:Object(DT.a)(e)})})},[Ei](e,t){const{serverEntityID:i,activity:n}=t,a=Object(S7.c)(e,V8.a),s=a.get("liveTVSession");if(s&&a.get("serverEntityID")===i&&s.get("activityUUID")===n.uuid&&n.Context){const e=!!n.Context.conflicts,t=a.get("hasConflicts");if(e&&!t){const e=s.get("dvrID"),t=s.get("channelIdentifier");rve(s,e,t,{playbackSessionID:a.get("playbackSessionID")}).fail(({hasConflicts:e})=>{e&&a.set({hasConflicts:!0})})}else!e&&t&&a.set({hasConflicts:!1})}},[Ni](e,t,i){const{serverEntityID:n,activity:a}=t,s=Object(S7.c)(e,V8.a),r=s.get("liveTVSession");if(r&&s.get("serverEntityID")===n&&r.get("activityUUID")===a.uuid){let e=Object(Ze.default)("This live TV session has ended");a.Response&&a.Response.errorText?e=a.Response.errorText:s.get("hasConflicts")&&(e=Object(Ze.default)("This live TV session has ended due to a recording conflict")),s.restoreDefaults({hasError:!0,errorMessage:e})}},"ui/player/liveTVPlayer/togglePlayerAlsoAiringState"(e,{playerType:t}){const i=Object(S7.c)(e,t),n=i.get("isAlsoAiringVisible");Object(Ti.a)(()=>{i.set(Object(sve.a)(i,n,{isSettingsVisible:!1,isChaptersVisible:!1,isAlsoAiringVisible:!n,isLyricsVisible:!1}))})},[Boe.a](e,{playerType:t}){Dve(e,t)},[Boe.b](e,{playerType:t}){Dve(e,t)},[Boe.i](e,{playerType:t,positionSeconds:i}){const n=Object(S7.c)(e,t),a=n.get("liveTVSession");if(!a)return;const s=n.get("serverEntityID");if(wi.m(e,{serverEntityID:s}).get("isCloud"))Object(Ti.a)(()=>{const e=n.get("playbackStartTime"),t=n.get("sessionPlaybackTime");a.set({currentPosition:Math.floor((e+t)/1e3)})});else{const e=a.get("startedAt"),t=a.get("lastSeekPosition"),n=e+i;n>t&&Object(Ti.a)(()=>{a.set({currentPosition:n,lastSeekPosition:null})})}}};function Ove(){return Object(Wu.a)(Fhe(),Object(Wu.a)(Bhe(),XK,(e,t)=>e&&(e.timeline||e.grabOperation)?e.timeline?e.timeline.map(e=>t[e]):[t[e.grabOperation.metadataItem]]:[]),(e,t)=>{if(null!=e)for(let i=0;i<t.length;i++){const n=t[i];for(let t=0;t<n.Media.length;t++){const i=n.Media[t],{beginsAt:a,endsAt:s}=i;if(a<=e&&s>e)return n}}})}const{Component:jve}=Nd.a;function wve(e,t){const i=Math.max(e,t),n=Date.now()-1e3*i;return Zm(n)}var Tve=class extends jve{constructor(e,t){super(e,t),this._updateTimeAgoTimeout=void 0,this.updateTimeAgo=()=>{const{captureBufferStartedAt:e,mediaItemBeginsAt:t}=this.props,i=6e4-1e3*(new Date).getSeconds(),n=wve(e,t);n!==this.state.timeAgo&&this.setState({timeAgo:n}),this._updateTimeAgoTimeout=window.setTimeout(this.updateTimeAgo,i)},this.onConfirm=e=>{const{serverEntityID:t,providerEntityID:i,onConfirm:n}=this.props;n({serverEntityID:t,providerEntityID:i,offset:e})},this._updateTimeAgoTimeout=null,this.state={timeAgo:wve(e.captureBufferStartedAt,e.mediaItemBeginsAt)}}componentDidMount(){this.props.mediaItemBeginsAt||this.onConfirm(),this.updateTimeAgo()}componentWillUnmount(){this._updateTimeAgoTimeout&&window.clearTimeout(this._updateTimeAgoTimeout)}render(){const{isOpen:e,captureBufferStartedAt:t,mediaItemBeginsAt:i,onModalClose:n}=this.props,{timeAgo:a}=this.state;return t?Vu()(are,{isOpen:e,metricsPage:zd.Q,title:Object(Ze.default)("Join Session in Progress"),onItemSelect:this.onConfirm,onCancel:n},void 0,Vu()(dre,{value:1e3*Math.max(i-t,0)},void 0,Object(Ze.default)("Watch from start (started {timeAgo} ago)",{timeAgo:a})),Vu()(dre,{value:null},void 0,Object(Ze.default)("Watch Live"))):null}};var Eve=Object(Hu.b)((function(){return Object(Wu.a)(Q7(),Bhe(),Object(Wu.a)(Fhe(),Ove(),Bhe(),(e,t,i)=>{if(null!=e&&t&&i)return t.Media.find(t=>{const{beginsAt:n,endsAt:a,channelIdentifier:s}=t;return n<=e&&a>e&&i.channelIdentifier===s})}),(e,t,i)=>{const{serverEntityID:n,providerEntityID:a}=e,s={serverEntityID:n,providerEntityID:a};if(t&&t.captureBuffer){const e=t.captureBuffer.startedAt;s.captureBufferStartedAt=e}return i?s.mediaItemBeginsAt=i.beginsAt:t&&t.grabOperation&&(s.mediaItemBeginsAt=t.grabOperation.mediaItem.beginsAt),s})}),(function(e,{playerType:t}){return{onConfirm(i){e(uve(Object.assign({},i,{playerType:t})))},onModalClose(){e(pve({playerType:t}))}}}))(Tve);var Nve=Object(Wu.a)(X9,e=>e?e.friendlyName:null);var xve=function(e){const{isOpen:t,playerName:i,onConfirm:n,onCancel:a}=e;return Vu()(F_,{isOpen:t,metricsPage:zd.r,title:Object(Ze.default)("Continue Playback"),message:Object(Ze.default)("Would you like to continue playback on {playerName}?",{playerName:i}),confirmLabel:Object(Ze.default)("Yes"),cancelLabel:Object(Ze.default)("No"),onConfirm:n,onCancel:a})};const Ave=Nd.a.createElement,{useCallback:Lve,useEffect:kve}=Nd.a;const Rve={dispatchCancelLocalToRemote:R7,dispatchConfirmLocalToRemote:U7,dispatchCloseLocalToRemote:z7};var zve=Object(Hu.b)((function(){return Object(Wu.a)(Nve,G7("confirmLocalToRemote"),(e,t)=>({playerName:e,confirmLocalToRemote:t}))}),Rve)((function(e){const{playerType:t,confirmLocalToRemote:i,dispatchCancelLocalToRemote:n,dispatchCloseLocalToRemote:a,dispatchConfirmLocalToRemote:s}=e,r=Xe()(e,["playerType","confirmLocalToRemote","dispatchCancelLocalToRemote","dispatchCloseLocalToRemote","dispatchConfirmLocalToRemote"]);kve(()=>{3===i&&a({playerType:t})},[i,t,a]);const o=Lve(()=>{n({playerType:t})},[t,n]),l=Lve(()=>{s({playerType:t})},[t,s]);return Ave(xve,tp()({},r,{onCancel:o,onConfirm:l}))}));const{Fragment:Uve}=Nd.a;var Vve=Vu()(tf,{});var Bve=function(e){const{isOpen:t,viewOffset:i,duration:n,playerType:a,onConfirm:s,onCancel:r}=e,o=a===V8.c,l=(n-i)/1e3,c=l>0;return Vu()(are,{isOpen:t,metricsPage:zd.ib,title:o?Object(Ze.default)("Resume Game"):Object(Ze.default)("Resume Playback"),onItemSelect:s,onCancel:r},void 0,Vu()(dre,{value:i,autoFocus:!0},void 0,o?Object(Ze.default)("Resume (played {time})",{time:Xm(i)}):Vu()(Uve,{},void 0,Object(Ze.default)("Resume from {time}",{time:BC(i)}),c?Vve:null,c?$m(l):null)),Vu()(dre,{value:0},void 0,o?Object(Ze.default)("Restart"):Object(Ze.default)("Start from the beginning")))};var Fve=Object(Hu.b)((function(){return Object(Wu.a)((e,{confirmOffsetPayload:t})=>t,XK,(e,t)=>{let i;if(e){i=t[e.metadataItemEntityID]}return i?{viewOffset:i.viewOffset,duration:i.duration}:{}})}),(function(e,{playerType:t,confirmOffsetPayload:i}){return{onConfirm(t){e(xT.x(Object.assign({},i,{confirmPlayback:!0,confirmOffset:!0,startOffsetMilliseconds:t})))},onCancel(){e(xT.t({playerType:t}))}}}))(Bve);var Hve=function(e){const{isOpen:t,onConfirm:i,onCancel:n}=e;return Vu()(F_,{isOpen:t,metricsPage:zd.v,title:Object(Ze.default)("Play Now"),message:Object(Ze.default)("This will clear changes made to the queue and play the selection instead."),confirmLabel:Object(Ze.default)("Play"),onConfirm:i,onCancel:n})};var _ve=Object(Hu.b)(null,(function(e,{playerType:t,confirmPlaybackPayload:i}){return{onConfirm(){e(xT.x(Object.assign({},i,{confirmPlayback:!0})))},onCancel(){e(xT.n({playerType:t}))}}}))(Hve);var Wve=vc.a.shape({metricsContext:vc.a.oneOf(Object.values(_t)).isRequired,type:vc.a.oneOf(Object.values(d)).isRequired});const{useCallback:Qve}=Nd.a;function Gve(e){const{isOpen:t,metricsPage:i,onDismiss:n,upsellPayload:a,subscribeUrl:s,onSubscribe:r}=e,o=Qve(()=>{n(),r&&r()},[n,r]);return Vu()(Fw,{size:Fh,isOpen:t,metricsPage:i,onModalClose:n},void 0,Vu()(YL,{onModalClose:n},void 0,a.type===Cme?Vu()(zL,{},void 0,Object(Ze.default)("HDR Conversion")):null,a.type===Cme?Vu()(wL,{},void 0,Vu()("p",{},void 0,Object(Ze.default)("This video needs to be converted for playback and contains High Dynamic Range (HDR) content. Colors will appear distorted on this device.")),Vu()("p",{},void 0,Object(Ze.default)('With a Plex Pass, you can preview the new "HDR tone mapping" feature to correct colors during conversion!'))):null,Vu()(AL,{},void 0,Vu()(sV,{},void 0,Vu()(BL,{context:a.metricsContext,action:Rd.t},void 0,Vu()(hw,{onPress:n},void 0,Object(Ze.default)("OK"))),Vu()(BL,{context:a.metricsContext,action:Rd.jb},void 0,Vu()(hw,{"data-autofocus":!0,to:s,target:"_blank",kind:Pp,onPress:o},void 0,Object(Ze.default)("Get a Plex Pass")))))))}Gve.defaultProps={metricsPage:zd.D,subscribeUrl:V.join(["https://www.plex.tv","/plex-pass"])};var Kve=Gve;const Yve=Object(Hu.b)(null,(function(e,t){const{upsellPayload:i,onDismiss:n}=t;return{onDismiss(){const a=ed("upsell",i.type);e(vL({id:a})),n&&n(t)}}}))(Kve);Yve.propTypes=Object.assign({},Yve.propTypes,{upsellPayload:Wve.isRequired,onDismiss:vc.a.func});var qve=Yve;const Zve=Object(Hu.b)(null,(function(e,t){const{playerType:i}=t;return{onDismiss(){e(Object(xT.o)({playerType:i}))}}}))(qve);Zve.propTypes=Object.assign({},Zve.propTypes,{playerType:vc.a.oneOf([V8.a,V8.b,V8.c]).isRequired});var Jve=Zve;var Xve=function(e){const{isOpen:t,onConfirm:i,onCancel:n}=e;return Vu()(F_,{isOpen:t,metricsPage:zd.w,title:Object(Ze.default)("Continue Playback"),message:Object(Ze.default)("Would you like to continue playback here?"),confirmLabel:Object(Ze.default)("Yes"),cancelLabel:Object(Ze.default)("No"),onConfirm:i,onCancel:n})};var $ve=Object(Hu.b)(null,(function(e,{playerType:t}){return{onConfirm(){e(k7({playerType:t}))},onCancel(){e(Object(xT.p)({playerType:t}))}}}))(Xve);var eye=function(e){if(null==e)return"";const t=qm(e),i=24*t.days*60,n=60*t.hours,a=t.minutes+n+i,s=t.seconds;return a&&s?Object(Ze.default)("{1} min {2} sec",a,s):a?Object(Ze.default)("{1} min",a):s>0?Object(Ze.default)("{1} sec",s):""};const{Component:tye}=Nd.a;function iye(e){const t=Math.floor(Date.now()/1e3);return e.reduce((e,{mediaItem:i})=>{const{beginsAt:n,startOffsetSeconds:a=0}=i,s=n-a;return s>t&&(!e||s<e)?s:e},0)}function nye(e){return Math.max(0,e-Math.floor(Date.now()/1e3))}var aye=class extends tye{constructor(e,t){super(e,t),this._tickTimeout=void 0,this._tick=()=>{this.setState({endSeconds:nye(this.state.endsAt)}),this._setTickTimeout()},this._tickTimeout=null;const i=iye(e.conflicts);this.state={endsAt:i,endSeconds:nye(i)}}componentDidMount(){this._setTickTimeout()}componentDidUpdate(e,t){const{conflicts:i,onModalClose:n}=this.props;e.conflicts!==i&&this._updateEndSeconds(),t.endSeconds>0&&0===this.state.endSeconds&&n({showError:!0})}componentWillUnmount(){this._tickTimeout&&window.clearTimeout(this._tickTimeout)}_setTickTimeout(){this.state.endSeconds&&(this._tickTimeout=window.setTimeout(this._tick,1e3))}_updateEndSeconds(){const e=iye(this.props.conflicts);this.setState({endsAt:e,endSeconds:nye(e)})}render(){const{endSeconds:e}=this.state,t=eye(1e3*e);return Vu()("span",{},void 0,Object(Ze.default)("This live TV session will end in: {formattedMinutesSeconds}",{formattedMinutesSeconds:t}))}},sye=i("4kAM"),rye=i.n(sye);function oye(e,t,i,n){const a=e===Qt.f?i:t;return n?Object(Ze.default)("Stop watching {openSpan}{title}{closeSpan} and continue",{title:a}):Object(Ze.default)("Stop recording {openSpan}{title}{closeSpan} and continue",{title:a})}var lye=function(e){const{serverEntityID:t,type:i,title:n,grandparentTitle:a,thumb:s,grandparentThumb:r,isRolling:o,onCancelConflictPress:l}=e;return Vu()(zp,{className:rye.a.conflict,onPress:l},void 0,Vu()(tC,{className:rye.a.thumbnail,serverEntityID:t,url:s||r,width:53,height:80,component:JI}),Vu()("div",{className:rye.a.title},void 0,Vu()(vw,{message:oye(i,n,a,o),tags:[{open:"openSpan",close:"closeSpan",component:"span",className:rye.a.titleHighlight}]})))};var cye=Object(Hu.b)((function(){return Object(Wu.a)($K(),e=>({type:e.type,title:e.title,grandparentTitle:e.grandparentTitle,thumb:e.thumb,grandparentThumb:e.grandparentThumb}))}),(function(e,t){const{playerType:i,grabOperationKey:n}=t;return{onCancelConflictPress(){e(Ive({playerType:i,grabOperationKey:n}))}}}))(lye),dye=i("NRWW"),uye=i.n(dye);var pye=function(e){const{serverEntityID:t,hasSubscribeFeature:i,isPlayerOpen:n,playerType:a,isConflictCancelling:s,conflicts:r,error:o,onModalClose:l}=e,c=function(e,t){return e?t?Object(Ze.default)("A recording is scheduled to start in a few minutes and all tuners are currently in use. Please select from one of the actions below. Selecting OK or taking no action will end this live viewing session once the recording starts."):Object(Ze.default)("All tuners are in use. Please ask the server owner to free up a tuner to continue watching Live TV."):t?Object(Ze.default)("Please select from one of the actions below."):Object(Ze.default)("All tuners are in use. Please ask the server owner to free up a tuner to watch Live TV.")}(n,i);return Vu()(YL,{onModalClose:l},void 0,Vu()(zL,{className:uye.a.modalHeader},void 0,Object(Ze.default)("All Tuners are Currently in Use")),o?Vu()(sW,{kind:Op,message:Object(Ze.default)("There was an error trying to cancel the selected item, please try again")}):null,Vu()(wL,{innerClassName:uye.a.innerModalBody},void 0,Vu()("div",{className:uye.a.message},void 0,c),i?Vu()("div",{className:uye.a.conflicts},void 0,r.map(e=>Vu()(cye,{serverEntityID:t,grabOperationKey:e.key,metadataItemEntityID:e.metadataItem,playerType:a,isRolling:e.rolling,isPlayerOpen:n},e.key))):null),Vu()(AL,{},void 0,Vu()("div",{className:uye.a.footerMessage},void 0,n?Vu()(aye,{conflicts:r,onModalClose:l}):null),Vu()(sV,{},void 0,Vu()(hV,{isSpinning:s,kind:Pp,onPress:l},void 0,n||!i?Object(Ze.default)("OK"):Object(Ze.default)("Cancel")))))};var hye=function(e){const{isOpen:t,isPlayerOpen:i,playerType:n,serverEntityID:a,hasSubscribeFeature:s,conflicts:r,isConflictCancelling:o,onModalClose:l}=e;return Vu()(Fw,{size:Fh,isOpen:t,metricsPage:zd.R,onModalClose:l},void 0,Vu()(pye,{isPlayerOpen:i,playerType:n,serverEntityID:a,hasSubscribeFeature:s,conflicts:r,isConflictCancelling:o,onModalClose:l}))};var mye=Object(Hu.b)((function(){return Object(Wu.a)(Q7(),K7(),Bhe(),(e,t,i)=>{const n={serverEntityID:e.serverEntityID,hasSubscribeFeature:!!t.features.find(({type:e})=>"subscribe"===e),error:e.cancelConflictError,isConflictCancelling:e.isConflictCancelling};return i&&(n.conflicts=i.grabOperation.conflicts),n})}),(function(e,t){const{isPlayerOpen:i,playerType:n}=t;return{onModalClose({showError:t=!1}={}){e(i?dve({playerType:n,showError:t}):bve({playerType:n}))}}}))(hye),gye=i("m432"),vye=i.n(gye);const yye=Nd.a.createElement;function fye(e){const{errorCode:t,errorMessage:i,title:n}=e;if("D100"===t)return Vu()(vw,{message:Object(Ze.default)("This browser can not play DRM-protected content over an insecure connection. Please try {openLink}https://app.plex.tv{closeLink} instead."),tags:[{open:"openLink",close:"closeLink",component:zp,kind:Pp,to:"https://app.plex.tv"}]});if("D200"===t)return Object(Ze.default)("An error occurred trying to play this item. Please enable DRM support in your browser then try again.");return i||(n?Object(Ze.default)('An error occurred trying to play "{title}".',{title:n}):Object(Ze.default)("An error occurred trying to play this item."))}var bye=function(e){const{isOpen:t,showSkipButton:i,showRetryButton:n,errorCode:a,errorCategory:s,onSkipPress:r,onRetryPress:o,onModalClose:l}=e;return Vu()(Fw,{isOpen:t,metricsPage:zd.X,size:Fh,onModalClose:l},void 0,Vu()(YL,{onModalClose:l},void 0,Vu()(zL,{className:vye.a.modalHeader},void 0,Object(Ze.default)("Playback Error")),Vu()(wL,{},void 0,yye(fye,e),null!=a?Vu()("p",{className:vye.a.errorCode},void 0,Object(Ze.default)("Error code: {errorCode}",{errorCode:a}),s?" ("+s+")":null):null),i||n?Vu()(AL,{},void 0,Vu()(sV,{},void 0,i?Vu()(hw,{onPress:r},void 0,Object(Ze.default)("Skip")):null,n?Vu()(hw,{kind:Pp,onPress:o},void 0,Object(Ze.default)("Retry")):null)):null))};var Iye=Object(Hu.b)((function(){return Object(Wu.a)(Q7(),Qhe(),Qme(),Rhe(),(e,{mediaType:t})=>t,(e,{isRemotePlayer:t})=>t,(e,t,i,n,a,s)=>{const{playQueue:r,repeatAll:o,errorCode:l,errorCategory:c,isWatchTogether:d}=e,u=i&&i.entityID,p=r&&r.currentIndex,h=function(e,t,i,n){if(!e||!t)return i;const a=t&&t.Media[e.mediaIndex],s=a&&a.source?a.source:t.source;if(!s)return i;const r=Object(sr.a)(s);return jt.k(r.providerIdentifier,jt.f)&&"h4"===n?Object(Ze.default)("An error occurred trying to play this item. Please make sure content from TIDAL is not already playing on another device."):i}(n,t,e.errorMessage,l),m={playQueueItemEntityID:u,showSkipButton:!!r&&(p<r.playQueueItems.length-1||o),showRetryButton:!!r&&a!==Go.c&&!s&&!d,errorMessage:h,errorCode:l,errorCategory:c};return t&&(m.title=t.title),m})}),(function(e,t){const i={playerType:t.playerType};return{onModalClose(){e(Object(xT.p)(i))},onSkipPress(t){e(Object(y7.y)(i))},onRetryPress(t){e(Object(Boe.r)(i)),e(Bme(i))}}}))(bye);const{useEffect:Sye}=Nd.a;function Cye(e,t){return{src:V.join(e,{width:t,height:t,minSize:1}),sizes:t+"x"+t,type:"image/jpeg"}}function Mye({metadataItem:e,player:t,transcodeURL:i}){return Sye(()=>{const n=(null==e?void 0:e.type)===Qt.h,a=e&&jt.k(Object(sr.a)(e.source).providerIdentifier,[jt.c,jt.b]),s=!!e&&!n&&!a;window.navigator.mediaSession.playbackState=s?function(e){return(null==e?void 0:e.isPaused)||(null==e?void 0:e.isBuffering)?(null==e?void 0:e.isPaused)?"paused":"none":"playing"}(t):void 0,window.navigator.mediaSession.metadata=s?new window.MediaMetadata({title:e.title,artist:e.originalTitle||e.grandparentTitle,album:e.parentTitle,artwork:i?[Cye(i,96),Cye(i,128),Cye(i,192),Cye(i,256),Cye(i,512)]:void 0}):null},[e,t,i]),Sye(()=>()=>{window.navigator.mediaSession.metadata=null,window.navigator.mediaSession.playbackState="none"},[]),null}var Dye=Object(Hu.b)((function(){return Object(Wu.a)(Q7(),Qhe(),(e,t)=>({metadataItem:t,player:e,url:t?Tae(t.type,t.subtype,t):void 0,serverEntityID:e.serverEntityID,providerEntityID:e.providerEntityID}))}))(Object(Hu.b)(()=>Object(Wu.a)(KS(),e=>({transcodeURL:e})))(({metadataItem:e,player:t,transcodeURL:i,url:n,serverEntityID:a,providerEntityID:s})=>Vu()(Mye,{url:n,serverEntityID:a,providerEntityID:s,metadataItem:e,player:t,transcodeURL:i})));const{Component:Pye}=Nd.a;function Oye(){return Object(Wu.a)(e=>e.ui.audioVideoPlayer.openState,e=>e.ui.photoPlayer.openState,e=>e.ui.romPlayer.openState,(e,{playerType:t})=>t,(e,t,i,n)=>function(e){const{playerType:t,audioVideoOpenState:i,photoOpenState:n,romOpenState:a}=e,s=t===V8.a&&!!i,r=t===V8.b&&!!n;if(t===V8.c&&!!a)return!1;let o=0,l=0;return i===b7.b?o+=1:i===b7.a&&(o+=2),n===b7.b?l+=1:n===b7.a&&(l+=2),s&&o>=l||r&&l>o}({audioVideoOpenState:e,photoOpenState:t,romOpenState:i,playerType:n}))}const jye={dispatchPlayPreviousItem:y7.z,dispatchStepBack:Boe.C,dispatchSkipBack:Boe.A,dispatchTogglePlayPause:Boe.F,dispatchPlay:Boe.t,dispatchPause:Boe.s,dispatchSkipForward:Boe.B,dispatchStepForward:Boe.D,dispatchPlayNextItem:y7.y,dispatchChangeVolume:Boe.q,dispatchEndPlayback:xT.p};var wye=Object(Hu.b)((function(){return Object(Wu.a)(Oye(),Qhe(),Object(Wu.a)(khe(),e=>{let t;if(e){const i=Object(Qt.u)(e.type);t=i&&i.mediaType}return t}),(e,{isAdVisible:t})=>t,nme,(e,t,i,n,a)=>{const s=t&&jt.k(Object(sr.a)(t.source).providerIdentifier,[jt.c,jt.b]),r=t&&Object(sr.a)(t.source).serverIdentifier===ST.a,o=s&&r;return{allowShortcuts:e,isCurrentMediaTypePausable:!o,isCurrentMediaTypeSkippable:!n&&!s,isCurrentMediaTypeSeekable:!(n||o||i!==Go.a&&i!==Go.e),volume:a}})}),jye)(class extends Pye{constructor(e,t){super(e,t),this.onPreviousShortcut=()=>{this.props.isCurrentMediaTypeSkippable&&this.props.dispatchPlayPreviousItem({playerType:this.props.playerType})},this.onStepBackShortcut=()=>{const e={playerType:this.props.playerType};this.props.isCurrentMediaTypeSeekable?this.props.dispatchStepBack(e):this.props.isCurrentMediaTypeSkippable&&this.props.dispatchPlayPreviousItem(e)},this.onSkipBackShortcut=()=>{const e={playerType:this.props.playerType};this.props.isCurrentMediaTypeSeekable?this.props.dispatchSkipBack(e):this.props.isCurrentMediaTypeSkippable&&this.props.dispatchPlayPreviousItem(e)},this.onPlayPauseShortcut=()=>{this.props.isCurrentMediaTypePausable&&this.props.dispatchTogglePlayPause({playerType:this.props.playerType})},this.onPlayShortcut=()=>{this.props.isCurrentMediaTypePausable&&this.props.dispatchPlay({playerType:this.props.playerType})},this.onPauseShortcut=()=>{this.props.isCurrentMediaTypePausable&&this.props.dispatchPause({playerType:this.props.playerType})},this.onSkipForwardShortcut=()=>{const e={playerType:this.props.playerType};this.props.isCurrentMediaTypeSeekable?this.props.dispatchSkipForward(e):this.props.isCurrentMediaTypeSkippable&&this.props.dispatchPlayNextItem(e)},this.onStepForwardShortcut=()=>{const e={playerType:this.props.playerType};this.props.isCurrentMediaTypeSeekable?this.props.dispatchStepForward(e):this.props.isCurrentMediaTypeSkippable&&this.props.dispatchPlayNextItem(e)},this.onNextShortcut=()=>{this.props.isCurrentMediaTypeSkippable&&this.props.dispatchPlayNextItem({playerType:this.props.playerType})},this.onVolumeChange=e=>{this.props.dispatchChangeVolume({volume:e,playerType:this.props.playerType})},this.onVolumeIncrease=()=>{this.onVolumeChange(Math.min(this.props.volume+10,100))},this.onVolumeDecrease=()=>{this.onVolumeChange(Math.max(this.props.volume-10,0))},this.onCloseShortcut=()=>{this.setState({isCloseConfirmModalOpen:!0})},this.onCloseConfirmPress=e=>{this.props.dispatchEndPlayback({playerType:this.props.playerType})},this.onCloseCancelPress=e=>{this.setState({isCloseConfirmModalOpen:!1})},this.onToggleFullscreenShortcut=()=>{this.props.onToggleFullscreenShortcut()},this.state={isCloseConfirmModalOpen:!1}}componentDidMount(){this.props.allowShortcuts&&this._startListening()}componentDidUpdate(e){const{allowShortcuts:t}=this.props;t&&!e.allowShortcuts?this._startListening():!t&&e.allowShortcuts&&this._stopListening()}componentWillUnmount(){this.props.allowShortcuts&&this._stopListening()}_startListening(){const{isCurrentMediaTypePausable:e,isCurrentMediaTypeSkippable:t}=this.props;z.a.hasMediaSession&&(window.navigator.mediaSession.setActionHandler("play",e?this.onPlayShortcut:null),window.navigator.mediaSession.setActionHandler("pause",e?this.onPauseShortcut:null),window.navigator.mediaSession.setActionHandler("previoustrack",t?this.onPreviousShortcut:null),window.navigator.mediaSession.setActionHandler("nexttrack",t?this.onNextShortcut:null),window.navigator.mediaSession.setActionHandler("stop",this.onCloseShortcut)),U.a.on({"shortcut:skipPrevious":this.onPreviousShortcut,"shortcut:stepBackward":this.onStepBackShortcut,"shortcut:seekBackward":this.onSkipBackShortcut,"shortcut:playPause":this.onPlayPauseShortcut,"shortcut:play":this.onPlayShortcut,"shortcut:pause":this.onPauseShortcut,"shortcut:seekForward":this.onSkipForwardShortcut,"shortcut:stepForward":this.onStepForwardShortcut,"shortcut:skipNext":this.onNextShortcut,"shortcut:increaseVolume":this.onVolumeIncrease,"shortcut:decreaseVolume":this.onVolumeDecrease,"shortcut:toggleFullScreen":this.onToggleFullscreenShortcut,"shortcut:stop":this.onCloseShortcut})}_stopListening(){z.a.hasMediaSession&&(window.navigator.mediaSession.setActionHandler("play",null),window.navigator.mediaSession.setActionHandler("pause",null),window.navigator.mediaSession.setActionHandler("previoustrack",null),window.navigator.mediaSession.setActionHandler("nexttrack",null),window.navigator.mediaSession.setActionHandler("stop",null)),U.a.off({"shortcut:skipPrevious":this.onPreviousShortcut,"shortcut:stepBackward":this.onStepBackShortcut,"shortcut:seekBackward":this.onSkipBackShortcut,"shortcut:playPause":this.onPlayPauseShortcut,"shortcut:play":this.onPlayShortcut,"shortcut:pause":this.onPauseShortcut,"shortcut:seekForward":this.onSkipForwardShortcut,"shortcut:stepForward":this.onStepForwardShortcut,"shortcut:skipNext":this.onNextShortcut,"shortcut:increaseVolume":this.onVolumeIncrease,"shortcut:decreaseVolume":this.onVolumeDecrease,"shortcut:toggleFullScreen":this.onToggleFullscreenShortcut,"shortcut:stop":this.onCloseShortcut})}render(){return Vu()(F_,{isOpen:this.state.isCloseConfirmModalOpen,metricsPage:zd.j,title:Object(Ze.default)("Stop Playback"),message:Object(Ze.default)("Closing the player will stop playback. Any changes to the queue will be lost."),onConfirm:this.onCloseConfirmPress,onCancel:this.onCloseCancelPress})}});const{Component:Tye}=Nd.a;var Eye=Object(Hu.b)((function(){return Object(Wu.a)(Q7(),Qhe(),(e,t)=>t?{type:t.type,title:t.title,originalTitle:t.originalTitle,grandparentTitle:t.grandparentTitle,index:t.index,parentIndex:t.parentIndex,originallyAvailableAt:t.originallyAvailableAt,isPaused:e.isPaused}:{})}))(class extends Tye{constructor(e,t){super(e,t),this.title=void 0,this.title=document.title}componentDidMount(){this._updateWindowTitle()}componentDidUpdate(){this._updateWindowTitle()}componentWillUnmount(){document.title=this.title}_updateWindowTitle(){const{type:e,title:t,originalTitle:i,grandparentTitle:n,index:a,parentIndex:s,originallyAvailableAt:r,isPaused:o}=this.props;if(!t||!e)return;let l;if(e===Qt.f){l=n+" - "+Object(nS.a)({seasonIndex:s,episodeIndex:a,date:r,noLeadingZero:!0,separator:"  "})}else if(e===Qt.p){const e=i||n;l=e?e+" - "+t:t}else l=t;o||(l=" "+l),document.title=l}render(){return null}});const Nye=Nd.a.createElement,{Suspense:xye}=Nd.a;function Aye(e){const{component:t}=e,i=Xe()(e,["component"]);return Vu()(xye,{fallback:null},void 0,Nye(t,tp()({},i,{type:"video",allowRecycleElement:!0})))}Aye.defaultProps={component:dge};const Lye=Aye;var kye=tme(Aye);function Rye(e){const t=document.getElementById("plex").classList;e?t.add("show-video-player"):t.remove("show-video-player")}var zye=i("1n32"),Uye=i.n(zye);const Vye=Nd.a.createElement,{Component:Bye}=Nd.a,Fye=parseInt(BV.playerControlsPosterHeight,10),Hye=parseInt(BV.playerControlsLandscapePosterWidth,10),_ye=parseInt(BV.playerControlsNarrowBreakpoint,10),Wye=parseInt(BV.playerControlsPosterLeftGutter,10),Qye=parseInt(BV.playerControlsPosterBottomGutter,10),Gye=parseInt(BV.playerControlsNarrowPosterBottomGutter,10);class Kye extends Bye{static getDerivedStateFromProps(e,t){const i={vast:e.vast,isRemotePlayer:e.isRemotePlayer};return t.vast===i.vast&&t.isRemotePlayer===i.isRemotePlayer||(i.hasRequestedAds=!1,i.ad=null,i.adPositionMilliseconds=0),i}constructor(e,t){super(e,t),this.positionMillisecondsStore=void 0,this.updateAdState=()=>{const{ad:e}=this.state,{isOpen:t,onUpdateCurrentAd:i}=this.props;if(i){var n;i(e&&t?{adDisplayIndex:e.displayIndex,adDisplayTotal:e.displayTotal,adDurationSeconds:e.duration,adPositionSeconds:Math.floor(this.state.adPositionMilliseconds/1e3),adState:Zme.d,adTimeOffsetSeconds:null!=(n=null==e?void 0:e.timeOffset)?n:null}:{adDisplayIndex:null,adDisplayTotal:null,adDurationSeconds:null,adPositionSeconds:null,adState:null,adTimeOffsetSeconds:null})}},this.onAdPositionMillisecondsChange=e=>{this.setState({adPositionMilliseconds:e})},this.onAdChange=e=>{this.setState({ad:e,adPositionMilliseconds:0,hasRequestedAds:!0})},this.onScreenSizeChange=({width:e})=>{const t=e<=_ye;t!==this.state.isNarrowLayout&&this.setState({isNarrowLayout:t})},this.onSeekBarInteractionStart=()=>{this.setState({isSeeking:!0})},this.onSeekBarInteractionEnd=()=>{this.setState({isSeeking:!1})},this.onUpdateBufferedRanges=e=>{const{onUpdateBufferedRanges:t}=this.props;t&&t(e)},this.state={ad:null,adPositionMilliseconds:0,isNarrowLayout:!1,seekEndMilliseconds:0,seekStartMilliseconds:0},this.positionMillisecondsStore=Object(EM.createStore)(Xhe,0)}componentDidMount(){Rye(this.props.showBackgroundVideoPlayer)}componentDidUpdate(e,t){if(e.showBackgroundVideoPlayer!==this.props.showBackgroundVideoPlayer&&Rye(this.props.showBackgroundVideoPlayer),e.isOpen&&!this.props.isOpen)this.updateAdState();else if(t.ad!==this.state.ad)this.updateAdState();else if(t.ad===this.state.ad&&t.adPositionMilliseconds!==this.state.adPositionMilliseconds){Math.floor(this.state.adPositionMilliseconds/1e3)!==this.props.adPositionSeconds&&this.updateAdState()}}componentWillUnmount(){Rye(!1)}render(){var e,t;const{adState:i,adPositionSeconds:n,adDurationSeconds:a,playerType:s,isOpen:r,isMiniPlayer:o,isRemotePlayer:l,isPlayQueueLoading:c,isPostPlayVisible:d,isFullscreen:u,isVideo:p,isGame:h,hasError:m,hasConflicts:g,confirmLiveTVPlayback:v,showBackgroundVideoPlayer:y,currentMediaType:f,currentMediaSubtype:b,confirmPlaybackPayload:I,confirmOffsetPayload:S,advertisingNoticePayload:C,confirmRemoteToLocal:M,confirmLocalToRemote:D,confirmPlayerUpsellPayload:P,vast:O,mediaComponent:j,mediaHeight:w,mediaPlacement:T,mediaWidth:E,playerComponent:N,bufferedRanges:x,machineIdentifier:A,providerIdentifier:L,gameInputDevices:k,gamePlatformTag:R,gamePreventDefault:U,onToggleFullscreen:V}=this.props,{ad:B,adPositionMilliseconds:F,hasRequestedAds:H,seekStartMilliseconds:_,seekEndMilliseconds:W,isNarrowLayout:Q,isSeeking:G}=this.state;if(!r)return m?Vu()(Iye,{isOpen:!0,isRemotePlayer:l,mediaType:f,playerType:s}):g?Vu()(mye,{isOpen:!0,isPlayerOpen:r,playerType:s}):v?Vu()(Eve,{isOpen:!0,isPlayerOpen:r,playerType:s}):null;const K=(p||h)&&o?{edgeGutterX:Wye,edgeGutterY:Q?Gye:Qye,height:Fye,placement:Jme.a,width:Hye}:{height:w,placement:T,width:E},Y=i===Zme.d,q=!!O&&!H,Z=null!=(e=null==(t=x[x.length-1])?void 0:t.endSeconds)?e:0;return Vu()(kg,{machineIdentifier:A,providerIdentifier:L},void 0,Vu()(Hu.a,{store:this.positionMillisecondsStore,context:qhe},void 0,Vu()(Vw,{page:zd.W},void 0,Vu()("div",{className:((o?Uye.a.miniPlayerContainer:Uye.a.fullPlayerContainer)||"")+" "+(!y&&!o&&Uye.a.fullPlayerContainerBackground||"")},void 0,I?Vu()(_ve,{isOpen:!0,playerType:s,confirmPlaybackPayload:I}):null,P?Vu()(Jve,{isOpen:!0,playerType:s,upsellPayload:P}):null,C?Vu()(Gge,{isOpen:!0,playerType:s,advertisingNoticePayload:C}):null,S?Vu()(Fve,{isOpen:!0,playerType:s,confirmOffsetPayload:S}):null,M?Vu()($ve,{isOpen:!0,playerType:s}):null,1!==D?Vu()(zve,{isOpen:!0,playerType:s}):null,m?Vu()(Iye,{isOpen:!0,isRemotePlayer:l,mediaType:f,playerType:s}):null,g?Vu()(mye,{isOpen:!0,isPlayerOpen:r,playerType:s}):null,q||d||c||l&&1===D||M?null:Vye(j,tp()({},K,{gameInputDevices:k,gamePlatformTag:R,gamePreventDefault:U,playerType:s,mediaType:f,mediaSubtype:b,isNarrowLayout:Q,isStackedAbove:o,isAdVisible:Y,onBufferChange:this.onUpdateBufferedRanges})),!O||l||M||m?null:Vye(Lye,tp()({},K,{ad:B,playerType:s,isMiniPlayer:o,isFullscreen:u,isIdle:!!G,component:Object(ne.c)("adPlayerComponent").getComponent(),isStackedAbove:o,isNarrowLayout:Q,positionSeconds:Math.round(F/1e3),url:O.url,statusOverlayClassName:Uye.a.adPlayerDisplayIndexContainer,onAdChange:this.onAdChange,onPositionMillisecondsChange:this.onAdPositionMillisecondsChange})),Vye(N,tp()({},this.props,K,{ad:B,isAdVisible:Y,isNarrowLayout:Q,seekStartMilliseconds:_,seekEndMilliseconds:W,bufferStartMilliseconds:0,bufferEndMilliseconds:1e3*Z,adPositionMilliseconds:l?1e3*n:F,adDurationMilliseconds:1e3*a,onSeekBarInteractionStart:this.onSeekBarInteractionStart,onSeekBarInteractionEnd:this.onSeekBarInteractionEnd})),Vu()(wye,{isAdVisible:Y,playerType:s,onToggleFullscreenShortcut:V}),z.a.hasMediaSession?Vu()(Dye,{playerType:s}):null,Vu()(Eye,{playerType:s}),Vu()(Ege,{playerType:s,isRemotePlayer:l,isAdVisible:Y}),Vu()(xge,{playerType:s}),Vu()(kge,{onScreenSizeChange:this.onScreenSizeChange})))))}}Kye.defaultProps={bufferedRanges:[],confirmLiveTVPlayback:!1,isGame:!1,isMusic:!1,isPhoto:!1,isVideo:!1,isLiveTV:!1};var Yye=Kye;function qye(e){return e?e.type+":"+e.startTimeOffset+":"+e.endTimeOffset:void 0}const Zye="north",Jye="northeast",Xye="east",$ye="southeast",efe="south",tfe="southwest",ife="west",nfe="northwest",afe="center";var sfe=Object(Hu.b)((function(){return Object(Wu.a)(KS(),e=>({url:e}))}))(BS);const{useCallback:rfe,useEffect:ofe,useState:lfe}=Nd.a,cfe=Math.max(256,144),dfe={maxWidth:256/1920*100+"vw",maxHeight:144/1080*100+"vh"},ufe={maxWidth:"10vw",maxHeight:"10vh"},pfe={maxWidth:128/1920*100+"vw",maxHeight:72/1080*100+"vh"},hfe=({className:e,src:t,style:i})=>Vu()("img",{className:e,src:t,style:i});var mfe=({className:e,providerEntityID:t,overlay:i,serverEntityID:n})=>{const a=lfe(),s=a[1],r=a[0];let o;switch(i.size){case"large":o=dfe;break;case"medium":o=ufe;break;case"small":default:o=pfe}const l=rfe(()=>{s(new Error("Unable to load overlay"))},[]);return ofe(()=>{s(void 0)},[i]),r?null:Vu()(sfe,{component:hfe,className:e,serverEntityID:n,providerEntityID:t,url:i.key,width:cfe,height:cfe,style:o,format:"png",onError:l})},gfe=i("KEW7"),vfe=i.n(gfe);const{useEffect:yfe,useMemo:ffe,useState:bfe}=Nd.a;var Ife=({itemPlaybackTime:e,liveTVMediaItem:t,liveTVSession:i,mediaHeight:n,mediaWidth:a,playQueueMediaItem:s,positionSeconds:r,providerEntityID:o,serverEntityID:l})=>{const[c,d]=function(){const e=bfe([window.innerWidth,window.innerHeight]),t=e[1],i=e[0];return yfe(()=>{function e(){t([window.innerWidth,window.innerHeight])}return window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}},[]),i}(),p=ffe(()=>{var n;const a=Math.floor(e/1e3);let o,l=-1;return i&&t?(o=t,l=i.currentPosition-t.beginsAt):s&&(o=s,l=r),(null==(n=o)?void 0:n.Overlay)?function(e,t){const{secondsSinceMediaItemAiringBegan:i,secondsSinceMediaItemPlaybackBegan:n}=t;return e.reduce((e,t)=>{const a=t.startTimeOffset/1e3,s=a+(null==t.duration?Number.POSITIVE_INFINITY:t.duration/1e3);let r=!1;return"absolute"===t.startTimeOffsetType?r=n>=a&&n<s:"relative"===t.startTimeOffsetType&&(r=i>=a&&i<s),r&&(e.has(t.gravity)?e.get(t.gravity).push(t):e.set(t.gravity,[t])),e},new Map)}(o.Overlay,{secondsSinceMediaItemAiringBegan:l,secondsSinceMediaItemPlaybackBegan:a}):void 0},[e,i,t,s,r]);if(!(null==p?void 0:p.size)||!n||!a)return null;const h=Math.min(c/a,d/n);return Vu()("div",{className:vfe.a.outerContainer},void 0,Vu()("div",{className:vfe.a.innerContainer,style:{width:a*h/c*100+"vw",height:n*h/d*100+"vh"}},void 0,Object.values(u).map(e=>{var t;const i=null==p||null==(t=p.get(e))?void 0:t.map((e,t)=>Vu()(mfe,{className:vfe.a.overlay,overlay:e,providerEntityID:o,serverEntityID:l},t));return i?Vu()("div",{className:vfe.a[e]},e,i):null})))};var Sfe=Object(Hu.b)((function(){return Object(Wu.a)(Wme(),Whe(),Bhe(),hge(["mediaHeight","mediaWidth","itemPlaybackTime","positionSeconds","providerEntityID","serverEntityID"]),(e,t,i,n)=>Object.assign({},n,{liveTVMediaItem:t,liveTVSession:i,playQueueMediaItem:e}))}))(Ife);const Cfe=Nd.a.createElement;var Mfe=function(e){const t=Object(Wu.a)(e=>e,e=>({positionMilliseconds:e}));function i(t){const{positionSeconds:i,positionMilliseconds:n}=t,a=Xe()(t,["positionSeconds","positionMilliseconds"]);let s=n;if(null!=i){Math.abs(i-Math.floor(n/1e3))>1&&(s=1e3*i)}return Cfe(e,tp()({positionSeconds:i,positionMilliseconds:s},a))}return i.displayName="WithPositionMilliseconds("+ff(e)+")",i.WrappedComponent=e,Object(Hu.b)(t,null,null,{context:qhe})(i)},Dfe=i("NwiP"),Pfe=i.n(Dfe);const Ofe={TINY:50,SMALL:75,NORMAL:100,LARGE:125,HUGE:200};Ofe.settings=[{value:Ofe.TINY,title:"Tiny"},{value:Ofe.SMALL,title:"Small"},{value:Ofe.NORMAL,title:"Normal"},{value:Ofe.LARGE,title:"Large"},{value:Ofe.HUGE,title:"Huge"}],Ofe.ALL=[Ofe.TINY,Ofe.SMALL,Ofe.NORMAL,Ofe.LARGE,Ofe.HUGE];var jfe=Ofe;var wfe=i("W2rq"),Tfe=i.n(wfe);const{Component:Efe}=Nd.a;class Nfe extends Efe{constructor(e,t){super(e,t),this._clock=void 0,this._connectionTimeoutID=void 0,this._errorCount=void 0,this._formatTimeoutID=void 0,this._isMounted=void 0,this._loadTimeout=void 0,this._loadTimeoutID=void 0,this._positionAtTimeOfRequest=void 0,this._renderer=void 0,this._rendererID=void 0,this._resetAfterSeekStarted=void 0,this._resetLater=void 0,this._xhr=void 0,this._loadSubtitles=()=>{this._loadTimeoutID&&(this._loadTimeoutID=window.clearTimeout(this._loadTimeoutID)),this._connectionTimeoutID&&(this._connectionTimeoutID=window.clearTimeout(this._connectionTimeoutID)),this._formatTimeoutID&&(this._formatTimeoutID=window.clearTimeout(this._formatTimeoutID));const{subtitlesUrl:e,positionMilliseconds:t,decisionUseSidecarSrtSubtitles:i}=this.props;this._positionAtTimeOfRequest=t,Object(C.a)("[Subtitles] loading subtitles. position: %s url: %s",this._positionAtTimeOfRequest,e),this._abortStream(),this._xhr=new window.XMLHttpRequest;const n=new Pfe.a.parser.XhrStream(this._xhr),a=i?new Pfe.a.parser.SrtStreamParser(n).ass:new Pfe.a.parser.StreamParser(n).minimalASS;this._openSubtitlesConnection(),a.then(this.onSubtitlesLoad,this.onSubtitlesFail)},this._getPosition=()=>{const{positionMilliseconds:e,offset:t}=this.props,i=(e+t)/1e3;if(i%1e3){const e=this._clock.currentTime;if(Math.floor(e)===i)return e}return i},this.onMeasure=({width:e,height:t})=>{this.setState({width:e,height:t})},this.onSubtitlesLoad=e=>{if(!this._isMounted)return!1;Object(C.a)("[Subtitles] Starting to render subtitles"),this._destroySubtitles(),this._clock=new Pfe.a.renderers.AutoClock(this._getPosition,1e3),this._renderer=new Pfe.a.renderers.WebRenderer(e,this._clock,document.getElementById(this._rendererID),this.props.rendererOptions),this._setSubtitleSize(),this._rerenderSubtitles(),this._setClockState(),this._formatTimeoutID=window.setTimeout(()=>{this._setSubtitleColor(),this._setSubtitlePosition(),this._rerenderSubtitles()},0)},this.onSubtitlesConnectionTimeout=()=>{Object(C.a)("[Subtitles] Connection inactivity timeout, reopening."),this._openSubtitlesConnection()},this.onSubtitlesFail=()=>{if(!this._isMounted)return!1;const e=this._xhr.readyState,t=this._xhr.status;this._errorCount++,C.a.warn("[Subtitles] Request failed. statusCode:%s state:%s errorCount:%s %s",t,e,this._errorCount,this._xhr.errorString||""),this._errorCount>this.props.consecutiveErrorsTolerance?this.props.onSubtitlesError():this._loadTimeoutID=window.setTimeout(this._loadSubtitles,this.props.retryTimeout)},Pfe.a.debugMode=!1,this.state={width:0,height:0},this._rendererID=Mp(),this._loadTimeoutID=null,this._connectionTimeoutID=null,this._errorCount=0,this._positionAtTimeOfRequest=null,this._isMounted=!1}componentDidMount(){this._isMounted=!0,this.props.subtitlesUrl&&this._loadSubtitles()}componentDidUpdate(e,t){const{isOpen:i,isBuffering:n,isPaused:a,hasError:s,heightOffset:r,rendererOptions:o,offset:l,color:c,position:d,size:u,sizeMultiplier:p,subtitlesUrl:h}=this.props,{width:m,height:g}=this.state;if(this._shouldResetStream(e)||o!==e.rendererOptions||h!==e.subtitlesUrl)return void this._loadSubtitles();const v=c!==e.color,y=d!==e.position,f=u!==e.size||p!==e.sizeMultiplier;v&&this._setSubtitleColor(),y&&this._setSubtitlePosition(),f&&this._setSubtitleSize(),(v||y||f||m!==t.width||g!==t.height||r!==e.heightOffset)&&this._rerenderSubtitles(),i===e.isOpen&&n===e.isBuffering&&a===e.isPaused&&s===e.hasError||this._setClockState(),l!==e.offset&&this._setPosition()}componentWillUnmount(){Object(C.a)("[Subtitles] Closing"),this._loadTimeoutID&&(this._loadTimeoutID=window.clearTimeout(this._loadTimeoutID)),this._connectionTimeoutID&&(this._connectionTimeoutID=window.clearTimeout(this._connectionTimeoutID)),this._formatTimeoutID&&(this._formatTimeoutID=window.clearTimeout(this._formatTimeoutID)),this._isMounted=!1,this._destroySubtitles(),this._abortStream()}_openSubtitlesConnection(){const{subtitlesUrl:e,isDirectPlay:t,positionSeconds:i,connectionTimeout:n}=this.props;this._abortStream(),this._xhr.onreadystatechange=e=>{4===e.currentTarget.readyState&&(e.currentTarget.status>=200&&e.currentTarget.status<300?this._errorCount=0:this.onSubtitlesFail())},n&&(this._xhr.onprogress=e=>{Object(C.a)("[Subtitles] Received data, restarting connection timer."),window.clearTimeout(this._connectionTimeoutID),this._connectionTimeoutID=window.setTimeout(this.onSubtitlesConnectionTimeout,n)});let a=e;if(t){const t=Object(V.parseUrl)(e);t.params.offset=i,a=Object(V.join)([t.origin,t.pathname],t.params)}this._xhr.open("GET",a,!0),this._xhr.send()}_destroySubtitles(){this._loadTimeoutID&&(this._loadTimeout=window.clearTimeout(this._loadTimeoutID)),this._clock&&(this._clock.disable(),this._clock=null),this._renderer&&(this._renderer.disable(),this._renderer=null);const e=document.getElementById(this._rendererID);for(;e.hasChildNodes();)e.removeChild(e.lastChild)}_abortStream(){this._xhr&&(Object(C.a)("[Subtitles] Aborting existing xhr."),this._xhr.onreadystatechange=null,this._xhr.onprogress=null,this._xhr.abort())}_setSubtitleColor(){const{color:e}=this.props;if(!this._renderer)return;const t=function(e){const t=/^#?([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})$/i.exec(e);return t?{red:parseInt(t[1],16),green:parseInt(t[2],16),blue:parseInt(t[3],16)}:null}(e),i=this._renderer.ass.styles.get("Default");t?i?(Object(C.a)("[Subtitles] Setting subtitle color to %s",e),i._primaryColor=new Pfe.a.parts.Color(t.red,t.green,t.blue,1),i._outlineColor=e===dc.BLACK?new Pfe.a.parts.Color(255,255,255,1):new Pfe.a.parts.Color(0,0,0,1)):C.a.warn("[Subtitles] Unable to set subtitle color, no default style"):C.a.warn("[Subtitles] Unable to set subtitle color, invalid color")}_setSubtitlePosition(){const{position:e}=this.props;if(!this._renderer)return;const t=this._renderer.ass.styles.get("Default");let i=2;e===pc.MIDDLE?i=5:e===pc.TOP&&(i=8),t?(Object(C.a)("[Subtitles] Setting subtitle position to %s",e),t._alignment=i):C.a.warn("[Subtitles] Unable to set subtitle position, no default style")}_setSubtitleSize(){const{size:e,sizeMultiplier:t}=this.props;if(!this._renderer)return;const i=this._renderer.ass.properties,n=e*t/100;let a,s;this.state.originalResolutionX&&this.state.originalResolutionY?(a=this.state.originalResolutionX,s=this.state.originalResolutionY):(a=i.resolutionX,s=i.resolutionY,this.setState({originalResolutionX:a,originalResolutionY:s})),i.resolutionX=a/n,i.resolutionY=s/n}_rerenderSubtitles(){if(this._renderer){const{width:e,height:t}=this.state;Object(C.a)("[Subtitles] Re-rendering subtitles"),this._renderer.resize(e,t-this.props.heightOffset)}}_setPosition(){const e=this._clock;if(!e||!e._manualClock)return;const{positionMilliseconds:t,offset:i}=this.props;e._manualClock._currentTime=(t+i)/1e3}_setClockState(){const e=this._clock;if(!e)return;const{isOpen:t,isBuffering:i,isPaused:n,hasError:a}=this.props;return i||n?(Object(C.a)("[Subtitles] Clock State: paused"),void e.pause()):!t||a?(Object(C.a)("[Subtitles] Clock State: disabled"),void e.disable()):n?void 0:(Object(C.a)("[Subtitles] Clock State: playing"),void e.play())}_shouldResetStream(e){const{isOpen:t,isMediaLoading:i,isBuffering:n,isPaused:a,hasError:s,positionMilliseconds:r,lastSeekPositionSeconds:o,decisionUseSidecarSrtSubtitles:l}=this.props;if(l)return!1;const c=this._positionAtTimeOfRequest,d=r-e.positionMilliseconds,u=d>0&&t&&!i&&!n&&!a&&!s;if(null!=o&&o!==e.lastSeekPositionSeconds)return this._resetAfterSeekStarted=!0,this._resetLater=!1,!1;if(this._resetAfterSeekStarted){const e=1e3*o<r;return!(!u||!e)&&(this._resetAfterSeekStarted=!1,!0)}return u&&this._resetLater?(this._resetLater=!1,!0):(!this._xhr||d>1e4||r<c)&&(this._resetLater=!u,u)}render(){return Vu()(T0,{className:Tfe.a.measure,onMeasure:this.onMeasure},void 0,Vu()("div",{id:this._rendererID,className:Tfe.a.renderer,role:"alert"}))}}Nfe.defaultProps={offset:0,color:dc.WHITE,position:pc.BOTTOM,size:jfe.NORMAL,sizeMultiplier:1,heightOffset:0,consecutiveErrorsTolerance:3,connectionTimeout:null,retryTimeout:3e3,rendererOptions:{enableSvg:!1,preciseOutlines:!1}};var xfe=Nfe;const Afe=Nd.a.createElement,{Component:Lfe}=Nd.a;const kfe={dispatchMakeDecision:zme,dispatchRemoveDecision:Vme,dispatchShowAlert:Tn.d};const Rfe=Mfe(class extends Lfe{constructor(e,t){super(e,t),this.onSubtitlesError=()=>{const{playQueueItemEntityID:e,playerType:t,positionMilliseconds:i,qualityIndex:n,decisionMediaIndex:a,decisionPartIndex:s,decisionUseSidecarSrtSubtitles:r,dispatchMakeDecision:o,dispatchRemoveDecision:l}=this.props;r?this.setState({hasSidecarSrtFailed:!0}):(l({playerType:t,playQueueItemEntityID:e}),o({playerType:t,playQueueItemEntityID:e,qualityIndex:n,mediaIndex:a,partIndex:s,options:{offset:i,subtitlesBurnLevel:mc.ALWAYS}}))},this.state={hasSidecarSrtFailed:!1}}componentDidUpdate(e,t){const{hasSidecarSrtFailed:i}=this.state;i&&i!==t.hasSidecarSrtFailed&&(C.a.error("[Subtitles] Unrecoverable error processing",this.props.subtitlesUrl),this.props.dispatchShowAlert({type:"error",message:Object(Ze.default)("There was an unexpected subtitles error")}))}render(){const e=this.props,{subtitlesUrl:t}=e,i=Xe()(e,["subtitlesUrl","dispatchMakeDecision","dispatchRemoveDecision"]);return!t||this.state.hasSidecarSrtFailed?null:Afe(xfe,tp()({subtitlesUrl:t},i,{onSubtitlesError:this.onSubtitlesError}))}});var zfe=Object(Hu.b)((function(){return Object(Wu.a)(hge(["isOpen","isMediaLoading","isBuffering","isPaused","hasError","qualityIndex","positionSeconds","lastSeekPositionSeconds"]),Rhe(),khe(),Gme(),Object(ne.c)("selectSubtitleSettings"),(e,t,i,n,a)=>{const s=i.entityID,r=Object.assign({},e,a,{playQueueItemEntityID:s});return t&&(r.decisionMediaIndex=t.mediaIndex,r.decisionPartIndex=t.partIndex,r.decisionUseSidecarSrtSubtitles=t.useSidecarSrtSubtitles,r.subtitlesUrl=t.subtitlesUrl,r.isDirectPlay=t.isDirectPlay),n.selectedSubtitlesStream&&(r.offset=n.selectedSubtitlesStream.offset),r})}),kfe)(Rfe),{useCallback:Ufe,useMemo:Vfe,useState:Bfe}=Nd.a;function Ffe(){var e=Bfe(!1),t=e[1],i=e[0],n=Ufe(()=>t(!0),[]),a=Ufe(()=>t(!1),[]),s=Ufe(()=>t(!i),[i]);return Vfe(()=>({isOpen:i,onOpen:n,onClose:a,onToggle:s}),[i,a,n,s])}const Hfe=Nd.a.createElement,{useCallback:_fe,useEffect:Wfe,useRef:Qfe,useState:Gfe}=Nd.a;function Kfe(e){e.nativeEvent.stopImmediatePropagation()}const Yfe=fv(Tv.defaultSpeed),qfe={enter:{opacity:1,duration:Yfe},exit:{opacity:0,duration:Yfe}};var Zfe=function(e){let{isHidden:t,isHiddenPolite:i,marker:n,positionSeconds:a,onPress:s}=e,r=Xe()(e,["isHidden","isHiddenPolite","marker","positionSeconds","onPress"]);const o=qye(n),l=Gfe(0),c=l[1],d=l[0],{isOpen:u,onOpen:p,onClose:h}=Ffe(),m=Qfe(),g=_fe(e=>{Kfe(e),c(a),s(Math.round(n.endTimeOffset/1e3))},[n,a,s]);return Wfe(()=>{const e=1e3*a,s=!n,r=e<(null==n?void 0:n.startTimeOffset),o=e>=(null==n?void 0:n.endTimeOffset),l=d>0,c=(null==n?void 0:n.endTimeOffset)-e<500,u=i&&m.current&&a>=m.current;t||s||r||o||u||l&&c?h():i&&!m.current?m.current=a+10:s||r||o||p()},[n,t,i,d,a,p,h]),Wfe(()=>()=>{m.current=0,c(0)},[o]),Vu()(ov.a,{},void 0,u&&o?Vu()(ov.b.div,{initial:"exit",animate:"enter",exit:"exit",variants:qfe},o,Hfe(hw,tp()({},r,{autoFocus:"autofocus",onKeyDown:Kfe,onKeyUp:Kfe,onTouchEnd:Kfe,onTouchStart:Kfe,onPress:g}),function(e){switch(e.type){case"commercial":return Object(Ze.default)("Skip Ads");case"intro":return Object(Ze.default)("Skip Intro");case"outro":return Object(Ze.default)("Skip Outro");case"recaps":return Object(Ze.default)("Skip Recaps")}}(n))):null)};const Jfe=Nd.a.createElement;var Xfe=Object(Hu.b)((function(){return Object(Wu.c)({positionSeconds:G7("positionSeconds")})}),(function(e,{playerType:t}){return{onPress(i){e(Boe.w({playerType:t,positionSeconds:i}))}}}))((function(e){let t=Xe()(e,["playerType"]);return Jfe(Zfe,t)}));var $fe=function(){return Object(Wu.a)(G7("positionSeconds"),Qhe(),(e,t)=>t&&t.chapters?t.chapters.findIndex(t=>Math.floor(t.startTimeOffset/1e3)<=e&&Math.floor(t.endTimeOffset/1e3)>e):-1)},ebe=i("tL6L"),tbe=i("gxMp"),ibe=i.n(tbe);function nbe({children:e,className:t}){return Vu()("div",{className:t,"data-qa-id":"hubTitle"},void 0,e)}nbe.defaultProps={className:ibe.a.hubCellTitle};var abe=nbe,sbe=i("hsww"),rbe=i.n(sbe);function obe(e){const{title:t,attribution:i,route:n,sourceTitle:a}=e;return Vu()(abe,{className:rbe.a.title},void 0,i?Vu()(pS,{className:rbe.a.attribution,attribution:i}):null,n?Vu()(zp,{to:n},void 0,t):t,a?Vu()(tf,{className:rbe.a.titleSeparator}):null,a?Vu()("span",{className:rbe.a.sourceTitle},void 0,a):null)}var lbe=i("Yx3T"),cbe=i.n(lbe);const dbe=Nd.a.createElement;function ube(e){const{isMonochrome:t,isRemovable:i,tooltip:n}=e,a=Xe()(e,["isMonochrome","isRemovable","tooltip"]),s=n||(i?Object(Ze.default)("Remove"):Object(Ze.default)("Add"));return dbe(Wb,tp()({},a,{component:JK,hideOnPress:!1,iconComponent:vA,iconClassName:i?cbe.a.iconRemovable:cbe.a.icon,kind:i&&!t?Op:Dp,ariaLabel:s,tooltip:s}))}ube.defaultProps={className:cbe.a.button};var pbe=ube,hbe=i("Rhig"),mbe=i.n(hbe);const{Component:gbe}=Nd.a;class vbe extends gbe{constructor(e,t){super(e,t),this.onPress=()=>{const{isHomeHub:e,shouldConfirmHomeHubRemoval:t,onToggleHomeHub:i}=this.props;e&&t?this.setState({isRemoveConfirmModalOpen:!0}):i()},this.onRemoveHomeHubConfirm=()=>{this.setState({isRemoveConfirmModalOpen:!1},this.props.onToggleHomeHub)},this.onRemoveHomeHubCancel=()=>{this.setState({isRemoveConfirmModalOpen:!1})},this.onFocus=e=>{this.setState({isFocused:!0})},this.onBlur=e=>{this.setState({isFocused:!1})},this.onMouseEnter=e=>{this.setState({isEntered:!0})},this.onMouseLeave=e=>{this.setState({isEntered:!1})},this.state={isEntered:!1,isFocused:!1,isRemoveConfirmModalOpen:!1}}render(){const{allowHomeHubIndicator:e,className:t,isHomeHub:i,isVisible:n,shouldConfirmHomeHubRemoval:a}=this.props,{isEntered:s,isFocused:r,isRemoveConfirmModalOpen:o}=this.state,l=i&&e,c=s||r;return Vu()("div",{className:(t||"")+" "+((n||c?mbe.a.isVisible:mbe.a.isHidden)||"")},void 0,l?Vu()(que,{className:(mbe.a.icon||"")+" "+((l&&!c?mbe.a.isVisible:mbe.a.isHidden)||"")}):null,Vu()(pbe,{className:(mbe.a.button||"")+" "+((!l||c?mbe.a.isVisible:mbe.a.isHidden)||""),isMonochrome:!0,isRemovable:i,tooltip:i?Object(Ze.default)("Remove from Home"):Object(Ze.default)("Add to Home"),onPress:this.onPress,onFocus:this.onFocus,onBlur:this.onBlur,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave}),a?Vu()(F_,{isOpen:o,metricsPage:"",title:Object(Ze.default)("Remove From Home"),message:Object(Ze.default)("Please confirm you'd like to remove this content from your home screen. You can add it back later if you change your mind."),onConfirm:this.onRemoveHomeHubConfirm,onCancel:this.onRemoveHomeHubCancel}):null)}}vbe.defaultProps={className:mbe.a.container,shouldConfirmHomeHubRemoval:!1};var ybe=vbe;var fbe=Object(Wu.a)(Gu,e=>e.hubs);function bbe(){return Object(Wu.a)((e,{hubEntityID:t})=>t,fbe,(e,t)=>t[e])}var Ibe=Og(Rg.a,({homeSettings:e})=>e);function Sbe(){return Object(Wu.a)(Ibe,$S,ZS,bbe(),(e,t,i,n)=>{if(!(n&&i&&t&&e.hubs))return;const a=function(e,t,i){const{hubIdentifier:n}=e,{identifier:a}=t,{machineIdentifier:s}=i;return Jw({hubIdentifier:n,identifier:a,machineIdentifier:s})}(n,i,t);return e.hubs.find(e=>e.id===a)})}function Cbe(){return Object(Wu.a)(Sbe(),e=>!!e)}const Mbe=/^(?:(?:[a-zA-Z]+)(?:\.)?)+(?:\.[0-9]+){2}$/;const Dbe=Nd.a.createElement,{Component:Pbe}=Nd.a;const Obe={dispatchAddHomeHubs:tL,dispatchRemoveHomeHubs:iL};var jbe=Object(Hu.b)((function(){return Object(Wu.a)((e,{directoryKey:t})=>t,(e,{homeHubID:t})=>t,bbe(),Cbe(),(e,t,i,n)=>{const a=!!i&&"directory"!==i.type;return t?{isHomeHub:!0,canAddHomeHub:!1,canRemoveHomeHub:!0}:{isHomeHub:n,canAddHomeHub:(s=i.hubIdentifier,!Mbe.test(s)&&a&&!n&&!!e),canRemoveHomeHub:a&&n};var s})}),Obe)(class extends Pbe{constructor(...e){super(...e),this.onAddHomeHub=()=>{const{dispatchAddHomeHubs:e,directoryKey:t,hubEntityID:i}=this.props;e({isUserInitiated:!0,hubs:[{directoryKey:t,entityID:i}]})},this.onRemoveHomeHub=()=>{const{dispatchRemoveHomeHubs:e,homeHubID:t,hubEntityID:i}=this.props,n=[];t?n.push({homeHubID:t}):i&&n.push({entityID:i}),e({isUserInitiated:!0,hubs:n})},this.onToggleHomeHub=()=>{const{canAddHomeHub:e,canRemoveHomeHub:t}=this.props;t?this.onRemoveHomeHub():e&&this.onAddHomeHub()}}render(){const e=this.props,{canAddHomeHub:t,canRemoveHomeHub:i,component:n,isHomeHub:a}=e,s=Xe()(e,["canAddHomeHub","canRemoveHomeHub","component","directoryKey","dispatchAddHomeHubs","dispatchRemoveHomeHubs","hubEntityID","isHomeHub"]);return t||i?Dbe(n,tp()({},s,{isHomeHub:a,onAddHomeHub:this.onAddHomeHub,onRemoveHomeHub:this.onRemoveHomeHub,onToggleHomeHub:this.onToggleHomeHub})):null}}),wbe=i("O+qT"),Tbe=i.n(wbe);const Ebe=Nd.a.createElement,{Component:Nbe}=Nd.a;class xbe extends Nbe{constructor(e,t){super(e,t),this.onMouseEnter=e=>{this.setState({hasMouseEntered:!0})},this.onMouseLeave=e=>{this.setState({hasMouseEntered:!1})},this.state={hasMouseEntered:!1}}render(){const e=this.props,{allowPersistentHomeHubStatus:t,allowToggleHomeHub:i,children:n,className:a,isHomeHub:s}=e,r=Xe()(e,["allowPersistentHomeHubStatus","allowToggleHomeHub","children","className","isHomeHub"]),{hasMouseEntered:o}=this.state;return Vu()("div",{className:a,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave},void 0,i?Ebe(jbe,tp()({},r,{component:ybe,isHomeHub:s,isVisible:o||t&&s})):null,n)}}xbe.defaultProps={className:Tbe.a.hubCellHeader};var Abe=xbe,Lbe=i("6XcZ"),kbe=i.n(Lbe);const Rbe=Nd.a.createElement,{Component:zbe}=Nd.a;class Ube extends zbe{static getDerivedStateFromProps(e,t){return null!=e.scrollIndex&&e.scrollIndex!==t.scrollIndex?{scrollIndex:e.scrollIndex}:null}constructor(e,t){super(e,t),this._isReady=void 0,this._listRef=void 0,this._pageSize=void 0,this._visibleEndIndex=void 0,this._visibleStartIndex=void 0,this.onListUpdate=e=>{const{visibleStartIndex:t,visibleEndIndex:i,renderEndIndex:n,listStyle:a}=e,{onListReady:s}=this.props,r=this._isReady?void 0:s;this._isReady=!0,this._visibleStartIndex=t,this._visibleEndIndex=i,this._pageSize=this._visibleEndIndex-this._visibleStartIndex;const o=t>0,l=n>i;this.setState({showActions:o||l,enablePrevious:o,enableNext:l,listHeight:a.height},r)},this.onListScrollIndexChange=e=>{this._setScrollIndex(e)},this.onPreviousPress=()=>{this._setScrollIndex(this._visibleStartIndex-this._pageSize-1)},this.onNextPress=()=>{this._setScrollIndex(this._visibleEndIndex+1)},this.state={showActions:!1,enablePrevious:!1,enableNext:!1,listHeight:"auto",scrollIndex:this.props.scrollIndex||0},this._isReady=!1,this._listRef=Nd.a.createRef()}componentDidMount(){this.props.more&&!this.props.totalSize&&this.props.onPageRequest({startIndex:0,endIndex:this.props.size||1}),this.props.more||this.props.size||this.props.totalSize||(this._isReady=!0,this.props.onListReady&&this.props.onListReady())}shouldComponentUpdate(e,t){return Tp(this,e,t)}componentDidUpdate(e){this._isReady||!e.isPending||this.props.isPending||(this._isReady=!0,this.props.onListReady&&this.props.onListReady())}_setScrollIndex(e){this.props.onListScrollIndexChange&&this.props.onListScrollIndexChange(e),null==this.props.scrollIndex&&this.setState({scrollIndex:e})}render(){const{className:e,serverEntityID:t,providerEntityID:i,hubEntityID:n,directoryKey:a,allowHomeHubIndicator:s,allowPersistentHomeHubStatus:r,allowToggleHomeHub:o,hubIdentifier:l,isHomeHub:c,title:d,style:u,sourceTitle:p,attribution:h,route:m,scrollDirection:g,size:v,more:y,random:f,totalSize:b,keyPropName:I,itemsOffset:S,items:C,layout:M,cellRenderer:D,resizeTimeout:P,shouldConfirmHomeHubRemoval:O,onPageRequest:j}=this.props,{showActions:w,enablePrevious:T,enableNext:E,listHeight:N}=this.state;if(!v&&!b)return null;const x=f?v:b||(y?v+1:v),A={visibility:"auto"===N?"hidden":"visible"},L={height:N,overflow:"hidden"},k=u!==ebe.c;return Vu()("div",{className:e,style:A,"data-qa-id":"hub--"+l},void 0,k?Vu()(Abe,{allowHomeHubIndicator:s,allowPersistentHomeHubStatus:r,allowToggleHomeHub:o,className:kbe.a.hubCellHeader,directoryKey:a,hubEntityID:n,isHomeHub:c,providerEntityID:i,serverEntityID:t,shouldConfirmHomeHubRemoval:O},void 0,Vu()(obe,{title:d,attribution:h,route:m,sourceTitle:p}),w?Vu()("div",{className:kbe.a.hubActions},void 0,Vu()(JK,{className:kbe.a.hubScrollButton,"data-qa-id":"hubPreviousButton",iconComponent:yO,isDisabled:!T,title:Object(Ze.default)("Previous Page"),onPress:this.onPreviousPress}),Vu()(JK,{className:kbe.a.hubScrollButton,"data-qa-id":"hubNextButton",iconComponent:mO,isDisabled:!E,title:Object(Ze.default)("Next Page"),onPress:this.onNextPress})):null):null,Vu()("div",{style:L},void 0,Rbe(V0,{scrollerClassName:kbe.a.hubScroller,ignoreHeight:!0,keyPropName:I,items:C,itemsOffset:S,scrollDirection:g,scrollIndex:this.state.scrollIndex,shouldCenterScrollIndex:this.props.shouldCenterScrollIndex,size:Math.min(1e4,x),layout:M,cellRenderer:D,resizeTimeout:P,ref:this._listRef,onListUpdate:this.onListUpdate,onListScrollIndexChange:this.onListScrollIndexChange,onPageRequest:j})))}}Ube.defaultProps={className:kbe.a.hubCell,shouldCenterScrollIndex:!1,scrollDirection:"horizontal"};var Vbe=Ube,Bbe=i("cFG9"),Fbe=i.n(Bbe);const{Component:Hbe}=Nd.a,_be=parseInt(BV.playerControlsHeight,10);class Wbe extends Hbe{constructor(...e){super(...e),this.onMeasure=e=>{this.props.onDimensionsChange&&this.props.onDimensionsChange(e)}}render(){const{className:e,bottom:t,children:i}=this.props;return Vu()(T0,{className:e,style:{bottom:t},ignoreWidth:!0,ignorePosition:!0,onMeasure:this.onMeasure},void 0,i)}}Wbe.defaultProps={className:Fbe.a.container,bottom:_be};var Qbe=Wbe;function Gbe(e){const{cellWidth:t,aspectRatio:i,titleHeight:n=0}=e;return Math.floor(t/i+n)}function Kbe(e,t){const{innerViewportWidth:i,innerHorizontalPadding:n=0}=t;return Math.floor((i+n)/e)-n}function Ybe(e){const{innerViewportWidth:t,innerHorizontalPadding:i=0,preferredCellWidth:n,minCellWidth:a,minColumns:s=1,maxColumns:r=1/0,columnAdjustment:o=0}=e;let l=Math.round((t+i)/(n+i));l+=o,l=Math.max(Math.min(l,r),s);let c=Kbe(l,e);return c<a&&(c=l===s?a:Kbe(l-1,e)),c}const qbe=kC(Qt.j,null,bc),Zbe=2*(parseInt(BV.posterTitleHeight,10)+parseInt(BV.posterTitlePadding,10));function Jbe(e){return e-Zbe}var Xbe=i("u7G/"),$be=i.n(Xbe);const{memo:eIe,useCallback:tIe}=Nd.a;var iIe=eIe((function(e){const{serverEntityID:t,index:i,thumb:n,tag:a,isActive:s,startTimeOffset:r,cellWidth:o,cellHeight:l,onSeekTo:c}=e,d=Y0(e),u=tIe(()=>{const e=Math.round(r/1e3);c(e)},[r,c]),p=i;return Vu()("div",{style:d.style},void 0,Vu()(zp,{className:($be.a.thumbWrapper||"")+" "+(s&&$be.a.isActive||""),onPress:u},void 0,Vu()(tC,{serverEntityID:t,url:n,backgroundSize:"contain",width:o,height:Jbe(l),component:JI},p)),Vu()("div",{className:$be.a.titleContainer},void 0,Vu()("div",{className:$be.a.title},void 0,function(e,t){return t||Object(Ze.default)("Chapter {index}",{index:e})}(i,a)),Vu()("div",{className:$be.a.secondaryTitle},void 0,BC(r))))}));const nIe=Nd.a.createElement;function aIe(e,t){return function(i){return nIe(t,tp()({},e,i))}}var sIe=i("7DXn"),rIe=i.n(sIe);const{Component:oIe}=Nd.a,lIe=F0({direction:"horizontal",rows:1,overscan:0,innerHorizontalPadding:30,outerPaddingTop:10,outerPaddingLeft:5,outerPaddingRight:5,getCellWidth:e=>Ybe(Object.assign({},e,{minCellWidth:135,preferredCellWidth:180,minColumns:2,maxColumns:11,aspectRatio:qbe})),getCellHeight:e=>Gbe(Object.assign({},e,{aspectRatio:qbe,titleHeight:Zbe}))});var cIe=class extends oIe{static getDerivedStateFromProps(e,t){return t.activeChapterIndex!==e.activeChapterIndex?{scrollIndex:e.activeChapterIndex,scrollIndexIsActiveChapter:!0,activeChapterIndex:e.activeChapterIndex}:null}constructor(e,t){super(e,t),this.onHubCellScrollIndexChange=e=>{this.setState({scrollIndex:e,scrollIndexIsActiveChapter:!1})},this.state={scrollIndex:this.props.activeChapterIndex,scrollIndexIsActiveChapter:!0,activeChapterIndex:this.props.activeChapterIndex}}render(){const{serverEntityID:e,bottom:t,activeChapterIndex:i,chapters:n,onSeekTo:a}=this.props;return Vu()(Qbe,{className:rIe.a.container,bottom:t},void 0,Vu()(Vbe,{hubIdentifier:"chapters",title:Object(Ze.default)("Chapter selection"),size:n.length,keyPropName:"index",items:n.map((e,t)=>Object.assign({},e,{isActive:t===i})),layout:lIe,cellRenderer:aIe({serverEntityID:e,onSeekTo:a},iIe),scrollIndex:this.state.scrollIndex,shouldCenterScrollIndex:this.state.scrollIndexIsActiveChapter,onListScrollIndexChange:this.onHubCellScrollIndexChange}))}};var dIe=Object(Hu.b)((function(){return Object(Wu.a)(Q7(),zhe(),$fe(),(e,t,i)=>({serverEntityID:e.serverEntityID,chapters:t.chapters,activeChapterIndex:i}))}),(function(e,{playerType:t}){return{onSeekTo(i){e(Boe.w({playerType:t,positionSeconds:i}))}}}))(cIe);var uIe=Object.assign({},st.a,{getPaginatedUrl(e){const t=this.get("beginsAt"),i=this.get("endsAt");if(null!=t||null!=i){const n={"endsAt>":t,"beginsAt<":i};return V.join(e,n)}return e},fetchRange(e){const t=Object.assign({},e,{remove:!1});return e.prepend&&(t.at=0),this.set({beginsAt:e.start,endsAt:e.end}),this.fetch(t).promise()},repopulateRange(e=0){const t=this.get("populatedRange"),i=t.start,n=t.end;return this.set({beginsAt:i,endsAt:n}),this.abortPendingPopulate(),this.fetch()},updatePopulatedRange(){const e=this.get("beginsAt"),t=this.get("endsAt"),i=this.get("populatedRange"),n=i.start,a=i.end;let s,r;this.getCollection().length?n?(s=Math.min(n,null==e?1/0:e),r=Math.max(a,null==t?-1/0:t)):(s=e||n,r=t||a):(s=0,r=0),this.set("populatedRange",{start:s,end:r,size:r-s}),this.set("isPopulated",r-s>0)}});var pIe=Gn.default.extend({mixins:[uIe],name:"ChannelGridMetadataListModel",sessionAttrs:{isMetadataList:Ae.a.boolean,containerKey:Ae.a.string,entityKey:Ae.a.string,containerTitle:Ae.a.string,beginsAt:Ae.a.integer,endsAt:Ae.a.integer,populatedRange:Ae.a.object,isPending:Ae.a.boolean,isPopulated:Ae.a.boolean,error:Ae.a.object},defaults:()=>({isMetadataList:!0,populatedRange:{start:0,end:0,size:0},isPending:!0,isPopulated:!1,error:null})});var hIe=xe.a.extend({name:"ProviderTagModel",context:["server","provider"],idAttribute:"id",rootPropertyName:"Directory",syncedAttrs:{id:Ae.a.integer,filter:Ae.a.string,tag:Ae.a.string,tagType:Ae.a.integer,tagValue:Ae.a.integer,thumb:Ae.a.string,channelCallSign:Ae.a.string,channelIdentifier:Ae.a.string}});var mIe=ke.a.extend({name:"ProviderTagCollection",context:["server","provider","type"],model:hIe,cache:new lm,url(){const e={type:this.type};return V.join([this.provider.get("identifier"),"tags"],e)}});var gIe={CHANNEL:310};const vIe=Object(Pi.a)("ui/channelGridPage/initChannelsGridPage"),yIe=Object(Pi.a)("ui/channelGridPage/initMetadataList"),fIe=Object(Pi.a)("ui/channelGridPage/setStartTime"),bIe=Object(Pi.a)("ui/channelGridPage/resetStartTime"),IIe=Object(Pi.a)("ui/channelGridPage/navigateTimeForward"),SIe=Object(Pi.a)("ui/channelGridPage/navigateTimeBack"),CIe=Object(Pi.a)("ui/channelGridPage/setViewportSize"),MIe=Object(Pi.a)("ui/channelGridPage/updateAiredProgress"),DIe=Object(Pi.a)("ui/channelGridPage/populateChannelPrograms"),PIe=Object(Pi.a)("ui/channelGridPage/repopulateChannelPrograms"),OIe=Object(Pi.a)("ui/channelGridPage/populateChannelsList"),jIe=Object(Pi.a)("ui/channelGridPage/fetchChannelsList");function wIe(e){return e.get("ui").get("channelGridPage")}function TIe(e,t){const i=1800*Math.floor(e/1800),n=[];for(let e=0;e<=t;e++)n.push(i+1800*e);return n}const EIe=Sk({"ui/channelGridPage/initChannelsGridPage"(e,t,i){const n=wIe(e),{serverEntityID:a,providerEntityID:s,directoryKey:r}=t,o=Object(wi.m)(e,{serverEntityID:a}),l=Object(wi.j)(e,{providerEntityID:s}),c={serverEntityID:a,providerEntityID:s,directoryKey:r,channelsList:new mIe(null,{server:o,provider:l,type:gIe.CHANNEL})};n.set(c),i(bIe())},"ui/channelGridPage/initMetadataList"(e,t,i){const{containerKey:n,serverEntityID:a,providerEntityID:s}=t,r=wIe(e),o=Object(wi.m)(e,{serverEntityID:a}),l=Object(wi.j)(e,{providerEntityID:s}),c=r.get("metadataList");r.get("containerKey")===n&&(null==c?void 0:c.server.get("machineIdentifier"))===o.get("machineIdentifier")&&(null==c?void 0:c.provider.get("identifier"))===l.get("identifier")||r.set({containerKey:n,metadataList:new pIe({containerKey:n},{server:o,provider:l})})},"ui/channelGridPage/resetStartTime"(e,t,i){const n=Math.floor(Date.now()/1e3);i(fIe(n))},"ui/channelGridPage/setStartTime"(e,t,i){const n=wIe(e),a=n.get("visibleColumns"),s=TIe(t,a);Object(Ti.a)(()=>{n.set({startTime:t,columnTimes:s})})},"ui/channelGridPage/navigateTimeForward"(e,t,i){const n=wIe(e).get("columnTimes")[0]+1800;i(fIe(n))},"ui/channelGridPage/navigateTimeBack"(e,t,i){const n=wIe(e).get("columnTimes")[0]-1800;n+1800>Math.floor(Date.now()/1e3)-10800&&i(fIe(n))},"ui/channelGridPage/setViewportSize"(e,t={},i){const{width:n=1,height:a=1,overflowWidth:s=0,channelWidth:r=1,channelTitleWidth:o=0}=t,l=wIe(e),c=Math.floor(n+s),d=Math.max(Math.floor((n-o)/r),1)+1,u=Math.floor((c-o)/d),p=TIe(l.get("startTime"),d);Object(Ti.a)(()=>{l.set({visibleColumns:d,columnTimes:p,columnWidth:u,viewportWidth:c,viewportHeight:Math.floor(a)})})},"ui/channelGridPage/updateAiredProgress"(e){const t=wIe(e),i=t.get("columnTimes"),n=i[0],a=i[i.length-1]-n,s=Math.floor(Date.now()/1e3),r=Math.min(100,Math.max(0,(s-n)/a*100));Object(Ti.a)(()=>{t.set({airedProgress:r})})},"ui/channelGridPage/populateChannelPrograms"(e){const t=wIe(e),i=t.get("metadataList"),n=t.get("columnTimes"),a=t.get("viewportWidth");i&&a>0&&(i.set({isPending:!0,error:null}),i.populateRange({start:n[0],end:n[n.length-1],reloadThreshold:43200}).then(()=>{i.set({isPending:!1,isPopulated:!0,error:null})},(e,t)=>{t.aborting||i.set({isPending:!1,error:Object(DT.a)(t)})}))},"ui/channelGridPage/repopulateChannelPrograms"(e){const t=wIe(e).get("metadataList");t.set({isPending:!0}),t.repopulateRange().then(()=>{t.set({isPending:!1,isPopulated:!0,error:null})},(e,i)=>{i.aborting||t.set({isPending:!1,error:Object(DT.a)(i)})})},[Tn.a](e,t,i){if(t.metadataItemEntityID||t.containerKeyPattern)return;const n=Object(wi.m)(e,t),a=wIe(e),s=a.get("metadataList"),r=a.get("channelsList");r&&s&&r.server===n&&s.server===n&&(i(PIe()),i(jIe()))},"ui/channelGridPage/populateChannelsList":Object(ji.a)({key:"channelsList",fetchActionCreator:jIe,getModel:wIe}),"ui/channelGridPage/fetchChannelsList":Object(Oi.a)({key:"channelsList",getModel:wIe})});function NIe(e){return Object(Wu.a)(HS(),t=>{if(t)return I.a.findWhere(t.features,{type:e})})}var xIe=NIe.bind(null,Ot.e);function AIe(e,{type:t,filters:i,sort:n,limit:a}){const s=V.join(e),r={};return t&&(r.type=t),n&&(r.sort=n),a&&(r.limit=a),V.join(function(e,t){const i=Pie(t,!0);if(!i)return e;const n=e.indexOf("?"),a=e.length;return(e+=n>-1?n<a-1?"&":"":"?")+i}(s,i),r,{parseParams:!0})}function LIe(){return Object(Wu.a)((e,{activeFilters:t})=>t,HS(),xIe(),(e=[],t,i)=>{if(!t)return null;return AIe(i?i.key:"/"+t.identifier+"/grid",{type:[Object(Qt.u)(Qt.j).id,Object(Qt.u)(Qt.f).id].join(","),filters:e.reduce((e,t)=>("hdonly"===t.key?e.push(Object.assign({},t,{key:"channel.value"})):e.push(t),e),[]),sort:"beginsAt"})})}var kIe=function(){return Object(Wu.a)(Rre(),XK,(e,t)=>e&&e.metadataItems?e.metadataItems.map(e=>t[e]):[])},RIe=i("rymg"),zIe=i.n(RIe);var UIe=function(e){const{title:t}=e;return Vu()("div",{className:zIe.a.heading},void 0,t)},VIe=i("yd35"),BIe=i.n(VIe);var FIe=function(e){const{children:t}=e;return Vu()("div",{className:BIe.a.headingContainer},void 0,t,Vu()("div",{className:BIe.a.divider}))},HIe=i("Da6A"),_Ie=i("IYaI"),WIe=i("dLU1"),QIe=i("zbbA");const GIe={days:eT.a,hours:HIe.a,minutes:_Ie.a,months:WIe.a,seconds:Uj.a,weeks:qy.a,years:QIe.a};function KIe(e,t={}){let i=Object($c.a)(e);for(const e in t)i=GIe[e](i,t[e]);return Object(Vy.a)(i)}function YIe(e,t={}){if(null==e)return!1;return KIe(Object(Vy.a)(new Date),t)<=e}function qIe(e,t={}){if(null==e)return!1;return KIe(Object(Vy.a)(new Date),t)>=e}const ZIe={s:"seconds",m:"minutes",h:"hours",d:"days",w:"weeks",M:"months",y:"years"};function JIe(e){if("now"===e)return{};const t=e.match(/([-+]?\d+)([smhdwMy])/);if(t){const[,e,i]=t;if(e&&i)return{[ZIe[i]]:parseInt(e,10)}}else{const t=parseInt(e,10);if(I.a.isNumber(t))return t}return{}}function XIe(e,t){return!(!I.a.isObject(t)||!YIe(e,t))||e>=t}function $Ie(e,t){return!(!I.a.isObject(t)||!qIe(e,t))||e<=t}function eSe(){return Object(Wu.a)((e,{containerKey:t})=>t,$K(),(e,t)=>{if(!t||!t.Media)return;const i=function(e){if(!e)return;const[,t]=e.split("?");return t?Se.a.parseQueryString(t):void 0}(e),n=I.a.sortBy(t.Media,"endsAt"),a=Date.now()/1e3;for(let e=0,t=n.length;e<t;e++){const t=n[e];if(i){const e=i["beginsAt>"],n=i["beginsAt<"],a=i["endsAt>"],s=i["endsAt<"];if(e){const i=JIe(e);if($Ie(t.beginsAt,i))continue}if(n){const e=JIe(n);if(XIe(t.beginsAt,e))continue}if(a){const e=JIe(a);if($Ie(t.endsAt,e))continue}if(s){const e=JIe(s);if(XIe(t.endsAt,e))continue}}if(t.endsAt>a)return t}return I.a.first(n)})}var tSe=Object(Wu.a)(Rg.a,e=>e.timeFormat),iSe=i("3g9J");var nSe=function(e,t,i={}){const{includeMinuteZero:n=!0,timeFormat:a="h:mma",separator:s="-"}=i,r=Object($c.a)(e),o=Object($c.a)(t),l=Object(Zy.a)(r,"a")===Object(Zy.a)(o,"a"),c=Object(iSe.a)(r),d=Object(iSe.a)(o);let u=a,p=a;return n||0!==c||(u=u.replace("h:mm","h")),l&&(u=u.replace("a","")),n||0!==d||(p=p.replace("h:mm","h")),""+Object(Zy.a)(r,u)+s+Object(Zy.a)(o,p)},aSe=i("w9Qn"),sSe=i.n(aSe);const rSe=Nd.a.createElement;var oSe=function(e){let{className:t,component:i,isSecondary:n,isDoubleLine:a,isSplitLine:s}=e,r=Xe()(e,["className","component","isSecondary","isDoubleLine","isSplitLine"]);return rSe(i,tp()({className:(t||"")+" "+((a?sSe.a.doubleLineTitle:sSe.a.singleLineTitle)||"")+" "+(n&&sSe.a.isSecondary||"")+" "+(s&&sSe.a.isSplitLine||"")},r))};var lSe=function(e){const{className:t,tabIndex:i,route:n,tag:a}=e;return a?n?Vu()(zp,{"data-qa-id":"castTitle",className:t,tabIndex:i,title:a,to:n},void 0,a):Vu()("span",{className:t,title:a},void 0,a):null};var cSe=function({className:e,role:t}){return Vu()("span",{className:e,title:t},void 0,t)};var dSe=function(e){const{className:t,sourceTitle:i}=e;return i?Vu()("span",{className:t},void 0,Object(Ze.default)("from {sourceTitle}",{sourceTitle:i})):null};var uSe=Object(Hu.b)((function(){return Object(Wu.a)($S,ZS,Aae,xae,(e,t,i,n)=>e&&i&&e.machineIdentifier!==i.machineIdentifier?{sourceTitle:i.sourceTitle||i.friendlyName}:{})}))(dSe),pSe=i("sB/z"),hSe=i.n(pSe);var mSe=Object(Hu.b)((function(){return Object(Wu.a)($K(),e=>({attributionLogo:e.attributionLogo}))}))((function(e){const{attributionLogo:t,className:i}=e;return t?Vu()("span",{className:i},void 0,Vu()("img",{className:hSe.a.img,src:t})):null}));var gSe=function({className:e,addedAt:t}){return Vu()(Oce,{className:e,timestamp:t})};var vSe=Object(Hu.b)((function(e,t){return Object(Wu.a)($K(),(e={})=>({addedAt:e.addedAt}))}))(gSe);var ySe=Object(Hu.b)((function(){return Object(Wu.a)((e,{metricsContext:t})=>t,Aae,xae,$K(),(e,t,i,n={})=>{const{addedAt:a,grandparentTitle:s,grandparentKey:r}=n,o={};return e&&(o.context=e),{addedAt:a,title:s,route:cu(t,i,r,o)}})}))(jce);function fSe(){return Object(Wu.a)($K(),eSe(),(e,t)=>{if(e&&t)return I.a.findWhere(e.Channel,{id:t.channelID})})}var bSe=i("TpeJ"),ISe=i("GobQ");var SSe=function(e,{abbreviate:t=!1}={}){if(null==e)return"";const i=Object(ISe.a)(Object($c.a)(e));return t?function(e){return[Object(Ze.default)("Sun"),Object(Ze.default)("Mon"),Object(Ze.default)("Tue"),Object(Ze.default)("Wed"),Object(Ze.default)("Thu"),Object(Ze.default)("Fri"),Object(Ze.default)("Sat")][e]}(i):function(e){return[Object(Ze.default)("Sunday"),Object(Ze.default)("Monday"),Object(Ze.default)("Tuesday"),Object(Ze.default)("Wednesday"),Object(Ze.default)("Thursday"),Object(Ze.default)("Friday"),Object(Ze.default)("Saturday")][e]}(i)},CSe=i("cHAT");var MSe=function(e,{abbreviate:t=!1}={}){if(!e)return"";const i=Object(CSe.a)(Object($c.a)(e));return t?function(e){return[Object(Ze.default)("Jan"),Object(Ze.default)("Feb"),Object(Ze.default)("Mar"),Object(Ze.default)("Apr"),Object(Ze.default)("May"),Object(Ze.default)("Jun"),Object(Ze.default)("Jul"),Object(Ze.default)("Aug"),Object(Ze.default)("Sep"),Object(Ze.default)("Oct"),Object(Ze.default)("Nov"),Object(Ze.default)("Dec")][e]}(i):function(e){return[Object(Ze.default)("January"),Object(Ze.default)("February"),Object(Ze.default)("March"),Object(Ze.default)("April"),Object(Ze.default)("May"),Object(Ze.default)("June"),Object(Ze.default)("July"),Object(Ze.default)("August"),Object(Ze.default)("September"),Object(Ze.default)("October"),Object(Ze.default)("November"),Object(Ze.default)("December")][e]}(i)},DSe=i("JHeM"),PSe=i("JO1+");function OSe(e){if(null==e)return!1;const t=Object($c.a)(e);return Object(PSe.a)(Date.now(),t)}function jSe(e){if(null==e)return!1;const t=Object($c.a)(e);return Object(nf.a)(t,Object(eT.a)(new Date,1))}var wSe=i("08aW");function TSe(e){if(null==e||!af(e))return!1;return Object(wSe.a)(Object($c.a)(e))>16}function ESe(e){if(null==e)return!1;const t=Object($c.a)(e);return Object(nf.a)(Object(By.a)(new Date,1),t)}function NSe(e,t,{timeFormat:i="h:mma"}={}){if(null==e)return"";const n=Object(DSe.default)(e,i);let a;return a=ESe(e)?Object(Ze.default)("Yesterday"):af(e)?TSe(e)?Object(Ze.default)("Tonight"):Object(Ze.default)("Today"):jSe(e)?Object(Ze.default)("Tomorrow"):OSe(e)?SSe(e):Object(Ze.default)("{dayOfWeekAbbreviated}, {monthAbbreviated} {dayNumber}",{dayOfWeekAbbreviated:SSe(e,{abbreviate:!0}),monthAbbreviated:MSe(e,{abbreviate:!0}),dayNumber:Object(bSe.a)(Object($c.a)(e))}),t?Object(Ze.default)("{1} at {2} on {3}",a,n,t):Object(Ze.default)("{1} at {2}",a,n)}function xSe(e,t,{timeFormat:i="h:mma"}={}){if(null==e)return"";const n=Object($c.a)(e);if(ESe(e))return Object(Ze.default)("Yesterday");0===Object(iSe.a)(n)&&(i=i.replace("h:mm","h"));const a=Object(DSe.default)(e,i);let s;return s=af(e)?TSe(e)?Object(Ze.default)("Tonight"):Object(Ze.default)("Today"):jSe(e)?Object(Ze.default)("Tomorrow"):OSe(e)?SSe(e):Object(Ze.default)("{monthAbbreviated} {dayNumber}",{monthAbbreviated:MSe(e,{abbreviate:!0}),dayNumber:Object(bSe.a)(Object($c.a)(e))}),t?Object(Ze.default)("{1} at {2} on {3}",s,a,t):Object(Ze.default)("{1} at {2}",s,a)}function ASe(e,t){if(null==e||null==t)return!1;const i=Object(Vy.a)(new Date);return i>=e&&i<=t}var LSe=i("M6j/"),kSe=i.n(LSe);const{Component:RSe}=Nd.a;function zSe({beginsAt:e,endsAt:t,channel:i,showChannel:n,showFullTime:a,timeFormat:s}){if(!e)return Object(Ze.default)("No upcoming airings");if(ASe(e,t)){const e=t-Date.now()/1e3;return e<=60?Object(Ze.default)("About to end"):$m(e)}if(YIe(e)&&qIe(e,{minutes:60})){const t=1e3*e-Date.now();if(t<=6e4)return n&&i?Object(Ze.default)("Starting now on {channel}",{channel:i}):Object(Ze.default)("Starting now");const a=Xm(t);return n&&i?Object(Ze.default)("Starting in {duration} on {channel}",{duration:a,channel:i}):Object(Ze.default)("Starting in {duration}",{duration:a})}return(a?NSe:xSe)(e,n&&i,{timeFormat:s})}class USe extends RSe{constructor(e,t){super(e,t),this.tickTimeout=void 0,this.onTickTimeout=()=>{this.setState(this.getState(this.props)),this.setTickTimeout()},this.state=this.getState(e)}componentDidMount(){this.setTickTimeout()}componentWillReceiveProps(e){const t=this.getState(e);t.title!==this.state.title&&this.setState(t)}shouldComponentUpdate(e,t){return Tp(this,e,t)}componentWillUnmount(){this.tickTimeout&&window.clearTimeout(this.tickTimeout)}getState(e){return{title:zSe(e)}}setTickTimeout(){this.tickTimeout=window.setTimeout(this.onTickTimeout,6e4-Date.now()%6e4)}render(){const{className:e,beginsAt:t,endsAt:i,channel:n,showChannel:a}=this.props,{title:s}=this.state,r=a&&!!n&&ASe(t,i);return Vu()("span",{className:e},void 0,r?Vu()("span",{},void 0,Object(Ze.default)("Now on {channel}",{channel:n}),Vu()(tf,{className:kSe.a.separator}),s):s)}}USe.defaultProps={showFullTime:!1,showChannel:!1};var VSe=USe;var BSe=Object(Hu.b)((function(){return Object(Wu.a)(tSe,eSe(),fSe(),(e,t,i)=>({beginsAt:t&&t.beginsAt,endsAt:t&&t.endsAt,channel:i&&i.tag,timeFormat:e}))}))(VSe);let FSe,HSe;function _Se(e,t=window.location.hash){const i=function(e){if(FSe===e)return HSe;const t=e.split("?"),i=t.length>1?t[1]:void 0,n=i?V.parseParams(i):{};return FSe=e,HSe={url:t[0],params:n},HSe}(t),n={type:void 0,typeKey:e.typeKey,filters:Pie(e.filters),limit:e.limit,filterLabel:e.filterLabel,customFilter:e.customFilter?1:void 0,sort:e.sort,folderKey:e.folderKey,folderTitle:e.folderTitle,parentFolderKey:e.parentFolderKey,parentFolderTitle:e.parentFolderTitle,save:1};return n.customFilter||(n.playlistID=void 0,n.playlistTitle=void 0),V.join(i.url,Object.assign({},i.params,n))}function WSe(){return Object(Wu.a)((e,{containerKey:t})=>t,(e,{containerTitle:t})=>t,(e,{metricsContext:t})=>t,$K(),Aae,xae,Object(Wu.a)($K(),e=>{if(e&&!e.skipDetails&&!e.isExtra&&!e.radio&&e.type!==Qt.k&&e.type!==Qt.d)return e.type===Qt.p&&e.subtype!==LC.c?e.skipParent?e.grandparentKey:e.parentKey:e.key}),(e,t,i,n={},a,s,r)=>{if(n.isFolder){const a=e.match(/(.*?)\/folder/)[1],s={key:a+"/all",typeKey:a+"/folder",folderKey:r,folderTitle:n.title,parentFolderKey:e,parentFolderTitle:t};return i&&(s.context=i),_Se(s)}const o={};return i&&(o.context=i),n.type===Qt.l&&(o.legacy=1),cu(a,s,r,o,n.playlistType)})}var QSe=kK((function(){return Object(Wu.a)($K(),WSe(),(e={},t)=>({title:e.title,route:t}))}))(bce),GSe=i("eRZe"),KSe=i.n(GSe);const YSe=Nd.a.createElement;var qSe=function(e){let{className:t,attribution:i}=e,n=Xe()(e,["className","attribution"]);return Vu()("span",{className:t},void 0,Vu()("div",{className:KSe.a.container},void 0,Vu()(pS,{className:KSe.a.badge,attribution:i}),YSe(QSe,tp()({className:KSe.a.title},n))))};var ZSe=Object(Hu.b)((function(){return Object(Wu.a)($K(),(e={})=>({attribution:e.attribution}))}))(qSe),JSe=i("eR/B"),XSe=i.n(JSe);var $Se=function({className:e,attribution:t,year:i}){return Vu()("span",{className:e},void 0,Vu()("div",{className:XSe.a.container},void 0,Vu()(pS,{className:XSe.a.badge,attribution:t}),Vu()(Yce,{year:i,className:XSe.a.title})))};var eCe=Object(Hu.b)((function(){return Object(Wu.a)($K(),(e={})=>({attribution:e.attribution,year:e.year}))}))($Se);var tCe=function(e){const{className:t,beginsAt:i,endsAt:n,timeFormat:a}=e,s=nSe(i,n,{includeMinuteZero:!1,timeFormat:a});return Vu()("span",{className:t},void 0,s)};var iCe=Object(Hu.b)((function(){return Object(Wu.a)(tSe,Whe(),(e,t)=>({beginsAt:t&&t.beginsAt,endsAt:t&&t.endsAt,timeFormat:e}))}))(tCe);var nCe=Object(Hu.b)((function(){return Object(Wu.a)($K(),(e={})=>({leafCount:e.leafCount}))}))(Hce),aCe=i("/Tr7"),sCe=i("X60b");var rCe=function(e){let t=e.episodeIndex;if(t>0||0===t)return e.noLeadingZero||(t=Object(sCe.a)(t)),e.useLongName?Object(Ze.default)("Episode {episodeNumber}",{episodeNumber:t}):Object(Ze.default)("E{episodeNumber}",{episodeNumber:t});if(e.date&&e.dateFormat)return Object(Zy.a)(Object(aCe.a)(e.date),e.dateFormat);if(e.date){const t=Object(aCe.a)(e.date);return Object(Ze.default)("{monthNumber}/{dayNumber}/{shortYear}",{monthNumber:Object(CSe.a)(t)+1,dayNumber:Object(bSe.a)(t),shortYear:Object(Zy.a)(t,"yy")})}return""};function oCe({className:e,index:t,longName:i,originallyAvailableAt:n}){const a=rCe({useLongName:i,episodeIndex:t,date:n,noLeadingZero:!0});return Vu()("span",{className:e},void 0,a)}oCe.defaultProps={longName:!0};var lCe=oCe;var cCe=Object(Hu.b)((function(){return Object(Wu.a)($K(),(e={})=>({index:e.index,originallyAvailableAt:e.originallyAvailableAt}))}))(lCe);var dCe=function(e){let t=e.seasonIndex;return null==t?"":t>1e3?t:(e.noLeadingZero||(t=Object(sCe.a)(t)),e.useLongName?Object(Ze.default)("Season {seasonNumber}",{seasonNumber:t}):Object(Ze.default)("S{seasonNumber}",{seasonNumber:t}))},uCe=Vu()(tf,{separator:""}),pCe=Vu()(tf,{separator:""});var hCe=function(e){const{className:t,tabIndex:i,title:n,index:a,route:s,parentTitle:r,parentIndex:o,parentRoute:l,originallyAvailableAt:c}=e,d=dCe({seasonIndex:o,noLeadingZero:!0}),u=rCe({episodeIndex:a,date:c,noLeadingZero:!0});return s&&l?Vu()("span",{className:t},void 0,a>0&&d?Vu()(zp,{tabIndex:i,title:r,to:l},void 0,d):null,a>0&&d?pCe:null,Vu()(zp,{tabIndex:i,title:n,to:s},void 0,u)):Vu()("span",{className:t},void 0,a>0&&d?Vu()("span",{},void 0,d):null,a>0&&d?uCe:null,Vu()("span",{},void 0,u))},mCe=Vu()(tf,{});var gCe=function({className:e,tabIndex:t,title:i,index:n,route:a,parentTitle:s,parentIndex:r,parentRoute:o,originallyAvailableAt:l}){return Vu()("span",{className:e},void 0,Vu()(hCe,{tabIndex:t,title:i,index:n,route:a,parentTitle:s,parentIndex:r,parentRoute:o,originallyAvailableAt:l}),i?mCe:null,i?Vu()(bce,{tabIndex:t,title:i,route:a}):null)};var vCe=kK((function(){return Object(Wu.a)((e,{metricsContext:t})=>t,$S,ZS,$K(),(e,t,i,n={})=>{const a={};e&&(a.context=e);const s=n.skipParent&&n.subtype===LC.d;return{title:n.title,index:n.index,route:cu(t,i,n.key,a),parentTitle:n.parentTitle,parentIndex:s?null:n.parentIndex,parentRoute:n.skipParent?null:cu(t,i,n.parentKey,a),originallyAvailableAt:n.originallyAvailableAt}})}))(gCe);var yCe=Object(iA.a)(["id","typeString"],[{id:1,typeString:"trailer",title:()=>Object(Ze.default)("Trailer")},{id:2,typeString:"deletedScene",title:()=>Object(Ze.default)("Deleted Scene")},{id:3,typeString:"interview",title:()=>Object(Ze.default)("Interview")},{id:4,typeString:"musicVideo",title:()=>Object(Ze.default)("Music Video")},{id:5,typeString:"behindTheScenes",title:()=>Object(Ze.default)("Behind the Scenes")},{id:6,typeString:"scene",title:()=>Object(Ze.default)("Scene")},{id:7,typeString:"liveMusicVideo",title:()=>Object(Ze.default)("Live Music Video")},{id:8,typeString:"lyricMusicVideo",title:()=>Object(Ze.default)("Lyric Music Video")},{id:9,typeString:"concert",title:()=>Object(Ze.default)("Concert")},{id:10,typeString:"featurette",title:()=>Object(Ze.default)("Featurette")},{id:11,typeString:"short",title:()=>Object(Ze.default)("Short")},{id:12,typeString:"other",title:()=>Object(Ze.default)("Other")}]);var fCe=function({className:e,extraType:t}){var i=yCe.get(t);return Vu()("span",{className:e},void 0,i?i.title:"")};var bCe=Object(Hu.b)((function(){return Object(Wu.a)($K(),(e={})=>({extraType:e.extraType}))}))(fCe);const ICe=Object(Hu.b)((function(){return Object(Wu.a)($K(),WSe(),(e={},t)=>({title:e.title,route:t}))}))(bce);ICe.isDoubleLine=!0;var SCe=ICe;var CCe=function({className:e,duration:t,viewOffset:i}){let n;if(t&&i){const e=(t-i)/1e3;e>0&&(n=$m(e))}return Vu()("span",{className:e},void 0,n)};var MCe=Object(Hu.b)((function(){return Object(Wu.a)($K(),(e={})=>({duration:e.duration,viewOffset:e.viewOffset}))}))(CCe);var DCe=function({className:e,duration:t}){return t?Vu()("span",{className:e},void 0,Xm(t)):null};var PCe=function(e){const{className:t,playlistType:i,duration:n,leafCount:a}=e;return i===f7.b?Vu()(Bce,{className:t,leafCount:a}):Vu()(DCe,{className:t,duration:n})};var OCe=Object(Hu.b)((function(){return Object(Wu.a)($K(),(e={})=>({playlistType:e.playlistType,duration:e.duration,leafCount:e.leafCount}))}))(PCe);var jCe=kK((function(){return Object(Wu.a)((e,{metricsContext:t})=>t,$S,ZS,$K(),(e,t,i,n={})=>{const a={};e&&(a.context=e);const s=n.skipParent&&n.subtype===LC.d;return{title:n.title,index:n.index,route:cu(t,i,n.key,a),parentTitle:n.parentTitle,parentIndex:s?null:n.parentIndex,parentRoute:n.skipParent?null:cu(t,i,n.parentKey,a),originallyAvailableAt:n.originallyAvailableAt}})}))(hCe);var wCe=function({className:e,topics:t}){return t&&t.length?Vu()("span",{className:e},void 0,t[0].tag):null};var TCe=Object(Hu.b)((function(){return Object(Wu.a)($K(),e=>({topics:e&&e.Topic}))}))(wCe);function ECe(){return Object(Wu.a)(QK(),$K(),(e,t)=>{if(t)return GK(e,t.librarySectionID)})}function NCe(e,t){return e.isCloud?t.sourceTitle?t.title+" "+t.sourceTitle:t.title:e.friendlyName}var xCe=function(e){const{className:t,server:i,provider:n,sourceDirectory:a}=e;if(!i.friendlyName&&!i.isCloud)return null;const s=i.isCloud&&!a?void 0:Xt(i,n,a,jt.k(n.identifier,jt.d)?{key:"/hubs",pageType:xt}:void 0);return Vu()("span",{className:t},void 0,i.isCloud&&!n.sourceTitle?Object(Ze.default)("on")+" ":null,s?Vu()(zp,{title:i.friendlyName,to:s},void 0,NCe(i,n)):NCe(i,n))};var ACe=Object(Hu.b)((function(){return Object(Wu.a)($S,ZS,ECe(),(e,t,i)=>({server:e,provider:t,sourceDirectory:i}))}))(xCe);var LCe=function(e){const{className:t,server:i,provider:n,sourceDirectory:a,id:s,tag:r,filter:o,tagType:l}=e,{typeString:c}=yte.get(l),d=fte(i,n,a,{filters:o||c+"="+s,filterLabel:r});return Vu()(zp,{"data-qa-id":"searchTagTitle",className:t,title:r,to:d},void 0,r)};const kCe=Nd.a.createElement;var RCe=Object(Hu.b)((function(){return Object(Wu.a)($S,ZS,hie(),(e,t,i={})=>{const n=I.a.pick(i.tagItem,"id","tag","tagType","librarySectionType","librarySectionID");return Object.assign({server:e,provider:t,sourceDirectory:mie(t,i.tagItem.librarySectionID)},n)})}))((function(e){return kCe(LCe,e)})),zCe=i("+t+Z");var UCe=function(e){const{className:t,type:i,bitrate:n}=e,a=i===Go.a?Object(zCe.a)(n):Object(ere.default)(n);return Vu()("span",{className:t},void 0,a)};var VCe=Object(Hu.b)((function(){return Object(Wu.a)($K(),(e={})=>{const t=Object(Qt.u)(e.type),i=e.Media&&e.Media[0];return{type:t&&t.mediaType,bitrate:i&&i.bitrate}})}))(UCe);function BCe(e){if(!e)return"";const t=e.indexOf("/");return-1!==t?e.substr(t+1):e}var FCe=function({className:e,contentRating:t}){return Vu()("span",{className:e},void 0,BCe(t))};var HCe=Object(Hu.b)((function(e,t){return Object(Wu.a)($K(),(e={})=>({contentRating:e.contentRating}))}))(FCe),_Ce=i("uceU"),WCe=i.n(_Ce);const QCe=Nd.a.createElement,GCe=/^igdb:\/\//,KCe=/^imdb:\/\//,YCe=/^rottentomatoes:\/\//,qCe=/^thetvdb:\/\//,ZCe=/^themoviedb:\/\//,JCe={igdb:function({rating:e,audienceRating:t}){return Vu()("div",{className:WCe.a.rating,title:Object(Ze.default)("IGDB Rating")},void 0,Vu()("div",{className:WCe.a.igdb}),Math.round(10*t)+"%")},imdb:function({rating:e,audienceRating:t}){const i=t||e;return Vu()("div",{className:WCe.a.rating,title:Object(Ze.default)("IMDb Rating")},void 0,Vu()("div",{className:WCe.a.imdb}),i.toFixed(1))},rt:function({rating:e,ratingImage:t,audienceRating:i,audienceRatingImage:n}){const a=t&&t.substr(t.lastIndexOf(".")+1),s=i&&n&&n.substr(n.lastIndexOf(".")+1),r={certified:Object(Ze.default)("Certified Fresh"),ripe:Object(Ze.default)("Fresh"),rotten:Object(Ze.default)("Rotten"),spilled:Object(Ze.default)("Audience Rating"),upright:Object(Ze.default)("Audience Rating")};return Vu()("div",{className:WCe.a.rt},void 0,a?Vu()("div",{className:WCe.a.rating},void 0,Vu()("div",{className:WCe.a[a],title:r[a]}),Math.round(10*e)+"%"):null,s?Vu()("div",{className:WCe.a.rating},void 0,Vu()("div",{className:WCe.a[s],title:r[s]}),Math.round(10*i)+"%"):null)},thetvdb:function({audienceRating:e}){return Vu()("div",{className:WCe.a.rating,title:Object(Ze.default)("TheTVDB Rating")},void 0,Vu()("div",{className:WCe.a.thetvdb}),Math.round(10*e)+"%")},tmdb:function({rating:e,audienceRating:t}){const i=t||e;return Vu()("div",{className:WCe.a.rating,title:Object(Ze.default)("TMDB Rating")},void 0,Vu()("div",{className:WCe.a.tmdb}),Math.round(10*i)+"%")},other:function({rating:e}){return Vu()("div",{className:WCe.a.rating},void 0,Vu()("div",{className:WCe.a.other,title:Object(Ze.default)("Rating")}),Math.round(10*e)+"%")}};var XCe=function(e){const t=function({rating:e,ratingImage:t,audienceRating:i,audienceRatingImage:n}){return e||i?e&&GCe.test(t)||i&&GCe.test(n)?"igdb":e&&KCe.test(t)||i&&KCe.test(n)?"imdb":i&&qCe.test(n)?"thetvdb":e&&ZCe.test(t)||i&&ZCe.test(n)?"tmdb":e&&YCe.test(t)||i&&YCe.test(n)?"rt":"other":"unrated"}(e),i=JCe[t];return i?Vu()("div",{className:WCe.a.container},void 0,QCe(i,e)):null};var $Ce=function({className:e,rating:t,ratingImage:i,audienceRating:n,audienceRatingImage:a}){return t||n?Vu()("span",{className:e},void 0,Vu()(XCe,{rating:t,ratingImage:i,audienceRating:n,audienceRatingImage:a})):null};var eMe=Object(Hu.b)((function(e,t){return Object(Wu.a)($K(),(e={})=>({rating:e.rating,ratingImage:e.ratingImage,audienceRating:e.audienceRating,audienceRatingImage:e.audienceRatingImage}))}))($Ce);var tMe=Object(Hu.b)((function(e,t){return Object(Wu.a)($K(),(e={})=>{const{duration:t}=e;return{duration:t}})}))(DCe);var iMe=function({className:e,lastViewedAt:t}){return Vu()(Oce,{className:e,timestamp:t})};var nMe=Object(Hu.b)((function(e,t){return Object(Wu.a)($K(),(e={})=>({lastViewedAt:e.lastViewedAt}))}))(iMe);var aMe=function({className:e,viewCount:t}){const i=(t>1?Object(Ze.default)("{viewCount} Plays",{viewCount:t}):null)||(t>0?Object(Ze.default)("{viewCount} Play",{viewCount:t}):null)||Object(Ze.default)("Unplayed");return Vu()("span",{className:e},void 0,i)};var sMe=Object(Hu.b)((function(){return Object(Wu.a)($K(),(e={})=>({viewCount:e.viewCount}))}))(aMe);var rMe=function({className:e,originallyAvailableAt:t}){return Vu()("span",{className:e},void 0,Object(Rce.default)(t,"MMM d, yyyy"))};var oMe=Object(Hu.b)((function(e,t){return Object(Wu.a)($K(),(e={})=>{const{originallyAvailableAt:t}=e;return{originallyAvailableAt:t}})}))(rMe);var lMe=function({className:e,videoResolution:t}){return Vu()("span",{className:e},void 0,Object(QC.default)(t))};var cMe=Object(Hu.b)((function(){return Object(Wu.a)($K(),(e={})=>{const t=e.Media&&e.Media[0];return{videoResolution:t&&t.videoResolution}})}))(lMe);function dMe(e){var t=e["aria-label"],i=e.className,n=e.style,a={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-star-dot-560"};a["aria-hidden"]=!t,a.style=n,a.className=Ad.a.plexIcon+(i?" "+i:"");var s=[Nd.a.createElement.apply(Nd.a,["circle",{cx:"280",cy:"280",r:"40"}].concat([]))];return t&&s.unshift(Nd.a.createElement("title",null,t)),Nd.a.createElement.apply(Nd.a,["svg",a].concat(s))}dMe.propTypes={"aria-label":vc.a.string,className:vc.a.string,style:vc.a.object};var uMe=dMe;function pMe(e){var t=e["aria-label"],i=e.className,n=e.style,a={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-star-empty-560"};a["aria-hidden"]=!t,a.style=n,a.className=Ad.a.plexIcon+(i?" "+i:"");var s=[Nd.a.createElement.apply(Nd.a,["path",{d:"m342.864 199.975l203.432 0-164.58 119.575 62.864 193.475-164.58-119.575-164.58 119.575 62.864-193.475-164.58-119.575 203.432 0 62.864-193.475c20.955 64.492 41.909 128.983 62.864 193.475m-96.666 40l-109.387 0 88.496 64.296-33.802 104.032 88.495-64.296 88.495 64.296-33.802-104.032 88.496-64.296-109.387 0-33.802-104.033c-11.267 34.678-22.535 69.355-33.802 104.033"}].concat([]))];return t&&s.unshift(Nd.a.createElement("title",null,t)),Nd.a.createElement.apply(Nd.a,["svg",a].concat(s))}pMe.propTypes={"aria-label":vc.a.string,className:vc.a.string,style:vc.a.object};var hMe=pMe;function mMe(e){var t=e["aria-label"],i=e.className,n=e.style,a={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-star-full-560"};a["aria-hidden"]=!t,a.style=n,a.className=Ad.a.plexIcon+(i?" "+i:"");var s=[Nd.a.createElement.apply(Nd.a,["path",{d:"m280 6.5l62.864 193.475 203.432 0-164.58 119.575 62.864 193.475-164.58-119.575-164.58 119.575 62.864-193.475-164.58-119.575 203.432 0 62.864-193.475"}].concat([]))];return t&&s.unshift(Nd.a.createElement("title",null,t)),Nd.a.createElement.apply(Nd.a,["svg",a].concat(s))}mMe.propTypes={"aria-label":vc.a.string,className:vc.a.string,style:vc.a.object};var gMe=mMe;var vMe=nj()({},Tv,{starSpeed:"0.3s",starPulseScale:1.35,starPulseSpeed:"0.15s",starPulseTimingFunction:"cubic-bezier(0.075, 0.82, 0.165, 1)",posterFlipSpeed:"0.8s",overlaySpeed:"0.3s",chartOpacitySpeed:"0.3s"}),yMe=i("Fp13"),fMe=i.n(yMe);const bMe=Nd.a.createElement,{Component:IMe}=Nd.a,SMe=yv(vMe.starPulseSpeed);function CMe(e,t){return e>0?Math.min(Math.floor(e)+1,t):0}function MMe({className:e,iconComponent:t,isVisible:i,isPulsing:n}){const a=(e||"")+" "+(!i&&fMe.a.hidden||"")+" "+(n&&fMe.a.pulsing||"");return Vu()(t,{className:a})}function DMe(e){return bMe(MMe,tp()({iconComponent:hMe,className:fMe.a.emptyStar},e))}function PMe(e){return bMe(MMe,tp()({iconComponent:gMe,className:fMe.a.fullStar},e))}function OMe(){return Vu()(uMe,{className:fMe.a.dot})}class jMe extends IMe{constructor(e,t){super(e,t),this._pulseTimeoutID=void 0,this.onSliderChange=({positionValue:e})=>{const{starCount:t}=this.props,i=CMe(e,t);this.setState({currentValue:i})},this.onSliderMove=({positionValue:e})=>{const{starCount:t}=this.props,i=CMe(e,t);0!==i&&this.setState({currentValue:i})},this.onSlideComplete=({positionValue:e})=>{const{starCount:t}=this.props,i=CMe(e,t);this.state.currentRating!==i&&(this._setRating(i),this.props.onRatingChange(i))},this.onMouseLeave=({pageX:e})=>{this.setState({currentValue:this.state.currentRating})},this.state={currentValue:e.value,currentRating:e.value,isPulsing:!1}}componentWillReceiveProps({value:e}){e=Math.max(0,Math.min(e,this.props.starCount)),this.state.currentRating!==e&&this._setRating(e)}shouldComponentUpdate(e,t){return Tp(this,e,t)}componentDidUpdate(e,t){this.state.currentRating!==t.currentRating&&(window.clearTimeout(this._pulseTimeoutID),this._pulseTimeoutID=window.setTimeout(()=>{this.setState({isPulsing:!1})},SMe))}componentWillUnmount(){window.clearTimeout(this._pulseTimeoutID)}_setRating(e){this.setState({currentValue:e,currentRating:e,isPulsing:!0})}render(){const{starCount:e,className:t}=this.props,{currentValue:i,currentRating:n,isPulsing:a}=this.state,s=!this.state.currentValue,r=!this.props.onRatingChange,o=I.a.range(e);return Vu()("div",{className:(t||"")+" "+(fMe.a.starRating||"")+" "+(r&&fMe.a.isReadOnly||"")+" "+(s&&fMe.a.isUnrated||""),onMouseLeave:this.onMouseLeave},void 0,Vu()("div",{},void 0,o.map(e=>Vu()(OMe,{},e))),Vu()("div",{className:fMe.a.stars},void 0,o.map(e=>{const t=e>i-1;return Vu()(DMe,{isVisible:t},e)})),Vu()("div",{className:fMe.a.stars},void 0,o.map(e=>{const t=e<=i-1;return Vu()(PMe,{isVisible:t,isPulsing:a&&n>e},e)})),r?null:Vu()(nF,{className:fMe.a.slider,trackClassName:fMe.a.track,label:Object(Ze.default)("User Rating"),tabIndex:"-1",value:this.state.currentValue,min:0,max:e,stepSize:1,autoHideThumb:!0,onChange:this.onSliderChange,onMove:this.onSliderMove,onDragComplete:this.onSlideComplete}))}}jMe.defaultProps={starCount:5,value:0};var wMe=jMe;var TMe=function({className:e,value:t,onRatingChange:i}){return Vu()("span",{className:e},void 0,Vu()(wMe,{value:t,onRatingChange:i}))};const EMe=Nd.a.createElement;const NMe=Object(Hu.b)(Lae)(kK((function(e,t){return Object(Wu.a)(xae,$K(),Object(Wu.a)(use,(e,{providerEntityID:t})=>t,(e,t)=>!!e&&e.providers.length>1&&e.providers.includes(t)),(e,{hideUnrated:t})=>t,(e,t={},i,n)=>{const a=e&&e.features[Ot.b][Pt.e]&&!t.isFolder&&!i,s=(t.userRating||0)/2;return{showRating:!(!a||n&&0===s),value:s}})}),(function(e,t){return{onRatingChange(i){e(rae({metadataItemEntityID:t.metadataItemEntityID,providerEntityID:t.itemProviderEntityID,rating:0===i?-1:2*i,metricsPage:t.metricsPage}))}}}))((function(e){const{showRating:t}=e,i=Xe()(e,["showRating"]);return t?EMe(TMe,i):null})));NMe.propTypes={hideUnrated:vc.a.bool};var xMe=NMe;function AMe(e,t,i){if("mixed"===e)return[];switch(i){case fc:switch(e){case"season":return[QSe,nCe];case"episode":return[QSe,cCe];case"album":return[QSe,eCe];case"actor":return[lSe,cSe]}break;case"continueWatching":switch(e){case"movie":return[QSe,MCe,qce];case"clip":return[QSe,MCe];case"episode":return[Sce,MCe,vCe]}break;case"search":switch(t){case"news":switch(e){case"clip":return[SCe,wce,null]}}switch(e){case"artist":return[QSe,Nce];case"photo":return[kce,Vce];case"photoalbum":case"clip":return[QSe,Vce];case"playlist":return[QSe,OCe];case"collection":return[QSe,Ace];case"actor":case"genre":case"director":case"autotag":case"tag":case"place":return[RCe]}break;case"playQueue":case bc:case"playlist":case"liveTVTimeline":switch(t){case"news":switch(e){case"clip":return[kce,vSe]}break;case"podcast":switch(e){case"track":return[Sce,vCe]}break;case"musicVideo":switch(e){case"clip":return[QSe,Kce]}}switch(e){case"episode":return[Sce,vCe];case"clip":return[QSe,Vce];case"track":return[QSe,Kce]}break;case"newscast":return[SCe,TCe,wce,null];case"watchTogetherLobby":switch(e){case"participant":return[QSe]}}switch(t){case"news":switch(e){case"clip":return[SCe,wce,null]}break;case"podcast":switch(e){case"show":return[SCe,null];case"track":return[SCe,Sce,null]}break;case"webshow":switch(e){case"show":return[QSe];case"episode":return[SCe,ySe,null]}}switch(e){case"channels":return[kce,BSe];case"movie":return[QSe,qce];case"show":return[QSe,Wce];case"season":return[Mce,QSe];case"episode":return[Sce,QSe,jCe];case"artist":return[QSe];case"album":return[Mce,ZSe];case"track":return[Sce,QSe];case"photo":return[kce];case"photoalbum":case"clip":return[QSe];case"extra":return[kce,bCe];case"musicVideo":return[Sce,kce];case"playlist":return[QSe,OCe];case"collection":return[QSe,Ace];case"directory":case"genre":case"content":case"channel":return[];case"game":return[QSe,qce]}return[kce]}function LMe(e){return e.map(e=>{switch(e){case"attributionLogo":return mSe;case"episodeIdentifier":case"index":return jCe;case"grandparentTitle":return Sce;case"parentTitle":return Mce;case"title":return QSe;default:return()=>null}})}function kMe(e,t,i={}){const{subtype:n,activeSort:a,isSearch:s,isSearchAll:r,isExternal:o,providerEntityID:l,displayFields:c}=i;if(c)return LMe(c);const d=AMe(e,n,t);if(s?(d.push(Fde),r&&d.push(ACe)):o&&d.push(uSe),jt.k(l,jt.c)&&("movie"===e||"episode"===e||"mixed"===e))switch(t){case"playQueue":case bc:d.push(iCe);break;case"liveTVTimeline":break;default:d.push(BSe)}if(a){const e=function(e){const[t]=e.split(":");switch(t){case"addedAt":return vSe;case"duration":return tMe;case"lastViewedAt":return nMe;case"originallyAvailableAt":return oMe;case"rating":case"audienceRating":return eMe;case"userRating":return xMe;case"viewCount":return sMe;case"mediaBitrate":return VCe;case"contentRating":return HCe;case"mediaHeight":return cMe;case"year":return qce}}(a);e&&!d.includes(e)&&d.push(e)}return d}var RMe=i("ylzf"),zMe=i.n(RMe);function UMe(e){const{className:t,posterPlayButtonClassName:i,serverEntityID:n,providerEntityID:a,metadataItemEntityID:s,type:r,title:o,context:l,imageWidth:c,imageHeight:d,imageUrl:u,beginsAt:p,endsAt:h,channelTitle:m,channelShortTitle:g,timeFormat:v,onPlayPress:y}=e,f=kMe(r,l,{providerEntityID:a});return Vu()("div",{className:t},void 0,Vu()("div",{className:zMe.a.channelInfoContainer},void 0,Vu()("div",{"data-qa-id":"alsoAiringItem-channel-name",className:zMe.a.channelTitle},void 0,g||m)),Vu()("div",{className:zMe.a.cardContainer},void 0,Vu()(gde,{playButtonClassName:i,playCircleClassName:zMe.a.posterPlayCircle,serverEntityID:n,providerEntityID:a,imageWidth:c,imageHeight:d,imageUrl:u,title:o,onPlayPress:y})),Vu()("div",{className:zMe.a.titlesContainer},void 0,Vu()("div",{className:zMe.a.titles},void 0,f.map((e,t)=>Vu()(oSe,{serverEntityID:n,providerEntityID:a,metadataItemEntityID:s,component:e,isSecondary:t>0},t)))),Vu()("div",{className:zMe.a.airTimeContainer},void 0,p&&h?nSe(p,h,{timeFormat:v,separator:"  "}):null))}UMe.defaultProps={className:zMe.a.container};var VMe=UMe;var BMe=Object(Hu.b)((function(){return Object(Wu.a)(tSe,$K(),eSe(),(e,t,i)=>{const n="liveTVTimeline",a=Eae(kC(t.type,t.subtype,n)===16/9?64:36,null,t.type,t.subtype,t,n);return{type:t.type,title:t.title,context:n,imageWidth:a.width,imageHeight:a.height,imageUrl:a.url,beginsAt:i&&i.beginsAt,endsAt:i&&i.endsAt,channelTitle:i&&i.channelTitle,channelShortTitle:i&&i.channelShortTitle,timeFormat:e}})}))(VMe),FMe=i("ljKs"),HMe=i.n(FMe);var _Me=function(e){const{serverEntityID:t,providerEntityID:i,metadataItemEntityID:n,playerType:a,onPlayPress:s}=e;return Vu()("div",{"data-qa-id":"alsoAiringItem",className:HMe.a.container},void 0,Vu()(zp,{className:HMe.a.underlay,onPress:s}),Vu()(BMe,{className:HMe.a.metadataContainer,posterPlayButtonClassName:HMe.a.metadataPosterPlayButton,serverEntityID:t,providerEntityID:i,metadataItemEntityID:n,playerType:a,onPlayPress:s}))};const WMe=Nd.a.createElement,{useCallback:QMe}=Nd.a,GMe={dispatchStartLiveTVPlayback:cve};var KMe=Object(Hu.b)(null,GMe)((function(e){const{dispatchStartLiveTVPlayback:t}=e,i=Xe()(e,["dispatchStartLiveTVPlayback"]),{serverEntityID:n,providerEntityID:a,metadataItemEntityID:s}=e,r=QMe(()=>{t({serverEntityID:n,providerEntityID:a,metadataItemEntityID:s,metricsPage:zd.W})},[t,n,a,s]);return WMe(_Me,tp()({},i,{onPlayPress:r}))})),YMe=i("+Lxe"),qMe=i.n(YMe);var ZMe=function(e){const{serverEntityID:t,providerEntityID:i,itemEntityIDs:n,playerType:a}=e;return Vu()("div",{className:qMe.a.container},void 0,Vu()(FIe,{},void 0,Vu()(UIe,{title:Object(Ze.default)("Airing Now")})),Vu()(ih,{className:qMe.a.content,autoScroll:!0},void 0,n.map(e=>Vu()(KMe,{serverEntityID:t,providerEntityID:i,metadataItemEntityID:e,playerType:a},e))))};const JMe=Nd.a.createElement,{useEffect:XMe}=Nd.a;const $Me={dispatchInitMetadataList:yIe,dispatchPopulateChannelPrograms:DIe,dispatchRepopulateChannelPrograms:PIe,dispatchResetStartTime:bIe,dispatchSetViewportSize:CIe};var eDe=Object(Hu.b)((function(){return Object(Wu.a)(e=>e.ui.channelGridPage.viewportWidth,kIe(),LIe(),(e,t,i)=>{const n=Math.floor(Date.now()/1e3);return{containerKey:i,itemEntityIDs:t.filter(e=>e.Media[0].beginsAt<=n&&e.Media[0].endsAt>n).map(e=>e.entityID),shouldSetViewportSize:0===e}})}),$Me)((function(e){const{shouldSetViewportSize:t,dispatchInitMetadataList:i,dispatchPopulateChannelPrograms:n,dispatchResetStartTime:a,dispatchSetViewportSize:s}=e,r=Xe()(e,["shouldSetViewportSize","dispatchInitMetadataList","dispatchPopulateChannelPrograms","dispatchRepopulateChannelPrograms","dispatchResetStartTime","dispatchSetViewportSize"]),{containerKey:o,serverEntityID:l,providerEntityID:c}=e;return XMe(()=>{o&&(t&&s(),a(),i({containerKey:o,serverEntityID:l,providerEntityID:c}),n())},[o,l,c,t,i,n,a,s]),JMe(ZMe,r)}));const tDe=Nd.a.createElement;var iDe=Object(Hu.b)((function(){return Object(Wu.a)(e=>e.ui.channelGridPage,Q7(),(e,t)=>({serverEntityID:t.serverEntityID,providerEntityID:t.providerEntityID,metadataListEntityID:e.metadataList}))}))((function(e){return tDe(eDe,e)}));const nDe="ui/player/playerControls/togglePlayerOpenState",aDe=(Object(Pi.a)(nDe),Object(Pi.a)(nDe,e=>Object.assign({},e,{openState:b7.a}))),sDe=Object(Pi.a)(nDe,e=>Object.assign({},e,{openState:b7.b})),rDe={[nDe](e,{playerType:t,openState:i}){const n=Object(S7.c)(e,t);Object(Ti.a)(()=>{n.set({previousOpenState:void 0,openState:i,isSettingsVisible:!1,isChaptersVisible:!1,isPlayQueueVisible:!1,isLyricsVisible:!1})})}};var oDe=function(){return Object(Wu.a)(iee,q7,Y7(),G7("isWatchTogether"),Object(Wu.a)(Ahe(),e=>null==e?void 0:e.type),Ww,(e,t,i,n,a,s)=>{const r=2===t&&I7({protocol:$9.a,providerIdentifier:i,userFeaturesByUUID:s,isWatchTogether:n,playQueueType:a}),o=e.some(({protocol:e,protocolCapabilities:t})=>I7({protocol:e,protocolCapabilities:t,providerIdentifier:i,userFeaturesByUUID:s,isWatchTogether:n,playQueueType:a}));return r||o})},lDe=i("rNFJ"),cDe=i.n(lDe);const dDe=Nd.a.createElement;function uDe(e){const{className:t,isPrimary:i}=e,n=Xe()(e,["className","isPrimary"]);return dDe(JK,tp()({},n,{className:(t||"")+" "+(i&&cDe.a.isPrimary||"")}))}uDe.defaultProps={className:cDe.a.playerButton};var pDe=uDe;function hDe(e){var t=e["aria-label"],i=e.className,n=e.style,a={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-player-collapse-560"};a["aria-hidden"]=!t,a.style=n,a.className=Ad.a.plexIcon+(i?" "+i:"");var s=[Nd.a.createElement.apply(Nd.a,["path",{d:"M280 448L28 196l56-56 196 196 196-196 56 56z"}].concat([]))];return t&&s.unshift(Nd.a.createElement("title",null,t)),Nd.a.createElement.apply(Nd.a,["svg",a].concat(s))}hDe.propTypes={"aria-label":vc.a.string,className:vc.a.string,style:vc.a.object};var mDe=hDe;function gDe(e){var t=e["aria-label"],i=e.className,n=e.style,a={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-player-fullscreen-560"};a["aria-hidden"]=!t,a.style=n,a.className=Ad.a.plexIcon+(i?" "+i:"");var s=[Nd.a.createElement.apply(Nd.a,["path",{d:"M532.011 28H346.44l76.891 76.892L310.2 218.023l31.788 31.788 113.131-113.132 76.892 76.892V28zM28 532.011h185.572L136.68 455.12l113.131-113.131-31.788-31.788-113.131 113.131L28 346.44v185.571z"}].concat([]))];return t&&s.unshift(Nd.a.createElement("title",null,t)),Nd.a.createElement.apply(Nd.a,["svg",a].concat(s))}gDe.propTypes={"aria-label":vc.a.string,className:vc.a.string,style:vc.a.object};var vDe=gDe;function yDe(e){var t=e["aria-label"],i=e.className,n=e.style,a={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-player-windowed-560"};a["aria-hidden"]=!t,a.style=n,a.className=Ad.a.plexIcon+(i?" "+i:"");var s=[Nd.a.createElement.apply(Nd.a,["path",{d:"M224 336H38.428l76.892 76.892L2.189 526.023l31.788 31.788L147.108 444.68 224 521.572V336zm112-112h185.572l-76.892-76.892L557.811 33.977 526.023 2.189 412.892 115.32 336 38.428V224z"}].concat([]))];return t&&s.unshift(Nd.a.createElement("title",null,t)),Nd.a.createElement.apply(Nd.a,["svg",a].concat(s))}yDe.propTypes={"aria-label":vc.a.string,className:vc.a.string,style:vc.a.object};var fDe=yDe,bDe=i("HDjD"),IDe=i.n(bDe);const{Component:SDe}=Nd.a;class CDe extends SDe{constructor(...e){super(...e),this.onRouteChange=()=>{this.props.onCollapsePress()}}componentDidMount(){Object(ne.c)("appModel").on("change:history",this.onRouteChange)}componentWillUnmount(){Object(ne.c)("appModel").off("change:history",this.onRouteChange)}render(){const{className:e,playerType:t,showRemotePlayer:i,hasFullscreen:n,isFullscreen:a,remotePlayerName:s,remotePlayerProduct:r,onCollapsePress:o,onCastMenuChange:l,onEnterFullscreenPress:c,onExitFullscreenPress:d}=this.props;return Vu()("div",{className:e},void 0,Vu()("div",{},void 0,Vu()(pDe,{className:IDe.a.topButton,"data-qa-id":"minimizePlayerButton",iconComponent:mDe,title:Object(Ze.default)("Minimize Player"),onPress:o}),s?Vu()("span",{className:IDe.a.remotePlayerName},void 0,Object(Ze.default)("Casting to {playerName}",{playerName:s})):null,s&&r?Vu()("span",{className:IDe.a.remotePlayerProduct},void 0,"(",r,")"):null),Vu()("div",{},void 0,i?Vu()(Tee,{className:IDe.a.castButton,playerType:t,onMenuChange:l}):null,n&&a?Vu()(pDe,{className:IDe.a.topButton,"data-qa-id":"windowedButton",iconComponent:fDe,title:Object(Ze.default)("Exit Fullscreen"),onPress:d}):null,n&&!a?Vu()(pDe,{className:IDe.a.topButton,"data-qa-id":"fullscreenButton",iconComponent:vDe,title:Object(Ze.default)("Enter Fullscreen"),onPress:c}):null))}}CDe.defaultProps={className:IDe.a.topControls};var MDe=CDe;const DDe=Object(Wu.a)(X9,e=>e?e.product:null),PDe=Object(Wu.a)(Nve,DDe,oDe(),(e,t,i)=>({remotePlayerName:e,remotePlayerProduct:t,showRemotePlayer:i}));var ODe=Object(Hu.b)(PDe,(function(e,t){const i={playerType:t.playerType};return{onCollapsePress(t){e(sDe(i))}}}))(MDe),jDe=i("5m2Q"),wDe=i.n(jDe);const{Component:TDe}=Nd.a;class EDe extends TDe{constructor(e,t){super(e,t),this._playPauseTimeoutID=void 0,this.onPress=e=>{this._cancelPlayPause(),this.setState(({isPaused:e})=>({isPaused:!e})),this._playPauseTimeoutID=window.setTimeout(()=>{this._playPauseTimeoutID=null,this.props.isPaused!==this.state.isPaused&&this.props.onTogglePlayPress(e)},175)},this.onDoubleClick=e=>{this.props.onToggleFullscreen()},this.state={isPaused:e.isPaused},this._playPauseTimeoutID=null}componentWillReceiveProps(e){e.isPaused===this.state.isPaused||this._playPauseTimeoutID||this.setState({isPaused:e.isPaused})}componentWillUnmount(){this._cancelPlayPause()}_cancelPlayPause(){this._playPauseTimeoutID&&(window.clearTimeout(this._playPauseTimeoutID),this._playPauseTimeoutID=null)}render(){const{className:e,isCursorHidden:t,isTogglePlayPressDisabled:i}=this.props,{isPaused:n}=this.state;return i?Vu()("div",{className:(e||"")+" "+(t&&wDe.a.hiddenCursor||"")+" "+(wDe.a.overlay||""),onClick:this.onPress,onDoubleClick:this.onDoubleClick}):Vu()(ide,{className:(e||"")+" "+(t&&wDe.a.hiddenCursor||"")+" "+((n?wDe.a.playButton:wDe.a.pauseButton)||""),circleClassName:wDe.a.playCircle,"aria-label":n?Object(Ze.default)("Play"):Object(Ze.default)("Pause"),onPress:this.onPress,onDoubleClick:this.onDoubleClick})}}EDe.defaultProps={isCursorHidden:!1,isTogglePlayPressDisabled:!1};var NDe=EDe;var xDe=Object(Hu.b)((function(){return Object(Wu.a)(Q7(),K7(),(e,t)=>{const i=jt.k(t.identifier,jt.b);return{isPaused:e.isPaused,isTogglePlayPressDisabled:i}})}),(function(e,t){const i={playerType:t.playerType};return{onTogglePlayPress(t){e(Object(Boe.F)(i))}}}))(NDe),ADe=i("o2p+");var LDe=Object(Wu.a)(fk,e=>e.audioDevices||[]);var kDe=Object(Wu.a)(LDe,e=>e.filter(e=>e.present));var RDe=Object(Wu.a)(LDe,fk,(e,t)=>e.find(e=>e.name===t["player.audioDevice"]));function zDe(e){const{name:t,description:i}=(null==e.toJSON?void 0:e.toJSON())||e;return"auto"===t?Object(Ze.default)("Auto select device"):i}const UDe=Nd.a.createElement,{Component:VDe}=Nd.a;var BDe=class extends VDe{constructor(e,t){super(e,t),this._menuInputButtonID=void 0,this.onToggleMenuPress=e=>{this.setState({isMenuOpen:!this.state.isMenuOpen})},this.onMenuClose=e=>{this.setState({isMenuOpen:!1})},this.onSelectPress=e=>t=>{this.props.onChange(e),this.onMenuClose()},this.state={isMenuOpen:!1},this._menuInputButtonID=Mp()}getSelectedValue(e,t){const i=I.a.find(e,e=>{if(I.a.isString(e))return e===t;const[i]=I.a.keys(e);return i===t});if(I.a.isString(i))return i;const[n]=I.a.keys(i);return null==i?void 0:i[n]}render(){const e=this.props,{size:t,kind:i,value:n,values:a,overrideSelectedValue:s}=e,r=Xe()(e,["name","size","kind","value","values","overrideSelectedValue"]),o=this.getSelectedValue(a,n);return null==o?null:Vu()(Dy,{id:this._menuInputButtonID,size:t,kind:i,direction:this.state.isMenuOpen?hy:my,onPress:this.onToggleMenuPress},void 0,s||o,UDe(Qv,tp()({isOpen:this.state.isMenuOpen,target:this._menuInputButtonID,onMenuClose:this.onMenuClose},r),a.map(e=>{if(I.a.isString(e))return Vu()(oy,{isSelected:e===n,onPress:this.onSelectPress(e)},e,e);const[t]=I.a.keys(e);return Vu()(oy,{isSelected:t===n,onPress:this.onSelectPress(t)},t,e[t])})))}},FDe=i("7GJu"),HDe=i.n(FDe);var _De=function(e){const{bottom:t,children:i,title:n=Object(Ze.default)("Playback Settings"),onDimensionsChange:a}=e;return Vu()(Qbe,{className:HDe.a.container,bottom:t,onDimensionsChange:a},void 0,Vu()("div",{className:HDe.a.title},void 0,n),Vu()("div",{className:HDe.a.menusContainer,"data-qa-id":"playbackSettingsContainer"},void 0,i))},WDe=i("ZAf3"),QDe=i.n(WDe);function GDe({className:e,label:t,children:i,isDisabled:n}){return Vu()("div",{className:(e||"")+" "+(n&&QDe.a.isDisabled||"")},void 0,Vu()("div",{className:QDe.a.label},void 0,t),Vu()("div",{className:QDe.a.cell},void 0,i))}GDe.defaultProps={className:QDe.a.row};var KDe=GDe,YDe=i("Jl0g"),qDe=i.n(YDe);const{Component:ZDe}=Nd.a;class JDe extends ZDe{constructor(e,t){super(e,t),this.onPlaybackSpeedChange=({positionValue:e})=>{this.setState({playbackSpeed:e},()=>{this.props.onPlaybackSpeedChange(e)})},this.state={playbackSpeed:e.playbackSpeed}}componentWillReceiveProps(e){e.playbackSpeed!==this.props.playbackSpeed&&this.setState({playbackSpeed:e.playbackSpeed})}render(){const{audioDevices:e,bottom:t,canSetPlaybackSpeed:i,playbackSpeed:n,playbackSpeedSetting:a,selectedAudioDevice:s,onAudioDeviceChange:r,onDimensionsChange:o}=this.props;return Vu()(_De,{bottom:t,onDimensionsChange:o},void 0,i?Vu()(KDe,{label:Object(Ze.default)("Playback Speed")},void 0,Vu()(nF,{className:qDe.a.slider,min:a.min,max:a.max,stepSize:a.step,value:this.state.playbackSpeed,onChange:this.onPlaybackSpeedChange}),cF(n)):null,(null==e?void 0:e.length)>1?Vu()(KDe,{label:Object(Ze.default)("Audio Device")},void 0,Vu()(BDe,{name:"audioDevice",size:Hh,value:s.name,values:e.map(e=>({[e.name]:zDe(e)})),onChange:r})):null)}}JDe.defaultProps={playbackSpeedSetting:{min:.5,max:2,step:.1}};var XDe=JDe;var $De=kK((function(){return Object(Wu.a)(G7("controllable"),ime(),Object(Wu.a)(K7(),e=>{if(!e)return;const t=I.a.findWhere(e.features,{type:Ot.p});if(!t)return;const i=I.a.findWhere(t.settings,{id:ADe.c});return i||void 0}),kDe,RDe,(e,t,i,n,a)=>({audioDevices:n,selectedAudioDevice:a,canSetPlaybackSpeed:!e||!!e.playbackSpeed,playbackSpeed:t,playbackSpeedSetting:i}))}),(function(e,t){const{playerType:i}=t;return{onAudioDeviceChange(t){e(yu({deviceName:t}))},onPlaybackSpeedChange(t){e(Boe.j({playerType:i,playbackSpeed:t}))}}}))(XDe),ePe=i("N7lw"),tPe=i.n(ePe);function iPe(e){return Vu()("div",{className:e.className},void 0,e.children)}iPe.defaultProps={className:tPe.a.bottomBar};var nPe=iPe,aPe=i("xyAC"),sPe=i.n(aPe);function rPe(e){return Vu()("div",{className:e.className},void 0,e.children)}rPe.defaultProps={className:sPe.a.controlsContainer};var oPe=rPe;const lPe=Nd.a.createElement,{Component:cPe}=Nd.a;var dPe=Object(Hu.b)((function(){return Object(Wu.a)((e,{isWatchTogether:t})=>t,Q7(),khe(),nme,(e,t,i,n)=>{const a=t.controllable,s=t.playQueue,r=s.currentIndex,o=i.subtype===LC.b;let l,c,d;return a?(c=!a.skipNext,l=!a.skipPrevious,d=!a.shuffle):(c=!t.repeatAll&&r>=t.playQueue.playQueueItems.length-1,l=!t.repeatAll&&r<=0&&t.positionSeconds<=Yge.a,d=!s.canShuffle),{metadataItemEntityID:i.metadataItem,providerEntityID:t.providerEntityID,serverEntityID:t.serverEntityID,volume:n,activateChaptersButton:t.isChaptersVisible,activateLyricsButton:t.isLyricsVisible,activateQueueButton:t.isPlayQueueVisible,activateRepeatButton:t.repeatAll,activateRepeatOneButton:t.repeatOne,activateSettingsButton:t.isSettingsVisible,activateWatchTogetherParticipantsButton:t.isWatchTogetherParticipantsVisible,activateShuffleButton:s.playQueueShuffled,disableNextButton:c,disablePauseButton:!!a&&!a.playPause,disablePlayButton:!!a&&!a.playPause,disablePreviousButton:l,disableRepeatButton:!!a&&!a.repeat,disableRepeatOneButton:!!a&&!a.repeat,disableShuffleButton:d,disableSkipBackButton:!!a&&!a.seekTo,disableSkipForwardButton:!!a&&!a.seekTo,showCloseButton:!0,showNextButton:!e,showPauseButton:!t.isPaused,showPlayButton:t.isPaused,showPreviousButton:!e,showRepeatButton:!o&&!t.repeatOne&&!e,showRepeatOneButton:t.repeatOne&&!e,showVolume:!a||a.volume}})}),(function(e,{playerType:t}){const i={playerType:t};return{onEditPress(t){e(tae(t))},onFavoritePress(t){e(gae(t))},onUnfavoritePress(t){e(vae(t))},onRepeatPress(){e(y7.K(i))},onRepeatOnePress(){e(y7.K(i))},onPreviousPress(){e(y7.z(i))},onNextPress(){e(y7.y(i))},onShufflePress(){e(y7.L(i))},onQueuePress(){e(y7.J(i))},onLyricsPress(){e(y7.I(i))},onSkipBackPress(){e(Boe.A(i))},onPlayPress(){e(Boe.t(i))},onPausePress(){e(Boe.s(i))},onSkipForwardPress(){e(Boe.B(i))},onSettingsPress(){e(Boe.H(i))},onWatchTogetherParticipantsPress(){e(Boe.J(i))},onChaptersPress(){e(Boe.G(i))},onVolumeChange(t){e(Boe.q(Object.assign({},i,{volume:t})))},onClosePress(){e(xT.p(i))}}}),(function(e,t,i){const{metadataItemEntityID:n,providerEntityID:a}=e;return Object.assign({},i,e,t,{onEditPress(){t.onPausePress(),t.onEditPress({metadataItemEntityID:n})},onFavoritePress(){t.onFavoritePress({metadataItemEntityID:n,providerEntityID:a})},onUnfavoritePress(){t.onUnfavoritePress({metadataItemEntityID:n,providerEntityID:a})}})}))(class extends cPe{constructor(e,t){super(e,t),this._lastVolume=void 0,this.onVolumeChange=e=>{const{volume:t}=this.state,i=Math.round(Math.min(100,Math.max(0,t+e)));t!==i&&this.setState({volume:i},()=>{this.props.onVolumeChange(this.state.volume)})},this.onVolumeIconPress=()=>{const e=this.state.volume>0;e&&(this._lastVolume=this.state.volume),this.setState({volume:e?0:this._lastVolume||100},()=>{this.props.onVolumeChange(this.state.volume)})},this.state={volume:e.volume}}componentWillReceiveProps({volume:e}){e!==this.state.volume&&this.setState({volume:e})}render(){const{component:e}=this.props;return lPe(e,tp()({},this.props,this.state,{onVolumeChange:this.onVolumeChange,onVolumeIconPress:this.onVolumeIconPress}))}}),uPe=i("0vaO"),pPe=i.n(uPe);function hPe(e){const{className:t,children:i}=e;return Vu()("div",{className:t},void 0,i)}hPe.defaultProps={className:pPe.a.container};var mPe=hPe,gPe=i("i0LR"),vPe=i.n(gPe);var yPe=function(e){const{className:t}=e;return Vu()(mPe,{className:t},void 0,Vu()("div",{className:vPe.a.message},void 0,Object(Ze.default)("Video will play after this advertisement")))},fPe=i("h3e2"),bPe=i.n(fPe);const{Component:IPe}=Nd.a;class SPe extends IPe{constructor(e,t){super(e,t),this.onTogglePress=()=>{this.setState(e=>({isToggled:!e.isToggled}))},this.state={isToggled:!1}}render(){const{className:e,durationSeconds:t,positionSeconds:i}=this.props,n=1e3*i,a=1e3*t,s=a-n;return Vu()(zp,{className:e,"data-qa-id":"mediaDuration",onPress:this.onTogglePress},void 0,this.state.isToggled?"-"+BC(s):BC(n)," / ",BC(a))}}SPe.defaultProps={className:bPe.a.container};var CPe=SPe,MPe=i("8Ipq"),DPe=i.n(MPe);function PPe(e){const{isTidal:t,isPreview:i,isLossless:n}=e,a=!t||!i&&!n;return Vu()("div",{className:(e.className||"")+" "+(a&&DPe.a.hidden||"")},void 0,Vu()("span",{className:DPe.a.info},void 0,i?Object(Ze.default)("TIDAL Preview"):"HI-FI"))}PPe.defaultProps={className:DPe.a.infoContainer};var OPe=PPe;var jPe=Object(Hu.b)((function(){return Object(Wu.a)(Rhe(),$K(),(e,t)=>{if(!t)return{isTidal:!1,isPreview:!1,isLossless:!1};const i=t.Media[e?e.mediaIndex:0],n=!!i&&"flac"===i.audioCodec;return{isTidal:"com.tidal"===t.attribution,isPreview:!!t.preview,isLossless:n}})}))(OPe),wPe=i("Nh+l"),TPe=i.n(wPe);function EPe(e){const{className:t,playerType:i,serverEntityID:n,providerEntityID:a,metadataItemEntityID:s,type:r,subtype:o,positionSeconds:l,context:c,showStarRating:d,hasUserRating:u,isUnknownAiring:p,showDuration:h,durationSeconds:m}=e;if(p)return Vu()("div",{className:t},void 0,Object(Ze.default)("Unknown Airing"));if(!s||!r)return null;const g=kMe(r,c,{subtype:o,providerEntityID:a});return Vu()("div",{className:(t||"")+" "+(d&&u&&TPe.a.hasUserRating||"")},void 0,g.map((e,t)=>Vu()(oSe,{playerType:i,serverEntityID:n,providerEntityID:a,metadataItemEntityID:s,positionSeconds:l,component:e,isSecondary:t>0},t)),h&&m&&null!=l?Vu()(CPe,{className:TPe.a.durationContainer,durationSeconds:m,positionSeconds:l,"data-qa-id":"mediaDuration"}):null,Vu()(jPe,{className:TPe.a.mediaInfoContainer,playerType:i,metadataItemEntityID:s}),d?Vu()(xMe,{className:TPe.a.ratingContainer,serverEntityID:n,providerEntityID:a,metadataItemEntityID:s}):null)}EPe.defaultProps={className:TPe.a.container};var NPe=EPe;const xPe=Object(Hu.b)((function(){return Object(Wu.a)(Q7(),$K(),(e,t={})=>({serverEntityID:t.serverEntityID||e.serverEntityID,providerEntityID:t.providerEntityID||e.providerEntityID,type:t.type,subtype:t.subtype,context:bc,hasUserRating:null!=t.userRating}))}))(NPe);xPe.propTypes=Object.assign({},xPe.propTypes,{metadataItemEntityID:vc.a.string,playerType:vc.a.string.isRequired});var APe=xPe;const LPe=Object(Hu.b)((function(){return Object(Wu.a)(_he(),e=>({metadataItemEntityID:e&&e.entityID,isUnknownAiring:!e}))}))(APe);LPe.propTypes=Object.assign({},LPe.propTypes,{playerType:vc.a.string.isRequired});var kPe=LPe,RPe=i("khlA");var zPe=xe.a.extend({name:"MediaSubscriptionHintModel",context:["server","provider"],syncedAttrs:{guid:Ae.a.string,grandparentGuid:Ae.a.string,title:Ae.a.string,type:Ae.a.string,subtype:Ae.a.string,grandparentTitle:Ae.a.string,index:Ae.a.integer,parentIndex:Ae.a.integer,year:Ae.a.string,grandparentYear:Ae.a.integer,originallyAvailableAt:Ae.a.string,thumb:Ae.a.string,parentThumb:Ae.a.string,grandparentThumb:Ae.a.string,ratingKey:Ae.a.string,source:Ae.a.string,parentTitle:Ae.a.string,parentYear:Ae.a.string}});var UPe=xe.a.extend({name:"MediaSubscriptionTargetModel",context:["server","provider"],syncedRelations:{metadata:{relationClass:ut.a,rootPropertyName:"Metadata",deferred:!0}}});var VPe=xe.a.extend({name:"MediaSubscriptionModel",context:["server","provider"],entityType:ht.f,entityID(e=this.state){return Object(pt.a)(this.entityType,e.key||this.cid,this.server.entityID())},idAttribute:"key",rootPropertyName:"MediaSubscription",urlRoot:"/media/subscriptions",mergeStrategy:Dt.a,syncedAttrs:{key:Ae.a.string,type:Ae.a.integer,provider:Ae.a.string,targetLibrarySectionID:{type:Ae.a.string,save:!0},targetSectionLocationID:{type:Ae.a.string,save:!0},title:Ae.a.string,selected:Ae.a.boolean,parameters:Ae.a.string,createdAt:Ae.a.integer,storageTotal:Ae.a.integer},syncedRelations:{hint:{relationClass:zPe,rootPropertyName:"Metadata",deferred:!0},target:{relationClass:UPe,rootPropertyName:"Target",deferred:!0},grabOperations:{relationClass:RPe.default,rootPropertyName:"MediaGrabOperation",deferred:!0},prefs:{relationClass:KT.a,rootPropertyName:"Setting",deferred:!0,save:!0},timeline:{relationClass:um.default,rootPropertyName:"Timeline",deferred:!0}},augmentResponseText:(e,t)=>t===ct.c?Object(dt.b)(e):e,augmentResponse(e){const t=e[this.rootPropertyName]||e,i=t.Timeline;return i&&(t.Timeline=i.Metadata),e},getSaveParams(){const e=xe.a.prototype.getSaveParams.apply(this,arguments),{Setting:t}=e,i=Xe()(e,["Setting"]);return Object.assign({prefs:t},i)}});var BPe=ke.a.extend({name:"MediaSubscriptionTemplateCollection",context:["server","provider"],url:"/media/subscriptions/template",model:VPe,augmentResponseText:(e,t)=>t===ct.c?Object(dt.b)(e):e,augmentResponse:e=>e.SubscriptionTemplate});function FPe(e,t){const i=e.server,n=I.a.result(e,"url"),a=i.getXHROptions(V.join([n,"move"],{after:t}),{type:"PUT"});return D.a.ajax(a).promise()}function HPe(e,t){let i;return i=401===e.status?Object(Ze.default)("You do not have permission to perform this action."):nT(e,t),i}const _Pe=Object(Pi.a)("ui/modal/initMediaSubscriptionModal"),WPe=Object(Pi.a)("ui/modal/clearMediaSubscriptionModal"),QPe=Object(Pi.a)("ui/modal/fetchMediaSubscription"),GPe=Object(Pi.a)("ui/modal/saveMediaSubscription"),KPe=Object(Pi.a)("ui/modal/changeMediaSubscriptionTemplateMode"),YPe=(Object(Pi.a)("ui/modal/clearMediaSubscriptionModalError"),Object(Pi.a)("ui/modal/moveMediaSubscriptionModal")),qPe=Object(Pi.a)("ui/modal/deleteMediaSubscriptionModal");function ZPe(e){return e.get("ui").get("mediaSubscriptionModal")}const JPe=Sk({"ui/modal/initMediaSubscriptionModal"(e,t,i){const n=ZPe(e);n.set("isMediaSubscriptionPending",!0);const a={};if(t.showConflicts&&(a.options={data:{includeGrabs:1}}),t.mediaSubscriptionEntityID)return n.set({mediaSubscription:Object(wi.e)(e,t)}),void i(QPe(a));const s=Object(wi.m)(e,t),r=Object(wi.f)(e,t),o=r.get("grandparentSubscriptionID")||r.get("subscriptionID");if(o)return n.set({mediaSubscription:new VPe({key:o},{server:s})}),void i(QPe(a));const l=V.join("/media/subscriptions/template",{guid:r.get("guid")}),c=s.getXHROptions(l);D.a.ajax(c).then(e=>{const t=new BPe(e,{parse:!0,server:s}),i=t.findWhere({selected:!0});n.set({isMediaSubscriptionPending:!1,isMediaSubscriptionPopulated:!0,mediaSubscriptionError:null,templates:t,mediaSubscription:i})},e=>{const t=HPe(e,Object(Ze.default)("There was an unexpected error"));n.set({isMediaSubscriptionPending:!1,mediaSubscriptionError:t})})},"ui/modal/clearMediaSubscriptionModal"(e){ZPe(e).restoreDefaults()},"ui/modal/fetchMediaSubscription":Object(Oi.a)({key:"mediaSubscription",getModel:ZPe}),"ui/modal/saveMediaSubscription"(e,t){const i=ZPe(e),n=Object(wi.m)(e,t),a=i.get("mediaSubscription"),{targetLibrarySectionID:s,targetSectionLocationID:r=null,prefs:o}=t;Object(Ti.a)(()=>{i.set({isMediaSubscriptionSaving:!0,mediaSubscriptionSaveError:null})});const l=a.get("key"),c=a.getSaveParams(),d=D.a.extend(!0,{},c,{includeGrabs:1,targetLibrarySectionID:s,targetSectionLocationID:r,prefs:o});let u=V.join(I.a.result(a,"url"),d);if(!l){const e=Object(Qt.u)(a.get("hint").get("type"));u=u+"&"+a.get("parameters")+"&type="+e.id}const p=n.getXHROptions(u,{type:l?"PUT":"POST"});D.a.ajax(p).then(n=>{if(a.set(a.parse(n)),i.set({isMediaSubscriptionSaving:!1}),t.metadataItemEntityID){const i=Object(wi.f)(e,t);if(i){const e=a.get("hint").get("type"),t=Object(Qt.y)(e),n=t?"grandparentSubscriptionID":"subscriptionID",s=t?"grandparentSubscriptionType":"subscriptionType";i.set({[n]:a.id,[s]:e})}}},e=>{const t=HPe(e,Object(Ze.default)("There was a problem saving your changes. Please try again."));i.set({isMediaSubscriptionSaving:!1,mediaSubscriptionSaveError:t})})},"ui/modal/changeMediaSubscriptionTemplateMode"(e,t){const i=ZPe(e),n=i.get("templates"),{modeIndex:a}=t;i.set("mediaSubscription",n.at(a))},"ui/modal/clearMediaSubscriptionModalError"(e,t){ZPe(e).set({mediaSubscriptionSaveError:null,mediaSubscriptionError:null,mediaSubscriptionMoveError:null,mediaSubscriptionDeleteError:null})},"ui/modal/moveMediaSubscriptionModal"(e,t){const i=ZPe(e),n=i.get("mediaSubscription");Object(Ti.a)(()=>{i.set({isMediaSubscriptionMoving:!0,mediaSubscriptionMoveError:null})});FPe(n).then(()=>{i.set({isMediaSubscriptionMoving:!1})},e=>{const t=HPe(e,Object(Ze.default)("There was a problem saving your changes. Please try again."));i.set({isMediaSubscriptionMoving:!1,mediaSubscriptionMoveError:t})})},"ui/modal/deleteMediaSubscriptionModal"(e,t,i){const n=ZPe(e),a=n.get("mediaSubscription"),{metadataItemEntityID:s}=t;Object(Ti.a)(()=>{n.set({isMediaSubscriptionDeleting:!0,mediaSubscriptionDeleteError:null})}),function(e,{appModel:t,metadataItemEntityID:i}={}){const n=e.get("key");let a=e.destroy({wait:!0});return i&&(a=a.then(()=>{if(i){const e=Object(wi.f)(t,{metadataItemEntityID:i});e.get("subscriptionID")===n?(e.unset("subscriptionID"),e.unset("subscriptionType")):e.get("grandparentSubscriptionID")===n&&(e.unset("grandparentSubscriptionID"),e.unset("grandparentSubscriptionType"))}})),a}(a,{appModel:e,metadataItemEntityID:s}).then(()=>{n.set({isMediaSubscriptionDeleting:!1})},e=>{const t=HPe(e,Object(Ze.default)("There was a problem with canceling this subscription. Please try again."));n.set({isMediaSubscriptionDeleting:!1,mediaSubscriptionDeleteError:t})})}});var XPe=Object(Wu.a)(e=>e.ui.mediaSubscriptionModal.mediaSubscription,v9,(e,t)=>t[e]);var $Pe=Object(Wu.a)(e=>e.ui.mediaSubscriptionModal.templates,v9,(e=[],t)=>e.map(e=>t[e]));const eOe=Nd.a.createElement;var tOe=Vu()(Jh,{});var iOe=function(e){return eOe(eW,e,tOe)};var nOe=function(e,t){let i,n;return t.length>1?(n=t.findIndex(e=>e.selected),i=t.map(({title:e},t)=>({[t]:e}))):(n=0,i=e.title?[{0:e.title}]:null),{initialMode:n,modes:i}};var aOe=function({className:e,grandparentTitle:t}){return Vu()(Lce,{className:e,title:t})};var sOe=Object(Hu.b)((function(){return Object(Wu.a)($K(),(e={})=>({grandparentTitle:e.grandparentTitle}))}))(aOe),rOe=i("puJ8"),oOe=i.n(rOe);const lOe=Nd.a.createElement;var cOe=function(e){const{component:t,isSecondary:i}=e,n=Xe()(e,["component","isSecondary"]);return lOe(t,tp()({className:i?oOe.a.secondaryTitle:oOe.a.title},n))},dOe=i("ReZX"),uOe=i.n(dOe);const pOe=Nd.a.createElement;var hOe=function(e){let{type:t}=e,i=Xe()(e,["className","type"]);const n=function(e){switch(e){case"movie":case"show":return[kce];case"episode":return[sOe,vCe];case"playlist":default:return[kce]}}(t);return Vu()("div",{className:uOe.a.container},void 0,n.map((e,t)=>pOe(cOe,tp()({key:t,component:e,isSecondary:t>0},i))))};const mOe=Nd.a.createElement;var gOe=Object(Hu.b)((function(){return Object(Wu.a)($K(),(e={})=>({type:e.type}))}))((function(e){return mOe(hOe,e)}));function vOe(e){var t=e["aria-label"],i=e.className,n=e.style,a={viewBox:"0 0 1040 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-dvr-series-560"};a["aria-hidden"]=!t,a.style=n,a.className=Ad.a.plexIcon+(i?" "+i:"");var s=[Nd.a.createElement.apply(Nd.a,["path",{d:"m692.44 113.13c20.864-8.465 43.67-13.13 67.56-13.13 99.35 0 180 80.66 180 180 0 99.35-80.65 180-180 180-23.887 0-46.693-4.663-67.56-13.13 8.427-8.706 16.197-18.05 23.22-27.921 7.981-11.218 14.995-23.12 20.937-35.54 5.493-11.483 10.07-23.405 13.662-35.616 3.45-11.718 5.996-23.7 7.615-35.808 3.366-25.18 2.733-50.894-1.896-75.872-2.033-10.968-4.835-21.794-8.381-32.37-3.723-11.11-8.266-21.937-13.577-32.378-6.233-12.253-13.523-23.967-21.757-34.975-6.107-8.164-12.733-15.939-19.823-23.264m-412.44-13.13c99.35 0 180 80.66 180 180 0 99.35-80.65 180-180 180-99.34 0-180-80.65-180-180 0-99.34 80.66-180 180-180m172.44 13.13c20.864-8.465 43.67-13.13 67.56-13.13 99.35 0 180 80.66 180 180 0 99.35-80.65 180-180 180-23.887 0-46.693-4.663-67.56-13.13 8.26-8.534 15.889-17.677 22.802-27.334 8.154-11.39 15.31-23.492 21.355-36.13 5.494-11.482 10.07-23.403 13.662-35.614 3.45-11.718 5.997-23.701 7.615-35.809 3.366-25.18 2.732-50.893-1.896-75.871-2.033-10.968-4.835-21.793-8.38-32.369-3.724-11.11-8.267-21.937-13.578-32.379-6.233-12.253-13.523-23.967-21.757-34.975-6.107-8.164-12.733-15.939-19.823-23.264"}].concat([]))];return t&&s.unshift(Nd.a.createElement("title",null,t)),Nd.a.createElement.apply(Nd.a,["svg",a].concat(s))}vOe.propTypes={"aria-label":vc.a.string,className:vc.a.string,style:vc.a.object};var yOe=vOe;function fOe(e){var t=e["aria-label"],i=e.className,n=e.style,a={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-dvr-single-560"};a["aria-hidden"]=!t,a.style=n,a.className=Ad.a.plexIcon+(i?" "+i:"");var s=[Nd.a.createElement.apply(Nd.a,["path",{d:"m280 100c99.35 0 180 80.66 180 180 0 99.35-80.65 180-180 180-99.34 0-180-80.65-180-180 0-99.34 80.66-180 180-180"}].concat([]))];return t&&s.unshift(Nd.a.createElement("title",null,t)),Nd.a.createElement.apply(Nd.a,["svg",a].concat(s))}fOe.propTypes={"aria-label":vc.a.string,className:vc.a.string,style:vc.a.object};var bOe=fOe;var IOe=function({className:e,type:t}){return Object(Qt.x)(t)?Vu()(yOe,{className:e}):Vu()(bOe,{className:e})},SOe=i("Nwpn"),COe=i.n(SOe);const MOe=Nd.a.createElement;var DOe=function(e){const{component:t,isSecondary:i}=e,n=Xe()(e,["component","isSecondary"]);return MOe(t,tp()({className:i?COe.a.secondaryTitle:COe.a.title},n))},POe=i("auJy"),OOe=i.n(POe);const jOe=Nd.a.createElement;function wOe(e){const{serverEntityID:t,providerEntityID:i,hint:n,target:a,useStaticHeight:s,children:r,showSubscriptionBadge:o,isDownload:l}=e,{type:c,subtype:d}=n,{thumb:u,grandparentThumb:p}=a||n,h=c===Qt.m,m=l&&h?a&&a.composite:p||u,g=l||c!==Qt.m?c:Qt.o;return Vu()("div",{className:OOe.a.container},void 0,Vu()("div",{className:OOe.a.left},void 0,Vu()(noe,{serverEntityID:t,providerEntityID:i,component:AC,type:g,width:130,height:zC(130,g,d),url:m},void 0,o?Vu()("div",{className:OOe.a.subscriptionBadge},void 0,Vu()(IOe,{type:c})):null)),Vu()("div",{className:OOe.a.right},void 0,Vu()("div",{className:s?OOe.a.staticHeightTitleContainer:OOe.a.titleContainer},void 0,function(e){switch(e){case Qt.j:case Qt.o:return[Lce];case Qt.f:return[aOe,gCe];case Qt.m:default:return[Lce]}}(c).map((e,t)=>jOe(DOe,tp()({key:t,component:e,isSecondary:t>0},n)))),r))}vc.a.shape({title:vc.a.string,grandparentTitle:vc.a.string,thumb:vc.a.string,grandparentThumb:vc.a.string});wOe.defaultProps={useStaticHeight:!1};var TOe=wOe,EOe=i("0nIg"),NOe=i.n(EOe);const{Component:xOe}=Nd.a;class AOe extends xOe{componentDidUpdate(e,t){(e.isMediaSubscriptionMoving&&!this.props.isMediaSubscriptionMoving&&null==this.props.mediaSubscriptionMoveError||e.isMediaSubscriptionDeleting&&!this.props.isMediaSubscriptionDeleting&&null==this.props.mediaSubscriptionDeleteError)&&this.props.onModalClose()}render(){const{isRecordingSchedule:e,isMediaSubscriptionDeleting:t,mediaSubscriptionDeleteError:i,isMediaSubscriptionMoving:n,mediaSubscriptionMoveError:a,serverEntityID:s,providerEntityID:r,server:o,provider:l,sourceDirectory:c,hint:d,conflicts:u,onDelete:p,onMediaMove:h,onModalClose:m}=this.props,g=a||i;return Vu()(YL,{onModalClose:m},void 0,Vu()(zL,{},void 0,Object(Ze.default)("Conflict Detected")),g?Vu()(vV,{errorMessage:g}):null,Vu()(wL,{autoScroll:!0},void 0,Vu()(TOe,{serverEntityID:s,providerEntityID:r,hint:d},void 0,Vu()("div",{className:NOe.a.message},void 0,1===u.length?Object(Ze.default)("Conflicts with 1 recording"):Object(Ze.default)("Conflicts with {conflictCount} recordings",{conflictCount:u.length})),Vu()("div",{className:NOe.a.conflicts},void 0,u.map(({metadataItem:e},t)=>Vu()(gOe,{metadataItemEntityID:e},t))))),Vu()(AL,{},void 0,Vu()(sV,{},void 0,Vu()(hV,{isSpinning:t,kind:Op,onPress:p},void 0,Object(Ze.default)("Cancel This")),Vu()(hV,{isSpinning:n,kind:Pp,onPress:h},void 0,Object(Ze.default)("Prefer This")),e?Vu()(hw,{kind:Pp,onPress:m},void 0,Object(Ze.default)("Close")):Vu()(hw,{kind:Pp,to:si($t,o,l,c)},void 0,Object(Ze.default)("Manage")))))}}AOe.defaultProps={conflicts:[]};var LOe=AOe,kOe=i("2VzV"),ROe=i.n(kOe);var zOe=function(){return Vu()("div",{className:ROe.a.cancelConfirmationMessage},void 0,Vu()("div",{},void 0,Object(Ze.default)("Are you sure you want to cancel this recording?")),Vu()("div",{},void 0,Object(Ze.default)("This will cancel any future scheduled recordings and stop any recordings already in progress.")))};function UOe(e){let{className:t,children:i}=e,n=Xe()(e,["className","children"]);return Vu()("div",{className:t,style:n},void 0,i)}UOe.defaultProps={flexGrow:1,flexShrink:0};var VOe=UOe,BOe=i("lqtG"),FOe=i.n(BOe);function HOe(e){let{className:t,children:i}=e,n=Xe()(e,["className","children"]);return Vu()("div",{className:(FOe.a.grid||"")+" "+(t||""),style:n},void 0,i)}HOe.defaultProps={flexDirection:"row",justifyContent:"space-between",alignItems:"center",alignContent:"center"};var _Oe=HOe;const WOe=Nd.a.createElement;var QOe=IB((function(e){const{name:t,labelText:i}=e,n=Xe()(e,["name","initialValue","labelText","showErrors","errors","validations"]);return Vu()("div",{},void 0,Vu()(GM,{name:t},void 0,i),WOe(LR,tp()({name:t,size:Fh},n)))}));var GOe=function(e){const{libraries:t,targetLibrarySectionID:i,targetSectionLocationID:n,selectedLibrarySectionID:a}=e,s=function(e,t){return null!=e&&t.some(t=>t.librarySectionID===e)}(i,t)?i:function([e]){if(e)return e.librarySectionID}(t),r=function(e,t,i){let n=e.find(({librarySectionID:e})=>e===t);return n||(n=e.find(({librarySectionID:e})=>e===i)),n?n.locations.map(({id:e,path:t})=>({[e]:t})):[]}(t,a,s),o=function(e,t){return null!=e&&t.some(t=>t.hasOwnProperty(e))}(n,r)?n:function([e]){if(!e)return;const[t]=Object.keys(e);return e[t]}(r);return Vu()(_Oe,{flexWrap:"wrap"},void 0,Vu()(VOe,{flexBasis:230,maxWidth:230},void 0,Vu()(QOe,{labelText:Object(Ze.default)("Add to Library"),name:"targetLibrarySectionID",initialValue:s,size:Fh,values:t.map(({title:e,librarySectionID:t},i)=>({[t]:e}))})),Vu()(VOe,{flexBasis:230,maxWidth:230},void 0,r.length>1?Vu()(QOe,{labelText:Object(Ze.default)("Location"),name:"targetSectionLocationID",size:Fh,initialValue:o,values:r}):null))};var KOe=function(e){const{serverEntityID:t,providerEntityID:i,hint:n,target:a,initialMode:s,isDownload:r,modes:o,libraries:l,targetLibrarySectionID:c,targetSectionLocationID:d,selectedLibrarySectionID:u,prefs:p}=e,h=p&&p.onlyNewAirings,m=n.type===Qt.f||n.type===Qt.o||n.type===Qt.m;return Vu()(TOe,{serverEntityID:t,providerEntityID:i,hint:n,isDownload:r,showSubscriptionBadge:!r,target:a,useStaticHeight:m},void 0,Vu()(_Oe,{flexWrap:"wrap"},void 0,Vu()(VOe,{flexBasis:230,maxWidth:230},void 0,o?Vu()(QOe,{labelText:r?Object(Ze.default)("Download"):Object(Ze.default)("Record"),name:"mode",initialValue:s,values:o,isDisabled:o.length<2}):null),Vu()(VOe,{flexBasis:230,maxWidth:230},void 0,h?Vu()(QOe,{name:h.id,labelText:h.label,initialValue:h.value,values:h.enumValues.map(({label:e,value:t})=>({[t]:e}))}):null)),!r&&l&&l.length?Vu()(GOe,{libraries:l,targetLibrarySectionID:c,targetSectionLocationID:d,selectedLibrarySectionID:u}):null)},YOe=i("uprk"),qOe=i.n(YOe);const ZOe=Nd.a.createElement,{Component:JOe}=Nd.a;var XOe=Vu()(zOe,{});var $Oe=class extends JOe{constructor(e,t){super(e,t),this.onAdvancedPress=()=>{this.setState({isAdvanced:!this.state.isAdvanced})},this.onCancelPress=()=>{this.setState({showCancelConfirmation:!0})},this.onBackPress=()=>{this.setState({showCancelConfirmation:!1})},this.onFormChange=e=>{if(this.props.showLibraries){if(!e.targetLibrarySectionID)return;e.targetLibrarySectionID.value!==this.state.selectedLibrarySectionID&&this.setState({selectedLibrarySectionID:e.targetLibrarySectionID.value})}if(e.mode&&e.mode.value!==this.state.selectedMode){const t=e.mode.value;this.setState({selectedMode:t}),this.props.onModeChange(t)}},this.state={selectedLibrarySectionID:e.targetLibrarySectionID,selectedMode:e.initialMode,isAdvanced:!1,showCancelConfirmation:!1}}componentDidUpdate(e,t){(e.isMediaSubscriptionSaving&&!this.props.isMediaSubscriptionSaving&&null==this.props.mediaSubscriptionSaveError||e.isMediaSubscriptionDeleting&&!this.props.isMediaSubscriptionDeleting&&null==this.props.mediaSubscriptionDeleteError)&&this.props.onModalClose()}render(){const e=this.props,{mediaSubscriptionKey:t,isMediaSubscriptionSaving:i,mediaSubscriptionSaveError:n,isMediaSubscriptionDeleting:a,mediaSubscriptionDeleteError:s,prefGroups:r,onModalClose:o,onSubmit:l,onDelete:c}=e,d=Xe()(e,["mediaSubscriptionKey","isMediaSubscriptionSaving","mediaSubscriptionSaveError","isMediaSubscriptionDeleting","mediaSubscriptionDeleteError","prefGroups","onModalClose","onSubmit","onDelete"]),{isAdvanced:u,showCancelConfirmation:p}=this.state,h=p&&qOe.a.cancelConfirmation||u&&qOe.a.advancedForm||qOe.a.baseForm,m=!!r.advanced,g=n||s;return Vu()(FM,{className:h,onChange:this.onFormChange,onSubmit:l},void 0,Vu()(YL,{onModalClose:o},void 0,Vu()(zL,{},void 0,p?Object(Ze.default)("Cancel Recording"):Object(Ze.default)("Record Options")),g?Vu()(vV,{errorMessage:g}):null,Vu()(wL,{},void 0,Vu()("div",{className:qOe.a.baseSettings},"base",ZOe(KOe,tp()({selectedLibrarySectionID:this.state.selectedLibrarySectionID,prefs:r.basic},d))),m?Vu()("div",{className:qOe.a.advancedSettings},"advanced",ZOe(I9,tp()({prefs:r.advanced},d))):null,p?XOe:null),Vu()(AL,{className:p?qOe.a.cancelConfirmationFooter:qOe.a.footer},void 0,p?null:Vu()(sV,{},void 0,m?Vu()(zp,{kind:Pp,onPress:this.onAdvancedPress},void 0,Vu()(Z_,{className:qOe.a.advancedIcon}),u?Object(Ze.default)("Show Basic"):Object(Ze.default)("Show Advanced")):null),p?Vu()(sV,{},void 0,Vu()(hw,{onPress:this.onBackPress},void 0,Object(Ze.default)("Back")),Vu()(hV,{isSpinning:a,kind:Op,onPress:c},void 0,Object(Ze.default)("Yes"))):Vu()(sV,{},void 0,t?Vu()(hw,{kind:Op,onPress:this.onCancelPress},void 0,Object(Ze.default)("Cancel Recording")):Vu()(hw,{kind:Dp,onPress:o},void 0,Object(Ze.default)("Cancel")),Vu()(hV,{type:"submit",isSpinning:i,kind:Pp},void 0,t?Object(Ze.default)("Save"):Object(Ze.default)("Record"))))))}},eje=i("9uqb"),tje=i.n(eje);const{Component:ije}=Nd.a;var nje=class extends ije{componentDidUpdate(e,t){e.isMediaSubscriptionDeleting&&!this.props.isMediaSubscriptionDeleting&&null==this.props.mediaSubscriptionDeleteError&&this.props.onModalClose()}render(){const{serverEntityID:e,providerEntityID:t,mediaSubscriptionKey:i,hint:n,metadataType:a,isMediaSubscriptionDeleting:s,mediaSubscriptionDeleteError:r,canAddLibrary:o,onCreatePress:l,onModalClose:c,onDelete:d}=this.props,{typeString:u}=Object(Qt.w)(a),{title:p}=zQ.g.get(u),h=o?Object(Ze.default)("This recording cannot be scheduled because you dont yet have a library for {type}.",{type:p}):Object(Ze.default)("This recording cannot be scheduled because there is no library for {type}.",{type:p});let m;return m=o?i?Object(Ze.default)("Please create a library or cancel the recording."):Object(Ze.default)("Please try recording again after you have created your library."):Object(Ze.default)("Please ask the server owner to create the library or cancel the recording."),Vu()(YL,{onModalClose:c},void 0,Vu()(zL,{},void 0,Object(Ze.default)("Record Options")),r?Vu()(vV,{errorMessage:r}):null,Vu()(wL,{},void 0,Vu()(TOe,{serverEntityID:e,providerEntityID:t,hint:n},void 0,Vu()("div",{className:tje.a.errorMessage},void 0,Object(Ze.default)("{type} Library Required",{type:p})),Vu()("p",{},void 0,h),Vu()("p",{},void 0,m),o?Vu()(zp,{kind:Pp,onPress:l},void 0,Vu()(vA,{className:tje.a.addIcon})," ",Object(Ze.default)("Create Library")):null)),Vu()(AL,{},void 0,Vu()(sV,{},void 0,i?Vu()(hV,{isSpinning:s,kind:Op,onPress:d},void 0,Object(Ze.default)("Cancel Recording")):null,Vu()(hw,{onPress:c},void 0,Object(Ze.default)("Cancel")))))}};const aje=Nd.a.createElement,{Component:sje}=Nd.a;function rje(){return Object(Wu.a)((e,{subscriptionType:t})=>t,e=>"playlist"===e?"show":e)}const oje={dispatchFetchLibraries:_i,dispatchAddLibrary:gK,dispatchInitMediaSubscriptionModal:_Pe,dispatchClearMediaSubscriptionModal:WPe,dispatchSaveMediaSubscription:GPe,dispatchChangeMediaSubscriptionTemplateMode:KPe,dispatchMoveMediaSubscriptionModal:YPe,dispatchDeleteMediaSubscriptionModal:qPe};class lje extends sje{constructor(e,t){super(e,t),this.onSubmit=e=>{const{serverEntityID:t,metadataItemEntityID:i}=this.props,{targetLibrarySectionID:n,targetSectionLocationID:a}=e,s=Xe()(e,["targetLibrarySectionID","targetSectionLocationID","mode"]);this.props.dispatchSaveMediaSubscription({serverEntityID:t,metadataItemEntityID:i,targetLibrarySectionID:n,targetSectionLocationID:a,prefs:s})},this.onDelete=()=>{this.props.dispatchDeleteMediaSubscriptionModal({metadataItemEntityID:this.props.metadataItemEntityID})},this.onModeChange=e=>{Object(Ti.a)(()=>{this.props.dispatchChangeMediaSubscriptionTemplateMode({modeIndex:e})})},this.onMediaMove=()=>{this.props.dispatchMoveMediaSubscriptionModal()},this.onCreatePress=()=>{const{metadataType:e,serverEntityID:t}=this.props,{typeString:i}=Object(Qt.w)(e),n=zQ.g.get(i);this.props.onModalClose(),this.props.dispatchAddLibrary({serverEntityID:t,options:{redirect:!1,seedAttrs:{type:n.typeString,title:n.title,language:n.defaultLanguage}}})},this.state={showConflicts:e.showConflicts}}componentDidMount(){this._populate()}componentWillReceiveProps(e){let t=this.state.showConflicts;this.props.isMediaSubscriptionSaving&&!e.isMediaSubscriptionSaving&&e.conflicts&&e.conflicts.length&&(t=!0),t!==this.state.showConflicts&&this.setState({showConflicts:t});const i=this.props.metadataItemEntityID!==e.metadataItemEntityID,n=this.props.mediaSubscriptionEntityID!==e.mediaSubscriptionEntityID;(i||n)&&this._populate(e)}componentWillUnmount(){this.props.dispatchClearMediaSubscriptionModal()}_populate(e=this.props){const{serverEntityID:t,mediaSubscriptionEntityID:i,metadataItemEntityID:n,showConflicts:a}=e;Object(Ti.a)(()=>{e.dispatchFetchLibraries({serverEntityID:t}),e.dispatchInitMediaSubscriptionModal({serverEntityID:t,mediaSubscriptionEntityID:i,metadataItemEntityID:n,showConflicts:a})})}render(){const{libraries:e,isLibrariesLoading:t,hasLibrariesError:i,isMediaSubscriptionPending:n,isMediaSubscriptionPopulated:a,mediaSubscriptionError:s,showLibraries:r,onModalClose:o}=this.props;return s?Vu()(sW,{message:s,onModalClose:o}):i?Vu()(sW,{message:Object(Ze.default)("There was an unexpected error loading libraries."),onModalClose:o}):n||!a||t?Vu()(iOe,{onModalClose:o}):r&&e&&!e.length?aje(nje,tp()({},this.props,{onCreatePress:this.onCreatePress,onDelete:this.onDelete})):this.state.showConflicts?aje(LOe,tp()({},this.props,{onDelete:this.onDelete,onMediaMove:this.onMediaMove})):aje($Oe,tp()({},this.props,{onModeChange:this.onModeChange,onSubmit:this.onSubmit,onDelete:this.onDelete}))}}lje.defaultProps={showConflicts:!1,showLibraries:!0};var cje=Object(Hu.b)((function(){return Object(Wu.a)(_S(),HS(),e=>e.ui.mediaSubscriptionModal,XPe,$Pe,rje(),Object(Wu.a)(kQ(),rje(),(e,t)=>{const i=Object(Qt.w)(t);return e.filter(e=>{const{id:t}=Object(Qt.u)(e.type);return t===i.id}).map(e=>({librarySectionID:e.key,locations:e.locations,title:e.title}))}),(e,t,i,n={},a,s,r)=>{const o=I.a.omit(i,"templates","mediaSubscription"),{key:l,grabOperations:c=[],prefs:d}=n,u=Xe()(n,["key","grabOperations","prefs"]),p=e.isFullOwnedServer;let h;const{initialMode:m,modes:g}=nOe(n,a);c.length&&(h=c.reduce((e,t)=>t.conflicts&&t.conflicts.length?e.concat(t.conflicts):e,[]));const v=f9(d),y=Yt(t),f=y?y.directories[0]:null,b=e&&e.desktop||{};return Object.assign({mediaSubscriptionKey:l,prefGroups:v,metadataType:s,libraries:r,isLibrariesLoading:!b.isLibrariesPopulated||b.isLibrariesPending,hasLibrariesError:!!b.librariesError,initialMode:m,modes:g,conflicts:h,server:e,provider:t,canAddLibrary:p,sourceDirectory:f},o,u)})}),oje)(lje);const dje=Nd.a.createElement;var uje=function(e){const{isOpen:t,metricsProperties:i,onModalClose:n}=e,a=Xe()(e,["isOpen","metricsProperties","onModalClose"]);return Vu()(Fw,{isOpen:t,metricsPage:zd.K,metricsProperties:i,onModalClose:n},void 0,dje(cje,tp()({},a,{onModalClose:n})))};var pje=function(){return Object(Wu.a)(KU(),$K(),(e,t)=>I.a.find(e,e=>"grabber.grab"===e.type&&e.Context.itemKey&&e.Context.itemKey===t.key))};function hje(e){var t=e["aria-label"],i=e.className,n=e.style,a={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-player-record-560"};a["aria-hidden"]=!t,a.style=n,a.className=Ad.a.plexIcon+(i?" "+i:"");var s=[Nd.a.createElement.apply(Nd.a,["circle",{cx:"280",cy:"280",r:"196"}].concat([]))];return t&&s.unshift(Nd.a.createElement("title",null,t)),Nd.a.createElement.apply(Nd.a,["svg",a].concat(s))}hje.propTypes={"aria-label":vc.a.string,className:vc.a.string,style:vc.a.object};var mje=hje,gje=i("r2QQ"),vje=i.n(gje);const yje=parseInt(BV.playerIconButtonSize,10);var fje=function(e){const{isRecording:t,recordingProgress:i,onPress:n}=e;return Vu()("div",{className:vje.a.recordButton},void 0,Vu()(pDe,{className:t?vje.a.playerButtonRecording:vje.a.playerButton,iconComponent:mje,"data-qa-id":"recordButton",title:Object(Ze.default)("Record"),onPress:n}),t?Vu()(sB,{size:yje,containerClassName:vje.a.recordingProgressBarContainer,backgroundClassName:vje.a.recordingProgressBackground,lineWidth:2,progress:i,showProgressText:!1}):null)};var bje=Object(Hu.b)((function(){return Object(Wu.a)(pje(),e=>({isRecording:!!e,recordingProgress:e&&e.progress}))}))(fje),Ije=i("kV+z"),Sje=i.n(Ije);const{Component:Cje}=Nd.a;var Mje=class extends Cje{constructor(e,t){super(e,t),this.onRecordPress=e=>{this.setState({isSubscribeModalOpen:!0})},this.onSubscribeModalClose=()=>{this.setState({isSubscribeModalOpen:!1})},this.state={isSubscribeModalOpen:!1}}render(){const{serverEntityID:e,providerEntityID:t,metadataItemEntityID:i,type:n}=this.props;return i&&n?Vu()("div",{className:Sje.a.recordButtonContainer},void 0,Vu()(bje,{serverEntityID:e,metadataItemEntityID:i,type:n,onPress:this.onRecordPress}),Vu()(uje,{serverEntityID:e,providerEntityID:t,metadataItemEntityID:i,isOpen:this.state.isSubscribeModalOpen,subscriptionType:n,onModalClose:this.onSubscribeModalClose})):null}};var Dje=Object(Hu.b)((function(){return Object(Wu.a)(Ove(),(e={})=>{const{entityID:t,type:i}=e;return{metadataItemEntityID:t,type:i}})}))(Mje);function Pje(e,t){const{type:i,subtype:n,viewCount:a,viewOffset:s,saved:r}=e;if(null!=r&&!r)return!1;const o=i===Qt.p&&n===LC.c,l=i===Qt.f&&n===LC.d;return(o||l||function(e,t){const{isLibraryItem:i,isFolder:n,isExtra:a}=e;return i&&!n&&!a&&t.mediaType===Go.e}(e,t))&&!a&&!s}function Oje(e,t){const{type:i,subtype:n,saved:a,unviewedLeafCount:s,isLibraryItem:r,isExtra:o}=e;if(null!=a&&!a)return!1;const l=r&&!o&&Qt.x(i)&&t.mediaType===Go.e,c=i===Qt.o&&(n===LC.c||n===LC.d);return(l||c)&&!!s}function jje(e){const{type:t,isLibraryItem:i,isExtra:n,Media:a}=e,s=Object(Qt.u)(t);if(!s)return!1;const r=a.length;return i&&!n&&s.mediaType===Go.e&&r>1}const wje=Nd.a.createElement,{Component:Tje}=Nd.a,Eje={16:!0,17:!0,91:!0,93:!0,224:!0};var Nje=function(e){var t,i;return i=t=class extends Tje{constructor(e,t){super(e,t),this._isMouseDown=void 0,this.onKeyDown=e=>{const{pressedModifierKeys:t}=this.state;Eje[e.which]&&-1===t.indexOf(e.which)&&this.setState({pressedModifierKeys:t.concat(e.which)})},this.onKeyUp=e=>{const{pressedModifierKeys:t}=this.state,i=t.indexOf(e.which);i>-1&&this.setState({pressedModifierKeys:t.slice(0,i).concat(t.slice(i+1))})},this.onMouseDown=e=>{this._isMouseDown=!0},this.onMouseUp=e=>{this._isMouseDown=!1},this.onFocusChange=e=>{this.state.pressedModifierKeys.length&&this.setState({pressedModifierKeys:[]}),this._isMouseDown=!1},this.onMouseEnter=e=>{const{selectionType:t,activeSelectionType:i}=this.props;this._isMouseDown&&i&&i===t&&this.onSelectPress(e)},this.onSelectPress=e=>{const{selectionID:t,selectionType:i,isSelected:n,onSelectItem:a}=this.props;n||a({id:t,type:i,isRangeSelect:e.shiftKey})},this.onDeselectPress=e=>{const{selectionID:t,isSelected:i,onDeselectItem:n}=this.props;i&&n({id:t})},this.state={pressedModifierKeys:[]}}componentDidMount(){document.addEventListener("keydown",this.onKeyDown),document.addEventListener("keyup",this.onKeyUp),document.addEventListener("mousedown",this.onMouseDown),document.addEventListener("mouseup",this.onMouseUp),document.addEventListener("dragstart",this.onFocusChange),document.addEventListener("contextmenu",this.onFocusChange),window.addEventListener("blur",this.onFocusChange)}shouldComponentUpdate(e,t){return Tp(this,e,t)}componentWillUnmount(){document.removeEventListener("keydown",this.onKeyDown),document.removeEventListener("keyup",this.onKeyUp),document.removeEventListener("mousedown",this.onMouseDown),document.removeEventListener("mouseup",this.onMouseUp),document.removeEventListener("dragstart",this.onFocusChange),document.removeEventListener("contextmenu",this.onFocusChange),window.removeEventListener("blur",this.onFocusChange)}render(){const t=this.props,{selectionType:i,activeSelectionType:n,isSelected:a}=t,s=Xe()(t,["selectionType","activeSelectionType","isSelected"]),{pressedModifierKeys:r}=this.state,o=!!n;return wje(e,tp()({hasActiveSelection:o,isSelected:a,isOtherItemSelected:o&&!a,isConflictingTypeSelected:o&&n!==i,isModifierKeyPressed:r.length>0,onMouseEnter:this.onMouseEnter,onSelectPress:this.onSelectPress,onDeselectPress:this.onDeselectPress},s))}},t.displayName="Selectable("+ff(e)+")",t.WrappedComponent=e,t.defaultProps={disableSelection:!1},i};var xje=i("Rx8e"),Aje=i.n(xje);const{Component:Lje}=Nd.a;class kje extends Lje{constructor(e,t){super(e,t),this.state={progress:e.progress}}componentWillReceiveProps(e){this.setState({progress:e.progress})}render(){const e=this.props.className,t=this.state.progress;return Vu()("div",{className:e},void 0,Vu()("div",{className:Aje.a.progressTrack}),Vu()("div",{style:{transform:"translate3d(-"+(100-t)+"%, 0, 0)"},className:Aje.a.progressBar}))}}kje.defaultProps={progress:Aje.a.progress};var Rje=kje;const{Component:zje}=Nd.a;var Uje=class extends zje{constructor(e,t){super(e,t),this.tickTimeout=void 0,this.tick=()=>{this.setState(this.getState(this.props)),this.setTickTimeout()},this.state=this.getState(e)}componentWillMount(){this.setTickTimeout()}componentWillReceiveProps(e,t){this.setState(this.getState(e))}shouldComponentUpdate(e,t){return Tp(this,e,t)}componentWillUnmount(){this.tickTimeout&&window.clearTimeout(this.tickTimeout)}getState({beginsAt:e,endsAt:t}){return{progress:(i=e,n=t,a=Date.now()/1e3,XI(a-i,n-i))};var i,n,a}setTickTimeout(){this.tickTimeout=window.setTimeout(this.tick,6e4-Date.now()%6e4)}render(){const e=this.props.className,t=this.state.progress;return t?Vu()(Rje,{className:e,progress:t}):null}},Vje=i("s2Sz"),Bje=i.n(Vje);const{Component:Fje}=Nd.a;var Hje=class extends Fje{constructor(e,t){super(e,t),this._moreButtonID=void 0,this.onRecordPress=e=>{this.setState({isSubscribeModalOpen:!0})},this.onSubscribeModalClose=()=>{this.setState({isSubscribeModalOpen:!1})},this.state={isSubscribeModalOpen:!1},this._moreButtonID=Mp()}shouldComponentUpdate(e,t){return Tp(this,e,t)}render(){const{className:e,serverEntityID:t,providerEntityID:i,metadataItemEntityID:n,route:a,type:s,title:r,subscriptionType:o,isSubscribed:l,showLink:c,beginsAt:d,endsAt:u,showPlay:p,showRecord:h,onPlayLiveTVPress:m}=this.props,{isSubscribeModalOpen:g}=this.state;return Vu()("div",{className:(e||"")+" "+(Bje.a.overlay||"")},void 0,Vu()("div",{className:Bje.a.background}),l?Vu()("div",{className:Bje.a.subscriptionBadge},void 0,Vu()(IOe,{type:o})):null,c?Vu()(zp,{className:Bje.a.link,to:a}):null,Vu()(Uje,{className:Bje.a.progress,beginsAt:d,endsAt:u}),p?Vu()(ide,{className:c?Bje.a.playButton:Bje.a.playCoverButton,circleClassName:Bje.a.playCircle,tabIndex:"-1",title:r,"data-qa-id":"metadataPosterPlayButton",onPress:m}):null,!p&&h?Vu()(ude,{className:c?Bje.a.recordButton:Bje.a.recordCoverButton,"data-qa-id":"metadataPosterRecordButton",circleClassName:Bje.a.recordCircle,iconClassName:Bje.a.recordIcon,tabIndex:"-1",title:r,onPress:this.onRecordPress}):null,p&&h?Vu()(ude,{className:Bje.a.recordButtonBottom,"data-qa-id":"metadataPosterRecordButton",circleClassName:Bje.a.recordCircleBottom,iconClassName:Bje.a.recordIconBottom,tabIndex:"-1",title:r,onPress:this.onRecordPress}):null,Vu()(uje,{serverEntityID:t,providerEntityID:i,metadataItemEntityID:n,isOpen:g,subscriptionType:s,onModalClose:this.onSubscribeModalClose}))}};function _je(e){var t=e["aria-label"],i=e.className,n=e.style,a={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-toolbar-sync-arrow-560"};a["aria-hidden"]=!t,a.style=n,a.className=Ad.a.plexIcon+(i?" "+i:"");var s=[Nd.a.createElement.apply(Nd.a,["path",{d:"M280 406l112-112h-89.6V154h-44.8v140H168l112 112"}].concat([]))];return t&&s.unshift(Nd.a.createElement("title",null,t)),Nd.a.createElement.apply(Nd.a,["svg",a].concat(s))}_je.propTypes={"aria-label":vc.a.string,className:vc.a.string,style:vc.a.object};var Wje=_je,Qje=i("87wx"),Gje=i.n(Qje);function Kje(e){const{className:t,isDisabled:i,showIndeterminate:n,lineWidth:a,progress:s,arrowSize:r,shadowWidth:o,showShadow:l,size:c}=e,d=null!=s&&s>=0,u=r+"px",p=n?aj.primaryColor:aj.selectedColor;let h;h=i?aj.defaultLinkDisabledLinkColor:d||n?aj.dimColor:"currentColor";const m={fontSize:u};if(l){const e=c+2*o;m.width=e+"px",m.height=e+"px",m.borderRadius=e/2+"px"}else m.width=c+a+"px",m.height=c+a+"px";const g=d?void 0:0;return Vu()("div",{className:(t||"")+" "+(d&&Gje.a.isDownloading||"")+" "+(n&&Gje.a.showIndeterminate||"")+" "+(l&&Gje.a.hasShadow||""),style:m},void 0,Vu()(Wje,{className:Gje.a.arrowIcon}),Vu()(XV,{containerClassName:Gje.a.progressBarContainer,lineWidth:a,progress:d?s:0,showIndeterminate:n,showProgressText:!1,size:c,smoothProgressDuration:g,strokeColor:p,trackColor:h}))}Kje.defaultProps={className:Gje.a.downloadIcon,size:18,arrowSize:19,lineWidth:1.3,showShadow:!1,shadowWidth:1};var Yje=Kje;const qje=Nd.a.createElement;var Zje=Object(Hu.b)((function(){return Object(Wu.a)(Object(Wu.a)((e,{source:t})=>t,(e,{ratingKey:t})=>t,hse("grabber.grab"),(e,t,i)=>{for(const n of i){const{Context:i}=n;if(i.itemRatingKey===t&&i.source===e&&n.progress>0)return n.progress}}),e=>({progress:e}))}))((function(e){if(!e.hasOfflineFile&&!e.hasOwnSubscription&&void 0===e.progress)return null;const t=Xe()(e,["hasOfflineFile","hasOwnSubscription","ratingKey","source"]);return qje(Yje,t)}));function Jje(e){var t=e["aria-label"],i=e.className,n=e.style,a={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-analyzing-560"};a["aria-hidden"]=!t,a.style=n,a.className=Ad.a.plexIcon+(i?" "+i:"");var s=[Nd.a.createElement.apply(Nd.a,["path",{d:"m336 364l15.027 67.524c.858 3.854 2.685 7.18 5.477 9.972 2.792 2.792 6.118 4.619 9.972 5.477l67.524 15.027-67.524 15.027c-3.854.858-7.18 2.685-9.972 5.477-2.792 2.792-4.619 6.118-5.477 9.972l-15.027 67.524-15.027-67.524c-.858-3.854-2.685-7.18-5.477-9.972-2.792-2.792-6.118-4.619-9.972-5.477l-67.524-15.027 67.524-15.027c3.854-.858 7.18-2.685 9.972-5.477 2.792-2.792 4.619-6.118 5.477-9.972l15.027-67.524m-315 140l343-343 35 35-343 343-35-35m441-266l15.027 67.523c.858 3.855 2.685 7.181 5.477 9.973 2.792 2.792 6.118 4.619 9.972 5.476l67.524 15.028-67.524 15.027c-3.854.858-7.18 2.685-9.972 5.477-2.792 2.792-4.619 6.118-5.477 9.972l-15.027 67.524-15.027-67.524c-.858-3.854-2.685-7.18-5.477-9.972-2.792-2.792-6.118-4.619-9.972-5.477l-67.524-15.027 67.524-15.028c3.854-.857 7.18-2.684 9.972-5.476 2.792-2.792 4.619-6.118 5.477-9.973l15.027-67.523m-322-238l21.468 96.462c1.2 5.396 3.914 10.338 7.823 14.247 3.909 3.909 8.851 6.623 14.247 7.823l96.462 21.468-96.462 21.468c-5.396 1.2-10.338 3.914-14.247 7.823-3.909 3.909-6.623 8.851-7.823 14.247l-21.468 96.462-21.468-96.462c-1.2-5.396-3.914-10.338-7.823-14.247-3.909-3.909-8.851-6.623-14.247-7.823l-96.462-21.468 96.462-21.468c5.396-1.2 10.338-3.914 14.247-7.823 3.909-3.909 6.623-8.851 7.823-14.247l21.468-96.462m252 133l35 35 112-112-35-35-112 112"}].concat([]))];return t&&s.unshift(Nd.a.createElement("title",null,t)),Nd.a.createElement.apply(Nd.a,["svg",a].concat(s))}Jje.propTypes={"aria-label":vc.a.string,className:vc.a.string,style:vc.a.object};var Xje=Jje;function $je(e){var t=e["aria-label"],i=e.className,n=e.style,a={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-edit-560"};a["aria-hidden"]=!t,a.style=n,a.className=Ad.a.plexIcon+(i?" "+i:"");var s=[Nd.a.createElement.apply(Nd.a,["path",{d:"m0 560l40-120 80 80-120 40m480-560l-400 400 80 80 400-400-80-80"}].concat([]))];return t&&s.unshift(Nd.a.createElement("title",null,t)),Nd.a.createElement.apply(Nd.a,["svg",a].concat(s))}$je.propTypes={"aria-label":vc.a.string,className:vc.a.string,style:vc.a.object};var ewe=$je;function twe(e){var t=e["aria-label"],i=e.className,n=e.style,a={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-favorite-empty-560"};a["aria-hidden"]=!t,a.style=n,a.className=Ad.a.plexIcon+(i?" "+i:"");var s=[Nd.a.createElement.apply(Nd.a,["path",{d:"M280.409154,516 L40.4101704,278.317013 C-13.4700568,224.772577 -13.4700568,137.681549 40.4101704,84.1371127 C94.2619347,30.6209624 181.927598,30.6209624 235.807825,84.1371127 L280.010674,128.064481 L324.18506,84.1371127 C378.065287,30.6209624 465.73095,30.6209624 519.611177,84.1371127 C573.462941,137.681549 573.462941,224.772577 519.611177,278.317013 L280.409154,516 Z M279.611348,451.652619 L479.792832,260.692492 C518.735723,223.398694 525.522119,157.229004 486.579229,119.960019 C448.828204,83.7828011 390.389111,76.569777 338.530931,131.136016 L280,187.188371 L221.443159,131.136016 C165.95959,82.5852498 112.168614,83.7828011 74.4175887,119.960019 C35.4746985,157.229004 41.2642774,223.398694 80.2071677,260.692492 L279.611348,451.652619 Z"}].concat([]))];return t&&s.unshift(Nd.a.createElement("title",null,t)),Nd.a.createElement.apply(Nd.a,["svg",a].concat(s))}twe.propTypes={"aria-label":vc.a.string,className:vc.a.string,style:vc.a.object};var iwe=twe;function nwe(e){var t=e["aria-label"],i=e.className,n=e.style,a={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-favorite-full-560"};a["aria-hidden"]=!t,a.style=n,a.className=Ad.a.plexIcon+(i?" "+i:"");var s=[Nd.a.createElement.apply(Nd.a,["path",{d:"M280.409154,516 L40.4101704,278.317013 C-13.4700568,224.772577 -13.4700568,137.681549 40.4101704,84.1371127 C94.2619347,30.6209624 181.927598,30.6209624 235.807825,84.1371127 L280.010674,128.064481 L324.18506,84.1371127 C378.065287,30.6209624 465.73095,30.6209624 519.611177,84.1371127 C573.462941,137.681549 573.462941,224.772577 519.611177,278.317013 L280.409154,516 Z"}].concat([]))];return t&&s.unshift(Nd.a.createElement("title",null,t)),Nd.a.createElement.apply(Nd.a,["svg",a].concat(s))}nwe.propTypes={"aria-label":vc.a.string,className:vc.a.string,style:vc.a.object};var awe=nwe;function swe(e){var t=e["aria-label"],i=e.className,n=e.style,a={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-files-560"};a["aria-hidden"]=!t,a.style=n,a.className=Ad.a.plexIcon+(i?" "+i:"");var s=[Nd.a.createElement.apply(Nd.a,["path",{d:"m480 240l0 240-240 0 0-240 240 0m-40 40l-160 0 0 160 160 0 0-160m-40-120l0 40-200 0 0 200-40 0 0-240 240 0m-80-80l0 40-200 0 0 200-40 0 0-240 240 0"}].concat([]))];return t&&s.unshift(Nd.a.createElement("title",null,t)),Nd.a.createElement.apply(Nd.a,["svg",a].concat(s))}swe.propTypes={"aria-label":vc.a.string,className:vc.a.string,style:vc.a.object};var rwe=swe;function owe(e){var t=e["aria-label"],i=e.className,n=e.style,a={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-tagging-560"};a["aria-hidden"]=!t,a.style=n,a.className=Ad.a.plexIcon+(i?" "+i:"");var s=[Nd.a.createElement.apply(Nd.a,["path",{d:"m252 56l308 308-196 196-308-308 0-196 196 0m-21 42l-133 0 0 133 266 266 133-133-266-266m-49 42c23.18 0 42 18.82 42 42 0 23.18-18.82 42-42 42-23.18 0-42-18.82-42-42 0-23.18 18.82-42 42-42"}].concat([]))];return t&&s.unshift(Nd.a.createElement("title",null,t)),Nd.a.createElement.apply(Nd.a,["svg",a].concat(s))}owe.propTypes={"aria-label":vc.a.string,className:vc.a.string,style:vc.a.object};var lwe=owe;function cwe(e){var t=e["aria-label"],i=e.className,n=e.style,a={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-trash-560"};a["aria-hidden"]=!t,a.style=n,a.className=Ad.a.plexIcon+(i?" "+i:"");var s=[Nd.a.createElement.apply(Nd.a,["path",{d:"m238 42c0-23.181 18.82-42 42-42 23.18 0 42 18.82 42 42l182 0 0 42-28 0 0 476-392 0 0-476-28 0 0-42 182 0m196 42l-308 0 0 434 308 0 0-434m-217 56l0 322-42 0 0-322 42 0m84 0l0 322-42 0 0-322 42 0m84 0l0 322-42 0 0-322 42 0"}].concat([]))];return t&&s.unshift(Nd.a.createElement("title",null,t)),Nd.a.createElement.apply(Nd.a,["svg",a].concat(s))}cwe.propTypes={"aria-label":vc.a.string,className:vc.a.string,style:vc.a.object};var dwe=cwe,uwe=i("IMai"),pwe=i.n(uwe);function hwe(e){const{children:t,backgroundClassName:i,className:n,onMouseEnter:a}=e;return Vu()("div",{className:n,onMouseEnter:a},void 0,Vu()("div",{className:i}),t)}hwe.defaultProps={className:pwe.a.overlay,backgroundClassName:pwe.a.background};var mwe=hwe,gwe=i("I178"),vwe=i.n(gwe);const{Component:ywe}=Nd.a;var fwe=Vu()(ewe,{}),bwe=Vu()(iwe,{}),Iwe=Vu()(awe,{}),Swe=Vu()(NI,{});var Cwe=class extends ywe{constructor(e,t){super(e,t),this._selectButtonID=void 0,this.onActionsMenuOpenChange=e=>{this.setState({isActionsMenuOpen:e})},this.state={isActionsMenuOpen:!1},this._selectButtonID=Mp()}render(){const{className:e,serverEntityID:t,providerEntityID:i,itemServerEntityID:n,itemProviderEntityID:a,metadataItemEntityID:s,containerKey:r,listType:o,metricsContext:l,route:c,title:d,viewPercent:u,unviewedLeafCount:p,mediaCount:h,hasOfflineFile:m,hasOwnSubscription:g,isSubscribed:v,isMultiVersion:y,isSmart:f,isFavorite:b,isMatching:I,isProcessing:S,isAnalyzing:C,isRefreshing:M,isTrash:D,showUnplayedBadge:P,showUnplayedNumberBadge:O,showLink:j,showLinkOnly:w,showPlay:T,showEdit:E,showSelect:N,showMore:x,showFavorite:A,showUnfavorite:L,showRemove:k,showAvailableOffline:R,canDrag:z,hasActiveSelection:U,isSelected:V,isOtherItemSelected:B,isConflictingTypeSelected:F,isModifierKeyPressed:H,isDragging:_,isLeafType:W,source:Q,ratingKey:G,onMouseEnter:K,onPlayPress:Y,onEditPress:q,onFavoritePress:Z,onUnfavoritePress:J,onRemovePress:X,onSelectPress:$,onDeselectPress:ee}=this.props,{isActionsMenuOpen:te}=this.state,ie=N&&(H||B);if(w)return Vu()("div",{className:(e||"")+" "+(vwe.a.overlay||"")},void 0,j?Vu()(zp,{className:vwe.a.link,to:c}):null);const ne=U||_||H||M||D,ae=te,se=te||_||M||D,re=v||g||W&&m;return Vu()(mwe,{className:(e||"")+" "+(vwe.a.overlay||"")+" "+(U&&vwe.a.hasActiveSelection||"")+" "+(V&&vwe.a.isSelected||"")+" "+(F&&vwe.a.isConflictingTypeSelected||"")+" "+(N&&H&&vwe.a.isModifierKeyPressed||"")+" "+(_&&vwe.a.isDragging||"")+" "+(te&&vwe.a.isActionsMenuOpen||""),backgroundClassName:(vwe.a.background||"")+" "+(ne&&vwe.a.selectedBackground||"")+" "+(ae&&vwe.a.hoverBackground||"")+" "+(se&&vwe.a.visibleBackground||""),onMouseEnter:K},void 0,P?Vu()("div",{className:vwe.a.unplayedTagContainer,"data-qa-id":"metadataPosterUnwatchedBadge"},void 0,Vu()("div",{className:vwe.a.unplayedTag})):null,O?Vu()("div",{"data-qa-id":"metadataPosterUnwatchedNumberBadge",className:vwe.a.unplayedBadge},void 0,p):null,y&&!re?Vu()("div",{className:vwe.a.versionBadge,"data-qa-id":"metadataPosterMultipleVersionBadge"},void 0,Vu()(rwe,{className:vwe.a.versionBadgeIcon}),h):null,!f||b||re?null:Vu()("div",{className:vwe.a.smartBadge,"data-qa-id":"metadataPosterSmartBadge"},void 0,Vu()(Z_,{className:vwe.a.smartBadgeIcon})),f&&b&&!re?Vu()("div",{className:vwe.a.favoriteBadge,"data-qa-id":"metadataPosterFavoriteBadge"},void 0,Vu()(awe,{className:vwe.a.favoriteBadgeIcon})):null,u?Vu()(Rje,{className:vwe.a.progress,progress:u}):null,M?Vu()("div",{className:vwe.a.refreshingSpinnerContainer},void 0,Vu()(Jh,{className:vwe.a.refreshingSpinner})):null,I?Vu()("div",{className:vwe.a.refreshingCircle},void 0,Vu()(qte,{"aria-label":Object(Ze.default)("Matching")})):null,S?Vu()("div",{className:vwe.a.refreshingCircle},void 0,Vu()(lwe,{"aria-label":Object(Ze.default)("Downloading Metadata")})):null,C?Vu()("div",{className:vwe.a.refreshingCircle},void 0,Vu()(Xje,{"aria-label":Object(Ze.default)("Analyzing")})):null,D?Vu()("div",{className:vwe.a.trashCircle},void 0,Vu()(dwe,{"aria-label":Object(Ze.default)("In Trash")})):null,j?Vu()(zp,{className:vwe.a.link,to:c}):null,ie&&!F?Vu()(zp,{className:vwe.a.selectCoverButton,onPress:$}):null,ie&&F?Vu()(Wb,{className:vwe.a.selectCoverButton,component:zp,tooltip:Object(Ze.default)("A different type is selected"),tooltipAttachment:Mb,tooltipTarget:this._selectButtonID,showOnFocus:!1,hideOnPress:!1}):null,R?Vu()(Zje,{className:vwe.a.hasSubscriptionBadge,source:Q,ratingKey:G,hasOfflineFile:m,hasOwnSubscription:g,showShadow:!0}):null,R?Vu()(yse,{metadataItemEntityID:s,providerEntityID:a}):null,T?Vu()(ide,{className:j?vwe.a.playButton:vwe.a.playCoverButton,circleClassName:vwe.a.playCircle,component:z?"div":"button",tabIndex:"-1",title:d,"data-qa-id":"metadataPosterPlayButton",onPress:Y}):null,E?Vu()(zp,{className:vwe.a.editButton,tabIndex:"-1","aria-label":Object(Ze.default)("Edit {title}",{title:d}),"data-qa-id":"metadataPosterEditButton",onPress:q},void 0,fwe):null,A&&!re?Vu()(zp,{className:vwe.a.favoriteButton,tabIndex:"-1","aria-label":Object(Ze.default)("Add {title} to favorites",{title:d}),"data-qa-id":"metadataPosterFavoriteButton",onPress:Z},void 0,bwe):null,L&&!re?Vu()(zp,{className:vwe.a.favoriteButton,tabIndex:"-1","aria-label":Object(Ze.default)("Remove {title} from favorites",{title:d}),"data-qa-id":"metadataPosterUnfavoriteButton",onPress:J},void 0,Iwe):null,k?Vu()(zp,{className:vwe.a.removeButton,tabIndex:"-1","aria-label":Object(Ze.default)("Remove {title}",{title:d}),onPress:X},void 0,Swe):null,x?Vu()(fce,{"data-qa-id":"metadataPosterMoreButton",className:vwe.a.moreButton,tabIndex:"-1",serverEntityID:t,providerEntityID:i,itemServerEntityID:n,itemProviderEntityID:a,metadataItemEntityID:s,containerKey:r,listType:o,metricsContext:l,showPlay:!1,showQueuePlexMix:!1,showEdit:!1,isMenuOpen:te,onMenuOpenChange:this.onActionsMenuOpenChange}):null,N?Vu()(NV,{id:this._selectButtonID,className:vwe.a.selectButton,circleClassName:vwe.a.selectCircle,tabIndex:"-1",title:d,isSelected:V,isDisabled:F,onPress:$}):null,V?Vu()(zp,{className:vwe.a.deselectCoverButton,onPress:ee}):null)}};const Mwe=Nd.a.createElement,Dwe=Nje(Cwe);var Pwe=kK((function(){return Object(Wu.a)((e,{type:t})=>t,(e,{listType:t})=>t,$K(),Aae,xae,IT,WSe(),Object(Wu.a)($K(),e=>e&&e.viewOffset&&e.type!==Qt.h?XI(e.viewOffset,e.duration):0),cse(),eSe(),(e,t,i,n={},a={},s={},r,o,l,c)=>{const{subtype:d,title:u,viewCount:p,viewOffset:h,unviewedLeafCount:m,smart:g,icon:v,metadataState:y,mediaState:f,deletedAt:b,subscriptionID:I,subscriptionType:S,grandparentSubscriptionID:C,grandparentSubscriptionType:M,ratingKey:D,isFolder:P,isPlaylist:O,Media:j}=i,w=Hae({server:n,provider:a,stableUser:s,metadataItem:i}),T=!!a.features.subscribe,E=Xae({server:n,provider:a,stableUser:s,metadataItem:i}),N=t===Qt.k&&Yae({server:n,provider:a,stableUser:s,metadataItem:i}),x=t===Qt.k&&qae({server:n,provider:a,stableUser:s,metadataItem:i}),A=sse({server:n,provider:a,stableUser:s,metadataItem:i}),L=Qt.u(e),k=Qt.t(e),R=!(!L||!k||L.id!==k.id),z=j.length,U=null!=I||null!=C,V=!!g&&O,B="playlist://image.favorite"===v,F="matching"===y,H="processing"===y||"loading"===y,_=!F&&!H&&!!f,W=F||H||_,Q=!W&&!!b,G=!(!D||!l)&&be.a.allowSyncDownload;return{server:n,provider:a,route:r,title:u,viewCount:p,viewOffset:h,viewPercent:o,unviewedLeafCount:m,mediaCount:z,subscriptionType:S||M,type:e,subtype:d,isSubscribed:U,isMultiVersion:jje(i),isSmart:V,isFavorite:B,isMatching:F,isProcessing:H,isAnalyzing:_,isRefreshing:W,isTrash:Q,isLeafType:R,showLink:!!r,showUnplayedBadge:Pje(i,L),showUnplayedNumberBadge:Oje(i,k),showPlay:w,showRecord:T,showEdit:E,showFavorite:N,showUnfavorite:x,showSelect:A,showMore:!P,showAvailableOffline:G,beginsAt:c&&c.beginsAt,endsAt:c&&c.endsAt,source:l,ratingKey:D,hasOfflineFile:fse(i),hasOwnSubscription:bse(i)}})}),(function(e,t){const i={serverEntityID:t.serverEntityID,providerEntityID:t.providerEntityID,itemServerEntityID:t.itemServerEntityID||t.serverEntityID,itemProviderEntityID:t.itemProviderEntityID||t.providerEntityID,metadataItemEntityID:t.metadataItemEntityID,metricsPage:t.metricsPage,metricsProperties:{context:t.metricsContext}};return{onPlayPress(){e(Object(xT.x)(Object.assign({},i,{options:{containerKey:t.containerKey,listType:t.listType}})))},onPlayLiveTVPress(){e(cve(Object.assign({},i,{options:{containerKey:t.containerKey,listType:t.listType}})))},onEditPress(){e(tae(i))},onFavoritePress(){e(gae(i))},onUnfavoritePress(){e(vae(i))}}}),Nae)((function(e){const{provider:t}=e,i=Xe()(e,["server","provider"]),n=Object.assign({},i,{itemServerEntityID:e.itemServerEntityID||e.serverEntityID,itemProviderEntityID:e.itemProviderEntityID||e.providerEntityID});return t.protocols.livetv?Mwe(Hje,n):e.showSelect&&!e.showLinkOnly?Mwe(Dwe,n):Mwe(Cwe,n)})),Owe=i("CWZi"),jwe=i.n(Owe);const wwe=Nd.a.createElement;function Twe(e){const{className:t,serverEntityID:i,providerEntityID:n,metadataItemEntityID:a,itemServerEntityID:s,itemProviderEntityID:r,type:o,subtype:l,selectionType:c,activeSelectionType:d,isSelected:u,isOffscreen:p,visibleFace:h,imageWidth:m,imageHeight:g,imageUrl:v,disableCrossFade:y,icon:f,backgroundSize:b,isFolder:I,showOverlay:S,onImageLoad:C,onImageError:M,onSelectItem:D,onDeselectItem:P}=e,O=Xe()(e,["className","serverEntityID","providerEntityID","metadataItemEntityID","itemServerEntityID","itemProviderEntityID","type","subtype","selectionType","activeSelectionType","isSelected","isOffscreen","visibleFace","imageWidth","imageHeight","imageUrl","disableCrossFade","icon","backgroundSize","isFolder","showOverlay","onImageLoad","onImageError","onSelectItem","onDeselectItem"]);return Vu()("div",{className:(t||"")+" "+(jwe.a[h]||"")+" "+(u&&jwe.a.isSelected||"")},void 0,Vu()(AC,{serverEntityID:i,providerEntityID:n,itemServerEntityID:s,itemProviderEntityID:r,type:o,subtype:l,isOffscreen:p,url:v,width:m,height:g,disableCrossFade:y,icon:f,backgroundSize:b,isFolder:I,onLoad:C,onError:M}),S?wwe(Pwe,tp()({serverEntityID:i,providerEntityID:n,itemServerEntityID:s,itemProviderEntityID:r,metadataItemEntityID:a,type:o,selectionID:a,selectionType:c,activeSelectionType:d,isSelected:u,onSelectItem:D,onDeselectItem:P},O)):null)}Twe.defaultProps={className:jwe.a.face,showOverlay:!0};var Ewe=Twe,Nwe=i("aJpN"),xwe=i.n(Nwe);const Awe=Nd.a.createElement,{Component:Lwe}=Nd.a,kwe=yv(vMe.posterFlipSpeed);class Rwe extends Lwe{constructor(e,t){super(e,t),this._flipTimeoutID=void 0,this.onImageLoad=()=>{this.state.isLoadingFace&&this._flipCard()},this.onImageError=()=>{this.state.isLoadingFace&&this._flipCard()},this.onFlipComplete=()=>{this.setState({isFlippingFace:!1,previousImageUrl:null})},this.state={visibleFace:"faceFront",isLoadingFace:!1,isFlippingFace:!1,previousImageUrl:null}}componentWillReceiveProps(e){const t=this.props.imageUrl,i=e.imageUrl&&t!==e.imageUrl;this.props.metadataKey===e.metadataKey&&i&&this._prepareFlip(t)}shouldComponentUpdate(e,t){return Tp(this,e,t)}componentWillUnmount(){this._cancelFlip()}_prepareFlip(e){this._cancelFlip(),this.setState({isLoadingFace:!0,isFlippingFace:!0,previousImageUrl:e})}_flipCard(){this.setState(e=>({isLoadingFace:!1,visibleFace:"faceFront"===e.visibleFace?"faceBack":"faceFront"}),()=>{this._flipTimeoutID=window.setTimeout(this.onFlipComplete,kwe)})}_cancelFlip(){this._flipTimeoutID&&(this._flipTimeoutID=window.clearTimeout(this._flipTimeoutID))}render(){const e=this.props,{className:t,cardClassName:i,cardFaceClassName:n,metadataKey:a,imageWidth:s,imageHeight:r,imageUrl:o}=e,l=Xe()(e,["className","cardClassName","cardFaceClassName","metadataKey","imageWidth","imageHeight","imageUrl"]),{visibleFace:c,isLoadingFace:d,isFlippingFace:u,previousImageUrl:p}=this.state,h={width:s,height:r};return Vu()("div",{className:t,"data-qa-id":"metadataPosterCard--"+a},a,Vu()("div",{className:(i||"")+" "+("faceBack"===c&&xwe.a.isFlipped||""),style:h},void 0,"faceFront"===c||u?Awe(Ewe,tp()({key:"faceFront",className:n,visibleFace:"faceFront",imageWidth:s,imageHeight:r,imageUrl:"faceFront"===c&&!d||"faceBack"===c&&d?o:p,disableCrossFade:u,onImageLoad:this.onImageLoad,onImageError:this.onImageError},l)):null,"faceBack"===c||u?Awe(Ewe,tp()({key:"faceBack",className:n,visibleFace:"faceBack",imageWidth:s,imageHeight:r,imageUrl:"faceBack"===c&&!d||"faceFront"===c&&d?o:p,disableCrossFade:u,onImageLoad:this.onImageLoad,onImageError:this.onImageError},l)):null))}}Rwe.defaultProps={className:xwe.a.cardContainer,cardClassName:xwe.a.card};var zwe=Rwe;function Uwe(e){var t=e["aria-label"],i=e.className,n=e.style,a={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-player-expand-560"};a["aria-hidden"]=!t,a.style=n,a.className=Ad.a.plexIcon+(i?" "+i:"");var s=[Nd.a.createElement.apply(Nd.a,["path",{d:"M280 140l252 252-56 56-196-196L84 448l-56-56z"}].concat([]))];return t&&s.unshift(Nd.a.createElement("title",null,t)),Nd.a.createElement.apply(Nd.a,["svg",a].concat(s))}Uwe.propTypes={"aria-label":vc.a.string,className:vc.a.string,style:vc.a.object};var Vwe=Uwe,Bwe=i("yD7D"),Fwe=i.n(Bwe);function Hwe(e){const{className:t,cardClassName:i,serverEntityID:n,providerEntityID:a,metadataItemEntityID:s,metadataKey:r,type:o,disableExpandButton:l,imageWidth:c,imageHeight:d,imageUrl:u,isMusic:p,onExpandPress:h}=e,m=p?"music":r;return Vu()("div",{className:t,style:{width:c}},void 0,Vu()("div",{className:Fwe.a.cardContainer},void 0,Vu()(pDe,{className:Fwe.a.expandButton,"data-qa-id":"expandPlayerButton",iconComponent:Vwe,isDisabled:l,title:Object(Ze.default)("Expand Player"),onPress:h}),Vu()(zwe,{cardClassName:i,serverEntityID:n,providerEntityID:a,metadataItemEntityID:s,metadataKey:m,type:o,imageWidth:c,imageHeight:d,imageUrl:u,showLinkOnly:!0,showOverlay:!1})))}Hwe.defaultProps={className:Fwe.a.miniPlayerPoster,cardClassName:Fwe.a.card};var _we=Hwe;const Wwe=parseInt(BV.playerControlsPosterHeight,10);var Qwe=Object(Hu.b)((function(){return Object(Wu.a)(Qhe(),e=>{const t=Eae(null,Wwe,e.type,e.subtype,e,"player");return{serverEntityID:e.serverEntityID,providerEntityID:e.providerEntityID,metadataItemEntityID:e.entityID,type:e.type,metadataKey:e.key,imageWidth:t.width,imageHeight:t.height,imageUrl:t.url}})}),(function(e,{playerType:t}){const i={playerType:t};return{onExpandPress(t){e(aDe(i))}}}))(_we);function Gwe(e){var t=e["aria-label"],i=e.className,n=e.style,a={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-player-more-vertical-560"};a["aria-hidden"]=!t,a.style=n,a.className=Ad.a.plexIcon+(i?" "+i:"");var s=[Nd.a.createElement.apply(Nd.a,["path",{d:"M280 168c-30.897 0-56-25.103-56-56 0-30.896 25.103-56 56-56s56 25.104 56 56c-.965 31.862-25.103 56-56 56zm56 112c0 30.897-25.103 56-56 56s-56-25.103-56-56 25.103-56 56-56 56 25.103 56 56zm0 168c0 30.897-25.103 56-56 56s-56-25.103-56-56 25.103-56 56-56 56 25.103 56 56z"}].concat([]))];return t&&s.unshift(Nd.a.createElement("title",null,t)),Nd.a.createElement.apply(Nd.a,["svg",a].concat(s))}Gwe.propTypes={"aria-label":vc.a.string,className:vc.a.string,style:vc.a.object};var Kwe=Gwe;const Ywe=Nd.a.createElement,{Component:qwe}=Nd.a,Zwe={showDelete:!1,showDeleteVersion:!1,showEdit:!1,showFixMatch:!1,showMarkUnplayed:!1,showMarkPlayed:!1,showMatch:!1,showOptimize:!1,showPlay:!1,showPlayAll:!1,showPlayMusicVideo:!1,showPlayPlexMix:!1,showPlayTrailer:!1,showPlayVersion:!1,showWatchTogether:!1,showQueue:!1,showRefresh:!1,showSelect:!1,showShuffle:!1,showSplitApart:!1,showUnmatch:!1};var Jwe=class extends qwe{constructor(e,t){super(e,t),this._menuButtonID=void 0,this.onPress=()=>{this.setState((e,t)=>({isMenuOpen:!e.isMenuOpen}),()=>{this.props.onMenuChange&&this.props.onMenuChange(this.state.isMenuOpen)})},this.onMenuClose=()=>{this.setState({isMenuOpen:!1},()=>{this.props.onMenuChange&&this.props.onMenuChange(!1)})},this.state={isMenuOpen:!1},this._menuButtonID=Mp()}render(){const{serverEntityID:e,providerEntityID:t,metadataItemEntityID:i,metadataActionProps:n,isDisabled:a}=this.props,s=Object.assign({},n,Zwe);return I.a.values(s).some(e=>e)?Vu()("span",{},void 0,Vu()(pDe,{id:this._menuButtonID,"data-qa-id":"moreButton",iconComponent:Kwe,isDisabled:a,title:Object(Ze.default)("More Actions"),onPress:this.onPress}),Ywe(gce,tp()({serverEntityID:e,providerEntityID:t,metadataItemEntityID:i,target:this._menuButtonID,isOpen:this.state.isMenuOpen},Zwe,{onMenuClose:this.onMenuClose}))):null}};var Xwe=Object(Hu.b)((function(){return Object(Wu.a)(ose(),e=>({metadataActionProps:e}))}))(Jwe);const $we=250,eTe=.5;function tTe(e={}){const{callback:t,axisLockDuration:i=$we,sensitivity:n=eTe,maxAbsDelta:a=Number.MAX_SAFE_INTEGER}=e;let s,r;return e=>{e.preventDefault();(void 0===r||e.timeStamp-r>=i)&&(s=Math.abs(e.deltaX)>Math.abs(e.deltaY)?"deltaX":"deltaY",r=e.timeStamp);const o=e[s]*n;if(!o)return;let l=Math.max(0,Math.min(a,Math.abs(o)));l*=o>0?1:-1,l=(e.nativeEvent||e).webkitDirectionInvertedFromDevice?l:-l,t(l)}}function iTe(e){var t=e["aria-label"],i=e.className,n=e.style,a={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-player-volume-high-560"};a["aria-hidden"]=!t,a.style=n,a.className=Ad.a.plexIcon+(i?" "+i:"");var s=[Nd.a.createElement.apply(Nd.a,["path",{d:"M447.161 28.839C516.391 90.361 560 180.088 560 280s-43.609 189.639-112.839 251.161l-29.75-29.75C479.064 447.527 518 368.31 518 280S479.064 112.473 417.411 58.589l29.75-29.75zm-79.409 79.409C416.818 149.318 448 211.018 448 280c0 68.982-31.182 130.682-80.248 171.752l-29.847-29.847C379.436 388.578 406 337.391 406 280c0-57.391-26.564-108.578-68.095-141.905l29.847-29.847zM28 336V224h56l112-112v336L84 336H28zm259.936-147.936C316.989 208.268 336 241.914 336 280c0 38.086-19.011 71.732-48.064 91.936l-30.452-30.452C279.246 329.605 294 306.525 294 280s-14.754-49.605-36.516-61.484l30.452-30.452z"}].concat([]))];return t&&s.unshift(Nd.a.createElement("title",null,t)),Nd.a.createElement.apply(Nd.a,["svg",a].concat(s))}iTe.propTypes={"aria-label":vc.a.string,className:vc.a.string,style:vc.a.object};var nTe=iTe;function aTe(e){var t=e["aria-label"],i=e.className,n=e.style,a={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-player-volume-low-560"};a["aria-hidden"]=!t,a.style=n,a.className=Ad.a.plexIcon+(i?" "+i:"");var s=[Nd.a.createElement.apply(Nd.a,["path",{d:"M28 336V224h56l112-112v336L84 336H28zm259.936-147.936C316.989 208.268 336 241.914 336 280c0 38.086-19.011 71.732-48.064 91.936l-30.452-30.452C279.246 329.605 294 306.525 294 280s-14.754-49.605-36.516-61.484l30.452-30.452z"}].concat([]))];return t&&s.unshift(Nd.a.createElement("title",null,t)),Nd.a.createElement.apply(Nd.a,["svg",a].concat(s))}aTe.propTypes={"aria-label":vc.a.string,className:vc.a.string,style:vc.a.object};var sTe=aTe;function rTe(e){var t=e["aria-label"],i=e.className,n=e.style,a={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-player-volume-mid-560"};a["aria-hidden"]=!t,a.style=n,a.className=Ad.a.plexIcon+(i?" "+i:"");var s=[Nd.a.createElement.apply(Nd.a,["path",{d:"M367.752 108.248C416.818 149.318 448 211.018 448 280c0 68.982-31.182 130.682-80.248 171.752l-29.847-29.847C379.436 388.578 406 337.391 406 280c0-57.391-26.564-108.578-68.095-141.905l29.847-29.847zM28 336V224h56l112-112v336L84 336H28zm259.936-147.936C316.989 208.268 336 241.914 336 280c0 38.086-19.011 71.732-48.064 91.936l-30.452-30.452C279.246 329.605 294 306.525 294 280s-14.754-49.605-36.516-61.484l30.452-30.452z"}].concat([]))];return t&&s.unshift(Nd.a.createElement("title",null,t)),Nd.a.createElement.apply(Nd.a,["svg",a].concat(s))}rTe.propTypes={"aria-label":vc.a.string,className:vc.a.string,style:vc.a.object};var oTe=rTe;function lTe(e){var t=e["aria-label"],i=e.className,n=e.style,a={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-player-volume-mute-560"};a["aria-hidden"]=!t,a.style=n,a.className=Ad.a.plexIcon+(i?" "+i:"");var s=[Nd.a.createElement.apply(Nd.a,["path",{d:"M84 224l112-112v336L84 336H28V224h56zm306.302 56l-84.146 84.146 29.698 29.698L420 309.698l84.146 84.146 29.698-29.698L449.698 280l84.146-84.146-29.698-29.698L420 250.302l-84.146-84.146-29.698 29.698L390.302 280z"}].concat([]))];return t&&s.unshift(Nd.a.createElement("title",null,t)),Nd.a.createElement.apply(Nd.a,["svg",a].concat(s))}lTe.propTypes={"aria-label":vc.a.string,className:vc.a.string,style:vc.a.object};var cTe=lTe;const{Component:dTe}=Nd.a,uTe=parseInt(BV.playerVolumeSliderHeight,10);var pTe=class extends dTe{constructor(e,t){super(e,t),this.onWheel=void 0,this.onWheelDelta=e=>{this.props.onVolumeChange(e)},this.onWheel=tTe({callback:this.onWheelDelta,maxAbsDelta:uTe/10})}render(){const{className:e,volume:t,onPress:i}=this.props;let n=cTe;return t>60?n=nTe:t>40?n=oTe:t>0&&(n=sTe),Vu()("span",{onWheel:this.onWheel},void 0,Vu()(pDe,{className:e,title:0===t?Object(Ze.default)("Unmute Volume"):Object(Ze.default)("Mute Volume"),"data-qa-id":"volumeButton",iconComponent:n,onPress:i}))}},hTe=i("wnar"),mTe=i.n(hTe);const gTe=Nd.a.createElement;function vTe(e){return gTe(nF,tp()({},e,{isVertical:!0}))}vTe.defaultProps={className:mTe.a.slider,fillClassName:mTe.a.fill,thumbClassName:mTe.a.thumb,thumbTrackClassName:mTe.a.thumbTrack,trackClassName:mTe.a.track};var yTe=vTe,fTe=i("LttS"),bTe=i.n(fTe);const{Component:ITe}=Nd.a,STe=parseInt(BV.playerVolumeSliderHeight,10);class CTe extends ITe{constructor(e,t){super(e,t),this.onWheel=void 0,this.onWheelDelta=e=>{this.onChange({positionDelta:e})},this.onChange=({positionDelta:e})=>{this.props.onVolumeChange(e)},this.onWheel=tTe({callback:this.onWheelDelta,maxAbsDelta:STe/10})}render(){const{className:e,volume:t}=this.props;return Vu()(yTe,{className:e,trackClassName:bTe.a.track,fillClassName:bTe.a.fill,showFill:!0,autoHideThumb:!0,stepSize:1,value:t,onChange:this.onChange,onWheel:this.onWheel})}}CTe.defaultProps={className:bTe.a.slider};var MTe=CTe,DTe=i("EQVT"),PTe=i.n(DTe);var OTe=function(e){const{title:t,summary:i,dateTaken:n,index:a,size:s}=e;let r="";n&&(r+=Object(Rce.default)(n)),i&&(r+=r?"  "+i:" "+i);const o=!(!t||!t.length),l=!!r.length,c=!!s;return Vu()("div",{className:PTe.a.container},void 0,o?Vu()(oSe,{component:Lce,title:t}):null,l?Vu()(oSe,{component:Lce,isSecondary:o,title:r}):null,c?Vu()(oSe,{component:Lce,isSecondary:o||l,title:Object(Ze.default)("{currentIndex} of {size}",{currentIndex:a+1,size:s})}):null)};const jTe=Object(Hu.b)((function(){return Object(Wu.a)(Ahe(),$K(),(e,t)=>{const{title:i,summary:n,originallyAvailableAt:a,addedAt:s}=t;return{title:i,summary:n,index:e.playQueueSelectedItemOffset,size:e.length,dateTaken:a||Object(DSe.default)(s,"yyyy-MM-dd")}})}))(OTe);jTe.propTypes=Object.assign({},jTe.propTypes,{metadataItemEntityID:vc.a.string.isRequired,playerType:vc.a.string.isRequired});var wTe=jTe;function TTe(e){var t=e["aria-label"],i=e.className,n=e.style,a={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-player-chapters-560"};a["aria-hidden"]=!t,a.style=n,a.className=Ad.a.plexIcon+(i?" "+i:"");var s=[Nd.a.createElement.apply(Nd.a,["path",{d:"M392 308h140v140H392V308zm-182 0h140v140H210V308zm-182 0h140v140H28V308zm364-196h140v140H392V112zm-182 0h140v140H210V112zm-182 0h140v140H28V112z"}].concat([]))];return t&&s.unshift(Nd.a.createElement("title",null,t)),Nd.a.createElement.apply(Nd.a,["svg",a].concat(s))}TTe.propTypes={"aria-label":vc.a.string,className:vc.a.string,style:vc.a.object};var ETe=TTe;function NTe(e){var t=e["aria-label"],i=e.className,n=e.style,a={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-player-edit-560"};a["aria-hidden"]=!t,a.style=n,a.className=Ad.a.plexIcon+(i?" "+i:"");var s=[Nd.a.createElement.apply(Nd.a,["path",{d:"M56 504l28-84 56 56-84 28zM448 56L112 392l56 56 336-336-56-56z"}].concat([]))];return t&&s.unshift(Nd.a.createElement("title",null,t)),Nd.a.createElement.apply(Nd.a,["svg",a].concat(s))}NTe.propTypes={"aria-label":vc.a.string,className:vc.a.string,style:vc.a.object};var xTe=NTe;function ATe(e){var t=e["aria-label"],i=e.className,n=e.style,a={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-player-favorite-empty-560"};a["aria-hidden"]=!t,a.style=n,a.className=Ad.a.plexIcon+(i?" "+i:"");var s=[Nd.a.createElement.apply(Nd.a,["path",{d:"M280 143.859C204.068 24.463 56 102.755 56 212.363 56 297.505 185.084 369.926 280 504c94.916-134.074 224-206.495 224-291.637 0-109.608-143.322-187.9-224-68.504zm0 282.828c-29.423-35.231-59.797-65.569-86.373-92.971-48.407-48.933-90.169-91.015-90.169-121.353 0-45.995 40.813-80.249 77.83-80.249 22.78 0 42.712 12.723 57.899 37.189L280 229.979l37.966-59.697c17.085-25.445 37.966-39.147 60.746-39.147 36.068 0 75.932 34.254 75.932 80.249 0 30.339-41.763 72.42-89.221 120.375-25.626 29.359-56 59.697-85.423 94.928z"}].concat([]))];return t&&s.unshift(Nd.a.createElement("title",null,t)),Nd.a.createElement.apply(Nd.a,["svg",a].concat(s))}ATe.propTypes={"aria-label":vc.a.string,className:vc.a.string,style:vc.a.object};var LTe=ATe;function kTe(e){var t=e["aria-label"],i=e.className,n=e.style,a={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-player-favorite-filled-560"};a["aria-hidden"]=!t,a.style=n,a.className=Ad.a.plexIcon+(i?" "+i:"");var s=[Nd.a.createElement.apply(Nd.a,["path",{d:"M280 143.859C204.068 24.463 56 102.755 56 212.363 56 297.505 185.084 369.926 280 504c94.916-134.074 224-206.495 224-291.637 0-109.608-143.322-187.9-224-68.504z"}].concat([]))];return t&&s.unshift(Nd.a.createElement("title",null,t)),Nd.a.createElement.apply(Nd.a,["svg",a].concat(s))}kTe.propTypes={"aria-label":vc.a.string,className:vc.a.string,style:vc.a.object};var RTe=kTe;function zTe(e){var t=e["aria-label"],i=e.className,n=e.style,a={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-player-info-560"};a["aria-hidden"]=!t,a.style=n,a.className=Ad.a.plexIcon+(i?" "+i:"");var s=[Nd.a.createElement.apply(Nd.a,["path",{d:"M280 476c108.248 0 196-87.752 196-196S388.248 84 280 84 84 171.752 84 280s87.752 196 196 196zm0 42C148.556 518 42 411.444 42 280 42 148.556 148.556 42 280 42c131.444 0 238 106.556 238 238 0 131.444-106.556 238-238 238zm-21-112h42V238h-42v168zm-7-224c0-7.519 2.606-14.065 7.818-19.639S271.636 154 279.636 154c8 0 14.728 2.657 20.182 7.972C305.273 167.287 308 173.963 308 182c0 8.037-2.727 14.713-8.182 20.028-5.454 5.315-12.182 7.972-20.182 7.972-8 0-14.606-2.787-19.818-8.361C254.606 196.065 252 189.519 252 182z"}].concat([]))];return t&&s.unshift(Nd.a.createElement("title",null,t)),Nd.a.createElement.apply(Nd.a,["svg",a].concat(s))}zTe.propTypes={"aria-label":vc.a.string,className:vc.a.string,style:vc.a.object};var UTe=zTe;function VTe(e){var t=e["aria-label"],i=e.className,n=e.style,a={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-player-lyrics-560"};a["aria-hidden"]=!t,a.style=n,a.className=Ad.a.plexIcon+(i?" "+i:"");var s=[Nd.a.createElement.apply(Nd.a,["path",{d:"M280 270.66c-8.574-2.997-18.045-4.66-28-4.66-38.66 0-70 25.072-70 56s31.34 56 70 56 70-25.072 70-56V140l-42-28v158.66zM448 84c15.464 0 28 12.536 28 28v254.244a56 56 0 0 1-19.556 42.518L280 560l28-140H112c-15.464 0-28-12.536-28-28V112c0-15.464 12.536-28 28-28h336zm-126 56v56l70 49v-56l-70-49z"}].concat([]))];return t&&s.unshift(Nd.a.createElement("title",null,t)),Nd.a.createElement.apply(Nd.a,["svg",a].concat(s))}VTe.propTypes={"aria-label":vc.a.string,className:vc.a.string,style:vc.a.object};var BTe=VTe;function FTe(e){var t=e["aria-label"],i=e.className,n=e.style,a={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-player-next-track-560"};a["aria-hidden"]=!t,a.style=n,a.className=Ad.a.plexIcon+(i?" "+i:"");var s=[Nd.a.createElement.apply(Nd.a,["path",{d:"M140 476V84l294 182V112h42v336h-42V294L140 476z"}].concat([]))];return t&&s.unshift(Nd.a.createElement("title",null,t)),Nd.a.createElement.apply(Nd.a,["svg",a].concat(s))}FTe.propTypes={"aria-label":vc.a.string,className:vc.a.string,style:vc.a.object};var HTe=FTe;function _Te(e){var t=e["aria-label"],i=e.className,n=e.style,a={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-player-pause-560"};a["aria-hidden"]=!t,a.style=n,a.className=Ad.a.plexIcon+(i?" "+i:"");var s=[Nd.a.createElement.apply(Nd.a,["path",{d:"M112 112h126v336H112V112zm210 0h126v336H322V112z"}].concat([]))];return t&&s.unshift(Nd.a.createElement("title",null,t)),Nd.a.createElement.apply(Nd.a,["svg",a].concat(s))}_Te.propTypes={"aria-label":vc.a.string,className:vc.a.string,style:vc.a.object};var WTe=_Te;function QTe(e){var t=e["aria-label"],i=e.className,n=e.style,a={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-player-play-560"};a["aria-hidden"]=!t,a.style=n,a.className=Ad.a.plexIcon+(i?" "+i:"");var s=[Nd.a.createElement.apply(Nd.a,["path",{d:"M168 476V84l336 196z"}].concat([]))];return t&&s.unshift(Nd.a.createElement("title",null,t)),Nd.a.createElement.apply(Nd.a,["svg",a].concat(s))}QTe.propTypes={"aria-label":vc.a.string,className:vc.a.string,style:vc.a.object};var GTe=QTe;function KTe(e){var t=e["aria-label"],i=e.className,n=e.style,a={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-player-previous-track-560"};a["aria-hidden"]=!t,a.style=n,a.className=Ad.a.plexIcon+(i?" "+i:"");var s=[Nd.a.createElement.apply(Nd.a,["path",{d:"M420 84v392L126 294v154H84V112h42v154z"}].concat([]))];return t&&s.unshift(Nd.a.createElement("title",null,t)),Nd.a.createElement.apply(Nd.a,["svg",a].concat(s))}KTe.propTypes={"aria-label":vc.a.string,className:vc.a.string,style:vc.a.object};var YTe=KTe;function qTe(e){var t=e["aria-label"],i=e.className,n=e.style,a={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-player-queue-560"};a["aria-hidden"]=!t,a.style=n,a.className=Ad.a.plexIcon+(i?" "+i:"");var s=[Nd.a.createElement.apply(Nd.a,["path",{d:"M157.8 504H532v-44.8H157.8V504zm0-134.4H532v-44.8H157.8v44.8zm111.734-134.4H532v-44.8H269.534v44.8zM157.8 100.8H532V56H157.8v44.8zM196 210L28 336V84l168 126z"}].concat([]))];return t&&s.unshift(Nd.a.createElement("title",null,t)),Nd.a.createElement.apply(Nd.a,["svg",a].concat(s))}qTe.propTypes={"aria-label":vc.a.string,className:vc.a.string,style:vc.a.object};var ZTe=qTe;function JTe(e){var t=e["aria-label"],i=e.className,n=e.style,a={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-player-repeat-560"};a["aria-hidden"]=!t,a.style=n,a.className=Ad.a.plexIcon+(i?" "+i:"");var s=[Nd.a.createElement.apply(Nd.a,["path",{d:"M168 118.906V42l112 98-112 98v-77.014l-34.983.014a64.547 64.547 0 0 0-7.861.483 62.458 62.458 0 0 0-25.438 9.029 63.5 63.5 0 0 0-20.004 19.884 62.762 62.762 0 0 0-6.156 12.684 62.5 62.5 0 0 0-3.025 12.682 64.449 64.449 0 0 0-.532 7.828c-.178 37.606-.178 103.214 0 140.82.021 2.617.193 5.232.532 7.828a62.525 62.525 0 0 0 3.025 12.683 62.776 62.776 0 0 0 6.36 13.003 63.522 63.522 0 0 0 20.61 20.062 62.48 62.48 0 0 0 24.234 8.481c2.663.348 5.347.52 8.033.533 98.204.154 196.411.463 294.614-.001a64.451 64.451 0 0 0 7.829-.532 62.433 62.433 0 0 0 24.397-8.58 63.53 63.53 0 0 0 20.752-20.444 62.693 62.693 0 0 0 6.118-12.704 62.495 62.495 0 0 0 2.962-12.501c.348-2.663.52-5.347.533-8.033.059-37.538.176-103.077-.001-140.614a64.451 64.451 0 0 0-.532-7.829 62.449 62.449 0 0 0-8.481-24.235 63.513 63.513 0 0 0-20.062-20.609 62.497 62.497 0 0 0-25.883-9.411 64.755 64.755 0 0 0-7.836-.507L294 160.953v-42.094l133.017.141a105.444 105.444 0 0 1 12.669.762 104.583 104.583 0 0 1 20.674 4.661 104.584 104.584 0 0 1 17.251 7.576 105.23 105.23 0 0 1 16.176 10.997 105.685 105.685 0 0 1 19.724 21.511 104.87 104.87 0 0 1 12.754 25.218 104.544 104.544 0 0 1 4.973 21.588 105.444 105.444 0 0 1 .761 12.349c.06 37.672.177 103.343-.001 141.014a105.465 105.465 0 0 1-.884 12.995 104.49 104.49 0 0 1-4.955 20.909 104.874 104.874 0 0 1-11.412 23.079 105.654 105.654 0 0 1-17.856 20.68 105.357 105.357 0 0 1-17.622 12.728 104.635 104.635 0 0 1-18.602 8.406 104.54 104.54 0 0 1-20.98 4.765 105.8 105.8 0 0 1-12.011.76c-98.449.465-196.903.465-295.352 0a105.465 105.465 0 0 1-12.995-.884 104.49 104.49 0 0 1-20.909-4.955 104.833 104.833 0 0 1-22.285-10.894 105.653 105.653 0 0 1-19.99-16.746 105.468 105.468 0 0 1-13.412-17.882 104.718 104.718 0 0 1-9.207-19.971 104.576 104.576 0 0 1-4.724-20.651 105.763 105.763 0 0 1-.8-12.339c-.179-37.784-.179-103.568 0-141.352a105.666 105.666 0 0 1 .841-12.668 104.568 104.568 0 0 1 4.998-21.236 104.742 104.742 0 0 1 10.384-21.485 105.542 105.542 0 0 1 34.323-33.711 104.784 104.784 0 0 1 20.481-9.594 104.592 104.592 0 0 1 29.257-5.526 113.23 113.23 0 0 1 4.038-.102l35.676-.096"}].concat([]))];return t&&s.unshift(Nd.a.createElement("title",null,t)),Nd.a.createElement.apply(Nd.a,["svg",a].concat(s))}JTe.propTypes={"aria-label":vc.a.string,className:vc.a.string,style:vc.a.object};var XTe=JTe;function $Te(e){var t=e["aria-label"],i=e.className,n=e.style,a={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-player-repeat-one-560"};a["aria-hidden"]=!t,a.style=n,a.className=Ad.a.plexIcon+(i?" "+i:"");var s=[Nd.a.createElement.apply(Nd.a,["path",{d:"M168 118.906V42l112 98-112 98v-77.014l-34.983.014a64.547 64.547 0 0 0-7.861.483 62.458 62.458 0 0 0-25.438 9.029 63.5 63.5 0 0 0-20.004 19.884 62.762 62.762 0 0 0-6.156 12.684 62.5 62.5 0 0 0-3.025 12.682 64.449 64.449 0 0 0-.532 7.828c-.178 37.606-.178 103.214 0 140.82.021 2.617.193 5.232.532 7.828a62.525 62.525 0 0 0 3.025 12.683 62.776 62.776 0 0 0 6.36 13.003 63.522 63.522 0 0 0 20.61 20.062 62.48 62.48 0 0 0 24.234 8.481c2.663.348 5.347.52 8.033.533 98.204.154 196.411.463 294.614-.001a64.451 64.451 0 0 0 7.829-.532 62.433 62.433 0 0 0 24.397-8.58 63.53 63.53 0 0 0 20.752-20.444 62.693 62.693 0 0 0 6.118-12.704 62.495 62.495 0 0 0 2.962-12.501c.348-2.663.52-5.347.533-8.033.059-37.538.176-103.077-.001-140.614a64.451 64.451 0 0 0-.532-7.829 62.449 62.449 0 0 0-8.481-24.235 63.513 63.513 0 0 0-20.062-20.609 62.497 62.497 0 0 0-25.883-9.411 64.755 64.755 0 0 0-7.836-.507L294 160.953v-42.094l133.017.141a105.444 105.444 0 0 1 12.669.762 104.583 104.583 0 0 1 20.674 4.661 104.584 104.584 0 0 1 17.251 7.576 105.23 105.23 0 0 1 16.176 10.997 105.685 105.685 0 0 1 19.724 21.511 104.87 104.87 0 0 1 12.754 25.218 104.544 104.544 0 0 1 4.973 21.588 105.444 105.444 0 0 1 .761 12.349c.06 37.672.177 103.343-.001 141.014a105.465 105.465 0 0 1-.884 12.995 104.49 104.49 0 0 1-4.955 20.909 104.874 104.874 0 0 1-11.412 23.079 105.654 105.654 0 0 1-17.856 20.68 105.357 105.357 0 0 1-17.622 12.728 104.635 104.635 0 0 1-18.602 8.406 104.54 104.54 0 0 1-20.98 4.765 105.8 105.8 0 0 1-12.011.76c-98.449.465-196.903.465-295.352 0a105.465 105.465 0 0 1-12.995-.884 104.49 104.49 0 0 1-20.909-4.955 104.833 104.833 0 0 1-22.285-10.894 105.653 105.653 0 0 1-19.99-16.746 105.468 105.468 0 0 1-13.412-17.882 104.718 104.718 0 0 1-9.207-19.971 104.576 104.576 0 0 1-4.724-20.651 105.763 105.763 0 0 1-.8-12.339c-.179-37.784-.179-103.568 0-141.352a105.666 105.666 0 0 1 .841-12.668 104.568 104.568 0 0 1 4.998-21.236 104.742 104.742 0 0 1 10.384-21.485 105.542 105.542 0 0 1 34.323-33.711 104.784 104.784 0 0 1 20.481-9.594 104.592 104.592 0 0 1 29.257-5.526 113.23 113.23 0 0 1 4.038-.102l35.676-.096M392.049 385h-42V268.548L326.5 289.5 300 259l64-56 28.049.009V385"}].concat([]))];return t&&s.unshift(Nd.a.createElement("title",null,t)),Nd.a.createElement.apply(Nd.a,["svg",a].concat(s))}$Te.propTypes={"aria-label":vc.a.string,className:vc.a.string,style:vc.a.object};var eEe=$Te;function tEe(e){var t=e["aria-label"],i=e.className,n=e.style,a={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-player-settings-560"};a["aria-hidden"]=!t,a.style=n,a.className=Ad.a.plexIcon+(i?" "+i:"");var s=[Nd.a.createElement.apply(Nd.a,["path",{d:"M126 213.205A69.97 69.97 0 0 0 105 210a69.97 69.97 0 0 0-21 3.205V56h42v157.205zm0 133.59V504H84V346.795A69.97 69.97 0 0 0 105 350a69.97 69.97 0 0 0 21-3.205zm175-49.59A69.97 69.97 0 0 0 280 294a69.97 69.97 0 0 0-21 3.205V56h42v241.205zm0 133.59V504h-42v-73.205A69.97 69.97 0 0 0 280 434a69.97 69.97 0 0 0 21-3.205zm175-301.59A69.97 69.97 0 0 0 455 126a69.97 69.97 0 0 0-21 3.205V56h42v73.205zm0 133.59V504h-42V262.795A69.97 69.97 0 0 0 455 266a69.97 69.97 0 0 0 21-3.205zM280 420c-30.928 0-56-25.072-56-56s25.072-56 56-56 56 25.072 56 56-25.072 56-56 56zm175-168c-30.928 0-56-25.072-56-56s25.072-56 56-56 56 25.072 56 56-25.072 56-56 56zm-350 84c-30.928 0-56-25.072-56-56s25.072-56 56-56 56 25.072 56 56-25.072 56-56 56z"}].concat([]))];return t&&s.unshift(Nd.a.createElement("title",null,t)),Nd.a.createElement.apply(Nd.a,["svg",a].concat(s))}tEe.propTypes={"aria-label":vc.a.string,className:vc.a.string,style:vc.a.object};var iEe=tEe;function nEe(e){var t=e["aria-label"],i=e.className,n=e.style,a={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-player-shuffle-560"};a["aria-hidden"]=!t,a.style=n,a.className=Ad.a.plexIcon+(i?" "+i:"");var s=[Nd.a.createElement.apply(Nd.a,["path",{d:"M448 441h-44.423c-65.833 0-103.843-28.598-141.383-96.109 5.44-10.89 10.99-22.734 16.727-35.594a12267 12267 0 0 1 5.622-12.617C320.788 371.608 349.962 399 403.577 399H448v-77l112 98-112 98v-77zm0-322V42l112 98-112 98v-77h-44.423c-59.257 0-88.657 33.459-130.747 127.573-1.427 3.191-3.342 7.493-6.695 15.02C221.676 403.25 190.662 441 123.577 441H28v-42h95.577c43.602 0 66.367-27.71 104.202-112.518a10981.32 10981.32 0 0 1 6.711-15.055C282.89 163.202 321.73 119 403.577 119H448zm-324.423 0c56.809 0 87.751 27.071 122.897 95.883-7.743 14.34-15.519 30.301-23.497 48.005C187.946 186.377 165.303 161 123.577 161H28v-42h95.577z"}].concat([]))];return t&&s.unshift(Nd.a.createElement("title",null,t)),Nd.a.createElement.apply(Nd.a,["svg",a].concat(s))}nEe.propTypes={"aria-label":vc.a.string,className:vc.a.string,style:vc.a.object};var aEe=nEe;function sEe(e){var t=e["aria-label"],i=e.className,n=e.style,a={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-player-skip-back-560"};a["aria-hidden"]=!t,a.style=n,a.className=Ad.a.plexIcon+(i?" "+i:"");var s=[Nd.a.createElement.apply(Nd.a,["path",{d:"M279.931 381.653c0 29.922-4.903 52.07-14.707 66.445-9.805 14.375-24.903 21.563-45.293 21.563-19.766 0-34.668-7.422-44.707-22.266-10.039-14.844-15.059-36.758-15.059-65.742 0-30.235 4.883-52.52 14.648-66.856 9.766-14.336 24.805-21.504 45.118-21.504 19.765 0 34.707 7.5 44.824 22.5 10.117 15 15.176 36.953 15.176 65.86zm-83.789 0c0 21.015 1.816 36.074 5.449 45.175 3.633 9.102 9.746 13.653 18.34 13.653 8.437 0 14.531-4.61 18.281-13.828 3.75-9.219 5.625-24.219 5.625-45 0-21.016-1.895-36.114-5.684-45.293-3.789-9.18-9.863-13.77-18.222-13.77-8.516 0-14.61 4.59-18.282 13.77-3.671 9.179-5.507 24.277-5.507 45.293zm-56.275-262.747l259.677.096a105.788 105.788 0 0 1 12.339.8c7.126.884 14.16 2.504 20.955 4.828a104.757 104.757 0 0 1 20.481 9.594 105.509 105.509 0 0 1 34.324 33.711 104.845 104.845 0 0 1 10.384 21.485 104.566 104.566 0 0 1 5.721 29.53c.069 1.457.106 2.915.117 4.374.18 37.784.18 103.568 0 141.352a105.283 105.283 0 0 1-.8 12.339 104.576 104.576 0 0 1-4.724 20.651 104.718 104.718 0 0 1-9.207 19.971 105.468 105.468 0 0 1-13.412 17.882 105.621 105.621 0 0 1-19.99 16.746 104.839 104.839 0 0 1-22.285 10.894 104.524 104.524 0 0 1-29.196 5.705c-1.568.08-3.137.121-4.707.134-4.868.023-35.544 0-35.544 0v-41.999s30.463.008 35.073.001a64.415 64.415 0 0 0 8.033-.533 62.47 62.47 0 0 0 24.234-8.481 63.51 63.51 0 0 0 20.61-20.062 62.772 62.772 0 0 0 6.359-13.003 62.527 62.527 0 0 0 3.026-12.683 64.65 64.65 0 0 0 .531-7.828c.179-37.606.179-103.214 0-140.82a64.65 64.65 0 0 0-.531-7.828 62.502 62.502 0 0 0-9.181-25.366 63.545 63.545 0 0 0-20.004-19.884 62.443 62.443 0 0 0-25.439-9.029 64.531 64.531 0 0 0-7.86-.483l-258.984-.014V238l-112-98 112-98v76.906zm-26.225 348.41H77.431v-99.14l.351-16.289.586-17.812c-6.015 6.015-10.195 9.96-12.539 11.835l-19.687 15.821-17.461-21.797 55.195-43.945h29.766v171.328z"}].concat([]))];return t&&s.unshift(Nd.a.createElement("title",null,t)),Nd.a.createElement.apply(Nd.a,["svg",a].concat(s))}sEe.propTypes={"aria-label":vc.a.string,className:vc.a.string,style:vc.a.object};var rEe=sEe;function oEe(e){var t=e["aria-label"],i=e.className,n=e.style,a={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-player-skip-forward-560"};a["aria-hidden"]=!t,a.style=n,a.className=Ad.a.plexIcon+(i?" "+i:"");var s=[Nd.a.createElement.apply(Nd.a,["path",{d:"M532.03 381.68c0 29.922-4.903 52.07-14.707 66.445-9.805 14.375-24.903 21.563-45.293 21.563-19.766 0-34.668-7.422-44.707-22.266-10.039-14.844-15.059-36.758-15.059-65.742 0-30.235 4.883-52.52 14.649-66.856 9.765-14.336 24.804-21.504 45.117-21.504 19.765 0 34.707 7.5 44.824 22.5 10.117 15 15.176 36.953 15.176 65.86zm-83.789 0c0 21.015 1.816 36.074 5.449 45.175 3.633 9.102 9.746 13.653 18.34 13.653 8.437 0 14.531-4.61 18.281-13.828 3.75-9.219 5.625-24.219 5.625-45 0-21.016-1.895-36.114-5.684-45.293-3.789-9.18-9.863-13.77-18.222-13.77-8.516 0-14.61 4.59-18.282 13.77-3.671 9.179-5.507 24.277-5.507 45.293zM420 118.906V42l112 98-112 98v-77.014L161.017 161a64.547 64.547 0 0 0-7.861.483 62.458 62.458 0 0 0-25.438 9.029 63.51 63.51 0 0 0-20.004 19.884 62.488 62.488 0 0 0-9.181 25.366A64.468 64.468 0 0 0 98 223.59c-.178 37.606-.178 103.214 0 140.82.021 2.617.193 5.232.532 7.828a62.506 62.506 0 0 0 3.025 12.683 62.769 62.769 0 0 0 6.36 13.003 63.538 63.538 0 0 0 20.61 20.062 62.48 62.48 0 0 0 24.234 8.481c2.663.348 5.347.52 8.033.533 1.716.002 35.205-.001 35.205-.001v41.999s-34.008.008-35.676 0a105.32 105.32 0 0 1-12.995-.884 104.515 104.515 0 0 1-20.909-4.955 104.85 104.85 0 0 1-22.285-10.894 105.64 105.64 0 0 1-19.99-16.746 105.467 105.467 0 0 1-13.412-17.882 104.73 104.73 0 0 1-9.207-19.971 104.556 104.556 0 0 1-5.422-28.951 110.81 110.81 0 0 1-.102-4.039c-.18-37.784-.18-103.568 0-141.352a105.427 105.427 0 0 1 .841-12.668 104.553 104.553 0 0 1 4.998-21.236 104.783 104.783 0 0 1 10.384-21.485 105.55 105.55 0 0 1 34.324-33.711 104.767 104.767 0 0 1 20.48-9.594 104.59 104.59 0 0 1 29.257-5.526 113.23 113.23 0 0 1 4.038-.102L420 118.906zm-40.305 215.43c0 10.703-3.242 19.805-9.726 27.305-6.485 7.5-15.586 12.656-27.305 15.468v.703c13.828 1.719 24.297 5.918 31.406 12.598 7.11 6.68 10.664 15.684 10.664 27.012 0 16.484-5.976 29.316-17.929 38.496-11.953 9.18-29.024 13.77-51.211 13.77-18.594 0-35.078-3.086-49.453-9.258v-30.821c6.64 3.36 13.945 6.094 21.914 8.203 7.968 2.11 15.859 3.165 23.672 3.165 11.953 0 20.781-2.032 26.484-6.094 5.703-4.063 8.555-10.586 8.555-19.571 0-8.046-3.282-13.75-9.844-17.109-6.563-3.359-17.031-5.039-31.406-5.039h-13.008v-27.773h13.242c13.281 0 22.988-1.739 29.121-5.215 6.133-3.477 9.199-9.434 9.199-17.871 0-12.969-8.125-19.453-24.375-19.453-5.625 0-11.347.937-17.168 2.812-5.82 1.875-12.285 5.117-19.394 9.727l-16.758-24.961c15.625-11.25 34.258-16.875 55.898-16.875 17.735 0 31.739 3.593 42.012 10.781 10.274 7.187 15.41 17.187 15.41 30z"}].concat([]))];return t&&s.unshift(Nd.a.createElement("title",null,t)),Nd.a.createElement.apply(Nd.a,["svg",a].concat(s))}oEe.propTypes={"aria-label":vc.a.string,className:vc.a.string,style:vc.a.object};var lEe=oEe;function cEe(e){var t=e["aria-label"],i=e.className,n=e.style,a={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-player-stop-560"};a["aria-hidden"]=!t,a.style=n,a.className=Ad.a.plexIcon+(i?" "+i:"");var s=[Nd.a.createElement.apply(Nd.a,["path",{d:"M84 84h392v392H84V84zm196 158.1l-84-84-37.9 37.9 84 84-84 84 37.9 37.9 84-84 84 84 37.9-37.9-84-84 84-84-37.9-37.9-84 84z"}].concat([]))];return t&&s.unshift(Nd.a.createElement("title",null,t)),Nd.a.createElement.apply(Nd.a,["svg",a].concat(s))}cEe.propTypes={"aria-label":vc.a.string,className:vc.a.string,style:vc.a.object};var dEe=cEe;function uEe(e){var t=e["aria-label"],i=e.className,n=e.style,a={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-player-thumbnails-560"};a["aria-hidden"]=!t,a.style=n,a.className=Ad.a.plexIcon+(i?" "+i:"");var s=[Nd.a.createElement.apply(Nd.a,["path",{d:"M392 392h140v112H392V392zm-182 0h140v112H210V392zm-182 0h140v112H28V392zm0-42V56h504v294h-42V98H70v252H28z"}].concat([]))];return t&&s.unshift(Nd.a.createElement("title",null,t)),Nd.a.createElement.apply(Nd.a,["svg",a].concat(s))}uEe.propTypes={"aria-label":vc.a.string,className:vc.a.string,style:vc.a.object};var pEe=uEe,hEe=i("FzNv"),mEe=i.n(hEe);const{Fragment:gEe}=Nd.a;function vEe(e){const{className:t,durationSeconds:i,hasLiveTVProtocol:n,isMiniPlayer:a,isMusic:s,isVideo:r,isGame:o,metadataItemEntityID:l,playerType:c,positionSeconds:d,providerEntityID:u,serverEntityID:p,volume:h,activateChaptersButton:m,activateLyricsButton:g,activatePhotoInformationButton:v,activatePhotoStripButton:y,activateQueueButton:f,activateRepeatButton:b,activateRepeatOneButton:I,activateSettingsButton:S,activateWatchTogetherParticipantsButton:C,activateShuffleButton:M,disableCloseButton:D,disableLyricsButton:P,disableMenuButton:O,disableNextButton:j,disablePauseButton:w,disablePlayButton:T,disablePreviousButton:E,disableQueueButton:N,disableRepeatButton:x,disableRepeatOneButton:A,disableSettingsButton:L,disableShuffleButton:k,disableSkipBackButton:R,disableSkipForwardButton:z,showChaptersButton:U,showCloseButton:V,showDuration:B,showEditButton:F,showFavoriteButton:H,showLyricsButton:_,showMenuButton:W,showNextButton:Q,showPauseButton:G,showPhotoInformationButton:K,showPhotoStripButton:Y,showPlayButton:q,showPreviousButton:Z,showQueueButton:J,showRecordButton:X,showRepeatButton:$,showRepeatOneButton:ee,showSettingsButton:te,showWatchTogetherParticipantsButton:ie,showShuffleButton:ne,showSkipBackButton:ae,showSkipForwardButton:se,showUnfavoriteButton:re,showVolume:oe,onChaptersPress:le,onClosePress:ce,onControlsMenuChange:de,onEditPress:ue,onFavoritePress:pe,onLyricsPress:he,onNextPress:me,onPausePress:ge,onPhotoInformationPress:ve,onPhotoStripPress:ye,onPlayPress:fe,onPreviousPress:be,onQueuePress:Ie,onRepeatOnePress:Se,onRepeatPress:Ce,onSettingsPress:Me,onWatchTogetherParticipantsPress:De,onShufflePress:Pe,onSkipBackPress:Oe,onSkipForwardPress:je,onUnfavoritePress:we,onVolumeChange:Te,onVolumeIconPress:Ee}=e;let Ne;Ne=c===V8.b?wTe:n?kPe:APe;const xe=oe&&null!=h,Ae=n?null:mEe.a.balanceLeft,Le=r||o?mEe.a.hasLandscapePoster:mEe.a.hasSquarePoster;return Vu()(gEe,{},void 0,Vu()("div",{className:(t||"")+" "+(a&&Le||""),"data-qa-id":"playerControlsContainer"},void 0,Vu()("div",{className:mEe.a.buttonGroupLeft},void 0,a?Vu()(Qwe,{playerType:c,isVideo:r,isMusic:s}):null,Vu()(Ne,{metadataItemEntityID:l,playerType:c,positionSeconds:d,durationSeconds:i,showDuration:B,showStarRating:s})),Vu()("div",{className:(mEe.a.buttonGroupCenter||"")+" "+(Ae||"")},void 0,X?Vu()(Dje,{playerType:c,"data-qa-id":"recordButton",serverEntityID:p,providerEntityID:u,positionSeconds:d}):null,Z?Vu()(pDe,{iconComponent:YTe,"data-qa-id":"previousButton",isDisabled:E,title:Object(Ze.default)("Previous"),onPress:be}):null,ae?Vu()(pDe,{iconComponent:rEe,"data-qa-id":"skipBackButton",isDisabled:R,title:Object(Ze.default)("Skip Back 10 Seconds"),onPress:Oe}):null,q?Vu()(pDe,{iconComponent:GTe,"data-qa-id":"resumeButton",isPrimary:!0,isDisabled:T,title:Object(Ze.default)("Play"),onPress:fe}):null,G?Vu()(pDe,{iconComponent:WTe,"data-qa-id":"pauseButton",isPrimary:!0,isDisabled:w,title:Object(Ze.default)("Pause"),onPress:ge}):null,se?Vu()(pDe,{iconComponent:lEe,"data-qa-id":"skipForwardButton",isDisabled:z,title:Object(Ze.default)("Skip Forward 30 Seconds"),onPress:je}):null,Q?Vu()(pDe,{iconComponent:HTe,"data-qa-id":"nextButton",isDisabled:j,title:Object(Ze.default)("Next"),onPress:me}):null,V?Vu()(pDe,{"data-qa-id":"closeButton",isDisabled:D,iconComponent:dEe,title:Object(Ze.default)("Close Player"),onPress:ce}):null),Vu()("div",{className:mEe.a.buttonGroupRight},void 0,W?Vu()(Xwe,{serverEntityID:p,"data-qa-id":"moreButton",providerEntityID:u,metadataItemEntityID:l,isDisabled:O,onMenuChange:de}):null,$?Vu()(pDe,{iconComponent:XTe,"data-qa-id":"repeatButton",isDisabled:x,isActive:b,title:Object(Ze.default)("Repeat"),onPress:Ce}):null,ee?Vu()(pDe,{iconComponent:eEe,"data-qa-id":"repeatOneButton",isDisabled:A,isActive:I,title:Object(Ze.default)("Repeat One"),onPress:Se}):null,ne?Vu()(pDe,{iconComponent:aEe,"data-qa-id":"shuffleButton",isDisabled:k,isActive:M,title:Object(Ze.default)("Shuffle"),onPress:Pe}):null,F?Vu()(pDe,{iconComponent:xTe,"data-qa-id":"playerEditButton",title:Object(Ze.default)("Edit"),onPress:ue}):null,H?Vu()(pDe,{iconComponent:LTe,"data-qa-id":"playerFavoriteButton",title:Object(Ze.default)("Add to Favorites"),onPress:pe}):null,re?Vu()(pDe,{iconComponent:RTe,"data-qa-id":"playerUnfavoriteButton",title:Object(Ze.default)("Remove from Favorites"),onPress:we}):null,K?Vu()(pDe,{iconComponent:UTe,"data-qa-id":"playerPhotoInfoButton",title:Object(Ze.default)("Information"),isActive:v,onPress:ve}):null,Y?Vu()(pDe,{iconComponent:pEe,"data-qa-id":"playerPhotoStripButton",isActive:y,title:Object(Ze.default)("Show Photo Strip"),onPress:ye}):null,_?Vu()(pDe,{iconComponent:BTe,"data-qa-id":"lyricsButton",isDisabled:P,isSelected:g,title:Object(Ze.default)("Lyrics"),onPress:he}):null,te?Vu()(pDe,{iconComponent:iEe,"data-qa-id":"videoSettingsButton",isDisabled:L,isActive:S,title:Object(Ze.default)("Settings"),onPress:Me}):null,U?Vu()(pDe,{iconComponent:ETe,"data-qa-id":"chaptersButton",isActive:m,title:Object(Ze.default)("Chapters"),onPress:le}):null,J?Vu()(pDe,{iconComponent:ZTe,"data-qa-id":"playQueueButton",isDisabled:N,isActive:f,title:Object(Ze.default)("Play Queue"),onPress:Ie}):null,ie?Vu()(pDe,{iconComponent:dS,"data-qa-id":"watchTogetherParticipantsButton",isActive:C,title:Object(Ze.default)("Participants"),onPress:De}):null,xe?Vu()(pTe,{className:mEe.a.volumeButton,"data-qa-id":"volumeButton",volume:h,onPress:Ee,onVolumeChange:Te}):null)),xe?Vu()(MTe,{className:mEe.a.volumeSlider,volume:h,onVolumeChange:Te}):null)}vEe.defaultProps={className:mEe.a.controls,isMusic:!1,isVideo:!1,isGame:!1,isPhoto:!1};var yEe=vEe;var fEe=Object(Hu.b)((function(){return Object(Wu.a)((e,{isVideo:t})=>t,(e,{isMusic:t})=>t,(e,{isAdVisible:t})=>t,(e,{isWatchTogether:t})=>t,(e,{disableNextButton:t})=>t,(e,{disablePreviousButton:t})=>t,Q7(),khe(),zhe(),K7(),(e,t,i,n,a,s,r,o,l,c)=>{const{isPostPlayVisible:d,positionSeconds:u,durationSeconds:p,controllable:h}=r,m=p-u,g=o.subtype===LC.b,v=o.subtype===LC.c,y=l&&l.chapters&&l.chapters.length>0,f=!i&&(e&&!g&&!d||v),b=!!h&&(!h.playbackSpeed&&t);return{positionSeconds:u,durationSeconds:p,hasLiveTVProtocol:c.protocols.includes("livetv"),disableLyricsButton:!(o.lyricsStreams&&o.lyricsStreams.length||o.hasPremiumLyrics),disableNextButton:i||a,disablePreviousButton:i||s,disableQueueButton:i,disableSettingsButton:b,disableSkipForwardButton:m<=Yge.b,showChaptersButton:e&&!d&&y,showDuration:!d,showLyricsButton:t&&!v,showMenuButton:!d&&!g,showQueueButton:!n,showSettingsButton:!d&&!g,showWatchTogetherParticipantsButton:n,showShuffleButton:!g&&!n,showSkipBackButton:f,showSkipForwardButton:f}})}))(yEe);var bEe=i("b+Z3"),IEe=i.n(bEe);const{Component:SEe}=Nd.a,CEe=parseInt(BV.seekBarTooltipSmallWidth,10),MEe=parseInt(BV.seekBarTooltipLargeWidth,10),DEe={containerWidth:99,containerHeight:99};class PEe extends SEe{constructor(...e){super(...e),this._formattedTime=void 0,this._imageUrl=void 0}render(){const{tooltipClassName:e,serverEntityID:t,providerEntityID:i,size:n,position:a,hoverValue:s,mediaItems:r,mediaIndex:o,partIndex:l,formatValue:c,isVisible:d}=this.props;null!=s&&(this._formattedTime=c(s));const u=r&&r[o],p=function(e,t){if(!e||null==t)return;const i=tS(e);return null!=i?"/library/parts/"+e.id+"/indexes/"+i+"/"+Math.floor(t):void 0}(u&&u.Part[l],s);p&&(this._imageUrl=p);const{containerWidth:h,containerHeight:m}=function(e){const t=Object(oM.a)(e);if(null==t||null==t.width||null==t.height)return DEe;const{width:i,height:n}=t;let a=99,s=99;return i>n?a=Math.round(a*(i/n)):s=Math.round(s*(n/i)),{containerWidth:a,containerHeight:s}}(u),g=function(e,t,i){let n=e.x-t/2;return n<0?n=0:n+t>window.innerWidth&&(n=window.innerWidth-t),{left:n,top:e.y-i-10,height:i}}(a,h,m),v=function(e,t,i){const n=i===_h?MEe:CEe;let a=t/2-n/2;const s=e.x-t/2;if(s<0){const t=4,i=e.x-n/2;a=Math.max(i,t)}else if(s+t>window.innerWidth){const i=t-n-4,s=t-(window.innerWidth-e.x)-n/2;a=Math.min(s,i)}return{left:a}}(a,h,n);return Vu()("div",{className:d?IEe.a.visibleContainer:IEe.a.hiddenContainer,style:g},void 0,this._imageUrl?Vu()(tC,{className:IEe.a.thumbnail,serverEntityID:t,providerEntityID:i,url:this._imageUrl,width:h,height:m}):null,Vu()("div",{className:(e||"")+" "+(IEe.a[n]||""),style:v},void 0,this._formattedTime))}}PEe.defaultProps={tooltipClassName:IEe.a.tooltip,size:Fh,formatValue:BC};var OEe=PEe;var jEe=Object(Hu.b)((function(){return Object(Wu.a)($K(),({Media:e}={})=>e&&e.length?{mediaItems:e}:{})}))(OEe),wEe=i("Dmct"),TEe=i.n(wEe);const EEe=Nd.a.createElement,{Component:NEe}=Nd.a;class xEe extends NEe{constructor(e,t){super(e,t),this.onChange=({positionValue:e})=>{this.props.onSeek&&this.props.onSeek({playerType:this.props.playerType,positionSeconds:Math.floor(e/1e3)})},this.onMove=({positionValue:e,position:t})=>{this.setState({hoverValue:e,portalPosition:t})},this.onMouseLeave=()=>{this.setState({hoverValue:null})},this.state={hoverValue:null,portalPosition:{x:0,y:0}}}render(){const e=this.props,{className:t,trackClassName:i,bufferClassName:n,fillClassName:a,canSeek:s,positionMilliseconds:r,offsetMilliseconds:o,durationMilliseconds:l,bufferStartMilliseconds:c,bufferEndMilliseconds:d,showBuffer:u,noFillTransition:p,isDisabled:h,onSeekEnd:m,onSeekStart:g}=e,v=Xe()(e,["className","trackClassName","bufferClassName","fillClassName","canSeek","positionMilliseconds","offsetMilliseconds","durationMilliseconds","bufferStartMilliseconds","bufferEndMilliseconds","showBuffer","noFillTransition","isDisabled","onSeekEnd","onSeekStart"]);if(!s)return null;const{hoverValue:y,portalPosition:f}=this.state;return Vu()("div",{onMouseLeave:this.onMouseLeave},void 0,Vu()(nF,{className:t,trackClassName:i,secondaryFillClassName:(n||"")+" "+(p&&TEe.a.noFillTransition||""),fillClassName:(a||"")+" "+(p&&TEe.a.noFillTransition||""),value:r,min:o,max:l,secondaryMin:c,secondaryMax:d,showFill:!0,showSecondaryFill:u,autoHideThumb:!0,isDisabled:h,onChange:this.onChange,onMove:h?null:this.onMove,onDragStart:g,onDragComplete:m}),Vu()(pv,{},void 0,EEe(jEe,tp()({},v,{position:f,hoverValue:y,isVisible:null!=y}))))}}xEe.defaultProps={className:TEe.a.seekBar,trackClassName:TEe.a.seekBarTrack,fillClassName:TEe.a.seekBarFill,bufferClassName:TEe.a.seekBarBuffer,canSeek:!0,showBuffer:!1,noFillTransition:eu(),isDisabled:!1};var AEe=xEe;const LEe={onSeek:Boe.w},kEe=Mfe(AEe);var REe=Object(Hu.b)((function(){return Object(Wu.a)(Q7(),khe(),(e,t)=>{const{serverEntityID:i,providerEntityID:n,positionSeconds:a,durationSeconds:s,mediaIndex:r,partIndex:o,controllable:l}=e,c={serverEntityID:i,providerEntityID:n,metadataItemEntityID:t.metadataItem,canSeek:!!s,positionSeconds:a,durationMilliseconds:1e3*s,mediaIndex:r,partIndex:o};return l&&!l.seekTo&&(c.canSeek=!1),c})}),LEe)(kEe),zEe=i("VpnA"),UEe=i.n(zEe);const VEe=Nd.a.createElement;var BEe=function(e){const{durationMilliseconds:t}=e;return null!=t?VEe(AEe,tp()({fillClassName:UEe.a.seekBarFill,isDisabled:!0},e)):null};function FEe(){return Object(Wu.a)(G7("seekStartSeconds"),G7("seekEndSeconds"),Bhe(),(e=0,t=0,i)=>{const n=i&&i.captureBuffer;let a=0;return i&&n?(a=n.startedAt,e=n.seekStartSeconds,t=n.seekEndSeconds):i&&(a=i.startedAt),{seekRangeStartedAtSeconds:a,seekStartSeconds:e,seekEndSeconds:t}})}var HEe=Object(Wu.a)(X9,e=>!!e);const _Ee=Nd.a.createElement,{Component:WEe}=Nd.a;class QEe extends WEe{constructor(...e){super(...e),this.formatCurrentTime=void 0,this.formatPlayerTime=e=>{const t=this.props.timeFormat;return Object(DSe.default)(e/1e3,t)},this.onSeek=({positionSeconds:e})=>{const{seekRangeStartedAtSeconds:t,seekStartSeconds:i,seekEndSeconds:n}=this.props,a=t+i,s=t+n;e<a?e=a:e>s&&(e=s),this.props.onSeek({playerType:this.props.playerType,seekPosition:e})}}render(){const e=this.props,{isCloud:t,canSeek:i,currentPosition:n,beginsAt:a,endsAt:s,seekRangeStartedAtSeconds:r,seekStartSeconds:o,seekEndSeconds:l}=e,c=Xe()(e,["isCloud","canSeek","currentPosition","positionMilliseconds","beginsAt","endsAt","durationSeconds","streamStartedAt","timeFormat","seekRangeStartedAtSeconds","seekStartSeconds","seekEndSeconds"]);if(!i&&!t)return _Ee(AEe,tp()({},c,{positionMilliseconds:1,offsetMilliseconds:0,durationMilliseconds:2,showBuffer:!1,canSeek:!0,isDisabled:!0,formatValue:this.formatCurrentTime,size:_h,onSeek:this.onSeek}));const d=1e3*(r?r+o:n),u=1e3*(r?r+l:n),p=1e3*a,h=1e3*(s-1),m=t?p:Math.max(p,d),g=t?h:Math.min(h,u),v=function(e){const{isCloud:t,isRemotePlayer:i,currentPosition:n,positionMilliseconds:a,streamStartedAt:s,lastSeekPosition:r}=e;return!!r||i||t?1e3*n:1e3*s+a}(this.props);return _Ee(AEe,tp()({},c,{positionMilliseconds:v,offsetMilliseconds:p,durationMilliseconds:h,bufferStartMilliseconds:m,bufferEndMilliseconds:Math.max(g,0),showBuffer:!t,canSeek:i||t,isDisabled:!i||t,formatValue:this.formatPlayerTime,size:_h,onSeek:this.onSeek}))}}QEe.defaultProps={beginsAt:0,endsAt:0,streamStartedAt:0,seekRangeStartedAtSeconds:0};var GEe=Mfe(QEe);const KEe=Object(Wu.a)(tSe,e=>e.replace(":mm",":mm:ss"));const YEe={onSeek:fve};var qEe=Object(Hu.b)((function(){return Object(Wu.a)(KEe,HEe,_he(),Whe(),Bhe(),FEe(),Q7(),mge(),(e,t,i={},n={},a,s,r,o)=>{const{beginsAt:l,endsAt:c}=n,{serverEntityID:d,controllable:u,playbackStartTime:p}=r,{isCloud:h}=o,m=c-l,g={serverEntityID:d,metadataItemEntityID:i.entityID,isCloud:h,isRemotePlayer:t,canSeek:!(!m||!a),beginsAt:l,endsAt:c,playbackStartTime:p,durationSeconds:m,timeFormat:e,positionSeconds:r.positionSeconds};return!h&&s&&Object.assign(g,s),u&&!u.seekTo&&(g.canSeek=!1),a&&(g.streamStartedAt=a.startedAt,g.currentPosition=a.currentPosition,g.lastSeekPosition=a.lastSeekPosition),g})}),YEe)(GEe);const ZEe=Nd.a.createElement;var JEe=function(e){const{isAdVisible:t,hasLiveTVProtocol:i,adPositionMilliseconds:n,adDurationMilliseconds:a}=e,s=Xe()(e,["isAdVisible","hasLiveTVProtocol","adPositionMilliseconds","adDurationMilliseconds"]);return t?ZEe(BEe,tp()({},s,{positionMilliseconds:n,durationMilliseconds:a,showBuffer:!1})):i?ZEe(qEe,s):ZEe(REe,tp()({},s,{showBuffer:!0}))};var XEe=Object(Hu.b)((function(){return Object(Wu.a)(K7(),e=>({hasLiveTVProtocol:e.protocols.includes("livetv")}))}))(JEe);var $Ee=Object(Hu.b)((function(){return Object(Wu.a)(ZS,Fhe(),FEe(),G7("isPaused"),(e,t,i,n)=>{const a=jt.k(e.identifier,jt.b),{disablePreviousButton:s,disableSkipForwardButton:r,disableNextButton:o}=function(e,t){const{seekRangeStartedAtSeconds:i,seekStartSeconds:n,seekEndSeconds:a}=t,s=e-i;return{disablePreviousButton:s<=Yge.a||s-n<=Yge.a,disableSkipForwardButton:a-s<=15,disableNextButton:a-s<=15}}(t,i);return{showRecordButton:!!e.features.subscribe,showRepeatButton:!1,showSettingsButton:!0,showPauseButton:!n&&!a,showPreviousButton:!a,showSkipBackButton:!a,showSkipForwardButton:!a,showNextButton:!a,disablePreviousButton:s,disableSkipForwardButton:r,disableNextButton:o}})}),(function(e,{playerType:t}){const i={playerType:t};return{onPreviousPress(t){e(gve(i))},onSkipBackPress(t){e(vve(i))},onSkipForwardPress(t){e(yve(i))},onNextPress(t){e(mve(i))}}}))(yEe);function eNe(e){var t=e["aria-label"],i=e.className,n=e.style,a={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-player-guide-560"};a["aria-hidden"]=!t,a.style=n,a.className=Ad.a.plexIcon+(i?" "+i:"");var s=[Nd.a.createElement.apply(Nd.a,["path",{d:"M28 42h112v112H28V42zm0 182h112v112H28V224zm0 182h112v112H28V406zM210 77h322v44.8H210V77zm0 182h322v44.8H210V259zm0 182h322v44.8H210V441z"}].concat([]))];return t&&s.unshift(Nd.a.createElement("title",null,t)),Nd.a.createElement.apply(Nd.a,["svg",a].concat(s))}eNe.propTypes={"aria-label":vc.a.string,className:vc.a.string,style:vc.a.object};var tNe=eNe,iNe=i("VUbF"),nNe=i.n(iNe);var aNe=function(e){const{channelTitle:t,isAlsoAiringVisible:i,onPress:n}=e;return Vu()(zp,{"data-qa-id":"channelsList",className:i?nNe.a.isActive:void 0,onPress:n},void 0,Vu()(tNe,{className:nNe.a.icon}),t)};var sNe=Object(Hu.b)((function(){return Object(Wu.a)(Q7(),Whe(),Bhe(),(e,t={},i)=>{const n=t.channelShortTitle||t.channelTitle||i&&i.channelIdentifier||Object(Ze.default)("Unknown");return{isAlsoAiringVisible:e.isAlsoAiringVisible,positionSeconds:e.positionSeconds,channelTitle:n}})}),(function(e,t){const i={playerType:t.playerType};return{onPress(t){e(Sve(i))}}}))(aNe);const rNe=Nd.a.createElement;var oNe=function(e){const{type:t,isUnknownAiring:i}=e,n=Xe()(e,["type","isUnknownAiring"]);return i?Object(Ze.default)("Unknown Airing"):t===Qt.f?rNe(Sce,n):rNe(QSe,n)};const lNe=Nd.a.createElement,{useEffect:cNe}=Nd.a;const dNe={dispatchInitMetadataList:yIe,dispatchPopulateChannelPrograms:DIe,dispatchResetStartTime:bIe,dispatchSetViewportSize:CIe};var uNe=Object(Hu.b)((function(){return Object(Wu.a)(e=>e.ui.channelGridPage.viewportWidth,Q7(),LIe(),Object(Wu.a)(Bhe(),Fhe(),kIe(),(e,t,i)=>{if(!e||null==t)return;const n=e.channelIdentifier;let a=null,s=null;for(let e=0;e<i.length;e++){const r=i[e];for(let e=0;e<r.Media.length;e++){const i=r.Media[e],{beginsAt:o,channelIdentifier:l}=i;o>t&&l===n&&(!s||o<s.beginsAt)&&(a=r,s=i)}}return a}),(e,t,i,n)=>n?{metadataItemEntityID:n.entityID,positionSeconds:t.positionSeconds,type:n.type,shouldSetViewportSize:0===e,shouldResetChannels:!1,isUnknownAiring:!1}:{containerKey:i,shouldResetChannels:!0,shouldSetViewportSize:0===e,isUnknownAiring:!0})}),dNe)((function(e){const{serverEntityID:t,providerEntityID:i,containerKey:n,shouldSetViewportSize:a,shouldResetChannels:s,dispatchInitMetadataList:r,dispatchPopulateChannelPrograms:o,dispatchResetStartTime:l,dispatchSetViewportSize:c}=e,d=Xe()(e,["serverEntityID","providerEntityID","containerKey","shouldSetViewportSize","shouldResetChannels","dispatchInitMetadataList","dispatchPopulateChannelPrograms","dispatchResetStartTime","dispatchSetViewportSize"]);return cNe(()=>{a&&c()},[a,c]),cNe(()=>{!a&&s&&n&&(l(),r({containerKey:n,serverEntityID:t,providerEntityID:i}),o())},[s,a,o,l,n,t,i,r]),lNe(oNe,tp()({},d,{serverEntityID:t,providerEntityID:i}))})),pNe=i("M4gS"),hNe=i.n(pNe);var mNe=function(e){const{playerType:t,metadataListEntityID:i,serverEntityID:n,providerEntityID:a}=e;return Vu()("div",{className:hNe.a.container},void 0,Vu()(ZTe,{className:hNe.a.icon}),Vu()(vw,{message:Object(Ze.default)("{openSpan}Up Next:{closeSpan} {openTitle}{closeTitle}"),tags:[{open:"openSpan",close:"closeSpan",component:"span",className:hNe.a.upNext},{open:"openTitle",close:"closeTitle",component:uNe,playerType:t,metadataListEntityID:i,serverEntityID:n,providerEntityID:a}]}))};var gNe=Object(Hu.b)((function(){return Object(Wu.a)(e=>e.ui.channelGridPage.metadataList,Q7(),(e,t)=>({metadataListEntityID:e,serverEntityID:t.serverEntityID,providerEntityID:t.providerEntityID}))}))(mNe);var vNe=function(e){const{playerType:t}=e;return Vu()(mPe,{},void 0,Vu()(sNe,{playerType:t}),Vu()(gNe,{playerType:t}))};function yNe(e){var t=e["aria-label"],i=e.className,n=e.style,a={strokeLinejoin:"round",strokeMiterlimit:"1.414",viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",id:"plex-icon-unselected-560"};a["aria-hidden"]=!t,a.style=n,a.className=Ad.a.plexIcon+(i?" "+i:"");var s=[Nd.a.createElement.apply(Nd.a,["path",{d:"m280 40c132.46 0 240 107.54 240 240s-107.54 240-240 240-240-107.54-240-240 107.54-240 240-240zm0 80c88.306 0 160 71.694 160 160s-71.694 160-160 160-160-71.694-160-160 71.694-160 160-160z"}].concat([]))];return t&&s.unshift(Nd.a.createElement("title",null,t)),Nd.a.createElement.apply(Nd.a,["svg",a].concat(s))}yNe.propTypes={"aria-label":vc.a.string,className:vc.a.string,style:vc.a.object};var fNe=yNe,bNe=i("KHus"),INe=i.n(bNe);const{Component:SNe}=Nd.a,CNe={placement:"top"};var MNe=class extends SNe{constructor(e,t){super(e,t),this._menuButtonID=void 0,this.onFollowButtonPress=e=>{this._emitUpdateFollowMuteAction(Pt.c,!this.props.followed)},this.onMuteButtonPress=e=>{this._emitUpdateFollowMuteAction(Pt.d,!this.props.muted)},this.onMenuButtonPress=e=>{this.setState({isMenuOpen:!this.state.isMenuOpen},()=>{this.props.onMenuChange&&this.props.onMenuChange(this.state.isMenuOpen)})},this.onMenuClose=()=>{this.setState({isMenuOpen:!1},()=>{this.props.onMenuChange&&this.props.onMenuChange(!1)})},this.state={isMenuOpen:!1},this._menuButtonID=Mp()}_emitUpdateFollowMuteAction(e,t){const{metadataItemEntityID:i,providerEntityID:n,tagElement:a,ratingKey:s}=this.props;this.props.onUpdateFollowMute({metadataItemEntityID:i,providerEntityID:n,actionID:e,tagElement:a,ratingKey:s,value:t})}render(){const{tag:e,followed:t,muted:i}=this.props,{isMenuOpen:n}=this.state;let a,s=fNe;return!0===t?(a=INe.a.isFollowed,s=ay):!0===i&&(a=INe.a.isMuted,s=NI),Vu()(zp,{id:this._menuButtonID,className:INe.a.tag,onPress:this.onMenuButtonPress},void 0,Vu()(s,{className:(INe.a.icon||"")+" "+(a||"")})," ",Vu()("span",{className:INe.a.tagText},void 0,e),Vu()(Qv,{target:this._menuButtonID,isOpen:n,options:CNe,onMenuClose:this.onMenuClose},void 0,null!=t?Vu()(Zv,{onPress:this.onFollowButtonPress},void 0,t?Object(Ze.default)("Unfollow {tag}",{tag:e}):Object(Ze.default)("Follow {tag}",{tag:e})):null,null!=i?Vu()(Zv,{onPress:this.onMuteButtonPress},void 0,i?Object(Ze.default)("Unblock {tag}",{tag:e}):Object(Ze.default)("Block {tag}",{tag:e})):null))}};const DNe=Nd.a.createElement;var PNe=function(e){const{metadataItemEntityID:t,providerEntityID:i,tags:n,onUpdateFollowMute:a,onFollowMuteMenuChange:s}=e;return Vu()("div",{},void 0,n.map(e=>DNe(MNe,tp()({key:e.ratingKey},e,{metadataItemEntityID:t,providerEntityID:i,onUpdateFollowMute:a,onMenuChange:s}))))};const ONe=["Channel","Topic"];function jNe(e,t){const i=e.features.find(({type:e})=>e===Ot.b);return i&&i.actions&&i.actions.find(({id:e})=>e===t)}const wNe=kK((function(){return Object(Wu.a)(IT,Qhe(),K7(),(e,t,i)=>{const n=[];return ONe.forEach(a=>{const s=t[a];if(s&&s.length){const t=s.reduce(function(e,t,i){const n=jNe(i,Pt.c),a=jNe(i,Pt.d);return(i,s)=>((null!=s.followed&&n&&MT(t,n)||null!=s.muted&&a&&MT(t,a))&&i.push(Object.assign({},s,{tagElement:e})),i)}(a,e,i),[]);n.push(...t)}}),{metadataItemEntityID:t.entityID,providerEntityID:i.entityID,tags:n}})}),(function(e,t){const{metricsPage:i}=t;return{onUpdateFollowMute(t){e(Object(v7.t)(Object.assign({metricsPage:i},t)))}}}))(PNe);wNe.propTypes=Object.assign({},wNe.propTypes,{playerType:vc.a.string.isRequired});var TNe=wNe,ENe=i("8ruQ"),NNe=i.n(ENe);var xNe=function(e){const{title:t}=e;return t?Vu()("div",{},void 0,Vu()("span",{className:NNe.a.upNext},void 0,Object(Ze.default)("Up Next")),"  ",t):null};const ANe=Object(Hu.b)((function(){return Object(Wu.a)(Qhe(1),e=>e?{title:e.title}:{})}))(xNe);ANe.propTypes=Object.assign({},ANe.propTypes,{playerType:vc.a.string.isRequired});var LNe=ANe;var kNe=function(e){const{playerType:t,onFollowMuteMenuChange:i}=e;return Vu()(mPe,{},void 0,Vu()(TNe,{playerType:t,onFollowMuteMenuChange:i}),Vu()(LNe,{playerType:t}))},RNe=e=>e.ui.watchTogether,zNe=Object(Wu.a)(RNe,e=>e.session),UNe=i("G5dy"),VNe=i.n(UNe);const BNe=Nd.a.createElement;function FNe(e){const{className:t,iconComponent:i,title:n}=e,a=Xe()(e,["className","iconComponent","title"]);return BNe(hw,tp()({className:t,"aria-label":n},a),i?Vu()(i,{className:VNe.a.icon}):null,n)}FNe.defaultProps={className:VNe.a.button};var HNe=FNe,_Ne=i("ePga"),WNe=i.n(_Ne);const{useCallback:QNe}=Nd.a;function GNe(e){const{className:t,elapsedSeconds:i,hasLiveTVProtocol:n,isAnyAdPlaying:a,isAnyWatching:s,isMiniPlayer:r,metadataItemEntityID:o,playerType:l,onPlay:c,onCancel:d}=e,u=QNe(()=>{d({playerType:l})},[d,l]),p=n?kPe:APe;let h,m;return h=a?Object(Ze.default)("Other viewers are watching ads. Playback will resume automatically when they're done."):s?Object(Ze.default)("Session started {duration} ago.",{duration:Xm(1e3*i)}):Object(Ze.default)("Playback will start automatically when everyone is ready."),m=a?Object(Ze.default)("Please Wait"):i>0?Object(Ze.default)("Resume"):Object(Ze.default)("Start"),Vu()("div",{className:(t||"")+" "+(r&&WNe.a.hasLandscapePoster||""),"data-qa-id":"watchTogetherLobbyControlsContainer"},void 0,Vu()("div",{className:WNe.a.buttonGroupLeft},void 0,r?Vu()(Qwe,{playerType:l,isVideo:!0,isMusic:!1}):null,Vu()(p,{metadataItemEntityID:o,playerType:l,positionSeconds:i,showDuration:!1})),Vu()("div",{className:(WNe.a.buttonGroupCenter||"")+" "+(!n&&WNe.a.balanceLeft||"")},void 0,Vu()(HNe,{className:WNe.a.button,iconComponent:GTe,isDisabled:a,title:m,kind:Pp,onPress:c}),Vu()(HNe,{className:WNe.a.button,title:Object(Ze.default)("Cancel"),onPress:u})),Vu()("div",{className:WNe.a.buttonGroupRight},void 0,h))}GNe.defaultProps={className:WNe.a.controls};var KNe=GNe;const YNe={onPlay:qoe,onCancel:xT.p};var qNe=Object(Hu.b)((function(){return Object(Wu.a)(zNe,e=>{const{users:t}=e,i=t.filter(e=>e.isWatching);return{elapsedSeconds:i.reduce((e,t)=>e+t.positionSeconds,0)/i.length||0,isAnyAdPlaying:t.some(e=>e.isAdPlaying),isAnyWatching:i.length>0}})}),YNe)(KNe),ZNe=Vu()(yPe,{});function JNe(e){const{playerType:t,isPostPlayVisible:i,isWatchTogetherLobbyVisible:n,isVideo:a,isMusic:s,isAdVisible:r,isMiniPlayer:o,isWatchTogether:l,hasLiveTVProtocol:c,seekStartMilliseconds:d,seekEndMilliseconds:u,bufferStartMilliseconds:p,bufferEndMilliseconds:h,adPositionMilliseconds:m,adDurationMilliseconds:g,onControlsMenuChange:v,onSeekBarInteractionStart:y,onSeekBarInteractionEnd:f}=e;let b;return b=n?qNe:c?$Ee:fEe,Vu()(nPe,{},void 0,function(e){const{playerType:t,isAdVisible:i,isMiniPlayer:n,hasLiveTVProtocol:a,currentSubType:s,isWatchTogetherLobbyVisible:r,onFollowMuteMenuChange:o}=e;return r?null:i?ZNe:n?null:s===LC.b?Vu()(kNe,{playerType:t,onFollowMuteMenuChange:o}):a?Vu()(vNe,{playerType:t}):null}(e),Vu()(oPe,{},void 0,i||n?null:Vu()(XEe,{playerType:t,isAdVisible:r,seekStartMilliseconds:d,seekEndMilliseconds:u,bufferStartMilliseconds:p,bufferEndMilliseconds:h,adPositionMilliseconds:m,adDurationMilliseconds:g,onSeekStart:y,onSeekEnd:f}),Vu()(dPe,{component:b,playerType:t,hasLiveTVProtocol:c,isVideo:a,isMusic:s,isAdVisible:r,isWatchTogetherLobbyVisible:n,isMiniPlayer:o,isWatchTogether:l,onControlsMenuChange:v})))}JNe.defaultProps={isMiniPlayer:!1};var XNe=JNe,$Ne=i("C3YB"),exe=i.n($Ne);const txe=parseInt(BV.pagePadding,10),ixe=2*txe,nxe=txe/2;function axe(e,t,i,n,a,s){let r,o;if(e<t){const t=e-ixe-i;r=Math.min(500,t),o=zC(r,n,a,s)}else{const e=t-(ixe+90+i);o=Math.min(500,e),r=RC(o,n,a,s)}return{width:r,height:o}}function sxe(e){const{className:t,serverEntityID:i,providerEntityID:n,metadataItemEntityID:a,type:s,subtype:r,context:o,imageUrl:l,bottom:c}=e,d=kMe(s,o,{providerEntityID:n,subtype:r});return Vu()(T0,{className:exe.a.measure},void 0,({isMeasured:e,width:u,height:p})=>{if(!e)return null;const h=c?c+nxe:0,m=axe(u,p,0,s,r,o);let g;if(h){const e=axe(u,p,h,s,r,o);g=e.height>0?e.height/m.height:1,g=Math.max(g,.4)}else g=1;return Vu()("div",{className:t,style:{transform:"translate(-50%, -50%) scale("+g+")"}},void 0,Vu()(zwe,{cardClassName:exe.a.card,serverEntityID:i,providerEntityID:n,metadataItemEntityID:a,metadataKey:"music",type:s,imageWidth:m.width,imageHeight:m.height,imageUrl:l,showLinkOnly:!0}),Vu()("div",{className:exe.a.titlesContainer},void 0,d.map((e,t)=>Vu()(oSe,{className:t>0?exe.a.secondaryTitle:exe.a.primaryTitle,serverEntityID:i,providerEntityID:n,metadataItemEntityID:a,component:e},t))))})}sxe.defaultProps={className:exe.a.content};var rxe=sxe;var oxe=Object(Hu.b)((function(){return Object(Wu.a)(Qhe(),e=>({serverEntityID:e.serverEntityID,providerEntityID:e.providerEntityID,metadataItemEntityID:e.entityID,context:bc,type:e.type,imageUrl:e.parentThumb||e.grandparentThumb}))}))(rxe),lxe=i("tbBR"),cxe=i.n(lxe);var dxe=function(e){const{serverEntityID:t,providerEntityID:i,imageUrl:n,allowBlur:a}=e;return Vu()("div",{className:cxe.a.backgroundContainer},void 0,Vu()(n9,{serverEntityID:t,providerEntityID:i,url:n,allowBlur:a}))};var uxe=Object(Hu.b)((function(){return Object(Wu.a)((e,{isMusic:t})=>t,Q7(),khe(),XK,(e,t,i={},n)=>{const a=n[t.startMetadataItemEntityID||i.metadataItem];let s;return a&&(s=e?a.parentThumb||a.grandparentThumb:a.grandparentArt||a.art),{serverEntityID:t.serverEntityID,imageUrl:s}})}))(dxe),pxe=i("SqLh"),hxe=i.n(pxe);function mxe({className:e,children:t}){return Vu()("div",{className:e},void 0,t)}mxe.defaultProps={className:hxe.a.leftTitle};var gxe=mxe,vxe=i("5qtW"),yxe=i.n(vxe);function fxe({className:e,children:t}){return Vu()("div",{className:e,"data-qa-id":"preplay-mainTitle"},void 0,t)}fxe.defaultProps={className:yxe.a.primaryTitle};var bxe=fxe,Ixe=i("KcGe"),Sxe=i.n(Ixe);function Cxe({className:e,children:t}){return Vu()("div",{className:e},void 0,t)}Cxe.defaultProps={className:Sxe.a.rightTitle};var Mxe=Cxe,Dxe=i("k31B"),Pxe=i.n(Dxe);function Oxe(e){const{children:t,className:i}=e;return Vu()("div",{className:i,"data-qa-id":"preplay-secondTitle"},void 0,t)}Oxe.defaultProps={className:Pxe.a.secondaryTitle};var jxe=Oxe,wxe=i("YYNq"),Txe=i.n(wxe);function Exe({className:e,children:t}){return Vu()("div",{className:e,"data-qa-id":"preplay-thirdTitle"},void 0,t)}Exe.defaultProps={className:Txe.a.tertiaryTitle};var Nxe=Exe;const xxe=parseFloat(BV.prePlayPosterWidthRatio,10),Axe=parseInt(BV.prePlayPosterMinWidth,10),Lxe=parseInt(BV.prePlayPosterMaxWidth,10);var kxe=function(e,t){const i=-1*t+1,n=e*(i/30+xxe);return Math.max(Math.min(n,Lxe+30*i),Axe)};function Rxe(e){var t=e["aria-label"],i=e.className,n=e.style,a={strokeLinejoin:"round",strokeMiterlimit:"1.414",viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",id:"plex-icon-marketing-lyrics-560"};a["aria-hidden"]=!t,a.style=n,a.className=Ad.a.plexIcon+(i?" "+i:"");var s=[Nd.a.createElement.apply(Nd.a,["path",{d:"m152.241 116.673c5.933-65.31 60.918-116.673 127.75-116.673 66.833 0 121.818 51.363 127.75 116.673h12.268c6.44 0 11.672 5.233 11.672 11.672 0 6.441-5.232 11.673-11.672 11.673h-12.25c-3.675 40.285-26.023 75.197-58.293 96.058l-19.827 231.997c-1.908 21.892-17.5 39.06-37.958 43.82v36.452c0 6.44-5.232 11.673-11.672 11.673s-11.673-5.233-11.673-11.673v-36.592c-20.51-4.97-36.102-22.26-38.01-44.24l-19.792-231.437c-32.305-20.86-54.653-55.756-58.293-96.058h-12.25c-6.44 0-11.672-5.233-11.672-11.673 0-6.439 5.232-11.672 11.672-11.672zm154.14 349.387 18.62-217.665c-14.052 5.25-29.172 8.278-45.01 8.278-15.837 0-30.957-3.045-45.01-8.312l18.568 217.139c1.242 13.982 12.722 24.5 26.74 24.5 13.685 0 24.902-10.29 26.092-23.94zm-38.045-151.059c0-6.441 5.233-11.673 11.673-11.673s11.672 5.233 11.672 11.673v46.672c0 6.439-5.232 11.673-11.672 11.673s-11.673-5.234-11.673-11.673zm11.655-81.674c53.918 0 97.93-40.966 103.81-93.326h-207.62c5.88 52.36 49.893 93.326 103.81 93.326zm103.81-116.672c-5.88-52.36-49.892-93.328-103.81-93.328-53.917 0-97.93 40.969-103.81 93.328z"}].concat([]))];return t&&s.unshift(Nd.a.createElement("title",null,t)),Nd.a.createElement.apply(Nd.a,["svg",a].concat(s))}Rxe.propTypes={"aria-label":vc.a.string,className:vc.a.string,style:vc.a.object};var zxe=Rxe;function Uxe(e){var t=e["aria-label"],i=e.className,n=e.style,a={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-page-next-560"};a["aria-hidden"]=!t,a.style=n,a.className=Ad.a.plexIcon+(i?" "+i:"");var s=[Nd.a.createElement.apply(Nd.a,["path",{d:"m0 320l0-80 360 0 0-160 200 200-200 200 0-160-360 0"}].concat([]))];return t&&s.unshift(Nd.a.createElement("title",null,t)),Nd.a.createElement.apply(Nd.a,["svg",a].concat(s))}Uxe.propTypes={"aria-label":vc.a.string,className:vc.a.string,style:vc.a.object};var Vxe=Uxe;function Bxe(e){var t=e["aria-label"],i=e.className,n=e.style,a={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-page-prev-560"};a["aria-hidden"]=!t,a.style=n,a.className=Ad.a.plexIcon+(i?" "+i:"");var s=[Nd.a.createElement.apply(Nd.a,["path",{d:"m200 80l-200 200 200 200 0-160 360 0 0-80-360 0 0-160"}].concat([]))];return t&&s.unshift(Nd.a.createElement("title",null,t)),Nd.a.createElement.apply(Nd.a,["svg",a].concat(s))}Bxe.propTypes={"aria-label":vc.a.string,className:vc.a.string,style:vc.a.object};var Fxe=Bxe;function Hxe(e){var t=e["aria-label"],i=e.className,n=e.style,a={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-player-lyrics-timed-560"};a["aria-hidden"]=!t,a.style=n,a.className=Ad.a.plexIcon+(i?" "+i:"");var s=[Nd.a.createElement.apply(Nd.a,["path",{d:"M364 84h-56v29.989a194.698 194.698 0 0 1 27.951 6.126 194.755 194.755 0 0 1 24.136 8.966 195.787 195.787 0 0 1 27.995 15.427 197.227 197.227 0 0 1 48.25 45.312A196.461 196.461 0 0 1 454 217.748a194.576 194.576 0 0 1 18.374 52.568A196.97 196.97 0 0 1 476 308c0 8.956-.604 17.911-1.818 26.785a194.966 194.966 0 0 1-6.297 29.166 194.724 194.724 0 0 1-10.968 28.456 196.15 196.15 0 0 1-17.784 29.982 197.385 197.385 0 0 1-51.543 49.428 195.734 195.734 0 0 1-31.878 17.002 194.692 194.692 0 0 1-38.028 11.555 196.89 196.89 0 0 1-37.05 3.625 197.07 197.07 0 0 1-37.117-3.394 194.66 194.66 0 0 1-38.126-11.327 195.651 195.651 0 0 1-31.993-16.815 197.378 197.378 0 0 1-51.839-49.12 196.2 196.2 0 0 1-17.96-29.865 194.83 194.83 0 0 1-11.136-28.372 194.809 194.809 0 0 1-6.473-29.101A197.463 197.463 0 0 1 84 308c0-12.028 1.091-24.054 3.283-35.881a194.544 194.544 0 0 1 17.634-52.258 196.423 196.423 0 0 1 17.69-28.628 197.522 197.522 0 0 1 22.193-25.085 197.243 197.243 0 0 1 26.136-20.985 195.922 195.922 0 0 1 28.434-15.838A194.565 194.565 0 0 1 252 113.989V84h-56V56h168v28zm-83.499 70.001h-1.002c-2.814.013-5.626.093-8.435.253-5.511.315-11.005.924-16.45 1.827a152.77 152.77 0 0 0-37.505 11.318 153.954 153.954 0 0 0-22.375 12.375 155.41 155.41 0 0 0-37.024 34.668 154.38 154.38 0 0 0-13.799 21.452 152.504 152.504 0 0 0-14.78 41.055A154.8 154.8 0 0 0 126 308c0 7.212.496 14.425 1.497 21.568a152.888 152.888 0 0 0 4.872 22.397 152.714 152.714 0 0 0 8.601 22.316 154.23 154.23 0 0 0 14.247 23.934 155.398 155.398 0 0 0 18.231 20.92 155.18 155.18 0 0 0 23.616 18.615 153.646 153.646 0 0 0 23.909 12.522 152.648 152.648 0 0 0 29.855 8.97A154.944 154.944 0 0 0 280 462c9.782 0 19.564-.915 29.172-2.758a152.648 152.648 0 0 0 29.855-8.97 153.71 153.71 0 0 0 25.464-13.533 155.34 155.34 0 0 0 40.02-38.15 154.175 154.175 0 0 0 14.519-24.308 152.67 152.67 0 0 0 8.601-22.316 152.86 152.86 0 0 0 4.872-22.397A155.47 155.47 0 0 0 434 308c0-10.421-1.039-20.841-3.131-31.052a152.544 152.544 0 0 0-14.78-41.055 154.43 154.43 0 0 0-14.366-22.185 155.298 155.298 0 0 0-37.231-34.447 153.835 153.835 0 0 0-21.601-11.862 152.77 152.77 0 0 0-37.505-11.318 154.437 154.437 0 0 0-16.45-1.827c-2.809-.16-5.621-.24-8.435-.253zM252 336V185.167c8.998-2.085 18.374-3.167 28-3.167 34.771 0 66.271 14.115 89.078 36.922L252 336z"}].concat([]))];return t&&s.unshift(Nd.a.createElement("title",null,t)),Nd.a.createElement.apply(Nd.a,["svg",a].concat(s))}Hxe.propTypes={"aria-label":vc.a.string,className:vc.a.string,style:vc.a.object};var _xe=Hxe,Wxe=i("zLzU"),Qxe=i.n(Wxe);const Gxe=Nd.a.createElement,{Component:Kxe}=Nd.a;var Yxe=class extends Kxe{constructor(e,t){super(e,t),this.lineRef=void 0,this.setLineRef=e=>{this.lineRef=e,this.scrollToLine()},this.onContentMeasure=({width:e})=>{this.setState({isMeasured:!0,pageWidth:e})},this.onScrollerMeasure=({height:e})=>{e&&this.setState({isScrollerMeasured:!0,scrollerHeight:e},()=>{this.scrollToLine()})},this.onScrollPositionChange=({scrollTop:e})=>{this.setState({scrollTop:e})},this.state={isMeasured:!1,isScrollerMeasured:!1,pageWidth:0,scrollerHeight:0,scrollTop:0}}componentWillReceiveProps(e){this.props.lines!==e.lines&&this.setState({scrollTop:0})}scrollToLine(){if(!this.lineRef)return;const{scrollerHeight:e,scrollTop:t}=this.state,{height:i}=this.lineRef.getBoundingClientRect(),n=this.lineRef.offsetTop;(n+i>t+e||n<t)&&this.setState({scrollTop:n})}render(){const{serverEntityID:e,providerEntityID:t,metadataItemEntityID:i,type:n,subtype:a,context:s,columnAdjustment:r,imageUrl:o,positionSeconds:l,lines:c,selectedIndex:d,lyricsStreamsCount:u,hasTimedLyrics:p,isTimedLyricsActive:h,hasLyricsError:m,hasLyricsFeature:g,isLyricFindProvider:v,onPreviousPress:y,onNextPress:f,onTimedLyricsPress:b}=this.props,{isMeasured:I,isScrollerMeasured:S,pageWidth:C,scrollTop:M}=this.state,D=kxe(C,r),P=zC(D,n,a,s);return g?Vu()(T0,{className:Qxe.a.measure,onMeasure:this.onContentMeasure},void 0,I?Vu()("div",{className:Qxe.a.container},void 0,Vu()("div",{},void 0,Vu()(zwe,{cardClassName:Qxe.a.card,serverEntityID:e,providerEntityID:t,metadataItemEntityID:i,metadataKey:"music",type:n,imageWidth:D,imageHeight:P,imageUrl:o,showLinkOnly:!0})),Vu()("div",{className:Qxe.a.content},void 0,Vu()("div",{className:Qxe.a.titlesContainer},void 0,Vu()(bxe,{},void 0,Vu()(QSe,{serverEntityID:e,providerEntityID:t,metadataItemEntityID:i})),Vu()(jxe,{},void 0,Vu()(gxe,{},void 0,Vu()(Kce,{serverEntityID:e,providerEntityID:t,metadataItemEntityID:i}))),Vu()(Nxe,{},void 0,Vu()(gxe,{},void 0,v?Object(Ze.default)("Powered by {provider}",{provider:"LyricFind"}):null),Vu()(Mxe,{},void 0,Vu()("span",{className:Qxe.a.rightInfo},void 0,Vu()(JK,{className:(Qxe.a.timedLyricsButton||"")+" "+(h&&Qxe.a.isTimedLyricsActive||""),"data-qa-id":"toggleTimedLyrics",iconComponent:_xe,title:Object(Ze.default)("Timed Lyrics"),isDisabled:!p,onPress:b})),Vu()("span",{className:Qxe.a.rightInfo},void 0,Object(Ze.default)("{selectedIndex} of {lyricsStreamsCount}",{selectedIndex:d+1,lyricsStreamsCount:u})),Vu()("span",{className:Qxe.a.rightInfo},void 0,Vu()(JK,{iconComponent:Fxe,"data-qa-id":"previousLyricsPage",title:Object(Ze.default)("Previous"),isDisabled:0===d,onPress:y})),Vu()("span",{className:Qxe.a.rightInfo},void 0,Vu()(JK,{iconComponent:Vxe,"data-qa-id":"nextLyricsPage",title:Object(Ze.default)("Next"),isDisabled:d===u-1,onPress:f}))))),m?Vu()("div",{className:Qxe.a.innerContent},void 0,Vu()(k_,{title:Object(Ze.default)("There was an error loading the lyrics")})):null,m?null:Vu()("div",{className:Qxe.a.innerContent},void 0,Vu()(T0,{className:Qxe.a.measure,onMeasure:this.onScrollerMeasure},void 0,S?Vu()(ih,{className:Qxe.a.scroller,scrollTop:M,onScrollPositionChange:this.onScrollPositionChange},void 0,c.length?c.map(({spans:e,startOffset:t,endOffset:i},n)=>{const a=Math.round(t/1e3),s=Math.round(i/1e3),r=h&&l>=a&&-1!==t&&(l<s||-1===i);return Gxe("div",{key:n,className:(Qxe.a.line||"")+" "+(r&&Qxe.a.isLineSelected||""),ref:r?this.setLineRef:null},e.map(({text:e},t)=>Vu()("span",{},t,e)),Vu()(_xe,{className:Qxe.a.lineTimedIcon}))}):Vu()(Jh,{className:Qxe.a.spinner})):null)))):null):Vu()("div",{className:Qxe.a.upsellContainer},void 0,Vu()(Iw,{iconComponent:zxe,title:Object(Ze.default)("Song Lyrics"),text:Object(Ze.default)("Still think Elton is saying Hold me closer, Tony Danza? With a Plex Pass, enjoy timed lyrics (when available) to your favorite songs for the ultimate sing-along with the right words!")}),Vu()(gk,{serverEntityID:e,origin:"lyrics",modalMetricsProperties:{context:"lyrics"}}))}};const qxe=Nd.a.createElement,{Component:Zxe}=Nd.a;function Jxe(e){return!(!e||!e.timed)}const Xxe={dispatchFetchPlayQueue:y7.t,dispatchFetchPlayQueueItemLyrics:y7.u};var $xe=Object(Hu.b)((function(){return Object(Wu.a)(Q7(),mge(),Qhe(),khe(),Rg.a,(e,t,i,n,a)=>({serverEntityID:e.serverEntityID,providerEntityID:e.providerEntityID,metadataItemEntityID:i.entityID,playQueueItemEntityID:n.entityID,positionSeconds:e.positionSeconds,context:"player",type:i.type,imageUrl:i.parentThumb||i.grandparentThumb,lyricsStreams:n.lyricsStreams,columnAdjustment:a.columnAdjustment,hasLyricsFeature:!!n.lyricsStreams.length||t.ownerFeatures&&t.ownerFeatures.indexOf("lyrics")>-1,hasPremiumLyrics:n.hasPremiumLyrics}))}),Xxe)(class extends Zxe{constructor(e,t){super(e,t),this.onPreviousPress=()=>{this.setState(e=>({selectedLyricsStreamIndex:Math.max(0,e.selectedLyricsStreamIndex-1)}))},this.onNextPress=()=>{this.setState((e,t)=>({selectedLyricsStreamIndex:Math.min(t.lyricsStreams.length-1,e.selectedLyricsStreamIndex+1)}))},this.onTimedLyricsPress=()=>{this.setState(e=>({isTimedLyricsActive:!e.isTimedLyricsActive}))},this.state=this.getDefaultState(e)}componentDidMount(){this._populate(),this.props.hasPremiumLyrics&&this.props.hasLyricsFeature&&this.props.dispatchFetchPlayQueue({playerType:this.props.playerType})}componentWillReceiveProps(e){this.props.lyricsStreams!==e.lyricsStreams&&this.setState(this.getDefaultState(e,this.state.selectedLyricsStreamIndex))}componentWillUpdate(e,t){if(this.state.selectedLyricsStreamIndex!==t.selectedLyricsStreamIndex){const i=e.lyricsStreams[t.selectedLyricsStreamIndex];this.setState({isTimedLyricsActive:Jxe(i)})}}componentDidUpdate(e,t){const i=this.props.lyricsStreams[this.state.selectedLyricsStreamIndex];this.props.hasLyricsFeature!==e.hasLyricsFeature&&this.props.dispatchFetchPlayQueue({playerType:this.props.playerType}),!i||i.lyricsError||this.state.selectedLyricsStreamIndex===t.selectedLyricsStreamIndex&&this.props.lyricsStreams===e.lyricsStreams||this._populate()}getDefaultState(e,t=0){const i=e.lyricsStreams.length>0?t:null;return{isTimedLyricsActive:Jxe(e.lyricsStreams[i]),selectedLyricsStreamIndex:i}}_populate(){const{playerType:e,playQueueItemEntityID:t,lyricsStreams:i}=this.props,{selectedLyricsStreamIndex:n}=this.state;if(null==n)return;const a=i[n];a&&!a.lines.length&&this.props.dispatchFetchPlayQueueItemLyrics({playerType:e,playQueueItemEntityID:t,streamID:a.id})}render(){const e=this.props,{lyricsStreams:t}=e,i=Xe()(e,["dispatchFetchPlayQueue","dispatchFetchPlayQueueItemLyrics","lyricsStreams"]),{isTimedLyricsActive:n,selectedLyricsStreamIndex:a}=this.state,s=t[a];return qxe(Yxe,tp()({lines:null!=s?s.lines:[],lyricsStreamsCount:t.length,selectedIndex:a,hasTimedLyrics:Jxe(s),isTimedLyricsActive:n,isLyricFindProvider:!!s&&s.provider===ms.c,hasLyricsError:!!s&&!!s.lyricsError,onPreviousPress:this.onPreviousPress,onNextPress:this.onNextPress,onTimedLyricsPress:this.onTimedLyricsPress},i))}}),eAe=i("oz7q"),tAe=i("7001"),iAe=i.n(tAe),nAe=Object(eAe.DragDropContext)(iAe.a);const aAe=[.2,.4,.6,.8];function sAe(e,t,i,n){if(i+1<n){const n=i-t-e;if(n<aAe.length)return aAe[n]}return 1}function rAe(e){var t=e["aria-label"],i=e.className,n=e.style,a={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-toolbar-add-to-playlist-560"};a["aria-hidden"]=!t,a.style=n,a.className=Ad.a.plexIcon+(i?" "+i:"");var s=[Nd.a.createElement.apply(Nd.a,["path",{d:"m223.992 459.2l336 0 0 44.8-336 0 0-44.8m0-134.4l336 0 0 44.8-336 0 0-44.8m84-134.4l252 0 0 44.8-252 0 0-44.8m-218.392 0l-89.6 0 0 44.8 89.6 0 0 89.6 44.8 0 0-89.6 89.6 0 0-44.8-89.6 0 0-89.6c0 0-53.77 0-37.8 0l-7 0 0 89.6m134.392-134.4l336 0 0 44.8-336 0 0-44.8"}].concat([]))];return t&&s.unshift(Nd.a.createElement("title",null,t)),Nd.a.createElement.apply(Nd.a,["svg",a].concat(s))}rAe.propTypes={"aria-label":vc.a.string,className:vc.a.string,style:vc.a.object};var oAe=rAe,lAe=i("lmsz"),cAe=i.n(lAe);const dAe=Nd.a.createElement;function uAe(e){let{children:t}=e,i=Xe()(e,["children"]);return dAe("div",i,t)}uAe.defaultProps={className:cAe.a.dragLayer};var pAe=uAe;function hAe(){return Object(Wu.a)((e,{playQueueItemEntityID:t})=>t,Lhe,(e,t)=>t[e])}var mAe=i("x3ko"),gAe=i.n(mAe);const{Component:vAe}=Nd.a;function yAe(e,t){return Math.random()*(t-e)+e}class fAe extends vAe{constructor(e,t){super(e,t),this._barGap=void 0,this._barWidth=void 0,this._bars=void 0,this._setBarValues(e),this.state=this._getInitialState(!0)}componentDidMount(){if(!this.props.isPaused)for(let e=0,t=this._bars.length;e<t;e++)this._setTransitionTimeout(e)}componentWillReceiveProps(e){const t=e.isPaused!==this.props.isPaused,i=e.width!==this.props.width,n=e.barCount!==this.props.barCount,a=e.barGap!==this.props.barGap;(t||i||n||a)&&(this._clearAllTransitionTimeouts(),this._setBarValues(e),this.setState(this._getInitialState(e.isPaused)))}componentDidUpdate(e,t){if(!this.props.isPaused)for(let e=0,i=this._bars.length;e<i;e++){const i=this._bars[e];t[i]!==this.state[i]&&this._setTransitionTimeout(e)}}componentWillUnmount(){this._clearAllTransitionTimeouts()}_setBarValues({width:e,barCount:t,barGap:i}){const n=i*(t-1);this._barGap=i,this._barWidth=Math.floor((e-n)/t),this._bars=[];for(let e=0,i=t;e<i;e++)this._bars.push("bar"+e)}_getInitialState(e){return this._bars.reduce((t,i,n)=>(t[i]=this._getRandomStyle(n,e),t),{})}_getRandomStyle(e,t){const{unit:i}=this.props,n=e*(this._barWidth+this._barGap),a="scaleY("+(t?.2:yAe(.2,1))+")",s=yAe(300,500);return{left:""+n+i,width:""+this._barWidth+i,backgroundColor:this.props.barColor,transitionDuration:s+"ms",WebkitTransform:a,msTransform:a,transform:a}}_setTransitionTimeout(e){const t=this._bars[e],i=t+"TimeoutID",n=yv(this.state[t].transitionDuration)-100;this[i]=window.setTimeout(()=>{this.setState({[t]:this._getRandomStyle(e)})},n)}_clearAllTransitionTimeouts(){for(let e=0,t=this._bars.length;e<t;e++){const t=this._bars[e]+"TimeoutID";window.clearTimeout(this[t])}}render(){const{className:e,width:t,height:i,unit:n}=this.props;return Vu()("div",{className:e,style:{width:""+t+n,height:""+i+n}},void 0,this._bars.map(e=>Vu()("div",{className:gAe.a.bar,style:this.state[e]},e)))}}fAe.defaultProps={className:gAe.a.equalizer,width:14,height:14,barColor:"#fff",barCount:3,barGap:2,isPaused:!0,unit:"px"};var bAe=fAe;const IAe=Nd.a.createElement;var SAe=function(e){return IAe(bAe,tp()({},e,{barColor:aj.equalizerBarColor}))};function CAe(e){var t=e["aria-label"],i=e.className,n=e.style,a={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-reorder-560"};a["aria-hidden"]=!t,a.style=n,a.className=Ad.a.plexIcon+(i?" "+i:"");var s=[Nd.a.createElement.apply(Nd.a,["path",{d:"m560 380v60h-560v-60h560m-560-130h560v60h-560v-60m0-130h560v60h-560v-60"}].concat([]))];return t&&s.unshift(Nd.a.createElement("title",null,t)),Nd.a.createElement.apply(Nd.a,["svg",a].concat(s))}CAe.propTypes={"aria-label":vc.a.string,className:vc.a.string,style:vc.a.object};var MAe=CAe;var DAe=function(){return Object(Wu.a)(uJ,rq,Object(Wu.a)($K(),Aae,(e={},t)=>e.source?t.ownerId:null),(e,t,i)=>{const n=e.find(e=>{const n=t[e];return n&&n.id===i});return n&&t[n]})},PAe=i("xH8n"),OAe=i.n(PAe);const jAe=parseInt(BV.playlistBadgeSize,10);function wAe(e){const{className:t,textClassName:i,serverEntityID:n,attribution:a,avatar:s,name:r,hasOwner:o}=e;return a?Vu()("div",{className:t},void 0,Vu()(pS,{className:OAe.a.attribution,attribution:a})):o?Vu()("div",{className:t},void 0,Vu()("span",{className:i},void 0,r),Vu()(rC,{className:OAe.a.avatar,serverEntityID:n,url:s,width:jAe,height:jAe})):null}wAe.defaultProps={className:OAe.a.container};var TAe=wAe;var EAe=Object(Hu.b)((function(){return Object(Wu.a)($K(),DAe(),(e={},t)=>({attribution:e.attribution,hasOwner:!!t,avatar:t&&t.thumb,name:t&&t.title}))}))(TAe),NAe=i("GfmD"),xAe=i.n(NAe);function AAe(e){const{className:t,titlesContainerClassName:i,sourceTextClassName:n,durationContainerClassName:a,serverEntityID:s,providerEntityID:r,metadataItemEntityID:o,type:l,subtype:c,metadataKey:d,title:u,duration:p,isPreview:h,context:m,imageWidth:g,imageHeight:v,imageUrl:y,onPlayPress:f}=e,b=kMe(l,m,{providerEntityID:r,subtype:c});let I="";return p&&(I=h?Object(Ze.default)("Preview"):l===Qt.p?BC(p):Xm(p)),Vu()("div",{className:t},void 0,Vu()("div",{className:xAe.a.cardContainer},void 0,Vu()(gde,{className:xAe.a.card,serverEntityID:s,providerEntityID:r,metadataItemEntityID:o,metadataKey:d,title:Object(Ze.default)("Play {title}",{title:u}),type:l,imageWidth:g,imageHeight:v,imageUrl:y,onPlayPress:f})),Vu()("div",{className:i,"data-qa-id":"playQueueTitleContainer"},void 0,b.map((e,t)=>Vu()(oSe,{serverEntityID:s,providerEntityID:r,metadataItemEntityID:o,component:e,isSecondary:t>0},t))),Vu()(EAe,{textClassName:n,serverEntityID:s,metadataItemEntityID:o}),I?Vu()("div",{className:a},void 0,I):null)}AAe.defaultProps={className:xAe.a.container,titlesContainerClassName:xAe.a.titlesContainer,sourceTextClassName:xAe.a.sourceText,durationContainerClassName:xAe.a.durationContainer};var LAe=AAe;const kAe=Nd.a.createElement;var RAe=Object(Hu.b)((function(){return Object(Wu.a)($K(),e=>{const t=Eae(kC(e.type,e.subtype,"playQueue")===16/9?64:36,null,e.type,e.subtype,e,"playQueue");return{serverEntityID:e.serverEntityID,providerEntityID:e.providerEntityID,type:e.type,subtype:e.subtype,metadataKey:e.key,duration:e.duration,title:e.title,isPreview:!!e.preview,context:"playQueue",imageWidth:t.width,imageHeight:t.height,imageUrl:t.url}})}),(function(e,t){const i={playerType:t.playerType};return{onPlayPress(){e(Object(y7.w)(Object.assign({},i,{index:t.sortIndex}))),t.mediaType===Go.e&&e(Object(y7.J)(i))}}}))((function(e){const t=Xe()(e,["mediaType"]);return kAe(LAe,t)})),zAe=i("JkX4"),UAe=i.n(zAe);const VAe={.2:UAe.a.opacity20Precent,.4:UAe.a.opacity40Precent,.6:UAe.a.opacity60Precent,.8:UAe.a.opacity80Precent};var BAe=Vu()(MAe,{});function FAe(e){const{metadataItemEntityID:t,playerType:i,mediaType:n,sortIndex:a,opacity:s,isCurrentItem:r,isPlayerPaused:o,isItemDragging:l,connectDragSource:c,onRemovePress:d}=e;return Vu()("div",{className:(UAe.a.container||"")+" "+(l&&UAe.a.isItemDragging||"")+" "+(r&&UAe.a.isCurrentItem||"")+" "+(null!=s&&VAe[s]||""),"data-qa-id":"playQueueItem"},void 0,Vu()("div",{className:UAe.a.leftContainer},void 0,r?Vu()(SAe,{isPaused:o}):null,r?null:c(Vu()("div",{className:UAe.a.moveControls,"data-qa-id":"playQueueReorder"},void 0,BAe))),Vu()(RAe,{className:UAe.a.metadataContainer,sourceTextClassName:UAe.a.sourceText,durationContainerClassName:UAe.a.metadataDurationContainer,metadataItemEntityID:t,playerType:i,mediaType:n,sortIndex:a}),r?null:Vu()("div",{className:UAe.a.removeControls},void 0,Vu()(JK,{className:UAe.a.removeButton,"data-qa-id":"playQueueRemove",iconComponent:NI,title:Object(Ze.default)("Remove"),kind:Op,onPress:d})))}FAe.defaultProps={opacity:1,isCurrentItem:!1,isPlayerPaused:!1,isItemDragging:!1,connectDragSource:e=>e};var HAe=FAe;var _Ae=Object(Hu.b)((function(){return Object(Wu.a)(hAe(),e=>{const t=Object(Qt.u)(e.type),i=t&&t.mediaType;return{metadataItemEntityID:e.metadataItem,mediaType:i}})}),(function(e,t){return{onRemovePress(i){e(Object(y7.B)({playerType:t.playerType,playQueueItemEntityID:t.playQueueItemEntityID}))}}}))(HAe),WAe=i("uYXV"),QAe=i.n(WAe);const{Component:GAe}=Nd.a,KAe=parseInt(BV.playQueueSidePadding,10);var YAe=Object(eAe.DragLayer)((function(e){return{item:e.getItem(),itemType:e.getItemType(),currentOffset:e.getSourceClientOffset()}}))(class extends GAe{shouldComponentUpdate(e,t){return Tp(this,e,t)}render(){const{playerType:e,item:t,itemType:i,currentOffset:n}=this.props;if(!n||"PLAY_QUEUE_ITEM"!==i)return null;const{x:a,y:s}=n,r="translate3d("+a+"px, "+s+"px, 0)",o={position:"absolute",WebkitTransform:r,msTransform:r,transform:r,width:window.innerWidth-2*KAe+"px"};return Vu()(pAe,{},void 0,Vu()("div",{className:QAe.a.dragPreview,style:o},void 0,Vu()(_Ae,{playQueueItemEntityID:t.playQueueItemEntityID,playerType:e,isItemDragging:!0})))}}),qAe=i("OY1m"),ZAe=i.n(qAe);const JAe=Nd.a.createElement,{Component:XAe}=Nd.a,$Ae={beginDrag:({playQueueItemEntityID:e})=>({playQueueItemEntityID:e}),endDrag(e,t,i){e.onPlayQueueItemDragEnd(t.getItem(),t.didDrop())}},eLe={hover(e,t,i){const n=Object(Bu.findDOMNode)(i).getBoundingClientRect(),a=(n.bottom-n.top)/2,s=t.getClientOffset().y-n.top,r=e.sortIndex,o=s>a?r+1:r;e.onPlayQueueItemDragMove(o)}};var tLe=Object(eAe.DropTarget)("PLAY_QUEUE_ITEM",eLe,(function(e,t){return{connectDropTarget:e.dropTarget(),isOver:t.isOver()}}))(Object(eAe.DragSource)("PLAY_QUEUE_ITEM",$Ae,(function(e,t){return{connectDragPreview:e.dragPreview(),connectDragSource:e.dragSource(),isDragging:t.isDragging()}}))(class extends XAe{componentDidMount(){this.props.connectDragPreview(Object(tAe.getEmptyImage)())}shouldComponentUpdate(e,t){return Tp(this,e,t)}render(){const e=this.props,{isDragging:t,isDraggingBefore:i,isDraggingAfter:n,isOver:a,connectDropTarget:s,connectDragSource:r}=e,o=Xe()(e,["isDragging","isDraggingBefore","isDraggingAfter","isOver","connectDropTarget","connectDragSource"]);return s(Vu()("div",{className:(ZAe.a.container||"")+" "+(t?"isDragging":"")+" "+(i&&a?"isDraggingBefore":"")+" "+(n&&a?"isDraggingAfter":"")},void 0,JAe(_Ae,tp()({connectDragSource:r},o))))}})),iLe=i("HY0z"),nLe=i.n(iLe);const{Component:aLe}=Nd.a;var sLe=Vu()(oAe,{});var rLe=class extends aLe{constructor(e,t){super(e,t),this.onAddToPlaylistPress=()=>{this.setState({isAddToPlaylistModalOpen:!0})},this.onAddToPlaylistClose=()=>{this.setState({isAddToPlaylistModalOpen:!1})},this.state={isAddToPlaylistModalOpen:!1}}render(){const{serverEntityID:e,providerEntityID:t,playQueueID:i,playQueueItemEntityIDs:n,playQueueSelectedItemOffset:a,playQueueLength:s,playerType:r,currentIndex:o,moveIndex:l,scrollTop:c,isPlayerPaused:d,showAddToPlaylist:u,onPlayQueueItemDragMove:p,onPlayQueueItemDragEnd:h}=this.props,{isAddToPlaylistModalOpen:m}=this.state,g=a-o,v=g+n.length-1;return Vu()("div",{className:nLe.a.container},void 0,Vu()(FIe,{},void 0,Vu()(UIe,{title:Object(Ze.default)("Play Queue")}),Vu()("div",{className:nLe.a.topContainer},void 0,Vu()("div",{className:nLe.a.topLeft},void 0,Vu()("span",{className:nLe.a.count},void 0,1===s?Object(Ze.default)("{itemCount} item",{itemCount:s}):Object(Ze.default)("{itemCount} items",{itemCount:s}))),Vu()("div",{className:nLe.a.topRight},void 0,u?Vu()(Wb,{className:nLe.a.tooltipButton,"data-qa-id":"queueAddPlaylist","aria-label":Object(Ze.default)("Add to Playlist"),component:zp,tooltip:Object(Ze.default)("Add to Playlist"),onPress:this.onAddToPlaylistPress},void 0,sLe):null))),Vu()(ih,{className:nLe.a.content,scrollTop:c,smoothScroll:!1,autoScroll:!0},void 0,n.map((e,t)=>{const i=null!=l,n=o===t,a=i&&l===t,c=i&&l===t+1;return Vu()(tLe,{sortIndex:t,opacity:sAe(t,g,v,s),playQueueItemEntityID:e,playerType:r,isDraggingBefore:a,isDraggingAfter:c,isCurrentItem:n,isPlayerPaused:d,onPlayQueueItemDragMove:p,onPlayQueueItemDragEnd:h},e)})),Vu()(YAe,{playerType:r}),u?Vu()(woe,{serverEntityID:e,providerEntityID:t,playQueueID:i,isOpen:m,onModalClose:this.onAddToPlaylistClose}):null)}};const oLe=Nd.a.createElement,{Component:lLe}=Nd.a,cLe=parseInt(BV.playQueueItemHeight,10),dLe=Object(Wu.a)(e=>e.ui.audioVideoPlayer,mge(),K7(),(e,t,i)=>{const n=e.playQueue,a=jt.k(i.identifier,jt.d),s=!n.isLocal&&a;return{serverEntityID:t.entityID,providerEntityID:i.entityID,playQueueID:n.playQueueID,isQueueRepeated:n.repeat,isQueueShuffled:n.playQueueShuffled,isPlayerPaused:e.isPaused,isUpdatePending:n.isUpdatePending,playQueueItemEntityIDs:n.playQueueItems,playQueueSelectedItemOffset:n.playQueueSelectedItemOffset,playQueueLength:n.length,currentIndex:n.currentIndex,showAddToPlaylist:s}}),uLe={dispatchMovePlayQueueItem:y7.v};var pLe=nAe(Object(Hu.b)(dLe,uLe)(class extends lLe{constructor(e,t){super(e,t),this.shouldUpdateScrollTop=void 0,this.onPlayQueueItemDragMove=e=>{e!==this.state.moveIndex&&this.setState({moveIndex:e})},this.onPlayQueueItemDragEnd=(e,t)=>{const{playerType:i}=this.props,{moveIndex:n}=this.state;t&&null!=n&&Object(Ti.a)(()=>{this.props.dispatchMovePlayQueueItem(Object.assign({playerType:i},e,{moveIndex:n}))}),this.setState({moveIndex:null})},this.onScrollPositionChange=({scrollTop:e})=>{this.setState({scrollTop:e})},this.shouldUpdateScrollTop=!1,this.state={moveIndex:null,scrollTop:cLe*e.currentIndex}}componentWillReceiveProps(e){this.props.isQueueRepeated===e.isQueueRepeated&&this.props.isQueueShuffled===e.isQueueShuffled||(this.shouldUpdateScrollTop=!0),this.shouldUpdateScrollTop&&this.props.currentIndex!==e.currentIndex&&this.setState({scrollTop:cLe*e.currentIndex}),this.props.isUpdatePending&&!e.isUpdatePending&&(this.shouldUpdateScrollTop=!1)}render(){const e=this.props,t=Xe()(e,["dispatchMovePlayQueueItem"]),{moveIndex:i,scrollTop:n}=this.state;return oLe(rLe,tp()({moveIndex:i,scrollTop:n,onPlayQueueItemDragMove:this.onPlayQueueItemDragMove,onPlayQueueItemDragEnd:this.onPlayQueueItemDragEnd,onScrollPositionChange:this.onScrollPositionChange},t))}}));const hLe="providers/fetchProvider",mLe=Object(Pi.a)("provider/fetchCloudProviders"),gLe=Object(Pi.a)("provider/populateCloudProviders"),vLe=Object(Pi.a)(hLe,e=>{const{options:t={}}=e;return Object.assign({},e,{options:Object.assign({},t,{allowHeadersInUrl:!1})})}),yLe=Object(Pi.a)("providers/populateProvider"),fLe={"provider/fetchCloudProviders":Object(Oi.a)({key:"providers",getModel:wi.o}),"provider/populateCloudProviders":Object(ji.a)({key:"providers",fetchActionCreator:mLe,getModel:wi.o}),[hLe]:Object(Oi.a)({getModel:wi.j}),"providers/populateProvider":Object(ji.a)({getModel:wi.j,fetchActionCreator:vLe})};function bLe(e){if(!e)return;let t,i;const n=e.match(/^server:\/\/(.*)\/(.*)/);if(n)t=n[1],i=n[2];else{const n=e.match(/^provider:\/\/(.*)/);if(!n)return;t=ST.a,i=n[1]}const a=Object(pt.a)(ht.n,t);return{serverEntityID:a,providerEntityID:Object(pt.a)(ht.k,i,a)}}var ILe=function(e,t){const i=Object(Hu.b)((function(){return Object(Wu.a)(t(),({source:e})=>bLe(e)||{})}))(e);return i.displayName="OverrideEntityIDsWithSource("+ff(e)+")",i};function SLe(e,t){return Og(e,e=>t.reduce((t,i)=>(e&&i in e&&(t[i]=e[i]),t),{}))}function CLe(e={},t={}){const{identifier:i,title:n,sourceTitle:a}=e,{friendlyName:s,sourceTitle:r}=t;let o;return jt.k(i,jt.d)?o=r||s:n&&(o=a?n+"  "+a:n),o}function MLe(){return Object(Wu.a)(SLe(HS(),["identifier","title","sourceTitle"]),SLe(_S(),["friendlyName","sourceTitle"]),(e,t)=>CLe(e,t))}function DLe(e,t=yc){switch(e){case"home.continue":return"continueWatching";case"home.newscast":return"newscast";case"home.recommended":return"recommended";case"home.watchTogether":return"watchTogether";default:return t}}var PLe=function(e,t){return e+":"+t};var OLe=vc.a.shape({key:vc.a.string,hubKey:vc.a.string,title:vc.a.string,icon:vc.a.string,type:vc.a.string,subtype:vc.a.string,agent:vc.a.string,updatedAt:vc.a.number,scannedAt:vc.a.number,context:vc.a.string});function jLe(e,t){const{isServer:i,serverIdentifier:n,providerIdentifier:a}=Object(sr.a)(e);return Zt(!i,n,a,t)}var wLe=function(e,t){return e-t*Math.floor(e/t)};var TLe=function(e,t){const i=e.match(/^#([0-9|a-f]{2})([0-9|a-f]{2})([0-9|a-f]{2})$/i);if(!i)throw new Error("invalid hex color pattern");const[,n,a,s]=i;return"rgba("+parseInt(n,16)+", "+parseInt(a,16)+", "+parseInt(s,16)+", "+t+")"},ELe=i("Wdw6"),NLe=i.n(ELe);function xLe(e){const{attributionLogo:t}=e;return Vu()("img",{className:NLe.a.img,src:t})}var ALe=i("iApP"),LLe=i.n(ALe);function kLe({className:e,src:t}){return Vu()("img",{className:e,src:t})}var RLe=function(e){const{className:t,serverEntityID:i,providerEntityID:n,metadataItemEntityID:a,imageWidth:s,imageHeight:r,imageUrl:o,attributionLogo:l,backgroundColor:c="#000000",callToAction:d,summary:u,title:p}=e,h=TLe(c,0),m=TLe(c,1),g={backgroundColor:m},v={backgroundImage:"linear-gradient(to left, "+h+", "+m+" 400px)"};return Vu()("div",{style:g,className:t,"data-qa-id":"cellItem"},void 0,i?Vu()(tC,{className:LLe.a.spotlightImage,serverEntityID:i,providerEntityID:n,url:o,width:s,height:r,component:kLe}):null,Vu()("div",{className:LLe.a.colorOverlay,style:v}),Vu()("div",{className:LLe.a.copyOverlay},void 0,p?Vu()("div",{className:LLe.a.title},void 0,p):Vu()(kce,{className:LLe.a.title,serverEntityID:i,providerEntityID:n,metadataItemEntityID:a}),Vu()("div",{className:LLe.a.summary},void 0,u),d?Vu()("div",{className:LLe.a.callToAction},void 0,d):null),Vu()("div",{className:LLe.a.attributionLogo},void 0,Vu()(xLe,{attributionLogo:l})))};var zLe=Object(Hu.b)((function(){return Object(Wu.a)((e,{cellWidth:t})=>t,(e,{cellHeight:t})=>t,$K(),(e,t,i={},n)=>{const a=(s=e,r=t,{url:i.art,width:s,height:r});var s,r;return{icon:i.icon,imageWidth:a.width,imageHeight:a.height,imageUrl:a.url,attributionLogo:i.attributionLogo,backgroundColor:i.backgroundColor,callToAction:i.action,summary:i.summary}})}))(RLe),ULe=i("8jJ5"),VLe=i.n(ULe);var BLe=function(e){const{children:t,route:i,onPress:n}=e;return Vu()(zp,{className:VLe.a.link,to:i,"data-qa-id":"spotlightItem",onPress:n},void 0,t)};var FLe=Object(Hu.b)((function(){return Object(Wu.a)(WSe(),e=>({route:e}))}))(BLe),HLe=i("lj0k"),_Le=i.n(HLe);const{useCallback:WLe}=Nd.a;var QLe=Vu()(Ree,{});var GLe=function(e){const{title:t,index:i,selectedIndex:n,onPress:a}=e,s=WLe(()=>{a(i)},[i,a]),r=i===n?_Le.a.selectedDotButton:_Le.a.dotButton;return Vu()(zp,{className:r,title:t,onPress:s},void 0,QLe)};var KLe=Object(Hu.b)((function(){return Object(Wu.a)($K(),e=>({title:e.title}))}))(GLe),YLe=i("U6V7"),qLe=i.n(YLe);const{Fragment:ZLe,useCallback:JLe,useEffect:XLe,useState:$Le}=Nd.a;var eke=function(e){const{serverEntityID:t,providerEntityID:i,metadataListEntityID:n,metadataItemEntityIDs:a,hubIdentifier:s,metricsContext:r,containerKey:o,listType:l,listSubtype:c,listContext:d,autoAdvanceDelayMs:u,totalSize:p,onListReady:h}=e,m=$Le({}),g=m[1],v=m[0];XLe(()=>{v.isMeasured&&h()},[v,h]);const y=$Le(0),f=y[1],b=y[0],I=a[b],S=$b(I),C=S&&S!==I;XLe(()=>{if(!u)return;const e=window.setInterval(()=>{f(wLe(b+1,p))},u);return()=>{window.clearInterval(e)}},[u,b,p]);const M=JLe(()=>{f(wLe(b-1,p))},[b,p]),D=JLe(()=>{f(wLe(b+1,p))},[b,p]),P=kMe(l,d,{providerEntityID:i,subtype:c,isExternal:s.indexOf("external")>-1});return XLe(()=>{0===p&&h()},[p,h]),0===p?null:Vu()(T0,{className:qLe.a.hub,onMeasure:g},void 0,v.isMeasured?Vu()(ZLe,{},void 0,Vu()(FLe,{metadataItemEntityID:I,metricsContext:r},void 0,Vu()(zLe,{className:qLe.a.cellItem,serverEntityID:t,providerEntityID:i,metadataListEntityID:n,metadataItemEntityID:I,containerKey:o,listType:l,listSubtype:c,listContext:d,titleComponents:P,cellWidth:v.width,cellHeight:v.height,metricsContext:r},I),C?Vu()(zLe,{tabIndex:-1,className:qLe.a.cellItemFade,serverEntityID:t,providerEntityID:i,metadataListEntityID:n,metadataItemEntityID:S,containerKey:o,listType:l,listSubtype:c,listContext:d,titleComponents:P,cellWidth:v.width,cellHeight:v.height,metricsContext:r},S):null),p>1?Vu()(ZLe,{},void 0,Vu()(JK,{className:qLe.a.iconButtonPrev,iconComponent:yO,title:Object(Ze.default)("Previous Page"),onPress:M}),Vu()("div",{className:qLe.a.dotsContainer},void 0,a.map((e,t)=>Vu()(KLe,{metadataItemEntityID:e,selectedIndex:b,index:t,onPress:f},t))),Vu()(JK,{className:qLe.a.iconButtonNext,iconComponent:mO,title:Object(Ze.default)("Next Page"),onPress:D})):null):null)};function tke(e,t,i,n){const{key:a,typeKey:s,title:r,type:o,subtype:l,content:c,context:d}=n;return ai(a)?si(a,e,t,i):/\/library\/sections\/(\w+)\/cluster/.test(a)?si(ti,e,t,i):/\/watchnow$/.test(a)?si(ei,e,t,i):Xt(e,t,i,c?{key:a,typeKey:s,context:d}:{key:a,type:o,subtype:l,title:r,context:d,pageType:n.pageType})}function ike(e){return"continueWatching"===e||"newscast"===e||"watchTogether"===e}function nke({type:e,aspectRatio:t,titleCount:i,context:n}){const a=parseInt(BV.posterTitleHeight,10);let s,r,o,l,c,d=parseInt(BV.posterTitlePadding,10);ike(n)?(s=Math.max(2,i-1),r=300,o=200,c=2,l=6,d*=2):(s="mixed"===e?i+3:i,o=t>1?180:80,r=t>1?240:120,c=t>1?2:3,l=t>1?8:11);return{titleHeight:s?s*a+d:0,minCellWidth:o,preferredCellWidth:r,minColumns:c,maxColumns:l}}const ake={};function ske(e,t,i,n=0,a=0){const s=e+(t||"")+i+n+a;if(ake.hasOwnProperty(s))return ake[s];const r=kC(e,t,i),{titleHeight:o,minCellWidth:l,preferredCellWidth:c,minColumns:d,maxColumns:u}=nke({type:e,aspectRatio:r,titleCount:a,context:i}),p=F0({direction:"horizontal",rows:1,overscan:0,innerHorizontalPadding:30,innerVerticalPadding:30,outerPaddingTop:10,outerPaddingRight:5,outerPaddingBottom:5,outerPaddingLeft:5,getCellWidth:e=>Ybe(Object.assign({},e,{preferredCellWidth:c,minCellWidth:l,minColumns:d,maxColumns:u,columnAdjustment:n})),getCellHeight:e=>Gbe(Object.assign({},e,{aspectRatio:r,titleHeight:o}))});return p.cellOptions={preferredCellWidth:c,minCellWidth:l,minColumns:d,maxColumns:u,columnAdjustment:n,aspectRatio:r,titleHeight:o},ake[s]=p,p}const rke=parseInt(BV.listButtonHeight,10);var oke=F0({direction:"horizontal",rows:1,overscan:4,innerHorizontalPadding:30,innerVerticalPadding:30,outerPaddingTop:10,outerPaddingRight:5,outerPaddingBottom:5,outerPaddingLeft:5,getCellWidth:e=>Ybe(Object.assign({},e,{preferredCellWidth:250,minCellWidth:200,minColumns:2,maxColumns:8,columnAdjustment:0})),getCellHeight:e=>rke}),lke=i("R9Jt"),cke=i.n(lke);var dke=function(e){const{className:t,serverEntityID:i,providerEntityID:n,metadataItemEntityID:a,metadataKey:s,metadataType:r,imageUrl:o,imageWidth:l,imageHeight:c}=e,d=Y0(e),u=!s,p=u||d.isPlaceholder,h=kMe("channels","discover",{providerEntityID:n});return Vu()("div",{className:t,style:d.style},void 0,p?Vu()("div",{className:cke.a.placeholder,style:{width:l,height:c}}):Vu()(zwe,{cardClassName:cke.a.card,metadataKey:s,metadataItemEntityID:a,serverEntityID:i,providerEntityID:n,type:r,imageWidth:l,imageHeight:c,imageUrl:o,backgroundSize:"contain"}),Vu()("div",{className:cke.a.titleContainer},void 0,u?Object(Ze.default)("Loading..."):h.map((e,t)=>e?Vu()(oSe,{serverEntityID:i,providerEntityID:n,metadataItemEntityID:a,component:e,isDoubleLine:e.isDoubleLine},t):null)))};var uke=kK((function(){return Object(Wu.a)((e,{cellWidth:t})=>t,(e,{type:t})=>t,$K(),(e,t,i={})=>({metadataKey:i.key,metadataType:i.type,imageUrl:i.dvrChannel&&i.dvrChannel.thumb,imageWidth:e,imageHeight:zC(e,t)}))}))(dke);var pke=Object(Wu.a)(Gu,e=>e.metadataDirectories);function hke(){return Object(Wu.a)((e,{sourceDirectory:t})=>t,(e,{metricsContext:t})=>t,_S(),HS(),$K(),(e,t,i,n,a)=>{if(!a)return;return tke(i,n,e,{key:a.key,typeKey:a.typeKey,title:a.title,pageType:a.type===xt?xt:At,content:a.content,context:a.context||t})})}var mke=i("sPni"),gke=i.n(mke);var vke=function(e){const{className:t,title:i,route:n}=e,a=Y0(e);return Vu()("div",{className:t,style:a.style},void 0,Vu()(hw,{className:gke.a.button,kind:jp,size:_h,to:n},void 0,i))};var yke=kK((function(){return Object(Wu.a)(Object(Wu.a)((e,{metadataDirectoryEntityID:t})=>t,pke,(e,t)=>t[e]),hke(),(e={},t)=>({directoryKey:e.key,directoryType:e.type,title:e.title,route:t}))}))(vke),fke=i("cyOn"),bke=i.n(fke);const Ike=2*parseInt(BV.posterIconPadding,10);var Ske=function({serverEntityID:e,providerEntityID:t,directoryKey:i,route:n,imageWidth:a,imageHeight:s,imageUrl:r,icon:o,title:l,isOffscreen:c,isOtherItemSelected:d,onMouseEnter:u}){return Vu()("div",{className:bke.a.cardContainer,"data-qa-id":"directoryPosterCard--"+i},i,Vu()("div",{className:bke.a.card,style:{width:a,height:s}},void 0,Vu()("div",{className:bke.a.face},void 0,!c&&r?Vu()(cC,{serverEntityID:e,providerEntityID:t,url:r,width:a,height:s}):null,!c&&o?Vu()("div",{className:bke.a.iconContainer},void 0,Vu()(cC,{serverEntityID:e,providerEntityID:t,url:o,width:a-Ike,height:s-Ike,backgroundSize:"contain"})):null,c||r||o||!l?null:Vu()("div",{className:bke.a.titleContainer},void 0,Vu()("div",{className:bke.a.titleItem},void 0,l)),Vu()("div",{className:bke.a.overlay,onMouseEnter:u},void 0,Vu()("div",{className:bke.a.overlayBackground}),Vu()(zp,{className:bke.a.overlayLink,to:n}),d?Vu()(Wb,{className:bke.a.overlaySelectCoverButton,component:zp,tooltip:Object(Ze.default)("A different type is selected"),tooltipAttachment:Mb,showOnFocus:!1,hideOnPress:!1}):null))))},Cke=i("8idU"),Mke=i.n(Cke);var Dke=function(e){const{className:t,serverEntityID:i,providerEntityID:n,imageWidth:a,imageHeight:s,directoryKey:r,directoryType:o,title:l,thumb:c,icon:d,route:u,onMouseEnter:p}=e,h=Y0(e),m=!r,g=m||h.isPlaceholder;return Vu()("div",{className:t,style:h.style},void 0,g?Vu()("div",{className:Mke.a.placeholder,style:{width:a,height:s}}):Vu()(Ske,{serverEntityID:i,providerEntityID:n,directoryKey:r,route:u,imageWidth:a,imageHeight:s,imageUrl:c,icon:d,title:l,onMouseEnter:p}),Vu()("div",{className:Mke.a.titleContainer},void 0,m||"directory"!==o&&"genre"!==o?null:Vu()("div",{className:Mke.a.titleContainer},void 0,Vu()("span",{className:Mke.a.title},void 0,l))))};var Pke=kK((function(){return Object(Wu.a)((e,{listContext:t})=>t,(e,{cellWidth:t})=>t,$K(),hke(),zre,(e,t,i={},n,a)=>({directoryKey:i.key,directoryType:i.type,title:i.title,thumb:i.thumb,icon:i.icon,imageWidth:t,imageHeight:zC(t,i.type,i.subtype,e),route:n,isOtherItemSelected:!!a.activeSelectionType}))}))(Dke);const Oke=Nd.a.createElement;function jke(e){const t=function(e,t){if("channels"===t)return uke;switch(e){case ebe.b:return yke;default:return Pke}}(e.hubStyle,e.listType);return function(i){return Oke(t,tp()({},e,i))}}const wke=Nd.a.createElement;var Tke=function(e){const{metadataListEntityID:t,metadataItemEntityIDs:i,sourceDirectory:n,containerKey:a,listType:s,listSubtype:r,listContext:o,style:l,columnAdjustment:c,populatedRange:d}=e,u=Xe()(e,["metadataListEntityID","metadataItemEntityIDs","sourceDirectory","containerKey","listType","listSubtype","listContext","style","columnAdjustment","populatedRange","route"]),{serverEntityID:p,providerEntityID:h}=u;let m;if(l===ebe.b)m=oke;else{m=ske(s,r,o,c,kMe(s,o,{providerEntityID:h,subType:r}).length)}return wke(Vbe,tp()({},u,{containerKey:a,keyPropName:"metadataItemEntityID",items:i,itemsOffset:d.start,layout:m,cellRenderer:jke({serverEntityID:p,providerEntityID:h,metadataListEntityID:t,sourceDirectory:n,containerKey:a,hubStyle:l,listType:s,listContext:"directoryList"})}))};function Eke(){return Object(Wu.a)((e,{providerEntityID:t})=>t,yg,$K(),(e,t,i={})=>!!t[i.providerEntityID||e])}let Nke;var xke=function(e){if(!e)return"";Nke||(Nke=document.createElement("P")),Nke.innerHTML=e;const t=Nke.textContent;return Nke.innerHTML="",t};function Ake(){return Object(Wu.a)(xae,$K(),(e,t={})=>{const{summary:i}=t;return"html"===(e?Bt(e.identifier):null)?xke(i):i})}let Lke;var kke=Object(Wu.a)(zre,e=>{const t=I.a.pluck(e.activeSelectionItems,"id");return Lke&&I.a.isEqual(Lke,t)?Lke:(Lke=t,t)});let Rke,zke={};function Uke(e,t){if(!e||null==t)return!1;if(e===Rke&&zke.hasOwnProperty(t))return zke[t];e!==Rke&&(Rke=e,zke={});const i=-1!==e.indexOf(t);return zke[t]=i,i}function Vke(){return Object(Wu.a)($K(),kke,(e,t)=>!!e&&Uke(t,e.ratingKey))}function Bke(){return Object(Wu.a)((e,{listType:t})=>t,$K(),(e,t={})=>{const i=t.type;if(i){if(i===Qt.m)return Qt.m;if(i===Qt.e)return Qt.e;if(e===Qt.k)return Qt.k;{const e=Qt.t(i);return e&&e.mediaType}}})}function Fke(){return Object(Wu.a)((e,{listSubtype:t})=>t,$K(),(e,t)=>t?t.subtype:e)}function Hke(){return Object(Wu.a)((e,{listType:t})=>t,$K(),(e,t)=>{if(!t)return e;const i=e===Qt.k&&t.type===Qt.d,n=e===Qt.d&&t.type===Qt.j;return i||n?e:t.extraType?"extra":t.type})}const{useCallback:_ke,useState:Wke}=Nd.a;function Qke(){const e=Wke(!1),t=e[1],i=e[0],n=_ke(()=>{t(!0)},[]),a=_ke(()=>{t(!1)},[]);return[i,{onMouseEnter:n,onMouseLeave:a,onFocus:n,onBlur:a}]}function Gke(e,t){switch(e){case Qt.n:return Object(Ze.default)("Seasons");case Qt.f:return 1===t?Object(Ze.default)("1 Episode"):Object(Ze.default)("{episodeCount} Episodes",{episodeCount:t});case Qt.a:return 1===t?Object(Ze.default)("1 Album"):Object(Ze.default)("{albumCount} Albums",{albumCount:t});case Qt.p:return 1===t?Object(Ze.default)("1 Track"):Object(Ze.default)("{trackCount} Tracks",{trackCount:t});default:return 1===t?Object(Ze.default)("1 Item"):Object(Ze.default)("{trackCount} Items",{trackCount:t})}}var Kke=i("k4np"),Yke=i.n(Kke);var qke=function(e){const{imageWidth:t,imageHeight:i,isSelected:n}=e,a={width:t,height:i};return Vu()("div",{className:(Yke.a.placeholder||"")+" "+(n&&Yke.a.isSelected||""),style:a})};var Zke=function({className:e,index:t}){return null==t?null:Vu()("span",{className:e},void 0,t)},Jke=i("pIrp"),Xke=i.n(Jke);const $ke=Nd.a.createElement,{useState:eRe}=Nd.a;var tRe=Vu()(ewe,{});var iRe=function(e){const{serverEntityID:t,providerEntityID:i,metadataItemEntityID:n,containerKey:a,listType:s,listContext:r,cellIndex:o,metadataKey:l,grandparentKey:c,type:d,index:u,title:p,parentTitle:h,summary:m,leafCount:g,duration:v,isFolder:y,route:f,isCondensed:b,isUnavailable:I,showLink:S,showEdit:C,showSelect:M,showMore:D,hasActiveSelection:P,isSelected:O,isOtherItemSelected:j,isModifierKeyPressed:w,imageWidth:T,imageHeight:E,imageUrl:N,onEditPress:x,onSelectPress:A,onDeselectPress:L}=e,k=Y0(e),[R,z]=Qke(),U=eRe(!1),V=U[1],B=U[0],F=Object(Qt.s)(d),H=I||k.isPlaceholder,_=r===yc,W=M&&(w||j),Q=P?"-1":"0",G=null!=u,K=!R;return $ke("div",tp()({className:((!b&&o%2?Xke.a.alternateItem:Xke.a.item)||"")+" "+(P&&Xke.a.hasActiveSelection||"")+" "+(W&&Xke.a.isForcingSelection||"")+" "+(O&&Xke.a.isSelected||"")+" "+(B&&Xke.a.isActionsMenuOpen||""),style:k.style},z),M?Vu()(zp,{className:Xke.a.selectCoverButton,"aria-label":O?Object(Ze.default)("Deselect {title}",{title:p}):Object(Ze.default)("Select {title}",{title:p}),tabIndex:S&&!P?"-1":"0",onPress:O?L:A}):null,S?Vu()(zp,{className:Xke.a.underlay,tabIndex:Q,to:f,"aria-label":p}):null,Vu()("div",{className:Xke.a.overlay},void 0,Vu()("div",{className:Xke.a.posterContainer},void 0,H?Vu()(qke,{imageWidth:T,imageHeight:E}):Vu()(zwe,{serverEntityID:t,providerEntityID:i,metadataItemEntityID:n,containerKey:a,listType:s,listContext:r,metadataKey:l,type:d,imageWidth:T,imageHeight:E,imageUrl:N,isFolder:y,showLink:!1,showSelect:!1,showEdit:!1,showMore:!1})),Vu()("div",{className:_?Xke.a.librarySummaryContainer:Xke.a.summaryContainer},void 0,Vu()("div",{},void 0,Vu()("div",{className:Xke.a.titleContainer},void 0,Vu()("div",{className:m?Xke.a.title:Xke.a.doubleTitle},void 0,c?Vu()("span",{},void 0,_?Vu()(Sce,{metadataItemEntityID:n}):G&&Vu()(Zke,{index:u}),_||G?Vu()(tf,{className:Xke.a.separator}):null):null,p),b?null:Vu()("div",{className:Xke.a.rating},void 0,Vu()(xMe,{metadataItemEntityID:n,hideUnrated:K})),Vu()("div",{className:Xke.a.actions},void 0,M?Vu()(NV,{className:Xke.a.selectButton,tabIndex:Q,title:p,isSelected:O,onPress:A}):null,C?Vu()(zp,{"data-qa-id":"metadataSummaryEditButton",className:Xke.a.editButton,tabIndex:Q,"aria-label":Object(Ze.default)("Edit {title}",{title:p}),onPress:x},void 0,tRe):null,D?Vu()(fce,{"data-qa-id":"metadataSummaryMoreButton",className:Xke.a.moreButton,tabIndex:Q,serverEntityID:t,providerEntityID:i,metadataItemEntityID:n,containerKey:a,listType:s,showPlay:!1,showQueuePlexMix:!1,showEdit:!1,isMenuOpen:B,onMenuOpenChange:V}):null)),h?Vu()("div",{className:Xke.a.subtitle},void 0,Vu()("span",{},void 0,Vu()(Mce,{metadataItemEntityID:n}),g?Vu()(tf,{className:Xke.a.separator,separator:""}):null,g?Gke(F,g):null,v?Vu()(tf,{className:Xke.a.separator,separator:""}):null,v?Vu()(DCe,{duration:v}):null)):null,Vu()("div",{className:h?Xke.a.shorterSummary:Xke.a.summary},void 0,m)))))},nRe=i("bKz6"),aRe=i.n(nRe);var sRe=function(e){const{cellIndex:t,imageWidth:i,imageHeight:n}=e,a=Y0(e);return Vu()("div",{className:t%2?aRe.a.alternateLoadingItem:aRe.a.loadingItem,style:a.style},void 0,Vu()("div",{className:aRe.a.posterContainer},void 0,Vu()(qke,{imageWidth:i,imageHeight:n})),Object(Ze.default)("Loading..."))};const rRe=Nd.a.createElement,{Component:oRe}=Nd.a,lRe=parseInt(BV.summaryCellPadding,10),cRe=Nje(iRe);var dRe=Object(Hu.b)(Lae)(kK((function(){return Object(Wu.a)((e,{listContext:t})=>t,(e,{cellHeight:t})=>t,$K(),Aae,xae,IT,Hke(),Fke(),WSe(),Ake(),Bke(),Vke(),zre,Eke(),(e,t,i={},n,a,s,r,o,l,c,d,u,p,h)=>{const m=Eae(null,t-2*lRe,r,o,i,e),g=!n||!a;return{metadataKey:i.key,grandparentKey:i.grandparentKey,parentTitle:i.parentTitle,type:r,index:i.index,title:i.title,leafCount:i.leafCount,duration:i.duration,summary:c,isFolder:i.isFolder,isUnavailable:!h,selectionID:i.entityID,selectionType:d,activeSelectionType:p.activeSelectionType,isSelected:u,route:l,showLink:!!l,showEdit:!g&&Xae({server:n,provider:a,stableUser:s,metadataItem:i}),showSelect:!g&&sse({server:n,provider:a,stableUser:s,metadataItem:i}),showMore:!i.isFolder&&h,imageWidth:m.width,imageHeight:m.height,imageUrl:m.url}})}),(function(e,t){const{metadataListEntityID:i,metadataItemEntityID:n,metricsPage:a}=t;return{onEditPress(){e(tae({metadataItemEntityID:n,metricsPage:a}))},onSelectItem(t){e(Nx(Object.assign({metadataListEntityID:i,id:n},t)))},onDeselectItem(t){e(xx(Object.assign({metadataListEntityID:i},t)))}}}),Nae)(class extends oRe{render(){return this.props.metadataKey?this.props.showSelect?rRe(cRe,this.props):rRe(iRe,this.props):rRe(sRe,this.props)}}));const uRe=parseInt(BV.summaryCellHeight,10),pRe={};function hRe(e,t,i){var n;return null==i||null==(n=i.find(i=>i.type===e&&i.subtype===t))?void 0:n.fields}var mRe=i("hjda"),gRe=i.n(mRe);const vRe=Nd.a.createElement;var yRe=function(e){const{className:t,serverEntityID:i,providerEntityID:n,metadataItemEntityID:a,searchResultEntityID:s,containerKey:r,listType:o,listContext:l,titleComponents:c,isFeaturedHub:d,metadataKey:u,displayFields:p,displayFieldDefinitions:h,type:m,subtype:g,selectionType:v,activeSelectionType:y,isSelected:f,isUnavailable:b,imageWidth:I,imageHeight:S,imageUrl:C,onSelectItem:M,onDeselectItem:D}=e,P=Xe()(e,["className","serverEntityID","providerEntityID","metadataItemEntityID","searchResultEntityID","containerKey","cellIndex","cellX","cellY","cellWidth","cellHeight","isVirtual","isVisible","isScrolling","listType","listContext","titleComponents","isFeaturedHub","metadataKey","displayFields","displayFieldDefinitions","type","subtype","selectionType","activeSelectionType","isSelected","isUnavailable","imageWidth","imageHeight","imageUrl","onSelectItem","onDeselectItem"]),O=Y0(e),j=!u,w=j||b||O.isPlaceholder,T=function(e,t,i,n,a,s){const r="mixed"===t,o=t===Qt.k,l=i===Qt.e;if(s)return LMe(s);if(!r&&!o&&!l)return e;const c=AMe(i,n,a),d=AMe(t,n,a),u=e.filter(e=>!d.includes(e));return c.concat(u)}(c,o,m,g,l,p||hRe(m,g,h)),E=d?T.slice(0,2):[],N=d?T.slice(2):T;return Vu()("div",{className:t,style:O.style,"data-qa-id":"cellItem"},void 0,w?Vu()(qke,{imageWidth:I,imageHeight:S,isSelected:f}):vRe(zwe,tp()({serverEntityID:i,providerEntityID:n,metadataItemEntityID:a,containerKey:r,listType:o,listContext:l,metadataKey:u,type:m,imageWidth:I,imageHeight:S,imageUrl:C,selectionType:v,activeSelectionType:y,isSelected:f,onSelectItem:M,onDeselectItem:D},P)),Vu()("div",{"data-qa-id":"metadataTitleContainer",className:d?gRe.a.continueWatchingTitleContainer:gRe.a.titleContainer},void 0,j?Object(Ze.default)("Loading..."):null,!j&&E.length?Vu()("div",{className:gRe.a.splitTitleContainer},void 0,E.map((t,o)=>Vu()(oSe,{serverEntityID:i,providerEntityID:n,metadataItemEntityID:a,searchResultEntityID:s,containerKey:r,metricsContext:e.metricsContext,component:t,isSecondary:o>0,isDoubleLine:t.isDoubleLine,isSplitLine:!0},o))):null,j?null:N.map((t,o)=>t?Vu()(oSe,{serverEntityID:i,providerEntityID:n,metadataItemEntityID:a,searchResultEntityID:s,containerKey:r,metricsContext:e.metricsContext,component:t,isSecondary:E.length+o>0,isDoubleLine:t.isDoubleLine},o):null)))};var fRe=Object(Hu.b)((function(){return Object(Wu.a)((e,{listContext:t})=>t,(e,{cellWidth:t})=>t,(e,{displayFieldDefinitions:t})=>t,$K(),Hke(),Fke(),Bke(),Vke(),zre,Eke(),(e,t,i,n={},a,s,r,o,l,c)=>{var d;const u=Eae(t,null,a,s,n,e);return{itemServerEntityID:n.serverEntityID,itemProviderEntityID:n.providerEntityID,isFeaturedHub:ike(e),metadataKey:n.key,displayFieldDefinitions:i,displayFields:(null==(d=n.Context)?void 0:d.displayFields)||hRe(a,s,i),type:a,subtype:s,selectionType:r,activeSelectionType:l.activeSelectionType,isSelected:o,icon:n.icon,imageWidth:u.width,imageHeight:u.height,imageUrl:u.url,isFolder:n.isFolder,isUnavailable:!c}})}),(function(e,t){const{metadataListEntityID:i}=t;return{onSelectItem(t){e(Nx(Object.assign({metadataListEntityID:i},t)))},onDeselectItem(t){e(xx(Object.assign({metadataListEntityID:i},t)))}}}))(yRe);const bRe=Nd.a.createElement;var IRe=function(e){const{metadataListEntityID:t,metadataItemEntityIDs:i,metricsContext:n,containerKey:a,listType:s,listSubtype:r,listContext:o,columnAdjustment:l,populatedRange:c,displayFieldDefinitions:d,displayFields:u}=e,p=Xe()(e,["metadataListEntityID","metadataItemEntityIDs","metricsContext","containerKey","listType","listSubtype","listContext","columnAdjustment","populatedRange","displayFieldDefinitions","displayFields"]),{serverEntityID:h,providerEntityID:m,hubIdentifier:g}=p,v=kMe(s,o,{providerEntityID:m,subtype:r,isExternal:g.indexOf("external")>-1,displayFields:u}),y="relatedAlbums"===g;let f=fRe;y&&(f=dRe);const b=y?function(e=0){const t=e;if(pRe.hasOwnProperty(t))return pRe[t];const i=F0({direction:"horizontal",rows:1,getCellWidth:t=>Ybe(Object.assign({},t,{preferredCellWidth:600,minCellWidth:400,minColumns:2,maxColumns:4,columnAdjustment:e})),getCellHeight:()=>uRe});return pRe[t]=i,i}(l):ske(s,r,o,l,v.length);return bRe(Vbe,tp()({},p,{containerKey:a,keyPropName:"metadataItemEntityID",items:i,itemsOffset:c.start,layout:b,cellRenderer:aIe({serverEntityID:h,providerEntityID:m,metadataListEntityID:t,containerKey:a,listType:s,listSubtype:r,listContext:o,titleComponents:v,displayFieldDefinitions:d,displayFields:u,isCondensed:!0,metricsContext:n},f)}))};function SRe(e,t){const{playQueueItems:i,currentIndex:n}=e,a=t[i[n]];return a&&a.metadataItem}function CRe(){return Object(Wu.a)(({ui:e})=>e.audioVideoPlayer&&e.audioVideoPlayer.playQueue,({ui:e})=>e.photoPlayer&&e.photoPlayer.playQueue,(e,{metadataItemEntityID:t})=>t,Lhe,(e,t,i,n)=>{if(!i)return!1;let a,s;e&&(a=SRe(e,n)),t&&(s=SRe(t,n));return a===i||s===i})}var MRe=function({className:e,duration:t,isPreview:i}){return i?Vu()("span",{className:e},void 0,Object(Ze.default)("Preview")):t?Vu()("span",{className:e},void 0,BC(t)):null};var DRe=Object(Hu.b)((function(e,t){return Object(Wu.a)($K(),(e={})=>{const{duration:t,preview:i}=e;return{duration:t,isPreview:!!i}})}))(MRe),PRe=i("vau6"),ORe=i.n(PRe);const jRe=Nd.a.createElement,{useState:wRe}=Nd.a;var TRe=Vu()(ewe,{});var ERe=function(e){const{serverEntityID:t,providerEntityID:i,metadataItemEntityID:n,containerKey:a,listType:s,listContext:r,cellIndex:o,metadataKey:l,type:c,title:d,isFolder:u,isUnavailable:p,route:h,showLink:m,showEdit:g,showSelect:v,showMore:y,skipGrandparent:f,hasActiveSelection:b,isSelected:I,isOtherItemSelected:S,isModifierKeyPressed:C,isPlayerPaused:M,isPlaying:D,imageWidth:P,imageHeight:O,imageUrl:j,onEditPress:w,onPlayPress:T,onSelectPress:E,onDeselectPress:N}=e,x=Y0(e),[A,L]=Qke(),k=wRe(!1),R=k[1],z=k[0],U=p||x.isPlaceholder,V=v&&(C||S),B=b?"-1":"0",F=!A;return jRe("div",tp()({className:((o%2?ORe.a.alternateItem:ORe.a.item)||"")+" "+(b&&ORe.a.hasActiveSelection||"")+" "+(V&&ORe.a.isForcingSelection||"")+" "+(I&&ORe.a.isSelected||"")+" "+(z&&ORe.a.isActionsMenuOpen||""),style:x.style},L),v?Vu()(zp,{className:ORe.a.selectCoverButton,"aria-label":I?Object(Ze.default)("Deselect {title}",{title:d}):Object(Ze.default)("Select {title}",{title:d}),tabIndex:m&&!b?"-1":"0",onPress:I?N:E}):null,m?Vu()(zp,{className:ORe.a.underlay,tabIndex:B,to:h,"aria-label":d}):null,Vu()("div",{className:ORe.a.overlay},void 0,Vu()("div",{className:ORe.a.container},void 0,Vu()("div",{className:ORe.a.playIndexContainer},void 0,D?null:Vu()(Zke,{className:ORe.a.index,index:o+1}),D||p?null:Vu()(ide,{className:ORe.a.playButton,"data-qa-id":"listItemPlayButton",tabIndex:B,title:d,onPress:T}),D?Vu()(SAe,{className:ORe.a.equalizer,isPaused:M}):null),Vu()("div",{className:ORe.a.posterContainer},void 0,U?Vu()(qke,{imageWidth:P,imageHeight:O}):Vu()(zwe,{serverEntityID:t,providerEntityID:i,metadataItemEntityID:n,containerKey:a,listType:s,listContext:r,metadataKey:l,type:c,imageWidth:P,imageHeight:O,imageUrl:j,isFolder:u,showLink:!1,showSelect:!1,showEdit:!1,showMore:!1,showPlay:!1})),Vu()("div",{className:ORe.a.titleContainer},void 0,Vu()("div",{},void 0,d),Vu()(Kce,{className:ORe.a.subtitle,metadataItemEntityID:n,skipGrandparent:f,isSecondary:!0})),Vu()("div",{className:ORe.a.actionsContainer},void 0,Vu()(xMe,{className:ORe.a.rating,metadataItemEntityID:n,hideUnrated:F}),Vu()(DRe,{className:ORe.a.duration,metadataItemEntityID:n}),Vu()("div",{className:ORe.a.buttons},void 0,v?Vu()(NV,{className:ORe.a.selectButton,tabIndex:B,title:d,isSelected:I,onPress:E}):null,g?Vu()(zp,{"data-qa-id":"metadataTrackEditButton",className:ORe.a.editButton,tabIndex:B,"aria-label":Object(Ze.default)("Edit {title}",{title:d}),onPress:w},void 0,TRe):null,y?Vu()(fce,{"data-qa-id":"metadataTrackMoreButton",className:ORe.a.moreButton,tabIndex:B,serverEntityID:t,providerEntityID:i,metadataItemEntityID:n,containerKey:a,listType:s,showPlay:!1,showQueuePlexMix:!1,showEdit:!1,isMenuOpen:z,onMenuOpenChange:R}):null)))))},NRe=i("MzBL"),xRe=i.n(NRe);var ARe=function(e){const{cellIndex:t}=e,i=Y0(e);return Vu()("div",{className:t%2?xRe.a.alternateLoadingItem:xRe.a.loadingItem,style:i.style},void 0,Object(Ze.default)("Loading..."))};const LRe=Nd.a.createElement,{Component:kRe}=Nd.a,RRe=parseInt(BV.trackCellPadding,10),zRe=Nje(ERe);var URe=Object(Hu.b)(Lae)(kK((function(){return Object(Wu.a)((e,{listContext:t})=>t,(e,{cellHeight:t})=>t,$K(),Aae,xae,IT,Hke(),Fke(),WSe(),Ake(),Bke(),Vke(),CRe(),e=>e.ui.audioVideoPlayer.isPaused,zre,Eke(),(e,t,i={},n,a,s,r,o,l,c,d,u,p,h,m,g)=>{const v=Eae(null,t-2*RRe,r,o,i,e),y=!n||!a;return{metadataKey:i.key,grandparentTitle:i.grandparentTitle,type:r,index:i.index,title:i.title,summary:c,isFolder:i.isFolder,isUnavailable:!g,selectionID:i.entityID,selectionType:d,activeSelectionType:m.activeSelectionType,isSelected:u,route:l,isPlaying:p,isPlayerPaused:h,showLink:!!l,showEdit:!y&&Xae({server:n,provider:a,stableUser:s,metadataItem:i}),showSelect:!y&&sse({server:n,provider:a,stableUser:s,metadataItem:i}),showMore:!i.isFolder&&g,imageWidth:v.width,imageHeight:v.height,imageUrl:v.url}})}),(function(e,t){const i={serverEntityID:t.serverEntityID,providerEntityID:t.providerEntityID,itemServerEntityID:t.itemServerEntityID,itemProviderEntityID:t.itemProviderEntityID,metadataItemEntityID:t.metadataItemEntityID,metadataListEntityID:t.metadataListEntityID,metricsPage:t.metricsPage,options:{containerKey:t.containerKey,listType:t.listType}};return{onPlayPress(){e(Object(xT.x)(i))},onEditPress(){e(tae(i))},onSelectItem(t){e(Nx(Object.assign({metadataListEntityID:i.metadataListEntityID,id:i.metadataItemEntityID},t)))},onDeselectItem(t){e(xx(Object.assign({metadataListEntityID:i.metadataListEntityID},t)))}}}),Nae)(class extends kRe{render(){return this.props.metadataKey?this.props.showSelect?LRe(zRe,this.props):LRe(ERe,this.props):LRe(ARe,this.props)}})),VRe=i("MUEv"),BRe=i.n(VRe);const{Component:FRe}=Nd.a,HRe={[Qt.p]:parseInt(BV.trackCellHeight,10),[Qt.a]:parseInt(BV.summaryCellHeight,10)},_Re={[Qt.p]:URe,[Qt.a]:dRe},WRe={[Qt.p]:3,[Qt.a]:10};class QRe extends FRe{componentDidMount(){this.props.onListReady&&this.props.onListReady()}render(){const{className:e,serverEntityID:t,providerEntityID:i,hubEntityID:n,metadataListEntityID:a,metadataItemEntityIDs:s,hubIdentifier:r,directoryKey:o,containerKey:l,title:c,attribution:d,route:u,more:p,listType:h,listContext:m}=this.props,g=HRe[h],v=_Re[h],y=s.slice(0,WRe[h]),f=Qt.u(h).plural,b=p||y.length!==s.length;return Vu()("div",{className:e,"data-qa-id":"hub--"+r},void 0,Vu()(Abe,{className:BRe.a.hubCellHeader,directoryKey:o,hubEntityID:n},void 0,Vu()(abe,{className:BRe.a.title},void 0,d?Vu()(pS,{className:BRe.a.attribution,attribution:d}):null,c),b?Vu()(zp,{className:BRe.a.titleButton,to:u},void 0,Object(Ze.default)("See all {typeLabel}",{typeLabel:f})):null),Vu()("div",{className:BRe.a.list},void 0,y.map((e,n)=>Vu()(v,{serverEntityID:t,providerEntityID:i,metadataListEntityID:a,metadataItemEntityID:e,containerKey:l,listType:h,listContext:m,cellIndex:n,cellHeight:g,style:{width:"100%",height:g}},n))))}}QRe.defaultProps={className:BRe.a.hubCell};var GRe=QRe;const KRe=kK((function(){return Object(Wu.a)((e,{sourceDirectory:t})=>t,(e,{listContext:t})=>t,(e,{allowSourceTitle:t})=>t,(e,{metricsPage:t})=>t,_S(),HS(),bbe(),MLe(),Cbe(),(e,t,i,n,a,s,r,o,l)=>{var c;const d=r.hubIdentifier.indexOf("music.video")>-1?"musicVideo":r.type,u=t||DLe(r.hubIdentifier),p=PLe(n,r.context||r.hubIdentifier);let h,m;if(r.key&&"continueWatching"!==u){const t={key:r.key,title:r.title,pageType:At,context:p};h=e?tke(a,s,e,t):r.source?jLe(r.source,t):Jt(a,s,t)}m="content"===r.type||"channels"===r.type?Tke:r.style===ebe.c?eke:r.style!==ebe.b||r.type!==Qt.p&&1!==r.size?r.metadataList?IRe:Tke:GRe;const g={component:m,metadataListEntityID:r.metadataList,metricsContext:p,hubIdentifier:r.hubIdentifier,title:r.title,sourceTitle:i?o:null,attribution:r.attribution,route:h,style:r.style,size:r.size,more:r.more,random:r.random,autoAdvanceDelayMs:r.autoAdvanceDelayMs,displayFieldDefinitions:null==(c=r.Meta)?void 0:c.DisplayFields,containerKey:r.key,listType:d,listSubtype:r.subtype,listContext:u,isHomeHub:l};if(r.source){const{serverEntityID:e,providerEntityID:t}=bLe(r.source);g.serverEntityID=e,g.providerEntityID=t}return g})}))(_re);KRe.propTypes=Object.assign({},KRe.propTypes,{providerEntityID:vc.a.string.isRequired,serverEntityID:vc.a.string.isRequired,hubEntityID:vc.a.string.isRequired,sourceDirectory:OLe,allowSourceTitle:vc.a.bool});var YRe=KRe;const qRe=Nd.a.createElement,{Component:ZRe}=Nd.a;const JRe={dispatchPopulateProvider:yLe};var XRe=ILe(Object(Hu.b)((function(){return Object(Wu.a)(ZS,e=>({provider:e}))}),JRe)(class extends ZRe{componentDidMount(){this.props.provider.isPopulated||this._populateProvider()}componentDidUpdate(e){this.props.providerEntityID===e.providerEntityID||this.props.provider.isPopulated||this._populateProvider()}_populateProvider(){this.props.dispatchPopulateProvider({providerEntityID:this.props.providerEntityID,options:{merge:!0}})}render(){const e=this.props,{provider:t}=e,i=Xe()(e,["dispatchPopulateProvider","provider"]);return t.isPopulated?qRe(YRe,tp()({},i,{listContext:yc})):null}}),bbe);const{Component:$Re}=Nd.a,eze={opacity:0,pointerEvents:"none"},tze={opacity:1,pointerEvents:"auto"};var ize=class extends $Re{constructor(e,t){super(e,t),this._initialCount=void 0,this._readyCount=void 0,this.onListReady=()=>{++this._readyCount===this._initialCount&&this.setState({isReady:!0})},this.state={isReady:!1},this._readyCount=0}componentWillMount(){this._initialCount=this.props.hubEntityIDs.length}componentWillReceiveProps(e){const t=e.hubEntityIDs.length,i=this.props.hubEntityIDs.length;this.state.isReady||t===i||(this._initialCount=t,this._readyCount===t&&this.setState({isReady:!0}))}shouldComponentUpdate(e,t){return Tp(this,e,t)}render(){const{allowHomeHubIndicator:e,allowPersistentHomeHubStatus:t,allowToggleHomeHub:i,allowSourceTitle:n,className:a,serverEntityID:s,providerEntityID:r,directoryKey:o,hubEntityIDs:l,sourceDirectory:c,isPromoted:d,columnAdjustment:u,listContext:p}=this.props,{isReady:h}=this.state,m=d?XRe:YRe;return Vu()("div",{className:a,style:h?tze:eze},void 0,l.map(a=>Vu()(m,{serverEntityID:s,providerEntityID:r,hubEntityID:a,sourceDirectory:c,directoryKey:o,allowHomeHubIndicator:e,allowPersistentHomeHubStatus:t,allowToggleHomeHub:i,allowSourceTitle:n,listContext:p,columnAdjustment:u,onListReady:this.onListReady},a)))}},nze=i("1pRg"),aze=i.n(nze);function sze({className:e,children:t}){return Vu()("div",{className:e},void 0,t)}sze.defaultProps={className:aze.a.innerContent};var rze=sze,oze=i("Y52O"),lze=i.n(oze);function cze({className:e}){return Vu()("div",{className:e})}cze.defaultProps={className:lze.a.divider};var dze=cze,uze=i("jIku"),pze=i.n(uze);const hze=Nd.a.createElement,{Component:mze}=Nd.a;class gze extends mze{constructor(e,t){super(e,t),this.onLineHeightRef=e=>{e&&this.setState({lineHeight:e.clientHeight})},this.onMeasure=({height:e})=>{this.setState({expandedHeight:e})},this.onTogglePress=()=>{this.setState({isCollapsed:!this.state.isCollapsed,allowTransition:!0})},this.state={isCollapsed:!0,allowTransition:!1,lineHeight:0,expandedHeight:0}}shouldComponentUpdate(e,t){return Tp(this,e,t)}render(){const{className:e,dangerouslySetInnerHTML:t,children:i,labelLess:n,labelMore:a,maxLines:s}=this.props,{isCollapsed:r,allowTransition:o,expandedHeight:l,lineHeight:c}=this.state,d=c*s,u=l>d,p={overflow:"hidden",maxHeight:r?d:l};return Vu()("div",{className:e},void 0,c?null:hze("div",{className:pze.a.lineHeightMeasure,ref:this.onLineHeightRef}),Vu()("div",{className:o?pze.a.contentTransition:void 0,style:p},void 0,Vu()(T0,{ignoreWidth:!0,ignorePosition:!0,onMeasure:this.onMeasure},void 0,t?Vu()("div",{dangerouslySetInnerHTML:t}):i)),u?Vu()(Dy,{className:pze.a.readMore,arrowClassName:pze.a.readMoreArrow,direction:r?my:hy,isSelected:!1,onPress:this.onTogglePress},void 0,r?a:n):null)}}gze.defaultProps={labelLess:"Read Less",labelMore:"Read More",maxLines:3};var vze=gze;const yze=Nd.a.createElement;function fze(e){return yze(vze,tp()({},e,{labelLess:Object(Ze.default)("Read Less"),labelMore:Object(Ze.default)("Read More")}))}fze.defaultProps=Object.assign({},vze.defaultProps);var bze=fze,Ize=i("s4MQ"),Sze=i.n(Ize);function Cze({className:e,dangerouslySetInnerHTML:t,children:i}){const n=i?i.split("\n"):[];return Vu()(bze,{className:e,dangerouslySetInnerHTML:t},void 0,n.length>1?n.map((e,t)=>Vu()("p",{},t,e)):i)}Cze.defaultProps={className:Sze.a.summary};var Mze=Cze;const{Fragment:Dze}=Nd.a;var Pze=Vu()(dze,{});var Oze=function(e){const{title:t,summary:i}=e;return Vu()(Dze,{},void 0,Vu()(rze,{},void 0,Vu()(bxe,{},void 0,Vu()(gxe,{},void 0,t))),Pze,Vu()(rze,{},void 0,Vu()(Mze,{},void 0,i)))},jze=i("QbAs"),wze=i.n(jze);const Tze=Nd.a.createElement;function Eze(e){return Vu()("div",{className:wze.a.attributionLogo},void 0,Tze(xLe,e))}var Nze=i("1vuw"),xze=i.n(Nze);function Aze(e){const{className:t,linkClassName:i,server:n,provider:a,sourceDirectory:s,fallbackFilterKey:r,type:o,tags:l,limit:c}=e;if(!l||!l.length)return null;const d=o&&Object(Qt.u)(o);return Vu()("span",{className:t},void 0,l.map((e,t)=>{if(t>=c)return;let o;if(e.directory&&e.key&&s)o=Xt(n,a,s,{key:e.key,title:e.tag});else if((e.filter||e.id)&&s){const t={filters:e.filter,filterLabel:e.tag};!t.filter&&r&&e.id&&(t.filters=r+"="+e.id),d&&(t.type=d.id),e.context&&(t.context=e.context),o=fte(n,a,s,t)}return Vu()("span",{},t,Vu()(zp,{className:i,to:o,isDisabled:!o},void 0,e.tag),t+1<c&&t+1<l.length?", ":null)}))}Aze.defaultProps={linkClassName:xze.a.tagsListLink,limit:1/0};var Lze=Aze,kze=i("zVLU"),Rze=i.n(kze);function zze({children:e,className:t}){return Vu()("div",{className:t,"data-qa-id":"preplayDetailsContainer"},void 0,e)}zze.defaultProps={className:Rze.a.group};var Uze=zze,Vze=i("lo1/"),Bze=i.n(Vze);function Fze(e){const{children:t,className:i,labelClassName:n,contentClassName:a,label:s}=e;return Vu()("div",{className:i},void 0,Vu()("div",{className:n},void 0,s),Vu()("div",{className:a},void 0,t))}Fze.defaultProps={className:Bze.a.groupItem,labelClassName:Bze.a.label,contentClassName:Bze.a.content};var Hze=Fze;function _ze(e){const{children:t,server:i,provider:n,sourceDirectory:a,type:s,Director:r,Writer:o,Studio:l,studio:c,isLibraryProvider:d}=e;return t||r.length||o.length||c||l.length?Vu()(Uze,{},void 0,t,r.length?Vu()(Hze,{label:Object(Ze.default)("Directed by")},void 0,Vu()(Lze,{server:i,provider:n,sourceDirectory:a,fallbackFilterKey:"director",type:s,tags:r})):null,o.length?Vu()(Hze,{label:Object(Ze.default)("Written by")},void 0,Vu()(Lze,{server:i,provider:n,sourceDirectory:a,fallbackFilterKey:"writer",type:s,tags:o})):null,l.length?Vu()(Hze,{label:Object(Ze.default)("Studio")},void 0,Vu()(Lze,{server:i,provider:n,sourceDirectory:a,fallbackFilterKey:"studio",type:s,tags:l})):null,c&&!l.length?Vu()(Hze,{label:Object(Ze.default)("Studio")},void 0,Vu()(Lze,{server:i,provider:n,sourceDirectory:a,type:s,tags:[{filter:d?"studio="+encodeURIComponent(encodeURIComponent(c)):null,tag:c}]})):null):null}_ze.defaultProps={Director:[],Writer:[]};var Wze=_ze;var Qze=Object(Hu.b)((function(){return Object(Wu.a)($S,ZS,ECe(),$K(),(e,t,i,n={})=>({server:e,provider:t,isLibraryProvider:jt.k(t.identifier,jt.d),sourceDirectory:i,Director:n.Director,Writer:n.Writer,Studio:n.Studio,studio:n.studio}))}))(Wze);function Gze(e,t,i){return!!(!!(e.ownerFeatures&&e.ownerFeatures.indexOf(wt.x)>-1)&&t&&t.isLibraryItem&&!t.isExtra&&function(e){return!e||(e.protocol===$9.a||parseInt(e.protocolVersion,10)>=3)}(i))}var Kze=function(){return Object(Wu.a)(_S(),$K(),(e,t)=>Gze(e,t))};const Yze=Object(Pi.a)("INIT_PRE_PLAY_PAGE"),qze=Object(Pi.a)("INIT_PRE_PLAY_DESCENDANT_LIST"),Zze=Object(Pi.a)("INIT_PRE_PLAY_SIBLING_LIST"),Jze=Object(Pi.a)("INIT_PRE_PLAY_AUGMENTED_HUBS"),Xze=Object(Pi.a)("PRE_FETCH_PRE_PLAY_METADATA_ITEM"),$ze=Object(Pi.a)("FETCH_PRE_PLAY_METADATA_ITEM"),eUe=Object(Pi.a)("FETCH_PRE_PLAY_RELATED_HUBS"),tUe=Object(Pi.a)("FETCH_PRE_PLAY_AUGMENTED_HUBS"),iUe=Object(Pi.a)("MAKE_PRE_PLAY_VIDEO_DECISION"),nUe=Object(Pi.a)("REPOPULATE_PRE_PLAY_POPULAR_TRACKS");function aUe(e){return e.get("ui").get("prePlayPage")}function sUe(e,t){const{metadataItemEntityID:i,containerKeyPattern:n}=t;if(n)return!1;const a=Object(wi.m)(e,t),s=aUe(e).get("metadataItem");return!(!s||s.server!==a)&&(!i||s.entityID()===i)}function rUe(e,t,i){const n=aUe(e),a=n.get("siblingList"),s=n.get("descendantList"),r=n.get("relatedHubs");a&&i(wx({metadataListEntityID:a.entityID()})),s&&(n.get("metadataItem").get("type")===Qt.a?i(Px({metadataListEntityID:s.entityID()})):i(wx({metadataListEntityID:s.entityID()}))),r&&i(eUe())}function oUe(e,t){const i=Object(wi.m)(e,t),n=aUe(e),a=n.get("metadataItem");if(!a||a.server!==i)return;const s=t.activity.Context;if(!s||s.key!==a.get("key"))return;if(null==s.exists&&null==s.accessible)return;const r=!s.exists||!s.accessible;n.set("isFileUnavailable",r),r&&window.setTimeout(()=>{a.set("isPreFetched",!1)},0)}const lUe=Sk({INIT_PRE_PLAY_PAGE(e,t){const i=aUe(e),n=Object(wi.m)(e,t),a=Object(wi.j)(e,t),{providerEntityID:s,metadataKey:r}=t;if(s===i.get("providerEntityID")&&r===i.get("metadataKey"))return;const o=new ut.a({key:r},{server:n,provider:a}),l=V.join([r.replace(/(\/library)?\/metadata/,"/hubs/metadata"),"related"]),c=Object(gT.a)(e,wt.a),d=new pT.default([],{server:n,provider:a,metadataItem:o,hubKey:l,includeExternalMedia:c,includeExternalMetadata:!0,asyncAugmentMetadata:!0});i.restoreDefaults({providerEntityID:s,metadataKey:r,metadataItem:o,siblingKey:i.get("siblingKey"),siblingList:i.get("siblingList"),relatedHubs:d})},INIT_PRE_PLAY_DESCENDANT_LIST(e,t){const i=aUe(e),n=Object(wi.m)(e,t),a=Object(wi.j)(e,t),s=Object(wi.f)(e,t),{providerEntityID:r,descendantKey:o}=t;if(!o)return void i.set({descendantKey:o,descendantList:void 0});if(r===i.get("providerEntityID")&&o===i.get("descendantKey"))return;const l=Object(gT.a)(e,wt.a),c="album"===s.get("type")||"artist"===s.get("type")&&s.get("skipChildren"),d=new Gn.default({containerKey:o},{server:n,provider:a,excludeAllLeaves:!0,includeExternalMedia:l,includeRelated:c});i.set({descendantKey:o,descendantList:d})},INIT_PRE_PLAY_SIBLING_LIST(e,t){const i=aUe(e),n=Object(wi.m)(e,t),a=Object(wi.j)(e,t),{providerEntityID:s,siblingKey:r}=t;if(!r)return void i.set({siblingKey:r,siblingList:void 0});if(s===i.get("providerEntityID")&&r===i.get("siblingKey"))return;const o=Object(gT.a)(e,wt.a),l=new Gn.default({containerKey:r},{server:n,provider:a,excludeAllLeaves:!0,includeExternalMedia:o});i.set({siblingKey:r,siblingList:l})},INIT_PRE_PLAY_AUGMENTED_HUBS(e,t,i){const n=aUe(e),a=n.get("metadataItem"),s=a.get("augmentationKey"),r=[Qt.b,Qt.a],o=[Qt.j,Qt.o,Qt.n,Qt.f],l=a.get("type");if(!(r.includes(l)||o.includes(l))||!s)return void n.set({isAugmentedHubsPending:!1,isAugmentedHubsPopulated:!0});const c=new pT.default([],{server:a.server,provider:a.provider,hubKey:a.get("augmentationKey"),excludeFields:"",wait:1});n.set({augmentedHubs:c}),i(tUe())},PRE_FETCH_PRE_PLAY_METADATA_ITEM(e,t){koe(Object(wi.f)(e,t),{forceFetch:!0})},FETCH_PRE_PLAY_METADATA_ITEM(e,t,i){const n=aUe(e),a=n.get("metadataItem"),s=n.get("isMetadataItemPending");n.set("isMetadataItemPending",!0),koe(a,{forceFetch:!0}).done(()=>{n.set({isMetadataItemPending:!1,isMetadataItemPopulated:!0,metadataItemError:null}),i(Jze())}).fail((e,t)=>{t.aborting?n.set("isMetadataItemPending",s):n.set({isMetadataItemPending:!1,metadataItemError:Object(DT.a)(t)})})},FETCH_PRE_PLAY_RELATED_HUBS:Object(Oi.a)({key:"relatedHubs",getModel:aUe}),FETCH_PRE_PLAY_AUGMENTED_HUBS:Object(Oi.a)({key:"augmentedHubs",getModel:aUe}),MAKE_PRE_PLAY_VIDEO_DECISION(e,t,i){const n=aUe(e),a=e.get("user").get("experienceSettings"),s=n.get("metadataItem"),r=Object(ne.c)("getDecisionOptions")(s),o=ol.a.getCurrentQuality(s,a,e=>i(Object(Qu.l)(e))),l=Ame.getMediaDecision(Object.assign({item:s,transcodeServer:s.server,quality:o},r));n.set("decisionMediaItem",l.media)},[Ei](e,t){"library.refresh.items"===t.activity.type&&oUe(e,t)},[Ni](e,t){"library.refresh.items"===t.activity.type&&oUe(e,t)},[v7.d](e,t,i){sUe(e,t)&&rUe(e,0,i)},[Tn.a](e,t,i){const n=aUe(e),a=n.get("metadataItem");if(sUe(e,t))a.fetch({data:{skipRefresh:1},usePopulatedParams:!0}),rUe(e,0,i);else{const s=Object(wi.m)(e,t),r=n.get("siblingList"),o=t.parentMetadataKey;a&&a.server===s&&r&&o&&a.get("parentKey")===o&&i(wx({metadataListEntityID:r.entityID()}))}},REPOPULATE_PRE_PLAY_POPULAR_TRACKS(e,t,i){const n=aUe(e).get("metadataItem"),a=Object(wi.r)(e,{metadataItemEntityID:t.albumMetadataItemEntityID});n&&a&&n.get("key")===a.get("parentKey")&&i(Object(v7.o)({serverEntityID:t.serverEntityID,metadataItemEntityID:n.entityID()}))}});function cUe(e,t,i){return!!(!!(e.ownerFeatures&&e.ownerFeatures.indexOf(wt.y)>-1)&&t&&t.isLibraryItem&&!t.isExtra&&function(e){return!e||(e.protocol===$9.a||parseInt(e.protocolVersion,10)>=3)}(i))}var dUe=function(){return Object(Wu.a)(_S(),$K(),(e,t)=>cUe(e,t))};const{Component:uUe}=Nd.a;var pUe=class extends uUe{constructor(...e){super(...e),this.onPress=e=>{this.props.onStreamSelect(this.props.stream.id),this.props.onMenuClose()}}render(){const{className:e,children:t,stream:i}=this.props;return Vu()(oy,{className:e,isSelected:!!i.selected,onPress:this.onPress},void 0,t)}},hUe=i("WqrE"),mUe=i.n(hUe);var gUe=function(e){const{target:t,isOpen:i,serverEntityID:n,audioStreams:a,onMenuClose:s,onStreamSelect:r}=e;return Vu()(Qv,{target:t,isOpen:i,size:_h,onMenuClose:s},void 0,a.map(e=>Vu()(pUe,{stream:e,onMenuClose:s,onStreamSelect:r},e.id,Vu()(fM,{serverEntityID:n,type:"audio",stream:e}),e.title?Vu()("span",{className:mUe.a.extendedTitle},void 0,e.title):null)))};var vUe=xe.a.extend({name:"SubtitleModel",rootPropertyName:"Stream",syncedAttrs:{id:Ae.a.integer,key:Ae.a.string,streamType:Ae.a.integer,codec:Ae.a.string,index:Ae.a.integer,language:Ae.a.string,languageCode:Ae.a.string,score:Ae.a.float,providerTitle:Ae.a.string,title:Ae.a.string,displayTitle:Ae.a.string,reason:Ae.a.string,hearingImpaired:Ae.a.boolean,perfectMatch:Ae.a.boolean,downloaded:Ae.a.boolean}});var yUe=ke.a.extend({name:"SubtitlesCollection",context:["server","key","language","title","mediaItemID","minimumScore","hearingImpaired","forced"],model:vUe,url(){const e={language:this.language};return this.title&&(e.title=this.title),this.mediaItemID&&(e.mediaItemID=this.mediaItemID),this.minimumScore&&(e.minimumScore=this.minimumScore),null!=this.hearingImpaired&&(e.hearingImpaired=this.hearingImpaired),null!=this.forced&&(e.forced=this.forced),V.join([this.key,"/subtitles"],e)}});const fUe=Object(Pi.a)("ui/subtitlesModal/resetMetadataItemSubtitles"),bUe=Object(Pi.a)("ui/subtitlesModal/fetchMetadataItemSubtitles"),IUe=Object(Pi.a)("ui/subtitlesModal/downloadMetadataItemSubtitle");Object(Pi.a)("ui/subtitlesModal/clearSubtitlesDownloadError");let SUe=null;function CUe(e){return e.get("ui").get("subtitlesModal")}function MUe(e,t){SUe&&(SUe=window.clearTimeout(SUe));const i=t.get("metadataItemEntityID"),n=Object(wi.f)(e,{metadataItemEntityID:i}),a=n.server,s=t.get("subtitlesDownloadStartTime"),r=t.get("isSubtitlesDownloaded"),o=t.get("subtitlesDownloadError"),l=t.get("subtitlesDownloadKey");r||o||(s&&Date.now()-s>3e4?t.set({subtitlesDownloadActivityID:null,subtitlesDownloadKey:null,subtitlesDownloadStartTime:null,isSubtitlesDownloaded:!1,subtitlesDownloadError:Object(Ze.default)("Failed to download subtitles in time")}):SUe=window.setTimeout(()=>{n.fetch({data:{skipRefresh:1},usePopulatedParams:!0}).then(()=>{if(n.get("Media").some(e=>e.Part.some(e=>e.Stream.some(e=>e.key===l))))return t.set({subtitlesDownloadActivityID:null,subtitlesDownloadKey:null,subtitlesDownloadStartTime:null,isSubtitlesDownloaded:!0,subtitlesDownloadError:null}),void DUe(e);a.get("hasEventConnection")||MUe(e,t)},()=>{MUe(e,t)})},2e3))}function DUe(e){const t=e.get("ui").get("audioVideoPlayer");if(!t.get("isOpen"))return;Object(p7.a)(e).refreshRemoteStreams(t)}const PUe=Sk({"ui/subtitlesModal/resetMetadataItemSubtitles"(e){const t=CUe(e),i=t.get("subtitles");SUe&&(SUe=window.clearTimeout(SUe)),i.abortPendingPopulate(),i.resetPopulatePromise(null),t.restoreDefaults()},"ui/subtitlesModal/fetchMetadataItemSubtitles"(e,t,i){const n=CUe(e),a=function(e){return e.get("user").get("profile")}(e),s=Object(wi.f)(e,t),r=s.server.entityID(),o=n.get("subtitles");o&&(o.abortPendingPopulate(),o.resetPopulatePromise(null));const l=new yUe([],{key:s.get("key"),server:s.server,provider:s.provider,language:t.language,title:t.title,mediaItemID:t.mediaItemID,minimumScore:t.minimumScore,hearingImpaired:a.get("defaultSubtitleAccessibility"),forced:a.get("defaultSubtitleForced")});n.set({subtitles:l,serverEntityID:r,metadataItemEntityID:t.metadataItemEntityID,isSubtitlesPending:!0,isSubtitlesPopulated:!1,subtitlesError:null}),l.fetch().then(e=>{n.set({isSubtitlesPending:!1,isSubtitlesPopulated:!0})},(e,t)=>{t.aborting?n.set("isSubtitlesPending",!1):n.set({isSubtitlesPending:!1,subtitlesError:nT(t,Object(Ze.default)("Unable to load subtitles"))})})},"ui/subtitlesModal/downloadMetadataItemSubtitle"(e,t,i){const n=CUe(e),a=Object(wi.f)(e,t),s=a.server,r={key:t.key,codec:t.codec,language:t.language,hearingImpaired:t.hearingImpaired?1:0,forced:t.forced?1:0,providerTitle:t.providerTitle,mediaItemID:t.mediaItemID,transient:t.transient},o=V.join([a.get("key"),"/subtitles"],r),l=s.getXHROptions(o,{type:"PUT"});n.set({subtitlesDownloadKey:t.key,subtitlesDownloadStartTime:Date.now(),isSubtitlesDownloaded:!1,subtitlesDownloadError:null}),D.a.ajax(l).then((t,i,a)=>{const r=a.getResponseHeader("X-Plex-Activity");n.set("subtitlesDownloadActivityID",r),s.get("hasEventConnection")||MUe(e,n)},e=>{n.set({subtitlesDownloadKey:null,subtitlesDownloadError:nT(e,Object(Ze.default)("Unable to download subtitles"))})})},"ui/subtitlesModal/clearSubtitlesDownloadError"(e){CUe(e).set("subtitlesDownloadError",null)},"server/eventConnectionClose"(e,t){const{serverEntityID:i}=t,n=CUe(e);i===n.get("serverEntityID")&&MUe(e,n)},[Ni](e,t,i){const{activity:n}=t;if("subtitle.download"!==n.type)return;const a=CUe(e);if(n.uuid!==a.get("subtitlesDownloadActivityID"))return;const s=a.get("serverEntityID"),r=a.get("metadataItemEntityID"),o={subtitlesDownloadActivityID:null,subtitlesDownloadKey:null,subtitlesDownloadStartTime:null},l=null!=n.Response.error;l?(o.isSubtitlesDownloaded=!1,o.subtitlesDownloadError=n.Response.status):o.isSubtitlesDownloaded=!0,a.set(o),l||(DUe(e),i(Object(v7.o)({serverEntityID:s,metadataItemEntityID:r})))}});function OUe(e){return e.ui.subtitlesModal}var jUe=i("hPsq");const wUe=["af","sq","ar","an","hy","az","eu","be","bn","bs","br","bg","my","ca","zh","zh-TW","cs","da","nl","en","eo","et","fi","fr","ka","de","gl","el","he","hi","hr","hu","is","id","it","ja","kn","kk","km","ko","ku","lv","lt","lb","mk","ml","ms","mn","no","oc","fa","pl","pt","pt-BR","ro","ru","sr","si","sk","sl","es","sw","sv","ta","te","tl","th","tr","uk","ur","vi"];const TUe=wUe.reduce((e,t)=>(e[t]=nc[t],e),{});function EUe(e){if(TUe[e])return e;const t=sc([e]);return TUe[t]?t:"en"}const NUe=[...wUe].sort(ec).reduce((e,t)=>(e.push(TUe[t]),e),[]);var xUe=TUe;function AUe(e){var t=e["aria-label"],i=e.className,n=e.style,a={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-toolbar-sync-560"};a["aria-hidden"]=!t,a.style=n,a.className=Ad.a.plexIcon+(i?" "+i:"");var s=[Nd.a.createElement.apply(Nd.a,["path",{d:"m280 476c108.248 0 196-87.752 196-196 0-108.248-87.752-196-196-196-108.248 0-196 87.752-196 196 0 108.248 87.752 196 196 196m0 42c-131.444 0-238-106.556-238-238 0-131.444 106.556-238 238-238 131.444 0 238 106.556 238 238 0 131.444-106.556 238-238 238m0-112l112-112-89.6 0 0-140-44.8 0 0 140-89.6 0 112 112"}].concat([]))];return t&&s.unshift(Nd.a.createElement("title",null,t)),Nd.a.createElement.apply(Nd.a,["svg",a].concat(s))}AUe.propTypes={"aria-label":vc.a.string,className:vc.a.string,style:vc.a.object};var LUe=AUe,kUe=i("Mtv6"),RUe=i.n(kUe);const{Component:zUe}=Nd.a;var UUe=class extends zUe{constructor(...e){super(...e),this.onPress=()=>{const{subtitleKey:e,codec:t,languageCode:i,providerTitle:n,hearingImpaired:a,forced:s,onDownloadSubtitle:r}=this.props;r({key:e,codec:t,languageCode:i,providerTitle:n,hearingImpaired:a,forced:s})}}render(){const{title:e,displayTitle:t,score:i,perfectMatch:n,downloaded:a,isDownloading:s}=this.props;return Vu()(zp,{className:RUe.a.item,isDisabled:a||s,onPress:this.onPress},void 0,Vu()("div",{className:RUe.a.titles},void 0,Vu()("span",{className:RUe.a.title},void 0,e),Vu()("span",{className:RUe.a.secondaryTitle},void 0,t)),Vu()("div",{className:RUe.a.score},void 0,n?Vu()(gMe,{className:RUe.a.perfectMatch}):null,i),s?Vu()("div",{className:RUe.a.spinnerContainer},void 0,Vu()(Jh,{size:Fh})):null,a?Vu()(ay,{className:RUe.a.downloadedIcon}):null,s||a?null:Vu()(LUe,{className:RUe.a.downloadIcon}))}};var VUe=function(e){const{subtitles:t,subtitlesDownloadKey:i,onDownloadSubtitle:n}=e;return Vu()(ih,{},void 0,t.map(e=>{const{key:t,title:a,displayTitle:s,providerTitle:r,score:o,codec:l,languageCode:c,hearingImpaired:d,forced:u,perfectMatch:p,downloaded:h}=e;return Vu()(UUe,{subtitleKey:t,title:a,displayTitle:s,providerTitle:r,score:o,codec:l,languageCode:c,hearingImpaired:d,forced:u,perfectMatch:p,downloaded:h,isDownloading:i===t,onDownloadSubtitle:n},t)}))},BUe=i("VVyF"),FUe=i.n(BUe);const{Component:HUe}=Nd.a;var _Ue=Vu()(Jh,{});var WUe=class extends HUe{constructor(e,t){super(e,t),this.searchTimeoutID=void 0,this.onSearch=()=>{const{language:e,title:t}=this.state;this.props.onFetchSubtitles({language:e,title:t})},this.onLanguageChange=e=>{const t=Object.keys(xUe).find(t=>xUe[t]===e);this.setState({language:t},this.onSearch)},this.onTitleChange=e=>{this.searchTimeoutID&&window.clearTimeout(this.searchTimeoutID),this.setState({title:e},()=>{this.searchTimeoutID=window.setTimeout(this.onSearch,500)})},this.state={language:EUe(e.defaultSubtitleLanguage),title:""},this.searchTimeoutID=null}componentDidMount(){this.onSearch()}componentDidUpdate(e,t){const{isSubtitlesDownloaded:i,onModalClose:n}=this.props,{isSubtitlesDownloaded:a}=e;!a&&i&&n()}componentWillUnmount(){this.searchTimeoutID&&window.clearTimeout(this.searchTimeoutID)}render(){const{mediaTitle:e,subtitles:t,showSpinner:i,showSearchResults:n,showEmptyMessage:a,hasSubtitlesError:s,subtitlesError:r,subtitlesDownloadKey:o,hasSubtitlesDownloadError:l,subtitlesDownloadError:c,onDownloadSubtitle:d,onModalClose:u}=this.props,{language:p}=this.state;return Vu()("div",{className:FUe.a.modalContainer},void 0,Vu()(YL,{onModalClose:u},void 0,Vu()(zL,{},void 0,Object(Ze.default)("Subtitles")),l?Vu()("div",{},void 0,Vu()(vV,{errorMessage:c})):null,Vu()(wL,{className:FUe.a.modalBody,scrollDirection:Zp},void 0,Vu()("div",{className:FUe.a.inputs},void 0,Vu()(LR,{className:FUe.a.languageInput,name:"language",value:xUe[p],values:NUe,onChange:this.onLanguageChange}),Vu()(UB,{className:FUe.a.titleInput,name:"title",placeholder:e,onChange:this.onTitleChange})),i?Vu()("div",{className:FUe.a.centeredContainer},void 0,_Ue):null,s?Vu()("div",{className:FUe.a.centeredContainer},void 0,r):null,n?Vu()(VUe,{subtitles:t,subtitlesDownloadKey:o,onDownloadSubtitle:d}):null,a?Vu()("div",{className:FUe.a.centeredContainer},void 0,Object(Ze.default)("No results")):null)))}};var QUe=Object(Hu.b)((function(){return Object(Wu.a)(bg("profile"),$K(),OUe,(e,t={},i)=>{const{Media:n}=t;let a="";if(n&&n.length){const e=n[0].Part;e.length&&(a=Object(jUe.default)(e[0].file,55))}const{subtitles:s,isSubtitlesPending:r,isSubtitlesPopulated:o,subtitlesError:l,subtitlesDownloadKey:c,isSubtitlesDownloaded:d,subtitlesDownloadError:u}=i,p=r&&!l,h=o&&!l&&s.length>0,m=o&&!l&&0===s.length;return{mediaTitle:a,defaultSubtitleLanguage:e.defaultSubtitleLanguage,subtitles:s,showSpinner:p,showSearchResults:h,showEmptyMessage:m,subtitlesDownloadKey:c,isSubtitlesDownloaded:d,hasSubtitlesError:!!l,subtitlesError:l,hasSubtitlesDownloadError:!!u,subtitlesDownloadError:u}})}),(function(e,t){const{metadataItemEntityID:i}=t;return{onFetchSubtitles({language:t,title:n}){e(bUe({metadataItemEntityID:i,language:t,title:n}))},onDownloadSubtitle(t){const{key:n,codec:a,languageCode:s,providerTitle:r,hearingImpaired:o,forced:l}=t;e(IUe({metadataItemEntityID:i,key:n,codec:a,language:s,providerTitle:r,hearingImpaired:o,forced:l}))}}}))(WUe);var GUe=function(e){const{metadataItemEntityID:t,isOpen:i,onModalClose:n}=e;return Vu()(Fw,{isOpen:i,metricsPage:zd.vb,onModalClose:n},void 0,Vu()(QUe,{metadataItemEntityID:t,onModalClose:n}))};const KUe=Nd.a.createElement,{Component:YUe}=Nd.a,qUe={dispatchResetMetadataItemSubtitles:fUe};var ZUe=Object(Hu.b)(null,qUe)(class extends YUe{constructor(...e){super(...e),this.onModalClose=()=>{this.props.dispatchResetMetadataItemSubtitles(),this.props.onModalClose()}}render(){return KUe(GUe,tp()({},this.props,{onModalClose:this.onModalClose}))}});const JUe=["aqt","ass","idx","jss","psb","rt","smi","srt","ssa","sub","txt","utf","utf-8","utf8","vtt"],XUe=Object(Pi.a)("ui/subtitlesUploadModal/resetUploadSubtitles"),$Ue=Object(Pi.a)("ui/subtitlesUploadModal/uploadSubtitles");function eVe(e){return e.get("ui").get("subtitlesUploadModal")}const tVe=Sk({"ui/subtitlesUploadModal/resetUploadSubtitles"(e){eVe(e).restoreDefaults()},"ui/subtitlesUploadModal/uploadSubtitles"(e,t,i){const{file:n}=t,a=Object(wi.f)(e,t),s=eVe(e),r=n.name,o=function(e){const t=e.lastIndexOf(".");return t>=0?e.substring(t+1):null}(r);if(!JUe.includes(o))return void s.set({error:Object(Ze.default)("Unsupported subtitle file format")});if(n.size>1048576)return void s.set({error:Object(Ze.default)("Subtitle file exceeds 1MB size limit")});Object(Ti.a)(()=>{s.set({isUploading:!0,isUploaded:!1,error:null})});const l=new window.FileReader;l.onload=t=>{if(t.target.error)return void s.set({isUploading:!1,isUploaded:!1,error:Object(Ze.default)("Unable to upload subtitle file")});const i=t.target.result,n=V.join([a.get("key"),"subtitles"],{title:r,format:o}),l=a.server.getXHROptions(n,{method:"POST",processData:!1,contentType:!1,data:i});D.a.ajax(l).then(()=>{s.set({isUploading:!1,isUploaded:!0,error:null});const t=e.get("ui").get("audioVideoPlayer");if(a.fetch({data:{skipRefresh:1},usePopulatedParams:!0}),t.get("isOpen")){Object(p7.a)(e).refreshRemoteStreams(t)}},e=>{s.set({isUploading:!1,isUploaded:!1,error:nT(e,Object(Ze.default)("Unable to upload subtitle file"))})})},l.readAsText(n)}});var iVe=i("THTr"),nVe=i.n(iVe);const aVe=Nd.a.createElement,{Component:sVe}=Nd.a;class rVe extends sVe{constructor(e,t){super(e,t),this.onChange=e=>{if(e.target.files&&e.target.files.length){const t=e.target.files[0];this.setState({filename:t.name})}this.props.onChange(e)},this.state={filename:null}}render(){const e=this.props,{inputComponent:t,className:i,inputClassName:n,buttonText:a,showFilename:s}=e,r=Xe()(e,["inputComponent","className","inputClassName","buttonText","isDisabled","showFilename"]),{filename:o}=this.state;return Vu()("span",{},void 0,Vu()(t,{className:i,component:"label"},void 0,a,aVe("input",tp()({},r,{className:n,type:"file",onChange:this.onChange}))),s?Vu()("span",{className:(nVe.a.filename||"")+" "+(!o&&nVe.a.noFilename||"")},void 0,o||Object(Ze.default)("No file selected")):null)}}rVe.defaultProps={inputComponent:hw,inputClassName:nVe.a.fileInput,showFilename:!1};var oVe=rVe,lVe=i("CjSz"),cVe=i.n(lVe);const{Component:dVe}=Nd.a;var uVe=class extends dVe{constructor(e,t){super(e,t),this.dropTargetEnteredCounter=void 0,this.onDragEnter=(e=window.event)=>{e.preventDefault(),this.dropTargetEnteredCounter++,this.setOverDropTargetState()},this.onDragLeave=(e=window.event)=>{e.preventDefault(),this.dropTargetEnteredCounter--,this.setOverDropTargetState()},this.onFileDrop=e=>{e.preventDefault();const{metadataItemEntityID:t,dispatchUploadSubtitles:i}=this.props;let n;this.setState({isOverDropTarget:!1}),this.dropTargetEnteredCounter=0,e.dataTransfer&&e.dataTransfer.files.length?n=e.dataTransfer.files[0]:e.target.files&&e.target.files.length&&(n=e.target.files[0]),i({metadataItemEntityID:t,file:n})},this.dropTargetEnteredCounter=0,this.state={isOverDropTarget:!1}}componentDidMount(){window.addEventListener("dragover",this.onWindowDragOver),window.addEventListener("drop",this.onWindowDrop)}componentDidUpdate(e){const{isUploading:t,isUploaded:i,onModalClose:n}=this.props;e.isUploading&&!t&&i&&n()}componentWillUnmount(){window.removeEventListener("dragover",this.onWindowDragOver),window.removeEventListener("drop",this.onWindowDrop)}setOverDropTargetState(){this.state.isOverDropTarget||0===this.dropTargetEnteredCounter||this.setState({isOverDropTarget:!0}),this.state.isOverDropTarget&&0===this.dropTargetEnteredCounter&&this.setState({isOverDropTarget:!1})}onWindowDrop(e=window.event){e.preventDefault()}onWindowDragOver(e=window.event){e.preventDefault()}onDragOver(e=window.event){e.dataTransfer.dropEffect="copy"}render(){const{isUploading:e,isUploaded:t,error:i,onModalClose:n}=this.props,{isOverDropTarget:a}=this.state;return Vu()(YL,{onModalClose:n},void 0,Vu()(zL,{},void 0,Object(Ze.default)("Upload Subtitle File")),i?Vu()(vV,{errorMessage:i}):null,Vu()(wL,{className:cVe.a.modalBody,scrollDirection:Zp},void 0,Vu()("div",{className:(cVe.a.container||"")+" "+(a&&cVe.a.dropHover||""),onDrop:e?null:this.onFileDrop,onDragOver:e?null:this.onDragOver,onDragEnter:e?null:this.onDragEnter,onDragLeave:e?null:this.onDragLeave},void 0,e||t?Vu()("div",{className:cVe.a.uploadingContainer},void 0,Vu()(Yh,{label:Object(Ze.default)("Uploading subtitle file")})):Vu()("div",{className:cVe.a.fileInputContainer},void 0,Vu()(oVe,{inputComponent:zp,className:cVe.a.fileInputLink,name:"subtitleFile",buttonText:Object(Ze.default)("Choose a file"),onChange:this.onFileDrop}),Vu()("span",{className:cVe.a.separator},void 0,""),Object(Ze.default)("drag and drop")))),Vu()(AL,{},void 0,Vu()(sV,{},void 0,Vu()(hw,{onPress:n},void 0,Object(Ze.default)("Cancel")))))}};const pVe={dispatchUploadSubtitles:$Ue};var hVe=Object(Hu.b)((function(){return Object(Wu.a)(e=>e.ui.subtitlesUploadModal,e=>e)}),pVe)(uVe),mVe=i("+art"),gVe=i.n(mVe);var vVe=function(e){const{metadataItemEntityID:t,isOpen:i,onModalClose:n}=e;return Vu()(Fw,{className:gVe.a.modal,isOpen:i,metricsPage:zd.wb,onModalClose:n},void 0,Vu()(hVe,{metadataItemEntityID:t,onModalClose:n}))};const yVe=Nd.a.createElement,{Component:fVe}=Nd.a,bVe={dispatchResetUploadSubtitles:XUe};var IVe=Object(Hu.b)(null,bVe)(class extends fVe{constructor(...e){super(...e),this.onModalClose=()=>{this.props.dispatchResetUploadSubtitles(),this.props.onModalClose()}}render(){const e=this.props,t=Xe()(e,["dispatchResetUploadSubtitles"]);return yVe(vVe,tp()({},t,{onModalClose:this.onModalClose}))}}),SVe=i("itOj"),CVe=i.n(SVe);const{Component:MVe,Fragment:DVe}=Nd.a;var PVe=class extends MVe{constructor(e,t){super(e,t),this.onDeletePress=()=>{this.setState({isConfirmDeleteModalOpen:!0})},this.onDeleteConfirm=()=>{const{subtitlesStream:e,onStreamDelete:t}=this.props;this.setState({isConfirmDeleteModalOpen:!1}),t(e.key),this.props.onMenuClose()},this.onDeleteCancel=()=>{this.setState({isConfirmDeleteModalOpen:!1})},this.state={isConfirmDeleteModalOpen:!1}}render(){const{serverEntityID:e,subtitlesStream:t,isStreamDeleteInProgress:i,hasExternalSubtitlesStreams:n,canShowDeleteSubtitlesAction:a,onMenuClose:s,onStreamSelect:r}=this.props,o=!!t.key&&a;return Vu()("div",{className:CVe.a.stream},void 0,Vu()(pUe,{className:n?CVe.a.menuItemContainer:void 0,stream:t,onMenuClose:s,onStreamSelect:r},void 0,Vu()(fM,{serverEntityID:e,type:"subtitles",stream:t}),t.title?Vu()("span",{className:CVe.a.extendedTitle},void 0,t.title):null),o?Vu()(DVe,{},void 0,Vu()("div",{className:CVe.a.deleteContainer},void 0,Vu()(JK,{className:CVe.a.deleteButton,iconComponent:NI,ariaLabel:Object(Ze.default)("Delete Subtitle"),onPress:this.onDeletePress})),Vu()(F_,{isConfirmButtonSpinning:i,isOpen:this.state.isConfirmDeleteModalOpen,metricsPage:zd.n,kind:Op,title:Object(Ze.default)("Delete Subtitle File"),message:Object(Ze.default)("Are you sure you want to delete this subtitle file?"),confirmLabel:Object(Ze.default)("Delete"),onConfirm:this.onDeleteConfirm,onCancel:this.onDeleteCancel})):null)}};const{Component:OVe,Fragment:jVe}=Nd.a;var wVe=class extends OVe{constructor(e,t){super(e,t),this.onMoreSubtitlesPress=()=>{this.setState({isSubtitlesModalOpen:!0})},this.onSubtitlesModalClose=()=>{this.setState({isSubtitlesModalOpen:!1})},this.onUploadSubtitlesPress=()=>{this.setState({isSubtitlesUploadModalOpen:!0})},this.onSubtitlesUploadModalClose=()=>{this.setState({isSubtitlesUploadModalOpen:!1})},this.state={isSubtitlesModalOpen:!1,isSubtitlesUploadModalOpen:!1}}render(){const{target:e,isOpen:t,serverEntityID:i,metadataItemEntityID:n,subtitlesStreams:a,isStreamDeleteInProgress:s,canShowDeleteSubtitlesAction:r,canShowMoreSubtitlesAction:o,canShowUploadSubtitlesAction:l,onMenuClose:c,onStreamSelect:d,onStreamDelete:u}=this.props,{isSubtitlesModalOpen:p,isSubtitlesUploadModalOpen:h}=this.state,m=a.some(e=>!!e.key);return Vu()(jVe,{},void 0,Vu()(Qv,{target:e,isOpen:t,size:_h,onMenuClose:c},void 0,a.map(e=>Vu()(PVe,{serverEntityID:i,subtitlesStream:e,isStreamDeleteInProgress:s,hasExternalSubtitlesStreams:m,canShowDeleteSubtitlesAction:r,onMenuClose:c,onStreamSelect:d,onStreamDelete:u},e.id)),o?Vu()(Zv,{onPress:this.onMoreSubtitlesPress},void 0,Object(Ze.default)("Search...")):null,l?Vu()(Zv,{onPress:this.onUploadSubtitlesPress},void 0,Object(Ze.default)("Upload...")):null),Vu()(ZUe,{metadataItemEntityID:n,isOpen:p,onModalClose:this.onSubtitlesModalClose}),Vu()(IVe,{metadataItemEntityID:n,isOpen:h,onModalClose:this.onSubtitlesUploadModalClose}))}},TVe=i("Xf7Z"),EVe=i.n(TVe);const{Component:NVe}=Nd.a;var xVe=class extends NVe{constructor(e,t){super(e,t),this._audioStreamMenuButtonID=void 0,this._subtitlesStreamMenuButtonID=void 0,this.onAudioStreamMenuButtonPress=e=>{this.setState({isAudioStreamMenuOpen:!this.state.isAudioStreamMenuOpen})},this.onAudioStreamMenuClose=()=>{this.setState({isAudioStreamMenuOpen:!1})},this.onSubtitlesStreamMenuButtonPress=e=>{this.setState({isSubtitlesStreamMenuOpen:!this.state.isSubtitlesStreamMenuOpen})},this.onSubtitlesStreamMenuClose=()=>{this.setState({isSubtitlesStreamMenuOpen:!1})},this.state={isAudioStreamMenuOpen:!1,isSubtitlesStreamMenuOpen:!1},this._audioStreamMenuButtonID=Mp(),this._subtitlesStreamMenuButtonID=Mp()}render(){const{serverEntityID:e,metadataItemEntityID:t,mediaItem:i,isStreamDeleteInProgress:n,canShowDeleteSubtitlesAction:a,canShowMoreSubtitlesAction:s,canShowUploadSubtitlesAction:r,onAudioStreamSelect:o,onSubtitlesStreamSelect:l,onSubtitlesStreamDelete:c}=this.props,{isAudioStreamMenuOpen:d,isSubtitlesStreamMenuOpen:u}=this.state;if(!i)return Vu()(Uze,{},void 0,Vu()(Hze,{label:Object(Ze.default)("Video")},void 0,Vu()("span",{className:EVe.a.loadingMessage},void 0,Object(Ze.default)("Loading..."))),Vu()(Hze,{label:Object(Ze.default)("Audio")},void 0,Vu()("span",{className:EVe.a.loadingMessage},void 0,Object(Ze.default)("Loading..."))),Vu()(Hze,{label:Object(Ze.default)("Subtitles")},void 0,Vu()("span",{className:EVe.a.loadingMessage},void 0,Object(Ze.default)("Loading..."))));const p=_C.a.get("audio").id,h=Object(Hn.a)(i,{streamType:p}),m=Object(FC.a)(i),g=_C.a.get("subtitles").id,v=Object(Hn.a)(i,{streamType:g}),y=WC(i),f=s||v.length>1,b=Vu()(fM,{serverEntityID:e,type:"audio",stream:m}),I=Vu()(fM,{serverEntityID:e,type:"subtitles",stream:y});return Vu()(Uze,{},void 0,Vu()(Hze,{label:Object(Ze.default)("Video")},void 0,Vu()(fM,{serverEntityID:e,type:"video",mediaItem:i})),Vu()(Hze,{label:Object(Ze.default)("Audio")},void 0,h.length>1?Vu()(Dy,{id:this._audioStreamMenuButtonID,direction:d?hy:my,onPress:this.onAudioStreamMenuButtonPress},void 0,b):b),Vu()(Hze,{label:Object(Ze.default)("Subtitles")},void 0,f?Vu()(Dy,{id:this._subtitlesStreamMenuButtonID,direction:u?hy:my,onPress:this.onSubtitlesStreamMenuButtonPress},void 0,I):I),Vu()(gUe,{target:this._audioStreamMenuButtonID,isOpen:d,serverEntityID:e,audioStreams:h,onMenuClose:this.onAudioStreamMenuClose,onStreamSelect:o}),Vu()(wVe,{target:this._subtitlesStreamMenuButtonID,isOpen:u,serverEntityID:e,metadataItemEntityID:t,subtitlesStreams:v,isStreamDeleteInProgress:n,canShowDeleteSubtitlesAction:a,canShowMoreSubtitlesAction:s,canShowUploadSubtitlesAction:r,onMenuClose:this.onSubtitlesStreamMenuClose,onStreamSelect:l,onStreamDelete:c}))}};const AVe=Nd.a.createElement,{Component:LVe}=Nd.a;const kVe={dispatchMakePrePlayVideoDecision:iUe,dispatchDeleteMetadataItemStream:v7.l,dispatchSelectMetadataItemStream:v7.p};var RVe=kK((function(){return Object(Wu.a)(e=>e.ui.prePlayPage.decisionMediaItem,$S,$K(),Kze(),dUe(),(e,t,i,n,a)=>({mediaItem:e,mediaItems:i.Media,isStreamDeleteInProgress:i.isStreamDeleteInProgress,canShowDeleteSubtitlesAction:t.isFullOwnedServer,canShowMoreSubtitlesAction:n,canShowUploadSubtitlesAction:a}))}),kVe)(class extends LVe{constructor(...e){super(...e),this.onAudioStreamSelect=e=>{this.props.dispatchSelectMetadataItemStream({metadataItemEntityID:this.props.metadataItemEntityID,streamTypeString:"audio",streamID:e,allParts:!0,metricsPage:this.props.metricsPage})},this.onSubtitlesStreamSelect=e=>{this.props.dispatchSelectMetadataItemStream({metadataItemEntityID:this.props.metadataItemEntityID,streamTypeString:"subtitles",streamID:e,allParts:!0,metricsPage:this.props.metricsPage})},this.onSubtitlesStreamDelete=e=>{this.props.dispatchDeleteMetadataItemStream({metadataItemEntityID:this.props.metadataItemEntityID,streamKey:e,metricsPage:this.props.metricsPage})}}componentDidMount(){this.props.dispatchMakePrePlayVideoDecision()}componentDidUpdate(e){e.mediaItems!==this.props.mediaItems&&e.dispatchMakePrePlayVideoDecision()}render(){const e=this.props,t=Xe()(e,["metricsPage","dispatchMakePrePlayVideoDecision","dispatchSelectMetadataItemStream"]);return AVe(xVe,tp()({},t,{onAudioStreamSelect:this.onAudioStreamSelect,onSubtitlesStreamSelect:this.onSubtitlesStreamSelect,onSubtitlesStreamDelete:this.onSubtitlesStreamDelete}))}}),zVe=i("zLrO"),UVe=i.n(zVe);var VVe=function({serverEntityID:e,providerEntityID:t,metadataItemEntityID:i}){return Vu()(Mxe,{className:UVe.a.ratingRightTitle},void 0,Vu()(xMe,{className:UVe.a.starRating,serverEntityID:e,providerEntityID:t,metadataItemEntityID:i}),Vu()(eMe,{className:UVe.a.criticRating,serverEntityID:e,providerEntityID:t,metadataItemEntityID:i}))};var BVe=i("x8AS"),FVe=i.n(BVe);function HVe({className:e,separator:t}){return Vu()("span",{className:e},void 0,t)}HVe.defaultProps={className:FVe.a.separator,separator:""};var _Ve=HVe,WVe=i("HJAU"),QVe=i.n(WVe);var GVe=function(e){const{contentRating:t}=e;return t?Vu()(_H,{className:QVe.a.badge},void 0,BCe(t)):null},KVe=i("urZ/"),YVe=i.n(KVe);const qVe=Nd.a.createElement;function ZVe(e){return qVe(hw,e)}ZVe.defaultProps={className:YVe.a.statusButton,size:Fh};var JVe=ZVe,XVe=i("RWac"),$Ve=i.n(XVe);var eBe=function(e){const{mediaGrabError:t,mediaGrabPartialRecordingReason:i,onPress:n}=e;return t?Vu()(JVe,{className:$Ve.a.failedButton,title:t,onPress:n},void 0,Object(Ze.default)("Failed Recording")):i?Vu()(Wb,{tooltip:i,"aria-label":i,component:JVe,className:$Ve.a.partialButton,onPress:n},void 0,Object(Ze.default)("Partial Recording")):Vu()(JVe,{className:$Ve.a.partialButton,onPress:n},void 0,Object(Ze.default)("Partial Recording"))},tBe=i("4KTB"),iBe=i.n(tBe);function nBe({className:e,children:t}){return Vu()("span",{className:e},void 0,t)}nBe.defaultProps={className:iBe.a.tertiaryTitleSpacer};var aBe=nBe,sBe=i("v9kw"),rBe=i.n(sBe);function oBe({className:e,onPress:t}){return Vu()(JVe,{className:e,onPress:t},void 0,Object(Ze.default)("Unavailable"))}oBe.defaultProps={className:rBe.a.unavailableButton};var lBe=oBe;const{Fragment:cBe}=Nd.a;var dBe=Vu()(_Ve,{});var uBe=function(e){const{duration:t,saved:i,contentRating:n,viewCount:a,viewOffset:s,isFileUnavailable:r,isPartialMediaGrab:o,mediaGrabError:l,mediaGrabPartialRecordingReason:c,onGetInfoPress:d}=e,u=!a&&!s,p=!!s&&s<t,h=!!t||u||p,m=u&&(null==i||null!=i&&i);return Vu()(gxe,{},void 0,h?Vu()(aBe,{},void 0,Vu()(DCe,{duration:t}),u||p?Vu()(cBe,{},void 0,t&&(m||p)?dBe:null,m?Object(Ze.default)("Unplayed"):null,p?Vu()(CCe,{duration:t,viewOffset:s}):null):null):null,Vu()(GVe,{contentRating:n}),r?Vu()(lBe,{onPress:d}):null,!r&&(o||l||c)?Vu()(eBe,{mediaGrabError:l,mediaGrabPartialRecordingReason:c,onPress:d}):null)};var pBe=Object(Hu.b)((function(){return Object(Wu.a)($K(),Object(Wu.a)($K(),(e={})=>{const t={isPartialMediaGrab:!1,mediaGrabError:null},i=e.Media;if(!i||!i.length)return t;for(let e=0;e<i.length;e++){const n=i[e],{mediaGrabPartialRecording:a,mediaGrabError:s,mediaGrabPartialRecordingReason:r}=n;a&&(t.isPartialMediaGrab=!0),s&&(t.mediaGrabError=n.mediaGrabError),r&&(t.mediaGrabPartialRecordingReason=r)}return t}),Object(Wu.a)(e=>e.ui.prePlayPage,$K(),(e,t={})=>{if(e.isFileUnavailable)return!0;const i=t.Media;if(!i||!i.length)return!1;for(let e=0,t=i.length;e<t;e++){const t=i[e].Part;if(t&&t.length)for(let e=0,i=t.length;e<i;e++){const i=t[e];if(!1===i.exists||!1===i.accessible)return!0}}return!1}),(e={},t,i)=>Object.assign({duration:e.duration,contentRating:e.contentRating,saved:e.saved,viewCount:e.viewCount,viewOffset:e.viewOffset,type:e.type,subtype:e.subtype,isFileUnavailable:i},t))}),(function(e,t){return{onGetInfoPress(i){e(nae({metadataItemEntityID:t.metadataItemEntityID}))}}}))(uBe);var hBe=function({originallyAvailableAt:e}){return Vu()(Mxe,{},void 0,e?Object(Ze.default)("{monthName} {day}, {year}",{monthName:MSe(Object(Vy.a)(Object(aCe.a)(e))),day:Object(Rce.default)(e,"d"),year:Object(Rce.default)(e,"yyyy")}):null)};var mBe=Object(Hu.b)((function(){return Object(Wu.a)($K(),(e={})=>({originallyAvailableAt:e.originallyAvailableAt}))}))(hBe);const{Fragment:gBe}=Nd.a;var vBe=Vu()(dze,{});function yBe(e){const{serverEntityID:t,providerEntityID:i,metadataItemEntityID:n,type:a,attributionLogo:s,summary:r,showStreams:o}=e;return Vu()(gBe,{},void 0,Vu()(rze,{},void 0,Vu()(bxe,{},void 0,Vu()(gxe,{},void 0,Vu()(Sce,{serverEntityID:t,providerEntityID:i,metadataItemEntityID:n})),Vu()(Mxe,{},void 0,Vu()(Eze,{attributionLogo:s}))),Vu()(jxe,{},void 0,Vu()(gxe,{},void 0,Vu()(vCe,{serverEntityID:t,providerEntityID:i,metadataItemEntityID:n})),Vu()(VVe,{serverEntityID:t,providerEntityID:i,metadataItemEntityID:n})),Vu()(Nxe,{},void 0,Vu()(pBe,{serverEntityID:t,providerEntityID:i,metadataItemEntityID:n}),Vu()(mBe,{serverEntityID:t,providerEntityID:i,metadataItemEntityID:n}))),vBe,Vu()(rze,{},void 0,Vu()(Qze,{serverEntityID:t,providerEntityID:i,metadataItemEntityID:n,type:a}),o?Vu()(RVe,{serverEntityID:t,providerEntityID:i,metadataItemEntityID:n}):null,Vu()(Mze,{},void 0,r)))}yBe.defaultProps={showStreams:!0};var fBe=yBe;const{Fragment:bBe}=Nd.a;var IBe=Vu()(dze,{});var SBe=function(e){const{serverEntityID:t,providerEntityID:i,metadataItemEntityID:n,summary:a}=e;return Vu()(bBe,{},void 0,Vu()(rze,{},void 0,Vu()(bxe,{},void 0,Vu()(gxe,{},void 0,Vu()(Sce,{serverEntityID:t,providerEntityID:i,metadataItemEntityID:n}))),Vu()(jxe,{},void 0,Vu()(gxe,{},void 0,Vu()(vCe,{serverEntityID:t,providerEntityID:i,metadataItemEntityID:n})),Vu()(VVe,{serverEntityID:t,providerEntityID:i,metadataItemEntityID:n})),Vu()(Nxe,{},void 0,Vu()(pBe,{serverEntityID:t,providerEntityID:i,metadataItemEntityID:n}),Vu()(mBe,{serverEntityID:t,providerEntityID:i,metadataItemEntityID:n}))),IBe,Vu()(rze,{},void 0,Vu()(Mze,{dangerouslySetInnerHTML:{__html:a}})))};var CBe=function(e){const{server:t,provider:i,sourceDirectory:n,type:a,Genre:s}=e;return Vu()(Lze,{server:t,provider:i,sourceDirectory:n,fallbackFilterKey:"genre",type:a,tags:s,limit:2})};var MBe=function(e){const{server:t,provider:i,sourceDirectory:n,Genre:a}=e,s=!(!a||!a.length);return Vu()(Mxe,{},void 0,s?Vu()(CBe,{server:t,provider:i,sourceDirectory:n,Genre:a}):null)};var DBe=Object(Hu.b)((function(){return Object(Wu.a)($S,ZS,ECe(),$K(),(e,t,i,n={})=>({server:e,provider:t,sourceDirectory:i,Genre:n.Genre}))}))(MBe);function PBe(e){var t=e["aria-label"],i=e.className,n=e.style,a={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-watchlist-badge-560"};a["aria-hidden"]=!t,a.style=n,a.className=Ad.a.plexIcon+(i?" "+i:"");var s=[Nd.a.createElement.apply(Nd.a,["path",{d:"M73 88.729C73 72.31 86.37 59 102.918 59h356.164C475.606 59 489 72.025 489 88.729v427.508c0 16.419-10.6 21.534-23.456 11.598L304.456 403.32c-12.954-10.014-34.057-9.937-46.912 0L96.456 527.835C83.502 537.849 73 532.94 73 516.237V88.729z"}].concat([]))];return t&&s.unshift(Nd.a.createElement("title",null,t)),Nd.a.createElement.apply(Nd.a,["svg",a].concat(s))}PBe.propTypes={"aria-label":vc.a.string,className:vc.a.string,style:vc.a.object};var OBe=PBe,jBe=i("WpwJ"),wBe=i.n(jBe);var TBe=function(e){const{watchlistedAt:t}=e;return t?Vu()(_H,{className:wBe.a.badge},void 0,Vu()(OBe,{className:wBe.a.icon})," ",Object(Ze.default)("In your Watchlist")):null};const{Fragment:EBe}=Nd.a;var NBe=Vu()(dze,{});function xBe(e){const{serverEntityID:t,providerEntityID:i,metadataItemEntityID:n,title:a,year:s,summary:r,watchlistedAt:o,attributionLogo:l,showGenres:c,showStreams:d}=e;return Vu()(EBe,{},void 0,Vu()(rze,{},void 0,Vu()(bxe,{},void 0,Vu()(gxe,{},void 0,a),Vu()(Mxe,{},void 0,Vu()(Eze,{attributionLogo:l}),Vu()(TBe,{watchlistedAt:o}))),Vu()(jxe,{},void 0,Vu()(gxe,{},void 0,s),Vu()(VVe,{serverEntityID:t,providerEntityID:i,metadataItemEntityID:n})),Vu()(Nxe,{},void 0,Vu()(pBe,{serverEntityID:t,providerEntityID:i,metadataItemEntityID:n}),c?Vu()(DBe,{serverEntityID:t,providerEntityID:i,metadataItemEntityID:n}):null)),NBe,Vu()(rze,{},void 0,Vu()(Qze,{serverEntityID:t,providerEntityID:i,metadataItemEntityID:n}),d?Vu()(RVe,{serverEntityID:t,providerEntityID:i,metadataItemEntityID:n}):null,Vu()(Mze,{},void 0,r)))}xBe.defaultProps={showGenres:!0,showStreams:!0};var ABe=xBe;const LBe=Nd.a.createElement;var kBe=Object(Hu.b)((function(){return Object(Wu.a)($K(),(e={})=>({type:e.type,subtype:e.subtype,title:e.title,year:e.year,summary:e.summary,attributionLogo:e.attributionLogo}))}))((function(e){const t=function(e,t){switch(t){case LC.d:switch(e){case Qt.f:return SBe}}switch(e){case Qt.f:return fBe;case Qt.j:return ABe;case Qt.d:return Oze}return Oze}(e.type,e.subtype);return LBe(t,e)}));const RBe=Object(Pi.a)("ui/player/playQueue/toggleAutoPlay"),zBe={[y7.g]:y7.A[y7.g],[y7.h]:y7.A[y7.h],[y7.e]:y7.A[y7.e],[y7.f]:y7.A[y7.f],[y7.d]:y7.A[y7.d],[y7.s]:y7.A[y7.s],[y7.n]:y7.A[y7.n],[y7.r]:y7.A[y7.r],[y7.m]:y7.A[y7.m],[y7.o]:y7.A[y7.o],[y7.q]:y7.A[y7.q],[y7.p]:y7.A[y7.p],[y7.b]:y7.A[y7.b],[y7.c]:y7.A[y7.c],[y7.i]:y7.A[y7.i],[y7.a]:y7.A[y7.a],[y7.k]:y7.A[y7.k],[y7.l](e,{playerType:t},i){const n=e.get("user").id,a=Object(S7.c)(e,t),s=a.get("playQueue"),r=e.get("deviceSettings"),o=a.get("providerEntityID"),l=Object(wi.j)(e,{providerEntityID:o}),c={providerEntityID:o,serverEntityID:a.get("serverEntityID"),playQueueOffset:a.get("positionSeconds"),playQueueType:s.get("type"),playQueueRepeat:s.get("repeat"),playQueueID:s.get("playQueueID")};if(jt.k(l.get("identifier"),[jt.i]))return;if(a.get("isWatchTogether"))return;const d=r.get("restorePlayQueue");i(Object(Kn.A)({restorePlayQueue:Object.assign({},d,{[n]:c})}))},[y7.j](e,t,i){const n=e.get("user").id,a=e.get("deviceSettings").get("restorePlayQueue"),s=Object.assign({},a);delete s[n],i(Object(Kn.A)({restorePlayQueue:s}))},"ui/player/playQueue/toggleAutoPlay"(e,{playerType:t},i){const n=e.get("user").get("experienceSettings").get("autoPlay"),a=Object(S7.c)(e,t);Object(p7.a)(e).changeAutoPlay(a,!n,i)}};var UBe=i("M7EV"),VBe=i.n(UBe);const{Component:BBe}=Nd.a,FBe=parseInt(BV.postPlayPosterWidth,10),HBe=parseInt(BV.postPlayTitleHeight,10)+parseInt(BV.postPlayAutoPlayHeight,10);var _Be=class extends BBe{constructor(e,t){super(e,t),this._tickIntervalID=void 0,this.onContentMeasure=({height:e})=>{const t=Math.min(zC(FBe,this.props.type,this.props.subtype,fc),e-HBe),i=RC(t,this.props.type,this.props.subtype,fc);this.setState({isMeasured:!0,width:i,height:t})},this.onCountdown=()=>{const e=this.state.secondsLeft-1;e<=0?this.props.onPlay():this.setState({secondsLeft:e})},this.state={isMeasured:!1,width:0,height:0,secondsLeft:10}}componentDidMount(){this.props.autoPlayEnabled&&(this._tickIntervalID=window.setInterval(this.onCountdown,1e3))}componentWillReceiveProps(e){this.props.autoPlayEnabled&&!e.autoPlayEnabled&&(window.clearInterval(this._tickIntervalID),this.setState({secondsLeft:10})),!this.props.autoPlayEnabled&&e.autoPlayEnabled&&(this._tickIntervalID=window.setInterval(this.onCountdown,1e3))}componentWillUnmount(){window.clearInterval(this._tickIntervalID)}render(){const{serverEntityID:e,providerEntityID:t,type:i,posterUrl:n,autoPlayEnabled:a,onToggleAutoPlay:s,onPlay:r}=this.props,{isMeasured:o,width:l,height:c,secondsLeft:d}=this.state,u=(10-d+1)/10*100;return Vu()(T0,{className:VBe.a.container,onMeasure:this.onContentMeasure},void 0,Vu()("div",{className:VBe.a.title},void 0,Object(Ze.default)("Playing Next")),o?Vu()("div",{className:VBe.a.poster,style:{width:l,height:c}},void 0,Vu()(AC,{serverEntityID:e,providerEntityID:t,type:i,width:l,height:c,url:n}),a?Vu()("div",{className:VBe.a.progress},void 0,Vu()(sB,{size:l/4,lineWidth:3,progress:u,showProgressText:!1,easing:$V}),Vu()("span",{className:VBe.a.timeLeft},void 0,d)):null,Vu()(ide,{className:VBe.a.playButton,circleClassName:VBe.a.playCircle,"aria-label":Object(Ze.default)("Play Next"),onPress:r})):null,Vu()(TB,{className:a?VBe.a.autoPlayOn:VBe.a.autoPlayOff,name:"autoPlayCheck",value:a,checkboxText:a?Object(Ze.default)("Auto Play On"):Object(Ze.default)("Auto Play Off"),onChange:s}))}};var WBe=Object(Hu.b)((function(){return Object(Wu.a)(Q7(),$K(),Rg.a,(e,t={},i)=>({type:t.type,posterUrl:t.thumb,autoPlayEnabled:i.autoPlay}))}),(function(e,{playerType:t}){return{onToggleAutoPlay(){e(RBe({playerType:t}))},onPlay(){e(Object(Boe.t)({playerType:t}))}}}))(_Be),QBe=i("LU9U"),GBe=i.n(QBe);var KBe=function(e){const{serverEntityID:t,providerEntityID:i,metadataItemEntityID:n,hubEntityIDs:a,playerType:s}=e;return Vu()("div",{className:GBe.a.container},void 0,Vu()("div",{className:GBe.a.poster},void 0,Vu()(WBe,{serverEntityID:t,providerEntityID:i,metadataItemEntityID:n,playerType:s})),Vu()(ih,{className:GBe.a.details,smoothScroll:!1,autoScroll:!0},void 0,Vu()(kBe,{serverEntityID:t,providerEntityID:i,metadataItemEntityID:n,showStreams:!1}),Vu()(rze,{},void 0,a&&a.length>0?Vu()(ize,{serverEntityID:t,providerEntityID:i,hubEntityIDs:a,columnAdjustment:1}):null)))};var YBe=Object(Hu.b)((function(){return Object(Wu.a)(Q7(),khe(),khe(1),(e,t,i)=>i?{serverEntityID:e.serverEntityID,providerEntityID:e.providerEntityID,metadataItemEntityID:i.metadataItem,hubEntityIDs:t.postPlay}:{})}))(KBe),qBe=i("gE37"),ZBe=i.n(qBe);const JBe=fv(Tv.defaultSpeed),XBe={enter:{opacity:1,duration:JBe},exit:{opacity:0,duration:JBe,delay:4e3}};function $Be(e){const{className:t,isToastVisible:i,isControlsVisible:n,metadataItemEntityID:a,playerType:s}=e;return n?null:Vu()(ov.a,{},void 0,i?Vu()(ov.b.div,{initial:"exit",animate:"enter",exit:"exit",variants:XBe,className:t},"toast",Vu()(APe,{className:ZBe.a.metadataContainer,metadataItemEntityID:a,playerType:s})):null)}$Be.defaultProps={className:ZBe.a.toast};var eFe=$Be;var tFe=Object(Hu.b)((function(){return Object(Wu.a)(Q7(),khe(),(e,{isControlsVisible:t})=>t,(e,t,i)=>{if(!t)return{isToastVisible:!1};const{positionSeconds:n,durationSeconds:a}=e,s=a-n,r=t.type===Qt.d&&t.subtype===LC.a;return{isToastVisible:!i&&r&&(1===n||5===s),metadataItemEntityID:t.metadataItem}})}),(function(e,t){return{}}))(eFe),iFe=i("0F0y"),nFe=i.n(iFe);const{Component:aFe}=Nd.a;var sFe=Vu()(NI,{});class rFe extends aFe{constructor(...e){super(...e),this.onDecreasePress=()=>{const{offset:e,dispatchChangeSubtitleOffset:t}=this.props;t(e-50)},this.onIncreasePress=()=>{const{offset:e,dispatchChangeSubtitleOffset:t}=this.props;t(e+50)},this.onResetPress=()=>{const{dispatchChangeSubtitleOffset:e}=this.props;e(0)}}render(){const{offset:e,bottom:t,dispatchCloseSubtitlesOffset:i,onDimensionsChange:n}=this.props;return Vu()(Qbe,{className:nFe.a.container,bottom:t,onDimensionsChange:n},void 0,Vu()(zp,{className:nFe.a.closeButton,onPress:i},void 0,sFe),Vu()("div",{className:nFe.a.title},void 0,Object(Ze.default)("Subtitle Offset: {offset}",{offset:e+" ms"})),Vu()("div",{className:nFe.a.buttonContainer},void 0,Vu()(hw,{className:nFe.a.button,kind:Pp,size:Fh,onPress:this.onDecreasePress},void 0,"-",50," ms"),Vu()(hw,{className:nFe.a.button,kind:Pp,size:Fh,onPress:this.onIncreasePress},void 0,"+",50," ms"),Vu()(hw,{className:nFe.a.button,kind:Pp,size:Fh,onPress:this.onResetPress},void 0,Object(Ze.default)("Reset"))))}}rFe.defaultProps={offset:0};var oFe=rFe;var lFe=Object(Hu.b)((function(){return Object(Wu.a)(Gme(),e=>e.selectedSubtitlesStream)}),(function(e,t){return{dispatchChangeSubtitleOffset(i){e(Object(Boe.n)({playerType:t.playerType,subtitleOffset:i}))},dispatchCloseSubtitlesOffset(){e(Object(Boe.I)({playerType:t.playerType}))}}}))(oFe);var cFe=function(){return Object(Wu.a)(X9,mge(),Qhe(),(e,t,i)=>Gze(t,i,e))},dFe=i("k9ft");function uFe(e){return e>2560?"8K":e>1100?"4K":e>576?"HD":""}function pFe(e,t){return e<=576||e>1100||!t||t<=2e3?"":t<=3e3?Object(Ze.default)("Medium"):t<=4e3?Object(Ze.default)("High"):t<=8e3||t<=1e4?"":t<=12e3?Object(Ze.default)("Medium"):Object(Ze.default)("High")}function hFe(e){const{availableQualities:t,transcodeServer:i,currentDecision:n,currentBandwidth:a,mediaItem:s,canPlayAdaptiveBitrate:r}=e;if(!s)return[];const o=[],{maxUploadBitrate:l}=i,{bitrate:c}=s,d=!l||c&&l>c,u=n&&n.canPlayOriginalQuality;return d&&u&&o.push(function(e){const t=vFe(gFe(e.width,e.height,e.bitrate));return{index:al.a.ORIGINAL,explicitQuality:!1,conversionDescriptionSummary:bFe([Object(Ze.default)("Original"),fFe(t)]),conversionDescription:Object(Ze.default)("Play Original Quality"),conversionDescriptionExtra:t}}(s)),r&&o.push(function(e,t){const i={index:al.a.CONVERT_AUTOMATICALLY,explicitQuality:!1,conversionDescription:Object(Ze.default)("Convert Automatically")};if(e&&e.qualityIndex===al.a.CONVERT_AUTOMATICALLY&&t){const e=vFe({bitrate:Object(ere.default)(t.bandwidth),resolution:t.resolution});i.conversionDescriptionSummary=Object(Ze.default)("Auto (Now: {bitrateWithResolution})",{bitrateWithResolution:e}),i.conversionDescriptionExtra=Object(Ze.default)("Now: {bitrateWithResolution}",{bitrateWithResolution:e})}else i.conversionDescriptionSummary=Object(Ze.default)("Convert Automatically");return i}(n,a)),d&&!u&&o.push(function(e){const t=gFe(e.width,e.height,e.bitrate),i=yFe(t),n=i?Object(Ze.default)("Convert to"):Object(Ze.default)("Convert");return{index:al.a.ORIGINAL,explicitQuality:!1,conversionDescriptionSummary:Object(Ze.default)("Convert (Maximum)"),conversionDescription:bFe([n,i,fFe(Object(Ze.default)("Maximum"))]),conversionDescriptionExtra:t.bitrate}}(s)),o.push(...t.map(mFe).reverse()),o}function mFe(e){const t=e.videoResolution.split("x"),i=gFe(t[0],t[1],e.bitrate),n=vFe(i),a=yFe(i);return{index:e.index,explicitQuality:!0,conversionDescriptionSummary:bFe([Object(Ze.default)("Convert"),fFe(n)]),conversionDescription:bFe([Object(Ze.default)("Convert to"),a]),conversionDescriptionExtra:i.bitrate}}function gFe(e,t,i){const n=function(e,t,i){if(!e&&!t)return{resolution:"",description:"",descriptionExtra:""};const n=Object(dFe.a)(e,t);return{resolution:n+"p",description:uFe(n),descriptionExtra:pFe(n,i)}}(e,t,i);return{bitrate:Object(ere.default)(i),resolution:n.resolution,resolutionDescription:n.description,resolutionDescriptionExtra:fFe(n.descriptionExtra)}}function vFe(e){const t=bFe([e.resolution,e.resolutionDescription]);return e.bitrate?bFe([e.bitrate,t],", "):t}function yFe(e){return bFe([e.resolution,e.resolutionDescription,e.resolutionDescriptionExtra])}function fFe(e){return e&&0!==e.length?"("+e+")":""}function bFe(e,t=" "){return e.filter(e=>e).join(t)}var IFe=function(){return Object(Wu.a)(X9,mge(),Qhe(),(e,t,i)=>cUe(t,i,e))},SFe=i("Cu2K"),CFe=i.n(SFe);const{Component:MFe}=Nd.a;var DFe=class extends MFe{constructor(...e){super(...e),this.onPress=e=>{this.props.onQualitySelect(this.props.conversionQualityIndex)}}render(){const{conversionQualityIndex:e,conversionQuality:t,isSelected:i,isHidden:n}=this.props;return Vu()(oy,{isSelected:i,isHidden:n,onPress:this.onPress},e,t.conversionDescription,t.conversionDescriptionExtra?Vu()("span",{className:CFe.a.itemExtraDetail,"data-qa-id":"playbackBitrateQuality"},void 0,t.conversionDescriptionExtra):null)}},PFe=i("hG+J"),OFe=i.n(PFe);const{Component:jFe}=Nd.a,wFe={placement:"top-start"};var TFe=class extends jFe{constructor(e,t){super(e,t),this._menuInputButtonID=void 0,this.onToggleMenuPress=e=>{this.setState({isMenuOpen:!this.state.isMenuOpen})},this.onMenuClose=e=>{this.setState({isMenuOpen:!1})},this.onQualitySelect=e=>{"toggleShowAll"!==e?(this.setState({isMenuOpen:!1}),this.props.onQualityChange(e)):this.setState({showAll:!0,qualities:this._getQualityMenuValues(this.props.availableQualities,this.props.qualityIndex,!0)})};const i=!this._canToggleShowAll(e.availableQualities);this.state={isMenuOpen:!1,showAll:i,qualities:this._getQualityMenuValues(e.availableQualities,e.qualityIndex,i)},this._menuInputButtonID=Mp()}componentWillReceiveProps(e){const t=e.qualityIndex!==this.props.qualityIndex,i=e.availableQualities!==this.props.availableQualities;if(t||i){let t=this.state.showAll;!i||t||this._canToggleShowAll(e.availableQualities)||(t=!0),this.setState({showAll:t,qualities:this._getQualityMenuValues(e.availableQualities,e.qualityIndex,t)})}}_canToggleShowAll(e){const t=e.some(e=>!0===e.explicitQuality),i=!!I.a.findWhere(e,{index:ol.a.CONVERT_AUTOMATICALLY});return t&&i}_getQualityMenuValues(e,t,i){const n=e.filter(e=>i||!e.explicitQuality||e.index===t);return n.push({index:"toggleShowAll",conversionDescription:Object(Ze.default)("Show all")}),n}render(){const e=this.props.qualityIndex,t=this.state.qualities,i=t.find(t=>t.index===e);return Vu()(Dy,{id:this._menuInputButtonID,"data-qa-id":"videoQuality",size:Hh,direction:this.state.isMenuOpen?hy:my,onPress:this.onToggleMenuPress},void 0,i.conversionDescriptionSummary,Vu()(Qv,{className:OFe.a.menu,isOpen:this.state.isMenuOpen,target:this._menuInputButtonID,options:wFe,onMenuClose:this.onMenuClose},void 0,t.map(t=>Vu()(DFe,{conversionQualityIndex:t.index,conversionQuality:t,isSelected:t.index===e,isHidden:this.state.showAll&&"toggleShowAll"===t.index,onQualitySelect:this.onQualitySelect},t.index))))}};var EFe=function(){return Object(Wu.a)(Bhe(),KU(),(e,t)=>{if(!e)return;const i=t.find(t=>t.uuid===e.activityUUID);return i?i.Context&&i.Context.signalStrength:void 0})};var NFe=function(e){const{signalStrength:t}=e;return null==t?null:Vu()(KDe,{label:Object(Ze.default)("Antenna Signal Strength")},void 0,t,"%")};var xFe=Object(Hu.b)((function(){return Object(Wu.c)({signalStrength:EFe()})}))(NFe),AFe=i("mkKI"),LFe=i.n(AFe);var kFe=function(e){const{offset:t,isDisabled:i,onPress:n}=e;return Vu()(zp,{isSelected:!i,isDisabled:i,onPress:n},void 0,t||0," ms ",Vu()(Z_,{className:LFe.a.icon}))},RFe=i("zsFO"),zFe=i.n(RFe);const{Component:UFe,Fragment:VFe}=Nd.a;var BFe=class extends UFe{constructor(e,t){super(e,t),this.onSubtitleStreamChange=e=>{"more"===e?this.onMoreSubtitlesPress():"upload"===e?this.onUploadSubtitlesPress():this.props.onSubtitleStreamChange(e)},this.onMoreSubtitlesPress=()=>{this.setState({isSubtitlesModalOpen:!0})},this.onSubtitlesModalClose=()=>{this.setState({isSubtitlesModalOpen:!1})},this.onUploadSubtitlesPress=()=>{this.setState({isSubtitlesUploadModalOpen:!0})},this.onSubtitlesUploadModalClose=()=>{this.setState({isSubtitlesUploadModalOpen:!1})},this.state={isSubtitlesModalOpen:!1,isSubtitlesUploadModalOpen:!1}}render(){const{bottom:e,serverEntityID:t,metadataItemEntityID:i,playerType:n,availableQualities:a,audioDevices:s,audioStreams:r,selectedAudioStream:o,selectedAudioDevice:l,subtitlesStreams:c,selectedSubtitlesStream:d,selectedSubtitlesColor:u,selectedSubtitlesPosition:p,selectedSubtitlesSize:h,autoPlay:m,qualityIndex:g,canSetVideoQuality:v,canSetAudioStream:y,canSetSubtitleStream:f,canSetSubtitleColor:b,canSetSubtitlePosition:I,canSetSubtitleSize:S,canSetSubtitleOffset:C,canSetAutoPlay:M,canShowMoreSubtitlesAction:D,canShowUploadSubtitlesAction:P,canShowLiveTVSignalStrength:O,onQualityChange:j,onAudioDeviceChange:w,onAudioStreamChange:T,onSubtitleColorChange:E,onSubtitlePositionChange:N,onSubtitleSizeChange:x,onAutoPlayChange:A,onSubtitleOffsetPress:L}=this.props,{isSubtitlesModalOpen:k,isSubtitlesUploadModalOpen:R}=this.state,z=f&&(D||P||c.length>1),U=z&&b,V=z&&I,B=z&&S,F=z&&C,H=v&&!!a.length&&null!=g&&a.findIndex(e=>e.index===g)>-1,_=!!d&&d.id!==HC.a&&!xme(d.codec),W=B&&_,Q=U&&_,G=V&&_,K=F&&_&&!!d&&!!d.key;let Y;return z&&(Y=c.map(e=>{const i=Vu()(VFe,{},void 0,Vu()(fM,{serverEntityID:t,type:"subtitles",stream:e}),e.title?Vu()("span",{className:zFe.a.extendedTitle},void 0,e.title):null);return{[e.id]:i}}),D&&Y.push({more:Object(Ze.default)("Search...")}),P&&Y.push({upload:Object(Ze.default)("Upload...")})),Vu()(VFe,{},void 0,Vu()(_De,{bottom:e},void 0,H?Vu()(KDe,{label:Object(Ze.default)("Quality")},void 0,Vu()(TFe,{qualityIndex:g,availableQualities:a,onQualityChange:j})):null,Vu()(KDe,{label:Object(Ze.default)("Audio Stream")},void 0,y&&r.length>1?Vu()(BDe,{name:"audioStream",size:Hh,value:""+o.id,overrideSelectedValue:Vu()(fM,{serverEntityID:t,type:"audio",stream:o}),values:r.map(e=>{const i=Vu()(VFe,{},void 0,Vu()(fM,{serverEntityID:t,type:"audio",stream:e}),e.title?Vu()("span",{className:zFe.a.extendedTitle},void 0,e.title):null);return{[e.id]:i}}),onChange:T}):Vu()(fM,{serverEntityID:t,type:"audio",stream:o})),s&&s.length>1?Vu()(KDe,{label:Object(Ze.default)("Audio Device")},void 0,Vu()(BDe,{name:"audioDevice",size:Hh,value:l.name,values:s.map(e=>({[e.name]:zDe(e)})),onChange:w})):null,Vu()(KDe,{label:Object(Ze.default)("Subtitles")},void 0,z?Vu()(BDe,{name:"subtitleStream",size:Hh,value:""+d.id,overrideSelectedValue:Vu()(fM,{serverEntityID:t,type:"subtitles",stream:d}),values:Y,onChange:this.onSubtitleStreamChange}):Vu()(fM,{serverEntityID:t,type:"subtitles",stream:d})),U?Vu()(KDe,{label:Object(Ze.default)("Subtitle Color"),isDisabled:!Q},void 0,Vu()(BDe,{name:"subtitleColor",size:Hh,value:u,values:dc.settings.map(e=>({[e.value]:e.title})),onChange:E})):null,V?Vu()(KDe,{label:Object(Ze.default)("Subtitle Position"),isDisabled:!G},void 0,Vu()(BDe,{name:"subtitlePosition",size:Hh,value:p,values:pc.settings.map(e=>({[e.value]:e.title})),onChange:N})):null,B?Vu()(KDe,{label:Object(Ze.default)("Subtitle Size"),isDisabled:!W},void 0,Vu()(BDe,{name:"subtitleSize",size:Hh,value:h.toString(),values:jfe.settings.map(e=>({[e.value]:e.title})),onChange:x})):null,F?Vu()(KDe,{label:Object(Ze.default)("Subtitles Offset"),isDisabled:!K},void 0,Vu()(kFe,{offset:d.offset,isDisabled:!K,onPress:L})):null,M?Vu()(KDe,{label:Object(Ze.default)("Auto Play")},void 0,Vu()(TB,{name:"autoPlay",size:Fh,value:m,onChange:A})):null,O?Vu()(xFe,{serverEntityID:t,playerType:n}):null),Vu()(ZUe,{metadataItemEntityID:i,isOpen:k,onModalClose:this.onSubtitlesModalClose}),Vu()(IVe,{metadataItemEntityID:i,isOpen:R,onModalClose:this.onSubtitlesUploadModalClose}))}};const FFe=Nd.a.createElement,{Component:HFe}=Nd.a;const _Fe={dispatchChangeQualityIndex:Boe.k,dispatchChangeStream:Boe.l,dispatchChangeSubtitleColor:Boe.m,dispatchChangeSubtitlePosition:Boe.o,dispatchChangeSubtitleSize:Boe.p,dispatchSelectAudioDevice:yu,dispatchSetAutoPlay:y7.F,dispatchTogglePlayerSubtitlesOffsetState:Boe.I};var WFe=Object(Hu.b)((function(){return Object(Wu.a)((e,{isWatchTogether:t})=>t,G7("controllable"),Object(Wu.a)(Object(Wu.c)({availableQualities:G7("availableQualities"),transcodeServer:qme(),currentDecision:Rhe(),currentBandwidth:Object(Wu.a)(hge(["bandwidthTimeline","positionSeconds"]),Rhe(),(e,t)=>{const i=e.bandwidthTimeline;if(!(t&&i&&i.bandwidths&&i.transcodeSessionID&&i.transcodeSessionID===t.transcodeSessionID))return null;const n=1e3*e.positionSeconds,a=i.bandwidths.filter(e=>parseInt(e.time,10)<=n);return 0===a.length?null:I.a.max(a,e=>parseInt(e.time,10))}),mediaItem:Wme(),canPlayAdaptiveBitrate:Object(Wu.a)(HEe,qme(),Bhe(),(e,t,i)=>t.hasAdaptiveBitrate&&!e&&!i)}),hFe),Gme(),qme(),G7("qualityIndex"),G7("serverEntityID"),K7(),mge(),Qhe(),cFe(),IFe(),Rhe(),Rg.a,kDe,RDe,(e,t,i,n,a,s,r,o,l,c,d,u,p,h,m,g)=>{const v=o.protocols.includes(Wt.a),y=!v&&!(!p||!p.subtitlesUrl)&&!0,f=n.selectedSubtitlesStream;return{serverEntityID:r,metadataItemEntityID:c?c.entityID:null,availableQualities:i,audioDevices:m,audioStreams:n.audioStreams,selectedAudioStream:n.selectedAudioStream,selectedAudioDevice:g,subtitlesStreams:n.subtitlesStreams,selectedSubtitlesStream:f,selectedSubtitlesColor:h.subtitleColor,selectedSubtitlesPosition:h.subtitlePosition,selectedSubtitlesSize:h.subtitleSize,autoPlay:h.autoPlay,canSetVideoQuality:t?!!t.quality:!!a.transcoderVideo&&!a.transcoderVideoRemuxOnly,canSetAudioStream:!t||!!t.audioStream,canSetSubtitleStream:!t||!!t.subtitleStream,canSetSubtitleColor:t?!!t.subtitleColor:y,canSetSubtitlePosition:t?!!t.subtitlePosition:y,canSetSubtitleSize:t?!!t.subtitleSize:!v&&!(!f||!f.id),canSetSubtitleOffset:t?!!t.subtitleOffset:y,canSetAutoPlay:t?!!t.autoPlay:!v&&!e,canShowMoreSubtitlesAction:d,canShowUploadSubtitlesAction:u,canShowLiveTVSignalStrength:v&&!l.isCloud,qualityIndex:s}})}),_Fe)(class extends HFe{constructor(...e){super(...e),this.onQualityChange=e=>{const{playerType:t,dispatchChangeQualityIndex:i}=this.props;i({playerType:t,qualityIndex:parseInt(e,10)})},this.onAudioStreamChange=e=>{const{playerType:t,dispatchChangeStream:i}=this.props;i({playerType:t,streamTypeString:"audio",streamID:e})},this.onAudioDeviceChange=e=>{const{dispatchSelectAudioDevice:t}=this.props;t({deviceName:e})},this.onSubtitleStreamChange=e=>{const{playerType:t,dispatchChangeStream:i}=this.props;i({playerType:t,streamTypeString:"subtitles",streamID:e})},this.onSubtitleColorChange=e=>{const{playerType:t,dispatchChangeSubtitleColor:i}=this.props;i({playerType:t,subtitleColor:e})},this.onSubtitlePositionChange=e=>{const{playerType:t,dispatchChangeSubtitlePosition:i}=this.props;i({playerType:t,subtitlePosition:e})},this.onSubtitleSizeChange=e=>{const{playerType:t,dispatchChangeSubtitleSize:i}=this.props;i({playerType:t,subtitleSize:parseInt(e,10)})},this.onAutoPlayChange=e=>{const{playerType:t,dispatchSetAutoPlay:i}=this.props;i({playerType:t,autoPlay:e})},this.onSubtitleOffsetPress=()=>{const{playerType:e,dispatchTogglePlayerSubtitlesOffsetState:t}=this.props;t({playerType:e})}}render(){const e=this.props,t=Xe()(e,["dispatchChangeQualityIndex","dispatchChangeStream","dispatchChangeSubtitleSize","dispatchSetAutoPlay"]);return FFe(BFe,tp()({},t,{onQualityChange:this.onQualityChange,onAudioDeviceChange:this.onAudioDeviceChange,onAudioStreamChange:this.onAudioStreamChange,onSubtitleStreamChange:this.onSubtitleStreamChange,onSubtitleColorChange:this.onSubtitleColorChange,onSubtitlePositionChange:this.onSubtitlePositionChange,onSubtitleSizeChange:this.onSubtitleSizeChange,onAutoPlayChange:this.onAutoPlayChange,onSubtitleOffsetPress:this.onSubtitleOffsetPress}))}}),QFe=i("dEGP"),GFe=i.n(QFe);const{useEffect:KFe,useState:YFe}=Nd.a,qFe=parseInt(BV.watchTogetherLobbyPosterWidth,10),ZFe=parseInt(BV.watchTogetherLobbyTitleHeight,10);function JFe(){return{isMeasured:!1,width:0,height:0}}var XFe=function(e){const{serverEntityID:t,providerEntityID:i,type:n,subtype:a,posterUrl:s}=e,r=YFe(null),o=r[1],l=r[0],c=YFe(JFe),d=c[1],u=c[0];return KFe(()=>{let e=null;if(u.isMeasured){const t=Math.min(zC(qFe,n,a,"watchTogetherLobby"),u.height-ZFe);e={height:t,width:RC(t,n,a,"watchTogetherLobby")}}o(e)},[u,n,a]),Vu()(T0,{className:GFe.a.container,onMeasure:d},void 0,Vu()("div",{className:GFe.a.title},void 0,Object(Ze.default)("Watch Together")),null!=l?Vu()("div",{style:l},void 0,Vu()(AC,{serverEntityID:t,providerEntityID:i,type:n,width:l.width,height:l.height,url:s})):null)};var $Fe=Object(Hu.b)((function(){return Object(Wu.a)($K(),(e={})=>({type:e.type,subtype:e.subtype,posterUrl:e.thumb}))}))(XFe),eHe=Object(Wu.a)(Toe,RNe,(e,t)=>t.rooms.map(t=>e[t]));var tHe=function({adDisplayIndex:e,adDisplayTotal:t,className:i,isAdPlaying:n,isPresent:a,isReady:s,isWatching:r}){let o;return o=n?t>1?Object(Ze.default)("Playing ad {index} of {total}",{index:e,total:t}):Object(Ze.default)("Playing ad"):r?Object(Ze.default)("Watching"):s?Object(Ze.default)("Ready"):a?Object(Ze.default)("Buffering..."):Object(Ze.default)("Invited"),Vu()("div",{className:i,title:o},void 0,o)};var iHe=function({className:e,title:t}){return Vu()("div",{className:e,title:t},void 0,t)};var nHe=i("MLKk"),aHe=i.n(nHe);const{memo:sHe}=Nd.a;var rHe=sHe((function(e){const{serverEntityID:t,watchTogetherRoomEntityID:i,cellWidth:n}=e,a=Y0(e),s=Y9();return Vu()(zp,{className:aHe.a.container,style:a.style,onPress:s.onOpen},void 0,Vu()("span",{className:aHe.a.posterCardContainer,style:{width:n,height:n}},void 0,Vu()(vA,{className:aHe.a.icon})),Vu()("div",{className:aHe.a.titleContainer},void 0,Vu()(oSe,{title:Object(Ze.default)("Invite..."),component:iHe,isSecondary:!1})),Vu()(Nle,{serverEntityID:t,watchTogetherRoomEntityID:i,isOpen:s.isOpen,onModalClose:s.onClose}))})),oHe=i("+K/F"),lHe=i.n(oHe);const{memo:cHe}=Nd.a;var dHe=cHe((function(e){const{serverEntityID:t,providerEntityID:i,titleComponents:n,listType:a,cellWidth:s,thumb:r,title:o,adDisplayIndex:l,adDisplayTotal:c,isAdPlaying:d,isWatching:u,isPresent:p,isReady:h}=e,m=Y0(e);return Vu()("div",{style:m.style},void 0,Vu()("span",{className:lHe.a.posterCardContainer},void 0,Vu()(Nde,{className:lHe.a.card,serverEntityID:t,providerEntityID:i,imageWidth:s,imageHeight:s,imageUrl:r,tagType:a})),Vu()("div",{className:lHe.a.titleContainer},void 0,n.map((e,t)=>Vu()(oSe,{title:o,adDisplayIndex:l,adDisplayTotal:c,isAdPlaying:d,isWatching:u,isPresent:p,isReady:h,component:e,isSecondary:t>0},t))))})),uHe=i("ETIq"),pHe=i.n(uHe);const hHe=Nd.a.createElement,mHe={isInviteUser:!0};function gHe(e){const{className:t,serverEntityID:i,providerEntityID:n,watchTogetherRoomEntityID:a,users:s,shouldShowInviteUsers:r,listContext:o}=e,l=function(e){switch(e){case"watchTogetherLobby":return[iHe,tHe];default:return[]}}("watchTogetherLobby"),c=r?[...s,mHe]:s;return Vu()(Vbe,{className:t,hubIdentifier:"watchTogetherParticipants",title:Object(Ze.default)("Participants"),size:c.length,listType:"participant",listContext:o,columnAdjustment:1,keyPropName:"userKey",items:c,layout:ske("participant",null,o,1,l.length),cellRenderer:(d={serverEntityID:i,providerEntityID:n,watchTogetherRoomEntityID:a,titleComponents:l,listType:"participant"},e=>{const t=e.isInviteUser?rHe:dHe;return hHe(t,tp()({},d,e))})});var d}gHe.defaultProps={className:pHe.a.hubCell};var vHe=gHe;function yHe(e,t){var i,n;const a=(null==(i=e.title)?void 0:i.toLowerCase())||"",s=(null==(n=t.title)?void 0:n.toLowerCase())||"";return a&&!s?-1:!a&&s||a>s?1:a<s?-1:0}const fHe=Object(Wu.a)(RNe,eHe,(e,t)=>t.find(t=>{var i;return t.id===(null==(i=e.session)?void 0:i.roomID)}));var bHe=Object(Hu.b)((function(){return Object(Wu.a)(G7("providerEntityID"),G7("serverEntityID"),Object(Wu.a)(zNe,fHe,(e,t)=>{const i=t?t.users.filter(t=>!e.users.find(e=>e.id===t.id)):[],n=e.users.map(t=>{const i=e.users.filter(e=>e.id===t.id).length>1,n=t.title||Object(Ze.default)("Unknown");return Object.assign({},t,{title:i||!t.title?n+" ("+t.deviceName+")":n})});return i.concat(n).sort(yHe).map(e=>Object.assign({},e,{userKey:e.deviceIdentifier||e.id}))}),fHe,(e,t,i,n)=>({providerEntityID:e,serverEntityID:t,shouldShowInviteUsers:!!n,watchTogetherRoomEntityID:null==n?void 0:n.entityID,users:i}))}))(vHe),IHe=i("4XqK"),SHe=i.n(IHe);var CHe=function(e){const{serverEntityID:t,providerEntityID:i,metadataItemEntityID:n,playerType:a}=e;return Vu()("div",{className:SHe.a.container},void 0,Vu()("div",{className:SHe.a.row},void 0,Vu()("div",{className:SHe.a.poster},void 0,Vu()($Fe,{serverEntityID:t,providerEntityID:i,metadataItemEntityID:n,playerType:a})),Vu()(ih,{className:SHe.a.details,smoothScroll:!1,autoScroll:!0},void 0,Vu()(kBe,{serverEntityID:t,providerEntityID:i,metadataItemEntityID:n,showStreams:!1}))),Vu()(bHe,{className:SHe.a.hubCell,playerType:a,listContext:"watchTogetherLobby"}))};var MHe=Object(Hu.b)((function(){return Object(Wu.a)(Q7(),khe(),(e,t)=>({serverEntityID:e.serverEntityID,providerEntityID:e.providerEntityID,metadataItemEntityID:t.metadataItem}))}))(CHe),DHe=i("Sua+"),PHe=i.n(DHe);var OHe=function(e){const{bottom:t,playerType:i,onDimensionsChange:n}=e;return Vu()(Qbe,{className:PHe.a.container,bottom:t,onDimensionsChange:n},void 0,Vu()(bHe,{playerType:i,listContext:bc}))},jHe=i("yHQc"),wHe=i.n(jHe);const{Fragment:THe,useEffect:EHe}=Nd.a;var NHe=function(e){const{serverEntityID:t,providerEntityID:i,notification:n,user:a,onRemoveToast:s}=e;return EHe(()=>{const e=n.timestamp+3e3-Date.now(),t=()=>{s({uid:n.uid})};let i;return e>0?i=window.setTimeout(t,e):t(),()=>{i&&(i=window.clearTimeout(i))}},[s,n]),Vu()(THe,{},void 0,Vu()("div",{className:wHe.a.posterCardContainer},void 0,Vu()(Nde,{className:wHe.a.card,serverEntityID:t,providerEntityID:i,imageWidth:30,imageHeight:30,imageUrl:a.thumb,tagType:"participant"})),function(e,t){const i=t.title||Object(Ze.default)("Unknown");let n;switch(e){case"join":n=Object(Ze.default)("{openSpan}{username}{closeSpan} joined",{username:i});break;case"leave":n=Object(Ze.default)("{openSpan}{username}{closeSpan} left",{username:i});break;case"pause":n=Object(Ze.default)("{openSpan}{username}{closeSpan} paused",{username:i});break;case"resume":n=Object(Ze.default)("{openSpan}{username}{closeSpan} resumed",{username:i});break;case"seek":n=Object(Ze.default)("{openSpan}{username}{closeSpan} seeked",{username:i})}return Vu()(vw,{message:n,tags:[{open:"openSpan",close:"closeSpan",component:"span",className:wHe.a.username}]})}(n.type,a))},xHe=i("vMaE"),AHe=i.n(xHe);const LHe=fv(Tv.slowSpeed),kHe={enter:{opacity:1,duration:LHe},exit:{opacity:0,duration:LHe}};function RHe(e){const{className:t,serverEntityID:i,providerEntityID:n,notifications:a,users:s,isControlsVisible:r,onRemoveToast:o}=e;return r?null:Vu()("div",{className:AHe.a.container},void 0,Vu()(ov.a,{},void 0,a.map(e=>Vu()(ov.b.div,{initial:"exit",animate:"enter",exit:"exit",variants:kHe,className:t},e.uid,Vu()(NHe,{serverEntityID:i,providerEntityID:n,notification:e,user:s.find(t=>t.id===e.userID),onRemoveToast:o})))))}RHe.defaultProps={className:AHe.a.toast};var zHe=RHe;const UHe={onRemoveToast:ele};var VHe=Object(Hu.b)((function(){return Object(Wu.a)(zNe,G7("serverEntityID"),G7("providerEntityID"),(e,t,i)=>({notifications:e.notifications,providerEntityID:i,serverEntityID:t,users:e.users}))}),UHe)(zHe),BHe=i("0BwR"),FHe=i.n(BHe);const{Component:HHe,Fragment:_He}=Nd.a,WHe=parseInt(BV.playerControlsHeight,10),QHe=parseInt(BV.playerControlsNarrowHeight,10),GHe=parseInt(BV.playerInfoBarHeight,10),KHe=parseInt(BV.playerOverlayActionEdgeGutter,10);function YHe(e,t){return e.isRemotePlayer||e.isMusic||e.isSettingsVisible||e.isChaptersVisible||e.isSubtitlesOffsetSettingsVisible||e.isWatchTogetherParticipantsVisible||e.isPlayQueueVisible||e.isPostPlayVisible||e.isAlsoAiringVisible||e.isWatchTogetherLobbyVisible||t.isControlsMenuOpen||t.isCastMenuOpen||t.followMuteMenuOpenCount>0||t.disableInteractionTimer}function qHe({bottom:e,children:t}){return Vu()("div",{className:FHe.a.content,style:{bottom:e}},void 0,t)}var ZHe=class extends HHe{constructor(e,t){super(e,t),this._bodyCursorStyleAtMount=void 0,this._interactionTimeoutID=void 0,this.onInteraction=e=>{const{keyCode:t}=e;38!==t&&40!==t&&(YHe(this.props,this.state)||(this.state.hideControls&&this.setState({hideControls:!1}),this._interactionTimeoutID&&window.clearTimeout(this._interactionTimeoutID),this._interactionTimeoutID=window.setTimeout(this.onInteractionTimeout,2e3)))},this.onInteractionTimeout=()=>{this.setState(({hideControlsCount:e})=>({hideControls:!0,hideControlsCount:e+1})),this._interactionTimeoutID&&(window.clearTimeout(this._interactionTimeoutID),this._interactionTimeoutID=null)},this.onMouseLeave=e=>{this.setState({disableInteractionTimer:!1},()=>{YHe(this.props,this.state)||this.onInteractionTimeout()})},this.onControlsMouseEnter=e=>{this.setState({disableInteractionTimer:!0})},this.onControlsMouseLeave=e=>{this.setState({disableInteractionTimer:!1})},this.onControlsMenuChange=e=>{this.setState({isControlsMenuOpen:e})},this.onCastMenuChange=e=>{this.setState({isCastMenuOpen:e})},this.onFollowMuteMenuChange=e=>{this.setState(t=>({followMuteMenuOpenCount:e?t.followMuteMenuOpenCount+1:t.followMuteMenuOpenCount-1}))},this.onAudioSettingsDimensionsChange=({scrollHeight:e})=>{this.setState({audioSettingsHeight:e})},this.state={hideControls:!1,hideControlsCount:0,isControlsMenuOpen:!1,isCastMenuOpen:!1,followMuteMenuOpenCount:0,disableInteractionTimer:!1}}componentDidMount(){document.addEventListener("keyup",this.onInteraction),document.addEventListener("mousemove",this.onInteraction),document.addEventListener("mousedown",this.onInteraction),document.addEventListener("touchstart",this.onInteraction),document.addEventListener("touchend",this.onInteraction),document.addEventListener("mouseleave",this.onMouseLeave),this._bodyCursorStyleAtMount=document.body.style.cursor,YHe(this.props,this.state)||this._startInteractionTimer()}componentWillReceiveProps(e){YHe(e,this.state)&&this.state.hideControls&&this.setState({hideControls:!1}),qye(e.marker)!==qye(this.props.marker)&&this.setState({hideControlsCount:0}),this.props.isFullscreen!==e.isFullscreen&&this.state.disableInteractionTimer&&this.setState({disableInteractionTimer:!1})}componentDidUpdate(e,t){YHe(e,t)&&!YHe(this.props,this.state)&&this._startInteractionTimer(),!YHe(e,t)&&YHe(this.props,this.state)&&this._stopInteractionTimer(),this.state.hideControls!==t.hideControls&&(document.body.style.cursor=this.state.hideControls?"none":this._bodyCursorStyleAtMount)}componentWillUnmount(){document.removeEventListener("keyup",this.onInteraction),document.removeEventListener("mousemove",this.onInteraction),document.removeEventListener("mousedown",this.onInteraction),document.removeEventListener("touchstart",this.onInteraction),document.removeEventListener("touchend",this.onInteraction),document.removeEventListener("mouseleave",this.onMouseLeave),document.body.style.cursor=this._bodyCursorStyleAtMount,this._interactionTimeoutID&&window.clearTimeout(this._interactionTimeoutID)}_startInteractionTimer(){this._stopInteractionTimer(),this._interactionTimeoutID=window.setTimeout(this.onInteractionTimeout,2e3)}_stopInteractionTimer(){this._interactionTimeoutID&&window.clearTimeout(this._interactionTimeoutID)}render(){const{playerType:e,hasFullscreen:t,isRemotePlayer:i,isPlayQueueLoading:n,isMediaLoading:a,isPostPlayLoading:s,isBuffering:r,isFullscreen:o,isSettingsVisible:l,isChaptersVisible:c,isSubtitlesOffsetSettingsVisible:d,isWatchTogetherParticipantsVisible:u,isPlayQueueVisible:p,isAlsoAiringVisible:h,isLyricsVisible:m,isPostPlayVisible:g,isWatchTogetherLobbyVisible:v,isAdVisible:y,isVideo:f,isMusic:b,isNarrowLayout:I,currentSubType:S,hasLiveTVProtocol:C,hasGridFeature:M,hasMediaOverlays:D,isWatchTogether:P,seekStartMilliseconds:O,seekEndMilliseconds:j,bufferStartMilliseconds:w,bufferEndMilliseconds:T,adPositionMilliseconds:E,adDurationMilliseconds:N,ad:x,marker:A,onEnterFullscreenPress:L,onExitFullscreenPress:k,onToggleFullscreen:R,onSeekBarInteractionStart:z,onSeekBarInteractionEnd:U}=this.props,{hideControls:V,hideControlsCount:B,audioSettingsHeight:F}=this.state,H=(n||s||f&&!y&&(a||r))&&!g&&!h&&!v,_=!n&&l&&!c&&!p&&!h,W=_&&b,Q=_&&f,G=!n&&!l&&c&&!p&&!h,K=!n&&p&&!h&&!l&&!c,Y=!n&&!p&&h&&!l&&!c,q=f&&!n&&!s&&!p&&!h&&!g&&!v,Z=q&&!y&&!a,J=v||(!y||p)&&(i||b||a||p||h||s||g),X=S===LC.b,$=I?QHe:WHe,ee=!v&&(C||y||X)?$+GHe:$,te=V?null:"translateY("+-ee+"px)",ie=!(!x||!x.click),ne=!(!x||!x.clicksThrough),ae={bottom:ee+KHe+"px",right:KHe+"px"};return Vu()(_He,{},void 0,D&&q&&!y?Vu()(Sfe,{playerType:e}):null,J?Vu()(uxe,{playerType:e,isVideo:f,isMusic:b,allowBlur:b||p||h||g||v}):null,p||h||!H?null:Vu()("div",{className:FHe.a.spinnerContainer},void 0,Vu()(Jh,{size:_h})),Z?Vu()(zfe,{playerType:e,heightOffset:V?0:ee}):null,!q||y&&ne?null:Vu()(xDe,{playerType:e,isCursorHidden:V,onToggleFullscreen:R}),y&&ie&&!v?Vu()(hw,{className:FHe.a.overlayButton,size:_h,style:ae,onPress:x.click},void 0,Object(Ze.default)("Learn more")):null,q&&!y?Vu()(Xfe,{marker:A,className:FHe.a.overlayButton,size:_h,style:ae,playerType:e,isHidden:V&&B>1,isHiddenPolite:V}):null,n?null:Vu()("div",{className:(FHe.a.topBar||"")+" "+(V&&FHe.a.topBarHidden||"")+" "+(f&&FHe.a.videoTopBar||"")+" "+(p&&FHe.a.playQueueTopBar||""),onMouseEnter:this.onControlsMouseEnter,onMouseLeave:this.onControlsMouseLeave},void 0,Vu()(ODe,{playerType:e,isFullscreen:o,hasFullscreen:t,onCastMenuChange:this.onCastMenuChange,onEnterFullscreenPress:L,onExitFullscreenPress:k})),n||p||m||!b?null:Vu()(qHe,{bottom:ee},void 0,Vu()(oxe,{playerType:e,bottom:W?F:null})),!n&&!p&&m&&b?Vu()(qHe,{bottom:ee},void 0,Vu()($xe,{playerType:e})):null,W?Vu()($De,{playerType:e,bottom:ee,onDimensionsChange:this.onAudioSettingsDimensionsChange}):null,Q?Vu()(WFe,{bottom:ee,playerType:e,isWatchTogether:P}):null,d?Vu()(lFe,{bottom:ee,playerType:e}):null,u?Vu()(OHe,{bottom:ee,playerType:e}):null,G?Vu()(dIe,{bottom:ee,playerType:e}):null,K?Vu()(qHe,{bottom:ee},void 0,Vu()(pLe,{playerType:e,isVideo:f,isMusic:b})):null,Y?Vu()(qHe,{bottom:ee},void 0,Vu()(iDe,{playerType:e,isVideo:f,isMusic:b,hasLiveTVProtocol:C,hasGridFeature:M})):null,n||!g||p||h?null:Vu()(qHe,{bottom:ee},void 0,Vu()(YBe,{playerType:e})),!n&&v?Vu()(qHe,{bottom:ee},void 0,Vu()(MHe,{playerType:e})):null,Vu()(tFe,{isControlsVisible:!V,playerType:e}),P&&!v?Vu()(VHe,{isControlsVisible:!V,playerType:e}):null,n?null:Vu()("div",{className:(FHe.a.bottomBar||"")+" "+(V&&FHe.a.bottomBarHidden||""),style:{bottom:-ee,height:ee,WebkitTransform:te,msTransform:te,transform:te},onMouseEnter:this.onControlsMouseEnter,onMouseLeave:this.onControlsMouseLeave},void 0,Vu()(XNe,{playerType:e,isVideo:f,isMusic:b,isAdVisible:y,isPostPlayVisible:g,isWatchTogetherLobbyVisible:v,currentSubType:S,isWatchTogether:P,hasLiveTVProtocol:C,seekStartMilliseconds:O,bufferStartMilliseconds:w,bufferEndMilliseconds:T,seekEndMilliseconds:j,adPositionMilliseconds:E,adDurationMilliseconds:N,onFollowMuteMenuChange:this.onFollowMuteMenuChange,onControlsMenuChange:this.onControlsMenuChange,onSeekBarInteractionStart:z,onSeekBarInteractionEnd:U})))}},JHe=i("bIaj"),XHe=i.n(JHe),$He=Vu()(Jh,{});var e_e=function(e){const{className:t,children:i,isPlayQueueLoading:n}=e;return Vu()("div",{className:(t||"")+" "+(n&&XHe.a.playQueueIsLoading||"")},void 0,n?$He:i)};const t_e=Nd.a.createElement;var i_e=function(e){return Vu()(e_e,{isPlayQueueLoading:e.isPlayQueueLoading},void 0,t_e(XNe,e))};const n_e=Nd.a.createElement;var a_e=function(e){return n_e(Yye,tp()({},e,{playerType:V8.a,mediaComponent:e.isMusic?pge:kye,playerComponent:e.isMiniPlayer?i_e:ZHe}))};const s_e=Object(Hu.b)((function(){return Object(Wu.a)((e,{isMiniPlayer:t})=>t,Q7(),Rhe(),khe(),K7(),Object(Wu.a)(Uhe(),G7("positionSeconds"),(e,t)=>{const i=1e3*t;return e.find(e=>e.startTimeOffset<=i&&e.endTimeOffset>i)}),Object(Wu.a)(zhe(),yg,Ku,(e,t,i)=>{let n,a;if(e){const s=i[e.serverEntityID],r=t[e.providerEntityID];n=null==s?void 0:s.machineIdentifier,a=null==r?void 0:r.identifier}return{machineIdentifier:n,providerIdentifier:a}}),Khe(),(e,t,i,n,a,s,r,o)=>{var l;let c,d,u;if(n){const e=Object(Qt.u)(n.type);c=e&&e.mediaType,d=n.subtype,u=n.vast}const p=c===Go.a,h=c===Go.e,{machineIdentifier:m,providerIdentifier:g}=r;return{marker:s,isMusic:p,isVideo:h,isPlayQueueLoading:t.isPlayQueueLoading,isMediaLoading:t.isMediaLoading,isPostPlayLoading:t.isPostPlayLoading,isBuffering:t.isBuffering,isWatchTogether:t.isWatchTogether,isSettingsVisible:t.isSettingsVisible,isChaptersVisible:t.isChaptersVisible,isSubtitlesOffsetSettingsVisible:t.isSubtitlesOffsetSettingsVisible,isWatchTogetherParticipantsVisible:t.isWatchTogetherParticipantsVisible,isPlayQueueVisible:t.isPlayQueueVisible,isAlsoAiringVisible:t.isAlsoAiringVisible,isLyricsVisible:t.isLyricsVisible,isPostPlayVisible:t.isPostPlayVisible,isWatchTogetherLobbyVisible:t.isWatchTogetherLobbyVisible,hasError:t.hasError,hasConflicts:t.hasConflicts,hasMediaOverlays:!!(null==o||null==(l=o.Overlay)?void 0:l.length),confirmLiveTVPlayback:t.confirmLiveTVPlayback,hasGridFeature:!!a&&a.features.some(e=>e.type===Ot.e),hasLiveTVProtocol:!!a&&a.protocols.includes(Wt.a),showBackgroundVideoPlayer:!(!u&&!i||e),currentMediaType:c,currentSubType:d,confirmPlaybackPayload:t.confirmPlaybackPayload,confirmOffsetPayload:t.confirmOffsetPayload,advertisingNoticePayload:t.advertisingNoticePayload,confirmRemoteToLocal:t.confirmRemoteToLocal,confirmLocalToRemote:t.confirmLocalToRemote,adState:t.adState,adPositionSeconds:t.adPositionSeconds,adDurationSeconds:t.adDurationSeconds,adDisplayIndex:t.adDisplayIndex,adDisplayTotal:t.adDisplayTotal,vast:u,bufferedRanges:t.bufferedRanges,machineIdentifier:m,providerIdentifier:g}})}),(function(e,t){const{playerType:i}=t;return{onUpdateBufferedRanges(t){e(Boe.K({playerType:i,bufferedRanges:t}))},onUpdateCurrentAd(t){e(xT.C(Object.assign({},t,{playerType:i})))}}}))(a_e);s_e.propTypes=Object.assign({},s_e.propTypes,{isMiniPlayer:vc.a.bool,playerType:vc.a.string.isRequired});var r_e=s_e;var o_e=function(){return Object(Wu.a)(e=>e.user.id,Object(ne.c)("selectRestorePlayQueue"),yg,Ku,(e,t,i,n)=>{let a;t&&t[e]&&(a=t[e]);const s=a&&i[a.providerEntityID],r=a&&n[a.serverEntityID];if(a&&a.playQueueID&&r&&r.isConnected&&s&&s.isPopulated)return a})};const l_e=Nd.a.createElement,{Component:c_e}=Nd.a;const d_e={dispatchRestorePlayQueue:y7.D,dispatchEndPlayback:xT.p,dispatchUpdatePlayerError:Boe.P};var u_e=Object(Hu.b)((function(){return Object(Wu.a)(HEe,e=>e.isFullscreen,e=>e.user.isUnlocked,Q7(),mge(),K7(),o_e(),(e,t,i,n,a,s,r)=>{const{confirmPlayerUpsellPayload:o,isOpen:l,openState:c}=n;return{confirmPlayerUpsellPayload:o,isOpen:l,isServerlessPlayer:l&&(!a||!s),isMiniPlayer:c===b7.b,isRemotePlayer:e,isFullscreen:t,isUserUnlocked:i,hasFullscreen:Object(ne.c)("fullscreenManager").hasFullscreen,restorePlayQueuePayload:r}})}),d_e)(class extends c_e{constructor(...e){super(...e),this.onEnterFullscreen=()=>{Object(ne.c)("fullscreenManager").enter()},this.onExitFullscreen=()=>{Object(ne.c)("fullscreenManager").exit()},this.onToggleFullscreen=()=>{this.props.isFullscreen?this.onExitFullscreen():this.onEnterFullscreen()}}componentDidMount(){this._restorePlayQueue(),this.props.isServerlessPlayer&&this.props.dispatchEndPlayback({playerType:this.props.playerType})}componentDidUpdate(e){const{dispatchEndPlayback:t,isFullscreen:i,isMiniPlayer:n,isOpen:a,isServerlessPlayer:s,playerType:r}=this.props;this._restorePlayQueue(),s&&!e.isServerlessPlayer&&t({playerType:r});const o=Object(ne.c)("fullscreenManager"),l=!a&&e.isOpen,c=n&&!e.isMiniPlayer;i&&(l||c)&&o.shouldExitOnPlayerClose&&this.onExitFullscreen()}componentDidCatch(e,t){C.a.error(e),this.props.dispatchEndPlayback({playerType:this.props.playerType}),this.props.dispatchUpdatePlayerError({playerType:this.props.playerType,errorMessage:Object(Ze.default)("There was an unexpected error during playback. Please visit our forums if you continue to experience problems.")})}_restorePlayQueue(){const{playerType:e,isOpen:t,isUserUnlocked:i,restorePlayQueuePayload:n,dispatchRestorePlayQueue:a}=this.props;if(!t&&i&&n){e===Object(V8.d)(n.playQueueType)&&a(n)}}render(){const e=this.props,{component:t,isServerlessPlayer:i}=e,n=Xe()(e,["component","isServerlessPlayer","restorePlayQueuePayload","dispatchRestorePlayQueue","dispatchEndPlayback","dispatchUpdatePlayerError"]);return i?null:l_e(t,tp()({},n,{onEnterFullscreenPress:this.onEnterFullscreen,onExitFullscreenPress:this.onExitFullscreen,onToggleFullscreen:this.onToggleFullscreen}))}}),p_e=i("lmxN"),h_e=i.n(p_e);var m_e=_u.extend({className:h_e.a.container,component:()=>Vu()(u_e,{component:r_e,playerType:V8.a})});function g_e(e){return Object(Wu.a)($K(),Aae,xae,IT,(t,i,n,a)=>e({server:i,provider:n,stableUser:a,metadataItem:t}))}const v_e=Object(Hu.b)((function(){return Object(Wu.a)(khe(),g_e(Xae),g_e(Yae),g_e(qae),(e,{isVideo:t})=>t,(e,t,i,n,a)=>e?{playQueueItemEntityID:e.entityID,showEditButton:t,showFavoriteButton:i,showMenuButton:!0,showShuffleButton:!0,showUnfavoriteButton:n,showVolume:a}:{})}))(yEe);v_e.propTypes=Object.assign({},v_e.propTypes,{providerEntityID:vc.a.string.isRequired,metadataItemEntityID:vc.a.string.isRequired,serverEntityID:vc.a.string.isRequired,playerType:vc.a.string.isRequired});var y_e=v_e;const f_e=Nd.a.createElement;var b_e=function(e){const{playerType:t,bufferStartMilliseconds:i,bufferEndMilliseconds:n,positionMilliseconds:a}=e,s=Xe()(e,["playerType","bufferStartMilliseconds","bufferEndMilliseconds","positionMilliseconds"]);return Vu()(nPe,{},void 0,Vu()(oPe,{},void 0,Vu()(REe,{playerType:t,bufferStartMilliseconds:i,bufferEndMilliseconds:n,positionMilliseconds:a,showBuffer:!0}),f_e(dPe,tp()({component:y_e,playerType:t},s))))};var I_e=Object(Hu.b)((function(){return Object(Wu.a)(Q7(),khe(),XK,(e,t={},i)=>{const n=t.metadataItem,{serverEntityID:a,providerEntityID:s,type:r,Media:[o]}=i[n],l=r===Qt.d,c=o&&o.Part&&o.Part[0],d=c&&c.key;return{serverEntityID:a,providerEntityID:s,imageUrl:l?null:d}})}))(dxe),S_e=i("tN90"),C_e=i.n(S_e);var M_e=function(e){const{items:t,currentItem:i,size:n,firstIndex:a,renderSlide:s,width:r,height:o}=e;if(!t||!t.length)return null;const l=t.indexOf(i),c=I.a.range(Math.max(0,l-1),Math.min(n,l+1+1));return Vu()("div",{className:C_e.a.magazine},void 0,c.map(e=>{const i=l===e,n=e+a,c=t[e],d={position:"absolute",width:r,height:o,transform:"translate3d("+(e-l)*r+"px, 0, 0)"};return Vu()("div",{className:i?C_e.a.currentSlide:C_e.a.slide,style:d},n,c?s(c):null)}))};var D_e=i("YhIo"),P_e=i.n(D_e);const{Component:O_e}=Nd.a,j_e={width:"100%",height:"100%"};var w_e=Vu()(Jh,{});var T_e=class extends O_e{constructor(){super(),this.onLoad=()=>{this.setState({loading:!1})},this.onError=()=>{this.setState({error:!0})},this.state={loading:!0,error:!1}}render(){const{serverEntityID:e,providerEntityID:t,url:i,maxWidth:n,maxHeight:a}=this.props,{width:s,height:r}=function(e,t,i=2073600){const n=e*t,a=i/Math.pow(Vm(),2),s=Math.sqrt(Math.max(n/a,1));return{width:Math.round(e/s),height:Math.round(t/s)}}(n,a),{loading:o,error:l}=this.state;return Vu()("div",{className:P_e.a.slideContainer},void 0,Vu()("div",{className:P_e.a.statusContainer},void 0,o&&!l?w_e:null,l?Vu()("div",{},void 0,Object(Ze.default)("Unable to load photo")):null),Vu()(tC,{serverEntityID:e,providerEntityID:t,url:i,width:s,height:r,containerStyle:j_e,backgroundSize:"contain",component:JI,onLoad:this.onLoad,onError:this.onError},i))}};const E_e=Nd.a.createElement;var N_e=Vu()(Jh,{});var x_e=Object(Hu.b)((function(){return Object(Wu.a)($K(),Object(Wu.a)($K(),e=>{if(!e||!e.Media)return{};const{type:t,thumb:i,Media:[n]}=e,a="clip"===t,s=n&&n.Part&&n.Part[0],r=s&&s.key;return a||!r?i:r}),(e,t)=>{if(!t||!Object.keys(t).length)return{isLoading:!0};const{serverEntityID:i,providerEntityID:n}=e;return{serverEntityID:i,providerEntityID:n,isLoading:!1,url:t}})}))((function(e){return e.isLoading?N_e:E_e(T_e,e)}));const A_e=Nd.a.createElement;var L_e=Object(Hu.b)((function(){return Object(Wu.a)(hAe(),e=>({playQueueItem:e}))}))((function(e){const{playQueueItem:t}=e;return t&&t.type===Qt.k?A_e(x_e,tp()({metadataItemEntityID:t.metadataItem},e)):null})),k_e=i("NYQO"),R_e=i.n(k_e);const{Component:z_e}=Nd.a;var U_e=class extends z_e{constructor(...e){super(...e),this.renderSlide=e=>{const{playQueueItemEntityID:t,width:i,height:n}=this.props,a=t===e;return Vu()(L_e,{playQueueItemEntityID:e,isCurrent:a,maxWidth:i,maxHeight:n})}}render(){const{playQueueItemEntityIDs:e,playQueueItemEntityID:t,size:i,firstIndex:n,errorMessage:a,width:s,height:r}=this.props;return Vu()("div",{className:R_e.a.carousel},void 0,a?Vu()("div",{className:R_e.a.message},void 0,Vu()("span",{},void 0,a)):null,s&&r&&e&&!a?Vu()(M_e,{items:e,currentItem:t,size:i,firstIndex:n,width:s,height:r,renderSlide:this.renderSlide}):null)}},V_e=i("rU2Z"),B_e=i.n(V_e);function F_e(e){const{hideOverlays:t,canSkipPrevious:i,canSkipNext:n,hasFullscreen:a,isFullscreen:s,isPhoto:r,onPlayNextItem:o,onPlayPreviousItem:l,onCastMenuChange:c,onEnterFullscreenPress:d,onExitFullscreenPress:u,onToggleFullscreen:p}=e;return Vu()("div",{className:t?B_e.a.hideOverlays:void 0},void 0,r?null:Vu()(xDe,{className:B_e.a.playButton,playerType:V8.b,isFullscreen:s,onEnterFullscreenPress:d,onExitFullscreenPress:u,onToggleFullscreen:p}),Vu()("div",{className:B_e.a.topBar},void 0,Vu()(ODe,{playerType:V8.b,isFullscreen:s,hasFullscreen:a,onCastMenuChange:c,onEnterFullscreenPress:d,onExitFullscreenPress:u})),Vu()(JK,{className:B_e.a.leftButton,iconComponent:yO,title:Object(Ze.default)("Previous Photo"),isDisabled:!i,onPress:l}),Vu()(JK,{className:B_e.a.rightButton,iconComponent:mO,title:Object(Ze.default)("Next Photo"),isDisabled:!n,onPress:o}))}F_e.defaultProps={hideOverlays:!1};var H_e=F_e;const __e=Object(Pi.a)("ui/player/photoPlayer/fetchRelatedPhotos"),W_e=Sk({"ui/player/photoPlayer/fetchRelatedPhotos"(e){const t=Object(S7.c)(e,"photo"),i=t.get("playQueue").get("currentIndex"),n=Object(S7.a)(t,i).get("metadataItem"),a=n.get("key"),s=Object(V.join)([a.replace("/library/","/hubs/"),"related"]),r=new pT.default([],{server:n.server,provider:n.provider,metadataItem:n,hubKey:s,hubCount:8});t.set({relatedHubs:r}),n.get("isLibraryItem")&&r.fetch()}});function Q_e(e){var t=e["aria-label"],i=e.className,n=e.style,a={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",id:"plex-icon-camera-560"};a["aria-hidden"]=!t,a.style=n,a.className=Ad.a.plexIcon+(i?" "+i:"");var s=[Nd.a.createElement.apply(Nd.a,["path",{d:"m0 116.61c0-15.307 12.07-27.717 26.949-27.717h95.55l64.35-81.71c3.123-3.965 9.675-7.18 14.634-7.18h157.04c4.959 0 11.512 3.216 14.634 7.18l64.35 81.71h95.55c14.884 0 26.949 12.412 26.949 27.717v335.68c0 15.307-12.06 27.717-26.945 27.717h-506.11c-14.881 0-26.945-12.413-26.945-27.717v-335.68m142.82 11.393h-102.82v36 276h480v-276-36h-102.81l-69.69-87.998h-135.16l-69.25 87.43-.261.566",transform:"translate(0 40)"}].concat([])),Nd.a.createElement.apply(Nd.a,["path",{d:"m280 385.2c66.27 0 120-53.726 120-120 0-66.27-53.726-120-120-120-66.27 0-120 53.726-120 120 0 66.27 53.726 120 120 120m-80-120c0-44.18 35.817-80 80-80 44.18 0 80 35.817 80 80 0 44.18-35.817 80-80 80-44.18 0-80-35.817-80-80",transform:"translate(0 40)"}].concat([]))];return t&&s.unshift(Nd.a.createElement("title",null,t)),Nd.a.createElement.apply(Nd.a,["svg",a].concat(s))}Q_e.propTypes={"aria-label":vc.a.string,className:vc.a.string,style:vc.a.object};var G_e=Q_e;function K_e(e){var t=e["aria-label"],i=e.className,n=e.style,a={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",id:"plex-icon-tag-auto-560"};a["aria-hidden"]=!t,a.style=n,a.className=Ad.a.plexIcon+(i?" "+i:"");var s=[Nd.a.createElement.apply(Nd.a,["path",{d:"m287.75.983c-28.03 2.775-53.66 11.968-70.36 28.646-.014.014-201.52 201.63-201.52 201.63-19.19 19.2-19.18 50.3-.007 69.48l145.92 145.99c14.328 14.336 35.21 17.958 52.735 11.06l-170.85-170.94c-20.817-20.828.024-41.68.024-41.68 27.762-27.819 244.06-244.19 244.06-244.19",transform:"translate(1 50)"}].concat([])),Nd.a.createElement.apply(Nd.a,["path",{d:"m559.45 149.47l-.27-83.68c.237-16.899-5.994-33.8-18.799-46.612-12.806-12.813-29.697-19.05-46.48-18.7l-81.41-.293c-38.15-1.625-75.78 7.347-97.84 29.371-.014.014-201.52 201.63-201.52 201.63-19.19 19.2-19.18 50.3-.007 69.48l145.92 145.99c19.233 19.243 50.27 19.18 69.45-.007l201.48-201.59c21.605-21.658 30.65-58.23 29.482-95.6m-63.51-117.95c8.434-.788 17.14 2.048 23.599 8.509 6.438 6.441 9.275 15.12 8.511 23.534l-.136 109.96c-.777 20.799-8.03 39.93-22.269 54.18-.707.707-1.426 1.398-2.157 2.071-.424.482-.866.954-1.326 1.414l-187.55 187.65c-11.515 11.522-30.19 11.519-41.627.074l-132.12-132.19c-11.475-11.481-11.506-30.06.074-41.649l187.55-187.65c.458-.459.928-.899 1.408-1.321.674-.733 1.366-1.455 2.075-2.164 15.795-15.803 37.594-23 61.13-22.19l102.84-.222",transform:"translate(1 50)"}].concat([])),Nd.a.createElement.apply(Nd.a,["path",{d:"m435.92 172.81c-27.13 0-49.12-22-49.12-49.15 0-27.14 21.993-49.15 49.12-49.15 27.13 0 49.12 22 49.12 49.15 0 27.14-21.993 49.15-49.12 49.15",transform:"translate(1 50)"}].concat([]))];return t&&s.unshift(Nd.a.createElement("title",null,t)),Nd.a.createElement.apply(Nd.a,["svg",a].concat(s))}K_e.propTypes={"aria-label":vc.a.string,className:vc.a.string,style:vc.a.object};var Y_e=K_e;var q_e=function(e){return Vu()(tC,{serverEntityID:e.serverEntityID,providerEntityID:e.providerEntityID,url:e.url,width:110,height:110,component:JI})},Z_e=i("JW6f"),J_e=i.n(Z_e);var X_e=Vu()(Y_e,{});var $_e=function(e){const{serverEntityID:t,providerEntityID:i,summary:n,totalSize:a,url:s,icon:r,onPress:o}=e;return Vu()("div",{className:J_e.a.hub,"data-qa-id":"relatedPhotoItem"},void 0,Vu()(zp,{onPress:o},void 0,Vu()("div",{className:J_e.a.container},void 0,Vu()("div",{className:J_e.a.overlay},void 0,Vu()("div",{className:J_e.a.title,"data-qa-id":"relatedPhotoName"},void 0,n),Vu()("div",{className:J_e.a.count,"data-qa-id":"relatedPhotoCount"},void 0,r?Vu()(tC,{className:J_e.a.icon,serverEntityID:t,providerEntityID:i,url:r,width:14,height:14}):X_e,Vu()("span",{},void 0," ",a))),Vu()("div",{className:J_e.a.body},void 0,Vu()(q_e,{serverEntityID:t,url:s})))))};const eWe=Nd.a.createElement,{Component:tWe}=Nd.a;var iWe=Object(Hu.b)((function(){return Object(Wu.a)((e,{librarySectionKey:t})=>t,_S(),HS(),QK(),bbe(),(e,t,i,n,a)=>({hubLink:Jt(t,i,{key:a.key,title:a.title}),summary:a.summary,totalSize:a.totalSize,url:a.thumb,icon:a.icon}))}),{endPlayback:xT.p})(class extends tWe{constructor(...e){super(...e),this.onPress=()=>{window.location.href=this.props.hubLink,this.props.endPlayback({playerType:V8.b})}}render(){return eWe($_e,tp()({onPress:this.onPress},this.props))}}),nWe=i("0PCw"),aWe=i.n(nWe),sWe=Vu()("div",{});var rWe=function(e){const{serverEntityID:t,providerEntityID:i,librarySectionKey:n,hubEntityIDs:a}=e;return a&&a.length?Vu()("div",{className:aWe.a.container,"data-qa-id":"relatedPhotosContainer"},void 0,Vu()("div",{className:aWe.a.title},void 0,Object(Ze.default)("Related Photos")),Vu()("div",{className:aWe.a.list},void 0,a.map(e=>Vu()(iWe,{serverEntityID:t,providerEntityID:i,librarySectionKey:n,hubEntityID:e},e)))):sWe},oWe=i("i6oY"),lWe=i.n(oWe);const{Fragment:cWe,useCallback:dWe,useState:uWe}=Nd.a;var pWe=Vu()(Jh,{});var hWe=function(e){const{className:t,latitude:i,longitude:n}=e,a=uWe(!0),s=a[1],r=a[0],o=uWe(!1),l=o[1],c=o[0],d=dWe(()=>s(!1),[]),u=dWe(()=>l(!0),[]),p="https://www.google.com/maps/search/?api=1&query="+i+","+n,h={key:"59a999cb8f28fb0a54eb",center:i+","+n,markers:"size:small|color:orange|{"+i+","+n},m=Vm();return Vu()("div",{className:t},void 0,Vu()(T0,{className:lWe.a.map},void 0,({width:e,height:t})=>Vu()(cWe,{},void 0,Vu()("div",{className:lWe.a.underlay},void 0,r?pWe:null,c?Vu()("span",{className:lWe.a.error},void 0,Object(Ze.default)("Unable to load map.")):null),Vu()(zp,{to:p,target:"_blank","aria-label":Object(Ze.default)("Open map in new window")},void 0,Vu()(jS,{width:e,height:t,src:V.join("https://maps.locationiq.com/v2/staticmap",Object.assign({},h,{size:e*m+"x"+t*m})),component:JI,onLoad:d,onError:u})))))},mWe=i("QYx4"),gWe=i.n(mWe),vWe=Vu()(G_e,{});var yWe=function(e){const{className:t,serverEntityID:i,providerEntityID:n,librarySectionKey:a,hubEntityIDs:s,type:r,model:o,width:l,height:c,container:d,iso:u,aperture:p,exposure:h,size:m,hasGeolocation:g,latitude:v,longitude:y}=e;return Vu()("div",{className:(t||"")+" "+(gWe.a.photoInformation||"")},void 0,Vu()(ih,{className:gWe.a.scroller,autoScroll:!0},void 0,Vu()("div",{className:gWe.a.exif},void 0,Vu()("div",{className:gWe.a.line},void 0,Vu()("div",{},void 0,o||("clip"===r?Object(Ze.default)("Video"):Object(Ze.default)("Photo"))),vWe),Vu()("div",{className:gWe.a.line},void 0,l&&c?Vu()("div",{},void 0,l,"  ",c):null,m?Vu()("div",{},void 0,lf(m)):null,d?Vu()("div",{className:gWe.a.format},void 0,d):null),u?Vu()("div",{className:gWe.a.line},void 0,Vu()("div",{},void 0,Object(Ze.default)("ISO")," ",u),Vu()("div",{},void 0,p),Vu()("div",{},void 0,h)):null),Vu()(rWe,{serverEntityID:i,providerEntityID:n,librarySectionKey:a,hubEntityIDs:s})),g?Vu()(hWe,{className:gWe.a.map,latitude:v,longitude:y}):null)};const fWe=Nd.a.createElement,{Component:bWe}=Nd.a;const IWe={dispatchFetchRelatedPhotos:__e};var SWe=Object(Hu.b)((function(){return Object(Wu.a)(Q7(),Qhe(),(e,t)=>{const{Media:i=[],Geolocation:n={},type:a}=t,s=n.Coordinates,r={serverEntityID:e.serverEntityID,providerEntityID:e.providerEntityID,librarySectionKey:t.librarySectionKey,metadataItemEntityID:t.entityID,hubEntityIDs:e.relatedHubs||[],type:a,hasGeolocation:!!s};if(s&&(r.latitude=parseFloat(s.latitude),r.longitude=parseFloat(s.longitude)),i.length){const e=i[0],t=e.Part;r.size=t&&t[0].size,r.aperture=e.aperture,r.exposure=e.exposure,r.iso=e.iso,r.model=e.model,r.width=e.width,r.height=e.height,r.container=e.container}return r})}),IWe)(class extends bWe{componentDidMount(){this.props.dispatchFetchRelatedPhotos()}componentDidUpdate(e){e.metadataItemEntityID!==this.props.metadataItemEntityID&&this.props.dispatchFetchRelatedPhotos()}render(){const e=this.props,t=Xe()(e,["dispatchFetchRelatedPhotos"]);return fWe(yWe,t)}});const{Component:CWe}=Nd.a,MWe={width:"100%",height:"100%",top:0,position:"absolute",zIndex:0};var DWe=class extends CWe{constructor(...e){super(...e),this.onPlayPress=()=>{this.props.onPlayPress&&this.props.onPlayPress(this.props.index)}}render(){const{className:e,serverEntityID:t,providerEntityID:i,url:n,dimension:a,onPlayPress:s}=this.props;return n?Vu()(zp,{className:e,isDisabled:!s,onPress:this.onPlayPress},void 0,Vu()(tC,{serverEntityID:t,providerEntityID:i,url:n,width:a,height:a,style:MWe,component:JI})):null}};const PWe=Object(Hu.b)((function(){return Object(Wu.a)(Object(Wu.a)($K(),e=>{if(!e)return{};const{serverEntityID:t,providerEntityID:i,entityID:n,type:a,thumb:s}=e;return{serverEntityID:t,providerEntityID:i,entityID:n,url:s,isVideo:"clip"===a}}),({serverEntityID:e,providerEntityID:t,url:i})=>({serverEntityID:e,providerEntityID:t,url:i}))}))(DWe);var OWe=Object(Hu.b)((function(){return Object(Wu.a)(hAe(),e=>({metadataItemEntityID:e.metadataItem}))}))(PWe),jWe=i("LPXR"),wWe=i.n(jWe);const{Component:TWe}=Nd.a;var EWe=class extends TWe{constructor(e,t){super(e,t),this.onMeasure=({width:e,height:t})=>{this.setState({isMeasured:!0,width:e,height:t})},this.state={isMeasured:!1,width:null,height:null}}render(){const{className:e,playQueueItemEntityIDs:t,playQueueItemEntityID:i,firstIndex:n,size:a,onPhotoPress:s}=this.props,{isMeasured:r,width:o,height:l}=this.state,c=t.indexOf(i)+n;let d=[],u=[],p=0;if(r){p=Math.ceil(l);const e=Math.ceil(o/p),t=function({index:e,length:t,renderableWindow:i=t,cellPadding:n=0,cellWidth:a,width:s}){const r=t*a+(t-1)*n;let o=e*(a+n)-(s/2-a/2);r>s&&(o=Math.min(Math.max(o,0),r-s));const l=[],c=Math.max(0,e-i),d=Math.min(t-1,e+i);for(let e=c;e<=d;e++)l[e]=e*(a+n)-o;return{renderStartIndex:c,renderEndIndex:d,positions:l}}({index:c,renderableWindow:e,length:a,cellPadding:2,cellWidth:p,width:o});u=I.a.range(t.renderStartIndex,t.renderEndIndex+1),d=t.positions}return Vu()("div",{className:(e||"")+" "+(wWe.a.strip||""),"data-qa-id":"photoStripContainer"},void 0,Vu()(T0,{className:wWe.a.thumbs,onMeasure:this.onMeasure},void 0,r?u.map(e=>{const i=d[e],a=c===e,r=t[e-n],o={position:"absolute",width:p,height:p,transform:"translate3d("+i+"px, 0, 0)"};return Vu()("div",{className:wWe.a.cell,style:o},e,Vu()("div",{className:(wWe.a.thumbContainer||"")+" "+(a&&wWe.a.isSelected||""),"data-qa-id":"photoStripItem"},void 0,r?Vu()(OWe,{className:wWe.a.thumb,playQueueItemEntityID:r,dimension:p-4,index:e-n,onPlayPress:s}):null))}):null))}},NWe=i("1xdZ"),xWe=i.n(NWe);const{Component:AWe}=Nd.a,LWe=parseInt(BV.playerControlsHeight,10),kWe=parseInt(BV.playerControlsNarrowHeight,10);var RWe=class extends AWe{constructor(e,t){super(e,t),this._interactionTimeoutID=void 0,this.onPhotoStripTogglePress=e=>{this.setState({isPhotoStripOpen:!this.state.isPhotoStripOpen})},this.onPhotoInformationTogglePress=e=>{this.setState({isInformationOpen:!this.state.isInformationOpen})},this.onInteraction=e=>{this.setState({hadRecentInteraction:!0}),this._startInteractionTimer()},this.onInteractionTimeout=()=>{this.setState({hadRecentInteraction:!1}),this._stopInteractionTimer()},this.onContentMeasure=e=>{this.props.onPlaybackDimensionsChange(e)},this.onControlsMenuChange=e=>{this.setState({isControlsMenuOpen:e})},this.onCastMenuChange=e=>{this.setState({isCastMenuOpen:e})},this.onControlsMouseEnter=e=>{this.setState({disableInteractionTimer:!0})},this.onControlsMouseLeave=e=>{this.setState({disableInteractionTimer:!1})},this.state={disableInteractionTimer:!1,isPhotoStripOpen:!1,isInformationOpen:!1,isControlsMenuOpen:!1,isCastMenuOpen:!1,hadRecentInteraction:!1}}componentDidMount(){this._startInteractionTimer()}componentDidUpdate(e,t){const{disableInteractionTimer:i}=this.state,{disableInteractionTimer:n}=t,a=!n&&i;n&&!i?this._startInteractionTimer():a&&this._stopInteractionTimer()}componentWillUnmount(){this._stopInteractionTimer()}_startInteractionTimer(){this.state.disableInteractionTimer||(this._stopInteractionTimer(),this._interactionTimeoutID=window.setTimeout(this.onInteractionTimeout,2e3))}_stopInteractionTimer(){this._interactionTimeoutID&&window.clearTimeout(this._interactionTimeoutID)}render(){const{isPhotoStripOpen:e,isInformationOpen:t,hadRecentInteraction:i}=this.state,{playQueueItemEntityIDs:n,playQueueItemEntityID:a,isPlayQueueLoading:s,isVideo:r,isPhoto:o,size:l,firstIndex:c,width:d,height:u,canSkipPrevious:p,canSkipNext:h,errorMessage:m,positionMilliseconds:g,bufferStartMilliseconds:v,bufferEndMilliseconds:y,hasFullscreen:f,isFullscreen:b,isMediaLoading:I,isBuffering:S,isNarrowLayout:C,playerType:M,onExitFullscreenPress:D,onEnterFullscreenPress:P,onToggleFullscreen:O,onPlayNextItem:j,onPlayPreviousItem:w,onPlayItem:T}=this.props,{isControlsMenuOpen:E,isCastMenuOpen:N}=this.state,x=e||t,A=!(x||i||E||N),L=!i&&!N,k=x,R=!o&&(I||S),z=C?kWe:LWe,U=A?null:"translateY("+-z+"px)";return Vu()("div",{"data-qa-id":"photoPlayerContainer",className:(xWe.a.fullPlayer||"")+" "+(A&&xWe.a.hideControls||"")+" "+(k&&xWe.a.dockControls||""),onMouseMove:this.onInteraction,onMouseDown:this.onInteraction,onTouchStart:this.onInteraction,onTouchEnd:this.onInteraction},void 0,o?Vu()(I_e,{playerType:M,playQueueItemEntityID:a}):null,Vu()("div",{className:xWe.a.player},void 0,Vu()("div",{className:xWe.a.main},void 0,Vu()(T0,{className:xWe.a.content,onMeasure:this.onContentMeasure},void 0,R?Vu()("div",{className:xWe.a.spinner},void 0,Vu()(Jh,{size:_h})):null,Vu()(U_e,{playQueueItemEntityIDs:n,playQueueItemEntityID:a,firstIndex:c,size:l,errorMessage:m,width:d,height:u}),s?null:Vu()(H_e,{hideOverlays:L,isPhoto:o,isFullscreen:b,hasFullscreen:f,canSkipNext:h,canSkipPrevious:p,onPlayNextItem:j,onPlayPreviousItem:w,onCastMenuChange:this.onCastMenuChange,onEnterFullscreenPress:P,onExitFullscreenPress:D,onToggleFullscreen:O})),e?Vu()(EWe,{className:xWe.a.mainFooter,playQueueItemEntityIDs:n,playQueueItemEntityID:a,firstIndex:c,size:l,onPhotoPress:T}):null),t?Vu()(SWe,{className:xWe.a.aside,playerType:M}):null),s?null:Vu()("div",{className:xWe.a.bottomBar,style:{bottom:-z,height:z,WebkitTransform:U,msTransform:U,transform:U},onMouseEnter:this.onControlsMouseEnter,onMouseLeave:this.onControlsMouseLeave},void 0,Vu()(b_e,{playerType:M,isVideo:r,isPhoto:o,positionMilliseconds:g,bufferStartMilliseconds:v,bufferEndMilliseconds:y,activatePhotoInformationButton:t,activatePhotoStripButton:e,showPhotoInformationButton:!0,showPhotoStripButton:!0,onPhotoInformationPress:this.onPhotoInformationTogglePress,onPhotoStripPress:this.onPhotoStripTogglePress,onControlsMenuChange:this.onControlsMenuChange})))}};const zWe=Nd.a.createElement;var UWe=function(e){return Vu()(e_e,{isPlayQueueLoading:e.isPlayQueueLoading},void 0,zWe(b_e,e))};const VWe=Nd.a.createElement,{Component:BWe}=Nd.a;function FWe(e){return!!e.playQueueItemEntityID&&!e.isPaused&&!e.isRemotePlayer&&e.isPhoto}var HWe=class extends BWe{constructor(e,t){super(e,t),this._playerTimer=void 0,this._slideshowTimer=void 0,this.onSlideShowAdvance=()=>{this.props.onPlayNextItem({autoPlay:!0})},this.onPlaybackDimensionsChange=({width:e,height:t})=>{this.setState({mediaWidth:e,mediaHeight:t})},this.state={mediaHeight:0,mediaWidth:0}}componentDidMount(){FWe(this.props)&&this._startSlideshow()}componentDidUpdate(e){const t=FWe(e),i=FWe(this.props),n=i!==t,a=this.props.playQueueItemEntityID!==e.playQueueItemEntityID;(n||a)&&(i?e.isPaused?this.props.onPlayNextItem({autoPlay:!0}):this._startSlideshow():this._stopSlideshow())}componentWillUnmount(){this._stopSlideshow(),this._playerTimer=window.clearTimeout(this._playerTimer)}_startSlideshow(){this._stopSlideshow(),this._slideshowTimer=window.setTimeout(this.onSlideShowAdvance,5e3)}_stopSlideshow(){this._slideshowTimer&&(this._slideshowTimer=window.clearTimeout(this._slideshowTimer))}render(){const{isMiniPlayer:e,isRemotePlayer:t}=this.props,{mediaWidth:i,mediaHeight:n}=this.state;return VWe(Yye,tp()({},this.props,{playerType:V8.b,mediaWidth:i,mediaHeight:n,isRemotePlayer:t,isPostPlayVisible:!1,hasConflicts:!1,mediaComponent:kye,playerComponent:e?UWe:RWe,onPlaybackDimensionsChange:this.onPlaybackDimensionsChange}))}};const _We=Object(Hu.b)((function(){return Object(Wu.a)((e,{isMiniPlayer:t})=>t,Q7(),Rhe(),khe(),(e,t,i,n)=>{const a={serverEntityID:t.serverEntityID,providerEntityID:t.providerEntityID,confirmPlaybackPayload:t.confirmPlaybackPayload,confirmOffsetPayload:t.confirmOffsetPayload,confirmRemoteToLocal:t.confirmRemoteToLocal,confirmLocalToRemote:t.confirmLocalToRemote,isPlayQueueLoading:t.isPlayQueueLoading,isMediaLoading:t.isMediaLoading,isPaused:t.isPaused,isBuffering:t.isBuffering,hasError:t.hasError,errorMessage:t.errorMessage,showBackgroundVideoPlayer:!!i&&!e},s=t.playQueue;if(s&&n){const e=s.currentIndex;a.playQueueItemEntityIDs=s.playQueueItems,a.playQueueItemEntityID=n.entityID,a.canSkipPrevious=e>0,a.canSkipNext=e<s.playQueueItems.length-1,a.size=s.length,a.firstIndex=s.playQueueSelectedItemOffset-e,a.currentMediaType=Object(Qt.u)(n.type).mediaType,a.currentMediaSubtype=n.subtype}return a.isVideo=a.currentMediaType===Go.e,a.isPhoto=a.currentMediaType===Go.c,a})}),(function(e,t){const{playerType:i}=t;return{onPlayPreviousItem(){e(y7.z({playerType:i}))},onPlayNextItem(t={}){e(y7.y({playerType:i,autoPlay:t.autoPlay}))},onPlayItem(t){e(y7.w({playerType:i,index:t}))},onTogglePlayPause(){e(Boe.F({playerType:i}))}}}))(HWe);_We.propTypes=Object.assign({},_We.propTypes,{playerType:vc.a.string.isRequired});var WWe=_We;var QWe=_u.extend({component:()=>Vu()(u_e,{component:WWe,playerType:V8.b})}),GWe=i("fjrA");const KWe=Nd.a.createElement;var YWe=function(e){return KWe(dge,tp()({},e,{type:"rom"}))};const qWe=Nd.a.createElement;var ZWe=function(e){return qWe(yEe,tp()({},e,{showRepeatButton:!1,showNextButton:!1,showPreviousButton:!1,showSettingsButton:!0}))};function JWe(e){const{isGame:t,isMiniPlayer:i,playerType:n,onControlsMenuChange:a}=e;return Vu()(nPe,{},void 0,Vu()(oPe,{},void 0,Vu()(dPe,{component:ZWe,playerType:n,isGame:t,isMiniPlayer:i,onControlsMenuChange:a})))}JWe.defaultProps={isMiniPlayer:!1};var XWe=JWe;var $We=Object(Hu.b)((function(){return Object(Wu.a)(G7("serverEntityID"),G7("startMetadataItemEntityID"),khe(),XK,(e,t,i={},n)=>{const a=n[t||i.metadataItem];let s;return a&&(s=a.grandparentArt||a.art),{serverEntityID:e,imageUrl:s}})}))(dxe),eQe=i("9Y86"),tQe=i("wowv"),iQe=i("HhKU"),nQe=i.n(iQe);const{useEffect:aQe,useRef:sQe,useState:rQe}=Nd.a,oQe=/^[^()]+/;const lQe=[!1,!1,!1,!1];var cQe=function({bottom:e,gameInputDevices:t}){const i=sQe(lQe),n=rQe(null),a=n[1];return n[0],aQe(()=>{const e=Object(tQe.a)((e,n)=>{const s=t.findIndex(e=>e.type===GWe.e.Keyboard);-1!==s&&(i.current[s]=n,a(Date.now()))}),n=Object(eQe.a)((e,n,s)=>{const r=t.findIndex(t=>t.index===e.index);-1!==r&&(i.current[r]=Array.from(n.changed).some(e=>n.values.get(e))||Array.from(s.changed).some(e=>s.values.get(e)),a(e.timestamp))});return i.current=[lQe],()=>{e(),n()}},[t]),Vu()(_De,{bottom:e,title:Object(Ze.default)("Gameplay Settings")},void 0,t.map((e,n)=>{const{type:a}=e;let s;return s=a===GWe.e.Gamepad?function(e,t){var i;const{id:n}=e,a=(null==(i=n.match(oQe))?void 0:i[0].trim())||n,s=t.filter(e=>e.id===n);return s.length>1?a+" ("+(s.indexOf(e)+1)+")":a}(e,t):a===GWe.e.Keyboard?Object(Ze.default)("Keyboard"):Object(Ze.default)("None"),Vu()(KDe,{className:i.current[n]?nQe.a.rowPressed:nQe.a.row,label:Object(Ze.default)("Player {index}",{index:n+1})},n,s)}))},dQe=i("r3vD"),uQe=i.n(dQe);const{Component:pQe,Fragment:hQe}=Nd.a,mQe=parseInt(BV.playerControlsHeight,10),gQe=parseInt(BV.playerControlsNarrowHeight,10);function vQe(e,t){return e.isSettingsVisible||t.isCastMenuOpen||t.disableInteractionTimer}var yQe=class extends pQe{constructor(e,t){super(e,t),this._bodyCursorStyleAtMount=void 0,this._interactionTimeoutID=void 0,this.onInteraction=e=>{const{keyCode:t}=e;38!==t&&40!==t&&(27!==t?vQe(this.props,this.state)||(this.state.hideControls&&this.setState({hideControls:!1}),this._interactionTimeoutID&&window.clearTimeout(this._interactionTimeoutID),this._interactionTimeoutID=window.setTimeout(this.onInteractionTimeout,2e3)):this.state.hideControls||this.onInteractionTimeout())},this.onInteractionTimeout=()=>{this.setState(({hideControlsCount:e})=>({hideControls:!0,hideControlsCount:e+1})),this._interactionTimeoutID&&(window.clearTimeout(this._interactionTimeoutID),this._interactionTimeoutID=null)},this.onMouseLeave=e=>{this.setState({disableInteractionTimer:!1},()=>{vQe(this.props,this.state)||this.onInteractionTimeout()})},this.onControlsMouseEnter=e=>{this.setState({disableInteractionTimer:!0})},this.onControlsMouseLeave=e=>{this.setState({disableInteractionTimer:!1})},this.onControlsMenuChange=e=>{this.setState({isControlsMenuOpen:e})},this.onCastMenuChange=e=>{this.setState({isCastMenuOpen:e})},this.state={hideControls:!1,hideControlsCount:0,isControlsMenuOpen:!1,isCastMenuOpen:!1,disableInteractionTimer:!1}}componentDidMount(){document.addEventListener("keyup",this.onInteraction),document.addEventListener("mousemove",this.onInteraction),document.addEventListener("mousedown",this.onInteraction),document.addEventListener("touchstart",this.onInteraction),document.addEventListener("touchend",this.onInteraction),document.addEventListener("mouseleave",this.onMouseLeave),this._bodyCursorStyleAtMount=document.body.style.cursor,vQe(this.props,this.state)||this._startInteractionTimer()}componentWillReceiveProps(e){vQe(e,this.state)&&this.state.hideControls&&this.setState({hideControls:!1}),this.props.isFullscreen!==e.isFullscreen&&this.state.disableInteractionTimer&&this.setState({disableInteractionTimer:!1})}componentDidUpdate(e,t){vQe(e,t)&&!vQe(this.props,this.state)&&this._startInteractionTimer(),!vQe(e,t)&&vQe(this.props,this.state)&&this._stopInteractionTimer(),this.state.hideControls!==t.hideControls&&(document.body.style.cursor=this.state.hideControls?"none":this._bodyCursorStyleAtMount)}componentWillUnmount(){document.removeEventListener("keyup",this.onInteraction),document.removeEventListener("mousemove",this.onInteraction),document.removeEventListener("mousedown",this.onInteraction),document.removeEventListener("touchstart",this.onInteraction),document.removeEventListener("touchend",this.onInteraction),document.removeEventListener("mouseleave",this.onMouseLeave),document.body.style.cursor=this._bodyCursorStyleAtMount,this._interactionTimeoutID&&window.clearTimeout(this._interactionTimeoutID)}_startInteractionTimer(){this._stopInteractionTimer(),this._interactionTimeoutID=window.setTimeout(this.onInteractionTimeout,2e3)}_stopInteractionTimer(){this._interactionTimeoutID&&window.clearTimeout(this._interactionTimeoutID)}render(){const{playerType:e,gameInputDevices:t,hasFullscreen:i,isGame:n,isPlayQueueLoading:a,isMediaLoading:s,isFullscreen:r,isNarrowLayout:o,isSettingsVisible:l,onEnterFullscreenPress:c,onExitFullscreenPress:d,onToggleFullscreen:u}=this.props,{hideControls:p}=this.state,h=a||s,m=a||s,g=o?gQe:mQe,v=p?null:"translateY("+-g+"px)";return Vu()(hQe,{},void 0,m?Vu()($We,{playerType:e,allowBlur:!1}):null,h?Vu()("div",{className:uQe.a.spinnerContainer},void 0,Vu()(Jh,{size:_h})):null,Vu()(xDe,{playerType:e,isCursorHidden:p,onToggleFullscreen:u}),l?Vu()(cQe,{gameInputDevices:t,playerType:e,bottom:g}):null,a?null:Vu()("div",{className:(uQe.a.topBar||"")+" "+(p&&uQe.a.topBarHidden||""),onMouseEnter:this.onControlsMouseEnter,onMouseLeave:this.onControlsMouseLeave},void 0,Vu()(ODe,{playerType:e,isFullscreen:r,hasFullscreen:i,onCastMenuChange:this.onCastMenuChange,onEnterFullscreenPress:c,onExitFullscreenPress:d})),a?null:Vu()("div",{className:(uQe.a.bottomBar||"")+" "+(p&&uQe.a.bottomBarHidden||""),style:{bottom:-g,height:g,WebkitTransform:v,msTransform:v,transform:v},onMouseEnter:this.onControlsMouseEnter,onMouseLeave:this.onControlsMouseLeave},void 0,Vu()(XWe,{isGame:n,playerType:e,onControlsMenuChange:this.onControlsMenuChange})))}};const fQe=Nd.a.createElement;var bQe=function(e){return Vu()(e_e,{isPlayQueueLoading:e.isPlayQueueLoading},void 0,fQe(XWe,e))};const IQe=Nd.a.createElement,{useEffect:SQe,useState:CQe}=Nd.a,MQe={type:GWe.e.Keyboard},DQe={type:GWe.e.None},PQe=[MQe,DQe,DQe,DQe];var OQe=function(e){const t=CQe(PQe),i=t[1],n=t[0];return SQe(()=>function(e){if(!z.a.hasGamepads)return()=>{};function t(){const e=[];for(const t of window.navigator.getGamepads())(null==t?void 0:t.connected)&&e.push(t);return e}function i(i){e(t(),[i.gamepad])}window.addEventListener("gamepadconnected",i,!0),window.addEventListener("gamepaddisconnected",i,!0);const n=window.requestAnimationFrame(()=>{const i=t();i.length&&e(i,i)});return()=>{window.cancelAnimationFrame(n),window.removeEventListener("gamepadconnected",i,!0),window.removeEventListener("gamepaddisconnected",i,!0)}}(e=>{const t=e.map(e=>({type:GWe.e.Gamepad,id:e.id,index:e.index,mapping:e.mapping}));if(t.length<4){t.push(MQe);for(let e=t.length;e<4;e++)t.push(DQe)}i(t)}),[]),IQe(Yye,tp()({},e,{gameInputDevices:n,mediaComponent:YWe,playerComponent:e.isMiniPlayer?bQe:yQe}))};const jQe=Object(Hu.b)((function(){return Object(Wu.a)(khe(),Object(Wu.a)(zhe(),e=>{var t,i;return null==e||null==(t=e.Platform)||null==(i=t[0])?void 0:i.tag}),hge(["isMediaLoading","isPlayQueueLoading","paused","url","confirmRemoteToLocal","confirmLocalToRemote","confirmOffsetPayload","hasError","hasConflicts","isPostPlayVisible","isSettingsVisible"]),(e,t,i)=>{const{paused:n,isSettingsVisible:a}=i,s=Xe()(i,["paused","isSettingsVisible"]);let r;var o;e&&(r=null==(o=Object(Qt.u)(e.type))?void 0:o.mediaType);return Object.assign({},s,{currentMediaType:r,gamePlatformTag:t,gamePreventDefault:n||a,isSettingsVisible:a,showBackgroundVideoPlayer:!1})})}))(OQe);jQe.propTypes=Object.assign({},jQe.propTypes,{isOpen:vc.a.bool,playerType:vc.a.oneOf([V8.c]).isRequired});var wQe=jQe,TQe=i("1jyh"),EQe=i.n(TQe);var NQe=_u.extend({className:EQe.a.container,component:()=>Vu()(u_e,{isGame:!0,component:wQe,playerType:V8.c})}),xQe=i("/TfA"),AQe=i.n(xQe);var LQe=R.Layout.extend({el:"#plex",template:AQe.a,resizeDelay:200,ui:{content:"#content"},customRegions:{background:{prepend:!0,global:!0},content:{selector:"#content",global:!0,scrollable:!0,channelName:"content"},navbar:{prepend:!0,global:!0},alertbar:{selector:"#alertBar"},audioVideoPlayer:{append:!0,global:!0},romPlayer:{append:!0,global:!0},photoPlayer:{append:!0,global:!0},syncDownloadModals:{append:!0}},openAlerts:{},initialize:function(){I.a.bindAll(this,"triggerResizeEvent");var e=ne.c("appModel");this.user=e.get("user"),this.modals=[],I.a.each(I.a.keys(this.customRegions),(function(e){var t=this.customRegions[e],i=t.selector||I.a.uniqueId("r");t.scrollable?this.addRegion(e,new U8({el:i,channelName:t.channelName})):this.addRegion(e,i)}),this),this.listenTo(e,{"change:authorized":this.onAuthorizedChange,"change:isFirstRun":this.onFirstRunChange}),this.listenTo(this.user,{"change:locked":this.onUserLockedChange,"change:isSignedIn":this.onUserIsSignedInChange}),this.listenTo(U.a,{"show:loading":this.showLoading,"show:view":this.showView,"show:alert":this.showAlert,"show:bar":this.showBar,"hide:bar":this.hideBar,"show:modal":this.showModal,"hide:modal":this.hideModal,"update:scrollPosition":this.onUpdateScrollPosition}),D()(window).on("resize",this.onResize)},showCustomRegion:function(e,t){var i=this.customRegions[e],n=this[e];if(this.user.get("locked"))return n.lockedView=t,void t.close();i.append?n.append(t,this.$el):i.prepend?n.prepend(t,this.$el):n.show(t)},showLoading:function(){this.hideBar("alertbar"),this.user.get("locked")&&this.resetContentLockedRegions(),this.showCustomRegion("content",new N3)},showView:function(e){D()(".tooltip").remove(),this.hideBackground(this.currentView,e),U.a.trigger("cycle:cache"),this.currentView=e,this.showCustomRegion("content",e),this.ui.content.scrollTop(0)},showAlert:function(e){var t=e.message;if(!this.openAlerts[t]){var i=new u9(e);this.openAlerts[t]=!0,this.listenToOnce(i,"close",(function(){delete this.openAlerts[t]})),this.$el.append(i.render().el)}},showAlertBar:function(){if(Ie.length){const e=Ie[0];Ie.length=0,this.showBar("alertbar",new Xx({alert:e}))}},showBar:function(e,t){this.customRegions[e].modifier&&this.$el.addClass(this.customRegions[e].modifier),t&&this.showCustomRegion(e,t)},hideBar:function(e,t){t||(t={});var i=this.customRegions[e].modifier;i&&this.$el.removeClass(i),t.preserve||(this[e].lockedView=null,this[e].close())},showModal:function(e){this.modals.push(e);var t=D()("body");e.transparent&&t.addClass("show-modal-transparent"),t.append(e.render().el)},hideModal:function(e){var t=I.a.indexOf(this.modals,e);t>-1&&this.modals.splice(t,1)[0].close(),e.transparent&&!I.a.findWhere(this.modals,{transparent:!0})&&D()("body").removeClass("show-modal-transparent")},hideBackground:function(e,t){var i=t.model?t.model.get("grandparentTheme")||t.model.get("parentTheme")||t.model.get("theme")||t.model.get("key"):null;U.a.trigger("audio:fadeOut",{exceptKey:i}),e&&e.model&&U.a.trigger("hide:background",this.currentView.model)},getLegacyCustomRegionKeys:function(){return I.a.keys(this.customRegions).filter(e=>"navbar"!==e)},lockAll:function(){this._isLocked=!0;var e=I.a.map(this.getLegacyCustomRegionKeys(),(function(e){return this[e]}),this);I.a.each(e,(function(e){e.close()}),this)},resetContentLockedRegions:function(){I.a.each(this.getLegacyCustomRegionKeys(),(function(e){if(!this.customRegions[e].global){var t=this[e];t.lockedView&&(t.lockedView=null)}}),this)},restoreAll:function(){this._isLocked=!1,this.showNavBar(),this.showCustomRegion("background",this.backgroundView),this.showCustomRegion("photoPlayer",new QWe),this.showCustomRegion("audioVideoPlayer",new m_e),this.showCustomRegion("romPlayer",new NQe),be.a.allowSyncDownload&&this.showCustomRegion("syncDownloadModals",new V9)},triggerResizeEvent:function(){U.a.trigger("resize")},showNavBar:function(){var e=ne.c("appModel");this.navbar&&this.navbar.currentView||this.showBar("navbar",new xhe({model:e}),{prepend:!0})},onRender:function(){this.backgroundView=new l9,this.restoreAll()},onAuthorizedChange:function(e,t){if(t){var i=this.user.get("locked");!1!==i&&null!==i||this.showAlertBar()}else U.a.trigger("navigate:refresh")},onFirstRunChange:function(e,t){this.$el.toggleClass("show-first-run",t)},onUserLockedChange:function(e,t){t?this.lockAll():!this._isLocked||!1!==t&&null!==t||(null===t&&(this.backgroundView=new l9),this.restoreAll())},onUserIsSignedInChange:function(e,t){t||U.a.trigger("navigate:refresh")},onResize:function(){this.resizeTimeout=window.clearTimeout(this.resizeTimeout),this.resizeTimeout=window.setTimeout(this.triggerResizeEvent,this.resizeDelay)},onUpdateScrollPosition:function(e){this.ui.content[0].scrollTop=e}});var kQe=Object(Wu.a)(qu,e=>e.filter(e=>e.isFullServer&&!!e.friendlyName));var RQe=FS(Object(Wu.a)(kQe,e=>e.reduce((e,t)=>{const{entityID:i,machineIdentifier:n}=t;return i&&n&&e.push({entityID:i,machineIdentifier:n}),e},[])),e=>e);function zQe(e){return e.user.experienceSettings.homeSettings.preferredServerID}var UQe=Object(Wu.a)(Ibe,e=>e.servers,Ku,(e,t,i)=>{const{preferredServerID:n}=e;if(n)for(let e=0,a=t.length;e<a;e++){const a=i[t[e]];if(a.machineIdentifier===n)return a}});function VQe(e){const{sourceServer:t,sourceProvider:i,directories:n}=e;return n?n.reduce((e,n)=>{const a=JQ(i,n);if(!a)return e;return(a.key!==KQ||!(!n.hubKey||n.key))&&e.push(nte({sourceType:a.key,sourceServer:t,sourceProvider:i,sourceDirectory:n})),e},[]):[]}const BQe=Nd.a.createElement,{Component:FQe}=Nd.a;class HQe extends FQe{constructor(e,t){super(e,t),this.store=void 0,this.unsubscribe=void 0,this.onChange=e=>{const t=this.store.getState(),i=Object.keys(t).filter(e=>this.props.names.includes(e)),n=Object.assign({},t);i.forEach(t=>{const i=n[t];n[t]=Object.assign({},i,{value:e})}),this.store.dispatch(UM.replaceState(n))},this.onFormStoreChange=()=>{const{names:e}=this.props;if(!e.length)return;const t=this.store.getState(),i=Object.keys(t).filter(e=>this.props.names.includes(e)),[n]=i,a=t[n].value,s=function(e,t,i){return e.every(e=>{const n=i[e];return!n||n.value===t})}(i,a,t);this.setState({value:s?a:null})},this.store=this.context.formStore,this.state={value:!0}}componentWillMount(){this.unsubscribe=this.store.subscribe(this.onFormStoreChange)}componentWillUnmount(){this.unsubscribe&&this.unsubscribe()}render(){const e=this.props,{names:t,onChange:i}=e,n=Xe()(e,["names","onChange"]);return t.length?BQe(TB,tp()({},n,{value:this.state.value,onChange:Cb(this.onChange,i)})):null}}HQe.contextTypes={formStore:NM};var _Qe=HQe,WQe=i("chwz"),QQe=i.n(WQe);function GQe(e){const{className:t,titleBarClassName:i,titleTextClassName:n,scrollerClassName:a,title:s,rightTitle:r,children:o}=e;return Vu()("div",{className:t},void 0,Vu()("div",{className:i},void 0,Vu()("span",{className:n},void 0,s),r),Vu()(ih,{className:a},void 0,o))}GQe.defaultProps={className:QQe.a.container,titleBarClassName:QQe.a.titleBar,titleTextClassName:QQe.a.titleText,scrollerClassName:QQe.a.scroller};var KQe=GQe,YQe=i("sPYG"),qQe=i.n(YQe);const ZQe=Nd.a.createElement;function JQe(e){const{step:t,isActive:i,onPress:n}=e;return Vu()(zp,{className:i?qQe.a.activeStepIcon:qQe.a.stepIcon,onPress:function(){n(t)}},void 0,t)}function XQe(e){const{className:t,actionsClassName:i,stepContainerClassName:n,steps:a,step:s,stepHeadingText:r,stepBodyText:o,stepButtonBackText:l,stepButtonNextText:c,children:d,component:u,onButtonBackPress:p,onButtonNextPress:h,onStepPress:m}=e,g=Xe()(e,["className","actionsClassName","stepContainerClassName","steps","step","stepHeadingText","stepBodyText","stepButtonBackText","stepButtonNextText","children","component","onButtonBackPress","onButtonNextPress","onStepPress"]),v=$.prop("X-Plex-Product");return ZQe(u,tp()({className:t},g),Vu()("div",{className:i},void 0,d),Vu()("div",{className:n},void 0,Vu()("div",{className:qQe.a.stepText},void 0,Object(Ze.default)("{productName} Setup",{productName:v}),Array.from(Array(a),(e,t)=>t+1).map(e=>Vu()(JQe,{step:e,isActive:s===e,onPress:m},e))),Vu()("h3",{className:qQe.a.stepHeading},void 0,r),Vu()("p",{className:qQe.a.stepBody},void 0,o),l?Vu()(hw,{className:qQe.a.stepButton,onPress:p},void 0,l):null,Vu()(hw,{className:qQe.a.stepButton,kind:Pp,type:"submit",onPress:h},void 0,c)))}XQe.defaultProps={className:qQe.a.container,actionsClassName:qQe.a.actions,stepContainerClassName:qQe.a.stepContainer,component:function(e){let{children:t}=e,i=Xe()(e,["children"]);return ZQe("div",i,t)},steps:2,step:1};var $Qe=XQe;function eGe(e){var t=e["aria-label"],i=e.className,n=e.style,a={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",id:"plex-icon-shared-560"};a["aria-hidden"]=!t,a.style=n,a.className=Ad.a.plexIcon+(i?" "+i:"");var s=[Nd.a.createElement.apply(Nd.a,["path",{clipRule:"evenodd",d:"M10.286 3.429V8.57H5.143V39.43h37.714V8.57h-5.143V3.43H48V44.57H0V3.43h10.286zM26.57 20.57h10.286L24 33.43 11.143 20.57h10.286V0h5.142v20.571z"}].concat([]))];return t&&s.unshift(Nd.a.createElement("title",null,t)),Nd.a.createElement.apply(Nd.a,["svg",a].concat(s))}eGe.propTypes={"aria-label":vc.a.string,className:vc.a.string,style:vc.a.object};var tGe=eGe;function iGe(e){var t=e["aria-label"],i=e.className,n=e.style,a={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-playlists-560"};a["aria-hidden"]=!t,a.style=n,a.className=Ad.a.plexIcon+(i?" "+i:"");var s=[Nd.a.createElement.apply(Nd.a,["path",{d:"m0 460l80 0 0 60-80 0 0-60m560 0l0 60-400 0 0-60 400 0m-560-140l80 0 0 60-80 0 0-60m160 0l400 0 0 60-400 0 0-60m-160-140l80 0 0 60-80 0 0-60m160 0l400 0 0 60-400 0 0-60m-160-140l80 0 0 60-80 0 0-60m160 0l400 0 0 60-400 0 0-60"}].concat([]))];return t&&s.unshift(Nd.a.createElement("title",null,t)),Nd.a.createElement.apply(Nd.a,["svg",a].concat(s))}iGe.propTypes={"aria-label":vc.a.string,className:vc.a.string,style:vc.a.object};var nGe=iGe;function aGe(e){var t=e["aria-label"],i=e.className,n=e.style,a={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-sidebar-live-dvr-560"};a["aria-hidden"]=!t,a.style=n,a.className=Ad.a.plexIcon+(i?" "+i:"");var s=[Nd.a.createElement.apply(Nd.a,["path",{d:"M400 10h70L351.25 110H546c7.732 0 14 6.268 14 14v412c0 7.732-6.268 14-14 14H14c-7.732 0-14-6.268-14-14V124c0-7.732 6.268-14 14-14h194.75L90 10h70l120 100L400 10zm100 433V177a7 7 0 0 0-7-7H67a7 7 0 0 0-7 7v266a7 7 0 0 0 7 7h426a7 7 0 0 0 7-7z"}].concat([]))];return t&&s.unshift(Nd.a.createElement("title",null,t)),Nd.a.createElement.apply(Nd.a,["svg",a].concat(s))}aGe.propTypes={"aria-label":vc.a.string,className:vc.a.string,style:vc.a.object};var sGe=aGe;function rGe(e){var t=e["aria-label"],i=e.className,n=e.style,a={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-sidebar-movies-560"};a["aria-hidden"]=!t,a.style=n,a.className=Ad.a.plexIcon+(i?" "+i:"");var s=[Nd.a.createElement.apply(Nd.a,["path",{d:"M560 40c0-11.038-8.962-20-20-20H20C8.962 20 0 28.962 0 40v480c0 11.038 8.962 20 20 20h520c11.038 0 20-8.962 20-20V40zM100 468v24c0 4.415-3.585 8-8 8H68c-4.415 0-8-3.585-8-8v-24c0-4.415 3.585-8 8-8h24c4.415 0 8 3.585 8 8zm400 0v24c0 4.415-3.585 8-8 8h-24c-4.415 0-8-3.585-8-8v-24c0-4.415 3.585-8 8-8h24c4.415 0 8 3.585 8 8zM400 310v180c0 5.52-4.48 10-10 10H170c-5.52 0-10-4.48-10-10V310c0-5.52 4.48-10 10-10h220c5.52 0 10 4.48 10 10zm100 78v24c0 4.415-3.585 8-8 8h-24c-4.415 0-8-3.585-8-8v-24c0-4.415 3.585-8 8-8h24c4.415 0 8 3.585 8 8zm-400 0v24c0 4.415-3.585 8-8 8H68c-4.415 0-8-3.585-8-8v-24c0-4.415 3.585-8 8-8h24c4.415 0 8 3.585 8 8zm0-80v24c0 4.415-3.585 8-8 8H68c-4.415 0-8-3.585-8-8v-24c0-4.415 3.585-8 8-8h24c4.415 0 8 3.585 8 8zm400 0v24c0 4.415-3.585 8-8 8h-24c-4.415 0-8-3.585-8-8v-24c0-4.415 3.585-8 8-8h24c4.415 0 8 3.585 8 8zM400 70v180c0 5.52-4.48 10-10 10H170c-5.52 0-10-4.48-10-10V70c0-5.52 4.48-10 10-10h220c5.52 0 10 4.48 10 10zm100 158v24c0 4.415-3.585 8-8 8h-24c-4.415 0-8-3.585-8-8v-24c0-4.415 3.585-8 8-8h24c4.415 0 8 3.585 8 8zm-400 0v24c0 4.415-3.585 8-8 8H68c-4.415 0-8-3.585-8-8v-24c0-4.415 3.585-8 8-8h24c4.415 0 8 3.585 8 8zm0-80v24c0 4.415-3.585 8-8 8H68c-4.415 0-8-3.585-8-8v-24c0-4.415 3.585-8 8-8h24c4.415 0 8 3.585 8 8zm400 0v24c0 4.415-3.585 8-8 8h-24c-4.415 0-8-3.585-8-8v-24c0-4.415 3.585-8 8-8h24c4.415 0 8 3.585 8 8zm0-80v24c0 4.415-3.585 8-8 8h-24c-4.415 0-8-3.585-8-8V68c0-4.415 3.585-8 8-8h24c4.415 0 8 3.585 8 8zm-400 0v24c0 4.415-3.585 8-8 8H68c-4.415 0-8-3.585-8-8V68c0-4.415 3.585-8 8-8h24c4.415 0 8 3.585 8 8z"}].concat([]))];return t&&s.unshift(Nd.a.createElement("title",null,t)),Nd.a.createElement.apply(Nd.a,["svg",a].concat(s))}rGe.propTypes={"aria-label":vc.a.string,className:vc.a.string,style:vc.a.object};var oGe=rGe;function lGe(e){var t=e["aria-label"],i=e.className,n=e.style,a={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-sidebar-music-560"};a["aria-hidden"]=!t,a.style=n,a.className=Ad.a.plexIcon+(i?" "+i:"");var s=[Nd.a.createElement.apply(Nd.a,["path",{d:"M199.855 473.52a35.61 35.61 0 0 1 .145 3.222c0 33.115-44.809 68.962-100 80-55.191 11.039-100-6.885-100-40s44.809-68.961 100-80c22.504-4.5 43.282-4.186 60 .01V96.85c0-11.257 8.788-22.154 19.612-24.319L540.388.377C551.212-1.788 560 5.594 560 16.85V392c0 .52-.05 1.028-.145 1.52.096 1.058.145 2.132.145 3.222 0 33.115-44.808 68.962-100 80-55.192 11.039-100-6.885-100-40s44.808-68.961 100-80c22.504-4.5 43.282-4.186 60 .01V124.455l-320 64V472c0 .52-.05 1.028-.145 1.52z"}].concat([]))];return t&&s.unshift(Nd.a.createElement("title",null,t)),Nd.a.createElement.apply(Nd.a,["svg",a].concat(s))}lGe.propTypes={"aria-label":vc.a.string,className:vc.a.string,style:vc.a.object};var cGe=lGe;function dGe(e){var t=e["aria-label"],i=e.className,n=e.style,a={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-sidebar-news-560"};a["aria-hidden"]=!t,a.style=n,a.className=Ad.a.plexIcon+(i?" "+i:"");var s=[Nd.a.createElement.apply(Nd.a,["path",{d:"M14 560h532c7.732 0 14-6.268 14-14V14c0-7.732-6.268-14-14-14H14C6.268 0 0 6.268 0 14v532c0 7.732 6.268 14 14 14zm46-60v-60h140v60H60zm180 0V360h260v140H240zM60 400V200h140v200H60zm180-80v-40h260v40H240zm0-80v-40h260v40H240zM60 160V60h440v100H60z"}].concat([]))];return t&&s.unshift(Nd.a.createElement("title",null,t)),Nd.a.createElement.apply(Nd.a,["svg",a].concat(s))}dGe.propTypes={"aria-label":vc.a.string,className:vc.a.string,style:vc.a.object};var uGe=dGe;function pGe(e){var t=e["aria-label"],i=e.className,n=e.style,a={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-sidebar-photos-560"};a["aria-hidden"]=!t,a.style=n,a.className=Ad.a.plexIcon+(i?" "+i:"");var s=[Nd.a.createElement.apply(Nd.a,["path",{d:"M440 120h100c11.038 0 20 8.962 20 20v360c0 11.038-8.962 20-20 20H20c-11.038 0-20-8.962-20-20V140c0-11.038 8.962-20 20-20h100V60c0-11.038 8.962-20 20-20h280c11.038 0 20 8.962 20 20v60zm-160 40c-88.306 0-160 71.694-160 160s71.694 160 160 160 160-71.694 160-160-71.694-160-160-160zm0 80c44.153 0 80 35.847 80 80s-35.847 80-80 80-80-35.847-80-80 35.847-80 80-80z"}].concat([]))];return t&&s.unshift(Nd.a.createElement("title",null,t)),Nd.a.createElement.apply(Nd.a,["svg",a].concat(s))}pGe.propTypes={"aria-label":vc.a.string,className:vc.a.string,style:vc.a.object};var hGe=pGe;function mGe(e){var t=e["aria-label"],i=e.className,n=e.style,a={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-sidebar-podcasts-560"};a["aria-hidden"]=!t,a.style=n,a.className=Ad.a.plexIcon+(i?" "+i:"");var s=[Nd.a.createElement.apply(Nd.a,["path",{d:"M240 455.992C148.757 437.44 80 356.686 80 260h60c0 77.269 62.732 140 140 140s140-62.732 140-140h60c0 96.686-68.757 177.44-160 195.992V560h-80V455.992zM360 80c0-44.153-35.847-80-80-80s-80 35.847-80 80v180c0 44.153 35.847 80 80 80s80-35.847 80-80V80z"}].concat([]))];return t&&s.unshift(Nd.a.createElement("title",null,t)),Nd.a.createElement.apply(Nd.a,["svg",a].concat(s))}mGe.propTypes={"aria-label":vc.a.string,className:vc.a.string,style:vc.a.object};var gGe=mGe;function vGe(e){var t=e["aria-label"],i=e.className,n=e.style,a={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-sidebar-shows-560"};a["aria-hidden"]=!t,a.style=n,a.className=Ad.a.plexIcon+(i?" "+i:"");var s=[Nd.a.createElement.apply(Nd.a,["path",{d:"M440 480c0-11.038-8.962-20-20-20H140c-11.038 0-20 8.962-20 20v20c0 11.038 8.962 20 20 20h280c11.038 0 20-8.962 20-20v-20zM540 40H20C8.962 40 0 48.962 0 60v360c0 11.038 8.962 20 20 20h520c11.038 0 20-8.962 20-20V60c0-11.038-8.962-20-20-20zm-40 70v220c0 5.52-4.48 10-10 10H70c-5.52 0-10-4.48-10-10V110c0-5.52 4.48-10 10-10h420c5.52 0 10 4.48 10 10z"}].concat([]))];return t&&s.unshift(Nd.a.createElement("title",null,t)),Nd.a.createElement.apply(Nd.a,["svg",a].concat(s))}vGe.propTypes={"aria-label":vc.a.string,className:vc.a.string,style:vc.a.object};var yGe=vGe;function fGe(e){var t=e["aria-label"],i=e.className,n=e.style,a={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-sidebar-videos-560"};a["aria-hidden"]=!t,a.style=n,a.className=Ad.a.plexIcon+(i?" "+i:"");var s=[Nd.a.createElement.apply(Nd.a,["path",{d:"M360 320v140c0 11.038-8.962 20-20 20H20c-11.038 0-20-8.962-20-20V100c0-11.038 8.962-20 20-20h320c11.038 0 20 8.962 20 20v140l200-120v320L360 320z"}].concat([]))];return t&&s.unshift(Nd.a.createElement("title",null,t)),Nd.a.createElement.apply(Nd.a,["svg",a].concat(s))}fGe.propTypes={"aria-label":vc.a.string,className:vc.a.string,style:vc.a.object};var bGe=fGe;function IGe(e){var t=e["aria-label"],i=e.className,n=e.style,a={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-sidebar-webshows-560"};a["aria-hidden"]=!t,a.style=n,a.className=Ad.a.plexIcon+(i?" "+i:"");var s=[Nd.a.createElement.apply(Nd.a,["path",{d:"M560 74v412c0 7.732-6.268 14-14 14H14c-7.732 0-14-6.268-14-14V74c0-7.732 6.268-14 14-14h532c7.732 0 14 6.268 14 14zm-360 86v240l200-120-200-120z"}].concat([]))];return t&&s.unshift(Nd.a.createElement("title",null,t)),Nd.a.createElement.apply(Nd.a,["svg",a].concat(s))}IGe.propTypes={"aria-label":vc.a.string,className:vc.a.string,style:vc.a.object};var SGe=IGe,CGe=Vu()(nGe,{}),MGe=Vu()(oGe,{}),DGe=Vu()(yGe,{}),PGe=Vu()(cGe,{}),OGe=Vu()(hGe,{}),jGe=Vu()(bGe,{}),wGe=Vu()(tGe,{}),TGe=Vu()(sGe,{}),EGe=Vu()(uGe,{}),NGe=Vu()(gGe,{}),xGe=Vu()(SGe,{}),AGe=Vu()($G,{}),LGe=Vu()(q1,{});var kGe=function(e){switch(e.sourceType){case"playlists":return CGe;case"movies":return MGe;case"tv":return DGe;case"music":return PGe;case"photos":return OGe;case"videos":return jGe;case"shared":return wGe;case KQ:return TGe;case"news":return EGe;case"podcasts":return NGe;case"webShows":return xGe;case"game":return AGe;case"unknown":return LGe}return null},RGe=i("8ck4"),zGe=i.n(RGe);const UGe=Nd.a.createElement;var VGe=IB((function(e){const{title:t,sourceType:i,directoryIcon:n}=e,a=Xe()(e,["title","sourceType","directoryIcon"]);return Vu()("label",{className:zGe.a.sourceItem,htmlFor:a.name},void 0,Vu()("span",{className:zGe.a.sourceTitle},void 0,Vu()("span",{className:zGe.a.sourceIconContainer},void 0,n?Vu()("img",{className:zGe.a.iconImg,src:n}):Vu()(kGe,{sourceType:i})),t),UGe(TB,tp()({inputClassName:zGe.a.input},a)))})),BGe=i("YFI5"),FGe=i.n(BGe),HGe=Vu()(Jh,{});var _Ge=function(e){const{isPending:t,steps:i,sources:n,onSubmit:a,onButtonBackPress:s,onStepPress:r}=e;return t?HGe:Vu()($Qe,{stepHeadingText:Object(Ze.default)("Customize your Media"),stepBodyText:Object(Ze.default)("Choose what youd like to have in your sidebar navigation menu. (Youll always have easy access to everything, so you can make changes and further customize your menu later.)"),stepButtonBackText:i>1?Object(Ze.default)("Go Back"):void 0,stepButtonNextText:Object(Ze.default)("Finish Setup"),step:2,steps:i,component:FM,onSubmit:a,onButtonBackPress:s,onStepPress:r},void 0,Vu()(KQe,{title:Object(Ze.default)("Pinned Sources"),rightTitle:n.length?Vu()(_Qe,{inputClassName:FGe.a.input,name:"allSources",names:n.map(e=>e.key)}):null},void 0,n.map(e=>Vu()(VGe,{name:e.key,title:e.title,sourceType:e.sourceType,directoryIcon:e.directoryIcon,initialValue:!0},e.key))))};const WGe=Nd.a.createElement,{Component:QGe}=Nd.a,GGe=Object(Wu.a)(UQe,yg,(e,t)=>(e?e.providers:[]).map(e=>t[e])),KGe=Object(Wu.a)(lte,e=>e.filter(e=>!/.*(staging|dev)$/.test(e.identifier)));function YGe(e,t){return t.reduce((t,i)=>{const n=Yt(i),a=VQe({sourceServer:e,sourceProvider:i,directories:n&&n.directories});return t.push(...a),t},[])}const qGe={dispatchSetupSources:cL};var ZGe=Object(Hu.b)((function(){return Object(Wu.a)(UQe,GGe,Yu,KGe,Rg.a,(e,t,i,n,a)=>{const s=YGe(e,t),r=YGe(i,n),{sidebarSettings:{hasCompletedSetup:o}}=a;return{isPending:!(!e||e.connectionTestResult!==Zi.PENDING),sources:[...s,...r],hasCompletedSetup:o}})}),qGe)(class extends QGe{constructor(...e){super(...e),this.onSubmit=e=>{const t=this.props.sources.filter(({key:t})=>e[t]);this.props.dispatchSetupSources({sources:t})}}componentDidUpdate(){this.props.hasCompletedSetup&&this.props.onEndFirstRunExperience(),this.props.isPending||0!==this.props.sources.length||this.props.dispatchSetupSources({sources:[]})}render(){const e=this.props,{isPending:t,sources:i}=e,n=Xe()(e,["isPending","sources","onEndFirstRunExperience","dispatchSetupSources"]);return WGe(_Ge,tp()({sources:i,isPending:t||0===i.length},n,{onSubmit:this.onSubmit}))}}),JGe=i("gjek"),XGe=i.n(JGe);var $Ge=function(e){const{isSelected:t,isUnavailable:i,onPress:n}=e,a=r6(T5(e),o6(e).status);return Vu()(zp,{className:(XGe.a.serverButton||"")+" "+(t&&XGe.a.isSelected||"")+" "+(i&&XGe.a.isUnavailable||""),onPress:n},void 0,Vu()("span",{className:XGe.a.titles},void 0,Vu()("span",{className:XGe.a.title},void 0,E5(e)),Vu()("span",{className:XGe.a.details},void 0,a)),t?Vu()(ay,{className:XGe.a.serverMenuIcon,"aria-label":Object(Ze.default)("Selected")}):null)};const eKe=Object(Hu.b)((function(){return SLe(_S(),["activeConnection","friendlyName","sourceTitle","isConnected","isOutOfDate","isRelayed","isSecure","isShared","isUnavailable"])}),(function(e,t){return{onPress(){t.onPress({entityID:t.serverEntityID,machineIdentifier:t.machineIdentifier})}}}))($Ge);eKe.propTypes=Object.assign({},eKe.propTypes,{machineIdentifier:vc.a.string.isRequired,serverEntityID:vc.a.string.isRequired});var tKe=eKe;vc.a.shape({machineIdentifier:vc.a.string.isRequired,entityID:vc.a.string.isRequired});var iKe=function(e){const{preferredServerIdentifiers:t,serverIdentifiers:i,onSavePreferredServer:n,onButtonNextPress:a,onStepPress:s}=e;return Vu()($Qe,{stepHeadingText:Object(Ze.default)("Choose your Preferred Server"),stepBodyText:Object(Ze.default)("It looks like you have access to more than one Plex Media Server. Choose your preferred server, and well use it to build your home screen."),stepButtonNextText:Object(Ze.default)("Continue"),step:1,onButtonNextPress:a,onStepPress:s},void 0,Vu()(KQe,{title:Object(Ze.default)("Plex Media Servers")},void 0,i.map(e=>Vu()(tKe,{serverEntityID:e.entityID,machineIdentifier:e.machineIdentifier,isSelected:t&&t.machineIdentifier===e.machineIdentifier,onPress:n},e.entityID))))},nKe=i("rC/d"),aKe=i.n(nKe);const{Component:sKe}=Nd.a;function rKe(e,t){return!e&&t.length>0}var oKe=Vu()(dh,{},void 0,Vu()(Jh,{}));var lKe=class extends sKe{constructor(e,t){super(e,t),this.onNextStepPress=()=>{this.setState(e=>({step:Math.max(2,e.step+1)}))},this.onBackStepPress=()=>{this.setState(e=>({step:Math.min(1,e.step-1)}))},this.onStepPress=e=>{this.setState({step:e})},this.onEndFirstRunExperience=()=>{const{preferredServerIdentifiers:e,onEndFirstRunExperience:t}=this.props;t(e?{preferredServerEntityID:e.entityID,preferredServerInteraction:e.machineIdentifier!==this.state.initialDefaultPreferredServerIdentifier}:{})},this.state={step:1}}componentDidMount(){this.props.onChangeBackground({allowLightPreset:!0}),Object(Ti.a)(()=>{this.props.onResetCustomization()}),this._maybeCallOnSavePreferredServer(Object.assign({},this.props,{preferredServerIdentifiers:null}))}componentDidUpdate(){this._maybeCallOnSavePreferredServer(this.props)}componentWillUnmount(){this.props.onResetBackground()}_maybeCallOnSavePreferredServer(e){const{isPending:t,preferredServerIdentifiers:i,serverIdentifiers:n,onSavePreferredServer:a}=e;if(t)return;const s=function(e,t){return e?e.machineIdentifier:t.length>0?t[0].machineIdentifier:void 0}(i,n);!this.state.initialDefaultPreferredServerIdentifier&&s&&this.setState({initialDefaultPreferredServerIdentifier:s}),rKe(i,n)&&a({machineIdentifier:s})}render(){const{isPending:e,preferredServerIdentifiers:t,serverIdentifiers:i,onSavePreferredServer:n}=this.props,{step:a}=this.state,s=i.length<2;return e||rKe(t,i)?oKe:Vu()(ih,{className:aKe.a.container},void 0,1!==a||s?Vu()(ZGe,{steps:s?0:2,onButtonBackPress:this.onBackStepPress,onStepPress:this.onStepPress,onEndFirstRunExperience:this.onEndFirstRunExperience}):Vu()(iKe,{preferredServerIdentifiers:t,serverIdentifiers:i,onButtonNextPress:this.onNextStepPress,onStepPress:this.onStepPress,onSavePreferredServer:n}))}};const cKe={onChangeBackground:gQ,onResetBackground:yQ,onSavePreferredServer:jA,onEndFirstRunExperience:FA,onResetCustomization:mL};var dKe=Object(Hu.b)((function(){return Object(Wu.a)(cte,zQe,RQe,(e,t,i)=>({isPending:!e,preferredServerIdentifiers:t?i.find(e=>e.machineIdentifier===t):void 0,serverIdentifiers:i}))}),cKe)(lKe),uKe=Vu()(kh,{},void 0,Vu()(dKe,{}));var pKe=_u.extend({onBeforeRender(){_u.prototype.onBeforeRender.call(this,arguments);ne.c("appModel").set("isFirstRun",!0)},onClose(){_u.prototype.onClose.call(this,arguments);ne.c("appModel").set("isFirstRun",!1)},component:e=>uKe});const{Component:hKe}=Nd.a;class mKe extends hKe{constructor(e,t){super(e,t),this.metricsContext=void 0,this.metricsContext=e.metricsContext}getChildContext(){return{metricsContext:this.metricsContext}}render(){return this.props.children?Nd.a.Children.only(this.props.children):null}}mKe.childContextTypes={metricsContext:vc.a.string};var gKe=mKe;var vKe,yKe=Object(Wu.a)(Rg.a,e=>e.autoHomeHubsEnabled);!function(e){e.Auto="auto",e.Custom="custom"}(vKe||(vKe={}));const fKe=Nd.a.createElement;var bKe=Vu()(ph,{});function IKe(e){return fKe(gp,tp()({icon:bKe},e))}function SKe({children:e}){return Vu()(IKe,{title:Object(Ze.default)("Something went wrong"),description:Object(Ze.default)("An unexpected error occurred.")},void 0,e)}var{Component:CKe,Fragment:MKe}=Nd.a,DKe=Vu()(SKe,{});var PKe=class extends CKe{static getDerivedStateFromError(){return{hasError:!0}}constructor(e,t){super(e,t),this.state={hasError:!1}}componentDidCatch(e,t){C.a.error(e);var i={extra:{componentStack:t.componentStack}};Z.a(e,i)}render(){return this.state.hasError?DKe:Vu()(MKe,{},void 0,this.props.children)}},OKe=i("/R4L"),jKe=i.n(OKe);const wKe=Nd.a.createElement,{useEffect:TKe}=Nd.a;function EKe(e){let{className:t=jKe.a.pageScroller,allowBackgroundPreset:i=!0,allowBackgroundLightPreset:n=!1,onScrollPositionChange:a}=e,s=Xe()(e,["className","allowBackgroundPreset","allowBackgroundLightPreset","onScrollPositionChange"]);const r=Object(Hu.c)(),{scrollRestoreProps:o}=HO({key:"Page",shouldRestoreImmediately:!0,onScrollPositionChange:a});return TKe(()=>(i&&r(gQ({allowLightPreset:n})),()=>{r(yQ()),r(Object(Kn.u)())}),[n,i,r]),Vu()(PKe,{},void 0,wKe(up,tp()({},s,o,{className:t})))}var NKe=i("/IMa"),xKe=i.n(NKe);const AKe=Nd.a.createElement;function LKe(e){let{forwardedRef:t,className:i=xKe.a.pageContentScroller,onScrollPositionChange:n}=e,a=Xe()(e,["forwardedRef","className","onScrollPositionChange"]);const{scrollRestoreProps:s}=HO({key:"PageContent",shouldRestoreImmediately:!0,onScrollPositionChange:n});return AKe(up,tp()({ref:t},a,s,{className:i}))}var kKe=Nd.a.forwardRef((e,t)=>AKe(LKe,tp()({},e,{forwardedRef:t})));var RKe=Object(vg.a)((function(e){return Object(Wu.a)(Ww,t=>!!t[e])})),zKe=Object(Wu.a)(Y4,e=>!e.isFullUser),UKe=Object(Wu.a)(Y4,e=>e.services);const{createContext:VKe,useContext:BKe,useMemo:FKe}=Nd.a,HKe=VKe({containerServer:Sg,containerProvider:Ig,containerSourceURI:"",containerKey:"",containerType:Ha.Mixed});function _Ke(){return BKe(HKe)}function WKe({children:e,containerServer:t,containerProvider:i,containerSourceURI:n,containerKey:a,containerType:s,containerSubtype:r,containerMeta:o,listStyle:l}){const c=FKe(()=>{let e=a;if(!e){const{metadataItemKey:t,parameters:i}=Object(sr.a)(n);e=V.join(t,i)}return{containerServer:t,containerProvider:i,containerSourceURI:n,containerKey:e,containerType:s,containerSubtype:r,containerMeta:o,listStyle:l}},[a,i,t,n,r,s,o,l]);return Vu()(HKe.Provider,{value:c},void 0,e)}const{Fragment:QKe,useEffect:GKe,useMemo:KKe}=Nd.a;function YKe({children:e,metadataItem:t,metadataItemState:i}){const n=Object(Hu.c)(),{containerServer:a,containerProvider:s,containerSourceURI:r,containerKey:o}=_Ke(),l=t?t.source:null,c=KKe(()=>l?Object(sr.a)(l):null,[l]),d=!!c&&(c.serverIdentifier!==a.machineIdentifier||c.providerIdentifier!==s.identifier);return GKe(()=>{(i.isStale||i.isDeleted)&&n(Ts.actions.throttledRepopulateRangeRequested({server:a,provider:s,sourceURI:r,key:o}))},[s,a,r,o,n,i.isDeleted,i.isStale]),d?Vu()(kg,{machineIdentifier:c.serverIdentifier,providerIdentifier:c.providerIdentifier},void 0,e):Vu()(QKe,{},void 0,e)}var qKe=i("jlmP"),ZKe=i.n(qKe);const JKe=Nd.a.createElement;function XKe({forwardedRef:e,className:t=ZKe.a.card,style:i,children:n}){return JKe("div",{className:t,style:i,ref:e},n)}var $Ke=Nd.a.forwardRef((e,t)=>JKe(XKe,tp()({},e,{forwardedRef:t}))),eYe=i("nAMV"),tYe=i.n(eYe);function iYe({className:e=tYe.a.placeholder,style:t,index:i}){return Vu()($Ke,{className:e,style:Object.assign({animationDelay:i%12*200+"ms"},t)})}var nYe=Object(Wu.a)(Qb,e=>e.metadataItemState);var aYe=function(e){return Object(Wu.a)(nYe,t=>(e?t[e]:null)||{tempState:{},isStale:!1,isPending:!1,isPopulated:!1,error:null})},{useMemo:sYe}=Nd.a;function rYe(e){var t=sYe(()=>aYe(e),[e]);return Object(Hu.d)(t)}var oYe=function(e){return Object(Wu.a)(Qb,t=>e&&t.metadataTimelineState[e]||{})},{useMemo:lYe}=Nd.a;function cYe(e){var t=lYe(()=>oYe(e),[e]);return Object(Hu.d)(t)}function dYe(e){switch(e){case ns.Avatar:return 1;case ns.Background:return 16/9;case ns.Banner:return 5.4;case ns.Clear:return 1;case ns.CoverArt:return 16/9;case ns.CoverPoster:return 1/1.5;case ns.CoverSquare:return 1;case ns.Snapshot:return 16/9}!function(e){throw new Error('"'+e+'" is not mapped to an aspect ratio')}(e)}function uYe(e,t,i){var n=null==i?void 0:i.listStyle,a=null==i?void 0:i.displayImageType;if(a)return dYe(a);if(n)switch(n){case _a.Hero:return 16/9;case _a.Grid:case _a.Shelf:if(e===Ha.Channels)return 1;switch(t){case Aa.Webshow:switch(e){case Na.Episode:return 16/9}break;case Aa.Podcast:switch(e){case Na.Episode:return 1}}switch(e){case Na.Episode:return 1/1.5}}switch(t){case Aa.Clip:switch(e){case Na.Movie:return 16/9}break;case Aa.Podcast:case Aa.Webshow:switch(e){case Na.Show:return 1;case Na.Episode:return 16/9}}switch(e){case Na.Movie:case Na.Show:case Na.Season:return 1/1.5;case Na.Episode:return 16/9;case Na.Artist:case Na.Album:case Na.Track:case Na.Person:case Na.Photo:case Na.PhotoAlbum:case Na.Playlist:return 1;case Na.Clip:return 16/9;case Na.Collection:return 1/1.5;case Ha.Directory:return 16/9;case Ha.Content:case Ha.Channel:case Ha.Folder:case Ha.Station:case Na.Hub:case Na.List:return 1;case Na.Game:return 3/4;case Ha.Mixed:return 1/1.5;default:return 16/9}}function pYe(e){var{width:t,height:i,aspectRatio:n}=e;if(t)return{width:t,height:Math.floor(t/n)};if(i)return{width:Math.floor(i*n),height:i};throw new Error("`getMetadataPosterDimensions` requires either a `width` or `height`")}var hYe=function(e,t){var[i,n]=Lg(),{metricsContextTuple:a}=Object(Zb.d)();if(!(i===Sg||n===Ig||"key"===t&&(e.skipDetails||e.type===Na.Track&&e.subtype!==Aa.Podcast||e.type===Na.Photo||e.subtype===Aa.Photo||e.isExtra||e.isLiveTVChannel||e.radio)))return cu(i,n,e[t],{context:Object(Zb.b)(a)},e.playlistType)};function mYe({className:e,tabIndex:t,allowLink:i=!0,metadataItem:n}){const a=hYe(n,"key");return n.title?i&&a?Vu()(ev,{className:e,tabIndex:t,title:n.title,to:a},void 0,n.title):Vu()("span",{className:e,title:n.title},void 0,n.title):null}const{useEffect:gYe,useState:vYe}=Nd.a;function yYe(e){return null!=e?Object(Rce.default)(Object($c.a)(e)):""}function fYe({className:e,timestamp:t}){const i=vYe(Bj(t)),n=i[1],a=i[0];return gYe(()=>{if(null==t)return;const e=function(e,t){const i=Math.abs(Date.now()-1e3*e);return i<36e5?window.setTimeout(t,6e4):i<864e5?window.setTimeout(t,36e5):window.setTimeout(t,864e5)}(t,()=>{n(Bj(t))});return()=>{window.clearTimeout(e)}},[t]),a?Vu()("span",{className:e,title:yYe(t)},void 0,a):null}function bYe({className:e,metadataItem:t}){const{addedAt:i}=t;return Vu()(fYe,{className:e,timestamp:i})}function IYe({now:e=Date.now(),beginsAt:t,endsAt:i,channel:n,showFullTime:a,timeFormat:s}){if(!t)return Object(Ze.default)("No upcoming airings");if(ASe(t,i)){var r=i-e/1e3;return r<=60?Object(Ze.default)("About to end"):$m(r)}if(YIe(t)&&qIe(t,{minutes:60})){var o=1e3*t-e;if(o<=6e4)return n?Object(Ze.default)("Starting now on {channel}",{channel:n}):Object(Ze.default)("Starting now");var l=Xm(o);return n?Object(Ze.default)("Starting in {duration} on {channel}",{duration:l,channel:n}):Object(Ze.default)("Starting in {duration}",{duration:l})}return(a?NSe:xSe)(t,n,{timeFormat:s})}var SYe,CYe=i("xweI"),MYe=i.n(CYe);function DYe(e){if("now"===e)return{};const t=e.match(/([-+]?\d+)([smhdwMy])/);if(t){const[,e,i]=t;if(function(e){if(!(e in SYe))throw Error("Unknown unit: "+e)}(i),e&&i)return{[SYe[i]]:parseInt(e,10)}}else{const t=parseInt(e,10);if("number"==typeof t)return t}return{}}function PYe(e,t){return"object"==typeof t?YIe(e,t):e>=t}function OYe(e,t){return"object"==typeof t?qIe(e,t):e<=t}function jYe(e,t){const i=function(e){if(!e)return;const[,t]=e.split("?");return t?Se.a.parseQueryString(t):void 0}(t),n=MYe()(e.Media,"endsAt"),a=Date.now()/1e3;for(let e=0,t=n.length;e<t;e++){const t=n[e];if(i){const e=i["beginsAt>"],n=i["beginsAt<"],a=i["endsAt>"],s=i["endsAt<"];if(e&&t.beginsAt){const i=DYe(e);if(OYe(t.beginsAt,i))continue}if(n&&t.beginsAt){const e=DYe(n);if(PYe(t.beginsAt,e))continue}if(a&&t.endsAt){const e=DYe(a);if(OYe(t.endsAt,e))continue}if(s&&t.endsAt){const e=DYe(s);if(PYe(t.endsAt,e))continue}}if(t.endsAt&&t.endsAt>a)return t}return n[0]}!function(e){e.s="seconds",e.m="minutes",e.h="hours",e.d="days",e.w="weeks",e.M="months",e.y="years"}(SYe||(SYe={}));var{useEffect:wYe,useState:TYe}=Nd.a;function EYe(e=60){var t=1e3*e,i=TYe(Date.now()),n=i[1],a=i[0];return wYe(()=>{var e=window.setTimeout(()=>{n(Date.now())},t-a%t);return()=>{window.clearTimeout(e)}},[a,t]),a}function NYe({className:e,metadataItem:t}){const i=Object(Hu.d)(zg("timeFormat")),n=EYe(),a=jYe(t),{beginsAt:s,endsAt:r}=null!=a?a:{},o=null!=s&&null!=r?IYe({now:n,beginsAt:s,endsAt:r,timeFormat:i}):null;return o?Vu()("span",{className:e,title:o},void 0,o):null}var xYe=i("HY9I"),AYe=i.n(xYe);const{Fragment:LYe}=Nd.a;function kYe({className:e,tabIndex:t,allowLink:i=!0,metadataItem:n}){const a=hYe(n,"key");if(!n.title)return null;const s=Vu()(LYe,{},void 0,n.attribution?Vu()(pS,{className:AYe.a.badge,attribution:n.attribution}):null,n.title);return i&&a?Vu()(ev,{className:e,tabIndex:t,title:n.title,to:a},void 0,s):Vu()("span",{className:e,title:n.title},void 0,s)}var RYe=i("056+"),zYe=i.n(RYe);function UYe({className:e,metadataItem:t}){return t.attributionLogo?Vu()("span",{className:e},void 0,Vu()("img",{className:zYe.a.img,src:t.attributionLogo})):null}function VYe({className:e,metadataItem:t}){const{originallyAvailableAt:i}=t;return i?Vu()("span",{className:e},void 0,Object(Rce.default)(i)):null}function BYe(e,t){switch(t){case Aa.Photo:switch(e){case Na.Clip:return ka.Photo}break;case Aa.Podcast:switch(e){case Na.Show:return ka.Audio}}switch(e){case Na.Movie:case Na.Show:case Na.Season:case Na.Episode:case Na.Clip:return ka.Video;case Na.Artist:case Na.Album:case Na.Track:return ka.Audio;case Na.PhotoAlbum:case Na.Photo:return ka.Photo;case Na.Game:return ka.Rom;case Na.Collection:switch(t){case Aa.Movie:case Aa.Show:return ka.Video;case Aa.Artist:case Aa.Album:return ka.Audio}}!function(e){throw new Error('"'+e+'" is not mapped to a media type')}(e)}function FYe({className:e,metadataItem:t}){var i;const n=BYe(t.type,t.subtype),a=null==(i=t.Media)?void 0:i[0];return null==(null==a?void 0:a.bitrate)?null:Vu()("span",{className:e},void 0,n===ka.Video?Object(ere.default)(a.bitrate):Object(zCe.a)(a.bitrate))}function HYe({className:e,metadataItem:t}){if(null==t.addedAt&&!t.Channel.length)return null;const i=t.Channel[0].tag;return Vu()("span",{className:e},void 0,Vu()(fYe,{timestamp:t.addedAt}),null!=t.addedAt&&i?"  ":null,Vu()("span",{title:i},void 0,i))}function _Ye({className:e,metadataItem:t}){const i=t.leafCount;if(null==i)return null;switch(t.type){case Na.Show:return Vu()("span",{className:e},void 0,1===i?Object(Ze.default)("{episodeCount} episode",{episodeCount:i}):Object(Ze.default)("{episodeCount} episodes",{episodeCount:i}));case Na.Artist:return Vu()("span",{className:e},void 0,1===i?Object(Ze.default)("{trackCount} track",{trackCount:i}):Object(Ze.default)("{trackCount} tracks",{trackCount:i}))}return Vu()("span",{className:e},void 0,1===i?Object(Ze.default)("{itemCount} item",{itemCount:i}):Object(Ze.default)("{itemCount} items",{itemCount:i}))}function WYe({className:e,metadataItem:t}){if(t.skipChildren)return Vu()(_Ye,{className:e,metadataItem:t});const i=t.childCount;if(null==i)return null;switch(t.type){case Na.Show:return Vu()("span",{className:e},void 0,1===i?Object(Ze.default)("{seasonCount} season",{seasonCount:i}):Object(Ze.default)("{seasonCount} seasons",{seasonCount:i}));case Na.Season:return Vu()("span",{className:e},void 0,1===i?Object(Ze.default)("{episodeCount} episode",{episodeCount:i}):Object(Ze.default)("{episodeCount} episodes",{episodeCount:i}));case Na.Artist:return Vu()("span",{className:e},void 0,1===i?Object(Ze.default)("{albumCount} album",{albumCount:i}):Object(Ze.default)("{albumCount} albums",{albumCount:i}));case Na.Album:return Vu()("span",{className:e},void 0,1===i?Object(Ze.default)("{trackCount} track",{trackCount:i}):Object(Ze.default)("{trackCount} tracks",{trackCount:i}))}return Vu()("span",{className:e},void 0,1===t.childCount?Object(Ze.default)("{itemCount} item",{itemCount:i}):Object(Ze.default)("{itemCount} items",{itemCount:i}))}function QYe({className:e,metadataItem:t}){if(null==t.childCount)return null;const i=1===t.childCount,n={itemCount:t.childCount};let a;return a=t.subtype===Aa.Movie?i?Object(Ze.default)("{itemCount} movie",n):Object(Ze.default)("{itemCount} movies",n):t.subtype===Aa.Show?i?Object(Ze.default)("{itemCount} show",n):Object(Ze.default)("{itemCount} shows",n):i?Object(Ze.default)("{itemCount} item",n):Object(Ze.default)("{itemCount} items",n),Vu()("span",{className:e},void 0,a)}function GYe({className:e,metadataItem:t}){return null==t.contentRating?null:Vu()("span",{className:e},void 0,BCe(t.contentRating))}function KYe({className:e,metadataItem:t}){const{rating:i,ratingImage:n,audienceRating:a,audienceRatingImage:s}=t;return i||a?Vu()("span",{className:e},void 0,Vu()(XCe,{rating:i,ratingImage:n,audienceRating:a,audienceRatingImage:s})):null}function YYe({className:e,metadataItem:t}){return null==t.duration?null:Vu()("span",{className:e},void 0,Xm(t.duration))}function qYe({className:e,metadataItem:t}){return null==t.leafCount?null:Vu()("span",{className:e},void 0,1===t.leafCount?Object(Ze.default)("{episodeCount} episode",{episodeCount:t.leafCount}):Object(Ze.default)("{episodeCount} episodes",{episodeCount:t.leafCount}))}function ZYe({className:e,tabIndex:t,metadataItem:i}){const n=hYe(i,"key"),a=rCe({useLongName:!0,episodeIndex:i.index,date:i.originallyAvailableAt,noLeadingZero:!0});return Vu()("span",{className:e},void 0,n?Vu()(ev,{tabIndex:t,title:i.title,to:n},void 0,a):Vu()("span",{title:i.title},void 0,a))}function JYe({className:e,metadataItem:t}){const{sourceTitle:i}=t;return i?Vu()("span",{className:e,title:i},void 0,Object(Ze.default)("from {sourceTitle}",{sourceTitle:i})):null}function XYe({className:e,metadataItem:t}){const i=function(e){switch(e){case Aa.Trailer:return Object(Ze.default)("Trailer");case Aa.DeletedScene:return Object(Ze.default)("Deleted Scene");case Aa.Interview:return Object(Ze.default)("Interview");case Aa.MusicVideo:return Object(Ze.default)("Music Video");case Aa.BehindTheScenes:return Object(Ze.default)("Behind the Scenes");case Aa.SceneOrSample:return Object(Ze.default)("Scene");case Aa.LiveMusicVideo:return Object(Ze.default)("Live Music Video");case Aa.LyricMusicVideo:return Object(Ze.default)("Lyric Music Video");case Aa.Concert:return Object(Ze.default)("Concert");case Aa.Featurette:return Object(Ze.default)("Featurette");case Aa.Short:return Object(Ze.default)("Short");case Aa.Other:return Object(Ze.default)("Other")}}(t.subtype);return i?Vu()("span",{className:e,title:i},void 0,i):null}function $Ye({className:e,tabIndex:t,allowLink:i=!0,metadataItem:n}){const a=hYe(n,"grandparentKey");return n.grandparentTitle?i&&a?Vu()(ev,{className:e,tabIndex:t,title:n.grandparentTitle,to:a},void 0,n.grandparentTitle):Vu()("span",{className:e,title:n.grandparentTitle},void 0,n.grandparentTitle):null}function eqe({className:e,tabIndex:t,allowLink:i,metadataItem:n}){return null!=n.addedAt||n.grandparentTitle?Vu()("span",{className:e},void 0,Vu()(fYe,{timestamp:n.addedAt}),null!=n.addedAt&&n.grandparentTitle?"  ":null,Vu()($Ye,{tabIndex:t,allowLink:i,metadataItem:n})):null}function tqe({className:e,metadataItem:t}){const i=rYe(t.sourceURI),{lastRatedAt:n}=i;return Vu()(fYe,{className:e,timestamp:n})}function iqe({className:e,metadataItem:t}){const i=rYe(t.sourceURI),{lastViewedAt:n}=i;return n?Vu()(fYe,{className:e,timestamp:n}):Vu()("span",{className:e},void 0,Object(Ze.default)("Unplayed"))}function nqe({className:e,tabIndex:t,allowLink:i=!0,metadataItem:n}){const a=hYe(n,"parentKey");return n.parentTitle?i&&a?Vu()(ev,{className:e,tabIndex:t,title:n.parentTitle,to:a},void 0,n.parentTitle):Vu()("span",{className:e,title:n.parentTitle},void 0,n.parentTitle):null}function aqe({className:e,metadataItem:t}){var i;const n=null!=(i=rYe(t.sourceURI).viewCount)?i:0;return Vu()("span",{className:e},void 0,1===n?Object(Ze.default)("{playCount} play",{playCount:n}):Object(Ze.default)("{playCount} plays",{playCount:n}))}function sqe({className:e,metadataItem:t}){return null==t.leafCount?null:Vu()("span",{className:e},void 0,1===t.leafCount?Object(Ze.default)("{itemCount} item",{itemCount:t.leafCount}):Object(Ze.default)("{itemCount} items",{itemCount:t.leafCount}))}function rqe({className:e,metadataItem:t}){return t.playlistType===f7.b?Vu()(sqe,{className:e,metadataItem:t}):Vu()(YYe,{className:e,metadataItem:t})}function oqe({className:e,metadataItem:t}){return t.skipChildren?Vu()(qYe,{className:e,metadataItem:t}):null==t.childCount?null:Vu()("span",{className:e},void 0,1===t.childCount?Object(Ze.default)("{seasonCount} season",{seasonCount:t.childCount}):Object(Ze.default)("{seasonCount} seasons",{seasonCount:t.childCount}))}var lqe=Vu()(tf,{separator:""}),cqe=Vu()(tf,{separator:""});function dqe({className:e,tabIndex:t,allowLink:i=!0,metadataItem:n}){const a=hYe(n,"key"),s=hYe(n,"parentKey"),r=dCe({seasonIndex:n.parentIndex,noLeadingZero:!0}),o=rCe({episodeIndex:n.index,date:n.originallyAvailableAt,noLeadingZero:!0});return i&&a&&s?Vu()("span",{className:e},void 0,n.index&&r?Vu()(ev,{tabIndex:t,title:n.parentTitle,to:s},void 0,r):null,n.index&&r?cqe:null,Vu()(ev,{tabIndex:t,title:n.title,to:a},void 0,o)):Vu()("span",{className:e},void 0,n.index&&r?Vu()("span",{title:n.parentTitle},void 0,r):null,n.index&&r?lqe:null,Vu()("span",{title:n.title},void 0,o))}function uqe({className:e,metadataItem:t}){const i=rYe(t.sourceURI).unviewedLeafCount;return null==i?null:Vu()("span",{className:e},void 0,Object(Ze.default)("{unplayedCount} unplayed",{unplayedCount:i}))}var{useCallback:pqe}=Nd.a;function hqe(e){var{metricsPage:t,metricsContextTuple:i}=Object(Zb.d)();return pqe(n=>{var a=Object.assign({page:t},i,e,n);Object(ne.c)("metrics").trackClick(a)},[JSON.stringify(e),i,t])}function mqe(e){const[,t]=Lg();return hqe({identifier:t.metricsIdentifier,type:e.type})}const{useCallback:gqe}=Nd.a;function vqe({className:e,metadataItem:t}){var i;const n=Object(Hu.c)(),[a,s]=Lg(),r=rYe(t.sourceURI),o=mqe(t),l=gqe(e=>{const i=0===e?-1:2*e;o({action:Rd.U,value:i}),n(Es.actions.rateRequested({server:a,provider:s,sourceURI:t.sourceURI,ratingKey:t.ratingKey,rating:i}))},[n,t.ratingKey,t.sourceURI,s,a,o]),c=(null!=(i=r.userRating)?i:0)/2;return Vu()("div",{className:e},void 0,Vu()(wMe,{value:c,onRatingChange:l}))}function yqe({className:e,metadataItem:t}){var i;const n=null==(i=t.Media)?void 0:i[0];return null==n.videoResolution?null:Vu()("span",{className:e},void 0,Object(QC.default)(n.videoResolution))}function fqe({className:e,metadataItem:t}){const i=rYe(t.sourceURI);return null==t.duration||null==i.viewOffset?null:Vu()("span",{className:e},void 0,Object(Ze.default)("{timeRemaining} left",{timeRemaining:Xm(t.duration-i.viewOffset)}))}function bqe({className:e,metadataItem:t}){return t.year?Vu()("span",{className:e},void 0,t.year):null}function Iqe({className:e,displayFieldName:t}){return null}var Sqe=Nd.a.createElement;function Cqe(e){switch(e){case is.AddedAt:return bYe;case is.AddedAtChannelTag:return HYe;case is.AddedAtGrandparentTitle:return eqe;case is.AirsAt:return NYe;case is.AttributionLogo:return UYe;case is.ChildCount:return WYe;case is.ContentRating:return GYe;case is.Duration:return YYe;case is.EpisodeIdentifier:return dqe;case is.GrandparentTitle:return $Ye;case is.LastRatedAt:return tqe;case is.LastViewedAt:return iqe;case is.LeafCount:return _Ye;case is.MediaBitrate:return FYe;case is.VideoResolution:return yqe;case is.OriginallyAvailableAt:return VYe;case is.ParentTitle:return nqe;case is.Rating:return KYe;case is.SourceTitle:return JYe;case is.Title:return mYe;case is.TitleAttributed:return kYe;case is.UnviewedLeafCount:return uqe;case is.UserRating:return vqe;case is.ViewCount:return aqe;case is.ViewOffset:return fqe;case is.Year:return bqe;default:return function(e){return t=>Sqe(Iqe,tp()({},t,{displayFieldName:e}))}(e)}}function Mqe(e,t,i){const n=null==i?void 0:i.displayFieldNames;if(n)return n.map(Cqe);const a=null==i?void 0:i.listStyle;if(e===Ha.Mixed)return[null,null,null];switch(a){case _a.PrePlayGrid:switch(e){case Na.Season:return[mYe,qYe];case Na.Episode:return[mYe,ZYe];case Na.Album:return[kYe,bqe]}}switch(t){case Aa.News:switch(e){case Na.Clip:return[{component:mYe,isDoubleLine:!0},HYe]}break;case Aa.Podcast:switch(e){case Na.Show:return[{component:mYe,isDoubleLine:!0}];case Na.Track:return[{component:mYe,isDoubleLine:!0},$Ye]}break;case Aa.Webshow:switch(e){case Na.Show:return[mYe];case Na.Episode:return[{component:mYe,isDoubleLine:!0},eqe]}break;case Aa.Trailer:case Aa.DeletedScene:case Aa.Interview:case Aa.MusicVideo:case Aa.BehindTheScenes:case Aa.SceneOrSample:case Aa.LiveMusicVideo:case Aa.LyricMusicVideo:case Aa.Concert:case Aa.Featurette:case Aa.Short:case Aa.Other:switch(e){case Na.Clip:return[mYe,XYe]}}switch(e){case Na.Movie:return[mYe,bqe];case Na.Show:return[mYe,oqe];case Na.Season:return[nqe,mYe];case Na.Episode:return[$Ye,mYe,dqe];case Na.Artist:return[mYe];case Na.Album:return[nqe,mYe];case Na.Track:return[$Ye,mYe];case Na.Photo:return[{component:mYe}];case Na.PhotoAlbum:case Na.Clip:return[mYe];case Na.Playlist:return[mYe,rqe];case Na.Collection:return[mYe,QYe];case Na.Directory:case Na.Channel:case Ha.Content:return[];case Ha.Channels:return[mYe,NYe]}return[{component:mYe,allowLink:!1}]}var Dqe=Object(Wu.a)(Ay,e=>e.metadataMultiselect),Pqe=i("xHo2");const{createContext:Oqe,useCallback:jqe,useContext:wqe,useEffect:Tqe,useMemo:Eqe,useState:Nqe}=Nd.a,xqe={display:"contents "};function Aqe(e,t,i){const n=[];for(let a=Math.min(t,i);a<=Math.max(t,i);a++)n.push(e[a]);return n}const Lqe=Oqe({isSelectionRangeActive:!1,isSelectionRangeComplete:!1,checkItemInRange:()=>!1,onRangeStart:()=>{},onRangeEnd:()=>{},onRangeSelect:()=>{},onRangeClear:()=>{}});var kqe=function({children:e,items:t}){const i=Nqe(),n=i[1],a=i[0],s=Nqe(),r=s[1],o=s[0],l=Nqe(),c=l[1],d=l[0],u=Nqe(!1),p=u[1],h=u[0],m=jqe(e=>{const i=t.indexOf(e);return null!=a&&null!=o&&i>=Math.min(a,o)&&i<=Math.max(a,o)},[t,o,a]),g=jqe(e=>{const i=t.indexOf(e);-1!==i&&(n(i),r(void 0),c(void 0))},[t]),v=jqe(e=>{const i=t.indexOf(e);-1!==i&&null!=a&&Aqe(t,a,i).every(e=>e)&&r(i)},[t,a]),y=jqe((e,i)=>{null!=a&&null!=o&&(d&&i(Aqe(t,...d)),e(Aqe(t,a,o)),c([a,o]))},[t,d,o,a]),f=jqe(()=>{n(void 0),r(void 0),c(void 0)},[]),b=jqe(()=>{r(void 0)},[]);Tqe(()=>{function e(e){e.key===Pqe.a.Shift&&p(!0)}function t(e){e.key===Pqe.a.Shift&&(p(!1),r(void 0))}function i(){p(!1),r(void 0)}return document.addEventListener("keydown",e),document.addEventListener("keyup",t),window.addEventListener("blur",i),()=>{document.removeEventListener("keydown",e),document.removeEventListener("keyup",t),window.addEventListener("blur",i)}},[]);const I=Eqe(()=>({isSelectionRangeActive:h,isSelectionRangeComplete:null!=a&&null!=o,checkItemInRange:m,onRangeStart:g,onRangeEnd:v,onRangeSelect:y,onRangeClear:f}),[m,h,f,v,y,g,o,a]);return Vu()(Lqe.Provider,{value:I},void 0,Vu()("div",{style:xqe,onMouseLeave:b},void 0,e))};const{useCallback:Rqe,useEffect:zqe,useMemo:Uqe}=Nd.a;function Vqe(e,t,i,n,a=!1){const s=Object(Hu.c)(),r=Object(Hu.d)(t),o=Uqe(()=>!!n&&!!r.items[n],[n,r.items]),l=!!r.count,{isSelectionRangeActive:c,isSelectionRangeComplete:d,checkItemInRange:u,onRangeStart:p,onRangeEnd:h,onRangeClear:m,onRangeSelect:g}=wqe(Lqe),v=Rqe(e=>{s(i.selectItems({items:e}))},[i,s]),y=Rqe(e=>{s(i.deselectItems({items:e}))},[i,s]),f=Rqe(()=>{e&&(d?g(v,y):o?(y([e]),m()):(v([e]),p(e)))},[d,o,e,y,m,g,p,v]);return zqe(()=>{e&&c&&l&&a&&h(e)},[a,c,l,e,h]),{isSelectionActive:l,isSelected:o,isInSelectionRange:c&&u(e),onToggleSelect:f}}var{useEffect:Bqe}=Nd.a;function Fqe({isHovered:e,metadataItem:t,metadataItemState:i}){var n=Object(Hu.c)(),a=t?wr.getIdentity(t):void 0,s=Vqe(t,Dqe,Er.actions,a,e),r=null==i?void 0:i.isDeleted;return Bqe(()=>{t&&r&&s.isSelected&&n(Er.actions.deselectItems({items:[t]}))},[t,r,s,n,s.isSelected]),s}function Hqe(e,t,i){var n;return null==i||null==(n=i.find(i=>i.type===e&&i.subtype===t))?void 0:n.imageType}var{useCallback:_qe,useEffect:Wqe,useState:Qqe}=Nd.a;function Gqe({server:e,provider:t,metadataItem:i,metadataItemState:n}){var a=Object(Hu.c)(),[s,r]=bS(),o=Qqe(!1),l=o[1],c=o[0],d=Qqe(!1),u=d[1],p=d[0],h=$b(c),m=_qe(()=>{u(!1),l(!0),n.isPopulated||a(Es.actions.fetchRequested({server:e,provider:t,metadataKey:i.key,sourceURI:i.sourceURI}))},[a,i.key,i.sourceURI,n.isPopulated,t,e]),g=_qe(()=>{u(!0),l(!1)},[]),v=_qe(()=>{u(!1)},[]),y=_qe(()=>{c?g():m()},[c,g,m]);return Wqe(()=>{!h||!c||n.isPending||n.isPopulated||n.error||l(!1)},[h,c,n.error,n.isPending,n.isPopulated]),{hoverRef:r,isHovered:s,isActionsPending:c&&n.isPending,isActionsVisible:s||c||p,actionsMenuButtonID:cy(),isActionsMenuOpen:c&&!n.isPending&&!(!n.isPopulated&&!n.error),isActionsMenuClosing:p,onActionsMenuOpen:m,onActionsMenuClose:g,onActionsMenuCloseComplete:v,onActionsMenuToggle:y}}function Kqe(e){return function(e){var t,i,{type:n,subtype:a,title:s,parentTitle:r,grandparentTitle:o}=e;switch(a){case Aa.News:switch(n){case Na.Clip:return[s,null==e||null==(t=e.Channel)?void 0:t[0].tag]}break;case Aa.Podcast:switch(n){case Na.Track:return[s,o]}break;case Aa.Webshow:switch(n){case Na.Episode:return[s,o]}}switch(n){case Na.Movie:return[s,e.year];case Na.Season:return[r,s];case Na.Episode:return i={episodeIndex:e.index,date:e.originallyAvailableAt,noLeadingZero:!0,useLongName:!0},[o,Object(nS.a)(Object.assign({},i,{seasonIndex:e.parentIndex})),s];case Na.Album:return[r,s];case Na.Track:return[o,s];default:return[s]}}(e).filter(e=>0===e||e).join(", ")}function Yqe(e,t={}){var{aspectRatio:i,displayImageType:n}=t,{type:a,subtype:s,thumb:r,parentThumb:o,grandparentThumb:l,art:c,parentArt:d,composite:u,liveTVChannel:p,viewOffsetThumb:h}=e;if(n){var m,g=null==(m=e.Image)?void 0:m.find(e=>e.type===n);return null==g?void 0:g.url}if(p)return p.thumb;switch(i){case 16/9:switch(a){case Na.Movie:switch(s){case Aa.Clip:return r}return c;case Na.Show:return c;case Na.Season:return c||d;case Na.Game:return h||r;default:return r}case 1/1.5:switch(a){case Na.Season:return r;case Na.Episode:return l;default:return r}case 1:switch(a){case Na.Album:return r;case Na.Track:return r||o;case Na.Playlist:return r||u;default:return r}}return r}function qqe(e){var{providerIdentifier:t}=Object(sr.a)(e.source);return jt.k(t,[jt.c,jt.b])}function Zqe(e,t){var{type:i}=e,{viewOffset:n,viewCount:a,viewedLeafCount:s,unviewedLeafCount:r}=t;return!(!(i===Na.Movie||i===Na.Show||i===Na.Season||i===Na.Episode||i===Na.Track)||n||!(a&&!s&&!r||s&&!r))}function Jqe(e){return jt.k(gi(e.identifier,e.providerIdentifier),jt.d)}function Xqe(e){return jt.k(gi(e.identifier,e.providerIdentifier),jt.i)}var $qe=i("VyHN"),eZe=i.n($qe);function tZe({className:e=eZe.a.multiVersionBadge}){return Vu()(Uz,{className:e,iconComponent:rwe})}var iZe=i("OQUr"),nZe=i.n(iZe);function aZe({className:e=nZe.a.playedBadge}){return Vu()(Uz,{className:e,iconComponent:ay})}var sZe=i("hDAk"),rZe=i.n(sZe);function oZe({className:e=rZe.a.smartPlaylistBadge}){return Vu()(Uz,{className:e,iconComponent:Z_})}function lZe(e){var t=e["aria-label"],i=e.className,n=e.style,a={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",id:"plex-icon-toolbar-in-watchlist-560"};a["aria-hidden"]=!t,a.style=n,a.className=Ad.a.plexIcon+(i?" "+i:"");var s=[Nd.a.createElement.apply(Nd.a,["path",{clipRule:"evenodd",d:"M42 6.15892C42 4.72113 40.8409 3.59998 39.411 3.59998H8.58903C7.15701 3.59998 6 4.74565 6 6.15892V42.9571C6 44.3949 6.90879 44.8173 8.02984 43.9554L21.9702 33.2377C23.0826 32.3824 24.9088 32.3758 26.0298 33.2377L39.9702 43.9554C41.0826 44.8107 42 44.3704 42 42.9571V6.15892Z"}].concat([]))];return t&&s.unshift(Nd.a.createElement("title",null,t)),Nd.a.createElement.apply(Nd.a,["svg",a].concat(s))}lZe.propTypes={"aria-label":vc.a.string,className:vc.a.string,style:vc.a.object};var cZe=lZe,dZe=i("85+Z"),uZe=i.n(dZe);function pZe({className:e=uZe.a.watchlistBadge}){return Vu()(Uz,{className:e,iconComponent:cZe})}var hZe=i("+71K"),mZe=i.n(hZe);const{useMemo:gZe}=Nd.a;function vZe({className:e=mZe.a.container,width:t,height:i,children:n}){const a=gZe(()=>({width:t+"px",height:i+"px",fontSize:Math.max(14,Math.min(Math.round(t/4),42)),lineHeight:i+"px"}),[i,t]);return Vu()("div",{className:e,style:a},void 0,n)}var yZe=i("Dw2a"),fZe=i.n(yZe);const bZe=Nd.a.createElement;function IZe(e){let{className:t=fZe.a.link,hoverClassName:i=fZe.a.hoveredLink,isHovered:n}=e,a=Xe()(e,["className","hoverClassName","isHovered"]);return bZe(ev,tp()({className:n?i:t},a))}var SZe=Object(Wu.a)(Ay,e=>e.downloads);var CZe=function(e){return Object(Wu.a)(SZe,t=>{var i,n,a=!!(null==(i=t.creating[e])?void 0:i.isPending),s=!!(null==(n=t.deleting[e])?void 0:n.isPending);return a||s})};var MZe=function(e){return Object(Wu.a)(SZe,t=>t.status.downloads[e])};const{useCallback:DZe,useMemo:PZe}=Nd.a;function OZe(e){const t=Object(Hu.c)(),i=PZe(()=>MZe(e.sourceURI),[e.sourceURI]),n=PZe(()=>CZe(e.sourceURI),[e.sourceURI]),a=Object(Hu.d)(i),s=Object(Hu.d)(n),r=(null==a?void 0:a.subscription)===ur.Subscribing,o=!!a&&a.relation!==pr.Descendants,l=!a||a.relation===pr.Descendants,c=(null==a?void 0:a.relation)===pr.Self;return{progress:(null==a?void 0:a.progress)||0,isPending:s,isSubscribing:r,isDownloaded:o,canDownload:l,canDeleteDownload:c,onDownload:DZe(()=>{t(mr.actions.subscriptionTemplatesFetchRequested({sourceURI:e.sourceURI,guid:e.guid,useSelected:e.type===Na.Show}))},[t,e.sourceURI,e.guid,e.type]),onDeleteDownload:DZe(()=>{a&&t(mr.actions.subscriptionDeleteRequested({id:a.id,sourceURI:e.sourceURI,type:e.type}))},[t,a,e.sourceURI,e.type])}}function jZe({className:e,metadataItem:t,isShadowVisible:i=!1}){const{progress:n,isSubscribing:a,isDownloaded:s}=OZe(t);return Vu()("div",{className:e},void 0,s?Vu()(Yje,{progress:n<100?n:null,showShadow:i,showIndeterminate:a}):null)}const{useCallback:wZe}=Nd.a;function TZe({containerServer:e,containerProvider:t,server:i,provider:n,metadataItem:a,metadataItemState:s,metricsPage:r,metricsContextTuple:o}){const l=Object(Hu.c)();return wZe(c=>{l(Zne({server:e,provider:t,itemServer:i,itemProvider:n,metadataItem:a,metadataItemState:s,metricsPage:r,metricsProperties:{contextTuple:o},legacyAction:c}))},[t,e,l,a,s,o,r,n,i])}function EZe(e,t,i){if(qqe(e)){var n,{beginsAt:a,endsAt:s}=null!=(n=jYe(e))?n:{},r=Math.floor(Date.now()/1e3);return a&&s&&r>=a&&r<s?Object(Ze.default)("Watch Now"):Object(Ze.default)("Watch Channel")}return t.viewOffset||i.viewOffset?Object(Ze.default)("Resume"):e.onDeck&&t.viewedLeafCount&&t.unviewedLeafCount?Object(Ze.default)("Next Episode"):Object(Ze.default)("Play")}var NZe=i("o2in"),xZe=i.n(NZe);const AZe=Nd.a.createElement;function LZe(e){let{className:t=xZe.a.playButton,circleClassName:i=xZe.a.playCircle}=e,n=Xe()(e,["className","circleClassName"]);return AZe(ev,tp()({},n,{className:t}),Vu()(Jce,{className:i}))}const kZe=Nd.a.createElement,{useCallback:RZe,useMemo:zZe}=Nd.a;function UZe(e){var t;let{metadataItem:i}=e,n=Xe()(e,["metadataItem"]);const[a,s]=Lg(),{containerServer:r,containerProvider:o,containerKey:l,containerType:c}=_Ke(),{metricsPage:d,metricsContextTuple:u}=Object(Zb.d)(),p=rYe(i.sourceURI),h=rYe(null==(t=i.onDeck)?void 0:t.sourceURI),m=Object(Hu.c)(),g=TZe({containerServer:r,containerProvider:o,server:a,provider:s,metadataItem:i,metadataItemState:p,metricsPage:d,metricsContextTuple:u}),v=mqe(i),y=RZe(()=>{v({action:Rd.M}),g(xT.x({options:{containerKey:l,listType:c}}))},[l,c,g,v]),f=RZe(()=>{v({action:Rd.M});const e=jYe(i);m(cve({serverEntityID:a.entityID,providerEntityID:s.entityID,metricsPage:d,metricsContext:u,options:{containerKey:l,containerType:c,type:Go.e,identifier:e.channelIdentifier}}))},[m,l,c,a,s,i,d,u,v]),b=RZe(()=>{v({action:Rd.gb}),g(xT.B())},[g,v]),I=zZe(()=>qqe(i)?f:i.type===Na.Artist?b:y,[i,f,y,b]);return kZe(LZe,tp()({},n,{"aria-label":EZe(i,p,h),onPress:I}))}const{Fragment:VZe,useCallback:BZe}=Nd.a,FZe=Object(Wu.a)(qu,yg,(e,t)=>e.filter(e=>e.isFullOwnedServer&&e.isConnected&&Qi(e.version,qi.addProviderContentToLibrary)).reduce((e,i)=>{var n;const a=i.providers.map(e=>t[e]).find(e=>e.identifier===jt.d);if(!a)return e;const s=Yt(a),r=null!=(n=null==s?void 0:s.directories)?n:[],o={machineIdentifier:i.machineIdentifier,providerIdentifier:a.identifier,serverFriendlyName:i.friendlyName,targetLibraries:[]};return r.forEach(e=>{e.type===Na.Artist&&o.targetLibraries.push({libraryTitle:e.title,libraryType:e.type,librarySectionID:e.id})},[]),o.targetLibraries.length&&e.push(o),e},[]));function HZe({children:e,targetMachineIdentifier:t,targetProviderIdentifier:i,targetLibrary:n,onAddToLibrary:a}){const s=Object(Hu.d)(Tg(t)),r=Object(Hu.d)(Mg(t,i)),o=BZe(()=>{a({targetServer:s,targetProvider:r,targetLibrarySectionID:n.librarySectionID,targetLibraryType:n.libraryType})},[a,n,r,s]);return Vu()(Zv,{onPress:o},void 0,e)}function _Ze({onAddToLibrary:e}){const t=Object(Hu.d)(FZe);if(!t.length)return null;if(1===t.length&&1===t[0].targetLibraries.length){const i=t[0];return Vu()(HZe,{targetMachineIdentifier:i.machineIdentifier,targetProviderIdentifier:i.providerIdentifier,targetLibrary:i.targetLibraries[0],onAddToLibrary:e},void 0,Object(Ze.default)("Add to {serverName}",{serverName:i.serverFriendlyName}))}return Vu()(Bse,{label:Object(Ze.default)("Add to Library")},void 0,t.map(t=>Vu()(VZe,{},t.machineIdentifier+":"+t.providerIdentifier,Vu()(Ble,{},void 0,t.serverFriendlyName),t.targetLibraries.map(i=>Vu()(HZe,{targetMachineIdentifier:t.machineIdentifier,targetProviderIdentifier:t.providerIdentifier,targetLibrary:i,onAddToLibrary:e},i.librarySectionID,Object(Ze.default)("Add to {libraryName}",{libraryName:i.libraryTitle}))))))}const{Fragment:WZe,useCallback:QZe}=Nd.a;function GZe({metadataItem:e,downloadIFrameName:t,onMenuClose:i,onDownloadVersionPress:n,onDownloadFilePress:a}){var s;const[r]=Lg(),o=cy(),l=1===(null==(s=e.Media)?void 0:s.length)?function(e,t){var i;if(!(null==(i=t.Part)?void 0:i.length))return;const n=t.Part[0];return V.join([e.uri,n.key],{download:1,"X-Plex-Token":e.accessToken})}(r,e.Media[0]):null,c=QZe(()=>{l?(null==a||a(),i()):n()},[l,a,n,i]);return Vu()(WZe,{},void 0,Vu()(Zv,{to:l,target:t||o,onPress:c},void 0,Object(Ze.default)("Download File")),t?null:Vu()(cI,{},void 0,Vu()("iframe",{name:o,style:{display:"none"}})))}const{useCallback:KZe}=Nd.a;function YZe({server:e,provider:t,metadataItem:i,metadataItemState:n}){const a=Object(Hu.c)();return KZe(s=>{a(Zne({server:e,provider:t,metadataItem:i,metadataItemState:n,legacyAction:s}))},[a,i,n,t,e])}const{Fragment:qZe,useCallback:ZZe,useEffect:JZe,useMemo:XZe,useState:$Ze}=Nd.a;function eJe({metadataItem:e,metadataItemState:t,children:i}){const[n,a]=Lg(),s=Object(Hu.c)(),r=YZe({server:n,provider:a,metadataItem:e,metadataItemState:t}),o=Object(pt.a)(ht.g,e.key,n.entityID),l=Object(Hu.d)(e=>e.entities[ht.g][o]),c=XZe(()=>Object(Pi.a)(o+"_NO_OP"),[o]),d=$Ze(!1),u=d[1],p=d[0],h=ZZe(()=>{s(Es.actions.repopulateRequested({sourceURI:e.sourceURI}))},[s,e.sourceURI]);return JZe(()=>{Object(Ti.a)(()=>{r(c())}),u(!0)},[r,c]),Vu()(qZe,{},void 0,p&&l?i({serverEntityID:n.entityID,providerEntityID:a.entityID,metadataItemEntityID:o,onMarkStale:h}):null)}var tJe=Vu()(tf,{});function iJe({isOpen:e,mediaItems:t,onSelect:i,onCancel:n}){return Vu()(are,{isOpen:e,title:Object(Ze.default)("Play Version"),metricsPage:zd.ab,onItemSelect:i,onCancel:n},void 0,t.map((e,t)=>{const i=[];if(e.bitrate&&i.push(Object(ere.default)(e.bitrate)),e.videoResolution){const t=Object(oM.a)(e),n=t?t.scanType:null;i.push(Object(QC.default)(e.videoResolution,n))}const n=!!e.title,a=i.length>0;return Vu()(dre,{value:t},t,n?e.title:null,n&&a?tJe:null,a?i.join(", "):null,n||a?null:Object(Ze.default)("Unknown"))}))}function nJe(e,t,i){return i===LC.c?t?Object(Ze.default)("Remove from My Podcasts"):Object(Ze.default)("Add to My Podcasts"):jt.k(e,jt.f)?t?Object(Ze.default)("Remove from My TIDAL"):Object(Ze.default)("Add to My TIDAL"):t?Object(Ze.default)("Remove from My Shows"):Object(Ze.default)("Add to My Shows")}function aJe(e,t){var i,n=e.features.find(e=>e.type===Qa.Actions);return null==n||null==(i=n.actions)?void 0:i.find(e=>e.id===t)}const sJe={[Na.Movie]:["isAddToPlaylistVisible","isAddToWatchlistVisible","isAnalyzeVisible","isDeleteVersionVisible","isDeleteVisible","isDownloadFileVisible","isEditVisible","isFixMatchVisible","isGetInfoVisible","isMarkPlayedVisible","isMarkUnplayedVisible","isMatchVisible","isOptimizeVisible","isPlayTrailerVisible","isPlayVersionVisible","isPlayVisible","isQueueVisible","isRateVisible","isRecordVisible","isRefreshVisible","isRemoveFromWatchlistVisible","isShareVisible","isSplitApartVisible","isSyncDownloadVisible","isSyncVisible","isUnmatchVisible","isViewPlayHistoryVisible","isWatchTogetherVisible"],[Na.Show]:["isAddToPicksVisible","isAddToPlaylistVisible","isAddToSavedVisible","isAddToWatchlistVisible","isAnalyzeVisible","isDeleteVisible","isEditVisible","isFixMatchVisible","isMarkPlayedVisible","isMarkUnplayedVisible","isMatchVisible","isOptimizeVisible","isPlayAllVisible","isPlayTrailerVisible","isPlayVisible","isQueueVisible","isRateVisible","isRecordVisible","isRefreshVisible","isRemoveFromSavedVisible","isRemoveFromWatchlistVisible","isSettingsVisible","isShareVisible","isShuffleVisible","isSplitApartVisible","isSyncDownloadVisible","isSyncVisible","isUnmatchVisible","isViewPlayHistoryVisible"],[Na.Season]:["isAddToPlaylistVisible","isAnalyzeVisible","isDeleteVisible","isEditVisible","isMarkPlayedVisible","isMarkUnplayedVisible","isOptimizeVisible","isPlayAllVisible","isPlayVisible","isQueueVisible","isRateVisible","isShareVisible","isShuffleVisible","isSyncDownloadVisible","isSyncVisible","isViewPlayHistoryVisible"],[Na.Episode]:["isAddToPlaylistVisible","isAnalyzeVisible","isDeleteVersionVisible","isDeleteVisible","isDownloadFileVisible","isEditVisible","isGetInfoVisible","isMarkPlayedVisible","isMarkUnplayedVisible","isOptimizeVisible","isPlayVersionVisible","isPlayVisible","isQueueVisible","isRateVisible","isRecordVisible","isRefreshVisible","isShareVisible","isSyncDownloadVisible","isSyncVisible","isViewPlayHistoryVisible","isWatchTogetherVisible"],[Na.Artist]:["isAddToLibraryVisible","isAddToPlaylistVisible","isAddToSavedVisible","isAnalyzeVisible","isDeleteVisible","isEditVisible","isFixMatchVisible","isMatchVisible","isPlayAllVisible","isPlayArtistTVVisible","isPlayRadioVisible","isPlayVisible","isQueueVisible","isRateVisible","isRefreshVisible","isRemoveFromSavedVisible","isShareVisible","isSplitApartVisible","isSyncDownloadVisible","isSyncVisible","isUnmatchVisible","isViewPlayHistoryVisible"],[Na.Album]:["isAddToLibraryVisible","isAddToPicksVisible","isAddToPlaylistVisible","isAddToSavedVisible","isAnalyzeVisible","isDeleteVisible","isEditVisible","isFixMatchVisible","isMatchVisible","isPlayVisible","isQueueVisible","isRateVisible","isRefreshVisible","isRemoveFromSavedVisible","isShareVisible","isShuffleVisible","isSplitApartVisible","isSyncDownloadVisible","isSyncVisible","isUnmatchVisible","isViewPlayHistoryVisible"],[Na.Track]:["isAddToLibraryVisible","isAddToPlaylistVisible","isAddToSavedVisible","isAnalyzeVisible","isDeleteVisible","isDownloadFileVisible","isEditVisible","isGetInfoVisible","isMarkPlayedVisible","isMarkUnplayedVisible","isPlayMusicVideoVisible","isPlayVisible","isQueueVisible","isRateVisible","isRemoveFromSavedVisible","isShareVisible","isSyncDownloadVisible","isSyncVisible","isViewPlayHistoryVisible"],[Na.PhotoAlbum]:["isAddToPlaylistVisible","isAnalyzeVisible","isEditVisible","isPlayVisible","isShareVisible","isShuffleVisible","isSyncVisible"],[Na.Photo]:["isAddToPlaylistVisible","isAnalyzeVisible","isDeleteVisible","isDownloadFileVisible","isEditVisible","isFavoriteVisible","isGetInfoVisible","isPlayVisible","isShareVisible","isSyncVisible","isUnfavoriteVisible"],[Na.Clip]:["isAddToPlaylistVisible","isAddToSavedVisible","isAnalyzeVisible","isDeleteVersionVisible","isDeleteVisible","isDownloadFileVisible","isEditVisible","isFixMatchVisible","isGetInfoVisible","isMarkPlayedVisible","isMarkUnplayedVisible","isMatchVisible","isOptimizeVisible","isPlayTrailerVisible","isPlayVersionVisible","isPlayVisible","isQueueVisible","isRateVisible","isRefreshVisible","isRemoveFromSavedVisible","isShareVisible","isSplitApartVisible","isSyncDownloadVisible","isSyncVisible","isUnmatchVisible","isViewPlayHistoryVisible","isWatchTogetherVisible"],[Na.Playlist]:["isAddToSavedVisible","isDeleteVisible","isEditVisible","isEditVisible","isPlayVisible","isQueueVisible","isRemoveFromSavedVisible","isShareVisible","isShuffleVisible","isSyncDownloadVisible","isSyncVisible"],[Na.Collection]:["isAddToPlaylistVisible","isDeleteVisible","isEditVisible","isPlayVisible","isQueueVisible","isRateVisible","isShuffleVisible","isSyncVisible"],[Na.Game]:["isPlayVisible","isPlayVersionVisible","isRateVisible","isMarkPlayedVisible","isMarkUnplayedVisible","isEditVisible","isRefreshVisible","isAnalyzeVisible","isFixMatchVisible","isUnmatchVisible","isDeleteVisible","isGetInfoVisible"]};function rJe(e,t){return!!as(e,t)}function oJe(e,t){return!!aJe(e,t)}function lJe(e){var t;return null!=(t=null==e?void 0:e.isExtra)&&t&&function(e){return e.Media.some(e=>e.premium)}(e)}const cJe=({server:e,provider:t,stableUser:i,metadataItem:n})=>function(e,t,i,n){var{isFolder:a,Media:s}=n;if(as(t,Qa.PlayQueue))return!a;var r=!!i.features[wt.j];return!(!t.protocols.includes(Wa.LiveTV)||!(e.livetv&&4===e.livetv||r))&&s.length>0}(e,t,i,n),dJe=({metadataItem:e})=>!!e.primaryExtraKey,uJe=({server:e,provider:t,stableUser:i,metadataItem:n})=>{if(!t)return!1;const a=as(t,Qa.Playlist);return!(!a||!MT(i,a))&&(n.type!==Na.Game&&(!lJe(n)&&!e.isEmbedded))},pJe=({provider:e,stableUser:t,metadataItemState:i})=>{const n=aJe(e,Ka.Save);return!!(n&&MT(t,n)&&i.isPopulated)},hJe=({provider:e,stableUser:t,metadataItemState:i})=>{const n=aJe(e,Ka.AddToWatchlist);return!!(n&&MT(t,n)&&i.isPopulated)},mJe=({provider:e,stableUser:t,metadataItem:i})=>{if(!e)return!1;const n=i.type===Na.Track||i.type===Na.Album||i.type===Na.Artist,a=jt.k(e.identifier,jt.f),s=!!t.features[wt.a],r=MT(t,{requires:"tidal"});return n&&a&&s&&r};function gJe({provider:e,metadataItem:t,metadataItemState:i}){return!(!oJe(e,Ka.Rate)||Object(Qt.x)(t.type)||t.isFolder||!i.isPopulated)}const vJe=({provider:e,metadataItem:t})=>{const i=as(e,Qa.Subscribe);return qqe(t)&&!!i},yJe=({server:e,provider:t,metadataItem:i,metadataItemState:n})=>!!aJe(t,Ka.Rate)&&!i.isFolder&&n.isPopulated&&!e.isEmbedded,fJe=({provider:e,metadataItem:t,metadataItemState:i})=>{const n=aJe(e,Ka.Scrobble);return!(!n||!n.key||e.protocols.includes(Wa.LiveTV)||t.type===Na.Track&&t.subtype!==Aa.Podcast||!i.isPopulated||null!=i.saved&&!i.saved&&!i.viewOffset||t.isExtra)&&(Object(Qt.y)(t.type)?!!i.unviewedLeafCount&&i.unviewedLeafCount>0:!i.viewCount||!!i.viewOffset)},bJe=({provider:e,metadataItem:t,metadataItemState:i})=>{const n=aJe(e,Ka.Scrobble);return!(!n||!n.reverseKey||e.protocols.includes(Wa.LiveTV)||t.type===Na.Track&&t.subtype!==Aa.Podcast||!i.isPopulated||null!=i.saved&&!i.saved||t.isExtra)&&(Object(Qt.y)(t.type)?!!i.viewedLeafCount&&i.viewedLeafCount>0:!!i.viewCount||!!i.viewOffset)},IJe=({provider:e,metadataItem:t})=>{const{isPlaylist:i,isExtra:n,isFolder:a,radio:s,readOnly:r}=t,o=!n&&!a&&!s;return i?!r:rJe(e,Qa.Manage)&&o},SJe=({server:e,provider:t,stableUser:i,metadataItem:n,metadataItemState:a})=>IJe({server:e,provider:t,stableUser:i,metadataItem:n,metadataItemState:a}),CJe=({server:e,provider:t,stableUser:i,metadataItem:n,metadataItemState:a})=>!n.indirect&&!n.remoteMedia&&IJe({server:e,provider:t,stableUser:i,metadataItem:n,metadataItemState:a}),MJe=({server:e,provider:t,stableUser:i,metadataItem:n,metadataItemState:a})=>!!IJe({server:e,provider:t,stableUser:i,metadataItem:n,metadataItemState:a})&&!(!n.guid||/(local|none):\/\//.test(n.guid)),DJe=({server:e,provider:t,stableUser:i,metadataItem:n,metadataItemState:a})=>!!IJe({server:e,provider:t,stableUser:i,metadataItem:n,metadataItemState:a})&&(n.type!==Na.Game&&!(n.remoteMedia||!e.transcoderVideo||!e.backgroundProcessing)),PJe=({server:e,provider:t,stableUser:i,metadataItem:n,metadataItemState:a})=>!!IJe({server:e,provider:t,stableUser:i,metadataItem:n,metadataItemState:a})&&!!(n.isPlaylist||n.type===Na.Collection||n.remoteMedia||e.allowMediaDeletion),OJe={isAddToLibraryVisible:mJe,isAddToPicksVisible:({provider:e,stableUser:t})=>!(!t.features[wt.t]||!oJe(e,Ka.Pick)),isAddToPlaylistVisible:uJe,isAddToSavedVisible:e=>pJe(e)&&!1===e.metadataItemState.saved,isAddToWatchlistVisible:e=>hJe(e)&&!e.metadataItemState.watchlistedAt,isAnalyzeVisible:CJe,isDeleteVersionVisible:({server:e,provider:t,stableUser:i,metadataItem:n,metadataItemState:a})=>{if(!IJe({server:e,provider:t,stableUser:i,metadataItem:n,metadataItemState:a}))return!1;if(!e.allowMediaDeletion)return!1;return n.Media.filter(e=>!!e.proxyType).length>0},isDeleteVisible:PJe,isDownloadFileVisible:({provider:e,metadataItem:t})=>!!be.a.allowDirectDownload&&(!!e.protocols.includes(Wa.Download)&&!t.isExtra&&!t.remoteMedia),isEditVisible:IJe,isFavoriteVisible:({provider:e,stableUser:t,metadataItem:i,metadataItemState:n})=>gJe({provider:e,stableUser:t,metadataItem:i,metadataItemState:n})&&!AT(n),isFixMatchVisible:MJe,isGetInfoVisible:({provider:e,metadataItem:t})=>!!e&&Jqe(e)&&!t.isExtra&&!t.indirect,isMarkPlayedVisible:fJe,isMarkUnplayedVisible:bJe,isMatchVisible:({server:e,provider:t,stableUser:i,metadataItem:n,metadataItemState:a})=>!!IJe({server:e,provider:t,stableUser:i,metadataItem:n,metadataItemState:a})&&(!!n.guid&&!MJe({server:e,provider:t,stableUser:i,metadataItem:n,metadataItemState:a})),isOptimizeVisible:DJe,isPlayAllVisible:({server:e,provider:t,stableUser:i,metadataItem:n,metadataItemState:a})=>!!cJe({server:e,provider:t,stableUser:i,metadataItem:n,metadataItemState:a})&&(n.type===Na.Artist||!(!n.onDeck||!a.viewedLeafCount)),isPlayArtistTVVisible:({metadataItem:e})=>function(e){return!!e.stations&&e.stations.some(e=>e.playlistType===ka.Video)}(e),isPlayMusicVideoVisible:dJe,isPlayRadioVisible:({metadataItem:e})=>function(e){return!!e.stations&&e.stations.some(e=>e.playlistType===ka.Audio)}(e),isPlayTrailerVisible:dJe,isPlayVersionVisible:({server:e,provider:t,stableUser:i,metadataItem:n,metadataItemState:a})=>!!cJe({server:e,provider:t,stableUser:i,metadataItem:n,metadataItemState:a})&&(Jqe(t)&&n.Media.length>1),isPlayVisible:cJe,isQueueVisible:({server:e,provider:t,stableUser:i,metadataItem:n,metadataItemState:a})=>cJe({server:e,provider:t,stableUser:i,metadataItem:n,metadataItemState:a})&&rJe(t,Qa.PlayQueue)&&!lJe(n),isRateVisible:yJe,isRecordVisible:vJe,isRefreshVisible:SJe,isRemoveFromSavedVisible:e=>pJe(e)&&!0===e.metadataItemState.saved,isRemoveFromWatchlistVisible:e=>hJe(e)&&!!e.metadataItemState.watchlistedAt,isSettingsVisible:({provider:e,metadataItemState:t})=>!rJe(e,Qa.Manage)&&t.isPopulated&&null!=t.preferences,isShareVisible:({server:e,provider:t,metadataItem:i})=>Jqe(t)&&e.isFullOwnedServer&&!i.isExtra&&!i.remoteMedia,isShuffleVisible:({server:e,provider:t,stableUser:i,metadataItem:n,metadataItemState:a})=>!n.radio&&(cJe({server:e,provider:t,stableUser:i,metadataItem:n,metadataItemState:a})&&rJe(t,Qa.PlayQueue)),isSplitApartVisible:({server:e,provider:t,stableUser:i,metadataItem:n,metadataItemState:a})=>{if(!IJe({server:e,provider:t,stableUser:i,metadataItem:n,metadataItemState:a}))return!1;let s;return s=Object(Qt.y)(n.type)?n.Location:n.Media.filter(e=>!e.proxyType),s.length>1},isSyncDownloadVisible:({server:e,provider:t,metadataItem:i,stableUser:n})=>{if(!be.a.allowSyncDownload)return!1;if(!t)return!1;if(!jt.a.includes(t.identifier))return!1;if(i.isPlaylist&&i.playlistType===ka.Photo)return!1;if(!i.hasOwnProperty("guid"))return!1;if(i.remoteMedia)return!1;const a=as(t,Qa.Subscribe),s=(null==a?void 0:a.flavor)===Uae.a&&!!n.features[wt.d];return Jqe(t)?e.allowSync&&s:s},isSyncVisible:({server:e,provider:t,stableUser:i,metadataItem:n})=>{if(!be.a.allowSync)return!1;if(!Jqe(t))return!1;if(i.features[wt.d])return!1;const{isExtra:a,remoteMedia:s}=n;return!a&&!s&&!(!e.allowSync||!n.allowSync)},isUnfavoriteVisible:({provider:e,stableUser:t,metadataItem:i,metadataItemState:n})=>gJe({provider:e,stableUser:t,metadataItem:i,metadataItemState:n})&&AT(n),isUnmatchVisible:({server:e,provider:t,stableUser:i,metadataItem:n,metadataItemState:a})=>MJe({server:e,provider:t,stableUser:i,metadataItem:n,metadataItemState:a}),isViewPlayHistoryVisible:({server:e,provider:t,metadataItem:i})=>Jqe(t)&&e.isFullOwnedServer&&!e.isEmbedded&&!i.isExtra,isWatchTogetherVisible:({provider:e,stableUser:t,metadataItem:i})=>{const n=!!t.features[wt.E],a=jt.k(e.identifier,[jt.d,jt.i]);return n&&a&&!i.isExtra}};function jJe({server:e,provider:t,stableUser:i,metadataItem:n,metadataItemState:a}){const s=sJe[n.type];if(!s)return{};return s.reduce((s,r)=>{const o=OJe[r];return s[r]=!!(e&&t&&n)&&o({server:e,provider:t,stableUser:i,metadataItem:n,metadataItemState:a}),s},{})}function wJe(e,t){switch(t){case Aa.Podcast:switch(e){case Na.Show:return Na.Track}}switch(e){case Na.Show:return Na.Season;case Na.Season:return Na.Episode;case Na.Artist:return Na.Album;case Na.Album:return Na.Track;case Na.PhotoAlbum:return Na.Photo;case Na.Collection:switch(t){case Aa.Movie:return Na.Movie;case Aa.Show:return Na.Show;case Aa.Artist:return Na.Artist;case Aa.Album:return Na.Album}}}function TJe(e,t){switch(t){case Aa.Podcast:switch(e){case Na.Show:return Na.Track}}switch(e){case Na.Show:case Na.Season:return Na.Episode;case Na.Artist:case Na.Album:return Na.Track;case Na.PhotoAlbum:return Na.Photo;case Na.Collection:switch(t){case Aa.Movie:return Na.Movie;case Aa.Show:return Na.Episode;case Aa.Artist:case Aa.Album:return Na.Track}}}const{useCallback:EJe}=Nd.a;function NJe({playlist:e,onPlaylistPress:t}){const i=EJe(()=>t(e.key),[t,e.key]);return Vu()(Zv,{onPress:i},void 0,e.title)}var xJe=Object(Wu.a)(Ay,e=>e.addToPlaylist);const{Fragment:AJe,useCallback:LJe,useEffect:kJe}=Nd.a;var RJe=Vu()(Q$,{});function zJe({sourceURI:e,playlistType:t,onAddToPlaylistPress:i,onMenuClose:n,onPlaylistSave:a}){const s=Object(Hu.c)(),r=Gs.Menu,[o,l]=Lg(),{[r]:{source:c,playlists:d}}=Object(Hu.d)(xJe),u=c!==Object(gs.a)({serverIdentifier:o.machineIdentifier,providerIdentifer:l.identifier}),p=LJe(t=>{s(Ks.actions.playlistUpdateRequested({ui:r,destinationServer:o,destinationProvider:l,playlistKey:t,sourceURI:e})),null==a||a(),n()},[l,o,s,n,a,e,r]);return kJe(()=>{s(Ks.actions.playlistListFetchRequested({ui:r,destinationServer:o,destinationProvider:l,playlistType:t}))},[r,t,s,o,l]),Vu()(AJe,{},void 0,Vu()(Zv,{onPress:Cb(i,n)},void 0,Object(Ze.default)("Add to Playlist...")),d.length&&!u?Vu()(AJe,{},void 0,RJe,Vu()(Ble,{},void 0,Object(Ze.default)("Add to...")),d.slice(0,3).map(e=>Vu()(NJe,{playlist:e,onPlaylistPress:p},e.key))):null)}var UJe=i("NKCw"),VJe=i("X++g"),BJe=i.n(VJe);function FJe({message:e}){return Vu()("div",{className:BJe.a.container},void 0,Vu()(ph,{className:BJe.a.icon}),Vu()("div",{className:BJe.a.message},void 0,e))}var HJe=i("/z0O"),_Je=i.n(HJe);function WJe({children:e,className:t=_Je.a.modalSubheader}){return Vu()("div",{className:t},void 0,e)}function QJe(e,t){return e.isCloud?t.sourceTitle?t.title+" - "+t.sourceTitle:t.title:e.friendlyName}const{useCallback:GJe}=Nd.a;function KJe({server:e,provider:t,isSelected:i,onDestinationChange:n}){const a=GJe(()=>{const i=Object(gs.a)({serverIdentifier:e.machineIdentifier,providerIdentifier:t.identifier});n(i)},[n,t.identifier,e.machineIdentifier]);return Vu()(oy,{isSelected:i,onPress:a},void 0,QJe(e,t))}const{Fragment:YJe}=Nd.a;function qJe({server:e,provider:t,destinations:i,isDisabled:n,onDestinationChange:a}){const s=cy(),r=Ffe();return Vu()(YJe,{},void 0,Vu()(ev,{id:s,"aria-label":Object(Ze.default)("Playlist destination"),isDisabled:n,onPress:r.onToggle},void 0,QJe(e,t),Vu()(fy,{direction:r.isOpen?hy:my})),Vu()(Qv,{size:_h,target:s,isOpen:r.isOpen,onMenuClose:r.onClose},void 0,i?i.map((i,n)=>{const[s,o]=i,l=e.machineIdentifier===s.machineIdentifier&&t.identifier===o.identifier;return Vu()(KJe,{isSelected:l,server:s,provider:o,onDestinationChange:Cb(a,r.onClose)},n)}):null))}function ZJe(e){var{rowHeight:t,rowWidth:i=0}=e,n=Xe()(e,["rowHeight","rowWidth"]);return bO(Object.assign({direction:vO.Vertical,columns:1,getCellWidth:e=>Math.max(i,e.innerViewportWidth),getCellHeight:()=>t},n))}var JJe=i("5iwJ"),XJe=i.n(JJe);const $Je=Nd.a.createElement;function eXe({forwardedRef:e,className:t=XJe.a.row,alternateClassName:i=XJe.a.alternateRow,hoveredClassName:n=XJe.a.isHovered,tabIndex:a,style:s,isAlternate:r=!1,isHovered:o=!1,children:l,onFocus:c,onBlur:d}){return $Je("div",{tabIndex:a,style:s,className:((r?i:t)||"")+" "+(o&&n||""),ref:e,onFocus:c,onBlur:d},l)}var tXe=Nd.a.forwardRef((e,t)=>$Je(eXe,tp()({},e,{forwardedRef:t}))),iXe=i("GaN0"),nXe=i.n(iXe);function aXe({className:e=nXe.a.placeholder,style:t,index:i}){return Vu()(tXe,{className:e,style:Object.assign({animationDelay:i%12*200+"ms"},t)})}var sXe=i("Fg7B"),rXe=i.n(sXe);const oXe=Nd.a.createElement,{useCallback:lXe}=Nd.a;function cXe(e){let{server:t,provider:i,sourceURI:n,isDisabled:a,item:s}=e,r=Xe()(e,["server","provider","sourceURI","isDisabled","item"]);const[o,l]=bS(),c=tj(r),{cellIndex:d}=r,u=Object(Hu.c)(),p=lXe(()=>{s&&u(Ks.actions.playlistUpdateRequested({ui:Gs.Modal,destinationServer:t,destinationProvider:i,playlistKey:s.key,sourceURI:n}))},[n,u,s,i,t]);if(!s)return Vu()(aXe,{style:c.style,index:d});const{title:h,thumb:m,composite:g}=s;return oXe(tXe,{style:c.style,isAlternate:!!(d%2),isHovered:o,ref:l},Vu()(ev,{className:rXe.a.item,isDisabled:a,onPress:p},void 0,Vu()("div",{className:rXe.a.imageContainer},void 0,Vu()(tC,{className:rXe.a.image,serverEntityID:t.entityID,providerEntityID:i.entityID,url:m||g,width:40,height:40,component:JI,preloadOnMount:!1,animateOnMount:!1})),Vu()("div",{className:rXe.a.title},void 0,h)))}var dXe=i("YoL5"),uXe=i.n(dXe);const pXe=Nd.a.createElement,{useCallback:hXe,useMemo:mXe}=Nd.a;var gXe=Vu()(Ip,{});function vXe({server:e,provider:t,sourceURI:i,playlistType:n}){const{[Gs.Modal]:{source:a,playlists:s,isPending:r,isPopulated:o,error:l},isSaving:c}=Object(Hu.d)(xJe),d=a!==Object(gs.a)({serverIdentifier:e.machineIdentifier,providerIdentifier:t.identifier}),u=mXe(()=>ZJe({rowHeight:60,overscan:5}),[]),p=hXe(n=>pXe(cXe,tp()({server:e,provider:t,sourceURI:i,isDisabled:c},n)),[i,c,t,e]);if(l)return Vu()("div",{className:uXe.a.container});if(d||r&&!o)return Vu()("div",{className:uXe.a.container},void 0,gXe);if(!s.length){const i={source:QJe(e,t)},a={[ka.Audio]:Object(Ze.default)("Save your first music playlist for {source}",i),[ka.Video]:Object(Ze.default)("Save your first video playlist for {source}",i),[ka.Photo]:Object(Ze.default)("Save your first photo playlist for {source}",i),[ka.Rom]:Object(Ze.default)("Save your first game playlist for {source}",i)};return Vu()("div",{className:uXe.a.container},void 0,a[n])}return Vu()(ZO,{className:uXe.a.scroller,keyPropName:"key",items:s,totalSize:s.length,layout:u,cellComponentFactory:p})}var{useCallback:yXe}=Nd.a;var fXe=function(){return yXe(e=>{var t=e.target;t&&t.select()},[])},bXe=Object(Wu.a)(yg,qu,bg("providers"),(e,t,i)=>{var n=[];for(var a of t){var s=a.isCloud?i:a.providers;for(var r of s)n.push([jg(a),e[r]])}return n}),IXe=([e,t])=>Object(Wu.a)(bXe,i=>i.reduce((i,[n,a])=>((n.machineIdentifier!==e.machineIdentifier||a.identifier!==t.identifier)&&n.isFullOwnedServer&&n.isConnected&&as(a,Qa.Playlist,Ga.Universal)&&i.push([n,a]),i),t===Ig?[]:[[e,t]])),SXe=i("zfMR"),CXe=i.n(SXe);const MXe=Nd.a.createElement,{useEffect:DXe,useState:PXe}=Nd.a;function OXe({isOpen:e,sourceURI:t,defaultDestinationSource:i,playlistType:n,defaultPlaylistTitle:a,isDestinationMenuHidden:s,onModalClose:r,onPlaylistSave:o}){var l;const c=Object(Hu.c)(),d=Gs.Modal,[u,p]=Lg(),h=PXe(i),m=h[1],g=h[0],{serverIdentifier:v,providerIdentifier:y}=Object(sr.a)(g),{[Gs.Modal]:{error:f},isSaving:b,isSaved:I,saveError:S}=Object(Hu.d)(xJe),C=Object(Hu.d)(Tg(v)),M=Object(Hu.d)(Mg(v,y)),D=Object(Hu.d)(IXe([u,p])),{register:P,handleSubmit:O,errors:j}=Object(UJe.a)({defaultValues:{title:a}}),w="required"===(null==(l=j.title)?void 0:l.type),T=O(({title:e})=>{c(Ks.actions.playlistCreateRequested({ui:d,destinationServer:C,destinationProvider:M,playlistType:n,title:e,sourceURI:t}))}),E=fXe();return DXe(()=>{e&&c(Ks.actions.playlistListFetchRequested({ui:d,destinationServer:C,destinationProvider:M,playlistType:n}))},[c,e,d,n,C,M]),DXe(()=>{if(e)return()=>{c(Ks.actions.modalClosed())}},[c,e]),DXe(()=>{e&&I&&(null==o||o(),r())},[e,I,r,o]),Vu()(Zb.a,{metricsPage:zd.b},void 0,Vu()(PI,{isOpen:e,onModalClose:r},void 0,Vu()(kI,{onModalClose:r},void 0,Vu()(UI,{},void 0,Object(Ze.default)("Add to Playlist")),D.length>1?Vu()(WJe,{},void 0,s?QJe(C,M):Vu()(qJe,{server:C,provider:M,destinations:D,isDisabled:b,onDestinationChange:m})):null,S||f?Vu()(FJe,{message:C.isCloud?Object(Ze.default)("Something went wrong. Please try again in a few minutes."):Object(Ze.default)("Something went wrong. Make sure the server is available and try again.")}):null,Vu()(vXe,{server:C,provider:M,sourceURI:t,playlistType:n}),Vu()(sD,{},void 0,Vu()("form",{className:CXe.a.form,onSubmit:T},void 0,MXe(cz,{className:CXe.a.input,name:"title",hasFocusOnMount:!0,hasError:w,ref:P({required:!0}),onFocus:E}),Vu()(MR,{className:CXe.a.button,isSpinning:b,type:"submit",kind:Qg.Primary},void 0,Object(Ze.default)("Create")))))))}const{Fragment:jXe}=Nd.a;function wXe({metadataItem:e,render:t,onClose:i}){var n;const{isPending:a,canDownload:s,canDeleteDownload:r,onDownload:o,onDeleteDownload:l}=OZe(e),c=Object(Hu.d)(RKe(wt.e)),d=Object(Hu.d)(RKe(wt.f)),u=Ffe(),p=Ffe(),[h]=Lg(),m=r,g=a||!r&&!s,v=c&&(null==(n=h.ownerFeatures)?void 0:n.includes(wt.e)),y=e.subtype===Aa.Podcast||d||v?Cb(o,i):p.onOpen,f=r?u.onOpen:y;return Vu()(jXe,{},void 0,Vu()(F_,{isOpen:u.isOpen,isConfirmButtonSpinning:a,kind:Op,metricsPage:zd.x,title:Object(Ze.default)("Delete Download"),message:Object(Ze.default)("Are you sure you want to delete this download?"),onConfirm:Cb(l,u.onClose,i),onCancel:Cb(u.onClose,i)}),Vu()(dk,{isOpen:p.isOpen,onModalClose:Cb(p.onClose,i)}),t(m,g,f))}const{useCallback:TXe}=Nd.a;function EXe({metadataItem:e,onMenuClose:t}){const i=TXe((e,t,i)=>Vu()(Zv,{isDisabled:t,onPress:i},void 0,e?Object(Ze.default)("Delete Download"):Object(Ze.default)("Download")),[]);return Vu()(wXe,{metadataItem:e,render:i,onClose:t})}var NXe=function(e){return Object(Wu.a)(SZe,t=>t.creating[e])},xXe=i("yA34"),AXe=i.n(xXe);const LXe=Nd.a.createElement,{useCallback:kXe,useMemo:RXe}=Nd.a,zXe=[];function UXe({metadataItem:e}){var t,i,n;const a=Object(Hu.c)(),s=Object(Hu.d)(NXe(e.sourceURI)),r=kXe(()=>{Object(Ti.a)(()=>{a(mr.actions.subscriptionTemplateChanged({sourceURI:e.sourceURI,template:void 0}))})},[a,e.sourceURI]),o=null!=(t=null==s||null==(i=s.template)?void 0:i.Setting)?t:zXe,{defaultValues:l,preferences:c}=RXe(()=>{const e={},t=o.reduce((t,{id:i,label:n,summary:a,value:s,hidden:r,enumValues:o})=>{if(r||!o)return t;const l=o.split("|").map(e=>{const t=e.split(":");return{value:t[0],label:t[1]}});return t.push({id:i,label:n,summary:a,options:l}),e[i]=s,t},[]);return{defaultValues:e,preferences:t}},[o]),{register:d,handleSubmit:u}=Object(UJe.a)({defaultValues:l}),p=kXe(t=>{(null==s?void 0:s.template)&&a(mr.actions.subscriptionCreateRequested({sourceURI:e.sourceURI,template:null==s?void 0:s.template,settings:t}))},[a,e.sourceURI,null==s?void 0:s.template]);return Vu()(PI,{isOpen:!!(null==s?void 0:s.template),onModalClose:r},void 0,Vu()("form",{onSubmit:u(p)},void 0,Vu()(kI,{onModalClose:r},void 0,Vu()(UI,{},void 0,Object(Ze.default)("Download Options")),(null==s?void 0:s.error)?Vu()(FJe,{message:Object(Ze.default)("Something went wrong. Make sure the item is available and try again.")}):null,Vu()(TI,{},void 0,c.map(({id:e,label:t,summary:i,options:n})=>Vu()("label",{className:AXe.a.preference},e,Vu()("span",{className:AXe.a.label},void 0,t),LXe(JR,{name:e,ref:d},n.map((e,t)=>Vu()("option",{value:e.value},t,e.label))),Vu()("span",{className:AXe.a.description},void 0,i)))),Vu()(sD,{},void 0,Vu()(lD,{},void 0,Vu()(iD,{onPress:r},void 0,Object(Ze.default)("Cancel")),Vu()(MR,{type:"submit",isSpinning:null!=(n=null==s?void 0:s.isPending)&&n,kind:Qg.Primary},void 0,Object(Ze.default)("Save")))))))}const{Fragment:VXe,useCallback:BXe,useMemo:FXe,useRef:HXe}=Nd.a,_Xe=["isPlayVisible","isWatchTogetherVisible","isPlayVersionVisible","isPlayAllVisible","isShuffleVisible","isQueueVisible","isPlayTrailerVisible","isPlayMusicVideoVisible","isAddToPlaylistVisible","isAddToLibraryVisible"],WXe=["isEditVisible","isMarkPlayedVisible","isMarkUnplayedVisible","isSettingsVisible","isRefreshVisible","isAnalyzeVisible","isFixMatchVisible","isMatchVisible","isUnmatchVisible","isSplitApartVisible","isSyncVisible","isSyncDownloadVisible","isOptimizeVisible","isDownloadFileVisible","isShareVisible","isDeleteVisible","isDeleteVersionVisible","isViewPlayHistoryVisible","isGetInfoVisible"];function QXe(e){const t=HXe(!1);return e.isOpen&&(t.current=!0),t.current}var GXe=Vu()(Q$,{});function KXe({actions:e,server:t,provider:i,metadataItem:n,metadataItemState:a,containerKey:s,containerType:r,allowRedirectOnDelete:o,playVersionModalState:l,confirmMarkPlayedModalState:c,confirmMarkUnplayedModalState:d,settingsModalState:u,addToPlaylistModalState:p,shareModalState:h,mediaSubscriptionModalState:m,watchTogetherModalState:g,onLegacyAction:v,onLegacyPlay:y,onMenuClose:f}){var b;const I=Object(Hu.c)(),S=rYe(null==(b=n.onDeck)?void 0:b.sourceURI),C=cYe(n.sourceURI),M=!!C.metadataState,D=!!C.mediaState,P=_Xe.some(t=>e[t]),O=WXe.some(t=>e[t]),j=P&&O,w=mqe(n),T=BXe(()=>{w({action:Rd.M}),y(xT.x({options:{containerKey:s,listType:r}}))},[s,r,y,w]),E=BXe(()=>{w({action:Rd.M}),y(cve({options:{containerKey:s,listType:r}}))},[s,r,y,w]),N=BXe(()=>{w({action:Rd.N}),y(xT.w())},[y,w]),x=BXe(()=>{w({action:Rd.gb}),y(xT.B())},[y,w]),A=BXe(()=>{w({action:Rd.P}),y(xT.r({options:{playAll:!0,next:!0}}))},[y,w]),L=BXe(()=>{w({action:Rd.d}),y(xT.r({options:{playAll:!0,next:!1}}))},[y,w]),k=BXe(()=>{w({action:Rd.Q}),y(xT.y())},[y,w]),R=BXe(()=>{w({action:Rd.R}),y(xT.z({playlistType:Kt.a}))},[y,w]),z=BXe(()=>{w({action:Rd.O}),y(xT.z({playlistType:Kt.c}))},[y,w]),U=BXe(()=>{v(Object(v7.q)())},[v]),V=BXe(({targetServer:e,targetProvider:a,targetLibrarySectionID:s,targetLibraryType:r})=>{w({action:Rd.b}),I(Es.actions.addToLibraryRequested({targetServer:e,targetProvider:a,targetLibrarySectionID:s,targetLibraryType:r,server:t,provider:i,metadataItem:n})),f()},[I,n,f,i,t,w]),B=BXe(e=>{w({action:e?Rd.e:Rd.X}),I(Es.actions.toggleSavedRequested({server:t,provider:i,sourceURI:n.grandparentKey?Object(gs.a)({serverIdentifier:t.machineIdentifier,providerIdentifier:i.identifier,metadataItemKey:n.grandparentKey}):n.sourceURI,ratingKey:n.grandparentRatingKey||n.ratingKey,saved:e})),f()},[I,n.grandparentKey,n.grandparentRatingKey,n.ratingKey,n.sourceURI,f,i,t,w]),F=BXe(()=>{B(!0)},[B]),H=BXe(()=>{B(!1)},[B]),_=BXe(e=>{w({action:e?Rd.f:Rd.Y}),I(Es.actions.toggleWatchlistRequested({server:t,provider:i,sourceURI:n.sourceURI,ratingKey:n.ratingKey,added:e})),f()},[I,n.ratingKey,n.sourceURI,f,i,t,w]),W=BXe(()=>{_(!0)},[_]),Q=BXe(()=>{_(!1)},[_]),G=BXe(()=>{w({action:Rd.c}),p.onOpen()},[p,w]),K=BXe(()=>{w({action:Rd.c,mode:"shortcut"})},[w]),Y=BXe(()=>{w({action:Rd.w}),v(tae())},[v,w]),q=BXe(()=>{u.onOpen(),f()},[f,u]),Z=BXe(()=>{w({action:Rd.V}),I(Ls.actions.metadataRefreshRequested({server:t,provider:i,sourceURI:n.sourceURI})),f()},[I,n.sourceURI,f,i,t,w]),J=BXe(()=>{w({action:Rd.h}),I(Ls.actions.mediaAnalysisRequested({server:t,provider:i,sourceURI:n.sourceURI,hasChildren:!!wJe(n.type,n.subtype)})),f()},[I,n.sourceURI,n.subtype,n.type,f,i,t,w]),X=BXe(()=>{w({action:Rd.z}),v(iae())},[v,w]),$=BXe(()=>{w({action:Rd.lb}),v(dae())},[v,w]),ee=BXe(()=>{w({action:Rd.ib}),v(lae())},[v,w]),te=BXe(()=>{w({action:Rd.kb}),v(cae())},[v,w]),ie=BXe(()=>{w({action:Rd.I}),v(sae())},[v,w]),ne=BXe(()=>{w({action:Rd.u})},[w]),ae=BXe(()=>{w({action:Rd.u}),v(eae())},[v,w]),se=BXe(()=>{w({action:Rd.fb}),h.onOpen(),f()},[f,h,w]),re=BXe(()=>{w({action:Rd.p}),v(Xne({options:{skipRedirect:!o}}))},[o,v,w]),oe=BXe(()=>{w({action:Rd.p}),v($ne())},[v,w]),le=BXe(()=>{w({action:Rd.C}),v(nae())},[v,w]),ce=BXe(()=>{g.onOpen(),f()},[f,g]);return Vu()(VXe,{},void 0,e.isPlayVisible?Vu()(Zv,{onPress:qqe(n)?E:T},void 0,EZe(n,a,S)):null,e.isWatchTogetherVisible?Vu()(Zv,{onPress:ce},void 0,Object(Ze.default)("Watch Together...")):null,e.isPlayVersionVisible?Vu()(Zv,{onPress:Cb(l.onOpen,f)},void 0,Object(Ze.default)("Play Version...")):null,e.isPlayAllVisible?Vu()(Zv,{onPress:N},void 0,Object(Ze.default)("Play All")):null,e.isShuffleVisible?Vu()(Zv,{onPress:x},void 0,Object(Ze.default)("Shuffle")):null,e.isPlayRadioVisible?Vu()(Zv,{onPress:R},void 0,Object(Ze.default)("Play Radio")):null,e.isPlayArtistTVVisible?Vu()(Zv,{onPress:z},void 0,Object(Ze.default)("Play Artist TV")):null,e.isQueueVisible?Vu()(Zv,{onPress:A},void 0,Object(Ze.default)("Play Next")):null,e.isQueueVisible?Vu()(Zv,{onPress:L},void 0,Object(Ze.default)("Add to Queue")):null,e.isPlayTrailerVisible?Vu()(Zv,{onPress:k},void 0,Object(Ze.default)("Play Trailer")):null,e.isPlayMusicVideoVisible?Vu()(Zv,{onPress:k},void 0,Object(Ze.default)("Play Music Video")):null,e.isAddToWatchlistVisible?Vu()(Zv,{onPress:W},void 0,Object(Ze.default)("Add to Watchlist")):null,e.isRemoveFromWatchlistVisible?Vu()(Zv,{onPress:Q},void 0,Object(Ze.default)("Remove from Watchlist")):null,e.isAddToPlaylistVisible?Vu()(Bse,{label:Object(Ze.default)("Add to Playlist"),onMenuClose:f},void 0,Vu()(zJe,{sourceURI:n.sourceURI,playlistType:BYe(n.type,n.subtype),onAddToPlaylistPress:G,onMenuClose:f,onPlaylistSave:K})):null,e.isAddToSavedVisible?Vu()(Zv,{onPress:F},void 0,nJe(i.identifier,a.saved,n.subtype)):null,e.isRemoveFromSavedVisible?Vu()(Zv,{onPress:H},void 0,nJe(i.identifier,a.saved,n.subtype)):null,e.isAddToPicksVisible?Vu()(Zv,{onPress:U},void 0,a.picked?Object(Ze.default)("Remove from Plex Picks"):Object(Ze.default)("Add to Plex Picks")):null,e.isAddToLibraryVisible?Vu()(_Ze,{onAddToLibrary:V}):null,j?GXe:null,e.isEditVisible?Vu()(Zv,{onPress:Y},void 0,Object(Ze.default)("Edit")):null,e.isSettingsVisible?Vu()(Zv,{onPress:q},void 0,Object(Ze.default)("Settings")):null,e.isMarkPlayedVisible?Vu()(Zv,{onPress:c.onOpen},void 0,Object(Ze.default)("Mark as Played")):null,e.isMarkUnplayedVisible?Vu()(Zv,{onPress:d.onOpen},void 0,Object(Ze.default)("Mark as Unplayed")):null,e.isRefreshVisible?Vu()(Zv,{isDisabled:M,onPress:Z},void 0,Object(Ze.default)("Refresh Metadata")):null,e.isAnalyzeVisible?Vu()(Zv,{isDisabled:D,onPress:J},void 0,Object(Ze.default)("Analyze")):null,e.isFixMatchVisible?Vu()(Zv,{onPress:X},void 0,Object(Ze.default)("Fix Match...")):null,e.isMatchVisible?Vu()(Zv,{onPress:X},void 0,Object(Ze.default)("Match...")):null,e.isUnmatchVisible?Vu()(Zv,{onPress:$},void 0,Object(Ze.default)("Unmatch")):null,e.isSplitApartVisible?Vu()(Zv,{onPress:ee},void 0,Object(Ze.default)("Split Apart")):null,e.isSyncVisible?Vu()(Zv,{onPress:te},void 0,Object(Ze.default)("Sync...")):null,e.isSyncDownloadVisible?Vu()(EXe,{metadataItem:n,onMenuClose:f}):null,e.isRecordVisible?Vu()(Zv,{onPress:m.onOpen},void 0,null==a.grandparentSubscriptionID&&null==a.subscriptionID?Object(Ze.default)("Record"):Object(Ze.default)("Modify Recording")):null,e.isOptimizeVisible?Vu()(Zv,{onPress:ie},void 0,Object(Ze.default)("Optimize...")):null,e.isDownloadFileVisible?Vu()(GZe,{metadataItem:n,downloadIFrameName:"downloadFileFrame",onMenuClose:f,onDownloadVersionPress:ae,onDownloadFilePress:ne}):null,e.isShareVisible?Vu()(Zv,{onPress:se},void 0,Object(Ze.default)("Share")):null,e.isDeleteVisible?Vu()(Zv,{kind:n.remoteMedia?void 0:Op,onPress:re},void 0,n.remoteMedia?Object(Ze.default)("Remove"):Object(Ze.default)("Delete")):null,e.isDeleteVersionVisible?Vu()(Zv,{kind:Op,onPress:oe},void 0,Object(Ze.default)("Delete Version")):null,e.isViewPlayHistoryVisible?Vu()(Zv,{to:QP(t.machineIdentifier,n)},void 0,Object(Ze.default)("View Play History")):null,e.isGetInfoVisible?Vu()(Zv,{onPress:le},void 0,Object(Ze.default)("Get Info")):null)}function YXe({className:e,target:t,isOpen:i,actionsOverride:n,metadataItem:a,allowRedirectOnDelete:s,onMenuClose:r,onMenuCloseComplete:o}){const l=Object(Hu.c)(),[c,d]=Lg(),{metricsPage:u,metricsContextTuple:p}=Object(Zb.d)(),{containerServer:h,containerProvider:m,containerKey:g,containerType:v}=_Ke(),y=rYe(a.sourceURI),f=Object(Hu.d)(IT),b=jJe({server:c,provider:d,stableUser:f,metadataItem:a,metadataItemState:y}),I=Object.assign({},b,n),S=Ffe(),C=QXe(S),M=Ffe(),D=QXe(M),P=Ffe(),O=QXe(P),j=Ffe(),w=QXe(j),T=Ffe(),E=QXe(T),N=Ffe(),x=QXe(N),A=Ffe(),L=QXe(A),k=Ffe(),R=QXe(k),z=YZe({server:c,provider:d,metadataItem:a,metadataItemState:y}),U=TZe({containerServer:h,containerProvider:m,server:c,provider:d,metadataItem:a,metadataItemState:y,metricsPage:u,metricsContextTuple:p}),V=mqe(a),B=FXe(()=>Object.assign({page:u},p),[p,u]),F=BXe(e=>{z(e),r()},[r,z]),H=BXe(e=>{U(e),r()},[r,U]),_=BXe(e=>{var t;V({action:Rd.S}),H(xT.x({confirmOffset:!0,startOffsetMilliseconds:null!=(t=y.viewOffset)?t:0,startMediaIndex:e,options:{containerKey:g,listType:v}})),S.onClose()},[g,v,y.viewOffset,H,S,V]),W=BXe(e=>{V({action:e?Rd.F:Rd.E}),l(Es.actions.playedStatusUpdateRequested({server:c,provider:d,sourceURI:a.sourceURI,ratingKey:a.ratingKey,played:e})),r()},[l,a.ratingKey,a.sourceURI,r,d,c,V]),Q=BXe(()=>{W(!0),M.onClose()},[M,W]),G=BXe(()=>{W(!1),P.onClose()},[P,W]);return Vu()(VXe,{},void 0,Vu()(Qv,{className:e,target:t,isOpen:i,onMenuClose:r,onMenuCloseComplete:o},void 0,Vu()(KXe,{actions:I,server:c,provider:d,metadataItem:a,metadataItemState:y,containerKey:g,containerType:v,allowRedirectOnDelete:s,playVersionModalState:S,confirmMarkPlayedModalState:M,confirmMarkUnplayedModalState:P,settingsModalState:j,addToPlaylistModalState:T,mediaSubscriptionModalState:A,shareModalState:N,watchTogetherModalState:k,onLegacyAction:F,onLegacyPlay:H,onMenuClose:r})),C?Vu()(iJe,{isOpen:S.isOpen,mediaItems:a.Media,onSelect:_,onCancel:S.onClose}):null,D||O?Vu()($se,{isOpen:M.isOpen||P.isOpen,type:a.type,subtype:a.subtype,title:a.title,leafCount:M.isOpen?y.unviewedLeafCount:y.viewedLeafCount,markUnplayed:P.isOpen,onConfirm:M.isOpen?Q:G,onCancel:M.isOpen?M.onClose:P.onClose}):null,E?Vu()(OXe,{isOpen:T.isOpen,defaultPlaylistTitle:a.title,sourceURI:a.sourceURI,defaultDestinationSource:a.source,playlistType:BYe(a.type,a.subtype),onModalClose:T.onClose}):null,x?Vu()(eJe,{metadataItem:a,metadataItemState:y},void 0,({serverEntityID:e,metadataItemEntityID:t})=>Vu()(YJ,{isOpen:N.isOpen,serverEntityID:e,metadataItemEntityID:t,metricsProperties:B,onModalClose:N.onClose})):null,R?Vu()(eJe,{metadataItem:a,metadataItemState:y},void 0,({serverEntityID:e,metadataItemEntityID:t})=>Vu()(Nle,{isOpen:k.isOpen,serverEntityID:e,metadataItemEntityID:t,metricsProperties:{page:u,contextTuple:p},onModalClose:k.onClose})):null,w?Vu()(eJe,{metadataItem:a,metadataItemState:y},void 0,({serverEntityID:e,providerEntityID:t,metadataItemEntityID:i,onMarkStale:n})=>Vu()(Sre,{isOpen:j.isOpen,serverEntityID:e,providerEntityID:t,metadataItemEntityID:i,metricsProperties:B,onModalClose:Cb(n,j.onClose)})):null,L?Vu()(eJe,{metadataItem:a,metadataItemState:y},void 0,({serverEntityID:e,providerEntityID:t,metadataItemEntityID:i,onMarkStale:n})=>{const s=y.grandparentSubscriptionType||y.subscriptionType||a.type;return Vu()(uje,{isOpen:A.isOpen,serverEntityID:e,providerEntityID:t,metadataItemEntityID:i,subscriptionType:s,metricsProperties:B,onModalClose:Cb(n,A.onClose)})}):null,I.isSyncDownloadVisible?Vu()(UXe,{metadataItem:a}):null)}var qXe=i("n3Vr"),ZXe=i.n(qXe);const JXe=Nd.a.createElement;var XXe=Vu()(tX,{});function $Xe(e){let{id:t,className:i,tabIndex:n,isPending:a,onPress:s}=e,r=Xe()(e,["id","className","tabIndex","isPending","onPress"]);return JXe(ev,tp()({id:t,className:i,tabIndex:n,"aria-label":Object(Ze.default)("More Actions"),"aria-haspopup":!0,onPress:a?void 0:s},r),a?Vu()("div",{className:ZXe.a.spinnerContainer},void 0,Vu()(Ip,{size:yp.Small})):XXe)}var e$e=i("lXqf"),t$e=i.n(e$e);const i$e=Nd.a.createElement,{useMemo:n$e}=Nd.a;function a$e(e){let{className:t=t$e.a.selectButton,selectedCircleClassName:i=t$e.a.selectedCircle,rangeCircleClassName:n=t$e.a.rangeCircle,selectCircleClassName:a=t$e.a.unselectedCircle,iconClassName:s=t$e.a.selectedIcon,title:r,isSelected:o,isInSelectionRange:l}=e,c=Xe()(e,["className","selectedCircleClassName","rangeCircleClassName","selectCircleClassName","iconClassName","title","isSelected","isInSelectionRange"]);const d=n$e(()=>o?i:l?n:a,[l,o,n,a,i]);return i$e(ev,tp()({className:t,"aria-label":o?Object(Ze.default)("Deselect {title}",{title:r}):Object(Ze.default)("Select {title}",{title:r})},c),Vu()("div",{className:d,"data-qa-id":"multipleSelectButton"},void 0,o||l?Vu()(ay,{className:s}):null))}var s$e=function(e){return!!Jqe(e)||!!jt.k(e.identifier,jt.f)},r$e=i("K6Cx"),o$e=i.n(r$e);const{Fragment:l$e,useCallback:c$e}=Nd.a;var d$e=Vu()(ewe,{});function u$e({playCircleClassName:e=o$e.a.playCircle,metadataItem:t,metadataItemState:i,isHovered:n,actionsMenuButtonID:a,isActionsPending:s,isActionsVisible:r,isActionsMenuOpen:o,isActionsMenuClosing:l,isSelectHidden:c,isSelected:d,isInSelectionRange:u,isSelectionActive:p,isPlayButtonCard:h,onActionsMenuClose:m,onActionsMenuCloseComplete:g,onActionsMenuToggle:v,onSelectPress:y}){const[f,b]=Lg(),I=Object(Hu.d)(IT),S=cJe({server:f,provider:b,stableUser:I,metadataItem:t,metadataItemState:i})&&(n||o&&!i.isPending),C=IJe({server:f,provider:b,stableUser:I,metadataItem:t,metadataItemState:i}),M=YZe({server:f,provider:b,metadataItem:t,metadataItemState:i}),D=mqe(t),P=c$e(()=>{D({action:Rd.w}),M(tae())},[M,D]);return Vu()(l$e,{},void 0,!p&&r&&S?Vu()(UZe,{className:((h?o$e.a.playCoverButton:o$e.a.playButton)||"")+" "+(!n&&l&&o$e.a.isHidden||""),circleClassName:e,tabIndex:-1,metadataItem:t}):null,s$e(b)&&!t.radio&&!c&&(d||u||r)?Vu()(a$e,{className:(o$e.a.selectButton||"")+" "+(!n&&l&&o$e.a.isHidden||""),isSelected:d,isInSelectionRange:u,title:Kqe(t),tabIndex:-1,onPress:y}):null,!p&&r&&!h&&C?Vu()(ev,{className:(o$e.a.editButton||"")+" "+(!n&&l&&o$e.a.isHidden||""),tabIndex:-1,"aria-label":Object(Ze.default)("Edit"),onPress:P},void 0,d$e):null,p||!r||h?null:Vu()($Xe,{id:a,className:(o$e.a.moreButton||"")+" "+(!n&&l&&o$e.a.isHidden||""),isPending:s,tabIndex:-1,onPress:v}),Vu()(YXe,{target:a,isOpen:o,metadataItem:t,actionsOverride:{isPlayVisible:!1,isEditVisible:!1},onMenuClose:m,onMenuCloseComplete:g}))}var p$e=i("HJi7"),h$e=i.n(p$e);function m$e({className:e=h$e.a.progress,trackClassName:t=h$e.a.track,barClassName:i=h$e.a.bar,style:n,barStyle:a,progress:s}){return Vu()("div",{className:e,style:n},void 0,Vu()("div",{className:t}),Vu()("div",{className:i,style:Object.assign({},a,{transform:"translate3d(-"+(100-s)+"%, 0, 0)"})}))}var g$e=i("v9T8"),v$e=i.n(g$e);function y$e({children:e,className:t=v$e.a.cardCircle}){return Vu()("div",{className:t},void 0,e)}var f$e=i("Y6zh"),b$e=i.n(f$e);function I$e({children:e}){return Vu()("div",{className:b$e.a.statusContainer},void 0,e)}function S$e({children:e}){return Vu()(I$e,{},void 0,Vu()("div",{className:b$e.a.spinnerContainer},void 0,Vu()(Ip,{className:b$e.a.spinner})),Vu()(y$e,{},void 0,e))}function C$e({metadataItemState:e,metadataTimelineState:t}){return t.metadataState===Ns.Matching?Vu()(S$e,{},void 0,Vu()(qte,{"aria-label":Object(Ze.default)("Matching")})):t.metadataState===Ns.Processing||t.metadataState===Ns.Loading?Vu()(S$e,{},void 0,Vu()(lwe,{"aria-label":Object(Ze.default)("Downloading Metadata")})):t.mediaState?Vu()(S$e,{},void 0,Vu()(Xje,{"aria-label":Object(Ze.default)("Analyzing")})):e.deletedAt?Vu()(I$e,{},void 0,Vu()(y$e,{className:b$e.a.trashCircle},void 0,Vu()(dwe,{"aria-label":Object(Ze.default)("In Trash")}))):null}var M$e=i("aYA4"),D$e=i.n(M$e);const P$e=Nd.a.createElement,{Fragment:O$e,memo:j$e,useCallback:w$e,useEffect:T$e,useRef:E$e}=Nd.a,N$e=yv(Tv.slowSpeed);var x$e=Vu()(hC,{}),A$e=Vu()(tZe,{}),L$e=Vu()(oZe,{}),k$e=Vu()(pZe,{}),R$e=Vu()(aZe,{});var z$e=j$e((function({className:e,playCircleClassName:t,metadataItem:i,metadataItemState:n,metadataTimelineState:a,width:s,height:r,aspectRatio:o,displayImageType:l,isPlayButtonCard:c,isPlayedStatusHidden:d,isProgressBarHidden:u,isSelectHidden:p,isSelectionActive:h,isSelected:m,isInSelectionRange:g,onHover:v,onToggleSelect:y}){var f;const[b,I]=Lg(),S=Object(Hu.d)(RKe(wt.q)),{hoverRef:C,isHovered:M,actionsMenuButtonID:D,isActionsPending:P,isActionsVisible:O,isActionsMenuOpen:j,isActionsMenuClosing:w,onActionsMenuClose:T,onActionsMenuCloseComplete:E,onActionsMenuToggle:N}=Gqe({server:b,provider:I,metadataItem:i,metadataItemState:n}),x=hYe(i,"key"),A=c||!x,L=null!=(f=n.viewOffset)?f:0,k=E$e(!1),R=k.current?Tv.slowSpeed:"0s",z=!p&&h,U=o||uYe(i.type,i.subtype);ys("number"==typeof s||"number"==typeof r,"`MetadataPosterCard` requires either a `width` or `height, or both");let V={width:0,height:0};null!=s&&null!=r?V={width:s,height:r}:s?V=pYe({width:s,aspectRatio:U}):r&&(V=pYe({height:r,aspectRatio:U}));const B=w$e(()=>{null==y||y()},[y]);T$e(()=>{null==v||v(M)},[M,v]),T$e(()=>{const e=window.setTimeout(()=>{k.current=!0},N$e);return()=>{window.clearTimeout(e)}},[]);let F="cover";return i.isLiveTVChannel?F="75%":i.type===Na.Game&&(F="contain"),P$e($Ke,{className:e,style:V,ref:C},i.radio?Vu()(vZe,{width:V.width,height:V.height},void 0,x$e):Vu()(tC,{className:D$e.a.image,serverEntityID:b.entityID,providerEntityID:I.entityID,url:Yqe(i,{aspectRatio:U,displayImageType:l}),width:V.width,height:V.height,component:JI,preloadOnMount:!1,animateOnMount:!1,backgroundSize:F}),M||j?null:Vu()(O$e,{},void 0,Vu()(C$e,{metadataItemState:n,metadataTimelineState:a}),Vu()(jZe,{className:D$e.a.topLeftBadge,metadataItem:i,isShadowVisible:!0})),i.userState&&L>0&&!u?Vu()(m$e,{className:D$e.a.progress,style:{opacity:M||j?0:1,animationDuration:R},barClassName:D$e.a.progressBar,barStyle:{animationDuration:R},progress:XI(L,i.duration)}):null,A||z?null:Vu()(IZe,{isHovered:M||j,to:x,"aria-label":Kqe(i)}),z?Vu()(IZe,{className:m?D$e.a.selectedLink:void 0,hoverClassName:m?D$e.a.hoveredSelectedLink:void 0,isHovered:g||M,"aria-label":Kqe(i),onPress:B}):null,Vu()(u$e,{playCircleClassName:t,metadataItem:i,metadataItemState:n,isHovered:M,isActionsPending:P,isActionsVisible:O,actionsMenuButtonID:D,isActionsMenuOpen:j,isActionsMenuClosing:w,isSelectHidden:p,isSelected:m,isInSelectionRange:g,isSelectionActive:z,isPlayButtonCard:A,onActionsMenuClose:T,onActionsMenuCloseComplete:E,onActionsMenuToggle:N,onSelectPress:B}),S&&i.Media.length>1&&Jqe(I)&&!i.isExtra?Vu()("div",{className:D$e.a.topLeftBadge,style:{animationDuration:R}},void 0,A$e):null,i.isPlaylist&&i.smart?Vu()("div",{className:D$e.a.topRightBadge,style:{animationDuration:R}},void 0,L$e):null,S&&!d&&(n.watchlistedAt||Zqe(i,n))?Vu()("div",{className:D$e.a.topRightBadge,style:{animationDuration:R}},void 0,n.watchlistedAt?k$e:R$e):null,!S&&i.Media.length>1&&Jqe(I)&&!i.isExtra?Vu()("div",{className:D$e.a.legacyMultiVersionBadge},void 0,Vu()(rwe,{className:D$e.a.legacyMultiVersionIcon})," ",i.Media.length):null,S||Xqe(I)||qqe(i)||i.type!==Na.Movie&&i.type!==Na.Episode&&(i.type!==Na.Track||i.subtype!==Aa.Podcast)||null!=n.saved&&!n.saved||n.viewOffset||n.viewCount?null:Vu()("div",{className:D$e.a.legacyUnwatchedTagMask},void 0,Vu()("div",{className:D$e.a.legacyUnwatchedTag})),S||Xqe(I)||qqe(i)||i.type!==Na.Show&&i.type!==Na.Season||null!=n.saved&&!n.saved||!n.unviewedLeafCount?null:Vu()("div",{className:D$e.a.legacyUnwatchedEpisodesBadge},void 0,n.unviewedLeafCount))})),U$e=i("ixgb"),V$e=i.n(U$e);function B$e({metadataItem:e,component:t,allowLink:i,isSecondary:n,isDoubleLine:a}){return Vu()(t,{className:((a?V$e.a.doubleLineTitle:V$e.a.singleLineTitle)||"")+" "+(n&&V$e.a.isSecondary||""),allowLink:i,tabIndex:-1,metadataItem:e})}var F$e=i("ZrA+"),H$e=i.n(F$e);const{useMemo:_$e,useState:W$e}=Nd.a;function Q$e(e){var t;let{item:i}=e,n=Xe()(e,["item"]);const{containerType:a,containerSubtype:s,containerMeta:r,listStyle:o}=_Ke(),l=rYe(null==i?void 0:i.sourceURI),c=cYe(null==i?void 0:i.sourceURI),d=W$e(!1),u=d[1],p=d[0],{isSelectionActive:h,isSelected:m,isInSelectionRange:g,onToggleSelect:v}=Fqe({isHovered:p,metadataItem:i,metadataItemState:l}),y=tj(n),f=_$e(()=>{var e,t;return null!=(e=null==i||null==(t=i.Context)?void 0:t.displayImage)?e:Hqe(a,s,null==r?void 0:r.DisplayImage)},[null==r?void 0:r.DisplayImage,s,a,null==i||null==(t=i.Context)?void 0:t.displayImage]),b=_$e(()=>uYe(a,s,{listStyle:o,displayImageType:f}),[s,a,f,o]),I=_$e(()=>pYe({width:n.cellWidth,aspectRatio:b}),[b,n.cellWidth]),S=_$e(()=>{var e;if(!i)return[];const t=i.type!==Na.Collection&&a!==Ha.Mixed;return Mqe(t?a:i.type,t?s:i.subtype,{listStyle:o,displayFieldNames:(null==(e=i.Context)?void 0:e.displayFields)||hRe(i.type,i.subtype,null==r?void 0:r.DisplayFields)})},[s,a,null==r?void 0:r.DisplayFields,o,i]),C=(null==i?void 0:i.type)===Na.Game;return i?Vu()(YKe,{metadataItem:i,metadataItemState:l},void 0,Vu()("div",{style:y.style},void 0,Vu()(z$e,{className:H$e.a.card,metadataItem:i,metadataItemState:l,metadataTimelineState:c,width:I.width,height:I.height,aspectRatio:b,isSelectionActive:h,isSelected:m,isInSelectionRange:g,displayImageType:f,isProgressBarHidden:C,onHover:u,onToggleSelect:v}),S.map((e,t)=>{if(null==e)return null;const n=function(e){return"component"in e?e:{component:e}}(e);return Vu()(B$e,{component:n.component,isSecondary:t>0,isDoubleLine:n.isDoubleLine,allowLink:n.allowLink,metadataItem:i},t)}))):Vu()("div",{style:y.style},void 0,Vu()(iYe,{style:I,index:n.cellIndex}))}function G$e(e,t,i){var n=ls(e),a=null==i?void 0:i.displayFields;if(a){if(e===Ha.Mixed)return a.reduce((e,t)=>Math.max(e,t.fields.length),0);var s=hRe(n,t,a);if(s)return s.length}return Mqe(null!=n?n:e,t,{listStyle:null==i?void 0:i.listStyle}).reduce((e,t)=>null!=t&&function(e){var t;return!!e&&(null!=(t=e.isDoubleLine)&&t)}(t)?e+2:e+1,0)}const K$e=parseInt(BV.v4PagePadding,10),Y$e=parseInt(BV.v4CardTitleHeight,10),q$e=parseInt(BV.v4CardTitleGap,10),Z$e=parseInt(BV.v4CardShadowSize,10),J$e=parseInt(BV.gapMedium,10);function X$e(e){let{listType:t,subtype:i,listStyle:n,displayFields:a,displayImages:s,columnWidth:r}=e,o=Xe()(e,["listType","subtype","listStyle","displayFields","displayImages","columnWidth"]);const l=uYe(t,i,{listStyle:n,displayImageType:Hqe(t,i,s)}),c=o.titleCount?o.titleCount:G$e(t,i,{listStyle:n,displayFields:a});return function(e){var{columnWidth:t,aspectRatio:i,titleHeight:n,innerHorizontalPadding:a}=e,s=Xe()(e,["columnWidth","aspectRatio","titleHeight","innerHorizontalPadding"]);return IO(Object.assign({columnWidth:t,rowHeight:Math.floor(t/i+n),innerHorizontalPadding:a},s))}(Object.assign({columnWidth:l===16/9?2*r+J$e:r,aspectRatio:l,titleHeight:Y$e*c+q$e,innerHorizontalPadding:J$e,outerPaddingTop:Z$e,outerPaddingRight:K$e,outerPaddingBottom:Z$e,outerPaddingLeft:K$e},o))}var $$e=i("yJYc"),e0e=i.n($$e);function t0e({className:e=e0e.a.hubTitle,children:t}){return Vu()("div",{className:e,"data-qa-id":"hubTitle"},void 0,t)}var i0e=i("ob4f"),{useEffect:n0e,useMemo:a0e}=Nd.a;function s0e({hub:e,size:t,totalSize:i,placeholderSize:n,isVisible:a=!0,onPageRequest:s}){var r=!(!e.placeholder||!e.more||t||null!=i),o=a0e(()=>{var e=[];return e.length=n,e},[n]);return n0e(()=>{var t;!a&&r||!e.more||null!=i||(null==s||s({startIndex:null!=(t=e.initialSize)?t:0,size:24}))},[e.initialSize,e.more,r,a,s,i]),{isPlaceholder:r,placeholderItems:o}}var r0e=i("grBd"),o0e=i.n(r0e);const l0e=Nd.a.createElement,{useCallback:c0e,useEffect:d0e,useRef:u0e,useState:p0e}=Nd.a;function h0e({className:e=o0e.a.hub,hubHeaderClassName:t=o0e.a.hubHeader,hub:i,hubTitleComponent:n,keyPropName:a,items:s,totalSize:r,hasError:o,layout:l,cellComponentFactory:c,shouldCenterScrollIndex:d,onHubReady:u,onPageRequest:p}){const{title:h,initialSize:m,random:g}=i,v=u0e(null),y=p0e(!1),f=y[1],b=y[0],I=p0e("auto"),S=I[1],C=I[0],M=p0e(!1),D=M[1],P=M[0],O=p0e(!1),j=O[1],w=O[0],T=p0e(),E=T[1],N=T[0],[x,A]=function(e){const t=Object(i0e.a)(e);return void 0===window.IntersectionObserver?[void 0,!0]:t}({triggerOnce:!0}),L=null==r||g?m:r,k=Math.min(1e4,null!=L?L:0),R={visibility:b?"visible":"hidden"},z={height:C,overflow:"hidden"},U=c0e(e=>{f(!0),S(e.height)},[]),V=c0e(e=>{const{visibleStartIndex:t,visibleEndIndex:i}=e;v.current=e,D(t>0),j(k>i+1)},[k]),B=c0e(()=>{const e=v.current;if(e){const t=e.visibleEndIndex-e.visibleStartIndex;E(Math.max(e.visibleStartIndex-t-1,0))}},[]),F=c0e(()=>{const e=v.current;e&&E(e.visibleEndIndex+1)},[]),{isPlaceholder:H,placeholderItems:_}=s0e({hub:i,size:s.length,totalSize:r,placeholderSize:24,isVisible:A,onPageRequest:p});return d0e(()=>{(0===r||null==r&&o)&&(f(!0),S(0))},[o,r]),d0e(()=>{b&&(null==u||u(i))},[b]),d0e(()=>{null!=N&&E(void 0)},[N]),H||k?l0e("div",{className:e,style:R,ref:x},Vu()("div",{className:t},void 0,n?Vu()(n,{hub:i},void 0,h):Vu()(t0e,{},void 0,h),H||!P&&!w?null:Vu()("div",{className:o0e.a.hubActions},void 0,Vu()(uO,{className:o0e.a.hubScrollButton,iconComponent:yO,isDisabled:!P,title:Object(Ze.default)("Previous Page"),onPress:B}),Vu()(uO,{className:o0e.a.hubScrollButton,iconComponent:mO,isDisabled:!w,title:Object(Ze.default)("Next Page"),onPress:F}))),Vu()("div",{style:z},void 0,Vu()(ZO,{scrollerKey:i.sourceURI,className:o0e.a.hubScroller,keyPropName:a,items:H?_:s,scrollDirection:cp.Horizontal,targetScrollIndex:N,shouldCenterScrollIndex:d,autoScroll:!1,totalSize:H?_.length:k,layout:l,cellComponentFactory:c,onListReady:U,onListUpdate:V,onPageRequest:H||!A?void 0:p}))):null}var m0e=Object(Wu.a)(zg("columnWidthMultiplier"),e=>Math.floor(80*(e-1)+120)),g0e=Object(Wu.a)(Qb,e=>e.metadataLists);let v0e;!function(e){e.ContinueWatching="home.continue",e.VodContinueWatching="movies.continueWatching",e.MergedContinueWatching="continueWatching",e.OnDeck="home.ondeck"}(v0e||(v0e={}));var y0e=Object(Wu.a)(zg("sidebarSettings"),e=>e),f0e=Object(Wu.a)(y0e,e=>e.pinnedSources),b0e=Object(Wu.a)(f0e,e=>e.filter(e=>!e.isHidden));const I0e={type:Qa.ContinueWatching,key:"/hubs?identifier=home.continue,home.ondeck"};var S0e=Object(Wu.a)(b0e,wg,yg,RKe(wt.g),(e,t,i,n)=>{const a=[],s=[];for(let r=0;r<e.length;r++){const{machineIdentifier:o,providerIdentifier:l,directoryID:c}=e[r],d=Object(gs.a)({serverIdentifier:o,providerIdentifier:l}),u=t.find(e=>e.machineIdentifier===o),p=u?Ii({identifier:l,serverEntityID:u.entityID}):void 0,h=p?i[p]:void 0,m=d+"/continueWatching",g=d+"/"+c+"/promoted";let v=h?as(h,Qa.ContinueWatching):void 0;!n&&jt.k(null==h?void 0:h.identifier,jt.d)&&(v=I0e);const y=h?as(h,Qa.Promoted):void 0;if(!(null==h?void 0:h.isPopulated)||v){const e=a.findIndex(e=>e.key===m);if(e>=0){const t=a[e];a[e]=Object.assign({},t,{contentDirectoryID:[...t.contentDirectoryID,c]})}else a.push({key:m,source:d,contentDirectoryID:[c],server:u,provider:h,feature:v})}(null==h?void 0:h.isPopulated)&&!y||s.push({key:g,source:d,contentDirectoryID:[c],server:u,provider:h,feature:y})}return a.concat(s)});var C0e=Object(Wu.a)(S0e,e=>e.filter(e=>{var t;return null!=e.server&&null!=e.provider&&(null==(t=e.feature)?void 0:t.type)===Qa.ContinueWatching})),M0e=Object(Wu.a)(Ay,e=>e.home),D0e=Object(Wu.a)(M0e,e=>e.hubsListsByKey);var P0e=Object(Wu.a)(C0e,D0e,g0e,nYe,(e,t,i,n)=>{const a={};for(let s=0,r=e.length;s<r;s++){const r=e[s],o=t[r.key];if(!(null==o?void 0:o.isPopulated))continue;const l=o.hubs.find(({hubIdentifier:e})=>e!==v0e.OnDeck);if(!l)continue;const c=i[l.sourceURI],d=c.items.map(({sourceURI:e})=>n[e]);a[r.source]={hubsSource:r,hub:l,metadataList:c,metadataListItemState:d}}return a});var O0e=Object(Wu.a)(P0e,e=>{const t=Object.values(e).reduce((e,{metadataList:t,metadataListItemState:i})=>e.concat(t.items.reduce((e,t,n)=>{const a=i[n];return a&&e.push({metadataItem:t,metadataItemState:a}),e},[])),[]);return t.sort((e,t)=>{var i,n,a,s;const r=e.metadataItem,o=t.metadataItem,l=e.metadataItemState,c=t.metadataItemState,d=null!=(i=null!=(n=null==r?void 0:r.includedAt)?n:null==l?void 0:l.lastViewedAt)?i:0;return(null!=(a=null!=(s=null==o?void 0:o.includedAt)?s:null==c?void 0:c.lastViewedAt)?a:0)-d}),t.map(({metadataItem:t})=>{const{hubsSource:i,hub:n}=e[t.source];return{listItemKey:t.sourceURI,hub:n,hubsSource:i,metadataItem:t}})}),j0e=Object(Wu.a)(P0e,e=>Object.values(e).filter(e=>{var{hub:t}=e;return t.isStale}));const w0e=Nd.a.createElement,{Fragment:T0e,memo:E0e,useEffect:N0e,useMemo:x0e}=Nd.a;function A0e(){return Vu()(t0e,{},void 0,Object(Ze.default)("Continue Watching"))}var L0e=Vu()(T0e,{});var k0e=E0e((function({onHomeHubsReady:e}){const t=Object(Hu.c)(),i=Object(Hu.d)(O0e),n=Object(Hu.d)(j0e),a=x0e(()=>({type:Ha.Mixed,more:!1,initialSize:i.length,isStale:!1,size:i.length,key:"",hubIdentifier:"",source:"",sourceURI:"",title:""}),[i]),s=x0e(()=>[{imageType:ns.CoverPoster,type:Ha.Mixed}],[]),r=Object(Hu.d)(m0e),o=x0e(()=>i.reduce((e,t)=>{var i,n,a;return Math.max(e,null!=(i=null==(n=t.hub.Meta)||null==(a=n.DisplayFields)?void 0:a.reduce((e,{fields:t})=>Math.max(e,t.length),0))?i:0)},0),[i]),l=x0e(()=>X$e({listType:Ha.Mixed,listStyle:_a.List,columnWidth:r,titleCount:o}),[r,o]);N0e(()=>{n.forEach(({hub:e,hubsSource:i})=>{t(Ts.actions.throttledRepopulateRangeRequested({server:i.server,provider:i.provider,sourceURI:e.sourceURI}))})},[t,n]),N0e(()=>{i.forEach(({hubsSource:t})=>{e(t.key)})},[i,e]);const c=x0e(()=>e=>{var t,i,n;if(!e.item)return L0e;const{metadataItem:a,hub:r,hubsSource:o}=e.item;return Vu()(Zb.a,{column:e.cellIndex},e.key,Vu()(kg,{machineIdentifier:null==(t=o.server)?void 0:t.machineIdentifier,providerIdentifier:null==(i=o.provider)?void 0:i.identifier},void 0,Vu()(WKe,{containerServer:o.server,containerProvider:o.provider,containerSourceURI:r.sourceURI,containerKey:r.key,containerType:Ha.Mixed,containerMeta:{DisplayFields:null==(n=r.Meta)?void 0:n.DisplayFields,DisplayImage:s},listStyle:_a.Hero},void 0,w0e(Q$e,tp()({},e,{item:a})))))},[s]);return Vu()(h0e,{hub:a,hubTitleComponent:A0e,keyPropName:"listItemKey",items:i,totalSize:i.length,layout:l,cellComponentFactory:c})}));const R0e=Object(Wu.a)(Y4,e=>e.providers);var z0e=Object(Wu.a)(R0e,yg,(e,t)=>e.map(e=>t[e])),U0e=Object(Wu.a)(wg,z0e,(e,t)=>e.some(e=>!e.isCloud&&!e.isUnauthorized)||t.some(e=>e.features.find(e=>e.type===Qa.Content)));const V0e={key:"",contentDirectoryID:[],isPending:!1,isSourceReady:!1,isSourceMissing:!1,isSourceUnavailable:!1,isSourceError:!1,isListPending:!1,isListPopulated:!1,isListEmpty:!1,isListError:!1};var B0e=Object(Wu.a)(e=>e.isWaitingForServers,e=>e.user.isProvidersPopulated,e=>e.user.providersError,M0e,S0e,(e,t,i,n,a)=>a.map(({key:a,server:s,provider:r})=>{if(!s)return Object.assign({},V0e,{key:a,isPending:e,isSourceMissing:!0});const o=Object.assign({},V0e,{key:a,isSourceUnavailable:s.isUnavailable,isSourceError:s.isUnauthorized||!!(null==r?void 0:r.error)});if(r){o.isSourceReady=s.isConnected&&r.isPopulated;const e=n.hubsListsByKey[a];e?(o.contentDirectoryID=Array.from(e.contentDirectoryID),o.isPending=o.isSourceReady&&!e.isPopulated&&!e.error,o.isListPending=e.isPending,o.isListPopulated=e.isPopulated,o.isListError=!!e.error,o.isListEmpty=e.isPopulated&&(!e.hubs.length||e.hubs.every(e=>!e.initialSize&&!e.more))):o.isPending=!o.isSourceUnavailable&&!o.isSourceError}else o.isSourceMissing=!0,s.isConnected?o.isPending=!!s.isCloud&&(!t&&!i):o.isPending=!s.isUnavailable&&!s.isUnauthorized;return o})),F0e=Object(Wu.a)(B0e,e=>{for(var t=[],i=0;e[i];){var n=e[i];if(n.isPending)break;n.isListPopulated&&!n.isListEmpty&&t.push(n.key),i++}return t}),H0e=FS(F0e,e=>e),_0e=Object(Wu.a)(M0e,e=>e.lastFetchedAt),W0e=e=>e.ui.watchTogether.rooms.length>0,Q0e=e=>e.ui.watchTogether.isRoomsPending;var G0e=Object(Wu.a)(S0e,B0e,zg("sidebarSettings"),Q0e,W0e,RKe(wt.g),(e,t,i,n,a,s)=>function(e,t,i,n=!1,a=!1,s=!1){if(ys(e.length===t.length,"hubsSources and hubsStates have differing length"),!i.hasCompletedSetup)return{isPending:!0};let r=0;const o=t.length;if(s)for(let i=0;i<o;i++){var l;const n=t[i];if((null==(l=e[i].feature)?void 0:l.type)!==Qa.ContinueWatching){r=i;break}if(!(n.isListPopulated||n.isListEmpty||n.isListError||n.isSourceUnavailable))return{isPending:!0}}for(let e=r;e<o;e++){const i=t[e];if(i.isListPopulated&&!i.isListEmpty)return{isPopulated:!0};if(i.isPending)return{isPending:!0}}return n?{isPending:!0}:a?{isPopulated:!0}:t.length?t.every(e=>e.isListEmpty)?{isEmpty:!0}:t.some(e=>e.isSourceUnavailable)?{isUnavailable:!0}:{isError:!0}:{hasNoPinnedSources:!0}}(e,t,i,n,a,s)),K0e=i("J4LB"),Y0e=i.n(K0e);const{Fragment:q0e,useMemo:Z0e}=Nd.a;var J0e=Vu()(tf,{separator:""}),X0e=Vu()(tf,{separator:""});function $0e(e){let{item:t}=e,i=Xe()(e,["item"]);const{containerType:n,containerSubtype:a,listStyle:s}=_Ke(),r=rYe(null==t?void 0:t.sourceURI),o=cYe(null==t?void 0:t.sourceURI),l=tj(i),c=Z0e(()=>uYe(n,a,{listStyle:s}),[a,n,s]),d=Z0e(()=>pYe({height:i.cellHeight,aspectRatio:c}),[c,i.cellHeight]);return t?Vu()(YKe,{metadataItem:t,metadataItemState:r},void 0,Vu()("div",{className:Y0e.a.container,style:l.style},void 0,Vu()(z$e,{className:Y0e.a.card,metadataItem:t,metadataItemState:r,metadataTimelineState:o,width:d.width,height:d.height,aspectRatio:c}),Vu()("div",{className:Y0e.a.titlesContainer},void 0,Vu()(mYe,{className:Y0e.a.doubleTitle,metadataItem:t}),Vu()("div",{className:Y0e.a.subtitle},void 0,Vu()(nqe,{metadataItem:t}),t.leafCount?Vu()(q0e,{},void 0,J0e,Vu()(sqe,{metadataItem:t})):null,t.duration?Vu()(q0e,{},void 0,X0e,Vu()(YYe,{metadataItem:t})):null)))):Vu()("div",{className:Y0e.a.container,style:l.style},void 0,Vu()(iYe,{className:Y0e.a.placeholderCard,style:d,index:i.cellIndex}),Vu()("div",{className:Y0e.a.titlesContainer},void 0,Vu()("div",{className:Y0e.a.placeholderTitle}),Vu()("div",{className:Y0e.a.placeholderSubtitle})))}const e1e=parseInt(BV.v4PagePadding,10),t1e=parseInt(BV.v4CardShadowSize,10),i1e=parseInt(BV.gapMedium,10);const n1e=Nd.a.createElement,{useMemo:a1e}=Nd.a;function s1e({hub:e,hubTitleComponent:t,items:i,totalSize:n,hasError:a,onHubReady:s,onPageRequest:r}){const{type:o,subtype:l,style:c=_a.Shelf}=e,d=Object(Hu.d)(m0e),{containerMeta:u}=_Ke(),p=a1e(()=>c===_a.WideShelf?function(e){let{type:t,subtype:i,columnWidth:n}=e,a=Xe()(e,["type","subtype","columnWidth"]);const s=uYe(t,i,{listStyle:_a.WideShelf});return IO(Object.assign({columnWidth:3*n+i1e,rowHeight:Math.floor(n/s),aspectRatio:s,innerHorizontalPadding:i1e,outerPaddingTop:t1e,outerPaddingRight:e1e,outerPaddingBottom:t1e,outerPaddingLeft:e1e},a))}({type:o,subtype:l,columnWidth:d}):X$e({listType:o,subtype:l,listStyle:c,columnWidth:d,displayFields:null==u?void 0:u.DisplayFields,displayImages:null==u?void 0:u.DisplayImage}),[c,o,l,d,null==u?void 0:u.DisplayFields,null==u?void 0:u.DisplayImage]),h=a1e(()=>e=>Vu()(Zb.a,{column:e.cellIndex},e.key,c===_a.WideShelf?n1e($0e,e):n1e(Q$e,e)),[c]);return Vu()(h0e,{hub:e,hubTitleComponent:t,keyPropName:"listItemKey",items:i,totalSize:n,hasError:a,layout:p,cellComponentFactory:h,onHubReady:s,onPageRequest:r})}var r1e=function(e,t,i){return Math.max(Math.min(e,i),t)},{useCallback:o1e,useEffect:l1e,useRef:c1e,useState:d1e}=Nd.a;function u1e(){var e=d1e(!1),t=e[1],i=e[0],n=c1e(void 0),a=c1e(null),s=o1e(e=>{window.clearTimeout(n.current),a.current=e.currentTarget,t(!0)},[]),r=o1e(()=>{n.current=window.setTimeout(()=>{a.current=null,t(!1)})},[]);return l1e(()=>{function e(e){var i=e.currentTarget;t(i instanceof HTMLElement&&i.contains(a.current))}return document.addEventListener("click",e),()=>{document.removeEventListener("click",e)}},[]),[i,s,r]}var p1e=i("0yYQ"),h1e=i.n(p1e);const m1e=Nd.a.createElement,{useMemo:g1e}=Nd.a;function v1e({className:e,src:t}){return Vu()("img",{className:e,src:t})}function y1e({isSelected:e,metadataItem:t}){const[i,n]=Lg(),a=hYe(t,"key"),s=TLe(t.backgroundColor,0),r=TLe(t.backgroundColor,1),[o,l]=bS(),c=g1e(()=>({backgroundColor:r}),[r]),d=g1e(()=>({backgroundImage:"linear-gradient(to left, "+s+", "+r+" 400px)"}),[s,r]);return m1e("div",{className:o?h1e.a.hoveredCard:h1e.a.card,style:c,ref:l},Vu()("div",{className:h1e.a.colorGradient,style:d}),Vu()(tC,{serverEntityID:i.entityID,providerEntityID:n.entityID,className:h1e.a.image,url:t.art,size:IS,component:v1e}),Vu()("div",{className:h1e.a.copyOverlay},void 0,Vu()("div",{className:h1e.a.title},void 0,t.title),Vu()("div",{className:h1e.a.summary},void 0,t.summary),Vu()("div",{className:h1e.a.action},void 0,t.action)),Vu()("div",{className:h1e.a.attributionLogo},void 0,Vu()(xLe,{attributionLogo:t.attributionLogo})),Vu()(ev,{tabIndex:e?void 0:-1,to:a,className:h1e.a.link,title:t.title}))}var f1e=i("tSXP"),b1e=i.n(f1e);const{useCallback:I1e}=Nd.a;function S1e({index:e,selectedIndex:t,metadataItem:i,onPress:n}){const a=I1e(()=>{n(e)},[e,n]);return Vu()(iD,{className:b1e.a.dotButton,title:i.title,onPress:a},void 0,Vu()("span",{className:e===t?b1e.a.dotIsSelected:b1e.a.dot}))}var C1e=i("ycxr"),M1e=i.n(C1e);const D1e=Nd.a.createElement,{useCallback:P1e,useEffect:O1e,useState:j1e}=Nd.a;function w1e(e,t){return t*(e||0)}function T1e({hub:e,items:t,onHubReady:i}){const[n,{width:a}]=Object(Kb.a)(),s=P1e(e=>{p(w1e(a,e))},[a]),r=j1e(0),o=r[1],l=r[0],c=P1e(({scrollLeft:e})=>{o(e)},[]),d=function(e,t,i){return e?r1e(Math.floor((i-e/2)/e)+1,0,t-1):0}(a,t.length,l),u=j1e(),p=u[1],h=u[0],[m,g,v]=u1e(),[y,f]=bS(),b=j1e(0),I=b[1],S=b[0];return O1e(()=>{I(Date.now())},[l]),O1e(()=>{if(l===h)return void p(void 0);const i=Date.now()-S,n=m||y||!e.autoAdvanceDelayMs?null:window.setTimeout(()=>{p(w1e(a,wLe(d+1,t.length)))},i>e.autoAdvanceDelayMs?500:e.autoAdvanceDelayMs-i),s=window.setTimeout(()=>{const e=w1e(a,d);e!==l&&p(e)},1e3);return()=>{n&&window.clearTimeout(n),s&&window.clearTimeout(s)}},[a,e.autoAdvanceDelayMs,m,y,t.length,S,d,l,h]),O1e(()=>{i&&(a||0===t.length)&&i(e)},[t.length,a,e,i]),0===t.length?null:D1e("div",{className:M1e.a.hub,ref:Object(ip.a)(n,f),onFocus:g,onBlur:v},Vu()(up,{className:void 0===h?M1e.a.hubScroller:M1e.a.hubScrollerControlledScroll,scrollDirection:cp.Horizontal,smoothScroll:!0,targetScrollLeft:h,onScrollPositionChange:c},void 0,t.map((e,t)=>Vu()("div",{className:M1e.a.cell},t,Vu()(Zb.a,{column:t},void 0,Vu()(y1e,{isSelected:t===d,metadataItem:e}))))),t.length>1?Vu()("div",{className:M1e.a.dots},void 0,t.map((e,t)=>Vu()(S1e,{metadataItem:e,index:t,selectedIndex:d,onPress:s},t))):null)}var E1e=i("R7A0"),N1e=i.n(E1e);const{useCallback:x1e,useEffect:A1e}=Nd.a;function L1e({hub:e,onHubReady:t}){const[,i]=Lg(),n=hqe({pane:"tidalBanner"}),a=x1e(()=>{n({action:Rd.ob})},[n]);return A1e(()=>{null==t||t(e)},[e,t]),jt.k(i.identifier,jt.f)?Vu()("div",{className:N1e.a.container},void 0,Vu()("div",{className:N1e.a.text},void 0,Vu()("div",{className:N1e.a.logo,"aria-label":"Tidal"}),Vu()("div",{className:N1e.a.body},void 0,Object(Ze.default)("Preview 60 million streaming tracks, thousands of music videos and more.")),Vu()(ev,{to:Vp,className:N1e.a.link,target:"_blank",rel:"noopener noreferrer",onPress:a},void 0,Object(Ze.default)("Learn more at plex.tv")))):null}var k1e=function(e){return Object(Wu.a)(Qb,t=>t.metadataLists[e])};const{useCallback:R1e,useEffect:z1e,useMemo:U1e}=Nd.a;function V1e({hub:e,hubTitleComponent:t,onHubReady:i}){const{sourceURI:n,key:a,type:s,subtype:r,random:o,Meta:l,style:c=_a.Shelf,isStale:d}=e,u=Object(Hu.c)(),[p,h]=Lg(),m=U1e(()=>k1e(n),[n]),g=Object(Hu.d)(m);z1e(()=>{d&&!o&&u(Ts.actions.throttledRepopulateRangeRequested({server:p,provider:h,sourceURI:n}))},[u,d,h,o,p,n]);const v=R1e(e=>{u(Ts.actions.fetchRangeRequested(Object.assign({},e,{server:p,provider:h,sourceURI:n})))},[u,h,p,n]),y=function(e){switch(e){case _a.Spotlight:return T1e;case _a.Upsell:return L1e}return s1e}(c);return Vu()(WKe,{containerServer:p,containerProvider:h,containerSourceURI:g.sourceURI,containerKey:a,containerType:s,containerSubtype:r,containerMeta:l,listStyle:c},void 0,Vu()(kqe,{items:g.items},void 0,Vu()(y,{hub:e,hubTitleComponent:t,items:g.items,totalSize:g.totalSize,hasError:!!g.error,onHubReady:i,onPageRequest:v})))}const{useCallback:B1e,useRef:F1e,useState:H1e}=Nd.a,_1e={opacity:0,pointerEvents:"none"},W1e={opacity:1,pointerEvents:"auto"};function Q1e({className:e,hubs:t,hubComponent:i,hubTitleComponent:n,metricsRowOffset:a=0,onHubsReady:s}){const r=F1e(new Set),o=H1e(!1),l=o[1],c=o[0],d=B1e(e=>{const i=r.current;i.add(e.hubIdentifier),t.every(e=>i.has(e.hubIdentifier))&&(l(!0),null==s||s())},[t,s]);let u=a;return Vu()("div",{className:e,style:c?W1e:_1e},void 0,t.map((e,t)=>Vu()(Zb.a,{name:e.context,row:e.initialSize||e.more?u++:void 0},t,Vu()(i,{hub:e,hubTitleComponent:n,onHubReady:d}))))}var G1e=Object(vg.a)(e=>Object(Wu.a)(D0e,RKe(wt.g),(t,i)=>{var n=t[e];return Object.assign({},n,{hubs:i?n.hubs.filter(e=>e.hubIdentifier!==v0e.VodContinueWatching&&e.hubIdentifier!==v0e.MergedContinueWatching&&e.hubIdentifier!==v0e.ContinueWatching):n.hubs})}));var K1e=Object(vg.a)((function(e){return Object(Wu.a)(D0e,H0e,(t,i)=>{var n=i.indexOf(e);return i.slice(0,-1===n?i.length:n).reduce((e,i)=>t[i].hubs.reduce((e,{initialSize:t,more:i,hubIdentifier:n})=>n.includes("home.continue")?e:e+(t||i?1:0),e),0)})}));let Y1e;!function(e){e.Plex="com.plex",e.Tidal="com.tidal",e.WatchTogether="com.watchtogether"}(Y1e||(Y1e={}));const q1e={[Y1e.Tidal]:lS,[Y1e.WatchTogether]:dS};function Z1e({className:e,attribution:t}){const i=q1e[t];return i?Vu()(i,{className:e}):null}var J1e=i("GP3F"),X1e=i.n(J1e);function $1e({children:e,hub:t}){return Vu()(t0e,{},void 0,t.attribution?Vu()(Z1e,{className:X1e.a.attribution,attribution:t.attribution}):null,e)}const e2e=Object(Wu.a)(S0e,e=>{const t={},i=e.reduce((e,{server:i})=>{if(!i||t[i.machineIdentifier])return e;const{machineIdentifier:n,sourceTitle:a,isFullOwnedServer:s}=i;return t[n]=!0,s?e.numOwnedServers++:a&&(e.numSharedServers++,e.byOwner[a]?e.byOwner[a]++:e.byOwner[a]=1),e},{numSharedServers:0,numOwnedServers:0,byOwner:{}});return e.reduce((e,{source:t,server:n,provider:a})=>{if(!n)return e;const{friendlyName:s,sourceTitle:r,isCloud:o,isFullOwnedServer:l}=n;return o&&a?a.sourceTitle&&(i.numOwnedServers||i.numSharedServers)?e[t]=a.title+" ("+a.sourceTitle+")":e[t]=a.title:r&&(i.numOwnedServers||i.numSharedServers>1)?1===i.byOwner[r]?e[t]=r:e[t]=r+" ("+s+")":l&&i.numOwnedServers>1&&(e[t]=s),e},{})});var t2e=FS(e2e,e=>e),i2e=Object(vg.a)(e=>Object(Wu.a)(t2e,t=>t[e])),n2e=i("pmMa"),a2e=i.n(n2e),s2e=Vu()(tf,{});function r2e({children:e,hub:t}){const{metricsContextTuple:i}=Object(Zb.d)(),n=Object(Hu.d)(i2e(t.source)),a=jLe(t.source,{key:t.key,title:t.title,pageType:Ya.List,context:Object(Zb.b)(i)});return Vu()($1e,{hub:t},void 0,Vu()(ev,{to:a},void 0,e),n?Vu()("span",{className:a2e.a.sourceTitle},void 0,s2e,n):null)}const{memo:o2e,useCallback:l2e}=Nd.a;var c2e=o2e((function({hubsSource:e,onHomeHubsReady:t}){var i,n;const a=Object(Hu.d)(G1e(e.key)),s=Object(Hu.d)(K1e(e.key)),r=l2e(()=>{t(e.key)},[e.key,t]);return e.server&&e.provider?Vu()(kg,{machineIdentifier:null==(i=e.server)?void 0:i.machineIdentifier,providerIdentifier:null==(n=e.provider)?void 0:n.identifier},e.key,Vu()(Q1e,{hubs:a.hubs,hubComponent:V1e,hubTitleComponent:r2e,metricsRowOffset:s,onHubsReady:r})):null}));const{useCallback:d2e,useEffect:u2e,useState:p2e}=Nd.a;function h2e({className:e}){const t=Object(Hu.c)(),i=Object(Hu.d)(zg("columnWidthMultiplier")),n=p2e(i),a=n[1],s=n[0],r=d2e(({positionValue:e})=>{a(e)},[]);return u2e(()=>{const e=Math.round(10*s)/10;let n;return s!==i&&(n=window.setTimeout(()=>{t(Object(Qu.l)({columnWidthMultiplier:e}))},100)),()=>window.clearTimeout(n)},[i,t,s]),Vu()(nF,{className:e,label:Object(Ze.default)("Poster Size"),value:s,min:1,max:2,onChange:r})}function m2e(e){var t=e["aria-label"],i=e.className,n=e.style,a={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-toolbar-column-560"};a["aria-hidden"]=!t,a.style=n,a.className=Ad.a.plexIcon+(i?" "+i:"");var s=[Nd.a.createElement.apply(Nd.a,["path",{d:"m504 504h-448v-44.8h448v44.8m-448-156.8h448v44.8h-448v-44.8m448-112v44.8h-448v-44.8h448m0-67.2h-448v-112h448v112"}].concat([]))];return t&&s.unshift(Nd.a.createElement("title",null,t)),Nd.a.createElement.apply(Nd.a,["svg",a].concat(s))}m2e.propTypes={"aria-label":vc.a.string,className:vc.a.string,style:vc.a.object};var g2e=m2e;function v2e(e){var t=e["aria-label"],i=e.className,n=e.style,a={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-toolbar-detail-560"};a["aria-hidden"]=!t,a.style=n,a.className=Ad.a.plexIcon+(i?" "+i:"");var s=[Nd.a.createElement.apply(Nd.a,["path",{d:"m56 168h112v-112h-112v112m0 168h112v-112h-112v112m0 168h112v-112h-112v112m168-369.6h280v-44.8h-280v44.8m0 168h280v-44.8h-280v44.8m0 168h280v-44.8h-280v44.8"}].concat([]))];return t&&s.unshift(Nd.a.createElement("title",null,t)),Nd.a.createElement.apply(Nd.a,["svg",a].concat(s))}v2e.propTypes={"aria-label":vc.a.string,className:vc.a.string,style:vc.a.object};var y2e=v2e;function f2e(e){var t=e["aria-label"],i=e.className,n=e.style,a={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-toolbar-grid-560"};a["aria-hidden"]=!t,a.style=n,a.className=Ad.a.plexIcon+(i?" "+i:"");var s=[Nd.a.createElement.apply(Nd.a,["path",{d:"m56 392l112 0 0 112-112 0 0-112m168 0l112 0 0 112-112 0 0-112m280 0l0 112-112 0 0-112 112 0m-448-168l112 0 0 112-112 0 0-112m168 0l112 0 0 112-112 0 0-112m168 0l112 0 0 112-112 0 0-112m-336-168l112 0 0 112-112 0 0-112m336 0l112 0 0 112-112 0 0-112m-168 0l112 0 0 112-112 0 0-112"}].concat([]))];return t&&s.unshift(Nd.a.createElement("title",null,t)),Nd.a.createElement.apply(Nd.a,["svg",a].concat(s))}f2e.propTypes={"aria-label":vc.a.string,className:vc.a.string,style:vc.a.object};var b2e=f2e,I2e=i("7MQH"),S2e=i.n(I2e);const{useCallback:C2e}=Nd.a;function M2e({listStyles:e,selectedListStyle:t,onListStyleSelect:i}){const n=Ffe(),a=cy(),s=C2e(e=>{n.onClose(),null==i||i(e)},[n,i]),r=e.length>1,o=t===_a.Grid||t===_a.PrePlayGrid,l=function(e){switch(e){case _a.Details:case _a.SimpleDetails:return y2e;case _a.Table:return g2e;default:return b2e}}(t);return o||r?Vu()("div",{className:S2e.a.stylesContainer},void 0,o?Vu()(h2e,{className:S2e.a.slider}):null,Vu()(ev,{id:a,"data-qa-id":"toolbarView",className:r?S2e.a.stylesButtonWithArrow:S2e.a.stylesButton,"aria-label":Object(Ze.default)("Show List Styles"),isDisabled:!r,onPress:n.onToggle},void 0,Vu()(l,{className:S2e.a.stylesIcon}),r?Vu()(fy,{direction:n.isOpen?hy:my}):null),r?Vu()(Qv,{target:a,isOpen:n.isOpen,onMenuClose:n.onClose},void 0,e.map(e=>{const i=function(e){switch(e){case _a.Grid:case _a.PrePlayGrid:return Object(Ze.default)("Grid View");case _a.Details:case _a.SimpleDetails:return Object(Ze.default)("Detail View");case _a.Table:return Object(Ze.default)("Table View");default:return}}(e);return i?Vu()(oy,{isSelected:t===e,title:i,value:e,onSelect:s},e,i):null})):null):null}var D2e=i("5Uxk"),P2e=i("X4XD"),O2e=i.n(P2e);const j2e=Nd.a.createElement,{Fragment:w2e}=Nd.a;function T2e(e){let{isLabeled:t,className:i=(t?O2e.a.labeledActionButton:O2e.a.iconActionButton),iconClassName:n=O2e.a.icon,tooltipClassName:a=O2e.a.tooltip,kind:s,icon:r,tooltipAttachment:o=Mb,title:l}=e,c=Xe()(e,["isLabeled","className","iconClassName","tooltipClassName","kind","icon","tooltipAttachment","title"]);return t?j2e(iD,tp()({className:i,kind:s},c),r?Vu()(w2e,{},void 0,Vu()(r,{className:n})," "):null,l):j2e(Wb,tp()({className:i,tooltipClassName:a,component:iD,tooltip:l,tooltipAttachment:o},c),r?Vu()(r,{className:n}):null)}var E2e=Object(Wu.a)(Dqe,e=>!!e.count);var N2e=function(e){return e.count?Object.keys(e.items).map(t=>e.items[t]):[]},x2e=Og(Object(Wu.a)(Dqe,nYe,yg,Ku,e=>e.servers,bg("providers"),(e,t,i,n,a,s)=>{var r=N2e(e);return r.length?r.map(e=>{var r,{serverIdentifier:o,providerIdentifier:l}=Object(sr.a)(e.source),c=a.find(e=>{var t=n[e];return!!t&&t.machineIdentifier===o}),d=c?n[c]:Sg,u=(d.isCloud?s:d.providers).find(e=>i[e].identifier===l),p=u?i[u]:Ig;return{metadataItem:e,metadataItemState:null!=(r=t[e.sourceURI])?r:{tempState:{},isStale:!1,isPending:!1,isPopulated:!1,error:null},server:jg(d),provider:p}}):[]}),e=>e),A2e=i("yfFC");function L2e(e){if(!e.length)return!1;var[{metadataItem:t}]=e;return e.every(({metadataItem:e})=>t.type===e.type&&t.subtype===e.subtype)}function k2e(e){if(!e.length)return!1;var[{server:t,provider:i}]=e;return e.every(({server:e,provider:n})=>e.machineIdentifier===t.machineIdentifier&&n.identifier===i.identifier)}function R2e(e,t){return e.every(({server:e,provider:i,metadataItem:n,metadataItemState:a})=>bJe({server:e,provider:i,stableUser:t,metadataItem:n,metadataItemState:a})||fJe({server:e,provider:i,stableUser:t,metadataItem:n,metadataItemState:a}))}function z2e(e,t){return!!e.length&&(!!L2e(e)&&W2e(e,t,IJe))}var U2e=[Na.Movie,Na.Show,Na.Season,Na.Artist,Na.Album];function V2e(e,t){if(e.length<2)return!1;if(!z2e(e,t))return!1;if(!L2e(e))return!1;if(!k2e(e))return!1;var[{metadataItem:i}]=e;return U2e.includes(i.type)}function B2e(e,t){if(!e.length)return!1;if(!k2e(e))return!1;var[{provider:i}]=e;if(!Jqe(i))return!1;var n=e.reduce((e,{metadataItem:t})=>{var i=function(e){var{type:t,subtype:i,playlistType:n}=e;switch(i){case Aa.Photo:switch(t){case Na.Clip:return A2e.a.Photo}}switch(TJe(t,i)||t){case Na.Playlist:if(!n)throw new Error("playlistType missing from playlist metadataItem");switch(n){case ka.Audio:case ka.Video:return A2e.a.AudioVideo;case ka.Photo:return A2e.a.Photo}break;case Na.Track:return A2e.a.AudioVideo;case Na.Episode:case Na.Movie:case Na.Clip:return A2e.a.AudioVideo;case Na.Photo:return A2e.a.Photo;case Na.Game:return A2e.a.Rom}throw new Error("No known player type for "+t)}(t);return e.includes(i)||e.push(i),e},[]);return!n.includes(A2e.a.Rom)&&(!(n.length>1&&n.includes(A2e.a.Photo))&&H2e(e,t,cJe))}function F2e(e,t){if(!e.length)return!1;var[{metadataItem:i}]=e;if(e.some(({metadataItem:e})=>e.type===Na.Playlist))return!1;var n=BYe(i.type,i.subtype);return!!e.every(({metadataItem:e})=>n===BYe(e.type,e.subtype))&&(!!k2e(e)&&W2e(e,t,uJe))}function H2e(e,t,i){return!!e.length&&e.every(e=>i(Object.assign({},e,{stableUser:t})))}function _2e(e,t,i){return!!e.length&&e.some(e=>i(Object.assign({},e,{stableUser:t})))}function W2e(e,t,i){return!!e.length&&(!!k2e(e)&&H2e(e,t,i))}var Q2e=function(e,t){return{isAddToLibraryVisible:H2e(e,t,mJe),isAddToPlaylistVisible:F2e(e,t),isAnalyzeVisible:H2e(e,t,CJe),isDeleteVisible:H2e(e,t,PJe),isEditVisible:z2e(e,t),isMarkPlayedOrUnplayedVisible:R2e(e,t),isMarkPlayedVisible:_2e(e,t,fJe),isMarkUnplayedVisible:_2e(e,t,bJe),isMergeVisible:V2e(e,t),isOptimizeVisible:H2e(e,t,DJe),isPlayVisible:B2e(e,t),isRefreshVisible:H2e(e,t,SJe)}},G2e=i("ZrFe"),K2e=i.n(G2e);const Y2e=Nd.a.createElement;function q2e(e){return Y2e("div",e)}q2e.defaultProps={className:K2e.a.pageHeader};var Z2e=q2e;function J2e(e){var t=e["aria-label"],i=e.className,n=e.style,a={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-toolbar-edit-560"};a["aria-hidden"]=!t,a.style=n,a.className=Ad.a.plexIcon+(i?" "+i:"");var s=[Nd.a.createElement.apply(Nd.a,["path",{d:"m56 504l28-84 56 56-84 28m392-448l-336 336 56 56 336-336-56-56"}].concat([]))];return t&&s.unshift(Nd.a.createElement("title",null,t)),Nd.a.createElement.apply(Nd.a,["svg",a].concat(s))}J2e.propTypes={"aria-label":vc.a.string,className:vc.a.string,style:vc.a.object};var X2e=J2e;function $2e(e){var t=e["aria-label"],i=e.className,n=e.style,a={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",id:"plex-icon-toolbar-mark-played-560"};a["aria-hidden"]=!t,a.style=n,a.className=Ad.a.plexIcon+(i?" "+i:"");var s=[Nd.a.createElement.apply(Nd.a,["path",{d:"M24 44.4C12.7333 44.4 3.59998 35.2666 3.59998 24C3.59998 12.7333 12.7333 3.59998 24 3.59998C35.2666 3.59998 44.4 12.7333 44.4 24C44.4 35.2666 35.2666 44.4 24 44.4ZM24 40.8C33.2784 40.8 40.8 33.2784 40.8 24C40.8 14.7216 33.2784 7.19998 24 7.19998C14.7216 7.19998 7.19998 14.7216 7.19998 24C7.19998 33.2784 14.7216 40.8 24 40.8ZM22.9177 33.9317L13.5646 28.5317L15.3646 25.414L21.6 29.014L30 14.4648L33.1177 16.2648L22.9177 33.9317Z"}].concat([]))];return t&&s.unshift(Nd.a.createElement("title",null,t)),Nd.a.createElement.apply(Nd.a,["svg",a].concat(s))}$2e.propTypes={"aria-label":vc.a.string,className:vc.a.string,style:vc.a.object};var e4e=$2e;function t4e(e){var t=e["aria-label"],i=e.className,n=e.style,a={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",id:"plex-icon-toolbar-mark-unplayed-560"};a["aria-hidden"]=!t,a.style=n,a.className=Ad.a.plexIcon+(i?" "+i:"");var s=[Nd.a.createElement.apply(Nd.a,["path",{clipRule:"evenodd",d:"M24 44.4C12.7333 44.4 3.59998 35.2666 3.59998 24C3.59998 12.7333 12.7333 3.59998 24 3.59998C35.2666 3.59998 44.4 12.7333 44.4 24C44.4 35.2666 35.2666 44.4 24 44.4ZM15.3646 25.414L13.5646 28.5317L22.9176 33.9317L33.1176 16.2648L30 14.4648L21.5999 29.014L15.3646 25.414Z"}].concat([]))];return t&&s.unshift(Nd.a.createElement("title",null,t)),Nd.a.createElement.apply(Nd.a,["svg",a].concat(s))}t4e.propTypes={"aria-label":vc.a.string,className:vc.a.string,style:vc.a.object};var i4e=t4e;function n4e(e){var t=e["aria-label"],i=e.className,n=e.style,a={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-toolbar-more-560"};a["aria-hidden"]=!t,a.style=n,a.className=Ad.a.plexIcon+(i?" "+i:"");var s=[Nd.a.createElement.apply(Nd.a,["path",{d:"m168 280c0 30.897-25.103 56-56 56-30.896 0-56-25.103-56-56 0-30.897 25.104-56 56-56 31.862.965 56 25.103 56 56m112-56c-30.897 0-56 25.103-56 56 0 30.897 25.103 56 56 56 30.897 0 56-25.103 56-56 0-30.897-25.103-56-56-56m168 0c-30.897 0-56 25.103-56 56 0 30.897 25.103 56 56 56 30.897 0 56-25.103 56-56 0-30.897-25.103-56-56-56"}].concat([]))];return t&&s.unshift(Nd.a.createElement("title",null,t)),Nd.a.createElement.apply(Nd.a,["svg",a].concat(s))}n4e.propTypes={"aria-label":vc.a.string,className:vc.a.string,style:vc.a.object};var a4e=n4e;function s4e(e){var t=e["aria-label"],i=e.className,n=e.style,a={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-toolbar-play-560"};a["aria-hidden"]=!t,a.style=n,a.className=Ad.a.plexIcon+(i?" "+i:"");var s=[Nd.a.createElement.apply(Nd.a,["path",{d:"m112 504l0-448 392 224-392 224"}].concat([]))];return t&&s.unshift(Nd.a.createElement("title",null,t)),Nd.a.createElement.apply(Nd.a,["svg",a].concat(s))}s4e.propTypes={"aria-label":vc.a.string,className:vc.a.string,style:vc.a.object};var r4e=s4e,o4e=i("btL4"),l4e=i.n(o4e);const{Fragment:c4e,useCallback:d4e,useEffect:u4e,useMemo:p4e}=Nd.a;function h4e(e){const[t,...i]=e;if(1===e.length)return t.sourceURI;ys(e.every(e=>e.source===t.source),"AddToPlaylistModal may only be used with same source items");const n=i.map(e=>e.ratingKey);return t.sourceURI+","+n.join(",")}function m4e(e){return 1===e?Object(Ze.default)("Are you sure you want to mark this item as unplayed?"):Object(Ze.default)("Are you sure you want to mark these {selectedItemsCount} items as unplayed?",{selectedItemsCount:e})}function g4e(e,t){const i=1===e;return t?i?Object(Ze.default)("Are you sure you want to remove this item?"):Object(Ze.default)("Are you sure you want to remove these {selectedItemsCount} items?",{selectedItemsCount:e}):i?Object(Ze.default)("Are you sure you want to delete this item from your filesystem?"):Object(Ze.default)("Are you sure you want to delete these {selectedItemsCount} items from your filesystem?",{selectedItemsCount:e})}const v4e=["isPlayVisible","isMarkPlayedOrUnplayedVisible","isMarkPlayedVisible","isMarkUnplayedVisible","isAddToPlaylistVisible","isEditVisible"];function y4e({className:e=l4e.a.container}){const t=Object(Hu.c)(),i=Object(Hu.d)(Dqe),n=Object(Hu.d)(x2e),a=Object(Hu.d)(IT),s=Object(Hu.d)(E2e),r=Q2e(n,a),o=p4e(()=>n.map(({metadataItem:e})=>e),[n]),l=hqe({mode:"multiselect",type:p4e(()=>{const e=n.map(({metadataItem:e})=>e.type);return e.filter((t,i)=>e.indexOf(t)===i).sort().join(",")},[n]),itemCount:n.length}),c=i.count,d=Ffe(),u=Ffe(),p=cy(),h=Ffe(),m=Ffe(),g=cy(),v=d4e(()=>{t(Er.actions.reset())},[t]),y=d4e(()=>{l({action:Rd.M}),t(ZN({legacyAction:ax({serverEntityID:n[0].server.entityID,providerEntityID:n[0].provider.entityID}),items:n})),v()},[t,n,v,l]),f=d4e(()=>{l({action:Rd.gb}),t(ZN({legacyAction:mx({serverEntityID:n[0].server.entityID,providerEntityID:n[0].provider.entityID}),items:n})),v()},[t,n,v,l]),b=d4e(()=>{l({action:Rd.P}),t(ZN({legacyAction:fx({serverEntityID:n[0].server.entityID,providerEntityID:n[0].provider.entityID}),items:n})),h.onClose(),v()},[t,h,n,v,l]),I=d4e(()=>{l({action:Rd.d}),t(ZN({legacyAction:yx({serverEntityID:n[0].server.entityID,providerEntityID:n[0].provider.entityID}),items:n})),h.onClose(),v()},[t,h,n,v,l]),S=d4e(()=>{l({action:Rd.c}),v()},[v,l]),C=d4e(()=>{l({action:Rd.w}),t(ZN({legacyAction:ox(),items:n})),v()},[t,n,v,l]),M=d4e(()=>{l({action:Rd.I}),t(ZN({legacyAction:ux(),items:n})),h.onClose(),v()},[t,h,n,v,l]),D=d4e(()=>{l({action:Rd.p}),t(ZN({legacyAction:hx({options:{skipRedirect:!0}}),items:n})),v()},[t,n,v,l]),P=d4e(()=>{l({action:Rd.h}),t(ZN({legacyAction:cx(),items:n})),h.onClose(),v()},[t,h,n,v,l]),O=d4e(()=>{l({action:Rd.G}),t(ZN({legacyAction:px(),items:n})),h.onClose(),v()},[t,h,n,v,l]),j=d4e(()=>{l({action:Rd.V}),t(ZN({legacyAction:lx(),items:n})),h.onClose(),v()},[t,h,n,v,l]),w=d4e(()=>{const e=r.isMarkPlayedVisible;l({action:e?Rd.F:Rd.E}),n.forEach(({metadataItem:i,server:n,provider:a})=>{t(Es.actions.playedStatusUpdateRequested({server:n,provider:a,sourceURI:i.sourceURI,ratingKey:i.ratingKey,played:e}))}),v()},[t,r.isMarkPlayedVisible,n,v,l]),T=d4e(({targetServer:e,targetProvider:i,targetLibrarySectionID:a,targetLibraryType:s})=>{l({action:Rd.b}),n.forEach(({metadataItem:n,server:r,provider:o})=>{t(Es.actions.addToLibraryRequested({targetServer:e,targetProvider:i,targetLibrarySectionID:a,targetLibraryType:s,server:r,provider:o,metadataItem:n}))}),v()},[t,n,v,l]),E=d4e(()=>{l({action:Rd.c}),m.onOpen()},[m,l]),N=d4e(()=>{t(Er.actions.reset())},[t]);if(u4e(()=>()=>{v()},[v]),!s)return null;const x=os(r).every(([e,t])=>"isMarkPlayedVisible"===e||"isMarkUnplayedVisible"===e||!t),A=os(r).some(([e,t])=>!v4e.includes(e)&&t),L=n.every(({metadataItem:e})=>e.remoteMedia);return Vu()(Z2e,{className:e},void 0,Vu()("div",{className:l4e.a.count},void 0,Vu()(ay,{className:l4e.a.icon}),Object(Ze.default)("{count} items selected",{count:c})),x?Vu()("div",{className:l4e.a.actions},void 0,Object(Ze.default)("No actions available for this selection")):Vu()("div",{className:l4e.a.actions},void 0,r.isPlayVisible?Vu()(T2e,{className:l4e.a.button,title:Object(Ze.default)("Play"),icon:r4e,onPress:y}):null,r.isMarkPlayedOrUnplayedVisible?Vu()(T2e,{className:l4e.a.button,title:r.isMarkPlayedVisible?Object(Ze.default)("Mark as Played"):Object(Ze.default)("Mark as Unplayed"),icon:r.isMarkPlayedVisible?e4e:i4e,onPress:d.onOpen}):null,r.isAddToPlaylistVisible?Vu()(c4e,{},void 0,Vu()(T2e,{id:g,icon:oAe,title:Object(Ze.default)("Add to Playlist"),onPress:E}),Vu()(OXe,{isOpen:m.isOpen,playlistType:BYe(o[0].type,o[0].subtype),sourceURI:h4e(o),defaultDestinationSource:o[0].source,defaultPlaylistTitle:Object(D2e.a)(o.map(({title:e})=>e)),isDestinationMenuHidden:!0,onModalClose:m.onClose,onPlaylistSave:S})):null,r.isEditVisible?Vu()(T2e,{className:l4e.a.button,title:Object(Ze.default)("Edit"),icon:X2e,onPress:C}):null,A?Vu()(T2e,{id:p,className:l4e.a.button,title:Object(Ze.default)("More"),icon:a4e,onPress:h.onToggle}):null,Vu()(F_,{isOpen:d.isOpen,metricsPage:r.isMarkPlayedVisible?zd.t:zd.s,title:r.isMarkPlayedVisible?Object(Ze.default)("Mark as Played"):Object(Ze.default)("Mark as Unplayed"),message:r.isMarkPlayedVisible?(k=n.length,1===k?Object(Ze.default)("Are you sure you want to mark this item as played?"):Object(Ze.default)("Are you sure you want to mark these {selectedItemsCount} items as played?",{selectedItemsCount:k})):m4e(n.length),onConfirm:w,onCancel:d.onClose}),Vu()(Qv,{target:p,isOpen:h.isOpen,onMenuClose:h.onClose},void 0,r.isPlayVisible?Vu()(Zv,{onPress:f},void 0,Object(Ze.default)("Shuffle")):null,r.isPlayVisible?Vu()(Zv,{onPress:b},void 0,Object(Ze.default)("Play Next")):null,r.isPlayVisible?Vu()(Zv,{onPress:I},void 0,Object(Ze.default)("Add to Queue")):null,r.isRefreshVisible?Vu()(Zv,{onPress:j},void 0,Object(Ze.default)("Refresh Metadata")):null,r.isAnalyzeVisible?Vu()(Zv,{onPress:P},void 0,Object(Ze.default)("Analyze")):null,r.isOptimizeVisible?Vu()(Zv,{onPress:M},void 0,Object(Ze.default)("Optimize...")):null,r.isMergeVisible?Vu()(Zv,{onPress:O},void 0,Object(Ze.default)("Merge")):null,r.isAddToLibraryVisible?Vu()(_Ze,{onAddToLibrary:T}):null,r.isDeleteVisible?Vu()(Zv,{kind:L?Qg.Default:Qg.Danger,onPress:Cb(u.onOpen,h.onClose)},void 0,L?Object(Ze.default)("Remove"):Object(Ze.default)("Delete")):null),Vu()(F_,{isOpen:u.isOpen,metricsPage:zd.k,title:L?Object(Ze.default)("Remove"):Object(Ze.default)("Delete"),message:g4e(c,L),onConfirm:D,onCancel:u.onClose})),Vu()("div",{className:l4e.a.deselect},void 0,Vu()(ev,{onPress:N},void 0,Vu()(NI,{className:l4e.a.icon}),Object(Ze.default)("Deselect All"))));var k}var f4e=i("ovLB"),b4e=i.n(f4e);function I4e({className:e}){return Vu()("div",{className:e})}I4e.defaultProps={className:b4e.a.pageHeaderDivider};var S4e=I4e,C4e=i("ce/m"),M4e=i.n(C4e);var D4e=function({children:e}){return Vu()("div",{className:M4e.a.container},void 0,e)};const P4e=Nd.a.createElement;var O4e=Vu()(X2e,{});var j4e=function(e){return P4e(D$,tp()({tooltip:Object(Ze.default)("Edit"),"data-qa-id":"toolbarEdit"},e),O4e)};function w4e(e,t,i){let n=e.slice(0);if(i<0||i>n.length)return n;const a=n[t];return n=function(e,t){const i=e.slice(0);return t<0||t>=i.length||i.splice(t,1),i}(n,t),n.splice(i,0,a),n}function T4e(){return Object(Wu.a)(Ibe,(e,{homeHubID:t})=>t,(e,t)=>e.hubs.find(e=>e.id===t))}var E4e=function(){return Object(Wu.a)(e=>e.ui.homePage.homeHubStatuses,(e,{homeHubID:t})=>t,(e,t)=>e.find(e=>e.homeHubID===t))};function N4e(){return Object(Wu.a)(fbe,E4e(),(e,t)=>e[t.hub])}function x4e(){return Object(Wu.a)(Ku,E4e(),(e,t)=>e[t.server])}function A4e(){return Object(Wu.a)(T4e(),N4e(),Object(Wu.a)(yg,E4e(),(e,t)=>e[t.provider]),x4e(),(e,t,i,n)=>CLe(t?i:e.provider,t?n:e.server))}function L4e(){return Object(Wu.a)(N4e(),T4e(),(e,t)=>{let i;return e&&e.title?i=e.title:t&&t.title&&(i=t.title),i||Object(Ze.default)("Unknown")})}var k4e=i("Ygol"),R4e=i.n(k4e),z4e=Vu()(tf,{});function U4e(e,t){const{className:i,sourceTitle:n,title:a,style:s,isRemoved:r,connectDragSource:o,onToggleRemoveHomeHub:l}=e;return Vu()("div",{className:(i||"")+" "+(r&&R4e.a.isRemoved||""),style:s},void 0,o(Vu()("div",{},void 0,Vu()(MAe,{className:R4e.a.iconReorder}))),Vu()("span",{className:R4e.a.label},void 0,Vu()("span",{className:R4e.a.title},void 0,a),n?z4e:null,n||null),Vu()(pbe,{className:R4e.a.toggleButton,isRemovable:!r,tooltip:r?Object(Ze.default)("Restore"):Object(Ze.default)("Remove"),onPress:l}))}U4e.defaultProps={className:R4e.a.listItem,isRemoved:!1,connectDragSource:e=>e};var V4e=U4e;const B4e=Object(Hu.b)((function(){return Object(Wu.a)(L4e(),A4e(),(e,t)=>({title:e,sourceTitle:t}))}),(function(e,t){return{onToggleRemoveHomeHub(){t.onToggleRemoveHomeHub(t.homeHubID)}}}))(V4e);B4e.propTypes=Object.assign({},B4e.propTypes,{homeHubID:vc.a.string.isRequired});var F4e=B4e;function H4e(e,t){const{x:i,y:n}=e,a="translate3d("+i+"px, "+n+"px, 0)";return{WebkitTransform:a,msTransform:a,transform:a,width:t?t+"px":"100%"}}var _4e=i("vTNh"),W4e=i.n(_4e);const Q4e=Nd.a.createElement,{Component:G4e}=Nd.a,K4e=parseInt(BV.homeServerListItemHeight,10);var Y4e=Object(eAe.DragLayer)((function(e,t){const i=e.getItem(),n={item:i,style:null},a=e.getInitialSourceClientOffset(),s=e.getSourceClientOffset();if("HOME_HUB_ITEM"===e.getItemType()&&a&&s){let e=s.y;e-i.listTop<=0?e=i.listTop:e+K4e>=i.listBottom&&(e=i.listBottom-K4e),n.style=H4e({x:a.x,y:e},i.listWidth)}return n}))(class extends G4e{render(){const{item:e,style:t}=this.props;if(!e||!t)return null;const i=Xe()(e,["listHeight","listWidth","listTop","listRight","listBottom","listLeft"]);return Vu()(pAe,{},void 0,Q4e(F4e,tp()({},i,{style:t,className:W4e.a.listItem})))}}),q4e=i("eEGg"),Z4e=i.n(q4e);const J4e=Nd.a.createElement,{Component:X4e}=Nd.a,$4e={beginDrag(e,t,i){const{homeHubID:n,listIndex:a,isRemoved:s,listHeight:r,listWidth:o,listTop:l,listRight:c,listBottom:d,listLeft:u}=e;return{dragIndex:a,homeHubID:n,isRemoved:s,listHeight:r,listWidth:o,listTop:l,listRight:c,listBottom:d,listLeft:u}},endDrag(e,t,i){e.onItemDragEnd({didDrop:t.didDrop()})}},e3e={hover(e,t,i){const n=t.getClientOffset(),a=Object(Bu.findDOMNode)(i).getBoundingClientRect(),s=(a.bottom-a.top)/2,r=n.y-a.top,o=t.getItem().dragIndex,l=e.listIndex;let c;c=l===o?l:r>s?l+1:l,e.onItemDragMove({dragIndex:o,dropIndex:c})}};var t3e=Object(eAe.DropTarget)("HOME_HUB_ITEM",e3e,(function(e,t){return{connectDropTarget:e.dropTarget(),isOver:t.isOver()}}))(Object(eAe.DragSource)("HOME_HUB_ITEM",$4e,(function(e,t){return{connectDragPreview:e.dragPreview(),connectDragSource:e.dragSource(),isDragging:t.isDragging()}}))(class extends X4e{componentDidMount(){this.props.connectDragPreview(Object(tAe.getEmptyImage)())}render(){const e=this.props,{isOver:t,isDragging:i,isDraggingBefore:n,isDraggingAfter:a,connectDropTarget:s}=e,r=Xe()(e,["isOver","isDragging","listIndex","dropIndex","listHeight","listWidth","listTop","listRight","listBottom","listLeft","isDraggingBefore","isDraggingAfter","connectDropTarget"]);return s(Vu()("div",{className:(Z4e.a.container||"")+" "+(t&&Z4e.a.isOver||"")+" "+(i?"isDragging":"")+" "+(t&&n?"isDraggingBefore":"")+" "+(t&&a?"isDraggingAfter":"")},void 0,J4e(F4e,r)))}})),i3e=i("xJXR"),n3e=i.n(i3e);const a3e=Nd.a.createElement,{Component:s3e}=Nd.a,r3e={dragIndex:-1,dropIndex:-1,hasValidDropTarget:!1};var o3e=Vu()(pv,{},void 0,Vu()(Y4e,{}));class l3e extends s3e{constructor(e,t){super(e,t),this.onItemDragMove=e=>{const{dragIndex:t,dropIndex:i}=e,{dragIndex:n,dropIndex:a}=this.state;let s=i!==a?i:a;const r=t!==n?t:n;if((s===r||s>r&&s-r==1)&&(s=-1),r!==n||s!==a){const e={dragIndex:r,dropIndex:s,hasValidDropTarget:-1!==s};this.setState(e)}},this.onItemDragEnd=e=>{const{dragIndex:t,dropIndex:i}=this.state;let n;e.didDrop&&-1!==i&&(n=()=>{this.props.onReorderHomeHub({fromIndex:t,toIndex:i>t?i-1:i})}),this.setState(r3e,n)},this.onMeasure=e=>{const{height:t,width:i,x:n,y:a}=e;this.setState({listHeight:t,listWidth:i,listTop:a,listRight:n+i,listBottom:a+t,listLeft:n})},this.state=Object.assign({},r3e,{listHeight:0,listWidth:0,listTop:0,listRight:0,listBottom:0,listLeft:0})}render(){const{className:e,homeHubs:t,removedHomeHubIDs:i,onToggleRemoveHomeHub:n}=this.props,{dropIndex:a,hasValidDropTarget:s}=this.state;return Vu()(T0,{className:e,ignoreTransforms:!0,onMeasure:this.onMeasure},void 0,Vu()(ih,{className:n3e.a.scroller,scrollDirection:"vertical"},void 0,t.map(({id:e},t)=>{const r=t,o=s&&a===r,l=s&&a===r+1;return a3e(t3e,tp()({},this.state,{key:e,homeHubID:e,listIndex:r,hasValidDropTarget:s,isRemoved:!!i[e],isDraggingAfter:l,isDraggingBefore:o,onItemDragMove:this.onItemDragMove,onItemDragEnd:this.onItemDragEnd,onToggleRemoveHomeHub:n}))}),o3e))}}l3e.defaultProps={className:n3e.a.container};var c3e=nAe(l3e),d3e=i("nSpa"),u3e=i.n(d3e);const{Component:p3e,Fragment:h3e}=Nd.a;function m3e(e){return{mode:e,isEditing:1===e,isEmpty:2===e,isResettingCustomization:3===e,isManageAutomaticallyOptIn:4===e,isManagedAutomatically:5===e}}function g3e(e){let t;t=e.isAutoHomeHubsEnabled?5:e.homeHubs.length?1:2;const i=m3e(t);return i.editableHomeHubs=e.homeHubs,i.homeHubs=e.homeHubs,i.removedHomeHubIDs={},i}var v3e=Vu()(Xje,{});var y3e=class extends p3e{static getDerivedStateFromProps(e,t){return e.homeHubs!==t.homeHubs?g3e(e):null}constructor(e,t){super(e,t),this.onSaveButtonPress=()=>{const{editableHomeHubs:e,removedHomeHubIDs:t}=this.state,i=e.reduce((e,i)=>(i.id in t||e.push(i.id),e),[]);this.props.onReorderHomeHubs({isUserInitiated:!0,homeHubIDs:i.concat(this.props.hiddenHomeHubIDs)}),this.props.onModalClose()},this.onCancelButtonPress=()=>{this.props.onModalClose()},this.onBackButtonPress=()=>{const e=m3e(this.state.editableHomeHubs.length?1:2);this.setState(e)},this.onResetCustomizationLinkPress=()=>{const e=m3e(3);this.setState(e)},this.onToggleRemoveHomeHub=e=>{const{removedHomeHubIDs:t}=this.state,i=Object.assign({},t);e in i?delete i[e]:i[e]=e,this.setState({removedHomeHubIDs:i})},this.onReorderHomeHub=({fromIndex:e,toIndex:t})=>{if(e===t)return;const{editableHomeHubs:i}=this.state;this.setState({editableHomeHubs:w4e(i,e,t)})},this.onManageHomeAutomaticallyPress=()=>{this.setState(m3e(4))},this.onPreviousButtonPress=()=>{this.setState(m3e(1))},this.state=g3e(e)}render(){const{settingsKey:e,onResetCustomization:t,onEnableAutoHomeHubs:i,onDisableAutoHomeHubs:n,onModalClose:a}=this.props,{editableHomeHubs:s,isEditing:r,isEmpty:o,isResettingCustomization:l,isManagedAutomatically:c,isManageAutomaticallyOptIn:d,removedHomeHubIDs:u}=this.state,p=$.prop("X-Plex-Product");return Vu()(YL,{onModalClose:a},void 0,Vu()(zL,{},void 0,r||o||c?Object(Ze.default)("Edit Home Screen"):null,l?Object(Ze.default)("Reset Customization"):null,d?Object(Ze.default)("Manage Home Automatically?"):null),Vu()(wL,{className:u3e.a.modalBody,innerClassName:u3e.a.innerModalBody,scrollDirection:Zp},void 0,Vu()("div",{className:(u3e.a.pane||"")+" "+((o?null:u3e.a.isHidden)||"")},void 0,Vu()("p",{},void 0,Object(Ze.default)('Your home screen is currently empty. Click the "+" beside the title of any content row in a media source to add it to your home screen, or click "{buttonLabel}" below to reset your sidebar navigation and home screen layout to the default state, and revisit {productName} Setup.',{buttonLabel:Object(Ze.default)("Reset Customization"),productName:p}))),Vu()("div",{className:(u3e.a.pane||"")+" "+(u3e.a.editPane||"")+" "+((r?null:u3e.a.isHidden)||"")},void 0,Vu()("p",{},void 0,Object(Ze.default)("Drag to reorder the content hubs shown on your home screen, or remove them entirely. Only hubs with content in them will be visible on your home screen.")),Vu()("p",{className:u3e.a.centeredContainer},void 0,Vu()(zp,{kind:Pp,onPress:this.onManageHomeAutomaticallyPress},void 0,v3e," ",Object(Ze.default)("Manage Home Automatically"))),r?Vu()(c3e,{className:u3e.a.sortableServers,homeHubs:s,removedHomeHubIDs:u,onReorderHomeHub:this.onReorderHomeHub,onToggleRemoveHomeHub:this.onToggleRemoveHomeHub}):null),Vu()("div",{className:(u3e.a.pane||"")+" "+((l?null:u3e.a.isHidden)||"")},void 0,Vu()("p",{},void 0,Object(Ze.default)("You are about to reset your sidebar navigation and home screen layout to the default state. Youll be redirected to the {productName} Setup screen, where you can choose a server (if you have access to more than one) and other media providers from which to build your navigation and home screen content.",{productName:p}))),Vu()("div",{className:(u3e.a.pane||"")+" "+((d?null:u3e.a.isHidden)||"")},void 0,Vu()("p",{},void 0,Object(Ze.default)("Plex can use your pinned sources and other hints to provide home screen content that is valuable to you.  This will reset any home screen customization you have made.")),Vu()("p",{className:(u3e.a.stackedButtonsContainer||"")+" "+(u3e.a.centeredContainer||"")},void 0,Vu()(hw,{kind:Pp,onPress:i},void 0,Object(Ze.default)("Let's do it!")))),Vu()("div",{className:(u3e.a.pane||"")+" "+((c?null:u3e.a.isHidden)||"")},void 0,Vu()("p",{},void 0,Object(Ze.default)("Plex is currently managing your home screen automatically.")),Vu()("p",{},void 0,Object(Ze.default)("Plex uses your pinned sources and other hints to provide home screen content that is valuable to you. If you disable this setting, Plex will no longer be able to automatically suggest home screen content.")),Vu()("p",{className:(u3e.a.stackedButtonsContainer||"")+" "+(u3e.a.centeredContainer||"")},void 0,Vu()(hw,{kind:Pp,onPress:a},void 0,Object(Ze.default)("Continue With Automatic"))),Vu()("p",{className:u3e.a.centeredContainer},void 0,Vu()(hw,{onPress:n},void 0,Object(Ze.default)("Disable (Manually Manage)"))))),c?null:Vu()(AL,{className:u3e.a.footer},void 0,r?Vu()(h3e,{},e,Vu()(zp,{kind:Pp,onPress:this.onResetCustomizationLinkPress},void 0,Vu()(Y_,{className:u3e.a.reloadIcon}),Object(Ze.default)("Reset Customization")),Vu()(hw,{className:u3e.a.splitButton,onPress:this.onCancelButtonPress},void 0,Object(Ze.default)("Cancel")),Vu()(hw,{className:u3e.a.button,"data-autofocus":!0,kind:Pp,onPress:this.onSaveButtonPress},void 0,Object(Ze.default)("Save"))):null,o?Vu()(h3e,{},void 0,Vu()(zp,{kind:Pp,onPress:this.onResetCustomizationLinkPress},void 0,Vu()(Y_,{className:u3e.a.reloadIcon}),Object(Ze.default)("Reset Customization")),Vu()(hw,{className:u3e.a.splitButton,"data-autofocus":!0,kind:Pp,onPress:this.onCancelButtonPress},void 0,Object(Ze.default)("Close"))):null,l?Vu()(h3e,{},void 0,Vu()(hw,{onPress:this.onBackButtonPress},void 0,Object(Ze.default)("Back")),Vu()(hw,{className:u3e.a.splitButton,"data-autofocus":!0,onPress:this.onCancelButtonPress},void 0,Object(Ze.default)("Cancel")),Vu()(hw,{kind:Op,onPress:t},void 0,Object(Ze.default)("Reset Customization"))):null,d?Vu()(h3e,{},void 0,Vu()(hw,{onPress:this.onPreviousButtonPress},void 0,Object(Ze.default)("Previous"))):null))}};const f3e=Object(Wu.a)(Ibe,yKe,(e,t)=>{const i=[],n=[];return e.hubs.forEach(e=>{e.isHidden?n.push(e.id):i.push(e)}),{isAutoHomeHubsEnabled:t,homeHubs:i,hiddenHomeHubIDs:n,settingsKey:e.settingsKey}});var b3e=Object(Hu.b)(f3e,(function(e){return{onReorderHomeHubs(t){e(nL(t))},onResetCustomization(){e(BA())},onEnableAutoHomeHubs(){e(sL())},onDisableAutoHomeHubs(){e(rL())}}}))(y3e);var I3e=function(e){const{isOpen:t,onModalClose:i}=e;return Vu()(Fw,{size:Hh,isOpen:t,metricsPage:zd.O,onModalClose:i},void 0,Vu()(b3e,{onModalClose:i}))};const{Fragment:S3e,useCallback:C3e,useState:M3e}=Nd.a;var D3e=Vu()(y4e,{}),P3e=Vu()(S4e,{});function O3e(){const e=M3e(!1),t=e[1],i=e[0],n=Object(Hu.d)(E2e),a=Object(Hu.d)(fT),s=C3e(()=>{t(!i)},[i]),r=C3e(()=>{t(!1)},[]);return n?D3e:Vu()(Z2e,{},void 0,Vu()(x$,{},void 0,Vu()(H$,{},void 0,Object(Ze.default)("Home"))),Vu()(R$,{},void 0,a?null:Vu()(S3e,{},void 0,Vu()(D4e,{},void 0,Vu()(j4e,{onPress:s})),P3e),Vu()(M2e,{listStyles:[_a.Grid],selectedListStyle:_a.Grid}),Vu()(I3e,{isOpen:i,onModalClose:r})))}var j3e=function(e){return Object(Wu.a)(XK,t=>e?t[e]:void 0)},w3e=Object(Wu.a)(RNe,e=>!!e.session),T3e=i("Fe9+"),E3e=i.n(T3e);function N3e({isOpen:e,title:t,errorMessage:i,metricsPage:n,onModalClose:a}){return Vu()(Zb.a,{metricsPage:n},void 0,Vu()(PI,{isOpen:e,size:yp.Small,onModalClose:a},void 0,Vu()(kI,{onModalClose:a},void 0,Vu()(UI,{className:E3e.a.modalHeader},void 0,t),Vu()(TI,{},void 0,i))))}var x3e=i("5kqZ"),A3e=i.n(x3e);const L3e=Nd.a.createElement,{useCallback:k3e}=Nd.a;var R3e=Vu()(dS,{});function z3e({className:e=A3e.a.card,watchTogetherRoom:t,metadataItem:i,metadataItemState:n,width:a,height:s,aspectRatio:r}){const[o,l]=Lg(),c=Object(Hu.c)(),d=Ffe(),u=Object(Hu.d)(w3e),{hoverRef:p,isHovered:h,actionsMenuButtonID:m,isActionsPending:g,isActionsVisible:v,isActionsMenuOpen:y,isActionsMenuClosing:f,onActionsMenuClose:b,onActionsMenuCloseComplete:I,onActionsMenuToggle:S}=Gqe({server:o,provider:l,metadataItem:i,metadataItemState:n}),{entityID:C,title:M,metadataItemError:D}=t,P=v||h&&!f,O=k3e(()=>{D?d.onOpen():c(Qoe({watchTogetherRoomEntityID:C}))},[c,C,D,d]),j=k3e(()=>{O(),b()},[O,b]),w=k3e(()=>{c(mle({watchTogetherRoomEntityID:C})),b()},[c,C,b]),T=k3e(()=>{d.onClose()},[d]);return L3e($Ke,{className:e,style:{width:a,height:s},ref:p},i?Vu()(tC,{className:A3e.a.image,serverEntityID:o.entityID,providerEntityID:l.entityID,url:Yqe(i,{aspectRatio:r}),width:a,height:s,component:JI,allowSizeBracket:!0,preloadOnMount:!1,animateOnMount:!1}):Vu()(vZe,{className:A3e.a.iconContainer,width:a,height:s},void 0,R3e),Vu()(IZe,{"aria-label":M,className:A3e.a.link,hoverClassName:A3e.a.hoveredLink,isHovered:h||y,onPress:O}),Vu()($Xe,{id:m,className:P?A3e.a.moreButton:A3e.a.hiddenMoreButton,isPending:g,onPress:S}),Vu()(Qv,{target:m,isOpen:y,onMenuClose:b,onMenuCloseComplete:I},void 0,Vu()(Zv,{"aria-label":Object(Ze.default)("Join"),isDisabled:u||d.isOpen,onPress:j},void 0,Object(Ze.default)("Join")),Vu()(Zv,{"aria-label":Object(Ze.default)("Remove"),isDisabled:d.isOpen,onPress:w},void 0,Object(Ze.default)("Remove"))),Vu()(N3e,{isOpen:d.isOpen,title:Object(Ze.default)("Cannot access this item"),errorMessage:D,metricsPage:zd.Bb,onModalClose:T}))}var U3e=i("ID2g"),V3e=i.n(U3e);const{useEffect:B3e,useMemo:F3e}=Nd.a;function H3e(e){let{item:t}=e,i=Xe()(e,["item"]);const n=Object(Hu.c)(),a=tj(i),s=Object(Hu.d)(j3e(null==t?void 0:t.metadataItem)),r=rYe(null==s?void 0:s.sourceURI),o=F3e(()=>pYe({width:i.cellWidth,aspectRatio:16/9}),[i.cellWidth]),l=F3e(()=>t?Object(D2e.a)(t.users.map(e=>e.title)):"",[t]);return B3e(()=>{!t||t.isMetadataItemPopulated||t.metadataItemError||n(hle({watchTogetherRoomEntityID:t.entityID}))},[n,t]),t?Vu()(YKe,{metadataItem:s,metadataItemState:r},void 0,Vu()("div",{style:a.style},void 0,t.isMetadataItemPending?Vu()(iYe,{className:V3e.a.card,style:o,index:i.cellIndex}):Vu()(z3e,{className:V3e.a.card,watchTogetherRoom:t,metadataItem:s,metadataItemState:r,width:o.width,height:o.height,aspectRatio:16/9}),t.metadataItemError?Vu()("div",{className:V3e.a.splitTitleContainer},void 0,Vu()("span",{className:V3e.a.splitLineTitle,title:t.title},void 0,t.title),Vu()("span",{className:V3e.a.splitLineSecondaryTitle,title:Object(Ze.default)("No Access")},void 0,Object(Ze.default)("No Access"))):Vu()("div",{className:V3e.a.title,title:t.title},void 0,t.title),Vu()("div",{className:V3e.a.secondaryTitle,title:l},void 0,l))):Vu()("div",{style:a.style},void 0,Vu()(iYe,{style:o,index:i.cellIndex}))}function _3e(){return Vu()($1e,{hub:{attribution:Y1e.WatchTogether}},void 0,Object(Ze.default)("Watch Together"))}const W3e=Nd.a.createElement,{Fragment:Q3e,useCallback:G3e,useEffect:K3e,useMemo:Y3e}=Nd.a,q3e={source:"watchTogether",sourceURI:"watch-together"};function Z3e({hubLayoutOptions:e,className:t,hubHeaderClassName:i}){const n=Object(Hu.c)(),a=Object(Hu.d)(RNe),s=Object(Hu.d)(eHe),r=Object(Hu.d)(m0e),o=Ffe(),{sessionError:l}=a,c=s.length,d=Y3e(()=>X$e(Object.assign({listType:Ha.Mixed,listStyle:_a.Hero,columnWidth:r,titleCount:2},e)),[r,e]),u=G3e(()=>{n(Goe())},[n]);K3e(()=>{l?o.onOpen():o.isOpen&&o.onClose()},[o,l]);const p=G3e(e=>W3e(H3e,e),[]);return 0===c?null:Vu()(Q3e,{},void 0,Vu()(h0e,{className:t,hubHeaderClassName:i,hub:q3e,hubTitleComponent:_3e,keyPropName:"id",items:s,totalSize:c,layout:d,cellComponentFactory:p}),Vu()(N3e,{isOpen:o.isOpen,title:Object(Ze.default)("Watch Together session error"),errorMessage:l,metricsPage:zd.Bb,onModalClose:u}))}var J3e=i("3Fxl"),X3e=i.n(J3e);const $3e=Nd.a.createElement,{useCallback:e5e,useEffect:t5e,useRef:i5e,useState:n5e}=Nd.a;function a5e(e){return!!e&&e<=Date.now()-864e5}var s5e=Vu()(O3e,{}),r5e=Vu()(gp,{},void 0,Vu()(Ip,{})),o5e=Vu()(Z3e,{});function l5e(){const e=Object(Hu.c)(),t=Object(Hu.d)(S0e),i=Object(Hu.d)(B0e),n=Object(Hu.d)(H0e),a=Object(Hu.d)(_0e),s=Object(Hu.d)(zKe),r=Object(Hu.d)(UKe),o=Object(Hu.d)(U0e),l=Object(Hu.d)(RKe(wt.g)),c=i5e(new Set),d=n5e(!1),u=d[1],p=d[0],{isPending:h,isPopulated:m,isUnavailable:g,isError:v,isEmpty:y,hasNoPinnedSources:f}=Object(Hu.d)(G0e),b=e5e(e=>{c.current.add(e),n.length&&n.every(e=>c.current.has(e))&&u(!0)},[n]);nI({mode:vKe.Auto},!h);const{scrollRestoreProps:I,onScrollPositionReady:S}=HO({key:"HomePage"});return t5e(()=>{p&&S()},[p,S]),t5e(()=>{a5e(a)&&e(Pr.actions.reset())},[e,a]),t5e(()=>{e(Pr.actions.populateAllRequested({hubsSources:t,hubsStates:i,userServices:r}))},[e,t,i,r]),t5e(()=>()=>{e(Pr.actions.markStaleRequested())},[e]),t5e(()=>{const t=()=>{"visible"===document.visibilityState&&a5e(a)&&e(Pr.actions.reset())};return document.addEventListener("visibilitychange",t),()=>{document.removeEventListener("visibilitychange",t)}},[e,a]),t5e(()=>{e(cle())},[e]),Vu()(EKe,{allowBackgroundLightPreset:!0,scrollDirection:cp.None},void 0,s5e,h?r5e:null,m?$3e(kKe,tp()({className:X3e.a.homePageContentScroller},I),o5e,l?Vu()(k0e,{onHomeHubsReady:b}):null,t.map(e=>n.includes(e.key)?Vu()(c2e,{hubsSource:e,onHomeHubsReady:b},e.key):null)):null,g?Vu()(IKe,{title:Object(Ze.default)("No content available"),description:Object(Ze.default)("Check your network connection and verify that any media servers are online.")}):null,v?Vu()(IKe,{title:Object(Ze.default)("Something went wrong"),description:Object(Ze.default)("There was an error loading your home screen. Please try again in a few minutes.")}):null,y&&!s?Vu()(gp,{iconSrc:String(v5),title:Object(Ze.default)("Your home screen is currently empty"),description:Object(Ze.default)("There's no content to display based on your currently pinned sources. You can always pin additional sources to your sidebar.")}):null,y&&s?Vu()(gp,{iconSrc:String(v5),title:Object(Ze.default)("No content available"),description:Object(Ze.default)("Kindly ask the Plex Home admin to share content with you.")}):null,f&&o?Vu()(gp,{iconSrc:String(v5),title:Object(Ze.default)("Your home screen is empty"),description:Object(Ze.default)("Your home screen is based on sources pinned to your sidebar. Choose a source from the More menu and pin it to see its content here.")}):null,!f||o||s?null:Vu()(gp,{iconSrc:String(v5),title:Object(Ze.default)("Add your media to Plex"),description:Object(Ze.default)("Organize, beautify, stream, and share your personal collection of movies, TV, music, and photos anywhere, on all your devices. To get started, download our free Plex Media Server software on the device where you store your media.")},void 0,Vu()(iD,{to:"https://www.plex.tv/media-server-downloads",kind:Qg.Primary,size:yp.Large,target:"_self"},void 0,Object(Ze.default)("Get Plex Media Server"))),f&&!o&&s?Vu()(gp,{iconSrc:String(v5),title:Object(Ze.default)("No content available"),description:Object(Ze.default)("Kindly ask the Plex Home admin to share content with you.")}):null)}const c5e=e=>e.isPopulated||e.error,d5e=Object(Wu.a)(e=>e.ui.homePage,e=>{const{homeHubStatuses:t,isContentPopulated:i}=e;return i||t.length>0&&t.every(c5e)});var u5e=Object(Wu.a)(e=>e.ui.homePage,Ibe,d5e,(e,t,i)=>{const{isProviderPromotedContentPopulated:n,preferredServerContentError:a,providerPromotedContentError:s}=e,{preferredServerID:r,hasSeededPreferredServerContent:o,hasSeededProviderPromotedContent:l}=t,c=!!r,d=o||!!a,u=l||n||!!s,p=c&&!d,h=!u,m=(!c||d)&&u&&!i;return{isPending:m||p||h,isContentPopulated:i,shouldFetchHomeContent:m,shouldFetchPreferredServerContent:p,shouldFetchProviderPromotedContent:h}});const p5e=Object(Wu.a)(Yu,e=>e.isResourcesPopulated),h5e=Object(Wu.a)(Yu,e=>e.hasFailedResources);var m5e=Object(Wu.a)(p5e,h5e,bg("isProvidersPopulated"),bg("providersError"),(e,t,i,n)=>t||!!n||e&&i);var g5e=Object(Wu.a)(Wre,m5e,(e,t)=>{const i=e.some(e=>{if(!e.provider||!e.provider.isPopulated)return!1;return!!Yt(e.provider)});return t&&!i});function v5e(e){return!e.user.isFullUser}var y5e=function(e,t){return e.then((function(...e){const i=D.a.Deferred();return window.setTimeout(()=>i.resolve(...e),t),i.promise()}))},f5e=i("+0Fo");function b5e(e){const{directoryKey:t,server:i,provider:n,options:a,onlyPromoted:s=!1}=e,r=Object.assign({},a,{count:1,persistInCache:!1,skipCache:!0}),o={directoryKey:t,hubModels:[]};return mT({hubKey:t,server:i,provider:n,options:r}).fetch().then(e=>e.reduce((e,t)=>((!s||s&&t.get("promoted"))&&e.hubModels.push(t),e),o),()=>o)}function I5e(e){const t=e.reduce((e,t,i)=>{const n=t.get("server").get("machineIdentifier"),a=t.get("provider").get("identifier"),s=t.get("directoryKey"),r=n+"--"+a+"--"+s;return e[r]||(e[r]={directoryKey:s,identifier:a,homeHubIDs:[],machineIdentifier:n}),e[r].homeHubIDs.push(t.get("id")),e},{});return Object.values(t)}const S5e=Object(Pi.a)("home/initHomePage"),C5e=Object(Pi.a)("home/fetchHomeContent"),M5e=Object(Pi.a)("home/fetchHomeHubs"),D5e=Object(Pi.a)("home/fetchPreferredServerContent"),P5e=Object(Pi.a)("home/fetchProviderPromotedContent"),O5e=Object(Pi.a)("home/resetHomePage"),j5e=Object(Pi.a)("home/updateHomeHubsStatus");function w5e(e){return e.get("user").get("experienceSettings").get("homeSettings")}function T5e(e){return e.get("ui").get("homePage")}let E5e,N5e=[];const x5e={"home/initHomePage"(e,t,i){const n=w5e(e).get("hubs");tI.a.startPeriod("client:view:"+zd.O),I5e(n).forEach(e=>{const{identifier:t,homeHubIDs:n,machineIdentifier:a}=e,s={skipCache:!0},r=new an({machineIdentifier:a},s),o=new Si({identifier:t},Object.assign({},s,{server:r}));i(j5e({homeHubIDs:n,status:{provider:o.entityID(),server:r.entityID()}})),o.uninitialize(),r.uninitialize()})},"home/resetHomePage"(e,t){N5e.forEach(e=>e.cancel()),N5e=[],E5e=window.clearTimeout(E5e),T5e(e).restoreDefaults()},"home/updateHomeHubsStatus"(e,t){const{homeHubIDs:i,status:n}=t;T5e(e).get("homeHubStatuses").set(i.map(e=>Object.assign({},n,{homeHubID:e})),{remove:!1})},"home/fetchHomeHubs"(e,t,i){const{homeHubIDs:n,fetchDelayMS:a,options:s}=t,r=w5e(e).get("hubs"),o=r.get(n[0]),l=o.get("server").get("machineIdentifier"),c=o.get("provider").get("identifier"),d=o.get("directoryKey");i(j5e({homeHubIDs:n,status:{error:null,isPending:!0,isPopulated:!1}}));let u=e.get("servers").findServer(l).then(e=>e.get("isOutOfDate")?D.a.Deferred().reject(e).promise():e.get("isPending")?Noe({eventSource:e,events:["change:isPending"]}):D.a.Deferred().resolve(e).promise());u=u.then(t=>Aoe((t.get("isCloud")?Object(wi.o)(e):t).get("providers"),{identifier:c})),a>0&&(u=y5e(u,a)),u=u.then(t=>mT({hubKey:d,server:t.server,provider:t,options:Object.assign({},s,vT(e))}).fetch());const p=Object(bf.a)(u);N5e.push(p),p.promise.then(e=>{n.forEach(t=>{const n=r.get(t);if(!n)return;const a={isPending:!1},s=e.findWhere({hubIdentifier:n.get("hubIdentifier")});s?(n.set("title",s.get("title")),a.isPopulated=!0,a.hub=s,a.provider=e.provider.entityID(),a.server=e.provider.server.entityID()):(a.error={isContentUnavailable:!0},C.a.warn("[Home] home/fetchHomeHubs: missing",n)),i(j5e({homeHubIDs:[t],status:a}))})},({isCanceled:e}={})=>{e||i(j5e({homeHubIDs:n,status:{isPending:!1,error:{}}}))})},"home/fetchHomeContent":Object(f5e.a)({key:"content",getModel:(e,t)=>e.get("ui").get("homePage"),fetch(e,t,i){const n=w5e(e).get("hubs"),a=D.a.Deferred();return n.length?(I5e(n).forEach(e=>{i(M5e({homeHubIDs:e.homeHubIDs}))}),E5e=window.clearTimeout(E5e),E5e=window.setTimeout(a.resolve,1e3),a.promise()):a.resolve().promise()}}),"home/fetchPreferredServerContent":Object(f5e.a)({key:"preferredServerContent",getModel:(e,t)=>e.get("ui").get("homePage"),fetch(e,t,i){const n=w5e(e),a={identifier:jt.d},s=n.get("preferredServerID");let r=e.get("servers").findServer(s);return r=r.then(e=>Aoe(e.get("providers"),a)),r=r.then(i=>b5e({directoryKey:i.get("features").get(Ot.m).get("key"),server:i.server,provider:i,options:Object.assign({},t.options,vT(e))})),r.then(e=>{const{directoryKey:t,hubModels:n}=e,a=n.map(e=>({directoryKey:t,model:e}));i(eL({hubs:a}))},()=>D.a.Deferred().reject({}).promise())}}),"home/fetchProviderPromotedContent":Object(f5e.a)({key:"providerPromotedContent",getModel:(e,t)=>e.get("ui").get("homePage"),fetch(e,t,i){const n={type:Ot.m},a=e.get("user").get("experienceSettings").get("sidebarSettings").get("pinnedSources"),s=Object(wi.o)(e).get("providers"),r=s.map(e=>xoe(e)),o=e.get("user").toJSON(),l=bT(o.features,o.services);return Me(r).then(()=>{const e=s.reduce((e,t)=>{if(!t.get("isPopulated"))return e;if(!a.findWhere({providerIdentifier:t.get("identifier"),machineIdentifier:t.server.get("machineIdentifier")}))return e;const i=t.get("features").findWhere(n);return i&&MT(l,i.toJSON())&&e.push(i),e},[]);return Me(e.map(e=>b5e({directoryKey:e.get("key"),server:e.server,provider:e.provider,options:t.options||{},onlyPromoted:!0})))}).then((...e)=>{const t=e.reduce((e,t)=>{const{directoryKey:i,hubModels:n}=t;return e.push(...n.map(e=>({directoryKey:i,model:e}))),e},[]);i($A({hubs:t}))},()=>D.a.Deferred().reject({}).promise())}}),"user/resetHomeSettings"(e,t){e.get("ui").get("homePage").restoreDefaults()},[Tn.a](e,t,i){const n=T5e(e).get("homeHubStatuses").reduce((e,t)=>{const i=t.get("hub");return i?e.concat(i):e},[]);n.count=16,yT({actionCreator:wx,dispatch:i,hubs:n,serverModel:Object(wi.m)(e,t)})}};const{Component:A5e,Fragment:L5e}=Nd.a;const k5e={dispatchSetPrimaryServer:Kn.D};var R5e=Object(Hu.b)(null,k5e)(class extends A5e{componentDidMount(){this._populate(this.props)}componentDidUpdate(e){const{machineIdentifier:t}=this.props;t&&t!==e.machineIdentifier&&this._populate(this.props)}_populate(e){const{machineIdentifier:t,dispatchSetPrimaryServer:i}=e;t&&Object(Ti.a)(()=>{i({machineIdentifier:t})})}render(){return Vu()(L5e,{},void 0,this.props.children)}});var z5e=function(){return Vu()(dh,{iconSrc:v5,title:Object(Ze.default)("No content available"),description:Object(Ze.default)("Kindly ask the Plex Home admin to share content with you.")})};var U5e=Object(Wu.a)(fk,e=>e.hasDismissedServerDownloadMessage);const{useCallback:V5e}=Nd.a;var B5e=function(e){const{hasDismissedServerDownloadMessage:t,dispatchSaveDeviceSettings:i}=e,n=V5e(()=>{i({hasDismissedServerDownloadMessage:!0})},[i]);return Vu()(dh,{iconSrc:v5,title:Object(Ze.default)("Add your media to Plex"),description:Object(Ze.default)("Organize, beautify, stream, and share your personal collection of movies, TV, music, and photos anywhere, on all your devices. To get started, download our free Plex Media Server software on the device where you store your media.")},void 0,Vu()(hw,{to:"https://www.plex.tv/media-server-downloads",kind:Pp,size:_h,target:"_self"},void 0,Object(Ze.default)("Get Plex Media Server")),t?null:Vu()(sh,{},void 0,Vu()(zp,{kind:Pp,size:Fh,to:"#",onPress:n},void 0,Object(Ze.default)("Don't show this in my Pinned Sources sidebar"))))};const F5e=Object(Wu.a)(U5e,e=>({hasDismissedServerDownloadMessage:e})),H5e={dispatchSaveDeviceSettings:Kn.A};var _5e=Object(Hu.b)(F5e,H5e)(B5e);const W5e=FS(Object(Wu.a)(Ibe,({hubs:e})=>e),e=>e);var Q5e=Object(Wu.a)(W5e,e=>e.map(e=>e.id));const{Fragment:G5e}=Nd.a;var K5e=function(e){const{onModalClose:t}=e;return Vu()(G5e,{},void 0,Vu()(zL,{},void 0,Object(Ze.default)("Down for Maintenance")),Vu()(wL,{},void 0,Object(Ze.default)("Plex is down for maintenance. Don't worry, it will be back soon.")),Vu()(AL,{},void 0,Vu()(hw,{to:"https://status.plex.tv","data-autofocus":!0,target:"_blank",kind:Pp,onPress:t},void 0,"status.plex.tv")))};const{Fragment:Y5e}=Nd.a;var q5e=function(e){const{onModalClose:t}=e;return Vu()(Y5e,{},void 0,Vu()(zL,{},void 0,Object(Ze.default)("Content is Unavailable")),Vu()(wL,{},void 0,Object(Ze.default)("The content provider is working normally but did not return content. The content may no longer be available.")),Vu()(AL,{},void 0,Vu()(hw,{"data-autofocus":!0,kind:Pp,onPress:t},void 0,Object(Ze.default)("Okay"))))};const{Fragment:Z5e}=Nd.a;var J5e=Vu()("br",{});var X5e=function(e){const{friendlyName:t,sourceTitle:i,onModalClose:n,onReloadHttpPress:a,onReloadHttpAlwaysPress:s}=e,r=i?[Object(Ze.default)("{owner}'s server does not allow secure connections.",{owner:i})]:[Object(Ze.default)('The server "{serverName}" does not allow secure connections.',{serverName:t})];return r.push(Object(Ze.default)("To see content from this server, you can try allowing insecure connections to reload the web app insecurely.")),Vu()(Z5e,{},void 0,Vu()(zL,{},void 0,Object(Ze.default)("Server Unreachable")),Vu()(wL,{},void 0,r.join(" "),J5e,Vu()(zp,{to:_p,target:"_blank",kind:Pp,onPress:n},void 0,Object(Ze.default)("Learn more"))),Vu()(AL,{},void 0,Vu()(hw,{kind:Op,className:EL.a.button,onPress:s},void 0,Object(Ze.default)("Allow always")),Vu()(hw,{className:EL.a.button,"data-autofocus":!0,kind:Op,onPress:a},void 0,Object(Ze.default)("Allow once"))))};var $5e=Object(Hu.b)((function(){return Object(Wu.a)(_S(),e=>({friendlyName:e.friendlyName,sourceTitle:e.sourceTitle}))}),(function(e){return{onReloadHttpPress(t){e(mu())},onReloadHttpAlwaysPress(t){e(vu()),e(mu())}}}))(X5e);const{Fragment:e6e}=Nd.a;var t6e=function(e){const{friendlyName:t,isInstallingServerUpdate:i,isOutOfDate:n,isUnauthorized:a,isUnavailable:s,onModalClose:r}=e,o=[];let l=Object(Ze.default)("Server is Unavailable");return i?o.push(Object(Ze.default)('The server "{serverName}" is installing an update.',{serverName:t}),Object(Ze.default)("Grab a cup of tea. This may take a couple of minutes.")):n?(l=Object(Ze.default)("Update Required"),o.push(Object(Ze.default)('The server "{serverName}" is out of date.',{serverName:t}),Object(Ze.default)("This version of Plex requires Plex Media Server {version} or higher.",{version:"1.15.2"}))):a?o.push(Object(Ze.default)("No soup for you!"),Object(Ze.default)("You do not have access to this server.")):s&&o.push(Object(Ze.default)('The server "{serverName}" is unavailable.',{serverName:t}),Object(Ze.default)("Plex will automatically try to reconnect to this server.")),Vu()(e6e,{},void 0,Vu()(zL,{},void 0,l),Vu()(wL,{},void 0,o.join(" ")),Vu()(AL,{},void 0,Vu()(hw,{className:EL.a.button,"data-autofocus":!0,kind:Pp,onPress:r},void 0,Object(Ze.default)("Okay"))))};var i6e=Object(Hu.b)((function(){return Object(Wu.a)(_S(),e=>({friendlyName:e.friendlyName,isInstallingServerUpdate:e.isInstallingServerUpdate,isOutOfDate:e.isOutOfDate,isUnauthorized:e.isUnauthorized,isUnavailable:e.isUnavailable,sourceTitle:e.sourceTitle}))}))(t6e);const{Fragment:n6e}=Nd.a;var a6e=Vu()("br",{});var s6e=function(e){const{onModalClose:t}=e,i=[Object(Ze.default)("There was an unexpected error."),Object(Ze.default)("Please visit our forums if you continue to experience problems.")];return Vu()(n6e,{},void 0,Vu()(zL,{},void 0,Object(Ze.default)("Content is Unavailable")),Vu()(wL,{},void 0,i.join(" "),a6e,Vu()(zp,{to:Up,target:"_self",kind:Pp,onPress:t},void 0,Object(Ze.default)("Go to Forums"))),Vu()(AL,{},void 0,Vu()(hw,{className:EL.a.button,"data-autofocus":!0,kind:Pp,onPress:t},void 0,Object(Ze.default)("Okay"))))};const{Fragment:r6e}=Nd.a;var o6e=function(e){const{onModalClose:t}=e,i=[Object(Ze.default)("The server associated with this content is no longer accessible."),Object(Ze.default)("You can safely remove this content.")];return Vu()(r6e,{},void 0,Vu()(zL,{},void 0,Object(Ze.default)("Unknown Server")),Vu()(wL,{},void 0,i.join(" ")),Vu()(AL,{},void 0,Vu()(hw,{className:EL.a.button,"data-autofocus":!0,kind:Pp,onPress:t},void 0,Object(Ze.default)("Okay"))))};var l6e=function(e){const{isOpen:t,serverEntityID:i,shouldShowDownForMaintenance:n,shouldShowInsecureFallbackChoice:a,shouldShowHubStatus:s,shouldShowServerStatus:r,shouldShowUnexpectedError:o,shouldShowUnrecognized:l,onModalClose:c}=e;return Vu()(Fw,{size:Fh,isOpen:t,metricsPage:zd.O,onModalClose:c},void 0,Vu()(YL,{onModalClose:c},void 0,n?Vu()(K5e,{onModalClose:c}):null,s?Vu()(q5e,{onModalClose:c}):null,a?Vu()($5e,{serverEntityID:i,onModalClose:c}):null,r?Vu()(i6e,{serverEntityID:i,onModalClose:c}):null,o?Vu()(s6e,{onModalClose:c}):null,l?Vu()(o6e,{onModalClose:c}):null))};var c6e=Object(Hu.b)((function(){return Object(Wu.a)(E4e(),x4e(),(e,t)=>{const{error:i,server:n}=e,a={};if(i&&i.isContentUnavailable)a.shouldShowHubStatus=!0;else if(t){const{isDownForMaintenance:e,isHostedHttps:i,isInstallingServerUpdate:s,isOutOfDate:r,isUnavailable:o,isUnauthorized:l,hasHttpsConnections:c}=t;a.serverEntityID=n,e?a.shouldShowDownForMaintenance=!0:o&&i&&!c?a.shouldShowInsecureFallbackChoice=!0:(o||l||s||r)&&(a.shouldShowServerStatus=!0)}else a.shouldShowUnrecognized=!0;return a.shouldShowHubStatus||a.shouldShowDownForMaintenance||a.shouldShowInsecureFallbackChoice||a.shouldShowServerStatus||a.shouldShowUnrecognized||(a.shouldShowUnexpectedError=!0),a})}))(l6e),d6e=i("nnTz"),u6e=i.n(d6e);function p6e(e){const{className:t,cellWidth:i,listContext:n,listSubtype:a,listType:s}=e,r=Y0(e),o={position:"absolute",top:0,left:0,width:i+"px",height:zC(i,s,a,n)+"px"};return Vu()("div",{style:r.style},void 0,Vu()("div",{className:t,style:o}))}p6e.defaultProps={className:u6e.a.posterCell};var h6e=p6e,m6e=i("6gEP"),g6e=i.n(m6e);const v6e=Nd.a.createElement,{Component:y6e}=Nd.a,f6e=String.fromCharCode(183),b6e=[{id:0},{id:1},{id:2},{id:3},{id:4},{id:5},{id:6},{id:7},{id:8},{id:9},{id:10},{id:11}];class I6e extends y6e{constructor(e,t){super(e,t),this._isReady=void 0,this.onListUpdate=e=>{const{listStyle:t}=e,{onListReady:i}=this.props,n=this._isReady?void 0:i;this._isReady=!0,this.setState({listHeight:t.height},n)},this.onHelpPress=()=>{this.setState({isHelpModalOpen:!0})},this.onHelpModalClose=()=>{this.setState({isHelpModalOpen:!1})},this.state={listHeight:"auto",isHelpModalOpen:!1},this._isReady=!1}render(){const{allowToggleHomeHub:e,className:t,columnAdjustment:i,errorTitle:n,hasRetried:a,hasServer:s,homeHub:r,homePageHomeHubStatus:o,shouldConfirmHomeHubRemoval:l,sourceTitle:c,title:d,onRetryHomeHub:u}=this.props,{listHeight:p}=this.state,{hubIdentifier:h,type:m,subtype:g}=r,{isPending:v}=o,y=DLe(h),f=kMe(m,y,{subtype:g,isExternal:h.indexOf("external")>-1}),b=!!n;let I=null;if(d){const e=n||(v&&a?Object(Ze.default)("Retrying"):null);I=Vu()(abe,{},void 0,d,c?Vu()(tf,{className:g6e.a.titleSeparator}):null,c?Vu()("span",{className:g6e.a.sourceTitle},void 0,c):null,e?Vu()(tf,{className:g6e.a.errorSeparator,separator:f6e}):null,e?Vu()("span",{className:g6e.a.errorTitle},void 0,e):null)}const S={visibility:"auto"===p?"hidden":"visible"},C={height:p,overflow:"hidden"};return Vu()("div",{className:t,style:S,"data-qa-id":"hub--"+h},void 0,Vu()(Abe,{allowToggleHomeHub:e,className:g6e.a.hubCellHeader,homeHubID:o.homeHubID,isHomeHub:!0,shouldConfirmHomeHubRemoval:l},void 0,I,v?Vu()(Yh,{size:Fh}):null,b&&s?Vu()(JK,{className:g6e.a.iconButton,iconClassName:g6e.a.iconButtonIcon,iconComponent:Y_,label:Object(Ze.default)("Retry"),ariaLabel:Object(Ze.default)("Retry"),onPress:u}):null,b?Vu()(JK,{className:g6e.a.iconButton,iconClassName:g6e.a.iconButtonIcon,iconComponent:q1,label:Object(Ze.default)("What's this?"),ariaLabel:Object(Ze.default)("What's this?"),onPress:this.onHelpPress}):null),Vu()("div",{style:C},void 0,Vu()(V0,{scrollerClassName:g6e.a.hubScroller,ignoreHeight:!0,keyPropName:"id",items:b6e,scrollDirection:Zp,size:b6e.length,layout:ske(m,g,y,i,f.length),cellRenderer:(M={listType:m,listSubtype:g,listContext:y},function(e){return v6e(h6e,tp()({},M,e))}),onListUpdate:this.onListUpdate})),Vu()(c6e,{homeHubID:r.id,isOpen:this.state.isHelpModalOpen,onModalClose:this.onHelpModalClose}));var M}}I6e.defaultProps={className:g6e.a.hubCell};var S6e=I6e;const C6e=Nd.a.createElement,{Component:M6e}=Nd.a;const D6e={dispatchFetchHomeHubs:M5e,dispatchUpdateHomeHubsStatus:j5e};var P6e=Object(Hu.b)((function(){return Object(Wu.a)(Ure(),T4e(),E4e(),L4e(),A4e(),Object(Wu.a)(E4e(),x4e(),(e,t)=>{const{error:i}=e;let n;return i&&(n=i.isContentUnavailable?Object(Ze.default)("Content Unavailable"):t?t.isInstallingServerUpdate?Object(Ze.default)("Installing Update"):t.isOutOfDate?Object(Ze.default)("Update Required"):Object(Ze.default)("Unreachable"):Object(Ze.default)("Unknown Server")),n}),Object(Wu.a)(x4e(),e=>!!e),Object(Wu.a)(x4e(),e=>!!e&&e.isConnected),(e,{allowSourceTitle:t})=>t,(e,t,i,n,a,s,r,o,l)=>({columnAdjustment:e,errorTitle:s,hasServer:r,homeHub:t,homePageHomeHubStatus:i,isServerConnected:o,sourceTitle:l?a:null,title:n}))}),D6e)(class extends M6e{constructor(e,t){super(e,t),this.onRetryHomeHub=()=>{const e={homeHubIDs:[this.props.homeHubID],fetchDelayMS:350};this.setState({hasRetried:!0},this.props.dispatchFetchHomeHubs.bind(null,e))},this.state={hasRetried:!1}}componentDidUpdate(e){const{errorTitle:t,homeHubID:i,isServerConnected:n,dispatchFetchHomeHubs:a,dispatchUpdateHomeHubsStatus:s}=this.props,r=!e.errorTitle&&t,o=n&&!e.isServerConnected,l=!n&&e.isServerConnected;r&&this.state.hasRetried&&U.a.trigger("show:alert",{type:"error",message:Object(Ze.default)("There was an error retrieving content.")}),(o||l)&&this.setState({hasRetried:!1},()=>{o?a({homeHubIDs:[i]}):l&&s({homeHubIDs:[i],status:{error:{},isPending:!1,isPopulated:!1}})})}render(){const e=this.props,{allowSourceTitle:t,homeHub:i,homePageHomeHubStatus:n,sourceTitle:a,title:s}=e,r=Xe()(e,["allowSourceTitle","dispatchFetchHomeHubs","dispatchUpdateHomeHubsStatus","homeHubID","homeHub","homePageHomeHubStatus","isServerConnected","sourceTitle","title"]);return n.isPopulated?C6e(YRe,tp()({},r,{allowSourceTitle:t,hubEntityID:n.hub,providerEntityID:n.provider,serverEntityID:n.server})):C6e(S6e,tp()({},r,{hasRetried:this.state.hasRetried,homeHub:i,homePageHomeHubStatus:n,sourceTitle:a,title:s,onRetryHomeHub:this.onRetryHomeHub}))}});const{Component:O6e}=Nd.a,j6e={opacity:0,pointerEvents:"none"},w6e={opacity:1,pointerEvents:"auto"};var T6e=class extends O6e{constructor(e,t){super(e,t),this._initialCount=void 0,this._readyCount=void 0,this.onListReady=()=>{++this._readyCount===this._initialCount&&this.setState({isReady:!0})},this.state={isReady:!1},this._readyCount=0}componentWillMount(){this._initialCount=this.props.homeHubIDs.length}componentWillReceiveProps(e){const t=e.homeHubIDs.length,i=this.props.homeHubIDs.length;this.state.isReady||t===i||(this._initialCount=t,this._readyCount===t&&this.setState({isReady:!0}))}shouldComponentUpdate(e,t){return Tp(this,e,t)}componentDidUpdate(e,t){!t.isReady&&this.state.isReady&&Object(ne.c)("metrics").trackView({page:zd.O,mode:vKe.Custom})}render(){const{homeHubIDs:e}=this.props,{isReady:t}=this.state;return Vu()("div",{style:t?w6e:j6e},void 0,e.map(e=>Vu()(P6e,{homeHubID:e,allowSourceTitle:!0,allowToggleHomeHub:!0,shouldConfirmHomeHubRemoval:!0,onListReady:this.onListReady},e)))}},E6e=i("GFd0"),N6e=i.n(E6e);const x6e=Nd.a.createElement;function A6e(e){let{children:t,innerClassName:i}=e,n=Xe()(e,["children","innerClassName"]);return x6e(l$,tp()({className:N6e.a.pageContent},n),Vu()("div",{className:i},void 0,t))}A6e.defaultProps={innerClassName:N6e.a.innerPageContent};var L6e=A6e;const{Fragment:k6e}=Nd.a;var R6e=function(e){const{onResetCustomization:t}=e,i=Y9(t);return Vu()(N_,{iconSrc:v5,title:Object(Ze.default)("Your home screen is empty"),description:Vu()(k6e,{},void 0,Vu()(vw,{message:Object(Ze.default)("If this is unexpected, see our {openLink}home screen customization tips{closeLink}. If you removed everything and want it all back, choosing Reset Customization below will reset your sidebar navigation and home screen layout to the default state."),tags:[{open:"openLink",close:"closeLink",component:zp,kind:Pp,to:"https://support.plex.tv/articles/customizing-plex-web/?utm_source=Plex%20Apps&utm_medium=Plex%20Web&utm_campaign=Plex%20Apps",target:"_self"}]}))},void 0,Vu()(hw,{kind:Pp,size:_h,onPress:i.onOpen},void 0,Object(Ze.default)("Reset Customization")),Vu()(F_,{kind:Op,title:Object(Ze.default)("Reset Customization"),message:Object(Ze.default)("You are about to reset your sidebar navigation and home screen layout to the default state."),confirmLabel:Object(Ze.default)("Reset Customization"),metricsPage:zd.A,isOpen:i.isOpen,onCancel:i.onClose,onConfirm:i.onConfirm}))},z6e=i("javt"),U6e=i.n(z6e);const V6e=Nd.a.createElement,{useMemo:B6e}=Nd.a,F6e=parseInt(BV.v4CardShadowSize,10),H6e=Object(Wu.a)(Rg.a,e=>e.columnAdjustment),_6e=Object(Wu.a)(e=>e.ui.watchTogether.rooms.length,e=>e);var W6e=function(){const e=Object(Hu.d)(H6e),t=Object(Hu.d)(_6e),[i,n]=Object(Kb.a)(),a=B6e(()=>{if(!n.width)return null;const i=ske(Qt.j,void 0,yc,e);return i.getListStyle({listTop:n.top,listLeft:n.left,viewportHeight:n.height,viewportWidth:n.width},t),{outerPaddingLeft:F6e,outerPaddingRight:F6e,columnWidth:i.getPositionForIndex(0).cellWidth}},[e,t,n]);return V6e("div",{ref:i},a?Vu()(Z3e,{className:U6e.a.hub,hubHeaderClassName:U6e.a.hubHeader,hubLayoutOptions:a}):null)},Q6e=i("L1D5"),G6e=i.n(Q6e),K6e=Vu()(W6e,{});var Y6e=function(e){const{hubs:t,hasWatchTogetherRooms:i,settingsKey:n,onResetCustomization:a}=e;return t.length>0||i?Vu()(L6e,{innerClassName:G6e.a.content,scrollPositionKey:n+"!scrollPosition"},void 0,i?K6e:null,t.length>0?Vu()(T6e,{homeHubIDs:t}):null):Vu()(R6e,{onResetCustomization:a})};function q6e(e){return e.reduce((e,t)=>{const{homeHubID:i,hubStatus:n,hubEntity:a,homeHub:s}=t;return s.isHidden||n&&a&&0===a.size||e.push(i),e},[])}function Z6e(){return Object(Wu.a)(Object(Wu.a)(e=>e.ui.homePage.homeHubStatuses,Q5e,Ibe,fbe,Ku,yg,(e,t,i,n,a,s)=>t.map(t=>{const r=e.find(e=>e.homeHubID===t);return{homeHubID:t,homeHub:i.hubs.find(e=>e.id===t),hubStatus:r,hubEntity:r&&n[r.hub],server:r&&a[r.server],provider:r&&s[r.provider]}})),q6e)}var J6e=Object(Hu.b)((function(){return Og(Z6e(),e=>({hubs:e}))}),(function(e){return{onResetCustomization(){e(BA())}}}))(Y6e);const X6e={showPlay:i8e,showShuffle:i8e,showQueue:function(e,t){return t.every(({model:t,server:i,provider:n})=>_ae({server:i,provider:n,stableUser:e,metadataItem:t}))},showAddToPlaylist:function(e,t){return t.every(({model:t,server:i,provider:n})=>Gae({server:i,provider:n,stableUser:e,metadataItem:t}))},showMarkPlayed:function(e,t){return t.some(({model:t,server:i,provider:n})=>Zae({server:i,provider:n,stableUser:e,metadataItem:t}))},showMarkUnplayed:function(e,t){return t.some(({model:t,server:i,provider:n})=>Jae({server:i,provider:n,stableUser:e,metadataItem:t}))},showFavorite:function(e,t){return t.some(({model:t,server:i,provider:n})=>Yae({server:i,provider:n,stableUser:e,metadataItem:t}))},showUnfavorite:function(e,t){return t.every(({model:t,server:i,provider:n})=>qae({server:i,provider:n,stableUser:e,metadataItem:t}))},showEdit:n8e,showRefresh:function(e,t){return t.every(({model:t,server:i,provider:n})=>$ae({server:i,provider:n,stableUser:e,metadataItem:t}))},showAnalyze:function(e,t){return t.every(({model:t,server:i,provider:n})=>ese({server:i,provider:n,stableUser:e,metadataItem:t}))},showMerge:function(e,t){if(!n8e(e,t))return!1;const i=t8e(t);if(1===i.length)return!1;if(I.a.uniq(i).length>1)return!1;return i.every(e=>-1!==e8e.indexOf(e))},showSync:function(e,t){return t.every(({model:t,server:i,provider:n})=>ise({server:i,provider:n,stableUser:e,metadataItem:t}))},showOptimize:function(e,t){return t.every(({model:t,server:i,provider:n})=>nse({server:i,provider:n,stableUser:e,metadataItem:t}))},showDelete:function(e,t){return t.every(({model:t,server:i,provider:n})=>!t.remoteMedia&&ase({server:i,provider:n,stableUser:e,metadataItem:t}))},showRemove:function(e,t){return t.every(({model:t,server:i,provider:n})=>t.remoteMedia&&ase({server:i,provider:n,stableUser:e,metadataItem:t}))}},$6e={video:["showPlay","showShuffle","showQueue","showAddToPlaylist","showMarkPlayed","showMarkUnplayed","showEdit","showRefresh","showAnalyze","showMerge","showSync","showOptimize","showDelete"],audio:["showPlay","showShuffle","showQueue","showAddToPlaylist","showEdit","showRefresh","showAnalyze","showMerge","showSync","showDelete","showRemove"],photo:["showPlay","showShuffle","showAddToPlaylist","showFavorite","showUnfavorite","showEdit","showAnalyze","showSync","showDelete"],playlist:["showDelete"],collection:["showEdit","showDelete"],rom:["showMarkPlayed","showMarkUnplayed","showEdit","showDelete"]},e8e=["movie","show","season","artist","album"];function t8e(e){return e.map(e=>e.model.type)}function i8e(e,t){return t.every(({model:t,server:i,provider:n})=>Hae({server:i,provider:n,stableUser:e,metadataItem:t}))}function n8e(e,t){const i=t8e(t);return!(I.a.uniq(i).length>1)&&t.every(({server:t,provider:i,model:n})=>Xae({server:t,provider:i,stableUser:e,metadataItem:n}))}function a8e(e,t,i){const n=$6e[i],a=function(e){return I.a.uniq(e.map(e=>e.provider.entityID)).length>1}(t);return n.reduce((i,n)=>{const s=X6e[n];return i[n]=!a&&s(e,t),i},{})}const{useCallback:s8e,useState:r8e}=Nd.a;var o8e=Vu()(oAe,{});function l8e(e){const{serverEntityID:t,providerEntityID:i,metadataItemEntityID:n,metadataListEntityID:a,customFilterRoute:s,showAddToSmartPlaylist:r,onAddToPlaylistPress:o,onAddToSmartPlaylistPress:l}=e,c=r8e(Mp())[0],d=r8e(!1),u=d[1],p=d[0],h=s8e(()=>{u(!p)},[p]);return Vu()(D$,{id:c,tooltip:p?null:Object(Ze.default)("Add to Playlist"),"data-qa-id":"toolbarPlaylist",onPress:h},void 0,o8e,Vu()(fy,{direction:p?hy:my}),Vu()(Qv,{size:_h,target:c,isOpen:p,onMenuClose:h},void 0,Vu()(ece,{serverEntityID:t,providerEntityID:i,metadataItemEntityID:n,metadataListEntityID:a,customFilterRoute:s,showAddToPlaylist:!0,showAddToSmartPlaylist:r,onAddToPlaylistPress:o,onAddToSmartPlaylistPress:l,onMenuOpen:h,onMenuClose:h})))}l8e.defaultProps={showAddToSmartPlaylist:!1};var c8e=l8e;const d8e=Nd.a.createElement,{Component:u8e}=Nd.a;var p8e=class extends u8e{shouldComponentUpdate(e,t){return Tp(this,e,t)}render(){const e=this.props,{children:t,iconComponent:i,label:n,isMenuOpen:a}=e,s=Xe()(e,["children","iconComponent","label","isMenuOpen"]);return d8e(D$,tp()({"aria-haspopup":!0,"data-qa-id":"toolbarMore",tooltip:a?void 0:n,hideOnPress:!1},s),Vu()(i,{}),t)}};const h8e=Nd.a.createElement;var m8e=Vu()(r4e,{});var g8e=function(e){let{playLabel:t=Object(Ze.default)("Play")}=e,i=Xe()(e,["playLabel"]);return h8e(D$,tp()({tooltip:t,"data-qa-id":"toolbarPlay"},i),m8e)};function v8e(e){var t=e["aria-label"],i=e.className,n=e.style,a={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-toolbar-shuffle-560"};a["aria-hidden"]=!t,a.style=n,a.className=Ad.a.plexIcon+(i?" "+i:"");var s=[Nd.a.createElement.apply(Nd.a,["path",{d:"m448 441l-44.423 0c-65.833 0-103.843-28.598-141.383-96.109 5.44-10.89 10.99-22.734 16.727-35.594 3.556-7.986 4.181-9.387 5.622-12.617 36.245 74.928 65.419 102.32 119.034 102.32l44.423 0 0-77 112 98-112 98 0-77m0-322l0-77 112 98-112 98 0-77-44.423 0c-59.257 0-88.657 33.459-130.747 127.573-1.427 3.191-3.342 7.493-6.695 15.02-44.459 99.657-75.473 137.407-142.558 137.407l-95.577 0 0-42 95.577 0c43.602 0 66.367-27.71 104.202-112.518 3.333-7.485 5.267-11.827 6.711-15.055 48.4-108.225 87.24-152.427 169.087-152.427l44.423 0m-324.423 0c56.809 0 87.751 27.071 122.897 95.883-7.743 14.34-15.519 30.301-23.497 48.005-35.031-76.511-57.674-101.888-99.4-101.888l-95.577 0 0-42 95.577 0"}].concat([]))];return t&&s.unshift(Nd.a.createElement("title",null,t)),Nd.a.createElement.apply(Nd.a,["svg",a].concat(s))}v8e.propTypes={"aria-label":vc.a.string,className:vc.a.string,style:vc.a.object};var y8e=v8e;const f8e=Nd.a.createElement;var b8e=Vu()(y8e,{});var I8e=function(e){return f8e(D$,tp()({tooltip:Object(Ze.default)("Shuffle"),"data-qa-id":"toolbarShuffle"},e),b8e)};const S8e=Nd.a.createElement;var C8e=Vu()(LUe,{});var M8e=function(e){return S8e(D$,tp()({tooltip:Object(Ze.default)("Sync"),"data-qa-id":"toolbarSync"},e),C8e)};function D8e(e){var t=e["aria-label"],i=e.className,n=e.style,a={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-toolbar-played-toggle-560"};a["aria-hidden"]=!t,a.style=n,a.className=Ad.a.plexIcon+(i?" "+i:"");var s=[Nd.a.createElement.apply(Nd.a,["path",{d:"M280,518 C148.556,518 42,411.444 42,280 C42,148.556 148.556,42 280,42 C411.444,42 518,148.556 518,280 C518,411.444 411.444,518 280,518 Z M280,476 C388.248,476 476,388.248 476,280 C476,171.752 388.248,84 280,84 C171.752,84 84,171.752 84,280 C84,388.248 171.752,476 280,476 Z M267.373,395.87 L158.254,332.87 L179.254,296.497 L252,338.497 L350,168.756 L386.373,189.756 L267.373,395.87 Z"}].concat([]))];return t&&s.unshift(Nd.a.createElement("title",null,t)),Nd.a.createElement.apply(Nd.a,["svg",a].concat(s))}D8e.propTypes={"aria-label":vc.a.string,className:vc.a.string,style:vc.a.object};var P8e=D8e;const{Component:O8e}=Nd.a;var j8e=class extends O8e{constructor(e,t){super(e,t),this._toolbarMenuButtonID=void 0,this.onMenuButtonPress=e=>{this.setState({isMenuOpen:!this.state.isMenuOpen})},this.onMenuClose=()=>{this.setState({isMenuOpen:!1})},this.state={isMenuOpen:!1},this._toolbarMenuButtonID=Mp()}render(){const{showMarkPlayed:e,showMarkUnplayed:t,onMarkPlayedPress:i,onMarkUnplayedPress:n}=this.props,{isMenuOpen:a}=this.state;return Vu()(p8e,{id:this._toolbarMenuButtonID,iconComponent:P8e,label:Object(Ze.default)("Toggle Played..."),isMenuOpen:a,onPress:this.onMenuButtonPress},void 0,Vu()(Qv,{target:this._toolbarMenuButtonID,isOpen:a,onMenuClose:this.onMenuClose},void 0,e?Vu()(Zv,{onPress:Cb(this.onMenuClose,i)},void 0,Object(Ze.default)("Mark as Played")):null,t?Vu()(Zv,{onPress:Cb(this.onMenuClose,n)},void 0,Object(Ze.default)("Mark as Unplayed")):null))}},w8e=i("YJ/b"),T8e=i.n(w8e);const E8e=Nd.a.createElement,{Component:N8e}=Nd.a,x8e=parseInt(BV.toolbarButtonWidth,10);function A8e(e,t){return e.filter(e=>!!t[e])}var L8e=function(e,t,i){var n,a;return a=n=class extends N8e{constructor(e,t){super(e,t),this.onMeasure=({width:e})=>{this.setState({isMeasured:!0,width:e})},this.state={isMeasured:!1}}render(){const{isMeasured:n,width:a}=this.state;let s={};if(n){s=function(e,t,i,n){const a=Math.floor(i/n),s={showOverflow:a<e.length||t.length>0};let r=a-(s.showOverflow?1:0);return e.forEach(e=>{s[e]=r-- >0,s[e]||(s[e+"Overflow"]=!0)}),s}(A8e(t,this.props),A8e(i,this.props),a,x8e)}return Vu()(T0,{className:T8e.a.toolbarContainer,ignoreHeight:!0,ignorePosition:!0,onMeasure:this.onMeasure},void 0,n?E8e(e,tp()({className:T8e.a.toolbar},this.props,s)):null)}},n.displayName="MeasuredPageHeaderToolbar("+ff(e)+")",n.WrappedComponent=e,a};function k8e(e){var t=e["aria-label"],i=e.className,n=e.style,a={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-toolbar-more-vertical-560"};a["aria-hidden"]=!t,a.style=n,a.className=Ad.a.plexIcon+(i?" "+i:"");var s=[Nd.a.createElement.apply(Nd.a,["path",{d:"M280 168c-30.897 0-56-25.103-56-56 0-30.896 25.103-56 56-56s56 25.104 56 56c-.965 31.862-25.103 56-56 56zm56 112c0 30.897-25.103 56-56 56s-56-25.103-56-56 25.103-56 56-56 56 25.103 56 56zm0 168c0 30.897-25.103 56-56 56s-56-25.103-56-56 25.103-56 56-56 56 25.103 56 56z"}].concat([]))];return t&&s.unshift(Nd.a.createElement("title",null,t)),Nd.a.createElement.apply(Nd.a,["svg",a].concat(s))}k8e.propTypes={"aria-label":vc.a.string,className:vc.a.string,style:vc.a.object};var R8e=k8e;const{Component:z8e}=Nd.a;var U8e=class extends z8e{constructor(e,t){super(e,t),this.onAddToPlaylistPress=()=>{this.setState({isAddToPlaylistModalOpen:!0})},this.onAddToPlaylistClose=()=>{this.setState({isAddToPlaylistModalOpen:!1}),this.props.onMenuClose()},this.state={isAddToPlaylistModalOpen:!1}}render(){const e=this.props,{isAddToPlaylistModalOpen:t}=this.state;return Vu()("div",{},void 0,e.showPlay?Vu()(Zv,{onPress:Cb(e.onMenuClose,e.onPlaySelectedPress)},void 0,Object(Ze.default)("Play")):null,e.showShuffle?Vu()(Zv,{onPress:Cb(e.onMenuClose,e.onShufflePress)},void 0,Object(Ze.default)("Shuffle")):null,e.showQueue?Vu()(Zv,{onPress:Cb(e.onMenuClose,e.onPlaySelectedNextPress)},void 0,Object(Ze.default)("Play Next")):null,e.showQueue?Vu()(Zv,{onPress:Cb(e.onMenuClose,e.onAddToQueuePress)},void 0,Object(Ze.default)("Add to Queue")):null,e.showAddToPlaylist?Vu()(Zv,{onPress:this.onAddToPlaylistPress},void 0,Object(Ze.default)("Add to Playlist...")):null,e.showFavorite?Vu()(Zv,{onPress:Cb(e.onMenuClose,e.onFavoritePress)},void 0,Object(Ze.default)("Add to Favorites")):null,e.showUnfavorite?Vu()(Zv,{onPress:Cb(e.onMenuClose,e.onUnfavoritePress)},void 0,Object(Ze.default)("Remove from Favorites")):null,e.showMarkPlayed?Vu()(Zv,{onPress:Cb(e.onMenuClose,e.onMarkPlayedPress)},void 0,Object(Ze.default)("Mark as Played")):null,e.showMarkUnplayed?Vu()(Zv,{onPress:Cb(e.onMenuClose,e.onMarkUnplayedPress)},void 0,Object(Ze.default)("Mark as Unplayed")):null,e.showEdit?Vu()(Zv,{onPress:Cb(e.onMenuClose,e.onEditPress)},void 0,Object(Ze.default)("Edit")):null,e.showRefresh?Vu()(Zv,{onPress:Cb(e.onMenuClose,e.onRefreshPress)},void 0,Object(Ze.default)("Refresh Metadata")):null,e.showAnalyze?Vu()(Zv,{onPress:Cb(e.onMenuClose,e.onAnalyzePress)},void 0,Object(Ze.default)("Analyze")):null,e.showMerge?Vu()(Zv,{onPress:Cb(e.onMenuClose,e.onMergePress)},void 0,Object(Ze.default)("Merge")):null,e.showSync?Vu()(Zv,{onPress:Cb(e.onMenuClose,e.onSyncPress)},void 0,Object(Ze.default)("Sync...")):null,e.showOptimize?Vu()(Zv,{onPress:Cb(e.onMenuClose,e.onOptimizePress)},void 0,Object(Ze.default)("Optimize...")):null,e.showDelete?Vu()(Zv,{kind:Op,onPress:Cb(e.onMenuClose,e.onDeletePress)},void 0,Object(Ze.default)("Delete")):null,e.showRemove?Vu()(Zv,{onPress:Cb(e.onMenuClose,e.onDeletePress)},void 0,Object(Ze.default)("Remove")):null,e.showAddToPlaylist?Vu()(woe,{serverEntityID:e.serverEntityID,providerEntityID:e.providerEntityID,isOpen:t,onModalClose:this.onAddToPlaylistClose}):null)}};const V8e=Nd.a.createElement;var B8e=function(e){const{target:t,isOpen:i}=e,n=Xe()(e,["target","isOpen"]);return Vu()(Qv,{target:t,isOpen:i,onMenuClose:e.onMenuClose},void 0,V8e(U8e,n))};const F8e=Nd.a.createElement,{Component:H8e}=Nd.a;function _8e(e){return 1===e?Object(Ze.default)("Are you sure you want to mark this item as played?"):Object(Ze.default)("Are you sure you want to mark these {selectedItemsCount} items as played?",{selectedItemsCount:e})}function W8e(e){return 1===e?Object(Ze.default)("Are you sure you want to mark this item as unplayed?"):Object(Ze.default)("Are you sure you want to mark these {selectedItemsCount} items as unplayed?",{selectedItemsCount:e})}function Q8e(e){const{selectedItemsCount:t,activeSelectionType:i,showRemove:n}=e,a=1===t;return n?a?Object(Ze.default)("Are you sure you want to remove this item?"):Object(Ze.default)("Are you sure you want to remove these {selectedItemsCount} items?",{selectedItemsCount:t}):i===Qt.m?a?Object(Ze.default)("Are you sure you want to delete this playlist?"):Object(Ze.default)("Are you sure you want to delete these {selectedItemsCount} playlists?",{selectedItemsCount:t}):i===Qt.e?a?Object(Ze.default)("Are you sure you want to delete this collection?"):Object(Ze.default)("Are you sure you want to delete these {selectedItemsCount} collections?",{selectedItemsCount:t}):a?Object(Ze.default)("Are you sure you want to delete this item from your filesystem?"):Object(Ze.default)("Are you sure you want to delete these {selectedItemsCount} items from your filesystem?",{selectedItemsCount:t})}var G8e=Vu()(iwe,{}),K8e=Vu()(awe,{});var Y8e=L8e(class extends H8e{constructor(e,t){super(e,t),this._moreButtonID=void 0,this.onPlaySelectedShortcut=()=>{const{showPlay:e,showPlayOverflow:t,onPlaySelectedPress:i}=this.props;(e||t)&&i()},this.onToggleWatchedShortcut=()=>{const{showMarkPlayed:e,showMarkUnplayed:t}=this.props;e?this.setState({isConfirmMarkPlayedModalOpen:!0}):t&&this.setState({isConfirmMarkUnplayedModalOpen:!0})},this.onEditShortcut=()=>{const{showEdit:e,showEditOverflow:t,onEditPress:i}=this.props;(e||t)&&i()},this.onActionsPress=e=>{this.setState({isActionsMenuOpen:!this.state.isActionsMenuOpen})},this.onActionsMenuClose=()=>{this.setState({isActionsMenuOpen:!1})},this.onMarkPlayedPress=e=>{this.setState({isConfirmMarkPlayedModalOpen:!0})},this.onMarkUnplayedPress=e=>{this.setState({isConfirmMarkUnplayedModalOpen:!0})},this.onMarkPlayedConfirm=()=>{this.setState({isConfirmMarkPlayedModalOpen:!1}),this.props.onMarkPlayedConfirm()},this.onMarkPlayedCancel=()=>{this.setState({isConfirmMarkPlayedModalOpen:!1})},this.onMarkUnplayedConfirm=()=>{this.setState({isConfirmMarkUnplayedModalOpen:!1}),this.props.onMarkUnplayedConfirm()},this.onMarkUnplayedCancel=()=>{this.setState({isConfirmMarkUnplayedModalOpen:!1})},this.onDeletePress=e=>{this.setState({isConfirmDeleteModalOpen:!0})},this.onDeleteConfirm=e=>{this.setState({isConfirmDeleteModalOpen:!1}),this.props.onDeleteConfirm()},this.onDeleteCancel=()=>{this.setState({isConfirmDeleteModalOpen:!1})},this.onAddToPlaylistPress=()=>{this.setState({isAddToPlaylistModalOpen:!0})},this.onAddToPlaylistClose=()=>{this.setState({isAddToPlaylistModalOpen:!1})},this.state={isActionsMenuOpen:!1,isConfirmMarkPlayedModalOpen:!1,isConfirmMarkUnplayedModalOpen:!1,isConfirmDeleteModalOpen:!1,isAddToPlaylistModalOpen:!1},this._moreButtonID=Mp()}componentDidMount(){U.a.on("shortcut:playSelected",this.onPlaySelectedShortcut),U.a.on("shortcut:edit",this.onEditShortcut)}shouldComponentUpdate(e,t){return Tp(this,e,t)}componentWillUnmount(){U.a.off("shortcut:playSelected",this.onPlaySelectedShortcut),U.a.off("shortcut:edit",this.onEditShortcut)}render(){const{className:e,serverEntityID:t,providerEntityID:i,selectedItemsCount:n,showPlay:a,showPlayOverflow:s,showShuffle:r,showShuffleOverflow:o,showAddToPlaylist:l,showAddToPlaylistOverflow:c,showFavorite:d,showFavoriteOverflow:u,showUnfavorite:p,showUnfavoriteOverflow:h,showTogglePlayed:m,showTogglePlayedOverflow:g,showMarkPlayed:v,showMarkUnplayed:y,showEdit:f,showEditOverflow:b,showSync:I,showSyncOverflow:S,showOverflow:C,onPlaySelectedPress:M,onShufflePress:D,onFavoritePress:P,onUnfavoritePress:O,onEditPress:j,onSyncPress:w}=this.props,{isActionsMenuOpen:T,isConfirmMarkPlayedModalOpen:E,isConfirmMarkUnplayedModalOpen:N,isConfirmDeleteModalOpen:x,isAddToPlaylistModalOpen:A}=this.state;return Vu()("div",{className:e},void 0,a?Vu()(g8e,{playLabel:Object(Ze.default)("Play Selected"),onPress:M}):null,r?Vu()(I8e,{onPress:D}):null,l?Vu()(c8e,{serverEntityID:t,providerEntityID:i,onAddToPlaylistPress:this.onAddToPlaylistPress}):null,d?Vu()(D$,{"data-qa-id":"toolbarFavorite",tooltip:Object(Ze.default)("Add to Favorites"),onPress:P},void 0,G8e):null,p?Vu()(D$,{"data-qa-id":"toolbarUnfavorite",tooltip:Object(Ze.default)("Remove from Favorites"),onPress:O},void 0,K8e):null,m?Vu()(j8e,{showMarkPlayed:v,showMarkUnplayed:y,onMarkPlayedPress:this.onMarkPlayedPress,onMarkUnplayedPress:this.onMarkUnplayedPress}):null,f?Vu()(j4e,{onPress:j}):null,I?Vu()(M8e,{onPress:w}):null,C?Vu()(p8e,{id:this._moreButtonID,iconComponent:R8e,label:Object(Ze.default)("More..."),isMenuOpen:T,onPress:this.onActionsPress}):null,F8e(B8e,tp()({},this.props,{target:this._moreButtonID,isOpen:T,showPlay:s,showShuffle:o,showAddToPlaylist:c,showFavorite:u,showUnfavorite:h,showMarkPlayed:g&&v,showMarkUnplayed:g&&y,showEdit:b,showSync:S,onMenuClose:this.onActionsMenuClose,onMarkPlayedPress:this.onMarkPlayedPress,onMarkUnplayedPress:this.onMarkUnplayedPress,onDeletePress:this.onDeletePress})),Vu()(F_,{isOpen:E,metricsPage:zd.t,title:Object(Ze.default)("Mark as Played"),message:_8e(n),onConfirm:this.onMarkPlayedConfirm,onCancel:this.onMarkPlayedCancel}),Vu()(F_,{isOpen:N,metricsPage:zd.s,title:Object(Ze.default)("Mark as Unplayed"),message:W8e(n),onConfirm:this.onMarkUnplayedConfirm,onCancel:this.onMarkUnplayedCancel}),Vu()(F_,{isOpen:x,metricsPage:zd.k,kind:Op,title:this.props.showRemove?Object(Ze.default)("Remove"):Object(Ze.default)("Delete"),message:Q8e(this.props),onConfirm:this.onDeleteConfirm,onCancel:this.onDeleteCancel}),l?Vu()(woe,{serverEntityID:t,providerEntityID:i,isOpen:A,onModalClose:this.onAddToPlaylistClose}):null)}},["showPlay","showShuffle","showAddToPlaylist","showFavorite","showUnfavorite","showTogglePlayed","showEdit","showSync","showSyncDownload"],["showRefresh","showAnalyze","showMerge","showOptimize","showDelete"]);var q8e=kK((function(){return Object(Wu.a)(Object(Wu.a)(Ku,e=>{const t={};for(const i of Object.keys(e))t[i]=JS(e[i]);return t}),Object(Wu.a)(yg,e=>{const t={};for(const i of Object.keys(e))t[i]=YS(e[i]);return t}),Object(Wu.a)(XK,zre,(e,{activeSelectionItems:t})=>t.map(t=>e[t.model])),zre,IT,(e,t,i,n,a)=>{const{activeSelectionType:s}=n,r=a8e(a,i.map(i=>({model:i,provider:t[i.providerEntityID],server:e[i.serverEntityID]})),s),o=r.showMarkPlayed||r.showMarkUnplayed;return Object.assign({activeSelectionType:s,showTogglePlayed:o},r)})}),(function(e,t){const i={serverEntityID:t.serverEntityID,providerEntityID:t.providerEntityID,metricsPage:t.metricsPage};return{onPlaySelectedPress(){e(ax(i))},onShufflePress(){e(mx(i))},onPlaySelectedNextPress(){e(fx(i))},onAddToQueuePress(){e(yx(i))},onFavoritePress(){e(sx(i))},onUnfavoritePress(){e(rx(i))},onMarkPlayedConfirm(){e(gx(i))},onMarkUnplayedConfirm(){e(vx(i))},onEditPress(){e(ox(i))},onRefreshPress(){e(lx(i))},onAnalyzePress(){e(cx(i))},onMergePress(){e(px(i))},onSyncPress(){e(dx(i))},onOptimizePress(){e(ux(i))},onDeleteConfirm(){e(hx(Object.assign({},i,{options:{skipRedirect:!t.allowRedirectOnDelete}})))},onDeselectAllPress(){e($N(i))}}}))(Y8e),Z8e=i("gA5T"),J8e=i.n(Z8e);const X8e=Nd.a.createElement;function $8e(e){const{selectedItemsCount:t,toolbarComponent:i,onDeselectAllPress:n}=e,a=Xe()(e,["selectedItemsCount","toolbarComponent","onDeselectAllPress"]);return Vu()(Z2e,{className:J8e.a.multiSelectPageHeader},void 0,Vu()(x$,{},void 0,Vu()("div",{className:J8e.a.selectedTitle},void 0,Vu()(ay,{className:J8e.a.icon}),1===t?Object(Ze.default)("1 item selected"):Object(Ze.default)("{selectedItemsCount} items selected",{selectedItemsCount:t})),Vu()(zp,{className:J8e.a.deselectLink,onPress:n},void 0,Vu()(NI,{className:J8e.a.icon}),Object(Ze.default)("Deselect All"))),Vu()(R$,{},void 0,X8e(i,tp()({selectedItemsCount:t},a))))}$8e.defaultProps={toolbarComponent:q8e,allowRedirectOnDelete:!1};var e9e=$8e;var t9e=kK((function(){return Object(Wu.a)(zre,e=>({selectedItemsCount:e.activeSelectionItems.length}))}),(function(e,t){const i={serverEntityID:t.serverEntityID,providerEntityID:t.providerEntityID,metricsPage:t.metricsPage};return{onDeselectAllPress(){e($N(i))}}}))(e9e);const i9e=Object(Wu.a)(zre,e=>e.activeSelectionItems[0]),n9e=Object(Wu.a)(XK,i9e,(e,t)=>t&&e[t.model]);var a9e=kK(Object(Wu.a)(n9e,(e={})=>{const{providerEntityID:t,serverEntityID:i}=e;return{providerEntityID:t,serverEntityID:i}}))(t9e),s9e=i("J/RP"),r9e=i.n(s9e);var o9e=function(e){const{title:t,detail:i,route:n}=e,a=n?zp:"div";return Vu()(a,{className:n?r9e.a.containerWithRoute:r9e.a.container,to:n},void 0,Vu()("div",{className:r9e.a.title},void 0,t),i?Vu()("div",{className:r9e.a.detail},void 0,i):null)};function l9e(e,t){return t?e+"-"+t:e}const{Component:c9e}=Nd.a;var d9e=class extends c9e{constructor(...e){super(...e),this.onListStylePress=e=>{this.props.onListStylePress(this.props.listStyle)}}render(){const{isSelected:e,title:t}=this.props;return Vu()(oy,{isSelected:e,onPress:this.onListStylePress},void 0,t)}},u9e=i("j+1R"),p9e=i.n(u9e);const{Component:h9e}=Nd.a;class m9e extends h9e{constructor(e,t){super(e,t),this._columnAdjustmentTimeoutID=void 0,this._stylesButtonID=void 0,this.onSliderChange=({steppedValue:e})=>{this.setState({sliderValue:e}),this._clearTimeout(),this._columnAdjustmentTimeoutID=window.setTimeout(()=>{this.props.onColumnAdjustmentChange(-1*e)},this.props.columnAdjustmentTimeout)},this.onStylesPress=e=>{this.setState({isStylesMenuOpen:!this.state.isStylesMenuOpen})},this.onStylesMenuClose=()=>{this.setState({isStylesMenuOpen:!1})},this.onListStylePress=e=>{this.props.onListStyleChange(e),this.onStylesMenuClose()},this.state={sliderValue:-1*e.columnAdjustment,isStylesMenuOpen:!1},this._stylesButtonID=Mp()}componentWillReceiveProps(e){e.columnAdjustment!==this.props.columnAdjustment&&this.setState({sliderValue:-1*e.columnAdjustment})}componentWillUnmount(){this._clearTimeout()}_clearTimeout(){this._columnAdjustmentTimeoutID&&window.clearTimeout(this._columnAdjustmentTimeoutID)}render(){const{listType:e,listContext:t,selectedListStyle:i,allListStyles:n}=this.props,{sliderValue:s,isStylesMenuOpen:r}=this.state,{POSTER:o,MOSAIC:l,TABLE:c,SUMMARY:d,SIMPLE_SUMMARY:u}=a,p=[{listStyle:o,title:Object(Ze.default)("Grid View")},{listStyle:l,title:Object(Ze.default)("Mosaic View")},{listStyle:c,title:Object(Ze.default)("List View")},{listStyle:d,title:Object(Ze.default)("Summary View")},{listStyle:u,title:Object(Ze.default)("Summary View")}],h=Tc(i),m=Ec(n),g=(v=i)===Mc?g2e:v===Pc||v===Dc?y2e:b2e;var v;return h||m?Vu()("div",{className:p9e.a.stylesContainer},void 0,h?Vu()(nF,{className:p9e.a.slider,label:Object(Ze.default)("Poster Size"),value:s,min:-1,max:2,stepSize:1,onChange:this.onSliderChange}):null,Vu()(zp,{id:this._stylesButtonID,"data-qa-id":"toolbarView",className:m?p9e.a.stylesButtonWithArrow:p9e.a.stylesButton,"aria-label":Object(Ze.default)("Show List Styles"),isDisabled:!m,onPress:this.onStylesPress},void 0,Vu()(g,{className:p9e.a.stylesIcon}),m?Vu()(fy,{direction:r?hy:my}):null),m?Vu()(Qv,{target:this._stylesButtonID,isOpen:r,onMenuClose:this.onStylesMenuClose},void 0,p.map(({listStyle:e,title:t})=>n.indexOf(e)>-1&&Vu()(d9e,{isSelected:i===e,title:t,listStyle:e,onListStylePress:this.onListStylePress},e))):null):null}}m9e.defaultProps={selectedListStyle:Sc,allListStyles:[Sc],allListStyleActions:[],columnAdjustmentTimeout:500};var g9e=m9e;const v9e=Nd.a.createElement,{Component:y9e}=Nd.a,f9e=Object(Wu.a)(Rg.a,e=>({columnAdjustment:e.columnAdjustment,listStyles:e.listStyles}));var b9e=Object(Hu.b)(e=>f9e,{saveExperienceSettings:Qu.l})(class extends y9e{constructor(...e){super(...e),this.onColumnAdjustmentChange=e=>{Object(Ti.a)(()=>{this.props.saveExperienceSettings({columnAdjustment:e})})},this.onListStyleChange=e=>{const{listStyles:t,listType:i,listSubtype:n,listContext:a}=this.props,s=l9e(i,n),r=Object.assign({},t,{[a]:Object.assign({},t[a]||{},{[s]:e})});Object(Ti.a)(()=>{this.props.saveExperienceSettings({listStyles:r})})}}render(){return v9e(g9e,tp()({},this.props,{onColumnAdjustmentChange:this.onColumnAdjustmentChange,onListStyleChange:this.onListStyleChange}))}});const{Component:I9e,Fragment:S9e}=Nd.a,C9e={isEditModalOpen:!1};var M9e=Vu()(S4e,{}),D9e=Vu()(b9e,{});var P9e=class extends I9e{constructor(e,t){super(e,t),this.onEditButtonPress=()=>{this.setState({isEditModalOpen:!this.state.isEditModalOpen})},this.onModalClose=()=>{this.setState(C9e)},this.state=C9e}render(){const{isAnonymousUser:e}=this.props,{isEditModalOpen:t}=this.state;return Vu()(Z2e,{},void 0,Vu()(x$,{},void 0,Vu()(o9e,{title:Object(Ze.default)("Home")})),Vu()(R$,{},void 0,e?null:Vu()(S9e,{},void 0,Vu()(D4e,{},void 0,Vu()(j4e,{onPress:this.onEditButtonPress})),M9e),D9e,Vu()(I3e,{isOpen:t,onModalClose:this.onModalClose})))}};const{useEffect:O9e}=Nd.a;var j9e=Vu()(dh,{},void 0,Vu()(Jh,{})),w9e=Vu()(z5e,{}),T9e=Vu()(_5e,{}),E9e=Vu()(a9e,{}),N9e=Vu()(P9e,{});var x9e=function(e){const{activeSelectionType:t,isPending:i,hasNoProviders:n,hasWatchTogetherRooms:a,isManagedUser:s,preferredServerID:r,settingsKey:o,shouldFetchPreferredServerContent:l,shouldFetchProviderPromotedContent:c,shouldFetchHomeContent:d,dispatchInitHomePage:u,dispatchResetHomePage:p,dispatchFetchPreferredServerContent:h,dispatchFetchProviderPromotedContent:m,dispatchFetchHomeContent:g,dispatchTryUpdateWatchTogetherRooms:v}=e;return O9e(()=>(u(),p),[]),O9e(()=>{l&&h()},[l,h]),O9e(()=>{c&&m()},[c,m]),O9e(()=>{d&&g()},[d,g]),O9e(()=>{v()},[v]),i?j9e:n&&!a?s?w9e:T9e:Vu()(R5e,{machineIdentifier:r},void 0,Vu()(f$,{isMetricsDelegated:!0,metricsPage:zd.O,allowBackgroundLightPreset:!0,scrollDirection:Zp},void 0,t?E9e:N9e,Vu()(J6e,{settingsKey:o,hasWatchTogetherRooms:a})))};const A9e=Nd.a.createElement,{Component:L9e}=Nd.a,k9e=Object(Wu.a)(Zu.a,tte,u5e,Ibe,zre,g5e,v5e,Yu,Object(Wu.a)(e=>e.ui.watchTogether.rooms,e=>e.length>0),(e,t,i,n,a,s,r,o,l)=>{const{isPending:c,shouldFetchHomeContent:d,shouldFetchPreferredServerContent:u,shouldFetchProviderPromotedContent:p}=i,{preferredServerID:h,settingsKey:m}=n,{hasCompletedSetup:g}=t,v=e.isProvidersPopulated||!!e.providersError||e.isProvidersPending&&o.isRejected;return{isPending:c||!v||!g,hasNoProviders:s,hasWatchTogetherRooms:l,isManagedUser:r,preferredServerID:h,settingsKey:m,shouldFetchHomeContent:d,shouldFetchPreferredServerContent:u,shouldFetchProviderPromotedContent:v&&g&&p,activeSelectionType:a.activeSelectionType}}),R9e={dispatchInitHomePage:S5e,dispatchResetHomePage:O5e,dispatchFetchPreferredServerContent:D5e,dispatchFetchProviderPromotedContent:P5e,dispatchFetchHomeContent:C5e,dispatchChangeQuickSearchSettings:xte,dispatchTryUpdateWatchTogetherRooms:cle};var z9e=Object(Hu.b)(k9e,R9e)(class extends L9e{componentDidMount(){this.props.dispatchChangeQuickSearchSettings({serverEntityID:null,providerEntityID:null,providerIdentifier:null,directoryID:null})}render(){return A9e(x9e,this.props)}});const{Fragment:U9e}=Nd.a;var V9e=Vu()(dh,{},void 0,Vu()(Jh,{}));var B9e=function(e){const{children:t,isPending:i}=e;return i?V9e:Vu()(U9e,{},void 0,t)};const F9e=Nd.a.createElement,{useRef:H9e}=Nd.a,_9e=Object(Wu.a)(e=>e.isWaitingForServers,UQe,(e,t)=>({preferredServerEntityID:t&&t.entityID,isWaitingForServers:e}));var W9e=Object(Hu.b)(_9e)((function(e){const{isWaitingForServers:t,preferredServerEntityID:i}=e,n=Xe()(e,["isWaitingForServers","preferredServerEntityID"]),a=H9e(t);return a.current&&!t&&(a.current=t),F9e(B9e,tp()({},n,{isPending:!i&&a.current}))})),Q9e=Vu()(l5e,{}),G9e=Vu()(W9e,{},void 0,Vu()(z9e,{}));var K9e=function(){return Object(Hu.d)(yKe)?Q9e:G9e};function Y9e(){return Object(Wu.a)(QK(),(e,{sourceDirectoryID:t})=>t,(e,t)=>GK(e,t))}var q9e=Object(Wu.a)(kQe,e=>e.length>0);var Z9e=Object(Wu.a)(fk,e=>e.dismissedUnclaimedServers);var J9e=Object(Wu.a)(qu,e=>e.some(e=>e.connections.some(e=>e.isLoopback)&&e.connectionTestResult===Zi.PENDING));var X9e=Object(Wu.a)(Yu,J9e,Z5,v5e,q9e,(e,t,i,n,a)=>e.isResourcesPopulated&&!t&&!i.length&&!n&&!a),$9e=i("9kxW"),e7e=i.n($9e);const{Fragment:t7e}=Nd.a;var i7e=function(e){const{children:t,isSidebarCollapsed:i}=e;return Vu()(t7e,{},void 0,i?Vu()("div",{className:e7e.a.sidebarUnderlay}):null,Vu()("div",{className:i?e7e.a.collapsedSidebar:e7e.a.openSidebar},void 0,t))},n7e=i("DFfa"),a7e=i.n(n7e);var s7e=function(){const e=Y9(),t=Object(Ze.default)("An unexpected error is impacting the sidebar");return Vu()(i7e,{isSidebarCollapsed:!0},void 0,Vu()(Wb,{component:zp,tooltip:t,tooltipAttachment:"middleRight","aria-label":t,onPress:e.onOpen},void 0,Vu()(ph,{className:a7e.a.icon})),Vu()(Q9,{isOpen:e.isOpen,errorMessage:t+".",onModalClose:e.onClose}))},r7e=i("JjHc"),o7e=i.n(r7e);const l7e=Nd.a.createElement;function c7e(e){const{"data-qa-id":t,className:i,size:n,style:a,linkClassName:s,titleClassName:r,isActiveClassName:o,isSelectedClassName:l,icon:c,title:d,detail:u,to:p,role:h,isActive:m,isDim:g,isDisabled:v,isSelected:y,children:f,onNavigate:b,onMouseEnter:I,onMouseLeave:S,onFocus:C,onBlur:M}=e;let D,P;return p?(D=zp,P={isDisabled:v,to:p,role:h,"data-qa-id":t,onPress:b}):(D="div",P={}),Vu()("div",{className:(i||"")+" "+(o7e.a[n]||"")+" "+(m&&o||"")+" "+(g&&o7e.a.isDim||"")+" "+(v&&o7e.a.isDisabled||"")+" "+(y&&l||""),"data-qa-id":"sidebarSource",style:a,onMouseEnter:I,onMouseLeave:S,onFocus:C,onBlur:M},void 0,l7e(D,tp()({className:s},P,{title:u?d+", "+u:d}),Vu()("div",{className:o7e.a.iconContainer},void 0,c),Vu()("div",{className:o7e.a.titles},void 0,Vu()("div",{className:r},void 0,d),u?Vu()("div",{className:o7e.a.detail},void 0,u):null)),f)}c7e.defaultProps={className:o7e.a.button,size:Hh,linkClassName:o7e.a.sourceLink,titleClassName:o7e.a.title,isActiveClassName:o7e.a.isActive,isSelectedClassName:o7e.a.isSelected};var d7e=c7e,u7e=i("WGyR"),p7e=i.n(u7e);const h7e=Nd.a.createElement;var m7e=function(e){const{icon:t,connectDragSource:i}=e,n=Xe()(e,["icon","connectDragSource"]),a=h7e(d7e,tp()({icon:t||Vu()(MAe,{className:p7e.a.iconReorder})},n));return i?i(Vu()("div",{className:p7e.a.dragSource},void 0,a)):a};const{Component:g7e}=Nd.a,v7e=parseInt(BV.sourceSidebarItemHeight,10);var y7e=Object(eAe.DragLayer)((function(e,t){const i=e.getItem(),n={item:i,style:null},a=e.getInitialSourceClientOffset(),s=e.getSourceClientOffset();if("SOURCE_ITEM"===e.getItemType()&&a&&s){let e=s.y;e-i.listTop<=0?e=i.listTop:e+v7e>=i.listBottom&&(e=i.listBottom-v7e),n.style=H4e({x:a.x,y:e},i.listWidth)}return n}))(class extends g7e{render(){const{item:e,style:t}=this.props;if(!e||!t)return null;const{sourceTitle:i,sourceDetail:n}=e;return Vu()(pAe,{},void 0,Vu()(m7e,{style:t,title:i,detail:n}))}}),f7e=i("5CAA"),b7e=i.n(f7e);const{Component:I7e}=Nd.a,S7e={beginDrag(e,t,i){const{sourceTitle:n,sourceTitleDetail:a,listIndex:s,isRemoved:r,listHeight:o,listWidth:l,listTop:c,listRight:d,listBottom:u,listLeft:p}=e;return{dragIndex:s,sourceTitle:n,sourceTitleDetail:a,isRemoved:r,listHeight:o,listWidth:l,listTop:c,listRight:d,listBottom:u,listLeft:p}},endDrag(e,t,i){e.onItemDragEnd({didDrop:t.didDrop()})}},C7e={hover(e,t,i){const n=t.getClientOffset(),a=Object(Bu.findDOMNode)(i).getBoundingClientRect(),s=(a.bottom-a.top)/2,r=n.y-a.top,o=t.getItem().dragIndex,l=e.listIndex;let c;c=l===o?l:r>s?l+1:l,e.onItemDragMove({dragIndex:o,dropIndex:c})}};var M7e=Object(eAe.DropTarget)("SOURCE_ITEM",C7e,(function(e,t){return{connectDropTarget:e.dropTarget(),isOver:t.isOver()}}))(Object(eAe.DragSource)("SOURCE_ITEM",S7e,(function(e,t){return{connectDragPreview:e.dragPreview(),connectDragSource:e.dragSource(),isDragging:t.isDragging()}}))(class extends I7e{componentDidMount(){this.props.connectDragPreview(Object(tAe.getEmptyImage)())}render(){const{sourceTitle:e,sourceTitleDetail:t,isOver:i,isDragging:n,isDraggingBefore:a,isDraggingAfter:s,connectDropTarget:r,connectDragSource:o}=this.props;return r(Vu()("div",{className:(b7e.a.container||"")+" "+(i&&b7e.a.isOver||"")+" "+(n?"isDragging":"")+" "+(i&&a?"isDraggingBefore":"")+" "+(i&&s?"isDraggingAfter":"")},void 0,Vu()(m7e,{title:e,detail:t,connectDragSource:o})))}})),D7e=i("iT+t"),P7e=i.n(D7e);const O7e=Nd.a.createElement,{Component:j7e}=Nd.a,w7e={dragIndex:-1,dropIndex:-1,hasValidDropTarget:!1};var T7e=Vu()(pv,{},void 0,Vu()(y7e,{}));class E7e extends j7e{constructor(e,t){super(e,t),this.onItemDragMove=e=>{const{dragIndex:t,dropIndex:i}=e,{dragIndex:n,dropIndex:a}=this.state;let s=i!==a?i:a;const r=t!==n?t:n;if((s===r||s>r&&s-r==1)&&(s=-1),r!==n||s!==a){const e={dragIndex:r,dropIndex:s,hasValidDropTarget:-1!==s};this.setState(e)}},this.onItemDragEnd=e=>{const{dragIndex:t,dropIndex:i}=this.state;let n;e.didDrop&&-1!==i&&(n=()=>{this.props.onReorderSource({fromIndex:t,toIndex:i>t?i-1:i})}),this.setState(w7e,n)},this.onMeasure=e=>{const{height:t,width:i,x:n,y:a}=e;this.setState({listHeight:t,listWidth:i,listTop:a,listRight:n+i,listBottom:a+t,listLeft:n})},this.state=Object.assign({},w7e,{listHeight:0,listWidth:0,listTop:0,listRight:0,listBottom:0,listLeft:0})}render(){const{className:e,sources:t}=this.props,{dropIndex:i,hasValidDropTarget:n}=this.state;return Vu()(T0,{className:e,ignoreTransforms:!0,onMeasure:this.onMeasure},void 0,t.map((e,t)=>{const a=n&&i===t,s=n&&i===t+1;return O7e(M7e,tp()({},this.state,{key:e.key,sourceTitle:e.title,sourceTitleDetail:e.titleDetail,listIndex:t,hasValidDropTarget:n,isDraggingAfter:s,isDraggingBefore:a,onItemDragMove:this.onItemDragMove,onItemDragEnd:this.onItemDragEnd}))}),T7e)}}E7e.defaultProps={className:P7e.a.container};var N7e=nAe(E7e);function x7e(e){var t=e["aria-label"],i=e.className,n=e.style,a={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-sidebar-downloads-560"};a["aria-hidden"]=!t,a.style=n,a.className=Ad.a.plexIcon+(i?" "+i:"");var s=[Nd.a.createElement.apply(Nd.a,["path",{d:"M280 510.588c127.35 0 230.588-103.238 230.588-230.588S407.35 49.412 280 49.412 49.412 152.65 49.412 280 152.65 510.588 280 510.588zM280 560C125.36 560 0 434.64 0 280S125.36 0 280 0s280 125.36 280 280-125.36 280-280 280zm0-131.765l131.765-131.764H306.353V131.765h-52.706V296.47H148.235L280 428.235z"}].concat([]))];return t&&s.unshift(Nd.a.createElement("title",null,t)),Nd.a.createElement.apply(Nd.a,["svg",a].concat(s))}x7e.propTypes={"aria-label":vc.a.string,className:vc.a.string,style:vc.a.object};var A7e=x7e;function L7e(e){var t=e["aria-label"],i=e.className,n=e.style,a={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-sidebar-home-560"};a["aria-hidden"]=!t,a.style=n,a.className=Ad.a.plexIcon+(i?" "+i:"");var s=[Nd.a.createElement.apply(Nd.a,["path",{d:"M0 520V296.569a40 40 0 0 1 11.716-28.285L280 0l268.284 268.284A40 40 0 0 1 560 296.57V520c0 22.091-17.909 40-40 40H340V360H220v200H40c-22.091 0-40-17.909-40-40z"}].concat([]))];return t&&s.unshift(Nd.a.createElement("title",null,t)),Nd.a.createElement.apply(Nd.a,["svg",a].concat(s))}L7e.propTypes={"aria-label":vc.a.string,className:vc.a.string,style:vc.a.object};var k7e=L7e,R7e=i("EXW4"),z7e=i.n(R7e);const U7e=Nd.a.createElement;function V7e(e){return U7e("div",e)}V7e.defaultProps={className:z7e.a.header};var B7e=V7e,F7e=i("+tih"),H7e=i.n(F7e);const _7e=Nd.a.createElement;function W7e(e){const{className:t}=e;return _7e(ih,tp()({className:t,autoScroll:!0},e))}W7e.defaultProps={className:H7e.a.scroller};var Q7e=W7e,G7e=i("3YNL"),K7e=i.n(G7e);const{Component:Y7e,Fragment:q7e}=Nd.a;var Z7e=Vu()(NI,{}),J7e=Vu()(k7e,{}),X7e=Vu()(A7e,{});var $7e=class extends Y7e{constructor(...e){super(...e),this.onReorderSource=({fromIndex:e,toIndex:t})=>{if(e===t)return;const{sources:i,hiddenSidebarSourceKeys:n,onReorderPinnedSources:a}=this.props;a({sourceKeys:w4e(i.map(e=>e.key),e,t).concat(n)})}}render(){const{sources:e,hasDownloadsSource:t,onCloseReorderPinSources:i}=this.props;return Vu()(q7e,{},void 0,Vu()(B7e,{},void 0,Vu()("div",{className:K7e.a.titleContainer},void 0,Vu()("div",{className:K7e.a.title},void 0,Object(Ze.default)("Reorder")),Vu()(zp,{className:K7e.a.closeButton,"aria-label":Object(Ze.default)("Done"),onPress:i},void 0,Z7e))),Vu()(Q7e,{},void 0,Vu()("div",{className:K7e.a.expandedSidebarContent},void 0,Vu()(m7e,{icon:J7e,title:Object(Ze.default)("Home"),isDisabled:!0}),t?Vu()(m7e,{icon:X7e,title:Object(Ze.default)("Downloads"),isDisabled:!0}):null,Vu()(N7e,{sources:e,onReorderSource:this.onReorderSource}))))}};const eet=Object(Wu.a)(ite,e=>({hiddenSidebarSourceKeys:e.reduce((e,t)=>(t.isHidden&&e.push(t.key),e),[])})),tet={onReorderPinnedSources:dL};var iet=Object(Hu.b)(eet,tet)($7e);const net=parseInt(BV.sourceSidebarServerHeaderIconSize,10);var aet=function(e){const{serverEntityID:t,thumb:i}=e;return Vu()(rC,{serverEntityID:t,url:i,width:net,height:net})};var set=Object(Hu.b)((function(){return Object(Wu.a)(_S(),Object(Wu.a)(_S(),uJ,rq,(e,t,i)=>{const n=t.find(t=>i[t].id===e.ownerId);return n?i[n].thumb:null}),Zu.a,(e,t,i)=>({thumb:e.isShared?t:i.thumb}))}))(aet),ret="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTYwIiBoZWlnaHQ9IjU2MCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICA8ZyBmaWxsLXJ1bGU9Im5vbnplcm8iIGZpbGw9Im5vbmUiPgogICAgPHBhdGggZD0iTTI4MCAwYzE1NC41MzYgMCAyODAgMTI1LjQ2NCAyODAgMjgwUzQzNC41MzYgNTYwIDI4MCA1NjAgMCA0MzQuNTM2IDAgMjgwIDEyNS40NjQgMCAyODAgMCIgZmlsbD0iI0U1QTAwRCIvPgogICAgPHBhdGggZD0iTTI4MCA0NzVjLTI0LjgzNyAwLTQ1LTIwLjE2My00NS00NXMyMC4xNjMtNDUgNDUtNDUgNDUgMjAuMTYzIDQ1IDQ1LTIwLjE2MyA0NS00NSA0NXpNMjUwIDkwaDYwYzExLjAzOCAwIDIwIDguOTYyIDIwIDIwbC0xMCAyMDVjMCAxMS4wMzgtOC45NjIgMjAtMjAgMjBoLTQwYy0xMS4wMzggMC0yMC04Ljk2Mi0yMC0yMGwtMTAtMjA1YzAtMTEuMDM4IDguOTYyLTIwIDIwLTIweiIgZmlsbD0iIzAwMCIvPgogIDwvZz4KPC9zdmc+Cg==",oet=i("LJ6K"),cet=i.n(oet);function det({isUnavailable:e,isOutOfDate:t,isUnclaimed:i}){return e?Object(Ze.default)("Unavailable"):t?Object(Ze.default)("Needs update"):i?Object(Ze.default)("Unclaimed"):void 0}function uet(e){const{isRemote:t,isUnclaimed:i,isUnavailable:n,isOutOfDate:a}=e,s=n||i||a;return s||t?Vu()("div",{className:cet.a.badge},void 0,Vu()("img",s?{className:cet.a.image,src:ret,"aria-label":det(e)}:{className:cet.a.image,src:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTYwIiBoZWlnaHQ9IjU2MCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICA8ZyBmaWxsLXJ1bGU9Im5vbnplcm8iIGZpbGw9Im5vbmUiPgogICAgPHBhdGggZD0iTTI4MCAwQzEyNS41MTcgMCAwIDEyNS41MTcgMCAyODBzMTI1LjUxNyAyODAgMjgwIDI4MCAyODAtMTI1LjUxNyAyODAtMjgwUzQzNC40ODMgMCAyODAgMHoiIGZpbGw9IiM1MTU5NUUiLz4KICAgIDxwYXRoIGQ9Ik00MzIuMDY5IDQ2OC4yNzZjLTI0LjEzOCAyNi41NTItNzAgNTMuMTAzLTEwNi4yMDcgNTMuMTAzLTcuMjQxLTkuNjU1IDAtMTIuMDY5IDAtMjEuNzI0LTE5LjMxLTQuODI3LTMxLjM4LTIxLjcyNC00MS4wMzQtMzguNjItMi40MTQtMTkuMzEgMjQuMTM4LTM4LjYyMSAxNi44OTYtNTUuNTE4LTEyLjA2OSAyLjQxNC0yNi41NTItMi40MTQtMzYuMjA3LTkuNjU1LTQuODI3LTQuODI4LTkuNjU1LTkuNjU1LTEyLjA2OS0xNC40ODMtNy4yNDEtNC44MjctMTYuODk2LTcuMjQxLTI0LjEzOC05LjY1NS0yNi41NTEtOS42NTUtNTMuMTAzLTE5LjMxLTcyLjQxMy00MS4wMzQgMi40MTMtMTkuMzEtOS42NTYtMjguOTY2LTIxLjcyNS00My40NDktMTIuMDY5LTEyLjA2OS03LjI0MS0yNC4xMzgtMTIuMDY5LTQxLjAzNC00LjgyNy0xMi4wNy05LjY1NS0yMS43MjQtOS42NTUtMzMuNzkzIDAtMTIuMDcgNC44MjgtMjQuMTM4IDcuMjQyLTM2LjIwNyA3LjI0MS0yMS43MjQgMjEuNzI0LTQzLjQ0OCAyMS43MjQtNjcuNTg2IDIuNDE0LTkuNjU1LTE0LjQ4My0xMi4wNy0yLjQxNC0yNC4xMzggMTIuMDY5LTEyLjA3IDI4Ljk2Ni0yNi41NTIgNDguMjc2LTI2LjU1MiA5LjY1NSAwIDE0LjQ4MyA0LjgyOCAyNC4xMzggMi40MTQgOS42NTUtMi40MTQgMTkuMzEtNC44MjggMjguOTY1LTQuODI4IDE5LjMxLTIuNDE0IDM4LjYyMS03LjI0MSA1My4xMDQtMTkuMzFsMi40MTQgMi40MTRoMTQuNDgybDIuNDE0LTIuNDE0YzIxLjcyNCAxNi44OTYgNzIuNDE0IDkuNjU1IDY3LjU4NiA1MC42OXYyLjQxM2MtMTkuMzEgMi40MTQtMzMuNzkzIDAtNTMuMTAzLTcuMjQxdjIxLjcyNGMyOC45NjUgMTYuODk3IDY1LjE3MiAyOC45NjYgNzcuMjQxIDYwLjM0NS0xMi4wNjkgMTQuNDgzLTI2LjU1MSA3LjI0MS00My40NDggNy4yNDEtNC44MjggNC44MjgtNy4yNDEgOS42NTUtNC44MjggMTYuODk3LTEyLjA2OSA3LjI0MS0yNC4xMzggMTQuNDgzLTI4Ljk2NSAyOC45NjUtMi40MTQgNy4yNDIgMCAxOS4zMS0yLjQxNCAyNi41NTItNC44MjggOS42NTUtMTQuNDgzIDE2Ljg5Ny0xOS4zMSAyNi41NTIgMCAxNC40ODMgNy4yNDEgMjQuMTM4LTcuMjQyIDM2LjIwNy0xOS4zMSAwLTIxLjcyNC0xNC40ODMtMzYuMjA3LTE5LjMxLTEyLjA2OS00LjgyOC0yOC45NjUgMC00MS4wMzQtMi40MTQtMTkuMzEgNy4yNDEtMTYuODk3IDUzLjEwMyA5LjY1NSA0NS44NjIgMTIuMDctNC44MjggMTIuMDctMTIuMDcgMjguOTY2LTkuNjU2IDEyLjA2OSA3LjI0MiA0LjgyNyAyMS43MjUgNC44MjcgMzEuMzggNy4yNDIgNC44MjcgMTkuMzEgMi40MTQgMjQuMTM4IDEyLjA2OSAwIDcuMjQxLTIuNDE0IDE5LjMxIDIuNDE0IDI0LjEzOCA5LjY1NSAxNC40ODIgMzYuMjA3LTkuNjU1IDQzLjQ0OC0xMi4wNyAyMS43MjQtNy4yNCA0NS44NjItNC44MjcgNjcuNTg2LTQuODI3IDE2Ljg5NyAxMi4wNyA0My40NDkgNy4yNDIgNTcuOTMxIDI0LjEzOCA5LjY1Ni0yLjQxNCAxNi44OTctNy4yNDEgMjYuNTUyIDAtOS42NTUgMjguOTY2LTMzLjc5MyA1MC42OS01NS41MTcgNzIuNDE0eiIgZmlsbD0iI0EwQUFCMSIvPgogIDwvZz4KPC9zdmc+Cg==","aria-label":Object(Ze.default)("Remote server")})):null}function pet(e){const{icon:t,showBadgedIcon:i,isPending:n,isRemote:a,isUnavailable:s,isOutOfDate:r,isUnclaimed:o}=e;return i?n?Vu()(Jh,{className:cet.a.spinner}):Vu()("div",{className:cet.a.container},void 0,t,Vu()(uet,{isRemote:a,isUnavailable:s,isOutOfDate:r,isUnclaimed:o})):t}pet.defaultProps={showBadgedIcon:!0};var het=pet,met=i("M15R"),get=i.n(met);var vet=function(e){const{className:t,isHovered:i,overflowMenuButtonID:n,isOverflowMenuOpen:a,onAddLibraryPress:s,onOverflowMenuToggle:r}=e,o=z.a.hasTouchScreen||i||a;return Vu()("div",{className:o?t:get.a.hidden},void 0,Vu()(JK,{className:get.a.button,"data-qa-id":"sidebarLibrariesAddButton",iconComponent:vA,title:Object(Ze.default)("Add Library"),onPress:s}),Vu()(JK,{id:n,className:get.a.button,"aria-haspopup":"true","data-qa-id":"sidebarLibrariesMoreButton",iconComponent:tX,title:Object(Ze.default)("More Actions"),onPress:r}))};var yet=kK(null,(function(e,t){const i={serverEntityID:t.serverEntityID,metricsPage:t.metricsPage};return{onAddLibraryPress(){e(gK(i))}}}))(vet),fet=i("wrVM"),bet=i.n(fet);const Iet=Nd.a.createElement;var Cet=function(e){return Iet(F_,tp()({},e,{containerClassName:bet.a.modalContainer}))},Met=i("gBB/"),Det=i.n(Met);const Pet=Nd.a.createElement;var Oet=function(e){return Pet(Qv,tp()({},e,{portalClassName:Det.a.menuPortal}))};const{Fragment:jet}=Nd.a,wet={placement:"bottom-start",modifiers:[{name:"offset",options:{offset:[0,-10]}}]};var Tet=function(e){const{serverEntityID:t,machineIdentifier:i,overflowMenuButtonID:n,isLibraryRefreshing:a,isOptimizeDatabaseInProgress:s,isCleanBundlesInProgress:r,isOverflowMenuOpen:o,onScanLibrariesPress:l,onCancelScanLibrariesPress:c,onEmptyTrashPress:d,onOptimizeDatabasePress:u,onCleanBundlesPress:p,onOverflowMenuClose:h}=e,m=Y9(),g=Y9(d),v=Y9(u),y=Y9(p);return Vu()(jet,{},void 0,Vu()(Oet,{target:n,options:wet,isOpen:o,onMenuClose:h},void 0,Vu()(Zv,{onPress:Cb(h,m.onOpen)},void 0,Object(Ze.default)("Share")),a?Vu()(Zv,{onPress:c},void 0,Object(Ze.default)("Cancel Scan")):Vu()(Zv,{onPress:l},void 0,Object(Ze.default)("Scan Library Files")),Vu()(Bse,{label:Object(Ze.default)("Manage Server"),onMenuClose:h},void 0,Vu()(Zv,{to:ln(i,"settings","general")},void 0,Object(Ze.default)("Settings")),Vu()(Zv,{onPress:g.onOpen},void 0,Object(Ze.default)("Empty Trash")),Vu()(Zv,{isDisabled:s,onPress:v.onOpen},void 0,Object(Ze.default)("Optimize Database")),Vu()(Zv,{isDisabled:r,onPress:y.onOpen},void 0,Object(Ze.default)("Clean Bundles")))),Vu()(YJ,{metricsProperties:{context:_t.LIST},serverEntityID:t,isOpen:m.isOpen,onModalClose:m.onClose}),Vu()(Cet,{isOpen:g.isOpen,metricsPage:zd.o,title:Object(Ze.default)("Empty Trash"),message:Object(Ze.default)("By default the media server doesn't remove information for media right away. This helps if a drive is temporarily disconnected. When you empty the trash for a section, all information about missing media is deleted."),confirmLabel:Object(Ze.default)("Empty"),onConfirm:g.onConfirm,onCancel:g.onClose}),Vu()(Cet,{isOpen:v.isOpen,metricsPage:zd.u,title:Object(Ze.default)("Optimize Database"),message:Object(Ze.default)("Cleans up the library database and ensures it is operating as quickly as possible. This is especially useful when you've added or removed a large amount of media from the library."),confirmLabel:Object(Ze.default)("Optimize"),onConfirm:v.onConfirm,onCancel:v.onClose}),Vu()(Cet,{isOpen:y.isOpen,metricsPage:zd.i,title:Object(Ze.default)("Clean Bundles"),message:Object(Ze.default)("The media server stores information about your media to disk, as well as posters, artwork, and other media resources from the internet. Running this task deletes any bundles which are no longer in use."),confirmLabel:Object(Ze.default)("Clean"),onConfirm:y.onConfirm,onCancel:y.onClose}))};var Eet=kK((function(){return Object(Wu.a)(wK(),NK(),xK(),(e,t,i)=>({isLibraryRefreshing:e,isOptimizeDatabaseInProgress:!!t,isCleanBundlesInProgress:!!i}))}),(function(e,t){const i={serverEntityID:t.serverEntityID,metricsPage:t.metricsPage};return{onScanLibrariesPress(){e(vK(i))},onCancelScanLibrariesPress(){e(DK(i))},onEmptyTrashPress(){e(IK(i))},onOptimizeDatabasePress(){e(fK(i))},onCleanBundlesPress(){e(bK(i))}}}))(Tet),Net=i("kDj3"),xet=i.n(Net);const Aet=Nd.a.createElement,{Fragment:Let,useCallback:ket,useEffect:Ret,useState:zet}=Nd.a;var Uet=function(e){const{serverEntityID:t,machineIdentifier:i,hasServerActions:n,iconNode:a,isPending:s,isRemote:r,isUnavailable:o,isOutOfDate:l,isUnclaimed:c,onToggleLockedPress:d}=e,u=Xe()(e,["serverEntityID","machineIdentifier","hasServerActions","iconNode","iconSrc","isPending","isRemote","isUnavailable","isOutOfDate","isUnclaimed","onToggleLockedPress"]),p=cy(),h=zet(!1),m=h[1],g=h[0],[v,y]=Qke(),f=ket(()=>{m(!g)},[g]),b=ket(()=>{m(!1)},[]);return Ret(()=>{d&&d(g)},[g,d]),Vu()(Let,{},void 0,Aet(d7e,tp()({},u,y,{isSelectedClassName:xet.a.isSelected,titleClassName:xet.a.title,isActive:g,role:"navigation",icon:Vu()(het,{icon:Vu()("div",{className:xet.a.iconContainer},void 0,a),isPending:s,isRemote:r,isUnavailable:o,isOutOfDate:l,isUnclaimed:c})}),n?Vu()(yet,{serverEntityID:t,className:xet.a.actionContainer,isHovered:v,overflowMenuButtonID:p,isOverflowMenuOpen:g,onOverflowMenuToggle:f}):null),n?Vu()(Eet,{serverEntityID:t,machineIdentifier:i,overflowMenuButtonID:p,isOverflowMenuOpen:g,onOverflowMenuToggle:f,onOverflowMenuClose:b}):null)};function Vet(e){const t=window.location.hash,i=new RegExp("^"+J(e)+"\\b");return!(!t||!e)&&i.test(t)}var Bet=function(e){const{cloudServerEntityID:t,thumb:i}=e,n="#!/get-plex-media-server";return Vu()(Uet,{to:n,isSelected:Vet(n),iconNode:Vu()(aet,{serverEntityID:t,thumb:i}),title:Object(Ze.default)("Your Media")})};var Fet=Object(Hu.b)((function(){return Object(Wu.a)(e=>e.cloudServer,Zu.a,(e,t)=>({cloudServerEntityID:e,thumb:t.thumb}))}))(Bet);var Het=Object(Wu.a)(ite,e=>Object(Hw.a)(e,e=>e.key,e=>e));function _et(e,t,i,n){const a=t===e.machineIdentifier&&i===e.providerIdentifier,s=!!(e.sourceType===KQ||n&&e.directoryID===n);return a&&s}var Wet=function(){return Object(Wu.a)(HS(),KU(),(e,t)=>e?I.a.find(t,t=>"provider.epg.load"===t.type&&t.Context.identifier===e.identifier):null)};var Qet=vc.a.shape({key:vc.a.string,directoryID:vc.a.string,directoryIcon:vc.a.string,sourceType:vc.a.string,title:vc.a.string,titleDetail:vc.a.string,detail:vc.a.string,route:vc.a.string,machineIdentifier:vc.a.string,providerIdentifier:vc.a.string,providerMetricsIdentifier:vc.a.string,isUnavailable:vc.a.bool,isOutOfDate:vc.a.bool,isUnclaimedServer:vc.a.bool,isSelected:vc.a.bool,isCloud:vc.a.bool});const Get=Object(Pi.a)("provider/addToCatalog"),Ket=Object(Pi.a)("provider/clearAddToCatalogError"),Yet=Object(Pi.a)("provider/scanLibraryFiles"),qet=Object(Pi.a)("provider/editLibrary"),Zet=Object(Pi.a)("provider/emptyLibraryTrash"),Jet=Object(Pi.a)("provider/analyzeLibrary"),Xet=Object(Pi.a)("provider/deleteLibrary"),$et=Object(Pi.a)("provider/upgradeLibrary"),ett=Object(Pi.a)("provider/scanLibraryFiles",e=>Object.assign({},e,{force:!0})),ttt=Object(Pi.a)("provider/scanLibraryFiles",e=>Object.assign({},e,{cancel:!0}));function itt(e){const t=e.get("key");return e.get("id")||t.substr(t.lastIndexOf("/")+1)}function ntt(e,t){const i=Object(wi.j)(e,t).get("features").get(Ot.c),n={};return t.contentDirectory.key&&(n.key=t.contentDirectory.key),t.contentDirectory.hubKey&&(n.hubKey=t.contentDirectory.hubKey),i.get("directories").findWhere(n)}function att(e,t){const i=e.get("features").get(Ot.c).get("key");let n;return n=i?V.join([i,t.get("id")]):t.get("key"),n}function stt(e,t){e(Hi({serverEntityID:t})),e(_i({serverEntityID:t})),e(Object(Tn.c)({serverEntityID:t}))}const rtt={"provider/fetchCloudProviders":fLe["provider/fetchCloudProviders"],"provider/populateCloudProviders":fLe["provider/populateCloudProviders"],[hLe]:fLe[hLe],"providers/populateProvider":fLe["providers/populateProvider"],"provider/clearAddToCatalogError"(e,t){e.get("ui").get("addToCatalogModal").set("error",null)},"provider/addToCatalog"(e,t,i){const n=e.get("ui").get("addToCatalogModal"),a=Object(wi.j)(e,t),s=a.get("features").get("actions").get("actions").get("addToCatalog").get("key");if(Object(Ti.a)(()=>{n.set({isUpdating:!0,error:null})}),t.data.fileURL){const e=new window.XMLHttpRequest;return e.open("GET",t.data.fileURL,!0),e.responseType="blob",e.onload=e=>{if(200===e.target.status){const t=e.target.response,i=new window.FormData;i.append("file",t);const r=a.getXHROptions(s,{method:"POST",processData:!1,contentType:!1,data:i});D.a.ajax(r).then((e,t,i)=>{n.set({isUpdating:!1})},e=>{n.set({isUpdating:!1,error:Object(DT.a)(e)})})}window.URL.revokeObjectURL(t.data.fileURL)},void e.send()}const r=V.join(s,{url:t.data.channelURL}),o=a.getXHROptions(r,{method:"PUT",dataType:"json"});D.a.ajax(o).then((e,t,i)=>{n.set("isUpdating",!1);const s=new ut.a(e,{server:a.server,provider:a,parse:!0});if(!s.get("key"))return void n.set({isUpdating:!1,error:Object(DT.a)(i)});const r=cu(a.server.state,a.state,s.get("key"));window.location.hash=r},e=>{n.set({isUpdating:!1,error:Object(DT.a)(e)})})},"provider/scanLibraryFiles"(e,t,i){const{cancel:n,force:a,metricsPage:s}=t,r=Object(wi.m)(e,t),o=ntt(e,t),l={libraryID:itt(o),libraryType:o.get("type"),cancel:n,force:a,allowMetrics:!!s,metricsProperties:{page:s}};o.set("refreshing",!n),HQ(r,l).fail(e=>{let t;t=n?Object(Ze.default)("There was an unexpected error canceling the scan."):a?503===e.status?Object(Ze.default)("An internet connection is required to refresh library metadata. Please check this server's connection and try again."):Object(Ze.default)("There was an unexpected error refreshing library metadata."):503===e.status?Object(Ze.default)("An internet connection is required to scan library files. Please check this server's connection and try again."):Object(Ze.default)("There was an unexpected error scanning library files."),i(Object(Tn.d)(t))}).always(e=>{i(xi({serverEntityID:t.serverEntityID}))})},"provider/editLibrary"(e,t){const i=Object(wi.m)(e,t),n=i.get("desktop").get("libraries"),a=ntt(e,t);n.fetch().then(()=>{const e=itt(a),s=n.get(e);U.a.trigger("show:modal",new oK({server:i,model:s})),Object(ne.c)("metrics").trackClick({page:t.metricsPage,action:Rd.x,type:s.get("type"),context:_t.LIBRARY})})},"provider/emptyLibraryTrash"(e,t,i){const n=Object(wi.m)(e,t),a=Object(wi.j)(e,t),s=ntt(e,t),r=att(a,s),o=V.join([r,"emptyTrash"]),l=n.getXHROptions(o,{type:"PUT"});D.a.ajax(l).done(()=>{i(Object(Tn.d)({type:VQ.b,message:Object(Ze.default)("The trash was emptied.")}))}).fail(e=>{i(Object(Tn.d)(Object(Ze.default)("There was a problem emptying the trash.")))}),Object(ne.c)("metrics").trackClick({page:t.metricsPage,action:Rd.y,type:s.get("type"),context:_t.LIBRARY})},"provider/analyzeLibrary"(e,t,i){const n=Object(wi.m)(e,t),a=Object(wi.j)(e,t),s=ntt(e,t),r=att(a,s),o=V.join([r,"analyze"]),l=n.getXHROptions(o,{type:"PUT"});D.a.ajax(l).fail(e=>{i(Object(Tn.d)(Object(Ze.default)("There was a problem analyzing the library.")))}),Object(ne.c)("metrics").trackClick({page:t.metricsPage,action:Rd.i,type:s.get("type"),context:_t.LIBRARY})},"provider/deleteLibrary"(e,t,i){const n=Object(wi.m)(e,t),a=Object(wi.j)(e,t),s=ntt(e,t),r=att(a,s),o=V.join(r,{async:1}),l=n.getXHROptions(o,{type:"DELETE"});a.get("features").get(Ot.c).get("directories").remove(s),D.a.ajax(l).fail(()=>{stt(i,t.serverEntityID),i(Object(Tn.d)(Object(Ze.default)("There was a problem deleting the library.")))}),Object(ne.c)("metrics").trackClick({page:t.metricsPage,action:Rd.q,type:s.get("type"),context:_t.LIBRARY})},"provider/upgradeLibrary"(e,t,i){const n=Object(wi.m)(e,t),a=Object(wi.j)(e,t),s=ntt(e,t),r=s.get("type");let o;o=r===Qt.j?{agent:ms.f,scanner:kie.b}:r===Qt.b?{agent:ms.g,scanner:kie.d}:{agent:ms.i,scanner:kie.h};const l=att(a,s),c=V.join(l,o),d=n.getXHROptions(c,{type:"PUT"});D.a.ajax(d).then(()=>{stt(i,t.serverEntityID)},()=>{i(Object(Tn.d)(Object(Ze.default)("There was a problem upgrading the library.")))})},[Ni](e,t,i){"library.delete"===t.activity.type&&stt(i,t.serverEntityID)}};var ott=i("yvfd"),ltt=i.n(ott);const ctt=Nd.a.createElement;function dtt(e){let{forwardedRef:t,className:i=ltt.a.input,errorClassName:n=ltt.a.hasError,disabledClassName:a=ltt.a.isDisabled,isDisabled:s=!1,hasError:r=!1,name:o,size:l=yp.Medium}=e,c=Xe()(e,["forwardedRef","className","errorClassName","disabledClassName","isDisabled","hasError","name","size"]);return ctt("input",tp()({className:(i||"")+" "+(ltt.a[l]||"")+" "+(s&&a||"")+" "+(r&&n||""),type:"checkbox",name:o,disabled:s,ref:t},c))}var utt=Nd.a.forwardRef((e,t)=>ctt(dtt,tp()({},e,{forwardedRef:t}))),ptt=Object(Wu.a)(Ay,e=>e.importPlaylists),htt=i("DHe7"),mtt=i.n(htt);const gtt=Nd.a.createElement,{useEffect:vtt}=Nd.a;function ytt({isOpen:e,onModalClose:t}){var i;const[n,a]=Lg(),s=Object(Hu.c)(),{isImporting:r,isImported:o,importError:l}=Object(Hu.d)(ptt),c=as(a,Qa.Content),d=(null!=(i=null==c?void 0:c.directories)?i:[]).filter(e=>e.type===Na.Artist).map(({id:e,title:t})=>({value:e,label:t})),{register:u,handleSubmit:p}=Object(UJe.a)({defaultValues:{importAll:!1,sectionID:null==d?void 0:d[0].value}}),h=p(({importAll:e,sectionID:t})=>{if(!d.length)return;const i=null!=t?t:d[0].value;s(jr.actions.importRequested({server:n,importAll:e,sectionID:i}))});return vtt(()=>{o&&t()},[s,o,t]),vtt(()=>{e||s(jr.actions.reset())},[s,e]),Vu()(PI,{size:yp.Small,isOpen:e,onModalClose:t},void 0,Vu()(kI,{onModalClose:t},void 0,Vu()(UI,{},void 0,Object(Ze.default)("Import from iTunes")),l?Vu()(FJe,{message:Object(Ze.default)("Something went wrong. Make sure the server is available and try again.")}):null,Vu()("form",{onSubmit:h},void 0,Vu()(TI,{},void 0,Vu()("div",{className:mtt.a.description},void 0,Object(Ze.default)("Importing from iTunes will import your music playlists. It will also import your ratings, the date you added the music, as well as play and skip counts for tracks in your library. Depending on how many tracks you have, this process can take many minutes to complete.")),Vu()("label",{className:mtt.a.row},void 0,gtt(utt,{name:"importAll",ref:u}),Vu()("span",{className:mtt.a.overwrite},void 0,Object(Ze.default)("Overwrite existing playlists"))),d.length>1?Vu()("label",{className:mtt.a.row},void 0,Vu()("span",{className:mtt.a.library},void 0,Object(Ze.default)("Add to library:")),gtt(JR,{name:"sectionID",ref:u},d.map(({value:e,label:t},i)=>Vu()("option",{value:e},i,t)))):null),Vu()(sD,{},void 0,Vu()(lD,{className:mtt.a.buttonBar},void 0,Vu()(iD,{onPress:t},void 0,Object(Ze.default)("Cancel")),Vu()(MR,{className:mtt.a.button,isSpinning:r,type:"submit",kind:Qg.Primary},void 0,Object(Ze.default)("Import")))))))}const ftt=Nd.a.createElement,{Fragment:btt}=Nd.a;function Itt(e){const{sourceDirectory:t,hasPlexMusicUpgrade:i,hasPlexMovieUpgrade:n,hasPlexSeriesUpgrade:a,isUnavailable:s,onMenuClose:r,onCancelScanLibraryPress:o,onScanLibraryPress:l,onSharePress:c,onEditLibraryPress:d,onRefreshAllLibraryMetadataPress:u,onEmptyLibraryTrashPress:p,onAnalyzeLibraryPress:h,onDeleteLibraryPress:m,onUpgradeLibraryPress:g}=e,v=s||!t;return Vu()(btt,{},void 0,t&&t.refreshing?Vu()(Zv,{onPress:Cb(r,o)},void 0,Object(Ze.default)("Cancel Scan")):Vu()(Zv,{isDisabled:v,onPress:Cb(r,l)},void 0,Object(Ze.default)("Scan Library Files")),Vu()(Zv,{isDisabled:v,onPress:Cb(r,c)},void 0,Object(Ze.default)("Share")),Vu()(Bse,{label:Object(Ze.default)("Manage Library"),isDisabled:v,onMenuClose:r},void 0,i||n||a?Vu()(Zv,{isDisabled:v,onPress:Cb(r,g)},void 0,Object(Ze.default)("Upgrade Matching")):null,Vu()(Zv,{onPress:Cb(r,d)},void 0,Object(Ze.default)("Edit...")),Vu()(Zv,{onPress:Cb(r,u)},void 0,Object(Ze.default)("Refresh All Metadata")),Vu()(Zv,{onPress:Cb(r,p)},void 0,Object(Ze.default)("Empty Trash")),Vu()(Zv,{onPress:Cb(r,h)},void 0,Object(Ze.default)("Analyze")),Vu()(Zv,{kind:Op,onPress:Cb(r,m)},void 0,Object(Ze.default)("Delete"))))}function Stt(e){const{machineIdentifier:t,isGuideRefreshing:i,isUnavailable:n,onMenuClose:a,onCancelRefreshGuidePress:s,onRefreshGuidePress:r}=e,o=n;return Vu()(btt,{},void 0,Vu()(Zv,{to:ln(t,"manage","dvr"),isDisabled:o,onPress:a},void 0,Object(Ze.default)("Settings")),i?Vu()(Zv,{onPress:Cb(a,s)},void 0,Object(Ze.default)("Cancel Refresh")):Vu()(Zv,{isDisabled:o,onPress:Cb(a,r)},void 0,Object(Ze.default)("Refresh Guide")))}function Ctt(e){const{onMenuClose:t,onImportPlaylistsPress:i}=e;return Vu()(Zv,{onPress:Cb(t,i)},void 0,Object(Ze.default)("Import from iTunes..."))}var Mtt=function(e){const{provider:t,hasProviderSettings:i,hasLibraryActions:n,hasDVRActions:a,hasPlaylistsActions:s,isPinned:r,isReorderable:o,isUnavailable:l,onMenuClose:c,onTogglePinSources:d,onReorderPinSources:u}=e;return Vu()(btt,{},void 0,Vu()(Zv,{onPress:Cb(c,d)},void 0,r?Object(Ze.default)("Unpin"):Object(Ze.default)("Pin")),o?Vu()(Zv,{onPress:Cb(c,u)},void 0,Object(Ze.default)("Reorder")):null,i&&!l?Vu()(Zv,{to:"#!/provider/"+encodeURIComponent(t.identifier)+"/settings",onPress:c},void 0,Object(Ze.default)("Personalize")):null,n?ftt(Itt,e):null,a?ftt(Stt,e):null,s?ftt(Ctt,e):null)},Dtt=i("/Efv"),Ptt=i.n(Dtt);const Ott=Nd.a.createElement,{Fragment:jtt,useEffect:wtt}=Nd.a;var Ttt=function(e){const{machineIdentifier:t,providerIdentifier:i,serverEntityID:n,source:a,sourceDirectory:s,target:r,menuOptions:o,hasLibraryActions:l,hasPlaylistsActions:c,isDeletingLibrary:d,isOverflowMenuOpen:u,onOverflowMenuClose:p,onUpgradeLibraryPress:h,onAnalyzeLibraryPress:m,onEmptyLibraryTrashPress:g,onRefreshAllLibraryMetadataPress:v,onDeleteLibraryPress:y}=e,f=Xe()(e,["machineIdentifier","providerIdentifier","serverEntityID","source","sourceDirectory","target","menuOptions","hasLibraryActions","hasPlaylistsActions","isDeletingLibrary","isOverflowMenuOpen","onOverflowMenuClose","onUpgradeLibraryPress","onAnalyzeLibraryPress","onEmptyLibraryTrashPress","onRefreshAllLibraryMetadataPress","onDeleteLibraryPress"]),b=Y9(),I=Y9(h),S=Y9(v),C=Y9(g),M=Y9(m),D=Y9(),P=Y9(),O=$b(d);return wtt(()=>{O&&!d&&D.onClose()},[d,O,D]),Vu()(jtt,{},void 0,Vu()(Oet,{target:r,options:o,isOpen:u,onMenuClose:p},void 0,Ott(Mtt,tp()({},f,{serverEntityID:n,machineIdentifier:t,sourceDirectory:s,hasLibraryActions:l,hasPlaylistsActions:c,onSharePress:b.onOpen,onUpgradeLibraryPress:I.onOpen,onRefreshAllLibraryMetadataPress:S.onOpen,onEmptyLibraryTrashPress:C.onOpen,onAnalyzeLibraryPress:M.onOpen,onDeleteLibraryPress:D.onOpen,onImportPlaylistsPress:P.onOpen,onMenuClose:p}))),l?Vu()(jtt,{},void 0,Vu()(YJ,{metricsProperties:{context:_t.LIST},serverEntityID:n,sourceDirectory:s,isOpen:b.isOpen,onModalClose:b.onClose}),Vu()(Cet,{isOpen:I.isOpen,metricsPage:zd.C,title:Object(Ze.default)("Upgrade Library Matching?"),message:Vu()(jtt,{},void 0,Vu()("div",{},void 0,Object(Ze.default)("This library is currently using a legacy agent to match items and fetch artwork and other metadata. There is a newer, faster, and more accurate agent available for this type of media. Would you like to upgrade this library now?")),Vu()("div",{className:Ptt.a.modalNote},void 0,Object(Ze.default)('Note: Existing items in this library will not be affected until they are refreshed. You can refresh them individually or upgrade all existing items with "Refresh All Metadata".'))),confirmLabel:Object(Ze.default)("Upgrade"),onConfirm:I.onConfirm,onCancel:I.onClose}),Vu()(Cet,{isOpen:S.isOpen,metricsPage:zd.q,title:Object(Ze.default)("Refresh All Metadata"),message:Object(Ze.default)("Forces a download of fresh media information from the internet. This can take a long time. Any locked fields are not modified."),confirmLabel:Object(Ze.default)("Refresh"),onConfirm:S.onConfirm,onCancel:S.onClose}),Vu()(Cet,{isOpen:C.isOpen,metricsPage:zd.p,title:Object(Ze.default)("Empty Trash"),message:Object(Ze.default)("By default the media server doesn't remove information for media right away. This helps if a drive is temporarily disconnected. When you empty the trash for a section, all information about missing media is deleted."),confirmLabel:Object(Ze.default)("Empty"),onConfirm:C.onConfirm,onCancel:C.onClose}),Vu()(Cet,{isOpen:M.isOpen,metricsPage:zd.g,title:Object(Ze.default)("Analyze Library"),message:Object(Ze.default)("Analyzes all the media files in the library. The analysis captures information about the media which helps Plex decide how to optimally play back the media."),confirmLabel:Object(Ze.default)("Analyze"),onConfirm:M.onConfirm,onCancel:M.onClose}),Vu()(Cet,{isOpen:D.isOpen,isConfirmButtonSpinning:d,isCancelButtonDisabled:d,metricsPage:zd.l,kind:Op,title:Object(Ze.default)("Delete Library"),message:Object(Ze.default)('The library "{libraryName}" will be removed from this server. Your media files will not be affected. This can\'t be undone. Continue?',{libraryName:a.title}),accordMessage:Object(Ze.default)('Yes, delete the library "{libraryName}"',{libraryName:a.title}),confirmLabel:Object(Ze.default)("Delete"),onConfirm:y,onCancel:D.onClose})):null,c?Vu()(kg,{machineIdentifier:t,providerIdentifier:i},void 0,Vu()(ytt,{isOpen:P.isOpen,onModalClose:P.onClose})):null)};const Ett=Nd.a.createElement,{Component:Ntt}=Nd.a;const xtt={dispatchScanLibraryFiles:Yet,dispatchCancelScanLibraryFiles:ttt,dispatchUpgradeLibrary:$et,dispatchEditLibrary:qet,dispatchRefreshAllLibraryMetadata:ett,dispatchEmptyLibraryTrash:Zet,dispatchAnalyzeLibrary:Jet,dispatchDeleteLibrary:Xet,dispatchRedirectToRoute:hu,dispatchReloadGuide:oR,dispatchCancelReloadGuide:lR,dispatchPopulateHasiTunes:MK,dispatchPinSources:oL,dispatchUnpinSources:lL};const Att=kK((function(){return Object(Wu.a)((e,{source:t})=>t,IT,$S,ZS,ite,AK(),Object(Wu.a)(_S(),e=>e&&e.desktop.hasiTunes),Wet(),(e,t,i,n,a,s,r,o)=>{const l=a.some(t=>!!e&&t.key===e.key);if(!i||!n||!e)return{isUnavailable:!0,isPinned:l};const c="unknown"===e.sourceType,d=jt.k(n.identifier,jt.c),{features:{content:{directories:u=[]}={}}={}}=n||{},p=u.find(t=>t.id===e.directoryID),h=i.isFullOwnedServer&&n.isLibraryProvider&&p&&/(\d+)$/.test(p.id)&&!c,m=i.isFullOwnedServer&&"playlists"===e.sourceType,g=!!u.find(({type:e})=>e===Qt.b),v=n.features.settings;return{sourceDirectory:p,machineIdentifier:i.machineIdentifier,provider:n,providerIdentifier:n.identifier,hasProviderSettings:!!v&&MT(t,v),hasLibraryActions:h,hasPlexMusicUpgrade:i.version&&Qi(i.version,qi.plexMusicUpgrade)&&p&&p.type===Qt.b&&(p.agent===ms.h||p.agent===ms.b),hasPlexMovieUpgrade:i.ownerFeatures&&i.ownerFeatures.includes(wt.r)&&p&&p.type===Qt.j&&(p.agent===ms.j||p.agent===ms.a),hasPlexSeriesUpgrade:i.ownerFeatures&&i.ownerFeatures.includes(wt.u)&&p&&p.type===Qt.o&&(p.agent===ms.j||p.agent===ms.k),hasDVRActions:i.isFullOwnedServer&&d,hasPlaylistsActions:m&&r&&g,isConnected:i.isConnected,isUnavailable:i.isUnavailable,isPinned:l,isDeletingLibrary:!!s,isGuideRefreshing:!!o,isOwnedPlaylistSource:m}})}),xtt)(class extends Ntt{constructor(...e){super(...e),this.onScanLibraryPress=()=>{this.props.dispatchScanLibraryFiles({serverEntityID:this.props.serverEntityID,providerEntityID:this.props.providerEntityID,contentDirectory:this.props.sourceDirectory,metricsPage:this.props.metricsPage})},this.onCancelScanLibraryPress=()=>{this.props.dispatchCancelScanLibraryFiles({serverEntityID:this.props.serverEntityID,providerEntityID:this.props.providerEntityID,contentDirectory:this.props.sourceDirectory,metricsPage:this.props.metricsPage})},this.onEditLibraryPress=()=>{this.props.dispatchEditLibrary({serverEntityID:this.props.serverEntityID,providerEntityID:this.props.providerEntityID,contentDirectory:this.props.sourceDirectory,metricsPage:this.props.metricsPage})},this.onRefreshAllLibraryMetadataPress=()=>{this.props.dispatchRefreshAllLibraryMetadata({serverEntityID:this.props.serverEntityID,providerEntityID:this.props.providerEntityID,contentDirectory:this.props.sourceDirectory,metricsPage:this.props.metricsPage})},this.onEmptyLibraryTrashPress=()=>{this.props.dispatchEmptyLibraryTrash({serverEntityID:this.props.serverEntityID,providerEntityID:this.props.providerEntityID,contentDirectory:this.props.sourceDirectory,metricsPage:this.props.metricsPage})},this.onAnalyzeLibraryPress=()=>{this.props.dispatchAnalyzeLibrary({serverEntityID:this.props.serverEntityID,providerEntityID:this.props.providerEntityID,contentDirectory:this.props.sourceDirectory,metricsPage:this.props.metricsPage})},this.onDeleteLibraryPress=()=>{this.props.dispatchDeleteLibrary({serverEntityID:this.props.serverEntityID,providerEntityID:this.props.providerEntityID,contentDirectory:this.props.sourceDirectory,metricsPage:this.props.metricsPage}),this.props.source.isSelected&&this.props.dispatchRedirectToRoute({route:"dashboard"})},this.onRefreshGuidePress=()=>{this.props.dispatchReloadGuide({serverEntityID:this.props.serverEntityID,dvrID:this.props.provider.parentID,metricsPage:this.props.metricsPage})},this.onCancelRefreshGuidePress=()=>{this.props.dispatchCancelReloadGuide({serverEntityID:this.props.serverEntityID,dvrID:this.props.provider.parentID,metricsPage:this.props.metricsPage})},this.onTogglePinSources=()=>{this.props.isPinned?this.props.dispatchUnpinSources({sources:[this.props.source]}):this.props.dispatchPinSources({sources:[this.props.source]})},this.onUpgradeLibraryPress=()=>{this.props.dispatchUpgradeLibrary({serverEntityID:this.props.serverEntityID,providerEntityID:this.props.providerEntityID,contentDirectory:this.props.sourceDirectory})}}componentDidMount(){const{isOwnedPlaylistSource:e,isConnected:t}=this.props;e&&t&&this._populateHasiTunes(this.props)}componentDidUpdate(e){const{isOwnedPlaylistSource:t,isConnected:i}=this.props;t&&i&&!e.isConnected&&this._populateHasiTunes(this.props)}_populateHasiTunes(e){this.props.dispatchPopulateHasiTunes({serverEntityID:e.serverEntityID})}render(){const e=this.props,t=Xe()(e,["metricsPage","isConnected","isOwnedPlaylistSource","dispatchUpgradeLibrary","dispatchScanLibraryFiles","dispatchCancelScanLibraryFiles","dispatchEditLibrary","dispatchReloadGuide","dispatchCancelReloadGuide","dispatchPopulateHasiTunes","dispatchPinSources","dispatchUnpinSources"]);return Ett(Ttt,tp()({},t,{onScanLibraryPress:this.onScanLibraryPress,onCancelScanLibraryPress:this.onCancelScanLibraryPress,onEditLibraryPress:this.onEditLibraryPress,onAnalyzeLibraryPress:this.onAnalyzeLibraryPress,onRefreshAllLibraryMetadataPress:this.onRefreshAllLibraryMetadataPress,onEmptyLibraryTrashPress:this.onEmptyLibraryTrashPress,onDeleteLibraryPress:this.onDeleteLibraryPress,onRefreshGuidePress:this.onRefreshGuidePress,onCancelRefreshGuidePress:this.onCancelRefreshGuidePress,onTogglePinSources:this.onTogglePinSources,onUpgradeLibraryPress:this.onUpgradeLibraryPress}))}});Att.propTypes=Object.assign({},Att.propTypes,{source:Qet,serverEntityID:vc.a.string,providerEntityID:vc.a.string});var Ltt=Att;function ktt(e){var t=e["aria-label"],i=e.className,n=e.style,a={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-source-pinned-560"};a["aria-hidden"]=!t,a.style=n,a.className=Ad.a.plexIcon+(i?" "+i:"");var s=[Nd.a.createElement.apply(Nd.a,["path",{d:"M220 40L160 0h240l-60 40 20 200 100 80H310l-30 240-30-240H100l100-80z"}].concat([]))];return t&&s.unshift(Nd.a.createElement("title",null,t)),Nd.a.createElement.apply(Nd.a,["svg",a].concat(s))}ktt.propTypes={"aria-label":vc.a.string,className:vc.a.string,style:vc.a.object};var Rtt=ktt,ztt=i("cpX0"),Utt=i.n(ztt);const Vtt=Nd.a.createElement,{Fragment:Btt,useCallback:Ftt,useEffect:Htt,useState:_tt}=Nd.a,Wtt={placement:"bottom-start",modifiers:[{name:"offset",options:{offset:({reference:e})=>[0,-.2*e.height]}}]};function Qtt(e){const{serverEntityID:t,providerEntityID:i,source:n,selectedMachineIdentifier:a,selectedProviderIdentifier:s,selectedSourceDirectoryID:r,dismissedUnclaimedServers:o,size:l,showDetail:c,showIcons:d,metricsOrigin:u,isReorderable:p,onToggleLockedPress:h,onReorderPinSources:m}=e,g=cy(),v=_tt(!1),y=v[1],f=v[0],[b,I]=Qke(),S=Ftt(()=>{y(!f)},[f]),C=Ftt(()=>{y(!1)},[]);Htt(()=>{h&&h(f)},[f,h]);const M=Ftt(()=>{Object(ne.c)("metrics").trackEvent({event:"client:click",interaction:!0,properties:{page:zd.ob,identifier:n.providerMetricsIdentifier,action:Rd.cb,origin:u}})},[n,u]),D="unknown"===n.sourceType,P=f||b,O=n.isPinned&&!P,j=!1===n.isLocal&&!1===n.isCloud&&!1===n.isUnavailable,w=n.directoryIcon?Vu()("img",{className:Utt.a.iconImg,src:n.directoryIcon}):Vu()(kGe,{sourceType:n.sourceType});return Vu()(Btt,{},void 0,Vtt(d7e,tp()({},I,{className:Utt.a.button,size:c?l:Fh,isActiveClassName:Utt.a.isActive,isSelectedClassName:Utt.a.isSelected,isActive:f,isDim:n.isUnavailable||n.isOutOfDate||D,isSelected:_et(n,a,s,r),to:D?null:Zt(n.isCloud,n.machineIdentifier,n.providerIdentifier,{source:n.directoryID}),icon:Vu()(het,{icon:w,showBadgedIcon:d,isRemote:j,isUnavailable:n.isUnavailable||D,isOutOfDate:n.isOutOfDate,isUnclaimed:n.isUnclaimedServer&&o&&!o[n.machineIdentifier]}),title:n.title,detail:c?n.titleDetail:void 0,onNavigate:M}),Vu()("span",{className:Utt.a.actionContainer},void 0,O?Vu()(Rtt,{className:Utt.a.pinnedIcon}):null,Vu()(JK,{className:P?Utt.a.overflowButton:Utt.a.hiddenOverflowButton,"data-qa-id":"sidebarSourceOverflow",id:g,iconComponent:tX,title:Object(Ze.default)("Actions"),onPress:S}))),Vu()(Ltt,{serverEntityID:t,providerEntityID:i,source:n,target:g,menuOptions:Wtt,isReorderable:p,isOverflowMenuOpen:f,onOverflowMenuClose:C,onReorderPinSources:m}))}Qtt.defaultProps={showDetail:!0,showIcons:!0};var Gtt=Qtt;const{Fragment:Ktt}=Nd.a;var Ytt=function(e){const{serverEntityID:t,providerEntityID:i,selectedMachineIdentifier:n,selectedProviderIdentifier:a,selectedSourceDirectoryID:s,sources:r,onToggleLockedPress:o}=e;return Vu()(Ktt,{},void 0,r.map(e=>Vu()(Gtt,{serverEntityID:t,providerEntityID:i,selectedMachineIdentifier:n,selectedProviderIdentifier:a,selectedSourceDirectoryID:s,source:e,metricsOrigin:"moreSidebar",showDetail:!1,showIcons:!1,onToggleLockedPress:o},e.key)))};var qtt=Object(Hu.b)((function(){return Object(Wu.a)(HS(),_S(),Het,(e,t,i)=>{const n=Yt(e);return{sources:VQe({sourceServer:t,sourceProvider:e,directories:n&&n.directories}).map(e=>Object.assign({},e,{isPinned:!!i[e.key]}))}})}),(function(e,t){return{}}))(Ytt),Ztt=i("Qpc7"),Jtt=i.n(Ztt);const Xtt=Nd.a.createElement,{Fragment:$tt}=Nd.a;function eit(e){const{showTitle:t,showUnclaimed:i,isAllSources:n}=e,a=Xe()(e,["showTitle","showUnclaimed","isAllSources"]);return Xtt(zp,tp()({className:(Jtt.a.link||"")+" "+((n?Jtt.a.bottomBorder:Jtt.a.topBorder)||""),"data-qa-id":"sidebarMore"},a),n?Vu()($tt,{},void 0,Vu()(yO,{className:Jtt.a.pinnedIcon}),t?Object(Ze.default)("Pinned"):null):Vu()($tt,{},void 0,t?Vu()($tt,{},void 0,i?Vu()("img",{className:Jtt.a.unclaimedImage,src:ret,"aria-label":Object(Ze.default)("Unclaimed")}):null,Object(Ze.default)("More")):null,Vu()(mO,{className:Jtt.a.icon})))}eit.defaultProps={showTitle:!0};var tit=eit,iit=i("cbdg"),nit=i.n(iit);const{Fragment:ait}=Nd.a;var sit=Vu()(Fet,{});var rit=function(e){const{isExpanded:t,selectedMachineIdentifier:i,selectedProviderIdentifier:n,selectedSourceDirectoryID:a,sourceDirectory:s,servers:r,cloudProviders:o,cloudServerEntityID:l,dismissedUnclaimedServers:c,showServerDownloadMessage:d,onToggleAllSourcesPress:u,onToggleLockedPress:p}=e;return Vu()(ait,{},void 0,Vu()(B7e,{},void 0,Vu()(tit,{isAllSources:!0,showTitle:t,onPress:u})),Vu()(Q7e,{},void 0,Vu()("div",{className:nit.a.container},void 0,r.map(e=>{const t=i===e.machineIdentifier&&n===jt.d&&!a;return Vu()("div",{className:nit.a.serverContainer},e.machineIdentifier,Vu()(Uet,{serverEntityID:e.entityID,machineIdentifier:e.machineIdentifier,title:E5(e),detail:T5(e),iconNode:Vu()(set,{serverEntityID:e.entityID}),isPending:e.isPending,isRemote:!e.isPrivateConnection&&!e.isUnavailable,isUnavailable:e.isUnavailable,isOutOfDate:e.isOutOfDate,isUnclaimed:e.isConnected&&!e.isClaimed&&!c[e.machineIdentifier],to:Xt(e,{identifier:jt.d},null,{key:"/hubs",pageType:xt}),isSelected:t,hasServerActions:e.isFullOwnedServer&&e.isConnected,onToggleLockedPress:p}),e.providers.map(t=>Vu()(qtt,{selectedMachineIdentifier:i,selectedProviderIdentifier:n,selectedSourceDirectoryID:a,sourceDirectory:s,serverEntityID:e.entityID,providerEntityID:t,onToggleLockedPress:p},t)))}),o.providers.length?Vu()(ait,{},void 0,Vu()(Uet,{title:Object(Ze.default)("Plex"),iconNode:Vu()("img",{className:nit.a.iconImg,src:v5}),isPending:o.isPending,isUnavailable:o.providersError}),o.providers.map(e=>Vu()(qtt,{selectedMachineIdentifier:i,selectedProviderIdentifier:n,selectedSourceDirectoryID:a,sourceDirectory:s,serverEntityID:l,providerEntityID:e,onToggleLockedPress:p},e))):null,d?Vu()("div",{className:nit.a.extrasContainer},void 0,sit):null)))};const oit=Object(Wu.a)(Zu.a,e=>({providers:e.providers,isPending:e.isProvidersPending,isPopulated:e.isProvidersPopulated,providersError:e.providersError}));var lit=Object(Hu.b)((function(){return Object(Wu.a)(H9,oit,e=>e.cloudServer,Z9e,(e,t,i,n)=>({servers:e,cloudProviders:t,cloudServerEntityID:i,dismissedUnclaimedServers:n}))}),(function(e,t){return{}}))(rit);const cit=Object(Wu.a)(H9,Z9e,(e,t)=>({showUnclaimed:e.some(e=>e.isConnected&&!e.isClaimed&&!t[e.machineIdentifier])}));var dit=Object(Hu.b)(cit,(function(e,t){return{}}))(tit);var uit=Vu()(vA,{});var pit=function(e){const{size:t}=e;return Vu()(d7e,{size:t,to:"#!/get-plex-media-server",isSelected:Vet("#!/get-plex-media-server"),icon:uit,title:Object(Ze.default)("Your Media")})};var hit=Object(Wu.a)(Rg.a,e=>e.savedPivotParams),mit=Vu()(A7e,{});var git=function(e){const{size:t,route:i,isSelected:n,isUnavailable:a}=e;return Vu()(d7e,{size:t,to:i,isSelected:n,icon:Vu()(het,{icon:mit,isUnavailable:a}),title:Object(Ze.default)("Downloads"),isDim:a})};var vit=Object(Hu.b)((function(){return Object(Wu.a)((e,{selectedMachineIdentifier:t})=>t,hit,use,(e,t,i)=>{const n="#!/downloads"===window.location.hash.split("?")[0],a=!!i&&e===i.machineIdentifier;return{route:kpe(t.downloads),isSelected:n||a,isUnavailable:!i||i.isUnavailable}})}),(function(e,t){return{}}))(git),yit=i("Ioaq"),fit=i.n(yit),bit=Vu()(k7e,{});var Iit=function(e){const{size:t}=e;return Vu()(d7e,{linkClassName:fit.a.sourceLink,size:t,"data-qa-id":"sidebarHome",to:"#",icon:bit,title:Object(Ze.default)("Home"),isSelected:""===window.location.hash})},Sit=i("ldju"),Cit=i.n(Sit);const{Component:Mit}=Nd.a;var Dit=class extends Mit{shouldComponentUpdate(e,t){return Tp(this,e,t)}render(){const{sources:e,hasSourceDetail:t,selectedMachineIdentifier:i,selectedProviderIdentifier:n,selectedSourceDirectoryID:a,hasDownloadsSource:s,dismissedUnclaimedServers:r,isExpanded:o,hasNoProviders:l,isMoreMenuRequired:c,showServerDownloadMessage:d,onToggleAllSourcesPress:u,onToggleLockedPress:p,onReorderPinSources:h}=this.props,m=t?void 0:Fh;return Vu()(Q7e,{},void 0,Vu()("div",{className:o?Cit.a.expandedSidebarContent:void 0},void 0,Vu()(Iit,{size:m}),e.length?e.map(e=>Vu()(Gtt,{serverEntityID:e.serverEntityID,providerEntityID:e.providerEntityID,selectedMachineIdentifier:i,selectedProviderIdentifier:n,selectedSourceDirectoryID:a,source:e,dismissedUnclaimedServers:r,size:m,isReorderable:!0,onToggleLockedPress:p,onReorderPinSources:h},e.key)):Vu()("div",{className:Cit.a.zeroState},void 0,Object(Ze.default)("Your favorite sources will appear here. Any source in the MORE menu below can be saved here for quick access.")),d?Vu()(pit,{size:m}):null,s?Vu()(vit,{size:m,selectedMachineIdentifier:i}):null,o&&c&&!l?Vu()(dit,{isAllSources:!1,onPress:u}):null))}},Pit=i("LcEX"),Oit=i.n(Pit);const{Component:jit,Fragment:wit}=Nd.a;var Tit;!function(e){e.Left="left",e.Right="right"}(Tit||(Tit={}));const Eit=fv(vMe.defaultSpeed),Nit={opacity:{duration:Eit},x:{duration:Eit,ease:"easeInOut"}},xit={appear:e=>({opacity:0,scale:1,x:e===Tit.Left?"100%":"-100%",transition:Nit}),enter:{opacity:1,scale:1,x:"0%",transition:Nit},exit:e=>({opacity:0,scale:1,x:e===Tit.Left?"100%":"-100%",transition:Nit})};function Ait(e,t){return t?e?Oit.a.expandedSidebar:Oit.a.collapsedSidebar:Oit.a.openSidebar}var Lit=Vu()(Jh,{});var kit=class extends jit{static getDerivedStateFromProps(e,t){return t.isSidebarCollapsed!==e.isSidebarCollapsed?{isSidebarCollapsed:e.isSidebarCollapsed}:null}constructor(e,t){super(e,t),this._setExpandedTimeoutID=void 0,this.onMouseEnter=()=>{this.props.isSidebarCollapsed&&(this.resetExpandTimeout(),this.setState({isMouseOver:!0}))},this.onMouseLeave=()=>{this.clearSetExpandedTimeout(),this.setState(e=>({isExpanded:!!e.isLocked&&e.isExpanded,isMouseOver:!1}))},this.onMouseMove=()=>{this.props.isSidebarCollapsed&&!this.state.isLocked&&this.resetExpandTimeout()},this.onToggleAllSourcesPress=()=>{const e=!this.props.isSidebarAllSources;this.props.onToggleAllSourcesSidebar(e)},this.onToggleLockedPress=e=>{this.setState(t=>{const i=null!=e?e:!t.isLocked;return{isLocked:i,isExpanded:!(!t.isMouseOver&&!i)&&t.isExpanded}})},this.onReorderPinSources=()=>{this.setState({isReordering:!0,isLocked:!0})},this.onCloseReorderPinSources=()=>{this.setState({isReordering:!1,isLocked:!1})},this.state={isMouseOver:!1,isLocked:!1,isExpanded:!1,isSidebarCollapsed:e.isSidebarCollapsed,isAllSources:!1,isReordering:!1}}componentWillUnmount(){this.clearSetExpandedTimeout()}clearSetExpandedTimeout(){this._setExpandedTimeoutID&&(window.clearTimeout(this._setExpandedTimeoutID),this._setExpandedTimeoutID=null)}resetExpandTimeout(){this.clearSetExpandedTimeout(),this._setExpandedTimeoutID=window.setTimeout(()=>this.setState({isExpanded:!0}),250)}render(){const{selectedMachineIdentifier:e,selectedProviderIdentifier:t,selectedSourceDirectoryID:i,sources:n,sourceDirectory:a,hasSourceDetail:s,hasDownloadsSource:r,hasDismissedServerDownloadMessage:o,shouldShowServerDownloadMessage:l,dismissedUnclaimedServers:c,isPending:d,hasNoProviders:u,isMoreMenuRequired:p,isSidebarCollapsed:h,isSidebarAllSources:m}=this.props,{isExpanded:g,isReordering:v}=this.state,y=!h||g||v;return d?Vu()(i7e,{isSidebarCollapsed:h},void 0,Lit):Vu()(wit,{},void 0,h?Vu()("div",{className:Oit.a.sidebarUnderlay}):null,Vu()("div",{className:Ait(g||v,h),onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave,onMouseMove:this.onMouseMove},void 0,v?Vu()("div",{className:Oit.a.pane},void 0,Vu()(iet,{sources:n,hasDownloadsSource:r,onCloseReorderPinSources:this.onCloseReorderPinSources})):Vu()(ov.a,{initial:!1},void 0,Vu()(ov.b.div,{initial:"appear",animate:"enter",exit:"exit",variants:xit,custom:m?Tit.Right:Tit.Left,className:Oit.a.pane},m?Tit.Right:Tit.Left,m?Vu()(lit,{selectedMachineIdentifier:e,selectedProviderIdentifier:t,selectedSourceDirectoryID:i,isExpanded:y,sourceDirectory:a,showServerDownloadMessage:l,onToggleAllSourcesPress:this.onToggleAllSourcesPress,onToggleLockedPress:this.onToggleLockedPress}):Vu()(Dit,{sources:n,selectedMachineIdentifier:e,selectedProviderIdentifier:t,selectedSourceDirectoryID:i,isExpanded:y,hasSourceDetail:s,hasDownloadsSource:r,showServerDownloadMessage:l&&!o,dismissedUnclaimedServers:c,hasNoProviders:u,isMoreMenuRequired:p,onToggleAllSourcesPress:this.onToggleAllSourcesPress,onToggleLockedPress:this.onToggleLockedPress,onReorderPinSources:this.onReorderPinSources})))))}};const Rit=Nd.a.createElement,{Component:zit}=Nd.a;const Uit={dispatchSaveExperienceSettings:Qu.l,dispatchSetupSources:cL,dispatchStartFirstRunExperience:BA};const Vit=Object(Hu.b)((function(){return Object(Wu.a)((e,{selectedMachineIdentifier:t})=>t,(e,{selectedProviderIdentifier:t})=>t,(e,{selectedSourceDirectoryID:t})=>t,fT,cte,q9e,Object(Wu.a)(Yu,lte,(e,t)=>t.reduce((t,i)=>{const n=Yt(i),a=VQe({sourceServer:e,sourceProvider:i,directories:n&&n.directories});return t.push(...a),t},[])),ote(),Y9e(),Z9e,U5e,X9e,Rg.a,g5e,Object(Wu.a)(Wre,ote(),m5e,(e,t,i)=>{if(!i)return!1;for(let i=0;i<e.length;i++){const{server:n,provider:a}=e[i];if(!n.isCloud&&n.friendlyName&&!n.isUnauthorized&&!n.isPending)return!0;if(n.isEmbedded)continue;if(!a)continue;const s=Yt(a);if(!s)continue;const{directories:r}=s;if(!t.find(e=>r.find(t=>t.id===e.directoryID)&&e.providerIdentifier===a.identifier))return!0}return!1}),(e,t,i,n,a,s,r,o,l,c,d,u,p,h,m)=>{const{isSidebarCollapsed:g,isSidebarAllSources:v,sidebarSettings:{hasCompletedSetup:y}}=p;return{selectedMachineIdentifier:e,selectedProviderIdentifier:t,selectedSourceDirectoryID:i,isAnonymousUser:n,hasInitialSources:a,hasPreferredEligibleServers:s,dismissedUnclaimedServers:c,sourceDirectory:l,defaultSources:r,sources:o,hasSourceDetail:o.some(e=>!!e.titleDetail),hasDownloadsSource:be.a.allowSyncDownload,hasDismissedServerDownloadMessage:d,shouldShowServerDownloadMessage:u,hasCompletedSetup:y,isSidebarCollapsed:g,isSidebarAllSources:v,hasNoProviders:h,isMoreMenuRequired:m}})}),Uit)(class extends zit{constructor(...e){super(...e),this.isRedirecting=void 0,this.onToggleCollapsedSidebar=void 0,this.onToggleAllSourcesSidebar=e=>{this.props.dispatchSaveExperienceSettings({isSidebarAllSources:e})}}componentDidMount(){this.maybeStartFirstRunExperience()}componentDidUpdate(e){this.maybeStartFirstRunExperience()}maybeStartFirstRunExperience(){const{isAnonymousUser:e,hasInitialSources:t,hasPreferredEligibleServers:i,hasCompletedSetup:n,defaultSources:a,dispatchStartFirstRunExperience:s,dispatchSetupSources:r}=this.props;e||!i||n||this.isRedirecting?t&&!n&&r({sources:a}):(this.isRedirecting=!0,s())}render(){const e=this.props,{hasCompletedSetup:t}=e,i=Xe()(e,["hasInitialSources","hasCompletedSetup","dispatchSaveExperienceSettings","dispatchSetupSources","dispatchStartFirstRunExperience"]);return Vu()(Vw,{page:zd.ob,isDelegated:!0},void 0,Rit(kit,tp()({},i,{isPending:!t,onToggleCollapsedSidebar:this.onToggleCollapsedSidebar,onToggleAllSourcesSidebar:this.onToggleAllSourcesSidebar})))}});var Bit=Vu()(s7e,{});var Fit=class extends zit{static getDerivedStateFromError(){return{hasError:!0}}constructor(e){super(e),this.state={hasError:!1}}componentDidCatch(e){C.a.error(e)}render(){return this.state.hasError?Bit:Rit(Vit,this.props)}},Hit=Vu()(Nh,{},void 0,Vu()(Fit,{}),Vu()(K9e,{}));var _it=_u.extend({component(e){const t=e.params||{};return Vu()(gKe,{metricsContext:t.context},void 0,Vu()(Zb.a,{metricsPage:zd.O,metricsContextParam:t.context},void 0,Vu()(Bh,{},void 0,Hit)))}}),Wit=i("7MiL"),Qit=i.n(Wit),Git=R.ItemView.extend({template:Qit.a,initialize:function(){var e=ne.c("appModel");this.listenTo(e,"change:primaryServer",this.render),this.listenTo(e.get("user"),"change:signedIn",this.render)},serializeData:function(){var e=ne.c("appModel"),t=e.get("user"),i=e.get("primaryServer"),n={host:window.location.host,userAgent:window.navigator.userAgent,browser:Td.a,user:t.toJSON(),hasPlexSubscription:t.get("hasPlexSubscription"),cloudServer:t.server.toJSON(),cloudServerUrl:t.server.url()};return i&&(n.primaryServer=i.toJSON(),n.primaryServerUrl=i.url()),n}}),Kit=i("8lLI"),Yit=i.n(Kit),qit=R.ItemView.extend({className:"logs-container",template:Yit.a,ui:{textarea:"textarea"},collectionEvents:{add:"onAdd"},onlyAfterRender:["onAdd"],serializeData:function(){return{logs:this.collection.toJSONString()}},onAdd:function(e,t){this.ui.textarea.text(this.collection.toJSONString())}});const Zit=Object(Pi.a)("search/fetchSearchPage"),Jit=Object(Pi.a)("search/clearSearchPage");function Xit(e){return e.get("ui").get("searchPage")}const $it={"search/fetchSearchPage"(e,t,i){const n=Xit(e).get("searches"),{availableProviders:a,query:s,limit:r}=t,o=Object(gT.a)(e,wt.a);Object.keys(a).forEach(t=>{const i=a[t],s=Object(wi.m)(e,{serverEntityID:i.serverEntityID}),r=Object(wi.j)(e,{providerEntityID:t}),l=r.get("features").get(Ot.o);l&&!n.get(t)&&n.add(new vte({providerEntityID:t,key:l.get("key")},{server:s,provider:r,includeCollections:!0,includeExternalMedia:o}))}),n.each(e=>{e.populatePromise||(e.set("isSearchPending",!0),e.fetch({data:{query:s,limit:r}}).done(()=>{e.set({isSearchPending:!1,isSearchPopulated:!0,searchError:null})}).fail(t=>{e.set({isSearchPending:!1,searchError:Object(DT.a)(t)})}))})},"search/clearSearchPage"(e,t,i){const n=Xit(e);n.get("searches").each(e=>{e.abortPendingPopulate()}),n.restoreDefaults()}};var ent=Object(Hu.b)((function(){return Object(Wu.a)($K(),(e={})=>({containerKey:e.skipParent?e.grandparentKey:e.parentKey}))}))(fRe),tnt=i("+b+4"),int=i.n(tnt);var nnt=function(e){const{className:t,serverEntityID:i,providerEntityID:n,searchResultEntityID:a,imageWidth:s,imageHeight:r,imageUrl:o,tag:l,tagType:c,librarySectionType:d,titleComponents:u}=e,p=Y0(e),h=yte.get(c),m=!!h&&h.isPerson;return Vu()("div",{className:t,style:p.style},void 0,Vu()("div",{className:int.a.imageContainer},void 0,Vu()(Nde,{serverEntityID:i,providerEntityID:n,imageWidth:s,imageHeight:r,imageUrl:o,title:l,tag:l,tagType:c,librarySectionType:d}),Vu()(RCe,{className:(int.a.imageLink||"")+" "+(m&&int.a.isPerson||""),serverEntityID:i,providerEntityID:n,searchResultEntityID:a})),Vu()("div",{className:int.a.titleContainer},void 0,u.map((e,t)=>Vu()(oSe,{serverEntityID:i,providerEntityID:n,searchResultEntityID:a,component:e,isSecondary:t>0},t))))};const ant=Nd.a.createElement;var snt=Object(Hu.b)((function(){return Object(Wu.a)((e,{listType:t})=>t,(e,{listSubtype:t})=>t,(e,{listContext:t})=>t,(e,{cellWidth:t})=>t,hie(),(e,t,i,n,a={})=>{const s=a.tagItem,{tag:r,tagType:o,librarySectionType:l}=s,c=Eae(n,null,e,t,s,i);return{tag:r,tagType:o,librarySectionType:l,imageWidth:c.width,imageHeight:c.height,imageUrl:c.url}})}))((function(e){return ant(nnt,e)}));const rnt=Nd.a.createElement;var ont=function(e){let{isMetadataItem:t}=e,i=Xe()(e,["isMetadataItem"]);return t?rnt(ent,tp()({},i,{showSelect:!1})):rnt(snt,i)},lnt=i("fTYo"),cnt=i.n(lnt);const dnt=Nd.a.createElement;var unt=function(e){const{title:t,sourceTitle:i,hubs:n,columnAdjustment:a,isSearchPending:s,isSearchPopulated:r}=e,o=i?t+" - "+i:t;return Vu()("div",{},void 0,Vu()("div",{role:"heading","aria-level":"2",className:cnt.a.providerTitle},void 0,o,s?Vu()(Jh,{className:cnt.a.spinner,size:Fh}):null),!n.length&&r?Vu()(dh,{title:Object(Ze.default)("No Results"),description:Object(Ze.default)("Try a different query")}):n.map(e=>{const t=e.type,i=e.subtype,n=kMe(t,"search",{subtype:e.subtype,isSearch:!0,isSearchAll:!0});return dnt(Vbe,tp()({},e,{key:e.hubIdentifier,listType:t,listContext:"search",keyPropName:"searchResultEntityID",size:e.results.length,items:e.results,itemsOffset:0,layout:ske(t,i,"search",a,n.length),cellRenderer:(s={listType:t,listContext:"search",titleComponents:n},e=>dnt(iue,tp()({component:ont},s,e)))}));var s}))},pnt=i("IsoN"),hnt=i.n(pnt);const mnt=Nd.a.createElement;var gnt=function(e){const{isSearchCapable:t,providers:i,columnAdjustment:n}=e;return t?Vu()(L6e,{innerClassName:hnt.a.content},void 0,i.map(e=>mnt(unt,tp()({key:e.providerEntityID,columnAdjustment:n},e)))):Vu()(vh,{title:Object(Ze.default)("This server does not support search"),description:Object(Ze.default)("Browse libraries using the sidebar")})};const vnt=Nd.a.createElement,{Component:ynt}=Nd.a;function fnt(){return Og(Object(Wu.a)(Wre,e=>e.reduce((e,{server:t,provider:i})=>t&&i&&t.isConnected?(e[i.entityID]={serverEntityID:t.entityID,identifier:i.identifier,title:i.title,sourceTitle:i.sourceTitle},e):e,{})),e=>e)}const bnt={fetchSearchPage:Zit,clearSearchPage:Jit};var Int=Object(Hu.b)((function(){return Object(Wu.a)(fnt(),Object(Wu.a)(e=>e.ui.searchPage.searches,fnt(),(e,t)=>{const i=e.reduce((e,i)=>{const n=i.providerEntityID,a=t[n];if(!a)return e;let s=e[a.identifier];return s||(s=e[a.identifier]={providerEntityID:n,title:a.title,sourceTitle:a.sourceTitle,isSearchPending:!1,isSearchPopulated:!1,hubs:{}}),i.isSearchPending&&(s.isSearchPending=!0),i.isSearchPopulated&&(s.isSearchPopulated=!0),i.hubs.forEach(e=>{const t=e=>({serverEntityID:a.serverEntityID,providerEntityID:n,searchResultEntityID:e}),i=e.metadataResults.map(t),r=e.tagResults.map(t),o=s.hubs[e.hubIdentifier];o?(o.size+=e.size,o.results=o.results.concat(i,r)):s.hubs[e.hubIdentifier]={hubIdentifier:e.hubIdentifier,size:e.size,type:e.type,title:e.title,results:[].concat(i,r)}}),e},{});return I.a.map(i,e=>({providerEntityID:e.providerEntityID,title:e.title,sourceTitle:e.sourceTitle,isSearchPending:e.isSearchPending,isSearchPopulated:e.isSearchPopulated,hubs:I.a.values(e.hubs)}))}),Rg.a,(e,t,i)=>({availableProviders:e,isSearchCapable:!!Object.keys(e).length,columnAdjustment:i.columnAdjustment,providers:t}))}),bnt)(class extends ynt{componentWillMount(){Object(Ti.a)(()=>{this._clear(),this._populate()})}componentWillReceiveProps(e){const t=e.query!==this.props.query,i=e.availableProviders!==this.props.availableProviders;(t||i)&&Object(Ti.a)(()=>{t&&this._clear(e),this._populate(e)})}_clear(e=this.props){e.clearSearchPage()}_populate(e=this.props){e.fetchSearchPage({availableProviders:e.availableProviders,query:e.query,limit:30})}render(){return vnt(gnt,this.props)}}),Snt=i("mzMB"),Cnt=i.n(Snt);function Mnt({className:e,children:t}){return Vu()("div",{className:e},void 0,t)}Mnt.defaultProps={className:Cnt.a.pageHeaderCenter};var Dnt=Mnt,Pnt=i("R4w1"),Ont=i.n(Pnt),jnt=Vu()(R$,{},void 0,Vu()(b9e,{}));var wnt=function(e){const{isSearchPending:t,query:i}=e;return Vu()(Z2e,{},void 0,Vu()(x$,{},void 0,Object(Ze.default)("Search All Sources")),Vu()(Dnt,{},void 0,Vu()("span",{},void 0,t?Object(Ze.default)('Searching for "{query}"',{query:i}):Object(Ze.default)('Results for "{query}"',{query:i})),t?Vu()(Jh,{className:Ont.a.spinner,size:Fh}):null),jnt)};var Tnt=function(e){const{query:t,isSearchPending:i}=e;return Vu()(f$,{metricsPage:zd.jb,allowBackgroundLightPreset:!0,scrollDirection:Zp},void 0,Vu()(wnt,{isSearchPending:i,query:t}),Vu()(Int,{query:t}))};const Ent=Nd.a.createElement,{Component:Nnt}=Nd.a;const xnt={clearSearchPage:Jit};var Ant=Object(Hu.b)((function(){return Object(Wu.a)(e=>e.ui.searchPage,e=>({isSearchPending:!!I.a.findWhere(e.searches,{isSearchPending:!0})}))}),xnt)(class extends Nnt{componentWillUnmount(){this.props.clearSearchPage()}render(){return Ent(Tnt,this.props)}}),Lnt=Vu()(Fit,{});var knt=_u.extend({component(e){const{params:t={}}=e;return Vu()(gKe,{metricsContext:t.context},void 0,Vu()(Bh,{},void 0,Vu()(Nh,{},void 0,Lnt,Vu()(W9e,{},void 0,Vu()(Ant,{query:t.query})))))}}),Rnt=Vu()(Nh,{},void 0,Vu()(Fit,{}),Vu()(_5e,{}));var znt=_u.extend({component:()=>Vu()(Bh,{},void 0,Rnt)});function Unt(){return Object(Wu.a)((e,{serverEntityID:t})=>t,lse,(e,t)=>!(!e||e!==t))}const{useCallback:Vnt}=Nd.a;var Bnt=function(e){const{machineIdentifier:t,friendlyName:i,isPlexAccountRequired:n,dispatchDismissUnclaimedServer:a}=e,s=Vnt(()=>{U.a.trigger("navigate","login")},[]),r=Vnt(()=>{Object(ne.c)("metrics").trackClick({page:zd.xb,action:Rd.l})},[]),o=Vnt(()=>{Object(ne.c)("metrics").trackClick({page:zd.xb,action:Rd.t}),a({machineIdentifier:t})},[t,a]);return Vu()(vh,{title:Object(Ze.default)("{friendlyName} server is unclaimed and not secure",{friendlyName:i}),description:Object(Ze.default)("Claiming this server will associate it with your Plex account. This helps your devices find each other and helps keep your media safe.")},void 0,n?Vu()(hw,{kind:Pp,size:_h,onPress:s},void 0,Object(Ze.default)("Sign in to claim this server")):Vu()(hw,{kind:Pp,size:_h,to:ln(t,"settings","general"),onPress:r},void 0,Object(Ze.default)("Claim it now")),Vu()(sh,{},void 0,Vu()(zp,{kind:Pp,size:Fh,onPress:o},void 0,Object(Ze.default)("Don't show this again"))))};const Fnt={dispatchDismissUnclaimedServer:pu};var Hnt=Object(Hu.b)((function(){return Object(Wu.a)(_S(),fT,(e,t)=>({machineIdentifier:e.machineIdentifier,friendlyName:e.friendlyName,isPlexAccountRequired:t}))}),Fnt)(Bnt);var _nt=function(e){const{machineIdentifier:t,friendlyName:i,activeConnectionUri:n,shouldUseNewSettingsRoutes:a,isShared:s}=e;let r;i&&(r=Object(Ze.default)("The server {1} is out of date and cannot be used.",i)),r=r+" "+Object(Ze.default)("This version of {productName} requires Plex Media Server {minServerVersion} or higher.",{productName:$.prop("X-Plex-Product"),minServerVersion:"1.15.2"});let o="/web/index.html";return s||(o+=a?ln(t,"settings","general"):"#!/settings/server"),Vu()(vh,{title:"Update your Plex Media Server",description:r},void 0,Vu()(hw,{to:V.join([n,o]),target:"_self",kind:Pp,size:_h},void 0,Object(Ze.default)("Open server directly")))};var Wnt=Object(Hu.b)((function(){return Object(Wu.a)(_S(),e=>({machineIdentifier:e.machineIdentifier,friendlyName:e.friendlyName,activeConnectionUri:e.activeConnection.uri,shouldUseNewSettingsRoutes:Qi(e.version,qi.bundledWebAppNewSettingsRoutes),isShared:e.isShared}))}))(_nt);var Qnt=function(){return Vu()(vh,{title:Object(Ze.default)("You must be lost"),description:Object(Ze.default)("We can't find the page you're looking for")},void 0,Vu()(zp,{to:"#",kind:Pp},void 0,Object(Ze.default)("Go Home")))},Gnt=Vu()(dh,{},void 0,Vu()(Jh,{})),Knt=Vu()(Qnt,{}),Ynt=Vu()(r5,{});var qnt=function(e){const{serverEntityID:t,children:i,hasServer:n,showSpinner:a,machineIdentifier:s,isUnauthorized:r,isUnavailable:o,isOutOfDate:l,isUnclaimed:c,isInstallingServerUpdate:d}=e;return a?Gnt:n?d?Vu()(w5,{serverEntityID:t}):o?Vu()(O5,{serverEntityID:t}):l?Vu()(Wnt,{serverEntityID:t}):r?Ynt:c?Vu()(Hnt,{serverEntityID:t}):Vu()(R5e,{machineIdentifier:s},void 0,i):Knt};const Znt=Object(Hu.b)((function(){return Object(Wu.a)(e=>e.isWaitingForServers,(e,{hideUnclaimedPage:t})=>t,_S(),Unt(),Z9e,(e,t,i,n,a)=>i?{hasServer:!0,showSpinner:!i.isConnected&&!i.isUnauthorized&&!i.isUnavailable,machineIdentifier:i.machineIdentifier,isUnauthorized:i.isUnauthorized,isUnavailable:i.isUnavailable,isOutOfDate:i.isOutOfDate,isInstallingServerUpdate:i.isInstallingServerUpdate,isUnclaimed:i.isConnected&&!i.isClaimed&&!a[i.machineIdentifier]&&!n&&!t,hasHttpsConnections:i.hasHttpsConnections,isHostedHttps:z.a.isHostedHttps}:{hasServer:!1,showSpinner:e})}))(qnt);Znt.propTypes=Object.assign({},Znt.propTypes,{serverEntityID:vc.a.string.isRequired});var Jnt=Znt,Xnt=i("05C2"),$nt=i.n(Xnt);const{Fragment:eat}=Nd.a;function tat(e,t){const i=t?t.split("\n"):[];return i.length>0?Vu()(eat,{},void 0,Vu()("div",{className:$nt.a.listTitle},void 0,e),Vu()("ul",{},void 0,i.map((e,t)=>Vu()("li",{},t,e)))):null}var iat=function(e){const{version:t,added:i,fixed:n,isOpen:a,onClose:s}=e;return Vu()(Fw,{metricsPage:zd.hb,isOpen:a,onModalClose:s},void 0,Vu()(YL,{onModalClose:s},void 0,Vu()(zL,{},void 0,Object(Ze.default)("{product} Release Notes",{product:"Plex Media Server"})),Vu()(wL,{},void 0,Vu()("div",{className:$nt.a.version},void 0,Object(Ze.default)("Version {version}",{version:t})),tat(Object(Ze.default)("New"),i),tat(Object(Ze.default)("Fixes"),n))))},nat=i("8UJ8"),aat=i.n(nat);var sat=function({progress:e}){return Vu()("div",{className:aat.a.progress},void 0,Vu()("div",{className:aat.a.emptyBar}),Vu()("div",{className:aat.a.bar,style:{transform:"translate3d(-"+(100-e)+"%, 0, 0)"}}))},rat=i("004c"),oat=i.n(rat);const{useCallback:lat}=Nd.a;var cat=function(e){const{serverEntityID:t,friendlyName:i,state:n,error:a,progress:s,availableVersion:r,currentVersion:o,downloadURL:l,added:c,fixed:d,onDismissServerUpdate:u,onInstallServerUpdate:p,onDownloadServerUpdate:h,onRedirectToHome:m}=e,g=n===JX||n===GX,v=Y9(),y=lat(()=>{u(r)},[r,u]);if($u(()=>{m()},g),g)return null;if(n===ZX)return Vu()(w5,{serverEntityID:t});const f=Object(Ze.default)("Update available for {product}",{product:"Plex Media Server"});let b=Object(Ze.default)('You are currently running version {currentVersion} on the server "{friendlyName}". Version {availableVersion} is now available.',{availableVersion:r,currentVersion:o,friendlyName:i});return n===XX&&(b=b+" "+Object(Ze.default)("This update will need to be installed manually after download.")),n===qX?Vu()(dh,{iconSrc:v5,title:f,description:a||Object(Ze.default)("Something went wrong, please try again later.")}):Vu()(dh,{iconSrc:v5,title:Object(Ze.default)("Update available for {product}",{product:"Plex Media Server"}),description:c||d?Vu()(vw,{message:b+" "+Object(Ze.default)("{openLink}Show release notes{closeLink}."),tags:[{open:"openLink",close:"closeLink",component:zp,onPress:v.onOpen,kind:Pp}]}):b},void 0,n===QX?Vu()("div",{className:oat.a.actionContainer},void 0,Vu()(hw,{kind:Pp,size:_h,onPress:h},void 0,Object(Ze.default)("Download now"))):null,n===YX?Vu()("div",{className:oat.a.actionContainer},void 0,Vu()("div",{},void 0,Object(Ze.default)("Downloading Update ({progress}%)",{progress:s})),isNaN(s)?null:Vu()("div",{className:oat.a.progressContainer},void 0,Vu()(sat,{progress:s}))):null,n===KX?Vu()("div",{className:oat.a.actionContainer},void 0,Vu()(hw,{kind:Pp,size:_h,onPress:p},void 0,Object(Ze.default)("Install now"))):null,n===XX?Vu()("div",{className:oat.a.actionContainer},void 0,Vu()(hw,{kind:Pp,size:_h,target:"_blank",to:l,onPress:y},void 0,Object(Ze.default)("Download now"))):null,n!==YX&&n!==KX?Vu()(sh,{},void 0,Vu()(zp,{className:oat.a.link,kind:Pp,size:Fh,to:"#",onPress:y},void 0,Object(Ze.default)("Skip this version"))):null,Vu()(iat,{isOpen:v.isOpen,version:r,added:c,fixed:d,onClose:v.onClose}))};var dat=Object(Hu.b)((function(){return Object(Wu.a)($S,Yu,RQ(),(e,t,i)=>{const n=i.update;return{serverEntityID:e.entityID,friendlyName:e.friendlyName,state:n.state,error:n.error,progress:n.progress,availableVersion:Gi(n.version),currentVersion:Gi(e.version),downloadURL:n.downloadURL||t.appsUrl,added:n.added,fixed:n.fixed}})}),(function(e,t){const{serverEntityID:i}=t;return{onDismissServerUpdate(t){e(b2({serverEntityID:i,version:t}))},onInstallServerUpdate(){e(S2({serverEntityID:i}))},onDownloadServerUpdate(){e(I2({serverEntityID:i}))},onRedirectToHome(){e(hu({route:"dashboard"}))}}}))(cat);var uat=_u.extend({component(e){const{serverID:t}=e,i=Object(pt.a)(ht.n,t);return Vu()(Bh,{},void 0,Vu()(Nh,{},void 0,Vu()(Fit,{selectedMachineIdentifier:i}),Vu()(Jnt,{serverEntityID:i},void 0,Vu()(dat,{serverEntityID:i}))))}});const pat=Object(Pi.a)("user/signIn/signInWithAuthToken");const hat={"user/signIn/signInWithAuthToken"(e,t,i){const{authToken:n,onSignInSuccess:a}=t,s=e.get("user");s.get("isSignedIn")&&s.get("authToken")!==n?Ge.execute("resetUser").then(()=>De.set("myPlexAccessToken",n)).then(()=>window.location.reload()):function(e,{authToken:t,onSignInSuccess:i}){const n=e.get("cloudServer"),a=e.get("user");D.a.ajax(n.getXHROptions(I.a.result(a,"url"),{headers:{"X-Plex-Token":t}})).then(e=>a.signIn(e)).then(()=>{i?i():U.a.trigger("navigate:refresh")}).fail(e=>{const t=W2(e);U.a.trigger("show:alert",{message:Y2(t)})})}(e,{authToken:n,onSignInSuccess:a})}};var mat=i("ivj2"),gat=i.n(mat);var vat=function(){return Vu()("div",{className:gat.a.plexImageContainer},void 0,Vu()("div",{className:gat.a.plexImage}))},yat=i("t3yN"),fat=i.n(yat);const bat=Nd.a.createElement;function Iat(e){const{component:t}=e,i=Xe()(e,["component"]);return bat(t,tp()({className:fat.a.section},i))}Iat.defaultProps={component:"div"};var Sat=Iat,Cat=i("xHnD"),Mat=i.n(Cat);var Dat=function(e){return Vu()(Sat,{},void 0,Vu()("div",{className:Mat.a.header},void 0,Object(Ze.default)("You must be signed in for Plex to work properly. If you are not signed in")),Vu()("ul",{className:Mat.a.list},void 0,Vu()("li",{className:Mat.a.item},void 0,Object(Ze.default)("Any connections between your media server and players WILL NOT BE SECURE")),Vu()("li",{className:Mat.a.item},void 0,Object(Ze.default)("You may experience degraded streaming performance")),Vu()("li",{className:Mat.a.item},void 0,Object(Ze.default)("It will be more difficult, and sometimes impossible, to find your server and discover players")),Vu()("li",{className:Mat.a.item},void 0,Object(Ze.default)("You will not be able to access your media server from outside your home")),Vu()("li",{className:Mat.a.item},void 0,Object(Ze.default)("You will not be able to access content and many features provided by Plex"))))},Pat=i("66mf"),Oat=i.n(Pat);const{Component:jat}=Nd.a;var wat=Vu()(vat,{}),Tat=Vu()(Dat,{});var Eat=class extends jat{constructor(e,t){super(e,t),this.onSwitchToSkipSignInPress=()=>{this.setState({isSkipSignInVisible:!0})},this.onStillTherePress=()=>{this.setState({isSkipSignInVisible:!1}),this.props.onStillTherePress()},this.onSignInPress=()=>{this.setState({isSkipSignInVisible:!1}),this.props.onSignInPress()},this.state={isSkipSignInVisible:!1}}render(){const{to:e,code:t,signUp:i,isBusy:n,isFirstRun:a,onSkipSignInPress:s}=this.props,r=!(n||t),o=!r,l=this.state.isSkipSignInVisible;return Vu()(ih,{className:Oat.a.page,autoScroll:!0},void 0,a&&!l?Vu()(zp,{className:Oat.a.switchToSkipSignInLink,kind:Pp,onPress:this.onSwitchToSkipSignInPress},void 0,Object(Ze.default)("What's this?")):null,wat,Vu()("div",{className:Oat.a.container},void 0,l?Tat:null,Vu()("div",{className:Oat.a.section},void 0,o?Vu()(dV,{className:Oat.a.button,kind:Pp,size:_h,to:e,target:"_blank",type:"submit",isSpinning:!t,onPress:this.onSignInPress},void 0,i?Object(Ze.default)("Sign up"):Object(Ze.default)("Sign in")):null,r?Vu()(zp,{kind:Pp,onPress:this.onStillTherePress},void 0,Object(Ze.default)("Are you still there?")):null)),l?Vu()(zp,{className:Oat.a.addendumLink,kind:Pp,onPress:s},void 0,Object(Ze.default)("Skip and accept limited functionality")):null)}};const Nat=Nd.a.createElement,{Component:xat}=Nd.a,Aat={dispatchPreloadPIN:A4,dispatchBeginPolling:k4,dispatchStopPolling:R4,dispatchSkipSignIn:z4};var Lat=Object(Hu.b)(_2,Aat)(class extends xat{constructor(...e){super(...e),this.onSignInPress=()=>{this.props.dispatchBeginPolling({pinID:this.props.pinID})},this.onStillTherePress=()=>{this.props.dispatchPreloadPIN()},this.onSkipSignInPress=()=>{this.props.dispatchSkipSignIn()}}componentDidMount(){this.props.dispatchPreloadPIN()}componentWillUnmount(){this.props.dispatchStopPolling()}render(){const e=this.props,t=Xe()(e,["dispatchPreloadPIN","dispatchBeginPolling","dispatchStopPolling","dispatchSkipSignIn"]);return Nat(J4,tp()({component:Eat,onSignInPress:this.onSignInPress,onStillTherePress:this.onStillTherePress,onSkipSignInPress:this.onSkipSignInPress},t))}});const kat=Nd.a.createElement,{Component:Rat}=Nd.a,zat={dispatchReadStoredPIN:x4};var Uat=Vu()(dh,{},void 0,Vu()(Jh,{}));var Vat=Object(Hu.b)(_2,zat)(class extends Rat{componentDidMount(){this.props.dispatchReadStoredPIN({shouldCreatePIN:!0})}render(){const e=this.props,{pinID:t}=e,i=Xe()(e,["pinID","dispatchReadStoredPIN"]);return t?kat(J4,tp()({component:H4,replace:!0,pinID:t},i)):Uat}});const Bat=Nd.a.createElement,{Component:Fat}=Nd.a;const Hat={dispatchResetAuthCodeExchange:L4,dispatchSignInWithAuthToken:pat};var _at=Vu()(yh,{});var Wat=Object(Hu.b)((function(){return Object(Wu.a)(_2,e=>e.isFirstRun,(e,t)=>Object.assign({isFirstRun:t,isPollClient:S4()},e))}),Hat)(class extends Fat{componentDidMount(){this.props.dispatchResetAuthCodeExchange()}componentDidUpdate(e){this.props.authToken!==e.authToken&&this.props.authToken&&this.props.dispatchSignInWithAuthToken({authToken:this.props.authToken,onSignInSuccess:this.props.signUp?()=>U.a.trigger("navigate","dashboard"):null})}render(){const e=this.props,{providerID:t,fatalErrorMessage:i,signUp:n,isFirstRun:a,isPollClient:s}=e,r=Xe()(e,["providerID","errorMessage","fatalErrorMessage","signUp","isFirstRun","isPollClient","dispatchResetAuthCodeExchange","dispatchSignInWithAuthToken"]);return i?_at:t?Bat(J4,tp()({component:H4,providerID:t,signUp:n,replace:!0},r)):s?Bat(Lat,tp()({isFirstRun:a,signUp:n},r)):Vu()(Vat,{signUp:n})}});var Qat=_u.extend({component:e=>Vu()(kh,{},void 0,Vu()(Wat,{signUp:e.signUp}))});const{Component:Gat}=Nd.a;var Kat=Vu()(f$,{metricsPage:zd.qb},void 0,Vu()(L6e,{},void 0,Vu()(N_,{},void 0,Vu()(Jh,{}))));var Yat=class extends Gat{static getDerivedStateFromProps(e,t){return e.isSignedIn&&!t.isSigningOut?{isSigningOut:!0}:null}constructor(e,t){super(e,t),this.state={isSigningOut:!1}}componentDidMount(){this.state.isSigningOut&&this.props.onSignOut()}componentDidUpdate(e,t){this.state.isSigningOut&&!t.isSigningOut&&this.props.onSignOut()}render(){return Kat}};const qat=Object(Wu.a)(Zu.a,({isSignedIn:e})=>({isSignedIn:e}));var Zat=Object(Hu.b)(qat,(function(e){return{onSignOut(){Ge.execute("signOut").then(()=>{e(hu({route:"login",options:{replace:!0}}))})}}}))(Yat),Jat=Vu()(kh,{},void 0,Vu()(Zat,{}));var Xat=_u.extend({component:e=>Jat});var $at=R.Layout.extend({regions:{content:".content"}});var est=$at.extend({initialize:function(e){this.title=e.title,this.subtitle=e.subtitle,this.message=e.message},serializeData:function(){return{title:this.title,subtitle:this.subtitle,message:this.message}}}),tst=i("7Uac"),ist=i.n(tst),nst=est.extend({className:"container",template:ist.a});var ast=$at.extend({initialize:function(e){this.type=e.type||"404"},serializeData:function(){let e,t;return"404"===this.type?(e=Object(Ze.default)("You must be lost."),t=Object(Ze.default)("This page doesn't exist.")):"server"===this.type?(e=Object(Ze.default)("Media server not found."),t=Object(Ze.default)("The server you're trying to access doesn't seem to exist.")):(e=Object(Ze.default)("Media not found."),t=Object(Ze.default)("The media you're trying to access doesn't seem to exist.")),{title:e,subtitle:t}}}).extend({className:"container",template:ist.a});var sst=$at.extend({}).extend({className:"container",template:ist.a,serializeData:function(){return{title:Object(Ze.default)("You don't have any media servers yet."),subtitle:Object(Ze.default)("{1}Download and install{2} one and try again.",'<a href="https://plex.tv/downloads" target="_blank">',"</a>")}}});var rst=$at.extend({serializeData:function(){return{title:Object(Ze.default)("No soup for you!"),subtitle:Object(Ze.default)("The server you're trying to access doesn't want to let you in. Make sure you're signed in as a user with access to this server.")}}}).extend({className:"container",template:ist.a});var ost=$at.extend({modelEvents:{"change:isResolved":"onResolvedChange"},serializeData:function(){const e=this.model,t=e.get("friendlyName");let i,n;return e.get("cloud")?e.get("isDownForMaintenance")?(i=Object(Ze.default)("Plex is down for maintenance."),n=Object(Ze.default)("Don't worry, it'll be back soon.")):(i=Object(Ze.default)("Plex is not reachable."),n=Object(Ze.default)("Make sure your server has an internet connection and any firewalls or other programs are set to allow access.")):(i=Object(Ze.default)("Server unavailable."),n=t?Object(Ze.default)("We couldn't reach \"{1}\". Make sure it's online and try again.",I.a.escape(t)):Object(Ze.default)("We couldn't reach this server. Make sure it's online and try again.")),{title:i,subtitle:n}},onResolvedChange:function(e,t){t&&U.a.trigger("navigate:refresh")}}).extend({className:"container",template:ist.a});const{Fragment:lst}=Nd.a;var cst=Vu()(yh,{}),dst=Vu()(fh,{}),ust=Vu()(a$,{}),pst=Vu()(dh,{},void 0,Vu()(Jh,{})),hst=Vu()(Qnt,{});var mst=function(e){const{children:t,hasProvider:i,isDownForMaintenance:n,isUnreachable:a,hasError:s,isPending:r}=e;return n?cst:a?dst:s?ust:r?pst:i?Vu()(lst,{},void 0,t):hst};const gst=Object(Hu.b)((function(){return Object(Wu.a)(bg("isProvidersPopulated"),bg("providersError"),HS(),Yu,(e,t,i,n)=>i?{hasProvider:!0,hasError:!!i.error,isPending:!i.isPopulated}:{hasProvider:!1,isDownForMaintenance:n.isDownForMaintenance,isUnreachable:n.isUnavailable,hasError:!!t,isPending:!e})}))(mst);gst.propTypes=Object.assign({},gst.propTypes,{providerEntityID:vc.a.string.isRequired});var vst=gst;function yst(e,t){if(e&&e.pivots)return e.pivots.find(e=>e.key===t)}function fst(){return Object(Wu.a)((e,{directoryKey:t})=>t,Y9e(),(e,t)=>yst(t,e))}function bst(e,t,i,n){return Object(Zc.a)(e.machineIdentifier,t.identifier,i.id,n.key)}function Ist(e,t){return e===wt.p&&t}var Sst=i("67KC"),Cst=i.n(Sst);const Mst=Nd.a.createElement;function Dst(e){let{children:t}=e,i=Xe()(e,["children"]);return Mst("div",i,t)}Dst.defaultProps={className:Cst.a.pageHeader};var Pst=Dst,Ost=i("pIhj"),jst=i.n(Ost);function wst({className:e,children:t}){return Vu()("div",{className:e},void 0,t)}wst.defaultProps={className:jst.a.pageHeaderRight};var Tst=wst,Est=i("61K8"),Nst=i.n(Est);var xst=function({children:e}){return Vu()(Tst,{className:Nst.a.pageHeaderRight},void 0,e)};var Ast=Object(Wu.a)(Gw(wt.C),fk,yKe,(e,t,i)=>e&&t.v4DirectoryEnabled&&i);var Lst=Object(Wu.a)(bg("features"),e=>Object(Hw.a)(e,e=>e.id,()=>!0));var kst=function(e){return e.type===Ya.View&&!Object.values(qa).includes(e.key)};var Rst=function(e,t,i,n){var a;if(!i)return;if(kst(n))return;return Xt(e,t,i,!(null==(a=i.pivots)?void 0:a.includes(n))?{pageType:n.type,key:n.key}:{pivot:n.id||n.key})};function zst(e,t,i,n,a){return"view"===n.type?si(n.key,e,t,i,a):Xt(e,t,i,Object.assign({},a,{key:n.key,pageType:n.type,context:n.context}))}const{useCallback:Ust}=Nd.a;var Vst=function(e){const{tab:t,component:i,onPress:n}=e,a=Object(Hu.c)(),s=Object(Hu.d)(Ast),r=Ust(e=>{if(s){const t=e.currentTarget.getAttribute("href");t&&(0===e.button||e.touches)&&(e.stopPropagation(),a(Object(Kn.v)({pathname:t,replace:!0})))}n(t.id,s)},[s,t,n,a]);return Vu()(i,{isDisabled:t.isDisabled,isSelected:t.isSelected,to:t.route,onPress:r},void 0,t.title)};var Bst=Object(Hu.b)(null,(function(e,t){const{serverEntityID:i,providerEntityID:n,providerMetricsIdentifier:a,sourceDirectory:s,tab:r,metricsPage:o}=t;return{onPress(t,l){l||e(Object(Kn.B)({serverEntityID:i,providerEntityID:n,directoryID:s.id,pivotKey:r.pivotKey})),Object(ne.c)("metrics").trackEvent({event:"client:click",interaction:!0,properties:{page:o,identifier:a,action:Rd.eb,context:r.context,origin:"tabChange"}})}}}))(Vst),Fst=i("lnp7"),Hst=i.n(Fst);const _st=Nd.a.createElement;function Wst(e){const{className:t,children:i,isSelected:n}=e,a=Xe()(e,["className","children","isSelected"]);return _st(hw,tp()({className:(t||"")+" "+(n&&Hst.a.isSelected||""),"data-qa-id":"tabButton",size:_h},a),i)}Wst.defaultProps={className:Hst.a.button};var Qst=Wst,Gst=i("aAt6"),Kst=i.n(Gst);const Yst=Nd.a.createElement,{useCallback:qst}=Nd.a,Zst={placement:"bottom-start",modifiers:[{name:"offset",options:{offset:[parseInt(BV.pageHeaderTabButtonLeftRightMargin,10)]}}]};var Jst=function(e){const{tabs:t,component:i,onPress:n}=e,a=Xe()(e,["tabs","component","onPress"]),{menuButtonID:s,isMenuOpen:r,onMenuButtonPress:o,onMenuClose:l}=py(),c=qst(e=>{l(),n&&n(e)},[n,l]),d=t.find(e=>e.isSelected)||t[0];return Vu()("div",{id:s,className:Kst.a.container,"data-qa-id":"tabDropDown"},void 0,Vu()(Qst,{className:Kst.a.button,isSelected:d.isSelected,onPress:o},void 0,Vu()("div",{className:Kst.a.buttonContents},void 0,Vu()("div",{className:Kst.a.title},void 0,d.title),Vu()(fy,{className:(Kst.a.disclosureArrow||"")+" "+(d.isSelected&&Kst.a.isSelected||""),direction:r?hy:my}))),Vu()(Qv,{isOpen:r,target:s,options:Zst,onMenuClose:l},void 0,t.map((e,t)=>Yst(i,tp()({},a,{key:t,tab:e,component:oy,onPress:c})))))},Xst=i("DkTW"),$st=i.n(Xst);const ert=Nd.a.createElement,{useCallback:trt,useState:irt}=Nd.a;function nrt(e){const{tabs:t,component:i,hideSingleTabs:n}=e,a=Xe()(e,["tabs","component","hideSingleTabs"]),s=irt(0),r=s[1],o=s[0],l=trt(e=>{r(e.width)},[]),c=irt(0),d=c[1],u=c[0],p=trt(e=>{d(e.width)},[]),h=t.length<2,m=t.length>1&&u>o;return h&&n?null:Vu()(T0,{className:$st.a.pageHeaderCenter,ignoreHeight:!0,onMeasure:l},void 0,m?ert(Jst,tp()({},a,{tabs:t,component:i})):Vu()(T0,{ignoreHeight:!0,onMeasure:p},void 0,t.map((e,t)=>ert(i,tp()({},a,{key:t,tab:e,component:Qst})))))}nrt.defaultProps={component:Vst,hideSingleTabs:!0};var art=nrt;const srt=Nd.a.createElement;var rrt=kK((function(){return Object(Wu.a)(ZS,Object(Wu.a)((e,{sourceDirectory:t})=>t,(e,{directoryKey:t})=>t,_S(),HS(),Lst,hit,Ast,(e,t,i,n,a,s,r)=>{const o=yst(e,t);return e.pivots.reduce((t,l)=>{if("vod.channels"===l.id&&l.requires&&!a[l.requires])return t;const c=bst(i,n,e,l),d=c?s[c]:{},u=r?Rst(i,n,e,l):zst(i,n,e,l,d);return u?(t.push({pivotKey:l.key,title:l.title,route:u,isSelected:!(!o||l.key!==o.key),isDisabled:!l.key,context:l.context}),t):t},[])}),(e,t)=>({providerMetricsIdentifier:e.metricsIdentifier,tabs:t}))}))((function(e){return srt(art,tp()({},e,{component:Bst}))})),ort=i("2kxp"),lrt=i.n(ort);function crt({className:e,children:t}){return Vu()("div",{className:e},void 0,t)}crt.defaultProps={className:lrt.a.pageHeaderLeft};var drt=crt,urt=i("kjw+"),prt=i.n(urt);var hrt=function({className:e=prt.a.container,innerClassName:t=prt.a.innerContainer,children:i}){return Vu()("div",{className:e},void 0,Vu()("div",{className:t},void 0,i))},mrt=i("9l/z"),grt=i.n(mrt);const{Fragment:vrt}=Nd.a;var yrt=function(e){const{serverEntityID:t,providerEntityID:i,isEmbeddedServer:n,source:a,title:s,detail:r,route:o}=e,l=py();return Vu()(vrt,{},void 0,a&&!n?Vu()(hrt,{},void 0,Vu()(p8e,{id:l.menuButtonID,iconComponent:R8e,label:Object(Ze.default)("Actions"),isMenuOpen:l.isMenuOpen,onPress:l.onMenuButtonPress}),Vu()(Ltt,{target:l.menuButtonID,serverEntityID:t,providerEntityID:i,source:a,isOverflowMenuOpen:l.isMenuOpen,onOverflowMenuClose:l.onMenuClose})):null,Vu()("div",{className:grt.a.headerContainer},void 0,Vu()(o9e,{title:s,detail:r,route:o})))};function frt(e,t,i,n){return n?Object(Ze.default)("Downloads"):e?e.title:t.isCloud?i.title:E5(t)}function brt(e,t){return t.isCloud?e&&e.providerSourceTitle:t.isFullOwnedServer?e?e.serverFriendlyName:null:e?e.serverSourceTitle+"  "+e.serverFriendlyName:T5(t)}const Irt=Object(Wu.a)((e,{sourceDirectory:t})=>t,hit,_S(),HS(),Unt(),NIe(Ot.c),(e,t,i,n,a,s)=>{if(!s)return{};const r=JQ(n,e),o=e?nte({sourceType:r?r.key:null,sourceServer:i,sourceProvider:n,sourceDirectory:e}):null,l=a?kpe(t.downloads):Xt(i,n,e,e?void 0:{key:"/hubs",pageType:xt});return{isEmbeddedServer:a,source:o,title:frt(o,i,n,a),detail:brt(o,i),route:l}});var Srt=Object(Hu.b)(Irt)(yrt),Crt=i("/6Su"),Mrt=i.n(Crt);function Drt(e){const{containerComponent:t,serverEntityID:i,providerEntityID:n,sourceDirectory:a,children:s}=e;return Vu()(t,{},void 0,Vu()(Srt,{serverEntityID:i,providerEntityID:n,sourceDirectory:a}),s?Vu()("div",{className:Mrt.a.childrenContainer},void 0,s):null)}Drt.defaultProps={containerComponent:drt};var Prt=Drt;const Ort=Nd.a.createElement;var jrt=Vu()(xst,{}),wrt=Vu()(Z2e,{});var Trt=function(e){const{serverEntityID:t,providerEntityID:i,pivot:n,sourceDirectory:a,directoryKey:s,showSecondHeader:r,children:o}=e,l=Xe()(e,["serverEntityID","providerEntityID","pivot","sourceDirectory","directoryKey","showSecondHeader","children"]);return Ort(l$,tp()({className:d$.a.page},l),Vu()(Pst,{},void 0,Vu()(Prt,{serverEntityID:t,providerEntityID:i,sourceDirectory:a}),n?Vu()(rrt,{serverEntityID:t,providerEntityID:i,sourceDirectory:a,directoryKey:s}):null,jrt),r?wrt:null,Vu()(L6e,{},void 0,o))};function Ert(e){var t=e["aria-label"],i=e.className,n=e.style,a={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 361.506",id:"plex-icon-devices"};a["aria-hidden"]=!t,a.style=n,a.className=Ad.a.plexIcon+(i?" "+i:"");var s=[Nd.a.createElement.apply(Nd.a,["g",{stroke:"#e5a00d",strokeWidth:"2.95"}].concat([Nd.a.createElement.apply(Nd.a,["path",{d:"M429.683 360.028h-128.55c-3.944 0-7.606-1.77-10.045-4.86a12.609 12.609 0 01-2.384-10.87l12.32-50.859h128.774l12.322 50.86c.929 3.818.059 7.783-2.384 10.87a12.729 12.729 0 01-10.053 4.859zm-121.35-57.343l-10.607 43.78c-.345 1.436.263 2.484.655 2.988a3.448 3.448 0 002.753 1.328h128.55c1.483 0 2.366-.83 2.758-1.337.392-.495 1-1.543.655-2.98l-10.607-43.779z"}].concat([])),Nd.a.createElement.apply(Nd.a,["path",{d:"M304.68 302.685h-38.937c-2.566 0-4.642-2.068-4.642-4.623s2.076-4.623 4.642-4.623h38.937c2.564 0 4.641 2.068 4.641 4.623s-2.077 4.623-4.64 4.623zM541.294 302.685H426.146c-2.567 0-4.644-2.065-4.644-4.62s2.077-4.625 4.644-4.625h115.148c4.384 0 7.949-3.548 7.949-7.918v-26.599H265.929c-2.566 0-4.642-2.067-4.642-4.622 0-2.556 2.076-4.623 4.642-4.623h292.596v35.844c0 9.462-7.728 17.163-17.231 17.163z"}].concat([])),Nd.a.createElement.apply(Nd.a,["path",{d:"M553.884 258.922a4.628 4.628 0 01-4.641-4.622V18.63c0-4.361-3.565-7.91-7.949-7.91H189.53c-4.384 0-7.947 3.549-7.947 7.91v58.967c0 2.555-2.076 4.623-4.642 4.623-2.566 0-4.642-2.068-4.642-4.623V18.63c0-9.462 7.729-17.155 17.23-17.155h351.765c9.503 0 17.23 7.693 17.23 17.155V254.3a4.628 4.628 0 01-4.64 4.622zM100.935 360.028H18.04c-9.135 0-16.565-7.403-16.565-16.496v-154.33c0-9.092 7.43-16.495 16.565-16.495h82.895c9.135 0 16.565 7.403 16.565 16.495v154.33c0 9.093-7.43 16.496-16.565 16.496zM18.04 181.952c-4.017 0-7.28 3.25-7.28 7.25v154.33c0 4 3.263 7.249 7.28 7.249h82.895c4.017 0 7.281-3.249 7.281-7.25V189.203c0-4-3.264-7.25-7.28-7.25z"}].concat([])),Nd.a.createElement.apply(Nd.a,["path",{d:"M112.088 206.735H7.777c-2.566 0-4.642-2.068-4.642-4.623s2.076-4.623 4.642-4.623h104.311c2.566 0 4.642 2.068 4.642 4.623s-2.076 4.623-4.642 4.623zM112.088 323.353H7.777c-2.566 0-4.642-2.068-4.642-4.623s2.076-4.624 4.642-4.624h104.311c2.566 0 4.642 2.069 4.642 4.624 0 2.555-2.076 4.623-4.642 4.623zM67.384 194.348H55.462c-2.566 0-4.642-2.067-4.642-4.623 0-2.555 2.076-4.622 4.642-4.622h11.922c2.566 0 4.642 2.067 4.642 4.622 0 2.556-2.076 4.623-4.642 4.623zM59.488 349.359c-6.56 0-11.9-5.32-11.9-11.855 0-6.53 5.34-11.846 11.9-11.846 6.56 0 11.9 5.316 11.9 11.846 0 6.535-5.34 11.855-11.9 11.855zm0-14.458a2.611 2.611 0 00-2.616 2.603 2.618 2.618 0 002.616 2.608 2.618 2.618 0 002.616-2.608 2.611 2.611 0 00-2.616-2.603z"}].concat([])),Nd.a.createElement.apply(Nd.a,["path",{d:"M226.172 360.03h-91.097c-2.566 0-4.642-2.068-4.642-4.623s2.076-4.623 4.642-4.623h91.097c6.85 0 12.42-5.553 12.42-12.369V117.552c0-6.817-5.57-12.37-12.42-12.37H107.536c-6.846 0-12.417 5.553-12.417 12.37v40.277c0 2.555-2.076 4.623-4.642 4.623-2.566 0-4.642-2.068-4.642-4.623v-40.277c0-11.918 9.733-21.615 21.7-21.615h118.637c11.967 0 21.705 9.697 21.705 21.615v220.863c0 11.917-9.738 21.616-21.705 21.616z"}].concat([])),Nd.a.createElement.apply(Nd.a,["path",{d:"M242.129 136.557H92.848c-2.566 0-4.642-2.068-4.642-4.623s2.076-4.623 4.642-4.623h149.28c2.567 0 4.643 2.068 4.643 4.623s-2.076 4.623-4.642 4.623zM242.129 315.593h-106.46c-2.566 0-4.642-2.068-4.642-4.623s2.076-4.623 4.642-4.623h106.46c2.566 0 4.642 2.068 4.642 4.623s-2.076 4.623-4.642 4.623zM178.151 122.94h-17.059c-2.566 0-4.642-2.067-4.642-4.622 0-2.555 2.076-4.623 4.642-4.623h17.06c2.565 0 4.641 2.068 4.641 4.623s-2.076 4.623-4.642 4.623zM166.854 348.158c-8.287 0-15.028-6.715-15.028-14.968 0-8.252 6.741-14.97 15.028-14.97s15.028 6.718 15.028 14.97c0 8.253-6.741 14.968-15.028 14.968zm0-20.695c-3.169 0-5.744 2.567-5.744 5.727s2.575 5.724 5.744 5.724c3.169 0 5.744-2.564 5.744-5.724s-2.575-5.727-5.744-5.727zM380.652 30.415h-30.481a4.628 4.628 0 01-4.641-4.623 4.628 4.628 0 014.64-4.623h30.482a4.628 4.628 0 014.641 4.623 4.628 4.628 0 01-4.64 4.623z"}].concat([]))]))];return t&&s.unshift(Nd.a.createElement("title",null,t)),Nd.a.createElement.apply(Nd.a,["svg",a].concat(s))}Ert.propTypes={"aria-label":vc.a.string,className:vc.a.string,style:vc.a.object};var Nrt=Ert;function xrt(e){var t=e["aria-label"],i=e.className,n=e.style,a={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-parental-controls"};a["aria-hidden"]=!t,a.style=n,a.className=Ad.a.plexIcon+(i?" "+i:"");var s=[Nd.a.createElement.apply(Nd.a,["g",void 0].concat([Nd.a.createElement.apply(Nd.a,["path",{d:"M548.3 559.273H361.152c-6.456 0-11.696-5.22-11.696-11.657V407.73c0-6.435 5.24-11.657 11.696-11.657H548.3c6.457 0 11.7 5.222 11.7 11.657v139.885c0 6.437-5.243 11.657-11.7 11.657zm-175.451-23.315h163.756v-116.57H372.849z"}].concat([])),Nd.a.createElement.apply(Nd.a,["path",{d:"M454.726 512.644c-6.457 0-11.697-5.22-11.697-11.657v-34.97c0-6.435 5.24-11.657 11.697-11.657 6.457 0 11.697 5.222 11.697 11.657v34.97c0 6.438-5.24 11.657-11.697 11.657z"}].concat([])),Nd.a.createElement.apply(Nd.a,["path",{d:"M454.727 489.33c12.92 0 23.392-10.44 23.392-23.314 0-12.876-10.472-23.314-23.392-23.314s-23.394 10.438-23.394 23.314c0 12.875 10.474 23.314 23.394 23.314zM524.905 419.388c-6.457 0-11.695-5.223-11.695-11.658v-23.314c0-32.127-26.222-58.286-58.484-58.286-32.26 0-58.484 26.159-58.484 58.286v23.314c0 6.435-5.24 11.658-11.697 11.658-6.457 0-11.697-5.223-11.697-11.658v-23.314c0-44.997 36.728-81.6 81.878-81.6 45.152 0 81.879 36.603 81.879 81.6v23.314c0 6.435-5.244 11.658-11.7 11.658zM11.7 559.772c-.936 0-1.872-.114-2.831-.347-6.293-1.565-10.083-7.884-8.516-14.131l14.06-56.002c6.854-27.23 26.856-48.773 53.548-57.632l103.821-34.482c24.4-10.165 35.816-50.429 38.272-65.7-17.919-16.367-34.599-40.987-34.599-63.135 0-8.253-2.456-11.657-3.743-12.287-3.65-.91-5.708-3.217-7.112-6.691-1.286-3.194-12.539-31.778-12.539-50.965 0-.956.117-1.912.352-2.821 1.286-5.106 4.865-12.59 11.345-16.973v-61.807C163.758 68.12 208.253.228 280.727.228c71.584 0 91.048 36.58 93.317 54.672 12.141 8.93 23.65 24.34 23.65 61.9v61.806c6.48 4.383 10.084 11.844 11.347 16.973.234.932.35 1.865.35 2.82 0 19.188-11.228 47.772-12.538 50.966-1.404 3.474-4.375 6.085-8.024 6.97-.351.35-2.83 3.755-2.83 12.008 0 21.1-8.353 32.034-13.358 38.562l-1.755 2.401c-3.603 5.362-10.878 6.761-16.212 3.218-5.38-3.59-6.83-10.818-3.252-16.18.749-1.096 1.638-2.285 2.62-3.591 4.024-5.246 8.562-11.19 8.562-24.41 0-17.416 7.23-27.091 14.083-31.638 3.369-9.139 8.726-25.715 9.264-36.533-.421-.933-.959-1.866-1.333-2.192-6.457 0-10.317-4.78-10.317-11.214v-69.967c0-34.318-11.065-41.313-15.79-44.297-2.831-1.795-7.603-4.803-8.282-11.214-.163-1.376.048-2.961.491-4.546-1.637-9.233-15.673-33.2-69.993-33.2-57.104 0-93.575 55.232-93.575 93.257v69.944c0 6.434-5.24 11.657-11.697 11.657.562 0 .35.792.048 1.678.515 10.842 5.918 27.488 9.264 36.604 6.854 4.57 14.083 14.222 14.083 31.638 0 15.69 15.51 36.673 30.833 49.31a11.633 11.633 0 014.257 8.975c0 14.805-13.498 75.539-53.992 92.349L75.33 453.739c-19.065 6.318-33.383 21.729-38.249 41.172l-14.06 56.002c-1.286 5.339-6.058 8.86-11.322 8.86z"}].concat([]))]))];return t&&s.unshift(Nd.a.createElement("title",null,t)),Nd.a.createElement.apply(Nd.a,["svg",a].concat(s))}xrt.propTypes={"aria-label":vc.a.string,className:vc.a.string,style:vc.a.object};var Art=xrt,Lrt=i("AoyP"),krt=i.n(Lrt);const{useCallback:Rrt}=Nd.a;var zrt=function(){const e=Rrt(()=>{U.a.trigger("navigate","signUp")},[]);return Vu()(dh,{title:Object(Ze.default)("Sign up for a free account to continue"),description:Object(Ze.default)("Some benefits to a Plex account:")},void 0,Vu()("div",{className:krt.a.container},void 0,Vu()("div",{className:krt.a.panel},void 0,Vu()(Nrt,{className:krt.a.panelIcon}),Vu()("div",{className:krt.a.panelTitle},void 0,Object(Ze.default)("One App, Any Device")),Vu()("div",{className:krt.a.panelDescription},void 0,Object(Ze.default)("Pick up whatever you were watching exactly where you left off on any device"))),Vu()("div",{className:krt.a.panel},void 0,Vu()(iwe,{className:krt.a.panelIcon}),Vu()("div",{className:krt.a.panelTitle},void 0,Object(Ze.default)("Save Your Favorites")),Vu()("div",{className:krt.a.panelDescription},void 0,Object(Ze.default)("Save your favorite Podcasts and Web Shows. Add a TIDAL subscription to save your favorite music and playlists"))),Vu()("div",{className:krt.a.panel},void 0,Vu()(Art,{className:krt.a.panelIcon}),Vu()("div",{className:krt.a.panelTitle},void 0,Object(Ze.default)("Parental Controls")),Vu()("div",{className:krt.a.panelDescription},void 0,Object(Ze.default)("Enable parental controls to keep things kid-friendly, or create separate accounts for your childish roommates")))),Vu()(sh,{},void 0,Vu()(hw,{kind:Pp,size:_h,onPress:e},void 0,Object(Ze.default)("Sign Up"))))},Urt=Vu()(dh,{},void 0,Vu()(Jh,{})),Vrt=Vu()(Qnt,{}),Brt=Vu()(zrt,{});var Frt=function(e){const{serverEntityID:t,providerEntityID:i,pivot:n,sourceDirectory:a,directoryKey:s,isNotFound:r,showPlexAccountUpsell:o,isPending:l,children:c}=e;return l?Urt:r?Vrt:o?Vu()(Trt,{serverEntityID:t,providerEntityID:i,pivot:n,sourceDirectory:a,directoryKey:s,scrollDirection:Zp},void 0,Brt):c};const{Component:Hrt}=Nd.a;function _rt(e,t){return!e&&!t||I.a.isEqual(e,t)}const Wrt={dispatchSavePivotParams:Kn.C};var Qrt=Object(Hu.b)((function(){return Object(Wu.a)((e,{sourceDirectoryID:t})=>t,Y9e(),fst(),Object(Wu.a)(_S(),HS(),Y9e(),fst(),hit,(e,t,i,n,a)=>i&&n&&a?a[bst(e,t,i,n)]:null),Object(Wu.a)(_S(),e=>e.isProvidersPending),fT,(e,t,i,n,a,s)=>({sourceDirectoryID:e,sourceDirectory:t,pivot:i,savedPivotParams:n,isNotFound:!(!e||t),isPlexAccountRequired:!!i&&Ist(i.requires,s),isPending:!!a}))}),Wrt)(class extends Hrt{componentDidMount(){const{sourceDirectory:e,pivot:t,shouldSaveParams:i}=this.props;e&&t&&i&&this._savePivotDefaultParams(this.props)}componentDidUpdate(e){const{sourceDirectory:t,pivot:i,shouldSaveParams:n,params:a}=this.props;t&&i&&n&&!_rt(e.params,a)&&this._savePivotDefaultParams(this.props)}_savePivotDefaultParams(e){const{serverEntityID:t,providerEntityID:i,sourceDirectory:n,pivot:a,params:s,savedPivotParams:r,dispatchSavePivotParams:o}=e;a&&!_rt(s,r)&&o({serverEntityID:t,providerEntityID:i,directoryID:n.id,pivotKey:a.key,params:s})}render(){const{serverEntityID:e,providerEntityID:t,pivot:i,sourceDirectory:n,directoryKey:a,isNotFound:s,isPlexAccountRequired:r,isPending:o,children:l}=this.props;return Vu()(Frt,{serverEntityID:e,providerEntityID:t,pivot:i,sourceDirectory:n,directoryKey:a,showPlexAccountUpsell:r,isNotFound:s,isPending:o},void 0,l)}});const Grt=Nd.a.createElement,{Component:Krt}=Nd.a;var Yrt=function(e,t,i,n){var a,s;const r=FS(t,e=>({identifiers:e}));return Object(Hu.b)(e=>r)((s=a=class extends Krt{constructor(e,t){super(e,t),this._component=void 0,this._isPopulated=void 0,this.onRepopulate=()=>{this._repopulate()},this._isPopulated=!1,this._component=null}componentDidMount(){this._populate()}componentDidUpdate(){this._isPopulated||this._populate()}_populate(){const e=this.props,{dispatch:t}=e,n=Xe()(e,["identifiers","dispatch"]);Object(Ti.a)(()=>{i(t,n)})}_repopulate(){if(!n)return this._populate();const e=this.props,{dispatch:t}=e,i=Xe()(e,["identifiers","dispatch"]);n(t,i)}render(){if(this._isPopulated=function(e){const{identifiers:t}=e;for(const i in t)if(t[i]!==e[i])return!1;return!0}(this.props),this._isPopulated){const t=this.props,i=Xe()(t,["identifiers","dispatch"]);this._component=Grt(e,tp()({onRepopulate:this.onRepopulate},i))}return this._component}},a.displayName="Populatable("+ff(e)+")",a.WrappedComponent=e,s))};function qrt(){return Object(Wu.a)(_S(),e=>e.isCloud)}const Zrt=e=>"hdonly"===e.key;var Jrt=()=>(e,{activeFilters:t})=>t.some(Zrt);function Xrt(e){const{getCellHeights:t,overscan:i=0,outerPaddingTop:n=0,outerPaddingRight:a=0,outerPaddingBottom:s=0,outerPaddingLeft:r=0}=e;let o,l,c,d,u,p,h,m,g;function v(e){const t=I.a.findIndex(u,t=>t>e),i=u.length-1;return-1===t?i:Math.min(Math.max(0,t-1),i)}return{getListStyle:function(e){const i=e.viewportHeight+":"+e.viewportWidth;if(i===p)return h;o=e.viewportHeight,l=e.viewportWidth-(r+a),c=t(l),u=[];let m=n;return c.forEach(e=>{u.push(m),m+=e}),d=c.reduce((e,t)=>e+t,n+s),p=i,h={height:d,width:l},h},getLandmarks:function(){Object(S.a)(void 0!==o,"`getListStyle` must be called before `getLandmarks`");const e=o+":"+d;return e===m||(m=e,g=u.map((e,t)=>({index:t,position:e/d}))),g},getPositionForIndex:function(e){return Object(S.a)(void 0!==o,"`getListStyle` must be called before `getPositionForIndex`"),{cellX:r,cellY:u[e],cellWidth:l,cellHeight:c[e]}},getRelativeIndex:function(){Object(S.a)(!1,"Stacked layouts do not support relative indexing")},getRangesForPosition:function(e,t,n){Object(S.a)(void 0!==o,"`getListStyle` must be called before `getPositionForIndex`");const a=e+o-1,s=v(e-i*o),r=v(e),l=v(a),c=v(a+i*o);return{visibleStartIndex:fO(r,n),visibleEndIndex:fO(l,n),partiallyVisibleStartIndex:fO(r,n),partiallyVisibleEndIndex:fO(l,n),renderStartIndex:fO(s,n),renderEndIndex:fO(c,n)}}}}function $rt(e){var t=e["aria-label"],i=e.className,n=e.style,a={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-shows-broadcast-560"};a["aria-hidden"]=!t,a.style=n,a.className=Ad.a.plexIcon+(i?" "+i:"");var s=[Nd.a.createElement.apply(Nd.a,["path",{d:"m280 120l120-100h70l-118.75 100h208.75v440h-560v-440h208.75l-118.75-100h70l120 100m-220 340h440v-280h-440v280"}].concat([]))];return t&&s.unshift(Nd.a.createElement("title",null,t)),Nd.a.createElement.apply(Nd.a,["svg",a].concat(s))}$rt.propTypes={"aria-label":vc.a.string,className:vc.a.string,style:vc.a.object};var eot=$rt;var tot=function(e){const{machineIdentifier:t,isRefreshing:i}=e;if(i)return Vu()(N_,{iconComponent:eot,title:Object(Ze.default)("We're now building your Guide"),description:Object(Ze.default)("Hang tight while we download all the data for what's on")});const n=ln(t,"manage","dvr");return Vu()(N_,{iconComponent:eot,title:Object(Ze.default)("The Guide is empty"),description:Object(Ze.default)("Please verify your channel mappings and refresh the Guide")},void 0,Vu()(zp,{to:n,kind:Pp},void 0,Object(Ze.default)("Go to DVR Settings")))};const iot=Nd.a.createElement;var not=Object(Hu.b)((function(){return Object(Wu.a)(_S(),Wet(),(e,t)=>({machineIdentifier:e.machineIdentifier,isRefreshing:!!t}))}))((function(e){return iot(tot,e)}));const aot=Nd.a.createElement;var sot=function(e){const{children:t}=e,i=Xe()(e,["children"]);return aot(a$,tp()({className:T_.a.innerEmptyPage,contentClassName:T_.a.innerEmptyPageContent,scrollDirection:Zp},i),t)},rot=i("uGWF"),oot=i.n(rot);var lot=Vu()(tf,{});var cot=function(e){const{beginsAt:t,endsAt:i,timeFormat:n,channelTitle:a,contentRating:s}=e,{airTime:r,duration:o}=function(e,t,i,n){const a=Math.floor(Date.now()/1e3);let s="",r="";if(a>=e&&a<=t)s=Object(Ze.default)("Now on {channel}",{channel:n}),r=$m(t-a);else{const a=nSe(e,t,{timeFormat:i,separator:" - "});s=Object(Ze.default)("{timeRange} on {channel}",{timeRange:a,channel:n}),r=Xm(1e3*(t-e))}return{airTime:s,duration:r}}(t,i,n,a);return Vu()("div",{className:oot.a.container},void 0,r,lot,o,Vu()("div",{className:oot.a.contentRating},void 0,BCe(s)))},dot=i("wCLk"),uot=i.n(dot);var pot=function(e){const{type:t,metadataItemEntityID:i,serverEntityID:n,providerEntityID:a}=e,s=function(e){let t;switch(e){case Qt.j:t=[QSe,qce];break;case Qt.o:t=[QSe,vCe];break;case Qt.f:t=[Sce,vCe];break;default:t=[QSe]}return t}(t);return Vu()("div",{className:uot.a.titleContainer},void 0,s.map((e,t)=>{const s=0===t?uot.a.primaryTitle:uot.a.secondaryTitle;return Vu()(e,{className:s,metadataItemEntityID:i,serverEntityID:n,providerEntityID:a},t)}))},hot=i("UybS"),mot=i.n(hot);var got=function(e){const{title:t,showPlay:i,showRecord:n,onPlayPress:a,onRecordPress:s}=e;return Vu()("div",{className:mot.a.actions},void 0,i?Vu()(ide,{className:mot.a.playButton,title:t,tabIndex:"-1","data-qa-id":"guide-row-item-play",onPress:a}):null,n?Vu()(ude,{className:mot.a.recordButton,title:t,tabIndex:"-1","data-qa-id":"guide-row-item-record",onPress:s}):null)};function vot(e){var t=e["aria-label"],i=e.className,n=e.style,a={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-play-560"};a["aria-hidden"]=!t,a.style=n,a.className=Ad.a.plexIcon+(i?" "+i:"");var s=[Nd.a.createElement.apply(Nd.a,["path",{d:"M80,0L560,280L80,560L80,0Z"}].concat([]))];return t&&s.unshift(Nd.a.createElement("title",null,t)),Nd.a.createElement.apply(Nd.a,["svg",a].concat(s))}vot.propTypes={"aria-label":vc.a.string,className:vc.a.string,style:vc.a.object};var yot=vot,fot=i("eBN0"),bot=i.n(fot);var Iot=function(e){const{subscriptionType:t,isSubscribed:i,isOnAir:n,showRecord:a,onPlayPress:s,onRecordPress:r}=e,o=n?Object(Ze.default)("Watch Now"):Object(Ze.default)("Watch Channel"),l=i?Object(Ze.default)("Recording Scheduled"):Object(Ze.default)("Record");return Vu()("span",{},void 0,Vu()(hw,{className:bot.a.playButton,kind:jp,size:Fh,onPress:s},void 0,Vu()(yot,{className:bot.a.icon}),o),a?Vu()(hw,{className:bot.a.recordButton,kind:jp,size:Fh,onPress:r},void 0,Vu()(IOe,{className:bot.a.icon,type:t}),l):null)};const{Component:Sot}=Nd.a;var Cot=class extends Sot{constructor(...e){super(...e),this.onRecordPress=e=>{const{serverEntityID:t,providerEntityID:i,metadataItemEntityID:n,type:a,onRecordPress:s}=this.props;s({serverEntityID:t,providerEntityID:i,metadataItemEntityID:n,subscriptionType:a})}}render(){const{className:e,title:t,subscriptionType:i,isCompact:n,isOnAir:a,isSubscribed:s,showPlay:r,showRecord:o,onPlayPress:l}=this.props,c=n?got:Iot;return Vu()("span",{className:e},void 0,Vu()(c,{title:t,subscriptionType:i,isOnAir:a,isSubscribed:s,showPlay:r,showRecord:o,onPlayPress:l,onRecordPress:this.onRecordPress}))}};const Mot=Nd.a.createElement,{useCallback:Dot}=Nd.a;var Pot=kK((function(){return Object(Wu.a)($K(),Object(Wu.a)((e,{beginsAt:t})=>t,(e,{endsAt:t})=>t,(e,t)=>{const i=Math.floor(Date.now()/1e3);return i>=e&&i<=t}),(e={},t)=>{const{type:i,title:n,grandparentTitle:a,subscriptionID:s,grandparentSubscriptionID:r,subscriptionType:o,grandparentSubscriptionType:l}=e;return{type:i,title:a||n,subscriptionType:l||o||i,isSubscribed:!(!r&&!s),isOnAir:t}})}),{dispatchStartLiveTVPlayback:cve})((function(e){const{dispatchStartLiveTVPlayback:t}=e,i=Xe()(e,["dispatchStartLiveTVPlayback"]),{serverEntityID:n,providerEntityID:a,channelIdentifier:s,metricsPage:r,metricsContext:o}=e,l=Dot(()=>{const e={serverEntityID:n,providerEntityID:a,metricsPage:r,metricsContext:o};t(Object.assign({},e,{options:{type:Go.e,identifier:s}}))},[n,a,r,o,t,s]);return Mot(Cot,tp()({},i,{onPlayPress:l}))})),Oot=i("7ElX"),jot=i.n(Oot);function wot(e){const{className:t,metadataItemEntityID:i,serverEntityID:n,providerEntityID:a,mediaIndex:s,type:r,summary:o,thumb:l,contentRating:c,beginsAt:d,endsAt:u,timeFormat:p,channelIdentifier:h,channelTitle:m,channelShortTitle:g,showRecord:v,onRecordPress:y,onNextPress:f,onPrevPress:b}=e;return Vu()("div",{className:t},void 0,Vu()(noe,{className:jot.a.poster,serverEntityID:n,providerEntityID:a,component:AC,type:r,width:80,height:zC(80,r,null,"liveTVGrid"),url:l}),Vu()("div",{className:jot.a.preplayContainer},void 0,Vu()(pot,{type:r,serverEntityID:n,providerEntityID:a,metadataItemEntityID:i}),Vu()(cot,{beginsAt:d,endsAt:u,timeFormat:p,channelTitle:g||m,contentRating:c}),Vu()(Pot,{serverEntityID:n,providerEntityID:a,metadataItemEntityID:i,channelIdentifier:h,mediaIndex:s,beginsAt:d,endsAt:u,showPlay:!0,showRecord:v,onRecordPress:y}),Vu()("p",{},void 0,o),Vu()("div",{className:jot.a.navigationContainer},void 0,Vu()(JK,{iconComponent:yO,title:Object(Ze.default)("Previous"),onPress:b}),Vu()(JK,{iconComponent:mO,title:Object(Ze.default)("Next"),onPress:f}))))}wot.defaultProps={className:jot.a.container};var Tot=wot;var Eot=Object(Hu.b)((function(){return Object(Wu.a)((e,{mediaIndex:t})=>t,$K(),NIe(Ot.q),tSe,(e,t,i,n)=>{const{type:a,summary:s,grandparentThumb:r,thumb:o,contentRating:l}=t,c=t.Media[e],{beginsAt:d,endsAt:u,channelTitle:p,channelShortTitle:h,channelIdentifier:m}=c;return{type:a,summary:s,thumb:r||o,contentRating:l,beginsAt:d,endsAt:u,timeFormat:n,channelIdentifier:m,channelTitle:p,channelShortTitle:h,showRecord:!!i}})}))(Tot),Not=i("B+IN"),xot=i.n(Not);function Aot(e){const{className:t}=e;return Vu()(_H,{className:t},void 0,Object(Ze.default)("New"))}Aot.defaultProps={className:xot.a.badge};var Lot=Aot,kot=i("4X5K"),Rot=i.n(kot);const{Component:zot}=Nd.a,Uot=parseInt(BV.channelGridChannelColumnWidth,10),Vot=.3*Uot;class Bot extends zot{constructor(e,t){super(e,t),this.state={placeholderWidth:Vot+Math.random()*(Uot-Vot)}}render(){const{className:e,children:t}=this.props,{placeholderWidth:i}=this.state;return Vu()("div",{className:e,style:{width:i+"px"}},void 0,Vu()("div",{className:Rot.a.bar},void 0,t))}}Bot.defaultProps={className:Rot.a.container};var Fot=Bot,Hot=i("M2eu"),_ot=i.n(Hot);const{Component:Wot}=Nd.a;var Qot=Vu()(Fot,{}),Got=Vu()(Fot,{});class Kot extends Wot{constructor(...e){super(...e),this.onCellPress=()=>{const{metadataItemEntityID:e,mediaIndex:t,cellIndex:i,onPress:n}=this.props;n(e,t,i)}}render(){const{className:e,metadataItemEntityID:t,serverEntityID:i,providerEntityID:n,channelIdentifier:a,mediaIndex:s,width:r,type:o,subscriptionType:l,title:c,premiere:d,canRecord:u,showEpisodeTitle:p,showLoader:h,isOnAir:m,isFinishedAiring:g,isSelected:v,isSubscribed:y,onRecordPress:f}=this.props;if(!t)return Vu()("div",{className:(e||"")+" "+(m&&_ot.a.onAir||"")+" "+(g&&_ot.a.finishedAiring||""),style:{width:r+"px"}},void 0,h?Vu()("div",{className:_ot.a.placeholderContainer},void 0,Qot,Got):Vu()("div",{className:_ot.a.content},void 0,Object(Ze.default)("Unknown Airing")));const b=function(e,t){let i=null;switch(e){case Qt.j:i=qce;break;case Qt.o:case Qt.f:t&&(i=jCe)}return i}(o,p);return Vu()("div",{className:(e||"")+" "+(m&&_ot.a.onAir||"")+" "+(v&&_ot.a.selected||"")+" "+((m||u)&&_ot.a.hoverable||"")+" "+(g&&_ot.a.finishedAiring||""),style:{width:r+"px"},"data-qa-id":"guide-row-item"},void 0,Vu()("div",{className:_ot.a.content},void 0,Vu()(zp,{className:_ot.a.underlay,onPress:this.onCellPress}),Vu()("div",{},void 0,c),Vu()("div",{className:_ot.a.actionsContainer},void 0,Vu()("div",{className:_ot.a.subTitleContainer},void 0,b?Vu()(b,{className:_ot.a.subTitle,serverEntityID:i,providerEntityID:n,metadataItemEntityID:t}):null,d?Vu()(Lot,{className:_ot.a.premiereBadge}):null,y?Vu()(_H,{className:_ot.a.subscriptionBadge},void 0,Vu()(IOe,{type:l})):null),Vu()(Pot,{className:_ot.a.actions,isCompact:!0,serverEntityID:i,providerEntityID:n,metadataItemEntityID:t,channelIdentifier:a,mediaIndex:s,showRecord:u,showPlay:m,onRecordPress:f}))))}}Kot.defaultProps={className:_ot.a.container};var Yot=Kot;const qot=Nd.a.createElement,{useEffect:Zot}=Nd.a;const Jot={dispatchMirrorDetails:N7};var Xot=Object(Hu.b)((function(){return Object(Wu.a)(HEe,$K(),Object(Wu.a)((e,{mediaIndex:t})=>t,$K(),(e,t)=>t?t.Media[e]:null),Object(Wu.a)((e,{beginsAt:t})=>t,(e,{endsAt:t})=>t,(e,t)=>{const i=Math.floor(Date.now()/1e3);return{isOnAir:i>=e&&i<=t,isFinishedAiring:i>=t}}),NIe(Ot.q),(e,t={},i,n,a)=>{const{type:s,grandparentTitle:r,title:o,subscriptionID:l,subscriptionType:c,grandparentSubscriptionID:d,grandparentSubscriptionType:u,index:p,originallyAvailableAt:h}=t,m=!!i&&i.premiere,g=null!=l||null!=d;let v=!0;if(null==p&&!!h){const e=new Date,t=Object(aCe.a)(h);v=e.getDate()!==t.getDate()||e.getMonth()!==t.getMonth()||e.getFullYear()!==t.getFullYear()}return Object.assign({},n,{type:s,title:r||o,subscriptionType:c||u,showEpisodeTitle:v,isRemotePlayer:e,isSubscribed:g,premiere:m,canRecord:!!a})})}),Jot)((function(e){const{dispatchMirrorDetails:t}=e,i=Xe()(e,["dispatchMirrorDetails"]),{serverEntityID:n,providerEntityID:a,metadataItemEntityID:s,isRemotePlayer:r,isSelected:o}=e;return Zot(()=>{o&&r&&t({serverEntityID:n,providerEntityID:a,metadataItemEntityID:s})},[r,o,n,a,s,t]),qot(Yot,i)})),$ot=i("/VEV"),elt=i.n($ot);var tlt=function(e){const{className:t,width:i,isActive:n}=e,a={width:i+"px"};return Vu()("div",{className:t},void 0,Vu()("div",{className:(elt.a.fill||"")+" "+(n&&elt.a.active||""),style:a}))};var ilt=Object(Hu.b)((function(){return Object(Wu.a)(e=>e.ui.channelGridPage,(e,t)=>{const{airedProgress:i,columnWidth:n,visibleColumns:a}=e;return{width:i/100*a*n}})}))(tlt);var nlt=function(e){return Object(Wu.a)(HS(),t=>t.protocols.includes(e))};function alt(e){var t=e["aria-label"],i=e.className,n=e.style,a={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-recent-channel-560"};a["aria-hidden"]=!t,a.style=n,a.className=Ad.a.plexIcon+(i?" "+i:"");var s=[Nd.a.createElement.apply(Nd.a,["path",{d:"M317.1429 42C185.7926 42 79.2857 148.5712 79.2857 280H0l99.6533 99.713c3.3475 3.35 8.7746 3.35 12.1219 0L211.428 280h-79.2852c0-102.34 82.7223-185.1112 185-185.1112 102.2778 0 185.0006 82.7712 185.0006 185.1112 0 102.3391-82.7228 185.1117-185.0005 185.1117-51.0069 0-97.2566-20.8926-130.5566-54.4767l-37.5292 37.5517C192.1354 491.2908 251.3366 518 317.143 518 448.493 518 555 411.4292 555 280c0-131.4288-106.5069-238-237.8571-238zm-37.1435 132.2208v132.2225l112.32 66.1117 19.8223-33.0559-92.4994-52.89V174.2208h-39.6429z"}].concat([]))];return t&&s.unshift(Nd.a.createElement("title",null,t)),Nd.a.createElement.apply(Nd.a,["svg",a].concat(s))}alt.propTypes={"aria-label":vc.a.string,className:vc.a.string,style:vc.a.object};var slt=alt,rlt=i("1iSi"),olt=i.n(rlt);const llt=Nd.a.createElement,clt=parseInt(BV.channelGridChannelIconWidth,10),dlt=parseInt(BV.channelGridRowHeight,10);function ult(e){const{className:t,serverEntityID:i,providerEntityID:n,channel:a,isCloudServer:s,onPlayPress:r}=e,[o,l]=Qke(),c=a.vcn||a.identifier;return llt("div",tp()({"data-qa-id":"guide-channel-name",className:t},l),s?null:Vu()("div",{className:olt.a.numberContainer},void 0,o?Vu()(ide,{"data-qa-id":"guide-channel-play",className:olt.a.playButton,title:Object(Ze.default)("Play Channel {channel}",{channel:c}),tabIndex:"-1",onPress:r}):Vu()("span",{},void 0,c)),Vu()("div",{className:(olt.a.thumbnailContainer||"")+" "+(s&&olt.a.fullWidth||"")+" "+(a.isRecent&&olt.a.isRecent||"")},void 0,s&&o?Vu()(ide,{"data-qa-id":"guide-channel-play",className:olt.a.fullWidthPlayButton,title:Object(Ze.default)("Play Channel {channel}",{channel:a.callSign}),tabIndex:"-1",onPress:r}):null,a.thumb?Vu()(tC,{serverEntityID:i,providerEntityID:n,url:a.thumb,className:olt.a.thumbnail,backgroundSize:"contain",width:clt,height:dlt},a.thumb):Vu()("div",{className:olt.a.channelCallSignText,title:a.callSign},void 0,a.callSign)),a.isRecent?Vu()(slt,{className:olt.a.icon}):null)}ult.defaultProps={className:olt.a.container};var plt=ult;const hlt=Nd.a.createElement,{useCallback:mlt}=Nd.a;var glt=kK((function(){return Object(Wu.a)(qrt(),nlt(Wt.a),(e,t)=>({isCloudServer:e,hasLiveTVProtocol:t}))}),{dispatchStartPlayback:xT.x,dispatchStartLiveTVPlayback:cve})((function(e){const{dispatchStartPlayback:t,dispatchStartLiveTVPlayback:i}=e,n=Xe()(e,["dispatchStartPlayback","dispatchStartLiveTVPlayback"]),{serverEntityID:a,providerEntityID:s,channel:r,metricsPage:o,metricsContext:l,isCloudServer:c,hasLiveTVProtocol:d}=e,{identifier:u}=r,p=mlt(()=>{const e={serverEntityID:a,providerEntityID:s,metricsPage:o,metricsContext:l};c||d?i(Object.assign({},e,{options:{type:Go.e,identifier:u}})):t(e)},[a,s,o,l,c,d,i,u,t]);return hlt(plt,tp()({},n,{channel:r,isCloudServer:c,onPlayPress:p}))})),vlt=i("pSrE"),ylt=i.n(vlt);const{memo:flt}=Nd.a;function blt(e){const{className:t,rowClassName:i,serverEntityID:n,providerEntityID:a,selectedMetadataItemEntityID:s,selectedMediaIndex:r,selectedMediaItemRow:o,channel:l,cellIndex:c,columnWidth:d,columnTimes:u,isFetching:p,onMetadataItemPress:h,onRecordPress:m,onNextPress:g,onPrevPress:v,onDetailRowMeasure:y}=e,f=Y0(e),b=u[0],I=u[u.length-1],S=u[1]-u[0];return Vu()("div",{className:t,style:f.style,"data-qa-id":"guide-row"},void 0,Vu()("div",{className:i},void 0,Vu()(glt,{className:ylt.a.title,serverEntityID:n,providerEntityID:a,channel:l}),Vu()("div",{className:ylt.a.programsContainer},void 0,Vu()(ilt,{className:ylt.a.progress}),l.programs.map((e,t)=>{const i=Math.max(e.beginsAt,b),u=(Math.min(e.endsAt,I)-i)/S*d,g=c===o&&s===e.metadataItemEntityID&&r===e.mediaIndex;return Vu()(Xot,{width:u,className:ylt.a.program,beginsAt:e.beginsAt,endsAt:e.endsAt,metadataItemEntityID:e.metadataItemEntityID,mediaIndex:e.mediaIndex,serverEntityID:n,providerEntityID:a,channelIdentifier:l.identifier,cellIndex:c,isSelected:g,showLoader:p&&!e.metadataItemEntityID,onPress:h,onRecordPress:m},t)}))),c===o?Vu()(T0,{onMeasure:y},s,Vu()(Eot,{serverEntityID:n,providerEntityID:a,metadataItemEntityID:s,mediaIndex:r,onRecordPress:m,onNextPress:g,onPrevPress:v})):null)}blt.defaultProps={rowClassName:ylt.a.container};var Ilt=flt(blt);var Slt=function(e,t="HH:mm:ss"){return e?Object(Zy.a)(e,t):""},Clt=i("Jrrk"),Mlt=i.n(Clt);function Dlt(e){const{className:t,enablePrevious:i,enableNext:n,startDate:a,columnTimes:s,timeFormat:r,columnWidth:o,dispatchPrevious:l,dispatchNext:c}=e;return Vu()("div",{className:t},void 0,Vu()("div",{className:Mlt.a.dayContainer},void 0,a?Object(Rce.default)(a,"EEEE, LLL dd"):null),Vu()("div",{className:Mlt.a.labelContainer},void 0,s.map((e,t)=>Vu()("div",{className:Mlt.a.label,style:{width:o+"px"}},t,Slt(1e3*e,r)))),Vu()("div",{className:Mlt.a.navigationButtons},void 0,Vu()(JK,{className:Mlt.a.navigationButton,iconComponent:yO,title:Object(Ze.default)("Previous"),isDisabled:!i,onPress:l}),Vu()(JK,{className:Mlt.a.navigationButton,iconComponent:mO,title:Object(Ze.default)("Next"),isDisabled:!n,onPress:c})))}Dlt.defaultProps={className:Mlt.a.container};var Plt=Dlt;const Olt={dispatchNext:IIe,dispatchPrevious:SIe};var jlt=Object(Hu.b)((function(){return Object(Wu.a)(e=>e.ui.channelGridPage,tSe,(e,t)=>{const{startTime:i,columnWidth:n}=e,a=new Date-108e5;let s=new Date(1e3*i);const r=s>a;return af(i)&&(s=null),{timeFormat:t,startDate:s,columnWidth:n,enablePrevious:r,enableNext:!0}})}),Olt)(Plt),wlt=i("6nCn"),Tlt=i.n(wlt);const Elt=Nd.a.createElement,{Component:Nlt}=Nd.a,xlt=parseInt(BV.channelGridRowHeight,10)-1,Alt={selectedMetadataItemEntityID:null,selectedMediaIndex:null,selectedMediaItemRow:-1,selectedMediaItemHeight:0};class Llt extends Nlt{static getDerivedStateFromProps(e,t){const{selectedMediaIndex:i,selectedMetadataItemEntityID:n,selectedMediaItemRow:a}=t,s=e.channels[a];if(!s||0===s.programs.length)return null;return s.programs.find(e=>e.mediaIndex===i&&e.metadataItemEntityID===n)?null:Alt}constructor(e,t){super(e,t),this._updateTimeout=void 0,this.onScrollerMeasure=void 0,this.getCellHeights=()=>{const{selectedMediaItemRow:e,selectedMediaItemHeight:t}=this.state;return this.props.channels.map((i,n)=>{let a=xlt;return n===e&&(a+=t||140),a})},this._updateProgress=()=>{this.props.dispatchUpdateAiredProgress(),this._resetUpdateTimeout()},this.onMetadataItemPress=(e,t,i)=>{this.state.selectedMetadataItemEntityID!==e||this.state.selectedMediaIndex!==t||this.state.selectedMediaItemRow!==i?this.setState({selectedMetadataItemEntityID:e,selectedMediaIndex:t,selectedMediaItemRow:i,selectedMediaItemHeight:140}):this.setState(Alt)},this.onDetailRowMeasure=({height:e})=>{this.setState({selectedMediaItemHeight:e})},this.onPrevPress=()=>{var e;const{selectedMetadataItemEntityID:t,selectedMediaIndex:i,selectedMediaItemRow:n}=this.state,{programs:a}=this.props.channels[n],s=a.findIndex(e=>e.metadataItemEntityID===t&&e.mediaIndex===i)-1,{metadataItemEntityID:r,mediaIndex:o}=null!=(e=a[s])?e:{};r&&this.setState({selectedMetadataItemEntityID:r,selectedMediaIndex:o}),s<=1&&this.props.dispatchNavigateTimeBack()},this.onNextPress=()=>{var e;const{selectedMetadataItemEntityID:t,selectedMediaIndex:i,selectedMediaItemRow:n}=this.state,{programs:a}=this.props.channels[n],s=a.findIndex(e=>e.metadataItemEntityID===t&&e.mediaIndex===i)+1,{metadataItemEntityID:r,mediaIndex:o}=null!=(e=a[s])?e:{};r&&this.setState({selectedMetadataItemEntityID:r,selectedMediaIndex:o}),s>=a.length-1&&this.props.dispatchNavigateTimeForward()},this.onDetailRowMeasure=({height:e})=>{this.setState({selectedMediaItemHeight:e})},this.renderCell=e=>{const{serverEntityID:t,providerEntityID:i,columnTimes:n,columnWidth:a,channels:s,isPending:r,onRecordPress:o}=this.props,{selectedMetadataItemEntityID:l,selectedMediaIndex:c,selectedMediaItemRow:d}=this.state,u=s[e.cellIndex];return u?Elt(Ilt,tp()({},e,{className:Tlt.a.gridRowCell,rowClassName:Tlt.a.gridRow,channel:u,serverEntityID:t,providerEntityID:i,selectedMetadataItemEntityID:l,selectedMediaIndex:c,selectedMediaItemRow:d,columnTimes:n,columnWidth:a,isFetching:r,onMetadataItemPress:this.onMetadataItemPress,onNextPress:this.onNextPress,onPrevPress:this.onPrevPress,onDetailRowMeasure:this.onDetailRowMeasure,onRecordPress:o})):null},this._updateTimeout=null,this.state=Alt}componentDidMount(){this._updateProgress()}shouldComponentUpdate(e,t){return Tp(this,e,t)}componentDidUpdate(e){wp(this.props.columnTimes,e.columnTimes)||this._updateProgress()}_resetUpdateTimeout(){this._updateTimeout&&window.clearTimeout(this._updateTimeout);const e=6e4-Date.now()%6e4;this._updateTimeout=window.setTimeout(this._updateProgress,e)}render(){const{className:e,serverEntityID:t,providerEntityID:i,viewportWidth:n,viewportHeight:a,columnTimes:s,channels:r,isCloudServer:o,isEmpty:l,showSpinner:c,showError:d}=this.props,u=o?"uniqueId":"identifier";return Vu()("div",{className:e},void 0,c||d||l?null:Vu()(G_,{className:Tlt.a.banner,serverEntityID:t,providerEntityID:i}),c||d||l?null:Vu()(jlt,{className:Tlt.a.timeline,columnTimes:s}),d?Vu()(sot,{className:Tlt.a.innerEmptyPage,title:Object(Ze.default)("There was an error loading channels")}):null,c?Vu()(N_,{className:Tlt.a.innerEmptyPage},void 0,Vu()(Jh,{label:Object(Ze.default)("Loading channels")})):null,c||d||!l?null:Vu()(not,{serverEntityID:t,providerEntityID:i}),c||d||l?null:Vu()(V0,{className:Tlt.a.gridContent,scrollerClassName:Tlt.a.gridInnerContent,keyPropName:u,items:r,scrollDirection:"vertical",viewportWidth:n,viewportHeight:a,size:r.length,layout:Xrt({getCellHeights:this.getCellHeights}),cellRenderer:this.renderCell,onMeasure:this.onScrollerMeasure}))}}Llt.defaultProps={className:Tlt.a.gridContainer,columnTimes:[],isCloudServer:!1};var klt=Llt;const Rlt={dispatchUpdateAiredProgress:MIe,dispatchNavigateTimeForward:IIe,dispatchNavigateTimeBack:SIe};var zlt=Object(Hu.b)((function(){return Object(Wu.a)(e=>e.ui.channelGridPage,Rre(),(e,t={})=>{const{isPending:i=!0,isPopulated:n=!1,metadataItems:a=[],error:s}=t,r=!!i&&!n&&!s,o=!!s,l=n&&!i&&!s&&0===a.length;return Object.assign({},e,{isPending:i,isEmpty:l,showSpinner:r,showError:o})})}),Rlt)(klt),Ult=i("XHow");const Vlt=Object(Pi.a)("provider/providerSettings/fetchProviderSettings"),Blt=Object(Pi.a)("provider/providerSettings/fetchProviderSettingSelectOptions"),Flt=Object(Pi.a)("provider/provderSettings/clearProviderSettingFetchError"),Hlt=Object(Pi.a)("provider/providerSettings/fetchProviderSettingLocationOptions"),_lt=Object(Pi.a)("provider/providerSettings/populateProviderSettingLocationOptions"),Wlt=Object(Pi.a)("provider/providerSettings/fetchProviderSettingLineupChannels"),Qlt=Object(Pi.a)("provider/providerSettings/populateProviderSettingLineupChannels"),Glt=Object(Pi.a)("provider/providerSettings/fetchProviderSettingRecentChannelsInGrid"),Klt=Object(Pi.a)("provider/providerSettings/populateProviderSettingRecentChannelsInGrid"),Ylt=Object(Pi.a)("provider/providerSettings/updateProviderSetting"),qlt=Object(Pi.a)("provider/providerSettings/clearProviderSettingUpdateError"),Zlt=Object(Pi.a)("provider/providerSettings/populateProviderSettingOptions");function Jlt(e,t){return Object(wi.j)(e,t).get("features").get(Ot.p)}function Xlt(e,t){return Jlt(e,t).get("settings").get(t.settingID)}function $lt(e,t){switch(e.get("type")){case"lineup":{const i=e.get("lineup"),n=new Ult.a(t.map(e=>{const t=i.findWhere({id:e.id});return t.set({hidden:e.hidden}),t}));e.set("lineup",n);break}case"location":{const i=e.get("locations").get(t.country);e.set({country:t.country,countryLabel:i.get("title"),postalCode:t.postalCode});break}case"select":I.a.each(t,(t,i)=>{e.get("options").get(i).set({selected:t})}),e.set("selectedCount",I.a.values(t).filter(e=>e).length);break;default:e.set("value",t[e.id])}}function ect(e,t,i){const n=I.a.mapObject(t,(e,t)=>!0===e?"1":!1===e?"0":e),a=V.join(I.a.result(e,"url"),{prefs:n}),s=i.getXHROptions(a,{type:"PUT"});return D.a.ajax(s).then(()=>{$lt(e,t)})}const tct={"provider/providerSettings/fetchProviderSettings":Object(Oi.a)({key:"settings",getModel:Jlt}),"provider/providerSettings/fetchProviderSettingSelectOptions":Object(Oi.a)({key:"options",getModel:Xlt}),"provider/providerSettings/fetchProviderSettingLocationOptions":Object(Oi.a)({key:"locations",getModel:Xlt}),"provider/providerSettings/populateProviderSettingLocationOptions":Object(ji.a)({key:"locations",fetchActionCreator:Hlt,getModel:Xlt}),"provider/providerSettings/fetchProviderSettingLineupChannels":Object(Oi.a)({key:"lineup",getModel:Xlt}),"provider/providerSettings/populateProviderSettingLineupChannels":Object(ji.a)({key:"lineup",fetchActionCreator:Wlt,getModel:Xlt}),"provider/providerSettings/fetchProviderSettingRecentChannelsInGrid":Object(Oi.a)({key:"recentChannelsInGrid",getModel:Xlt}),"provider/providerSettings/populateProviderSettingRecentChannelsInGrid":Object(ji.a)({key:"recentChannelsInGrid",fetchActionCreator:Glt,getModel:Xlt}),"provider/providerSettings/updateProviderSetting"(e,t){const{settingID:i,values:n}=t,a=Object(wi.j)(e,t),s=a.get("features").get(Ot.p),r=e.get("ui").get("providerSettingsPage"),o=s.get("settings").get(i);r.set({isUpdatePending:!0,updateError:null});const l=[];if("group"===o.get("type"))o.get("settings").forEach(e=>{const t={[e.id]:n[e.id]};l.push(ect(e,t,a))});else if("lineup"===o.get("type")){const e=I.a.result(o,"url"),t=a.getXHROptions(e,{type:"PUT",contentType:"application/json",data:JSON.stringify(n)}),i=D.a.ajax(t).then(()=>{$lt(o,n)});l.push(i)}else"int"===o.get("type")?(Object.keys(n).forEach(e=>{n[e]=parseInt(n[e],10)}),l.push(ect(o,n,a))):l.push(ect(o,n,a));D.a.when(...l).then(()=>{r.set({isUpdatePending:!1,updateError:null})},e=>{r.set({isUpdatePending:!1,updateError:Object(DT.a)(e)})})},"provider/providerSettings/clearProviderSettingUpdateError"(e,t){e.get("ui").get("providerSettingsPage").set("updateError",null)},"provider/provderSettings/clearProviderSettingFetchError"(e,t){Xlt(e,t).set({optionsError:null,locationsError:null})},"provider/providerSettings/populateProviderSettingOptions"(e,t,i){const n=Xlt(e,t),a=n.get("type");if("select"===a)Object(Ti.a)(()=>{i(Blt(t))});else if("location"===a)i(_lt(t));else if("lineup"===a){const e=n.get("id");e===ADe.a?i(Qlt(t)):e===ADe.d&&i(Klt(t))}}},ict=Nd.a.createElement,{useEffect:nct}=Nd.a;function act(e,t){return e.find(({id:e})=>e===t)||{}}const sct={dispatchFetchProviderSettings:Vlt,dispatchFetchProviderSettingRecentChannelsInGrid:Glt,dispatchUpdateAiredProgress:MIe,dispatchNavigateTimeForward:IIe,dispatchNavigateTimeBack:SIe};function rct(e){const{providerEntityID:t,numRecentChannelsInGrid:i,isSettingsPending:n,dispatchFetchProviderSettings:a,dispatchFetchProviderSettingRecentChannelsInGrid:s}=e,r=Xe()(e,["providerEntityID","numRecentChannelsInGrid","isSettingsPending","dispatchFetchProviderSettings","dispatchFetchProviderSettingRecentChannelsInGrid"]);return nct(()=>{a({providerEntityID:t})},[a,t]),nct(()=>{!n&&i>0&&s({providerEntityID:t,settingID:ADe.d})},[s,n,i,t]),Vu()("div",{},void 0,ict(klt,tp()({},r,{providerEntityID:t})))}rct.defaultProps={numRecentChannelsInGrid:0};var oct=Object(Hu.b)((function(){return Object(Wu.a)(e=>e.ui.channelGridPage,(e,{channels:t})=>t,Rre(),NIe(Ot.p),(e,t,i={},n)=>{const{isPending:a=!0,isPopulated:s=!1,metadataItems:r=[],error:o}=i,{settings:l,isSettingsPending:c=!0,isSettingsPopulated:d=!1,settingsError:u}=n,p=act(l,ADe.d),h=act(l,ADe.b),m=h?h.value:0,{recentChannelsInGrid:g=[],isRecentChannelsInGridPending:v=!0,isRecentChannelsInGridPopulated:y=!1,recentChannelsInGridError:f}=p,b=a&&!s&&!o||c&&!d&&!u||m>0&&v&&!y&&!f,I=!!f||!!u||!!o,S=s&&!a&&!o&&0===r.length,C=[...t];if(m>0&&y){const e=g.reduce((e,i)=>{const n=t.find(e=>e.identifier===i.id);return n&&e.push(Object.assign({},n,{isRecent:!0})),e},[]);C.unshift(...e)}return C.forEach((e,t)=>(e.uniqueId=t,e)),Object.assign({},e,{channels:C,numRecentChannelsInGrid:m,isCloudServer:!0,isPending:a,isSettingsPending:c,isEmpty:S,showSpinner:b,showError:I})})}),sct)(rct),lct=i("CytX"),cct=i.n(lct);const dct=Nd.a.createElement,{Fragment:uct,useCallback:pct,useState:hct}=Nd.a;var mct=function(e){const{metadataListEntityID:t,serverEntityID:i,providerEntityID:n,channels:a,isCloudServer:s,onMeasure:r}=e,o=hct({}),l=o[1],c=o[0],d=Y9(),u=pct(e=>{l(e),d.onOpen()},[d,l]),p=s?oct:zlt;return Vu()(uct,{},void 0,dct(uje,tp()({},c,{isOpen:d.isOpen,onModalClose:d.onClose})),Vu()(T0,{className:cct.a.measureContainer,onMeasure:r},void 0,Vu()(p,{className:cct.a.gridContent,metadataListEntityID:t,serverEntityID:i,providerEntityID:n,channels:a,onRecordPress:u})))};const{Component:gct}=Nd.a,vct=parseInt(BV.channelGridChannelOverflowWidth,10),yct=parseInt(BV.channelGridChannelColumnWidth,10),fct=parseInt(BV.channelGridTitleColumnWidth,10),bct=Object(Wu.a)(e=>e.ui.channelGridPage,qrt(),(e,t)=>{const{columnTimes:i}=e;return{columnTimes:i,isCloudServer:t}}),Ict={dispatchSetViewportSize:CIe,dispatchResetStartTime:bIe};var Sct=Object(Hu.b)(bct,Ict)(class extends gct{constructor(e,t){super(e,t),this._updateTimeout=void 0,this._updateGrid=()=>{const{dispatchResetStartTime:e}=this.props;e(),this._resetTimeout()},this.onMeasure=e=>{const{isMeasured:t,measuredSize:i}=this.state;t&&wp(i,e)||this.setState({isMeasured:!0,measuredSize:e},()=>{this.setViewportSize(e)})},this._updateTimeout=null,this.state={isMeasured:!1,measuredSize:null}}componentDidMount(){this._resetTimeout()}componentDidUpdate(e){const{metadataListEntityID:t,columnTimes:i}=this.props;t===e.metadataListEntityID&&wp(i,e.columnTimes)||this._resetTimeout()}componentWillUnmount(){this._updateTimeout&&window.clearTimeout(this._updateTimeout)}_resetTimeout(e=this.props){const{columnTimes:t}=e;if(!t.length)return;this._updateTimeout&&(window.clearTimeout(this._updateTimeout),this._updateTimeout=null);const i=Math.floor(Date.now()/1e3);let n=7200;if(t[0]<=i&&t[1]>=i){n=t.find(e=>i<e)-i}this._updateTimeout=window.setTimeout(this._updateGrid,1e3*n)}setViewportSize(e){const{dispatchSetViewportSize:t}=this.props;t({width:e.width,height:e.height,overflowWidth:vct,channelWidth:yct,channelTitleWidth:fct}),this._resetTimeout()}render(){const{serverEntityID:e,providerEntityID:t,metadataListEntityID:i,channels:n,isCloudServer:a}=this.props;return Vu()(mct,{serverEntityID:e,providerEntityID:t,metadataListEntityID:i,channels:n,isCloudServer:a,onMeasure:this.onMeasure})}});function Cct(){return Object(Wu.a)(HS(),(e={})=>[{key:"/"+e.identifier+"/grid?channel.value=1",filter:"hdonly",filterKey:"channel.value",filterType:"boolean",title:Object(Ze.default)("HD Channels Only")}])}var Mct=i("+9Fr"),Dct=i.n(Mct);const Pct=Nd.a.createElement;function Oct(e){return Pct(_H,e)}Oct.defaultProps={className:Dct.a.badge};var jct=Oct,wct=i("YeIk"),Tct=i.n(wct);var Ect=Object(Hu.b)((function(){return Object(Wu.a)(Wet(),e=>({isEPGRefreshing:!!e,epgActivityProgress:e?e.progress:0,epgActivityTitle:e?e.title:""}))}))((function(e){const{className:t,isEPGRefreshing:i,epgActivityProgress:n,epgActivityTitle:a}=e;return i?Vu()("span",{className:t},void 0,a," (",n,"%)",Vu()(Jh,{className:Tct.a.refreshingSpinner,size:Fh})):null}));function Nct(e){if(!e)return"";const t=e instanceof Date?e:new Date(e),i=Object(Vy.a)(t);return Object(nf.a)(t,new Date)?Object(Ze.default)("Today"):SSe(i)}const{Component:xct}=Nd.a;var Act=class extends xct{constructor(...e){super(...e),this.onPress=()=>{const{option:e,onPress:t}=this.props;t(e)}}render(){const{className:e,option:t,isDisabled:i,isSelected:n}=this.props;return Vu()(oy,{className:e,isDisabled:i,isSelected:n,onPress:this.onPress},void 0,t.title)}},Lct=Vu()(Q$,{});var kct=function(e){const{className:t,dateOptions:i,onSelectDate:n,onSelectNow:a}=e;return Vu()(ih,{className:t,autoScroll:!0},void 0,Vu()(oy,{onPress:a},void 0,Object(Ze.default)("Now")),Lct,i.map((e,t)=>Vu()(Act,{option:e,isSelected:e.isSelected,onPress:n},t,e.title)))},Rct=i("Orh4"),zct=i("XQXX"),Uct=i("CxvL"),Vct=i("voa6"),Bct=i.n(Vct),Fct=Vu()(Q$,{});var Hct=function(e){const{className:t,timeOptions:i,selectedDateOption:n,onDeselectDateOption:a,onSelectTime:s}=e;return Vu()("div",{className:t},void 0,Vu()("div",{className:Bct.a.header},void 0,Vu()(zp,{onPress:a},void 0,Vu()(yO,{className:Bct.a.backIcon,"aria-label":Object(Ze.default)("Back")})),Vu()("span",{className:Bct.a.headerText},void 0,n.title)),Fct,i.map((e,t)=>Vu()(Act,{option:e,isDisabled:!e.isEnabled,isSelected:e.isSelected,onPress:s},t,e.title)))};function _ct(e,t){return Object(Uct.a)(Object(zct.a)(new Date(e),t))}var Wct=Object(Hu.b)((function(){const e=[{startHour:0,title:Object(Ze.default)("Midnight")},{startHour:2,title:Object(Ze.default)("Overnight")},{startHour:6,title:Object(Ze.default)("Morning")},{startHour:10,title:Object(Ze.default)("Daytime")},{startHour:17,title:Object(Ze.default)("Evening")},{startHour:20,title:Object(Ze.default)("Prime Time")},{startHour:23,title:Object(Ze.default)("Late Night")}];return Object(Wu.a)(e=>e.ui.channelGridPage,(e,{selectedDateOption:t})=>t,(t,i={})=>{if(!i)return{timeOptions:[]};const n=Object($c.a)(t.startTime),a=Object($c.a)(i.value),s=new Date;return{timeOptions:e.map((t,i)=>{const r=e[i+1],o=_ct(a,t.startHour),l=_ct(a,r?r.startHour:24),c=Object(IX.a)(s,l),d=Object(Rct.a)(n,o)>=0&&Object(Rct.a)(n,l)<0,u=Object(IX.a)(o,s)?Object(Vy.a)(s):Object(Vy.a)(o);return{title:Object(Rct.a)(s,o)>=0&&Object(Rct.a)(s,l)<0?Object(Ze.default)("Now ({timeSlotTitle})",{timeSlotTitle:t.title}):t.title,value:u,isEnabled:c,isSelected:d}})}})}))(Hct),Qct=i("1cAJ"),Gct=i.n(Qct);const{Component:Kct}=Nd.a,Yct={scrollDirection:Zp,className:Gct.a.listContainer};var qct=class extends Kct{constructor(e,t){super(e,t),this.onSelectDate=e=>{this.setState({showTimeOptions:!0,activeDateOption:e})},this.onSelectNow=()=>{const e=Math.floor(Date.now()/1e3);this.onSelectTime({value:e})},this.onSelectTime=e=>{this.setState({showTimeOptions:!1}),this.props.dispatchSetStartTime(e.value),this.props.onMenuClose()},this.onHideOptions=e=>{this.setState({showTimeOptions:!1})},this.state={showTimeOptions:!1,activeDateOption:e.dateOptions.find(e=>e.isSelected)}}render(){const{target:e,isOpen:t,dateOptions:i,onMenuClose:n}=this.props,{showTimeOptions:a,activeDateOption:s}=this.state,r=(Gct.a.list||"")+" "+(!!a&&Gct.a.showTimeOptions||"");return Vu()(Qv,{target:e,isOpen:t,size:Hh,scrollerProps:Yct,onMenuClose:Cb(this.onHideOptions,n)},void 0,Vu()(kct,{className:r,dateOptions:i,onSelectDate:this.onSelectDate,onSelectNow:this.onSelectNow}),Vu()(Wct,{className:r,selectedDateOption:s,onDeselectDateOption:this.onHideOptions,onSelectTime:this.onSelectTime}))}};const Zct={dispatchSetStartTime:fIe};var Jct=Object(Hu.b)((function(){return Object(Wu.a)(e=>e.ui.channelGridPage,e=>({dateOptions:function(e){const t=[],i=Object($c.a)(e);for(let e=0;e<8;e++){const n=Object(eT.a)(new Date,e),a=Nct(n),s=Object(nf.a)(n,i);t.push({title:a,value:Object(Vy.a)(n),isSelected:s})}return t}(e.startTime)}))}),Zct)(qct);function Xct(e,t,i){const n=[...e];for(let e=n.length-1;e>=0;e--){const t=n[e],a="boolean"===t.type,s="boolean"===i.type;t&&a!==s||n.splice(e,1)}return n.push(Object.assign({key:t},i)),n}function $ct(e,t){if(!e)return!1;const i="string"==typeof t?decodeURIComponent(t):t;return!!I.a.find(e,({value:e})=>Array.isArray(e)?e.indexOf(i)>-1:e===i)}function edt(e,t,i){if(null==i)return e.filter(e=>e.key!==t);const n=[...e];let a=n.length;for(;a-- >0;){const e=n[a],s=e.key,r=e.value;if(t===s&&i===r)n.splice(a,1);else if(t===s&&Array.isArray(r)){const t=r.indexOf(i);t>-1&&(r.splice(t,1),1===r.length?n.splice(a,1,Object.assign({},e,{value:r[0]})):r.length||n.splice(a,1))}}return n}var tdt=function(e){const{typeKey:t,activeFilters:i,activeFilterLabel:n,activeSort:a,filter:s,title:r}=e,o=$ct(i.filter(({key:e})=>e===s),"1");return Vu()(oy,{to:_Se({typeKey:t,filters:o?edt(i,s):Xct(i,s,{value:"1",type:"boolean"}),filterLabel:n,sort:a}),isSelected:o},void 0,r)},idt=i("Vl58"),ndt=i.n(idt);const{Component:adt}=Nd.a;var sdt=class extends adt{constructor(...e){super(...e),this.onPress=e=>{this.props.onFilterSelect(this.props.filterKey)}}shouldComponentUpdate(e,t){return Tp(this,e,t)}render(){const{activeFilters:e,filter:t,title:i,showSpinner:n}=this.props,a=!n&&!!I.a.find(e,({key:e})=>e===t);return Vu()(Zv,{className:a?ndt.a.isSelected:void 0,onPress:this.onPress},void 0,Vu()("div",{className:ndt.a.menuItemContainer},void 0,Vu()("div",{className:ndt.a.menuLabel},void 0,i),n?Vu()(Jh,{className:ndt.a.spinner,size:Fh}):null,!n&&a?Vu()("div",{className:ndt.a.selectedIcon},void 0,Vu()(ay,{"aria-label":Object(Ze.default)("Selected")})):null))}},rdt=i("bJXi"),odt=i.n(rdt),ldt=Vu()(Q$,{}),cdt=Vu()(Q$,{});var ddt=function(e){const{className:t,typeKey:i,activeFilters:n,activeFilterLabel:a,activeSort:s,filters:r,selectedFilter:o,showSpinner:l,showCustomFilter:c,onFilterSelect:d}=e,u=I.a.groupBy(r,({filterType:e})=>"boolean"===e?e:"other"),p=u.boolean,h=u.other;return Vu()(ih,{className:(t||"")+" "+(odt.a.filtersScroller||""),autoScroll:!0},void 0,Vu()(oy,{to:_Se({typeKey:i,sort:s}),isSelected:I.a.isEmpty(n)},"all",Object(Ze.default)("All")),p?p.map(e=>Vu()(tdt,{typeKey:i,activeFilters:n,activeFilterLabel:a,activeSort:s,filter:e.filter,title:e.title},e.filter)):null,h?ldt:null,h?h.map(e=>{const t=!(!o||o.filter!==e.filter);return Vu()(sdt,{typeKey:i,activeFilters:n,activeSort:s,filter:e.filter,filterKey:e.key,title:e.title,showSpinner:l&&t,onFilterSelect:d},e.filter)}):null,c?cdt:null,c?Vu()(oy,{to:_Se({typeKey:i,customFilter:!0})},"customFilter",Object(Ze.default)("Custom Filter...")):null)};var udt=function(e){const{filters:t,target:i,isOpen:n,activeFilters:a,activeFilterLabel:s,onMenuClose:r}=e;return Vu()(Qv,{target:i,isOpen:n,size:_h,onMenuClose:r},void 0,Vu()(ddt,{activeFilters:a,activeFilterLabel:s,showSpinner:!1,showCustomFilter:!1,filters:t,onPress:r}))};const pdt=Object(Wu.c)({filters:Cct()}),hdt={dispatchSetStartTime:fIe};var mdt=Object(Hu.b)(pdt,hdt)(udt);const{Component:gdt,Fragment:vdt}=Nd.a;var ydt=Vu()(xst,{});var fdt=class extends gdt{constructor(e,t){super(e,t),this._datePickerMenuButtonID=void 0,this._filterMenuButtonID=void 0,this.onDatePickerMenuButtonPress=e=>{this.setState({isDatePickerMenuOpen:!this.state.isDatePickerMenuOpen})},this.onDatePickerMenuClose=()=>{this.setState({isDatePickerMenuOpen:!1})},this.onFilterMenuButtonPress=e=>{this.setState({isFilterMenuOpen:!this.state.isFilterMenuOpen})},this.onFilterMenuClose=()=>{this.setState({isFilterMenuOpen:!1})},this.state={isDatePickerMenuOpen:!1,isFilterMenuOpen:!1},this._datePickerMenuButtonID=Mp(),this._filterMenuButtonID=Mp()}shouldComponentUpdate(e,t){return Tp(this,e,t)}render(){const{serverEntityID:e,providerEntityID:t,sourceDirectory:i,selectedFilterTitle:n,datePickerTitle:a,showEPGActivity:s,activeFilters:r,activeFilterLabel:o,totalSize:l}=this.props,{isDatePickerMenuOpen:c,isFilterMenuOpen:d}=this.state;return Vu()(vdt,{},void 0,Vu()(Pst,{},void 0,Vu()(Prt,{serverEntityID:e,providerEntityID:t,sourceDirectory:i}),Vu()(rrt,{serverEntityID:e,providerEntityID:t,sourceDirectory:i,directoryKey:ei}),ydt),Vu()(Z2e,{},void 0,Vu()(drt,{},void 0,Vu()(H$,{id:this._datePickerMenuButtonID,hasMenu:!0,isMenuOpen:c,onPress:this.onDatePickerMenuButtonPress},void 0,a),Vu()(Jct,{target:this._datePickerMenuButtonID,isOpen:c,onMenuClose:this.onDatePickerMenuClose}),Vu()(H$,{id:this._filterMenuButtonID,hasMenu:!0,isMenuOpen:d,onPress:this.onFilterMenuButtonPress},void 0,n),Vu()(mdt,{target:this._filterMenuButtonID,isOpen:d,activeFilters:r,activeFilterLabel:o,onMenuClose:this.onFilterMenuClose}),Vu()(jct,{},void 0,l)),s?Vu()(Tst,{},void 0,Vu()(Ect,{serverEntityID:e,providerEntityID:t})):null))}};var bdt=Object(Hu.b)((function(){return Object(Wu.a)(e=>e.ui.channelGridPage,Wet(),Object(Wu.a)((e,{activeFilters:t})=>t,(e,{activeFilterLabel:t})=>t,Cct(),(e,t,i)=>{if(!e||!e.length)return Object(Ze.default)("All Channels");if(e&&1===e.length){const t=e[0],n=i.find(e=>e.filter===t.key);if(n)return n.title}return t||Object(Ze.default)("Filtered")}),(e,t,i)=>({datePickerTitle:Nct(1e3*e.startTime),showEPGActivity:!!t,selectedFilterTitle:i}))}))(fdt);var Idt=function(e){const{serverEntityID:t,providerEntityID:i,metadataListEntityID:n,sourceDirectory:a,activeFilters:s,activeFilterLabel:r,channels:o}=e;return Vu()(gKe,{metricsContext:PLe(zd.I,_t.DVR_GUIDE_PIVOT)},void 0,Vu()(f$,{metricsPage:zd.I,scrollDirection:Zp},void 0,Vu()(bdt,{serverEntityID:t,providerEntityID:i,sourceDirectory:a,activeFilters:s,activeFilterLabel:r,totalSize:o.length}),Vu()(Sct,{serverEntityID:t,providerEntityID:i,metadataListEntityID:n,channels:o})))};var Sdt=function(e){return!!e&&parseInt(e,10)>480};function Cdt(e,t,i=[],n){const a=e[0],s=e[e.length-1],r=function(e,t,i,n){return e.reduce((e,a)=>a&&a.Media?(a.Media.forEach((s,r)=>{const{channelIdentifier:o,channelThumb:l,channelTitle:c,channelShortTitle:d,channelVcn:u,channelCallSign:p,beginsAt:h,endsAt:m,videoResolution:g}=s;if(n&&!Sdt(g))return e;var v;if(e[o]||(e[o]={identifier:o,thumb:l,title:d||c,vcn:u,callSign:p||(v=c,v?v.split(" ")[1]:""),programs:[]}),h<i&&m>t){const n={beginsAt:Math.max(h,t),endsAt:Math.min(m,i),metadataItemEntityID:a.entityID,mediaIndex:r};e[o].programs.push(n)}}),e):e,{})}(t,a,s,n);i.forEach(e=>{r[e.channelIdentifier]||(r[e.channelIdentifier]={identifier:e.channelIdentifier,thumb:e.thumb,title:e.tag,vcn:e.channelVcn,callSign:e.channelCallSign,programs:[]})});return function(e,t,i,n){return Object.values(e).map(e=>(e.programs=function(e,t,i){let n=t;const a=[];e.sort((e,t)=>e.beginsAt>t.beginsAt?1:e.beginsAt<t.beginsAt?-1:0);for(let t=0;t<e.length;t++){const i=e[t];if(i.beginsAt>n){const e={beginsAt:n,endsAt:i.beginsAt};a.push(e)}a.push(i),n=i.endsAt}if(n<i){const e={beginsAt:n,endsAt:i};a.push(e)}return a}(e.programs,t,i),e))}(r,a,s)}const Mdt=Nd.a.createElement,{Component:Ddt}=Nd.a;const Pdt={dispatchInitMetadataList:yIe,dispatchResetStartTime:bIe,dispatchResetMetadataList:Rx,dispatchPopulateChannelPrograms:DIe,dispatchChangeQuickSearchSettings:xte};var Odt=Object(Hu.b)((function(){return Object(Wu.a)(e=>e.ui.channelGridPage,kIe(),LIe(),HS(),Y9e(),Wet(),Object(Wu.a)(e=>e.ui.channelGridPage,Jrt(),(e,t)=>{const{channelsList:i,isChannelsListPopulated:n,isChannelsListPending:a,channelsListError:s}=e;return!n||a||s?[]:t?i.filter(e=>!!e.tagValue):i}),Jrt(),qrt(),(e,t,i,n,a,s,r,o,l)=>{let c=Cdt(e.columnTimes,t,r,o);return l||(c=c.sort((e,t)=>Dk(e.vcn||e.identifier,t.vcn||t.identifier))),{metadataListEntityID:e.metadataList,containerKey:i,sourceDirectory:a,channels:c,columnTimes:e.columnTimes,providerIdentifier:n.identifier,isRefreshing:!!s}})}),Pdt)(class extends Ddt{componentDidMount(){this.props.containerKey&&this._populate(),this.props.providerIdentifier&&this._setSearchProviderIdentifier(this.props.providerIdentifier)}componentDidUpdate(e){const{providerIdentifier:t,containerKey:i,columnTimes:n,isRefreshing:a}=this.props;i&&i!==e.containerKey||a!==e.isRefreshing?this._populate():wp(n,e.columnTimes)||this.props.dispatchPopulateChannelPrograms(),t&&t!==e.providerIdentifier&&this._setSearchProviderIdentifier(t)}componentWillUnmount(){const{metadataListEntityID:e}=this.props;e&&this.props.dispatchResetMetadataList({metadataListEntityID:e}),this._setSearchProviderIdentifier(null)}_populate(){const{serverEntityID:e,providerEntityID:t,containerKey:i,dispatchInitMetadataList:n,dispatchResetStartTime:a,dispatchPopulateChannelPrograms:s}=this.props;a(),n({containerKey:i,serverEntityID:e,providerEntityID:t}),s()}_setSearchProviderIdentifier(e){const{dispatchChangeQuickSearchSettings:t,serverEntityID:i,providerEntityID:n}=this.props;t({serverEntityID:i,providerEntityID:n,providerIdentifier:e,directoryID:null})}render(){const e=this.props,t=Xe()(e,["dispatchInitMetadataList"]);return Mdt(Idt,t)}});const jdt=Object(Wu.c)({metadataListEntityID:e=>e.ui.channelGridPage.metadataList,directoryKey:Object(Wu.a)((e,{selectedDirectory:t})=>t,e=>{if(!e)return;const t=e.key;return"/"===t.charAt(0)?t:"/library/sections/"+t})});const wdt=Yrt(Odt,(function(e){const t=e.ui.channelGridPage;return{providerEntityID:t.providerEntityID,serverEntityID:t.serverEntityID,metadataListEntityID:t.metadataList,directoryKey:t.directoryKey}}),(function(e,t){e(vIe({serverEntityID:t.serverEntityID,providerEntityID:t.providerEntityID,directoryKey:t.directoryKey})),e(OIe())}));var Tdt=Object(Hu.b)(jdt)(wdt);var Edt=_u.extend({component(e){const{selectedServerID:t,selectedProviderID:i,params:n={}}=e,a=Object(pt.a)(ht.n,t),s=Object(pt.a)(ht.k,i,a),r=Vu()(Qrt,{serverEntityID:a,providerEntityID:s,sourceDirectoryID:n.source,directoryKey:ei},void 0,Vu()(Tdt,{serverEntityID:a,providerEntityID:s,sourceDirectoryID:n.source,directoryKey:ei,activeFilters:Cie(n.filters),activeFilterLabel:n.filterLabel}));return Vu()(Bh,{},void 0,Vu()(Nh,{},void 0,Vu()(Fit,{selectedMachineIdentifier:t,selectedProviderIdentifier:i,selectedSourceDirectoryID:n.source}),t===ST.a?Vu()(vst,{providerEntityID:s},void 0,r):Vu()(Jnt,{serverEntityID:a},void 0,r)))}});var Ndt=xe.a.extend({name:"PlayHistoryListItemModel",syncedAttrs:{key:Ae.a.string,parentKey:Ae.a.string,grandparentKey:Ae.a.string,title:Ae.a.string,parentTitle:Ae.a.string,grandparentTitle:Ae.a.string,type:Ae.a.string,thumb:Ae.a.string,parentThumb:Ae.a.string,grandparentThumb:Ae.a.string,grandparentArt:Ae.a.string,index:Ae.a.integer,parentIndex:Ae.a.integer,originallyAvailableAt:Ae.a.string,viewedAt:Ae.a.integer,accountID:Ae.a.integer,deviceID:Ae.a.integer},derivedAttrs:{itemKey(){return this.get("key")},id(){return this.cid}}});var xdt=ke.a.extend({name:"PlayHistoryListItemCollection",context:["server"],model:Ndt});const Adt="viewedAt:desc";xe.a.extend({mixins:[st.a],collectionName:"items",name:"PlayHistoryListModel",context:["server","accountID","filters","sort","limit"],responseType:ct.a,url(){const e=this.filters.reduce((e,t)=>(e[t.key]=t.value,e),{});null!=this.accountID&&(e.accountID=this.accountID),null!=this.sort&&(e.sort=this.sort),null!=this.limit&&(e.limit=this.limit);let t=V.join("/status/sessions/history/all",e);return t=t.replace("viewedAt=","viewedAt>="),this.getPaginatedUrl(t)},sessionAttrs:{currentPageStart:Ae.a.integer,currentPageSize:Ae.a.integer,populatedRange:Ae.a.object},syncedAttrs:{totalSize:Ae.a.integer},syncedRelations:{items:{relationClass:xdt,rootPropertyName:"Metadata",setOptions:e=>({remove:e.remove,at:e.at})}},defaults:()=>({populatedRange:{start:0,end:0,size:0}}),initialize(){this.startPopulatedRangeMonitor()}});function Ldt(e,t){return!!e&&e.some(e=>e.key===t)}var kdt=i("1bIl"),Rdt=i.n(kdt);var zdt=(e,t)=>Object(Wu.a)(UP(e),e=>e.accounts.find(e=>e.id===t));const{useMemo:Udt}=Nd.a;var Vdt=Object(vg.a)((function(e){return Object(Wu.a)(Qb,t=>t.serverDevices[e])}));let Bdt;!function(e){e.LibrarySectionID="librarySectionID",e.AccountID="accountID",e.MetadataItemID="metadataItemID",e.ViewedAt="viewedAt"}(Bdt||(Bdt={}));const Fdt={key:"user",title:()=>Object(Ze.default)("User"),component:function({className:e,playHistoryItem:t}){const[i]=Lg(),{accountID:n}=t,a=Udt(()=>zdt(i.machineIdentifier,n),[n,i.machineIdentifier]),s=Object(Hu.d)(a);return s?Vu()("span",{className:e,title:s.name},void 0,s.name):Vu()("span",{className:e},void 0,Object(Ze.default)("Unknown User"))},style:{flex:"1 1 250px"}},Hdt={key:"type",title:()=>Object(Ze.default)("Type"),component:function({className:e,playHistoryItem:t}){const{type:i}=t,n=Object(Qt.u)(i);return n?Vu()("span",{className:e,title:n.title},void 0,n.title):null},style:{flex:"0 1 120px"}},_dt={key:"title",title:()=>Object(Ze.default)("Title"),component:function({className:e,playHistoryItem:t}){const i=WP(t);return Vu()("span",{className:e},void 0,Vu()("div",{className:Rdt.a.titleContainer},void 0,Vu()("span",{className:Rdt.a.title,title:i},void 0,i)))},style:{flex:"2 0 350px"}},Wdt={key:"player",title:()=>Object(Ze.default)("Player"),component:function({className:e,playHistoryItem:t}){const[i]=Lg(),{deviceID:n}=t,a=Object(Hu.d)(Vdt(i.machineIdentifier)).devices.find(e=>e.id===n);return a?Vu()("span",{className:e,title:a.name},void 0,a.name):Vu()("span",{className:e},void 0,Object(Ze.default)("Unknown"))},style:{flex:"1 1 150px"}},Qdt={key:"platform",title:()=>Object(Ze.default)("Platform"),component:function({className:e,playHistoryItem:t}){const[i]=Lg(),{deviceID:n}=t,a=Object(Hu.d)(Vdt(i.machineIdentifier)).devices.find(e=>e.id===n);return a?Vu()("span",{className:e,title:a.platform},void 0,a.platform):Vu()("span",{className:e},void 0,Object(Ze.default)("Unknown"))},style:{flex:"1 1 150px"}},Gdt=[{key:"viewedAt",ascKey:"viewedAt",descKey:"viewedAt:desc",title:()=>Object(Ze.default)("Played"),component:function({className:e,playHistoryItem:t}){const{viewedAt:i}=t,n=Object(Hu.d)(tSe),a=Object(Rce.default)(1e3*i,n+" MMM d, yyyy");return Vu()("span",{className:e,title:a},void 0,a)},style:{flex:"1 1 150px"}}];var Kdt=ZJe({rowHeight:parseInt(BV.tableRowHeight,10),overscan:20}),Ydt=Object(Wu.a)(Ay,e=>e.playHistory),qdt=i("OhLM"),Zdt=i.n(qdt);const Jdt=Nd.a.createElement;function Xdt(e){let{className:t=Zdt.a.title,cellClassName:i=Zdt.a.tableCell,activeCellClassName:n=Zdt.a.activeTableCell,style:a,component:s,isActiveSort:r}=e,o=Xe()(e,["className","cellClassName","activeCellClassName","style","component","type","isActiveSort"]);return Vu()("div",{className:r?n:i,style:a},void 0,Jdt(s,tp()({},o,{className:t})))}var $dt=i("ZZ6f"),eut=i.n($dt);function tut({style:e,cellIndex:t}){return Vu()("div",{className:t%2?eut.a.alternateLoadingItem:eut.a.loadingItem,style:e},void 0,Object(Ze.default)("Loading..."))}var iut=i("QZ2m"),nut=i.n(iut);function aut(e){let{item:t,activeTableColumns:i}=e,n=Xe()(e,["item","activeTableColumns"]);const[a]=Lg(),s=tj(n);let r;if(null==t?void 0:t.key){const e=i.some(e=>"title"===e.key),n=t.type===Qt.p?t.parentKey:t.key;r=e?cu(a,{isLibraryProvider:!0},n):void 0}return t?Vu()("div",{className:n.cellIndex%2?nut.a.alternateItem:nut.a.item,style:s.style},void 0,Vu()(ev,{className:nut.a.columns,"aria-label":t.title,to:r,isDisabled:!r},void 0,i.map(({style:e,component:i},n)=>Vu()(Xdt,{style:e,component:i,playHistoryItem:t},n)))):Vu()(tut,{style:s.style,cellIndex:n.cellIndex})}var sut=i("hrUx"),rut=i.n(sut);const out=Nd.a.createElement,{useCallback:lut,useMemo:cut}=Nd.a;var dut=Vu()(SKe,{}),uut=Vu()(gp,{},void 0,Vu()(Ip,{}));function put({activeTableColumns:e,activeFilters:t,activeSort:i,isPlayHistorySupported:n}){const a=Object(Hu.c)(),[s]=Lg(),r=Object(Hu.d)(Ydt),o=Object(Hu.d)(Vdt(s.machineIdentifier)),{items:l,totalSize:c,isPopulated:d,error:u}=r,{isPopulated:p,error:h}=o,m=lut(e=>{a(Ar.actions.fetchRangeRequested(Object.assign({},e,{server:s,filters:t,sort:i})))},[a,s,t,i]),g=cut(()=>t=>out(aut,tp()({},t,{activeTableColumns:e})),[e]);return n?d&&c&&(p||h)?Vu()(ZO,{className:rut.a.playHistoryListPageContent,items:l,totalSize:c,layout:Kdt,cellComponentFactory:g,onPageRequest:m}):d&&!c?Vu()(gp,{title:Object(Ze.default)("Nothing to see here"),description:Object(Ze.default)("Snuggle up on the couch and play something!")}):u?dut:uut:Vu()(IKe,{title:Object(Ze.default)("Update your {productName}",{productName:"Plex Media Server"}),description:Vu()(ev,{kind:Qg.Primary,to:ln(s.machineIdentifier,"settings","general")},void 0,Object(Ze.default)("Play History requires {productName} {version} or higher",{productName:"Plex Media Server",version:qi.playHistory}))})}function hut(e,t,i){const n=[...e],a=n.findIndex(e=>e.key===t),s=-1===a?0:a,r=Object.assign({key:t},i);return-1===a?n.push(r):n.splice(s,1,r),n}let mut,gut;function vut(e,t=window.location.hash){const i=function(e){if(mut===e)return gut;const t=e.split("?"),i=t.length>1?t[1]:void 0,n=i?V.parseParams(i):{};return mut=e,gut={url:t[0],params:n},gut}(t);return V.join(i.url,Object.assign({},i.params,{filters:Pie(e.filters),activeTimePeriod:e.activeTimePeriod,sort:e.sort}))}const{Fragment:yut,useCallback:fut,useMemo:but}=Nd.a;function Iut({activeFilters:e,activeTimePeriod:t,activeSort:i}){const[n]=Lg(),{menuButtonID:a,isMenuOpen:s,onMenuButtonPress:r,onMenuClose:o}=py(),l=but(()=>({key:"",title:Object(Ze.default)("All Users")}),[]),c=Object(Hu.d)(VP(n.machineIdentifier)),d=but(()=>c.reduce((e,t)=>(e.push({key:String(t.id),title:t.name}),e),[l]),[c,l]),u=but(()=>{const t=e.find(e=>"accountID"===e.key);return t?d.find(e=>e.key===t.value):l},[e,d,l]),p=fut(n=>{let a;a=n?hut(e,Bdt.AccountID,{value:String(n),type:"other"}):edt(e,Bdt.AccountID),window.location.hash=vut({filters:a,activeTimePeriod:t,sort:i})},[e,t,i]);return u&&d.length?Vu()(yut,{},void 0,Vu()(H$,{id:a,hasMenu:!0,isMenuOpen:s,onPress:r},void 0,u.title),Vu()(Qv,{target:a,isOpen:s,onMenuClose:o},void 0,d.map(e=>Vu()(oy,{value:e.key,isSelected:u.key===e.key,onSelect:p},e.key,e.title)))):null}var Sut=Object(vg.a)((function(e,t){return Object(Wu.a)(Dg(e,t),e=>e.filter(e=>{var t=e.type?Qt.u(e.type):null;return t&&t.typeString!==Qt.m}))}));const{Fragment:Cut,useCallback:Mut,useMemo:Dut}=Nd.a;function Put({activeFilters:e,activeTimePeriod:t,activeSort:i}){const[n,a]=Lg(),{menuButtonID:s,isMenuOpen:r,onMenuButtonPress:o,onMenuClose:l}=py(),c=Object(Hu.d)(Sut(n.machineIdentifier,a.identifier)),d=Dut(()=>({key:"all",title:Object(Ze.default)("All Libraries")}),[]),u=Dut(()=>c.reduce((e,t)=>(e.push({key:t.id,title:t.title}),e),[d]),[c,d]),p=Dut(()=>{const t=e.find(e=>"librarySectionID"===e.key);return t&&u.length?u.find(e=>String(e.key)===t.value):d},[e,u,d]),h=Mut(n=>{let a;a="all"!==n?hut(e,Bdt.LibrarySectionID,{value:n,type:"other"}):edt(e,Bdt.LibrarySectionID),window.location.hash=vut({filters:a,activeTimePeriod:t,sort:i})},[e,t,i]);return p&&c.length?Vu()(Cut,{},void 0,Vu()(H$,{id:s,hasMenu:!0,isMenuOpen:r,onPress:o},void 0,p.title),Vu()(Qv,{target:s,isOpen:r,onMenuClose:l},void 0,u.map(e=>Vu()(oy,{value:e.key,isSelected:p.key===e.key,onSelect:h},e.key,e.title)))):null}const{Fragment:Out,useCallback:jut,useMemo:wut}=Nd.a;function Tut(){const[e]=Lg(),{menuButtonID:t,isMenuOpen:i,onMenuButtonPress:n,onMenuClose:a}=py(),s=Object(Hu.d)(wg),r=wut(()=>s.reduce((e,t)=>(t.isFullOwnedServer&&t.isConnected&&e.push({key:t.machineIdentifier,title:t.friendlyName}),e),[]),[s]),o=wut(()=>r.find(t=>t.key===e.machineIdentifier),[e,r]),l=jut(e=>{window.location.hash=FD(e)},[]);return o?Vu()(Out,{},void 0,Vu()(H$,{id:t,hasMenu:!0,isMenuOpen:i,onPress:n},void 0,o.title),Vu()(Qv,{target:t,isOpen:i,onMenuClose:a},void 0,r.map(e=>Vu()(oy,{value:e.key,isSelected:o.key===e.key,onSelect:l},e.key,e.title)))):null}const{Fragment:Eut,useCallback:Nut}=Nd.a;function xut({activeFilters:e,activeTimePeriod:t=zy.AllTime,activeSort:i}){const{menuButtonID:n,isMenuOpen:a,onMenuButtonPress:s,onMenuClose:r}=py(),o=[zy.Week,zy.Month,zy.NinetyDays,zy.Year,zy.AllTime],l=Nut(t=>{const n=hut(e,Bdt.ViewedAt,{value:String(Ky(t)),type:"other"});window.location.hash=vut({filters:n,activeTimePeriod:t,sort:i})},[e,i]);return Vu()(Eut,{},void 0,Vu()(H$,{id:n,hasMenu:!0,isMenuOpen:a,onPress:s},void 0,Qy(t)),Vu()(Qv,{target:n,isOpen:a,onMenuClose:r},void 0,o.map(e=>Vu()(oy,{value:e,isSelected:t===e,onSelect:l},e,Qy(e)))))}const{Fragment:Aut}=Nd.a,Lut=Object(Wu.a)(Ydt,e=>e.totalSize);var kut=Vu()(Tut,{});function Rut({activeFilters:e,activeFilterTitle:t,activeTimePeriod:i,activeSort:n,isPlayHistorySupported:a}){const[s]=Lg(),r=Object(Hu.d)(Lut),o=!Ldt(e,Bdt.MetadataItemID);return Vu()(Z2e,{},void 0,Vu()(x$,{},void 0,Vu()(H$,{to:FD(s.machineIdentifier)},void 0,Object(Ze.default)("Play History")),t?Vu()(H$,{},void 0,t):null,o?kut:null,a&&o?Vu()(Aut,{},void 0,Vu()(Put,{activeFilters:e,activeTimePeriod:i,activeSort:n}),Vu()(Iut,{activeFilters:e,activeTimePeriod:i,activeSort:n}),Vu()(xut,{activeFilters:e,activeTimePeriod:i,activeSort:n})):null,Vu()(jct,{},void 0,r)))}function zut(e){var t=e["aria-label"],i=e.className,n=e.style,a={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-sort-ascending-560"};a["aria-hidden"]=!t,a.style=n,a.className=Ad.a.plexIcon+(i?" "+i:"");var s=[Nd.a.createElement.apply(Nd.a,["path",{d:"m280 80l-200 200h160v200h80v-200h160l-200-200"}].concat([]))];return t&&s.unshift(Nd.a.createElement("title",null,t)),Nd.a.createElement.apply(Nd.a,["svg",a].concat(s))}zut.propTypes={"aria-label":vc.a.string,className:vc.a.string,style:vc.a.object};var Uut=zut;function Vut(e){var t=e["aria-label"],i=e.className,n=e.style,a={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-sort-descending-560"};a["aria-hidden"]=!t,a.style=n,a.className=Ad.a.plexIcon+(i?" "+i:"");var s=[Nd.a.createElement.apply(Nd.a,["path",{d:"m80 280h160v-200h80v200h160l-200 200-200-200"}].concat([]))];return t&&s.unshift(Nd.a.createElement("title",null,t)),Nd.a.createElement.apply(Nd.a,["svg",a].concat(s))}Vut.propTypes={"aria-label":vc.a.string,className:vc.a.string,style:vc.a.object};var But=Vut,Fut=i("ESci"),Hut=i.n(Fut);const _ut=Nd.a.createElement;function Wut(e){let{className:t=Hut.a.sortDirectionIcon,isAscending:i=!0}=e,n=Xe()(e,["className","isAscending"]);return _ut(i?Uut:But,tp()({className:t,"aria-label":i?Object(Ze.default)("Ascending"):Object(Ze.default)("Descending")},n))}var Qut=i("Gopy"),Gut=i.n(Qut);const Kut=Nd.a.createElement;function Yut(e){let{className:t=Gut.a.tableHeader}=e,i=Xe()(e,["className"]);return Kut("div",tp()({},i,{className:t}))}var qut=i("c7dm"),Zut=i.n(qut);const Jut=Nd.a.createElement;function Xut(e){let{className:t=Zut.a.tableHeaderCell,activeClassName:i=Zut.a.activeTableHeaderCell,children:n,isActive:a=!1}=e,s=Xe()(e,["className","activeClassName","children","isActive"]);const r=a?i:t;return Jut("span",tp()({},s,{className:r}),n)}var $ut=i("FVT0"),ept=i.n($ut);const tpt=Nd.a.createElement;function ipt(e){let{className:t=ept.a.tableHeaderLink,children:i}=e,n=Xe()(e,["className","children"]);return tpt(ev,tp()({},n,{className:t}),i)}var npt=i("cora"),apt=i.n(npt);const spt=Nd.a.createElement;function rpt(e){let{className:t=apt.a.tableHeaderTitle,children:i}=e,n=Xe()(e,["className","children"]);return spt("span",tp()({},n,{className:t}),i)}var opt=i("yULO"),lpt=i.n(opt);function cpt({activeTableColumns:e,activeFilters:t,activeTimePeriod:i,activeSort:n}){return Vu()(Yut,{},void 0,e.map(({style:e,title:a,ascKey:s,descKey:r,key:o})=>{if(!s)return Vu()("div",{style:e,className:lpt.a.tableHeader},o,Vu()(Xut,{},void 0,Vu()(rpt,{},void 0,a())));const l=n===s||n===r,c=n&&n===s;return Vu()(ipt,{style:e,to:vut({filters:t,activeTimePeriod:i,sort:c?r:s})},o,Vu()(Xut,{isActive:l},void 0,Vu()(rpt,{},void 0,a()),l?Vu()(Wut,{isAscending:!c}):null))}))}const{useEffect:dpt}=Nd.a;function upt({activeFilters:e,activeFilterTitle:t,activeTimePeriod:i,activeSort:n,isParentType:a=!1}){const s=Object(Hu.c)(),[r]=Lg(),o=Qi(r.version,qi.playHistory),l=Qi(r.version,qi.playHistoryDevices),c=function(e,t,i){let n=Gdt;return i&&(n=[Wdt,Qdt,...n]),!t&&Ldt(e,Bdt.MetadataItemID)||(n=[_dt,...n]),Ldt(e,Bdt.LibrarySectionID)||Ldt(e,Bdt.MetadataItemID)||(n=[Hdt,...n]),Ldt(e,Bdt.AccountID)||(n=[Fdt,...n]),n}(e,a,l);return nI(),dpt(()=>{s(Bs.actions.populateRequested({server:r})),s(zs.actions.populateRequested({server:r}))},[s,r]),dpt(()=>(o&&Object(Ti.a)(()=>{s(Ar.actions.fetchRangeRequested({server:r,filters:e,sort:n,startIndex:0,size:100}))}),()=>{s(Ar.actions.reset())}),[e,n,s,o,r]),Vu()(EKe,{scrollDirection:cp.None},void 0,Vu()(Rut,{activeFilters:e,activeFilterTitle:t,activeTimePeriod:i,activeSort:n,isPlayHistorySupported:o}),o?Vu()(cpt,{activeTableColumns:c,activeFilters:e,activeTimePeriod:i,activeSort:n}):null,Vu()(put,{activeTableColumns:c,activeFilters:e,activeSort:n,isPlayHistorySupported:o}))}var ppt=Vu()(Fit,{});var hpt=_u.extend({component(e){const t=e.selectedServerID,i=e.params||{},{filters:n,filterTitle:a,activeTimePeriod:s,sort:r=Adt,isParentType:o}=i,l=Object(pt.a)(ht.n,t);return Vu()(Zb.a,{metricsPage:zd.Z,metricsContext:i.context},void 0,Vu()(Bh,{},void 0,Vu()(Nh,{},void 0,Vu()(kg,{machineIdentifier:t,providerIdentifier:jt.d},void 0,ppt,Vu()(Jnt,{serverEntityID:l},void 0,Vu()(upt,{activeFilters:Cie(n),activeFilterTitle:a,activeTimePeriod:s,activeSort:r,isParentType:Se.a.parseBoolean(o)}))))))}});var{useMemo:mpt}=Nd.a;var gpt=function(){var e=window.location.hash.replace("#!","");return mpt(()=>{var{params:t}=V.parseUri(e);return t},[e])};function vpt({className:e}){return Vu()(IKe,{className:e,title:Object(Ze.default)("Not found"),description:Object(Ze.default)("We're having trouble finding this page. It might have been deleted")},void 0,Vu()(iD,{to:"#"},void 0,Object(Ze.default)("Go Home")))}function ypt(e){var t=e["aria-label"],i=e.className,n=e.style,a={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-person-auto-560"};a["aria-hidden"]=!t,a.style=n,a.className=Ad.a.plexIcon+(i?" "+i:"");var s=[Nd.a.createElement.apply(Nd.a,["path",{d:"M198.543 309.557a162.542 162.542 0 0 1-79.755-140.166C118.788 79.705 190.965 7 280 7c89.035 0 161.212 72.705 161.212 162.39a162.542 162.542 0 0 1-79.755 140.167C476.367 343.994 560 447.712 560 554H0c0-106.288 83.633-210.006 198.543-244.443zM40 554h480c0-106.732-107.452-213.463-240-213.463S40 447.268 40 554zm120-386.902c0 66.314 53.726 120.073 120 120.073s120-53.759 120-120.073c0-66.315-53.726-120.074-120-120.074s-120 53.759-120 120.074z"}].concat([]))];return t&&s.unshift(Nd.a.createElement("title",null,t)),Nd.a.createElement.apply(Nd.a,["svg",a].concat(s))}ypt.propTypes={"aria-label":vc.a.string,className:vc.a.string,style:vc.a.object};var fpt=ypt;const bpt=Nd.a.createElement;function Ipt(e){let{type:t}=e,i=Xe()(e,["type"]);switch(t){case Na.Movie:return bpt(bC,i);case Na.Show:case Na.Season:case Na.Episode:return bpt(PC,i);case Na.Artist:return bpt(gC,i);case Na.Album:case Na.Track:return bpt(SC,i);case Na.Photo:case Na.PhotoAlbum:return bpt(MC,i);case Na.Clip:return bpt(yC,i);case Na.Game:return bpt($G,i);case Na.Playlist:return bpt(nGe,i);case Na.Person:return bpt(fpt,i)}!function(e){throw new Error('"'+e+'" is not mapped to an icon')}(t)}var Spt=Object(vg.a)((function(e){return Object(Wu.a)(Cg(e.machineIdentifier),e=>{var t,i;return null!=(t=null==e||null==(i=e.desktop)?void 0:i.activities)?t:[]})}));var Cpt=function(e,t){return Object(Wu.a)(Spt(e),e=>e.find(e=>"provider.epg.load"===e.type&&e.Context.identifier===t.identifier))};var Mpt=function(e,t){return Object(Wu.a)(Spt(e),e=>e.find(e=>"library.update.section"===e.type&&e.Context.librarySectionID===t.id))};var Dpt=function(e,t){const i=[...e];if(t.filter.filterType===Xa.Boolean){const e=i.findIndex(e=>e.filter.filter===t.filter.filter),n=-1===e?0:e,a=Object.assign({},t,{value:"string"==typeof t.value?"1"===t.value:t.value});-1===e?i.push(a):i.splice(n,1,a)}else{i.find(e=>e.filter.filter===t.filter.filter&&e.value===t.value)||i.push(t)}return i};let Ppt;function Opt(e){const t=ss(Ppt).find(t=>Ppt[t]===e);return t?Ppt[t]:void 0}!function(e){e.Equal="=",e.NotEqual="!=",e.DoubleEqual="==",e.NotDoubleEqual="!==",e.GreaterThanOrEqual="<=",e.GreaterThanGreaterThanOrEqual=">>=",e.LessThanLessThanOrEqual="<<="}(Ppt||(Ppt={}));var jpt=function(e,t){if(!(null==t?void 0:t.Filter))return{strippedKey:e,filterRules:[]};const i=t.Filter,{params:n,pathname:a}=V.parseUri(e);let s=[];for(const e in n)if(n.hasOwnProperty(e)){let t=s;const a=n[e],r=i.find(t=>e.startsWith(t.filter));if(!r)continue;const o=Opt(e.substr(r.filter.length)+"=");if(!o)continue;"string"==typeof a?t=Dpt(t,{filter:r,operator:o,value:a}):Array.isArray(a)&&(t=a.reduce((e,t)=>"string"!=typeof t?e:Dpt(e,{filter:r,operator:o,value:t}),t)),s!==t&&(s=t,delete n[e])}return{strippedKey:V.join(a,n),filterRules:s}},wpt=Object(Wu.a)(Ay,e=>e.directory),Tpt=Object(Wu.a)(wpt,e=>e.meta),Ept=Object(Wu.a)(Tpt,e=>e?cs(e):void 0);var Npt=function(e){return Object(Wu.a)(Ept,t=>e?jpt(e,t):void 0)};let xpt,Apt;function Lpt(e,t=window.location.hash){const i=function(e){if(xpt===e)return Apt;const t=e.split("?"),i=t.length>1?t[1]:void 0,n=i?V.parseParams(i):{};return xpt=e,Apt={url:t[0],params:n},Apt}(t);return V.join(i.url,Object.assign({},i.params,e))}const{useCallback:kpt}=Nd.a;var Rpt=function(e){const t=Object(Hu.c)();return kpt(i=>{const n=i.currentTarget.getAttribute("href");n&&(0===i.button||i.touches)&&(i.stopPropagation(),t(Object(Kn.v)({pathname:n,replace:!0}))),null==e||e(i)},[t,e])};function zpt(e){var t=e["aria-label"],i=e.className,n=e.style,a={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-watchlist-560"};a["aria-hidden"]=!t,a.style=n,a.className=Ad.a.plexIcon+(i?" "+i:"");var s=[Nd.a.createElement.apply(Nd.a,["path",{d:"M35 35.113C35 15.721 50.736 0 70.212 0H489.4c19.446 0 35.211 15.384 35.211 35.113v504.933c0 19.392-12.476 25.435-27.606 13.699L307.412 406.679c-15.246-11.826-40.083-11.735-55.212 0L62.606 553.745C47.36 565.57 35 559.775 35 540.046V35.113zm225.736 201.485v72.615h38.528v-72.615h68.083v-41.305h-68.083v-73.559h-38.528v73.559h-68.084v41.305h68.084z"}].concat([]))];return t&&s.unshift(Nd.a.createElement("title",null,t)),Nd.a.createElement.apply(Nd.a,["svg",a].concat(s))}zpt.propTypes={"aria-label":vc.a.string,className:vc.a.string,style:vc.a.object};var Upt=zpt,Vpt=i("XQST"),Bpt=i.n(Vpt);const{useMemo:Fpt}=Nd.a;var Hpt=Vu()(eot,{}),_pt=Vu()(eot,{});function Wpt({className:e,directoryKey:t,selectedPivot:i}){const[n,a,s]=Lg(),r=jt.k(a.identifier,jt.c),o=Fpt(()=>Cpt(n,a),[a,n]),l=!!Object(Hu.d)(o),c=Fpt(()=>s?Mpt(n,s):()=>{},[s,n]),d=!!Object(Hu.d)(c)||!!(null==s?void 0:s.refreshing),u=Fpt(()=>Npt(t),[t]),p=Object(Hu.d)(u),h=Rpt();return"vod.watchlist"===(null==i?void 0:i.id)?Vu()(gp,{className:e,icon:Vu()(Upt,{className:Bpt.a.watchlistIcon}),title:Object(Ze.default)("Watchlist"),description:Object(Ze.default)("You can add movies and shows to your Watchlist to catch up on later. Once you finish watching an item in the list, or mark it as watched it will automatically be removed from the list.")}):(null==p?void 0:p.filterRules.length)?Vu()(gp,{icon:(null==s?void 0:s.type)?Vu()(Ipt,{type:s.type}):void 0,title:Object(Ze.default)("The active filter has no matches"),description:Object(Ze.default)("Use the menu above to change the active filter")},void 0,Vu()(iD,{to:Lpt({key:p.strippedKey}),kind:Qg.Primary,onPress:h},void 0,Object(Ze.default)("Clear filter"))):r?l?Vu()(gp,{className:e,icon:Hpt,title:Object(Ze.default)("We're now building your Guide"),description:Object(Ze.default)("Hang tight while we download all the data for what's on")}):Vu()(gp,{className:e,icon:_pt,title:Object(Ze.default)("Your Guide is empty"),description:Object(Ze.default)("Please verify your channel mappings and refresh the Guide")},void 0,Vu()(iD,{to:ln(n.machineIdentifier,"manage","dvr"),kind:Qg.Primary},void 0,Object(Ze.default)("Go to DVR Settings"))):d?Vu()(gp,{className:e,icon:(null==s?void 0:s.type)?Vu()(Ipt,{type:s.type}):void 0,title:s?Object(Ze.default)('"{directoryTitle}" is currently being updated',{directoryTitle:s.title}):Object(Ze.default)("This page is currently being updated"),description:Object(Ze.default)("Hang tight while we look for content")}):Vu()(gp,{className:e,icon:(null==s?void 0:s.type)?Vu()(Ipt,{type:s.type}):void 0,title:s?Object(Ze.default)('"{directoryTitle}" is empty',{directoryTitle:n.isCloud?null==i?void 0:i.title:s.title}):Object(Ze.default)("This page is empty"),description:n.isFullOwnedServer?Object(Ze.default)("Expecting more? Visit the Manage Libraries page to add folders and scan library files."):null},void 0,n.isFullOwnedServer?Vu()(iD,{kind:Qg.Primary,to:ln(n.machineIdentifier,"manage","libraries")},void 0,Object(Ze.default)("Manage Libraries")):null)}var{useEffect:Qpt,useRef:Gpt}=Nd.a;var{useEffect:Kpt,useMemo:Ypt}=Nd.a;var qpt=function(e){var t,i,[n,a,s]=Lg(),r=Ypt(()=>function(e,t,i){return jt.k(t.identifier,jt.d)?i?Mpt(e,i):()=>{}:jt.k(t.identifier,jt.c)?Cpt(e,t):()=>{}}(n,a,s),[s,a,n]),o=!(!Object(Hu.d)(r)&&!(null==s?void 0:s.refreshing)),l=(t=o,i=Gpt(),Qpt(()=>{i.current=t},[t]),i.current);Kpt(()=>{var t;return o?t=window.setInterval(()=>{null==e||e()},1e4):!o&&l&&(null==e||e()),()=>{window.clearInterval(t)}},[e,o,l])},Zpt=Object(Wu.a)(Ay,e=>e.directory.hubsList),Jpt=i("LgTU"),Xpt=i.n(Jpt);const $pt=Nd.a.createElement,{Fragment:eht,useCallback:tht,useEffect:iht,useMemo:nht}=Nd.a;function aht(e){return!!e&&e<=Date.now()-864e5}function sht({children:e,hub:t}){const[,,i]=Lg(),{metricsContextTuple:n}=Object(Zb.d)(),a=i&&t.key?jLe(t.source,{key:t.key,pageType:Ya.List,source:i.id,context:Object(Zb.b)(n)}):void 0;return Vu()($1e,{hub:t},void 0,a?Vu()(ev,{to:a},void 0,e):e)}var rht=Vu()(gp,{},void 0,Vu()(Ip,{})),oht=Vu()(Wpt,{}),lht=Vu()(y4e,{});function cht({sourceURI:e}){const t=Object(Hu.c)(),[i,n]=Lg(),{lastFetchedAt:a,sourceURI:s,hubs:r,isPopulated:o,error:l}=Object(Hu.d)(Zpt),c=Object(Hu.d)(E2e),d=nht(()=>r.every(e=>!e.initialSize&&!e.more),[r]),u=tht(()=>{t(cr.actions.fetchHubsRequested({server:i,provider:n,sourceURI:e}))},[t,n,i,e]);nI({},o),qpt(u);const{scrollRestoreProps:p,onScrollPositionReady:h}=HO({key:"DirectoryHubsPage"});return iht(()=>{o&&(aht(a)||e!==s)&&t(cr.actions.resetHubs())},[t,a,s,e,o]),iht(()=>{e!==s&&t(cr.actions.fetchHubsRequested({server:i,provider:n,sourceURI:e}))},[t,s,i,e]),iht(()=>(t(cr.actions.markHubsStaleCanceled()),()=>{t(cr.actions.markHubsStaleRequested())}),[t]),aht(a)||e!==s||!o&&!l?rht:l?Vu()(SKe,{},void 0,Vu()(iD,{kind:Qg.Primary,onPress:u},void 0,Object(Ze.default)("Retry"))):o&&d?oht:Vu()(eht,{},void 0,c?lht:null,$pt(kKe,tp()({className:Xpt.a.pageContentScroller},p),Vu()(G_,{className:Xpt.a.banner,serverEntityID:i.entityID,providerEntityID:n.entityID}),Vu()(Q1e,{hubs:r,hubComponent:V1e,hubTitleComponent:sht,onHubsReady:h})))}var dht=i("DzTo"),uht=i.n(dht);const pht=Nd.a.createElement;function hht(e){let{className:t=uht.a.underlay,metadataItem:i,keyAttribute:n}=e,a=Xe()(e,["className","metadataItem","keyAttribute"]);const s=hYe(i,n);return s?pht(ev,tp()({className:t,to:s},a)):null}function mht({className:e,metadataItem:t}){const i=rCe({useLongName:!1,episodeIndex:t.index,date:t.originallyAvailableAt,noLeadingZero:!0});return Vu()("span",{className:e},void 0,Vu()("span",{title:t.title},void 0,i))}var ght=i("JrF9"),vht=i.n(ght);function yht({className:e=vht.a.selectButtonContainer,visibleClassName:t=vht.a.isVisible,isSelected:i,isInSelectionRange:n,isVisible:a,title:s,tabIndex:r,onPress:o}){return Vu()("div",{className:(e||"")+" "+(a&&t||"")},void 0,Vu()(a$e,{className:vht.a.selectButton,isSelected:i,isInSelectionRange:n,title:s,tabIndex:r,"aria-hidden":-1===r?"true":void 0,onPress:o}))}var fht=i("ixBV"),bht=i.n(fht);const Iht=Nd.a.createElement,{Fragment:Sht,useCallback:Cht,useMemo:Mht}=Nd.a,Dht=parseInt(BV.summaryCellPadding,10);var Pht=Vu()(tf,{separator:""}),Oht=Vu()(tf,{separator:""}),jht=Vu()(tf,{separator:""}),wht=Vu()(ewe,{});function Tht({metadataItem:e,metadataItemState:t,style:i,cellHeight:n,cellIndex:a,isParentDetailHidden:s}){const[r,o]=Lg(),l=Object(Hu.d)(IT),c=cYe(null==e?void 0:e.sourceURI),{hoverRef:d,actionsMenuButtonID:u,isHovered:p,isActionsPending:h,isActionsVisible:m,isActionsMenuOpen:g,onActionsMenuClose:v,onActionsMenuCloseComplete:y,onActionsMenuToggle:f}=Gqe({server:r,provider:o,metadataItem:e,metadataItemState:t}),{isSelected:b,isInSelectionRange:I,isSelectionActive:S,onToggleSelect:C}=Fqe({isHovered:p,metadataItem:e,metadataItemState:t}),M=Mht(()=>I?bht.a.rangeListRow:b?bht.a.selectedListRow:void 0,[I,b]),D=YZe({server:r,provider:o,metadataItem:e,metadataItemState:t}),P=!S&&m,O=mqe(e),j=Cht(()=>{C()},[C]),w=Cht(()=>{O({action:Rd.w}),D(tae())},[D,O]),{type:T,subtype:E,childCount:N,duration:x,originallyAvailableAt:A,summary:L}=e,k=uYe(T,E),R=pYe({height:n-2*Dht,aspectRatio:k}),z=yJe({server:r,provider:o,metadataItem:e,metadataItemState:t,stableUser:l}),U=IJe({server:r,provider:o,metadataItem:e,metadataItemState:t,stableUser:l});return Iht(tXe,{className:M,alternateClassName:M,isAlternate:!!(a%2),isHovered:p,style:i,ref:d},s$e(o)?Vu()(yht,{isSelected:b,isInSelectionRange:I,isVisible:b||I||p,title:Kqe(e),tabIndex:S?-1:void 0,onPress:j}):null,S?Vu()(ev,{className:bht.a.selectOverlay,onPress:j}):Vu()(hht,{metadataItem:e,keyAttribute:"key","aria-label":Kqe(e)}),Vu()("div",{className:bht.a.overlay},void 0,Vu()("div",{className:bht.a.summaryContainer},void 0,Vu()("div",{className:bht.a.posterContainer},void 0,Vu()(z$e,{metadataItem:e,metadataItemState:t,metadataTimelineState:c,width:R.width,height:R.height,aspectRatio:k,isSelectHidden:!0,isPlayButtonCard:!0})),Vu()("div",{className:bht.a.titlesContainer},void 0,Vu()("div",{className:bht.a.titleContainer},void 0,Vu()(mYe,{className:L?bht.a.singleTitle:bht.a.doubleTitle,allowLink:!1,metadataItem:e})),Vu()("div",{className:bht.a.subtitle},void 0,s?null:Vu()(nqe,{allowLink:!1,metadataItem:e}),s&&e.type===Na.Episode?Vu()(Sht,{},void 0,Vu()(mht,{metadataItem:e}),A?Vu()(Sht,{},void 0,Pht,Vu()(VYe,{metadataItem:e})):null):null,s&&e.type===Na.Album?Vu()(bqe,{metadataItem:e}):null,e.type===Na.Movie||e.type===Na.Show?Vu()(bqe,{metadataItem:e}):null,N?Vu()(Sht,{},void 0,Oht,Vu()(WYe,{metadataItem:e})):null,x?Vu()(Sht,{},void 0,jht,Vu()(YYe,{metadataItem:e})):null,z&&(p&&!S||t.userRating)?Vu()(vqe,{className:bht.a.userRatingContainer,metadataItem:e}):null),L?Vu()("div",{className:bht.a.summary},void 0,L):null),P?Vu()("div",{className:bht.a.actions},void 0,U?Vu()(ev,{className:bht.a.actionsButton,"data-qa-id":"metadataRowEditButton",onPress:w},void 0,wht):null,Vu()($Xe,{id:u,className:bht.a.actionsButton,"data-qa-id":"metadataRowMoreButton",isPending:h,onPress:f})):null)),Vu()(YXe,{target:u,isOpen:g,metadataItem:e,actionsOverride:{isPlayVisible:!1,isEditVisible:!1},onMenuClose:v,onMenuCloseComplete:y}))}function Eht(e){let{item:t,isParentDetailHidden:i}=e,n=Xe()(e,["item","isParentDetailHidden"]);const a=rYe(null==t?void 0:t.sourceURI),s=tj(n),{cellIndex:r,cellHeight:o}=n;return t?Vu()(YKe,{metadataItem:t,metadataItemState:a},void 0,Vu()(Tht,{style:s.style,cellIndex:r,cellHeight:o,metadataItem:t,metadataItemState:a,isParentDetailHidden:i})):Vu()(aXe,{style:s.style,index:r})}var Nht=parseInt(BV.summaryCellHeight,10);var xht=function(e){return ZJe(Object.assign({rowHeight:Nht,overscan:2},e))};const Aht=Nd.a.createElement,{useCallback:Lht,useMemo:kht}=Nd.a,Rht=parseInt(BV.v4PagePadding,10);function zht({className:e,items:t,totalSize:i,scrollerKey:n,targetScrollIndex:a,onPageRequest:s,onListReady:r}){const o=kht(()=>xht({outerPaddingLeft:Rht}),[]),l=Lht(e=>Vu()(Zb.a,{row:e.row},e.key,Aht(Eht,e)),[]);return Vu()(ZO,{className:e,layout:o,cellComponentFactory:l,keyPropName:"listItemKey",items:t,totalSize:i,autoScroll:!1,scrollerKey:n,targetScrollIndex:a,onPageRequest:s,onListReady:r})}var Uht=function(e){switch(e){case 16/9:return 114;case 1/1.5:return 64;case 1:return 74}ys(!1,"Unknown aspectRatio "+e)},Vht=i("kTPH"),Bht=i.n(Vht);const Fht=Nd.a.createElement;var Hht=Vu()(uC,{});function _ht({metadataItem:e,style:t,cellIndex:i}){const n=Lpt({key:e.key}),[a,s]=bS(),r=uYe(Ha.Folder),o=pYe({width:Uht(r),aspectRatio:r});return Fht(tXe,{isAlternate:!!(i%2),isHovered:a,style:t,ref:s},Vu()(ev,{className:Bht.a.underlay,to:n,"aria-label":Kqe(e)}),Vu()("div",{className:Bht.a.overlay},void 0,Vu()("div",{className:Bht.a.posterContainer},void 0,Vu()($Ke,{style:o},void 0,Vu()(vZe,{width:o.width,height:o.height},void 0,Hht))),Vu()("div",{className:Bht.a.titlesContainer},void 0,Vu()(mYe,{className:Bht.a.doubleTitle,metadataItem:e,allowLink:!1}))))}function Wht(e){let{item:t}=e,i=Xe()(e,["item"]);const n=rYe(null==t?void 0:t.sourceURI),a=tj(i),{cellIndex:s}=i;return t?Vu()(YKe,{metadataItem:t,metadataItemState:n},void 0,Vu()(_ht,{style:a.style,cellIndex:s,metadataItem:t})):Vu()(aXe,{style:a.style,index:s})}const Qht=Nd.a.createElement,{useCallback:Ght,useMemo:Kht}=Nd.a,Yht=parseInt(BV.v4PagePadding,10);function qht({className:e,items:t,totalSize:i,scrollerKey:n,targetScrollIndex:a,onPageRequest:s,onListReady:r}){const o=Kht(()=>xht({outerPaddingLeft:Yht}),[]),l=Ght(e=>{var t;return Vu()(Zb.a,{row:e.row},e.key,(null==(t=e.item)?void 0:t.isFolder)?Qht(Wht,e):Qht(Eht,e))},[]);return Vu()(ZO,{className:e,layout:o,cellComponentFactory:l,keyPropName:"listItemKey",items:t,totalSize:i,autoScroll:!1,scrollerKey:n,targetScrollIndex:a,onPageRequest:s,onListReady:r})}var Zht=i("381m"),Jht=i.n(Zht);const Xht=Nd.a.createElement,{useMemo:$ht}=Nd.a;function emt(e){let{item:t}=e,i=Xe()(e,["item"]);const{metricsContextTuple:n}=Object(Zb.d)(),[a,s,r]=Lg(),{containerType:o,containerSubtype:l,listStyle:c}=_Ke(),d=rYe(null==t?void 0:t.sourceURI),[u,p]=bS(),h=tj(i),m=$ht(()=>uYe(o,l,{listStyle:c}),[l,o,c]),g=$ht(()=>pYe({width:i.cellWidth,aspectRatio:m}),[m,i.cellWidth]);if(!t)return Vu()("div",{style:h.style},void 0,Vu()(iYe,{style:g,index:i.cellIndex}));const v=Xt(a,s,r,{pageType:t.type===Na.Hub?Ya.Hub:Ya.List,key:t.key,context:Object(Zb.b)(n)});return Vu()(YKe,{metadataItem:t,metadataItemState:d},void 0,Vu()("div",{style:h.style},void 0,Xht($Ke,{style:g,ref:p},Vu()(tC,{className:Jht.a.image,serverEntityID:a.entityID,providerEntityID:s.entityID,url:t.icon||t.thumb,width:g.width,height:g.height,component:JI,preloadOnMount:!1,animateOnMount:!1,backgroundSize:t.icon?"75%":"cover"}),Vu()(IZe,{isHovered:u,to:v,"aria-label":Kqe(t)}),t.type===Na.Directory?Vu()("div",{className:Jht.a.titleContainer},void 0,Vu()("span",{className:Jht.a.title},void 0,t.title)):null)))}const tmt=parseInt(BV.v4PagePadding,10),imt=parseInt(BV.v4CardTitleHeight,10),nmt=parseInt(BV.v4CardTitleGap,10),amt=parseInt(BV.gapMedium,10);function smt(e){let{listType:t,subtype:i,listStyle:n,displayFields:a,displayImages:s,columnWidth:r}=e,o=Xe()(e,["listType","subtype","listStyle","displayFields","displayImages","columnWidth"]);const l=uYe(t,i,{listStyle:n,displayImageType:Hqe(t,i,s)}),c=o.titleCount?o.titleCount:G$e(t,i,{listStyle:n,displayFields:a}),d=c?imt*c+nmt:0,u=l===16/9?2*r+amt:r,p=Math.floor(u/l+d);return bO(Object.assign({direction:vO.Vertical,getCellWidth:()=>u,getCellHeight:()=>p,innerHorizontalPadding:amt,innerVerticalPadding:amt,overscan:1,outerPaddingRight:tmt,outerPaddingLeft:tmt},o))}var rmt=function(e){switch(e){case Ha.Directory:case Ha.Content:case Ha.Channel:return!0;default:return!1}};const omt=Nd.a.createElement,{useCallback:lmt,useMemo:cmt}=Nd.a,dmt=parseInt(BV.v4PagePadding,10),umt=parseInt(BV.v4PagePaddingAlt,10),pmt=parseInt(BV.jumpBarGutter,10);function hmt({className:e,listType:t,subtype:i,items:n,totalSize:a,scrollerKey:s,targetScrollIndex:r,onPageRequest:o,onListReady:l}){const c=Object(Hu.d)(m0e),{containerMeta:d,listStyle:u}=_Ke(),p=cmt(()=>smt({listType:t,subtype:i,columnWidth:c,listStyle:u,displayFields:null==d?void 0:d.DisplayFields,displayImages:null==d?void 0:d.DisplayImage,outerPaddingTop:umt,outerPaddingBottom:umt,outerPaddingRight:dmt-pmt}),[t,i,c,u,null==d?void 0:d.DisplayFields,null==d?void 0:d.DisplayImage]),h=lmt(e=>Vu()(Zb.a,{row:e.row,column:e.column},e.key,rmt(t)?omt(emt,e):omt(Q$e,e)),[t]);return Vu()(ZO,{className:e,layout:p,cellComponentFactory:h,keyPropName:"listItemKey",items:n,totalSize:a,autoScroll:!1,scrollerKey:s,targetScrollIndex:r,onPageRequest:o,onListReady:l})}function mmt({className:e,metadataItem:t}){const i=WP(t);return i?Vu()("span",{className:e,title:i},void 0,i):null}var gmt=function(e){switch(e){case Na.Movie:return Object(Ze.default)("Movie");case Na.Show:return Object(Ze.default)("Show");case Na.Season:return Object(Ze.default)("Season");case Na.Episode:return Object(Ze.default)("Episode");case Na.Artist:return Object(Ze.default)("Artist");case Na.Album:return Object(Ze.default)("Album");case Na.Track:return Object(Ze.default)("Track");case Na.Photo:return Object(Ze.default)("Photo");case Na.PhotoAlbum:return Object(Ze.default)("Photo Album");case Na.Person:return Object(Ze.default)("Person");case Na.Clip:return Object(Ze.default)("Clip");case Na.Collection:return Object(Ze.default)("Collection");case Na.Game:return Object(Ze.default)("Game");case Na.Playlist:return Object(Ze.default)("Playlist")}!function(e){throw new Error('"'+e+'" is not mapped to a title')}(e)},vmt=i("OJ00"),ymt=i.n(vmt);const fmt=Nd.a.createElement;function bmt({metadataItem:e,metadataItemState:t,style:i,cellIndex:n}){const[a,s]=Lg(),r=cYe(null==e?void 0:e.sourceURI),o=hYe(e,"key"),l=Xt(a,s,null,{key:e.key}),{hoverRef:c,actionsMenuButtonID:d,isHovered:u,isActionsPending:p,isActionsVisible:h,isActionsMenuOpen:m,onActionsMenuClose:g,onActionsMenuCloseComplete:v,onActionsMenuToggle:y}=Gqe({server:a,provider:s,metadataItem:e,metadataItemState:t}),{type:f,subtype:b}=e,I=uYe(f,b),S=pYe({width:Uht(I),aspectRatio:I});return fmt(tXe,{isAlternate:!!(n%2),isHovered:u,style:i,ref:c},!e.directory&&o||e.directory?Vu()(ev,{className:ymt.a.underlay,to:e.directory?l:o,"aria-label":Kqe(e)}):null,Vu()("div",{className:ymt.a.overlay},void 0,Vu()("div",{className:ymt.a.summaryContainer},void 0,e.directory?Vu()("div",{className:ymt.a.posterContainer},void 0,Vu()($Ke,{style:S},void 0,Vu()(vZe,{width:S.width,height:S.height},void 0,Vu()(Ipt,{type:e.type})))):Vu()("div",{className:ymt.a.playPosterContainer},void 0,Vu()(z$e,{playCircleClassName:ymt.a.playCircle,metadataItem:e,metadataItemState:t,metadataTimelineState:r,width:S.width,height:S.height,aspectRatio:I,isSelectHidden:!0,isPlayButtonCard:!0})),Vu()("div",{className:ymt.a.titlesContainer},void 0,Vu()("div",{className:ymt.a.titleContainer},void 0,Vu()(mmt,{className:ymt.a.doubleTitle,metadataItem:e})),Vu()("div",{className:ymt.a.subtitle},void 0,function(e){if(e.directory)switch(e.type){case Na.Movie:return Object(Ze.default)("Movie Library");case Na.Show:return Object(Ze.default)("Show Library");case Na.Artist:return Object(Ze.default)("Music Library");case Na.Photo:return Object(Ze.default)("Photo Library")}return gmt(e.type)}(e))),h&&!e.directory?Vu()("div",{className:ymt.a.actions},void 0,Vu()($Xe,{id:d,className:ymt.a.actionsButton,"data-qa-id":"sharedItemMoreButton",isPending:p,onPress:y})):null)),Vu()(YXe,{target:d,isOpen:m,metadataItem:e,actionsOverride:{isPlayVisible:!1,isEditVisible:!1},onMenuClose:g,onMenuCloseComplete:v}))}function Imt(e){let{item:t}=e,i=Xe()(e,["item"]);const n=rYe(null==t?void 0:t.sourceURI),a=tj(i),{cellIndex:s}=i;return t?Vu()(YKe,{metadataItem:t,metadataItemState:n},void 0,Vu()(bmt,{style:a.style,cellIndex:s,metadataItem:t,metadataItemState:n})):Vu()(aXe,{style:a.style,index:s})}const Smt=Nd.a.createElement,{useCallback:Cmt,useMemo:Mmt}=Nd.a,Dmt=parseInt(BV.v4PagePadding,10);function Pmt({className:e,items:t,totalSize:i,scrollerKey:n,targetScrollIndex:a,onPageRequest:s,onListReady:r}){const o=Mmt(()=>xht({outerPaddingLeft:Dmt}),[]),l=Cmt(e=>Vu()(Zb.a,{row:e.row},e.key,Smt(Imt,e)),[]);return Vu()(ZO,{className:e,layout:o,cellComponentFactory:l,keyPropName:"listItemKey",items:t,totalSize:i,autoScroll:!1,scrollerKey:n,targetScrollIndex:a,onPageRequest:s,onListReady:r})}function Omt(e,t){var{playQueueItems:i,currentIndex:n}=e,a=t[i[n]];return null==a?void 0:a.metadataItem}function jmt(e,t){return Object(Wu.a)(({ui:e})=>{var t;return null==(t=e.audioVideoPlayer)?void 0:t.playQueue},({ui:e})=>{var t;return null==(t=e.photoPlayer)?void 0:t.playQueue},Lhe,(i,n,a)=>{if(!e)return!1;var s,r,o=Object(pt.a)(ht.g,e.key,t.entityID);return i&&(s=Omt(i,a)),n&&(r=Omt(n,a)),s===o||r===o})}var wmt=i("ogHR"),Tmt=i.n(wmt);function Emt({className:e=Tmt.a.decoratorIconContainer,iconClassName:t=Tmt.a.decoratorIcon,iconComponent:i}){return Vu()("span",{className:e},void 0,Vu()(i,{className:t}))}var Nmt=i("nc7K"),xmt=i.n(Nmt),Amt=Vu()(tf,{}),Lmt=Vu()(Emt,{iconComponent:PC});function kmt({className:e,metadataItem:t}){const{title:i,originalTitle:n}=t;return Vu()("span",{className:e},void 0,Vu()("span",{className:xmt.a.titleContainer},void 0,Vu()("span",{className:xmt.a.title,"data-qa-id":"trackName"},void 0,i,n?Vu()("span",{className:xmt.a.trackArtist},void 0,i?Amt:null,n):null),function(e){var{type:t,primaryExtraKey:i}=e;return t===Na.Track&&!!i}(t)?Lmt:null))}function Rmt({className:e,metadataItem:t}){const i=rYe(t.sourceURI);if(null==t.duration||null==i.viewOffset)return null;const n=(t.duration-i.viewOffset)/1e3;return Vu()("span",{className:e},void 0,$m(n))}function zmt({className:e,metadataItem:t}){const{duration:i,preview:n}=t;return n?Vu()("span",{className:e},void 0,Object(Ze.default)("Preview")):null!=i?Vu()("span",{className:e},void 0,BC(t.duration)):null}var Umt,Vmt={flexGrow:2,width:250};!function(e){e.Title="title",e.Season="season",e.SeasonShow="seasonShow",e.EpisodeShow="episodeShow",e.AlbumArtist="albumArtist",e.TrackAlbumArtist="trackAlbumArtist",e.CombinedTitleTrackArtist="combinedTitleTrackArtist",e.TrackAlbum="trackAlbum",e.Year="year",e.UserRating="userRating",e.MiniUserRating="miniUserRating",e.Duration="duration",e.MinutesLeft="minutesLeft",e.ViewCount="viewCount",e.AddedAt="addedAt",e.LastViewedAt="lastViewedAt",e.LastRatedAt="lastRatedAt",e.MediaBitrate="mediaBitrate",e.OriginallyAvailableAt="originallyAvailableAt",e.Rating="rating",e.ContentRating="contentRating",e.ViewOffset="viewOffset",e.MediaHeight="mediaHeight",e.Downloaded="downloaded"}(Umt||(Umt={}));var Bmt={key:Umt.Title,ascKey:"titleSort",descKey:"titleSort:desc",component:()=>mYe,style:Vmt},Fmt={key:Umt.Season,ascKey:"season.index,season.titleSort",descKey:"season.index:desc,season.titleSort",component:()=>mYe,style:Vmt},Hmt={key:Umt.SeasonShow,ascKey:"show.titleSort,index",descKey:"show.titleSort:desc,index",component:()=>nqe,style:Vmt},_mt={key:Umt.EpisodeShow,ascKey:"show.titleSort,season.index:nullsLast,episode.index:nullsLast,episode.originallyAvailableAt:nullsLast,episode.titleSort,episode.id",descKey:"show.titleSort:desc,season.index:nullsLast,episode.index:nullsLast,episode.originallyAvailableAt:nullsLast,episode.titleSort,episode.id",component:()=>$Ye,style:Vmt},Wmt={key:Umt.AlbumArtist,ascKey:"artist.titleSort,album.titleSort,album.index,album.id,album.originallyAvailableAt",descKey:"artist.titleSort:desc,album.titleSort,album.index,album.id,album.originallyAvailableAt",component:()=>nqe,style:Vmt},Qmt={key:Umt.TrackAlbumArtist,ascKey:"artist.titleSort,album.titleSort,album.year,track.absoluteIndex,track.index,track.titleSort,track.id",descKey:"artist.titleSort:desc,album.titleSort,album.year,track.absoluteIndex,track.index,track.titleSort,track.id",component:()=>$Ye,style:Vmt},Gmt={key:Umt.CombinedTitleTrackArtist,component:()=>kmt,style:Vmt},Kmt={key:Umt.TrackAlbum,ascKey:"album.titleSort",descKey:"album.titleSort:desc",component:()=>nqe,style:Vmt},Ymt={key:Umt.Year,ascKey:"year",descKey:"year:desc",component:()=>bqe,style:{width:100}},qmt={key:Umt.UserRating,ascKey:"userRating",descKey:"userRating:desc",component:()=>vqe,style:{width:115}},Zmt={key:Umt.MiniUserRating,component:()=>vqe,style:{width:75,padding:0}},Jmt={key:Umt.Rating,ascKey:"rating",descKey:"rating:desc",component:()=>KYe,style:{width:150}},Xmt={key:Umt.ContentRating,ascKey:"contentRating",descKey:"contentRating:desc",component:()=>GYe,style:{width:100}},$mt={key:Umt.Duration,ascKey:"duration",descKey:"duration:desc",component:(e,t)=>{switch(t){case Aa.Podcast:switch(e){case Na.Track:return YYe}}switch(e){case Na.Track:return zmt;default:return YYe}},style:{width:125}},egt={key:Umt.MinutesLeft,component:()=>Rmt,style:{width:150}},tgt={key:Umt.ViewCount,ascKey:"viewCount",descKey:"viewCount:desc",component:()=>aqe,style:{width:100}},igt={key:Umt.ViewOffset,ascKey:"viewOffset",descKey:"viewOffset:desc",component:()=>Rmt,style:{width:150}},ngt={key:Umt.AddedAt,ascKey:"addedAt",descKey:"addedAt:desc",component:()=>bYe,style:{width:175}},agt={key:Umt.LastViewedAt,ascKey:"lastViewedAt",descKey:"lastViewedAt:desc",component:()=>iqe,style:{width:175}},sgt={key:Umt.LastRatedAt,ascKey:"lastRatedAt",descKey:"lastRatedAt:desc",component:()=>tqe,style:{width:175}},rgt={key:Umt.OriginallyAvailableAt,ascKey:"originallyAvailableAt",descKey:"originallyAvailableAt:desc",component:()=>VYe,style:{width:175}},ogt={key:Umt.MediaBitrate,ascKey:"mediaBitrate",descKey:"mediaBitrate:desc",component:()=>FYe,style:{width:110}},lgt={key:Umt.MediaHeight,ascKey:"mediaHeight",descKey:"mediaHeight:desc",component:()=>yqe,style:{width:110}},cgt=[ngt,Wmt,Gmt,$mt,_mt,sgt,agt,ogt,Zmt,Fmt,Hmt,Bmt,Kmt,Qmt,egt,qmt,tgt,Ymt,Jmt,Xmt,igt,rgt,ogt,lgt],dgt=i("//Cn");const{useCallback:ugt}=Nd.a;var pgt=Vu()(ewe,{});function hgt({className:e,buttonClassName:t,buttonTabIndex:i,style:n,metadataItem:a,isActionsPending:s,isSelectionActive:r,menuButtonID:o,onMenuButtonPress:l}){const[c,d]=Lg(),u=rYe(a.sourceURI),p=Object(Hu.d)(IT),h=YZe({server:c,provider:d,metadataItem:a,metadataItemState:u}),m=mqe(a),g=IJe({server:c,provider:d,stableUser:p,metadataItem:a,metadataItemState:u}),v=ugt(()=>{m({action:Rd.w}),h(tae())},[h,m]);return Vu()("div",{className:e,style:n},void 0,!r&&g?Vu()(ev,{"data-qa-id":"metadataRowEditButton",className:t,tabIndex:i,"aria-label":Object(Ze.default)("Edit {title}",{title:Kqe(a)}),onPress:v},void 0,pgt):null,r?null:Vu()($Xe,{id:o,"data-qa-id":"metadataRowMoreButton",className:t,tabIndex:i,isPending:s,onPress:l}))}var mgt=i("smKM"),ggt=i.n(mgt);const vgt=Nd.a.createElement,{useCallback:ygt,useMemo:fgt,useRef:bgt}=Nd.a,Igt={width:parseInt(BV.actionsCellWidth,10),justifyContent:"flex-end",padding:"0 "+parseInt(BV.actionsCellPadding,10)+"px"};function Sgt({tableColumn:e,metadataItemState:t,isActionsVisible:i,isSelectionActive:n,isTransientColumn:a}){const{key:s,style:r}=e;return s===Zmt.key?Object.assign({},r,{opacity:n||!i&&null==t.userRating?0:1}):a?Object.assign({},r,Igt):r}function Cgt({style:e,cellIndex:t,index:i,metadataItem:n,metadataItemState:a,tableColumns:s,hasTransientActionsCell:r=!1}){const[o,l]=Lg(),c=Object(Hu.d)(IT),d=Object(Hu.d)(jmt(n,o)),u=Object(Hu.d)(Object(dgt.a)(A2e.a.AudioVideo,"isPaused")),{hoverRef:p,actionsMenuButtonID:h,isHovered:m,isActionsPending:g,isActionsVisible:v,isActionsMenuOpen:y,onActionsMenuClose:f,onActionsMenuCloseComplete:b,onActionsMenuToggle:I}=Gqe({server:o,provider:l,metadataItem:n,metadataItemState:a}),{isSelected:S,isInSelectionRange:C,isSelectionActive:M,onToggleSelect:D}=Fqe({isHovered:m,metadataItem:n,metadataItemState:a}),P=fgt(()=>C?ggt.a.rangeListRow:S?ggt.a.selectedListRow:void 0,[C,S]),O=bgt(null),j=s[s.length-1],w=j.component(n.type,n.subtype),T=ygt(()=>{D()},[D]),E=ygt(e=>{13===e.which&&n&&D()},[n,D]),[N,x,A]=u1e(),L=N||v,k=L&&cJe({server:o,provider:l,stableUser:c,metadataItem:n,metadataItemState:a}),R=L&&!M;return vgt(tXe,{className:P,alternateClassName:P,style:e,isAlternate:!!(t%2),isHovered:m||N,ref:p,onFocus:x,onBlur:A},s$e(l)?Vu()(yht,{isSelected:S,isInSelectionRange:C,isVisible:S||C||N||m,title:Kqe(n),tabIndex:M?-1:void 0,"aria-hidden":"true",onPress:T}):null,M?vgt(ev,{key:"focusLink",className:ggt.a.overlay,tabIndex:0,"aria-label":Object(Ze.default)("Select {title}",{title:Kqe(n)}),ref:O,onPress:M?T:void 0,onKeyPress:E}):null,Vu()("div",{className:ggt.a.playCell},void 0,!d&&!k||M?i:null,M||d||!k?null:Vu()(UZe,{tabIndex:0,metadataItem:n}),d&&!M?Vu()(SAe,{isPaused:u}):null),s.map((e,t)=>{if(t===s.length-1)return null;const{key:i,component:r}=e,o=r(n.type,n.subtype);return Vu()(Xdt,{className:(ggt.a.title||"")+" "+(t>0&&ggt.a.isSecondary||"")+" "+(M&&ggt.a.isSelectionActive||""),cellClassName:0===t?ggt.a.firstTableCell:void 0,style:Sgt({tableColumn:e,metadataItemState:a,isActionsVisible:L,isSelectionActive:M,isTransientColumn:!1}),tabIndex:M?"-1":void 0,component:o,metadataItem:n},i)}),be.a.allowSyncDownload?Vu()(jZe,{className:(ggt.a.downloadIcon||"")+" "+(!r&&ggt.a.outsideIcon||"")+" "+(R&&ggt.a.hiddenIcon||""),metadataItem:n}):null,r&&R?null:Vu()(Xdt,{className:(ggt.a.title||"")+" "+(ggt.a.isSecondary||"")+" "+(M&&ggt.a.isSelectionActive||""),cellClassName:void 0,style:Sgt({tableColumn:j,metadataItemState:a,isActionsVisible:L,isSelectionActive:M,isTransientColumn:r}),tabIndex:M?"-1":void 0,component:w,metadataItem:n}),!r||R?Vu()(hgt,{className:ggt.a.actionsCell,buttonClassName:ggt.a.actionsButton,style:Object.assign({},Igt,{opacity:L?1:0}),isActionsPending:g,isSelectionActive:M,metadataItem:n,menuButtonID:h,onMenuButtonPress:I},"actionsCell"):null,Vu()(YXe,{target:h,isOpen:y,metadataItem:n,onMenuClose:f,onMenuCloseComplete:b}))}function Mgt(e){let{item:t,index:i,tableColumns:n,hasTransientActionsCell:a}=e,s=Xe()(e,["item","index","tableColumns","hasTransientActionsCell"]);const r=rYe(null==t?void 0:t.sourceURI),o=tj(s),{cellIndex:l}=s;return t?Vu()(YKe,{metadataItem:t,metadataItemState:r},void 0,Vu()(Cgt,{style:o.style,cellIndex:l,index:i,metadataItem:t,metadataItemState:r,tableColumns:n,hasTransientActionsCell:a})):Vu()(aXe,{style:o.style,index:l})}var Dgt=parseInt(BV.tableRowHeight,10),Pgt=parseInt(BV.v4PagePadding,10);var Ogt,jgt=function(e){return ZJe(Object.assign({rowHeight:Dgt,outerPaddingRight:Pgt,outerPaddingLeft:Pgt},e))};!function(e){e.Up="up",e.Right="right",e.Down="down",e.Left="left"}(Ogt||(Ogt={}));var wgt=Ogt;var Tgt=function(e,t){return e?e.reduce((e,i)=>{var n=cgt.find(e=>i.key===e.ascKey&&i.descKey===e.descKey);return!n||t&&!t.includes(n.key)||e.push({sort:i,tableColumn:n}),e},[]):[]};var Egt=function(e){return e.active?e.activeDirection===$a.Ascending?e.descKey:e.key:e.defaultDirection===$a.Ascending?e.key:e.descKey};function Ngt(e){var t=e["aria-label"],i=e.className,n=e.style,a={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",id:"plex-icon-table-columns"};a["aria-hidden"]=!t,a.style=n,a.className=Ad.a.plexIcon+(i?" "+i:"");var s=[Nd.a.createElement.apply(Nd.a,["path",{clipRule:"evenodd",d:"M0 0H14V48H0V0ZM25 0H31V48H25V0ZM48 0H42V48H48V0Z"}].concat([]))];return t&&s.unshift(Nd.a.createElement("title",null,t)),Nd.a.createElement.apply(Nd.a,["svg",a].concat(s))}Ngt.propTypes={"aria-label":vc.a.string,className:vc.a.string,style:vc.a.object};var xgt=Ngt,Agt=i("Qy3a"),Lgt=i.n(Agt);const{useCallback:kgt,useMemo:Rgt}=Nd.a,zgt={placement:"top-start",modifiers:[{name:"offset",options:{offset:[5]}}]};var Ugt=Vu()(xgt,{});function Vgt({className:e=Lgt.a.tableHeader,width:t,activeTableColumnSorts:i,typeKeySourceURI:n,sorts:a}){const s=Object(Hu.c)(),r=cy(),o=Ffe(),{containerKey:l}=_Ke(),c=Rgt(()=>Tgt(a),[a]),d=Rgt(()=>zg("directoryTableColumns"),[]),u=Object(Hu.d)(d),p=kgt(e=>{const t=function(e,t){const i=new Set(t.map(({tableColumn:e})=>e.key));return i.has(e)?i.delete(e):i.add(e),Array.from(i)}(e,i);if(t.length<1)return;const a=Object.assign({},u,{[n]:t});Object(Ti.a)(()=>{s(Object(Qu.l)({directoryTableColumns:a}))})},[i,u,n,s]);return Vu()(Yut,{className:e,style:{width:t}},void 0,Vu()(ev,{id:r,className:Lgt.a.columnMenuButton,"aria-label":Object(Ze.default)("Change Columns"),size:yp.Medium,onPress:o.onToggle},void 0,Ugt,Vu()(fy,{direction:o.isOpen?wgt.Up:wgt.Down,size:yp.Medium})),i.map(({tableColumn:e,sort:t},i)=>Vu()(ipt,{style:e.style,to:Lpt({key:V.join(l,{sort:Egt(t)},{parseParams:!0})})},e.key,Vu()(Xut,{className:0===i?Lgt.a.firstTableHeaderCell:Lgt.a.tableHeaderCell,activeClassName:0===i?Lgt.a.firstActiveTableHeaderCell:Lgt.a.activeTableHeaderCell,isActive:t.active},void 0,Vu()(rpt,{title:t.title},void 0,t.title),t.active?Vu()(Wut,{isAscending:t.activeDirection===$a.Ascending}):null))),Vu()(Xut,{className:Lgt.a.actionsTableHeaderCell}),Vu()(Qv,{target:r,isOpen:o.isOpen,options:zgt,onMenuClose:o.onClose},void 0,c.map(({sort:e,tableColumn:t})=>{const n=i.find(({tableColumn:e})=>e===t);return Vu()(oy,{isSelected:!!n,value:t.key,onSelect:p},t.key,e.title)})))}var Bgt=function(e,t,i){return Object(Wu.a)(zg("directoryTableColumns"),i=>{if(!e)return[];var n=i[e];if(n)return n;switch(t){case Ha.Movie:return[Bmt.key,Ymt.key];case Ha.Show:return[Bmt.key];case Ha.Season:return[Fmt.key,Hmt.key];case Ha.Episode:return[Bmt.key,_mt.key];case Ha.Artist:return[Bmt.key];case Ha.Album:return[Bmt.key,Wmt.key,Ymt.key];case Ha.Track:return[Bmt.key,Qmt.key,Kmt.key,$mt.key]}return[Bmt.key]})};var Fgt=function(e,t){return Object(Wu.a)(Bgt(e,null==t?void 0:t.type,null==t?void 0:t.subtype),e=>(null==t?void 0:t.Sort)?Tgt(t.Sort,e):[])};const Hgt=Nd.a.createElement,{useCallback:_gt,useMemo:Wgt}=Nd.a,Qgt=parseInt(BV.v4PagePadding,10),Ggt=parseInt(BV.actionsCellWidth,10),Kgt=parseInt(BV.playCellWidth,10);function Ygt({className:e,activeType:t,items:i,totalSize:n,scrollerKey:a,targetScrollIndex:s,onPageRequest:r,onListReady:o}){const[l,c]=Lg(),d=Object(gs.a)({serverIdentifier:l.machineIdentifier,providerIdentifier:null==c?void 0:c.identifier}),u=t?""+d+t.key:void 0,p=Wgt(()=>Fgt(u,t),[t,u]),h=Object(Hu.d)(p),m=Wgt(()=>h.reduce((e,{tableColumn:t})=>e+t.style.width,Kgt+Ggt),[h]),g=Wgt(()=>jgt({overscan:1,outerPaddingRight:0,rowWidth:m}),[m]),v=_gt(e=>(null==t?void 0:t.Sort)&&u?Vu()(Vgt,{width:Math.max(Qgt+m,e.width),activeTableColumnSorts:h,typeKeySourceURI:u,sorts:t.Sort}):null,[m,t,u,h]),y=_gt(e=>Vu()(Zb.a,{row:e.row},e.key,Hgt(Mgt,tp()({tableColumns:h.map(({tableColumn:e})=>e)},e))),[h]);return Vu()(ZO,{className:e,layout:g,scrollDirection:cp.Omni,cellComponentFactory:y,keyPropName:"listItemKey",items:i,totalSize:n,autoScroll:!1,scrollerKey:a,targetScrollIndex:s,renderAboveList:v,onPageRequest:r,onListReady:o})}function qgt({className:e,listType:t,subtype:i,activeType:n,items:a,totalSize:s,scrollerKey:r,targetScrollIndex:o,onPageRequest:l,onListReady:c}){const{listStyle:d}=_Ke(),u=function(e){switch(e){case _a.Grid:return hmt;case _a.Details:return zht;case _a.Table:return Ygt;case _a.SharedItems:return Pmt;case _a.Folder:return qht}throw new Error("Failed to  map the directory list style to a list component. Check `selectDirectoryListStyle` for list style options")}(d);return Vu()(kqe,{items:a},void 0,Vu()(u,{className:e,listType:t,subtype:i,activeType:n,items:a,totalSize:s,scrollerKey:r,targetScrollIndex:o,onPageRequest:l,onListReady:c}))}var Zgt=function(e){var t;return null!=(t=null==e?void 0:e.find(e=>e.active))?t:null==e?void 0:e[0]};var Jgt=function(e,t){if(t<1||!e.length)return[];const{characters:i}=e.reduce((e,t,i)=>(e.characters.push(Object.assign({},t,{position:i,scrollIndex:e.scrollIndex})),e.scrollIndex+=t.size,e),{characters:[],scrollIndex:0}),n=[i[0],i[i.length-1]],a=Array.from(i).sort((e,t)=>t.size-e.size);return Array.from(new Set([...n,...a])).slice(0,t).sort((e,t)=>e.position-t.position)},Xgt=i("gmpS"),$gt=i.n(Xgt);const{useCallback:evt,useMemo:tvt}=Nd.a,ivt=parseInt(BV.jumpBarCharacterHeight,10),nvt=parseInt(BV.jumpBarMargin,10);function avt({className:e=$gt.a.character,scrollIndex:t,children:i,onCharacterPress:n}){const a=evt(()=>{n(t)},[t,n]);return Vu()(ev,{className:e,onPress:a},void 0,i)}function svt({className:e=$gt.a.jumpBar,activeType:t,viewportHeight:i,listTotalSize:n,onFirstCharacterScroll:a}){const s=Zgt(null==t?void 0:t.Sort),{firstCharacters:{items:r}}=Object(Hu.d)(wpt),o=tvt(()=>r?Jgt(r,Math.floor((i-2*nvt)/ivt)):[],[r,i]),l=!!(null==s?void 0:s.firstCharacterKey),c=o.length>=5;return s&&r&&(l&&c&&n>=75)?Vu()("div",{className:e},void 0,o.map(e=>Vu()(avt,{scrollIndex:e.scrollIndex,onCharacterPress:a},e.key,e.title))):null}var rvt={[Ha.Movie]:["isAddToPlaylistVisible","isAddToQueueVisible","isOptimizeVisible","isPlayVisible","isShuffleVisible"],[Ha.Show]:["isAddToPlaylistVisible","isAddToQueueVisible","isOptimizeVisible","isPlayVisible","isShuffleVisible"],[Ha.Season]:["isAddToPlaylistVisible","isAddToQueueVisible","isOptimizeVisible","isPlayVisible","isShuffleVisible"],[Ha.Episode]:["isAddToPlaylistVisible","isAddToQueueVisible","isOptimizeVisible","isPlayVisible","isShuffleVisible"],[Ha.Artist]:["isAddToPlaylistVisible","isAddToQueueVisible","isPlayVisible","isShuffleVisible"],[Ha.Album]:["isAddToPlaylistVisible","isAddToQueueVisible","isPlayVisible","isShuffleVisible"],[Ha.Track]:["isAddToPlaylistVisible","isAddToQueueVisible","isPlayVisible","isShuffleVisible"],[Ha.PhotoAlbum]:["isAddToPlaylistVisible","isPlayVisible","isShuffleVisible"],[Ha.Photo]:["isAddToPlaylistVisible","isPlayVisible","isShuffleVisible"]},ovt=({provider:e})=>!!as(e,Qa.PlayQueue),lvt={isAddToPlaylistVisible:({provider:e})=>!!as(e,Qa.Playlist),isAddToQueueVisible:ovt,isPlayVisible:ovt,isShuffleVisible:ovt,isOptimizeVisible:({server:e,provider:t})=>Jqe(t)&&e.isFullOwnedServer&&e.transcoderVideo};var cvt=i("uDqd"),dvt=i.n(cvt);function uvt({className:e=dvt.a.bar,children:t}){return Vu()("div",{className:e},void 0,t)}var pvt=i("W4O6"),hvt=i.n(pvt);const{useCallback:mvt}=Nd.a;function gvt({className:e,activeType:t,totalSize:i,listActions:n}){const a=Object(Hu.c)(),[s,r]=Lg(),{containerServer:o,containerProvider:l,containerKey:c}=_Ke(),{metricsPage:d,metricsContextTuple:u}=Object(Zb.d)(),p=hqe({identifier:r.metricsIdentifier,mode:"list",type:null==t?void 0:t.type,itemCount:i}),h=cy(),m=Ffe(),g=cy(),v=Ffe(),y=Ffe(),f=Object(gs.a)({serverIdentifier:s.machineIdentifier,providerIdentifer:r.identifier}),b=""+f+c,I=t?function(e){var t=ls(e.type);return t?BYe(t,e.subtype):void 0}(t):void 0,S=mvt(e=>{a(zx({server:o,provider:l,containerKey:c,metricsPage:d,metricsProperties:{contextTuple:u},legacyAction:e}))},[a,o,l,c,d,u]),C=mvt(()=>{p({action:Rd.M}),S(xT.x({options:{type:I}}))},[p,I,S]),M=mvt(()=>{S(xT.B({options:{type:I}})),p({action:Rd.gb})},[p,I,S]),D=mvt(()=>{p({action:Rd.d}),S(xT.r({options:{playAll:!0,next:!1,type:I}})),m.onClose()},[p,m,I,S]),P=mvt(()=>{p({action:Rd.P}),S(xT.r({options:{playAll:!0,next:!0,type:I}})),m.onClose()},[p,m,I,S]),O=mvt(()=>{p({action:Rd.I}),S(Ex()),m.onClose()},[p,m,S]),j=mvt(()=>{p({action:Rd.c,mode:"shortcut"})},[p]),w=mvt(()=>{p({action:Rd.c,mode:"shortcut"})},[p]);return Vu()(uvt,{className:e},void 0,n.isPlayVisible?Vu()(T2e,{tooltipClassName:hvt.a.tooltip,icon:r4e,title:Object(Ze.default)("Play"),tooltipAttachment:"bottomCenter",onPress:C}):null,n.isShuffleVisible?Vu()(T2e,{tooltipClassName:hvt.a.tooltip,icon:y8e,title:Object(Ze.default)("Shuffle"),tooltipAttachment:"bottomCenter",onPress:M}):null,n.isAddToPlaylistVisible?Vu()(T2e,{id:g,tooltipClassName:hvt.a.tooltip,icon:oAe,title:Object(Ze.default)("Add to Playlist"),tooltipAttachment:"bottomCenter",onPress:v.onToggle}):null,n.isAddToQueueVisible||n.isOptimizeVisible?Vu()(T2e,{id:h,tooltipClassName:hvt.a.tooltip,icon:a4e,title:Object(Ze.default)("More"),tooltipAttachment:"bottomCenter",onPress:m.onToggle}):null,Vu()(Qv,{className:hvt.a.menu,isOpen:m.isOpen,target:h,onMenuClose:m.onClose},void 0,n.isAddToQueueVisible?Vu()(Zv,{onPress:P},void 0,Object(Ze.default)("Play Next")):null,n.isAddToQueueVisible?Vu()(Zv,{onPress:D},void 0,Object(Ze.default)("Add to Queue")):null,n.isOptimizeVisible?Vu()(Zv,{onPress:O},void 0,Object(Ze.default)("Optimize...")):null),n.isAddToPlaylistVisible&&I?Vu()(Qv,{className:hvt.a.menu,isOpen:v.isOpen,target:g,onMenuClose:v.onClose},void 0,Vu()(zJe,{sourceURI:b,playlistType:I,onPlaylistSave:j,onAddToPlaylistPress:y.onOpen,onMenuClose:v.onClose})):null,n.isAddToPlaylistVisible&&I?Vu()(OXe,{isOpen:y.isOpen,playlistType:I,sourceURI:b,defaultDestinationSource:f,defaultPlaylistTitle:Object(Ze.default)("Music"),onModalClose:y.onClose,onPlaylistSave:w}):null)}var vvt=i("oRFc"),yvt=i.n(vvt);const fvt=Nd.a.createElement;function bvt(e){let{className:t=yvt.a.disclosureArrowLink,arrowClassName:i=yvt.a.disclosureArrow,direction:n=wgt.Down,size:a=yp.Large,kind:s,children:r}=e,o=Xe()(e,["className","arrowClassName","direction","size","kind","children"]);return fvt(ev,tp()({className:(t||"")+" "+(yvt.a[a]||""),"aria-haspopup":!0,kind:s,size:a},o),r,Vu()(fy,{className:(i||"")+" "+(yvt.a[n]||"")+" "+(yvt.a[a]||""),direction:n,kind:s,size:a}))}var Ivt=i("Jjk7"),Svt=i.n(Ivt);const{useCallback:Cvt}=Nd.a;function Mvt({children:e,filterKey:t,isPending:i,isSelected:n,onFilterSelect:a}){const s=Cvt(()=>{a(t)},[t,a]);return Vu()(Zv,{className:n?Svt.a.isSelected:void 0,onPress:s},void 0,Vu()("span",{className:Svt.a.menuItemContainer},void 0,Vu()("span",{className:Svt.a.menuLabel},void 0,e),i?Vu()(Ip,{className:Svt.a.spinner,size:yp.Small}):null,!i&&n?Vu()("span",{className:Svt.a.selectedIcon},void 0,Vu()(ay,{"aria-label":Object(Ze.default)("Selected")})):null))}var Dvt=function(e){return Object(Wu.a)(wpt,t=>t.filterOptions[e])};var Pvt=function(e,t,i){const n=[...e];for(let i=0;i<e.length;i++){e[i].filter.filterType===Xa.Boolean===(t.filterType===Xa.Boolean)&&n.splice(i,1)}return Dpt(n,{filter:t,operator:Ppt.Equal,value:i})};var Ovt=function(e,t,i){return!!e.find(e=>e.filter.filter===t.filter&&(null==i||e.value===i))};var jvt=function(e,t,i){return e.filter(e=>!(e.filter.filter===t.filter&&(null==i||e.value===i)))};var wvt=function(e,t){const i=t.reduce((e,t)=>(t.filter.filterType===Xa.Boolean?e[t.filter.filter]=t.value?"1":"0":"string"==typeof t.value&&(e[t.filter.filter]=t.value),e),{});return V.join(e,i)},Tvt=i("oz32"),Evt=i.n(Tvt);const Nvt=Nd.a.createElement,{Fragment:xvt,useCallback:Avt,useMemo:Lvt,useState:kvt}=Nd.a;var Rvt=Vu()(Q$,{});function zvt({typeKey:e,directoryKey:t,pendingFilterKey:i,filters:n,activeFilterRules:a,onClose:s,onFilterSelect:r}){const[o,l]=function(e){return e.reduce((e,t)=>(t.filterType===Xa.Boolean?e[0].push(t):e[1].push(t),e),[[],[]])}(n),c=Rpt(s);return Vu()(up,{className:Evt.a.menuScroller,autoScroll:!0},void 0,Vu()(oy,{to:Lpt({key:e}),isSelected:!a.length,onPress:c},"all",Object(Ze.default)("All")),o.map(e=>{const i=Ovt(a,e);return Vu()(oy,{isSelected:i,to:Lpt({key:wvt(t,i?jvt(a,e):Pvt(a,e,!0))}),onPress:c},e.key,e.title)}),o.length?Rvt:null,l.map(e=>Vu()(Mvt,{filterKey:e.key,isSelected:Ovt(a,e),isPending:i===e.key,onFilterSelect:r},e.key,e.title)))}var Uvt=Vu()(Q$,{});function Vvt({directoryKey:e,selectedFilter:t,filterOptions:i,activeFilterRules:n,height:a,onFilterDeselect:s}){const r=kvt(""),o=r[1],l=r[0],c=i.find(e=>Ovt(n,t,e.value)),d=Rpt(),u=Avt(e=>{o(e.target.value)},[]);return Vu()("div",{className:Evt.a.filterOptionsContainer,style:{height:Math.max(a,356)},"data-qa-id":"secondFiltersList"},void 0,Vu()("div",{className:Evt.a.headerContainer},void 0,Vu()("div",{className:Evt.a.header,"data-qa-id":"filterHeader"},void 0,Vu()("div",{className:Evt.a.headerTitle},void 0,Vu()(ev,{"data-qa-id":"previousFilters",onPress:s},void 0,Vu()(yO,{className:Evt.a.backIcon,"aria-label":Object(Ze.default)("Back")}),Vu()("span",{className:Evt.a.filterText},void 0,t.title))),i.length>12?Vu()(cz,{className:Evt.a.searchInput,name:"filterOptionQuery",placeholder:Object(Ze.default)("Filter {filterTitle}",{filterTitle:t.title}),value:l,onChange:u}):null),Uvt),i.length?Vu()(up,{className:Evt.a.filterOptionsScroller,autoScroll:!0},void 0,c?Vu()(oy,{isSelected:!0,to:Lpt({key:wvt(e,jvt(n,t))}),className:Evt.a.selectedMenuItem,onPress:d},c.key,c.title):null,i.map(i=>{if(i===c||!i.title.toLowerCase().includes(l.toLowerCase()))return null;const a=Ovt(n,t,i.value);return Vu()(oy,{className:Evt.a.selectedMenuItem,isSelected:a,to:Lpt({key:wvt(e,Pvt(n,t,i.value))}),onPress:d},i.key,i.title)})):Vu()("div",{className:Evt.a.emptyText},void 0,Object(Ze.default)("No options")))}function Bvt({className:e,directoryKey:t,type:i}){const[n,a]=Lg(),s=Object(Hu.c)(),r=kvt(),o=r[1],l=r[0],[c,{height:d}]=Object(Kb.a)(),u=cy(),{isOpen:p,onToggle:h,onClose:m}=Ffe(),g=null==i?void 0:i.Filter,v=Lvt(()=>Npt(t),[t]),y=Object(Hu.d)(v),f=Lvt(()=>l?Dvt(l):()=>{},[l]),b=Object(Hu.d)(f),I=Lvt(()=>null==g?void 0:g.find(e=>e.key===l),[l,g]),S=Lvt(()=>({scrollDirection:Zp}),[]),C=Avt(e=>{o(e),s(cr.actions.fetchFilterOptionsRequested({server:n,provider:a,key:e}))},[s,a,n]),M=Avt(()=>{o(void 0)},[]),D=Avt(()=>{o(void 0),m()},[m]);if(!i||!g||!y)return null;const{strippedKey:P,filterRules:O}=y;return Vu()(xvt,{},void 0,Vu()(bvt,{className:e,id:u,direction:p?wgt.Up:wgt.Down,onPress:h},void 0,O.length?O.map(e=>e.filter.title).join(", "):Object(Ze.default)("All")),Vu()(Qv,{target:u,isOpen:p,size:_h,scrollerProps:S,onMenuClose:D},void 0,Nvt("div",{className:Evt.a.measureContainer,ref:c},(null==b?void 0:b.isPopulated)&&I?Vu()(Vvt,{height:d,directoryKey:P,selectedFilter:I,activeFilterRules:O,filterOptions:b.options,onFilterDeselect:M}):Vu()(zvt,{typeKey:i.key,directoryKey:P,pendingFilterKey:(null==b?void 0:b.isPending)?l:void 0,filters:g,activeFilterRules:O,onClose:D,onFilterSelect:C}))))}const{Fragment:Fvt}=Nd.a;function Hvt({className:e,directoryKey:t,sorts:i}){const n=cy(),{isOpen:a,onToggle:s,onClose:r}=Ffe(),o=Zgt(i),l=Rpt(r);return!i||!o||i.length<2?null:Vu()(Fvt,{},void 0,Vu()(bvt,{className:e,id:n,direction:a?wgt.Up:wgt.Down,onPress:s},void 0,Object(Ze.default)("By {sortTitle}",{sortTitle:o.title})),Vu()(Qv,{target:n,isOpen:a,onMenuClose:r},void 0,i.map(e=>Vu()(oy,{to:Lpt({key:V.join(t,{sort:Egt(e)},{parseParams:!0})}),isSelected:e.active,iconComponent:e.activeDirection===$a.Ascending?Uut:But,onPress:l},e.key,e.title))))}const{Fragment:_vt}=Nd.a;function Wvt({className:e,activeType:t,types:i}){const n=cy(),{isOpen:a,onToggle:s,onClose:r}=Ffe(),o=Rpt(r);return!i||!t||i.length<2?null:Vu()(_vt,{},void 0,Vu()(bvt,{className:e,id:n,direction:a?wgt.Up:wgt.Down,onPress:s},void 0,t.title),Vu()(Qv,{target:n,isOpen:a,onMenuClose:r},void 0,i.map(e=>Vu()(oy,{to:Lpt({key:e.key}),isSelected:t===e&&e.active,onPress:o},e.key,e.title))))}var Qvt=i("j5p2"),Gvt=i.n(Qvt);const{useMemo:Kvt}=Nd.a;var Yvt=Vu()(Kte,{});function qvt({className:e=Gvt.a.gutter,buttonClassName:t=Gvt.a.resetButton}){const{containerKey:i}=_Ke(),n=Kvt(()=>Npt(i),[i]),a=Object(Hu.d)(n),s=Rpt();return(null==a?void 0:a.filterRules.length)?Vu()(hrt,{className:e},void 0,Vu()(D$,{className:t,tooltip:Object(Ze.default)("Clear Filter"),to:Lpt({key:a.strippedKey}),onPress:s},void 0,Yvt)):null}var Zvt=i("R1OT"),Jvt=i.n(Zvt);const{useMemo:Xvt}=Nd.a;var $vt=Vu()(qvt,{});function eyt({className:e=Jvt.a.pageHeader,directoryKey:t,meta:i,activeType:n,totalSize:a}){var s,r,o,l,c,d;const[u,p]=Lg(),{listStyle:h}=_Ke(),m=Xvt(()=>function({server:e,provider:t,activeType:i}){var n=i?rvt[i.type]:void 0;return n?n.reduce((n,a)=>{var s=lvt[a];return n[a]=!!(e&&t&&i)&&s({server:e,provider:t,activeType:i}),n},{}):{}}({server:u,provider:p,activeType:n}),[n,p,u]),g=Xvt(()=>rs(m).some(e=>e),[m]),v=null!=(s=null==i||null==(r=i.Type)?void 0:r.length)?s:0,y=null!=(o=null==n||null==(l=n.Filter)?void 0:l.length)?o:0,f=null!=(c=null==n||null==(d=n.Sort)?void 0:d.length)?c:0;return!i||v<=1&&y<1&&f<=1?null:Vu()(Z2e,{className:e},void 0,Vu()(drt,{},void 0,$vt,Vu()(Bvt,{className:Jvt.a.disclosureArrowLink,directoryKey:t,type:n}),Vu()(Wvt,{className:Jvt.a.disclosureArrowLink,activeType:n,types:null==i?void 0:i.Type}),h!==_a.Table?Vu()(Hvt,{className:Jvt.a.disclosureArrowLink,directoryKey:t,sorts:null==n?void 0:n.Sort}):null,Vu()(jct,{},void 0,a)),g?Vu()(Tst,{},void 0,Vu()(gvt,{activeType:n,listActions:m,totalSize:a})):null)}var tyt=zg("savedDirectoryListKeys");var iyt=Object(vg.a)((function(e,t,i){return Object(Wu.a)(tyt,n=>{var a=i?Object(gs.a)({serverIdentifier:e,providerIdentifier:t,metadataItemKey:i}):void 0;return a?n[a]:void 0})})),nyt=Object(Wu.a)(wpt,g0e,({metadataListSourceURI:e},t)=>e?t[e]:void 0);const{useEffect:ayt}=Nd.a;var syt=function({machineIdentifier:e,providerIdentifier:t,directoryKey:i,meta:n,activeType:a,selectedPivot:s}){const r=Object(Hu.c)(),o=Object(Hu.d)(nyt),l=Object(Hu.d)(tyt),c=Object(Hu.d)(iyt(e,t,null==s?void 0:s.key)),d=i||(null!=c?c:null==s?void 0:s.key),u=(null==s?void 0:s.key)?Object(gs.a)({serverIdentifier:e,providerIdentifier:t,metadataItemKey:null==s?void 0:s.key}):void 0;return ayt(()=>{!(u&&d&&s&&s.type===Ya.List&&c!==d)||s.key===d&&null==c||!(null==o?void 0:o.isPopulated)||(null==n?void 0:n.Pivot)||(null==a?void 0:a.type)===Ha.Folder&&(null==a?void 0:a.key)!==d||r(Object(Qu.l)({savedDirectoryListKeys:Object.assign({},l,{[u]:d})}))},[null==o?void 0:o.isPopulated,d,r,u,c,l,s,null==n?void 0:n.Pivot,null==a?void 0:a.type,null==a?void 0:a.key]),d};var ryt=function(e){return Object(Wu.a)(Tpt,t=>{var i=t?cs(t):void 0;if(!i||!e)return[_a.Grid];if(function(e){var{providerIdentifier:t}=Object(sr.a)(e);return jt.k(t,[jt.c,jt.b])}(e))return[_a.Grid];if(i.type===Ha.Folder)return[_a.Folder];switch(i.subtype){case Aa.Webshow:switch(i.type){case Ha.Show:case Ha.Episode:return[_a.Grid]}break;case Aa.Podcast:switch(i.type){case Ha.Show:return[_a.Grid];case Ha.Track:return[_a.Table]}}switch(i.type){case Ha.Movie:case Ha.Show:case Ha.Album:case Ha.Episode:return[_a.Grid,_a.Details,_a.Table];case Ha.Artist:case Ha.Season:return[_a.Grid,_a.Table];case Ha.Track:return[_a.Table];default:return[_a.Grid]}})};var oyt=function(e){return Object(Wu.a)(zg("directoryListStyles"),ryt(e),(t,i)=>{if(e&&i.length){var n=t[e];return!!n&&i.includes(n)?n:i[0]}})},lyt=Object(Wu.a)(Ept,e=>e?Zgt(e.Sort):void 0);var cyt=Object(vg.a)((function(e){return Object(Wu.a)(lyt,Npt(e),(e,t)=>t&&(null==e?void 0:e.firstCharacterKey)?V.join(wvt(e.firstCharacterKey,t.filterRules),{sort:e.activeDirection===$a.Ascending?e.key:e.descKey,includeCollections:1,includeExternalMedia:1},{parseParams:!0}):void 0)})),dyt=i("tXoW"),uyt=i.n(dyt);const pyt=Nd.a.createElement,{Fragment:hyt,useCallback:myt,useEffect:gyt,useMemo:vyt,useState:yyt}=Nd.a;var fyt=Vu()(vpt,{}),byt=Vu()(SKe,{}),Iyt=Vu()(gp,{},void 0,Vu()(Ip,{})),Syt=Vu()(y4e,{});function Cyt({sourceURI:e,directoryKey:t,selectedPivot:i,listStyle:n}){var a;const s=Object(Hu.c)(),[r,o]=Lg(),[l,{height:c}]=Object(Kb.a)(),{meta:d,metadataListSourceURI:u,firstCharacters:p}=Object(Hu.d)(wpt),h=Object(Hu.d)(nyt),m=d?cs(d):void 0,g=null!=(a=null==m?void 0:m.type)?a:Ha.Mixed,v=null==m?void 0:m.subtype,y=syt({machineIdentifier:r.machineIdentifier,providerIdentifier:o.identifier,directoryKey:t,meta:d,activeType:m,selectedPivot:i}),f=vyt(()=>y?V.join(y,{includeCollections:1,includeExternalMedia:1}):void 0,[y]),b=Object(Hu.d)(cyt(f)),I=yyt(),S=I[1],C=I[0],M=vyt(()=>oyt(e),[e]),D=Object(Hu.d)(M),P=null!=n?n:D,O=Object(Hu.d)(E2e),j=myt(e=>{u&&s(Ts.actions.fetchRangeRequested(Object.assign({},e,{server:r,provider:o,sourceURI:u,key:f})))},[s,r,o,u,f]),w=myt(()=>{u&&s(Ts.actions.repopulateRangeRequested({server:r,provider:o,sourceURI:u,key:f}))},[f,s,u,o,r]),T=myt(e=>{S(e)},[]);return nI({},!!(null==h?void 0:h.isPopulated)),qpt(w),gyt(()=>(e!==u&&f&&s(cr.actions.initializeListRequested({server:r,provider:o,sourceURI:e,key:f})),()=>{u&&Object(Ti.a)(()=>{s(Ts.actions.reset({sourceURI:u}))})}),[s,f,u,e]),gyt(()=>{b&&s(cr.actions.fetchFirstCharactersRequested({server:r,provider:o,key:b}))},[s,r,o,b,null==h?void 0:h.totalSize]),gyt(()=>{null!=C&&S(void 0)},[C]),y?(null==h?void 0:h.error)?byt:h&&null!=h.totalSize&&(null==b||(null==p?void 0:p.isPopulated)||(null==p?void 0:p.error))&&(h.isPopulated||h.error)?Vu()(WKe,{containerServer:r,containerProvider:o,containerSourceURI:e,containerType:g,containerSubtype:v,containerMeta:d,containerKey:f,listStyle:P},void 0,O?Syt:Vu()(eyt,{totalSize:h.totalSize,meta:d,directoryKey:y,activeType:m}),Vu()(G_,{serverEntityID:r.entityID,providerEntityID:o.entityID}),pyt("div",{className:uyt.a.listContainer,ref:l},c?Vu()(hyt,{},void 0,0===h.totalSize?Vu()(Wpt,{directoryKey:y,selectedPivot:i}):Vu()(qgt,{className:uyt.a.pageContentScroller,listType:g,subtype:v,activeType:m,items:h.items,totalSize:h.totalSize,scrollerKey:"DirectoryListPage",targetScrollIndex:C,onPageRequest:j})):null,m&&c?Vu()(svt,{activeType:m,viewportHeight:c,listTotalSize:h.totalSize,onFirstCharacterScroll:T}):null)):Iyt:fyt}var Myt=i("LtKR"),Dyt=i.n(Myt);function Pyt(){return Vu()(gp,{title:Object(Ze.default)("Sign up for a free account to continue"),description:Object(Ze.default)("Some benefits to a Plex account:")},void 0,Vu()("div",{className:Dyt.a.container},void 0,Vu()("div",{className:Dyt.a.panel},void 0,Vu()(Nrt,{className:Dyt.a.panelIcon}),Vu()("div",{className:Dyt.a.panelTitle},void 0,Object(Ze.default)("One App, Any Device")),Vu()("div",{className:Dyt.a.panelDescription},void 0,Object(Ze.default)("Pick up whatever you were watching exactly where you left off on any device"))),Vu()("div",{className:Dyt.a.panel},void 0,Vu()(iwe,{className:Dyt.a.panelIcon}),Vu()("div",{className:Dyt.a.panelTitle},void 0,Object(Ze.default)("Save Your Favorites")),Vu()("div",{className:Dyt.a.panelDescription},void 0,Object(Ze.default)("Save your favorite Podcasts and Web Shows. Add a TIDAL subscription to save your favorite music and playlists"))),Vu()("div",{className:Dyt.a.panel},void 0,Vu()(Art,{className:Dyt.a.panelIcon}),Vu()("div",{className:Dyt.a.panelTitle},void 0,Object(Ze.default)("Parental Controls")),Vu()("div",{className:Dyt.a.panelDescription},void 0,Object(Ze.default)("Enable parental controls to keep things kid-friendly, or create separate accounts for your childish roommates")))),Vu()(sh,{},void 0,Vu()(iD,{to:"#!/signUp",kind:Qg.Primary,size:yp.Large},void 0,Object(Ze.default)("Sign Up"))))}var Oyt=i("PuYh"),jyt=i.n(Oyt);const{Fragment:wyt}=Nd.a;var Tyt;function Eyt({overrideTitle:e,overrideDetail:t}){const[i,n,a]=Lg(),s=Object(Hu.d)(zg("allSavedPivotParams")),r=cy(),o=Ffe(),l=JQ(n,a),c=a?nte({sourceType:l?l.key:null,sourceServer:i,sourceProvider:n,sourceDirectory:a}):void 0,d=e||function(e,t,i){return t.isEmbedded?Object(Ze.default)("Downloads"):e?e.title:t.isCloud?i.title:E5(t)}(a,i,n),u=t||function(e,t){return t.isCloud?null==e?void 0:e.providerSourceTitle:t.isEmbedded?void 0:t.isFullOwnedServer?e?e.serverFriendlyName:void 0:e?e.serverSourceTitle+"  "+e.serverFriendlyName:T5(t)}(c,i),p=i.isEmbedded?kpe(null==s?void 0:s.downloads):Xt(i,n,a,a?void 0:{key:"/hubs",pageType:xt});return Vu()("div",{className:jyt.a.container},void 0,i.isEmbedded?Vu()("div",{className:jyt.a.noButton}):Vu()(wyt,{},void 0,Vu()(p8e,{className:jyt.a.tooltipButton,id:r,iconComponent:R8e,label:Object(Ze.default)("Actions"),isMenuOpen:o.isOpen,onPress:o.onToggle}),Vu()(Ltt,{target:r,serverEntityID:i.entityID,providerEntityID:n.entityID,source:c,isOverflowMenuOpen:o.isOpen,onOverflowMenuClose:o.onClose})),Vu()(o9e,{title:d,detail:u,route:p}))}!function(e){e.Dvr="dvr",e.Episode="episode",e.Home="home",e.Movies="movies",e.Music="music",e.News="news",e.Photos="photos",e.Playlists="playlists",e.Podcasts="podcasts",e.Tv="tv",e.Videos="videos",e.Webshows="webShows",e.Shared="shared"}(Tyt||(Tyt={}));var Nyt=i("Ln5r"),xyt=i.n(Nyt);const Ayt=Nd.a.createElement;function Lyt(e){let{className:t=xyt.a.button,selectedClassName:i=xyt.a.selectedButton,isSelected:n,children:a}=e,s=Xe()(e,["className","selectedClassName","isSelected","children"]);return Ayt(iD,tp()({className:n?i:t,size:yp.Large},s),a)}var kyt=i("CuR8"),Ryt=i.n(kyt);const zyt={placement:"bottom-start",modifiers:[{name:"offset",options:{offset:[parseInt(BV.pageHeaderTabButtonLeftRightMargin,10)]}}]};function Uyt({pivots:e,selectedPivot:t,onPivotPress:i}){var n;const[a,s,r]=Lg(),o=cy(),l=Ffe();return Vu()("div",{id:o,className:Ryt.a.container,"data-qa-id":"tabDropDown"},void 0,Vu()(Lyt,{className:Ryt.a.button,isSelected:!!t,onPress:l.onToggle},void 0,Vu()("div",{className:Ryt.a.buttonContents},void 0,Vu()("div",{className:Ryt.a.title},void 0,null!=(n=null==t?void 0:t.title)?n:e[0].title),Vu()(fy,{className:(Ryt.a.disclosureArrow||"")+" "+(!!t&&Ryt.a.isSelected||""),direction:l.isOpen?hy:my}))),Vu()(Qv,{isOpen:l.isOpen,target:o,options:zyt,onMenuClose:l.onClose},void 0,e.map((e,n)=>{const o=Rst(a,s,r,e);return o?Vu()(oy,{to:o,value:e.key,isSelected:e===t,onPress:i},n,e.title):null})))}var Vyt=i("+LVH"),Byt=i.n(Vyt);const Fyt=Nd.a.createElement,{useCallback:Hyt,useEffect:_yt,useMemo:Wyt,useState:Qyt}=Nd.a;function Gyt({pivots:e,selectedPivot:t}){const[i,n,a]=Lg(),[s,{width:r}]=Object(Kb.a)(),[o,{width:l}]=Object(Kb.a)(),c=Qyt(l),d=c[1],u=c[0],p=l||u,h=Wyt(()=>e.filter(e=>!kst(e)),[e]),m=h.length<2,g=h.length>1&&p>r,v=hqe({identifier:n.metricsIdentifier,origin:"tabChange"}),y=Rpt(Hyt(()=>{v({action:Rd.eb})},[v]));return _yt(()=>{l&&d(l)},[l]),m?null:Fyt("div",{className:Byt.a.pageHeaderCenter,ref:s},g?Vu()(Uyt,{pivots:h,selectedPivot:t,onPivotPress:y}):Fyt("div",{ref:o},h.map((e,s)=>{const r=Rst(i,n,a,e);return r?Vu()(Lyt,{to:r,isSelected:e===t,onPress:y},s,e.title):null})))}var Kyt=Object(Wu.a)(wpt,e=>e.title),Yyt=i("cifS"),qyt=i.n(Yyt);const{useCallback:Zyt,useMemo:Jyt}=Nd.a;function Xyt({sourceURI:e,selectedPivot:t}){var i;const n=Object(Hu.c)(),[,,a]=Lg(),s=Object(Hu.d)(Tpt),r=null!=(i=null==s?void 0:s.Pivot)?i:null==a?void 0:a.pivots,o=Object(Hu.d)(Kyt),l=Object(Hu.d)(zg("prePlayListStyles")),c=Jyt(()=>oyt(e),[e]),d=Object(Hu.d)(c),u=Jyt(()=>ryt(e),[e]),p=Object(Hu.d)(u),h=Zyt(t=>{if(!e)return;const i=Object.assign({},l,{[e]:t});Object(Ti.a)(()=>{n(Object(Qu.l)({directoryListStyles:i}))})},[n,l,e]);return Vu()(Pst,{className:qyt.a.pageHeader},void 0,Vu()(drt,{},void 0,Vu()(Eyt,{overrideTitle:o})),r&&t?Vu()(Gyt,{pivots:r,selectedPivot:t}):null,Vu()(Tst,{},void 0,Vu()(M2e,{listStyles:p,selectedListStyle:d,onListStyleSelect:h})))}var $yt=zg("lastSourcePivots"),eft=zg("shouldSaveLastSourcePivots");var tft=Object(vg.a)((function(e,t,i){return Object(Wu.a)($yt,eft,(n,a)=>{if(a)return n[Object(Zc.a)(e,t,i)]})}));var ift=function(e=[],t){return e.find(e=>e.id?e.id===t||e.key===t:!!e.key&&e.key===t)};const{useEffect:nft}=Nd.a;var aft=function({machineIdentifier:e,providerIdentifier:t,contentDirectoryID:i,pageType:n,pivotID:a}){const s=Object(Hu.c)(),r=Object(Hu.d)(Tpt),o=Object(Hu.d)(Pg(e,t,i)),l=Object(Hu.d)(eft),c=Object(Hu.d)($yt),d=Object(Hu.d)(tft(e,t,i));let u;var p,h;n?u=null==r||null==(p=r.Pivot)?void 0:p.find(e=>e.active):(u=ift(null==o?void 0:o.pivots,a),u||(u=d?ift(null==o?void 0:o.pivots,d):null==o||null==(h=o.pivots)?void 0:h[0]));const m=i?Object(Zc.a)(e,t,i):void 0;return nft(()=>{l&&m&&u&&d!==u.key&&null==n&&s(Object(Qu.l)({lastSourcePivots:Object.assign({},c,{[m]:u.key})}))},[s,d,c,a,n,u,l,m]),u},sft=i("NoME"),rft=i("piIK");var oft=xe.a.extend({name:"CalendarModel",context:["server"],url:"/media/subscriptions/scheduled",sessionAttrs:{visibleDays:Ae.a.integer,time:Ae.a.integer},syncedRelations:{scheduled:{relationClass:RPe.default,rootPropertyName:"MediaGrabOperation"}},derivedAttrs:{startTime(){const e=this.get("visibleDays"),t=Object($c.a)(this.get("time"));let i=Object(Jy.a)(t);return e>1&&(i=Object(By.a)(i,1)),Object(Vy.a)(i)},endTime(){const e=this.get("visibleDays"),t=Object($c.a)(this.get("time"));let i=Object(rft.a)(t);return e>1&&(i=Object(eT.a)(i,e-2)),Object(Vy.a)(i)},daysOfWeek(){const e=Object($c.a)(this.get("startTime")),t=Object($c.a)(this.get("endTime")),i=Object(sft.a)(t,e);return I.a.times(Math.min(i+1,7),t=>Object(Vy.a)(Object(eT.a)(e,t)))},days(){const e=Object($c.a)(this.get("startTime")),t=Object($c.a)(this.get("endTime")),i=Object(sft.a)(t,e);return I.a.times(i+1,t=>Object(Vy.a)(Object(eT.a)(e,t)))},firstEvent(){return this.get("scheduled").first()},lastEvent(){return this.get("scheduled").last()},hasPastEvents(){const e=this.get("firstEvent");return!!e&&e.get("beginsAt")<this.get("startTime")},hasFutureEvents(){const e=this.get("lastEvent");return!!e&&e.get("beginsAt")>this.get("endTime")}},defaults:()=>({visibleDays:7,time:Object(Vy.a)(Date.now())}),augmentResponseText:(e,t)=>t===ct.c?Object(dt.b)(e):e});var lft=function(e,t){let i=t&&t.includeDirectories?["Directory",...dt.a]:dt.a;return i=i.reduce((e,t)=>Object.assign({},e,{[t]:t}),{}),function e(t,i,n){if(Array.isArray(t))return t.map(t=>e(t,i,n));if(Object(Ik.a)(t))for(const a in t){const s=t[a];let r;i[a]?(r=n,delete t[a]):r=a,t[r]=e(s,i,n)}return t}(e,i,"Metadata")};var cft=ke.a.extend({name:"MediaSubscriptionCollection",context:["server"],instanceOptions:[...ke.a.prototype.instanceOptions,"includeDirectories","includeGrabs","includePreferences","includeStorage","includeTarget"],model:VPe,url(){const e={};return this.includeGrabs&&(e.includeGrabs=1),this.includePreferences&&(e.includePreferences=1),this.includeStorage&&(e.includeStorage=1),this.includeTarget&&(e.includeTarget=1),V.join("/media/subscriptions",e)},augmentResponseText(e,t){return t===ct.c?Object(dt.b)(e,{includeDirectories:!!this.includeDirectories}):e},augmentResponse(e,t){return t===ct.a?lft(e,{includeDirectories:!!this.includeDirectories}):e}});const dft="ui/recordingSchedulePage/initRecordingSchedulePage",uft="ui/recordingSchedulePage/clearRecordingSchedulePage",pft="ui/recordingSchedulePage/fetchMediaSubscriptions",hft="ui/recordingSchedulePage/moveMediaSubscription",mft="ui/recordingSchedulePage/setVisibleDays",gft="ui/recordingSchedulePage/goToToday",vft="ui/recordingSchedulePage/goToPreviousRange",yft="ui/recordingSchedulePage/goToNextRange",fft="ui/recordingSchedulePage/fetchCalendar",bft="ui/recordingSchedulePage/playRecording",Ift="ui/recordingSchedulePage/clearMoveError",Sft=Object(Pi.a)(dft),Cft=Object(Pi.a)(uft),Mft=Object(Pi.a)(pft),Dft=Object(Pi.a)(hft),Pft=Object(Pi.a)(mft),Oft=Object(Pi.a)(gft),jft=Object(Pi.a)(vft),wft=Object(Pi.a)(yft),Tft=Object(Pi.a)(fft),Eft=Object(Pi.a)(bft),Nft=Object(Pi.a)(Ift);function xft(e){return e.get("ui").get("recordingSchedulePage")}function Aft(e){return xft(e).get("calendar")}function Lft(e,t,i){const n=xft(e),a=Object(wi.m)(e,t);if(n.get("isPagePopulated")){const e=n.get("calendar"),t=n.get("mediaSubscriptions");e&&e.server===a&&i(Tft()),t&&t.server===a&&i(Mft())}}const kft=Sk({[dft](e,t){const i=xft(e),n=i.get("mediaSubscriptions"),a=i.get("calendar"),s=Object(wi.m)(e,t),r={isPagePopulated:!0,isCalendarPending:!1,isCalendarPopulated:!1,calendarError:null};n&&n.server===s||(r.mediaSubscriptions=new cft([],{server:s})),a&&a.server===s?a.restoreDefaults():r.calendar=new oft({},{server:s}),i.set(r)},[uft](e){xft(e).set("isPagePopulated",!1)},[pft]:Object(Oi.a)({key:"mediaSubscriptions",getModel:xft}),[hft](e,t){const i=xft(e),n=i.get("mediaSubscriptions"),a=Object(wi.e)(e,t),s=a&&n.indexOf(a),{moveIndex:r}=t;if(Object(Ti.a)(()=>{i.set({mediaSubscriptionMoveError:null})}),s===r||s===r-1)return;const o=r>s?r-1:r;n.remove(a),n.add(a,{at:o});const l=o>0?n.at(o-1).id:void 0;FPe(a,l).fail(e=>{n.remove(a),n.add(a,{at:s});const t=401===e.status?Object(Ze.default)("You do not have permission to perform this action."):Object(Ze.default)("There was a problem saving your changes. Please try again.");i.set({mediaSubscriptionMoveError:t})})},[Ift](e,t){xft(e).set({mediaSubscriptionMoveError:null})},[mft](e,t,i){Aft(e).set("visibleDays",t.visibleDays)},[gft](e,t,i){Aft(e).set("time",Object(Vy.a)(new Date))},[vft](e,t,i){const n=Aft(e),a=n.get("visibleDays"),s=Object($c.a)(n.get("time"));n.set("time",Object(Vy.a)(Object(By.a)(s,a)))},[yft](e,t,i){const n=Aft(e),a=n.get("visibleDays"),s=Object($c.a)(n.get("time"));n.set("time",Object(Vy.a)(Object(eT.a)(s,a)))},[fft]:Object(Oi.a)({key:"calendar",getModel:xft}),[bft](e,t,i){const{serverEntityID:n,providerEntityID:a,linkedKey:s,metricsContext:r}=t,o=Object(wi.m)(e,t),l=new ut.a({key:s},{server:o});l.populate().done(()=>{i(Object(xT.x)({serverEntityID:n,providerEntityID:a,metadataItemEntityID:l.entityID(),metricsPage:zd.L,metricsContext:r}))})},[Ni](e,t,i){const n=t.activity;if("provider.subscriptions.process"===n.type&&Lft(e,t,i),"grabber.grab"===n.type){"error"===n.Response.status&&Lft(e,t,i)}}});function Rft(e){return!0}function zft(e,t=Rft){return FS(function(e,t){return Object(Wu.a)(yg,iH(),(i,n)=>n?n.reduce((n,a)=>{const s=i[a];return s&&t(s)&&I.a.findWhere(s.features,{type:e})&&n.push(a),n},[]):[])}(e,t),e=>e)}function Uft(e){var t=e["aria-label"],i=e.className,n=e.style,a={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-calendar-560"};a["aria-hidden"]=!t,a.style=n,a.className=Ad.a.plexIcon+(i?" "+i:"");var s=[Nd.a.createElement.apply(Nd.a,["path",{d:"m0 560v-480h120v-80h80v80h160v-80h80v80h120v480h-560m300-60h80v-80h-80v80m-120 0h80v-80h-80v80m-40-80h-80v80h80v-80m360-40v-80h-80v80h80m-360-80h-80v80h80v-80m120 80v-80h-80v80h80m120 0v-80h-80v80h80m120-120v-80h-80v80h80m-360-80h-80v80h80v-80m240 0h-80v80h80v-80m-120 0h-80v80h80v-80m240 240h-80v80h80v-80"}].concat([]))];return t&&s.unshift(Nd.a.createElement("title",null,t)),Nd.a.createElement.apply(Nd.a,["svg",a].concat(s))}Uft.propTypes={"aria-label":vc.a.string,className:vc.a.string,style:vc.a.object};var Vft=Uft;function Bft(){return Object(Wu.a)((e,{providerID:t})=>t,iH(),yg,(e,t,i)=>{if(e)return t.find(t=>{const n=i[t];return n&&n.identifier===e})})}var Fft=function(e){const{className:t,beginsAt:i,endsAt:n,timeFormat:a}=e,s=function(e,t,i){return e?ASe(e,t)?Object(Ze.default)("Airing now"):NSe(e,null,{timeFormat:i}):Object(Ze.default)("No upcoming airings")}(i,n,a);return Vu()("span",{className:t},void 0,s)},Hft=i("wRpn"),_ft=i.n(Hft);var Wft=function({className:e,type:t}){return Vu()("span",{className:e},void 0,Vu()(yOe,{className:_ft.a.seriesIcon}),function(e){if("show"===e)return Object(Ze.default)("Series")}(t))},Qft=i("9RqU"),Gft=i.n(Qft);const Kft=Nd.a.createElement;var Yft=function(e){const{component:t,isSecondary:i}=e,n=Xe()(e,["component","isSecondary"]);return Kft(t,tp()({className:i?Gft.a.secondaryTitle:Gft.a.title},n))},qft=i("FYT4"),Zft=i.n(qft);const Jft=Nd.a.createElement,{Component:Xft}=Nd.a;class $ft extends Xft{constructor(e,t){super(e,t),this.onLinkPress=e=>{this.setState({isSubscribeModalOpen:!0})},this.onSubscribeModalClose=()=>{this.setState({isSubscribeModalOpen:!1})},this.state={isSubscribeModalOpen:!1}}shouldComponentUpdate(e,t){return Tp(this,e,t)}render(){const e=this.props,{serverEntityID:t,providerEntityID:i,mediaSubscriptionEntityID:n,type:a,subtype:s,thumb:r,grandparentThumb:o,connectDragSource:l}=e,c=Xe()(e,["serverEntityID","providerEntityID","mediaSubscriptionEntityID","type","subtype","thumb","grandparentThumb","connectDragSource"]),{isSubscribeModalOpen:d}=this.state,u="playlist"===a?"show":a;return Vu()("div",{className:Zft.a.subscription},void 0,Vu()(zp,{className:Zft.a.link,onPress:this.onLinkPress},void 0,Vu()("div",{className:Zft.a.linkContainer},void 0,Vu()(noe,{className:Zft.a.posterContainer,serverEntityID:t,providerEntityID:i,component:AC,type:u,width:48,height:zC(48,u,s),url:o||r}),Vu()("div",{className:Zft.a.titleContainer},void 0,function(e){let t;switch(e){case"movie":t=[Lce,Yce];break;case"show":t=[Lce,Wft];break;case"episode":t=[aOe,gCe];break;case"playlist":t=[Lce,Wft];break;default:t=[Lce]}return t.push(Fft),t}(a).map((e,t)=>Jft(Yft,tp()({key:t,component:e,isSecondary:t>0,type:a},c)))))),l(Vu()("div",{className:Zft.a.dragHandle},void 0,Vu()(MAe,{className:Zft.a.dragIcon})),{dropEffect:"copy"}),Vu()(uje,{isOpen:d,serverEntityID:t,providerEntityID:i,mediaSubscriptionEntityID:n,subscriptionType:a,onModalClose:this.onSubscribeModalClose}))}}$ft.defaultProps=void 0,$ft.defaultProps={connectDragSource:e=>e};var ebt=$ft;const tbt=Nd.a.createElement;var ibt=Object(Hu.b)((function(){return Object(Wu.a)(tSe,y9(),Object(Wu.a)(e=>e.ui.recordingSchedulePage.calendar.scheduled,y9(),(e,t)=>I.a.find(e,e=>Object(bX.a)(Object($c.a)(e.beginsAt),new Date)&&e.mediaSubscriptionID===t.key)),(e,t,i)=>{const n=I.a.pick(t.hint,"title","grandparentTitle","type","year","index","parentIndex","originallyAvailableAt","thumb","grandparentThumb");return i&&(n.beginsAt=i.beginsAt,n.endsAt=i.endsAt),n.timeFormat=e,n})}))((function(e){return tbt(ebt,e)})),nbt=i("c4QI"),abt=i.n(nbt);const{Component:sbt}=Nd.a,rbt=parseInt(BV.recordingPriorityPaneWidth,10),obt=parseInt(BV.recordingPriorityDragHandleWidth,10);var lbt=Object(eAe.DragLayer)((function(e){return{item:e.getItem(),itemType:e.getItemType(),currentOffset:e.getSourceClientOffset()}}))(class extends sbt{shouldComponentUpdate(e,t){return Tp(this,e,t)}render(){const{serverEntityID:e,providerEntityID:t,item:i,itemType:n,currentOffset:a}=this.props;if(!a||"RECORDING_PRIORITY_SUBSCRIPTION"!==n)return null;const{x:s,y:r}=a,o="translate3d("+(s-(rbt-obt))+"px, "+r+"px, 0)",l={position:"absolute",WebkitTransform:o,msTransform:o,transform:o};return Vu()(pAe,{},void 0,Vu()("div",{className:abt.a.dragPreview,style:l},void 0,Vu()(ibt,{serverEntityID:e,providerEntityID:t,mediaSubscriptionEntityID:i.mediaSubscriptionEntityID})))}}),cbt=i("MWmE"),dbt=i.n(cbt);const{Component:ubt}=Nd.a,pbt={beginDrag:({mediaSubscriptionEntityID:e})=>({mediaSubscriptionEntityID:e}),endDrag(e,t,i){e.onSubscriptionDragEnd(t.getItem(),t.didDrop())}},hbt={hover(e,t,i){const n=Object(Bu.findDOMNode)(i).getBoundingClientRect(),a=(n.bottom-n.top)/2,s=t.getClientOffset().y-n.top,r=e.sortIndex,o=s>a?r+1:r;e.onSubscriptionDragMove(o)}};var mbt=Object(eAe.DropTarget)("RECORDING_PRIORITY_SUBSCRIPTION",hbt,(function(e,t){return{connectDropTarget:e.dropTarget(),isOver:t.isOver()}}))(Object(eAe.DragSource)("RECORDING_PRIORITY_SUBSCRIPTION",pbt,(function(e,t){return{connectDragPreview:e.dragPreview(),connectDragSource:e.dragSource(),isDragging:t.isDragging()}}))(class extends ubt{componentDidMount(){this.props.connectDragPreview(Object(tAe.getEmptyImage)())}shouldComponentUpdate(e,t){return Tp(this,e,t)}render(){const{serverEntityID:e,providerEntityID:t,mediaSubscriptionEntityID:i,isDragging:n,isDraggingBefore:a,isDraggingAfter:s,isOver:r,connectDropTarget:o,connectDragSource:l}=this.props;return o(Vu()("div",{className:(dbt.a.dragSource||"")+" "+(n?"isDragging":"")+" "+(a&&r?"isDraggingBefore":"")+" "+(s&&r?"isDraggingAfter":"")},void 0,Vu()(ibt,{serverEntityID:e,providerEntityID:t,mediaSubscriptionEntityID:i,connectDragSource:l})))}})),gbt=i("1eVT"),vbt=i.n(gbt);var ybt=function(e){const{serverEntityID:t,providerEntityID:i,mediaSubscriptionEntityIDs:n,guideRoute:a,showError:s,showEmptyState:r,moveIndex:o,onSubscriptionDragMove:l,onSubscriptionDragEnd:c}=e;return Vu()("div",{className:vbt.a.pane},void 0,Vu()("div",{className:vbt.a.paneHeader},void 0,Object(Ze.default)("Recording Priority")),Vu()(ih,{className:vbt.a.paneScroller,autoScroll:!0},void 0,s?Vu()("div",{className:vbt.a.error},void 0,Vu()("div",{},void 0,Object(Ze.default)("There was an error loading recordings.")),Vu()("div",{},void 0,Object(Ze.default)("Please try again."))):null,r?Vu()("div",{className:vbt.a.empty},void 0,Vu()("div",{},void 0,Object(Ze.default)("You have no recordings scheduled.")),Vu()("div",{},void 0,Vu()(vw,{message:Object(Ze.default)("Check out the {openLink}Guide{closeLink} to browse available programming."),tags:[{open:"openLink",close:"closeLink",component:zp,kind:Pp,to:a}]}))):null,s||r?null:n.map((e,n)=>{const a=null!=o,s=a&&o===n,r=a&&o===n+1;return Vu()(mbt,{serverEntityID:t,providerEntityID:i,mediaSubscriptionEntityID:e,isDraggingBefore:s,isDraggingAfter:r,sortIndex:n,onSubscriptionDragMove:l,onSubscriptionDragEnd:c},e)})),Vu()(lbt,{serverEntityID:t,providerEntityID:i}))};const fbt=Nd.a.createElement,{Component:bbt}=Nd.a;const Ibt={dispatchMoveMediaSubscription:Dft,dispatchClearMoveError:Nft,dispatchShowAlert:Tn.d};var Sbt=Object(Hu.b)((function(){return Object(Wu.a)(e=>e.ui.recordingSchedulePage,Bft(),(e,t)=>{const{mediaSubscriptions:i,isMediaSubscriptionsPopulated:n,mediaSubscriptionsError:a,mediaSubscriptionMoveError:s}=e;return{providerEntityID:t,mediaSubscriptionEntityIDs:i,mediaSubscriptionMoveError:s,showError:!n&&!!a,showEmptyState:n&&!a&&!i.length}})}),Ibt)(class extends bbt{constructor(e,t){super(e,t),this.onSubscriptionDragMove=e=>{this.setState({moveIndex:e})},this.onSubscriptionDragEnd=(e,t)=>{const{moveIndex:i}=this.state;t&&null!=i&&Object(Ti.a)(()=>{this.props.dispatchMoveMediaSubscription(Object.assign({},e,{moveIndex:i}))}),this.setState({moveIndex:null})},this.state={moveIndex:null}}componentDidUpdate(e){const{mediaSubscriptionMoveError:t,dispatchShowAlert:i,dispatchClearMoveError:n}=this.props,{mediaSubscriptionMoveError:a}=e;!a&&t&&(i(t),n())}render(){return fbt(ybt,tp()({moveIndex:this.state.moveIndex,onSubscriptionDragMove:this.onSubscriptionDragMove,onSubscriptionDragEnd:this.onSubscriptionDragEnd},this.props))}});var Cbt=function({subscriptionCount:e}){return Vu()(N_,{iconComponent:Vft,title:Object(Ze.default)("You have no recordings scheduled"),description:1===e?Object(Ze.default)("There are no upcoming airings of the item in your list"):Object(Ze.default)("There are no upcoming airings of the {subscriptionCount} items in your list",{subscriptionCount:e})})};const Mbt=Nd.a.createElement,{Component:Dbt}=Nd.a;const Pbt={dispatchPlayRecording:Eft};var Obt=kK((function(){return Object(Wu.a)((e,{mediaSubscriptionID:t})=>t,(e,{status:t})=>t,tSe,Object(Wu.a)((e,{linkedKey:t})=>t,(e,{metricsContext:t})=>t,$S,(e,t,i)=>{const n={};return t&&(n.context=t),cu(i,{isLibraryProvider:!0},e,n)}),$K(),pje(),Bft(),(e,t,i,n,a,s,r)=>{const o="complete"===t,l="error"===t,c=I.a.pick(a,"type","title","grandparentTitle","index","parentIndex","originallyAvailableAt"),d=Object.assign({providerEntityID:r,prePlayRoute:n,isComplete:o,hasError:l,hasSubscription:!!e,showPlay:o&&!!n,timeFormat:i},c);return s?(d.isRecording=!0,d.isPostProcessing="postprocessing"===s.Context.status,d.recordingProgress=s.progress):(d.isRecording=!1,d.isPostProcessing=!1),d})}),Pbt)(class extends Dbt{constructor(...e){super(...e),this.onPlayPress=e=>{const{serverEntityID:t,providerEntityID:i,linkedKey:n,metricsContext:a,dispatchPlayRecording:s}=this.props;s({serverEntityID:t,providerEntityID:i,linkedKey:n,metricsContext:a})}}render(){const e=this.props,{component:t}=e,i=Xe()(e,["component","mediaSubscriptionID","status","linkedKey","metricsContext"]);return Mbt(t,tp()({},i,{onPlayPress:this.onPlayPress}))}});var jbt=function({children:e,mediaItem:t}){const i=t&&t.videoResolution;let n,a=!1;if(i){const e=parseInt(i,10);a=!0,n=e>=720||4===e||8===e}return e||a?Vu()(Uze,{},void 0,e,a?Vu()(Hze,{label:Object(Ze.default)("Video")},void 0,n?Object(Ze.default)("HD"):Object(Ze.default)("SD")):null):null};var wbt=function(e){const{children:t,beginsAt:i,endsAt:n,channel:a,timeFormat:s}=e;if(!i||!n)return null;const r=Date.now()/1e3;let o;return o=n<r?Object(Ze.default)("Aired"):i<=r&&n>=r?Object(Ze.default)("Airing"):Object(Ze.default)("Airs"),Vu()(Hze,{label:o},void 0,Vu()(VSe,{beginsAt:i,endsAt:n,channel:a,showFullTime:!0,showChannel:!0,timeFormat:s}),t)},Tbt=i("U+t5"),Ebt=i.n(Tbt);var Nbt=function(e){const{serverEntityID:t,providerEntityID:i,summary:n,error:a,mediaItem:s,isComplete:r,hasError:o,isRecording:l,recordingProgress:c,timeFormat:d,onRecordingModify:u,onModalClose:p}=e,h=Xe()(e,["serverEntityID","providerEntityID","summary","error","mediaItem","isComplete","hasError","isRecording","recordingProgress","timeFormat","onRecordingModify","onModalClose"]),{beginsAt:m,endsAt:g,startOffsetSeconds:v,endOffsetSeconds:y,channelTitle:f,channelShortTitle:b}=s,I=!(!v&&!y),S=v&&Math.round(v/60),C=y&&Math.round(y/60);return Vu()(YL,{onModalClose:p},void 0,Vu()(zL,{},void 0,Object(Ze.default)("Airing Details")),Vu()(wL,{},void 0,Vu()(TOe,{serverEntityID:t,providerEntityID:i,hint:h},void 0,Vu()(jbt,{mediaItem:s},void 0,Vu()(wbt,{beginsAt:m,endsAt:g,channel:b||f,showFullTime:!0,showChannel:!0,timeFormat:d},void 0,Vu()("div",{},void 0,r?Vu()("span",{},void 0,Vu()(ay,{className:Ebt.a.completeIcon}),Object(Ze.default)("Recorded successfully")):null,l?Vu()("span",{},void 0,Vu()(bOe,{className:Ebt.a.recordingIcon}),Object(Ze.default)("Recording"),Vu()(tf,{className:Ebt.a.separator}),Object(Ze.default)("{recordingProgress}% complete",{recordingProgress:c})):null,o?Vu()("span",{},void 0,Vu()(ph,{className:Ebt.a.errorIcon}),a):null,r||l||o||!I?null:Vu()("span",{},void 0,S?Vu()("span",{},void 0,Object(Ze.default)("Recording starts {minuteOffset} min early",{minuteOffset:S}),C?Vu()("span",{},void 0,Vu()(tf,{className:Ebt.a.separator}),Object(Ze.default)("Ends {minuteOffset} min late",{minuteOffset:C})):null):Vu()("span",{},void 0,Object(Ze.default)("Recording ends {minuteOffset} min late",{minuteOffset:C})))))),Vu()("div",{className:Ebt.a.summary},void 0,n))),Vu()(AL,{},void 0,Vu()(sV,{},void 0,Vu()(hw,{kind:Dp,size:Hh,onPress:u},void 0,Object(Ze.default)("Modify Recording")),Vu()(hw,{kind:Pp,size:Hh,onPress:p},void 0,Object(Ze.default)("Close")))))};const xbt=Nd.a.createElement;var Abt=Object(Hu.b)((function(){return Object(Wu.a)(tSe,$K(),(e,t)=>{const i=I.a.pick(t,"type","title","parentTitle","grandparentTitle","thumb","parentThumb","grandparentThumb","index","parentIndex","originallyAvailableAt","summary");return i.timeFormat=e,i})}))((function(e){return xbt(Nbt,e)}));const Lbt=Nd.a.createElement;var kbt=function(e){const{isOpen:t,metricsProperties:i,metadataItemEntityID:n,onRecordingModify:a,onModalClose:s}=e,r=Xe()(e,["isOpen","metricsProperties","metadataItemEntityID","onRecordingModify","onModalClose"]);return Vu()(Fw,{isOpen:t,metricsPage:zd.G,metricsProperties:i,onModalClose:s},void 0,Lbt(Abt,tp()({metadataItemEntityID:n,onRecordingModify:a,onModalClose:s},r)))},Rbt=i("v7SW"),zbt=i.n(Rbt);var Ubt=function({error:e,onPress:t}){return Vu()(Wb,{className:zbt.a.errorButton,component:zp,tooltip:e,tooltipClassName:zbt.a.errorTooltip,tooltipAttachment:"bottomCenter",onPress:t},void 0,Vu()(ph,{"aria-label":e}))},Vbt=i("aL7q"),Bbt=i.n(Vbt);const{Component:Fbt}=Nd.a,Hbt={context:_t.AGENDA};var _bt=Vu()(Lot,{}),Wbt=Vu()(Yh,{});var Qbt=class extends Fbt{constructor(e,t){super(e,t),this.onLinkPress=e=>{this.setState({isAiringDetailsModalOpen:!0})},this.onConflictIconPress=e=>{this.setState({isConflictsModalOpen:!0})},this.onRecordingModify=()=>{this.setState({isAiringDetailsModalOpen:!1,isSubscribeModalOpen:!0})},this.onAiringDetailsModalClose=()=>{this.setState({isAiringDetailsModalOpen:!1})},this.onSubscribeModalClose=()=>{this.setState({isSubscribeModalOpen:!1,isConflictsModalOpen:!1})},this.state={isAiringDetailsModalOpen:!1,isSubscribeModalOpen:!1,isConflictsModalOpen:!1}}shouldComponentUpdate(e,t){return Tp(this,e,t)}render(){const{serverEntityID:e,providerEntityID:t,mediaSubscriptionEntityID:i,metadataItemEntityID:n,prePlayRoute:a,type:s,title:r,grandparentTitle:o,index:l,parentIndex:c,originallyAvailableAt:d,error:u,mediaItem:p,isRecording:h,isPostProcessing:m,recordingProgress:g,isComplete:v,hasError:y,hasSubscription:f,hasConflicts:b,showPlay:I,showDate:S,timeFormat:C,onPlayPress:M}=this.props,{isAiringDetailsModalOpen:D,isSubscribeModalOpen:P,isConflictsModalOpen:O}=this.state,{beginsAt:j,endsAt:w,startOffsetSeconds:T=0,endOffsetSeconds:E=0,premiere:N}=p,x=Object($c.a)(j),A=nSe(j-T,w+E,{timeFormat:C}),L=af(j);let k;k=ESe(j)?Object(Ze.default)("Yesterday"):L?Object(Ze.default)("Today"):Object(Ze.default)("{dayOfWeek}, {monthNumber} {dayNumber}",{dayOfWeek:SSe(j,{abbreviate:!0}),monthNumber:MSe(j,{abbreviate:!0}),dayNumber:Object(bSe.a)(x)});const R=o||r,z=function(e,t,i,n,a,s){return"episode"!==e?i:t+" - "+Object(nS.a)({seasonIndex:n,episodeIndex:a,date:s})+" - "+i}(s,o,r,c,l,d);return Vu()("div",{className:(Bbt.a.event||"")+" "+(v&&Bbt.a.isComplete||"")+" "+(y&&Bbt.a.hasError||"")},void 0,Vu()(zp,{className:Bbt.a.underlay,to:a,onPress:a?void 0:this.onLinkPress}),Vu()("div",{className:Bbt.a.overlay},void 0,Vu()("div",{className:(Bbt.a.date||"")+" "+(L&&Bbt.a.isToday||"")},void 0,S?k:null),Vu()("div",{className:Bbt.a.time},void 0,A),Vu()("div",{className:Bbt.a.title,title:z},void 0,N?_bt:null,R,Vu()("div",{className:Bbt.a.titleDetails},void 0,"movie"===s?Vu()(qce,{metadataItemEntityID:n}):null,"episode"===s?Vu()(vCe,{metadataItemEntityID:n}):null)),Vu()("div",{className:Bbt.a.status},void 0,!h||m||y?null:Vu()("div",{className:Bbt.a.recording},void 0,Vu()(sB,{size:24,backgroundClassName:Bbt.a.recordingProgressBackground,lineWidth:2,progress:g,showProgressText:!1}),Vu()("span",{className:Bbt.a.recordingIcon})),h&&m&&!y?Wbt:null,I?Vu()(ide,{title:r,onPress:M}):null,y?Vu()(Ubt,{error:u,onPress:b?this.onConflictIconPress:this.onLinkPress}):null)),f?Vu()(kbt,{isOpen:D,metricsProperties:Hbt,serverEntityID:e,providerEntityID:t,metadataItemEntityID:n,error:u,mediaItem:p,hasSubscription:f,isComplete:v,hasError:y,isRecording:h,recordingProgress:g,onRecordingModify:this.onRecordingModify,onModalClose:this.onAiringDetailsModalClose}):null,f?Vu()(uje,{isOpen:P||O,metricsProperties:Hbt,serverEntityID:e,providerEntityID:t,mediaSubscriptionEntityID:i,metadataItemEntityID:n,subscriptionType:s,showConflicts:O,isRecordingSchedule:!0,onModalClose:this.onSubscribeModalClose}):null)}};var Gbt=function({serverEntityID:e,events:t}){return Vu()("div",{},void 0,t.map((i,n)=>{const a=Object($c.a)(i.beginsAt),s=0===n||!Object(nf.a)(Object($c.a)(t[n-1].beginsAt),a),r=Object(pt.a)(ht.f,i.mediaSubscriptionID,e);return Vu()(Obt,{component:Qbt,serverEntityID:e,providerID:i.identifier||i.provider,metadataItemEntityID:i.metadataItem,mediaSubscriptionEntityID:r,mediaSubscriptionID:i.mediaSubscriptionID,eventID:i.metadataItem.key,status:i.status,error:i.error,linkedKey:i.linkedKey,mediaItem:i.mediaItem,hasConflicts:!(!i.conflicts||!i.conflicts.length),showDate:s},n)}))};var Kbt=Object(Hu.b)((function(){return Object(Wu.a)(e=>e.ui.recordingSchedulePage.calendar,e=>({events:e.scheduled}))}))(Gbt),Ybt=i("cnyc"),qbt=i("5ic+"),Zbt=i.n(qbt);function Jbt(e){const t=Object($c.a)(e);return Object(Ze.default)("{month} {dayNumber}, {year}",{month:MSe(e),dayNumber:Object(bSe.a)(t),year:Object(Ybt.a)(t)})}var Xbt=function({startTime:e,endTime:t}){const i=Object($c.a)(e),n=Object($c.a)(t),a=Object(nf.a)(i,n)?Jbt(e):function(e){const t=Object($c.a)(e);return Object(Ze.default)("{month} {dayNumber}",{month:MSe(e),dayNumber:Object(bSe.a)(t)})}(e)+"  "+Jbt(t);return Vu()("span",{className:Zbt.a.title},void 0,a)},$bt=i("SYtG"),eIt=i.n($bt);const tIt=Nd.a.createElement;var iIt=function(e){return Vu()("div",{className:eIt.a.agendaHeader},void 0,tIt(Xbt,e))};var nIt=Object(Hu.b)((function(){return Object(Wu.a)(e=>e.ui.recordingSchedulePage,e=>{const{firstEvent:t,lastEvent:i}=e.calendar;return{startTime:t?t.beginsAt:void 0,endTime:i?i.beginsAt:void 0}})}))(iIt),aIt=Vu()(nIt,{});var sIt=function(e){const{serverEntityID:t,showError:i,isEmpty:n,subscriptionCount:a}=e;return i?Vu()(sot,{title:Object(Ze.default)("There was an error loading the agenda")}):n?Vu()(Cbt,{subscriptionCount:a}):Vu()("div",{},void 0,aIt,Vu()(Kbt,{serverEntityID:t}))};var rIt=Object(Hu.b)((function(){return Object(Wu.a)(e=>e.ui.recordingSchedulePage,e=>{const{mediaSubscriptions:t,calendar:i,isCalendarPopulated:n,calendarError:a}=e;return{showError:!n&&!!a,isEmpty:!i.scheduled.length,subscriptionCount:t.length}})}))(sIt),oIt=i("M/J+"),lIt=i.n(oIt);const{Component:cIt}=Nd.a,dIt={context:_t.CALENDAR};var uIt=Vu()(Lot,{}),pIt=Vu()(Yh,{});var hIt=class extends cIt{constructor(e,t){super(e,t),this.onLinkPress=e=>{this.setState({isAiringDetailsModalOpen:!0})},this.onConflictIconPress=e=>{this.setState({isConflictsModalOpen:!0})},this.onRecordingModify=()=>{this.setState({isAiringDetailsModalOpen:!1,isSubscribeModalOpen:!0})},this.onAiringDetailsModalClose=()=>{this.setState({isAiringDetailsModalOpen:!1})},this.onSubscribeModalClose=()=>{this.setState({isSubscribeModalOpen:!1,isConflictsModalOpen:!1})},this.state={isAiringDetailsModalOpen:!1,isSubscribeModalOpen:!1,isConflictsModalOpen:!1}}shouldComponentUpdate(e,t){return Tp(this,e,t)}render(){const{serverEntityID:e,providerEntityID:t,mediaSubscriptionEntityID:i,metadataItemEntityID:n,prePlayRoute:a,type:s,grandparentTitle:r,title:o,error:l,mediaItem:c,isRecording:d,isPostProcessing:u,recordingProgress:p,isComplete:h,hasError:m,hasSubscription:g,hasConflicts:v,showPlay:y,timeFormat:f,onPlayPress:b}=this.props,{isAiringDetailsModalOpen:I,isSubscribeModalOpen:S,isConflictsModalOpen:C}=this.state,{beginsAt:M,endsAt:D,startOffsetSeconds:P=0,endOffsetSeconds:O=0,premiere:j}=c,w=nSe(M-P,D+O,{includeMinuteZero:!1,timeFormat:f}),T=r||o;return Vu()("div",{className:(lIt.a.event||"")+" "+(h&&lIt.a.isComplete||"")+" "+(m&&lIt.a.hasError||"")},void 0,Vu()(zp,{className:lIt.a.underlay,to:a,onPress:a?void 0:this.onLinkPress}),Vu()("div",{className:lIt.a.overlay},void 0,Vu()("div",{className:lIt.a.title,title:T},void 0,T),Vu()("div",{className:lIt.a.secondaryInfo},void 0,Vu()("div",{className:lIt.a.time},void 0,w),j?uIt:null),Vu()("div",{className:lIt.a.status},void 0,!d||u||m?null:Vu()("div",{className:lIt.a.recording},void 0,Vu()(sB,{size:24,backgroundClassName:lIt.a.recordingProgressBackground,lineWidth:2,progress:p,showProgressText:!1}),Vu()("span",{className:lIt.a.recordingIcon})),d&&u&&!m?pIt:null,y?Vu()(ide,{title:o,onPress:b}):null,m?Vu()(Ubt,{error:l,onPress:v?this.onConflictIconPress:this.onLinkPress}):null)),g?Vu()(kbt,{isOpen:I,metricsProperties:dIt,serverEntityID:e,providerEntityID:t,metadataItemEntityID:n,error:l,mediaItem:c,isComplete:h,hasError:m,isRecording:d,recordingProgress:p,onRecordingModify:this.onRecordingModify,onModalClose:this.onAiringDetailsModalClose}):null,g?Vu()(uje,{isOpen:S||C,metricsProperties:dIt,serverEntityID:e,providerEntityID:t,mediaSubscriptionEntityID:i,metadataItemEntityID:n,subscriptionType:s,showConflicts:C,isRecordingSchedule:!0,onModalClose:this.onSubscribeModalClose}):null)}};var mIt=function({serverEntityID:e,events:t}){return Vu()("div",{},void 0,t.map((t,i)=>{const n=Object(pt.a)(ht.f,t.mediaSubscriptionID,e);return Vu()(Obt,{component:hIt,serverEntityID:e,providerID:t.identifier||t.provider,mediaSubscriptionEntityID:n,metadataItemEntityID:t.metadataItem,mediaSubscriptionID:t.mediaSubscriptionID,eventID:t.metadataItem.key,status:t.status,error:t.error,linkedKey:t.linkedKey,mediaItem:t.mediaItem,hasConflicts:!(!t.conflicts||!t.conflicts.length)},i)}))};const gIt=Object(Hu.b)((function(){return Object(Wu.a)(e=>e.ui.recordingSchedulePage.calendar,(e,{date:t})=>t,(e,t)=>({events:e.scheduled.filter(({beginsAt:e})=>Object(nf.a)(Object($c.a)(e),Object($c.a)(t)))}))}))(mIt);gIt.propTypes=Object.assign({date:vc.a.number.isRequired},gIt.propTypes);var vIt=gIt,yIt=i("BgT4"),fIt=i.n(yIt);var bIt=function({serverEntityID:e,date:t}){return Vu()("div",{className:fIt.a.day},void 0,Vu()(vIt,{serverEntityID:e,date:t}))},IIt=i("1PeT"),SIt=i.n(IIt);const CIt=Nd.a.createElement;var MIt=function(e){let{days:t}=e,i=Xe()(e,["days"]);return Vu()("div",{className:SIt.a.calendarDays},void 0,t.map(e=>CIt(bIt,tp()({key:e,date:e},i))))};var DIt=Object(Hu.b)((function(){return Object(Wu.a)(e=>e.ui.recordingSchedulePage,e=>({days:e.calendar.days}))}))(MIt),PIt=i("SeTg"),OIt=i.n(PIt);var jIt=function({date:e}){const t=af(e);let i;if(ESe(e))i=Object(Ze.default)("Yesterday");else if(t)i=Object(Ze.default)("Today");else{const t=Object($c.a)(e);i=Object(Ze.default)("{dayOfWeek} {monthNumber}/{dayNumber}",{dayOfWeek:SSe(e,{abbreviate:!0}),monthNumber:Object(CSe.a)(t)+1,dayNumber:Object(bSe.a)(t)})}return Vu()("div",{className:(OIt.a.dayOfWeek||"")+" "+(t&&OIt.a.isToday||""),title:i},void 0,i)},wIt=i("4anc"),TIt=i.n(wIt);const EIt=Nd.a.createElement;var NIt=function(e){let{daysOfWeek:t}=e,i=Xe()(e,["daysOfWeek"]);return Vu()("div",{className:TIt.a.container},void 0,t.map(e=>EIt(jIt,tp()({key:e,date:e},i))))};var xIt=Object(Hu.b)((function(){return Object(Wu.a)(e=>e.ui.recordingSchedulePage.calendar,e=>({daysOfWeek:e.daysOfWeek}))}))(NIt),AIt=i("dORf"),LIt=i.n(AIt);const kIt=Nd.a.createElement;var RIt=function(e){const{hasPastEvents:t,hasFutureEvents:i,onGoToPreviousRangePress:n,onGoToNextRangePress:a}=e;return Vu()("div",{className:LIt.a.calendarHeader},void 0,Vu()("div",{className:LIt.a.calendarHeader},void 0,Vu()(zp,{className:(LIt.a.calendarNav||"")+" "+(!t&&LIt.a.calendarNavDisabled||""),kind:Dp,size:Hh,isDisabled:!t,onPress:n},void 0,Vu()(yO,{"aria-label":Object(Ze.default)("Previous Page")})),kIt(Xbt,e),Vu()(zp,{className:(LIt.a.calendarNav||"")+" "+(!i&&LIt.a.calendarNavDisabled||""),kind:Dp,size:Hh,isDisabled:!i,onPress:a},void 0,Vu()(mO,{"aria-label":Object(Ze.default)("Next Page")}))))};const zIt=Nd.a.createElement;var UIt=Object(Hu.b)((function(){return Object(Wu.a)(e=>e.ui.recordingSchedulePage,e=>{const t=I.a.pick(e.calendar,"time","startTime","endTime","hasPastEvents","hasFutureEvents");return Object.assign({},t)})}))((function(e){return zIt(RIt,e)})),VIt=i("3WIE"),BIt=i.n(VIt);const{Component:FIt}=Nd.a;var HIt=Vu()(xIt,{});var _It=class extends FIt{constructor(e,t){super(e,t),this.onMeasure=({width:e})=>{const t=this.state.visibleDays,i=Math.min(Math.floor(e/120),7);i!==t&&this.props.onVisibleDaysChange(i),this.setState({width:e,visibleDays:i})},this.state={width:null,visibleDays:0}}render(){const{serverEntityID:e,showError:t,isEmpty:i,subscriptionCount:n,visibleDays:a,onGoToPreviousRangePress:s,onGoToNextRangePress:r}=this.props;return t?Vu()(sot,{title:Object(Ze.default)("There was an error loading the calendar")}):i?Vu()(Cbt,{subscriptionCount:n}):Vu()(T0,{className:BIt.a.calendar,ignoreHeight:!0,onMeasure:this.onMeasure},void 0,a===this.state.visibleDays?Vu()("div",{},void 0,Vu()(UIt,{onGoToPreviousRangePress:s,onGoToNextRangePress:r}),HIt,Vu()(DIt,{serverEntityID:e})):null)}};const WIt=Nd.a.createElement,{Component:QIt}=Nd.a;var GIt=Object(Hu.b)((function(){return Object(Wu.a)(e=>e.ui.recordingSchedulePage,e=>{const{mediaSubscriptions:t,calendar:i,isCalendarPopulated:n,calendarError:a}=e;return{showError:!n&&!!a,isEmpty:!i.scheduled.length,subscriptionCount:t.length,visibleDays:i.visibleDays}})}),p)(class extends QIt{constructor(...e){super(...e),this.onVisibleDaysChange=e=>{Object(Ti.a)(()=>{this.props.setVisibleDays({visibleDays:e})})},this.onGoToPreviousRangePress=()=>{this.props.goToPreviousRange()},this.onGoToNextRangePress=()=>{this.props.goToNextRange()}}render(){return WIt(_It,tp()({onVisibleDaysChange:this.onVisibleDaysChange,onGoToPreviousRangePress:this.onGoToPreviousRangePress,onGoToNextRangePress:this.onGoToNextRangePress},this.props))}}),KIt=i("VGPm"),YIt=i.n(KIt),qIt=Vu()(L6e,{},void 0,Vu()(N_,{},void 0,Vu()(Jh,{})));var ZIt=function(e){const{serverEntityID:t,showSpinner:i,showEmptyState:n,programGuideIdentifier:a,selectedViewType:s,guideRoute:r}=e;return i?qIt:n&&a?Vu()(L6e,{},void 0,Vu()(N_,{iconComponent:Vft,title:Object(Ze.default)("You have no recordings scheduled"),description:Vu()(vw,{message:Object(Ze.default)("Check out the {openLink}Guide{closeLink} to browse available programming"),tags:[{open:"openLink",close:"closeLink",component:zp,kind:Pp,to:r}]})})):n&&!a?Vu()(L6e,{},void 0,Vu()(N_,{iconComponent:Vft,title:Object(Ze.default)("You have no recordings scheduled"),description:Object(Ze.default)("You need a DVR before you can schedule recordings")})):Vu()("div",{className:YIt.a.schedulePageContent},void 0,Vu()(L6e,{innerClassName:YIt.a.schedulePageInnerContent},void 0,"calendar"===s?Vu()(GIt,{serverEntityID:t}):null,"agenda"===s?Vu()(rIt,{serverEntityID:t}):null),Vu()(Sbt,{serverEntityID:t,providerID:a,guideRoute:r}))};var JIt=Object(Hu.b)((function(){return Object(Wu.a)((e,{sourceDirectory:t})=>t,_S(),HS(),(e,t,i)=>({guideRoute:si(ei,t,i,e)}))}))(ZIt);const{Component:XIt,Fragment:$It}=Nd.a;function eSt(e){return"agenda"===e?Object(Ze.default)("Agenda View"):Object(Ze.default)("Calendar View")}var tSt=Vu()(xst,{});var iSt=class extends XIt{constructor(e,t){super(e,t),this._viewsMenuButtonID=void 0,this.onViewsMenuButtonPress=e=>{this.setState({isViewsMenuOpen:!this.state.isViewsMenuOpen})},this.onViewsMenuClose=()=>{this.setState({isViewsMenuOpen:!1})},this.state={isViewsMenuOpen:!1},this._viewsMenuButtonID=Mp()}shouldComponentUpdate(e,t){return Tp(this,e,t)}render(){const{serverEntityID:e,providerEntityID:t,sourceDirectory:i,scheduleRoute:n,selectedViewType:a,showEPGActivity:s}=this.props,{isViewsMenuOpen:r}=this.state;return Vu()($It,{},void 0,Vu()(Pst,{},void 0,Vu()(Prt,{serverEntityID:e,providerEntityID:t,sourceDirectory:i}),Vu()(rrt,{serverEntityID:e,providerEntityID:t,sourceDirectory:i,directoryKey:$t}),tSt),Vu()(Z2e,{},void 0,Vu()(Tst,{},void 0,Vu()(H$,{id:this._viewsMenuButtonID,hasMenu:!0,isMenuOpen:r,onPress:this.onViewsMenuButtonPress},void 0,eSt(a)),Vu()(Qv,{target:this._viewsMenuButtonID,isOpen:r,onMenuClose:this.onViewsMenuClose},void 0,xc.map(e=>Vu()(oy,{to:V.join([n],{view:e}),isSelected:a===e},e,eSt(e))))),s?Vu()(drt,{},void 0,Vu()(Ect,{serverEntityID:e,providerEntityID:t})):null))}};var nSt=Object(Hu.b)((function(){return Object(Wu.a)((e,{sourceDirectory:t})=>t,_S(),HS(),Wet(),(e,t,i,n)=>({scheduleRoute:si($t,t,i,e),showEPGActivity:!!n}))}))(iSt);const aSt=Nd.a.createElement,{Component:sSt}=Nd.a;var rSt=nAe(class extends sSt{shouldComponentUpdate(e,t){return Tp(this,e,t)}render(){const{serverEntityID:e,providerEntityID:t,sourceDirectory:i,selectedViewType:n}=this.props;return Vu()(gKe,{metricsContext:PLe(zd.L,_t.DVR_SCHEDULE_PIVOT)},void 0,Vu()(f$,{metricsPage:zd.L,metricsProperties:{pane:n},scrollDirection:Zp},void 0,Vu()(nSt,{serverEntityID:e,providerEntityID:t,sourceDirectory:i,selectedViewType:n}),Vu()(G_,{serverEntityID:e,providerEntityID:t}),aSt(JIt,this.props)))}});const{Component:oSt}=Nd.a;const lSt={initRecordingSchedulePage:Sft,clearRecordingSchedulePage:Cft,goToToday:Oft,fetchCalendar:Tft,fetchMediaSubscriptions:Mft,saveExperienceSettings:Qu.l,changeQuickSearchSettings:xte};var cSt=Object(Hu.b)((function(){return Object(Wu.a)(e=>e.ui.recordingSchedulePage,(e,{selectedViewType:t})=>t,HS(),Y9e(),Object(Wu.a)(yg,zft(Ot.q),(e,t)=>{const i=t[0];if(i){const t=e[i];return t&&t.identifier}}),Rg.a,(e,t,i,n,a,s)=>{const{isPagePopulated:r,isCalendarPopulated:o,calendarError:l,isMediaSubscriptionsPopulated:c,mediaSubscriptionsError:d,calendar:u}=e,p=!o&&!l||!c&&!d,h=!p&&c&&!e.mediaSubscriptions.length&&o&&!u.scheduled.length;return{sourceDirectory:n,providerIdentifier:i.identifier,isPagePopulated:r,showSpinner:p,showEmptyState:h,programGuideIdentifier:a,time:u?u.time:void 0,selectedViewType:t||s.calendarViewType}})}),lSt)(class extends oSt{constructor(e,t){super(e,t),this._updateTimeoutID=void 0,this._updateCalendar=()=>{this.props.goToToday(),this.props.fetchCalendar(),this._resetUpdateTimeout()},this._updateTimeoutID=null}componentWillMount(){this._populate(),this._resetUpdateTimeout(),this._saveViewType(),this.props.providerIdentifier&&this._setSearchProviderIdentifier(this.props.providerIdentifier)}componentWillReceiveProps(e){const{serverEntityID:t,time:i,selectedViewType:n}=e;t!==this.props.serverEntityID&&this._populate(e),this._updateTimeoutID&&i!==this.props.time&&this._resetUpdateTimeout(),n!==this.props.selectedViewType&&this._saveViewType(e)}componentDidUpdate(e){const{providerIdentifier:t}=this.props;t&&t!==e.providerIdentifier&&this._setSearchProviderIdentifier(t)}componentWillUnmount(){this._updateTimeoutID&&window.clearTimeout(this._updateTimeoutID),this.props.clearRecordingSchedulePage(),this._setSearchProviderIdentifier(null)}_populate(e=this.props){Object(Ti.a)(()=>{e.initRecordingSchedulePage({serverEntityID:e.serverEntityID}),e.fetchCalendar(),e.fetchMediaSubscriptions()})}_setSearchProviderIdentifier(e){const{changeQuickSearchSettings:t,serverEntityID:i,providerEntityID:n,sourceDirectory:a}=this.props;let s;a&&(s=a.id),t({serverEntityID:i,providerEntityID:n,providerIdentifier:e,directoryID:s})}_resetUpdateTimeout(){this._updateTimeoutID&&window.clearTimeout(this._updateTimeoutID),this._updateTimeoutID=window.setTimeout(this._updateCalendar,36e5)}_saveViewType(e=this.props){e.saveExperienceSettings({calendarViewType:e.selectedViewType})}render(){const{serverEntityID:e,providerEntityID:t,sourceDirectory:i,selectedViewType:n,showSpinner:a,showEmptyState:s,programGuideIdentifier:r}=this.props;return this.props.isPagePopulated?Vu()(rSt,{serverEntityID:e,providerEntityID:t,sourceDirectory:i,selectedViewType:n,showSpinner:a,showEmptyState:s,programGuideIdentifier:r}):null}});const dSt=Object(Pi.a)("INIT_TIMELINE_PAGE"),uSt=Object(Pi.a)("CLOSE_TIMELINE_PAGE"),pSt=Object(Pi.a)("FETCH_TIMELINE_DETAILS"),hSt=Object(Pi.a)("POPULATE_TIMELINE_DETAILS");function mSt({items:e,gap:t=0,existingItems:i=[]}){const n=I.a.sortBy(i,"position"),a=I.a.sortBy(e,"position");let s=-1/0;return a.forEach(e=>{const a=I.a.sortedIndex(i,e,"position"),r=i[a-1],o=i[a],l=e.position>s+t,c=!r||e.position>r.position+t,d=!o||e.position<o.position-t;l&&c&&d&&(n.push(e),s=e.position)}),I.a.sortBy(n,"position")}var gSt=i("hsfa"),vSt=i.n(gSt);const{Component:ySt}=Nd.a;function fSt(e){const{ticks:t,pixelProportion:i,majorTickGap:n,minorTickGap:a}=e,s=I.a.where(t,{type:"major"}),r=I.a.where(t,{type:"minor"}),o=mSt({items:s,gap:i*n});return mSt({items:r,existingItems:o,gap:i*a})}class bSt extends ySt{constructor(e,t){super(e,t),this.state={ticks:fSt(e)}}componentWillReceiveProps(e){const{ticks:t,pixelProportion:i,majorTickGap:n,minorTickGap:a}=e,s=this.props.ticks!==t,r=this.props.pixelProportion!==i,o=this.props.majorTickGap!==n,l=this.props.minorTickGap!==a;(s||r||o||l)&&this.setState({ticks:fSt(e)})}render(){return Vu()("div",{className:vSt.a.container},void 0,Vu()("div",{className:vSt.a.ticks},void 0,this.state.ticks.map(({type:e,position:t,label:i})=>Vu()("div",{className:vSt.a[e],style:{top:100*t+"%"}},t,i&&"major"===e?Vu()("div",{className:vSt.a.label},void 0,i):null))))}}bSt.defaultProps={majorTickGap:20,minorTickGap:5};var ISt=bSt;function SSt(e={},t=1){const{Media:[i={}]=[]}=e,{width:n,height:a,Part:[s={}]=[]}=i;return n&&a?(r=s.orientation)>=5&&r<9?a/n:n/a:t;var r}var CSt=i("17s9"),MSt=i.n(CSt);const DSt=parseInt(BV.mosaicCellPadding,10);var PSt=Vu()(yC,{});var OSt=function(e){const{serverEntityID:t,providerEntityID:i,metadataItemEntityID:n,containerKey:a,listType:s,metadataKey:r,type:o,title:l,thumb:c,cellWidth:d,cellHeight:u,showOffscreenPlaceholder:p,selectionType:h,activeSelectionType:m,isSelected:g,onSelectItem:v,onDeselectItem:y}=e,f=Y0(e),b="clip"===o,I="photoalbum"===o,S=!r,C=d-2*DSt,M=u-2*DSt;return Vu()("div",{className:MSt.a.photoContainer,style:f.style},void 0,Vu()("div",{className:MSt.a.photo},void 0,Vu()("div",{className:MSt.a.image},void 0,S?Vu()(qke,{imageWidth:C,imageHeight:M,isSelected:g}):null,S?null:Vu()(zwe,{serverEntityID:t,providerEntityID:i,metadataItemEntityID:n,containerKey:a,listType:s,metadataKey:r,type:o,imageUrl:c,imageWidth:C,imageHeight:M,selectionType:h,activeSelectionType:m,isSelected:g,isOffscreen:p,onSelectItem:v,onDeselectItem:y}),b?Vu()("div",{className:MSt.a.badge},void 0,PSt):null,I?Vu()("div",{className:MSt.a.title},void 0,l):null)))};var jSt=Object(Hu.b)((function(){return Object(Wu.a)(_S(),$K(),Bke(),Vke(),zre,({machineIdentifier:e},t={},i,n,a)=>{const{key:s,type:r,title:o,thumb:l}=t;return{machineIdentifier:e,metadataKey:s,type:r,title:o,thumb:l,selectionType:i,activeSelectionType:a.activeSelectionType,isSelected:n}})}),(function(e,t){return{onSelectItem(i){e(Nx(Object.assign({metadataListEntityID:t.metadataListEntityID},i)))},onDeselectItem(i){e(xx(Object.assign({metadataListEntityID:t.metadataListEntityID},i)))}}}))(OSt);function wSt(e){const{columns:t=1,rows:i=[],overscan:n=0,outerPadding:a=0,innerPadding:s=0,maximumHeight:r=0,offset:o=0}=e,l=[];let c,d,u,p,h,m=0,g=o;function v(e){if(e<0)return l[0];return I.a.find(l,({bottom:t})=>e<a+(t+1)*h)||I.a.last(l)}return i.forEach(e=>{const t=m;m+=e.height;const i=m-1,n=g;g+=e.widths.length;const a=g-1,s=[];let r=0;e.widths.forEach((e,t)=>{const i=r;r+=e,s.push({width:e,left:i,cellIndex:n+t})}),l.push(Object.assign({},e,{top:t,bottom:i,first:n,last:a,cellLayouts:s}))}),{getListStyle:function(e){const n=e.viewportWidth+":"+e.viewportHeight;if(n===c)return d;u=e.viewportHeight;const s=e.viewportWidth-2*a,o=i.reduce((e,t)=>e+t.height,0);return p=s/t,h=r?(r-a)/o:p,c=n,d={height:h*o,width:s},d},getPositionForIndex:function(e){Object(S.a)(void 0!==u,"`getListStyle` must be called before `getPositionForIndex`");const t=I.a.find(l,({last:t})=>e<=t),i=I.a.find(t.cellLayouts,({cellIndex:t})=>t===e);return{cellX:Math.round(i.left*p)+s+a,cellY:Math.round(t.top*h)+s+a,cellWidth:Math.round(i.width*p)-2*s,cellHeight:Math.round(t.height*h)-2*s}},getRangesForPosition:function(e=0){Object(S.a)(void 0!==u,"`getListStyle` must be called before `getRangesForPosition`");const t=e+u-1,i=t+n*u,a=v(e-n*u).first,s=v(i).last,r=v(e).first,o=v(t).last;return{renderStartIndex:a,renderEndIndex:s,visibleStartIndex:r,visibleEndIndex:o,partiallyVisibleStartIndex:r,partiallyVisibleEndIndex:o}},getRelativeIndex:function(){Object(S.a)(!1,"Mosaic layouts do not support relative indexing")}}}function TSt(e){if(0===e.cells.length)return 1/0;return e.cells.reduce((e,t)=>e+function(e){return Math.abs(e.actual-e.desired)/e.actual}(t),0)/e.cells.length+Math.abs(e.scale-1)}function ESt({cells:e},t){const i=t/e.reduce((e,t)=>e+t.desired,0);return{scale:i,cells:e.map(({desired:e})=>({desired:e,actual:e*i}))}}function NSt(e){const{aspectRatios:t,columns:i=4,minAspectRatio:n=.4,maxAspectRatio:a=5}=e,s=t.map(e=>Math.max(n,Math.min(a,e))),r=[];let o={scale:null,cells:[]};s.forEach(e=>{const t={desired:e};let n={scale:0,cells:o.cells.slice(0)};n.cells.push(t),n=ESt(n,i),TSt(n)<=TSt(o)?o=n:(r.push(o),o=ESt({scale:0,cells:[t]},i))});const l=1/Math.max(1,o.scale);return o.scale=Math.min(1,o.scale),o.cells=o.cells.map(({desired:e,actual:t})=>({desired:e,actual:t*l})),r.push(o),r.map(({scale:e,cells:t})=>({height:e,widths:t.map(e=>e.actual)}))}var xSt=function(e){const t=Y0(e);return Vu()("div",{style:t.style},void 0,e.children)},ASt=i("JbXI"),LSt=i.n(ASt);const{Component:kSt}=Nd.a;class RSt extends kSt{constructor(e,t){super(e,t),this.onSelectPress=()=>{const{isSelected:e,items:t,onSelectItems:i,onDeselectItems:n}=this.props;e?n(t):i(t)},this.state={layout:this._createLayout(e),cellRenderer:this._createCellRenderer(e)}}componentWillReceiveProps(e){const t=e.aspectRatios!==this.props.aspectRatios,i=e.columns!==this.props.columns,n=e.viewportWidth!==this.props.viewportWidth,a=e.viewportHeight!==this.props.viewportHeight,s=e.serverEntityID!==this.props.serverEntityID,r=e.providerEntityID!==this.props.providerEntityID,o=e.metadataListEntityID!==this.props.metadataListEntityID,l=t||i||a||n,c=s||r||o;if(l||c){const t={};l&&(t.layout=this._createLayout(e)),c&&(t.cellRenderer=this._createCellRenderer(e)),this.setState(t)}}_createLayout(e){const t=NSt({aspectRatios:e.aspectRatios,columns:e.columns});return wSt({columns:e.columns,rows:t,maximumHeight:e.cellHeight-(e.footerHeight+e.headerHeight)})}_createCellRenderer(e){const{serverEntityID:t,providerEntityID:i,metadataListEntityID:n,containerKey:a,listType:s}=e;return aIe({serverEntityID:t,providerEntityID:i,metadataListEntityID:n,containerKey:a,listType:s},jSt)}render(){const{cellIndex:e,cellX:t,cellY:i,cellWidth:n,cellHeight:a,isVirtual:s,title:r,items:o,size:l,viewportHeight:c,scrollTop:d,isSelected:u,hasSelection:p}=this.props,{layout:h,cellRenderer:m}=this.state;return Vu()(xSt,{cellIndex:e,cellX:t,cellY:i,cellWidth:n,cellHeight:a,isVirtual:s},void 0,Vu()("div",{className:(p&&LSt.a.hasSelection||"")+" "+(LSt.a.header||"")},void 0,Vu()("div",{className:LSt.a.actions},void 0,Vu()(NV,{className:LSt.a.selectButton,title:r,isSelected:u,onPress:this.onSelectPress})),Vu()("div",{className:LSt.a.title},void 0,r)),Vu()(x0,{items:o,keyPropName:"metadataItemEntityID",size:l,cellRenderer:m,viewportWidth:n,viewportHeight:c,scrollTop:d-i,layout:h}))}}RSt.defaultProps={headerHeight:0,footerHeight:0};var zSt=RSt;function USt(){return Object(Wu.a)((e,{start:t})=>t,(e,{end:t})=>t,Rre(),(e,t,i)=>{const{populatedRange:n,metadataItems:a}=i;return e<n.start||t>n.end?I.a.times(t-e,()=>null):a.slice(e-n.start,t-n.start)})}function VSt(){return Object(Wu.a)(USt(),XK,(e,t)=>e.map(e=>t[e]))}var BSt=Object(Hu.b)((function(){return Object(Wu.a)(Rre(),USt(),Object(Wu.a)((e,{avgAR:t})=>t,VSt(),(e,t)=>t.map(t=>t?SSt(t,e):e)),Object(Wu.a)(VSt(),kke,(e,t)=>e.every(e=>e&&Uke(t,e.ratingKey))),zre,(e,t,i,n,a)=>({containerKey:e.containerKey,listType:"photo",aspectRatios:i,items:t,isSelected:n,hasSelection:a.activeSelectionItems.length>0}))}),(function(e,t){return{onSelectItems(t){e(Ax({type:Qt.k,ids:t}))},onDeselectItems(t){e(Lx({ids:t}))}}}))(zSt);function FSt(e){const{columns:t=1,areas:i=[],innerPaddingTop:n=0,innerPaddingBottom:a=0}=e,s=Xe()(e,["columns","areas","innerPaddingTop","innerPaddingBottom"]);return Xrt(Object.assign({getCellHeights:function(e){return i.map(i=>function(e,i){return Math.max(1,Math.round(e/t))*i+(n+a)}(i,e/t))}},s))}const HSt=Nd.a.createElement,{Component:_St}=Nd.a;var WSt=class extends _St{constructor(e,t){super(e,t),this.state={layout:this._createLayout(e)}}componentWillReceiveProps(e){const t=e.items!==this.props.items,i=e.columns!==this.props.columns;(t||i)&&this.setState({layout:this._createLayout(e)})}_createLayout(e){return FSt({columns:e.columns,areas:e.items.map(e=>e.area),innerPaddingTop:e.headerHeight,innerPaddingBottom:e.footerHeight,outerPaddingTop:e.listPadding,outerPaddingRight:e.listPadding-e.listGutter,outerPaddingBottom:e.listPadding,outerPaddingLeft:e.listPadding})}render(){const{serverEntityID:e,providerEntityID:t,metadataListEntityID:i,columns:n,headerHeight:a,footerHeight:s,cellComponent:r}=this.props;return HSt(V0,tp()({layout:this.state.layout,cellRenderer:aIe({serverEntityID:e,providerEntityID:t,metadataListEntityID:i,columns:n,headerHeight:a,footerHeight:s},r)},this.props))}};const QSt=Nd.a.createElement,{Component:GSt}=Nd.a;const KSt={dispatchPopulateMetadataListRange:jx,dispatchDeselectAllMetadataListItems:kx,dispatchResetMetadataList:Rx};var YSt=Object(Hu.b)((function(){return Object(Wu.a)(zre,e=>({disableReloadThreshold:!!e.activeSelectionType}))}),KSt)(class extends GSt{constructor(...e){super(...e),this.onPageRequest=({startIndex:e,endIndex:t})=>{const{metadataListEntityID:i,disableReloadThreshold:n,items:a,dispatchPopulateMetadataListRange:s}=this.props;s({metadataListEntityID:i,disableReloadThreshold:n,startIndex:a[e].start,endIndex:a[t].end-1,pages:1})}}componentWillUnmount(){const{metadataListEntityID:e}=this.props;this.props.dispatchDeselectAllMetadataListItems({metadataListEntityID:e}),this.props.dispatchResetMetadataList({metadataListEntityID:e})}render(){const e=this.props,t=Xe()(e,["dispatchPopulateMetadataListRange","dispatchDeselectAllMetadataListItems","dispatchResetMetadataList"]);return QSt(WSt,tp()({onPageRequest:this.onPageRequest},t))}});var qSt=i("ZQel"),ZSt=i.n(qSt);const{Component:JSt}=Nd.a,XSt=Math.max(0,parseInt(BV.timelineGutter,10)-40);var $St=class extends JSt{constructor(e,t){super(e,t),this._landmarks=void 0,this.onListUpdate=e=>{const t=e.landmarks,i=e.listStyle&&e.listStyle.height;if(t!==this._landmarks){this._landmarks=t;const e=function(e,t){const i={},n={};return e.reduce((e,{index:a,position:s})=>{const r=Object(Rce.default)(1e3*t[a],"yyyy MM"),o=r.slice(0,4);return i[o]?n[r]||(n[r]=!0,e.push({position:s,type:"minor"})):(i[o]=!0,n[r]=!0,e.push({position:s,type:"major",label:o})),e},[])}(t,I.a.pluck(this.props.moments,"startsAt"));this.setState({ticks:e,listHeight:i})}},this.state={ticks:null,listHeight:null}}render(){const{serverEntityID:e,providerEntityID:t,metadataListEntityID:i,moments:n,columns:a,height:s,onMomentScrollIndexChange:r}=this.props,{ticks:o,listHeight:l}=this.state,c=1/s,d=l&&l>s;return n.length?Vu()("div",{className:ZSt.a.container},void 0,Vu()(YSt,{className:ZSt.a.stack,scrollerClassName:ZSt.a.scroller,serverEntityID:e,providerEntityID:t,metadataListEntityID:i,scrollPositionStorageKey:"TimelinePageContent",keyPropName:"id",items:n,size:n.length,columns:a,footerHeight:59,listPadding:55,listGutter:XSt,hasNestedList:!0,cellComponent:BSt,onListScrollIndexChange:r,onListUpdate:this.onListUpdate}),Vu()("div",{className:ZSt.a.adornment},void 0,o&&d?Vu()(ISt,{pixelProportion:c,ticks:o}):null)):Vu()(L6e,{},void 0,Vu()(N_,{iconComponent:OC.photo,title:Object(Ze.default)("There are no events in this library")}))}};const eCt={showPlayAll:iCt,showShuffle:function({server:e,provider:t,stableUser:i,metadataList:n}){return iCt({server:e,provider:t,stableUser:i,metadataList:n})&&!!t.features.playqueue},showQueue:function({server:e,provider:t,stableUser:i,metadataList:n}){return iCt({server:e,provider:t,stableUser:i,metadataList:n})},showAddToPlaylist:function({server:e,provider:t,stableUser:i,metadataList:n}){return!(!e.isFullServer||!n.isFirstItemLibraryItem)},showAddToCatalog:function({server:e,provider:t,stableUser:i,metadataList:n}){return!!(t.features.actions&&t.features.actions.addToCatalog&&MT(i,t.features.actions.addToCatalog))},showSync:function({server:e,provider:t,stableUser:i,metadataList:n}){if(!be.a.allowSync)return!1;if(i.features[wt.d])return!1;return!!(e.isFullServer&&e.allowSync&&n.isFirstItemLibraryItem&&n.allowSync)},showOptimize:function({server:e,provider:t,stableUser:i,metadataList:n}){return!!(e.isFullOwnedServer&&e.transcoderVideo&&n.isFirstItemLibraryItem)}},tCt={mixed:[],movie:["showPlayAll","showShuffle","showQueue","showAddToPlaylist","showSync","showOptimize"],show:["showPlayAll","showShuffle","showQueue","showAddToPlaylist","showAddToCatalog","showSync","showOptimize"],season:["showPlayAll","showShuffle","showQueue","showAddToPlaylist","showSync","showOptimize"],episode:["showPlayAll","showShuffle","showQueue","showAddToPlaylist","showSync","showOptimize"],artist:["showPlayAll","showShuffle","showQueue","showAddToPlaylist","showSync"],album:["showPlayAll","showShuffle","showQueue","showAddToPlaylist","showSync"],track:["showPlayAll","showShuffle","showAddToCatalog","showQueue","showAddToPlaylist","showSync"],photoalbum:["showPlayAll","showShuffle","showAddToPlaylist","showSync"],photo:["showPlayAll","showShuffle","showAddToPlaylist","showSync"],clip:["showPlayAll","showShuffle","showAddToPlaylist","showSync","showOptimize"],genre:["showAddToCatalog"]};function iCt({server:e,provider:t,stableUser:i,metadataList:n}){return Vae(e,t,i.features,n)}const nCt=Nd.a.createElement,{Component:aCt}=Nd.a;var sCt=function(e,t){var i,n;const{isUpdatingPropName:a,errorPropName:s,clearDirtyOnChangePropName:r}=t;return n=i=class extends aCt{constructor(e,t){super(e,t),this.onFormChange=e=>{this.props.onFormChange&&this.props.onFormChange(e),this.state.isDirty||this.setState({isDirty:!0})},this.state={isDirty:!1}}componentWillReceiveProps(e){let t=!1;r&&(t=this.props[r]!==e[r]);const i=this.props[a]&&!e[a]&&null===e[s];this.state.isDirty&&(t||i)&&this.setState({isDirty:!1})}render(){return nCt(e,tp()({isDirty:this.state.isDirty},this.props,{onFormChange:this.onFormChange}))}},i.displayName="DirtyAware("+ff(e)+")",i.WrappedComponent=e,n},rCt=i("RZIj"),oCt=i.n(rCt);const{Component:lCt}=Nd.a;function cCt(e={}){return Object.assign({isFileImport:!1,channelURL:"",fileURL:null},e)}class dCt extends lCt{static getDerivedStateFromProps(e,t){return t.isOpen!==!e.isOpen?cCt({isOpen:e.isOpen}):null}constructor(e,t){super(e,t),this.onModalClose=()=>{this.props.onClearError(),this.props.onModalClose()},this.onFileImportTogglePress=()=>{this.setState(cCt({isFileImport:!this.state.isFileImport}))},this.onFileChange=e=>{let t;if(e.target.files&&e.target.files.length&&(t=e.target.files[0]),t){const e=window.URL.createObjectURL(t);this.setState({fileURL:e})}},this.onURLChange=e=>{this.setState({channelURL:e})},this.onSubmit=e=>{e.preventDefault(),this.props.onSubmit({channelURL:this.state.channelURL,fileURL:this.state.fileURL})},this.state=cCt()}componentDidUpdate(e,t){this.props.isUpdating||!e.isUpdating||this.props.hasError||this.props.onModalClose()}render(){const{isOpen:e,title:t,message:i,hasError:n,hasFileImportFeature:a,textInputLabel:s,fileInputButtonLabel:r,fileImportLabel:o,urlImportLabel:l,confirmLabel:c,confirmKind:d,isUpdating:u,isDirty:p,metricsPage:h,metricsProperties:m,onFormChange:g}=this.props;return Vu()(Fw,{isOpen:e,metricsPage:h,metricsProperties:m,onModalClose:this.onModalClose},void 0,Vu()("form",{className:oCt.a.form,onSubmit:this.onSubmit,onChange:g},void 0,Vu()(YL,{onModalClose:this.onModalClose},void 0,Vu()(zL,{},void 0,t),n?Vu()(vV,{errorMessage:Object(Ze.default)("Something went wrong. Make sure the URL is correct and try again.")}):null,Vu()(wL,{},void 0,Vu()("p",{},void 0,i),a?Vu()("p",{},void 0,Vu()(zp,{kind:Pp,onPress:this.onFileImportTogglePress},void 0,this.state.isFileImport?l||Object(Ze.default)("Import from a URL instead"):o||Object(Ze.default)("Import from a file instead"))):null,Vu()("div",{className:oCt.a.inputContainer},void 0,this.state.isFileImport?Vu()(oVe,{name:"file",accept:".xml, .opml",buttonText:r||Object(Ze.default)("Choose File"),showFilename:!0,onChange:this.onFileChange}):Vu()(YB,{name:"channelURL",value:this.state.URLValue,labelText:s,"data-autofocus":!0,onChange:this.onURLChange})),this.state.fileURL?Vu()("p",{className:oCt.a.fileNote},void 0,Object(Ze.default)("NOTE: Podcasts will appear as they're processed. This may take some time to complete")):null),Vu()(AL,{},void 0,Vu()(sV,{},void 0,Vu()(hV,{type:"submit",kind:d,isDisabled:!p,isSpinning:u},void 0,c||Object(Ze.default)("Continue")))))))}}dCt.defaultProps={confirmKind:Pp,hasFileImportFeature:!1};var uCt=sCt(dCt,{isUpdatingPropName:"isUpdating",errorPropName:"error",clearDirtyOnChangePropName:"isOpen"});var pCt=kK((function(){return Object(Wu.a)(e=>e.ui.addToCatalogModal,e=>({isUpdating:e.isUpdating,hasError:!!e.error}))}),(function(e,t){return{onClearError(){e(Ket())},onSubmit(i){e(Get({providerEntityID:t.providerEntityID,data:i}))}}}))(uCt);var hCt=function(e){const{providerEntityID:t,isOpen:i,onModalClose:n}=e;return Vu()(pCt,{providerEntityID:t,isOpen:i,title:Object(Ze.default)("Add a Podcast"),message:Object(Ze.default)("Want to add a podcast we havent listed? If you know the URL for the podcast, you can enter it below."),textInputLabel:Object(Ze.default)("Podcast Feed"),fileInputButtonLabel:Object(Ze.default)("Choose OPML File"),fileImportLabel:Object(Ze.default)("Import podcasts from an OPML file instead"),urlImportLabel:Object(Ze.default)("Import podcasts from a URL instead"),hasFileImportFeature:!0,onModalClose:n})};const{Component:mCt}=Nd.a;var gCt=class extends mCt{constructor(e,t){super(e,t),this.onAddToCatalogPress=()=>{this.setState({isAddToCatalogModalOpen:!0})},this.onAddToCatalogClose=()=>{this.setState({isAddToCatalogModalOpen:!1})},this.onAddToPlaylistPress=()=>{this.setState({isAddToPlaylistModalOpen:!0})},this.onAddToPlaylistClose=()=>{this.setState({isAddToPlaylistModalOpen:!1}),this.props.onMenuClose()},this.state={isAddToCatalogModalOpen:!1,isAddToPlaylistModalOpen:!1}}createOnPress(e){return()=>{e(),this.props.onMenuClose()}}render(){const e=this.props,{isAddToCatalogModalOpen:t,isAddToPlaylistModalOpen:i}=this.state;return Vu()("div",{},void 0,e.showPlayAll?Vu()(Zv,{onPress:this.createOnPress(e.onPlayAllPress)},void 0,Object(Ze.default)("Play All")):null,e.showShuffle?Vu()(Zv,{onPress:this.createOnPress(e.onShufflePress)},void 0,Object(Ze.default)("Shuffle")):null,e.showQueue?Vu()(Zv,{onPress:this.createOnPress(e.onPlayNextPress)},void 0,Object(Ze.default)("Play Next")):null,e.showQueue?Vu()(Zv,{onPress:this.createOnPress(e.onAddToQueuePress)},void 0,Object(Ze.default)("Add to Queue")):null,e.showAddToPlaylist?Vu()(Zv,{onPress:this.createOnPress(this.onAddToPlaylistPress)},void 0,Object(Ze.default)("Add to Playlist...")):null,e.showAddToCatalog?Vu()(Zv,{onPress:this.onAddToCatalogPress},void 0,(e.listType,e.listSubtype===LC.c?Object(Ze.default)("Add Podcast by URL"):Object(Ze.default)("Add to Catalog by URL"))):null,e.showSync?Vu()(Zv,{onPress:this.createOnPress(e.onSyncPress)},void 0,Object(Ze.default)("Sync...")):null,e.showOptimize?Vu()(Zv,{onPress:this.createOnPress(e.onOptimizePress)},void 0,Object(Ze.default)("Optimize...")):null,Vu()(hCt,{providerEntityID:e.providerEntityID,isOpen:t,onModalClose:this.onAddToCatalogClose}),e.showAddToPlaylist?Vu()(woe,{isOpen:i,serverEntityID:e.serverEntityID,providerEntityID:e.providerEntityID,metadataListEntityID:e.metadataListEntityID,onModalClose:this.onAddToPlaylistClose}):null)}};const vCt=Nd.a.createElement;var yCt=function(e){const t=Xe()(e,["target","isOpen"]);return Vu()(Qv,{target:e.target,isOpen:e.isOpen,onMenuClose:e.onMenuClose},void 0,vCt(gCt,t))};function fCt(e){var t=e["aria-label"],i=e.className,n=e.style,a={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-toolbar-add-podcast-560"};a["aria-hidden"]=!t,a.style=n,a.className=Ad.a.plexIcon+(i?" "+i:"");var s=[Nd.a.createElement.apply(Nd.a,["path",{d:"M434,504 L378,504 L378,417.4558 C306.354,404.2735 252,341.435 252,266 L294,266 C294,327.815 344.186,378 406,378 C467.814,378 518,327.815 518,266 L560,266 C560,341.435 505.646,404.2735 434,417.4558 L434,504 Z M476,126 C476,87.366 444.634,56 406,56 C367.366,56 336,87.366 336,126 L336,266 C336,304.634 367.366,336 406,336 C444.634,336 476,304.634 476,266 L476,126 Z M134.4,100.8 L134.4,190.4 L224,190.4 L224,235.2 L134.4,235.2 L134.4,324.8 L89.6,324.8 L89.6,235.2 L0,235.2 L0,190.4 L89.6,190.4 L89.6,100.8 L134.4,100.8 Z"}].concat([]))];return t&&s.unshift(Nd.a.createElement("title",null,t)),Nd.a.createElement.apply(Nd.a,["svg",a].concat(s))}fCt.propTypes={"aria-label":vc.a.string,className:vc.a.string,style:vc.a.object};var bCt=fCt;const ICt=Nd.a.createElement,{Component:SCt}=Nd.a;var CCt=Vu()(bCt,{});var MCt=class extends SCt{constructor(e,t){super(e,t),this.onButtonPress=()=>{this.setState({isModalOpen:!0})},this.onModalClose=()=>{this.setState({isModalOpen:!1})},this.state={isModalOpen:!1}}render(){const e=this.props,{providerEntityID:t}=e,i=Xe()(e,["providerEntityID"]);return ICt(D$,tp()({tooltip:Object(Ze.default)("Add Podcast by URL"),"data-qa-id":"toolbarAddCustomPodcast",onPress:this.onButtonPress},i),CCt,Vu()(hCt,{providerEntityID:t,isOpen:this.state.isModalOpen,onModalClose:this.onModalClose}))}};const DCt=Nd.a.createElement,{Component:PCt}=Nd.a;var OCt=L8e(class extends PCt{constructor(e,t){super(e,t),this._moreButtonID=void 0,this.onPlayShortcut=()=>{this.props.showPlayAll&&this.props.onPlayAllPress()},this.onAddToPlaylistPress=()=>{this.setState({isAddToPlaylistModalOpen:!0,isSmartPlaylist:!1})},this.onAddToSmartPlaylistPress=()=>{this.setState({isAddToPlaylistModalOpen:!0,isSmartPlaylist:!0})},this.onAddToPlaylistClose=()=>{this.setState({isAddToPlaylistModalOpen:!1})},this.onActionsPress=e=>{this.setState({isActionsMenuOpen:!this.state.isActionsMenuOpen})},this.onActionsMenuClose=()=>{this.setState({isActionsMenuOpen:!1})},this.state={isActionsMenuOpen:!1,isAddToPlaylistModalOpen:!1,isSmartPlaylist:!1},this._moreButtonID=Mp()}componentDidMount(){U.a.on("shortcut:playSelected",this.onPlayShortcut)}componentWillUnmount(){U.a.off("shortcut:playSelected",this.onPlayShortcut)}render(){const{className:e,serverEntityID:t,providerEntityID:i,metadataListEntityID:n,customFilterRoute:a,showPlayAll:s,showPlayAllOverflow:r,showShuffle:o,showShuffleOverflow:l,showAddToPlaylist:c,showAddToPlaylistOverflow:d,showAddToSmartPlaylist:u,showAddToCatalog:p,showAddToCatalogOverflow:h,showSync:m,showSyncOverflow:g,showOverflow:v,onPlayAllPress:y,onShufflePress:f,onSyncPress:b}=this.props,{isActionsMenuOpen:I,isAddToPlaylistModalOpen:S,isSmartPlaylist:C}=this.state;return Vu()("div",{className:e},void 0,s?Vu()(g8e,{playLabel:Object(Ze.default)("Play All"),onPress:y}):null,o?Vu()(I8e,{onPress:f}):null,c?Vu()(c8e,{serverEntityID:t,providerEntityID:i,metadataListEntityID:n,customFilterRoute:a,showAddToSmartPlaylist:u,onAddToPlaylistPress:this.onAddToPlaylistPress,onAddToSmartPlaylistPress:this.onAddToSmartPlaylistPress}):null,p?Vu()(MCt,{providerEntityID:i}):null,m?Vu()(M8e,{onPress:b}):null,v?Vu()(p8e,{id:this._moreButtonID,iconComponent:R8e,label:Object(Ze.default)("More..."),isMenuOpen:I,onPress:this.onActionsPress}):null,DCt(yCt,tp()({},this.props,{target:this._moreButtonID,isOpen:I,showPlayAll:r,showShuffle:l,showAddToPlaylist:d,showAddToCatalog:h,showSync:g,onMenuClose:this.onActionsMenuClose})),c?Vu()(woe,{serverEntityID:t,providerEntityID:i,metadataListEntityID:n,isOpen:S,smart:C,onModalClose:this.onAddToPlaylistClose}):null)}},["showPlayAll","showShuffle","showAddToPlaylist","showAddToCatalog","showSync"],["showOptimize","showQueue"]);var jCt=kK((function(){return Object(Wu.a)((e,{listType:t})=>t,$S,ZS,IT,Rre(),(e,t,i,n,a)=>function({server:e,provider:t,stableUser:i,metadataList:n,listType:a}){const s=a||n.firstItemType||"mixed",r=tCt[s];return r?r.reduce((a,r)=>{const o=eCt[r];return Object(S.a)(I.a.isFunction(o),"getMetadataListActionProps: Invalid action, "+r+", for "+s),a[r]=!!(e&&t&&n)&&o({server:e,provider:t,stableUser:i,metadataList:n}),a},{}):{}}({server:t,provider:i,stableUser:n,metadataList:a,listType:e}))}),(function(e,t){const i={serverEntityID:t.serverEntityID,providerEntityID:t.providerEntityID,metadataListEntityID:t.metadataListEntityID,listType:t.listType,metricsPage:t.metricsPage,metricsProperties:{context:t.metricsContext||_t.LIST}};return{onPlayAllPress(){e(xT.x(i))},onShufflePress(){e(xT.B(i))},onPlayNextPress(){e(xT.r(Object.assign({},i,{options:{playAll:!0,next:!0}})))},onAddToQueuePress(){e(xT.r(Object.assign({},i,{options:{playAll:!0,next:!1}})))},onSyncPress(){e(Tx(i))},onOptimizePress(){e(Ex(i))}}}),Nae)(OCt);const{Fragment:wCt}=Nd.a;var TCt=function(e){const{serverEntityID:t,providerEntityID:i,metadataListEntityID:n,sourceDirectory:a,title:s,totalSize:r,listType:o,listStyle:l,allListStyles:c}=e;return Vu()(wCt,{},void 0,Vu()(Pst,{},void 0,Vu()(Prt,{serverEntityID:t,providerEntityID:i,sourceDirectory:a}),Vu()(rrt,{serverEntityID:t,providerEntityID:i,sourceDirectory:a,directoryKey:ti}),Vu()(xst,{},void 0,Vu()(b9e,{selectedListStyle:l,allListStyles:c}))),Vu()(Z2e,{},void 0,Vu()(drt,{},void 0,Vu()(H$,{},void 0,s),Vu()(jct,{},void 0,r)),Vu()(R$,{},void 0,Vu()(jCt,{serverEntityID:t,providerEntityID:i,metadataListEntityID:n,listType:o}))))};var ECt=Object(Hu.b)((function(){return Object(Wu.a)(Rre(),e=>({totalSize:e.totalSize,listType:Qt.k,listStyle:Cc,allListStyles:[Cc]}))}))(TCt),NCt=i("sKLl"),xCt=i.n(NCt);const ACt=Nd.a.createElement,{Component:LCt}=Nd.a;var kCt=Vu()(N_,{},void 0,Vu()(Jh,{}));var RCt=class extends LCt{constructor(e,t){super(e,t),this.onMeasure=({width:e,height:t})=>{this.setState({isMeasured:!0,width:e,height:t})},this.onMomentScrollIndexChange=e=>{this.setState({currentMomentTitle:this.props.moments[e].title})},this.state={isMeasured:!1,currentMomentTitle:"",width:0,height:0}}componentDidMount(){const{librarySectionID:e,providerIdentifier:t,onLibraryChange:i}=this.props;e&&i(t,e)}componentDidUpdate(e){const{librarySectionID:t,providerIdentifier:i,onLibraryChange:n}=this.props;t&&t!==e.librarySectionID&&n(i,t)}componentWillUnmount(){this.props.onLibraryChange(null,null),this.props.onCloseTimelinePage()}render(){const{serverEntityID:e,providerEntityID:t,providerMetricsIdentifier:i,metadataListEntityID:n,sourceDirectory:a,pivot:s,isMomentListPending:r,isMomentListPopulated:o,moments:l,activeSelectionType:c,columnAdjustment:d,serverVersion:u}=this.props,{isMeasured:p,width:h,height:m,currentMomentTitle:g}=this.state,v=200-100*d,y=12+d,f=Math.min(Math.ceil(h/v),y);if(o)return Vu()(f$,{metricsPage:zd.V,metricsProperties:{identifier:i,mode:"timeline",type:"photo",style:Cc},allowBackgroundLightPreset:!0,scrollDirection:Zp},void 0,c?Vu()(t9e,{serverEntityID:e,providerEntityID:t}):Vu()(ECt,{serverEntityID:e,providerEntityID:t,metadataListEntityID:n,sourceDirectory:a,title:g}),Vu()(T0,{className:xCt.a.measured,ignorePosition:!0,onMeasure:this.onMeasure},void 0,p?Vu()($St,{serverEntityID:e,providerEntityID:t,metadataListEntityID:n,moments:l,columns:f,height:m,onMomentScrollIndexChange:this.onMomentScrollIndexChange}):null));const b={serverEntityID:e,providerEntityID:t,sourceDirectory:a,pivot:s,directoryKey:ti,scrollDirection:Zp};if(r)return ACt(Trt,tp()({},b,{showSecondHeader:!0}),kCt);const I={title:Object(Ze.default)("There was an error loading the timeline for this library")};return Qi(u,qi.itemClusters)||(I.description=Object(Ze.default)("The photos timeline requires Plex Media Server {version} or higher",{version:qi.itemClusters})),ACt(Trt,b,ACt(sot,I))}};const zCt=Object(Wu.a)(e=>e.ui.timelinePage.momentList,e=>{if(!e)return[];let t=0;return e.moments.map(e=>{const i=t;t+=e.size;const{id:n,title:a,size:s,avgAR:r,startsAt:o}=e,l=e.size*(e.avgAR||1);return{start:i,end:t,area:l,id:n,title:a,size:s,avgAR:r,startsAt:o}})});const UCt=Yrt(RCt,(function(e){const t=e.ui.timelinePage;return{serverEntityID:t.serverEntityID,providerEntityID:t.providerEntityID,momentKey:t.momentKey}}),(function(e,t){e(dSt({serverEntityID:t.serverEntityID,providerEntityID:t.providerEntityID,libraryKey:t.libraryKey,momentKey:t.momentKey})),e(hSt())}));var VCt=Object(Hu.b)((function(){return Object(Wu.a)((e,{libraryKey:t})=>t,e=>e.ui.timelinePage,zCt,$S,HS(),Y9e(),fst(),zre,Rg.a,(e,t,i,n,a,s,r,o,l)=>{const{details:c,containerKey:d,isMomentListPending:u,isMomentListPopulated:p}=t;return{metadataListEntityID:t.metadataList,providerIdentifier:a.identifier,providerMetricsIdentifier:a.metricsIdentifier,librarySectionID:c&&c.librarySectionID,sourceDirectory:s,pivot:r,moments:i,isMomentListPending:u,isMomentListPopulated:p,containerKey:d,momentKey:V.join(e,"cluster?clusterZoomLevel=1"),activeSelectionType:o.activeSelectionType,disableReloadThreshold:!!o.activeSelectionType,columnAdjustment:l.columnAdjustment,serverVersion:n.version}})}),(function(e,t){return{onLibraryChange(i,n){e(xte({serverEntityID:t.serverEntityID,providerEntityID:t.providerEntityID,providerIdentifier:i,directoryID:n}))},onCloseTimelinePage(){e(uSt({}))}}}))(UCt);const{useEffect:BCt}=Nd.a;var FCt=Vu()(Pyt,{}),HCt=Vu()(Qnt,{});function _Ct({pivotType:e,sourceURI:t,directoryKey:i,selectedPivot:n}){const[a,s,r]=Lg(),o=gpt(),l=Object(Hu.d)(fT);if(Ist(null==n?void 0:n.requires,l))return FCt;switch(e){case Ya.Hub:return Vu()(Zb.a,{name:null==n?void 0:n.context},void 0,Vu()(cht,{sourceURI:t}));case Ya.List:return Vu()(Zb.a,{name:null==n?void 0:n.context},void 0,Vu()(Cyt,{directoryKey:i,sourceURI:t,selectedPivot:n}));case Ya.View:switch(null==n?void 0:n.key){case qa.SharedItems:return Vu()(Zb.a,{name:null==n?void 0:n.context},void 0,Vu()(Cyt,{directoryKey:null!=i?i:"/library/shared/all",sourceURI:t,selectedPivot:n,listStyle:_a.SharedItems}));case qa.Guide:return Vu()(Tdt,{serverEntityID:a.entityID,providerEntityID:s.entityID,sourceDirectoryID:null==r?void 0:r.id,directoryKey:qa.Guide,activeFilters:Cie(o.filters),activeFilterLabel:o.filterLabel});case qa.RecordingSchedule:return Vu()(cSt,{serverEntityID:a.entityID,providerEntityID:s.entityID,sourceDirectoryID:null==r?void 0:r.id,selectedViewType:o.view});case qa.Timeline:{const e=as(s,Qa.Content);return Vu()(VCt,{serverEntityID:a.entityID,providerEntityID:s.entityID,sourceDirectoryID:null==r?void 0:r.id,directoryKey:qa.Timeline,libraryKey:V.join([null==e?void 0:e.key,null==r?void 0:r.id,"cluster"],{clusterZoomLevel:1})})}}}return HCt}const WCt=[qa.Guide,qa.RecordingSchedule,qa.Timeline];var QCt=Vu()(vpt,{});function GCt({className:e,directoryKey:t,pageType:i,machineIdentifier:n,providerIdentifier:a,contentDirectoryID:s,pivotID:r}){const o=Object(Hu.c)(),l=aft({machineIdentifier:n,providerIdentifier:a,contentDirectoryID:s,pageType:i,pivotID:r}),c=l?l.type:null!=i?i:Ya.List,d=(null==l?void 0:l.key)||t,u=d?Object(gs.a)({serverIdentifier:n,providerIdentifier:a,metadataItemKey:d}):void 0;return BCt(()=>{if(!s)return;const e=Object(pt.a)(ht.n,n),t=Object(pt.a)(ht.k,a,e);return o(xte({serverEntityID:e,providerEntityID:t,providerIdentifier:a,directoryID:s})),()=>{o(xte({serverEntityID:null,providerEntityID:null,providerIdentifier:null,directoryID:null}))}},[s,o,n,a]),BCt(()=>()=>{Object(Ti.a)(()=>{o(cr.actions.resetMeta())})},[o]),u?Vu()(kg,{machineIdentifier:n,providerIdentifier:a,contentDirectoryID:s},void 0,Vu()(EKe,{className:e,scrollDirection:cp.None},void 0,l&&c===Ya.View&&WCt.includes(l.key)?null:Vu()(Xyt,{sourceURI:u,selectedPivot:l}),Vu()(_Ct,{pivotType:c,sourceURI:u,directoryKey:t,selectedPivot:l}))):Vu()(EKe,{className:e},void 0,QCt)}var KCt=Object(Wu.a)(Rg.a,e=>e.lastSourcePivots);const YCt=/^\/library\/sections\/(\w+)(\/all)?$/;const{Component:qCt}=Nd.a;const ZCt={dispatchNavigate:Kn.v};var JCt=Vu()(Qnt,{}),XCt=Vu()(dh,{},void 0,Vu()(Jh,{}));var $Ct=Object(Hu.b)((function(){return Object(Wu.a)(_S(),HS(),Y9e(),Object(Wu.a)(_S(),HS(),Y9e(),KCt,(e,t,i,n)=>{if(!i)return;let a=n[Object(Zc.a)(e.machineIdentifier,t.identifier,i.id)];return YCt.test(a)&&(a=Gt(i.id,i.type)),i.pivots.find(e=>e.key===a)}),hit,(e,t,i,n,a)=>{if(!i)return{isSourceDirectoryNotFound:!0};let s;i.pivots&&(s=n||i.pivots[0]);return{tabRoute:zst(e,t,i,s,a[bst(e,t,i,s)])}})}),ZCt)(class extends qCt{constructor(...e){super(...e),this._hasRedirected=void 0}componentDidMount(){this._maybeRedirect(this.props)}componentDidUpdate(e){this._maybeRedirect(this.props)}_maybeRedirect(e){this._hasRedirected||this.props.isSourceDirectoryNotFound||(e.dispatchNavigate({pathname:e.tabRoute,prependHashBang:!0,replace:!0}),this._hasRedirected=!0)}render(){const{isSourceDirectoryNotFound:e}=this.props;return e?JCt:XCt}});const eMt={[ii]:"/library/shared/all"};function tMt(e={},t){return eMt[e.key]||t}var iMt=Vu()(Xyt,{});function nMt({hubKey:e}){const[t,i]=Lg(),n=Object(gs.a)({serverIdentifier:t.machineIdentifier,providerIdentifier:i.providerIdentifier,metadataItemKey:e});return Vu()(EKe,{allowBackgroundPreset:!0,scrollDirection:cp.None},void 0,iMt,Vu()(cht,{sourceURI:n}))}const aMt=Nd.a.createElement;var sMt=Object(Hu.b)((function(){return Object(Wu.a)($S,ZS,(e,t)=>({machineIdentifier:e.machineIdentifier,providerIdentifier:t.identifier}))}))((function(e){const{machineIdentifier:t,providerIdentifier:i}=e,n=Xe()(e,["machineIdentifier","providerIdentifier","serverEntityID","providerEntityID"]);return Vu()(kg,{machineIdentifier:t,providerIdentifier:i},void 0,aMt(nMt,n))}));function rMt(e){const t=!!(e.size||e.totalSize||e.more);return"directory"!==e.type&&t}var oMt=i("4JMt");const lMt=Object(Pi.a)("INIT_DISCOVER_PAGE"),cMt=Object(Pi.a)("FETCH_HUBS"),dMt=Object(Pi.a)("FETCH_PROMOTED_HUBS");Object(Pi.a)("POPULATE_PROMOTED_HUBS");function uMt(e){return e.get("ui").get("discoverPage")}const pMt=Sk({INIT_DISCOVER_PAGE(e,t){const i=uMt(e),n=Object(wi.m)(e,t),a=Object(wi.j)(e,t),{providerEntityID:s,hubKey:r}=t;if(s===i.get("providerEntityID")&&r===i.get("hubKey"))return;const o=new pT.default([],Object.assign({server:n,provider:a,hubKey:r,count:16,includeMeta:!0,includeEmpty:!0,includeTypeFirst:!0,includeFeaturedTags:!0,includeRecentChannels:!0},vT(e),{excludes:["playlists"]})),l=new pT.default([],{server:e.get("cloudServer"),url:"https://services.provider.plex.tv/home/hubs",deferred:!0,includeMeta:!0});i.restoreDefaults({providerEntityID:s,hubKey:r,hubs:o,promotedHubs:l})},FETCH_HUBS(e,t){const i=uMt(e);i.set("isHubsPending",!0);const n=i.get("hubs"),a=n.provider.getXHROptions(n.url(),{dataType:"json"});D.a.ajax(a).then(e=>{const t=e.MediaContainer;n.reset(t,{parse:!0}),i.set({isHubsPending:!1,isHubsPopulated:!0,hubsError:null,hubsTitle:t.title})},(e,t)=>{i.set({isHubsPending:!1,hubsError:Object(DT.a)(t)})})},FETCH_PROMOTED_HUBS(e,t){const i=uMt(e),n=i.get("promotedHubs");i.set("isPromotedHubsPending",!0);const a=n.server.getXHROptions(n.url,{includeMeta:1,dataType:"json"});D.a.ajax(a).then(t=>{const{MediaContainer:{Hub:a=[]}={}}=t;a.forEach((t,a)=>{const{source:s}=t,r=bLe(s);if(!r)return void C.a.error('Hub source "'+s+'" not in correct format.');const o=Object(wi.u)(e,r);if(!o)return void C.a.error('Server with entity id "'+o.serverEntityID+'" not found.');const l=Object(wi.t)(e,r);if(!l)return void C.a.error('Provider with entity id "'+r.providerEntityID+'" not found.');const c=new oMt.a(t,{server:o,provider:l,parse:!0});n.add(c);const d=Object(wi.o)(e);i.set({isPromotedHubsPending:!1,isPromotedHubsPopulated:!0,promotedHubsError:null,knownPromotedHubCloudProviderIDs:d.get("providers").map(e=>e.entityID())})})},(e,t)=>{i.set({isPromotedHubsPending:!1,promotedHubsError:Object(DT.a)(t)})})},POPULATE_PROMOTED_HUBS(e,t,i){uMt(e).get("isPromotedHubsPopulated")||i(dMt(t))},[Tn.a](e,t,i){const n=uMt(e).get("hubs");!n||t.metadataItemEntityID||t.containerKeyPattern||yT({actionCreator:wx,dispatch:i,hubs:n,serverModel:Object(wi.m)(e,t)})}});var hMt=Object(Wu.a)(fbe,e=>e.ui.discoverPage.hubs,(e,t=[])=>!!t.find(t=>e[t].style===ebe.d));const{Component:mMt}=Nd.a;var gMt=Object(Hu.b)((function(){return Object(Wu.a)(Wet(),e=>({isRefreshing:!!e}))}),(function(e,t){const{serverEntityID:i}=t;return{dispatchFetchProviders(){e(Hi({serverEntityID:i}))},dispatchRepopulatePage(){e(Object(Tn.c)({serverEntityID:i}))}}}))(class extends mMt{constructor(...e){super(...e),this._repopulateTimeoutID=void 0,this._repopulateProgramGuide=()=>{const{dispatchFetchProviders:e,dispatchRepopulatePage:t}=this.props;e(),t(),this._setRepopulateTimeout()}}componentDidMount(){this._setRepopulateTimeout()}componentDidUpdate(){this._setRepopulateTimeout()}componentWillUnmount(){this._clearRepopulateTimeout()}_setRepopulateTimeout(){this.props.isRefreshing&&(this._clearRepopulateTimeout(),this._repopulateTimeoutID=window.setTimeout(this._repopulateProgramGuide,15e3))}_clearRepopulateTimeout(){this._repopulateTimeoutID&&window.clearTimeout(this._repopulateTimeoutID)}render(){return null}}),vMt=i("9XR6"),yMt=i.n(vMt);var fMt=function(e){const{providerIdentifier:t}=e;return jt.k(t,jt.f)?Vu()("div",{className:yMt.a.container},void 0,Vu()("div",{className:yMt.a.text},void 0,Vu()("div",{className:yMt.a.logo,"aria-label":Object(Ze.default)("TIDAL")}),Vu()("div",{className:yMt.a.body},void 0,Object(Ze.default)("Preview 60 million streaming tracks, thousands of music videos and more.")),Vu()(BL,{metricsProperties:{pane:"tidalBanner"},action:Rd.ob},void 0,Vu()(zp,{to:Vp,kind:jp,target:"_blank"},void 0,Object(Ze.default)("Learn more at plex.tv"))))):null};const{Fragment:bMt}=Nd.a;var IMt=Vu()(S4e,{}),SMt=Vu()(b9e,{});var CMt=function(e){const{serverEntityID:t,providerEntityID:i,provider:n,sourceDirectory:a,hubKey:s,hubsTitle:r,showAddToCatalog:o,showEPGActivity:l}=e;return Vu()(bMt,{},void 0,Vu()(Pst,{},void 0,r?Vu()(drt,{},void 0,Vu()(o9e,{title:r,detail:n.sourceTitle})):Vu()(Prt,{serverEntityID:t,providerEntityID:i,sourceDirectory:a,hubKey:s}),a&&!r?Vu()(rrt,{serverEntityID:t,providerEntityID:i,sourceDirectory:a,directoryKey:s}):null,Vu()(xst,{},void 0,o?Vu()(D4e,{},void 0,Vu()(MCt,{providerEntityID:i})):null,o?IMt:null,SMt)),l?Vu()(Z2e,{},void 0,Vu()(Tst,{},void 0,Vu()(Ect,{serverEntityID:t,providerEntityID:i}))):null)};var MMt=Object(Hu.b)((function(){return Object(Wu.a)(IT,ZS,Wet(),(e,t,i)=>{const n=t.features.actions.addToCatalog;return{provider:t,showAddToCatalog:!!n&&MT(e,n),showEPGActivity:!!i}})}))(CMt);var DMt=i("HU9O"),PMt=i.n(DMt),OMt=Vu()(N_,{},void 0,Vu()(Jh,{}));var jMt=function(e){const{machineIdentifier:t,isCloud:i,isFullOwnedServer:n,isPending:a,error:s,onRepopulate:r}=e;if(a)return OMt;if(s)return Vu()(sot,{title:i?Object(Ze.default)("There was an unexpected error loading this page"):Object(Ze.default)("There was an unexpected error loading this library")},void 0,Vu()(zp,{kind:Pp,onPress:r},void 0,Object(Ze.default)("Retry")));const o=n?Object(Ze.default)("Expecting more? Visit the Manage Libraries page to add folders and scan library files."):null;return Vu()(N_,{title:i?Object(Ze.default)("This page is currently empty"):Object(Ze.default)("This library is currently empty"),description:o},void 0,o?null:Vu()("div",{className:PMt.a.emptyDescription}),n?Vu()(hw,{className:PMt.a.manageLibraries,kind:Pp,to:ln(t,"manage","libraries")},void 0,Object(Ze.default)("Manage libraries")):null,Vu()(zp,{kind:Pp,onPress:r},void 0,Object(Ze.default)("Retry")))};var wMt=Object(Hu.b)((function(){return Object(Wu.a)(_S(),e=>({machineIdentifier:e.machineIdentifier,isCloud:e.isCloud,isFullOwnedServer:e.isFullOwnedServer}))}))(jMt),TMt=Vu()(N_,{},void 0,Vu()(Jh,{}));var EMt=function(e){const{serverEntityID:t,providerEntityID:i,isPending:n,error:a}=e;return n?TMt:a?Vu()(sot,{title:Object(Ze.default)("There was an unexpected error loading the Guide")}):Vu()(not,{serverEntityID:t,providerEntityID:i})};var NMt=Object(Wu.a)(Zu.a,e=>e.subscriptions||[]);var xMt=Object(Wu.a)(NMt,e=>{const t=e.find(e=>"tidal"===e.type)||{};return"active"===t.state||"pending_cancellation"===t.state});function AMt(e){var t=e["aria-label"],i=e.className,n=e.style,a={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-tidal-logo-560"};a["aria-hidden"]=!t,a.style=n,a.className=Ad.a.plexIcon+(i?" "+i:"");var s=[Nd.a.createElement.apply(Nd.a,["path",{d:"M373.331 186.32l-93.324 93.332-93.337-93.341L280.007 93l93.332 93.309L466.67 93 560 186.318l-93.33 93.341-93.339-93.339zm.01 186.669l-93.334 93.34-93.337-93.34 93.337-93.337 93.334 93.337zm-186.67-186.67l-93.338 93.34L0 186.32 93.333 93l93.337 93.318z"}].concat([]))];return t&&s.unshift(Nd.a.createElement("title",null,t)),Nd.a.createElement.apply(Nd.a,["svg",a].concat(s))}AMt.propTypes={"aria-label":vc.a.string,className:vc.a.string,style:vc.a.object};var LMt=AMt,kMt=i("8pg1"),RMt=i.n(kMt),zMt=Vu()(N_,{},void 0,Vu()(Jh,{}));var UMt=function(e){const{isPending:t,hasTidal:i}=e;return t?zMt:i?Vu()(k_,{title:Object(Ze.default)("Account not linked"),description:Object(Ze.default)("Ensure your Plex account is linked to TIDAL.")},void 0,Vu()(zp,{to:"https://plex.tv/users/other-services",kind:Pp},void 0,Object(Ze.default)("Learn more"))):Vu()(N_,{iconComponent:LMt,iconClassName:RMt.a.logo,title:Object(Ze.default)("TIDAL + Plex = music to your ears!"),description:Object(Ze.default)("Need some jams? Add TIDAL streaming music to Plex and get access to 60 million of the highest quality tracks, hundreds of thousands of music videos, awesome premium Plex music features, and seamless integration with your own collection. Sign up today to start a FREE trial!")},void 0,Vu()(BL,{action:Rd.ob},void 0,Vu()(zp,{to:Vp,kind:Pp,target:"_blank"},void 0,Object(Ze.default)("Learn more"))))};var VMt=Object(Hu.b)((function(){return Object(Wu.a)(xMt,e=>({hasTidal:e}))}))(UMt);const BMt=Nd.a.createElement;var FMt=function(e){const{providerIdentifier:t,sourceDirectory:i}=e,n=Xe()(e,["providerIdentifier","sourceDirectory"]);return jt.k(t,jt.c)?BMt(EMt,n):i&&"tidal"===i.id?BMt(VMt,n):BMt(wMt,n)},HMt=i("obfZ"),_Mt=i.n(HMt);const{Component:WMt}=Nd.a;var QMt=class extends WMt{componentDidMount(){this.props.onProviderChange(this.props.providerIdentifier)}componentDidUpdate(e){this.props.providerIdentifier!==e.providerIdentifier&&this.props.onProviderChange(this.props.providerIdentifier)}componentWillUnmount(){this.props.onProviderChange(null)}render(){const{serverEntityID:e,providerEntityID:t,providerIdentifier:i,providerMetricsIdentifier:n,isProgramGuide:a,isAutoHomeHubsEnabled:s,sourceDirectory:r,activeSelectionType:o,hubEntityIDs:l,isHubsPending:c,hubsError:d,hubsTitle:u,isEmpty:p,hubKey:h,showUpsell:m,onRepopulate:g}=this.props;return Vu()(f$,{metricsPage:zd.rb,metricsProperties:{identifier:n,mode:"hub",type:r&&r.type},allowBackgroundLightPreset:!0,scrollDirection:Zp},void 0,o?Vu()(t9e,{serverEntityID:e,providerEntityID:t}):Vu()(MMt,{serverEntityID:e,providerEntityID:t,sourceDirectory:r,hubKey:h,hubsTitle:u}),Vu()(L6e,{innerClassName:_Mt.a.discoverPageContent},void 0,m?Vu()(fMt,{providerIdentifier:i}):null,a?Vu()(G_,{serverEntityID:e,providerEntityID:t}):null,Vu()("div",{className:_Mt.a.discoverPageList},void 0,p||c?Vu()(FMt,{serverEntityID:e,providerEntityID:t,providerIdentifier:i,sourceDirectory:r,isPending:c,error:d,onRepopulate:g}):Vu()(ize,{directoryKey:h,serverEntityID:e,providerEntityID:t,hubEntityIDs:l,sourceDirectory:r,allowHomeHubIndicator:!s,allowPersistentHomeHubStatus:!s,allowToggleHomeHub:!s}))),a?Vu()(gMt,{serverEntityID:e,providerEntityID:t}):null)}};const GMt=Object(Wu.a)(fbe,e=>e.ui.discoverPage.hubs,(function(e,t=[]){let i=t.length;for(;i-- >0;){if(rMt(e[t[i]]))return!1}return!0}));const KMt=Yrt(QMt,(function(e){const t=e.ui.discoverPage;return{providerEntityID:t.providerEntityID,hubKey:t.hubKey}}),(function(e,t){e(lMt({serverEntityID:t.serverEntityID,providerEntityID:t.providerEntityID,hubKey:t.hubKey,sourceDirectory:t.sourceDirectory})),e(cMt({options:{onlyTransient:!0}}))}));var YMt=Object(Hu.b)((function(){return Object(Wu.a)(HS(),e=>e.ui.discoverPage,GMt,hMt,zre,yKe,(e,t,i,n,a,s)=>{const r=t.hubs||[],o=jt.k(e.identifier,jt.c);return{providerIdentifier:e.identifier,providerMetricsIdentifier:e.metricsIdentifier,isProgramGuide:o,isAutoHomeHubsEnabled:s,hubEntityIDs:r,isHubsPending:t.isHubsPending,hubsError:t.hubsError,hubsTitle:t.hubsTitle,isEmpty:i,showUpsell:n,activeSelectionType:a.activeSelectionType}})}),(function(e,t){return{onProviderChange(i){let n;const a=jt.k(i,jt.d);if(t.sourceDirectory&&(n=t.sourceDirectory.id),!n&&a&&t.hubKey){const e=t.hubKey.match(/\w+\/\w+\/(\d+)/);e&&([,n]=e)}e(xte({serverEntityID:t.serverEntityID,providerEntityID:t.providerEntityID,providerIdentifier:i,directoryID:n}))}}}))(KMt);var qMt=Object(Wu.a)(e=>e.ui.libraryPage.metadataList,kre,(e,t)=>t[e]);var ZMt=Object(Wu.a)(e=>e.ui.libraryPage.details,qMt,(e,t)=>{const i=t&&t.meta;return i&&i.types.length?i.types:e?e.types:void 0});function JMt(){return Object(Wu.a)((e,{activeType:t})=>t,(e,{typeKey:t})=>t,ZMt,(e,t,i)=>{let n;return t?n=I.a.find(i,e=>e.key===t):e&&(n=I.a.find(i,t=>{const i=Object(Qt.u)(t.type),n=Object(Qt.u)(e);return!!i&&!!n&&i.id===n.id})),n||(n=I.a.first(i)),n})}var XMt=i("HQmg"),$Mt=i("JHYu");var eDt=xe.a.extend({name:"QueryLimitModel",rootPropertyName:"Limit",syncedAttrs:{limit:Ae.a.integer,unit:Ae.a.string}});var tDt=ke.a.extend({name:"QueryLimitCollection",model:eDt}),iDt=i("uNiD");var nDt=xe.a.extend({name:"QueryParseModel",context:["server"],url(){return this.get("key")},sessionAttrs:{key:Ae.a.string},syncedAttrs:{type:Ae.a.string},syncedRelations:{rule:{relationClass:iDt.a,rootPropertyName:"Rule",deferred:!0},limits:{relationClass:tDt,rootPropertyName:"Limit",deferred:!0}}});const aDt="ui/libraryPage/initLibraryPage",sDt="ui/libraryPage/clearLibraryPageErrors",rDt="ui/libraryPage/initLibraryPageMetadataList",oDt="ui/libraryPage/initLibraryPageSupportingLists",lDt="ui/libraryPage/fetchLibraryDetails",cDt="ui/libraryPage/populateLibraryDetails",dDt="ui/libraryPage/fetchLibraryFirstCharacters",uDt="ui/libraryPage/populateLibraryFirstCharacters",pDt="ui/libraryPage/fetchQueryParse",hDt="ui/libraryPage/populateQueryParse",mDt="ui/libraryPage/selectLibraryFilter",gDt="ui/libraryPage/deselectLibraryFilter",vDt="ui/libraryPage/fetchLibraryFilterOptions",yDt="ui/libraryPage/populateLibraryFilterOptions",fDt="ui/libraryPage/searchLibraryFilterOptions",bDt="ui/libraryPage/selectLibraryTableColumn",IDt="ui/libraryPage/deselectLibraryTableColumn",SDt="ui/libraryPage/updateSmartPlaylist",CDt="ui/libraryPage/navigatePlaylist",MDt=Object(Pi.a)(aDt),DDt=Object(Pi.a)(sDt),PDt=Object(Pi.a)(rDt),ODt=Object(Pi.a)(oDt),jDt=Object(Pi.a)(lDt),wDt=Object(Pi.a)(cDt),TDt=Object(Pi.a)(dDt),EDt=Object(Pi.a)(uDt),NDt=Object(Pi.a)(pDt),xDt=Object(Pi.a)(hDt),ADt=Object(Pi.a)(mDt),LDt=Object(Pi.a)(gDt),kDt=Object(Pi.a)(vDt),RDt=Object(Pi.a)(yDt),zDt=Object(Pi.a)(fDt),UDt=Object(Pi.a)(bDt),VDt=Object(Pi.a)(IDt),BDt=Object(Pi.a)(SDt),FDt=Object(Pi.a)(CDt);function HDt(e){return e.get("ui").get("libraryPage")}const _Dt={[aDt](e,t){const i=HDt(e),n=i.get("details"),a=Object(wi.m)(e,t),s=Object(wi.j)(e,t),{providerEntityID:r,libraryKey:o,directoryKey:l}=t;if(!o&&r===i.get("providerEntityID")&&l===i.get("directoryKey"))return;if(!o)return void i.restoreDefaults({isDetailsPending:!1,isDetailsPopulated:!0,detailsError:null,directoryKey:l,providerEntityID:r});if(r===i.get("providerEntityID")&&o===i.get("libraryKey"))return;const c={providerEntityID:r,libraryKey:o,directoryKey:l};n&&n.get("libraryKey")===o?(c.details=n,c.isDetailsPending=i.get("isDetailsPending"),c.isDetailsPopulated=i.get("isDetailsPopulated"),c.detailsError=i.get("detailsError")):c.details=new HT({key:o},{server:a,provider:s,includeAdvanced:!0}),i.restoreDefaults(c)},[sDt](e,t){HDt(e).set({isUpdatePlaylistPending:!0,updatePlaylistError:null})},[rDt](e,t){const i=HDt(e),n=Object(wi.m)(e,t),a=Object(wi.j)(e,t),s=i.get("metadataList"),{containerKey:r}=t;if(s&&r===s.get("containerKey"))return;if(s)return void s.set({containerKey:r});const o=Object(gT.a)(e,wt.a),l=new Gn.default({entityKey:"libraryPageMetadataList",containerKey:r},{server:n,provider:a,includeCollections:a.get("isLibraryProvider")?1:0,includeExternalMedia:o,includeAdvanced:1,includeMeta:1});i.set({metadataList:l})},[oDt](e,t){const i=HDt(e),n=Object(wi.m)(e,t),a=Object(wi.j)(e,t),s=i.get("firstCharacters"),r=i.get("queryParse"),{firstCharacterKey:o,queryParseKey:l,customFilter:c}=t,d={},u=Object(gT.a)(e,wt.a);let p;if(o&&(p=V.join(o,{includeCollections:1,includeExternalMedia:u})),o&&!s||s&&s.url!==p){const e=new $Mt.a([],{server:n,provider:a,url:p});d.firstCharacters=e,d.isFirstCharactersPending=!1,d.isFirstCharactersPopulated=!1,d.firstCharactersError=null}!c||r&&r.get("key")===l||(d.queryParse=new nDt({key:l},{server:n}),d.isQueryParsePending=!0,d.isQueryParsePopulated=!1,d.queryParseError=null),Object.keys(d).length&&i.set(d)},[lDt]:Object(Oi.a)({key:"details",getModel:HDt}),[cDt]:Object(ji.a)({key:"details",fetchActionCreator:jDt,getModel:HDt}),[dDt]:Object(Oi.a)({key:"firstCharacters",getModel:HDt}),[uDt]:Object(ji.a)({key:"firstCharacters",fetchActionCreator:TDt,getModel:HDt}),[pDt]:Object(Oi.a)({key:"queryParse",getModel:HDt}),[hDt]:Object(ji.a)({key:"queryParse",fetchActionCreator:NDt,getModel:HDt}),[Tn.a](e,t,i){const{metadataItemEntityID:n,containerKeyPattern:a}=t;if(n)return;const s=Object(wi.m)(e,t),r=HDt(e),o=r.get("metadataList");o&&o.server===s&&(a&&!o.get("containerKey").match(a)||(i(wx({metadataListEntityID:o.entityID()})),r.get("firstCharacters")&&i(TDt())))},[mDt](e,t){const i=HDt(e),n=i.get("selectedFilterOptions"),a=Object(wi.m)(e,t),s=Object(wi.j)(e,t),{key:r}=t,o={selectedFilterKey:r},l=Object(gT.a)(e,wt.a)?V.join(r,{includeExternalMedia:1}):r;n&&n.url===r||(o.selectedFilterOptions=new XMt.a([],{server:a,provider:s,url:l}),o.isSelectedFilterOptionsPending=!0,o.isSelectedFilterOptionsPopulated=!1,o.selectedFilterOptionsError=null),i.set(o)},[gDt](e){HDt(e).set({selectedFilterKey:void 0,selectedFilterOptions:void 0,filterOptionQuery:""})},[vDt]:Object(Oi.a)({key:"selectedFilterOptions",getModel:HDt}),[yDt]:Object(ji.a)({key:"selectedFilterOptions",fetchActionCreator:kDt,getModel:HDt}),[fDt](e,t){HDt(e).set("filterOptionQuery",t)},[bDt](e,t,i){const{type:n,subtype:a,activeTableColumns:s,key:r}=t;if(-1!==I.a.findIndex(s,e=>e.key===r))return;const o=l9e(n,a),l=e.get("user").get("experienceSettings").get("libraryTableColumns"),c=s.map(e=>e.key).concat(r);i(Object(Qu.l)({libraryTableColumns:Object.assign({},l,{[o]:c})}))},[IDt](e,t,i){const{type:n,subtype:a,activeTableColumns:s,key:r}=t;if(s.length<=1)return;const o=I.a.findIndex(s,e=>e.key===r);if(-1===o)return;const l=l9e(n,a),c=e.get("user").get("experienceSettings").get("libraryTableColumns"),d=s.slice(0,o).concat(s.slice(o+1)).map(e=>e.key);i(Object(Qu.l)({libraryTableColumns:Object.assign({},c,{[l]:d})}))},[SDt](e,t,i){const n=HDt(e),a=Object(wi.j)(e,t),s=n.get("metadataList"),{playlistID:r}=t,{uri:o}=Pre({providerModel:a,itemProviderModel:a,metadataListModel:s});n.set({isUpdatePlaylistPending:!0,updatePlaylistError:null}),Ore({playlistID:r,uri:o,providerModel:a}).then(()=>i(FDt(t)),e=>{n.set("updatePlaylistError",Object(DT.a)(e))}).always(()=>{n.set("isUpdatePlaylistPending",!1)})},[CDt](e,t,i){const n=HDt(e),a=Object(wi.m)(e,t),s=Object(wi.j)(e,t),r=n.get("metadataList"),{playlistID:o}=t,l=r.get("firstItemType");if(!l)return;const c=Object(Qt.t)(l).mediaType,d=cu(a.toJSON(),s.toJSON(),V.join(["/playlists",o]),{},c);i(Object(Kn.v)({pathname:d}))}};function WDt(e){return Object(Wu.a)((e,{libraryKey:t})=>t,(e,{activeFilters:t})=>t,(e,{activeSort:t})=>t,(e,{activeLimit:t})=>t,(e,{selectedType:t})=>t,(e,{sourceDirectory:t})=>t,(t,i,n,a,s,r)=>{const o={filters:i,sort:n,limit:a};return s&&s.key?AIe([s.key.replace("/all?","/"+e+"?")],o):t?AIe([t,e],o):void 0})}function QDt(){return Object(Wu.a)((e,{activeSort:t})=>t,JMt(),(e,t)=>{if(!t)return;const i=e&&I.a.first(e.split(":"));let n=I.a.find(t.sorts,t=>!!t.active||(e?t.key===i||t.descKey===e:t.isDefault));return n||(n=I.a.first(t.sorts)),n})}var GDt=Object(Wu.a)(Rg.a,e=>e.listStyles);function KDt(e){const{type:t,primaryExtraKey:i}=e;return"track"===t&&!!i}var YDt=i("W6Nc"),qDt=i.n(YDt);function ZDt(e){const{className:t,iconClassName:i,iconComponent:n}=e;return Vu()("span",{className:t},void 0,Vu()(n,{className:i}))}ZDt.defaultProps={className:qDt.a.decoratorIconContainer,iconClassName:qDt.a.decoratorIcon};var JDt=ZDt,XDt=i("eq1q"),$Dt=i.n(XDt),ePt=Vu()(JDt,{iconComponent:PC});var tPt=function(e){const{className:t,title:i,isFolder:n,isMultiVersion:a,hasMusicVideo:s}=e;return Vu()("span",{className:t},void 0,Vu()("div",{className:$Dt.a.titleContainer},void 0,n?Vu()(JDt,{className:$Dt.a.folderIconContainer,iconClassName:$Dt.a.folderIcon,iconComponent:uC}):null,Vu()("span",{className:$Dt.a.title},void 0,i),Vu()("span",{},void 0,a?Vu()(JDt,{iconClassName:$Dt.a.multiVersionIcon,iconComponent:rwe}):null,s?ePt:null)))};var iPt=Object(Hu.b)((function(){return Object(Wu.a)($K(),e=>e?{title:e.title,isFolder:e.isFolder,isMultiVersion:jje(e),hasMusicVideo:KDt(e)}:{})}))(tPt),nPt=i("litE"),aPt=i.n(nPt),sPt=Vu()(tf,{}),rPt=Vu()(JDt,{iconComponent:PC});var oPt=function(e){const{className:t,title:i,originalTitle:n,hasMusicVideo:a}=e;return Vu()("span",{className:t},void 0,Vu()("span",{className:aPt.a.titleContainer},void 0,Vu()("span",{className:aPt.a.title,"data-qa-id":"trackName"},void 0,i,n?Vu()("span",{className:aPt.a.trackArtist},void 0,i?sPt:null,n):null),a?rPt:null))};var lPt=Object(Hu.b)((function(){return Object(Wu.a)($K(),e=>{if(!e)return{};const{title:t,originalTitle:i}=e;return{title:t,originalTitle:i,hasMusicVideo:KDt(e)}})}))(oPt);var cPt=function({className:e,lastRatedAt:t}){return t?Vu()(Oce,{className:e,timestamp:t}):null};var dPt=Object(Hu.b)((function(){return Object(Wu.a)($K(),(e={})=>({lastRatedAt:e.lastRatedAt}))}))(cPt),uPt=i("1B0D"),pPt=i.n(uPt);function hPt({size:e,saved:t,viewOffset:i,viewCount:n}){return null==t||t||i?n||i?i?Vu()("div",{className:(pPt.a.unwatchedCircle||"")+" "+(pPt.a.isPartiallyWatched||"")+" "+(pPt.a[e]||"")}):null:Vu()("div",{className:(pPt.a.unwatchedCircle||"")+" "+(pPt.a[e]||"")}):null}hPt.defaultProps={size:Hh};var mPt=hPt;var gPt=Object(Hu.b)((function(){return Object(Wu.a)($K(),(e={})=>({saved:e.saved,viewOffset:e.viewOffset,viewCount:e.viewCount}))}))(mPt),vPt=i("7ykk"),yPt=i.n(vPt);function fPt(e){const{className:t,size:i,duration:n,viewOffset:a,viewCount:s,isFolder:r}=e;return r?null:s||a?Vu()(CCe,{className:t,duration:n,viewOffset:a}):Vu()("div",{className:(yPt.a.unwatchedCircle||"")+" "+(yPt.a[i]||"")})}fPt.defaultProps={size:Hh};var bPt=fPt;var IPt=Object(Hu.b)((function(){return Object(Wu.a)($K(),(e={})=>({duration:e.duration,viewOffset:e.viewOffset,viewCount:e.viewCount,isFolder:e.isFolder}))}))(bPt);var SPt=function({className:e,originalTitle:t}){return Vu()("span",{className:e,title:t},void 0,t)};var CPt=Object(Hu.b)((function(){return Object(Wu.a)($K(),(e={})=>({originalTitle:e.originalTitle}))}))(SPt);var MPt=function({className:e,unviewedLeafCount:t}){let i;return t>0&&(i=Object(Ze.default)("{numEpisodes} unplayed",{numEpisodes:t})),Vu()("span",{className:e},void 0,i)};var DPt=Object(Hu.b)((function(){return Object(Wu.a)($K(),(e={})=>({unviewedLeafCount:e.unviewedLeafCount}))}))(MPt);var PPt=function({className:e,viewCount:t}){return Vu()("span",{className:e},void 0,t>0?t:null)};var OPt=Object(Hu.b)((function(){return Object(Wu.a)($K(),(e={})=>({viewCount:e.viewCount}))}))(PPt);const jPt={flex:"2 1 350px"},wPt={flex:"0 1 200px"},TPt={key:"title",ascKey:"titleSort",descKey:"titleSort:desc",title:e=>{switch(e){case Qt.j:return Object(Ze.default)("Movie Title");case Qt.o:return Object(Ze.default)("Show Title");case Qt.f:return Object(Ze.default)("Episode Title");case Qt.b:return Object(Ze.default)("Artist Title");case Qt.a:return Object(Ze.default)("Album Title");case Qt.p:return Object(Ze.default)("Track Title");default:return Object(Ze.default)("Title")}},component:()=>iPt,style:jPt},EPt={key:"season",ascKey:"season.index,season.titleSort",descKey:"season.index:desc,season.titleSort",title:()=>Object(Ze.default)("Season"),component:()=>iPt,style:jPt},NPt={key:"seasonShow",ascKey:"show.titleSort,index",descKey:"show.titleSort:desc,index",title:()=>Object(Ze.default)("Show"),component:()=>Mce,style:jPt},xPt={key:"episodeShow",ascKey:"show.titleSort,season.index:nullsLast,episode.index:nullsLast,episode.originallyAvailableAt:nullsLast,episode.titleSort,episode.id",descKey:"show.titleSort:desc,season.index:nullsLast,episode.index:nullsLast,episode.originallyAvailableAt:nullsLast,episode.titleSort,episode.id",title:()=>Object(Ze.default)("Show"),component:()=>Sce,style:jPt},APt={key:"albumArtist",ascKey:"artist.titleSort,album.titleSort,album.index,album.id,album.originallyAvailableAt",descKey:"artist.titleSort:desc,album.titleSort,album.index,album.id,album.originallyAvailableAt",title:()=>Object(Ze.default)("Album Artist"),component:()=>Mce,style:jPt},LPt={key:"trackAlbumArtist",ascKey:"artist.titleSort,album.titleSort,album.year,track.absoluteIndex,track.index,track.titleSort,track.id",descKey:"artist.titleSort:desc,album.titleSort,album.year,track.absoluteIndex,track.index,track.titleSort,track.id",title:()=>Object(Ze.default)("Album Artist"),component:()=>Sce,style:jPt},kPt={key:"trackArtist",title:()=>Object(Ze.default)("Artist"),ascKey:"originalTitle",descKey:"originalTitle:desc",component:()=>CPt,style:jPt},RPt={key:"combinedTitleTrackArtist",ascKey:"titleSort",descKey:"titleSort:desc",title:()=>Object(Ze.default)("Track Title"),component:()=>lPt,style:jPt},zPt={key:"trackAlbum",ascKey:"album.titleSort",descKey:"album.titleSort:desc",title:()=>Object(Ze.default)("Album"),component:()=>Mce,style:jPt},UPt={key:"year",ascKey:"year",descKey:"year:desc",title:()=>Object(Ze.default)("Year"),component:()=>qce,style:{flex:"0 1 150px"}},VPt={key:"criticRating",ascKey:"rating",descKey:"rating:desc",title:()=>Object(Ze.default)("Critic Rating"),component:()=>eMe,style:{flex:"0 0 150px"}},BPt={key:"userRating",ascKey:"userRating",descKey:"userRating:desc",title:()=>Object(Ze.default)("Rating"),component:()=>xMe,style:{flex:"0 0 115px"}},FPt={key:"miniUserRating",ascKey:"userRating",descKey:"userRating:desc",title:()=>Object(Ze.default)("Rating"),component:()=>xMe,style:{flex:"0 0 75px",padding:0}},HPt={key:"contentRating",ascKey:"contentRating",descKey:"contentRating:desc",title:()=>Object(Ze.default)("Content Rating"),component:()=>HCe,style:{flex:"0 0 150px"}},_Pt={key:"duration",ascKey:"duration",descKey:"duration:desc",title:()=>Object(Ze.default)("Duration"),component:e=>{switch(e){case Qt.p:return DRe;default:return tMe}},style:{flex:"0 1 150px"}},WPt={key:"progress",ascKey:"viewOffset",descKey:"viewOffset:desc",title:()=>Object(Ze.default)("Progress"),component:()=>IPt,style:{flex:"0 1 150px"}},QPt={key:"miniProgress",ascKey:"viewOffset",descKey:"viewOffset:desc",title:()=>Object(Ze.default)("Progress"),component:()=>gPt,style:{flex:"0 0 25px",paddingLeft:"10px",paddingRight:0}},GPt={key:"seasonCount",ascKey:"childCount",descKey:"childCount:desc",title:()=>Object(Ze.default)("Seasons"),component:()=>Wce,style:{flex:"0 1 150px"}},KPt={key:"seasonCount",ascKey:"childCount",descKey:"childCount:desc",title:()=>Object(Ze.default)("Episodes"),component:()=>nCe,style:{flex:"0 1 150px"}},YPt={key:"unwatchedCount",ascKey:"unviewedLeafCount",descKey:"unviewedLeafCount:desc",title:()=>Object(Ze.default)("Unplayed"),component:()=>DPt,style:{flex:"0 1 150px"}},qPt={key:"playCount",ascKey:"viewCount",descKey:"viewCount:desc",title:()=>Object(Ze.default)("Plays"),component:()=>OPt,style:{flex:"0 1 150px"}},ZPt={key:"dateAdded",ascKey:"addedAt",descKey:"addedAt:desc",title:()=>Object(Ze.default)("Date Added"),component:()=>Vce,style:wPt},JPt={key:"dateViewed",ascKey:"lastViewedAt",descKey:"lastViewedAt:desc",title:()=>Object(Ze.default)("Date Viewed"),component:()=>nMe,style:wPt},XPt={key:"releaseDate",ascKey:"originallyAvailableAt",descKey:"originallyAvailableAt:desc",title:e=>{switch(e){case"movie":return Object(Ze.default)("Release Date");case"show":case"episode":return Object(Ze.default)("Air Date");case"album":default:return Object(Ze.default)("Release Date")}},component:()=>oMe,style:wPt},$Pt={key:"lastRatedAt",ascKey:"lastRatedAt",descKey:"lastRatedAt:desc",title:()=>Object(Ze.default)("Date Rated"),component:()=>dPt,style:wPt},eOt={key:"resolution",ascKey:"mediaHeight",descKey:"mediaHeight:desc",title:()=>Object(Ze.default)("Resolution"),component:()=>cMe,style:{flex:"0 1 150px"}},tOt={key:"bitrate",ascKey:"mediaBitrate",descKey:"mediaBitrate:desc",title:()=>Object(Ze.default)("Bitrate"),component:()=>VCe,style:{flex:"0 1 150px"}},iOt={movie:[TPt,UPt,VPt,BPt,HPt,_Pt,WPt,qPt,ZPt,JPt,XPt,eOt,tOt],show:[TPt,UPt,VPt,BPt,HPt,GPt,YPt,ZPt,JPt,XPt],season:[EPt,NPt,BPt,ZPt],episode:[TPt,xPt,UPt,VPt,BPt,_Pt,WPt,qPt,ZPt,JPt,XPt,eOt,tOt],artist:[TPt,BPt,ZPt],album:[TPt,APt,UPt,VPt,BPt,ZPt,XPt],track:[TPt,LPt,kPt,zPt,UPt,BPt,_Pt,WPt,qPt,ZPt,$Pt,tOt],collection:[TPt,BPt]},nOt=[TPt,EPt,NPt,xPt,APt,LPt,kPt,zPt,UPt,VPt,BPt,HPt,_Pt,WPt,GPt,KPt,YPt,qPt,ZPt,JPt,$Pt,XPt,eOt,tOt];function aOt(e){return iOt[e]}function sOt(e=[]){const t=e.reduce((e,t)=>(e[t.key]=!0,e),{});return nOt.reduce((e,i)=>(t[i.ascKey]&&e.push(i),e),[])}var rOt=Object(Wu.a)(Rg.a,e=>e.libraryTableColumns);function oOt(){return Object(Wu.a)((e,{listType:t})=>t,(e,{listSubtype:t})=>t,(e,{listContext:t})=>t,(e,{isFolder:t})=>t,JMt(),rOt,(e,t,i,n,a={},s)=>{const r=i===yc,o=l9e(e,t);return function(e,t,i,n={}){const a=n.keys,s=n.sorts,r=n.isFolder;if(a&&a.length){return(s&&s.length&&!r?sOt(s):aOt(e)).reduce((e,t)=>(-1!==a.indexOf(t.key)&&e.push(t),e),[])}switch(i){case fc:switch(e){case Qt.n:return[EPt,UPt,KPt,BPt];case Qt.f:return[QPt,TPt,BPt];case Qt.a:return[TPt,UPt,BPt];case Qt.p:return[RPt,FPt]}break;case"metadataList":switch(e){case Qt.p:return[TPt,LPt,zPt,BPt,_Pt]}}switch(t){case LC.c:switch(e){case Qt.o:return[TPt];case Qt.p:return[TPt,_Pt]}}switch(e){case Qt.j:return[TPt,UPt,_Pt,WPt];case Qt.o:return[TPt,UPt,GPt,YPt];case Qt.n:return[EPt,NPt];case Qt.f:return[TPt,xPt,WPt];case Qt.b:return[TPt];case Qt.a:return[TPt,APt,UPt];case Qt.p:return[TPt,LPt,_Pt];case Qt.k:case Qt.l:case Qt.d:case Qt.e:return[TPt]}return[]}(e,t,i,{isFolder:n,keys:r?s[o]:void 0,sorts:r?a.sorts:void 0})})}var lOt=i("uEtx"),cOt=i.n(lOt);const dOt=Nd.a.createElement;function uOt(e){const{isAscending:t}=e,i=Xe()(e,["isAscending"]);return dOt(t?But:Uut,tp()({"aria-label":t?Object(Ze.default)("Ascending"):Object(Ze.default)("Descending")},i))}uOt.defaultProps={className:cOt.a.sortDirectionIcon,isAscending:!0};var pOt=uOt,hOt=i("KzEB"),mOt=i.n(hOt);const gOt=Nd.a.createElement;function vOt(e){const{children:t}=e,i=Xe()(e,["children"]);return gOt("div",i,t)}vOt.defaultProps={className:mOt.a.tableHeader};var yOt=vOt,fOt=i("N6Bl"),bOt=i.n(fOt);const IOt=Nd.a.createElement;function SOt(e){const{className:t,activeClassName:i,children:n,isActive:a}=e,s=Xe()(e,["className","activeClassName","children","isActive"]),r=a?i:t;return IOt("div",tp()({className:r},s),n)}SOt.defaultProps={className:bOt.a.tableHeaderCell,activeClassName:bOt.a.activeTableHeaderCell};var COt=SOt,MOt=i("mZ//"),DOt=i.n(MOt);const POt=Nd.a.createElement;function OOt(e){const{children:t}=e,i=Xe()(e,["children"]);return POt(zp,i,t)}OOt.defaultProps={className:DOt.a.tableHeaderLink};var jOt=OOt,wOt=i("oArg"),TOt=i.n(wOt);const EOt=Nd.a.createElement;function NOt(e){const{children:t}=e,i=Xe()(e,["children"]);return EOt("div",i,t)}NOt.defaultProps={className:TOt.a.tableHeaderTitle};var xOt=NOt;const{Component:AOt}=Nd.a;var LOt=class extends AOt{constructor(...e){super(...e),this.onPress=e=>{(this.props.isSelected?this.props.onColumnDeselect:this.props.onColumnSelect)(this.props.columnKey),this.props.onMenuClose()}}render(){const{children:e,isSelected:t}=this.props;return Vu()(oy,{isSelected:t,onPress:this.onPress},void 0,e)}},kOt=i("ulDd"),ROt=i.n(kOt);const{Component:zOt}=Nd.a;var UOt=Vu()(tX,{});var VOt=class extends zOt{constructor(e,t){super(e,t),this._columnsButtonID=void 0,this.onChangeColumnsPress=e=>{this.setState({isColumnsMenuOpen:!this.state.isColumnsMenuOpen})},this.onColumnsMenuClose=()=>{this.setState({isColumnsMenuOpen:!1})},this.state={isColumnsMenuOpen:!1},this._columnsButtonID=Mp()}render(){const{activeTableColumnsByKey:e,allTableColumns:t,typeKey:i,listType:n,activeFilters:a,activeFilterLabel:s,activeSort:r,customFilter:o,selectedSort:l,isDisabled:c,onColumnSelect:d,onColumnDeselect:u}=this.props,{isColumnsMenuOpen:p}=this.state;return Vu()(yOt,{"data-qa-id":"metadataTableHeader"},void 0,Vu()("div",{className:ROt.a.playCell}),t.map(({style:t,title:d,ascKey:u,descKey:p,key:h})=>{if(!e[h])return null;const m=r===u||r===p||l.key===u,g=r?r===u:l.key===u;return c?Vu()("div",{style:t,className:ROt.a.tableHeader},h,Vu()(COt,{},void 0,Vu()(xOt,{},void 0,d(n)))):Vu()(jOt,{style:t,to:_Se({typeKey:i,filters:a,filterLabel:s,sort:g?p:u,customFilter:o})},h,Vu()(COt,{isActive:m},void 0,Vu()(xOt,{},void 0,d(n)),m?Vu()(pOt,{isAscending:!g}):null))}),Vu()("div",{className:ROt.a.actionsCell},void 0,Vu()(zp,{id:this._columnsButtonID,className:ROt.a.columnsButton,"aria-label":Object(Ze.default)("Change Columns"),"aria-haspopup":!0,onPress:this.onChangeColumnsPress},void 0,UOt),Vu()(Qv,{target:this._columnsButtonID,isOpen:p,onMenuClose:this.onColumnsMenuClose},void 0,t.map(t=>Vu()(LOt,{columnKey:t.key,isSelected:!!e[t.key],onColumnSelect:d,onColumnDeselect:u,onMenuClose:this.onColumnsMenuClose},t.key,t.title(n))))))}};const BOt=Nd.a.createElement,{Component:FOt}=Nd.a;function HOt(e=[],t){const i=e.reduce((e,t)=>(e[t.key]=t,e),{});return t.map(e=>{const t=i[e.ascKey];return t?Object.assign({},e,{title:i=>t.title||e.title(i)}):e})}const _Ot={dispatchSelectLibraryTableColumn:UDt,dispatchDeselectLibraryTableColumn:VDt};var WOt=Object(Hu.b)((function(){return Object(Wu.a)((e,{listType:t})=>t,(e,{isFolder:t})=>t,oOt(),JMt(),(e,t,i,n)=>{const a=t?aOt(e):sOt(n.sorts),s=i.reduce((e,t)=>(e[t.key]=t,e),{});return{allTableColumns:HOt(n.sorts,a),activeTableColumnsByKey:s,activeTableColumns:i}})}),_Ot)(class extends FOt{constructor(...e){super(...e),this.onColumnSelect=e=>{this.props.dispatchSelectLibraryTableColumn({type:this.props.listType,subtype:this.props.listSubtype,activeTableColumns:this.props.activeTableColumns,key:e})},this.onColumnDeselect=e=>{this.props.dispatchDeselectLibraryTableColumn({type:this.props.listType,subtype:this.props.listSubtype,activeTableColumns:this.props.activeTableColumns,key:e})}}render(){const e=this.props,t=Xe()(e,["dispatchSelectLibraryTableColumn","dispatchDeselectLibraryTableColumn","activeTableColumns"]);return BOt(VOt,tp()({},t,{onColumnSelect:this.onColumnSelect,onColumnDeselect:this.onColumnDeselect}))}});const QOt=Nd.a.createElement;var GOt=function(e){return QOt(Qnt,tp()({className:T_.a.innerEmptyPage,contentClassName:T_.a.innerEmptyPageContent,scrollDirection:Zp},e))},KOt=i("reQb"),YOt=i.n(KOt);const qOt=Nd.a.createElement;var ZOt=function(e){const t=function({sourceDirectory:e,hint:t,error:i}){if(e&&"tidal"===e.id){const e={iconComponent:LMt,iconClassName:YOt.a.tidal,title:Object(Ze.default)("TIDAL + Plex = music to your ears!"),link:Vp,linkText:Object(Ze.default)("Learn more"),linkTarget:"_blank",linkAction:Rd.ob};if(406===i&&t){if(t.includes("saved"))return Object.assign({},e,{description:Object(Ze.default)("With a TIDAL subscription you can add Albums, artists, tracks and videos to My TIDAL to keep track of your favorite music.")});if(t.includes("playlists"))return Object.assign({},e,{description:Object(Ze.default)("Once you have a TIDAL subscription you can add music to My TIDAL Playlists and keep the party going.")})}}if(404===i)return{title:Object(Ze.default)("You must be lost"),description:Object(Ze.default)("We can't find the page you're looking for"),link:"#",linkText:Object(Ze.default)("Go Home")}}(e);if(t){const{link:e,linkText:i,linkTarget:n,linkAction:a}=t,s=Xe()(t,["link","linkText","linkTarget","linkAction"]),r=Vu()(zp,{to:e,kind:Pp,target:n},void 0,i);return qOt(k_,s,a?Vu()(BL,{action:a},void 0,r):r)}return Vu()(sot,{title:e.defaultTitle},void 0,e.children)};var JOt=Object(Wu.a)(ZMt,e=>e.reduce((e,t)=>(e.push.apply(e,t.fields),e),[]));var XOt=Object(Wu.a)(e=>e.ui.libraryPage.details,qMt,(e,t)=>{const i=t&&t.meta;return i&&i.fieldTypes.length?i.fieldTypes:e?e.fieldTypes:void 0}),$Ot=i("Qb9m"),ejt=i.n($Ot);const tjt=Nd.a.createElement;function ijt(e){let{children:t}=e,i=Xe()(e,["children"]);return tjt("div",i,t)}ijt.defaultProps={className:ejt.a.group};var njt=ijt,ajt=i("Zev7"),sjt=i.n(ajt);function rjt({className:e,name:t,labelText:i,showErrors:n,errors:a}){return Vu()(yB,{className:e,showErrors:n,errors:a,name:t,labelText:i})}rjt.defaultProps={className:sjt.a.label};var ojt=rjt,ljt=i("YxVA"),cjt=i.n(ljt);const djt=Nd.a.createElement;function ujt(e){let{inputClassName:t,name:i,labelText:n,showErrors:a,errors:s,leftLabel:r}=e,o=Xe()(e,["inputClassName","name","labelText","showErrors","errors","leftLabel"]);return Vu()(njt,{},void 0,r?Vu()(ojt,{hasError:a,errors:s,name:i,labelText:n}):null,djt(FB,tp()({className:t,name:i,hasError:a},o)),r?null:Vu()(ojt,{hasError:a,errors:s,name:i,labelText:n}))}ujt.defaultProps={inputClassName:cjt.a.input,leftLabel:!0};var pjt=IB(ujt);var hjt=function(e){return">>=-"===e||"<<=-"===e};var mjt=Object(Wu.a)(XOt,e=>e.reduce((e,t)=>{if(t.type===_T){const i=t.operators.filter(({key:e})=>"="!==e&&"!="!==e);i.push({key:">>=-",title:Object(Ze.default)("in the last")},{key:"<<=-",title:Object(Ze.default)("in not the last")}),e[t.type]=i}else e[t.type]=t.operators;return e},{})),gjt=i("l+2V"),vjt=i("FpO7"),yjt=i("z07K"),fjt=i.n(yjt);const bjt=Nd.a.createElement,{Component:Ijt}=Nd.a;class Sjt extends Ijt{constructor(...e){super(...e),this.inputRef=void 0,this.textMaskInputElement=void 0,this.setInputRef=e=>{this.inputRef=e},this.onChange=e=>{this.textMaskInputElement.update(),this.props.onChange(this.textMaskInputElement.state.previousConformedValue)}}componentDidMount(){const{value:e}=this.props,{mask:t,guide:i,pipe:n,placeholderChar:a,keepCharPositions:s}=this.props;this.textMaskInputElement=Object(vjt.createTextMaskInputElement)({inputElement:this.inputRef,mask:t,guide:i,pipe:n,placeholderChar:a,keepCharPositions:s}),this.textMaskInputElement.update(e)}componentDidUpdate(){this.textMaskInputElement.update(this.props.value)}render(){const e=this.props,{className:t,errorClassName:i,disabledClassName:n,isDisabled:a,type:s,name:r,value:o,size:l,hasError:c}=e,d=Xe()(e,["className","errorClassName","disabledClassName","isDisabled","type","name","initialValue","value","size","mask","guide","pipe","placeholderChar","keepCharPositions","hasError","errors","validations","onChange"]);return bjt("input",tp()({},d,{className:(t||"")+" "+(fjt.a[l]||"")+" "+(a&&n||"")+" "+(c&&i||""),id:r,name:r,type:s,disabled:a,defaultValue:o,ref:this.setInputRef,onChange:this.onChange}))}}Sjt.defaultProps={className:fjt.a.input,errorClassName:fjt.a.hasError,disabledClassName:fjt.a.isDisabled,isDisabled:!1,size:_h,type:"text",hasError:!1};var Cjt=Sjt;const Mjt=Nd.a.createElement,Djt=[/\d/,/\d/,/\d/,/\d/,"-",/\d/,/\d/,"-",/\d/,/\d/],Pjt=Object(gjt.createAutoCorrectedDatePipe)("yyyy-mm-dd");function Ojt(e){return Mjt(Cjt,tp()({mask:Djt,pipe:Pjt,keepCharPositions:!0,placeholder:"yyyy-mm-dd"},e))}Ojt.defaultProps={placeholderChar:"",guide:!1};var jjt=Ojt,wjt=i("OOzj"),Tjt=i.n(wjt);const{Component:Ejt}=Nd.a,Njt=/^([0-9]+)?([a-zA-Z]+)?$/;var xjt=class extends Ejt{constructor(e,t){super(e,t),this.onValueChange=e=>{this.setState({inputValue:e},()=>{this.props.onChange(""+e+this.state.selectedUnit)})},this.onUnitChange=e=>{this.setState({selectedUnit:e},()=>{this.props.onChange(""+this.state.inputValue+e)})},this.state=this.getStateFromProps(e)}componentWillReceiveProps(e){this.props.value!==e.value&&this.setState(this.getStateFromProps(e))}getStateFromProps(e){const[t]=e.units,[,i="",n=Object.keys(t)[0]]=e.value.match(Njt)||[];return{inputValue:i,selectedUnit:n}}render(){const{textInputClassName:e,selectInputClassName:t,units:i,size:n}=this.props;return Vu()("span",{className:Tjt.a.inputs},void 0,Vu()(UB,{name:"unitValue",className:e,type:"number",value:this.state.inputValue,size:n,onChange:this.onValueChange}),Vu()(LR,{name:"unit",className:t,value:this.state.selectedUnit,values:i,size:n,onChange:this.onUnitChange}))}};function Ajt(e){var t=e["aria-label"],i=e.className,n=e.style,a={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-toolbar-filter-add-560"};a["aria-hidden"]=!t,a.style=n,a.className=Ad.a.plexIcon+(i?" "+i:"");var s=[Nd.a.createElement.apply(Nd.a,["path",{d:"m280 518c-131.44 0-238-106.56-238-238 0-131.44 106.56-238 238-238 131.44 0 238 106.56 238 238 0 131.44-106.56 238-238 238m0-42c108.25 0 196-87.75 196-196 0-108.25-87.75-196-196-196-108.25 0-196 87.75-196 196 0 108.25 87.75 196 196 196m-126-218.4h103.6v-103.6h44.8v103.6h103.6v44.8h-103.6v103.6h-44.8v-103.6h-103.6v-44.8"}].concat([]))];return t&&s.unshift(Nd.a.createElement("title",null,t)),Nd.a.createElement.apply(Nd.a,["svg",a].concat(s))}Ajt.propTypes={"aria-label":vc.a.string,className:vc.a.string,style:vc.a.object};var Ljt=Ajt;function kjt(e){var t=e["aria-label"],i=e.className,n=e.style,a={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-toolbar-filter-remove-560"};a["aria-hidden"]=!t,a.style=n,a.className=Ad.a.plexIcon+(i?" "+i:"");var s=[Nd.a.createElement.apply(Nd.a,["path",{d:"m280 518c-131.44 0-238-106.56-238-238 0-131.44 106.56-238 238-238 131.44 0 238 106.56 238 238 0 131.44-106.56 238-238 238m0-42c108.25 0 196-87.75 196-196 0-108.25-87.75-196-196-196-108.25 0-196 87.75-196 196 0 108.25 87.75 196 196 196m-126-218.4h252v44.8h-252v-44.8"}].concat([]))];return t&&s.unshift(Nd.a.createElement("title",null,t)),Nd.a.createElement.apply(Nd.a,["svg",a].concat(s))}kjt.propTypes={"aria-label":vc.a.string,className:vc.a.string,style:vc.a.object};var Rjt=kjt,zjt=i("Zi5A"),Ujt=i.n(zjt);const{Component:Vjt}=Nd.a;var Bjt=Vu()(NI,{});var Fjt=class extends Vjt{constructor(...e){super(...e),this.onRemovePress=()=>{this.props.onRemove(this.props.index)}}render(){const{tag:e,index:t,tagCount:i,isDisabled:n,getTagDisplayValue:a}=this.props;return Vu()("span",{className:Ujt.a.container},void 0,Vu()("span",{className:Ujt.a.tag},void 0,n?null:Vu()(zp,{className:Ujt.a.remove,"aria-label":Object(Ze.default)("Remove Tag"),onPress:this.onRemovePress},void 0,Bjt),Vu()("span",{},void 0,a(e))),Vu()("span",{className:Ujt.a.or},void 0,t!==i-1?Object(Ze.default)("or"):null))}},Hjt=i("URkQ"),_jt=i.n(Hjt);const{Component:Wjt}=Nd.a,Qjt=["=","!="],Gjt=["==","!=="],Kjt={integer:/^\d+$/};function Yjt(e){const{selectedField:t,filter:i,selectedFilterOptions:n,suggestionsFilter:a,renderSuggestion:s,shouldRenderSuggestions:r,getSuggestionValue:o,getTagValue:l,getTagDisplayValue:c,makeTag:d,makeTagFromSuggestion:u,onSuggestionSelected:p,onSuggestionsFetchRequested:h,onSuggestionsClearRequested:m,onValueChange:g,onTagValueChange:v}=e;return t?"boolean"===t.type?null:"rating"===t.subType?Vu()(LR,{className:_jt.a.selectInput,name:"value",size:Fh,values:[{"-1":Object(Ze.default)("Empty")},{2:""},{4:""},{6:""},{8:""},{10:""}],value:i.value[0]?i.value[0].value:"",onChange:g}):t.type===_T&&hjt(i.operator)?Vu()(xjt,{textInputClassName:_jt.a.unitTextInput,selectInputClassName:_jt.a.selectInput,name:"value",size:Fh,units:[{s:Object(Ze.default)("Seconds")},{m:Object(Ze.default)("Minutes")},{h:Object(Ze.default)("Hours")},{d:Object(Ze.default)("Days")},{w:Object(Ze.default)("Weeks")},{mon:Object(Ze.default)("Months")},{y:Object(Ze.default)("Years")}],value:i.value[0]?i.value[0].value:"",onChange:g}):t.type===_T?Vu()(jjt,{className:_jt.a.textInput,name:"value",size:Fh,value:i.value[0]?i.value[0].value:"",onChange:g}):Vu()(mZ,{className:_jt.a.tagsInput,value:i.value,suggestions:n,suggestionsFilter:a,renderSuggestion:s,shouldRenderSuggestions:r,getSuggestionValue:o,getTagValue:l,getTagDisplayValue:c,makeTag:d,makeTagFromSuggestion:u,tagComponent:Fjt,validationRegex:Kjt[t.type],onSuggestionSelected:p,onSuggestionsFetchRequested:h,onSuggestionsClearRequested:m,onChange:v}):null}var qjt=Vu()(Rjt,{}),Zjt=Vu()(Ljt,{});class Jjt extends Wjt{constructor(...e){super(...e),this.onSuggestionSelected=void 0,this.shouldRenderSuggestions=e=>{const{selectedFilter:t,selectedField:{type:i},value:{operator:n}}=this.props;return!!t&&("string"===i&&Gjt.indexOf(n)>-1||"string"!==i&&Qjt.indexOf(n)>-1)},this.onFieldChange=e=>{const{fieldKeyTypes:t}=this.props,{defaultOperator:i,type:n,subType:a}=t[e],s=[];"boolean"===n&&s.push({value:1}),"rating"===a&&s.push({value:"-1"}),e!==this.props.value.key&&this.props.onChange({key:e,operator:i,value:s})},this.onOperatorChange=e=>{const{selectedField:t}=this.props;let i;i=t.type===_T&&hjt(e)&&hjt(this.props.value.operator)||!hjt(e)&&!hjt(this.props.value.operator)?this.props.value.value:[],this.props.onChange(Object.assign({},this.props.value,{value:i,operator:e}))},this.onTagValueChange=e=>{this.props.onChange(Object.assign({},this.props.value,{value:Array.isArray(e)?e:[e]}))},this.onValueChange=e=>{this.props.onChange(Object.assign({},this.props.value,{value:[{value:e}]}))},this.onRemovePress=()=>{this.props.onRemovePress(this.props.index)},this.onAddPress=()=>{this.props.onAddPress(this.props.index)}}getSuggestionValue(e){return e}getTagValue(e){return e.value}getTagDisplayValue(e){return e.valueTitle||e.value}makeTag(e){return{value:encodeURIComponent(e),valueTitle:e}}makeTagFromSuggestion(e){return{value:e.value,valueTitle:e.title}}suggestionsFilter(e,t){return e.title.toLowerCase().indexOf(t.toLowerCase())>-1}renderSuggestion(e){return e.title}render(){const{isRemoveDisabled:e,value:t,operatorValues:i,fieldValues:n,selectedField:a,selectedFilterOptions:s,onSuggestionsFetchRequested:r,onSuggestionsClearRequested:o}=this.props;return Vu()("div",{className:_jt.a.container},void 0,Vu()("div",{className:_jt.a.rules},void 0,Vu()("div",{className:_jt.a.rule},void 0,Vu()(LR,{className:_jt.a.selectInput,name:"filter",size:Fh,values:n,value:t.key,onChange:this.onFieldChange})),Vu()("div",{className:_jt.a.rule},void 0,Vu()(LR,{className:_jt.a.selectInput,name:"operator",size:Fh,values:i,value:t.operator,onChange:this.onOperatorChange})),Vu()("div",{className:_jt.a.value},void 0,Vu()(Yjt,{selectedField:a,filter:t,selectedFilterOptions:s,suggestionsFilter:this.suggestionsFilter,renderSuggestion:this.renderSuggestion,shouldRenderSuggestions:this.shouldRenderSuggestions,getSuggestionValue:this.getSuggestionValue,getTagValue:this.getTagValue,getTagDisplayValue:this.getTagDisplayValue,makeTag:this.makeTag,makeTagFromSuggestion:this.makeTagFromSuggestion,tagComponent:Fjt,onSuggestionSelected:this.onSuggestionSelected,onSuggestionsFetchRequested:r,onSuggestionsClearRequested:o,onTagValueChange:this.onTagValueChange,onValueChange:this.onValueChange})),Vu()("div",{className:_jt.a.buttons},void 0,Vu()(zp,{className:e?_jt.a.iconButtonDisabled:_jt.a.iconButton,"aria-label":Object(Ze.default)("Remove Filter"),isDisabled:e,onPress:this.onRemovePress},void 0,qjt),Vu()(zp,{className:_jt.a.iconButton,"aria-label":Object(Ze.default)("Add Filter"),onPress:this.onAddPress},void 0,Zjt))))}}Jjt.defaultProps={isRemoveDisabled:!1,isAddEnabled:!0,onRemovePress(){},onAddPress(){}};var Xjt=Jjt;const $jt=Nd.a.createElement,{Component:ewt}=Nd.a,twt=new RegExp("("+["duration","mediaSize","mediaBitrate","show.writer","show.producer","show.director"].join("|")+")$");const iwt={dispatchSelectLibraryFilter:ADt,dispatchPopulateLibraryFilterOptions:RDt,dispatchDeselectLibraryFilter:LDt,dispatchSearchLibraryFilterOptions:zDt};var nwt=IB(Object(Hu.b)((function(){return Object(Wu.a)((e,{value:t})=>t.key,ZMt,JOt,mjt,e=>e.ui.libraryPage.selectedFilterOptions,(e,t,i,n,a)=>{let s,r;const o=[],l={};for(let t=0;t<i.length;t++){const a=i[t],{key:r,title:c,type:d,subType:u}=a;a.key===e&&(s=a),l[r]={type:d,subType:u,defaultOperator:n[d][0].key},twt.test(r)||o.push({[r]:c})}if(s){let e,[i,n]=s.key.split(".");if(n||(n=i,i=null),i){const{id:n}=Object(Qt.u)(i);e=I.a.find(t,e=>{const t=Object(Qt.u)(e.type);return!!t&&t.id===n})}else e=t[0];e&&(r=I.a.find(e.filters,e=>e.filter===n))}return{selectedField:s,fieldValues:o,selectedFilter:r,selectedFilterOptions:a,operatorValues:(s?n[s.type]:[]).map(e=>({[e.key]:e.title})),fieldKeyTypes:l}})}),iwt)(class extends ewt{constructor(...e){super(...e),this.onSuggestionsFetchRequested=()=>{this.props.selectedFilter&&(this.props.dispatchSelectLibraryFilter({serverEntityID:this.props.serverEntityID,key:this.props.selectedFilter.key}),this.props.dispatchPopulateLibraryFilterOptions())},this.onSuggestionsClearRequested=()=>{this.props.selectedFilterOptions&&Object(Ti.a)(()=>{this.props.dispatchDeselectLibraryFilter()})}}render(){const e=this.props,t=Xe()(e,["dispatchSelectLibraryFilter","dispatchPopulateLibraryFilterOptions","dispatchDeselectLibraryFilter","dispatchSearchLibraryFilterOptions"]);return $jt(Xjt,tp()({},t,{onSuggestionsFetchRequested:this.onSuggestionsFetchRequested,onSuggestionsClearRequested:this.onSuggestionsClearRequested}))}})),awt=i("cqN0"),swt=i.n(awt);const rwt=Nd.a.createElement,{useCallback:owt,useState:lwt}=Nd.a;var cwt=Vu()(fy,{});function dwt(e){const{className:t,ariaLabel:i,label:n,menuSize:a,children:s,onPress:r}=e,o=Xe()(e,["className","ariaLabel","label","menuSize","children","onPress"]),l=i||n,c=lwt(Mp())[0],d=lwt(!1),u=d[1],p=d[0],h=owt(()=>u(!p),[p]),m=Nd.a.Children.only(s);return Vu()("div",{className:t,id:c},void 0,rwt(hw,tp()({"aria-label":l,className:swt.a.mainButton,onPress:r},o),n),rwt(hw,tp()({className:swt.a.menuButton,onPress:h},o),cwt),Vu()(Qv,{target:c,isOpen:p,size:a,onMenuClose:h},void 0,Nd.a.cloneElement(m,{onMenuClose:h,onMenuOpen:h})))}dwt.defaultProps={className:swt.a.button};var uwt=dwt;const{Fragment:pwt,useCallback:hwt,useState:mwt}=Nd.a;var gwt=function(e){const t=Y9(),i=mwt(!1),n=i[1],a=i[0],{className:s,serverEntityID:r,providerEntityID:o,metadataListEntityID:l,showUpdate:c,onUpdatePress:d}=e,u=hwt(()=>{n(!1),t.onOpen()},[t]),p=hwt(()=>{n(!0),t.onOpen()},[t]),h=c?d:p,m=c?Object(Ze.default)("Save"):Object(Ze.default)("Save As...");return Vu()(pwt,{},void 0,Vu()(uwt,{className:s,kind:Pp,label:m,menuSize:_h,onPress:h},void 0,Vu()(ece,{serverEntityID:r,providerEntityID:o,metadataListEntityID:l,showAddToPlaylist:!0,showAddToSmartPlaylist:!0,onAddToPlaylistPress:u,onAddToSmartPlaylistPress:p})),Vu()(woe,{serverEntityID:r,providerEntityID:o,metadataListEntityID:l,smart:a,isOpen:t.isOpen,onModalClose:t.onClose}))},vwt=i("2OOI"),ywt=i.n(vwt);const{Component:fwt}=Nd.a,bwt=IB(TB);function Iwt(e){const{defaultField:t,defaultFieldType:{type:i,operators:n}}=e,a=[];return"boolean"===i&&a.push({value:1}),{key:t.key,value:a,operator:n[0].key,id:I.a.uniqueId()}}function Swt(e){return(e.activeFilters.length?e.activeFilters:[Iwt(e)]).map(e=>Object.assign({},e,{id:I.a.uniqueId(e.key)}))}var Cwt=Vu()(Jh,{});var Mwt=class extends fwt{constructor(e,t){super(e,t),this.onFormSubmit=e=>{const{activeFilters:t}=this.state,{allTypeFieldsByKey:i,typeKey:n,activeSort:a}=this.props,s=t.map(t=>{const{key:n,value:a,operator:s}=e[t.id],r=a.map(e=>I.a.isString(e)?e:e.value);let o;const l=i[n];if(l&&l.type===_T&&!hjt(s)){const e=Object(Zy.a)(r[0]?r[0].replace(/-+$/,""):new Date,"yyyy-MM-dd");o=[Object(RT.a)(e)?Object(Vy.a)(e):Object(Vy.a)(new Date)]}else o=r;return{key:n,operator:s,value:o}}).filter(e=>e.value.length);let r;e.enableLimit&&""!==e.limit&&(r=e.limit),window.location.hash=_Se({typeKey:n,filters:s,sort:a,limit:r,customFilter:!0})},this.onAddPress=e=>{const t=[...this.state.activeFilters];t.splice(e+1,0,Iwt(this.props)),this.setState({activeFilters:t})},this.onRemovePress=e=>{const t=[...this.state.activeFilters];t.splice(e,1),this.setState({activeFilters:t})},this.state={activeFilters:e.activeFilters?Swt(e):[]}}componentWillReceiveProps(e){this.setState({activeFilters:Swt(e)})}render(){const{activeFilters:e}=this.state,{serverEntityID:t,providerEntityID:i,metadataListEntityID:n,activeLimit:a,isQueryParsePopulated:s,queryParseError:r,showUpdate:o,updateError:l,onUpdatePress:c}=this.props;if(!s)return Vu()("div",{className:ywt.a.loadingContainer},void 0,r?Object(Ze.default)("There was an error trying to load the filters. Reload the page and try again"):Cwt);const d=!!a;return Vu()(FM,{className:ywt.a.container,onSubmit:this.onFormSubmit},void 0,e.map((i,n)=>Vu()(nwt,{serverEntityID:t,name:i.id,index:n,initialValue:i,isRemoveDisabled:e.length<2,onRemovePress:this.onRemovePress,onAddPress:this.onAddPress},i.id)),Vu()("div",{className:ywt.a.footer},void 0,Vu()("div",{className:ywt.a.settings},void 0,Vu()(bwt,{className:ywt.a.checkInput,size:Fh,name:"enableLimit",checkboxText:Object(Ze.default)("Limit to"),initialValue:d}),Vu()(pjt,{inputClassName:ywt.a.numberInput,size:Fh,name:"limit",initialValue:d?a:"",leftLabel:!1,labelText:Object(Ze.default)("items")})),Vu()("div",{className:ywt.a.buttons},void 0,l?Vu()("span",{className:ywt.a.error},void 0,Object(Ze.default)("There was a problem saving the playlist")):null,Vu()(hw,{type:"submit"},void 0,Object(Ze.default)("Apply")),Vu()(gwt,{className:ywt.a.saveButton,serverEntityID:t,providerEntityID:i,metadataListEntityID:n,showUpdate:o,onUpdatePress:c}))))}};const Dwt=Nd.a.createElement,{Component:Pwt}=Nd.a,Owt=/^-([0-9]+)([a-zA-Z]+)$/;function jwt(e,t){const{field:i,type:n,fieldTitle:a,valueTitle:s}=e,r=null==n?i:n+"."+i,o=t[r];let l,c;return(">>="===e.operator||"<<="===e.operator)&&Owt.test(e.value)&&o&&o.type===_T?(l=e.operator+"-",c=e.value.substr(1)):o&&o.type===_T?(l=e.operator,c=Object(Zy.a)(Object($c.a)(e.value),"yyyy-MM-dd")):(l=e.operator,c=e.value),{key:r,keyTitle:a,operator:l,value:[{value:decodeURIComponent(c),valueTitle:s?decodeURIComponent(s):void 0}]}}const wwt=Object(Wu.a)(JOt,e=>e.reduce((e,t)=>(e[t.key]=t,e),{})),Twt=Object(Wu.a)(e=>e.ui.libraryPage.queryParse,wwt,(e={},t)=>e.rule?function e(t,i,n){const a=[];if("composite"===i.type&&"and"===i.operator){if(i.rules){const s=i.rules.reduce((i,a)=>(i.push.apply(i,e(t,a,n)),i),[]);a.push.apply(a,s)}}else if("composite"===i.type&&"or"===i.operator){const e=i.rules.reduce((e,t)=>{const i=jwt(t,n);return e.key=i.key,e.keyTitle=i.keyTitle,e.operator=i.operator,null==e.value&&(e.value=[]),e.value.push.apply(e.value,i.value),e},{});a.push(e)}else a.push(jwt(i,n));return a}(e.type,e.rule,t):[]),Ewt=Object(Wu.a)(ZS,ZMt,XOt,wwt,Twt,e=>e.ui.libraryPage.queryParse.key,e=>e.ui.libraryPage.queryParseError,e=>e.ui.libraryPage.isQueryParsePopulated,(e,{playlistID:t})=>t,e=>e.ui.libraryPage.updatePlaylistError,e=>e.ui.libraryPage.isUpdatePlaylistPending,(e,t,i,n,a,s,r,o,l,c,d)=>{const[u]=t,[p]=u.fields,h=I.a.find(i,e=>e.type===p.type);return{supportsQueryParser:!!e.features.queryParser,activeFilters:a,allTypeFieldsByKey:n,queryParseKey:s,queryParseError:r,isQueryParsePopulated:o,defaultField:p,defaultFieldType:h,showUpdate:!!l,updateError:c,isUpdating:d}}),Nwt={dispatchPopulateQueryParse:xDt,dispatchUpdateSmartPlaylist:BDt};var xwt=Object(Hu.b)(Ewt,Nwt)(class extends Pwt{constructor(...e){super(...e),this.onUpdatePress=()=>{this.props.dispatchUpdateSmartPlaylist({serverEntityID:this.props.serverEntityID,providerEntityID:this.props.providerEntityID,playlistID:this.props.playlistID})}}componentDidMount(){this.props.supportsQueryParser&&this.props.dispatchPopulateQueryParse()}componentWillReceiveProps(e){this.props.queryParseKey!==e.queryParseKey&&this.props.dispatchPopulateQueryParse()}render(){const e=this.props,{supportsQueryParser:t}=e,i=Xe()(e,["dispatchPopulateQueryParse","dispatchUpdateSmartPlaylist","supportsQueryParser"]);return t?Dwt(Mwt,tp()({onUpdatePress:this.onUpdatePress},i)):null}});const Awt=Nd.a.createElement;var Lwt=Vu()(Q$,{});var kwt=function(e){const{types:t,selectedType:i,libraryRoute:n,activeSort:a,activeLimit:s,activeFilters:r,customFilter:o,onMenuClose:l}=e,c=Xe()(e,["types","selectedType","libraryRoute","activeSort","activeLimit","activeFilters","customFilter","onMenuClose"]);if(!(t&&t.length>0))return null;const d=t.reduce((e,t)=>(t.type!==Qt.g?e.types.push(t):e.folder.push(t),e),{types:[],folder:[]});return Awt(Qv,tp()({},c,{onMenuClose:l}),d.types.map(({key:e,type:t,title:l})=>Vu()(oy,{to:_Se({typeKey:e,filters:o?r:void 0,sort:o?a:void 0,limit:o?s:void 0,customFilter:o},n),isSelected:i.key===e},e,l)),d.folder.length>0?Lwt:null,d.folder.length>0?d.folder.map(({key:e,type:t,title:a})=>Vu()(oy,{to:_Se({typeKey:e,folderKey:e,save:1},n),isSelected:i.key===e,onPress:l},e,a)):null)};const{Component:Rwt,Fragment:zwt}=Nd.a;var Uwt=class extends Rwt{constructor(e,t){super(e,t),this._typesMenuButtonID=void 0,this.onTypesMenuButtonPress=e=>{this.setState({isTypesMenuOpen:!this.state.isTypesMenuOpen})},this.onTypesMenuClose=()=>{this.setState({isTypesMenuOpen:!1})},this.state={isTypesMenuOpen:!1},this._typesMenuButtonID=Mp()}render(){const{serverEntityID:e,providerEntityID:t,sourceDirectory:i,pivot:n,directoryKey:a,folderTitle:s,parentFolderTitle:r,parentRoute:o,size:l,listType:c,listContext:d,listStyle:u,metadataTypes:p,selectedType:h,allListStyles:m}=this.props,{isTypesMenuOpen:g}=this.state;return Vu()(zwt,{},void 0,Vu()(Pst,{},void 0,Vu()(Prt,{serverEntityID:e,providerEntityID:t,sourceDirectory:i}),n?Vu()(rrt,{serverEntityID:e,providerEntityID:t,sourceDirectory:i,directoryKey:a}):null,Vu()(xst,{},void 0,Vu()(b9e,{listType:c,listContext:d,selectedListStyle:u,allListStyles:m}))),Vu()(Z2e,{},void 0,Vu()(Tst,{},void 0,Vu()(H$,{id:this._typesMenuButtonID,hasMenu:!0,isMenuOpen:g,onPress:this.onTypesMenuButtonPress},void 0,(null==h?void 0:h.title)||Object(Ze.default)("Folders")),Vu()(kwt,{target:this._typesMenuButtonID,isOpen:g,types:p,selectedType:h,activeFilters:[],onMenuClose:this.onTypesMenuClose}),o?Vu()(H$,{hasMenu:!1,to:o},void 0,r||i.title):null,Vu()(H$,{},void 0,s),Vu()(jct,{},void 0,l))))}};function Vwt(e,t,i){if(i)switch(i){case fc:switch(t){case"podcast":switch(e){case"track":return[Dc]}break;case"webshow":switch(e){case"episode":return[Dc]}}switch(e){case"track":return[Mc]}break;case zd.T:switch(e){case"track":return[Mc]}break;case Ic:return[jc]}switch(t){case"podcast":switch(e){case"show":return[Sc,Mc,Pc];case"track":return[Mc,Dc]}}switch(e){case"movie":case"show":return[Sc,Mc,Pc];case"season":return[Sc,Mc];case"episode":case"artist":case"album":return[Sc,Mc,Pc];case"track":return[Sc,Mc];case"photo":case"photoalbum":return[Cc];case"clip":return[Sc,Mc];case"collection":return[Sc,Pc];default:return[Sc]}}function Bwt(e,t,i,n={}){return jt.k(n.identifier,jt.c)?function(e,t,i){if(i)switch(i){case fc:return[Oc]}switch(e){case"show":case"episode":case"movie":return[Sc]}return Vwt(e,t,i)}(e,t,i):Vwt(e,t,i)}var Fwt=Object(Hu.b)((function(){return Object(Wu.a)((e,{listType:t})=>t,HS(),ZMt,JMt(),Rre(),Object(Wu.a)((e,{sourceDirectory:t})=>t,(e,{pivot:t})=>t,(e,{folderKey:t})=>t,(e,{folderTitle:t})=>t,(e,{parentFolderKey:t})=>t,(e,{parentFolderTitle:t})=>t,_S(),HS(),(e,t,i,n,a,s,r,o)=>{const l={key:t?t.key:e.key,folderKey:a,folderTitle:s};if(!a){const t=e.key+"/folder";if(t===i)return null;l.folderKey=t,l.folderTitle=e.title}return Xt(r,o,e,l)}),(e,t,i,n,a,s)=>{const r=Bwt(e,null,yc,t);return{parentRoute:s,size:a.totalSize||a.metadataItems.length,metadataTypes:i,selectedType:n,allListStyles:r}})}))(Uwt),Hwt=i("BSWJ"),_wt=i.n(Hwt);var Wwt=function(){return Vu()(N_,{iconClassName:_wt.a.icon,iconComponent:Upt,title:Object(Ze.default)("Watchlist"),description:Object(Ze.default)("You can add movies and shows to your Watchlist to catch up on later. Once you finish watching an item in the list, or mark it as watched it will automatically be removed from the list.")})},Qwt=Vu()(Wwt,{});var Gwt=function(e){const{serverEntityID:t,providerEntityID:i,providerIdentifier:n,error:a,typeKey:s,activeFilters:r,activeSort:o,pivot:l,listType:c,listTitle:d,isFolder:u,isLibraryRefreshing:p}=e,h=jt.k(n,jt.c),m="vod.watchlist"===(null==l?void 0:l.id),g=OC[c];return a?Vu()(sot,{title:Object(Ze.default)("There was an unexpected error loading this library")}):I.a.isEmpty(r)?h?Vu()(not,{serverEntityID:t,providerEntityID:i}):p?Vu()(N_,{iconComponent:g,title:Object(Ze.default)("Libraries are currently being updated"),description:Object(Ze.default)("Hang tight while we look for your content")}):m?Qwt:Vu()(N_,{iconComponent:g,title:u?Object(Ze.default)("There are no items in this folder"):Object(Ze.default)("There are no items in {listTitle}",{listTitle:d})}):Vu()(N_,{iconComponent:g,title:Object(Ze.default)("The active filter has no matches"),description:Object(Ze.default)("Use the menu above to change the active filter")},void 0,Vu()(zp,{to:_Se({typeKey:s,sort:o}),kind:Pp},void 0,Object(Ze.default)("Clear filter")))};const Kwt=parseInt(BV.prePlayContentPadding,10),Ywt={},qwt={innerHorizontalPadding:30,innerVerticalPadding:30,outerPaddingTop:30,outerPaddingRight:60,outerPaddingBottom:30,outerPaddingLeft:60};function Zwt(e,t,i,n=0,a=0){const s=e+(t||"")+i+n+a;if(Ywt.hasOwnProperty(s))return Ywt[s];const r=kC(e,t,i),{titleHeight:o,minCellWidth:l,preferredCellWidth:c,minColumns:d,maxColumns:u}=nke({type:e,aspectRatio:r,titleCount:a,context:i}),p=function(e){return e===fc?Object.assign({},qwt,{outerPaddingTop:10,outerPaddingRight:Kwt,outerPaddingBottom:5,outerPaddingLeft:Kwt}):qwt}(i),h=F0(Object.assign({direction:B0},p,{getCellWidth:e=>Ybe(Object.assign({},e,{preferredCellWidth:c,minCellWidth:l,minColumns:d,maxColumns:u,columnAdjustment:n,aspectRatio:r})),getCellHeight:e=>Gbe(Object.assign({},e,{aspectRatio:r,titleHeight:o}))}));return h.cellOptions={minCellWidth:l,minColumns:d,maxColumns:u,columnAdjustment:n,aspectRatio:r,titleHeight:o},Ywt[s]=h,h}const Jwt=Nd.a.createElement;var Xwt=function(e){const{serverEntityID:t,providerEntityID:i,metadataListEntityID:n,sourceDirectory:a,containerKey:s,containerTitle:r,activeSort:o,listType:l,listSubtype:c,columnAdjustment:d}=e,u=Xe()(e,["serverEntityID","providerEntityID","metadataListEntityID","sourceDirectory","containerKey","containerTitle","activeSort","listType","listSubtype","columnAdjustment"]),p=kMe(l,e.listContext,{activeSort:o,subtype:c,providerEntityID:i});return Jwt(V0,tp()({listType:l,listContext:"directoryList",layout:Zwt(l,c,"directoryList",d,p.length),cellRenderer:jke({serverEntityID:t,providerEntityID:i,metadataListEntityID:n,sourceDirectory:a,containerKey:s,containerTitle:r,listType:l,listContext:"directoryList",titleComponents:p})},u))};var $wt=H0(parseInt(BV.simpleSummaryCellHeight,10),5),eTt=i("p9a2"),tTt=i.n(eTt);const{useState:iTt}=Nd.a;var nTt=function(e){const{serverEntityID:t,providerEntityID:i,metadataItemEntityID:n,containerKey:a,listType:s,cellIndex:r,title:o,summary:l,tagline:c,route:d,showLink:u,showMore:p,isPlaying:h,isPlayerPaused:m,onPlayPress:g}=e,v=Y0(e),y=iTt(!1),f=y[1],b=y[0];return Vu()("div",{className:((r%2?tTt.a.alternateItem:tTt.a.item)||"")+" "+(b&&tTt.a.isActionsMenuOpen||""),style:v.style},void 0,u?Vu()(zp,{className:tTt.a.underlay,to:d,"aria-label":o}):null,Vu()("div",{className:tTt.a.overlay},void 0,Vu()("div",{className:tTt.a.simpleSummaryContainer},void 0,Vu()("div",{className:tTt.a.indexPlayContainer},void 0,h?null:Vu()(cCe,{className:tTt.a.titleEpisodeIndex,metadataItemEntityID:n,longName:!1}),h?Vu()(SAe,{isPaused:m}):Vu()("div",{className:tTt.a.playButtonContainer},void 0,Vu()(ide,{className:tTt.a.playButton,title:o,onPress:g}))),Vu()("div",{className:tTt.a.miniProgressContainer},void 0,Vu()(gPt,{metadataItemEntityID:n,size:Fh})),Vu()("div",{className:tTt.a.titleAndSummaryContainer},void 0,Vu()("div",{className:tTt.a.titleContainer},void 0,Vu()("div",{className:tTt.a.title},void 0,o),Vu()("div",{className:tTt.a.actions},void 0,p?Vu()(fce,{"data-qa-id":"metadataSimpleSummaryMoreButton",className:tTt.a.moreButton,serverEntityID:t,providerEntityID:i,metadataItemEntityID:n,containerKey:a,listType:s,showPlay:!1,showAddToSaved:!1,isMenuOpen:b,onMenuOpenChange:f}):null)),Vu()("div",{className:tTt.a.summary},void 0,c||l)))))},aTt=i("p050"),sTt=i.n(aTt);var rTt=function(e){const{cellIndex:t}=e,i=Y0(e);return Vu()("div",{className:t%2?sTt.a.alternateLoadingItem:sTt.a.loadingItem,style:i.style},void 0,Object(Ze.default)("Loading..."))};const oTt=Nd.a.createElement;var lTt=kK((function(){return Object(Wu.a)((e,{listContext:t})=>t,(e,{cellHeight:t})=>t,$K(),Hke(),WSe(),Ake(),CRe(),e=>e.ui.audioVideoPlayer.isPaused,(e,t,i={},n,a,s,r,o)=>({metadataKey:i.key,grandparentKey:i.grandparentKey,type:n,index:i.index,title:i.title,summary:s,tagline:i.tagline,route:a,showLink:!!a,showMore:!i.isFolder,isPlaying:r,isPlayerPaused:o}))}),(function(e,t){const{serverEntityID:i,providerEntityID:n,metadataItemEntityID:a,containerKey:s,listType:r,metricsPage:o,metricsContext:l}=t;return{onPlayPress(){e(Object(xT.x)({serverEntityID:i,providerEntityID:n,metadataItemEntityID:a,metricsPage:o,metricsContext:l,options:{containerKey:s,listType:r}}))}}}),Nae)((function(e){const{metadataKey:t}=e;return oTt(t?nTt:rTt,e)}));const cTt=Nd.a.createElement;var dTt=function(e){const{serverEntityID:t,providerEntityID:i,metadataListEntityID:n,containerKey:a,containerTitle:s,listType:r,listContext:o}=e,l=Xe()(e,["serverEntityID","providerEntityID","metadataListEntityID","containerKey","containerTitle","listType","listContext"]);return cTt(V0,tp()({listType:r,listContext:o,layout:$wt,cellRenderer:aIe({serverEntityID:t,providerEntityID:i,metadataListEntityID:n,listType:r,listContext:o,containerKey:a,containerTitle:s},lTt)},l))};var uTt=H0(parseInt(BV.summaryCellHeight,10),5);const pTt=Nd.a.createElement;var hTt=function(e){const{serverEntityID:t,providerEntityID:i,metadataListEntityID:n,containerKey:a,containerTitle:s,listType:r,listContext:o}=e,l=Xe()(e,["serverEntityID","providerEntityID","metadataListEntityID","containerKey","containerTitle","listType","listContext"]);return pTt(V0,tp()({listType:r,listContext:o,layout:uTt,cellRenderer:aIe({serverEntityID:t,providerEntityID:i,metadataListEntityID:n,listType:r,listContext:o,containerKey:a,containerTitle:s},dRe)},l))};var mTt=H0(parseInt(BV.tableRowHeight,10)),gTt=i("MEJa"),vTt=i.n(gTt);const yTt=Nd.a.createElement;var fTt=function(e){const{style:t,component:i,isActiveSort:n}=e,a=Xe()(e,["style","component","isActiveSort"]),s=i(e.type);return Vu()("div",{className:n?vTt.a.activeTableCell:vTt.a.tableCell,style:t},void 0,yTt(s,tp()({},a,{className:vTt.a.title})))};var bTt=Object(Hu.b)((function(){return Object(Wu.a)($K(),(e={})=>({index:e.index}))}))(Zke),ITt=i("0dFH"),STt=i.n(ITt);const CTt=Nd.a.createElement,{useState:MTt}=Nd.a;var DTt=Vu()(ewe,{});var PTt=function(e){const{serverEntityID:t,providerEntityID:i,metadataItemEntityID:n,containerKey:a,listType:s,listContext:r,activeSort:o,selectedSort:l,cellIndex:c,activeTableColumns:d,title:u,route:p,ratingKey:h,source:m,hasOfflineFile:g,hasOwnSubscription:v,showAvailableOffline:y,showLink:f,showPlay:b,showEdit:I,showSelect:S,showMore:C,showPlayIndex:M,showPlayCellIndex:D,showActionsDuration:P,showActionsMinutesLeft:O,hasActiveSelection:j,isSelected:w,isOtherItemSelected:T,isModifierKeyPressed:E,isPlaying:N,isPlayerPaused:x,onPlayPress:A,onEditPress:L,onSelectPress:k,onDeselectPress:R}=e,z=Y0(e),[U,V]=Qke(),B=MTt(!1),F=B[1],H=B[0],_=r===yc,W=S&&(E||T),Q=j?"-1":"0",G=!U,K=y||P||O;return CTt("div",tp()({className:((c%2?STt.a.alternateItem:STt.a.item)||"")+" "+(j&&STt.a.hasActiveSelection||"")+" "+(W&&STt.a.isForcingSelection||"")+" "+(w&&STt.a.isSelected||"")+" "+(H&&STt.a.isActionsMenuOpen||""),style:z.style},V),S?Vu()(zp,{className:STt.a.selectCoverButton,"aria-label":w?Object(Ze.default)("Deselect {title}",{title:u}):Object(Ze.default)("Select {title}",{title:u}),tabIndex:f&&!j?"-1":"0",onPress:w?R:k}):null,f?Vu()(zp,{className:STt.a.underlay,tabIndex:Q,to:p,"aria-label":u}):null,Vu()("div",{className:STt.a.overlay},void 0,Vu()("div",{className:STt.a.playCell},void 0,M&&!N?Vu()(bTt,{className:STt.a.transientTitleLeft,serverEntityID:t,providerEntityID:i,metadataItemEntityID:n}):null,D&&!N?Vu()("span",{className:STt.a.transientTitleLeft},void 0,c+1):null,b&&!N?Vu()(ide,{className:STt.a.playButton,"data-qa-id":"listItemPlayButton",tabIndex:Q,title:u,onPress:A}):null,N?Vu()(SAe,{className:STt.a.equalizer,isPaused:x}):null),d.map(({style:e,component:a,ascKey:r,descKey:c},d)=>Vu()(fTt,{style:e,serverEntityID:t,providerEntityID:i,metadataItemEntityID:n,component:a,type:s,isActiveSort:o===r||o===c||!!l&&l.key===r,hideUnrated:G},d)),Vu()("div",{className:_?STt.a.libraryActionsCell:STt.a.actionsCell},void 0,K?Vu()("div",{className:_?STt.a.transientTitleLeft:STt.a.transientTitleRight},void 0,y?Vu()(Zje,{size:16,arrowSize:16,lineWidth:1.5,source:m,ratingKey:h,hasOfflineFile:g,hasOwnSubscription:v}):null,y?Vu()(yse,{metadataItemEntityID:n,providerEntityID:i}):null,P?Vu()(DRe,{className:STt.a.transientTitleRightText,serverEntityID:t,providerEntityID:i,metadataItemEntityID:n}):null,O?Vu()(MCe,{className:STt.a.transientTitleRightText,serverEntityID:t,providerEntityID:i,metadataItemEntityID:n}):null):null,S?Vu()(NV,{className:STt.a.selectButton,tabIndex:Q,title:u,isSelected:w,onPress:k}):null,I?Vu()(zp,{"data-qa-id":"metadataRowEditButton",className:STt.a.editButton,tabIndex:Q,"aria-label":Object(Ze.default)("Edit {title}",{title:u}),onPress:L},void 0,DTt):null,C?Vu()(fce,{"data-qa-id":"metadataRowMoreButton",className:STt.a.moreButton,tabIndex:Q,serverEntityID:t,providerEntityID:i,metadataItemEntityID:n,containerKey:a,listType:s,showPlay:!1,showQueuePlexMix:!1,showEdit:!1,isMenuOpen:H,onMenuOpenChange:F}):null)))},OTt=i("Y9Bx"),jTt=i.n(OTt);var wTt=function(e){const{cellIndex:t}=e,i=Y0(e);return Vu()("div",{className:t%2?jTt.a.alternateLoadingItem:jTt.a.loadingItem,style:i.style},void 0,Object(Ze.default)("Loading..."))};const TTt=Nd.a.createElement,{Component:ETt}=Nd.a,NTt=Nje(PTt);var xTt=Object(Hu.b)(Lae)(kK((function(){return Object(Wu.a)($K(),$S,ZS,IT,oOt(),Hke(),WSe(),cse(),Bke(),Vke(),CRe(),e=>e.ui.audioVideoPlayer.isPaused,zre,(e={},t,i,n,a,s,r,o,l,c,d,u,p)=>{const h=!(!e.ratingKey||!o)&&be.a.allowSyncDownload;return{activeTableColumns:a,metadataKey:e.key,type:s,title:e.title,selectionID:e.entityID,selectionType:l,activeSelectionType:p.activeSelectionType,isSelected:c,isPlaying:d,isPlayerPaused:u,route:r,ratingKey:e.ratingKey,source:o,hasOfflineFile:fse(e),hasOwnSubscription:bse(e),showAvailableOffline:h,showLink:!!r,showPlay:Hae({server:t,provider:i,stableUser:n,metadataItem:e}),showEdit:Xae({server:t,provider:i,stableUser:n,metadataItem:e}),showSelect:sse({server:t,provider:i,stableUser:n,metadataItem:e}),showMore:!e.isFolder}})}),(function(e,t){const{serverEntityID:i,providerEntityID:n,itemServerEntityID:a,itemProviderEntityID:s,metadataListEntityID:r,metadataItemEntityID:o,containerKey:l,listType:c,metricsPage:d,metricsContext:u}=t;return{onPlayPress(){e(Object(xT.x)({serverEntityID:i,providerEntityID:n,itemServerEntityID:a,itemProviderEntityID:s,metadataItemEntityID:o,metricsPage:d,metricsContext:u,options:{containerKey:l,listType:c}}))},onEditPress(){e(tae({serverEntityID:i,providerEntityID:n,metadataItemEntityID:o,metricsPage:d}))},onSelectItem(t){e(Nx(Object.assign({metadataListEntityID:r,id:o},t)))},onDeselectItem(t){e(xx(Object.assign({metadataListEntityID:r},t)))},onDeselectAllItems(){e(kx({metadataListEntityID:r}))}}}),Nae)(class extends ETt{constructor(...e){super(...e),this._firstClickTime=void 0,this.onSelectItem=e=>{this._isDoubleClick()?this._doubleClick():(this._firstClickTime=Date.now(),this.props.onSelectItem(e))},this.onDeselectItem=e=>{this._isDoubleClick()?this._doubleClick():(this._firstClickTime=Date.now(),this.props.onDeselectItem(e))}}_isDoubleClick(){return this._firstClickTime&&Date.now()-this._firstClickTime<300}_doubleClick(){const{selectionType:e,showPlay:t,onPlayPress:i,onSelectItem:n,onDeselectAllItems:a}=this.props;this._firstClickTime=0,a(),n({type:e}),t&&i()}render(){return this.props.metadataKey?this.props.showSelect?TTt(NTt,tp()({},this.props,{onSelectItem:this.onSelectItem,onDeselectItem:this.onDeselectItem})):TTt(PTt,this.props):TTt(wTt,this.props)}}));const ATt=Nd.a.createElement;var LTt=function(e){const{serverEntityID:t,providerEntityID:i,metadataListEntityID:n,containerKey:a,containerTitle:s,listType:r,listSubtype:o,listContext:l,typeKey:c,isFolder:d,activeSort:u,selectedSort:p}=e,h=Xe()(e,["serverEntityID","providerEntityID","metadataListEntityID","containerKey","containerTitle","listType","listSubtype","listContext","typeKey","isFolder","activeSort","selectedSort"]);return ATt(V0,tp()({layout:mTt,cellRenderer:aIe({serverEntityID:t,providerEntityID:i,metadataListEntityID:n,containerKey:a,containerTitle:s,listType:r,listSubtype:o,listContext:l,typeKey:c,isFolder:d,activeSort:u,selectedSort:p},xTt)},h))};const kTt=Nd.a.createElement;var RTt=function(e){const{serverEntityID:t,providerEntityID:i,metadataListEntityID:n,containerKey:a,containerTitle:s,containerDisplayFields:r,activeSort:o,listType:l,listSubtype:c,listContext:d,columnAdjustment:u}=e,p=Xe()(e,["serverEntityID","providerEntityID","metadataListEntityID","containerKey","containerTitle","containerDisplayFields","activeSort","listType","listSubtype","listContext","columnAdjustment"]),h=kMe(l,d,{providerEntityID:i,subtype:c,activeSort:o});return kTt(V0,tp()({listType:l,listContext:d,layout:Zwt(l,c,d,u,h.length),cellRenderer:aIe({serverEntityID:t,providerEntityID:i,metadataListEntityID:n,listType:l,listSubtype:c,listContext:d,titleComponents:h,containerKey:a,containerTitle:s,displayFieldDefinitions:r},fRe)},p))};function zTt(e,t,i){switch(kC(e,t,i)){case 16/9:return 114;case 1/1.5:return 64;case 1:return 74}}var UTt=i("fZKy"),VTt=i.n(UTt);const{useState:BTt}=Nd.a;var FTt=function(e){const{serverEntityID:t,providerEntityID:i,metadataItemEntityID:n,containerKey:a,cellIndex:s,metadataKey:r,type:o,title:l,route:c,isDirectory:d,showLink:u,showActions:p,imageWidth:h,imageHeight:m,imageUrl:g}=e,v=Y0(e),y=BTt(!1),f=y[1],b=y[0];return Vu()("div",{className:((s%2?VTt.a.alternateItem:VTt.a.item)||"")+" "+(b&&VTt.a.isActionsMenuOpen||""),style:v.style},void 0,u?Vu()(zp,{className:VTt.a.underlay,to:c,"aria-label":l}):null,Vu()("div",{className:VTt.a.overlay},void 0,Vu()("div",{className:VTt.a.posterContainer},void 0,v.isPlaceholder?Vu()(qke,{imageWidth:h,imageHeight:m}):Vu()(zwe,{serverEntityID:t,providerEntityID:i,metadataItemEntityID:n,containerKey:a,listType:Qt.i,listContext:Ic,metadataKey:r,type:o,imageWidth:h,imageHeight:m,imageUrl:g,isFolder:!1,showOverlay:!d,showLink:!1,showSelect:!1,showEdit:!1,showMore:!1})),Vu()("div",{className:VTt.a.summaryContainer},void 0,Vu()("div",{className:VTt.a.titleContainer},void 0,Vu()("div",{className:VTt.a.title},void 0,l)),Vu()("div",{className:VTt.a.type},void 0,function(e,t){const i=Qt.u(e).title;return t?Object(Ze.default)("{typeTitle} Library",{typeTitle:i}):i}(o,d))),p?Vu()("div",{className:VTt.a.actions},void 0,Vu()(fce,{"data-qa-id":"sharedItemSummaryMoreButton",className:VTt.a.moreButton,serverEntityID:t,providerEntityID:i,metadataItemEntityID:n,containerKey:a,listType:Qt.i,showPlay:!1,showQueuePlexMix:!1,showEdit:!1,isMenuOpen:b,onMenuOpenChange:f})):null))},HTt=i("q3pM"),_Tt=i.n(HTt);var WTt=function(e){const{cellIndex:t,imageWidth:i,imageHeight:n}=e,a=Y0(e);return Vu()("div",{className:t%2?_Tt.a.alternateLoadingItem:_Tt.a.loadingItem,style:a.style},void 0,Vu()("div",{className:_Tt.a.posterContainer},void 0,Vu()(qke,{imageWidth:i,imageHeight:n})),Object(Ze.default)("Loading..."))};const QTt=Nd.a.createElement;var GTt=kK((function(){return Object(Wu.a)($S,ZS,QK(),$K(),Hke(),WSe(),(e,t,i,n={},a,s)=>{const r=!!n.directory,o=function(e,t){const{type:i,subtype:n}=e;return Eae(zTt(i,n,t),null,i,n,e,t)}(n,Ic);let l=s;if(r){l=Xt(e,t,function(e,t){return e.find(e=>!!yst(e,t))}(i,n.key))}return{metadataKey:n.key,type:a,title:WP(n),selectionID:n.entityID,route:l,isDirectory:r,showLink:!!l,showActions:!r,imageWidth:o.width,imageHeight:o.height,imageUrl:o.url}})}))((function(e){return e.metadataKey?QTt(FTt,e):QTt(WTt,e)}));const KTt=Nd.a.createElement;var YTt=function(e){const{serverEntityID:t,providerEntityID:i,metadataListEntityID:n,containerKey:a}=e,s=Xe()(e,["serverEntityID","providerEntityID","metadataListEntityID","containerKey"]);return KTt(V0,tp()({layout:uTt,cellRenderer:aIe({serverEntityID:t,providerEntityID:i,metadataListEntityID:n,containerKey:a},GTt)},s))},qTt=i("cpNh"),ZTt=i.n(qTt);var JTt=Vu()(L6e,{},void 0,Vu()(N_,{},void 0,Vu()(Jh,{})));function XTt(e){const{children:t,serverEntityID:i,providerEntityID:n,metadataListEntityID:a,sourceDirectory:s,containerKey:r,containerTitle:o,containerDisplayFields:l,listTitle:c,listType:d,listSubtype:u,listContext:p,listStyle:h,typeKey:m,activeSort:g,selectedSort:v,isDirectoryList:y,isFolder:f,metadataItemEntityIDs:b,totalSize:I,populatedRange:S,firstItemType:C,firstItemSubtype:M,isPending:D,isPopulated:P,error:O,columnAdjustment:j,hasGutter:w,onPageRequest:T,onListScrollIndexChange:E,onListUpdate:N,onMeasure:x,scrollIndex:A}=e,L=I||b.length;if(P&&L){const e=d||C,c=u||M,I=function(e,t){if(e)return Xwt;switch(t){case Mc:return LTt;case Pc:return hTt;case Dc:return dTt;case jc:return YTt;default:return RTt}}(y,h||Bwt(e,c,zd.T)[0]);return Vu()(I,{className:ZTt.a.metadataListPageContent,scrollerClassName:(ZTt.a.metadataListScroller||"")+" "+(w&&ZTt.a.hasGutter||""),serverEntityID:i,providerEntityID:n,metadataListEntityID:a,sourceDirectory:s,containerKey:r,containerTitle:o,containerDisplayFields:l,listType:e,listSubtype:c,listContext:p,typeKey:m,isFolder:f,activeSort:g,selectedSort:v,scrollIndex:A,scrollPositionStorageKey:"MetadataListPageContent",keyPropName:"metadataItemEntityID",items:b,itemsOffset:S.start,size:L,columnAdjustment:j,onPageRequest:T,onListScrollIndexChange:E,onListUpdate:N,onMeasure:x},void 0,t)}if(D)return JTt;if(O){const e=c?Object(Ze.default)("There was an unexpected error loading {listTitle}",{listTitle:c}):Object(Ze.default)("There was an unexpected error loading this list");return Vu()(L6e,{},void 0,Vu()(ZOt,{sourceDirectory:s,hint:r,error:O.status,defaultTitle:e}))}return Vu()(L6e,{},void 0,Vu()(N_,{title:Object(Ze.default)("Nothing to see here"),description:c?Object(Ze.default)("There are no items in {listTitle}",{listTitle:c}):Object(Ze.default)("There are no items in this list")}))}XTt.defaultProps={listContext:yc};var $Tt=XTt;var eEt=Object(Hu.b)((function(){return Object(Wu.a)(Rre(),e=>{var t;return{containerDisplayFields:null==(t=e.meta)?void 0:t.DisplayFields}})}))($Tt);const tEt=Nd.a.createElement;var iEt=function(e){const{serverEntityID:t,providerEntityID:i,providerIdentifier:n,metadataItemEntityIDs:a,totalSize:s,isPending:r,isPopulated:o,error:l,typeKey:c,activeFilters:d,activeSort:u,pivot:p,listType:h,listTitle:m,isFolder:g,isLibraryRefreshing:v}=e,y=s||a.length;return r||o&&y?tEt(eEt,e):Vu()(L6e,{},void 0,Vu()(Gwt,{serverEntityID:t,providerEntityID:i,providerIdentifier:n,error:l,typeKey:c,activeFilters:d,activeSort:u,pivot:p,listType:h,listTitle:m,isFolder:g,isLibraryRefreshing:v}))};var nEt=(e,t)=>{const[i,n]=e.split("."),a=n?i:t,s=n||i;return a&&a!==Qt.j?a+"."+s:s};var aEt=function(){return Object(Wu.a)((e,{listType:t})=>t,(e,{activeFilters:t})=>t,JMt(),(e,t,i)=>{const n=[];for(const a of t){const t=nEt(a.key,e);i.fields.find(e=>e.key===t)&&n.push(Object.assign({},a,{key:t}))}return n})};var sEt=i("upXi"),rEt=i.n(sEt),oEt=Vu()(Q$,{});var lEt=function(e){const{className:t,style:i,typeKey:n,activeFilters:a,activeSort:s,selectedFilter:r,filterOptions:o,filterOptionQuery:l,showError:c,showSearchInput:d,onFilterDeselect:u,onSearch:p}=e,h=r.filter;return Vu()("div",{className:t,style:i,"data-qa-id":"secondFiltersList"},void 0,Vu()("div",{className:rEt.a.header,"data-qa-id":"filterHeader"},void 0,Vu()("div",{className:rEt.a.headerTitle},void 0,Vu()(zp,{"data-qa-id":"previousFilters",onPress:u},void 0,Vu()(yO,{className:rEt.a.backIcon,"aria-label":Object(Ze.default)("Back")})),Vu()("span",{className:rEt.a.filterText},void 0,r.title)),d?Vu()(UB,{className:rEt.a.searchInput,name:"filterOptionQuery",placeholder:Object(Ze.default)("Filter {filterTitle}",{filterTitle:r.title}),value:l,onChange:p}):null),oEt,Vu()(ih,{className:d?rEt.a.filterOptionsWithSearchScroller:rEt.a.filterOptionsScroller,autoScroll:!0},void 0,c?Vu()("div",{className:rEt.a.emptyText},void 0,Object(Ze.default)("Unable to load options")):null,c||o.length?null:Vu()("div",{className:rEt.a.emptyText},void 0,Object(Ze.default)("No options")),o.map(({value:e,title:t,isSelected:i})=>Vu()(oy,{className:rEt.a.filterOptionMenuItem,to:_Se({typeKey:n,filters:i?edt(a,h,e):Xct(a,h,{value:e,type:"other"}),filterLabel:i?void 0:t,sort:s}),isSelected:i},e,t))))},cEt=i("xjMz"),dEt=i.n(cEt);const{Component:uEt}=Nd.a,pEt={scrollDirection:Zp};class hEt extends uEt{constructor(e,t){super(e,t),this.onFiltersListMeasure=({height:e})=>{this.setState({isMeasured:!0,filterOptionsHeight:Math.max(e,this.props.minHeight)})},this.state={isMeasured:!1,filterOptionsHeight:"auto"}}render(){const{target:e,isOpen:t,typeKey:i,activeFilters:n,activeFilterLabel:a,activeSort:s,filters:r,selectedFilter:o,filterOptions:l,filterOptionQuery:c,showSpinner:d,showError:u,showSearchInput:p,showCustomFilter:h,onFilterSelect:m,onFilterDeselect:g,onSearch:v,onMenuClose:y}=this.props,{isMeasured:f,filterOptionsHeight:b}=this.state,I=!!o&&!d&&f;return Vu()(Qv,{target:e,isOpen:t,size:_h,scrollerProps:pEt,onMenuClose:Cb(g,y)},void 0,Vu()(T0,{className:(dEt.a.panesContainer||"")+" "+(I&&dEt.a.showFilterOptions||""),ignoreWidth:!0,ignorePosition:!0,ignoreTransforms:!0,onMeasure:this.onFiltersListMeasure},void 0,Vu()(ddt,{className:dEt.a.filtersPane,typeKey:i,activeFilters:n,activeFilterLabel:a,activeSort:s,filters:r,selectedFilter:o,showSpinner:d,showCustomFilter:h,onFilterSelect:m}),I?Vu()(lEt,{className:dEt.a.filterOptionsPane,style:{height:b},typeKey:i,activeFilters:n,activeSort:s,selectedFilter:o,filterOptions:l,filterOptionQuery:c,showError:u,showSearchInput:p,onFilterDeselect:g,onSearch:v}):null))}}hEt.defaultProps={minHeight:385};var mEt=hEt;const gEt=Nd.a.createElement,{Component:vEt}=Nd.a;var yEt=Object(Hu.b)((function(){return Object(Wu.a)((e,{activeFilters:t})=>t,(e,{selectedType:t})=>t,e=>e.ui.libraryPage,Object(Wu.a)((e,{activeFilters:t})=>t,(e,{selectedType:t})=>t,e=>e.ui.libraryPage.selectedFilterKey,e=>e.ui.libraryPage.filterOptionQuery,e=>e.ui.libraryPage.selectedFilterOptions,(e,t,i,n,a=[])=>{const s=t&&t.filters,r=I.a.findWhere(s,{key:i});let o=a;if(n){const e=n.trim().toLowerCase();o=o.filter(t=>t.title.toLowerCase().indexOf(e)>-1)}if(r){const t=e.filter(e=>e.key===r.filter),i=o.reduce((e,i)=>{const n=$ct(t,i.value);return(n?e.selected:e.unselected).push(Object.assign({},i,{isSelected:n})),e},{selected:[],unselected:[]});o=i.selected.concat(i.unselected)}return o}),(e,t,i,n)=>{const{selectedFilterKey:a,filterOptionQuery:s,selectedFilterOptions:r=[],isSelectedFilterOptionsPopulated:o,selectedFilterOptionsError:l}=i,c=t&&t.filters;return{filters:c,selectedFilter:a&&I.a.findWhere(c,{key:a}),filterOptions:n,filterOptionQuery:s,showSpinner:!o&&!l,showError:!!l,showSearchInput:r.length>12}})}),h)(class extends vEt{constructor(...e){super(...e),this.onFilterSelect=e=>{this.props.selectLibraryFilter({serverEntityID:this.props.serverEntityID,providerEntityID:this.props.providerEntityID,key:e}),this.props.fetchLibraryFilterOptions()},this.onFilterDeselect=()=>{this.props.deselectLibraryFilter()},this.onSearch=e=>{this.props.searchLibraryFilterOptions(e)}}render(){return gEt(mEt,tp()({onFilterSelect:this.onFilterSelect,onFilterDeselect:this.onFilterDeselect,onSearch:this.onSearch},this.props))}}),fEt=i("0jfG");const bEt=Nd.a.createElement,{ASCENDING:IEt,DESCENDING:SEt}=fEt.a.directions;var CEt=function(e){const{typeKey:t,activeFilters:i,activeFilterLabel:n,activeSort:a,activeLimit:s,sorts:r,selectedSort:o,customFilter:l,onMenuClose:c}=e,d=Xe()(e,["typeKey","activeFilters","activeFilterLabel","activeSort","activeLimit","sorts","selectedSort","customFilter","onMenuClose"]);return bEt(Qv,tp()({},d,{onMenuClose:c}),r.map(({key:e,descKey:r,defaultDirection:d,title:u})=>{const p=o.key===e;let h=d;p&&(h=o.activeDirection?o.activeDirection===SEt?IEt:SEt:a?a===r?IEt:SEt:d===IEt?SEt:IEt);const m=h===SEt;return Vu()(oy,{to:_Se({typeKey:t,filters:i,filterLabel:n,sort:m?r:e,limit:l?s:null,customFilter:l}),isSelected:p,iconComponent:m?Uut:But,selectedIconAriaLabel:m?Object(Ze.default)("Ascending"):Object(Ze.default)("Descending"),onPress:c},e,u)}))},MEt=i("tRnC"),DEt=i.n(MEt);const{Component:PEt,Fragment:OEt}=Nd.a;var jEt=Vu()(Kte,{});class wEt extends PEt{constructor(e,t){super(e,t),this._filtersMenuButtonID=void 0,this._sortsMenuButtonID=void 0,this._typesMenuButtonID=void 0,this.onFiltersMenuButtonPress=e=>{this.setState({isFiltersMenuOpen:!this.state.isFiltersMenuOpen})},this.onFiltersMenuClose=()=>{this.setState({isFiltersMenuOpen:!1})},this.onTypesMenuButtonPress=e=>{this.setState({isTypesMenuOpen:!this.state.isTypesMenuOpen})},this.onTypesMenuClose=()=>{this.setState({isTypesMenuOpen:!1})},this.onSortsMenuButtonPress=e=>{this.setState({isSortsMenuOpen:!this.state.isSortsMenuOpen})},this.onSortsMenuClose=()=>{this.setState({isSortsMenuOpen:!1})},this.state={isFiltersMenuOpen:!1,isTypesMenuOpen:!1,isSortsMenuOpen:!1},this._filtersMenuButtonID=Mp(),this._sortsMenuButtonID=Mp(),this._typesMenuButtonID=Mp()}shouldComponentUpdate(e,t){return Tp(this,e,t)}render(){const{serverEntityID:e,providerEntityID:t,metadataListEntityID:i,provider:n,pivot:a,sourceDirectory:s,directoryKey:r,listType:o,listSubtype:l,listContext:c,listStyle:d,listTitle:u,typeKey:p,activeFilters:h,activeFilterLabel:m,activeSort:g,activeLimit:v,activeAdvancedFilters:y,metadataTypes:f,selectedType:b,selectedSort:I,selectedFilterTitle:S,customFilter:C,playlistTitle:M,totalSize:D,showSortsMenu:P,canBuildAdvancedFilter:O,allListStyles:j}=this.props,{isFiltersMenuOpen:w,isTypesMenuOpen:T,isSortsMenuOpen:E}=this.state,N=C||h.length>0,x=!!b&&b.filters.length>0&&!C,A=!!b&&f.length>1,L=!!(P&&I&&b.sorts.length>1),k=x?S:M||u,R=O?_Se({typeKey:p,filters:y,sort:g,limit:v,customFilter:!0}):"";return Vu()(OEt,{},void 0,Vu()(Pst,{},void 0,Vu()(Prt,{serverEntityID:e,providerEntityID:t,sourceDirectory:s}),a?Vu()(rrt,{serverEntityID:e,providerEntityID:t,sourceDirectory:s,directoryKey:r}):null,Vu()(xst,{},void 0,Vu()(b9e,{listType:o,listSubtype:l,listContext:c,selectedListStyle:d,allListStyles:j}))),Vu()(Z2e,{},void 0,Vu()(drt,{},void 0,N?Vu()(hrt,{},void 0,Vu()(D$,{className:DEt.a.resetButton,tooltip:Object(Ze.default)("Clear Filter"),to:_Se({typeKey:p,sort:g})},void 0,jEt)):null,k?Vu()(H$,{id:this._filtersMenuButtonID,hasMenu:x,isMenuOpen:w,onPress:this.onFiltersMenuButtonPress},void 0,k):null,x?Vu()(yEt,{serverEntityID:e,providerEntityID:t,target:this._filtersMenuButtonID,isOpen:w,typeKey:p,activeFilters:h,activeFilterLabel:m,activeSort:g,selectedType:b,showCustomFilter:!!n.features.queryParser,onMenuClose:this.onFiltersMenuClose}):null,A?Vu()(H$,{id:this._typesMenuButtonID,hasMenu:f.length>1,isMenuOpen:T,onPress:this.onTypesMenuButtonPress},void 0,b.title):null,A?Vu()(kwt,{target:this._typesMenuButtonID,isOpen:T,types:f,activeFilters:h,activeSort:g,activeLimit:v,customFilter:C,selectedType:b,onMenuClose:this.onTypesMenuClose}):null,L?Vu()(H$,{id:this._sortsMenuButtonID,hasMenu:!0,isMenuOpen:E,onPress:this.onSortsMenuButtonPress},void 0,Object(Ze.default)("By {sortTitle}",{sortTitle:I.title})):null,L?Vu()(CEt,{target:this._sortsMenuButtonID,isOpen:E,typeKey:p,activeFilters:h,activeFilterLabel:m,activeSort:g,activeLimit:v,customFilter:C,sorts:b.sorts,selectedSort:I,onMenuClose:this.onSortsMenuClose}):null,Vu()(jct,{},void 0,D)),Vu()(R$,{},void 0,Vu()(jCt,{serverEntityID:e,providerEntityID:t,metadataListEntityID:i,listType:o,selectedType:b,showAddToSmartPlaylist:!O,customFilterRoute:R}))))}}wEt.defaultProps={showSortsMenu:!0};var TEt=wEt;var EEt=Object(Hu.b)((function(){return Object(Wu.a)((e,{listType:t})=>t,(e,{listSubtype:t})=>t,(e,{listContext:t})=>t,(e,{listStyle:t})=>t,(e,{activeFilters:t})=>t,(e,{activeTitle:t})=>t,(e,{pivot:t})=>t,ZS,ZMt,Rre(),JMt(),Object(Wu.a)((e,{activeFilters:t})=>t,(e,{activeFilterLabel:t})=>t,JMt(),(e,t,i)=>{if(I.a.isEmpty(e)||!i)return Object(Ze.default)("All");const n=[],a=e.reduce((e,t)=>(("boolean"===t.type?e.boolean:e.other).push(t),e),{boolean:[],other:[]}),s=a.boolean,r=a.other;if(1===s.length){const e=s[0],t=I.a.findWhere(i.filters,{filter:e.key,filterType:"boolean"});t&&n.push(t.title)}return 1===r.length&&t&&n.push(t),n.length?n.join(" "):Object(Ze.default)("Filtered")}),QDt(),aEt(),(e,t,i,n,a,s,r,o,l,c,d,u,p,h)=>{const m=Bwt(e,t,i,o);return{provider:o,metadataTypes:l,canBuildAdvancedFilter:h.length===a.length,activeAdvancedFilters:h,selectedType:d,selectedSort:p,selectedFilterTitle:u,listTitle:s||r&&r.title,listType:e,listContext:i,listStyle:n,allListStyles:m,totalSize:c.totalSize}})}))(TEt);function NEt(e,t){return e&&e.length&&t>0?I.a.sortBy(function(e,t){const i=[I.a.first(e),I.a.last(e)],n=I.a.sortBy(e,"size").reverse();return I.a.union(i,n).slice(0,t)}(e,t),"position"):[]}var xEt=i("nqj8"),AEt=i.n(xEt);const{Component:LEt}=Nd.a;var kEt=class extends LEt{constructor(...e){super(...e),this.onPress=e=>{this.props.onPress(this.props.scrollIndex)}}shouldComponentUpdate(e,t){return Tp(this,e,t)}render(){return Vu()(zp,{className:AEt.a.character,"data-qa-id":"jumpBarCharacter",onPress:this.onPress},void 0,this.props.title)}},REt=i("m5q2"),zEt=i.n(REt);const UEt=Nd.a.createElement,VEt=parseInt(BV.jumpBarCharacterHeight,10);var BEt=function(e){const{firstCharacters:t,viewportHeight:i,onJumpBarItemPress:n}=e,a={height:i+"px"},s=NEt(t,Math.floor(i/VEt));return Vu()("div",{className:zEt.a.jumpBar,style:a},void 0,s.map((e,t)=>UEt(kEt,tp()({key:t},e,{onPress:n}))))};function FEt(e){let t=0;return e.map((e,i)=>{const n=Object.assign({},e,{position:i,scrollIndex:t});return t+=e.size,n})}var HEt=Object(Hu.b)((function(){return Object(Wu.a)($S,(e,{activeSort:t})=>t,e=>e.ui.libraryPage.firstCharacters,(e,t,i=[])=>({firstCharacters:FEt(e.version&&!Qi(e.version,qi.firstCharacterKeySortDirection)&&/titleSort:desc/i.test(t)?i.slice().reverse():i)}))}))(BEt);const _Et=Nd.a.createElement,{Component:WEt}=Nd.a;var QEt=Vu()(N_,{},void 0,Vu()(Jh,{})),GEt=Vu()(GOt,{});class KEt extends WEt{constructor(e,t){super(e,t),this.onListScrollIndexChange=e=>{this.setState({scrollIndex:e})},this.onListUpdate=e=>{const{listStyle:{height:t}}=e;this.setState({listHeight:t})},this.onMeasure=({height:e})=>{this.setState({viewportHeight:e})},this.onJumpBarItemPress=e=>{this.setState({scrollIndex:e})};const{listHeight:i,scrollIndex:n,viewportHeight:a}=e;this.state={listHeight:i,scrollIndex:n,viewportHeight:a}}componentDidMount(){const{librarySectionID:e,providerIdentifier:t,onLibraryChange:i}=this.props;i(t,e)}componentDidUpdate(e){const{librarySectionID:t,providerIdentifier:i,onLibraryChange:n}=this.props;(i!==e.providerIdentifier||t&&t!==e.librarySectionID)&&n(i,t)}componentWillUnmount(){this.props.onLibraryChange(null,null)}render(){const{serverEntityID:e,providerEntityID:t,metadataListEntityID:i,metadataItemEntityIDs:n,sourceDirectory:a,pivot:s,containerKey:r,containerDisplayFields:o,directoryKey:l,providerIdentifier:c,providerMetricsIdentifier:d,libraryError:u,isProgramGuide:p,showLibrarySpinner:h,showLibraryNotFound:m,selectedSort:g,listTitle:v,listType:y,listSubtype:f,listContext:b,listStyle:I,firstItemType:S,firstItemSubtype:C,activeSelectionType:M,typeKey:D,activeType:P,activeFilters:O,activeFilterLabel:j,activeSort:w,activeLimit:T,activeTitle:E,customFilter:N,folderKey:x,folderTitle:A,parentFolderKey:L,parentFolderTitle:k,playlistID:R,playlistTitle:z,populatedRange:U,columnAdjustment:V,hasQueryParse:B,isDirectoryList:F,isLibraryRefreshing:H,isPending:_,isPopulated:W,totalSize:Q,firstCharacterCount:G,metricsContext:K,onPageRequest:Y}=this.props,{listHeight:q,scrollIndex:Z,viewportHeight:J}=this.state,X=/titleSort/i.test(g.key),$=Math.max(q,1),ee=!x&&X&&G>=5&&J/$<=.25,te=I===Mc,ie=!M&&!!x,ne=!M&&!x,ae={serverEntityID:e,providerEntityID:t,pivot:s,sourceDirectory:a,directoryKey:ie?x:l,scrollDirection:Zp},se={metricsPage:zd.rb,metricsProperties:{identifier:d,mode:"list",type:x?"folder":y,customFilter:N,style:I},allowBackgroundLightPreset:!0,scrollDirection:Zp},re=s?PLe(zd.P,s.context):K;if(h)return Vu()(gKe,{metricsContext:re},void 0,_Et(f$,se,_Et(Trt,tp()({},ae,{showSecondHeader:!0}),QEt)));if(m)return Vu()(gKe,{metricsContext:re},void 0,_Et(f$,se,_Et(Trt,ae,GEt)));if(u){const e=N||O.length>0||!!w||!!T||!!D;return Vu()(gKe,{metricsContext:re},void 0,_Et(f$,se,_Et(Trt,ae,Vu()(ZOt,{sourceDirectory:a,hint:l,error:u.status,defaultTitle:Object(Ze.default)("There was an unexpected error loading this library")},void 0,e?Vu()(zp,{to:_Se({}),kind:Pp},void 0,Object(Ze.default)("Retry")):null))))}return Vu()(gKe,{metricsContext:re},void 0,_Et(f$,se,M?Vu()(t9e,{serverEntityID:e,providerEntityID:t}):null,ie?Vu()(Fwt,{serverEntityID:e,providerEntityID:t,metadataListEntityID:i,pivot:s,sourceDirectory:a,directoryKey:l,typeKey:D,listType:y,listSubtype:f,listContext:b,listStyle:I,folderKey:x,folderTitle:A,parentFolderKey:L,parentFolderTitle:k}):null,ne?Vu()(EEt,{serverEntityID:e,providerEntityID:t,metadataListEntityID:i,pivot:s,sourceDirectory:a,directoryKey:l,listType:y,listSubtype:f,listContext:b,listStyle:I,typeKey:D,activeType:P,activeTitle:E,activeFilters:O,activeFilterLabel:j,activeSort:w,customFilter:N,playlistTitle:z,showSortsMenu:!te}):null,Vu()(G_,{serverEntityID:e,providerEntityID:t}),N&&B?Vu()(xwt,{serverEntityID:e,providerEntityID:t,metadataListEntityID:i,providerIdentifier:c,typeKey:D,activeSort:w,activeLimit:T,selectedSort:g,playlistID:R}):null,te?Vu()(WOt,{providerEntityID:t,metadataListEntityID:i,listType:y,listSubtype:f,listContext:b,typeKey:D,activeFilters:O,activeFilterLabel:j,activeSort:w,customFilter:N,selectedSort:g,isFolder:!!x,isDisabled:!!x}):null,Vu()(iEt,{serverEntityID:e,providerEntityID:t,metadataListEntityID:i,metadataItemEntityIDs:n,sourceDirectory:a,containerKey:r,containerTitle:A,containerDisplayFields:o,providerIdentifier:c,hasGutter:ee,scrollIndex:Z,listTitle:v,listType:y,listSubtype:f,listContext:te?b:"metadataList",listStyle:I,typeKey:D,firstItemType:S,firstItemSubtype:C,activeFilters:O,activeSort:w,selectedSort:g,pivot:s,populatedRange:U,columnAdjustment:V,shouldResetOnUnmount:!0,totalSize:Q,isLibraryRefreshing:H,isPending:_,isPopulated:W,isFolder:!!x,isDirectoryList:F,onPageRequest:Y,onListScrollIndexChange:this.onListScrollIndexChange,onListUpdate:this.onListUpdate,onMeasure:this.onMeasure}),ee?Vu()(HEt,{serverEntityID:e,activeSort:w,viewportHeight:J,onJumpBarItemPress:this.onJumpBarItemPress}):null,p?Vu()(gMt,{serverEntityID:e,providerEntityID:t}):null))}}KEt.defaultProps={listContext:yc,scrollIndex:0,listHeight:0,viewportHeight:0};var YEt=KEt;function qEt(e,t,i,n,a){if(!i)return;const s=Bwt(i,n,t,a);if(1===s.length)return s[0];let r;const o=l9e(i,n);return e[t]&&(r=e[t][o]),r&&s.indexOf(r)>-1?r:s[0]}const ZEt=Nd.a.createElement,{Component:JEt}=Nd.a;var XEt=kK((function(){return Object(Wu.a)((e,{librarySectionID:t})=>t,(e,{folderKey:t})=>t,(e,{listContext:t})=>t,(e,{selectedType:t})=>t,(e,{isMetaPopulated:t})=>t,(e,{isChannelsList:t})=>t,(e,{error:t})=>t,e=>e.ui.libraryPage,HS(),Object(Wu.a)(WDt("firstCharacter"),(e,{selectedType:t})=>t,(e,{libraryKey:t})=>t,(e,{activeFilters:t})=>t,(e,{activeSort:t})=>t,(e,t,i,n,a)=>{if(!i&&t&&t.sorts){const e=t.sorts.find(({active:e})=>!!e),i={filters:n,sort:a};if(e&&e.firstCharacterKey)return AIe([e.firstCharacterKey],i)}if(e)return e}),WDt("query/parse"),ZMt,QDt(),Object(Wu.a)((e,{sourceDirectory:t})=>t,(e,{pivot:t})=>t,(e,t)=>t?t.title:e?e.title:null),GDt,zre,wK(),(e,t,i,n={},a,s,r,o,l,c,d,u,p={},h,m,g,v)=>{const{metadataList:y,directoryKey:f,firstCharacters:b,details:I,queryParse:S,isDetailsPopulated:C,detailsError:M}=o,D=function(e,t,i,n,a){if(a)return"channels";if(n.match(/^\/playlists/))return Qt.m;if(n.match(/^\/library\/sections\/\w+\/collections$/))return Qt.e;if(e&&t){if(i){const[e]=t;if(!e)return;const i=Object(Qt.t)(e.type);return i?Object(Qt.t)(i.id).typeString:"mixed"}return Object(Qt.q)(e.type)?Object(Qt.u)(e.type).typeString:e.type}}(n,u,t,f,s),P=function(e){if(e)return e.subtype}(n),O=qEt(m,i,D,P,l),j=e||I&&I.librarySectionID,w=jt.k(l.identifier,jt.c);return{librarySectionID:j,firstCharacterKey:c,queryParseKey:d,hasQueryParse:!!S,metadataListEntityID:y,providerIdentifier:l.identifier,providerMetricsIdentifier:l.metricsIdentifier,isProgramGuide:w,isDetailsPopulated:C||a,showLibrarySpinner:!(M||r||C&&a&&y),showLibraryNotFound:!!M&&404===M.status,libraryError:M||r,libraryDirectories:I&&I.directories,listTitle:h,listType:D,listSubtype:P,listContext:i,listStyle:O,selectedType:n,selectedSort:p,activeSelectionType:g.activeSelectionType,isLibraryRefreshing:v,firstCharacterCount:b?b.length:0}})}),(function(e,t){return{onLibraryChange(i,n){let a;t.sourceDirectory&&(a=t.sourceDirectory.id),a||(a=n),e(xte({serverEntityID:t.serverEntityID,providerEntityID:t.providerEntityID,providerIdentifier:i,directoryID:a}))},dispatchInitLibraryPageSupportingLists(t){e(ODt(t))},dispatchPopulateLibraryFirstCharacters(){e(EDt())},dispatchClearErrors(){e(DDt())}}}))(class extends JEt{componentDidMount(){const{isDetailsPopulated:e}=this.props;e&&this._populate()}componentDidUpdate(e){const{isDetailsPopulated:t,firstCharacterKey:i,queryParseKey:n}=this.props;!t||i===e.firstCharacterKey&&n===e.queryParseKey||this._populate()}componentWillUnmount(){this.props.dispatchClearErrors()}_populate(){const{serverEntityID:e,providerEntityID:t,firstCharacterKey:i,queryParseKey:n,customFilter:a,dispatchInitLibraryPageSupportingLists:s,dispatchPopulateLibraryFirstCharacters:r}=this.props;(i||n)&&s({serverEntityID:e,providerEntityID:t,firstCharacterKey:i,queryParseKey:n,customFilter:a}),i&&r()}render(){const e=this.props,t=Xe()(e,["dispatchInitLibraryPageSupportingLists","dispatchPopulateLibraryFirstCharacters"]);return ZEt(YEt,t)}});const $Et=Nd.a.createElement;const eNt=Yrt((function(e){return $Et(_re,tp()({component:XEt,initialSize:50},e))}),(function(e){const t=e.ui.libraryPage;return{providerEntityID:t.providerEntityID,directoryKey:t.directoryKey,libraryKey:t.libraryKey}}),(function(e,t){const{pivot:i={}}=t;e(MDt({serverEntityID:t.serverEntityID,providerEntityID:t.providerEntityID,libraryKey:i.libraryKey,directoryKey:t.directoryKey})),e(PDt({serverEntityID:t.serverEntityID,providerEntityID:t.providerEntityID,containerKey:t.containerKey})),i.libraryKey&&e(wDt())}));var tNt=Object(Hu.b)((function(){return Object(Wu.a)(e=>e.ui.libraryPage,Object(Wu.a)((e,{folderKey:t})=>t,(e,{directoryKey:t})=>t,(e,{typeKey:t})=>t,(e,{activeType:t})=>t,(e,{activeFilters:t})=>t,(e,{activeSort:t})=>t,(e,{activeLimit:t})=>t,(e,{sourceDirectory:t})=>t,(e,t,i,n,a,s,r,o)=>{if(e)return e;const l={type:n,filters:a,sort:s,limit:r};return AIe(o&&o.type===Qt.k||!i?i||t:i,l)}),HS(),JMt(),(e,t,i,n)=>{const{details:a,metadataList:s}=e;return{metadataListEntityID:s,librarySectionID:a&&a.librarySectionID,providerIdentifier:i.identifier,containerKey:t,selectedType:n}})}),(function(e,t){return{onLibraryChange(i,n){let a;a=t.sourceDirectory?t.sourceDirectory.id:n,e(xte({serverEntityID:t.serverEntityID,providerEntityID:t.providerEntityID,providerIdentifier:i,directoryID:a}))},dispatchInitLibraryPageMetadataList(t){e(PDt(t))},dispatchPopulateLibraryFirstCharacters(){e(EDt())}}}))(eNt);function iNt(e={}){return e.key===ii?Ic:yc}var nNt=function(e){const{serverEntityID:t,providerEntityID:i,sourceDirectory:n,directoryKey:a,pivot:s,title:r,activeType:o,activeSubtype:l,activeFilters:c,activeFilterLabel:d,activeSort:u,activeLimit:p,pageType:h,customFilter:m,typeKey:g,folderKey:v,folderTitle:y,parentFolderKey:f,parentFolderTitle:b,playlistID:I,playlistTitle:S,canShowV4DirectoryHubsPage:C}=e;return C?Vu()(sMt,{serverEntityID:t,providerEntityID:i,sourceDirectory:n,hubKey:a}):h===xt?Vu()(YMt,{serverEntityID:t,providerEntityID:i,sourceDirectory:n,title:r,hubKey:a}):Vu()(tNt,{serverEntityID:t,providerEntityID:i,sourceDirectory:n,directoryKey:tMt(s,a),libraryKey:s&&s.libraryKey,pivot:s,listContext:iNt(s),activeType:o,activeSubtype:l,activeFilters:c,activeFilterLabel:d,activeSort:u,activeLimit:p,activeTitle:r,customFilter:m,typeKey:g,folderKey:v,folderTitle:y||n&&n.title,parentFolderKey:f,parentFolderTitle:b,playlistID:I,playlistTitle:S})};var aNt=Object(Hu.b)((function(){return Object(Wu.a)((e,{sourceDirectory:t})=>t,(e,{directoryKey:t})=>t,(e,{pageType:t})=>t,ZS,(e,t,i,n)=>({canShowV4DirectoryHubsPage:i===xt&&jt.k(n.identifier,jt.i)&&e.hubKey!==t}))}))(nNt);const sNt=Nd.a.createElement;var rNt=function(e){const{machineIdentifier:t,serverEntityID:i,providerEntityID:n}=e,a=function(e){const{serverEntityID:t,providerEntityID:i,sourceDirectoryID:n,sourceDirectory:a,pivot:s,directoryKey:r,params:o,shouldSaveParams:l}=e,c=Xe()(e,["serverEntityID","providerEntityID","machineIdentifier","sourceDirectoryID","sourceDirectory","pivot","directoryKey","params","shouldSaveParams"]);return!(!n||r)?Vu()($Ct,{serverEntityID:t,providerEntityID:i,sourceDirectoryID:n}):Vu()(Qrt,{serverEntityID:t,providerEntityID:i,sourceDirectoryID:n,directoryKey:r,params:o,shouldSaveParams:l},void 0,sNt(aNt,tp()({serverEntityID:t,providerEntityID:i,sourceDirectory:a,pivot:s,directoryKey:r},c)))}(e);return t===ST.a?Vu()(vst,{providerEntityID:n},void 0,a):Vu()(Jnt,{serverEntityID:i},void 0,a)};var oNt=Object(Hu.b)((function(){return Object(Wu.a)(Y9e(),fst(),(e,t)=>({sourceDirectory:e,pivot:t}))}))(rNt);const lNt=Nd.a.createElement;var cNt=Vu()(Qnt,{}),dNt=Vu()(Qnt,{}),uNt=Vu()(Qnt,{});var pNt=_u.extend({component(e){const{selectedServerID:t,selectedProviderID:i,params:n={}}=e,a=Object(pt.a)(ht.n,t),s=Object(pt.a)(ht.k,i,a);if(XQ())return Vu()(Zb.a,{metricsPage:zd.P,metricsContextParam:n.context},void 0,Vu()(Bh,{},void 0,Vu()(Nh,{},void 0,Vu()(Fit,{selectedMachineIdentifier:t,selectedProviderIdentifier:i,selectedSourceDirectoryID:n.source}),t===ST.a?Vu()(vst,{providerEntityID:s},void 0,n.key||n.source?Vu()(GCt,{directoryKey:n.key,machineIdentifier:t,providerIdentifier:i,contentDirectoryID:n.source,pageType:n.pageType,pivotID:n.pivot}):cNt):Vu()(Jnt,{serverEntityID:a},void 0,n.key||n.source?Vu()(GCt,{directoryKey:n.key,machineIdentifier:t,providerIdentifier:i,contentDirectoryID:n.source,pageType:n.pageType,pivotID:n.pivot}):dNt))));const r=function(e){return{type:e.type,subtype:e.subtype,filters:e.filters,filterLabel:e.filterLabel,sort:e.sort,limit:e.limit,view:e.view,pageType:e.pageType,customFilter:e.customFilter,typeKey:e.typeKey,folderKey:e.folderKey,folderTitle:e.folderTitle,parentFolderKey:e.parentFolderKey,parentFolderTitle:e.parentFolderTitle,playlistID:e.playlistID,playlistTitle:e.playlistTitle}}(n),o=function(e){return{activeType:e.type,activeSubtype:e.subtype,activeFilters:Cie(e.filters),activeFilterLabel:e.filterLabel,activeSort:e.sort,activeLimit:Object(mo.a)(e.limit),customFilter:Object(ho.a)(e.customFilter),view:e.view,pageType:e.pageType,typeKey:e.typeKey,folderKey:e.folderKey,folderTitle:e.folderTitle,parentFolderKey:e.parentFolderKey,parentFolderTitle:e.parentFolderTitle,playlistID:e.playlistID,playlistTitle:e.playlistTitle}}(r);return Vu()(gKe,{metricsContext:n.context},void 0,Vu()(Bh,{},void 0,Vu()(Nh,{},void 0,Vu()(Fit,{selectedMachineIdentifier:t,selectedProviderIdentifier:i,selectedSourceDirectoryID:n.source}),n.key||n.source?lNt(oNt,tp()({serverEntityID:a,providerEntityID:s,machineIdentifier:t,sourceDirectoryID:n.source,directoryKey:n.key,title:n.title},o,{params:r,shouldSaveParams:Se.a.parseBoolean(n.save)})):uNt)))}});var hNt=_u.extend({component(e){const{selectedServerID:t,selectedProviderID:i,params:n={}}=e,a=Object(pt.a)(ht.n,t),s=Object(pt.a)(ht.k,i,a);return Vu()(Bh,{},void 0,Vu()(Nh,{},void 0,Vu()(Fit,{selectedMachineIdentifier:t,selectedProviderIdentifier:i,selectedSourceDirectoryID:n.source}),Vu()(Jnt,{serverEntityID:a},void 0,Vu()(Qrt,{serverEntityID:a,providerEntityID:s,sourceDirectoryID:n.source,directoryKey:ti},void 0,Vu()(VCt,{serverEntityID:a,providerEntityID:s,sourceDirectoryID:n.source,directoryKey:ti,libraryKey:n.key})))))}});var mNt=_u.extend({component(e){const{selectedServerID:t,selectedProviderID:i,params:n={}}=e,a=Object(pt.a)(ht.n,t),s=Object(pt.a)(ht.k,i,a);return Vu()(Bh,{},void 0,Vu()(Nh,{},void 0,Vu()(Fit,{selectedMachineIdentifier:t,selectedProviderIdentifier:i,selectedSourceDirectoryID:n.source}),Vu()(Jnt,{serverEntityID:a},void 0,Vu()(Qrt,{serverEntityID:a,providerEntityID:s,sourceDirectoryID:n.source,directoryKey:$t},void 0,Vu()(cSt,{serverEntityID:a,providerEntityID:s,sourceDirectoryID:n.source,selectedViewType:n.view})))))}}),gNt=Vu()(dh,{},void 0,Vu()(Jh,{})),vNt=Vu()(Qnt,{});var yNt=function(e){const{children:t,hasProvider:i,showSpinner:n,showError:a}=e,s=Xe()(e,["children","hasProvider","showSpinner","showError"]);if(n)return gNt;if(a)return Vu()(a$,{title:Object(Ze.default)("There was an unexpected error")});if(!i)return vNt;const r=Nd.a.Children.only(t);return Nd.a.cloneElement(r,s)};const fNt=Nd.a.createElement,{Component:bNt}=Nd.a;const INt={dispatchFetchProvider:vLe,dispatchPopulateProvider:yLe};var SNt=Object(Hu.b)((function(){return Object(Wu.a)(HS(),e=>e?{isProvidersPopulated:!0,hasProvider:!0,providerEntityID:e.entityID,isRetrying:!!e.isPending,showSpinner:!e.isPopulated&&!e.error,showError:!!e.error}:{isProvidersPopulated:!1,hasProvider:!1,isRetrying:!0,showSpinner:!0,showError:!1})}),INt)(class extends bNt{constructor(...e){super(...e),this.onPopulate=({serverEntityID:e,providerEntityID:t})=>{Object(Ti.a)(()=>{this.props.dispatchPopulateProvider({providerEntityID:t,options:{merge:!0}})})},this.onRepopulate=({serverEntityID:e,providerEntityID:t})=>{Object(Ti.a)(()=>{this.props.dispatchFetchProvider({providerEntityID:t,options:{merge:!0}})})}}componentDidMount(){this.props.isProvidersPopulated&&this.onPopulate({providerEntityID:this.props.providerEntityID})}componentWillReceiveProps(e){e.providerEntityID===this.props.providerEntityID&&e.isProvidersPopulated===this.props.isProvidersPopulated||this.onRepopulate({providerEntityID:e.providerEntityID})}render(){const e=this.props,t=Xe()(e,["dispatchFetchProvider","dispatchPopulateProvider"]);return fNt(yNt,tp()({},t,{onRetry:this.onRepopulate}))}});function CNt(e,t){return e?e.split("|").map(e=>{const[i,n]=e.split(":");return["int"===t?parseInt(i,10):i,n]}):null}function MNt(e,t){var i;return null==(i=CNt(e,t))?void 0:i.map(([e,t])=>({[e]:t}))}function DNt(e){var t;const i=PNt(e),n=null==(t=CNt(e.enumValues,e.type))?void 0:t.find(([e])=>e===i);return n?n[1]:null}function PNt(e){var t;return null!=(t=e.value)?t:e.defaultValue}var ONt=i("p2t2"),jNt=i.n(ONt);const wNt=IB(TB);var TNt=function(e){const{labelText:t,helpText:i,options:n}=e;return Vu()(eV,{},void 0,Vu()(GM,{},void 0,t),i?Vu()(vB,{className:jNt.a.help},void 0,i):null,Vu()("div",{className:jNt.a.multiSelectContainer},void 0,n.map(e=>Vu()("div",{className:jNt.a.multiSelectItem},e.key,Vu()(wNt,{name:e.key,checkboxText:e.title,initialValue:e.selected})))))},ENt=i("N6gl"),NNt=i.n(ENt);const{Component:xNt}=Nd.a;vc.a.shape({country:vc.a.string.isRequired,postalCode:vc.a.string});var ANt=IB(class extends xNt{constructor(e,t){super(e,t),this.onCountryChange=e=>{const t=this._calculateLocationState(e,this.state.postalCode,this.props.countries);this.setState(t,()=>{this.props.onChange({country:t.country,postalCode:t.postalCode})})},this.onPostalCodeChange=e=>{this.setState({postalCode:e},()=>{this.props.onChange({country:this.state.country,postalCode:e})})},this.state=this._calculateLocationState(e.initialValue.country,e.initialValue.postalCode,e.countries)}componentWillReceiveProps(e){const t=this.state.country!==e.value.country,i=this.state.postalCode!==e.value.postalCode;if(this.props.countries!==e.countries||t||i){const t=this._calculateLocationState(e.value.country,e.value.postalCode,e.countries);this.setState(t)}}_getCountryOption(e,t){return t.find(t=>t.code===e)}_countryHasPostalCode(e,t){const i=this._getCountryOption(e,t);return i&&"postalcode"===i.flavor}_calculateLocationState(e,t,i){return{country:e,postalCode:this._countryHasPostalCode(e,i)&&t?t:""}}_getSelectInputValues(e){return e.map(e=>({[e.code]:e.title}))}_getPostalCodeMask(e,t){const i=this._getCountryOption(e,t).postalCodeFormat;return i?I.a.map(i,e=>"N"===e?/\d/:/\./):[]}render(){const{labelText:e,helpText:t,countries:i,showErrors:n,errors:a,onBlur:s}=this.props,{country:r,postalCode:o}=this.state,[l]=a,c=0===i.length,d=this._countryHasPostalCode(r,i);return Vu()(eV,{},void 0,Vu()(GM,{name:"country"},void 0,e),t?Vu()(vB,{className:NNt.a.help},void 0,t):null,Vu()(LR,{name:"country",value:r,values:this._getSelectInputValues(i),isDisabled:c,onChange:this.onCountryChange}),d?Vu()(GM,{name:"postalCode",hasError:n,className:NNt.a.secondaryLabel},void 0,Object(Ze.default)("Postal Code"),n&&l?"  "+l:null):null,d?Vu()(Cjt,{mask:this._getPostalCodeMask(r,i),name:"postalCode",value:o,isDisabled:c,hasError:n,onBlur:s,onChange:this.onPostalCodeChange}):null)}});const LNt=Nd.a.createElement;const kNt=[function(e){if(e.postalCode&&!/^\d{5}$/.test(e.postalCode))return Object(Ze.default)("Postal Code is not in correct format")}],RNt={playbackSpeed:cF};var zNt=function e(t){const{id:i,type:n,multiselect:a,label:s,summary:r,country:o,locations:l,postalCode:c,value:d,options:u,enumValues:p,settings:h,parentSetting:m}=t;return i===ADe.b?Vu()(xB,{name:i,checkboxText:Object(Ze.default)("Display the last 3 accessed channels in Guide"),checkedValue:3,uncheckedValue:0,initialValue:d}):"group"===n?Vu()("div",{},void 0,h.map(i=>i.hidden?null:LNt(e,tp()({key:i.id},i,{parentSetting:t})))):"bool"===n?Vu()(xB,{name:i,labelText:m&&m.label||s,checkboxText:s,helpText:r,initialValue:d}):"double"===n?Vu()(lF,{name:i,labelText:s,min:t.min,max:t.max,stepSize:t.step,initialValue:d,valueModifier:RNt[i]}):"location"===n?Vu()(ANt,{name:i,labelText:s,helpText:r,initialValue:{country:o,postalCode:c},validations:kNt,countries:l}):"select"===n&&a?Vu()(TNt,{labelText:s,helpText:r,options:u}):p?Vu()(CB,{name:i,labelText:s,helpText:r,initialValue:d,values:MNt(p,n)}):(C.a.warn("Unsupported provider setting type:[%s]",n),null)},UNt=i("1MJM"),VNt=i.n(UNt);function BNt(e){const{children:t,className:i,onPress:n}=e;return Vu()(zp,{className:(VNt.a.sectionWrapper||"")+" "+(i||""),component:"div",onPress:n},void 0,t)}function FNt(e){const{children:t,className:i}=e;return Vu()("div",{className:(VNt.a.sectionWrapper||"")+" "+(i||"")},void 0,t)}var HNt=function(e){const{errorMessage:t,children:i,className:n,onPress:a}=e,s=a?BNt:FNt;return Vu()(s,{className:n,onPress:a},void 0,t?Vu()(vV,{errorMessage:t}):null,Vu()("div",{className:VNt.a.section},void 0,i))},_Nt=i("x9uD"),WNt=i.n(_Nt);function QNt(e){const{children:t,className:i}=e;return Vu()("div",{className:i},void 0,t)}QNt.defaultProps={className:WNt.a.actionLinks};var GNt=QNt,KNt=i("UT02"),YNt=i.n(KNt);var qNt=function(e){const{children:t,className:i,closedNode:n,errorMessage:a,isOpen:s,onTogglePress:r}=e;return Vu()(HNt,{className:((s?YNt.a.isOpen:YNt.a.isClosed)||"")+" "+(i||""),errorMessage:s?a:null,onPress:s?null:r},void 0,Vu()(GNt,{},void 0,s?Vu()(zp,{kind:Pp,onPress:r},void 0,Object(Ze.default)("Cancel")):null,s?null:Vu()(zp,{kind:Pp},void 0,Object(Ze.default)("Edit"))),s?t:n)},ZNt=i("R/D4"),JNt=i.n(ZNt);function XNt(e){const{className:t,children:i}=e;return Vu()("div",{className:t},void 0,i)}XNt.defaultProps={className:JNt.a.sectionDetails};var $Nt=XNt,ext=i("m97E"),txt=i.n(ext),ixt=Vu()(Jh,{});function nxt(e){const{className:t,children:i,closedNode:n,title:a,errorMessage:s,buttonKind:r,buttonText:o,isDirty:l,isOpen:c,isUpdating:d,showButton:u,showButtonEnabled:p,showSpinner:h,onFormChange:m,onSubmit:g,onTogglePress:v}=e;return Vu()(qNt,{className:t,isOpen:c,errorMessage:s,closedNode:Vu()($Nt,{className:txt.a.sectionDetails},void 0,Vu()(GM,{className:txt.a.label},void 0,a),n),onTogglePress:v},void 0,h?Vu()(GM,{className:txt.a.label},void 0,a):null,h?Vu()("div",{className:txt.a.spinnerContainer},void 0,ixt):null,!h&&u?Vu()(FM,{onSubmit:g,onChange:m},void 0,i,Vu()("div",{className:txt.a.submitButton},void 0,Vu()(hV,{type:"submit",isDisabled:!p&&!l,isSpinning:d,kind:r},void 0,o||Object(Ze.default)("Save Changes")))):null,h||u?null:i)}nxt.defaultProps={buttonKind:Pp,showButton:!0,showButtonEnabled:!1};var axt=sCt(nxt,{isUpdatingPropName:"isUpdating",errorPropName:"errorMessage",clearDirtyOnChangePropName:"isOpen"});const sxt=Nd.a.createElement;var rxt=function(e){const{setting:t}=e,i=Xe()(e,["setting"]);return sxt(axt,tp()({},i,{closedNode:DNt(t),initialValue:PNt(t)}))};const oxt=Nd.a.createElement;var lxt=function(e){const{setting:t}=e,i=Xe()(e,["setting"]);return oxt(axt,tp()({closedNode:t.summary},i))};function cxt(e){var t=e["aria-label"],i=e.className,n=e.style,a={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-eye-closed-560"};a["aria-hidden"]=!t,a.style=n,a.className=Ad.a.plexIcon+(i?" "+i:"");var s=[Nd.a.createElement.apply(Nd.a,["g",void 0].concat([Nd.a.createElement.apply(Nd.a,["path",{d:"M522.454 280c-56.558 79.108-145.66 125.848-241.414 125.848-95.82 0-184.9884-46.756-241.5154-125.848H1l3.1852 4.958C65.863 381.112 169.368 438.512 281.034 438.512c111.642 0 215.126-57.4 276.788-153.578L561 280h-38.546z"}].concat([])),Nd.a.createElement.apply(Nd.a,["path",{d:"M269.018 436.36V520h29.56v-83.64zM383.556 414.76l34.616 83.904 27.21-11.884-34.616-83.906zM480.352 361.564l54.132 71.284 23.294-18.728-54.132-71.284zM154.4628 402.434l-31.0532 87.792 27.7794 10.4 31.053-87.79zM62.8262 345.216L8.3388 416.972l23.2936 18.726 54.4874-71.754z"}].concat([]))]))];return t&&s.unshift(Nd.a.createElement("title",null,t)),Nd.a.createElement.apply(Nd.a,["svg",a].concat(s))}cxt.propTypes={"aria-label":vc.a.string,className:vc.a.string,style:vc.a.object};var dxt=cxt;function uxt(e){var t=e["aria-label"],i=e.className,n=e.style,a={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-eye-open-560"};a["aria-hidden"]=!t,a.style=n,a.className=Ad.a.plexIcon+(i?" "+i:"");var s=[Nd.a.createElement.apply(Nd.a,["g",void 0].concat([Nd.a.createElement.apply(Nd.a,["path",{d:"M556.022 268.128C550.718 261.908 431.676 120 280.22 120 128.766 120 9.7238 261.908 4.4198 268.128c-5.893 6.784-5.893 16.394 0 23.744C9.7238 298.092 128.766 440 280.22 440c151.456 0 270.498-142.474 275.802-148.128 5.304-6.784 5.304-16.96 0-23.744zM280.22 386.29c-61.288 0-110.79-47.492-110.79-106.29 0-58.798 49.502-106.29 110.79-106.29 61.29 0 110.792 47.492 110.792 106.29 0 58.798-49.502 106.29-110.792 106.29z"}].concat([])),Nd.a.createElement.apply(Nd.a,["path",{d:"M280.224 344.452c37.102 0 67.182-28.856 67.182-64.452s-30.08-64.454-67.182-64.454c-37.104 0-67.184 28.858-67.184 64.454 0 35.596 30.08 64.452 67.184 64.452z"}].concat([]))]))];return t&&s.unshift(Nd.a.createElement("title",null,t)),Nd.a.createElement.apply(Nd.a,["svg",a].concat(s))}uxt.propTypes={"aria-label":vc.a.string,className:vc.a.string,style:vc.a.object};var pxt=uxt,hxt=i("HiPX"),mxt=i.n(hxt);const{useCallback:gxt}=Nd.a;function vxt(e){const{serverEntityID:t,providerEntityID:i,className:n,channelID:a,title:s,thumb:r,style:o,hidden:l,connectDragSource:c,onToggleHideChannel:d}=e,u=gxt(()=>{d&&d(a)},[a,d]),p=l?Object(Ze.default)("Show"):Object(Ze.default)("Hide");return Vu()("div",{className:(n||"")+" "+(l&&mxt.a.isHidden||""),style:o},void 0,c(Vu()("div",{},void 0,Vu()(MAe,{className:mxt.a.iconReorder}))),Vu()(tC,{serverEntityID:t,providerEntityID:i,className:mxt.a.thumb,url:r,width:36,height:36,backgroundSize:"contain"}),Vu()("span",{className:mxt.a.label},void 0,Vu()("span",{className:mxt.a.title},void 0,s)),Vu()(Wb,{className:mxt.a.toggleButton,component:JK,iconComponent:l?dxt:pxt,ariaLabel:p,tooltip:p,onPress:u}))}vxt.defaultProps={className:mxt.a.item,connectDragSource:e=>e};var yxt=vxt;const fxt=Nd.a.createElement,{Component:bxt}=Nd.a,Ixt=parseInt(BV.lineupSettingChannelHeight,10);var Sxt=Object(eAe.DragLayer)((function(e){const t=e.getItem(),i={item:t,style:null},n=e.getInitialSourceClientOffset(),a=e.getSourceClientOffset();if("LINEUP_CHANNEL"===e.getItemType()&&n&&a){let e=a.y;e-t.listTop<=0?e=t.listTop:e+Ixt>=t.listBottom&&(e=t.listBottom-Ixt),i.style=H4e({x:n.x,y:e},t.listWidth)}return i}))(class extends bxt{render(){const{item:e,style:t}=this.props;if(!e||!t)return null;const i=Xe()(e,["listHeight","listWidth","listTop","listRight","listBottom","listLeft"]);return Vu()(pAe,{},void 0,fxt(yxt,tp()({},i,{style:t})))}}),Cxt=i("NDU1"),Mxt=i.n(Cxt);const Dxt=Nd.a.createElement,{Component:Pxt}=Nd.a,Oxt={beginDrag(e){const{channelID:t,serverEntityID:i,providerEntityID:n,title:a,thumb:s,hidden:r,listIndex:o,listHeight:l,listWidth:c,listTop:d,listRight:u,listBottom:p,listLeft:h}=e;return{dragIndex:o,channelID:t,serverEntityID:i,providerEntityID:n,title:a,thumb:s,hidden:r,listHeight:l,listWidth:c,listTop:d,listRight:u,listBottom:p,listLeft:h}},endDrag(e,t){e.onItemDragEnd({didDrop:t.didDrop()})}},jxt={hover(e,t,i){const n=t.getClientOffset(),a=Object(Bu.findDOMNode)(i).getBoundingClientRect(),s=(a.bottom-a.top)/2,r=n.y-a.top,o=t.getItem().dragIndex,l=e.listIndex;let c;c=l===o?l:r>s?l+1:l,e.onItemDragMove({dragIndex:o,dropIndex:c})}};var wxt=Object(eAe.DropTarget)("LINEUP_CHANNEL",jxt,(function(e,t){return{connectDropTarget:e.dropTarget(),isOver:t.isOver()}}))(Object(eAe.DragSource)("LINEUP_CHANNEL",Oxt,(function(e,t){return{connectDragPreview:e.dragPreview(),connectDragSource:e.dragSource(),isDragging:t.isDragging()}}))(class extends Pxt{componentDidMount(){this.props.connectDragPreview(Object(tAe.getEmptyImage)())}render(){const e=this.props,{isOver:t,isDragging:i,isDraggingBefore:n,isDraggingAfter:a,connectDropTarget:s}=e,r=Xe()(e,["isOver","isDragging","listIndex","dropIndex","listHeight","listWidth","listTop","listRight","listBottom","listLeft","isDraggingBefore","isDraggingAfter","connectDropTarget"]);return s(Vu()("div",{className:(Mxt.a.container||"")+" "+(t&&Mxt.a.isOver||"")+" "+(i?"isDragging":"")+" "+(t&&n?"isDraggingBefore":"")+" "+(t&&a?"isDraggingAfter":"")},void 0,Dxt(yxt,r)))}})),Txt=i("pQgm"),Ext=i.n(Txt);const Nxt=Nd.a.createElement,{Component:xxt}=Nd.a,Axt={dragIndex:-1,dropIndex:-1,hasValidDropTarget:!1};var Lxt=Vu()(Sxt,{});var kxt=nAe(class extends xxt{constructor(e,t){super(e,t),this.onItemDragMove=e=>{const{dragIndex:t,dropIndex:i}=e,{dragIndex:n,dropIndex:a}=this.state;let s=i!==a?i:a;const r=t!==n?t:n;if((s===r||s>r&&s-r==1)&&(s=-1),r!==n||s!==a){const e={dragIndex:r,dropIndex:s,hasValidDropTarget:-1!==s};this.setState(e)}},this.onItemDragEnd=e=>{const{dragIndex:t,dropIndex:i}=this.state;let n;e.didDrop&&-1!==i&&(n=()=>{this.props.onReorderChannel({fromIndex:t,toIndex:i>t?i-1:i})}),this.setState(Axt,n)},this.onMeasure=e=>{const{height:t,width:i,x:n,y:a}=e;this.setState({listHeight:t,listWidth:i,listTop:a,listRight:n+i,listBottom:a+t,listLeft:n})},this.state=Object.assign({},Axt,{listHeight:0,listWidth:0,listTop:0,listRight:0,listBottom:0,listLeft:0})}render(){const{serverEntityID:e,providerEntityID:t,lineup:i,onToggleHideChannel:n}=this.props,{dropIndex:a,hasValidDropTarget:s}=this.state;return Vu()(T0,{onMeasure:this.onMeasure},void 0,Vu()(ih,{className:Ext.a.scroller,scrollDirection:"vertical"},void 0,i.map((i,r)=>{const{id:o,title:l,thumb:c,hidden:d}=i,u=r,p=s&&a===u,h=s&&a===u+1;return Nxt(wxt,tp()({},this.state,{key:o,serverEntityID:e,providerEntityID:t,channelID:o,listIndex:u,title:l,thumb:c,hidden:d,hasValidDropTarget:s,isDraggingAfter:h,isDraggingBefore:p,onItemDragMove:this.onItemDragMove,onItemDragEnd:this.onItemDragEnd,onToggleHideChannel:n}))}),Lxt))}}),Rxt=i("K5wW"),zxt=i.n(Rxt);const Uxt=Nd.a.createElement,{useCallback:Vxt,useEffect:Bxt,useState:Fxt}=Nd.a;var Hxt=function(e){const{serverEntityID:t,providerEntityID:i,setting:n,onTogglePress:a,onSubmit:s}=e,r=Xe()(e,["serverEntityID","providerEntityID","setting","onTogglePress","onSubmit"]),{summary:o,lineup:l,isLineupPending:c}=n,d=Fxt(l),u=d[1],p=d[0],h=Fxt(!1),m=h[1],g=h[0],v=Vxt(e=>{m(!0),u(p.map(t=>t.id===e?Object.assign({},t,{hidden:!t.hidden}):t))},[p]),y=Vxt(({fromIndex:e,toIndex:t})=>{e!==t&&(m(!0),u(w4e(p,e,t)))},[p]),f=Vxt(e=>{u(l),a(e)},[l,a]),b=Vxt(()=>{const e=p.map(({id:e,hidden:t})=>({id:e,hidden:t}));s(e)},[p,s]);return Bxt(()=>{c||u(l)},[c,l]),Uxt(axt,tp()({},r,{closedNode:o,showSpinner:c,isDirty:g,onSubmit:b,onTogglePress:f}),Vu()(vB,{className:zxt.a.help},void 0,o),Vu()(kxt,{serverEntityID:t,providerEntityID:i,lineup:p,onReorderChannel:y,onToggleHideChannel:v}))};const _xt=Nd.a.createElement,{Component:Wxt}=Nd.a;var Qxt=class extends Wxt{constructor(...e){super(...e),this.onSubmit=e=>{const{location:t}=e;this.props.onSubmit(t)}}_getCountryPostalCodeLabel(e,t){const i=[];return e?(i.push(e),t&&i.push(t),i.join(", ")):""}render(){const e=this.props,{setting:t}=e,i=Xe()(e,["setting"]);return _xt(axt,tp()({closedNode:this._getCountryPostalCodeLabel(t.countryLabel,t.postalCode),showSpinner:t.isLocationsPending},i,{onSubmit:this.onSubmit}))}};const Gxt=Nd.a.createElement;var Kxt=function(e){const{setting:t}=e,i=Xe()(e,["setting"]);return Gxt(axt,tp()({closedNode:Object(Ze.default)("{1} selected",t.selectedCount),showSpinner:t.isOptionsPending},i))};const Yxt=Nd.a.createElement,{Component:qxt}=Nd.a;var Zxt=class extends qxt{constructor(...e){super(...e),this.onTogglePress=()=>{const{setting:{optionsError:e,locationsError:t,lineupError:i,id:n}}=this.props;this.props.onTogglePress(n),(e||t||i)&&this.props.onOptionsFetchErrorDismiss(n)},this.onSubmit=e=>{this.props.onUpdateSetting(this.props.setting.id,e)}}render(){const{setting:e}=this.props,{id:t,summary:i,optionsError:n,locationsError:a,lineupError:s,type:r,multiselect:o,enumValues:l,value:c}=e,d=this.props,{updateError:u}=d,p=Xe()(d,["updateError","onUpdateSetting","onTogglePress","onOptionsFetchErrorDismiss"]),h=u?Object(Ze.default)("Unable to save settings"):null,m=n||a||s?Object(Ze.default)("There was an error loading the options"):h;return t===ADe.b?Yxt(axt,tp()({},p,{title:Object(Ze.default)("Display the last 3 accessed channels in Guide"),closedNode:3===c?Object(Ze.default)("Enabled"):Object(Ze.default)("Disabled"),errorMessage:m,onSubmit:this.onSubmit,onTogglePress:this.onTogglePress})):"group"===r?Yxt(lxt,tp()({},p,{errorMessage:m,onSubmit:this.onSubmit,onTogglePress:this.onTogglePress})):"location"===r?Yxt(Qxt,tp()({},p,{errorMessage:m,onSubmit:this.onSubmit,onTogglePress:this.onTogglePress})):"select"===r&&o?Yxt(Kxt,tp()({},p,{errorMessage:m,onSubmit:this.onSubmit,onTogglePress:this.onTogglePress})):l?Yxt(rxt,tp()({},p,{errorMessage:m,onSubmit:this.onSubmit,onTogglePress:this.onTogglePress})):"lineup"===r?Yxt(Hxt,tp()({},p,{setting:e,errorMessage:m,onSubmit:this.onSubmit,onTogglePress:this.onTogglePress})):"double"===r||"bool"===r?Yxt(axt,tp()({closedNode:i},p,{errorMessage:m,onSubmit:this.onSubmit,onTogglePress:this.onTogglePress})):(C.a.warn("Unsupported provider setting type:[%s]",r),null)}};const Jxt=Nd.a.createElement,{Component:Xxt}=Nd.a;var $xt=Vu()(dh,{},void 0,Vu()(Jh,{})),eAt=Vu()(tf,{});var tAt=class extends Xxt{static getDerivedStateFromProps(e,t){const i={isUpdatePendingFromStore:e.isUpdatePending};return!t.isUpdatePendingFromStore||e.isUpdatePending||e.updateError||(i.openSettingID=null),i}constructor(e,t){super(e,t),this.onTogglePress=e=>{this.props.updateError&&this.props.onUpdateErrorDismiss(),this.state.openSettingID===e?this.setState({openSettingID:null}):(this.props.onSettingViewDetail(e),this.setState({openSettingID:e}))},this.state={openSettingID:null,isUpdatePendingFromStore:e.isUpdatePending}}render(){const{serverEntityID:e,providerEntityID:t,providerTitle:i,showSpinner:n,settings:a,isUpdatePending:s,updateError:r,onUpdateSetting:o,onOptionsFetchErrorDismiss:l}=this.props,{openSettingID:c}=this.state;return n?$xt:Vu()(F5,{metricsPage:zd.fb,metricsPane:"settings"},void 0,Vu()(L5,{},void 0,i,i?eAt:null,Object(Ze.default)("Personalize")),a.map(i=>i.hidden?null:Vu()(Zxt,{serverEntityID:e,providerEntityID:t,title:i.label,setting:i,isOpen:c===i.id,isUpdating:s,updateError:r,onTogglePress:this.onTogglePress,onUpdateSetting:o,onOptionsFetchErrorDismiss:l},i.id,Jxt(zNt,i))))}};const{Component:iAt}=Nd.a;const nAt={dispatchFetchProviderSettings:Vlt,dispatchUpdateProviderSetting:Ylt,dispatchClearProviderSettingUpdateError:qlt,dispatchClearProviderSettingFetchError:Flt,dispatchPopulateSettingsOptions:Zlt};var aAt=Object(Hu.b)((function(){return Object(Wu.a)(HS(),NIe(Ot.p),e=>e.ui.providerSettingsPage,(e,t,i)=>({providerEntityID:e.entityID,providerTitle:e.title,settings:t.settings,isSettingsPending:t.isSettingsPending,isUpdatePending:i.isUpdatePending,updateError:i.updateError}))}),nAt)(class extends iAt{constructor(...e){super(...e),this.onUpdateErrorDismiss=()=>{this.props.dispatchClearProviderSettingUpdateError({providerEntityID:this.props.providerEntityID})},this.onOptionsFetchErrorDismiss=e=>{this.props.dispatchClearProviderSettingFetchError({providerEntityID:this.props.providerEntityID,settingID:e})},this.onUpdateSetting=(e,t)=>{this.props.dispatchUpdateProviderSetting({providerEntityID:this.props.providerEntityID,settingID:e,values:t})},this.onSettingViewDetail=e=>{this.props.dispatchPopulateSettingsOptions({providerEntityID:this.props.providerEntityID,settingID:e})}}componentDidMount(){const{providerEntityID:e}=this.props;this.props.dispatchFetchProviderSettings({providerEntityID:e})}render(){return Vu()(tAt,{serverEntityID:this.props.serverEntityID,providerEntityID:this.props.providerEntityID,providerTitle:this.props.providerTitle,showSpinner:this.props.isSettingsPending,settings:this.props.settings,isUpdatePending:this.props.isUpdatePending,updateError:this.props.updateError,onSettingViewDetail:this.onSettingViewDetail,onUpdateErrorDismiss:this.onUpdateErrorDismiss,onOptionsFetchErrorDismiss:this.onOptionsFetchErrorDismiss,onUpdateSetting:this.onUpdateSetting})}}),sAt=Vu()(Fit,{}),rAt=Vu()(aAt,{});var oAt=_u.extend({component(e){const t=e.selectedProviderID,i=Object(pt.a)(ht.n,ST.a),n=Object(pt.a)(ht.k,t,i);return Vu()(Bh,{},void 0,Vu()(Nh,{},void 0,sAt,Vu()(SNt,{serverEntityID:i,providerEntityID:n},void 0,rAt)))}});const lAt={signIn:Qat,error:nst,notFound:ast,serverRequired:sst,unauthorized:rst,unavailable:ost};var cAt=R.Controller.extend({initialize(){this.listenTo(U.a,"initialize:app",this.onAppInitialize)},viewFor(e,t){const i=lAt[e];if(i)return new i(t);throw new Error("No view defined for "+e)},login(){const e=Object(ne.c)("appModel"),t=e.get("cloudServer");U.a.trigger("show:loading"),t.populate().done(()=>{e.get("user").get("anonymous")?U.a.trigger("show:view",this.viewFor("signIn")):U.a.trigger("navigate","dashboard")}).fail(()=>{const e=t.get("available");!0===e||!1===e?window.setTimeout(()=>{const i=e?this.viewFor("signIn"):this.viewFor("unavailable",{model:t});U.a.trigger("show:view",i)},0):this.listenToOnce(t,"change:available",this.login)})},error(){U.a.trigger("show:view",this.viewFor("notFound",{type:"404"}))},unauthorized(e){I.a.some(this.getUnauthorizedHandlers(),t=>t.call(this,e))||U.a.trigger("show:view",this.viewFor("notFound",{type:"media"}))},getUnauthorizedHandlers(){return[this.handleLockState,this.handleAuthorized,this.handlePrimaryServer,this.handleServer]},handleLockState:e=>Object(ne.c)("appModel").get("user").get("isLocked"),handleAuthorized(e){const t=Object(ne.c)("appModel"),i=!t.get("servers").findWhere({authorized:!0})&&!t.get("skipSignIn");return i&&this.populateServersThenRecover(),i},handlePrimaryServer({server:e,options:t}){return!(e||!t.primaryServer)&&(U.a.trigger("show:view",this.viewFor("serverRequired")),!0)},handleServer({server:e,options:t}){const i=this.viewFor,n=Object(ne.c)("appModel").get("cloudServer");let a,s;return!(!t.serverID&&!t.primaryServer)&&(e?e.get("available")?e.get("authorized")||"resolved"!==n.populatePromise.state()?e.get("authorized")||(a=this.populateServersThenRecover()):s=i("unauthorized"):s=i("unavailable",{model:e}):s=i("notFound",{type:"server"}),s&&U.a.trigger("show:view",s),!(!s&&!a))},populateServersThenRecover(){const e=Object(ne.c)("appModel"),t=e.get("skipSignIn"),i=e.get("servers"),n=i.findWhere({cloud:!0}),a=this.viewFor;return i.populate().done(()=>{const e=i.find(e=>e.get("hasManualConnection"));n.get("authorized")?U.a.trigger("navigate:refresh"):e?e.get("authorized")?U.a.trigger("navigate","dashboard"):U.a.trigger("show:view",a("unavailable",{model:e})):t?U.a.trigger("show:view",a("serverRequired")):U.a.trigger("navigate","login",{silent:!0})}).fail(()=>{be.a.requiresSignIn?U.a.trigger("show:view",a("unavailable",{model:n})):U.a.trigger("show:view",a("serverRequired"))})},getMediaRouteViewOptions:(e,t,i)=>(!e&&t&&(e=ST.a),{selectedServerID:e,selectedProviderID:t,params:V.parseParams(i)}),mediaLanding(...e){U.a.trigger("show:view",new pNt(this.getMediaRouteViewOptions(...e)))},serverUpdate(e){U.a.trigger("show:view",new uat({serverID:e}))},timeline(...e){U.a.trigger("show:view",new hNt(this.getMediaRouteViewOptions(...e)))},guide(...e){U.a.trigger("show:view",new Edt(this.getMediaRouteViewOptions(...e)))},recordingSchedule(...e){U.a.trigger("show:view",new mNt(this.getMediaRouteViewOptions(...e)))},dashboard(e){U.a.trigger("show:view",new _it({params:V.parseParams(e)}))},search(e){U.a.trigger("show:view",new knt({params:V.parseParams(e)}))},playHistory(e,t){U.a.trigger("show:view",new hpt({selectedServerID:e,params:V.parseParams(t)}))},providerSettings(e){U.a.trigger("show:view",new oAt({selectedProviderID:e}))},logs(){U.a.trigger("show:view",new qit({collection:Object(ne.c)("logs")}))},info(){U.a.trigger("show:view",new Git)},serverDownloadMessage(){U.a.trigger("show:view",new znt)},signUp(){U.a.trigger("show:view",new Qat({signUp:!0}))},logout(){U.a.trigger("show:view",new Xat)},firstRunExperience(e){U.a.trigger("show:view",new pKe({params:V.parseParams(e)}))},onAppInitialize(){this.appView=new LQe,this.appView.render()}}),dAt=z8.extend({controller:new cAt,appRoutes:{"!/dashboard":"dashboard","!/search":"search","!(/server/:serverID)/playHistory":"playHistory","!/provider/:providerID/settings":"providerSettings","":"dashboard","!/login":"login","!/logout":"logout","!/signUp":"signUp","!/client-setup":"firstRunExperience","!/unauthorized":"unauthorized","!/logs":"logs","!/info":"info","!/get-plex-media-server":"serverDownloadMessage","!/server/:serverID/update":"serverUpdate","!/media(/:serverID)/:providerID/timeline":"timeline","!/media(/:serverID)/:providerID/guide":"guide","!/media(/:serverID)/:providerID/schedule":"recordingSchedule","!/media(/:serverID)/:providerID":"mediaLanding","*404":"error"},onNavigateRefreshDashboard:function(){var e=v.c.history.getFragment();""===e||"!/dashboard"===e?v.c.history.loadUrl(""):U.a.trigger("navigate","dashboard")}});var uAt=Object(Wu.a)(Gu,e=>e.playlistItems);const pAt=Object(Pi.a)("INIT_PLAYLIST_PAGE"),hAt=Object(Pi.a)("INIT_PLAYLIST_ITEM_LIST"),mAt=Object(Pi.a)("RESET_PLAYLIST_ITEM_LIST"),gAt=Object(Pi.a)("FETCH_PLAYLIST"),vAt=Object(Pi.a)("POPULATE_PLAYLIST_ITEM_RANGE"),yAt=Object(Pi.a)("REPOPULATE_PLAYLIST_ITEMS"),fAt=Object(Pi.a)("SELECT_PLAYLIST_ITEM"),bAt=Object(Pi.a)("DESELECT_PLAYLIST_ITEM"),IAt=Object(Pi.a)("MOVE_PLAYLIST_ITEM"),SAt=Object(Pi.a)("REMOVE_PLAYLIST_ITEM"),CAt=Object(Pi.a)("REMOVE_SELECTED_ITEMS");var MAt=Object(Wu.a)(Rg.a,e=>e.playThemeMusic);var DAt=Object(Wu.a)(Rg.a,e=>e.showPrePlayArtwork);function PAt(){return Object(Wu.a)($K(),(e={})=>{const{type:t,subtype:i,skipChildren:n}=e;if(t===Qt.e)return i;if(t===Qt.o&&i===LC.c)return Qt.p;const a=n?Qt.t(t):Qt.s(t);return a&&a.typeString})}const OAt=Nd.a.createElement;function jAt(e,{metricsPage:t}){return OAt(Vw,tp()({},e,{page:t}))}jAt.contextTypes={metricsPage:vc.a.string.isRequired};var wAt=jAt;var TAt=function(){return Vu()(k_,{title:Object(Ze.default)("Nothing is here"),description:Object(Ze.default)("This item may have been deleted recently")},void 0,Vu()(zp,{to:"#",kind:Pp},void 0,Object(Ze.default)("Go Home")))};var EAt=function(){return Vu()(k_,{title:Object(Ze.default)("You must be lost"),description:Object(Ze.default)("This item does not have its own page")},void 0,Vu()(zp,{to:"#",kind:Pp},void 0,Object(Ze.default)("Go Home")))};var NAt=i("ctCg"),xAt=i.n(NAt);var AAt=function(){return Vu()(dze,{className:xAt.a.bottomDivider})},LAt=i("4Img"),kAt=i.n(LAt);var RAt=function(){return Vu()(dze,{className:kAt.a.topDivider})},zAt=i("U0CT"),UAt=i.n(zAt);const{memo:VAt}=Nd.a,BAt={height:parseInt(BV.tableRowHeight,10)};var FAt=Vu()(RAt,{}),HAt=Vu()(AAt,{});var _At=VAt((function(e){const{serverEntityID:t,providerEntityID:i,metadataListEntityID:n,containerKey:a,title:s,index:r,className:o,metadataItemEntityIDs:l,listType:c}=e,d=Y0(e);return Vu()("div",{className:o,style:d.style},void 0,Vu()(Abe,{className:UAt.a.header},void 0,Vu()(abe,{},void 0,s||Object(Ze.default)("Disc {discNumber}",{discNumber:r}))),FAt,l.map((e,s)=>Vu()(xTt,{style:BAt,serverEntityID:t,providerEntityID:i,metadataListEntityID:n,containerKey:a,keyPropName:"metadataItemEntityID",metadataItemEntityID:e,cellIndex:s,listType:c,listContext:fc,activeSort:"titleSort",showLink:!1,showPlayIndex:!0,showActionsDuration:!0},e)),HAt)}));var WAt=i("GtsS"),QAt=i.n(WAt),GAt=Vu()(Jh,{});var KAt=function(e){const{listType:t,isPopulated:i,isPending:n,error:a,size:s,children:r}=e;return i&&s?Vu()("div",{className:QAt.a.container,"data-qa-id":"preplayContainer--"+[t]},void 0,r):n?Vu()("div",{className:QAt.a.emptyContainer},void 0,GAt):Vu()("div",{className:QAt.a.emptyMessage},void 0,a?function(e){switch(e){case Qt.n:return Object(Ze.default)("Unable to load seasons");case Qt.f:return Object(Ze.default)("Unable to load episodes");case Qt.a:return Object(Ze.default)("Unable to load albums");case Qt.p:return Object(Ze.default)("Unable to load tracks");case Qt.k:return Object(Ze.default)("Unable to load photos");default:return Object(Ze.default)("Unable to load items")}}(t):function(e){switch(e){case Qt.n:return Object(Ze.default)("No seasons");case Qt.f:return Object(Ze.default)("No episodes");case Qt.a:return Object(Ze.default)("No albums");case Qt.p:return Object(Ze.default)("No tracks");case Qt.k:return Object(Ze.default)("No photos");default:return Object(Ze.default)("No items")}}(t))};const YAt=Nd.a.createElement,{Component:qAt}=Nd.a;var ZAt=class extends qAt{constructor(e,t){super(e,t),this._hasOffsetChanged=void 0,this.onListContainerRef=e=>{this._setOffsetTop(e)},this._hasOffsetChanged=!1,this.state={listOffsetTop:null}}componentWillUpdate(e){this._hasOffsetChanged=e.contentHeight!==this.props.contentHeight}_setOffsetTop(e){e&&e.offsetTop!==this.state.listOffsetTop&&this.setState({listOffsetTop:e.offsetTop})}render(){const{children:e,scrollTop:t}=this.props,{listOffsetTop:i}=this.state,n=Nd.a.Children.only(e);return YAt("div",{ref:this._hasOffsetChanged?this._setOffsetTop.bind(this):this.onListContainerRef},null!=i?Nd.a.cloneElement(n,{scrollTop:t-i}):null)}};const JAt=Nd.a.createElement,{useMemo:XAt}=Nd.a,$At=parseInt(BV.tableTitleHeight,10)+19,eLt=parseInt(BV.tableRowHeight,10);var tLt=function(e){const{serverEntityID:t,providerEntityID:i,metadataListEntityID:n,containerKey:a,discs:s,listType:r,isPopulated:o,isPending:l,error:c,contentHeight:d,scrollTop:u}=e,p=Xe()(e,["serverEntityID","providerEntityID","metadataListEntityID","containerKey","discs","listType","isPopulated","isPending","error","contentHeight","scrollTop"]),h=s.reduce((e,t)=>e+t.metadataItemEntityIDs.length,0),m=1===s.length?Gke(r,h):"",g=XAt(()=>Xrt({getCellHeights:()=>s.map(e=>$At+e.metadataItemEntityIDs.length*eLt),overscan:1}),[s]),v={serverEntityID:t,providerEntityID:i,metadataListEntityID:n,containerKey:a,title:m,listType:r};return Vu()(KAt,{listType:r,isPopulated:o,isPending:l,error:c,size:h},void 0,Vu()(ZAt,{contentHeight:d,scrollTop:u},void 0,g?JAt(x0,tp()({serverEntityID:t,providerEntityID:i,metadataListEntityID:n,keyPropName:"index",items:s,size:s.length,listType:r,listContext:zd.eb,isPopulated:o,isPending:l,error:c,layout:g,cellRenderer:aIe(v,_At)},p)):null))};var iLt=Object(Hu.b)((function(){return Object(Wu.a)(Object(Wu.a)((e,{metadataItemEntityIDs:t})=>t,XK,(e,t)=>I.a.compact(e.reduce((e,i)=>{const{entityID:n,parentIndex:a=1}=t[i],s=e[a];return s?s.metadataItemEntityIDs.push(n):e[a]={index:a,metadataItemEntityIDs:[n]},e},[]))),e=>({discs:e}))}))(tLt),nLt=i("d+lh"),aLt=i.n(nLt);function sLt({className:e,children:t}){return Vu()("div",{className:e},void 0,t)}sLt.defaultProps={className:aLt.a.content};var rLt=sLt,oLt=i("GERC"),lLt=i.n(oLt);var cLt=function(e){const{serverEntityID:t,providerEntityID:i,metadataItemEntityID:n,metadataKey:a,type:s,subtype:r,posterWidth:o,posterHeight:l,posterUrl:c,showLinkOnly:d}=e;return Vu()(zwe,{cardFaceClassName:lLt.a.face,serverEntityID:t,providerEntityID:i,metadataItemEntityID:n,metadataKey:a,type:s,subtype:r,imageWidth:o,imageHeight:l,imageUrl:c,showLink:!1,showSelect:!1,showEdit:!1,showMore:!1,showLinkOnly:d})},dLt=i("Y7Bh"),uLt=i.n(dLt);function pLt(e){const{children:t,serverEntityID:i,providerEntityID:n,metadataItemEntityID:a,columnAdjustment:s,showPoster:r,posterType:o,metadataKey:l,type:c,subtype:d,thumb:u,pageWidth:p}=e,h=kxe(p,s),m=zC(h,o||c,d,fc);return Vu()("div",{className:uLt.a.container},void 0,r?Vu()(cLt,{serverEntityID:i,providerEntityID:n,metadataItemEntityID:a,metadataKey:l,type:c,subtype:d,posterType:o,posterWidth:h,posterHeight:m,posterUrl:u}):null,Vu()(r?rLt:"div",{},void 0,t))}pLt.defaultProps={showPoster:!0};var hLt=pLt;var mLt=Object(Hu.b)((function(){return Object(Wu.a)($S,ZS,ECe(),$K(),(e,t,i,n={})=>({server:e,provider:t,sourceDirectory:i,type:n.type,Genre:n.Genre}))}))(CBe),gLt=i("T2rF"),vLt=i.n(gLt);function yLt({className:e,children:t}){return Vu()("div",{className:e},void 0,t)}yLt.defaultProps={className:vLt.a.innerContent};var fLt=yLt,bLt=i("dFNS"),ILt=i.n(bLt);const SLt=Nd.a.createElement,{memo:CLt}=Nd.a;function MLt(e){const{route:t,children:i}=e,n=Xe()(e,["route","children"]);return t?SLt(zp,tp()({className:ILt.a.posterCardLinkContainer,to:t},n),i):SLt("span",tp()({className:ILt.a.posterCardContainer},n),i)}var DLt=CLt((function(e){const{listType:t,serverEntityID:i,providerEntityID:n,server:a,provider:s,sourceDirectory:r,titleComponents:o,role:l,cellWidth:c}=e,{key:d,thumb:u,id:p,tag:h,role:m,filter:g,directory:v}=l,y=Y0(e);let f;return v&&d&&r?f=Xt(a,s,r,{key:d,title:h}):(g||p)&&r&&(f=fte(a,s,r,{filters:g||"actor="+p,filterLabel:h})),Vu()("div",{style:y.style},void 0,Vu()(MLt,{route:f},void 0,Vu()(Nde,{serverEntityID:i,providerEntityID:n,imageWidth:c,imageHeight:c,imageUrl:u,title:h,tag:h,tagType:t})),Vu()("div",{className:ILt.a.titleContainer},void 0,o.map((e,t)=>Vu()(oSe,{route:f,tag:h,role:m,component:e,isSecondary:t>0},t))))})),PLt=i("BUrS"),OLt=i.n(PLt);const jLt=Nd.a.createElement;function wLt(e){const{listType:t,listSubtype:i,listContext:n,serverEntityID:a,providerEntityID:s,server:r,provider:o,sourceDirectory:l,roles:c,isEmbeddedServer:d}=e;if(!c||d)return null;const u=kMe(t,n);return Vu()("div",{className:OLt.a.castList},void 0,Vu()(Vbe,{hubIdentifier:"cast",title:Object(Ze.default)("Cast"),size:c.length,listType:t,listContext:n,columnAdjustment:1,keyPropName:"uniqueID",items:c.map(e=>({role:e,uniqueID:(e.id||e.tag)+"!"+e.role})),layout:ske(t,i,n,1,u.length),cellRenderer:(p={listType:t,listContext:n,serverEntityID:a,providerEntityID:s,server:r,provider:o,sourceDirectory:l,titleComponents:u},e=>jLt(DLt,tp()({},p,e)))}));var p}wLt.defaultProps={listType:"actor",listContext:fc};var TLt=wLt;var ELt=Object(Hu.b)((function(){return Object(Wu.a)($S,ZS,ECe(),$K(),Unt(),(e,t,i,n,a)=>({server:e,provider:t,sourceDirectory:i,roles:n.Role,isEmbeddedServer:a}))}))(TLt);function NLt(){return Object(Wu.a)(ZS,$K(),(e,t)=>{const i=e&&e.features.content;if(!t||!i)return null;if(e.protocols[Wt.a])return i.directories.find(e=>e.hubKey&&!e.key);const{librarySectionKey:n,librarySectionID:a,isPlaylist:s}=t;return n||a?i.directories.find(e=>e.id?e.id===a:!!e.key&&e.key===n):s?i.directories.find(e=>e.type===Ot.k):void 0})}var xLt=i("DOb5"),ALt=i.n(xLt),LLt=Vu()(Jh,{});function kLt(e){const{serverEntityID:t,providerEntityID:i,hubEntityIDs:n,sourceDirectory:a,showSpinner:s,isEmbeddedServer:r,listContext:o}=e;return r?null:s?Vu()("div",{className:ALt.a.spinnerContainer},void 0,LLt):Vu()(ize,{className:ALt.a.relatedList,serverEntityID:t,providerEntityID:i,hubEntityIDs:n,sourceDirectory:a,listContext:o,columnAdjustment:1})}kLt.defaultsProps={listContext:fc};var RLt=kLt;var zLt=Object(Hu.b)((function(){return Object(Wu.a)(Unt(),NLt(),e=>e.ui.prePlayPage,(e,t,i)=>{const{relatedHubs:n,isRelatedHubsPending:a}=i;return{isEmbeddedServer:e,sourceDirectory:t,hubEntityIDs:n,showSpinner:!n.length&&a}})}))(RLt),ULt=i("PZfv"),VLt=i.n(ULt);var BLt=function({attribution:e,title:t}){return Vu()(gxe,{className:VLt.a.container},void 0,e?Vu()(pS,{className:VLt.a.attribution,attribution:e}):null,Vu()("div",{className:VLt.a.title},void 0,t))};const{Component:FLt}=Nd.a;var HLt=Vu()(dze,{});var _Lt=class extends FLt{constructor(e,t){super(e,t),this.onContentMeasure=({width:e,height:t})=>{this.setState({isContentMeasured:!0,contentWidth:e,contentHeight:t})},this.state={isContentMeasured:!1,contentWidth:null,contentHeight:null}}shouldComponentUpdate(e,t){return Tp(this,e,t)}render(){const{serverEntityID:e,providerEntityID:t,metadataItemEntityID:i,metadataListEntityID:n,metadataKey:a,attribution:s,title:r,type:o,year:l,summary:c,thumb:d,art:u,listType:p,listStyle:h,isListReady:m,pageWidth:g,pageHeight:v,scrollTop:y,columnAdjustment:f}=this.props,{isContentMeasured:b,contentWidth:I,contentHeight:S}=this.state,C=!!u,M=!(!b||!n);return Vu()(T0,{ignorePosition:!0,onMeasure:this.onContentMeasure},void 0,Vu()(hLt,{serverEntityID:e,providerEntityID:t,metadataItemEntityID:i,metadataKey:a,type:o,thumb:d,pageWidth:g,columnAdjustment:f},void 0,Vu()(rze,{},void 0,Vu()(bxe,{},void 0,Vu()(Mce,{serverEntityID:e,providerEntityID:t,metadataItemEntityID:i})),Vu()(jxe,{},void 0,Vu()(BLt,{attribution:s,title:r}),Vu()(VVe,{serverEntityID:e,providerEntityID:t,metadataItemEntityID:i})),Vu()(Nxe,{},void 0,Vu()(gxe,{},void 0,l),Vu()(Mxe,{},void 0,Vu()(mLt,{serverEntityID:e,providerEntityID:t,metadataItemEntityID:i})))),HLt,c?Vu()(rze,{},void 0,Vu()(Mze,{},void 0,c)):null),Vu()(fLt,{},void 0,M?Vu()(_re,{serverEntityID:e,providerEntityID:t,metadataListEntityID:n,initialSize:1/0,listType:p,listStyle:h,showArtwork:C,component:iLt,viewportWidth:I,viewportHeight:v,contentHeight:S,scrollTop:y}):null,m?Vu()(rze,{},void 0,Vu()(ELt,{serverEntityID:e,providerEntityID:t,metadataItemEntityID:i}),Vu()(zLt,{serverEntityID:e,providerEntityID:t})):null))}};var WLt=Object(Hu.b)((function(){return Object(Wu.a)(e=>e.ui.prePlayPage,e=>{const{augmentedHubs:t,isAugmentedHubsPending:i}=e;return t?{hubEntityIDs:t,showSpinner:!t.length&&i}:{hubEntityIDs:[],showSpinner:!1}})}))(RLt),QLt=i("NJkC"),GLt=i.n(QLt);const{useCallback:KLt,useState:YLt}=Nd.a;var qLt=function(e){const{serverEntityID:t,providerEntityID:i,metadataItemEntityID:n,cellIndex:a,metadataKey:s,route:r,title:o,type:l,summary:c,showRecord:d,hasSingleSubscription:u}=e,p=Y0(e),h=YLt(!1),m=h[1],g=h[0],v=KLt(e=>{m(!0)},[]),y=KLt(()=>{m(!1)},[]);return s?Vu()("div",{className:a%2?GLt.a.alternateItem:GLt.a.item,style:p.style},void 0,Vu()(zp,{className:GLt.a.underlay,to:r}),Vu()("div",{className:GLt.a.overlay},void 0,Vu()("div",{className:GLt.a.primaryTitle},void 0,Vu()(vCe,{serverEntityID:t,providerEntityID:i,metadataItemEntityID:n})),Vu()("div",{className:GLt.a.secondaryTitle},void 0,u?Vu()(bOe,{className:GLt.a.subscriptionIcon,"aria-label":Object(Ze.default)("Recording Scheduled")}):null,Vu()(BSe,{className:GLt.a.nextAiringDate,metadataItemEntityID:n,showFullTime:!0}),c?Vu()(tf,{className:GLt.a.separator}):null,c)),d?Vu()(ude,{className:GLt.a.recordButton,tabIndex:"-1",title:o,onPress:v}):null,Vu()(uje,{serverEntityID:t,providerEntityID:i,metadataItemEntityID:n,isOpen:g,subscriptionType:l,onModalClose:y})):Vu()("div",{className:a%2?GLt.a.alternateLoadingItem:GLt.a.loadingItem,style:p.style},void 0,Object(Ze.default)("Loading..."))};const ZLt=Nd.a.createElement;var JLt=kK((function(){return Object(Wu.a)((e,{metricsContext:t})=>t,$S,ZS,$K(),(e,t,i,n={})=>{const a={};return e&&(a.context=e),{metadataKey:n.key,title:n.title,type:n.type,summary:n.summary,route:cu(t,i,n.key,a),showRecord:!!i.features.subscribe,hasSingleSubscription:!!n.subscriptionID}})}))((function(e){return ZLt(qLt,e)}));const XLt=Nd.a.createElement,{Component:$Lt}=Nd.a,ekt=H0(96);var tkt=class extends $Lt{constructor(...e){super(...e),this.renderCell=e=>XLt(JLt,tp()({serverEntityID:this.props.serverEntityID,providerEntityID:this.props.providerEntityID,metadataListEntityID:this.props.metadataListEntityID},e))}render(){return XLt(x0,tp()({layout:ekt,cellRenderer:this.renderCell},this.props))}};const ikt=Nd.a.createElement;var nkt=function(e){const{serverEntityID:t,providerEntityID:i,metadataListEntityID:n,containerKey:a,listType:s,listContext:r}=e,o=Xe()(e,["serverEntityID","providerEntityID","metadataListEntityID","containerKey","listType","listContext"]);return ikt(x0,tp()({layout:$wt,cellRenderer:aIe({serverEntityID:t,providerEntityID:i,metadataListEntityID:n,containerKey:a,listType:s,listContext:r},lTt)},o))};const akt=Nd.a.createElement,{Component:skt}=Nd.a;class rkt extends skt{constructor(e,t){super(e,t),this.state={layout:this._createLayout(e)}}componentWillReceiveProps(e){const t=this.props.aspectRatios!==e.aspectRatios,i=this.props.viewportWidth!==e.viewportWidth,n=this.props.columnAdjustment!==e.columnAdjustment;(t||i||n)&&this.setState({layout:this._createLayout(e)})}_createLayout(e=this.props){const{viewportWidth:t,columnAdjustment:i,aspectRatios:n}=e,a=Math.ceil(t/400),s=Math.max(1,a+i);return wSt({columns:s,rows:NSt({aspectRatios:n,columns:s})})}render(){if(!this.state)return null;const e=this.props,{cellRenderer:t}=e,i=Xe()(e,["cellRenderer"]),{layout:n}=this.state;return akt(x0,tp()({layout:n,cellRenderer:t},i))}}rkt.defaultProps={columnAdjustment:0};var okt=rkt;var lkt=Object(Hu.b)((function(){return Object(Wu.a)((e,{items:t})=>t,(e,{serverEntityID:t})=>t,(e,{providerEntityID:t})=>t,(e,{metadataListEntityID:t})=>t,(e,{containerKey:t})=>t,(e,{listType:t})=>t,XK,(e=[],t,i,n,a,s,r)=>({listType:s,cellRenderer:aIe({serverEntityID:t,providerEntityID:i,metadataListEntityID:n,containerKey:a,listType:s},jSt),aspectRatios:e.map(e=>SSt(r[e]))}))}))(okt);const ckt=Nd.a.createElement;var dkt=function(e){const{serverEntityID:t,providerEntityID:i,metadataListEntityID:n,containerKey:a,listType:s,listSubtype:r,listContext:o,columnAdjustment:l}=e,c=Xe()(e,["serverEntityID","providerEntityID","metadataListEntityID","containerKey","listType","listSubtype","listContext","columnAdjustment"]),d=kMe(s,o,{providerEntityID:i});return ckt(x0,tp()({layout:Zwt(s,r,o,l,d.length),cellRenderer:aIe({serverEntityID:t,providerEntityID:i,metadataListEntityID:n,containerKey:a,listType:s,listContext:o,titleComponents:d},fRe)},c))};const ukt=Nd.a.createElement;var pkt=function(e){const{serverEntityID:t,providerEntityID:i,metadataListEntityID:n,containerKey:a,listType:s,listContext:r}=e,o=Xe()(e,["serverEntityID","providerEntityID","metadataListEntityID","containerKey","listType","listContext"]);return ukt(x0,tp()({layout:uTt,cellRenderer:aIe({serverEntityID:t,providerEntityID:i,metadataListEntityID:n,containerKey:a,listType:s,listContext:r},dRe)},o))};const hkt=Nd.a.createElement;var mkt=function(e){const{serverEntityID:t,providerEntityID:i,metadataListEntityID:n,containerKey:a,listType:s,listContext:r}=e,o=Xe()(e,["serverEntityID","providerEntityID","metadataListEntityID","containerKey","listType","listContext"]),l={serverEntityID:t,providerEntityID:i,metadataListEntityID:n,containerKey:a,listType:s,listContext:r,activeSort:"titleSort"};return"episode"===s&&(l.showPlayIndex=!0,l.showActionsMinutesLeft=!0),"track"===s&&(l.showLink=!1,l.showPlayIndex=!0,l.showActionsDuration=!0),hkt(x0,tp()({layout:mTt,cellRenderer:aIe(l,xTt)},o))},gkt=i("HUgi"),vkt=i.n(gkt);var ykt=Vu()(RAt,{}),fkt=Vu()(AAt,{});var bkt=function(e){const{serverEntityID:t,providerEntityID:i,metadataListEntityID:n,metadataItemEntityIDs:a,containerKey:s,listType:r,listStyle:o,populatedRange:l,isPopulated:c,isPending:d,error:u,listTitle:p,titleButtonTitle:h,titleButtonRoute:m,totalSize:g,previewSize:v,viewportWidth:y,viewportHeight:f,contentHeight:b,scrollTop:I,columnAdjustment:S,onPageRequest:C}=e,M=g||a.length,D=null!=v&&M>v?v:M,P=null!=v&&M>v,O=function(e){switch(e){case Cc:return lkt;case Mc:return mkt;case Pc:return pkt;case Oc:return tkt;case Dc:return nkt;default:return dkt}}(o),j=p||Gke(r,M),w=o===Mc||o===Pc||o===Dc||o===Oc;return Vu()(KAt,{listType:r,isPopulated:c,isPending:d,error:u,size:D},void 0,j?Vu()(Abe,{className:vkt.a.descendantHubCellHeader},void 0,Vu()(abe,{},void 0,j),P||null!=h?Vu()(zp,{className:vkt.a.titleButton,to:m},void 0,h||Object(Ze.default)("See all")):null):null,w?ykt:null,Vu()(ZAt,{contentHeight:b,scrollTop:I},void 0,Vu()(O,{serverEntityID:t,providerEntityID:i,metadataListEntityID:n,containerKey:s,listType:r,listContext:fc,keyPropName:"metadataItemEntityID",items:a,itemsOffset:l.start,size:D,viewportWidth:y,viewportHeight:f,columnAdjustment:S,onPageRequest:C})),w?fkt:null)},Ikt=i("sAyO"),Skt=i.n(Ikt);const Ckt=Nd.a.createElement;function Mkt(e){return Ckt(IRe,tp()({className:Skt.a.extrasHubCell,hubIdentifier:"extras"},e))}Mkt.defaultProps={listType:"extra",listContext:fc,columnAdjustment:1};var Dkt=Mkt;var Pkt=Object(Hu.b)((function(){return Object(Wu.a)(ZS,$K(),Rre(),(e,t={},i)=>{const n=i.metadataItems.length,a=1===n&&!!t.primaryExtraKey;return{metadataItemEntityIDs:i.metadataItems,containerKey:i.containerKey,size:a?0:n,populatedRange:i.populatedRange}})}))(Dkt),Okt=i.p+"desktop/common/img/vendor-logos/songkick.247f8ed60f8dcedd4ae46adc19b41ac5.svg",jkt=i("JgKN"),wkt=i.n(jkt);var Tkt=function(e){const{at:t,city:i,country:n,tag:a,url:s,venue:r}=e,o=Object($c.a)(t),l=Object(Zy.a)(o,"dd"),c=Object(Zy.a)(o,"MMM");return Vu()(zp,{className:wkt.a.concert,target:"_blank",to:s},void 0,Vu()("div",{className:wkt.a.concertCalendar},void 0,Vu()("div",{className:wkt.a.concertMonth},void 0,c),Vu()("div",{className:wkt.a.concertDay},void 0,l)),Vu()("div",{className:wkt.a.concertDetails},void 0,Vu()("div",{className:wkt.a.concertTitle},void 0,a),Vu()("div",{className:wkt.a.concertLocation},void 0,r," (",i,", ",n,")")))},Ekt=i("pAB4"),Nkt=i.n(Ekt);const xkt=Nd.a.createElement;var Akt=function({concerts:e}){return e&&e.length?Vu()("div",{className:Nkt.a.concerts},void 0,Vu()(Abe,{},void 0,Vu()(abe,{},void 0,Object(Ze.default)("On Tour"),Vu()("img",{className:Nkt.a.concertsLogo,src:Okt}))),e.map(e=>xkt(Tkt,tp()({key:e.id},e)))):null};var Lkt=Object(Hu.b)((function(){return Object(Wu.a)($K(),(e={})=>({concerts:e.concerts}))}))(Akt);var kkt=function(e){const{server:t,provider:i,sourceDirectory:n,Country:a,Genre:s}=e,r=!(!a||!a.length),o=!(!s||!s.length);return r||o?Vu()(Nxe,{},void 0,r?Vu()(gxe,{},void 0,Vu()(Lze,{server:t,provider:i,sourceDirectory:n,fallbackFilterKey:"country",tags:a,limit:1})):null,o?Vu()(Mxe,{},void 0,Vu()(CBe,{server:t,provider:i,sourceDirectory:n,Genre:s})):null):null};var Rkt=Object(Hu.b)((function(){return Object(Wu.a)($S,ZS,ECe(),$K(),(e,t,i,n={})=>({server:e,provider:t,sourceDirectory:i,Country:n.Country,Genre:n.Genre}))}))(kkt),zkt=i("YhBC"),Ukt=i.n(zkt);const Vkt=Nd.a.createElement;var Bkt=Vu()(RAt,{}),Fkt=Vu()(AAt,{});var Hkt=function(e){const{serverEntityID:t,providerEntityID:i,metadataListEntityID:n,metadataItemEntityIDs:a,containerKey:s,showArtwork:r,contentHeight:o,scrollTop:l}=e,c=Xe()(e,["serverEntityID","providerEntityID","metadataListEntityID","metadataItemEntityIDs","containerKey","showArtwork","contentHeight","scrollTop"]);if(!a||!a.length)return null;const d={serverEntityID:t,providerEntityID:i,metadataListEntityID:n,containerKey:s,listType:"track",listContext:fc,activeSort:"titleSort",showLink:!1,showPlayIndex:!1,showPlayCellIndex:!0,showActionsDuration:!0};return Vu()("div",{className:Ukt.a.popularTracksHubCell,"data-qa-id":"hub--popularTracks"},void 0,Vu()(rze,{},void 0,Vu()(abe,{},void 0,Object(Ze.default)("Popular Tracks"))),Bkt,Vu()(ZAt,{showArtwork:r,contentHeight:o,scrollTop:l},void 0,Vkt(x0,tp()({layout:mTt,cellRenderer:aIe(d,xTt),items:a,size:Math.min(a.length,5),keyPropName:"metadataItemEntityID"},c))),Fkt)};const{Component:_kt}=Nd.a;var Wkt=Vu()(dze,{});var Qkt=class extends _kt{constructor(e,t){super(e,t),this.onContentMeasure=({width:e,height:t})=>{this.setState({isContentMeasured:!0,contentWidth:e,contentHeight:t})},this.state={isContentMeasured:!1,contentWidth:null,contentHeight:null}}shouldComponentUpdate(e,t){return Tp(this,e,t)}render(){const{serverEntityID:e,providerEntityID:t,metadataItemEntityID:i,metadataListEntityID:n,extrasMetadataListEntityID:a,popularLeavesMetadataListEntityID:s,metadataKey:r,attribution:o,title:l,type:c,summary:d,thumb:u,art:p,listType:h,listStyle:m,isListReady:g,pageWidth:v,pageHeight:y,scrollTop:f,columnAdjustment:b}=this.props,{isContentMeasured:I,contentWidth:S,contentHeight:C}=this.state,M=!(!I||!s),D=!(!I||!n);return Vu()(T0,{ignorePosition:!0,onMeasure:this.onContentMeasure},void 0,Vu()(hLt,{serverEntityID:e,providerEntityID:t,metadataItemEntityID:i,metadataKey:r,type:c,thumb:u,pageWidth:v,columnAdjustment:b},void 0,Vu()(rze,{},void 0,Vu()(bxe,{},void 0,Vu()(BLt,{attribution:o,title:l}),Vu()(VVe,{serverEntityID:e,providerEntityID:t,metadataItemEntityID:i})),Vu()(Rkt,{serverEntityID:e,providerEntityID:t,metadataItemEntityID:i})),Wkt,Vu()(rze,{},void 0,Vu()(Qze,{serverEntityID:e,providerEntityID:t,metadataItemEntityID:i}),Vu()(Mze,{},void 0,d))),Vu()(fLt,{},void 0,M?Vu()(_re,{serverEntityID:e,providerEntityID:t,metadataListEntityID:s,component:Hkt,showArtwork:!!p,viewportWidth:S,viewportHeight:y,contentHeight:C,scrollTop:f,listStyle:m}):null,D?Vu()(_re,{serverEntityID:e,providerEntityID:t,metadataListEntityID:n,listType:h,listStyle:m,component:bkt,initialSize:20,showArtwork:!!p,viewportWidth:S,viewportHeight:y,contentHeight:C,scrollTop:f}):null,g?Vu()(rze,{},void 0,a?Vu()(Pkt,{serverEntityID:e,providerEntityID:t,metadataItemEntityID:i,metadataListEntityID:a,title:Object(Ze.default)("Music Videos")}):null,Vu()(Lkt,{serverEntityID:e,providerEntityID:t,metadataItemEntityID:i}),Vu()(zLt,{serverEntityID:e,providerEntityID:t,metadataItemEntityID:i}),Vu()(WLt,{serverEntityID:e,providerEntityID:t})):null))}};const{Component:Gkt}=Nd.a;var Kkt=Vu()(dze,{});var Ykt=class extends Gkt{constructor(e,t){super(e,t),this.onContentMeasure=({width:e,height:t})=>{this.setState({isContentMeasured:!0,contentWidth:e,contentHeight:t})},this.state={isContentMeasured:!1,contentWidth:null,contentHeight:null}}shouldComponentUpdate(e,t){return Tp(this,e,t)}render(){const{serverEntityID:e,providerEntityID:t,metadataItemEntityID:i,metadataListEntityID:n,metadataKey:a,title:s,minYear:r,maxYear:o,type:l,summary:c,thumb:d,art:u,listType:p,listStyle:h,isListReady:m,pageWidth:g,pageHeight:v,scrollTop:y,columnAdjustment:f}=this.props,{isContentMeasured:b,contentWidth:I,contentHeight:S}=this.state,C=!(!r||!o||r===o),M=!(!o||r!==o),D=!(!b||!n);return Vu()(T0,{ignorePosition:!0,onMeasure:this.onContentMeasure},void 0,Vu()(hLt,{serverEntityID:e,providerEntityID:t,metadataItemEntityID:i,metadataKey:a,type:l,thumb:d,pageWidth:g,columnAdjustment:f},void 0,Vu()(rze,{},void 0,Vu()(bxe,{},void 0,Vu()(gxe,{},void 0,s)),Vu()(jxe,{},void 0,C||M?Vu()(gxe,{},void 0,C?r+"  "+o:o):null,Vu()(VVe,{serverEntityID:e,providerEntityID:t,metadataItemEntityID:i}))),Kkt,c?Vu()(rze,{},void 0,Vu()(Mze,{},void 0,c)):null),Vu()(fLt,{},void 0,D?Vu()(_re,{serverEntityID:e,providerEntityID:t,metadataListEntityID:n,listType:p,listStyle:h,component:bkt,initialSize:20,showArtwork:!!u,viewportWidth:I,viewportHeight:v,contentHeight:S,scrollTop:y}):null,m?Vu()(rze,{},void 0,Vu()(zLt,{serverEntityID:e,providerEntityID:t})):null))}};var qkt=Object(Hu.b)((function(){return Object(Wu.a)(eSe(),e=>({mediaItem:e}))}))(jbt);Nd.a.createElement;var Zkt=Object(Hu.b)((function(){return Object(Wu.a)(tSe,eSe(),fSe(),(e,t,i)=>({beginsAt:t&&t.beginsAt,endsAt:t&&t.endsAt,channel:i&&i.tag,timeFormat:e}))}))(wbt),Jkt=i("8ros"),Xkt=i.n(Jkt);const{Component:$kt}=Nd.a;class eRt extends $kt{constructor(e,t){super(e,t),this.onRecordPress=e=>{this.setState({isSubscribeModalOpen:!0})},this.onSubscribeModalClose=()=>{this.setState({isSubscribeModalOpen:!1})},this.state={isSubscribeModalOpen:e.isSubscribeModalOpen}}shouldComponentUpdate(e,t){return Tp(this,e,t)}render(){const{serverEntityID:e,providerEntityID:t,metadataItemEntityID:i,type:n,isSubscribed:a,subscriptionType:s,grandparentSubscriptionType:r}=this.props,{isSubscribeModalOpen:o}=this.state;return Vu()(hw,{"data-qa-id":"preplayRecordButton",className:Xkt.a.recordButton,size:Fh,onPress:this.onRecordPress},void 0,Vu()(IOe,{className:a?Xkt.a.recordingIcon:Xkt.a.recordIcon,type:r||s||n}),a?Object(Ze.default)("Recording Scheduled"):Object(Ze.default)("Record"),Vu()(uje,{serverEntityID:e,providerEntityID:t,metadataItemEntityID:i,isOpen:o,subscriptionType:n,onModalClose:this.onSubscribeModalClose}))}}eRt.defaultProps={isSubscribeModalOpen:!1};var tRt=eRt,iRt=i("H43X"),nRt=i.n(iRt);var aRt=function({serverEntityID:e,providerEntityID:t,metadataItemEntityID:i,type:n,duration:a,contentRating:s,isSubscribed:r,subscriptionType:o,grandparentSubscriptionType:l,showRecord:c,record:d}){return Vu()(gxe,{},void 0,Vu()(DCe,{className:nRt.a.duration,duration:a}),Vu()(GVe,{contentRating:s}),c?Vu()(tRt,{serverEntityID:e,providerEntityID:t,metadataItemEntityID:i,type:n,isSubscribed:r,subscriptionType:o,grandparentSubscriptionType:l,isSubscribeModalOpen:d}):null)};var sRt=Object(Hu.b)((function(){return Object(Wu.a)(ZS,$K(),(e,t={})=>({type:t.type,duration:t.duration,contentRating:t.contentRating,isSubscribed:null!=t.subscriptionID||null!=t.grandparentSubscriptionID,subscriptionType:t.subscriptionType,grandparentSubscriptionType:t.grandparentSubscriptionType,showRecord:!!e.features.subscribe}))}))(aRt);const{Fragment:rRt}=Nd.a;var oRt=Vu()(dze,{});var lRt=function(e){const{serverEntityID:t,providerEntityID:i,metadataItemEntityID:n,metadataKey:a,type:s,summary:r,grandparentThumb:o,pageWidth:l,columnAdjustment:c,record:d}=e;return Vu()(rRt,{},void 0,Vu()(hLt,{serverEntityID:t,providerEntityID:i,metadataItemEntityID:n,posterType:Qt.o,metadataKey:a,type:s,thumb:o,pageWidth:l,columnAdjustment:c},void 0,Vu()(rze,{},void 0,Vu()(bxe,{},void 0,Vu()(gxe,{},void 0,Vu()(Sce,{serverEntityID:t,providerEntityID:i,metadataItemEntityID:n}))),Vu()(jxe,{},void 0,Vu()(gxe,{},void 0,Vu()(vCe,{serverEntityID:t,providerEntityID:i,metadataItemEntityID:n}))),Vu()(Nxe,{},void 0,Vu()(sRt,{serverEntityID:t,providerEntityID:i,metadataItemEntityID:n,record:d}),Vu()(DBe,{serverEntityID:t,providerEntityID:i,metadataItemEntityID:n}))),oRt,Vu()(rze,{},void 0,Vu()(Qze,{serverEntityID:t,providerEntityID:i,metadataItemEntityID:n}),Vu()(qkt,{metadataItemEntityID:n},void 0,Vu()(Zkt,{metadataItemEntityID:n,showFullTime:!0,showChannel:!0})),Vu()(Mze,{},void 0,r))),Vu()(rze,{},void 0,Vu()(fLt,{},void 0,Vu()(rze,{},void 0,Vu()(ELt,{serverEntityID:t,providerEntityID:i,metadataItemEntityID:n}),Vu()(zLt,{serverEntityID:t,providerEntityID:i})))))};const{Fragment:cRt}=Nd.a;var dRt=function(e){const{serverEntityID:t,providerEntityID:i,metadataItemEntityID:n,metadataKey:a,attributionLogo:s,type:r,summary:o,thumb:l,pageWidth:c,columnAdjustment:d}=e;return Vu()(cRt,{},void 0,Vu()(hLt,{serverEntityID:t,providerEntityID:i,metadataItemEntityID:n,metadataKey:a,type:r,thumb:l,pageWidth:c,columnAdjustment:d},void 0,Vu()(fBe,{serverEntityID:t,providerEntityID:i,metadataItemEntityID:n,attributionLogo:s,type:r,summary:o})),Vu()(fLt,{},void 0,Vu()(rze,{},void 0,Vu()(ELt,{serverEntityID:t,providerEntityID:i,metadataItemEntityID:n}),Vu()(WLt,{serverEntityID:t,providerEntityID:i}),Vu()(zLt,{serverEntityID:t,providerEntityID:i}))))};const{Fragment:uRt}=Nd.a;var pRt=function(e){const{serverEntityID:t,providerEntityID:i,metadataItemEntityID:n,metadataKey:a,type:s,subtype:r,summary:o,thumb:l,pageWidth:c,columnAdjustment:d}=e;return Vu()(uRt,{},void 0,Vu()(hLt,{serverEntityID:t,providerEntityID:i,metadataItemEntityID:n,metadataKey:a,type:s,subtype:r,thumb:l,pageWidth:c,columnAdjustment:d},void 0,Vu()(SBe,{serverEntityID:t,providerEntityID:i,metadataItemEntityID:n,summary:o})),Vu()(fLt,{},void 0,Vu()(rze,{},void 0,Vu()(zLt,{serverEntityID:t,providerEntityID:i}))))};const{Fragment:hRt}=Nd.a;var mRt=function(e){const{serverEntityID:t,providerEntityID:i,metadataItemEntityID:n,metadataKey:a,type:s,subtype:r,summary:o,thumb:l,pageWidth:c,columnAdjustment:d}=e;return Vu()(hRt,{},void 0,Vu()(hLt,{serverEntityID:t,providerEntityID:i,metadataItemEntityID:n,metadataKey:a,type:s,subtype:r,thumb:l,pageWidth:c,columnAdjustment:d},void 0,Vu()(SBe,{serverEntityID:t,providerEntityID:i,metadataItemEntityID:n,summary:o})),Vu()(fLt,{},void 0,Vu()(rze,{},void 0,Vu()(zLt,{serverEntityID:t,providerEntityID:i}))))};const{Fragment:gRt}=Nd.a;var vRt=Vu()(dze,{});var yRt=function(e){const{serverEntityID:t,providerEntityID:i,metadataItemEntityID:n,metadataKey:a,title:s,type:r,year:o,summary:l,thumb:c,pageWidth:d,columnAdjustment:u,record:p}=e;return Vu()(gRt,{},void 0,Vu()(hLt,{serverEntityID:t,providerEntityID:i,metadataItemEntityID:n,metadataKey:a,type:r,thumb:c,pageWidth:d,columnAdjustment:u},void 0,Vu()(rze,{},void 0,Vu()(bxe,{},void 0,Vu()(gxe,{},void 0,s)),Vu()(jxe,{},void 0,Vu()(gxe,{},void 0,o)),Vu()(Nxe,{},void 0,Vu()(sRt,{serverEntityID:t,providerEntityID:i,metadataItemEntityID:n,record:p}),Vu()(DBe,{serverEntityID:t,providerEntityID:i,metadataItemEntityID:n}))),vRt,Vu()(rze,{},void 0,Vu()(Qze,{serverEntityID:t,providerEntityID:i,metadataItemEntityID:n}),Vu()(qkt,{metadataItemEntityID:n},void 0,Vu()(Zkt,{metadataItemEntityID:n,showFullTime:!0,showChannel:!0})),Vu()(Mze,{},void 0,l))),Vu()(rze,{},void 0,Vu()(fLt,{},void 0,Vu()(rze,{},void 0,Vu()(ELt,{serverEntityID:t,providerEntityID:i,metadataItemEntityID:n}),Vu()(zLt,{serverEntityID:t,providerEntityID:i})))))};const{Fragment:fRt}=Nd.a;var bRt=function(e){const{serverEntityID:t,providerEntityID:i,metadataItemEntityID:n,extrasMetadataListEntityID:a,metadataKey:s,attributionLogo:r,title:o,type:l,year:c,summary:d,thumb:u,pageWidth:p,columnAdjustment:h,watchlistedAt:m,showGenres:g,showStreams:v}=e;return Vu()(fRt,{},void 0,Vu()(hLt,{serverEntityID:t,providerEntityID:i,metadataItemEntityID:n,metadataKey:s,type:l,thumb:u,pageWidth:p,columnAdjustment:h},void 0,Vu()(ABe,{serverEntityID:t,providerEntityID:i,metadataItemEntityID:n,extrasMetadataListEntityID:a,attributionLogo:r,title:o,year:c,summary:d,watchlistedAt:m,showGenres:g,showStreams:v})),Vu()(fLt,{},void 0,Vu()(rze,{},void 0,Vu()(ELt,{serverEntityID:t,providerEntityID:i,metadataItemEntityID:n}),a?Vu()(Pkt,{serverEntityID:t,providerEntityID:i,metadataItemEntityID:n,metadataListEntityID:a,title:Object(Ze.default)("Extras")}):null,Vu()(WLt,{serverEntityID:t,providerEntityID:i}),Vu()(zLt,{serverEntityID:t,providerEntityID:i}))))};const{Component:IRt}=Nd.a;var SRt=Vu()(dze,{});var CRt=class extends IRt{constructor(e,t){super(e,t),this.onContentMeasure=({width:e,height:t})=>{this.setState({isContentMeasured:!0,contentWidth:e,contentHeight:t})},this.state={isContentMeasured:!1,contentWidth:null,contentHeight:null}}shouldComponentUpdate(e,t){return Tp(this,e,t)}render(){const{serverEntityID:e,providerEntityID:t,metadataItemEntityID:i,metadataListEntityID:n,title:a,summary:s,art:r,listType:o,listStyle:l,pageHeight:c,scrollTop:d}=this.props,{isContentMeasured:u,contentWidth:p,contentHeight:h}=this.state,m=!(!u||!n);return Vu()(T0,{ignorePosition:!0,onMeasure:this.onContentMeasure},void 0,Vu()(rze,{},void 0,Vu()(bxe,{},void 0,Vu()(gxe,{},void 0,a),Vu()(VVe,{serverEntityID:e,providerEntityID:t,metadataItemEntityID:i}))),SRt,s?Vu()(rze,{},void 0,Vu()(Mze,{},void 0,s)):null,Vu()(fLt,{},void 0,m?Vu()(_re,{serverEntityID:e,providerEntityID:t,metadataListEntityID:n,listType:o,listStyle:l,component:bkt,initialSize:1e3,showArtwork:!!r,viewportWidth:p,viewportHeight:c,contentHeight:h,scrollTop:d}):null))}};function MRt(e,t){switch(e){case Go.e:return 1===t?Object(Ze.default)("1 Video"):Object(Ze.default)("{count} Videos",{count:t});case Go.a:return 1===t?Object(Ze.default)("1 Track"):Object(Ze.default)("{count} Tracks",{count:t});default:return 1===t?Object(Ze.default)("1 Item"):Object(Ze.default)("{count} Items",{count:t})}}var DRt=H0(parseInt(BV.playQueueItemHeight,10));function PRt(){return Object(Wu.a)((e,{playlistItemEntityID:t})=>t,uAt,(e,t)=>t[e])}function ORt(){return Object(Wu.a)(PRt(),XK,({metadataItem:e},t)=>t[e])}var jRt=i("J7Rr"),wRt=i.n(jRt);function TRt(e){const{className:t,indexContainerClassName:i,titlesContainerClassName:n,sourceTextClassName:a,durationContainerClassName:s,attributionContainerClassName:r,serverEntityID:o,providerEntityID:l,metadataItemEntityID:c,cellIndex:d,type:u,subtype:p,title:h,duration:m,context:g,imageWidth:v,imageHeight:y,imageUrl:f,isPlaying:b,isPlayerPaused:I,hasOfflineFile:S,hasOwnSubscription:C,showAvailableOffline:M,source:D,ratingKey:P,onPlayPress:O}=e,j=kMe(u,g,{providerEntityID:l,subtype:p});return Vu()("div",{className:t},void 0,Vu()("div",{className:i},void 0,b?null:Vu()(Zke,{className:wRt.a.transientTitleLeft,index:d+1}),b?null:Vu()(ide,{className:wRt.a.playButton,title:h,onPress:O}),b?Vu()(SAe,{className:wRt.a.equalizer,isPaused:I}):null),Vu()("div",{className:wRt.a.cardContainer},void 0,Vu()(noe,{className:wRt.a.card,serverEntityID:o,providerEntityID:l,component:AC,width:v,height:y,url:f},c)),Vu()("div",{className:n,"data-qa-id":"playlistTitleContainer"},void 0,j.map((e,t)=>Vu()(oSe,{serverEntityID:o,providerEntityID:l,metadataItemEntityID:c,component:e,isSecondary:t>0},t))),M?Vu()("div",{className:r},void 0,Vu()(Zje,{className:wRt.a.downloadIcon,size:16,arrowSize:16,lineWidth:1.5,source:D,ratingKey:P,hasOfflineFile:S,hasOwnSubscription:C})):null,M?Vu()(yse,{metadataItemEntityID:c,providerEntityID:l}):null,Vu()(EAe,{className:r,textClassName:a,serverEntityID:o,metadataItemEntityID:c}),m?Vu()("div",{className:s},void 0,Vu()(MRe,{className:wRt.a.transientTitleRight,duration:m})):null)}TRt.defaultProps={className:wRt.a.container,indexContainerClassName:wRt.a.indexContainer,titlesContainerClassName:wRt.a.titlesContainer,durationContainerClassName:wRt.a.durationContainer,attributionContainerClassName:wRt.a.attributionContainer};var ERt=TRt;var NRt=kK((function(){return Object(Wu.a)($K(),cse(),CRe(),e=>e.ui.audioVideoPlayer.isPaused,(e={},t,i,n)=>{const a=Eae(kC(e.type,e.subtype,"playlist")===16/9?64:36,null,e.type,e.subtype,e,"playlist"),s=!(!e.ratingKey||!t)&&be.a.allowSyncDownload;return{serverEntityID:e.serverEntityID,providerEntityID:e.providerEntityID,type:e.type,subtype:e.subtype,metadataKey:e.key,duration:e.duration,ratingKey:e.ratingKey,context:"playlist",imageWidth:a.width,imageHeight:a.height,imageUrl:a.url,isPlaying:i,isPlayerPaused:n,source:t,title:e.title,hasOfflineFile:fse(e),hasOwnSubscription:bse(e),showAvailableOffline:s}})}),(function(e,t){const i={serverEntityID:t.serverEntityID,providerEntityID:t.providerEntityID,metadataItemEntityID:t.metadataItemEntityID,metricsPage:t.metricsPage,metricsProperties:{context:t.metricsContext}};return{onPlayPress(){e(Object(xT.x)(Object.assign({},i,{playlistMetadataItemEntityID:t.metadataListEntityID})))}}}))(ERt),xRt=i("vtAB"),ARt=i.n(xRt);const{Component:LRt}=Nd.a;class kRt extends LRt{constructor(e,t){super(e,t),this.onActionsMenuOpenChange=e=>{this.setState({isActionsMenuOpen:e})},this.state={isActionsMenuOpen:!1}}render(){const{serverEntityID:e,itemServerEntityID:t,providerEntityID:i,itemProviderEntityID:n,metadataItemEntityID:a,metadataListEntityID:s,metadataKey:r,listType:o,title:l,isSmart:c,isReadOnly:d,isSelected:u,isEmbeddedServer:p,hasActiveSelection:h,isOtherItemSelected:m,isModifierKeyPressed:g,cellIndex:v,isDragging:y,connectDragSource:f,onRemovePress:b,onSelectPress:I,onDeselectPress:S}=this.props,C=!(c||d||p),M=C&&(g||m),D=h?"-1":"0";return Vu()("div",{className:((v%2?ARt.a.alternateContainer:ARt.a.container)||"")+" "+(h&&ARt.a.hasActiveSelection||"")+" "+(M&&ARt.a.isForcingSelection||"")+" "+(u&&ARt.a.isSelected||"")+" "+(y&&ARt.a.isItemDragging||"")},void 0,C?Vu()(zp,{className:ARt.a.underlay,"aria-label":u?Object(Ze.default)("Deselect {title}",{title:l}):Object(Ze.default)("Select {title}",{title:l}),tabIndex:h?"0":"-1",onPress:u?S:I}):null,Vu()("div",{className:ARt.a.overlay,"data-qa-id":"playlistItem"},void 0,C?f(Vu()("div",{className:ARt.a.moveControl,"data-qa-id":"playlistReorderItem"},void 0,Vu()(MAe,{className:ARt.a.grabIcon}))):null,Vu()(NRt,{className:ARt.a.metadataContainer,sourceTextClassName:ARt.a.sourceText,durationContainerClassName:ARt.a.metadataDurationContainer,attributionContainerClassName:ARt.a.attributionContainer,serverEntityID:e,itemServerEntityID:t,providerEntityID:i,itemProviderEntityID:n,metadataItemEntityID:a,metadataListEntityID:s,metadataKey:r,listType:o,cellIndex:v}),Vu()("div",{className:ARt.a.otherControls},void 0,C?Vu()(NV,{className:ARt.a.selectButton,title:l,isSelected:u,onPress:u?S:I}):null,Vu()(fce,{"data-qa-id":"metadataRowMoreButton",className:ARt.a.moreButton,tabIndex:D,serverEntityID:e,itemServerEntityID:t,providerEntityID:i,itemProviderEntityID:n,metadataItemEntityID:a,containerKey:r,listType:o,showPlay:!1,showQueuePlexMix:!1,showEdit:!1,isMenuOpen:this.state.isActionsMenuOpen,onMenuOpenChange:this.onActionsMenuOpenChange}),C?Vu()(JK,{className:ARt.a.removeButton,"data-qa-id":"playlistRemoveButton",iconComponent:NI,title:Object(Ze.default)("Remove"),kind:Op,onPress:b}):null)))}}kRt.defaultProps=void 0,kRt.defaultProps={isDragging:!1,connectDragSource:e=>e};var RRt=kRt;var zRt=Object(Hu.b)((function(e,t){return Object(Wu.a)((e,{playlistItemEntityID:t})=>t,PRt(),ORt(),Unt(),kke,zre,(e,{playlistItemID:t},i,n,a,s)=>({itemServerEntityID:i.serverEntityID,itemProviderEntityID:i.providerEntityID,metadataItemEntityID:i.entityID,metadataKey:i.key,title:i.title,selectionID:e,selectionType:i.type,activeSelectionType:s.activeSelectionType,isSelected:Uke(a,t),isEmbeddedServer:n}))}),(function(e,t){const i={playlistItemEntityID:t.playlistItemEntityID};return{onSelectItem(t){e(fAt(t))},onDeselectItem(t){e(bAt(t))},onRemovePress(){e(SAt(i))}}}))(Nje(RRt)),URt=i("EykR"),VRt=i.n(URt);const BRt=Nd.a.createElement,{Component:FRt}=Nd.a;var HRt=Object(eAe.DragLayer)((function(e){return{item:e.getItem(),itemType:e.getItemType(),currentOffset:e.getSourceClientOffset()}}))(class extends FRt{shouldComponentUpdate(e,t){return Tp(this,e,t)}render(){const{item:e,itemType:t,currentOffset:i}=this.props;if(!i||"PLAYLIST_ITEM"!==t)return null;const n=H4e(i,e.viewportWidth);return Vu()(pAe,{},void 0,Vu()("div",{className:VRt.a.dragPreview,style:n},void 0,BRt(zRt,tp()({isDragging:!0},e))))}}),_Rt=i("FjM4"),WRt=i.n(_Rt);const QRt=Nd.a.createElement,{Component:GRt}=Nd.a,KRt={beginDrag(e){const{providerEntityID:t,serverEntityID:i,metadataListEntityID:n,playlistItemEntityID:a,cellIndex:s,isSmart:r,isReadOnly:o,listType:l,viewportWidth:c}=e;return{providerEntityID:t,serverEntityID:i,metadataListEntityID:n,playlistItemEntityID:a,cellIndex:s,isSmart:r,isReadOnly:o,listType:l,viewportWidth:c}},endDrag(e,t,i){e.onItemDragEnd(t.getItem(),t.didDrop())}},YRt={hover(e,t,i){const n=Object(Bu.findDOMNode)(i).getBoundingClientRect(),a=(n.bottom-n.top)/2,s=t.getClientOffset().y-n.top,r=e.cellIndex,o=s>a?r+1:r;e.onItemDragMove(o)}};var qRt=Object(eAe.DropTarget)("PLAYLIST_ITEM",YRt,(function(e,t){return{connectDropTarget:e.dropTarget(),isOver:t.isOver()}}))(Object(eAe.DragSource)("PLAYLIST_ITEM",KRt,(function(e,t){return{connectDragPreview:e.dragPreview(),connectDragSource:e.dragSource(),isDragging:t.isDragging()}}))(class extends GRt{componentDidMount(){this.props.connectDragPreview(Object(tAe.getEmptyImage)())}shouldComponentUpdate(e,t){return Tp(this,e,t)}render(){const{moveIndex:e,cellIndex:t,isOver:i,isDragging:n,connectDropTarget:a}=this.props,s=i&&e===t,r=i&&e===t+1;return a(Vu()("div",{className:(WRt.a.container||"")+" "+(n?"isDragging":"")+" "+(s&&i?"isDraggingBefore":"")+" "+(r&&i?"isDraggingAfter":"")},void 0,QRt(zRt,this.props)))}})),ZRt=i("yb7Q"),JRt=i.n(ZRt);var XRt=function(e){return Vu()("div",{className:e.cellIndex%2?JRt.a.alternateContainer:JRt.a.container},void 0,Object(Ze.default)("Loading..."))};const $Rt=Nd.a.createElement,{memo:ezt}=Nd.a;var tzt=ezt((function(e){const{cellIndex:t,playlistItemEntityID:i,isSmart:n,isReadOnly:a}=e,s=Xe()(e,["cellIndex","playlistItemEntityID","isSmart","isReadOnly"]),r=Y0(e),o=n||a?zRt:qRt;return Vu()("div",{style:r.style},void 0,i?$Rt(o,tp()({playlistItemEntityID:i,cellIndex:t,isSmart:n,isReadOnly:a},s)):Vu()(XRt,{cellIndex:t}))})),izt=i("6GOp"),nzt=i.n(izt);const azt=Nd.a.createElement,{Component:szt}=Nd.a;var rzt=Vu()(RAt,{}),ozt=Vu()(AAt,{});var lzt=nAe(class extends szt{constructor(e,t){super(e,t),this.onItemDragMove=e=>{e!==this.state.moveIndex&&this.setState({moveIndex:e})},this.onItemDragEnd=(e,t)=>{const{moveIndex:i}=this.state;t&&null!=i&&Object(Ti.a)(()=>{this.props.dispatchMovePlaylistItem(Object.assign({},e,{moveIndex:i}))}),this.setState({moveIndex:null})},this.state={moveIndex:null}}_getItemCountLabel(){return MRt(this.props.playlistType,this.props.size)}render(){const e=this.props,{serverEntityID:t,providerEntityID:i,metadataItemEntityID:n,metadataKey:a,playlistType:s,contentWidth:r,contentHeight:o,scrollTop:l,items:c,isSmart:d,isReadOnly:u,size:p,duration:h,onEditFilters:m}=e,g=Xe()(e,["serverEntityID","providerEntityID","metadataItemEntityID","metadataKey","playlistType","contentWidth","contentHeight","scrollTop","items","isSmart","isReadOnly","size","duration","onEditFilters"]),v={serverEntityID:t,providerEntityID:i,metadataListEntityID:n,metadataKey:a,listType:s,activeSort:"titleSort",isSmart:d,isReadOnly:u,showLink:!1,showPlayIndex:!1,showPlayCellIndex:!0,showActionsDuration:!0,onItemDragMove:this.onItemDragMove,onItemDragEnd:this.onItemDragEnd,moveIndex:this.state.moveIndex};if(0===p)return Vu()("div",{},void 0,s===Go.e?Object(Ze.default)("This playlist has no videos."):Object(Ze.default)("This playlist has no tracks."));const y=d&&!u;return Vu()("div",{},void 0,Vu()(Abe,{className:nzt.a.header},void 0,Vu()(abe,{},void 0,this._getItemCountLabel(),y?Vu()(zp,{className:nzt.a.editLink,kind:Pp,onPress:m},void 0,Object(Ze.default)("Edit filters")):null),h?Vu()("span",{className:nzt.a.durationTitle},void 0,Xm(h)):null),rzt,azt(x0,tp()({layout:DRt,containerKey:a,keyPropName:"playlistItemEntityID",cellRenderer:aIe(v,tzt),items:c,size:p,viewportWidth:r,viewportHeight:o,scrollTop:l,firstItemType:s,listType:s,moveIndex:this.state.moveIndex},g)),ozt,d||u?null:Vu()(HRt,{serverEntityID:t,providerEntityID:i}))}});const czt=Nd.a.createElement,{Component:dzt}=Nd.a;var uzt=nAe(class extends dzt{constructor(e,t){super(e,t),this.onItemDragMove=e=>{e!==this.state.moveIndex&&this.setState({moveIndex:e})},this.onItemDragEnd=(e,t)=>{const{moveIndex:i}=this.state;t&&null!==i&&this.props.onItemDropped(Object.assign({},e,{moveIndex:i})),this.setState({moveIndex:null})},this.state={moveIndex:null}}render(){const e=this.props,{showPreview:t,createCellRenderer:i,listComponent:n,previewComponent:a}=e,s=Xe()(e,["showPreview","createCellRenderer","listComponent","previewComponent"]),r={onItemDragMove:this.onItemDragMove,onItemDragEnd:this.onItemDragEnd};return czt(n,tp()({moveIndex:this.state.moveIndex,cellRenderer:i(r)},s),t?czt(a,s):null)}}),pzt=i("9leU"),hzt=i.n(pzt);const{Component:mzt}=Nd.a;var gzt=Vu()(yC,{});class vzt extends mzt{constructor(...e){super(...e),this.onPlayPress=()=>{this.props.onPlayPress(this.props.metadataItemEntityID)},this.onEditPress=()=>{this.props.onEditPress(this.props.metadataItemEntityID)}}render(){const{serverEntityID:e,providerEntityID:t,itemServerEntityID:i,itemProviderEntityID:n,metadataItemEntityID:a,playlistItemID:s,metadataKey:r,type:o,thumb:l,title:c,width:d,height:u,hasActiveSelection:p,isSelected:h,isOtherItemSelected:m,isModifierKeyPressed:g,isDragging:v,isSmart:y,isExternal:f,canDrag:b,connectDragSource:I,onSelectPress:S,onDeselectPress:C,onRemovePress:M}=this.props,D=o===Qt.d,P=!r;return I(Vu()("div",{className:hzt.a.photoContainer},void 0,Vu()("div",{className:(hzt.a.photo||"")+" "+(h&&hzt.a.isSelected||"")},void 0,Vu()("div",{className:hzt.a.image},void 0,P?null:Vu()(noe,{serverEntityID:i,providerEntityID:n,component:AC,url:l,width:d,height:u},s||r),Vu()(Cwe,{serverEntityID:e,providerEntityID:t,itemServerEntityID:i,itemProviderEntityID:n,metadataItemEntityID:a,title:c,showPlay:!0,showEdit:!f,showSelect:!y,showRemove:!y,hasActiveSelection:p,isSelected:h,isOtherItemSelected:m,isModifierKeyPressed:g,isDragging:v,canDrag:b,onPlayPress:this.onPlayPress,onEditPress:this.onEditPress,onSelectPress:S,onDeselectPress:C,onRemovePress:M}),D?Vu()("div",{className:hzt.a.badge},void 0,gzt):null))))}}vzt.defaultProps=void 0,vzt.defaultProps={connectDragSource:e=>e};var yzt=vzt;const fzt=Nd.a.createElement,{Component:bzt}=Nd.a;function Izt(e,t){return{connectDragPreview:e.dragPreview(),connectDragSource:e.dragSource(),isDragging:t.isDragging()}}function Szt(e,t){return{connectDropTarget:e.dropTarget(),isOver:t.isOver()}}class Czt extends bzt{componentDidMount(){this.props.connectDragPreview(Object(tAe.getEmptyImage)())}shouldComponentUpdate(e,t){return Tp(this,e,t)}render(){const e=this.props,{dragClassName:t,indexPropName:i,moveIndex:n,isDragging:a,isOver:s,connectDropTarget:r,connectDragSource:o,itemComponent:l}=e,c=Xe()(e,["dragClassName","indexPropName","moveIndex","isDragging","isOver","connectDropTarget","connectDragSource","connectDragPreview","itemComponent"]),d=this.props[i],u=s&&n===d,p=s&&n===d+1;return r(Vu()("div",{className:(t||"")+" "+(a?"isDragging":"")+" "+(u&&s?"isDraggingBefore":"")+" "+(p&&s?"isDraggingAfter":"")},void 0,fzt(l,tp()({connectDragSource:o,canDrag:!0,isDragging:a},c))))}}var Mzt=i("Hr1X"),Dzt=function({itemComponent:e,dragClassName:t,dragType:i,direction:n="VERTICAL",idAttribute:a,indexPropName:s}){return Object(eAe.DropTarget)(i,function({direction:e,indexPropName:t}){return{hover(i,n,a){const s=Object(Bu.findDOMNode)(a).getBoundingClientRect(),r=(s.right-s.left)/2,o=(s.bottom-s.top)/2,l=n.getClientOffset(),c=l.x-s.left,d=l.y-s.top,u=i[t],p=("VERTICAL"===e?d>o:c>r)?u+1:u;i.onItemDragMove(p)}}}({direction:n,indexPropName:s}),Szt)(Object(eAe.DragSource)(i,function({idAttribute:e}){return{beginDrag:t=>({[e]:t[e]}),endDrag(e,t,i){e.onItemDragEnd(t.getItem(),t.didDrop())}}}({idAttribute:a}),Izt)((r={itemComponent:e,indexPropName:s,dragClassName:t},e=>fzt(Czt,tp()({},r,e)))));var r}({itemComponent:yzt,indexPropName:"cellIndex",direction:"HORIZONTAL",idAttribute:"playlistItemEntityID",dragType:"ALBUM_ITEM",dragClassName:i.n(Mzt).a.draggable});const Pzt=Nd.a.createElement,Ozt=parseInt(BV.mosaicCellPadding,10);var jzt=function(e){const{cellWidth:t,cellHeight:i,isSmart:n}=e,a=Xe()(e,["cellX","cellY","cellWidth","cellHeight","isSmart"]),s=Y0(e),r=n?yzt:Dzt,o=t-2*Ozt,l=i-2*Ozt;return Vu()("div",{style:s.style},void 0,Pzt(r,tp()({width:o,height:l,isSmart:n},a)))};var wzt=kK((function(){return Object(Wu.a)((e,{playlistItemEntityID:t})=>t,PRt(),ORt(),kke,zre,(e,{playlistItemID:t},i={},n,a)=>{const{serverEntityID:s,providerEntityID:r,entityID:o,key:l,source:c,type:d,thumb:u,title:p}=i;return{listType:Go.c,playlistItemID:t,itemServerEntityID:s,itemProviderEntityID:r,metadataItemEntityID:o,metadataKey:l,isExternal:!!c,type:d,thumb:u,title:p,selectionID:e,selectionType:Go.c,activeSelectionType:a.activeSelectionType,isSelected:Uke(n,t)}})}),(function(e,t){const i={serverEntityID:t.serverEntityID,providerEntityID:t.providerEntityID,metricsPage:t.metricsPage,metricsProperties:{context:t.metricsContext}};return{onPlayPress(n){e(Object(xT.x)(Object.assign({},i,{playlistMetadataItemEntityID:t.playlistMetadataItemEntityID,metadataItemEntityID:n})))},onEditPress(t){e(tae(Object.assign({},i,{metadataItemEntityID:t})))},onRemovePress(){t.onRemoveItem({playlistItemEntityID:t.playlistItemEntityID})}}}))(Nje(jzt));var Tzt=Object(Hu.b)(null,(function(e){return{onSelectItem(t){e(fAt(t))},onDeselectItem(t){e(bAt(t))},onRemoveItem(t){e(SAt(t))}}}))(wzt);var Ezt=function(e){const{width:t,height:i}=e;return Vu()(tC,{serverEntityID:e.serverEntityID,url:e.thumb,width:t,height:i,component:JI})};var Nzt=Object(Hu.b)((function(){return Object(Wu.a)((e,{playlistItemEntityID:t})=>t,uAt,XK,(e,t,i)=>{const n=i[t[e].metadataItem],a=Math.min(Math.max(SSt(n),.5),2),s=a>1;return{width:s?100*a:100,height:s?100:100/a,thumb:n.thumb}})}))(Ezt),xzt=i("EzYn"),Azt=i.n(xzt);const{Component:Lzt}=Nd.a;var kzt=Object(eAe.DragLayer)((function(e){return{item:e.getItem(),itemType:e.getItemType(),currentOffset:e.getClientOffset()}}))(class extends Lzt{render(){const{item:e,currentOffset:t,serverEntityID:i}=this.props;if(!t||!e)return null;const n=Object.assign({},H4e(t),{display:"inline-block",width:"auto"});return Vu()(pAe,{},void 0,Vu()("div",{className:Azt.a.dragPreview,style:n},void 0,Vu()(Nzt,{serverEntityID:i,playlistItemEntityID:e.playlistItemEntityID})))}});const Rzt=Nd.a.createElement,{Component:zzt}=Nd.a;var Uzt=class extends zzt{constructor(...e){super(...e),this.createCellRenderer=e=>{const{serverEntityID:t,providerEntityID:i,playlistMetadataItemEntityID:n,playlistRatingKey:a,isSmart:s,listType:r}=this.props;return aIe(Object.assign({serverEntityID:t,providerEntityID:i,playlistMetadataItemEntityID:n,ratingKey:a,listType:r,isSmart:s},e),Tzt)}}render(){const e=this.props,{isSmart:t,onItemDropped:i}=e,n=Xe()(e,["isSmart","onItemDropped"]);return Rzt(uzt,tp()({showPreview:!t,listComponent:okt,previewComponent:kzt,createCellRenderer:this.createCellRenderer,onItemDropped:i},n))}};const Vzt={onItemDropped:IAt};var Bzt=Object(Hu.b)((function(){return Object(Wu.a)((e,{items:t})=>t,(e,{serverEntityID:t})=>t,(e,{providerEntityID:t})=>t,$K(),uAt,XK,(e=[],t,i,n,a,s)=>{const r=e.map(e=>{const t=a[e];return SSt(s[t.metadataItem])});return{listType:n.playlistType,aspectRatios:r,playlistMetadataItemEntityID:n.entityID,playlistRatingKey:n.ratingKey,isSmart:!!n.smart,isReadOnly:!!n.readOnly}})}),Vzt)(Uzt),Fzt=i("p1pj"),Hzt=i.n(Fzt);const _zt=Nd.a.createElement;var Wzt=Vu()(Jh,{});var Qzt=function(e){const{contentHeight:t,scrollTop:i,showArtwork:n,showSpinner:a,showError:s,listType:r,isEmpty:o}=e,l=Xe()(e,["contentHeight","scrollTop","showArtwork","showSpinner","showError","listType","isEmpty"]);return a?Vu()("div",{className:Hzt.a.emptyContainer},void 0,Wzt):s?Vu()("div",{className:Hzt.a.emptyMessage},void 0,Object(Ze.default)("Unable to load items")):o?Vu()("div",{className:Hzt.a.emptyMessage},void 0,r===Go.c?Object(Ze.default)("There are no items in this album"):Object(Ze.default)("There are no items in this playlist")):Vu()(ZAt,{showArtwork:n,contentHeight:t,scrollTop:i},void 0,r===Go.c?_zt(Bzt,l):_zt(lzt,l))};const Gzt=Nd.a.createElement,{Component:Kzt}=Nd.a;const Yzt={dispatchInitPlaylistItemList:hAt,dispatchResetPlaylistItemList:mAt,dispatchPopulatePlaylistItemRange:vAt,dispatchDeselectAllPlaylistItems:$N,dispatchMovePlaylistItem:IAt,dispatchModifySmartPlaylist:Dae};var qzt=Object(Hu.b)((function(e,t){return Object(Wu.a)(e=>e.ui.playlistPage,$K(),xae,(e,t,i)=>{const{serverEntityID:n,providerEntityID:a,metadataKey:s,playlistItemList:r={},isPlaylistItemListPending:o,isPlaylistItemListPopulated:l,playlistItemListError:c}=e,{ratingKey:d,playlistType:u,smart:p,readOnly:h,duration:m}=t,{metadataItems:g=[],populatedRange:v={},totalSize:y}=r;return{serverEntityID:n,providerEntityID:a,metadataKey:s,ratingKey:d,providerIdentifier:i.identifier,listType:u,keyPropName:"playlistItemEntityID",isSmart:!!p,isReadOnly:!!h,populatedRange:v,items:g,size:y,itemsOffset:v.start,duration:m,isEmpty:l&&!y,showArtwork:!1,showSpinner:o&&!l,showError:c}})}),Yzt)(class extends Kzt{constructor(...e){super(...e),this.onPageRequest=({startIndex:e,endIndex:t})=>{const i=jt.k(this.props.providerIdentifier,jt.f);this.props.dispatchPopulatePlaylistItemRange({pages:i?1:void 0,startIndex:e,endIndex:t})},this.onEditFilters=()=>{this.props.dispatchModifySmartPlaylist({serverEntityID:this.props.serverEntityID,providerEntityID:this.props.providerEntityID,metadataItemEntityID:this.props.metadataItemEntityID})}}componentDidMount(){this._populate()}componentDidUpdate(e){this.props.metadataKey!==e.metadataKey&&this._populate()}componentWillUnmount(){this.props.dispatchDeselectAllPlaylistItems(),this.props.dispatchResetPlaylistItemList()}_populate(){const{serverEntityID:e,providerEntityID:t,metadataKey:i,providerIdentifier:n,dispatchInitPlaylistItemList:a,dispatchPopulatePlaylistItemRange:s}=this.props;a({serverEntityID:e,providerEntityID:t,metadataKey:i});s({pages:jt.k(n,jt.f)?1:void 0,startIndex:0,endIndex:39})}render(){const e=this.props,t=Xe()(e,["dispatchInitPlaylistItemList","dispatchPopulatePlaylistItemRange","dispatchDeselectAllPlaylistItems","dispatchModifySmartPlaylist"]);return Gzt(Qzt,tp()({},t,{onEditFilters:this.onEditFilters,onPageRequest:this.onPageRequest}))}});const{Component:Zzt}=Nd.a;var Jzt=Vu()(dze,{});var Xzt=class extends Zzt{constructor(e,t){super(e,t),this.onContentMeasure=({width:e,height:t})=>{this.setState({isContentMeasured:!0,contentWidth:e,contentHeight:t})},this.state={isContentMeasured:!1,contentWidth:null,contentHeight:null}}shouldComponentUpdate(e,t){return Tp(this,e,t)}render(){const{serverEntityID:e,providerEntityID:t,metadataItemEntityID:i,metadataKey:n,title:a,type:s,playlistType:r,summary:o,composite:l,thumb:c,pageWidth:d,pageHeight:u,scrollTop:p,columnAdjustment:h}=this.props,{contentWidth:m,contentHeight:g,isContentMeasured:v}=this.state;return Vu()(T0,{ignorePosition:!0,onMeasure:this.onContentMeasure},void 0,Vu()(hLt,{serverEntityID:e,providerEntityID:t,metadataItemEntityID:i,showPoster:r!==Go.c,metadataKey:n,type:s,thumb:c||l,pageWidth:d,columnAdjustment:h},void 0,Vu()(rze,{},void 0,Vu()(bxe,{},void 0,a)),Jzt,o?Vu()(rze,{},void 0,Vu()(Mze,{},void 0,o)):null),Vu()(fLt,{},void 0,v?Vu()(qzt,{serverEntityID:e,providerEntityID:t,metadataItemEntityID:i,playlistType:r,contentHeight:g,viewportWidth:m,viewportHeight:u,scrollTop:p}):null))}};const{Component:$zt}=Nd.a;var eUt=Vu()(dze,{});var tUt=class extends $zt{constructor(e,t){super(e,t),this.onContentMeasure=({width:e,height:t})=>{this.setState({isContentMeasured:!0,contentWidth:e,contentHeight:t})},this.state={isContentMeasured:!1,contentWidth:null,contentHeight:null}}shouldComponentUpdate(e,t){return Tp(this,e,t)}render(){const{serverEntityID:e,providerEntityID:t,metadataItemEntityID:i,metadataListEntityID:n,metadataKey:a,attributionLogo:s,title:r,type:o,summary:l,thumb:c,listType:d,listStyle:u,isListReady:p,pageWidth:h,pageHeight:m,scrollTop:g,columnAdjustment:v}=this.props,{isContentMeasured:y,contentWidth:f,contentHeight:b}=this.state,I=!(!y||!n);return Vu()(T0,{ignorePosition:!0,onMeasure:this.onContentMeasure},void 0,Vu()(hLt,{serverEntityID:e,providerEntityID:t,metadataItemEntityID:i,metadataKey:a,type:o,thumb:c,pageWidth:h,columnAdjustment:v},void 0,Vu()(rze,{},void 0,Vu()(bxe,{},void 0,Vu()(gxe,{},void 0,Vu()(Mce,{serverEntityID:e,providerEntityID:t,metadataItemEntityID:i})),Vu()(Mxe,{},void 0,Vu()(Eze,{attributionLogo:s}))),Vu()(jxe,{},void 0,Vu()(gxe,{},void 0,r),Vu()(VVe,{serverEntityID:e,providerEntityID:t,metadataItemEntityID:i}))),eUt,l?Vu()(rze,{},void 0,Vu()(Mze,{},void 0,l)):null),Vu()(fLt,{},void 0,I?Vu()(_re,{serverEntityID:e,providerEntityID:t,metadataListEntityID:n,listType:d,listStyle:u,component:bkt,initialSize:20,viewportWidth:f,viewportHeight:m,contentHeight:b,scrollTop:g}):null,p?Vu()(rze,{},void 0,Vu()(ELt,{serverEntityID:e,providerEntityID:t,metadataItemEntityID:i}),Vu()(WLt,{serverEntityID:e,providerEntityID:t}),Vu()(zLt,{serverEntityID:e,providerEntityID:t})):null))}},iUt=i("YZZ6"),nUt=i.n(iUt);var aUt=function({serverEntityID:e,providerEntityID:t,metadataItemEntityID:i,type:n,leafCount:a,contentRating:s,isSubscribed:r,subscriptionType:o,grandparentSubscriptionType:l,showRecord:c,record:d}){return Vu()(gxe,{},void 0,Vu()(Hce,{className:nUt.a.episodeCount,leafCount:a}),Vu()(GVe,{contentRating:s}),c?Vu()(tRt,{serverEntityID:e,metadataItemEntityID:i,providerEntityID:t,type:n,isSubscribed:r,subscriptionType:o,grandparentSubscriptionType:l,isSubscribeModalOpen:d}):null)};var sUt=Object(Hu.b)((function(){return Object(Wu.a)(ZS,$K(),(e,t={})=>({type:t.type,leafCount:t.leafCount,contentRating:t.contentRating,isSubscribed:null!=t.subscriptionID||null!=t.grandparentSubscriptionID,subscriptionType:t.subscriptionType,grandparentSubscriptionType:t.grandparentSubscriptionType,showRecord:!!e.features.subscribe}))}))(aUt);const{Component:rUt}=Nd.a;var oUt=Vu()(dze,{});var lUt=class extends rUt{constructor(e,t){super(e,t),this.onContentMeasure=({width:e,height:t})=>{this.setState({isContentMeasured:!0,contentWidth:e,contentHeight:t})},this.state={isContentMeasured:!1,contentWidth:null,contentHeight:null}}shouldComponentUpdate(e,t){return Tp(this,e,t)}render(){const{serverEntityID:e,providerEntityID:t,metadataItemEntityID:i,metadataListEntityID:n,metadataKey:a,title:s,type:r,year:o,summary:l,thumb:c,listType:d,listStyle:u,isListReady:p,pageWidth:h,pageHeight:m,scrollTop:g,columnAdjustment:v,record:y}=this.props,{isContentMeasured:f,contentWidth:b,contentHeight:I}=this.state,S=!(!f||!n);return Vu()(T0,{ignorePosition:!0,onMeasure:this.onContentMeasure},void 0,Vu()(hLt,{serverEntityID:e,providerEntityID:t,metadataItemEntityID:i,metadataKey:a,type:r,thumb:c,pageWidth:h,columnAdjustment:v},void 0,Vu()(rze,{},void 0,Vu()(bxe,{},void 0,Vu()(gxe,{},void 0,s)),Vu()(jxe,{},void 0,Vu()(gxe,{},void 0,o)),Vu()(Nxe,{},void 0,Vu()(sUt,{serverEntityID:e,providerEntityID:t,metadataItemEntityID:i,record:y}),Vu()(DBe,{serverEntityID:e,providerEntityID:t,metadataItemEntityID:i}))),oUt,Vu()(rze,{},void 0,Vu()(Qze,{serverEntityID:e,providerEntityID:t,metadataItemEntityID:i}),Vu()(Mze,{},void 0,l))),Vu()(fLt,{},void 0,S?Vu()(_re,{serverEntityID:e,providerEntityID:t,metadataListEntityID:n,listType:d,listStyle:u,component:bkt,initialSize:20,viewportWidth:b,viewportHeight:m,contentHeight:I,scrollTop:g}):null,p?Vu()(rze,{},void 0,Vu()(ELt,{serverEntityID:e,providerEntityID:t,metadataItemEntityID:i}),Vu()(zLt,{serverEntityID:e,providerEntityID:t})):null))}},cUt=i("ld10"),dUt=i.n(cUt);function uUt(e){const{className:t,kind:i,size:n,saved:a,providerIdentifier:s,subtype:r,onPress:o}=e;return Vu()(hw,{className:t,kind:i,size:n,onPress:o},void 0,a?Vu()(ay,{className:dUt.a.iconSaved}):null,function(e,t,i){return i===LC.c?e?Object(Ze.default)("In My Podcasts"):Object(Ze.default)("Add to My Podcasts"):i===LC.d?e?Object(Ze.default)("In My Shows"):Object(Ze.default)("Add to My Shows"):jt.k(t,jt.f)?e?Object(Ze.default)("In My TIDAL"):Object(Ze.default)("Add to My TIDAL"):e?Object(Ze.default)("In My Shows"):Object(Ze.default)("Add to My Shows")}(a,s,r))}uUt.defaultProps={kind:jp,size:_h};var pUt=uUt;var hUt=Object(Hu.b)((function(){return Object(Wu.a)(xae,$K(),(e,t)=>({providerIdentifier:e.identifier,saved:t.saved,subtype:t.subtype}))}),(function(e,t){const i={serverEntityID:t.serverEntityID,providerEntityID:t.providerEntityID,metadataItemEntityID:t.metadataItemEntityID};return{onPress(t){e(Object(v7.r)(i))}}}))(pUt);var mUt=function({leafCount:e}){return Vu()(gxe,{},void 0,Vu()(Hce,{leafCount:e}))};var gUt=Object(Hu.b)((function(){return Object(Wu.a)($K(),(e={})=>({leafCount:e.leafCount}))}))(mUt),vUt=i("S1st"),yUt=i.n(vUt);const{Component:fUt}=Nd.a;var bUt=Vu()(dze,{});var IUt=class extends fUt{constructor(e,t){super(e,t),this.onContentMeasure=({width:e,height:t})=>{this.setState({isContentMeasured:!0,contentWidth:e,contentHeight:t})},this.state={isContentMeasured:!1,contentWidth:null,contentHeight:null}}shouldComponentUpdate(e,t){return Tp(this,e,t)}render(){const{serverEntityID:e,providerEntityID:t,metadataItemEntityID:i,metadataListEntityID:n,metadataKey:a,title:s,type:r,subtype:o,summary:l,showAddToSaved:c,thumb:d,allEpisodes:u,listType:p,listStyle:h,isListReady:m,pageHeight:g,pageWidth:v,scrollTop:y,columnAdjustment:f,isEmbeddedServer:b}=this.props,{isContentMeasured:I,contentWidth:S,contentHeight:C}=this.state,M=!(!I||!n);let D;return M&&b?D=u?Object(Ze.default)("All Downloaded Episodes"):Object(Ze.default)("Recent Downloaded Episodes"):M&&(D=u?Object(Ze.default)("All Episodes"):Object(Ze.default)("Recent Episodes")),Vu()(T0,{className:yUt.a.container,ignorePosition:!0,onMeasure:this.onContentMeasure},void 0,Vu()(hLt,{serverEntityID:e,providerEntityID:t,metadataItemEntityID:i,metadataKey:a,type:r,subtype:o,thumb:d,pageWidth:v,columnAdjustment:f},void 0,Vu()(rze,{},void 0,Vu()(bxe,{},void 0,Vu()(gxe,{},void 0,s)),Vu()(Nxe,{},void 0,Vu()(gUt,{serverEntityID:e,providerEntityID:t,metadataItemEntityID:i}),Vu()(DBe,{serverEntityID:e,providerEntityID:t,metadataItemEntityID:i}))),bUt,Vu()(rze,{},void 0,Vu()(Mze,{dangerouslySetInnerHTML:{__html:l}}),c?Vu()(hUt,{className:yUt.a.addToSavedButton,serverEntityID:e,providerEntityID:t,metadataItemEntityID:i}):null)),Vu()(fLt,{},void 0,M?Vu()(_re,{serverEntityID:e,providerEntityID:t,metadataListEntityID:n,listType:p,listStyle:h,component:bkt,initialSize:20,previewSize:u?null:3,listTitle:D,titleButtonTitle:u?Object(Ze.default)("See Recent Episodes"):Object(Ze.default)("See All Episodes"),titleButtonRoute:V.join(window.location.hash,{allEpisodes:u?void 0:1},{parseParams:!0}),viewportWidth:S,viewportHeight:g,contentHeight:C,scrollTop:y}):null,m?Vu()(rze,{},void 0,Vu()(zLt,{serverEntityID:e,providerEntityID:t})):null))}};const{Component:SUt}=Nd.a;var CUt=Vu()(tf,{}),MUt=Vu()(dze,{});var DUt=class extends SUt{constructor(e,t){super(e,t),this.onContentMeasure=({width:e,height:t})=>{this.setState({isContentMeasured:!0,contentWidth:e,contentHeight:t})},this.state={isContentMeasured:!1,contentWidth:null,contentHeight:null}}shouldComponentUpdate(e,t){return Tp(this,e,t)}render(){const{serverEntityID:e,providerEntityID:t,metadataItemEntityID:i,metadataListEntityID:n,onDeckMetadataItemEntityID:a,extrasMetadataListEntityID:s,metadataKey:r,attributionLogo:o,title:l,type:c,year:d,contentRating:u,summary:p,thumb:h,listType:m,listStyle:g,isListReady:v,pageWidth:y,pageHeight:f,scrollTop:b,columnAdjustment:I,watchlistedAt:S}=this.props,{isContentMeasured:C,contentWidth:M,contentHeight:D}=this.state,P=!(!C||!n);return Vu()(T0,{ignorePosition:!0,onMeasure:this.onContentMeasure},void 0,Vu()(hLt,{serverEntityID:e,providerEntityID:t,metadataItemEntityID:i,metadataKey:r,type:c,thumb:h,pageWidth:y,columnAdjustment:I},void 0,Vu()(rze,{},void 0,Vu()(bxe,{},void 0,Vu()(gxe,{},void 0,l),Vu()(Mxe,{},void 0,Vu()(Eze,{attributionLogo:o}),Vu()(TBe,{watchlistedAt:S}))),Vu()(jxe,{},void 0,Vu()(gxe,{},void 0,d),Vu()(VVe,{serverEntityID:e,providerEntityID:t,metadataItemEntityID:i})),Vu()(Nxe,{},void 0,Vu()(gxe,{},void 0,Vu()(aBe,{},void 0,a?Vu()("span",{},void 0,Object(Ze.default)("On Deck")," ",CUt,Vu()(jCe,{serverEntityID:e,providerEntityID:t,metadataItemEntityID:a})):Vu()(nCe,{serverEntityID:e,providerEntityID:t,metadataItemEntityID:i})),Vu()(GVe,{contentRating:u})),Vu()(DBe,{serverEntityID:e,providerEntityID:t,metadataItemEntityID:i}))),MUt,Vu()(rze,{},void 0,Vu()(Qze,{serverEntityID:e,providerEntityID:t,metadataItemEntityID:i}),Vu()(Mze,{},void 0,p))),Vu()(fLt,{},void 0,P?Vu()(_re,{serverEntityID:e,providerEntityID:t,metadataListEntityID:n,listType:m,listStyle:g,component:bkt,initialSize:20,viewportWidth:M,viewportHeight:f,contentHeight:D,scrollTop:b}):null,v?Vu()(rze,{},void 0,Vu()(ELt,{serverEntityID:e,providerEntityID:t,metadataItemEntityID:i}),s?Vu()(Pkt,{serverEntityID:e,providerEntityID:t,metadataItemEntityID:i,metadataListEntityID:s,title:Object(Ze.default)("Extras")}):null,Vu()(WLt,{serverEntityID:e,providerEntityID:t}),Vu()(zLt,{serverEntityID:e,providerEntityID:t})):null))}};const{Component:PUt}=Nd.a;var OUt=Vu()(dze,{});var jUt=class extends PUt{constructor(e,t){super(e,t),this.onContentMeasure=({width:e,height:t})=>{this.setState({isContentMeasured:!0,contentWidth:e,contentHeight:t})},this.state={isContentMeasured:!1,contentWidth:null,contentHeight:null}}shouldComponentUpdate(e,t){return Tp(this,e,t)}render(){const{serverEntityID:e,providerEntityID:t,metadataItemEntityID:i,metadataListEntityID:n,metadataKey:a,title:s,type:r,subtype:o,summary:l,showAddToSaved:c,thumb:d,allEpisodes:u,listType:p,listStyle:h,isListReady:m,pageWidth:g,pageHeight:v,scrollTop:y,columnAdjustment:f}=this.props,{isContentMeasured:b,contentWidth:I,contentHeight:S}=this.state,C=!(!b||!n);return Vu()(T0,{ignorePosition:!0,onMeasure:this.onContentMeasure},void 0,Vu()(hLt,{serverEntityID:e,providerEntityID:t,metadataItemEntityID:i,metadataKey:a,type:r,subtype:o,thumb:d,pageWidth:g,columnAdjustment:f},void 0,Vu()(rze,{},void 0,Vu()(bxe,{},void 0,Vu()(gxe,{},void 0,s)),Vu()(Nxe,{},void 0,Vu()(gUt,{serverEntityID:e,providerEntityID:t,metadataItemEntityID:i}),Vu()(DBe,{serverEntityID:e,providerEntityID:t,metadataItemEntityID:i}))),OUt,Vu()(rze,{},void 0,Vu()(Mze,{dangerouslySetInnerHTML:{__html:l}}),c?Vu()(hUt,{className:yUt.a.addToSavedButton,serverEntityID:e,providerEntityID:t,metadataItemEntityID:i}):null)),Vu()(fLt,{},void 0,C?Vu()(_re,{serverEntityID:e,providerEntityID:t,metadataListEntityID:n,listType:p,listStyle:h,component:bkt,initialSize:20,previewSize:u?null:3,listTitle:u?Object(Ze.default)("All Episodes"):Object(Ze.default)("Recent Episodes"),titleButtonTitle:u?Object(Ze.default)("See Recent Episodes"):Object(Ze.default)("See All Episodes"),titleButtonRoute:V.join(window.location.hash,{allEpisodes:u?void 0:1},{parseParams:!0}),viewportWidth:I,viewportHeight:v,contentHeight:S,scrollTop:y}):null,m?Vu()(rze,{},void 0,Vu()(zLt,{serverEntityID:e,providerEntityID:t})):null))}};const wUt=Nd.a.createElement,{Component:TUt}=Nd.a,EUt={movie:bRt,show:DUt,season:tUt,episode:dRt,artist:Qkt,album:_Lt,photoalbum:CRt,clip:bRt,playlist:Xzt,collection:Ykt,game:bRt},NUt={podcast:{show:IUt,track:pRt},webshow:{show:jUt,episode:mRt}},xUt={movie:yRt,show:lUt,episode:lRt};const AUt=Yrt(class extends TUt{componentDidMount(){this.props.onLibraryChange(this.props.providerIdentifier,this.props.librarySectionID),this.props.onBackgroundChange(this.props.backgroundImageUrl,!!this.props.art),this.props.onThemeMusicChange(this.props.theme),this.props.isRemotePlayer&&this.props.onMirrorDetails()}componentDidUpdate(e){const{librarySectionID:t,providerIdentifier:i,backgroundImageUrl:n,art:a,theme:s,isRemotePlayer:r,onLibraryChange:o,onBackgroundChange:l,onThemeMusicChange:c,onMirrorDetails:d}=this.props;t!==e.librarySectionID&&o(i,t),e.backgroundImageUrl!==n&&l(n,!!a),e.theme!==s&&c(s),!e.isRemotePlayer&&r&&d()}componentWillUnmount(){this.props.onLibraryChange(null,null)}render(){const e=this.props,{providerIdentifier:t,providerMetricsIdentifier:i,type:n,subtype:a,art:s,listStyle:r}=e,o=Xe()(e,["providerIdentifier","providerMetricsIdentifier","type","subtype","art","listStyle","onBackgroundChange"]),l=function(e,t,i){if(!e)return TAt;const n=jt.k(i,jt.c),a=NUt[t],s=(n?xUt:EUt)[e];return a&&a[e]||s||EAt}(n,a,t),c=n===Qt.h;return Vu()(wAt,{identifier:i,type:n,style:r,showArtwork:!!s},void 0,wUt(l,tp()({type:n,subtype:a,art:s,listStyle:r,showGenres:!c,showStreams:!c},o)))}},(function(e){return{descendantKey:e.ui.prePlayPage.descendantKey}}),(function(e,t){e(qze({serverEntityID:t.serverEntityID,providerEntityID:t.providerEntityID,metadataItemEntityID:t.metadataItemEntityID,descendantKey:t.descendantKey}))}));var LUt=kK((function(){return Object(Wu.a)(IT,ZS,$K(),Object(Wu.a)($K(),e=>{if(!e||!e.childrenKey)return;const t=e.key,i=e.skipChildren?"grandchildren":"children";return V.join([t,i])}),DAt,MAt,GDt,PAt(),Object(Wu.a)(Rre(),e=>!(!e||!e.isPopulated)),HEe,Unt(),(e,t,i,n,a,s,r,o,l,c,d)=>{const{type:u,subtype:p}=i,h=Tae(u,p,i,fc),m=h||i.thumb||i.parentThumb||i.grandparentThumb,g=i.grandparentArt||i.parentArt||i.art,v=i.grandparentTheme||i.parentTheme||i.theme,y=a?g||m:m||g,f=qEt(r,fc,o,i.subtype,t),b=MT(e,t.features.actions.save);return{librarySectionID:i.librarySectionID,providerIdentifier:t.identifier,providerMetricsIdentifier:t.metricsIdentifier,metadataKey:i.key,descendantKey:n,attribution:i.attribution,attributionLogo:i.attributionLogo,title:i.title,type:i.type,subtype:i.subtype,year:i.year,contentRating:i.contentRating,minYear:i.minYear,maxYear:i.maxYear,summary:i.summary,showAddToSaved:b&&null!=i.saved,thumb:h,parentThumb:i.parentThumb,grandparentThumb:i.grandparentThumb,composite:i.composite,art:a?g:void 0,theme:s?v:void 0,backgroundImageUrl:y,playlistType:i.playlistType,isListReady:l,onDeckMetadataItemEntityID:i.onDeck,extrasMetadataListEntityID:i.extras,popularLeavesMetadataListEntityID:i.popularLeaves,listType:o,listStyle:f,isRemotePlayer:c,isEmbeddedServer:d,watchlistedAt:i.watchlistedAt}})}),(function(e,t){return{onLibraryChange(i,n){let a;t.sourceDirectory&&(a=t.sourceDirectory.id),!a&&n&&(a=n),e(xte({serverEntityID:t.serverEntityID,providerEntityID:t.providerEntityID,providerIdentifier:i,directoryID:a}))},onBackgroundChange(i,n){e(gQ({serverEntityID:t.serverEntityID,providerEntityID:t.providerEntityID,imageUrl:i,allowBlur:!n}))},onThemeMusicChange(i){e(vQ({serverEntityID:t.serverEntityID,providerEntityID:t.providerEntityID,theme:i}))},onMirrorDetails(){e(N7({serverEntityID:t.serverEntityID,providerEntityID:t.providerEntityID,metadataItemEntityID:t.metadataItemEntityID}))}}}))(AUt),kUt=i("3B9w"),RUt=i.n(kUt);const{Component:zUt}=Nd.a;var UUt=class extends zUt{constructor(e,t){super(e,t),this.onScrollPositionChange=({scrollTop:e})=>{this.setState({scrollTop:e})},this.onContentMeasure=({width:e,height:t,y:i})=>{(e||t)&&this.setState({isMeasured:!0,pageWidth:e,pageHeight:t,pageY:i})},this.state={scrollTop:0,isMeasured:!1,pageWidth:0,pageHeight:0,pageY:0}}shouldComponentUpdate(e,t){return Tp(this,e,t)}render(){const{serverEntityID:e,providerEntityID:t,metadataItemEntityID:i,metadataListEntityID:n,columnAdjustment:a,record:s,allEpisodes:r}=this.props,{scrollTop:o,isMeasured:l,pageWidth:c,pageHeight:d,pageY:u}=this.state;return Vu()(T0,{className:RUt.a.prePlayPageContentContainer,onMeasure:this.onContentMeasure},void 0,Vu()(L6e,{className:RUt.a.prePlayPageContent,scrollTop:o,onScrollPositionChange:this.onScrollPositionChange},void 0,l?Vu()(LUt,{serverEntityID:e,providerEntityID:t,metadataItemEntityID:i,metadataListEntityID:n,pageWidth:c,pageHeight:d,pageY:u,scrollTop:o,columnAdjustment:a,record:s,allEpisodes:r}):null))}};const VUt=Nd.a.createElement,{Component:BUt}=Nd.a;const FUt={dispatchPreFetch:Xze};var HUt=kK((function(){return Object(Wu.a)((e,{metricsContext:t})=>t,$S,ZS,$K(),(e,t,i,n={})=>{const a={legacy:1};return e&&(a.context=e),{to:cu(t,i,n.key,a),isDisabled:!n.key}})}),FUt)(class extends BUt{componentDidMount(){this._preFetch()}componentDidUpdate(e){this.props.metadataItemEntityID!==e.metadataItemEntityID&&this._preFetch()}_preFetch(){const{metadataItemEntityID:e,isDisabled:t,dispatchPreFetch:i}=this.props;t||i({metadataItemEntityID:e})}render(){const e=this.props,t=Xe()(e,["serverEntityID","providerEntityID","metadataItemEntityID","dispatchPreFetch","metricsPage","metricsContext"]);return VUt(D$,t)}}),_Ut=Vu()(Fxe,{}),WUt=Vu()(Vxe,{});var QUt=function({serverEntityID:e,providerEntityID:t,previousMetadataItemEntityID:i,nextMetadataItemEntityID:n}){return Vu()("div",{},void 0,Vu()(HUt,{serverEntityID:e,"data-qa-id":"toolbarPrevious",providerEntityID:t,metadataItemEntityID:i},void 0,_Ut),Vu()(HUt,{serverEntityID:e,"data-qa-id":"toolbarNext",providerEntityID:t,metadataItemEntityID:n},void 0,WUt))};var GUt=Object(Hu.b)((function(){return Object(Wu.a)((e,{metadataItemEntityID:t})=>t,Rre(),(e,t={})=>{const i=t.metadataItems,n=i.indexOf(e),a=n+1,s=n-1;let r,o;return s>-1&&(r=i[s]),a>0&&a<i.length&&(o=i[a]),{previousMetadataItemEntityID:r,nextMetadataItemEntityID:o}})}))(QUt);var KUt=function({title:e,to:t,isSelected:i}){return t?Vu()(oy,{to:t,isSelected:i},void 0,e):null};var YUt=kK((function(){return Object(Wu.a)((e,{selectedKey:t})=>t,(e,{metricsContext:t})=>t,$S,ZS,$K(),WSe(),(e,t,i,n,a={},s)=>(t&&({legacy:1}.context=t),{title:a.title,to:s,isSelected:e===a.key}))}))(KUt),qUt=i("RWya"),ZUt=i.n(qUt),JUt=Vu()(Jh,{});var XUt=function(e){const{serverEntityID:t,providerEntityID:i,metadataItemEntityIDs:n,isPending:a,error:s,selectedKey:r,target:o,isOpen:l,onMenuClose:c}=e,d=!!n.length,u=!d&&a,p=!d&&!a&&!!s,h=!d&&!u&&!p;return Vu()(Qv,{target:o,isOpen:l,size:_h,onMenuClose:c},void 0,u?Vu()("span",{className:ZUt.a.emptyContainer},void 0,JUt):null,p?Vu()("span",{className:ZUt.a.emptyContainer},void 0,Object(Ze.default)("Unable to load items")):null,h?Vu()("span",{className:ZUt.a.emptyContainer},void 0,Object(Ze.default)("No items")):null,n.map(e=>Vu()(YUt,{serverEntityID:t,providerEntityID:i,metadataItemEntityID:e,selectedKey:r},e)))};function $Ut(e){var t=e["aria-label"],i=e.className,n=e.style,a={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",id:"plex-icon-toolbar-add-to-watchlist-560"};a["aria-hidden"]=!t,a.style=n,a.className=Ad.a.plexIcon+(i?" "+i:"");var s=[Nd.a.createElement.apply(Nd.a,["path",{d:"M22.2 12H25.8V16.2H30V19.8H25.8V24H22.2V19.8H18V16.2H22.2V12Z"}].concat([])),Nd.a.createElement.apply(Nd.a,["path",{clipRule:"evenodd",d:"M42 6.15892C42 4.72113 40.8409 3.59998 39.411 3.59998H8.58903C7.15701 3.59998 6 4.74565 6 6.15892V42.9571C6 44.3949 6.90879 44.8173 8.02984 43.9554L21.9702 33.2377C23.0826 32.3824 24.9088 32.3758 26.0298 33.2377L39.9702 43.9554C41.0826 44.8107 42 44.3704 42 42.9571V6.15892ZM19.7759 30.3837L9.6 38.2073V7.19998H38.4V38.2073L28.2241 30.3837C26.9296 29.3885 25.382 28.9922 23.9927 28.9938C22.6046 28.9953 21.0627 29.3944 19.7759 30.3837Z"}].concat([]))];return t&&s.unshift(Nd.a.createElement("title",null,t)),Nd.a.createElement.apply(Nd.a,["svg",a].concat(s))}$Ut.propTypes={"aria-label":vc.a.string,className:vc.a.string,style:vc.a.object};var eVt=$Ut;function tVt(e){var t=e["aria-label"],i=e.className,n=e.style,a={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",id:"plex-icon-toolbar-remove-from-watchlist-560"};a["aria-hidden"]=!t,a.style=n,a.className=Ad.a.plexIcon+(i?" "+i:"");var s=[Nd.a.createElement.apply(Nd.a,["path",{clipRule:"evenodd",d:"M42 6.15892C42 4.72113 40.8409 3.59998 39.411 3.59998H8.58903C7.15701 3.59998 6 4.74565 6 6.15892V42.9571C6 44.3949 6.90879 44.8173 8.02984 43.9554L21.9702 33.2377C23.0826 32.3824 24.9088 32.3758 26.0298 33.2377L39.9702 43.9554C41.0826 44.8107 42 44.3704 42 42.9571V6.15892ZM21.4545 18L17.6361 14.1816L20.1817 11.636L24.0001 15.4544L27.8184 11.636L30.364 14.1816L26.5456 18L30.364 21.8183L27.8184 24.3639L24.0001 20.5456L20.1817 24.3639L17.6361 21.8184L21.4545 18Z"}].concat([]))];return t&&s.unshift(Nd.a.createElement("title",null,t)),Nd.a.createElement.apply(Nd.a,["svg",a].concat(s))}tVt.propTypes={"aria-label":vc.a.string,className:vc.a.string,style:vc.a.object};var iVt=tVt,nVt=Vu()(iVt,{}),aVt=Vu()(eVt,{});var sVt=function(e){const{watchlistedAt:t,onPress:i}=e;return Vu()(D$,{"data-qa-id":"toolbarAddToWatchList",tooltip:t?Object(Ze.default)("Remove from Watchlist"):Object(Ze.default)("Add to Watchlist"),onPress:i},void 0,t?nVt:aVt)};const rVt=Object(Wu.a)($K(),e=>({watchlistedAt:e.watchlistedAt}));var oVt=Object(Hu.b)(rVt,(function(e,t){const i={serverEntityID:t.serverEntityID,providerEntityID:t.providerEntityID,metadataItemEntityID:t.metadataItemEntityID};return{onPress(){e(Object(v7.s)(i))}}}))(sVt),lVt=Vu()(P8e,{});function cVt(e){const{markUnplayed:t,onPress:i}=e;return Vu()(D$,{"data-qa-id":"toolbarToggleWatched",tooltip:t?Object(Ze.default)("Mark as Unplayed"):Object(Ze.default)("Mark as Played"),onPress:i},void 0,lVt)}cVt.defaultProps={markUnplayed:!1};var dVt=cVt;function uVt(e){var t=e["aria-label"],i=e.className,n=e.style,a={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-artist-tv-icon-560"};a["aria-hidden"]=!t,a.style=n,a.className=Ad.a.plexIcon+(i?" "+i:"");var s=[Nd.a.createElement.apply(Nd.a,["path",{d:"M29.218 420.218h503v-308h-503v308zm307 28v56c0 .327 18.667.327 56 0v28h-224v-28h56c.327 0 .327-18.667 0-56l-224-.5c-.49 0 0-363.01 0-363.5 0-.49 559.51 0 560 0 .327 0 .327 121.333 0 364 0 .327-74.667.327-224 0zm-55.61-139.931c-15.108 0-27.356-12.248-27.356-27.356 0-15.109 12.248-27.357 27.357-27.357 15.108 0 27.356 12.248 27.356 27.357 0 15.108-12.248 27.356-27.356 27.356zm48.566 9.768c8.87-10.546 14.193-24.034 14.193-38.734 0-18.883-8.784-35.767-22.588-46.984l15.585-13.98c18.068 15.053 29.532 37.5 29.532 62.574 0 19.632-7.029 37.654-18.753 51.778l-17.97-14.654zm-87.808-86.457c-14.337 11.207-23.516 28.42-23.516 47.723 0 15.74 6.104 30.092 16.13 40.93l-16.068 13.195c-12.096-14.23-19.372-32.54-19.372-52.515 0-24.509 10.954-46.508 28.322-61.546l14.504 12.213zm130.092 126.117c18.58-20.945 29.84-48.372 29.84-78.394 0-34.317-14.712-65.243-38.253-86.974l14.355-13.014c26.627 25.193 43.209 60.677 43.209 99.988 0 34.688-12.911 66.396-34.241 90.683l-14.91-12.289zM194.603 195.78c-21.45 21.495-34.684 50.993-34.684 83.541 0 29.677 11.003 56.819 29.203 77.67l-14.864 12.335c-20.977-24.198-33.65-55.638-33.65-90.005 0-37.324 14.948-71.197 39.25-96.09l14.745 12.55z"}].concat([]))];return t&&s.unshift(Nd.a.createElement("title",null,t)),Nd.a.createElement.apply(Nd.a,["svg",a].concat(s))}uVt.propTypes={"aria-label":vc.a.string,className:vc.a.string,style:vc.a.object};var pVt=uVt;const hVt=Nd.a.createElement;var mVt=Vu()(pVt,{});var gVt=function(e){return hVt(D$,tp()({tooltip:Object(Ze.default)("Artist TV")},e),mVt)};function vVt(e){var t=e["aria-label"],i=e.className,n=e.style,a={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",id:"plex-icon-toolbar-play-radio-560"};a["aria-hidden"]=!t,a.style=n,a.className=Ad.a.plexIcon+(i?" "+i:"");var s=[Nd.a.createElement.apply(Nd.a,["path",{d:"M110.261 141.816c10.962-9.751 23.79-2.335 27.765 1.703 6.308 6.406 5.837 12.744 4.377 15.806-1.084 2.277-2.431 4.378-5.35 8.026-14.104 16.536-24.074 34.046-31.37 53.986-11.672 32.101-13.132 68.334-4.377 101.894 6.809 24.804 18.724 47.42 35.505 67.362 3.89 4.377 4.863 5.836 5.836 8.997.486 1.703.486 6.566-.244 8.755-1.459 4.62-4.863 8.269-9.727 9.97-1.216.487-14.377 4.39-23.144-2.43-1.46-.974-6.81-7.055-10.7-12.16-22.617-28.94-36.964-63.472-41.342-100.191-1.944-15.32-1.944-32.587-.243-47.908 4.621-39.639 20.67-76.846 46.448-107.243 3.892-4.621 4.657-4.867 6.566-6.566v-.001zm64.42 62.012c7.215-8.421 19.942-12.966 29.868-4.504 9.925 8.46 6.895 19.095 2.76 24.445-10.942 13.132-17.265 27.48-19.697 44.503-.486 3.89-.729 13.131-.243 17.509 1.459 18.725 8.511 35.262 20.67 49.61 3.162 3.647 4.62 6.322 4.864 10.455.486 7.054-4.395 13.258-11.186 15.565-14.348 4.871-23.388-2.675-28.494-8.754-20.671-25.778-29.426-58.608-24.562-91.681 3.161-20.914 12.067-40.863 26.02-57.148zM277.67 323.667c-11.548-.562-21.407-5.058-29.575-12.926-8.732-8.992-12.957-19.389-12.957-31.753 0-12.363 4.225-22.762 12.957-31.753 9.012-8.711 19.435-12.927 31.828-12.927 12.394 0 22.814 4.216 31.828 12.927 8.731 8.991 12.957 19.389 12.957 31.753s-4.226 22.76-12.957 31.753c-8.45 8.15-18.308 12.645-30.138 12.926-1.408.28-3.38.28-3.943 0zm172.069-181.852c1.91 1.7 2.675 1.946 6.566 6.566 25.777 30.399 41.827 67.606 46.448 107.244 1.701 15.321 1.701 32.587-.243 47.908-4.378 36.72-18.726 71.252-41.342 100.19-3.89 5.107-9.24 11.187-10.7 12.16-8.767 6.821-21.928 2.919-23.144 2.432-4.863-1.702-8.268-5.35-9.727-9.97-.73-2.19-.73-7.054-.244-8.755.973-3.162 1.946-4.621 5.836-8.998 16.78-19.941 28.696-42.557 35.505-67.361 8.755-33.56 7.295-69.794-4.376-101.894-7.297-19.941-17.267-37.451-31.372-53.987-2.918-3.648-4.265-5.748-5.35-8.026-1.459-3.062-1.93-9.4 4.378-15.806 3.975-4.037 16.802-11.454 27.765-1.703zm-64.576 62.013c13.953 16.284 22.86 36.234 26.021 57.148 4.864 33.073-3.89 65.902-24.561 91.68-5.107 6.079-14.147 13.626-28.495 8.754-6.792-2.306-11.672-8.511-11.186-15.564.243-4.134 1.702-6.81 4.863-10.456 12.16-14.348 19.212-30.885 20.67-49.61.487-4.378.244-13.618-.242-17.509-2.431-17.023-8.755-31.37-19.698-44.503-4.134-5.35-7.163-15.984 2.761-24.445 9.926-8.461 22.652-3.917 29.867 4.505z"}].concat([]))];return t&&s.unshift(Nd.a.createElement("title",null,t)),Nd.a.createElement.apply(Nd.a,["svg",a].concat(s))}vVt.propTypes={"aria-label":vc.a.string,className:vc.a.string,style:vc.a.object};var yVt=vVt;const fVt=Nd.a.createElement;var bVt=Vu()(yVt,{});var IVt=function(e){return fVt(D$,tp()({tooltip:Object(Ze.default)("Play Radio")},e),bVt)};function SVt(e){var t=e["aria-label"],i=e.className,n=e.style,a={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-toolbar-play-trailer-560"};a["aria-hidden"]=!t,a.style=n,a.className=Ad.a.plexIcon+(i?" "+i:"");var s=[Nd.a.createElement.apply(Nd.a,["path",{d:"m225.671 503.994c-.557.004-1.114.006-1.671.006-123.629 0-224-100.371-224-224 0-123.629 100.371-224 224-224 123.629 0 224 100.371 224 224 0 50.138-16.508 96.451-44.381 133.794 18.895-11.081 36.634-24.143 52.605-39.141 9.395-8.823 18.171-18.311 26.162-28.425 8.67-10.973 16.416-22.684 23.006-35.021 4.995-9.352 12.891-29.047 12.891-29.047l41.717 12.492c0 0-9.027 23.185-14.752 34.221-7.693 14.83-16.785 28.923-27.015 42.128-9.197 11.871-19.311 23.024-30.164 33.401-8.779 8.393-18.041 16.28-27.702 23.641-8.554 6.519-17.421 12.626-26.548 18.316-4.487 2.797-9.037 5.493-13.644 8.088-32.896 18.526-68.648 31.851-105.499 39.964-29.172 6.423-59.044 9.582-89.005 9.589l0-.006m-64.671-104.994c0 34.771 28.229 63 63 63 34.771 0 63-28.229 63-63 0-34.771-28.229-63-63-63-34.771 0-63 28.229-63 63m119-119c0 34.771 28.229 63 63 63 34.771 0 63-28.229 63-63 0-34.771-28.229-63-63-63-34.771 0-63 28.229-63 63m-238 0c0 34.771 28.229 63 63 63 34.771 0 63-28.229 63-63 0-34.771-28.229-63-63-63-34.771 0-63 28.229-63 63m154 0c0 15.454 12.546 28 28 28 15.454 0 28-12.546 28-28 0-15.454-12.546-28-28-28-15.454 0-28 12.546-28 28m-35-119c0 34.771 28.229 63 63 63 34.771 0 63-28.229 63-63 0-34.771-28.229-63-63-63-34.771 0-63 28.229-63 63"}].concat([]))];return t&&s.unshift(Nd.a.createElement("title",null,t)),Nd.a.createElement.apply(Nd.a,["svg",a].concat(s))}SVt.propTypes={"aria-label":vc.a.string,className:vc.a.string,style:vc.a.object};var CVt=SVt;const MVt=Nd.a.createElement;var DVt=Vu()(CVt,{});var PVt=function(e){return MVt(D$,tp()({tooltip:Object(Ze.default)("Play Trailer")},e),DVt)},OVt=i("hNn6"),jVt=i.n(OVt);const wVt=Nd.a.createElement;var TVt=Vu()(rde,{});var EVt=function(e){let t=Xe()(e,["title"]);return wVt(D$,tp()({tooltip:Object(Ze.default)("Record"),className:jVt.a.toolbarRecordButton,"data-qa-id":"toolbarRecord"},t),TVt)};const NVt=Nd.a.createElement;var xVt=Vu()(Z_,{});var AVt=function(e){return NVt(D$,tp()({tooltip:Object(Ze.default)("Settings"),"data-qa-id":"toolbarSettings"},e),xVt)};function LVt(e){var t=e["aria-label"],i=e.className,n=e.style,a={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-toolbar-sync-filled-560"};a["aria-hidden"]=!t,a.style=n,a.className=Ad.a.plexIcon+(i?" "+i:"");var s=[Nd.a.createElement.apply(Nd.a,["path",{d:"M280 518C148.6 518 42 411.4 42 280S148.6 42 280 42s238 106.6 238 238-106.6 238-238 238m0-112l112-112h-89.6V154h-44.8v140H168l112 112"}].concat([]))];return t&&s.unshift(Nd.a.createElement("title",null,t)),Nd.a.createElement.apply(Nd.a,["svg",a].concat(s))}LVt.propTypes={"aria-label":vc.a.string,className:vc.a.string,style:vc.a.object};var kVt=LVt;const RVt=Nd.a.createElement;var zVt=Vu()(kVt,{});var UVt=function(e){const{hasDownloadState:t,hasOwnSubscription:i,isDisabled:n,label:a,progress:s}=e,r=Xe()(e,["hasDownloadState","hasOfflineFile","hasOwnSubscription","isDisabled","label","progress"]),o=null!==s&&s>=0;return RVt(D$,tp()({},r,{isDisabled:n,tooltip:a,"data-qa-id":"toolbarSync"}),!i||t||o?Vu()(Yje,{progress:s,isDisabled:n,showIndeterminate:t}):zVt)};const{useCallback:VVt,useEffect:BVt}=Nd.a;var FVt=L8e((function(e){const{className:t,serverEntityID:i,providerEntityID:n,metadataItemEntityID:a,type:s,subtype:r,title:o,viewedLeafCount:l,unviewedLeafCount:c,isLiveTV:d,metricsPage:u,showRecord:p,showPlay:h,showPlayOverflow:m,showPlayTrailer:g,showPlayTrailerOverflow:v,showPlayRadio:y,showPlayRadioOverflow:f,showPlayArtistTV:b,showPlayArtistTVOverflow:I,showShuffle:S,showShuffleOverflow:C,showAddToPlaylist:M,showAddToPlaylistOverflow:D,showAddToSaved:P,showAddToWatchlist:O,showAddToWatchlistOverflow:j,showTogglePlayed:w,showTogglePlayedOverflow:T,showMarkPlayed:E,showMarkUnplayed:N,showEdit:x,showEditOverflow:A,showSettings:L,showSettingsOverflow:k,showSync:R,showSyncOverflow:z,showSyncDownload:V,showSyncDownloadOverflow:B,showOverflow:F,onPlayPress:H,onPlayLiveTVPress:_,onPlayTrailerPress:W,onPlayRadioPress:Q,onPlayArtistTVPress:G,onShufflePress:K,onEditPress:Y,onSyncPress:q,onCancelDownloadActivity:Z,onDeleteDownloadSubscription:J,onCreateDownloadSubscription:X}=e,$=py(),ee=Y9(e.onMarkPlayedConfirm),te=Y9(e.onMarkUnplayedConfirm),ie=Y9(),ne=Y9(),ae=Y9(),se=wse({metadataItemEntityID:a,metricsPage:u,providerEntityID:n,serverEntityID:i,onCancelDownloadActivity:Z,onDeleteDownloadSubscription:J,onCreateDownloadSubscription:X}),re=VVt(()=>{(h||m)&&H()},[H,h,m]),oe=VVt(()=>{(x||A)&&Y()},[x,A,Y]);return BVt(()=>(U.a.on("shortcut:playSelected",re),U.a.on("shortcut:edit",oe),()=>{U.a.off("shortcut:playSelected",re),U.a.off("shortcut:edit",oe)})),Vu()("div",{className:t},void 0,p?Vu()(EVt,{title:o,onPress:ie.onOpen}):null,h?Vu()(g8e,{playLabel:Object(Ze.default)("Play"),onPress:d?_:H}):null,g?Vu()(PVt,{onPress:W}):null,S?Vu()(I8e,{onPress:K}):null,y?Vu()(IVt,{onPress:Q}):null,b?Vu()(gVt,{onPress:G}):null,O?Vu()(oVt,{metadataItemEntityID:a,providerEntityID:n,serverEntityID:i}):null,M?Vu()(c8e,{serverEntityID:i,providerEntityID:n,metadataItemEntityID:a,onAddToPlaylistPress:ae.onOpen}):null,w&&E?Vu()(dVt,{type:s,subtype:r,onPress:ee.onOpen}):null,w&&N&&!E?Vu()(dVt,{type:s,subtype:r,markUnplayed:!0,onPress:te.onOpen}):null,x?Vu()(j4e,{onPress:Y}):null,L?Vu()(AVt,{onPress:ne.onOpen}):null,R?Vu()(M8e,{onPress:q}):null,V?Vu()(Ese,{component:UVt,metadataItemEntityID:a,providerEntityID:n,serverEntityID:i,onPress:se.onPress}):null,F?Vu()(p8e,{id:$.menuButtonID,iconComponent:R8e,label:Object(Ze.default)("More..."),isMenuOpen:$.isMenuOpen,onPress:$.onMenuButtonPress}):null,Vu()(gce,{serverEntityID:i,providerEntityID:n,metadataItemEntityID:a,allowRedirectOnDelete:!0,showPlay:m,showPlayTrailer:v,showPlayRadio:f,showPlayArtistTV:I,showQueuePlexMix:!1,showShuffle:C,showAddToPlaylist:D,showAddToSaved:P&&s!==Qt.o,showAddToWatchlist:j,showEdit:A,showSettings:k,showMarkPlayed:T&&E,showMarkUnplayed:T&&N,showSync:z,showSyncDownload:B,target:$.menuButtonID,isOpen:$.isMenuOpen,onMenuClose:$.onMenuClose}),E?Vu()($se,{isOpen:ee.isOpen,type:s,subtype:r,title:o,leafCount:c,onConfirm:ee.onConfirm,onCancel:ee.onClose}):null,M?Vu()(woe,{serverEntityID:i,providerEntityID:n,metadataItemEntityID:a,isOpen:ae.isOpen,onModalClose:ae.onClose}):null,N?Vu()($se,{isOpen:te.isOpen,type:s,subtype:r,title:o,leafCount:l,markUnplayed:!0,onConfirm:te.onConfirm,onCancel:te.onClose}):null,Vu()(uje,{serverEntityID:i,providerEntityID:n,metadataItemEntityID:a,isOpen:ie.isOpen,subscriptionType:s,onModalClose:ie.onClose}),V?Vu()(xse,{isOpen:se.isOpen,state:se.state,onConfirm:se.onConfirm,onClose:se.onClose}):null,Vu()(Sre,{serverEntityID:i,providerEntityID:n,metadataItemEntityID:a,isOpen:ne.isOpen,onModalClose:ne.onClose}))}),["showPlay","showPlayTrailer","showPlayRadio","showPlayArtistTV","showShuffle","showAddToWatchlist","showAddToPlaylist","showTogglePlayed","showEdit","showSettings","showSync","showSyncDownload"],["showPlayVersion","showPlayAll","showQueue","showPlayPlexMix","showPlayMusicVideo","showRefresh","showAnalyze","showFixMatch","showMatch","showUnmatch","showSplitApart","showOptimize","showDownload","showDelete","showDeleteVersion","showGetInfo"]);var HVt=kK((function(){return Object(Wu.a)($S,ZS,IT,$K(),Unt(),(e,t,i,n,a)=>{const{type:s,subtype:r,title:o,viewedLeafCount:l,unviewedLeafCount:c}=n,d=rse({server:e,provider:t,stableUser:i,metadataItem:n}),u=d.showMarkPlayed||d.showMarkUnplayed,p=!!t.protocols.livetv,h=!a&&e.isFullServer&&!!t.features.subscribe&&t.features.subscribe.flavor===Uae.b;return Object.assign({type:s,subtype:r,title:o,viewedLeafCount:l,unviewedLeafCount:c,isLiveTV:p,showRecord:h,showTogglePlayed:u},d)})}),(function(e,t){const i={serverEntityID:t.serverEntityID,providerEntityID:t.providerEntityID,metadataItemEntityID:t.metadataItemEntityID,metricsPage:t.metricsPage,metricsProperties:{context:t.metricsContext}};return{onPlayPress(){e(xT.x(i))},onPlayLiveTVPress(){e(cve(i))},onPlayTrailerPress(){e(xT.y(i))},onPlayRadioPress(){e(xT.z(Object.assign({playlistType:Kt.a},i)))},onPlayArtistTVPress(){e(xT.z(Object.assign({playlistType:Kt.c},i)))},onShufflePress(){e(xT.B(i))},onMarkPlayedConfirm(){e(fae(Object.assign({},i,{skipConfirm:!0})))},onMarkUnplayedConfirm(){e(yae(Object.assign({},i,{skipConfirm:!0})))},onEditPress(){e(tae(i))},onSyncPress(){e(cae(i))},onGetInfoPress(){e(nae(i))},onCancelDownloadActivity(){e(kae(i))},onDeleteDownloadSubscription(){e(zae(i))},onCreateDownloadSubscription(){e(Rae(i))}}}))(FVt);function _Vt(e){var t=e["aria-label"],i=e.className,n=e.style,a={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-toolbar-artwork-560"};a["aria-hidden"]=!t,a.style=n,a.className=Ad.a.plexIcon+(i?" "+i:"");var s=[Nd.a.createElement.apply(Nd.a,["path",{d:"m56 504h448v-448h-448v448m336-252l-106.2 106.2 103.8 103.8h-39.598l-126-126-126 126v-364h364v224l-70-70m-168-112c30.907 0 56 25.09 56 56 0 30.907-25.09 56-56 56-30.907 0-56-25.09-56-56 0-30.907 25.09-56 56-56"}].concat([]))];return t&&s.unshift(Nd.a.createElement("title",null,t)),Nd.a.createElement.apply(Nd.a,["svg",a].concat(s))}_Vt.propTypes={"aria-label":vc.a.string,className:vc.a.string,style:vc.a.object};var WVt=_Vt,QVt=i("GhuN"),GVt=i.n(QVt);const{Component:KVt,Fragment:YVt}=Nd.a;var qVt=Vu()(WVt,{});const ZVt=Yrt(class extends KVt{constructor(e,t){super(e,t),this._siblingsMenuButtonID=void 0,this.onSiblingsMenuButtonPress=e=>{this.setState({isSiblingsMenuOpen:!this.state.isSiblingsMenuOpen})},this.onSiblingsMenuClose=()=>{this.setState({isSiblingsMenuOpen:!1})},this.onToggleArtworkPress=e=>{this.props.onArtworkToggle(!this.props.isArtworkButtonSelected)},this.state={isSiblingsMenuOpen:!1},this._siblingsMenuButtonID=Mp()}shouldComponentUpdate(e,t){return Tp(this,e,t)}render(){const{serverEntityID:e,providerEntityID:t,metadataItemEntityID:i,siblingsMetadataListEntityID:n,sourceDirectory:a,metadataKey:s,grandparentTitle:r,parentTitle:o,title:l,skipParent:c,grandparentRoute:d,parentRoute:u,showArtworkButton:p,isArtworkButtonSelected:h,listType:m,listSubtype:g,listStyle:v,allListStyles:y}=this.props,{isSiblingsMenuOpen:f}=this.state;if(!s)return null;const b=!!n,I=m&&wc(y,v);return Vu()(Z2e,{className:b||p&&!I?GVt.a.altPageHeader:GVt.a.pageHeader},void 0,Vu()(Prt,{containerComponent:x$,serverEntityID:e,providerEntityID:t,sourceDirectory:a},void 0,r?Vu()(H$,{to:d,hasMenu:!1,isDisabled:!d},void 0,r):null,!c&&o?Vu()(H$,{to:u,hasMenu:!1,isDisabled:!u},void 0,o):null,l?Vu()(H$,{id:this._siblingsMenuButtonID,hasMenu:b,isMenuOpen:f,isDisabled:!b,onPress:this.onSiblingsMenuButtonPress},void 0,l):null,b?Vu()(_re,{serverEntityID:e,providerEntityID:t,metadataListEntityID:n,component:XUt,initialSize:1/0,target:this._siblingsMenuButtonID,isOpen:f,selectedKey:s,onMenuClose:this.onSiblingsMenuClose}):null),Vu()(R$,{},void 0,Vu()(HVt,{serverEntityID:e,providerEntityID:t,metadataItemEntityID:i}),p?Vu()(S4e,{className:GVt.a.divider}):null,p?Vu()(D$,{tooltip:h?Object(Ze.default)("Hide Artwork"):Object(Ze.default)("Show Artwork"),"data-qa-id":"toolbarToggleArtwork",isSelected:h,hideOnPress:!1,tooltipAttachment:I||b?"bottomCenter":"bottomRight",onPress:this.onToggleArtworkPress},void 0,qVt):null,I?Vu()(YVt,{},void 0,Vu()(S4e,{className:GVt.a.divider}),Vu()(b9e,{listType:m,listSubtype:g,listContext:fc,selectedListStyle:v,allListStyles:y})):null,b?Vu()(S4e,{className:GVt.a.divider}):null,b?Vu()(GUt,{serverEntityID:e,providerEntityID:t,metadataItemEntityID:i,metadataListEntityID:n}):null))}},(function(e){return{siblingKey:e.ui.prePlayPage.siblingKey}}),(function(e,t){e(Zze({serverEntityID:t.serverEntityID,providerEntityID:t.providerEntityID,siblingKey:t.siblingKey}))}));var JVt=kK((function(){return Object(Wu.a)((e,{metricsContext:t})=>t,e=>e.ui.prePlayPage,$S,ZS,NLt(),$K(),Object(Wu.a)($K(),e=>{if(!e)return;const t=e.skipParent,i=t?e.grandparentKey:e.parentKey;if(!i)return;const n=t?"grandchildren":"children";return V.join([i,n])}),DAt,GDt,PAt(),(e,t,i,n,a,s,r,o,l,c)=>{const{grandparentKey:d,parentKey:u,key:p,grandparentTitle:h,parentTitle:m,title:g,skipParent:v,subtype:y}=s,f=qEt(l,fc,c,y,n),b=Bwt(c,y,fc,n),I={legacy:1};return e&&(I.context=e),{siblingsMetadataListEntityID:t.siblingList,sourceDirectory:a,metadataKey:p,siblingKey:r,grandparentTitle:h,parentTitle:m,title:g,skipParent:v,grandparentRoute:cu(i,n,d,I),parentRoute:cu(i,n,u,I),showArtworkButton:!!s.art,isArtworkButtonSelected:o,listType:c,listSubtype:y,listStyle:f,allListStyles:b}})}),(function(e,t){return{onArtworkToggle(t){e(Object(Qu.l)({showPrePlayArtwork:t}))}}}))(ZVt),XVt=Vu()(dh,{},void 0,Vu()(Jh,{}));var $Vt=function(e){const{serverEntityID:t,providerEntityID:i,metadataItemEntityID:n,metadataListEntityID:a,showSpinner:s,showError:r,showNotFoundError:o,activeSelectionType:l,columnAdjustment:c,record:d,allEpisodes:u,multiSelectToolbarComponent:p}=e;return s?XVt:r?o?Vu()(vh,{title:Object(Ze.default)("The media you're looking for isn't here"),description:Object(Ze.default)("It may have been removed from the media server, or moved to a new location")},void 0,Vu()(zp,{to:"#",kind:Pp},void 0,Object(Ze.default)("Go home"))):Vu()(a$,{title:Object(Ze.default)("There was an unexpected error loading this item")}):Vu()(f$,{metricsPage:zd.eb,isMetricsDelegated:!0,disableBackgroundPreset:!0,scrollDirection:Zp},void 0,l?Vu()(t9e,{serverEntityID:t,providerEntityID:i,toolbarComponent:p,allowRedirectOnDelete:!0}):Vu()(JVt,{serverEntityID:t,providerEntityID:i,metadataItemEntityID:n}),Vu()(UUt,{serverEntityID:t,providerEntityID:i,metadataItemEntityID:n,metadataListEntityID:a,columnAdjustment:c,record:d,allEpisodes:u}))};function eBt(e){var t=e["aria-label"],i=e.className,n=e.style,a={strokeLinejoin:"round",strokeMiterlimit:"1.414",viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",id:"plex-icon-toolbar-remove-from-playlist-560"};a["aria-hidden"]=!t,a.style=n,a.className=Ad.a.plexIcon+(i?" "+i:"");var s=[Nd.a.createElement.apply(Nd.a,["path",{d:"m560 504h-336v-44.8h336zm0-134.4h-336v-44.8h336zm-464.965-188.478 63.357-63.357 31.679 31.678-63.357 63.357 63.357 63.357-31.679 31.678-63.357-63.356-63.356 63.356-31.679-31.678 63.357-63.357-63.357-63.357 31.679-31.678zm464.965 54.078h-252v-44.8h252zm0-134.4h-336v-44.8h336z"}].concat([]))];return t&&s.unshift(Nd.a.createElement("title",null,t)),Nd.a.createElement.apply(Nd.a,["svg",a].concat(s))}eBt.propTypes={"aria-label":vc.a.string,className:vc.a.string,style:vc.a.object};var tBt=eBt,iBt=Vu()(tBt,{});var nBt=function({onRemovePress:e}){return Vu()(D$,{tooltip:Object(Ze.default)("Remove from Playlist"),tooltipAttachment:"bottomRight",onPress:e},void 0,iBt)};var aBt=Object(Hu.b)(null,(function(e,t){return{onRemovePress(){e(CAt())}}}))(nBt);const sBt=Nd.a.createElement,{Component:rBt}=Nd.a;const oBt={dispatchChangeQuickSearchSettings:xte};const lBt=Yrt(class extends rBt{constructor(...e){super(...e),this.onLibraryChange=()=>{this.props.dispatchChangeQuickSearchSettings({serverEntityID:this.props.serverEntityID,providerEntityID:this.props.providerEntityID,providerIdentifier:jt.d,directoryID:this.props.librarySectionID})}}componentDidMount(){this.onLibraryChange()}componentDidUpdate(e){this.props.librarySectionID!==e.librarySectionID&&this.onLibraryChange()}componentWillUnmount(){this.props.dispatchChangeQuickSearchSettings({serverEntityID:this.props.serverEntityID,providerEntityID:this.props.providerEntityID,providerIdentifier:null,sectionID:null})}render(){const e=this.props,t=Xe()(e,["dispatchChangeQuickSearchSettings"]);return sBt($Vt,t)}},(function(e){const t=e.ui.playlistPage;return{serverEntityID:t.serverEntityID,metadataKey:t.metadataKey}}),(function(e,t){e(pAt({serverEntityID:t.serverEntityID,providerEntityID:t.providerEntityID,metadataKey:t.metadataKey})),e(gAt())}));var cBt=Object(Hu.b)((function(e,t){return Object(Wu.a)(e=>e.ui.playlistPage,Rg.a,zre,Object(Wu.a)(e=>e.ui.playlistPage.playlist,e=>e.ui.playlistPage.playlistItemList,uAt,XK,(e,t,i,n)=>{const a=n[e],s=a&&a.playlistType===Qt.k,r=t&&t.metadataItems.length;if(s&&r)return n[i[t.metadataItems[0]].metadataItem].librarySectionID}),(e,t,i,n)=>{const{playlist:a,isPlaylistPending:s,playlistError:r}=e,o=!s&&!!r;return{metadataItemEntityID:a,librarySectionID:n,showSpinner:s,showError:o,showNotFoundError:o&&404===r.status,columnAdjustment:t.columnAdjustment,activeSelectionType:i.activeSelectionType,multiSelectToolbarComponent:aBt}})}),oBt)(lBt);var dBt=Object(Hu.b)((function(){return Object(Wu.a)(NLt(),e=>({selectedSourceDirectoryID:e?e.id:null}))}))(Fit);var uBt=_u.extend({component(e){const{selectedServerID:t,selectedProviderID:i,params:n={}}=e,a=i||jt.d,s=Object(pt.a)(ht.n,t),r=Object(pt.a)(ht.k,a,s),o=Object(pt.a)(ht.g,n.key,s);return Vu()(gKe,{metricsContext:n.context},void 0,Vu()(Bh,{},void 0,Vu()(Nh,{},void 0,Vu()(dBt,{selectedMachineIdentifier:t,selectedProviderIdentifier:a,providerEntityID:r,metadataItemEntityID:o}),Vu()(Jnt,{serverEntityID:s},void 0,Vu()(cBt,{machineIdentifier:t,serverEntityID:s,providerEntityID:r,metadataKey:n.key})))))}}),pBt=Vu()(Fit,{});var hBt=_u.extend({component(e){const{selectedProviderID:t,params:i}=e,n=ST.a,a=Object(pt.a)(ht.n,n),s=Object(pt.a)(ht.k,t,a);return Vu()(gKe,{metricsContext:i.context},void 0,Vu()(Bh,{},void 0,Vu()(Nh,{},void 0,pBt,Vu()(SNt,{serverEntityID:a,providerEntityID:s},void 0,Vu()(cBt,{machineIdentifier:n,selectedProviderID:t,serverEntityID:a,providerEntityID:s,metadataKey:i.key})))))}});function mBt(e,t){var i,n=as(e,Qa.Content);if(n){var a=null!=(i=null==n?void 0:n.directories)?i:[];if(e.protocols.includes(Wa.LiveTV))return a.find(e=>e.hubKey&&!e.key);var{librarySectionID:s,isPlaylist:r}=t;return s?a.find(e=>!!e.id&&e.id===s):r?a.find(e=>e.type===Na.Playlist):void 0}}function gBt(e,t,i){switch(i){case Aa.Podcast:switch(t){case Na.Track:return 1===e?Object(Ze.default)("1 Episode"):Object(Ze.default)("{episodeCount} Episodes",{episodeCount:e})}}switch(t){case Na.Movie:return 1===e?Object(Ze.default)("1 Movie"):Object(Ze.default)("{movieCount} Movies",{movieCount:e});case Na.Show:return 1===e?Object(Ze.default)("1 Show"):Object(Ze.default)("{showCount} Shows",{showCount:e});case Na.Season:return Object(Ze.default)("Seasons");case Na.Episode:return 1===e?Object(Ze.default)("1 Episode"):Object(Ze.default)("{episodeCount} Episodes",{episodeCount:e});case Na.Album:return 1===e?Object(Ze.default)("1 Album"):Object(Ze.default)("{albumCount} Albums",{albumCount:e});case Na.Track:return 1===e?Object(Ze.default)("1 Track"):Object(Ze.default)("{trackCount} Tracks",{trackCount:e});default:return 1===e?Object(Ze.default)("1 Item"):Object(Ze.default)("{itemCount} Items",{itemCount:e})}}const{createContext:vBt,useContext:yBt,useMemo:fBt}=Nd.a,bBt=vBt({width:0,height:0,contentHeight:0,scrollTop:0,scrollLeft:0});function IBt(){return yBt(bBt)}function SBt({children:e,width:t,height:i,contentHeight:n,scrollTop:a,scrollLeft:s}){const r=fBt(()=>({width:t,height:i,contentHeight:n,scrollTop:a,scrollLeft:s}),[t,i,n,a,s]);return Vu()(bBt.Provider,{value:r},void 0,e)}var{useCallback:CBt,useEffect:MBt,useRef:DBt,useState:PBt}=Nd.a;var OBt=function(e){var t=PBt(0),i=t[1],n=t[0],a=DBt(null),s=CBt(e=>{a.current=e,a.current&&i(a.current.offsetTop)},[]);return MBt(()=>{a.current&&i(a.current.offsetTop)},[e]),[n,s]},jBt=Object(Wu.a)(Ay,e=>e.prePlay),{useMemo:wBt}=Nd.a;function TBt(){var{descendantListSourceURI:e}=Object(Hu.d)(jBt),t=wBt(()=>e?k1e(e):()=>{},[e]);return Object(Hu.d)(t)}var EBt={defaultFontFamily:'"Open Sans Semibold", "Helvetica Neue", Helvetica, Arial, sans-serif',boldFontFamily:'"Open Sans Bold", "Helvetica Neue", Helvetica, Arial, sans-serif',smallFontSize:"12px",smallIconFontSize:"12px",defaultFontSize:"13px",defaultIconFontSize:"14px",largeFontSize:"15px",headerFontSize:"24px",lineHeightComputed:"1.71428571"};var NBt=nj()({},EBt,{hubTitleLineHeight:"24px"});const{useCallback:xBt,useMemo:ABt}=Nd.a;function LBt(e){const t=Object(Hu.c)(),i=Object(Hu.d)(Dqe),n=ABt(()=>e.every(e=>i.items[wr.getIdentity(e)]),[e,i]),a=xBt(()=>{t(Er.actions.selectItems({items:e}))},[t,e]),s=xBt(()=>{t(Er.actions.deselectItems({items:e}))},[t,e]),r=xBt(()=>{n?s():a()},[n,s,a]);return{isSelectionActive:!!i.count,isSelected:n,onSelect:a,onDeselect:s,onToggleSelect:r}}var kBt=i("zJz3"),RBt=i.n(kBt);function zBt({className:e=RBt.a.titleContainer,selectedClassName:t=RBt.a.selectedTitleContainer,selectButtonClassName:i=RBt.a.selectButton,isSelected:n=!1,isSelectable:a,onSelectPress:s,title:r}){return Vu()("div",{className:n?t:e},void 0,a?Vu()(NV,{className:i,title:r,isSelected:n,onPress:s}):null,Vu()(t0e,{},void 0,r))}var UBt=i("6cmb"),VBt=i.n(UBt);const{useMemo:BBt}=Nd.a,FBt={height:parseInt(BV.tableRowHeight,10)};function HBt(e){var t;let{item:i,title:n}=e;const a=tj(Xe()(e,["item","title"])),s=BBt(()=>[Gmt,Zmt,$mt],[]),{onToggleSelect:r,isSelected:o}=LBt(null!=(t=null==i?void 0:i.items)?t:[]);if(!i)return null;const l=n||Object(Ze.default)("Disc {discNumber}",{discNumber:i.index});return Vu()("div",{style:a.style},void 0,Vu()(zBt,{className:VBt.a.titleContainer,selectedClassName:VBt.a.selectedTitleContainer,selectButtonClassName:VBt.a.selectButton,title:l,isSelectable:!0,isSelected:o,onSelectPress:r}),Vu()("div",{className:VBt.a.trackList},void 0,i.items.map((e,t)=>{var i;return Vu()(Mgt,{item:e,tableColumns:s,hasTransientActionsCell:!0,index:null!=(i=e.index)?i:t,isVirtual:!1,cellIndex:t,style:FBt},e.key)})))}var _Bt=i("x436"),WBt=i.n(_Bt);const QBt=Nd.a.createElement,{useCallback:GBt,useMemo:KBt}=Nd.a,YBt=parseInt(BV.v4PagePadding,10),qBt=parseInt(BV.v4ListSpacing,10),ZBt=parseInt(BV.v4PrePlayListTitleGap,10),JBt=parseInt(BV.v4PrePlayDividerHeight,10),XBt=parseInt(NBt.hubTitleLineHeight,10),$Bt=parseInt(BV.tableRowHeight,10),eFt=XBt+ZBt+2*JBt;function tFt({className:e=WBt.a.container,metadataItem:t}){var i;const{type:n,subtype:a}=t,[s,r]=Lg(),o=IBt(),{descendantListSourceURI:l}=Object(Hu.d)(jBt),{totalSize:c,items:d=[]}=null!=(i=TBt())?i:{},u=KBt(()=>{var e;return null!=(e=d.reduce((e,t)=>{const{parentIndex:i=1}=t,n=e[i];return n?n.items.push(t):e[i]={index:i,items:[t]},e},[]).filter(()=>!0))?e:[]},[d]),p=1===u.length?gBt(null!=c?c:0,Na.Track):void 0,h=KBt(()=>function(e){var t,i,{overscan:n=0,outerPaddingTop:a=0,outerPaddingRight:s=0,outerPaddingBottom:r=0,outerPaddingLeft:o=0,getCellHeights:l}=e;function c(e){var t=i.findIndex(t=>t>e),n=i.length-1;return-1===t?n:Math.min(Math.max(0,t-1),n)}return{getListMeasurements(e,n){var{viewportWidth:c,viewportHeight:d}=e,u=c-(o+s);t=l(u),i=[];var p=a;return t.forEach(e=>{i.push(p),p+=e}),{width:u,height:t.reduce((e,t)=>e+t,a+r),outerPaddingTop:a,outerPaddingRight:s,outerPaddingBottom:r,outerPaddingLeft:o,listTop:e.listTop,listLeft:e.listLeft,viewportWidth:c,viewportHeight:d}},getPositionForIndex(e,n){var{width:a}=n;return{column:1,row:e,cellX:o,cellY:i[e],cellWidth:a,cellHeight:t[e]}},getRangesForPosition(e,t,i,a){var{viewportHeight:s}=a,r=e+s-1,o=c(e-n*s),l=c(e),d=c(r),u=c(r+n*s);return{visibleStartIndex:fO(l,i),visibleEndIndex:fO(d,i),renderStartIndex:fO(o,i),renderEndIndex:fO(u,i)}}}}({overscan:1,getCellHeights:e=>u.map(e=>eFt+e.items.length*$Bt+qBt),outerPaddingRight:YBt,outerPaddingLeft:YBt}),[u]),[m,g]=OBt(o.contentHeight),v=GBt(e=>QBt(HBt,tp()({},e,{title:p})),[p]);return l&&c?QBt("div",{className:e,ref:g},Vu()(WKe,{containerServer:s,containerProvider:r,containerSourceURI:l,containerKey:t.childrenKey,containerType:n,containerSubtype:a,listStyle:_a.Table},void 0,Vu()(kqe,{items:d},void 0,Vu()(AO,{layout:h,cellComponentFactory:v,items:u,totalSize:c,scrollTop:o.scrollTop-m,scrollLeft:o.scrollLeft,viewportWidth:o.width,viewportHeight:o.height})))):null}var iFt=function(e,t){const{base:i,searchParams:n,hashPath:a,hashParams:s}=me(e);if(!a)return e;const r=Object(te.a)(s),o=Object.keys(r).reduce((e,i)=>(t.includes(i)||(e[i]=r[i]),e),{}),l=""+i+n+"#"+a;return Object.keys(o).length?l+"?"+Object(Q4.a)(o):l};const{Fragment:nFt,useCallback:aFt}=Nd.a;function sFt({kind:e,metadataItem:t,isLabeled:i,isDisabled:n}){var a=Vu()(UXe,{metadataItem:t});const s=aFt((t,s,r)=>Vu()(nFt,{},void 0,a,Vu()(T2e,{"data-qa-id":t?"preplay-delete-download":"preplay-download",kind:e,icon:t?kVt:LUe,title:t?Object(Ze.default)("Delete Download"):Object(Ze.default)("Download"),isLabeled:i,isDisabled:n||s,onPress:r})),[n,i,e,t]);return Vu()(wXe,{metadataItem:t,render:s})}var rFt=function(e){return Object(Wu.a)(aYe(e),jBt,(e,t)=>!!e.deletedAt||t.metadata.isMediaFileUnavailable)};function oFt(e){var t=e["aria-label"],i=e.className,n=e.style,a={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",id:"plex-icon-toolbar-add-560"};a["aria-hidden"]=!t,a.style=n,a.className=Ad.a.plexIcon+(i?" "+i:"");var s=[Nd.a.createElement.apply(Nd.a,["path",{clipRule:"evenodd",d:"M27.4286 27.4286V44.5714H20.5714V27.4286H3.42857V20.5714H20.5714V3.42859H27.4286V20.5714H44.5714V27.4286H27.4286Z"}].concat([]))];return t&&s.unshift(Nd.a.createElement("title",null,t)),Nd.a.createElement.apply(Nd.a,["svg",a].concat(s))}oFt.propTypes={"aria-label":vc.a.string,className:vc.a.string,style:vc.a.object};var lFt=oFt,cFt=i("kEeM"),dFt=i.n(cFt);const{Fragment:uFt,useCallback:pFt,useEffect:hFt,useMemo:mFt,useState:gFt}=Nd.a;function vFt({isPrimary:e,isDisabled:t,action:i,metadataItem:n,metadataItemState:a,onDeckMetadataItemState:s,isMediaFileUnavailable:r}){const o=Object(Hu.c)(),{metricsPage:l,metricsContextTuple:c}=Object(Zb.d)(),[d,u]=Lg(),{containerServer:p,containerProvider:h}=_Ke(),m=YZe({server:d,provider:u,metadataItem:n,metadataItemState:a}),g=TZe({containerServer:p,containerProvider:h,server:d,provider:u,metadataItem:n,metadataItemState:a,metricsPage:l,metricsContextTuple:c}),v=mqe(n),y=gpt(),f=e?Qg.Primary:Qg.Default,b=pFt((e={})=>{v(Object.assign({},e,{action:Rd.M})),g(xT.x({metricsProperties:e}))},[g,v]),I=pFt((e={})=>{v(Object.assign({},e,{action:Rd.M}));const t=jYe(n);o(cve({serverEntityID:d.entityID,providerEntityID:u.entityID,metricsPage:l,metricsContextTuple:c,metricsProperties:e,options:{type:Go.e,identifier:t.channelIdentifier}}))},[o,d,u,n,l,c,v]),S=pFt((e={})=>{v(Object.assign({},e,{action:Rd.gb})),g(xT.B({metricsProperties:e}))},[g,v]);let C=b;qqe(n)?C=I:n.type===Na.Artist&&(C=S);const M=pFt(()=>{m(nae())},[m]),D=pFt(()=>{C()},[C]),P=pFt(()=>{S()},[S]),O=pFt(()=>{v({action:Rd.Q}),g(xT.y())},[g,v]),j=pFt(()=>{v({action:Rd.R}),g(xT.z({playlistType:Kt.a}))},[g,v]),w=pFt(()=>{v({action:Rd.e}),o(Es.actions.toggleSavedRequested({server:d,provider:u,sourceURI:n.grandparentKey?Object(gs.a)({serverIdentifier:d.machineIdentifier,providerIdentifier:u.identifier,metadataItemKey:n.grandparentKey}):n.sourceURI,ratingKey:n.grandparentRatingKey||n.ratingKey,saved:!0}))},[o,n.grandparentKey,n.grandparentRatingKey,n.ratingKey,n.sourceURI,u,d,v]),T=pFt(e=>{v({action:e?Rd.f:Rd.Y}),o(Es.actions.toggleWatchlistRequested({server:d,provider:u,sourceURI:n.sourceURI,ratingKey:n.ratingKey,added:e}))},[o,n.ratingKey,n.sourceURI,u,d,v]),E=pFt(()=>{T(!0)},[T]),N=pFt(()=>{T(!1)},[T]),x=pFt(e=>{v({action:e?Rd.F:Rd.E}),o(Es.actions.playedStatusUpdateRequested({server:d,provider:u,sourceURI:n.sourceURI,ratingKey:n.ratingKey,played:e}))},[o,n.ratingKey,n.sourceURI,u,d,v]),A=Ffe(),L=pFt(()=>{x(!0),A.onClose()},[A,x]),k=Ffe(),R=pFt(()=>{x(!1),k.onClose()},[k,x]),z=Ffe(),V=Ffe(),B=Ffe(),F=cy(),H=pFt(()=>{v({action:Rd.w}),m(tae())},[m,v]),_=pFt(()=>{"isMarkPlayedVisible"===i?A.onOpen():k.onOpen()},[i,A,k]);switch($u(()=>{const e=Se.a.parseBoolean(y.autoplay);e&&window.history.replaceState(null,"",iFt(window.location.href,["autoplay"])),e&&"isPlayVisible"===i&&!r&&C({setting:"autoplay"})}),$u(()=>{"isRecordVisible"===i&&y.record&&!z.isOpen&&z.onOpen()}),hFt(()=>{if("isPlayVisible"===i)return U.a.on("shortcut:playSelected",D),()=>{U.a.off("shortcut:playSelected",D)}}),hFt(()=>{if("isEditVisible"===i)return U.a.on("shortcut:edit",H),()=>{U.a.off("shortcut:edit",H)}}),hFt(()=>{if("isMarkPlayedVisible"===i||"isMarkUnplayedVisible"===i)return U.a.on("shortcut:togglePlayed",_),()=>{U.a.off("shortcut:togglePlayed",_)}}),i){case"isPlayVisible":return Vu()(T2e,r?{kind:Qg.Danger,title:Object(Ze.default)("Unavailable"),isLabeled:!0,isDisabled:t,onPress:M}:{"data-qa-id":"preplay-play",kind:f,icon:r4e,title:EZe(n,a,s),isLabeled:e,isDisabled:t,onPress:D});case"isPlayTrailerVisible":return Vu()(T2e,{"data-qa-id":"preplay-trailer",kind:f,icon:CVt,title:Object(Ze.default)("Play Trailer"),isLabeled:e,isDisabled:t,onPress:O});case"isShuffleVisible":return Vu()(T2e,{"data-qa-id":"preplay-shuffle",kind:f,icon:y8e,title:Object(Ze.default)("Shuffle"),isLabeled:e,isDisabled:t,onPress:P});case"isPlayRadioVisible":return Vu()(T2e,{"data-qa-id":"preplay-radio",kind:f,icon:yVt,title:Object(Ze.default)("Play Radio"),isLabeled:e,isDisabled:t,onPress:j});case"isMarkPlayedVisible":case"isMarkUnplayedVisible":{const s="isMarkPlayedVisible"===i;return Vu()(uFt,{},void 0,Vu()(T2e,{"data-qa-id":"preplay-togglePlayedState",kind:f,icon:s?e4e:i4e,title:s?Object(Ze.default)("Mark as Played"):Object(Ze.default)("Mark as Unplayed"),isLabeled:e,isDisabled:t,onPress:s?A.onOpen:k.onOpen}),Vu()($se,{isOpen:s?A.isOpen:k.isOpen,type:n.type,subtype:n.subtype,title:n.title,leafCount:s?a.unviewedLeafCount:a.viewedLeafCount,markUnplayed:k.isOpen,onConfirm:s?L:R,onCancel:s?A.onClose:k.onClose}))}case"isAddToSavedVisible":return Vu()(T2e,{"data-qa-id":"preplay-addToSaved",iconClassName:dFt.a.addIcon,kind:f,icon:lFt,title:nJe(u.identifier,a.saved,n.subtype),isLabeled:e,isDisabled:t,onPress:w});case"isAddToWatchlistVisible":return Vu()(T2e,{"data-qa-id":"preplay-addToWatchlist",kind:f,icon:eVt,title:Object(Ze.default)("Add to Watchlist"),isLabeled:e,isDisabled:t,onPress:E});case"isRemoveFromWatchlistVisible":return Vu()(T2e,{"data-qa-id":"preplay-removeFromWatchlist",kind:f,icon:iVt,title:Object(Ze.default)("Remove from Watchlist"),isLabeled:e,isDisabled:t,onPress:N});case"isAddToPlaylistVisible":return Vu()(uFt,{},void 0,Vu()(T2e,{"data-qa-id":"preplay-playlist",id:F,kind:f,icon:oAe,title:Object(Ze.default)("Add to Playlist"),isLabeled:e,isDisabled:t,onPress:B.onToggle}),Vu()(OXe,{isOpen:V.isOpen,sourceURI:n.sourceURI,playlistType:BYe(n.type,n.subtype),defaultDestinationSource:n.source,defaultPlaylistTitle:n.title,onModalClose:V.onClose}),Vu()(Qv,{className:dFt.a.menu,target:F,isOpen:B.isOpen,onMenuClose:B.onClose},void 0,Vu()(zJe,{sourceURI:n.sourceURI,playlistType:BYe(n.type,n.subtype),onAddToPlaylistPress:V.onOpen,onMenuClose:B.onClose})));case"isSyncDownloadVisible":return Vu()(sFt,{metadataItem:n,kind:f,isLabeled:e,isDisabled:t});case"isEditVisible":return Vu()(T2e,{"data-qa-id":"preplay-edit",kind:f,icon:X2e,title:Object(Ze.default)("Edit"),isLabeled:e,isDisabled:t,onPress:H});case"isRecordVisible":{const i=a.grandparentSubscriptionType||a.subscriptionType||n.type;return Vu()(uFt,{},void 0,Vu()(T2e,{"data-qa-id":"preplay-record",kind:Qg.Primary,icon:i===Na.Show?yOe:bOe,title:null==a.grandparentSubscriptionID&&null==a.subscriptionID?Object(Ze.default)("Record"):Object(Ze.default)("Modify"),isLabeled:e,isDisabled:t,onPress:z.onOpen}),Vu()(eJe,{metadataItem:n,metadataItemState:a},void 0,({serverEntityID:e,providerEntityID:t,metadataItemEntityID:n,onMarkStale:a})=>Vu()(uje,{isOpen:z.isOpen,serverEntityID:e,providerEntityID:t,metadataItemEntityID:n,subscriptionType:i,metricsProperties:{page:l,contextTuple:c},onModalClose:Cb(a,z.onClose)})))}}return null}function yFt({metadataItem:e,promotedActions:t}){var i;const n=cy(),a=gFt(!1),s=a[1],r=a[0],[o,l]=Lg(),c=Object(Hu.d)(IT),d=Object(Hu.d)(E2e),u=rYe(e.sourceURI),p=rYe(null==(i=e.onDeck)?void 0:i.sourceURI),h=mFt(()=>rFt(e.sourceURI),[e.sourceURI]),m=Object(Hu.d)(h),g=mqe(e),v=YZe({server:o,provider:l,metadataItem:e,metadataItemState:u}),y=jJe({server:o,provider:l,stableUser:c,metadataItem:e,metadataItemState:u}),f=function(e,t){return Object.keys(e).reduce((i,n)=>{const a=n;return i[a]=!t.includes(a)&&e[a],i},{})}(y,t),b=pFt(()=>{s(!r)},[r]),I=pFt(()=>{s(!1)},[]),S=pFt(()=>{g({action:Rd.C}),v(nae())},[v,g]);return hFt(()=>{if(y.isGetInfoVisible)return U.a.on("shortcut:info",S),()=>{U.a.off("shortcut:info",S)}}),Vu()(uvt,{className:dFt.a.container},void 0,t.filter(e=>y[e]).map((t,i)=>"isMarkUnplayedVisible"===t&&y.isMarkPlayedVisible?null:Vu()(vFt,{isPrimary:0===i,isDisabled:d,action:t,metadataItem:e,metadataItemState:u,isMediaFileUnavailable:m,onDeckMetadataItemState:p},t)),Object.keys(f).some(e=>f[e])?Vu()(T2e,{"data-qa-id":"preplay-more",id:n,icon:a4e,title:Object(Ze.default)("More"),isDisabled:d,onPress:b}):null,y.isRateVisible?Vu()(vqe,{className:d?dFt.a.disabledUserRating:void 0,metadataItem:e}):null,Vu()(YXe,{className:dFt.a.menu,target:n,isOpen:r,actionsOverride:f,metadataItem:e,onMenuClose:I}))}var fFt=i("OAeU"),bFt=i.n(fFt);function IFt({className:e=bFt.a.content,children:t}){return Vu()("div",{className:e},void 0,t)}function SFt({className:e,metadataItem:t}){const i=rYe(t.sourceURI);return null==i.viewOffset?null:Vu()("span",{className:e},void 0,Object(Ze.default)("Played for {duration}",{duration:Xm(i.viewOffset)}))}var CFt=function(e,t){return Object(Wu.a)(Spt(e),e=>e.find(e=>"grabber.grab"===e.type&&e.Context.itemKey&&e.Context.itemKey===t.key))},MFt=i("ISTI"),DFt=i.n(MFt);function PFt({className:e=DFt.a.DVRBadge,subscriptionType:t}){const i=t===Na.Show?yOe:bOe;return Vu()(i,{className:e})}var OFt=i("e/fv"),jFt=i.n(OFt);function wFt({children:e}){return Vu()("div",{className:jFt.a.status},void 0,e)}function TFt({children:e}){return Vu()("span",{className:jFt.a.label},void 0,e)}var EFt=Vu()(tf,{});function NFt({metadataItem:e,metadataItemState:t}){const{onDeck:i}=e,{viewOffset:n,unviewedLeafCount:a,watchlistedAt:s}=t,[r]=Lg(),o=Object(Hu.d)(RKe(wt.q)),l=Object(Hu.d)(CFt(r,e));return qqe(e)?t.subscriptionID||t.grandparentSubscriptionID?Vu()(wFt,{},void 0,t.grandparentSubscriptionType?Vu()(PFt,{className:jFt.a.recordingBadge,subscriptionType:t.grandparentSubscriptionType}):null,t.subscriptionType&&!t.grandparentSubscriptionType?Vu()(PFt,{className:jFt.a.recordingBadge,subscriptionType:t.subscriptionType}):null,Vu()(TFt,{},void 0,l?Object(Ze.default)("Recording"):Object(Ze.default)("Scheduled"))):null:i&&a?Vu()(wFt,{},void 0,Vu()(TFt,{},void 0,Object(Ze.default)("On Deck"),EFt,Object(nS.a)({seasonIndex:i.parentIndex,episodeIndex:i.index,date:i.originallyAvailableAt,noLeadingZero:!0,separator:"  "}))):n?Vu()(wFt,{},void 0,Vu()(TFt,{},void 0,e.type===Na.Game?Vu()(SFt,{metadataItem:e}):Vu()(Rmt,{metadataItem:e}))):s?Vu()(wFt,{},void 0,Vu()(pZe,{className:jFt.a.watchlistBadge}),Vu()(TFt,{},void 0,Object(Ze.default)("In Watchlist"))):o&&Zqe(e,t)?Vu()(wFt,{},void 0,Vu()(aZe,{className:jFt.a.playedBadge}),Vu()(TFt,{},void 0,Object(Ze.default)("Played"))):null}var xFt=i("QhHd"),AFt=i.n(xFt);function LFt({aspectRatio:e,metadataItem:t,children:i,isProgressBarHidden:n}){const a=rYe(t.sourceURI),s=cYe(t.sourceURI),r=IBt().width<800,o=null!=e?e:uYe(t.type,t.subtype);return Vu()("div",{className:AFt.a.container},void 0,r?null:Vu()("div",{className:AFt.a.posterContainer},void 0,Vu()(z$e,{metadataItem:t,metadataItemState:a,metadataTimelineState:s,width:o===16/9?300:250,aspectRatio:o,isSelectHidden:!0,isPlayButtonCard:!0,isPlayedStatusHidden:!0,isProgressBarHidden:n}),Vu()(NFt,{metadataItem:t,metadataItemState:a})),Vu()(IFt,{className:AFt.a.content},void 0,i))}var kFt=i("1Y+X"),RFt=i.n(kFt);function zFt({children:e,className:t=RFt.a.group}){return Vu()("div",{className:t,"data-qa-id":"preplayDetailsContainer"},void 0,e)}var UFt=i("S+4V"),VFt=i.n(UFt);function BFt({children:e,className:t=VFt.a.groupItem,labelClassName:i=VFt.a.label,contentClassName:n=VFt.a.content,label:a}){return Vu()("div",{className:t},void 0,Vu()("div",{className:i},void 0,a),Vu()("div",{className:n},void 0,e))}function FFt(e,t){var i=e.Stream;return i?i.filter(e=>e.streamType===t):[]}function HFt(e,t){var i=FFt(e,t);return t===za.Video?i[0]:i.find(e=>e.selected)}const{Fragment:_Ft}=Nd.a;function WFt({type:e,stream:t}){return Vu()("span",{},void 0,t?t.displayTitle:Vu()(_Ft,{},void 0,e===za.Subtitles?Object(Ze.default)("Off"):Object(Ze.default)("None")))}var QFt=i("NMOu"),GFt=i.n(QFt);const{Fragment:KFt,useCallback:YFt,useEffect:qFt,useState:ZFt}=Nd.a;function JFt({part:e,onSelect:t}){const i=cy(),n=Ffe(),a=ZFt(HFt(e,za.Audio)),s=a[1],r=a[0],o=FFt(e,za.Audio),l=YFt(e=>{const i=o.find(t=>t.id===e);s(i),t(Ua.Audio,e)},[o,t]);return qFt(()=>{s(HFt(e,za.Audio))},[e]),Vu()(KFt,{},void 0,o.length>1?Vu()(Dy,{id:i,isSelected:!0,direction:n.isOpen?hy:my,onPress:n.onToggle},void 0,Vu()(WFt,{type:za.Audio,stream:r})):Vu()(WFt,{type:za.Audio,stream:r}),Vu()(Qv,{target:i,isOpen:n.isOpen,size:_h,onMenuClose:n.onClose},void 0,o.map(e=>Vu()(oy,{menuLabelClassName:GFt.a.menuLabelClassName,value:e.id,isSelected:e===r,onSelect:Cb(l,n.onClose)},e.id,Vu()(WFt,{type:za.Audio,stream:e}),e.title?Vu()("span",{className:GFt.a.extendedTitle},void 0,e.title):null))))}var XFt=i("EtI4"),$Ft=i.n(XFt);const{Fragment:eHt,useCallback:tHt,useEffect:iHt,useState:nHt}=Nd.a;function aHt({metadataItem:e,part:t,onSelect:i,onDelete:n}){var a,s;const[r,o]=Lg(),l=rYe(e.sourceURI),c=Ffe(),d=Ffe(),u=!(!(null==(a=r.ownerFeatures)?void 0:a.includes(wt.x))||!Jqe(o)),p=!(!(null==(s=r.ownerFeatures)?void 0:s.includes(wt.y))||!Jqe(o)),h=cy(),m=Ffe(),g=Ffe(),v=nHt(),y=v[1],f=v[0],b=nHt(HFt(t,za.Subtitles)),I=b[1],S=b[0],C=FFt(t,za.Subtitles),M=tHt(e=>{const t=C.find(t=>t.id===e);I(t),i(Ua.Subtitles,e)},[i,C]),D=tHt(()=>{f&&n(f)},[n,f]);return iHt(()=>{I(HFt(t,za.Subtitles))},[t]),iHt(()=>{!l.isStreamDeletePending&&g.isOpen&&g.onClose()},[l.isStreamDeletePending]),Vu()(eHt,{},void 0,C.length||u||p?Vu()(Dy,{id:h,isSelected:!0,direction:m.isOpen?hy:my,onPress:m.onToggle},void 0,C.length?Vu()(WFt,{type:za.Subtitles,stream:S}):Object(Ze.default)("None")):Object(Ze.default)("None"),Vu()(Qv,{target:h,isOpen:m.isOpen,size:_h,isAutoCloseDisabled:g.isOpen,onMenuClose:m.onClose},void 0,C.length?Vu()(oy,{value:HC.a,isSelected:!S,onSelect:Cb(M,m.onClose)},HC.a,Vu()(WFt,{type:za.Subtitles})):null,C.map(e=>{const t=!!e.key&&r.isFullOwnedServer;return Vu()("div",{className:t?$Ft.a.externalMenuItemContainer:void 0},e.id,Vu()(oy,{className:t?$Ft.a.externalMenuItem:void 0,menuLabelClassName:$Ft.a.menuLabelClassName,value:e.id,isSelected:e===S,onSelect:Cb(M,m.onClose)},void 0,Vu()(WFt,{type:za.Subtitles,stream:e}),e.title?Vu()("span",{className:$Ft.a.extendedTitle},void 0,e.title):null),t?Vu()(eHt,{},void 0,Vu()(uO,{className:$Ft.a.externalDeleteButton,iconComponent:NI,ariaLabel:Object(Ze.default)("Delete Subtitle"),onPress:Cb(g.onOpen,()=>y(e.key))}),Vu()(F_,{isOpen:g.isOpen,isConfirmButtonSpinning:l.isStreamDeletePending,metricsPage:zd.n,kind:Op,title:Object(Ze.default)("Delete Subtitle File"),message:Object(Ze.default)("Are you sure you want to delete this subtitle file?"),confirmLabel:Object(Ze.default)("Delete"),onConfirm:D,onCancel:g.onClose})):null)}),u?Vu()(Zv,{onPress:Cb(c.onOpen,m.onClose)},void 0,Object(Ze.default)("Search...")):null,p?Vu()(Zv,{onPress:Cb(d.onOpen,m.onClose)},void 0,Object(Ze.default)("Upload...")):null),Vu()(eJe,{metadataItem:e,metadataItemState:l},void 0,({metadataItemEntityID:e,onMarkStale:t})=>Vu()(eHt,{},void 0,Vu()(ZUe,{metadataItemEntityID:e,isOpen:c.isOpen,onModalClose:Cb(c.onClose,t)}),Vu()(IVe,{metadataItemEntityID:e,isOpen:d.isOpen,onModalClose:Cb(d.onClose,t)}))))}const{useCallback:sHt}=Nd.a;function rHt({metadataItem:e}){const t=Object(Hu.c)(),[i,n]=Lg(),a=function(e){var t=e.Media;if(t.length)return 1===t.length?t[0]:Array.from(t).sort((e,t)=>{var i,n,a,s;return(null!=(i=t.width)?i:0)-(null!=(n=e.width)?n:0)||(null!=(a=t.bitrate)?a:0)-(null!=(s=e.bitrate)?s:0)})[0]}(e),s=(null==a?void 0:a.Part)&&a.Part[0],r=s?HFt(s,za.Video):void 0,o=sHt((a,r)=>{ys(null!=s,"A part is required to select a stream"),t(Es.actions.streamSelectRequested({server:i,provider:n,sourceURI:e.sourceURI,part:s,streamIDParam:a,streamID:r,allParts:!0}))},[t,e.sourceURI,s,n,i]),l=sHt(a=>{t(Es.actions.streamDeleteRequested({server:i,provider:n,sourceURI:e.sourceURI,streamKey:a}))},[t,e.sourceURI,n,i]);return s?Vu()(zFt,{},void 0,Vu()(BFt,{label:Object(Ze.default)("Video")},void 0,Vu()(WFt,{type:za.Video,stream:r})),Vu()(BFt,{label:Object(Ze.default)("Audio")},void 0,Vu()(JFt,{part:s,onSelect:o})),Vu()(BFt,{label:Object(Ze.default)("Subtitles")},void 0,Vu()(aHt,{metadataItem:e,part:s,onSelect:o,onDelete:l}))):null}function oHt(e){switch(e){case Na.Movie:return xa.Movie;case Na.Show:return xa.Show;case Na.Season:return xa.Season;case Na.Episode:return xa.Episode;case Na.Person:return xa.Person;case Na.Artist:return xa.Artist;case Na.Album:return xa.Album;case Na.Track:return xa.Track;case Na.Clip:return xa.Clip;case Na.Photo:return xa.Photo;case Na.PhotoAlbum:return xa.PhotoAlbum;case Na.Playlist:return xa.Playlist;case Na.Collection:return xa.Collection;case Na.Game:return xa.Game}!function(e){throw new Error('"'+e+'" is not mapped to a numeric type')}(e)}var lHt=i("8UDN"),cHt=i.n(lHt);const dHt=Nd.a.createElement;function uHt(e){let{className:t=cHt.a.tagsListLink}=e,i=Xe()(e,["className"]);return dHt(ev,tp()({className:t},i))}const pHt=({tag:e,server:t,provider:i,contentDirectory:n,metadataNumericType:a,fallbackFilter:s})=>{let r;if(e.type===Na.Directory&&e.key&&n)r=Xt(t,i,n,{key:e.key,title:e.tag});else if((e.filter||e.id)&&n){var o;const l={filters:null!=(o=e.filter)?o:s+"="+e.id,filterLabel:e.tag};a&&(l.type=a),e.context&&(l.context=e.context),r=fte(t,i,n,l)}return r};var hHt=({tag:e,server:t,provider:i,contentDirectory:n,metadataNumericType:a,fallbackFilter:s})=>{if(!n)return;let r;if(e.type===Na.Directory&&e.key)r=Xt(t,i,n,{key:e.key,pageType:Ya.List});else if(e.filter){const[s,o]=e.filter.split("=");r=Xt(t,i,n,{key:V.join([n.key,"all"],{type:a,[s]:o}),pageType:Ya.List})}else e.id&&s&&(r=Xt(t,i,n,{key:V.join([n.key,"all"],{type:a,[s]:e.id}),pageType:Ya.List}));return r};const{Fragment:mHt,useCallback:gHt,useState:vHt}=Nd.a;function yHt({className:e,metadataItem:t,linkClassName:i,tagName:n,limit:a=1/0}){const{type:s,[n]:r}=t,o=r.length,l=vHt(!1),c=l[1],d=l[0],u=function(e,t,i){return ys(e>1,"`limit` must be a value greater than 1"),i?t:t>e?e-1:e}(a,o,d),[p,h]=Lg(),m=Object(Hu.d)(Ast),g=Object(Hu.d)(Pg(p.machineIdentifier,h.identifier,t.librarySectionID)),v=gHt(()=>{c(!0)},[]);if(!o)return null;const y=oHt(s);return Vu()("span",{className:e},void 0,r.map((e,t)=>{if(t>=u)return;const n=m?hHt({tag:e,contentDirectory:g,server:p,provider:h,metadataNumericType:y}):pHt({tag:e,contentDirectory:g,server:p,provider:h,metadataNumericType:y});return Vu()("span",{},t,Vu()(uHt,{className:i,to:n,isDisabled:!n},void 0,e.tag),t+1<u&&t+1<o?", ":null)}),o>u?Vu()(mHt,{},void 0,u>1?", ":" ",Vu()(uHt,{onPress:v},void 0,Object(Ze.default)("and {count} more",{count:o-u}))):null)}const{Fragment:fHt}=Nd.a;function bHt({label:e,metadataItem:t}){const[i,n]=Lg(),a=Object(Hu.d)(Pg(i.machineIdentifier,n.identifier,t.librarySectionID)),{studio:s,Studio:r}=t;return Vu()(fHt,{},void 0,r.length?Vu()(BFt,{label:e},void 0,Vu()(yHt,{metadataItem:t,tagName:"Studio",limit:2})):null,!r.length&&s?Vu()(BFt,{label:e},void 0,Vu()(uHt,{to:fte(i,n,a,{filters:"studio="+encodeURIComponent(encodeURIComponent(s)),filterLabel:s,type:oHt(t.type)})},void 0,s)):null)}var IHt=i("jEUb"),SHt=i.n(IHt);function CHt({className:e=SHt.a.summary,dangerouslySetInnerHTML:t,children:i}){const n=i?i.split("\n"):[];return Vu()(bze,{className:e,dangerouslySetInnerHTML:t},void 0,n.length>1?n.map((e,t)=>Vu()("p",{},t,e)):i)}var MHt=Vu()(tf,{});function DHt({className:e,allowLink:t,metadataItem:i}){const{parentTitle:n}=i;return Vu()("div",{className:e},void 0,Vu()($Ye,{allowLink:t,metadataItem:i}),n?MHt:null,Vu()(nqe,{allowLink:t,metadataItem:i}))}var PHt=i("xAXV"),OHt=i.n(PHt);const jHt=Nd.a.createElement,wHt=parseInt(BV.trackCellPadding,10);function THt({style:e,index:t,cellIndex:i,cellHeight:n,metadataItem:a,metadataItemState:s}){const[r,o]=Lg(),l=Object(Hu.d)(IT),c=Object(Hu.d)(jmt(a,r)),d=Object(Hu.d)(Object(dgt.a)(A2e.a.AudioVideo,"isPaused")),{hoverRef:u,actionsMenuButtonID:p,isHovered:h,isActionsPending:m,isActionsVisible:g,isActionsMenuOpen:v,onActionsMenuClose:y,onActionsMenuCloseComplete:f,onActionsMenuToggle:b}=Gqe({server:r,provider:o,metadataItem:a,metadataItemState:s}),{type:I,subtype:S}=a,C=uYe(I,S),M=pYe({height:n-2*wHt,aspectRatio:C}),D=g&&cJe({server:r,provider:o,stableUser:l,metadataItem:a,metadataItemState:s});return jHt(tXe,{isAlternate:!!(i%2),isHovered:h,style:e,ref:u},Vu()(hht,{metadataItem:a,keyAttribute:"parentKey","aria-label":Kqe(a)}),Vu()("div",{className:OHt.a.overlay},void 0,Vu()("div",{className:OHt.a.container},void 0,Vu()("div",{className:OHt.a.indexPlayContainer},void 0,c||D?null:t,!c&&D?Vu()(UZe,{metadataItem:a}):null,c?Vu()(SAe,{isPaused:d}):null),Vu()("div",{className:OHt.a.posterContainer},void 0,Vu()(tC,{serverEntityID:r.entityID,providerEntityID:o.entityID,url:Yqe(a,{aspectRatio:C}),width:M.width,height:M.height,component:JI,preloadOnMount:!1,animateOnMount:!1})),Vu()("div",{className:OHt.a.titleContainer},void 0,Vu()(mYe,{className:OHt.a.title,metadataItem:a}),Vu()(DHt,{className:OHt.a.subtitle,metadataItem:a})),g?Vu()("div",{className:OHt.a.actions},void 0,Vu()($Xe,{id:p,className:OHt.a.actionsMenuButton,"data-qa-id":"metadataTrackMoreButton",isPending:m,onPress:b})):Vu()(zmt,{className:OHt.a.duration,metadataItem:a}))),Vu()(YXe,{target:p,isOpen:v,metadataItem:a,actionsOverride:{isPlayVisible:!1},onMenuClose:y,onMenuCloseComplete:f}))}function EHt(e){let{index:t,item:i}=e,n=Xe()(e,["index","item"]);const a=rYe(null==i?void 0:i.sourceURI),s=tj(n),{cellIndex:r,cellHeight:o}=n;return i?Vu()(YKe,{metadataItem:i,metadataItemState:a},void 0,Vu()(THt,{style:s.style,index:t,cellIndex:r,cellHeight:o,metadataItem:i,metadataItemState:a})):Vu()(aXe,{style:s.style,index:r})}var NHt=i("DJk6"),xHt=i.n(NHt);function AHt({className:e=xHt.a.divider}){return Vu()("div",{className:e})}var LHt=i("3Kzt"),kHt=i.n(LHt);const RHt=Nd.a.createElement,{useCallback:zHt,useEffect:UHt,useMemo:VHt,useState:BHt}=Nd.a,FHt=parseInt(BV.v4PagePadding,10),HHt={[Na.Track]:parseInt(BV.trackCellHeight,10),[Na.Album]:parseInt(BV.summaryCellHeight,10)};var _Ht=Vu()(AHt,{}),WHt=Vu()(AHt,{});function QHt({hub:e,onHubReady:t}){const{title:i,sourceURI:n,key:a,type:s,subtype:r,initialSize:o,random:l,style:c=_a.List,context:d,isStale:u}=e,p=Object(Hu.c)(),[h,m]=Lg(),g=IBt(),[v,y]=OBt(g.contentHeight),f=BHt(o<3?o:3),b=f[1],I=f[0],S=HHt[s],C=VHt(()=>ZJe({rowHeight:null!=S?S:0,outerPaddingRight:FHt,outerPaddingLeft:FHt,overscan:1}),[S]),M=VHt(()=>k1e(n),[n]),D=Object(Hu.d)(M),P=null==D?void 0:D.items.length,O=null==D?void 0:D.totalSize,j=null==O||l?o:O,w=zHt(e=>{p(Ts.actions.fetchRangeRequested(Object.assign({},e,{server:h,provider:m,sourceURI:n})))},[p,h,m,n]),T=zHt(()=>{b(j)},[j]),{isPlaceholder:E,placeholderItems:N}=s0e({hub:e,size:P,totalSize:O,placeholderSize:3,onPageRequest:w});UHt(()=>{!I&&P&&b(P<3?P:3)},[P,I]),UHt(()=>{u&&!l&&p(Ts.actions.throttledRepopulateRangeRequested({server:h,provider:m,sourceURI:n}))},[p,u,m,l,h,n]),UHt(()=>{t&&t(e)},[e,t]);const x=zHt(e=>s===Ha.Track?Vu()(Zb.a,{row:e.row,column:e.column},e.key,RHt(EHt,tp()({index:e.cellIndex+1},e))):RHt(Eht,e),[s]);return E||j?Vu()(Zb.a,{name:d},void 0,Vu()(WKe,{containerServer:h,containerProvider:m,containerSourceURI:D.sourceURI,containerKey:a,containerType:s,containerSubtype:r,listStyle:c},void 0,Vu()("div",{className:kHt.a.hubHeader},void 0,Vu()($1e,{hub:e},void 0,i)),_Ht,RHt("div",{ref:y},Vu()(AO,{layout:C,cellComponentFactory:x,keyPropName:"listItemKey",items:E?N:D.items,totalSize:E?N.length:I,scrollTop:g.scrollTop-v,scrollLeft:g.scrollLeft,viewportWidth:g.width,viewportHeight:g.height,onPageRequest:E?void 0:w})),WHt,!E&&I<j?Vu()("div",{className:kHt.a.showAllContainer},void 0,Vu()(ev,{onPress:T},void 0,Object(Ze.default)("Show All"))):null,Vu()("div",{className:kHt.a.belowHub}))):null}var GHt=i("ONyx"),KHt=i.n(GHt);const{useEffect:YHt}=Nd.a;function qHt({hub:e,onHubReady:t}){const i=e.style===_a.List?QHt:V1e,{serverIdentifier:n,providerIdentifier:a}=Object(sr.a)(e.sourceURI);return Vu()(kg,{machineIdentifier:n,providerIdentifier:a},void 0,Vu()(i,{hub:e,hubTitleComponent:$1e,onHubReady:t}))}var ZHt=Vu()(Jh,{});function JHt({metadataItem:e,onHubsReady:t}){const{augmentationKey:i}=e,n=Object(Hu.c)(),[a,s]=Lg(),{augmented:{hubs:r,isPending:o,isPopulated:l}}=Object(Hu.d)(jBt);return YHt(()=>{i&&n(Rr.actions.augmentedHubsFetchRequested({server:a,provider:s,augmentationKey:i}))},[n,i,s,a]),YHt(()=>{(!i||l&&!r.length)&&t()},[i,r.length,l,t]),i?!l&&o?Vu()("div",{className:KHt.a.spinnerContainer},void 0,ZHt):Vu()(Q1e,{hubs:r,hubComponent:qHt,onHubsReady:t}):null}var XHt=i("26nm"),$Ht=i.n(XHt);const{useEffect:e_t}=Nd.a;function t_t({hub:e,onHubReady:t}){const i=e.style===_a.List?QHt:V1e,{serverIdentifier:n,providerIdentifier:a}=Object(sr.a)(e.sourceURI);return Vu()(kg,{machineIdentifier:n,providerIdentifier:a},void 0,Vu()(i,{hub:e,hubTitleComponent:$1e,onHubReady:t}))}var i_t=Vu()(Jh,{});function n_t({metadataItem:e,onHubsReady:t}){const{key:i}=e,n=Object(Hu.c)(),[a,s]=Lg(),{related:{hubs:r,isPending:o,isPopulated:l}}=Object(Hu.d)(jBt),{isEmbedded:c}=a;return e_t(()=>{c||n(Rr.actions.relatedHubsFetchRequested({server:a,provider:s,metadataKey:i}))},[n,c,i,s,a]),e_t(()=>{c||l&&!r.length&&t()},[r.length,c,l,t]),c?null:o?Vu()("div",{className:$Ht.a.spinnerContainer},void 0,i_t):Vu()(Q1e,{hubs:r,hubComponent:t_t,onHubsReady:t})}var a_t=i("5Y3Z"),s_t=i.n(a_t);function r_t({className:e=s_t.a.rightTitle,children:t}){return Vu()("div",{className:e},void 0,t)}var o_t=i("JQa6"),l_t=i.n(o_t);function c_t({className:e=l_t.a.rightTitle,imgClassName:t=l_t.a.attributionLogo,metadataItem:i}){const{attribution:n,attributionLogo:a}=i;return a?Vu()(r_t,{className:e},void 0,Vu()("img",{src:a,className:t})):n?Vu()(r_t,{className:e},void 0,Vu()(pS,{attribution:n})):null}var d_t=i("NCdd"),u_t=i.n(d_t);function p_t({contentRating:e}){return e?Vu()(_H,{className:u_t.a.badge},void 0,BCe(e)):null}var h_t=i("WEzZ"),m_t=i.n(h_t);function g_t({className:e=m_t.a.tertiaryTitleSpacer,children:t}){return Vu()("span",{className:e},void 0,t)}const{Fragment:v_t}=Nd.a;function y_t({metadataItem:e}){const{duration:t,contentRating:i}=e;return Vu()(v_t,{},void 0,t?Vu()(g_t,{},void 0,Vu()(YYe,{metadataItem:e})):null,i?Vu()(g_t,{},void 0,Vu()(p_t,{contentRating:i})):null,Vu()(KYe,{metadataItem:e}))}var f_t=i("R/vz"),b_t=i.n(f_t);function I_t({className:e=b_t.a.leftTitle,children:t}){return Vu()("div",{className:e},void 0,t)}var S_t=i("U47K"),C_t=i.n(S_t);function M_t({className:e=C_t.a.primaryTitle,children:t}){return Vu()("div",{className:e,"data-qa-id":"preplay-mainTitle"},void 0,t)}var D_t=i("x5TN"),P_t=i.n(D_t);function O_t({className:e=P_t.a.secondaryTitle,children:t}){return Vu()("div",{className:e,"data-qa-id":"preplay-secondTitle"},void 0,t)}var j_t=i("0csW"),w_t=i.n(j_t);function T_t({className:e=w_t.a.tertiaryTitle,children:t}){return Vu()("div",{className:e,"data-qa-id":"preplay-thirdTitle"},void 0,t)}var{useRef:E_t}=Nd.a;function N_t(e,t){var i=E_t(0),n=E_t(void 0);return n.current||(n.current=Array.from({length:e}).map((n,a)=>()=>{i.current=i.current|2**a,i.current===2**e-1&&t()})),n.current}const{Fragment:x_t}=Nd.a;function A_t({metadataItem:e,onHubsReady:t}){const{year:i,summary:n,Genre:a,Style:s}=e,[r,o]=N_t(2,t);return Vu()(x_t,{},void 0,Vu()(LFt,{metadataItem:e},void 0,Vu()(M_t,{},void 0,Vu()(I_t,{},void 0,Vu()(nqe,{metadataItem:e})),Vu()(c_t,{metadataItem:e})),Vu()(O_t,{},void 0,Vu()(mYe,{metadataItem:e,allowLink:!1})),Vu()(T_t,{},void 0,i?Vu()(g_t,{},void 0,i):null,Vu()(y_t,{metadataItem:e})),Vu()(yFt,{metadataItem:e,promotedActions:["isPlayVisible","isShuffleVisible","isAddToPlaylistVisible","isSyncDownloadVisible","isEditVisible"]}),n?Vu()(CHt,{},void 0,n):null,Vu()(zFt,{},void 0,Vu()(bHt,{label:Object(Ze.default)("Record Label"),metadataItem:e}),a.length?Vu()(BFt,{label:Object(Ze.default)("Genre")},void 0,Vu()(yHt,{metadataItem:e,tagName:"Genre",limit:3})):null,s.length?Vu()(BFt,{label:Object(Ze.default)("Style")},void 0,Vu()(yHt,{metadataItem:e,tagName:"Style",limit:3})):null),Vu()(rHt,{metadataItem:e})),Vu()(tFt,{metadataItem:e}),Vu()(n_t,{metadataItem:e,onHubsReady:o}),Vu()(JHt,{metadataItem:e,onHubsReady:r}))}const{useCallback:L_t,useEffect:k_t,useState:R_t}=Nd.a;function z_t({className:e,selectedClassName:t,selectButtonClassName:i,metadataList:n,metadataItem:a}){var s,r;const o=Object(Hu.c)(),[l,c]=Lg(),{type:d,subtype:u,skipChildren:p}=a,h=p?TJe(d,u):wJe(d,u),m=R_t(!1),g=m[1],v=m[0],y=null!=(s=n.totalSize)?s:0,f=n.items.length,{onSelect:b,onToggleSelect:I,isSelected:S}=LBt(n.items);k_t(()=>{v&&(f<y?o(Ts.actions.fetchAllRequested({server:l,provider:c,sourceURI:n.sourceURI})):b())},[o,v,f,n.sourceURI,b,c,l,y]),k_t(()=>{S&&g(!1)},[S]);const C=L_t(()=>{f<y?g(!v):I()},[v,f,I,y]),M=gBt(null!=(r=n.totalSize)?r:0,null!=h?h:d,u);return Vu()(zBt,{className:e,selectedClassName:t,selectButtonClassName:i,title:M,isSelectable:s$e(c),isSelected:S||v,onSelectPress:C})}const U_t=Nd.a.createElement,{Fragment:V_t,useCallback:B_t,useMemo:F_t}=Nd.a,H_t=parseInt(BV.v4PagePadding,10);var __t=Vu()(AHt,{}),W_t=Vu()(AHt,{});function Q_t({items:e,totalSize:t,viewportWidth:i,viewportHeight:n,scrollTop:a,scrollLeft:s,onPageRequest:r}){const o=F_t(()=>xht({outerPaddingRight:H_t,outerPaddingLeft:H_t}),[]),l=B_t(e=>U_t(Eht,tp()({},e,{isParentDetailHidden:!0})),[]);return Vu()(V_t,{},void 0,__t,Vu()(AO,{layout:o,cellComponentFactory:l,keyPropName:"listItemKey",items:e,totalSize:t,scrollTop:a,scrollLeft:s,viewportWidth:i,viewportHeight:n,onPageRequest:r}),W_t)}const G_t=Nd.a.createElement,{useCallback:K_t,useMemo:Y_t}=Nd.a;function q_t({type:e,subtype:t,items:i,totalSize:n,viewportWidth:a,viewportHeight:s,scrollTop:r,scrollLeft:o,onPageRequest:l}){const c=Object(Hu.d)(m0e),{containerMeta:d}=_Ke(),u=Y_t(()=>smt({listType:e,subtype:t,columnWidth:c,listStyle:_a.PrePlayGrid,displayFields:null==d?void 0:d.DisplayFields,displayImages:null==d?void 0:d.DisplayImage}),[c,null==d?void 0:d.DisplayFields,null==d?void 0:d.DisplayImage,t,e]),p=K_t(e=>G_t(Q$e,e),[]);return Vu()(AO,{layout:u,cellComponentFactory:p,keyPropName:"listItemKey",items:i,totalSize:n,scrollTop:r,scrollLeft:o,viewportWidth:a,viewportHeight:s,onPageRequest:l})}var Z_t=i("1ggG"),J_t=i.n(Z_t);const X_t=Nd.a.createElement,{useCallback:$_t,useMemo:eWt}=Nd.a;function tWt({style:e,cellIndex:t,metadataItem:i,metadataItemState:n}){const[a,s]=Lg(),r=Object(Hu.d)(IT),o=Object(Hu.d)(jmt(i,a)),l=Object(Hu.d)(Object(dgt.a)(A2e.a.AudioVideo,"isPaused")),{hoverRef:c,actionsMenuButtonID:d,isHovered:u,isActionsPending:p,isActionsVisible:h,isActionsMenuOpen:m,onActionsMenuClose:g,onActionsMenuCloseComplete:v,onActionsMenuToggle:y}=Gqe({server:a,provider:s,metadataItem:i,metadataItemState:n}),{isSelected:f,isInSelectionRange:b,isSelectionActive:I,onToggleSelect:S}=Fqe({isHovered:u,metadataItem:i,metadataItemState:n}),C=eWt(()=>b?J_t.a.rangeListRow:f?J_t.a.selectedListRow:void 0,[b,f]),M=!I&&h,D=$_t(()=>{S()},[S]),P=M&&cJe({server:a,provider:s,stableUser:r,metadataItem:i,metadataItemState:n});return X_t(tXe,{className:C,alternateClassName:C,isAlternate:!!(t%2),isHovered:u,style:e,ref:c},s$e(s)?Vu()(yht,{isSelected:f,isInSelectionRange:b,isVisible:f||b||u,title:Kqe(i),onPress:D}):null,I?Vu()(ev,{className:J_t.a.selectOverlay,onPress:D}):Vu()(hht,{metadataItem:i,keyAttribute:"key","aria-label":Kqe(i)}),Vu()("div",{className:J_t.a.overlay},void 0,Vu()("div",{className:J_t.a.simpleSummaryContainer},void 0,Vu()("div",{className:J_t.a.indexPlayContainer},void 0,o||P?null:Vu()(mht,{className:J_t.a.titleEpisodeIndex,metadataItem:i}),!o&&P?Vu()(UZe,{metadataItem:i}):null,o?Vu()(SAe,{isPaused:l}):null),Vu()("div",{className:J_t.a.titleAndSummaryContainer},void 0,Vu()("div",{className:J_t.a.titleContainer},void 0,Vu()("div",{className:J_t.a.title},void 0,i.title),M?Vu()("div",{className:J_t.a.actions},void 0,Vu()($Xe,{id:d,"data-qa-id":"metadataRowMoreButton",isPending:p,onPress:y})):null),Vu()("div",{className:J_t.a.summary},void 0,function(e,t){const{tagline:i,summary:n}=t;return i||("html"===Bt(e.identifier)?xke(n):n)}(s,i))))),Vu()(YXe,{target:d,isOpen:m,metadataItem:i,actionsOverride:{isPlayVisible:!1},onMenuClose:g,onMenuCloseComplete:v}))}function iWt(e){let{item:t}=e,i=Xe()(e,["item"]);const n=rYe(null==t?void 0:t.sourceURI),a=tj(i),{cellIndex:s}=i;return t?Vu()(YKe,{metadataItem:t,metadataItemState:n},void 0,Vu()(tWt,{style:a.style,cellIndex:s,metadataItem:t,metadataItemState:n})):Vu()(aXe,{style:a.style,index:s})}var nWt=parseInt(BV.simpleSummaryCellHeight,10),aWt=parseInt(BV.v4PagePadding,10);var sWt=function(e){return ZJe(Object.assign({rowHeight:nWt,outerPaddingRight:aWt,outerPaddingLeft:aWt,overscan:2},e))},rWt=i("/Oxn"),oWt=i.n(rWt);const lWt=Nd.a.createElement,{Fragment:cWt,useCallback:dWt,useMemo:uWt,useState:pWt}=Nd.a;var hWt=Vu()(AHt,{}),mWt=Vu()(AHt,{});function gWt({items:e,totalSize:t,viewportWidth:i,viewportHeight:n,scrollTop:a,scrollLeft:s,onPageRequest:r}){const o=pWt(t<3?t:3),l=o[1],c=o[0],d=uWt(()=>sWt(),[]),u=dWt(()=>{l(t)},[t]),p=dWt(e=>lWt(iWt,e),[]);return Vu()(cWt,{},void 0,hWt,Vu()(AO,{layout:d,cellComponentFactory:p,keyPropName:"listItemKey",items:e,totalSize:c,scrollTop:a,scrollLeft:s,viewportWidth:i,viewportHeight:n,onPageRequest:r}),mWt,Vu()("div",{className:oWt.a.allEpisodesContainer},void 0,c<t?Vu()(ev,{onPress:u},void 0,Object(Ze.default)("Show All Episodes")):null))}var vWt=i("Bzgf"),yWt=i.n(vWt);const fWt=Nd.a.createElement;function bWt(e){let{iconContainerClassName:t=yWt.a.recordIconContainer,iconClassName:i=yWt.a.recordIcon}=e,n=Xe()(e,["iconContainerClassName","iconClassName"]);return fWt(ev,tp()({"aria-label":Object(Ze.default)("Record")},n),Vu()("span",{className:t},void 0,Vu()("span",{className:i})))}var IWt=i("a5AD"),SWt=i.n(IWt);const CWt=Nd.a.createElement;var MWt=Vu()(tf,{});function DWt({style:e,cellIndex:t,metadataItem:i,metadataItemState:n}){const{metricsPage:a,metricsContextTuple:s}=Object(Zb.d)(),[r,o]=Lg(),l=Object(Hu.d)(IT),c=Ffe(),[d,u]=bS(),p=i&&vJe({provider:o,server:r,stableUser:l,metadataItem:i,metadataItemState:n}),{summary:h}=i,{subscriptionID:m}=n;return CWt(tXe,{isAlternate:!!(t%2),isHovered:d,style:e,ref:u},Vu()(hht,{metadataItem:i,keyAttribute:"key","aria-label":Kqe(i)}),Vu()("div",{className:SWt.a.overlay},void 0,Vu()("div",{className:SWt.a.titleContainer},void 0,Vu()("div",{className:SWt.a.primaryTitle},void 0,Vu()(dqe,{className:SWt.a.titleEpisodeIndex,metadataItem:i}),MWt,Vu()(mYe,{metadataItem:i,allowLink:!1})),Vu()("div",{className:SWt.a.secondaryTitle},void 0,m?Vu()(bOe,{className:SWt.a.subscriptionIcon,"aria-label":Object(Ze.default)("Recording Scheduled")}):null,Vu()(NYe,{className:SWt.a.nextAiringDate,metadataItem:i}),h?Vu()(tf,{className:SWt.a.separator}):null,h)),d&&p?Vu()(bWt,{tabIndex:-1,onPress:c.onOpen}):null),Vu()(eJe,{metadataItem:i,metadataItemState:n},void 0,({serverEntityID:e,providerEntityID:t,metadataItemEntityID:r,onMarkStale:o})=>Vu()(uje,{isOpen:c.isOpen,serverEntityID:e,providerEntityID:t,metadataItemEntityID:r,subscriptionType:n.grandparentSubscriptionType||n.subscriptionType||i.type,metricsProperties:{page:a,contextTuple:s},onModalClose:Cb(o,c.onClose)})))}function PWt(e){let{item:t}=e,i=Xe()(e,["item"]);const n=rYe(null==t?void 0:t.sourceURI),a=tj(i),{cellIndex:s}=i;return t?Vu()(YKe,{metadataItem:t,metadataItemState:n},void 0,Vu()(DWt,{style:a.style,cellIndex:s,metadataItem:t,metadataItemState:n})):Vu()(aXe,{style:a.style,index:s})}const OWt=Nd.a.createElement,{Fragment:jWt,useCallback:wWt,useMemo:TWt}=Nd.a;var EWt=Vu()(AHt,{}),NWt=Vu()(AHt,{});function xWt({items:e,totalSize:t,viewportWidth:i,viewportHeight:n,scrollTop:a,scrollLeft:s,onPageRequest:r}){const o=TWt(()=>sWt({rowHeight:96}),[]),l=wWt(e=>OWt(PWt,e),[]);return Vu()(jWt,{},void 0,EWt,Vu()(AO,{layout:o,cellComponentFactory:l,keyPropName:"listItemKey",items:e,totalSize:t,scrollTop:a,scrollLeft:s,viewportWidth:i,viewportHeight:n,onPageRequest:r}),NWt)}var AWt=function(e){var t=os(Ha).find(([,t])=>t===e);return t?Ha[t[0]]:void 0},LWt=Object(Wu.a)(jBt,e=>e.metadata.metadataItem),kWt=Object(Wu.a)(LWt,e=>{if(e){var t=e.skipChildren?TJe(e.type,e.subtype):wJe(e.type,e.subtype),i=t?AWt(t):void 0;return i||void 0}}),RWt=Object(Wu.a)(LWt,kWt,(e,t)=>e?e.source+":"+e.librarySectionID+":"+t:void 0),zWt=Object(Wu.a)(LWt,kWt,(e,t)=>{if(!e||!t)return[];if(qqe(e))return[_a.SimpleDetails];switch(e.subtype){case Aa.Webshow:case Aa.Podcast:return[_a.SimpleDetails]}switch(t){case Ha.Album:case Ha.Episode:return[_a.PrePlayGrid,_a.Details];case Ha.Track:return[_a.Table];default:return[_a.PrePlayGrid]}}),UWt=Object(Wu.a)(zg("prePlayListStyles"),RWt,zWt,(e,t,i)=>{if(t&&i.length){var n=e[t];return!!n&&i.includes(n)?n:i[0]}}),VWt=i("kxlF"),BWt=i.n(VWt);const FWt=Nd.a.createElement,{useCallback:HWt}=Nd.a;function _Wt({className:e=BWt.a.listContainer,metadataItem:t}){const i=Object(Hu.c)(),[n,a]=Lg(),s=IBt(),{descendantListSourceURI:r}=Object(Hu.d)(jBt),o=Object(Hu.d)(kWt),l=Object(Hu.d)(UWt),c=TBt(),[d,u]=OBt(s.contentHeight),p=HWt(e=>{r&&i(Ts.actions.fetchRangeRequested(Object.assign({},e,{server:n,provider:a,sourceURI:r})))},[r,i,a,n]),h=function(e,t){switch(t){case _a.PrePlayGrid:return q_t;case _a.Details:return Q_t;case _a.SimpleDetails:return qqe(e)?xWt:gWt}throw new Error("Failed to map the preplay descendant list style to a list component. Check `selectPrePlayDescendantListStyles` for list style options.")}(t,l);return r&&o&&c&&c.totalSize?FWt("div",{className:e,ref:u},Vu()(WKe,{containerServer:n,containerProvider:a,containerSourceURI:r,containerKey:t.childrenKey,containerType:o,containerSubtype:t.subtype,listStyle:l},void 0,Vu()(z_t,{metadataList:c,metadataItem:t}),Vu()(kqe,{items:c.items},void 0,Vu()(h,{type:o,subtype:t.subtype,items:c.items,totalSize:c.totalSize,scrollTop:s.scrollTop-d,scrollLeft:s.scrollLeft,viewportWidth:s.width,viewportHeight:s.height,onPageRequest:p})))):null}const WWt=Nd.a.createElement,{useCallback:QWt,useMemo:GWt}=Nd.a;function KWt(){const[e,t]=Lg(),{extrasSourceURI:i}=Object(Hu.d)(jBt),n=GWt(()=>i?k1e(i):()=>{},[i]),a=Object(Hu.d)(n),s=Object(Hu.d)(m0e),r=GWt(()=>X$e({listType:Ha.Clip,subtype:Aa.Trailer,columnWidth:s}),[s]),o=QWt(e=>{let{item:t}=e,i=Xe()(e,["item"]);return WWt(Q$e,tp()({},i,{item:t}))},[]);return a?Vu()(WKe,{containerServer:e,containerProvider:t,containerSourceURI:a.sourceURI,containerType:Ha.Clip,containerSubtype:Aa.Trailer},void 0,Vu()(h0e,{hub:{title:Object(Ze.default)("Extras"),sourceURI:a.sourceURI},keyPropName:"listItemKey",items:a.items,layout:r,cellComponentFactory:o,totalSize:a.totalSize})):null}var YWt=i("/9Dk"),qWt=i.n(YWt);const ZWt=Nd.a.createElement,{useCallback:JWt,useMemo:XWt,useState:$Wt}=Nd.a;var eQt=Vu()(AHt,{}),tQt=Vu()(AHt,{});function iQt({className:e=qWt.a.container}){var t,i;const n=Object(Hu.c)(),{popularLeavesSourceURI:a}=Object(Hu.d)(jBt),s=XWt(()=>a?k1e(a):()=>{},[a]),r=Object(Hu.d)(s),o=IBt(),[l,c]=OBt(o.contentHeight),[d,u]=Lg(),p=null!=(t=null==r?void 0:r.items.length)?t:0,h=null!=(i=null==r?void 0:r.totalSize)?i:p,m=null==r?void 0:r.sourceURI,g=$Wt(p<5?p:5),v=g[1],y=g[0],f=XWt(()=>[Bmt,Kmt,Zmt,$mt],[]),b=XWt(()=>jgt(),[]),I=JWt(e=>{m&&n(Ts.actions.fetchRangeRequested(Object.assign({},e,{server:d,provider:u,sourceURI:m})))},[m,n,d,u]),S=JWt(()=>{const e=y+10;v(e>h?h:e)},[h,y]),C=JWt(e=>ZWt(Mgt,tp()({index:e.cellIndex+1,tableColumns:f,hasTransientActionsCell:!0},e)),[f]);return r?Vu()("div",{className:e},void 0,Vu()(WKe,{containerServer:d,containerProvider:u,containerSourceURI:r.sourceURI,containerType:Na.Track},void 0,Vu()(zBt,{title:Object(Ze.default)("Popular Tracks")}),eQt,ZWt("div",{ref:c},Vu()(kqe,{items:r.items},void 0,Vu()(AO,{keyPropName:"listItemKey",items:r.items,totalSize:y,layout:b,cellComponentFactory:C,viewportHeight:o.height,viewportWidth:o.width,scrollTop:o.scrollTop-l,scrollLeft:o.scrollLeft,onPageRequest:I}))),tQt,Vu()("div",{className:qWt.a.moreContainer},void 0,y<h?Vu()(ev,{onPress:S},void 0,Object(Ze.default)("Show More")):null))):null}const{Fragment:nQt}=Nd.a;var aQt=Vu()(iQt,{}),sQt=Vu()(KWt,{});function rQt({metadataItem:e,onHubsReady:t}){const{summary:i,Country:n,Genre:a,Style:s}=e,[r,o]=N_t(2,t);return Vu()(nQt,{},void 0,Vu()(LFt,{metadataItem:e},void 0,Vu()(M_t,{},void 0,Vu()(I_t,{},void 0,Vu()(mYe,{metadataItem:e,allowLink:!1})),Vu()(c_t,{metadataItem:e})),Vu()(T_t,{},void 0,Vu()(y_t,{metadataItem:e})),Vu()(yFt,{metadataItem:e,promotedActions:["isPlayVisible","isPlayRadioVisible","isAddToPlaylistVisible","isSyncDownloadVisible","isEditVisible"]}),i?Vu()(CHt,{},void 0,i):null,Vu()(zFt,{},void 0,n.length?Vu()(BFt,{label:Object(Ze.default)("Country")},void 0,Vu()(yHt,{metadataItem:e,tagName:"Country",limit:2})):null,a.length?Vu()(BFt,{label:Object(Ze.default)("Genre")},void 0,Vu()(yHt,{metadataItem:e,tagName:"Genre",limit:3})):null,s.length?Vu()(BFt,{label:Object(Ze.default)("Style")},void 0,Vu()(yHt,{metadataItem:e,tagName:"Style",limit:3})):null),Vu()(rHt,{metadataItem:e})),aQt,Vu()(_Wt,{metadataItem:e}),sQt,Vu()(n_t,{metadataItem:e,onHubsReady:o}),Vu()(JHt,{metadataItem:e,onHubsReady:r}))}const{Fragment:oQt}=Nd.a;function lQt({metadataItem:e,onHubsReady:t}){const{summary:i}=e;return Vu()(oQt,{},void 0,Vu()(LFt,{metadataItem:e},void 0,Vu()(M_t,{},void 0,Vu()(I_t,{},void 0,Vu()(mYe,{metadataItem:e,allowLink:!1})),Vu()(c_t,{metadataItem:e})),Vu()(T_t,{},void 0,Vu()(y_t,{metadataItem:e})),Vu()(yFt,{metadataItem:e,promotedActions:["isPlayVisible","isMarkPlayedVisible","isMarkUnplayedVisible","isSyncDownloadVisible","isEditVisible"]}),i?Vu()(CHt,{},void 0,i):null,Vu()(rHt,{metadataItem:e})),Vu()(n_t,{metadataItem:e,onHubsReady:t}))}const{Fragment:cQt}=Nd.a;function dQt({metadataItem:e,onHubsReady:t}){const{title:i,summary:n,minYear:a,maxYear:s}=e,r=!(!a||!s||a===s),o=!(!s||a!==s);return Vu()(cQt,{},void 0,Vu()(LFt,{metadataItem:e},void 0,Vu()(M_t,{},void 0,i),Vu()(O_t,{},void 0,r||o?Vu()(cQt,{},void 0,r?a+"  "+s:s):null),Vu()(T_t,{},void 0,Vu()(y_t,{metadataItem:e})),Vu()(yFt,{metadataItem:e,promotedActions:["isPlayVisible","isPlayTrailerVisible","isShuffleVisible","isSyncDownloadVisible","isEditVisible"]}),n?Vu()(CHt,{},void 0,n):null,Vu()(rHt,{metadataItem:e})),Vu()(_Wt,{metadataItem:e}),Vu()(n_t,{metadataItem:e,onHubsReady:t}))}function uQt(e,t,i){const n=e/1e3;return i<n?Object(Ze.default)("Aired"):t<=n&&i>=n?Object(Ze.default)("Airing"):Object(Ze.default)("Airs")}function pQt({metadataItem:e}){const t=Object(Hu.d)(zg("timeFormat")),i=EYe(),n=jYe(e);if(!n)return null;const{Channel:a}=e,{videoResolution:s,beginsAt:r,endsAt:o,channelID:l}=n,c=a.find(e=>e.id===l);return Vu()(zFt,{},void 0,s?Vu()(BFt,{label:Object(Ze.default)("Video")},void 0,function(e){const t=parseInt(e,10);return t>=720||4===t||8===t}(s)?Object(Ze.default)("HD"):Object(Ze.default)("SD")):null,null!=r&&null!=o?Vu()(BFt,{label:uQt(i,r,o)},void 0,IYe({now:i,beginsAt:r,endsAt:o,channel:null==c?void 0:c.tag,timeFormat:t,showFullTime:!0,showChannel:!0})):null)}const{Fragment:hQt}=Nd.a;var mQt=Vu()(tf,{separator:""});function gQt({metadataItem:e,onHubsReady:t}){const{summary:i}=e;return Vu()(hQt,{},void 0,Vu()(LFt,{aspectRatio:1/1.5,metadataItem:e},void 0,Vu()(M_t,{},void 0,Vu()($Ye,{metadataItem:e})),Vu()(O_t,{},void 0,Vu()(dqe,{metadataItem:e}),mQt,Vu()(mYe,{metadataItem:e,allowLink:!1})),Vu()(T_t,{},void 0,Vu()(y_t,{metadataItem:e})),Vu()(yFt,{metadataItem:e,promotedActions:["isRecordVisible","isPlayVisible"]}),i?Vu()(CHt,{},void 0,i):null,Vu()(pQt,{metadataItem:e})),Vu()(n_t,{metadataItem:e,onHubsReady:t}))}var vQt=i("KluX"),yQt=i.n(vQt);const fQt=Nd.a.createElement,{useCallback:bQt,useMemo:IQt}=Nd.a;function SQt(e){let{server:t,provider:i,contentDirectory:n,metadataItem:a,item:s}=e,r=Xe()(e,["server","provider","contentDirectory","metadataItem","item"]);const o=tj(r),l=Object(Hu.d)(Ast),[c,d]=bS();if(!s)return null;const{thumb:u,tag:p}=s,h=l?hHt({tag:s,contentDirectory:n,server:t,provider:i,metadataNumericType:oHt(a.type),fallbackFilter:"actor"}):pHt({tag:s,contentDirectory:n,server:t,provider:i,metadataNumericType:oHt(a.type),fallbackFilter:"actor"}),m=r.cellWidth;return Vu()("div",{style:o.style},void 0,fQt($Ke,{className:yQt.a.card,ref:d},u?Vu()(tC,{className:yQt.a.rounded,serverEntityID:t.entityID,providerEntityID:i.entityID,url:u,width:m,height:m,component:JI,preloadOnMount:!1,animateOnMount:!1}):Vu()(Pde,{className:yQt.a.rounded,name:s.tag,width:m,height:m}),h?Vu()(IZe,{isHovered:c,className:yQt.a.link,hoverClassName:yQt.a.hoveredLink,to:h}):null),Vu()("div",{className:yQt.a.titleContainer},void 0,h?Vu()(ev,{className:yQt.a.title,to:h,title:p},void 0,p):Vu()("span",{className:yQt.a.title,title:p},void 0,p),s.role?Vu()("span",{className:yQt.a.role,title:s.role},void 0,s.role):null))}function CQt({metadataItem:e}){const[t,i,n]=Lg(),a=Object(Hu.d)(m0e),{Role:s}=e,r=IQt(()=>X$e({listType:Ha.Person,columnWidth:a,titleCount:2}),[a]),o=bQt(a=>fQt(SQt,tp()({},a,{metadataItem:e,server:t,provider:i,contentDirectory:n})),[n,e,i,t]);return Vu()(h0e,{hub:{title:Object(Ze.default)("Cast"),sourceURI:V.join([e.sourceURI,"castList"])},totalSize:s.length,items:s,layout:r,cellComponentFactory:o})}const{Fragment:MQt}=Nd.a;function DQt({metadataItem:e,onHubsReady:t}){const{year:i,summary:n,Genre:a}=e;return Vu()(MQt,{},void 0,Vu()(LFt,{metadataItem:e},void 0,Vu()(M_t,{},void 0,Vu()(mYe,{metadataItem:e,allowLink:!1})),Vu()(O_t,{},void 0,i),Vu()(T_t,{},void 0,Vu()(y_t,{metadataItem:e})),Vu()(yFt,{metadataItem:e,promotedActions:["isRecordVisible","isPlayVisible"]}),n?Vu()(CHt,{},void 0,n):null,Vu()(zFt,{},void 0,a.length?Vu()(BFt,{label:Object(Ze.default)("Genre")},void 0,Vu()(yHt,{metadataItem:e,tagName:"Genre",limit:3})):null),Vu()(pQt,{metadataItem:e})),Vu()(CQt,{metadataItem:e}),Vu()(n_t,{metadataItem:e,onHubsReady:t}))}const{Fragment:PQt}=Nd.a;function OQt({metadataItem:e,onHubsReady:t}){const{title:i,summary:n,Genre:a}=e;return Vu()(PQt,{},void 0,Vu()(LFt,{metadataItem:e},void 0,Vu()(M_t,{},void 0,i),Vu()(T_t,{},void 0,Vu()(y_t,{metadataItem:e})),Vu()(yFt,{metadataItem:e,promotedActions:["isRecordVisible","isPlayVisible"]}),n?Vu()(CHt,{},void 0,n):null,Vu()(zFt,{},void 0,a.length?Vu()(BFt,{label:Object(Ze.default)("Genre")},void 0,Vu()(yHt,{metadataItem:e,tagName:"Genre",limit:3})):null),Vu()(rHt,{metadataItem:e})),Vu()(_Wt,{metadataItem:e}),Vu()(CQt,{metadataItem:e}),Vu()(n_t,{metadataItem:e,onHubsReady:t}))}function jQt({className:e,metadataItem:t}){const i=rCe({useLongName:!0,episodeIndex:t.index,date:t.originallyAvailableAt,noLeadingZero:!0});return Vu()("span",{className:e},void 0,Vu()("span",{title:t.title},void 0,i))}var wQt=i("F5gX"),TQt=i.n(wQt);function EQt({className:e=TQt.a.container,children:t}){return Vu()("div",{className:e},void 0,t)}const{Fragment:NQt}=Nd.a;var xQt=Vu()(tf,{separator:""});function AQt({metadataItem:e,onHubsReady:t}){const{summary:i,originallyAvailableAt:n,Writer:a,Director:s}=e,[r,o]=N_t(2,t);return Vu()(NQt,{},void 0,Vu()(LFt,{metadataItem:e},void 0,Vu()(M_t,{},void 0,Vu()(I_t,{},void 0,Vu()($Ye,{metadataItem:e})),Vu()(c_t,{metadataItem:e})),Vu()(O_t,{},void 0,Vu()(nqe,{metadataItem:e})),Vu()(O_t,{},void 0,Vu()(jQt,{metadataItem:e}),xQt,Vu()(mYe,{metadataItem:e,allowLink:!1})),Vu()(T_t,{},void 0,Vu()(y_t,{metadataItem:e}))),Vu()(EQt,{},void 0,Vu()(yFt,{metadataItem:e,promotedActions:["isPlayVisible","isMarkPlayedVisible","isMarkUnplayedVisible","isSyncDownloadVisible","isEditVisible"]}),i?Vu()(CHt,{},void 0,i):null,Vu()(zFt,{},void 0,s.length?Vu()(Hze,{label:Object(Ze.default)("Directed by")},void 0,Vu()(yHt,{metadataItem:e,tagName:"Director",limit:2})):null,a.length?Vu()(Hze,{label:Object(Ze.default)("Written by")},void 0,Vu()(yHt,{metadataItem:e,tagName:"Writer",limit:2})):null,n?Vu()(Hze,{label:Object(Ze.default)("Released")},void 0,Vu()(VYe,{metadataItem:e})):null),Vu()(rHt,{metadataItem:e})),Vu()(JHt,{metadataItem:e,onHubsReady:r}),Vu()(n_t,{metadataItem:e,onHubsReady:o}))}const{Fragment:LQt}=Nd.a;var kQt=Vu()(tf,{separator:""});function RQt({metadataItem:e,onHubsReady:t}){const{summary:i}=e;return Vu()(LQt,{},void 0,Vu()(LFt,{metadataItem:e},void 0,Vu()(M_t,{},void 0,Vu()($Ye,{metadataItem:e})),Vu()(O_t,{},void 0,Vu()(jQt,{metadataItem:e}),kQt,Vu()(mYe,{metadataItem:e,allowLink:!1})),Vu()(T_t,{},void 0,Vu()(y_t,{metadataItem:e})),Vu()(yFt,{metadataItem:e,promotedActions:["isPlayVisible","isSyncDownloadVisible"]})),Vu()(EQt,{},void 0,i?Vu()(CHt,{dangerouslySetInnerHTML:{__html:i}}):null),Vu()(n_t,{metadataItem:e,onHubsReady:t}))}var zQt=i("hrvX"),UQt=i.n(zQt);function VQt({className:e=UQt.a.container,children:t}){return Vu()("div",{className:e},void 0,t)}var BQt=i.p+"common/img/ratings/rt-certified-fresh-560.6a22ac5186f3f60353ba3dc5f161dff5.svg",FQt=i.p+"common/img/ratings/rt-spilt-popcorn-simple-560.bab3b2a9cc8157dbc0d09c4f8b2a8de2.svg",HQt=i("C5La"),_Qt=i.n(HQt);const WQt=Nd.a.createElement,{useCallback:QQt,useMemo:GQt}=Nd.a,KQt={certified:BQt,fresh:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI1NjAiIGhlaWdodD0iNTYwIiB2aWV3Qm94PSIwIDAgNTYwIDU2MCI+CiAgPGcgZmlsbD0ibm9uZSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoODAgNzQpIj4KICAgIDxwYXRoIGZpbGw9IiNGQTMyMEEiIGQ9Ik0zOTguMjkwMTI5LDIyMi45NzU5NjYgQzM5NC4zMDA0MjksMTU5LjAxMDMgMzYxLjc2OTk1NywxMTEuMTUyNzkgMzEyLjgyMjMxOCw4NC4zOTc0MjQ5IEMzMTMuMTAwNDI5LDg1Ljk1NjIyMzIgMzExLjcxMzMwNSw4Ny45MDQ3MjEgMzEwLjEzMzkwNiw4Ny4yMTQ1OTIzIEMyNzguMTE4NDU1LDczLjIwOTQ0MjEgMjIzLjgwNjAwOSwxMTguNTM0NzY0IDE4NS44NTIzNjEsOTQuNzk5MTQxNiBDMTg2LjEzNzMzOSwxMDMuMzE3NTk3IDE4NC40NzM4MiwxNDQuODcxMjQ1IDEyNS45MzgxOTcsMTQ3LjI4MTU0NSBDMTI0LjU1NjIyMywxNDcuMzM4MTk3IDEyMy43OTU3MDgsMTQ1LjkyNzAzOSAxMjQuNjY5NTI4LDE0NC45Mjc4OTcgQzEzMi40OTc4NTQsMTM1Ljk5OTE0MiAxNDAuNDAxNzE3LDExMy4zOTMxMzMgMTI5LjAzNjkxLDEwMS4zNDE2MzEgQzEwNC42OTg3MTIsMTIzLjE1MTA3MyA5MC41NjQ4MDY5LDEzMS4zNTg3OTggNDMuODk4NzEyNCwxMjAuNTI3ODk3IEMxNC4wMjA2MDA5LDE1MS43NjkwOTkgLTIuOTA5ODcxMjQsMTk0LjUyNzg5NyAwLjQxMzczMzkwNiwyNDcuNzkzMTMzIEM3LjE5NDg0OTc5LDM1Ni41Mjc4OTcgMTA5LjA0Mzc3Nyw0MTguNjgyNDAzIDIxMS42MDY4NjcsNDEyLjI4MjQwMyBDMzE0LjE2MzA5LDQwNS44ODc1NTQgNDA1LjA3Mjk2MSwzMzEuNzEwNzMgMzk4LjI5MDEyOSwyMjIuOTc1OTY2Ii8+CiAgICA8cGF0aCBmaWxsPSIjMDA5MTJEIiBkPSJNMjExLjM3NTEwNyw1OC4yOTI3MDM5IEMyMzIuNDQ5Nzg1LDUzLjI2OTUyNzkgMjkzLjA2NzgxMSw1Ny44MDM0MzM1IDMxMi40ODkyNyw4My41NjY1MjM2IEMzMTMuNjU0OTM2LDg1LjExMTU4OCAzMTIuMDEzNzM0LDg4LjAzNTE5MzEgMzEwLjEzMzkwNiw4Ny4yMTQ1OTIzIEMyNzguMTE4NDU1LDczLjIwOTQ0MjEgMjIzLjgwNjAwOSwxMTguNTM0NzY0IDE4NS44NTIzNjEsOTQuNzk5MTQxNiBDMTg2LjEzNzMzOSwxMDMuMzE3NTk3IDE4NC40NzM4MiwxNDQuODcxMjQ1IDEyNS45MzgxOTcsMTQ3LjI4MTU0NSBDMTI0LjU1NjIyMywxNDcuMzM4MTk3IDEyMy43OTU3MDgsMTQ1LjkyNzAzOSAxMjQuNjY5NTI4LDE0NC45Mjc4OTcgQzEzMi40OTc4NTQsMTM1Ljk5OTE0MiAxNDAuNCwxMTMuMzkzMTMzIDEyOS4wMzY5MSwxMDEuMzQxNjMxIEMxMDIuNTI1MzIyLDEyNS4wOTk1NzEgODguMTUyNzg5NywxMzIuNzMzOTA2IDMwLjYxMTE1ODgsMTE3LjE4MDI1OCBDMjguNzI3ODk3LDExNi42NzIxMDMgMjkuMzY5OTU3MSwxMTMuNjQ1NDk0IDMxLjM3MzM5MDYsMTEyLjg4MTU0NSBDNDIuMjQ4OTI3LDEwOC43MjUzMjIgNjYuODg3NTUzNiw5MC41MjEwMyA5MC4xOTc0MjQ5LDgyLjQ5Njk5NTcgQzk0LjYzNTE5MzEsODAuOTcwODE1NSA5OS4wNTkyMjc1LDc5Ljc4NjI2NjEgMTAzLjM3NjgyNCw3OS4wOTc4NTQxIEM3Ny43MTE1ODgsNzYuODA0MjkxOCA2Ni4xNDI0ODkzLDczLjIzNTE5MzEgNDkuODE4MDI1OCw3NS42OTY5OTU3IEM0OC4wMjkxODQ1LDc1Ljk2NjUyMzYgNDYuODEzNzMzOSw3My44ODQxMjAyIDQ3LjkyMjc0NjgsNzIuNDU1Nzk0IEM2OS45MTc1OTY2LDQ0LjEyNDQ2MzUgMTEwLjQzNjA1MiwzNS41NjgyNDAzIDEzNS40MzUxOTMsNTAuNjE4ODg0MSBDMTIwLjAyNTc1MSwzMS41MjUzMjE5IDEwNy45NTUzNjUsMTYuMjk3ODU0MSAxMDcuOTU1MzY1LDE2LjI5Nzg1NDEgTDEzNi41NTYyMjMsMC4wNTIzNjA1MTUgQzEzNi41NTYyMjMsMC4wNTIzNjA1MTUgMTQ4LjM3MjUzMiwyNi40NTIzNjA1IDE1Ni45Njk5NTcsNDUuNjY2MDk0NCBDMTc4LjI0NTQ5NCwxNC4yMzA5MDEzIDIxNy44MzAwNDMsMTEuMzI5NjEzNyAyMzQuNTU0NTA2LDMzLjYzMzQ3NjQgQzIzNS41NDY3ODEsMzQuOTU4Nzk4MyAyMzQuNTA5ODcxLDM2Ljg0Mzc3NjggMjMyLjg1MzIxOSwzNi44MDQyOTE4IEMyMTkuMjQxMjAyLDM2LjQ3Mjk2MTQgMjExLjc0NTkyMyw0OC44NTQwNzczIDIxMS4xNzc2ODIsNTguMjcwMzg2MyBMMjExLjM3NTEwNyw1OC4yOTI3MDM5Ii8+CiAgPC9nPgo8L3N2Zz4K",rotten:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI1NjAiIGhlaWdodD0iNTYwIiB2aWV3Qm94PSIwIDAgNTYwIDU2MCI+CiAgPHBhdGggZmlsbD0iIzBBQzg1NSIgZD0iTTM3NS4xODUyNjMsMzY4LjY4NDQ3NCBDMjk1LjgxNjMxNiwzNzIuODUxMzE2IDI3OS41OTg0MjEsMjgyLjAzMTg0MiAyNDguNDU5NDc0LDI4Mi42Nzg0MjEgQzIzNS4xOTA3ODksMjgyLjk1NjU3OSAyMjQuNzMzMTU4LDI5Ni44Mjk0NzQgMjI5LjMyNTUyNiwzMTIuOTk3NjMyIEMyMzEuODUxMDUzLDMyMS44ODU3ODkgMjM4Ljg1NjU3OSwzMzQuOTIwNTI2IDI0My4yNzAyNjMsMzQzLjAwOTIxMSBDMjU4LjgzOTczNywzNzEuNTUyNjMyIDIzNS44MjI2MzIsNDAzLjg1Mzk0NyAyMDguODg3MzY4LDQwNi41ODU3ODkgQzE2NC4xMjYwNTMsNDExLjEyNjU3OSAxNDUuNDU0NDc0LDM4NS4xNjAyNjMgMTQ2LjYwOTQ3NCwzNTguNTc4Njg0IEMxNDcuOTA4MTU4LDMyOC43Mzg0MjEgMTczLjIwOTQ3NCwyOTguMjQ3ODk1IDE0Ny4yNTk3MzcsMjg1LjI3Mzk0NyBDMTIwLjA2NDczNywyNzEuNjc3MzY4IDk3Ljk1NzYzMTYsMzI0Ljg0NjA1MyA3MS45MzQyMTA1LDMzNi43MTI4OTUgQzQ4LjM4MTA1MjYsMzQ3LjQ1NDIxMSAxNS42ODU1MjYzLDMzOS4xMjYwNTMgNC4wNjE4NDIxMSwzMTIuOTcxODQyIEMtNC4xMDIzNjg0MiwyOTQuNTkzMTU4IC0yLjYxNzYzMTU4LDI1OS4yMDQ0NzQgMzMuNzMyNjMxNiwyNDUuNzAxODQyIEM1Ni40Mzg0MjExLDIzNy4yNjg2ODQgMTA3LjAzNzM2OCwyNTYuNzMwNTI2IDEwOS42MzI4OTUsMjMyLjA3OTQ3NCBDMTEyLjYyNDQ3NCwyMDMuNjYzMTU4IDU2LjQ3NzEwNTMsMjAxLjI2NjU3OSAzOS41NzIxMDUzLDE5NC40NTI2MzIgQzkuNjYsMTgyLjM5Nzg5NSAtNy45OTQ3MzY4NCwxNTYuNjAyODk1IDUuODM3NjMxNTgsMTI4LjkzMDc4OSBDMTYuMjE2MDUyNiwxMDguMTczOTQ3IDQ2Ljc1MjYzMTYsOTkuNzI3ODk0NyA3MC4wNjA3ODk1LDEwOC44MjA1MjYgQzk3Ljk4MzQyMTEsMTE5LjcxMjg5NSAxMDIuNDY1MjYzLDE0OC42NzQ0NzQgMTE2Ljc3MTA1MywxNjAuNzE4MTU4IEMxMjkuMDk0NzM3LDE3MS4wOTg0MjEgMTQ1Ljk2MTA1MywxNzIuMzk3MTA1IDE1Ni45OTE1NzksMTY1LjI2MDc4OSBDMTY1LjEyNjMxNiwxNTkuOTk2MDUzIDE2Ny44MzQyMTEsMTQ4LjQzMzE1OCAxNjQuNzY1MjYzLDEzNy44NzA1MjYgQzE2MC42OTQyMTEsMTIzLjg0ODQyMSAxNDkuODkwMjYzLDExNS4wOTg0MjEgMTM5LjM0OTczNywxMDYuNTI1MjYzIEMxMjAuNTkxNTc5LDkxLjI3NjMxNTggOTQuMTA5NDczNyw3OC4xNjQyMTA1IDExMC4xMjg0MjEsMzYuNTQxODQyMSBDMTIzLjI1ODk0NywyLjQzMTU3ODk1IDE2MS43NywxLjIwMjg5NDc0IDE2MS43NywxLjIwMjg5NDc0IEMxNzcuMDcwNTI2LC0wLjUxNzYzMTU3OSAxOTAuNzcyMTA1LDQuMTAyMzY4NDIgMjAxLjkzNzEwNSwxNC4wNzczNjg0IEMyMTYuODYzNjg0LDI3LjQxMjM2ODQgMjE5Ljc3MDUyNiw0NS4yMzY1Nzg5IDIxNy4yNzI2MzIsNjQuMjUyNjMxNiBDMjE0Ljk5MDI2Myw4MS42MTA3ODk1IDIwOC44NDY4NDIsOTYuODEzNjg0MiAyMDUuNjQzNDIxLDExNC4wMTE1NzkgQzIwMS45MjYwNTMsMTMzLjk3ODE1OCAyMTIuNTk3MzY4LDE1NC4wOTc2MzIgMjMyLjg5MTg0MiwxNTQuODgwNTI2IEMyNTkuNTg1Nzg5LDE1NS45MTIxMDUgMjY3LjU4OTczNywxMzUuMzk0NzM3IDI3MC44NTU3ODksMTIyLjM4OTQ3NCBDMjc1LjYzNzg5NSwxMDMuMzYwNTI2IDI4MS45MTM5NDcsODUuNjk0NzM2OCAyOTkuNTc0MjExLDc0LjU2ODQyMTEgQzMyNC45MTk3MzcsNTguNTk5MjEwNSAzNjAuMTI2MDUzLDYyLjA5OTIxMDUgMzc2LjQ2LDkyLjc5MDUyNjMgQzM4OS4zODA1MjYsMTE3LjA3NSAzODUuMjMyMTA1LDE1MC41MDU1MjYgMzY1LjQxMjg5NSwxNjguNzYwNzg5IEMzNTYuNTIxMDUzLDE3Ni45NDg5NDcgMzQ1LjgyOTQ3NCwxNzkuODM1NTI2IDMzNC4yNjQ3MzcsMTc5LjkxNjU3OSBDMzE3LjY4MDI2MywxODAuMDM0NDc0IDMwMS4xMDMxNTgsMTc5LjYyNzM2OCAyODUuNzA4Njg0LDE4Ny4zODgxNTggQzI3NS4yMjg5NDcsMTkyLjY2OTQ3NCAyNzAuNjYyMzY4LDIwMS4yNzU3ODkgMjcwLjY2NDIxMSwyMTIuODExMDUzIEMyNzAuNjY0MjExLDIyNC4wNTM0MjEgMjc2LjUxNjU3OSwyMzEuMzk2MDUzIDI4NS45OTk3MzcsMjM2LjE3NDQ3NCBDMzAzLjg2MDc4OSwyNDUuMTc2ODQyIDMyMy41NzY4NDIsMjQ3LjAxNzEwNSAzNDIuODcxMDUzLDI1MC4zOTU1MjYgQzM3MC44NTA3ODksMjU1LjI5NTUyNiAzOTUuNDUyMTA1LDI2NS4xNTA3ODkgNDExLjI0NjMxNiwyOTEuMTE1MjYzIEM0MTEuMzg4MTU4LDI5MS4zNDM2ODQgNDExLjUyNjMxNiwyOTEuNTczOTQ3IDQxMS42NjA3ODksMjkxLjgwNjA1MyBDNDI5LjgsMzIyLjU0NzEwNSA0MTAuODMsMzY2LjgxMTA1MyAzNzUuMTg1MjYzLDM2OC42ODQ0NzQiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDcwIDc2KSIvPgo8L3N2Zz4K",spilled:FQt,upright:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI1NjAiIGhlaWdodD0iNTYwIiB2aWV3Qm94PSIwIDAgNTYwIDU2MCI+CiAgPGcgZmlsbD0ibm9uZSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTA0IDQ1KSI+CiAgICA8cGF0aCBmaWxsPSIjRkZGIiBkPSJNMjY2LjU3MDgyNiw0MjkuMjE0MDcxIEwyOTAuMDM1NzQxLDE5MS4yNTc1MTcgQzMwNC45NjUwOTUsMTg2LjQ2MTcyMSAzMTkuNTMzNjkyLDE4MC4xMDc1OTkgMzMwLjI2NTMxMywxNzAuOTk1NzYyIEwzMDAuMTU5NjgyLDQwMS4yNzc5OTMgQzI5My40MTIxMzksNDExLjUyNjE4MiAyODAuMjk3MDc1LDQyMi4xMzg1NjUgMjY2LjU3MDgyNiw0MjkuMjE0MDcxIFogTTE4OC4zNzI1MzcsNDUwLjg0NTA1MiBMMTkxLjMxOTg4MSwyMDYuMzE3MjYgQzIxMi4yMTM5NywyMDUuNzE4NDQyIDIzOS4yNTMxNzQsMjAyLjg4NzE5IDI2Mi4yOTA3ODYsMTk3Ljk3MDU4IEwyNDMuMjE5NzQxLDQzOS4xNDAwODkgQzIyMC40OTU2MDIsNDQ2LjY1ODU4IDIwNy4yODU5Nyw0NDguOTg5MDY3IDE4OC4zNzI1MzcsNDUwLjg0NTA1MiBaIE04OC42Nzk0ODI2LDE5Ny45NzA1OCBDMTExLjcxNzA5NSwyMDIuODg3MTkgMTM4Ljc1NjI5OSwyMDUuNzE4NDQyIDE1OS42NTAzODgsMjA2LjMxNzI2IEwxNjIuNTk3NzMxLDQ1MC44NDUwNTIgQzE0My42ODQyOTksNDQ4Ljk4OTA2NyAxMzAuNDc0NjY3LDQ0Ni42NTg1OCAxMDcuNzUwNTI3LDQzOS4xNDAwODkgTDg4LjY3OTQ4MjYsMTk3Ljk3MDU4IFogTTIwLjcwNDk1NTIsMTcwLjk5NTc2MiBDMzEuNDM2NTc3MSwxODAuMTA3NTk5IDQ2LjAwNTE3NDEsMTg2LjQ2MTcyMSA2MC45MzQ1Mjc0LDE5MS4yNTc1MTcgTDg0LjM5OTQ0MjgsNDI5LjIxNDA3MSBDNzAuNjczMTk0LDQyMi4xMzg1NjUgNTcuNTU4MTI5NCw0MTEuNTI2MTgyIDUwLjgwODgzNTgsNDAxLjI3Nzk5MyBMMjAuNzA0OTU1MiwxNzAuOTk1NzYyIFoiLz4KICAgIDxwYXRoIGZpbGw9IiNGRkQ3MDAiIGQ9Ik0xNC45MDQ4MzU4LDExMi40NDQ2ODQgQzE2LjI2MjA0OTgsMTQxLjI3MTk4NSA4Ny42NzYwMTk5LDE2NC4xMjE2MTMgMTc1LjQ4MzM4MywxNjMuNjIwODQ4IEMyNTIuMTcwMzQ4LDE2My4xODMxMTUgMzE2LjE0MTUzMiwxNDUuMDc1MDA0IDMzMS44MTE2NjIsMTIxLjI4NTEyNiBDMzI4LjI0MDg3NiwxMTcuMzE3NTIgMzIzLjMwOTM3MywxMTQuNTk2NTc2IDMxNy43NTQ0MjgsMTEzLjg1OTQzNSBDMzE3LjgxMzk3LDExMy4xNTkwNjMgMzE3Ljg1MjQ5OCwxMTIuNDUzNDM5IDMxNy44NDg5OTUsMTExLjczNzMwOSBDMzE3Ljc4NDE5OSwxMDAuMzM3MDA3IDMwOS40MjAyNTksOTAuOTQ4NTI0MiAyOTguNTIyMjY5LDg5LjE5NzU5NDggQzI5OC44MDk0NzMsODcuNzIzMzEyMyAyOTguOTYwMDgsODYuMTk4MjUyOCAyOTguOTUxMzIzLDg0LjYzODE3NDcgQzI5OC44Nzk1MjIsNzEuOTQyMTg1OSAyODguNTI2MTY5LDYxLjcwOTc1NDYgMjc1LjgyNzksNjEuNzgxNTQyOCBDMjc1LjU0MDY5Nyw2MS43ODMyOTM3IDI3NS4yNjA0OTgsNjEuODE4MzEyMyAyNzQuOTc1MDQ1LDYxLjgzMDU2ODggQzI3NS43ODc2MjIsNTkuNDU2MzA4NiAyNzYuMjQyOTQ1LDU2LjkxOTIxMTkgMjc2LjIyODkzNSw1NC4yNzAwNTU4IEMyNzYuMTU1MzgzLDQxLjU3NDA2NjkgMjY1LjgwMzc4MSwzMS4zNDE2MzU3IDI1My4xMDU1MTIsMzEuNDEzNDIzOCBDMjUwLjE5MTQ0MywzMS40MzA5MzMxIDI0Ny40MTkyMjQsMzIuMDEwNDkwNyAyNDQuODU4OTA1LDMzLjAxMzc3MzIgQzI0MS4yMjY4MjYsMjYuMTc4MTQ1IDIzNC4yNTMzNzMsMjEuNDEzODY2MiAyMjYuMTIyMzQ4LDIwLjg2NDA3NDMgQzIyNC43MDU1OTIsOS40NjM3NzMyMyAyMTQuOTY1MTc0LDAuNjY4ODU1MDE5IDIwMy4xOTE1NjIsMC43MzUzOTAzMzUgQzE5NS43ODIwNSwwLjc3NzQxMjYzOSAxODkuMjI4ODk2LDQuMzM1MzAxMTIgMTg1LjA1NTY4Miw5Ljc5OTk1MTY3IEMxODAuODIyOTI1LDUuMTk1MDA3NDMgMTc0Ljc1NjYxNywyLjMwNTk3Mzk4IDE2OC4wMDkwNzUsMi4zNDQ0OTQ0MiBDMTU1LjMxMDgwNiwyLjQxNjI4MjUzIDE0NS4wNzY1MzcsMTIuNzY3Nzc3IDE0NS4xNDgzMzgsMjUuNDYyMDE0OSBDMTQ1LjE2MjM0OCwyNy44ODcwNTIgMTQ1LjU1NjM3OCwzMC4yMTc1MzkgMTQ2LjI2Mzg4MSwzMi40MDc5NTE3IEMxNDEuMDgxOTUsMzMuMzY5MjExOSAxMzYuNTI1MjE0LDM2LjA2MjE0MTMgMTMzLjE5NDM0OCwzOS44NjY5MTA4IEMxMzAuNTQ5OTcsMzAuMDE5Njg0IDEyMS41NTczMzMsMjIuNzgzMDkyOSAxMTAuODgsMjIuODQyNjI0NSBDMTAwLjkwNDkxNSwyMi45MDA0MDUyIDkyLjQ3NDQyNzksMjkuMzEyMzA4NiA4OS4zNDMyMDQsMzguMjA4NzgwNyBDODAuODY4OTM1Myw0MS42MzUzNDk0IDc0LjkwNDE5OSw0OS45NDcwMTEyIDc0Ljk2MDIzODgsNTkuNjQxOTA3MSBDNzQuOTcyNDk3NSw2MS43OTU1NTAyIDc1LjMwMTczMTMsNjMuODY4NjUwNiA3NS44NjczODMxLDY1Ljg0MzY5ODkgQzczLjAwOTM1MzIsNjQuNTkzNTM1MyA2OS44NTg4NjU3LDYzLjg5MzE2MzYgNjYuNTM4NTA3NSw2My45MTI0MjM4IEM1Ni41MjY2NDY4LDYzLjk3MDIwNDUgNDguMDY5ODkwNSw3MC40Mjc2MzIgNDQuOTY0OTM1Myw3OS4zNzY2MzIgQzQxLjk4NzgyMDksNzcuOTkzMzk3OCAzOC42Nzc5NzAxLDc3LjIwNzIzMDUgMzUuMTc3MjMzOCw3Ny4yMjgyNDE2IEMyMi40Nzg5NjUyLDc3LjMwMDAyOTcgMTIuMjQyOTQ1Myw4Ny42NDk3NzMyIDEyLjMxNjQ5NzUsMTAwLjM0NTc2MiBDMTIuMzM5MjYzNywxMDQuNTMyMjM0IDEzLjUwMDMzODMsMTA4LjQ0MDMwOSAxNS40NzU3NDEzLDExMS44MDkwOTcgQzE1LjI3NDM0ODMsMTEyLjAxMjIwNCAxNS4wOTc0NzI2LDExMi4yMzQ1NzIgMTQuOTA0ODM1OCwxMTIuNDQ0Njg0Ii8+CiAgICA8cGF0aCBmaWxsPSIjRkEzMjBBIiBkPSJNMzAwLjE2MTQzMyw0MDEuMjc3OTkzIEMyOTMuNDEyMTM5LDQxMS41MjYxODIgMjgwLjI5NzA3NSw0MjIuMTM4NTY1IDI2Ni41NzA4MjYsNDI5LjIxNDA3MSBMMjkwLjAzNTc0MSwxOTEuMjU3NTE3IEMzMDQuOTY1MDk1LDE4Ni40NjE3MjEgMzE5LjUzMzY5MiwxODAuMTA3NTk5IDMzMC4yNjUzMTMsMTcwLjk5NTc2MiBMMzAwLjE2MTQzMyw0MDEuMjc3OTkzIFogTTI0My4yMTk3NDEsNDM5LjE0MDA4OSBDMjIwLjQ5NzM1Myw0NDYuNjU4NTggMjA3LjI4NTk3LDQ0OC45ODkwNjcgMTg4LjM3MjUzNyw0NTAuODQ1MDUyIEwxOTEuMzE5ODgxLDIwNi4zMTcyNiBDMjEyLjIxMzk3LDIwNS43MTg0NDIgMjM5LjI1MzE3NCwyMDIuODg3MTkgMjYyLjI5MjUzNywxOTcuOTcwNTggTDI0My4yMTk3NDEsNDM5LjE0MDA4OSBaIE0xMDcuNzUwNTI3LDQzOS4xNDAwODkgTDg4LjY3OTQ4MjYsMTk3Ljk3MDU4IEMxMTEuNzE3MDk1LDIwMi44ODcxOSAxMzguNzU2Mjk5LDIwNS43MTg0NDIgMTU5LjY1MDM4OCwyMDYuMzE3MjYgTDE2Mi41OTc3MzEsNDUwLjg0NTA1MiBDMTQzLjY4NDI5OSw0NDguOTg5MDY3IDEzMC40NzQ2NjcsNDQ2LjY1ODU4IDEwNy43NTA1MjcsNDM5LjE0MDA4OSBaIE01MC44MTA1ODcxLDQwMS4yNzc5OTMgTDIwLjcwNDk1NTIsMTcwLjk5NTc2MiBDMzEuNDM2NTc3MSwxODAuMTA3NTk5IDQ2LjAwNTE3NDEsMTg2LjQ2MTcyMSA2MC45MzQ1Mjc0LDE5MS4yNTc1MTcgTDg0LjM5OTQ0MjgsNDI5LjIxNDA3MSBDNzAuNjczMTk0LDQyMi4xMzg1NjUgNTcuNTU4MTI5NCw0MTEuNTI2MTgyIDUwLjgxMDU4NzEsNDAxLjI3Nzk5MyBaIE0yOTguNDc4NDg4LDgwLjEzNDc4NDQgQzI5OC43NzYxOTksODEuNTg4MDU1OCAyOTguOTQyNTY3LDgzLjA5MDM1MzIgMjk4Ljk1MTMyMyw4NC42MzI5MjE5IEMyOTguOTYwMDgsODYuMTkzIDI5OC44MDk0NzMsODcuNzE4MDU5NSAyOTguNTIwNTE3LDg5LjE5MjM0MiBDMzA5LjQyMDI1OSw5MC45NDE1MjA0IDMxNy43ODQxOTksMTAwLjMzMDAwNCAzMTcuODQ4OTk1LDExMS43MzIwNTYgQzMxNy44NTI0OTgsMTEyLjQ0NjQzNSAzMTcuODEzOTcsMTEzLjE1MzgxIDMxNy43NTQ0MjgsMTEzLjg1MjQzMSBDMzIzLjMwOTM3MywxMTQuNTg5NTcyIDMyOC4yNDA4NzYsMTE3LjMxMDUxNyAzMzEuODExNjYyLDEyMS4yNzgxMjMgQzMxNi4xNDMyODQsMTQ1LjA2OTc1MSAyNTIuMTcwMzQ4LDE2My4xNzc4NjIgMTc1LjQ4NTEzNCwxNjMuNjE3MzQ2IEM4Ny42Nzc3NzExLDE2NC4xMTk4NjIgMTYuMjYzODAxLDE0MS4yNzE5ODUgMTQuOTA0ODM1OCwxMTIuNDQyOTMzIEMxNS4wOTc0NzI2LDExMi4yMzQ1NzIgMTUuMjc0MzQ4MywxMTIuMDEwNDU0IDE1LjQ3NTc0MTMsMTExLjgwOTA5NyBDMTQuMTIwMjc4NiwxMDkuNDk3ODcgMTMuMTg1MTE0NCwxMDYuOTIyMjUzIDEyLjcwMTc3MTEsMTA0LjE4OTA1MiBDNC4yOTQwNDk3NSwxMTIuMTY4MDM3IC0wLjc5MzMxMzQzMywxMTguNjAwOTUyIDAuMTAxNTcyMTM5LDEyNy45Njg0MjQgQzAuMTg3MzgzMDg1LDEyOS4yMjAzMzggMzcuMjk3OTksMzk0Ljg4MDA5NyAzNy4yOTc5OSwzOTQuODgwMDk3IEM0MS41Nzk3ODExLDQzNi45NTQ5MjkgMTAyLjY4OTQzMyw0NzAuNTgzMjc5IDE3NS40ODUxMzQsNDcxIEMyNDguMjgwODM2LDQ3MC41ODMyNzkgMzA5LjM5MjIzOSw0MzYuOTU0OTI5IDMxMy42NzIyNzksMzk0Ljg4MDA5NyBDMzEzLjY3MjI3OSwzOTQuODgwMDk3IDM1MC43ODI4ODYsMTI5LjIyMDMzOCAzNTAuODY4Njk3LDEyNy45Njg0MjQgQzM1Mi42NDYyMDksMTA5LjIzMTcyOSAzMzAuNzE4ODg2LDkyLjIyMzIwMDcgMjk4LjQ3ODQ4OCw4MC4xMzQ3ODQ0IFoiLz4KICA8L2c+Cjwvc3ZnPgo="},YQt=parseInt(BV.v4PagePadding,10);function qQt(e){let{item:t}=e;const i=tj(Xe()(e,["server","provider","item"]));if(!t)return null;const{text:n,tag:a,source:s,image:r,link:o}=t,l=r?r.substr(r.lastIndexOf(".")+1):"",c=KQt[l];return Vu()($Ke,{className:_Qt.a.card,style:i.style},void 0,Vu()("div",{className:_Qt.a.details},void 0,c?Vu()("img",{className:_Qt.a.ratingImg,src:c}):null,Vu()("div",{className:_Qt.a.titleContainer},void 0,o?Vu()(ev,{to:o,target:"_blank",rel:"noopener noreferrer",className:_Qt.a.title},void 0,s):Vu()("div",{className:_Qt.a.title},void 0,s),Vu()("div",{className:_Qt.a.author},void 0,a))),Vu()("div",{className:_Qt.a.reviewContainer},void 0,n))}function ZQt({metadataItem:e}){const[t,i]=Lg(),{Review:n}=e,a=GQt(()=>IO({columnWidth:350,rowHeight:220,innerHorizontalPadding:30,outerPaddingLeft:YQt,outerPaddingRight:YQt}),[]),s=QQt(e=>WQt(qQt,tp()({},e,{server:t,provider:i})),[i,t]);return Vu()(h0e,{hub:{title:Object(Ze.default)("Reviews"),sourceURI:V.join([e.sourceURI,"reviewList"])},totalSize:n.length,items:n,layout:a,cellComponentFactory:s})}const{Fragment:JQt}=Nd.a;var XQt=Vu()(KWt,{});function $Qt({metadataItem:e,onHubsReady:t}){const{year:i,summary:n,Country:a,Director:s,Genre:r,Platform:o,Publisher:l}=e,[c,d]=N_t(2,t);return Vu()(JQt,{},void 0,Vu()(LFt,{metadataItem:e,isProgressBarHidden:!0},void 0,Vu()(M_t,{},void 0,Vu()(I_t,{},void 0,Vu()(mYe,{metadataItem:e,allowLink:!1})),Vu()(c_t,{metadataItem:e})),Vu()(O_t,{},void 0,i),Vu()(T_t,{},void 0,Vu()(y_t,{metadataItem:e})),Vu()(yFt,{metadataItem:e,promotedActions:["isPlayVisible","isEditVisible"]}),n?Vu()(CHt,{},void 0,n):null,Vu()(VQt,{},void 0,Vu()(zFt,{},void 0,o.length?Vu()(BFt,{label:Object(Ze.default)("Platform")},void 0,Vu()(yHt,{metadataItem:e,tagName:"Platform",limit:2})):null,l.length?Vu()(BFt,{label:Object(Ze.default)("Publisher")},void 0,Vu()(yHt,{metadataItem:e,tagName:"Publisher",limit:2})):null,s.length?Vu()(BFt,{label:Object(Ze.default)("Developer")},void 0,Vu()(yHt,{metadataItem:e,tagName:"Director",limit:2})):null,a.length?Vu()(BFt,{label:Object(Ze.default)("Country")},void 0,Vu()(yHt,{metadataItem:e,tagName:"Country",limit:2})):null,r.length?Vu()(BFt,{label:Object(Ze.default)("Genre")},void 0,Vu()(yHt,{metadataItem:e,tagName:"Genre",limit:3})):null))),Vu()(CQt,{metadataItem:e}),Vu()(ZQt,{metadataItem:e}),XQt,Vu()(JHt,{metadataItem:e,onHubsReady:c}),Vu()(n_t,{metadataItem:e,onHubsReady:d}))}const{Fragment:eGt}=Nd.a;var tGt=Vu()(KWt,{});function iGt({metadataItem:e,onHubsReady:t}){const{year:i,summary:n,Director:a,Writer:s,Genre:r}=e,[o,l]=N_t(2,t);return Vu()(eGt,{},void 0,Vu()(LFt,{metadataItem:e},void 0,Vu()(M_t,{},void 0,Vu()(I_t,{},void 0,Vu()(mYe,{metadataItem:e,allowLink:!1})),Vu()(c_t,{metadataItem:e})),Vu()(O_t,{},void 0,i),Vu()(T_t,{},void 0,Vu()(y_t,{metadataItem:e})),Vu()(yFt,{metadataItem:e,promotedActions:["isPlayVisible","isPlayTrailerVisible","isAddToWatchlistVisible","isRemoveFromWatchlistVisible","isMarkPlayedVisible","isMarkUnplayedVisible","isSyncDownloadVisible","isEditVisible"]}),n?Vu()(CHt,{},void 0,n):null,Vu()(VQt,{},void 0,Vu()(zFt,{},void 0,a.length?Vu()(BFt,{label:Object(Ze.default)("Directed by")},void 0,Vu()(yHt,{metadataItem:e,tagName:"Director",limit:2})):null,s.length?Vu()(BFt,{label:Object(Ze.default)("Written by")},void 0,Vu()(yHt,{metadataItem:e,tagName:"Writer",limit:2})):null,Vu()(bHt,{label:Object(Ze.default)("Studio"),metadataItem:e}),r.length?Vu()(BFt,{label:Object(Ze.default)("Genre")},void 0,Vu()(yHt,{metadataItem:e,tagName:"Genre",limit:3})):null),Vu()(rHt,{metadataItem:e}))),Vu()(CQt,{metadataItem:e}),Vu()(ZQt,{metadataItem:e}),tGt,Vu()(JHt,{metadataItem:e,onHubsReady:o}),Vu()(n_t,{metadataItem:e,onHubsReady:l}))}const{Fragment:nGt}=Nd.a;function aGt({metadataItem:e}){const{summary:t}=e;return Vu()(nGt,{},void 0,Vu()(LFt,{metadataItem:e},void 0,Vu()(M_t,{},void 0,Vu()(I_t,{},void 0,Vu()(nqe,{metadataItem:e})),Vu()(c_t,{metadataItem:e})),Vu()(O_t,{},void 0,Vu()(mYe,{metadataItem:e,allowLink:!1})),Vu()(T_t,{},void 0,Vu()(y_t,{metadataItem:e})),Vu()(yFt,{metadataItem:e,promotedActions:["isPlayVisible","isMarkPlayedVisible","isMarkUnplayedVisible","isSyncDownloadVisible","isEditVisible"]}),t?Vu()(CHt,{},void 0,t):null,Vu()(rHt,{metadataItem:e})),Vu()(_Wt,{metadataItem:e}))}const{Fragment:sGt}=Nd.a;var rGt=Vu()(KWt,{});function oGt({metadataItem:e,onHubsReady:t}){const{year:i,summary:n,Genre:a}=e;return Vu()(sGt,{},void 0,Vu()(LFt,{metadataItem:e},void 0,Vu()(M_t,{},void 0,Vu()(I_t,{},void 0,Vu()(mYe,{metadataItem:e,allowLink:!1})),Vu()(c_t,{metadataItem:e})),Vu()(O_t,{},void 0,i),Vu()(T_t,{},void 0,Vu()(y_t,{metadataItem:e})),Vu()(yFt,{metadataItem:e,promotedActions:["isPlayVisible","isPlayTrailerVisible","isAddToWatchlistVisible","isRemoveFromWatchlistVisible","isMarkPlayedVisible","isMarkUnplayedVisible","isSyncDownloadVisible","isEditVisible"]}),n?Vu()(CHt,{},void 0,n):null,Vu()(zFt,{},void 0,Vu()(bHt,{label:Object(Ze.default)("Studio"),metadataItem:e}),a.length?Vu()(BFt,{label:Object(Ze.default)("Genre")},void 0,Vu()(yHt,{metadataItem:e,tagName:"Genre",limit:3})):null),Vu()(rHt,{metadataItem:e})),Vu()(_Wt,{metadataItem:e}),Vu()(CQt,{metadataItem:e}),rGt,Vu()(n_t,{metadataItem:e,onHubsReady:t}))}const{Fragment:lGt}=Nd.a;var cGt=Vu()(KWt,{});function dGt({metadataItem:e,onHubsReady:t}){const{summary:i,Genre:n}=e;return Vu()(lGt,{},void 0,Vu()(LFt,{metadataItem:e},void 0,Vu()(M_t,{},void 0,Vu()(mYe,{metadataItem:e,allowLink:!1})),Vu()(yFt,{metadataItem:e,promotedActions:["isPlayVisible","isAddToSavedVisible","isSyncDownloadVisible"]}),i?Vu()(CHt,{dangerouslySetInnerHTML:{__html:i}}):null,Vu()(zFt,{},void 0,n.length?Vu()(BFt,{label:Object(Ze.default)("Genre")},void 0,Vu()(yHt,{metadataItem:e,tagName:"Genre",limit:3})):null),Vu()(rHt,{metadataItem:e})),Vu()(_Wt,{metadataItem:e}),Vu()(CQt,{metadataItem:e}),cGt,Vu()(n_t,{metadataItem:e,onHubsReady:t}))}const{memo:uGt}=Nd.a;var pGt=uGt((function({metadataItem:e,onHubsReady:t}){const i=function(e){const{type:t,subtype:i}=e;if(qqe(e))switch(t){case Na.Movie:return DQt;case Na.Show:return OQt;case Na.Episode:return gQt}switch(i){case Aa.Clip:switch(t){case Na.Movie:return lQt}break;case Aa.Webshow:case Aa.Podcast:switch(t){case Na.Show:return dGt;case Na.Episode:case Na.Track:return RQt}}switch(t){case Na.Movie:return iGt;case Na.Show:return oGt;case Na.Season:return aGt;case Na.Episode:return AQt;case Na.Artist:return rQt;case Na.Album:return A_t;case Na.Collection:return dQt;case Na.Game:return $Qt}}(e);return i?Vu()(i,{metadataItem:e,onHubsReady:t}):Vu()(IKe,{title:Object(Ze.default)("Missing details"),description:Object(Ze.default)("Pardon our dust. This item is lacking a details page.")})})),hGt=i("UqSa"),mGt=i.n(hGt);const gGt=Nd.a.createElement,{useCallback:vGt,useEffect:yGt,useState:fGt}=Nd.a;var bGt=Vu()(gp,{},void 0,Vu()(Ip,{})),IGt=Vu()(SKe,{});function SGt(){const e=fGt(!1),t=e[1],i=e[0],[n,a]=Lg(),{metadata:{metadataItem:s,isPopulated:r,error:o}}=Object(Hu.d)(jBt),l=TBt(),[c,{height:d}]=Object(Kb.a)(),[u,{width:p,height:h}]=Object(Kb.a)(),m=fGt({scrollTop:0,scrollLeft:0}),g=m[1],v=m[0],y=vGt(e=>{g(e)},[]),{scrollRestoreProps:f,onScrollPositionReady:b}=HO({key:"PrePlayPage",onScrollPositionChange:y}),I=vGt(()=>{t(!0)},[t]);return yGt(()=>{i&&b()},[i,b]),!r&&!o||l&&!l.isPopulated&&!l.error?bGt:o||!s||(null==l?void 0:l.error)?IGt:Vu()(WKe,{containerServer:n,containerProvider:a,containerSourceURI:s.sourceURI,containerType:s.type,containerSubtype:s.subtype},void 0,gGt(kKe,tp()({ref:c},f),gGt("div",{className:mGt.a.prePlayContentWrapper,ref:u},Vu()(SBt,{width:p,height:d,contentHeight:h,scrollTop:v.scrollTop,scrollLeft:v.scrollLeft},void 0,Vu()(pGt,{metadataItem:s,onHubsReady:I})))))}var{useMemo:CGt}=Nd.a;function MGt(){var{siblingListSourceURI:e}=Object(Hu.d)(jBt),t=CGt(()=>e?k1e(e):()=>{},[e]);return Object(Hu.d)(t)}function DGt(e){var t=e["aria-label"],i=e.className,n=e.style,a={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",id:"plex-icon-toolbar-sibling-nav-560"};a["aria-hidden"]=!t,a.style=n,a.className=Ad.a.plexIcon+(i?" "+i:"");var s=[Nd.a.createElement.apply(Nd.a,["path",{d:"M5 39.36H43.4V43.2H5V39.36ZM5 27.84H43.4V31.68H5V27.84ZM5.00104 16.32H43.4V20.16H5.00104V16.32ZM5 4.79999H43.4V8.63999H5V4.79999Z"}].concat([]))];return t&&s.unshift(Nd.a.createElement("title",null,t)),Nd.a.createElement.apply(Nd.a,["svg",a].concat(s))}DGt.propTypes={"aria-label":vc.a.string,className:vc.a.string,style:vc.a.object};var PGt=DGt,OGt=i("Nw/v"),jGt=i.n(OGt);const{Fragment:wGt}=Nd.a;var TGt=Vu()(PGt,{}),EGt=Vu()(tf,{});function NGt({server:e,provider:t,metadataItem:i,metricsContextTuple:n}){const a=py(),s=MGt();if(!s)return null;const{items:r}=s,o=!i;return Vu()(wGt,{},void 0,Vu()(D$,{id:a.menuButtonID,isDisabled:o,onPress:a.onMenuButtonPress},void 0,TGt,Vu()(fy,{className:o?jGt.a.disabledDisclosureArrow:jGt.a.disclosureArrow,direction:a.isMenuOpen?hy:my})),Vu()(Qv,{isOpen:a.isMenuOpen,target:a.menuButtonID,size:_h,onMenuClose:a.onMenuClose},void 0,r.map(a=>Vu()(oy,{to:cu(e,t,a.key,{context:Object(Zb.b)(n)},null==i?void 0:i.playlistType),isSelected:a.key===(null==i?void 0:i.key)},a.key,a.type===Na.Episode?Vu()(wGt,{},void 0,Vu()(mht,{metadataItem:a}),EGt):null,a.title))))}const{Fragment:xGt}=Nd.a;var AGt=Vu()(S4e,{}),LGt=Vu()(yO,{}),kGt=Vu()(mO,{});function RGt({metadataItem:e}){const[t,i]=Lg(),{metricsContextTuple:n}=Object(Zb.d)(),a=MGt();if(!a||a.items.length<2)return null;const{items:s}=a,r=s.findIndex(t=>t.key===(null==e?void 0:e.key)),o=r<0?r:r+1,l=s[r<0?r:r-1],c=s[o],d={context:Object(Zb.b)(n)};return Vu()(xGt,{},void 0,AGt,Vu()("div",{},void 0,Vu()(D$,{"data-qa-id":"toolbarPrevious",to:cu(t,i,null==l?void 0:l.key,d),isDisabled:!l},void 0,LGt),Vu()(NGt,{metadataItem:e,server:t,provider:i,metricsContextTuple:n}),Vu()(D$,{"data-qa-id":"toolbarNext",to:cu(t,i,null==c?void 0:c.key,d),isDisabled:!c},void 0,kGt)))}var zGt=i("fPZ+"),UGt=i.n(zGt);const{Fragment:VGt,useCallback:BGt}=Nd.a;var FGt=Vu()(y4e,{}),HGt=Vu()(Eyt,{}),_Gt=Vu()(WVt,{}),WGt=Vu()(S4e,{});function QGt(){const e=Object(Hu.c)(),{metadata:{metadataItem:t,isPopulated:i}}=Object(Hu.d)(jBt),n=Object(Hu.d)(zg("showPrePlayArtwork")),a=Object(Hu.d)(zg("prePlayListStyles")),s=Object(Hu.d)(RWt),r=Object(Hu.d)(UWt),o=Object(Hu.d)(zWt),l=BGt(t=>{if(!s)return;const i=Object.assign({},a,{[s]:t});Object(Ti.a)(()=>{e(Object(Qu.l)({prePlayListStyles:i}))})},[e,a,s]),c=Object(Hu.d)(E2e),d=BGt(()=>{e(Object(Qu.l)({showPrePlayArtwork:!n}))},[e,n]);return c?FGt:Vu()(Z2e,{className:UGt.a.pageHeader},void 0,Vu()(x$,{},void 0,i?HGt:null),Vu()(R$,{},void 0,(null==t?void 0:t.grandparentArt)||(null==t?void 0:t.parentArt)||(null==t?void 0:t.art)?Vu()(VGt,{},void 0,Vu()(D4e,{},void 0,Vu()(D$,{tooltip:n?Object(Ze.default)("Blur Background"):Object(Ze.default)("Show Background"),isSelected:n,onPress:d},void 0,_Gt)),WGt):null,r&&o.length>1?Vu()(M2e,{listStyles:o,selectedListStyle:r,onListStyleSelect:l}):Vu()(M2e,{listStyles:[_a.PrePlayGrid],selectedListStyle:_a.PrePlayGrid}),Vu()(RGt,{metadataItem:t})))}const{useEffect:GGt}=Nd.a;var KGt=Vu()(QGt,{}),YGt=Vu()(SGt,{});function qGt({machineIdentifier:e,providerIdentifier:t,metadataKey:i}){const n=Object(Hu.c)(),a=Object(Hu.d)(Tg(e)),s=Object(Hu.d)(Mg(e,t)),{metadata:{metadataItem:r,isPopulated:o,isStale:l}}=Object(Hu.d)(jBt),c=r?mBt(s,r):void 0,d=rYe(Object(gs.a)({serverIdentifier:a.machineIdentifier,providerIdentifier:s.identifier,metadataItemKey:i})),u=Object(Hu.d)(zg("showPrePlayArtwork")),p=Object(Hu.d)(zg("playThemeMusic")),h=Object(Hu.d)(HEe);return nI({identifier:s.metricsIdentifier,type:null==r?void 0:r.type},o),GGt(()=>(d.isDeleted?U.a.trigger("navigate:back",{replace:!0}):n(Rr.actions.metadataItemFetchRequested({server:a,provider:s,metadataKey:i})),()=>{n(Rr.actions.reset())}),[i,d.isDeleted]),GGt(()=>{(l||d.isStale)&&n(Rr.actions.metadataItemRepopulateRequested({server:a,provider:s}))},[l,d.isStale]),GGt(()=>{if(!r)return;const e=r.thumb||r.parentThumb||r.grandparentThumb,t=r.grandparentArt||r.parentArt||r.art,i=u?t||e:e||t;n(gQ({serverEntityID:a.entityID,providerEntityID:s.entityID,imageUrl:i,allowBlur:!u||!t}))},[n,r,s.entityID,a.entityID,u]),GGt(()=>{if(!r||!p)return;const e=r.grandparentTheme||r.parentTheme||r.theme;n(vQ({serverEntityID:a.entityID,providerEntityID:s.entityID,theme:e}))},[n,r,p,s.entityID,a.entityID]),GGt(()=>{if(r&&r.librarySectionID)return n(xte({serverEntityID:a.entityID,providerEntityID:s.entityID,providerIdentifier:s.identifier,directoryID:r.librarySectionID})),()=>{n(xte({serverEntityID:null,providerEntityID:null,providerIdentifier:null,directoryID:null}))}},[n,r,s.entityID,s.identifier,t,a.entityID]),GGt(()=>{r&&h&&n(Zne({server:a,provider:s,metadataItem:r,metadataItemState:d,legacyAction:N7()}))},[n,h,r,d,s,a]),Vu()(kg,{machineIdentifier:e,providerIdentifier:t,contentDirectoryID:null==c?void 0:c.id},void 0,Vu()(EKe,{allowBackgroundPreset:!1,scrollDirection:cp.None},void 0,KGt,YGt))}const{useMemo:ZGt}=Nd.a;function JGt({selectedMachineIdentifier:e,selectedProviderIdentifier:t}){const i=ZGt(()=>Mg(e,t),[e,t]),n=Object(Hu.d)(i),a=Object(Hu.d)(LWt),s=a?mBt(n,a):void 0;return Vu()(Fit,{selectedMachineIdentifier:e,selectedProviderIdentifier:t,selectedSourceDirectoryID:null==s?void 0:s.id})}var XGt=Object(Wu.a)(e=>e.ui.prePlayPage.metadataItem,XK,(e,t)=>{const i=t[e]||{};return!(!i||!i.isPreFetched)});const $Gt=Yrt($Vt,(function(e){const t=e.ui.prePlayPage;return{providerEntityID:t.providerEntityID,metadataKey:t.metadataKey}}),(function(e,t){e(Yze({serverEntityID:t.serverEntityID,providerEntityID:t.providerEntityID,metadataKey:t.metadataKey})),e($ze()),e(eUe())}));var eKt=Object(Hu.b)((function(){return Object(Wu.a)(e=>e.ui.prePlayPage,XGt,zre,Rg.a,(e,t,i,n)=>{const{metadataItem:a,descendantList:s,isMetadataItemPending:r,metadataItemError:o}=e,l=!r&&!!o;return{metadataItemEntityID:a,metadataListEntityID:s,showSpinner:r&&!t,showError:l,showNotFoundError:l&&404===o.status,activeSelectionType:i.activeSelectionType,columnAdjustment:n.columnAdjustment}})}))($Gt),tKt=Vu()(Qnt,{}),iKt=Vu()(Qnt,{});var nKt=_u.extend({component(e){const{selectedServerID:t,selectedProviderID:i,params:n={}}=e,{key:a,record:s,allEpisodes:r,legacy:o}=n,l=i||jt.d,c=Object(pt.a)(ht.n,t),d=Object(pt.a)(ht.k,l,c),u=Object(pt.a)(ht.g,a,c);return o?Vu()(gKe,{metricsContext:n.context},void 0,Vu()(Bh,{},void 0,Vu()(Nh,{},void 0,Vu()(dBt,{selectedMachineIdentifier:t,selectedProviderIdentifier:l,providerEntityID:d,metadataItemEntityID:u}),Vu()(Jnt,{serverEntityID:c},void 0,a?Vu()(eKt,{serverEntityID:c,providerEntityID:d,metadataKey:a,record:1===parseInt(s,10),allEpisodes:1===parseInt(r,10)}):iKt)))):Vu()(Zb.a,{metricsPage:zd.eb,metricsContextParam:n.context},void 0,Vu()(Bh,{},void 0,Vu()(Nh,{},void 0,Vu()(JGt,{selectedMachineIdentifier:t,selectedProviderIdentifier:l}),Vu()(Jnt,{serverEntityID:c},void 0,a?Vu()(qGt,{machineIdentifier:t,providerIdentifier:l,metadataKey:a}):tKt))))}}),aKt=Vu()(Qnt,{});var sKt=_u.extend({component(e){const{selectedProviderID:t,params:i={}}=e,{key:n,context:a}=i,s=Object(pt.a)(ht.n,ST.a),r=Object(pt.a)(ht.k,t,s),o=Object(pt.a)(ht.g,n,s);return Vu()(Zb.a,{metricsPage:zd.eb,metricsContextParam:a},void 0,Vu()(Bh,{},void 0,Vu()(Nh,{},void 0,Vu()(dBt,{selectedMachineIdentifier:ST.a,selectedProviderIdentifier:t,providerEntityID:r,metadataItemEntityID:o}),Vu()(vst,{providerEntityID:r},void 0,n?Vu()(qGt,{machineIdentifier:ST.a,providerIdentifier:t,metadataKey:n}):aKt))))}});var rKt=Object(Wu.a)(Ku,e=>e.transientServer,(e,t)=>e[t]);const oKt=Nd.a.createElement;var lKt=function(e){return e.serverEntityID&&e.providerEntityID?oKt(eKt,e):Vu()(vh,{title:Object(Ze.default)("No longer available"),description:Object(Ze.default)("Details can only be mirrored temporarily while casting")},void 0,Vu()(zp,{to:"#",kind:Pp},void 0,Object(Ze.default)("Go Home")))};const cKt=Object(Hu.b)((function(){return Object(Wu.a)((e,{providerIdentifier:t})=>t,yg,rKt,(e,t,i)=>{if(i){const n=i.providers;for(let a=0,s=n.length;a<s;a++){const s=t[n[a]];if(s.identifier===e)return{serverEntityID:i.entityID,providerEntityID:s.entityID}}}return{}})}))(lKt);cKt.propTypes=Object.assign({},cKt.propTypes,{providerIdentifier:vc.a.string.isRequired});var dKt=cKt,uKt=Vu()(Fit,{});var pKt=_u.extend({component(e){const{selectedProviderID:t,params:i={}}=e;return Vu()(Bh,{},void 0,Vu()(Nh,{},void 0,uKt,Vu()(dKt,{providerIdentifier:t,metadataKey:i.key})))}});var hKt=R.Controller.extend({album(e,t,i){U.a.trigger("show:view",new uBt({selectedServerID:e,selectedProviderID:t,isPlaylistRoute:!1,params:V.parseParams(i)}))},playlist(e,t,i){U.a.trigger("show:view",new uBt({selectedServerID:e,selectedProviderID:t,params:V.parseParams(i)}))},providerPlaylist(e,t){U.a.trigger("show:view",new hBt({selectedProviderID:e,params:V.parseParams(t)}))},prePlay(e,t,i){U.a.trigger("show:view",new nKt({selectedServerID:e,selectedProviderID:t,params:V.parseParams(i)}))},transientPrePlay(e,t){U.a.trigger("show:view",new pKt({selectedProviderID:e,params:V.parseParams(t)}))},providerPrePlay(e,t){U.a.trigger("show:view",new sKt({selectedProviderID:e,params:V.parseParams(t)}))}});var mKt=zu.extend({controller:new hKt,appRoutes:{"!/provider/:providerID/details":"providerPrePlay","!/provider/:providerID/playlist":"providerPlaylist","!/server/:serverID(/provider/:providerID)/album":"album","!/server/:serverID(/provider/:providerID)/playlist":"playlist","!/server/:serverID(/provider/:providerID)/details":"prePlay","!/transient/provider/:providerID/details":"transientPrePlay"}}),gKt=i("/lm6"),vKt=i.n(gKt),yKt=R.ItemView.extend({template:vKt.a});var fKt=function(e,t,i){return null==i&&(i=e+"s"),1===t?e:i},bKt=i("+ICQ"),IKt=i.n(bKt),SKt=R.ItemView.extend({tagName:"li",className:"card-tile-list-item card-2-col-item",template:IKt.a,ui:{icon:".device-icon",syncInfo:".sync-info"},events:{"click .remove-device-btn":"onRemoveClick"},isMediaServer:function(){if(null==this.isServer){var e=this.model.get("product").toLowerCase();this.isServer="plex media server"===e}return this.isServer},bindings:{".device-icon":{modelAttribute:"product",modelListeners:["product","platform"],manual:!0,formatter:function(e,t){var i=XC(e,this.model.get("platform"));t.attr("src",i)}},".name":{modelAttribute:"name",modelListeners:["name","product"],autohide:!1,formatter:function(e){return e||this.model.get("product")}},".version":{modelAttribute:"productVersion",autohide:!1},".product":{modelAttribute:"product",autohide:!1},".platform":{modelAttribute:"platform",autohide:function(e){return e&&this.isMediaServer()}},".platform-version":{modelAttribute:"platformVersion",autohide:function(e){return e&&this.isMediaServer()}},".device":{modelAttribute:"device",autohide:!1},".last-seen":{modelAttribute:"lastSeenAt",autohide:!0,formatter:function(e,t){return Bj(e)}},".sync-count":{modelAttribute:"syncList",autohide:!1,formatter:function(e){if(e){var t,i=e.get("itemsCompleteCount");return i&&i>0&&(t=[i,fKt("item",i)].join(" "),this.ui.syncInfo.removeClass("hidden")),t}}},".sync-size":{modelAttribute:"syncList",autohide:!1,formatter:function(e){if(e){var t,i=e.get("totalSize");return i&&i>0&&(t=["(",U3(i),")"].join("")),t}}}},onRemoveClick:function(e){e.preventDefault(),this.isMediaServer()?Ge.execute("removeServer",{device:this.model}):Ge.execute("removeDevice",{device:this.model})}}),CKt=Sm.extend({tagName:"ul",className:"list card-tile-list",itemView:SKt,emptyView:yKt}),MKt=i("L1nn"),DKt=i.n(MKt),PKt=R.Layout.extend({className:"devices-container",template:DKt.a,regions:{list:".device-list-container"},events:{"click .dropdown-menu a":"onDeviceTypeDropdownClick","click .nav a":"onDeviceTypeClick"},ui:{filters:".nav a"},deviceTypes:[{id:"all",title:"All",ids:["all"]},{id:"web",title:"Web",ids:["Web Client","Plex Web"]},{id:"pht",title:"HTPC",ids:["Plex Home Theater","Plex for Home Theater","PlexHomeTheater","Plex Media Center","Plex Media Player"]},{id:"desktop",title:"Desktop",ids:["Plex for Mac","Plex for Windows","Plex for Linux"]},{id:"pms",title:"Server",ids:["Plex Media Server"]},{id:"android",title:"Android",ids:["Plex for Android","Android","Plex for Android (Mobile)","Plex for Android (TV)"]},{id:"ios",title:"iOS",ids:["Plex/iOS","Plex for iOS"]},{id:"samsung",title:"Samsung",ids:["Plex for Samsung"]},{id:"google-tv",title:"Google TV",ids:["Google TV"]},{id:"windows",title:"Windows",ids:["Plex for Windows"]},{id:"apple-tv",title:"Apple TV",ids:["Plex-ATV","Plex for Apple TV"]},{id:"windows-phone",title:"Windows Phone",ids:["Plex for Windows Phone"]},{id:"plexbmc",title:"PleXBMC",ids:["PleXBMC"]},{id:"roku",title:"Roku",ids:["Plex for Roku"]},{id:"popcorn-hour",title:"Popcorn Hour",ids:["Plex for Popcorn Hour"]},{id:"playstation",title:"PlayStation",ids:["Plex for PlayStation 4","Plex for PlayStation 5"],platforms:["Mystery 3"]},{id:"xbox",title:"Xbox",ids:["Plex for Xbox","Plex for Xbox One","Plex for Xbox 360"]},{id:"other",title:"Other",ids:[]}],initialize:function(e){const t=Object(ne.c)("appModel").get("user"),i=t.get("desktop").get("devices");this.model=t,this.collection=i,this.products=this.collection.products(),this.addOtherIds(),this.filteredDeviceTypes=this.getFilteredDeviceTypes(),this.selectedDeviceType=this.getDeviceType(e.deviceTypeID),this.selectedDevices=this.getSelectedDevices(),ra("devices",{deviceTypeID:this.selectedDeviceType.id,replace:!0,trigger:!1})},serializeData:function(){return{selectedDeviceType:this.selectedDeviceType,deviceTypes:this.filteredDeviceTypes}},sortDeviceTypes:function(e){return I.a.sortBy(e,(function(e){return"all"===e.id?"":e.title.toLowerCase()}))},getDeviceType:function(e){const t=this.deviceTypes[0];return e&&this.filteredDeviceTypes.find(t=>t.id===e)||t},getSelectedDevices:function(){if("all"===this.selectedDeviceType.id)return this.collection;{const e=this.collection.filterByProducts(this.selectedDeviceType.ids);if(this.selectedDeviceType.platforms){const t=this.collection.filterByPlatforms(this.selectedDeviceType.platforms);e.add(t.models)}return e}},getFilteredDeviceTypes:function(){var e=this.deviceTypes.filter((function(e){return"all"===e.id||I.a.intersection(this.products,e.ids).length>0}),this);return this.sortDeviceTypes(e)},addOtherIds:function(){var e=I.a.flatten(I.a.map(this.deviceTypes,(function(e){return e.ids}))),t=I.a.difference(this.products,e),i=I.a.find(this.deviceTypes,(function(e){return"other"===e.id}));I.a.each(t,(function(e){i.ids.push(e)}))},onRender:function(){this.list.show(new CKt({collection:this.selectedDevices}))},onDeviceTypeDropdownClick:function(e){e.preventDefault();const t=D()(e.currentTarget).data("id");this.selectedDeviceType=this.getDeviceType(t),this.selectedDevices=this.getSelectedDevices(),ra("devices",{deviceTypeID:this.selectedDeviceType.id,replace:!0,trigger:!1}),this.render()},onDeviceTypeClick:function(e){e.preventDefault();var t=D()(e.currentTarget),i=t.data("id"),n=this.collection;if(this.ui.filters.removeClass("selected"),t.addClass("selected"),"all"!==i){var a=I.a.findWhere(this.deviceTypes,{id:i});n=this.collection.filterByProducts(a.ids)}this.list.show(new CKt({collection:n}))}});const{Fragment:OKt,useState:jKt}=Nd.a;var wKt=Vu()(E8,{selectedKey:"devices"}),TKt=Vu()(dh,{},void 0,Vu()(Jh,{}));var EKt=function(e){const{deviceTypeID:t}=e,i=jKt({isDevicesPopulated:!1,devicesError:!1}),n=i[1],a=i[0];$u(()=>{Object(ne.c)("appModel").get("user").get("desktop").get("devices").fetch().then(()=>{n({isDevicesPopulated:!0,devicesError:!1})},()=>{n({isDevicesPopulated:!1,devicesError:!0})})});const s=!a.isDevicesPopulated&&!a.devicesError,r=!s&&a.devicesError,o=!s&&!r;return Vu()(OKt,{},void 0,wKt,s?TKt:null,r?Vu()(vh,{title:Object(Ze.default)("Your devices are unavailable. Please try again later.")}):null,o?Vu()(F5,{metricsPage:zd.E},void 0,Vu()(L5,{},void 0,Object(Ze.default)("Authorized Devices")),Vu()(EQ,{view:PKt,viewOptions:{deviceTypeID:t}})):null)};var NKt=_u.extend({component(e){const{deviceTypeID:t}=e;return Vu()(kh,{},void 0,Vu()(Nh,{isAccountRequired:!0},void 0,Vu()(EKt,{deviceTypeID:t})))}});const xKt=[{key:"general",title:()=>Object(Ze.default)("General")},{key:"quality",title:()=>Object(Ze.default)("Quality")},{key:"debug",title:()=>Object(Ze.default)("Debug"),isAdvanced:!0},{key:"player",title:()=>Object(Ze.default)("Player")},{key:"downloads",title:()=>Object(Ze.default)("Downloads")}];function AKt(){const e=Object.keys(Pu.a.getLanguages()).map(e=>({value:e,title:nG(e)}));return e.sort((e,t)=>e.title.localeCompare(t.title)),e}var LKt=function(e,t){const{base:i,searchParams:n,hashPath:a,hashParams:s}=me(e),r=Object(te.a)(n);return i+"?"+Object(Q4.a)(Object.assign({},r,t))+((a||s?"#":"")+a+s)};const kKt="auto",RKt="2.0",zKt="2.1",UKt="3.1",VKt="5.1",BKt="7.1",FKt="ac3",HKt="dts",_Kt="dts-hd",WKt="eac3",QKt="truehd";Object.values(m),Object.values(m),Object.values(g);var GKt={musicSettings:[{value:al.a.ORIGINAL,title:()=>Object(Ze.default)("Original")},{value:3,title:()=>Object(Ze.default)("High (320 Kbps)")},{value:2,title:()=>Object(Ze.default)("Medium (192 Kbps)")},{value:1,title:()=>Object(Ze.default)("Low (128 Kbps)")}],videoSettings:[{value:al.a.ORIGINAL,title:()=>Object(Ze.default)("Original")},{value:12,title:()=>Object(Ze.default)("High (20 Mbps, 1080p)")},{value:8,title:()=>Object(Ze.default)("Medium (4 Mbps, 720p)")},{value:5,title:()=>Object(Ze.default)("Low (1.5 Mbps, 480p)")}]};var KKt=i("P5aE"),YKt=i.n(KKt),qKt=[{value:0,title:"None"},{value:1,title:"1"},{value:2,title:"2"},{value:3,title:"3"},{value:4,title:"4"},{value:5,title:"5"}];var ZKt=R.ItemView.extend({className:"web-settings-container",template:YKt.a,ui:{chromecastCustomGroup:"#chromecast-custom-group",customHomeStreamingSettings:".custom-home-streaming-settings",recommendedHomeStreamingSettings:".recommended-home-streaming-settings",toggleSyncBtn:".toggle-sync-btn",resetCustomizationBtn:".reset-customization-btn",restoreBtn:".restore-btn",submitBtn:".submit-btn",message:".form-message",audioDeviceName:".audio-device-name",audioDevicesFieldSets:".audio-device-fields",audioDeviceKindSelects:".audio-device-kind",audioDeviceKindFieldSets:".audio-device-kind-fields"},events:{"click .toggle-advanced-btn":"onToggleAdvancedClick","click .reload-securely-btn":"onReloadSecurelyClick","click .settings-nav a":"onSettingsGroupClick","change .audio-device-name":"onAudioDeviceChange","change .audio-device-kind":"onAudioDeviceKindChange","change #chromecastAppID":"onChromecastAppIDChange","change #useHomeStreamingRecommendedSettings":"onUseHomeStreamingRecommendedSettingsChange","change input[id]":"onInputChange","input input[type=text]":"onInputChange","change select[id]":"onInputChange","click .toggle-sync-btn":"onToggleSync","click .reset-customization-btn":"onResetCustomization","click .restore-btn":"onRestore","click .reset-reminders-btn":"onResetReminders","submit #web-settings-form":"onSubmit"},onlyAfterRender:["saveChanges","displayHomeStreamingSettings"],initialize:function(e){this.changes={};var t=Object(ne.c)("appModel"),i=t.get("user"),n=i.get("experienceSettings");this.model=t.get("deviceSettings"),this.settingsGroup=e.settingsGroup,this.listenTo(i,"change:signedIn",this.onSignedInChange),this.listenTo(t,"change:primaryServer",this.render),this.listenTo(U.a,"shortcut:save",this.saveChanges);const a=t.get("deviceSettings").get("audioDevices");a&&this.listenTo(a,"change",this.onAudioDevicesChange);var s=n.get("showAdvancedSettings");if(this.$el.toggleClass("show-advanced",s),this.displayHomeStreamingSettings(n.get("useHomeStreamingRecommendedSettings")),"general"===this.settingsGroup){Object(ne.c)("appStore").dispatch(Object(Kn.A)({hasDismissedInsecureHostedAppWarning:!0}))}},serializeData:function(){var e=[{value:"h:mma",title:Object(Ze.default)("12 Hour")},{value:"HH:mm",title:Object(Ze.default)("24 Hour")}],t=this.model.toJSON(),i=Object(ne.c)("appModel"),n=Object(wi.o)(i),a=n.get("experienceSettings").toJSON(),s=n.isNinja(),r=n.get("restricted"),o=n.get("isSignedIn")&&be.a.allowSyncSettings&&!a.isRemoteSchemaVersionNewer,l=n.get("isSignedIn")&&be.a.allowSyncSettings&&a.isRemoteSchemaVersionNewer,c=o7.prop("video"),d=n.isNinja()?"4.51.3-6ef4412":"4.51.3",u=I.a.escape($.prop("X-Plex-Product"));return Object.assign({},this.serializePlatformData(),{deviceSettings:t,experienceSettings:a,canPlayAdaptiveBitrate:!0,hasSubtitleBurnLevel:!0,hasSubtitleColor:!0,hasSubtitlePosition:!0,hasSubtitleSize:!0,canDebugAds:n.isEmployee(),canDebugAdaptiveBitrate:s,isAnonymous:n.get("anonymous"),isRestricted:r,isSyncSettingsAllowed:o,isSyncSettingsRestrictedBySchemaVersion:l,isHybridPlatform:!1,isNinja:s,isQtDesktop:!1,version:d,languages:AKt(),debugLevels:Kl.a.settings,debugAdKinds:Gl.a.settings,subtitlesBurnLevels:mc.settings,chromecastAppIDs:ql.settings,availableQualities:ol.a.getAvailableQualities({lowestQualityIndex:c.lowestQualityIndex}).reverse(),subtitleColors:dc.settings,subtitlePositions:pc.settings,subtitleSizes:jfe.settings,musicDownloadQualityLevels:GKt.musicSettings,videoDownloadQualityLevels:GKt.videoSettings,httpFallbackOptions:z.a.isHostedHttps?null:lc.settings,alertIcon:Bd(ph),showReloadSecurely:!1,extrasPrefixCounts:qKt,timeFormats:e,generalSettingsRoute:"#!/settings/web/general",escapedProductName:u,hasV4DirectoryFeature:n.get("features").get(wt.C),hasV4DVRSetupFeature:n.get("features").get(wt.D),normalizeDownmixedVolume:100===a.audioBoost})},serializePlatformData:()=>({}),saveChanges:function(){const e=this.ui.toggleSyncBtn,t=this.ui.resetCustomizationBtn,i=this.ui.restoreBtn,n=this.ui.submitBtn,a=this.ui.message;if(n.isDisabled())return;a.text(""),a.removeClass("has-error"),e.addClass("disabled"),t.addClass("disabled"),i.addClass("disabled"),n.addClass("active");const s=!!this.changes.language,r=!1===this.changes.shouldSaveLastSourcePivots,o=!(!this.changes.chromecastAppID&&!this.changes.chromecastCustomAppID),l=this.tryInterceptAudioDeviceChanges(this.changes).then(e=>this.interceptNormalizedDownmixedVolumeChange(e)).then(e=>this.saveSettings(e));l.done(I.a.bind((function(){const e=Object(ne.c)("appStore");this.changes={},r&&e.dispatch(Object(Kn.t)()),o&&e.dispatch(n7(4)),s?e.dispatch(Ws.actions.languageChanged()):(n.addClass("disabled"),a.text(Object(Ze.default)("Your changes have been saved.")))}),this)),l.fail(I.a.bind((function(){const e=To(Object(ne.c)("appModel").get("user"))?Object(Ze.default)("Unable to sync these changes with other devices at this time. Plex will automatically retry later."):Object(Ze.default)("Your changes could not be saved.");a.addClass("has-error"),a.text(e)}),this)),l.always(I.a.bind((function(){s||(e.removeClass("disabled"),t.removeClass("disabled"),i.removeClass("disabled"),n.removeClass("active"))}),this))},toggleSync:function(){const e=this.ui.toggleSyncBtn,t=this.ui.resetCustomizationBtn,i=this.ui.submitBtn,n=this.ui.message;if(e.isDisabled())return;n.text("");const a=this.getToggleSyncConfirmModal();a.promise.then(()=>(e.addClass("active"),t.addClass("disabled"),i.addClass("disabled"),this.toggleShouldSyncSettings().then(()=>{this.changes={},this.render(),a.hide()},()=>{n.text(Object(Ze.default)("An error occurred, could not load settings from your Plex profile.")),e.removeClass("active"),t.removeClass("disabled"),i.removeClass("disabled"),a.hide()}))),U.a.trigger("show:modal",a)},resetCustomization:function(){const e=this.ui.resetCustomizationBtn,t=this.ui.toggleSyncBtn,i=this.ui.submitBtn,n=this.ui.message;if(e.isDisabled())return;n.text("");const a=this.getResetCustomizationConfirmModal();a.promise.then(()=>{e.addClass("active"),t.addClass("disabled"),i.addClass("disabled"),Object(ne.c)("appStore").dispatch(BA()),a.hide()}),U.a.trigger("show:modal",a)},restoreDefaults:function(){const e=this.ui.restoreBtn,t=this.ui.submitBtn,i=this.ui.message;if(e.isDisabled())return;i.text("");const n=this.getRestoreDefaultsConfirmModal();n.promise.then(()=>(e.addClass("active"),t.addClass("disabled"),this.restoreDefaultSettings().then(()=>{this.changes={},this.render(),n.hide()},()=>{i.text(Object(Ze.default)("An error occurred, defaults have not been restored.")),e.removeClass("active"),t.removeClass("disabled"),n.hide()}))),U.a.trigger("show:modal",n)},getToggleSyncConfirmModal:function(){const e=Object(ne.c)("appModel").get("deviceSettings").get("shouldSyncSettings"),t=e?Object(Ze.default)("Turn off settings sync"):Object(Ze.default)("Turn on settings sync"),i=$.prop("X-Plex-Product"),n=e?Object(Ze.default)("Changes to {productName} settings and customization will no longer synchronize with other {productName} instances.",{productName:i}):Object(Ze.default)("{productName} settings and customization will now be used on other {productName} instances.",{productName:i});return new vn({title:t,message:n,confirmLabel:t,cancelLabel:Object(Ze.default)("Cancel"),async:!0})},getResetCustomizationConfirmModal:function(){const e=Object(Ze.default)("Reset customization");return new vn({title:e,message:Object(Ze.default)("You are about to reset your sidebar navigation and home screen layout to the default state."),confirmLabel:e,cancelLabel:Object(Ze.default)("Cancel"),async:!0,hasDanger:!0})},getRestoreDefaultsConfirmModal:function(){const e=To(Object(ne.c)("appModel").get("user")),t=Object(Ze.default)("Restore defaults"),i=$.prop("X-Plex-Product"),n=e?Object(Ze.default)("All {productName} settings and customization will be reset and restored to their default state. This will affect other {productName} instances.",{productName:i}):Object(Ze.default)("All {productName} settings and customization will be reset and restored to their default state. Other {productName} instances will not be affected.",{productName:i});return new vn({title:t,message:n,confirmLabel:t,cancelLabel:Object(Ze.default)("Cancel"),async:!0,hasDanger:!0})},waitForAttribute:function(e,t,i){var n=D.a.Deferred(),a="change:"+t;return e.on(a,(function t(s,r){r===i&&(e.off(a,t),n.resolve())})),n.promise()},tryInterceptAudioDeviceChanges:function(e){return D.a.Deferred().resolve(e).promise()},interceptAudioDeviceChanges:function(e){const t=Object(ne.c)("appModel").get("deviceSettings"),i=t.get("audioDevices"),n=e["player.audioDevice"],a=new Set;for(const t in e)/^ignore/.test(t)&&(a.add(document.getElementById(t).dataset.cid),delete e[t]);if(a.forEach(e=>{const t=i.get(e),n=this.getAudioDeviceSettingsFromForm(e);t&&n&&(Object(C.a)("[Settings] Updating "+t.get("description")+" ("+t.get("name")+"): "+JSON.stringify(n)),t.set(n))}),a.size||n){const a=i.get(n||t.get("player.audioDevice"));if(a)if(a.get("present")){const t={"player.audioDevice":a.get("name"),"player.audioChannelLayout":a.get("channelLayout"),"player.audioPassthroughCodecs":a.get("passthroughCodecs"),"player.transcodeToAC3Enabled":a.get("transcodeToAC3")};Object.assign(e,t),Object(C.a)("[Settings] Audio device changes "+a.get("description")+" ("+a.get("name")+"): "+JSON.stringify(t))}else C.a.error("[Settings] Expected device "+a.get("description")+" ("+a.get("name")+") is absent. Changes saved but refusing to select absent device.");else C.a.error("[Settings] Expected audio device missing.")}return D.a.Deferred().resolve(e).promise()},getAudioDeviceFields:function(e){return this.ui.audioDevicesFieldSets.toArray().find(t=>t.dataset.cid===e)},getAudioDeviceKindSelect:function(e){return this.ui.audioDeviceKindSelects.toArray().find(t=>t.dataset.cid===e)},getAudioDeviceKindFields:function(e,t){return this.ui.audioDeviceKindFieldSets.toArray().find(i=>i.dataset.cid===e&&i.dataset.kind===t)},getAudioDeviceSettingsFromForm:function(e){const t=this.getAudioDeviceKindSelect(e);if(!t)return null;const i=this.getAudioDeviceKindFields(e,t.value),n={channelLayout:i.querySelector("[name=channelLayout]").value,kind:parseInt(t.value,10),passthroughCodecs:[],transcodeToAC3:i.querySelector("[name=transcodeToAC3]").checked};for(const e of i.querySelectorAll("[name=passthroughCodecs]"))e.checked&&n.passthroughCodecs.push(e.value);return n},interceptNormalizedDownmixedVolumeChange:function(e){const{normalizeDownmixedVolume:t}=e;return null!=t&&(delete e.normalizeDownmixedVolume,e.audioBoost=t?100:700),D.a.Deferred().resolve(e).promise()},saveSettings:function(e){var t=[],i=Object(ne.c)("appModel"),n=[{model:i.get("deviceSettings"),actionCreator:Kn.A},{model:i.get("user").get("experienceSettings"),actionCreator:Qu.l}].reduce((e,{model:i,actionCreator:n})=>{var a={},s={};for(var r in e){var o,l=e[r];if(i.hasAttr(r)){const e=Object.getPrototypeOf(i),t=e.syncedAttrs[r]||e.sessionAttrs[r];"string"==typeof l&&t===Ae.a.integer&&(l=Object(mo.a)(l)),o=a}else o=s;o[r]=l}return Object.keys(a).length&&t.push(this.saveSettingUsingActionCreator(a,i,n)),s},e);return Object.keys(n).length&&t.push(this.model.save(n)),t.length?D.a.when(...t):D.a.Deferred().resolve().promise()},toggleShouldSyncSettings:function(){const e=Object(ne.c)("appModel").get("deviceSettings"),t=Object(ne.c)("appModel").get("user").get("experienceSettings"),i=e.get("shouldSyncSettings");return this.saveSettingUsingActionCreator({shouldSyncSettings:!i},e,Kn.A).then(()=>this.saveSettingUsingActionCreator({},t,Qu.l))},restoreDefaultSettings:function(){const e=[],t=Object(ne.c)("appModel");return[{model:t.get("deviceSettings"),actionCreator:du},{model:t.get("user").get("experienceSettings"),actionCreator:hL}].forEach(({model:t,actionCreator:i})=>{e.push(this.saveSettingUsingActionCreator({},t,i))}),D.a.when(...e)},saveSettingUsingActionCreator:function(e,t,i){if(!t.has("isSaving"))return Object(ne.c)("appStore").dispatch(i(e)),D.a.Deferred().resolve().promise();var n=t.get("isSaving"),a=this.waitForAttribute(t,"isSaving",!1);return a=a.then(()=>n?this.saveSettingUsingActionCreator(e,t,i):t.get("saveError")?D.a.Deferred().reject().promise():D.a.Deferred().resolve().promise()),n||window.setTimeout(()=>{Object(ne.c)("appStore").dispatch(i(e))},0),a},displayHomeStreamingSettings:function(e){this.ui.customHomeStreamingSettings.toggleClass("hidden",e),this.ui.recommendedHomeStreamingSettings.toggleClass("hidden",!e)},onRender:function(){this.$("#"+this.settingsGroup+"-web-group").addClass("active"),this.$("#"+this.settingsGroup+"-web-group-footer").addClass("active")},onSignedInChange:function(e,t){null!=t&&this.render()},onToggleAdvancedClick:function(e){e.preventDefault();var t=this.$el.hasClass("show-advanced");this.$el.toggleClass("show-advanced",!t),t&&"debug"===this.settingsGroup&&(window.location.hash="#!/settings/web/general"),Object(ne.c)("appStore").dispatch(Object(Qu.l)({showAdvancedSettings:!t}))},onReloadSecurelyClick(e){window.location=LKt(jd(window.location.href,"https:"),{secure:1})},onSettingsGroupClick:function(e){e.preventDefault();var t=D()(e.currentTarget),i=t.attr("href");this.$(".settings-group").removeClass("active"),this.$(i).addClass("active"),this.$(".nav a").removeClass("selected"),t.addClass("selected")},onChromecastAppIDChange:function(e){var t=e.currentTarget.value===ql.CUSTOM;this.ui.chromecastCustomGroup.toggleClass("hidden",!t)},onUseHomeStreamingRecommendedSettingsChange:function(e){this.displayHomeStreamingSettings(!!e.currentTarget.checked)},onInputChange:function(e){var t=D()(e.currentTarget),i=e.currentTarget,n=i.value;"checkbox"===i.type&&(n=t.prop("checked")),"int"===t.data("type")&&(n=parseInt(n,10)),this.changes[i.id]=n,this.ui.submitBtn.removeClass("disabled"),this.ui.message.text(""),this.ui.message.removeClass("has-error")},onAudioDevicesChange:function(e){const t=this.ui.audioDeviceName[0],i=t.querySelector("option[value="+e.cid+"]");i&&(i.disabled=!e.get("present"),i.disabled&&i.selected&&(t.selectedIndex=0,this.onAudioDeviceChange({target:t})))},onAudioDeviceChange:function(e){this.ui.audioDevicesFieldSets.each((t,i)=>{i.classList.toggle("hidden",e.target.value!==i.dataset.cid)})},onAudioDeviceKindChange:function(e){const{cid:t}=e.target.dataset,i=e.target.value;this.ui.audioDeviceKindFieldSets.each((e,n)=>{n.classList.toggle("hidden",n.dataset.cid!==t||n.dataset.kind!==i)})},onToggleSync:function(e){e.preventDefault(),this.toggleSync()},onResetCustomization:function(e){e.preventDefault(),this.resetCustomization()},onRestore:function(e){e.preventDefault(),this.restoreDefaults()},onResetReminders:function(e){e.preventDefault(),Object(ne.c)("appStore").dispatch(yL())},onSubmit:function(e){e.preventDefault(),this.saveChanges()}});const{Fragment:JKt,useEffect:XKt}=Nd.a;var $Kt=Vu()(dh,{},void 0,Vu()(Jh,{})),eYt=Vu()(tf,{});var tYt=function(e){const{settingsSubset:t,title:i,showSpinner:n,isSettingsSubsetAllowed:a,isSignedIn:s,onPopulateHomeUsers:r}=e;return $u(()=>{ra("webSettings",{settingsSubset:"general"})},!a),XKt(()=>{s&&Object(Ti.a)(r)},[s,r]),n?$Kt:Vu()(JKt,{},void 0,Vu()(E8,{selectedKey:"web-client--settings--"+t}),Vu()(F5,{metricsPage:zd.kb,metricsPane:"web:"+t},void 0,Vu()(L5,{},void 0,$.prop("X-Plex-Product"),eYt,i()),Vu()(EQ,{view:ZKt,viewOptions:{subset:"web",settingsGroup:t}})))};const iYt={onPopulateHomeUsers:EA};var nYt=Object(Hu.b)((function(){return Object(Wu.a)((e,{settingsSubset:t})=>t,Yu,Zu.a,lJ,(e,t,i,n)=>{const a=(s=e,xKt.find(e=>e.key===s));var s;const r=a&&(i.experienceSettings.showAdvancedSettings||!a.isAdvanced),o=t.isPending&&t.connectionTestResult===Zi.PENDING,l=!t.isResolved&&!t.isRejected||t.isResolved&&(!n.isHomeUsersPopulated&&!n.homeUsersError||!!n.homeUsersError&&n.isHomeUsersPending);return{showSpinner:!r||o||l,settingsSubset:e,title:a&&a.title,isSettingsSubsetAllowed:r,isSignedIn:i.isSignedIn}})}),iYt)(tYt);var aYt=_u.extend({initialize:function(){this.listenTo(U.a,"change:language",this.render)},component(e){const{settingsSubset:t}=e;return Vu()(kh,{},void 0,Vu()(Nh,{},void 0,Vu()(nYt,{settingsSubset:t})))}});var sYt=R.Controller.extend({settings(){return this.webSettings("general")},webSettings(e){U.a.trigger("show:view",new aYt({settingsSubset:e}))},legacyWebSettings(){return this.webSettings("general")},legacyServerSettings(e,t){let i;if(t){const e=l2.find(e=>!!e.groups.find(e=>e.key===t));e&&(i=e.key)}else i="settings",t="general";this.showServerSettingsView(e,i,t)},serverSettings(e,t){this.showServerSettingsView(e,"settings",t)},manage(e,t){this.showServerSettingsView(e,"manage",t)},showServerSettingsView(e,t,i){U.a.trigger("show:view",new L8({settingsSection:t,group:i,serverID:e}))},devices(e){U.a.trigger("show:view",new NKt({deviceTypeID:e}))}}),rYt=zu.extend({controller:new sYt,appRoutes:{"!/settings/server/:serverID/settings/:group":"serverSettings","!/settings/server/:serverID/manage/:group":"manage","!/settings/web/(:settingsSubset)":"webSettings","!/settings/devices(/:deviceTypeID)":"devices","!/settings":"settings","!/settings/web":"legacyWebSettings","!/settings/server(/:serverID)(/:group)":"legacyServerSettings"}});var oYt=function(e){return e.get("desktop").get("settings").populate().then(e=>e.get("AcceptedEULA").save({AcceptedEULA:!0}))},lYt=i("dpdm"),cYt=i.n(lYt),dYt=R.ItemView.extend({className:"setup-basic-container",template:cYt.a,ui:{modalContainer:".modal-container",connectCheckbox:"#connect",publishServerCheckbox:"#PublishServerOnPlexOnlineKey",submitBtn:".submit-btn",nextBtn:".next-btn"},collectionEvents:{reset:"render"},events:{"change input[id]":"onInputChange","submit #setup-basic-form":"onSubmit","change #PublishServerOnPlexOnlineKey":"onPublishSettingChange"},initialize:function(){I.a.bindAll(this,"onPlexPassModalClose"),this.collection=this.model.get("desktop").get("settings"),this.collection.populate({reset:!0}),this.model.isVersionOrNewer("0.9.15.5")?this.changes={PublishServerOnPlexOnlineKey:1}:this.changes={FirstRun:0,PublishServerOnPlexOnlineKey:1};var e=this.model.get("superToken");e&&(this.changes.PlexOnlineToken=e);var t=Object(ne.c)("appModel").get("user").get("hasPlexSubscription");this.isPlexPassModalOpen=!this.model.get("isDesktop")&&!t},serializeData:function(){var e=this.model.toJSON(),t=this.collection.get("FriendlyName"),i=this.collection.get("PublishServerOnPlexOnlineKey");return{server:e,friendlyNameSetting:t?t.toJSON():null,publishSetting:i?i.toJSON():null}},mountReact:function(){Fu.a.render(Vu()(Hu.a,{store:Object(ne.c)("appStore")},void 0,Vu()(dk,{origin:"server-setup",metricsProperties:{context:_t.SETUP_WIZARD,firstRun:!0},isOpen:this.isPlexPassModalOpen,onModalClose:this.onPlexPassModalClose})),this.ui.modalContainer[0])},unmountReact:function(){this.isRendered&&Fu.a.unmountComponentAtNode(this.ui.modalContainer[0])},submit:function(){var e=this.ui.submitBtn;if(!e.hasClass("active")){e.addClass("active"),Object(ne.c)("metrics").trackClick({action:Rd.W,page:zd.mb,pane:"name",firstRun:!0,value:this.ui.publishServerCheckbox.is(":checked")});var t=this.save();(t=t.done(()=>{this.ui.nextBtn.click()})).always((function(){e.removeClass("active")}))}},save(){return this.saveChanges().then(()=>this.claimServer())},saveChanges(){return(I.a.isEmpty(this.changes)?D.a.Deferred().resolve().promise():this.collection.first().save(this.changes)).then(null,()=>{U.a.trigger("show:alert",{type:"error",message:Object(Ze.default)("There was a problem saving these settings.")})})},claimServer(){const e=Object(ne.c)("appModel"),t=e.get("cloudServer");return this.model.supports("claimServer")&&!this.model.get("isClaimed")&&!this.model.get("superToken")&&!e.get("user").get("anonymous")?ie(t.populate().then(()=>Ge.execute("signInServer",{claim:!0,cloudAccount:this.model.get("desktop").get("cloudAccount")}).then(null,()=>{U.a.trigger("show:alert",{type:"error",message:Object(Ze.default)("There was a problem claiming this server.")})}))):D.a.Deferred().resolve().promise()},onBeforeRender:function(){this.unmountReact()},onRender:function(){this.mountReact()},onClose:function(){this.unmountReact()},onInputChange:function(e){var t=e.currentTarget,i=t.value;"checkbox"===t.type&&(i=t.checked?1:0),this.changes[t.id]=i},onSubmit:function(e){e.preventDefault(),this.submit()},onPlexPassModalClose:function(){this.isPlexPassModalOpen=!1,this.mountReact()}}),uYt=i("vEnl"),pYt=i.n(uYt),hYt=R.ItemView.extend({className:"setup-complete-container",template:pYt.a,ui:{modalContainer:".modal-container",submitBtn:".submit-btn",doneBtn:".done-btn"},collectionEvents:{reset:"render"},events:{"change input[id]":"onInputChange","submit #setup-complete-form":"onSubmit"},initialize:function(){I.a.bindAll(this,"onDVRSetupModalClose"),this.collection=this.model.get("desktop").get("settings"),this.collection.populate({reset:!0}),this.changes={},this.isDVRSetupModalOpen=!1;var e=ne.c("appModel").get("user");e.get("isSignedIn")?e.fetch().done(this.whenRendered(()=>{this.ui.submitBtn.removeClass("active")})):this.once("attached",()=>{this.ui.submitBtn.removeClass("active")})},serializeData:function(){var e=this.collection.get("collectUsageData");return{devicesImg:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTQ4IiBoZWlnaHQ9IjM2MCIgdmlld0JveD0iMCAwIDU0OCAzNjAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPjx0aXRsZT5Hcm91cDwvdGl0bGU+PGRlZnM+PHBhdGggaWQ9ImEiIGQ9Ik0xOTYgMTczdjEzSDgxdi0xNCIvPjxtYXNrIGlkPSJqIiB4PSIwIiB5PSIwIiB3aWR0aD0iMTE1IiBoZWlnaHQ9IjE0IiBmaWxsPSIjZmZmIj48dXNlIHhsaW5rOmhyZWY9IiNhIi8+PC9tYXNrPjxwYXRoIGQ9Ik02LjUyMiAxNzNDMi45MiAxNzMgMCAxNzAuNjMxIDAgMTY3LjcxVjUuMjlDMCAyLjM3IDIuOTIgMCA2LjUyMiAwaDI2Mi45NTZDMjczLjA4IDAgMjc2IDIuMzY5IDI3NiA1LjI5djE2Mi40MmMwIDIuOTIxLTIuOTIgNS4yOS02LjUyMiA1LjI5SDYuNTIyeiIgaWQ9ImIiLz48bWFzayBpZD0iayIgeD0iMCIgeT0iMCIgd2lkdGg9IjI3NiIgaGVpZ2h0PSIxNzMiIGZpbGw9IiNmZmYiPjx1c2UgeGxpbms6aHJlZj0iI2IiLz48L21hc2s+PHBhdGggaWQ9ImMiIGQ9Ik0xMyAxNjAuMTg1aDI0OS45MVYxM0gxM3oiLz48bWFzayBpZD0ibCIgeD0iMCIgeT0iMCIgd2lkdGg9IjI0OS45MTEiIGhlaWdodD0iMTQ3LjE4NSIgZmlsbD0iI2ZmZiI+PHVzZSB4bGluazpocmVmPSIjYyIvPjwvbWFzaz48cmVjdCBpZD0iZCIgd2lkdGg9IjE5MiIgaGVpZ2h0PSIxNDAiIHJ4PSI2Ii8+PG1hc2sgaWQ9Im0iIHg9IjAiIHk9IjAiIHdpZHRoPSIxOTIiIGhlaWdodD0iMTQwIiBmaWxsPSIjZmZmIj48dXNlIHhsaW5rOmhyZWY9IiNkIi8+PC9tYXNrPjxwYXRoIGlkPSJlIiBkPSJNMjAgMTFoMTUydjExOEgyMHoiLz48bWFzayBpZD0ibiIgeD0iMCIgeT0iMCIgd2lkdGg9IjE1MiIgaGVpZ2h0PSIxMTgiIGZpbGw9IiNmZmYiPjx1c2UgeGxpbms6aHJlZj0iI2UiLz48L21hc2s+PGNpcmNsZSBpZD0iZiIgY3g9IjEyIiBjeT0iNzAiIHI9IjYiLz48bWFzayBpZD0ibyIgeD0iMCIgeT0iMCIgd2lkdGg9IjEyIiBoZWlnaHQ9IjEyIiBmaWxsPSIjZmZmIj48dXNlIHhsaW5rOmhyZWY9IiNmIi8+PC9tYXNrPjxwYXRoIGlkPSJnIiBkPSJNMCAxOGg3MnY4NEgweiIvPjxtYXNrIGlkPSJwIiB4PSIwIiB5PSIwIiB3aWR0aD0iNzIiIGhlaWdodD0iODQiIGZpbGw9IiNmZmYiPjx1c2UgeGxpbms6aHJlZj0iI2ciLz48L21hc2s+PGNpcmNsZSBpZD0iaCIgY3g9IjM2IiBjeT0iMTA5IiByPSI1Ii8+PG1hc2sgaWQ9InEiIHg9IjAiIHk9IjAiIHdpZHRoPSIxMCIgaGVpZ2h0PSIxMCIgZmlsbD0iI2ZmZiI+PHVzZSB4bGluazpocmVmPSIjaCIvPjwvbWFzaz48cmVjdCBpZD0iaSIgd2lkdGg9IjcyIiBoZWlnaHQ9IjEyMCIgcng9IjguNCIvPjxtYXNrIGlkPSJyIiB4PSIwIiB5PSIwIiB3aWR0aD0iNzIiIGhlaWdodD0iMTIwIiBmaWxsPSIjZmZmIj48dXNlIHhsaW5rOmhyZWY9IiNpIi8+PC9tYXNrPjwvZGVmcz48ZyBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDI3MiA4NykiPjx1c2Ugc3Ryb2tlPSIjQkJCIiBtYXNrPSJ1cmwoI2opIiBzdHJva2Utd2lkdGg9IjYiIHhsaW5rOmhyZWY9IiNhIi8+PHVzZSBzdHJva2U9IiNCQkIiIG1hc2s9InVybCgjaykiIHN0cm9rZS13aWR0aD0iNiIgeGxpbms6aHJlZj0iI2IiLz48dXNlIHN0cm9rZT0iI0JCQiIgbWFzaz0idXJsKCNsKSIgc3Ryb2tlLXdpZHRoPSI0IiB4bGluazpocmVmPSIjYyIvPjxwYXRoIGZpbGw9IiNGOEFEMTgiIGQ9Ik0xMzcuMDQyIDEyMC43NUgxMTdsMjIuMTktMzQuMzc1TDExNyA1MmgyMC4wNDJsMjIuMTkgMzQuMzc1eiIvPjwvZz48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgwIDIyMCkiPjx1c2Ugc3Ryb2tlPSIjQkJCIiBtYXNrPSJ1cmwoI20pIiBzdHJva2Utd2lkdGg9IjYiIHhsaW5rOmhyZWY9IiNkIi8+PHVzZSBzdHJva2U9IiNCQkIiIG1hc2s9InVybCgjbikiIHN0cm9rZS13aWR0aD0iNCIgeGxpbms6aHJlZj0iI2UiLz48dXNlIHN0cm9rZT0iI0JCQiIgbWFzaz0idXJsKCNvKSIgc3Ryb2tlLXdpZHRoPSI0IiB4bGluazpocmVmPSIjZiIvPjxjaXJjbGUgZmlsbD0iI0JCQiIgY3g9IjE4MCIgY3k9IjcwIiByPSIyIi8+PHBhdGggZmlsbD0iI0Y4QUQxOCIgZD0iTTk0LjU4IDEwMkg3NmwyMC42NDUtMzAuOTY4TDc2IDM4aDE4LjU4bDIwLjY0NiAzMy4wMzJ6Ii8+PC9nPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDYwKSI+PHJlY3Qgd2lkdGg9IjcyIiBoZWlnaHQ9IjEyMCIgcng9IjguNCIvPjx1c2Ugc3Ryb2tlPSIjQkJCIiBtYXNrPSJ1cmwoI3ApIiBzdHJva2Utd2lkdGg9IjQiIHhsaW5rOmhyZWY9IiNnIi8+PHVzZSBzdHJva2U9IiNCQkIiIG1hc2s9InVybCgjcSkiIHN0cm9rZS13aWR0aD0iNCIgeGxpbms6aHJlZj0iI2giLz48cmVjdCBmaWxsPSIjQkJCIiB4PSIzMSIgeT0iMTAiIHdpZHRoPSIxMC44IiBoZWlnaHQ9IjIuNCIgcng9IjEuMiIvPjx1c2Ugc3Ryb2tlPSIjQkJCIiBtYXNrPSJ1cmwoI3IpIiBzdHJva2Utd2lkdGg9IjYiIHhsaW5rOmhyZWY9IiNpIi8+PHBhdGggZD0iTTM1LjAzMiA3OUgyNGwxMi4yNTgtMTguMzg3TDI0IDQxaDExLjAzMkw0Ny4yOSA2MC42MTN6IiBmaWxsPSIjRjhBRDE4Ii8+PC9nPjwvZz48L3N2Zz4=",collectUsageDataSetting:e?e.toJSON():null}},mountReact:function(){Fu.a.render(Vu()("div",{},void 0,this.isDVRSetupModalOpen?Vu()(Hu.a,{store:ne.c("appStore")},void 0,Vu()(j_,{serverEntityID:this.model.entityID(),isModalOpen:this.isDVRSetupModalOpen,onModalClose:this.onDVRSetupModalClose})):null),this.ui.modalContainer[0])},unmountReact:function(){this.isRendered&&Fu.a.unmountComponentAtNode(this.ui.modalContainer[0])},fetchDVRs:function(){const e=D.a.Deferred();return new Ek([],{server:this.model}).fetch().then(t=>{t.filter(e=>!e.get("parentID")&&e.get("status")===wk).length?e.resolve():e.reject()},()=>{e.reject()}),e.promise()},submit:function(){var e=this.ui.submitBtn;e.hasClass("active")||(e.addClass("active"),this.save().always(this.whenRendered((function(){this.ui.doneBtn.click(),e.removeClass("active")}))))},save:function(){this.saved=!0,I.a.has(this.changes,"collectUsageData")&&!this.changes.collectUsageData&&ne.c("metrics").trackClick({action:Rd.K,page:zd.mb,pane:"complete",firstRun:!0});const e=this.collection.first().save(this.changes),t=this.model.get("sections").filter(e=>e.isNew()).map(e=>e.save()),i=D.a.when(e,Me(t));return i.fail(()=>{U.a.trigger("show:alert",{type:"error",message:Object(Ze.default)("There was a problem saving these settings.")})}),i},onBeforeRender:function(){this.unmountReact()},onRender:function(){this.mountReact()},onClose:function(){this.saved||this.save(),this.unmountReact()},onInputChange:function(e){var t=e.currentTarget,i=t.value;"checkbox"===t.type&&(i=t.checked?1:0),this.changes[t.id]=i},onSubmit:function(e){e.preventDefault(),this.submit()},onDVRSetupModalClose:function(){this.isDVRSetupModalOpen=!1,this.ui.submitBtn.removeClass("active"),this.mountReact()}}),mYt=i("c7MW"),gYt=i.n(mYt),vYt=R.ItemView.extend({className:"setup-error-container",template:gYt.a}),yYt=i("sPMf"),fYt=i.n(yYt);var bYt=R.ItemView.extend({className:"setup-intro-container",template:fYt.a,serializeData:()=>({computerImg:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODEwIiBoZWlnaHQ9IjIzMCIgdmlld0JveD0iMCAwIDgxMCAyMzAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPjx0aXRsZT5QTVMg4oaSIENvbXB1dGVyPC90aXRsZT48ZGVmcz48cGF0aCBkPSJNMTU5LjU5NSAyMDcuNDc3Yy0uNDk0LTIuNDctMi42NS05LjczMi0zLjM0Ny0yMS40NDRIOTkuMzZjLS42OTggMTEuNzEyLTIuODUzIDE4Ljk3NC0zLjM0NiAyMS40NDQtLjk3NiA0Ljg4LTQuNzkgOC44MjktMTIuMDQgMTEuMDU5LTUuOTEyIDEuODE5LTUuMTU4IDEwLjY5MyAxLjY3NCAxMC42OTNoODQuMzE0YzYuODMxIDAgNy41ODctOC44NzMgMS42NzMtMTAuNjkzLTcuMjUtMi4yMy0xMS4wNjQtNi4xNzgtMTIuMDQtMTEuMDU5eiIgaWQ9ImEiLz48bWFzayBpZD0iZCIgeD0iMCIgeT0iMCIgd2lkdGg9Ijk1LjYzMyIgaGVpZ2h0PSI0My4xOTYiIGZpbGw9IiNmZmYiPjx1c2UgeGxpbms6aHJlZj0iI2EiLz48L21hc2s+PHBhdGggZD0iTTI1NiAxNDcuNXYzMS41NjRjMCA1LjUyNy00LjQ3IDEwLjAwOC05Ljk5NiAxMC4wMDhIOS45OTZjLTUuNTIgMC05Ljk5Ni00LjQ3Ni05Ljk5Ni0xMC4wMDhWMTAuMDAzQzAgNC40OCA0LjQ3IDAgOS45OTYgMGgyMzYuMDA4QzI1MS41MjQgMCAyNTYgNC40ODUgMjU2IDEwLjAwM1YxNDcuNXoiIGlkPSJiIi8+PG1hc2sgaWQ9ImUiIHg9IjAiIHk9IjAiIHdpZHRoPSIyNTYiIGhlaWdodD0iMTg5LjA3MiIgZmlsbD0iI2ZmZiI+PHVzZSB4bGluazpocmVmPSIjYiIvPjwvbWFzaz48Y2lyY2xlIGlkPSJjIiBjeD0iMTEwIiBjeT0iMTEwIiByPSIxMTAiLz48bWFzayBpZD0iZiIgeD0iMCIgeT0iMCIgd2lkdGg9IjIyMCIgaGVpZ2h0PSIyMjAiIGZpbGw9IiNmZmYiPjx1c2UgeGxpbms6aHJlZj0iI2MiLz48L21hc2s+PC9kZWZzPjxnIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCI+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNTUzKSIgc3Ryb2tlPSIjQkJCIj48dXNlIG1hc2s9InVybCgjZCkiIHN0cm9rZS13aWR0aD0iNiIgeGxpbms6aHJlZj0iI2EiLz48dXNlIG1hc2s9InVybCgjZSkiIHN0cm9rZS13aWR0aD0iNiIgeGxpbms6aHJlZj0iI2IiLz48cGF0aCBkPSJNMS41IDE0Ny41aDI1My4xOTgiIHN0cm9rZS13aWR0aD0iMyIgc3Ryb2tlLWxpbmVjYXA9InNxdWFyZSIvPjwvZz48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgwIDUpIj48dXNlIHN0cm9rZT0iI0Y4QUQxOCIgbWFzaz0idXJsKCNmKSIgc3Ryb2tlLXdpZHRoPSI4IiBmaWxsPSIjMUYxRjFGIiB4bGluazpocmVmPSIjYyIvPjxwYXRoIGZpbGw9IiNGOEFEMTgiIGQ9Ik0xMTIuMTM0IDE3OS42NjdINzIuMTFsNDQuMzEtNjkuMDU2LTQ0LjMxLTY5LjA1NWg0MC4wMjNsNDQuMzEgNjkuMDU1eiIvPjwvZz48ZyBmaWxsPSIjQkJCIj48cGF0aCBkPSJNNTA0LjUgMTE1bC0xNCAxMy41di0yN3pNNDc5IDExOGEzIDMgMCAxIDAgMC02IDMgMyAwIDAgMCAwIDZ6bS0xNiAwYTMgMyAwIDEgMCAwLTYgMyAzIDAgMCAwIDAgNnptLTE2IDBhMyAzIDAgMSAwIDAtNiAzIDMgMCAwIDAgMCA2em0tMTYgMGEzIDMgMCAxIDAgMC02IDMgMyAwIDAgMCAwIDZ6bS0xNiAwYTMgMyAwIDEgMCAwLTYgMyAzIDAgMCAwIDAgNnptLTE2IDBhMyAzIDAgMSAwIDAtNiAzIDMgMCAwIDAgMCA2em0tMTYgMGEzIDMgMCAxIDAgMC02IDMgMyAwIDAgMCAwIDZ6bS0xNiAwYTMgMyAwIDEgMCAwLTYgMyAzIDAgMCAwIDAgNnptLTE2IDBhMyAzIDAgMSAwIDAtNiAzIDMgMCAwIDAgMCA2em0tMTYgMGEzIDMgMCAxIDAgMC02IDMgMyAwIDAgMCAwIDZ6bS0xNiAwYTMgMyAwIDEgMCAwLTYgMyAzIDAgMCAwIDAgNnptLTE2IDBhMyAzIDAgMSAwIDAtNiAzIDMgMCAwIDAgMCA2em0tMTYgMGEzIDMgMCAxIDAgMC02IDMgMyAwIDAgMCAwIDZ6bS0xNiAwYTMgMyAwIDEgMCAwLTYgMyAzIDAgMCAwIDAgNnoiLz48L2c+PC9nPjwvc3ZnPg==",mediaImg:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNzE1IiBoZWlnaHQ9IjE0OSIgdmlld0JveD0iMCAwIDcxNSAxNDkiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPjx0aXRsZT5NRURJQSBJQ09OUzwvdGl0bGU+PGRlZnM+PHBhdGggZD0iTTU3Ljg5NyAwSDEwLjAwOEM0LjQ4MiAwIDAgNC40ODEgMCAxMC4wMDh2NS41MDVMNTcuODk3IDB6bTU2Ljc3NiAwaDMuODljNS41MjcgMCAxMC4wMDggNC40ODIgMTAuMDA4IDEwLjAwOHY0MS44NkwxMTQuNjczIDB6bTEzLjg5OCAxMTQuMTY4djQuMzk1YzAgNS41MjctNC40ODEgMTAuMDA4LTEwLjAwOCAxMC4wMDhINzQuODE4bDUzLjc1My0xNC40MDN6TTE2LjAyIDEyOC41NzFoLTYuMDFDNC40OCAxMjguNTcxIDAgMTI0LjA5IDAgMTE4LjU2M1Y2OC43ODlsMTYuMDE5IDU5Ljc4MnoiIGlkPSJhIi8+PG1hc2sgaWQ9ImoiIHg9Ii0yIiB5PSItMiIgd2lkdGg9IjEzMi41NzEiIGhlaWdodD0iMTMyLjU3MSI+PHBhdGggZmlsbD0iI2ZmZiIgZD0iTS0yLTJoMTMyLjU3MXYxMzIuNTcxSC0yeiIvPjx1c2UgeGxpbms6aHJlZj0iI2EiLz48L21hc2s+PHJlY3QgaWQ9ImIiIHdpZHRoPSIxMjguNTcxIiBoZWlnaHQ9IjEyOC41NzEiIHJ4PSIxMCIvPjxtYXNrIGlkPSJrIiB4PSIwIiB5PSIwIiB3aWR0aD0iMTI4LjU3MSIgaGVpZ2h0PSIxMjguNTcxIiBmaWxsPSIjZmZmIj48dXNlIHhsaW5rOmhyZWY9IiNiIi8+PC9tYXNrPjxwYXRoIGQ9Ik0zOS43ODIgMjYuNTkyVjgzLjk5Yy0zLjI3OS0xLjAzNC03LjIzNC0xLjE2LTExLjI2Ny0uMTAzLTguNzY3IDIuMjk3LTE0LjQ4OCA5LjI2LTEyLjc3IDE1LjUzNSAxLjcxOCA2LjI3NiAxMC4yMjYgOS41MDUgMTguOTk1IDcuMTk3IDguMTAxLTIuMTE2IDE0LjcxLTguMjE3IDE0LjE1LTE0LjA3NmwuMDQxLTQxLjcxOCA0MC4zODYtNS4zODV2MzMuMTY1Yy0zLjI4LTEuMDM0LTcuMjM1LTEuMTYtMTEuMjY4LS4xMDItOC43NjYgMi4yOTYtMTQuNDg4IDkuMjU5LTEyLjc3IDE1LjUzNXMxMC4yMjYgOS41MDQgMTguOTk1IDcuMTk2YzguMTAxLTIuMTE2IDE0LjcxMS04LjIxNyAxNC4xNTEtMTQuMDc1IDAtMTQuNzk1LjA0LTY1Ljk1LjA0LTY1Ljk1bC01OC42ODMgNS4zODR6IiBpZD0iYyIvPjxtYXNrIGlkPSJsIiB4PSIwIiB5PSIwIiB3aWR0aD0iODMuMDI1IiBoZWlnaHQ9Ijg2LjE1NiIgZmlsbD0iI2ZmZiI+PHVzZSB4bGluazpocmVmPSIjYyIvPjwvbWFzaz48cGF0aCBkPSJNNjYuMTEzIDkuNTk1bC00MC43MDUtMy41NmE4Ljg0NSA4Ljg0NSAwIDAgMC05LjU4NiA4LjA0bC0uMzkgNC40NTcgNTAuNjgtOC45Mzd6bTU1LjczNCA0Ljg3N2w1LjQ3NS40NzljNC44NjguNDI1IDguNDcgNC43MTcgOC4wNDQgOS41ODNsLTMuODk1IDQ0LjUxOC05LjYyNC01NC41OHptNC4yMDEgMTE2LjU2bC0uNDcgNS4zODNhOC44NDUgOC44NDUgMCAwIDEtOS41ODYgOC4wNGwtNDQuMTYtMy44NjMgNTQuMjE2LTkuNTZ6bS0xMDQuNTkgNS4xNTNsLTcuMzgtLjY0NWMtNC44NjgtLjQyNi04LjQ3LTQuNzE4LTguMDQ0LTkuNTg0bDQuNTE3LTUxLjYyNSAxMC45MDYgNjEuODU0eiIgaWQ9ImQiLz48bWFzayBpZD0ibSIgeD0iLTIiIHk9Ii0yIiB3aWR0aD0iMTMzLjQiIGhlaWdodD0iMTQyLjQ5Ij48cGF0aCBmaWxsPSIjZmZmIiBkPSJNNCA0aDEzMy40djE0Mi40OUg0eiIvPjx1c2UgeGxpbms6aHJlZj0iI2QiLz48L21hc2s+PHBhdGggZD0iTS42MDcgOS4wMTVBOC44NDUgOC44NDUgMCAwIDEgOS40NTUuMTY5SDExMS43NmM0Ljg4NyAwIDguODQ4IDMuOTYxIDguODQ4IDguODQ2djExMi4zMDhhOC44NDUgOC44NDUgMCAwIDEtOC44NDggOC44NDZIOS40NTVjLTQuODg2IDAtOC44NDgtMy45NjItOC44NDgtOC44NDZWOS4wMTV6IiBpZD0iZSIvPjxtYXNrIGlkPSJuIiB4PSIwIiB5PSIwIiB3aWR0aD0iMTIwIiBoZWlnaHQ9IjEzMCIgZmlsbD0iI2ZmZiI+PHVzZSB4bGluazpocmVmPSIjZSIvPjwvbWFzaz48cGF0aCBpZD0iZiIgZD0iTTE0LjYzNiAxNC4xOTdoOTAuNjQ3djgyLjAxNEgxNC42MzZ6Ii8+PG1hc2sgaWQ9Im8iIHg9IjAiIHk9IjAiIHdpZHRoPSI5MC42NDciIGhlaWdodD0iODIuMDE0IiBmaWxsPSIjZmZmIj48dXNlIHhsaW5rOmhyZWY9IiNmIi8+PC9tYXNrPjxwYXRoIGlkPSJnIiBkPSJNMTQuNjM2IDY1Ljk5NmwzMC4yMTYtMjMuNzQxIDIzLjc0IDI2Ljk3OCAxNC4wMy0xMC43OTEgMjIuNjYxIDIwLjUwNHYxNy4yNjZIMTQuNjM2eiIvPjxtYXNrIGlkPSJwIiB4PSIwIiB5PSIwIiB3aWR0aD0iOTAuNjQ3IiBoZWlnaHQ9IjUzLjk1NyIgZmlsbD0iI2ZmZiI+PHVzZSB4bGluazpocmVmPSIjZyIvPjwvbWFzaz48cGF0aCBkPSJNNjMuOTcyIDguNjgxTDIyLjEyIDUuMDE5YTUgNSAwIDAgMC01LjQyIDQuNTM5bC0uNjYzIDcuNTc1IDQ3LjkzNS04LjQ1MnptNDcuODg1IDQuMTlsMTAuODcyLjk1YTUuMDA0IDUuMDA0IDAgMCAxIDQuNTQ5IDUuNDExbC00Ljc0MiA1NC4yLTEwLjY3OS02MC41NjJ6bTUuMzkxIDEyMC45OThsLS42NTEgNy40NDdhNSA1IDAgMCAxLTUuNDIgNC41MzlsLTQxLjM3NC0zLjYyIDQ3LjQ0NS04LjM2NnptLTk2LjA0MiA0LjExNGwtMTAuNjM4LS45M2E1LjAwNCA1LjAwNCAwIDAgMS00LjU0OS01LjQxMWw0LjY2Ni01My4zMjcgMTAuNTIgNTkuNjY4eiIgaWQ9ImgiLz48bWFzayBpZD0icSIgeD0iLTIiIHk9Ii0yIiB3aWR0aD0iMTI1LjI5NyIgaGVpZ2h0PSIxNDQuODc0Ij48cGF0aCBmaWxsPSIjZmZmIiBkPSJNNCAzaDEyNS4yOTd2MTQ0Ljg3NEg0eiIvPjx1c2UgeGxpbms6aHJlZj0iI2giLz48L21hc2s+PHBhdGggZD0iTTExIDEzLjk5NEE1IDUgMCAwIDEgMTYuMDAzIDloMTAwLjk5NEE1LjAwNCA1LjAwNCAwIDAgMSAxMjIgMTMuOTk0djEyMi41NWE1LjAwMSA1LjAwMSAwIDAgMS01IDQuOTkzSDE2Yy0yLjc2MSAwLTUtMi4yNDQtNS00Ljk5M1YxMy45OTR6IiBpZD0iaSIvPjxtYXNrIGlkPSJyIiB4PSIwIiB5PSIwIiB3aWR0aD0iMTExIiBoZWlnaHQ9IjEzMi41MzciIGZpbGw9IiNmZmYiPjx1c2UgeGxpbms6aHJlZj0iI2kiLz48L21hc2s+PC9kZWZzPjxnIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCI+PGcgc3Ryb2tlPSIjRDhGRjk1IiBzdHJva2Utd2lkdGg9IjQiPjx1c2UgbWFzaz0idXJsKCNqKSIgeGxpbms6aHJlZj0iI2EiIHRyYW5zZm9ybT0icm90YXRlKDUgMjQxLjM5NiA2NjczLjYwNykiLz48ZyB0cmFuc2Zvcm09InJvdGF0ZSgtMTAgNDEwLjE1IC0zMjI4LjA3KSI+PHVzZSBtYXNrPSJ1cmwoI2spIiB4bGluazpocmVmPSIjYiIvPjx1c2UgbWFzaz0idXJsKCNsKSIgeGxpbms6aHJlZj0iI2MiLz48L2c+PC9nPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDI3OSAtMSkiIHN0cm9rZT0iI0ZGQTBERSIgc3Ryb2tlLXdpZHRoPSI0Ij48dXNlIG1hc2s9InVybCgjbSkiIHhsaW5rOmhyZWY9IiNkIi8+PGcgdHJhbnNmb3JtPSJyb3RhdGUoLTEwIDEyMi42NSA3LjEzNSkiPjx1c2UgbWFzaz0idXJsKCNuKSIgeGxpbms6aHJlZj0iI2UiLz48dXNlIG1hc2s9InVybCgjbykiIHhsaW5rOmhyZWY9IiNmIi8+PHVzZSBtYXNrPSJ1cmwoI3ApIiB4bGluazpocmVmPSIjZyIvPjwvZz48L2c+PGcgc3Ryb2tlPSIjQTRFMkZGIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMSAtMSkiPjx1c2UgbWFzaz0idXJsKCNxKSIgc3Ryb2tlLXdpZHRoPSI0IiB4bGluazpocmVmPSIjaCIvPjx1c2UgbWFzaz0idXJsKCNyKSIgc3Ryb2tlLXdpZHRoPSI0IiB0cmFuc2Zvcm09InJvdGF0ZSgtMTAgNjYuNSA3NS4yNjkpIiB4bGluazpocmVmPSIjaSIvPjxwYXRoIHN0cm9rZS13aWR0aD0iMiIgZD0iTTExLjgyMyAzMS4wNTNsOS43OS0xLjcyNyAxLjcyNSA5Ljc5LTkuNzg5IDEuNzI2ek0xNS45OTQgNTQuNzFsOS43OS0xLjcyNSAxLjcyNiA5Ljc4OS05Ljc5IDEuNzI2ek0yMC4xNjYgNzguMzY4bDkuNzktMS43MjcgMS43MjUgOS43OS05Ljc4OSAxLjcyNXpNMjQuMzM3IDEwMi4wMjZsOS43OS0xLjcyNiAxLjcyNiA5Ljc4OS05Ljc5IDEuNzI2ek0yOC41MSAxMjUuNjgybDkuNzg4LTEuNzI2IDEuNzI2IDkuNzktOS43ODkgMS43MjV6TTkzLjQgMTYuNjY5bDkuNzktMS43MjYgMS43MjUgOS43ODktOS43ODggMS43MjZ6TTk3LjU3MyA0MC4zMjZsOS43ODktMS43MjYgMS43MjYgOS43OS05Ljc5IDEuNzI1ek0xMDEuNzQzIDYzLjk4NGw5Ljc5LTEuNzI2IDEuNzI2IDkuNzg4LTkuNzkgMS43Mjd6TTEwNS45MTQgODcuNjRsOS43OS0xLjcyNSAxLjcyNSA5Ljc4OS05Ljc4OSAxLjcyNnpNMTEwLjA4NiAxMTEuMjk5bDkuNzktMS43MjcgMS43MjYgOS43OS05Ljc5IDEuNzI2ek0zMS43MTYgMzIuNjU5bDUyLjIxLTkuMjA2IDcuMTkxIDQwLjc4OC01Mi4yMSA5LjIwNnpNNDEuNDk3IDg4LjEzMmw1Mi4yMS05LjIwNiA3LjE5MSA0MC43ODgtNTIuMjEgOS4yMDZ6Ii8+PC9nPjwvZz48L3N2Zz4=",playImg:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iOTQ1IiBoZWlnaHQ9IjM2MCIgdmlld0JveD0iMCAwIDk0NSAzNjAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPjx0aXRsZT5QTEFZIE1FRElBIElDT05TPC90aXRsZT48ZGVmcz48cGF0aCBpZD0iYSIgZD0iTTE5NiAxNzJ2MTRIODF2LTE0Ii8+PG1hc2sgaWQ9Im0iIHg9IjAiIHk9IjAiIHdpZHRoPSIxMTUiIGhlaWdodD0iMTQiIGZpbGw9IiNmZmYiPjx1c2UgeGxpbms6aHJlZj0iI2EiLz48L21hc2s+PHBhdGggZD0iTTYuNTIyIDE3M0MyLjkyIDE3MyAwIDE3MC42MzEgMCAxNjcuNzFWNS4yOUMwIDIuMzcgMi45MiAwIDYuNTIyIDBoMjYyLjk1NkMyNzMuMDggMCAyNzYgMi4zNjkgMjc2IDUuMjl2MTYyLjQyYzAgMi45MjEtMi45MiA1LjI5LTYuNTIyIDUuMjlINi41MjJ6IiBpZD0iYiIvPjxtYXNrIGlkPSJuIiB4PSIwIiB5PSIwIiB3aWR0aD0iMjc2IiBoZWlnaHQ9IjE3MyIgZmlsbD0iI2ZmZiI+PHVzZSB4bGluazpocmVmPSIjYiIvPjwvbWFzaz48cGF0aCBpZD0iYyIgZD0iTTEzIDE2MC4xODVoMjQ5LjkxVjEzSDEzeiIvPjxtYXNrIGlkPSJvIiB4PSIwIiB5PSIwIiB3aWR0aD0iMjQ5LjkxMSIgaGVpZ2h0PSIxNDcuMTg1IiBmaWxsPSIjZmZmIj48dXNlIHhsaW5rOmhyZWY9IiNjIi8+PC9tYXNrPjxyZWN0IGlkPSJkIiB3aWR0aD0iMTkyIiBoZWlnaHQ9IjE0MCIgcng9IjYiLz48bWFzayBpZD0icCIgeD0iMCIgeT0iMCIgd2lkdGg9IjE5MiIgaGVpZ2h0PSIxNDAiIGZpbGw9IiNmZmYiPjx1c2UgeGxpbms6aHJlZj0iI2QiLz48L21hc2s+PHBhdGggaWQ9ImUiIGQ9Ik0yMCAxMWgxNTJ2MTE4SDIweiIvPjxtYXNrIGlkPSJxIiB4PSIwIiB5PSIwIiB3aWR0aD0iMTUyIiBoZWlnaHQ9IjExOCIgZmlsbD0iI2ZmZiI+PHVzZSB4bGluazpocmVmPSIjZSIvPjwvbWFzaz48Y2lyY2xlIGlkPSJmIiBjeD0iMTIiIGN5PSI3MCIgcj0iNiIvPjxtYXNrIGlkPSJyIiB4PSIwIiB5PSIwIiB3aWR0aD0iMTIiIGhlaWdodD0iMTIiIGZpbGw9IiNmZmYiPjx1c2UgeGxpbms6aHJlZj0iI2YiLz48L21hc2s+PHBhdGggaWQ9ImciIGQ9Ik0wIDE4aDcydjg0SDB6Ii8+PG1hc2sgaWQ9InMiIHg9IjAiIHk9IjAiIHdpZHRoPSI3MiIgaGVpZ2h0PSI4NCIgZmlsbD0iI2ZmZiI+PHVzZSB4bGluazpocmVmPSIjZyIvPjwvbWFzaz48Y2lyY2xlIGlkPSJoIiBjeD0iMzYiIGN5PSIxMDkiIHI9IjUiLz48bWFzayBpZD0idCIgeD0iMCIgeT0iMCIgd2lkdGg9IjEwIiBoZWlnaHQ9IjEwIiBmaWxsPSIjZmZmIj48dXNlIHhsaW5rOmhyZWY9IiNoIi8+PC9tYXNrPjxyZWN0IGlkPSJpIiB3aWR0aD0iNzIiIGhlaWdodD0iMTIwIiByeD0iOC40Ii8+PG1hc2sgaWQ9InUiIHg9IjAiIHk9IjAiIHdpZHRoPSI3MiIgaGVpZ2h0PSIxMjAiIGZpbGw9IiNmZmYiPjx1c2UgeGxpbms6aHJlZj0iI2kiLz48L21hc2s+PHBhdGggZD0iTTE1OS41OTUgMjA3LjQ3N2MtLjQ5NC0yLjQ3LTIuNjUtOS43MzItMy4zNDctMjEuNDQ0SDk5LjM2Yy0uNjk4IDExLjcxMi0yLjg1MyAxOC45NzQtMy4zNDYgMjEuNDQ0LS45NzYgNC44OC00Ljc5IDguODI5LTEyLjA0IDExLjA1OS01LjkxMiAxLjgxOS01LjE1OCAxMC42OTMgMS42NzQgMTAuNjkzaDg0LjMxNGM2LjgzMSAwIDcuNTg3LTguODczIDEuNjczLTEwLjY5My03LjI1LTIuMjMtMTEuMDY0LTYuMTc4LTEyLjA0LTExLjA1OXoiIGlkPSJqIi8+PG1hc2sgaWQ9InYiIHg9IjAiIHk9IjAiIHdpZHRoPSI5NS42MzMiIGhlaWdodD0iNDMuMTk2IiBmaWxsPSIjZmZmIj48dXNlIHhsaW5rOmhyZWY9IiNqIi8+PC9tYXNrPjxwYXRoIGQ9Ik0yNTYgMTQ3LjV2MzEuNTY0YzAgNS41MjctNC40NyAxMC4wMDgtOS45OTYgMTAuMDA4SDkuOTk2Yy01LjUyIDAtOS45OTYtNC40NzYtOS45OTYtMTAuMDA4VjEwLjAwM0MwIDQuNDggNC40NyAwIDkuOTk2IDBoMjM2LjAwOEMyNTEuNTI0IDAgMjU2IDQuNDg1IDI1NiAxMC4wMDNWMTQ3LjV6IiBpZD0iayIvPjxtYXNrIGlkPSJ3IiB4PSIwIiB5PSIwIiB3aWR0aD0iMjU2IiBoZWlnaHQ9IjE4OS4wNzIiIGZpbGw9IiNmZmYiPjx1c2UgeGxpbms6aHJlZj0iI2siLz48L21hc2s+PGNpcmNsZSBpZD0ibCIgY3g9IjU1IiBjeT0iNTUiIHI9IjU1Ii8+PG1hc2sgaWQ9IngiIHg9IjAiIHk9IjAiIHdpZHRoPSIxMTAiIGhlaWdodD0iMTEwIiBmaWxsPSIjZmZmIj48dXNlIHhsaW5rOmhyZWY9IiNsIi8+PC9tYXNrPjwvZGVmcz48ZyBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDY2OSA4NykiPjx1c2Ugc3Ryb2tlPSIjQkJCIiBtYXNrPSJ1cmwoI20pIiBzdHJva2Utd2lkdGg9IjYiIHhsaW5rOmhyZWY9IiNhIi8+PHVzZSBzdHJva2U9IiNCQkIiIG1hc2s9InVybCgjbikiIHN0cm9rZS13aWR0aD0iNiIgeGxpbms6aHJlZj0iI2IiLz48dXNlIHN0cm9rZT0iI0JCQiIgbWFzaz0idXJsKCNvKSIgc3Ryb2tlLXdpZHRoPSI0IiB4bGluazpocmVmPSIjYyIvPjxwYXRoIGZpbGw9IiNGOEFEMTgiIGQ9Ik0xMzcuMDQyIDEyMC43NUgxMTdsMjIuMTktMzQuMzc1TDExNyA1MmgyMC4wNDJsMjIuMTkgMzQuMzc1eiIvPjwvZz48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgzOTcgMjIwKSI+PHVzZSBzdHJva2U9IiNCQkIiIG1hc2s9InVybCgjcCkiIHN0cm9rZS13aWR0aD0iNiIgeGxpbms6aHJlZj0iI2QiLz48dXNlIHN0cm9rZT0iI0JCQiIgbWFzaz0idXJsKCNxKSIgc3Ryb2tlLXdpZHRoPSI0IiB4bGluazpocmVmPSIjZSIvPjx1c2Ugc3Ryb2tlPSIjQkJCIiBtYXNrPSJ1cmwoI3IpIiBzdHJva2Utd2lkdGg9IjQiIHhsaW5rOmhyZWY9IiNmIi8+PGNpcmNsZSBmaWxsPSIjQkJCIiBjeD0iMTgwIiBjeT0iNzAiIHI9IjIiLz48cGF0aCBmaWxsPSIjRjhBRDE4IiBkPSJNOTQuNTggMTAySDc2bDIwLjY0NS0zMC45NjhMNzYgMzhoMTguNThsMjAuNjQ2IDMzLjAzMnoiLz48L2c+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNDU3KSI+PHJlY3Qgd2lkdGg9IjcyIiBoZWlnaHQ9IjEyMCIgcng9IjguNCIvPjx1c2Ugc3Ryb2tlPSIjQkJCIiBtYXNrPSJ1cmwoI3MpIiBzdHJva2Utd2lkdGg9IjQiIHhsaW5rOmhyZWY9IiNnIi8+PHVzZSBzdHJva2U9IiNCQkIiIG1hc2s9InVybCgjdCkiIHN0cm9rZS13aWR0aD0iNCIgeGxpbms6aHJlZj0iI2giLz48cmVjdCBmaWxsPSIjQkJCIiB4PSIzMSIgeT0iMTAiIHdpZHRoPSIxMC44IiBoZWlnaHQ9IjIuNCIgcng9IjEuMiIvPjx1c2Ugc3Ryb2tlPSIjQkJCIiBtYXNrPSJ1cmwoI3UpIiBzdHJva2Utd2lkdGg9IjYiIHhsaW5rOmhyZWY9IiNpIi8+PHBhdGggZD0iTTM1LjAzMiA3OUgyNGwxMi4yNTgtMTguMzg3TDI0IDQxaDExLjAzMkw0Ny4yOSA2MC42MTN6IiBmaWxsPSIjRjhBRDE4Ii8+PC9nPjxnIHN0cm9rZT0iI0JCQiIgc3Ryb2tlLXdpZHRoPSI0IiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiPjxwYXRoIGQ9Ik0zMzAuNTk4IDE4My4yNTRDMzQxLjM1NSAxNzIuNDEgMzQ4IDE1Ny40ODEgMzQ4IDE0MWMwLTE2LjcyMy02Ljg0MS0zMS44NDgtMTcuODc4LTQyLjcyOCIvPjxwYXRoIGQ9Ik0zMTkuOTg4IDE3Mi42NUMzMjguMDMzIDE2NC41MiAzMzMgMTUzLjM0IDMzMyAxNDFjMC0xMi41MjMtNS4xMTUtMjMuODUxLTEzLjM3LTMyLjAxTTMwOS41MDIgMTYxLjkyQTI5LjkwMiAyOS45MDIgMCAwIDAgMzE4IDE0MWMwLTguMzc2LTMuNDMzLTE1Ljk1MS04Ljk2OS0yMS4zOTQiLz48L2c+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMCA2NSkiPjx1c2Ugc3Ryb2tlPSIjQkJCIiBtYXNrPSJ1cmwoI3YpIiBzdHJva2Utd2lkdGg9IjYiIHhsaW5rOmhyZWY9IiNqIi8+PHVzZSBzdHJva2U9IiNCQkIiIG1hc2s9InVybCgjdykiIHN0cm9rZS13aWR0aD0iNiIgeGxpbms6aHJlZj0iI2siLz48cGF0aCBkPSJNMS41IDE0Ny41aDI1My4xOTgiIHN0cm9rZT0iI0JCQiIgc3Ryb2tlLXdpZHRoPSIzIiBzdHJva2UtbGluZWNhcD0ic3F1YXJlIi8+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNzMgMjEpIj48dXNlIHN0cm9rZT0iI0Y4QUQxOCIgbWFzaz0idXJsKCN4KSIgc3Ryb2tlLXdpZHRoPSI2IiBmaWxsPSIjMUYxRjFGIiB4bGluazpocmVmPSIjbCIvPjxwYXRoIGZpbGw9IiNGOEFEMTgiIGQ9Ik01Ni4zODIgODkuMzc1SDM2LjMzOUw1OC41MyA1NSAzNi4zNCAyMC42MjVoMjAuMDQzTDc4LjU3MiA1NXoiLz48L2c+PC9nPjwvZz48L3N2Zz4="})}),IYt=i("yCP3"),SYt=i.n(IYt),CYt={artist:"music",movie:"film",photo:"picture",show:"display"},MYt=R.ItemView.extend({tagName:"li",className:"card-tile-list-single-item",template:SYt.a,events:{"click .edit-section-btn":"onEditClick","click .delete-section-btn":"onDeleteClick"},serializeData:function(){var e=this.model.server,t=this.model.toJSON(),i=t.locations&&t.locations[0],n=t.locations?t.locations.length:0;return{section:t,serverID:e.id,icon:CYt[t.type],path:i.path,more:n-1}},bindings:{".section-title":{modelAttribute:"title"}},onEditClick:function(e){e.preventDefault();const t=this.model,i=new oK({model:t,server:t.server,isDefaultSection:t.isNew()});t.isNew()&&i.promise.always(()=>{t.trigger("destroy",t,t.collection)}),U.a.trigger("show:modal",i)},onDeleteClick:function(e){e.preventDefault();const t=this.model;t.isNew()?t.trigger("destroy",t,t.collection):Ge.execute("deleteSection",{section:t})}}),DYt=Sm.extend({tagName:"ul",className:"list card-tile-list",itemView:MYt}),PYt=i("/GUN"),OYt=i.n(PYt),jYt=R.Layout.extend({className:"setup-library-container",template:OYt.a,regions:{list:".setup-section-list-container"},events:{"click .add-section-btn":"onAddSectionClick"},metricsValue:function(){return this.collection.size()},initialize:function(e){const t=this.model,i=t.get("sections"),n=new Ct([],{server:t,url:"/services/defaultLibraries"});this.collection=i,this.model.supports("defaultSections")&&e.isFirstVisitToSubset&&D.a.when(n.populate(),i.populate()).done(()=>{i.length||n.forEach(e=>{e.collection=i,i.add(e)})})},onRender:function(){this.list.show(new DYt({collection:this.collection}))},onAddSectionClick:function(e){e.preventDefault(),U.a.trigger("show:modal",new oK({server:this.model}))}}),wYt=i("VTB1"),TYt=i.n(wYt),EYt=R.ItemView.extend({className:"setup-loading-container",template:TYt.a}),NYt=i("h5wC"),xYt=i.n(NYt);var AYt={setupIntro:"intro",setupError:"error",setupBasic:"name",setupLibrary:"library",setupComplete:"complete"},LYt=[ms.a,ms.k,ms.b],kYt=R.Layout.extend({className:"container",template:xYt.a,maxAttempts:120,ui:{header:".setup-header"},regions:{container:".setup-container"},events:{"click .segment-btn":"onNavClick","click .next-btn":"onNavClick","click .done-btn":"onDoneClick"},onlyAfterRender:["onAgentsSuccess","onAgentsFail","onUpdatesComplete"],initialize:function(e){I.a.bindAll(this,"start","onAgentsSuccess","onAgentsFail","onUpdatesComplete","onSkipSignInChange"),(0,Object(ne.c)("appStore").dispatch)(gQ({allowLightPreset:!1})),this.subset=e.subset||"setupIntro",this.attempts=0,this._visitedSubsets={},C.a.info("Starting the setup wizard");const t=Object(ne.c)("appModel");this.model=Object(wi.m)(t,e),this.listenTo(t,"change:skipSignIn",this.onSkipSignInChange)},serializeData:function(){return{subset:this.subset}},renderSubset:function(){if(this.model.get("shared"))return void this.navigate("setupError");const e=Object(ne.c)("appModel"),t=e.get("user").server,i=t.populate();i.done(this.whenRendered(()=>{this.navigate("setupIntro")})),i.fail(()=>{e.get("primaryServer").get("desktop").get("settings").fetch().then(e=>!0===e.get("AcceptedEULA").get("value")?D.a.Deferred().resolve():D.a.Deferred().reject()).then(this.whenRendered(()=>{this.navigate("setupIntro")})).fail(this.whenRendered(()=>{const i=e.get("skipSignIn"),n=t.get("isUnavailable");this.navigate(i||n?"setupIntro":"setupSignIn")}))})},start:function(){if(this.attempts>=this.maxAttempts)return C.a.error("Failed to start the setup wizard after "+this.attempts+" attempts"),void this.navigate("setupError");this.attempts++;var e=this.model.get("startState");if(e)Object(C.a)("Waiting for server to start ("+e+")"),this.model.fetch().done(I.a.delay(this.start,500));else{var t=new oG([],{server:this.model}).fetch({timeout:0});t.done(this.onAgentsSuccess),t.fail(this.onAgentsFail)}},navigate:function(e){var t="setupIntro"===e,i="setupSignIn"===e,n="setupLoading"===e,a=function(e){return{setupSignIn:Qat,setupIntro:bYt,setupLoading:EYt,setupError:vYt,setupBasic:dYt,setupLibrary:jYt,setupComplete:hYt}[e]}(e),s=AYt[e];this.previousSubset=this.subset,this.subset=e,s&&Object(ne.c)("metrics").trackView({page:zd.mb,pane:s,firstRun:!0});const r=!this._visitedSubsets[e];this._visitedSubsets[e]=!0;const o=new a({model:this.model,isFirstRun:!0,isFirstVisitToSubset:r});this.container.show(o),this.ui.header.toggleClass("hidden",t||i),this.$el.addClass(e),this.previousSubset!==e&&this.$el.removeClass(this.previousSubset),n&&this.start()},onRender:function(){Object(ne.c)("appModel").set("isFirstRun",!0),this.renderSubset()},onClose:function(){Object(ne.c)("appModel").set("isFirstRun",!1)},onAgentsSuccess:function(e){Object(C.a)("Looking for a core agent");const t=LYt.find(t=>e.get(t));t?(Object(C.a)(t+" found"),oYt(this.model),Ge.execute("updateChannel",{server:this.model,silent:!0}).always(this.onUpdatesComplete)):(C.a.error("No core agents found"),this.navigate("setupError"))},onAgentsFail:function(){C.a.warn("Unable to request agents"),I.a.delay(this.start,500)},onUpdatesComplete:function(){this.navigate("setupBasic")},onNavClick:function(e){e.preventDefault();var t=D()(e.currentTarget),i=t.data("subset");t.hasClass("segment-btn")&&"setupBasic"===this.subset&&this.container.currentView?(e.preventDefault(),this.container.currentView.submit()):(this.navigate(i),U.a.trigger("navigate",i,{trigger:!1}))},onDoneClick:function(e){e.preventDefault(),Object(ne.c)("metrics").trackClick({page:zd.mb,action:Rd.n,firstRun:!0}),U.a.trigger("navigate","dashboard")},onSkipSignInChange(){this.renderSubset()}}),RYt=Vu()(dh,{},void 0,Vu()(Jh,{}));var zYt=function(e){const{isSettingsPopulated:t,settingsError:i,hasAcceptedEULA:n,isAcceptedEULASaving:a,onPopulateSettings:s,onAcceptEULA:r,onSkipSignIn:o}=e;return $u(()=>{s()}),$u(()=>{r()},t&&!n),$u(()=>{o()},n&&!a),i?Vu()(vh,{title:Object(Ze.default)("Media server not found"),description:Object(Ze.default)("The server you're trying to access doesn't seem to exist.")}):RYt};var UYt=Object(Hu.b)((function(){return Object(Wu.a)(RQ(),e=>{const t=e.settings.find(e=>"AcceptedEULA"===e.id);return{isSettingsPopulated:e.isSettingsPopulated,settingsError:e.settingsError,hasAcceptedEULA:!(!t||!t.value),isAcceptedEULASaving:!(!t||!t.isSaving)}})}),(function(e,t){const{serverEntityID:i,forwardUrl:n}=t;return{onPopulateSettings(){e(pK({serverEntityID:i}))},onAcceptEULA(){e(mK({serverEntityID:i,setting:{id:"AcceptedEULA",value:!0}}))},onSkipSignIn(){Object(ne.c)("metrics").trackClick({page:zd.pb,action:Rd.hb,firstRun:!0}),e(gu({url:n}))}}}))(zYt),VYt=Vu()(dh,{},void 0,Vu()(Jh,{}));var BYt=function(e){const{serverEntityID:t,isWaitingForPrimaryServer:i,subset:n,forwardUrl:a}=e;return t?Vu()(Jnt,{serverEntityID:t,hideUnclaimedPage:!0},void 0,n?Vu()(EQ,{className:"scroll-container dark-scrollbar",view:kYt,viewOptions:{serverEntityID:t,subset:n}}):Vu()(UYt,{serverEntityID:t,forwardUrl:a})):i?VYt:Vu()(vh,{title:Object(Ze.default)("Media server not found"),description:Object(Ze.default)("The server you're trying to access doesn't seem to exist.")})};var FYt=Object(Hu.b)((function(){return Object(Wu.a)((e,{serverEntityID:t})=>t,e=>e.primaryServer,e=>e.isWaitingForPrimaryServer,Yu,(e,t,i)=>({serverEntityID:e||t,isWaitingForPrimaryServer:i}))}))(BYt);var HYt=_u.extend({component(e){const{serverID:t,subset:i,forwardUrl:n}=e,a=t?Object(pt.a)(ht.n,t):null;return Vu()(Bh,{},void 0,Vu()(Nh,{},void 0,Vu()(FYt,{serverEntityID:a,subset:i,forwardUrl:n})))}});var _Yt=R.Controller.extend({setupBasic(e){this.showSetupPageView({serverID:e,subset:"setupBasic"})},setupLibrary(){this.showSetupPageView({subset:"setupLibrary"})},setupComplete(){this.showSetupPageView({subset:"setupComplete"})},setupSkipSignIn(e){this.showSetupPageView({forwardUrl:e})},showSetupPageView(e){U.a.trigger("show:view",new HYt(e))}}),WYt=zu.extend({controller:new _Yt,appRoutes:{"!/setup/skipSignIn?forwardUrl=:forwardUrl":"setupSkipSignIn","!/setup/library":"setupLibrary","!/setup/complete":"setupComplete","!/setup(/:serverID)":"setupBasic"}});const QYt=Object(Pi.a)("ui/accountSettingsPage/updateUserProfile"),GYt=Object(Pi.a)("ui/accountSettingsPage/clearUpdateUserProfileError");function KYt(e){return e.get("ui").get("accountSettingsPage")}const YYt={"ui/accountSettingsPage/updateUserProfile"(e,t){const i=function(e){return e.get("user").get("profile")}(e),n=KYt(e);n.set({isUpdatingUserProfile:!0,updateUserProfileError:null}),i.save(t,{type:"PUT",wait:!0}).done(()=>{i.set(t),n.set({isUpdatingUserProfile:!1,updateUserProfileError:null})}).fail(e=>{n.set({isUpdatingUserProfile:!1,updateUserProfileError:K2(e)})})},"ui/accountSettingsPage/clearUpdateUserProfileError":e=>{KYt(e).set("updateUserProfileError",null)}},qYt=Nd.a.createElement,ZYt={0:{color:"#ff5533",translateFn:()=>Object(Ze.default)("Too weak")},1:{color:"#ee8833",translateFn:()=>Object(Ze.default)("Very weak")},2:{color:"#eebb00",translateFn:()=>Object(Ze.default)("Somewhat weak")},3:{color:"#bbbb33",translateFn:()=>Object(Ze.default)("Somewhat Strong")},4:{color:"#66bb55",translateFn:()=>Object(Ze.default)("Very Strong")}};const JYt=Cf(IB((function(e){let{formGroupClassName:t,formLabelClassName:i,formInputClassName:n,name:a,value:s,labelText:r,showErrors:o,errors:l,zxcvbn:c}=e,d=Xe()(e,["formGroupClassName","formLabelClassName","formInputClassName","name","value","labelText","showErrors","errors","zxcvbn"]);const u=c&&""!==s&&!l.length?ZYt[c(s).score]:null,p=I.a.last(l);return Vu()(eV,{className:t},void 0,Vu()(GM,{hasError:o,name:a,className:i},void 0,r,u&&!o?Vu()("span",{},void 0," ",""," ",Vu()("span",{style:{color:u.color}},void 0,u.translateFn())):null,o?"  "+p:null),qYt(UB,tp()({className:n,name:a,type:"password",value:s,hasError:o},d)))})),{zxcvbn:()=>i.e(6).then(i.t.bind(null,"WA7+",7)).then(e=>e.default)});JYt.defaultProps={showErrors:!1};var XYt=JYt;function $Yt(e){if(!e)return Object(Ze.default)("Username is required")}function eqt(e){if(!e)return Object(Ze.default)("Email address is required")}function tqt(e){if(!e)return Object(Ze.default)("Password is required")}function iqt(e){if(!e)return Object(Ze.default)("Password confirmation is required")}function nqt(e){if(!e)return Object(Ze.default)("Current password is required")}function aqt(e){return e&&e.length<8?Object(Ze.default)("Password must be at least 8 characters"):e&&e.length>128?Object(Ze.default)("Password must be no longer than 128 characters"):void 0}function sqt(e,t){if(e!==t.password.value)return Object(Ze.default)("Passwords must match")}function rqt(e){if(!e)return Object(Ze.default)("Verification code is required")}function oqt(e){if(!e)return Object(Ze.default)("URL is required")}var lqt=i("URCS"),cqt=i.n(lqt);function dqt({children:e,className:t=cqt.a.sectionHeader}){return Vu()("div",{className:t},void 0,e)}var uqt=Object(Wu.a)(Ay,e=>e.twoFactorAuth);function pqt(e){var t;if(null==e||null==(t=e.data)?void 0:t.errors){const t=K2(e.data.errors[0]);if(t)return t}return Object(Ze.default)("Something went wrong. Please try again in a few minutes.")}var hqt=i("tCBj"),mqt=i.n(hqt);const gqt=Nd.a.createElement,{useCallback:vqt,useEffect:yqt}=Nd.a;function fqt({isOpen:e,onModalClose:t}){var i;const n=Object(Hu.c)(),a=Object(Hu.d)(uqt),s=Object(Hu.d)(Y4).twoFactorEnabled,r=a.toggle.error,o=vqt(()=>{n(Ur.actions.reset()),t()},[n,t]);yqt(()=>{s||o()},[s,o]);const{register:l,handleSubmit:c,errors:d}=Object(UJe.a)(),u="required"===(null==(i=d.verificationCode)?void 0:i.type),p=vqt(({verificationCode:e})=>{n(Ur.actions.toggleRequested({enabled:!1,verificationCode:e}))},[n]);return Vu()(PI,{isOpen:e,onModalClose:o},void 0,Vu()(kI,{onModalClose:o},void 0,Vu()(UI,{},void 0,Object(Ze.default)("Disable two-factor authentication")),r?Vu()(FJe,{message:pqt(r)}):null,Vu()("form",{className:mqt.a.modalContent,onSubmit:c(p)},void 0,Vu()(TI,{innerClassName:mqt.a.innerModalBody},void 0,Vu()("div",{className:mqt.a.inputGroup},void 0,Vu()(az,{name:"verificationCode",hasError:u},void 0,Object(Ze.default)("Verification code")),gqt(cz,{name:"verificationCode",defaultValue:"",autoComplete:"off",hasFocusOnMount:!0,hasError:u,ref:l({required:!0})}))),Vu()(sD,{},void 0,Vu()(lD,{},void 0,Vu()(iD,{onPress:o},void 0,Object(Ze.default)("Cancel")),Vu()(MR,{isSpinning:a.toggle.isPending,type:"submit",kind:Qg.Primary},void 0,Object(Ze.default)("Disable")))))))}var bqt=i("OiDK"),Iqt=i.n(bqt);const{Fragment:Sqt,useCallback:Cqt}=Nd.a;function Mqt({showEnabledMessage:e,codes:t,onAcknowledgeCodes:i}){const n=Cqt(()=>{XZ.writeText(t.join("\n"))},[t]);return Vu()(Sqt,{},void 0,Vu()(TI,{innerClassName:Iqt.a.innerModalBody},void 0,e?Vu()("span",{className:(Iqt.a.info||"")+" "+(Iqt.a.strong||"")},void 0,Object(Ze.default)("Two-factor authentication is enabled!")):null,Vu()("span",{className:Iqt.a.info},void 0,Object(Ze.default)("Use recovery codes when you are unable to generate a verification code via your authenticator app. Store these recovery codes safely.")),Vu()("div",{className:Iqt.a.codes},void 0,t.map(e=>Vu()("div",{className:Iqt.a.code},e,e))),Vu()(iD,{onPress:n},void 0,Object(Ze.default)("Copy to clipboard"))),Vu()(sD,{},void 0,Vu()(lD,{},void 0,Vu()(iD,{kind:Qg.Primary,onPress:i},void 0,Object(Ze.default)("Done")))))}var Dqt=i("RDBK"),Pqt=i.n(Dqt);const Oqt=Nd.a.createElement,{Fragment:jqt,Suspense:wqt,useCallback:Tqt,useEffect:Eqt,useState:Nqt}=Nd.a;function xqt({onConfirmed:e,onClose:t}){var i;const n=Object(Hu.c)(),a=Object(Hu.d)(uqt),s=a.secret.isPopulated,r=a.secret.error,{register:o,handleSubmit:l,errors:c}=Object(UJe.a)(),d="required"===(null==(i=c.currentPassword)?void 0:i.type);Eqt(()=>{s&&e()},[s,e]);const u=Tqt(({currentPassword:e})=>{n(Ur.actions.createSecretRequested({password:e}))},[n]);return Vu()(jqt,{},void 0,r?Vu()(FJe,{message:pqt(r)}):null,Vu()("form",{className:Pqt.a.modalContent,onSubmit:l(u)},void 0,Vu()(TI,{innerClassName:Pqt.a.innerModalBody},void 0,Vu()("div",{className:Pqt.a.inputGroup},void 0,Vu()(az,{name:"currentPassword",hasError:d},void 0,Object(Ze.default)("Password")),Oqt(cz,{type:"password",name:"currentPassword",defaultValue:"",hasFocusOnMount:!0,hasError:d,ref:o({required:!0})}))),Vu()(sD,{},void 0,Vu()(lD,{},void 0,Vu()(iD,{onPress:t},void 0,Object(Ze.default)("Cancel")),Vu()(MR,{isSpinning:a.secret.isPending,type:"submit",kind:Qg.Primary},void 0,Object(Ze.default)("Continue"))))))}const Aqt=Nd.a.lazy(()=>i.e(5).then(i.t.bind(null,"D1Df",7)));function Lqt({onConfirmed:e,onClose:t}){var i;const n=Object(Hu.c)(),a=Object(Hu.d)(uqt),s=a.secret.provisioningUri,r=a.secret.secret,o=a.toggle.isPopulated,l=a.toggle.error;Eqt(()=>{o&&e()},[o,e]);const{register:c,handleSubmit:d,errors:u}=Object(UJe.a)(),p="required"===(null==(i=u.verificationCode)?void 0:i.type),h=Tqt(({verificationCode:e})=>{n(Ur.actions.toggleRequested({enabled:!0,verificationCode:e}))},[n]);return Vu()(jqt,{},void 0,l?Vu()(FJe,{message:pqt(l)}):null,Vu()("form",{className:Pqt.a.modalContent,onSubmit:d(h)},void 0,Vu()(TI,{},void 0,Vu()("div",{className:Pqt.a.secretContent},void 0,Vu()("div",{className:Pqt.a.qrCodeContent},void 0,Vu()(wqt,{fallback:Vu()("div",{className:Pqt.a.qrCodePlaceholder})},void 0,s?Vu()(Aqt,{value:s,size:200,includeMargin:!0}):null),r?Vu()("div",{className:Pqt.a.textCode},void 0,Vu()(az,{},void 0,Object(Ze.default)("Text code")),Vu()("div",{},void 0,r)):null),Vu()("div",{className:Pqt.a.verificationCodeContent},void 0,Vu()("div",{},void 0,Object(Ze.default)("Scan the image with the two-factor authentication app on your phone and enter the verification code. If you can't use a barcode use the text code instead.")),Vu()("div",{className:Pqt.a.verificationCodeInput},void 0,Vu()(az,{name:"verificationCode",hasError:p},void 0,Object(Ze.default)("Verification code")),Oqt(cz,{name:"verificationCode",defaultValue:"",autoComplete:"off",hasFocusOnMount:!0,hasError:p,ref:c({required:!0})}))))),Vu()(sD,{},void 0,Vu()(lD,{},void 0,Vu()(iD,{onPress:t},void 0,Object(Ze.default)("Cancel")),Vu()(MR,{isSpinning:a.toggle.isPending,type:"submit",kind:Qg.Primary},void 0,Object(Ze.default)("Continue"))))))}var kqt;function Rqt({isOpen:e,onEnableTwoFactorAuthComplete:t,onModalClose:i}){const n=Nqt(kqt.Password),a=n[1],s=n[0],r=Object(Hu.c)(),o=Object(Hu.d)(uqt);Eqt(()=>{a(kqt.Password)},[e]);const l=Tqt(()=>{r(Ur.actions.reset()),i()},[r,i]),c=Tqt(()=>{a(kqt.Secret)},[a]),d=Tqt(()=>{a(kqt.Codes)},[a]),u=Tqt(()=>{t(),l()},[l,t]);return Vu()(PI,{isOpen:e,onModalClose:l},void 0,Vu()(kI,{onModalClose:l},void 0,Vu()(UI,{},void 0,Object(Ze.default)("Enable two-factor authentication")),s===kqt.Password?Vu()(xqt,{onClose:l,onConfirmed:c}):null,s===kqt.Secret?Vu()(Lqt,{onClose:l,onConfirmed:d}):null,s===kqt.Codes?Vu()(Mqt,{showEnabledMessage:!0,codes:o.codes,onAcknowledgeCodes:u}):null))}!function(e){e.Password="Password",e.Secret="Secret",e.Codes="codes"}(kqt||(kqt={}));var zqt=i("w1d1"),Uqt=i.n(zqt);const Vqt=Nd.a.createElement,{useCallback:Bqt}=Nd.a;function Fqt({isOpen:e,onModalClose:t}){var i,n;const a=Object(Hu.c)(),s=Object(Hu.d)(uqt),r=s.recoveryCodes.error,o=Bqt(()=>{a(Ur.actions.reset()),t()},[a,t]),{register:l,handleSubmit:c,errors:d}=Object(UJe.a)(),u="required"===(null==(i=d.currentPassword)?void 0:i.type),p="required"===(null==(n=d.verificationCode)?void 0:n.type),h=Bqt(({currentPassword:e,verificationCode:t})=>{a(Ur.actions.generateRecoveryCodesRequested({password:e,verificationCode:t}))},[a]);return Vu()(PI,{isOpen:e,onModalClose:o},void 0,Vu()(kI,{onModalClose:o},void 0,Vu()(UI,{},void 0,Object(Ze.default)("Generate new recovery codes")),r?Vu()(FJe,{message:pqt(r)}):null,s.recoveryCodes.isPopulated?Vu()(Mqt,{codes:s.codes,onAcknowledgeCodes:o}):Vu()("form",{className:Uqt.a.modalContent,onSubmit:c(h)},void 0,Vu()(TI,{innerClassName:Uqt.a.innerModalBody},void 0,Vu()("div",{className:Uqt.a.inputGroup},void 0,Vu()(az,{name:"currentPassword",hasError:u},void 0,Object(Ze.default)("Password")),Vqt(cz,{type:"password",name:"currentPassword",defaultValue:"",hasFocusOnMount:!0,hasError:u,ref:l({required:!0})})),Vu()("div",{className:Uqt.a.inputGroup},void 0,Vu()(az,{name:"verificationCode",hasError:p},void 0,Object(Ze.default)("Verification code")),Vqt(cz,{name:"verificationCode",defaultValue:"",autoComplete:"off",hasError:p,ref:l({required:!0})}))),Vu()(sD,{},void 0,Vu()(lD,{},void 0,Vu()(iD,{onPress:o},void 0,Object(Ze.default)("Cancel")),Vu()(MR,{isSpinning:s.recoveryCodes.isPending,type:"submit",kind:Qg.Primary},void 0,Object(Ze.default)("Generate codes")))))))}var Hqt=i("oucR"),_qt=i.n(Hqt);const{Fragment:Wqt}=Nd.a;function Qqt({onEnableTwoFactorAuthComplete:e}){const t=Object(Hu.d)(Y4),i=Ffe(),n=Ffe(),a=Ffe();return Vu()(Wqt,{},void 0,Vu()(Rqt,{isOpen:i.isOpen,onEnableTwoFactorAuthComplete:e,onModalClose:i.onClose}),Vu()(fqt,{isOpen:n.isOpen,onModalClose:n.onClose}),Vu()(Fqt,{isOpen:a.isOpen,onModalClose:a.onClose}),Vu()(dqt,{},void 0,Object(Ze.default)("Two-factor authentication")),t.twoFactorEnabled?Vu()(Wqt,{},void 0,Vu()("div",{className:_qt.a.sectionWrapper},void 0,Vu()("div",{className:_qt.a.description},void 0,Object(Ze.default)("To disable two-factor authentication you will need your authenticator app or recovery codes.")),Vu()("div",{className:_qt.a.action},void 0,Vu()(iD,{kind:Qg.Primary,size:yp.Medium,onPress:n.onOpen},void 0,Object(Ze.default)("Disable")))),Vu()("div",{className:_qt.a.sectionWrapper},void 0,Vu()("div",{className:_qt.a.description},void 0,Object(Ze.default)("Recovery codes are used in place of generated two-factor authentication codes. Treat them as carefully as you treat your password.")),Vu()("div",{className:_qt.a.action},void 0,Vu()(iD,{kind:Qg.Primary,size:yp.Medium,onPress:a.onOpen},void 0,Object(Ze.default)("Generate new recovery codes"))))):Vu()("div",{className:_qt.a.sectionWrapper},void 0,Vu()("div",{className:_qt.a.description},void 0,Object(Ze.default)("Use an authenticator application on your phone to get two-factor authentication codes when prompted.")),Vu()("div",{className:_qt.a.action},void 0,Vu()(iD,{kind:Qg.Primary,size:yp.Medium,onPress:i.onOpen},void 0,Object(Ze.default)("Enable")))))}var Gqt=i.p+"desktop/common/img/pp-ticket.a20f24dabb7938a8b8791b62f2f6dc9b.svg",Kqt=i("eO7X"),Yqt=i.n(Kqt);const{Component:qqt,Fragment:Zqt}=Nd.a,Jqt={path:"/subscription",title:()=>Object(Ze.default)("Subscriptions")},Xqt={path:"/users/payments",title:()=>Object(Ze.default)("Payments")},$qt={path:"/users/other-services",title:()=>Object(Ze.default)("Other Services")};var eZt=class extends qqt{constructor(e,t){super(e,t),this.onPlexPassPress=()=>{this.setState({isPlexPassModalOpen:!0})},this.onPlexPassModalClose=()=>{this.setState({isPlexPassModalOpen:!1})},this.state={isPlexPassModalOpen:!1}}render(){const{user:e}=this.props,{isPlexPassModalOpen:t}=this.state,i=I4()?"_blank":"_self",n=function(e){return e.isEmployee?Vu()("span",{className:Yqt.a.textBadge},void 0,"Employee"):e.isNinja&&!e.isEmployee?Vu()("span",{className:Yqt.a.textBadge},void 0,"Ninja"):null}(e);return e.hasPlexSubscription||e.canGoPremium||!e.restricted?Vu()(HNt,{},void 0,Vu()("div",{className:Yqt.a.container},void 0,Vu()("div",{},void 0,e.hasPlexSubscription?Vu()("div",{},void 0,Vu()("div",{className:Yqt.a.badgeContainer},void 0,e.hasPlexPass?Vu()("img",{className:Yqt.a.plexPassBadge,src:Gqt}):null,n),Vu()("div",{},void 0,e.subscriptionDescription)):null,e.canGoPremium?Vu()("div",{},void 0,n?Vu()("div",{className:Yqt.a.badgeContainer},void 0,n):null,Vu()(hw,{kind:Pp,onPress:this.onPlexPassPress},void 0,Object(Ze.default)("Go Premium")),Vu()(dk,{origin:"account",metricsProperties:{context:zd.a},isOpen:t,onModalClose:this.onPlexPassModalClose})):null),e.restricted?null:Vu()("div",{className:Yqt.a.actionLinksContainer},void 0,Vu()(GNt,{className:Yqt.a.actionLinks},void 0,(a=e.hasPlexSubscription,a?[Jqt,Xqt,$qt]:[Xqt,$qt]).map(({path:e,title:t},n)=>Vu()(Zqt,{},n,Vu()(tf,{className:Yqt.a.linkSeparator,separator:""}),Vu()(zp,{kind:Pp,to:Object(V.join)(["https://plex.tv",e]),target:i},void 0,t()))))))):null;var a}};function tZt(e,t){const i=e.find(e=>e.hasOwnProperty(t));return i?i[t]:""}var iZt=Vu()(tf,{}),nZt=Vu()(tf,{});var aZt=function(e){const{userProfile:t,languageOptions:i,autoSelectSubtitleOptions:n,subtitleAccessibilityOptions:a,subtitleForcedOptions:s}=e,{autoSelectAudio:r,defaultAudioLanguage:o,defaultSubtitleLanguage:l,autoSelectSubtitle:c,defaultSubtitleAccessibility:d,defaultSubtitleForced:u}=t,p=[],h=tZt(i,o);""!==o&&h&&p.push(Object(Ze.default)("{audioLanguage} audio",{audioLanguage:h}));const m=tZt(i,l);let g="";""!==l&&m&&(g=Object(Ze.default)("{subtitleLanguage} subtitles",{subtitleLanguage:m}));const v=tZt(n,c).toLowerCase();let y;g&&v?y=g+" "+v:!g&&v?y=Object(Ze.default)("Subtitles")+" "+v:g&&!v&&(y=g),y&&p.push(y);const f=r?p.join(", "):Object(Ze.default)("Manually Select"),b=[tZt(a,d),tZt(s,u)].join(", ");return Vu()("div",{},void 0,f?Vu()("div",{},void 0,Object(Ze.default)("Track selection")," ",iZt," ",f):null,Vu()("div",{},void 0,Object(Ze.default)("Searches")," ",nZt," ",b))},sZt=i("+tcT"),rZt=i.n(sZt);const oZt=Nd.a.createElement,{Component:lZt}=Nd.a;var cZt=class extends lZt{constructor(e,t){super(e,t),this._autoSelectSubtitleOptions=void 0,this._languageOptions=void 0,this._subtitleAccessibilityOptions=void 0,this._subtitleForcedOptions=void 0,this.onSubmit=e=>{e.autoSelectSubtitle&&(e.autoSelectSubtitle=parseInt(e.autoSelectSubtitle,10)),e.defaultSubtitleAccessibility&&(e.defaultSubtitleAccessibility=parseInt(e.defaultSubtitleAccessibility,10)),e.defaultSubtitleForced&&(e.defaultSubtitleForced=parseInt(e.defaultSubtitleForced,10)),e.autoSelectAudio||(e.autoSelectSubtitle=0),this.props.onSubmit(e)},this.onFormChange=({autoSelectAudio:e})=>{e.value!==this.state.isAutoSelectAudio&&this.setState({isAutoSelectAudio:e.value})},this.state={isAutoSelectAudio:e.userProfile.autoSelectAudio},this._autoSelectSubtitleOptions=[{0:Object(Ze.default)("Manually selected")},{1:Object(Ze.default)("Shown with foreign audio")},{2:Object(Ze.default)("Always enabled")}],this._subtitleAccessibilityOptions=[{0:Object(Ze.default)("Prefer non-SDH subtitles")},{1:Object(Ze.default)("Prefer SDH subtitles")},{2:Object(Ze.default)("Only show SDH subtitles")},{3:Object(Ze.default)("Only show non-SDH subtitles")}],this._subtitleForcedOptions=[{0:Object(Ze.default)("Prefer non-forced subtitles")},{1:Object(Ze.default)("Prefer forced subtitles")},{2:Object(Ze.default)("Only show forced subtitles")},{3:Object(Ze.default)("Only show non-forced subtitles")}],this._languageOptions=[{"":Object(Ze.default)("Select Language")},...ic.filter(e=>2===e.length&&-1===tc.indexOf(e)).map(e=>({[e]:nc[e]}))]}componentWillReceiveProps(e){e.isOpen!==this.props.isOpen&&this.setState({isAutoSelectAudio:e.userProfile.autoSelectAudio})}render(){const e=this.props,{userProfile:t}=e,i=Xe()(e,["userProfile"]),{isAutoSelectAudio:n}=this.state;return oZt(axt,tp()({},i,{title:Object(Ze.default)("Audio & Subtitle Settings"),closedNode:Vu()(aZt,{userProfile:t,languageOptions:this._languageOptions,autoSelectSubtitleOptions:this._autoSelectSubtitleOptions,subtitleAccessibilityOptions:this._subtitleAccessibilityOptions,subtitleForcedOptions:this._subtitleForcedOptions}),onFormChange:this.onFormChange,onSubmit:this.onSubmit}),Vu()(GM,{},void 0,Object(Ze.default)("Audio & Subtitle Settings")),Vu()("p",{className:rZt.a.description},void 0,Object(Ze.default)("These settings determine how Plex will try to select audio and subtitle tracks when playing media in a Plex app while using your account.")),Vu()("p",{},void 0,Vu()(zp,{kind:Pp,to:"https://support.plex.tv/articles/204985278-account-audio-subtitle-language-settings/?utm_source=Plex%20Apps&utm_medium=Plex%20Web&utm_campaign=Plex%20Apps",target:"_blank"},void 0,Object(Ze.default)("Learn more"))),Vu()(xB,{name:"autoSelectAudio",checkboxText:Object(Ze.default)("Automatically select audio and subtitle tracks"),initialValue:t.autoSelectAudio}),n?Vu()(CB,{labelText:Object(Ze.default)("Preferred audio language"),name:"defaultAudioLanguage",initialValue:t.defaultAudioLanguage,values:this._languageOptions}):null,n?Vu()(CB,{labelText:Object(Ze.default)("Preferred subtitle language"),name:"defaultSubtitleLanguage",initialValue:t.defaultSubtitleLanguage,values:this._languageOptions}):null,n?Vu()(CB,{labelText:Object(Ze.default)("Auto-select subtitle mode"),name:"autoSelectSubtitle",initialValue:t.autoSelectSubtitle,values:this._autoSelectSubtitleOptions}):null,Vu()(CB,{labelText:Object(Ze.default)("Subtitles for the Deaf or Hard-of-Hearing (SDH) Searches"),name:"defaultSubtitleAccessibility",initialValue:t.defaultSubtitleAccessibility,values:this._subtitleAccessibilityOptions}),Vu()(CB,{labelText:Object(Ze.default)("Forced Subtitle Searches"),name:"defaultSubtitleForced",initialValue:t.defaultSubtitleForced,values:this._subtitleForcedOptions}))}};const dZt=Object(Wu.a)(bg("profile"),e=>({userProfile:e})),uZt={onSubmit:QYt};var pZt=Object(Hu.b)(dZt,uZt)(cZt);function hZt(e){var t=e["aria-label"],i=e.className,n=e.style,a={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-avatar-crop-max-560"};a["aria-hidden"]=!t,a.style=n,a.className=Ad.a.plexIcon+(i?" "+i:"");var s=[Nd.a.createElement.apply(Nd.a,["path",{d:"m560 0l0 560-560 0 0-560 560 0m-420 280c0 77.268 62.732 140 140 140 77.268 0 140-62.732 140-140 0-77.268-62.732-140-140-140-77.268 0-140 62.732-140 140"}].concat([]))];return t&&s.unshift(Nd.a.createElement("title",null,t)),Nd.a.createElement.apply(Nd.a,["svg",a].concat(s))}hZt.propTypes={"aria-label":vc.a.string,className:vc.a.string,style:vc.a.object};var mZt=hZt;function gZt(e){var t=e["aria-label"],i=e.className,n=e.style,a={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-avatar-crop-min-560"};a["aria-hidden"]=!t,a.style=n,a.className=Ad.a.plexIcon+(i?" "+i:"");var s=[Nd.a.createElement.apply(Nd.a,["path",{d:"m476 84l0 392-392 0 0-392 392 0m-336 196c0 77.268 62.732 140 140 140 77.268 0 140-62.732 140-140 0-77.268-62.732-140-140-140-77.268 0-140 62.732-140 140"}].concat([]))];return t&&s.unshift(Nd.a.createElement("title",null,t)),Nd.a.createElement.apply(Nd.a,["svg",a].concat(s))}gZt.propTypes={"aria-label":vc.a.string,className:vc.a.string,style:vc.a.object};var vZt=gZt,yZt=i("6MR1"),fZt=i.n(yZt);const bZt=Nd.a.createElement,{Component:IZt}=Nd.a;var SZt=Vu()(vZt,{}),CZt=Vu()(mZt,{});class MZt extends IZt{constructor(e,t){super(e,t),this.canvas=void 0,this.dropTargetEnteredCounter=void 0,this.image=void 0,this.imageHeight=void 0,this.imageWidth=void 0,this.initialHeight=void 0,this.initialWidth=void 0,this.setCanvasRef=e=>{this.canvas=e},this.onMouseDown=e=>{e.preventDefault(),this.startAvatarDrag(e.clientX,e.clientY)},this.onTouchStart=e=>{e.preventDefault();const t=e.touches.item(0);t&&this.startAvatarDrag(t.clientX,t.clientY,!0)},this.onTouchMove=e=>{const t=e.touches.item(0);t&&this.dragAvatar(t.clientX,t.clientY)},this.onMouseMove=e=>{this.dragAvatar(e.clientX,e.clientY)},this.onMouseUp=()=>{this.stopAvatarDrag()},this.onTouchEnd=()=>{this.stopAvatarDrag()},this.onFileDrop=e=>{let t;if(e.preventDefault(),this.setState({isOverDropTarget:!1}),this.dropTargetEnteredCounter=0,e.dataTransfer&&e.dataTransfer.files.length?t=e.dataTransfer.files[0]:e.target.files&&e.target.files.length&&(t=e.target.files[0]),t){const e=new window.FileReader;e.onload=e=>this.loadImage(e.target.result),e.readAsDataURL(t)}},this.onDragEnter=(e=window.event)=>{e.preventDefault(),this.dropTargetEnteredCounter++,this.setOverDropTargetState()},this.onDragLeave=(e=window.event)=>{e.preventDefault(),this.dropTargetEnteredCounter--,this.setOverDropTargetState()},this.onSliderChange=({steppedValue:e})=>{this.setState(t=>{const{offsetX:i,offsetY:n}=t,a=this.initialWidth*e,s=this.initialHeight*e,r=(this.imageWidth-a)/2,o=(this.imageHeight-s)/2,l=this.props.width-a,c=this.props.height-s,d=Math.max(l,Math.min(i+r,0)),u=Math.max(c,Math.min(n+o,0));return Object.assign({},t,{scale:e,offsetX:d,offsetY:u})},()=>this.props.onChange(this.getImageDataUrl()))},this.state={drag:!1,dragX:0,dragY:0,minScale:.1,maxScale:1,scale:.1,offsetX:0,offsetY:0,isOverDropTarget:!1},this.dropTargetEnteredCounter=0}componentDidMount(){window.addEventListener("dragover",this.onWindowDragOver),window.addEventListener("drop",this.onWindowDrop),this.paint(),this.loadImage(this.props.url,!0)}componentWillReceiveProps(e){this.props.url!==e.url&&this.loadImage(e.url)}shouldComponentUpdate(e,t){return Tp(this,e,t)}componentDidUpdate(){this.paint()}componentWillUnmount(){window.removeEventListener("dragover",this.onWindowDragOver),window.removeEventListener("drop",this.onWindowDrop),this.stopListeningForDrag()}listenForDrag(e){e?(document.addEventListener("touchmove",this.onTouchMove),document.addEventListener("touchcancel",this.onTouchEnd),document.addEventListener("touchend",this.onTouchEnd)):(document.addEventListener("mousemove",this.onMouseMove),document.addEventListener("mouseup",this.onMouseUp))}stopListeningForDrag(){document.removeEventListener("mousemove",this.onMouseMove),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("mouseup",this.onMouseUp),document.removeEventListener("touchcancel",this.onTouchEnd),document.removeEventListener("touchend",this.onTouchEnd)}startAvatarDrag(e,t,i){this.listenForDrag(i),this.setState({drag:!0,dragX:e,dragY:t})}dragAvatar(e,t){this.state.drag&&this.setState(i=>{const{offsetX:n,offsetY:a,dragX:s,dragY:r}=i,o=this.props.width-this.imageWidth,l=this.props.height-this.imageHeight,c=Math.max(o,Math.min(n+(e-s),0)),d=Math.max(l,Math.min(a+(t-r),0));return Object.assign({},i,{dragX:e,dragY:t,offsetX:c,offsetY:d})})}stopAvatarDrag(){this.stopListeningForDrag(),this.setState({drag:!1},()=>this.props.onChange(this.getImageDataUrl()))}loadImage(e,t,i=this.props){const n=new window.Image;n.onload=()=>this.onImageLoad(n,t),/^https?:\/\//.test(e)&&n.setAttribute("crossOrigin","anonymous");let a=e;if(0!==e.indexOf("data:")){const t=Vm(),n={width:Math.round(i.width*t),height:Math.round(i.height*t),minSize:1},s=e.indexOf("?");s>-1?(a=V.join(e.substring(0,s),n),a+=-1===a.indexOf("?")?"?":"&",a+=e.substring(s+1)):a=V.join(a,n)}n.src=a}paint(){const{width:e,height:t}=this.props,i=this.canvas.getContext("2d");i.clearRect(0,0,e,t),this.image&&this.drawImage(i);const n=document.createElement("canvas"),a=n.getContext("2d");n.width=e,n.height=t,a.fillStyle="rgba(0,0,0,0.6)",a.fillRect(0,0,n.width,n.height),a.globalCompositeOperation="destination-out",a.arc(e/2,t/2,e/2,0,2*Math.PI),a.fill(),i.drawImage(n,0,0)}drawImage(e){this.imageWidth=this.initialWidth*this.state.scale,this.imageHeight=this.initialHeight*this.state.scale,e.drawImage(this.image,this.state.offsetX,this.state.offsetY,this.imageWidth,this.imageHeight)}getImageDataUrl(){const e=document.createElement("canvas"),t=e.getContext("2d");return e.height=this.props.height,e.width=this.props.width,this.drawImage(t),e.toDataURL()}setOverDropTargetState(){this.state.isOverDropTarget||0===this.dropTargetEnteredCounter||this.setState({isOverDropTarget:!0}),this.state.isOverDropTarget&&0===this.dropTargetEnteredCounter&&this.setState({isOverDropTarget:!1})}onImageLoad(e,t){this.image=e,this.initialWidth=Math.max(this.props.width,e.width),this.initialHeight=Math.max(this.props.height,e.height);const i=e.width>e.height?e.height:e.width,n=i>this.props.width?this.props.width/i:1,a=i<=this.props.width?2:1;this.setState({drag:!1,dragX:0,dragY:0,minScale:n,maxScale:a,scale:n,offsetX:0,offsetY:0},t?null:()=>this.props.onChange(this.getImageDataUrl()))}onWindowDrop(e=window.event){e.preventDefault()}onWindowDragOver(e=window.event){e.preventDefault()}onDragStart(e=window.event){e.dataTransfer.effectAllowed="copyMove"}onDragOver(e=window.event){e.dataTransfer.dropEffect="copy"}render(){const{isOverDropTarget:e}=this.state;return Vu()("div",{className:fZt.a.avatarContainer,onDrop:this.onFileDrop,onDragOver:this.onDragOver,onDragStart:this.onDragStart,onDragLeave:this.onDragLeave,onDragEnter:this.onDragEnter},void 0,Vu()("div",{className:fZt.a.avatarPane},void 0,bZt("canvas",{className:e?fZt.a.isOverDropTarget:"",width:this.props.width,height:this.props.height,ref:this.setCanvasRef,onTouchStart:this.onTouchStart,onMouseDown:this.onMouseDown}),Vu()("div",{className:fZt.a.sliderContainer},void 0,Vu()("span",{className:fZt.a.sliderEnd},void 0,SZt),Vu()("span",{className:fZt.a.sliderWrapper},void 0,Vu()(nF,{className:fZt.a.slider,min:this.state.minScale,max:this.state.maxScale,step:.1,value:this.state.scale,onChange:this.onSliderChange})),Vu()("span",{className:fZt.a.sliderEnd},void 0,CZt))),Vu()("div",{className:fZt.a.avatarTextPane},void 0,Vu()("p",{},void 0,Vu()(oVe,{accept:"image/*",buttonText:Object(Ze.default)("Choose Photo"),onChange:this.onFileDrop})),Vu()("p",{className:fZt.a.help},void 0,Object(Ze.default)("You can scale your photo using the slider below, and adjust the crop by dragging it within the circle."))))}}MZt.defaultProps={height:200,width:200,onChange(){}};var DZt=IB(MZt);var PZt=Object(Hu.b)((function(){return Object(Wu.a)(KS(),e=>({url:e}))}))(DZt);const OZt=Object(Pi.a)("oauth/fetchOauthProviders"),jZt=Object(Pi.a)("oauth/unlinkOauthProvider"),wZt={"oauth/fetchOauthProviders":Object(Oi.a)({key:"oauthProviders",getModel:e=>e.get("cloudServer").get("desktop")}),"oauth/unlinkOauthProvider"(e,t,i){const n=e.get("cloudServer"),a=n.get("desktop").get("oauthProviders").findWhere(t);a.set("isUnlinking",!0);const s=n.populate().then(()=>D.a.ajax(n.getXHROptions(t.url,{type:"DELETE"})));dT(s,1e3).done(()=>{a.set("unlinkError",null)}).fail(e=>{a.set("unlinkError",e)}).always(()=>{i(uu()),i(OZt()),a.set("isUnlinking",!1)})}};var TZt=function(e){return Object(Wu.a)(Yu,t=>{if(!t)return{};const i=t.desktop;return{oauthProviders:i.oauthProviders.filter(t=>t.usage&&t.usage[e]),isOauthProvidersPending:i.isOauthProvidersPending,isOauthProvidersPopulated:i.isOauthProvidersPopulated,oauthProvidersError:i.oauthProvidersError}})}("federatedAuth");var EZt=function(e,t){const i=K4(window.location.href,t);return V.join([e],{origin:i})},NZt=i("3GoL"),xZt=i.n(NZt);const{Component:AZt}=Nd.a,LZt={apple:xZt.a.buttonApple,facebook:xZt.a.buttonFacebook,google:xZt.a.buttonGoogle};var kZt=class extends AZt{constructor(e,t){super(e,t),this.onUnlinkPress=e=>{!this.props.hasPassword&&this.props.isLastLinkedAccount?this.setState({isUnlinkOauthProviderModalOpen:!0}):this.props.onCreatePassword(e)},this.onUnlinkCancel=()=>{this.setState({isUnlinkOauthProviderModalOpen:!1})},this.state={isUnlinkOauthProviderModalOpen:!1}}componentWillReceiveProps(e){this.props.isUnlinking&&!e.isUnlinking&&this.setState({isUnlinkOauthProviderModalOpen:!1})}render(){const{to:e,isPollClient:t,isBusy:i,code:n,providerID:a,metricsProperties:s,isDisabled:r,isLastLinkedAccount:o,hasPassword:l,label:c,linked:d,onUnlink:u,onLink:p,onCreatePassword:h,onStillTherePress:m}=this.props,{isUnlinkOauthProviderModalOpen:g}=this.state,v=d,y=!d&&!r,f=!(y||i||n||v),b=v||y||f,I=!l&&o,S=I?this.onUnlinkPress:u;return Vu()("div",{className:d?xZt.a.rowLinked:xZt.a.rowUnlinked},void 0,Vu()(hw,{className:LZt[a],isDisabled:r,to:y?e:null,target:y&&t?"_blank":null,onPress:y?p:S}),d?Object(Ze.default)("Your {oauthProvider} account is linked",{oauthProvider:c}):Object(Ze.default)("Your {oauthProvider} account is not linked",{oauthProvider:c}),b?Vu()("span",{className:xZt.a.separator},void 0,""):null,v?Vu()(zp,{kind:Pp,isDisabled:r,onPress:S},void 0,Object(Ze.default)("Unlink")):null,I?Vu()(F_,{isConfirmButtonSpinning:r,isCancelButtonDisabled:r,isOpen:g,metricsPage:zd.B,metricsProperties:s,title:Object(Ze.default)("Unlink {oauthProvider}",{oauthProvider:c}),message:Object(Ze.default)("To unlink, first set a password to use when signing in"),confirmLabel:Object(Ze.default)("Set Password"),kind:Op,onConfirm:h,onCancel:this.onUnlinkCancel}):null,y?Vu()(zp,{kind:Pp,to:e,target:t?"_blank":null,onPress:p},void 0,Object(Ze.default)("Link")):null,f?Vu()(vw,{message:Object(Ze.default)("Account linking timed out. {openLink}Try again?{closeLink}"),tags:[{open:"openLink",close:"closeLink",component:zp,kind:Pp,onPress:m}]}):null)}};const RZt=Nd.a.createElement,{Component:zZt}=Nd.a;const UZt={dispatchUnlinkOauthProvider:jZt,dispatchPreloadPIN:A4};var VZt=Object(Hu.b)((function(){const e=Object(Wu.a)((e,{url:t})=>t,TZt,(e,t)=>t.oauthProviders.find(t=>t.url===e));return Object(Wu.a)((e,{url:t})=>({url:t}),(e,{returnUrl:t})=>t,bg("email"),bg("authToken"),e,_2,(e,t,i,n,a,s)=>{const r=Xe()(s,["authToken"]),o=!a.linked&&(a.isUnlinking||S4()&&!s.code||s.isBusy);return Object.assign({},a,{isPollClient:S4(),userAuthToken:n,email:i,providerID:a.authName,originalUrl:a.url,url:EZt(a.url,t),metricsProperties:e,isDisabled:o},r)})}),UZt)(class extends zZt{constructor(...e){super(...e),this.onUnlink=()=>{this.props.dispatchUnlinkOauthProvider({url:this.props.originalUrl})},this.onStillTherePress=()=>{this.props.dispatchPreloadPIN()}}render(){const e=this.props,t=Xe()(e,["dispatchUnlinkOauthProvider"]);return RZt(J4,tp()({component:kZt},t,{onUnlink:this.onUnlink,onStillTherePress:this.onStillTherePress}))}});const BZt=Object(Pi.a)("user/linkAccount/navigateRefresh"),FZt={"user/linkAccount/navigateRefresh"(e,t,i){U.a.trigger("navigate:refresh")}},{Component:HZt}=Nd.a,_Zt={dispatchPreloadPIN:A4,dispatchStopPolling:R4,dispatchNavigateRefresh:BZt};var WZt=Object(Hu.b)(_2,_Zt)(class extends HZt{componentDidMount(){this.props.dispatchPreloadPIN()}componentDidUpdate(e){this.props.authToken!==e.authToken&&this.props.authToken&&this.props.dispatchNavigateRefresh()}componentWillUnmount(){this.props.dispatchStopPolling()}render(){return null}}),QZt=i("EWqP"),GZt=i.n(QZt);const KZt=Nd.a.createElement;var YZt=Vu()(WZt,{});var qZt=function(e){const{isPollClient:t,returnUrl:i,hasPassword:n,linkedOauthProviders:a,isOauthProvidersPending:s,isOauthProvidersPopulated:r,oauthProvidersError:o,lastLinkedAuthProviderID:l,onCreatePassword:c,onLink:d}=e,u=Xe()(e,["isPollClient","returnUrl","hasPassword","linkedOauthProviders","isOauthProvidersPending","isOauthProvidersPopulated","oauthProvidersError","lastLinkedAuthProviderID","onCreatePassword","onLink"]);let p;return p=s?Vu()("span",{className:GZt.a.dim},void 0,Object(Ze.default)("Loading")):o?Vu()("span",{className:GZt.a.dim},void 0,Object(Ze.default)("Error")):a||Vu()("span",{className:GZt.a.dim},void 0,Object(Ze.default)("None")),KZt(axt,tp()({},u,{closedNode:p,showButton:!1}),Vu()(GM,{},void 0,Object(Ze.default)("Linked Accounts")),Vu()("div",{className:GZt.a.description},void 0,Object(Ze.default)("You can link your Google, Facebook, or Apple account to simplify signing in to Plex."),t?YZt:null),r&&e.oauthProviders?e.oauthProviders.map(e=>Vu()(VZt,{isUnlinking:s,hasPassword:n,isLastLinkedAccount:l===e.authName,providerID:e.providerID,url:e.url,returnUrl:i,onCreatePassword:c,onLink:d},e.url)):null)};const ZZt=Nd.a.createElement,{Component:JZt}=Nd.a,XZt=Object(Wu.a)(TZt,_2,(e,t)=>{const i=e.oauthProviders.filter(e=>e.linked),n=1===i.length?i[0].authName:null;return Object.assign({linkedOauthProviders:i.map(e=>e.label).join(", "),lastLinkedAuthProviderID:n,returnUrl:window.location.href,isPollClient:S4()},e,t)}),$Zt={dispatchFetchOauthProviders:OZt,dispatchBeginPolling:k4};var eJt=Object(Hu.b)(XZt,$Zt)(class extends JZt{constructor(...e){super(...e),this.onLink=()=>{this.props.isPollClient&&this.props.dispatchBeginPolling({pinID:this.props.pinID})}}componentDidMount(){this.props.dispatchFetchOauthProviders()}render(){const e=this.props,t=Xe()(e,["dispatchFetchOauthProviders"]);return ZZt(qZt,tp()({onLink:this.onLink},t))}}),tJt=i("qGiH"),iJt=i.n(tJt);const nJt=Nd.a.createElement,{Component:aJt}=Nd.a;var sJt=Vu()(tf,{});var rJt=class extends aJt{constructor(e,t){super(e,t),this.createToggleHandler=e=>t=>{null==t||t.preventDefault();const i=this.state[e];this.props.updateUserError&&this.props.onErrorDismiss(),this.setState(I.a.mapObject(this.state,(t,n)=>n===e&&!i))},this.getUserFormSectionProps=(e,t)=>{const i=this.state[t];return{title:e,onTogglePress:this.createToggleHandler(t),isOpen:i,onSubmit:this.props.onSubmit,isUpdating:this.props.isUpdatingUser,errorMessage:this.props.updateUserError}},this.onCreatePassword=e=>{this.createToggleHandler("isPasswordOpen")(e)},this.onEnableTwoFactorAuthComplete=e=>{this.createToggleHandler("isTwoFactorAuthenticationOpen")(e)},this.onToggleAudioSubtitlesFormSection=e=>{this.createToggleHandler("isSelectAudioOpen")(e)},this.onAccountEmailSubmit=e=>{const t=this.props.user;t.username===t.email?this.props.onSubmit(Object.assign({},e,{username:e.email})):this.props.onSubmit(e)},this.state={isUsernameOpen:!1,isEmailOpen:!1,isPasswordOpen:!1,isTwoFactorAuthenticationOpen:!1,isLinkedAccountsOpen:!1,isLocaleOpen:!1,isPhotoOpen:!1,isNewsletterOpen:!1,isSelectAudioOpen:!1}}componentWillReceiveProps(e){const t=this.props.isUpdatingUser&&!e.isUpdatingUser&&!e.updateUserError,i=this.state.isTwoFactorAuthenticationOpen&&this.props.user.twoFactorEnabled&&!e.user.twoFactorEnabled;(t||i)&&this.setState(I.a.mapObject(this.state,()=>!1))}render(){const{serverEntityID:e,user:t,userSettingErrors:i,hasTwoFactorAuthFeature:n}=this.props,a=Object(Ze.default)("System Default"),s=t.anonymous,r=!t.restricted,o=t.username===t.email,l=n&&r&&!s,c=ic.map(e=>({[e]:nc[e]}));return Vu()(F5,{metricsPage:zd.a,metricsPane:"account"},void 0,Vu()(L5,{},void 0,Object(Ze.default)("Account")),s?null:Vu()(eZt,{user:t}),s?null:nJt(axt,tp()({},this.getUserFormSectionProps(Object(Ze.default)("Photo"),"isPhotoOpen"),{closedNode:Vu()(rC,{serverEntityID:e,url:this.props.user.thumb,width:80,height:80})}),Vu()(GM,{},void 0,Object(Ze.default)("Photo")),Vu()(PZt,{serverEntityID:e,name:"avatar",width:180,height:180,initialValue:this.props.user.thumb,url:this.props.user.thumb})),nJt(axt,tp()({},this.getUserFormSectionProps(Object(Ze.default)("Language"),"isLocaleOpen"),{closedNode:nc[t.locale]||a}),Vu()(CB,{labelText:Object(Ze.default)("Language"),helpText:Object(Ze.default)("This sets the default language for Plex applications that do not provide their own language setting."),name:"locale",initialValue:t.locale,values:[{"":a},...c]})),Vu()(pZt,{isOpen:this.state.isSelectAudioOpen,isUpdating:this.props.isUpdatingUser,errorMessage:this.props.updateUserError,onTogglePress:this.onToggleAudioSubtitlesFormSection}),r&&!s?nJt(axt,tp()({},this.getUserFormSectionProps(Object(Ze.default)("Username"),"isUsernameOpen"),{closedNode:o?Object(Ze.default)("Not set"):t.username}),Vu()(qB,{labelText:Object(Ze.default)("Username"),helpText:Object(Ze.default)("Your username will be visible to friends with whom you have shared your server."),name:"username",initialValue:o?"":t.username,errors:i.username,validations:[$Yt]}),Vu()(xB,{name:"emailOnlyAuth",checkboxText:Object(Ze.default)("Allow username to be used when signing in"),helpText:Object(Ze.default)("Your email address will be required to sign in when username sign-in is not allowed."),initialValue:t.emailOnlyAuth,checkedValue:!1,uncheckedValue:!0})):null,r&&!s?nJt(axt,tp()({},this.getUserFormSectionProps(Object(Ze.default)("Email Address"),"isEmailOpen"),{closedNode:t.email,onSubmit:this.onAccountEmailSubmit}),Vu()(qB,{labelText:Object(Ze.default)("Email Address"),name:"email",initialValue:t.email,errors:i.email,validations:[eqt]}),Vu()(qB,{labelText:Object(Ze.default)("Password"),type:"password",name:"currentPassword",initialValue:"",validations:[tqt]}),t.twoFactorEnabled?Vu()(qB,{labelText:Object(Ze.default)("Verification code"),name:"verificationCode",autoComplete:"off",initialValue:"",validations:[rqt]}):null):null,r&&!s?nJt(axt,tp()({},this.getUserFormSectionProps(Object(Ze.default)("Password"),"isPasswordOpen"),{closedNode:t.hasPassword?"**********":Object(Ze.default)("Not set")}),Vu()(XYt,{labelText:t.hasPassword?Object(Ze.default)("New Password"):Object(Ze.default)("Choose Password"),name:"password",initialValue:"",errors:i.password,validations:[tqt,aqt]}),Vu()(qB,{labelText:t.hasPassword?Object(Ze.default)("Confirm New Password"):Object(Ze.default)("Confirm Password"),type:"password",name:"passwordConfirmation",initialValue:"",validations:[iqt,sqt]}),t.hasPassword?Vu()(qB,{labelText:Object(Ze.default)("Current Password"),type:"password",name:"currentPassword",initialValue:"",validations:[nqt]}):null,t.hasPassword&&t.twoFactorEnabled?Vu()(qB,{labelText:Object(Ze.default)("Verification code"),name:"verificationCode",autoComplete:"off",initialValue:"",validations:[rqt]}):null,t.hasPassword?Vu()(xB,{checkboxText:Object(Ze.default)("Sign out connected devices after password change"),name:"resetDevices",initialValue:!1}):null):null,l&&t.hasPassword?nJt(axt,tp()({showButton:!1},this.getUserFormSectionProps(Object(Ze.default)("Two-factor authentication"),"isTwoFactorAuthenticationOpen"),{closedNode:t.twoFactorEnabled?Object(Ze.default)("Active"):Object(Ze.default)("Inactive")}),Vu()(Qqt,{onEnableTwoFactorAuthComplete:this.onEnableTwoFactorAuthComplete})):null,l&&!t.hasPassword?Vu()(HNt,{},void 0,Vu()(GM,{},void 0,Object(Ze.default)("Two-factor authentication")),Vu()($Nt,{className:iJt.a.sectionDetails},void 0,Object(Ze.default)("Inactive"),sJt,Vu()(zp,{kind:Qg.Primary,onPress:this.onCreatePassword},void 0,Object(Ze.default)("To use two-factor authentication, first set a password to use when signing in")))):null,r&&!s?nJt(eJt,tp()({},this.getUserFormSectionProps(Object(Ze.default)("Linked Accounts"),"isLinkedAccountsOpen"),{hasPassword:t.hasPassword,onCreatePassword:this.onCreatePassword})):null,r&&!s?nJt(axt,tp()({},this.getUserFormSectionProps(Object(Ze.default)("Newsletter"),"isNewsletterOpen"),{closedNode:t.mailingListActive?Object(Ze.default)("You are currently subscribed"):Object(Ze.default)("You are not subscribed")}),Vu()(xB,{name:"mailingListActive",initialValue:t.mailingListActive,labelText:Object(Ze.default)("Newsletter"),checkboxText:Object(Ze.default)("Subscribe to our amazing, but infrequent email newsletter")})):null,r?Vu()(HNt,{},void 0,Vu()(GM,{},void 0,Object(Ze.default)("Privacy")),Vu()(vw,{className:iJt.a.description,message:Object(Ze.default)("Review our {openPolicyLink}Privacy Policy{closePolicyLink} for more information on the data that we collect, how it is used, and understand your {openAdChoicesLink}AdChoices{closeAdChoicesLink}. You can opt out of sending us certain data using your {openPreferencesLink}Privacy Preferences{closePreferencesLink} page."),tags:[{open:"openPolicyLink",close:"closePolicyLink",component:zp,kind:Pp,to:"https://www.plex.tv/about/privacy-legal/",target:"_blank"},{open:"openAdChoicesLink",close:"closeAdChoicesLink",component:zp,kind:Pp,to:"https://www.plex.tv/about/privacy-legal/#adchoices",target:"_blank"},{open:"openPreferencesLink",close:"closePreferencesLink",component:zp,kind:Pp,to:"https://www.plex.tv/about/privacy-legal/privacy-preferences/#opd",target:"_blank"}]})):null,r&&!s?Vu()(HNt,{},void 0,Vu()(zp,{kind:Op,to:Object(V.join)(["https://plex.tv","/users/delete"]),target:"_self"},void 0,Object(Ze.default)("Delete your account"))):null)}};const oJt=Nd.a.createElement,{Component:lJt}=Nd.a,cJt=Object(Wu.a)(Zu.a,Yu,e=>e.ui.accountSettingsPage,Gw(wt.B),(e,t,i,n)=>{const a=e.desktop,s=a.updateUserError?K2(I.a.last(a.updateUserError[I.a.first(Object.keys(a.updateUserError))])):i.updateUserProfileError,r=I.a.mapObject(a.updateUserError,e=>e.map(e=>K2(e))),o=I.a.pick(e,"username","anonymous","email","emailOnlyAuth","subscriptionDescription","thumb","locked","locale","canGoPremium","hasPlexSubscription","hasPlexPass","hasPassword","twoFactorEnabled","isEmployee","isNinja","mailingListActive","restricted");return{serverEntityID:t.entityID,user:o,isUpdatingUser:a.isUpdatingUser||i.isUpdatingUserProfile,updateUserError:s,userSettingErrors:r,hasTwoFactorAuthFeature:n}}),dJt={dispatchUpdateUser:AA,dispatchClearUpdateUserError:LA,dispatchClearUpdateUserProfileError:GYt};var uJt=Object(Hu.b)(cJt,dJt)(class extends lJt{constructor(...e){super(...e),this.onUserProfileSubmit=void 0,this.onErrorDismiss=()=>{this.props.dispatchClearUpdateUserError(),this.props.dispatchClearUpdateUserProfileError()},this.onSubmit=e=>{this.props.dispatchUpdateUser(e)}}render(){const e=this.props,t=Xe()(e,["dispatchUpdateUser","dispatchClearUpdateUserError","dispatchClearUpdateUserProfileError"]);return oJt(rJt,tp()({},t,{onErrorDismiss:this.onErrorDismiss,onSubmit:this.onSubmit,onUserProfileSubmit:this.onUserProfileSubmit}))}}),pJt=Vu()(Nh,{isAccountRequired:!0},void 0,Vu()(E8,{selectedKey:"account"}),Vu()(uJt,{}));var hJt=_u.extend({component:()=>Vu()(kh,{},void 0,pJt)});var mJt=xe.a.extend({name:"AvailableProviderModel",context:["server"],rootPropertyName:"MediaProvider",syncedAttrs:{identifier:Ae.a.string,title:Ae.a.string}});var gJt=ke.a.extend({name:"AvailableProvidersCollection",context:["server"],model:mJt,url:"/media/providers?ignore_opt_outs=true"});const vJt=Object(Pi.a)("ui/onlineMediaSourcePage/initOnlineMediaSourcesPage"),yJt=Object(Pi.a)("ui/onlineMediaSourcePage/fetchAvailableProviders"),fJt=Object(Pi.a)("ui/onlineMediaSourcePage/fetchOptOutStatuses"),bJt=Object(Pi.a)("ui/onlineMediaSourcePage/updateOptOutStatuses"),IJt=Object(Pi.a)("ui/onlineMediaSourcePage/clearOnlineMediaSourcesUpdateError");function SJt(e){return e.get("ui").get("onlineMediaSourcesPage")}function CJt(e,t={},i={}){const n=e.get("cloudServer"),a=e.get("user").get("uuid"),s=V.join(["/api/v2/user",a,"settings/opt_outs"],t);return n.getXHROptions(s,Object.assign({dataType:"json"},i))}const MJt={"ui/onlineMediaSourcePage/initOnlineMediaSourcesPage"(e,t,i){const n=SJt(e),a=e.get("cloudServer");n.restoreDefaults({availableProviders:new gJt([],{server:a})}),i(yJt()),i(fJt())},"ui/onlineMediaSourcePage/fetchAvailableProviders":Object(Oi.a)({key:"availableProviders",getModel:SJt}),"ui/onlineMediaSourcePage/fetchOptOutStatuses"(e,t){const i=SJt(e);i.set({isOptOutStatusesPending:!0,optOutStatusesError:null});const n=CJt(e);D.a.ajax(n).then(e=>{i.set({optOutStatuses:e,isOptOutStatusesPending:!1,optOutStatusesError:null})},e=>{i.set({isOptOutStatusesPending:!1,optOutStatusesError:Object(DT.a)(e)})})},"ui/onlineMediaSourcePage/updateOptOutStatuses"(e,t,i){const n=SJt(e);n.set({isUpdatePending:!0,updateError:null});const a=Object.keys(t.optOutStatuses)[0],s=t.optOutStatuses[a],r=CJt(e,{key:a,value:s},{type:"POST"});D.a.ajax(r).then(()=>{const e=n.get("optOutStatuses");n.set({optOutStatuses:Object.assign({},e,{[a]:s}),isUpdatePending:!1,updateError:null});Object(ne.c)("serviceWorker").sendMessage({type:"CLEAR_CLOUD_MEDIA_PROVIDERS"}).finally(()=>{i(mLe())})},e=>{n.set({isUpdatePending:!1,updateError:Object(DT.a)(e)})})},"ui/onlineMediaSourcePage/clearOnlineMediaSourcesUpdateError"(e,t){SJt(e).set("updateError",null)}},{Component:DJt}=Nd.a;var PJt=Vu()(dh,{},void 0,Vu()(Jh,{}));var OJt=class extends DJt{constructor(e,t){super(e,t),this.createToggleHandler=e=>t=>{t.preventDefault();const i=this.state.openProviderIdentifier===e;this.props.updateError&&this.props.onErrorDismiss(),this.setState({openProviderIdentifier:i?null:e})},this.state={openProviderIdentifier:null}}componentWillReceiveProps(e){const t=this.props.showSpinner&&!e.showSpinner,i=this.props.isUpdatePending&&!e.isUpdatePending&&!e.updateError;(t||i)&&this.setState({openProviderIdentifier:null})}_getOptOutStatus(e){const t=this.props.optOutStatuses,i=jt.k(e,[jt.f,jt.i])?"opt_in":"opt_out_managed";return t[e]?t[e]:i}_getAvailableOptOutOptions(e,t){const i=[{opt_in:Object(Ze.default)("Enabled")},{opt_out:Object(Ze.default)("Disabled")}],n=[...i,{opt_out_managed:Object(Ze.default)("Disabled for Managed Users")}],a=jt.k(e,jt.f)?i:n;return a.find(e=>e[t])?a:[...a,{[t]:t}]}render(){const{isUnauthorized:e,loadSettingsError:t,showSpinner:i,availableProviders:n,isUpdatePending:a,updateError:s,onUpdateStatus:r}=this.props;return e?Vu()(vh,{title:Object(Ze.default)("You're not supposed to be here"),description:Object(Ze.default)("You don't have access to Online Media Sources")}):t?Vu()(a$,{title:Object(Ze.default)("There was an unexpected error loading Online Media Sources")}):i?PJt:Vu()(F5,{metricsPage:zd.a,metricsPane:"onlineMediaSources"},void 0,Vu()(L5,{},void 0,Object(Ze.default)("Online Media Sources")),n.map(e=>{const t=this._getOptOutStatus(e.identifier),i=this._getAvailableOptOutOptions(e.identifier,t),n=i.find(e=>e[t])[t];return Vu()(axt,{closedNode:n,title:e.title,isOpen:this.state.openProviderIdentifier===e.identifier,isUpdating:a,errorMessage:s&&Object(Ze.default)("Unable to save settings"),onTogglePress:this.createToggleHandler(e.identifier),onUpdateStatus:r,onSubmit:r},e.identifier,Vu()(CB,{labelText:e.title,helpText:Object(Ze.default)("Disabling {onlineMediaSource} will remove it from all Plex apps signed in with your account.",{onlineMediaSource:e.title}),name:e.identifier,initialValue:t,values:i}))}))}};const{Component:jJt}=Nd.a,wJt=Object(Wu.a)(e=>e.ui.onlineMediaSourcesPage.availableProviders,yg,(e,t)=>{if(!e||!t)return;const i=Object.values(t);return e.filter(({identifier:e})=>{const t=i.find(t=>t.identifier===e);return!t||t.isPopulated&&Object.values(t.features).some(({type:e})=>e===Ot.c)})}),TJt=Object(Wu.a)(e=>e.ui.onlineMediaSourcesPage,Zu.a,wJt,(e,t,i)=>({isUnauthorized:t.restricted,availableProviders:i,optOutStatuses:e.optOutStatuses,isAvailableProvidersPending:e.isAvailableProvidersPending,availableProvidersError:e.availableProvidersError,isOptOutStatusesPending:e.isOptOutStatusesPending,optOutStatusesError:e.optOutStatusesError,isUpdatePending:e.isUpdatePending,updateError:e.updateError})),EJt={dispatchInitOnlineMediaSourcesPage:vJt,dispatchClearOnlineMediaSourcesUpdateError:IJt,dispatchUpdateOptOutStatuses:bJt};var NJt=Object(Hu.b)(TJt,EJt)(class extends jJt{constructor(...e){super(...e),this.onErrorDismiss=()=>{this.props.dispatchClearOnlineMediaSourcesUpdateError()},this.onUpdateStatus=e=>{this.props.dispatchUpdateOptOutStatuses({optOutStatuses:e})}}componentDidMount(){Object(Ti.a)(()=>{this.props.dispatchInitOnlineMediaSourcesPage()})}render(){const{isUnauthorized:e,isAvailableProvidersPending:t,availableProvidersError:i,isOptOutStatusesPending:n,optOutStatusesError:a,availableProviders:s,optOutStatuses:r,updateError:o,isUpdatePending:l}=this.props;return Vu()(OJt,{isUnauthorized:e,loadSettingsError:!(!i&&!a),showSpinner:t||n,availableProviders:s,optOutStatuses:r,isUpdatePending:l,updateError:o,onErrorDismiss:this.onErrorDismiss,onUpdateStatus:this.onUpdateStatus})}}),xJt=Vu()(Nh,{isAccountRequired:!0},void 0,Vu()(E8,{selectedKey:"online-media-sources"}),Vu()(NJt,{}));var AJt=_u.extend({component:()=>Vu()(kh,{},void 0,xJt)});const LJt="ui/userSharingSettingsPage/addToHome",kJt=Object(Pi.a)("ui/userSharingSettingsPage/resetUserSharingSettingsPage"),RJt=Object(Pi.a)("ui/userSharingSettingsPage/fetchFilterOptionsTags"),zJt=Object(Pi.a)("ui/userSharingSettingsPage/setFriendRestrictions"),UJt=Object(Pi.a)("ui/userSharingSettingsPage/updateManagedUserProfile"),VJt=Object(Pi.a)("ui/userSharingSettingsPage/dismissFriendError"),BJt=Object(Pi.a)("ui/userSharingSettingsPage/fetchSharedSources"),FJt=Object(Pi.a)("ui/userSharingSettingsPage/populateSharedItem"),HJt=Object(Pi.a)("ui/userSharingSettingsPage/deleteSharedItem"),_Jt=Object(Pi.a)("ui/userSharingSettingsPage/fetchServerOverviews"),WJt=Object(Pi.a)("ui/userSharingSettingsPage/fetchServerShares"),QJt=Object(Pi.a)("ui/userSharingSettingsPage/saveLibraryShares"),GJt=Object(Pi.a)("ui/userSharingSettingsPage/dismissSharingError"),KJt=Object(Pi.a)("ui/userSharingSettingsPage/removeServerShare"),YJt=Object(Pi.a)("ui/userSharingSettingsPage/dismissRemoveServerShareError"),qJt=Object(Pi.a)(LJt);function ZJt(e){return e.get("ui").get("userSharingSettingsPage")}function JJt(e,t,i){return e.map(e=>{if(e.origin!==t)return e;const n=e.sharedItems.filter(e=>e.id!==i);return Object.assign({},e,{sharedItems:n})})}const XJt=Sk({"ui/userSharingSettingsPage/resetUserSharingSettingsPage"(e){const t=ZJt(e);G.a.abortAll("userSharingSettingsPage"),t.restoreDefaults()},"ui/userSharingSettingsPage/fetchFilterOptionsTags"(e,t={}){const i=ZJt(e),{serverEntityIDs:n}=t,a=n.map(t=>Object(wi.m)(e,{serverEntityID:t}));G.a.abortAll("userSharingSettingsPage"),Object(Ti.a)(()=>{i.set({isFilterOptionsTagsPopulating:!0,isFilterOptionsTagsPopulated:!1})}),wY(a,"userSharingSettingsPage").done(e=>{i.set({filterOptionsTags:e,isFilterOptionsTagsPopulating:!1,isFilterOptionsTagsPopulated:!0})})},"ui/userSharingSettingsPage/setFriendRestrictions"(e,t,i){const n=ZJt(e),a=e.get("cloudServer"),{friendEntityID:s,restrictions:r}=t,{restrictionProfileIdentifier:o}=r,l=Object(wi.a)(e,{friendEntityID:s}),c=Object(wi.n)(e);Object(Ti.a)(()=>{n.set({isUpdatingFriend:!0,updateFriendError:null})});let d;if(!!o){const e={userId:l.id};"unrestricted"!==o&&(e.restrictionProfile=o);const t=a.getXHROptions("/api/v2/home/users/restricted/profile",{type:"POST",contentType:"application/json",data:JSON.stringify(e),scope:"userSharingSettingsPage"});d=D.a.ajax(t).then(()=>{const e=c.get("homeUsers").find(e=>e.id===l.id),t="unrestricted"===o?"":o;return l.fetch().then(()=>{e.set("restrictionProfile",t)})})}else{const e=EY(r);d=l.save(e)}d.then(()=>{n.set({isUpdatingFriend:!1})},()=>{n.set({isUpdatingFriend:!1,updateFriendError:Object(Ze.default)("Failed to update")})})},"ui/userSharingSettingsPage/updateManagedUserProfile"(e,t,i){const n=ZJt(e),a=e.get("cloudServer"),s=e.get("user").get("homeUsers"),{friendEntityID:r,username:o,avatar:l}=t,c=Object(wi.a)(e,{friendEntityID:r});let d;if(Object(Ti.a)(()=>{n.set({isUpdatingFriend:!0,updateFriendError:null})}),o){if(o.trim()===c.get("title"))return void n.set({isUpdatingFriend:!1});if(!!s.findWhere({title:o.trim()}))return void n.set({isUpdatingFriend:!1,updateFriendError:Object(Ze.default)("A Home user already exists with this name")});const e={friendlyName:o.trim()},t=a.getXHROptions("/api/v2/home/users/restricted/"+c.id,{type:"POST",contentType:"application/json",data:JSON.stringify(e),scope:"userSharingSettingsPage"});d=D.a.ajax(t)}else l&&(d=cT(l,c.id));d.then(()=>{n.set({isUpdatingFriend:!1}),s.fetch(),i(TA()),i(wA())},()=>{n.set({isUpdatingFriend:!1,updateFriendError:Object(Ze.default)("Failed to update")})})},"ui/userSharingSettingsPage/dismissFriendError"(e,t,i){ZJt(e).set({updateFriendError:null})},"ui/userSharingSettingsPage/fetchSharedSources"(e,t,i){const n=ZJt(e),a=e.get("cloudServer");Object(Ti.a)(()=>{n.set({isSharedSourcesPopulating:!0,isSharedSourcesPopulated:!1,sharedSourcesError:null})});const s=V.join("/api/v2/shared_sources/owned",{invitedId:t.userID,includeItems:!0}),r=V.join("/api/v2/shared_sources/received",{ownerId:t.userID,includeItems:!0}),o=a.getXHROptions(s,{type:"GET",dataType:"json",scope:"userSharingSettingsPage"}),l=a.getXHROptions(r,{type:"GET",dataType:"json",scope:"userSharingSettingsPage"});D.a.when(D.a.ajax(o),D.a.ajax(l)).then((e,t)=>{n.set({ownedSharedSources:e[0],receivedSharedSources:t[0],isSharedSourcesPopulating:!1,isSharedSourcesPopulated:!0})},()=>{n.set({isSharedSourcesPopulating:!1,sharedSourcesError:Object(Ze.default)("Failed to fetch shared items.")})})},"ui/userSharingSettingsPage/populateSharedItem"(e,t,i){const{serverIdentifier:n,providerIdentifier:a,metadataItemKey:s}=Object(sr.a)(t.uri),r=e.get("servers").get(n),o=r&&r.get("providers").get(a);if(o&&o.get("isPopulated")){new ut.a({key:s},{server:r,provider:o}).populate()}},"ui/userSharingSettingsPage/deleteSharedItem"(e,t,i){const n=ZJt(e),a=e.get("cloudServer"),{id:s,origin:r,isOwnedItem:o}=t;n.set("deleteSharedItemID",s);const l=a.getXHROptions("/api/v2/shared_items/"+s,{method:"DELETE",dataType:"json",scope:"userSharingSettingsPage"});D.a.ajax(l).then(()=>{const e={deleteSharedItemID:null};if(o){const t=JJt(n.get("ownedSharedSources"),r,s);e.ownedSharedSources=t}else{const t=JJt(n.get("receivedSharedSources"),r,s);e.receivedSharedSources=t}n.set(e)},()=>{i(Object(Tn.d)({type:"error",message:Object(Ze.default)("There was a problem removing this shared item.")})),n.set("deleteSharedItemID",null)})},"ui/userSharingSettingsPage/fetchServerOverviews"(e,t={}){const i=ZJt(e),{serverEntityIDs:n}=t;Object(Ti.a)(()=>{i.set({isServerOverviewsPopulating:!0,isServerOverviewsPopulated:!1})}),dY(n).then(e=>{i.set({isServerOverviewsPopulating:!1,isServerOverviewsPopulated:!0,serverOverviews:e})})},"ui/userSharingSettingsPage/fetchServerShares"(e,t={}){const i=ZJt(e),n=Object(wi.a)(e,t);G.a.abortAll("userSharingSettingsPage"),Object(Ti.a)(()=>{i.set({isServerSharesPopulating:!0,isServerSharesPopulated:!1,serverSharesError:null})}),uY(n,"userSharingSettingsPage").done(()=>{i.set({isServerSharesPopulating:!1,isServerSharesPopulated:!0})}).fail(()=>{i.set({isServerSharesPopulating:!1,serverSharesError:Object(Ze.default)("Failed to load shares.")})})},"ui/userSharingSettingsPage/saveLibraryShares"(e,t={},i){const n=ZJt(e),a=e.get("user");Object(Ti.a)(()=>{n.set({isSharingPending:!0,isSharingCompleted:!1,sharingError:null})});const{friendEntityID:s,machineIdentifier:r,selectedLibrarySectionIDs:o,isAllLibrariesSelected:l}=t,c=Object(wi.a)(e,{friendEntityID:s}),d=c.get("serverShares"),u=d.findWhere({machineIdentifier:r}),p=!u,h=!l&&0===o.length,m=l?[]:o;let g;if(p){const e=new MY({machineIdentifier:r});g=pY({user:a,friend:c,serverShare:e,librarySectionIDs:m,isNewFriend:!1,isNewServerShare:!0})}else g=h?u.destroy({wait:!0}):pY({user:a,friend:c,serverShare:u,librarySectionIDs:m,isNewFriend:!1,isNewServerShare:!1});g.done(e=>{p&&d.add(new MY(e,{server:a.server,parse:!0})),n.set({isSharingPending:!1,isSharingCompleted:!0})}).fail(e=>{n.set({isSharingPending:!1,sharingError:nT(e,null,"status")||Object(Ze.default)("Failed to update server shares.")})}).always(()=>{uY(c,"userSharingSettingsPage")})},"ui/userSharingSettingsPage/dismissSharingError"(e,t,i){ZJt(e).set({sharingError:null})},"ui/userSharingSettingsPage/removeServerShare"(e,t,i){const n=ZJt(e);Object(Ti.a)(()=>{n.set({isRemoveServerSharePending:!0,isRemoveServerShareCompleted:!1,removeServerShareError:null})});const{friendEntityID:a,machineIdentifier:s}=t,r=Object(wi.a)(e,{friendEntityID:a});r.get("serverShares").findWhere({machineIdentifier:s}).destroy({wait:!0}).done(()=>{n.set({isRemoveServerSharePending:!1,isRemoveServerShareCompleted:!0})}).fail(e=>{n.set({isRemoveServerSharePending:!1,removeServerShareError:nT(e,null,"status")||Object(Ze.default)("Failed to remove server share.")})}).always(()=>{uY(r,"userSharingSettingsPage")})},"ui/userSharingSettingsPage/dismissRemoveServerShareError"(e,t,i){ZJt(e).set({removeServerShareError:null})},[LJt](e,t,i){const n=ZJt(e),a=e.get("user"),s=Object(wi.a)(e,t);Object(Ti.a)(()=>{n.set({isUpdatingFriend:!0,updateFriendError:null})});new OY({username:s.get("username")},{server:a.server}).save().done(()=>{n.set({isUpdatingFriend:!1}),i(TA()),i(YA()),i(XA())}).fail(e=>{n.set({isUpdatingFriend:!1,updateFriendError:nT(e,Object(Ze.default)("Failed to add to Plex Home"),"status")})})}});var $Jt=i("R14s"),eXt=i.n($Jt),tXt=Vu()(Jh,{});var iXt=function(e){return Vu()("div",{className:eXt.a.spinnerContainer},void 0,tXt)};function nXt(e){var t=e["aria-label"],i=e.className,n=e.style,a={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-toolbar-add-to-home-560"};a["aria-hidden"]=!t,a.style=n,a.className=Ad.a.plexIcon+(i?" "+i:"");var s=[Nd.a.createElement.apply(Nd.a,["path",{d:"M240.8 504H28V336h44.8v123.2H196V308h168v151.2h123.2V298.557L280 91.357l-66.322 66.321L182 126l98-98 252 252v224H319.2V352.8h-78.4V504zM134.4 190.4H224v44.8h-89.6v89.6H89.6v-89.6H0v-44.8h89.6v-89.6h44.8v89.6z"}].concat([]))];return t&&s.unshift(Nd.a.createElement("title",null,t)),Nd.a.createElement.apply(Nd.a,["svg",a].concat(s))}nXt.propTypes={"aria-label":vc.a.string,className:vc.a.string,style:vc.a.object};var aXt=nXt,sXt=i("L4oE"),rXt=i.n(sXt);const oXt=Nd.a.createElement,{useCallback:lXt,useEffect:cXt,useState:dXt}=Nd.a,uXt={isUsernameOpen:!1,isPhotoOpen:!1};var pXt=function(e){const{cloudServerEntityID:t,friend:i,isGuest:n,isAllFriendsPending:a,isUpdatingFriend:s,updateFriendError:r,onSubmit:o,onErrorDismiss:l}=e,{entityID:c,title:d,thumb:u}=i,p=dXt(uXt),h=p[1],m=p[0],g=$b(a);cXt(()=>{!g||a||r||h(I.a.mapObject(m,()=>!1))},[g,a,r,m]);const v=lXt(e=>t=>{t.preventDefault(),r&&l({friendEntityID:c});const i=I.a.mapObject(m,(t,i)=>i===e&&!m[e]);h(i)},[m,h,c,r,l]),y=lXt((e,t)=>({title:e,isOpen:m[t],onSubmit:e=>{o(Object.assign({},e,{friendEntityID:c}))},isUpdating:s||a,onTogglePress:v(t)}),[m,v,c,a,s,o]),f=lXt(()=>{r&&l()},[r,l]);return Vu()(F5,{className:rXt.a.content,metricsPage:zd.zb,metricsPane:"profile"},void 0,n?null:oXt(axt,tp()({},y(Object(Ze.default)("Username"),"isUsernameOpen"),{closedNode:d}),Vu()(qB,{labelText:Object(Ze.default)("Username"),name:"username",initialValue:d,errors:r?[r]:[],validations:[$Yt],onChange:f})),oXt(axt,tp()({},y(Object(Ze.default)("Photo"),"isPhotoOpen"),{closedNode:Vu()(rC,{serverEntityID:t,url:u,width:80,height:80})}),Vu()(PZt,{serverEntityID:t,name:"avatar",width:180,height:180,initialValue:u,url:u})))};const hXt={onSubmit:UJt,onErrorDismiss:VJt};var mXt=Object(Hu.b)((function(){return Object(Wu.a)(e=>e.ui.userSharingSettingsPage,Yu,bg("isAllFriendsPending"),(e,t,i)=>({cloudServerEntityID:t.entityID,isAllFriendsPending:i,isUpdatingFriend:e.isUpdatingFriend,updateFriendError:e.updateFriendError}))}),hXt)(pXt);const gXt=Nd.a.createElement,{Fragment:vXt}=Nd.a;function yXt(e){const{[hY]:t,[mY]:i,[gY]:n,[vY]:a}=e;if(!(t||i||n||a))return Object(Ze.default)("No restrictions");const s=[t,n].reduce((e,t)=>t?e.concat(t.split(",")):e,[]).join(", "),r=[i,a].reduce((e,t)=>t?e.concat(t.split(",")):e,[]).join(", "),o=s.length>0,l=r.length>0;return o&&!l?Object(Ze.default)("Allow only {tags}",{tags:s}):!o&&l?Object(Ze.default)("Exclude only {tags}",{tags:r}):Vu()(vXt,{},void 0,Vu()("div",{},void 0,Object(Ze.default)("Allow only {tags}",{tags:s})),Vu()("div",{},void 0,Object(Ze.default)("Exclude {tags}",{tags:r})))}function fXt(e){const{label:t,metadataType:i,contentRatingsName:n,excludeContentRatingsName:a,labelsName:s,excludeLabelsName:r,filters:o,tagsProps:l}=e,c=Xe()(e,["label","metadataType","contentRatingsName","excludeContentRatingsName","labelsName","excludeLabelsName","filters","tagsProps"]),d=Hq(o,hY,mY),u=Hq(o,gY,vY);return gXt(axt,tp()({},c,{closedNode:yXt(o)}),Vu()(GM,{},void 0,t),n?gXt(AZ,tp()({},l,{name:n,metadataType:i,tagType:hY,initialValue:d.initialAllowTags,excludedTags:d.excludeTags,onChange:d.onAllowTagsChange})):null,a?gXt(AZ,tp()({},l,{name:a,metadataType:i,tagType:mY,initialValue:d.initialExcludeTags,excludedTags:d.allowTags,onChange:d.onExcludeTagsChange})):null,gXt(AZ,tp()({},l,{name:s,metadataType:i,tagType:gY,initialValue:u.initialAllowTags,excludedTags:u.excludeTags,onChange:u.onAllowTagsChange})),gXt(AZ,tp()({},l,{name:r,metadataType:i,tagType:vY,initialValue:u.initialExcludeTags,excludedTags:u.allowTags,onChange:u.onExcludeTagsChange})))}var bXt=i("sNLJ"),IXt=i.n(bXt);const SXt=Nd.a.createElement,{Fragment:CXt,useCallback:MXt,useEffect:DXt,useState:PXt}=Nd.a,OXt={isRestrictionProfileOpen:!1,isAllowSyncOpen:!1,isAllowCameraUploadOpen:!1,isAllowLiveTVOpen:!1,isMovieTagsOpen:!1,isTelevisionTagsOpen:!1,isMusicTagsOpen:!1};function jXt(e){return aA(e||"unrestricted").title}function wXt(e,t){return e?Lq.options[t]():t===Lq.TV_ONLY?Object(Ze.default)("Enabled"):Object(Ze.default)("Disabled")}function TXt(e){return parseInt(e,10)}var EXt=function(e){const{friend:t,restrictionProfile:i,filterOptionsTags:n,isFilterOptionsTagsPopulating:a,isFilterOptionsTagsPopulated:s,isUpdatingFriend:r,updateFriendError:o,hasPlexPass:l,isGuest:c,canShowRestrictions:d,canShareTuners:u,canShareDVR:p,onSubmit:h,onErrorDismiss:m}=e,{entityID:g,restricted:v,filterMovies:y,filterTelevision:f,filterMusic:b,allowSync:S,allowCameraUpload:C,allowTuners:M}=t,D=PXt(OXt),P=D[1],O=D[0],j=$b(r);DXt(()=>{!j||r||o||P(I.a.mapObject(O,()=>!1))},[j,r,o,O]);const w=MXt(e=>t=>{t.preventDefault(),o&&m({friendEntityID:g});const i=I.a.mapObject(O,(t,i)=>i===e&&!O[e]);P(i)},[O,P,g,o,m]),T=MXt((e,t)=>({title:e,isOpen:O[t],onSubmit:e=>{h({friendEntityID:g,restrictions:e})},isUpdating:r,errorMessage:o,onTogglePress:w(t)}),[O,w,g,r,o,h]),E={filterOptionsTags:n,isFilterOptionsTagsPopulating:a,isFilterOptionsTagsPopulated:s},N=d&&!i;return Vu()(F5,{className:IXt.a.content,metricsPage:zd.zb,metricsPane:"restrictions"},void 0,v&&!c?SXt(axt,tp()({},T(Object(Ze.default)("Restriction Profile"),"isRestrictionProfileOpen"),{closedNode:jXt(i)}),Vu()(bJ,{name:"restrictionProfileIdentifier",initialValue:i||"unrestricted",hasPlexPass:l})):null,d?SXt(axt,tp()({},T(Object(Ze.default)("Allow Sync and Download"),"isAllowSyncOpen"),{closedNode:S?Object(Ze.default)("Enabled"):Object(Ze.default)("Disabled")}),Vu()(xB,{name:"allowSync",initialValue:S,labelText:Object(Ze.default)("Allow Sync and Download"),checkboxText:Object(Ze.default)("Allow this user to sync or download content from your server")})):null,d?SXt(axt,tp()({},T(Object(Ze.default)("Allow Camera Upload"),"isAllowCameraUploadOpen"),{closedNode:C?Object(Ze.default)("Enabled"):Object(Ze.default)("Disabled")}),Vu()(xB,{name:"allowCameraUpload",initialValue:C,labelText:Object(Ze.default)("Allow Camera Upload"),checkboxText:Object(Ze.default)("Allow this user to upload media to your server")})):null,u?SXt(axt,tp()({},T(p?Object(Ze.default)("Live TV & DVR Access"):Object(Ze.default)("Allow access to Live TV"),"isAllowLiveTVOpen"),{closedNode:wXt(p,M)}),p?Vu()(CB,{name:"allowTuners",initialValue:M,value:Lq.values[M],values:Lq.values,transformValue:TXt,labelText:Object(Ze.default)("Live TV & DVR Access"),helpText:Object(Ze.default)("Enabling Live TV for this user requires sharing a library with them. Enabling DVR will show all scheduled recordings, but this user will only be able to manage their own recordings")}):Vu()(xB,{name:"allowTuners",initialValue:M,checkedValue:1,uncheckedValue:0,labelText:Object(Ze.default)("Allow access to Live TV"),checkboxText:Object(Ze.default)("Enabling this option will allow this user to access Live TV streams.")})):null,N?Vu()(CXt,{},void 0,SXt(fXt,tp()({},T(zQ.g.get(zQ.b).title,"isMovieTagsOpen"),{label:zQ.g.get(zQ.b).title,metadataType:Qt.j,contentRatingsName:"moviesContentRatings",excludeContentRatingsName:"moviesExcludeContentRatings",labelsName:"moviesLabels",excludeLabelsName:"moviesExcludeLabels",filters:y,tagsProps:E})),SXt(fXt,tp()({},T(zQ.g.get(zQ.e).title,"isTelevisionTagsOpen"),{label:zQ.g.get(zQ.e).title,metadataType:Qt.o,contentRatingsName:"televisionContentRatings",excludeContentRatingsName:"televisionExcludeContentRatings",labelsName:"televisionLabels",excludeLabelsName:"televisionExcludeLabels",filters:f,tagsProps:E})),SXt(fXt,tp()({},T(zQ.g.get(zQ.c).title,"isMusicTagsOpen"),{label:zQ.g.get(zQ.c).title,metadataType:Qt.b,labelsName:"musicLabels",excludeLabelsName:"musicExcludeLabels",filters:b,tagsProps:E}))):null,d?null:Vu()(Mw,{iconComponent:hee,title:Object(Ze.default)("Sharing Restrictions"),text:Object(Ze.default)("Upgrade to a Plex Pass to get more control over the media you share."),moreInfo:Vu()(vw,{message:Object(Ze.default)("See our {openLinkSupported}support article{closeLinkSupported} for more information."),tags:[{open:"openLinkSupported",close:"closeLinkSupported",component:zp,kind:Pp,to:"https://support.plex.tv/articles/204232573-restricting-the-shares/",target:"_blank"}]})},void 0,Vu()(pk,{origin:"users-and-sharing",modalMetricsProperties:{context:_t.USERS_AND_SHARING}})))};const NXt=Nd.a.createElement,{useEffect:xXt}=Nd.a,AXt=Gw(wt.c),LXt=Gw(wt.A),kXt=Gw(wt.b);const RXt={dispatchFetchFilterOptionsTags:RJt,onSubmit:zJt,onErrorDismiss:VJt};var zXt=Object(Hu.b)((function(){return Object(Wu.a)(e=>e.ui.userSharingSettingsPage,(e,{friend:t})=>t,xq,AXt,LXt,kXt,Object(Wu.a)((e,{friend:t})=>t,dJ,(e,t)=>Object.values(t).find(t=>t.id===e.id)),bg("hasPlexPass"),(e,t,i,n,a,s,r,o)=>{const l=a||t.home;return{serverEntityIDs:i,restrictionProfile:r?r.restrictionProfile:null,filterOptionsTags:e.filterOptionsTags,isFilterOptionsTagsPopulating:e.isFilterOptionsTagsPopulating,isFilterOptionsTagsPopulated:e.isFilterOptionsTagsPopulated,isUpdatingFriend:e.isUpdatingFriend,updateFriendError:e.updateFriendError,hasPlexPass:o,isGuest:!!r&&r.guest,canShowRestrictions:n,canShareTuners:l,canShareDVR:l&&s}})}),RXt)((function(e){const{serverEntityIDs:t,dispatchFetchFilterOptionsTags:i}=e,n=Xe()(e,["serverEntityIDs","dispatchFetchFilterOptionsTags"]);return xXt(()=>{i({serverEntityIDs:t})},[t,i]),NXt(EXt,n)})),UXt=i("ZrFU"),VXt=i.n(UXt);const{Fragment:BXt}=Nd.a;var FXt=function({serverShare:e}){const{name:t,libraries:i}=e;return Vu()(BXt,{},void 0,Vu()(GM,{},void 0,t),i.map(e=>Vu()("div",{className:VXt.a.library},e.id,e.title)))};const HXt=Nd.a.createElement,{Fragment:_Xt,useCallback:WXt,useEffect:QXt,useMemo:GXt,useState:KXt}=Nd.a;function YXt(e){const{libraries:t,sharingSettings:i,allLibraries:n}=e,a=n?Object(Ze.default)("All libraries"):t.map(e=>e.title).join(", "),s=[];return i.allowSync&&s.push(Object(Ze.default)("Sync Allowed")),i.allowCameraUpload&&s.push(Object(Ze.default)("Camera Upload Allowed")),0!==i.allowTuners&&s.push(1===i.allowTuners?Object(Ze.default)("Live TV Allowed"):Object(Ze.default)("Live TV and DVR allowed")),Vu()(_Xt,{},void 0,Vu()("div",{},void 0,a),s.length>0?Vu()("div",{},void 0,s.join(", ")):null)}var qXt=function(e){const{friend:t,serverShares:i,isRemoveServerSharePending:n,isRemoveServerShareCompleted:a,removeServerShareError:s,onSubmit:r,onErrorDismiss:o}=e,l=GXt(()=>i.reduce((e,t)=>(e[t.machineIdentifier]=!1,e),{}),[i]),c=KXt(l),d=c[1],u=c[0],p=KXt(!1),h=p[1],m=p[0],g=KXt(null),v=g[1],y=g[0],f=$b(a);QXt(()=>{f||!a||s||d(I.a.mapObject(u,()=>!1))},[u,f,a,s]);const b=WXt(()=>{h(!1)},[h]),S=WXt(()=>{r({friendEntityID:t.entityID,machineIdentifier:y}),h(!1)},[t,y,h,r]),C=WXt(e=>t=>{t.preventDefault(),s&&o();const i=I.a.mapObject(u,(t,i)=>i===e&&!u[e]);d(i)},[u,d,s,o]),M=WXt((e,t)=>({title:e,isOpen:u[t],onSubmit:()=>{v(t),h(!0)},isUpdating:n,errorMessage:s,onTogglePress:C(t)}),[u,n,s,C]);return Vu()(_Xt,{},void 0,i.map(e=>{const{machineIdentifier:t,name:i}=e;return HXt(axt,tp()({},M(i,t),{key:t,closedNode:YXt(e),buttonKind:Op,buttonText:Object(Ze.default)("Leave Server"),showButtonEnabled:!0}),Vu()(FXt,{serverShare:e},t))}),Vu()(F_,{isOpen:m,metricsPage:zd.zb,kind:Op,title:Object(Ze.default)("Leave shared server"),message:Object(Ze.default)("Are you sure you want to leave this shared server?"),confirmLabel:Object(Ze.default)("Leave Server"),onConfirm:S,onCancel:b}))};const ZXt=Object(Wu.a)(e=>e.ui.userSharingSettingsPage,e=>{const{isRemoveServerSharePending:t,isRemoveServerShareCompleted:i,removeServerShareError:n}=e;return{isRemoveServerSharePending:t&&!n,isRemoveServerShareCompleted:i,removeServerShareError:n}}),JXt={onSubmit:KJt,onErrorDismiss:YJt};var XXt=Object(Hu.b)(ZXt,JXt)(qXt),$Xt=i("cTZx"),e$t=i.n($Xt);const t$t=Nd.a.createElement;var i$t=IB((function(e){return t$t(TB,tp()({className:e$t.a.input},e))})),n$t=i("ccYj"),a$t=i.n(n$t);const{Fragment:s$t,useCallback:r$t,useState:o$t}=Nd.a;var l$t=function(e){const{serverOverview:t,serverShare:i}=e,{machineIdentifier:n,name:a,sections:s}=t,r=o$t(!(!i||!i.allLibraries)),o=r[1],l=r[0],c=r$t(()=>{o(!l)},[l]);return Vu()(s$t,{},void 0,Vu()(GM,{},void 0,a),s.length>0?Vu()(i$t,{name:JSON.stringify({machineIdentifier:n}),checkboxText:Object(Ze.default)("All Libraries"),initialValue:l,onChange:c}):null,0===s.length?Vu()("div",{className:a$t.a.emptyMessage},void 0,Object(Ze.default)("No libraries")):null,l?null:s.map(e=>{const{id:t,title:n}=e,a=!!(i&&i.libraries&&i.libraries.find(e=>e.id===t));return Vu()(i$t,{name:JSON.stringify({sectionID:t}),checkboxText:n,initialValue:a},t)}))};const c$t=Nd.a.createElement,{useCallback:d$t,useEffect:u$t,useMemo:p$t,useState:h$t}=Nd.a;function m$t(e){return e?e.allLibraries?Object(Ze.default)("All libraries"):e.libraries.map(e=>e.title).join(", "):Object(Ze.default)("No shared libraries")}var g$t=function(e){const{friend:t,serverOverviews:i,isSharingPending:n,isSharingCompleted:a,sharingError:s,onSubmit:r,onErrorDismiss:o}=e,l=p$t(()=>i.reduce((e,t)=>(e[t.machineIdentifier]=!1,e),{}),[i]),c=h$t(l),d=c[1],u=c[0],p=$b(a);u$t(()=>{p||!a||s||d(I.a.mapObject(u,()=>!1))},[u,p,a,s]);const h=d$t(e=>t=>{t.preventDefault(),s&&o();const i=I.a.mapObject(u,(t,i)=>i===e&&!u[e]);d(i)},[u,d,s,o]),m=d$t(e=>i=>{const n=Object.keys(i).reduce((e,t)=>{const n=i[t],a=JSON.parse(t);return n&&a.hasOwnProperty("sectionID")&&e.selectedLibrarySectionIDs.push(a.sectionID),n&&a.hasOwnProperty("machineIdentifier")&&(e.isAllLibrariesSelected=!0),e},{friendEntityID:t.entityID,machineIdentifier:e,selectedLibrarySectionIDs:[],isAllLibrariesSelected:!1});r(n)},[t,r]),g=d$t((e,t)=>({title:e,isOpen:u[t],onSubmit:m(t),isUpdating:n,errorMessage:s,onTogglePress:h(t)}),[u,m,h,n,s]);return i.map(e=>{const{name:i,machineIdentifier:n}=e,a=t.serverShares.find(e=>e.machineIdentifier===n);return c$t(axt,tp()({},g(i,n),{key:n,closedNode:m$t(a)}),Vu()(l$t,{serverOverview:e,serverShare:a},n))})};const v$t=Object(Wu.a)(e=>e.ui.userSharingSettingsPage,e=>{const{isSharingPending:t,isSharingCompleted:i,sharingError:n}=e;return{isSharingPending:t&&!n,isSharingCompleted:i,sharingError:n}}),y$t={onSubmit:QJt,onErrorDismiss:GJt};var f$t=Object(Hu.b)(v$t,y$t)(g$t),b$t=i("9JDX"),I$t=i.n(b$t);var S$t=function({children:e}){return Vu()("h2",{className:I$t.a.header},void 0,e)};const{Fragment:C$t,useMemo:M$t}=Nd.a;var D$t=Vu()(iXt,{});var P$t=function(e){const{friend:t,serverOverviews:i,isRestricted:n,isLoading:a,showList:s,errorMessage:r}=e,o=M$t(()=>t.serverShares.filter(e=>!e.owned&&!e.pending),[t]);return r?Vu()(vh,{title:Object(Ze.default)("There was an unexpected error"),description:r}):Vu()(F5,{metricsPage:zd.zb,metricsPane:"sharedLibraries"},void 0,a?D$t:null,s?Vu()(C$t,{},void 0,n?null:Vu()(S$t,{},void 0,Object(Ze.default)("Shared with {username}",{username:t.title})),n?null:Vu()(f$t,{friend:t,serverOverviews:i}),o.length>0?Vu()(S$t,{},void 0,Object(Ze.default)("Shared with you")):null,o.length>0?Vu()(XXt,{friend:t,serverShares:o}):null):null)};const O$t=Nd.a.createElement,{useEffect:j$t}=Nd.a,w$t=Object(Wu.a)(e=>e.ui.userSharingSettingsPage,sq,bg("restricted"),(e,t,i)=>{const{serverOverviews:n,isServerOverviewsPopulating:a,isServerOverviewsPopulated:s,isServerSharesPopulating:r,isServerSharesPopulated:o,serverSharesError:l}=e;return{sharingEligibleServerEntityIDs:t,serverOverviews:n,isRestricted:i,isLoading:(a||r)&&!l,showList:s&&o,errorMessage:l}}),T$t={dispatchFetchServerOverviews:_Jt,dispatchFetchServerShares:WJt};var E$t=Object(Hu.b)(w$t,T$t)((function(e){const{friend:t,sharingEligibleServerEntityIDs:i,dispatchFetchServerOverviews:n,dispatchFetchServerShares:a}=e,s=Xe()(e,["friend","sharingEligibleServerEntityIDs","dispatchFetchServerOverviews","dispatchFetchServerShares"]),r=t.entityID;return j$t(()=>{n({serverEntityIDs:i})},[i,n]),j$t(()=>{a({friendEntityID:r})},[r,a]),O$t(P$t,tp()({},s,{friend:t}))}));var N$t=i("eLO8"),x$t=i.n(N$t);const{useCallback:A$t,useEffect:L$t,useState:k$t}=Nd.a;var R$t=function(e){const{serverEntityID:t,providerEntityID:i,cellIndex:n,id:a,origin:s,serverName:r,type:o,playlistType:l,title:c,parentTitle:d,grandparentTitle:u,leafCount:p,duration:h,imageWidth:m,imageHeight:g,imageUrl:v,isOwnedItem:y,isDeleting:f,showDelete:b,onDeleteSharedItem:I}=e,S=Y0(e),C=k$t(!1),M=C[1],D=C[0],P=$b(f),O=A$t(()=>{M(!0)},[]),j=A$t(()=>{I({id:a,origin:s,isOwnedItem:y})},[a,s,y,I]),w=A$t(()=>{M(!1)},[]);L$t(()=>{P&&!f&&M(!1)},[P,f]);const T=function(e,t,i){const n=i||t;return n?n+"  "+e:e}(c,d,u),E=Qt.u(o).title,N=y?Object(Ze.default)("Are you sure you want to stop sharing this item? The user will no longer be able to access it on {serverName}.",{serverName:r}):Object(Ze.default)("Are you sure you want to remove this shared item? You will no longer be able to access it on {serverName}.",{serverName:r});return Vu()("div",{className:((n%2?x$t.a.alternateItem:x$t.a.item)||"")+" "+(D&&x$t.a.isDeleteConfirmModalOpen||""),style:S.style},void 0,Vu()("div",{className:x$t.a.posterContainer},void 0,Vu()("div",{className:x$t.a.poster,style:{width:m,height:g}},void 0,Vu()(AC,{serverEntityID:t,providerEntityID:i,type:o,url:S.isPlaceholder?null:v,width:m,height:g}))),Vu()("div",{className:x$t.a.summaryContainer},void 0,Vu()("div",{className:x$t.a.titleContainer},void 0,Vu()("div",{className:x$t.a.title},void 0,T),Vu()("div",{className:x$t.a.subtitle},void 0,E,p||o===Qt.p&&h?Vu()(tf,{className:x$t.a.separator}):null,p?function(e,t,i){if(t)return MRt(t,i);let n;if(e===Qt.o)n=Qt.f;else{const t=Qt.s(e);t&&(n=t.typeString)}return Gke(n,i)}(o,l,p):null,o===Qt.p&&h?Xm(h):null),Vu()("div",{className:x$t.a.subtitle},void 0,r)),Vu()("div",{className:x$t.a.actions},void 0,b?Vu()(zp,{"data-qa-id":"sharedItemDeleteButton",className:x$t.a.deleteButton,tabIndex:"0","aria-label":Object(Ze.default)("Remove {title}",{title:T}),onPress:O},void 0,Vu()(NI,{className:x$t.a.icon})):null)),Vu()(F_,{kind:Op,title:Object(Ze.default)("Remove {title}",{title:T}),message:N,confirmLabel:y?Object(Ze.default)("Stop Sharing"):Object(Ze.default)("Remove"),isOpen:D,isConfirmButtonSpinning:f,metricsPage:zd.zb,onConfirm:j,onCancel:w}))};const z$t=Nd.a.createElement,{useEffect:U$t}=Nd.a;const V$t={dispatchPopulateSharedItem:FJt,onDeleteSharedItem:HJt};var B$t=Object(Hu.b)((function(){return Object(Wu.a)((e,{id:t})=>t,(e,{type:t})=>t,(e,{title:t})=>t,e=>e.ui.userSharingSettingsPage.deleteSharedItemID,Object(Wu.a)((e,{uri:t})=>t,Ku,XK,(e,t,i)=>{const{metadataItemKey:n,serverIdentifier:a}=Object(sr.a)(e),s=Object.keys(t).find(e=>t[e].machineIdentifier===a),r=Object.keys(i).find(e=>{const t=i[e];return t.key===n&&t.serverEntityID===s});return i[r]}),Object(Wu.a)((e,{uri:t})=>t,Wre,(e,t)=>{const{serverIdentifier:i}=Object(sr.a)(e),n=t.find(e=>e.server.machineIdentifier===i);return!!(n&&n.provider&&n.provider.isPopulated)}),(e,t,i,n,a={},s)=>{const r=function(e,t){const{subtype:i}=e;return Eae(zTt(t,i,Ic),null,t,i,e,Ic)}(a,t);return{serverEntityID:a.serverEntityID,providerEntityID:a.providerEntityID,isItemProviderPopulated:s,grandparentKey:a.grandparentKey,parentTitle:a.parentTitle,grandparentTitle:a.grandparentTitle,type:t,playlistType:a.playlistType,index:a.index,title:a.title||i,leafCount:a.leafCount,duration:a.duration,isDeleting:e===n,showDelete:!n,imageWidth:r.width,imageHeight:r.height,imageUrl:r.url}})}),V$t)((function(e){const{uri:t,isItemProviderPopulated:i,dispatchPopulateSharedItem:n}=e,a=Xe()(e,["uri","isItemProviderPopulated","dispatchPopulateSharedItem"]);return U$t(()=>{i&&n({uri:t})},[t,i,n]),z$t(R$t,a)}));const F$t=Nd.a.createElement,H$t=H0(120);function _$t(e){return t=>F$t(B$t,tp()({isOwnedItem:e},t))}var W$t=function(e){const{isOwnedItem:t}=e,i=Xe()(e,["isOwnedItem"]);return F$t(x0,tp()({},i,{keyPropName:"id",layout:H$t,cellRenderer:_$t(t)}))},Q$t=i("lEPh"),G$t=i.n(Q$t);const{Fragment:K$t,useCallback:Y$t,useMemo:q$t,useState:Z$t}=Nd.a;function J$t(e){return e.reduce((e,t)=>[...e,...t.sharedItems.map(e=>Object.assign({},e,{origin:t.origin,serverName:t.name}))],[])}var X$t=Vu()(iXt,{});var $$t=function(e){const{userTitle:t,isRestrictedUser:i,isRestrictedFriend:n,ownedSharedSources:a,receivedSharedSources:s,isPopulated:r,isLoading:o,errorMessage:l}=e,c=Z$t(0),d=c[1],u=c[0],p=Z$t(0),h=p[1],m=p[0],g=Z$t({isContentMeasured:!1}),v=g[1],y=g[0],f=q$t(()=>J$t(a),[a]),b=q$t(()=>J$t(s),[s]),I=Y$t(e=>{d(e.scrollTop)},[]),S=Y$t(({width:e,height:t})=>{v({isContentMeasured:!0,contentWidth:e,contentHeight:t})},[]),C=Y$t(({height:e})=>{h(e)},[]);if(l)return Vu()(vh,{title:Object(Ze.default)("There was an unexpected error"),description:l});const M=!o&&y.isContentMeasured,D=r&&!i,P=r&&!n;return Vu()(F5,{metricsPage:zd.zb,metricsPane:"sharedMedia",scrollTop:u,onScrollPositionChange:I},void 0,o?X$t:null,Vu()(T0,{className:G$t.a.container,onMeasure:S},void 0,M?Vu()(K$t,{},void 0,D?Vu()(S$t,{},void 0,Object(Ze.default)("Shared with {userTitle}",{userTitle:t})):null,D&&0===f.length?Vu()("div",{className:G$t.a.message},void 0,Object(Ze.default)("You haven't shared anything yet.")):null,D&&f.length>0?Vu()(T0,{ignoreWidth:!1,ignorePosition:!1,onMeasure:C},void 0,Vu()(W$t,{items:f,size:f.length,viewportWidth:y.contentWidth,viewportHeight:y.contentHeight,scrollTop:u,isOwnedItem:!0})):null,P?Vu()(S$t,{},void 0,Object(Ze.default)("Shared with you")):null,P&&0===b.length?Vu()("div",{className:G$t.a.message},void 0,Object(Ze.default)("This user hasn't shared anything with you yet.")):null,P&&b.length>0?Vu()(W$t,{items:b,size:b.length,viewportWidth:y.contentWidth,viewportHeight:y.contentHeight,scrollTop:u-m,isOwnedItem:!1}):null):null))};const e0t=Nd.a.createElement,{useEffect:t0t}=Nd.a;const i0t={dispatchFetchSharedSources:BJt};var n0t=Object(Hu.b)((function(){return Object(Wu.a)(e=>e.ui.userSharingSettingsPage,(e,{friend:t})=>t,bg("restricted"),(e,t,i)=>{const{ownedSharedSources:n,receivedSharedSources:a,isSharedSourcesPopulating:s,isSharedSourcesPopulated:r,sharedSourcesError:o}=e;return{userID:t.id,userTitle:t.title,ownedSharedSources:n,receivedSharedSources:a,isRestrictedUser:i,isRestrictedFriend:t.restricted,isPopulating:s,isPopulated:r,isLoading:s&&!o,errorMessage:o}})}),i0t)((function(e){const{userID:t,isPopulating:i,isPopulated:n,dispatchFetchSharedSources:a}=e,s=Xe()(e,["userID","isPopulating","isPopulated","dispatchFetchSharedSources"]);return t0t(()=>{i||n||a({userID:t})},[t,i,n,a]),e0t($$t,tp()({},s,{isPopulated:n}))})),a0t=i("08AQ"),s0t=i.n(a0t);const{useCallback:r0t,useEffect:o0t,useMemo:l0t,useState:c0t}=Nd.a,d0t={sharedLibraries:E$t,sharedMedia:n0t,profile:mXt,restrictions:zXt};var u0t=Vu()(iXt,{});var p0t=function(e){const{serverEntityID:t,friend:i,isGuest:n,isUpdatingFriend:a,isPending:s,isPopulated:r,showAddToHome:o,showProfile:l,showRestrictions:c,hasError:d,dispatchAddToHome:u}=e,p=$b(a),h=c0t("sharedLibraries"),m=h[1],g=h[0],v=c0t(!1),y=v[1],f=v[0],b=r0t(e=>{m(e)},[]),I=r0t(()=>y(!0),[]),S=r0t(()=>u({friendEntityID:i.entityID}),[i,u]),C=r0t(()=>y(!1),[]);o0t(()=>{p&&!a&&y(!1)},[p,a,y]);const M=l0t(()=>function(e,t,i){const n=[{id:"sharedLibraries",title:Object(Ze.default)("Shared Libraries"),isSelected:"sharedLibraries"===e},{id:"sharedMedia",title:Object(Ze.default)("Shared Media"),isSelected:"sharedMedia"===e}];return t&&n.push({id:"profile",title:Object(Ze.default)("Profile"),isSelected:"profile"===e}),i&&n.push({id:"restrictions",title:Object(Ze.default)("Restrictions"),isSelected:"restrictions"===e}),n}(g,l,c),[g,l,c]),D=d0t[g];return Vu()(f$,{metricsPage:zd.a,metricsProperties:{pane:"users-sharing"},scrollDirection:Zp},void 0,!d&&s?u0t:null,!d&&r?Vu()(Z2e,{className:s0t.a.pageHeader},void 0,Vu()(drt,{className:s0t.a.pageHeaderLeft},void 0,Vu()(rC,{className:s0t.a.avatar,serverEntityID:t,url:i.thumb,width:60,height:60}),Vu()("div",{className:s0t.a.username},void 0,i.title)),Vu()(art,{tabs:M,hideSingleTabs:!1,onPress:b}),Vu()(Tst,{className:s0t.a.pageHeaderRight},void 0,o?Vu()(JK,{className:s0t.a.addToHomeIcon,iconComponent:aXt,title:Object(Ze.default)("Add to Plex Home"),onPress:I}):null)):null,!d&&r?Vu()(D,{friend:i,isGuest:n}):null,d?Vu()(k_,{title:Object(Ze.default)("An error occurred loading this user"),description:Object(Ze.default)("Please try again")},void 0,Vu()(zp,{to:"#!/settings/users-sharing",kind:Pp},void 0,Object(Ze.default)("Go Back"))):null,Vu()(F_,{isOpen:f,metricsPage:zd.e,title:Object(Ze.default)("Add to Plex Home"),message:Vu()("div",{className:s0t.a.confirmMessageContainer},void 0,Vu()(eM,{className:s0t.a.confirmWarning}),Vu()("div",{className:s0t.a.confirmMessage},void 0,Object(Ze.default)("Inviting other users to your home is a security risk that could allow these users to access your account. You should only do this if you live in the same home and share devices.")),Vu()("div",{className:s0t.a.confirmMessage},void 0,Object(Ze.default)("Users in your Home appear on the Switch User screen. The invited user will be asked to confirm Home membership."))),confirmLabel:Object(Ze.default)("Confirm"),kind:Op,isConfirmButtonSpinning:a,onConfirm:S,onCancel:C}))};const h0t=Nd.a.createElement,{useEffect:m0t}=Nd.a,g0t=Object(Wu.a)(e=>e.ui.userSharingSettingsPage,e=>e.cloudServer,(e,{userID:t})=>t,Zu.a,lJ,rq,dJ,bg("hasPlexPass"),(e,t,i,n,a,s,r,o)=>{const l=Object.keys(s).find(e=>s[e].id===i),c=Object.keys(r).find(e=>r[e].id===i),d=n.isAllFriendsPopulated,u=s[l],p=r[c],h=!!a.sentInvites.find(e=>parseInt(e.id,10)===u.id&&e.home);return{serverEntityID:t,friend:u,isGuest:!!p&&p.guest,isUpdatingFriend:e.isUpdatingFriend,isPending:n.isAllFriendsPending&&!d,isPopulated:d,hasError:!!n.allFriendsError||d&&!l,showAddToHome:o&&!(u&&u.home)&&!h,showProfile:!!p&&p.restricted,showRestrictions:!n.restricted}}),v0t={dispatchResetUserSharingSettingsPage:kJt,dispatchPopulateAllFriends:NA,dispatchPopulateHomeUsers:EA,dispatchAddToHome:qJt};var y0t=Object(Hu.b)(g0t,v0t)((function(e){const{dispatchResetUserSharingSettingsPage:t,dispatchPopulateAllFriends:i,dispatchPopulateHomeUsers:n}=e,a=Xe()(e,["dispatchResetUserSharingSettingsPage","dispatchPopulateAllFriends","dispatchPopulateHomeUsers"]);return m0t(()=>{Object(Ti.a)(i)},[i]),m0t(()=>{Object(Ti.a)(n)},[n]),m0t(()=>t,[t]),h0t(p0t,a)})),f0t=Vu()(E8,{selectedKey:"users-sharing"});var b0t=_u.extend({component(e){const{userID:t}=e;return Vu()(kh,{},void 0,Vu()(Nh,{isAccountRequired:!0},void 0,f0t,Vu()(y0t,{userID:parseInt(t,10)})))}});var I0t=Object(Wu.a)(lJ,e=>e.homeDetails),S0t=i("doJ2"),C0t=i.n(S0t);var M0t=function(e){const{isAccepting:t,onPress:i}=e;return t?Vu()(Yh,{className:C0t.a.spinner,loadingLabel:Object(Ze.default)("Accepting invite"),size:Fh}):Vu()(JK,{className:C0t.a.button,iconComponent:hJ,title:Object(Ze.default)("Accept Invite"),onPress:i})},D0t=i("e0vz"),P0t=i.n(D0t);var O0t=function({title:e,onPress:t}){return Vu()(JK,{className:P0t.a.button,iconComponent:NI,title:e,onPress:t})};const j0t=Nd.a.createElement;var w0t=function(e){const{hasOtherHomeUsers:t,isSignedInUserAdmin:i}=e,n=Xe()(e,["hasOtherHomeUsers","isSignedInUserAdmin"]);let a=Object(Ze.default)("The admin of this home will have access to your account. Other users of this home will be able to switch to your account by entering your PIN.");return t&&(a=i?Object(Ze.default)("You are the admin in your current home. If you leave, the remaining users will be removed and managed users will be deleted."):Object(Ze.default)("Are you sure you want to join this home? You will leave your current home.")),j0t(F_,tp()({},n,{kind:Op,title:Object(Ze.default)("Join Home"),message:a,confirmLabel:Object(Ze.default)("Join")}))};const T0t=Nd.a.createElement;var E0t=function(e){return T0t(F_,tp()({},e,{title:Object(Ze.default)("Reject Invite"),message:Object(Ze.default)("Are you sure you want to reject this invite?"),confirmLabel:Object(Ze.default)("Yes"),cancelLabel:Object(Ze.default)("No")}))},N0t=i("P9va"),x0t=i.n(N0t);function A0t(e){const{className:t,children:i,userID:n}=e;return Vu()("div",{className:t},void 0,n?Vu()(zp,{className:x0t.a.underlay,to:"#!/settings/users-sharing/"+n}):null,i)}A0t.defaultProps={className:x0t.a.row};var L0t=A0t,k0t=i("4vwf"),R0t=i.n(k0t);function z0t({className:e,children:t}){return Vu()("div",{className:e},void 0,t)}z0t.defaultProps={className:R0t.a.container};var U0t=z0t,V0t=i("HCZj"),B0t=i.n(V0t);var F0t=function(e){const{serverEntityID:t,thumb:i}=e;return Vu()("div",{className:B0t.a.container},void 0,Vu()(rC,{serverEntityID:t,url:i,width:50,height:50}))};function H0t(e){var t=e["aria-label"],i=e.className,n=e.style,a={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-sharing-admin-560"};a["aria-hidden"]=!t,a.style=n,a.className=Ad.a.plexIcon+(i?" "+i:"");var s=[Nd.a.createElement.apply(Nd.a,["path",{d:"M120 560h320v-80H120v80zM268.298 78.258C251.923 73.25 240 58.004 240 40c0-22.075 17.923-40 40-40s40 17.925 40 40c0 17.304-11.012 32.058-26.404 37.625L360 280l128.004-96.003A39.81 39.81 0 0 1 480 160c0-22.075 17.925-40 40-40s40 17.925 40 40c0 22.077-17.925 40-40 40a39.85 39.85 0 0 1-14.858-2.855L440 360v80H120v-80L54.858 197.145A39.845 39.845 0 0 1 40 200c-22.077 0-40-17.923-40-40 0-22.075 17.923-40 40-40s40 17.925 40 40c0 9-2.98 17.31-8.004 23.997L200 280l68.298-201.742z"}].concat([]))];return t&&s.unshift(Nd.a.createElement("title",null,t)),Nd.a.createElement.apply(Nd.a,["svg",a].concat(s))}H0t.propTypes={"aria-label":vc.a.string,className:vc.a.string,style:vc.a.object};var _0t=H0t,W0t=i("qM40"),Q0t=i.n(W0t),G0t=Vu()(tf,{});var K0t=function(e){const{title:t,subtitle:i,restrictionProfile:n,isAdmin:a,isRestricted:s}=e;let r;return s&&(r=n?aA(n).title:Object(Ze.default)("Managed User")),Vu()("div",{className:Q0t.a.container},void 0,Vu()("div",{className:Q0t.a.titleContainer},void 0,Vu()("div",{className:Q0t.a.title},void 0,t),a?Vu()("div",{className:Q0t.a.statusContainer},void 0,Vu()("div",{className:Q0t.a.status},void 0,Object(Ze.default)("Admin")),Vu()(_0t,{className:Q0t.a.admin})):null,r?Vu()("div",{className:Q0t.a.status},void 0,r):null),i?Vu()("div",{className:Q0t.a.subtitle},void 0,G0t,i):null)},Y0t=i("qr/E"),q0t=i.n(Y0t);function Z0t(e){const{serverShares:t}=e;let i=0,n=0;return t.forEach(e=>{e.owned?i+=e.numLibraries:n+=e.numLibraries}),Vu()("div",{className:q0t.a.container},void 0,n?Vu()("div",{className:q0t.a.status},void 0,1===n?Object(Ze.default)("Shares 1 library with you"):Object(Ze.default)("Shares {libraryCount} libraries with you",{libraryCount:n})):null,i?Vu()("div",{className:q0t.a.status},void 0,1===i?Object(Ze.default)("Sharing 1 library with them"):Object(Ze.default)("Sharing {libraryCount} libraries with them",{libraryCount:i})):null)}Z0t.defaultProps={serverShares:[]};var J0t=Z0t,X0t=i("O6KH"),$0t=i.n(X0t);const{useCallback:e1t,useState:t1t}=Nd.a;var i1t=function(e){const{serverEntityID:t,thumb:i,friendlyName:n,home:a,serverShares:s,isAccepting:r,isRemoving:o,hasOtherHomeUsers:l,isSignedInUserAdmin:c,dispatchAcceptInvite:d,dispatchRejectInvite:u}=e,p=t1t(!1),h=p[1],m=p[0],g=t1t(!1),v=g[1],y=g[0],f=e1t(()=>a?h(!0):d(),[a,d]),b=e1t(()=>v(!0),[]),I=e1t(()=>h(!1),[]),S=e1t(()=>v(!1),[]);return Vu()(L0t,{},void 0,Vu()(F0t,{serverEntityID:t,thumb:i}),Vu()(K0t,{title:n,subtitle:a?Object(Ze.default)("Wants you to join their home"):Object(Ze.default)("Wants to share with you")}),a?Vu()("div",{className:$0t.a.homeInvite},void 0,Object(Ze.default)("Awaiting your response")):Vu()(J0t,{serverShares:s}),Vu()(U0t,{},void 0,Vu()(M0t,{isAccepting:r,onPress:f}),Vu()(O0t,{title:Object(Ze.default)("Reject Invite"),onPress:b})),a?Vu()(w0t,{isOpen:m,metricsPage:zd.zb,hasOtherHomeUsers:l,isSignedInUserAdmin:c,onConfirm:d,onCancel:I}):null,Vu()(E0t,{isOpen:y,metricsPage:zd.zb,isConfirmButtonSpinning:o,onConfirm:u,onCancel:S}))};var n1t=Object(Hu.b)(null,(function(e,t){return{dispatchAcceptInvite(){e(qA({inviteID:t.id}))},dispatchRejectInvite(){e(ZA({inviteID:t.id}))}}}))(i1t);const a1t=Nd.a.createElement;var s1t=function(e){return a1t(F_,tp()({},e,{title:Object(Ze.default)("Cancel Invite"),message:Object(Ze.default)("Are you sure you want to cancel this invite?"),confirmLabel:Object(Ze.default)("Yes"),cancelLabel:Object(Ze.default)("No")}))},r1t=i("n6F1"),o1t=i.n(r1t);const{useCallback:l1t,useState:c1t}=Nd.a;var d1t=function(e){const{serverEntityID:t,thumb:i,friendlyName:n,home:a,serverShares:s,isRemoving:r,dispatchCancelInvite:o}=e,l=c1t(!1),c=l[1],d=l[0];return Vu()(L0t,{className:o1t.a.row},void 0,Vu()(F0t,{serverEntityID:t,thumb:i}),Vu()(K0t,{title:n,subtitle:Object(Ze.default)("Invite pending")}),a?Vu()("div",{className:o1t.a.homeInvite},void 0,Vu()("div",{className:o1t.a.status},void 0,Object(Ze.default)("Awaiting their response"))):Vu()(J0t,{serverShares:s}),Vu()(U0t,{className:o1t.a.actions},void 0,Vu()(O0t,{title:Object(Ze.default)("Cancel Invite"),onPress:l1t(()=>c(!0),[])})),Vu()(s1t,{isOpen:d,metricsPage:zd.zb,isConfirmButtonSpinning:r,onConfirm:o,onCancel:l1t(()=>c(!1),[])}))};var u1t=Object(Hu.b)(null,(function(e,t){return{dispatchCancelInvite(){e(JA({inviteID:t.id}))}}}))(d1t),p1t=i("8cAR"),h1t=i.n(p1t);var m1t=function({title:e,children:t}){return Vu()("div",{className:h1t.a.header},void 0,Vu()("div",{className:h1t.a.pageHeaderLeft},void 0,e),Vu()("div",{className:h1t.a.pageHeaderRight},void 0,t))};const g1t=Nd.a.createElement;function v1t(e){const{title:t,serverShares:i}=e,n=Xe()(e,["title","serverShares"]);let a=Object(Ze.default)("Are you sure you want to remove {friendName}?",{friendName:t}),s=0,r=0;i.forEach(e=>{e.owned?s+=e.numLibraries:r+=e.numLibraries});const o=function(e,t,i){return e&&t?i>1?Object(Ze.default)("You are sharing {libraryCount} libraries with each other",{libraryCount:i}):Object(Ze.default)("You are sharing {libraryCount} library with each other",{libraryCount:i}):e?i>1?Object(Ze.default)("You are sharing {libraryCount} libraries with this friend",{libraryCount:i}):Object(Ze.default)("You are sharing {libraryCount} library with this friend",{libraryCount:i}):t?i>1?Object(Ze.default)("This friend is sharing {libraryCount} libraries with you",{libraryCount:i}):Object(Ze.default)("This friend is sharing {libraryCount} library with you",{libraryCount:i}):void 0}(s,r,s+r);return o&&(a+=" "+o),g1t(F_,tp()({},n,{kind:Op,title:Object(Ze.default)("Remove Friend"),message:a,confirmLabel:Object(Ze.default)("Remove")}))}v1t.defaultProps={serverShares:[]};var y1t=v1t,f1t=i("W/pu"),b1t=i.n(f1t);const{useEffect:I1t}=Nd.a;var S1t=function(e){const{serverEntityID:t,id:i,title:n,thumb:a,serverShares:s,home:r,restricted:o,isRemoving:l,dispatchRemove:c}=e,d=Y9(),u=$b(l);return I1t(()=>{u&&!l&&d.isOpen&&d.onClose()},[u,l,d]),r||o?null:Vu()(L0t,{className:b1t.a.row,userID:i},void 0,Vu()(F0t,{serverEntityID:t,thumb:a}),Vu()(K0t,{title:n}),Vu()(J0t,{serverShares:s}),Vu()(U0t,{className:b1t.a.actions},void 0,Vu()(O0t,{title:Object(Ze.default)("Remove User"),onPress:d.onOpen})),Vu()(y1t,{isOpen:d.isOpen,metricsPage:zd.zb,title:n,serverShares:s,isConfirmButtonSpinning:l,onConfirm:c,onCancel:d.onClose}))};var C1t=Object(Hu.b)((function(){return Object(Wu.a)(oq(),e=>e)}),(function(e,t){return{dispatchRemove(){e(WA({friendEntityID:t.friendEntityID}))}}}))(S1t);function M1t(){return Object(Wu.a)(dJ,(e,t)=>t.homeUserEntityID,(e,t)=>e[t])}const D1t=Nd.a.createElement;var P1t=function(e){const{isSignedInUser:t,isAdmin:i,isRestricted:n}=e,a=Xe()(e,["isSignedInUser","isAdmin","isRestricted"]);let s=Object(Ze.default)("Remove User"),r=Object(Ze.default)("You will no longer be able to switch to this user."),o=Object(Ze.default)("Remove");return t?(s=Object(Ze.default)("Leave Home"),r=i?Object(Ze.default)("You are the admin in this home. If you leave, the remaining users will be removed and managed users will be deleted."):Object(Ze.default)("Are you sure you want to leave this home?"),o=Object(Ze.default)("Leave")):n&&(r=Object(Ze.default)("Removing a managed user from your home will delete the managed user. Watched status for this user will be lost. This cannot be undone.")),D1t(F_,tp()({},a,{kind:Op,title:s,message:r,confirmLabel:o}))};function O1t(e){var t=e["aria-label"],i=e.className,n=e.style,a={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-sharing-locked-560"};a["aria-hidden"]=!t,a.style=n,a.className=Ad.a.plexIcon+(i?" "+i:"");var s=[Nd.a.createElement.apply(Nd.a,["path",{d:"M120 240V120h.01c-.007-.513-.01-1.025-.01-1.537C120 53.079 173.08 0 238.462 0h83.076C386.92 0 440 53.08 440 118.463c0 .512-.003 1.025-.01 1.537h.01v120h40c22.08 0 40 17.924 40 40v240c0 22.076-17.92 40-40 40H80c-22.077 0-40-17.923-40-40V280c0-22.076 17.923-40 40-40h40zm180 240v-43.42c23.294-8.244 40-30.476 40-56.58 0-33.115-26.885-60-60-60-33.115 0-60 26.885-60 60 0 26.104 16.706 48.336 40 56.58V480h40zm20-400h-80c-22.077 0-40 17.925-40 40v120h160V120c0-22.075-17.923-40-40-40z"}].concat([]))];return t&&s.unshift(Nd.a.createElement("title",null,t)),Nd.a.createElement.apply(Nd.a,["svg",a].concat(s))}O1t.propTypes={"aria-label":vc.a.string,className:vc.a.string,style:vc.a.object};var j1t=O1t;function w1t(e){var t=e["aria-label"],i=e.className,n=e.style,a={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-sharing-unlocked-560"};a["aria-hidden"]=!t,a.style=n,a.className=Ad.a.plexIcon+(i?" "+i:"");var s=[Nd.a.createElement.apply(Nd.a,["path",{d:"M240 80c-22.077 0-40 17.925-40 40h-80 .01c-.007-.513-.01-1.025-.01-1.537C120 53.079 173.08 0 238.462 0h83.076C386.92 0 440 53.08 440 118.463c0 .512-.003 1.025-.01 1.537h.01v120h40c22.08 0 40 17.924 40 40v240c0 22.076-17.92 40-40 40H80c-22.077 0-40-17.923-40-40V280c0-22.076 17.923-40 40-40h280V120c0-22.075-17.923-40-40-40h-80zm60 400v-43.42c23.294-8.244 40-30.476 40-56.58 0-33.115-26.885-60-60-60-33.115 0-60 26.885-60 60 0 26.104 16.706 48.336 40 56.58V480h40z"}].concat([]))];return t&&s.unshift(Nd.a.createElement("title",null,t)),Nd.a.createElement.apply(Nd.a,["svg",a].concat(s))}w1t.propTypes={"aria-label":vc.a.string,className:vc.a.string,style:vc.a.object};var T1t=w1t,E1t=i("H3DA"),N1t=i.n(E1t);function x1t(e){const{isProtected:t,isGuest:i}=e,n=t?j1t:T1t;return Vu()("div",{className:N1t.a.container},void 0,Vu()("div",{title:t?Object(Ze.default)("Has PIN"):Object(Ze.default)("No PIN")},void 0,i?null:Vu()(n,{className:t?N1t.a.lockedIcon:N1t.a.icon})))}x1t.defaultProps={isProtected:!1,isGuest:!1};var A1t=x1t,L1t=i("Hbfx"),k1t=i.n(L1t);const{useCallback:R1t,useEffect:z1t,useState:U1t}=Nd.a;var V1t=function(e){const{serverEntityID:t,id:i,title:n,thumb:a,protected:s,restricted:r,serverShares:o,isSignedInUserAdmin:l,isSignedInUserRestricted:c,isSignedInUser:d,admin:u,guest:p,restrictionProfile:h,hasOtherHomeUsers:m,isRemoving:g,dispatchEditPIN:v,dispatchRemove:y}=e,f=U1t(!1),b=f[1],I=f[0],S=$b(g);z1t(()=>{S&&!g&&I&&b(!1)},[S,g,I]);const C=R1t(()=>{b(!0)},[]),M=R1t(()=>{b(!1)},[]);let D;D=!!l||(c?u:!r);const P=!d&&D,O=l&&!d&&!p,j=d&&!r,w=l&&r&&!p;return Vu()(L0t,{className:k1t.a.row,userID:P?i:null},void 0,Vu()(F0t,{serverEntityID:t,thumb:a}),Vu()(K0t,{title:n,restrictionProfile:h,isAdmin:u,isRestricted:r}),Vu()(A1t,{isProtected:s,isGuest:p}),Vu()(J0t,{serverShares:o}),Vu()(U0t,{className:k1t.a.actions},void 0,j||w?Vu()(zp,{className:k1t.a.editPin,onPress:v},void 0,s?Object(Ze.default)("Edit PIN"):Object(Ze.default)("Set PIN")):null,O?Vu()(O0t,{title:Object(Ze.default)("Remove From Plex Home"),onPress:C}):null,d&&m&&!r?Vu()(O0t,{title:Object(Ze.default)("Leave Home"),onPress:C}):null),Vu()(P1t,{isOpen:I,metricsPage:zd.zb,isSignedInUser:d,isAdmin:u,isRestricted:r,isConfirmButtonSpinning:g,onConfirm:y,onCancel:M}))};const B1t=Object(Wu.a)(dJ,bg("id"),(e,t)=>{const i=Object.values(e).find(e=>e.id===t);return!(!i||!i.restricted)});var F1t=Object(Hu.b)((function(){return Object(Wu.a)((e,{signedInUserId:t})=>t,B1t,M1t(),Object(Wu.a)(M1t(),uJ,rq,(e,t,i)=>t.find(t=>i[t].id===e.id)),(e,t,i,n)=>Object.assign({},i,{serverShares:n&&n.serverShares,isSignedInUser:i.id===e,isSignedInUserRestricted:t}))}),(function(e,t){return{dispatchRemove(){e(_A({homeUserEntityID:t.homeUserEntityID}))},dispatchEditPIN(){e(GA({homeUserEntityID:t.homeUserEntityID}))}}}))(V1t),H1t=i("FuJG"),_1t=i.n(H1t);const W1t=Nd.a.createElement,{Fragment:Q1t,useCallback:G1t,useState:K1t}=Nd.a;function Y1t(e,t){return e.filter(e=>e.home===t)}var q1t=Vu()(iXt,{});function Z1t(e){const{serverEntityID:t,addManagedUser:i,isPending:n,isPopulated:a,allFriendsError:s,allFriends:r,homeDetailsError:o,homeUsersError:l,homeUsers:c,invitesError:d,invites:u,sentInvitesError:p,sentInvites:h,signedInUserId:m,guestEnabled:g,isTogglingGuestUser:v,isSignedInUserAdmin:y,isFullUser:f,hasPlexPass:b,onToggleGuestUser:I}=e,S=Y1t(u,!0),C=Y1t(u,!1),M=Y1t(h,!0),D=Y1t(h,!1),P=K1t(i),O=P[1],j=P[0],w=K1t(!1),T=w[1],E=w[0],N=K1t(i),x=N[1],A=N[0],L=G1t(()=>O(!0),[]),k=G1t(()=>{O(!0),T(!0)},[]),R=G1t(()=>{O(!0),x(!0)},[]),z=G1t(()=>{O(!1),T(!1),x(!1)},[]);let U;if(o?U=Object(Ze.default)("An error occurred retrieving home details. Please try again."):l?U=Object(Ze.default)("An error occurred retrieving home users. Please try again."):s?U=Object(Ze.default)("An error occurred retrieving friends. Please try again."):(d||p)&&(U=Object(Ze.default)("An error occurred retrieving invites. Please try again.")),U)return Vu()(vh,{title:U});const V=a&&f;return Vu()(F5,{metricsPage:zd.a,metricsPane:"users-sharing"},void 0,Vu()(L5,{},void 0,Object(Ze.default)("Users & Sharing")),n&&!a?q1t:null,a?Vu()("div",{className:_1t.a.homeUsersList},void 0,Vu()(m1t,{title:Object(Ze.default)("Home Users")},void 0,b&&y?Vu()(hw,{className:_1t.a.button,size:Fh,onPress:k},void 0,Object(Ze.default)("Invite Home User")):null,y?Vu()(hV,{className:_1t.a.button,size:Fh,onPress:R},void 0,Object(Ze.default)("Create Managed User")):null,b&&y?Vu()(hV,{className:_1t.a.button,size:Fh,isSpinning:v,isDisabled:v,onPress:I},void 0,g?Object(Ze.default)("Disable Guest"):Object(Ze.default)("Enable Guest")):null),S.map(e=>W1t(n1t,tp()({key:e.id},e,{serverEntityID:t,hasOtherHomeUsers:c.length>1,isSignedInUserAdmin:y}))),c.map(e=>Vu()(F1t,{serverEntityID:t,homeUserEntityID:e,signedInUserId:m,isSignedInUserAdmin:y,hasOtherHomeUsers:c.length>1},e)),y&&!b?Vu()("div",{className:_1t.a.upsell},void 0,Vu()(vw,{className:_1t.a.upsellMessage,message:Object(Ze.default)("Adding other Plex users to your home requires a Plex Pass. {openLink}Learn More{closeLink}"),tags:[{open:"openLink",close:"closeLink",component:zp,to:"https://www.plex.tv/plex-pass/",target:"_blank",kind:Pp}]})):null,M.map(e=>W1t(u1t,tp()({key:e.id},e,{serverEntityID:t})))):null,V?Vu()(Q1t,{},void 0,Vu()(m1t,{title:Object(Ze.default)("Friends")},void 0,Vu()(hw,{className:_1t.a.button,size:Fh,onPress:L},void 0,Object(Ze.default)("Add A Friend"))),C.map(e=>{const i=e.Server?e.Server.map(e=>Object.assign({},e,{owned:!1})):void 0;return W1t(n1t,tp()({key:e.id},e,{serverEntityID:t,serverShares:i}))}),r.map(e=>Vu()(C1t,{serverEntityID:t,friendEntityID:e},e)),D.map(e=>{const i=e.Server?e.Server.map(e=>Object.assign({},e,{owned:!0})):[];return W1t(u1t,tp()({key:e.id},e,{serverEntityID:t,serverShares:i}))})):null,Vu()(YJ,{metricsProperties:{context:_t.USERS_AND_SHARING},serverEntityID:t,isAddingHomeUser:E,isCreatingManagedUser:A,isOpen:j,onModalClose:z}))}Z1t.defaultProps={addManagedUser:!1};var J1t=Z1t;const X1t=Nd.a.createElement,{Component:$1t}=Nd.a,e2t=Object(Wu.a)(dJ,Zu.a,(e,t)=>{const i=Object.values(e).find(e=>e.id===t.id);return!(!i||!i.admin)}),t2t=Object(Wu.a)(e=>e.cloudServer,Zu.a,lJ,I0t,e2t,bg("hasPlexPass"),(e,t,i,n,a,s)=>({serverEntityID:e,isPending:t.isAllFriendsPending||i.isHomeDetailsPending||i.isHomeUsersPending||i.isInvitesPending||i.isSentInvitesPending,isPopulated:t.isAllFriendsPopulated&&i.isHomeDetailsPopulated&&i.isHomeUsersPopulated&&i.isInvitesPopulated&&i.isSentInvitesPopulated,allFriendsError:t.allFriendsError,allFriends:t.allFriends,homeDetailsError:i.homeDetailsError,homeDetails:i.homeDetails,homeUsersError:i.homeUsersError,homeUsers:i.homeUsers,invitesError:i.invitesError,invites:i.invites,sentInvitesError:i.sentInvitesError,sentInvites:i.sentInvites,signedInUserId:t.id,guestEnabled:n.guestEnabled,isTogglingGuestUser:n.isTogglingGuestUser,isSignedInUserAdmin:a,isFullUser:t.isFullUser,hasPlexPass:s})),i2t={dispatchFetchAllFriends:wA,dispatchFetchHomeDetails:HA,dispatchFetchHomeUsers:TA,dispatchFetchInvites:KA,dispatchFetchSentInvites:YA,onToggleGuestUser:QA};var n2t=Object(Hu.b)(t2t,i2t)(class extends $1t{componentDidMount(){Object(Ti.a)(()=>{this.props.dispatchFetchAllFriends(),this.props.dispatchFetchHomeDetails(),this.props.dispatchFetchHomeUsers(),this.props.dispatchFetchInvites(),this.props.dispatchFetchSentInvites()})}render(){const e=this.props,t=Xe()(e,["dispatchFetchAllFriends","dispatchFetchHomeDetails","dispatchFetchHomeUsers","dispatchFetchInvites","dispatchFetchSentInvites"]);return X1t(J1t,t)}}),a2t=Vu()(E8,{selectedKey:"users-sharing"});var s2t=_u.extend({component(e){const{params:t={}}=e;return Vu()(kh,{},void 0,Vu()(Nh,{isAccountRequired:!0},void 0,a2t,Vu()(n2t,{addManagedUser:Se.a.parseBoolean(t.addManagedUser)})))}}),r2t=i("KN9C"),o2t=i.n(r2t);const{Component:l2t}=Nd.a;var c2t=sCt(class extends l2t{constructor(...e){super(...e),this.onTogglePress=e=>{this.props.onToggle(this.props.index)},this.onRemovePress=e=>{this.props.onRemove(this.props.url)},this.onSubmit=e=>{this.props.onSubmit(this.props.url,e.url)}}render(){const{isDirty:e,isOpen:t,isUpdating:i,isRemoving:n,url:a,error:s,onFormChange:r}=this.props,o=i||n;return Vu()(qNt,{isOpen:t,closedNode:Vu()("div",{},void 0,Vu()(GM,{className:o2t.a.label},void 0,Object(Ze.default)("URL")),a),errorMessage:K2(s),onTogglePress:this.onTogglePress},void 0,Vu()(FM,{onSubmit:this.onSubmit,onChange:r},void 0,Vu()(qB,{focusOnMount:!0,selectTextOnFocus:!0,labelText:Object(Ze.default)("URL"),isDisabled:o,name:"url",initialValue:a,validations:a?[oqt]:[]}),Vu()("div",{className:o2t.a.buttons},void 0,a?Vu()(hV,{className:o2t.a.dangerButton,kind:Op,isSpinning:n,isDisabled:o,onPress:this.onRemovePress},void 0,Object(Ze.default)("Remove")):null,Vu()(hV,{className:o2t.a.button,type:"submit",kind:Pp,isSpinning:i,isDisabled:o||!e},void 0,Object(Ze.default)("Save Changes")))))}},{isUpdatingPropName:"isUpdating",errorPropName:"error",clearDirtyOnChangePropName:"isOpen"});var d2t=function(e){const{hasPlexSubscription:t,origin:i,modalMetricsProperties:n}=e;return t?null:Vu()(pk,{origin:i,modalMetricsProperties:n})};const u2t=Object(Wu.a)(Zu.a,e=>({hasPlexSubscription:!!e&&e.hasPlexSubscription})),p2t=Object(Hu.b)(u2t)(d2t);p2t.propTypes=Object.assign({},p2t.propTypes);var h2t=p2t;function m2t(e){var t=e["aria-label"],i=e.className,n=e.style,a={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 40 40",id:"plex-icon-marketing-webhooks"};a["aria-hidden"]=!t,a.style=n,a.className=Ad.a.plexIcon+(i?" "+i:"");var s=[Nd.a.createElement.apply(Nd.a,["path",{d:"M6.665 4.166a.834.834 0 1 1-1.667 0 .834.834 0 0 1 1.667 0zm3.334 0a.834.834 0 1 1-1.668 0 .834.834 0 0 1 1.668 0zm3.333 0a.834.834 0 1 1-1.667 0 .834.834 0 0 1 1.667 0zm2.5 22.498l.001-.002a.834.834 0 0 1 0 1.667H4.168a4.17 4.17 0 0 1-4.166-4.166V4.165A4.17 4.17 0 0 1 4.168-.001h26.664a4.17 4.17 0 0 1 4.166 4.166v13.333a.834.834 0 0 1-1.667 0V8.332H1.667v15.833c0 1.378 1.121 2.5 2.5 2.5h11.665zM4.165 1.666a2.502 2.502 0 0 0-2.5 2.5v2.5H33.33v-2.5c0-1.378-1.12-2.5-2.5-2.5H4.166zm35.418 30.03l.002-.002a.83.83 0 0 1 .305 1.136l-2.499 4.33a.821.821 0 0 1-.506.388.85.85 0 0 1-.633-.085l-1.324-.766a8.668 8.668 0 0 1-1.596.921v1.544c0 .46-.373.834-.834.834h-5a.834.834 0 0 1-.833-.834v-1.536a8.862 8.862 0 0 1-1.62-.924l-1.344.77a.836.836 0 0 1-1.136-.306l-2.5-4.33a.834.834 0 0 1 .305-1.138l1.327-.769a7.67 7.67 0 0 1 0-1.861l-1.325-.766a.832.832 0 0 1-.304-1.139l2.5-4.33a.836.836 0 0 1 1.137-.306l1.34.77a9.048 9.048 0 0 1 1.619-.924V20.83c0-.46.373-.834.833-.834h5c.46 0 .834.373.834.834v1.543a8.84 8.84 0 0 1 1.594.92l1.32-.766a.822.822 0 0 1 .634-.085.837.837 0 0 1 .506.389l2.5 4.33a.834.834 0 0 1-.305 1.138l-1.329.769a8.1 8.1 0 0 1 .002 1.86l1.33.768zm-3.22 3.91v.001l1.665-2.884-1.1-.635a.832.832 0 0 1-.401-.874c.075-.406.113-.815.113-1.215 0-.396-.038-.805-.115-1.215a.83.83 0 0 1 .402-.873l1.098-.635-1.666-2.885-1.085.631a.837.837 0 0 1-.96-.089 7.087 7.087 0 0 0-2.108-1.216.833.833 0 0 1-.542-.781v-1.27h-3.333v1.27a.844.844 0 0 1-.541.785c-.808.3-1.564.731-2.129 1.216a.832.832 0 0 1-.956.09l-1.105-.636-1.67 2.888 1.096.635a.835.835 0 0 1 .402.871c-.08.43-.12.83-.12 1.215.002.408.04.815.117 1.215a.832.832 0 0 1-.404.871l-1.096.635 1.669 2.889 1.11-.636a.831.831 0 0 1 .956.09c.565.486 1.321.916 2.126 1.216.327.12.544.432.544.781v1.27h3.333v-1.27c0-.348.217-.66.544-.781a6.962 6.962 0 0 0 2.106-1.216.837.837 0 0 1 .96-.09l1.09.632zm-6.39-9.774a4.17 4.17 0 0 1 4.166 4.166 4.17 4.17 0 0 1-4.166 4.166 4.17 4.17 0 0 1-4.166-4.166 4.17 4.17 0 0 1 4.166-4.166zm0 6.666c1.379 0 2.5-1.122 2.5-2.5 0-1.379-1.121-2.5-2.5-2.5a2.502 2.502 0 0 0-2.5 2.5c0 1.378 1.122 2.5 2.5 2.5z"}].concat([]))];return t&&s.unshift(Nd.a.createElement("title",null,t)),Nd.a.createElement.apply(Nd.a,["svg",a].concat(s))}m2t.propTypes={"aria-label":vc.a.string,className:vc.a.string,style:vc.a.object};var g2t=m2t,v2t=i("2ZL2"),y2t=i.n(v2t);var f2t=function(e){const{supportPageUrl:t,hasWebhooksFeature:i,addWebHookButton:n}=e;return Vu()("div",{className:y2t.a.infoContainer},void 0,Vu()(Mw,{iconComponent:g2t,title:Object(Ze.default)("Webhooks"),text:Object(Ze.default)('Hooked on home automation? With a Plex Pass, you can setup "webhooks" - Have Plex dim the lights when you start a movie, or send a tweet after you finish an episode of your favourite TV show.'),moreInfo:Vu()(vw,{message:Object(Ze.default)("See our {openLinkDocumentation}documentation{closeLinkDocumentation} for example projects that showcase the power of webhooks."),tags:[{open:"openLinkDocumentation",close:"closeLinkDocumentation",component:zp,kind:Pp,to:t,target:"_blank"}]})},void 0,i?n:Vu()(h2t,{origin:"webhooks",modalMetricsProperties:{context:"webhooks"}})))},b2t=i("M1AR"),I2t=i.n(b2t);const{Component:S2t,Fragment:C2t}=Nd.a;var M2t=Vu()(dh,{},void 0,Vu()(Jh,{}));var D2t=class extends S2t{constructor(e,t){super(e,t),this.onToggle=e=>{const t=this.state.openFormSectionIndex===e;this.props.onErrorDismiss(),this.props.onToggle(),this.setState({openFormSectionIndex:t?null:e})},this.onRemove=e=>{this.setState({removeWebhookModalURL:e,isRemoveWebhookModalOpen:!0})},this.onSubmit=(e,t)=>{e===t?(this.setState({openFormSectionIndex:null}),this.props.onToggle()):this.props.onSubmit(e,t)},this.onRemoveWebhookConfirmPress=e=>{const{removeWebhookModalURL:t}=this.state;this.props.onRemove(t)},this.onRemoveWebhookCancelPress=e=>{this.setState({isRemoveWebhookModalOpen:!1})},this.state={openFormSectionIndex:null,isRemoveWebhookModalOpen:!1}}componentWillReceiveProps(e){!e.isRemovingWebhooks&&this.props.isRemovingWebhooks&&this.setState({openFormSectionIndex:null,isRemoveWebhookModalOpen:!1});const t=e.webhooks===this.props.webhooks?-1:I.a.findIndex(e.webhooks,e=>""===e.url),i=-1!==t,n=!e.isUpdatingWebhooks&&!e.updateWebhooksError&&this.props.isUpdatingWebhooks;i?this.setState({openFormSectionIndex:t}):n&&this.setState({openFormSectionIndex:null})}render(){const{isUserRestricted:e,hasWebhooksFeature:t,isWebhooksPending:i,isWebhooksPopulated:n,webhooksError:a,isUpdatingWebhooks:s,isRemovingWebhooks:r,updateWebhooksError:o,webhooks:l,onAddWebhookPress:c}=this.props,{openFormSectionIndex:d,removeWebhookModalURL:u,isRemoveWebhookModalOpen:p}=this.state;if(e)return Vu()(vh,{title:Object(Ze.default)("You're not supposed to be here"),description:Object(Ze.default)("You don't have access to webhooks settings")});if(t&&i)return M2t;const h=l&&l.length,m=!t||!h,g=l&&I.a.find(l,e=>""===e.url),v=n&&l&&h<5&&!g,y=Vu()(hw,{kind:Pp,onPress:c},void 0,Object(Ze.default)("Add webhook"));return Vu()(F5,{metricsPage:zd.a,metricsPane:"webhooks"},void 0,m?Vu()(f2t,{supportPageUrl:Wp,hasWebhooksFeature:t,addWebHookButton:y}):Vu()(C2t,{},void 0,Vu()(L5,{},void 0,Object(Ze.default)("Webhooks")),Vu()("p",{},void 0,Object(Ze.default)("Plex Media Server will make requests to these webhooks on various media playback events.")),Vu()("p",{},void 0,Vu()(zp,{kind:Pp,to:Wp,target:"_blank"},void 0,Object(Ze.default)("Learn more"))),l.map((e,t)=>{const i=d===t;return Vu()(c2t,{index:t,url:e.url,isOpen:i,isUpdating:i&&s,isRemoving:i&&r,error:i?o:null,onRemove:this.onRemove,onToggle:this.onToggle,onSubmit:this.onSubmit},t)}),v?Vu()("div",{className:I2t.a.buttons},void 0,y):null),a?Vu()("div",{className:I2t.a.error},void 0,Object(Ze.default)("An error occurred retrieving webhooks. Please try again.")):null,Vu()(F_,{isConfirmButtonSpinning:r,isCancelButtonDisabled:r,isOpen:p,metricsPage:zd.z,title:Object(Ze.default)("Remove Webhook"),message:Object(Ze.default)("Plex will no longer post updates to {url}.",{url:u}),confirmLabel:Object(Ze.default)("Remove"),kind:Op,onConfirm:this.onRemoveWebhookConfirmPress,onCancel:this.onRemoveWebhookCancelPress}))}};const P2t=Nd.a.createElement,{Component:O2t}=Nd.a,j2t=Object(Wu.a)(lJ,Gw(wt.F),(e,t)=>({isUserRestricted:!!e.restricted,webhooks:e.webhooks,isWebhooksPending:e.isWebhooksPending,isWebhooksPopulated:e.isWebhooksPopulated,webhooksError:e.webhooksError,isUpdatingWebhooks:e.isUpdatingWebhooks,isRemovingWebhooks:e.isRemovingWebhooks,updateWebhooksError:e.updateWebhooksError,hasWebhooksFeature:t})),w2t={dispatchFetchWebhooks:kA,onAddWebhookPress:()=>RA(),onErrorDismiss:UA,onRemove:e=>VA(e),onSubmit:(e,t)=>zA({oldUrl:e,newUrl:t}),onToggle:()=>VA("")};var T2t=Object(Hu.b)(j2t,w2t)(class extends O2t{componentDidMount(){this.props.hasWebhooksFeature&&Object(Ti.a)(()=>{this.props.dispatchFetchWebhooks()}),this.props.onErrorDismiss()}render(){const e=this.props,t=Xe()(e,["dispatchFetchWebhooks"]);return P2t(D2t,t)}}),E2t=Vu()(Nh,{isAccountRequired:!0},void 0,Vu()(E8,{selectedKey:"webhooks"}),Vu()(T2t,{}));var N2t=_u.extend({component:()=>Vu()(kh,{},void 0,E2t)}),x2t=i("EXeW"),A2t=i.n(x2t),L2t=R.ItemView.extend({className:"announcement-list-item",template:A2t.a,ui:{thumb:".thumb",unread:".unread"},initialize:function(){this.image=new Wm({url:this.model.get("imageUrl")})},onRender:function(){this.image.setElement(this.ui.thumb),this.model.markAsRead()},onClose:function(){this.image.close()}}),k2t=Sm.extend({className:"list announcement-list",itemView:L2t}),R2t=i("6+d7"),z2t=i.n(R2t),U2t=R.Layout.extend({className:"container",template:z2t.a,regions:{list:".announcements-container"},initialize:function(){const e=Object(ne.c)("appStore").dispatch,t=Object(ne.c)("appModel").get("user");this.collection=t.get("desktop").get("announcements"),e(gQ({allowLightPreset:!1}))},onRender:function(){this.list.show(new k2t({collection:this.collection}))}});const{useState:V2t}=Nd.a;var B2t=Vu()(dh,{},void 0,Vu()(Jh,{}));var F2t=function(){const e=V2t({isAnnouncementsPending:!0,announcementsError:!1}),t=e[1],i=e[0];return $u(()=>{Object(wi.n)(Object(ne.c)("appModel")).get("announcements").fetch().then(()=>{t({isAnnouncementsPending:!1,announcementsError:!1})},()=>{t({isAnnouncementsPending:!1,announcementsError:!0})})}),i.isAnnouncementsPending?B2t:i.announcementsError?Vu()(vh,{title:Object(Ze.default)("Announcements are not available.")}):Vu()(EQ,{className:"scroll-container dark-scrollbar",view:U2t,viewOptions:{}})},H2t=Vu()(Nh,{isAccountRequired:!0},void 0,Vu()(F2t,{}));var _2t=_u.extend({component:()=>Vu()(Bh,{},void 0,H2t)}),W2t=R.Controller.extend({account:function(){U.a.trigger("show:view",new hJt)},onlineMediaSources:function(){U.a.trigger("show:view",new AJt)},webhooks(){U.a.trigger("show:view",new N2t)},usersSharing(e){U.a.trigger("show:view",new s2t({params:V.parseParams(e)}))},userSharingSettings(e){U.a.trigger("show:view",new b0t({userID:e}))},announcements:function(){U.a.trigger("show:view",new _2t)}}),Q2t=zu.extend({controller:new W2t,appRoutes:{"!/settings/account":"account","!/settings/webhooks":"webhooks","!/settings/users-sharing":"usersSharing","!/settings/users-sharing/(:userID)":"userSharingSettings","!/settings/online-media-sources":"onlineMediaSources","!/announcements":"announcements","!/account":"account","!/account/webhooks":"webhooks","!/account/online-media-sources":"onlineMediaSources","!/account/audio-subtitle":"account"}});function G2t(){return new dAt,new WYt,new mKt,new rYt,new R8,new Q2t,D.a.Deferred().resolve().promise()}function K2t(){Object(C.a)("[Servers] Initializing..."),function(){const e=Object(ne.c)("appModel"),t=e.get("servers"),i=e.get("cloudServer");i.addConnection(gme()),t.add(i)}(),function(e){const t=Object(ne.c)("appModel"),i=t.get("servers"),n=Mo.getActiveServers();if(!n)return;n.each(e=>{if(e.get("connections").length)try{const n=new an(e.toJSON(),{parent:t}),a=n.get("connections");a.reset(a.filter(e=>!e.get("relay"))),!n.get("isMobileServer")&&a.length>0&&(q2t(n),i.add(n))}catch(e){C.a.warn(e)}})}(),function(){const e=Object(ne.c)("appModel"),t=e.get("servers"),i=be.a.primaryServer;if(!i)return;const n=new an({machineIdentifier:i.machineIdentifier,friendlyName:i.name,isShared:i.shared,superToken:i.superToken,accessToken:i.accessToken,sourceTitle:i.sourceTitle},{parent:e});n.addConnection({scheme:i.scheme,address:i.address,port:i.port}),t.add(n)}(),function(){0;const e=Object(ne.c)("appModel"),t=e.get("servers"),i=new an({isBundled:!0},{parent:e});i.addConnection({scheme:window.location.protocol.replace(":",""),address:window.location.hostname,port:window.location.port,isBundled:!0}),q2t(i),t.add(i)}(),function(){if(!be.a.allowLoopbackDiscovery)return;const e=Object(ne.c)("appModel"),t=e.get("servers"),i=new an({},{parent:e});i.addConnection({scheme:"http",address:"127.0.0.1",port:"32400"}),q2t(i),t.add(i)}(),Object(ne.c)("serverManager").start(),Object(ne.c)("primaryServerManager").start(),Object(ne.c)("serverConnectionManager").start(),Object(ne.c)("companionServerManager").start(),Object(ne.c)("providerManager").start(),Object(ne.c)("serverUpdateManager").start(),Object(C.a)("[Servers] Finished initialization")}function Y2t(){Object(C.a)("[Servers] Clearing...");const e=Object(ne.c)("appModel"),t=e.get("servers");Object(ne.c)("serverManager").stop(),Object(ne.c)("primaryServerManager").stop(),Object(ne.c)("serverConnectionManager").stop(),Object(ne.c)("serverConnectionTestManager").reset(),Object(ne.c)("companionServerManager").stop(),Object(ne.c)("providerManager").stop(),Object(ne.c)("serverUpdateManager").stop(),t.uninitialize(),t.reset(),t.initialize(),e.unset("primaryServer"),e.unset("companionServer"),e.unset("transientServer")}function q2t(e){const t=e.get("connections").map(e=>e.get("uri"));Object(C.a)("[Servers]","Initialize server",e.get("accessToken")?"with token,":"without token,",I.a.compact([e.get("debugName"),e.get("machineIdentifier"),...t]).join(", "))}function Z2t(){return K2t(),U.a.on("clear:servers",Y2t),U.a.on("init:servers",K2t),D.a.Deferred().resolve().promise()}var J2t=i("zBfM"),X2t=i.n(J2t);var $2t=Xx.extend({className:"alert-bar notify",template:X2t.a,events:I.a.extend({"click .info-link":"onInfoClick"},Xx.prototype.events),initialize(){this.listenTo(this.model,"change:read",this.hide)},serializeData(){const e=this.model.get("content");return{content:xke(e),url:this.model.get("url")}},onInfoClick(e){this.hide(),this.model.markAsRead()},onCloseClick(e){Xx.prototype.onCloseClick.apply(this,arguments),this.model.markAsRead()}});var e4t=Ee.a.extend({mixins:Ne.a,announcementsUpdateDelay:36e5,initialize(){this.user=Object(ne.c)("appModel").get("user"),I.a.bindAll(this,"updateAnnouncements","onSignedInChange")},start(){const e=I.a.debounce(this.onAnnouncementsChange),t=I.a.debounce(this.onSignedInChange);this.listenTo(this.user,"change:signedIn",t),this.listenTo(this.user.get("desktop"),{"change:announcements":e,"change:announcements.reset":e,"change:announcements.update":e,"change:announcements.change:read":e,"change:announcements.change:priority":e}),this.user.populate().fail(t)},stop(){window.clearTimeout(this.announcementsUpdateTimeout),this.user.get("desktop").get("announcements").clear(),this.stopListening()},updateAnnouncements(){this.user.get("restricted")||this.user.get("anonymous")||!this.user.server.get("isConnected")||(this.user.get("desktop").get("announcements").fetch(),this.announcementsUpdateTimeout&&window.clearTimeout(this.announcementsUpdateTimeout),this.announcementsUpdateTimeout=window.setTimeout(this.updateAnnouncements,this.announcementsUpdateDelay))},onSignedInChange(){this.user.get("desktop").get("announcements").clear(),this.updateAnnouncements()},onAnnouncementsChange(){if(this.user.get("isSignedIn")&&!this.user.get("restricted")){const e=this.user.get("desktop").get("announcements").findWhere({style:"priority",read:!1});e&&U.a.trigger("show:bar","alertbar",new $2t({model:e}))}}});const t4t=["plex_tv_auth","plex_tv_lang"];var i4t=Ee.a.extend({mixins:Ne.a,initialize(e){this.user=e,this.debouncedChangeTimeout=null},start(){const e=this.user;this.previousUserID=e.id,this.listenTo(e,{change:this.onUserChange,"change:isLocked":this.onIsLockedChange,"change:hasInvalidToken":this.onHasInvalidTokenChange,"change:isSignedIn":this.onIsSignedInChange}),this.listenTo(U.a,{"cloudServer:notifyAccountChange":this.onNotifyAccountChange});const t=e.get("isLocked"),i=e.get("hasInvalidToken"),n=e.get("isSignedIn");t&&this.onIsLockedChange(e,t),i&&this.onHasInvalidTokenChange(e,i),n&&this.onIsSignedInChangeHandleToken(e,n);const a=Object(ne.c)("settingFinder").find("autoLogin")||e.get("isUnlocked");Object(C.a)("[UserManager] autoLogin",a),a||this._lockIfInHome()},handleInvalidToken(){var e=new vn({title:Object(Ze.default)("Invalid Credentials"),message:Object(Ze.default)("Your credentials have expired. Please sign in again."),confirmLabel:Object(Ze.default)("OK"),cancelLabel:Object(Ze.default)("Ignore")});e.promise.done(()=>{U.a.trigger("navigate","login",{silent:!0})}),U.a.trigger("show:modal",e)},_lockIfInHome(){const e=Mo.getActiveUser();e&&e.get("home")&&this.user.set("lockState",Do.Locked)},_updateUser(e,t){if(t){const i={};t.id!==e.id&&(i.included=["experienceSettings"]),t.copyFromModel(e,i)}else{Mo.get("users").add(e.toJSON(),{parse:!0})}Mo.debouncedSave()},onHasInvalidTokenChange(e,t){t&&this.handleInvalidToken()},onUserChange(e){this.debouncedChangeTimeout&&window.clearTimeout(this.debouncedChangeTimeout);const t=Mo.getActiveUser();this.debouncedChangeTimeout=window.setTimeout(this._updateUser.bind(this,e,t),0)},onIsSignedInChange(e,t){this.onIsSignedInChangeHandleToken(e,t),this.onIsSignedInChangeHandleSyncSettings(e,t),this.onIsSignedInChangeHandlePopulateUser(e,t)},onIsSignedInChangeHandleToken(e,t){if(this.stopListening(e,"change:hasInvalidToken",this.onHasInvalidTokenChange),t){if(t&&e.get("isLocked")&&(this.previousUserID=e.id),t&&e.get("restricted")&&document.cookie.split(";").forEach(e=>{const[t]=e.trim().split("=");t&&!t4t.includes(t)&&(document.cookie=t+"=; Domain=plex.tv; Path=/; Expires=Thu, 01 Jan 1970 00:00:01 GMT;",document.cookie=t+"=; Domain=.plex.tv; Path=/; Expires=Thu, 01 Jan 1970 00:00:01 GMT;",document.cookie=t+"=; Domain=.app.plex.tv; Path=/; Expires=Thu, 01 Jan 1970 00:00:01 GMT;")}),e.get("isFullUser")&&t){const t=e.server.getXHROptions("/api/claim/subscribe");D.a.ajax(Object.assign({},t,{type:"POST"}))}}else e.get("hasInvalidToken")&&this.handleInvalidToken()},onIsSignedInChangeHandleSyncSettings(e,t){if(!t)return;const i=Object(ne.c)("appStore").dispatch,n=e.get("settings"),a=e.get("experienceSettings"),s=n.reduce((e,t)=>(t.get("isDirty")&&e.push(t.get("id")),e),[]);a.get("isDirty")&&i(pL()),s.length&&i(uL(s))},onIsSignedInChangeHandlePopulateUser(e,t){if(!t){return void e.get("features").clear()}const i=Object(ne.c)("appStore").dispatch,n={reset:!0};e.get("homeDetails").populate(n),e.get("homeUsers").populate(n);const a=e.get("desktop");a.get("cloudCompanions").populate(n),a.get("devices").populate(n),a.get("invites").populate(n),a.get("socialNetworks").populate(n),i(gLe()),i(NA())},onIsLockedChange(e,t){t&&(this.previousUserID=e.id,this.isPreviousUserRemote=e.get("isRemote"),this.listenTo(e,"change:isUnlocked",this.onNextIsUnlockedChange),U.a.trigger("show:modal",new OA({isForced:!0})))},onNextIsUnlockedChange(e,t){t&&(this.stopListening(e,"change:isUnlocked",this.onNextIsUnlockedChange),window.setTimeout(()=>{const e=this.previousUserID,t=e&&e===this.user.id?"navigate:refresh":"navigate:refresh:dashboard";U.a.trigger(t)},0))},onNotifyAccountChange(){this.user.fetch().then(()=>{Object(C.a)("[User] updated account following account change notification")},e=>{C.a.error("[User] Unable to update account following account change notification",e)})}});function n4t(){let e=ie(Mo.populate());return e=e.then(()=>De.get("myPlexAccessToken")),e=e.then(e=>{const t=Object(ne.c)("appModel").get("user"),i=Mo.get("users").findWhere({authToken:e});i&&(t.activateStoredUser(i.id),i.copyToModel(t))},()=>{const e=Object(ne.c)("appModel").get("user");e.activateStoredUser(0);const t=Mo.getActiveUser();t&&t.copyToModel(e)}),ie(e).then(()=>{const e=Object(ne.c)("appModel").get("user");new i4t(e).start();(new e4t).start()})}function a4t(){return Object(ne.c)("watchTogetherRoomsManager").start(),Object(ne.c)("syncplaySessionManager").start(),D.a.Deferred().resolve().promise()}function s4t(){U.a.trigger("initialize:app");let e=function(e={},t={}){const i=new RegExp(J("-plex-4.51.3-6ef4412")),n=Object.assign({allowUrls:[i],debug:!1,dsn:"https://54c24aee6403406294dd6094728f20e0@o17675.ingest.sentry.io/5594889",environment:"public",ignoreErrors:["ResizeObserver","songId",/^Non-Error promise rejection captured/],integrations:[new Y.a.Breadcrumbs({fetch:!1,xhr:!1})],release:"desktop-desktop@4.51.3-6ef4412",sampleRate:.05,version:"4.51.3"},e),a=ee.reduce((e,t)=>(e.hasOwnProperty(t)||(e[t]=$.prop(t)),e),t);return q.a(n),Object.entries(a).forEach(([e,t])=>{Z.b(e,t)}),D.a.Deferred().resolve().promise()}();return e=e.then(Ru),e=e.then(wl),e=e.then(hd),e=e.then(Ce),z.a.hasServiceWorker&&(e=e.then(function(){Object(C.a)("[Workers] Initializing...");const e=D.a.Deferred();return Object(ne.c)("serviceWorker").register().then(t=>{Object(C.a)("[Workers] Finished initialization"),e.resolve()}).catch(t=>{Object(C.a)("[Workers] Failed initialization: ",t),e.resolve()}),e.promise()}())),e=e.then(Te),e=e.then(Cd),e=e.then(K),e=e.then(zl),e=e.then(n4t),e=e.then(Ou),be.a.allowCloudPubSub&&(e=e.then(()=>function(){let e;return z.a.hasWebSocket&&(e=new We({name:"CloudServerEventManager",appModel:Object(ne.c)("appModel"),isValidServer:Qe,supportsLongPolling:!0,allowMultipleConnections:!0,ServerEventConnection:Fe,ServerRetryManager:_e}),e.start()),D.a.Deferred().resolve().promise()}())),e=e.then(xu),e=e.then(fe),e=e.then(Z2t),e=e.then(Tu),e=e.then(Rl),e=e.then(Du),e=e.then(Pd),e=e.then(ye),e=e.then(Su),e=e.then(G2t),e=e.then(a4t),e}var r4t=i("3O+N"),o4t=i.n(r4t),l4t=i("N85i"),c4t=i.n(l4t),d4t=i("fz6g"),u4t=i.n(d4t),p4t=i("fbCT"),h4t=i.n(p4t),m4t=i("P9eC"),g4t=i.n(m4t),v4t=i("Kjiw"),y4t=i.n(v4t),f4t=i("TKUo"),b4t=i.n(f4t),I4t=i("mUut"),S4t=i.n(I4t);o4t.a.registerPartial("setting",b4t.a),o4t.a.registerPartial("lockableTagInput",g4t.a),o4t.a.registerPartial("lockableTextInput",y4t.a),o4t.a.registerPartial("lockableNumericInput",h4t.a),o4t.a.registerPartial("textInput",S4t.a),o4t.a.registerPartial("autocompleteTextInput",c4t.a),o4t.a.registerPartial("connectError",u4t.a);var C4t=i("mPz0"),M4t=i.n(C4t);const D4t=new M4t.a({attributePrefix:"_",emptyNodeForm:{},ignoreRoot:!0});var P4t={writeXml:function(e){return'<?xml version="1.0"?>'+D4t.js2xml(e)}};function O4t(e){e.forEach(e=>{e.resolve()}),e.length=0}function j4t(e){e.forEach(e=>{e.reject()}),e.length=0}var w4t=Ee.a.extend({mixins:[Ne.a],name:"MediaServerCompanionProxy",commandID:0,initialize(){I.a.bindAll(this,"_checkPollRequestStatus","_pickProxyServer","_poll","_repoll","_sendResponse","_unregisterPlayer","onPollSuccess","onPollError"),this._debounceUnregisterPlayer=I.a.debounce(this._unregisterPlayer,2e3),this._debouncePickProxyServer=I.a.debounce(this._pickProxyServer,2e3),this._deepLinkDeferred=D.a.Deferred().resolve(),this._playerRegistrationDeferreds=[],this._playerUnregistrationDeferreds=[],this._pollRetryDelay=1e3},getDeepLink(){return this._deepLinkDeferred.promise()},publish(e){if(!this.proxyServer)return;if(this.timelineInflight)return void(this._pendingTimeline=e);this.timelineInflight=!0;const t=P4t.writeXml(e),i=I.a.result(this.proxyServer,"url"),n=this.proxyServer.getXHROptions(i+"player/proxy/timeline?commandID="+this.commandID);n.data="timeline="+encodeURIComponent(t),n.method="POST",n.contentType="application/x-www-form-urlencoded",D.a.ajax(n).always(()=>{this.timelineInflight=!1;const e=this._pendingTimeline;e&&(delete this._pendingTimeline,this.publish(e))})},subscribe(e){this.started||(this.callback=e,this.started=!0,this.appModel=Object(ne.c)("appModel"),this.listenTo(this.appModel,"change:companionServer",this._debouncePickProxyServer),this._debouncePickProxyServer(this.appModel,this.appModel.get("companionServer")))},unsubscribe(){if(!this.started)return;const e=this.proxyServer;this.started=!1,this.stopListening(this.servers,"change:connected",this._debouncePickProxyServer),this.callback=null,this.proxyServer=null,e&&this._debounceUnregisterPlayer(e),this._clearPollRequestStatusCheck(),this.pollRequest&&(this.pollRequest.abort(),this.pollRequest=null)},unregisterPlayer(e,t){this.cloudServer=e,this.clientID=t;const i=D.a.Deferred();return this._playerUnregistrationDeferreds.push(i),i.promise()},registerPlayer(e,t){this.cloudServer=e,this.clientID=t;const i=D.a.Deferred();return this._playerRegistrationDeferreds.push(i),i.promise()},debugStatus(){const e=this.proxyServer;return e?"Proxied: "+e.get("debugName"):void 0},_pickProxyServer(e,t){this.started&&(this.proxyServer=t,this.proxyServer&&(this._registerServer(),this._poll()))},_registerServer(){if(!this.proxyServer||!this.cloudServer||!this.clientID)return;const e=this.cloudServer.getXHROptions("devices/"+this.clientID,{method:"POST",headers:{"X-Plex-Provides":be.a.allowCloudPubSub?"client,player,pubsub-player":"client,player"},data:{_method:"PUT",proxiedBy:this.proxyServer.id}});D.a.ajax(e).done(()=>{O4t(this._playerRegistrationDeferreds)}).fail(()=>{j4t(this._playerRegistrationDeferreds)})},_unregisterPlayer(e){if(!e||!this.cloudServer||!this.clientID)return;const t=this.cloudServer.getXHROptions("/devices/"+this.clientID,{method:"POST",headers:{"X-Plex-Provides":"client"},data:{_method:"PUT"}});D.a.ajax(t).done(()=>{O4t(this._playerUnregistrationDeferreds)}).fail(()=>{j4t(this._playerUnregistrationDeferreds)})},_poll(){if(!this.started)return;const e=this.proxyServer;if(!e)return void C.a.info("[Companion] No proxy server available to long poll");if(this._isPollRequestPending())return void C.a.info("[Companion] Long poll already open to ",e.get("debugName"));this._clearPollRequestStatusCheck(),this._checkPollRequestStatusLater(),this._clearRepollLater();const t=e.getXHROptions("/player/proxy/poll",{data:{deviceClass:"pc",protocolVersion:"3",protocolCapabilities:"timeline,playback,navigation,mirror,playqueues",timeout:1}});C.a.info("[Companion] Opening long poll to %s at %s",e.get("debugName"),t.url),this.pollRequest=D.a.ajax(t).done(this.onPollSuccess).fail(this.onPollError)},_repoll(){this._clearPollRequestStatusCheck(),this._clearRepollLater(),this._poll()},_isPollRequestPending(){return!!this.pollRequest&&"pending"===this.pollRequest.state()},_checkPollRequestStatus(){this._isPollRequestPending()&&this.proxyServer&&(C.a.info("[Companion] Poll connection successfully opened with %s",this.proxyServer.get("debugName")),this._pollRetryDelay=1e3)},_checkPollRequestStatusLater(){this._pollRequestStatusCheckTimeout=window.setTimeout(this._checkPollRequestStatus,5e3)},_clearPollRequestStatusCheck(){this._pollRequestStatusCheckTimeout=window.clearTimeout(this._pollRequestStatusCheckTimeout)},_repollLater(){this._pollRetryTimeout=window.setTimeout(this._repoll,this._pollRetryDelay)},_clearRepollLater(){this._pollRetryTimeout=window.clearTimeout(this._pollRetryTimeout)},_processCommand(e){if(!this.started)return;const t={path:e.path,commandID:e.commandID,supportsTimeline:!0,query:{key:[e.queryKey],providerIdentifier:[e.queryProviderIdentifier],offset:[e.queryOffset],mediaIndex:[e.queryMediaIndex],containerKey:[e.queryContainerKey],playQueueID:[e.queryPlayqueueid],type:[e.queryType],volume:[e.queryVolume],repeat:[e.queryRepeat],shuffle:[e.queryShuffle],autoPlay:[e.queryAutoPlay],subtitleColor:[e.querySubtitleColor],subtitlePosition:[e.querySubtitlePosition],subtitleSize:[e.querySubtitleSize],subtitleOffset:[e.querySubtitleOffset],audioStreamID:[e.queryAudioStreamID],subtitleStreamID:[e.querySubtitleStreamID],token:[e.queryToken],machineIdentifier:[e.queryMachineIdentifier],protocol:[e.queryProtocol],address:[e.queryAddress],port:[e.queryPort],text:[e.queryText],field:[e.queryField]}},i="resolved"!==this._deepLinkDeferred.state();this.callback(t,i).always(e=>{i&&e&&e.deferredAction&&this._deepLinkDeferred.resolve(e.deferredAction),this._sendResponse(e.controllerResponse)})},_sendResponse(e){if(!this.proxyServer)return;const t=parseInt(e.commandID,10);this.commandID<t&&(this.commandID=t);const i="/player/proxy/response?commandID="+e.commandID,n=this.proxyServer.getXHROptions(i,{method:"POST",contentType:"application/x-www-form-urlencoded",data:{response:e.body}});D.a.ajax(n)},onPollSuccess(e){const t=e&&Se.a.parseXML(e),i=t&&t.Command;if(!e)return void this._repoll();if(t?i||C.a.warn("[Companion] Poll succeeded without a Command response",t):C.a.warn("[Companion] Poll succeeded without a parseable response",e),!i)return void this.onPollError();this._repoll();(Array.isArray(i)?i:[i]).forEach(e=>{try{C.a.info("[Companion] Received %s from %s",e.path,e.deviceName),this._processCommand(e)}catch(t){C.a.warn("[Companion] encountered %s while processing %s",t.message,e)}},this)},onPollError(e={}){const t=this.proxyServer;if(!this.started||!t)return;this._clearPollRequestStatusCheck(),this._clearRepollLater(),this._repollLater(),this._pollRetryDelay*=2;const i=t.get("debugName");C.a.warn("[Companion] Poll failed to %s",i)}});var T4t=Wr.extend({name:"SessionStatsModel",storageKey:"sessionstats",syncedAttrs:{heartbeatTime:Ae.a.integer,lastPlayingHeartbeatTime:Ae.a.integer,playbackCount:Ae.a.integer,playbackTime:Ae.a.integer,sessionId:Ae.a.string,anonymousSessionId:Ae.a.string,startTime:Ae.a.integer,lastInteractionTime:Ae.a.integer},defaults:{playbackCount:0,playbackTime:0}}),E4t=i("FbYo"),N4t=i("PE3u");var x4t=Object(N4t.a)((function(e={},t){const i=function(e){const{mimeType:t,codecs:i}=e,n=Xe()(e,["mimeType","codecs"]);if(!t)return"";const a=[t];if(i&&a.push('codecs="'+i+'"'),n)for(const e in n)a.push(e+'="'+n[e]+'"');return a.join("; ")}(e),n=Object(ju.a)("video",!0),a=n.canPlayType(i);return Object(ju.b)(n),e.codecs?"probably"===a:"probably"===a||"maybe"===a})),A4t=i("Vx1m");const L4t=Nd.a.createElement,{Component:k4t,Fragment:R4t}=Nd.a;function z4t(e){return"progressive"===e.deliveryType&&x4t(e)}class U4t extends k4t{constructor(e,t){super(e,t),this._adPod=void 0,this._adPodPromise=void 0,this._isAdLoaded=void 0,this._lastOnPositionMillisecondsChange=void 0,this._lastPositionMilliseconds=void 0,this._loadTimeoutID=void 0,this._mediaComponent=void 0,this._playbackTimeoutID=void 0,this._vmapClient=void 0,this.bufferingDetectionLimit=void 0,this._onLoadTimeout=()=>{this._isAdLoaded||this.onError(E4t.b.VAST_MEDIA_FILE_TIMEOUT)},this._onPlaybackTimeout=()=>{this.onError(E4t.b.VAST_MEDIA_FILE_TIMEOUT)},this.onMediaError=()=>{this.onError(E4t.b.VAST_PROBLEM_DISPLAYING_MEDIA)},this.onEnd=()=>{this._lastPositionMilliseconds=null,this._lastOnPositionMillisecondsChange=null,this._clearPlaybackTimeout(),this._playNextAdOrResume()},this.onError=(e=E4t.b.UNDEFINED_ERROR)=>{this._adPod&&this._adPod.error(e),this._playNextAdOrResume()},this.onPositionMillisecondsChange=e=>{this._isAdLoaded||(this._isAdLoaded=!0),e!==this._lastPositionMilliseconds&&(this._setPlaybackTimeout(),this._lastPositionMilliseconds=e),this._adPod?this._adPod.progress(e):C.a.error("[AdPlayer] Unexpected position update without an adPod"),(!this._lastOnPositionMillisecondsChange||e>=this._lastOnPositionMillisecondsChange+0)&&(this._lastOnPositionMillisecondsChange=e,this.props.onPositionMillisecondsChange(e))},this._vmapClient=null,this._adPod=null,this._adPodPromise=null,this._isAdLoaded=!1,this._loadTimeoutID=null,this._playbackTimeoutID=null,this._lastPositionMilliseconds=null,this._lastOnPositionMillisecondsChange=null,this._mediaComponent=Object(ne.c)("mediaComponent"),this.bufferingDetectionLimit=be.a.bufferingDetectionLimit}componentDidMount(){const{url:e,playerPositionSeconds:t,followsManualRedirect:i}=this.props;this._vmapClient=new E4t.a({url:new window.URL(e),canPlayMedia:z4t,followsManualRedirect:i}),this._handlePositionUpdate(1e3*t,!0)}componentDidUpdate(e,t){const{ad:i,playerPositionSeconds:n,isMiniPlayer:a,isFullscreen:s,isPaused:r,isIdle:o,url:l,followsManualRedirect:c,volume:d}=this.props;l!==e.url&&(this.onEnd(),delete this._adPodPromise,this._adPod&&(this._adPod.dispose(),delete this._adPod),this._vmapClient&&this._vmapClient.dispose(),this._vmapClient=new E4t.a({url:new window.URL(l),canPlayMedia:z4t,followsManualRedirect:c}));const u=!o&&e.isIdle;if(u||n!==e.playerPositionSeconds){const t=n-e.playerPositionSeconds,i=t<0||t>1;this._handlePositionUpdate(1e3*n,i||u)}this._adPod&&i&&(a!==e.isMiniPlayer&&(this._adPod.expanded=!a),s!==e.isFullscreen&&(this._adPod.fullscreen=s),d!==e.volume&&(this._adPod.muted=0===d),r!==e.isPaused&&(this._adPod.paused=r,r?this._clearPlaybackTimeout():this._setPlaybackTimeout()))}componentWillUnmount(){this._loadTimeoutID&&(this._loadTimeoutID=window.clearTimeout(this._loadTimeoutID)),this._playbackTimeoutID&&(this._playbackTimeoutID=window.clearTimeout(this._playbackTimeoutID)),delete this._adPodPromise,this._adPod&&(this.props.ad&&!this._isAdLoaded&&this._adPod.error(E4t.b.VAST_MEDIA_FILE_TIMEOUT),this._adPod.dispose(),delete this._adPod),this._vmapClient&&this._vmapClient.dispose()}_handlePositionUpdate(e,t){const{isIdle:i}=this.props;if(!i)if(t&&this._vmapClient&&!this._adPodPromise&&!this.props.ad){const t=this._vmapClient.resolveAdPod(e);this._adPodPromise=t,t.then(e=>{let i;t===this._adPodPromise&&e&&(this._adPod=e,i=e.next()),i?this._playAd(i,e):(this._adPod&&(this._adPod.dispose(),delete this._adPod),delete this._adPodPromise,this.onEnd())},()=>{delete this._adPodPromise,this.onEnd()})}else if(this._adPod){if(this._adPod.timeOffset>e)return;const t=this._adPod.next();t?this._playAd(t,this._adPod):(this._adPod.dispose(),delete this._adPod,delete this._adPodPromise)}else if(!this._adPodPromise&&this._vmapClient){const t=this._vmapClient.resolveNextAdPod(e);this._adPodPromise=t,t.then(e=>{t===this._adPodPromise&&(this._adPod=e,e||delete this._adPodPromise)},()=>{t===this._adPodPromise&&delete this._adPodPromise})}}_playAd(e,t){const{volume:i,isMiniPlayer:n,isFullscreen:a,isPaused:s}=this.props;t.expanded=n,t.fullscreen=a,t.muted=0===i,t.paused=s,this._isAdLoaded=!1,this._loadTimeoutID=window.setTimeout(this._onLoadTimeout,8e3),this.props.onAdChange(e)}_playNextAdOrResume(){const e=this._adPod?this._adPod.next():null;e?this._playAd(e,this._adPod):(this._adPod&&this._adPod.dispose(),delete this._adPod,delete this._adPodPromise,this.props.onAdChange(e))}_setPlaybackTimeout(){this._clearPlaybackTimeout(),this.props.isPaused||(this._playbackTimeoutID=window.setTimeout(this._onPlaybackTimeout,8e3))}_clearPlaybackTimeout(){this._playbackTimeoutID=window.clearTimeout(this._playbackTimeoutID)}render(){var e,t,i,n;const a=this.props,{ad:s,isMiniPlayer:r,isPaused:o,positionSeconds:l,playerPositionSeconds:c,statusOverlayClassName:d}=a,u=Xe()(a,["ad","url","isMiniPlayer","isPaused","positionSeconds","playerPositionSeconds","statusOverlayClassName"]),p=this._adPod?Math.round((this._adPod.timeOffset-1e3*c)/1e3):A4t.d,h=!!s,m=null!=(e=null==(t=this._adPod)?void 0:t.hasAnyCreative)&&e&&!r,g=h?this._mediaComponent.getComponent({protocol:"http",isDirectPlay:!0}):null;return Vu()(R4t,{},void 0,h?L4t(g,tp()({},u,{key:s.url.href,bufferingDetectionLimit:this.bufferingDetectionLimit,positionSeconds:l,paused:o,src:s.url.href,mediaType:Go.e,onPositionMillisecondsChange:this.onPositionMillisecondsChange,onEnd:this.onEnd,onError:this.onMediaError})):null,m?Vu()(A4t.a,{className:d,displayIndex:null!=(i=null==s?void 0:s.displayIndex)?i:A4t.b,displayTotal:null!=(n=null==s?void 0:s.displayTotal)?n:A4t.c,secondsUntilAd:p}):null)}}U4t.defaultProps={isIdle:!1,followsManualRedirect:!1};var V4t=U4t;var B4t=Object(Hu.b)((function(){return Object(Wu.a)(hge(["isPaused","positionSeconds","durationSeconds"]),nme,(e,{volume:t})=>t,(e,t,i)=>({volume:t||i||0,isPaused:e.isPaused,playerPositionSeconds:e.positionSeconds,playerDurationSeconds:e.durationSeconds}))}),(function(e,t){const{playerType:i}=t;return{onBufferingChange(t){e(Object(Boe.N)({playerType:i,isBuffering:t}))},onPause(){e(Object(Boe.s)({playerType:i,isApplicationInitiated:!0}))},onPlay(){e(Object(Boe.t)({playerType:i,isApplicationInitiated:!0}))},onMetricsPlayerChange(t){e(Object(xT.u)({playerType:i,metricsPlayer:t}))}}}))(V4t),F4t=i("yXPU"),H4t=i.n(F4t);function _4t(e){return new Promise((t,i)=>{function n(e){var t;e&&(null==(t=r.parentNode)||t.removeChild(r));r.removeEventListener("load",a),r.removeEventListener("error",s)}function a(){n(!1),t()}function s(){n(!0),i(new Error("Unable to load: "+e))}var r=document.createElement("script");try{!function(e){var t=document.getElementsByTagName("SCRIPT");return Array.from(t).some(t=>t.src===e)}(e)?(r.addEventListener("error",s),r.addEventListener("load",a),r.type="text/javascript",r.src=e,document.body.appendChild(r)):t()}catch(e){n(!0),i(e)}})}var W4t=i("tRmQ"),Q4t={default:B4t},G4t=Nd.a.lazy(H4t()((function*(){try{var e=Object(W4t.a)()?"//imasdk.googleapis.com/js/sdkloader/ima3_debug.js":"//imasdk.googleapis.com/js/sdkloader/ima3.js";Object(W4t.a)()&&Object(C.a)("[IMA] SDK loading from",e),yield _4t(e)}catch(e){return C.a.error("[IMA] SDK load failed",e),Q4t}try{return Object(W4t.a)()&&Object(C.a)("[IMA] SDK %s loaded",window.google.ima.VERSION),Object(W4t.a)()&&Object(C.a)("[IMA] Enabling VPAID"),window.google.ima.settings.setVpaidMode(window.google.ima.ImaSdkSettings.VpaidMode.ENABLED),Object(W4t.a)()&&Object(C.a)("[IMA] Loading ImaPlayer"),yield i.e(1).then(i.bind(null,"7qL+"))}catch(e){return C.a.error("[IMA] Player failed to initialize",e),Q4t}})));var K4t={getComponent:()=>Object(gT.a)(Object(ne.c)("appModel"),wt.G)?G4t:B4t};const Y4t=(...e)=>e.reduce((e,t)=>e.concat("string"==typeof t?t.split(","):t),[]).sort().join(","),q4t=Y4t("stop","audioStream","subtitleStream","volume"),Z4t=Y4t("audioStream","autoPlay","playPause","repeat","seekTo","shuffle","skipNext","skipPrevious","stepBack","stepForward","stop","subtitleStream","volume");var J4t={videoCloudLiveTV:q4t,video:Y4t(Z4t,"subtitleColor","subtitleOffset","subtitlePosition","subtitleSize"),music:Y4t("playPause","repeat","seekTo","shuffle","skipNext","skipPrevious","stop","volume"),photo:Y4t("playPause","seekTo","skipNext","skipPrevious","stop")};function X4t(){return x4t({mimeType:"application/x-mpegURL"})}var $4t=i("nHuJ");const e3t=Nd.a.lazy(()=>Promise.all([i.e(10),i.e(8)]).then(i.bind(null,"redb"))),t3t=Nd.a.lazy(()=>Promise.all([i.e(11),i.e(9)]).then(i.bind(null,"5+/v"))),i3t=Nd.a.lazy(()=>i.e(7).then(i.bind(null,"A4/0")));var n3t={getComponent:e=>e?"parsec"===e.protocol?i3t:"dash"===e.protocol||e.drm===Ft.FAIRPLAY&&"hls"===e.protocol&&X4t()?t3t:"hls"===e.protocol&&X4t()?$4t.a:"hls"===e.protocol?e3t:$4t.a:$4t.a};var a3t=function(){const e=window.MediaSource||window.WebkitMediaSource,t=window.SourceBuffer||window.WebKitSourceBuffer;return!(!e||"function"!=typeof e.isTypeSupported||t&&(!t.prototype||"function"!=typeof t.prototype.appendBuffer||"function"!=typeof t.prototype.remove))};var s3t=function(e){return e?e.charAt(0).toLowerCase()+e.slice(1):""};const r3t={videoResolution:!0},o3t={width:1920,height:1080,bitDepth:8,frameRate:30};function l3t(e,t){return I.a.pick(e,(e,i)=>0===i.indexOf(t))}function c3t(e,t,i,n){const a=Object.assign({},l3t(e,n),l3t(t,n));return I.a.map(a,(e,a)=>({codec:I.a.has(t,a)?i:null,name:s3t(a.slice(n.length)),value:e}))}var d3t=function(e){const t=e.finalProfile.directStream.video,i=Object(oM.a)(e.media),n=i&&i.codec,a=t.codecs&&t.codecs[n],s=c3t(t,a,n,"min");let r=c3t(t,a,n,"max");if(!i)return[];const o={width:i.width<=o3t.width,height:i.height<=o3t.height,bitDepth:i.bitDepth<=o3t.bitDepth,frameRate:i.frameRate<=o3t.frameRate};r=r.filter(e=>{return!0!==o[e.name]&&!0!==r3t[e.name]&&(t=e.name,i=e.value,!o3t[t]||o3t[t]<i);var t,i});const l=[...s.map(({codec:e,name:t,value:i})=>function({codec:e,name:t,value:i}){return"add-limitation(scope=videoCodec&scopeName="+encodeURIComponent(e||"*")+"&type=lowerBound&name=video."+encodeURIComponent(t)+"&value="+encodeURIComponent(i)+"&replace=true)"}({codec:e,name:t,value:i})),...r.map(({codec:e,name:t,value:i})=>function({codec:e,name:t,value:i}){return"add-limitation(scope=videoCodec&scopeName="+encodeURIComponent(e||"*")+"&type=upperBound&name=video."+encodeURIComponent(t)+"&value="+encodeURIComponent(i)+"&replace=true)"}({codec:e,name:t,value:i}))];return a&&"h264"!==n&&l.push(function(e){const{protocol:t,codec:i}=e;return"append-transcode-target-codec(type=videoProfile&context=streaming&protocol="+encodeURIComponent(t)+"&videoCodec="+encodeURIComponent(i)+")"}({protocol:e.protocol,codec:n})),l};function u3t(e=o7.prop("video")){var t,i,n,a,s,r,o;const l=(null==(t=e.directPlay)||null==(i=t.mp4)||null==(n=i.video)||null==(a=n.codecs)?void 0:a.hevc)||(null==(s=e.directStream)||null==(r=s.video)||null==(o=r.codecs)?void 0:o.hevc);return(null==l?void 0:l.maxBitDepth)>=10}var p3t=i("Cudw"),h3t=i("vkXu");function m3t(e){const{mediaItems:t,transcodeServer:i,metadataItem:n,canPlayAdaptiveBitrate:a,settings:s,availableQualities:r}=e,o=function(e){return Math.max.apply(Math,e.map(e=>e.bitrate))}(t),l=i.get("maxUploadBitrate"),c=i.get("isPrivateConnection"),d=a&&s.get("autoAdjustQuality");let{localQualityDefault:u}=s;void 0===u&&(u=ol.a.ORIGINAL);const p=Object(h3t.a)(n,c),h=Object(p3t.a)(n,c),m=ol.a.getQualityByIndex(s.get(h));if(p){const e=s.get("useHomeStreamingRecommendedSettings")?u:m.index,t=ol.a.getQualityByIndex(e),i=ol.a.isExplicitQuality(t.index)&&g3t(t.bitrate,o);return t.index===ol.a.ORIGINAL||i?ol.a.ORIGINAL:d?ol.a.CONVERT_AUTOMATICALLY:ol.a.getBestAvailableQuality(t,r)}const g=g3t(l,o),v=m.index===ol.a.ORIGINAL,y=g3t(m.bitrate,o);return s.get("remoteSmallVideoAtOriginalQuality")&&g&&(v||y)?ol.a.ORIGINAL:d?ol.a.CONVERT_AUTOMATICALLY:v&&g?ol.a.ORIGINAL:ol.a.getBestAvailableQuality(m,r)}function g3t(e,t){return!e||!!t&&e>=t}var v3t=function e(t,i,n,a={},s){const r=Object(ne.c)("appModel"),o=r.get("user").get("experienceSettings"),l=r.get("deviceSettings"),c=o7.prop("video"),d=function(e,t){return!(!t.server.get("hasAdaptiveBitrate")||e.get("remotePlayer"))}(r,t),u=function(e){const{profile:t,metadataItem:i,mediaItem:n,canPlayAdaptiveBitrate:a,settings:s}=e;let{qualityIndex:r}=e;const o=n?[n]:i.get("Media"),l=ol.a.getAvailableQualitiesFor(o,i.server,{lowestQualityIndex:t.lowestQualityIndex,highestQualityIndex:t.highestQualityIndex});return null==r?r=m3t({mediaItems:o,transcodeServer:i.server,metadataItem:i,canPlayAdaptiveBitrate:a,settings:s,availableQualities:l}):ol.a.isExplicitQuality(r)&&!l.find(e=>e.index===r)&&(r=ol.a.ORIGINAL),{availableQualities:l,quality:ol.a.getQualityByIndex(r),qualityIndex:r}}({profile:c,metadataItem:t,qualityIndex:i,mediaItem:s,canPlayAdaptiveBitrate:d,settings:o}),p=u.qualityIndex,h=p===ol.a.CONVERT_AUTOMATICALLY&&d,m=l.get("directPlay")&&!h,g=l.get("directStream")&&!h?1:0,v=d&&o.get("autoAdjustQuality")&&t.server.supports("adaptiveBitrateFallback")&&!ol.a.isExplicitQuality(p);let y,f=u.quality;return h&&(f=function(e,t){const i=e.server.get("isPrivateConnection");if(Object(h3t.a)(e,i)&&t.get("useHomeStreamingRecommendedSettings")){const e=t.defaults().localQuality;return ol.a.getQualityByIndex(e)}const n=Object(p3t.a)(e,i),a=t.get(n);return ol.a.getQualityByIndex(a)}(t,o)),p!==ol.a.ORIGINAL&&(y=e(t,ol.a.ORIGINAL,n,a,s)),Object.assign({type:rS.types.VIDEO,profile:c,allowDirectPlay:m,allowDirectStreamVideoWithSoftSubtitles:!0,allowIncompleteSegments:!0,subtitlesBurnLevel:o.get("subtitlesBurnLevel"),availableQualities:u.availableQualities,qualityIndex:p,quality:f,transcoderOptions:Object.assign({addDebugOverlay:l.get("debugVideoQualityOverlay")?1:0,autoAdjustQuality:v||h?1:0,directStream:g,directStreamAudio:g,audioBoost:o.get("audioBoost")},a),originalQualityDecisionOptions:y},n)};const y3t=a3t(),f3t=a3t()||X4t(),b3t=y3t?"dash":"hls";function I3t(e,t,i){const n=Object(ne.c)("appModel").get("user").get("experienceSettings"),a={hasNativeHLS:f3t,hasDASH:y3t,hasStreamingMKV:!1,canDisplayHDR:u3t(),canDisplayDolbyVision:!1,subtitlesBurnLevel:n.get("subtitlesBurnLevel"),transcoder:Hm,transcodeProtocol:b3t,preferredDirectPlayProtocol:b3t,profileExtra(e){const t=d3t(e),i=e.finalProfile.directStream.video.codecs.hevc;if("hevc"===e.media.videoCodec&&i){const{maxBitDepth:n}=i;t.push(function(e={}){const{maxBitDepth:t=8,protocol:i,supportsHDR:n=!1,supportsDolbyVision:a=!1}=e,s=["bt709","bt470m","bt470bg","smpte170m","smpte240m"];return t>=10&&s.push("bt2020-10"),t>=12&&s.push("bt2020-12"),t>=10&&(n||a)&&s.push("smpte2084"),"add-limitation(scope=videoTranscodeTarget&scopeName=hevc&scopeType=videoCodec&context=streaming&protocol="+i+"&type=match&name=video.colorTrc&list="+s.join("|")+"&isRequired=false)"}({protocol:e.protocol,maxBitDepth:n,supportsHDR:e.canDisplayHDR,supportsDolbyVision:e.canDisplayDolbyVision}))}let n=Object.keys(e.finalProfile.directStream.audio.codecs);return"dash"===e.protocol&&(n=n.filter(e=>!1===/^e?ac3$/.test(e))),t.push(function(e){const{type:t="videoProfile",context:i="streaming",videoCodec:n,audioCodec:a,subtitleCodec:s}=e,r=Xe()(e,["type","context","videoCodec","audioCodec","subtitleCodec"]),o={type:t,context:i};return n&&(o.videoCodec=Array.isArray(n)?n.join(","):n),a&&(o.audioCodec=Array.isArray(a)?a.join(","):a),s&&(o.subtitleCodec=Array.isArray(s)?s.join(","):s),Object.assign(o,r),"append-transcode-target-codec("+V.stringifyParams(o)+")"}({protocol:e.protocol,audioCodec:n.join(",")})),t.join("+")}},s=Object(ne.c)("appModel").get("user").get("experienceSettings");s.get("forceTranscodeProtocolHLS")&&"dash"===a.transcodeProtocol&&(f3t?s.get("autoAdjustQuality")?C.a.warn("[Player] Experimental alternate streaming protocol for video playback is disabled because automatic quality adjustment is enabled"):(C.a.warn("[Player] Experimental alternate streaming protocol for video playback is enabled"),a.transcodeProtocol="hls"):C.a.warn("[Player] Experimental alternate streaming protocol for video playback is unsupported by this browser"));const r={subtitleSize:n.get("subtitleSize"),mediaBufferSize:102400},o=i||e.get("Media")[0];return o&&"livetv"===o.origin&&(a.allowDirectPlay=!1),v3t(e,t,a,r,i)}var S3t=function(e,t,i){const n=Qt.u(e.get("type"));return(null==n?void 0:n.mediaType)===Go.a?function(){const e=[];return y3t&&e.push("add-transcode-target(type=musicProfile&context=streaming&protocol=dash&container=mp4&audioCodec=aac)"),f3t&&e.push("add-transcode-target(type=musicProfile&context=streaming&protocol=hls&container=mpegts&audioCodec=aac,mp3)"),{type:rS.types.MUSIC,profile:o7.prop("music"),allowDirectPlay:!0,hasNativeHLS:f3t,hasDASH:y3t,transcoder:Hm,transcodeProtocol:b3t,preferredDirectPlayProtocol:b3t,transcoderOptions:{directStreamAudio:1,mediaBufferSize:12288},profileExtra:e.length?e.join("+"):null}}():(null==n?void 0:n.mediaType)===Go.d?{type:rS.types.ROM,profile:{},allowDirectPlay:!1,allowDirectStream:!1,transcoder:Hm,transcoderOptions:{}}:I3t(e,t,i)};var C3t=Ee.a.extend({mixins:[Ne.a],name:"AjaxQueue",queue:null,request:null,enabled:!1,destroyed:!1,initialize(e={}){this.queue=[],!1!==e.enabled&&this.enable()},enable(){this.enabled||this.destroyed||(this.enabled=!0,this.onEnabled())},disable(){this.enabled&&(this.enabled=!1,this.request=null,this.onDisabled())},destroy(){this.destroyed||(this.disable(),this.queue.length=0,this.destroyed=!0,this.onDestroyed())},send(e){e&&(this.queue.push(e),this._next())},_next(){if(!this._canNext())return;const e=this.queue.shift(),t=e&&this._getAjaxOptions(e);if(t){const e=D.a.ajax(t);e.always(this.onAjaxAlways.bind(this,e)),this.request=e}},_canNext(){return this.enabled&&!this.request},_getAjaxOptions:e=>e,onAjaxAlways(e){this.enabled&&e===this.request&&(this.request=null,this._next())},onEnabled(){this._next()},onDisabled(){},onDestroyed(){}});function M3t(){const e=new C3t;let t=null;return{setBaseUrl(e){t=e},trackEvent(i){if(!t)return void Object(S.a)(!1,"Network metrics reporters requires a base URL to be set before tracking events");const n=V.join([t,"collect/event"]),a=JSON.stringify(i);e.send({type:"POST",url:n,contentType:"text/plain",data:a})}}}var D3t=["enable","disable","set","start","trackClick","trackEvent","trackView","incrementPlaybackCount","addPlaybackTime","toJSON"];var P3t=["setBaseUrl","trackEvent"];function O3t(e,t){const{server:i}=t,n=i.get("debugName");return C.a.warn("[Connections] Aborting connection test for %s at %s because secure connections are disallowed",n,e),j3t(e,t)}function j3t(e,t){const{connection:i}=t,n=D.a.Deferred();return I.a.defer(()=>{i.set({currentTest:null,testState:"unavailable"}),n.reject(i)}),n.promise()}function w3t(e){const{server:t,connection:i}=e,n=t.resolveUrl(e.url||"/media/providers",{connection:i}),a=Object(ne.c)("appModel"),s=a.get("settings"),r=a.get("deviceSettings");if(!be.a.allowHttpsMediaServerConnections&&i.get("isHttps")&&!t.get("isCloud"))return O3t(n,e);const o=s&&s.get("preferInsecureConnections");if(!t.get("httpsRequired")&&!t.get("isCloud")&&i.get("isHttps")&&"always"===o)return O3t(n,e);if(!t.get("httpsRequired")&&i.get("isHttps")&&"samenetwork"===o&&i.get("isPrivate")&&t.get("publicAddressMatches"))return function(e,t){const{server:i}=t,n=i.get("debugName");return C.a.warn("[Connections] Aborting connection test for %s at %s because insecure connections are preferred",n,e),j3t(e,t)}(n,e);if(!be.a.allowMixedContent&&z.a.isHostedHttps&&!i.get("isHttps"))return function(e,t){const{server:i}=t,n=i.get("debugName");return C.a.warn("[Connections] Aborting connection test for %s at %s due to mixed content prevention",n,e),j3t(e,t)}(n,e);const l=r&&r.get("rejectDirectConnections");return t.get("isCloud")||i.get("relay")||!l&&!be.a.rejectDirectConnections?function(e,t){const{server:i,connection:n}=t,a=D.a.Deferred(),s=i.get("debugName"),r=Object(rt.a)(i),o=Date.now();Object(C.a)("[Connections] Testing connection for %s at %s",s,e);const l=[],c={dataType:"text",headers:{Accept:r.accept},timeout:i.connectionTestTimeout};l.push(i.getXHROptions(e,c));const d=!Z2(i);if(null==t.url&&d){const e=i.resolveUrl("/",{connection:n});Object(C.a)("[Connections] Testing legacy connection for %s at %s",s,e),l.push(i.getXHROptions(e,c))}if(be.a.emulateBrokenHTTPS){const e=n.get("isHttps")&&!i.get("isCloud"),t="private"!==be.a.emulateBrokenHTTPS||n.get("isPrivate");e&&t&&function(e){e.forEach(e=>{e.url="fail"+e.url})}(l)}const u=l.map(e=>D.a.ajax(e)),p=Me(...u);function h(e){n.get("relay")&&Object(ne.c)("metrics").trackEvent(Object.assign({},e,{event:"client:relayTested",interaction:!1,reason:1===n.server.get("connections").length?101:102,serverType:n.server.get("isShared")?"shared":"owned",latency:Date.now()-o}))}function m(t){Object(C.a)("[Connections] %s connected at %s",s,e),n.set({currentTest:null,testState:"connected"}),h({status:"success"}),a.resolve(n,t)}function g(t,i){const r={currentTest:null};if(t.some(e=>e.aborting))Object(C.a)("[Connections] Aborted pending connection test for %s at %s",s,e),r.testState="aborted";else{const n=function(e){return 401===e||403===e||406===e}(i)?"unauthorized":"unavailable";h({status:"failure",error:i}),t.forEach(t=>{C.a.warn("[Connections] %s is %s at %s (Status %s)",s,n,e,t.status)}),r.testState=n}n.set(r),a.reject(n,t)}return n.set({currentTest:u,testState:"pending"}),p.done(()=>{const[t,n]=u;let a;if(200!==t.status&&404!==t.status?a=t.status:n&&200!==n.status&&(a=n.status),void 0!==a)return void g(u,a);if(i.get("isCloud"))return void m();const o=r.parse(t.responseText),l=n?r.parse(n.responseText):void 0,c=i.parseResponse(D.a.extend(!0,{},o,l)),d=c.machineIdentifier,p=i.get("isTransient")?i.get("originalMachineIdentifier"):i.get("machineIdentifier");if(!d||p&&d!==p)C.a.warn("[Connections] %s has an unexpected machine identifier at %s",s,e),g(u);else{!0===c.mediaProviders?c.mediaProviders=1:!1===c.mediaProviders?c.mediaProviders=0:n||(c.mediaProviders=1);const e=i.parse(c);i.get("isTransient")&&(e.machineIdentifier=i.get("machineIdentifier")),e.isInstallingServerUpdate=!1,e.isProvidersPending=!1,e.isProvidersPopulated=!0,Mi(e.providers,i),m(e)}}),a.promise()}(n,e):function(e,t){const{server:i}=t,n=i.get("debugName");return C.a.warn("[Connections] Aborting connection test for %s at %s due to reject direct connection debug setting",n,e),j3t(e,t)}(n,e)}var T3t=i("sdSe");var E3t=function(){const e=Object(ne.c)("appModel").get("ui"),t=e.get("audioVideoPlayer"),i=e.get("photoPlayer"),n=e.get("romPlayer"),a=Object(T3t.a)(t),s=Object(T3t.a)(i);return a===Zme.d||s===Zme.d||!!n&&Object(T3t.a)(n)===Zme.d};var N3t=Object(Wu.a)(fk,e=>e.volume),x3t=i("IpeH");const A3t=an.prototype.sessionAttrs,L3t=Xe()(A3t,["isCloud"]);var k3t=an.extend({name:"TransientServerModel",cache:null,persistInCache:!1,sessionAttrs:Object.assign({},L3t,{isTransient:Ae.a.boolean,originalMachineIdentifier:Ae.a.string}),derivedAttrs:Object.assign({},an.prototype.derivedAttrs,{isCloud(){return this.get("originalMachineIdentifier")===ST.a}}),defaults(){const e=an.prototype.defaults.apply(this,arguments);return Object.assign({},e,{friendlyName:"Transient Server",isTransient:!0})},updateCacheKey(){},testConnection(e){if(this.get("originalMachineIdentifier")!==ST.a)return an.prototype.testConnection.apply(this,arguments);e.set({testState:"connected"}),this.onConnectionTestSuccess(e)}}),R3t=i("LJTU");const z3t="ui/player/localCompanionPlayer/runLocalCompanionPlaybackAction",U3t="ui/player/localCompanionPlayer/setTransientServer",V3t="ui/player/localCompanionPlayer/mirrorLocalDetails",B3t=Object(Pi.a)(z3t),F3t=Object(Pi.a)(U3t),H3t=Object(Pi.a)(V3t),_3t={[z3t](e,{type:t,action:i},n){const{type:a,payload:s={}}=i,r=e.get("ui"),o=t===R3t.b?V8.b:V8.a,l=r.get(o+"Player");l.get("isOpen")&&l.get("playQueue")&&n({type:a,payload:Object.assign({},s,{playerType:o})})},[U3t](e,t){e.set("transientServer",t)},[V3t](e,t){}};var W3t=i("eNuQ");const Q3t={"/player/timeline/subscribe":function(){Object(ne.c)("localCompanionTimelineManager").start()},"/player/timeline/unsubscribe":function(){e5t(),Object(ne.c)("localCompanionTimelineManager").stop()},"/player/mirror/details":function(e){const t=e.providerIdentifier&&e.providerIdentifier[0];let i,n;return $3t().then(()=>J3t(e)).then(t=>(i=t,X3t(i,e))).then(e=>(n=e.get(t||jt.d),n?n.populate({merge:!0}):D.a.Deferred().reject().promise())).then(()=>function(e,t,i){const n=(i.key&&i.key[0]).replace("/children",""),a=new ut.a({key:n},{server:e,provider:t});return K3t=n,a.populate().then(()=>K3t!==n?D.a.Deferred().reject().promise():{metadataItemModel:a})}(i,n,e)).then(({metadataItemModel:e})=>{q3t(H3t({serverEntityID:i.entityID(),providerEntityID:n.entityID(),key:e.get("key"),parentKey:e.get("parentKey"),type:e.get("type"),subtype:e.get("subtype")}))})},"/player/playback/playMedia":function(e){const t=e.providerIdentifier&&e.providerIdentifier[0],i=e.type&&e.type[0],n=e.offset&&e.offset[0],a=e.mediaIndex&&e.mediaIndex[0],s=e.containerKey&&e.containerKey[0];let r,o;return Ge.execute("remotePlaybackUnlock").then(()=>J3t(e)).then(t=>(r=t,X3t(r,e))).then(e=>{const i=u7(s);return i&&(o=e.get(t||jt.d),o)?o.populate().then(()=>({playQueueID:i})):D.a.Deferred().reject().promise()}).then(({metadataItemModel:e,playQueueID:t})=>{const l=r.entityID(),c=o.entityID(),d=R3t.e(i),u=null==n?null:parseInt(n,10),p=null==a?null:parseInt(a,10);if(e){const t=e.entityID();q3t(xT.x({serverEntityID:l,providerEntityID:c,metadataItemEntityID:t,startMetadataItemEntityID:t,startOffsetMilliseconds:u,startMediaIndex:p,confirmPlayback:!0,confirmOffset:!0,options:{type:d,containerKey:s}}))}else q3t(xT.v({serverEntityID:l,providerEntityID:c,playQueueType:d,playQueueID:t,startOffsetMilliseconds:u,startMediaIndex:p}))})},"/player/playback/pause":e=>Z3t(e,Boe.s()),"/player/playback/play":e=>Z3t(e,Boe.t()),"/player/playback/stop":e=>Z3t(e,xT.p()),"/player/playback/skipNext":e=>Z3t(e,y7.y()),"/player/playback/skipPrevious":e=>Z3t(e,y7.z()),"/player/playback/stepForward":e=>Z3t(e,Boe.B()),"/player/playback/stepBack":e=>Z3t(e,Boe.A()),"/player/playback/skipTo":function(e){const t=decodeURIComponent(e.key[0]);Z3t(e,y7.x({key:t}))},"/player/playback/seekTo":function(e){const t=parseInt(e.offset[0],10);Z3t(e,Boe.w({positionSeconds:Math.floor(t/1e3)}))},"/player/playback/refreshPlayQueue":function(e){Z3t(e,y7.t())},"/player/playback/refreshStreams":function(e){Z3t(e,Boe.v())},"/player/playback/setParameters":function(e){const t=e.volume&&e.volume[0],i=e.repeat&&e.repeat[0],n=e.shuffle&&e.shuffle[0],a=e.autoPlay&&e.autoPlay[0],s=e.subtitleColor&&e.subtitleColor[0],r=e.subtitlePosition&&e.subtitlePosition[0],o=e.subtitleSize&&e.subtitleSize[0],l=e.subtitleOffset&&e.subtitleOffset[0];if(null!=t){const i=parseInt(t,10);Z3t(e,Boe.q({volume:i}))}if(null!=i){const t=parseInt(i,10);Z3t(e,y7.G({repeatAll:t===W3t.a,repeatOne:t===W3t.c}))}null!=n&&Z3t(e,y7.L());null!=a&&Z3t(e,y7.F({autoPlay:1===parseInt(e.autoPlay,10)}));null!=s&&Z3t(e,Boe.m({subtitleColor:s}));null!=r&&Z3t(e,Boe.o({subtitlePosition:r}));null!=o&&Z3t(e,Boe.p({subtitleSize:parseInt(o,10)}));null!=l&&Z3t(e,Boe.n({subtitleOffset:parseInt(l,10),localUpdateOnly:!0}))},"/player/playback/setStreams":function(e){const t=e.audioStreamID&&e.audioStreamID[0],i=e.subtitleStreamID&&e.subtitleStreamID[0];null!=t&&Z3t(e,Boe.l({streamTypeString:"audio",streamID:t.toString()}));null!=i&&Z3t(e,Boe.l({streamTypeString:"subtitles",streamID:i.toString()}))},"/player/navigation/moveLeft":()=>t5t("moveLeft"),"/player/navigation/moveRight":()=>t5t("moveRight"),"/player/navigation/moveUp":()=>t5t("moveUp"),"/player/navigation/moveDown":()=>t5t("moveDown"),"/player/navigation/select":()=>t5t("select"),"/player/navigation/back":()=>t5t("back"),"/player/navigation/home":function(){$3t().then(()=>{q3t(Object(Kn.w)())})}};let G3t,K3t;function Y3t(e,t,i){return{commandID:e,body:P4t.writeXml({Response:{_code:t,_status:i}}),responseCode:t}}function q3t(e){Object(ne.c)("appStore").dispatch(e)}function Z3t(e,t){const i=e.type&&e.type[0];i?(t.type===xT.c&&e5t(),q3t(B3t({type:i,action:t}))):C.a.warn("[Companion] Ignored playback action due to missing type")}function J3t(e){const t=e.machineIdentifier[0],i=Object(ne.c)("appModel"),n=i.get("servers").get(t),a=i.get("transientServer");let s;G3t=t;const r={originalMachineIdentifier:t,accessToken:e.token&&e.token[0],mediaProviders:1};n&&(r.serverClass=n.get("serverClass"),r.publicAddressMatches=n.get("publicAddressMatches"),r.version=n.get("version")),a&&a.get("originalMachineIdentifier")===t?(s=a,s.set(r)):s=new k3t(Object.assign({machineIdentifier:"transient-"+t+"-"+Mp()},r),{parent:i});const o=n&&n.get("isConnected")&&n.get("activeConnection");let l;if(o)l={scheme:o.get("scheme"),address:o.get("address"),port:o.get("port"),uri:o.get("uri")};else{const t=e.port&&e.port[0];let i,n=e.protocol&&e.protocol[0],a=e.address&&e.address[0],s=a;if(!n&&!a)return C.a.warn("[Companion] Unable to create a transient server without a protocol or address"),D.a.Deferred().reject().promise();"https"===n&&(a=Le(a),be.a.allowHttpsMediaServerConnections||(n="http",s=a)),i=n+"://"+s,t&&(i+=":"+t),l={scheme:n,address:a,port:t,uri:i}}return s.addConnection(l),s.testOnlyUntestedConnections().then(()=>G3t!==t?D.a.Deferred().reject().promise():(s.get("isTransient")&&q3t(F3t(s)),s))}function X3t(e,t){const i=Object(ne.c)("appModel").get("user"),n=e.get("isCloud")&&!e.get("isTransient")?i.get("providers"):e.get("providers");e.set({isProvidersPending:!0,isProvidersPopulated:!1,providersError:null});const a=n.populate();return a.then(()=>(e.set({isProvidersPending:!1,isProvidersPopulated:!0}),a),()=>(e.set({isProvidersPending:!1,providersError:{}}),a))}function $3t(){const e=D.a.Deferred();return Object(ne.c)("appModel").get("user").get("isLocked")?e.reject():e.resolve(),e.promise()}function e5t(){Object(ne.c)("appModel").get("user").get("isRemote")&&q3t(Object(Qu.i)())}function t5t(e){U.a.trigger("companion:"+e),U.a.trigger("companion:key",e)}function i5t(e){const{path:t,query:i,commandID:n,supportsTimeline:a}=e,s=D.a.Deferred(),r=Q3t[t];if(function(){const e=Object(ne.c)("appModel").get("inputActivity");e&&e.notice()}(),!1!==a&&Object(ne.c)("localCompanionTimelineManager").start(),r){(r(i)||D.a.Deferred().resolve().promise()).done(()=>{Object(C.a)('[Companion] Successfully processed command from path "'+t+'"');const e=Y3t(n,200,"OK");s.resolve({controllerResponse:e})}).fail(()=>{C.a.warn('[Companion] Failed to process command from path "'+t+'"');const e=Y3t(n,400,"Bad Request");s.resolve({controllerResponse:e})})}else{C.a.warn('[Companion] Unable to handle command from unknown path "'+t+'"');const e=Y3t(n,400,"Bad Request");s.resolve({controllerResponse:e})}return s.promise()}function n5t(e){const t=()=>e.get("deviceSettings"),i=()=>e.get("user").get("experienceSettings"),n={autoPlay:i,autoLogin:t,companion:i,language:i,shouldSyncSettings:t,subtitleColor:i,subtitlePosition:i,subtitleSize:i,volume:t};return{find:e=>n[e]().get(e),addCompanionChangeListener(t){e.on("change:user.change:experienceSettings.change:companion",t)}}}function a5t(e){return!!(function(e){return!(!e||e.get("isCloud")||"iOS"===e.get("platform")||!e.supports("companionProxy"))}(e)&&(t=e.get("activeConnection"),t&&t.get("isPrivate")&&t.get("isConnected")));var t}function s5t(e){return!(!a5t(e)||e.get("isShared"))}var r5t=Ee.a.extend({mixins:[Ne.a],name:"CompanionServerManager",initialize(e){this.appModel=e.appModel,this.servers=this.appModel.get("servers"),this._throttlePickCompanionServer=I.a.throttle(this._pickCompanionServer,2e3)},start(e){this.stop(),this.listenTo(this.servers,"change:connected change:activeConnection update",this._throttlePickCompanionServer),this.started=!0,this._pickCompanionServer()},stop(){this.stopListening(),this.started=!1},_pickCompanionServer(){this.started&&(this.companionServer&&a5t(this.companionServer)&&this.servers.contains(this.companionServer)||(this.companionServer=this.servers.find(s5t)||this.servers.find(a5t),this.companionServer?(Object(ne.c)("appStore").dispatch(Object(Kn.r)({serverEntityID:this.companionServer.entityID()})),C.a.info("[Companion] Found companion",this.companionServer.get("debugName"))):(Object(ne.c)("appStore").dispatch(Object(Kn.y)()),C.a.warn("[Companion] No companion found"))))}});var o5t=Ee.a.extend({mixins:[Ne.a],browserConnectionChangeDelay:2e3,initialize(e){I.a.bindAll(this,"onBrowserConnectionChange"),this.appModel=e.appModel,this.servers=this.appModel.get("servers"),this.settings=this.appModel.get("settings")},start(){this.stop();const e=D()(window);e.on("online",this.onBrowserConnectionChange),e.on("offline",this.onBrowserConnectionChange),this.listenTo(U.a,{"test:servers":this.onTestAllServers,"test:server":this.onTestServer}),this.listenTo(this.servers,{add:this.onServerAdd,remove:this.onServerRemove,reset:this.onServersReset,"error:connection":this.onServerConnectionError,"change:connections.add":this.onServerConnectionAdd,"change:connections.remove":this.onServerConnectionRemove,"change:connections.reset":this.onServerConnectionsReset,"change:connections.change:isConnected":this.onServerConnectionConnectedChange,"change:connections.change:sources.change":this.onServerConnectionSourcesChange,"change:accessToken":this.onServerAccessTokenChange,"change:isConnected":this.onServerConnectedChange,"change:isUnavailable":this.onServerUnavailableChange,"change:publicAddressMatches":this.onServerPublicAddressMatchesChange}),this.listenTo(this.settings,"sync",this.onSettingsSave),this.servers.invoke("testOnlyUntestedConnections")},stop(){this.stopListening();const e=D()(window);e.off("online",this.onBrowserConnectionChange),e.off("offline",this.onBrowserConnectionChange)},retryServerConnections:function(e){e.testAllConnections()},startFailedServerRetries(e){},stopFailedServerRetries(e){},_removeConnection(e){const{server:t}=e,i=Mo.getActiveServers();if(Object(C.a)("[Connections] Removed connection %s from %s",e.id,t.get("debugName")),t.abortConnectionTest(e),i){const n=i.get(t.id),a=n&&n.get("connections");a&&a.get(e.id)&&(a.remove(e.id),a.length||i.remove(t.id),Mo.debouncedSave())}},onBrowserConnectionChange(e){Object(C.a)("[Connections] Browser online status changed to",window.navigator.onLine),window.clearTimeout(this.browserConnectionChangeTimeout),this.browserConnectionChangeTimeout=window.setTimeout(()=>{this.servers.invoke("testAllConnections")},this.browserConnectionChangeDelay)},onTestAllServers(){this.servers.invoke("testAllConnections")},onTestServer(e){e.testAllConnections()},onServerAdd(e){e.testOnlyUntestedConnections()},onServerRemove(e){const t=Mo.getActiveServers();let i;if(e.abortAllConnectionTests(),this.stopFailedServerRetries(e),t)if(e.get("isMerged")){const n=e.previous("machineIdentifier");n&&(i=t.get(n),i&&(i.set("machineIdentifier",e.id),Mo.debouncedSave()))}else i=t.get(e.id),i&&(t.remove(e.id),Mo.debouncedSave())},onServersReset(e,t){const i=t.previousModels;I.a.each(i,t=>{e.contains(t)||(t.abortAllConnectionTests(),this.stopFailedServerRetries(t))})},onServerConnectionError(e){if(C.a.warn("[Connections] Possible connection error for %s, retrying connection tests",e.get("debugName")),e.get("isCloud")){this.appModel.get("user").signInUnsupervised()}else e.testAllConnections()},onServerConnectionAdd(e){const{server:t}=e;Object(C.a)("[Connections] Added connection %s for %s",e.id,t.get("debugName")),e.get("relay")?t.get("connections").hasFailedEveryDirectConnection()&&t.testAllConnections():t.testConnection(e)},onServerConnectionRemove(e){this._removeConnection(e)},onServerConnectionsReset(e,t){const i=t.previousModels;I.a.each(i,t=>{e.contains(t)||this._removeConnection(t)})},onServerConnectionConnectedChange(e,t){const{server:i}=e,n=e.get("isBundled"),a=e.get("isFallback"),s=e.get("relay"),r=t&&!n&&!a&&!s,o=Mo.getActiveServers();if(i.id&&!i.get("isCloud")&&r&&o){let t=o.get(i.id);if(t)t.copyFromModel(i);else{const e=I.a.omit(i.toJSON(),"connections");t=o.add(e,{merge:!0,parse:!0})}t.get("connections").add(e.toJSON(),{merge:!0,parse:!0}),Mo.debouncedSave()}},onServerConnectionSourcesChange(e,t){const{server:i}=e,n=Mo.getActiveServers(),a=n&&n.get(i.id);if(a){const i=a.get("connections").get(e.id);if(i){i.get("sources").set(t.toJSON()),Mo.debouncedSave()}}},onServerAccessTokenChange(e,t){if(!e.get("isCloud")){Object(C.a)("[Connections] Access token for %s changed to %s",e.get("debugName"),t);const i=Mo.getActiveServers(),n=i&&i.get(e.id);n&&(n.set("accessToken",t),Mo.debouncedSave()),e.get("isUnauthorized")&&e.set("connectionTestResult",an.connectionTestResults.PENDING),e.testAllConnections()}},onServerConnectedChange(e,t){t&&this.stopFailedServerRetries(e)},onServerUnavailableChange(e,t){t&&this.startFailedServerRetries(e)},onServerPublicAddressMatchesChange(e,t){void 0!==t&&e.testAllConnections()},onSettingsSave(e){e.changed.hasOwnProperty("preferInsecureConnections")&&this.servers.invoke("testAllConnections")}});var l5t=o5t.extend({initialize(e){o5t.prototype.initialize.apply(this,arguments),this._serverRetryManager=new He({callback:this.retryServerConnections.bind(this),logFormat:"[Connections] Retrying connection tests for %s in %s seconds"})},stop(){o5t.prototype.stop.apply(this,arguments),this._serverRetryManager.stopAll()},startFailedServerRetries(e){this._serverRetryManager.start(e)},stopFailedServerRetries(e){this._serverRetryManager.stop(e)}});var c5t=()=>{};const d5t=["page","type","style","mode"];var u5t=i("SnPO");const p5t=/0/g,h5t=()=>(0|16*Math.random()).toString(16);var m5t=function(){return"00000000-0000-4000-8000-000000000000".replace(p5t,h5t)};var g5t=Ee.a.extend({mixins:Ne.a,initialize(e){this.privacySettings=null,this.defaults={},this._pendingPrivacyRequest=null,this._pendingEvents=[],this.debouncedFetchPrivacySettings=I.a.debounce(this.fetchPrivacySettings,250),this.isPlaybackActive=e.isPlaybackActive,this.enable()},enable(){this.enabled=!0},disable(){this.enabled=!1},set(e){this.defaults=Object.assign({},this.defaults,e)},setUser(e){this.set({userId:e.id}),this.defaults.context||(this.defaults.context={}),this.defaults.context.user=e.get("subscriptions").reduce((e,t)=>(e[t.get("type")]=t.get("mode"),e),{anonymous:e.get("anonymous")})},fetchPrivacySettings(){this.privacySettings=null,this._pendingPrivacyRequest&&(this._pendingPrivacyRequest.abort(),this._pendingPrivacyRequest=null);const e=Object(ne.c)("appModel").get("user");if(!e.server.get("isConnected"))return D.a.Deferred().reject().promise();const t=e.server.getXHROptions("/api/v2/user/privacy",{dataType:"json"});return this._pendingPrivacyRequest=D.a.ajax(t),this._pendingPrivacyRequest.promise().done(t=>{this.setUser(e),this.setPrivacySettings(t),this.trackPendingEvents()}).always(()=>{this._pendingPrivacyRequest=null})},setPrivacySettings(e){if(e&&e.metrics){this.privacySettings=Object.assign({},e,{metrics:e.metrics.reduce((e,t)=>(e[t.event]=t.status,e),{})});Object(ne.c)("metricsReporter").setBaseUrl(e.baseUrl)}},incrementPlaybackCount(){const e="playbackCount",t=Object(ne.c)("sessionStats");t.save(e,t.get(e)+1)},addPlaybackTime(e){const t="playbackTime",i=Object(ne.c)("sessionStats");i.save(t,i.get(t)+e)},trackView(e,t){const i="client:view",n=Object.assign({event:i,interaction:!0,properties:e},t),a=tI.a.measure(function(e,t){let i=e;for(let e=0;e<d5t.length;e++){const n=t[d5t[e]];null!=n&&(i=i+":"+n)}return i}(i,e),i+":"+e.page+"-start");a&&(n.properties=Object.assign({},n.properties,{latency:Math.round(a.duration)})),this.trackEvent(n)},trackClick(e,t){this.trackEvent(Object.assign({event:"client:click",interaction:!0,properties:e},t))},trackEvent(e){var t;if(!this.enabled)return;const i=null==(t=e.properties)?void 0:t.contextTuple;i&&(delete e.properties.contextTuple,Object.assign(e.properties,Object(Zb.c)(i)));const n=Object(ne.c)("sessionStats"),a=n.get("sessionId"),s=n.get("anonymousSessionId");if(!this.privacySettings)return void this._pendingEvents.push(Object.assign({},e,{sessionIdentifier:a,anonymousSessionIdentifier:s}));const r=D.a.extend(!0,{},this.defaults,e);r.sessionIdentifier||(r.sessionIdentifier=a),r.anonymousSessionIdentifier||(r.anonymousSessionIdentifier=s);const o=Date.now();if(!("client:shutdown"===e.event||"client:start"===e.event)){const t=n.get("lastInteractionTime"),i=n.get("lastPlayingHeartbeatTime");if(o-Math.max(t,i)>18e5)return void this.flushSession().then(()=>{this.trackEvent(e)})}const l=this.privacySettings.metrics[r.event];if(l)if("off"===l);else{r.interaction&&Object(u5t.a)(),"anonymous"===l&&(delete r.userId,r.deviceIdentifier=Object(ne.c)("appModel").get("anonymousClientID"),r.sessionIdentifier=r.anonymousSessionIdentifier),delete r.anonymousSessionIdentifier,c5t(r);Object(ne.c)("metricsReporter").trackEvent(r)}},trackPendingEvents(){const e=this._pendingEvents;let t=0;for(;t<e.length;)this.trackEvent(e[t]),t++;this._pendingEvents=[]},start(){const e=Object(ne.c)("appModel").get("user");return this.flushSession().then(()=>ie(e.server.populate())).then(()=>this.fetchPrivacySettings()).always(()=>{this.listenTo(e.server,"change:isConnected",this.onCloudServerChange),this.listenTo(e,"change:id",this.onUserIDChange)}),D.a.Deferred().resolve().promise()},flushSession(){const e=Object(ne.c)("sessionStats").populate().then(()=>{this.stopSession(),this.startSession()},()=>{this.startSession()});return ie(e)},startSession(){const e=Date.now(),t=Object(ne.c)("sessionStats");if(!this.interval){const e=be.a.heartbeatInterval;0,this.interval=window.setInterval(()=>{const e=Date.now(),i={heartbeatTime:e};this.isPlaybackActive()&&(i.lastPlayingHeartbeatTime=e),t.set(i)},e)}t.save({sessionId:m5t(),anonymousSessionId:m5t(),startTime:e,lastInteractionTime:e,heartbeatTime:e,lastPlayingHeartbeatTime:null,playbackCount:0,playbackTime:0});const i=tI.a.endPeriod("client:start"),n={event:"client:start",interaction:!0,properties:{mode:"uno"}};i&&(n.properties.latency=Math.round(i.duration)),this.trackEvent(n)},stopSession(){const e=Object(ne.c)("sessionStats"),t=e.get("heartbeatTime"),i=e.get("playbackCount"),n=e.get("playbackTime"),a=e.get("startTime");this.trackEvent({event:"client:shutdown",interaction:!1,properties:{sessionLength:Math.floor((t-a)/1e3),playbackCount:i,playbackTime:bge(n)}})},toJSON(){return Object.assign({},this.defaults)},onCloudServerChange(e,t){t?this.fetchPrivacySettings():this.privacySettings=null},onUserIDChange(){this.privacySettings=null,this.debouncedFetchPrivacySettings()}});var v5t=Ee.a.extend({mixins:[Ne.a],initialize(e){this.appModel=e.appModel,this.servers=this.appModel.get("servers")},start(e){this.stop(),this.listenTo(this.appModel,{"change:primaryServer":this.onPrimaryServerChange,"change:primaryServer.change:isPrimaryEligible":this.onPrimaryServerEligibleChange,"change:primaryServer.change:isOutOfDate":this.onPrimaryServerOutOfDateChange,"change:isWaitingForServers":this.onWaitingForServersChange,"change:primaryServer.change:isRelayed":this.onPrimaryServerIsRelayedChange}),this.listenTo(this.servers,{"update reset":this.onServersUpdate}),this._setPrimaryServer(_t.STARTUP)},stop(){this.stopListening(),this._primaryServerPromise=null},_setPrimaryServer(e){if(this._primaryServerPromise)return this._primaryServerPromise;const t=Object(ne.c)("appStore");t.dispatch(Object(Kn.z)());const i=this._waitForPrimaryServer();return this._primaryServerPromise=i,i.done(n=>{if(i===this._primaryServerPromise){if(this._primaryServerPromise=null,this.appModel.get("primaryServer"))return;const i=!n.get("version")&&!n.get("isRejected");n.get("isOutOfDate")||i?(Object(C.a)("[Primary Server] The server, %s, is waiting for a version",n.get("debugName")),this._setPrimaryServer(e)):t.dispatch(Object(Kn.s)({machineIdentifier:n.id,metricsProperties:{context:e}}))}}).fail(()=>{i===this._primaryServerPromise&&(this._primaryServerPromise=null,this.appModel.set("isWaitingForPrimaryServer",!1))}),i},_waitForPrimaryServer(){const e=this.appModel.get("user").get("lastPrimaryServerID");let t;return e?(Object(C.a)("[Primary Server] Waiting for the last primary server, %s, to connect",e),t=this.servers.populateServer({machineIdentifier:e,isPrimaryEligible:!0,isOutOfDate:!1})):t=D.a.Deferred().reject().promise(),t=t.then(null,()=>(Object(C.a)("[Primary Server] Waiting for any owned server to connect"),this.servers.populateServer({isFullOwnedServer:!0,isPrimaryEligible:!0,isOutOfDate:!1}))),t=t.then(null,()=>(Object(C.a)("[Primary Server] Waiting for any eligible server to connect"),this.servers.populateServer({isPrimaryEligible:!0,isOutOfDate:!1}))),t=t.then(null,()=>(Object(C.a)("[Primary Server] Waiting for any eligible server"),this.servers.findServer({isPrimaryEligible:!0,isOutOfDate:!1}))),t},onPrimaryServerChange(e,t){Mo.flushDebouncedSave();const i=e.previous("primaryServer");if(i&&this.stopListening(i),t){C.a.info("[Primary Server] %s is now the primary server",t.get("debugName"));if(e.get("user").set("lastPrimaryServerID",t.id),t.get("isRelayed")){Object(ne.c)("appStore").dispatch(Ai({machineIdentifier:t.id,serverName:t.get("friendlyName")}))}}else e.get("isWaitingForPrimaryServer")?Object(C.a)("[Primary Server] Waiting to set the primary server"):C.a.warn("[Primary Server] No primary server found")},onPrimaryServerEligibleChange(e,t){const i=this.appModel.get("user");t||(Object(C.a)("[Primary Server] The previous primary server, %s, is unauthorized",e.get("debugName")),i.unset("lastPrimaryServerID"),this._setPrimaryServer(_t.FALLBACK))},onPrimaryServerOutOfDateChange(e,t){const i=this.appModel.get("user");t&&(Object(C.a)("[Primary Server] The previous primary server, %s, is out of date",e.get("debugName")),i.unset("lastPrimaryServerID"),this._setPrimaryServer(_t.FALLBACK))},onWaitingForServersChange(e,t){if(t){const t=e.get("primaryServer"),i=!t||!this.servers.get(t.id),n=e.get("isWaitingForPrimaryServer");i&&!n&&this._setPrimaryServer(_t.FALLBACK)}},onPrimaryServerIsRelayedChange(e,t){if(t){Object(ne.c)("appStore").dispatch(Ai({machineIdentifier:e.id,serverName:e.get("friendlyName")}))}},onServersUpdate(){const e=this.appModel.get("user"),t=this.appModel.get("primaryServer");if(t){t&&!this.servers.get(t.id)&&(Object(C.a)("[Primary Server] The previous primary server, %s, was removed",t.get("debugName")),e.unset("lastPrimaryServerID"),this._setPrimaryServer(_t.FALLBACK))}else this._setPrimaryServer(_t.STARTUP)}});var y5t=Ee.a.extend({mixins:[Ne.a],initialize(e){this.appModel=e.appModel},start(){const e=this.appModel.get("user");this.populateCloudProviders(e.get("providers")),this.listenTo(this.appModel,{"change:user.change:providers.add":this.onProviderAdd})},stop(){this.stopListening()},populateCloudProviders(e){e.each(e=>{this.populateCloudProvider(e)})},populateCloudProvider(e){e.get("isPopulated")||Object(ne.c)("appStore").dispatch(yLe({providerEntityID:e.entityID(),options:{merge:!0}}))},onProviderAdd(e){this.populateCloudProvider(e)}});function f5t(e,t,i){return function(n){return n.server===e&&n.connection.id===t.id&&n.url===i}}var b5t=Ee.a.extend({initialize(e){this.appModel=e.appModel,this.queued=[],this.executing=[],this.maximumConcurrent=be.a.maximumConcurrentConnectionTests,this.throttledStartProcessing=I.a.throttle(this._startProcessing.bind(this),50,{leading:!1})},queueConnectionTest({server:e,connection:t,url:i}){const n=this._queuedOrExecuting(e,t,i);if(n)return n.deferred.promise();const a=D.a.Deferred();return this.queued.push({server:e,connection:t,url:i,deferred:a}),this._sortQueue(),this.throttledStartProcessing(),a.promise()},abortConnectionTest({server:e,connection:t,url:i}){return this._abortCurrentTest(e,t,i),this._removeQueuedOrExecuting(e,t,i),D.a.Deferred().resolve().promise()},reset(){for(this.queued.length=0;this.executing.length>0;)this.abortConnectionTest(this.executing[0])},_sortQueue(){const e=this.appModel.get("user").get("lastPrimaryServerID");this.queued.sort((t,i)=>{const n=t.server,a=i.server,s=t.connection,r=i.connection,o=this._isManualConnection(s),l=this._isManualConnection(r),c=this._isMatchingLocation(n,s),d=this._isMatchingLocation(a,r);return n.id===e&&a.id!==e?-1:a.id===e&&n.id!==e?1:n.get("isCloud")&&!a.get("isCloud")?-1:a.get("isCloud")&&!n.get("isCloud")?1:!s.get("relay")&&r.get("relay")?-1:!r.get("relay")&&s.get("relay")?1:!s.get("isConnected")&&r.get("isConnected")?-1:!r.get("isConnected")&&s.get("isConnected")?1:!n.get("isShared")&&a.get("isShared")?-1:!a.get("isShared")&&n.get("isShared")?1:n.get("isFullServer")&&!a.get("isFullServer")?-1:a.get("isFullServer")&&!n.get("isFullServer")?1:o&&!l?-1:l&&!o?1:s.get("isBundled")&&!r.get("isBundled")?-1:r.get("isBundled")&&!s.get("isBundled")?1:c&&!d?-1:d&&!c?1:0})},_startProcessing(){I.a.times(this.maximumConcurrent-this.executing.length,this._process.bind(this))},_process(){if(this.executing.length>=this.maximumConcurrent)return;if(!this.queued.length)return;const e=this.queued.shift(),{server:t,connection:i,url:n}=e;this._abortCurrentTest(t,i,n);const a=Object(ne.c)("testServerConnection")({server:t,connection:i,url:n});this.executing.push(e),a.done((t,i)=>{e.deferred.resolve(t,i)}),a.fail((t,i)=>{e.deferred.reject(t,i)}),a.always(()=>{const t=this.executing.indexOf(e);this.executing.splice(t,1),this._process()})},_abortCurrentTest(e,t,i){if(!t.get("currentTest"))return;t.get("currentTest").forEach(n=>{const a=e.resolveUrl(i||n.url,{connection:t});n&&"pending"===n.state()&&(Object(C.a)("[Connections] Aborting pending connection test for %s at %s",e.get("debugName"),a),G.a.abort(n.rid),n.abort())})},_isManualConnection:e=>e.get("sources").some(e=>0===e.id.indexOf("manualServer")),_isMatchingLocation(e,t){const i=e.get("publicAddressMatches"),n=t.get("isPrivate");return i&&n||!i&&!n},_queuedOrExecuting(e,t,i){const n=f5t(e,t,i);return I.a.find(this.executing,n)||I.a.find(this.queued,n)},_removeQueuedOrExecuting(e,t,i){const n=f5t(e,t,i),a=I.a.findIndex(this.executing,n),s=I.a.findIndex(this.queued,n);a>=0&&this.executing.splice(a,1),s>=0&&this.queued.splice(s,1)}});function I5t(e){return jg(Object.assign({entityID:e.entityID()},e.toJSON()))}const S5t=Object.keys(uo.prototype.syncedAttrs);var C5t=Ee.a.extend({mixins:[Ne.a],initialize(e){this.appModel=e.appModel,this.servers=this.appModel.get("servers")},start(){this.stop(),this.listenTo(this.servers,{"change:promiseState":this.onServerPromiseStateChange,remove:this.onServerRemove,"update reset":this.onServersUpdateReset,"change:resources.add":this.onResourceAdd,"change:resources.remove":this.onResourceRemove,"change:resources.update":this.onResourcesUpdate,"change:resources.reset":this.onResourcesReset,"change:resources.change:presence":this.onResourcesPresenceChange,"change:resources.change:connections.update":this.onResourceConnectionsUpdate,"change:isConnected":this.onConnectedChange,"change:desktop.change:isSettingsPopulated":this.onSettingsPopulatedChange}),S5t.forEach(e=>{this.listenTo(this.servers,"change:"+e,this.onStoredServerAttributeChange.bind(this,e))}),this.listenTo(U.a,"discover:servers",this.onDiscoverServers),this._setAuthorized(),this._checkFoundAllServers()},stop(){this.stopListening()},_checkFoundAllServers(){this.servers.shouldWaitForInitialServers()||this.servers.shouldWaitForResources()||this.servers.shouldWaitForPendingServers()?this._waitForServers():this._foundAllServers()},_waitForServers(){this.servers.waitForServers(),Object(Ti.a)(()=>{this.appModel.set("isWaitingForServers",!0)})},_foundAllServers(){this.servers.foundAllServers(),Object(Ti.a)(()=>{this.appModel.set("isWaitingForServers",!1)})},_fetchResources(e){if(e.get("isRejected"))return C.a.warn("[Servers] Failed to request resources through %s",e.get("debugName")),e.set({isResourcesPending:!1,hasFailedResources:!0,isDownForMaintenance:!1}),D.a.Deferred().reject().promise();if(!e.get("isResolved"))return Object(C.a)("[Servers] Finding resources through unresolved cloud server %o, resolving",e.get("debugName")),e.populate().then(()=>this._fetchResources(e));Object(C.a)("[Servers] Finding resources through %s",e.get("debugName")),this._waitForServers(),e.set("isResourcesPending",!0);const t=e.get("resources");return t.fetch().done(()=>{Object(C.a)("[Servers] Found %s resources through %s",t.length,e.get("debugName")),e.set({isResourcesPending:!1,isResourcesPopulated:!0,hasFailedResources:!1,isDownForMaintenance:!1})}).fail((t,i)=>{C.a.warn("[Servers] Failed to request resources through %s",e.get("debugName")),e.set({isResourcesPending:!1,hasFailedResources:!0,isDownForMaintenance:503===i.status})}).always(()=>{this._checkFoundAllServers()})},_convertResourceToServer:e=>(Object(C.a)("[Servers] %s was found through %s",e.get("name"),e.server.get("debugName")),fme(e)),_removeResource(e){Object(C.a)("[Servers] %s was removed as a resource from %s",e.get("name"),e.server.id);const t=this.servers.get(e.id);t&&t.removeSource(e.server.id)},_pruneStaleSources(e){const t=e.get("resources");let i=this.servers.length-1;for(;i>=0;){const n=this.servers.at(i),a=t.get(n.id);if(a){const t=n.get("connections");let i=t.length-1;for(;i>=0;){const n=t.at(i);if(n.get("sources").get(e.id)){a.get("connections").get(n.id)||n.get("sources").remove(e.id)}i--}}else n.removeSource(e.id);i--}},_setAuthorized(){const e=!!this.servers.findWhere({isConnected:!0,isCloud:!1}),t=!!this.servers.findWhere({isResolved:!0,isCloud:!0});this.appModel.set("authorized",e||t)},onServerPromiseStateChange(e,t){e.get("resources")&&this._fetchResources(e),this._setAuthorized(),this._checkFoundAllServers()},onStoredServerAttributeChange(e,t,i){const n=Mo.getActiveServers(),a=n&&n.get(t.id);a&&null!=i&&a.get(e)!==i&&(a.set(e,i),Mo.debouncedSave())},onServerRemove(e){C.a.warn("[Servers] %s was removed",e.get("debugName")),e.cache.remove(e),U.a.trigger("clearWhere:cache",{server:e})},onServersUpdateReset(){this._setAuthorized(),this._checkFoundAllServers()},onDiscoverServers(){const e=this.appModel.get("cloudServer");this._fetchResources(e)},onResourceAdd(e){if(I.a.contains(e.get("provides"),"server")){const t=this._convertResourceToServer(e);t.get("isMobileServer")||this.servers.add(t)}},onResourceRemove(e){this._removeResource(e)},onResourcesUpdate(e){this._pruneStaleSources(e.server),this._checkFoundAllServers()},onResourcesReset(e,t){const i=t.previousModels;I.a.each(i,t=>{e.contains(t)||this._removeResource(t)}),this._checkFoundAllServers()},onResourcesPresenceChange(e){const t=this.servers.get(e.id);t&&t.set("presence",e.get("presence"))},onResourceConnectionsUpdate(e){const t=e.parent,i=this.servers.get(t.id);i&&(yme(i,t),this._pruneStaleSources(e.server),this._checkFoundAllServers())},onConnectedChange(e,t){if(!t)return;const i=Object(ne.c)("appStore"),n=I5t(e);i.dispatch(ks.actions.connected({server:n})),e.get("isFullOwnedServer")&&(i.dispatch(_s.actions.fetchRequested({server:n})),i.dispatch(pK({serverEntityID:e.entityID()})))},onSettingsPopulatedChange(e,t){if(t){const t=e.get("settings"),i=t.get("AcceptedEULA");i&&!1===i.get("value")&&!window.location.hash.includes("/setup")&&U.a.trigger("navigate","setupBasic",{serverID:t.server.id})}}});var M5t=Ee.a.extend({mixins:[Ne.a],initialize(e){this.appModel=e.appModel},start(){this.stop(),this.listenTo(this.appModel.get("servers"),{"change:isConnected":this.onServerIsConnectedChange,"change:isInstallingServerUpdate":this.onIsInstallingServerUpdateChange})},stop(){this.stopListening()},onServerIsConnectedChange(e,t){t&&ne.c("appStore").dispatch(y2({serverEntityID:e.entityID()}))},onIsInstallingServerUpdateChange(e,t){t||ne.c("appStore").dispatch(y2({serverEntityID:e.entityID()}))}});var D5t=Ee.a.extend({mixins:[Ne.a],initialize(e){this.appModel=e.appModel,this.debouncedSaveTimeout=null},start(){this.listenTo(this.appModel,{"change:user.change:providers.add":this.onCloudProviderAdd,"change:user.change:providers.change:isPending":this.onCloudProviderIsPendingChange,"change:user.change:isProvidersPending":this.onCloudProvidersIsPendingChange}),this.listenTo(this.appModel.get("servers"),{"change:isConnected":this.onServerIsConnectedChange,"change:isProvidersPending":this.onServerIsProvidersPendingChange,add:this.onServerAdd,"change:friendlyName":this.onServerAttrChanged,"change:sourceTitle":this.onServerAttrChanged}),this.listenTo(this.appModel.get("cloudServer"),{"change:isResourcesPending":this.onCloudReadyChange,"change:hasFailedResources":this.onCloudReadyChange})},_getPinnedSources(){return this.appModel.get("user").get("experienceSettings").get("sidebarSettings").get("pinnedSources")},_getCustomHomeHubs(){return this.appModel.get("user").get("experienceSettings").get("homeSettings").get("hubs")},_shouldRemoveHiddenSource(e){const t=e.get("hiddenAt");return t>0&&Date.now()-t>604800},_hideCustomHomeHubs(e){e.forEach(e=>{e.get("isHidden")?this._shouldRemoveHiddenSource(e)&&(e.trigger("destroy",e,e.collection),this._debouncedSaveExperienceSettings()):(e.set({isHidden:!0,hiddenAt:Date.now()}),this._debouncedSaveExperienceSettings())})},_hidePinnedSources(e){let t;e.forEach(e=>{e.get("isHidden")?this._shouldRemoveHiddenSource(e)&&(e.trigger("destroy",e,e.collection),this._debouncedSaveExperienceSettings()):(e.set({isHidden:!0,hiddenAt:Date.now()}),t=!0,this._debouncedSaveExperienceSettings())}),t&&Object(ne.c)("appStore").dispatch(Bx())},_hideSourcesWithNoServer(){const e=this.appModel.get("servers"),t=this._getPinnedSources().filter(t=>!e.get(t.get("machineIdentifier"))),i=this._getCustomHomeHubs().filter(t=>!e.get(t.get("server").get("machineIdentifier")));this._hidePinnedSources(t),this._hideCustomHomeHubs(i)},_hideSourcesWithNoProvider(e,t,i,n){if(e.get("isConnected")&&i&&!n){const i=e.get("machineIdentifier"),n=this._getPinnedSources().filter(e=>{const n=e.get("machineIdentifier"),a=e.get("providerIdentifier");return n===i&&!t.get(a)}),a=this._getCustomHomeHubs().filter(e=>{const n=e.get("server").get("machineIdentifier"),a=e.get("provider").get("identifier");return n===i&&!t.get(a)});this._hidePinnedSources(n),this._hideCustomHomeHubs(a)}},_hideCloudSourcesWithNoProvider(e){const t=this.appModel.get("cloudServer");this._hideSourcesWithNoProvider(t,e.get("providers"),e.get("isProvidersPopulated"),e.get("providersError"))},_hideServerSourcesWithNoProvider(e){this._hideSourcesWithNoProvider(e,e.get("providers"),e.get("isProvidersPopulated"),e.get("providersError"))},_updateStoredPinnedSources(e,t){const i=[];let n;this._getPinnedSources().forEach(a=>{const s=lT(a.toJSON());if(s.machineIdentifier!==e.machineIdentifier||s.providerIdentifier!==t.identifier)return;const r=rte(t,s.directoryID);if(!r)return void(e.isConnected&&t.isPopulated&&i.push(a));const o=JQ(t,r),l=lT(nte({sourceType:o?o.key:null,sourceServer:e,sourceProvider:t,sourceDirectory:r}));a.get("isHidden")&&(l.isHidden=!1,l.hiddenAt=null,n=!0),wp(s,l)||(a.set(l),this._debouncedSaveExperienceSettings())}),this._hidePinnedSources(i),n&&Object(ne.c)("appStore").dispatch(Bx())},_updateStoredHomeHubModels(e,t){const i=[];this._getCustomHomeHubs().forEach(n=>{const a=n.toJSON();if(a.server.machineIdentifier!==e.machineIdentifier||a.provider.identifier!==t.identifier)return;const s=function(e,t){const i=Yt(e);return i&&i.directories?i.directories.find(e=>e.key===t||e.hubKey===t):null}(t,a.directoryKey),r=t&&t.features.find(e=>e.type===Ot.m);!(s||r&&r.key===a.directoryKey)?e.isConnected&&t.isPopulated&&i.push(n):n.get("isHidden")&&(n.set({isHidden:!1,hiddenAt:null}),this._debouncedSaveExperienceSettings())}),this._hideCustomHomeHubs(i)},_autoPinSources(e,t){const i=this.appModel.get("user").get("experienceSettings"),n=i.get("autoPinnedProviders"),a=i.get("sidebarSettings"),s=a.get("pinnedSources"),r=Object(Zc.a)(e.machineIdentifier,t.identifier);if(!jt.k(t.identifier,[jt.i,jt.b])||n.includes(r))return;i.set({autoPinnedProviders:[...n,r]}),this._debouncedSaveExperienceSettings();const o=Yt(t);if(!a.get("hasCompletedSetup")||!o||!o.directories)return;const l=o.directories.reduce((i,n)=>{const a=JQ(t,n),r=GQ(a?a.key:null,e.machineIdentifier,t.identifier,n.id);if(a&&!s.get(r)){const s=nte({sourceType:a?a.key:null,sourceServer:e,sourceProvider:t,sourceDirectory:n});i.push(lT(s))}return i},[]);l.length>0&&Object(ne.c)("appStore").dispatch(oL({sources:l,interaction:!1}))},_processSources(e,t){t.isPopulated&&(this._updateStoredPinnedSources(e,t),this._updateStoredHomeHubModels(e,t),this._autoPinSources(e,t))},_debouncedSaveExperienceSettings(){const e=this.appModel.get("user").get("experienceSettings");e.set({isDirty:!0}),this.debouncedSaveTimeout&&window.clearTimeout(this.debouncedSaveTimeout),this.debouncedSaveTimeout=window.setTimeout(()=>{e.get("isDirty")&&Object(ne.c)("appStore").dispatch(Object(Qu.l)())},1e3)},_processCloudProviderChange(e){const t=this.appModel.get("cloudServer").toJSON(),i=e.toJSON();this._processSources(t,i)},_processServerChange(e){if(!e.get("isConnected")||!e.get("isProvidersPopulated"))return;const t=e.toJSON();t.providers.forEach(e=>this._processSources(t,e))},onCloudProviderAdd(e){this._processCloudProviderChange(e)},onCloudProviderIsPendingChange(e,t){t||this._processCloudProviderChange(e)},onCloudProvidersIsPendingChange(e,t){t||this._hideCloudSourcesWithNoProvider(e)},onServerAttrChanged(e){this._processServerChange(e)},onServerIsConnectedChange(e,t){t||this._processServerChange(e)},onServerIsProvidersPendingChange(e,t){t||(this._hideServerSourcesWithNoProvider(e),this._processServerChange(e))},onServerAdd(e){this._processServerChange(e)},onCloudReadyChange(e){e.get("isResourcesPending")||e.get("hasFailedResources")||this._hideSourcesWithNoServer()}});function P5t(e,t){const i=e.get("user"),n=()=>{a&&(a=window.clearTimeout(a)),t(i,i.get("isSignedIn"))};let a=window.setTimeout(n,0);return i.on("change:isSignedIn",n),()=>{a&&(a=window.clearTimeout(a)),i.off("change:isSignedIn",n)}}var O5t=window.console.error.bind(window.console,"[Events]");class j5t{constructor(){this.listeners=void 0,this.listeners=new Map}destroy(){this.removeAllListeners()}addListener(e,t){var i=this.listeners.get(e)||new Set;this.listeners.has(e)||this.listeners.set(e,i),i.add(t)}emit(e,...t){var i;null==(i=this.listeners.get(e))||i.forEach(e=>{try{e(...t)}catch(e){O5t(e)}})}removeListener(e,t){var i;null==(i=this.listeners.get(e))||i.delete(t)}removeAllListeners(){this.listeners.forEach(e=>e.clear())}}class w5t{static fromJSON(e){var{playing:t,index:i,count:n,breakPosition:a}=e;return new w5t(t,i,n,a)}constructor(e,t,i,n){this.breakPositionSeconds=void 0,this.displayIndex=void 0,this.displayTotal=void 0,this.isPlaying=void 0,this.breakPositionSeconds=null!=n?n:null,this.displayIndex=null!=t?t:null,this.displayTotal=null!=i?i:null,this.isPlaying=e}toJSON(){var e={playing:this.isPlaying};return null!=this.breakPositionSeconds&&(e.breakPosition=this.breakPositionSeconds),null!=this.displayIndex&&(e.index=this.displayIndex),null!=this.displayTotal&&(e.count=this.displayTotal),e}toString(){return JSON.stringify(this.toJSON())}}class T5t{static fromJSON(e){if(e.name){var t=JSON.parse(e.name);return new T5t(t.uri,w5t.fromJSON(t.ads))}}constructor(e,t){this.ad=void 0,this.sourceUri=void 0,this.ad=t||new w5t(!1),this.sourceUri=e}toJSON(){var e={ads:this.ad.toJSON(),uri:this.sourceUri};return{name:JSON.stringify(e)}}}var E5t=/_+$/;class N5t{static fromJSON(e){var{deviceIdentifier:t,deviceName:i,userID:n}=e;return new N5t(n,t,i)}static fromString(e){var t=e.replace(E5t,"");return N5t.fromJSON(JSON.parse(t))}constructor(e,t,i){this.deviceIdentifier=void 0,this.deviceName=void 0,this.id=void 0,this.id="number"==typeof e?e:parseInt(e,10),this.deviceIdentifier=t,this.deviceName=i}toJSON(){var{deviceIdentifier:e,deviceName:t,id:i}=this;return{deviceIdentifier:e,deviceName:t,userID:String(i)}}toString(){return JSON.stringify(this.toJSON())}}class x5t{static fromJSON(e){return new x5t(N5t.fromString(e.username),e.room.name)}constructor(e,t){this.roomID=void 0,this.type="Hello",this.user=void 0,this.roomID=t,this.user=e}toJSON(){return{[this.type]:{room:{name:this.roomID},username:this.user.toString(),version:"1.6.4"}}}}class A5t{static fromJSON(e,t){return new A5t(N5t.fromString(e),t.isReady||!1,t.position,T5t.fromJSON(t.file))}constructor(e,t,i,n){this.user=void 0,this.isReady=void 0,this.position=void 0,this.file=void 0,this.file=n||null,this.isReady=t,this.position=i,this.user=e}}class L5t{static fromJSON(e,t){var i=e[t],n=[];for(var a in i){var s=A5t.fromJSON(a,i[a]);n.push(s)}return new L5t(n)}constructor(e){this.type="List",this.users=void 0,this.users=e||[]}toJSON(){return{[this.type]:{}}}}class k5t{static fromJSON(e,t){if(e.ready){var{isReady:i,username:n}=e.ready,a=N5t.fromString(n);return new k5t(a,i)}if(e.user){var[s,r]=Object.entries(e.user)[0];if(r.room.name===t){var o=N5t.fromString(s),l=r.file&&T5t.fromJSON(r.file),{joined:c=!1,left:d=!1}=r.event||{};return new k5t(o,l,c,d)}}}constructor(e,t,i,n){this.type="Set",this.file=null,this.hasJoined=null,this.hasLeft=null,this.isReady=null,this.user=void 0,this.user=e,"boolean"==typeof t||null===t?this.isReady=t:(this.file=null!=t?t:null,this.hasJoined=null!=i?i:this.hasJoined,this.hasLeft=null!=n?n:this.hasLeft)}toJSON(){var{file:e,isReady:t}=this;return e?{[this.type]:{file:e.toJSON()}}:null!=t?{[this.type]:{ready:{isReady:t}}}:void 0}}class R5t{static fromJSON(e){var{ping:t,playstate:i,ignoringOnTheFly:n}=e;return new R5t(t,i,n)}constructor(e,t,i){this.ignoringOnTheFly=void 0,this.ping=void 0,this.playstate=void 0,this.setBy=void 0,this.type="State",this.ignoringOnTheFly=i,this.ping=e,this.playstate=t,this.setBy=t.setBy?N5t.fromString(t.setBy):null}toJSON(){var{ignoringOnTheFly:e,ping:t,playstate:i}=this,n={ping:t,playstate:i};return null!=(null==e?void 0:e.client)&&null!=(null==e?void 0:e.server)?n.ignoringOnTheFly={client:e.client,server:e.server}:null!=(null==e?void 0:e.client)?n.ignoringOnTheFly={client:e.client}:null!=(null==e?void 0:e.server)&&(n.ignoringOnTheFly={server:e.server}),{[this.type]:n}}}var z5t=window.console.error.bind(window.console,"[WebSocketConnection]");class U5t extends j5t{destroy(){super.destroy()}}class V5t extends U5t{get isConnecting(){var e;return 0===(null==(e=this.socket)?void 0:e.readyState)}get isOpen(){var e;return 1===(null==(e=this.socket)?void 0:e.readyState)}constructor(e){super(),this.isPingEnabled=void 0,this.pingIntervalID=void 0,this.url=void 0,this.socket=void 0,this.onHelloInterval=()=>{try{this.isOpen&&this.send("hello")}catch(e){z5t("WebSocketConnection hello exception: "+e.message)}},this.isPingEnabled=!1!==e.isPingEnabled,this.url=e.url}open(){return new Promise((e,t)=>{if(this.isConnecting||this.isOpen)t(new Error("Refusing to open multiple connections"));else{var i=new window.WebSocket(this.url);this.socket=i,i.onerror=()=>{t(new Error("Connection error"))},i.onopen=()=>{this.isPingEnabled&&(this.pingIntervalID=window.setInterval(this.onHelloInterval,3e4)),i.onerror=null,i.onclose=e=>{this.pingIntervalID&&(window.clearInterval(this.pingIntervalID),delete this.pingIntervalID),this.emit("close",e)},i.onmessage=e=>{try{this.emit("message",this.parseMessage(e.data))}catch(e){z5t("Parse failure",e)}},this.emit("open"),e()}}})}close(e=1e3){if((this.isOpen||this.isConnecting)&&this.socket){var{socket:t}=this;delete this.socket,t.close(e),t.onopen=null,t.onclose=null,t.onerror=null,t.onmessage=null}}destroy(){super.destroy(),this.close()}send(e){var t,i;if(!this.isOpen)throw new Error("Cannot send to socket in state "+(null==(t=this.socket)?void 0:t.readyState));null==(i=this.socket)||i.send(e)}parseMessage(e){return JSON.parse(e)}}new M4t.a({attributePrefix:"",ignoreRoot:!0});var B5t=window.console.debug.bind(window.console,"[SyncplaySession]"),F5t=window.console.warn.bind(window.console,"[SyncplaySession]");class H5t extends j5t{constructor(e){super(),this.connection=void 0,this.roomID=void 0,this.onSocketClose=e=>{this.emit("close",e)},this.onSocketMessage=e=>{var t;B5t("Message ("+Date.now()+") <<",e),e.Error?this.close(1011):e.Hello?t=x5t.fromJSON(e.Hello):e.List?t=L5t.fromJSON(e.List,this.roomID):e.Set?t=k5t.fromJSON(e.Set,this.roomID):e.State&&(t=R5t.fromJSON(e.State)),t&&this.emit("message",t)};var{roomID:t,roomSyncplayHost:i,roomSyncplayPort:n}=e,a="wss://"+i+":"+n+"/ws";this.connection=new V5t({url:a,isPingEnabled:!1}),this.connection.addListener("close",this.onSocketClose),this.connection.addListener("message",this.onSocketMessage),this.roomID=t}destroy(){super.destroy(),this.connection.destroy()}open(){var e=this;return H4t()((function*(){yield e.connection.open()}))()}close(e=1e3){this.connection.close(e)}send(e){var t=e.toJSON();t&&this.connection.send(JSON.stringify(t)),(t?B5t:F5t)("Message ("+Date.now()+") >>",t||e)}}function _5t(){return window.performance.now()/1e3}class W5t{constructor(){this._lastForwardDelay=0,this.averageRtt=0,this.clientRtt=0,this.lastPing=void 0}get lastForwardDelaySeconds(){return this._lastForwardDelay}get state(){var e,t;return{clientLatencyCalculation:_5t(),clientRtt:this.clientRtt,serverRtt:(null==(e=this.lastPing)?void 0:e.serverRtt)||0,latencyCalculation:(null==(t=this.lastPing)?void 0:t.latencyCalculation)||0}}update(e){var{clientLatencyCalculation:t,serverRtt:i}=e;this.lastPing=e,null!=t&&(this.clientRtt=_5t()-t,this.clientRtt<0||i<0||(0===this.averageRtt&&(this.averageRtt=i),this.averageRtt=.85*this.averageRtt+this.clientRtt*(1-.85),this._lastForwardDelay=this.averageRtt/2,i<this.clientRtt&&(this._lastForwardDelay+=this.clientRtt-i)))}}var Q5t=window.console.debug.bind(window.console,"[SyncplayClient]");function G5t(e){return["User",e.id,"("+e.deviceName+")"]}class K5t extends j5t{get isReady(){return!this.file.ad.isPlaying&&this.playerBridge.hasInitialBuffer}constructor(e){super(),this.eventFields=void 0,this.file=void 0,this.ignoringOnTheFly=void 0,this.lastIsReady=void 0,this.lastSentFile=void 0,this.pingHelper=void 0,this.roomID=void 0,this.roomSourceUri=void 0,this.session=void 0,this.user=void 0,this.playerBridge=void 0,this.onSessionClose=e=>{this.emit("close",e)},this.onSessionMessage=e=>{e instanceof x5t?this.onHelloMessage(e):e instanceof L5t?this.onListMessage(e):e instanceof k5t?this.onSetMessage(e):e instanceof R5t&&this.onStateMessage(e)},this.onHelloMessage=e=>{this.session.send(new L5t)},this.onListMessage=e=>{e.users.forEach(e=>{this.tryEmitUserState(!0,e.isReady,e.user)}),e.users.forEach(e=>{this.tryEmitAdState(e.file,e.user)})},this.onSetMessage=e=>{var{user:t}=e,i=null!=e.hasJoined||null!=e.hasLeft?e.hasJoined||!e.hasLeft:null;this.tryEmitUserState(i,e.isReady,t),this.tryEmitAdState(e.file,t)},this.onStateMessage=e=>{var t=this.lastSentFile!==this.file;this.pingHelper.update(e.ping),this.tryUpdateIgnoringOnTheFly(e),this.tryEmitPlaybackState(e);var i=this.shouldEchoSessionState()?{doSeek:!1,paused:e.playstate.paused,position:e.playstate.position,setBy:null}:{doSeek:this.playerBridge.hasPendingSeek,paused:this.playerBridge.isPaused,position:this.playerBridge.positionSeconds,setBy:null};t&&this.playerBridge.hasPendingSeek&&(i.doSeek=this.playerBridge.hasPendingSeek,i.position=this.playerBridge.positionSeconds);var n=this.isReady;this.playerBridge.hasPendingPlayPause=!1,this.playerBridge.hasPendingSeek=!1,this.session.send(new R5t(this.pingHelper.state,i,this.ignoringOnTheFly)),t&&(this.lastSentFile=this.file,this.session.send(new k5t(this.user,this.lastSentFile))),this.lastIsReady!==n&&(Q5t("Setting isReady",{isReady:n,isAdPlaying:this.file.ad.isPlaying,hasInitialBuffer:this.playerBridge.hasInitialBuffer}),this.lastIsReady=n,this.session.send(new k5t(this.user,this.lastIsReady)))};var{deviceIdentifier:t,deviceName:i,userID:n,playerBridge:a,roomID:s,roomSourceUri:r,roomSyncplayHost:o,roomSyncplayPort:l}=e;this.eventFields={roomID:s},this.file=new T5t(r),this.ignoringOnTheFly={client:0,server:0},this.pingHelper=new W5t,this.playerBridge=a,this.roomID=s,this.roomSourceUri=r,this.user=new N5t(n,t,i),this.session=new H5t({roomID:s,roomSyncplayHost:o,roomSyncplayPort:l}),this.session.addListener("close",this.onSessionClose),this.session.addListener("message",this.onSessionMessage)}destroy(){super.destroy(),this.leave(),this.session.destroy()}join(){var e=this;return H4t()((function*(){yield e.session.open(),e.session.send(new x5t(e.user,e.roomID))}))()}leave(){this.session.close(),this.file=new T5t(this.roomSourceUri)}setAdState(e,t,i){var n,a=null==(n=this.file)?void 0:n.ad;(null==a?void 0:a.isPlaying)!==e||(null==a?void 0:a.displayIndex)!==t||(null==a?void 0:a.displayTotal)!==i?this.file=new T5t(this.roomSourceUri,e?new w5t(e,t,i):void 0):Q5t("Will not Set redundant session ad state",{isPlaying:e,displayIndex:t,displayTotal:i})}tryEmitAdState(e,t){if(e){var{ad:i}=e,n=Object.assign({},this.eventFields,{ad:i,user:t});Q5t(...G5t(t),"ad state",i),this.emit("session",n)}}tryEmitUserState(e,t,i){var n=Object.assign({},this.eventFields,{user:i});null!=e&&(Q5t(...G5t(i),"present?",e),n.isPresent=e),null!=t?(Q5t(...G5t(i),"ready?",t),n.isReady=t):!1===e&&(n.isReady=!1),null==e&&null==t||this.emit("session",n)}tryEmitPlaybackState(e){var t;if(!((null==(t=e.setBy)?void 0:t.deviceIdentifier)===this.user.deviceIdentifier||this.ignoringOnTheFly.client>0)){var{playstate:i,setBy:n}=e,a=i.position+(i.paused?0:this.pingHelper.lastForwardDelaySeconds),s={isPaused:i.paused,positionSeconds:a,shouldSeek:i.doSeek},r=Object.assign({},this.eventFields,s);n?(Q5t(...G5t(n),"playback state",s),r.user=n):Q5t("Server playback state",s),this.emit("session",r)}}tryUpdateIgnoringOnTheFly(e){var t,i,{ignoringOnTheFly:n}=this,a=null!=(null==(t=e.ignoringOnTheFly)?void 0:t.client)&&e.ignoringOnTheFly.client>0?e.ignoringOnTheFly.client:0;n.server=null!=(null==(i=e.ignoringOnTheFly)?void 0:i.server)&&e.ignoringOnTheFly.server>0?e.ignoringOnTheFly.server:0,(this.shouldEchoSessionState()||a===n.client)&&(n.client=0),this.shouldEchoSessionState()||!this.playerBridge.hasPendingPlayPause&&!this.playerBridge.hasPendingSeek||n.client++}shouldEchoSessionState(){return!this.playerBridge.isPlayerForeground||this.file.ad.isPlaying||this.ignoringOnTheFly.server>0}}i("6oI5");let Y5t;function q5t(){const e=!!Y5t;return e||C.a.warn("[Watch Together] Syncplay client is unavailable"),e}var Z5t=class{constructor({appModel:e,appStore:t}){this.appModel=void 0,this.appStore=void 0,this.appModel=e,this.appStore=t}start(){const{appModel:e,appStore:t}=this,i=t.dispatch;P5t(e,(e,t)=>{!t&&Y5t&&i(Goe())})}update({hasPendingSeek:e,hasPendingPlayPause:t,isAdPlaying:i,adDisplayIndex:n,adDisplayTotal:a}){q5t()&&(void 0!==i&&Y5t.setAdState(i,null!=n?n:void 0,null!=a?a:void 0),void 0!==t&&(Y5t.playerBridge.hasPendingPlayPause=t),void 0!==e&&(Y5t.playerBridge.hasPendingSeek=e))}leave(){q5t()&&(Y5t.destroy(),Y5t=void 0)}join({roomID:e,roomSourceUri:t,roomSyncplayHost:i,roomSyncplayPort:n}){const{appModel:a,appStore:s}=this;Y5t=new K5t({deviceIdentifier:$.prop("X-Plex-Client-Identifier"),deviceName:$.prop("X-Plex-Device-Name"),playerBridge:{get hasInitialBuffer(){var e=Object(ne.c)("appModel"),t=Object(S7.c)(e,V8.a);if(t.get("canPlayThrough"))return!0;for(var i=t.get("bufferedRanges"),n=t.get("positionSeconds")+5,a=0;a<i.length;a++){var s=i[a];if(n>=s.startSeconds&&n<=s.endSeconds)return!0}return!1},hasPendingPlayPause:!1,hasPendingSeek:!1,get isPaused(){var e=Object(ne.c)("appModel");return Object(S7.c)(e,V8.a).get("isPaused")},get isPlayerForeground(){var e=Object(ne.c)("appModel");return!1===Object(S7.c)(e,V8.a).get("isWatchTogetherLobbyVisible")},get positionSeconds(){var e=Object(ne.c)("appModel"),t=Object(S7.c)(e,V8.a);return null!=t.get("lastSeekPositionSeconds")?t.get("lastSeekPositionSeconds"):t.get("positionSeconds")}},roomID:e,roomSourceUri:t,roomSyncplayHost:i,roomSyncplayPort:n,userID:a.get("user").id}),Object(C.a)("[Watch Together] Joining session for room:",e),Y5t.join().then(()=>{Object(C.a)("[Watch Together] Joined session for room:",e),Object(ne.c)("metrics").trackEvent({event:"watchtogether:joined",interaction:!0,properties:{playbackSessionId:e}}),Y5t.addListener("session",t=>{const i={roomID:e,event:t};C.a.groupCollapsed("[Watch Together] Session event"),C.a.debug("[Watch Together] Event:",t),s.dispatch(Zoe(i)),s.dispatch(Xoe(i)),s.dispatch(Joe(i)),C.a.groupEnd()}),Y5t.addListener("close",t=>{C.a.warn("[Watch Together] Session closed unexpectedly:",t),s.dispatch(Koe({roomID:e,sessionError:Object(Ze.default)("Lost connection to the Watch Together session.")}))})}).catch(t=>{C.a.error("[Watch Together] Error joining session for room:",e,t),s.dispatch(Koe({roomID:e,sessionError:Object(Ze.default)("Could not join at this time.")}))})}};class J5t extends U5t{get isConnecting(){return!1}get isOpen(){return this.cloudServerModel.get("hasEventConnection")}constructor(){super(),this.cloudServerModel=void 0,this.onDispatcherMessage=e=>{this.emit("message",e)},this.onHasEventConnectionChange=()=>{this.cloudServerModel.get("hasEventConnection")?this.emit("open"):this.emit("close")};var e=Object(ne.c)("appModel");this.cloudServerModel=e.get("cloudServer"),this.cloudServerModel.on({"change:hasEventConnection":this.onHasEventConnectionChange}),U.a.on({"cloudServer:notifyWatchTogetherExpire":this.onDispatcherMessage,"cloudServer:notifyWatchTogetherInvite":this.onDispatcherMessage}),this.cloudServerModel.get("hasEventConnection")&&this.onHasEventConnectionChange()}open(){return Promise.reject(new Error("Cannot open directly"))}close(){throw new Error("Cannot close directly")}send(){throw new Error("Cannot send directly")}destroy(){super.destroy(),U.a.off({"cloudServer:notifyWatchTogetherExpire":this.onDispatcherMessage,"cloudServer:notifyWatchTogetherInvite":this.onDispatcherMessage}),this.cloudServerModel.off({"change:hasEventConnection":this.onHasEventConnectionChange})}}i("OYMB");function X5t(e){return e}function $5t(...e){return e.filter(e=>!!(null==e?void 0:e.trim())).map(e=>null==e?void 0:e.replace(/^\/+|\/+$/g,"")).join("/")}class e6t{constructor(e){this.endpoint="https://together.plex.tv/rooms",this.accessToken=void 0,this.accessToken=e.accessToken}create(e,t,i){var n=this;return H4t()((function*(){return(yield ba.a.post(n.endpoint,{sourceUri:e,title:t,users:i||null},{params:{"X-Plex-Token":n.accessToken},responseType:"json"})).data}))()}createInvites(e,t){var i=this;return H4t()((function*(){return(yield ba.a.post($5t(i.endpoint,e,"invite"),{users:t},{params:{"X-Plex-Token":i.accessToken},responseType:"json"})).data}))()}delete(e){var t=this;return H4t()((function*(){yield ba.a.delete($5t(t.endpoint,e),{params:{"X-Plex-Token":t.accessToken},responseType:"json"})}))()}get(e){var t=this;return H4t()((function*(){var i=yield ba.a.get($5t(t.endpoint,e),{params:{"X-Plex-Token":t.accessToken},responseType:"json"});return e?i.data:function(e){return e.rooms.map(X5t)}(i.data)}))()}patch(e,t){var i=this;return H4t()((function*(){return(yield ba.a.patch($5t(i.endpoint,e),{params:Object.assign({},t,{"X-Plex-Token":i.accessToken}),responseType:"json"})).data}))()}}class t6t extends j5t{get isOpen(){return this.pubsub.isOpen}constructor(e){super(),this.pubsub=void 0,this.service=void 0,this.onPubSubMessage=e=>{var{command:t}=e;"notifyWatchTogetherInvite"!==t&&"notifyWatchTogetherExpire"!==t||this.rooms()},this.onPubSubClose=e=>{this.emit("close",e)};var{accessToken:t,pubsub:i}=e;this.pubsub=i,this.pubsub.addListener("close",this.onPubSubClose),this.pubsub.addListener("message",this.onPubSubMessage),this.service=new e6t({accessToken:t})}open(){return this.pubsub.open()}destroy(){super.destroy(),this.pubsub.destroy()}rooms(){var e=this;return H4t()((function*(){var t=yield e.service.get();return e.emit("rooms",t),t}))()}createRoom(e,t,i){var n=this;return H4t()((function*(){var a=yield n.service.create(e,t,i);return yield n.rooms(),a.id}))()}deleteRoom(e){var t=this;return H4t()((function*(){try{yield t.service.delete(e)}catch(e){var i;if(404!==(null==e||null==(i=e.response)?void 0:i.status))throw e}yield t.rooms()}))()}inviteUsers(e,t){var i=this;return H4t()((function*(){yield i.service.createInvites(e,t),yield i.rooms()}))()}}let i6t;var n6t=class{constructor({appModel:e,appStore:t}){this.appModel=void 0,this.appStore=void 0,this.appModel=e,this.appStore=t}start(){const{appModel:e,appStore:t}=this;P5t(e,(i,n)=>{if(i6t&&(i6t.destroy(),i6t=null,Object(C.a)("[Watch Together] stopped rooms client")),n){const n=i.id;lle(i.get("features").populate({timeout:5e3})).then(()=>{if(e.get("user").id!==n)return Promise.reject(new Error("User has changed"));if(!Object(gT.a)(e,wt.E))return Promise.reject(new Error("User missing feature access"));const a=i.get("authToken");i6t=new t6t({accessToken:a,pubsub:new J5t}),i6t.addListener("rooms",e=>{t.dispatch(vle({rooms:e}))}),t.dispatch(gle())}).catch(e=>{C.a.warn("[Watch Together] cannot start",e)})}})}getRoomsClient(){return i6t}};const a6t={[R3t.c]:"fullScreenVideo",[R3t.a]:"fullScreenMusic",[R3t.b]:"fullScreenPhoto"};function s6t(e,t){const i=e.get("connections").filter(e=>e.get("isConnected")&&!e.get("isLoopback")),n=i.length?i.reduce(Ki):null;if(n)return{machineIdentifier:e.get("originalMachineIdentifier")||e.get("machineIdentifier"),protocol:n.get("scheme"),address:n.getAddressFromUri(),port:n.get("port")}}function r6t(e,t,i){const{getPlayerModels:n,getVolume:a}=i;let s,r=!1,o=!1;function l(t={}){if(s)return void(o=!0);if(o=!1,n(e).some(e=>e.get("isPlayQueueLoading")))return;const i=c(R3t.c),a=c(R3t.a),r=c(R3t.b),l={MediaContainer:{_location:i._location||r._location||a._location||"navigation",Timeline:[i,a,r]}};t.requestDisconnect&&(l.MediaContainer._disconnected=1),Object(C.a)(l);Object(ne.c)("companionProxy").publish(l),s=window.setTimeout(d,1e3)}function c(t){const i={_type:t,_state:"stopped",_volume:a(e),_autoPlay:Object(ne.c)("settingFinder").find("autoPlay")?1:0,_subtitleColor:Object(ne.c)("settingFinder").find("subtitleColor"),_subtitlePosition:Object(ne.c)("settingFinder").find("subtitlePosition"),_subtitleSize:Object(ne.c)("settingFinder").find("subtitleSize"),_controllable:Object(ne.c)("companionPlayerProfile")[t]},s=function(t){const i=R3t.e(t),a=n(e);return a.find(e=>{const t=e.get("playQueue");if(t&&t.get("type")===i)return e})}(t);if(!s)return i;const r=s.get("serverEntityID"),o=s.get("providerEntityID"),l=Object(wi.m)(e,{serverEntityID:r}),c=Object(wi.j)(e,{providerEntityID:o}),d=s6t(l);c&&jt.k(c.get("identifier"),jt.b)&&(i._controllable=Object(ne.c)("companionPlayerProfile").videoCloudLiveTV);const u=s.get("decisions"),p=s.get("playQueue"),h=p.get("playQueueItems"),m=p.get("playQueueSelectedItemID"),g=h.get(m),v=g.get("metadataItem"),y=Object(Dre.a)({metadataItemModel:v}),f=R3t.d(y),b=1e3*s.get("positionSeconds"),S=1e3*s.get("durationSeconds");let C=W3t.b;return s.get("repeatOne")?C=W3t.c:s.get("repeatAll")&&(C=W3t.a),d?(i._machineIdentifier=d.machineIdentifier,i._protocol=d.protocol,i._address=d.address,i._port=d.port):i._machineIdentifier=l.get("originalMachineIdentifier")||l.get("machineIdentifier"),i._providerIdentifier=c.get("identifier"),i._itemType=f,i._key=v.get("key"),i._ratingKey=v.get("ratingKey"),i._containerKey=I.a.result(p,"url"),p.get("isLocal")||(i._playQueueID=p.get("playQueueID"),i._playQueueItemID=m,i._playQueueVersion=p.get("playQueueVersion")),i._state=Object(T3t.a)(s),i._time=b,i._duration=S,i._seekRange="0-"+S,i._shuffle=p.get("playQueueShuffled")?1:0,i._repeat=C,s.get("openState")===b7.a&&(i._location=function(e){return a6t[e]}(t)),Object.assign({},i,function(e,t){const i=e.get("metadataItem"),n=t[e.entityID()];if(!n)return{};const a={_mediaIndex:n.mediaIndex,_partIndex:n.partIndex,_partCount:n.partCount},s=i.get("Media")[n.mediaIndex],r=s&&s.Part,o=r&&r[n.partIndex];return(o?o.Stream:[]).reduce((e,{id:t,streamType:i,selected:n})=>t?(i===_C.a.get("video").id?e._videoStreamID=t:n&&(i===_C.a.get("audio").id?e._audioStreamID=t:i===_C.a.get("subtitles").id&&(e._subtitleStreamID=t)),e):e,a)}(g,u))}function d(){s=null,o&&l()}function u(){l()}return{start:function(){if(r)return;r=!0,(Object(ne.a)("remoteCastPlayerManager")||Object(ne.a)("remotePlexPlayerManager"))&&t.dispatch(L7()),n(e).forEach(e=>{e.on("change",u)})},stop:function(t){r=!1,s&&(window.clearTimeout(s),s=null),n(e).forEach(e=>{e.off("change",u)}),t&&l({requestDisconnect:t})}}}var o6t=i("RNo0");var l6t=i("Xh8s");function c6t(e,t){const i=s6t(e);return i?(i.transcoderVideo=e.get("transcoderVideo")||!1,i.transcoderVideoRemuxOnly=e.get("transcoderVideoRemuxOnly")||!1,i.transcoderAudio=e.get("transcoderAudio")||!1,i.version=e.get("shortVersion"),i.myPlexSubscription=e.get("myPlexSubscription"),i.isVerifiedHostname="https"===i.protocol&&!ce(i.address),function(e,t={}){const i=e.get("accessToken");return!e.supports("transientToken")||e.get("isCloud")||/^transient-/.test(i)?D.a.Deferred().resolve(i).promise():D.a.ajax(e.getXHROptions("/security/token",{data:{type:t.type||"delegation",scope:t.scope||"all"}})).promise().then(e=>Object(l6t.a)(e).token||D.a.Deferred().reject().promise())}(e).then(e=>(i.accessToken=e,i))):D.a.Deferred().reject().promise()}function d6t(e,t){const i=t.dispatch;let n,a,s,r,o,l=0,c=0,d=!1,u={},p={};function h(e,t={},i={}){if(!n)return D.a.Deferred().reject().promise();const a=V.join([n.baseURL,e],Object.assign({},t,{commandID:l})),s=n.server.getXHROptions(a,Object.assign({},i,{scope:"remoteCastPlayerManager",headers:{"X-Plex-Target-Client-Identifier":n.get("machineIdentifier")}}));return D.a.ajax(s)}function m(e){const{type:t,state:n,providerIdentifier:a,machineIdentifier:s,containerKey:r,key:o}=e,l=e.playQueueItemID||e.playQueueItemId,c=R3t.e(t),d=Object(ho.a)(e.continuing);if("stopped"===n&&!d)return u[t]=null,p[t]=null,void i(A7({playQueueType:c}));const h=Object(mo.a)(e.playQueueVersion),m=Object(mo.a)(e.time),g=Object(mo.a)(e.duration),v=Object(mo.a)(e.mediaIndex),y=Object(mo.a)(e.partIndex),f=e.audioStreamID?Object(mo.a)(e.audioStreamID):null,b=e.subtitleStreamID?Object(mo.a)(e.subtitleStreamID):null,I=Object(mo.a)(e.volume),S=Object(mo.a)(e.repeat),C=(e.controllable||"").split(","),M={positionSeconds:Math.floor(m/1e3),durationSeconds:Math.floor(g/1e3),mediaIndex:v,partIndex:y,isPaused:"paused"===n,isBuffering:"buffering"===n,hasError:"error"===n,controllable:C.reduce((e,t)=>(e[t]=!0,e),{})},D=u[t],P=p[t],O=l!==D||h!==P;u[t]=l,p[t]=h,i(M7({playQueueType:c,options:{providerIdentifier:a,machineIdentifier:s,containerKey:r,key:o,playQueueItemID:l,shouldRefreshPlayQueue:O,initialState:M}})),i(D7({playQueueType:c,playerState:M,providerIdentifier:a,machineIdentifier:s})),function(e){const t={};null!=e.autoPlay&&(t.autoPlay="1"===e.autoPlay),null!=e.subtitleColor&&(t.subtitleColor=e.subtitleColor),null!=e.subtitlePosition&&(t.subtitlePosition=e.subtitlePosition),null!=e.subtitleSize&&(t.subtitleSize=Object(mo.a)(e.subtitleSize,10)),i(w7(t))}(e),i(P7({playQueueType:c,playQueueVersion:h,repeatAll:S===W3t.a||S===W3t.c,repeatOne:S===W3t.c})),i(j7({playQueueType:c,key:o,mediaIndex:v,partIndex:y,audioStreamID:f,subtitleStreamID:b})),null!=e.volume&&i(T7(I))}function g(){a=null,null!=s&&(f(s),s=null)}function v(){r=null,null!=o&&(b(o),o=null)}function y(e,t){return n?(l++,h(e,t)):(C.a.warn("[Companion] Command for "+e+" ignored; no current player"),D.a.Deferred().reject().promise())}function f(e){a?(window.clearTimeout(a),s=e):y("/player/playback/seekTo",e),a=window.setTimeout(g,200)}function b(e){r?(window.clearTimeout(r),o=e):y("/player/playback/setParameters",e),r=window.setTimeout(v,200)}return{requestSession:function(t){n=Dx(e,{playerIdentifier:t}),n?(i(C7(t)),l=0,c=0,function e(t={}){n&&h("/player/timeline/poll",t,{timeout:2e4}).done((a,s,r)=>{c=0;const o=Object(l6t.a)(a);if(Object(ho.a)(o.disconnected)&&t.wait)return void i(L7());const u=n.get("machineIdentifier"),p=r.getResponseHeader("X-Plex-Client-Identifier"),h=Object(mo.a)(o.commandID),g=u===p||n.baseURL;if(!d&&g&&h>=l){const e=Object(o6t.a)(o.Timeline),t=I.a.findWhere(e,{type:"video"}),i=I.a.findWhere(e,{type:"music"}),n=I.a.findWhere(e,{type:"photo"});!t||i&&i.state&&"stopped"!==i.state?i&&m(i):m(t),n&&m(n),l=h}e({wait:1})}).fail((n,a)=>{n&&n.aborting||("error"===a?(c++,t.wait&&c<=3?(C.a.warn("[Companion] Poll request failed; retrying..."),e({wait:1})):(C.a.warn("[Companion] Poll request failed 3 times in a row; giving up"),i(L7()))):e({wait:1}))})}()):C.a.warn('[Companion] Request session ignored; no player with identifier "'+t+'"')},endSession:function(){n?(a&&(window.clearTimeout(a),a=null),r&&(window.clearTimeout(r),r=null),G.a.abortAll("remoteCastPlayerManager"),h("/player/timeline/unsubscribe"),n=null,s=null,o=null,u={},p={}):C.a.warn("[Companion] End session ignored; no current player")},startPlayback:function(e){if(!n)return void C.a.warn("[Companion] Start playback ignored; no current player");const t=e.get("playQueue"),a=t.get("type"),s=t.get("playQueueItems").get(t.get("playQueueSelectedItemID")).get("metadataItem"),r=t.server,o=t.provider;if("speaker"===n.get("deviceClass")&&t.get("type")!==f7.a)return void i(E7({playQueueType:a,errorMessage:Object(Ze.default)("The connected player only supports audio playback.")}));const l=1e3*e.get("positionSeconds")||Math.floor(Object(Dme.a)(e,s));d=!0,c6t(r).done(e=>{const n=e.machineIdentifier,r=o.get("identifier"),c={type:R3t.d(t.get("type")),providerIdentifier:r,containerKey:V.join([I.a.result(t,"url")],{own:1}),key:s.get("key"),offset:l,machineIdentifier:n,protocol:e.protocol,address:e.address,port:e.port,token:e.accessToken};Object(C.a)("[Companion] Sending play media request"),y("/player/playback/playMedia",c).done(()=>{d=!1,Object(C.a)("[Companion] Play media success"),i(D7({playQueueType:a,playerState:{isMediaLoading:!1},providerIdentifier:r,machineIdentifier:n}))}).fail(e=>{d=!1,C.a.warn('[Companion] Failed to play media with error "'+e.status+'"'),i(E7({playQueueType:a}))})}).fail(()=>{d=!1,i(E7({playQueueType:a,errorMessage:Object(Ze.default)('The server "{serverName}" does not have a valid connection for casting. Check that the server is claimed in server settings.',{serverName:r.get("friendlyName")})}))})},mirrorDetails:function(e){if(!n)return void C.a.warn("[Companion] Mirror details ignored; no current player");const t=n.get("protocolCapabilities");if(!t||-1===t.indexOf("mirror"))return void C.a.warn("[Companion] Mirror details ignored; player does not advertise support for the `mirror` capability");const i=e.server,a=e.provider;c6t(i).done(t=>{h("/player/mirror/details",{key:e.get("key"),providerIdentifier:a.get("identifier"),machineIdentifier:t.machineIdentifier,protocol:t.protocol,address:t.address,port:t.port,token:t.accessToken})})},sendCommand:y,seek:f,changeVolume:b}}var u6t=v.c.Model.extend({initialize:function(e,t){this.set("time",new Date)}}),p6t=new(v.c.Model.extend({initialize:function(e,t){this.set("host",window.location.host),this.set("userAgent",window.navigator.userAgent),this.set("browser",Td.a)},toJSON:function(){const e=this.parent,t=e.get("primaryServer"),i=e.get("user");return this.set("version","4.51.3"),t&&(t.get("activeConnection")&&this.set("primaryServerUrl",t.url()),this.set("primaryServerAuthToken",!!t.get("accessToken")),this.set("primaryServerVersion",t.get("versionFull"))),this.set("username",i.get("username")),this.set("cloudUrl",i.server.get("connections")),v.c.Model.prototype.toJSON.apply(this,arguments)}}));const h6t=/("?(auth_token|accessToken|X-Plex-Token|authToken|token)"?[:=].*?)("?[-\w]+"?)/g,m6t=/("?(email)"?[:=]([\s]+)?)("(.*)")/g,g6t=/("?(address|host|uri)"?[:=].*?)(".*")/g;function v6t(e){if(e)return e.replace(h6t,'$1"TOKEN"').replace(m6t,'$1"EMAIL"').replace(g6t,'$1"IP ADDRESS"')}var y6t=/(password=)([^&]+)/;function f6t(e){return e.replace(h6t,"$1TOKEN").replace(y6t,"$1PASSWORD")}var b6t=v.c.Collection.extend({model:u6t,initialize:function(e,t){I.a.bindAll(this,"onAjaxComplete","onAppModelRegistered"),this.parent=t.parent,p6t.parent=t.parent,Object(ne.d)("appModel").done(this.onAppModelRegistered)},reconfigure(){Object(ne.c)("appModel").get("deviceSettings").get("debugLevel")?this.start():this.stop()},start:function(){this.enabled||(this.enabled=!0,this.reset(),this.listenTo(U.a,"log:message",this.onLogMessage),v.c.history.on("route",this.onRoute,this),D()(document).on("ajaxComplete",this.onAjaxComplete))},stop:function(){this.enabled&&(this.enabled=!1,this.reset(),this.stopListening(U.a),v.c.history.off("route",this.onRoute,this),D()(document).off("ajaxComplete",this.onAjaxComplete))},destroy:function(){this.stop(),this.stopListening()},add:function(){this.length>200&&this.shift(),v.c.Collection.prototype.add.apply(this,arguments)},toJSON:function(){var e=v.c.Collection.prototype.toJSON.apply(this,arguments);return e.unshift(I.a.extend({type:"info"},p6t.toJSON())),e},toJSONString:function(){return JSON.stringify(this.toJSON(),null,2)},onAppModelRegistered:function(e){const t=e.get("deviceSettings");this.listenTo(t,"change:debugLevel",this.reconfigure),this.reconfigure()},onLogMessage:function(e){this.add(e)},onRoute:function(e,t,i){var n={type:"navigation",route:t,args:i,fragment:window.location.hash};this.add(n)},onAjaxComplete:function(e,t,i){const n=Object(ne.c)("appModel").get("deviceSettings").get("debugLevel"),a={type:"ajax",url:f6t(i.url),status:t.status};var s;I.a.isEmpty(i.headers)||(a.headers=((s=i.headers)&&s.hasOwnProperty("X-Plex-Token")&&(s["X-Plex-Token"]="TOKEN"),s&&s.hasOwnProperty("Authorization")&&(s.Authorization="BASIC AUTHORIZATION"),s)),I.a.isEmpty(i.data)||(a.params=f6t(i.data)),200===t.status?2===n?a.response=v6t(t.responseText):a.responseLength=t.responseText?t.responseText.length:0:(a.statusText=t.statusText,a.response=v6t(t.responseText)),this.add(a)}});var I6t=Object(Wu.a)(Rg.a,e=>e.remoteQuality);var S6t=Object(Wu.a)(fk,e=>e.restorePlayQueue);var C6t=Object(Wu.a)(Rg.a,e=>({color:e.subtitleColor,position:e.subtitlePosition,size:e.subtitleSize}));var M6t={CREATED:0,PROGRESS:1,MATCHING:2,DOWNLOADING_METADATA:3,LOADING_METADATA:4,PROCESSED:5,DELETED:9};const D6t=I.a.reduce(dt.a,(e,t)=>(e[t]="Metadata",e),{});var P6t=function e(t){if(!t||!t._children)return t;const i=I.a.clone(t),n=i._children;return Array.isArray(n)&&(n.forEach(t=>{const n=t._elementType;if(t._elementType=null,t.elementName=n,n){const a=D6t[n]||n,s=i[a],r=e(t);s?Array.isArray(s)?s.push(r):i[a]=[s,r]:i[a]=r}}),i._children=null),i};var O6t=xe.a.extend({context:["server"],url:"/updater/status",sessionAttrs:{isChecking:Ae.a.boolean.isRequired},syncedAttrs:{status:Ae.a.integer,canInstall:Ae.a.boolean,downloadURL:Ae.a.string,state:Ae.a.string,progress:Ae.a.integer,version:Ae.a.string,error:Ae.a.string,added:Ae.a.string,fixed:Ae.a.string},defaults:{state:JX,status:0,progress:0,version:null,error:"",added:null,fixed:null,isChecking:!1},augmentResponse(e){const{Release:t}=e,i=Xe()(e,["Release"]);return t&&(e=Object.assign({},i,t)),"0"!==e.status&&(e.state=qX),e}});const j6t={started:ki,updated:Ri,ended:zi},w6t={started:Us.actions.activityStarted,updated:Us.actions.activityUpdated,ended:Us.actions.activityFinished},T6t=["account","activity","backgroundGeneratorState","backgroundProcessingQueue","grabber.device","playing","preference","progress","provider.change","provider.content.change","provider.subscription.change","reachability","status","syncState","timeline","transcodeSession.end","transcodeSession.start","transcodeSession.update","update.statechange","versionState"];function E6t(e){const t=ne.c("appStore");t.dispatch(hve({serverEntityID:e,playerType:V8.a})),jt.k(window.location.hash,jt.c)&&t.dispatch(Object(Tn.c)({serverEntityID:e}))}var N6t=e$.extend({initialize(e){e$.prototype.initialize.apply(this,arguments),this.throttledRepopulates={}},repopulateNow(e,t){this.throttledRepopulates[e]={timestamp:Date.now()},t()},repopulateWithThrottle(e,t,i){const n=this.throttledRepopulates[e];if(n)if(n.hasTimeout);else{const a=Date.now()-n.timestamp;a<i?(window.setTimeout(()=>{this.repopulateNow(e,t)},i-a),this.throttledRepopulates[e]={hasTimeout:!0}):this.repopulateNow(e,t)}else this.repopulateNow(e,t)},getMessageTypes:()=>T6t,preference(e){e.key=e.id,e.server=this.server,this.server.trigger("socket:setting",e);(0,ne.c("appStore").dispatch)(hK({serverEntityID:this.server.entityID(),setting:e}))},timeline(e){if(jt.k(e.identifier,jt.c))return;const{state:t,mediaProviderID:i,sectionID:n,rootItemID:a,parentItemID:s,itemID:r,metadataState:o,mediaState:l,type:c}=e,d=ne.c("appStore").dispatch,u=this.server.entityID(),p="/library/metadata/"+r,h=s?"/library/metadata/"+s:null,m=a?"/library/metadata/"+a:null,g=Object(pt.a)(ht.g,p,u),v=Object(gs.a)({serverIdentifier:this.server.get("machineIdentifier"),providerIdentifier:jt.d,metadataItemKey:p}),y=h?Object(gs.a)({serverIdentifier:this.server.get("machineIdentifier"),providerIdentifier:jt.d,metadataItemKey:h}):null,f=m?Object(gs.a)({serverIdentifier:this.server.get("machineIdentifier"),providerIdentifier:jt.d,metadataItemKey:m}):null,b=Qt.u(c),I=null==b?void 0:b.typeString;d(Ls.actions.timelineStatesChanged({sourceURI:v,metadataState:o,mediaState:l})),d(pae({serverEntityID:u,metadataItemEntityID:g,metadataState:o,mediaState:l})),t===M6t.PROCESSED&&(d(Es.actions.metadataProcessed({sourceURI:v})),d(Object(v7.o)({serverEntityID:u,metadataItemEntityID:g})),I===Qt.a&&d(nUe({serverEntityID:u,albumMetadataItemEntityID:g}))),t===M6t.DELETED&&(d(Es.actions.deleted({mediaProviderID:i,sourceURI:v,parentSourceURI:y,rootSourceURI:f})),d(Object(v7.n)({serverEntityID:u,metadataItemEntityID:g}))),t!==M6t.CREATED&&t!==M6t.DELETED||(n>0&&this.repopulateWithThrottle("section-"+n,()=>{d(Object(Tn.c)({serverEntityID:u,containerKeyPattern:new RegExp("^"+J("/library/sections/"+n)+"\\b")}))},5e3),a>0&&this.repopulateWithThrottle("metadata-"+a,()=>{const e="/library/metadata/"+a,t=Object(pt.a)(ht.g,e,u);d(Object(Tn.c)({serverEntityID:u,metadataItemEntityID:t,rootMetadataKey:e}))},5e3),s>0&&this.repopulateWithThrottle("metadata-"+s,()=>{const e="/library/metadata/"+s,t=Object(pt.a)(ht.g,e,u);d(Object(Tn.c)({serverEntityID:u,metadataItemEntityID:t,parentMetadataKey:e}))},5e3),I===Qt.m&&d(Object(Tn.c)({serverEntityID:u,containerKeyPattern:new RegExp("^/playlists")}))),e.server=this.server,this.server.trigger("socket:timeline",e),U.a.trigger("timeline",e)},status(e){if(this.server.trigger("socket:status",e),"LIBRARY_UPDATE"===e.notificationName){const e=ne.c("appStore").dispatch,t=this.server.entityID();t&&(e(ks.actions.libraryScanUpdated({server:I5t(this.server)})),e(xi({serverEntityID:t})),e(_i({serverEntityID:t})),e(Object(Tn.c)({serverEntityID:t})))}},progress(e){this.server.trigger("socket:status",e)},playing(e){if(!e.sessionKey||!this.server.get("isFullOwnedServer"))return;const t=ne.c("appStore").dispatch;e.state===rS.states.STOPPED?(t(_s.actions.sessionStopped({server:I5t(this.server),sessionKey:e.sessionKey})),t(Object(Tn.c)({serverEntityID:this.server.entityID()}))):t(_s.actions.sessionChanged({server:I5t(this.server),message:e}))},syncState(e){const t=new _j({key:e.key},{server:this.server,syncItemId:e.syncItemId,onlyIfCached:!0});if(!I.a.isEmpty(t)){t.get("Media").forEach(i=>{i.Part.forEach(i=>{i.transcodeState=e.syncFileState,i.transcodeStateContext=e.syncFileStateContext,i.syncState=e.syncState,i.syncStateContext=e.syncStateContext;const n=ot.getSyncStateFromPart(i);ot.waitingRegex.test(n)&&(i.key="placeholder"),t.trigger("change:Media",t,t.get("Media"))})})}},backgroundGeneratorState(e){const t={server:this.server,onlyIfCached:!0},i=new $o({id:e.generatorID},t);I.a.isEmpty(i)||i.fetch()},versionState(e){const t={server:this.server,onlyIfCached:!0},i=new $o({id:e.generatorID},t);if(!I.a.isEmpty(i)){const t=i.get("children").getCollection().get(e.metadataItemID);t&&t.set({processingState:e.state,processingStateContext:e.stateContext})}},backgroundProcessingQueue(e){const t=new fm([],{server:this.server,allowInCache:!0,onlyIfCached:!0});if(!I.a.isEmpty(t)){const e=t.first();e&&e.fetch()}},"transcodeSession.start"(e){const t=ne.c("appStore").dispatch;if(!this.server.get("isShared"))if("static"===e.context){this.server.get("desktop").get("backgroundTranscodeJobs").fetch()}else t(_s.actions.fetchRequested({server:I5t(this.server)}))},"transcodeSession.update"(e){if(!this.server.get("isShared")&&"static"===e.context){const t=this.server.get("desktop").get("backgroundTranscodeJobs"),i=t.get(e.key);i?i.set(i.parse(e)):t.fetch()}},"transcodeSession.end"(e){this.server.get("isShared")||this["transcodeSession.start"].apply(this,arguments)},"update.statechange"(e){const t=this.server.get("desktop").get("update"),i=I.a.pick(e,Object.keys(O6t.prototype.syncedAttrs));I.a.defaults(i,I.a.result(t,"defaults")),t.get("state")===YX&&i.state===QX&&(i.state=YX),t.set(Object.assign({},i,{isChecking:!1}))},reachability(e){this.server.get("desktop").get("cloudAccount").fetch()},account(e){this.server.set("myPlexSubscription",e.hasPlexPass);ne.c("appModel").get("user").get("isSignedIn")&&U.a.trigger("discover:servers")},activity(e){const t=P6t(e),i=ne.c("appStore"),n=this.server.entityID(),a=t.Activity||t;if(a.Context=a.Context||{},a.Response=a.Response||{},n){const e=j6t[t.event],s=w6t[t.event];e&&i.dispatch(e({serverEntityID:n,activity:a})),s&&i.dispatch(s({server:I5t(this.server),activity:a}))}},"grabber.device"(e){const t=ne.c("appStore"),i=this.server.entityID();i&&"appeared"===e.event&&t.dispatch(CK({serverEntityID:i,device:e.Device}))},"provider.content.change"(){E6t(this.server.entityID())},"provider.subscription.change"(){E6t(this.server.entityID())},"provider.change"(){ne.c("appStore").dispatch(Hi({serverEntityID:this.server.entityID()}))}});var x6t=xe.a.extend({name:"BaseAppModel",isStateTreeRoot:!0,constructor:function(){this._pendingEntities=[],this.listenTo(U.a,"change:entity",this.onEntityChange),xe.a.prototype.constructor.apply(this,arguments)},initialize(){this._pendingEntities.forEach(this._addEntity.bind(this))},_addEntity({type:e,id:t,model:i}){this.get("entities").get(e).add({id:t,model:i},{merge:!0})},onEntityChange(e){this.has("entities")?this._addEntity(e):this._pendingEntities.push(e)}});function A6t(e){if(!e.length)return"(none)";return I.a.map(e,e=>e.get("debugName")).join(", ")}var L6t=ke.a.extend({mixins:[Mt],name:"ServerCollection",model:an,initialize(){this._resetPopulate()},comparator(e){const t=e.get("isShared"),i=e.get("friendlyName")||"",n=e.get("sourceTitle")||"",a=t?n+i:i;return e.get("isCloud")?"9":(t?"1":"0")+a.toLowerCase()},shouldWaitForInitialServers(){const e=this.filter(e=>(!e.id||!!e.get("resources"))&&e.isPopulating());return!!e.length&&(Object(C.a)("[Servers] Waiting for initial servers =",A6t(e)),!0)},shouldWaitForResources(){const e=this.reduce((e,t)=>{const i=t.get("isResolved"),n=t.get("resources"),a=n&&n.isPopulating();return i&&a&&e.push(t),e},[]);return!!e.length&&(Object(C.a)("[Servers] Waiting for additional resources from",A6t(e)),!0)},shouldWaitForPendingServers(){if(this.findWhere({isConnected:!0}))return!1;const e=this.filter(e=>e.isPopulating());return!!e.length&&(Object(C.a)("[Servers] Waiting for pending servers =",A6t(e)),!0)},waitForServers(){this._resetPopulate()},foundAllServers(){const e=this.where({isConnected:!0}),t=A6t(e);Object(C.a)("[Servers] Found all servers =",t),e.length?this._resolvePopulate():this._rejectPopulate()},populateAnyServer(e=this.models){const t=D.a.Deferred(),i=e.slice(0),n=I.a.find(i,e=>e.get("isCloud")?e.get("isResolved"):e.get("isConnected"));if(n)return Object(C.a)("[Servers] Populate any server chose %s where servers = %s",n.get("debugName"),A6t(i)),t.resolve(n).promise();if(this.hasOnlyRejectedServers(i))return t.reject().promise();function a(e,n){I.a.contains(i,e)&&n&&t.resolve(e)}function s(e,n){I.a.contains(i,e)&&n&&this.hasOnlyRejectedServers(i)&&t.reject()}return this.on({remove:function(e){const n=i.indexOf(e);n>-1&&(i.splice(n,1),this.hasOnlyRejectedServers(i)&&t.reject())},"change:isResolved":a,"change:isRejected":s},this),t.always(()=>{this.off("change:isResolved",a,this),this.off("change:isRejected",s,this)}),t.promise()},populateServer(e){return this.findServer(e,!0).then(e=>e.get("isConnected")&&!e.get("isCloud")?D.a.Deferred().resolve(e):e.populate())},findServer(e,t){const i=I.a.isString(e),n=i?{machineIdentifier:e}:e,a=D.a.Deferred();if(i){const e=this.get(n.machineIdentifier);if(e&&e.get("isResolved"))return window.setTimeout(a.resolve.bind(a,e),0),a.promise()}const s=I.a.has(n,"machineIdentifier"),r="add "+I.a.map(I.a.keys(n),e=>"change:"+e).join(" ");let o;function l(){const e=this.filterServers(n,t);e?(o=e,e.done(t=>{o===e&&a.resolve(t)}),e.fail(()=>{o===e&&(s||!this.isPopulating()?a.reject():this.populate().always(l.bind(this)))})):this.isPopulating()||a.reject()}return l.call(this),this.on(r,l,this),this.populate().always(()=>{o||a.reject()}),a.always(()=>{this.off(r,l,this)}),a.promise()},filterServers(e,t){const i=this.where(e);if(i.length)return t?this.populateAnyServer(i):D.a.Deferred().resolve(i[0]).promise()},hasOnlyRejectedServers(e=this.models){return I.a.every(e,e=>e.get("isRejected"))},hasLoopbackServer(e=this.models){return!!I.a.find(e,e=>{const t=e.get("activeConnection");return!!t&&t.get("isLoopback")})}});var k6t=xe.a.extend({name:"EntityModel",sessionAttrs:{id:Ae.a.string.isRequired},sessionRelations:{model:{relationClass:xe.a,deferred:!0}},toState(){const e=this.get("model"),t=Object.assign({entityID:this.id},e.state);return Object.defineProperty(t,"possibleEntityContainers",{value:e.state.possibleEntityContainers,enumerable:!1}),t},shouldUpdateRelationState:function(){return!0}});var R6t=ke.a.extend({name:"EntityCollection",model:k6t,toState(){const e=this.reduce(this.reduceState,{possibleEntityContainers:[]});return Object.defineProperty(e,"possibleEntityContainers",{enumerable:!1}),e},reduceState:(e,t)=>(e.possibleEntityContainers.push(t.id),e[t.id]=t.getState(),e)});var z6t=xe.a.extend({name:"SubtitlesModalModel",sessionAttrs:{serverEntityID:Ae.a.string,metadataItemEntityID:Ae.a.string,isSubtitlesPending:Ae.a.boolean,isSubtitlesPopulated:Ae.a.boolean,subtitlesError:Ae.a.string,subtitlesDownloadActivityID:Ae.a.string,subtitlesDownloadKey:Ae.a.string,subtitlesDownloadStartTime:Ae.a.integer,isSubtitlesDownloaded:Ae.a.boolean,subtitlesDownloadError:Ae.a.string},sessionRelations:{subtitles:{relationClass:yUe,deferred:!0}},defaults:{serverEntityID:null,metadataItemEntityID:null,isSubtitlesPending:!1,isSubtitlesPopulated:!1,subtitlesError:null,subtitlesDownloadActivityID:null,subtitlesDownloadKey:null,subtitlesDownloadStartTime:null,isSubtitlesDownloaded:!1,subtitlesDownloadError:null}});var U6t=xe.a.extend({name:"ProviderIntegrationModel",context:["server","provider"],rootPropertyName:"Integration",syncedAttrs:{id:Ae.a.string.isRequired,status:Ae.a.string.isRequired}});var V6t=ke.a.extend({name:"ProviderIntegrationCollection",context:["server","provider"],url:"/integrations",responseType:ct.a,model:U6t});var B6t=xe.a.extend({name:"ProviderIntegrationsModel",sessionAttrs:{isIntegrationsOnboarding:Ae.a.boolean.isRequired,isIntegrationsPending:Ae.a.boolean.isRequired,isIntegrationsPopulated:Ae.a.boolean.isRequired,integrationsError:Ae.a.object},sessionRelations:{integrations:{relationClass:V6t,deferred:!0}},defaults:{isIntegrationsOnboarding:!1,isIntegrationsPending:!0,isIntegrationsPopulated:!1}});var F6t=xe.a.extend({name:"AdvertisingNoticeModalModel",sessionAttrs:{isSaving:Ae.a.boolean,isSaved:Ae.a.boolean},defaults:{isSaving:!1,isSaved:!1}});var H6t=ke.a.extend({name:"AutoHubsCollection",modelId:e=>Object(Zc.a)(e.machineIdentifier,e.providerIdentifier),model:hT});var _6t=xe.a.extend({name:"AutoHomePageModel",sessionAttrs:{isHubsPopulated:Ae.a.boolean.isRequired},sessionRelations:{hubs:{relationClass:H6t}},defaults:{isHubsPopulated:!1}});var W6t=xe.a.extend({name:"ChannelGridPageModel",sessionAttrs:{serverEntityID:Ae.a.string,providerEntityID:Ae.a.string,containerKey:Ae.a.string,directoryKey:Ae.a.string,startTime:Ae.a.integer,visibleColumns:Ae.a.integer,columnTimes:Ae.a.array,columnWidth:Ae.a.float,viewportWidth:Ae.a.integer,viewportHeight:Ae.a.integer,airedProgress:Ae.a.float,isChannelsListPending:Ae.a.boolean,isChannelsListPopulated:Ae.a.boolean,channelsListError:Ae.a.object},sessionRelations:{metadataList:{relationClass:pIe,deferred:!0},channelsList:{relationClass:mIe,deferred:!0}},defaults:()=>({startTime:0,visibleColumns:1,columnTimes:[],columnWidth:0,viewportWidth:0,viewportHeight:0,airedProgress:0,isChannelsListPending:!0,isChannelsListPopulated:!1,channelsListError:null})});var Q6t=xe.a.extend({name:"HomeHubStatusModel",idAttribute:"homeHubID",sessionAttrs:{error:Ae.a.object,homeHubID:Ae.a.string.isRequired,isPending:Ae.a.boolean.isRequired,isPopulated:Ae.a.boolean.isRequired,provider:Ae.a.string,server:Ae.a.string},sessionRelations:{hub:{relationClass:oMt.a,deferred:!0}},defaults:()=>({error:null,isPending:!0,isPopulated:!1})});var G6t=ke.a.extend({name:"HomeHubStatusCollection",model:Q6t});var K6t=xe.a.extend({name:"HomePageModel",sessionAttrs:{isContentPending:Ae.a.boolean.isRequired,isContentPopulated:Ae.a.boolean.isRequired,contentError:Ae.a.object,isPreferredServerContentPending:Ae.a.boolean.isRequired,isPreferredServerContentPopulated:Ae.a.boolean.isRequired,preferredServerContentError:Ae.a.object,isProviderPromotedContentPending:Ae.a.boolean.isRequired,isProviderPromotedContentPopulated:Ae.a.boolean.isRequired,providerPromotedContentError:Ae.a.object},sessionRelations:{homeHubStatuses:{relationClass:G6t}},defaults:()=>({isContentPending:!0,isContentPopulated:!1,contentError:null,isPreferredServerContentPending:!0,isPreferredServerContentPopulated:!1,preferredServerContentError:null,isProviderPromotedContentPending:!0,isProviderPromotedContentPopulated:!1,providerPromotedContentError:null})});var Y6t=xe.a.extend({name:"MediaSubscriptionModalModel",sessionAttrs:{isMediaSubscriptionPending:Ae.a.boolean,isMediaSubscriptionPopulated:Ae.a.boolean,mediaSubscriptionError:Ae.a.string,isMediaSubscriptionSaving:Ae.a.boolean,mediaSubscriptionSaveError:Ae.a.string,isMediaSubscriptionMoving:Ae.a.boolean,mediaSubscriptionMoveError:Ae.a.string,isMediaSubscriptionDeleting:Ae.a.boolean,mediaSubscriptionDeleteError:Ae.a.string},sessionRelations:{templates:{relationClass:BPe,deferred:!0},mediaSubscription:{relationClass:VPe,deferred:!0}},defaults:{isMediaSubscriptionPending:!0,isMediaSubscriptionPopulated:!1,mediaSubscriptionError:null,isMediaSubscriptionSaving:!1,mediaSubscriptionSaveError:null,isMediaSubscriptionMoving:!1,mediaSubscriptionMoveError:null,isMediaSubscriptionDeleting:!1,mediaSubscriptionDeleteError:null}});const q6t=Pe();var Z6t=xe.a.extend({name:"PlayerModel",sessionAttrs:{serverEntityID:Ae.a.string,providerEntityID:Ae.a.string,playbackSessionID:Ae.a.string,syncplaySessionRoomID:Ae.a.string,isOpen:Ae.a.boolean,previousOpenState:Ae.a.oneOf(b7.a,b7.b),openState:Ae.a.oneOf(b7.a,b7.b),isPlayQueueVisible:Ae.a.boolean,isAlsoAiringVisible:Ae.a.boolean,isLyricsVisible:Ae.a.boolean,isPostPlayVisible:Ae.a.boolean,isSettingsVisible:Ae.a.boolean,isChaptersVisible:Ae.a.boolean,isSubtitlesOffsetSettingsVisible:Ae.a.boolean,isWatchTogetherLobbyVisible:Ae.a.boolean,isWatchTogetherParticipantsVisible:Ae.a.boolean,confirmPlayerUpsellPayload:Ae.a.object,confirmPlaybackPayload:Ae.a.object,confirmOffsetPayload:Ae.a.object,confirmRemoteToLocal:Ae.a.boolean,confirmLocalToRemote:Ae.a.oneOf(1,3,2).isRequired,decisions:Ae.a.object.isRequired,currentDecision:Ae.a.object,startMetadataItemEntityID:Ae.a.string,startOffsetMilliseconds:Ae.a.integer,startMediaIndex:Ae.a.integer,positionSeconds:Ae.a.integer,nextPositionSeconds:Ae.a.integer,lastSeekPositionSeconds:Ae.a.integer,durationSeconds:Ae.a.integer,seekStartSeconds:Ae.a.integer,seekEndSeconds:Ae.a.integer,bandwidthTimeline:Ae.a.object,lastInteractedAt:Ae.a.integer,itemPlaybackTime:Ae.a.integer,sessionPlaybackTime:Ae.a.integer,playbackSpeed:Ae.a.float,isPlayQueueLoading:Ae.a.boolean.isRequired,isLiveTVTuning:Ae.a.boolean.isRequired,isMediaLoading:Ae.a.boolean.isRequired,isPostPlayLoading:Ae.a.boolean.isRequired,isPaused:Ae.a.boolean.isRequired,isBuffering:Ae.a.boolean.isRequired,repeatAll:Ae.a.boolean.isRequired,repeatOne:Ae.a.boolean.isRequired,mediaIndex:Ae.a.integer,partIndex:Ae.a.integer,qualityIndex:Ae.a.integer,availableQualities:Ae.a.array.isRequired,controllable:Ae.a.object,metricsPage:Ae.a.string,metricsContextTuple:Ae.a.array,metricsSetting:Ae.a.string,metricsAutoPlay:Ae.a.boolean,metricsPlayer:Ae.a.oneOf(...gge.a),hasError:Ae.a.boolean.isRequired,errorMessage:Ae.a.string,errorCode:Ae.a.string,errorCategory:Ae.a.string,playbackStartTime:Ae.a.integer,hasConflicts:Ae.a.boolean.isRequired,isConflictCancelling:Ae.a.boolean,cancelConflictError:Ae.a.object,confirmLiveTVPlayback:Ae.a.boolean.isRequired,adState:Ae.a.string,adPositionSeconds:Ae.a.integer,adDurationSeconds:Ae.a.integer,adDisplayIndex:Ae.a.integer,adDisplayTotal:Ae.a.integer,adTimeOffsetSeconds:Ae.a.oneOfType(Ae.a.integer,Ae.a.float),advertisingNoticePayload:Ae.a.object,bufferedRanges:Ae.a.array,canPlayThrough:Ae.a.boolean,mediaWidth:Ae.a.integer,mediaHeight:Ae.a.integer},derivedAttrs:{isWatchTogether(){return!!this.get("syncplaySessionRoomID")}},sessionRelations:{playQueue:{relationClass:xe.a,deferred:!0},relatedHubs:{relationClass:pT.default,deferred:!0},liveTVSession:{relationClass:c7,deferred:!0}},defaults:()=>({playbackSessionID:q6t,playbackSpeed:1,isOpen:!1,isPlayQueueVisible:!1,isAlsoAiringVisible:!1,isLyricsVisible:!1,isPostPlayVisible:!1,isSettingsVisible:!1,isChaptersVisible:!1,isSubtitlesOffsetSettingsVisible:!1,isWatchTogetherLobbyVisible:!1,isWatchTogetherParticipantsVisible:!1,confirmPlaybackPayload:null,confirmOffsetPayload:null,confirmRemoteToLocal:!1,confirmLocalToRemote:1,decisions:{},startMetadataItemEntityID:null,startOffsetMilliseconds:null,startMediaIndex:null,positionSeconds:0,nextPositionSeconds:null,lastSeekPositionSeconds:null,durationSeconds:0,seekStartSeconds:0,seekEndSeconds:0,itemPlaybackTime:0,sessionPlaybackTime:0,isPlayQueueLoading:!1,isLiveTVTuning:!1,isMediaLoading:!1,isPostPlayLoading:!1,isPaused:!1,isBuffering:!1,repeatAll:!1,repeatOne:!1,availableQualities:[],metricsAutoPlay:!1,hasError:!1,errorMessage:null,errorCode:null,errorCategory:null,playbackStartTime:null,hasConflicts:!1,isConflictCancelling:!1,cancelConflictError:null,confirmLiveTVPlayback:!1,adState:null,adPositionSeconds:null,adDurationSeconds:null,adDisplayIndex:null,adDisplayTotal:null,adTimeOffsetSeconds:null,advertisingNoticePayload:null,bufferedRanges:[],canPlayThrough:!1,mediaWidth:null,mediaHeight:null})});var J6t=xe.a.extend({name:"ProviderSettingsPageModel",context:["server","provider"],sessionAttrs:{isUpdatePending:Ae.a.boolean,updateError:Ae.a.object},defaults:{isUpdatePending:!1,updateError:null}});var X6t=xe.a.extend({name:"RecordingSchedulePageModel",sessionAttrs:{isPagePopulated:Ae.a.boolean,isMediaSubscriptionsPending:Ae.a.boolean,isMediaSubscriptionsPopulated:Ae.a.boolean,mediaSubscriptionsError:Ae.a.object,isCalendarPending:Ae.a.boolean,isCalendarPopulated:Ae.a.boolean,calendarError:Ae.a.object,mediaSubscriptionMoveError:Ae.a.string},sessionRelations:{mediaSubscriptions:{relationClass:cft,deferred:!0},calendar:{relationClass:oft,deferred:!0}},defaults:{isPagePopulated:!1,isMediaSubscriptionsPending:!1,isMediaSubscriptionsPopulated:!1,mediaSubscriptionsError:null,isCalendarPending:!1,isCalendarPopulated:!1,calendarError:null,mediaSubscriptionMoveError:null}});var $6t=ke.a.extend({name:"SearchCollection",context:["server","provider"],model:vte});var e8t=xe.a.extend({name:"SearchPageModel",sessionRelations:{searches:{relationClass:$6t}}});var t8t=xe.a.extend({name:"WatchTogetherRoomUserModel",syncedAttrs:{id:Ae.a.integer.isRequired,subscription:Ae.a.boolean.isRequired,thumb:Ae.a.string.isRequired,title:Ae.a.string.isRequired,uuid:Ae.a.string.isRequired}});var i8t=ke.a.extend({name:"WatchTogetherRoomUserCollection",model:t8t});var n8t=xe.a.extend({name:"WatchTogetherRoomModel",entityType:ht.q,entityID(e=this.state){return Object(pt.a)(this.entityType,e.id)},mergeStrategy:Dt.a,sessionAttrs:{isMetadataItemPending:Ae.a.boolean,isMetadataItemPopulated:Ae.a.boolean,metadataItemError:Ae.a.string},syncedAttrs:{id:Ae.a.string.isRequired,title:Ae.a.string.isRequired,sourceUri:Ae.a.string.isRequired,startsAt:Ae.a.integer.isRequired,endsAt:Ae.a.integer.isRequired,updatedAt:Ae.a.integer.isRequired,syncplayHost:Ae.a.string.isRequired,syncplayPort:Ae.a.integer.isRequired},syncedRelations:{metadataItem:{relationClass:ut.a,deferred:!0},users:{relationClass:i8t}},defaults:{isMetadataItemPending:!0,isMetadataItemPopulated:!1,metadataItemError:null}});var a8t=ke.a.extend({name:"WatchTogetherRoomCollection",model:n8t});var s8t=xe.a.extend({name:"WatchTogetherModel",sessionAttrs:{isRoomsPending:Ae.a.boolean,isRoomsPopulated:Ae.a.boolean,roomsError:Ae.a.string,isInvitePending:Ae.a.boolean,isInviteCompleted:Ae.a.boolean,inviteError:Ae.a.string,sessionError:Ae.a.string},sessionRelations:{session:{relationClass:Uoe,deferred:!0},rooms:{relationClass:a8t}},defaults:()=>({isRoomsPending:!0,isRoomsPopulated:!1,roomsError:void 0,isInvitePending:!1,isInviteCompleted:!1,inviteError:void 0,sessionError:void 0})});var r8t=xe.a.extend({name:"MultiSelectItemModel",sessionAttrs:{id:Ae.a.any.isRequired,type:Ae.a.string.isRequired},sessionRelations:{model:{relationClass:xe.a,deferred:!0}}});var o8t=ke.a.extend({name:"MultiSelectItemCollection",model:r8t});var l8t=xe.a.extend({name:"MultiSelectModel",sessionAttrs:{activeSelectionRange:Ae.a.object},sessionRelations:{activeSelectionItems:{relationClass:o8t}},derivedAttrs:{activeSelectionType(){const e=this.get("activeSelectionItems").first();if(e)return e.get("type")}},initialize(){this.listenTo(this.get("activeSelectionItems"),{remove:this.resetSelectionRange,reset:this.resetSelectionRange})},listenToCollection(e){this.stopListening(e),this.listenTo(e,{reset:this.onCollectionReset,remove:this.onCollectionRemove})},resetSelectionRange(){this.set("activeSelectionRange",null)},onCollectionReset(e,t){const i=this.get("activeSelectionItems"),n=t.previousModels;I.a.each(n,t=>{e.contains(t)||i.remove(t.id)})},onCollectionRemove(e){this.get("activeSelectionItems").remove(e.id)}});var c8t=xe.a.extend({name:"AddToPlaylistMenuModel",sessionAttrs:{uri:Ae.a.string},sessionRelations:{recentPlaylists:{relationClass:Gn.default,deferred:!0}}}),d8t=i("jNWR");var u8t=xe.a.extend({name:"AddToPlaylistModalModel",sessionAttrs:{providerEntityID:Ae.a.string,containerKey:Ae.a.string,type:Ae.a.string,title:Ae.a.string,uri:Ae.a.string,smart:Ae.a.boolean,readOnly:Ae.a.boolean,isUpdating:Ae.a.boolean,error:Ae.a.object},sessionRelations:{server:{relationClass:an,deferred:!0},provider:{relationClass:Si,deferred:!0},metadataItem:{relationClass:ut.a,deferred:!0},metadataList:{relationClass:Gn.default,deferred:!0},multiSelect:{relationClass:l8t,deferred:!0},playQueue:{relationClass:d8t.a,deferred:!0},playlists:{relationClass:Gn.default,deferred:!0}},defaults:{title:"",smart:!1,readOnly:!1,isUpdating:!1}});var p8t=xe.a.extend({name:"SubtitlesUploadModalModel",sessionAttrs:{isUploading:Ae.a.boolean,isUploaded:Ae.a.boolean,error:Ae.a.string},defaults:{isUploading:!1,isUploaded:!1,error:null}});var h8t=xe.a.extend({name:"ServerLogPageModel",sessionAttrs:{logLines:Ae.a.array.isRequired,unfilteredLogLinesCount:Ae.a.integer.isRequired,filter:Ae.a.string.isRequired,logLevels:Ae.a.array.isRequired,highlightedLineIndex:Ae.a.integer,timeFilterStart:Ae.a.string.isRequired,timeFilterEnd:Ae.a.string.isRequired,isTimeFilterStartValid:Ae.a.boolean.isRequired,isTimeFilterEndValid:Ae.a.boolean.isRequired,showTimeFilter:Ae.a.boolean.isRequired,showRawText:Ae.a.boolean.isRequired},defaults:()=>({logLines:[],unfilteredLogLinesCount:0,filter:"",logLevels:[],timeFilterStart:"",timeFilterEnd:"",isTimeFilterStartValid:!0,isTimeFilterEndValid:!0,showRawText:!1,showTimeFilter:!1})});var m8t=xe.a.extend({name:"AccountSettingsPageModel",sessionAttrs:{isUpdatingUserProfile:Ae.a.boolean.isRequired,updateUserProfileError:Ae.a.string},defaults:{isUpdatingUserProfile:!1,updateUserProfileError:null}});var g8t=xe.a.extend({name:"AddToCatalogModalModel",sessionAttrs:{isUpdating:Ae.a.boolean.isRequired,error:Ae.a.object},defaults:{isUpdating:!1,error:null}});var v8t=xe.a.extend({name:"AuthCodeExchangeModel",sessionAttrs:{code:Ae.a.string,pinID:Ae.a.integer,pinIDInitial:Ae.a.integer,pinTimeout:Ae.a.integer,authToken:Ae.a.string,isBusy:Ae.a.boolean.isRequired,errorMessage:Ae.a.string,fatalErrorMessage:Ae.a.string},defaults:{code:null,pinID:null,pinIDInitial:null,pinTimeout:null,authToken:null,isBusy:!1,errorMessage:null,fatalErrorMessage:null}});var y8t=xe.a.extend({name:"BackgroundModel",sessionAttrs:{imageUrl:Ae.a.string,themeMusicUrl:Ae.a.string,allowLightPreset:Ae.a.boolean,allowBlur:Ae.a.boolean,isBackgroundPending:Ae.a.boolean},sessionRelations:{server:{relationClass:an,deferred:!0},provider:{relationClass:Si,deferred:!0}},defaults:{allowLightPreset:!1,allowBlur:!0,isBackgroundPending:!1}});var f8t=xe.a.extend({name:"DVRSettingsUIModel",sessionAttrs:{isDvrsPending:Ae.a.boolean,isDvrsPopulated:Ae.a.boolean,dvrsError:Ae.a.object,isUIPopulated:Ae.a.boolean},sessionRelations:{dvrs:{relationClass:xk,deferred:!0},dvrSetup:{relationClass:iR,deferred:!0}},defaults:{isDvrsPending:!1,isDvrsPopulated:!1,dvrsError:null,isUIPopulated:!1}});var b8t=xe.a.extend({name:"DiscoverPageModel",sessionAttrs:{providerEntityID:Ae.a.string,hubKey:Ae.a.string,isHubsPending:Ae.a.boolean.isRequired,isHubsPopulated:Ae.a.boolean.isRequired,hubsError:Ae.a.object,hubsTitle:Ae.a.string,isPromotedHubsPending:Ae.a.boolean.isRequired,isPromotedHubsPopulated:Ae.a.boolean.isRequired,promotedHubsError:Ae.a.object,knownPromotedHubCloudProviderIDs:Ae.a.array.isRequired},sessionRelations:{hubs:{relationClass:pT.default,deferred:!0},promotedHubs:{relationClass:pT.default,deferred:!0}},defaults:()=>({isHubsPending:!0,isHubsPopulated:!1,hubsError:null,hubsTitle:null,isPromotedHubsPending:!0,isPromotedHubsPopulated:!1,promotedHubsError:null,knownPromotedHubCloudProviderIDs:[]})});var I8t=xe.a.extend({name:"LibraryPageModel",sessionAttrs:{providerEntityID:Ae.a.string,libraryKey:Ae.a.string,directoryKey:Ae.a.string,containerKey:Ae.a.string,isDetailsPending:Ae.a.boolean.isRequired,isDetailsPopulated:Ae.a.boolean.isRequired,detailsError:Ae.a.object,isFirstCharactersPending:Ae.a.boolean.isRequired,isFirstCharactersPopulated:Ae.a.boolean.isRequired,firstCharactersError:Ae.a.object,selectedFilterKey:Ae.a.string,filterOptionQuery:Ae.a.string,isSelectedFilterOptionsPending:Ae.a.boolean.isRequired,isSelectedFilterOptionsPopulated:Ae.a.boolean.isRequired,selectedFilterOptionsError:Ae.a.object,isQueryParsePending:Ae.a.boolean.isRequired,isQueryParsePopulated:Ae.a.boolean.isRequired,queryParseError:Ae.a.object,isUpdatePlaylistPending:Ae.a.boolean.isRequired,updatePlaylistError:Ae.a.object,typeKey:Ae.a.string},sessionRelations:{metadataList:{relationClass:Gn.default,deferred:!0},details:{relationClass:HT,deferred:!0},firstCharacters:{relationClass:$Mt.a,deferred:!0},selectedFilterOptions:{relationClass:XMt.a,deferred:!0},queryParse:{relationClass:nDt,deferred:!0}},defaults:{isDetailsPending:!0,isDetailsPopulated:!1,detailsError:null,isFirstCharactersPending:!0,isFirstCharactersPopulated:!1,firstCharactersError:null,selectedFilterKey:null,filterOptionQuery:"",isSelectedFilterOptionsPending:!0,isSelectedFilterOptionsPopulated:!1,selectedFilterOptionsError:null,isQueryParsePending:!0,isQueryParsePopulated:!1,queryParseError:null,isUpdatePlaylistPending:!1,updatePlaylistError:null}});var S8t=xe.a.extend({name:"MetadataListPageModel",sessionAttrs:{providerEntityID:Ae.a.string,listKey:Ae.a.string},sessionRelations:{metadataList:{relationClass:Gn.default,deferred:!0}}});var C8t=xe.a.extend({name:"OnlineMediaSourcesPageModel",sessionAttrs:{optOutStatuses:Ae.a.object,isOptOutStatusesPending:Ae.a.boolean,optOutStatusesError:Ae.a.object,isAvailableProvidersPending:Ae.a.boolean,isAvailableProvidersPopulated:Ae.a.boolean,availableProvidersError:Ae.a.object,isUpdatePending:Ae.a.boolean,updateError:Ae.a.object},sessionRelations:{availableProviders:{relationClass:gJt,deferred:!0}},defaults:{isOptOutStatusesPending:!0,optOutStatusesError:null,isAvailableProvidersPending:!0,isAvailableProvidersPopulated:!1,availableProvidersError:null,isUpdatePending:!1,updateError:null}});var M8t=xe.a.extend({name:"PlaylistPageModel",sessionAttrs:{serverEntityID:Ae.a.string,providerEntityID:Ae.a.string,metadataKey:Ae.a.string,isPlaylistPending:Ae.a.boolean.isRequired,isPlaylistPopulated:Ae.a.boolean.isRequired,playlistError:Ae.a.object,isPlaylistItemListPending:Ae.a.boolean.isRequired,isPlaylistItemListPopulated:Ae.a.boolean.isRequired,playlistItemListError:Ae.a.object},sessionRelations:{playlist:{relationClass:ut.a,deferred:!0},playlistItemList:{relationClass:vt,deferred:!0}},defaults:{isPlaylistPending:!0,isPlaylistPopulated:!1,playlistError:null,isPlaylistItemListPending:!0,isPlaylistItemListPopulated:!1,playlistItemListError:null}});var D8t=xe.a.extend({name:"PlaylistsPageModel",sessionAttrs:{serverEntityID:Ae.a.string,libraryKey:Ae.a.string,containerKey:Ae.a.string,isLibraryDetailsPending:Ae.a.boolean.isRequired,isLibraryDetailsPopulated:Ae.a.boolean.isRequired,libraryDetailsError:Ae.a.object,isSortsPending:Ae.a.boolean.isRequired,isSortsPopulated:Ae.a.boolean.isRequired,sortsError:Ae.a.object},sessionRelations:{libraryDetails:{relationClass:HT,deferred:!0},playlists:{relationClass:Gn.default,deferred:!0},sorts:{relationClass:at.a,deferred:!0}},defaults:{isLibraryDetailsPending:!0,isLibraryDetailsPopulated:!1,libraryDetailsError:null,isSortsPending:!0,isSortsPopulated:!1,sortsError:null}});var P8t=xe.a.extend({name:"PrePlayPageModel",sessionAttrs:{providerEntityID:Ae.a.string,metadataKey:Ae.a.string,descendantKey:Ae.a.string,siblingKey:Ae.a.string,isMetadataItemPending:Ae.a.boolean.isRequired,isMetadataItemPopulated:Ae.a.boolean.isRequired,metadataItemError:Ae.a.object,isRelatedHubsPending:Ae.a.boolean.isRequired,isRelatedHubsPopulated:Ae.a.boolean.isRequired,relatedHubsError:Ae.a.object,isAugmentedHubsPending:Ae.a.boolean.isRequired,isAugmentedHubsPopulated:Ae.a.boolean.isRequired,augmentedHubsError:Ae.a.object,isFileUnavailable:Ae.a.boolean,decisionMediaItem:Ae.a.object},sessionRelations:{metadataItem:{relationClass:ut.a,deferred:!0},descendantList:{relationClass:Gn.default,deferred:!0},siblingList:{relationClass:Gn.default,deferred:!0},relatedHubs:{relationClass:pT.default,deferred:!0},augmentedHubs:{relationClass:pT.default,deferred:!0}},defaults:{isMetadataItemPending:!0,isMetadataItemPopulated:!1,metadataItemError:null,isRelatedHubsPending:!0,isRelatedHubsPopulated:!1,relatedHubsError:null,isAugmentedHubsPending:!0,isAugmentedHubsPopulated:!1,augmentedHubsError:null,isFileUnavailable:!1}});var O8t=xe.a.extend({name:"QuickSearchModel",sessionAttrs:{query:Ae.a.string,serverEntityID:Ae.a.string,providerEntityID:Ae.a.string,providerIdentifier:Ae.a.string,directoryID:Ae.a.string,selectedResultEntityID:Ae.a.string},sessionRelations:{searches:{relationClass:$6t}},defaults:{query:"",selectedResultEntityID:null}});var j8t=xe.a.extend({name:"MomentModel",context:["server","provider"],idAttribute:"id",rootPropertyName:"Directory",syncedAttrs:{id:Ae.a.string,title:Ae.a.string,size:Ae.a.integer,avgAR:Ae.a.float,startsAt:Ae.a.integer,endsAt:Ae.a.integer}});var w8t=ke.a.extend({name:"MomentCollection",context:["server","provider"],model:j8t});var T8t=xe.a.extend({name:"MomentListModel",context:["server","provider"],url(){return this.get("momentKey")},sessionAttrs:{momentKey:Ae.a.string},syncedAttrs:{key:Ae.a.string},syncedRelations:{moments:{relationClass:w8t,rootPropertyName:"Directory"}}});var E8t=xe.a.extend({name:"TimelinePageModel",sessionAttrs:{serverEntityID:Ae.a.string,providerEntityID:Ae.a.string,momentKey:Ae.a.string,isDetailsPending:Ae.a.boolean.isRequired,isDetailsPopulated:Ae.a.boolean.isRequired,detailsError:Ae.a.object,isMomentListPending:Ae.a.boolean.isRequired,isMomentListPopulated:Ae.a.boolean.isRequired,momentListError:Ae.a.object},sessionRelations:{metadataList:{relationClass:Gn.default,deferred:!0},details:{relationClass:HT,deferred:!0},momentList:{relationClass:T8t,deferred:!0}},defaults:{isDetailsPending:!0,isDetailsPopulated:!1,detailsError:null,isMomentListPending:!0,isMomentListPopulated:!1,momentListError:null}});var N8t=xe.a.extend({name:"UserSharingSettingsPageModel",sessionAttrs:{filterOptionsTags:Ae.a.object,isFilterOptionsTagsPopulating:Ae.a.boolean,isFilterOptionsTagsPopulated:Ae.a.boolean,isUpdatingFriend:Ae.a.boolean,updateFriendError:Ae.a.string,ownedSharedSources:Ae.a.array,receivedSharedSources:Ae.a.array,isSharedSourcesPopulating:Ae.a.boolean,isSharedSourcesPopulated:Ae.a.boolean,sharedSourcesError:Ae.a.string,deleteSharedItemID:Ae.a.integer,isServerOverviewsPopulating:Ae.a.boolean,isServerOverviewsPopulated:Ae.a.boolean,isServerSharesPopulating:Ae.a.boolean,isServerSharesPopulated:Ae.a.boolean,serverSharesError:Ae.a.string,isSharingPending:Ae.a.boolean,isSharingCompleted:Ae.a.boolean,sharingError:Ae.a.string,isRemoveServerSharePending:Ae.a.boolean,isRemoveServerShareCompleted:Ae.a.boolean,removeServerShareError:Ae.a.string},sessionRelations:{serverOverviews:{relationClass:nY,deferred:!0}},defaults:()=>({filterOptionsTags:{},isFilterOptionsTagsPopulating:!1,isFilterOptionsTagsPopulated:!1,isUpdatingFriend:!1,updateFriendError:null,ownedSharedSources:[],receivedSharedSources:[],isSharedSourcesPopulating:!1,isSharedSourcesPopulated:!1,sharedSourcesError:null,deleteSharedItemID:null,isServerOverviewsPopulating:!1,isServerOverviewsPopulated:!1,isServerSharesPopulating:!1,isServerSharesPopulated:!1,serverSharesError:null,isSharingPending:!1,isSharingCompleted:!1,sharingError:null,isRemoveServerSharePending:!1,isRemoveServerShareCompleted:!1,removeServerShareError:null})});var x8t=xe.a.extend({name:"DesktopUIModel",sessionRelations:{background:{relationClass:y8t},authCodeExchange:{relationClass:v8t},discoverPage:{relationClass:b8t},metadataListPage:{relationClass:S8t},libraryPage:{relationClass:I8t},prePlayPage:{relationClass:P8t},timelinePage:{relationClass:E8t},playlistsPage:{relationClass:D8t},dvrSettingsUI:{relationClass:f8t},recordingSchedulePage:{relationClass:X6t},channelGridPage:{relationClass:W6t},mediaSubscriptionModal:{relationClass:Y6t},searchPage:{relationClass:e8t},quickSearch:{relationClass:O8t},photoPlayer:{relationClass:Z6t},audioVideoPlayer:{relationClass:Z6t},romPlayer:{relationClass:Z6t},onlineMediaSourcesPage:{relationClass:C8t},accountSettingsPage:{relationClass:m8t},playlistPage:{relationClass:M8t},providerSettingsPage:{relationClass:J6t},addToCatalogModal:{relationClass:g8t},multiSelect:{relationClass:l8t},serverLogPage:{relationClass:h8t},subtitlesModal:{relationClass:z6t},subtitlesUploadModal:{relationClass:p8t},homePage:{relationClass:K6t},autoHomePage:{relationClass:_6t},addToPlaylistMenu:{relationClass:c8t},addToPlaylistModal:{relationClass:u8t},shareModal:{relationClass:cY},userSharingSettingsPage:{relationClass:N8t},providerIntegrations:{relationClass:B6t},advertisingNoticeModal:{relationClass:F6t},watchTogether:{relationClass:s8t}}}),A8t=i("01sc"),L8t=i.n(A8t);var k8t=ke.a.extend({name:"FriendCollection2",context:["server"],model:PY,url:"/api/users"});var R8t=xe.a.extend({name:"HomeDetailsModel",context:["server"],url:"/api/v2/home",responseType:ct.a,sessionAttrs:{isTogglingGuestUser:Ae.a.boolean},syncedAttrs:{id:Ae.a.integer,guestUserID:Ae.a.integer,guestEnabled:Ae.a.boolean,subscription:Ae.a.boolean,name:Ae.a.string},defaults:{isTogglingGuestUser:!1}});var z8t=xe.a.extend({name:"UserProfileModel",context:["server"],url:"/api/v2/user/profile",syncedAttrs:{autoSelectAudio:Ae.a.boolean,autoSelectSubtitle:Ae.a.integer,defaultAudioLanguage:Ae.a.string,defaultSubtitleLanguage:Ae.a.string,defaultSubtitleAccessibility:Ae.a.integer,defaultSubtitleForced:Ae.a.integer}});var U8t=ke.a.extend({name:"UserSettingCollection",context:["server"],model:fo});const V8t=xe.a.extend({mixins:[Mt],name:"UserModel",context:["server"],url(){return V.join("/api/v2/user",Eo(this))},sessionAttrs:{isRemote:Ae.a.boolean,isSignedIn:Ae.a.boolean.isRequired,hasAttemptedSignIn:Ae.a.boolean.isRequired,hasInvalidToken:Ae.a.boolean.isRequired,hasInvalidAnonymousUserToken:Ae.a.boolean.isRequired,lastPrimaryServerID:Ae.a.string,lockState:Ae.a.oneOf(Do.Pending,Do.Locked,Do.Unlocked).isRequired,homeUsers:Ae.a.instanceOf(mA).isRequired,isFeaturesPending:Ae.a.boolean.isRequired,isFeaturesPopulated:Ae.a.boolean.isRequired,featuresError:Ae.a.object,isAllFriendsPending:Ae.a.boolean.isRequired,isAllFriendsPopulated:Ae.a.boolean.isRequired,allFriendsError:Ae.a.object,isProvidersPending:Ae.a.boolean.isRequired,isProvidersPopulated:Ae.a.boolean.isRequired,providersError:Ae.a.object},syncedAttrs:{id:Ae.a.integer,uuid:Ae.a.string,authToken:Ae.a.string,anonymous:Ae.a.boolean,username:Ae.a.string,email:Ae.a.string,emailOnlyAuth:Ae.a.boolean,title:Ae.a.string,subscriptionDescription:Ae.a.string,locale:Ae.a.string,country:Ae.a.string,thumb:Ae.a.string,pin:Ae.a.string,home:Ae.a.boolean,restricted:Ae.a.boolean,guest:Ae.a.boolean,homeSize:Ae.a.integer,maxHomeSize:Ae.a.integer,queueUid:Ae.a.string,queueEmail:Ae.a.string,hasAllEntitlements:Ae.a.boolean,mailingListActive:Ae.a.boolean,hasPassword:Ae.a.boolean,twoFactorEnabled:Ae.a.boolean,mailingListStatus:Ae.a.oneOf(Po.Empty,Po.Unsubscribed,Po.Active,Po.Error,Po.Removed),adsConsent:Ae.a.boolean,adsConsentSetAt:Ae.a.integer,adsConsentReminderAt:Ae.a.integer},sessionRelations:{features:{relationClass:Gr},allFriends:{relationClass:k8t},providers:{relationClass:Di},homeDetails:{relationClass:R8t}},syncedRelations:{subscriptions:{relationClass:io},pastSubscriptions:{relationClass:io},roles:{relationClass:Zr},entitlements:{relationClass:Yr},settings:{relationClass:U8t},experienceSettings:()=>({relationClass:Object(ne.c)("UserExperienceSettingsModel")}),services:{relationClass:Xr},profile:{relationClass:z8t}},derivedAttrs:{isLocked(){return this.get("lockState")===Do.Locked},isUnlocked(){return this.get("lockState")===Do.Unlocked},isFullUser(){return!!this.get("username")||!!this.get("anonymous")},isEmployee(){return!!this.get("roles").get("employee")},isNinja(){return this.get("isEmployee")||!!this.get("roles").get("ninja")},hasPlexSubscription(){return this.get("subscriptions").some(e=>{const t=e.get("state");return"active"===t||"pending_cancellation"===t})},hasPlexPass(){return this.get("subscriptions").some(e=>{const t=e.get("type"),i=e.get("state");return"plexpass"===t&&("active"===i||"pending_cancellation"===i)})},canGoPremium(){const e=this.get("homeSize")>1,t=!1===this.get("homeDetails").get("subscription");return this.get("signedIn")&&!this.get("anonymous")&&!this.get("restricted")&&!this.get("hasPlexSubscription")&&(!e||t)},signedIn(){return this.get("isSignedIn")},locked(){const e=this.get("lockState");return e===Do.Locked||e!==Do.Unlocked&&null}},defaults(){const e={server:this.server,parent:this};return{id:0,isRemote:!1,isSignedIn:!1,hasAttemptedSignIn:!1,hasInvalidToken:!1,hasInvalidAnonymousUserToken:!1,hasPassword:!0,lockState:Do.Pending,homeUsers:new mA([],e),twoFactorEnabled:!1,isFeaturesPending:!0,isFeaturesPopulated:!1,featuresError:null,isAllFriendsPending:!0,isAllFriendsPopulated:!1,allFriendsError:null,isProvidersPending:!0,isProvidersPopulated:!1,providersError:null}},initialize(e,t){this._resetPopulate(),this.onHomeUsersChange(this,this.get("homeUsers")),this.on("change:homeUsers",this.onHomeUsersChange,this),this.listenTo(this.server,{"change:isConnected":this.onServerConnectedChange,"change:isUnavailable":this.onServerUnavailableChange})},uninitialize(){this.off("change:homeUsers",this.onHomeUsersChange,this),this.stopListening()},fetch(){return v.c.Model.prototype.fetch.apply(this,arguments)},augmentResponse(e={}){const{roles:t,entitlements:i,settings:n,providers:a,subscriptions:s,pastSubscriptions:r}=e,o=Xe()(e,["roles","entitlements","settings","providers","subscriptions","pastSubscriptions"]);let l=n&&n.setting?n.setting:[];l=Array.isArray(l)?l:[l];const c=this.get("experienceSettings");let d=!1;const u=l.reduce((e,t)=>("experience"===t.id?(d=!0,e.experienceSettings=Object.assign({},Object(go.a)(t.value),{updatedAt:t.updatedAt})):e.settings.push(t),e),{settings:[],experienceSettings:{}});return!d&&c&&(u.experienceSettings=c.toJSON({syncedOnly:!0})),o.gdprConsent&&(o.adsConsent=o.gdprConsent),o.gdprSetAt&&(o.adsConsentSetAt=o.gdprSetAt),o.gdprReminderAt&&(o.adsConsentReminderAt=o.gdprReminderAt),Object.assign({},o,u,{roles:t&&t.role,hasAllEntitlements:i&&i.all,entitlements:i&&i.entitlement,services:a&&a.provider,subscriptions:s&&s.subscription,pastSubscriptions:r&&r.pastSubscription})},_getTokenPromise(){var e,t;null==(e=Object(ne.c)("appModel").get("ui"))||null==(t=e.get("authCodeExchange"))||t.get("pinIDInitial");return(be.a.allowSSO?this._getSSOThenStorageTokenPromise():this._getStorageTokenPromise()).then(null,()=>(this.get("hasInvalidAnonymousUserToken"),this._getSkipAnonymousTokenPromise()))},_getSSOThenStorageTokenPromise(){const e=this._getStorageTokenPromise(),t=this._getSSOTokenPromise(),i=()=>this.get("anonymous")?(Object(C.a)("[User] SSO status is not available, try stored anonymous token"),e):(Object(C.a)("[User] SSO status is signed-out"),e.then(()=>ie(this.signOutDueToInvalidToken())));return t.then(t=>t?(t=>e.then(e=>t===e?(Object(C.a)("[User] SSO status is signed-in, storage token matches SSO token"),t):(Object(C.a)("[User] SSO status is signed-in, storage token and SSO token differ"),Ge.execute("resetUser").then(()=>{window.location.reload()})),()=>(Object(C.a)("[User] SSO status is signed-in, storage token is not present"),ie(t))))(t):i(),()=>(Object(C.a)("[User] SSO status is not available"),e))},_getStorageTokenPromise:()=>De.get("myPlexAccessToken"),_getSSOTokenPromise(){return Ao(this.server.getXHROptions("/api/v2/users/signin",{method:"POST",xhrFields:{withCredentials:!0},data:{skipAuthentication:!0},dataType:"json"})).then(e=>e.authToken,e=>e&&400===e.status?D.a.Deferred().resolve(null).promise():D.a.Deferred().reject().promise())},_getSkipAnonymousTokenPromise:()=>(Object(C.a)("[User] Not attempting to create an anonymous token."),D.a.Deferred().reject().promise()),_getAnonymousTokenPromise(){const e=function(e,t){if(!t||!t.campaign)return e;const i=Object.keys(t.campaign).reduce((e,i)=>(e["utm_"+i]=t.campaign[i],e),{});return LKt(e,i)}("/api/v2/users/anonymous",Object(ne.c)("metrics").toJSON().context);return Ao(this.server.getXHROptions(e,{method:"POST",dataType:"json"})).then(({authToken:e})=>(Object(C.a)("[User] Anonymous token promise succeeded, accessToken="+e),e))},_getManualUserPromise(e){return D.a.ajax(this.server.getXHROptions(I.a.result(this,"url"),{headers:{"X-Plex-Token":e}}))},signInUnsupervised(){if(this._isSigningIn)return;this._isSigningIn=!0;const e=this._getTokenPromise();e.done(e=>{Object(C.a)("[User] Token promise succeeded, accessToken="+e);const t=e?this._getManualUserPromise(e):D.a.Deferred().reject().promise();t.done(t=>{Object(C.a)("[User] userPromise succeeded");const i=this.get("homeDetails");i.fetch({headers:{"X-Plex-Token":e}}).always(()=>{const e=this.parse(t);let n=this.get("lockState");if(n!==Do.Unlocked){const t=Object(ne.c)("settingFinder").find("autoLogin"),a=!!e.guest&&!i.get("guestEnabled");n=!!e.home&&(!t||a)?Do.Locked:Do.Unlocked}this.signIn(e,{lockState:n}),this._isSigningIn=!1})}),t.fail(e=>{if(Object(C.a)("[User] userPromise failed"),e&&e.aborting)return this.set({hasAttemptedSignIn:!0}),void(this._isSigningIn=!1);!e||401!==e.status&&422!==e.status?this.signOut({hasAttemptedSignIn:!0,hasInvalidToken:!1,features:this.get("features"),allFriends:this.get("allFriends"),settings:this.get("settings"),experienceSettings:this.get("experienceSettings")}):this.get("anonymous")?(Object(C.a)("[User] userPromise failed for anonymous user due to invalid token."),this.signOutAnonymousUser()):(Object(C.a)("[User] userPromise failed due to invalid token."),this.signOutDueToInvalidToken()),this.server.testAllConnections(),this._isSigningIn=!1})}),e.fail(()=>{Object(C.a)("[User] tokenPromise failed"),this.signOut({hasAttemptedSignIn:!0,hasInvalidAnonymousUserToken:this.get("hasInvalidAnonymousUserToken"),features:this.get("features"),allFriends:this.get("allFriends"),settings:this.get("settings"),experienceSettings:this.get("experienceSettings")}),this._isSigningIn=!1})},signIn(e,t={},i={}){const n=I.a.isString(e)?this.parse(e):e,a=n.authToken,s=Object.assign({hasAttemptedSignIn:!0,isSignedIn:!0},n,t);return this._resolve(s,i),De.set("myPlexAccessToken",a)},signOut(e={}){return this._reject(e),D.a.Deferred().resolve().promise()},signOutAnonymousUser(){return Me(this.signOut({hasAttemptedSignIn:!0,hasInvalidAnonymousUserToken:!0}),this.clearAccessToken())},signOutDueToInvalidToken(){return Me(this.signOut({hasAttemptedSignIn:!0,hasInvalidToken:!0}),this.clearAccessToken())},activateStoredUser(e){Mo.set("activeUserID",e)},clearAccessToken(){window.PLEXWEB&&window.PLEXWEB.myPlexAccessToken&&delete window.PLEXWEB.myPlexAccessToken;let e=De.remove("myPlexAccessToken");return e=e.then(()=>Mo.clearActiveUser()),e},hashPIN(e,t=this.get("authToken")){return L8t.a.SHA256_hash(e+t)},hasEntitlement(e){const t=this.get("hasAllEntitlements"),i=this.get("entitlements");return!(!t&&!i.get(e))},hasHome(){return!!this.get("pin")||this.get("homeUsers").length>1},isFullUser(){return this.get("isFullUser")},isEmployee(){return this.get("isEmployee")},isNinja(){return this.get("isNinja")},_resolve(e,t={}){this.startCapturingChangeEvents(),this.activateStoredUser(e.id),this.set(e),this._resolvePopulate(),this.server.authenticate(e.authToken),t.silent?this.discardCapturedChangeEvents():this.releaseCapturedChangeEvents()},_reject(e,t={}){this.startCapturingChangeEvents(),this.restoreDefaults(e),this._rejectPopulate(),this.server.deauthenticate(),t.silent?this.discardCapturedChangeEvents():this.releaseCapturedChangeEvents()},onHomeUsersChange(e,t){const i=e.previous("homeUsers");i&&this.stopListening(i),this.listenTo(this.get("homeUsers"),"reset add remove",this.onHomeUsersUpdate)},onHomeUsersUpdate(){this.set("homeSize",this.get("homeUsers").length),this.get("homeDetails").fetch()},onServerConnectedChange(e,t){t&&this.signInUnsupervised()},onServerUnavailableChange(e,t){t&&this.signOut({lockState:this.get("lockState"),features:this.get("features"),allFriends:this.get("allFriends"),settings:this.get("settings"),experienceSettings:this.get("experienceSettings")})}});$e(V8t,(function(){return{relationClass:Object(ne.c)("UserFlexModel")}}));var B8t=V8t,F8t=i("rRWa");function H8t(e,t,i,...n){return Object(ya.f)((function*(){var a={};yield Object(ya.l)(e,(function*(e){var s=i(e);a[s]&&(yield Object(ya.c)(a[s])),a[s]=yield Object(ya.f)(t,e,...n),yield Object(ya.g)(a[s]),a[s]&&!a[s].isRunning()&&delete a[s]}))}))}function _8t(e,t,i,...n){return Object(ya.f)((function*(){var a={};yield Object(ya.l)(e,(function*(e){var s,r=i(e);(null==(s=a[r])?void 0:s.isRunning())||(a[r]=yield Object(ya.f)(t,e,...n),yield Object(ya.g)(a[r]),a[r]&&!a[r].isRunning()&&delete a[r])}))}))}function*W8t({payload:e}){try{const{server:t,provider:i,metadataKey:n,sourceURI:a}=e,s=yield Object(ya.b)(Pa.get,V.join([n,"userState"]),{server:t,provider:i}),r=Object.assign({},s.data.MediaContainer.UserState,{tempState:{}});yield Object(ya.h)(Es.actions.fetchSucceeded({sourceURI:a,metadataItemState:r}))}catch(t){yield Object(ya.h)(Es.actions.fetchFailed({sourceURI:e.sourceURI,error:t}))}finally{(yield Object(ya.d)())&&(yield Object(ya.h)(Es.actions.resetAsync({sourceURI:e.sourceURI})))}}function*Q8t({payload:e}){const{server:t,provider:i,sourceURI:n,ratingKey:a,played:s}=e;try{const e=aJe(i,Ka.Scrobble);if(!e)throw new Error("No scrobble action found on provider");const r=s?e.key:e.reverseKey;if(!r)throw new Error("The scrobble action is missing a `key` or `reverseKey`");yield Object(ya.b)(Pa.get,r,{server:t,provider:i,params:{identifier:i.identifier,key:a}}),yield Object(ya.h)(Es.actions.playedStatusUpdateSucceeded({server:t,provider:i,sourceURI:n,ratingKey:a,played:s}))}catch(e){yield Object(ya.h)(Es.actions.playedStatusUpdateFailed({sourceURI:n,error:Pa.toPlainErrorObject(e)}))}}function*G8t({payload:e}){const{server:t,provider:i,sourceURI:n,ratingKey:a,rating:s}=e;try{const e=aJe(i,Ka.Rate);if(!e)throw new Error("No rate action found on provider");if(!e.key)throw new Error("The rate action is missing a `key`");yield Object(ya.b)(Pa.put,e.key,{server:t,provider:i,params:{identifier:i.identifier,key:a,rating:s}}),yield Object(ya.h)(Es.actions.rateSucceeded({server:t,provider:i,sourceURI:n,ratingKey:a,rating:s}))}catch(e){yield Object(ya.h)(Es.actions.rateFailed({sourceURI:n,error:Pa.toPlainErrorObject(e)}))}}function*K8t({payload:e}){const{server:t,provider:i,sourceURI:n,ratingKey:a,added:s}=e;try{const e=aJe(i,Ka.AddToWatchlist);if(!e)throw new Error("No watchlist action found on provider");const r=s?e.key:e.reverseKey;if(!r)throw new Error("The watchlist action is missing a `key` or `reverseKey`");yield Object(ya.b)(Pa.put,r,{server:t,provider:i,params:{ratingKey:a}}),yield Object(ya.h)(Es.actions.toggleWatchlistSucceeded({server:t,provider:i,sourceURI:n,ratingKey:a,added:s}))}catch(e){yield Object(ya.h)(Es.actions.toggleWatchlistFailed({sourceURI:n,error:Pa.toPlainErrorObject(e)}))}}function*Y8t({payload:e}){const{server:t,provider:i,sourceURI:n,ratingKey:a,saved:s}=e;try{const e=aJe(i,Ka.Save);if(!e)throw new Error("No save action found on provider");const r=s?e.key:e.reverseKey;if(!r)throw new Error("The save action is missing a `key` or `reverseKey`");yield Object(ya.b)(Pa.put,r,{server:t,provider:i,params:{ratingKey:a}}),yield Object(ya.h)(Es.actions.toggleSavedSucceeded({server:t,provider:i,sourceURI:n,ratingKey:a,saved:s}))}catch(e){yield Object(ya.h)(Es.actions.toggleSavedFailed({sourceURI:n,error:Pa.toPlainErrorObject(e)}))}}function*q8t({payload:e}){const{server:t,provider:i,sourceURI:n,part:a,streamIDParam:s,streamID:r,allParts:o}=e;try{const e=a.key.match(new RegExp("^(.*/parts/"+a.id+")/")),l=V.join(e?e[1]:["/library/parts",a.id]);yield Object(ya.b)(Pa.put,l,{server:t,provider:i,params:{[s]:r,allParts:o?1:0}}),yield Object(ya.h)(Es.actions.streamSelectSucceeded({server:t,provider:i,sourceURI:n}))}catch(e){yield Object(ya.h)(Es.actions.streamSelectFailed({sourceURI:n,error:Pa.toPlainErrorObject(e)}))}}function*Z8t({payload:e}){const{server:t,provider:i,sourceURI:n,streamKey:a}=e;try{yield Object(ya.b)(Pa.del,a,{server:t,provider:i}),yield Object(ya.h)(Es.actions.streamDeleteSucceeded({server:t,provider:i,sourceURI:n}))}catch(e){yield Object(ya.h)(Es.actions.streamDeleteFailed({sourceURI:n,error:Pa.toPlainErrorObject(e)}))}}function*J8t({payload:e}){const{targetServer:t,targetProvider:i,targetLibrarySectionID:n,targetLibraryType:a,server:s,provider:r,metadataItem:o}=e;try{yield Object(ya.b)(Pa.post,"/media/subscriptions",{server:t,provider:i,params:{providers:Object(gs.a)({serverIdentifier:s.machineIdentifier,providerIdentifier:r.identifier}),prefs:{oneShot:1,remoteMedia:1},params:{libraryType:oHt(a)},targetLibrarySectionID:n,hints:{guid:o.guid,ratingKey:o.ratingKey,title:o.title,parentTitle:o.parentTitle},type:oHt(o.type)}})}catch(e){}}function*X8t(){const e=yield Object(ya.m)(Es.actions.fetchRequested,W8t);yield Object(ya.k)(Es.actions.fetchFailed),Object(ya.c)(e)}function*$8t(){yield H8t(Es.actions.playedStatusUpdateRequested,Q8t,({payload:e})=>e.sourceURI)}function*e9t(){yield H8t(Es.actions.rateRequested,G8t,({payload:e})=>e.sourceURI)}function*t9t(){yield H8t(Es.actions.toggleWatchlistRequested,K8t,({payload:e})=>e.sourceURI)}function*i9t(){yield H8t(Es.actions.toggleSavedRequested,Y8t,({payload:e})=>e.sourceURI)}function*n9t(){yield H8t(Es.actions.streamSelectRequested,q8t,({payload:e})=>e.sourceURI)}function*a9t(){yield _8t(Es.actions.streamDeleteRequested,Z8t,({payload:e})=>e.streamKey)}function*s9t(){yield _8t(Es.actions.addToLibraryRequested,J8t,({payload:e})=>e.metadataItem.sourceURI)}function*r9t(){yield Object(ya.a)([Object(ya.f)(X8t),Object(ya.f)($8t),Object(ya.f)(e9t),Object(ya.f)(t9t),Object(ya.f)(i9t),Object(ya.f)(n9t),Object(ya.f)(a9t),Object(ya.f)(s9t)])}function o9t(e,t,i,n,a={leading:!0,trailing:!0},...s){return Object(ya.f)((function*(){var r={};function*o(e,t,i){r[e]={timestamp:Date.now()},yield Object(ya.e)(i),yield Object(ya.b)(l,e,t)}function*l(e,t){r[e]={timestamp:Date.now(),task:yield Object(ya.f)(i,t,...s)}}yield Object(ya.l)(t,(function*(t){var i=n(t),s=r[i];if(s){if((null==a?void 0:a.trailing)&&s.task&&!s.task.isRunning()){var c=e-(Date.now()-s.timestamp);yield Object(ya.b)(o,i,t,c)}}else(null==a?void 0:a.leading)?yield Object(ya.b)(l,i,t):(null==a?void 0:a.trailing)&&(yield Object(ya.b)(o,i,t,e));var d=r[i];yield Object(ya.e)(e),d===r[i]&&delete r[i]}))}))}function*l9t({payload:e}){var{server:t,provider:i,sourceURI:n,key:a,params:s}=e;try{var{metadataItemKey:r,parameters:o}=Object(sr.a)(n),l=yield Object(ya.b)(ws.fetchAll,null!=a?a:r,{server:t,provider:i,params:Object.assign({},s,a?void 0:o)});yield Object(ya.h)(Ts.actions.fetchAllSucceeded({sourceURI:n,data:l}))}catch(e){yield Object(ya.h)(Ts.actions.fetchAllFailed({sourceURI:n,error:Pa.toPlainErrorObject(e)}))}}function*c9t({payload:e}){var{server:t,provider:i,sourceURI:n,key:a,params:s,startIndex:r,size:o,isPrepend:l}=e;try{var{metadataItemKey:c,parameters:d}=Object(sr.a)(n),u=yield Object(ya.b)(ws.fetchRange,null!=a?a:c,{server:t,provider:i,params:Object.assign({},s,a?void 0:d),startIndex:r,size:o,isPrepend:l});yield Object(ya.h)(Ts.actions.fetchRangeSucceeded({sourceURI:n,data:u}))}catch(e){yield Object(ya.h)(Ts.actions.fetchRangeFailed({sourceURI:n,error:Pa.toPlainErrorObject(e)}))}}function*d9t({payload:e}){var{server:t,provider:i,sourceURI:n,key:a,params:s}=e;try{var r=yield Object(ya.j)(k1e(n)),o=ws.getRepopulateRangeOptions(r.items),{metadataItemKey:l,parameters:c}=Object(sr.a)(n),d=yield Object(ya.b)(ws.fetchRange,null!=a?a:l,Object.assign({server:t,provider:i,params:Object.assign({},s,a?void 0:c)},o));yield Object(ya.h)(Ts.actions.repopulateRangeSucceeded({sourceURI:n,data:d}))}catch(e){yield Object(ya.h)(Ts.actions.repopulateRangeFailed({sourceURI:n,error:Pa.toPlainErrorObject(e)}))}}function*u9t(){yield _8t(Ts.actions.fetchAllRequested,l9t,({payload:e})=>e.sourceURI)}function*p9t(){yield H8t(Ts.actions.fetchRangeRequested,c9t,({payload:e})=>e.sourceURI)}function*h9t(){yield H8t(Ts.actions.repopulateRangeRequested,d9t,({payload:e})=>e.sourceURI)}function*m9t(){yield o9t(5e3,Ts.actions.throttledRepopulateRangeRequested,d9t,({payload:e})=>e.sourceURI)}function*g9t(){yield o9t(5e3,Ts.actions.throttledFetchAllRequested,l9t,({payload:e})=>e.sourceURI)}function*v9t(){yield Object(ya.a)([Object(ya.f)(u9t),Object(ya.f)(p9t),Object(ya.f)(h9t),Object(ya.f)(m9t),Object(ya.f)(g9t)])}function*y9t({payload:e}){const{server:t,provider:i,sourceURI:n}=e;try{const{metadataItemKey:e}=Object(sr.a)(n);yield Object(ya.b)(Pa.put,V.join([e,"refresh"]),{server:t,provider:i})}catch(e){yield Object(ya.h)(Ls.actions.metadataRefreshFailed({sourceURI:n,error:Pa.toPlainErrorObject(e)}))}}function*f9t({payload:e}){const{server:t,provider:i,sourceURI:n}=e;try{const{metadataItemKey:e}=Object(sr.a)(n);yield Object(ya.b)(Pa.put,V.join([e,"analyze"]),{server:t,provider:i})}catch(e){yield Object(ya.h)(Ls.actions.mediaAnalysisFailed({sourceURI:n,error:Pa.toPlainErrorObject(e)}))}}function*b9t(){yield Object(ya.l)(Ls.actions.metadataRefreshRequested,y9t)}function*I9t(){yield Object(ya.l)(Ls.actions.mediaAnalysisRequested,f9t)}function*S9t(){yield Object(ya.a)([Object(ya.f)(b9t),Object(ya.f)(I9t)])}function*C9t({payload:e}){var{server:t}=e;try{(yield Object(ya.j)(UP(t.machineIdentifier))).isPopulated||(yield Object(ya.h)(zs.actions.fetchRequested(e)))}catch(e){yield Object(ya.h)(zs.actions.fetchFailed({server:t,error:Pa.toPlainErrorObject(e)}))}}function*M9t({payload:e}){var{server:t}=e;try{var i,n,a=null!=(i=null==(n=(yield Object(ya.b)(Pa.get,"/accounts",{server:t})).data.MediaContainer)?void 0:n.Account)?i:[];yield Object(ya.h)(zs.actions.fetchSucceeded({server:t,data:a.filter(e=>e.name)}))}catch(e){yield Object(ya.h)(zs.actions.fetchFailed({server:t,error:Pa.toPlainErrorObject(e)}))}}function*D9t(){yield _8t(zs.actions.populateRequested,C9t,({payload:e})=>e.server.machineIdentifier)}function*P9t(){yield _8t(zs.actions.fetchRequested,M9t,({payload:e})=>e.server.machineIdentifier)}function*O9t(){yield Object(ya.a)([Object(ya.f)(D9t),Object(ya.f)(P9t)])}function*j9t({payload:e}){var{server:t}=e;try{(yield Object(ya.j)(Vdt(t.machineIdentifier))).isPopulated||(yield Object(ya.h)(Bs.actions.fetchRequested(e)))}catch(e){yield Object(ya.h)(Bs.actions.fetchFailed({server:t,error:Pa.toPlainErrorObject(e)}))}}function*w9t({payload:e}){var{server:t}=e;try{var i,n,a=yield Object(ya.b)(Pa.get,"/devices",{server:t});yield Object(ya.h)(Bs.actions.fetchSucceeded({server:t,data:null!=(i=null==(n=a.data.MediaContainer)?void 0:n.Device)?i:[]}))}catch(e){yield Object(ya.h)(Bs.actions.fetchFailed({server:t,error:Pa.toPlainErrorObject(e)}))}}function*T9t(){yield _8t(Bs.actions.populateRequested,j9t,({payload:e})=>e.server.machineIdentifier)}function*E9t(){yield _8t(Bs.actions.fetchRequested,w9t,({payload:e})=>e.server.machineIdentifier)}function*N9t(){yield Object(ya.a)([Object(ya.f)(T9t),Object(ya.f)(E9t)])}function x9t(e){var t,i;const{data:n}=e;return(null!=(t=null==(i=n.MediaContainer)?void 0:i.Metadata)?t:[]).map(e=>{var t;const i=hs()(e);return Ss(i,"viewOffset"),Ss(i,"duration"),null==(t=i.Media)||t.forEach(e=>{var t;null==(t=e.Part)||t.forEach(e=>{var t;null==(t=e.Stream)||t.forEach(e=>{Cs(e,"selected"),Ss(e,"streamType")})})}),i})}function*A9t({payload:e}){var{server:t}=e;try{var i=yield Object(ya.b)(Pa.get,"/status/sessions",{server:t});yield Object(ya.h)(_s.actions.fetchSucceeded({server:t,data:x9t(i)}))}catch(e){yield Object(ya.h)(_s.actions.fetchFailed({server:t,error:Pa.toPlainErrorObject(e)}))}}function*L9t({payload:e}){var{server:t,message:i}=e;try{var n=(yield Object(ya.j)(Gb(t.machineIdentifier))).sessionsByKey[i.sessionKey];n&&n.key===i.key||(yield Object(ya.h)(_s.actions.fetchRequested({server:t})))}catch(e){yield Object(ya.h)(_s.actions.stopFailed({server:t,error:Pa.toPlainErrorObject(e)}))}}function*k9t({payload:e}){var{server:t,session:i,reason:n}=e;try{yield Object(ya.b)(Pa.get,"/status/sessions/terminate",{server:t,params:{sessionId:i.Session.id,reason:n}})}catch(e){yield Object(ya.h)(_s.actions.stopFailed({server:t,error:Pa.toPlainErrorObject(e)}))}}function*R9t(){yield _8t(_s.actions.fetchRequested,A9t,({payload:e})=>e.server.machineIdentifier)}function*z9t(){yield _8t(_s.actions.sessionChanged,L9t,({payload:e})=>e.server.machineIdentifier)}function*U9t(){yield Object(ya.l)(_s.actions.stopRequested,k9t)}function*V9t(){yield Object(ya.a)([Object(ya.f)(R9t),Object(ya.f)(z9t),Object(ya.f)(U9t)])}function*B9t(){yield Object(ya.a)([Object(ya.f)(r9t),Object(ya.f)(v9t),Object(ya.f)(S9t),Object(ya.f)(O9t),Object(ya.f)(N9t),Object(ya.f)(V9t)])}function*F9t({payload:e}){var{destinationServer:t,destinationProvider:i,playlistType:n,ui:a}=e;try{var s,r=as(i,Qa.Playlist);if(!r||!r.key)throw new Error("No playlist feature found on provider");var o=(null==(s=(yield Object(ya.b)(Pa.get,r.key,{server:t,provider:i,params:{playlistType:n,smart:0,sort:"updatedAt:desc",includeMeta:1,limit:a===Gs.Menu?3:1e3}})).data.MediaContainer)?void 0:s.Metadata)||[];yield Object(ya.h)(Ks.actions.playlistListFetchSucceeded({ui:a,playlists:o}))}catch(e){yield Object(ya.h)(Ks.actions.playlistListFetchFailed({ui:a,error:Pa.toPlainErrorObject(e)}))}}function*H9t({payload:e}){var{ui:t,destinationServer:i,destinationProvider:n,playlistKey:a,sourceURI:s}=e;try{yield Object(ya.b)(Pa.put,a,{server:i,provider:n,params:{uri:s}}),yield Object(ya.h)(Ks.actions.playlistSaveSucceeded({ui:t}))}catch(e){yield Object(ya.h)(Ks.actions.playlistSaveFailed({ui:t,error:Pa.toPlainErrorObject(e)}))}}function*_9t({payload:e}){var{ui:t,destinationServer:i,destinationProvider:n,playlistType:a,title:s,sourceURI:r}=e;try{var o=as(n,Qa.Playlist);if(!o||!o.key)throw new Error("No playlist feature found on provider");yield Object(ya.b)(Pa.post,o.key,{server:i,provider:n,params:{type:a,title:s,uri:r,smart:0}}),yield Object(ya.h)(Ks.actions.playlistSaveSucceeded({ui:t}))}catch(e){yield Object(ya.h)(Ks.actions.playlistSaveFailed({ui:t,error:Pa.toPlainErrorObject(e)}))}}function*W9t(){yield Object(ya.m)(Ks.actions.playlistListFetchRequested,F9t)}function*Q9t(){yield Object(ya.m)(Ks.actions.playlistCreateRequested,_9t)}function*G9t(){yield Object(ya.m)(Ks.actions.playlistUpdateRequested,H9t)}function*K9t(){yield Object(ya.a)([Object(ya.f)(W9t),Object(ya.f)(Q9t),Object(ya.f)(G9t)])}function*Y9t({payload:e}){try{var t;const a=Date.now(),s=yield Object(ya.b)(Pa.get,"/statistics/bandwidth",{server:e.server,params:{timespan:e.timespan,"at>":e.after}}),r=s.data.MediaContainer,o=s.headers.Date,l=o?(i=o,(n=Object(zT.a)(i,"EEE, dd MMM yyyy HH:mm:ss 'GMT'",new Date)).getTime()-60*n.getTimezoneOffset()*1e3):a;yield Object(ya.h)(qs.actions.bandwidthFetchSucceeded({data:null!=(t=null==r?void 0:r.StatisticsBandwidth)?t:[],requestTimestampMilliseconds:a,responseTimestampMilliseconds:l}))}catch(e){yield Object(ya.h)(qs.actions.bandwidthFetchFailed({error:Pa.toPlainErrorObject(e)}))}var i,n}function*q9t({payload:e}){try{var t;const i=Date.now(),n=(yield Object(ya.b)(Pa.get,"/statistics/resources",{server:e.server,params:{timespan:Gy(zy.RealTime)}})).data.MediaContainer;yield Object(ya.h)($s.actions.resourcesFetchSucceeded({data:null!=(t=null==n?void 0:n.StatisticsResources)?t:[],requestTimestampMilliseconds:i}))}catch(e){yield Object(ya.h)($s.actions.resourcesFetchFailed({error:Pa.toPlainErrorObject(e)}))}}function*Z9t({payload:e}){try{var t,i;const n=(yield Object(ya.b)($9t,e)).data.MediaContainer;yield Object(ya.h)(nr.actions.topUsersFetchSucceeded({data:{statistics:null!=(t=null==n?void 0:n.StatisticsMedia)?t:[],accounts:null!=(i=null==n?void 0:n.Account)?i:[]}}))}catch(e){yield Object(ya.h)(nr.actions.topUsersFetchFailed({error:Pa.toPlainErrorObject(e)}))}}function*J9t({payload:e}){try{var t,i;const n=(yield Object(ya.b)($9t,e)).data.MediaContainer;yield Object(ya.h)(Js.actions.playHistoryFetchSucceeded({data:{statistics:null!=(t=null==n?void 0:n.StatisticsMedia)?t:[],accounts:null!=(i=null==n?void 0:n.Account)?i:[]}}))}catch(e){yield Object(ya.h)(Js.actions.playHistoryFetchFailed({error:Pa.toPlainErrorObject(e)}))}}function*X9t({payload:e}){try{var t,i,n,a,s,r,o,l;const[c,d,u,p]=yield Object(ya.a)([Object(ya.b)(e7t,e,Na.Movie),Object(ya.b)(e7t,e,Na.Show),Object(ya.b)(e7t,e,Na.Artist),Object(ya.b)(e7t,e,Na.Game)]);yield Object(ya.h)(tr.actions.topPlayedFetchSucceeded({data:{moviesStatistics:null!=(t=null==(i=c.data.MediaContainer)?void 0:i.Metadata)?t:[],tvStatistics:null!=(n=null==(a=d.data.MediaContainer)?void 0:a.Metadata)?n:[],musicStatistics:null!=(s=null==(r=u.data.MediaContainer)?void 0:r.Metadata)?s:[],gameStatistics:null!=(o=null==(l=p.data.MediaContainer)?void 0:l.Metadata)?o:[]}}))}catch(e){yield Object(ya.h)(tr.actions.topPlayedFetchFailed({error:Pa.toPlainErrorObject(e)}))}}function*$9t(e){return yield Object(ya.b)(Pa.get,"/statistics/media",{server:e.server,params:{timespan:e.timespan,"at>":e.after}})}function*e7t(e,t){return yield Object(ya.b)(Pa.get,"/library/all/top",{server:e.server,params:{accountID:e.accountID,type:Qt.u(t).id,"viewedAt>":e.viewedAt,limit:e.limit}})}function*t7t(){for(;;){const e=yield Object(ya.m)(qs.actions.bandwidthFetchRequested,Y9t);yield Object(ya.k)([qs.actions.reset,qs.actions.bandwidthAbortRequested]),yield Object(ya.c)(e)}}function*i7t(){for(;;){const e=yield Object(ya.m)($s.actions.resourcesFetchRequested,q9t);yield Object(ya.k)($s.actions.reset),yield Object(ya.c)(e)}}function*n7t(){for(;;){const e=yield Object(ya.n)(nr.actions.topUsersFetchRequested,Z9t);yield Object(ya.k)(nr.actions.reset),yield Object(ya.c)(e)}}function*a7t(){for(;;){const e=yield Object(ya.n)(Js.actions.playHistoryFetchRequested,J9t);yield Object(ya.k)(Js.actions.reset),yield Object(ya.c)(e)}}function*s7t(){for(;;){const e=yield Object(ya.n)(tr.actions.topPlayedFetchRequested,X9t);yield Object(ya.k)(tr.actions.reset),yield Object(ya.c)(e)}}function*r7t(){yield Object(ya.a)([Object(ya.f)(t7t),Object(ya.f)(i7t),Object(ya.f)(n7t),Object(ya.f)(a7t),Object(ya.f)(s7t)])}function o7t(e,t){if(null==t?void 0:t.DisplayFields)return t;const i=ls(e.type);if(!i)return t;const n=ds(e.type,e.subtype);return e.style===_a.Shelf&&e.hubIdentifier&&e.hubIdentifier.startsWith("external.")&&n.push(is.SourceTitle),Object.assign({},t,{DisplayFields:[{type:i,subtype:e.subtype,fields:n}]})}function l7t(e){return"relatedAlbums"===e.hubIdentifier&&e.size>1?_a.WideShelf:e.style}function c7t({server:e,provider:t,contentDirectoryID:i,excludedHubIdentifiers:n,data:a}){var s;const r=null!=(s=null==a?void 0:a.MediaContainer)?s:{},{Hub:o=[]}=r,l=Xe()(r,["Hub"]);return o.reduce((a,s)=>{var o,c,d;if((null==n?void 0:n.length)&&(null==n?void 0:n.some(e=>e===s.hubIdentifier)))return a;const u=i?V.join(s.key,{contentDirectoryID:i.join(",")}):s.key,p=null!=(o=s.source)?o:Object(gs.a)({serverIdentifier:e.machineIdentifier,providerIdentifier:null==t?void 0:t.identifier}),h=u?""+p+u:p+"/"+s.hubIdentifier;let m=s.totalSize;null==m&&(m=s.more?void 0:s.size),a.hubs.push({source:p,sourceURI:h,key:u,isStale:!1,initialSize:s.size,style:l7t(s),attribution:s.attribution,autoAdvanceDelayMs:s.autoAdvanceDelayMs,context:s.context,hubIdentifier:s.hubIdentifier,Meta:o7t(s,s.Meta||r.Meta),more:s.more,placeholder:s.placeholder,random:s.random,subtype:s.subtype,title:s.title,type:s.type});const g=null!=(c=null!=(d=s.Metadata)?d:s.Directory)?c:[],{metadataItems:v,metadataItemStates:y}=js({server:e,provider:t,data:g,container:l});return a.metadataLists.push({sourceURI:h,items:v,totalSize:m,offset:0,isPending:!1,isPopulated:!0,error:null}),Object.assign(a.metadataItemStates,y),a},{title:l.title,meta:l.Meta,hubs:[],metadataLists:[],metadataItemStates:{}})}function*d7t({payload:e}){var{server:t,provider:i,sourceURI:n,key:a,params:s}=e;yield Object(ya.h)(Ts.actions.added({metadataLists:[{sourceURI:n,items:[],offset:0}],metadataItemStates:{}})),yield Object(ya.h)(Ts.actions.fetchRangeRequested({server:t,provider:i,sourceURI:n,key:a,params:Object.assign({},s,{includeAdvanced:1,includeMeta:1}),startIndex:0,size:24}))}function*u7t({payload:e}){var{server:t,provider:i,sourceURI:n}=e,{metadataItemKey:a,parameters:s}=Object(sr.a)(n);try{var r=c7t({server:t,provider:i,data:(yield Object(ya.b)(Pa.get,a,{server:t,provider:i,params:Object.assign({},s,{count:12,includeStations:1,includeRecentChannels:1,includeMeta:1,excludeFields:"summary"})})).data});yield Object(ya.a)([Object(ya.h)(Ts.actions.added({metadataLists:r.metadataLists,metadataItemStates:r.metadataItemStates})),Object(ya.h)(cr.actions.fetchHubsSucceeded({sourceURI:n,data:r}))])}catch(e){yield Object(ya.h)(cr.actions.fetchHubsFailed({error:Pa.toPlainErrorObject(e)}))}}function*p7t(){yield Object(ya.e)(6e4),yield Object(ya.h)(cr.actions.markHubsStale())}function*h7t({payload:e}){var{server:t,provider:i,key:n}=e;try{var a,s=null==(a=(yield Object(ya.b)(Pa.get,n,{server:t,provider:i})).data.MediaContainer.Directory)?void 0:a.map(e=>{var t,i;e.fastKey?t={key:e.fastKey,field:e.type,value:e.key,title:String(e.title)}:t={key:e.key,field:null!=(i=e.field)?i:"",value:null!=e.value?String(e.value):e.key,type:e.type,title:String(e.title)};return t});yield Object(ya.h)(cr.actions.fetchFilterOptionsSucceeded({key:n,filterOptions:null!=s?s:[]}))}catch(e){yield Object(ya.h)(cr.actions.fetchFilterOptionsFailed({key:n,error:Pa.toPlainErrorObject(e)}))}}function*m7t({payload:e}){var{server:t,provider:i,key:n}=e;try{var a,s=yield Object(ya.b)(Pa.get,n,{server:t,provider:i});yield Object(ya.h)(cr.actions.fetchFirstCharactersSucceeded({key:n,firstCharacters:null!=(a=s.data.MediaContainer.Directory)?a:[]}))}catch(e){yield Object(ya.h)(cr.actions.fetchFirstCharactersFailed({key:n,error:Pa.toPlainErrorObject(e)}))}}function*g7t(){for(;;){var e=yield Object(ya.n)(cr.actions.initializeListRequested,d7t);yield Object(ya.k)(cr.actions.reset),yield Object(ya.c)(e)}}function*v7t(){for(;;){var e=yield Object(ya.n)(cr.actions.fetchHubsRequested,u7t);yield Object(ya.k)([cr.actions.reset,cr.actions.resetHubs,cr.actions.markHubsStaleRequested]),yield Object(ya.c)(e)}}function*y7t(){for(;;){yield Object(ya.k)(cr.actions.markHubsStaleRequested);var e=yield Object(ya.b)(p7t);yield Object(ya.k)(cr.actions.markHubsStaleCanceled),yield Object(ya.c)(e)}}function*f7t(){for(;;){var e=yield Object(ya.n)(cr.actions.fetchFilterOptionsRequested,h7t);yield Object(ya.k)(cr.actions.reset),yield Object(ya.c)(e)}}function*b7t(){for(;;){var e=yield Object(ya.n)(cr.actions.fetchFirstCharactersRequested,m7t);yield Object(ya.k)(cr.actions.reset),yield Object(ya.c)(e)}}function*I7t(){yield Object(ya.a)([Object(ya.f)(g7t),Object(ya.f)(v7t),Object(ya.f)(y7t),Object(ya.f)(f7t),Object(ya.f)(b7t)])}var S7t=Og(Object(Wu.a)(Ku,e=>e.embeddedServer,(e,t)=>jg(e[t])),e=>e);function C7t(e){return e(Object(ne.c)("appStore").getState())}var M7t=function(e){return Object(ya.b)(C7t,e)};function*D7t({payload:e}){yield Object(ya.b)(N7t,[e.metadataItem])}function*P7t({payload:e}){const t=e.metadataLists.reduce((e,{items:t})=>e.concat(t),[]);yield Object(ya.b)(N7t,t)}function*O7t({payload:e}){yield Object(ya.b)(N7t,e.data.items)}function*j7t({payload:e}){const{sourceURI:t,guid:i,useSelected:n}=e;try{var a,s;const e=yield M7t(S7t),{providerIdentifier:r,serverIdentifier:o,metadataRatingKey:l}=Object(sr.a)(t),c=Object(gs.a)({serverIdentifier:o,providerIdentifier:r});if(!l||!c)throw new Error("Unable to create a subscription for this item");yield Object(ya.b)(Pa.post,"media/providers",{server:e,params:{url:c}});const d=(null==(a=(yield Object(ya.b)(Pa.get,"media/subscriptions/template",{server:e,params:{source:c,ratingKey:l,guid:i}})).data.MediaContainer.SubscriptionTemplate)||null==(s=a[0])?void 0:s.MediaSubscription)||[],u=n?d.find(({selected:e})=>e):d[0];if(!u)throw new Error("Unable to create a subscription for this item");u.Setting.some(({hidden:e})=>!e)?yield Object(ya.h)(mr.actions.subscriptionTemplateChanged({sourceURI:t,template:u})):yield Object(ya.h)(mr.actions.subscriptionCreateRequested({sourceURI:t,template:u}))}catch(e){yield Object(ya.h)(mr.actions.subscriptionCreateFailed({sourceURI:t,error:Pa.toPlainErrorObject(e)}))}}function*w7t({payload:e}){const{sourceURI:t,template:{type:i,targetLibrarySectionID:n,parameters:a,Setting:s},settings:r={}}=e;try{var o,l;const e=yield M7t(S7t),d={};for(const{id:e,value:t}of s){var c;if("oneShot"===e)d[e]="false";else d[e]=null!=(c=r[e])?c:t}const u=V.parseParams(a),p=null==(o=(yield Object(ya.b)(Pa.post,"media/subscriptions",{server:e,params:Object.assign({},u,{type:i,targetLibrarySectionID:n,prefs:d})})).data.MediaContainer)||null==(l=o.MediaSubscription)?void 0:l[0].key;if(!p)throw new Error("The new subscription did not contain an identifier");yield Object(ya.h)(mr.actions.subscriptionCreateSucceeded({id:p,sourceURI:t,type:i}))}catch(e){yield Object(ya.h)(mr.actions.subscriptionCreateFailed({sourceURI:t,error:Pa.toPlainErrorObject(e)}))}}function*T7t({payload:e}){const{id:t,sourceURI:i}=e;try{const e=yield M7t(S7t);yield Object(ya.b)(Pa.del,V.join(["media/subscriptions",t]),{server:e}),yield Object(ya.h)(mr.actions.subscriptionDeleteSucceeded({sourceURI:i}))}catch(e){yield Object(ya.h)(mr.actions.subscriptionDeleteFailed({sourceURI:i,error:Pa.toPlainErrorObject(e)}))}}function*E7t({payload:e}){const{type:t,Context:i}=e.activity;if(!i||"provider.subscription.refresh"!==t)return;const{ratingKey:n,source:a}=i,{serverIdentifier:s,providerIdentifier:r}=Object(sr.a)(a),o=Object(gs.a)({serverIdentifier:s,providerIdentifier:r,metadataItemKey:"/library/metadata/"+n});try{yield Object(ya.h)(Es.actions.repopulateRequested({sourceURI:o}))}catch(e){yield Object(ya.h)(mr.actions.subscriptionCreateFailed({sourceURI:o,error:Pa.toPlainErrorObject(e)}))}}function*N7t(e){try{const n=yield M7t(S7t),a=((yield Object(ya.b)(Pa.get,"media/providers",{server:n,params:{includeStorage:1}})).data.MediaContainer.MediaProvider||[]).map(e=>({id:String(e.id),source:e.source}));yield Object(ya.h)(mr.actions.providersFetchSucceeded({providerSections:a}));const s={};for(const{source:e,id:t}of a)e&&(s[e]=t);const r={};e.forEach(e=>{r[e.source]?r[e.source].push(e):r[e.source]=[e]});const o=[];for(const[e,a]of Object.entries(r)){const r=s[e];if(!r)break;const l={},c=[];for(const e of a)c.push(e.ratingKey),l[e.ratingKey]=e;const d=c.join(","),u=V.join(["media/providers",r,"media/subscriptions/mapping",d]),p=(yield Object(ya.b)(Pa.get,u,{server:n,params:{includeStorage:1}})).data.MediaContainer.MediaSubscription||[];for(const{id:e,itemRatingKey:n,type:a}of p){const s=l[n];o.push({id:e,sourceURI:s.sourceURI,subscription:ur.Saved,type:a,relation:(t=a,i=oHt(s.type),t===i?pr.Self:t<i?pr.Ancestors:pr.Descendants),progress:100})}}yield Object(ya.h)(mr.actions.downloadsFetchSucceeded({items:e,downloads:o}))}catch(e){yield Object(ya.h)(mr.actions.downloadsFetchFailed({error:Pa.toPlainErrorObject(e)}))}var t,i}function*x7t(){yield Object(ya.l)(Rr.actions.metadataItemFetchSucceeded,D7t)}function*A7t(){yield Object(ya.l)(Ts.actions.added,P7t)}function*L7t(){yield Object(ya.l)(Ts.actions.repopulateRangeSucceeded,O7t)}function*k7t(){yield Object(ya.l)(Ts.actions.fetchRangeSucceeded,O7t)}function*R7t(){yield Object(ya.l)(Ts.actions.fetchAllSucceeded,O7t)}function*z7t(){yield Object(ya.m)(mr.actions.subscriptionTemplatesFetchRequested,j7t)}function*U7t(){yield Object(ya.m)(mr.actions.subscriptionCreateRequested,w7t)}function*V7t(){yield Object(ya.m)(mr.actions.subscriptionDeleteRequested,T7t)}function*B7t(){yield Object(ya.l)(Us.actions.activityFinished,E7t)}function*F7t(){yield Object(ya.a)(be.a.allowSyncDownload?[Object(ya.f)(x7t),Object(ya.f)(A7t),Object(ya.f)(k7t),Object(ya.f)(R7t),Object(ya.f)(L7t),Object(ya.f)(z7t),Object(ya.f)(U7t),Object(ya.f)(V7t),Object(ya.f)(B7t)]:[])}function H7t({data:e}){var t;return(null!=(t=e.Device)?t:[]).map(e=>(Ms(e,"source"),{key:e.key,uuid:e.uuid,parentID:e.parentID,uri:e.uri,protocol:e.protocol,status:e.status,state:e.state,lastSeenAt:e.lastSeenAt,make:e.make,model:e.model,modelNumber:e.modelNumber,source:e.source,sources:e.sources.split(","),tuners:e.tuners,thumb:e.thumb,unsupported:e.unsupported}))}function*_7t({payload:e}){const{server:t}=e;try{var i;const e=yield Object(ya.b)(Pa.post,"/media/grabbers/devices/discover",{server:t});yield Object(ya.h)(yr.actions.devicesDiscoverSucceeded({server:t,data:H7t({server:t,data:null==(i=e.data)?void 0:i.MediaContainer})}))}catch(e){yield Object(ya.h)(yr.actions.devicesDiscoverFailed({server:t,error:Pa.toPlainErrorObject(e)}))}}function*W7t({payload:e}){const{server:t}=e;try{var i;const e=yield Object(ya.b)(Pa.get,"/media/grabbers/devices",{server:t});yield Object(ya.h)(yr.actions.devicesFetchSucceeded({server:t,data:H7t({server:t,data:null==(i=e.data)?void 0:i.MediaContainer})}))}catch(e){yield Object(ya.h)(yr.actions.devicesFetchFailed({server:t,error:Pa.toPlainErrorObject(e)}))}}function*Q7t({payload:e}){const{server:t,deviceKey:i}=e;try{var n,a;const e=yield Object(ya.b)(Pa.get,V.join(["/media/grabbers/devices",i,"channels"]),{server:t});yield Object(ya.h)(yr.actions.deviceChannelsFetchSucceeded({server:t,deviceKey:i,data:null!=(n=null==(a=e.data.MediaContainer)?void 0:a.DeviceChannel)?n:[]}))}catch(e){yield Object(ya.h)(yr.actions.deviceChannelsFetchFailed({server:t,deviceKey:i,error:Pa.toPlainErrorObject(e)}))}}function*G7t(){for(;;){const e=yield Object(ya.n)(yr.actions.devicesDiscoverRequested,_7t);yield Object(ya.k)(yr.actions.reset),yield Object(ya.c)(e)}}function*K7t(){for(;;){const e=yield Object(ya.n)(yr.actions.devicesFetchRequested,W7t);yield Object(ya.k)(yr.actions.reset),yield Object(ya.c)(e)}}function*Y7t(){for(;;){const e=yield _8t(yr.actions.deviceChannelsFetchRequested,Q7t,({payload:e})=>String(e.deviceKey));yield Object(ya.k)(yr.actions.reset),yield Object(ya.c)(e)}}function*q7t(){yield Object(ya.a)([Object(ya.f)(G7t),Object(ya.f)(K7t),Object(ya.f)(Y7t)])}function*Z7t({payload:e}){const{server:t,device:i,lineupGroup:n}=e;try{const e=yield Object(ya.b)(Pa.get,V.join("/livetv/epg/lineup",{device:i.uuid,lineupGroup:n.uuid}),{server:t});yield Object(ya.h)(Ir.actions.bestEPGLineupSearchSucceeded({data:e.headers["x-plex-activity"]}))}catch(e){}}function*J7t({payload:e}){const{server:t}=e;try{var i,n;const e=yield Object(ya.b)(Pa.get,"/livetv/epg/countries",{server:t});yield Object(ya.h)(Ir.actions.epgCountriesFetchSucceeded({server:t,data:null!=(i=null==(n=e.data.MediaContainer)?void 0:n.Country)?i:[]}))}catch(e){yield Object(ya.h)(Ir.actions.epgCountriesFetchFailed({server:t,error:Pa.toPlainErrorObject(e)}))}}function*X7t({payload:e}){const{server:t,country:i}=e;try{var n,a;const e=yield Object(ya.b)(Pa.get,V.join(["/livetv/epg/countries",i.key,"regions"]),{server:t});yield Object(ya.h)(Ir.actions.epgCountryRegionsFetchSucceeded({data:null!=(n=null==(a=e.data.MediaContainer)?void 0:a.Region)?n:[]}))}catch(e){yield Object(ya.h)(Ir.actions.epgCountryRegionsFetchFailed({error:Pa.toPlainErrorObject(e)}))}}function*$7t({payload:e}){const{server:t}=e;try{var i,n;const e=yield Object(ya.b)(Pa.get,"/livetv/epg/languages",{server:t});yield Object(ya.h)(Ir.actions.epgLanguagesFetchSucceeded({data:null!=(i=null==(n=e.data.MediaContainer)?void 0:n.Language)?i:[]}))}catch(e){yield Object(ya.h)(Ir.actions.epgLanguagesFetchFailed({error:Pa.toPlainErrorObject(e)}))}}function*eei({payload:e}){const{server:t,country:i,region:n,postalCode:a}=e,s=["/livetv/epg/countries",i.key],r={};i.flavor===pR.Regions&&n?s.push(n.key):r.postalCode=a;const o=V.join(s,r);try{var l,c,d;const e=yield Object(ya.b)(Pa.get,o,{server:t});yield Object(ya.h)(Ir.actions.epgLineupGroupFetchSucceeded({data:{uuid:null==(l=e.data.MediaContainer)?void 0:l.uuid,epgLineups:null!=(c=null==(d=e.data.MediaContainer)?void 0:d.Lineup)?c:[]}}))}catch(e){yield Object(ya.h)(Ir.actions.epgLineupGroupFetchFailed({error:Pa.toPlainErrorObject(e)}))}}function*tei(){for(;;){const e=yield Object(ya.n)(Ir.actions.bestEPGLineupSearchRequested.type,Z7t);yield Object(ya.k)(Ir.actions.reset.type),yield Object(ya.c)(e)}}function*iei(){for(;;){const e=yield Object(ya.n)(Ir.actions.epgCountriesFetchRequested.type,J7t);yield Object(ya.k)(Ir.actions.reset.type),yield Object(ya.c)(e)}}function*nei(){for(;;){const e=yield Object(ya.n)(Ir.actions.epgCountryRegionsFetchRequested.type,X7t);yield Object(ya.k)(Ir.actions.reset.type),yield Object(ya.c)(e)}}function*aei(){for(;;){const e=yield Object(ya.n)(Ir.actions.epgLanguagesFetchRequested.type,$7t);yield Object(ya.k)(Ir.actions.reset.type),yield Object(ya.c)(e)}}function*sei(){for(;;){const e=yield Object(ya.n)(Ir.actions.epgLineupGroupFetchRequested.type,eei);yield Object(ya.k)(Ir.actions.reset.type),yield Object(ya.c)(e)}}function*rei(){yield Object(ya.a)([Object(ya.f)(tei),Object(ya.f)(iei),Object(ya.f)(nei),Object(ya.f)(aei),Object(ya.f)(sei)])}function*oei(){yield Object(ya.a)([Object(ya.f)(q7t),Object(ya.f)(rei)])}function*lei({payload:e}){const{hubsSources:t,hubsStates:i,userServices:n}=e;yield Object(ya.a)(t.reduce((e,t)=>{const a=i.find(e=>e.key===t.key);return a&&e.push(Object(ya.b)(uei,t,a,n)),e},[]))}function*cei({payload:e}){const{hubsSource:t,userServices:i}=e,{key:n,source:a,contentDirectoryID:s,server:r,provider:o,feature:l}=t;try{if(!r||!o||!(null==l?void 0:l.key))throw new Error("Missing server, provider, or a provider feature with a key that can be used to fetch hubs");if(PG(i,l.requires)){const e={contentDirectoryID:s.join(","),includeMeta:1,excludeFields:"summary"};l.type===Qa.Promoted&&Object.assign(e,{count:12,includeGames:1,includeRecentChannels:1,excludeContinueWatching:1});const t=yield Object(ya.b)(Pa.get,l.key,{server:r,provider:o,params:e}),i=c7t({server:r,provider:o,contentDirectoryID:s,excludedHubIdentifiers:l.type===Qa.Promoted?[v0e.ContinueWatching,v0e.OnDeck]:[],data:t.data});yield Object(ya.a)([Object(ya.h)(Ts.actions.added({metadataLists:i.metadataLists,metadataItemStates:i.metadataItemStates})),Object(ya.h)(Pr.actions.fetchSucceeded({key:n,data:i.hubs}))])}else yield Object(ya.h)(Pr.actions.fetchSucceeded({key:n,data:[]}))}catch(e){yield Object(ya.h)(Pr.actions.fetchFailed({key:n,source:a,contentDirectoryID:s,error:Pa.toPlainErrorObject(e)}))}}function*dei(){yield Object(ya.e)(6e4),yield Object(ya.h)(Pr.actions.markStale())}function*uei(e,t,i){const{key:n,source:a,contentDirectoryID:s}=e;try{const n=t.isSourceReady&&!t.isListPending&&!t.isListPopulated&&!t.isListError,a=!!t.contentDirectoryID.length&&!wp(t.contentDirectoryID,s);(n||a)&&(yield Object(ya.h)(Pr.actions.fetchRequested({hubsSource:e,userServices:i})))}catch(e){yield Object(ya.h)(Pr.actions.fetchFailed({key:n,source:a,contentDirectoryID:s,error:Pa.toPlainErrorObject(e)}))}}function*pei(){yield Object(ya.l)(Pr.actions.populateAllRequested,lei)}function*hei(){for(;;){const e=yield H8t(Pr.actions.fetchRequested,cei,({payload:e})=>e.hubsSource.key);yield Object(ya.k)(Pr.actions.markStaleRequested),yield Object(ya.c)(e)}}function*mei(){for(;;)yield Object(ya.k)(Pr.actions.markStaleRequested),yield Object(ya.i)({task:Object(ya.b)(dei),cancel:Object(ya.k)(Pr.actions.populateAllRequested)})}function*gei(){yield Object(ya.a)([Object(ya.f)(pei),Object(ya.f)(hei),Object(ya.f)(mei)])}function*vei({payload:e}){var{server:t,importAll:i,sectionID:n}=e;try{yield Object(ya.b)(Pa.put,"/playlists/import/itunes",{server:t,params:{sectionID:n,force:i?1:0}}),yield Object(ya.h)(jr.actions.importSucceeded())}catch(e){yield Object(ya.h)(jr.actions.importFailed({error:Pa.toPlainErrorObject(e)}))}}function*yei(){yield Object(ya.m)(jr.actions.importRequested.type,vei)}function*fei(){yield Object(ya.a)([Object(ya.f)(yei)])}function bei(e=[]){return e.reduce((e,t)=>(t.key===Bdt.ViewedAt?e["viewedAt>"]=t.value:e[t.key]=t.value,e),{})}function*Iei({payload:e}){try{var{server:t,provider:i,sort:n,filters:a,startIndex:s,size:r,isPrepend:o}=e,l=yield Object(ya.b)(Nr.fetchRange,"/status/sessions/history/all",{server:t,provider:i,params:Object.assign({sort:n},bei(a)),startIndex:s,size:r,isPrepend:o});yield Object(ya.h)(Ar.actions.fetchRangeSucceeded({data:l}))}catch(e){yield Object(ya.h)(Ar.actions.fetchRangeFailed({error:Pa.toPlainErrorObject(e)}))}}function*Sei(){for(;;){var e=yield Object(ya.m)(Ar.actions.fetchRangeRequested,Iei);yield Object(ya.k)(Ar.actions.reset),yield Object(ya.c)(e)}}function*Cei(){yield Object(ya.a)([Object(ya.f)(Sei)])}function Mei(e){const{source:t,childrenKey:i,popularLeaves:n,extras:a}=e,s=function(e){const{skipParent:t,parentKey:i,grandparentKey:n}=e,a=t?n:i,s=t?"grandchildren":"children";if(a)return V.join([a,s],{excludeAllLeaves:1});return}(e),r=null==n?void 0:n.key,o=a?V.join([e.key,"extras"]):void 0;return{descendantListSourceURI:i?V.join([t,i]):void 0,siblingListSourceURI:Dei(e)&&s?V.join([t,s]):void 0,popularLeavesSourceURI:r?V.join([t,r]):void 0,extrasSourceURI:o?V.join([t,o]):void 0}}function Dei(e){return e.subtype!==Aa.Webshow&&e.subtype!==Aa.Podcast&&!qqe(e)}function*Pei({payload:e}){const t=yield Object(ya.j)(jBt);try{const i=yield Object(ya.b)(Tei,e.server,e.provider,e.metadataKey);yield Object(ya.b)(Eei,e.server,e.provider,i,t)}catch(e){yield Object(ya.h)(Rr.actions.metadataItemFetchFailed({error:Pa.toPlainErrorObject(e)}))}}function*Oei({payload:e}){try{var t;const i=yield Object(ya.j)(jBt),n=null==(t=i.metadata.metadataItem)?void 0:t.key;if(!n)return;const a=yield Object(ya.b)(Tei,e.server,e.provider,n);yield Object(ya.b)(Eei,e.server,e.provider,a,i)}catch(e){}}function*jei({payload:e}){const{server:t,provider:i,metadataKey:n}=e,a=!t.version||Qi(t.version,qi.simpleRelatedKey)?V.join([n,"related"]):V.join([n.replace(/(\/library)?\/metadata/,"/hubs/metadata"),"related"]);try{const e=c7t({server:t,provider:i,data:(yield Object(ya.b)(Pa.get,a,{server:t,provider:i,params:{includeAugmentations:!t.version||Qi(t.version,qi.augmentedHubsInRelatedHubs)?1:0,includeExternalMetadata:1,includeMeta:1}})).data});yield Object(ya.a)([Object(ya.h)(Ts.actions.added({metadataLists:e.metadataLists,metadataItemStates:e.metadataItemStates})),Object(ya.h)(Rr.actions.relatedHubsFetchSucceeded({hubs:e.hubs}))])}catch(e){yield Object(ya.h)(Rr.actions.relatedHubsFetchFailed({error:Pa.toPlainErrorObject(e)}))}}function*wei({payload:e}){const{server:t,provider:i,augmentationKey:n}=e;try{const e=c7t({server:t,provider:i,data:(yield Object(ya.b)(Pa.get,n,{server:t,provider:i,params:{wait:1}})).data});yield Object(ya.a)([Object(ya.h)(Ts.actions.added({metadataLists:e.metadataLists,metadataItemStates:e.metadataItemStates})),Object(ya.h)(Rr.actions.augmentedHubsFetchSucceeded({hubs:e.hubs}))])}catch(e){yield Object(ya.h)(Rr.actions.augmentedHubsFetchFailed({error:Pa.toPlainErrorObject(e)}))}}function*Tei(e,t,i){const n=(yield Object(ya.b)(Pa.get,i,{server:e,provider:t,params:{includeConcerts:1,includeExtras:1,includeOnDeck:1,includePopularLeaves:1,includePreferences:1,includeReviews:1,includeChapters:1,includeStations:1,includeExternalMedia:1,asyncAugmentMetadata:1,asyncCheckFiles:1,asyncRefreshAnalysis:1,asyncRefreshLocalMediaAgent:1}})).data.MediaContainer,{Metadata:a=[]}=n,s=Xe()(n,["Metadata"]),[r]=a;if(!r)throw new Error("The response did not contain a metadata item");const o=Os({server:e,provider:t,data:r,container:s}),{descendantListSourceURI:l,siblingListSourceURI:c,popularLeavesSourceURI:d,extrasSourceURI:u}=Mei(o.metadataItem),p={metadataItem:o.metadataItem,metadataItemStates:o.metadataItemStates,descendantListSourceURI:l,siblingListSourceURI:c,popularLeavesSourceURI:d,extrasSourceURI:u};return yield Object(ya.h)(Rr.actions.metadataItemFetchSucceeded(p)),yield Object(ya.h)(Es.actions.metadataItemStatesNormalized({metadataItemStates:o.metadataItemStates})),p}function*Eei(e,t,i,n){const{descendantListSourceURI:a,siblingListSourceURI:s,popularLeavesSourceURI:r,extrasSourceURI:o}=n,{metadataItem:l,descendantListSourceURI:c,siblingListSourceURI:d,popularLeavesSourceURI:u,extrasSourceURI:p}=i,h=[];var m,g;(c&&(c===a?yield Object(ya.h)((null==l?void 0:l.type)===Na.Album?Ts.actions.throttledFetchAllRequested({server:e,provider:t,sourceURI:c}):Ts.actions.throttledRepopulateRangeRequested({server:e,provider:t,sourceURI:c})):h.push(Object(ya.b)(Nei,{server:e,provider:t,sourceURI:c,fetchAll:l.type===Na.Album}))),d&&(d===s?yield Object(ya.h)(Ts.actions.throttledFetchAllRequested({server:e,provider:t,sourceURI:d})):h.push(Object(ya.b)(Nei,{server:e,provider:t,sourceURI:d,fetchAll:!0}))),u)&&(u===r?yield Object(ya.h)(Ts.actions.throttledRepopulateRangeRequested({server:e,provider:t,sourceURI:u})):h.push(Object(ya.b)(Nei,{server:e,provider:t,sourceURI:u,items:null==(m=l.popularLeaves)?void 0:m.items})));p&&(p===o?yield Object(ya.h)(Ts.actions.throttledRepopulateRangeRequested({server:e,provider:t,sourceURI:p})):h.push(Object(ya.b)(Nei,{server:e,provider:t,sourceURI:p,items:l.extras,totalSize:null==(g=l.extras)?void 0:g.length})));yield Object(ya.a)(h)}function*Nei({server:e,provider:t,sourceURI:i,items:n=[],totalSize:a,fetchAll:s}){if(yield Object(ya.h)(Ts.actions.added({metadataLists:[{sourceURI:i,items:n,totalSize:a,offset:0,allowSync:!1}],metadataItemStates:{}})),null==a)if(s)try{yield Object(ya.h)(Ts.actions.fetchAllRequested({server:e,provider:t,sourceURI:i}))}catch(e){yield Object(ya.h)(Ts.actions.fetchAllFailed({error:Pa.toPlainErrorObject(e),sourceURI:i}))}else try{yield Object(ya.h)(Ts.actions.fetchRangeRequested({server:e,provider:t,sourceURI:i,startIndex:0,size:20}))}catch(e){yield Object(ya.h)(Ts.actions.fetchRangeFailed({error:Pa.toPlainErrorObject(e),sourceURI:i}))}}function*xei(){for(;;){const e=yield Object(ya.n)(Rr.actions.metadataItemFetchRequested,Pei);yield Object(ya.k)(Rr.actions.reset),yield Object(ya.c)(e)}}function*Aei(){for(;;){const e=yield Object(ya.n)(Rr.actions.relatedHubsFetchRequested,jei);yield Object(ya.k)(Rr.actions.reset),yield Object(ya.c)(e)}}function*Lei(){for(;;){const e=yield Object(ya.n)(Rr.actions.augmentedHubsFetchRequested,wei);yield Object(ya.k)(Rr.actions.reset),yield Object(ya.c)(e)}}function*kei(){for(;;){const e=yield Object(ya.n)(Rr.actions.metadataItemRepopulateRequested,Oei),t=yield Object(ya.k)([Rr.actions.reset,Es.actions.playedStatusUpdateRequested,Es.actions.toggleWatchlistRequested,Es.actions.toggleSavedRequested,Es.actions.streamSelectRequested,Es.actions.streamDeleteRequested,Es.actions.preferenceChanged]);if(t.type!==Rr.actions.reset){(yield Object(ya.j)(jBt)).metadata.isPending&&(yield Object(ya.h)(Es.actions.repopulateCanceled({sourceURI:t.payload.sourceURI})))}yield Object(ya.c)(e)}}function*Rei(){yield Object(ya.a)([Object(ya.f)(xei),Object(ya.f)(kei),Object(ya.f)(Aei),Object(ya.f)(Lei)])}var zei=Tg(ST.a);function Uei(e){Object(ne.c)("appStore").dispatch(e)}var Vei=function(e){return Object(ya.b)(Uei,e)};function*Bei({payload:e}){const{password:t}=e,i=yield M7t(zei);try{const e=yield Object(ya.b)(Pa.post,"/api/v2/user/two_factor",{server:i},{password:t});yield Object(ya.h)(Ur.actions.createSecretSucceeded({server:i,provisioningUri:e.data.provisioningUri,secret:e.data.secret}))}catch(e){yield Object(ya.h)(Ur.actions.createSecretFailed({server:i,error:Pa.toPlainErrorObject(e)}))}}function*Fei({payload:e}){const{enabled:t,verificationCode:i}=e,n=yield M7t(zei);try{if(t){const e=yield Object(ya.b)(Pa.put,"/api/v2/user/two_factor",{server:n},{verificationCode:i,resetDevices:!1});yield Object(ya.h)(Ur.actions.toggleSucceeded({enabled:!0,codes:e.data.codes}))}else yield Object(ya.b)(Pa.del,"/api/v2/user/two_factor",{server:n,params:{verificationCode:i}}),yield Object(ya.h)(Ur.actions.toggleSucceeded({enabled:!1}));yield Vei(gL({twoFactorEnabled:t}))}catch(e){yield Object(ya.h)(Ur.actions.toggleFailed({server:n,error:Pa.toPlainErrorObject(e)}))}}function*Hei({payload:e}){const{password:t,verificationCode:i}=e,n=yield M7t(zei);try{const e=yield Object(ya.b)(Pa.post,"/api/v2/user/two_factor/backup_codes",{server:n},{password:t,verificationCode:i});yield Object(ya.h)(Ur.actions.generateRecoveryCodesSucceeded({codes:e.data.codes}))}catch(e){yield Object(ya.h)(Ur.actions.generateRecoveryCodesFailed({server:n,error:Pa.toPlainErrorObject(e)}))}}function*_ei(){for(;;){const e=yield Object(ya.m)(Ur.actions.createSecretRequested,Bei);yield Object(ya.k)(Ur.actions.reset),yield Object(ya.c)(e)}}function*Wei(){for(;;){const e=yield Object(ya.m)(Ur.actions.toggleRequested,Fei);yield Object(ya.k)(Ur.actions.reset),yield Object(ya.c)(e)}}function*Qei(){for(;;){const e=yield Object(ya.m)(Ur.actions.generateRecoveryCodesRequested,Hei);yield Object(ya.k)(Ur.actions.reset),yield Object(ya.c)(e)}}function*Gei(){yield Object(ya.a)([Object(ya.f)(_ei),Object(ya.f)(Wei),Object(ya.f)(Qei)])}function*Kei(){yield Object(ya.a)([Object(ya.f)(K9t),Object(ya.f)(r7t),Object(ya.f)(I7t),Object(ya.f)(F7t),Object(ya.f)(oei),Object(ya.f)(gei),Object(ya.f)(fei),Object(ya.f)(Cei),Object(ya.f)(Rei),Object(ya.f)(Gei)])}var Yei=Object(F8t.a)(),qei=Object(va.a)({reducer:Hr,middleware:[Yei]});Yei.run((function*(){yield Object(ya.a)([Object(ya.f)(B9t),Object(ya.f)(Kei)])}));var Zei=qei;var Jei=xe.a.extend({name:"StoreModel",initialize(){this._currentState=Zei.getState(),Zei.subscribe(()=>{const e=Zei.getState();this.trigger("statechange",this,e,this._currentState),this._currentState=e})},getState:()=>Zei.getState(),toJSON:()=>Zei.getState(),dispatch(e){Zei.dispatch(e)}});var Xei=x6t.extend({name:"DesktopAppModel",sessionAttrs:{clientID:Ae.a.string,anonymousClientID:Ae.a.string,authorized:Ae.a.boolean.isRequired,skipSignIn:Ae.a.boolean.isRequired,isWaitingForServers:Ae.a.boolean.isRequired,isWaitingForPrimaryServer:Ae.a.boolean.isRequired,history:Ae.a.array.isRequired,forwardHistory:Ae.a.array.isRequired,drmType:Ae.a.oneOf(...Object.values(Ft)),isFirstRun:Ae.a.boolean.isRequired,isFullscreen:Ae.a.boolean.isRequired,castApiAvailability:W7.isRequired,settings:Ae.a.instanceOf(od)},sessionRelations:{entities:{relationClass:function(e){const t={};for(const i in e){t[e[i]]={relationClass:R6t}}return xe.a.extend({name:"EntitiesModel",sessionRelations:t})}(s)},servers:{relationClass:L6t},cloudServer:{relationClass:mme,deferred:!0},primaryServer:{relationClass:an,deferred:!0},companionServer:{relationClass:an,deferred:!0},transientServer:{relationClass:k3t,deferred:!0},user:{relationClass:B8t,deferred:!0},remotePlayer:{relationClass:xe.a,deferred:!0},deviceSettings:{relationClass:Zl},ui:{relationClass:x8t},v4:{relationClass:Jei}},defaults(){const e=new mme({machineIdentifier:ST.a},{parent:this});return{authorized:!1,skipSignIn:!1,isWaitingForServers:!1,isWaitingForPrimaryServer:!1,history:[],forwardHistory:[],cloudServer:e,user:new B8t({},{server:e,parent:this}),isFirstRun:!1,isFullscreen:!1,castApiAvailability:1,settings:new od}},dispatch(e){this.get("v4").dispatch(e)}});var $ei=xe.a.extend({name:"OauthProviderUsageModel",syncedAttrs:{federatedAuth:Ae.a.boolean,other:Ae.a.boolean}});var eti=xe.a.extend({name:"OauthProviderModel",rootPropertyName:"provider",sessionAttrs:{isUnlinking:Ae.a.boolean.isRequired,unlinkError:Ae.a.object},syncedAttrs:{authName:Ae.a.string,image:Ae.a.string,label:Ae.a.string.isRequired,linked:Ae.a.boolean.isRequired,nickname:Ae.a.string,url:Ae.a.string.isRequired},syncedRelations:{usage:{relationClass:$ei}},defaults:{isUnlinking:!1}});var tti=ke.a.extend({name:"OauthProviderCollection",model:eti,context:["server"],url:"/api/v2/authentications/providers",responseType:ct.a});var iti=xe.a.extend({name:"CloudServerFlexModel",context:["server"],sessionAttrs:{isOauthProvidersPending:Ae.a.boolean,isOauthProvidersPopulated:Ae.a.boolean,oauthProvidersError:Ae.a.object},sessionRelations:{oauthProviders:{relationClass:tti}},defaults:{isOauthProvidersPending:!1,isOauthProvidersPopulated:!1,oauthProvidersError:null}});var nti=xe.a.extend({name:"PlexPlayerModel",context:["server","baseURL"],rootPropertyName:"Server",sessionAttrs:{volume:Ae.a.integer},syncedAttrs:{machineIdentifier:Ae.a.string,name:Ae.a.string,title:Ae.a.string,address:Ae.a.string,port:Ae.a.string,deviceClass:Ae.a.string,version:Ae.a.string,product:Ae.a.string,protocol:Ae.a.string,protocolVersion:Ae.a.string,protocolCapabilities:Ae.a.list},derivedAttrs:{friendlyName(){return this.get("title")||this.get("name")||this.get("product")},playerIdentifier(){return this.baseURL+":"+this.get("machineIdentifier")}},defaults:{volume:100}});var ati=ke.a.extend({name:"PlexPlayerCollection",context:["server"],model:nti,url:"/clients",augmentResponse(e){const t=Object(ne.c)("appModel").get("clientID"),i=parseInt(e.size,10);return 1===i&&e.Server.machineIdentifier===t?(delete e.Server,e.size="0"):i>1&&(e.Server=e.Server.filter(e=>e.machineIdentifier!==t),e.size=e.Server.length.toString()),e}});var sti=xe.a.extend({name:"ActivityModel",context:["server"],idAttribute:"uuid",rootPropertyName:"Activity",responseType(){return Object(rt.a)(this.server)},sessionAttrs:{synthetic:Ae.a.boolean},syncedAttrs:{uuid:Ae.a.string,userID:Ae.a.integer,title:Ae.a.string,subtitle:Ae.a.string,progress:Ae.a.integer,event:Ae.a.string,cancellable:Ae.a.boolean,type:Ae.a.string,Context:Ae.a.object,Response:Ae.a.object},defaults:()=>({Context:{},Response:{}})});var rti=ke.a.extend({name:"ActivityCollection",context:["server"],model:sti,url:"/activities",responseType(){return Object(rt.a)(this.server)}});var oti=dm.extend({pageSize:10,pages:function(){return Math.max(Math.ceil(this.length/this.pageSize),1)},page:function(e,t){t||(t={});let i,n=0;return i=t.reverse?this.length-e*this.pageSize:e*this.pageSize-this.pageSize,i<0&&(n=i,i=0),this.models.slice(i,i+this.pageSize+n)}});let lti=0;var cti=nt.extend({idAttribute:"id",parse:function(e){const t=e;return t.time=new Date,t.id="evt"+lti++,"preference"===t._type&&(t.value=String(t.value)),t}});var dti=oti.extend({model:cti,url:"/servers",pageSize:20,limit:1e3,initialize:function(){this.startTime=new Date,this.listenTo(this.server,"socket:setting",this.onSettingChange),this.listenTo(this.server,"socket:timeline",this.onTimeline),this.listenTo(this.server,"socket:status",this.onStatus),this.listenTo(this.server,"socket:playing",this.onPlaying),this.listenTo(this.server,"socket:websocket",this.onWebSocket)},add:function(e){this.length+1>this.limit&&this.remove(this.at(0)),oti.prototype.add.apply(this,arguments)},onSettingChange:function(e){e.label&&this.add(I.a.extend({_type:"setting"},e),{parse:!0})},onTimeline:function(e){1===e.state||e.sectionID<0||this.add(I.a.extend({_type:"timeline"},e),{parse:!0})},onStatus:function(e){"ProgressNotification"!==e._elementType&&this.add(I.a.extend({_type:"status"},e),{parse:!0})},onPlaying:function(e){this.add(I.a.extend({_type:"playing"},e),{parse:!0})},onWebSocket:function(e){this.add(I.a.extend({_type:"websocket"},e),{parse:!0})}});var uti=xe.a.extend({name:"TranscodeJobModel",context:["server"],entityType:ht.o,entityID(e=this.state){return Object(pt.a)(this.entityType,e.syncItemId,this.server.entityID())},idAttribute:"syncItemId",rootPropertyName:"TranscodeJob",syncedAttrs:{syncItemId:Ae.a.integer,syncItemTitle:Ae.a.string,key:Ae.a.string,type:Ae.a.string,progress:Ae.a.float,speed:Ae.a.float,remaining:Ae.a.string,size:Ae.a.string,title:Ae.a.string,thumb:Ae.a.string},responseType(){return Object(rt.a)(this.server)}});var pti=ke.a.extend({name:"TranscodeJobCollection",context:["server"],model:uti,cache:new lm,url:"/sync/transcodeQueue"});var hti=xe.a.extend({name:"BackgroundTranscodeJobModel",context:["server"],entityType:Fj,entityID(e=this.state){return Object(pt.a)(this.entityType,e.key,this.server.entityID())},idAttribute:"key",rootPropertyName:"TranscodeJob",syncedAttrs:{queueItemID:Ae.a.integer,generatorID:Ae.a.integer,targetTagID:Ae.a.integer,syncItemId:Ae.a.integer,syncItemTitle:Ae.a.string,key:Ae.a.string,type:Ae.a.string,progress:Ae.a.float,speed:Ae.a.float,remaining:Ae.a.integer,size:Ae.a.integer,ratingKey:Ae.a.string,title:Ae.a.string,thumb:Ae.a.string}});var mti=ke.a.extend({name:"BackgroundTranscodeJobCollection",model:hti,context:["server"],url:"/status/sessions/background"});var gti=xe.a.extend({name:"NeighborhoodDeviceModel",context:["server"],idAttribute:"uuid",rootPropertyName:"Device",syncedAttrs:{uuid:Ae.a.string.isRequired,address:Ae.a.string.isRequired,title:Ae.a.string,manufacturer:Ae.a.string,model:Ae.a.string,modelNumber:Ae.a.string,serialNumber:Ae.a.string}});var vti=ke.a.extend({name:"NeighborhoodDeviceCollection",context:["server"],model:gti,url:"neighborhood/devices"});var yti=xe.a.extend({name:"ServerFlexModel",context:["server"],sessionAttrs:{alerts:Ae.a.instanceOf(dti).isRequired,hasiTunes:Ae.a.boolean,isHasiTunesPopulated:Ae.a.boolean,isSettingsPending:Ae.a.boolean,isSettingsPopulated:Ae.a.boolean,settingsError:Ae.a.object,isLibrariesPending:Ae.a.boolean.isRequired,isLibrariesPopulated:Ae.a.boolean.isRequired,librariesError:Ae.a.object,cleanBundlesError:Ae.a.string,optimizeDatabaseError:Ae.a.string},sessionRelations:{settings:{relationClass:sm.a,rootPropertyName:"Setting"},cloudAccount:{relationClass:la},libraries:{relationClass:Ct},activities:{relationClass:rti},transcodeJobs:{relationClass:pti},backgroundTranscodeJobs:{relationClass:mti},players:{relationClass:ati},neighborhoodDevices:{relationClass:vti},update:{relationClass:O6t}},defaults(){return{alerts:new dti([],{server:this.server}),hasiTunes:!1,isHasiTunesPopulated:!1,isSettingsPending:!0,isSettingsPopulated:!1,settingsError:null,isLibrariesPending:!0,isLibrariesPopulated:!1,librariesError:null,cleanBundlesError:null,optimizeDatabaseError:null}}});var fti=Wr.extend({name:"StoredUserExperienceSettingsModel",syncedAttrs:Object.assign({},qc.prototype.syncedAttrs,{isDirty:Ae.a.boolean}),syncedRelations:Object.assign({},qc.prototype.syncedRelations)});var bti=ke.a.extend({name:"CloudPlayerCollection",context:["server","baseURL"],model:nti,augmentResponse:e=>(e.Server||(e.Server=e.Player,delete e.Player),e)});var Iti=xe.a.extend({name:"CloudCompanionModel",context:["server"],idAttribute:"identifier",rootPropertyName:"Companion",syncedAttrs:{identifier:Ae.a.string,title:Ae.a.string,baseURL:Ae.a.string,linkURL:Ae.a.string,provides:Ae.a.list},sessionAttrs:{linkState:Ae.a.string},sessionRelations:{cloudPlayers:{relationClass:bti,options(){return{url:this.get("baseURL")+"/resources",baseURL:this.get("baseURL")}}}},defaults:{linkState:"untested"}});var Sti=ke.a.extend({name:"CloudCompanionCollection",context:["server"],model:Iti,url:"/api/v2/companions",responseType:ct.a,augmentResponse(e){const t=e,i=Object(ne.c)("appModel"),n=(i&&i.get("deviceSettings")).get("sonosCustomBaseURL");if(n&&t&&t.length){const e=t.find(({identifier:e})=>"tv.plex.sonos"===e);e&&t.push({identifier:"tv.plex.sonos-custom",title:"Sonos (Custom)",baseURL:n,linkURL:Object(V.join)([n,"link"]),provides:e.provides,token:e.token})}return e}});var Cti=xe.a.extend({name:"AnnouncementModel",context:["server"],rootPropertyName:"Announcement",syncedAttrs:{id:Ae.a.integer,title:Ae.a.string,content:Ae.a.string,imageUrl:Ae.a.string,style:Ae.a.string,url:Ae.a.string,expireAt:Ae.a.string,notifyAt:Ae.a.string,read:{type:Ae.a.boolean,save:!0}},markAsRead(){this.get("read")||this.save("read",!0)}});var Mti=ke.a.extend({name:"AnnouncementCollection",model:Cti,context:["server"],url:"api/announcements"});var Dti=ke.a.extend({name:"SyncItemCollection",context:["server","device"],model:el});const Pti={ACTIVE:"active",SNOOZED:"snoozed",DEAD:"dead"};var Oti=xe.a.extend({name:"SyncListModel",context:["server","device"],url(){return this.device?"/devices/"+this.device.get("clientIdentifier")+"/sync_items":"/servers/"+this.server.id+"/sync_lists"},syncedAttrs:{status:Ae.a.oneOf("active","snoozed","dead"),clientIdentifier:Ae.a.string,version:Ae.a.integer,itemsCompleteCount:Ae.a.integer,totalSize:Ae.a.integer},syncedRelations:{syncItems:{relationClass:Dti,rootPropertyName:"SyncItems"}},derivedAttrs:{isActive(){return"active"===this.get("status")}},augmentResponse:e=>(e.SyncItems&&(e.SyncItems=e.SyncItems.SyncItem),e),sync(e,t,i){const n=ot.addVersionHeaderForDevice(this.get("device"),i);return xe.a.prototype.sync.call(this,e,t,n)},getCollection(){return this.get("syncItems")},resetToServer(e){const t=this.getCollection(),i=t.filter((function(t){const i=t.get("Server");return i&&i.machineIdentifier===e}));t.reset(t.clone(i).models)}},{statuses:Pti});var jti=xe.a.extend({name:"DeviceModel",context:["server"],rootPropertyName:"Device",url(){return"/devices/"+this.id+".xml"},syncedAttrs:{id:Ae.a.string,clientIdentifier:Ae.a.string,name:Ae.a.string,product:Ae.a.string,productVersion:Ae.a.string,platform:Ae.a.string,platformVersion:Ae.a.string,device:Ae.a.string,model:Ae.a.string,provides:Ae.a.list,screenResolution:Ae.a.string,screenDensity:Ae.a.string,lastSeenAt:Ae.a.integer},syncedRelations:{syncList:{relationClass:Oti,rootPropertyName:"SyncList",deferred:!0,options(){return{device:this}}}},supports(e){return-1!==this.get("provides").indexOf(e)}});var wti=ke.a.extend({name:"DeviceCollection",context:["server"],model:jti,url:"/devices.xml",filterSyncDevices(e){const t=!!e&&e.get("isPlaylist"),i=this.filter(e=>{const i=e.get("syncList"),n=i&&i.get("version")>=2,a=t&&!n;return e.supports("sync-target")&&!a});return this.clone(i)},filterByProducts(e){const t=this.filter(t=>I.a.contains(e,t.get("product")));return this.clone(t)},filterByPlatforms(e){const t=this.filter(t=>I.a.contains(e,t.get("platform")));return this.clone(t)},products(){const e=this.map(e=>e.get("product"));return I.a.uniq(e)}});var Tti=ke.a.extend({name:"HomeUserCollection2",context:["server"],model:OY,url:"/api/home/users",parse(e){return this.convert(e,"User")}});var Eti=xe.a.extend({name:"InviteModel",context:["server"],rootPropertyName:"Invite",sessionAttrs:{isAccepting:Ae.a.boolean,isRemoving:Ae.a.boolean},syncedAttrs:{id:{type:Ae.a.string,save:!0},friend:Ae.a.boolean,home:Ae.a.boolean,server:Ae.a.boolean,friendlyName:Ae.a.string,username:Ae.a.string,email:Ae.a.string,thumb:Ae.a.string,createdAt:Ae.a.integer,Server:Ae.a.array},urlRoot:"/api/invites/requests",url(){let e;if(this.isNew())e=I.a.result(this,"urlRoot");else{const t=this.pick("friend","server","home");I.a.each(I.a.keys(t),(function(e){t[e]=t[e]?"1":"0"})),e=this.collection?I.a.result(this.collection,"url"):I.a.result(this,"urlRoot"),e=e.replace(/([^/])$/,"$1/")+encodeURIComponent(this.get("id")),e=V.join(e,t)}return e},augmentResponse(e){if(!e.Server)return e;return(Array.isArray(e.Server)?e.Server:[e.Server]).forEach(e=>{e.numLibraries=Object(mo.a)(e.numLibraries)}),e},defaults:{isAccepting:!1,isRemoving:!1}});var Nti=ke.a.extend({name:"InviteCollection",context:["server","subset"],model:Eti,url(){return"/api/invites/"+this.subset},initialize(e,t){t||(t={}),this.subset=t.subset||"requests"},filterByHome(){const e=new cG.a(this);return e.filterBy(e=>e.get("home")),e},filterByFriends(){const e=new cG.a(this);return e.filterBy(e=>!e.get("home")),e}}),xti=nt.extend({idAttribute:"key",whitelistedAttrs:["key","title","linked","maxLength"],convert:function(e){var t=I.a.isObject(e)?e:Be.a.parseXML(e);return Be.a.parseBoolean(t,["linked","maxLength"]),t},parse:function(e){var t=this.convert(e);return t=I.a.pick(t,this.whitelistedAttrs)}}),Ati=dm.extend({model:xti,url:"/pms/social/networks",parse:function(e){return this.convert(e,"Directory")}});var Lti=xe.a.extend({name:"SubscriptionPlanModel",context:["server"],rootPropertyName:"plan",syncedAttrs:{id:Ae.a.string,name:Ae.a.string,price:Ae.a.float,formattedPrice:Ae.a.string,currency:Ae.a.string}});var kti=ke.a.extend({name:"SubscriptionPlanCollection",context:["server"],model:Lti,url:"/api/subscriptions/plans"});var Rti=xe.a.extend({name:"WebhookModel",syncedAttrs:{url:Ae.a.string},defaults:{url:""}});var zti=ke.a.extend({name:"WebhookCollection",context:["server"],model:Rti,url:"/api/v2/user/webhooks",responseType:ct.a});var Uti=xe.a.extend({name:"UserFlexModel",context:["server"],sessionAttrs:{isHomeUsersPending:Ae.a.boolean.isRequired,isHomeUsersPopulated:Ae.a.boolean.isRequired,homeUsersError:Ae.a.object,socialNetworks:Ae.a.instanceOf(Ati).isRequired,isPlansPending:Ae.a.boolean.isRequired,isPlansPopulated:Ae.a.boolean.isRequired,plansError:Ae.a.object,isUpdatingUser:Ae.a.boolean.isRequired,updateUserError:Ae.a.object,isHomeDetailsPending:Ae.a.boolean,isHomeDetailsPopulated:Ae.a.boolean,homeDetailsError:Ae.a.object,isInvitesPending:Ae.a.boolean,isInvitesPopulated:Ae.a.boolean,invitesError:Ae.a.object,isSentInvitesPending:Ae.a.boolean,isSentInvitesPopulated:Ae.a.boolean,sentInvitesError:Ae.a.object,isWebhooksPending:Ae.a.boolean,isWebhooksPopulated:Ae.a.boolean,webhooksError:Ae.a.object,isUpdatingWebhooks:Ae.a.boolean,isRemovingWebhooks:Ae.a.boolean,updateWebhooksError:Ae.a.object},sessionRelations:{homeUsers:{relationClass:Tti},devices:{relationClass:wti},cloudCompanions:{relationClass:Sti},announcements:{relationClass:Mti},homeDetails:{relationClass:R8t},invites:{relationClass:Nti},sentInvites:{relationClass:Nti,options:{subset:"requested"}},plans:{relationClass:kti},webhooks:{relationClass:zti}},defaults(){const e={server:this.server,parent:this};return{isHomeUsersPending:!1,isHomeUsersPopulated:!1,homeUsersError:null,socialNetworks:new Ati([],e),isPlansPending:!0,isPlansPopulated:!1,plansError:null,isUpdatingUser:!1,updateUserError:null,isHomeDetailsPending:!1,isHomeDetailsPopulated:!1,homeDetailsError:null,isInvitesPending:!1,isInvitesPopulated:!1,invitesError:null,isSentInvitesPending:!1,isSentInvitesPopulated:!1,sentInvitesError:null,isWebhooksPending:!1,isWebhooksPopulated:!1,webhooksError:null,isUpdatingWebhooks:!1,isRemovingWebhooks:!1,updateWebhooksError:null}}});function Vti(e,t){let i,n=[],a=n;function s(){a===n&&(a=n.slice())}function r(e){i=function(e){const t={};for(let i=0,n=e.length;i<n;i++){const n=e[i];for(const e in n){const i=t[e],a=n[e];i?Array.isArray(i)?i.push(a):t[e]=[i,a]:t[e]=a}}return t}(e)}return r(e),t.on("statechange",(function(){const e=n=a;for(let t=0,i=e.length;t<i;t++)e[t]()})),{dispatch:function e(n){const{payload:a,type:s}=n,r=s&&i[s];if(Array.isArray(r))for(let i=0,n=r.length;i<n;i++)r[i](t,a,e);else r?r(t,a,e):t.dispatch(n);return n},subscribe:function(e){let t=!0;return s(),a.push(e),function(){if(!t)return;t=!1,s();const i=a.indexOf(e);a.splice(i,1)}},getState:function(){return t.getState()},replaceActionHandlers:r}}var Bti=function(){const e=D.a.Deferred();return window.setTimeout(()=>{e.resolve()},3e3),e};Object(Pi.a)("provider/providerIntegrations/initProviderIntegrations");const Fti=Object(Pi.a)("provider/providerIntegrations/fetchProviderIntegrations"),Hti=Object(Pi.a)("provider/providerIntegrations/pollProviderIntegrations");Object(Pi.a)("provider/providerIntegrations/integrationsOnboardingComplete"),Object(Pi.a)("provider/providerIntegrations/createLocastAccount");function _ti(e){return e.get("ui").get("providerIntegrations")}const Wti={"provider/providerIntegrations/initProviderIntegrations"(e,t,i){_ti(e).set({isIntegrationsOnboarding:!1,isIntegrationsPending:!1,isIntegrationsPopulated:!1,integrationsError:null,integrations:new V6t([],{server:Object(wi.m)(e,t),provider:Object(wi.j)(e,t)})}),i(Fti())},"provider/providerIntegrations/fetchProviderIntegrations":Object(Oi.a)({key:"integrations",getModel:_ti}),"provider/providerIntegrations/pollProviderIntegrations"(e,t,i){_ti(e).set("isIntegrationsOnboarding",!0),window.setTimeout(()=>{Object(Ti.a)(()=>{i(Fti())})},3e3)},"provider/providerIntegrations/integrationsOnboardingComplete"(e){_ti(e).set("isIntegrationsOnboarding",!1)},"provider/providerIntegrations/createLocastAccount"(e,t,i){_ti(e).set("isIntegrationsOnboarding",!0),Bti().then(()=>{i(Hti())})}};function Qti(e){return e.get("ui").get("dvrSettingsUI").get("dvrSetup")}function Gti(e,t){return Qti(e).get("epgSettings")}function Kti(e,t,i,n={}){const a=Qti(e),s=Gti(e),r=s.get(i);return r.abortPendingPopulate(),a.get("setupErrorMessages").remove("programGuideSettings"),s.set("isFetching",!0),r.fetch(n).done(()=>{s.set({isFetching:!1,isPopulated:!0})}).fail(()=>{s.set({isFetching:!1,isPopulated:!1}),a.get("setupErrorMessages").add({id:"programGuideSettings",message:Object(Ze.default)("Unable to fetch Guide settings")})})}var Yti=Sk({RESET_EPG_SETTINGS(e,t){Gti(e).restoreDefaults()},FETCH_EPG_COUNTRIES(e,t,i){const n=function(e,{serverEntityID:t}){return Object(Cx.a)(e,ht.n,t)}(e,t);Kti(e,0,"countries").done(()=>{const e=n.get("countryCode");e&&i(HU(Object.assign({},t,{countryCode:e})))})},FETCH_EPG_LANGUAGES(e,t,i){const n=Gti(e);Kti(e,0,"languages").done(()=>{const e=n.get("selectedCountry");e&&i(_U(Object.assign({},t,{languageCode:e.get("language")})))})},SELECT_EPG_COUNTRY(e,t,i){const n=Gti(e),a=n.get("countries").get(t.countryCode);if(n.set({selectedCountry:a,postalCode:""}),n.get("regions").reset(),n.get("lineupGroup").get("lineups").reset(),a){const s=a.get("flavor"),r=V.join([n.get("baseUrl"),a.get("key")]);i(FU(Object.assign({},t,{languageCode:a.get("language")}))),0===s?Kti(e,0,"regions",{url:r}):2===s&&(n.set("postalCode",a.get("example")),i(GU(t)))}},SELECT_EPG_LANGUAGE(e,t,i){const n=Gti(e),a=n.get("languages").get(t.languageCode);n.set("selectedLanguage",a)},SELECT_EPG_REGION(e,t,i){const n=Gti(e),a=n.get("regions").get(t.regionKey);n.set("selectedRegion",a),n.get("lineupGroup").get("lineups").reset(),a&&i(GU(t))},SET_EPG_POSTAL_CODE(e,t,i){const n=Gti(e),a=t.postalCode;n.set("postalCode",a),n.get("lineupGroup").get("lineups").reset()},FETCH_EPG_LINEUPS(e,t,i){const n=Gti(e),a=n.get("selectedCountry"),s=[n.get("baseUrl"),a.get("key")],r={};0===a.get("flavor")?s.push(n.get("selectedRegion").get("key")):r.postalCode=n.get("postalCode");Kti(e,0,"lineupGroup",{url:V.join(s,r)})}});function qti(e){return e.get("ui").get("background")}var Zti=Sk({CHANGE_BACKGROUND(e,t){const{serverEntityID:i,providerEntityID:n,imageUrl:a,allowBlur:s=!0,allowLightPreset:r=!1}=t,o=qti(e),l=i?Object(wi.m)(e,t):void 0,c=n?Object(wi.j)(e,t):void 0;o.set({server:l,provider:c,imageUrl:a,allowLightPreset:r,allowBlur:s,isBackgroundPending:!1})},CHANGE_THEME_MUSIC(e,t){const{serverEntityID:i,theme:n}=t,a=qti(e),s=i?Object(wi.m)(e,t):void 0,r=s&&n?s.resolveUrl(n,{appendHeaders:!0}):void 0;a.set("themeMusicUrl",r)},RESET_BACKGROUND(e){qti(e).restoreDefaults({isBackgroundPending:!0})}});const Jti={[z3t]:_3t[z3t],[U3t]:_3t[U3t],[V3t](e,t){const i=Object(wi.m)(e,t),n=Object(wi.j)(e,t);let a;if(i.get("isTransient")){a="#!/transient/provider/"+encodeURIComponent(n.get("identifier"))+"/details?key="+encodeURIComponent(t.key)}else{a=cu({machineIdentifier:i.get("machineIdentifier")},{identifier:n.get("identifier"),isLibraryProvider:n.get("isLibraryProvider")},t.key)}/\/transient\//.test(window.location.hash)?window.location.replace(a):window.location.hash=a}};function Xti(e,t,i){return function(e,t){if(!t)return!0;const i=e.find(e=>e.type===t);return(null==i?void 0:i.state)===Oo.Active||(null==i?void 0:i.state)===Oo.PendingCancellation}(i,jo.Arcade)?PG(t,"parsec")?/\bChrome\b/.test(window.navigator.userAgent)||Object.values(window.navigator.plugins).some(e=>/\bChromium\b/.test(e.name))?e.find(({uuid:e})=>e===wt.v)?void 0:Object(Ze.default)("Sorry, game playback is unavailable."):Object(Ze.default)("Please use a Chromium-based browser for game playback."):Object(Ze.default)("Please link your Plex and Parsec accounts then try again."):Object(Ze.default)("An active Plex Arcade subscription is required for game playback.")}const $ti={[xT.j]:xT.q[xT.j],[xT.k]:xT.q[xT.k],[xT.l]:xT.q[xT.l],[xT.h]:xT.q[xT.h],[xT.e]:xT.q[xT.e],[xT.a]:xT.q[xT.a],[xT.f]:xT.q[xT.f],[xT.g]:xT.q[xT.g],[xT.m]:xT.q[xT.m],[xT.b]:xT.q[xT.b],[xT.i](e,t,i){const n=Object(Kge.a)(e,t),a=Object(Dre.a)(n),s=t.playerType||V8.d(a),r=Object(S7.c)(e,s),o=Object(wi.j)(e,t),l=Object(wi.m)(e,t),c=Object(wi.f)(e,t),d=e.get("user").get("experienceSettings"),u=gi(o.get("identifier"),o.get("providerIdentifier")),p=e.get("remotePlayer"),h=p&&!I7({protocol:p.get("protocol"),protocolCapabilities:p.get("protocolCapabilities"),providerIdentifier:u,userFeaturesByUUID:g7(e),isWatchTogether:!!t.syncplaySessionRoomID,playQueueType:a}),m=e.get("user"),g=s===V8.c&&Xti(m.get("features").toJSON(),m.get("services").toJSON(),m.get("subscriptions").toJSON());let v,y;if(h?v=Object(Ze.default)("This content is not currently supported when connected to this remote player."):g&&(v=g),v)return void Object(Ti.a)(()=>{r.set({hasError:!0,errorMessage:v})});y=r.get("isOpen")?r.get("openState"):a===f7.a?b7.b:b7.a,Object(tu.a)()&&jt.k(u,[jt.i])&&(y=b7.a);let f=!1;a===f7.b&&t.metadataItemEntityID&&(f=c.get("type")===Qt.k);let b=t.metricsProperties||{};(function(e){const t=Object(ne.c)("appModel").get("embeddedServer");return!!e&&!!t&&e.get("machineIdentifier")===t.get("machineIdentifier")})(l)&&(b=Object.assign({},b,{origin:"sync"})),b.identifier||(b.identifier=o.get("metricsIdentifier")),xT.q[xT.i](e,Object.assign({extrasPrefixCount:d.get("extrasPrefixCount"),openState:y,isPaused:f},t,{metricsProperties:b}),i)},[xT.d](e,t,i){xT.q[xT.d](e,Object.assign({openState:b7.b},t),i)},[xT.c](e,t,i){const n=Object(S7.c)(e,t.playerType),a=n.get("serverEntityID"),s=n.get("providerEntityID"),r=Object(wi.m)(e,{serverEntityID:a}),o=Object(wi.j)(e,{providerEntityID:s});xT.q[xT.c](e,t,i),r&&o&&i(rr.actions.ended({source:Object(gs.a)({serverIdentifier:r.get("machineIdentifier"),providerIdentifier:o.get("identifier")})}))}};function eii(e){return e.get("ui").get("playlistPage")}var tii=Sk({INIT_PLAYLIST_PAGE(e,t){const i=eii(e),n=Object(wi.m)(e,t),a=Object(wi.j)(e,t),{serverEntityID:s,providerEntityID:r,metadataKey:o}=t;if(s===i.get("serverEntityID")&&r===i.get("providerEntityID")&&o===i.get("metadataKey"))return;const l=new ut.a({key:o,type:Qt.m},{server:n,provider:a});i.restoreDefaults({serverEntityID:s,providerEntityID:r,metadataKey:o,playlist:l})},INIT_PLAYLIST_ITEM_LIST(e,t){const i=eii(e),n=Object(wi.m)(e,t),a=Object(wi.j)(e,t),s=i.get("playlist"),{serverEntityID:r,metadataKey:o}=t;if(r===i.get("serverEntityID")&&o===i.get("metadataKey")&&i.get("playlistItemList"))return;const l=Object(gT.a)(e,wt.a),c=s.get("childrenKey"),d=new vt({containerKey:c},{server:n,provider:a,includeExternalMedia:l});i.set({playlistItemList:d})},RESET_PLAYLIST_ITEM_LIST(e,t){const i=eii(e),n=i.get("playlistItemList");n&&(n.restoreDefaults(),i.unset("playlistItemList"))},FETCH_PLAYLIST:Object(Oi.a)({key:"playlist",getModel:eii}),POPULATE_PLAYLIST_ITEM_RANGE:OT({key:"playlistItemList",getModel:eii}),REPOPULATE_PLAYLIST_ITEMS:jT({key:"playlistItemList",getModel:eii}),SELECT_PLAYLIST_ITEM(e,t,i){const{id:n,type:a,isRangeSelect:s=!1}=t,r=Object(wi.i)(e,{playlistItemEntityID:n}),o=eii(e).get("playlistItemList").getCollection();r&&i(JN({type:a,model:r,collection:o,isRangeSelect:s}))},DESELECT_PLAYLIST_ITEM(e,t,i){const n=Object(wi.i)(e,{playlistItemEntityID:t.id});n&&i(ex([n.id]))},MOVE_PLAYLIST_ITEM(e,t){const i=Object(wi.i)(e,t),n=eii(e).get("playlistItemList"),a=n.getCollection(),s=a.indexOf(i),r=t.moveIndex,o=r-1;if(s===r||s===o)return;const l=r>s?r-1:r,c=V.join([n.get("containerKey"),i.get("playlistItemID"),"move"],o>=0&&"after="+a.at(o).id),d=i.provider.getXHROptions(c,{type:"PUT"});Object(Ti.a)(()=>{a.remove(i),a.add(i,{at:l}),D.a.ajax(d).fail(()=>{a.indexOf(i)===l&&(a.remove(i),a.add(i,{at:s}))})})},REMOVE_PLAYLIST_ITEM(e,t,i){const n=Object(wi.i)(e,t),a=eii(e).get("playlistItemList"),s=V.join([a.get("containerKey"),n.get("playlistItemID")]);n.destroy({url:s}).fail(()=>{i(Object(Tn.d)(Object(Ze.default)("There was an unexpected error removing this item.")))})},REMOVE_SELECTED_ITEMS(e,t,i){const n=eii(e).get("playlistItemList"),a=n.get("containerKey"),s=n.getCollection(),r=e.get("ui").get("multiSelect").get("activeSelectionItems").pluck("id");let o=D.a.Deferred().resolve().promise();r.forEach(e=>{const t=s.get(e),i=V.join([a,e]);o=o.then(()=>t.destroy({url:i,wait:!0}))}),o.fail(()=>{i(Object(Tn.d)(Object(Ze.default)("There was an unexpected error removing an item.")))})},[kne](e,t,i){const{providerEntityID:n,rating:a}=t,s=eii(e),r=s.get("playlist");if(!r)return;const o=s.get("playlistItemList");"favorites"===r.get("specialPlaylistType")&&n===s.get("providerEntityID")&&(10!==a&&-1!==a||i(yAt({count:o.get("currentPageSize")})))}});Object(Pi.a)("ui/playlistsPage/initPlaylistPage");const iii=Object(Pi.a)("ui/playlistsPage/fetchSorts"),nii=(Object(Pi.a)("ui/playlistsPage/populateSorts"),Object(Pi.a)("ui/playlistsPage/fetchLibraryDetails"));Object(Pi.a)("ui/playlistsPage/populateLibraryDetails");function aii(e){return e.get("ui").get("playlistsPage")}var sii={"ui/playlistsPage/initPlaylistPage"(e,t){const i=aii(e),n=Object(wi.m)(e,t),a=Object(wi.j)(e,t),{serverEntityID:s,libraryKey:r,containerKey:o}=t,l=s===i.get("serverEntityID"),c=r===i.get("libraryKey"),d=o===i.get("containerKey");if(l&&c&&d)return;const u=new Gn.default({containerKey:o},{server:n,provider:a});let p=i.get("libraryDetails"),h=i.get("sorts");l&&c||(p=r&&new HT({key:r},{server:n,provider:a}),h=new at.a([],{url:"/playlists/sorts",server:n})),i.restoreDefaults({serverEntityID:s,libraryKey:r,containerKey:o,playlists:u,libraryDetails:p,sorts:h})},"ui/playlistsPage/fetchLibraryDetails":Object(Oi.a)({key:"libraryDetails",getModel:aii}),"ui/playlistsPage/populateLibraryDetails":Object(ji.a)({key:"libraryDetails",fetchActionCreator:nii,getModel:aii}),"ui/playlistsPage/fetchSorts":Object(Oi.a)({key:"sorts",getModel:aii}),"ui/playlistsPage/populateSorts":Object(ji.a)({key:"sorts",fetchActionCreator:iii,getModel:aii}),[Tn.a](e,t,i){const{metadataItemEntityID:n,containerKeyPattern:a}=t,s=Object(wi.m)(e,t),r=aii(e).get("playlists");n||r&&r.server===s&&a&&r.get("containerKey").match(a)&&i(wx({metadataListEntityID:r.entityID()}))}};function rii(e){return e.get("ui").get("timelinePage")}function oii(e,t){const i=rii(e),n=Object(wi.m)(e,t),a=Object(wi.j)(e,t),s=i.get("momentList");s.fetch().done(()=>{const e=s.get("key")||"empty",t=i.get("metadataList");let r;r=t&&t.server===n&&t.get("containerKey")===e?t:new Gn.default({containerKey:e},{server:n,provider:a}),i.set({isMomentListPending:!1,isMomentListPopulated:!0,momentListError:null,metadataList:r})}).fail((e,t)=>{i.set({isMomentListPending:!1,momentListError:t})})}var lii=Sk({INIT_TIMELINE_PAGE(e,t){const i=rii(e),n=Object(wi.m)(e,t),a=Object(wi.j)(e,t),{serverEntityID:s,providerEntityID:r,libraryKey:o,momentKey:l}=t;if(s===i.get("serverEntityID")&&r===i.get("providerEntityID")&&l===i.get("momentKey"))return;const c=new HT({key:o},{server:n,provider:a}),d=new T8t({momentKey:l},{server:n,provider:a});i.restoreDefaults({serverEntityID:s,providerEntityID:r,details:c,momentKey:l,momentList:d}),oii(e,t)},CLOSE_TIMELINE_PAGE(e){rii(e).set({momentKey:""})},FETCH_TIMELINE_DETAILS:Object(Oi.a)({key:"details",getModel:rii}),POPULATE_TIMELINE_DETAILS:Object(ji.a)({key:"details",fetchActionCreator:pSt,getModel:rii}),[Tn.a](e,t){const{metadataItemEntityID:i,containerKeyPattern:n}=t,a=Object(wi.m)(e,t),s=Object(wi.j)(e,t),r=rii(e),o=r.get("metadataList"),l=r.get("momentKey");if(i)return;if(!l||!o||o.server!==a||o.provider!==s)return;const c=o.get("containerKey");c&&(n&&!c.match(n)||oii(e,t))}});const cii=Object.assign({},Tn.e,{[Tn.b](e,t){U.a.trigger("show:alert",t)}});var dii=[hat,r4,FZt,V4,Iu,ML,jK,C2,WK,Oae,Vx,Sx,wZt,rtt,Wti,tct,MJt,fle,ole,cii,Zti,pMt,_Dt,lUe,lii,sii,YYt,tii,EIe,WX,PUe,x5e,Yx,Rle,Lre,tVe,JY,XJt,g9,Vte,$it,uR,zU,Yti,kft,JPe,rDe,Hme,Boe.u,Pve,$ti,zBe,W_e,H7,r7,Jti,Vge];i("rPoc");function uii(e){try{return window.localStorage.getItem(e)}catch(t){C.a.debug("[Vote] Unable to get "+e+" from storage due to error:",t.message)}}function pii(e,t){try{return window.localStorage.setItem(e,t)}catch(i){C.a.debug("[Vote] Unable to set "+e+": "+t+" in storage due to error:",i.message)}}function hii(e){try{return window.localStorage.removeItem(e)}catch(t){C.a.debug("[Vote] Unable to remove "+e+" from storage due to error:",t.message)}}const mii={id:null,time:null};var gii=function({id:e=Pe(),getItem:t=uii,setItem:i=pii,remove:n=hii,electionDuration:a=500,maxLeaderAge:s=9e4,minLeaderRefreshDuration:r=1e4}){function o(t=Date.now()){return l(t).id===e}function l(e){try{const{id:i,time:n}=JSON.parse(t("vote/leader"));return e-n<s?{id:i,time:n}:mii}catch(e){return mii}}let c,d=!1;function u(){window.clearTimeout(c),c=window.setTimeout(()=>{const t=Date.now(),{id:i}=l(t);if(i){const t=i===e;t!==d&&(C.a.debug(t?"[Vote:"+e+"] Elected":"[Vote:"+e+"] Unelected"),h.leaderStatusChanged.forEach(e=>e(t))),d=t}else C.a.debug("[Vote:"+e+"] Election ended with no leader found"),p(t)},a)}function p(t=Date.now()){const{id:n,time:a}=l(t);n===e&&t-a>r?(C.a.debug("[Vote:"+e+"] Upvote, refreshing my leader time"),i("vote/leader",JSON.stringify({time:t,id:e}))):n===e?C.a.debug("[Vote:"+e+"] Upvote, chilling since leader time is fresh"):n?C.a.debug("[Vote:"+e+"] Upvote, someone else is leader"):(C.a.debug("[Vote:"+e+"] Upvote, becoming leader"),i("vote/leader",JSON.stringify({time:t,id:e}))),u()}const h={leaderStatusChanged:[]};return{on:function(e,t){h[e].push(t)},off:function(e,t){h[e]=h[e].filter(e=>e!==t)},isLeader:o,up:p,down:function(t=Date.now()){o(t)?(C.a.debug("[Vote:"+e+"] Downvote, stepping down as leader"),n("vote/leader")):C.a.debug("[Vote:"+e+"] Downvote, chilling since someone else is leader"),u()}}};var vii=function(){const e=gii({maxLeaderAge:9e4});return window.addEventListener("storage",t=>{"vote/leader"===t.key&&e.up()}),window.addEventListener("beforeunload",()=>{e.down()}),e.up(),window.setInterval(e.up,6e4),e};var yii=Ul.extend({name:"PersistentWebStorage",getStorage:()=>window.localStorage});var fii=Ul.extend({name:"VolatileWebStorage",getStorage:()=>window.sessionStorage}),bii=i("8iII");const Iii={};function Sii(e){return null==e?"":e}function Cii(e,...t){let i,n=1;const a=t.length;for(;n<=a;)i=Iii[n],i||(i=new RegExp(J("{"+n+"}"),"g"),Iii[n]=i),e=e.replace(i,Sii(t[n-1])),n++;return e}function Mii(e,...t){return I.a.isObject(t[0])?function(e,t){return e.replace(/\{([a-z0-9]+?)\}/gi,(e,i)=>t.hasOwnProperty(i)?Sii(t[i]):e)}(e,t[0]):I.a.isObject(t[t.length-1])?(t.pop(),Cii(e,...t)):Cii(e,...t)}var Dii={languages:{en:"en.json","en-GB":"en-GB.json",af:"af.json",my:"my.json",ca:"ca.json",cs:"cs.json",sr:"sr.json",da:"da.json",de:"de.json",et:"et.json",es:"es.json","es-419":"es-419.json",el:"el.json",fr:"fr.json","fr-CA":"fr-CA.json",hr:"hr.json",is:"is.json",it:"it.json",lt:"lt.json",hu:"hu.json",nl:"nl.json",no:"no.json",pl:"pl.json",pt:"pt.json","pt-BR":"pt-BR.json",ru:"ru.json",ro:"ro.json",sk:"sk.json",sl:"sl.json",fi:"fi.json",sv:"sv.json",vi:"vi.json",tr:"tr.json",uk:"uk.json",bg:"bg.json",zh:"zh.json","zh-TW":"zh-TW.json",ja:"ja.json",ko:"ko.json",th:"th.json",fa:"fa.json",ar:"ar.json",he:"he.json"},loadingPromise:null,loadingLanguage:null,getLanguages:function(){return this.languages},getTranslation:function(e){if(this.translations[this.language])return this.translations[this.language][e]},t:function(e){return function(t,...i){return Mii(function(e,...t){if(!e)return"";const i=t[t.length-1];return I.a.isObject(i)&&i&&i.escape?I.a.escape(e):e}(e.call(this,t)||t,t,...i),...i)}}((function(e,...t){return this.getTranslation(e,...t)})),load:function(e){if(this.loadingLanguage&&this.loadingLanguage===e)return this.loadingPromise;const t=this.getLanguages();let i;return i=I.a.has(t,e)?I.a.has(this.translations,e)?D.a.Deferred().resolve().promise():D.a.ajax({dataType:"json",url:Object(V.join)([this.basePath,t[e]])}):D.a.Deferred().reject().promise(),this.loadingLanguage=e,this.loadingPromise=i,i.done(I.a.bind(this.onLoadSuccess,this,i)),i.fail(I.a.bind(this.onLoadError,this,i)),i},onLoadSuccess:function(e,t){const i=this.loadingLanguage;e===this.loadingPromise&&(this.loadingPromise=null,this.loadingLanguage=null,this.language=i,t&&(this.translations[i]=t),U.a.trigger("change:language",i))},onLoadError:function(e){e===this.loadingPromise&&(this.loadingPromise=null,this.loadingLanguage=null)}};var Pii=Ee.a.extend({mixins:Dii,constructor:function(){this.basePath=Object(V.join)(["/web/","translations"]),this.translations={},Object(ne.d)("appModel").done(this.onAppModelRegistered.bind(this))},_repopulateProviders(){const e=Object(ne.c)("appModel"),t=e.get("servers").map(t=>{if(t.get("isCloud")){const t=e.get("user").get("providers");return Me(t.map(e=>(Object(ne.c)("appStore").dispatch(vLe({providerEntityID:e.entityID(),options:{merge:!0}})),xoe(e))))}if(t.get("isConnected"))return Object(ne.c)("appStore").dispatch(Hi({serverEntityID:t.entityID(),options:{merge:!0}})),xoe(t)});return Me(t)},onAppModelRegistered(){0}}).extend({onAppModelRegistered(e){e.on("change:user.change:experienceSettings.change:language",(e,t)=>{this.load(t).done(()=>{Pa.setOption("language",t),this._repopulateProviders()})})}}),Oii={registerAll:function(){Pu.a.register(new Pii)}};var jii=function(){return"bundled"};var wii={init(){const e=Object(ne.c)("appModel"),t=window.innerWidth+"x"+window.innerHeight,i=window.screen.width+"x"+window.screen.height,n={"X-Plex-Product":"Plex Web","X-Plex-Version":"4.51.3","X-Plex-Client-Identifier":e.get("clientID"),"X-Plex-Platform":Td.a.name,"X-Plex-Platform-Version":Td.a.version,"X-Plex-Sync-Version":2,"X-Plex-Features":"external-media,indirect-media","X-Plex-Model":jii(),"X-Plex-Device":Td.a.platform,"X-Plex-Device-Name":Td.a.name,"X-Plex-Device-Screen-Resolution":t+","+i};return e.on("change:clientID",(e,t)=>{n["X-Plex-Client-Identifier"]=t}),D.a.Deferred().resolve(n).promise()}},Tii=i("JBE3"),Eii=i.n(Tii);const Nii={maxWidth:1920,maxHeight:1080,maxBitDepth:10},xii={maxWidth:4096,maxHeight:2160,maxBitDepth:10},Aii='width="'+Nii.maxWidth+'"; height="'+Nii.maxHeight+'"',Lii='width="'+xii.maxWidth+'"; height="'+xii.maxHeight+'"';function kii(e){if(!Ep.a)return!1;const t=Object(ju.a)("video",!0),i=t.canPlayType(e);return Object(ju.b)(t),"probably"===i}function Rii(e){var t,i;return!!Ep.a&&(null!=(t=null==(i=window.MediaSource)||null==i.isTypeSupported?void 0:i.isTypeSupported(e))&&t)}function zii(e,t){if(Array.isArray(e))return Array.from(new Set(e.concat(t)))}function Uii(e,t){return(i,n)=>{e(i)&&Eii()(t,n,zii)}}var Vii=function(){const e={maxWidth:1920,maxHeight:1280},t={maxWidth:4096,maxHeight:2160},i='width="'+e.maxWidth+'"; height="'+e.maxHeight+'"',n='width="'+t.maxWidth+'"; height="'+t.maxHeight+'"',a=Object.assign({},e,{maxFrameRate:60}),s={capabilities:{embed:!0,redirect:!0},video:{lowestQualityIndex:2,protocols:{hls:{mimeType:"application/x-mpegURL"}},directPlay:{generic:{video:Object.assign({},a)},mp4:{mimeType:'video/mp4; codecs="avc1.42E01E"',video:{codecs:{h264:{}}},audio:{codecs:{aac:{}}}},ogg:{mimeType:"video/ogg"},mpegts:{protocol:"hls"},flv:{}},directStream:{video:Object.assign({},a,{maxBitDepth:8,codecs:{h264:{}}}),audio:{codecs:{aac:{}},maxBitrate:192,maxChannels:2}}},music:{directPlay:{mp4:{mimeType:'audio/mp4; codecs="mp4a.40.5"',audio:{codecs:{aac:{}}}},mp3:{audio:{codecs:{mp3:{}}}},ogg:{mimeType:'audio/ogg; codecs="vorbis"',audio:{codecs:{vorbis:{}}}},wav:{mimeType:"audio/wav",audio:{codecs:{pcm:{}}}},flac:{mimeType:"audio/flac",audio:{codecs:{flac:{}}}}},directStream:{audio:{codecs:{aac:{}},maxBitrate:320,maxChannels:2}}}},r=[{types:['video/mp4; codecs="avc1.42E01E"; '+n],fragment:{video:{directPlay:{mp4:{video:{codecs:{h264:t}}}},directStream:{video:{codecs:{h264:t}}}}}},{types:['video/webm; codecs="vp8, opus"; '+i],fragment:{video:{directPlay:{mkv:{mimeType:"video/webm",video:{codecs:{vp8:e}},audio:{codecs:{opus:{}}}}}}}},{types:['video/webm; codecs="vp8, vorbis"; '+i],fragment:{video:{directPlay:{mkv:{mimeType:"video/webm",video:{codecs:{vp8:e}},audio:{codecs:{vorbis:{}}}}}}}},{types:['video/webm; codecs="vp9, opus"; '+i],fragment:{video:{directPlay:{mkv:{mimeType:"video/webm",video:{codecs:{vp9:e}},audio:{codecs:{opus:{}}}}}}}},{types:['video/webm; codecs="vp9, vorbis"; '+i],fragment:{video:{directPlay:{mkv:{mimeType:"video/webm",video:{codecs:{vp9:e}},audio:{codecs:{vorbis:{}}}}}}}},{types:['video/webm; codecs="vp8, opus"; '+n],fragment:{video:{directPlay:{mkv:{mimeType:"video/webm",video:{codecs:{vp8:t}},audio:{codecs:{opus:{}}}}}}}},{types:['video/webm; codecs="vp8, vorbis"; '+n],fragment:{video:{directPlay:{mkv:{mimeType:"video/webm",video:{codecs:{vp8:t}},audio:{codecs:{vorbis:{}}}}}}}},{types:['video/webm; codecs="vp9, opus"; '+n],fragment:{video:{directPlay:{mkv:{mimeType:"video/webm",video:{codecs:{vp9:t}},audio:{codecs:{opus:{}}}}}}}},{types:['video/webm; codecs="vp9, vorbis"; '+n],fragment:{video:{directPlay:{mkv:{mimeType:"video/webm",video:{codecs:{vp9:t}},audio:{codecs:{vorbis:{}}}}}}}},{types:['audio/mp4; codecs="alac"'],predicate:o,fragment:{music:{directPlay:{mp4:{audio:{codecs:{alac:{}}}}}}}}];function o(e){const t=Object(ju.a)("video",!0),i=t.canPlayType(e);return Object(ju.b)(t),"probably"===i}const l=window.MediaSource&&window.MediaSource.isTypeSupported?window.MediaSource.isTypeSupported:o;if(r.forEach(e=>{const t=e.predicate||l;e.types.some(t)?(C.a.debug("[Player] Types %o provided %o",e.types,e.fragment),D.a.extend(!0,s,e.fragment)):C.a.debug("[Player] Types %o are unsupported",e.types)}),"safari"===Td.a.id&&Qi(Td.a.platformVersion,"10.11")){const e={codecs:{ac3:{},eac3:{}}};D.a.extend(!0,s.video,{directPlay:{mp4:{audio:e}},directStream:{audio:e}})}return D.a.extend(!0,s,function({canDirectPlay:e,canDirectStream:t}={canDirectPlay:kii,canDirectStream:Rii}){const i={video:{directPlay:{},directStream:{}}},n=Uii(e,i),a=Uii(t,i);return n('video/mp4; codecs="hvc1"; '+Aii,{video:{directPlay:{mp4:{video:{codecs:{hevc:Object.assign({},Nii,{codecID:["hvc1"]})}}}}}}),n('video/mp4; codecs="hev1"; '+Aii,{video:{directPlay:{mp4:{video:{codecs:{hevc:Object.assign({},Nii,{codecID:["hev1"]})}}}}}}),n('video/mp4; codecs="hvc1"; '+Lii,{video:{directPlay:{mp4:{video:{codecs:{hevc:Object.assign({},xii,{codecID:["hvc1"]})}}}}}}),n('video/mp4; codecs="hev1"; '+Lii,{video:{directPlay:{mp4:{video:{codecs:{hevc:Object.assign({},xii,{codecID:["hev1"]})}}}}}}),a('video/mp4; codecs="hvc1"; '+Aii,{video:{directStream:{video:{codecs:{hevc:Nii}}}}}),a('video/mp4; codecs="hev1"; '+Aii,{video:{directStream:{video:{codecs:{hevc:Nii}}}}}),a('video/mp4; codecs="dvhe"; '+Aii,{video:{directStream:{video:{codecs:{hevc:Nii}}}}}),a('video/mp4; codecs="hvc1"; '+Lii,{video:{directStream:{video:{codecs:{hevc:xii}}}}}),a('video/mp4; codecs="hev1"; '+Lii,{video:{directStream:{video:{codecs:{hevc:xii}}}}}),a('video/mp4; codecs="dvhe"; '+Lii,{video:{directStream:{video:{codecs:{hevc:xii}}}}}),i}()),C.a.debug("[Player] Final player profile %o",s),s};var Bii={registerAll(){const e=wii.init();e.done(e=>$.register(e));const t=new yii;De.register(t),Bl.register(new fii),Oii.registerAll();const i=Vii(),n={audioCapabilities:[{contentType:'audio/mp4; codecs="flac"'}]},a=Sd().then(e=>{const t=bii.a[e];return Id(n,[t])}).then(()=>{o7.register(D.a.extend(!0,{},i,{music:{directPlay:{mp4:{audio:{codecs:{flac:{}}}}}}}))},()=>{o7.register(i)});return Me([e,a])}};function Fii(){const e=document.documentElement,t=e.requestFullScreen||e.webkitRequestFullScreen||e.mozRequestFullScreen||e.msRequestFullscreen,i=document.cancelFullScreen||document.webkitCancelFullScreen||document.mozCancelFullScreen||document.msExitFullscreen,n=!(!t||!i);return{hasFullscreen:n,shouldExitOnPlayerClose:!0,initialize(e){const{dispatchEnterFullscreen:t,dispatchExitFullscreen:i}=e;function n(){document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement?t():i()}return n(),document.addEventListener("fullscreenchange",n),document.addEventListener("webkitfullscreenchange",n),document.addEventListener("mozfullscreenchange",n),document.addEventListener("MSFullscreenChange",n),D.a.Deferred().resolve().promise()},enter(){n&&t.call(e)},exit(){n&&i.call(document)}}}var Hii=i("lbl0"),_ii=i("AQCF");const Wii={volume:!0,shuffle:!0,quality:!0,audioStream:!0,videoStream:!0,subtitleStream:!0,subtitleColor:!0,subtitlePosition:!0,subtitleSize:!0,subtitleOffset:!0,skipPrevious:!0,skipNext:!0,autoPlay:!0,seekTo:!0,stepBack:!0,stepForward:!0,stop:!0,playPause:!0,repeat:!0},Qii=Object.assign({},Wii,{seekTo:!1});function Gii(e,t){const i=t.dispatch;let n,a,s,r=!1,o=0,l=0,c=null,d={},u={};window.__onGCastApiAvailable=function(e){const t=!!(e&&window.cast&&window.chrome&&window.chrome.cast);if(i(n7((t?2:$d()&&3)||1)),!t)return void C.a.warn("[Cast] API is not available");const n=window.cast.framework,a=m();a.setOptions({receiverApplicationId:h(),autoJoinPolicy:window.chrome.cast.AutoJoinPolicy.ORIGIN_SCOPED}),a.addEventListener(n.CastContextEventType.SESSION_STATE_CHANGED,D)},$d()&&i(n7(3));const p=document.createElement("script");function h(){const t=e.get("deviceSettings"),i=t.get("chromecastAppID"),n=t.get("chromecastCustomAppID");return i===ql.CUSTOM&&n?n:i||ql.PRODUCTION}function m(){if(2===e.get("castApiAvailability"))return window.cast.framework.CastContext.getInstance()}function g(){if(a)return a.customData}function v(e){return e.isMute()?0:Math.round(100*e.getVolume())}function y(e){if(!e)return;const{customData:t,media:i}=e;if(t&&t.playQueueType)return t.playQueueType;if(i&&i.metadata&&i.metadata.metadataType){const e=window.chrome.cast.media.MetadataType;switch(i.metadata.metadataType){case e.MOVIE:case e.TV_SHOW:return f7.d;case e.MUSIC_TRACK:return f7.a;case e.PHOTO:return f7.b}}}function f(e){if(!e)return;const{customData:t}=e;return t.playbackSessionID}function b(e){const t=g();if(t){const{mediaIndex:n,partIndex:s,adState:r,adTime:o,adDuration:l,liveTVSessionSubscriptionKey:c,liveTVSessionStartedAt:d,liveTVSessionSeekRangeStartedAt:u,liveTVSessionSeekStartSeconds:p,liveTVSessionSeekEndSeconds:h,liveTVSessionCurrentPosition:m,liveTVSessionChannelIdentifier:g,server:v,providerIdentifier:f,isPostPlay:b}=t,I=Object.assign({},b?Qii:Wii);v.machineIdentifier===ST.a&&delete I.quality,f&&jt.k(f,[jt.c,jt.b])&&(delete I.autoPlay,delete I.subtitleColor,delete I.subtitlePosition,delete I.subtitleSize,delete I.subtitleOffset),i(D7({playQueueType:y(a),playerState:Object.assign({},e,{mediaIndex:n,partIndex:s,adState:r,adPositionSeconds:Math.round(o/1e3||0),adDurationSeconds:Math.round(l/1e3||0),controllable:I}),liveTVSessionSubscriptionKey:c,liveTVSessionStartedAt:d,liveTVSessionSeekRangeStartedAt:u,liveTVSessionSeekStartSeconds:p,liveTVSessionSeekEndSeconds:h,liveTVSessionCurrentPosition:m,liveTVSessionChannelIdentifier:g,providerIdentifier:f,machineIdentifier:v.machineIdentifier}))}}function S(){l&&l--}function M(){o&&o--}function D(e){const t=window.cast.framework,{session:a,sessionState:s,errorCode:r}=e;switch(s){case t.SessionState.NO_SESSION:Object(C.a)("[Cast] Session is not established");break;case t.SessionState.SESSION_STARTED:Object(C.a)("[Cast] Session is established");break;case t.SessionState.SESSION_START_FAILED:Object(C.a)('[Cast] Session failed to start with code "'+r+'"');break;case t.SessionState.SESSION_RESUMED:Object(C.a)("[Cast] Connection to an already existing session is established");break;case t.SessionState.SESSION_ENDED:C.a.warn("[Cast] Session has disconnected")}switch(n&&(n.removeEventListener(t.SessionEventType.MEDIA_SESSION,P),a.removeEventListener(t.SessionEventType.VOLUME_CHANGED,w)),d={},u={},s){case t.SessionState.NO_SESSION:case t.SessionState.SESSION_START_FAILED:case t.SessionState.SESSION_ENDED:O(!1),n=null,i(L7());break;case t.SessionState.SESSION_STARTED:case t.SessionState.SESSION_RESUMED:{n=a,a.addEventListener(t.SessionEventType.MEDIA_SESSION,P),a.addEventListener(t.SessionEventType.VOLUME_CHANGED,w),i(s7(Object.assign({},a.getCastDevice(),{volume:v(a)})));const e=a.getMediaSession();e&&P({mediaSession:e});break}}}function P({mediaSession:e}){a&&a.removeUpdateListener(O),a=e,e.addUpdateListener(O),d={},u={}}function O(e){const t=window.chrome.cast.media.PlayerState,n=y(a);if(n!==c&&c&&(Object(C.a)("[Cast] play queue type changed from %o to %o, idling old player",c,n),d[c]=null,u[c]=null,i(A7({playQueueType:c}))),c=n,a&&e&&!r){const{playerState:e,currentTime:n,media:r}=a;b({isPaused:e===t.PAUSED,isBuffering:e===t.BUFFERING,positionSeconds:Math.round(n||0),durationSeconds:Math.round(r.duration||0),playbackSessionID:f(a)}),function(){const e=window.chrome.cast.media.PlayerState,t=g();if(!t)return;const{containerKey:n,key:s,playQueueItemID:r,playQueueVersion:o,mediaIndex:l,partIndex:c,bitrate:p,server:h,providerIdentifier:m}=t,v=y(a),f=d[v],b=u[v],I=r!==f||o!==b;d[v]=r,u[v]=o,i(M7({playQueueType:y(a),options:{machineIdentifier:h.machineIdentifier,providerIdentifier:m,containerKey:n,key:s,mediaIndex:l,shouldRefreshPlayQueue:I,playQueueItemID:r,bitrate:p,initialState:{isPaused:a.playerState===e.PAUSED,isBuffering:a.playerState===e.BUFFERING,positionSeconds:Math.round(a.currentTime||0),durationSeconds:Math.round(a.media.duration||0),mediaIndex:l,partIndex:c}}}))}(),function(){const e=g();if(!e)return;const{mediaIndex:t,bitrate:n}=e;i(O7({playQueueType:y(a),mediaIndex:t,bitrate:n}))}(),function(){const e=g();if(!e)return;const{playQueueType:t,playQueueVersion:n,repeat:a}=e;i(P7({playQueueType:t,playQueueVersion:n,repeatAll:a===W3t.a||a===W3t.c,repeatOne:a===W3t.c}))}(),function(){const e=g();if(!e)return;const{key:t,mediaIndex:n,partIndex:s,audioStreamID:r,subtitleStreamID:o}=e;null==r&&null==o||i(j7({playQueueType:y(a),key:t,mediaIndex:n,partIndex:s,audioStreamID:r,subtitleStreamID:o}))}(),e===t.PLAYING?s||(s=window.setTimeout(j,1e3)):s&&(window.clearTimeout(s),s=null)}else C.a.warn("[Cast] Update ignored; no alive media session"),s&&(window.clearTimeout(s),s=null),a&&n&&a.playerState===t.IDLE&&(d[n]=null,u[n]=null,i(A7({playQueueType:n})))}function j(){if(a){const e=Math.round(a.getEstimatedTime()||0);e&&b({positionSeconds:e}),s=window.setTimeout(j,1e3)}else C.a.warn("[Cast] Position update ignored; no media session")}function w(){l||o||n&&i(T7(v(n)))}function T(e){n?(Object(C.a)('[Cast] Sending custom message with type "'+e.type+'"'),n.sendMessage("urn:x-cast:plex",e,null,e=>{C.a.warn('[Cast] Failed to send custom message with error "'+e+'"')})):C.a.warn('[Cast] Custom message "'+e.type+'" ignored; no cast session')}return p.src="//www.gstatic.com/cv/js/sender/v1/cast_sender.js?loadCastFramework=1",document.head.appendChild(p),{requestSession:function(){const e=m();e?(Object(C.a)("[Cast] Requesting session"),e.requestSession()):C.a.warn("[Cast] Request session ignored; no cast context")},endSession:function(){const e=m();e?(Object(C.a)("[Cast] Ending session"),e.endCurrentSession()):C.a.warn("[Cast] End session ignored; no cast context"),d={},u={}},startPlayback:function(t){if(!n)return void C.a.warn("[Cast] Start playback ignored; no cast session");const a=e.get("user"),s=e.get("deviceSettings"),o=a.get("experienceSettings"),l=t.get("playQueue"),c=l.get("type"),d=l.get("playQueueItems").get(l.get("playQueueSelectedItemID")),u=d.get("metadataItem"),p=t.get("startMediaIndex"),h=l.server,m=t.get("providerEntityID"),g=Object(wi.j)(e,{providerEntityID:m}),v=Object(Qt.u)(d.get("type"));let y;if((v&&v.mediaType===Go.a?Go.a:Go.e)===Go.e){const e=function(e,t,i){const n=t.get("qualityIndex");if(null!=n)return n;const a=e.server.get("isPrivateConnection");if(a&&i.get("useHomeStreamingRecommendedSettings"))return i.defaults().localQuality;const s=Object(p3t.a)(e,a);return i.get(s)}(u,t,o),i=ol.a.getQualityByIndex(e);y=i.bitrate}r=!0,c6t(h).done(e=>{const d=t.get("liveTVSession"),h=d?nve(d):Math.floor(Object(Dme.a)(t,u)/1e3),m={playQueueType:c,providerIdentifier:g.get("identifier"),containerKey:V.join([I.a.result(l,"url")],{own:1}),offset:h,directPlay:s.get("directPlay"),directStream:s.get("directStream"),mediaIndex:p,bitrate:y,playbackSessionID:t.get("playbackSessionID"),audioBoost:o.get("audioBoost"),subtitleColor:o.get("subtitleColor"),subtitlePosition:o.get("subtitlePosition"),subtitleSize:o.get("subtitleSize"),autoPlay:o.get("autoPlay"),repeat:Object(_ii.a)({repeatOne:t.get("repeatOne"),repeatAll:t.get("repeatAll")}),audioForceMultiChannel:o.get("audioForceMultiChannel"),server:e,user:{username:a.get("username")},liveTVSessionSubscriptionKey:d?d.get("key"):null,liveTVSessionChannelIdentifier:d?d.get("channelIdentifier"):null,debugAdKind:s.get("debugAdKind")||Gl.a.NONE},v=window.chrome.cast.media,f=new v.MediaInfo(u.get("key"));f.customData=m;const S=new v.LoadRequest(f);S.currentTime=h,S.autoplay=!0,Object(C.a)("[Cast] Sending load media request"),n.loadMedia(S).then(()=>{Object(C.a)("[Cast] Load media success"),r=!1,b({isMediaLoading:!1})},e=>{C.a.warn('[Cast] Failed to load media with error "'+e+'"'),r=!1,i(E7({playQueueType:c}))})}).fail(()=>{r=!1,i(E7({playQueueType:c,errorMessage:Object(Ze.default)('The server "{serverName}" does not have a valid connection for casting. Check that the server is claimed in server settings.',{serverName:h.get("friendlyName")})}))})},mirrorDetails:function(t){if(!n)return void C.a.warn("[Cast] Mirror details ignored; no cast session");const i=e.get("user"),a=t.server,s=t.provider;c6t(a).done(e=>{const n={server:e,providerIdentifier:s.get("identifier"),user:{username:i.get("username")}},a=new window.chrome.cast.media.MediaInfo(t.get("key"));a.customData=n,T({type:Hii.p,media:a})})},sendMessage:T,setVolume:function(e){n?(Object(C.a)('[Cast] Setting volume to "'+e+'"'),i(T7(e)),e?(n.isMute()&&(o++,n.setMute(!1).then(M,M)),l++,n.setVolume(e/100).then(S,S)):(o++,n.setMute(!0).then(M,M))):C.a.warn("[Cast] Set volume ignored; no cast session")}}}function Kii(){Object(ne.b)({CloudServerFlexModel:iti,ServerFlexModel:yti,UserFlexModel:Uti}),Object(ne.b)({UserExperienceSettingsModel:qc,StoredUserExperienceSettingsModel:fti});const e=new Xei,t=function(e){return Vti(dii,e)}(e);return Object(ne.b)({appModel:e,appStore:t}),Object(ne.b)({adPlayerComponent:K4t,companionPlayerProfile:J4t,companionProxy:new w4t,companionVote:vii(),fullscreenManager:Fii(),remoteCastPlayerManager:Gii(e,t),getDecisionOptions:S3t,mediaComponent:n3t,serviceWorker:(z.a.hasServiceWorker,{register:()=>(z.a.hasServiceWorker,Object(C.a)("[Workers] Registered mock service worker"),Promise.resolve()),sendMessage:e=>(C.a.debug("[Workers] Mock worker sending message %o",e),Promise.resolve())}),sessionStats:new T4t}),function(){const e=Object(ne.c)("appModel"),t=Object(ne.c)("appStore");return Object(ne.b)({settingFinder:n5t(e),selectRemoteQuality:I6t,selectRestorePlayQueue:S6t,selectSubtitleSettings:C6t,selectLocalVolume:N3t}),Object(ne.b)({metricsReporter:[M3t(),P3t],logs:new b6t([],{parent:e}),testServerConnection:w3t}),Object(ne.b)({companionServerManager:new r5t({appModel:e}),keyboardShortcuts:{shortcuts:[{keys:["?"],fn:"help",group:"navigation",label:()=>Object(Ze.default)("Open Keyboard Shortcuts")},{keys:["esc"],fn:"escape",group:"navigation",label:()=>Object(Ze.default)("Close Modal or Menu")},{keys:["g h"],fn:"home",group:"navigation",label:()=>Object(Ze.default)("Navigate to Home")},{keys:["g s"],fn:"settings",group:"navigation",label:()=>Object(Ze.default)("Navigate to Settings")},{keys:["g d"],fn:"activity",group:"navigation",label:()=>Object(Ze.default)("Navigate to Dashboard")},{keys:["g u"],fn:"usersSharing",group:"navigation",label:()=>Object(Ze.default)("Navigate to Users & Sharing")},{keys:["/"],fn:"search",group:"actions",label:()=>Object(Ze.default)("Focus Search")},{keys:["p"],fn:"playSelected",group:"actions",label:()=>Object(Ze.default)("Open Player")},{keys:["w"],fn:"togglePlayed",group:"actions",label:()=>Object(Ze.default)("Toggle as Played/Unplayed")},{keys:["e"],fn:"edit",group:"actions",label:()=>Object(Ze.default)("Edit Metadata")},{keys:["i"],fn:"info",group:"actions",label:()=>Object(Ze.default)("Get Info")},{keys:["shift+s"],fn:"save",group:"actions",label:()=>Object(Ze.default)("Save Changes")},{keys:["space","play_pause"],fn:"playPause",group:"player",label:()=>Object(Ze.default)("Play or Pause")},{keys:["play"],fn:"play",group:"player",label:()=>Object(Ze.default)("Play")},{keys:["pause"],fn:"pause",group:"player",label:()=>Object(Ze.default)("Pause")},{keys:["\\"],fn:"toggleFullScreen",group:"player",label:()=>Object(Ze.default)("Toggle FullScreen")},{keys:["down"],fn:"decreaseVolume",group:"player",label:()=>Object(Ze.default)("Decrease Volume")},{keys:["up"],fn:"increaseVolume",group:"player",label:()=>Object(Ze.default)("Increase Volume")},{keys:[",","left"],fn:"seekBackward",group:"player",label:()=>Object(Ze.default)("Seek Backward (10 seconds)")},{keys:[".","right"],fn:"seekForward",group:"player",label:()=>Object(Ze.default)("Seek Forward (30 seconds)")},{keys:["[","alt+left"],fn:"stepBackward",group:"player",label:()=>Object(Ze.default)("Step Backward (10 minutes)")},{keys:["]","alt+right"],fn:"stepForward",group:"player",label:()=>Object(Ze.default)("Step Forward (10 minutes)")},{keys:["shift+left"],fn:"skipPrevious",group:"player",label:()=>Object(Ze.default)("Skip to Previous Item")},{keys:["shift+right"],fn:"skipNext",group:"player",label:()=>Object(Ze.default)("Skip to Next Item")},{keys:["x"],fn:"stop",group:"player",label:()=>Object(Ze.default)("Close Player")}],triggerShortcut(e){const t="shortcut:"+e;if(U.a.hasListener(t))return U.a.trigger(t),!1},help(e){U.a.trigger("show:modal",new npe({shortcuts:this.shortcuts}))},escape(e){U.a.trigger("shortcut:escape")},dashboard(e){U.a.trigger("navigate","dashboard")},home(e){U.a.trigger("navigate","dashboard")},settings(e){ra("webSettings",{settingsSubset:"general"})},activity(e){const t=ne.c("appModel").get("primaryServer");t&&!t.get("isShared")&&ra("serverDashboard",{serverID:t.id})},usersSharing(e){U.a.trigger("navigate","usersSharing")},search(e){return this.triggerShortcut("search")},playSelected(e){return this.triggerShortcut("playSelected")},togglePlayed(e){return this.triggerShortcut("togglePlayed")},edit(e){return this.triggerShortcut("edit")},info(e){return this.triggerShortcut("info")},save(e){return this.triggerShortcut("save")},playPause(e){return this.triggerShortcut("playPause")},play(e){return this.triggerShortcut("play")},pause(e){return this.triggerShortcut("pause")},toggleFullScreen(e){return this.triggerShortcut("toggleFullScreen")},decreaseVolume(e){return this.triggerShortcut("decreaseVolume")},increaseVolume(e){return this.triggerShortcut("increaseVolume")},seekBackward(e){return this.triggerShortcut("seekBackward")},seekForward(e){return this.triggerShortcut("seekForward")},stepBackward(e){return this.triggerShortcut("stepBackward")},stepForward(e){return this.triggerShortcut("stepForward")},skipPrevious(e){return this.triggerShortcut("skipPrevious")},skipNext(e){return this.triggerShortcut("skipNext")},stop(e){return this.triggerShortcut("stop")}},localCompanionTimelineManager:r6t(e,t,{getPlayerModels(e){const t=e.get("ui");return[t.get("audioVideoPlayer"),t.get("photoPlayer")]},getVolume:x3t.a}),localCompanionCommandHandler:i5t,mediaServerEventConnection:N6t,metrics:[new g5t({isPlaybackActive:E3t}),D3t],primaryServerManager:new v5t({appModel:e}),providerManager:new y5t({appModel:e}),remotePlexPlayerManager:d6t(e,t),serverConnectionManager:new l5t({appModel:e}),serverConnectionTestManager:new b5t({appModel:e}),serverManager:new C5t({appModel:e}),serverUpdateManager:new M5t({appModel:e}),sourceManager:new D5t({appModel:e}),syncplaySessionManager:new Z5t({appModel:e,appStore:t}),watchTogetherRoomsManager:new n6t({appModel:e,appStore:t})}),D.a.Deferred().resolve().promise()}().then(Bii.registerAll)}const Yii=new R.Application;Yii.addInitializer(()=>Kii().then(()=>s4t()).then(()=>(v.c.history.start(),D.a.Deferred().resolve().promise())));var qii=Yii;i("tuLj");qii.start()},gjek:function(e,t,i){e.exports={serverButton:"SelectPreferredServerItem-serverButton-29jc7n",isSelected:"SelectPreferredServerItem-isSelected-daviyr",friendlyName:"SelectPreferredServerItem-friendlyName-2aHvL6",serverMenuIcon:"SelectPreferredServerItem-serverMenuIcon-d3k6mW",titles:"SelectPreferredServerItem-titles-mvqGjT",isUnavailable:"SelectPreferredServerItem-isUnavailable-JNfkys",title:"SelectPreferredServerItem-title-2YCAba",details:"SelectPreferredServerItem-details-33OHk_"}},gmpS:function(e,t,i){e.exports={jumpBar:"DirectoryListJumpBar-jumpBar-397HqV",character:"DirectoryListJumpBar-character-TJRgel Link-link-2ew_DK"}},gnaf:function(e,t,i){"use strict";i.d(t,"b",(function(){return n})),i.d(t,"c",(function(){return a})),i.d(t,"d",(function(){return s})),i.d(t,"e",(function(){return r})),i.d(t,"f",(function(){return o})),i.d(t,"g",(function(){return l})),i.d(t,"h",(function(){return c})),i.d(t,"i",(function(){return d})),i.d(t,"j",(function(){return u})),i.d(t,"a",(function(){return p})),i.d(t,"k",(function(){return h}));const n="tv.plex.provider.epg",a="tv.plex.providers.epg",s="com.plexapp.plugins.library",r="tv.plex.provider.metadata",o="tv.plex.provider.music",l="tv.plex.provider.news",c="tv.plex.provider.podcasts",d="tv.plex.provider.vod",u="tv.plex.provider.webshows",p=[n,a,s,"com.plexapp.plugins.library.sync",r,o,l,c,d,u];function h(e,t){return!!e&&(Array.isArray(t)||(t=[t]),t.some(t=>-1!==e.indexOf(t)))}},gqMA:function(e,t,i){const n=i("S09J").default,a=i("a4Cb");e.exports=a(n)},grBd:function(e,t,i){e.exports={hub:"VirtualHubScroller-hub-3Pu2m6",hubHeader:"VirtualHubScroller-hubHeader-216w6Z",hubActions:"VirtualHubScroller-hubActions-28Hhyo",hubScrollButton:"VirtualHubScroller-hubScrollButton-Lw8gSe IconButton-iconButton-2l04Bi Link-link-2ew_DK",hubScroller:"VirtualHubScroller-hubScroller-3pMK1r VirtualListScroller-scroller-QdPYA9 Scroller-scroller-CQJq74"}},gxMp:function(e,t,i){e.exports={hubCellTitle:"HubCellTitle-hubCellTitle-2abInv"}},h1VY:function(e,t,i){e.exports={page:"Page-page-aq7i_X"}},h3e2:function(e,t,i){e.exports={container:"DurationRemaining-container-1F4w8F"}},h5wC:function(e,t,i){var n=i("3O+N");function a(e){return e&&(e.__esModule?e.default:e)}e.exports=(n.default||n).template((function(e,t,n,s,r){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),r=r||{};var o="",l=this.escapeExpression;return o+='<div class="setup-header row hidden"> <div class="col-sm-6 col-sm-offset-3"> <div class="sign-in-logo text-center"> <i class="plex-image plex-logo"></i> </div> <h2>'+l(a(i("d8WC")).call(t,"Server Setup",{hash:{},data:r}))+'</h2> <div class="setup-progress"> <div class="basic-segment setup-progress-segment"> <a class="segment-btn btn-gray" data-subset="setupBasic" href="#">'+l(a(i("d8WC")).call(t,"Name",{hash:{},data:r}))+'</a> </div> <div class="library-segment setup-progress-segment"> <a class="segment-btn btn-gray" data-subset="setupLibrary" href="#">'+l(a(i("d8WC")).call(t,"Media Library",{hash:{},data:r}))+'</a> </div> <div class="complete-segment setup-progress-segment"> <a class="segment-btn btn-gray" data-subset="setupComplete" href="#">'+l(a(i("d8WC")).call(t,"Finish",{hash:{},data:r}))+'</a> </div> </div> </div> </div> <div class="setup-container"></div> '}))},h7fT:function(e,t,i){e.exports={header:"SettingsPageHeader-header-1ugtIL"}},hDAk:function(e,t,i){e.exports={smartPlaylistBadge:"SmartPlaylistBadge-smartPlaylistBadge-2VXkAv Badge-badge-3I6Kzp"}},hDJw:function(e,t,i){"use strict";function n(e,t){return!!e.get("user").get("features").findWhere({uuid:t})}i.d(t,"a",(function(){return n}))},"hG+J":function(e,t,i){e.exports={menu:"AudioVideoQualityMenuInput-menu-2i8jzi Menu-menu-3XnN6J"}},hGck:function(e,t,i){var n=i("3O+N");function a(e){return e&&(e.__esModule?e.default:e)}e.exports=(n.default||n).template((function(e,t,n,s,r){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),r=r||{};var o,l="",c=this.escapeExpression;function d(e,t){return"hidden"}function u(e,t){return"checked"}return l+='<div class="form-group ',((o=n.unless.call(t,t&&t.showUnwatched,{hash:{},inverse:this.noop,fn:this.program(1,d,r),data:r}))||0===o)&&(l+=o),l+='"> <label class="control-label"> <input type="checkbox" id="convert-policy-unwatched" name="policyUnwatched" ',((o=n.if.call(t,null==(o=t&&t.policy)||!1===o?o:o.unwatched,{hash:{},inverse:this.noop,fn:this.program(3,u,r),data:r}))||0===o)&&(l+=o),l+="> "+c(a(i("d8WC")).call(t,"Unwatched only",{hash:{},data:r}))+' </label> </div> <div class="form-group ',((o=n.unless.call(t,t&&t.isDirectory,{hash:{},inverse:this.noop,fn:this.program(1,d,r),data:r}))||0===o)&&(l+=o),l+='"> <label class="control-label"> <input type="checkbox" id="convert-policy-scope" name="policyScope" value="count" ',((o=a(i("w+Xr")).call(t,null==(o=t&&t.policy)||!1===o?o:o.scope,"count",{hash:{},inverse:this.noop,fn:this.program(3,u,r),data:r}))||0===o)&&(l+=o),l+="> "+c(a(i("d8WC")).call(t,"Limit to",{hash:{},data:r}))+' <input type="number" id="convert-policy-value" name="policyValue" class="policy-value-control form-control" ',((o=n.if.call(t,null==(o=t&&t.policy)||!1===o?o:o.value,{hash:{},inverse:this.noop,fn:this.program(5,(function(e,t){var i,n="";return n+='value="'+c("function"==typeof(i=null==(i=e&&e.policy)||!1===i?i:i.value)?i.apply(e):i)+'"'}),r),data:r}))||0===o)&&(l+=o),l+="> "+c(a(i("d8WC")).call(t,"items",{hash:{},data:r}))+' </label> <p class="convert-warning help-block ',((o=n.unless.call(t,t&&t.showLimitWarning,{hash:{},inverse:this.noop,fn:this.program(1,d,r),data:r}))||0===o)&&(l+=o),l+='"> <i class="convert-warning-icon glyphicon circle-exclamation-mark"></i> <span class="convert-warning-text"> ',((o=n.if.call(t,t&&t.isSync,{hash:{},inverse:this.program(9,(function(e,t){var n="";return n+=" "+c(a(i("d8WC")).call(e,"A large number of items may be time-consuming to convert. If you have trouble, try reducing the number of items.",{hash:{},data:t}))+" "}),r),fn:this.program(7,(function(e,t){var n="";return n+=" "+c(a(i("d8WC")).call(e,"A large number of sync items may be time-consuming to convert and transfer to your device. If you have trouble, try reducing the number of items.",{hash:{},data:t}))+" "}),r),data:r}))||0===o)&&(l+=o),l+=" </span> </p> </div> "}))},hNn6:function(e,t,i){e.exports={toolbarRecordButton:"ToolbarRecordButton-toolbarRecordButton-2R8pzM ToolbarButton-toolbarButton-2i2nnD PlayButton-playButton-3WX8X- RecordIcon-recordIconContainer-1PXGA2"}},hPIe:function(e,t,i){"use strict";i.d(t,"o",(function(){return s})),i.d(t,"n",(function(){return r})),i.d(t,"m",(function(){return o})),i.d(t,"u",(function(){return l})),i.d(t,"l",(function(){return c})),i.d(t,"j",(function(){return d})),i.d(t,"t",(function(){return u})),i.d(t,"c",(function(){return p})),i.d(t,"b",(function(){return h})),i.d(t,"g",(function(){return m})),i.d(t,"s",(function(){return g})),i.d(t,"f",(function(){return v})),i.d(t,"r",(function(){return y})),i.d(t,"e",(function(){return f})),i.d(t,"d",(function(){return b})),i.d(t,"q",(function(){return I})),i.d(t,"h",(function(){return S})),i.d(t,"i",(function(){return C})),i.d(t,"a",(function(){return M})),i.d(t,"k",(function(){return D})),i.d(t,"p",(function(){return P}));var n=i("7za+"),a=i("FWoo");function s(e){return e.get("user")}function r(e){return e.get("user").get("desktop")}function o(e,{serverEntityID:t}){return Object(a.a)(e,n.n,t)}function l(e,{serverEntityID:t}){return Object(a.b)(e,n.n,t)}function c(e,t){const i=o(e,t);return i&&i.get("desktop")}function d(e,{providerEntityID:t}){return Object(a.a)(e,n.k,t)}function u(e,{providerEntityID:t}){return Object(a.b)(e,n.k,t)}function p(e,{libraryEntityID:t}){return Object(a.a)(e,n.d,t)}function h(e,{hubEntityID:t}){return Object(a.a)(e,n.c,t)}function m(e,{metadataListEntityID:t}){return Object(a.a)(e,n.h,t)}function g(e,{metadataListEntityID:t}){return Object(a.b)(e,n.h,t)}function v(e,{metadataItemEntityID:t}){return Object(a.a)(e,n.g,t)}function y(e,{metadataItemEntityID:t}){return Object(a.b)(e,n.g,t)}function f(e,{mediaSubscriptionEntityID:t}){return Object(a.a)(e,n.f,t)}function b(e,{liveTVSessionEntityID:t}){return Object(a.a)(e,n.e,t)}function I(e,{liveTVSessionEntityID:t}){return Object(a.b)(e,n.e,t)}function S(e,{playQueueItemEntityID:t}){return Object(a.a)(e,n.j,t)}function C(e,{playlistItemEntityID:t}){return Object(a.a)(e,n.i,t)}function M(e,{friendEntityID:t}){return Object(a.a)(e,n.a,t)}function D(e,{searchResultEntityID:t}){return Object(a.a)(e,n.m,t)}function P(e,{watchTogetherRoomEntityID:t}){return Object(a.a)(e,n.q,t)}},hPsq:function(e,t,i){"use strict";i.r(t);var n=i("+X4A"),a=i("2DfW");t.default=function(e,t){return Object(a.default)(Object(n.getLastSegment)(e||""),t)}},hjda:function(e,t,i){e.exports={titleContainer:"MetadataPosterCell-titleContainer-24DI63",continueWatchingTitleContainer:"MetadataPosterCell-continueWatchingTitleContainer-3yCAYP",splitTitleContainer:"MetadataPosterCell-splitTitleContainer-RAVdFk"}},hrOP:function(e,t,i){var n=i("3O+N");function a(e){return e&&(e.__esModule?e.default:e)}e.exports=(n.default||n).template((function(e,t,n,s,r){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),r=r||{};var o,l="",c=this.escapeExpression;return l+='<form class="edit-metadata-form"> <div class="row"> <div class="col-md-12"> '+c(a(i("nptq")).call(t,"lockableTagInput",{hash:{label:"Tags",name:"tag",attribute:"tags",locked:(o=t&&t.locked,null==o||!1===o?o:o.tag)},data:r}))+' </div> </div> <div class="row"> <div class="col-md-12"> '+c(a(i("nptq")).call(t,"lockableTagInput",{hash:{onlyDelete:!0,label:"Autotags",name:"autotag",attribute:"autotags",locked:(o=t&&t.locked,null==o||!1===o?o:o.autotag)},data:r}))+" </div> </div> </form> "}))},hrUx:function(e,t,i){e.exports={playHistoryListPageContent:"PlayHistoryList-playHistoryListPageContent-2V1eSL PageContent-pageContentScroller-okL_Uc Scroller-scroller-CQJq74"}},hrvX:function(e,t,i){e.exports={container:"PrePlayDetailsColumn-container-2pRB1i"}},hsfa:function(e,t,i){e.exports={container:"TickMarks-container-Dsw5zQ",ticks:"TickMarks-ticks-3rrhGg",tick:"TickMarks-tick-S3qkF1",minor:"TickMarks-minor-1EIQql TickMarks-tick-S3qkF1",major:"TickMarks-major-2GXoin TickMarks-tick-S3qkF1",label:"TickMarks-label-2qQMLo"}},hsp8:function(e,t,i){e.exports={playerContainer:"SessionTileDetails-playerContainer-kkGWO1",playerIcon:"SessionTileDetails-playerIcon-2ZYrL9",productLogo:"SessionTileDetails-productLogo-2iaStq",statusIcon:"SessionTileDetails-statusIcon-pRklWz",playerInformation:"SessionTileDetails-playerInformation-288lN_",title:"SessionTileDetails-title-VJh0Fi",subtitle:"SessionTileDetails-subtitle-2YN2o4",streamInformation:"SessionTileDetails-streamInformation-3hyrAK",videoStreamInformation:"SessionTileDetails-videoStreamInformation-314lPv SessionTileDetails-streamInformation-3hyrAK",audioStreamInformation:"SessionTileDetails-audioStreamInformation-3qqPg3 SessionTileDetails-streamInformation-3hyrAK",subtitlesStreamInformation:"SessionTileDetails-subtitlesStreamInformation-2kZswu SessionTileDetails-streamInformation-3hyrAK",streamType:"SessionTileDetails-streamType-153Nfd",streams:"SessionTileDetails-streams-2gXKzW",rightArrow:"SessionTileDetails-rightArrow-3gZGE-",rightArrowForEdge:"SessionTileDetails-rightArrowForEdge-2ghJHi SessionTileDetails-rightArrow-3gZGE-"}},hsww:function(e,t,i){e.exports={title:"MetadataHubCellHeader-title-3ngFlY HubCellTitle-hubCellTitle-2abInv",attribution:"MetadataHubCellHeader-attribution-EOJMMN",titleSeparator:"MetadataHubCellHeader-titleSeparator-2XLwHj DashSeparator-separator-4CyEFW",sourceTitle:"MetadataHubCellHeader-sourceTitle-VjjOkx"}},htvf:function(e,t,i){"use strict";var n=i("F/us"),a=i.n(n);function s(){a.a.isFunction(this.initialize)&&this.initialize.apply(this,arguments)}s.extend=function(e,t){const i=this;let n;n=e&&a.a.has(e,"constructor")?e.constructor:function(){return i.apply(this,arguments)||null},a.a.extend(n,i,t);const s=function(){this.constructor=n};if(s.prototype=i.prototype,n.prototype=new s,e&&e.hasOwnProperty("mixins")){let t=e.mixins;delete e.mixins,Array.isArray(t)||(t=[t]),a.a.each(t,(function(e){a.a.extend(n.prototype,e)}))}return e&&a.a.extend(n.prototype,e),n.__super__=i.prototype,n},t.a=s},hvMQ:function(e,t,i){var n=i("3O+N");function a(e){return e&&(e.__esModule?e.default:e)}e.exports=(n.default||n).template((function(e,t,n,s,r){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),r=r||{};var o,l="",c=this.escapeExpression,d=this;function u(e,t){var n="";return n+=" "+c(a(i("d8WC")).call(e,"This Plex Media Server platform is not capable of converting video.",{hash:{},data:t}))+" "}function p(e,t){var n="";return n+=" "+c(a(i("d8WC")).call(e,"There was a problem requesting media versions from this server.",{hash:{},data:t}))+" "}return l+='<div class="row row-padded"> <h4 class="text-muted text-center"> ',((o=n.if.call(t,t&&t.isUpgradeRequired,{hash:{},inverse:d.program(3,(function(e,t){var i;return(i=n.if.call(e,e&&e.isTranscoderRequired,{hash:{},inverse:d.program(6,p,t),fn:d.program(4,u,t),data:t}))||0===i?i:""}),r),fn:d.program(1,(function(e,t){var n="";return n+=" "+c(a(i("d8WC")).call(e,"Optimized Versions requires Plex Media Server {1} or later.",e&&e.escapedMinServerVersion,{hash:{},data:t}))+" "}),r),data:r}))||0===o)&&(l+=o),l+=" </h4> </div> "}))},i0LR:function(e,t,i){e.exports={message:"AdInfoBar-message-oXwI7b",skipAdButton:"AdInfoBar-skipAdButton-2CaCxu"}},i6oY:function(e,t,i){e.exports={map:"PhotoMap-map-3J2kw2",underlay:"PhotoMap-underlay-EsEVBH",error:"PhotoMap-error-1Fk9ji"}},iApP:function(e,t,i){e.exports={spotlightImage:"MetadataSpotlightCell-spotlightImage-1LMLac",copyOverlay:"MetadataSpotlightCell-copyOverlay-8VxVNo",shadeOverlay:"MetadataSpotlightCell-shadeOverlay-2KlhJd",colorOverlay:"MetadataSpotlightCell-colorOverlay-3iNipE",title:"MetadataSpotlightCell-title-1nb5mc",attributionLogo:"MetadataSpotlightCell-attributionLogo-20d3RZ",summary:"MetadataSpotlightCell-summary-QRjslu",callToAction:"MetadataSpotlightCell-callToAction-YMXi1N"}},iFKP:function(e,t,i){e.exports={separator:"MenuSeparator-separator-vr6OLv"}},iI5r:function(e,t,i){e.exports={container:"DVRSetupDeviceInfoChannelInfo-container-38JxgB",settings:"DVRSetupDeviceInfoChannelInfo-settings-3rutx5",message:"DVRSetupDeviceInfoChannelInfo-message-1d9gEK",noChannelsIcon:"DVRSetupDeviceInfoChannelInfo-noChannelsIcon-339HB9",clockContainer:"DVRSetupDeviceInfoChannelInfo-clockContainer-2n_VvV",noChannelsIconContainer:"DVRSetupDeviceInfoChannelInfo-noChannelsIconContainer-25faJo",clock:"DVRSetupDeviceInfoChannelInfo-clock-2vxBTq",clockTime:"DVRSetupDeviceInfoChannelInfo-clockTime-qyydgP DVRSetupDeviceInfoChannelInfo-clock-2vxBTq",blink:"DVRSetupDeviceInfoChannelInfo-blink-107UTs",clockBackground:"DVRSetupDeviceInfoChannelInfo-clockBackground-2moStg",noChannelsIconBackground:"DVRSetupDeviceInfoChannelInfo-noChannelsIconBackground-3tc9iv"}},iPle:function(e,t,i){"use strict";i.d(t,"a",(function(){return d}));var n=i("8NF1"),a=i("Vk9Z"),s=i("PXtH"),r=i("rXDx");var o=i("hDJw"),l=i("zTsO"),c=i("hPIe");function d(e,t){const i=t.options?Object.assign({},t.options):{},d=c.j(e,t),u=c.m(e,t),p=t.itemProviderEntityID&&c.t(e,{providerEntityID:t.itemProviderEntityID})||d,h=t.itemServerEntityID&&c.u(e,{serverEntityID:t.itemServerEntityID})||u,m=function({providerModel:e,serverModel:t,itemServerModel:i,itemProviderModel:n,options:o={}}){const{containerKey:l,listType:c}=o;if(!(e.get("identifier")!==n.get("identifier")||t.get("machineIdentifier")!==i.get("machineIdentifier")))return!0;if(c===r.p&&l)return!1;const d=e.get("features").get(a.l),u=!!d&&d.get("flavor")===s.c&&!t.get("isCloud"),p=i.get("isShared");return!u||p}({providerModel:d,serverModel:u,itemServerModel:h,itemProviderModel:p,options:t.options});i.serverModel=m?h:u,i.providerModel=m?p:d;return Object(o.a)(e,l.a)&&(i.includeExternalMedia=1),t.metadataItemEntityID&&(i.metadataItemModel=c.f(e,t)),t.playlistMetadataItemEntityID&&(i.playlistModel=c.f(e,{metadataItemEntityID:t.playlistMetadataItemEntityID})),t.metadataItemEntityIDs&&(i.metadataItemModels=t.metadataItemEntityIDs.map(t=>c.f(e,{metadataItemEntityID:t}))),t.metadataListEntityID&&(i.metadataListModel=c.g(e,t)),t.listType&&(i.type=Object(n.a)({metadataType:t.listType})),i}},"iT+t":function(e,t,i){e.exports={container:"SortableSources-container-28MsK- Measure-container-3yONEe"}},iZkF:function(e,t,i){"use strict";i.d(t,"O",(function(){return n})),i.d(t,"rb",(function(){return a})),i.d(t,"P",(function(){return s})),i.d(t,"eb",(function(){return r})),i.d(t,"Y",(function(){return o})),i.d(t,"jb",(function(){return l})),i.d(t,"gb",(function(){return c})),i.d(t,"T",(function(){return d})),i.d(t,"W",(function(){return u})),i.d(t,"a",(function(){return p})),i.d(t,"bb",(function(){return h})),i.d(t,"pb",(function(){return m})),i.d(t,"qb",(function(){return g})),i.d(t,"mb",(function(){return v})),i.d(t,"F",(function(){return y})),i.d(t,"xb",(function(){return f})),i.d(t,"U",(function(){return b})),i.d(t,"sb",(function(){return I})),i.d(t,"E",(function(){return S})),i.d(t,"vb",(function(){return C})),i.d(t,"wb",(function(){return M})),i.d(t,"tb",(function(){return D})),i.d(t,"ub",(function(){return P})),i.d(t,"Z",(function(){return O})),i.d(t,"ob",(function(){return j})),i.d(t,"hb",(function(){return w})),i.d(t,"V",(function(){return T})),i.d(t,"yb",(function(){return E})),i.d(t,"b",(function(){return N})),i.d(t,"Ab",(function(){return x})),i.d(t,"Bb",(function(){return A})),i.d(t,"zb",(function(){return L})),i.d(t,"kb",(function(){return k})),i.d(t,"nb",(function(){return R})),i.d(t,"lb",(function(){return z})),i.d(t,"cb",(function(){return U})),i.d(t,"db",(function(){return V})),i.d(t,"M",(function(){return B})),i.d(t,"N",(function(){return F})),i.d(t,"I",(function(){return H})),i.d(t,"L",(function(){return _})),i.d(t,"K",(function(){return W})),i.d(t,"J",(function(){return Q})),i.d(t,"H",(function(){return G})),i.d(t,"G",(function(){return K})),i.d(t,"S",(function(){return Y})),i.d(t,"t",(function(){return q})),i.d(t,"s",(function(){return Z})),i.d(t,"k",(function(){return J})),i.d(t,"u",(function(){return X})),i.d(t,"i",(function(){return $})),i.d(t,"o",(function(){return ee})),i.d(t,"m",(function(){return te})),i.d(t,"C",(function(){return ie})),i.d(t,"g",(function(){return ne})),i.d(t,"q",(function(){return ae})),i.d(t,"p",(function(){return se})),i.d(t,"l",(function(){return re})),i.d(t,"z",(function(){return oe})),i.d(t,"B",(function(){return le})),i.d(t,"y",(function(){return ce})),i.d(t,"j",(function(){return de})),i.d(t,"n",(function(){return ue})),i.d(t,"h",(function(){return pe})),i.d(t,"x",(function(){return he})),i.d(t,"e",(function(){return me})),i.d(t,"A",(function(){return ge})),i.d(t,"f",(function(){return ve})),i.d(t,"D",(function(){return ye})),i.d(t,"v",(function(){return fe})),i.d(t,"w",(function(){return be})),i.d(t,"r",(function(){return Ie})),i.d(t,"ab",(function(){return Se})),i.d(t,"ib",(function(){return Ce})),i.d(t,"X",(function(){return Me})),i.d(t,"R",(function(){return De})),i.d(t,"Q",(function(){return Pe})),i.d(t,"d",(function(){return Oe})),i.d(t,"c",(function(){return je})),i.d(t,"fb",(function(){return we}));const n="home",a="source",s="library",r="preplay",o="playlists",l="searchResults",c="quickSearchResults",d="metadataList",u="player",p="account",h="plexpass",m="signIn",g="signOut",v="setupWizard",y="downloads",f="unclaimedServer",b="metadataSettings",I="status",S="devices",C="subtitles",M="subtitlesUpload",D="stopServerSession",P="stopServerSessionError",O="playHistory",j="sidebar",w="releaseNotes",T="photoTimeline",E="unknown",N="addToPlaylist",x="watchTogetherInvite",A="watchTogetherItemError",L="usersSharing",k="settings",R="sharing",z="settingsSidebar",U="preferredServer",V="preferredSources",B="dvrSettings",F="dvrSetup",H="dvrGuide",_="dvrSchedule",W="dvrPriority",Q="dvrManageChannels",G="dvrDeviceSettings",K="dvrAiringDetails",Y="manageSubscription",q="confirmMarkAsWatched",Z="confirmMarkAsUnwatched",J="confirmDelete",X="confirmOptimizeDatabase",$="confirmCleanBundles",ee="confirmEmptyTrash",te="confirmDeleteServer",ie="confirmUpgradeLibrary",ne="confirmAnalyzeLibrary",ae="confirmForceRefreshLibrary",se="confirmEmptyTrashLibrary",re="confirmDeleteLibrary",oe="confirmRemoveWebhook",le="confirmUnlinkOauthProvider",ce="confirmRemoveDVR",de="confirmClosePlayer",ue="confirmDeleteSubtitleStream",pe="confirmCancelDownload",he="confirmRemoveDownload",me="confirmAddToHome",ge="confirmResetCustomization",ve="adConsent",ye="confirmUpsell",fe="confirmPlayback",be="confirmRemoteToLocalPlayback",Ie="confirmLocalToRemotePlayback",Se="playVersion",Ce="resumePlayback",Me="playerError",De="liveTVPlayerConflict",Pe="liveTVJoinSession",Oe="castApiMissing",je="adConsent",we="settings"},idkr:function(e,t,i){var n=i("3O+N");function a(e){return e&&(e.__esModule?e.default:e)}e.exports=(n.default||n).template((function(e,t,n,s,r){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),r=r||{};var o,l="",c=this.escapeExpression,d=this;function u(e,t){var i,n="";return n+='download="'+c("function"==typeof(i=e&&e.downloadName)?i.apply(e):i)+'"'}function p(e,t){var i,n="";return n+=" "+c("function"==typeof(i=e&&e.title)?i.apply(e):i)+' <span class="title-separator"></span> '}function h(e,t){var s,r="";return r+=" "+c(a(i("c3sd")).call(e,e&&e.videoResolution,{hash:{},data:t})),((s=n.if.call(e,e&&e.bitrate,{hash:{},inverse:d.noop,fn:d.program(7,m,t),data:t}))||0===s)&&(r+=s),r+=" "}function m(e,t){return","}function g(e,t){var n="";return n+=" "+c(a(i("gqMA")).call(e,e&&e.bitrate,{hash:{},data:t}))+" "}return l+='<div class="modal-dialog"> <div class="modal-content"> <div class="modal-header"> <button type="button" class="close" data-dismiss="modal"><i class="glyphicon remove-2"></i></button> <h4 class="modal-title"><i class="modal-icon glyphicon download-alt"></i> '+c(a(i("d8WC")).call(t,"Download a Version",{hash:{},data:r}))+'</h4> </div> <div class="modal-body modal-body-scroll dark-scrollbar"> <ul class="list select-list download-list"> ',((o=n.each.call(t,t&&t.mediaItems,{hash:{},inverse:d.noop,fn:d.programWithDepth(1,(function(e,t,s){var r,o="";return o+=' <li class="striped-list-item select-list-item download-list-item"> <a class="media" data-value="'+c("function"==typeof(r=null==t||!1===t?t:t.index)?r.apply(e):r)+'" href="'+c("function"==typeof(r=e&&e.downloadUrl)?r.apply(e):r)+'" target="'+c("function"==typeof(r=s&&s.defaultLinkTarget)?r.apply(e):r)+'" ',((r=a(i("WX+G")).call(e,s&&s.defaultLinkTarget,"_blank",{hash:{},inverse:d.noop,fn:d.program(2,u,t),data:t}))||0===r)&&(o+=r),o+="> ",((r=n.if.call(e,e&&e.title,{hash:{},inverse:d.noop,fn:d.program(4,p,t),data:t}))||0===r)&&(o+=r),o+=" ",((r=n.if.call(e,e&&e.videoResolution,{hash:{},inverse:d.noop,fn:d.program(6,h,t),data:t}))||0===r)&&(o+=r),o+=" ",((r=n.if.call(e,e&&e.bitrate,{hash:{},inverse:d.noop,fn:d.program(9,g,t),data:t}))||0===r)&&(o+=r),o+=" </a> </li> "}),r,t),data:r}))||0===o)&&(l+=o),l+=" </ul> </div> </div> </div> "}))},idx1:function(e,t,i){e.exports={label:"DVRSetupCountrySelectInput-label-2_z-r2 FormLabel-label-2aLJ9b",edit:"DVRSetupCountrySelectInput-edit-2E1_QZ"}},ijGY:function(e,t,i){"use strict";i.d(t,"a",(function(){return n})),i.d(t,"d",(function(){return a})),i.d(t,"b",(function(){return s})),i.d(t,"c",(function(){return r}));const n="audio",a="video",s="photo",r="rom"},itOj:function(e,t,i){e.exports={stream:"SubtitlesStreamMenuItem-stream-3JNI2A",menuItemContainer:"SubtitlesStreamMenuItem-menuItemContainer-644uMQ SelectedMenuItem-menuItemContainer-2hXIr-",deleteContainer:"SubtitlesStreamMenuItem-deleteContainer-2FHm_C",deleteButton:"SubtitlesStreamMenuItem-deleteButton-2OofDN IconButton-button-9An-7I",extendedTitle:"SubtitlesStreamMenuItem-extendedTitle-GT6dbo"}},ivj2:function(e,t,i){e.exports={plexImage:"PlexHeaderImage-plexImage-2K4VHL",plexImageContainer:"PlexHeaderImage-plexImageContainer-NE-7v1"}},ixBV:function(e,t,i){e.exports={overlay:"MetadataDetailsRow-overlay-1J_Ie5",selectOverlay:"MetadataDetailsRow-selectOverlay-2c5o4D Link-link-2ew_DK",selectedListRow:"MetadataDetailsRow-selectedListRow-BAFOj4 ListRow-row-1sqnTj",rangeListRow:"MetadataDetailsRow-rangeListRow-18fA8J ListRow-row-1sqnTj",summaryContainer:"MetadataDetailsRow-summaryContainer-3cxeiJ",posterContainer:"MetadataDetailsRow-posterContainer-3f0Hrk",titlesContainer:"MetadataDetailsRow-titlesContainer-27DvHt",titleContainer:"MetadataDetailsRow-titleContainer-2RpS_W",title:"MetadataDetailsRow-title-1zsf5h",singleTitle:"MetadataDetailsRow-singleTitle-3zLuDc MetadataDetailsRow-title-1zsf5h",doubleTitle:"MetadataDetailsRow-doubleTitle-1eAbNu MetadataDetailsRow-title-1zsf5h",subtitle:"MetadataDetailsRow-subtitle-3xxulQ MetadataDetailsRow-titleContainer-2RpS_W MetadataDetailsRow-title-1zsf5h",summary:"MetadataDetailsRow-summary-WRo-nv",actions:"MetadataDetailsRow-actions-Bb-UpX",actionsButton:"MetadataDetailsRow-actionsButton-32_DgC Link-link-2ew_DK",userRatingContainer:"MetadataDetailsRow-userRatingContainer-OB2qMI"}},ixgb:function(e,t,i){e.exports={title:"MetadataPosterCardTitle-title-2OWMA-",isSecondary:"MetadataPosterCardTitle-isSecondary-1R4E5X",singleLineTitle:"MetadataPosterCardTitle-singleLineTitle-_v31WY MetadataPosterCardTitle-title-2OWMA-",doubleLineTitle:"MetadataPosterCardTitle-doubleLineTitle-Z9i_-c MetadataPosterCardTitle-title-2OWMA-"}},"j+1R":function(e,t,i){e.exports={stylesContainer:"MetadataListStylesMenu-stylesContainer-jYQkcQ",slider:"MetadataListStylesMenu-slider-o88eP5 Slider-slider-2oLVTs",stylesButton:"MetadataListStylesMenu-stylesButton-21zDb3",stylesButtonWithArrow:"MetadataListStylesMenu-stylesButtonWithArrow-23qAV4 MetadataListStylesMenu-stylesButton-21zDb3",stylesIcon:"MetadataListStylesMenu-stylesIcon-1r4qeF"}},j5p2:function(e,t,i){e.exports={gutter:"DirectoryToolbarClearFiltersButton-gutter-4y0Y5x PageHeaderLeftGutter-container-2zDXNC",resetButton:"DirectoryToolbarClearFiltersButton-resetButton-1OwW63 ToolbarButton-toolbarButton-2i2nnD"}},j9Wk:function(e,t,i){"use strict";var n=i("B69o"),a=i("rHf3");const s=n.a.extend({name:"PlayQueueItemCollection",context:["server","provider","identifier","mediaTagPrefix","mediaTagVersion"],model:a.a});t.a=s},jD54:function(e,t,i){e.exports={menuHeader:"MenuHeader-menuHeader-1zqcoT"}},jEUb:function(e,t,i){e.exports={summary:"PrePlaySummary-summary-320PKj"}},jIku:function(e,t,i){e.exports={lineHeightMeasure:"CollapsibleText-lineHeightMeasure-1AQhaN",contentTransition:"CollapsibleText-contentTransition-36Xek6",readMore:"CollapsibleText-readMore-1FIz2V DisclosureArrowButton-disclosureArrowButton-11LSbY Link-link-2n0yJn",readMoreArrow:"CollapsibleText-readMoreArrow-1WO_UV DisclosureArrowButton-disclosureArrow-1Gz1vb DisclosureArrow-disclosureArrow-1KPaBC"}},jKuV:function(e,t,i){var n=i("3O+N");function a(e){return e&&(e.__esModule?e.default:e)}e.exports=(n.default||n).template((function(e,t,n,s,r){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),r=r||{};var o,l="",c=this.escapeExpression,d=this;function u(e,t){var n="";return n+=" "+c(a(i("nptq")).call(e,"setting",{hash:{idSuffix:"_c"},data:t}))+" "}return((o=n.if.call(t,t&&t.settings,{hash:{},inverse:d.noop,fn:d.program(1,(function(e,t){var s,r="";return r+=' <div class="setup-agent-section"> <div class="setup-agent-title">'+c(a(i("d8WC")).call(e,"{1} Settings",e&&e.escapedAgentName,{hash:{},data:t}))+'</div> <p class="setup-agent-disclaimer">'+c(a(i("d8WC")).call(e,"Note: These settings will take effect for all libraries using the {1} agent.",e&&e.escapedAgentName,{hash:{},data:t}))+'</p> <div class="setup-agent-settings"> ',((s=n.each.call(e,e&&e.settings,{hash:{},inverse:d.noop,fn:d.program(2,u,t),data:t}))||0===s)&&(r+=s),r+=" </div> </div> "}),r),data:r}))||0===o)&&(l+=o),l+=" "}))},jLR9:function(e,t,i){"use strict";const n={DISABLED:0,ENABLED:1,VERBOSE:2};n.settings=[{value:n.DISABLED,title:"Disabled"},{value:n.ENABLED,title:"Enabled"},{value:n.VERBOSE,title:"Verbose"}],t.a=n},jNWR:function(e,t,i){"use strict";var n=i("CHn6"),a=i("mOXR"),s=i("j9Wk"),r=i("nvND"),o=i("Pizw");const l=n.a.extend({name:"PlayQueueModel",context:["server","provider","identifier","mediaTagPrefix","mediaTagVersion"],responseContext:["identifier","mediaTagPrefix","mediaTagVersion"],idAttribute:"playQueueID",hasResponseOnSave:!0,urlRoot(){return this.get("key")},sessionAttrs:{key:a.a.string,type:a.a.string,repeat:a.a.boolean,own:a.a.boolean,isUpdatePending:a.a.boolean,isUniversal:a.a.boolean},syncedAttrs:{allowShuffle:a.a.boolean,playQueueID:a.a.string,playQueueSelectedItemOffset:a.a.integer,playQueueSelectedItemID:a.a.string,playQueueSelectedMetadataItemID:a.a.string,playQueueLastAddedItemID:a.a.string,playQueueShuffled:a.a.boolean,playQueueSourceURI:a.a.string,playQueueTotalCount:a.a.integer,playQueueVersion:a.a.integer},syncedRelations:{playQueueItems:{relationClass:s.a,rootPropertyName:"Metadata"}},derivedAttrs:{canShuffle(){const e=-1!==(this.get("playQueueSourceURI")||"").indexOf("library://x/station");return!this.get("playQueueLastAddedItemID")&&this.get("allowShuffle")&&!e},currentIndex(){const e=this.get("playQueueItems"),t=this.get("playQueueSelectedItemID"),i=e.get(t);return e.indexOf(i)},length(){const e=this.get("playQueueTotalCount")||0,t=this.get("playQueueItems")||[];return Math.max(e,t.length)}},defaults:{repeat:!1,own:!0,isUpdatePending:!1,isUniversal:!1,allowShuffle:!0},augmentResponseText:(e,t)=>t===r.c?Object(o.b)(e):e,augmentResponse(e,t){return this.responseContext.forEach(t=>{const i=e[t];void 0!==i&&this.setContext(t,i)}),e}});t.a=l},jWai:function(e,t,i){e.exports={placeholderIcon:"MetadataPosterCardIcon-placeholderIcon-2P76zo"}},javt:function(e,t,i){e.exports={hub:"WatchTogetherHubCell-hub-36FE21 HubCell-hubCell-3Ys175",hubHeader:"WatchTogetherHubCell-hubHeader-1Q9ryj VirtualHubScroller-hubHeader-216w6Z"}},jlmP:function(e,t,i){e.exports={card:"PosterCard-card-VhPkOe"}},jpr2:function(e,t,i){"use strict";i.d(t,"a",(function(){return p}));i("slDQ");var n=i("EVdn"),a=i.n(n),s=i("CHn6"),r=i("mOXR"),o=i("j9Wk");var l=s.a.extend({name:"LocalPlayQueueModel",context:["server","provider"],url(){const e=this.get("playQueueItems"),t=this.get("playQueueSelectedItemID"),i=e.get(t);if(i)return i.get("metadataItem").get("key")},sessionAttrs:{key:r.a.string,playQueueID:r.a.string,isLocal:r.a.boolean,type:r.a.string,repeat:r.a.boolean,own:r.a.boolean,isUpdatePending:r.a.boolean,playQueueShuffled:r.a.boolean,playQueueSelectedItemID:r.a.string},sessionRelations:{playQueueItems:{relationClass:o.a}},derivedAttrs:{playQueueTotalCount(){return this.get("playQueueItems").length},length(){return this.get("playQueueItems").length},playQueueSelectedItemOffset(){const e=this.get("playQueueItems"),t=this.get("playQueueSelectedItemID");if(!t)return 0;const i=e.get(t);return e.indexOf(i)},currentIndex(){return this.get("playQueueSelectedItemOffset")},canShuffle:()=>!1},defaults:{isLocal:!0,repeat:!1,own:!0,isUpdatePending:!1,playQueueShuffled:!1,playQueueSelectedItemOffset:0},fetch:function(){return a.a.Deferred().resolve(this).promise()}}),c=i("jNWR"),d=(i("ijGY"),i("Vk9Z")),u=i("PXtH");function p(e){const{providerModel:t,playQueueID:i,playQueueType:n,playQueueRepeat:a,playQueueOwn:s=!0}=e,r=t&&t.get("features"),o=r&&r.get(d.l),p=!!o&&o.get("flavor")===u.c;if(!o)return new l({playQueueID:i,type:n},{server:t.server,provider:t});return new c.a({playQueueID:i,key:o.get("key"),type:n,repeat:a,own:s,isUniversal:p},{server:t.server,provider:t})}},jsGA:function(e,t,i){e.exports={circularProgressBarText:"CircularProgressBar-circularProgressBarText-1kr2I3 CircularProgressBar-circularProgressBarText-gC1Z--",circularProgressBarBackground:"CircularProgressBar-circularProgressBarBackground-1a1VUp CircularProgressBar-circularProgressBarBackground-RvD8Ob",circularProgressBarContainer:"CircularProgressBar-circularProgressBarContainer-30vSIT CircularProgressBar-circularProgressBarContainer-26EO1i"}},jvu3:function(e,t,i){"use strict";i.d(t,"a",(function(){return a})),i.d(t,"c",(function(){return s})),i.d(t,"b",(function(){return r}));var n=i("17x9");const a="bottom-left",s="top-left",r="none";i.n(n).a.oneOf([a,s,r])},jw1d:function(e,t,i){e.exports={spinner:"PlaylistList-spinner-35vMZm",content:"PlaylistList-content-BhpSbg",contentScroller:"PlaylistList-contentScroller-10slMm",cell:"PlaylistList-cell-2Crv3Z"}},"jy+L":function(e,t,i){e.exports={input:"ServerLogFilterInput-input-1ueuPd TextInput-input-1VMuma input-input-1P2Vi4"}},"k+R5":function(e,t,i){e.exports={card:"MetadataPosterButtonCard-card-2T8TR6",playButton:"MetadataPosterButtonCard-playButton-aOV1En PlayButton-playButton-3WX8X-",playCircle:"MetadataPosterButtonCard-playCircle-366hcx PlayButton-playCircle-3Evfdw",recordButton:"MetadataPosterButtonCard-recordButton-1m2tbo RecordIcon-recordIconContainer-1PXGA2",recordCircle:"MetadataPosterButtonCard-recordCircle-1UtXWP RecordIcon-recordCircle-176nlN PlayButton-playCircle-3Evfdw"}},k31B:function(e,t,i){e.exports={secondaryTitle:"PrePlaySecondaryTitle-secondaryTitle-YJRGCZ PrePlayPrimaryTitle-primaryTitle-1r9P9r"}},k4np:function(e,t,i){e.exports={placeholder:"MetadataPosterCardPlaceholder-placeholder-pMf-qI MetadataPosterCardFace-poster-L2P6rC",isSelected:"MetadataPosterCardPlaceholder-isSelected-34TSl1 MetadataPosterCardFace-isSelected-1XUgkl"}},k9ft:function(e,t,i){"use strict";function n(e,t){const i=t?8*Math.round(t/8):0,n=e?8*Math.round(e/8*(9/16)):0;return Math.max(i,n)}i.d(t,"a",(function(){return n}))},kDj3:function(e,t,i){e.exports={title:"SourceSidebarServerHeader-title-3zMGa0 SourceSidebarLink-title-1lgRT2 SidebarLink-title-2vaAAn",isSelected:"SourceSidebarServerHeader-isSelected-3RDRpP SourceSidebarLink-isSelected-27-9-6",iconContainer:"SourceSidebarServerHeader-iconContainer-39Nny8 SourceSidebarItem-iconImg-2zgKLr",actionContainer:"SourceSidebarServerHeader-actionContainer-1FXUpo"}},kEeM:function(e,t,i){e.exports={container:"PrePlayActionBar-container-2BXA5E ActionButtonBar-bar-BSTmw2",addIcon:"PrePlayActionBar-addIcon-332EkW ActionButton-icon-3yhx5u",menu:"PrePlayActionBar-menu-Jlr1YK Menu-menu-3XnN6J",disabledUserRating:"PrePlayActionBar-disabledUserRating-3CKqsG StarRating-starRating-1-SbNQ"}},kJQh:function(e,t,i){e.exports={line:"ServerLogLine-line-2WtKzy",field:"ServerLogLine-field-madfJN",fieldTime:"ServerLogLine-fieldTime-17MvxW ServerLogLine-field-madfJN",fieldThread:"ServerLogLine-fieldThread-3Pag7D ServerLogLine-field-madfJN",fieldMessage:"ServerLogLine-fieldMessage-37X1ly ServerLogLine-field-madfJN",levelError:"ServerLogLine-levelError-bOQc8x ServerLogLine-line-2WtKzy",levelWarning:"ServerLogLine-levelWarning-1Fzthi ServerLogLine-line-2WtKzy",levelInfo:"ServerLogLine-levelInfo-K81rVD ServerLogLine-line-2WtKzy",levelDebug:"ServerLogLine-levelDebug-mz-F9H ServerLogLine-line-2WtKzy",levelVerbose:"ServerLogLine-levelVerbose-1mA-Cl ServerLogLine-line-2WtKzy",levelUnknown:"ServerLogLine-levelUnknown-vHwX-9 ServerLogLine-line-2WtKzy",isHighlighted:"ServerLogLine-isHighlighted-2uX6-J"}},kTPH:function(e,t,i){e.exports={overlay:"MetadataFolderDetailsRow-overlay-IN-cEw",underlay:"MetadataFolderDetailsRow-underlay-35B7RW Link-link-2ew_DK",posterContainer:"MetadataFolderDetailsRow-posterContainer-2z5Of4",titlesContainer:"MetadataFolderDetailsRow-titlesContainer-BwsdTb",doubleTitle:"MetadataFolderDetailsRow-doubleTitle-tBpYhL"}},"kV+z":function(e,t,i){e.exports={recordButtonContainer:"LiveTVRecord-recordButtonContainer-vuoUXZ"}},khlA:function(e,t,i){"use strict";i.r(t);var n=i("B69o"),a=i("vdRG");const s=n.a.extend({name:"MediaGrabOperationCollection",context:["server","provider"],model:a.a,comparator(e){const t=e.get("mediaItem");if(!t)return;return t.beginsAt-(t.startOffsetSeconds||0)}});t.default=s},"kjw+":function(e,t,i){e.exports={container:"PageHeaderLeftGutter-container-2zDXNC",innerContainer:"PageHeaderLeftGutter-innerContainer-34KhPg"}},kr0E:function(e,t,i){e.exports={buttonBar:"ModalFooterButtonBar-buttonBar-7XF2zU"}},kwss:function(e,t,i){"use strict";var n=i("ZTgP");const a=i("BcwQ").default,s=Object.assign({allowFlash:!1,testPrivateConnectionsWhenPublicAddressDoesNotMatch:!0,allowHttpsMediaServerConnections:!1,allowMediaServerRelayConnections:!1,allowLoopbackDiscovery:!1,allowSSO:!1,allowMixedContent:!1,allowBaseImagePreloading:!0,allowBaseImageBlobs:!0,heartbeatInterval:1e4,allowManualServers:!1,allowMobileServers:!1,allowMultiTrackAudio:!1,maximumConcurrentConnectionTests:5,shouldCreateFlexModels:!1,shouldCreateStateTree:!1,requiresSignIn:!0,requiresPlexPass:!1,myPlexAccessToken:null,continueUrl:null,primaryServer:null,shouldCreateNewSessionWhenSeekingLiveTV:!1,shouldPreferInsecureLocalConnections:!1,shouldRequestHTMLFromCloudProvider:!1,allowLiveTVPlayback:!0,seekDebounceMilliseconds:null,allowSyncSettings:!1,allowAdsOverMedia:!0,drmType:n.NONE},a,window.PLEXWEB),r=Object.freeze(s);t.a=r},kxlF:function(e,t,i){e.exports={listContainer:"PrePlayDescendantList-listContainer-3AH-PT"}},l1OG:function(e,t,i){"use strict";var n=i("G4qV"),a=i("Zl7H");const s=Object(n.a)(a.a,e=>e.experienceSettings);t.a=s},lEPh:function(e,t,i){e.exports={container:"UserSharingSettingsSharedMedia-container-hSe45e Measure-container-3yONEe",message:"UserSharingSettingsSharedMedia-message-2fv_1p"}},lHYh:function(e,t,i){e.exports={container:"DVRSetupInfoStep-container-1PLdsb",step:"DVRSetupInfoStep-step-KO4rjO",done:"DVRSetupInfoStep-done-3KCgwy Badge-badge-3I6Kzp DVRSetupInfoStep-step-KO4rjO",active:"DVRSetupInfoStep-active-3Re5yx Spinner-spinner-1qRM4t spin-spin-2kLwt_ DVRSetupInfoStep-step-KO4rjO",waiting:"DVRSetupInfoStep-waiting-2AlHpF Badge-badge-3I6Kzp DVRSetupInfoStep-step-KO4rjO"}},lXqf:function(e,t,i){e.exports={selectButton:"SelectButton-selectButton-3jGXzS Link-link-2ew_DK",selectCircle:"SelectButton-selectCircle-ec9No3",selectedIcon:"SelectButton-selectedIcon-1liPBH",unselectedCircle:"SelectButton-unselectedCircle-2reVv_ SelectButton-selectCircle-ec9No3",selectedCircle:"SelectButton-selectedCircle-264nVE SelectButton-selectCircle-ec9No3",rangeCircle:"SelectButton-rangeCircle-25BDKx SelectButton-selectCircle-ec9No3"}},lbl0:function(e,t,i){"use strict";i.d(t,"c",(function(){return n})),i.d(t,"b",(function(){return a})),i.d(t,"g",(function(){return s})),i.d(t,"r",(function(){return r})),i.d(t,"d",(function(){return o})),i.d(t,"a",(function(){return l})),i.d(t,"q",(function(){return c})),i.d(t,"p",(function(){return d})),i.d(t,"e",(function(){return u})),i.d(t,"f",(function(){return p})),i.d(t,"j",(function(){return h})),i.d(t,"k",(function(){return m})),i.d(t,"i",(function(){return g})),i.d(t,"l",(function(){return v})),i.d(t,"n",(function(){return y})),i.d(t,"o",(function(){return f})),i.d(t,"m",(function(){return b})),i.d(t,"h",(function(){return I}));const n="PLAY",a="PAUSE",s="SEEK",r="STOP",o="PREVIOUS",l="NEXT",c="SKIPTO",d="SHOWDETAILS",u="REFRESHPLAYQUEUE",p="REFRESHSTREAMS",h="SETREPEAT",m="SETSTREAM",g="SETQUALITY",v="SETSUBTITLECOLOR",y="SETSUBTITLEPOSITION",f="SETSUBTITLESIZE",b="SETSUBTITLEOFFSET",I="SETAUTOPLAY"},ld10:function(e,t,i){e.exports={icon:"PrePlayToggleMetadataItemSavedButton-icon-2zORzf",iconSaved:"PrePlayToggleMetadataItemSavedButton-iconSaved-17WmVR PrePlayToggleMetadataItemSavedButton-icon-2zORzf",iconUnsaved:"PrePlayToggleMetadataItemSavedButton-iconUnsaved-3itVtk PrePlayToggleMetadataItemSavedButton-icon-2zORzf"}},ldju:function(e,t,i){e.exports={zeroState:"SourceSidebarContent-zeroState-35CCyo",expandedSidebarContent:"SourceSidebarContent-expandedSidebarContent-3n-5nj"}},litE:function(e,t,i){e.exports={titleContainer:"MetadataTitleCombinedTitleTrackArtist-titleContainer-4jblz3",title:"MetadataTitleCombinedTitleTrackArtist-title-2YgMrS",trackArtist:"MetadataTitleCombinedTitleTrackArtist-trackArtist-19qjuQ"}},lj0k:function(e,t,i){e.exports={dotButton:"SpotlightHubDot-dotButton-1CaIUt",selectedDotButton:"SpotlightHubDot-selectedDotButton-2HE7D6 SpotlightHubDot-dotButton-1CaIUt"}},ljKs:function(e,t,i){e.exports={container:"GridAlsoAiringItem-container-2U1khf",metadataPosterPlayButton:"GridAlsoAiringItem-metadataPosterPlayButton-2jquhV MetadataPosterButtonCard-playButton-aOV1En PlayButton-playButton-3WX8X-",underlay:"GridAlsoAiringItem-underlay-2Wp2X0",metadataContainer:"GridAlsoAiringItem-metadataContainer-104qr7 GridAlsoAiringItemMetadata-container-2V7Z3m"}},lm5H:function(e,t,i){e.exports={modalBody:"StopServerSessionModal-modalBody-3EGW3i ModalBody-modalBody-1-wcfe",topContainer:"StopServerSessionModal-topContainer-Hb_CLj",avatarImg:"StopServerSessionModal-avatarImg-20JowZ AvatarImg-avatar-3Op56u",description:"StopServerSessionModal-description-1It0K7",modalFooter:"StopServerSessionModal-modalFooter-wfpGhv ModalFooter-modalFooter-3ZumZj",formLabel:"StopServerSessionModal-formLabel-bglBuZ FormLabel-label-2aLJ9b",form:"StopServerSessionModal-form-2tqYeQ",textArea:"StopServerSessionModal-textArea-1pPhy5 TextArea-textArea-2jx-Xy input-input-1P2Vi4",buttonBar:"StopServerSessionModal-buttonBar-1iqGdA ModalFooterButtonBar-buttonBar-7XF2zU"}},lmsz:function(e,t,i){e.exports={dragLayer:"DragPreviewLayer-dragLayer-2uYZUK"}},lmxN:function(e,t,i){e.exports={container:"AudioVideoPlayerView-container-kWiFsz"}},lnp7:function(e,t,i){e.exports={button:"PageHeaderTabButton-button-1zTdeV Button-button-2kT68l Link-link-2n0yJn",isSelected:"PageHeaderTabButton-isSelected-25CIS7"}},"lo1/":function(e,t,i){e.exports={groupItem:"PrePlayDetailsGroupItem-groupItem-3Tut9G",label:"PrePlayDetailsGroupItem-label-2Ee43I",content:"PrePlayDetailsGroupItem-content-1aRNUU"}},lqtG:function(e,t,i){e.exports={grid:"FlexGrid-grid-Ws_Ykq"}},m432:function(e,t,i){e.exports={modalHeader:"PlayerErrorModal-modalHeader-167lt1 ModalHeader-modalHeader-1Kf9RW",errorCode:"PlayerErrorModal-errorCode-2H7W7M"}},m5q2:function(e,t,i){e.exports={jumpBar:"LibraryPageJumpBar-jumpBar-22VKU1"}},m7TM:function(e,t,i){var n=i("3O+N");e.exports=(n.default||n).template((function(e,t,i,n,a){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),a=a||{};var s,r="";return r+='<a class="artwork-option media-poster-container" data-rating-key="',r+=(0,this.escapeExpression)((s=i.ratingKey)||"function"==typeof(s=t&&t.ratingKey)?s.call(t,{hash:{},data:a}):s)+'" href="#"> <div class="media-poster"></div> </a> '}))},m97E:function(e,t,i){e.exports={sectionDetails:"SubmittableFormSection-sectionDetails-12m6Er CloseableFormSection-isPressable-3BPTnc SettingsFormSectionDetails-sectionDetails-2rJ3jd",label:"SubmittableFormSection-label-1uVA_5 FormLabel-label-2aLJ9b CloseableFormSection-isPressable-3BPTnc",submitButton:"SubmittableFormSection-submitButton-2Dd-PE",spinnerContainer:"SubmittableFormSection-spinnerContainer-3JnpqQ"}},m9Cz:function(e,t,i){e.exports={deviceInfoBody:"DVRSetupDeviceInfo-deviceInfoBody-2LzExz ModalBody-modalBody--5uHSu",deviceInfoForm:"DVRSetupDeviceInfo-deviceInfoForm-1K-pGS",channelInfo:"DVRSetupDeviceInfo-channelInfo-32L387",channelDetails:"DVRSetupDeviceInfo-channelDetails-314k9o",deviceDetails:"DVRSetupDeviceInfo-deviceDetails-3DYVe7",countryInputGroup:"DVRSetupDeviceInfo-countryInputGroup-5CATqW",channelScanSourceSelect:"DVRSetupDeviceInfo-channelScanSourceSelect-22g5Xu SelectInput-input-x1tNmq input-input-1P2Vi4",deviceChannelsContainer:"DVRSetupDeviceInfo-deviceChannelsContainer-2ffnzV",deviceChannels:"DVRSetupDeviceInfo-deviceChannels-2erQ6b Scroller-vertical-VScFLT",deviceChannelsInfo:"DVRSetupDeviceInfo-deviceChannelsInfo-3oUd5C DVRSetupDeviceInfo-deviceChannels-2erQ6b Scroller-vertical-VScFLT"}},mCRK:function(e,t,i){"use strict";var n=i("Khyo"),a=i("EVdn"),s=i.n(a),r=i("T0/d");const o={isPopulating(){return!!this.populatePromise&&"pending"===this.populatePromise.state()},isPopulated(){return!!this.populatePromise&&"resolved"===this.populatePromise.state()},populate(){return this.populatePromise?this.populatePromise:this.fetch.apply(this,arguments)},fetch(){const e=s.a.Deferred();let t;if(this.isPopulating())return this.populatePromise;t=this._fetch?this._fetch.apply(this,arguments):this instanceof n.c.Collection?n.c.Collection.prototype.fetch.apply(this,arguments):n.c.Model.prototype.fetch.apply(this,arguments);const i=e.promise();return i.rid=t.rid,this.populatePromise=i,this.failedPopulatePromise=null,t.done(i=>{this.populatePromise=s.a.Deferred().resolveWith(this,[this]).promise(),e.resolveWith(this,[this,i,t])}),t.fail(t=>{this.populatePromise=null,this.failedPopulatePromise=i,e.rejectWith(this,[this,t])}),i},abortPendingPopulate(){return this.isPopulating()&&r.a.abort(this.populatePromise.rid),this.populatePromise},resetPopulatePromise(e){return this.isPopulating()||(this.populatePromise=e,this.failedPopulatePromise=null),this.populatePromise}};t.a=o},mDY5:function(e,t,i){e.exports={section:"ShareRestrictionsFilters-section-2OL_0T"}},mEyC:function(e,t,i){e.exports={container:"QuickSearch-container-2PWkBt"}},mJEB:function(e,t,i){var n=i("3O+N");function a(e){return e&&(e.__esModule?e.default:e)}e.exports=(n.default||n).template((function(e,t,n,s,r){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),r=r||{};var o,l="",c=this.escapeExpression,d=this;function u(e,t){var n="";return n+=' <span class="artwork-file-container"> <input type="file" class="artwork-file-control" multiple> <a href="#">'+c(a(i("d8WC")).call(e,"choose an image",{hash:{},data:t}))+'</a> </span> <span class="upload-prompt-divider">&middot;</span> '+c(a(i("d8WC")).call(e,"drag and drop",{hash:{},data:t}))+' <span class="upload-prompt-divider">&middot;</span> '}return((o=n.if.call(t,t&&t.showUpload,{hash:{},inverse:d.noop,fn:d.program(1,(function(e,t){var s,r="";return r+=' <div class="upload-artwork-container"> <div class="upload-prompt"> ',((s=n.if.call(e,e&&e.showFileUpload,{hash:{},inverse:d.noop,fn:d.program(2,u,t),data:t}))||0===s)&&(r+=s),r+=' <a class="upload-url-btn" href="#">'+c(a(i("d8WC")).call(e,"enter a url",{hash:{},data:t}))+'</a> </div> <div class="upload-progress"> '+c(a(i("d8WC")).call(e,"Uploading artwork...",{hash:{},data:t}))+' </div> <div class="upload-success"> '+c(a(i("d8WC")).call(e,"this artwork was uploaded successfully",{hash:{},data:t}))+' <span class="upload-prompt-divider">&middot;</span> '+c(a(i("d8WC")).call(e,"{1}upload another{2}",'<a class="upload-back-btn" href="#">',"</a>",{hash:{},data:t}))+' </div> <div class="upload-error"> '+c(a(i("d8WC")).call(e,"there was an error uploading this artwork",{hash:{},data:t}))+' <span class="upload-prompt-divider">&middot;</span> '+c(a(i("d8WC")).call(e,"{1}try again{2}",'<a class="upload-back-btn" href="#">',"</a>",{hash:{},data:t}))+' </div> <form id="upload-form" class="upload-form"> <input type="text" class="form-control" name="url" placeholder="'+c(a(i("d8WC")).call(e,"Enter a url to upload an image from the web",{hash:{},data:t}))+'"> <div class="upload-form-help"> <div class="pull-right">'+c(a(i("d8WC")).call(e,"enter to {1}upload{2}",'<a class="submit-url-btn" href="#">',"</a>",{hash:{},data:t}))+'</div> <div class="pull-left">'+c(a(i("d8WC")).call(e,"esc to {1}cancel{2}",'<a class="cancel-url-btn" href="#">',"</a>",{hash:{},data:t}))+"</div> </div> </form> </div> "}),r),data:r}))||0===o)&&(l+=o),l+=' <div class="artwork-list-container"></div> '}))},"mKd/":function(e,t,i){e.exports={input:"SelectInput-input-x1tNmq input-input-1P2Vi4",small:"SelectInput-small-2QgMQ- input-small-3LyjJH",select:"SelectInput-select-3zFgU3",large:"SelectInput-large-8FdD3e input-large-3wNGTy",isDisabled:"SelectInput-isDisabled-1d1XjS",hasError:"SelectInput-hasError-3tk9iX"}},mOXR:function(e,t,i){"use strict";var n=i("F/us"),a=i.n(n),s=i("FIl5");const r=["boolean","integer","float","string","object","array"];function o(e){return!0}function l(e){return a.a.isObject(e)&&!Array.isArray(e)}function c(e,t){t||(t={});const i=a.a.defaults(t,{typeName:e,parse:a.a.bind(s.a.parseType,s.a,e),stringify:a.a.bind(s.a.stringifyType,s.a,e)});var n;return i.validate=t.validate?(n=t.validate,function(e){return null==e||n(e)}):o,i.isRequired=Object.assign({},i,{validate:e=>null!=e&&i.validate(e),typeName:i.typeName+"<required>"}),i}var d={any:c("any"),boolean:c("boolean",{validate:a.a.isBoolean}),integer:c("integer",{validate:Number.isInteger}),float:c("float",{validate:a.a.isNumber}),string:c("string",{validate:a.a.isString}),object:c("object",{validate:l}),array:c("array",{validate:Array.isArray}),list:c("list",{validate:Array.isArray}),encodedString:c("encodedString",{validate:a.a.isString}),queryString:c("queryString",{validate:l}),instanceOf:function(){const e=a.a.toArray(arguments);return c("instanceOf",{validate:function(t){return a.a.some(e,(function(e){return t instanceof e}))}})},oneOf:function(){const e=a.a.toArray(arguments);return c("oneOf",{validate:function(t){return a.a.contains(e,t)}})},oneOfType:function(){const e=a.a.toArray(arguments);return c("oneOfType",{validate:function(t){return a.a.some(e,(function(e){return e.validate(t)}))}})},custom:function(e){return c("custom",{validate:e})},getAttrTypeFor:function(e){if(null==e)return d.any;for(let t=0,i=r.length;t<i;t++){const i=d[r[t]];if(i.validate(e))return i}return d.any}};t.a=d},mUut:function(e,t,i){var n=i("3O+N");function a(e){return e&&(e.__esModule?e.default:e)}e.exports=(n.default||n).template((function(e,t,n,s,r){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),r=r||{};var o,l="",c=this.escapeExpression,d=this;function u(e,t){var i,n="";return n+=' rows="'+c("function"==typeof(i=e&&e.rows)?i.apply(e):i)+'"'}function p(e,t){var i,n="";return n+='data-exclude-param="'+c("function"==typeof(i=e&&e.excludeParam)?i.apply(e):i)+'" data-exclude-value="'+c("function"==typeof(i=e&&e.excludeValue)?i.apply(e):i)+'"'}return l+='<div class="form-group"> <label for="text-'+c("function"==typeof(o=t&&t.name)?o.apply(t):o)+'">'+c(a(i("d8WC")).call(t,t&&t.label,{hash:{},data:r}))+"</label> ",((o=a(i("w+Xr")).call(t,t&&t.type,"textarea",{hash:{},inverse:d.program(4,(function(e,t){var i,a="";return a+=' <input type="text" id="text-'+c("function"==typeof(i=e&&e.name)?i.apply(e):i)+'" class="form-control text-field" name="'+c("function"==typeof(i=e&&e.name)?i.apply(e):i)+'" value="'+c("function"==typeof(i=e&&e.value)?i.apply(e):i)+'" placeholder="'+c("function"==typeof(i=e&&e.placeholder)?i.apply(e):i)+'" ',((i=n.if.call(e,e&&e.excludeParam,{hash:{},inverse:d.noop,fn:d.program(5,p,t),data:t}))||0===i)&&(a+=i),a+="> "}),r),fn:d.program(1,(function(e,t){var i,a="";return a+=' <textarea class="form-control text-field" id="text-'+c("function"==typeof(i=e&&e.name)?i.apply(e):i)+'" name="'+c("function"==typeof(i=e&&e.name)?i.apply(e):i)+'"',((i=n.if.call(e,e&&e.rows,{hash:{},inverse:d.noop,fn:d.program(2,u,t),data:t}))||0===i)&&(a+=i),a+=' placeholder="'+c("function"==typeof(i=e&&e.placeholder)?i.apply(e):i)+'">'+c("function"==typeof(i=e&&e.value)?i.apply(e):i)+"</textarea> "}),r),data:r}))||0===o)&&(l+=o),l+=" </div> "}))},mYof:function(e,t,i){e.exports={message:"EPGMapping-message-2-bnsH",spinnerContainer:"EPGMapping-spinnerContainer-TAwZ1M"}},"mZ//":function(e,t,i){e.exports={tableHeaderLink:"TableHeaderLink-tableHeaderLink-3Gf7Eg"}},mkKI:function(e,t,i){e.exports={icon:"SubtitlesOffsetSettingsValue-icon-98VH3J"}},mqLr:function(e,t,i){e.exports={modal:"DVRSetupModal-modal-3IeKFJ Modal-medium-1UIAdk Modal-modal-3Z1JSX"}},mvw6:function(e,t,i){"use strict";i.d(t,"a",(function(){return n}));const n="myPlex"},mzMB:function(e,t,i){e.exports={pageHeaderCenter:"PageHeaderCenter-pageHeaderCenter-XZlGC2"}},n3Vr:function(e,t,i){e.exports={spinnerContainer:"ActionsLink-spinnerContainer-2fP-HQ"}},n6F1:function(e,t,i){e.exports={row:"UserSettingsSentInviteRow-row-wQq2YS UsersSettingsRowFriend-row-3vhOQu UsersSettingsRow-row-3XFVVH",actions:"UserSettingsSentInviteRow-actions-26ThO1 UsersSettingsRowFriend-actions-2x39xk UsersSettingsRowActions-container-J6Ghnt",homeInvite:"UserSettingsSentInviteRow-homeInvite-3B7qbE",status:"UserSettingsSentInviteRow-status-1FpZ6r"}},nAMV:function(e,t,i){e.exports={placeholder:"MetadataPosterCardPlaceholder-placeholder-3jI6Xi PosterCard-card-VhPkOe",cardShimmer:"MetadataPosterCardPlaceholder-cardShimmer-2dNr5Z"}},nHuJ:function(e,t,i){"use strict";var n=i("gcR/"),a=i.n(n),s=i("q1tI"),r=i.n(s),o=i("i8i4"),l=i.n(o),c=i("slDQ"),d=i("0jae"),u=i("Jig8"),p=i("Fh1j"),h=i("y4j6"),m=i("66GW"),g=i("pXC0"),v=i("rfp9"),y=i("17x9"),f=i.n(y);const{useEffect:b,useRef:I}=r.a;function S({onPositionUpdate:e,onTick:t}){const i=I(Date.now());return b(()=>{let t;return e&&(t=window.setInterval(e,40)),()=>{t&&window.clearInterval(t)}},[e]),b(()=>{let e;return t&&(e=window.setInterval(()=>{const e=Math.floor((Date.now()-i.current)/1e3);t(e)},1e3)),()=>{e&&window.clearInterval(e)}},[t]),null}S.propTypes={onPositionUpdate:f.a.func,onTick:f.a.func};var C=S,M=i("CHO5"),D=i.n(M);const{Component:P}=r.a;class O extends P{constructor(e,t){super(e,t),this._isBuffering=void 0,this._isUnmounting=void 0,this._lastPositionChangeTime=void 0,this._lastPositionMilliseconds=void 0,this._mediaEl=void 0,this._mediaListeners=void 0,this._node=void 0,this._nativeSeek=e=>{this._mediaEl.currentTime=e},this.onStarted=()=>{const{positionSeconds:e,onDurationMillisecondsChange:t}=this.props;if(!this.state.isStarted){if(e){(this.props.onResumeSeek||this.props.onSeek||this._nativeSeek)(e)}this.setState({isStarted:!0},()=>{if(t){const e=this._mediaEl.duration;t(Number.isFinite(e)?Math.floor(1e3*e):0)}})}},this.onDataLoad=()=>{this._canNativelySelectAudioTrack()&&this._selectAudioTrack(),this._canNativelySelectTextTrack()&&(this._selectTextTrack(),this._mediaEl.textTracks.addEventListener("addtrack",this.onAddTrack)),Object(h.a)()||this.onStarted()},this.onCanPlay=()=>{Object(h.a)()&&this.onStarted()},this.onCanPlayThrough=()=>{this.props.onCanPlayThrough&&this.props.onCanPlayThrough(!0)},this.onPositionUpdate=()=>{if(!this._mediaEl)return;const e=Math.floor(1e3*this._mediaEl.currentTime);if(e!==this._lastPositionMilliseconds)this._lastPositionMilliseconds=e,this._lastPositionChangeTime=Date.now(),this._isBuffering&&(this._isBuffering=!1,this.props.onBufferingChange&&this.props.onBufferingChange(!1));else if(!this._isBuffering&&!this.props.paused){const e=Date.now()-this._lastPositionChangeTime;e>this.props.bufferingDetectionLimit&&(d.a.warn("[Player] Buffering detected, last position change was "+e+"ms ago"),this._isBuffering=!0,this.props.onBufferingChange&&this.props.onBufferingChange(!0))}this.props.onPositionMillisecondsChange(e)},this.onProgress=()=>{if(this.props.onBufferChange){const{buffered:e}=this._mediaEl,t=[];for(let i=0;i<e.length;i++)t.push({startSeconds:e.start(i),endSeconds:e.end(i)});this.props.onBufferChange(t)}},this.onEnded=()=>{this.props.onEnd&&this.props.onEnd()},this.onError=e=>{const{code:t}=e.target.error,i=function(e){switch(e){case 1:return Object(m.default)("Abort");case 2:return Object(m.default)("Network");case 3:return Object(m.default)("Decode");case 4:return Object(m.default)("Not Supported")}}(t),n=t+" ("+(i||"Unknown")+")";2===t?d.a.warn("[Player] An HTML media error occurred: "+n+"; the player will attempt to recover"):(d.a.warn("[Player] A critical HTML media error occurred: "+n+"; the player cannot recover"),this.props.onError&&this.props.onError({code:"h"+t,category:i}))},this.onSeek=e=>{const t=this._mediaEl.ended;this._nativeSeek(e),this.props.onSeek&&this.props.onSeek(e),!this.props.paused&&t&&this._play()},this.onPause=()=>{this._mediaEl.ended||this.props.onPause&&this.props.onPause()},this.onPlay=()=>{this.props.onPlay&&this.props.onPlay()},this.onResize=()=>{const{videoWidth:e,videoHeight:t}=this._mediaEl;this.props.onIntrinsicDimensions&&this.props.onIntrinsicDimensions({width:e,height:t})},this.onAddTrack=()=>{this._selectTextTrack()},this.state={isStarted:!1},this._mediaListeners={loadeddata:this.onDataLoad,canplay:this.onCanPlay,canplaythrough:this.onCanPlayThrough,progress:this.onProgress,ended:this.onEnded,error:this.onError,pause:this.onPause,play:this.onPlay,resize:this.onResize},this._lastPositionMilliseconds=null,this._lastPositionChangeTime=0,this._isBuffering=!1,this._isUnmounting=!1}componentDidMount(){this._mediaEl=Object(p.a)(this.props.mediaType,this.props.allowRecycleElement);const e=this._mediaEl;e.className=D.a.mediaElement,e.volume=Math.max(0,Math.min(this.props.volume/100,1)),Object.keys(this._mediaListeners).forEach(t=>{e.addEventListener(t,this._mediaListeners[t])}),this._node=l.a.findDOMNode(this),this._node.appendChild(e),this.props.onElementChange?this.props.onElementChange(e):e.src=this.props.src,this.props.isReadyToPlay&&!this.props.paused&&this.props.src&&this._play(),this._mediaEl.playbackRate=this.props.playbackSpeed,this.props.onMetricsPlayerChange(u.b)}componentDidUpdate(e,t){Object(c.a)(this.props.src===e.src,"Use a new `key` when changing `src`");const{lastSeekPositionSeconds:i,paused:n,volume:a,playbackSpeed:s,isReadyToPlay:r,audioStream:o,subtitleStream:l,subtitleSize:d,hasBurnedSubtitles:u,isStreamChangeInProgress:p,onStreamChange:h}=this.props,m=this._mediaEl,g=null!=i&&i!==e.lastSeekPositionSeconds,v=(!!e.audioStream&&e.audioStream.id)!==(!!o&&o.id),y=(!!e.subtitleStream&&e.subtitleStream.id)!==(!!l&&l.id),f=e.isStreamChangeInProgress&&!p,b=e.subtitleSize!==d;g&&this.onSeek(i),n===e.paused||m.ended||(n?this._pause():this._play()),a!==e.volume&&(m.volume=Math.max(0,Math.min(a/100,1))),s!==e.playbackSpeed&&(m.playbackRate=s),!r||e.isReadyToPlay||n||this._play(),this._canNativelySelectTextTrack()&&y&&!p&&this._selectTextTrack(),h&&(v&&!p||y&&!p||f||b&&u)&&h()}componentWillUnmount(){this._isUnmounting=!0,this._node.removeChild(this._mediaEl),this._mediaEl.src="",this._mediaEl.removeAttribute("src"),this._mediaEl.className="",Object.keys(this._mediaListeners).forEach(e=>{this._mediaEl.removeEventListener(e,this._mediaListeners[e])}),this._mediaEl.textTracks.removeEventListener("addtrack",this.onAddTrack),this.props.allowRecycleElement&&Object(p.b)(this._mediaEl)}_play(){const e=this._mediaEl.play();e&&e.then&&e.then(null,e=>{if(this._isUnmounting)return;("AbortError"===e.name||"NotAllowedError"===e.name)&&this.props.onPause&&this.props.onPause(),d.a.warn(e.name+": "+e.message)})}_pause(){this._mediaEl.pause()}_canNativelySelectAudioTrack(){const{audioStreams:e,isDecisionDirectPlay:t}=this.props;return!!(e&&e.length&&t&&this._mediaEl.audioTracks)}_canNativelySelectTextTrack(){const{subtitlesStreams:e,isDecisionDirectPlay:t}=this.props;return!!(e&&e.length&&t&&this._mediaEl.textTracks.length>0)}_selectAudioTrack(){const{audioStreams:e,audioStream:t}=this.props,i=this._mediaEl.audioTracks;if(i){const n=e.findIndex(e=>e.id===t.id);for(let e=0;e<i.length;e++)i[e].enabled=e===n}}_selectTextTrack(){const{subtitleStream:e}=this.props,t=this._mediaEl.textTracks;if(t&&e){let i;for(let n=0;n<t.length;n++){const a=t[n];if(a.mode="disabled",!i){const t="captions"===a.kind&&"eia_608"===e.codec,n="subtitles"===a.kind&&"vtt"===e.codec,s=a.language===e.id||a.label===e.language;(t||n)&&s&&(i=!0,a.mode="showing")}}}}render(){const{height:e,width:t,placement:i,edgeGutterX:n,edgeGutterY:s,isStackedAbove:r,onTick:o}=this.props,l=Object(v.a)(e,t,i,n,s,r);return a()("div",{style:l},void 0,this.state.isStarted?a()(C,{onPositionUpdate:this.onPositionUpdate,onTick:o}):null)}}O.defaultProps={mediaType:g.e,positionSeconds:0,volume:100,playbackSpeed:1,allowRecycleElement:!1,isReadyToPlay:!0};t.a=O},nSpa:function(e,t,i){e.exports={modalBody:"EditHomeModalContent-modalBody-2rHN2d ModalBody-modalBody--5uHSu",innerModalBody:"EditHomeModalContent-innerModalBody-4OMCUx",pane:"EditHomeModalContent-pane-3AzgqM ModalBody-innerModalBody-36gmbf",isHidden:"EditHomeModalContent-isHidden-2gSrWM",editPane:"EditHomeModalContent-editPane-1xAxS_",centeredContainer:"EditHomeModalContent-centeredContainer-Dyflr4",stackedButtonsContainer:"EditHomeModalContent-stackedButtonsContainer-36lBjY",sortableServers:"EditHomeModalContent-sortableServers-1uFWuv SortableHomeHubs-container-2NqZ-l Measure-container-3yONEe",reloadIcon:"EditHomeModalContent-reloadIcon-3wbMu9",footer:"EditHomeModalContent-footer-10Ix6N ModalFooter-modalFooter-30WIB5",button:"EditHomeModalContent-button-HgDyCQ ModalFooter-button-15VJa0 Button-button-2kT68l Link-link-2n0yJn",splitButton:"EditHomeModalContent-splitButton-gmcHmN ModalFooter-splitButton-2NLiBa ModalFooter-button-15VJa0 Button-button-2kT68l Link-link-2n0yJn"}},nVBp:function(e,t,i){"use strict";t.a=function(e,t){return t?e+":"+t:e}},nWaN:function(e,t,i){var n=i("3O+N");function a(e){return e&&(e.__esModule?e.default:e)}e.exports=(n.default||n).template((function(e,t,n,s,r){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),r=r||{};var o,l="",c=this.escapeExpression;return l+='<div class="conversion-status-container conversion-status-converting"> <div class="progress-bar-region"></div> <div class="conversion-status-converting-label-container"> <span class="conversion-status-converting-label">'+c(a(i("d8WC")).call(t,"Converting",{hash:{},data:r}))+'</span> <span class="conversion-status-converting-speed"></span> <div class="conversion-status-converting-progress"> <span class="conversion-status-converting-percentage"></span> <span class="conversion-status-converting-progress-separator">&middot;</span> <span class="conversion-status-converting-remaining"></span> </div> </div> </div> <div class="conversion-status-container conversion-status-processed"> <i class="conversion-status-icon glyphicon ok-2 text-success"></i> '+c(a(i("d8WC")).call(t,"Complete",{hash:{},data:r}))+' </div> <div class="conversion-status-container conversion-status-disabled"> <i class="conversion-status-icon glyphicon circle-exclamation-mark text-danger"></i> '+c(a(i("d8WC")).call(t,"Deleted",{hash:{},data:r}))+' <button class="enable-btn media-action-btn btn-gray-link" tabindex="-1"><i class="glyphicon repeat"></i></button> </div> <div class="conversion-status-container conversion-status-error"> <i class="conversion-status-icon glyphicon circle-exclamation-mark text-danger"></i> <span class="conversion-status-failed-message">'+c("function"==typeof(o=t&&t.initialErrorMessage)?o.apply(t):o)+'</span> <button class="retry-btn media-action-btn btn-gray-link" tabindex="-1"><i class="glyphicon repeat"></i></button> </div> <div class="conversion-status-container conversion-status-pending"> <i class="conversion-status-icon glyphicon clock"></i> <span class="conversion-status-pending-label">'+c(a(i("d8WC")).call(t,"Waiting",{hash:{},data:r}))+"</span> </div> "}))},nc7K:function(e,t,i){e.exports={titleContainer:"MetadataTitleCombinedTitleTrackArtist-titleContainer-dPOw8Z",title:"MetadataTitleCombinedTitleTrackArtist-title-3orFUf",trackArtist:"MetadataTitleCombinedTitleTrackArtist-trackArtist-3o0Kmw"}},ngbI:function(e,t,i){var n=i("3O+N");e.exports=(n.default||n).template((function(e,t,i,n,a){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),a=a||{};var s,r="",o=this.escapeExpression;return r+='<div class="striped-list-inner-item"> <div class="generator-poster-container"> <div class="media-poster"></div> </div> <div class="conversion-status-region"></div> <div class="generator-metadata-title">',r+=o((s=i.title)||"function"==typeof(s=t&&t.title)?s.call(t,{hash:{},data:a}):s)+'</div> <div class="generator-metadata-episode-index generator-metadata-subtitle"></div> <div class="generator-metadata-year generator-metadata-subtitle">',r+=o((s=i.year)||"function"==typeof(s=t&&t.year)?s.call(t,{hash:{},data:a}):s)+"</div> </div> "}))},nnTz:function(e,t,i){e.exports={posterCell:"HomeHubPosterPlaceholderCell-posterCell-1jeJqH"}},nnsB:function(e,t,i){e.exports=function(e,t,i){return Array.isArray(e)&&e.includes(t)?i.fn(this):i.inverse(this)}},nptq:function(e,t,i){const n=i("F/us"),a=i("3O+N");e.exports=function(e,t){const i=a.partials[e],s=n.extend({},t.hash.context||this,t.hash);return new a.SafeString(i(s))}},nqj8:function(e,t,i){e.exports={character:"LibraryPageJumpBarCharacter-character-2Hr4Ed"}},nvND:function(e,t,i){"use strict";i.d(t,"c",(function(){return o})),i.d(t,"a",(function(){return l})),i.d(t,"b",(function(){return c}));var n=i("F/us"),a=i.n(n),s=i("FIl5");function r(e,t){t||(t={});return a.a.defaults(t,{typeName:e,parse:a.a.bind(s.a.parseType,s.a,e)})}const o=r("xml",{accept:"application/xml"}),l=r("json",{accept:"application/json"}),c=r("text")},o2in:function(e,t,i){e.exports={playButton:"PlayButton-playButton-lixyMM Link-link-2ew_DK",playCircle:"PlayButton-playCircle-1_WgTy"}},"o2p+":function(e,t,i){"use strict";i.d(t,"c",(function(){return n})),i.d(t,"a",(function(){return a})),i.d(t,"d",(function(){return s})),i.d(t,"b",(function(){return r}));const n="playbackSpeed",a="lineup",s="recentChannelsInGrid",r="numRecentChannelsInGrid"},o8wu:function(e,t,i){var n=i("3O+N");function a(e){return e&&(e.__esModule?e.default:e)}e.exports=(n.default||n).template((function(e,t,n,s,r){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),r=r||{};var o,l="",c=this.escapeExpression,d=this;function u(e,t){var i="";return i+=" <li>"+c("function"==typeof e?e.apply(e):e)+"</li> "}return l+='<div class="modal-dialog"> <div class="modal-content"> <div class="modal-header"> <button type="button" class="close" data-dismiss="modal"><i class="glyphicon remove-2"></i></button> <h4 class="modal-title"><i class="modal-icon glyphicon circle-info"></i> '+c(a(i("d8WC")).call(t,"Plex Media Server Release Notes",{hash:{},data:r}))+'</h4> </div> <div class="modal-body modal-body-scroll dark-scrollbar"> <span class="text-muted">'+c(a(i("d8WC")).call(t,"Version {1}",t&&t.escapedVersion,{hash:{},data:r}))+"</span> ",((o=n.if.call(t,t&&t.added,{hash:{},inverse:d.noop,fn:d.programWithDepth(1,(function(e,t,s){var r,o="";return o+=' <h4 class="update-list-title">'+c(a(i("d8WC")).call(e,"New",{hash:{},data:t}))+"</h4> <ul> ",((r=n.each.call(e,s&&s.added,{hash:{},inverse:d.noop,fn:d.program(2,u,t),data:t}))||0===r)&&(o+=r),o+=" </ul> "}),r,t),data:r}))||0===o)&&(l+=o),l+=" ",((o=n.if.call(t,t&&t.fixed,{hash:{},inverse:d.noop,fn:d.programWithDepth(4,(function(e,t,s){var r,o="";return o+=' <h4 class="update-list-title">'+c(a(i("d8WC")).call(e,"Fixes",{hash:{},data:t}))+"</h4> <ul> ",((r=n.each.call(e,s&&s.fixed,{hash:{},inverse:d.noop,fn:d.program(2,u,t),data:t}))||0===r)&&(o+=r),o+=" </ul> "}),r,t),data:r}))||0===o)&&(l+=o),l+=" </div> </div> </div> "}))},oArg:function(e,t,i){e.exports={tableHeaderTitle:"TableHeaderTitle-tableHeaderTitle-14sZdQ"}},oKl5:function(e,t,i){e.exports={title:"SectionTypeLibraries-title-3B6e9v",divider:"SectionTypeLibraries-divider-2acpqi"}},oLRI:function(e,t,i){const n=i("2DfW").default,a=i("a4Cb");e.exports=a(n)},oQeb:function(e,t,i){"use strict";var n=i("CHn6"),a=i("mOXR");const s=n.a.extend({name:"ProviderEPGChannelModel",context:["provider"],rootPropertyName:"Channel",syncedAttrs:{id:a.a.string,thumb:a.a.string,title:a.a.string,hidden:a.a.boolean}});t.a=s},oRFc:function(e,t,i){e.exports={disclosureArrowLink:"DisclosureArrowLink-disclosureArrowLink-2tZpSu Link-link-2ew_DK",isSelected:"DisclosureArrowLink-isSelected-1ke9ld",small:"DisclosureArrowLink-small-2xeRpi",medium:"DisclosureArrowLink-medium-me93mt",large:"DisclosureArrowLink-large-3oPuWK",disclosureArrow:"DisclosureArrowLink-disclosureArrow-2QXL2b DisclosureArrow-disclosureArrow-1KPaBC",down:"DisclosureArrowLink-down-D5SyKC",left:"DisclosureArrowLink-left-3IbFw0",up:"DisclosureArrowLink-up-2voo1-",right:"DisclosureArrowLink-right-2imPuw"}},oToW:function(e,t,i){var n=i("3O+N");e.exports=(n.default||n).template((function(e,t,i,n,a){return this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),a=a||{},'<div class="result-region"> <div class="loading loading-inline"></div> </div> '}))},oayy:function(e,t,i){var n=i("3O+N");function a(e){return e&&(e.__esModule?e.default:e)}e.exports=(n.default||n).template((function(e,t,n,s,r){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),r=r||{};var o,l="",c=this.escapeExpression,d=this;function u(e,t){var n="";return n+=" "+c(a(i("d8WC")).call(e,"Confirm Current PIN",{hash:{},data:t}))+" "}function p(e,t){var i;return(i=n.if.call(e,e&&e.isOpeningAddManagedUser,{hash:{},inverse:d.program(11,m,t),fn:d.program(9,h,t),data:t}))||0===i?i:""}function h(e,t){var n="";return n+=" "+c(a(i("d8WC")).call(e,"Enter Admin PIN",{hash:{},data:t}))+" "}function m(e,t){var n="";return n+=" "+c(a(i("d8WC")).call(e,"Enter PIN",{hash:{},data:t}))+" "}function g(e,t){var n="";return n+=' <button type="button" class="remove-btn btn-gray pull-left">'+c(a(i("d8WC")).call(e,"Remove",{hash:{},data:t}))+"</button> "}function v(e,t){var n="";return n+=' <button type="button" class="skip-btn btn-gray" data-dismiss="modal">'+c(a(i("d8WC")).call(e,"Skip",{hash:{},data:t}))+"</button> "}function y(e,t){var n="";return n+=' <button type="button" class="cancel-btn btn-gray" data-dismiss="modal">'+c(a(i("d8WC")).call(e,"Cancel",{hash:{},data:t}))+"</button> "}return l+='<div class="modal-header"> <div class="home-user-dropdown-container pull-right"></div> <h4 class="modal-title"> ',((o=n.if.call(t,t&&t.showBackButton,{hash:{},inverse:d.noop,fn:d.program(1,(function(e,t){return' <a class="back-btn btn-gray" href="#"><i class="glyphicon chevron-left"></i></a> '}),r),data:r}))||0===o)&&(l+=o),l+=" ",((o=n.if.call(t,t&&t.isEditing,{hash:{},inverse:d.program(5,(function(e,t){var i;return(i=n.if.call(e,e&&e.isEditConfirmation,{hash:{},inverse:d.program(8,p,t),fn:d.program(6,u,t),data:t}))||0===i?i:""}),r),fn:d.program(3,(function(e,t){var n="";return n+=' <i class="modal-icon glyphicon pencil"></i> '+c(a(i("d8WC")).call(e,"Edit PIN",{hash:{},data:t}))+" "}),r),data:r}))||0===o)&&(l+=o),l+=' <span class="loading loading-sm hidden"></span> </h4> </div> <form id="pin-form"> <div class="modal-body"> <ul class="tile-list user-select-list disabled"></ul> <input type="number" pattern="[0-9]*" class="pin-input"> <a class="pin-forgot-link btn-gray hidden" href="https://www.plex.tv/pin-reset/" target="_blank">'+c(a(i("d8WC")).call(t,"Forgot?",{hash:{},data:r}))+'</a> <div class="pin-digit-container" aria-hidden="true"> <div class="pin-digit"></div> <div class="pin-digit"></div> <div class="pin-digit"></div> <div class="pin-digit"></div> </div> ',((o=n.if.call(t,t&&t.isEditWarning,{hash:{},inverse:d.noop,fn:d.program(13,(function(e,t){var n="";return n+=' <p class="help-block"> '+c(a(i("d8WC")).call(e,"You do not currently have a PIN. This will allow any users in this home to switch to your account.",{hash:{},data:t}))+" </p> "}),r),data:r}))||0===o)&&(l+=o),l+=" </div> ",((o=n.if.call(t,t&&t.isEditing,{hash:{},inverse:d.noop,fn:d.program(15,(function(e,t){var s,r="";return r+=' <div class="modal-footer"> ',((s=n.if.call(e,e&&e.hasCurrentPIN,{hash:{},inverse:d.noop,fn:d.program(16,g,t),data:t}))||0===s)&&(r+=s),r+=" ",((s=n.if.call(e,e&&e.isEditWarning,{hash:{},inverse:d.program(20,y,t),fn:d.program(18,v,t),data:t}))||0===s)&&(r+=s),r+=' <button type="submit" class="save-btn btn-link">'+c(a(i("d8WC")).call(e,"Save",{hash:{},data:t}))+"</button> </div> "}),r),data:r}))||0===o)&&(l+=o),l+=" </form> "}))},obfZ:function(e,t,i){e.exports={discoverPageContent:"DiscoverPage-discoverPageContent-3mJ50O PageContent-innerPageContent-3ktLTA",discoverPageList:"DiscoverPage-discoverPageList-3u-Jgf"}},ogHR:function(e,t,i){e.exports={decoratorIconContainer:"DecoratorIcon-decoratorIconContainer-2cRbIa",decoratorIcon:"DecoratorIcon-decoratorIcon-1Odh78"}},ogW7:function(e,t,i){e.exports={scroller:"VirtualListScroller-scroller-QdPYA9 Scroller-scroller-CQJq74"}},oucR:function(e,t,i){e.exports={sectionWrapper:"TwoFactorAuthSection-sectionWrapper-1W0bun SettingsFormSection-section-1zYMPA",description:"TwoFactorAuthSection-description-3mOew1",action:"TwoFactorAuthSection-action-pFmYvP"}},ovLB:function(e,t,i){e.exports={pageHeaderDivider:"PageHeaderDivider-pageHeaderDivider-1NwPUr"}},oz32:function(e,t,i){e.exports={measureContainer:"DirectoryListFilterMenu-measureContainer-BY7PKV",menuScroller:"DirectoryListFilterMenu-menuScroller-3GD7He Scroller-scroller-CQJq74",headerContainer:"DirectoryListFilterMenu-headerContainer-fAEzTJ",header:"DirectoryListFilterMenu-header-1C5kVg",filterOptionsContainer:"DirectoryListFilterMenu-filterOptionsContainer-2yL-jE",headerTitle:"DirectoryListFilterMenu-headerTitle-3_2Kx4",filterOptionsScroller:"DirectoryListFilterMenu-filterOptionsScroller-2MYItA DirectoryListFilterMenu-menuScroller-3GD7He Scroller-scroller-CQJq74",backIcon:"DirectoryListFilterMenu-backIcon-IINLdp",filterText:"DirectoryListFilterMenu-filterText-3_u9I3",searchInput:"DirectoryListFilterMenu-searchInput-3BccPR TextInput-input-1VMuma input-input-1P2Vi4",selectedMenuItem:"DirectoryListFilterMenu-selectedMenuItem-owGNxt SelectedMenuItem-menuItemContainer-2hXIr-",emptyText:"DirectoryListFilterMenu-emptyText-1GMJoR"}},p050:function(e,t,i){e.exports={loadingItem:"MetadataSimpleSummaryCellLoading-loadingItem-35Sst7",alternateLoadingItem:"MetadataSimpleSummaryCellLoading-alternateLoadingItem-2LPd55 MetadataSimpleSummaryCellLoading-loadingItem-35Sst7"}},p1pj:function(e,t,i){e.exports={emptyContainer:"PlaylistItemList-emptyContainer-3nMxMp",emptyMessage:"PlaylistItemList-emptyMessage-1ot0Cu PlaylistItemList-emptyContainer-3nMxMp"}},p2t2:function(e,t,i){e.exports={multiSelectContainer:"MultiSelectInputGroup-multiSelectContainer-2ePyeH",multiSelectItem:"MultiSelectInputGroup-multiSelectItem-qpRtxx",help:"MultiSelectInputGroup-help-FxDQrq FormHelp-help-3VCuqa"}},p7ty:function(e,t,i){"use strict";i.r(t);var n=i("B69o"),a=i("CHn6"),s=i("mOXR"),r=a.a.extend({name:"MatchResultModel",context:["server"],idAttribute:"guid",rootPropertyName:"SearchResult",syncedAttrs:{id:s.a.integer,guid:s.a.string,name:s.a.string,parentGUID:s.a.string,parentName:s.a.string,type:s.a.string,index:s.a.integer,score:s.a.integer,thumb:s.a.string,year:s.a.integer,matched:s.a.boolean,disambiguation:s.a.string,area:s.a.string,beginArea:s.a.string,lifespanBegin:s.a.string,lifespanEnd:s.a.string,summary:s.a.string},syncedRelations:{children:function(){return{relationClass:i("p7ty").default,rootPropertyName:"SearchResult"}}},derivedAttrs:{normalizedScore:function(){var e=this.get("score");if(null!=e)return Math.min(Math.max(e,0),100)}}}),o=n.a.extend({name:"MatchResultCollection",context:["server"],model:r,url:function(){return"/library/metadata/"+this.parent.id+"/matches"}});t.default=o},p9Lp:function(e,t,i){e.exports={container:"ServerDashboardPageMessage-container-2qUY4V",message:"ServerDashboardPageMessage-message-2iodXZ"}},p9a2:function(e,t,i){e.exports={item:"MetadataSimpleSummaryCell-item-2wMSiM",isActionsMenuOpen:"MetadataSimpleSummaryCell-isActionsMenuOpen-3iGW8j",button:"MetadataSimpleSummaryCell-button-T_Dfk_",titleEpisodeIndex:"MetadataSimpleSummaryCell-titleEpisodeIndex-fssXIX",alternateItem:"MetadataSimpleSummaryCell-alternateItem-2dz9an MetadataSimpleSummaryCell-item-2wMSiM",underlay:"MetadataSimpleSummaryCell-underlay-3j5Egl",overlay:"MetadataSimpleSummaryCell-overlay-18Efas",simpleSummaryContainer:"MetadataSimpleSummaryCell-simpleSummaryContainer-2b-1Rj",indexPlayContainer:"MetadataSimpleSummaryCell-indexPlayContainer-C8tSJA",playButtonContainer:"MetadataSimpleSummaryCell-playButtonContainer-CgWZXI",playButton:"MetadataSimpleSummaryCell-playButton-3yyum1 PlayButton-playButton-3WX8X- MetadataSimpleSummaryCell-button-T_Dfk_",miniProgressContainer:"MetadataSimpleSummaryCell-miniProgressContainer-3piSDJ",titleAndSummaryContainer:"MetadataSimpleSummaryCell-titleAndSummaryContainer-YfihRx",titleContainer:"MetadataSimpleSummaryCell-titleContainer-1kD2Ls",title:"MetadataSimpleSummaryCell-title-2SoJl0",summary:"MetadataSimpleSummaryCell-summary-1plSwU",actions:"MetadataSimpleSummaryCell-actions-2_Bywi",moreButton:"MetadataSimpleSummaryCell-moreButton-1mNpcu MetadataSimpleSummaryCell-button-T_Dfk_"}},pAB4:function(e,t,i){e.exports={concerts:"PrePlayConcerts-concerts-3r-qin",concertsLogo:"PrePlayConcerts-concertsLogo-oF29Rl"}},pIhj:function(e,t,i){e.exports={pageHeaderRight:"PageHeaderRight-pageHeaderRight-1dljwG"}},pIrp:function(e,t,i){e.exports={item:"MetadataSummaryCell-item-3B6Ccq",isActionsMenuOpen:"MetadataSummaryCell-isActionsMenuOpen-2SCBd-",button:"MetadataSummaryCell-button-zZgSeN",hasActiveSelection:"MetadataSummaryCell-hasActiveSelection-3nabOz",underlay:"MetadataSummaryCell-underlay-3M2OQt",isForcingSelection:"MetadataSummaryCell-isForcingSelection-2Iov2k",overlay:"MetadataSummaryCell-overlay-1lk0o5",editButton:"MetadataSummaryCell-editButton-2RfiY7 MetadataSummaryCell-button-zZgSeN",moreButton:"MetadataSummaryCell-moreButton-1rf6AI MetadataSummaryCell-button-zZgSeN",isSelected:"MetadataSummaryCell-isSelected-fha5M-",selectButton:"MetadataSummaryCell-selectButton-3KJeM6 SelectButton-selectButton-3Kbjm9 MetadataSummaryCell-button-zZgSeN",alternateItem:"MetadataSummaryCell-alternateItem-3K1M60 MetadataSummaryCell-item-3B6Ccq",posterContainer:"MetadataSummaryCell-posterContainer-1Vc-ob",summaryContainer:"MetadataSummaryCell-summaryContainer-6HJG5t",librarySummaryContainer:"MetadataSummaryCell-librarySummaryContainer-HZdA_F MetadataSummaryCell-summaryContainer-6HJG5t",titleContainer:"MetadataSummaryCell-titleContainer-p5H3cg",title:"MetadataSummaryCell-title-3jmFb3",doubleTitle:"MetadataSummaryCell-doubleTitle-39TlXL",subtitle:"MetadataSummaryCell-subtitle-1bwT6w MetadataSummaryCell-title-3jmFb3",rating:"MetadataSummaryCell-rating-2QtpgP",separator:"MetadataSummaryCell-separator-2zu7c5 DashSeparator-separator-4CyEFW",summary:"MetadataSummaryCell-summary-2xqysY",shorterSummary:"MetadataSummaryCell-shorterSummary-33vpwE MetadataSummaryCell-summary-2xqysY",actions:"MetadataSummaryCell-actions-1C9ShK",selectCoverButton:"MetadataSummaryCell-selectCoverButton-2nF-uP"}},pQgm:function(e,t,i){e.exports={scroller:"SortableLineup-scroller-195UUm Scroller-scroller-3GqQcZ"}},pRYq:function(e,t,i){var n=i("3O+N");e.exports=(n.default||n).template((function(e,t,i,n,a){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),a=a||{};var s,r="";return r+='<span class="message">',r+=(0,this.escapeExpression)((s=i.message)||"function"==typeof(s=t&&t.message)?s.call(t,{hash:{},data:a}):s)+"</span> "}))},pSrE:function(e,t,i){e.exports={container:"ChannelsGridRow-container-2sCkCm",title:"ChannelsGridRow-title-3AzG0n ChannelsGridRowTitle-container-2k8lvi",programsContainer:"ChannelsGridRow-programsContainer-TF5JSz",program:"ChannelsGridRow-program-1x1gRE ChannelsGridMetadataItemCell-container-2NM2za",progress:"ChannelsGridRow-progress-2ZqEd5"}},pWsU:function(e,t,i){var n=i("3O+N");function a(e){return e&&(e.__esModule?e.default:e)}e.exports=(n.default||n).template((function(e,t,n,s,r){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),r=r||{};var o,l="",c=this,d=this.escapeExpression;function u(e,t){var n,s="";return s+=' <option value="-1" ',((n=a(i("w+Xr")).call(e,null==(n=e&&e.selectedVideoQuality)||!1===n?n:n.index,-1,{hash:{},inverse:c.noop,fn:c.program(3,p,t),data:t}))||0===n)&&(s+=n),s+="> "+d(a(i("d8WC")).call(e,"Original",{hash:{},data:t}))+" </option> "}function p(e,t){return"selected"}function h(e,t,n){var s,r="";return r+=' <option value="'+d("function"==typeof(s=e&&e.index)?s.apply(e):s)+'" ',((s=a(i("w+Xr")).call(e,null==(s=n&&n.selectedVideoQuality)||!1===s?s:s.index,e&&e.index,{hash:{},inverse:c.noop,fn:c.program(3,p,t),data:t}))||0===s)&&(r+=s),r+="> "+d(a(i("HdxU")).call(e,e,{hash:{},data:t}))+" </option> "}function m(e,t,n){var s,r="";return r+=' <option value="'+d("function"==typeof(s=e&&e.index)?s.apply(e):s)+'" ',((s=a(i("w+Xr")).call(e,null==(s=n&&n.selectedMusicQuality)||!1===s?s:s.index,e&&e.index,{hash:{},inverse:c.noop,fn:c.program(3,p,t),data:t}))||0===s)&&(r+=s),r+="> "+d(a(i("806G")).call(e,e,{hash:{},data:t}))+" </option> "}function g(e,t,n){var s,r="";return r+=' <option value="'+d("function"==typeof(s=e&&e.index)?s.apply(e):s)+'" ',((s=a(i("w+Xr")).call(e,null==(s=n&&n.selectedPhotoQuality)||!1===s?s:s.index,e&&e.index,{hash:{},inverse:c.noop,fn:c.program(3,p,t),data:t}))||0===s)&&(r+=s),r+="> "+d("function"==typeof(s=e&&e.title)?s.apply(e):s)+" </option> "}return((o=a(i("w+Xr")).call(t,t&&t.typeElement,"video",{hash:{},inverse:c.noop,fn:c.program(1,(function(e,t){var i,a="";return a+=' <select class="sync-quality-select" name="videoQuality"> ',((i=n.if.call(e,e&&e.supportsOriginalQuality,{hash:{},inverse:c.noop,fn:c.program(2,u,t),data:t}))||0===i)&&(a+=i),a+=" ",((i=n.each.call(e,e&&e.availableVideoQualities,{hash:{},inverse:c.noop,fn:c.programWithDepth(5,h,t,e),data:t}))||0===i)&&(a+=i),a+=" </select> "}),r),data:r}))||0===o)&&(l+=o),l+=" ",((o=a(i("w+Xr")).call(t,t&&t.typeElement,"audio",{hash:{},inverse:c.noop,fn:c.program(7,(function(e,t){var i,a="";return a+=' <select class="sync-quality-select" name="musicQuality"> ',((i=n.each.call(e,e&&e.availableMusicQualities,{hash:{},inverse:c.noop,fn:c.programWithDepth(8,m,t,e),data:t}))||0===i)&&(a+=i),a+=" </select> "}),r),data:r}))||0===o)&&(l+=o),l+=" ",((o=a(i("w+Xr")).call(t,t&&t.typeElement,"photo",{hash:{},inverse:c.noop,fn:c.program(10,(function(e,t){var i,a="";return a+=' <select class="sync-quality-select" name="photoQuality"> ',((i=n.each.call(e,e&&e.availablePhotoQualities,{hash:{},inverse:c.noop,fn:c.programWithDepth(11,g,t,e),data:t}))||0===i)&&(a+=i),a+=" </select> "}),r),data:r}))||0===o)&&(l+=o),l+=' <p class="help-block">'+d(a(i("d8WC")).call(t,"Plex will convert your media to this quality and transfer the converted media to your device.",{hash:{},data:r}))+"</p> "}))},pWth:function(e,t,i){e.exports={noSources:"QuickSearchProviders-noSources-26m6pv"}},pXC0:function(e,t,i){"use strict";i.d(t,"b",(function(){return a})),i.d(t,"e",(function(){return s})),i.d(t,"a",(function(){return r})),i.d(t,"c",(function(){return o})),i.d(t,"d",(function(){return l}));var n=i("1Cr9");const a="none",s="video",r="audio",o="photo",l="rom",c=Object(n.a)(["id","typeString"],[{id:0,typeString:a},{id:1,typeString:s},{id:2,typeString:r},{id:3,typeString:o},{id:999,typeString:l}]);c.get,c.getAll},paCu:function(e,t,i){e.exports={statusContainer:"NavBarEmbeddedServerActivityMenuStatusItem-statusContainer-3czNOC NavBarActivityMenuStatusItem-statusContainer-Ml8vjL",statusTitle:"NavBarEmbeddedServerActivityMenuStatusItem-statusTitle-2LUdOL NavBarActivityMenuStatusItem-statusTitle-2hIH6G"}},pmMa:function(e,t,i){e.exports={sourceTitle:"HomeHubTitle-sourceTitle-39P-XL"}},pnnh:function(e,t,i){e.exports=function(e,t){function i(i){return{underscore:e,backbone:t}[i]}return function(e){function t(e){var i=t.cache[e];if(!i){var n={};i=t.cache[e]={id:e,exports:n},t.modules[e].call(n,i,n)}return i.exports}return t.cache=[],t.modules=[function(e,n){var a=i("underscore"),s=i("backbone"),r=t(2),o=t(5),l=t(4),c=t(1),d=t(7);function u(e,t){this._superset=e,this._filtered=new r(e,t),this._sorted=new o(this._filtered,t),this._paginated=new l(this._sorted,t),c(this._paginated,this),d.call(this,this._filtered,h),d.call(this,this._sorted,m),d.call(this,this._paginated,g),this.initialize(t)}var p={superset:function(){return this._superset},getFilteredLength:function(){return this._filtered.length},removeTransforms:function(){return this._filtered.resetFilters(),this._sorted.removeSort(),this._paginated.removePagination(),this},destroy:function(){this.stopListening(),this._filtered.destroy(),this._sorted.destroy(),this._paginated.destroy(),this.length=0,this.trigger("obscura:destroy")}},h=["filtered:add","filtered:remove","filtered:reset"],m=["sorted:add","sorted:remove"],g=["paginated:change:perPage","paginated:change:page","paginated:change:numPages"];a.each(["filterBy","removeFilter","resetFilters","refilter","hasFilter","getFilters"],(function(e){p[e]=function(){var t=r.prototype[e].apply(this._filtered,arguments);return t===this._filtered?this:t}})),a.each(["setPerPage","setPage","getPerPage","getNumPages","getPage","hasNextPage","hasPrevPage","nextPage","prevPage","movePage","removePagination","firstPage","lastPage"],(function(e){p[e]=function(){var t=l.prototype[e].apply(this._paginated,arguments);return t===this._paginated?this:t}})),a.each(["setSort","reverseSort","removeSort"],(function(e){p[e]=function(){var t=o.prototype[e].apply(this._sorted,arguments);return t===this._sorted?this:t}})),a.each(["add","create","remove","set","reset","sort","parse","sync","fetch","push","pop","shift","unshift"],(function(e){p[e]=function(){throw new Error("Backbone.Obscura: Unsupported method: "+e+"called on read-only proxy")}})),a.extend(u.prototype,p,s.Events),(u=s.Collection.extend(u.prototype)).FilteredCollection=r,u.SortedCollection=o,u.PaginatedCollection=l,e.exports=u},function(e,t){var n=i("underscore"),a=i("backbone"),s=["_onModelEvent","_prepareModel","_removeReference","_reset","add","initialize","sync","remove","reset","set","push","pop","unshift","shift","sort","parse","fetch","create","model","off","on","listenTo","listenToOnce","bind","trigger","once","stopListening"],r=["add","remove","reset","sort","destroy","sync","request","error"];e.exports=function(e,t){function i(){t.length=e.length}var o={};return n.each(n.functions(a.Collection.prototype),(function(t){n.contains(s,t)||(o[t]=function(){return e[t].apply(e,arguments)})})),n.extend(t,a.Events,o),t.listenTo(e,"all",i),t.listenTo(e,"all",(function(i){var a=n.toArray(arguments),s="change"===i||"change:"===i.slice(0,7);"reset"===i&&(t.models=e.models),n.contains(r,i)?(n.contains(["add","remove","destroy"],i)?a[2]=t:n.contains(["reset","sort"],i)&&(a[1]=t),t.trigger.apply(this,a)):s&&t.contains(a[1])&&t.trigger.apply(this,a)})),t.models=e.models,i(),t}},function(e,n){var a=i("underscore"),s=i("backbone"),r=t(1),o=t(3);function l(){this._filterResultCache={}}function c(e){for(var t in this._filterResultCache)this._filterResultCache.hasOwnProperty(t)&&delete this._filterResultCache[t][e]}function d(e,t){this._filters[e]&&c.call(this,e),this._filters[e]=t,this.trigger("filtered:add",e)}function u(e){delete this._filters[e],c.call(this,e),this.trigger("filtered:remove",e)}function p(e){this._filterResultCache[e.cid]||(this._filterResultCache[e.cid]={});var t=this._filterResultCache[e.cid];for(var i in this._filters)if(this._filters.hasOwnProperty(i)&&(t.hasOwnProperty(i)||(t[i]=this._filters[i].fn(e)),!t[i]))return!1;return!0}function h(e){e||(e={});var t=[];this._superset&&(t=this._superset.filter(a.bind(p,this))),e.reset?this._collection.reset(t):this._collection.set(t),this.length=this._collection.length}function m(){h.call(this,{reset:!0})}function g(){var e=!(!this._superset||!this._superset.comparator);h.call(this,{reset:e})}function v(e){if(this._filterResultCache[e.cid]={},p.call(this,e)){if(!this._collection.get(e.cid)){for(var t=null,i=this.superset().indexOf(e)-1;i>=0;i-=1)if(this.contains(this.superset().at(i))){t=this.indexOf(this.superset().at(i))+1;break}t=t||0,this._collection.add(e,{at:t})}}else this._collection.get(e.cid)&&this._collection.remove(e);this.length=this._collection.length}function y(e){this._filterResultCache[e.cid]={},p.call(this,e)||this._collection.get(e.cid)&&this._collection.remove(e)}function f(e,t,i){"change:"===e.slice(0,7)&&y.call(this,arguments[1])}function b(e){this.contains(e)&&this._collection.remove(e),this.length=this._collection.length}function I(e){this._superset=e,this._collection=new s.Collection(e.toArray()),r(this._collection,this),this.resetFilters(),this.listenTo(this._superset,"reset",m),this.listenTo(this._superset,"sort",g),this.listenTo(this._superset,"add change",v),this.listenTo(this._superset,"remove",b),this.listenTo(this._superset,"all",f)}var S={defaultFilterName:"__default",filterBy:function(e,t){return t||(t=e,e=this.defaultFilterName),d.call(this,e,o(t)),h.call(this),this},removeFilter:function(e){return e||(e=this.defaultFilterName),u.call(this,e),h.call(this),this},resetFilters:function(){return this._filters={},l.call(this),this.trigger("filtered:reset"),h.call(this),this},superset:function(){return this._superset},refilter:function(e){return"object"==typeof e&&e.cid?v.call(this,e):(l.call(this),h.call(this)),this},getFilters:function(){return a.keys(this._filters)},hasFilter:function(e){return a.contains(this.getFilters(),e)},destroy:function(){this.stopListening(),this._collection.reset([]),this._superset=this._collection,this.length=0,this.trigger("filtered:destroy")}};a.extend(I.prototype,S,s.Events),e.exports=I},function(e,t){var n=i("underscore");function a(e,t){return n.isArray(t)||(t=null),{fn:e,keys:t}}e.exports=function(e,t){return n.isFunction(e)?a(e,t):n.isObject(e)?function(e){var t=n.keys(e),i=n.map(t,(function(t){var i=e[t];return n.isFunction(i)?function(e,t){return function(i){return t(i.get(e))}}(t,i):function(e,t){return function(i){return i.get(e)===t}}(t,i)}));return a((function(e){for(var t=0;t<i.length;t++)if(!i[t](e))return!1;return!0}),t)}(e):void 0}},function(e,n){var a=i("underscore"),s=i("backbone"),r=t(1);function o(){var e=this.getPage()*this.getPerPage();return[e,e+this.getPerPage()]}function l(){var e=o.call(this);this._collection.reset(this.superset().slice(e[0],e[1]))}function c(){this._totalPages;var e=this.superset().length,t=this.getPerPage(),i=e%t==0?e/t:Math.floor(e/t)+1,n=this._totalPages!==i;if(this._totalPages=i,n&&this.trigger("paginated:change:numPages",{numPages:i}),this.getPage()>=i)return this.setPage(i-1),!0}function d(){c.call(this)||l.call(this)}function u(e,t){for(var i=a.max([e.length,t.length]),n=0,s=0;n<i;n+=1,s+=1)if(e[n]!==t[s])if(t[n-1]===e[n])s-=1;else{if(t[n+1]!==e[n])return e[n];s+=1}}function p(e,t,i){if(!c.call(this)){var n=o.call(this),a=n[0],s=n[1],r=u(this.superset().slice(a,s),this._collection.toArray()),l=u(this._collection.toArray(),this.superset().slice(a,s));l&&this._collection.remove(l),r&&this._collection.add(r,{at:this.superset().indexOf(r)-a})}}function h(e,t){this._superset=e,this._collection=new s.Collection(e.toArray()),this._page=0,this.setPerPage(t&&t.perPage?t.perPage:null),r(this._collection,this),this.listenTo(this._superset,"add remove",p),this.listenTo(this._superset,"reset sort",d)}var m={removePagination:function(){return this.setPerPage(null),this},setPerPage:function(e){return this._perPage=e,d.call(this),this.setPage(0),this.trigger("paginated:change:perPage",{perPage:e,numPages:this.getNumPages()}),this},setPage:function(e){var t=this.getNumPages()-1;return e=(e=(e=e>0?e:0)<t?e:t)<0?0:e,this._page=e,l.call(this),this.trigger("paginated:change:page",{page:e}),this},getPerPage:function(){return this._perPage||this.superset().length||1},getNumPages:function(){return this._totalPages},getPage:function(){return this._page},hasNextPage:function(){return this.getPage()<this.getNumPages()-1},hasPrevPage:function(){return this.getPage()>0},nextPage:function(){return this.movePage(1),this},prevPage:function(){return this.movePage(-1),this},firstPage:function(){this.setPage(0)},lastPage:function(){this.setPage(this.getNumPages()-1)},movePage:function(e){return this.setPage(this.getPage()+e),this},superset:function(){return this._superset},destroy:function(){this.stopListening(),this._collection.reset([]),this._superset=this._collection,this._page=0,this._totalPages=0,this.length=0,this.trigger("paginated:destroy")}};a.extend(h.prototype,m,s.Events),e.exports=h},function(e,n){var a=i("underscore"),s=i("backbone"),r=t(1),o=t(6);function l(e){return a.isFunction(e)?e:function(t){return t.get(e)}}function c(e){return this._comparator?this._reverse?o(this._collection.toArray(),e,l(this._comparator)):a.sortedIndex(this._collection.toArray(),e,l(this._comparator)):this._superset.indexOf(e)}function d(e){var t=c.call(this,e);this._collection.add(e,{at:t})}function u(e){this.contains(e)&&this._collection.remove(e)}function p(e){this.contains(e)&&this._collection.indexOf(e)!==c.call(this,e)&&(this._collection.remove(e),d.call(this,e))}function h(){if(this._comparator){var e=this._superset.sortBy(this._comparator);this._collection.reset(this._reverse?e.reverse():e)}else this._collection.reset(this._superset.toArray())}function m(e){this._superset=e,this._reverse=!1,this._comparator=null,this._collection=new s.Collection(e.toArray()),r(this._collection,this),this.listenTo(this._superset,"add",d),this.listenTo(this._superset,"remove",u),this.listenTo(this._superset,"change",p),this.listenTo(this._superset,"reset",h)}var g={setSort:function(e,t){return this._reverse="desc"===t,this._comparator=e,h.call(this),e?this.trigger("sorted:add"):this.trigger("sorted:remove"),this},reverseSort:function(){return this._reverse=!this._reverse,h.call(this),this},removeSort:function(){return this.setSort(),this},superset:function(){return this._superset},destroy:function(){this.stopListening(),this._collection.reset([]),this._superset=this._collection,this.length=0,this.trigger("sorted:destroy")}};a.extend(m.prototype,g,s.Events),e.exports=m},function(e,t){var n=i("underscore");e.exports=function(e,t,i,a){for(var s=(i=null==i?n.identity:function(e){return n.isFunction(e)?e:function(t){return t[e]}}(i)).call(a,t),r=0,o=e.length;r<o;){var l=r+o>>>1;i.call(a,e[l])<s?o=l:r=l+1}return r}},function(e,t){var n=i("underscore");e.exports=function(e,t){n.each(t,(function(t){this.listenTo(e,t,(function(){var e=n.toArray(arguments);e.unshift(t),this.trigger.apply(this,e)}))}),this)}}],t(0)}()}(i("F/us"),i("zLeb"))},puJ8:function(e,t,i){e.exports={title:"ConflictTitle-title-1g7j7l",secondaryTitle:"ConflictTitle-secondaryTitle-2kiOLQ"}},pxcU:function(e,t,i){"use strict";var n=i("CHn6"),a=i("mOXR"),s=i("HQmg");const r=n.a.extend({name:"FilterModel",context:["server","section","type","standalone"],idAttribute:"filter",rootPropertyName:"Directory",defaults:{advanced:!1},syncedAttrs:{filter:a.a.string,filterType:a.a.string,type:a.a.string,key:a.a.string,title:a.a.string,advanced:a.a.boolean},syncedRelations:{options:{relationClass:s.a}}});t.a=r},q3pM:function(e,t,i){e.exports={loadingItem:"SharedItemMetadataCellLoading-loadingItem-2GrG2c",alternateLoadingItem:"SharedItemMetadataCellLoading-alternateLoadingItem-1xEfhx SharedItemMetadataCellLoading-loadingItem-2GrG2c",posterContainer:"SharedItemMetadataCellLoading-posterContainer-3rtpMI"}},qGiH:function(e,t,i){e.exports={description:"AccountPage-description-2EgbIA",sectionDetails:"AccountPage-sectionDetails-1Td4Vy SettingsFormSectionDetails-sectionDetails-2rJ3jd"}},qM40:function(e,t,i){e.exports={container:"UsersSettingsRowName-container-2JjONh",titleContainer:"UsersSettingsRowName-titleContainer-3LIPWK",title:"UsersSettingsRowName-title-kkZcaJ",subtitle:"UsersSettingsRowName-subtitle-2kYoSI",statusContainer:"UsersSettingsRowName-statusContainer-WYR7Dv",status:"UsersSettingsRowName-status-3Dp2rT",admin:"UsersSettingsRowName-admin-3uMu0o"}},qNzc:function(e,t,i){"use strict";i.d(t,"e",(function(){return n})),i.d(t,"d",(function(){return a})),i.d(t,"c",(function(){return s})),i.d(t,"a",(function(){return r})),i.d(t,"b",(function(){return o}));const n="stopped",a="playing",s="paused",r="buffering",o="error"},qR6r:function(e,t,i){e.exports={input:"Select-input-1OU8QF",select:"Select-select-LY3OYE",small:"Select-small-9auucE",medium:"Select-medium-wyEgAx",large:"Select-large-1LpoL2",isDisabled:"Select-isDisabled-3JKUiC",hasError:"Select-hasError-1CtTId"}},qlzh:function(e,t,i){var n=i("3O+N");function a(e){return e&&(e.__esModule?e.default:e)}e.exports=(n.default||n).template((function(e,t,n,s,r){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),r=r||{};var o,l="",c=this.escapeExpression;return l+='<form id="sync-form" class="settings-container"> <div class="modal-body"> <div class="form-group"> <label class="control-label" for="sync-title">'+c(a(i("d8WC")).call(t,"Title",{hash:{},data:r}))+'</label> <input type="text" id="sync-title" name="title" class="form-control" value="'+c("function"==typeof(o=null==(o=t&&t.syncItem)||!1===o?o:o.title)?o.apply(t):o)+'" placeholder="'+c("function"==typeof(o=null==(o=t&&t.syncItem)||!1===o?o:o.title)?o.apply(t):o)+'"> </div> <div class="policy-region"></div> <div class="quality-region"></div> </div> <div class="modal-footer"> <button type="button" class="btn btn-default" data-dismiss="modal">'+c(a(i("d8WC")).call(t,"Cancel",{hash:{},data:r}))+'</button> <button type="submit" class="submit-btn btn btn-primary btn-loading"> <div class="loading loading-sm"></div> <span class="btn-label">',((o=n.if.call(t,t&&t.isNew,{hash:{},inverse:this.program(3,(function(e,t){return c(a(i("d8WC")).call(e,"Save",{hash:{},data:t}))}),r),fn:this.program(1,(function(e,t){return c(a(i("d8WC")).call(e,"Sync",{hash:{},data:t}))}),r),data:r}))||0===o)&&(l+=o),l+="</span> </button> </div> </form> "}))},qoqg:function(e,t,i){e.exports={input:"TextInput-input-1VMuma input-input-1P2Vi4",small:"TextInput-small-2i2et0 input-small-3LyjJH",large:"TextInput-large-2sz70T input-large-3wNGTy",isDisabled:"TextInput-isDisabled-3hj7IS input-isDisabled-2FiSY3",hasError:"TextInput-hasError-3FVrzH input-hasError-1to6Ql"}},qpNu:function(e,t,i){"use strict";var n=i("slDQ");t.a=function(e,t){Object(n.a)(function(e){return e&&("function"==typeof e||Object.values(e).every(e=>"function"==typeof e))}("object"==typeof e?e:t),"Callback must be a function")}},"qr/E":function(e,t,i){e.exports={container:"UsersSettingsRowShares-container-30EeNi",status:"UsersSettingsRowShares-status-O26EBM"}},"r+/Q":function(e,t,i){e.exports={card:"QuickSearchTagPosterCard-card-3RJG3x TagPosterCard-card-RVD0Dw MetadataPosterCardFace-poster-L2P6rC"}},r2QQ:function(e,t,i){e.exports={recordButton:"LiveTVRecordButton-recordButton-3o22mL",recordingProgressBarContainer:"LiveTVRecordButton-recordingProgressBarContainer-2S-XB4 CircularProgressBar-absoluteCenterCircularProgressBarContainer--zr4W7",recordingProgressBackground:"LiveTVRecordButton-recordingProgressBackground-3vdcHr CircularProgressBar-circularProgressBarBackground-1a1VUp CircularProgressBar-circularProgressBarBackground-RvD8Ob",playerButton:"LiveTVRecordButton-playerButton-3pFcSJ PlayerIconButton-playerButton-1DmNp4 IconButton-button-9An-7I",playerButtonRecording:"LiveTVRecordButton-playerButtonRecording-2gpjKi LiveTVRecordButton-playerButton-3pFcSJ PlayerIconButton-playerButton-1DmNp4 IconButton-button-9An-7I"}},r3vD:function(e,t,i){e.exports={bar:"RomFullPlayer-bar-1JS_af",topBar:"RomFullPlayer-topBar-JnSwUa RomFullPlayer-bar-1JS_af",bottomBar:"RomFullPlayer-bottomBar-3D1zEx RomFullPlayer-bar-1JS_af",content:"RomFullPlayer-content-2V1V4Q",spinnerContainer:"RomFullPlayer-spinnerContainer-YDtMMH",overlayButton:"RomFullPlayer-overlayButton-3RL_Mc Button-button-2kT68l Link-link-2n0yJn",videoTopBar:"RomFullPlayer-videoTopBar-NG4kd5",playQueueTopBar:"RomFullPlayer-playQueueTopBar-swgINA",topBarHidden:"RomFullPlayer-topBarHidden-pdOVo7",bottomBarHidden:"RomFullPlayer-bottomBarHidden-21pB18"}},"r4V+":function(e,t,i){e.exports={menuButton:"ServerDashboardMenuButton-menuButton-1zwB4s DisclosureArrowButton-disclosureArrowButton-11LSbY Link-link-2n0yJn"}},r5Me:function(e,t,i){e.exports={item:"AddToLibraryMenuItem-item-3Q9Aau"}},r8pT:function(e,t,i){e.exports={form:"DVRSettingsModalContent-form-2-MX9z"}},"rC/d":function(e,t,i){e.exports={container:"FirstRunExperiencePage-container-39Qadj"}},rG0a:function(e,t,i){"use strict";var n=i("htvf"),a=i("Eeuk");const s=n.a.extend({mixins:a.a});t.a=new s},rHf3:function(e,t,i){"use strict";var n=i("F/us"),a=i.n(n),s=i("+X4A"),r=i("cgRT"),o=i("CHn6"),l=i("mOXR"),c=i("y3BC"),d=i("tibn");var u={exclusiveBoolAttr(e){this.listenTo(this,"change:"+e,(t,i)=>{i&&this.each(n=>{n.set(e,n===t&&i)})})}},p=i("B69o"),h=i("8uQ2");var m=o.a.extend({name:"LyricsSpanModel",context:["server","section"],sessionAttrs:{active:l.a.boolean},syncedAttrs:{startOffset:l.a.integer,endOffset:l.a.integer,text:l.a.string},defaults:{startOffset:-1,endOffset:-1},isPositionWithin(e){const t=this.get("startOffset"),i=this.get("endOffset");if(-1===t)return!1;return e>=t&&(e<=i||-1===i)}});var g=p.a.extend({name:"LyricsSpanCollection",context:["server","section"],model:m});var v=o.a.extend({name:"LyricsLineModel",context:["server","section"],syncedAttrs:{startOffset:l.a.integer,endOffset:l.a.integer},syncedRelations:{spans:{relationClass:g,rootPropertyName:"Span"}},defaults:{startOffset:-1,endOffset:-1}});var y=p.a.extend({name:"LyricsLineCollection",context:["server","section"],model:v,eachSpan(e){this.each(t=>{t.get("spans").each(e)})}});var f=o.a.extend({name:"LyricsStreamModel",context:["server","provider","section"],rootPropertyName:"Lyrics",mergeStrategy:h.a,url(){return s.join(this.get("key"),{format:"xml"})},sessionAttrs:{follow:l.a.boolean,lyricsError:l.a.object},syncedAttrs:{id:l.a.string,key:l.a.string,streamType:l.a.integer,index:l.a.integer,title:l.a.string,selected:l.a.boolean,codec:l.a.string,provider:l.a.string,format:l.a.string,minLines:l.a.integer,timed:l.a.boolean},syncedRelations:{lines:{relationClass:y,rootPropertyName:"Line"}},defaults:{follow:!0,selected:!1,lyricsError:null}});var b=p.a.extend({mixins:[u],name:"LyricsStreamCollection",context:["server","provider","section"],model:f,initialize(){this.exclusiveBoolAttr("selected")}}),I=i("KKL4"),S=i("xx2m"),C=i("FIl5"),M=i("WfN5"),D=i("7za+"),P=i("bcER");var O=o.a.extend({name:"PlayQueueItemModel",context:["server","provider"],syncedAttrs:{url:l.a.string}});const j=o.a.extend({name:"PlayQueueItemModel",context:["server","provider","identifier","mediaTagPrefix","mediaTagVersion"],entityType:D.j,entityID(e=this.state){return Object(M.a)(this.entityType,e.playQueueItemID,this.server.entityID())},idAttribute:"playQueueItemID",cache:new I.a,cacheKey(e){return this.server&&this.server.getScopedKey(e.playQueueItemID)},sessionAttrs:{isPlayQueueItem:l.a.boolean,isLocal:l.a.boolean},syncedAttrs:{playQueueItemID:l.a.string,queueIndex:l.a.integer,key:l.a.string,ratingKey:l.a.string,type:l.a.string,subtype:l.a.string,advertisement:l.a.boolean,allowSkipAfter:l.a.integer,librarySectionID:l.a.string,hasPremiumLyrics:l.a.boolean,syncItemId:l.a.integer,generatorID:l.a.integer,generatorType:l.a.integer,clientIdentifier:l.a.string,target:l.a.string},syncedRelations:{metadataItem:{relationClass:d.a,deferred:!0},lyricsStreams:{relationClass:b,deferred:!0},vast:{relationClass:O,deferred:!0}},sessionRelations:{postPlay:{relationClass:c.default,options(){return{url:"hubs/metadata/"+this.get("metadataItem").id+"/postplay"}}}},defaults:{isPlayQueueItem:!0,isLocal:!1},augmentResponse(e){const t=a.a.pick(e,Object.keys(this.syncedAttrs)),{Vast:i}=e;if(i){const e=Object(r.c)("appModel"),n=e&&e.get("deviceSettings");(n&&n.get("debugAdKind")||S.a.NONE)===S.a.VAST&&(i.url=s.join(i.url,{debug:1})),t.vast=i}t.metadataItem=e;const n=a.a.first(C.a.parseArray(e.Media));if(n){const e=a.a.first(C.a.parseArray(n.Part));if(e){const i=C.a.parseArray(e.Stream);if(i){const e=P.a.get("lyrics");t.lyricsStreams=a.a.filter(i,t=>C.a.parseInteger(t.streamType)===e.id)}}}return t}});t.a=j},rNFJ:function(e,t,i){e.exports={playerButton:"PlayerIconButton-playerButton-1DmNp4 IconButton-button-9An-7I",isPrimary:"PlayerIconButton-isPrimary-cD9yVe"}},rT61:function(e,t,i){e.exports={separator:"DashSeparator-separator-4CyEFW"}},rU2Z:function(e,t,i){e.exports={button:"PhotoFullPlayerOverlays-button-1anMgY",leftButton:"PhotoFullPlayerOverlays-leftButton-2bCve6 PhotoFullPlayerOverlays-button-1anMgY",rightButton:"PhotoFullPlayerOverlays-rightButton-3cTEzQ PhotoFullPlayerOverlays-button-1anMgY",topBar:"PhotoFullPlayerOverlays-topBar-45GYUI",hideOverlays:"PhotoFullPlayerOverlays-hideOverlays-eccNex",playButton:"PhotoFullPlayerOverlays-playButton-35mXLy"}},rUJk:function(e,t,i){e.exports={serverMenuItem:"ServerMenuItem-serverMenuItem-2djO5d",disabledServerMenuItem:"ServerMenuItem-disabledServerMenuItem-22OGfg",selectedServerMenuItem:"ServerMenuItem-selectedServerMenuItem-jaUTXA",serverMenuItemContainer:"ServerMenuItem-serverMenuItemContainer-1DS9VM",serverMenuTitle:"ServerMenuItem-serverMenuTitle-1s5qRg",serverMenuFriendlyName:"ServerMenuItem-serverMenuFriendlyName-37Gt74",serverMenuDetails:"ServerMenuItem-serverMenuDetails-1-Rfql",serverMenuIconContainer:"ServerMenuItem-serverMenuIconContainer-2WtBGs",serverMenuIcon:"ServerMenuItem-serverMenuIcon-2zKCW4",selectedIcon:"ServerMenuItem-selectedIcon-dhK05-",secureIcon:"ServerMenuItem-secureIcon-3-O-_k"}},rXDx:function(e,t,i){"use strict";i.d(t,"j",(function(){return r})),i.d(t,"o",(function(){return o})),i.d(t,"n",(function(){return l})),i.d(t,"f",(function(){return c})),i.d(t,"b",(function(){return d})),i.d(t,"a",(function(){return u})),i.d(t,"p",(function(){return p})),i.d(t,"d",(function(){return h})),i.d(t,"k",(function(){return m})),i.d(t,"l",(function(){return g})),i.d(t,"m",(function(){return v})),i.d(t,"e",(function(){return y})),i.d(t,"i",(function(){return f})),i.d(t,"g",(function(){return b})),i.d(t,"c",(function(){return I})),i.d(t,"h",(function(){return S})),i.d(t,"q",(function(){return M})),i.d(t,"u",(function(){return D})),i.d(t,"r",(function(){return P})),i.d(t,"s",(function(){return O})),i.d(t,"t",(function(){return j})),i.d(t,"w",(function(){return w})),i.d(t,"v",(function(){return T})),i.d(t,"y",(function(){return E})),i.d(t,"x",(function(){return N}));var n=i("66GW"),a=i("1Cr9"),s=i("pXC0");const r="movie",o="show",l="season",c="episode",d="artist",u="album",p="track",h="clip",m="photo",g="photoalbum",v="playlist",y="collection",f="mixed",b="folder",I="channel",S="game",C=Object(a.a)(["id","typeString"],[{id:1,typeString:r,title:()=>Object(n.default)("Movie"),plural:()=>Object(n.default)("Movies"),mediaType:s.e},{id:2,typeString:o,title:()=>Object(n.default)("Show"),plural:()=>Object(n.default)("Shows"),mediaType:s.b,child:l},{id:3,typeString:l,title:()=>Object(n.default)("Season"),plural:()=>Object(n.default)("Seasons"),mediaType:s.b,parent:o,child:c},{id:4,typeString:c,title:()=>Object(n.default)("Episode"),plural:()=>Object(n.default)("Episodes"),mediaType:s.e,parent:l},{id:5,typeString:"trailer",title:()=>Object(n.default)("Trailer"),plural:()=>Object(n.default)("Trailers"),mediaType:s.e},{id:6,typeString:"comic",title:()=>Object(n.default)("Comic"),plural:()=>Object(n.default)("Comics"),mediaType:s.c},{id:7,typeString:"person",title:()=>Object(n.default)("Person"),plural:()=>Object(n.default)("People"),mediaType:s.b},{id:8,typeString:d,title:()=>Object(n.default)("Artist"),plural:()=>Object(n.default)("Artists"),mediaType:s.b,child:u},{id:9,typeString:u,title:()=>Object(n.default)("Album"),plural:()=>Object(n.default)("Albums"),mediaType:s.b,parent:d,child:p},{id:10,typeString:p,title:()=>Object(n.default)("Track"),plural:()=>Object(n.default)("Tracks"),mediaType:s.a,parent:u},{id:11,typeString:"picture",title:()=>Object(n.default)("Picture"),plural:()=>Object(n.default)("Pictures"),mediaType:s.c},{id:12,typeString:h,title:()=>Object(n.default)("Clip"),plural:()=>Object(n.default)("Clips"),mediaType:s.e},{id:13,typeString:m,title:()=>Object(n.default)("Photo"),plural:()=>Object(n.default)("Photos"),mediaType:s.c,parent:g},{id:14,typeString:g,title:()=>Object(n.default)("Photo Album"),plural:()=>Object(n.default)("Photo Albums"),mediaType:s.b,child:m},{id:15,typeString:v,title:()=>Object(n.default)("Playlist"),plural:()=>Object(n.default)("Playlists"),mediaType:s.b,parent:g},{id:16,typeString:"playlistFolder",title:()=>Object(n.default)("Playlist"),plural:()=>Object(n.default)("Playlists"),mediaType:s.b,child:v},{id:18,typeString:y,title:()=>Object(n.default)("Collection"),plural:()=>Object(n.default)("Collections"),mediaType:s.b},{id:19,typeString:S,title:()=>Object(n.default)("Game"),plural:()=>Object(n.default)("Games"),mediaType:s.d}]),M=C.contains,D=C.get,P=C.getAll;function O(e){const t=C.get(e);if(t&&t.child)return C.get(t.child)}function j(e){const t=C.get(e);if(t){const e=t.child;return null==e?t:j(e)}}function w(e){const t=C.get(e);if(t){const e=t.parent;return null==e?t:w(e)}}function T(e,t){if(!t){const t=w(e);return t?T(t.id,[]):[]}const i=C.get(e),n=O(e),a=[...t,i];return n?T(n.id,a):a}function E(e){return!!O(e)}function N(e){const t=C.get(e);return!!t&&t.mediaType===s.b}},rXhf:function(e,t,i){e.exports={listItem:"SessionTile-listItem-2PZHxn",mediaInformationContainer:"SessionTile-mediaInformationContainer-2Wl9vI",posterContainer:"SessionTile-posterContainer-26-HyO",attribution:"SessionTile-attribution-2OICdx",infoContainer:"SessionTile-infoContainer-TH6GXu",previewThumbnailContainer:"SessionTile-previewThumbnailContainer-3TB_Bz",metadataText:"SessionTile-metadataText-2B-EHG",visibleProgressBar:"SessionTile-visibleProgressBar-3nkcPJ",title:"SessionTile-title-3MkbNc",subtitle:"SessionTile-subtitle-3JYsEl",progressTrack:"SessionTile-progressTrack-3guOYU",progressPercent:"SessionTile-progressPercent-3iLgUW",playProgressPercent:"SessionTile-playProgressPercent-1_FcEg SessionTile-progressPercent-3iLgUW",transcodeProgressPercent:"SessionTile-transcodeProgressPercent-K1k4ZQ SessionTile-progressPercent-3iLgUW",detailsContainer:"SessionTile-detailsContainer-30PbCu",detailsContainerExpanded:"SessionTile-detailsContainerExpanded-1fXFk6",userContainer:"SessionTile-userContainer-2O2uBF",stopButton:"SessionTile-stopButton-367qa4 Link-link-2ew_DK",stopIcon:"SessionTile-stopIcon-118Toq",avatarImg:"SessionTile-avatarImg-m5Yohf AvatarImg-avatar-3Op56u",username:"SessionTile-username-1w5mFj"}},reQb:function(e,t,i){e.exports={tidal:"InnerProviderErrorPage-tidal-3tCQVW EmptyPage-icon-31D3ZA"}},repV:function(e,t,i){"use strict";i.r(t);var n=i("sWYD");t.default=function(e,t="MMMM d, yyyy"){return e?Object(n.a)(e,t):""}},rfp9:function(e,t,i){"use strict";var n=i("jvu3"),a=i("PE3u");t.a=Object(a.a)((function(e=-1,t=-1,i=n.c,a=0,s=0,r){let o;if(i===n.b)o={display:"none"};else{switch(o={position:"absolute",width:-1===t?"100%":t+"px",height:-1===e?"100%":e+"px"},i){case n.a:o.bottom=s||0,o.left=a||0;break;case n.c:o.top=s||0,o.left=a||0}r&&(o.zIndex=1)}return o}))},roTl:function(e,t,i){var n=i("3O+N");e.exports=(n.default||n).template((function(e,t,n,a,s){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),s=s||{};var r,o="";return o+='<div class="modal-dialog"> <div class="modal-content"> <div class="modal-header"> <button type="button" class="close" data-dismiss="modal"><i class="glyphicon remove-2"></i></button> <h4 class="modal-title"><i class="modal-icon glyphicon download"></i> '+(0,this.escapeExpression)((r=i("d8WC"),r&&(r.__esModule?r.default:r)).call(t,"Sync",{hash:{},data:s}))+'</h4> </div> <div class="modal-body-region"></div> </div> </div> '}))},roui:function(e,t,i){e.exports={modalContainer:"Modal-modalContainer-FhCOaJ",modalBackdrop:"Modal-modalBackdrop-2QqdlT",modal:"Modal-modal-3v30kQ",small:"Modal-small-3khlbk Modal-modal-3v30kQ",medium:"Modal-medium-3wftUS Modal-modal-3v30kQ",large:"Modal-large-3ySrkU Modal-modal-3v30kQ"}},"ryK+":function(e,t,i){var n=i("3O+N");function a(e){return e&&(e.__esModule?e.default:e)}e.exports=(n.default||n).template((function(e,t,n,s,r){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),r=r||{};var o="",l=this.escapeExpression;return o+='<div class="modal-dialog"> <div class="modal-content"> <form name="add-folder-form"> <div class="modal-header"> <button type="button" class="close" data-dismiss="modal"><i class="glyphicon remove-2"></i></button> <h4 class="modal-title"><i class="modal-icon glyphicon folder-plus"></i> '+l(a(i("d8WC")).call(t,"Add Folder",{hash:{},data:r}))+'</h4> </div> <div class="modal-body modal-body-scroll dark-scrollbar"> <div class="row"> <div class="col-md-12"> <input type="text" name="path" class="form-control" value=""> </div> </div> <div class="row directory-container-row"> <div class="home-directory-container col-md-5"></div> <div class="col-md-7"> <div class="path-container"></div> <div class="file-container"></div> </div> </div> </div> <div class="modal-footer"> <button type="button" class="cancel-btn btn btn-default" data-dismiss="modal">'+l(a(i("d8WC")).call(t,"Cancel",{hash:{},data:r}))+'</button> <button type="submit" class="add-btn btn btn-primary">'+l(a(i("d8WC")).call(t,"Add",{hash:{},data:r}))+"</button> </div> </form> </div> </div> "}))},rymg:function(e,t,i){e.exports={heading:"AudioVideoFullPlayerContentHeading-heading-1XO9q-"}},s1Aa:function(e,t,i){var n=i("3O+N");e.exports=(n.default||n).template((function(e,t,i,n,a){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),a=a||{};var s,r="",o=this;function l(e,t){return' <button class="settings-btn media-poster-btn btn-link" tabindex="-1"><i class="glyphicon cogwheel"></i></button> '}return r+='<div class="media-poster-container"> <div class="media-poster"> ',((s=i.unless.call(t,t&&t.shared,{hash:{},inverse:o.noop,fn:o.program(1,(function(e,t){var n,a="";return a+=' <div class="media-poster-overlay"></div> <div class="media-poster-actions"> ',((n=i.if.call(e,null==(n=e&&e.item)||!1===n?n:n.hasPrefs,{hash:{},inverse:o.noop,fn:o.program(2,l,t),data:t}))||0===n)&&(a+=n),a+=' <button class="uninstall-btn media-poster-btn btn-link btn-danger" tabindex="-1"><i class="glyphicon remove-2"></i></button> </div> '}),a),data:a}))||0===s)&&(r+=s),r+=' <div class="loading loading-inline"></div> </div> <div class="media-title media-heading"></div> <div class="media-subtitle-1 media-heading secondary"></div> </div> '}))},s2Sz:function(e,t,i){e.exports={overlay:"EPGPosterCardOverlay-overlay-21AW0j",background:"EPGPosterCardOverlay-background-nZkC7i",link:"EPGPosterCardOverlay-link-hVinzR",subscriptionBadge:"EPGPosterCardOverlay-subscriptionBadge-2DXamf MetadataPosterCardOverlay-badge-1FU-pf",subscriptionBadgeIcon:"EPGPosterCardOverlay-subscriptionBadgeIcon-2CSvdG",progress:"EPGPosterCardOverlay-progress-2KBp3y PosterCardOverlayProgress-progress-16k0BJ",button:"EPGPosterCardOverlay-button-1-wi-B MetadataPosterCardOverlay-button-M43H-q",playButton:"EPGPosterCardOverlay-playButton-2VFIkB RecordButton-recordButton-1BGtat PlayButton-playButton-3WX8X- RecordIcon-recordIconContainer-1PXGA2 EPGPosterCardOverlay-button-1-wi-B MetadataPosterCardOverlay-button-M43H-q",recordButton:"EPGPosterCardOverlay-recordButton-hPelUi RecordButton-recordButton-1BGtat PlayButton-playButton-3WX8X- RecordIcon-recordIconContainer-1PXGA2 EPGPosterCardOverlay-button-1-wi-B MetadataPosterCardOverlay-button-M43H-q",playCoverButton:"EPGPosterCardOverlay-playCoverButton-virTg2 EPGPosterCardOverlay-playButton-2VFIkB RecordButton-recordButton-1BGtat PlayButton-playButton-3WX8X- RecordIcon-recordIconContainer-1PXGA2 EPGPosterCardOverlay-button-1-wi-B MetadataPosterCardOverlay-button-M43H-q",playCircle:"EPGPosterCardOverlay-playCircle-3e6vzW MetadataPosterCardOverlay-playCircle-M67q6x PlayButton-playCircle-3Evfdw MetadataPosterCardOverlay-centerCircle-1Mg-s-",recordCoverButton:"EPGPosterCardOverlay-recordCoverButton-3QBBow EPGPosterCardOverlay-recordButton-hPelUi RecordButton-recordButton-1BGtat PlayButton-playButton-3WX8X- RecordIcon-recordIconContainer-1PXGA2 EPGPosterCardOverlay-button-1-wi-B MetadataPosterCardOverlay-button-M43H-q",recordCircle:"EPGPosterCardOverlay-recordCircle-fVDxDI RecordIcon-recordCircle-176nlN PlayButton-playCircle-3Evfdw MetadataPosterCardOverlay-centerCircle-1Mg-s-",recordIcon:"EPGPosterCardOverlay-recordIcon-1-ns13 RecordIcon-recordIcon-2ygXS_",recordButtonBottom:"EPGPosterCardOverlay-recordButtonBottom-18I3qt EPGPosterCardOverlay-recordButton-hPelUi RecordButton-recordButton-1BGtat PlayButton-playButton-3WX8X- RecordIcon-recordIconContainer-1PXGA2 EPGPosterCardOverlay-button-1-wi-B MetadataPosterCardOverlay-button-M43H-q",recordCircleBottom:"EPGPosterCardOverlay-recordCircleBottom-3rJ86p EPGPosterCardOverlay-recordCircle-fVDxDI RecordIcon-recordCircle-176nlN PlayButton-playCircle-3Evfdw MetadataPosterCardOverlay-centerCircle-1Mg-s-",recordIconBottom:"EPGPosterCardOverlay-recordIconBottom-1cF9xa RecordIcon-recordIcon-2ygXS_",isActionsMenuOpen:"EPGPosterCardOverlay-isActionsMenuOpen-1O_P26"}},s4MQ:function(e,t,i){e.exports={summary:"PrePlaySummary-summary-1NL8gz"}},s5ij:function(e,t,i){e.exports={modalBody:"ModalBody-modalBody-1-wcfe",modalScroller:"ModalBody-modalScroller-3VG8jR ModalBody-modalBody-1-wcfe",innerModalBody:"ModalBody-innerModalBody-BHe1nE"}},sAyO:function(e,t,i){e.exports={extrasHubCell:"PrePlayExtrasList-extrasHubCell-2NcGKs HubCell-hubCell-3Ys175"}},"sB/z":function(e,t,i){e.exports={img:"MetadataAttributionLogoTitle-img-1hdE56"}},sKLl:function(e,t,i){e.exports={measured:"TimelinePage-measured-3JDcK6"}},sKrL:function(e,t,i){"use strict";i.r(t),i.d(t,"FAIRPLAY",(function(){return n})),i.d(t,"PLAYREADY",(function(){return a})),i.d(t,"WIDEVINE",(function(){return s}));const n="com.apple.fps.1_0",a="com.microsoft.playready",s="com.widevine.alpha"},sNLJ:function(e,t,i){e.exports={content:"UserSharingSettingsRestrictions-content-1eTE4V SettingsPage-content-1vKVEr PageContent-pageContent-16mK6G"}},sPMf:function(e,t,i){var n=i("3O+N");function a(e){return e&&(e.__esModule?e.default:e)}e.exports=(n.default||n).template((function(e,t,n,s,r){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),r=r||{};var o,l="",c=this.escapeExpression;return l+='<h2 class="setup-intro-header">'+c(a(i("d8WC")).call(t,"How Plex Works",{hash:{},data:r}))+"</h2> <h4>"+c(a(i("d8WC")).call(t,"Plex Media Server runs on the computer where you keep your media",{hash:{},data:r}))+'</h4> <img class="setup-intro-img setup-intro-computer-img" src='+c("function"==typeof(o=t&&t.computerImg)?o.apply(t):o)+"> <h4>"+c(a(i("d8WC")).call(t,"Plex scans your media, automatically organizes it, and makes it beautiful",{hash:{},data:r}))+'</h4> <img class="setup-intro-img setup-intro-media-img" src='+c("function"==typeof(o=t&&t.mediaImg)?o.apply(t):o)+"> <h4>"+c(a(i("d8WC")).call(t,"Play your media on any screen with your favorite Plex app",{hash:{},data:r}))+'</h4> <img class="setup-intro-img setup-intro-play-img" src='+c("function"==typeof(o=t&&t.playImg)?o.apply(t):o)+'> <p> <button class="next-btn btn btn-primary btn-lg" data-subset="setupLoading">'+c(a(i("d8WC")).call(t,"Got it!",{hash:{},data:r}))+"</button> </p> "}))},sPYG:function(e,t,i){e.exports={container:"FirstRunExperienceStep-container-GybKBS",actions:"FirstRunExperienceStep-actions-sqsbDy",stepContainer:"FirstRunExperienceStep-stepContainer-2g5HG8",stepText:"FirstRunExperienceStep-stepText-2Kql2A",stepHeading:"FirstRunExperienceStep-stepHeading-2l2OyX",stepBody:"FirstRunExperienceStep-stepBody-GIL2YT",stepIcon:"FirstRunExperienceStep-stepIcon-53JNXw",activeStepIcon:"FirstRunExperienceStep-activeStepIcon-rczb-H FirstRunExperienceStep-stepIcon-53JNXw",stepButton:"FirstRunExperienceStep-stepButton-2FQBJU"}},sPni:function(e,t,i){e.exports={button:"MetadataDirectoryButtonCell-button-29C3x2 Button-button-2kT68l Link-link-2n0yJn"}},sdSe:function(e,t,i){"use strict";i.d(t,"a",(function(){return a}));var n=i("qNzc");function a(e){return e.get("isOpen")?e.get("hasError")?n.b:e.get("isPaused")?n.c:e.get("isBuffering")?n.a:n.d:n.e}},siYB:function(e,t,i){e.exports={devicesContainer:"DVRSetupDeviceList-devicesContainer-3H1xSO Scroller-scroller-CQJq74",spinnerContainer:"DVRSetupDeviceList-spinnerContainer-ybyGM9",innerModalBody:"DVRSetupDeviceList-innerModalBody-3dKwhM ModalBody-innerModalBody-BHe1nE"}},slDQ:function(e,t,i){"use strict";var n=i("0jae");t.a=function(e,t="`assert` requires an error message argument",i=!1){if(e)return!0;if(n.a.error(t),i)throw new Error(t);return!1}},smKM:function(e,t,i){e.exports={linkCover:"MetadataTableRow-linkCover-KDCSST Link-link-2ew_DK",overlay:"MetadataTableRow-overlay-_TFQZN MetadataTableRow-linkCover-KDCSST Link-link-2ew_DK",underlay:"MetadataTableRow-underlay-tSsY-w MetadataTableRow-linkCover-KDCSST Link-link-2ew_DK",selectedListRow:"MetadataTableRow-selectedListRow-2b3axQ ListRow-row-1sqnTj",rangeListRow:"MetadataTableRow-rangeListRow-1o4iQ6 ListRow-row-1sqnTj",isSelectionActive:"MetadataTableRow-isSelectionActive-1Z8pea",firstTableCell:"MetadataTableRow-firstTableCell-HUJ75o TableCell-tableCell-2mwuHk",title:"MetadataTableRow-title-cNk_l6 TableCell-title-2x35AT",isSecondary:"MetadataTableRow-isSecondary-1aBcwk",playCell:"MetadataTableRow-playCell-1eyqqJ",downloadIcon:"MetadataTableRow-downloadIcon-37AMup",outsideIcon:"MetadataTableRow-outsideIcon-3ZXnfa",hiddenIcon:"MetadataTableRow-hiddenIcon-3J9B0D",actionsCell:"MetadataTableRow-actionsCell-yQ5kKi TableCell-tableCell-2mwuHk",actionsButton:"MetadataTableRow-actionsButton-Hypg4s Link-link-2ew_DK"}},"sn/B":function(e,t,i){e.exports={sidebarListItem:"SidebarListItem-sidebarListItem-GdcVsd"}},sq6x:function(e,t,i){e.exports={tagsInput:"TagsInput-tagsInput-2eRCns",input:"TagsInput-input-3KDPbm",hasError:"TagsInput-hasError-22oXCy input-hasError-1to6Ql"}},sscm:function(e,t,i){var n=i("3O+N");function a(e){return e&&(e.__esModule?e.default:e)}e.exports=(n.default||n).template((function(e,t,n,s,r){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),r=r||{};var o="",l=this.escapeExpression;return o+='<div class="convert-message-container row"> <div class="col-sm-3 text-center"> <p class="convert-success-icon"><i class="glyphicon ok-2"></i></p> </div> <div class="col-sm-8"> <h4>'+l(a(i("d8WC")).call(t,"This media is being synced.",{hash:{},data:r}))+"</h4> <h4>"+l(a(i("d8WC")).call(t,"Watch the status of the sync {1}here{2}.",'<a class="status-link" href="#">',"</a>",{hash:{},data:r}))+"</h4> </div> </div> "}))},t2mA:function(e,t,i){"use strict";i.d(t,"b",(function(){return l})),i.d(t,"a",(function(){return c})),i.d(t,"c",(function(){return d})),i.d(t,"e",(function(){return u})),i.d(t,"f",(function(){return p})),i.d(t,"g",(function(){return h})),i.d(t,"h",(function(){return m})),i.d(t,"d",(function(){return g})),i.d(t,"i",(function(){return v})),i.d(t,"j",(function(){return f})),i.d(t,"l",(function(){return b})),i.d(t,"m",(function(){return I})),i.d(t,"n",(function(){return S})),i.d(t,"o",(function(){return C})),i.d(t,"k",(function(){return M})),i.d(t,"p",(function(){return D}));var n=i("ICb1"),a=i("0jae"),s=i("92Vb"),r=i("GdCd"),o=i("hPIe");const l="user/lockUser",c="user/fetchUserFeatures",d="user/populateUserFeatures",u="user/saveExperienceSettings",p="user/saveSubtitleColor",h="user/saveSubtitlePosition",m="user/saveSubtitleSize",g="user/saveAutoPlay",v=Object(n.a)(l),y=Object(n.a)(c),f=Object(n.a)(d),b=Object(n.a)(u),I=Object(n.a)(p),S=Object(n.a)(h),C=Object(n.a)(m),M=Object(n.a)(g),D={[l](e,t){a.a.error("LOCK_USER must be handled by each project")},[c]:Object(s.a)({key:"features",getModel:o.o}),[d]:Object(r.a)({key:"features",fetchActionCreator:y,getModel:o.o}),[u](e,t){a.a.error("SAVE_EXPERIENCE_SETTINGS must be handled by each project")},[p](e,t,i){i(b(t))},[h](e,t,i){i(b(t))},[m](e,t,i){i(b(t))},[g](e,t,i){i(b(t))}}},t3yN:function(e,t,i){e.exports={section:"SignInFormSection-section-2kPygI"}},t4kf:function(e,t,i){e.exports={description:"InsecureFallbackChoicePage-description-3qJXgB EmptyPageDescription-description-DhEtaD"}},t87T:function(e,t,i){e.exports={image:"DVRDeviceImage-image-1q4Bgj"}},tCBj:function(e,t,i){e.exports={modalContent:"DisableTwoFactorAuthModal-modalContent-hBjP9W ModalContent-modalContent-4GS6yU",innerModalBody:"DisableTwoFactorAuthModal-innerModalBody-1gOMOT ModalBody-innerModalBody-BHe1nE",inputGroup:"DisableTwoFactorAuthModal-inputGroup-3BGI35"}},tL6L:function(e,t,i){"use strict";i.d(t,"b",(function(){return n})),i.d(t,"c",(function(){return a})),i.d(t,"d",(function(){return s})),i.d(t,"a",(function(){return r}));const n="list",a="spotlight",s="upsell",r=["shelf","grid",n,"banner","hero"]},tN90:function(e,t,i){e.exports={magazine:"Carousel-magazine-3pULs0",slide:"Carousel-slide-1-FUF9",currentSlide:"Carousel-currentSlide-1fcfro Carousel-slide-1-FUF9"}},tNwU:function(e,t,i){"use strict";i.d(t,"a",(function(){return n})),i.d(t,"c",(function(){return a})),i.d(t,"d",(function(){return s})),i.d(t,"b",(function(){return r})),i.d(t,"e",(function(){return o})),i.d(t,"f",(function(){return l}));const n=5,a=10,s=30,r=5,o=600,l=600},tRmQ:function(e,t,i){"use strict";i.d(t,"a",(function(){return s}));var n=i("cgRT"),a=i("jLR9");function s(){var e=Object(n.c)("appModel").get("deviceSettings").get("debugLevel");return e===a.a.ENABLED||e===a.a.VERBOSE}},tRnC:function(e,t,i){e.exports={resetButton:"LibraryPageHeader-resetButton-1JTO6m ToolbarButton-toolbarButton-2i2nnD"}},tSXP:function(e,t,i){e.exports={dotButton:"SpotlightHubDot-dotButton-22ad0b Button-button-3A5jB3 Link-link-2ew_DK",dot:"SpotlightHubDot-dot-1vI7Ji",dotIsSelected:"SpotlightHubDot-dotIsSelected-3I2Lu8 SpotlightHubDot-dot-1vI7Ji"}},tXoW:function(e,t,i){e.exports={listContainer:"DirectoryListPageContent-listContainer-_B2x94",pageContentScroller:"DirectoryListPageContent-pageContentScroller-37FxKJ PageContent-pageContentScroller-okL_Uc Scroller-scroller-CQJq74"}},taPP:function(e,t,i){e.exports={header:"TopPlayedColumnHeader-header-3DLAC0",tintedHeader:"TopPlayedColumnHeader-tintedHeader-fqZcP8 TopPlayedColumnHeader-header-3DLAC0",titleBackground:"TopPlayedColumnHeader-titleBackground-3VRIG-",emptyTitleBackground:"TopPlayedColumnHeader-emptyTitleBackground-3LDge3 TopPlayedColumnHeader-titleBackground-3VRIG-",imageContainer:"TopPlayedColumnHeader-imageContainer-1UECdo",titleText:"TopPlayedColumnHeader-titleText-3FpoEq"}},tbBR:function(e,t,i){e.exports={backgroundContainer:"FullPlayerBackground-backgroundContainer-2UnXoW"}},tibn:function(e,t,i){"use strict";var n=i("F/us"),a=i.n(n),s=i("+X4A"),r=i("CHn6"),o=i("mOXR"),l=i("nvND");var c=r.a.extend({name:"TranscodeSessionModel",context:["server"],url(){return"/transcode/sessions/"+this.id},syncedAttrs:{key:o.a.string,progress:o.a.float,throttled:o.a.boolean,speed:o.a.float,duration:o.a.integer,videoDecision:o.a.string,audioDecision:o.a.string,protocol:o.a.string,container:o.a.string,videoCodec:o.a.string,audioCodec:o.a.string,audioChannels:o.a.integer,width:o.a.string,height:o.a.string,transcodeHwDecoding:o.a.string,transcodeHwEncoding:o.a.string,timeStamp:o.a.integer,minOffsetAvailable:o.a.integer,maxOffsetAvailable:o.a.integer}}),d=i("cVe3"),u=i("KKL4"),p=i("LSig"),h=i("AXwp"),m=i("Q3JP"),g=i("Pg5J"),v=i("zTY+"),y=i("5HFX"),f=i("gnaf");var b=i("e/b/"),I=i("Pizw"),S=i("FIl5"),C=i("WfN5"),M=i("7za+"),D=i("66GW"),P=i("rXDx"),O=i("xI1S"),j=i("bcER"),w=i("B69o");var T=r.a.extend({name:"ChapterModel",context:["server","section"],syncedAttrs:{id:o.a.integer,tag:o.a.string,index:o.a.integer,startTimeOffset:o.a.integer,endTimeOffset:o.a.integer,thumb:o.a.string}});var E=w.a.extend({name:"ChapterCollection",context:["server","section"],model:T,modelId:e=>e.id+"_"+e.index});var N=r.a.extend({name:"ConcertModel",context:["server","section"],syncedAttrs:{id:o.a.integer,at:o.a.integer,tag:o.a.string,venue:o.a.string,city:o.a.string,country:o.a.string,url:o.a.string}});var x=w.a.extend({name:"ConcertCollection",context:["server","section"],model:N}),A=i("8uQ2"),L=i("ZGgN"),k=i("fwi0"),R=i("Ngum");const z={guid:!0,librarySectionID:!0,librarySectionTitle:!0,librarySectionUUID:!0,librarySectionKey:!0,source:!0,Context:!0,file:!0,summary:!0,tagline:!0,action:!0,attributionLogo:!0,backgroundColor:!0};function U(e){let t=0;if(!e)return t;for(let i=0,n=e.length;i<n;i++){const n=e[i].Part;if(n)for(let e=0,i=n.length;e<i;e++){const i=n[e].Stream;i&&(t+=i.length)}}return t}function V(e=[]){return Object(L.a)(e,R.a,e=>e)}function B(e,t,i){if(i&&!t)return i;var n;const a=(n=i||t)&&n.some(e=>e.protocol===k.a)||function(e){return e&&e.some(e=>"livetv"===e.origin)}(i||t)?function(e,t){if(!t)return null;const i=V(e),n=V(t),a=Object.assign({},i,n);for(const e in i){var s,r,o,l,c,d,u,p;const t=i[e],h=n[e];t&&h&&t.Overlay.length&&!h.Overlay.length&&(a[e]=Object.assign({},a[e],{Overlay:t.Overlay}));const m=null!=(s=null==t||null==(r=t.Part)||null==(o=r[0])||null==(l=o.Stream)?void 0:l.length)?s:0,g=null!=(c=null==h||null==(d=h.Part)||null==(u=d[0])||null==(p=u.Stream)?void 0:p.length)?c:0;t&&h&&m>g&&(a[e]=Object.assign({},a[e],{Part:t.Part}))}return Object.keys(a).map(e=>a[e])}(t,i):function(e,t){const i=U(t),n=U(e);return i||!n?t:e}(t,i);return a||Object(A.a)(e,t,i)}function F(e){return(e.hasOwnProperty("ratingKey")||e.hasOwnProperty("id"))&&e.hasOwnProperty("tag")}function H(e,t){t.forEach(t=>{null!=(null==e?void 0:e[t])&&"string"!=typeof e[t]&&(e[t]=e[t].toString())})}const _=r.a.extend({name:"MetadataModel",context:[["server",{boundDerivedAttrs:["serverEntityID"]}],["provider",{boundDerivedAttrs:["providerEntityID"]}],"section","playlist","identifier","mediaTagPrefix","mediaTagVersion","allowSync","containerKey","relatedOptions","includeExternalMedia"],responseContext:["identifier","mediaTagPrefix","mediaTagVersion","allowSync"],entityType:M.g,entityID(e=this.state){let t;if(e.source){const{serverIdentifier:i}=Object(y.a)(e.source);i!==this.server.get("machineIdentifier")&&(t=Object(C.a)(M.n,i))}return Object(C.a)(this.entityType,e.key||this.cid,t,this.server.entityID())},idAttribute:"ratingKey",rootPropertyName:"Metadata",cache:new u.a,mergeStrategy:function(e,t,i){return"Media"===e?B(e,t,i):function(e){const t=W.prototype.syncedAttrs[e];return!(!t||t!==o.a.array)}(e)?function(e,t,i){if(!i)return t;if(!t)return i;if(i.length>t.length)return i;if(!i.length||i.length<t.length)return t;const n=t&&t[0],a=i&&i[0];if(!n&&a)return i;if(!a&&n)return t;const s=F(n),r=F(a);return s&&!r?t:i}(0,t,i):function(e){return!!W.prototype.syncedRelations[e]}(e)||z[e]?Object(A.a)(e,t,i):i},responseType(){const e=this.get("key");return e&&e.indexOf("/system/services/url/lookup")>-1?l.c:Object(m.a)(this.server)},url(){const e={};return this.includeExternalMedia&&(e.includeExternalMedia=1),s.join(this.get("key"),e)},urlRoot(){return this.get("key")},saveUrl(){return this.get("isPlaylist")&&!this.server.supports("truePlaylistsPath")?"/library/metadata/"+this.get("ratingKey"):a.a.result(this,"url")},cacheKey(e){const t=this.extractChildrenKey(e.key);return e.source&&(t.key=e.source+t.key),this.server&&this.server.getScopedKey(t.key)},sessionAttrs:{isPreFetched:o.a.boolean,isStreamChangeInProgress:o.a.boolean,isStreamDeleteInProgress:o.a.boolean,metadataState:o.a.string,mediaState:o.a.string,isSettingsUpdating:o.a.boolean,settingsUpdateError:o.a.object,dvrChannel:o.a.object,viewCountIncrementedByPlayQueueItemID:o.a.string,downloadSubscriptionID:o.a.string,isDownloaded:o.a.boolean},syncedAttrs:{elementName:o.a.string,ratingKey:o.a.string,parentRatingKey:o.a.string,grandparentRatingKey:o.a.string,key:o.a.string,childrenKey:o.a.string,Context:o.a.object,parentKey:o.a.string,grandparentKey:o.a.string,primaryExtraKey:o.a.string,augmentationKey:o.a.string,guid:o.a.string,source:o.a.string,sourceURI:o.a.string,attribution:o.a.string,attributionLogo:o.a.string,action:o.a.string,backgroundColor:o.a.string,remoteMedia:o.a.boolean,librarySectionID:o.a.string,librarySectionTitle:o.a.string,librarySectionUUID:o.a.string,librarySectionKey:o.a.string,type:o.a.string,subtype:o.a.string,title:o.a.string,titleSort:o.a.string,originalTitle:o.a.string,parentTitle:o.a.string,grandparentTitle:o.a.string,year:o.a.string,minYear:o.a.string,maxYear:o.a.string,tagline:o.a.string,summary:o.a.string,studio:o.a.string,contentRating:o.a.string,originallyAvailableAt:o.a.string,thumb:o.a.string,parentThumb:o.a.string,grandparentThumb:o.a.string,banner:o.a.string,art:o.a.string,parentArt:o.a.string,grandparentArt:o.a.string,hero:o.a.string,theme:o.a.string,parentTheme:o.a.string,grandparentTheme:o.a.string,chapterSource:o.a.string,ratingImage:o.a.string,audienceRating:o.a.float,audienceRatingImage:o.a.string,directory:o.a.boolean,rating:o.a.float,userRating:o.a.float,playbackSpeed:o.a.float,index:o.a.integer,parentIndex:o.a.integer,absoluteIndex:o.a.integer,duration:o.a.integer,preview:o.a.boolean,viewOffset:o.a.integer,viewCount:o.a.integer,childCount:o.a.integer,leafCount:o.a.integer,viewedLeafCount:o.a.integer,ratingCount:o.a.integer,mediaCount:o.a.integer,mediaCountOptimized:o.a.integer,extraType:o.a.integer,lastViewedAt:o.a.integer,lastRatedAt:o.a.integer,addedAt:o.a.integer,updatedAt:o.a.integer,deletedAt:o.a.integer,Geolocation:o.a.object,playlistID:o.a.integer,playlistType:o.a.string,specialPlaylistType:o.a.string,radio:o.a.boolean,smart:o.a.boolean,readOnly:o.a.boolean,icon:o.a.string,composite:o.a.string,content:o.a.string,durationInSeconds:o.a.integer,skipChildren:o.a.boolean,skipParent:o.a.boolean,skipDetails:o.a.boolean,subscriptionID:o.a.string,saved:o.a.boolean,picked:o.a.boolean,grandparentSubscriptionID:o.a.string,subscriptionType:o.a.string,grandparentSubscriptionType:o.a.string,Channel:o.a.array,Topic:o.a.array,onAir:o.a.boolean,watchlistedAt:o.a.integer,Media:o.a.array,Collection:o.a.array,Director:o.a.array,Producer:o.a.array,Writer:o.a.array,Studio:o.a.array,Genre:o.a.array,Mood:o.a.array,Country:o.a.array,Label:o.a.array,Role:o.a.array,Location:o.a.array,Tag:o.a.array,Autotag:o.a.array,Marker:o.a.array,indirect:o.a.boolean,Origin:o.a.object,requiresConsent:o.a.boolean,Platform:o.a.array,Publisher:o.a.array},syncedRelations:{chapters:{relationClass:E,rootPropertyName:"Chapter",deferred:!0},preferences:{relationClass:d.a,rootPropertyName:"Preferences",deferred:!0},onDeck:()=>({relationClass:_,rootPropertyName:"OnDeck",deferred:!0}),related(){const e={skipCache:!0};return this.relatedOptions&&a.a.extend(e,this.relatedOptions),{relationClass:i("y3BC").default,rootPropertyName:"RelatedHubs",deferred:!0,options:e}},popularLeaves:()=>({relationClass:i("Wpyo").default,rootPropertyName:"PopularLeaves",deferred:!0}),extras:()=>({relationClass:i("Wpyo").default,rootPropertyName:"Extras",deferred:!0,attrs:e=>({containerKey:s.join([e.key,"extras"])})}),concerts:{relationClass:x,rootPropertyName:"Concert",deferred:!0},stations:()=>({relationClass:i("vjRy").default,rootPropertyName:"Stations",deferred:!0}),transcodeSession:{relationClass:c,rootPropertyName:"TranscodeSession",deferred:!0}},derivedAttrs:{identifier(){return this.identifier},serverEntityID(){if(!this.state)return null;const e=this.get("source");if(e){const{serverIdentifier:t}=Object(y.a)(e);return Object(C.a)(M.n,t)}return this.server?this.server.entityID():null},providerEntityID(){if(!this.state)return null;const e=this.get("source");if(e){const{providerIdentifier:t}=Object(y.a)(e);return Object(C.a)(M.k,t,this.get("serverEntityID"))}return this.provider?this.provider.entityID():null},mediaTagPrefix(){return this.mediaTagPrefix},mediaTagVersion(){return this.mediaTagVersion},allowSync(){return this.allowSync},containerKey(){return this.containerKey},isLibraryItem(){return this.isLibraryItem(this.get("identifier"),this.get("key"))},isPlaylist(){return this.get("type")===P.m&&!this.get("radio")},isFolder(){return/\/folder\?parent=/.test(this.get("key"))},isExtra(){return!!this.get("extraType")},isPremium(){const e=this.get("Media")||[];return a.a.any(e,e=>e.premium)},hasRadioStation(){const e=this.get("stations");return!!e&&!!e.findWhere({playlistType:O.a})},hasArtistTVStation(){const e=this.get("stations");return!!e&&!!e.findWhere({playlistType:O.c})},unviewedLeafCount(){const e=this.get("leafCount"),t=this.get("viewedLeafCount");if(e)return e-t},downloadUrl(){const e=this.get("Media");if(e&&1===e.length){const t=a.a.first(a.a.first(e).Part),i=t&&t.key;if(i)return()=>{const e=s.join(i,{download:1});return this.server.resolveUrl(e,{appendToken:!0})}}}},defaults:{isStreamChangeInProgress:!1,isStreamDeleteInProgress:!1,isSettingsUpdating:!1,isDownloaded:!1,settingsUpdateError:null,rating:0,onAir:!1,skipDetails:!1,Media:[],Collection:[],Director:[],Producer:[],Writer:[],Studio:[],Genre:[],Mood:[],Country:[],Label:[],Topic:[],Channel:[],Role:[],Location:[],Autotag:[],Tag:[],Platform:[],Publisher:[],requiresConsent:!1},fetch(e={}){return e.data&&(this._populatedParams=a.a.extend({},this._populatedParams,e.data)),e.usePopulatedParams&&(e.data=this._populatedParams),r.a.prototype.fetch.call(this,e)},augmentResponseText:(e,t)=>t===l.c?Object(I.b)(e):e,augmentResponse(e,t){let i=e[this.rootPropertyName];if(i){Array.isArray(i)&&(i=i[0]);["attribution","augmentationKey","librarySectionID","librarySectionTitle","librarySectionUUID"].forEach(t=>{i[t]||(i[t]=e[t])}),e.type===P.c&&(i.dvrChannel={identifier:e.identifier||e.id,thumb:e.thumb,title:e.title,callSign:e.callSign})}this.responseContext.forEach(t=>{const n=e[t]||i&&i[t];void 0!==n&&this.setContext(t,n)});const n=i||e,s=n.Related,r=n.OnDeck,o=n.Stations,l=n.Preferences,c=this.extractChildrenKey(n.key);if(c.childrenKey&&(n.childrenKey=c.childrenKey,n.key=c.key),n.Media=this.convertMediaItems(n.Media),n.Channel=this.convertChannels(n.Channel),n.Role=this.convertRole(n.Role),n.Topic=this.convertTopics(n.Topic),n.Marker=this.convertMarkers(n.Marker),!n.source&&this.server){var d;const e=Object(v.a)({providerIdentifier:null==(d=this.provider)?void 0:d.get("identifier"),serverIdentifier:this.server.get("machineIdentifier")});n.source=e,n.sourceURI=""+e+n.key}return s&&(n.RelatedHubs=a.a.compact([].concat(s.Hub,s.Directory))),r&&(n.OnDeck=r.Metadata),o&&(n.Stations=o.Metadata),l&&(n.Preferences=l.Setting),n.type===P.k&&n.childrenKey&&(n.type=P.l),n},extractChildrenKey(e){const t=/(.*)\/(children|items)$/.exec(e);let i;return t&&(i=e,e=t[1]),{childrenKey:i,key:e}},convertMediaItems(e){const t=S.a.parseArray(e);return a.a.each(t,e=>{H(e,["id"]),b.a.parseBoolean(e,["indirect","optimizedForStreaming","onAir","premium","premiere","selected"]),b.a.parseInteger(e,["duration","width","height","bitrate","audioChannels","proxyType","beginsAt","endsAt","beginOffset","startOffsetSeconds","endOffsetSeconds"]),null==e.id&&null==e.uuid&&(e.uuid=e.container+"-"+e.protocol+"-"+e.audioCodec),b.a.parseArray(e,"Overlay"),b.a.parseArray(e,"Part"),a.a.each(e.Overlay,e=>{null!=e.duration&&(e.duration=parseInt(e.duration,10)),e.startTimeOffset=parseInt(e.startTimeOffset,10)}),a.a.each(e.Part,e=>{H(e,["id"]),null!=e.exists&&(e.exists=S.a.parseBoolean(e.exists)),null!=e.accessible&&(e.accessible=S.a.parseBoolean(e.accessible)),b.a.parseInteger(e,["duration","size"]),b.a.parseBoolean(e,"optimizedForStreaming"),b.a.parseEncodedString(e,"file"),b.a.parseArray(e,"Stream"),a.a.each(e.Stream,e=>{H(e,["id"]),b.a.parseBoolean(e,["anamorphic","selected","default","forced","timed","cabac","hasScalingMatrix","headerStripping"]),b.a.parseInteger(e,["index","streamType","duration","width","height","bitrate","bitDepth","level","refFrames","samplingRate","channels","minLines","offset"]),b.a.parseFloat(e,"frameRate")})})}),this.addNoneSubtitlesStreams(t)},convertChannels(e){const t=S.a.parseArray(e);return a.a.each(t,e=>{b.a.parseBoolean(e,["followed","muted"])}),t},convertRole(e){const t=S.a.parseArray(e);return a.a.each(t,e=>{b.a.parseBoolean(e,["directory"])}),t},convertTopics(e){const t=S.a.parseArray(e);return a.a.each(t,e=>{b.a.parseBoolean(e,["followed","muted"])}),t},convertMarkers(e){const t=S.a.parseArray(e);return a.a.each(t,e=>{b.a.parseInteger(e,["endTimeOffset","startTimeOffset"])}),t},addNoneSubtitlesStreams(e){const t=j.a.get("subtitles");return e.forEach(e=>{const i=e.Part,n="livetv"===e.origin;i&&i.forEach(i=>{if(!i.Stream)return;if(!n&&!Object(g.a)(e))return;const a=i.Stream.filter(e=>e.streamType===t.id);if(a.find(e=>e.id===h.a))return;const s=a.find(e=>e.selected),r={id:h.a,streamType:t.id,language:Object(D.default)("None")};s||(r.selected=!0),i.Stream.unshift(r)})}),e},getDownloadUrl(e=0){const t=this.get("Media")[e];if(t){const e=a.a.first(t.Part),i=e&&e.key;if(i){const e=s.join(i,{download:1});return this.server.resolveUrl(e,{appendToken:!0})}}},getFilepath(e=0){const t=this.get("Media")[e];if(t){const e=a.a.first(t.Part);if(e)return e.file}},getLocation(){const e=this.get("Location");return e.length?a.a.first(e).path:this.getFilepath()},getMediaKey(){const e=a.a.first(this.get("Media"));if(e){const t=a.a.first(e.Part);if(t)return t.key}return this.get("key")},isLibraryItem(e,t){return!(this.provider&&!this.provider.get("isLibraryProvider"))&&(n=t,(i=e)?f.k(i,f.d):/^(\/sync\/[\w\d-/]*)?\/library\//.test(n));var i,n},isPlexMusicItem(){const e=this.section;return e&&e.get("agent")===p.h}});var W=t.a=_},tjw3:function(e,t,i){"use strict";i.d(t,"a",(function(){return s}));const n=e=>Function.prototype.toString.call(e),a=n(Object);function s(e){if(!e||"object"!=typeof e)return!1;const t="function"==typeof e.constructor?Object.getPrototypeOf(e):Object.prototype;if(null===t)return!0;const i=t.constructor;return"function"==typeof i&&i instanceof i&&n(i)===a}},tlMz:function(e,t,i){"use strict";var n=i("F/us"),a=i.n(n);function s(e){const t=a.a.clone(e);return void 0!==t.last?(t.end=t.last+1,t.size=t.end-t.start):void 0!==t.size?(t.end=t.start+t.size,t.last=t.end-1):void 0!==t.end&&(t.last=t.end-1,t.size=t.end-t.start),t}function r(e,t){return a.a.filter(a.a.map(e,s),(function(e){return t?e.size>=0:e.size>0}))}const o={augment:s,difference:function(e,t,i){e=s(e),t=s(t);return r([{start:e.start,last:Math.min(e.last,t.start-1)},{start:Math.max(e.start,t.end),last:e.last}],i)},union:function(e,t,i){if(e=s(e),t=s(t),e.start>t.start){const i=e;e=t,t=i}const n=[e];return t.start<=e.end?n[0].last=Math.max(t.last,e.last):n.push(t),r(n,i)},degap:function(e,t){let i=s(e);return(t=s(t)).size?(i.start>t.end&&(i={start:t.end,end:i.end}),i.end<t.start&&(i={start:i.start,end:t.start}),s(i)):i},each:function(e,t,i){e=s(e);let n=Math.min(e.start,e.end);const a=Math.max(e.start,e.end);for(;n<=a;n++)t.call(i,n)},roundByPage:function(e,t){return e=s(e),s({start:Math.floor(e.start/t)*t,end:Math.ceil(e.end/t)*t})}};t.a=o},tmXh:function(e,t,i){e.exports={resolution:"EPGChannelResolution-resolution-rYFHtf Badge-badge-21NQRi"}},tqLa:function(e,t,i){"use strict";var n=i("8OQS"),a=i.n(n),s=i("Khyo"),r=i("F/us"),o=i.n(r),l=i("+X4A"),c=i("4JMt"),d=i("BW9E"),u=i("41GN"),p=i("5Uxk"),h=i("rXDx");const m={uri:function(e,t){const i=t&&t.items;if(i&&i.length){if(i.length>1)return this.getBatchLibraryMetadataURI(i,t);e||(e=o.a.first(i))}if(e instanceof s.c.Model){if(e.get("isSection"))return this.getSectionURI(e,t);if(e.get("isMetadataList"))return this.getMetadataListURI(e,t);if(e.get("isPlaylist"))return this.getPlaylistURI(e,t)}return this.getLibraryMetadataURI(e,t)},parseLibraryUri:function(e){const t=l.getLastSegment(e),i=decodeURIComponent(t).match(/(\/library\/sections\/\w+)\/all(?:\?(.*))?/),[,n,s=""]=i,r={};for(const e of s.split("&")){const[t,i]=e.split("=");t.startsWith("include")||(r[t]=i)}const{type:o,sourceType:c,sort:d,limit:u}=r,p=a()(r,["type","sourceType","sort","limit"]);return{sectionKey:n,type:o,sourceType:c,sort:d,limit:u,filterString:Object.entries(p).map(([e,t])=>e+"="+t).join("&")}},getSectionURI:function(e,t){const i=o.a.result(e,"url"),n=e.get("currentSubset"),a=e.get("currentFolderKey"),s=e.get("currentType");let r;if("folder"===n.id)r=a||l.join([i,"all"]);else{const t=e.get("items"),a=t.getParams();if(a.type&&delete a.type,a.timelineState&&delete a.timelineState,a.unwatchedLeaves){a[Object(h.t)(e.get("type")).typeString+".unwatched"]=1,delete a.unwatchedLeaves}s&&(a.sourceType=s.id),r=l.join([i,n.id],a),r=t.replaceSpecialFilterOperators(r)}return this._resolveURI({prefix:"library",parts:[e.get("uuid"),"directory",r]})},getBatchLibraryMetadataURI:function(e,t){const i=this._getSectionInfo(o.a.first(e)),n="/library/metadata/"+o.a.map(e,(function(e){return e.get("ratingKey")})).join(",");return this._resolveURI({prefix:"library",parts:[i.sectionUUID,"directory",n]})},getLibraryMetadataURI:function(e,t){t||(t={});const i=this._getSectionInfo(e);let n,a=o.a.result(e,"url");return t.excludeSeedItem&&(a=l.join(a,{excludeSeedItem:1})),n=e.models||e.collectionName||e instanceof c.a?"directory":e.get("radio")?"station":"item",this._resolveURI({prefix:"library",parts:[i.sectionUUID,n,a]})},getMetadataListURI:function(e,t){t||(t={});const i=this._getSectionInfo(e);return this._resolveURI({prefix:"library",parts:[i.sectionUUID,"directory",l.join(e.get("containerKey"),{sourceType:t.sourceType})]})},getPlaylistURI:function(e,t){return this._resolveURI({prefix:"playlist",parts:["",e.get("guid")]})},title:function(e,t){const i=t&&t.items;if(i&&i.length){if(i.length>1)return this.getBatchLibraryMetadataTitle(i,t);e=o.a.first(i)}return e.get("isSection")?this.getSectionTitle(e,t):e.get("isMetadataList")?this.getMetadataListTitle(e,t):this.getLibraryMetadataTitle(e,t)},getSectionTitle:function(e){const t=e.get("title"),i=e.get("currentSubset"),n=e.get("currentFilters");if("all"!==i.id)return t+": "+i.get("title");if(!n.length)return t;return t+": "+o.a.flatten(o.a.map(n,(function(e){return e.titles}))).join(", ")},getMetadataListTitle:function(e){return e.get("containerTitle")||e.get("title")},getBatchLibraryMetadataTitle:function(e){const t=o.a.map(e,(function(e){return e.get("title")}));return Object(p.a)(t)},getLibraryMetadataTitle:function(e){const t=e.get("grandparentTitle")||e.get("parentTitle");let i=e.get("title");if(t&&(i=t+" - "+i),"episode"===e.get("type")){i+=" ("+Object(d.a)({seasonIndex:e.get("parentIndex"),episodeIndex:e.get("index"),date:e.get("originallyAvailableAt"),noLeadingZero:!0,separator:" "})+")"}return i},_resolveURI:function(e){const t=e.parts,i=o.a.map(t,(function(e){return e?encodeURIComponent(e):""}));return e.prefix+"://"+i.join("/")},_getSectionInfo:function(e){let t=e.get("librarySectionUUID"),i=e.get("librarySectionID");if(!t||!i){const n=Object(u.a)(e);o.a.isEmpty(n)||(t=n.get("uuid"),i=n.id)}return{sectionUUID:t,sectionID:i}}};t.a=m},tsFx:function(e,t,i){e.exports={modalBody:"WatchTogetherInviteModalContent-modalBody-3qma5S ModalBody-modalBody--5uHSu",message:"WatchTogetherInviteModalContent-message-3GOdW-",spinnerContainer:"WatchTogetherInviteModalContent-spinnerContainer-l1CZIS",list:"WatchTogetherInviteModalContent-list-2J0RAj UserList-list-1xb8US Scroller-vertical-VScFLT",modalFooter:"WatchTogetherInviteModalContent-modalFooter-2ckW7y ModalFooter-modalFooter-30WIB5"}},tt2x:function(e,t,i){e.exports={badgeMenuItem:"BadgeMenuItem-badgeMenuItem-3GW7S7 MenuItem-menuItem-1s02mQ",badge:"BadgeMenuItem-badge-3CgtTF Badge-badge-21NQRi"}},tuLj:function(e,t,i){},"u7G/":function(e,t,i){e.exports={thumbWrapper:"VideoChapterCell-thumbWrapper-1ofw_D",isActive:"VideoChapterCell-isActive-VaLoSm",titleContainer:"VideoChapterCell-titleContainer-2B15Ta",title:"VideoChapterCell-title-b2bbcF",secondaryTitle:"VideoChapterCell-secondaryTitle-3vGCqV"}},uCRf:function(e,t,i){"use strict";i.d(t,"a",(function(){return a})),i.d(t,"b",(function(){return s})),i.d(t,"c",(function(){return r})),i.d(t,"d",(function(){return l}));var n=i("ijGY");const a="audioVideo",s="photo",r="rom",o={[n.a]:a,[n.d]:a,[n.b]:s,[n.c]:r};function l(e){return o[e]}},uCj2:function(e,t,i){"use strict";i("0jae");var n=i("kwss");let a;function s(){if(void 0===a){const e=window.location.search.match(new RegExp("performanceReportingHost=([^&=]+)"));a=(e&&e[1]?decodeURIComponent(e[1]):n.a.performanceReportingHost)||null}return a}t.a=function(e=s){const t={};function i(i){return i&&!t[i]&&(t[i]=/^(client|playback):/.test(i)||!!e()),!!i&&t[i]}const n={startPeriod:e=>n.mark(e+"-start"),endPeriod:(e,t)=>n.measure(e,t||e+"-start"),mark(e){let t=null;if(i(e)){window.performance.mark(e);const i=window.performance.getEntriesByName(e);t=i[i.length-1]}else 0;return t},measure(e,t,n){let a=null;if(i(e))try{window.performance.measure(e,t,n),window.performance.clearMarks(t);const i=window.performance.getEntriesByName(e);a=i[i.length-1]}catch(e){}else 0;return a}};return n}()},uDqd:function(e,t,i){e.exports={bar:"ActionButtonBar-bar-BSTmw2"}},uEK0:function(e,t,i){var n=i("3O+N");e.exports=(n.default||n).template((function(e,t,n,a,s){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),s=s||{};var r,o,l="",c=this.escapeExpression;return((r=n.if.call(t,t&&t.disabled,{hash:{},inverse:this.program(3,(function(e,t){return' <a class="user-select-container" href="#"> '}),s),fn:this.program(1,(function(e,t){return' <div class="user-select-container"> '}),s),data:s}))||0===r)&&(l+=r),l+=' <div class="user-select-top"> <div class="user-poster img-circle"> <span class="add-icon">',((r="function"==typeof(r=t&&t.iconAdd)?r.apply(t):r)||0===r)&&(l+=r),l+='</span> </div> </div> <div class="caption"> <div class="username">'+c((o=i("d8WC"),o&&(o.__esModule?o.default:o)).call(t,"Add User",{hash:{},data:s}))+"</div> </div> ",((r=n.if.call(t,t&&t.disabled,{hash:{},inverse:this.program(7,(function(e,t){return" </a> "}),s),fn:this.program(5,(function(e,t){return" </div> "}),s),data:s}))||0===r)&&(l+=r),l+=" "}))},uEtx:function(e,t,i){e.exports={sortDirectionIcon:"IconTableHeaderSortDirection-sortDirectionIcon-OPhyF4"}},uGWF:function(e,t,i){e.exports={container:"ChannelsGridDetailRowAirTime-container-Xxl-Is",contentRating:"ChannelsGridDetailRowAirTime-contentRating-3x_JJt"}},uNiD:function(e,t,i){"use strict";var n=i("CHn6"),a=i("mOXR");const s=n.a.extend({name:"QueryRuleModel",syncedAttrs:{field:a.a.string,fieldTitle:a.a.string,value:a.a.string,valueTitle:a.a.string,operator:a.a.string,type:a.a.string},syncedRelations:{rules:()=>({relationClass:i("JwlK").default,rootPropertyName:"Rule",deferred:!0})}});t.a=s},uUkn:function(e,t,i){var n=i("3O+N");function a(e){return e&&(e.__esModule?e.default:e)}e.exports=(n.default||n).template((function(e,t,n,s,r){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),r=r||{};var o,l="",c=this.escapeExpression;return l+='<div class="modal-dialog"> <div class="modal-content"> <div class="modal-header"> <button type="button" class="close" data-dismiss="modal"><i class="glyphicon remove-2"></i></button> <h4 class="modal-title"> <i class="modal-icon glyphicon cogwheel"></i> ',((o=a(i("w+Xr")).call(t,t&&t.title,"Preferences...",{hash:{},inverse:this.program(3,(function(e,t){var n="";return n+=" "+c(a(i("d8WC")).call(e,"{1} Settings",e&&e.escapedTitle,{hash:{},data:t}))+" "}),r),fn:this.program(1,(function(e,t){var n="";return n+=" "+c(a(i("d8WC")).call(e,"Directory Settings",{hash:{},data:t}))+" "}),r),data:r}))||0===o)&&(l+=o),l+=' </h4> </div> <form id="channel-settings-form"> <div class="modal-body settings-container"> ',((o=n.each.call(t,t&&t.settings,{hash:{},inverse:this.noop,fn:this.program(5,(function(e,t){var n="";return n+=" "+c(a(i("nptq")).call(e,"setting",{hash:{idSuffix:"_c"},data:t}))+" "}),r),data:r}))||0===o)&&(l+=o),l+=' </div> <div class="modal-footer"> <button type="button" class="cancel-btn btn btn-lg btn-default" data-dismiss="modal">'+c(a(i("d8WC")).call(t,"Cancel",{hash:{},data:r}))+'</button> <button type="submit" class="submit-btn btn btn-lg btn-primary btn-loading"> <div class="loading loading-sm"></div> <span class="btn-label">'+c(a(i("d8WC")).call(t,"Save",{hash:{},data:r}))+"</span> </button> </div> </form> </div> </div> "}))},uYXV:function(e,t,i){e.exports={dragPreview:"AudioVideoPlayQueueDragPreview-dragPreview-21bXey"}},uceU:function(e,t,i){e.exports={container:"CriticRating-container-33b2hD",rating:"CriticRating-rating-2Jrl15",rt:"CriticRating-rt-2J0SbJ",ratingImage:"CriticRating-ratingImage-3-Lxod",igdb:"CriticRating-igdb-2cRTxw CriticRating-ratingImage-3-Lxod",imdb:"CriticRating-imdb-23PVnW CriticRating-ratingImage-3-Lxod",thetvdb:"CriticRating-thetvdb-12ZAE2 CriticRating-ratingImage-3-Lxod",tmdb:"CriticRating-tmdb-1F5ua- CriticRating-ratingImage-3-Lxod",certified:"CriticRating-certified-kPXY1l CriticRating-ratingImage-3-Lxod",ripe:"CriticRating-ripe-3KaJBn CriticRating-ratingImage-3-Lxod",rotten:"CriticRating-rotten-19B4iO CriticRating-ratingImage-3-Lxod",spilled:"CriticRating-spilled-9kErJQ CriticRating-ratingImage-3-Lxod",upright:"CriticRating-upright-3fxtyh CriticRating-ratingImage-3-Lxod",other:"CriticRating-other-1f4HXP CriticRating-ratingImage-3-Lxod"}},ugHo:function(e,t,i){e.exports={form:"DVRManageChannelsModalContent-form-2ykdJq",manageChannelsBody:"DVRManageChannelsModalContent-manageChannelsBody-PHeFRe ModalBody-modalBody--5uHSu",scanChannelsContainer:"DVRManageChannelsModalContent-scanChannelsContainer-1k91yK",scanChannelsMessage:"DVRManageChannelsModalContent-scanChannelsMessage-3d_EuA",scroller:"DVRManageChannelsModalContent-scroller-1MbzJs Scroller-vertical-VScFLT",centeredContainer:"DVRManageChannelsModalContent-centeredContainer-6K7kAs",progressContainer:"DVRManageChannelsModalContent-progressContainer-1GUW14"}},uh19:function(e,t,i){var n=i("3O+N");function a(e){return e&&(e.__esModule?e.default:e)}e.exports=(n.default||n).template((function(e,t,n,s,r){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),r=r||{};var o,l="",c=this,d=this.escapeExpression;function u(e,t){return"hidden"}function p(e,t){return"checked"}function h(e,t){return"disabled"}return l+='<form class="edit-section-folders-form settings-container"> <div id="arcade-upsell" class="',((o=n.if.call(t,t&&t.hideArcadeUpsell,{hash:{},inverse:c.noop,fn:c.program(1,u,r),data:r}))||0===o)&&(l+=o),l+='"> <p>'+d(a(i("d8WC")).call(t,"Introducing retro gaming in Plex, brought to you by Plex Labs!",{hash:{},data:r}))+'</p> <p class="help-block">'+d(a(i("d8WC")).call(t,"With a Plex Arcade subscription, you can play and stream many of your favorite retro games on Google Chrome, Microsoft Edge, Android, iOS or Apple TV devices! Try it for free for 7 days!",{hash:{},data:r}))+'</p> <p class="button-container"> <a type="button" href='+d("function"==typeof(o=t&&t.subscribeURL)?o.apply(t):o)+' target="_blank" class="subscribe-btn btn btn-primary">'+d(a(i("d8WC")).call(t,"Subscribe Now",{hash:{},data:r}))+'</a> </p> </div> <p id="arcade-required" class="',((o=n.if.call(t,t&&t.hideArcadeRequired,{hash:{},inverse:c.noop,fn:c.program(1,u,r),data:r}))||0===o)&&(l+=o),l+='">'+d(a(i("d8WC")).call(t,"Sorry, a {1}Plex Arcade subscription{2} is required to create a new Games library.",'<a href="https://www.plex.tv/subscription" target="_blank">',"</a>",{hash:{},data:r}))+'</p> <p id="arcade-greeting" class="',((o=n.if.call(t,t&&t.hideArcadeGreeting,{hash:{},inverse:c.noop,fn:c.program(1,u,r),data:r}))||0===o)&&(l+=o),l+='">'+d(a(i("d8WC")).call(t,"Thanks! You've got an active {1}Plex Arcade subscription{2}.",'<a href="https://www.plex.tv/subscription" target="_blank">',"</a>",{hash:{},data:r}))+'</p> <p id="parsec-required" class="',((o=n.if.call(t,t&&t.hideParsecRequired,{hash:{},inverse:c.noop,fn:c.program(1,u,r),data:r}))||0===o)&&(l+=o),l+='">'+d(a(i("d8WC")).call(t,"Playing games requires that you {1}create a Parsec account{2}, respond to their email confirmation, and then {3}link your Parsec account{4}.",'<a href="https://parsec.app" target="_blank">',"</a>",'<a href="https://plex.tv/users/other-services" target="_blank">',"</a>",{hash:{},data:r}))+"</p> ",((o=n.if.call(t,t&&t.isNewGamesSection,{hash:{},inverse:c.noop,fn:c.program(3,(function(e,t){var s,r="";return r+=' <div class="download-media-container"> <label> <input id="arcade-download-media" type="checkbox" name="downloadMedia" ',((s=n.if.call(e,null==(s=e&&e.section)||!1===s?s:s.downloadMedia,{hash:{},inverse:c.noop,fn:c.program(4,p,t),data:t}))||0===s)&&(r+=s),r+=" ",((s=n.if.call(e,e&&e.isDisabled,{hash:{},inverse:c.noop,fn:c.program(6,h,t),data:t}))||0===s)&&(r+=s),r+="/>"+d(a(i("d8WC")).call(e,"Include dozens of classic games from Atari like Asteroids, Centipede, Missile Command and more!",{hash:{},data:t}))+" </label> </div> "}),r),data:r}))||0===o)&&(l+=o),l+=" <p>"+d(a(i("d8WC")).call(t,"Add folders to your library",{hash:{},data:r}))+'</p> <div class="form-group Location-group"> <div class="paths-region"></div> <p class="button-container"> <button type="button" class="add-folder-btn btn btn-icon-label btn-default" ',((o=n.if.call(t,t&&t.isDisabled,{hash:{},inverse:c.noop,fn:c.program(6,h,r),data:r}))||0===o)&&(l+=o),l+="> ",((o=n.if.call(t,t&&t.isGamesSection,{hash:{},inverse:c.noop,fn:c.program(8,(function(e,t){var n="";return n+=' <i class="glyphicon folder-plus"></i> '+d(a(i("d8WC")).call(e,"Browse for games folder",{hash:{},data:t}))+" "}),r),data:r}))||0===o)&&(l+=o),l+=" ",((o=n.unless.call(t,t&&t.isGamesSection,{hash:{},inverse:c.noop,fn:c.program(10,(function(e,t){var n="";return n+=' <i class="glyphicon folder-plus"></i> '+d(a(i("d8WC")).call(e,"Browse for media folder",{hash:{},data:t}))+" "}),r),data:r}))||0===o)&&(l+=o),l+=' </button> </p> <p class="control-error">'+d(a(i("d8WC")).call(t,"At least one folder is required.",{hash:{},data:r}))+"</p> </div> ",((o=n.if.call(t,t&&t.isGamesSection,{hash:{},inverse:c.noop,fn:c.program(12,(function(e,t){var n="";return n+=' <p class="help-block">'+d(a(i("d8WC")).call(e,"Help us out by following {1}our guide{2} to naming and organizing your games.",'<a href="https://support.plex.tv/articles/naming-and-organizing-game-files-and-cores/?utm_source=Plex%20Apps&utm_medium=Plex%20Web&utm_campaign=Plex%20Apps" target="_blank">',"</a>",{hash:{},data:t}))+'</p> <p class="help-block">'+d(a(i("d8WC")).call(e,"Looking for more information? Check out our {1}Plex Arcade support articles{2}.",'<a href="https://support.plex.tv/articles/categories/features/arcade/" target="_blank">',"</a>",{hash:{},data:t}))+"</p> "}),r),data:r}))||0===o)&&(l+=o),l+=" ",((o=n.unless.call(t,t&&t.isGamesSection,{hash:{},inverse:c.noop,fn:c.program(14,(function(e,t){var n="";return n+=' <p class="help-block">'+d(a(i("d8WC")).call(e,"Help us out by following {1}our guide{2} to naming and organizing your media.",'<a href="https://support.plex.tv/articles/naming-and-organizing-your-movie-media-files/?utm_source=Plex%20Apps&utm_medium=Plex%20Web&utm_campaign=Plex%20Apps" target="_blank">',"</a>",{hash:{},data:t}))+"</p> "}),r),data:r}))||0===o)&&(l+=o),l+=" </form> "}))},ulDd:function(e,t,i){e.exports={tableHeader:"MetadataTableHeader-tableHeader-2bHAm0",playCell:"MetadataTableHeader-playCell-1oEdHR MetadataTableRow-playCell-ziDSkt TableHeaderCell-tableHeaderCell-1P5kwn TableCell-tableCell-4fCpHS",actionsCell:"MetadataTableHeader-actionsCell-1RppTc MetadataTableRow-libraryActionsCell-2OOmPb MetadataTableRow-actionsCell-1ax6EZ TableHeaderCell-tableHeaderCell-1P5kwn TableCell-tableCell-4fCpHS",columnsButton:"MetadataTableHeader-columnsButton-33h2bW"}},upBJ:function(e,t,i){e.exports={listModalSubheader:"AddToPlaylistModalContent-listModalSubheader-2iqJkg",listModalInnerBody:"AddToPlaylistModalContent-listModalInnerBody-3Lr83z",createForm:"AddToPlaylistModalContent-createForm-7H1yU-",createButton:"AddToPlaylistModalContent-createButton-19CeH0"}},upXi:function(e,t,i){e.exports={header:"LibraryFilterOptionsList-header-JO56lu",headerTitle:"LibraryFilterOptionsList-headerTitle-21Ewqn",backIcon:"LibraryFilterOptionsList-backIcon-15GqTg",filterText:"LibraryFilterOptionsList-filterText-ys_NHp",searchInput:"LibraryFilterOptionsList-searchInput-3YaUSo TextInput-input-1VMuma input-input-1P2Vi4",filterOptionsScroller:"LibraryFilterOptionsList-filterOptionsScroller-1TXk8A Scroller-vertical-VScFLT",filterOptionsWithSearchScroller:"LibraryFilterOptionsList-filterOptionsWithSearchScroller-3ARHUk LibraryFilterOptionsList-filterOptionsScroller-1TXk8A Scroller-vertical-VScFLT",filterOptionMenuItem:"LibraryFilterOptionsList-filterOptionMenuItem-3bhER_ MenuItem-menuItem-1s02mQ",emptyText:"LibraryFilterOptionsList-emptyText-1SzoY8"}},uprk:function(e,t,i){e.exports={baseForm:"MediaSubscriptionForm-baseForm-2bT5Ug",advancedForm:"MediaSubscriptionForm-advancedForm-26WFwH",cancelConfirmation:"MediaSubscriptionForm-cancelConfirmation-2aCvUv",advancedSettings:"MediaSubscriptionForm-advancedSettings-3dyPlo",baseSettings:"MediaSubscriptionForm-baseSettings-2ssnbm",footer:"MediaSubscriptionForm-footer-2U6dhX ModalFooter-modalFooter-30WIB5",cancelConfirmationFooter:"MediaSubscriptionForm-cancelConfirmationFooter-3JtInX ModalFooter-modalFooter-30WIB5",advancedIcon:"MediaSubscriptionForm-advancedIcon-j3Yxg9"}},"urZ/":function(e,t,i){e.exports={statusButton:"PrePlayStatusButton-statusButton-28XJ7z Button-default--yDCH5"}},uyqX:function(e,t,i){e.exports={container:"ShareSummary-container-1DKUno",modalBody:"ShareSummary-modalBody-1l_PJl ModalBody-modalBody--5uHSu",content:"ShareSummary-content-gIEf7Y",inviteLink:"ShareSummary-inviteLink-2rDWM5",input:"ShareSummary-input-2csGE7 TextInput-input-1VMuma input-input-1P2Vi4",copyLink:"ShareSummary-copyLink-1bH3yr Link-link-2n0yJn",modalFooter:"ShareSummary-modalFooter-3VMDIR ModalFooter-modalFooter-30WIB5"}},v6AS:function(e,t,i){e.exports={buttonBar:"ModalFooterButtonBar-buttonBar-3X6qjo"}},v7SW:function(e,t,i){e.exports={errorButton:"CalendarErrorButton-errorButton-1z8H1l",errorTooltip:"CalendarErrorButton-errorTooltip-lo9O-P Tooltip-bottomCenter-2yj43D Tooltip-tooltip-9TKmAQ Tooltip-tooltipArrow-3GUCry Tooltip-tooltipTopArrow-NjH0DX Tooltip-tooltipCenterAlignArrow-35uHtY"}},v9T8:function(e,t,i){e.exports={cardCircle:"MetadataPosterCardCircle-cardCircle-2NfIyT"}},v9kw:function(e,t,i){e.exports={unavailableButton:"PrePlayUnavailableButton-unavailableButton-3dycrS PrePlayStatusButton-statusButton-28XJ7z Button-default--yDCH5"}},vCrX:function(e,t,i){var n=i("3O+N");function a(e){return e&&(e.__esModule?e.default:e)}e.exports=(n.default||n).template((function(e,t,n,s,r){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),r=r||{};var o="",l=this.escapeExpression;return o+='<form class="edit-section-type-form settings-container"> <p>'+l(a(i("d8WC")).call(t,"There was an error adding this library.",{hash:{},data:r}))+"</p> <p>"+l(a(i("d8WC")).call(t,"Please visit the {1}forums{2} and provide your logs, as described {3}here{4}.",'<a href="https://forums.plex.tv" target="_blank">',"</a>",'<a href="http://support.plex.tv/hc/en-us/articles/200250417-Log-File-Locations/?utm_source=Plex%20Apps&utm_medium=Plex%20Web&utm_campaign=Plex%20Apps" target="_blank">',"</a>",{hash:{},data:r}))+"</p> </form> "}))},vD73:function(e,t,i){e.exports={disclosureArrowButton:"DisclosureArrowButton-disclosureArrowButton-11LSbY Link-link-2n0yJn",isSelected:"DisclosureArrowButton-isSelected-1aPl5o",small:"DisclosureArrowButton-small-2fBp-o",medium:"DisclosureArrowButton-medium-3zt1WM",large:"DisclosureArrowButton-large-2E9J1Y",disclosureArrow:"DisclosureArrowButton-disclosureArrow-1Gz1vb DisclosureArrow-disclosureArrow-1KPaBC",down:"DisclosureArrowButton-down-2EHTTC",left:"DisclosureArrowButton-left-1_7OFY",up:"DisclosureArrowButton-up-3CeKSp",right:"DisclosureArrowButton-right-3r62HY"}},vEnl:function(e,t,i){var n=i("3O+N");function a(e){return e&&(e.__esModule?e.default:e)}e.exports=(n.default||n).template((function(e,t,n,s,r){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),r=r||{};var o,l="",c=this.escapeExpression,d=this;function u(e,t){return"checked"}return l+='<div class="row"> <div class="col-sm-6 col-sm-offset-3"> <div class="setup-apps-container"> <img class="setup-apps-image" src="'+c("function"==typeof(o=t&&t.devicesImg)?o.apply(t):o)+'"> <a href="https://plex.tv/downloads" target="_blank" class="btn btn-default btn-lg">'+c(a(i("d8WC")).call(t,"Get Plex Apps",{hash:{},data:r}))+'</a> </div> <p class="text-muted">'+c(a(i("d8WC")).call(t,"All set! Your Plex Media Server is working hard to find your media and make it beautiful. Grab the Plex app for all your favorite devices to get the most out of Plex and start streaming everywhere!",{hash:{},data:r}))+'</p> <form id="setup-complete-form" class="settings-container"> ',((o=n.if.call(t,t&&t.collectUsageDataSetting,{hash:{},inverse:d.noop,fn:d.program(1,(function(e,t){var s,r="";return r+=' <div class="checkbox"> <label for="'+c("function"==typeof(s=null==(s=e&&e.collectUsageDataSetting)||!1===s?s:s.id)?s.apply(e):s)+'"> <input type="checkbox" id="'+c("function"==typeof(s=null==(s=e&&e.collectUsageDataSetting)||!1===s?s:s.id)?s.apply(e):s)+'" name="'+c("function"==typeof(s=null==(s=e&&e.collectUsageDataSetting)||!1===s?s:s.id)?s.apply(e):s)+'" value="1" ',((s=n.if.call(e,null==(s=e&&e.collectUsageDataSetting)||!1===s?s:s.value,{hash:{},inverse:d.noop,fn:d.program(2,u,t),data:t}))||0===s)&&(r+=s),r+="> "+c(a(i("d8WC")).call(e,"Send anonymous usage data to Plex",{hash:{},data:t}))+' </label> </div> <p class="setup-complete-help text-muted"> '+c(a(i("d8WC")).call(e,"Help us improve everyone's Plex experience by sending anonymous usage data.",{hash:{},data:t}))+" </p> "}),r),data:r}))||0===o)&&(l+=o),l+=' <div class="setup-footer setup-done-footer"> <button class="next-btn btn btn-default btn-lg" data-subset="setupLibrary">'+c(a(i("d8WC")).call(t,"Back",{hash:{},data:r}))+'</button> <button type="submit" class="submit-btn btn btn-primary btn-loading btn-lg active"> <div class="loading loading-sm"></div> <span class="btn-label">'+c(a(i("d8WC")).call(t,"Done",{hash:{},data:r}))+'</span> </button> <button class="done-btn btn btn-primary btn-lg hidden"></button> </div> </form> </div> </div> <div class="modal-container"></div> '}))},vMaE:function(e,t,i){e.exports={container:"WatchTogetherRoomEventToasts-container-1FskJf",toast:"WatchTogetherRoomEventToasts-toast-qUbkMv"}},vOHB:function(e,t,i){"use strict";var n=i("QPyl"),a=i("3oIs");const s=function(){if(!a.a)return!1;const e=document.createElement("canvas");return!!(e&&e.getContext&&e.getContext("2d"))}(),r={isHostedHttps:a.a&&"https:"===window.location.protocol,hasConsole:!!(window.console&&window.console.log&&window.console.log.call),hasWebSocket:a.a&&!!window.WebSocket,hasEventSource:a.a&&!!window.EventSource,hasReplaceState:a.a&&!(!window.history||!window.history.replaceState),hasFileUpload:a.a&&!!(window.File&&window.FileList&&window.FileReader),hasMediaSource:a.a&&!(!window.MediaSource&&!window.WebKitMediaSource),hasObjectUrl:!n.a.presto&&a.a&&!!(window.URL&&window.URL.createObjectURL&&window.URL.revokeObjectURL),hasBlob:function(){try{return!!new window.Blob}catch(e){return!1}}(),hasFullscreen:function(){if(!a.a)return!1;const e=document.createElement("div");return!!(e.requestFullscreen||e.webkitRequestFullScreen||e.mozRequestFullScreen)}(),hasCanvas:s,hasWebGL:function(){if(!s)return!1;const e=document.createElement("canvas"),t=e.getContext("webgl")||e.getContext("experimental-webgl");return!!t&&t instanceof window.WebGLRenderingContext}(),hasTouchScreen:a.a&&!!("ontouchstart"in window),hasPageVisibility:a.a&&(!0===document.hidden||!1===document.hidden),hasWebKitPageVisibility:a.a&&(!0===document.webkitHidden||!1===document.webkitHidden),hasPassiveEventListeners:function(){let e=!1;try{const t=Object.defineProperty({},"passive",{get:function(){return e=!0,!0}});window.addEventListener("test",null,t)}catch(e){}return e}(),hasWebSpeech:a.a&&!!window.speechSynthesis,hasServiceWorker:a.a&&!(!window.navigator||!window.navigator.serviceWorker),hasGamepads:a.a&&"function"==typeof window.navigator.getGamepads,hasMediaSession:a.a&&"mediaSession"in window.navigator};t.a=r},vQY0:function(e,t,i){e.exports={innerEmptyPage:"InnerEmptyPage-innerEmptyPage-1MHKZS EmptyPage-emptyPage-2AM9uQ",innerEmptyPageContent:"InnerEmptyPage-innerEmptyPageContent-3kRFWc EmptyPage-content-10PgBS"}},vSud:function(e,t,i){e.exports={sidebarListHeaderContainer:"SidebarList-sidebarListHeaderContainer-2D2g-W",sidebarListHeader:"SidebarList-sidebarListHeader-1t0yzs",sidebarListHeaderIcon:"SidebarList-sidebarListHeaderIcon-3Itr_l"}},vTNh:function(e,t,i){e.exports={listItem:"HomeHubListItemDragPreview-listItem-iDQ3JS HomeHubListItem-listItem-3aSc2w"}},vXsA:function(e,t,i){e.exports={container:"DeviceChannelMappingsHeader-container-1VViTz",deviceChannelsContainer:"DeviceChannelMappingsHeader-deviceChannelsContainer-1TSeU3",guideChannels:"DeviceChannelMappingsHeader-guideChannels-3D6cOQ",deviceChannels:"DeviceChannelMappingsHeader-deviceChannels-iZFrgG",signalStrength:"DeviceChannelMappingsHeader-signalStrength-1vcKgT",deviceChannelsPadding:"DeviceChannelMappingsHeader-deviceChannelsPadding-AkfFyu"}},vau6:function(e,t,i){e.exports={item:"MetadataTrackCell-item-218Rwm",isActionsMenuOpen:"MetadataTrackCell-isActionsMenuOpen-9m3QIm",index:"MetadataTrackCell-index-SRMm4f",duration:"MetadataTrackCell-duration-_NFMrJ",playButton:"MetadataTrackCell-playButton-A4P6on PlayButton-playButton-3WX8X- MetadataTrackCell-button-3Y1jAH",button:"MetadataTrackCell-button-3Y1jAH",hasActiveSelection:"MetadataTrackCell-hasActiveSelection-2K30-L",underlay:"MetadataTrackCell-underlay-2w73nF",isForcingSelection:"MetadataTrackCell-isForcingSelection-2_5rmx",overlay:"MetadataTrackCell-overlay-1ttKRU",editButton:"MetadataTrackCell-editButton-273Zg_ MetadataTrackCell-button-3Y1jAH",moreButton:"MetadataTrackCell-moreButton-1bneFN MetadataTrackCell-button-3Y1jAH",isSelected:"MetadataTrackCell-isSelected-2J-Jyg",selectButton:"MetadataTrackCell-selectButton-2SGNAh SelectButton-selectButton-3Kbjm9 MetadataTrackCell-button-3Y1jAH",alternateItem:"MetadataTrackCell-alternateItem-2TLQqb MetadataTrackCell-item-218Rwm",container:"MetadataTrackCell-container-1n4vzv",playIndexContainer:"MetadataTrackCell-playIndexContainer-2spzEE",posterContainer:"MetadataTrackCell-posterContainer-3WFjf3",titleContainer:"MetadataTrackCell-titleContainer-2MVHF0",actionsContainer:"MetadataTrackCell-actionsContainer-4JPLSt",equalizer:"MetadataTrackCell-equalizer-37dBny EqualizerIcon-equalizer-2SoFA6",subtitle:"MetadataTrackCell-subtitle-2-CISa",rating:"MetadataTrackCell-rating-2xr-EN",separator:"MetadataTrackCell-separator-1wI-J9 DashSeparator-separator-4CyEFW",buttons:"MetadataTrackCell-buttons-yLmJ5m",selectCoverButton:"MetadataTrackCell-selectCoverButton-QoTAMD"}},"vd0/":function(e,t,i){e.exports={icon:"ServerIsClaimedIcon-icon-dQsVa9"}},vdRG:function(e,t,i){"use strict";var n=i("cgRT"),a=i("CHn6"),s=i("mOXR"),r=i("kwss"),o=i("tibn"),l=i("Ngum"),c=i("FIl5"),d=i("WfN5"),u=i("7za+"),p=i("FWoo");const h=a.a.extend({name:"MediaGrabOperationModel",context:["server","provider"],rootPropertyName:"MediaGrabOperation",syncedAttrs:{mediaSubscriptionID:s.a.string,provider:s.a.string,identifier:s.a.string,mediaIndex:s.a.integer,channelTitle:s.a.string,status:s.a.string,error:s.a.string,linkedKey:s.a.string,key:s.a.string,rolling:s.a.boolean},sessionAttrs:{isLibraryMetadataItemPending:s.a.boolean,isLibraryMetadataItemPopulated:s.a.boolean,libraryMetadataItemError:s.a.object},syncedRelations:{metadataItem:{relationClass:o.a,rootPropertyName:"Metadata"},conflicts:()=>({relationClass:i("khlA").default,deferred:!0})},sessionRelations:{libraryMetadataItem:{relationClass:o.a,deferred:!0}},derivedAttrs:{mediaItem(){const e=this.get("mediaIndex");return(this.get("metadataItem").get("Media")||[])[e]},beginsAt(){const e=this.get("mediaItem");return e&&e.beginsAt},endsAt(){const e=this.get("mediaItem");return e&&e.endsAt}},defaults:{rolling:!1,isLibraryMetadataItemPending:!0,isLibraryMetadataItemPopulated:!1,libraryMetadataItemError:null},augmentResponse(e){let t=e;if(t[this.rootPropertyName]&&(t=t[this.rootPropertyName]),t.Conflicts&&(t.conflicts=t.Conflicts.MediaGrabOperation,delete t.Conflicts),!r.a.shouldCreateStateTree)return t;const i=t.Metadata,a=c.a.parseArray(i.Media),s=c.a.parseInteger(t.mediaIndex),o=Object(d.a)(u.g,i.key,this.server.entityID()),h=Object(n.c)("appModel"),m=Object(p.a)(h,u.g,o);if(m){const e=m.get("Media").map(l.a),i=a.map(l.a)[s],n=e.findIndex(e=>i===e);t.mediaIndex=-1!==n?n:s+e.length}return t}});t.a=h},vjRy:function(e,t,i){"use strict";i.r(t);var n=i("B69o"),a=i("nvND"),s=i("Q3JP"),r=i("Pizw"),o=i("tibn");const l=n.a.extend({name:"MetadataCollection",context:["server","provider","section","playlist","identifier","mediaTagPrefix","mediaTagVersion","allowSync","containerKey","includeExternalMedia"],model:o.a,responseType(){return Object(s.a)(this.server)},url(){return this.containerKey},augmentResponseText:(e,t)=>t===a.c?Object(r.b)(e):e,splitByType:function(){const e={};return this.each(t=>{const i=t.get("type");e.hasOwnProperty(i)?e[i].push(t):e[i]=[t]}),e}});t.default=l},vkXu:function(e,t,i){"use strict";function n(e,t){const i=e.toJSON?e.toJSON():e,{isExtra:n,guid:a}=i;return!(n&&!/^file:\/\//.test(a))&&t}i.d(t,"a",(function(){return n}))},voa6:function(e,t,i){e.exports={header:"DatePickerTimeList-header-2g8yBs",backIcon:"DatePickerTimeList-backIcon-1dZa89",headerText:"DatePickerTimeList-headerText-3xMhWJ"}},vtAB:function(e,t,i){e.exports={container:"PlaylistItemRow-container-PfUn9T",isSelected:"PlaylistItemRow-isSelected-1Ajx9r",button:"PlaylistItemRow-button-13eRZH",moveControl:"PlaylistItemRow-moveControl-2sc-ei",otherControls:"PlaylistItemRow-otherControls-2m4rnM",metadataDurationContainer:"PlaylistItemRow-metadataDurationContainer-96Rvw1 PlaylistItemMetadata-durationContainer-yQA2Vd",attributionContainer:"PlaylistItemRow-attributionContainer-1ceTSe PlaylistItemMetadata-attributionContainer-3xQOQf SourceBadge-container-3OfQBW",isForcingSelection:"PlaylistItemRow-isForcingSelection-3N6BrL",selectButton:"PlaylistItemRow-selectButton-1nLWBt SelectButton-selectButton-3Kbjm9 PlaylistItemRow-button-13eRZH",hasActiveSelection:"PlaylistItemRow-hasActiveSelection-3MrNhY",overlay:"PlaylistItemRow-overlay-2nVlqP",removeButton:"PlaylistItemRow-removeButton-1g21fe IconButton-button-9An-7I",moreButton:"PlaylistItemRow-moreButton-1zrwp6 IconButton-button-9An-7I",alternateContainer:"PlaylistItemRow-alternateContainer-2SVf_N PlaylistItemRow-container-PfUn9T",metadataContainer:"PlaylistItemRow-metadataContainer-1BWE59 PlaylistItemMetadata-container-2NWQH2",underlay:"PlaylistItemRow-underlay-iZmQR7",sourceText:"PlaylistItemRow-sourceText-3_tAtW",grabIcon:"PlaylistItemRow-grabIcon--qMgMI",isItemDragging:"PlaylistItemRow-isItemDragging-2d2WaL"}},"w+Nc":function(e,t,i){e.exports={avatar:"AvatarImg-avatar-3Op56u"}},"w+Xr":function(e,t){e.exports=function(e,t,i){return e===t?i.fn(this):i.inverse(this)}},w1d1:function(e,t,i){e.exports={modalContent:"GenerateRecoveryCodesModal-modalContent-g_D5jx ModalContent-modalContent-4GS6yU",innerModalBody:"GenerateRecoveryCodesModal-innerModalBody-CZW_GQ ModalBody-innerModalBody-BHe1nE",inputGroup:"GenerateRecoveryCodesModal-inputGroup-2ev7Iq"}},w9Qn:function(e,t,i){e.exports={title:"MetadataPosterTitle-title-3tU5F9",singleLineTitle:"MetadataPosterTitle-singleLineTitle-24_DNu MetadataPosterTitle-title-3tU5F9",doubleLineTitle:"MetadataPosterTitle-doubleLineTitle-37-cWF MetadataPosterTitle-title-3tU5F9",isSecondary:"MetadataPosterTitle-isSecondary-2VUxYk",isSplitLine:"MetadataPosterTitle-isSplitLine-oK3N1p"}},wAGh:function(e,t,i){"use strict";i.d(t,"i",(function(){return W})),i.d(t,"h",(function(){return Q})),i.d(t,"c",(function(){return G})),i.d(t,"d",(function(){return K})),i.d(t,"e",(function(){return Y})),i.d(t,"f",(function(){return q})),i.d(t,"g",(function(){return Z})),i.d(t,"a",(function(){return X})),i.d(t,"b",(function(){return $})),i.d(t,"x",(function(){return ee})),i.d(t,"O",(function(){return te})),i.d(t,"Q",(function(){return ie})),i.d(t,"R",(function(){return ne})),i.d(t,"N",(function(){return ae})),i.d(t,"P",(function(){return se})),i.d(t,"r",(function(){return re})),i.d(t,"E",(function(){return oe})),i.d(t,"F",(function(){return le})),i.d(t,"w",(function(){return ce})),i.d(t,"A",(function(){return de})),i.d(t,"B",(function(){return ue})),i.d(t,"C",(function(){return pe})),i.d(t,"D",(function(){return he})),i.d(t,"q",(function(){return me})),i.d(t,"H",(function(){return ge})),i.d(t,"G",(function(){return ve})),i.d(t,"I",(function(){return ye})),i.d(t,"J",(function(){return fe})),i.d(t,"k",(function(){return be})),i.d(t,"l",(function(){return Ie})),i.d(t,"m",(function(){return Se})),i.d(t,"o",(function(){return Ce})),i.d(t,"p",(function(){return Me})),i.d(t,"n",(function(){return De})),i.d(t,"j",(function(){return Pe})),i.d(t,"y",(function(){return Oe})),i.d(t,"z",(function(){return je})),i.d(t,"v",(function(){return we})),i.d(t,"t",(function(){return Te})),i.d(t,"s",(function(){return Ee})),i.d(t,"K",(function(){return Ne})),i.d(t,"M",(function(){return xe})),i.d(t,"L",(function(){return Ae})),i.d(t,"u",(function(){return ke}));var n=i("EVdn"),a=i.n(n),s=i("F/us"),r=i.n(s),o=i("ICb1"),l=i("+X4A"),c=i("kwss"),d=i("NCaO");var u=i("Qc+q");function p(e){const t=Object(u.a)(e),i=e.get("currentDecision");if(t&&i)return i.playQueueItemID===t.get("playQueueItemID")?i:void 0}var h=i("DdRF"),m=i("tNwU");var g=i("sdSe");var v=function(e,t){const i=Object(l.parseUrl)(e),{origin:n,pathname:a,params:s}=i;return s.offset=t,Object(l.join)([n,a],s)},y=i("slDQ"),f=i("0jae");var b=i("IbpV"),I=i("RNo0"),S=i("2Xys"),C=i("nvND");var M=i("qNzc"),D=i("Vk9Z"),P=i("gnaf"),O=i("Sp9s"),j=i("Xh8s"),w=i("FdSe");function T(e){return{startedAt:Object(S.a)(e.timeStamp),seekStartSeconds:Object(S.a)(e.minOffsetAvailable),seekEndSeconds:Object(S.a)(e.maxOffsetAvailable)}}var E=i("1iMN"),N=i("P9FS"),x=i("L7Oz"),A=i("/oUX"),L=i("INWF");var k=i("JUjL"),R=i("IpeH");var z=i("hPIe"),U=i("+Mxn"),V=i("1Lwt"),B=i("66GW"),F=i("bcER"),H=i("T0/d"),_=i("U1rH");const W="ui/player/playerMedia/updatePlayerPosition",Q="ui/player/playerMedia/togglePlayPause",G="ui/player/playerMedia/seek",K="ui/player/playerMedia/skipBack",Y="ui/player/playerMedia/skipForward",q="ui/player/playerMedia/stepBack",Z="ui/player/playerMedia/stepForward",J="ui/player/playerMedia/changeVolume",X="ui/player/playerSettings/changeQualityIndex",$="ui/player/playerSettings/changeStream",ee=Object(o.a)("ui/player/playerMedia/sendTimeline"),te=Object(o.a)("ui/player/playerMedia/updatePlayerDuration"),ie=Object(o.a)(W),ne=Object(o.a)("ui/player/playerMedia/updatePlayerSeekRange"),ae=Object(o.a)("ui/player/playerMedia/updatePlayerBuffering"),se=(Object(o.a)("ui/player/playerMedia/updatePlayerLoading"),Object(o.a)("ui/player/playerMedia/updatePlayerError")),re=Object(o.a)("ui/player/playerMedia/clearPlayerError"),oe=Object(o.a)("ui/player/playerMedia/tickPlayer"),le=Object(o.a)(Q),ce=Object(o.a)(G),de=(Object(o.a)("ui/player/playerMedia/transcodeSeek"),Object(o.a)(K)),ue=Object(o.a)(Y),pe=Object(o.a)(q),he=Object(o.a)(Z),me=Object(o.a)(J),ge=Object(o.a)("ui/player/playerSettings/togglePlayerSettingsState"),ve=Object(o.a)("ui/player/playerSettings/togglePlayerChaptersState"),ye=Object(o.a)("ui/player/playerSettings/togglePlayerSubtitlesOffsetState"),fe=Object(o.a)("ui/player/playerSettings/togglePlayerWatchTogetherParticipantsState"),be=Object(o.a)(X),Ie=Object(o.a)($),Se=Object(o.a)("ui/player/playerSettings/changeSubtitleColor"),Ce=Object(o.a)("ui/player/playerSettings/changeSubtitlePosition"),Me=Object(o.a)("ui/player/playerSettings/changeSubtitleSize"),De=Object(o.a)("ui/player/playerSettings/changeSubtitleOffset"),Pe=Object(o.a)("ui/player/playerMedia/changePlaybackSpeed"),Oe=Object(o.a)("ui/player/playerMedia/setItemPlaybackTime"),je=Object(o.a)("ui/player/playerMedia/setSessionPlaybackTime"),we=Object(o.a)("ui/player/playerMedia/refreshStreams"),Te=Object(o.a)(Q,e=>Object.assign({},e,{shouldPlay:!0})),Ee=Object(o.a)(Q,e=>Object.assign({},e,{shouldPause:!0})),Ne=(Object(o.a)(J,e=>Object.assign({},e,{delta:5})),Object(o.a)(J,e=>Object.assign({},e,{delta:-5})),Object(o.a)("ui/player/playerMedia/updateBufferedRanges")),xe=Object(o.a)("ui/player/playerMedia/updateMediaDimensions"),Ae=Object(o.a)("ui/player/playerMedia/updateCanPlayThrough");function Le(e,t,i){return Math.max(0,Math.min(t-m.b,e+i))}const ke={"ui/player/playerMedia/sendTimeline"(e,t,i){var n;const{playerType:s,providerEntityID:o,mediaItemID:c,shouldRefreshPlayQueue:d,options:u={}}=t,p=Object(U.c)(e,s),h=z.j(e,{providerEntityID:o}),m=z.h(e,t),v=z.f(e,t);if(!v&&P.k(h.get("identifier"),[P.c,P.b]))return;const y=m.get("isLocal")?void 0:m.get("playQueueItemID"),E=null==(n=z.q(e,t))?void 0:n.get("grabOperation").get("metadataItem");(function(e,t,i){const{playQueueItemID:n,mediaItemID:s,mediaIndex:o,partIndex:c,partCount:d,state:u,continuing:p,playbackTime:h,positionSeconds:m,durationSeconds:g,metricsContextTuple:v,ratingKey:y,key:b}=i,E=e.get("features").get(D.r);if(!E)return a.a.Deferred().reject().promise();const N=Object.assign({ratingKey:y||t.get("ratingKey"),key:b||t.get("key"),playbackTime:h,playQueueItemID:n,state:u,hasMDE:1},v?Object(w.c)(v):void 0);if(u===M.e&&p&&(N.continuing=1),P.k(e.get("identifier"),[P.c,P.b])&&(N.airingID=s),null!=g){const e=1e3*m,i=1e3*g;if(d>1){const i=t.get("Media")[o],n=i.Part[c];N.time=Object(O.a)(i,n,e),N.duration=i.duration}else N.time=e,N.duration=i;N.duration=Math.max(N.time,N.duration)}Object(f.a)("[Player] Timeline, %s",N);const x=l.join(E.get("key"),N),A=t.provider.getXHROptions(x,{headers:{accept:C.c.accept,"X-Plex-Session-Identifier":i.playbackSessionID}});return a.a.ajax(A).promise().then(e=>{const i=Object(j.a)(e);return i.terminationCode&&(i.terminationCode=Object(S.a)(i.terminationCode)),i.generalDecisionCode&&(i.generalDecisionCode=Object(S.a)(i.generalDecisionCode)),i.mdeDecisionCode&&(i.mdeDecisionCode=Object(S.a)(i.mdeDecisionCode)),i.transcodeDecisionCode&&(i.transcodeDecisionCode=Object(S.a)(i.transcodeDecisionCode)),i.Bandwidths&&i.TranscodeSession&&(i.bandwidthTimeline={bandwidths:Object(I.a)(i.Bandwidths.Bandwidth),transcodeSessionID:r.a.last(i.TranscodeSession.key.split("/"))}),i.CaptureBuffer&&i.CaptureBuffer.TranscodeSession&&(i.captureBuffer=T(i.CaptureBuffer.TranscodeSession)),i.TranscodeSession&&(i.transcodeSession=T(i.TranscodeSession)),N.time>6e4&&("progress"===i.playbackState?t.set("viewOffset",N.time):"complete"===i.playbackState&&t.set({viewOffset:0,viewCount:1})),i})})(h,v,Object.assign({state:Object(g.a)(p),playbackSessionID:p.get("playbackSessionID"),playQueueItemID:y,mediaItemID:c,metricsContextTuple:p.get("metricsContextTuple"),key:null==E?void 0:E.get("key"),ratingKey:null==E?void 0:E.get("ratingKey")},u)).done(Object(x.a)(p,e=>{i(Object(_.E)({playerType:s}));const{bandwidthTimeline:t,captureBuffer:n,transcodeSession:a}=e;p.set("bandwidthTimeline",t);const r=p.get("liveTVSession");a?(i(ne({playerType:s,seekStartSeconds:a.seekStartSeconds,seekEndSeconds:a.seekEndSeconds})),r&&a.startedAt&&r.set({startedAt:a.startedAt,captureBuffer:n})):n&&(i(ne({playerType:s,seekStartSeconds:n.seekStartSeconds,seekEndSeconds:n.seekEndSeconds})),r&&n.startedAt&&r.set({startedAt:n.startedAt}));const o=p.get("playQueue");d&&o.get("playQueueSelectedItemID")===m.get("playQueueItemID")&&Object(b.a)(o).done(Object(x.a)(p,()=>{i(Object(_.E)({playerType:s}))})),e.terminationCode&&(i(Object(_.C)()),p.restoreDefaults({hasError:!0,errorMessage:e.terminationText}))}))},"ui/player/playerMedia/updatePlayerDuration"(e,{playerType:t,durationMilliseconds:i}){const n=Object(U.c)(e,t),a=Object(u.a)(n).get("metadataItem"),s=p(n);if(!s)return;const r=a.get("Media")[s.mediaIndex],o=Object(k.a)(r),l=!!o&&"vbr"===o.bitrateMode,c=i>0&&!l?i:r.duration;n.set({isMediaLoading:!1,durationSeconds:Math.floor((c||0)/1e3)})},[W](e,{playerType:t,positionSeconds:i}){const n=Object(U.c)(e,t);Object(V.a)(()=>{const e={positionSeconds:i},t=n.get("lastSeekPositionSeconds");null!==t&&i>t&&(e.lastSeekPositionSeconds=null),n.set(e)})},"ui/player/playerMedia/updatePlayerSeekRange"(e,{playerType:t,seekStartSeconds:i,seekEndSeconds:n}){Object(U.c)(e,t).set({seekStartSeconds:i,seekEndSeconds:n})},"ui/player/playerMedia/updatePlayerBuffering"(e,{playerType:t,isBuffering:i}){Object(U.c)(e,t).set({isBuffering:i})},"ui/player/playerMedia/updatePlayerLoading"(e,{playerType:t,isMediaLoading:i}){Object(U.c)(e,t).set({isMediaLoading:i})},"ui/player/playerMedia/updatePlayerError"(e,t){Object(U.c)(e,t.playerType).set({isMediaLoading:!1,hasError:!0,errorMessage:t.errorMessage,errorCode:t.errorCode,errorCategory:t.errorCategory})},"ui/player/playerMedia/clearPlayerError"(e,{playerType:t}){const i=Object(U.c)(e,t);Object(V.a)(()=>{i.set({hasError:!1,errorMessage:null,errorCode:null,errorCategory:null})})},"ui/player/playerMedia/tickPlayer"(e,t,i){const{metadataItemEntityID:n,liveTVSessionEntityID:s,mediaItemID:r,playerType:o,secondsElapsed:l}=t,c=Object(U.c)(e,o),d=c.get("playQueue"),u=p(c);if(!u)return;const h=c.get("isPaused"),m=l%30==0;if(l%10==0){const e=d.get("playQueueSelectedItemID"),t=d.get("playQueueItems").get(e);i(ee({playerType:o,providerEntityID:c.get("providerEntityID"),playQueueItemEntityID:t.entityID(),metadataItemEntityID:n,liveTVSessionEntityID:s,mediaItemID:r,options:{playbackTime:c.get("itemPlaybackTime"),positionSeconds:c.get("positionSeconds"),durationSeconds:c.get("durationSeconds"),mediaIndex:u.mediaIndex,partIndex:u.partIndex,partCount:u.partCount}}))}if(m&&h&&u.transcodeSessionID){const t=u.transcodeServerEntityID;!function(e,t){Object(y.a)(t,"A transcoder ping requires a session identifier"),Object(f.a)("[Player] Transcoder Ping, %s",t);const i="/video/:/transcode/universal/ping?session="+t;a.a.ajax(e.getXHROptions(i)).promise()}(z.m(e,{serverEntityID:t}),u.transcodeSessionID)}},[Q](e,{playerType:t,shouldPlay:i,shouldPause:n,isApplicationInitiated:a},s){const r=Object(U.c)(e,t),o=r.get("isPaused"),l=Object(h.a)(e);let c;a||!Object(N.a)(r)?r.get("isPostPlayVisible")?Object(V.a)(()=>{r.set({isPostPlayVisible:!1}),l.playNextItem(r,!0)}):(c=i?"play":n?"pause":o?"play":"pause",o&&"pause"===c||!o&&"play"===c||Object(V.a)(()=>{l[c](r,a)})):s(Object(L.d)(Object(B.default)("Pausing is not enabled on this channel")))},[G](e,{playerType:t,positionSeconds:i}){const n=Object(U.c)(e,t),a=Object(h.a)(e);Object(N.a)(n)||Object(V.a)(()=>{a.seek(n,i)})},"ui/player/playerMedia/transcodeSeek"(e,{playerType:t,positionSeconds:i}){const n=Object(U.c)(e,t),a=p(n);if(!a)return;const s=Object(u.a)(n).entityID(),r=n.get("liveTVSession");let o=i;if(r){const e=r.get("captureBuffer"),t=r.get("startedAt");o+=t-e.startedAt,r.set({startedAt:t+i})}const l=Object.assign({},a,{url:v(a.url,o)});n.set({currentDecision:l,decisions:Object.assign({},n.get("decisions"),{[s]:l})})},[K](e,{playerType:t,allowDebounce:i=!0}){const n=Object(U.c)(e,t);if(Object(N.a)(n))return;const a=Object(h.a)(e),s=i?c.a.seekDebounceMilliseconds:null,r=Le(n.get("nextPositionSeconds")||n.get("positionSeconds"),n.get("durationSeconds"),-m.c);Object(V.a)(()=>{a.seek(n,r,s)})},[Y](e,{playerType:t,allowDebounce:i=!0}){const n=Object(U.c)(e,t);if(Object(N.a)(n))return;const a=Object(h.a)(e),s=n.get("positionSeconds"),r=n.get("nextPositionSeconds"),o=n.get("durationSeconds"),l=i?c.a.seekDebounceMilliseconds:null;if(o-s>m.b){const e=Le(r||s,o,m.d);Object(V.a)(()=>{a.seek(n,e,l)})}},[q](e,{playerType:t}){const i=Object(U.c)(e,t),n=Object(u.a)(i).get("metadataItem");if(Object(N.a)(i))return;const a=Object(h.a)(e),s=n.get("chapters"),r=i.get("positionSeconds"),o=i.get("nextPositionSeconds"),l=i.get("durationSeconds");let c;c=s&&s.length?function(e,t){if(e&&e.length){for(let i=e.length-1;i>=0;i--){const n=e.at(i),a=Math.ceil(n.get("startTimeOffset")/1e3);if(a<t-m.a)return a}return 0}}(s,o||r):Le(o||r,l,-m.e),Object(V.a)(()=>{a.seek(i,c)})},[Z](e,{playerType:t}){const i=Object(U.c)(e,t),n=Object(u.a)(i).get("metadataItem");if(Object(N.a)(i))return;const a=Object(h.a)(e),s=n.get("chapters"),r=i.get("positionSeconds"),o=i.get("nextPositionSeconds"),l=i.get("durationSeconds");let c;s&&s.length?c=function(e,t){if(e&&e.length)for(let i=0;i<e.length;i++){const n=e.at(i),a=Math.ceil(n.get("startTimeOffset")/1e3);if(a>t)return a}}(s,r):l-(o||r)>m.b&&(c=Le(o||r,l,m.f)),null!=c&&Object(V.a)(()=>{a.seek(i,c)})},[J](e,{playerType:t,volume:i,delta:n},a){const s=function(e){const t=e.get("remotePlayer");return t?t.get("volume"):Object(R.a)(e)}(e);let r=n?s+n:i;if(r=Math.max(0,Math.min(100,r)),r===s)return;const o=Object(U.c)(e,t),l=Object(h.a)(e);Object(V.a)(()=>{l.changeVolume(o,r,a)})},"ui/player/playerSettings/togglePlayerSettingsState"(e,{playerType:t}){const i=Object(U.c)(e,t),n=i.get("isSettingsVisible");Object(V.a)(()=>{i.set(Object(E.a)(i,n,{isSettingsVisible:!n,isChaptersVisible:!1,isPlayQueueVisible:!1,isLyricsVisible:!1,isSubtitlesOffsetSettingsVisible:!1,isWatchTogetherParticipantsVisible:!1}))})},"ui/player/playerSettings/togglePlayerChaptersState"(e,{playerType:t}){const i=Object(U.c)(e,t),n=i.get("isChaptersVisible");Object(V.a)(()=>{i.set(Object(E.a)(i,n,{isSettingsVisible:!1,isChaptersVisible:!n,isPlayQueueVisible:!1,isLyricsVisible:!1,isSubtitlesOffsetSettingsVisible:!1,isWatchTogetherParticipantsVisible:!1}))})},"ui/player/playerSettings/togglePlayerSubtitlesOffsetState"(e,{playerType:t}){const i=Object(U.c)(e,t),n=i.get("isSubtitlesOffsetSettingsVisible");Object(V.a)(()=>{i.set(Object(E.a)(i,n,{isSettingsVisible:!1,isChaptersVisible:!1,isPlayQueueVisible:!1,isLyricsVisible:!1,isSubtitlesOffsetSettingsVisible:!n,isWatchTogetherParticipantsVisible:!1}))})},"ui/player/playerSettings/togglePlayerWatchTogetherParticipantsState"(e,{playerType:t}){const i=Object(U.c)(e,t),n=i.get("isWatchTogetherParticipantsVisible");Object(V.a)(()=>{i.set(Object(E.a)(i,n,{isSettingsVisible:!1,isChaptersVisible:!1,isPlayQueueVisible:!1,isLyricsVisible:!1,isWatchTogetherParticipantsVisible:!n}))})},[X](e,{playerType:t,qualityIndex:i}){const n=Object(U.c)(e,t);Object(h.a)(e).changeQualityIndex(n,i)},[$](e,t,i){const{playerType:n,streamTypeString:a,streamID:s}=t,r=e.get("remotePlayer"),o=Object(U.c)(e,n),l=Object(u.a)(o).get("metadataItem"),c=Object(h.a)(e);i(Object(A.p)({metadataItemEntityID:l.entityID(),mediaIndex:o.get("mediaIndex"),streamTypeString:a,streamID:s,updateLocalOnly:!!r,allParts:o.get("partIndex")>0})),c.changeStream(o,a,s)},"ui/player/playerSettings/changeSubtitleColor"(e,{playerType:t,subtitleColor:i},n){const a=Object(U.c)(e,t);Object(h.a)(e).changeSubtitleColor(a,i,n)},"ui/player/playerSettings/changeSubtitlePosition"(e,{playerType:t,subtitlePosition:i},n){const a=Object(U.c)(e,t);Object(h.a)(e).changeSubtitlePosition(a,i,n)},"ui/player/playerSettings/changeSubtitleSize"(e,{playerType:t,subtitleSize:i},n){const a=Object(U.c)(e,t);Object(h.a)(e).changeSubtitleSize(a,i,n)},"ui/player/playerSettings/changeSubtitleOffset"(e,t,i){const{playerType:n,subtitleOffset:s,localUpdateOnly:r}=t,o=Object(h.a)(e),c=Object(U.c)(e,n),p=c.get("mediaIndex")||0,m=c.get("partIndex")||0,g=Object(u.a)(c).get("metadataItem"),v=g.get("Media"),y=v[p],f=y.Part[m],b=F.a.get("subtitles").id,I=f.Stream.find(e=>e.streamType===b&&e.selected),S=function(e,t,i,n,a){const s=Object.assign({},n,{offset:a}),r=Object(d.a)(i.Stream,n,s),o=Object.assign({},i,{Stream:r}),l=Object.assign({},t,{Part:Object(d.a)(t.Part,i,o)});return Object(d.a)(e,t,l)}(v,y,f,I,s);if(g.set({Media:S}),r)return;const C={offset:s};let M=I.key;P.k(g.provider.get("identifier"),P.i)&&(M="/library/parts/"+f.id,C.subtitleStreamID=I.id);const D=l.join(M,C),O=g.provider.getXHROptions(D,{type:"PUT",scope:"setMetadataItemStreamOffset--"+I.id});H.a.abortAll(O.scope),a.a.ajax(O).fail(e=>{e.aborting||g.get("Media")===S&&g.set({Media:v})}),o.changeSubtitleOffset(c,s,i)},"ui/player/playerMedia/changePlaybackSpeed"(e,{playerType:t,playbackSpeed:i}){const n=Object(U.c)(e,t),a=Object(h.a)(e),s=Math.round(10*i)/10;a.changePlaybackSpeed(n,s)},"ui/player/playerMedia/setItemPlaybackTime"(e,{playerType:t,playbackTime:i},n){Object(U.c)(e,t).set("itemPlaybackTime",i)},"ui/player/playerMedia/setSessionPlaybackTime"(e,{playerType:t,playbackTime:i},n){Object(U.c)(e,t).set("sessionPlaybackTime",i)},"ui/player/playerMedia/refreshStreams"(e,{playerType:t}){const i=Object(U.c)(e,t);Object(u.a)(i).get("metadataItem").fetch({data:{skipRefresh:1},usePopulatedParams:!0})},"ui/player/playerMedia/updateBufferedRanges"(e,{playerType:t,bufferedRanges:i}){const n=Object(U.c)(e,t),a=i.map(e=>({startSeconds:Math.ceil(e.startSeconds),endSeconds:Math.floor(e.endSeconds)})).sort((e,t)=>e.startSeconds-t.startSeconds).reduce((e,t)=>{var i,n;const a=e.length-1;return t.startSeconds<(null==(i=e[a])?void 0:i.startSeconds)||t.startSeconds<(null==(n=e[a])?void 0:n.endSeconds)?(e[a].startSeconds=Math.min(e[a].startSeconds,t.startSeconds),e[a].endSeconds=Math.max(e[a].endSeconds,t.endSeconds)):e.push(t),e},[]);r.a.isEqual(n.get("bufferedRanges"),a)||n.set({bufferedRanges:a})},"ui/player/playerMedia/updateMediaDimensions"(e,{playerType:t,width:i,height:n}){Object(U.c)(e,t).set({mediaWidth:i,mediaHeight:n})},"ui/player/playerMedia/updateCanPlayThrough"(e,{playerType:t,canPlayThrough:i}){const n=Object(U.c)(e,t);n.get("canPlayThrough")!==i&&n.set({canPlayThrough:i})}}},wCLk:function(e,t,i){e.exports={titleContainer:"ChannelsGridDetailRowTitle-titleContainer-2gAFRL",primaryTitle:"ChannelsGridDetailRowTitle-primaryTitle-1SX7s0",secondaryTitle:"ChannelsGridDetailRowTitle-secondaryTitle-2HfyQE"}},wIEn:function(e,t,i){var n=i("3O+N");e.exports=(n.default||n).template((function(e,t,i,n,a){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),a=a||{};var s,r,o="";return o+='<div class="modal-dialog"> <div class="modal-content"> <div class="modal-header"> <button type="button" class="close" data-dismiss="modal"><i class="glyphicon remove-2"></i></button> <h4 class="modal-title"> <i class="modal-icon glyphicon circle-info"></i> '+(0,this.escapeExpression)("function"==typeof(s=null==(s=t&&t.agent)||!1===s?s:s.name)?s.apply(t):s)+' </h4> </div> <div class="modal-body"> <p class="agent-icon-container"></p> <p>',((s=(r=i.attribution)||"function"==typeof(r=t&&t.attribution)?r.call(t,{hash:{},data:a}):r)||0===s)&&(o+=s),o+="</p> </div> </div> </div> "}))},wIt8:function(e,t,i){e.exports={form:"InviteHomeUserWarning-form-2YLPzb",modalBody:"InviteHomeUserWarning-modalBody-36ay10 ModalBody-modalBody--5uHSu",warning:"InviteHomeUserWarning-warning-A7harF"}},wOT7:function(e,t,i){e.exports={plexPassTitle:"PlexPassModalContent-plexPassTitle-3B6zqq",header:"PlexPassModalContent-header-2D-A94 ModalHeader-modalHeader-1Kf9RW",body:"PlexPassModalContent-body-3BSt2g ModalBody-innerModalBody-36gmbf",moreFeatures:"PlexPassModalContent-moreFeatures-2qv0-f",footer:"PlexPassModalContent-footer-15_IJg ModalFooter-modalFooter-30WIB5",planButton:"PlexPassModalContent-planButton-3JY2bR",link:"PlexPassModalContent-link-3Xt-yL",spinnerContainer:"PlexPassModalContent-spinnerContainer-ytMIfw",plansContainer:"PlexPassModalContent-plansContainer-2boTWX",isPlansPending:"PlexPassModalContent-isPlansPending-SjJBDA",marketingFrame:"PlexPassModalContent-marketingFrame-3NKjtm"}},wRTI:function(e,t,i){e.exports={button:"QuickSearchResult-button-1ZHpOA",title:"QuickSearchResult-title-1XJ-0g",selected:"QuickSearchResult-selected-3xPnwh",underlay:"QuickSearchResult-underlay-QgyJtZ",overlay:"QuickSearchResult-overlay-38WrLO",imageContainer:"QuickSearchResult-imageContainer-DvFlpe",titles:"QuickSearchResult-titles-3kHPx0",moreButton:"QuickSearchResult-moreButton-2Agbka",moreIcon:"QuickSearchResult-moreIcon-UsTkIK"}},wRpn:function(e,t,i){e.exports={seriesIcon:"RecordingPrioritySubscriptionSeriesTitle-seriesIcon-1yyj_S"}},wTIs:function(e,t,i){e.exports={container:"ServerLogTimeFilterInputs-container-2cnIRA",separator:"ServerLogTimeFilterInputs-separator-6uUbhp",input:"ServerLogTimeFilterInputs-input-sLDSiT TextInput-input-1VMuma input-input-1P2Vi4"}},wlUd:function(e,t,i){e.exports={listModalInnerBody:"ListModal-listModalInnerBody-1mBaLj"}},wnar:function(e,t,i){e.exports={slider:"VerticalSlider-slider-25iZh4 Slider-slider-2oLVTs",fill:"VerticalSlider-fill-2HISoE Slider-fill-35GFqs",thumb:"VerticalSlider-thumb-hm7PPn Slider-thumb-2QGiU1 Link-link-2n0yJn",thumbTrack:"VerticalSlider-thumbTrack-36XvCF Slider-thumbTrack-21hGVQ",track:"VerticalSlider-track-1RVQfn Slider-track-28JOSn"}},wowv:function(e,t,i){"use strict";function n(e,t){var i=new Set;function n(n){if(!(null==t?void 0:t(n))&&(n.metaKey||n.ctrlKey||(n.stopImmediatePropagation(),n.preventDefault()),!n.repeat)){var a="keydown"===n.type;a?i.add(n.code):i.delete(n.code),e(n.code,a,i)}}return window.addEventListener("keydown",n,!0),window.addEventListener("keyup",n,!0),()=>{window.removeEventListener("keydown",n,!0),window.removeEventListener("keyup",n,!0)}}i.d(t,"a",(function(){return n}))},wrVM:function(e,t,i){e.exports={modalContainer:"SourceSidebarConfirmModal-modalContainer-21lfc3 Modal-modalContainer-tNumMm"}},"x/40":function(e,t,i){e.exports={emptyPageContentScroller:"EmptyPageContent-emptyPageContentScroller-1iFp-y PageContent-pageContentScroller-okL_Uc Scroller-scroller-CQJq74",content:"EmptyPageContent-content-2f0kQ6",icon:"EmptyPageContent-icon-2r564L",imgIcon:"EmptyPageContent-imgIcon-tsh_pm",title:"EmptyPageContent-title-1IdWPt",description:"EmptyPageContent-description-21WgWJ",footer:"EmptyPageContent-footer-2hesaN"}},x1aQ:function(e,t,i){e.exports={badge:"Badge-badge-21NQRi",isHidden:"Badge-isHidden-2p8gjS",default:"Badge-default-VTVet2",primary:"Badge-primary-3suJx3",success:"Badge-success-3m8_X_",danger:"Badge-danger-2rQkaX"}},x3ko:function(e,t,i){e.exports={equalizer:"EqualizerIcon-equalizer-2SoFA6",bar:"EqualizerIcon-bar-1nPotE"}},x436:function(e,t,i){e.exports={container:"AlbumDiscList-container-3sxwmh"}},x5TN:function(e,t,i){e.exports={secondaryTitle:"PrePlaySecondaryTitle-secondaryTitle-1O5B-i PrePlayPrimaryTitle-primaryTitle-3kexTE"}},x8AS:function(e,t,i){e.exports={separator:"PrePlayDashSeparator-separator-1d01zK"}},x9uD:function(e,t,i){e.exports={actionLinks:"SettingsFormSectionActionLinks-actionLinks-2vGv7Q"}},xAXV:function(e,t,i){e.exports={overlay:"MetadataTrackDetailsRow-overlay-leehwr",container:"MetadataTrackDetailsRow-container-1TJ4EW",indexPlayContainer:"MetadataTrackDetailsRow-indexPlayContainer-1c8mV9",posterContainer:"MetadataTrackDetailsRow-posterContainer-2xjhb8",titleContainer:"MetadataTrackDetailsRow-titleContainer-3ptKaN",title:"MetadataTrackDetailsRow-title-1en8KD",subtitle:"MetadataTrackDetailsRow-subtitle-2HonOp MetadataTrackDetailsRow-title-1en8KD",duration:"MetadataTrackDetailsRow-duration-2fxryr",actions:"MetadataTrackDetailsRow-actions-2FSefs",actionsMenuButton:"MetadataTrackDetailsRow-actionsMenuButton-392OTT Link-link-2ew_DK"}},xH8n:function(e,t,i){e.exports={container:"SourceBadge-container-3OfQBW",text:"SourceBadge-text-Y8yYEa",attribution:"SourceBadge-attribution-YBphYv",avatar:"SourceBadge-avatar-3iVqZC AvatarImg-avatar-3Op56u"}},xHef:function(e,t,i){var n=i("3O+N");e.exports=(n.default||n).template((function(e,t,n,a,s){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),s=s||{};var r,o="";return o+='<div class="modal-dialog"> <div class="modal-content"> <div class="modal-header"> <button type="button" class="close" data-dismiss="modal"><i class="glyphicon remove-2"></i></button> <h4 class="modal-title"><i class="modal-icon glyphicon restart"></i> '+(0,this.escapeExpression)((r=i("d8WC"),r&&(r.__esModule?r.default:r)).call(t,"Optimize",{hash:{},data:s}))+'</h4> </div> <div class="modal-body-region"></div> </div> </div> '}))},xHnD:function(e,t,i){e.exports={header:"SkipSignInMessage-header-Y0dMXv",list:"SkipSignInMessage-list-5YPdVE",item:"SkipSignInMessage-item-2vzluZ"}},xHo2:function(e,t,i){"use strict";var n;!function(e){e.Unidentified="Unidentified",e.Alt="Alt",e.AltGraph="AltGraph",e.CapsLock="CapsLock",e.Control="Control",e.Fn="Fn",e.FnLock="FnLock",e.Hyper="Hyper",e.Meta="Meta",e.NumLock="NumLock",e.ScrollLock="ScrollLock",e.Shift="Shift",e.Super="Super",e.Symbol="Symbol",e.SymbolLock="SymbolLock",e.Enter="Enter",e.Tab="Tab",e.ArrowDown="ArrowDown",e.ArrowLeft="ArrowLeft",e.ArrowRight="ArrowRight",e.ArrowUp="ArrowUp",e.End="End",e.Home="Home",e.PageDown="PageDown",e.PageUp="PageUp",e.Backspace="Backspace",e.Clear="Clear",e.Copy="Copy",e.CrSel="CrSel",e.Cut="Cut",e.Delete="Delete",e.EraseEof="EraseEof",e.ExSel="ExSel",e.Insert="Insert",e.Paste="Paste",e.Redo="Redo",e.Undo="Undo",e.Accept="Accept",e.Again="Again",e.Attn="Attn",e.Cancel="Cancel",e.ContextMenu="ContextMenu",e.Escape="Escape",e.Execute="Execute",e.Find="Find",e.Finish="Finish",e.Help="Help",e.Pause="Pause",e.Play="Play",e.Props="Props",e.Select="Select",e.ZoomIn="ZoomIn",e.ZoomOut="ZoomOut",e.BrightnessDown="BrightnessDown",e.BrightnessUp="BrightnessUp",e.Eject="Eject",e.LogOff="LogOff",e.Power="Power",e.PowerOff="PowerOff",e.PrintScreen="PrintScreen",e.Hibernate="Hibernate",e.Standby="Standby",e.WakeUp="WakeUp",e.AllCandidates="AllCandidates",e.Alphanumeric="Alphanumeric",e.CodeInput="CodeInput",e.Compose="Compose",e.Convert="Convert",e.Dead="Dead",e.FinalMode="FinalMode",e.GroupFirst="GroupFirst",e.GroupLast="GroupLast",e.GroupNext="GroupNext",e.GroupPrevious="GroupPrevious",e.ModeChange="ModeChange",e.NextCandidate="NextCandidate",e.NonConvert="NonConvert",e.PreviousCandidate="PreviousCandidate",e.Process="Process",e.SingleCandidate="SingleCandidate",e.HangulMode="HangulMode",e.HanjaMode="HanjaMode",e.JunjaMode="JunjaMode",e.Eisu="Eisu",e.Hankaku="Hankaku",e.Hiragana="Hiragana",e.HiraganaKatakana="HiraganaKatakana",e.KanaMode="KanaMode",e.KanjiMode="KanjiMode",e.Katakana="Katakana",e.Romaji="Romaji",e.Zenkaku="Zenkaku",e.ZenkakuHanaku="ZenkakuHanaku",e.F1="F1",e.F2="F2",e.F3="F3",e.F4="F4",e.F5="F5",e.F6="F6",e.F7="F7",e.F8="F8",e.F9="F9",e.F10="F10",e.F11="F11",e.F12="F12",e.F13="F13",e.F14="F14",e.F15="F15",e.F16="F16",e.F17="F17",e.F18="F18",e.F19="F19",e.F20="F20",e.Soft1="Soft1",e.Soft2="Soft2",e.Soft3="Soft3",e.Soft4="Soft4",e.AppSwitch="AppSwitch",e.Call="Call",e.Camera="Camera",e.CameraFocus="CameraFocus",e.EndCall="EndCall",e.GoBack="GoBack",e.GoHome="GoHome",e.HeadsetHook="HeadsetHook",e.LastNumberRedial="LastNumberRedial",e.Notification="Notification",e.MannerMode="MannerMode",e.VoiceDial="VoiceDial",e.ChannelDown="ChannelDown",e.ChannelUp="ChannelUp",e.MediaFastForward="MediaFastForward",e.MediaPause="MediaPause",e.MediaPlay="MediaPlay",e.MediaPlayPause="MediaPlayPause",e.MediaRecord="MediaRecord",e.MediaRewind="MediaRewind",e.MediaStop="MediaStop",e.MediaTrackNext="MediaTrackNext",e.MediaTrackPrevious="MediaTrackPrevious",e.AudioBalanceLeft="AudioBalanceLeft",e.AudioBalanceRight="AudioBalanceRight",e.AudioBassDown="AudioBassDown",e.AudioBassBoostDown="AudioBassBoostDown",e.AudioBassBoostToggle="AudioBassBoostToggle",e.AudioBassBoostUp="AudioBassBoostUp",e.AudioBassUp="AudioBassUp",e.AudioFaderFront="AudioFaderFront",e.AudioFaderRear="AudioFaderRear",e.AudioSurroundModeNext="AudioSurroundModeNext",e.AudioTrebleDown="AudioTrebleDown",e.AudioTrebleUp="AudioTrebleUp",e.AudioVolumeDown="AudioVolumeDown",e.AudioVolumeMute="AudioVolumeMute",e.AudioVolumeUp="AudioVolumeUp",e.MicrophoneToggle="MicrophoneToggle",e.MicrophoneVolumeDown="MicrophoneVolumeDown",e.MicrophoneVolumeMute="MicrophoneVolumeMute",e.MicrophoneVolumeUp="MicrophoneVolumeUp",e.TV="TV",e.TV3DMode="TV3DMode",e.TVAntennaCable="TVAntennaCable",e.TVAudioDescription="TVAudioDescription",e.TVAudioDescriptionMixDown="TVAudioDescriptionMixDown",e.TVAudioDescriptionMixUp="TVAudioDescriptionMixUp",e.TVContentsMenu="TVContentsMenu",e.TVDataService="TVDataService",e.TVInput="TVInput",e.TVInputComponent1="TVInputComponent1",e.TVInputComponent2="TVInputComponent2",e.TVInputComposite1="TVInputComposite1",e.TVInputComposite2="TVInputComposite2",e.TVInputHDMI1="TVInputHDMI1",e.TVInputHDMI2="TVInputHDMI2",e.TVInputHDMI3="TVInputHDMI3",e.TVInputHDMI4="TVInputHDMI4",e.TVInputVGA1="TVInputVGA1",e.TVMediaContext="TVMediaContext",e.TVNetwork="TVNetwork",e.TVNumberEntry="TVNumberEntry",e.TVPower="TVPower",e.TVRadioService="TVRadioService",e.TVSatellite="TVSatellite",e.TVSatelliteBS="TVSatelliteBS",e.TVSatelliteCS="TVSatelliteCS",e.TVSatelliteToggle="TVSatelliteToggle",e.TVTerrestrialAnalog="TVTerrestrialAnalog",e.TVTerrestrialDigital="TVTerrestrialDigital",e.TVTimer="TVTimer",e.AVRInput="AVRInput",e.AVRPower="AVRPower",e.ColorF0Red="ColorF0Red",e.ColorF1Green="ColorF1Green",e.ColorF2Yellow="ColorF2Yellow",e.ColorF3Blue="ColorF3Blue",e.ColorF4Grey="ColorF4Grey",e.ColorF5Brown="ColorF5Brown",e.ClosedCaptionToggle="ClosedCaptionToggle",e.Dimmer="Dimmer",e.DisplaySwap="DisplaySwap",e.DVR="DVR",e.Exit="Exit",e.FavoriteClear0="FavoriteClear0",e.FavoriteClear1="FavoriteClear1",e.FavoriteClear2="FavoriteClear2",e.FavoriteClear3="FavoriteClear3",e.FavoriteRecall0="FavoriteRecall0",e.FavoriteRecall1="FavoriteRecall1",e.FavoriteRecall2="FavoriteRecall2",e.FavoriteRecall3="FavoriteRecall3",e.FavoriteStore0="FavoriteStore0",e.FavoriteStore1="FavoriteStore1",e.FavoriteStore2="FavoriteStore2",e.FavoriteStore3="FavoriteStore3",e.Guide="Guide",e.GuideNextDay="GuideNextDay",e.GuidePreviousDay="GuidePreviousDay",e.Info="Info",e.InstantReplay="InstantReplay",e.Link="Link",e.ListProgram="ListProgram",e.LiveContent="LiveContent",e.Lock="Lock",e.MediaApps="MediaApps",e.MediaAudioTrack="MediaAudioTrack",e.MediaLast="MediaLast",e.MediaSkipBackward="MediaSkipBackward",e.MediaSkipForward="MediaSkipForward",e.MediaStepBackward="MediaStepBackward",e.MediaStepForward="MediaStepForward",e.MediaTopMenu="MediaTopMenu",e.NavigateIn="NavigateIn",e.NavigateNext="NavigateNext",e.NavigateOut="NavigateOut",e.NavigatePrevious="NavigatePrevious",e.NextFavoriteChannel="NextFavoriteChannel",e.NextUserProfile="NextUserProfile",e.OnDemand="OnDemand",e.Pairing="Pairing",e.PinPDown="PinPDown",e.PinPMove="PinPMove",e.PinPToggle="PinPToggle",e.PinPUp="PinPUp",e.PlaySpeedDown="PlaySpeedDown",e.PlaySpeedReset="PlaySpeedReset",e.PlaySpeedUp="PlaySpeedUp",e.RandomToggle="RandomToggle",e.RcLowBattery="RcLowBattery",e.RecordSpeedNext="RecordSpeedNext",e.RfBypass="RfBypass",e.ScanChannelsToggle="ScanChannelsToggle",e.ScreenModeNext="ScreenModeNext",e.Settings="Settings",e.SplitScreenToggle="SplitScreenToggle",e.STBInput="STBInput",e.STBPower="STBPower",e.Subtitle="Subtitle",e.Teletext="Teletext",e.VideoModeNext="VideoModeNext",e.Wink="Wink",e.ZoomToggle="ZoomToggle",e.SpeechCorrectionList="SpeechCorrectionList",e.SpeechInputToggle="SpeechInputToggle",e.Close="Close",e.New="New",e.Open="Open",e.Print="Print",e.Save="Save",e.SpellCheck="SpellCheck",e.MailForward="MailForward",e.MailReply="MailReply",e.MailSend="MailSend",e.LaunchCalculator="LaunchCalculator",e.LaunchCalendar="LaunchCalendar",e.LaunchContacts="LaunchContacts",e.LaunchMail="LaunchMail",e.LaunchMediaPlayer="LaunchMediaPlayer",e.LaunchMusicPlayer="LaunchMusicPlayer",e.LaunchMyComputer="LaunchMyComputer",e.LaunchPhone="LaunchPhone",e.LaunchScreenSaver="LaunchScreenSaver",e.LaunchSpreadsheet="LaunchSpreadsheet",e.LaunchWebBrowser="LaunchWebBrowser",e.LaunchWebCam="LaunchWebCam",e.LaunchWordProcessor="LaunchWordProcessor",e.LaunchApplication1="LaunchApplication1",e.LaunchApplication2="LaunchApplication2",e.LaunchApplication3="LaunchApplication3",e.LaunchApplication4="LaunchApplication4",e.LaunchApplication5="LaunchApplication5",e.LaunchApplication6="LaunchApplication6",e.LaunchApplication7="LaunchApplication7",e.LaunchApplication8="LaunchApplication8",e.LaunchApplication9="LaunchApplication9",e.LaunchApplication10="LaunchApplication10",e.LaunchApplication11="LaunchApplication11",e.LaunchApplication12="LaunchApplication12",e.LaunchApplication13="LaunchApplication13",e.LaunchApplication14="LaunchApplication14",e.LaunchApplication15="LaunchApplication15",e.LaunchApplication16="LaunchApplication16",e.BrowserBack="BrowserBack",e.BrowserFavorites="BrowserFavorites",e.BrowserForward="BrowserForward",e.BrowserHome="BrowserHome",e.BrowserRefresh="BrowserRefresh",e.BrowserSearch="BrowserSearch",e.BrowserStop="BrowserStop",e.Decimal="Decimal",e.Key11="Key11",e.Key12="Key12",e.Multiply="Multiply",e.Add="Add",e.Divide="Divide",e.Subtract="Subtract",e.Separator="Separator"}(n||(n={})),t.a=n},xI1S:function(e,t,i){"use strict";i.d(t,"a",(function(){return n})),i.d(t,"c",(function(){return a})),i.d(t,"b",(function(){return s}));const n="audio",a="video",s="photo"},xJXR:function(e,t,i){e.exports={container:"SortableHomeHubs-container-2NqZ-l Measure-container-3yONEe",scroller:"SortableHomeHubs-scroller-_fZlTr Scroller-scroller-3GqQcZ"}},xY9m:function(e,t,i){var n=i("3O+N");function a(e){return e&&(e.__esModule?e.default:e)}e.exports=(n.default||n).template((function(e,t,n,s,r){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),r=r||{};var o,l="",c=this.escapeExpression;return l+='<div class="modal-dialog"> <div class="modal-content"> <div class="modal-header"> <button type="button" class="close" data-dismiss="modal"><i class="glyphicon remove-2"></i></button> <h4 class="modal-title"><i class="modal-icon glyphicon file"></i> '+c(a(i("d8WC")).call(t,"Select a File",{hash:{},data:r}))+'</h4> </div> <div class="modal-body modal-body-scroll dark-scrollbar"> <ul class="list select-list"> ',((o=n.each.call(t,t&&t.medias,{hash:{},inverse:this.noop,fn:this.program(1,(function(e,t){var n,s="";return s+=' <li class="striped-list-item select-list-item"> <a class="media" data-value="'+c("function"==typeof(n=null==t||!1===t?t:t.index)?n.apply(e):n)+'" href="#"> ',((n=a(i("f32x")).call(e,null==(n=null==(n=e&&e.Part)||!1===n?n:n[0])||!1===n?n:n.file,35,{hash:{},data:t}))||0===n)&&(s+=n),s+=" </a> </li> "}),r),data:r}))||0===o)&&(l+=o),l+=" </ul> </div> </div> </div> "}))},"xhK+":function(e,t,i){e.exports={plexIcon:"PlexIcon-plexIcon-8Tamaj"}},xjMz:function(e,t,i){e.exports={panesContainer:"LibraryFiltersMenu-panesContainer-2wE6-U",pane:"LibraryFiltersMenu-pane-13lnRz",filtersPane:"LibraryFiltersMenu-filtersPane-367idZ LibraryFiltersMenu-pane-13lnRz",filterOptionsPane:"LibraryFiltersMenu-filterOptionsPane-sYfFI8 LibraryFiltersMenu-pane-13lnRz",showFilterOptions:"LibraryFiltersMenu-showFilterOptions-PvLk-v"}},xwJx:function(e,t,i){e.exports={button:"NavBarAccountButton-button-1Y4ek6 DisclosureArrowButton-disclosureArrowButton-11LSbY Link-link-2n0yJn",badge:"NavBarAccountButton-badge-2D07am Badge-badge-21NQRi",tooltip:"NavBarAccountButton-tooltip-MBMW8U Tooltip-bottomCenter-2yj43D Tooltip-tooltip-9TKmAQ Tooltip-tooltipArrow-3GUCry Tooltip-tooltipTopArrow-NjH0DX Tooltip-tooltipCenterAlignArrow-35uHtY",tooltipTriggerHasFocus:"NavBarAccountButton-tooltipTriggerHasFocus-1Sjs7h NavBarAccountButton-tooltip-MBMW8U Tooltip-bottomCenter-2yj43D Tooltip-tooltip-9TKmAQ Tooltip-tooltipArrow-3GUCry Tooltip-tooltipTopArrow-NjH0DX Tooltip-tooltipCenterAlignArrow-35uHtY",avatarContainer:"NavBarAccountButton-avatarContainer-2fU5S_",overlay:"NavBarAccountButton-overlay-2BHPAl",isMenuOpen:"NavBarAccountButton-isMenuOpen-2kMP78"}},xx2m:function(e,t,i){"use strict";const n={NONE:0,VAST:1};n.settings=[{value:n.NONE,title:"None"},{value:n.VAST,title:"Add ?debug=1 to ad requests"}],t.a=n},xyAC:function(e,t,i){e.exports={controlsContainer:"ControlsContainer-controlsContainer-1Wn7vp"}},y3BC:function(e,t,i){"use strict";i.r(t);var n=i("F/us"),a=i.n(n),s=i("rG0a"),r=i("+X4A"),o=i("B69o"),l=i("nvND"),c=i("gnaf"),d=i("66GW");var u=i("Q3JP"),p=i("Pizw"),h=i("FKox"),m=i("tL6L"),g=i("4JMt");const v=o.a.extend({name:"HubCollection",context:["server","provider","section","identifier","hubKey","hubCount","count","includeEmpty","libraryHubsOnly","includeFeaturedTags","includeLibraryPlaylists","includeMeta","includeGames","includeTypeFirst","includeTypeFirstQuickLinksHubs","includeStations","includeExternalMedia","includeExternalMetadata","includeRecentChannels","asyncAugmentMetadata","excludes","excludeFields","excludeElements","allowSync","maxLength","wait"],responseContext:["identifier","allowSync"],model:g.a,responseType(){return Object(u.a)(this.server)},url(){let e="/hubs";this.hubKey?e=this.hubKey:this.section&&(e="/hubs/sections/"+encodeURIComponent(this.section.id));const t={};return""!==this.excludeFields&&(t.excludeFields=this.excludeFields||"summary"),this.excludeElements&&(t.excludeElements=this.excludeElements),this.count&&(t.count=this.count+1),this.hubCount&&(t.hubCount=this.hubCount),this.includeEmpty&&(t.includeEmpty=1),this.libraryHubsOnly&&(t.libraryHubsOnly=1),this.includeFeaturedTags&&(t.includeFeaturedTags=1),this.includeLibraryPlaylists&&(t.includeLibraryPlaylists=1),this.includeMeta&&(t.includeMeta=1),this.includeGames&&(t.includeGames=1),this.includeTypeFirst&&(t.includeTypeFirst=1),this.includeStations&&(t.includeStations=1),this.includeExternalMedia&&(t.includeExternalMedia=1),this.includeExternalMetadata&&(t.includeExternalMetadata=1),this.includeRecentChannels&&(t.includeRecentChannels=1),this.asyncAugmentMetadata&&(t.asyncAugmentMetadata=1),this.wait&&(t.wait=1),this.excludes&&this.excludes.length&&this.excludes.forEach(e=>{t["exclude"+Object(h.a)(e)]=1}),r.join(e,t)},initialize:function(){this.section&&this.listenTo(s.a,"clear:sections:hubs",this.clear)},fetch(e={}){const t=a.a.clone(e);return e.onlyTransient&&this.populatePromise&&(t.remove=!1,t.url=r.join(a.a.result(this,"url"),{onlyTransient:1})),o.a.prototype.fetch.call(this,t)},augmentResponseText:(e,t)=>t===l.c?Object(p.b)(e):e,augmentResponse(e){const t=this.model.prototype.rootPropertyName;if(e&&t){Array.isArray(e)?e={[t]:e}:e[t]&&!Array.isArray(e[t])&&(e={[t]:[e[t]]});let i=e[t];if(e.Meta&&i.forEach(t=>{t.Meta||(t.Meta=e.Meta)}),this.includeTypeFirst)if(this.includeTypeFirstQuickLinksHubs){if(c.k(e.identifier,c.g)){const n={context:"hub.home.quicklinks",hubIdentifier:"home.quicklinks",size:2,style:"list",totalSize:2,type:"directory",Directory:[{content:1,context:"content.categories",key:"/library/sections/categories",subtype:"news",title:Object(d.default)("Categories"),type:"genre"},{content:1,context:"content.channels",key:"/library/sections/channels",subtype:"news",title:Object(d.default)("Channels")}]};if(!(i&&i.some(e=>e.hubIdentifier===n.hubIdentifier)))if(i){const t=0===i.length?0:1;e.Hub.splice(t,0,n)}else e[t]=[n]}else if(c.k(e.identifier,c.d)){const t=i&&i.find(e=>{const t=e.hubIdentifier;return t&&/^video\.quicklinks\./.test(t)});if(t){t.Directory.some(e=>/^\/playlists\//.test(e.key))||t.Directory.push({key:"/playlists/all?type=15&playlistType=video&sectionID="+e.librarySectionID,title:Object(d.default)("Playlists")})}}}else i&&(i=i.filter(e=>{const t=e.hubIdentifier;return!t||-1===t.indexOf("quicklinks")}),e[t]=i);let n=i&&i.length;if(n){if(!this.includeEmpty)for(;n&&n--;){const e=i[n];m.a.includes(e.style)&&e.size<=0&&i.splice(n,1)}this.maxLength&&i.splice(this.maxLength),e.size>i.length&&(e.size=String(i.length)),this.count&&i.forEach(e=>{e.more&&e.size>this.count&&(e.Metadata.splice(this.count,e.size-this.count),e.size=this.count)})}}return this.responseContext.forEach(t=>{const i=e[t];void 0!==i&&this.setContext(t,i)}),e}});t.default=v},y4j6:function(e,t,i){"use strict";i.d(t,"a",(function(){return a}));var n=i("QPyl");function a(e=n.a){return"safari"===e.id}},yA34:function(e,t,i){e.exports={preference:"DownloadTemplateModal-preference-3Nq8wU",label:"DownloadTemplateModal-label-_PQ3zU",description:"DownloadTemplateModal-description-3gKAsv"}},yCP3:function(e,t,i){var n=i("3O+N");e.exports=(n.default||n).template((function(e,t,n,a,s){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),s=s||{};var r,o="",l=this.escapeExpression;return o+='<div class="card card-section"> <div class="card-actions"> <button class="edit-section-btn card-action-btn"><i class="glyphicon pencil"></i></button> <button class="delete-section-btn card-action-btn btn-danger"><i class="glyphicon remove-2"></i></button> </div> <i class="section-icon glyphicon '+l("function"==typeof(r=t&&t.icon)?r.apply(t):r)+'"></i> <span class="section-title"></span> ',((r=n.if.call(t,t&&t.path,{hash:{},inverse:this.noop,fn:this.program(1,(function(e,t){var i,n="";return n+='<span class="section-path">'+l("function"==typeof(i=e&&e.path)?i.apply(e):i)+"</span>"}),s),data:s}))||0===r)&&(o+=r),o+=" ",((r=n.if.call(t,t&&t.more,{hash:{},inverse:this.noop,fn:this.program(3,(function(e,t){var n,a="";return a+='<span class="section-count">'+l((n=i("d8WC"),n&&(n.__esModule?n.default:n)).call(e,"and {count} more",{hash:{count:e&&e.more},data:t}))+"</span>"}),s),data:s}))||0===r)&&(o+=r),o+=" </div> "}))},yD7D:function(e,t,i){e.exports={miniPlayerPoster:"MiniPlayerPoster-miniPlayerPoster-13YueA",cardContainer:"MiniPlayerPoster-cardContainer-1675aN",expandButton:"MiniPlayerPoster-expandButton-11onC7 PlayerIconButton-playerButton-1DmNp4 IconButton-button-9An-7I",card:"MiniPlayerPoster-card-1z_VBo MetadataPosterCard-card-3bztRc"}},yG8u:function(e,t,i){e.exports={statusContainer:"NavBarActivityMenuStatusItem-statusContainer-Ml8vjL",splitButton:"NavBarActivityMenuStatusItem-splitButton-3DXXY- ActivityMenuStatusItem-splitButton-1Ov6bl MenuItem-menuItem-1s02mQ",statusButtonIndicator:"NavBarActivityMenuStatusItem-statusButtonIndicator-3D2d1i",alertIndicator:"NavBarActivityMenuStatusItem-alertIndicator-10zV51",statusTitle:"NavBarActivityMenuStatusItem-statusTitle-2hIH6G",primaryLabel:"NavBarActivityMenuStatusItem-primaryLabel-o8tsu6"}},yHQc:function(e,t,i){e.exports={posterCardContainer:"WatchTogetherRoomEventToastContent-posterCardContainer-2baLT0",card:"WatchTogetherRoomEventToastContent-card-CM1Znj TagPosterCard-card-RVD0Dw MetadataPosterCardFace-poster-L2P6rC TagPosterCard-isPerson-1ez1h_",username:"WatchTogetherRoomEventToastContent-username-qN-1YC"}},yJYc:function(e,t,i){e.exports={hubTitle:"HubTitle-hubTitle-rI6xhu"}},yO9Y:function(e,t,i){"use strict";i.d(t,"p",(function(){return v})),i.d(t,"l",(function(){return y})),i.d(t,"b",(function(){return f})),i.d(t,"a",(function(){return b})),i.d(t,"k",(function(){return I})),i.d(t,"d",(function(){return S})),i.d(t,"e",(function(){return C})),i.d(t,"f",(function(){return M})),i.d(t,"g",(function(){return D})),i.d(t,"h",(function(){return P})),i.d(t,"j",(function(){return O})),i.d(t,"i",(function(){return j})),i.d(t,"m",(function(){return w})),i.d(t,"n",(function(){return T})),i.d(t,"c",(function(){return E})),i.d(t,"o",(function(){return N})),i.d(t,"D",(function(){return x})),i.d(t,"z",(function(){return A})),i.d(t,"s",(function(){return L})),i.d(t,"r",(function(){return k})),i.d(t,"y",(function(){return R})),i.d(t,"u",(function(){return z})),i.d(t,"v",(function(){return U})),i.d(t,"w",(function(){return V})),i.d(t,"x",(function(){return B})),i.d(t,"A",(function(){return F})),i.d(t,"B",(function(){return H})),i.d(t,"t",(function(){return _})),i.d(t,"C",(function(){return W})),i.d(t,"q",(function(){return Q}));var n=i("ICb1"),a=i("0jae"),s=i("t2mA"),r=i("tjw3");let o,l,c=0,d=0;function u(e,t){return Object(r.a)(e)?function(e,t){const i=e.possibleEntityContainers,n=i?i.length:0;for(let a=0;a<n;a++){const n=i[a];if(u(e[n],t))return!0}return!1}(e,t):Array.isArray(e)?function(e,t){for(let i=0,n=e.length;i<n;i++){if(u(e[i],t))return!0}return!1}(e,t):e===t}function p(e,t){return e+1>=t?0:e+1}var h=i("hPIe"),m=i("1Lwt"),g=i("dFNG");const v="app/setPrimaryServer",y="app/resetPrimaryServer",f="app/changePrimaryServer",b="app/changeCompanionServer",I="app/removeCompanionServer",S="app/garbageCollectEntities",C="app/navigate",M="app/navigateBack",D="app/navigateForward",P="app/navigateHome",O="app/navigateSearch",j="app/navigatePrePlay",w="app/saveDeviceSettings",T="app/saveLastSourcePivot",E="app/clearLastSourcePivots",N="app/savePivotParams",x=Object(n.a)(v),A=Object(n.a)(y),L=Object(n.a)(f),k=Object(n.a)(b),R=Object(n.a)(I),z=Object(n.a)(S),U=Object(n.a)(C),V=(Object(n.a)(M),Object(n.a)(D),Object(n.a)(P)),B=(Object(n.a)(O),Object(n.a)(j)),F=Object(n.a)(w),H=Object(n.a)(T),_=Object(n.a)(E),W=Object(n.a)(N),Q={[S](e,t){Object(m.a)();const i=function(e,t={}){const i=null!=t.budget?t.budget:1e3/60,n=window.performance.now(),a=e.entities,s=Object.keys(a),r=s.length,h={};i===1/0&&(c=0,d=0);const m=a[s[c]];for(o=c,l=Math.max(Math.min(d,Object.keys(m).length-1),0);c<r;){const t=s[c],m=a[t],g=Object.keys(m),v=g.length,y=p(c,r);for(;d<v;){const a=g[d],s=p(d,v);if(u(e,a)||(h[t]||(h[t]=[]),h[t].push(a)),y===o&&s===l)return c=y,d=s,h;if(window.performance.now()-n>=i)return c=y,d=s,h;d++}if(c=y,d=0,c===o&&d===l)return h}return h}(e.getState(),t),n=e.get("entities");for(const e in i){const t=i[e];n.get(e).remove(t)}t&&t.budget===1/0&&Object.keys(i).length&&Object(m.a)()},[T](e,t,i){const n=Object(h.m)(e,t),a=Object(h.j)(e,t),r=e.get("user").get("experienceSettings"),o=r.get("lastSourcePivots");if(!r.get("shouldSaveLastSourcePivots"))return;const l=Object(g.a)(n.get("machineIdentifier"),a.get("identifier"),t.directoryID);i(Object(s.l)({lastSourcePivots:Object.assign({},o,{[l]:t.pivotKey})}))},[E](e,t,i){i(Object(s.l)({lastSourcePivots:{}}))},[N](e,t,i){const n=Object(h.m)(e,t),a=Object(h.j)(e,t),r=e.get("user").get("experienceSettings").get("savedPivotParams"),o=Object(g.a)(n.get("machineIdentifier"),a.get("identifier"),t.directoryID,t.pivotKey);i(Object(s.l)({savedPivotParams:Object.assign({},r,{[o]:t.params})}))},[f](e,t){},[y](e,t){},[v](e,t){},[b](e,t){const i=Object(h.u)(e,t);i?e.set("companionServer",i):a.a.warn("[Companion] Could not find %s to use as companion server",t.serverEntityID)},[I](e){e.unset("companionServer")},[C](){},[M](){},[D](){},[P](){},[O](){},[j](){},[w](){}}},yULO:function(e,t,i){e.exports={tableHeader:"PlayHistoryTableHeader-tableHeader-10A2v4"}},yb7Q:function(e,t,i){e.exports={container:"PlaylistItemLoading-container-2kR7-j",alternateContainer:"PlaylistItemLoading-alternateContainer-3UvX6M PlaylistItemLoading-container-2kR7-j"}},ybRO:function(e,t,i){e.exports={card:"PosterCard-card-1rN9gd"}},ycxr:function(e,t,i){e.exports={cell:"SpotlightHubScroller-cell-3T5qH9",hub:"SpotlightHubScroller-hub-1QzLTm VirtualHubScroller-hub-3Pu2m6",hubScroller:"SpotlightHubScroller-hubScroller-3IxsqM VirtualHubScroller-hubScroller-3pMK1r VirtualListScroller-scroller-QdPYA9 Scroller-scroller-CQJq74",hubScrollerControlledScroll:"SpotlightHubScroller-hubScrollerControlledScroll-3L-Cza SpotlightHubScroller-hubScroller-3IxsqM VirtualHubScroller-hubScroller-3pMK1r VirtualListScroller-scroller-QdPYA9 Scroller-scroller-CQJq74",dots:"SpotlightHubScroller-dots-3grCzG"}},yd35:function(e,t,i){e.exports={headingContainer:"AudioVideoFullPlayerContentHeadingContainer-headingContainer-2UyXvc",divider:"AudioVideoFullPlayerContentHeadingContainer-divider-1A1d_2"}},ydjH:function(e,t,i){"use strict";var n=i("EVdn"),a=i.n(n);t.a=function(e){const t=a.a.Deferred();return e.then(t.resolve,t.reject,t.notify),{promise:t.promise(),cancel:function(){t.reject({isCanceled:!0})}}}},yfFC:function(e,t,i){"use strict";let n,a;i.d(t,"a",(function(){return a})),function(e){e.BottomLeft="bottom-left",e.TopLeft="top-left",e.None="none"}(n||(n={})),function(e){e.AudioVideo="audioVideo",e.Photo="photo",e.Rom="rom"}(a||(a={}))},yfwS:function(e,t,i){e.exports={recordIconContainer:"RecordIcon-recordIconContainer-1PXGA2",recordCircle:"RecordIcon-recordCircle-176nlN PlayButton-playCircle-3Evfdw",recordIcon:"RecordIcon-recordIcon-2ygXS_"}},ygGu:function(e,t,i){e.exports={input:"ShareServerLibrary-input-3rk7uI CheckInput-input-1Pi_2g"}},yhTy:function(e,t,i){e.exports={circularProgressBarContainer:"CircularProgressBar-circularProgressBarContainer-26EO1i",absoluteCenterCircularProgressBarContainer:"CircularProgressBar-absoluteCenterCircularProgressBarContainer--zr4W7",circularProgressBar:"CircularProgressBar-circularProgressBar-3gv7mU",circularProgressBarBackground:"CircularProgressBar-circularProgressBarBackground-RvD8Ob",circularProgressBarText:"CircularProgressBar-circularProgressBarText-gC1Z--",indeterminate:"CircularProgressBar-indeterminate-2KTTUF spin-spin-2kLwt_"}},ylzf:function(e,t,i){e.exports={container:"GridAlsoAiringItemMetadata-container-2V7Z3m",channelInfoContainer:"GridAlsoAiringItemMetadata-channelInfoContainer-2y86gy",channelTitle:"GridAlsoAiringItemMetadata-channelTitle-3AalgG",cardContainer:"GridAlsoAiringItemMetadata-cardContainer-1E0Q5l",titlesContainer:"GridAlsoAiringItemMetadata-titlesContainer-3dbQ_R",titles:"GridAlsoAiringItemMetadata-titles-2sZGTd",airTimeContainer:"GridAlsoAiringItemMetadata-airTimeContainer-1u9tYy",posterPlayCircle:"GridAlsoAiringItemMetadata-posterPlayCircle-RlbyCo MetadataPosterButtonCard-playCircle-366hcx PlayButton-playCircle-3Evfdw"}},yvfd:function(e,t,i){e.exports={input:"Checkbox-input-2z-Vk6",small:"Checkbox-small-39MQSN",medium:"Checkbox-medium-3tpwbj",large:"Checkbox-large-ftFaN8",isDisabled:"Checkbox-isDisabled-3aQ431",hasError:"Checkbox-hasError-2vvQzP"}},z07K:function(e,t,i){e.exports={input:"MaskedInput-input-17hU34 TextInput-input-1VMuma input-input-1P2Vi4",small:"MaskedInput-small-1owiYE TextInput-small-2i2et0 input-small-3LyjJH",large:"MaskedInput-large-1UpZYJ TextInput-large-2sz70T input-large-3wNGTy",isDisabled:"MaskedInput-isDisabled-3_twg- TextInput-isDisabled-3hj7IS input-isDisabled-2FiSY3",hasError:"MaskedInput-hasError-1kFATb TextInput-hasError-3FVrzH input-hasError-1to6Ql"}},z2YV:function(e,t,i){e.exports={channelMapping:"DeviceChannelMapping-channelMapping-2Z4xxm",deviceInfo:"DeviceChannelMapping-deviceInfo-3HnWcW",channelEnabled:"DeviceChannelMapping-channelEnabled-1FW8MJ",deviceIdentifier:"DeviceChannelMapping-deviceIdentifier-3-v5l4",mappingDisabled:"DeviceChannelMapping-mappingDisabled-3uY5jA",channelName:"DeviceChannelMapping-channelName-2knCVI",signalStrength:"DeviceChannelMapping-signalStrength-3YDOuy SignalStrength-signalStrength-33wP3p",epgChannel:"DeviceChannelMapping-epgChannel-tjRMxM",drmChannel:"DeviceChannelMapping-drmChannel-2CJhXe",drmChannelBadge:"DeviceChannelMapping-drmChannelBadge-1_tZU8",resolutionContainer:"DeviceChannelMapping-resolutionContainer-1Au-Kj"}},z4rd:function(e,t,i){var n=i("3O+N");e.exports=(n.default||n).template((function(e,t,i,n,a){this.compilerInfo=[4,">= 1.0.0"],a=a||{};var s,r="";function o(e,t){return"hidden"}return r+='<a class="media-poster-container" href="#"> <div class="media-poster"> <div class="media-poster-overlay"></div> <div class="sync-status"> <div class="sync-status-transcode hidden"></div> <i class="sync-status-icon sync-complete-icon glyphicon ok-2 hidden"></i> <i class="sync-status-icon sync-processing-icon glyphicon more hidden"></i> <i class="sync-status-icon sync-failed-icon glyphicon warning-sign ',((s=(i=this.merge(i,e.helpers)).unless.call(t,t&&t.isFailure,{hash:{},inverse:this.noop,fn:this.program(1,o,a),data:a}))||0===s)&&(r+=s),r+='"></i> <i class="sync-status-icon sync-unknown-icon glyphicon circle-question-mark ',((s=i.if.call(t,t&&t.isFailure,{hash:{},inverse:this.noop,fn:this.program(1,o,a),data:a}))||0===s)&&(r+=s),r+='"></i> </div> <div class="media-poster-actions"> <button class="edit-btn media-poster-btn btn-link" tabindex="-1"><i class="glyphicon pencil"></i></button> <button class="delete-btn media-poster-btn btn-link btn-danger" tabindex="-1"><i class="glyphicon remove-2"></i></button> </div> </div> <div class="media-title media-heading"></div> <div class="media-subtitle-1 media-heading secondary"></div> <div class="media-context media-heading secondary"></div> </a> '}))},z8ZC:function(e,t,i){"use strict";i.d(t,"b",(function(){return l})),i.d(t,"e",(function(){return c})),i.d(t,"c",(function(){return d})),i.d(t,"d",(function(){return u})),i.d(t,"f",(function(){return p})),i.d(t,"a",(function(){return h}));var n=i("LSig"),a=i("2ifn"),s=i("66GW"),r=i("1Cr9"),o=i("rXDx");const l="movies",c="tv",d="music",u="photos",p="videos",h="game",m=Object(r.a)(["key","typeID","typeString","rootTypeString"],[{key:l,typeID:"1",typeString:o.j,rootTypeString:o.j,title:()=>Object(s.default)("Movies"),shortTitle:()=>Object(s.default)("Movies"),defaultLanguage:"en",defaultAgents:[n.f,n.a],defaultScanners:[a.b,a.c],mutual:{agent:n.f,scanner:a.b}},{key:c,typeID:"2",typeString:o.o,rootTypeString:o.o,title:()=>Object(s.default)("TV Shows"),shortTitle:()=>Object(s.default)("Shows"),defaultLanguage:"en",defaultAgents:[n.k],defaultScanners:[a.i],mutual:{agent:n.i,scanner:a.h}},{key:d,typeID:"8",typeString:o.b,rootTypeString:o.b,title:()=>Object(s.default)("Music"),shortTitle:()=>Object(s.default)("Music"),defaultLanguage:"en",defaultAgents:[n.g,n.b],defaultScanners:[a.d,a.e],exclusiveAgents:[n.h],exclusiveScanners:[a.g],mutual:{agent:n.g,scanner:a.d}},{key:u,typeID:"13",typeString:o.k,rootTypeString:o.l,title:()=>Object(s.default)("Photos"),shortTitle:()=>Object(s.default)("Photos"),defaultLanguage:"en",defaultAgents:[n.d],defaultScanners:[a.f],mutual:{}},{key:p,typeID:"1",typeString:o.j,rootTypeString:o.d,title:()=>Object(s.default)("Other Videos"),shortTitle:()=>Object(s.default)("Videos"),defaultLanguage:"xn",defaultAgents:[n.d],defaultScanners:[a.j],mutual:{}},{key:h,typeID:"19",typeString:o.h,rootTypeString:o.h,title:()=>Object(s.default)("Games"),shortTitle:()=>Object(s.default)("Games"),defaultLanguage:"en",defaultAgents:[n.e],defaultScanners:[a.a],mutual:{agent:n.e,scanner:a.a}}]);t.g=m},z9Hc:function(e,t,i){e.exports={container:"ClaimedServer-container-3O6-1n",message:"ClaimedServer-message-1yZ-wd",messageHeader:"ClaimedServer-messageHeader-3uzatL",messageDetails:"ClaimedServer-messageDetails-3lEkVI",button:"ClaimedServer-button-36k0Q0 SpinnerButton-button-1A8EcL Button-button-2kT68l Link-link-2n0yJn"}},zBfM:function(e,t,i){var n=i("3O+N");e.exports=(n.default||n).template((function(e,t,n,a,s){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),s=s||{};var r,o="",l=this.escapeExpression;return o+='<button type="button" class="close-btn btn-link"><i class="glyphicon remove-2"></i></button> <span class="message">'+l("function"==typeof(r=t&&t.content)?r.apply(t):r)+"</span> ",((r=n.if.call(t,t&&t.url,{hash:{},inverse:this.noop,fn:this.program(1,(function(e,t){var n,a,s="";return s+=' <a class="info-link link" href="'+l("function"==typeof(n=e&&e.url)?n.apply(e):n)+'" target="_blank">'+l((a=i("d8WC"),a&&(a.__esModule?a.default:a)).call(e,"More Info",{hash:{},data:t}))+"</a> "}),s),data:s}))||0===r)&&(o+=r),o+=" "}))},zJz3:function(e,t,i){e.exports={titleContainer:"PrePlayListTitle-titleContainer-1ITpXZ",selectButton:"PrePlayListTitle-selectButton-2GE1kx SelectButton-selectButton-3Kbjm9",selectedTitleContainer:"PrePlayListTitle-selectedTitleContainer-CISxYT PrePlayListTitle-titleContainer-1ITpXZ"}},zLeb:function(e,t,i){(function(n){var a,s,r;r="object"==typeof self&&self.self==self&&self||"object"==typeof n&&n.global==n&&n,a=[i("F/us"),i("EVdn"),t],void 0===(s=function(e,t,i){r.Backbone=function(e,t,i,n){var a=e.Backbone,s=Array.prototype.slice;t.VERSION="1.2.3",t.$=n,t.noConflict=function(){return e.Backbone=a,this},t.emulateHTTP=!1,t.emulateJSON=!1;var r=function(e,t,n){i.each(t,(function(t,a){i[a]&&(e.prototype[a]=function(e,t,n){switch(e){case 1:return function(){return i[t](this[n])};case 2:return function(e){return i[t](this[n],e)};case 3:return function(e,a){return i[t](this[n],o(e,this),a)};case 4:return function(e,a,s){return i[t](this[n],o(e,this),a,s)};default:return function(){var e=s.call(arguments);return e.unshift(this[n]),i[t].apply(i,e)}}}(t,a,n))}))},o=function(e,t){return i.isFunction(e)?e:i.isObject(e)&&!t._isModel(e)?l(e):i.isString(e)?function(t){return t.get(e)}:e},l=function(e){var t=i.matches(e);return function(e){return t(e.attributes)}},c=t.Events={},d=/\s+/,u=function(e,t,n,a,s){var r,o=0;if(n&&"object"==typeof n){void 0!==a&&"context"in s&&void 0===s.context&&(s.context=a);for(r=i.keys(n);o<r.length;o++)t=u(e,t,r[o],n[r[o]],s)}else if(n&&d.test(n))for(r=n.split(d);o<r.length;o++)t=e(t,r[o],a,s);else t=e(t,n,a,s);return t};c.on=function(e,t,i){return p(this,e,t,i)};var p=function(e,t,i,n,a){return e._events=u(h,e._events||{},t,i,{context:n,ctx:e,listening:a}),a&&((e._listeners||(e._listeners={}))[a.id]=a),e};c.listenTo=function(e,t,n){if(!e)return this;var a=e._listenId||(e._listenId=i.uniqueId("l")),s=this._listeningTo||(this._listeningTo={}),r=s[a];if(!r){var o=this._listenId||(this._listenId=i.uniqueId("l"));r=s[a]={obj:e,objId:a,id:o,listeningTo:s,count:0}}return p(e,t,n,this,r),this};var h=function(e,t,i,n){if(i){var a=e[t]||(e[t]=[]),s=n.context,r=n.ctx,o=n.listening;o&&o.count++,a.push({callback:i,context:s,ctx:s||r,listening:o})}return e};c.off=function(e,t,i){return this._events?(this._events=u(m,this._events,e,t,{context:i,listeners:this._listeners}),this):this},c.stopListening=function(e,t,n){var a=this._listeningTo;if(!a)return this;for(var s=e?[e._listenId]:i.keys(a),r=0;r<s.length;r++){var o=a[s[r]];if(!o)break;o.obj.off(t,n,this)}return i.isEmpty(a)&&(this._listeningTo=void 0),this};var m=function(e,t,n,a){if(e){var s,r=0,o=a.context,l=a.listeners;if(t||n||o){for(var c=t?[t]:i.keys(e);r<c.length;r++){var d=e[t=c[r]];if(!d)break;for(var u=[],p=0;p<d.length;p++){var h=d[p];n&&n!==h.callback&&n!==h.callback._callback||o&&o!==h.context?u.push(h):(s=h.listening)&&0==--s.count&&(delete l[s.id],delete s.listeningTo[s.objId])}u.length?e[t]=u:delete e[t]}return i.size(e)?e:void 0}for(var m=i.keys(l);r<m.length;r++)delete l[(s=l[m[r]]).id],delete s.listeningTo[s.objId]}};c.once=function(e,t,n){var a=u(g,{},e,t,i.bind(this.off,this));return this.on(a,void 0,n)},c.listenToOnce=function(e,t,n){var a=u(g,{},t,n,i.bind(this.stopListening,this,e));return this.listenTo(e,a)};var g=function(e,t,n,a){if(n){var s=e[t]=i.once((function(){a(t,s),n.apply(this,arguments)}));s._callback=n}return e};c.trigger=function(e){if(!this._events)return this;for(var t=Math.max(0,arguments.length-1),i=Array(t),n=0;n<t;n++)i[n]=arguments[n+1];return u(v,this._events,e,void 0,i),this};var v=function(e,t,i,n){if(e){var a=e[t],s=e.all;a&&s&&(s=s.slice()),a&&y(a,n),s&&y(s,[t].concat(n))}return e},y=function(e,t){var i,n=-1,a=e.length,s=t[0],r=t[1],o=t[2];switch(t.length){case 0:for(;++n<a;)(i=e[n]).callback.call(i.ctx);return;case 1:for(;++n<a;)(i=e[n]).callback.call(i.ctx,s);return;case 2:for(;++n<a;)(i=e[n]).callback.call(i.ctx,s,r);return;case 3:for(;++n<a;)(i=e[n]).callback.call(i.ctx,s,r,o);return;default:for(;++n<a;)(i=e[n]).callback.apply(i.ctx,t);return}};c.bind=c.on,c.unbind=c.off,i.extend(t,c);var f=t.Model=function(e,t){var n=e||{};t||(t={}),this.cid=i.uniqueId(this.cidPrefix),this.attributes={},t.collection&&(this.collection=t.collection),t.parse&&(n=this.parse(n,t)||{}),n=i.defaults({},n,i.result(this,"defaults")),this.set(n,t),this.changed={},this.initialize.apply(this,arguments)};i.extend(f.prototype,c,{changed:null,validationError:null,idAttribute:"id",cidPrefix:"c",initialize:function(){},toJSON:function(e){return i.clone(this.attributes)},sync:function(){return t.sync.apply(this,arguments)},get:function(e){return this.attributes[e]},escape:function(e){return i.escape(this.get(e))},has:function(e){return null!=this.get(e)},matches:function(e){return!!i.iteratee(e,this)(this.attributes)},set:function(e,t,n){if(null==e)return this;var a;if("object"==typeof e?(a=e,n=t):(a={})[e]=t,n||(n={}),!this._validate(a,n))return!1;var s=n.unset,r=n.silent,o=[],l=this._changing;this._changing=!0,l||(this._previousAttributes=i.clone(this.attributes),this.changed={});var c=this.attributes,d=this.changed,u=this._previousAttributes;for(var p in a)t=a[p],i.isEqual(c[p],t)||o.push(p),i.isEqual(u[p],t)?delete d[p]:d[p]=t,s?delete c[p]:c[p]=t;if(this.id=this.get(this.idAttribute),!r){o.length&&(this._pending=n);for(var h=0;h<o.length;h++)this.trigger("change:"+o[h],this,c[o[h]],n)}if(l)return this;if(!r)for(;this._pending;)n=this._pending,this._pending=!1,this.trigger("change",this,n);return this._pending=!1,this._changing=!1,this},unset:function(e,t){return this.set(e,void 0,i.extend({},t,{unset:!0}))},clear:function(e){var t={};for(var n in this.attributes)t[n]=void 0;return this.set(t,i.extend({},e,{unset:!0}))},hasChanged:function(e){return null==e?!i.isEmpty(this.changed):i.has(this.changed,e)},changedAttributes:function(e){if(!e)return!!this.hasChanged()&&i.clone(this.changed);var t=this._changing?this._previousAttributes:this.attributes,n={};for(var a in e){var s=e[a];i.isEqual(t[a],s)||(n[a]=s)}return!!i.size(n)&&n},previous:function(e){return null!=e&&this._previousAttributes?this._previousAttributes[e]:null},previousAttributes:function(){return i.clone(this._previousAttributes)},fetch:function(e){e=i.extend({parse:!0},e);var t=this,n=e.success;return e.success=function(i){var a=e.parse?t.parse(i,e):i;if(!t.set(a,e))return!1;n&&n.call(e.context,t,i,e),t.trigger("sync",t,i,e)},z(this,e),this.sync("read",this,e)},save:function(e,t,n){var a;null==e||"object"==typeof e?(a=e,n=t):(a={})[e]=t;var s=(n=i.extend({validate:!0,parse:!0},n)).wait;if(a&&!s){if(!this.set(a,n))return!1}else if(!this._validate(a,n))return!1;var r=this,o=n.success,l=this.attributes;n.success=function(e){r.attributes=l;var t=n.parse?r.parse(e,n):e;if(s&&(t=i.extend({},a,t)),t&&!r.set(t,n))return!1;o&&o.call(n.context,r,e,n),r.trigger("sync",r,e,n)},z(this,n),a&&s&&(this.attributes=i.extend({},l,a));var c=this.isNew()?"create":n.patch?"patch":"update";"patch"!==c||n.attrs||(n.attrs=a);var d=this.sync(c,this,n);return this.attributes=l,d},destroy:function(e){e=e?i.clone(e):{};var t=this,n=e.success,a=e.wait,s=function(){t.stopListening(),t.trigger("destroy",t,t.collection,e)};e.success=function(i){a&&s(),n&&n.call(e.context,t,i,e),t.isNew()||t.trigger("sync",t,i,e)};var r=!1;return this.isNew()?i.defer(e.success):(z(this,e),r=this.sync("delete",this,e)),a||s(),r},url:function(){var e=i.result(this,"urlRoot")||i.result(this.collection,"url")||R();if(this.isNew())return e;var t=this.get(this.idAttribute);return e.replace(/[^\/]$/,"$&/")+encodeURIComponent(t)},parse:function(e,t){return e},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(e){return this._validate({},i.defaults({validate:!0},e))},_validate:function(e,t){if(!t.validate||!this.validate)return!0;e=i.extend({},this.attributes,e);var n=this.validationError=this.validate(e,t)||null;return!n||(this.trigger("invalid",this,n,i.extend(t,{validationError:n})),!1)}}),r(f,{keys:1,values:1,pairs:1,invert:1,pick:0,omit:0,chain:1,isEmpty:1},"attributes");var b=t.Collection=function(e,t){t||(t={}),t.model&&(this.model=t.model),void 0!==t.comparator&&(this.comparator=t.comparator),this._reset(),this.initialize.apply(this,arguments),e&&this.reset(e,i.extend({silent:!0},t))},I={add:!0,remove:!0,merge:!0},S={add:!0,remove:!1},C=function(e,t,i){i=Math.min(Math.max(i,0),e.length);for(var n=Array(e.length-i),a=t.length,s=0;s<n.length;s++)n[s]=e[s+i];for(s=0;s<a;s++)e[s+i]=t[s];for(s=0;s<n.length;s++)e[s+a+i]=n[s]};i.extend(b.prototype,c,{model:f,initialize:function(){},toJSON:function(e){return this.map((function(t){return t.toJSON(e)}))},sync:function(){return t.sync.apply(this,arguments)},add:function(e,t){return this.set(e,i.extend({merge:!1},t,S))},remove:function(e,t){t=i.extend({},t);var n=!i.isArray(e);e=n?[e]:i.clone(e);var a=this._removeModels(e,t);return!t.silent&&a&&this.trigger("update",this,t),n?a[0]:a},set:function(e,t){if(null!=e){(t=i.defaults({},t,I)).parse&&!this._isModel(e)&&(e=this.parse(e,t));var n=!i.isArray(e);e=n?e?[e]:[]:e.slice();var a=t.at;null!=a&&(a=+a),a<0&&(a+=this.length+1);for(var s,r=[],o=[],l=[],c={},d=t.add,u=t.merge,p=t.remove,h=!1,m=this.comparator&&null==a&&!1!==t.sort,g=i.isString(this.comparator)?this.comparator:null,v=0;v<e.length;v++){s=e[v];var y=this.get(s);if(y){if(u&&s!==y){var f=this._isModel(s)?s.attributes:s;t.parse&&(f=y.parse(f,t)),y.set(f,t),m&&!h&&(h=y.hasChanged(g))}c[y.cid]||(c[y.cid]=!0,r.push(y)),e[v]=y}else d&&(s=e[v]=this._prepareModel(s,t))&&(o.push(s),this._addReference(s,t),c[s.cid]=!0,r.push(s))}if(p){for(v=0;v<this.length;v++)c[(s=this.models[v]).cid]||l.push(s);l.length&&this._removeModels(l,t)}var b=!1,S=!m&&d&&p;if(r.length&&S?(b=this.length!=r.length||i.some(this.models,(function(e,t){return e!==r[t]})),this.models.length=0,C(this.models,r,0),this.length=this.models.length):o.length&&(m&&(h=!0),C(this.models,o,null==a?this.length:a),this.length=this.models.length),h&&this.sort({silent:!0}),!t.silent){for(v=0;v<o.length;v++)null!=a&&(t.index=a+v),(s=o[v]).trigger("add",s,this,t);(h||b)&&this.trigger("sort",this,t),(o.length||l.length)&&this.trigger("update",this,t)}return n?e[0]:e}},reset:function(e,t){t=t?i.clone(t):{};for(var n=0;n<this.models.length;n++)this._removeReference(this.models[n],t);return t.previousModels=this.models,this._reset(),e=this.add(e,i.extend({silent:!0},t)),t.silent||this.trigger("reset",this,t),e},push:function(e,t){return this.add(e,i.extend({at:this.length},t))},pop:function(e){var t=this.at(this.length-1);return this.remove(t,e)},unshift:function(e,t){return this.add(e,i.extend({at:0},t))},shift:function(e){var t=this.at(0);return this.remove(t,e)},slice:function(){return s.apply(this.models,arguments)},get:function(e){if(null!=e){var t=this.modelId(this._isModel(e)?e.attributes:e);return this._byId[e]||this._byId[t]||this._byId[e.cid]}},at:function(e){return e<0&&(e+=this.length),this.models[e]},where:function(e,t){return this[t?"find":"filter"](e)},findWhere:function(e){return this.where(e,!0)},sort:function(e){var t=this.comparator;if(!t)throw new Error("Cannot sort a set without a comparator");e||(e={});var n=t.length;return i.isFunction(t)&&(t=i.bind(t,this)),1===n||i.isString(t)?this.models=this.sortBy(t):this.models.sort(t),e.silent||this.trigger("sort",this,e),this},pluck:function(e){return i.invoke(this.models,"get",e)},fetch:function(e){var t=(e=i.extend({parse:!0},e)).success,n=this;return e.success=function(i){var a=e.reset?"reset":"set";n[a](i,e),t&&t.call(e.context,n,i,e),n.trigger("sync",n,i,e)},z(this,e),this.sync("read",this,e)},create:function(e,t){var n=(t=t?i.clone(t):{}).wait;if(!(e=this._prepareModel(e,t)))return!1;n||this.add(e,t);var a=this,s=t.success;return t.success=function(e,t,i){n&&a.add(e,i),s&&s.call(i.context,e,t,i)},e.save(null,t),e},parse:function(e,t){return e},clone:function(){return new this.constructor(this.models,{model:this.model,comparator:this.comparator})},modelId:function(e){return e[this.model.prototype.idAttribute||"id"]},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(e,t){if(this._isModel(e))return e.collection||(e.collection=this),e;(t=t?i.clone(t):{}).collection=this;var n=new this.model(e,t);return n.validationError?(this.trigger("invalid",this,n.validationError,t),!1):n},_removeModels:function(e,t){for(var i=[],n=0;n<e.length;n++){var a=this.get(e[n]);if(a){var s=this.indexOf(a);this.models.splice(s,1),this.length--,t.silent||(t.index=s,a.trigger("remove",a,this,t)),i.push(a),this._removeReference(a,t)}}return!!i.length&&i},_isModel:function(e){return e instanceof f},_addReference:function(e,t){this._byId[e.cid]=e;var i=this.modelId(e.attributes);null!=i&&(this._byId[i]=e),e.on("all",this._onModelEvent,this)},_removeReference:function(e,t){delete this._byId[e.cid];var i=this.modelId(e.attributes);null!=i&&delete this._byId[i],this===e.collection&&delete e.collection,e.off("all",this._onModelEvent,this)},_onModelEvent:function(e,t,i,n){if("add"!==e&&"remove"!==e||i===this){if("destroy"===e&&this.remove(t,n),"change"===e){var a=this.modelId(t.previousAttributes()),s=this.modelId(t.attributes);a!==s&&(null!=a&&delete this._byId[a],null!=s&&(this._byId[s]=t))}this.trigger.apply(this,arguments)}}}),r(b,{forEach:3,each:3,map:3,collect:3,reduce:4,foldl:4,inject:4,reduceRight:4,foldr:4,find:3,detect:3,filter:3,select:3,reject:3,every:3,all:3,some:3,any:3,include:3,includes:3,contains:3,invoke:0,max:3,min:3,toArray:1,size:1,first:3,head:3,take:3,initial:3,rest:3,tail:3,drop:3,last:3,without:0,difference:0,indexOf:3,shuffle:1,lastIndexOf:3,isEmpty:1,chain:1,sample:3,partition:3,groupBy:3,countBy:3,sortBy:3,indexBy:3},"models");var M=t.View=function(e){this.cid=i.uniqueId("view"),i.extend(this,i.pick(e,P)),this._ensureElement(),this.initialize.apply(this,arguments)},D=/^(\S+)\s*(.*)$/,P=["model","collection","el","id","attributes","className","tagName","events"];i.extend(M.prototype,c,{tagName:"div",$:function(e){return this.$el.find(e)},initialize:function(){},render:function(){return this},remove:function(){return this._removeElement(),this.stopListening(),this},_removeElement:function(){this.$el.remove()},setElement:function(e){return this.undelegateEvents(),this._setElement(e),this.delegateEvents(),this},_setElement:function(e){this.$el=e instanceof t.$?e:t.$(e),this.el=this.$el[0]},delegateEvents:function(e){if(e||(e=i.result(this,"events")),!e)return this;for(var t in this.undelegateEvents(),e){var n=e[t];if(i.isFunction(n)||(n=this[n]),n){var a=t.match(D);this.delegate(a[1],a[2],i.bind(n,this))}}return this},delegate:function(e,t,i){return this.$el.on(e+".delegateEvents"+this.cid,t,i),this},undelegateEvents:function(){return this.$el&&this.$el.off(".delegateEvents"+this.cid),this},undelegate:function(e,t,i){return this.$el.off(e+".delegateEvents"+this.cid,t,i),this},_createElement:function(e){return document.createElement(e)},_ensureElement:function(){if(this.el)this.setElement(i.result(this,"el"));else{var e=i.extend({},i.result(this,"attributes"));this.id&&(e.id=i.result(this,"id")),this.className&&(e.class=i.result(this,"className")),this.setElement(this._createElement(i.result(this,"tagName"))),this._setAttributes(e)}},_setAttributes:function(e){this.$el.attr(e)}}),t.sync=function(e,n,a){var s=O[e];i.defaults(a||(a={}),{emulateHTTP:t.emulateHTTP,emulateJSON:t.emulateJSON});var r={type:s,dataType:"json"};if(a.url||(r.url=i.result(n,"url")||R()),null!=a.data||!n||"create"!==e&&"update"!==e&&"patch"!==e||(r.contentType="application/json",r.data=JSON.stringify(a.attrs||n.toJSON(a))),a.emulateJSON&&(r.contentType="application/x-www-form-urlencoded",r.data=r.data?{model:r.data}:{}),a.emulateHTTP&&("PUT"===s||"DELETE"===s||"PATCH"===s)){r.type="POST",a.emulateJSON&&(r.data._method=s);var o=a.beforeSend;a.beforeSend=function(e){if(e.setRequestHeader("X-HTTP-Method-Override",s),o)return o.apply(this,arguments)}}"GET"===r.type||a.emulateJSON||(r.processData=!1);var l=a.error;a.error=function(e,t,i){a.textStatus=t,a.errorThrown=i,l&&l.call(a.context,e,t,i)};var c=a.xhr=t.ajax(i.extend(r,a));return n.trigger("request",n,c,a),c};var O={create:"POST",update:"PUT",patch:"PATCH",delete:"DELETE",read:"GET"};t.ajax=function(){return t.$.ajax.apply(t.$,arguments)};var j=t.Router=function(e){e||(e={}),e.routes&&(this.routes=e.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},w=/\((.*?)\)/g,T=/(\(\?)?:\w+/g,E=/\*\w+/g,N=/[\-{}\[\]+?.,\\\^$|#\s]/g;i.extend(j.prototype,c,{initialize:function(){},route:function(e,n,a){i.isRegExp(e)||(e=this._routeToRegExp(e)),i.isFunction(n)&&(a=n,n=""),a||(a=this[n]);var s=this;return t.history.route(e,(function(i){var r=s._extractParameters(e,i);!1!==s.execute(a,r,n)&&(s.trigger.apply(s,["route:"+n].concat(r)),s.trigger("route",n,r),t.history.trigger("route",s,n,r))})),this},execute:function(e,t,i){e&&e.apply(this,t)},navigate:function(e,i){return t.history.navigate(e,i),this},_bindRoutes:function(){if(this.routes){this.routes=i.result(this,"routes");for(var e,t=i.keys(this.routes);null!=(e=t.pop());)this.route(e,this.routes[e])}},_routeToRegExp:function(e){return e=e.replace(N,"\\$&").replace(w,"(?:$1)?").replace(T,(function(e,t){return t?e:"([^/?]+)"})).replace(E,"([^?]*?)"),new RegExp("^"+e+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(e,t){var n=e.exec(t).slice(1);return i.map(n,(function(e,t){return t===n.length-1?e||null:e?decodeURIComponent(e):null}))}});var x=t.History=function(){this.handlers=[],this.checkUrl=i.bind(this.checkUrl,this),"undefined"!=typeof window&&(this.location=window.location,this.history=window.history)},A=/^[#\/]|\s+$/g,L=/^\/+|\/+$/g,k=/#.*$/;x.started=!1,i.extend(x.prototype,c,{interval:50,atRoot:function(){return this.location.pathname.replace(/[^\/]$/,"$&/")===this.root&&!this.getSearch()},matchRoot:function(){return this.decodeFragment(this.location.pathname).slice(0,this.root.length-1)+"/"===this.root},decodeFragment:function(e){return decodeURI(e.replace(/%25/g,"%2525"))},getSearch:function(){var e=this.location.href.replace(/#.*/,"").match(/\?.+/);return e?e[0]:""},getHash:function(e){var t=(e||this).location.href.match(/#(.*)$/);return t?t[1]:""},getPath:function(){var e=this.decodeFragment(this.location.pathname+this.getSearch()).slice(this.root.length-1);return"/"===e.charAt(0)?e.slice(1):e},getFragment:function(e){return null==e&&(e=this._usePushState||!this._wantsHashChange?this.getPath():this.getHash()),e.replace(A,"")},start:function(e){if(x.started)throw new Error("Backbone.history has already been started");if(x.started=!0,this.options=i.extend({root:"/"},this.options,e),this.root=this.options.root,this._wantsHashChange=!1!==this.options.hashChange,this._hasHashChange="onhashchange"in window&&(void 0===document.documentMode||document.documentMode>7),this._useHashChange=this._wantsHashChange&&this._hasHashChange,this._wantsPushState=!!this.options.pushState,this._hasPushState=!(!this.history||!this.history.pushState),this._usePushState=this._wantsPushState&&this._hasPushState,this.fragment=this.getFragment(),this.root=("/"+this.root+"/").replace(L,"/"),this._wantsHashChange&&this._wantsPushState){if(!this._hasPushState&&!this.atRoot()){var t=this.root.slice(0,-1)||"/";return this.location.replace(t+"#"+this.getPath()),!0}this._hasPushState&&this.atRoot()&&this.navigate(this.getHash(),{replace:!0})}if(!this._hasHashChange&&this._wantsHashChange&&!this._usePushState){this.iframe=document.createElement("iframe"),this.iframe.src="javascript:0",this.iframe.style.display="none",this.iframe.tabIndex=-1;var n=document.body,a=n.insertBefore(this.iframe,n.firstChild).contentWindow;a.document.open(),a.document.close(),a.location.hash="#"+this.fragment}var s=window.addEventListener||function(e,t){return attachEvent("on"+e,t)};if(this._usePushState?s("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe?s("hashchange",this.checkUrl,!1):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),!this.options.silent)return this.loadUrl()},stop:function(){var e=window.removeEventListener||function(e,t){return detachEvent("on"+e,t)};this._usePushState?e("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe&&e("hashchange",this.checkUrl,!1),this.iframe&&(document.body.removeChild(this.iframe),this.iframe=null),this._checkUrlInterval&&clearInterval(this._checkUrlInterval),x.started=!1},route:function(e,t){this.handlers.unshift({route:e,callback:t})},checkUrl:function(e){var t=this.getFragment();if(t===this.fragment&&this.iframe&&(t=this.getHash(this.iframe.contentWindow)),t===this.fragment)return!1;this.iframe&&this.navigate(t),this.loadUrl()},loadUrl:function(e){return!!this.matchRoot()&&(e=this.fragment=this.getFragment(e),i.some(this.handlers,(function(t){if(t.route.test(e))return t.callback(e),!0})))},navigate:function(e,t){if(!x.started)return!1;t&&!0!==t||(t={trigger:!!t}),e=this.getFragment(e||"");var i=this.root;""!==e&&"?"!==e.charAt(0)||(i=i.slice(0,-1)||"/");var n=i+e;e=e.replace(k,"");var a=this.decodeFragment(e);if(this.fragment!==a){if(this.fragment=a,this._usePushState)this.history[t.replace?"replaceState":"pushState"]({},document.title,n);else{if(!this._wantsHashChange)return this.location.assign(n);if(this._updateHash(this.location,e,t.replace),this.iframe&&e!==this.getHash(this.iframe.contentWindow)){var s=this.iframe.contentWindow;t.replace||(s.document.open(),s.document.close()),this._updateHash(s.location,e,t.replace)}}return t.trigger?this.loadUrl(e):void 0}},_updateHash:function(e,t,i){if(i){var n=e.href.replace(/(javascript:|#).*$/,"");e.replace(n+"#"+t)}else e.hash="#"+t}}),t.history=new x,f.extend=b.extend=j.extend=M.extend=x.extend=function(e,t){var n,a=this;n=e&&i.has(e,"constructor")?e.constructor:function(){return a.apply(this,arguments)},i.extend(n,a,t);var s=function(){this.constructor=n};return s.prototype=a.prototype,n.prototype=new s,e&&i.extend(n.prototype,e),n.__super__=a.prototype,n};var R=function(){throw new Error('A "url" property or function must be specified')},z=function(e,t){var i=t.error;t.error=function(n){i&&i.call(t.context,e,n,t),e.trigger("error",e,n,t)}};return t}(r,i,e,t)}.apply(t,a))||(e.exports=s)}).call(this,i("yLpj"))},zLrO:function(e,t,i){e.exports={ratingRightTitle:"PrePlayRatingRightTitle-ratingRightTitle-1d4YyI PrePlayRightTitle-rightTitle-VxiwUS",starRating:"PrePlayRatingRightTitle-starRating-31XbAl",criticRating:"PrePlayRatingRightTitle-criticRating-2J_tnK"}},zLzU:function(e,t,i){e.exports={measure:"AudioVideoLyrics-measure-2SF_6A",container:"AudioVideoLyrics-container-3d-0qH",card:"AudioVideoLyrics-card-1ul6PO MetadataPosterCard-card-3bztRc",content:"AudioVideoLyrics-content-5An40t",titlesContainer:"AudioVideoLyrics-titlesContainer-3I1RVb",rightInfo:"AudioVideoLyrics-rightInfo-x_GGfW",scroller:"AudioVideoLyrics-scroller-3hrplZ Scroller-vertical-VScFLT",spinner:"AudioVideoLyrics-spinner-1K46lG Spinner-spinner-Niere7 spin-spin-2kLwt_",upsellContainer:"AudioVideoLyrics-upsellContainer-2K0Q7S",innerContent:"AudioVideoLyrics-innerContent-19sRoW",line:"AudioVideoLyrics-line-2CYDi-",lineTimedIcon:"AudioVideoLyrics-lineTimedIcon-GOFkGM",isLineSelected:"AudioVideoLyrics-isLineSelected-2kgwVU",timedLyricsButton:"AudioVideoLyrics-timedLyricsButton-13NoS- IconButton-button-9An-7I",isTimedLyricsActive:"AudioVideoLyrics-isTimedLyricsActive-3bWfB0"}},zQVR:function(e,t,i){e.exports={icon:"SettingsSidebarListLink-icon-eICe1t SidebarLink-icon-34JWqs",selectedIcon:"SettingsSidebarListLink-selectedIcon-caIG1g SettingsSidebarListLink-icon-eICe1t SidebarLink-icon-34JWqs"}},"zTY+":function(e,t,i){"use strict";i.d(t,"a",(function(){return r}));var n=i("+X4A"),a=i("gnaf"),s=i("mvw6");function r(e){const{providerIdentifier:t=a.d,serverIdentifier:i,metadataItemKey:r,parameters:o}=e;let l=i!==s.a?"server://"+i+"/"+t:"provider://"+t;return r&&(l=""+l+r),o&&(l=n.join(l,o)),l}},zTsO:function(e,t,i){"use strict";i.d(t,"c",(function(){return n})),i.d(t,"j",(function(){return a})),i.d(t,"k",(function(){return s})),i.d(t,"H",(function(){return r})),i.d(t,"F",(function(){return o})),i.d(t,"x",(function(){return l})),i.d(t,"y",(function(){return c})),i.d(t,"w",(function(){return d})),i.d(t,"t",(function(){return u})),i.d(t,"a",(function(){return p})),i.d(t,"o",(function(){return h})),i.d(t,"C",(function(){return m})),i.d(t,"D",(function(){return g})),i.d(t,"r",(function(){return v})),i.d(t,"u",(function(){return y})),i.d(t,"g",(function(){return f})),i.d(t,"d",(function(){return b})),i.d(t,"e",(function(){return I})),i.d(t,"f",(function(){return S})),i.d(t,"A",(function(){return C})),i.d(t,"b",(function(){return M})),i.d(t,"G",(function(){return D})),i.d(t,"l",(function(){return P})),i.d(t,"m",(function(){return O})),i.d(t,"n",(function(){return j})),i.d(t,"q",(function(){return w})),i.d(t,"p",(function(){return T})),i.d(t,"s",(function(){return E})),i.d(t,"E",(function(){return N})),i.d(t,"v",(function(){return x})),i.d(t,"B",(function(){return A})),i.d(t,"z",(function(){return L})),i.d(t,"i",(function(){return k})),i.d(t,"h",(function(){return R}));const n="32cc8bf5-b425-4582-a52d-71b4f1cf436b",a="de789b83-9c5e-4472-bccf-791c69e67500",s="64ed42f8-259d-4957-8530-0fff2d846cd0",r="7c4200b1-a2ab-4803-adcd-6c36b22a9269",o="6f82ca43-6117-4e55-ae0e-5ea3b3e99a96",l="bb50c92f-b412-44fe-8d8a-b1684f212a44",c="b612f571-83c3-431a-88eb-3f05ce08da4a",d="222020fb-1504-492d-af33-a0b80a49558a",u="4bdcac7b-f25b-43b3-93d8-2bbcb9605fd7",p="644c4466-05fa-45e0-a478-c594cf81778f",h="75e95ee5-b482-4b02-aeff-a9faf13ead64",m="01ba4bb1-0d08-4758-b9f1-7df92631e4c1",g="f8484f94-92a8-4ca4-9f43-e83ab3f586c7",v="f3235e61-c0eb-4718-ac0a-7d6eb3d8ff75",y="298a11d3-9324-4104-8047-0ac10df4a8a6",f="4742780c-af9d-4b44-bf5b-7b27e3369aa8",b="67c80530-eae3-4500-a9fa-9b6947d0f6d1",I="5c1951bf-ccf1-4821-8ee7-e50f51218ae7",S="3bfd3ccf-8c63-4dbb-8f87-9b21b402c82b",C="43725019-9122-4a6d-bc50-bca06a411b7a",M="d8810b38-ec9b-494c-8555-3df6e365dfbd",D="43938a71-1295-46e9-918f-b6c4b0302011",P="65685ff8-4375-4e4c-a806-ec1f0b4a8b7f",O="6ab6677b-ad9b-444f-9ca1-b8027d05b3e1",j="b83c8dc9-5a01-4b7a-a7c9-5870c8a6e21b",w="02da2909-ddfd-46be-9e42-65008a79fc05",T="nonAnonymousAccount",E="e352c12b-5165-4691-9ab7-70d6ea24e8e4",N="65faa2d0-f57e-4c63-a6b6-f1baa48951b1",x="4e27cf82-9fb6-4ebe-8e10-c48bfe6fbbb6",A="20824f5c-6dd9-4655-9970-e7701a73c02a",L="fd6683b9-1426-4b00-840f-cd5fb0904a6a",k="9a67bff2-cb80-4bf9-81c6-9ad2f4c78afd",R="13056a62-9bd2-47cf-aba9-bab00095fd08"},zVLU:function(e,t,i){e.exports={group:"PrePlayDetailsGroup-group-3i0Tjw"}},zfMR:function(e,t,i){e.exports={form:"AddToPlaylistModal-form-R6AQa2",input:"AddToPlaylistModal-input-3CucUv TextInput-input-1mDdJf",button:"AddToPlaylistModal-button-1Em5lp SpinnerButton-button-2YjGJZ Button-button-3A5jB3 Link-link-2ew_DK"}},zjrX:function(e,t,i){var n=i("3O+N");e.exports=(n.default||n).template((function(e,t,i,n,a){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),a=a||{};var s,r,o="";return o+='<div class="show-actions striped-list-inner-item playlist-inner-item ',o+=(0,this.escapeExpression)(s=(r=i.type)||"function"==typeof(r=t&&t.type)?r.call(t,{hash:{},data:a}):r)+'"> <div class="media-actions media-reorder"> ',((s=i.unless.call(t,t&&t.hideDragHandle,{hash:{},inverse:this.noop,fn:this.program(1,(function(e,t){return' <div class="sortable-handle btn-gray-link"><i class="glyphicon show-lines"></i></div> '}),a),data:a}))||0===s)&&(o+=s),o+=' </div> <div class="generator-poster-container"> <div class="media-poster"></div> </div> <div class="media-actions generator-actions"> <button class="promote-btn media-action-btn btn-gray-link" tabindex="-1"><i class="glyphicon up-arrow"></i></button> <button class="delete-btn media-action-btn btn-gray-link btn-danger" tabindex="-1"><i class="glyphicon remove-2"></i></button> </div> <div class="media-item"> <div class="media-details"> <div class="generator-title col-lg"></div> <div class="generator-target col-md col-secondary"></div> <div class="conversion-status-region col-md col-secondary"></div> </div> </div> </div> '}))},zsFO:function(e,t,i){e.exports={extendedTitle:"VideoSettings-extendedTitle-39DU_s"}}},[[0,3,4]]]);