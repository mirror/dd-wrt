"use strict";(self.webpackChunkplex_web_client=self.webpackChunkplex_web_client||[]).push([[4],{35343:(e,t,n)=>{n.d(t,{Z:()=>a});var r=n(22222),i=n(89186);function a(){return(0,r.P1)(((e,{mediaSubscriptionEntityID:t})=>t),i.Z,((e,t)=>t[e]))}},99538:(e,t,n)=>{n.d(t,{I:()=>r,w:()=>i});const r="boolean",i="other"},30166:(e,t,n)=>{n.d(t,{Z:()=>g});var r=n(13469),i=n.n(r),a=n(56036),s=(n(32903),n(99538)),o=Object.defineProperty,l=Object.prototype.hasOwnProperty,c=Object.getOwnPropertySymbols,d=Object.prototype.propertyIsEnumerable,u=(e,t,n)=>t in e?o(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,m=(e,t)=>{for(var n in t||(t={}))l.call(t,n)&&u(e,n,t[n]);if(c)for(var n of c(t))d.call(t,n)&&u(e,n,t[n]);return e},p=n(68622),h=n(23636);const y=`([^&!=<>]+)(${p.ZP.sort(((e,t)=>t.length-e.length)).map(a.Z).join("|")})([^&]+)?`,v=new RegExp(y,"g"),E=new RegExp(y),f={unwatched:!0,unwatchedLeaves:!0,unmatched:!0,duplicate:!0,inProgress:!0,hdonly:!0,hdr:!0};function g(e){if(!e)return[];const t=decodeURIComponent(e).match(v);return t?t.reduce(((e,t)=>{const n=t.match(E),[,r,a,o]=n||[];let l=o?i().uniq(o.split(h.OR)):"";return 1===l.length&&(l=l[0]),function(e,t,n){const r=[...e];if(n.type===s.I){const e=i().findIndex(r,(e=>e.key===t)),a=-1===e?0:e,s=m({key:t},n);-1===e?r.push(s):r.splice(a,1,s)}else i().findWhere(r,{key:t,value:n.value})||r.push(m({key:t},n));return r}(e,r,{value:l,type:f[r]?s.I:s.w,operator:a})}),[]):[]}},51437:(e,t,n)=>{n.d(t,{Z:()=>c}),n(13469),n(32903);var r=Object.defineProperty,i=Object.prototype.hasOwnProperty,a=Object.getOwnPropertySymbols,s=Object.prototype.propertyIsEnumerable,o=(e,t,n)=>t in e?r(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,l=(e,t)=>{for(var n in t||(t={}))i.call(t,n)&&o(e,n,t[n]);if(a)for(var n of a(t))s.call(t,n)&&o(e,n,t[n]);return e};function c(e,t,n){if(null==n)return e.filter((e=>e.key!==t));const r=[...e];let i=r.length;for(;i-- >0;){const e=r[i],a=e.key,s=e.value;if(t===a&&n===s)r.splice(i,1);else if(t===a&&Array.isArray(s)){const t=s.indexOf(n);t>-1&&(s.splice(t,1),1===s.length?r.splice(i,1,l(l({},e),{value:s[0]})):s.length||r.splice(i,1))}}return r}},54076:(e,t,n)=>{n.d(t,{Z:()=>r});const r=function(e,t){if(e===t)return 0;const n=e.split("."),r=t.split("."),i=Math.max(n.length,r.length);for(let e=0;e<i;e++){if(!r[e])return 1;if(!n[e])return-1;const t=parseInt(n[e],10),i=parseInt(r[e],10);if(t>i)return 1;if(t<i)return-1}return 0}},80105:(e,t,n)=>{n.d(t,{Z:()=>w});var r=n(67294),i=n(28216),a=n(35758),s=n(72147),o=n(19211),l=n(73788),c=n(39582),d=n(77713),u=n(83782),m=n(26263),p=n(12587),h=n(93644),y=n(44811),v=n(55319),E=n(34219),f=n(57097),g=n(75126),I=n(44541),P=n(39874),b=n(5447),D=n(38316),Z=n(96099);function w({overrideTitle:e,overrideDetail:t}){const[n,w,S]=(0,y.c9)(),C=(0,i.v9)((0,E.Z)("allSavedPivotParams")),O=(0,u.Z)(),T=(0,v.Z)(),M=(0,c.Z)(w,S),N=S?(0,o.Z)({sourceType:M?M.key:null,sourceServer:n,sourceProvider:w,sourceDirectory:S}):void 0,A=e||function(e,t,n){return t.isEmbedded?(0,l.Z)("Downloads"):e?e.title:t.isCloud?n.title:(0,d.Z)(t)}(S,n,w),x=t||(0,b.Z)(N,n),R=!!(0,h.Z)(w,p.zW.Manage);let k;return!S&&n.isCloud||(k=n.isEmbedded?(0,D.Z)(null==C?void 0:C.downloads):(0,m.Z)(n,w,S,S?void 0:{key:s.D,pageType:a.km})),r.createElement("div",{className:"CurrentSourceBreadcrumb-container-pHbzRn"},k?r.createElement(f.Z,{detail:x,route:k,title:A}):null,S||R?r.createElement(r.Fragment,null,r.createElement(g.Z,{iconComponent:Z.Z,id:O,isMenuOpen:T.isOpen,label:(0,l.Z)("Actions"),onPress:T.onToggle}),S?r.createElement(I.Z,{isOverflowMenuOpen:T.isOpen,providerEntityID:w.entityID,serverEntityID:n.entityID,source:N,target:O,onOverflowMenuClose:T.onClose}):r.createElement(P.Z,{isOverflowMenuOpen:T.isOpen,machineIdentifier:n.machineIdentifier,overflowMenuButtonID:O,serverEntityID:n.entityID,onOverflowMenuClose:T.onClose})):null)}},43528:(e,t,n)=>{n.r(t),n.d(t,{default:()=>oh});var r=n(67294),i=n(62291),a=n(12587),s=n(72310),o=n(91085),l=n(28216),c=n(54562),d=n(23681),u=n(70777),m=n(30166),p=n(94450),h=n(35076),y=n(82650),v=n(87442),E=n(20683),f=n(93090),g=n(35387),I=n(78389),P=n(93644),b=n(44811),D=n(38002),Z=n(42218),w=n(48579),S=n(12316),C=n(45186),O=n(73788),T=n(93055),M=n(3395),N=n(51662),A=n(4681),x=n(62376),R=n(72188),k=n(74861),j=n(42149),G=n(50439),L=n(63797),H=n(62286),F=n(83700),B=n(32395),V=n(37485),W=n(73278),_=n(22222),K=n(18585);const z=(0,_.P1)(K.Z,(e=>e.directory.hubsList));var U=n(90106),$=n(96436),q=n(39680);function Q(e){return!!e&&e<=Date.now()-864e5}function X({children:e,hub:t}){const[,,n]=(0,b.c9)(),{metricsContextTuple:i}=(0,o.Zn)(),s=n&&t.key?(0,T.Z)(t.source,{key:t.key,pageType:a.F6.List,source:n.id,context:(0,o.VJ)(i)}):void 0;return r.createElement(N.Z,{hub:t},s?r.createElement(x.Z,{to:s},e):e)}function Y({sourceURI:e}){const t=(0,l.I0)(),[n,i]=(0,b.c9)(),{lastFetchedAt:a,sourceURI:s,hubs:o,isPopulated:c,error:d}=(0,l.v9)(z),u=(0,l.v9)($.Z),m=(0,r.useMemo)((()=>o.every((e=>!e.initialSize&&!e.more))),[o]),p=(0,r.useCallback)((()=>{t(V.Z.actions.fetchHubsRequested({server:n,provider:i,sourceURI:e}))}),[t,i,n,e]);if((0,k.Z)({},c),(0,W.Z)(p),(0,r.useEffect)((()=>{c&&(Q(a)||e!==s)&&t(V.Z.actions.resetHubs())}),[t,a,s,e,c]),(0,r.useEffect)((()=>{e!==s&&t(V.Z.actions.fetchHubsRequested({server:n,provider:i,sourceURI:e}))}),[t,s,n,e]),(0,r.useEffect)((()=>(t(V.Z.actions.markHubsStaleCanceled()),()=>{t(V.Z.actions.markHubsStaleRequested())})),[t]),Q(a)||e!==s||!c&&!d)return r.createElement(G.Z,null,r.createElement(H.Z,null));if(d){const{status:e}=d;return 404===e?r.createElement(w.Z,null):r.createElement(L.Z,null,r.createElement(A.Z,{kind:F.Z.Primary,onPress:p},(0,O.Z)("Retry")))}return c&&m?r.createElement(B.Z,null):r.createElement(r.Fragment,null,u?r.createElement(U.Z,null):null,r.createElement(j.Z,{className:"DirectoryHubsPageContent-pageContentScroller-jceJrG PageContent-pageContentScroller-dvaH3C Scroller-scroller-S6_dko"},r.createElement(q.Z,{className:"DirectoryHubsPageContent-banner-FcMafX ProgramGuideGracenoteMigrationBanner-container-NePMOu",providerEntityID:i.entityID,serverEntityID:n.entityID}),r.createElement(R.Z,{hubComponent:M.Z,hubTitleComponent:X,hubs:o})))}var J=n(80476),ee=n(93545),te=n(15867),ne=n(45697),re=n.n(ne),ie=n(90558);function ae(e){const t=e["aria-label"],n=e.className,i=e.style,a={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 361.506",id:"plex-icon-devices"};a["aria-hidden"]=!t,a.style=i,a.className=ie.Z.plexIcon+(n?" "+n:"");const s=[r.createElement.apply(r,["g",{stroke:"#e5a00d",strokeWidth:"2.95"}].concat([r.createElement.apply(r,["path",{d:"M429.683 360.028h-128.55c-3.944 0-7.606-1.77-10.045-4.86a12.609 12.609 0 01-2.384-10.87l12.32-50.859h128.774l12.322 50.86c.929 3.818.059 7.783-2.384 10.87a12.729 12.729 0 01-10.053 4.859zm-121.35-57.343l-10.607 43.78c-.345 1.436.263 2.484.655 2.988a3.448 3.448 0 002.753 1.328h128.55c1.483 0 2.366-.83 2.758-1.337.392-.495 1-1.543.655-2.98l-10.607-43.779z"}].concat([])),r.createElement.apply(r,["path",{d:"M304.68 302.685h-38.937c-2.566 0-4.642-2.068-4.642-4.623s2.076-4.623 4.642-4.623h38.937c2.564 0 4.641 2.068 4.641 4.623s-2.077 4.623-4.64 4.623zM541.294 302.685H426.146c-2.567 0-4.644-2.065-4.644-4.62s2.077-4.625 4.644-4.625h115.148c4.384 0 7.949-3.548 7.949-7.918v-26.599H265.929c-2.566 0-4.642-2.067-4.642-4.622 0-2.556 2.076-4.623 4.642-4.623h292.596v35.844c0 9.462-7.728 17.163-17.231 17.163z"}].concat([])),r.createElement.apply(r,["path",{d:"M553.884 258.922a4.628 4.628 0 01-4.641-4.622V18.63c0-4.361-3.565-7.91-7.949-7.91H189.53c-4.384 0-7.947 3.549-7.947 7.91v58.967c0 2.555-2.076 4.623-4.642 4.623-2.566 0-4.642-2.068-4.642-4.623V18.63c0-9.462 7.729-17.155 17.23-17.155h351.765c9.503 0 17.23 7.693 17.23 17.155V254.3a4.628 4.628 0 01-4.64 4.622zM100.935 360.028H18.04c-9.135 0-16.565-7.403-16.565-16.496v-154.33c0-9.092 7.43-16.495 16.565-16.495h82.895c9.135 0 16.565 7.403 16.565 16.495v154.33c0 9.093-7.43 16.496-16.565 16.496zM18.04 181.952c-4.017 0-7.28 3.25-7.28 7.25v154.33c0 4 3.263 7.249 7.28 7.249h82.895c4.017 0 7.281-3.249 7.281-7.25V189.203c0-4-3.264-7.25-7.28-7.25z"}].concat([])),r.createElement.apply(r,["path",{d:"M112.088 206.735H7.777c-2.566 0-4.642-2.068-4.642-4.623s2.076-4.623 4.642-4.623h104.311c2.566 0 4.642 2.068 4.642 4.623s-2.076 4.623-4.642 4.623zM112.088 323.353H7.777c-2.566 0-4.642-2.068-4.642-4.623s2.076-4.624 4.642-4.624h104.311c2.566 0 4.642 2.069 4.642 4.624 0 2.555-2.076 4.623-4.642 4.623zM67.384 194.348H55.462c-2.566 0-4.642-2.067-4.642-4.623 0-2.555 2.076-4.622 4.642-4.622h11.922c2.566 0 4.642 2.067 4.642 4.622 0 2.556-2.076 4.623-4.642 4.623zM59.488 349.359c-6.56 0-11.9-5.32-11.9-11.855 0-6.53 5.34-11.846 11.9-11.846 6.56 0 11.9 5.316 11.9 11.846 0 6.535-5.34 11.855-11.9 11.855zm0-14.458a2.611 2.611 0 00-2.616 2.603 2.618 2.618 0 002.616 2.608 2.618 2.618 0 002.616-2.608 2.611 2.611 0 00-2.616-2.603z"}].concat([])),r.createElement.apply(r,["path",{d:"M226.172 360.03h-91.097c-2.566 0-4.642-2.068-4.642-4.623s2.076-4.623 4.642-4.623h91.097c6.85 0 12.42-5.553 12.42-12.369V117.552c0-6.817-5.57-12.37-12.42-12.37H107.536c-6.846 0-12.417 5.553-12.417 12.37v40.277c0 2.555-2.076 4.623-4.642 4.623-2.566 0-4.642-2.068-4.642-4.623v-40.277c0-11.918 9.733-21.615 21.7-21.615h118.637c11.967 0 21.705 9.697 21.705 21.615v220.863c0 11.917-9.738 21.616-21.705 21.616z"}].concat([])),r.createElement.apply(r,["path",{d:"M242.129 136.557H92.848c-2.566 0-4.642-2.068-4.642-4.623s2.076-4.623 4.642-4.623h149.28c2.567 0 4.643 2.068 4.643 4.623s-2.076 4.623-4.642 4.623zM242.129 315.593h-106.46c-2.566 0-4.642-2.068-4.642-4.623s2.076-4.623 4.642-4.623h106.46c2.566 0 4.642 2.068 4.642 4.623s-2.076 4.623-4.642 4.623zM178.151 122.94h-17.059c-2.566 0-4.642-2.067-4.642-4.622 0-2.555 2.076-4.623 4.642-4.623h17.06c2.565 0 4.641 2.068 4.641 4.623s-2.076 4.623-4.642 4.623zM166.854 348.158c-8.287 0-15.028-6.715-15.028-14.968 0-8.252 6.741-14.97 15.028-14.97s15.028 6.718 15.028 14.97c0 8.253-6.741 14.968-15.028 14.968zm0-20.695c-3.169 0-5.744 2.567-5.744 5.727s2.575 5.724 5.744 5.724c3.169 0 5.744-2.564 5.744-5.724s-2.575-5.727-5.744-5.727zM380.652 30.415h-30.481a4.628 4.628 0 01-4.641-4.623 4.628 4.628 0 014.64-4.623h30.482a4.628 4.628 0 014.641 4.623 4.628 4.628 0 01-4.64 4.623z"}].concat([]))]))];return t&&s.unshift(r.createElement("title",null,t)),r.createElement.apply(r,["svg",a].concat(s))}ae.propTypes={"aria-label":re().string,className:re().string,style:re().object};const se=ae;var oe=n(62315);function le(e){const t=e["aria-label"],n=e.className,i=e.style,a={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-parental-controls"};a["aria-hidden"]=!t,a.style=i,a.className=ie.Z.plexIcon+(n?" "+n:"");const s=[r.createElement.apply(r,["g",void 0].concat([r.createElement.apply(r,["path",{d:"M548.3 559.273H361.152c-6.456 0-11.696-5.22-11.696-11.657V407.73c0-6.435 5.24-11.657 11.696-11.657H548.3c6.457 0 11.7 5.222 11.7 11.657v139.885c0 6.437-5.243 11.657-11.7 11.657zm-175.451-23.315h163.756v-116.57H372.849z"}].concat([])),r.createElement.apply(r,["path",{d:"M454.726 512.644c-6.457 0-11.697-5.22-11.697-11.657v-34.97c0-6.435 5.24-11.657 11.697-11.657 6.457 0 11.697 5.222 11.697 11.657v34.97c0 6.438-5.24 11.657-11.697 11.657z"}].concat([])),r.createElement.apply(r,["path",{d:"M454.727 489.33c12.92 0 23.392-10.44 23.392-23.314 0-12.876-10.472-23.314-23.392-23.314s-23.394 10.438-23.394 23.314c0 12.875 10.474 23.314 23.394 23.314zM524.905 419.388c-6.457 0-11.695-5.223-11.695-11.658v-23.314c0-32.127-26.222-58.286-58.484-58.286-32.26 0-58.484 26.159-58.484 58.286v23.314c0 6.435-5.24 11.658-11.697 11.658-6.457 0-11.697-5.223-11.697-11.658v-23.314c0-44.997 36.728-81.6 81.878-81.6 45.152 0 81.879 36.603 81.879 81.6v23.314c0 6.435-5.244 11.658-11.7 11.658zM11.7 559.772c-.936 0-1.872-.114-2.831-.347-6.293-1.565-10.083-7.884-8.516-14.131l14.06-56.002c6.854-27.23 26.856-48.773 53.548-57.632l103.821-34.482c24.4-10.165 35.816-50.429 38.272-65.7-17.919-16.367-34.599-40.987-34.599-63.135 0-8.253-2.456-11.657-3.743-12.287-3.65-.91-5.708-3.217-7.112-6.691-1.286-3.194-12.539-31.778-12.539-50.965 0-.956.117-1.912.352-2.821 1.286-5.106 4.865-12.59 11.345-16.973v-61.807C163.758 68.12 208.253.228 280.727.228c71.584 0 91.048 36.58 93.317 54.672 12.141 8.93 23.65 24.34 23.65 61.9v61.806c6.48 4.383 10.084 11.844 11.347 16.973.234.932.35 1.865.35 2.82 0 19.188-11.228 47.772-12.538 50.966-1.404 3.474-4.375 6.085-8.024 6.97-.351.35-2.83 3.755-2.83 12.008 0 21.1-8.353 32.034-13.358 38.562l-1.755 2.401c-3.603 5.362-10.878 6.761-16.212 3.218-5.38-3.59-6.83-10.818-3.252-16.18.749-1.096 1.638-2.285 2.62-3.591 4.024-5.246 8.562-11.19 8.562-24.41 0-17.416 7.23-27.091 14.083-31.638 3.369-9.139 8.726-25.715 9.264-36.533-.421-.933-.959-1.866-1.333-2.192-6.457 0-10.317-4.78-10.317-11.214v-69.967c0-34.318-11.065-41.313-15.79-44.297-2.831-1.795-7.603-4.803-8.282-11.214-.163-1.376.048-2.961.491-4.546-1.637-9.233-15.673-33.2-69.993-33.2-57.104 0-93.575 55.232-93.575 93.257v69.944c0 6.434-5.24 11.657-11.697 11.657.562 0 .35.792.048 1.678.515 10.842 5.918 27.488 9.264 36.604 6.854 4.57 14.083 14.222 14.083 31.638 0 15.69 15.51 36.673 30.833 49.31a11.633 11.633 0 014.257 8.975c0 14.805-13.498 75.539-53.992 92.349L75.33 453.739c-19.065 6.318-33.383 21.729-38.249 41.172l-14.06 56.002c-1.286 5.339-6.058 8.86-11.322 8.86z"}].concat([]))]))];return t&&s.unshift(r.createElement("title",null,t)),r.createElement.apply(r,["svg",a].concat(s))}le.propTypes={"aria-label":re().string,className:re().string,style:re().object};const ce=le,de="PlexAccountUpsellPageContent-panel-odlXDa",ue="PlexAccountUpsellPageContent-panelIcon-BWl9px",me="PlexAccountUpsellPageContent-panelTitle-b4qHxx",pe="PlexAccountUpsellPageContent-panelDescription-m5JOVh";function he(){return r.createElement(G.Z,{description:(0,O.Z)("Some benefits to a Plex account:"),title:(0,O.Z)("Sign up for a free account to continue")},r.createElement("div",{className:"PlexAccountUpsellPageContent-container-P2gjsS"},r.createElement("div",{className:de},r.createElement(se,{className:ue}),r.createElement("div",{className:me},(0,O.Z)("One App, Any Device")),r.createElement("div",{className:pe},(0,O.Z)("Pick up whatever you were watching exactly where you left off on any device"))),r.createElement("div",{className:de},r.createElement(oe.Z,{className:ue}),r.createElement("div",{className:me},(0,O.Z)("Save Your Favorites")),r.createElement("div",{className:pe},(0,O.Z)("Save your favorite Podcasts and Web Shows. Add a TIDAL subscription to save your favorite music and playlists"))),r.createElement("div",{className:de},r.createElement(ce,{className:ue}),r.createElement("div",{className:me},(0,O.Z)("Parental Controls")),r.createElement("div",{className:pe},(0,O.Z)("Enable parental controls to keep things kid-friendly, or create separate accounts for your childish roommates")))),r.createElement(te.Z,null,r.createElement(A.Z,{kind:F.Z.Primary,size:ee.Z.Large,to:"#!/signUp"},(0,O.Z)("Sign Up"))))}var ye=n(84503),ve=n(71302),Ee=n(80105),fe=n(34219),ge=n(67190),Ie=n(97017),Pe=n(29053),be=n(29028),De=n(79576);const Ze=(0,_.P1)(De.Z,(e=>e.title));var we=n(78891),Se=n(70513),Ce=n(1522);var Oe=Object.defineProperty,Te=Object.prototype.hasOwnProperty,Me=Object.getOwnPropertySymbols,Ne=Object.prototype.propertyIsEnumerable,Ae=(e,t,n)=>t in e?Oe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,xe=(e,t)=>{for(var n in t||(t={}))Te.call(t,n)&&Ae(e,n,t[n]);if(Me)for(var n of Me(t))Ne.call(t,n)&&Ae(e,n,t[n]);return e};function Re({sourceURI:e,selectedPivot:t}){var n,i;const s=(0,l.I0)(),[,,o]=(0,b.c9)(),c=(0,l.v9)(be.Z),d=null!=(n=null==c?void 0:c.Pivot)?n:null==o?void 0:o.pivots,u=(0,l.v9)(Ze),m=(0,l.v9)((0,fe.Z)("directoryListStyles")),p=(0,r.useMemo)((()=>(0,Ie.Z)(e)),[e]),h=(0,l.v9)(p),y=(0,r.useMemo)((()=>(0,Pe.Z)(e)),[e]),E=(0,l.v9)(y),f=(0,r.useCallback)((t=>{if(!e)return;const n=xe(xe({},m),{[e]:t});(0,v.c9)((()=>{s((0,ye.LN)({directoryListStyles:n}))}))}),[s,m,e]);return r.createElement(Ce.Z,{className:"DirectoryPageHeader-pageHeader-FgozlU PrimaryPageHeader-pageHeader-SBemrw PageHeader-pageHeader-e2k66t"},r.createElement(we.Z,null,r.createElement(Ee.Z,{overrideTitle:u})),d&&t?r.createElement(ge.Z,{pivots:d,selectedPivot:t}):null,r.createElement(Se.Z,null,r.createElement(ve.Z,{listStyles:E,selectedListStyle:(null==t?void 0:t.key)===(null==(i=a.GG)?void 0:i.SharedItems)?void 0:h,onListStyleSelect:f})))}var ke=n(72324),je=n(87999),Ge=n(99912),Le=n(61661),He=n(37920),Fe=n(71667),Be=n(35567),Ve=n(73701),We=n(36475),_e=n(53461),Ke=n(87880),ze=n(69022);function Ue(e,t){if(e&&e.pivots)return e.pivots.find((e=>e.key===t))}var $e=n(41863),qe=n(23954);const Qe=(0,_.P1)((0,$e.Z)("features"),(e=>(0,qe.Z)(e,(e=>e.id),(()=>!0))));var Xe=n(13508),Ye=n(45191),Je=n(10033),et=n(75404),tt=n(17197),nt=n(24348),rt=n(75969);const it=(0,l.$j)(null,(function(e,t){const{serverEntityID:n,providerEntityID:r,providerMetricsIdentifier:i,sourceDirectory:a,tab:s,metricsPage:o}=t;return{onPress(t,l){l||e((0,Je.zt)({serverEntityID:n,providerEntityID:r,directoryID:a.id,pivotKey:s.pivotKey})),(0,Ye.DB)("metrics").trackEvent({event:tt.Ip,interaction:!0,properties:{page:o,identifier:i,action:et.oG,context:s.context,origin:nt.zQ}})}}}))(rt.Z);var at=n(78236),st=Object.defineProperty,ot=Object.prototype.hasOwnProperty,lt=Object.getOwnPropertySymbols,ct=Object.prototype.propertyIsEnumerable,dt=(e,t,n)=>t in e?st(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ut=(e,t)=>{for(var n in t||(t={}))ot.call(t,n)&&dt(e,n,t[n]);if(lt)for(var n of lt(t))ct.call(t,n)&&dt(e,n,t[n]);return e};const mt=(0,We.Z)((function(){return(0,_.P1)(Ve.Z,(0,_.P1)(((e,{sourceDirectory:t})=>t),((e,{directoryKey:t})=>t),(0,Ke.Z)(),(0,_e.Z)(),Qe,((e,t,n,r,i)=>{const a=Ue(e,t);return e.pivots.reduce(((t,s)=>{if(s.id===ze.Ig&&s.requires&&!i[s.requires])return t;const o=(0,Xe.Z)(n,r,e,s);return o?(t.push({pivotKey:s.key,title:s.title,route:o,isSelected:!(!a||s.key!==a.key),isDisabled:!s.key,context:s.context}),t):t}),[])})),((e,t)=>({providerMetricsIdentifier:e.metricsIdentifier,tabs:t})))}))((function(e){return r.createElement(at.Z,ut(ut({},e),{component:it}))}));var pt=n(91192),ht=n(3881),yt=n(69281),vt=n(42985);const Et=(0,l.$j)((function(){return(0,_.P1)((0,ht.Z)(),(e=>({isEPGRefreshing:!!e,epgActivityProgress:e?e.progress:0,epgActivityTitle:e?e.title:""})))}))((function(e){const{className:t,isEPGRefreshing:n,epgActivityProgress:i,epgActivityTitle:a}=e;return n?r.createElement("span",{className:t},a," (",i,"%)",r.createElement(vt.Z,{className:"ProgramGuideActivityStatus-refreshingSpinner-S0GTX1",size:yt.HC})):null}));function ft(){const[e,t,n]=(0,b.c9)();return r.createElement(Ce.Z,null,r.createElement(pt.Z,{providerEntityID:t.entityID,serverEntityID:e.entityID,sourceDirectory:n}),r.createElement(mt,{directoryKey:Fe.tk.GUIDE,providerEntityID:t.entityID,serverEntityID:e.entityID,sourceDirectory:n}),r.createElement(Be.Z,null,r.createElement(Et,{providerEntityID:t.entityID,serverEntityID:e.entityID})))}var gt=n(74236),It=n(5509),Pt=n(97257),bt=n(62704),Dt=n(35846),Zt=n(50713);const wt=(0,_.P1)(Zt.Z,(e=>e.channelsGrid));var St=n(61740),Ct=n(4027),Ot=n(24107);const Tt="ChannelsGridPageContent-measureContainer-sFd62r",Mt="ChannelsGridPageContent-gridContent-lBi5mH ChannelsGrid-gridContainer-x03Jz0";var Nt=n(8089),At=n(53635),xt=n(13469),Rt=n.n(xt),kt=n(32903),jt=n(56792);function Gt(e){const{getCellHeights:t,overscan:n=0,outerPaddingTop:r=0,outerPaddingRight:i=0,outerPaddingBottom:a=0,outerPaddingLeft:s=0}=e;let o,l,c,d,u,m,p,h,y;function v(e){const t=Rt().findIndex(u,(t=>t>e)),n=u.length-1;return-1===t?n:Math.min(Math.max(0,t-1),n)}return{getListStyle:function(e){const n=`${e.viewportHeight}:${e.viewportWidth}`;if(n===m)return p;o=e.viewportHeight,l=e.viewportWidth-(s+i),c=t(l),u=[];let h=r;return c.forEach((e=>{u.push(h),h+=e})),d=c.reduce(((e,t)=>e+t),r+a),m=n,p={height:d,width:l},p},getLandmarks:function(){(0,kt.Z)(void 0!==o,"`getListStyle` must be called before `getLandmarks`");const e=`${o}:${d}`;return e===h||(h=e,y=u.map(((e,t)=>({index:t,position:e/d})))),y},getPositionForIndex:function(e){return(0,kt.Z)(void 0!==o,"`getListStyle` must be called before `getPositionForIndex`"),{cellX:s,cellY:u[e],cellWidth:l,cellHeight:c[e]}},getRelativeIndex:function(){(0,kt.Z)(!1,"Stacked layouts do not support relative indexing")},getRangesForPosition:function(e,t,r){(0,kt.Z)(void 0!==o,"`getListStyle` must be called before `getPositionForIndex`");const i=e+o-1,a=v(e-n*o),s=v(e),l=v(i),c=v(i+n*o);return{visibleStartIndex:(0,jt.Z)(s,r),visibleEndIndex:(0,jt.Z)(l,r),partiallyVisibleStartIndex:(0,jt.Z)(s,r),partiallyVisibleEndIndex:(0,jt.Z)(l,r),renderStartIndex:(0,jt.Z)(a,r),renderEndIndex:(0,jt.Z)(c,r)}}}}var Lt=n(65714),Ht=n(53072),Ft=n(52183),Bt=n(99318),Vt=n(37350);function Wt({server:e,provider:t,channel:n,beginsAt:r,endsAt:i}){const a=function(e,t,n){return`synthetic.${e}.${t}.${n}`}(n.id||"",r,i),{metadataItem:s}=(0,Vt.Z)({server:e,provider:t,data:{key:`/${a}`,ratingKey:a,guid:a,title:(0,O.Z)("Unknown Airing"),type:Bt.pG.Episode,Media:[{id:a,beginsAt:r,endsAt:i}]},container:{}});return{beginsAt:r,endsAt:i,mediaIndex:0,metadataItem:s,isSynthetic:!0}}const _t=function(e){const t=(null==e?void 0:e.source)?(0,Nt.Z)(e.source):{serverIdentifier:"",providerIdentifier:""};return(0,_.P1)((0,Ht.Z)(t.serverIdentifier),(0,Lt.Z)(t.providerIdentifier),wt,(0,Ft.Z)(null==e?void 0:e.gridKey),((t,n,{columnTimes:r},i)=>{if(!e||!i)return[];const a=r[0],s=r[r.length-1];return function({server:e,provider:t,channelAirings:n,channel:r,startTime:i,endTime:a}){let s=i;const o=[];for(let i=0;i<n.length;i++){const a=n[i];if(a.beginsAt>s){const n=Wt({server:e,provider:t,channel:r,beginsAt:s,endsAt:a.beginsAt});o.push(n)}o.push(a),s=a.endsAt}if(s<a){const n=Wt({server:e,provider:t,channel:r,beginsAt:s,endsAt:a});o.push(n)}return o}({server:t,provider:n,channelAirings:i.filter((e=>e.beginsAt<s&&e.endsAt>a)),channel:e,startTime:a,endTime:s})}))},Kt="ChannelsGrid-gridContainer-x03Jz0",zt="ChannelsGrid-gridRowCell-icZ3E5 ChannelsGrid-gridContainer-x03Jz0",Ut="ChannelsGrid-gridRow-MkSC3A ChannelsGridRow-container-OldJ2J",$t="ChannelsGrid-gridContent-eoWNkE",qt="ChannelsGrid-gridInnerContent-ZxetaQ VirtualListScroller-scroller-eDZkq_",Qt="ChannelsGrid-innerEmptyPage-Wag35L InnerEmptyPage-innerEmptyPage-x_xcpN EmptyPage-emptyPage-WAo6pH";var Xt=n(62248),Yt=n(47435),Jt=n(94852),en=n(33593);const tn="ChannelsGridRow-title-L4s6lf ChannelsGridRowTitle-container-ngwitG",nn="ChannelsGridRow-programsContainer-blk6UP",rn="ChannelsGridRow-program-CO3IaD ChannelsGridMetadataItemCell-container-LhcTly",an="ChannelsGridRow-progress-fL2hVB";var sn=n(71078),on=n(26900),ln=n(84520),cn=n(17633),dn=n(88638),un=n(40621),mn=n(99027),pn=n(39041),hn=n(57538),yn=n(94685),vn=n(86023),En=n(84419);const fn=function(e){const{beginsAt:t,endsAt:n,timeFormat:i,channelTitle:a,contentRating:s}=e,{airTime:o,duration:l}=function(e,t,n,r){const i=Math.floor(Date.now()/1e3);let a="",s="";if(i>=e&&i<=t)a=(0,O.Z)("Now on {channel}",{channel:r}),s=(0,hn.Z)(t-i);else{const i=(0,yn.Z)(e,t,{timeFormat:n,separator:" - "});a=(0,O.Z)("{timeRange} on {channel}",{timeRange:i,channel:r}),s=(0,pn.Z)(1e3*(t-e))}return{airTime:a,duration:s}}(t,n,i,a);return r.createElement("div",{className:"ChannelsGridDetailRowAirTime-container-Cohq7l"},o,r.createElement(En.Z,null),l,r.createElement("div",{className:"ChannelsGridDetailRowAirTime-contentRating-SUjucW"},(0,vn.Z)(s)))};var gn=n(85209),In=n(91023),Pn=n(57557),bn=n(91564),Dn=n(15928);const Zn="ChannelsGridDetailRowTitle-titleContainer-vpcaHH",wn="ChannelsGridDetailRowTitle-primaryTitle-FmBhrp",Sn="ChannelsGridDetailRowTitle-secondaryTitle-WeecdO",Cn=function(e){const{type:t,metadataItemEntityID:n,serverEntityID:i,providerEntityID:a}=e,s=function(e){let t;switch(e){case gn.MOVIE:t=[bn.Z,Dn.Z];break;case gn.SHOW:t=[bn.Z,Pn.Z];break;case gn.EPISODE:t=[In.Z,Pn.Z];break;default:t=[bn.Z]}return t}(t);return r.createElement("div",{className:Zn},s.map(((e,t)=>{const s=0===t?wn:Sn;return r.createElement(e,{key:t,className:s,metadataItemEntityID:n,providerEntityID:a,serverEntityID:i})})))};var On=n(51146),Tn=n(86555),Mn=n(54834),Nn=n(9913),An=n(25432);const xn=function(e){const{title:t,showPlay:n,showRecord:i,onPlayPress:a,onRecordPress:s}=e;return r.createElement("div",{className:"ChannelsGridMetadataCellButtons-actions-HjG2lL"},n?r.createElement(Nn.Z,{className:"ChannelsGridMetadataCellButtons-playButton-zfwogk PlayButton-playButton-vS1WII ChannelsGridMetadataCellButtons-button-BPZKrW","data-testid":"guide-row-item-play",tabIndex:"-1",title:t,onPress:a}):null,i?r.createElement(An.Z,{className:"ChannelsGridMetadataCellButtons-recordButton-xNpl1S RecordButton-recordButton-Rn40ir PlayButton-playButton-vS1WII RecordIcon-recordIconContainer-iZKuO3 ChannelsGridMetadataCellButtons-button-BPZKrW","data-testid":"guide-row-item-record",tabIndex:"-1",title:t,onPress:s}):null)};var Rn=n(18222),kn=n(11113),jn=n(25555);function Gn(e){const t=e["aria-label"],n=e.className,i=e.style,a={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-play-560"};a["aria-hidden"]=!t,a.style=i,a.className=ie.Z.plexIcon+(n?" "+n:"");const s=[r.createElement.apply(r,["path",{d:"M80,0L560,280L80,560L80,0Z"}].concat([]))];return t&&s.unshift(r.createElement("title",null,t)),r.createElement.apply(r,["svg",a].concat(s))}Gn.propTypes={"aria-label":re().string,className:re().string,style:re().object};const Ln=Gn,Hn="ChannelsGridMetadataDetailButtons-icon-jpViKR",Fn=function(e){const{subscriptionType:t,isSubscribed:n,isOnAir:i,showRecord:a,onPlayPress:s,onRecordPress:o}=e,l=i?(0,O.Z)("Watch Now"):(0,O.Z)("Watch Channel"),c=n?(0,O.Z)("Recording Scheduled"):(0,O.Z)("Record");return r.createElement("span",null,r.createElement(Rn.Z,{className:"ChannelsGridMetadataDetailButtons-playButton-B9VONK",kind:jn.Py,size:yt.HC,onPress:s},r.createElement(Ln,{className:Hn}),l),a?r.createElement(Rn.Z,{className:"ChannelsGridMetadataDetailButtons-recordButton-DTivwa ChannelsGridMetadataDetailButtons-playButton-B9VONK",kind:jn.Py,size:yt.HC,onPress:o},r.createElement(kn.Z,{className:Hn,type:t}),c):null)};class Bn extends r.Component{constructor(){super(...arguments),this.onRecordPress=e=>{const{serverEntityID:t,providerEntityID:n,metadataItemEntityID:r,type:i,onRecordPress:a}=this.props;a({serverEntityID:t,providerEntityID:n,metadataItemEntityID:r,subscriptionType:i})}}render(){const{className:e,title:t,subscriptionType:n,isCompact:i,isOnAir:a,isSubscribed:s,showPlay:o,showRecord:l,onPlayPress:c}=this.props,d=i?xn:Fn;return r.createElement("span",{className:e},r.createElement(d,{isOnAir:a,isSubscribed:s,showPlay:o,showRecord:l,subscriptionType:n,title:t,onPlayPress:c,onRecordPress:this.onRecordPress}))}}const Vn=Bn;var Wn=Object.defineProperty,_n=Object.prototype.hasOwnProperty,Kn=Object.getOwnPropertySymbols,zn=Object.prototype.propertyIsEnumerable,Un=(e,t,n)=>t in e?Wn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,$n=(e,t)=>{for(var n in t||(t={}))_n.call(t,n)&&Un(e,n,t[n]);if(Kn)for(var n of Kn(t))zn.call(t,n)&&Un(e,n,t[n]);return e};const qn={dispatchStartLiveTVPlayback:On.lS},Qn=(0,We.Z)((function(){return(0,_.P1)((0,Tn.Z)(),(0,_.P1)(((e,{beginsAt:t})=>t),((e,{endsAt:t})=>t),((e,t)=>{const n=Math.floor(Date.now()/1e3);return n>=e&&n<=t})),((e={},t)=>{const{type:n,title:r,grandparentTitle:i,subscriptionID:a,grandparentSubscriptionID:s,subscriptionType:o,grandparentSubscriptionType:l}=e;return{type:n,title:i||r,subscriptionType:l||o||n,isSubscribed:!(!s&&!a),isOnAir:t}}))}),qn)((function(e){const t=e,{dispatchStartLiveTVPlayback:n}=t,i=((e,t)=>{var n={};for(var r in e)_n.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&Kn)for(var r of Kn(e))t.indexOf(r)<0&&zn.call(e,r)&&(n[r]=e[r]);return n})(t,["dispatchStartLiveTVPlayback"]),{serverEntityID:a,providerEntityID:s,channelIdentifier:o,metricsPage:l,metricsContext:c}=e,d=(0,r.useCallback)((()=>{n($n($n({},{serverEntityID:a,providerEntityID:s,metricsPage:l,metricsContext:c}),{options:{type:Mn.pX,identifier:o}}))}),[a,s,l,c,n,o]);return r.createElement(Vn,$n($n({},i),{onPlayPress:d}))})),Xn="ChannelsGridDetailRow-container-CB8cJD",Yn="ChannelsGridDetailRow-preplayContainer-sPWclw",Jn="ChannelsGridDetailRow-poster-o75w2U PosterCard-card-B3tGLl",er="ChannelsGridDetailRow-navigationContainer-xyFw5M";function tr(e){const{className:t,metadataItemEntityID:n,serverEntityID:i,providerEntityID:a,mediaIndex:s,type:o,summary:l,thumb:c,contentRating:d,beginsAt:u,endsAt:m,timeFormat:p,channelIdentifier:h,channelTitle:y,channelShortTitle:v,showRecord:E,onRecordPress:f,onNextPress:g,onPrevPress:I}=e;return r.createElement("div",{className:t},r.createElement(dn.Z,{className:Jn,component:un.Z,height:(0,mn.Cr)(80,o,null,cn.lD),providerEntityID:a,serverEntityID:i,type:o,url:c,width:80}),r.createElement("div",{className:Yn},r.createElement(Cn,{metadataItemEntityID:n,providerEntityID:a,serverEntityID:i,type:o}),r.createElement(fn,{beginsAt:u,channelTitle:v||y,contentRating:d,endsAt:m,timeFormat:p}),r.createElement(Qn,{beginsAt:u,channelIdentifier:h,endsAt:m,mediaIndex:s,metadataItemEntityID:n,providerEntityID:a,serverEntityID:i,showPlay:!0,showRecord:E,onRecordPress:f}),r.createElement("p",null,l),r.createElement("div",{className:er},r.createElement(ln.Z,{iconComponent:sn.e,title:(0,O.Z)("Previous"),onPress:I}),r.createElement(ln.Z,{iconComponent:on.V,title:(0,O.Z)("Next"),onPress:g}))))}tr.defaultProps={className:Xn};const nr=tr;var rr=n(71124),ir=n(16690);const ar=function({className:e,tabIndex:t,allowLink:n=!0,metadataItem:i}){return r.createElement("span",{className:e},r.createElement(ir.Z,{allowLink:!!i.title,metadataItem:i,tabIndex:t}),i.title?r.createElement(En.Z,null):null,i.title?r.createElement(rr.Z,{allowLink:n,metadataItem:i,tabIndex:t}):null)};var sr=n(90113),or=n(99088);function lr({metadataItem:e}){const t=(0,r.useMemo)((()=>{let t;switch(e.type){case Bt.pG.Movie:t=[rr.Z,or.Z];break;case Bt.pG.Show:t=[rr.Z,ar];break;case Bt.pG.Episode:t=[sr.Z,ar];break;default:t=[rr.Z]}return t}),[e]);return r.createElement("div",{className:Zn},t.map(((t,n)=>{const i=0===n?wn:Sn;return r.createElement(t,{key:n,className:i,metadataItem:e})})))}var cr=n(70894),dr=n(66012),ur=n(89536);function mr({className:e,airing:t,channel:n,isCompact:i=!1,showPlay:a,showRecord:s,onRecordPress:c}){const{metadataItem:d,beginsAt:u,endsAt:m}=t,p=(0,l.I0)(),h=(0,dr.Z)(d.sourceURI),{metricsPage:y,metricsContextTuple:v}=(0,o.Zn)(),E=(0,ur.Z)(d),[f,g]=(0,b.c9)(),I=d.grandparentTitle||d.title,P=Math.floor(Date.now()/1e3),D=P>=u&&P<=m,Z=!(!h.grandparentSubscriptionID&&!h.subscriptionID),w=h.grandparentSubscriptionType||h.subscriptionType||d.type,S=(0,r.useCallback)((()=>{E({action:et.NH}),p(On.lS({serverEntityID:f.entityID,providerEntityID:g.entityID,metricsPage:y,metricsContext:v,options:{type:Mn.pX,identifier:n.id}}))}),[p,f,g,n,y,v,E]),C=(0,r.useCallback)((()=>{const e=(0,Ye.DB)("appModel"),{metadataItemModel:t}=(0,cr.Z)(e,{server:f,provider:g,metadataItem:d,metadataItemState:h}),r={serverEntityID:f.entityID,providerEntityID:g.entityID,metadataItemEntityID:t.entityID(),channelGridKey:n.gridKey,subscriptionType:w};c(r)}),[f,g,d,h,n.gridKey,w,c]),O=i?xn:Fn;return r.createElement("span",{className:e},r.createElement(O,{isOnAir:D,isSubscribed:Z,showPlay:a,showRecord:s,subscriptionType:w,title:I,onPlayPress:S,onRecordPress:C}))}function pr({className:e=Xn,channel:t,airing:n,showRecord:i,onRecordPress:a,onNextPress:s,onPrevPress:o}){const[c,d]=(0,b.c9)(),u=(0,l.v9)((0,fe.Z)("timeFormat")),{metadataItem:m,beginsAt:p,endsAt:h}=null!=n?n:{};return m?r.createElement("div",{className:e},r.createElement(dn.Z,{className:Jn,component:un.Z,height:(0,mn.Cr)(80,m.type,null,cn.lD),providerEntityID:d.entityID,serverEntityID:c.entityID,type:m.type,url:m.grandparentThumb||m.thumb,width:80}),r.createElement("div",{className:Yn},r.createElement(lr,{metadataItem:m}),r.createElement(fn,{beginsAt:p,channelTitle:t.shortTitle||t.title,contentRating:m.contentRating,endsAt:h,timeFormat:u}),r.createElement(mr,{airing:n,channel:t,showPlay:!0,showRecord:i,onRecordPress:a}),r.createElement("p",null,m.summary),r.createElement("div",{className:er},r.createElement(ln.Z,{iconComponent:sn.e,title:(0,O.Z)("Previous"),onPress:o}),r.createElement(ln.Z,{iconComponent:on.V,title:(0,O.Z)("Next"),onPress:s})))):null}var hr=n(94184),yr=n.n(hr),vr=n(19013),Er=n(35877),fr=n(34513),gr=n(85448),Ir=n(93888),Pr=n(12419);const br=parseInt(Ot.Z.channelGridChannelColumnWidth,10),Dr=.3*br;class Zr extends r.Component{constructor(e,t){super(e,t),this.state={placeholderWidth:Dr+Math.random()*(br-Dr)}}render(){const{className:e,children:t}=this.props,{placeholderWidth:n}=this.state;return r.createElement("div",{className:e,style:{width:`${n}px`}},r.createElement("div",{className:"ChannelsGridPlaceholder-bar-qrBrDB"},t))}}Zr.defaultProps={className:"ChannelsGridPlaceholder-container-YbCmpz"};const wr=Zr;function Sr(e){const{className:t}=e;return r.createElement(fr.Z,{className:t},(0,O.Z)("New"))}Sr.defaultProps={className:"PremiereAiringBadge-badge-fAyt5M"};const Cr=Sr,Or="ChannelsGridMetadataItemCell-container-LhcTly",Tr="ChannelsGridMetadataItemCell-selected-AVke2k",Mr="ChannelsGridMetadataItemCell-hoverable-jP0CmJ",Nr="ChannelsGridMetadataItemCell-subTitleContainer-k19wdS",Ar="ChannelsGridMetadataItemCell-actions-TNzsOT",xr="ChannelsGridMetadataItemCell-onAir-E8QsKN",Rr="ChannelsGridMetadataItemCell-finishedAiring-TF8NXB",kr="ChannelsGridMetadataItemCell-underlay-nHwnLE",jr="ChannelsGridMetadataItemCell-content-LHfH1l",Gr="ChannelsGridMetadataItemCell-actionsContainer-ovIE1y",Lr="ChannelsGridMetadataItemCell-subTitle-DIk1RO",Hr="ChannelsGridMetadataItemCell-premiereBadge-xxFWjR PremiereAiringBadge-badge-fAyt5M",Fr="ChannelsGridMetadataItemCell-subscriptionBadge-oPLiFu",Br="ChannelsGridMetadataItemCell-placeholderContainer-HqQAfh";function Vr({airing:e,width:t,className:n=Or,channel:i,cellIndex:a,isSelected:s,showLoader:o,showRecord:c,onPress:d,onRecordPress:u}){var m;const{metadataItem:p,mediaIndex:h,beginsAt:y,endsAt:v,isSynthetic:E}=e,f=(0,l.I0)(),[g,I]=(0,b.c9)(),P=(0,dr.Z)(null==p?void 0:p.sourceURI),D=(0,l.v9)(Er.Z),Z=null!=h?null==(m=null==p?void 0:p.Media)?void 0:m[h]:void 0,w=null==Z?void 0:Z.premiere,S=null!=P.subscriptionType||null!=P.grandparentSubscriptionType,C=p&&null==p.index&&!!p.originallyAvailableAt;let O=!0;if(C&&(null==p?void 0:p.originallyAvailableAt)){const e=new Date,t=(0,vr.Z)(p.originallyAvailableAt);O=e.getDate()!==t.getDate()||e.getMonth()!==t.getMonth()||e.getFullYear()!==t.getFullYear()}const T=(null==p?void 0:p.grandparentTitle)||(null==p?void 0:p.title),M=(0,r.useMemo)((()=>p?p.type===Bt.pG.Movie?or.Z:p.type!==Bt.pG.Show&&p.type!==Bt.pG.Episode||!O?null:ir.Z:null),[p,O]),N=Math.floor(Date.now()/1e3),A=!!(N>=y&&N<=v),x=!!(v&&N>=v);(0,r.useEffect)((()=>{p&&D&&s&&f((0,Ir.redispatchLegacyMetadataAction)({server:g,provider:I,metadataItem:p,metadataItemState:P,legacyAction:(0,Pr.yU)()}))}),[f,D,s,p,P,I,g]);const R=(0,r.useCallback)((()=>{p&&null!=h&&d(p.key,h,a)}),[p,h,a,d]);if(o)return r.createElement("div",{className:n,style:{width:`${t}px`}},r.createElement("div",{className:Br},r.createElement(wr,null),r.createElement(wr,null)));const k=P.subscriptionType||P.grandparentSubscriptionType;return r.createElement("div",{className:yr()(n,A&&xr,s&&Tr,!E&&(A||c)&&Mr,x&&Rr),"data-qa-id":"guide-row-item",style:{width:`${t}px`}},r.createElement("div",{className:jr},r.createElement(gr.Z,{className:kr,isDisabled:E,onPress:E?void 0:R}),r.createElement("div",null,T),E?null:r.createElement("div",{className:Gr},r.createElement("div",{className:Nr},M?r.createElement(M,{className:Lr,metadataItem:p}):null,w?r.createElement(Cr,{className:Hr}):null,S?r.createElement(fr.Z,{className:Fr},r.createElement(kn.Z,{type:k})):null),r.createElement(mr,{airing:e,channel:i,className:Ar,isCompact:!0,showPlay:A,showRecord:c,onRecordPress:u}))))}const Wr=function(e){const{className:t,width:n,isActive:i}=e,a={width:`${n}px`};return r.createElement("div",{className:t},r.createElement("div",{className:yr()("ChannelsGridProgress-fill-Ud9WIQ",i&&"ChannelsGridProgress-active-TuOoFS"),style:a}))};function _r({className:e}){const{airedProgress:t,columnWidth:n,visibleColumns:i}=(0,l.v9)(wt),a=(0,r.useMemo)((()=>t/100*i*n),[t,n,i]);return r.createElement(Wr,{className:e,width:a})}var Kr=n(16879),zr=n(28247),Ur=n(94788);function $r(e){const t=e["aria-label"],n=e.className,i=e.style,a={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-recent-channel-560"};a["aria-hidden"]=!t,a.style=i,a.className=ie.Z.plexIcon+(n?" "+n:"");const s=[r.createElement.apply(r,["path",{d:"M317.1429 42C185.7926 42 79.2857 148.5712 79.2857 280H0l99.6533 99.713c3.3475 3.35 8.7746 3.35 12.1219 0L211.428 280h-79.2852c0-102.34 82.7223-185.1112 185-185.1112 102.2778 0 185.0006 82.7712 185.0006 185.1112 0 102.3391-82.7228 185.1117-185.0005 185.1117-51.0069 0-97.2566-20.8926-130.5566-54.4767l-37.5292 37.5517C192.1354 491.2908 251.3366 518 317.143 518 448.493 518 555 411.4292 555 280c0-131.4288-106.5069-238-237.8571-238zm-37.1435 132.2208v132.2225l112.32 66.1117 19.8223-33.0559-92.4994-52.89V174.2208h-39.6429z"}].concat([]))];return t&&s.unshift(r.createElement("title",null,t)),r.createElement.apply(r,["svg",a].concat(s))}$r.propTypes={"aria-label":re().string,className:re().string,style:re().object};const qr=$r,Qr=parseInt(Ot.Z.channelGridChannelIconWidth,10),Xr=parseInt(Ot.Z.channelGridRowHeight,10);function Yr({className:e="ChannelsGridRowTitle-container-Erzlnn",channel:t}){const n=(0,l.I0)(),{metricsPage:i,metricsContextTuple:a}=(0,o.Zn)(),[s,c]=(0,b.c9)(),[d,u]=(0,zr.Z)(),m=(0,r.useCallback)((()=>{n((0,On.lS)({serverEntityID:s.entityID,providerEntityID:c.entityID,metricsPage:i,metricsContextTuple:a,options:{type:Mn.pX,identifier:t.id}}))}),[n,t,s,c,i,a]),p=t.vcn||t.id;return r.createElement("div",{ref:u,className:e,"data-qa-id":"guide-channel-name"},s.isCloud?null:r.createElement("div",{className:"ChannelsGridRowTitle-numberContainer-vFHJvq"},d?r.createElement(Kr.Z,{className:"ChannelsGridRowTitle-playButton-seG4KN PlayButton-playButton-HS0MKv Link-link-vSsQW1","data-qa-id":"guide-channel-play",tabIndex:"-1",title:(0,O.Z)("Play Channel {channel}",{channel:p}),onPress:m}):r.createElement("span",null,p)),r.createElement("div",{className:yr()("ChannelsGridRowTitle-thumbnailContainer-lkJCZD",s.isCloud&&"ChannelsGridRowTitle-fullWidth-U6IE9R",t.isRecent&&"ChannelsGridRowTitle-isRecent-P_dykV")},t.thumb?r.createElement(Ur.Z,{key:t.thumb,className:"ChannelsGridRowTitle-thumbnail-ngWsDl",fit:Ur.k.Contain,height:Xr,src:t.thumb,width:Qr}):r.createElement("div",{className:"ChannelsGridRowTitle-channelCallSignText-dp44YC",title:t.callSign},t.callSign),t.isRecent?r.createElement(qr,{className:"ChannelsGridRowTitle-icon-FecdNp"}):null,s.isCloud&&d?r.createElement(Kr.Z,{className:"ChannelsGridRowTitle-fullWidthPlayButton-YD9Srz ChannelsGridRowTitle-playButton-seG4KN PlayButton-playButton-HS0MKv Link-link-vSsQW1","data-qa-id":"guide-channel-play",tabIndex:-1,title:(0,O.Z)("Play Channel {channel}",{channel:t.callSign}),onPress:m}):null))}var Jr=Object.prototype.hasOwnProperty,ei=Object.getOwnPropertySymbols,ti=Object.prototype.propertyIsEnumerable;function ni(e){var t=e,{channel:n,className:i,rowClassName:s,selectedMetadataItemKey:o,selectedMediaIndex:c,selectedMediaItemRow:d,onMetadataItemPress:u,onNextPress:m,onPrevPress:p,onDetailRowMeasure:h,onRecordPress:y}=t,v=((e,t)=>{var n={};for(var r in e)Jr.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&ei)for(var r of ei(e))t.indexOf(r)<0&&ti.call(e,r)&&(n[r]=e[r]);return n})(t,["channel","className","rowClassName","selectedMetadataItemKey","selectedMediaIndex","selectedMediaItemRow","onMetadataItemPress","onNextPress","onPrevPress","onDetailRowMeasure","onRecordPress"]);const{gridKey:E}=n,f=(0,Yt.Z)(v),g=(0,l.I0)(),[I,D]=(0,b.c9)(),{columnTimes:Z,columnWidth:w}=(0,l.v9)(wt),{cachedDates:S,isPending:C,isPopulated:O}=(0,l.v9)((0,Jt.Z)(E)),T=(0,l.v9)(_t(n)),M=(0,r.useMemo)((()=>T.find((e=>{var t;return(null==(t=e.metadataItem)?void 0:t.key)&&e.metadataItem.key===o&&e.mediaIndex===c}))),[T,o,c]),N=Z[1]-Z[0],A=Z[0],x=Z[Z.length-1],R=!!(0,P.Z)(D,a.zW.Subscribe);return(0,r.useEffect)((()=>{M||d!==v.cellIndex||u(null,0,-1)}),[v,M,d,u]),(0,r.useEffect)((()=>{!E||C||O||g(gt.ZP.actions.channelAiringsFetchRequested({server:I,provider:D,channelGridKey:E,date:(0,Xt.Z)(new Date(1e3*A))}))}),[g,I,D,E,A,C,O]),(0,r.useEffect)((()=>{const e=function(e,t,n){let r=null;const i=(0,Xt.Z)(new Date(1e3*e)),a=(0,Xt.Z)(new Date(1e3*t)),s=(0,en.Z)(i,"yyyy-MM-dd"),o=(0,en.Z)(a,"yyyy-MM-dd");return n.includes(s)?n.includes(o)||(r=a):r=i,r}(A,x,S);E&&e&&!C&&g(gt.ZP.actions.channelAiringsFetchRequested({server:I,provider:D,channelGridKey:E,date:e}))}),[g,I,D,E,A,x,C,S]),r.createElement("div",{className:i,"data-qa-id":"guide-row",style:f.style},r.createElement("div",{className:s},r.createElement(Yr,{channel:n,className:tn}),r.createElement("div",{className:nn},r.createElement(_r,{className:an}),T.map(((e,t)=>{const{metadataItem:i,mediaIndex:a,beginsAt:s,endsAt:l,isSynthetic:m}=e,p=Math.max(s,A),h=(Math.min(l,x)-p)/N*w,E=!(!i||v.cellIndex!==d||o!==i.key||c!==a);return r.createElement(Vr,{key:t,airing:e,cellIndex:v.cellIndex,channel:n,className:rn,isSelected:E,showLoader:m&&(C||!C&&!O),showRecord:R,width:h,onPress:u,onRecordPress:y})})))),M&&v.cellIndex===d?r.createElement(bt.Z,{key:o,onMeasure:h},r.createElement(pr,{airing:M,channel:n,showRecord:R,onNextPress:m,onPrevPress:p,onRecordPress:y})):null)}var ri=n(41007),ii=n(54320),ai=n(64381);const si=function(e,t="HH:mm:ss"){return e?(0,ai.Z)(e,t):""};var oi=n(83782),li=n(45731),ci=n(25814),di=n(55319),ui=n(20622),mi=n(77349),pi=n(42227),hi=n(42902),yi=n(3151),vi=n(54098),Ei=n(14580),fi=n(8067),gi=n(31889),Ii=n(84332);class Pi extends r.Component{constructor(){super(...arguments),this.onPress=()=>{const{option:e,onPress:t}=this.props;t(e)}}render(){const{className:e,option:t,isDisabled:n,isSelected:i}=this.props;return r.createElement(Ii.Z,{className:e,isDisabled:n,isSelected:i,onPress:this.onPress},t.title)}}const bi=Pi,Di=function(e){const{className:t,dateOptions:n,onSelectDate:i,onSelectNow:a}=e;return r.createElement(fi.Z,{autoScroll:!0,className:t},r.createElement(Ii.Z,{onPress:a},(0,O.Z)("Now")),r.createElement(gi.Z,null),n.map(((e,t)=>r.createElement(bi,{key:t,isSelected:e.isSelected,option:e,onPress:i},e.title))))};function Zi(e,t,n){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var r=(0,vr.Z)(e,n),i=(0,vr.Z)(t,n);return r.getTime()-i.getTime()}var wi=n(313),Si=n(83946);function Ci(e,t){return function(e,t){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var n=(0,vr.Z)(e,t);return n.setMinutes(0,0,0),n}(function(e,t,n){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var r=(0,vr.Z)(e,n),i=(0,Si.Z)(t);return r.setHours(i),r}(new Date(e),t))}const Oi=(0,l.$j)((function(){const e=[{startHour:0,title:(0,O.Z)("Midnight")},{startHour:2,title:(0,O.Z)("Overnight")},{startHour:6,title:(0,O.Z)("Morning")},{startHour:10,title:(0,O.Z)("Daytime")},{startHour:17,title:(0,O.Z)("Evening")},{startHour:23,title:(0,O.Z)("Late Night")}];return(0,_.P1)(((e,{startTime:t})=>t),((e,{selectedDateOption:t})=>t),((t,n={})=>{if(!n)return{timeOptions:[]};const r=(0,pi.Z)(t),i=(0,pi.Z)(n.value),a=new Date;return{timeOptions:e.map(((t,n)=>{const s=e[n+1],o=Ci(i,t.startHour),l=Ci(i,s?s.startHour:24),c=(0,wi.Z)(a,l),d=Zi(r,o)>=0&&Zi(r,l)<0,u=(0,wi.Z)(o,a)?(0,hi.Z)(a):(0,hi.Z)(o);return{title:Zi(a,o)>=0&&Zi(a,l)<0?(0,O.Z)("Now ({timeSlotTitle})",{timeSlotTitle:t.title}):t.title,value:u,isEnabled:c,isSelected:d}}))}}))}))((function(e){const{className:t,timeOptions:n,selectedDateOption:i,onDeselectDateOption:a,onSelectTime:s}=e;return r.createElement("div",{className:t},r.createElement("div",{className:"DatePickerTimeList-header-iPpAe9"},r.createElement(gr.Z,{onPress:a},r.createElement(sn.e,{align:"baseline","aria-label":(0,O.Z)("Back")})),r.createElement("span",{className:"DatePickerTimeList-headerText-PKhOP3"},i.title)),r.createElement(gi.Z,null),n.map(((e,t)=>r.createElement(bi,{key:t,isDisabled:!e.isEnabled,isSelected:e.isSelected,option:e,onPress:s},e.title))))})),Ti={scrollDirection:He.Hn,className:"DatePickerMenu-listContainer-RqqY4m"};class Mi extends r.Component{constructor(e,t){super(e,t),this.onSelectDate=e=>{this.setState({showTimeOptions:!0,activeDateOption:e})},this.onSelectNow=()=>{const e=Math.floor(Date.now()/1e3);this.onSelectTime({value:e})},this.onSelectTime=e=>{this.setState({showTimeOptions:!1}),this.props.dispatchSetStartTime(e.value),this.props.onMenuClose()},this.onHideOptions=e=>{this.setState({showTimeOptions:!1})},this.state={showTimeOptions:!1,activeDateOption:e.dateOptions.find((e=>e.isSelected))}}render(){const{startTime:e,target:t,isOpen:n,dateOptions:i,onMenuClose:a}=this.props,{showTimeOptions:s,activeDateOption:o}=this.state,l=yr()("DatePickerMenu-list-Fl3DfX",!!s&&"DatePickerMenu-showTimeOptions-jezpxz");return r.createElement(vi.Z,{isOpen:n,scrollerProps:Ti,size:yt.M2,target:t,onMenuClose:(0,Ei.Z)(this.onHideOptions,a)},r.createElement(Di,{className:l,dateOptions:i,onSelectDate:this.onSelectDate,onSelectNow:this.onSelectNow}),r.createElement(Oi,{className:l,selectedDateOption:o,startTime:e,onDeselectDateOption:this.onHideOptions,onSelectTime:this.onSelectTime}))}}const Ni=Mi;var Ai=n(9362);function xi(e){if(!e)return"";const t=e instanceof Date?e:new Date(e),n=(0,hi.Z)(t);return(0,yi.Z)(t,new Date)?(0,O.Z)("Today"):(0,Ai.Z)(n)}function Ri({target:e,isOpen:t,onMenuClose:n}){const i=(0,l.I0)(),a=(0,r.useCallback)((e=>i(gt.ZP.actions.channelsGridSetStartTime({startTime:e}))),[i]),{channelsGrid:{startTime:s}}=(0,l.v9)(Zt.Z),o=(0,r.useMemo)((()=>function(e){const t=[],n=(0,pi.Z)(e);for(let e=0;e<8;e++){const r=(0,mi.Z)(new Date,e),i=xi(r),a=(0,yi.Z)(r,n);t.push({title:i,value:(0,hi.Z)(r),isSelected:a})}return t}(s)),[s]);return 0!==s&&o.length?r.createElement(Ni,{dateOptions:o,dispatchSetStartTime:a,isOpen:t,startTime:s,target:e,onMenuClose:n}):null}function ki(){const e=(0,l.I0)(),t=(0,oi.Z)(),n=(0,di.Z)(),i=(0,l.v9)(li.Z),{columnTimes:a,columnWidth:s,startTime:o}=(0,l.v9)(wt),c=(new Date).getTime()-108e5,d=new Date(1e3*o).getTime(),u=d>c,m=(0,r.useCallback)((()=>{e(gt.ZP.actions.channelsGridNavigateTimeBack())}),[e]),p=(0,r.useCallback)((()=>{e(gt.ZP.actions.channelsGridNavigateTimeForward())}),[e]);return(0,r.useEffect)((()=>{e(gt.ZP.actions.channelsGridResetStartTime())}),[e]),r.createElement("div",{className:"ChannelsGridTimeline-container-UNZEHK"},r.createElement("div",{className:"ChannelsGridTimeline-dayContainer-sAgNKq"},r.createElement(ci.Z,{direction:n.isOpen?ui.Z.Up:ui.Z.Down,id:t,onPress:n.onToggle},xi(d)),r.createElement(Ri,{isOpen:n.isOpen,target:t,onMenuClose:n.onClose})),r.createElement("div",{className:"ChannelsGridTimeline-labelContainer-jDEp80"},a.map(((e,t)=>r.createElement("div",{key:t,className:"ChannelsGridTimeline-label-zIgOwN",style:{width:`${s}px`}},si(1e3*e,i))))),r.createElement("div",{className:"ChannelsGridTimeline-navigationButtons-Qh5wA_"},r.createElement(ri.hU,{"aria-label":(0,O.Z)("Previous"),color:"transparent",icon:sn.e,isDisabled:!u,size:ii.$u.XS,onPress:m}),r.createElement(ri.hU,{"aria-label":(0,O.Z)("Next"),color:"transparent",icon:on.V,size:ii.$u.XS,onPress:p})))}var ji=Object.defineProperty,Gi=Object.prototype.hasOwnProperty,Li=Object.getOwnPropertySymbols,Hi=Object.prototype.propertyIsEnumerable,Fi=(e,t,n)=>t in e?ji(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Bi=(e,t)=>{for(var n in t||(t={}))Gi.call(t,n)&&Fi(e,n,t[n]);if(Li)for(var n of Li(t))Hi.call(t,n)&&Fi(e,n,t[n]);return e};const Vi=parseInt(Ot.Z.channelGridRowHeight,10)-1;function Wi({className:e=Kt,channels:t,onRecordPress:n}){var i;const a=(0,l.I0)(),{columnTimes:s,viewportWidth:o,viewportHeight:c}=(0,l.v9)(wt),[d,u]=(0,r.useState)(null),[m,p]=(0,r.useState)(null),[h,y]=(0,r.useState)(-1),[v,E]=(0,r.useState)(0),f=null!=(i=t[h])?i:{},g=(0,l.v9)(_t(f));(0,r.useEffect)((()=>{a(gt.ZP.actions.channelsGridUpdateAiredProgress());const e=6e4-Date.now()%6e4,t=window.setInterval((()=>a(gt.ZP.actions.channelsGridUpdateAiredProgress())),e);return()=>{window.clearInterval(t)}}),[a,s]);const I=(0,r.useCallback)(((e,t,n)=>{const r=m!==e||d!==t||h!==n;p(r?e:null),u(r?t:null),y(r?n:-1),E(r?140:0)}),[d,u,m,p,h,y,E]),P=(0,r.useCallback)((({height:e})=>{E(e)}),[E]),D=(0,r.useCallback)((()=>{var e;const t=g.findIndex((e=>e.metadataItem.key===m&&e.mediaIndex===d))-1,{metadataItem:n,mediaIndex:r}=null!=(e=g[t])?e:{};n&&(p(n.key),u(r)),t<=1&&a(gt.ZP.actions.channelsGridNavigateTimeBack())}),[a,g,m,d,p,u]),Z=(0,r.useCallback)((()=>{var e;const t=g.findIndex((e=>e.metadataItem.key===m&&e.mediaIndex===d))+1,{metadataItem:n,mediaIndex:r}=null!=(e=g[t])?e:{};n&&(p(n.key),u(r)),t>=g.length-1&&a(gt.ZP.actions.channelsGridNavigateTimeForward())}),[a,g,m,d,p,u]),w=(0,r.useCallback)((()=>t.map(((e,t)=>{let n=Vi;return t===h&&(n+=v||140),n}))),[t,h,v]),S=(0,r.useCallback)((e=>{const i=t[e.cellIndex];if(!i)return null;const{serverIdentifier:a,providerIdentifier:s}=(0,Nt.Z)(i.source);return r.createElement(b.ZP,{machineIdentifier:a,providerIdentifier:s},r.createElement(ni,Bi(Bi({},e),{channel:i,className:zt,rowClassName:Ut,selectedMediaIndex:d,selectedMediaItemRow:h,selectedMetadataItemKey:m,onDetailRowMeasure:P,onMetadataItemPress:I,onNextPress:Z,onPrevPress:D,onRecordPress:n})))}),[d,h,m,t,I,Z,D,P,n]);return r.createElement("div",{className:e},r.createElement(ki,null),r.createElement(At.Z,{cellRenderer:S,className:$t,items:t,keyPropName:"gridKey",layout:Gt({getCellHeights:w}),scrollDirection:He.yZ,scrollerClassName:qt,size:t.length,viewportHeight:c,viewportWidth:o}))}var _i=Object.defineProperty,Ki=Object.prototype.hasOwnProperty,zi=Object.getOwnPropertySymbols,Ui=Object.prototype.propertyIsEnumerable,$i=(e,t,n)=>t in e?_i(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,qi=(e,t)=>{for(var n in t||(t={}))Ki.call(t,n)&&$i(e,n,t[n]);if(zi)for(var n of zi(t))Ui.call(t,n)&&$i(e,n,t[n]);return e};const Qi=parseInt(Ot.Z.channelGridChannelOverflowWidth,10),Xi=parseInt(Ot.Z.channelGridChannelColumnWidth,10),Yi=parseInt(Ot.Z.channelGridTitleColumnWidth,10);function Ji({channels:e}){const t=(0,l.I0)(),n=(0,Ct.Z)(),[i,a]=(0,r.useState)(!1),[s,o]=(0,r.useState)(null),[c,d]=(0,r.useState)(),{columnTimes:u}=(0,l.v9)(wt);(0,r.useEffect)((()=>{const e=Math.floor(Date.now()/1e3);let n=7200;if(u[0]<=e&&u[1]>=e){const t=u.find((t=>e<t));t&&(n=t-e)}const r=window.setTimeout((()=>t(gt.ZP.actions.channelsGridResetStartTime())),1e3*n);return()=>window.clearTimeout(r)}),[u,t]);const m=(0,r.useCallback)((e=>{i&&(0,Dt.Z)(s,e)||(a(!0),o(e),t(gt.ZP.actions.channelsGridSetViewportSize({width:e.width,height:e.height,overflowWidth:Qi,channelWidth:Xi,channelTitleWidth:Yi})))}),[i,s,a,o,t]),p=(0,r.useCallback)((e=>{d(e),n.onOpen()}),[n,d]);return r.createElement(r.Fragment,null,r.createElement(St.Z,qi(qi({},c),{isOpen:n.isOpen,onModalClose:n.onClose})),r.createElement(bt.Z,{className:Tt,onMeasure:m},r.createElement(Wi,{channels:e,className:Mt,onRecordPress:p})))}function ea(){const e=(0,l.I0)(),[t,n]=(0,b.c9)(),a=(0,l.v9)(It.Z);return(0,r.useEffect)((()=>(e((0,f.changeQuickSearchSettings)({serverEntityID:t.entityID,providerEntityID:n.entityID,providerIdentifier:n.identifier,directoryID:null})),e(gt.ZP.actions.guideChannelsFetchRequested({server:t,provider:n})),()=>{e((0,f.changeQuickSearchSettings)({serverEntityID:t.entityID,providerEntityID:n.entityID,providerIdentifier:null,directoryID:null}))})),[t,n,e]),r.createElement(Ge.Z,{metricsContext:(0,Le.Z)(i._e,je.DVR_GUIDE_PIVOT)},r.createElement(Pt.Z,{metricsPage:i._e,scrollDirection:He.Hn},r.createElement(ft,null),r.createElement(Ji,{channels:a})))}var ta=n(41542),na=n(36292),ra=n(3980),ia=n(80737),aa=n(97797);var sa=n(15997),oa=n(83395);function la(){return(0,_.P1)((0,sa.Z)(),((e,{sourceDirectoryID:t})=>t),((e,t)=>(0,oa.Z)(e,t)))}function ca(){return(0,_.P1)((0,Ke.Z)(),(e=>e.isCloud))}var da=n(54076),ua=n(27724),ma=n(26471);const pa=e=>e.key===ma.T,ha=()=>(e,{activeFilters:t})=>t.some(pa);var ya=n(20533),va=n(30277),Ea=n(58176),fa=n(1582);const ga=function(e){const{machineIdentifier:t,isRefreshing:n}=e;if(n)return r.createElement(Ea.Z,{description:(0,O.Z)("Hang tight while we download all the data for what's on"),iconComponent:va.U,title:(0,O.Z)("We're now building your Guide")});const i=(0,fa.Z)(t,"manage","dvr");return r.createElement(Ea.Z,{description:(0,O.Z)("Please verify your channel mappings and refresh the Guide"),iconComponent:va.U,title:(0,O.Z)("The Guide is empty")},r.createElement(gr.Z,{kind:jn._8,to:i},(0,O.Z)("Go to DVR Settings")))};var Ia=Object.defineProperty,Pa=Object.prototype.hasOwnProperty,ba=Object.getOwnPropertySymbols,Da=Object.prototype.propertyIsEnumerable,Za=(e,t,n)=>t in e?Ia(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const wa=(0,l.$j)((function(){return(0,_.P1)((0,Ke.Z)(),(0,ht.Z)(),((e,t)=>({machineIdentifier:e.machineIdentifier,isRefreshing:!!t})))}))((function(e){return r.createElement(ga,((e,t)=>{for(var n in t||(t={}))Pa.call(t,n)&&Za(e,n,t[n]);if(ba)for(var n of ba(t))Da.call(t,n)&&Za(e,n,t[n]);return e})({},e))}));var Sa=n(10067),Ca=n(44271),Oa=n(86418);const Ta=(0,l.$j)((function(){return(0,_.P1)(((e,{mediaIndex:t})=>t),(0,Tn.Z)(),(0,Ca.Z)(Oa.Z.SUBSCRIBE),li.Z,((e,t,n,r)=>{const{type:i,summary:a,grandparentThumb:s,thumb:o,contentRating:l}=t,c=t.Media[e],{beginsAt:d,endsAt:u,channelTitle:m,channelShortTitle:p,channelIdentifier:h}=c;return{type:i,summary:a,thumb:s||o,contentRating:l,beginsAt:d,endsAt:u,timeFormat:r,channelIdentifier:h,channelTitle:m,channelShortTitle:p,showRecord:!!n}}))}))(nr);var Ma=n(42609);class Na extends r.Component{constructor(){super(...arguments),this.onCellPress=()=>{const{metadataItemEntityID:e,mediaIndex:t,cellIndex:n,onPress:r}=this.props;r(e,t,n)}}render(){const{className:e,metadataItemEntityID:t,serverEntityID:n,providerEntityID:i,channelIdentifier:a,mediaIndex:s,width:o,type:l,subscriptionType:c,title:d,premiere:u,canRecord:m,showEpisodeTitle:p,showLoader:h,isOnAir:y,isFinishedAiring:v,isSelected:E,isSubscribed:f,onRecordPress:g}=this.props;if(!t)return r.createElement("div",{className:yr()(e,y&&xr,v&&Rr),style:{width:`${o}px`}},h?r.createElement("div",{className:Br},r.createElement(wr,null),r.createElement(wr,null)):r.createElement("div",{className:jr},(0,O.Z)("Unknown Airing")));const I=function(e,t){let n=null;switch(e){case gn.MOVIE:n=Dn.Z;break;case gn.SHOW:case gn.EPISODE:t&&(n=Ma.Z)}return n}(l,p);return r.createElement("div",{className:yr()(e,y&&xr,E&&Tr,(y||m)&&Mr,v&&Rr),"data-testid":"guide-row-item",style:{width:`${o}px`}},r.createElement("div",{className:jr},r.createElement(gr.Z,{className:kr,onPress:this.onCellPress}),r.createElement("div",null,d),r.createElement("div",{className:Gr},r.createElement("div",{className:Nr},I?r.createElement(I,{className:Lr,metadataItemEntityID:t,providerEntityID:i,serverEntityID:n}):null,u?r.createElement(Cr,{className:Hr}):null,f?r.createElement(fr.Z,{className:Fr},r.createElement(kn.Z,{type:c})):null),r.createElement(Qn,{channelIdentifier:a,className:Ar,isCompact:!0,mediaIndex:s,metadataItemEntityID:t,providerEntityID:i,serverEntityID:n,showPlay:y,showRecord:m,onRecordPress:g}))))}}Na.defaultProps={className:Or};const Aa=Na;var xa=Object.defineProperty,Ra=Object.prototype.hasOwnProperty,ka=Object.getOwnPropertySymbols,ja=Object.prototype.propertyIsEnumerable,Ga=(e,t,n)=>t in e?xa(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,La=(e,t)=>{for(var n in t||(t={}))Ra.call(t,n)&&Ga(e,n,t[n]);if(ka)for(var n of ka(t))ja.call(t,n)&&Ga(e,n,t[n]);return e};const Ha={dispatchMirrorDetails:Pr.yU},Fa=(0,l.$j)((function(){return(0,_.P1)(Er.Z,(0,Tn.Z)(),(0,_.P1)(((e,{mediaIndex:t})=>t),(0,Tn.Z)(),((e,t)=>t?t.Media[e]:null)),(0,_.P1)(((e,{beginsAt:t})=>t),((e,{endsAt:t})=>t),((e,t)=>{const n=Math.floor(Date.now()/1e3);return{isOnAir:n>=e&&n<=t,isFinishedAiring:n>=t}})),(0,Ca.Z)(Oa.Z.SUBSCRIBE),((e,t={},n,r,i)=>{const{type:a,grandparentTitle:s,title:o,subscriptionID:l,subscriptionType:c,grandparentSubscriptionID:d,grandparentSubscriptionType:u,index:m,originallyAvailableAt:p}=t,h=!!n&&n.premiere,y=null!=l||null!=d;let v=!0;if(null==m&&p){const e=new Date,t=(0,vr.Z)(p);v=e.getDate()!==t.getDate()||e.getMonth()!==t.getMonth()||e.getFullYear()!==t.getFullYear()}return La(La({},r),{type:a,title:s||o,subscriptionType:c||u,showEpisodeTitle:v,isRemotePlayer:e,isSubscribed:y,premiere:h,canRecord:!!i})}))}),Ha)((function(e){const t=e,{dispatchMirrorDetails:n}=t,i=((e,t)=>{var n={};for(var r in e)Ra.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&ka)for(var r of ka(e))t.indexOf(r)<0&&ja.call(e,r)&&(n[r]=e[r]);return n})(t,["dispatchMirrorDetails"]),{serverEntityID:a,providerEntityID:s,metadataItemEntityID:o,isRemotePlayer:l,isSelected:c}=e;return(0,r.useEffect)((()=>{c&&l&&n({serverEntityID:a,providerEntityID:s,metadataItemEntityID:o})}),[l,c,a,s,o,n]),r.createElement(Aa,La({},i))})),Ba=(0,l.$j)((function(){return(0,_.P1)((e=>e.ui.channelGridPage),(e=>{const{airedProgress:t,columnWidth:n,visibleColumns:r}=e;return{width:t/100*r*n}}))}))(Wr);var Va=n(82697);var Wa=n(93927),_a=n(4820),Ka=n(59900);var za=Object.defineProperty,Ua=Object.prototype.hasOwnProperty,$a=Object.getOwnPropertySymbols,qa=Object.prototype.propertyIsEnumerable,Qa=(e,t,n)=>t in e?za(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const Xa=parseInt(Ot.Z.channelGridChannelIconWidth,10),Ya=parseInt(Ot.Z.channelGridRowHeight,10);function Ja(e){const{className:t,serverEntityID:n,providerEntityID:i,channel:a,isCloudServer:s,onPlayPress:o}=e,[l,c]=(0,_a.Z)(),d=a.vcn||a.identifier;return r.createElement("div",((e,t)=>{for(var n in t||(t={}))Ua.call(t,n)&&Qa(e,n,t[n]);if($a)for(var n of $a(t))qa.call(t,n)&&Qa(e,n,t[n]);return e})({className:t,"data-testid":"guide-channel-name"},c),s?null:r.createElement("div",{className:"ChannelsGridRowTitle-numberContainer-Rgbhkn"},l?r.createElement(Nn.Z,{className:"ChannelsGridRowTitle-playButton-SSOe1M PlayButton-playButton-vS1WII","data-testid":"guide-channel-play",tabIndex:"-1",title:(0,O.Z)("Play Channel {channel}",{channel:d}),onPress:o}):r.createElement("span",null,d)),r.createElement("div",{className:yr()("ChannelsGridRowTitle-thumbnailContainer-HqCh9B",s&&"ChannelsGridRowTitle-fullWidth-QwrqiI",a.isRecent&&"ChannelsGridRowTitle-isRecent-S9mMwX")},s&&l?r.createElement(Nn.Z,{className:"ChannelsGridRowTitle-fullWidthPlayButton-cqfyDs ChannelsGridRowTitle-playButton-SSOe1M PlayButton-playButton-vS1WII","data-testid":"guide-channel-play",tabIndex:"-1",title:(0,O.Z)("Play Channel {channel}",{channel:a.callSign}),onPress:o}):null,a.thumb?r.createElement(Ka.Z,{key:a.thumb,backgroundSize:"contain",className:"ChannelsGridRowTitle-thumbnail-PKhhY7",height:Ya,providerEntityID:i,serverEntityID:n,url:a.thumb,width:Xa}):r.createElement("div",{className:"ChannelsGridRowTitle-channelCallSignText-pAoiUE",title:a.callSign},a.callSign)),a.isRecent?r.createElement(qr,{className:"ChannelsGridRowTitle-icon-L1SbCR"}):null)}Ja.defaultProps={className:"ChannelsGridRowTitle-container-ngwitG"};const es=Ja;var ts=Object.defineProperty,ns=Object.prototype.hasOwnProperty,rs=Object.getOwnPropertySymbols,is=Object.prototype.propertyIsEnumerable,as=(e,t,n)=>t in e?ts(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ss=(e,t)=>{for(var n in t||(t={}))ns.call(t,n)&&as(e,n,t[n]);if(rs)for(var n of rs(t))is.call(t,n)&&as(e,n,t[n]);return e};const os={dispatchStartPlayback:Va.wA,dispatchStartLiveTVPlayback:On.lS},ls=(0,We.Z)((function(){return(0,_.P1)(ca(),(e=Wa.K,(0,_.P1)((0,_e.Z)(e),(t=>t.protocols.includes(e)))),((e,t)=>({isCloudServer:e,hasLiveTVProtocol:t})));var e}),os)((function(e){const t=e,{dispatchStartPlayback:n,dispatchStartLiveTVPlayback:i}=t,a=((e,t)=>{var n={};for(var r in e)ns.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&rs)for(var r of rs(e))t.indexOf(r)<0&&is.call(e,r)&&(n[r]=e[r]);return n})(t,["dispatchStartPlayback","dispatchStartLiveTVPlayback"]),{serverEntityID:s,providerEntityID:o,channel:l,metricsPage:c,metricsContext:d,isCloudServer:u,hasLiveTVProtocol:m}=e,{identifier:p,id:h}=l,y=(0,r.useCallback)((()=>{const e={serverEntityID:s,providerEntityID:o,metricsPage:c,metricsContext:d};u||m?i(ss(ss({},e),{options:{type:Mn.pX,identifier:p||h}})):n(e)}),[s,o,c,d,u,m,i,p,h,n]);return r.createElement(es,ss(ss({},a),{channel:l,isCloudServer:u,onPlayPress:y}))}));function cs(e){const{className:t,rowClassName:n,serverEntityID:i,providerEntityID:a,selectedMetadataItemEntityID:s,selectedMediaIndex:o,selectedMediaItemRow:l,channel:c,cellIndex:d,columnWidth:u,columnTimes:m,isFetching:p,onMetadataItemPress:h,onRecordPress:y,onNextPress:v,onPrevPress:E,onDetailRowMeasure:f}=e,g=(0,Yt.Z)(e),I=m[0],P=m[m.length-1],b=m[1]-m[0];return r.createElement("div",{className:t,"data-testid":"guide-row",style:g.style},r.createElement("div",{className:n},r.createElement(ls,{channel:c,className:tn,providerEntityID:a,serverEntityID:i}),r.createElement("div",{className:nn},r.createElement(Ba,{className:an}),c.programs.map(((e,t)=>{const n=Math.max(e.beginsAt,I),m=(Math.min(e.endsAt,P)-n)/b*u,v=d===l&&s===e.metadataItemEntityID&&o===e.mediaIndex;return r.createElement(Fa,{key:t,beginsAt:e.beginsAt,cellIndex:d,channelIdentifier:c.identifier,className:rn,endsAt:e.endsAt,isSelected:v,mediaIndex:e.mediaIndex,metadataItemEntityID:e.metadataItemEntityID,providerEntityID:a,serverEntityID:i,showLoader:p&&!e.metadataItemEntityID,width:m,onPress:h,onRecordPress:y})})))),d===l?r.createElement(bt.Z,{key:s,onMeasure:f},r.createElement(Ta,{mediaIndex:o,metadataItemEntityID:s,providerEntityID:a,serverEntityID:i,onNextPress:v,onPrevPress:E,onRecordPress:y})):null)}cs.defaultProps={rowClassName:"ChannelsGridRow-container-OldJ2J"};const ds=(0,r.memo)(cs);var us=n(74372);const ms="ChannelsGridTimeline-navigationButton-titURD";function ps(e){const{className:t,enablePrevious:n,enableNext:i,startDate:a,columnTimes:s,timeFormat:o,columnWidth:l,dispatchPrevious:c,dispatchNext:d}=e;return r.createElement("div",{className:t},r.createElement("div",{className:"ChannelsGridTimeline-dayContainer-LxrCVG"},a?(0,en.Z)(a,"EEEE, LLL dd"):null),r.createElement("div",{className:"ChannelsGridTimeline-labelContainer-uy_cDG"},s.map(((e,t)=>r.createElement("div",{key:t,className:"ChannelsGridTimeline-label-QOzJ2x",style:{width:`${l}px`}},si(1e3*e,o))))),r.createElement("div",{className:"ChannelsGridTimeline-navigationButtons-aIIqKp"},r.createElement(ln.Z,{className:ms,iconComponent:sn.e,isDisabled:!n,title:(0,O.Z)("Previous"),onPress:c}),r.createElement(ln.Z,{className:ms,iconComponent:on.V,isDisabled:!i,title:(0,O.Z)("Next"),onPress:d})))}ps.defaultProps={className:"ChannelsGridTimeline-container-hqiteF"};const hs=ps,ys={dispatchNext:ta.uF,dispatchPrevious:ta.mo},vs=(0,l.$j)((function(){return(0,_.P1)((e=>e.ui.channelGridPage),li.Z,((e,t)=>{const{startTime:n,columnWidth:r}=e,i=new Date-108e5;let a=new Date(1e3*n);const s=a>i;return(0,us.Z)(n)&&(a=null),{timeFormat:t,startDate:a,columnWidth:r,enablePrevious:s,enableNext:!0}}))}),ys)(hs);var Es=Object.defineProperty,fs=Object.prototype.hasOwnProperty,gs=Object.getOwnPropertySymbols,Is=Object.prototype.propertyIsEnumerable,Ps=(e,t,n)=>t in e?Es(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,bs=(e,t)=>{for(var n in t||(t={}))fs.call(t,n)&&Ps(e,n,t[n]);if(gs)for(var n of gs(t))Is.call(t,n)&&Ps(e,n,t[n]);return e};const Ds=parseInt(Ot.Z.channelGridRowHeight,10)-1,Zs={selectedMetadataItemEntityID:null,selectedMediaIndex:null,selectedMediaItemRow:-1,selectedMediaItemHeight:0};class ws extends r.Component{constructor(e,t){super(e,t),this.getCellHeights=()=>{const{selectedMediaItemRow:e,selectedMediaItemHeight:t}=this.state;return this.props.channels.map(((n,r)=>{let i=Ds;return r===e&&(i+=t||140),i}))},this._updateProgress=()=>{this.props.dispatchUpdateAiredProgress(),this._resetUpdateTimeout()},this.onMetadataItemPress=(e,t,n)=>{this.state.selectedMetadataItemEntityID!==e||this.state.selectedMediaIndex!==t||this.state.selectedMediaItemRow!==n?this.setState({selectedMetadataItemEntityID:e,selectedMediaIndex:t,selectedMediaItemRow:n,selectedMediaItemHeight:140}):this.setState(Zs)},this.onDetailRowMeasure=({height:e})=>{this.setState({selectedMediaItemHeight:e})},this.onPrevPress=()=>{var e;const{selectedMetadataItemEntityID:t,selectedMediaIndex:n,selectedMediaItemRow:r}=this.state,{programs:i}=this.props.channels[r],a=i.findIndex((e=>e.metadataItemEntityID===t&&e.mediaIndex===n))-1,{metadataItemEntityID:s,mediaIndex:o}=null!=(e=i[a])?e:{};s&&this.setState({selectedMetadataItemEntityID:s,selectedMediaIndex:o}),a<=1&&this.props.dispatchNavigateTimeBack()},this.onNextPress=()=>{var e;const{selectedMetadataItemEntityID:t,selectedMediaIndex:n,selectedMediaItemRow:r}=this.state,{programs:i}=this.props.channels[r],a=i.findIndex((e=>e.metadataItemEntityID===t&&e.mediaIndex===n))+1,{metadataItemEntityID:s,mediaIndex:o}=null!=(e=i[a])?e:{};s&&this.setState({selectedMetadataItemEntityID:s,selectedMediaIndex:o}),a>=i.length-1&&this.props.dispatchNavigateTimeForward()},this.onDetailRowMeasure=({height:e})=>{this.setState({selectedMediaItemHeight:e})},this.renderCell=e=>{const{serverEntityID:t,providerEntityID:n,columnTimes:i,columnWidth:a,channels:s,isPending:o,onRecordPress:l}=this.props,{selectedMetadataItemEntityID:c,selectedMediaIndex:d,selectedMediaItemRow:u}=this.state,m=s[e.cellIndex];return m?r.createElement(ds,bs(bs({},e),{channel:m,className:zt,columnTimes:i,columnWidth:a,isFetching:o,providerEntityID:n,rowClassName:Ut,selectedMediaIndex:d,selectedMediaItemRow:u,selectedMetadataItemEntityID:c,serverEntityID:t,onDetailRowMeasure:this.onDetailRowMeasure,onMetadataItemPress:this.onMetadataItemPress,onNextPress:this.onNextPress,onPrevPress:this.onPrevPress,onRecordPress:l})):null},this._updateTimeout=null,this.state=Zs}static getDerivedStateFromProps(e,t){const{selectedMediaIndex:n,selectedMetadataItemEntityID:r,selectedMediaItemRow:i}=t,a=e.channels[i];return a&&0!==a.programs.length?a.programs.find((e=>e.mediaIndex===n&&e.metadataItemEntityID===r))?null:Zs:null}componentDidMount(){this._updateProgress()}shouldComponentUpdate(e,t){return(0,ya.Z)(this,e,t)}componentDidUpdate(e){(0,Dt.Z)(this.props.columnTimes,e.columnTimes)||this._updateProgress()}_resetUpdateTimeout(){this._updateTimeout&&window.clearTimeout(this._updateTimeout);const e=6e4-Date.now()%6e4;this._updateTimeout=window.setTimeout(this._updateProgress,e)}render(){const{className:e,serverEntityID:t,providerEntityID:n,viewportWidth:i,viewportHeight:a,columnTimes:s,channels:o,isCloudServer:l,isEmpty:c,showSpinner:d,showError:u}=this.props,m=l?"uniqueId":"identifier";return r.createElement("div",{className:e},d||u||c?null:r.createElement(q.Z,{className:"ChannelsGrid-banner-rmIz4P ProgramGuideGracenoteMigrationBanner-container-NePMOu",providerEntityID:n,serverEntityID:t}),d||u||c?null:r.createElement(vs,{className:"ChannelsGrid-timeline-kb1OQv ChannelsGridTimeline-container-hqiteF",columnTimes:s}),u?r.createElement(Sa.Z,{className:Qt,title:(0,O.Z)("There was an error loading channels")}):null,d?r.createElement(Ea.Z,{className:Qt},r.createElement(vt.Z,{label:(0,O.Z)("Loading channels")})):null,d||u||!c?null:r.createElement(wa,{providerEntityID:n,serverEntityID:t}),d||u||c?null:r.createElement(At.Z,{cellRenderer:this.renderCell,className:$t,items:o,keyPropName:m,layout:Gt({getCellHeights:this.getCellHeights}),scrollDirection:He.yZ,scrollerClassName:qt,size:o.length,viewportHeight:a,viewportWidth:i,onMeasure:this.onScrollerMeasure}))}}ws.defaultProps={className:Kt,columnTimes:[],isCloudServer:!1};const Ss=ws;var Cs=Object.defineProperty,Os=Object.prototype.hasOwnProperty,Ts=Object.getOwnPropertySymbols,Ms=Object.prototype.propertyIsEnumerable,Ns=(e,t,n)=>t in e?Cs(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,As=(e,t)=>{for(var n in t||(t={}))Os.call(t,n)&&Ns(e,n,t[n]);if(Ts)for(var n of Ts(t))Ms.call(t,n)&&Ns(e,n,t[n]);return e};const xs={dispatchUpdateAiredProgress:ta.bZ,dispatchNavigateTimeForward:ta.uF,dispatchNavigateTimeBack:ta.mo},Rs=(0,l.$j)((function(){return(0,_.P1)((e=>e.ui.channelGridPage),(0,ia.Z)(),((e,t={})=>{const{isPending:n=!0,isPopulated:r=!1,metadataItems:i=[],error:a}=t,s=!!n&&!r&&!a,o=!!a,l=r&&!n&&!a&&0===i.length;return As(As({},e),{isPending:n,isEmpty:l,showSpinner:s,showError:o})}))}),xs)(Ss);var ks=n(39166),js=n(70308),Gs=Object.defineProperty,Ls=Object.prototype.hasOwnProperty,Hs=Object.getOwnPropertySymbols,Fs=Object.prototype.propertyIsEnumerable,Bs=(e,t,n)=>t in e?Gs(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Vs=(e,t)=>{for(var n in t||(t={}))Ls.call(t,n)&&Bs(e,n,t[n]);if(Hs)for(var n of Hs(t))Fs.call(t,n)&&Bs(e,n,t[n]);return e};function Ws(e,t){return e.find((({id:e})=>e===t))||{}}const _s={dispatchFetchProviderSettings:ks.VH,dispatchFetchProviderSettingRecentChannelsInGrid:ks.Fq,dispatchUpdateAiredProgress:ta.bZ,dispatchNavigateTimeForward:ta.uF,dispatchNavigateTimeBack:ta.mo};function Ks(e){const t=e,{providerEntityID:n,numRecentChannelsInGrid:i,isSettingsPending:a,dispatchFetchProviderSettings:s,dispatchFetchProviderSettingRecentChannelsInGrid:o}=t,l=((e,t)=>{var n={};for(var r in e)Ls.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&Hs)for(var r of Hs(e))t.indexOf(r)<0&&Fs.call(e,r)&&(n[r]=e[r]);return n})(t,["providerEntityID","numRecentChannelsInGrid","isSettingsPending","dispatchFetchProviderSettings","dispatchFetchProviderSettingRecentChannelsInGrid"]);return(0,r.useEffect)((()=>{s({providerEntityID:n})}),[s,n]),(0,r.useEffect)((()=>{!a&&i>0&&o({providerEntityID:n,settingID:js.x8})}),[o,a,i,n]),r.createElement("div",null,r.createElement(Ss,Vs(Vs({},l),{providerEntityID:n})))}Ks.defaultProps={numRecentChannelsInGrid:0};const zs=(0,l.$j)((function(){return(0,_.P1)((e=>e.ui.channelGridPage),((e,{channels:t})=>t),(0,ia.Z)(),(0,Ca.Z)(Oa.Z.SETTINGS),((e,t,n={},r)=>{const{isPending:i=!0,isPopulated:a=!1,metadataItems:s=[],error:o}=n,{settings:l,isSettingsPending:c=!0,isSettingsPopulated:d=!1,settingsError:u}=r,m=Ws(l,js.x8),p=Ws(l,js.xy),h=p?p.value:0,{recentChannelsInGrid:y=[],isRecentChannelsInGridPending:v=!0,isRecentChannelsInGridPopulated:E=!1,recentChannelsInGridError:f}=m,g=i&&!a&&!o||c&&!d&&!u||h>0&&v&&!E&&!f,I=!!f||!!u||!!o,P=a&&!i&&!o&&0===s.length,b=[...t];if(h>0&&E){const e=y.reduce(((e,n)=>{const r=t.find((e=>e.identifier===n.id));return r&&e.push(Vs(Vs({},r),{isRecent:!0})),e}),[]);b.unshift(...e)}return b.forEach(((e,t)=>(e.uniqueId=t,e))),Vs(Vs({},e),{channels:b,numRecentChannelsInGrid:h,isCloudServer:!0,isPending:i,isSettingsPending:c,isEmpty:P,showSpinner:g,showError:I})}))}),_s)(Ks);var Us=Object.defineProperty,$s=Object.prototype.hasOwnProperty,qs=Object.getOwnPropertySymbols,Qs=Object.prototype.propertyIsEnumerable,Xs=(e,t,n)=>t in e?Us(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Ys=(e,t)=>{for(var n in t||(t={}))$s.call(t,n)&&Xs(e,n,t[n]);if(qs)for(var n of qs(t))Qs.call(t,n)&&Xs(e,n,t[n]);return e};const Js=function(e){const{metadataListEntityID:t,serverEntityID:n,providerEntityID:i,channels:a,isCloudServer:s,onMeasure:o}=e,[l,c]=(0,r.useState)({}),d=(0,Ct.Z)(),u=(0,r.useCallback)((e=>{c(e),d.onOpen()}),[d,c]),m=s?zs:Rs;return r.createElement(r.Fragment,null,r.createElement(St.Z,Ys(Ys({},l),{isOpen:d.isOpen,onModalClose:d.onClose})),r.createElement(bt.Z,{className:Tt,onMeasure:o},r.createElement(m,{channels:a,className:Mt,metadataListEntityID:t,providerEntityID:i,serverEntityID:n,onRecordPress:u})))},eo=parseInt(Ot.Z.channelGridChannelOverflowWidth,10),to=parseInt(Ot.Z.channelGridChannelColumnWidth,10),no=parseInt(Ot.Z.channelGridTitleColumnWidth,10),ro=(0,_.P1)((e=>e.ui.channelGridPage),ca(),((e,t)=>{const{columnTimes:n}=e;return{columnTimes:n,isCloudServer:t}})),io={dispatchSetViewportSize:ta.Sg,dispatchResetStartTime:ta.FL};class ao extends r.Component{constructor(e,t){super(e,t),this._updateGrid=()=>{const{dispatchResetStartTime:e}=this.props;e(),this._resetTimeout()},this.onMeasure=e=>{const{isMeasured:t,measuredSize:n}=this.state;t&&(0,Dt.Z)(n,e)||this.setState({isMeasured:!0,measuredSize:e},(()=>{this.setViewportSize(e)}))},this._updateTimeout=null,this.state={isMeasured:!1,measuredSize:null}}componentDidMount(){this._resetTimeout()}componentDidUpdate(e){const{metadataListEntityID:t,columnTimes:n}=this.props;t===e.metadataListEntityID&&(0,Dt.Z)(n,e.columnTimes)||this._resetTimeout()}componentWillUnmount(){this._updateTimeout&&window.clearTimeout(this._updateTimeout)}_resetTimeout(e=this.props){const{columnTimes:t}=e;if(!t.length)return;this._updateTimeout&&(window.clearTimeout(this._updateTimeout),this._updateTimeout=null);const n=Math.floor(Date.now()/1e3);let r=7200;t[0]<=n&&t[1]>=n&&(r=t.find((e=>n<e))-n),this._updateTimeout=window.setTimeout(this._updateGrid,1e3*r)}setViewportSize(e){const{dispatchSetViewportSize:t}=this.props;t({width:e.width,height:e.height,overflowWidth:eo,channelWidth:to,channelTitleWidth:no}),this._resetTimeout()}render(){const{serverEntityID:e,providerEntityID:t,metadataListEntityID:n,channels:i,isCloudServer:a}=this.props;return r.createElement(Js,{channels:i,isCloudServer:a,metadataListEntityID:n,providerEntityID:t,serverEntityID:e,onMeasure:this.onMeasure})}}const so=(0,l.$j)(ro,io)(ao);var oo=n(99538);function lo(){return(0,_.P1)((0,_e.Z)(),((e={})=>[{key:`/${e.identifier}/grid?channel.value=1`,filter:ma.T,filterKey:"channel.value",filterType:oo.I,title:(0,O.Z)("HD Channels Only")}]))}var co=n(42313),uo=n(17282),mo=n(28201),po=n(23574);const ho={dispatchSetStartTime:ta.qv},yo=(0,l.$j)((function(){return(0,_.P1)((e=>e.ui.channelGridPage),(({startTime:e})=>({startTime:e,dateOptions:function(e){const t=[],n=(0,pi.Z)(e);for(let e=0;e<8;e++){const r=(0,mi.Z)(new Date,e),i=xi(r),a=(0,yi.Z)(r,n);t.push({title:i,value:(0,hi.Z)(r),isSelected:a})}return t}(e)})))}),ho)(Ni);var vo=n(36341),Eo=n(87858),fo=Object.defineProperty,go=Object.prototype.hasOwnProperty,Io=Object.getOwnPropertySymbols,Po=Object.prototype.propertyIsEnumerable,bo=(e,t,n)=>t in e?fo(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;function Do(e,t,n){const r=[...e];for(let e=r.length-1;e>=0;e--){const t=r[e],i=t.type===oo.I,a=n.type===oo.I;t&&i!==a||r.splice(e,1)}return r.push(((e,t)=>{for(var n in t||(t={}))go.call(t,n)&&bo(e,n,t[n]);if(Io)for(var n of Io(t))Po.call(t,n)&&bo(e,n,t[n]);return e})({key:t},n)),r}var Zo=n(51437);const wo=function(e){const{typeKey:t,activeFilters:n,activeFilterLabel:i,activeSort:a,filter:s,title:o,onMenuClose:l}=e,c=(0,Eo.Z)(l),d=function(e,t){if(!e)return!1;const n=decodeURIComponent("1");return!!Rt().find(e,(({value:e})=>Array.isArray(e)?e.indexOf(n)>-1:e===n))}(n.filter((({key:e})=>e===s)));return r.createElement(Ii.Z,{isSelected:d,to:(0,vo.Z)({typeKey:t,filters:d?(0,Zo.Z)(n,s):Do(n,s,{value:"1",type:oo.I}),filterLabel:i,sort:a}),onPress:c},o)};var So=n(98476),Co=n(14522);class Oo extends r.Component{constructor(){super(...arguments),this.onPress=e=>{this.props.onFilterSelect(this.props.filterKey)}}shouldComponentUpdate(e,t){return(0,ya.Z)(this,e,t)}render(){const{activeFilters:e,filter:t,title:n,showSpinner:i}=this.props,a=!i&&!!Rt().find(e,(({key:e})=>e===t));return r.createElement(So.Z,{className:a?"DisclosureFilterMenuItem-isSelected-qhgNw5":void 0,onPress:this.onPress},r.createElement("div",{className:"DisclosureFilterMenuItem-menuItemContainer-IpfMJK SelectedMenuItem-menuItemContainer-PNDPtO"},r.createElement("div",{className:"DisclosureFilterMenuItem-menuLabel-I8c5Zb SelectedMenuItem-menuLabel-nQZtur"},n),i?r.createElement(vt.Z,{className:"DisclosureFilterMenuItem-spinner-b8Ckd7 Spinner-spinner-XTaskc spin-spin-H8VRGl",size:yt.HC}):null,!i&&a?r.createElement("div",{className:"DisclosureFilterMenuItem-selectedIcon-oC2mzz SelectedMenuItem-selectedIcon-FVHL6f"},r.createElement(Co.Z,{"aria-label":(0,O.Z)("Selected")})):null))}}const To=Oo,Mo=function(e){const{className:t,typeKey:n,activeFilters:i,activeFilterLabel:a,activeSort:s,filters:o,selectedFilter:l,showSpinner:c,showCustomFilter:d,onFilterSelect:u,onMenuClose:m}=e,p=(0,Eo.Z)(m),h=Rt().groupBy(o,(({filterType:e})=>e===oo.I?e:oo.w)),y=h[oo.I],v=h[oo.w];return r.createElement(fi.Z,{autoScroll:!0,className:yr()(t,"LibraryFiltersList-filtersScroller-FMG5kr Scroller-vertical-nKq0Q8")},r.createElement(Ii.Z,{key:"all",isSelected:Rt().isEmpty(i),to:(0,vo.Z)({typeKey:n,sort:s}),onPress:p},(0,O.Z)("All")),y?y.map((e=>r.createElement(wo,{key:e.filter,activeFilterLabel:a,activeFilters:i,activeSort:s,filter:e.filter,title:e.title,typeKey:n,onMenuClose:m}))):null,v?r.createElement(gi.Z,null):null,v?v.map((e=>{const t=!(!l||l.filter!==e.filter);return r.createElement(To,{key:e.filter,activeFilters:i,activeSort:s,filter:e.filter,filterKey:e.key,showSpinner:c&&t,title:e.title,typeKey:n,onFilterSelect:u})})):null,d?r.createElement(gi.Z,null):null,d?r.createElement(Ii.Z,{key:"customFilter",to:(0,vo.Z)({typeKey:n,customFilter:!0})},(0,O.Z)("Custom Filter...")):null)},No=(0,_.zB)({filters:lo()}),Ao=(0,l.$j)(No)((function(e){const{filters:t,target:n,isOpen:i,activeFilters:a,activeFilterLabel:s,onMenuClose:o}=e;return r.createElement(vi.Z,{isOpen:i,size:yt.ln,target:n,onMenuClose:o},r.createElement(Mo,{activeFilterLabel:s,activeFilters:a,filters:t,showCustomFilter:!1,showSpinner:!1,onMenuClose:o}))}));class xo extends r.Component{constructor(e,t){super(e,t),this.onDatePickerMenuButtonPress=e=>{this.setState({isDatePickerMenuOpen:!this.state.isDatePickerMenuOpen})},this.onDatePickerMenuClose=()=>{this.setState({isDatePickerMenuOpen:!1})},this.onFilterMenuButtonPress=e=>{this.setState({isFilterMenuOpen:!this.state.isFilterMenuOpen})},this.onFilterMenuClose=()=>{this.setState({isFilterMenuOpen:!1})},this.state={isDatePickerMenuOpen:!1,isFilterMenuOpen:!1},this._datePickerMenuButtonID=(0,mo.Z)(),this._filterMenuButtonID=(0,mo.Z)()}shouldComponentUpdate(e,t){return(0,ya.Z)(this,e,t)}render(){const{serverEntityID:e,providerEntityID:t,sourceDirectory:n,selectedFilterTitle:i,datePickerTitle:a,showEPGActivity:s,activeFilters:o,activeFilterLabel:l,totalSize:c}=this.props,{isDatePickerMenuOpen:d,isFilterMenuOpen:u}=this.state;return r.createElement(r.Fragment,null,r.createElement(Ce.Z,null,r.createElement(pt.Z,{providerEntityID:t,serverEntityID:e,sourceDirectory:n}),r.createElement(mt,{directoryKey:Fe.tk.GUIDE,providerEntityID:t,serverEntityID:e,sourceDirectory:n}),r.createElement(Be.Z,null)),r.createElement(po.Z,null,r.createElement(we.Z,null,r.createElement(uo.Z,{hasMenu:!0,id:this._datePickerMenuButtonID,isMenuOpen:d,onPress:this.onDatePickerMenuButtonPress},a),r.createElement(yo,{isOpen:d,target:this._datePickerMenuButtonID,onMenuClose:this.onDatePickerMenuClose}),r.createElement(uo.Z,{hasMenu:!0,id:this._filterMenuButtonID,isMenuOpen:u,onPress:this.onFilterMenuButtonPress},i),r.createElement(Ao,{activeFilterLabel:l,activeFilters:o,isOpen:u,target:this._filterMenuButtonID,onMenuClose:this.onFilterMenuClose}),r.createElement(co.Z,null,c)),s?r.createElement(Se.Z,null,r.createElement(Et,{providerEntityID:t,serverEntityID:e})):null))}}const Ro=xo,ko=(0,l.$j)((function(){return(0,_.P1)((e=>e.ui.channelGridPage),(0,ht.Z)(),(0,_.P1)(((e,{activeFilters:t})=>t),((e,{activeFilterLabel:t})=>t),lo(),((e,t,n)=>{if(!e||!e.length)return(0,O.Z)("All Channels");if(e&&1===e.length){const t=e[0],r=n.find((e=>e.filter===t.key));if(r)return r.title}return t||(0,O.Z)("Filtered")})),((e,t,n)=>({datePickerTitle:xi(1e3*e.startTime),showEPGActivity:!!t,selectedFilterTitle:n})))}))(Ro),jo=function(e){const{serverEntityID:t,providerEntityID:n,metadataListEntityID:a,sourceDirectory:s,activeFilters:o,activeFilterLabel:l,channels:c}=e;return r.createElement(Ge.Z,{metricsContext:(0,Le.Z)(i._e,je.DVR_GUIDE_PIVOT)},r.createElement(Pt.Z,{metricsPage:i._e,scrollDirection:He.Hn},r.createElement(ko,{activeFilterLabel:l,activeFilters:o,providerEntityID:n,serverEntityID:t,sourceDirectory:s,totalSize:c.length}),r.createElement(so,{channels:c,metadataListEntityID:a,providerEntityID:n,serverEntityID:t})))};var Go=Object.defineProperty,Lo=Object.prototype.hasOwnProperty,Ho=Object.getOwnPropertySymbols,Fo=Object.prototype.propertyIsEnumerable,Bo=(e,t,n)=>t in e?Go(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const Vo={dispatchInitMetadataList:ta.EG,dispatchResetStartTime:ta.FL,dispatchResetMetadataList:ua.wZ,dispatchFetchChannelsList:ta.z2,dispatchPopulateChannelPrograms:ta.Vg,dispatchChangeQuickSearchSettings:f.changeQuickSearchSettings};class Wo extends r.Component{componentDidMount(){this.props.containerKey&&this._populate(),this.props.providerIdentifier&&this._setSearchProviderIdentifier(this.props.providerIdentifier)}componentDidUpdate(e){const{providerIdentifier:t,containerKey:n,columnTimes:r,isRefreshing:i}=this.props;n&&n!==e.containerKey||i!==e.isRefreshing?this._populate(e):(0,Dt.Z)(r,e.columnTimes)||this.props.dispatchPopulateChannelPrograms(),t&&t!==e.providerIdentifier&&this._setSearchProviderIdentifier(t)}componentWillUnmount(){const{metadataListEntityID:e}=this.props;e&&this.props.dispatchResetMetadataList({metadataListEntityID:e}),this._setSearchProviderIdentifier(null)}_populate(e){const{serverEntityID:t,providerEntityID:n,metadataListEntityID:r,containerKey:i,dispatchInitMetadataList:a,dispatchResetMetadataList:s,dispatchResetStartTime:o,dispatchFetchChannelsList:l,dispatchPopulateChannelPrograms:c,isHDFilterActive:d}=this.props;r&&s({metadataListEntityID:r}),l(),e&&e.isHDFilterActive!==d||o(),a({containerKey:i,serverEntityID:t,providerEntityID:n}),c()}_setSearchProviderIdentifier(e){const{dispatchChangeQuickSearchSettings:t,serverEntityID:n,providerEntityID:r}=this.props;t({serverEntityID:n,providerEntityID:r,providerIdentifier:e,directoryID:null})}render(){const e=this.props,{dispatchInitMetadataList:t}=e,n=((e,t)=>{var n={};for(var r in e)Lo.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&Ho)for(var r of Ho(e))t.indexOf(r)<0&&Fo.call(e,r)&&(n[r]=e[r]);return n})(e,["dispatchInitMetadataList"]);return r.createElement(jo,((e,t)=>{for(var n in t||(t={}))Lo.call(t,n)&&Bo(e,n,t[n]);if(Ho)for(var n of Ho(t))Fo.call(t,n)&&Bo(e,n,t[n]);return e})({},n))}}const _o=(0,l.$j)((function(){return(0,_.P1)((e=>e.ui.channelGridPage),(0,_.P1)((0,ia.Z)(),aa.Z,((e,t)=>e&&e.metadataItems?e.metadataItems.map((e=>t[e])):[])),(0,ra.Z)(),(0,_e.Z)(),la(),(0,ht.Z)(),(0,_.P1)((e=>e.ui.channelGridPage),ha(),((e,t)=>{const{channelsList:n,isChannelsListPopulated:r,isChannelsListPending:i,channelsListError:a}=e;return!r||i||a?[]:t?n.filter((e=>!!e.tagValue)):n})),ca(),ha(),((e,t,n,r,i,a,s,o,l)=>{let c=function(e,t,n=[]){const r=e[0],i=e[e.length-1],a=function(e,t,n,r){return t.reduce(((t,i)=>i&&i.Media?(i.Media.forEach(((a,s)=>{const{channelIdentifier:o,channelThumb:l,channelTitle:c,channelShortTitle:d,channelVcn:u,channelCallSign:m,beginsAt:p,endsAt:h}=a;var y;if((!(e.length>0)||e.some((e=>e.channelIdentifier===o)))&&(t[o]||(t[o]={identifier:o,thumb:l,title:d||c,vcn:u,callSign:m||(y=c,y?y.split(" ")[1]:""),programs:[]}),p<r&&h>n)){const e={beginsAt:Math.max(p,n),endsAt:Math.min(h,r),metadataItemEntityID:i.entityID,mediaIndex:s};t[o].programs.push(e)}})),t):t),{})}(n,t,r,i);return n.forEach((e=>{a[e.channelIdentifier]||(a[e.channelIdentifier]={identifier:e.channelIdentifier,thumb:e.thumb,title:e.tag,vcn:e.channelVcn,callSign:e.channelCallSign,programs:[]})})),function(e,t,n,r){return Object.values(e).map((e=>(e.programs=function(e,t,n){let r=t;const i=[];e.sort(((e,t)=>e.beginsAt>t.beginsAt?1:e.beginsAt<t.beginsAt?-1:0));for(let t=0;t<e.length;t++){const n=e[t];if(n.beginsAt>r){const e={beginsAt:r,endsAt:n.beginsAt};i.push(e)}i.push(n),r=n.endsAt}if(r<n){const e={beginsAt:r,endsAt:n};i.push(e)}return i}(e.programs,t,n),e)))}(a,r,i)}(e.columnTimes,t,s);return o||(c=c.sort(((e,t)=>(0,da.Z)(e.vcn||e.identifier,t.vcn||t.identifier)))),{metadataListEntityID:e.metadataList,containerKey:n,sourceDirectory:i,channels:c,columnTimes:e.columnTimes,providerIdentifier:r.identifier,isRefreshing:!!a,isHDFilterActive:l}}))}),Vo)(Wo),Ko=(0,_.zB)({metadataListEntityID:e=>e.ui.channelGridPage.metadataList,directoryKey:(0,_.P1)(((e,{selectedDirectory:t})=>t),(e=>{if(!e)return;const t=e.key;return"/"===t.charAt(0)?t:"/library/sections/"+t}))}),zo=(0,na.Z)(_o,(function(e){const t=e.ui.channelGridPage;return{providerEntityID:t.providerEntityID,serverEntityID:t.serverEntityID,metadataListEntityID:t.metadataList,directoryKey:t.directoryKey}}),(function(e,t){e((0,ta.v3)({serverEntityID:t.serverEntityID,providerEntityID:t.providerEntityID,directoryKey:t.directoryKey})),e((0,ta.Li)())})),Uo=(0,l.$j)(Ko)(zo);var $o=n(16018),qo=n(7574),Qo=n(87242);function Xo(){return(0,_.P1)((0,Ke.Z)(),(e=>e?e.providers:void 0))}var Yo=n(46898);function Jo(e){return!0}var el=n(235),tl=n(71470);const nl=(0,r.forwardRef)((function({align:e="none","aria-label":t,color:n="inherit",height:i="1em",testID:a},s){const o={width:"auto",height:`max(${"number"==typeof i?`${i}px`:i}, 1rem)`};return r.createElement("svg",{ref:s,"aria-hidden":!t,"aria-label":t,className:(0,tl.J)({align:e,color:n}),"data-testid":a,fill:"currentColor",height:48,style:o,viewBox:"0 0 48 48",width:48,xmlns:"http://www.w3.org/2000/svg"},r.createElement("path",{d:"M41.1213 6.87868C41.6839 7.44129 42 8.20435 42 9V18H39V9H33V12H30V9H18V12H15V9H9V39H15V42H9C8.20435 42 7.44129 41.6839 6.87868 41.1213C6.31607 40.5587 6 39.7957 6 39V9C6 8.20435 6.31607 7.44129 6.87868 6.87868C7.44129 6.31607 8.20435 6 9 6H15V3H18V6H30V3H33V6H39C39.7957 6 40.5587 6.31607 41.1213 6.87868Z",fill:"currentColor"}),r.createElement("path",{d:"M33.885 37.5L30 33.615V27H33V32.385L36 35.385L33.885 37.5Z",fill:"currentColor"}),r.createElement("path",{clipRule:"evenodd",d:"M31.5 45C29.1266 45 26.8066 44.2962 24.8332 42.9776C22.8598 41.6591 21.3217 39.7849 20.4135 37.5922C19.5052 35.3995 19.2676 32.9867 19.7306 30.6589C20.1936 28.3312 21.3365 26.193 23.0147 24.5147C24.693 22.8365 26.8312 21.6936 29.1589 21.2306C31.4867 20.7676 33.8995 21.0052 36.0922 21.9135C38.2849 22.8217 40.1591 24.3598 41.4776 26.3332C42.7962 28.3066 43.5 30.6266 43.5 33C43.5 36.1826 42.2357 39.2349 39.9853 41.4853C37.7349 43.7357 34.6826 45 31.5 45ZM31.5 24C29.72 24 27.9799 24.5278 26.4999 25.5168C25.0198 26.5057 23.8663 27.9113 23.1851 29.5559C22.5039 31.2004 22.3257 33.01 22.6729 34.7558C23.0202 36.5016 23.8774 38.1053 25.136 39.364C26.3947 40.6226 27.9984 41.4798 29.7442 41.8271C31.49 42.1743 33.2996 41.9961 34.9442 41.3149C36.5887 40.6337 37.9943 39.4802 38.9832 38.0001C39.9722 36.5201 40.5 34.78 40.5 33C40.5 30.6131 39.5518 28.3239 37.864 26.636C36.1761 24.9482 33.887 24 31.5 24Z",fill:"currentColor",fillRule:"evenodd"}))}));var rl=n(29012),il=n(30471),al=n(43508);function sl(){return(0,_.P1)(((e,{providerID:t})=>t),Xo(),Yo.Z,((e,t,n)=>{if(e)return t.find((t=>{const r=n[t];return r&&r.identifier===e}))}))}var ol=n(993),ll=n(31489),cl=n(54139),dl=n(42699),ul=n(35343),ml=n(30750),pl=n(99184),hl=n(77613),yl=n(8135),vl=n(55550),El=n(16983),fl=n(21411);const gl=function(e){const{className:t,beginsAt:n,endsAt:i,timeFormat:a}=e,s=function(e,t,n){return e?(0,fl.Z)(e,t)?(0,O.Z)("Airing now"):(0,El.Z)(e,null,{timeFormat:n}):(0,O.Z)("No upcoming airings")}(n,i,a);return r.createElement("span",{className:t},s)};var Il=n(37188);const Pl=function({className:e,type:t}){return r.createElement("span",{className:e},r.createElement(Il.Z,{className:"RecordingPrioritySubscriptionSeriesTitle-seriesIcon-lEyOSY"}),function(e){return"show"===e?(0,O.Z)("Series"):void 0}(t))};var bl=Object.defineProperty,Dl=Object.prototype.hasOwnProperty,Zl=Object.getOwnPropertySymbols,wl=Object.prototype.propertyIsEnumerable,Sl=(e,t,n)=>t in e?bl(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const Cl=function(e){const t=e,{component:n,isSecondary:i}=t,a=((e,t)=>{var n={};for(var r in e)Dl.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&Zl)for(var r of Zl(e))t.indexOf(r)<0&&wl.call(e,r)&&(n[r]=e[r]);return n})(t,["component","isSecondary"]);return r.createElement(n,((e,t)=>{for(var n in t||(t={}))Dl.call(t,n)&&Sl(e,n,t[n]);if(Zl)for(var n of Zl(t))wl.call(t,n)&&Sl(e,n,t[n]);return e})({className:i?"RecordingPrioritySubscriptionTitle-secondaryTitle-X8aUVa":"RecordingPrioritySubscriptionTitle-title-TmkOtz"},a))};var Ol=Object.defineProperty,Tl=Object.prototype.hasOwnProperty,Ml=Object.getOwnPropertySymbols,Nl=Object.prototype.propertyIsEnumerable,Al=(e,t,n)=>t in e?Ol(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;class xl extends r.Component{constructor(e,t){super(e,t),this.onLinkPress=e=>{this.setState({isSubscribeModalOpen:!0})},this.onSubscribeModalClose=()=>{this.setState({isSubscribeModalOpen:!1})},this.state={isSubscribeModalOpen:!1}}shouldComponentUpdate(e,t){return(0,ya.Z)(this,e,t)}render(){const e=this.props,{serverEntityID:t,providerEntityID:n,mediaSubscriptionEntityID:i,type:a,subtype:s,thumb:o,grandparentThumb:l,connectDragSource:c}=e,d=((e,t)=>{var n={};for(var r in e)Tl.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&Ml)for(var r of Ml(e))t.indexOf(r)<0&&Nl.call(e,r)&&(n[r]=e[r]);return n})(e,["serverEntityID","providerEntityID","mediaSubscriptionEntityID","type","subtype","thumb","grandparentThumb","connectDragSource"]),{isSubscribeModalOpen:u}=this.state,m="playlist"===a?"show":a;return r.createElement("div",{className:"RecordingPrioritySubscription-subscription-NeXVO4"},r.createElement(gr.Z,{className:"RecordingPrioritySubscription-link-ok3R9D",onPress:this.onLinkPress},r.createElement("div",{className:"RecordingPrioritySubscription-linkContainer-upGJfE"},r.createElement(dn.Z,{className:"RecordingPrioritySubscription-posterContainer-skXft_",component:un.Z,height:(0,mn.Cr)(48,m,s),providerEntityID:n,serverEntityID:t,type:m,url:l||o,width:48}),r.createElement("div",{className:"RecordingPrioritySubscription-titleContainer-SYZcaT"},function(e){let t;switch(e){case"movie":t=[pl.Z,yl.Z];break;case"show":t=[pl.Z,Pl];break;case"episode":t=[ml.Z,hl.Z];break;case"playlist":t=[pl.Z,Pl];break;default:t=[pl.Z]}return t.push(gl),t}(a).map(((e,t)=>r.createElement(Cl,((e,t)=>{for(var n in t||(t={}))Tl.call(t,n)&&Al(e,n,t[n]);if(Ml)for(var n of Ml(t))Nl.call(t,n)&&Al(e,n,t[n]);return e})({key:t,component:e,isSecondary:t>0,type:a},d))))))),c(r.createElement("div",{className:"RecordingPrioritySubscription-dragHandle-asEk9k Link-link-SxPFpG"},r.createElement(vl.Z,{className:"RecordingPrioritySubscription-dragIcon-BPd81u"})),{dropEffect:"copy"}),r.createElement(St.Z,{isOpen:u,mediaSubscriptionEntityID:i,providerEntityID:n,serverEntityID:t,subscriptionType:a,onModalClose:this.onSubscribeModalClose}))}}xl.defaultProps={connectDragSource:e=>e};const Rl=xl;var kl=Object.defineProperty,jl=Object.prototype.hasOwnProperty,Gl=Object.getOwnPropertySymbols,Ll=Object.prototype.propertyIsEnumerable,Hl=(e,t,n)=>t in e?kl(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const Fl=(0,l.$j)((function(){return(0,_.P1)(li.Z,(0,ul.Z)(),(0,_.P1)((e=>e.ui.recordingSchedulePage.calendar.scheduled),(0,ul.Z)(),((e,t)=>Rt().find(e,(e=>(0,dl.Z)((0,pi.Z)(e.beginsAt),new Date)&&e.mediaSubscriptionID===t.key)))),((e,t,n)=>{const r=Rt().pick(t.hint,"title","grandparentTitle","type","year","index","parentIndex","originallyAvailableAt","thumb","grandparentThumb");return n&&(r.beginsAt=n.beginsAt,r.endsAt=n.endsAt),r.timeFormat=e,r}))}))((function(e){return r.createElement(Rl,((e,t)=>{for(var n in t||(t={}))jl.call(t,n)&&Hl(e,n,t[n]);if(Gl)for(var n of Gl(t))Ll.call(t,n)&&Hl(e,n,t[n]);return e})({},e))})),Bl=parseInt(Ot.Z.recordingPriorityPaneWidth,10),Vl=parseInt(Ot.Z.recordingPriorityDragHandleWidth,10);class Wl extends r.Component{shouldComponentUpdate(e,t){return(0,ya.Z)(this,e,t)}render(){const{serverEntityID:e,providerEntityID:t,item:n,itemType:i,currentOffset:a}=this.props;if(!a||i!==cl.OT)return null;const{x:s,y:o}=a,l=`translate3d(${s-(Bl-Vl)}px, ${o}px, 0)`,c={position:"absolute",WebkitTransform:l,msTransform:l,transform:l};return r.createElement(ll.Z,null,r.createElement("div",{className:"RecordingPrioritySubscriptionDragPreview-dragPreview-quuADK",style:c},r.createElement(Fl,{mediaSubscriptionEntityID:n.mediaSubscriptionEntityID,providerEntityID:t,serverEntityID:e})))}}const _l=(0,ol.r)((function(e){return{item:e.getItem(),itemType:e.getItemType(),currentOffset:e.getSourceClientOffset()}}))(Wl);var Kl=n(93712),zl=n(90625),Ul=n(46408),$l=n(73935),ql=n(50774);const Ql={beginDrag:({mediaSubscriptionEntityID:e})=>({mediaSubscriptionEntityID:e}),endDrag(e,t,n){e.onSubscriptionDragEnd(t.getItem(),t.didDrop())}},Xl={hover(e,t,n){const r=(0,$l.findDOMNode)(n).getBoundingClientRect(),i=(r.bottom-r.top)/2,a=t.getClientOffset().y-r.top,s=e.sortIndex,o=a>i?s+1:s;e.onSubscriptionDragMove(o)}};class Yl extends r.Component{componentDidMount(){this.props.connectDragPreview((0,Ul.r)())}shouldComponentUpdate(e,t){return(0,ya.Z)(this,e,t)}render(){const{serverEntityID:e,providerEntityID:t,mediaSubscriptionEntityID:n,isDragging:i,isDraggingBefore:a,isDraggingAfter:s,isOver:o,connectDropTarget:l,connectDragSource:c}=this.props;return l(r.createElement("div",{className:yr()("RecordingPrioritySubscriptionDragSource-dragSource-ua3EiL",i&&ql.fN,a&&o&&ql.DT,s&&o&&ql.QZ)},r.createElement(Fl,{connectDragSource:c,mediaSubscriptionEntityID:n,providerEntityID:t,serverEntityID:e})))}}const Jl=(0,Kl.G)(cl.OT,Xl,(function(e,t){return{connectDropTarget:e.dropTarget(),isOver:t.isOver()}}))((0,zl.E)(cl.OT,Ql,(function(e,t){return{connectDragPreview:e.dragPreview(),connectDragSource:e.dragSource(),isDragging:t.isDragging()}}))(Yl)),ec=function(e){const{serverEntityID:t,providerEntityID:n,mediaSubscriptionEntityIDs:i,guideRoute:a,showError:s,showEmptyState:o,moveIndex:l,onSubscriptionDragMove:c,onSubscriptionDragEnd:d}=e;return r.createElement("div",{className:"RecordingPriorityPane-pane-dq4cLL"},r.createElement("div",{className:"RecordingPriorityPane-paneHeader-pEIfIi"},(0,O.Z)("Recording Priority")),r.createElement(fi.Z,{autoScroll:!0,className:"RecordingPriorityPane-paneScroller-WG2FtX Scroller-vertical-nKq0Q8"},s?r.createElement("div",{className:"RecordingPriorityPane-error-VObeAc"},r.createElement("div",null,(0,O.Z)("There was an error loading recordings.")),r.createElement("div",null,(0,O.Z)("Please try again."))):null,o?r.createElement("div",{className:"RecordingPriorityPane-empty-iwDsd9"},r.createElement("div",null,(0,O.Z)("You have no recordings scheduled.")),r.createElement("div",null,r.createElement(rl.Z,{message:(0,O.Z)("Check out the {openLink}Guide{closeLink} to browse available programming."),tags:[{open:"openLink",close:"closeLink",component:gr.Z,kind:jn._8,to:a}]}))):null,s||o?null:i.map(((e,i)=>{const a=null!=l,s=a&&l===i,o=a&&l===i+1;return r.createElement(Jl,{key:e,isDraggingAfter:o,isDraggingBefore:s,mediaSubscriptionEntityID:e,providerEntityID:n,serverEntityID:t,sortIndex:i,onSubscriptionDragEnd:d,onSubscriptionDragMove:c})}))),r.createElement(_l,{providerEntityID:n,serverEntityID:t}))};var tc=Object.defineProperty,nc=Object.prototype.hasOwnProperty,rc=Object.getOwnPropertySymbols,ic=Object.prototype.propertyIsEnumerable,ac=(e,t,n)=>t in e?tc(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,sc=(e,t)=>{for(var n in t||(t={}))nc.call(t,n)&&ac(e,n,t[n]);if(rc)for(var n of rc(t))ic.call(t,n)&&ac(e,n,t[n]);return e};const oc={dispatchMoveMediaSubscription:qo.moveMediaSubscription,dispatchClearMoveError:qo.clearMoveError,dispatchShowAlert:al.wp};class lc extends r.Component{constructor(e,t){super(e,t),this.onSubscriptionDragMove=e=>{this.setState({moveIndex:e})},this.onSubscriptionDragEnd=(e,t)=>{const{moveIndex:n}=this.state;t&&null!=n&&(0,v.c9)((()=>{this.props.dispatchMoveMediaSubscription(sc(sc({},e),{moveIndex:n}))})),this.setState({moveIndex:null})},this.state={moveIndex:null}}componentDidUpdate(e){const{mediaSubscriptionMoveError:t,dispatchShowAlert:n,dispatchClearMoveError:r}=this.props,{mediaSubscriptionMoveError:i}=e;!i&&t&&(n(t),r())}render(){return r.createElement(ec,sc({moveIndex:this.state.moveIndex,onSubscriptionDragEnd:this.onSubscriptionDragEnd,onSubscriptionDragMove:this.onSubscriptionDragMove},this.props))}}const cc=(0,l.$j)((function(){return(0,_.P1)((e=>e.ui.recordingSchedulePage),sl(),((e,t)=>{const{mediaSubscriptions:n,isMediaSubscriptionsPopulated:r,mediaSubscriptionsError:i,mediaSubscriptionMoveError:a}=e;return{providerEntityID:t,mediaSubscriptionEntityIDs:n,mediaSubscriptionMoveError:a,showError:!r&&!!i,showEmptyState:r&&!i&&!n.length}}))}),oc)(lc),dc=function({subscriptionCount:e}){return r.createElement(Ea.Z,{description:1===e?(0,O.Z)("There are no upcoming airings of the item in your list"):(0,O.Z)("There are no upcoming airings of the {subscriptionCount} items in your list",{subscriptionCount:e}),iconComponent:nl,title:(0,O.Z)("You have no recordings scheduled")})};var uc=n(75165),mc=n(62934),pc=n(26180),hc=n(30547),yc=Object.defineProperty,vc=Object.prototype.hasOwnProperty,Ec=Object.getOwnPropertySymbols,fc=Object.prototype.propertyIsEnumerable,gc=(e,t,n)=>t in e?yc(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Ic=(e,t)=>{for(var n in t||(t={}))vc.call(t,n)&&gc(e,n,t[n]);if(Ec)for(var n of Ec(t))fc.call(t,n)&&gc(e,n,t[n]);return e};const Pc={dispatchPlayRecording:qo.playRecording};class bc extends r.Component{constructor(){super(...arguments),this.onPlayPress=e=>{const{serverEntityID:t,providerEntityID:n,linkedKey:r,metricsContext:i,dispatchPlayRecording:a}=this.props;a({serverEntityID:t,providerEntityID:n,linkedKey:r,metricsContext:i})}}render(){const e=this.props,{component:t,mediaSubscriptionID:n,status:i,linkedKey:a,metricsContext:s}=e,o=((e,t)=>{var n={};for(var r in e)vc.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&Ec)for(var r of Ec(e))t.indexOf(r)<0&&fc.call(e,r)&&(n[r]=e[r]);return n})(e,["component","mediaSubscriptionID","status","linkedKey","metricsContext"]);return r.createElement(t,Ic(Ic({},o),{onPlayPress:this.onPlayPress}))}}const Dc=(0,We.Z)((function(){return(0,_.P1)(((e,{mediaSubscriptionID:t})=>t),((e,{status:t})=>t),li.Z,(0,_.P1)(((e,{linkedKey:t})=>t),((e,{metricsContext:t})=>t),mc.Z,((e,t,n)=>{const r={};return t&&(r.context=t),(0,hc.Z)(n,{isLibraryProvider:!0},e,r)})),(0,Tn.Z)(),(0,uc.Z)(),sl(),((e,t,n,r,i,a,s)=>{const o=t===pc.ly,l=t===pc.pn,c=Rt().pick(i,"type","title","grandparentTitle","index","parentIndex","originallyAvailableAt"),d=Ic({providerEntityID:s,prePlayRoute:r,isComplete:o,hasError:l,hasSubscription:!!e,showPlay:o&&!!r,timeFormat:n},c);return a?(d.isRecording=!0,d.isPostProcessing=a.Context.status===pc.jN,d.recordingProgress=a.progress):(d.isRecording=!1,d.isPostProcessing=!1),d}))}),Pc)(bc);var Zc=n(55855),wc=n(10829),Sc=n(16950),Cc=n(3510),Oc=n(86192),Tc=n(76651),Mc=n(55949),Nc=n(99539),Ac=n(63135),xc=n(74249),Rc=n(45181),kc=n(17516),jc=n(88140),Gc=n(95352),Lc=n(20946);const Hc=function({children:e,mediaItem:t}){const n=t&&t.videoResolution;let i,a=!1;if(n){const e=parseInt(n,10);a=!0,i=e>=720||4===e||8===e}return e||a?r.createElement(Gc.Z,null,e,a?r.createElement(Lc.Z,{label:(0,O.Z)("Video")},i?(0,O.Z)("HD"):(0,O.Z)("SD")):null):null};var Fc=n(23944);const Bc=function(e){const{children:t,beginsAt:n,endsAt:i,channel:a,timeFormat:s}=e;if(!n||!i)return null;const o=Date.now()/1e3;let l;return l=i<o?(0,O.Z)("Aired"):n<=o&&i>=o?(0,O.Z)("Airing"):(0,O.Z)("Airs"),r.createElement(Lc.Z,{label:l},r.createElement(Fc.Z,{beginsAt:n,channel:a,endsAt:i,showChannel:!0,showFullTime:!0,timeFormat:s}),t)};var Vc=n(26397),Wc=n(64303);const _c="AiringDetailsModalContent-separator-aVukP8 DashSeparator-separator-_3fMys";var Kc=Object.prototype.hasOwnProperty,zc=Object.getOwnPropertySymbols,Uc=Object.prototype.propertyIsEnumerable;const $c=function(e){const t=e,{serverEntityID:n,providerEntityID:i,summary:a,error:s,mediaItem:o,isComplete:l,hasError:c,isRecording:d,recordingProgress:u,timeFormat:m,onRecordingModify:p,onModalClose:h}=t,y=((e,t)=>{var n={};for(var r in e)Kc.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&zc)for(var r of zc(e))t.indexOf(r)<0&&Uc.call(e,r)&&(n[r]=e[r]);return n})(t,["serverEntityID","providerEntityID","summary","error","mediaItem","isComplete","hasError","isRecording","recordingProgress","timeFormat","onRecordingModify","onModalClose"]),{beginsAt:v,endsAt:E,startOffsetSeconds:f,endOffsetSeconds:g,channelTitle:I,channelShortTitle:P}=o,b=!(!f&&!g),D=f&&Math.round(f/60),Z=g&&Math.round(g/60);return r.createElement(jc.Z,{onModalClose:h},r.createElement(kc.Z,null,(0,O.Z)("Airing Details")),r.createElement(Ac.Z,null,r.createElement(Wc.Z,{hint:y,providerEntityID:i,serverEntityID:n},r.createElement(Hc,{mediaItem:o},r.createElement(Bc,{beginsAt:v,channel:P||I,endsAt:E,showChannel:!0,showFullTime:!0,timeFormat:m},r.createElement("div",null,l?r.createElement("span",null,r.createElement(Co.Z,{className:"AiringDetailsModalContent-completeIcon-hiEuv0"}),(0,O.Z)("Recorded successfully")):null,d?r.createElement("span",null,r.createElement(Nc.Z,{className:"AiringDetailsModalContent-recordingIcon-Jd0qzc"}),(0,O.Z)("Recording"),r.createElement(En.Z,{className:_c}),(0,O.Z)("{recordingProgress}% complete",{recordingProgress:u})):null,c?r.createElement("span",null,r.createElement(Vc.Z,{className:"AiringDetailsModalContent-errorIcon-d1zdOh"}),s):null,l||d||c||!b?null:r.createElement("span",null,D?r.createElement("span",null,(0,O.Z)("Recording starts {minuteOffset} min early",{minuteOffset:D}),Z?r.createElement("span",null,r.createElement(En.Z,{className:_c}),(0,O.Z)("Ends {minuteOffset} min late",{minuteOffset:Z})):null):r.createElement("span",null,(0,O.Z)("Recording ends {minuteOffset} min late",{minuteOffset:Z})))))),r.createElement("div",{className:"AiringDetailsModalContent-summary-miy4_v"},a))),r.createElement(xc.Z,null,r.createElement(Rc.Z,null,r.createElement(Rn.Z,{kind:jn.TP,size:yt.M2,onPress:p},(0,O.Z)("Modify Recording")),r.createElement(Rn.Z,{kind:jn._8,size:yt.M2,onPress:h},(0,O.Z)("Close")))))};var qc=Object.defineProperty,Qc=Object.prototype.hasOwnProperty,Xc=Object.getOwnPropertySymbols,Yc=Object.prototype.propertyIsEnumerable,Jc=(e,t,n)=>t in e?qc(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const ed=(0,l.$j)((function(){return(0,_.P1)(li.Z,(0,Tn.Z)(),((e,t)=>{const n=Rt().pick(t,"type","title","parentTitle","grandparentTitle","thumb","parentThumb","grandparentThumb","index","parentIndex","originallyAvailableAt","summary");return n.timeFormat=e,n}))}))((function(e){return r.createElement($c,((e,t)=>{for(var n in t||(t={}))Qc.call(t,n)&&Jc(e,n,t[n]);if(Xc)for(var n of Xc(t))Yc.call(t,n)&&Jc(e,n,t[n]);return e})({},e))}));var td=Object.defineProperty,nd=Object.prototype.hasOwnProperty,rd=Object.getOwnPropertySymbols,id=Object.prototype.propertyIsEnumerable,ad=(e,t,n)=>t in e?td(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const sd=function(e){const t=e,{isOpen:n,metricsProperties:a,metadataItemEntityID:s,onRecordingModify:o,onModalClose:l}=t,c=((e,t)=>{var n={};for(var r in e)nd.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&rd)for(var r of rd(e))t.indexOf(r)<0&&id.call(e,r)&&(n[r]=e[r]);return n})(t,["isOpen","metricsProperties","metadataItemEntityID","onRecordingModify","onModalClose"]);return r.createElement(Mc.Z,{isOpen:n,metricsPage:i.go,metricsProperties:a,onModalClose:l},r.createElement(ed,((e,t)=>{for(var n in t||(t={}))nd.call(t,n)&&ad(e,n,t[n]);if(rd)for(var n of rd(t))id.call(t,n)&&ad(e,n,t[n]);return e})({metadataItemEntityID:s,onModalClose:l,onRecordingModify:o},c)))};var od=n(86979),ld=n(31722);const cd=function({error:e,onPress:t}){return r.createElement(od.Z,{className:"CalendarErrorButton-errorButton-LLLvop",component:gr.Z,tooltip:e,tooltipAttachment:ld.eO,tooltipClassName:"CalendarErrorButton-errorTooltip-QfnyWQ Tooltip-bottomCenter-kGnBM4 Tooltip-tooltip-VFBXza Tooltip-tooltipArrow-rrJjO7 Tooltip-tooltipTopArrow-zHVo6b Tooltip-tooltipCenterAlignArrow-Y8ToMu",onPress:t},r.createElement(Vc.Z,{"aria-label":e}))},dd={context:je.AGENDA};class ud extends r.Component{constructor(e,t){super(e,t),this.onLinkPress=e=>{this.setState({isAiringDetailsModalOpen:!0})},this.onConflictIconPress=e=>{this.setState({isConflictsModalOpen:!0})},this.onRecordingModify=()=>{this.setState({isAiringDetailsModalOpen:!1,isSubscribeModalOpen:!0})},this.onAiringDetailsModalClose=()=>{this.setState({isAiringDetailsModalOpen:!1})},this.onSubscribeModalClose=()=>{this.setState({isSubscribeModalOpen:!1,isConflictsModalOpen:!1})},this.state={isAiringDetailsModalOpen:!1,isSubscribeModalOpen:!1,isConflictsModalOpen:!1}}shouldComponentUpdate(e,t){return(0,ya.Z)(this,e,t)}render(){const{serverEntityID:e,providerEntityID:t,mediaSubscriptionEntityID:n,metadataItemEntityID:i,prePlayRoute:a,type:s,title:o,grandparentTitle:l,index:c,parentIndex:d,originallyAvailableAt:u,error:m,mediaItem:p,isRecording:h,isPostProcessing:y,recordingProgress:v,isComplete:E,hasError:f,hasSubscription:g,hasConflicts:I,showPlay:P,showDate:b,timeFormat:D,onPlayPress:Z}=this.props,{isAiringDetailsModalOpen:w,isSubscribeModalOpen:S,isConflictsModalOpen:C}=this.state,{beginsAt:T,endsAt:M,startOffsetSeconds:N=0,endOffsetSeconds:A=0,premiere:x}=p,R=(0,pi.Z)(T),k=(0,yn.Z)(T-N,M+A,{timeFormat:D}),j=(0,us.Z)(T);let G;G=(0,Sc.Z)(T)?(0,O.Z)("Yesterday"):j?(0,O.Z)("Today"):(0,O.Z)("{dayOfWeek}, {monthNumber} {dayNumber}",{dayOfWeek:(0,Ai.Z)(T,{abbreviate:!0}),monthNumber:(0,wc.Z)(T,{abbreviate:!0}),dayNumber:(0,Zc.Z)(R)});const L=l||o,H=function(e,t,n,r,i,a){return"episode"!==e?n:`${t} - ${(0,Cc.Z)({seasonIndex:r,episodeIndex:i,date:a})} - ${n}`}(s,l,o,d,c,u);return r.createElement("div",{className:yr()("AgendaEvent-event-PenYYt",E&&"AgendaEvent-isComplete-lSFdtc",f&&"AgendaEvent-hasError-_jwzDV")},r.createElement(gr.Z,{className:"AgendaEvent-underlay-XmZL0H",to:a,onPress:a?void 0:this.onLinkPress}),r.createElement("div",{className:"AgendaEvent-overlay-SXWjq8"},r.createElement("div",{className:yr()("AgendaEvent-date-tMiZ9l",j&&"AgendaEvent-isToday-TIKGCt")},b?G:null),r.createElement("div",{className:"AgendaEvent-time-Vr9Pcu"},k),r.createElement("div",{className:"AgendaEvent-title-thgBZY",title:H},x?r.createElement(Cr,null):null,L,r.createElement("div",{className:"AgendaEvent-titleDetails-NjjPEO"},"movie"===s?r.createElement(Dn.Z,{metadataItemEntityID:i}):null,"episode"===s?r.createElement(Pn.Z,{metadataItemEntityID:i}):null)),r.createElement("div",{className:"AgendaEvent-status-ra3bni"},!h||y||f?null:r.createElement("div",{className:"AgendaEvent-recording-a_P8Pj"},r.createElement(Tc.Z,{backgroundClassName:"AgendaEvent-recordingProgressBackground-sPplXa CircularProgressBar-circularProgressBarBackground-BcC4L1 CircularProgressBar-circularProgressBarBackground-Bw4kwM",lineWidth:2,progress:v,showProgressText:!1,size:24}),r.createElement("span",{className:"AgendaEvent-recordingIcon-MvSNog"})),h&&y&&!f?r.createElement(Oc.Z,null):null,P?r.createElement(Nn.Z,{title:o,onPress:Z}):null,f?r.createElement(cd,{error:m,onPress:I?this.onConflictIconPress:this.onLinkPress}):null)),g?r.createElement(sd,{error:m,hasError:f,hasSubscription:g,isComplete:E,isOpen:w,isRecording:h,mediaItem:p,metadataItemEntityID:i,metricsProperties:dd,providerEntityID:t,recordingProgress:v,serverEntityID:e,onModalClose:this.onAiringDetailsModalClose,onRecordingModify:this.onRecordingModify}):null,g?r.createElement(St.Z,{isOpen:S||C,isRecordingSchedule:!0,mediaSubscriptionEntityID:n,metadataItemEntityID:i,metricsProperties:dd,providerEntityID:t,serverEntityID:e,showConflicts:C,subscriptionType:s,onModalClose:this.onSubscribeModalClose}):null)}}const md=ud,pd=(0,l.$j)((function(){return(0,_.P1)((e=>e.ui.recordingSchedulePage.calendar),(e=>({events:e.scheduled})))}))((function({serverEntityID:e,events:t}){return r.createElement("div",null,t.map(((n,i)=>{const a=(0,pi.Z)(n.beginsAt),s=0===i||!(0,yi.Z)((0,pi.Z)(t[i-1].beginsAt),a),o=(0,y.Z)(g.PK,n.mediaSubscriptionID,e);return r.createElement(Dc,{key:i,component:md,error:n.error,eventID:n.metadataItem.key,hasConflicts:!(!n.conflicts||!n.conflicts.length),linkedKey:n.linkedKey,mediaItem:n.mediaItem,mediaSubscriptionEntityID:o,mediaSubscriptionID:n.mediaSubscriptionID,metadataItemEntityID:n.metadataItem,providerID:n.identifier||n.provider,serverEntityID:e,showDate:s,status:n.status})})))}));function hd(e,t){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var n=(0,vr.Z)(e,t),r=n.getFullYear();return r}function yd(e){const t=(0,pi.Z)(e);return(0,O.Z)("{month} {dayNumber}, {year}",{month:(0,wc.Z)(e),dayNumber:(0,Zc.Z)(t),year:hd(t)})}const vd=function({startTime:e,endTime:t}){const n=(0,pi.Z)(e),i=(0,pi.Z)(t),a=(0,yi.Z)(n,i)?yd(e):`${function(e){const t=(0,pi.Z)(e);return(0,O.Z)("{month} {dayNumber}",{month:(0,wc.Z)(e),dayNumber:(0,Zc.Z)(t)})}(e)}  ${yd(t)}`;return r.createElement("span",{className:"CalendarHeaderTitle-title-yhCQ8X"},a)};var Ed=Object.defineProperty,fd=Object.prototype.hasOwnProperty,gd=Object.getOwnPropertySymbols,Id=Object.prototype.propertyIsEnumerable,Pd=(e,t,n)=>t in e?Ed(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const bd=(0,l.$j)((function(){return(0,_.P1)((e=>e.ui.recordingSchedulePage),(e=>{const{firstEvent:t,lastEvent:n}=e.calendar;return{startTime:t?t.beginsAt:void 0,endTime:n?n.beginsAt:void 0}}))}))((function(e){return r.createElement("div",{className:"AgendaHeader-agendaHeader-Y2wvE3"},r.createElement(vd,((e,t)=>{for(var n in t||(t={}))fd.call(t,n)&&Pd(e,n,t[n]);if(gd)for(var n of gd(t))Id.call(t,n)&&Pd(e,n,t[n]);return e})({},e)))})),Dd=(0,l.$j)((function(){return(0,_.P1)((e=>e.ui.recordingSchedulePage),(e=>{const{mediaSubscriptions:t,calendar:n,isCalendarPopulated:r,calendarError:i}=e;return{showError:!r&&!!i,isEmpty:!n.scheduled.length,subscriptionCount:t.length}}))}))((function(e){const{serverEntityID:t,showError:n,isEmpty:i,subscriptionCount:a}=e;return n?r.createElement(Sa.Z,{title:(0,O.Z)("There was an error loading the agenda")}):i?r.createElement(dc,{subscriptionCount:a}):r.createElement("div",null,r.createElement(bd,null),r.createElement(pd,{serverEntityID:t}))})),Zd={context:je.CALENDAR};class wd extends r.Component{constructor(e,t){super(e,t),this.onLinkPress=e=>{this.setState({isAiringDetailsModalOpen:!0})},this.onConflictIconPress=e=>{this.setState({isConflictsModalOpen:!0})},this.onRecordingModify=()=>{this.setState({isAiringDetailsModalOpen:!1,isSubscribeModalOpen:!0})},this.onAiringDetailsModalClose=()=>{this.setState({isAiringDetailsModalOpen:!1})},this.onSubscribeModalClose=()=>{this.setState({isSubscribeModalOpen:!1,isConflictsModalOpen:!1})},this.state={isAiringDetailsModalOpen:!1,isSubscribeModalOpen:!1,isConflictsModalOpen:!1}}shouldComponentUpdate(e,t){return(0,ya.Z)(this,e,t)}render(){const{serverEntityID:e,providerEntityID:t,mediaSubscriptionEntityID:n,metadataItemEntityID:i,prePlayRoute:a,type:s,grandparentTitle:o,title:l,error:c,mediaItem:d,isRecording:u,isPostProcessing:m,recordingProgress:p,isComplete:h,hasError:y,hasSubscription:v,hasConflicts:E,showPlay:f,timeFormat:g,onPlayPress:I}=this.props,{isAiringDetailsModalOpen:P,isSubscribeModalOpen:b,isConflictsModalOpen:D}=this.state,{beginsAt:Z,endsAt:w,startOffsetSeconds:S=0,endOffsetSeconds:C=0,premiere:O}=d,T=(0,yn.Z)(Z-S,w+C,{includeMinuteZero:!1,timeFormat:g}),M=o||l;return r.createElement("div",{className:yr()("CalendarEvent-event-KjyEXP",h&&"CalendarEvent-isComplete-yvCO2_",y&&"CalendarEvent-hasError-W97ZeH")},r.createElement(gr.Z,{className:"CalendarEvent-underlay-NibxML",to:a,onPress:a?void 0:this.onLinkPress}),r.createElement("div",{className:"CalendarEvent-overlay-NaT7di"},r.createElement("div",{className:"CalendarEvent-title-_SlooU",title:M},M),r.createElement("div",{className:"CalendarEvent-secondaryInfo-ZR7At4"},r.createElement("div",{className:"CalendarEvent-time-ebPM1y"},T),O?r.createElement(Cr,null):null),r.createElement("div",{className:"CalendarEvent-status-PzG0OH"},!u||m||y?null:r.createElement("div",{className:"CalendarEvent-recording-DGNhNq"},r.createElement(Tc.Z,{backgroundClassName:"CalendarEvent-recordingProgressBackground-yCB7KR CircularProgressBar-circularProgressBarBackground-BcC4L1 CircularProgressBar-circularProgressBarBackground-Bw4kwM",lineWidth:2,progress:p,showProgressText:!1,size:24}),r.createElement("span",{className:"CalendarEvent-recordingIcon-pbWdc5"})),u&&m&&!y?r.createElement(Oc.Z,null):null,f?r.createElement(Nn.Z,{title:l,onPress:I}):null,y?r.createElement(cd,{error:c,onPress:E?this.onConflictIconPress:this.onLinkPress}):null)),v?r.createElement(sd,{error:c,hasError:y,isComplete:h,isOpen:P,isRecording:u,mediaItem:d,metadataItemEntityID:i,metricsProperties:Zd,providerEntityID:t,recordingProgress:p,serverEntityID:e,onModalClose:this.onAiringDetailsModalClose,onRecordingModify:this.onRecordingModify}):null,v?r.createElement(St.Z,{isOpen:b||D,isRecordingSchedule:!0,mediaSubscriptionEntityID:n,metadataItemEntityID:i,metricsProperties:Zd,providerEntityID:t,serverEntityID:e,showConflicts:D,subscriptionType:s,onModalClose:this.onSubscribeModalClose}):null)}}const Sd=wd;var Cd=Object.defineProperty,Od=Object.prototype.hasOwnProperty,Td=Object.getOwnPropertySymbols,Md=Object.prototype.propertyIsEnumerable,Nd=(e,t,n)=>t in e?Cd(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const Ad=(0,l.$j)((function(){return(0,_.P1)((e=>e.ui.recordingSchedulePage.calendar),((e,{date:t})=>t),((e,t)=>({events:e.scheduled.filter((({beginsAt:e})=>(0,yi.Z)((0,pi.Z)(e),(0,pi.Z)(t))))})))}))((function({serverEntityID:e,events:t}){return r.createElement("div",null,t.map(((t,n)=>{const i=(0,y.Z)(g.PK,t.mediaSubscriptionID,e);return r.createElement(Dc,{key:n,component:Sd,error:t.error,eventID:t.metadataItem.key,hasConflicts:!(!t.conflicts||!t.conflicts.length),linkedKey:t.linkedKey,mediaItem:t.mediaItem,mediaSubscriptionEntityID:i,mediaSubscriptionID:t.mediaSubscriptionID,metadataItemEntityID:t.metadataItem,providerID:t.identifier||t.provider,serverEntityID:e,status:t.status})})))}));Ad.propTypes=((e,t)=>{for(var n in t||(t={}))Od.call(t,n)&&Nd(e,n,t[n]);if(Td)for(var n of Td(t))Md.call(t,n)&&Nd(e,n,t[n]);return e})({date:re().number.isRequired},Ad.propTypes);const xd=Ad,Rd=function({serverEntityID:e,date:t}){return r.createElement("div",{className:"CalendarDay-day-CG2muM"},r.createElement(xd,{date:t,serverEntityID:e}))};var kd=Object.defineProperty,jd=Object.prototype.hasOwnProperty,Gd=Object.getOwnPropertySymbols,Ld=Object.prototype.propertyIsEnumerable,Hd=(e,t,n)=>t in e?kd(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const Fd=(0,l.$j)((function(){return(0,_.P1)((e=>e.ui.recordingSchedulePage),(e=>({days:e.calendar.days})))}))((function(e){var t=e,{days:n}=t,i=((e,t)=>{var n={};for(var r in e)jd.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&Gd)for(var r of Gd(e))t.indexOf(r)<0&&Ld.call(e,r)&&(n[r]=e[r]);return n})(t,["days"]);return r.createElement("div",{className:"CalendarDays-calendarDays-YaP3Tf"},n.map((e=>r.createElement(Rd,((e,t)=>{for(var n in t||(t={}))jd.call(t,n)&&Hd(e,n,t[n]);if(Gd)for(var n of Gd(t))Ld.call(t,n)&&Hd(e,n,t[n]);return e})({key:e,date:e},i)))))}));var Bd=n(78966);const Vd=function({date:e}){const t=(0,us.Z)(e);let n;if((0,Sc.Z)(e))n=(0,O.Z)("Yesterday");else if(t)n=(0,O.Z)("Today");else{const t=(0,pi.Z)(e);n=(0,O.Z)("{dayOfWeek} {monthNumber}/{dayNumber}",{dayOfWeek:(0,Ai.Z)(e,{abbreviate:!0}),monthNumber:(0,Bd.Z)(t)+1,dayNumber:(0,Zc.Z)(t)})}return r.createElement("div",{className:yr()("CalendarDayOfWeek-dayOfWeek-zDLtCd",t&&"CalendarDayOfWeek-isToday-FhWrT0"),title:n},n)};var Wd=Object.defineProperty,_d=Object.prototype.hasOwnProperty,Kd=Object.getOwnPropertySymbols,zd=Object.prototype.propertyIsEnumerable,Ud=(e,t,n)=>t in e?Wd(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const $d=(0,l.$j)((function(){return(0,_.P1)((e=>e.ui.recordingSchedulePage.calendar),(e=>({daysOfWeek:e.daysOfWeek})))}))((function(e){var t=e,{daysOfWeek:n}=t,i=((e,t)=>{var n={};for(var r in e)_d.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&Kd)for(var r of Kd(e))t.indexOf(r)<0&&zd.call(e,r)&&(n[r]=e[r]);return n})(t,["daysOfWeek"]);return r.createElement("div",{className:"CalendarDaysOfWeek-container-ljeoIn"},n.map((e=>r.createElement(Vd,((e,t)=>{for(var n in t||(t={}))_d.call(t,n)&&Ud(e,n,t[n]);if(Kd)for(var n of Kd(t))zd.call(t,n)&&Ud(e,n,t[n]);return e})({key:e,date:e},i)))))})),qd="CalendarHeader-calendarHeader-RDW2rW",Qd="CalendarHeader-calendarNav-kzSOqn Link-link-SxPFpG",Xd="CalendarHeader-calendarNavDisabled-Rs4dGm";var Yd=Object.defineProperty,Jd=Object.prototype.hasOwnProperty,eu=Object.getOwnPropertySymbols,tu=Object.prototype.propertyIsEnumerable,nu=(e,t,n)=>t in e?Yd(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const ru=function(e){const{hasPastEvents:t,hasFutureEvents:n,onGoToPreviousRangePress:i,onGoToNextRangePress:a}=e;return r.createElement("div",{className:qd},r.createElement("div",{className:qd},r.createElement(gr.Z,{className:yr()(Qd,!t&&Xd),isDisabled:!t,kind:jn.TP,size:yt.M2,onPress:i},r.createElement(sn.e,{"aria-label":(0,O.Z)("Previous Page")})),r.createElement(vd,((e,t)=>{for(var n in t||(t={}))Jd.call(t,n)&&nu(e,n,t[n]);if(eu)for(var n of eu(t))tu.call(t,n)&&nu(e,n,t[n]);return e})({},e)),r.createElement(gr.Z,{className:yr()(Qd,!n&&Xd),isDisabled:!n,kind:jn.TP,size:yt.M2,onPress:a},r.createElement(on.V,{"aria-label":(0,O.Z)("Next Page")}))))};var iu=Object.defineProperty,au=Object.prototype.hasOwnProperty,su=Object.getOwnPropertySymbols,ou=Object.prototype.propertyIsEnumerable,lu=(e,t,n)=>t in e?iu(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,cu=(e,t)=>{for(var n in t||(t={}))au.call(t,n)&&lu(e,n,t[n]);if(su)for(var n of su(t))ou.call(t,n)&&lu(e,n,t[n]);return e};const du=(0,l.$j)((function(){return(0,_.P1)((e=>e.ui.recordingSchedulePage),(e=>{const t=Rt().pick(e.calendar,"time","startTime","endTime","hasPastEvents","hasFutureEvents");return cu({},t)}))}))((function(e){return r.createElement(ru,cu({},e))}));class uu extends r.Component{constructor(e,t){super(e,t),this.onMeasure=({width:e})=>{const t=this.state.visibleDays,n=Math.min(Math.floor(e/120),7);n!==t&&this.props.onVisibleDaysChange(n),this.setState({width:e,visibleDays:n})},this.state={width:null,visibleDays:0}}render(){const{serverEntityID:e,showError:t,isEmpty:n,subscriptionCount:i,visibleDays:a,onGoToPreviousRangePress:s,onGoToNextRangePress:o}=this.props;return t?r.createElement(Sa.Z,{title:(0,O.Z)("There was an error loading the calendar")}):n?r.createElement(dc,{subscriptionCount:i}):r.createElement(bt.Z,{className:"Calendar-calendar-DdlxLx",ignoreHeight:!0,onMeasure:this.onMeasure},a===this.state.visibleDays?r.createElement("div",null,r.createElement(du,{onGoToNextRangePress:o,onGoToPreviousRangePress:s}),r.createElement($d,null),r.createElement(Fd,{serverEntityID:e})):null)}}const mu=uu;var pu=Object.defineProperty,hu=Object.prototype.hasOwnProperty,yu=Object.getOwnPropertySymbols,vu=Object.prototype.propertyIsEnumerable,Eu=(e,t,n)=>t in e?pu(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;class fu extends r.Component{constructor(){super(...arguments),this.onVisibleDaysChange=e=>{(0,v.c9)((()=>{this.props.setVisibleDays({visibleDays:e})}))},this.onGoToPreviousRangePress=()=>{this.props.goToPreviousRange()},this.onGoToNextRangePress=()=>{this.props.goToNextRange()}}render(){return r.createElement(mu,((e,t)=>{for(var n in t||(t={}))hu.call(t,n)&&Eu(e,n,t[n]);if(yu)for(var n of yu(t))vu.call(t,n)&&Eu(e,n,t[n]);return e})({onGoToNextRangePress:this.onGoToNextRangePress,onGoToPreviousRangePress:this.onGoToPreviousRangePress,onVisibleDaysChange:this.onVisibleDaysChange},this.props))}}const gu=(0,l.$j)((function(){return(0,_.P1)((e=>e.ui.recordingSchedulePage),(e=>{const{mediaSubscriptions:t,calendar:n,isCalendarPopulated:r,calendarError:i}=e;return{showError:!r&&!!i,isEmpty:!n.scheduled.length,subscriptionCount:t.length,visibleDays:n.visibleDays}}))}),qo)(fu);var Iu=n(27586);const Pu=(0,l.$j)((function(){return(0,_.P1)(((e,{sourceDirectory:t})=>t),(0,Ke.Z)(),(0,_e.Z)(),((e,t,n)=>({guideRoute:(0,Fe.ZP)(Fe.tk.GUIDE,t,n,e)})))}))((function(e){const{serverEntityID:t,showSpinner:n,showEmptyState:i,programGuideIdentifier:a,selectedViewType:s,guideRoute:o}=e;return n?r.createElement(il.Z,null,r.createElement(Ea.Z,null,r.createElement(vt.Z,null))):i&&a?r.createElement(il.Z,null,r.createElement(Ea.Z,{description:r.createElement(rl.Z,{message:(0,O.Z)("Check out the {openLink}Guide{closeLink} to browse available programming"),tags:[{open:"openLink",close:"closeLink",component:gr.Z,kind:jn._8,to:o}]}),iconComponent:nl,title:(0,O.Z)("You have no recordings scheduled")})):i&&!a?r.createElement(il.Z,null,r.createElement(Ea.Z,{description:(0,O.Z)("You need a DVR before you can schedule recordings"),iconComponent:nl,title:(0,O.Z)("You have no recordings scheduled")})):r.createElement("div",{className:"RecordingSchedulePageContent-schedulePageContent-ep1GkU PageContent-pageContent-rk0p0C"},r.createElement(il.Z,{innerClassName:"RecordingSchedulePageContent-schedulePageInnerContent-hL2b2b PageContent-innerPageContent-m6ARXd"},s===Iu.XN?r.createElement(gu,{serverEntityID:t}):null,s===Iu.JF?r.createElement(Dd,{serverEntityID:t}):null),r.createElement(cc,{guideRoute:o,providerID:a,serverEntityID:t}))}));var bu=n(863);function Du(e){return e===Iu.JF?(0,O.Z)("Agenda View"):(0,O.Z)("Calendar View")}class Zu extends r.Component{constructor(e,t){super(e,t),this.onViewsMenuButtonPress=e=>{this.setState({isViewsMenuOpen:!this.state.isViewsMenuOpen})},this.onViewsMenuClose=()=>{this.setState({isViewsMenuOpen:!1})},this.state={isViewsMenuOpen:!1},this._viewsMenuButtonID=(0,mo.Z)()}shouldComponentUpdate(e,t){return(0,ya.Z)(this,e,t)}render(){const{serverEntityID:e,providerEntityID:t,sourceDirectory:n,selectedViewType:i,showEPGActivity:a}=this.props,{isViewsMenuOpen:s}=this.state;return r.createElement(r.Fragment,null,r.createElement(Ce.Z,null,r.createElement(pt.Z,{providerEntityID:t,serverEntityID:e,sourceDirectory:n}),r.createElement(mt,{directoryKey:Fe.tk.RECORDING_SCHEDULE,providerEntityID:t,serverEntityID:e,sourceDirectory:n}),r.createElement(Be.Z,null)),r.createElement(po.Z,null,r.createElement(Se.Z,null,r.createElement(uo.Z,{hasMenu:!0,id:this._viewsMenuButtonID,isMenuOpen:s,onPress:this.onViewsMenuButtonPress},Du(i)),r.createElement(vi.Z,{isOpen:s,target:this._viewsMenuButtonID,onMenuClose:this.onViewsMenuClose},Iu.$6.map((e=>r.createElement(Ii.Z,{key:e,isSelected:i===e,to:(0,bu.Z)({view:e}),onPress:this.onViewsMenuClose},Du(e)))))),a?r.createElement(we.Z,null,r.createElement(Et,{providerEntityID:t,serverEntityID:e})):null))}}const wu=Zu,Su=(0,l.$j)((function(){return(0,_.P1)((0,ht.Z)(),(e=>({showEPGActivity:!!e})))}))(wu);var Cu=Object.defineProperty,Ou=Object.prototype.hasOwnProperty,Tu=Object.getOwnPropertySymbols,Mu=Object.prototype.propertyIsEnumerable,Nu=(e,t,n)=>t in e?Cu(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;class Au extends r.Component{shouldComponentUpdate(e,t){return(0,ya.Z)(this,e,t)}render(){const{serverEntityID:e,providerEntityID:t,sourceDirectory:n,selectedViewType:a}=this.props;return r.createElement(Ge.Z,{metricsContext:(0,Le.Z)(i.WT,je.DVR_SCHEDULE_PIVOT)},r.createElement(Pt.Z,{metricsPage:i.WT,metricsProperties:{pane:a},scrollDirection:He.Hn},r.createElement(Su,{providerEntityID:t,selectedViewType:a,serverEntityID:e,sourceDirectory:n}),r.createElement(q.Z,{providerEntityID:t,serverEntityID:e}),r.createElement(Pu,((e,t)=>{for(var n in t||(t={}))Ou.call(t,n)&&Nu(e,n,t[n]);if(Tu)for(var n of Tu(t))Mu.call(t,n)&&Nu(e,n,t[n]);return e})({},this.props))))}}const xu=Au,Ru={initRecordingSchedulePage:qo.initRecordingSchedulePage,clearRecordingSchedulePage:qo.clearRecordingSchedulePage,goToToday:qo.goToToday,fetchCalendar:qo.fetchCalendar,fetchMediaSubscriptions:qo.fetchMediaSubscriptions,saveExperienceSettings:ye.LN,changeQuickSearchSettings:f.changeQuickSearchSettings};class ku extends r.Component{constructor(e,t){super(e,t),this._updateCalendar=()=>{this.props.goToToday(),this.props.fetchCalendar(),this._resetUpdateTimeout()},this._updateTimeoutID=null}UNSAFE_componentWillMount(){this._populate(),this._resetUpdateTimeout(),this._saveViewType(),this.props.providerIdentifier&&this._setSearchProviderIdentifier(this.props.providerIdentifier)}UNSAFE_componentWillReceiveProps(e){const{serverEntityID:t,time:n,selectedViewType:r}=e;t!==this.props.serverEntityID&&this._populate(e),this._updateTimeoutID&&n!==this.props.time&&this._resetUpdateTimeout(),r!==this.props.selectedViewType&&this._saveViewType(e)}componentDidUpdate(e){const{providerIdentifier:t}=this.props;t&&t!==e.providerIdentifier&&this._setSearchProviderIdentifier(t)}componentWillUnmount(){this._updateTimeoutID&&window.clearTimeout(this._updateTimeoutID),this.props.clearRecordingSchedulePage(),this._setSearchProviderIdentifier(null)}_populate(e=this.props){(0,v.c9)((()=>{e.initRecordingSchedulePage({serverEntityID:e.serverEntityID}),e.fetchCalendar(),e.fetchMediaSubscriptions()}))}_setSearchProviderIdentifier(e){const{changeQuickSearchSettings:t,serverEntityID:n,providerEntityID:r,sourceDirectory:i}=this.props;let a;i&&(a=i.id),t({serverEntityID:n,providerEntityID:r,providerIdentifier:e,directoryID:a})}_resetUpdateTimeout(){this._updateTimeoutID&&window.clearTimeout(this._updateTimeoutID),this._updateTimeoutID=window.setTimeout(this._updateCalendar,36e5)}_saveViewType(e=this.props){e.saveExperienceSettings({calendarViewType:e.selectedViewType})}render(){const{serverEntityID:e,providerEntityID:t,sourceDirectory:n,selectedViewType:i,showSpinner:a,showEmptyState:s,programGuideIdentifier:o}=this.props;return this.props.isPagePopulated?r.createElement(xu,{programGuideIdentifier:o,providerEntityID:t,selectedViewType:i,serverEntityID:e,showEmptyState:s,showSpinner:a,sourceDirectory:n}):null}}const ju=(0,l.$j)((function(){return(0,_.P1)((e=>e.ui.recordingSchedulePage),((e,{selectedViewType:t})=>t),(0,_e.Z)(),la(),(0,_.P1)(Yo.Z,function(e,t=Jo){return(0,Qo.Z)(function(e,t){return(0,_.P1)(Yo.Z,Xo(),((n,r)=>r?r.reduce(((r,i)=>{const a=n[i];return a&&t(a)&&Rt().findWhere(a.features,{type:e})&&r.push(i),r}),[]):[]))}(e,t),(e=>e))}(Oa.Z.SUBSCRIBE),((e,t)=>{const n=t[0];if(n){const t=e[n];return t&&t.identifier}})),el.Z,((e,t,n,r,i,a)=>{const{isPagePopulated:s,isCalendarPopulated:o,calendarError:l,isMediaSubscriptionsPopulated:c,mediaSubscriptionsError:d,calendar:u}=e,m=!o&&!l||!c&&!d,p=!m&&c&&!e.mediaSubscriptions.length&&o&&!u.scheduled.length;return{sourceDirectory:r,providerIdentifier:n.identifier,isPagePopulated:s,showSpinner:m,showEmptyState:p,programGuideIdentifier:i,time:u?u.time:void 0,selectedViewType:t||a.calendarViewType}}))}),Ru)(ku);var Gu=n(69752),Lu=n(14308),Hu=n(28185),Fu=n(52338),Bu=Object.defineProperty,Vu=Object.prototype.hasOwnProperty,Wu=Object.getOwnPropertySymbols,_u=Object.prototype.propertyIsEnumerable,Ku=(e,t,n)=>t in e?Bu(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const zu=function(e){const t=e,{serverEntityID:n,providerEntityID:i,pivot:a,sourceDirectory:s,directoryKey:o,showSecondHeader:l,children:c}=t,d=((e,t)=>{var n={};for(var r in e)Vu.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&Wu)for(var r of Wu(e))t.indexOf(r)<0&&_u.call(e,r)&&(n[r]=e[r]);return n})(t,["serverEntityID","providerEntityID","pivot","sourceDirectory","directoryKey","showSecondHeader","children"]);return r.createElement(Hu.Z,((e,t)=>{for(var n in t||(t={}))Vu.call(t,n)&&Ku(e,n,t[n]);if(Wu)for(var n of Wu(t))_u.call(t,n)&&Ku(e,n,t[n]);return e})({className:Fu.Z.page},d),r.createElement(Ce.Z,null,r.createElement(pt.Z,{providerEntityID:i,serverEntityID:n,sourceDirectory:s}),a?r.createElement(mt,{directoryKey:o,providerEntityID:i,serverEntityID:n,sourceDirectory:s}):null,r.createElement(Be.Z,null)),l?r.createElement(po.Z,null):null,r.createElement(il.Z,null,c))};var Uu=n(72351);function $u({items:e,gap:t=0,existingItems:n=[]}){const r=Rt().sortBy(n,"position"),i=Rt().sortBy(e,"position");let a=-1/0;return i.forEach((e=>{const i=Rt().sortedIndex(n,e,"position"),s=n[i-1],o=n[i],l=e.position>a+t,c=!s||e.position>s.position+t,d=!o||e.position<o.position-t;l&&c&&d&&(r.push(e),a=e.position)})),Rt().sortBy(r,"position")}const qu="minor",Qu="major",Xu={container:"TickMarks-container-frZO0i",ticks:"TickMarks-ticks-qo5YPE",tick:"TickMarks-tick-A3yNkp",minor:"TickMarks-minor-ChSTCs TickMarks-tick-A3yNkp",major:"TickMarks-major-4a9f2K TickMarks-tick-A3yNkp",label:"TickMarks-label-PYLVQK"};function Yu(e){const{ticks:t,pixelProportion:n,majorTickGap:r,minorTickGap:i}=e,a=Rt().where(t,{type:Qu}),s=Rt().where(t,{type:qu}),o=$u({items:a,gap:n*r});return $u({items:s,existingItems:o,gap:n*i})}class Ju extends r.Component{constructor(e,t){super(e,t),this.state={ticks:Yu(e)}}UNSAFE_componentWillReceiveProps(e){const{ticks:t,pixelProportion:n,majorTickGap:r,minorTickGap:i}=e,a=this.props.ticks!==t,s=this.props.pixelProportion!==n,o=this.props.majorTickGap!==r,l=this.props.minorTickGap!==i;(a||s||o||l)&&this.setState({ticks:Yu(e)})}render(){return r.createElement("div",{className:Xu.container},r.createElement("div",{className:Xu.ticks},this.state.ticks.map((({type:e,position:t,label:n})=>r.createElement("div",{key:t,className:Xu[e],style:{top:100*t+"%"}},n&&"major"===e?r.createElement("div",{className:Xu.label},n):null)))))}}Ju.defaultProps={majorTickGap:20,minorTickGap:5};const em=Ju;var tm=n(67339),nm=n(67554),rm=n(24793),im=n(14782),am=n(337),sm=n(81603),om=n(13823),lm=n(83801),cm=n(94329);const dm=function(e){const t=(0,Yt.Z)(e);return r.createElement("div",{style:t.style},e.children)};class um extends r.Component{constructor(e,t){super(e,t),this.onSelectPress=()=>{const{isSelected:e,items:t,onSelectItems:n,onDeselectItems:r}=this.props;e?r(t):n(t)},this.state={layout:this._createLayout(e),cellRenderer:this._createCellRenderer(e)}}UNSAFE_componentWillReceiveProps(e){const t=e.aspectRatios!==this.props.aspectRatios,n=e.columns!==this.props.columns,r=e.viewportWidth!==this.props.viewportWidth,i=e.viewportHeight!==this.props.viewportHeight,a=e.serverEntityID!==this.props.serverEntityID,s=e.providerEntityID!==this.props.providerEntityID,o=e.metadataListEntityID!==this.props.metadataListEntityID,l=t||n||i||r,c=a||s||o;if(l||c){const t={};l&&(t.layout=this._createLayout(e)),c&&(t.cellRenderer=this._createCellRenderer(e)),this.setState(t)}}_createLayout(e){const t=(0,lm.Z)({aspectRatios:e.aspectRatios,columns:e.columns});return(0,om.Z)({columns:e.columns,rows:t,maximumHeight:e.cellHeight-(e.footerHeight+e.headerHeight)})}_createCellRenderer(e){const{serverEntityID:t,providerEntityID:n,metadataListEntityID:r,containerKey:i,listType:a}=e;return(0,cm.Z)({serverEntityID:t,providerEntityID:n,metadataListEntityID:r,containerKey:i,listType:a},sm.Z)}render(){const{cellIndex:e,cellX:t,cellY:n,cellWidth:i,cellHeight:a,isVirtual:s,title:o,items:l,size:c,viewportHeight:d,scrollTop:u,isSelected:m,hasSelection:p}=this.props,{layout:h,cellRenderer:y}=this.state;return r.createElement(dm,{cellHeight:a,cellIndex:e,cellWidth:i,cellX:t,cellY:n,isVirtual:s},r.createElement("div",{className:yr()(p&&"MetadataMomentCell-hasSelection-pp54EB","MetadataMomentCell-header-oKQGsr")},r.createElement("div",{className:"MetadataMomentCell-actions-L_WAU3"},r.createElement(am.Z,{className:"MetadataMomentCell-selectButton-sHo8jO SelectButton-selectButton-_goGWp",isSelected:m,title:o,onPress:this.onSelectPress})),r.createElement("div",{className:"MetadataMomentCell-title-spuo5n"},o)),r.createElement(im.Z,{cellRenderer:y,items:l,keyPropName:"metadataItemEntityID",layout:h,scrollTop:u-n,size:c,viewportHeight:d,viewportWidth:i}))}}um.defaultProps={headerHeight:0,footerHeight:0};const mm=um;function pm(){return(0,_.P1)(((e,{start:t})=>t),((e,{end:t})=>t),(0,ia.Z)(),((e,t,n)=>{const{populatedRange:r,metadataItems:i}=n;return e<r.start||t>r.end?Rt().times(t-e,(()=>null)):i.slice(e-r.start,t-r.start)}))}function hm(){return(0,_.P1)(pm(),aa.Z,((e,t)=>e.map((e=>t[e]))))}const ym=(0,l.$j)((function(){return(0,_.P1)((0,ia.Z)(),pm(),(0,_.P1)(((e,{avgAR:t})=>t),hm(),((e,t)=>t.map((t=>t?(0,tm.Z)(t,e):e)))),(0,_.P1)(hm(),nm.Z,((e,t)=>e.every((e=>e&&(0,rm.Z)(t,e.ratingKey))))),Lu.Z,((e,t,n,r,i)=>({containerKey:e.containerKey,listType:"photo",aspectRatios:n,items:t,isSelected:r,hasSelection:i.activeSelectionItems.length>0})))}),(function(e,t){return{onSelectItems(t){e((0,ua.Kn)({type:gn.PHOTO,ids:t}))},onDeselectItems(t){e((0,ua.XX)({ids:t}))}}}))(mm);var vm=Object.defineProperty,Em=Object.prototype.hasOwnProperty,fm=Object.getOwnPropertySymbols,gm=Object.prototype.propertyIsEnumerable,Im=(e,t,n)=>t in e?vm(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Pm=Object.defineProperty,bm=Object.prototype.hasOwnProperty,Dm=Object.getOwnPropertySymbols,Zm=Object.prototype.propertyIsEnumerable,wm=(e,t,n)=>t in e?Pm(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;class Sm extends r.Component{constructor(e,t){super(e,t),this.state={layout:this._createLayout(e)}}UNSAFE_componentWillReceiveProps(e){const t=e.items!==this.props.items,n=e.columns!==this.props.columns;(t||n)&&this.setState({layout:this._createLayout(e)})}_createLayout(e){return function(e){const t=e,{columns:n=1,areas:r=[],innerPaddingTop:i=0,innerPaddingBottom:a=0}=t;return Gt(((e,t)=>{for(var n in t||(t={}))Em.call(t,n)&&Im(e,n,t[n]);if(fm)for(var n of fm(t))gm.call(t,n)&&Im(e,n,t[n]);return e})({getCellHeights:function(e){return r.map((t=>function(e,t){return Math.max(1,Math.round(e/n))*t+(i+a)}(t,e/n)))}},((e,t)=>{var n={};for(var r in e)Em.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&fm)for(var r of fm(e))t.indexOf(r)<0&&gm.call(e,r)&&(n[r]=e[r]);return n})(t,["columns","areas","innerPaddingTop","innerPaddingBottom"])))}({columns:e.columns,areas:e.items.map((e=>e.area)),innerPaddingTop:e.headerHeight,innerPaddingBottom:e.footerHeight,outerPaddingTop:e.listPadding,outerPaddingRight:e.listPadding-e.listGutter,outerPaddingBottom:e.listPadding,outerPaddingLeft:e.listPadding})}render(){const{serverEntityID:e,providerEntityID:t,metadataListEntityID:n,columns:i,headerHeight:a,footerHeight:s,cellComponent:o}=this.props;return r.createElement(At.Z,((e,t)=>{for(var n in t||(t={}))bm.call(t,n)&&wm(e,n,t[n]);if(Dm)for(var n of Dm(t))Zm.call(t,n)&&wm(e,n,t[n]);return e})({cellRenderer:(0,cm.Z)({serverEntityID:e,providerEntityID:t,metadataListEntityID:n,columns:i,headerHeight:a,footerHeight:s},o),layout:this.state.layout},this.props))}}const Cm=Sm;var Om=Object.defineProperty,Tm=Object.prototype.hasOwnProperty,Mm=Object.getOwnPropertySymbols,Nm=Object.prototype.propertyIsEnumerable,Am=(e,t,n)=>t in e?Om(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const xm={dispatchPopulateMetadataListRange:ua.vp,dispatchDeselectAllMetadataListItems:ua.m8,dispatchResetMetadataList:ua.wZ};class Rm extends r.Component{constructor(){super(...arguments),this.onPageRequest=({startIndex:e,endIndex:t})=>{const{metadataListEntityID:n,disableReloadThreshold:r,items:i,dispatchPopulateMetadataListRange:a}=this.props;a({metadataListEntityID:n,disableReloadThreshold:r,startIndex:i[e].start,endIndex:i[t].end-1,pages:1})}}componentWillUnmount(){const{metadataListEntityID:e}=this.props;this.props.dispatchDeselectAllMetadataListItems({metadataListEntityID:e}),this.props.dispatchResetMetadataList({metadataListEntityID:e})}render(){const e=this.props,{dispatchPopulateMetadataListRange:t,dispatchDeselectAllMetadataListItems:n,dispatchResetMetadataList:i}=e,a=((e,t)=>{var n={};for(var r in e)Tm.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&Mm)for(var r of Mm(e))t.indexOf(r)<0&&Nm.call(e,r)&&(n[r]=e[r]);return n})(e,["dispatchPopulateMetadataListRange","dispatchDeselectAllMetadataListItems","dispatchResetMetadataList"]);return r.createElement(Cm,((e,t)=>{for(var n in t||(t={}))Tm.call(t,n)&&Am(e,n,t[n]);if(Mm)for(var n of Mm(t))Nm.call(t,n)&&Am(e,n,t[n]);return e})({onPageRequest:this.onPageRequest},a))}}const km=(0,l.$j)((function(){return(0,_.P1)(Lu.Z,(e=>({disableReloadThreshold:!!e.activeSelectionType})))}),xm)(Rm),jm=Math.max(0,parseInt(Ot.Z.timelineGutter,10)-40);class Gm extends r.Component{constructor(e,t){super(e,t),this.onListUpdate=e=>{const t=e.landmarks,n=e.listStyle&&e.listStyle.height;if(t!==this._landmarks){this._landmarks=t;const e=function(e,t){const n={},r={};return e.reduce(((e,{index:i,position:a})=>{const s=(0,en.Z)(1e3*t[i],"yyyy MM"),o=s.slice(0,4);return n[o]?r[s]||(r[s]=!0,e.push({position:a,type:qu})):(n[o]=!0,r[s]=!0,e.push({position:a,type:Qu,label:o})),e}),[])}(t,Rt().pluck(this.props.moments,"startsAt"));this.setState({ticks:e,listHeight:n})}},this.state={ticks:null,listHeight:null}}render(){const{serverEntityID:e,providerEntityID:t,metadataListEntityID:n,moments:i,columns:a,height:s,onMomentScrollIndexChange:o}=this.props,{ticks:l,listHeight:c}=this.state,d=1/s,u=c&&c>s;return i.length?r.createElement("div",{className:"TimelinePageContent-container-mvQDHr"},r.createElement(km,{cellComponent:ym,className:"TimelinePageContent-stack-vNqxhP PageContent-pageContent-rk0p0C",columns:a,footerHeight:59,hasNestedList:!0,items:i,keyPropName:"id",listGutter:jm,listPadding:55,metadataListEntityID:n,providerEntityID:t,scrollPositionStorageKey:"TimelinePageContent",scrollerClassName:"TimelinePageContent-scroller-Kg90e8",serverEntityID:e,size:i.length,onListScrollIndexChange:o,onListUpdate:this.onListUpdate}),r.createElement("div",{className:"TimelinePageContent-adornment-QvGJVk"},l&&u?r.createElement(em,{pixelProportion:d,ticks:l}):null)):r.createElement(il.Z,null,r.createElement(Ea.Z,{iconComponent:Uu.Z.photo,title:(0,O.Z)("There are no events in this library")}))}}const Lm=Gm;var Hm=n(59258),Fm=n(90792),Bm=n(69139),Vm=n(26759),Wm=n(8238),_m=n(89896),Km=n(13272);const zm={showPlayAll:$m,showShuffle:function({server:e,provider:t,stableUser:n,metadataList:r}){return $m({server:e,provider:t,stableUser:n,metadataList:r})&&!!t.features.playqueue},showQueue:function({server:e,provider:t,stableUser:n,metadataList:r}){return $m({server:e,provider:t,stableUser:n,metadataList:r})},showAddToPlaylist:function({server:e,provider:t,stableUser:n,metadataList:r}){return!(!e.isFullServer||!r.isFirstItemLibraryItem)},showAddToCatalog:function({server:e,provider:t,stableUser:n,metadataList:r}){return!!(t.features.actions&&t.features.actions.addToCatalog&&(0,_m.d)(n,t.features.actions.addToCatalog))},showSync:function({server:e,provider:t,stableUser:n,metadataList:r}){return!!Wm.Z.allowSync&&(!n.features[u.PL]&&!!(e.isFullServer&&e.allowSync&&r.isFirstItemLibraryItem&&r.allowSync))},showOptimize:function({server:e,provider:t,stableUser:n,metadataList:r}){return!!(e.isFullOwnedServer&&e.transcoderVideo&&r.isFirstItemLibraryItem)}},Um={mixed:[],movie:["showPlayAll","showShuffle","showQueue","showAddToPlaylist","showSync","showOptimize"],show:["showPlayAll","showShuffle","showQueue","showAddToPlaylist","showAddToCatalog","showSync","showOptimize"],season:["showPlayAll","showShuffle","showQueue","showAddToPlaylist","showSync","showOptimize"],episode:["showPlayAll","showShuffle","showQueue","showAddToPlaylist","showSync","showOptimize"],artist:["showPlayAll","showShuffle","showQueue","showAddToPlaylist","showSync"],album:["showPlayAll","showShuffle","showQueue","showAddToPlaylist","showSync"],track:["showPlayAll","showShuffle","showAddToCatalog","showQueue","showAddToPlaylist","showSync"],photoalbum:["showPlayAll","showShuffle","showAddToPlaylist","showSync"],photo:["showPlayAll","showShuffle","showAddToPlaylist","showSync"],clip:["showPlayAll","showShuffle","showAddToPlaylist","showSync","showOptimize"],genre:["showAddToCatalog"]};function $m({server:e,provider:t,stableUser:n,metadataList:r}){return(0,Km.Z)(e,t,n.features,r)}var qm=n(44777),Qm=n(8523),Xm=n(26316),Ym=n(36875),Jm=n(53942);class ep extends r.Component{constructor(e,t){super(e,t),this.onAddToCatalogPress=()=>{this.setState({isAddToCatalogModalOpen:!0})},this.onAddToCatalogClose=()=>{this.setState({isAddToCatalogModalOpen:!1})},this.onAddToPlaylistPress=()=>{this.setState({isAddToPlaylistModalOpen:!0})},this.onAddToPlaylistClose=()=>{this.setState({isAddToPlaylistModalOpen:!1}),this.props.onMenuClose()},this.state={isAddToCatalogModalOpen:!1,isAddToPlaylistModalOpen:!1}}createOnPress(e){return()=>{e(),this.props.onMenuClose()}}render(){const e=this.props,{isAddToCatalogModalOpen:t,isAddToPlaylistModalOpen:n}=this.state;return r.createElement("div",null,e.showPlayAll?r.createElement(So.Z,{onPress:this.createOnPress(e.onPlayAllPress)},(0,O.Z)("Play All")):null,e.showShuffle?r.createElement(So.Z,{onPress:this.createOnPress(e.onShufflePress)},(0,O.Z)("Shuffle")):null,e.showQueue?r.createElement(So.Z,{onPress:this.createOnPress(e.onPlayNextPress)},(0,O.Z)("Play Next")):null,e.showQueue?r.createElement(So.Z,{onPress:this.createOnPress(e.onAddToQueuePress)},(0,O.Z)("Add to Queue")):null,e.showAddToPlaylist?r.createElement(So.Z,{onPress:this.createOnPress(this.onAddToPlaylistPress)},(0,O.Z)("Add to Playlist...")):null,e.showAddToCatalog?r.createElement(So.Z,{onPress:this.onAddToCatalogPress},(e.listType,e.listSubtype===Xm.PODCAST?(0,O.Z)("Add Podcast by URL"):(0,O.Z)("Add to Catalog by URL"))):null,e.showSync?r.createElement(So.Z,{onPress:this.createOnPress(e.onSyncPress)},(0,O.Z)("Sync...")):null,e.showOptimize?r.createElement(So.Z,{onPress:this.createOnPress(e.onOptimizePress)},(0,O.Z)("Optimize...")):null,r.createElement(Ym.Z,{isOpen:t,providerEntityID:e.providerEntityID,onModalClose:this.onAddToCatalogClose}),e.showAddToPlaylist?r.createElement(Jm.Z,{isOpen:n,metadataListEntityID:e.metadataListEntityID,providerEntityID:e.providerEntityID,serverEntityID:e.serverEntityID,onModalClose:this.onAddToPlaylistClose}):null)}}const tp=ep;var np=Object.defineProperty,rp=Object.prototype.hasOwnProperty,ip=Object.getOwnPropertySymbols,ap=Object.prototype.propertyIsEnumerable,sp=(e,t,n)=>t in e?np(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const op=function(e){const t=e,{target:n,isOpen:i}=t,a=((e,t)=>{var n={};for(var r in e)rp.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&ip)for(var r of ip(e))t.indexOf(r)<0&&ap.call(e,r)&&(n[r]=e[r]);return n})(t,["target","isOpen"]);return r.createElement(vi.Z,{isOpen:e.isOpen,target:e.target,onMenuClose:e.onMenuClose},r.createElement(tp,((e,t)=>{for(var n in t||(t={}))rp.call(t,n)&&sp(e,n,t[n]);if(ip)for(var n of ip(t))ap.call(t,n)&&sp(e,n,t[n]);return e})({},a)))};var lp=n(9375),cp=n(96099),dp=n(5103),up=n(72245),mp=Object.defineProperty,pp=Object.prototype.hasOwnProperty,hp=Object.getOwnPropertySymbols,yp=Object.prototype.propertyIsEnumerable,vp=(e,t,n)=>t in e?mp(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;class Ep extends r.Component{constructor(e,t){super(e,t),this.onButtonPress=()=>{this.setState({isModalOpen:!0})},this.onModalClose=()=>{this.setState({isModalOpen:!1})},this.state={isModalOpen:!1}}render(){const e=this.props,{providerEntityID:t}=e,n=((e,t)=>{var n={};for(var r in e)pp.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&hp)for(var r of hp(e))t.indexOf(r)<0&&yp.call(e,r)&&(n[r]=e[r]);return n})(e,["providerEntityID"]);return r.createElement(dp.Z,((e,t)=>{for(var n in t||(t={}))pp.call(t,n)&&vp(e,n,t[n]);if(hp)for(var n of hp(t))yp.call(t,n)&&vp(e,n,t[n]);return e})({"data-testid":"toolbarAddCustomPodcast",tooltip:(0,O.Z)("Add Podcast by URL"),onPress:this.onButtonPress},n),r.createElement(up.Z,null),r.createElement(Ym.Z,{isOpen:this.state.isModalOpen,providerEntityID:t,onModalClose:this.onModalClose}))}}const fp=Ep;var gp=n(96865),Ip=n(75126),Pp=n(14665),bp=n(10904),Dp=n(33899),Zp=Object.defineProperty,wp=Object.prototype.hasOwnProperty,Sp=Object.getOwnPropertySymbols,Cp=Object.prototype.propertyIsEnumerable,Op=(e,t,n)=>t in e?Zp(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Tp=(e,t)=>{for(var n in t||(t={}))wp.call(t,n)&&Op(e,n,t[n]);if(Sp)for(var n of Sp(t))Cp.call(t,n)&&Op(e,n,t[n]);return e};class Mp extends r.Component{constructor(e,t){super(e,t),this.onPlayShortcut=()=>{this.props.showPlayAll&&this.props.onPlayAllPress()},this.onAddToPlaylistPress=()=>{this.setState({isAddToPlaylistModalOpen:!0,isSmartPlaylist:!1})},this.onAddToSmartPlaylistPress=()=>{this.setState({isAddToPlaylistModalOpen:!0,isSmartPlaylist:!0})},this.onAddToPlaylistClose=()=>{this.setState({isAddToPlaylistModalOpen:!1})},this.onActionsPress=e=>{this.setState({isActionsMenuOpen:!this.state.isActionsMenuOpen})},this.onActionsMenuClose=()=>{this.setState({isActionsMenuOpen:!1})},this.state={isActionsMenuOpen:!1,isAddToPlaylistModalOpen:!1,isSmartPlaylist:!1},this._moreButtonID=(0,mo.Z)()}componentDidMount(){Qm.Z.on("shortcut:playSelected",this.onPlayShortcut)}componentWillUnmount(){Qm.Z.off("shortcut:playSelected",this.onPlayShortcut)}render(){const{className:e,serverEntityID:t,providerEntityID:n,metadataListEntityID:i,customFilterRoute:a,showPlayAll:s,showPlayAllOverflow:o,showShuffle:l,showShuffleOverflow:c,showAddToPlaylist:d,showAddToPlaylistOverflow:u,showAddToSmartPlaylist:m,showAddToCatalog:p,showAddToCatalogOverflow:h,showSync:y,showSyncOverflow:v,showOverflow:E,onPlayAllPress:f,onShufflePress:g,onSyncPress:I}=this.props,{isActionsMenuOpen:P,isAddToPlaylistModalOpen:b,isSmartPlaylist:D}=this.state;return r.createElement("div",{className:e},s?r.createElement(Pp.Z,{playLabel:(0,O.Z)("Play All"),onPress:f}):null,l?r.createElement(bp.Z,{onPress:g}):null,d?r.createElement(gp.Z,{customFilterRoute:a,metadataListEntityID:i,providerEntityID:n,serverEntityID:t,showAddToSmartPlaylist:m,onAddToPlaylistPress:this.onAddToPlaylistPress,onAddToSmartPlaylistPress:this.onAddToSmartPlaylistPress}):null,p?r.createElement(fp,{providerEntityID:n}):null,y?r.createElement(Dp.Z,{onPress:I}):null,E?r.createElement(Ip.Z,{iconComponent:cp.Z,id:this._moreButtonID,isMenuOpen:P,label:(0,O.Z)("More..."),onPress:this.onActionsPress}):null,r.createElement(op,Tp(Tp({},this.props),{isOpen:P,showAddToCatalog:h,showAddToPlaylist:u,showPlayAll:o,showShuffle:c,showSync:v,target:this._moreButtonID,onMenuClose:this.onActionsMenuClose})),d?r.createElement(Jm.Z,{isOpen:b,metadataListEntityID:i,providerEntityID:n,serverEntityID:t,smart:D,onModalClose:this.onAddToPlaylistClose}):null)}}const Np=(0,lp.ZP)(Mp,["showPlayAll","showShuffle","showAddToPlaylist","showAddToCatalog","showSync"],["showOptimize","showQueue"]);var Ap=Object.defineProperty,xp=Object.prototype.hasOwnProperty,Rp=Object.getOwnPropertySymbols,kp=Object.prototype.propertyIsEnumerable,jp=(e,t,n)=>t in e?Ap(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Gp=(e,t)=>{for(var n in t||(t={}))xp.call(t,n)&&jp(e,n,t[n]);if(Rp)for(var n of Rp(t))kp.call(t,n)&&jp(e,n,t[n]);return e};const Lp=(0,We.Z)((function(){return(0,_.P1)(((e,{listType:t})=>t),mc.Z,Ve.Z,Vm.Z,(0,ia.Z)(),((e,t,n,r,i)=>function({server:e,provider:t,stableUser:n,metadataList:r,listType:i}){const a=i||r.firstItemType||"mixed",s=Um[a];return s?s.reduce(((i,s)=>{const o=zm[s];return(0,kt.Z)(Rt().isFunction(o),`getMetadataListActionProps: Invalid action, ${s}, for ${a}`),i[s]=!!(e&&t&&r)&&o({server:e,provider:t,stableUser:n,metadataList:r}),i}),{}):{}}({server:t,provider:n,stableUser:r,metadataList:i,listType:e})))}),(function(e,t){const n={serverEntityID:t.serverEntityID,providerEntityID:t.providerEntityID,metadataListEntityID:t.metadataListEntityID,listType:t.listType,metricsPage:t.metricsPage,metricsProperties:{context:t.metricsContext||je.LIST}};return{onPlayAllPress(){e(Va.wA(n))},onShufflePress(){e(Va.Em(n))},onPlayNextPress(){e(Va.tP(Gp(Gp({},n),{options:{playAll:!0,next:!0}})))},onAddToQueuePress(){e(Va.tP(Gp(Gp({},n),{options:{playAll:!0,next:!1}})))},onSyncPress(){e(ua.vm(n))},onOptimizePress(){e(ua.$5(n))}}}),qm.Z)(Np);var Hp=n(4913);const Fp=(0,l.$j)((function(){return(0,_.P1)((0,ia.Z)(),(e=>({totalSize:e.totalSize,listType:Hm.pV,listStyle:Hp.MOSAIC,allListStyles:[Hp.MOSAIC]})))}))((function(e){const{serverEntityID:t,providerEntityID:n,metadataListEntityID:i,sourceDirectory:a,title:s,totalSize:o,listType:l,listStyle:c,allListStyles:d}=e;return r.createElement(r.Fragment,null,r.createElement(Ce.Z,null,r.createElement(pt.Z,{providerEntityID:n,serverEntityID:t,sourceDirectory:a}),r.createElement(mt,{directoryKey:Fe.tk.TIMELINE,providerEntityID:n,serverEntityID:t,sourceDirectory:a}),r.createElement(Be.Z,null,r.createElement(Bm.Z,{allListStyles:d,selectedListStyle:c}))),r.createElement(po.Z,null,r.createElement(we.Z,null,r.createElement(uo.Z,null,s),r.createElement(co.Z,null,o)),r.createElement(Fm.Z,null,r.createElement(Lp,{listType:l,metadataListEntityID:i,providerEntityID:n,serverEntityID:t}))))}));var Bp=n(55127);var Vp=Object.defineProperty,Wp=Object.prototype.hasOwnProperty,_p=Object.getOwnPropertySymbols,Kp=Object.prototype.propertyIsEnumerable,zp=(e,t,n)=>t in e?Vp(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Up=(e,t)=>{for(var n in t||(t={}))Wp.call(t,n)&&zp(e,n,t[n]);if(_p)for(var n of _p(t))Kp.call(t,n)&&zp(e,n,t[n]);return e};class $p extends r.Component{constructor(e,t){super(e,t),this.onMeasure=({width:e,height:t})=>{this.setState({isMeasured:!0,width:e,height:t})},this.onMomentScrollIndexChange=e=>{this.setState({currentMomentTitle:this.props.moments[e].title})},this.state={isMeasured:!1,currentMomentTitle:"",width:0,height:0}}componentDidMount(){const{librarySectionID:e,providerIdentifier:t,onLibraryChange:n}=this.props;e&&n(t,e)}componentDidUpdate(e){const{librarySectionID:t,providerIdentifier:n,onLibraryChange:r}=this.props;t&&t!==e.librarySectionID&&r(n,t)}componentWillUnmount(){this.props.onLibraryChange(null,null),this.props.onCloseTimelinePage()}render(){const{serverEntityID:e,providerEntityID:t,providerMetricsIdentifier:n,metadataListEntityID:a,sourceDirectory:s,pivot:o,isMomentListPending:l,isMomentListPopulated:c,moments:d,activeSelectionType:u,columnAdjustment:m}=this.props,{isMeasured:p,width:h,height:y,currentMomentTitle:v}=this.state,E=200-100*m,f=12+m,g=Math.min(Math.ceil(h/E),f);if(c)return r.createElement(Pt.Z,{metricsPage:i.WJ,metricsProperties:{identifier:n,mode:"timeline",type:"photo",style:Hp.MOSAIC},scrollDirection:He.Hn},u?r.createElement(Bp.Z,{providerEntityID:t,serverEntityID:e}):r.createElement(Fp,{metadataListEntityID:a,providerEntityID:t,serverEntityID:e,sourceDirectory:s,title:v}),r.createElement(bt.Z,{className:"TimelinePage-measured-KwtybV",ignorePosition:!0,onMeasure:this.onMeasure},p?r.createElement(Lm,{columns:g,height:y,metadataListEntityID:a,moments:d,providerEntityID:t,serverEntityID:e,onMomentScrollIndexChange:this.onMomentScrollIndexChange}):null));const I={serverEntityID:e,providerEntityID:t,sourceDirectory:s,pivot:o,directoryKey:Fe.tk.TIMELINE,scrollDirection:He.Hn};if(l)return r.createElement(zu,Up(Up({},I),{showSecondHeader:!0}),r.createElement(Ea.Z,null,r.createElement(vt.Z,null)));const P={title:(0,O.Z)("There was an error loading the timeline for this library")};return r.createElement(zu,Up({},I),r.createElement(Sa.Z,Up({},P)))}}const qp=$p,Qp=(0,_.P1)((e=>e.ui.timelinePage.momentList),(e=>{if(!e)return[];let t=0;return e.moments.map((e=>{const n=t;t+=e.size;const{id:r,title:i,size:a,avgAR:s,startsAt:o}=e,l=e.size*(e.avgAR||1);return{start:n,end:t,area:l,id:r,title:i,size:a,avgAR:s,startsAt:o}}))})),Xp=(0,na.Z)(qp,(function(e){const t=e.ui.timelinePage;return{serverEntityID:t.serverEntityID,providerEntityID:t.providerEntityID,momentKey:t.momentKey}}),(function(e,t){e(Gu.h8({serverEntityID:t.serverEntityID,providerEntityID:t.providerEntityID,libraryKey:t.libraryKey,momentKey:t.momentKey})),e(Gu.Ql())})),Yp=(0,l.$j)((function(){return(0,_.P1)(((e,{libraryKey:t})=>t),(e=>e.ui.timelinePage),Qp,mc.Z,(0,_e.Z)(),la(),(0,_.P1)(((e,{directoryKey:t})=>t),la(),((e,t)=>Ue(t,e))),Lu.Z,el.Z,((e,t,n,r,i,a,s,o,l)=>{const{details:c,containerKey:d,isMomentListPending:u,isMomentListPopulated:m}=t;return{metadataListEntityID:t.metadataList,providerIdentifier:i.identifier,providerMetricsIdentifier:i.metricsIdentifier,librarySectionID:c&&c.librarySectionID,sourceDirectory:a,pivot:s,moments:n,isMomentListPending:u,isMomentListPopulated:m,containerKey:d,momentKey:E.Z.join(e,"cluster?clusterZoomLevel=1"),activeSelectionType:o.activeSelectionType,disableReloadThreshold:!!o.activeSelectionType,columnAdjustment:l.columnAdjustment,serverVersion:r.version}}))}),(function(e,t){return{onLibraryChange(n,r){e((0,f.changeQuickSearchSettings)({serverEntityID:t.serverEntityID,providerEntityID:t.providerEntityID,providerIdentifier:n,directoryID:r}))},onCloseTimelinePage(){e(Gu.qd({}))}}}))(Xp);function Jp({pivotType:e,directorySourceURI:t,directoryKey:n,selectedPivot:i}){const[s,h,y]=(0,b.c9)(),v=(0,D.Z)(),f=(0,l.v9)(d.Z),g=(0,l.v9)(C.Z),Z=null==g?void 0:g.features.find((({uuid:e})=>e===u.rq));if(function(e,t){return e===u.sy&&t}(null==i?void 0:i.requires,f))return r.createElement(he,null);switch(e){case a.F6.Hub:return r.createElement(o.ZP,{name:null==i?void 0:i.context},r.createElement(Y,{sourceURI:t}));case a.F6.List:return r.createElement(o.ZP,{name:null==i?void 0:i.context},r.createElement(J.Z,{directoryKey:n,directorySourceURI:t,selectedPivot:i}));case a.F6.View:switch(null==i?void 0:i.key){case a.GG.SharedItems:return r.createElement(o.ZP,{name:null==i?void 0:i.context},r.createElement(J.Z,{directoryKey:n,directorySourceURI:t,listStyle:I.n.SharedItems,selectedPivot:i}));case a.GG.Guide:return(s.isCloud||(0,p.Z)(s.version,c.Z.gridPagination))&&Z?r.createElement(ea,null):r.createElement(Uo,{activeFilterLabel:v.filterLabel,activeFilters:(0,m.Z)(v.filters),directoryKey:a.GG.Guide,providerEntityID:h.entityID,serverEntityID:s.entityID,sourceDirectoryID:null==y?void 0:y.id});case a.GG.RecordingSchedule:return r.createElement(ju,{providerEntityID:h.entityID,selectedViewType:v.view,serverEntityID:s.entityID,sourceDirectoryID:null==y?void 0:y.id});case a.GG.Timeline:{const e=(0,P.Z)(h,a.zW.Content);return r.createElement(Yp,{directoryKey:a.GG.Timeline,libraryKey:E.Z.join([null==e?void 0:e.key,null==y?void 0:y.id,"cluster"],{clusterZoomLevel:1}),providerEntityID:h.entityID,serverEntityID:s.entityID,sourceDirectoryID:null==y?void 0:y.id})}}}return r.createElement($o.Z,null)}function eh(e){switch(null==e?void 0:e.key){case a.GG.SharedItems:return"/library/shared/all";default:return null==e?void 0:e.key}}const th=[a.GG.Guide,a.GG.RecordingSchedule,a.GG.Timeline];function nh({className:e,directoryKey:t,pageType:n,machineIdentifier:i,providerIdentifier:s,contentDirectoryID:o,pivotID:c}){const d=(0,l.I0)(),u=(0,ke.Z)({machineIdentifier:i,providerIdentifier:s,contentDirectoryID:o,pageType:n,pivotID:c}),m=u?u.type:null!=n?n:a.F6.List,p=eh(u),E=function(e,t){switch(null==e?void 0:e.key){case a.GG.SharedItems:return null!=t?t:eh(e);default:return t}}(u,t),I=null!=p?p:t,P=I?(0,h.Z)({serverIdentifier:i,providerIdentifier:s,key:I}):void 0;return(0,r.useEffect)((()=>{if(!o)return;const e=(0,y.Z)(g.cN,i),t=(0,y.Z)(g.MC,s,e);return d((0,f.changeQuickSearchSettings)({serverEntityID:e,providerEntityID:t,providerIdentifier:s,directoryID:o})),()=>{d((0,f.changeQuickSearchSettings)({serverEntityID:null,providerEntityID:null,providerIdentifier:null,directoryID:null}))}}),[o,d,i,s]),(0,r.useEffect)((()=>()=>{(0,v.c9)((()=>{d(V.Z.actions.resetMeta())}))}),[d]),P?r.createElement(b.ZP,{contentDirectoryID:o,machineIdentifier:i,providerIdentifier:s},r.createElement(Z.Z,{className:e,scrollDirection:S.I.None},u&&m===a.F6.View&&th.includes(u.key)?null:r.createElement(Re,{selectedPivot:u,sourceURI:P}),r.createElement(Jp,{directoryKey:E,directorySourceURI:P,pivotType:m,selectedPivot:u}))):r.createElement(Z.Z,{className:e},r.createElement(w.Z,null))}var rh=n(61737),ih=n(90144),ah=n(79115),sh=n(8292);function oh(){const e=(0,s.Z)(),t=e.key?(0,ah.Z)(e.key):void 0,{machineIdentifier:n,providerIdentifier:l}=(0,rh.Z)(),c=e.pageType?(0,ah.Z)(e.pageType):void 0,d=(0,ih.su)(a.F6).find((e=>e===c));return r.createElement(o.ZP,{metricsContextParam:(0,ah.Z)(e.context),metricsPage:i.Y3},r.createElement(sh.Z,{machineIdentifier:n,providerIdentifier:l},t||(0,ah.Z)(e.source)?r.createElement(nh,{contentDirectoryID:(0,ah.Z)(e.source),directoryKey:t,machineIdentifier:n,pageType:d,pivotID:(0,ah.Z)(e.pivot),providerIdentifier:l}):r.createElement($o.Z,null)))}},75969:(e,t,n)=>{n.d(t,{Z:()=>s});var r=n(67294),i=n(28216),a=n(10033);const s=function(e){const{tab:t,component:n,onPress:s}=e,o=(0,i.I0)(),l=(0,r.useCallback)((e=>{const n=e.currentTarget.getAttribute("href");n&&(0===e.button||e.touches)&&(e.stopPropagation(),o((0,a.c4)({pathname:n,replace:!0}))),s(t.id)}),[t,s,o]);return r.createElement(n,{isDisabled:t.isDisabled,isSelected:t.isSelected,to:t.route,onPress:l},t.title)}},1522:(e,t,n)=>{n.d(t,{Z:()=>d});var r=n(67294),i=Object.defineProperty,a=Object.prototype.hasOwnProperty,s=Object.getOwnPropertySymbols,o=Object.prototype.propertyIsEnumerable,l=(e,t,n)=>t in e?i(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;function c(e){var t=e,{children:n}=t,i=((e,t)=>{var n={};for(var r in e)a.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&s)for(var r of s(e))t.indexOf(r)<0&&o.call(e,r)&&(n[r]=e[r]);return n})(t,["children"]);return r.createElement("div",((e,t)=>{for(var n in t||(t={}))a.call(t,n)&&l(e,n,t[n]);if(s)for(var n of s(t))o.call(t,n)&&l(e,n,t[n]);return e})({},i),n)}c.defaultProps={className:"PrimaryPageHeader-pageHeader-SBemrw PageHeader-pageHeader-e2k66t"};const d=c},35567:(e,t,n)=>{n.d(t,{Z:()=>a});var r=n(67294),i=n(70513);const a=function({children:e}){return r.createElement(i.Z,{className:"PrimaryPageHeaderRight-pageHeaderRight-PLi1N6 PageHeaderRight-pageHeaderRight-hBWIio"},e)}},78236:(e,t,n)=>{n.d(t,{Z:()=>L});var r=n(67294),i=n(62704),a=n(94184),s=n.n(a),o=n(18222),l=n(69281);var c=Object.defineProperty,d=Object.prototype.hasOwnProperty,u=Object.getOwnPropertySymbols,m=Object.prototype.propertyIsEnumerable,p=(e,t,n)=>t in e?c(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;function h(e){const t=e,{className:n,children:i,isSelected:a}=t,c=((e,t)=>{var n={};for(var r in e)d.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&u)for(var r of u(e))t.indexOf(r)<0&&m.call(e,r)&&(n[r]=e[r]);return n})(t,["className","children","isSelected"]);return r.createElement(o.Z,((e,t)=>{for(var n in t||(t={}))d.call(t,n)&&p(e,n,t[n]);if(u)for(var n of u(t))m.call(t,n)&&p(e,n,t[n]);return e})({className:s()(n,a&&"PageHeaderTabButton-isSelected-gqt8tL"),"data-testid":"tabButton",size:l.ln},c),i)}h.defaultProps={className:"PageHeaderTabButton-button-aP9Avj Button-button-TxWeuE Link-link-SxPFpG"};const y=h;var v=n(87264),E=n(54098),f=n(8059),g=n(84332),I=n(94659),P=n(24107);var b=Object.defineProperty,D=Object.prototype.hasOwnProperty,Z=Object.getOwnPropertySymbols,w=Object.prototype.propertyIsEnumerable,S=(e,t,n)=>t in e?b(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,C=(e,t)=>{for(var n in t||(t={}))D.call(t,n)&&S(e,n,t[n]);if(Z)for(var n of Z(t))w.call(t,n)&&S(e,n,t[n]);return e};const O={placement:"bottom-start",modifiers:[{name:"offset",options:{offset:[parseInt(P.Z.pageHeaderTabButtonLeftRightMargin,10)]}}]},T=function(e){const t=e,{tabs:n,component:i,onPress:a}=t,o=((e,t)=>{var n={};for(var r in e)D.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&Z)for(var r of Z(e))t.indexOf(r)<0&&w.call(e,r)&&(n[r]=e[r]);return n})(t,["tabs","component","onPress"]),{menuButtonID:l,isMenuOpen:c,onMenuButtonPress:d,onMenuClose:u}=(0,I.Z)(),m=(0,r.useCallback)((e=>{u(),a&&a(e)}),[a,u]),p=n.find((e=>e.isSelected))||n[0];return r.createElement("div",{className:"PageHeaderTabDropdown-container-s6_y_K","data-testid":"tabDropDown",id:l},r.createElement(y,{className:"PageHeaderTabDropdown-button-HKmBUj PageHeaderTabButton-button-aP9Avj Button-button-TxWeuE Link-link-SxPFpG",isSelected:p.isSelected,onPress:d},r.createElement("div",{className:"PageHeaderTabDropdown-buttonContents-X2SPy2"},r.createElement("div",{className:"PageHeaderTabDropdown-title-eSs4os"},p.title),r.createElement(v.Z,{className:s()("PageHeaderTabDropdown-disclosureArrow-mFj1jP DisclosureArrow-disclosureArrow-NTDkGd",p.isSelected&&"PageHeaderTabDropdown-isSelected-SvXSbi"),direction:c?f.UP:f.WV}))),r.createElement(E.Z,{isOpen:c,options:O,target:l,onMenuClose:u},n.map(((e,t)=>r.createElement(i,C(C({},o),{key:t,component:g.Z,tab:e,onPress:m}))))))};var M=n(75969);var N=Object.defineProperty,A=Object.prototype.hasOwnProperty,x=Object.getOwnPropertySymbols,R=Object.prototype.propertyIsEnumerable,k=(e,t,n)=>t in e?N(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,j=(e,t)=>{for(var n in t||(t={}))A.call(t,n)&&k(e,n,t[n]);if(x)for(var n of x(t))R.call(t,n)&&k(e,n,t[n]);return e};function G(e){const t=e,{tabs:n,component:a,hideSingleTabs:s}=t,o=((e,t)=>{var n={};for(var r in e)A.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&x)for(var r of x(e))t.indexOf(r)<0&&R.call(e,r)&&(n[r]=e[r]);return n})(t,["tabs","component","hideSingleTabs"]),[l,c]=(0,r.useState)(0),d=(0,r.useCallback)((e=>{c(e.width)}),[]),[u,m]=(0,r.useState)(0),p=(0,r.useCallback)((e=>{m(e.width)}),[]),h=n.length<2,v=n.length>1&&u>l;return h&&s?null:r.createElement(i.Z,{className:"TabsPageHeaderCenter-pageHeaderCenter-FVRU4z PageHeaderCenter-pageHeaderCenter-mMF86x",ignoreHeight:!0,onMeasure:d},v?r.createElement(T,j(j({},o),{component:a,tabs:n})):r.createElement(i.Z,{ignoreHeight:!0,onMeasure:p},n.map(((e,t)=>r.createElement(a,j(j({},o),{key:t,component:y,tab:e}))))))}G.defaultProps={component:M.Z,hideSingleTabs:!0};const L=G},10067:(e,t,n)=>{n.d(t,{Z:()=>m});var r=n(67294),i=n(37920),a=n(56791),s=n(24141),o=Object.defineProperty,l=Object.prototype.hasOwnProperty,c=Object.getOwnPropertySymbols,d=Object.prototype.propertyIsEnumerable,u=(e,t,n)=>t in e?o(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const m=function(e){const t=e,{children:n}=t,o=((e,t)=>{var n={};for(var r in e)l.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&c)for(var r of c(e))t.indexOf(r)<0&&d.call(e,r)&&(n[r]=e[r]);return n})(t,["children"]);return r.createElement(a.Z,((e,t)=>{for(var n in t||(t={}))l.call(t,n)&&u(e,n,t[n]);if(c)for(var n of c(t))d.call(t,n)&&u(e,n,t[n]);return e})({className:s.Z.innerEmptyPage,contentClassName:s.Z.innerEmptyPageContent,scrollDirection:i.Hn},o),n)}}}]);