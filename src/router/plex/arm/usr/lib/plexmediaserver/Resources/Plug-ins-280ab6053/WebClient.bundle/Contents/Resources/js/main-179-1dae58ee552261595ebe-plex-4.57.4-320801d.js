/*! For license information please see main-179-1dae58ee552261595ebe-plex-4.57.4-320801d.js.LICENSE.txt */
(self.webpackChunkplex_web_client=self.webpackChunkplex_web_client||[]).push([[179],{76486:(e,t,n)=>{"use strict";e.exports=n.p+"static/b38a559594ac52d049ba.png"},46865:(e,t,n)=>{"use strict";e.exports=n.p+"static/24cb7f1a5e2d0102f05f.png"},57159:(e,t,n)=>{"use strict";e.exports=n.p+"static/479017288a229d836f44.png"},80974:e=>{"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMTAwIDEwMCIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBzdHlsZT0ic3Ryb2tlLW1pdGVybGltaXQ6MS40MTQyMTtjbGlwLXJ1bGU6ZXZlbm9kZDtmaWxsLXJ1bGU6ZXZlbm9kZDtzdHJva2UtbGluZWpvaW46cm91bmQiPgogPGNpcmNsZSBpZD0iMCIgY3g9IjUwIiBjeT0iNTAiIHI9IjUwIiBzdHlsZT0iZmlsbDp1cmwoIzMpIi8+CiA8Y2lyY2xlIGlkPSIxIiBjeD0iNTAiIGN5PSI1MCIgcj0iNDciIHN0eWxlPSJmaWxsOnVybCgjNCkiLz4KIDxwYXRoIGlkPSIyIiBkPSJtMzIuOSAxOC44bDE4LjE2MSAwIDIwLjAzOSAzMS4yNS0yMC4wMzkgMzEuMjUtMTguMTYxIDAgMjAuMDM5LTMxLjI1LTIwLjAzOS0zMS4yNSIgc3R5bGU9ImZpbGw6dXJsKCM1KSIvPgogPGRlZnM+CiAgPGxpbmVhckdyYWRpZW50IGlkPSIzIiB4MT0iMTAwIiB4Mj0iMCIgZ3JhZGllbnRVbml0cz0idXNlclNwYWNlT25Vc2UiPgogICA8c3RvcCBvZmZzZXQ9IjAlIiBzdHlsZT0ic3RvcC1jb2xvcjojZjliZTAzIi8+CiAgIDxzdG9wIG9mZnNldD0iMTAwJSIgc3R5bGU9InN0b3AtY29sb3I6I2NjN2IxOSIvPgogIDwvbGluZWFyR3JhZGllbnQ+CiAgPGxpbmVhckdyYWRpZW50IGlkPSI0IiB4MT0iOTciIHgyPSIzIiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSI+CiAgIDxzdG9wIG9mZnNldD0iMCUiIHN0eWxlPSJzdG9wLWNvbG9yOiMyODI4MjgiLz4KICAgPHN0b3Agb2Zmc2V0PSIxMDAlIiBzdHlsZT0ic3RvcC1jb2xvcjojMWYxZjFmIi8+CiAgPC9saW5lYXJHcmFkaWVudD4KICA8cmFkaWFsR3JhZGllbnQgaWQ9IjUiIGN4PSI2NyIgY3k9IjQ5LjkiIHI9IjU3LjgxMjMiIGdyYWRpZW50VW5pdHM9InVzZXJTcGFjZU9uVXNlIiB4bGluazpocmVmPSIjMyIvPgogPC9kZWZzPgo8L3N2Zz4K"},71760:e=>{"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI1NjAiIGhlaWdodD0iNTYwIiB2aWV3Qm94PSIwIDAgNTYwIDU2MCI+CiAgPGcgZmlsbD0ibm9uZSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNzAgNzApIj4KICAgIDxwYXRoIGZpbGw9IiMwMDY0MUUiIGQ9Ik0zNTAuNTk4MTgyLDQwOC4wODcyNzMgTDMyNC41NDU0NTUsNDEzLjA3NjM2NCBDMzI0LjU0NTQ1NSw0MTMuMDc2MzY0IDMyNC44NzYzNjQsNDEwLjY5NjM2NCAzMjUuODk0NTQ1LDQwNC4xMjkwOTEgQzMzOS4zMzQ1NDUsNDA2LjAzODE4MiAzNTAuNTk4MTgyLDQwOC4wODcyNzMgMzUwLjU5ODE4Miw0MDguMDg3MjczIFogTTY3LjMwMTgxODIsNDA4LjA4NzI3MyBDNjcuMzAxODE4Miw0MDguMDg3MjczIDc4LjU1MjcyNzMsNDA2LjAzODE4MiA5MS45OTI3MjczLDQwNC4xMjkwOTEgQzkzLjAxMDkwOTEsNDEwLjY5NjM2NCA5My4zNTQ1NDU1LDQxMy4wNzYzNjQgOTMuMzU0NTQ1NSw0MTMuMDc2MzY0IEw2Ny4zMDE4MTgyLDQwOC4wODcyNzMgWiIvPgogICAgPHBhdGggZmlsbD0iIzBBQzg1NSIgZD0iTTMyNC41NDU0NTUsNDEzLjA3NjM2NCBMMzUwLjU5ODE4Miw0MDguMDg3MjczIEMzNTEuMDgxODE4LDQwOC4xNzYzNjQgMzUxLjU1MjcyNyw0MDcuOTcyNzI3IDM1MS42NjcyNzMsNDA3LjY0MTgxOCBDMzU3LjU5ODE4MiwzOTAuMTE2MzY0IDM2My42MzA5MDksMzcyLjY1NDU0NSAzNjkuODE2MzY0LDM1NS4xOCBDMzg3LjcxMDkwOSwzNjEuNTgxODE4IDQwNC4wMTQ1NDUsMzcxLjY0OTA5MSA0MTcuMzY1NDU1LDM4NC41NjcyNzMgQzQxOC4wNzgxODIsMzg1LjI0MTgxOCA0MTguMDkwOTA5LDM4NS45MDM2MzYgNDE3LjQxNjM2NCwzODUuODI3MjczIEM0MDQuODE2MzY0LDM4NS42NDkwOTEgMzkyLjk4LDM4Ny40ODE4MTggMzgyLjI3NjM2NCwzOTAuODU0NTQ1IEMzODIuMDQ3MjczLDM5MC45MDU0NTUgMzgxLjkwNzI3MywzOTEuMDMyNzI3IDM4MS44OTQ1NDUsMzkxLjIxMDkwOSBDMzgzLjg2NzI3Myw0MDguMjE0NTQ1IDM4Mi43ODU0NTUsNDI1LjA5MDkwOSAzNzguODY1NDU1LDQ0MC45MTA5MDkgQzM3OC43LDQ0MS4zNDM2MzYgMzc4LjE1MjcyNyw0NDEuMzU2MzY0IDM3Ny43ODM2MzYsNDQwLjk2MTgxOCBDMzY2LjMxNjM2NCw0MjUuNzQgMzQ3LjMxNDU0NSw0MTQuNTAxODE4IDMyNC41NDU0NTUsNDEzLjA3NjM2NCBaIE02Ny4zMDE4MTgyLDQwOC4wODcyNzMgTDkzLjM1NDU0NTUsNDEzLjA3NjM2NCBDNzAuNTcyNzI3Myw0MTQuNTAxODE4IDUxLjU5NjM2MzYsNDI1Ljc0IDQwLjEyOTA5MDksNDQwLjk2MTgxOCBDMzkuNzYsNDQxLjM1NjM2NCAzOS4yMTI3MjczLDQ0MS4zNDM2MzYgMzkuMDQ3MjcyNyw0NDAuOTEwOTA5IEMzNS4xMjcyNzI3LDQyNS4wOTA5MDkgMzQuMDQ1NDU0NSw0MDguMjE0NTQ1IDM2LjAxODE4MTgsMzkxLjIxMDkwOSBDMzYuMDA1NDU0NSwzOTEuMDMyNzI3IDM1Ljg2NTQ1NDUsMzkwLjkwNTQ1NSAzNS42MzYzNjM2LDM5MC44NTQ1NDUgQzI0LjkzMjcyNzMsMzg3LjQ4MTgxOCAxMy4wOTYzNjM2LDM4NS42NDkwOTEgMC40OTYzNjM2MzYsMzg1LjgyNzI3MyBDLTAuMTc4MTgxODE4LDM4NS45MDM2MzYgLTAuMTY1NDU0NTQ1LDM4NS4yNDE4MTggMC41NDcyNzI3MjcsMzg0LjU2NzI3MyBDMTMuODg1NDU0NSwzNzEuNjYxODE4IDMwLjEyNTQ1NDUsMzYxLjUzMDkwOSA0OC4wMDcyNzI3LDM1NS4xMjkwOTEgQzU0LjIwNTQ1NDUsMzcyLjU5MDkwOSA2MC4yODkwOTA5LDM5MC4xMTYzNjQgNjYuMjMyNzI3Myw0MDcuNjQxODE4IEM2Ni4zNDcyNzI3LDQwNy45NzI3MjcgNjYuODE4MTgxOCw0MDguMTc2MzY0IDY3LjMwMTgxODIsNDA4LjA4NzI3MyBaIi8+CiAgICA8cGF0aCBmaWxsPSIjMDA5MTJEIiBkPSJNMzUwLjU5ODE4Miw0MDguMDg3MjczIEMyNTcuMjA1NDU1LDM5MS43MiAxNjAuNjgxODE4LDM5MS43MiA2Ny4zMDE4MTgyLDQwOC4wODcyNzMgQzY2LjgxODE4MTgsNDA4LjE3NjM2NCA2Ni4zNDcyNzI3LDQwNy45NzI3MjcgNjYuMjMyNzI3Myw0MDcuNjQxODE4IEM1Ny41OTA5MDkxLDM4Mi4xNDkwOTEgNDguNjgxODE4MiwzNTYuNzIgMzkuNDkyNzI3MywzMzEuMzU0NTQ1IEMzOS4zNjU0NTQ1LDMzMC45OTgxODIgMzkuNzYsMzMwLjU5MDkwOSA0MC4zNTgxODE4LDMzMC40ODkwOTEgQzE1MS4zOTA5MDksMzEwLjIwMTgxOCAyNjYuNDk2MzY0LDMxMC4yMDE4MTggMzc3LjU0MTgxOCwzMzAuNDg5MDkxIEMzNzguMTQsMzMwLjU5MDkwOSAzNzguNTM0NTQ1LDMzMC45OTgxODIgMzc4LjM5NDU0NSwzMzEuMzU0NTQ1IEMzNjkuMjE4MTgyLDM1Ni43MiAzNjAuMzA5MDkxLDM4Mi4xNDkwOTEgMzUxLjY2NzI3Myw0MDcuNjQxODE4IEMzNTEuNTUyNzI3LDQwNy45NzI3MjcgMzUxLjA4MTgxOCw0MDguMTc2MzY0IDM1MC41OTgxODIsNDA4LjA4NzI3MyBaIE0yMzQuOTQ1NDU1LDEwMC40OTQ1NDUgQzI0Ny4xMTI3MjcsOTkuNDEyNzI3MyAyNzMuNzEyNzI3LDEwMC4wMjM2MzYgMjg2LjcwNzI3MywxMTIuNzYzNjM2IEMyODcuNDgzNjM2LDExMy41NCAyODYuODA5MDkxLDExNS4yOTYzNjQgMjg1LjcwMTgxOCwxMTUuMDAzNjM2IEMyNjYuNjYxODE4LDEwOS44NzQ1NDUgMjM2Ljk2OTA5MSwxMzUuMTI1NDU1IDIxNy43MjU0NTUsMTE4Ljc5NjM2NCBDMjE3LjIwMzYzNiwxMjMuNTgxODE4IDIxMi44ODkwOTEsMTQ2LjYxODE4MiAxODAuMDI3MjczLDE0My4yMDcyNzMgQzE3OS4yNTA5MDksMTQzLjEzMDkwOSAxNzguOTQ1NDU1LDE0Mi4yNjU0NTUgMTc5LjUxODE4MiwxNDEuNzgxODE4IEMxODQuNjA5MDkxLDEzNy40NTQ1NDUgMTkwLjg1ODE4MiwxMjUuNDc4MTgyIDE4NS41LDExNy44MjkwOTEgQzE2OC43NzYzNjQsMTI4LjkyNzI3MyAxNjAuMTIxODE4LDEyOS40MTA5MDkgMTI5LjI4MzYzNiwxMTYuMDQ3MjczIEMxMjguMjc4MTgyLDExNS42MTQ1NDUgMTI4Ljg3NjM2NCwxMTMuOTcyNzI3IDEzMC4wNiwxMTMuNzA1NDU1IEMxMzYuNDYxODE4LDExMi4yNjcyNzMgMTUxLjY5NjM2NCwxMDYuNzMwOTA5IDE2NS4zNTI3MjcsMTA0LjE0NzI3MyBDMTY3Ljk2MTgxOCwxMDMuNjUwOTA5IDE3MC41MiwxMDMuMzU4MTgyIDE3Mi45ODkwOTEsMTAzLjMzMjcyNyBDMTU4Ljg0OTA5MSw5OS45NiAxNTIuNjg5MDkxLDk3LjAzMjcyNzMgMTQzLjM3MjcyNyw5Ny4wNzA5MDkxIEMxNDIuMzU0NTQ1LDk3LjA4MzYzNjQgMTQxLjg0NTQ1NSw5NS44MTA5MDkxIDE0Mi41ODM2MzYsOTUuMTEwOTA5MSBDMTU3LjE1NjM2NCw4MS4wOTgxODE4IDE4My41NzgxODIsODAuMzcyNzI3MyAxOTYuMzA1NDU1LDkwLjgwOTA5MDkgTDE4NC45MDE4MTgsNjYuOTk2MzYzNiBMMTk4Ljc2MTgxOCw2NC45MDkwOTA5IEMxOTguNzYxODE4LDY0LjkwOTA5MDkgMjAyLjM3NjM2NCw3Ny42MTA5MDkxIDIwNS42MDkwOTEsODkuMDI3MjcyNyBDMjIwLjA0MTgxOCw3My4yMiAyNDIuMzY1NDU1LDc0LjgyMzYzNjQgMjQ5Ljg4NzI3Myw4OC42MzI3MjczIEMyNTAuMzMyNzI3LDg5LjQ0NzI3MjcgMjQ5LjU5NDU0NSw5MC40MTQ1NDU1IDI0OC42NzgxODIsOTAuMjQ5MDkwOSBDMjQxLjEwNTQ1NSw4OC45NjM2MzY0IDIzNS45MjU0NTUsOTUuMjYzNjM2NCAyMzQuODMwOTA5LDEwMC40NjkwOTEgTDIzNC45NDU0NTUsMTAwLjQ5NDU0NSBaIi8+CiAgICA8cGF0aCBmaWxsPSIjRkEzMjBBIiBkPSJNNzIuODEyNzI3MywzMjUuMzA5MDkxIEMxNjIuMTMyNzI3LDMxMi4yNTA5MDkgMjUzLjQ3NjM2NCwzMTIuMTEwOTA5IDM0Mi44MjE4MTgsMzI0Ljk2NTQ1NSBDMzY1LjEwNzI3MywyOTguNjQ1NDU1IDM3Ny45NzQ1NDUsMjY0LjcxNDU0NSAzNzUuNTE4MTgyLDIyNS4zNDkwOTEgQzM3MS42NjE4MTgsMTYzLjY5ODE4MiAzMzUuNjMwOTA5LDEyNi42NzQ1NDUgMjgzLjcwMzYzNiwxMTAuNDM0NTQ1IEMyODQuNzIxODE4LDExMS4xOTgxODIgMjg1LjgwMzYzNiwxMTEuODk4MTgyIDI4Ni43MDcyNzMsMTEyLjc2MzYzNiBDMjg3LjQ4MzYzNiwxMTMuNTQgMjg2LjgwOTA5MSwxMTUuMjk2MzY0IDI4NS43MDE4MTgsMTE1LjAwMzYzNiBDMjY2LjY2MTgxOCwxMDkuODc0NTQ1IDIzNi45NjkwOTEsMTM1LjEyNTQ1NSAyMTcuNzI1NDU1LDExOC43OTYzNjQgQzIxNy4yMDM2MzYsMTIzLjU2OTA5MSAyMTIuODg5MDkxLDE0Ni42MTgxODIgMTgwLjAyNzI3MywxNDMuMjA3MjczIEMxNzkuMjUwOTA5LDE0My4xMzA5MDkgMTc4Ljk0NTQ1NSwxNDIuMjY1NDU1IDE3OS41MTgxODIsMTQxLjc4MTgxOCBDMTg0LjYwOTA5MSwxMzcuNDU0NTQ1IDE5MC44NTgxODIsMTI1LjQ2NTQ1NSAxODUuNSwxMTcuODI5MDkxIEMxNjguNzc2MzY0LDEyOC45MjcyNzMgMTYwLjEyMTgxOCwxMjkuNDEwOTA5IDEyOS4yODM2MzYsMTE2LjA0NzI3MyBDMTI5LjAyOTA5MSwxMTUuOTMyNzI3IDEyOS4xMzA5MDksMTE1LjY1MjcyNyAxMjkuMDY3MjczLDExNS40MjM2MzYgQzU2Ljk5MjcyNzMsMTQxLjA0MzYzNiAzOC40ODcyNzI3LDE5MS45OTA5MDkgNDEuODYsMjQ2LjE1ODE4MiBDNDMuODIsMjc3LjQ0MTgxOCA1NS4zLDMwMy45NzgxODIgNzIuODEyNzI3MywzMjUuMzA5MDkxIi8+CiAgICA8cGF0aCBmaWxsPSIjRkZENzAwIiBkPSJNNzIuNjYsMzI1LjMzNDU0NSBDNTUuMTYsMzA0LjAyOTA5MSA0My44MiwyNzcuNDE2MzY0IDQxLjg2LDI0Ni4xNTgxODIgQzM4LjQ4NzI3MjcsMTkxLjk5MDkwOSA1Ni45OTI3MjczLDE0MS4wNDM2MzYgMTI5LjA2NzI3MywxMTUuNDIzNjM2IEMxMjkuMTMwOTA5LDExNS42NTI3MjcgMTI5LjAyOTA5MSwxMTUuOTMyNzI3IDEyOS4yODM2MzYsMTE2LjA0NzI3MyBDMTI4LjI3ODE4MiwxMTUuNjE0NTQ1IDEyOC44NzYzNjQsMTEzLjk3MjcyNyAxMzAuMDYsMTEzLjcwNTQ1NSBDMTM2LjQ2MTgxOCwxMTIuMjY3MjczIDE1MS42OTYzNjQsMTA2LjcxODE4MiAxNjUuMzUyNzI3LDEwNC4xNDcyNzMgQzE2Ny45NjE4MTgsMTAzLjY1MDkwOSAxNzAuNTIsMTAzLjM1ODE4MiAxNzIuOTg5MDkxLDEwMy4zMiBDMTU4Ljg0OTA5MSw5OS45NiAxNTIuNjg5MDkxLDk3LjAzMjcyNzMgMTQzLjM3MjcyNyw5Ny4wNzA5MDkxIEMxNDIuMzU0NTQ1LDk3LjA4MzYzNjQgMTQxLjg0NTQ1NSw5NS44MTA5MDkxIDE0Mi41ODM2MzYsOTUuMDk4MTgxOCBDMTU3LjE1NjM2NCw4MS4wODU0NTQ1IDE4My41NzgxODIsODAuMzcyNzI3MyAxOTYuMzA1NDU1LDkwLjgwOTA5MDkgTDE4NC45MDE4MTgsNjYuOTgzNjM2NCBMMTk4Ljc2MTgxOCw2NC45MDkwOTA5IEMxOTguNzYxODE4LDY0LjkwOTA5MDkgMjAyLjM3NjM2NCw3Ny41OTgxODE4IDIwNS42MDkwOTEsODkuMDI3MjcyNyBDMjIwLjA0MTgxOCw3My4yMiAyNDIuMzY1NDU1LDc0LjgyMzYzNjQgMjQ5Ljg4NzI3Myw4OC42MzI3MjczIEMyNTAuMzMyNzI3LDg5LjQ0NzI3MjcgMjQ5LjU5NDU0NSw5MC40MTQ1NDU1IDI0OC42NzgxODIsOTAuMjQ5MDkwOSBDMjQxLjEwNTQ1NSw4OC45NjM2MzY0IDIzNS45MjU0NTUsOTUuMjYzNjM2NCAyMzQuODMwOTA5LDEwMC40NjkwOTEgTDIzNC45NDU0NTUsMTAwLjQ5NDU0NSBDMjQ3LjExMjcyNyw5OS40MTI3MjczIDI3My43MTI3MjcsMTAwLjAyMzYzNiAyODYuNzA3MjczLDExMi43NjM2MzYgQzI4NS44MDM2MzYsMTExLjg5ODE4MiAyODQuNzIxODE4LDExMS4xOTgxODIgMjgzLjcwMzYzNiwxMTAuNDM0NTQ1IEMzMzUuNjMwOTA5LDEyNi42NzQ1NDUgMzcxLjY2MTgxOCwxNjMuNjk4MTgyIDM3NS41MTgxODIsMjI1LjM0OTA5MSBDMzc3Ljk3NDU0NSwyNjQuNzE0NTQ1IDM2NS4xMDcyNzMsMjk4LjY0NTQ1NSAzNDIuODIxODE4LDMyNC45NjU0NTUgQzM0OS41OTI3MjcsMzI1LjkzMjcyNyAzNTYuMzI1NDU1LDMyNy4wNjU0NTUgMzYzLjA3MDkwOSwzMjguMTg1NDU1IEMzOTEuNDY1NDU1LDI5My40NCA0MDcuODcwOTA5LDI0OS4zOTA5MDkgNDA3Ljg3MDkwOSwyMDIuMTM0NTQ1IEM0MDcuODcwOTA5LDk0LjQ0OTA5MDkgMzIwLjM1ODE4MiwxMC4wOTI3MjczIDIwOC42NTA5MDksMTAuMDkyNzI3MyBDOTYuOTQzNjM2NCwxMC4wOTI3MjczIDkuNDMwOTA5MDksOTQuNDQ5MDkwOSA5LjQzMDkwOTA5LDIwMi4xMzQ1NDUgQzkuNDMwOTA5MDksMjQ5LjQ2NzI3MyAyNS44MzYzNjM2LDI5My41NDE4MTggNTQuMjU2MzYzNiwzMjguMjc0NTQ1IEM2MC4zNzgxODE4LDMyNy4yNTYzNjQgNjYuNTEyNzI3MywzMjYuMjUwOTA5IDcyLjY2LDMyNS4zMzQ1NDUiLz4KICAgIDxwYXRoIGZpbGw9IiNGRjZBMTMiIGQ9Ik01NC4yNTYzNjM2LDMyOC4yNzQ1NDUgQzI1LjgzNjM2MzYsMjkzLjU0MTgxOCA5LjQzMDkwOTA5LDI0OS40NjcyNzMgOS40MzA5MDkwOSwyMDIuMTM0NTQ1IEM5LjQzMDkwOTA5LDk0LjQ0OTA5MDkgOTYuOTQzNjM2NCwxMC4wOTI3MjczIDIwOC42NTA5MDksMTAuMDkyNzI3MyBDMzIwLjM1ODE4MiwxMC4wOTI3MjczIDQwNy44NzA5MDksOTQuNDQ5MDkwOSA0MDcuODcwOTA5LDIwMi4xMzQ1NDUgQzQwNy44NzA5MDksMjQ5LjM5MDkwOSAzOTEuNDY1NDU1LDI5My40NCAzNjMuMDcwOTA5LDMyOC4xODU0NTUgQzM2Ni40NTYzNjQsMzI4Ljc0NTQ1NSAzNjkuODQxODE4LDMyOS4xOTA5MDkgMzczLjIyNzI3MywzMjkuODAxODE4IEM0MDAuNjI5MDkxLDI5NC41MDkwOTEgNDE3LjAyMTgxOCwyNTAuMjU2MzY0IDQxNy4wMjE4MTgsMjAyLjEzNDU0NSBDNDE3LjAyMTgxOCw4Ny4wNDE4MTgyIDMyMy43MzA5MDksMC45MjkwOTA5MDkgMjA4LjY1MDkwOSwwLjkyOTA5MDkwOSBDOTMuNTU4MTgxOCwwLjkyOTA5MDkwOSAwLjI2NzI3MjcyNyw4Ny4wNDE4MTgyIDAuMjY3MjcyNzI3LDIwMi4xMzQ1NDUgQzAuMjY3MjcyNzI3LDI1MC4zMDcyNzMgMTYuNjk4MTgxOCwyOTQuNTg1NDU1IDQ0LjE1MDkwOTEsMzI5Ljg3ODE4MiBDNDcuNTEwOTA5MSwzMjkuMjggNTAuODgzNjM2NCwzMjguODM0NTQ1IDU0LjI1NjM2MzYsMzI4LjI3NDU0NSIvPgogIDwvZz4KPC9zdmc+Cg=="},46174:e=>{"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI1NjAiIGhlaWdodD0iNTYwIiB2aWV3Qm94PSIwIDAgNTYwIDU2MCI+CiAgPGcgZmlsbD0ibm9uZSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTA0IDQ1KSI+CiAgICA8cGF0aCBmaWxsPSIjRkZGIiBkPSJNMjY2LjU3MDgyNiw0MjkuMjE0MDcxIEwyOTAuMDM1NzQxLDE5MS4yNTc1MTcgQzMwNC45NjUwOTUsMTg2LjQ2MTcyMSAzMTkuNTMzNjkyLDE4MC4xMDc1OTkgMzMwLjI2NTMxMywxNzAuOTk1NzYyIEwzMDAuMTU5NjgyLDQwMS4yNzc5OTMgQzI5My40MTIxMzksNDExLjUyNjE4MiAyODAuMjk3MDc1LDQyMi4xMzg1NjUgMjY2LjU3MDgyNiw0MjkuMjE0MDcxIFogTTE4OC4zNzI1MzcsNDUwLjg0NTA1MiBMMTkxLjMxOTg4MSwyMDYuMzE3MjYgQzIxMi4yMTM5NywyMDUuNzE4NDQyIDIzOS4yNTMxNzQsMjAyLjg4NzE5IDI2Mi4yOTA3ODYsMTk3Ljk3MDU4IEwyNDMuMjE5NzQxLDQzOS4xNDAwODkgQzIyMC40OTU2MDIsNDQ2LjY1ODU4IDIwNy4yODU5Nyw0NDguOTg5MDY3IDE4OC4zNzI1MzcsNDUwLjg0NTA1MiBaIE04OC42Nzk0ODI2LDE5Ny45NzA1OCBDMTExLjcxNzA5NSwyMDIuODg3MTkgMTM4Ljc1NjI5OSwyMDUuNzE4NDQyIDE1OS42NTAzODgsMjA2LjMxNzI2IEwxNjIuNTk3NzMxLDQ1MC44NDUwNTIgQzE0My42ODQyOTksNDQ4Ljk4OTA2NyAxMzAuNDc0NjY3LDQ0Ni42NTg1OCAxMDcuNzUwNTI3LDQzOS4xNDAwODkgTDg4LjY3OTQ4MjYsMTk3Ljk3MDU4IFogTTIwLjcwNDk1NTIsMTcwLjk5NTc2MiBDMzEuNDM2NTc3MSwxODAuMTA3NTk5IDQ2LjAwNTE3NDEsMTg2LjQ2MTcyMSA2MC45MzQ1Mjc0LDE5MS4yNTc1MTcgTDg0LjM5OTQ0MjgsNDI5LjIxNDA3MSBDNzAuNjczMTk0LDQyMi4xMzg1NjUgNTcuNTU4MTI5NCw0MTEuNTI2MTgyIDUwLjgwODgzNTgsNDAxLjI3Nzk5MyBMMjAuNzA0OTU1MiwxNzAuOTk1NzYyIFoiLz4KICAgIDxwYXRoIGZpbGw9IiNGRkQ3MDAiIGQ9Ik0xNC45MDQ4MzU4LDExMi40NDQ2ODQgQzE2LjI2MjA0OTgsMTQxLjI3MTk4NSA4Ny42NzYwMTk5LDE2NC4xMjE2MTMgMTc1LjQ4MzM4MywxNjMuNjIwODQ4IEMyNTIuMTcwMzQ4LDE2My4xODMxMTUgMzE2LjE0MTUzMiwxNDUuMDc1MDA0IDMzMS44MTE2NjIsMTIxLjI4NTEyNiBDMzI4LjI0MDg3NiwxMTcuMzE3NTIgMzIzLjMwOTM3MywxMTQuNTk2NTc2IDMxNy43NTQ0MjgsMTEzLjg1OTQzNSBDMzE3LjgxMzk3LDExMy4xNTkwNjMgMzE3Ljg1MjQ5OCwxMTIuNDUzNDM5IDMxNy44NDg5OTUsMTExLjczNzMwOSBDMzE3Ljc4NDE5OSwxMDAuMzM3MDA3IDMwOS40MjAyNTksOTAuOTQ4NTI0MiAyOTguNTIyMjY5LDg5LjE5NzU5NDggQzI5OC44MDk0NzMsODcuNzIzMzEyMyAyOTguOTYwMDgsODYuMTk4MjUyOCAyOTguOTUxMzIzLDg0LjYzODE3NDcgQzI5OC44Nzk1MjIsNzEuOTQyMTg1OSAyODguNTI2MTY5LDYxLjcwOTc1NDYgMjc1LjgyNzksNjEuNzgxNTQyOCBDMjc1LjU0MDY5Nyw2MS43ODMyOTM3IDI3NS4yNjA0OTgsNjEuODE4MzEyMyAyNzQuOTc1MDQ1LDYxLjgzMDU2ODggQzI3NS43ODc2MjIsNTkuNDU2MzA4NiAyNzYuMjQyOTQ1LDU2LjkxOTIxMTkgMjc2LjIyODkzNSw1NC4yNzAwNTU4IEMyNzYuMTU1MzgzLDQxLjU3NDA2NjkgMjY1LjgwMzc4MSwzMS4zNDE2MzU3IDI1My4xMDU1MTIsMzEuNDEzNDIzOCBDMjUwLjE5MTQ0MywzMS40MzA5MzMxIDI0Ny40MTkyMjQsMzIuMDEwNDkwNyAyNDQuODU4OTA1LDMzLjAxMzc3MzIgQzI0MS4yMjY4MjYsMjYuMTc4MTQ1IDIzNC4yNTMzNzMsMjEuNDEzODY2MiAyMjYuMTIyMzQ4LDIwLjg2NDA3NDMgQzIyNC43MDU1OTIsOS40NjM3NzMyMyAyMTQuOTY1MTc0LDAuNjY4ODU1MDE5IDIwMy4xOTE1NjIsMC43MzUzOTAzMzUgQzE5NS43ODIwNSwwLjc3NzQxMjYzOSAxODkuMjI4ODk2LDQuMzM1MzAxMTIgMTg1LjA1NTY4Miw5Ljc5OTk1MTY3IEMxODAuODIyOTI1LDUuMTk1MDA3NDMgMTc0Ljc1NjYxNywyLjMwNTk3Mzk4IDE2OC4wMDkwNzUsMi4zNDQ0OTQ0MiBDMTU1LjMxMDgwNiwyLjQxNjI4MjUzIDE0NS4wNzY1MzcsMTIuNzY3Nzc3IDE0NS4xNDgzMzgsMjUuNDYyMDE0OSBDMTQ1LjE2MjM0OCwyNy44ODcwNTIgMTQ1LjU1NjM3OCwzMC4yMTc1MzkgMTQ2LjI2Mzg4MSwzMi40MDc5NTE3IEMxNDEuMDgxOTUsMzMuMzY5MjExOSAxMzYuNTI1MjE0LDM2LjA2MjE0MTMgMTMzLjE5NDM0OCwzOS44NjY5MTA4IEMxMzAuNTQ5OTcsMzAuMDE5Njg0IDEyMS41NTczMzMsMjIuNzgzMDkyOSAxMTAuODgsMjIuODQyNjI0NSBDMTAwLjkwNDkxNSwyMi45MDA0MDUyIDkyLjQ3NDQyNzksMjkuMzEyMzA4NiA4OS4zNDMyMDQsMzguMjA4NzgwNyBDODAuODY4OTM1Myw0MS42MzUzNDk0IDc0LjkwNDE5OSw0OS45NDcwMTEyIDc0Ljk2MDIzODgsNTkuNjQxOTA3MSBDNzQuOTcyNDk3NSw2MS43OTU1NTAyIDc1LjMwMTczMTMsNjMuODY4NjUwNiA3NS44NjczODMxLDY1Ljg0MzY5ODkgQzczLjAwOTM1MzIsNjQuNTkzNTM1MyA2OS44NTg4NjU3LDYzLjg5MzE2MzYgNjYuNTM4NTA3NSw2My45MTI0MjM4IEM1Ni41MjY2NDY4LDYzLjk3MDIwNDUgNDguMDY5ODkwNSw3MC40Mjc2MzIgNDQuOTY0OTM1Myw3OS4zNzY2MzIgQzQxLjk4NzgyMDksNzcuOTkzMzk3OCAzOC42Nzc5NzAxLDc3LjIwNzIzMDUgMzUuMTc3MjMzOCw3Ny4yMjgyNDE2IEMyMi40Nzg5NjUyLDc3LjMwMDAyOTcgMTIuMjQyOTQ1Myw4Ny42NDk3NzMyIDEyLjMxNjQ5NzUsMTAwLjM0NTc2MiBDMTIuMzM5MjYzNywxMDQuNTMyMjM0IDEzLjUwMDMzODMsMTA4LjQ0MDMwOSAxNS40NzU3NDEzLDExMS44MDkwOTcgQzE1LjI3NDM0ODMsMTEyLjAxMjIwNCAxNS4wOTc0NzI2LDExMi4yMzQ1NzIgMTQuOTA0ODM1OCwxMTIuNDQ0Njg0Ii8+CiAgICA8cGF0aCBmaWxsPSIjRkEzMjBBIiBkPSJNMzAwLjE2MTQzMyw0MDEuMjc3OTkzIEMyOTMuNDEyMTM5LDQxMS41MjYxODIgMjgwLjI5NzA3NSw0MjIuMTM4NTY1IDI2Ni41NzA4MjYsNDI5LjIxNDA3MSBMMjkwLjAzNTc0MSwxOTEuMjU3NTE3IEMzMDQuOTY1MDk1LDE4Ni40NjE3MjEgMzE5LjUzMzY5MiwxODAuMTA3NTk5IDMzMC4yNjUzMTMsMTcwLjk5NTc2MiBMMzAwLjE2MTQzMyw0MDEuMjc3OTkzIFogTTI0My4yMTk3NDEsNDM5LjE0MDA4OSBDMjIwLjQ5NzM1Myw0NDYuNjU4NTggMjA3LjI4NTk3LDQ0OC45ODkwNjcgMTg4LjM3MjUzNyw0NTAuODQ1MDUyIEwxOTEuMzE5ODgxLDIwNi4zMTcyNiBDMjEyLjIxMzk3LDIwNS43MTg0NDIgMjM5LjI1MzE3NCwyMDIuODg3MTkgMjYyLjI5MjUzNywxOTcuOTcwNTggTDI0My4yMTk3NDEsNDM5LjE0MDA4OSBaIE0xMDcuNzUwNTI3LDQzOS4xNDAwODkgTDg4LjY3OTQ4MjYsMTk3Ljk3MDU4IEMxMTEuNzE3MDk1LDIwMi44ODcxOSAxMzguNzU2Mjk5LDIwNS43MTg0NDIgMTU5LjY1MDM4OCwyMDYuMzE3MjYgTDE2Mi41OTc3MzEsNDUwLjg0NTA1MiBDMTQzLjY4NDI5OSw0NDguOTg5MDY3IDEzMC40NzQ2NjcsNDQ2LjY1ODU4IDEwNy43NTA1MjcsNDM5LjE0MDA4OSBaIE01MC44MTA1ODcxLDQwMS4yNzc5OTMgTDIwLjcwNDk1NTIsMTcwLjk5NTc2MiBDMzEuNDM2NTc3MSwxODAuMTA3NTk5IDQ2LjAwNTE3NDEsMTg2LjQ2MTcyMSA2MC45MzQ1Mjc0LDE5MS4yNTc1MTcgTDg0LjM5OTQ0MjgsNDI5LjIxNDA3MSBDNzAuNjczMTk0LDQyMi4xMzg1NjUgNTcuNTU4MTI5NCw0MTEuNTI2MTgyIDUwLjgxMDU4NzEsNDAxLjI3Nzk5MyBaIE0yOTguNDc4NDg4LDgwLjEzNDc4NDQgQzI5OC43NzYxOTksODEuNTg4MDU1OCAyOTguOTQyNTY3LDgzLjA5MDM1MzIgMjk4Ljk1MTMyMyw4NC42MzI5MjE5IEMyOTguOTYwMDgsODYuMTkzIDI5OC44MDk0NzMsODcuNzE4MDU5NSAyOTguNTIwNTE3LDg5LjE5MjM0MiBDMzA5LjQyMDI1OSw5MC45NDE1MjA0IDMxNy43ODQxOTksMTAwLjMzMDAwNCAzMTcuODQ4OTk1LDExMS43MzIwNTYgQzMxNy44NTI0OTgsMTEyLjQ0NjQzNSAzMTcuODEzOTcsMTEzLjE1MzgxIDMxNy43NTQ0MjgsMTEzLjg1MjQzMSBDMzIzLjMwOTM3MywxMTQuNTg5NTcyIDMyOC4yNDA4NzYsMTE3LjMxMDUxNyAzMzEuODExNjYyLDEyMS4yNzgxMjMgQzMxNi4xNDMyODQsMTQ1LjA2OTc1MSAyNTIuMTcwMzQ4LDE2My4xNzc4NjIgMTc1LjQ4NTEzNCwxNjMuNjE3MzQ2IEM4Ny42Nzc3NzExLDE2NC4xMTk4NjIgMTYuMjYzODAxLDE0MS4yNzE5ODUgMTQuOTA0ODM1OCwxMTIuNDQyOTMzIEMxNS4wOTc0NzI2LDExMi4yMzQ1NzIgMTUuMjc0MzQ4MywxMTIuMDEwNDU0IDE1LjQ3NTc0MTMsMTExLjgwOTA5NyBDMTQuMTIwMjc4NiwxMDkuNDk3ODcgMTMuMTg1MTE0NCwxMDYuOTIyMjUzIDEyLjcwMTc3MTEsMTA0LjE4OTA1MiBDNC4yOTQwNDk3NSwxMTIuMTY4MDM3IC0wLjc5MzMxMzQzMywxMTguNjAwOTUyIDAuMTAxNTcyMTM5LDEyNy45Njg0MjQgQzAuMTg3MzgzMDg1LDEyOS4yMjAzMzggMzcuMjk3OTksMzk0Ljg4MDA5NyAzNy4yOTc5OSwzOTQuODgwMDk3IEM0MS41Nzk3ODExLDQzNi45NTQ5MjkgMTAyLjY4OTQzMyw0NzAuNTgzMjc5IDE3NS40ODUxMzQsNDcxIEMyNDguMjgwODM2LDQ3MC41ODMyNzkgMzA5LjM5MjIzOSw0MzYuOTU0OTI5IDMxMy42NzIyNzksMzk0Ljg4MDA5NyBDMzEzLjY3MjI3OSwzOTQuODgwMDk3IDM1MC43ODI4ODYsMTI5LjIyMDMzOCAzNTAuODY4Njk3LDEyNy45Njg0MjQgQzM1Mi42NDYyMDksMTA5LjIzMTcyOSAzMzAuNzE4ODg2LDkyLjIyMzIwMDcgMjk4LjQ3ODQ4OCw4MC4xMzQ3ODQ0IFoiLz4KICA8L2c+Cjwvc3ZnPgo="},84597:e=>{"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI1NjAiIGhlaWdodD0iNTYwIiB2aWV3Qm94PSIwIDAgNTYwIDU2MCI+CiAgPGcgZmlsbD0ibm9uZSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoODAgNzQpIj4KICAgIDxwYXRoIGZpbGw9IiNGQTMyMEEiIGQ9Ik0zOTguMjkwMTI5LDIyMi45NzU5NjYgQzM5NC4zMDA0MjksMTU5LjAxMDMgMzYxLjc2OTk1NywxMTEuMTUyNzkgMzEyLjgyMjMxOCw4NC4zOTc0MjQ5IEMzMTMuMTAwNDI5LDg1Ljk1NjIyMzIgMzExLjcxMzMwNSw4Ny45MDQ3MjEgMzEwLjEzMzkwNiw4Ny4yMTQ1OTIzIEMyNzguMTE4NDU1LDczLjIwOTQ0MjEgMjIzLjgwNjAwOSwxMTguNTM0NzY0IDE4NS44NTIzNjEsOTQuNzk5MTQxNiBDMTg2LjEzNzMzOSwxMDMuMzE3NTk3IDE4NC40NzM4MiwxNDQuODcxMjQ1IDEyNS45MzgxOTcsMTQ3LjI4MTU0NSBDMTI0LjU1NjIyMywxNDcuMzM4MTk3IDEyMy43OTU3MDgsMTQ1LjkyNzAzOSAxMjQuNjY5NTI4LDE0NC45Mjc4OTcgQzEzMi40OTc4NTQsMTM1Ljk5OTE0MiAxNDAuNDAxNzE3LDExMy4zOTMxMzMgMTI5LjAzNjkxLDEwMS4zNDE2MzEgQzEwNC42OTg3MTIsMTIzLjE1MTA3MyA5MC41NjQ4MDY5LDEzMS4zNTg3OTggNDMuODk4NzEyNCwxMjAuNTI3ODk3IEMxNC4wMjA2MDA5LDE1MS43NjkwOTkgLTIuOTA5ODcxMjQsMTk0LjUyNzg5NyAwLjQxMzczMzkwNiwyNDcuNzkzMTMzIEM3LjE5NDg0OTc5LDM1Ni41Mjc4OTcgMTA5LjA0Mzc3Nyw0MTguNjgyNDAzIDIxMS42MDY4NjcsNDEyLjI4MjQwMyBDMzE0LjE2MzA5LDQwNS44ODc1NTQgNDA1LjA3Mjk2MSwzMzEuNzEwNzMgMzk4LjI5MDEyOSwyMjIuOTc1OTY2Ii8+CiAgICA8cGF0aCBmaWxsPSIjMDA5MTJEIiBkPSJNMjExLjM3NTEwNyw1OC4yOTI3MDM5IEMyMzIuNDQ5Nzg1LDUzLjI2OTUyNzkgMjkzLjA2NzgxMSw1Ny44MDM0MzM1IDMxMi40ODkyNyw4My41NjY1MjM2IEMzMTMuNjU0OTM2LDg1LjExMTU4OCAzMTIuMDEzNzM0LDg4LjAzNTE5MzEgMzEwLjEzMzkwNiw4Ny4yMTQ1OTIzIEMyNzguMTE4NDU1LDczLjIwOTQ0MjEgMjIzLjgwNjAwOSwxMTguNTM0NzY0IDE4NS44NTIzNjEsOTQuNzk5MTQxNiBDMTg2LjEzNzMzOSwxMDMuMzE3NTk3IDE4NC40NzM4MiwxNDQuODcxMjQ1IDEyNS45MzgxOTcsMTQ3LjI4MTU0NSBDMTI0LjU1NjIyMywxNDcuMzM4MTk3IDEyMy43OTU3MDgsMTQ1LjkyNzAzOSAxMjQuNjY5NTI4LDE0NC45Mjc4OTcgQzEzMi40OTc4NTQsMTM1Ljk5OTE0MiAxNDAuNCwxMTMuMzkzMTMzIDEyOS4wMzY5MSwxMDEuMzQxNjMxIEMxMDIuNTI1MzIyLDEyNS4wOTk1NzEgODguMTUyNzg5NywxMzIuNzMzOTA2IDMwLjYxMTE1ODgsMTE3LjE4MDI1OCBDMjguNzI3ODk3LDExNi42NzIxMDMgMjkuMzY5OTU3MSwxMTMuNjQ1NDk0IDMxLjM3MzM5MDYsMTEyLjg4MTU0NSBDNDIuMjQ4OTI3LDEwOC43MjUzMjIgNjYuODg3NTUzNiw5MC41MjEwMyA5MC4xOTc0MjQ5LDgyLjQ5Njk5NTcgQzk0LjYzNTE5MzEsODAuOTcwODE1NSA5OS4wNTkyMjc1LDc5Ljc4NjI2NjEgMTAzLjM3NjgyNCw3OS4wOTc4NTQxIEM3Ny43MTE1ODgsNzYuODA0MjkxOCA2Ni4xNDI0ODkzLDczLjIzNTE5MzEgNDkuODE4MDI1OCw3NS42OTY5OTU3IEM0OC4wMjkxODQ1LDc1Ljk2NjUyMzYgNDYuODEzNzMzOSw3My44ODQxMjAyIDQ3LjkyMjc0NjgsNzIuNDU1Nzk0IEM2OS45MTc1OTY2LDQ0LjEyNDQ2MzUgMTEwLjQzNjA1MiwzNS41NjgyNDAzIDEzNS40MzUxOTMsNTAuNjE4ODg0MSBDMTIwLjAyNTc1MSwzMS41MjUzMjE5IDEwNy45NTUzNjUsMTYuMjk3ODU0MSAxMDcuOTU1MzY1LDE2LjI5Nzg1NDEgTDEzNi41NTYyMjMsMC4wNTIzNjA1MTUgQzEzNi41NTYyMjMsMC4wNTIzNjA1MTUgMTQ4LjM3MjUzMiwyNi40NTIzNjA1IDE1Ni45Njk5NTcsNDUuNjY2MDk0NCBDMTc4LjI0NTQ5NCwxNC4yMzA5MDEzIDIxNy44MzAwNDMsMTEuMzI5NjEzNyAyMzQuNTU0NTA2LDMzLjYzMzQ3NjQgQzIzNS41NDY3ODEsMzQuOTU4Nzk4MyAyMzQuNTA5ODcxLDM2Ljg0Mzc3NjggMjMyLjg1MzIxOSwzNi44MDQyOTE4IEMyMTkuMjQxMjAyLDM2LjQ3Mjk2MTQgMjExLjc0NTkyMyw0OC44NTQwNzczIDIxMS4xNzc2ODIsNTguMjcwMzg2MyBMMjExLjM3NTEwNyw1OC4yOTI3MDM5Ii8+CiAgPC9nPgo8L3N2Zz4K"},28713:e=>{"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI1NjAiIGhlaWdodD0iNTYwIiB2aWV3Qm94PSIwIDAgNTYwIDU2MCI+CiAgPHBhdGggZmlsbD0iIzBBQzg1NSIgZD0iTTM3NS4xODUyNjMsMzY4LjY4NDQ3NCBDMjk1LjgxNjMxNiwzNzIuODUxMzE2IDI3OS41OTg0MjEsMjgyLjAzMTg0MiAyNDguNDU5NDc0LDI4Mi42Nzg0MjEgQzIzNS4xOTA3ODksMjgyLjk1NjU3OSAyMjQuNzMzMTU4LDI5Ni44Mjk0NzQgMjI5LjMyNTUyNiwzMTIuOTk3NjMyIEMyMzEuODUxMDUzLDMyMS44ODU3ODkgMjM4Ljg1NjU3OSwzMzQuOTIwNTI2IDI0My4yNzAyNjMsMzQzLjAwOTIxMSBDMjU4LjgzOTczNywzNzEuNTUyNjMyIDIzNS44MjI2MzIsNDAzLjg1Mzk0NyAyMDguODg3MzY4LDQwNi41ODU3ODkgQzE2NC4xMjYwNTMsNDExLjEyNjU3OSAxNDUuNDU0NDc0LDM4NS4xNjAyNjMgMTQ2LjYwOTQ3NCwzNTguNTc4Njg0IEMxNDcuOTA4MTU4LDMyOC43Mzg0MjEgMTczLjIwOTQ3NCwyOTguMjQ3ODk1IDE0Ny4yNTk3MzcsMjg1LjI3Mzk0NyBDMTIwLjA2NDczNywyNzEuNjc3MzY4IDk3Ljk1NzYzMTYsMzI0Ljg0NjA1MyA3MS45MzQyMTA1LDMzNi43MTI4OTUgQzQ4LjM4MTA1MjYsMzQ3LjQ1NDIxMSAxNS42ODU1MjYzLDMzOS4xMjYwNTMgNC4wNjE4NDIxMSwzMTIuOTcxODQyIEMtNC4xMDIzNjg0MiwyOTQuNTkzMTU4IC0yLjYxNzYzMTU4LDI1OS4yMDQ0NzQgMzMuNzMyNjMxNiwyNDUuNzAxODQyIEM1Ni40Mzg0MjExLDIzNy4yNjg2ODQgMTA3LjAzNzM2OCwyNTYuNzMwNTI2IDEwOS42MzI4OTUsMjMyLjA3OTQ3NCBDMTEyLjYyNDQ3NCwyMDMuNjYzMTU4IDU2LjQ3NzEwNTMsMjAxLjI2NjU3OSAzOS41NzIxMDUzLDE5NC40NTI2MzIgQzkuNjYsMTgyLjM5Nzg5NSAtNy45OTQ3MzY4NCwxNTYuNjAyODk1IDUuODM3NjMxNTgsMTI4LjkzMDc4OSBDMTYuMjE2MDUyNiwxMDguMTczOTQ3IDQ2Ljc1MjYzMTYsOTkuNzI3ODk0NyA3MC4wNjA3ODk1LDEwOC44MjA1MjYgQzk3Ljk4MzQyMTEsMTE5LjcxMjg5NSAxMDIuNDY1MjYzLDE0OC42NzQ0NzQgMTE2Ljc3MTA1MywxNjAuNzE4MTU4IEMxMjkuMDk0NzM3LDE3MS4wOTg0MjEgMTQ1Ljk2MTA1MywxNzIuMzk3MTA1IDE1Ni45OTE1NzksMTY1LjI2MDc4OSBDMTY1LjEyNjMxNiwxNTkuOTk2MDUzIDE2Ny44MzQyMTEsMTQ4LjQzMzE1OCAxNjQuNzY1MjYzLDEzNy44NzA1MjYgQzE2MC42OTQyMTEsMTIzLjg0ODQyMSAxNDkuODkwMjYzLDExNS4wOTg0MjEgMTM5LjM0OTczNywxMDYuNTI1MjYzIEMxMjAuNTkxNTc5LDkxLjI3NjMxNTggOTQuMTA5NDczNyw3OC4xNjQyMTA1IDExMC4xMjg0MjEsMzYuNTQxODQyMSBDMTIzLjI1ODk0NywyLjQzMTU3ODk1IDE2MS43NywxLjIwMjg5NDc0IDE2MS43NywxLjIwMjg5NDc0IEMxNzcuMDcwNTI2LC0wLjUxNzYzMTU3OSAxOTAuNzcyMTA1LDQuMTAyMzY4NDIgMjAxLjkzNzEwNSwxNC4wNzczNjg0IEMyMTYuODYzNjg0LDI3LjQxMjM2ODQgMjE5Ljc3MDUyNiw0NS4yMzY1Nzg5IDIxNy4yNzI2MzIsNjQuMjUyNjMxNiBDMjE0Ljk5MDI2Myw4MS42MTA3ODk1IDIwOC44NDY4NDIsOTYuODEzNjg0MiAyMDUuNjQzNDIxLDExNC4wMTE1NzkgQzIwMS45MjYwNTMsMTMzLjk3ODE1OCAyMTIuNTk3MzY4LDE1NC4wOTc2MzIgMjMyLjg5MTg0MiwxNTQuODgwNTI2IEMyNTkuNTg1Nzg5LDE1NS45MTIxMDUgMjY3LjU4OTczNywxMzUuMzk0NzM3IDI3MC44NTU3ODksMTIyLjM4OTQ3NCBDMjc1LjYzNzg5NSwxMDMuMzYwNTI2IDI4MS45MTM5NDcsODUuNjk0NzM2OCAyOTkuNTc0MjExLDc0LjU2ODQyMTEgQzMyNC45MTk3MzcsNTguNTk5MjEwNSAzNjAuMTI2MDUzLDYyLjA5OTIxMDUgMzc2LjQ2LDkyLjc5MDUyNjMgQzM4OS4zODA1MjYsMTE3LjA3NSAzODUuMjMyMTA1LDE1MC41MDU1MjYgMzY1LjQxMjg5NSwxNjguNzYwNzg5IEMzNTYuNTIxMDUzLDE3Ni45NDg5NDcgMzQ1LjgyOTQ3NCwxNzkuODM1NTI2IDMzNC4yNjQ3MzcsMTc5LjkxNjU3OSBDMzE3LjY4MDI2MywxODAuMDM0NDc0IDMwMS4xMDMxNTgsMTc5LjYyNzM2OCAyODUuNzA4Njg0LDE4Ny4zODgxNTggQzI3NS4yMjg5NDcsMTkyLjY2OTQ3NCAyNzAuNjYyMzY4LDIwMS4yNzU3ODkgMjcwLjY2NDIxMSwyMTIuODExMDUzIEMyNzAuNjY0MjExLDIyNC4wNTM0MjEgMjc2LjUxNjU3OSwyMzEuMzk2MDUzIDI4NS45OTk3MzcsMjM2LjE3NDQ3NCBDMzAzLjg2MDc4OSwyNDUuMTc2ODQyIDMyMy41NzY4NDIsMjQ3LjAxNzEwNSAzNDIuODcxMDUzLDI1MC4zOTU1MjYgQzM3MC44NTA3ODksMjU1LjI5NTUyNiAzOTUuNDUyMTA1LDI2NS4xNTA3ODkgNDExLjI0NjMxNiwyOTEuMTE1MjYzIEM0MTEuMzg4MTU4LDI5MS4zNDM2ODQgNDExLjUyNjMxNiwyOTEuNTczOTQ3IDQxMS42NjA3ODksMjkxLjgwNjA1MyBDNDI5LjgsMzIyLjU0NzEwNSA0MTAuODMsMzY2LjgxMTA1MyAzNzUuMTg1MjYzLDM2OC42ODQ0NzQiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDcwIDc2KSIvPgo8L3N2Zz4K"},29557:e=>{"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI1NjAiIGhlaWdodD0iNTYwIiB2aWV3Qm94PSIwIDAgNTYwIDU2MCI+CiAgPGcgZmlsbD0ibm9uZSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMzMgMTQwKSI+CiAgICA8cGF0aCBmaWxsPSIjRkZGIiBkPSJNNDMuODAyMDA2NiwyNjcuMzE1MiBMMjgxLjc0NTQwMywyOTAuNzk3MTA1IEMyODYuNTM5MTQ4LDMwNS43MzQ0IDI5Mi44OTQ2MjMsMzIwLjMxNDIxIDMwMi4wMDQxMzgsMzMxLjA1MjggTDcxLjczODA4NTIsMzAwLjkyNzYxOSBDNjEuNDkwNTM3NywyOTQuMTc1Njk1IDUwLjg3NzA2ODksMjgxLjA1MDM2MiA0My44MDIwMDY2LDI2Ny4zMTUyIFogTTI2Ni42ODQ4NTIsMTkyLjAxNzE0MyBDMjY3LjI4NTM4NCwyMTIuOTIzMDQ4IDI3MC4xMTY0NTksMjM5Ljk4MTU2MiAyNzUuMDMxMDEsMjYzLjAzNDEzMyBMMzMuODc2NjA5OCwyNDMuOTUwNzA1IEMyNi4zNTg1OTAyLDIyMS4yMTE4MSAyNC4wMywyMDcuOTkxODQ4IDIyLjE3MjM4MDMsMTg5LjA2NjEzMyBMMjY2LjY4NDg1MiwxOTIuMDE3MTQzIFogTTI3NS4wMzEwMSw4OS4zMDgzNDI5IEMyNzAuMTE2NDU5LDExMi4zNjA5MTQgMjY3LjI4NTM4NCwxMzkuNDE5NDI5IDI2Ni42ODQ4NTIsMTYwLjMyNTMzMyBMMjIuMTcyMzgwMywxNjMuMjc2MzQzIEMyNC4wMywxNDQuMzUwNjI5IDI2LjM1ODU5MDIsMTMxLjEzMDY2NyAzMy44NzY2MDk4LDEwOC4zOTE3NzEgTDI3NS4wMzEwMSw4OS4zMDgzNDI5IFogTTMwMi4wMDQxMzgsMjEuMjg5Njc2MiBDMjkyLjg5NDYyMywzMi4wMzAwMTkgMjg2LjUzOTE0OCw0Ni42MDgwNzYyIDI4MS43NDU0MDMsNjEuNTQ3MTIzOCBMNDMuODAyMDA2Niw4NS4wMjcyNzYyIEM1MC44NzcwNjg5LDcxLjI5MjExNDMgNjEuNDkwNTM3Nyw1OC4xNjg1MzMzIDcxLjczODA4NTIsNTEuNDE0ODU3MSBMMzAyLjAwNDEzOCwyMS4yODk2NzYyIFoiLz4KICAgIDxwYXRoIGZpbGw9IiMwMDY0MUUiIGQ9Ik0zMDMuNTY1ODY5LDI2NC42NjczNTIgQzMwNi43MjA4NDYsMjU2Ljg0NjQ3NiAzMTcuOTAzMzMxLDI1Mi4wODE3NTIgMzI1LjkzMjU5LDI1Mi42MzkwMSBDMzM0LjUxNTEwOCwyNTMuMjM0ODE5IDM0My42MzE2MjYsMjYyLjI2NDgzOCAzNDUuMjI0ODcyLDI3MS4xNDU5MDUgQzM0NS41MjA3NjEsMjcwLjgyMzQ2NyAzNDUuODMwNjU2LDI3MC41MTg1NTIgMzQ2LjE0NTgwMywyNzAuMjE4ODk1IEMzNDguOTAxNTkzLDI2Ny41ODMzMTQgMzUyLjM1NDIxLDI2NS44MzQ0MzggMzU2LjEzMjQ3OSwyNjUuMzUyNTMzIEMzNTUuNTU0NzA4LDI2Mi43OTA1NTIgMzU1LjQxNjM5MywyNjAuMDQ4MDc2IDM1NS44MTIwNzksMjU3LjIzMzc1MiBDMzU3LjIwNzQ4MiwyNDcuMzMyOCAzNjUuMTQ1Njk4LDIzOS45MDc5NjIgMzc0LjIzNDIwMywyMzkuOTgxNTYyIEMzODAuMDk5NDQ5LDI0MC4wMjg4NzYgMzg1LjI0NTEwOCwyNDMuMDMyNDU3IDM4OC41OTc5MjgsMjQ3LjY0NjQ3NiBDMzg4Ljg5NzMxOCwyNDcuMjcxNDY3IDM4OS4yMjgyMjMsMjQ2LjkyOCAzODkuNTUwMzc0LDI0Ni41Nzc1MjQgQzM5My4zODQ2NjksMjI2LjU4NjM2MiAzOTUuODE0ODA3LDIwMy45OTk5MjQgMzk2LjM2ODA2NiwxODAuMDMwODU3IEMzOTguMjY3NzA1LDk3LjYxMTEyMzggMzc3LjM3NTE3NCwzMC4yNzc2MzgxIDM0OS43MDUyMiwyOS42Mzk3NzE0IEMzMjIuMDMzNTE1LDI5LjAwMDE1MjQgMjk4LjA2MTI5Miw5NS4yOTYyMjg2IDI5Ni4xNjE2NTIsMTc3LjcxNTk2MiBDMjk2LjE2MTY1MiwxNzcuNzE1OTYyIDI5NC42OTYyMTYsMjA3Ljc3ODA1NyAzMDMuNTY1ODY5LDI2NC42NjczNTIiLz4KICAgIDxwYXRoIGZpbGw9IiNGRkQ3MDAiIGQ9Ik00OTAuOTEwNTc3LDM1NC43OTc1NjIgQzQ5Mi41NDU4NDMsMzUyLjA2NTYgNDkzLjQ1OTc3LDM0OC43OTA0IDQ5My4zOTY3NDEsMzQ1LjMxMDE3MSBDNDkzLjkyNzIzOSwzMzQuMDY1MTQzIDQ4Ni4yMTQ4NzksMzIzLjg3MTU0MyA0NzUuNDg0MTA1LDMyNS4wMDAwNzYgQzQ3NS43OTQsMzIzLjcxMzgyOSA0NzUuOTk3MDk1LDMyMi4zNzY3NjIgNDc2LjA3NTg4MiwzMjAuOTk3NjM4IEM0NzYuNzE4NDMzLDMwOS43MzMzMzMgNDY4Ljk1NzA0OSwzMDAuMDI1MTQzIDQ1OC43MzkyNjYsMjk5LjMxNTQyOSBDNDU4LjUxNTE2MSwyOTkuMzAxNDEgNDU4LjI5NDU1NywyOTkuMjk0NCA0NTguMDcyMjAzLDI5OS4yODczOSBDNDU5LjEzNDk1MSwyOTYuNDkyMzQzIDQ1OS42NjE5NDgsMjkzLjM3MTM1MiA0NTkuNDc0NjEsMjkwLjA2NDYxIEM0NTguOTQ1ODYyLDI4MC42OTI4NzYgNDUyLjQ4ODgzOSwyNzIuNzk2NjQ4IDQ0NC4wODg0MDcsMjcxLjI0MjI4NiBDNDQxLjA1NDIzNiwyNzAuNjgxNTI0IDQzOC4xMTExMDgsMjcwLjk2MDE1MiA0MzUuNDE2NTk3LDI3MS44OTQxNzEgQzQzMi44NzA5MDUsMjY1LjYxNzE0MyA0MjcuNTI1NjUyLDI2MC45NjEwNjcgNDIxLjAyMzEwOCwyNTkuOTc3OTgxIEM0MjAuNTA4MzY3LDI0OS43ODYxMzMgNDEzLjE1MzE3NCwyNDEuMzk3NDg2IDQwMy42ODI5OSwyNDAuNzQwMzQzIEMzOTcuNzI4NDUyLDI0MC4zMjY3ODEgMzkyLjI1NzE0MSwyNDMuMDY0IDM4OC41OTc5MjgsMjQ3LjY0NjQ3NiBDMzg1LjI0NTEwOCwyNDMuMDMyNDU3IDM4MC4wOTk0NDksMjQwLjAzMDYyOSAzNzQuMjM0MjAzLDIzOS45ODMzMTQgQzM2NS4xNDU2OTgsMjM5LjkwNzk2MiAzNTcuMjA3NDgyLDI0Ny4zMzI4IDM1NS44MTIwNzksMjU3LjIzNTUwNSBDMzU1LjQxNjM5MywyNjAuMDQ4MDc2IDM1NS41NTQ3MDgsMjYyLjc5MDU1MiAzNTYuMTMyNDc5LDI2NS4zNTQyODYgQzM1Mi4zNTQyMSwyNjUuODM0NDM4IDM0OC45MDE1OTMsMjY3LjU4NTA2NyAzNDYuMTQ1ODAzLDI3MC4yMTg4OTUgQzM0NS44MzA2NTYsMjcwLjUxODU1MiAzNDUuNTIwNzYxLDI3MC44MjM0NjcgMzQ1LjIyNDg3MiwyNzEuMTQ1OTA1IEMzNDMuNjMxNjI2LDI2Mi4yNjQ4MzggMzM0LjUxNTEwOCwyNTMuMjM2NTcxIDMyNS45MzI1OSwyNTIuNjM5MDEgQzMxNy45MDMzMzEsMjUyLjA4MTc1MiAzMDYuNTc1NTI4LDI1Ni45NjM4ODYgMzAzLjU2NTg2OSwyNjQuNjY3MzUyIEMzMDQuODg1OTg3LDI3OC4xMDExMDUgMzEzLjI3NTkxNSwzMTQuNzIwNjEgMzQzLjYyMTEyMSwzNDcuNTcwNzQzIEwzNDMuODkwNzQ4LDM0Ny41OTAwMTkgQzM0Ni44MTYzNjcsMzUwLjIzOTYxOSAzNTAuNjM2NjU2LDM1MS42OTkzNTIgMzU0LjcwOTA2MiwzNTEuMzM2NjEgQzM1Ny4yMzM3NDQsMzUxLjExMDU1MiAzNTkuNTU4ODMzLDM1MC4yMDYzMjQgMzYxLjU2MTc3LDM0OC44MTE0MjkgTDM2Mi4wNTAyNDksMzQ4Ljg0NDcyNCBDMzY0LjcyMDI0OSwzNTAuNzAwNDk1IDM2Ny45Mjk1MDIsMzUxLjY3MTMxNCAzNzEuMzIwODM5LDM1MS4zNjk5MDUgQzM3Mi42MTY0NDYsMzUxLjI1NDI0OCAzNzMuODUyNTI1LDM1MC45NDIzMjQgMzc1LjAyNzMyNSwzNTAuNDk3MjE5IEMzNzcuOTMzNjg1LDM1Ni41MTEzOSAzODQuNDE1MjIsMzYwLjM5ODE3MSAzOTEuNjQ5NjA3LDM1OS43NjAzMDUgQzM5Ny4yNTIyMywzNTkuMjY2MTMzIDQwMi4wMTQ0NTksMzU2LjE2NDQxOSA0MDQuODE0MDIsMzUxLjc5OTIzOCBMNDA1LjcyMDk0NCwzNTEuODYyMzI0IEM0MDguNTE3MDAzLDM1NC42MzYzNDMgNDEyLjIzMzk5MywzNTYuMjUyMDM4IDQxNi4yNDMzNywzNTYuMTMxMTI0IEM0MTkuNTU3NjcyLDM2MS4xNDk5NDMgNDI1LjY0NTI3MiwzNjQuMjM3NjM4IDQzMi4zNjMxNjcsMzYzLjY0NzA4NiBDNDM0Ljg5MzEwMiwzNjMuNDI0NTMzIDQzNy4yNTQ5NTcsMzYyLjY5MjAzOCA0MzkuMzYxMTkzLDM2MS41ODI3ODEgQzQ0Mi44NzUwODksMzY1LjkwOTQxIDQ0OC42NDIyODksMzY4LjQ4MTkwNSA0NTQuOTY5NzUxLDM2Ny45MjQ2NDggQzQ2MS4yMjU0MywzNjcuMzc2MTUyIDQ2Ni41MDk0MDMsMzYzLjkwNDY4NiA0NjkuMzg0MjQ5LDM1OS4xMDQ5MTQgQzQ3Mi4yMDgzMjEsMzYxLjM3NDI0OCA0NzUuNzQ2NzI4LDM2Mi41OTIxNTIgNDc5LjUwMzk4NywzNjIuMjU3NDQ4IEM0ODMuMTQ5MTkzLDM2MS45MzE1MDUgNDg2LjM4ODIxLDM2MC4yMDg5MTQgNDg4LjgyMTg0OSwzNTcuNjAzMTI0IEw0ODkuMjI4MDM5LDM1Ny42MzExNjIgQzQ4OS43ODEyOTgsMzU2LjgyODU3MSA0OTAuMjU0MDIsMzU2LjAwNjcwNSA0OTAuNjkzNDc1LDM1NS4xNzc4MjkgQzQ5MC43MDM5OCwzNTUuMTYyMDU3IDQ5MC43MTI3MzQsMzU1LjE0NDUzMyA0OTAuNzIxNDg5LDM1NS4xMjg3NjIgQzQ5MC43ODEwMTYsMzU1LjAxODM2MiA0OTAuODU0NTUxLDM1NC45MDk3MTQgNDkwLjkxMDU3NywzNTQuNzk3NTYyIi8+CiAgICA8cGF0aCBmaWxsPSIjMDRBNTNDIiBkPSJNMjgxLjc0NTQwMyw2MS41NDcxMjM4IEw0My44MDIwMDY2LDg1LjAyNzI3NjIgQzUwLjg3NzA2ODksNzEuMjkyMTE0MyA2MS40OTA1Mzc3LDU4LjE2ODUzMzMgNzEuNzM4MDg1Miw1MS40MTQ4NTcxIEwzMDIuMDA0MTM4LDIxLjI4OTY3NjIgQzI5Mi44OTQ2MjMsMzIuMDMwMDE5IDI4Ni41MzkxNDgsNDYuNjA4MDc2MiAyODEuNzQ1NDAzLDYxLjU0NzEyMzggWiBNMzAyLjAwNDEzOCwzMzEuMDUyOCBMNzEuNzM4MDg1MiwzMDAuOTI3NjE5IEM2MS40OTA1Mzc3LDI5NC4xNzU2OTUgNTAuODc3MDY4OSwyODEuMDUwMzYyIDQzLjgwMjAwNjYsMjY3LjMxNjk1MiBMMjgxLjc0NTQwMywyOTAuNzk3MTA1IEMyODYuNTM5MTQ4LDMwNS43MzQ0IDI5Mi44OTQ2MjMsMzIwLjMxNDIxIDMwMi4wMDQxMzgsMzMxLjA1MjggWiBNMzMuODc2NjA5OCwyNDMuOTUwNzA1IEMyNi4zNTg1OTAyLDIyMS4yMTE4MSAyNC4wMywyMDcuOTkzNiAyMi4xNzIzODAzLDE4OS4wNjYxMzMgTDI2Ni42ODQ4NTIsMTkyLjAxNzE0MyBDMjY3LjI4NTM4NCwyMTIuOTIzMDQ4IDI3MC4xMTY0NTksMjM5Ljk4MTU2MiAyNzUuMDMxMDEsMjYzLjAzNDEzMyBMMzMuODc2NjA5OCwyNDMuOTUwNzA1IFogTTMzLjg3NjYwOTgsMTA4LjM5MTc3MSBMMjc1LjAzMTAxLDg5LjMwODM0MjkgQzI3MC4xMTY0NTksMTEyLjM2MDkxNCAyNjcuMjg1Mzg0LDEzOS40MTk0MjkgMjY2LjY4NDg1MiwxNjAuMzI3MDg2IEwyMi4xNzIzODAzLDE2My4yNzYzNDMgQzI0LjAzLDE0NC4zNTA2MjkgMjYuMzU4NTkwMiwxMzEuMTMwNjY3IDMzLjg3NjYwOTgsMTA4LjM5MTc3MSBaIE0zNzguNTk3MjQ2LDI1LjcxMjY4NTcgQzM2My4zNDIzNTQsNy45MzQ3ODA5NSAzNTIuMzkwOTc3LC0wLjQxMTgwOTUyNCAzNDMuMDEwMDg1LDAuNjcyOTE0Mjg2IEMzNDEuMjYxMDE2LDAuODk1NDY2NjY3IDc2LjExNjg4NTIsMzcuODk1MjM4MSA3Ni4xMTY4ODUyLDM3Ljg5NTIzODEgQzM0LjA0MjkzNzcsNDIuMTc4MDU3MSAwLjQxNjY5NTA4MiwxMDMuMzI3MzkgMCwxNzYuMTcyMTE0IEMwLjQxNjY5NTA4MiwyNDkuMDE1MDg2IDM0LjA0MjkzNzcsMzEwLjE2NDQxOSA3Ni4xMTY4ODUyLDMxNC40NDg5OSBDNzYuMTE2ODg1MiwzMTQuNDQ4OTkgMzQxLjc1ODI0OSwzNTEuNTgzNjk1IDM0My4wMTAwODUsMzUxLjY2OTU2MiBDMzQ1LjIyODM3NCwzNTEuNjU1NTQzIDM0Ny40MTg2NDksMzUxLjM1NzYzOCAzNDkuNTc3NDEsMzUwLjgwMzg4NiBDMzQ3LjQ3NjQyNiwzNTAuMTc4Mjg2IDM0NS41MzgyNjksMzQ5LjA4MzA0OCAzNDMuODkwNzQ4LDM0Ny41OTAwMTkgTDM0My42MjExMjEsMzQ3LjU3MDc0MyBDMzEzLjI3NTkxNSwzMTQuNzIyMzYyIDMwNC44ODU5ODcsMjc4LjEwMTEwNSAzMDMuNTY1ODY5LDI2NC42NjczNTIgQzMwMy41NjkzNywyNjQuNjU2ODM4IDMwMy41NzYzNzQsMjY0LjY0ODA3NiAzMDMuNTc5ODc1LDI2NC42Mzc1NjIgQzMwMy41NzYzNzQsMjY0LjY0ODA3NiAzMDMuNTY5MzcsMjY0LjY1NjgzOCAzMDMuNTY1ODY5LDI2NC42NjczNTIgQzI5NC42OTYyMTYsMjA3Ljc3ODA1NyAyOTYuMTYxNjUyLDE3Ny43MTU5NjIgMjk2LjE2MTY1MiwxNzcuNzE1OTYyIEMyOTguMDYxMjkyLDk1LjI5NjIyODYgMzIyLjAzMzUxNSwyOS4wMDAxNTI0IDM0OS43MDUyMiwyOS42MzgwMTkgQzM3Ny4zNzUxNzQsMzAuMjc3NjM4MSAzOTguMjY3NzA1LDk3LjYxMTEyMzggMzk2LjM2ODA2NiwxODAuMDMwODU3IEMzOTUuODE0ODA3LDIwMy45OTk5MjQgMzkzLjM4NDY2OSwyMjYuNTg2MzYyIDM4OS41NTAzNzQsMjQ2LjU3NzUyNCBDMzkzLjQ4OTcxOCwyNDIuMjI2MzYyIDM5OC43NzM2OTIsMjQwLjM5MzM3MSA0MDMuNjgyOTksMjQwLjc0MDM0MyBDNDA0LjU4NjQxMywyNDAuODA1MTgxIDQwNS40NjUzMjUsMjQwLjk1NzYzOCA0MDYuMzI2NzI4LDI0MS4xNTU2NTcgQzQyMy4xMzEwOTUsMTQ5LjEyNTg2NyA0MDUuNTE0MzQ4LDU5LjI2MjAxOSAzNzguNTk3MjQ2LDI1LjcxMjY4NTcgWiIvPgogIDwvZz4KPC9zdmc+Cg=="},9390:(e,t,n)=>{var r,i,a;a="object"==typeof self&&self.self==self&&self||"object"==typeof n.g&&n.g.global==n.g&&n.g,r=[n(13469),n(19755),t],void 0===(i=function(e,t,n){a.Backbone=function(e,t,n,r){var i=e.Backbone,a=Array.prototype.slice;t.VERSION="1.2.3",t.$=r,t.noConflict=function(){return e.Backbone=i,this},t.emulateHTTP=!1,t.emulateJSON=!1;var s=function(e,t,r){n.each(t,(function(t,i){n[i]&&(e.prototype[i]=function(e,t,r){switch(e){case 1:return function(){return n[t](this[r])};case 2:return function(e){return n[t](this[r],e)};case 3:return function(e,i){return n[t](this[r],o(e,this),i)};case 4:return function(e,i,a){return n[t](this[r],o(e,this),i,a)};default:return function(){var e=a.call(arguments);return e.unshift(this[r]),n[t].apply(n,e)}}}(t,i,r))}))},o=function(e,t){return n.isFunction(e)?e:n.isObject(e)&&!t._isModel(e)?l(e):n.isString(e)?function(t){return t.get(e)}:e},l=function(e){var t=n.matches(e);return function(e){return t(e.attributes)}},c=t.Events={},d=/\s+/,u=function(e,t,r,i,a){var s,o=0;if(r&&"object"==typeof r){void 0!==i&&"context"in a&&void 0===a.context&&(a.context=i);for(s=n.keys(r);o<s.length;o++)t=u(e,t,s[o],r[s[o]],a)}else if(r&&d.test(r))for(s=r.split(d);o<s.length;o++)t=e(t,s[o],i,a);else t=e(t,r,i,a);return t};c.on=function(e,t,n){return p(this,e,t,n)};var p=function(e,t,n,r,i){return e._events=u(m,e._events||{},t,n,{context:r,ctx:e,listening:i}),i&&((e._listeners||(e._listeners={}))[i.id]=i),e};c.listenTo=function(e,t,r){if(!e)return this;var i=e._listenId||(e._listenId=n.uniqueId("l")),a=this._listeningTo||(this._listeningTo={}),s=a[i];if(!s){var o=this._listenId||(this._listenId=n.uniqueId("l"));s=a[i]={obj:e,objId:i,id:o,listeningTo:a,count:0}}return p(e,t,r,this,s),this};var m=function(e,t,n,r){if(n){var i=e[t]||(e[t]=[]),a=r.context,s=r.ctx,o=r.listening;o&&o.count++,i.push({callback:n,context:a,ctx:a||s,listening:o})}return e};c.off=function(e,t,n){return this._events?(this._events=u(h,this._events,e,t,{context:n,listeners:this._listeners}),this):this},c.stopListening=function(e,t,r){var i=this._listeningTo;if(!i)return this;for(var a=e?[e._listenId]:n.keys(i),s=0;s<a.length;s++){var o=i[a[s]];if(!o)break;o.obj.off(t,r,this)}return n.isEmpty(i)&&(this._listeningTo=void 0),this};var h=function(e,t,r,i){if(e){var a,s=0,o=i.context,l=i.listeners;if(t||r||o){for(var c=t?[t]:n.keys(e);s<c.length;s++){var d=e[t=c[s]];if(!d)break;for(var u=[],p=0;p<d.length;p++){var m=d[p];r&&r!==m.callback&&r!==m.callback._callback||o&&o!==m.context?u.push(m):(a=m.listening)&&0==--a.count&&(delete l[a.id],delete a.listeningTo[a.objId])}u.length?e[t]=u:delete e[t]}return n.size(e)?e:void 0}for(var h=n.keys(l);s<h.length;s++)delete l[(a=l[h[s]]).id],delete a.listeningTo[a.objId]}};c.once=function(e,t,r){var i=u(g,{},e,t,n.bind(this.off,this));return this.on(i,void 0,r)},c.listenToOnce=function(e,t,r){var i=u(g,{},t,r,n.bind(this.stopListening,this,e));return this.listenTo(e,i)};var g=function(e,t,r,i){if(r){var a=e[t]=n.once((function(){i(t,a),r.apply(this,arguments)}));a._callback=r}return e};c.trigger=function(e){if(!this._events)return this;for(var t=Math.max(0,arguments.length-1),n=Array(t),r=0;r<t;r++)n[r]=arguments[r+1];return u(y,this._events,e,void 0,n),this};var y=function(e,t,n,r){if(e){var i=e[t],a=e.all;i&&a&&(a=a.slice()),i&&v(i,r),a&&v(a,[t].concat(r))}return e},v=function(e,t){var n,r=-1,i=e.length,a=t[0],s=t[1],o=t[2];switch(t.length){case 0:for(;++r<i;)(n=e[r]).callback.call(n.ctx);return;case 1:for(;++r<i;)(n=e[r]).callback.call(n.ctx,a);return;case 2:for(;++r<i;)(n=e[r]).callback.call(n.ctx,a,s);return;case 3:for(;++r<i;)(n=e[r]).callback.call(n.ctx,a,s,o);return;default:for(;++r<i;)(n=e[r]).callback.apply(n.ctx,t);return}};c.bind=c.on,c.unbind=c.off,n.extend(t,c);var f=t.Model=function(e,t){var r=e||{};t||(t={}),this.cid=n.uniqueId(this.cidPrefix),this.attributes={},t.collection&&(this.collection=t.collection),t.parse&&(r=this.parse(r,t)||{}),r=n.defaults({},r,n.result(this,"defaults")),this.set(r,t),this.changed={},this.initialize.apply(this,arguments)};n.extend(f.prototype,c,{changed:null,validationError:null,idAttribute:"id",cidPrefix:"c",initialize:function(){},toJSON:function(e){return n.clone(this.attributes)},sync:function(){return t.sync.apply(this,arguments)},get:function(e){return this.attributes[e]},escape:function(e){return n.escape(this.get(e))},has:function(e){return null!=this.get(e)},matches:function(e){return!!n.iteratee(e,this)(this.attributes)},set:function(e,t,r){if(null==e)return this;var i;if("object"==typeof e?(i=e,r=t):(i={})[e]=t,r||(r={}),!this._validate(i,r))return!1;var a=r.unset,s=r.silent,o=[],l=this._changing;this._changing=!0,l||(this._previousAttributes=n.clone(this.attributes),this.changed={});var c=this.attributes,d=this.changed,u=this._previousAttributes;for(var p in i)t=i[p],n.isEqual(c[p],t)||o.push(p),n.isEqual(u[p],t)?delete d[p]:d[p]=t,a?delete c[p]:c[p]=t;if(this.id=this.get(this.idAttribute),!s){o.length&&(this._pending=r);for(var m=0;m<o.length;m++)this.trigger("change:"+o[m],this,c[o[m]],r)}if(l)return this;if(!s)for(;this._pending;)r=this._pending,this._pending=!1,this.trigger("change",this,r);return this._pending=!1,this._changing=!1,this},unset:function(e,t){return this.set(e,void 0,n.extend({},t,{unset:!0}))},clear:function(e){var t={};for(var r in this.attributes)t[r]=void 0;return this.set(t,n.extend({},e,{unset:!0}))},hasChanged:function(e){return null==e?!n.isEmpty(this.changed):n.has(this.changed,e)},changedAttributes:function(e){if(!e)return!!this.hasChanged()&&n.clone(this.changed);var t=this._changing?this._previousAttributes:this.attributes,r={};for(var i in e){var a=e[i];n.isEqual(t[i],a)||(r[i]=a)}return!!n.size(r)&&r},previous:function(e){return null!=e&&this._previousAttributes?this._previousAttributes[e]:null},previousAttributes:function(){return n.clone(this._previousAttributes)},fetch:function(e){e=n.extend({parse:!0},e);var t=this,r=e.success;return e.success=function(n){var i=e.parse?t.parse(n,e):n;if(!t.set(i,e))return!1;r&&r.call(e.context,t,n,e),t.trigger("sync",t,n,e)},R(this,e),this.sync("read",this,e)},save:function(e,t,r){var i;null==e||"object"==typeof e?(i=e,r=t):(i={})[e]=t;var a=(r=n.extend({validate:!0,parse:!0},r)).wait;if(i&&!a){if(!this.set(i,r))return!1}else if(!this._validate(i,r))return!1;var s=this,o=r.success,l=this.attributes;r.success=function(e){s.attributes=l;var t=r.parse?s.parse(e,r):e;if(a&&(t=n.extend({},i,t)),t&&!s.set(t,r))return!1;o&&o.call(r.context,s,e,r),s.trigger("sync",s,e,r)},R(this,r),i&&a&&(this.attributes=n.extend({},l,i));var c=this.isNew()?"create":r.patch?"patch":"update";"patch"!==c||r.attrs||(r.attrs=i);var d=this.sync(c,this,r);return this.attributes=l,d},destroy:function(e){e=e?n.clone(e):{};var t=this,r=e.success,i=e.wait,a=function(){t.stopListening(),t.trigger("destroy",t,t.collection,e)};e.success=function(n){i&&a(),r&&r.call(e.context,t,n,e),t.isNew()||t.trigger("sync",t,n,e)};var s=!1;return this.isNew()?n.defer(e.success):(R(this,e),s=this.sync("delete",this,e)),i||a(),s},url:function(){var e=n.result(this,"urlRoot")||n.result(this.collection,"url")||k();if(this.isNew())return e;var t=this.get(this.idAttribute);return e.replace(/[^\/]$/,"$&/")+encodeURIComponent(t)},parse:function(e,t){return e},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(e){return this._validate({},n.defaults({validate:!0},e))},_validate:function(e,t){if(!t.validate||!this.validate)return!0;e=n.extend({},this.attributes,e);var r=this.validationError=this.validate(e,t)||null;return!r||(this.trigger("invalid",this,r,n.extend(t,{validationError:r})),!1)}}),s(f,{keys:1,values:1,pairs:1,invert:1,pick:0,omit:0,chain:1,isEmpty:1},"attributes");var b=t.Collection=function(e,t){t||(t={}),t.model&&(this.model=t.model),void 0!==t.comparator&&(this.comparator=t.comparator),this._reset(),this.initialize.apply(this,arguments),e&&this.reset(e,n.extend({silent:!0},t))},I={add:!0,remove:!0,merge:!0},S={add:!0,remove:!1},M=function(e,t,n){n=Math.min(Math.max(n,0),e.length);for(var r=Array(e.length-n),i=t.length,a=0;a<r.length;a++)r[a]=e[a+n];for(a=0;a<i;a++)e[a+n]=t[a];for(a=0;a<r.length;a++)e[a+i+n]=r[a]};n.extend(b.prototype,c,{model:f,initialize:function(){},toJSON:function(e){return this.map((function(t){return t.toJSON(e)}))},sync:function(){return t.sync.apply(this,arguments)},add:function(e,t){return this.set(e,n.extend({merge:!1},t,S))},remove:function(e,t){t=n.extend({},t);var r=!n.isArray(e);e=r?[e]:n.clone(e);var i=this._removeModels(e,t);return!t.silent&&i&&this.trigger("update",this,t),r?i[0]:i},set:function(e,t){if(null!=e){(t=n.defaults({},t,I)).parse&&!this._isModel(e)&&(e=this.parse(e,t));var r=!n.isArray(e);e=r?e?[e]:[]:e.slice();var i=t.at;null!=i&&(i=+i),i<0&&(i+=this.length+1);for(var a,s=[],o=[],l=[],c={},d=t.add,u=t.merge,p=t.remove,m=!1,h=this.comparator&&null==i&&!1!==t.sort,g=n.isString(this.comparator)?this.comparator:null,y=0;y<e.length;y++){a=e[y];var v=this.get(a);if(v){if(u&&a!==v){var f=this._isModel(a)?a.attributes:a;t.parse&&(f=v.parse(f,t)),v.set(f,t),h&&!m&&(m=v.hasChanged(g))}c[v.cid]||(c[v.cid]=!0,s.push(v)),e[y]=v}else d&&(a=e[y]=this._prepareModel(a,t))&&(o.push(a),this._addReference(a,t),c[a.cid]=!0,s.push(a))}if(p){for(y=0;y<this.length;y++)c[(a=this.models[y]).cid]||l.push(a);l.length&&this._removeModels(l,t)}var b=!1,S=!h&&d&&p;if(s.length&&S?(b=this.length!=s.length||n.some(this.models,(function(e,t){return e!==s[t]})),this.models.length=0,M(this.models,s,0),this.length=this.models.length):o.length&&(h&&(m=!0),M(this.models,o,null==i?this.length:i),this.length=this.models.length),m&&this.sort({silent:!0}),!t.silent){for(y=0;y<o.length;y++)null!=i&&(t.index=i+y),(a=o[y]).trigger("add",a,this,t);(m||b)&&this.trigger("sort",this,t),(o.length||l.length)&&this.trigger("update",this,t)}return r?e[0]:e}},reset:function(e,t){t=t?n.clone(t):{};for(var r=0;r<this.models.length;r++)this._removeReference(this.models[r],t);return t.previousModels=this.models,this._reset(),e=this.add(e,n.extend({silent:!0},t)),t.silent||this.trigger("reset",this,t),e},push:function(e,t){return this.add(e,n.extend({at:this.length},t))},pop:function(e){var t=this.at(this.length-1);return this.remove(t,e)},unshift:function(e,t){return this.add(e,n.extend({at:0},t))},shift:function(e){var t=this.at(0);return this.remove(t,e)},slice:function(){return a.apply(this.models,arguments)},get:function(e){if(null!=e){var t=this.modelId(this._isModel(e)?e.attributes:e);return this._byId[e]||this._byId[t]||this._byId[e.cid]}},at:function(e){return e<0&&(e+=this.length),this.models[e]},where:function(e,t){return this[t?"find":"filter"](e)},findWhere:function(e){return this.where(e,!0)},sort:function(e){var t=this.comparator;if(!t)throw new Error("Cannot sort a set without a comparator");e||(e={});var r=t.length;return n.isFunction(t)&&(t=n.bind(t,this)),1===r||n.isString(t)?this.models=this.sortBy(t):this.models.sort(t),e.silent||this.trigger("sort",this,e),this},pluck:function(e){return n.invoke(this.models,"get",e)},fetch:function(e){var t=(e=n.extend({parse:!0},e)).success,r=this;return e.success=function(n){var i=e.reset?"reset":"set";r[i](n,e),t&&t.call(e.context,r,n,e),r.trigger("sync",r,n,e)},R(this,e),this.sync("read",this,e)},create:function(e,t){var r=(t=t?n.clone(t):{}).wait;if(!(e=this._prepareModel(e,t)))return!1;r||this.add(e,t);var i=this,a=t.success;return t.success=function(e,t,n){r&&i.add(e,n),a&&a.call(n.context,e,t,n)},e.save(null,t),e},parse:function(e,t){return e},clone:function(){return new this.constructor(this.models,{model:this.model,comparator:this.comparator})},modelId:function(e){return e[this.model.prototype.idAttribute||"id"]},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(e,t){if(this._isModel(e))return e.collection||(e.collection=this),e;(t=t?n.clone(t):{}).collection=this;var r=new this.model(e,t);return r.validationError?(this.trigger("invalid",this,r.validationError,t),!1):r},_removeModels:function(e,t){for(var n=[],r=0;r<e.length;r++){var i=this.get(e[r]);if(i){var a=this.indexOf(i);this.models.splice(a,1),this.length--,t.silent||(t.index=a,i.trigger("remove",i,this,t)),n.push(i),this._removeReference(i,t)}}return!!n.length&&n},_isModel:function(e){return e instanceof f},_addReference:function(e,t){this._byId[e.cid]=e;var n=this.modelId(e.attributes);null!=n&&(this._byId[n]=e),e.on("all",this._onModelEvent,this)},_removeReference:function(e,t){delete this._byId[e.cid];var n=this.modelId(e.attributes);null!=n&&delete this._byId[n],this===e.collection&&delete e.collection,e.off("all",this._onModelEvent,this)},_onModelEvent:function(e,t,n,r){if("add"!==e&&"remove"!==e||n===this){if("destroy"===e&&this.remove(t,r),"change"===e){var i=this.modelId(t.previousAttributes()),a=this.modelId(t.attributes);i!==a&&(null!=i&&delete this._byId[i],null!=a&&(this._byId[a]=t))}this.trigger.apply(this,arguments)}}}),s(b,{forEach:3,each:3,map:3,collect:3,reduce:4,foldl:4,inject:4,reduceRight:4,foldr:4,find:3,detect:3,filter:3,select:3,reject:3,every:3,all:3,some:3,any:3,include:3,includes:3,contains:3,invoke:0,max:3,min:3,toArray:1,size:1,first:3,head:3,take:3,initial:3,rest:3,tail:3,drop:3,last:3,without:0,difference:0,indexOf:3,shuffle:1,lastIndexOf:3,isEmpty:1,chain:1,sample:3,partition:3,groupBy:3,countBy:3,sortBy:3,indexBy:3},"models");var E=t.View=function(e){this.cid=n.uniqueId("view"),n.extend(this,n.pick(e,D)),this._ensureElement(),this.initialize.apply(this,arguments)},P=/^(\S+)\s*(.*)$/,D=["model","collection","el","id","attributes","className","tagName","events"];n.extend(E.prototype,c,{tagName:"div",$:function(e){return this.$el.find(e)},initialize:function(){},render:function(){return this},remove:function(){return this._removeElement(),this.stopListening(),this},_removeElement:function(){this.$el.remove()},setElement:function(e){return this.undelegateEvents(),this._setElement(e),this.delegateEvents(),this},_setElement:function(e){this.$el=e instanceof t.$?e:t.$(e),this.el=this.$el[0]},delegateEvents:function(e){if(e||(e=n.result(this,"events")),!e)return this;for(var t in this.undelegateEvents(),e){var r=e[t];if(n.isFunction(r)||(r=this[r]),r){var i=t.match(P);this.delegate(i[1],i[2],n.bind(r,this))}}return this},delegate:function(e,t,n){return this.$el.on(e+".delegateEvents"+this.cid,t,n),this},undelegateEvents:function(){return this.$el&&this.$el.off(".delegateEvents"+this.cid),this},undelegate:function(e,t,n){return this.$el.off(e+".delegateEvents"+this.cid,t,n),this},_createElement:function(e){return document.createElement(e)},_ensureElement:function(){if(this.el)this.setElement(n.result(this,"el"));else{var e=n.extend({},n.result(this,"attributes"));this.id&&(e.id=n.result(this,"id")),this.className&&(e.class=n.result(this,"className")),this.setElement(this._createElement(n.result(this,"tagName"))),this._setAttributes(e)}},_setAttributes:function(e){this.$el.attr(e)}}),t.sync=function(e,r,i){var a=C[e];n.defaults(i||(i={}),{emulateHTTP:t.emulateHTTP,emulateJSON:t.emulateJSON});var s={type:a,dataType:"json"};if(i.url||(s.url=n.result(r,"url")||k()),null!=i.data||!r||"create"!==e&&"update"!==e&&"patch"!==e||(s.contentType="application/json",s.data=JSON.stringify(i.attrs||r.toJSON(i))),i.emulateJSON&&(s.contentType="application/x-www-form-urlencoded",s.data=s.data?{model:s.data}:{}),i.emulateHTTP&&("PUT"===a||"DELETE"===a||"PATCH"===a)){s.type="POST",i.emulateJSON&&(s.data._method=a);var o=i.beforeSend;i.beforeSend=function(e){if(e.setRequestHeader("X-HTTP-Method-Override",a),o)return o.apply(this,arguments)}}"GET"===s.type||i.emulateJSON||(s.processData=!1);var l=i.error;i.error=function(e,t,n){i.textStatus=t,i.errorThrown=n,l&&l.call(i.context,e,t,n)};var c=i.xhr=t.ajax(n.extend(s,i));return r.trigger("request",r,c,i),c};var C={create:"POST",update:"PUT",patch:"PATCH",delete:"DELETE",read:"GET"};t.ajax=function(){return t.$.ajax.apply(t.$,arguments)};var w=t.Router=function(e){e||(e={}),e.routes&&(this.routes=e.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},Z=/\((.*?)\)/g,T=/(\(\?)?:\w+/g,N=/\*\w+/g,O=/[\-{}\[\]+?.,\\\^$|#\s]/g;n.extend(w.prototype,c,{initialize:function(){},route:function(e,r,i){n.isRegExp(e)||(e=this._routeToRegExp(e)),n.isFunction(r)&&(i=r,r=""),i||(i=this[r]);var a=this;return t.history.route(e,(function(n){var s=a._extractParameters(e,n);!1!==a.execute(i,s,r)&&(a.trigger.apply(a,["route:"+r].concat(s)),a.trigger("route",r,s),t.history.trigger("route",a,r,s))})),this},execute:function(e,t,n){e&&e.apply(this,t)},navigate:function(e,n){return t.history.navigate(e,n),this},_bindRoutes:function(){if(this.routes){this.routes=n.result(this,"routes");for(var e,t=n.keys(this.routes);null!=(e=t.pop());)this.route(e,this.routes[e])}},_routeToRegExp:function(e){return e=e.replace(O,"\\$&").replace(Z,"(?:$1)?").replace(T,(function(e,t){return t?e:"([^/?]+)"})).replace(N,"([^?]*?)"),new RegExp("^"+e+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(e,t){var r=e.exec(t).slice(1);return n.map(r,(function(e,t){return t===r.length-1?e||null:e?decodeURIComponent(e):null}))}});var A=t.History=function(){this.handlers=[],this.checkUrl=n.bind(this.checkUrl,this),"undefined"!=typeof window&&(this.location=window.location,this.history=window.history)},x=/^[#\/]|\s+$/g,j=/^\/+|\/+$/g,L=/#.*$/;A.started=!1,n.extend(A.prototype,c,{interval:50,atRoot:function(){return this.location.pathname.replace(/[^\/]$/,"$&/")===this.root&&!this.getSearch()},matchRoot:function(){return this.decodeFragment(this.location.pathname).slice(0,this.root.length-1)+"/"===this.root},decodeFragment:function(e){return decodeURI(e.replace(/%25/g,"%2525"))},getSearch:function(){var e=this.location.href.replace(/#.*/,"").match(/\?.+/);return e?e[0]:""},getHash:function(e){var t=(e||this).location.href.match(/#(.*)$/);return t?t[1]:""},getPath:function(){var e=this.decodeFragment(this.location.pathname+this.getSearch()).slice(this.root.length-1);return"/"===e.charAt(0)?e.slice(1):e},getFragment:function(e){return null==e&&(e=this._usePushState||!this._wantsHashChange?this.getPath():this.getHash()),e.replace(x,"")},start:function(e){if(A.started)throw new Error("Backbone.history has already been started");if(A.started=!0,this.options=n.extend({root:"/"},this.options,e),this.root=this.options.root,this._wantsHashChange=!1!==this.options.hashChange,this._hasHashChange="onhashchange"in window&&(void 0===document.documentMode||document.documentMode>7),this._useHashChange=this._wantsHashChange&&this._hasHashChange,this._wantsPushState=!!this.options.pushState,this._hasPushState=!(!this.history||!this.history.pushState),this._usePushState=this._wantsPushState&&this._hasPushState,this.fragment=this.getFragment(),this.root=("/"+this.root+"/").replace(j,"/"),this._wantsHashChange&&this._wantsPushState){if(!this._hasPushState&&!this.atRoot()){var t=this.root.slice(0,-1)||"/";return this.location.replace(t+"#"+this.getPath()),!0}this._hasPushState&&this.atRoot()&&this.navigate(this.getHash(),{replace:!0})}if(!this._hasHashChange&&this._wantsHashChange&&!this._usePushState){this.iframe=document.createElement("iframe"),this.iframe.src="javascript:0",this.iframe.style.display="none",this.iframe.tabIndex=-1;var r=document.body,i=r.insertBefore(this.iframe,r.firstChild).contentWindow;i.document.open(),i.document.close(),i.location.hash="#"+this.fragment}var a=window.addEventListener||function(e,t){return attachEvent("on"+e,t)};if(this._usePushState?a("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe?a("hashchange",this.checkUrl,!1):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),!this.options.silent)return this.loadUrl()},stop:function(){var e=window.removeEventListener||function(e,t){return detachEvent("on"+e,t)};this._usePushState?e("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe&&e("hashchange",this.checkUrl,!1),this.iframe&&(document.body.removeChild(this.iframe),this.iframe=null),this._checkUrlInterval&&clearInterval(this._checkUrlInterval),A.started=!1},route:function(e,t){this.handlers.unshift({route:e,callback:t})},checkUrl:function(e){var t=this.getFragment();if(t===this.fragment&&this.iframe&&(t=this.getHash(this.iframe.contentWindow)),t===this.fragment)return!1;this.iframe&&this.navigate(t),this.loadUrl()},loadUrl:function(e){return!!this.matchRoot()&&(e=this.fragment=this.getFragment(e),n.some(this.handlers,(function(t){if(t.route.test(e))return t.callback(e),!0})))},navigate:function(e,t){if(!A.started)return!1;t&&!0!==t||(t={trigger:!!t}),e=this.getFragment(e||"");var n=this.root;""!==e&&"?"!==e.charAt(0)||(n=n.slice(0,-1)||"/");var r=n+e;e=e.replace(L,"");var i=this.decodeFragment(e);if(this.fragment!==i){if(this.fragment=i,this._usePushState)this.history[t.replace?"replaceState":"pushState"]({},document.title,r);else{if(!this._wantsHashChange)return this.location.assign(r);if(this._updateHash(this.location,e,t.replace),this.iframe&&e!==this.getHash(this.iframe.contentWindow)){var a=this.iframe.contentWindow;t.replace||(a.document.open(),a.document.close()),this._updateHash(a.location,e,t.replace)}}return t.trigger?this.loadUrl(e):void 0}},_updateHash:function(e,t,n){if(n){var r=e.href.replace(/(javascript:|#).*$/,"");e.replace(r+"#"+t)}else e.hash="#"+t}}),t.history=new A;f.extend=b.extend=w.extend=E.extend=A.extend=function(e,t){var r,i=this;r=e&&n.has(e,"constructor")?e.constructor:function(){return i.apply(this,arguments)},n.extend(r,i,t);var a=function(){this.constructor=r};return a.prototype=i.prototype,r.prototype=new a,e&&n.extend(r.prototype,e),r.__super__=i.prototype,r};var k=function(){throw new Error('A "url" property or function must be specified')},R=function(e,t){var n=t.error;t.error=function(r){n&&n.call(t.context,e,r,t),e.trigger("error",e,r,t)}};return t}(a,n,e,t)}.apply(t,r))||(e.exports=i)},38767:function(e,t,n){var r,i,a,s;r=n(13469),i=n(9390),e.exports=(a=r,(s=i).ChildViewContainer=function(e,t){var n=function(e){this._views={},this._indexByModel={},this._indexByCustom={},this._updateLength(),t.each(e,this.add,this)};return t.extend(n.prototype,{add:function(e,t){var n=e.cid;return this._views[n]=e,e.model&&(this._indexByModel[e.model.cid]=n),t&&(this._indexByCustom[t]=n),this._updateLength(),this},findByModel:function(e){return this.findByModelCid(e.cid)},findByModelCid:function(e){var t=this._indexByModel[e];return this.findByCid(t)},findByCustom:function(e){var t=this._indexByCustom[e];return this.findByCid(t)},findByIndex:function(e){return t.values(this._views)[e]},findByCid:function(e){return this._views[e]},remove:function(e){var n=e.cid;return e.model&&delete this._indexByModel[e.model.cid],t.any(this._indexByCustom,(function(e,t){if(e===n)return delete this._indexByCustom[t],!0}),this),delete this._views[n],this._updateLength(),this},call:function(e){this.apply(e,t.tail(arguments))},apply:function(e,n){t.each(this._views,(function(r){t.isFunction(r[e])&&r[e].apply(r,n||[])}))},_updateLength:function(){this.length=t.size(this._views)}}),t.each(["forEach","each","map","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","toArray","first","initial","rest","last","without","isEmpty","pluck"],(function(e){n.prototype[e]=function(){var n=[t.values(this._views)].concat(t.toArray(arguments));return t[e].apply(t,n)}})),n}(0,a),s.ChildViewContainer)},37434:function(e,t,n){var r,i,a;i=n(13469),a=n(9390),n(96790),n(38767),e.exports=(function(e,t,n){"use strict";var r={};t.Marionette=r,r.$=t.$;var i=Array.prototype.slice;function a(e,t){var n=new Error(e);throw n.name=t||"Error",n}r.extend=t.Model.extend,r.getOption=function(e,t){if(e&&t)return e.options&&t in e.options&&void 0!==e.options[t]?e.options[t]:e[t]},r.normalizeMethods=function(e){var t,r={};return n.each(e,(function(e,i){t=e,n.isFunction(t)||(t=this[t]),t&&(r[i]=t)}),this),r},r.triggerMethod=function(){var e=/(^|:)(\w)/gi;function t(e,t,n){return n.toUpperCase()}return function(r){var i=this["on"+r.replace(e,t)];if(n.isFunction(this.trigger)&&this.trigger.apply(this,arguments),n.isFunction(i))return i.apply(this,n.tail(arguments))}}(),r.MonitorDOMRefresh=function(e){function t(t){t._isShown&&t._isRendered&&function(t){return e.contains(t.el)}(t)&&n.isFunction(t.triggerMethod)&&t.triggerMethod("dom:refresh")}return function(e){e.listenTo(e,"show",(function(){!function(e){e._isShown=!0,t(e)}(e)})),e.listenTo(e,"render",(function(){!function(e){e._isRendered=!0,t(e)}(e)}))}}(document.documentElement),function(e){function t(e,t,r,i){var s=i.split(/\s+/);n.each(s,(function(n){var i=e[n];i||a("Method '"+n+"' was configured as an event handler, but does not exist."),e.listenTo(t,r,i)}))}function r(e,t,n,r){e.listenTo(t,n,r)}function i(e,t,r,i){var a=i.split(/\s+/);n.each(a,(function(n){var i=e[n];e.stopListening(t,r,i)}))}function s(e,t,n,r){e.stopListening(t,n,r)}function o(e,t,r,i,a){t&&r&&(n.isFunction(r)&&(r=r.call(e)),n.each(r,(function(r,s){n.isFunction(r)?i(e,t,s,r):a(e,t,s,r)})))}e.bindEntityEvents=function(e,n,i){o(e,n,i,r,t)},e.unbindEntityEvents=function(e,t,n){o(e,t,n,s,i)}}(r),r.Callbacks=function(){this._deferred=r.$.Deferred(),this._callbacks=[]},n.extend(r.Callbacks.prototype,{add:function(e,t){this._callbacks.push({cb:e,ctx:t}),this._deferred.done((function(n,r){t&&(n=t),e.call(n,r)}))},run:function(e,t){this._deferred.resolve(t,e)},reset:function(){var e=this._callbacks;this._deferred=r.$.Deferred(),this._callbacks=[],n.each(e,(function(e){this.add(e.cb,e.ctx)}),this)}}),r.Controller=function(e){this.triggerMethod=r.triggerMethod,this.options=e||{},n.isFunction(this.initialize)&&this.initialize(this.options)},r.Controller.extend=r.extend,n.extend(r.Controller.prototype,t.Events,{close:function(){this.stopListening(),this.triggerMethod("close"),this.unbind()}}),r.Region=function(e){if(this.options=e||{},this.el=r.getOption(this,"el"),this.el||a("An 'el' must be specified for a region.","NoElError"),this.initialize){var t=Array.prototype.slice.apply(arguments);this.initialize.apply(this,t)}},n.extend(r.Region,{buildRegion:function(e,t){var r,i,s=n.isString(e),o=n.isString(e.selector),l=n.isUndefined(e.regionType),c=n.isFunction(e);c||s||o||a("Region must be specified as a Region type, a selector string or an object with selector property"),s&&(r=e),e.selector&&(r=e.selector,delete e.selector),c&&(i=e),!c&&l&&(i=t),e.regionType&&(i=e.regionType,delete e.regionType),(s||c)&&(e={}),e.el=r;var d=new i(e);return e.parentEl&&(d.getEl=function(t){var r=e.parentEl;return n.isFunction(r)&&(r=r()),r.find(t)}),d}}),n.extend(r.Region.prototype,t.Events,{show:function(e){this.ensureEl();var t=e.isClosed||n.isUndefined(e.$el),i=e!==this.currentView;i&&this.close(),e.render(),(i||t)&&this.open(e),this.currentView=e,r.triggerMethod.call(this,"show",e),r.triggerMethod.call(e,"show")},ensureEl:function(){this.$el&&0!==this.$el.length||(this.$el=this.getEl(this.el))},getEl:function(e){return r.$(e)},open:function(e){this.$el.empty().append(e.el)},close:function(){var e=this.currentView;e&&!e.isClosed&&(e.close?e.close():e.remove&&e.remove(),r.triggerMethod.call(this,"close",e),delete this.currentView)},attachView:function(e){this.currentView=e},reset:function(){this.close(),delete this.$el}}),r.Region.extend=r.extend,r.RegionManager=function(e){var t=e.Controller.extend({constructor:function(t){this._regions={},e.Controller.prototype.constructor.call(this,t)},addRegions:function(e,t){var r={};return n.each(e,(function(e,i){n.isString(e)&&(e={selector:e}),e.selector&&(e=n.defaults({},e,t));var a=this.addRegion(i,e);r[i]=a}),this),r},addRegion:function(t,r){var i,a=n.isObject(r),s=n.isString(r),o=!!r.selector;return i=s||a&&o||n.isFunction(r)?e.Region.buildRegion(r,e.Region):r,this._store(t,i),this.triggerMethod("region:add",t,i),i},get:function(e){return this._regions[e]},removeRegion:function(e){var t=this._regions[e];this._remove(e,t)},removeRegions:function(){n.each(this._regions,(function(e,t){this._remove(t,e)}),this)},closeRegions:function(){n.each(this._regions,(function(e,t){e.close()}),this)},close:function(){this.removeRegions(),e.Controller.prototype.close.apply(this,arguments)},_store:function(e,t){this._regions[e]=t,this._setLength()},_remove:function(e,t){t.close(),delete this._regions[e],this._setLength(),this.triggerMethod("region:remove",e,t)},_setLength:function(){this.length=n.size(this._regions)}});return n.each(["forEach","each","map","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","toArray","first","initial","rest","last","without","isEmpty","pluck"],(function(e){t.prototype[e]=function(){var t=[n.values(this._regions)].concat(n.toArray(arguments));return n[e].apply(n,t)}})),t}(r),r.TemplateCache=function(e){this.templateId=e},n.extend(r.TemplateCache,{templateCaches:{},get:function(e){var t=this.templateCaches[e];return t||(t=new r.TemplateCache(e),this.templateCaches[e]=t),t.load()},clear:function(){var e,t=i.call(arguments),n=t.length;if(n>0)for(e=0;e<n;e++)delete this.templateCaches[t[e]];else this.templateCaches={}}}),n.extend(r.TemplateCache.prototype,{load:function(){if(this.compiledTemplate)return this.compiledTemplate;var e=this.loadTemplate(this.templateId);return this.compiledTemplate=this.compileTemplate(e),this.compiledTemplate},loadTemplate:function(e){var t=r.$(e).html();return t&&0!==t.length||a("Could not find template: '"+e+"'","NoTemplateError"),t},compileTemplate:function(e){return n.template(e)}}),r.Renderer={render:function(e,t){return e||a("Cannot render the template since it's false, null or undefined.","TemplateNotFoundError"),("function"==typeof e?e:r.TemplateCache.get(e))(t)}},r.View=t.View.extend({constructor:function(e){n.bindAll(this,"render"),this.options=n.extend({},n.result(this,"options"),n.isFunction(e)?e.call(this):e),this.events=this.normalizeUIKeys(n.result(this,"events")),t.View.prototype.constructor.apply(this,arguments),r.MonitorDOMRefresh(this),this.listenTo(this,"show",this.onShowCalled)},triggerMethod:r.triggerMethod,normalizeMethods:r.normalizeMethods,getTemplate:function(){return r.getOption(this,"template")},mixinTemplateHelpers:function(e){e=e||{};var t=r.getOption(this,"templateHelpers");return n.isFunction(t)&&(t=t.call(this)),n.extend(e,t)},normalizeUIKeys:function(e){var t=this;if(void 0!==e)return n.each(n.keys(e),(function(r){var i=/@ui.[a-zA-Z_$0-9]*/g;r.match(i)&&(e[r.replace(i,(function(e){return n.result(t,"ui")[e.slice(4)]}))]=e[r],delete e[r])})),e},configureTriggers:function(){if(this.triggers){var e={},t=this.normalizeUIKeys(n.result(this,"triggers"));return n.each(t,(function(t,r){var i=n.isObject(t),a=i?t.event:t;e[r]=function(e){if(e){var n=e.preventDefault,r=e.stopPropagation,s=i?t.preventDefault:n,o=i?t.stopPropagation:r;s&&n&&n.apply(e),o&&r&&r.apply(e)}var l={view:this,model:this.model,collection:this.collection};this.triggerMethod(a,l)}}),this),e}},delegateEvents:function(e){this._delegateDOMEvents(e),r.bindEntityEvents(this,this.model,r.getOption(this,"modelEvents")),r.bindEntityEvents(this,this.collection,r.getOption(this,"collectionEvents"))},_delegateDOMEvents:function(e){e=e||this.events,n.isFunction(e)&&(e=e.call(this));var r={},i=this.configureTriggers();n.extend(r,e,i),t.View.prototype.delegateEvents.call(this,r)},undelegateEvents:function(){var e=Array.prototype.slice.call(arguments);t.View.prototype.undelegateEvents.apply(this,e),r.unbindEntityEvents(this,this.model,r.getOption(this,"modelEvents")),r.unbindEntityEvents(this,this.collection,r.getOption(this,"collectionEvents"))},onShowCalled:function(){},close:function(){this.isClosed||!1!==this.triggerMethod("before:close")&&(this.isClosed=!0,this.triggerMethod("close"),this.unbindUIElements(),this.remove())},bindUIElements:function(){if(this.ui){this._uiBindings||(this._uiBindings=this.ui);var e=n.result(this,"_uiBindings");this.ui={},n.each(n.keys(e),(function(t){var n=e[t];this.ui[t]=this.$(n)}),this)}},unbindUIElements:function(){this.ui&&this._uiBindings&&(n.each(this.ui,(function(e,t){delete this.ui[t]}),this),this.ui=this._uiBindings,delete this._uiBindings)}}),r.ItemView=r.View.extend({constructor:function(){r.View.prototype.constructor.apply(this,arguments)},serializeData:function(){var e={};return this.model?e=this.model.toJSON():this.collection&&(e={items:this.collection.toJSON()}),e},render:function(){this.isClosed=!1,this.triggerMethod("before:render",this),this.triggerMethod("item:before:render",this);var e=this.serializeData();e=this.mixinTemplateHelpers(e);var t=this.getTemplate(),n=r.Renderer.render(t,e);return this.$el.html(n),this.bindUIElements(),this.triggerMethod("render",this),this.triggerMethod("item:rendered",this),this},close:function(){this.isClosed||(this.triggerMethod("item:before:close"),r.View.prototype.close.apply(this,arguments),this.triggerMethod("item:closed"))}}),r.CollectionView=r.View.extend({itemViewEventPrefix:"itemview",constructor:function(e){this._initChildViewStorage(),r.View.prototype.constructor.apply(this,arguments),this._initialEvents(),this.initRenderBuffer()},initRenderBuffer:function(){this.elBuffer=document.createDocumentFragment(),this._bufferedChildren=[]},startBuffering:function(){this.initRenderBuffer(),this.isBuffering=!0},endBuffering:function(){this.isBuffering=!1,this.appendBuffer(this,this.elBuffer),this._triggerShowBufferedChildren(),this.initRenderBuffer()},_triggerShowBufferedChildren:function(){this._isShown&&(n.each(this._bufferedChildren,(function(e){r.triggerMethod.call(e,"show")})),this._bufferedChildren=[])},_initialEvents:function(){this.collection&&(this.listenTo(this.collection,"add",this.addChildView),this.listenTo(this.collection,"remove",this.removeItemView),this.listenTo(this.collection,"reset",this.render))},addChildView:function(e,t,n){this.closeEmptyView();var r=this.getItemView(e),i=this.collection.indexOf(e);this.addItemView(e,r,i)},onShowCalled:function(){this.children.each((function(e){r.triggerMethod.call(e,"show")}))},triggerBeforeRender:function(){this.triggerMethod("before:render",this),this.triggerMethod("collection:before:render",this)},triggerRendered:function(){this.triggerMethod("render",this),this.triggerMethod("collection:rendered",this)},render:function(){return this.isClosed=!1,this.triggerBeforeRender(),this._renderChildren(),this.triggerRendered(),this},_renderChildren:function(){this.startBuffering(),this.closeEmptyView(),this.closeChildren(),this.isEmpty(this.collection)?this.showEmptyView():this.showCollection(),this.endBuffering()},showCollection:function(){var e;this.collection.each((function(t,n){e=this.getItemView(t),this.addItemView(t,e,n)}),this)},showEmptyView:function(){var e=this.getEmptyView();if(e&&!this._showingEmptyView){this._showingEmptyView=!0;var n=new t.Model;this.addItemView(n,e,0)}},closeEmptyView:function(){this._showingEmptyView&&(this.closeChildren(),delete this._showingEmptyView)},getEmptyView:function(){return r.getOption(this,"emptyView")},getItemView:function(e){var t=r.getOption(this,"itemView");return t||a("An `itemView` must be specified","NoItemViewError"),t},addItemView:function(e,t,i){var a=r.getOption(this,"itemViewOptions");n.isFunction(a)&&(a=a.call(this,e,i));var s=this.buildItemView(e,t,a);return this.addChildViewEventForwarding(s),this.triggerMethod("before:item:added",s),this.children.add(s),this.renderItemView(s,i),this._isShown&&!this.isBuffering&&r.triggerMethod.call(s,"show"),this.triggerMethod("after:item:added",s),s},addChildViewEventForwarding:function(e){var t=r.getOption(this,"itemViewEventPrefix");this.listenTo(e,"all",(function(){var a=i.call(arguments),s=a[0],o=this.normalizeMethods(this.getItemEvents());a[0]=t+":"+s,a.splice(1,0,e),void 0!==o&&n.isFunction(o[s])&&o[s].apply(this,a),r.triggerMethod.apply(this,a)}),this)},getItemEvents:function(){return n.isFunction(this.itemEvents)?this.itemEvents.call(this):this.itemEvents},renderItemView:function(e,t){e.render(),this.appendHtml(this,e,t)},buildItemView:function(e,t,r){return new t(n.extend({model:e},r))},removeItemView:function(e){var t=this.children.findByModel(e);this.removeChildView(t),this.checkEmpty()},removeChildView:function(e){e&&(this.stopListening(e),e.close?e.close():e.remove&&e.remove(),this.children.remove(e)),this.triggerMethod("item:removed",e)},isEmpty:function(e){return!this.collection||0===this.collection.length},checkEmpty:function(){this.isEmpty(this.collection)&&this.showEmptyView()},appendBuffer:function(e,t){e.$el.append(t)},appendHtml:function(e,t,n){e.isBuffering?(e.elBuffer.appendChild(t.el),e._bufferedChildren.push(t)):e.$el.append(t.el)},_initChildViewStorage:function(){this.children=new t.ChildViewContainer},close:function(){this.isClosed||(this.triggerMethod("collection:before:close"),this.closeChildren(),this.triggerMethod("collection:closed"),r.View.prototype.close.apply(this,arguments))},closeChildren:function(){this.children.each((function(e){this.removeChildView(e)}),this),this.checkEmpty()}}),r.CompositeView=r.CollectionView.extend({constructor:function(){r.CollectionView.prototype.constructor.apply(this,arguments)},_initialEvents:function(){this.once("render",(function(){this.collection&&(this.listenTo(this.collection,"add",this.addChildView),this.listenTo(this.collection,"remove",this.removeItemView),this.listenTo(this.collection,"reset",this._renderChildren))}))},getItemView:function(e){var t=r.getOption(this,"itemView")||this.constructor;return t||a("An `itemView` must be specified","NoItemViewError"),t},serializeData:function(){var e={};return this.model&&(e=this.model.toJSON()),e},render:function(){this.isRendered=!0,this.isClosed=!1,this.resetItemViewContainer(),this.triggerBeforeRender();var e=this.renderModel();return this.$el.html(e),this.bindUIElements(),this.triggerMethod("composite:model:rendered"),this._renderChildren(),this.triggerMethod("composite:rendered"),this.triggerRendered(),this},_renderChildren:function(){this.isRendered&&(this.triggerMethod("composite:collection:before:render"),r.CollectionView.prototype._renderChildren.call(this),this.triggerMethod("composite:collection:rendered"))},renderModel:function(){var e={};e=this.serializeData(),e=this.mixinTemplateHelpers(e);var t=this.getTemplate();return r.Renderer.render(t,e)},appendBuffer:function(e,t){this.getItemViewContainer(e).append(t)},appendHtml:function(e,t,n){e.isBuffering?(e.elBuffer.appendChild(t.el),e._bufferedChildren.push(t)):this.getItemViewContainer(e).append(t.el)},getItemViewContainer:function(e){if("$itemViewContainer"in e)return e.$itemViewContainer;var t,i=r.getOption(e,"itemViewContainer");if(i){var s=n.isFunction(i)?i.call(this):i;(t=e.$(s)).length<=0&&a("The specified `itemViewContainer` was not found: "+e.itemViewContainer,"ItemViewContainerMissingError")}else t=e.$el;return e.$itemViewContainer=t,t},resetItemViewContainer:function(){this.$itemViewContainer&&delete this.$itemViewContainer}}),r.Layout=r.ItemView.extend({regionType:r.Region,constructor:function(e){e=e||{},this._firstRender=!0,this._initializeRegions(e),r.ItemView.prototype.constructor.call(this,e)},render:function(){return this.isClosed&&this._initializeRegions(),this._firstRender?this._firstRender=!1:this.isClosed||this._reInitializeRegions(),r.ItemView.prototype.render.apply(this,arguments)},close:function(){this.isClosed||(this.regionManager.close(),r.ItemView.prototype.close.apply(this,arguments))},addRegion:function(e,t){var n={};return n[e]=t,this._buildRegions(n)[e]},addRegions:function(e){return this.regions=n.extend({},this.regions,e),this._buildRegions(e)},removeRegion:function(e){return delete this.regions[e],this.regionManager.removeRegion(e)},_buildRegions:function(e){var t=this,n={regionType:r.getOption(this,"regionType"),parentEl:function(){return t.$el}};return this.regionManager.addRegions(e,n)},_initializeRegions:function(e){var t;this._initRegionManager(),t=n.isFunction(this.regions)?this.regions(e):this.regions||{},this.addRegions(t)},_reInitializeRegions:function(){this.regionManager.closeRegions(),this.regionManager.each((function(e){e.reset()}))},_initRegionManager:function(){this.regionManager=new r.RegionManager,this.listenTo(this.regionManager,"region:add",(function(e,t){this[e]=t,this.trigger("region:add",e,t)})),this.listenTo(this.regionManager,"region:remove",(function(e,t){delete this[e],this.trigger("region:remove",e,t)}))}}),r.AppRouter=t.Router.extend({constructor:function(e){t.Router.prototype.constructor.apply(this,arguments),this.options=e||{};var n=r.getOption(this,"appRoutes"),i=this._getController();this.processAppRoutes(i,n)},appRoute:function(e,t){var n=this._getController();this._addAppRoute(n,e,t)},processAppRoutes:function(e,t){if(t){var r=n.keys(t).reverse();n.each(r,(function(n){this._addAppRoute(e,n,t[n])}),this)}},_getController:function(){return r.getOption(this,"controller")},_addAppRoute:function(e,t,r){var i=e[r];i||a("Method '"+r+"' was not found on the controller"),this.route(t,r,n.bind(i,e))}}),r.Application=function(e){this._initRegionManager(),this._initCallbacks=new r.Callbacks,this.vent=new t.Wreqr.EventAggregator,this.commands=new t.Wreqr.Commands,this.reqres=new t.Wreqr.RequestResponse,this.submodules={},n.extend(this,e),this.triggerMethod=r.triggerMethod},n.extend(r.Application.prototype,t.Events,{execute:function(){this.commands.execute.apply(this.commands,arguments)},request:function(){return this.reqres.request.apply(this.reqres,arguments)},addInitializer:function(e){this._initCallbacks.add(e)},start:function(e){this.triggerMethod("initialize:before",e),this._initCallbacks.run(e,this),this.triggerMethod("initialize:after",e),this.triggerMethod("start",e)},addRegions:function(e){return this._regionManager.addRegions(e)},closeRegions:function(){this._regionManager.closeRegions()},removeRegion:function(e){this._regionManager.removeRegion(e)},getRegion:function(e){return this._regionManager.get(e)},module:function(e,t){var n=r.Module.getClass(t),a=i.call(arguments);return a.unshift(this),n.create.apply(n,a)},_initRegionManager:function(){this._regionManager=new r.RegionManager,this.listenTo(this._regionManager,"region:add",(function(e,t){this[e]=t})),this.listenTo(this._regionManager,"region:remove",(function(e,t){delete this[e]}))}}),r.Application.extend=r.extend,r.Module=function(e,t,i){this.moduleName=e,this.options=n.extend({},this.options,i),this.initialize=i.initialize||this.initialize,this.submodules={},this._setupInitializersAndFinalizers(),this.app=t,this.startWithParent=!0,this.triggerMethod=r.triggerMethod,n.isFunction(this.initialize)&&this.initialize(this.options,e,t)},r.Module.extend=r.extend,n.extend(r.Module.prototype,t.Events,{initialize:function(){},addInitializer:function(e){this._initializerCallbacks.add(e)},addFinalizer:function(e){this._finalizerCallbacks.add(e)},start:function(e){this._isInitialized||(n.each(this.submodules,(function(t){t.startWithParent&&t.start(e)})),this.triggerMethod("before:start",e),this._initializerCallbacks.run(e,this),this._isInitialized=!0,this.triggerMethod("start",e))},stop:function(){this._isInitialized&&(this._isInitialized=!1,r.triggerMethod.call(this,"before:stop"),n.each(this.submodules,(function(e){e.stop()})),this._finalizerCallbacks.run(void 0,this),this._initializerCallbacks.reset(),this._finalizerCallbacks.reset(),r.triggerMethod.call(this,"stop"))},addDefinition:function(e,t){this._runModuleDefinition(e,t)},_runModuleDefinition:function(e,i){if(e){var a=n.flatten([this,this.app,t,r,r.$,n,i]);e.apply(this,a)}},_setupInitializersAndFinalizers:function(){this._initializerCallbacks=new r.Callbacks,this._finalizerCallbacks=new r.Callbacks}}),n.extend(r.Module,{create:function(e,t,r){var a=e,s=i.call(arguments);s.splice(0,3);var o=(t=t.split(".")).length,l=[];return l[o-1]=r,n.each(t,(function(t,n){var i=a;a=this._getModule(i,t,e,r),this._addModuleDefinition(i,a,l[n],s)}),this),a},_getModule:function(e,t,r,i,a){var s=n.extend({},i),o=this.getClass(i),l=e[t];return l||(l=new o(t,r,s),e[t]=l,e.submodules[t]=l),l},getClass:function(e){var t=r.Module;return e?e.prototype instanceof t?e:e.moduleClass||t:t},_addModuleDefinition:function(e,t,i,a){var s,o;!n.isFunction(i)||i.prototype instanceof r.Module?n.isObject(i)?(s=i.define,o=!!n.isUndefined(i.startWithParent)||i.startWithParent):o=!0:(s=i,o=!0),s&&t.addDefinition(s,a),t.startWithParent=t.startWithParent&&o,t.startWithParent&&!t.startWithParentIsConfigured&&(t.startWithParentIsConfigured=!0,e.addInitializer((function(e){t.startWithParent&&t.start(e)})))}})}(0,r=a,i),r.Marionette)},12152:function(e,t,n){e.exports=function(e,t){function n(n){return{underscore:e,"./backbone-1.2.3+19b88d2+57e89d8":t}[n]}return function(e){function t(e){var n=t.cache[e];if(!n){var r={};n=t.cache[e]={id:e,exports:r},t.modules[e].call(r,n,r)}return n.exports}return t.cache=[],t.modules=[function(e,r){var i=n("underscore"),a=n("./backbone-1.2.3+19b88d2+57e89d8"),s=t(2),o=t(5),l=t(4),c=t(1),d=t(7);function u(e,t){this._superset=e,this._filtered=new s(e,t),this._sorted=new o(this._filtered,t),this._paginated=new l(this._sorted,t),c(this._paginated,this),d.call(this,this._filtered,m),d.call(this,this._sorted,h),d.call(this,this._paginated,g),this.initialize(t)}var p={superset:function(){return this._superset},getFilteredLength:function(){return this._filtered.length},removeTransforms:function(){return this._filtered.resetFilters(),this._sorted.removeSort(),this._paginated.removePagination(),this},destroy:function(){this.stopListening(),this._filtered.destroy(),this._sorted.destroy(),this._paginated.destroy(),this.length=0,this.trigger("obscura:destroy")}},m=["filtered:add","filtered:remove","filtered:reset"],h=["sorted:add","sorted:remove"],g=["paginated:change:perPage","paginated:change:page","paginated:change:numPages"];i.each(["filterBy","removeFilter","resetFilters","refilter","hasFilter","getFilters"],(function(e){p[e]=function(){var t=s.prototype[e].apply(this._filtered,arguments);return t===this._filtered?this:t}})),i.each(["setPerPage","setPage","getPerPage","getNumPages","getPage","hasNextPage","hasPrevPage","nextPage","prevPage","movePage","removePagination","firstPage","lastPage"],(function(e){p[e]=function(){var t=l.prototype[e].apply(this._paginated,arguments);return t===this._paginated?this:t}})),i.each(["setSort","reverseSort","removeSort"],(function(e){p[e]=function(){var t=o.prototype[e].apply(this._sorted,arguments);return t===this._sorted?this:t}})),i.each(["add","create","remove","set","reset","sort","parse","sync","fetch","push","pop","shift","unshift"],(function(e){p[e]=function(){throw new Error("Backbone.Obscura: Unsupported method: "+e+"called on read-only proxy")}})),i.extend(u.prototype,p,a.Events),(u=a.Collection.extend(u.prototype)).FilteredCollection=s,u.SortedCollection=o,u.PaginatedCollection=l,e.exports=u},function(e,t){var r=n("underscore"),i=n("./backbone-1.2.3+19b88d2+57e89d8"),a=["_onModelEvent","_prepareModel","_removeReference","_reset","add","initialize","sync","remove","reset","set","push","pop","unshift","shift","sort","parse","fetch","create","model","off","on","listenTo","listenToOnce","bind","trigger","once","stopListening"],s=["add","remove","reset","sort","destroy","sync","request","error"];e.exports=function(e,t){function n(){t.length=e.length}var o={};return r.each(r.functions(i.Collection.prototype),(function(t){r.contains(a,t)||(o[t]=function(){return e[t].apply(e,arguments)})})),r.extend(t,i.Events,o),t.listenTo(e,"all",n),t.listenTo(e,"all",(function(n){var i=r.toArray(arguments),a="change"===n||"change:"===n.slice(0,7);"reset"===n&&(t.models=e.models),r.contains(s,n)?(r.contains(["add","remove","destroy"],n)?i[2]=t:r.contains(["reset","sort"],n)&&(i[1]=t),t.trigger.apply(this,i)):a&&t.contains(i[1])&&t.trigger.apply(this,i)})),t.models=e.models,n(),t}},function(e,r){var i=n("underscore"),a=n("./backbone-1.2.3+19b88d2+57e89d8"),s=t(1),o=t(3);function l(){this._filterResultCache={}}function c(e){for(var t in this._filterResultCache)this._filterResultCache.hasOwnProperty(t)&&delete this._filterResultCache[t][e]}function d(e,t){this._filters[e]&&c.call(this,e),this._filters[e]=t,this.trigger("filtered:add",e)}function u(e){delete this._filters[e],c.call(this,e),this.trigger("filtered:remove",e)}function p(e){this._filterResultCache[e.cid]||(this._filterResultCache[e.cid]={});var t=this._filterResultCache[e.cid];for(var n in this._filters)if(this._filters.hasOwnProperty(n)&&(t.hasOwnProperty(n)||(t[n]=this._filters[n].fn(e)),!t[n]))return!1;return!0}function m(e){e||(e={});var t=[];this._superset&&(t=this._superset.filter(i.bind(p,this))),e.reset?this._collection.reset(t):this._collection.set(t),this.length=this._collection.length}function h(){m.call(this,{reset:!0})}function g(){var e=!(!this._superset||!this._superset.comparator);m.call(this,{reset:e})}function y(e){if(this._filterResultCache[e.cid]={},p.call(this,e)){if(!this._collection.get(e.cid)){for(var t=null,n=this.superset().indexOf(e)-1;n>=0;n-=1)if(this.contains(this.superset().at(n))){t=this.indexOf(this.superset().at(n))+1;break}t=t||0,this._collection.add(e,{at:t})}}else this._collection.get(e.cid)&&this._collection.remove(e);this.length=this._collection.length}function v(e){this._filterResultCache[e.cid]={},p.call(this,e)||this._collection.get(e.cid)&&this._collection.remove(e)}function f(e,t,n){"change:"===e.slice(0,7)&&v.call(this,arguments[1])}function b(e){this.contains(e)&&this._collection.remove(e),this.length=this._collection.length}function I(e){this._superset=e,this._collection=new a.Collection(e.toArray()),s(this._collection,this),this.resetFilters(),this.listenTo(this._superset,"reset",h),this.listenTo(this._superset,"sort",g),this.listenTo(this._superset,"add change",y),this.listenTo(this._superset,"remove",b),this.listenTo(this._superset,"all",f)}var S={defaultFilterName:"__default",filterBy:function(e,t){return t||(t=e,e=this.defaultFilterName),d.call(this,e,o(t)),m.call(this),this},removeFilter:function(e){return e||(e=this.defaultFilterName),u.call(this,e),m.call(this),this},resetFilters:function(){return this._filters={},l.call(this),this.trigger("filtered:reset"),m.call(this),this},superset:function(){return this._superset},refilter:function(e){return"object"==typeof e&&e.cid?y.call(this,e):(l.call(this),m.call(this)),this},getFilters:function(){return i.keys(this._filters)},hasFilter:function(e){return i.contains(this.getFilters(),e)},destroy:function(){this.stopListening(),this._collection.reset([]),this._superset=this._collection,this.length=0,this.trigger("filtered:destroy")}};i.extend(I.prototype,S,a.Events),e.exports=I},function(e,t){var r=n("underscore");function i(e,t){return r.isArray(t)||(t=null),{fn:e,keys:t}}e.exports=function(e,t){return r.isFunction(e)?i(e,t):r.isObject(e)?function(e){var t=r.keys(e),n=r.map(t,(function(t){var n=e[t];return r.isFunction(n)?function(e,t){return function(n){return t(n.get(e))}}(t,n):function(e,t){return function(n){return n.get(e)===t}}(t,n)}));return i((function(e){for(var t=0;t<n.length;t++)if(!n[t](e))return!1;return!0}),t)}(e):void 0}},function(e,r){var i=n("underscore"),a=n("./backbone-1.2.3+19b88d2+57e89d8"),s=t(1);function o(){var e=this.getPage()*this.getPerPage();return[e,e+this.getPerPage()]}function l(){var e=o.call(this);this._collection.reset(this.superset().slice(e[0],e[1]))}function c(){this._totalPages;var e=this.superset().length,t=this.getPerPage(),n=e%t==0?e/t:Math.floor(e/t)+1,r=this._totalPages!==n;if(this._totalPages=n,r&&this.trigger("paginated:change:numPages",{numPages:n}),this.getPage()>=n)return this.setPage(n-1),!0}function d(){c.call(this)||l.call(this)}function u(e,t){for(var n=i.max([e.length,t.length]),r=0,a=0;r<n;r+=1,a+=1)if(e[r]!==t[a])if(t[r-1]===e[r])a-=1;else{if(t[r+1]!==e[r])return e[r];a+=1}}function p(e,t,n){if(!c.call(this)){var r=o.call(this),i=r[0],a=r[1],s=u(this.superset().slice(i,a),this._collection.toArray()),l=u(this._collection.toArray(),this.superset().slice(i,a));l&&this._collection.remove(l),s&&this._collection.add(s,{at:this.superset().indexOf(s)-i})}}function m(e,t){this._superset=e,this._collection=new a.Collection(e.toArray()),this._page=0,this.setPerPage(t&&t.perPage?t.perPage:null),s(this._collection,this),this.listenTo(this._superset,"add remove",p),this.listenTo(this._superset,"reset sort",d)}var h={removePagination:function(){return this.setPerPage(null),this},setPerPage:function(e){return this._perPage=e,d.call(this),this.setPage(0),this.trigger("paginated:change:perPage",{perPage:e,numPages:this.getNumPages()}),this},setPage:function(e){var t=this.getNumPages()-1;return e=(e=(e=e>0?e:0)<t?e:t)<0?0:e,this._page=e,l.call(this),this.trigger("paginated:change:page",{page:e}),this},getPerPage:function(){return this._perPage||this.superset().length||1},getNumPages:function(){return this._totalPages},getPage:function(){return this._page},hasNextPage:function(){return this.getPage()<this.getNumPages()-1},hasPrevPage:function(){return this.getPage()>0},nextPage:function(){return this.movePage(1),this},prevPage:function(){return this.movePage(-1),this},firstPage:function(){this.setPage(0)},lastPage:function(){this.setPage(this.getNumPages()-1)},movePage:function(e){return this.setPage(this.getPage()+e),this},superset:function(){return this._superset},destroy:function(){this.stopListening(),this._collection.reset([]),this._superset=this._collection,this._page=0,this._totalPages=0,this.length=0,this.trigger("paginated:destroy")}};i.extend(m.prototype,h,a.Events),e.exports=m},function(e,r){var i=n("underscore"),a=n("./backbone-1.2.3+19b88d2+57e89d8"),s=t(1),o=t(6);function l(e){return i.isFunction(e)?e:function(t){return t.get(e)}}function c(e){return this._comparator?this._reverse?o(this._collection.toArray(),e,l(this._comparator)):i.sortedIndex(this._collection.toArray(),e,l(this._comparator)):this._superset.indexOf(e)}function d(e){var t=c.call(this,e);this._collection.add(e,{at:t})}function u(e){this.contains(e)&&this._collection.remove(e)}function p(e){this.contains(e)&&this._collection.indexOf(e)!==c.call(this,e)&&(this._collection.remove(e),d.call(this,e))}function m(){if(this._comparator){var e=this._superset.sortBy(this._comparator);this._collection.reset(this._reverse?e.reverse():e)}else this._collection.reset(this._superset.toArray())}function h(e){this._superset=e,this._reverse=!1,this._comparator=null,this._collection=new a.Collection(e.toArray()),s(this._collection,this),this.listenTo(this._superset,"add",d),this.listenTo(this._superset,"remove",u),this.listenTo(this._superset,"change",p),this.listenTo(this._superset,"reset",m)}var g={setSort:function(e,t){return this._reverse="desc"===t,this._comparator=e,m.call(this),e?this.trigger("sorted:add"):this.trigger("sorted:remove"),this},reverseSort:function(){return this._reverse=!this._reverse,m.call(this),this},removeSort:function(){return this.setSort(),this},superset:function(){return this._superset},destroy:function(){this.stopListening(),this._collection.reset([]),this._superset=this._collection,this.length=0,this.trigger("sorted:destroy")}};i.extend(h.prototype,g,a.Events),e.exports=h},function(e,t){var r=n("underscore");e.exports=function(e,t,n,i){for(var a=(n=null==n?r.identity:function(e){return r.isFunction(e)?e:function(t){return t[e]}}(n)).call(i,t),s=0,o=e.length;s<o;){var l=s+o>>>1;n.call(i,e[l])<a?o=l:s=l+1}return s}},function(e,t){var r=n("underscore");e.exports=function(e,t){r.each(t,(function(t){this.listenTo(e,t,(function(){var e=r.toArray(arguments);e.unshift(t),this.trigger.apply(this,e)}))}),this)}}],t(0)}()}(n(13469),n(9390))},96790:function(e,t,n){var r,i;r=n(13469),i=n(9390),e.exports=function(e,t){"use strict";return t.Wreqr=function(e,t,n){var r,i={};return i.Handlers=function(e,t){var n=function(e){this.options=e,this._wreqrHandlers={},t.isFunction(this.initialize)&&this.initialize(e)};return n.extend=e.Model.extend,t.extend(n.prototype,e.Events,{setHandlers:function(e){t.each(e,(function(e,n){var r=null;t.isObject(e)&&!t.isFunction(e)&&(r=e.context,e=e.callback),this.setHandler(n,e,r)}),this)},setHandler:function(e,t,n){var r={callback:t,context:n};this._wreqrHandlers[e]=r,this.trigger("handler:add",e,t,n)},hasHandler:function(e){return!!this._wreqrHandlers[e]},getHandler:function(e){var t=this._wreqrHandlers[e];if(t)return function(){var e=Array.prototype.slice.apply(arguments);return t.callback.apply(t.context,e)}},removeHandler:function(e){delete this._wreqrHandlers[e]},removeAllHandlers:function(){this._wreqrHandlers={}}}),n}(e,n),i.CommandStorage=(r=function(e){this.options=e,this._commands={},n.isFunction(this.initialize)&&this.initialize(e)},n.extend(r.prototype,e.Events,{getCommands:function(e){var t=this._commands[e];return t||(t={command:e,instances:[]},this._commands[e]=t),t},addCommand:function(e,t){this.getCommands(e).instances.push(t)},clearCommands:function(e){this.getCommands(e).instances=[]}}),r),i.Commands=function(e){return e.Handlers.extend({storageType:e.CommandStorage,constructor:function(t){this.options=t||{},this._initializeStorage(this.options),this.on("handler:add",this._executeCommands,this);var n=Array.prototype.slice.call(arguments);e.Handlers.prototype.constructor.apply(this,n)},execute:function(e,t){e=arguments[0],t=Array.prototype.slice.call(arguments,1),this.hasHandler(e)?this.getHandler(e).apply(this,t):this.storage.addCommand(e,t)},_executeCommands:function(e,t,r){var i=this.storage.getCommands(e);n.each(i.instances,(function(e){t.apply(r,e)})),this.storage.clearCommands(e)},_initializeStorage:function(e){var t,r=e.storageType||this.storageType;t=n.isFunction(r)?new r:r,this.storage=t}})}(i),i.RequestResponse=function(e){return e.Handlers.extend({request:function(){var e=arguments[0],t=Array.prototype.slice.call(arguments,1);if(this.hasHandler(e))return this.getHandler(e).apply(this,t)}})}(i),i.EventAggregator=function(e,t){var n=function(){};return n.extend=e.Model.extend,t.extend(n.prototype,e.Events),n}(e,n),i}(t,t.Marionette,e),t.Wreqr}(r,i)},21356:(e,t,n)=>{!function(e){"use strict";var t=function(n,r){this.$element=e(n),this.options=e.extend({},t.DEFAULTS,r)};t.DEFAULTS={loadingText:"loading..."},t.prototype.setState=function(e){var t="disabled",n=this.$element,r=n.is("input")?"val":"html",i=n.data();e+="Text",i.resetText||n.data("resetText",n[r]()),n[r](i[e]||this.options[e]),setTimeout((function(){"loadingText"==e?n.addClass(t).attr(t,t):n.removeClass(t).removeAttr(t)}),0)},t.prototype.toggle=function(){var e=this.$element.closest('[data-toggle="buttons"]');e.length&&"radio"===this.$element.find("input").prop("checked",!this.$element.hasClass("active")).trigger("change").prop("type")&&e.find(".active").removeClass("active"),this.$element.toggleClass("active")};var n=e.fn.button;e.fn.button=function(n){return this.each((function(){var r=e(this),i=r.data("bs.button"),a="object"==typeof n&&n;i||r.data("bs.button",i=new t(this,a)),"toggle"==n?i.toggle():n&&i.setState(n)}))},e.fn.button.Constructor=t,e.fn.button.noConflict=function(){return e.fn.button=n,this},e(document).on("click.bs.button.data-api","[data-toggle^=button]",(function(t){var n=e(t.target);n.hasClass("btn")||(n=n.closest(".btn")),n.button("toggle"),t.preventDefault()}))}(n(19755))},88860:(e,t,n)=>{!function(e){"use strict";var t="[data-toggle=dropdown]",n=function(t){e(t).on("click.bs.dropdown",this.toggle)};function r(){e(".dropdown-backdrop").remove(),e(t).each((function(t){var n=i(e(this));n.hasClass("open")&&(n.trigger(t=e.Event("hide.bs.dropdown")),t.isDefaultPrevented()||n.removeClass("open").trigger("hidden.bs.dropdown"))}))}function i(t){var n=t.attr("data-target");n||(n=(n=t.attr("href"))&&/#/.test(n)&&n.replace(/.*(?=#[^\s]*$)/,""));var r=n&&e(n);return r&&r.length?r:t.parent()}n.prototype.toggle=function(t){var n=e(this);if(!n.is(".disabled, :disabled")){var a=i(n),s=a.hasClass("open");if(r(),!s){if("ontouchstart"in document.documentElement&&!a.closest(".navbar-nav").length&&e('<div class="dropdown-backdrop"/>').insertAfter(e(this)).on("click",r),a.trigger(t=e.Event("show.bs.dropdown")),t.isDefaultPrevented())return;a.toggleClass("open").trigger("shown.bs.dropdown"),n.focus()}return!1}},n.prototype.keydown=function(n){if(/(38|40|27)/.test(n.keyCode)){var r=e(this);if(n.preventDefault(),n.stopPropagation(),!r.is(".disabled, :disabled")){var a=i(r),s=a.hasClass("open");if(!s||s&&27==n.keyCode)return 27==n.which&&a.find(t).focus(),r.click();var o=e("[role=menu] li:not(.divider):visible a",a);if(o.length){var l=o.index(o.filter(":focus"));38==n.keyCode&&l>0&&l--,40==n.keyCode&&l<o.length-1&&l++,~l||(l=0),o.eq(l).focus()}}}};var a=e.fn.dropdown;e.fn.dropdown=function(t){return this.each((function(){var r=e(this),i=r.data("dropdown");i||r.data("dropdown",i=new n(this)),"string"==typeof t&&i[t].call(r)}))},e.fn.dropdown.Constructor=n,e.fn.dropdown.noConflict=function(){return e.fn.dropdown=a,this},e(document).on("click.bs.dropdown.data-api",r).on("click.bs.dropdown.data-api",".dropdown form",(function(e){e.stopPropagation()})).on("click.bs.dropdown.data-api",t,n.prototype.toggle).on("keydown.bs.dropdown.data-api",t+", [role=menu]",n.prototype.keydown)}(n(19755))},56150:(e,t,n)=>{!function(e){"use strict";var t=function(t,n){this.options=n,this.$element=e(t),this.$backdrop=this.isShown=null,this.options.remote&&this.$element.load(this.options.remote)};t.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},t.prototype.toggle=function(e){return this[this.isShown?"hide":"show"](e)},t.prototype.show=function(t){var n=this,r=e.Event("show.bs.modal",{relatedTarget:t});this.$element.trigger(r),this.isShown||r.isDefaultPrevented()||(this.isShown=!0,this.escape(),this.$element.on("click.dismiss.modal",'[data-dismiss="modal"]',e.proxy(this.hide,this)),this.backdrop((function(){var r=e.support.transition&&n.$element.hasClass("fade");n.$element.parent().length||n.$element.appendTo(document.body),n.$element.show(),r&&n.$element[0].offsetWidth,n.$element.addClass("in").attr("aria-hidden",!1),n.enforceFocus();var i=e.Event("shown.bs.modal",{relatedTarget:t});r?n.$element.find(".modal-dialog").one(e.support.transition.end,(function(){n.$element.focus().trigger(i)})).emulateTransitionEnd(300):n.$element.focus().trigger(i)})))},t.prototype.hide=function(t){t&&t.preventDefault(),t=e.Event("hide.bs.modal"),this.$element.trigger(t),this.isShown&&!t.isDefaultPrevented()&&(this.isShown=!1,this.escape(),e(document).off("focusin.bs.modal"),this.$element.removeClass("in").attr("aria-hidden",!0).off("click.dismiss.modal"),e.support.transition&&this.$element.hasClass("fade")?this.$element.one(e.support.transition.end,e.proxy(this.hideModal,this)).emulateTransitionEnd(300):this.hideModal())},t.prototype.enforceFocus=function(){e(document).off("focusin.bs.modal").on("focusin.bs.modal",e.proxy((function(e){this.$element[0]===e.target||this.$element.has(e.target).length||this.$element.focus()}),this))},t.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keyup.dismiss.bs.modal",e.proxy((function(e){27==e.which&&this.hide()}),this)):this.isShown||this.$element.off("keyup.dismiss.bs.modal")},t.prototype.hideModal=function(){var e=this;this.$element.hide(),this.backdrop((function(){e.removeBackdrop(),e.$element.trigger("hidden.bs.modal")}))},t.prototype.removeBackdrop=function(){delete this.backdropMouseDownTarget,this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},t.prototype.backdrop=function(t){var n=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var r=e.support.transition&&n;if(this.$backdrop=e('<div class="modal-backdrop '+n+'" />').appendTo(document.body),this.$element.on("mousedown.dismiss.modal",e.proxy((function(e){this.backdropMouseDownTarget=e.target}),this)),this.$element.on("mouseup.dismiss.modal",e.proxy((function(e){e.target===this.backdropMouseDownTarget&&(delete this.backdropMouseDownTarget,e.target===e.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus.call(this.$element[0]):this.hide.call(this)))}),this)),r&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!t)return;r?this.$backdrop.one(e.support.transition.end,t).emulateTransitionEnd(150):t()}else!this.isShown&&this.$backdrop?(this.$backdrop.removeClass("in"),e.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one(e.support.transition.end,t).emulateTransitionEnd(150):t()):t&&t()};var n=e.fn.modal;e.fn.modal=function(n,r){return this.each((function(){var i=e(this),a=i.data("bs.modal"),s=e.extend({},t.DEFAULTS,i.data(),"object"==typeof n&&n);a||i.data("bs.modal",a=new t(this,s)),"string"==typeof n?a[n](r):s.show&&a.show(r)}))},e.fn.modal.Constructor=t,e.fn.modal.noConflict=function(){return e.fn.modal=n,this},e(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',(function(t){var n=e(this),r=n.attr("href"),i=e(n.attr("data-target")||r&&r.replace(/.*(?=#[^\s]+$)/,"")),a=i.data("modal")?"toggle":e.extend({remote:!/#/.test(r)&&r},i.data(),n.data());t.preventDefault(),i.modal(a,this).one("hide",(function(){n.is(":visible")&&n.focus()}))})),e(document).on("show.bs.modal",".modal",(function(){e(document.body).addClass("modal-open")})).on("hidden.bs.modal",".modal",(function(){e(document.body).removeClass("modal-open")}))}(n(19755))},76823:(e,t,n)=>{!function(e){"use strict";var t=function(e,t){this.type=this.options=this.enabled=this.timeout=this.hoverState=this.$element=null,this.init("tooltip",e,t)};t.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1},t.prototype.init=function(t,n,r){this.enabled=!0,this.type=t,this.$element=e(n),this.options=this.getOptions(r);for(var i=this.options.trigger.split(" "),a=i.length;a--;){var s=i[a];if("click"==s)this.$element.on("click."+this.type,this.options.selector,e.proxy(this.toggle,this));else if("manual"!=s){var o="hover"==s?"mouseenter":"focus",l="hover"==s?"mouseleave":"blur";this.$element.on(o+"."+this.type,this.options.selector,e.proxy(this.enter,this)),this.$element.on(l+"."+this.type,this.options.selector,e.proxy(this.leave,this))}}this.options.selector?this._options=e.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},t.prototype.getDefaults=function(){return t.DEFAULTS},t.prototype.getOptions=function(t){return(t=e.extend({},this.getDefaults(),this.$element.data(),t)).delay&&"number"==typeof t.delay&&(t.delay={show:t.delay,hide:t.delay}),t},t.prototype.getDelegateOptions=function(){var t={},n=this.getDefaults();return this._options&&e.each(this._options,(function(e,r){n[e]!=r&&(t[e]=r)})),t},t.prototype.enter=function(t){var n=t instanceof this.constructor?t:e(t.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type);if(clearTimeout(n.timeout),n.hoverState="in",!n.options.delay||!n.options.delay.show)return n.show();n.timeout=setTimeout((function(){"in"==n.hoverState&&n.show()}),n.options.delay.show)},t.prototype.leave=function(t){var n=t instanceof this.constructor?t:e(t.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type);if(clearTimeout(n.timeout),n.hoverState="out",!n.options.delay||!n.options.delay.hide)return n.hide();n.timeout=setTimeout((function(){"out"==n.hoverState&&n.hide()}),n.options.delay.hide)},t.prototype.show=function(){var t=e.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){if(this.$element.trigger(t),t.isDefaultPrevented())return;var n=this.tip();this.setContent(),this.options.animation&&n.addClass("fade");var r="function"==typeof this.options.placement?this.options.placement.call(this,n[0],this.$element[0]):this.options.placement,i=/\s?auto?\s?/i,a=i.test(r);a&&(r=r.replace(i,"")||"top"),n.detach().css({top:0,left:0,display:"block"}).addClass(r),this.options.container?n.appendTo(this.options.container):n.insertAfter(this.$element);var s=this.getPosition(),o=n[0].offsetWidth,l=n[0].offsetHeight;if(a){var c=this.$element.parent(),d=r,u=document.documentElement.scrollTop||document.body.scrollTop,p="body"==this.options.container?window.innerWidth:c.outerWidth(),m="body"==this.options.container?window.innerHeight:c.outerHeight(),h="body"==this.options.container?0:c.offset().left;r="bottom"==r&&s.top+s.height+l-u>m?"top":"top"==r&&s.top-u-l<0?"bottom":"right"==r&&s.right+o>p?"left":"left"==r&&s.left-o<h?"right":r,n.removeClass(d).addClass(r)}var g=this.getCalculatedOffset(r,s,o,l);this.applyPlacement(g,r),this.$element.trigger("shown.bs."+this.type)}},t.prototype.applyPlacement=function(e,t){var n,r=this.tip(),i=r[0].offsetWidth,a=r[0].offsetHeight,s=parseInt(r.css("margin-top"),10),o=parseInt(r.css("margin-left"),10);isNaN(s)&&(s=0),isNaN(o)&&(o=0),e.top=e.top+s,e.left=e.left+o,r.offset(e).addClass("in");var l=r[0].offsetWidth,c=r[0].offsetHeight;if("top"==t&&c!=a&&(n=!0,e.top=e.top+a-c),/bottom|top/.test(t)){var d=0;e.left<0&&(d=-2*e.left,e.left=0,r.offset(e),l=r[0].offsetWidth,c=r[0].offsetHeight),this.replaceArrow(d-i+l,l,"left")}else this.replaceArrow(c-a,c,"top");n&&r.offset(e)},t.prototype.replaceArrow=function(e,t,n){this.arrow().css(n,e?50*(1-e/t)+"%":"")},t.prototype.setContent=function(){var e=this.tip(),t=this.getTitle();e.find(".tooltip-inner")[this.options.html?"html":"text"](t),e.removeClass("fade in top bottom left right")},t.prototype.hide=function(){var t=this,n=this.tip(),r=e.Event("hide.bs."+this.type);function i(){"in"!=t.hoverState&&n.detach()}if(this.$element.trigger(r),!r.isDefaultPrevented())return n.removeClass("in"),e.support.transition&&this.$tip.hasClass("fade")?n.one(e.support.transition.end,i).emulateTransitionEnd(150):i(),this.$element.trigger("hidden.bs."+this.type),this},t.prototype.fixTitle=function(){var e=this.$element;(e.attr("title")||"string"!=typeof e.attr("data-original-title"))&&e.attr("data-original-title",e.attr("title")||"").attr("title","")},t.prototype.hasContent=function(){return this.getTitle()},t.prototype.getPosition=function(){var t=this.$element[0];return e.extend({},"function"==typeof t.getBoundingClientRect?t.getBoundingClientRect():{width:t.offsetWidth,height:t.offsetHeight},this.$element.offset())},t.prototype.getCalculatedOffset=function(e,t,n,r){return"bottom"==e?{top:t.top+t.height,left:t.left+t.width/2-n/2}:"top"==e?{top:t.top-r,left:t.left+t.width/2-n/2}:"left"==e?{top:t.top+t.height/2-r/2,left:t.left-n}:{top:t.top+t.height/2-r/2,left:t.left+t.width}},t.prototype.getTitle=function(){var e=this.$element,t=this.options;return e.attr("data-original-title")||("function"==typeof t.title?t.title.call(e[0]):t.title)},t.prototype.tip=function(){return this.$tip=this.$tip||e(this.options.template)},t.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},t.prototype.validate=function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},t.prototype.enable=function(){this.enabled=!0},t.prototype.disable=function(){this.enabled=!1},t.prototype.toggleEnabled=function(){this.enabled=!this.enabled},t.prototype.toggle=function(t){var n=t?e(t.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type):this;n.tip().hasClass("in")?n.leave(n):n.enter(n)},t.prototype.destroy=function(){this.hide().$element.off("."+this.type).removeData("bs."+this.type)};var n=e.fn.tooltip;e.fn.tooltip=function(n){return this.each((function(){var r=e(this),i=r.data("bs.tooltip"),a="object"==typeof n&&n;i||r.data("bs.tooltip",i=new t(this,a)),"string"==typeof n&&i[n]()}))},e.fn.tooltip.Constructor=t,e.fn.tooltip.noConflict=function(){return e.fn.tooltip=n,this}}(n(19755))},91477:(e,t,n)=>{!function(e){"use strict";e.fn.emulateTransitionEnd=function(t){var n=!1,r=this;return e(this).one(e.support.transition.end,(function(){n=!0})),setTimeout((function(){n||e(r).trigger(e.support.transition.end)}),t),this},e((function(){e.support.transition=function(){var e=document.createElement("bootstrap"),t={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var n in t)if(void 0!==e.style[n])return{end:t[n]}}()}))}(n(19755))},88740:function(e,t,n){"use strict";var r;function i(e){var t=0;return function(){return t<e.length?{done:!1,value:e[t++]}:{done:!0}}}function a(e){var t="undefined"!=typeof Symbol&&Symbol.iterator&&e[Symbol.iterator];return t?t.call(e):{next:i(e)}}var s="undefined"!=typeof window&&window===this?this:void 0!==n.g&&null!=n.g?n.g:this,o="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){e!=Array.prototype&&e!=Object.prototype&&(e[t]=n.value)};function l(e,t){if(t){var n=s;e=e.split(".");for(var r=0;r<e.length-1;r++){var i=e[r];i in n||(n[i]={}),n=n[i]}(t=t(r=n[e=e[e.length-1]]))!=r&&null!=t&&o(n,e,{configurable:!0,writable:!0,value:t})}}function c(){c=function(){},s.Symbol||(s.Symbol=p)}function d(e,t){this.b=e,o(this,"description",{configurable:!0,writable:!0,value:t})}l("Promise",(function(e){function t(e){this.c=0,this.h=void 0,this.b=[];var t=this.f();try{e(t.resolve,t.reject)}catch(e){t.reject(e)}}function n(){this.b=null}function r(e){return e instanceof t?e:new t((function(t){t(e)}))}if(e)return e;n.prototype.c=function(e){if(null==this.b){this.b=[];var t=this;this.f((function(){t.h()}))}this.b.push(e)};var i=s.setTimeout;n.prototype.f=function(e){i(e,0)},n.prototype.h=function(){for(;this.b&&this.b.length;){var e=this.b;this.b=[];for(var t=0;t<e.length;++t){var n=e[t];e[t]=null;try{n()}catch(e){this.g(e)}}}this.b=null},n.prototype.g=function(e){this.f((function(){throw e}))},t.prototype.f=function(){function e(e){return function(r){n||(n=!0,e.call(t,r))}}var t=this,n=!1;return{resolve:e(this.o),reject:e(this.g)}},t.prototype.o=function(e){if(e===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(e instanceof t)this.s(e);else{e:switch(typeof e){case"object":var n=null!=e;break e;case"function":n=!0;break e;default:n=!1}n?this.m(e):this.i(e)}},t.prototype.m=function(e){var t=void 0;try{t=e.then}catch(e){return void this.g(e)}"function"==typeof t?this.A(t,e):this.i(e)},t.prototype.g=function(e){this.j(2,e)},t.prototype.i=function(e){this.j(1,e)},t.prototype.j=function(e,t){if(0!=this.c)throw Error("Cannot settle("+e+", "+t+"): Promise already settled in state"+this.c);this.c=e,this.h=t,this.l()},t.prototype.l=function(){if(null!=this.b){for(var e=0;e<this.b.length;++e)o.c(this.b[e]);this.b=null}};var o=new n;return t.prototype.s=function(e){var t=this.f();e.v(t.resolve,t.reject)},t.prototype.A=function(e,t){var n=this.f();try{e.call(t,n.resolve,n.reject)}catch(e){n.reject(e)}},t.prototype.then=function(e,n){function r(e,t){return"function"==typeof e?function(t){try{i(e(t))}catch(e){a(e)}}:t}var i,a,s=new t((function(e,t){i=e,a=t}));return this.v(r(e,i),r(n,a)),s},t.prototype.catch=function(e){return this.then(void 0,e)},t.prototype.v=function(e,t){function n(){switch(r.c){case 1:e(r.h);break;case 2:t(r.h);break;default:throw Error("Unexpected state: "+r.c)}}var r=this;null==this.b?o.c(n):this.b.push(n)},t.resolve=r,t.reject=function(e){return new t((function(t,n){n(e)}))},t.race=function(e){return new t((function(t,n){for(var i=a(e),s=i.next();!s.done;s=i.next())r(s.value).v(t,n)}))},t.all=function(e){var n=a(e),i=n.next();return i.done?r([]):new t((function(e,t){function a(t){return function(n){s[t]=n,0==--o&&e(s)}}var s=[],o=0;do{s.push(void 0),o++,r(i.value).v(a(s.length-1),t),i=n.next()}while(!i.done)}))},t})),d.prototype.toString=function(){return this.b};var u,p=(u=0,function e(t){if(this instanceof e)throw new TypeError("Symbol is not a constructor");return new d("jscomp_symbol_"+(t||"")+"_"+u++,t)});function m(){c();var e=s.Symbol.iterator;e||(e=s.Symbol.iterator=s.Symbol("Symbol.iterator")),"function"!=typeof Array.prototype[e]&&o(Array.prototype,e,{configurable:!0,writable:!0,value:function(){return function(e){return m(),(e={next:e})[s.Symbol.iterator]=function(){return this},e}(i(this))}}),m=function(){}}function h(){this.g=!1,this.c=null,this.i=void 0,this.b=1,this.l=this.h=0,this.f=null}function g(e){if(e.g)throw new TypeError("Generator is already running");e.g=!0}function y(e,t){e.f={D:t,T:!0},e.b=e.h||e.l}function v(e,t,n){return e.b=n,{value:t}}function f(e){this.b=new h,this.c=e}function b(e,t,n,r){try{var i=t.call(e.b.c,n);if(!(i instanceof Object))throw new TypeError("Iterator result "+i+" is not an object");if(!i.done)return e.b.g=!1,i;var a=i.value}catch(t){return e.b.c=null,y(e.b,t),I(e)}return e.b.c=null,r.call(e.b,a),I(e)}function I(e){for(;e.b.b;)try{var t=e.c(e.b);if(t)return e.b.g=!1,{value:t.value,done:!1}}catch(t){e.b.i=void 0,y(e.b,t)}if(e.b.g=!1,e.b.f){if(t=e.b.f,e.b.f=null,t.T)throw t.D;return{value:t.return,done:!0}}return{value:void 0,done:!0}}function S(e){this.next=function(t){return g(e.b),e.b.c?t=b(e,e.b.c.next,t,e.b.j):(e.b.j(t),t=I(e)),t},this.throw=function(t){return g(e.b),e.b.c?t=b(e,e.b.c.throw,t,e.b.j):(y(e.b,t),t=I(e)),t},this.return=function(t){return function(e,t){g(e.b);var n=e.b.c;return n?b(e,"return"in n?n.return:function(e){return{value:e,done:!0}},t,e.b.return):(e.b.return(t),I(e))}(e,t)},m(),this[Symbol.iterator]=function(){return this}}function M(e){return function(e){function t(t){return e.next(t)}function n(t){return e.throw(t)}return new Promise((function(r,i){!function e(a){a.done?r(a.value):Promise.resolve(a.value).then(t,n).then(e,i)}(e.next())}))}(new S(new f(e)))}function E(e,t){if(null==e)throw new TypeError("The 'this' value for String.prototype."+t+" must not be null or undefined");return e+""}h.prototype.j=function(e){this.i=e},h.prototype.return=function(e){this.f={return:e},this.b=this.l},l("Object.entries",(function(e){return e||function(e){var t,n=[];for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.push([t,e[t]]);return n}})),l("Array.from",(function(e){return e||function(e,t,n){t=null!=t?t:function(e){return e};var r=[],i="undefined"!=typeof Symbol&&Symbol.iterator&&e[Symbol.iterator];if("function"==typeof i){e=i.call(e);for(var a=0;!(i=e.next()).done;)r.push(t.call(n,i.value,a++))}else for(i=e.length,a=0;a<i;a++)r.push(t.call(n,e[a],a));return r}})),l("String.prototype.repeat",(function(e){return e||function(e){var t=E(this,"repeat");if(0>e||1342177279<e)throw new RangeError("Invalid count value");e|=0;for(var n="";e;)1&e&&(n+=t),(e>>>=1)&&(t+=t);return n}})),l("String.prototype.padStart",(function(e){return e||function(e,t){var n=E(this,"padStart");return e-=n.length,t=void 0!==t?String(t):" ",(0<e&&t?t.repeat(Math.ceil(e/t.length)).substring(0,e):"")+n}}));var P={PARSEC_OK:0,PARSEC_CONNECTING:20,PARSEC_WRN_BROWSER:30,CONNECT_WRN_APPROVAL:6,CONNECT_WRN_DECLINED:8,CONNECT_WRN_PEER_GONE:99,CONNECT_WRN_UNCONFIRMED:100,PARSEC_NOT_RUNNING:-3,WS_ERR_CONNECT:-6101,WS_ERR_CLOSE:-6105,NAT_ERR_WEBRTC:-6200};function D(e,t,n,r){return n=r?n.bind(r):n,e.addEventListener(t,n),[e,t,n]}function C(e){for(var t=(e=a(e)).next();!t.done;t=e.next())(t=t.value)[0].removeEventListener(t[1],t[2])}function w(e,t,n,r,i){(e=new DataView(e)).setInt32(0,n),e.setInt32(4,r),e.setInt32(8,i),e.setInt8(12,t)}function Z(e,t,n,r){var i=new ArrayBuffer(13);return w(i,e,t,n,r),i}function T(e,t,n){var r=new ArrayBuffer(13+n.length+1);w(r,e,n.length+1,t,0),e=(new TextEncoder).encode(n),t=new Int8Array(r,13);for(var i=0;i<n.length;i++)t[i]=e[i];return r}var N={},O=1;function A(e){var t=O++;return N[t]=e,t}function x(e){var t=this;this.l=e,this.i=!1,this.j="",this.h=!1,this.b=this.sdp=null,this.c={},this.g=[],this.f=null,this.b=new RTCPeerConnection({iceServers:[{urls:"stun:stun.parsec.gg:3478"}]}),this.b.onicecandidate=function(e){e.candidate&&8<=(e=e.candidate.candidate.replace("candidate:","").split(" ")).length&&"udp"===e[2].toLowerCase()&&t.l(e[4],parseInt(e[5],10),!1,"srflx"===e[7],"host"===e[7])}}function j(e,t,n,r,i){e.c[n]=e.b.createDataChannel(t,{negotiated:!0,id:n}),e.c[n].binaryType="arraybuffer",e.c[n].onopen=r,e.c[n].onmessage=i}function L(e){for(;0<e.g.length;){var t=e.g.shift();e.b.addIceCandidate(new RTCIceCandidate({candidate:"candidate:2395300328 1 udp 2113937151 "+t.ip+" "+t.port+" typ "+(t.from_stun?"srflx":"host")+" generation 0 ufrag "+e.j+" network-cost 50",sdpMid:e.sdp.a.mid,sdpMLineIndex:0}))}}function k(e,t){this.c=t,this.g=e,this.f="",this.b=null,this.h=[],this.i=this.j=!1,this.timeout=null}function R(e,t){e.b&&(t=JSON.stringify(t),e.b.readyState==WebSocket.OPEN?e.b.send(t):e.h.push(t))}x.prototype.close=function(){for(var e=a(Object.entries(this.c)),t=e.next();!t.done;t=e.next())t.value[1].close();this.b.close()},x.prototype.send=function(e,t){"open"==this.c[t].readyState&&this.c[t].send(e)},k.prototype.close=function(e){this.i=!0,this.b&&(this.b.close(e),this.b=null),this.timeout&&(clearTimeout(this.timeout),this.timeout=null)};var z=1e3/60/1e3,U=(/(Mac|iPhone|iPod|iPad)/i.test(navigator.platform)?200:100)/1e3;function V(e,t){e.playbackRate=t,e.play().catch((function(){}))}function B(e,t,n){var r=this;this.b=e,this.l=!0,this.type=t,this.o=n,this.f=this.c=null,this.m='video/mp4; codecs="avc1.64001e"'===this.type,this.g=[],this.j=[],this.h=null,this.i=0,this.A=function(){var e=r.b.seekable;if(e&&0<e.length){var t=(e=e.end(0))-r.b.currentTime;'video/mp4; codecs="avc1.64001e"'===r.type?(r.i=t>.025?r.i+1:0,60<r.i&&1==r.b.playbackRate?V(r.b,t>3*z?10:1.25):t<z&&1!=r.b.playbackRate&&V(r.b,1)):t>3*U?r.b.currentTime=e+1e3:t>1.5*U&&1==r.b.playbackRate?V(r.b,10):t<U&&10==r.b.playbackRate&&V(r.b,1)}}}function F(e){e.f=new MediaSource,e.b.src=URL.createObjectURL(e.f),e.b.load(),e.g.push(D(e.b,"error",(function(){console.error(e.b.error.message)}),null)),e.g.push(D(e.f,"sourceopen",(function(){e.c=e.f.addSourceBuffer(e.type),e.c.mode="sequence",e.g.push(D(e.c,"update",e.s,e)),e.b.play().catch((function(){})),e.h=setInterval(e.A,1)}),null))}function _(e){e.h&&clearInterval(e.h),e.b.pause(),C(e.g),e.f&&(e.c&&(e.f.removeSourceBuffer(e.c),e.c=null),e.f.endOfStream(),URL.revokeObjectURL(e.b.src),e.f=null),e.b.src="",'video/mp4; codecs="avc1.64001e"'===e.type&&e.b.load(),e.l=!0,e.m='video/mp4; codecs="avc1.64001e"'===e.type,e.g=[],e.j=[],e.h=null,e.i=0}function H(e,t){t=new Uint8Array(t),'audio/mp4; codecs="opus"'===e.type&&e.l&&(e.l=!1,F(e)),'video/mp4; codecs="avc1.64001e"'===e.type&&102===t[4]&&(_(e),F(e),e.m=!1),e.m||(e.j.push(t),e.s())}function Q(e,t){var n=this;this.status=P.PARSEC_NOT_RUNNING,this.o=performance.now(),this.s={encodeLatency:0,decodeLatency:0,networkLatency:0},this.c=[],this.signal=this.b=null,this.h=[],this.g="",this.video=e,this.l=[],this.j={},this.m=0,this.i=new B(t,'audio/mp4; codecs="opus"',null),this.f=new B(e,'video/mp4; codecs="avc1.64001e"',(function(){console.warn("Attempting to recover stream..."),n.b&&n.b.send(Z(13,0,0,1),0)})),this.h.push(D(window,"beforeunload",(function(){return n.B(),null}),null))}function G(e,t){if(e.signal&&e.status==P.PARSEC_CONNECTING){var n=e.signal;R(n,{action:"offer_cancel",version:1,payload:{to:n.f,attempt_id:n.g}})}e.signal&&(e.signal.close(1e3),e.signal=null),t!=P.PARSEC_OK&&(e.b&&e.status==P.PARSEC_OK&&e.b.send(Z(10,0,0,0),0),e.b&&(e.b.close(),e.b=null),_(e.f),_(e.i)),e.status=t,e.l=[],e.j={},e.m=0}B.prototype.s=function(){if(0<this.j.length&&this.c&&!this.c.updating)try{var e=this.j.shift();this.c.appendBuffer(e)}catch(e){console.warn(e),_(this),this.o&&this.o()}},(r=Q.prototype).B=function(){C(this.h),this.C()},r.U=function(){},r.R=function(){return this.g},r.S=function(e){var t=N[e];return null!=t&&delete N[e],null==t?null:t},r.F=function(e,t,n){var r,i,a,s,o,l=this;return M((function(c){if(1==c.b)return/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor)?l.status!=P.PARSEC_NOT_RUNNING?c.return():(l.status=P.PARSEC_CONNECTING,N={},O=1,_(l.i),_(l.f),l.c=[],l.g=function(){for(var e=[],t=new Uint8Array(4),n=0;6>n;n++)crypto.getRandomValues(t),e.push(Array.from(t).map((function(e){return e.toString(16).padStart(2,"0")})).join(""));return e.join("-")}(),l.signal=new k(l.g,(function(e){G(l,e)})),r=function(e,t,n,r,i){if(l.signal){var a=l.signal;R(a,{action:"candex",version:1,payload:{to:a.f,attempt_id:a.g,data:{ver_data:1,ip:e,port:t,lan:i,from_stun:r,sync:n}}})}},i=function(){l.h.push(D(document,"visibilitychange",(function(){document.hidden?(_(l.f),l.b&&l.b.send(Z(19,0,0,0),0)):l.b&&l.b.send(Z(13,0,0,0),0)}),null));var e=window.screen.width,t=window.screen.height;(800>e||600>t||1920<e||1080<t)&&(e=1920,t=1080),l.b&&l.b.send(function(e,t){return T(11,0,e=JSON.stringify({_version:1,_max_w:6e4,_max_h:6e4,_flags:0,resolutionX:e,resolutionY:t,refreshRate:60,mediaContainer:2}))}(e,t),0),G(l,P.PARSEC_OK)},l.b=new x(r),j(l.b,"control",0,i,(function(e){l.o=performance.now();var t=new DataView(e.data);switch((e={u:t.getInt32(0),w:t.getInt32(4),P:t.getInt32(8),type:t.getInt8(12)}).type){case 10:l.status=e.u;break;case 21:l.s={encodeLatency:parseFloat(e.w)/1e3,decodeLatency:0,networkLatency:0,packetsSent:0,fastRTs:0,slowRTs:0,bitrate:0};break;case 20:l.c.push({type:2,gamepadID:e.u,motorBig:e.w,motorSmall:e.P});break;case 16:l.c.push({type:e.u?4:5});break;case 28:l.m=e.u;break;case 17:l.c.push(function(e,t){return t=A(new Uint8Array(t.buffer,13,e.u)),{type:3,id:e.w,key:t}}(e,t));break;case 9:l.c.push(function(e){var t=e.getInt16(32),n=e.getInt32(16),r=0<n?new Uint8Array(e.buffer,34,n):null;return r=r?A(r):0,{type:1,cursor:{size:n,positionX:e.getInt16(24),positionY:e.getInt16(26),width:e.getInt16(20),height:e.getInt16(22),hotX:e.getInt16(28),hotY:e.getInt16(30),imageUpdate:0<r,relative:!!(256&t),hidden:!!(512&t),stream:0},key:r}}(t));break;case 25:t=JSON.parse(new TextDecoder("utf-8").decode(new Uint8Array(t.buffer,13,e.u-1)));for(var n={},r=0;r<t.length;r++)t[r].id==e.w&&(n=t[r]);e={list:t,me:n},l.l=e.list,l.j=e.me}})),j(l.b,"video",1,null,(function(e){H(l.f,e.data)})),j(l.b,"audio",2,null,(function(e){H(l.i,e.data)})),v(c,function(e){var t;return M((function(n){if(1==n.b)return t=e,v(n,e.b.createOffer(),2);t.f=n.i;for(var r=e.f.sdp.split("\n"),i={},a=0;a<r.length;a++){var s=r[a].split("="),o=s[0];s=s[1],o&&("a"===o?(i.a||(i.a={}),o=s.split(/:(.+)/),i.a[o[0]]=o[1]):i[o]=s)}return e.sdp=i,n.return({ice_ufrag:e.sdp.a["ice-ufrag"],ice_pwd:e.sdp.a["ice-pwd"],fingerprint:e.sdp.a.fingerprint})}))}(l.b),2)):(l.status=P.PARSEC_WRN_BROWSER,c.return());a=c.i,s=function(e,t,n){l.b&&function(e,t,n,r){var i,a;M((function(s){switch(s.b){case 1:if(!e.f)throw"Offer is not set";if(e.h){s.b=0;break}return e.j=t,v(s,e.b.setLocalDescription(e.f),3);case 3:s.h=4;var o=e.sdp.a.mid;return i="v=0\r\no=- "+function(){var e=new Uint8Array(16);return crypto.getRandomValues(e),e.map((function(e){return e%10})).join("")}()+" 2 IN IP4 127.0.0.1\r\ns=-\r\nt=0 0\r\na=group:BUNDLE "+o+"\r\na=msid-semantic: WMS *\r\nm=application 9 DTLS/SCTP 5000\r\nc=IN IP4 0.0.0.0\r\nb=AS:30\r\na=ice-ufrag:"+t+"\r\na=ice-pwd:"+n+"\r\na=ice-options:trickle\r\na=fingerprint:"+r+"\r\na=setup:active\r\na=mid:"+o+"\r\na=sendrecv\r\na=sctpmap:5000 webrtc-datachannel 256\r\na=max-message-size:1073741823\r\n",v(s,e.b.setRemoteDescription(new RTCSessionDescription({type:"answer",sdp:i})),6);case 6:s.b=5,s.h=0;break;case 4:s.h=0,o=s.f.D,s.f=null,a=o,console.log(a);case 5:e.i&&L(e),e.h=!0,s.b=0}}))}(l.b,e,t,n)},o=function(e,t,n,r){l.b&&function(e,t,n,r,i){r?(e.i=!0,setTimeout((function(){e.l("1.2.3.4",1234,!0,!1,!1)}),500)):e.g.push({ip:t.replace("::ffff:",""),port:n,from_stun:i}),e.h&&e.i&&L(e)}(l.b,e,t,n,r)},l.signal&&function(e,t,n,r,i,a,s){e.b=new WebSocket("wss://kessel-ws.parsecgaming.com:443/?session_id=_&role=client&version=1&sdk_version=0",t),e.f=n,e.b.onclose=function(){e.i||e.c(P.WS_ERR_CLOSE)},e.b.onerror=function(){e.c(P.WS_ERR_CONNECT)},e.b.onopen=function(){for(;0<e.h.length;)e.b.send(e.h.shift());R(e,{action:"offer",version:1,payload:{to:e.f,attempt_id:e.g,secret:r||"",data:{ver_data:1,creds:i,mode:2,versions:{p2p:1,bud:1,init:1,video:1,audio:1,control:1}}}}),e.timeout=setTimeout((function(){e.c(P.CONNECT_WRN_APPROVAL)}),3e4)},e.b.onmessage=function(t){switch((t=JSON.parse(t.data)).action){case"answer_relay":if(e.j=!0,!t.payload.approved){e.c(P.CONNECT_WRN_DECLINED);break}e.timeout&&clearTimeout(e.timeout),e.timeout=setTimeout((function(){e.c(P.NAT_ERR_WEBRTC)}),1e4),t=t.payload.data.creds,a(t.ice_ufrag,t.ice_pwd,t.fingerprint);break;case"candex_relay":t=t.payload.data,s(t.ip,t.port,t.sync,t.from_stun);break;case"close":var n=P.WS_ERR_CLOSE;switch(t.payload.reason){case"HOST_NOT_FOUND":n=P.CONNECT_WRN_PEER_GONE;break;case"USER_UNCONFIRMED":n=P.CONNECT_WRN_UNCONFIRMED}e.c(n)}}}(l.signal,e,t,n,a,s,o),c.b=0}))},r.K=function(){return this.status},r.J=function(){return this.j},r.H=function(){return this.m},r.G=function(){return this.l},r.C=function(){G(this,P.PARSEC_NOT_RUNNING)},r.O=function(e,t){this.b&&this.status==P.PARSEC_OK&&this.b.send(T(17,e,t),0)},r.N=function(e){this.b&&this.status==P.PARSEC_OK&&this.b.send(function(e,t){switch(e.type){case 4:if(!e.relative){var n=t.videoWidth,r=t.videoHeight,i=Math.round(t.offsetWidth*window.devicePixelRatio),a=Math.round(t.offsetHeight*window.devicePixelRatio),s=Math.min(i/n,a/r);t=n*s,s*=r,a=Math.max((a-s)/2,0),(i=Math.round(n/t*(e.x-Math.max((i-t)/2,0))))===n-1&&(i=n),i>n&&(i=n),0>i&&(i=0),e.x=i,(n=Math.round(r/s*(e.y-a)))===r-1&&(n=r),n>r&&(n=r),0>n&&(n=0),e.y=n}return Z(3,e.relative?1:0,e.x,e.y);case 8:return w(r=new ArrayBuffer(28),23,e.id,0,0),(n=new DataView(r)).setUint16(16,e.buttons),n.setInt16(18,e.thumbLX),n.setInt16(20,e.thumbLY),n.setInt16(22,e.thumbRX),n.setInt16(24,e.thumbRY),n.setUint8(26,e.leftTrigger),n.setUint8(27,e.rightTrigger),r;case 2:return Z(1,e.button,e.pressed?1:0,0);case 1:return Z(0,e.code,e.mod,e.pressed?1:0);case 3:return Z(2,e.x,e.y,0);case 5:return Z(4,e.button,e.pressed?1:0,e.id);case 6:return Z(5,e.axis,e.value,e.id);case 7:return Z(6,0,0,e.id);case 9:return Z(24,0,0,0)}}(e,this.video),0)},r.M=function(){return this.c.shift()},r.I=function(){return this.s},r.L=function(){return this.status==P.PARSEC_OK&&5e3<performance.now()-this.o},Q.prototype.destroy=Q.prototype.B,Q.prototype.setLogCallback=Q.prototype.U,Q.prototype.getAttemptID=Q.prototype.R,Q.prototype.getBuffer=Q.prototype.S,Q.prototype.clientConnect=Q.prototype.F,Q.prototype.clientGetStatus=Q.prototype.K,Q.prototype.clientGetSelf=Q.prototype.J,Q.prototype.clientGetHostMode=Q.prototype.H,Q.prototype.clientGetGuests=Q.prototype.G,Q.prototype.clientDisconnect=Q.prototype.C,Q.prototype.clientSendUserData=Q.prototype.O,Q.prototype.clientSendMessage=Q.prototype.N,Q.prototype.clientPollEvents=Q.prototype.M,Q.prototype.clientGetMetrics=Q.prototype.I,Q.prototype.clientNetworkFailure=Q.prototype.L,Q.prototype.Status=P,window.Parsec=Q},62568:function(e,t,n){var r,i,a,s,o,l,c,d,u,p=n(19755);"function"==typeof(i=function(){var e=function(e,t){this.items=e,this.settings=t||{diacritics:!0}};e.prototype.tokenize=function(e){if(!(e=r(String(e||"").toLowerCase()))||!e.length)return[];var t,n,a,o,l=[],c=e.split(/ +/);for(t=0,n=c.length;t<n;t++){if(a=i(c[t]),this.settings.diacritics)for(o in s)s.hasOwnProperty(o)&&(a=a.replace(new RegExp(o,"g"),s[o]));l.push({string:c[t],regex:new RegExp(a,"i")})}return l},e.prototype.iterator=function(e,t){(a(e)?Array.prototype.forEach||function(e){for(var t=0,n=this.length;t<n;t++)e(this[t],t,this)}:function(e){for(var t in this)this.hasOwnProperty(t)&&e(this[t],t,this)}).apply(e,[t])},e.prototype.getScoreFunction=function(e,t){var n,r,i;e=this.prepareSearch(e,t),r=e.tokens,n=e.options.fields,i=r.length;var a,s=function(e,t){var n,r;return e?-1===(r=(e=String(e||"")).search(t.regex))?0:(n=t.string.length/e.length,0===r&&(n+=.5),n):0},o=(a=n.length)?1===a?function(e,t){return s(t[n[0]],e)}:function(e,t){for(var r=0,i=0;r<a;r++)i+=s(t[n[r]],e);return i/a}:function(){return 0};return i?1===i?function(e){return o(r[0],e)}:"and"===e.options.conjunction?function(e){for(var t,n=0,a=0;n<i;n++){if((t=o(r[n],e))<=0)return 0;a+=t}return a/i}:function(e){for(var t=0,n=0;t<i;t++)n+=o(r[t],e);return n/i}:function(){return 0}},e.prototype.getSortFunction=function(e,n){var r,i,a,s,o,l,c,d,u,p,m;if(m=!(e=(a=this).prepareSearch(e,n)).query&&n.sort_empty||n.sort,u=function(e,t){return"$score"===e?t.score:a.items[t.id][e]},o=[],m)for(r=0,i=m.length;r<i;r++)(e.query||"$score"!==m[r].field)&&o.push(m[r]);if(e.query){for(p=!0,r=0,i=o.length;r<i;r++)if("$score"===o[r].field){p=!1;break}p&&o.unshift({field:"$score",direction:"desc"})}else for(r=0,i=o.length;r<i;r++)if("$score"===o[r].field){o.splice(r,1);break}for(d=[],r=0,i=o.length;r<i;r++)d.push("desc"===o[r].direction?-1:1);return(l=o.length)?1===l?(s=o[0].field,c=d[0],function(e,n){return c*t(u(s,e),u(s,n))}):function(e,n){var r,i,a;for(r=0;r<l;r++)if(a=o[r].field,i=d[r]*t(u(a,e),u(a,n)))return i;return 0}:null},e.prototype.prepareSearch=function(e,t){if("object"==typeof e)return e;var r=(t=n({},t)).fields,i=t.sort,s=t.sort_empty;return r&&!a(r)&&(t.fields=[r]),i&&!a(i)&&(t.sort=[i]),s&&!a(s)&&(t.sort_empty=[s]),{options:t,query:String(e||"").toLowerCase(),tokens:this.tokenize(e),total:0,items:[]}},e.prototype.search=function(e,t){var n,r,i,a,s=this;return r=this.prepareSearch(e,t),t=r.options,e=r.query,a=t.score||s.getScoreFunction(r),e.length?s.iterator(s.items,(function(e,i){n=a(e),(!1===t.filter||n>0)&&r.items.push({score:n,id:i})})):s.iterator(s.items,(function(e,t){r.items.push({score:1,id:t})})),(i=s.getSortFunction(r,t))&&r.items.sort(i),r.total=r.items.length,"number"==typeof t.limit&&(r.items=r.items.slice(0,t.limit)),r};var t=function(e,t){return"number"==typeof e&&"number"==typeof t?e>t?1:e<t?-1:0:(e=o(String(e||"")))>(t=o(String(t||"")))?1:t>e?-1:0},n=function(e,t){var n,r,i,a;for(n=1,r=arguments.length;n<r;n++)if(a=arguments[n])for(i in a)a.hasOwnProperty(i)&&(e[i]=a[i]);return e},r=function(e){return(e+"").replace(/^\s+|\s+$|/g,"")},i=function(e){return(e+"").replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")},a=Array.isArray||p&&p.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},s={a:"[a]",c:"[c]",d:"[d]",e:"[e]",i:"[i]",l:"[l]",n:"[n]",o:"[o]",r:"[r]",s:"[s]",t:"[t]",u:"[u]",y:"[y]",z:"[z]"},o=function(){var e,t,n,r,i="",a={};for(n in s)if(s.hasOwnProperty(n))for(i+=r=s[n].substring(2,s[n].length-1),e=0,t=r.length;e<t;e++)a[r.charAt(e)]=n;var o=new RegExp("["+i+"]","g");return function(e){return e.replace(o,(function(e){return a[e]})).toLowerCase()}}();return e})?(r=i.call((a={id:"sifter",exports:{},loaded:!1}).exports,n,a.exports,a),a.loaded=!0,void 0===r&&(r=a.exports)):r=i,"function"==typeof(o=function(){var e={mixin:function(e){e.plugins={},e.prototype.initializePlugins=function(e){var n,r,i,a=this,s=[];if(a.plugins={names:[],settings:{},requested:{},loaded:{}},t.isArray(e))for(n=0,r=e.length;n<r;n++)"string"==typeof e[n]?s.push(e[n]):(a.plugins.settings[e[n].name]=e[n].options,s.push(e[n].name));else if(e)for(i in e)e.hasOwnProperty(i)&&(a.plugins.settings[i]=e[i],s.push(i));for(;s.length;)a.require(s.shift())},e.prototype.loadPlugin=function(t){var n=this,r=n.plugins,i=e.plugins[t];if(!e.plugins.hasOwnProperty(t))throw new Error('Unable to find "'+t+'" plugin');r.requested[t]=!0,r.loaded[t]=i.fn.apply(n,[n.plugins.settings[t]||{}]),r.names.push(t)},e.prototype.require=function(e){var t=this,n=t.plugins;if(!t.plugins.loaded.hasOwnProperty(e)){if(n.requested[e])throw new Error('Plugin has circular dependency ("'+e+'")');t.loadPlugin(e)}return n.loaded[e]},e.define=function(t,n){e.plugins[t]={name:t,fn:n}}}},t={isArray:Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}};return e})?(s=o.call((l={id:"microplugin",exports:{},loaded:!1}).exports,n,l.exports,l),l.loaded=!0,void 0===s&&(s=l.exports)):s=o,d=[n(19755),r,s],void 0===(u="function"==typeof(c=function(e,t,n){"use strict";var r=function(e,t){if("string"!=typeof t||t.length){var n="string"==typeof t?new RegExp(t,"i"):t,r=function(e){var t=0;if(3===e.nodeType){var i=e.data.search(n);if(i>=0&&e.data.length>0){var a=e.data.match(n),s=document.createElement("span");s.className="highlight";var o=e.splitText(i),l=(o.splitText(a[0].length),o.cloneNode(!0));s.appendChild(l),o.parentNode.replaceChild(s,o),t=1}}else if(1===e.nodeType&&e.childNodes&&!/(script|style)/i.test(e.tagName))for(var c=0;c<e.childNodes.length;++c)c+=r(e.childNodes[c]);return t};return e.each((function(){r(this)}))}},i=function(){};i.prototype={on:function(e,t){this._events=this._events||{},this._events[e]=this._events[e]||[],this._events[e].push(t)},off:function(e,t){var n=arguments.length;return 0===n?delete this._events:1===n?delete this._events[e]:(this._events=this._events||{},void(e in this._events!=0&&this._events[e].splice(this._events[e].indexOf(t),1)))},trigger:function(e){if(this._events=this._events||{},e in this._events!=0)for(var t=0;t<this._events[e].length;t++)this._events[e][t].apply(this,Array.prototype.slice.call(arguments,1))}},i.mixin=function(e){for(var t=["on","off","trigger"],n=0;n<t.length;n++)e.prototype[t[n]]=i.prototype[t[n]]};var a=/Mac/.test(navigator.userAgent),s=a?91:17,o=a?18:17,l=!/android/i.test(window.navigator.userAgent)&&!!document.createElement("form").validity,c=function(e){return void 0!==e},d=function(e){return null==e?null:"boolean"==typeof e?e?"1":"0":e+""},u=function(e){return(e+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")},p=function(e){return(e+"").replace(/\$/g,"$$$$")},m=function(e){var t=!1;return function(){t||(t=!0,e.apply(this,arguments))}},h=function(e,t,n){var r,i=e.trigger,a={};for(r in e.trigger=function(){var n=arguments[0];if(-1===t.indexOf(n))return i.apply(e,arguments);a[n]=arguments},n.apply(e,[]),e.trigger=i,a)a.hasOwnProperty(r)&&i.apply(e,a[r])},g=function(e){var t={};if("selectionStart"in e)t.start=e.selectionStart,t.length=e.selectionEnd-t.start;else if(document.selection){e.focus();var n=document.selection.createRange(),r=document.selection.createRange().text.length;n.moveStart("character",-e.value.length),t.start=n.text.length-r,t.length=r}return t},y=function(t){var n=null,r=function(r,i){var a,s,o,l,c,d,u,p;i=i||{},(r=r||window.event||{}).metaKey||r.altKey||(i.force||!1!==t.data("grow"))&&(a=t.val(),r.type&&"keydown"===r.type.toLowerCase()&&(o=(s=r.keyCode)>=97&&s<=122||s>=65&&s<=90||s>=48&&s<=57||32===s,46===s||8===s?(p=g(t[0])).length?a=a.substring(0,p.start)+a.substring(p.start+p.length):8===s&&p.start?a=a.substring(0,p.start-1)+a.substring(p.start+1):46===s&&void 0!==p.start&&(a=a.substring(0,p.start)+a.substring(p.start+1)):o&&(d=r.shiftKey,u=String.fromCharCode(r.keyCode),a+=u=d?u.toUpperCase():u.toLowerCase())),l=t.attr("placeholder"),!a&&l&&(a=l),(c=function(t,n){if(!t)return 0;var r=e("<test>").css({position:"absolute",top:-99999,left:-99999,width:"auto",padding:0,whiteSpace:"pre"}).text(t).appendTo("body");!function(e,t,n){var r,i,a={};if(n)for(r=0,i=n.length;r<i;r++)a[n[r]]=e.css(n[r]);else a=e.css();t.css(a)}(n,r,["letterSpacing","fontSize","fontFamily","fontWeight","textTransform"]);var i=r.width();return r.remove(),i}(a,t)+4)!==n&&(n=c,t.width(c),t.triggerHandler("resize")))};t.on("keydown keyup update blur",r),r()},v=function(n,r){var i,a,s,o,l=this;(o=n[0]).selectize=l;var c,d,u,p=window.getComputedStyle&&window.getComputedStyle(o,null);if(s=(s=p?p.getPropertyValue("direction"):o.currentStyle&&o.currentStyle.direction)||n.parents("[dir]:first").attr("dir")||"",e.extend(l,{order:0,settings:r,$input:n,tabIndex:n.attr("tabindex")||"",tagType:"select"===o.tagName.toLowerCase()?1:2,rtl:/rtl/i.test(s),eventNS:".selectize"+ ++v.count,highlightedValue:null,isOpen:!1,isDisabled:!1,isRequired:n.is("[required]"),isInvalid:!1,isLocked:!1,isFocused:!1,isInputHidden:!1,isSetup:!1,isShiftDown:!1,isCmdDown:!1,isCtrlDown:!1,ignoreFocus:!1,ignoreBlur:!1,ignoreHover:!1,hasOptions:!1,currentResults:null,lastValue:"",caretPos:0,loading:0,loadedSearches:{},$activeOption:null,$activeItems:[],optgroups:{},options:{},userOptions:{},items:[],renderCache:{},onSearchChange:null===r.loadThrottle?l.onSearchChange:(c=l.onSearchChange,d=r.loadThrottle,function(){var e=this,t=arguments;window.clearTimeout(u),u=window.setTimeout((function(){c.apply(e,t)}),d)})}),l.sifter=new t(this.options,{diacritics:r.diacritics}),l.settings.options){for(i=0,a=l.settings.options.length;i<a;i++)l.registerOption(l.settings.options[i]);delete l.settings.options}if(l.settings.optgroups){for(i=0,a=l.settings.optgroups.length;i<a;i++)l.registerOptionGroup(l.settings.optgroups[i]);delete l.settings.optgroups}l.settings.mode=l.settings.mode||(1===l.settings.maxItems?"single":"multi"),"boolean"!=typeof l.settings.hideSelected&&(l.settings.hideSelected="multi"===l.settings.mode),l.initializePlugins(l.settings.plugins),l.setupCallbacks(),l.setupTemplates(),l.setup()};return i.mixin(v),n.mixin(v),e.extend(v.prototype,{setup:function(){var t,n,r,i,c,d,u,p,m,h,g,v,f,b=this,I=b.settings,S=b.eventNS,M=e(window),E=e(document),P=b.$input;if(u=b.settings.mode,p=P.attr("class")||"",t=e("<div>").addClass(I.wrapperClass).addClass(p).addClass(u),n=e("<div>").addClass(I.inputClass).addClass("items").appendTo(t),r=e('<input type="text" autocomplete="off" />').appendTo(n).attr("tabindex",P.is(":disabled")?"-1":b.tabIndex),d=e(I.dropdownParent||t),i=e("<div>").addClass(I.dropdownClass).addClass(u).hide().appendTo(d),c=e("<div>").addClass(I.dropdownContentClass).appendTo(i),b.settings.copyClassesToDropdown&&i.addClass(p),t.css({width:P[0].style.width}),b.plugins.names.length&&(m="plugin-"+b.plugins.names.join(" plugin-"),t.addClass(m),i.addClass(m)),(null===I.maxItems||I.maxItems>1)&&1===b.tagType&&P.attr("multiple","multiple"),b.settings.placeholder&&r.attr("placeholder",I.placeholder),!b.settings.splitOn&&b.settings.delimiter){var D=b.settings.delimiter.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&");b.settings.splitOn=new RegExp("\\s*"+D+"+\\s*")}P.attr("autocorrect")&&r.attr("autocorrect",P.attr("autocorrect")),P.attr("autocapitalize")&&r.attr("autocapitalize",P.attr("autocapitalize")),b.$wrapper=t,b.$control=n,b.$control_input=r,b.$dropdown=i,b.$dropdown_content=c,i.on("mouseenter","[data-selectable]",(function(){return b.onOptionHover.apply(b,arguments)})),i.on("mousedown click","[data-selectable]",(function(){return b.onOptionSelect.apply(b,arguments)})),g="mousedown",v="*:not(input)",f=function(){return b.onItemSelect.apply(b,arguments)},(h=n).on(g,v,(function(e){for(var t=e.target;t&&t.parentNode!==h[0];)t=t.parentNode;return e.currentTarget=t,f.apply(this,[e])})),b.settings.manualInputWidth||y(r),n.on({mousedown:function(){return b.onMouseDown.apply(b,arguments)},click:function(){return b.onClick.apply(b,arguments)}}),r.on({mousedown:function(e){e.stopPropagation()},keydown:function(){return b.onKeyDown.apply(b,arguments)},keyup:function(){return b.onKeyUp.apply(b,arguments)},keypress:function(){return b.onKeyPress.apply(b,arguments)},resize:function(){b.positionDropdown.apply(b,[])},blur:function(){return b.onBlur.apply(b,arguments)},focus:function(){return b.ignoreBlur=!1,b.onFocus.apply(b,arguments)},paste:function(){return b.onPaste.apply(b,arguments)}}),P.parents().last().find('label[for="'+P.attr("id")+'"]').on("click",(function(){b.onClick.apply(b,arguments)})),E.on("keydown"+S,(function(e){b.isCmdDown=e[a?"metaKey":"ctrlKey"],b.isCtrlDown=e[a?"altKey":"ctrlKey"],b.isShiftDown=e.shiftKey})),E.on("keyup"+S,(function(e){e.keyCode===o&&(b.isCtrlDown=!1),16===e.keyCode&&(b.isShiftDown=!1),e.keyCode===s&&(b.isCmdDown=!1)})),E.on("mousedown"+S,(function(e){if(b.isFocused){if(e.target===b.$dropdown[0]||e.target.parentNode===b.$dropdown[0])return!1;b.$control.has(e.target).length||e.target===b.$control[0]||b.blur(e.target)}})),M.on(["scroll"+S,"resize"+S].join(" "),(function(){b.isOpen&&b.positionDropdown.apply(b,arguments)})),M.on("mousemove"+S,(function(){b.ignoreHover=!1})),this.revertSettings={$children:P.children().detach(),tabindex:P.attr("tabindex")},P.attr("tabindex",-1).hide().after(b.$wrapper),e.isArray(I.items)&&(b.setValue(I.items),delete I.items),l&&P.on("invalid"+S,(function(e){e.preventDefault(),b.isInvalid=!0,b.refreshState()})),b.updateOriginalInput(),b.refreshItems(),b.refreshState(),b.updatePlaceholder(),b.isSetup=!0,P.is(":disabled")&&b.disable(),b.on("change",this.onChange),P.data("selectize",b),P.addClass("selectized"),b.trigger("initialize"),!0===I.preload&&b.onSearchChange("")},setupTemplates:function(){var t=this,n=t.settings.labelField,r=t.settings.optgroupLabelField,i={optgroup:function(e){return'<div class="optgroup">'+e.html+"</div>"},optgroup_header:function(e,t){return'<div class="optgroup-header">'+t(e[r])+"</div>"},option:function(e,t){return'<div class="option">'+t(e[n])+"</div>"},item:function(e,t){return'<div class="item">'+t(e[n])+"</div>"},option_create:function(e,t){return'<div class="create">Add <strong>'+t(e.input)+"</strong>&hellip;</div>"}};t.settings.render=e.extend({},i,t.settings.render)},setupCallbacks:function(){var e,t,n={initialize:"onInitialize",change:"onChange",item_add:"onItemAdd",item_remove:"onItemRemove",clear:"onClear",option_add:"onOptionAdd",option_remove:"onOptionRemove",option_clear:"onOptionClear",optgroup_add:"onOptionGroupAdd",optgroup_remove:"onOptionGroupRemove",optgroup_clear:"onOptionGroupClear",dropdown_open:"onDropdownOpen",dropdown_close:"onDropdownClose",type:"onType",load:"onLoad",focus:"onFocus",blur:"onBlur"};for(e in n)n.hasOwnProperty(e)&&(t=this.settings[n[e]])&&this.on(e,t)},onClick:function(e){this.isFocused||(this.focus(),e.preventDefault())},onMouseDown:function(t){var n=this,r=t.isDefaultPrevented();if(e(t.target),n.isFocused){if(t.target!==n.$control_input[0])return"single"===n.settings.mode&&t.target!==n.$control[0]?n.isOpen?n.close():n.open():r||n.setActiveItem(null),!1}else r||window.setTimeout((function(){n.focus()}),0)},onChange:function(){this.$input.trigger("change")},onPaste:function(t){var n=this;n.isFull()||n.isInputHidden||n.isLocked?t.preventDefault():n.settings.splitOn&&setTimeout((function(){for(var t=e.trim(n.$control_input.val()||"").split(n.settings.splitOn),r=0,i=t.length;r<i;r++)n.createItem(t[r])}),0)},onKeyPress:function(e){if(this.isLocked)return e&&e.preventDefault();var t=String.fromCharCode(e.keyCode||e.which);return this.settings.create&&"multi"===this.settings.mode&&t===this.settings.delimiter?(this.createItem(),e.preventDefault(),!1):void 0},onKeyDown:function(e){e.target,this.$control_input[0];var t=this;if(t.isLocked)9!==e.keyCode&&e.preventDefault();else{switch(e.keyCode){case 65:if(t.isCmdDown)return void t.selectAll();break;case 27:return void(t.isOpen&&(e.preventDefault(),e.stopPropagation(),t.close()));case 78:if(!e.ctrlKey||e.altKey)break;case 40:if(!t.isOpen&&t.hasOptions)t.open();else if(t.$activeOption){t.ignoreHover=!0;var n=t.getAdjacentOption(t.$activeOption,1);n.length&&t.setActiveOption(n,!0,!0)}return void e.preventDefault();case 80:if(!e.ctrlKey||e.altKey)break;case 38:if(t.$activeOption){t.ignoreHover=!0;var r=t.getAdjacentOption(t.$activeOption,-1);r.length&&t.setActiveOption(r,!0,!0)}return void e.preventDefault();case 13:return void(t.isOpen&&t.$activeOption&&(t.onOptionSelect({currentTarget:t.$activeOption}),e.preventDefault()));case 37:return void t.advanceSelection(-1,e);case 39:return void t.advanceSelection(1,e);case 9:return void(t.settings.selectOnTab&&t.isOpen&&t.$activeOption?(t.onOptionSelect({currentTarget:t.$activeOption}),t.settings.allowCreateEmpty&&1===t.settings.maxItems||t.isFull()||e.preventDefault()):t.settings.create&&t.createItem()&&e.preventDefault());case 8:return void t.deleteSelection(e,!0);case 46:return void t.deleteSelection(e)}!t.isFull()&&!t.isInputHidden||(a?e.metaKey:e.ctrlKey)||e.preventDefault()}},onKeyUp:function(e){var t=this;if(t.isLocked)return e&&e.preventDefault();var n=t.$control_input.val()||"";t.lastValue!==n&&(t.lastValue=n,t.onSearchChange(n),t.refreshOptions(),t.trigger("type",n))},onSearchChange:function(e){var t=this,n=t.settings.load;n&&(t.loadedSearches.hasOwnProperty(e)||(t.loadedSearches[e]=!0,t.load((function(r){n.apply(t,[e,r])}))))},onFocus:function(e){var t=this,n=t.isFocused;if(t.isDisabled)return t.blur(),e&&e.preventDefault(),!1;t.ignoreFocus||(t.isFocused=!0,"focus"===t.settings.preload&&t.onSearchChange(""),n||t.trigger("focus"),t.$activeItems.length||(t.showInput(),t.setActiveItem(null),t.refreshOptions(!!t.settings.openOnFocus)),t.refreshState())},onBlur:function(e,t){var n=this;if(n.isFocused&&(n.isFocused=!1,!n.ignoreFocus))return n.ignoreBlur||document.activeElement!==n.$dropdown_content[0]?void setTimeout((function(){var e=function(){n.close(),n.setTextboxValue(""),n.setActiveItem(null),n.setActiveOption(null),n.setCaret(n.items.length),n.refreshState(),(t||document.body).focus(),n.ignoreFocus=!1,n.trigger("blur")};n.ignoreFocus=!0,n.settings.selectOnBlur&&n.$activeOption&&1===n.$activeOption.not(".create").length?(n.addItem(n.$activeOption.not(".create").data("value")),e()):n.settings.create&&n.settings.createOnBlur?n.createItem(null,!1,e):e()})):(n.ignoreBlur=!0,void n.onFocus(e))},onOptionHover:function(e){this.ignoreHover||this.setActiveOption(e.currentTarget,!1)},onOptionSelect:function(t){var n,r,i=this;t.preventDefault&&(t.preventDefault(),t.stopPropagation()),(r=e(t.currentTarget)).hasClass("create")?i.createItem(null,(function(){i.settings.closeAfterSelect&&i.close()})):void 0!==(n=r.attr("data-value"))&&(i.lastQuery=null,i.setTextboxValue(""),i.addItem(n),i.settings.closeAfterSelect?i.close():!i.settings.hideSelected&&t.type&&/mouse/.test(t.type)&&i.setActiveOption(i.getOption(n)))},onItemSelect:function(e){var t=this;t.isLocked||"multi"===t.settings.mode&&(e.preventDefault(),t.setActiveItem(e.currentTarget,e))},load:function(e){var t=this,n=t.$wrapper.addClass(t.settings.loadingClass);t.loading++,e.apply(t,[function(e){t.loading=Math.max(t.loading-1,0),e&&e.length&&(t.addOption(e),t.refreshOptions(t.isFocused&&!t.isInputHidden)),t.loading||n.removeClass(t.settings.loadingClass),t.trigger("load",e)}])},setTextboxValue:function(e){var t=this.$control_input;t.val()!==e&&(t.val(e).triggerHandler("update"),this.lastValue=e)},getValue:function(){return 1===this.tagType&&this.$input.attr("multiple")?this.items:this.items.join(this.settings.delimiter)},setValue:function(e,t){h(this,t?[]:["change"],(function(){this.clear(t),this.addItems(e,t)}))},setActiveItem:function(t,n){var r,i,a,s,o,l,c,d,u=this;if("single"!==u.settings.mode){if(!(t=e(t)).length)return e(u.$activeItems).removeClass("active"),u.$activeItems=[],void(u.isFocused&&u.showInput());if("mousedown"===(r=n&&n.type.toLowerCase())&&u.isShiftDown&&u.$activeItems.length){for(d=u.$control.children(".active:last"),(s=Array.prototype.indexOf.apply(u.$control[0].childNodes,[d[0]]))>(o=Array.prototype.indexOf.apply(u.$control[0].childNodes,[t[0]]))&&(c=s,s=o,o=c),i=s;i<=o;i++)l=u.$control[0].childNodes[i],-1===u.$activeItems.indexOf(l)&&(e(l).addClass("active"),u.$activeItems.push(l));n.preventDefault()}else"mousedown"===r&&u.isCtrlDown||"keydown"===r&&this.isShiftDown?t.hasClass("active")?(a=u.$activeItems.indexOf(t[0]),u.$activeItems.splice(a,1),t.removeClass("active")):u.$activeItems.push(t.addClass("active")[0]):(e(u.$activeItems).removeClass("active"),u.$activeItems=[t.addClass("active")[0]]);u.hideInput(),this.isFocused||u.focus()}},setActiveOption:function(t,n,r){var i,a,s,o,l,d=this;d.$activeOption&&d.$activeOption.removeClass("active"),d.$activeOption=null,(t=e(t)).length&&(d.$activeOption=t.addClass("active"),!n&&c(n)||(i=d.$dropdown_content.height(),a=d.$activeOption.outerHeight(!0),n=d.$dropdown_content.scrollTop()||0,o=s=d.$activeOption.offset().top-d.$dropdown_content.offset().top+n,l=s-i+a,s+a>i+n?d.$dropdown_content.stop().animate({scrollTop:l},r?d.settings.scrollDuration:0):s<n&&d.$dropdown_content.stop().animate({scrollTop:o},r?d.settings.scrollDuration:0)))},selectAll:function(){var e=this;"single"!==e.settings.mode&&(e.$activeItems=Array.prototype.slice.apply(e.$control.children(":not(input)").addClass("active")),e.$activeItems.length&&(e.hideInput(),e.close()),e.focus())},hideInput:function(){this.setTextboxValue(""),this.$control_input.css({opacity:0}),this.settings.manualInputWidth||this.$control_input.css({position:"absolute",left:this.rtl?1e4:-1e4}),this.isInputHidden=!0},showInput:function(){this.$control_input.css({opacity:1}),this.settings.manualInputWidth||this.$control_input.css({position:"relative",left:0}),this.isInputHidden=!1},focus:function(){var e=this;e.isDisabled||(e.ignoreFocus=!0,e.$control_input[0].focus(),window.setTimeout((function(){e.ignoreFocus=!1,e.onFocus()}),0))},blur:function(e){this.$control_input[0].blur(),this.onBlur(null,e)},getScoreFunction:function(e){return this.sifter.getScoreFunction(e,this.getSearchOptions())},getSearchOptions:function(){var e=this.settings,t=e.sortField;return"string"==typeof t&&(t=[{field:t}]),{fields:e.searchField,conjunction:e.searchConjunction,sort:t}},search:function(t){var n,r,i,a=this,s=a.settings,o=this.getSearchOptions();if(s.score&&"function"!=typeof(i=a.settings.score.apply(this,[t])))throw new Error('Selectize "score" setting must be a function that returns a function');if(t!==a.lastQuery?(a.lastQuery=t,r=a.sifter.search(t,e.extend(o,{score:i})),a.currentResults=r):r=e.extend(!0,{},a.currentResults),s.hideSelected)for(n=r.items.length-1;n>=0;n--)-1!==a.items.indexOf(d(r.items[n].id))&&r.items.splice(n,1);return r},refreshOptions:function(t){var n,i,a,s,o,l,c,u,p,m,h,g,y,v,f,b;void 0===t&&(t=!0);var I=this,S=e.trim(I.$control_input.val()),M=I.search(S),E=I.$dropdown_content,P=I.$activeOption&&d(I.$activeOption.attr("data-value"));for(s=M.items.length,"number"==typeof I.settings.maxOptions&&(s=Math.min(s,I.settings.maxOptions)),o={},l=[],n=0;n<s;n++)for(c=I.options[M.items[n].id],u=I.render("option",c),p=c[I.settings.optgroupField]||"",i=0,a=(m=e.isArray(p)?p:[p])&&m.length;i<a;i++)p=m[i],I.optgroups.hasOwnProperty(p)||(p=""),o.hasOwnProperty(p)||(o[p]=[],l.push(p)),o[p].push(u);for(this.settings.lockOptgroupOrder&&l.sort((function(e,t){return(I.optgroups[e].$order||0)-(I.optgroups[t].$order||0)})),h=[],n=0,s=l.length;n<s;n++)p=l[n],I.optgroups.hasOwnProperty(p)&&o[p].length?(g=I.render("optgroup_header",I.optgroups[p])||"",g+=o[p].join(""),h.push(I.render("optgroup",e.extend({},I.optgroups[p],{html:g})))):h.push(o[p].join(""));if(E.html(h.join("")),I.settings.highlight&&M.query.length&&M.tokens.length)for(n=0,s=M.tokens.length;n<s;n++)r(E,M.tokens[n].regex);if(!I.settings.hideSelected)for(n=0,s=I.items.length;n<s;n++)I.getOption(I.items[n]).addClass("selected");(y=I.canCreate(S))&&(E.prepend(I.render("option_create",{input:S})),b=e(E[0].childNodes[0])),I.hasOptions=M.items.length>0||y,I.hasOptions?(M.items.length>0?((f=P&&I.getOption(P))&&f.length?v=f:"single"===I.settings.mode&&I.items.length&&(v=I.getOption(I.items[0])),v&&v.length||(v=b&&!I.settings.addPrecedence?I.getAdjacentOption(b,1):E.find("[data-selectable]:first"))):v=b,I.setActiveOption(v),t&&!I.isOpen&&I.open()):(I.setActiveOption(null),t&&I.isOpen&&I.close())},addOption:function(t){var n,r,i,a=this;if(e.isArray(t))for(n=0,r=t.length;n<r;n++)a.addOption(t[n]);else(i=a.registerOption(t))&&(a.userOptions[i]=!0,a.lastQuery=null,a.trigger("option_add",i,t))},registerOption:function(e){var t=d(e[this.settings.valueField]);return!(!t||this.options.hasOwnProperty(t))&&(e.$order=e.$order||++this.order,this.options[t]=e,t)},registerOptionGroup:function(e){var t=d(e[this.settings.optgroupValueField]);return!!t&&(e.$order=e.$order||++this.order,this.optgroups[t]=e,t)},addOptionGroup:function(e,t){t[this.settings.optgroupValueField]=e,(e=this.registerOptionGroup(t))&&this.trigger("optgroup_add",e,t)},removeOptionGroup:function(e){this.optgroups.hasOwnProperty(e)&&(delete this.optgroups[e],this.renderCache={},this.trigger("optgroup_remove",e))},clearOptionGroups:function(){this.optgroups={},this.renderCache={},this.trigger("optgroup_clear")},updateOption:function(t,n){var r,i,a,s,o,l,c,u=this;if(t=d(t),a=d(n[u.settings.valueField]),null!==t&&u.options.hasOwnProperty(t)){if("string"!=typeof a)throw new Error("Value must be set in option data");c=u.options[t].$order,a!==t&&(delete u.options[t],-1!==(s=u.items.indexOf(t))&&u.items.splice(s,1,a)),n.$order=n.$order||c,u.options[a]=n,o=u.renderCache.item,l=u.renderCache.option,o&&(delete o[t],delete o[a]),l&&(delete l[t],delete l[a]),-1!==u.items.indexOf(a)&&(r=u.getItem(t),i=e(u.render("item",n)),r.hasClass("active")&&i.addClass("active"),r.replaceWith(i)),u.lastQuery=null,u.isOpen&&u.refreshOptions(!1)}},removeOption:function(e,t){var n=this;e=d(e);var r=n.renderCache.item,i=n.renderCache.option;r&&delete r[e],i&&delete i[e],delete n.userOptions[e],delete n.options[e],n.lastQuery=null,n.trigger("option_remove",e),n.removeItem(e,t)},clearOptions:function(){var e=this;e.loadedSearches={},e.userOptions={},e.renderCache={},e.options=e.sifter.items={},e.lastQuery=null,e.trigger("option_clear"),e.clear()},getOption:function(e){return this.getElementWithValue(e,this.$dropdown_content.find("[data-selectable]"))},getAdjacentOption:function(t,n){var r=this.$dropdown.find("[data-selectable]"),i=r.index(t)+n;return i>=0&&i<r.length?r.eq(i):e()},getElementWithValue:function(t,n){if(null!=(t=d(t)))for(var r=0,i=n.length;r<i;r++)if(n[r].getAttribute("data-value")===t)return e(n[r]);return e()},getItem:function(e){return this.getElementWithValue(e,this.$control.children())},addItems:function(t,n){for(var r=e.isArray(t)?t:[t],i=0,a=r.length;i<a;i++)this.isPending=i<a-1,this.addItem(r[i],n)},addItem:function(t,n){h(this,n?[]:["change"],(function(){var r,i,a,s,o,l=this,c=l.settings.mode;t=d(t),-1===l.items.indexOf(t)?l.options.hasOwnProperty(t)&&("single"===c&&l.clear(n),"multi"===c&&l.isFull()||(r=e(l.render("item",l.options[t])),o=l.isFull(),l.items.splice(l.caretPos,0,t),l.insertAtCaret(r),(!l.isPending||!o&&l.isFull())&&l.refreshState(),l.isSetup&&(a=l.$dropdown_content.find("[data-selectable]"),l.isPending||(i=l.getOption(t),s=l.getAdjacentOption(i,1).attr("data-value"),l.refreshOptions(l.isFocused&&"single"!==c),s&&l.setActiveOption(l.getOption(s))),!a.length||l.isFull()?l.close():l.positionDropdown(),l.updatePlaceholder(),l.trigger("item_add",t,r),l.updateOriginalInput({silent:n})))):"single"===c&&l.close()}))},removeItem:function(e,t){var n,r,i,a=this;n="object"==typeof e?e:a.getItem(e),e=d(n.attr("data-value")),-1!==(r=a.items.indexOf(e))&&(n.remove(),n.hasClass("active")&&(i=a.$activeItems.indexOf(n[0]),a.$activeItems.splice(i,1)),a.items.splice(r,1),a.lastQuery=null,!a.settings.persist&&a.userOptions.hasOwnProperty(e)&&a.removeOption(e,t),r<a.caretPos&&a.setCaret(a.caretPos-1),a.refreshState(),a.updatePlaceholder(),a.updateOriginalInput({silent:t}),a.positionDropdown(),a.trigger("item_remove",e,n))},createItem:function(t,n){var r=this,i=r.caretPos;t=t||e.trim(r.$control_input.val()||"");var a=arguments[arguments.length-1];if("function"!=typeof a&&(a=function(){}),"boolean"!=typeof n&&(n=!0),!r.canCreate(t))return a(),!1;r.lock();var s="function"==typeof r.settings.create?this.settings.create:function(e){var t={};return t[r.settings.labelField]=e,t[r.settings.valueField]=e,t},o=m((function(e){if(r.unlock(),!e||"object"!=typeof e)return a();var t=d(e[r.settings.valueField]);if("string"!=typeof t)return a();r.setTextboxValue(""),r.addOption(e),r.setCaret(i),r.addItem(t),r.refreshOptions(n&&"single"!==r.settings.mode),a(e)})),l=s.apply(this,[t,o]);return void 0!==l&&o(l),!0},refreshItems:function(){this.lastQuery=null,this.isSetup&&this.addItem(this.items),this.refreshState(),this.updateOriginalInput()},refreshState:function(){var e=this;e.isRequired&&(e.items.length&&(e.isInvalid=!1),e.$control_input.prop("required",undefined)),e.refreshClasses()},refreshClasses:function(){var t=this,n=t.isFull(),r=t.isLocked;t.$wrapper.toggleClass("rtl",t.rtl),t.$control.toggleClass("focus",t.isFocused).toggleClass("disabled",t.isDisabled).toggleClass("required",t.isRequired).toggleClass("invalid",t.isInvalid).toggleClass("locked",r).toggleClass("full",n).toggleClass("not-full",!n).toggleClass("input-active",t.isFocused&&!t.isInputHidden).toggleClass("dropdown-active",t.isOpen).toggleClass("has-options",!e.isEmptyObject(t.options)).toggleClass("has-items",t.items.length>0),t.$control_input.data("grow",!n&&!r)},isFull:function(){return null!==this.settings.maxItems&&this.items.length>=this.settings.maxItems},updateOriginalInput:function(e){var t,n,r,i,a=this;if(e=e||{},1===a.tagType){for(r=[],t=0,n=a.items.length;t<n;t++)i=a.options[a.items[t]][a.settings.labelField]||"",r.push('<option value="'+u(a.items[t])+'" selected="selected">'+u(i)+"</option>");r.length||this.$input.attr("multiple")||r.push('<option value="" selected="selected"></option>'),a.$input.html(r.join(""))}else a.$input.val(a.getValue()),a.$input.attr("value",a.$input.val());a.isSetup&&(e.silent||a.trigger("change",a.$input.val()))},updatePlaceholder:function(){if(this.settings.placeholder){var e=this.$control_input;this.items.length?e.removeAttr("placeholder"):e.attr("placeholder",this.settings.placeholder),e.triggerHandler("update",{force:!0})}},open:function(){var e=this;e.isLocked||e.isOpen||e.settings.hideDropdown||"multi"===e.settings.mode&&e.isFull()||(e.focus(),e.isOpen=!0,e.refreshState(),e.$dropdown.css({visibility:"hidden",display:"block"}),e.positionDropdown(),e.$dropdown.css({visibility:"visible"}),e.trigger("dropdown_open",e.$dropdown))},close:function(){var e=this,t=e.isOpen;"single"===e.settings.mode&&e.items.length&&e.hideInput(),e.isOpen=!1,e.$dropdown.hide(),e.setActiveOption(null),e.refreshState(),t&&e.trigger("dropdown_close",e.$dropdown)},positionDropdown:function(){var e=this.$control,t="body"===this.settings.dropdownParent?e.offset():e.position();t.top+=e.outerHeight(!0),this.$dropdown.css({width:e.outerWidth(),top:t.top,left:t.left})},clear:function(e){var t=this;t.items.length&&(t.$control.children(":not(input)").remove(),t.items=[],t.lastQuery=null,t.setCaret(0),t.setActiveItem(null),t.updatePlaceholder(),t.updateOriginalInput({silent:e}),t.refreshState(),t.showInput(),t.trigger("clear"))},insertAtCaret:function(t){var n=Math.min(this.caretPos,this.items.length);0===n?this.$control.prepend(t):e(this.$control[0].childNodes[n]).before(t),this.setCaret(n+1)},deleteSelection:function(t,n){var r,i,a,s,o,l,c,d,u,p=this;if(a=n||void 0===n&&t&&8===t.keyCode?-1:1,s=g(p.$control_input[0]),p.$activeOption&&!p.settings.hideSelected&&(c=p.getAdjacentOption(p.$activeOption,-1).attr("data-value")),o=[],p.$activeItems.length){for(u=p.$control.children(".active:"+(a>0?"last":"first")),l=p.$control.children(":not(input)").index(u),a>0&&l++,r=0,i=p.$activeItems.length;r<i;r++)o.push(e(p.$activeItems[r]).attr("data-value"));t&&(t.preventDefault(),t.stopPropagation())}else(p.isFocused||"single"===p.settings.mode)&&p.items.length&&(a<0&&0===s.start&&0===s.length?o.push(p.items[p.caretPos-1]):a>0&&s.start===p.$control_input.val().length&&o.push(p.items[p.caretPos]));if(!o.length||"function"==typeof p.settings.onDelete&&!1===p.settings.onDelete.apply(p,[o]))return!1;for(void 0!==l&&p.setCaret(l);o.length;)p.removeItem(o.pop());return p.showInput(),p.positionDropdown(),p.refreshOptions(!0),c&&(d=p.getOption(c)).length&&p.setActiveOption(d),!0},advanceSelection:function(e,t){var n,r,i,a,s,o=this;0!==e&&(o.rtl&&(e*=-1),n=e>0?"last":"first",r=g(o.$control_input[0]),o.isFocused&&!o.isInputHidden?(a=o.$control_input.val().length,(e<0?0===r.start&&0===r.length:r.start===a)&&!a&&o.advanceCaret(e,t)):(s=o.$control.children(".active:"+n)).length&&(i=o.$control.children(":not(input)").index(s),o.setActiveItem(null),o.setCaret(e>0?i+1:i)))},advanceCaret:function(e,t){var n,r,i=this;0!==e&&(n=e>0?"next":"prev",i.isShiftDown?(r=i.$control_input[n]()).length&&(i.hideInput(),i.setActiveItem(r),t&&t.preventDefault()):i.setCaret(i.caretPos+e))},setCaret:function(t){var n,r,i,a,s=this;if(t="single"===s.settings.mode?s.items.length:Math.max(0,Math.min(s.items.length,t)),!s.isPending)for(n=0,r=(i=s.$control.children(":not(input)")).length;n<r;n++)a=e(i[n]).detach(),n<t?s.$control_input.before(a):s.$control.append(a);s.caretPos=t},lock:function(){this.close(),this.isLocked=!0,this.refreshState()},unlock:function(){this.isLocked=!1,this.refreshState()},disable:function(){var e=this;e.$input.prop("disabled",!0),e.$control_input.prop("disabled",!0).prop("tabindex",-1),e.isDisabled=!0,e.lock()},enable:function(){var e=this;e.$input.prop("disabled",!1),e.$control_input.prop("disabled",!1).prop("tabindex",e.tabIndex),e.isDisabled=!1,e.unlock()},destroy:function(){var t=this,n=t.eventNS,r=t.revertSettings;t.trigger("destroy"),t.off(),t.$wrapper.remove(),t.$dropdown.remove(),t.$input.html("").append(r.$children).removeAttr("tabindex").removeClass("selectized").attr({tabindex:r.tabindex}).show(),t.$control_input.removeData("grow"),t.$input.removeData("selectize"),e(window).off(n),e(document).off(n),e(document.body).off(n),delete t.$input[0].selectize},render:function(e,t){var n,r,i="",a=!1,s=this,o=/^[\t \r\n]*<([a-z][a-z0-9\-_]*(?:\:[a-z][a-z0-9\-_]*)?)/i;return"option"!==e&&"item"!==e||(a=!!(n=d(t[s.settings.valueField]))),a&&(c(s.renderCache[e])||(s.renderCache[e]={}),s.renderCache[e].hasOwnProperty(n))?s.renderCache[e][n]:(i=s.settings.render[e].apply(this,[t,u]),"option"!==e&&"option_create"!==e||(i=i.replace(o,"<$1 data-selectable")),"optgroup"===e&&(r=t[s.settings.optgroupValueField]||"",i=i.replace(o,'<$1 data-group="'+p(u(r))+'"')),"option"!==e&&"item"!==e||(i=i.replace(o,'<$1 data-value="'+p(u(n||""))+'"')),a&&(s.renderCache[e][n]=i),i)},clearCache:function(e){void 0===e?this.renderCache={}:delete this.renderCache[e]},canCreate:function(e){var t=this;if(!t.settings.create)return!1;var n=t.settings.createFilter;return(e.length||t.settings.allowCreateEmpty)&&("function"!=typeof n||n.apply(t,[e]))&&("string"!=typeof n||new RegExp(n).test(e))&&(!(n instanceof RegExp)||n.test(e))}}),v.count=0,v.defaults={options:[],optgroups:[],plugins:[],delimiter:",",splitOn:null,persist:!0,diacritics:!0,create:!1,createOnBlur:!1,selectOnBlur:!1,createFilter:null,highlight:!0,openOnFocus:!0,maxOptions:1e3,maxItems:null,hideSelected:null,addPrecedence:!1,selectOnTab:!1,preload:!1,allowEmptyOption:!1,allowCreateEmpty:!1,closeAfterSelect:!1,scrollDuration:60,loadThrottle:300,loadingClass:"loading",manualInputWidth:!1,dataAttr:"data-data",optgroupField:"optgroup",valueField:"value",labelField:"text",optgroupLabelField:"label",optgroupValueField:"value",lockOptgroupOrder:!1,sortField:"$order",searchField:["text"],searchConjunction:"and",mode:null,wrapperClass:"selectize-control",inputClass:"selectize-input",dropdownClass:"selectize-dropdown",dropdownContentClass:"selectize-dropdown-content",dropdownParent:null,copyClassesToDropdown:!0,render:{}},e.fn.selectize=function(t){var n=e.fn.selectize.defaults,r=e.extend({},n,t),i=r.dataAttr,a=r.labelField,s=r.valueField,o=r.optgroupField,l=r.optgroupLabelField,c=r.optgroupValueField;return this.each((function(){if(!this.selectize){var u=e(this),p=this.tagName.toLowerCase(),m=u.attr("placeholder")||u.attr("data-placeholder");m||r.allowEmptyOption||(m=u.children('option[value=""]').text());var h={placeholder:m,options:[],optgroups:[],items:[]};"select"===p?function(t,n){var u,p,m,h,g=n.options,y={},v=function(e){var t=i&&e.attr(i);return"string"==typeof t&&t.length?JSON.parse(t):null},f=function(t,i){t=e(t);var l=d(t.attr("value"));if(l||r.allowEmptyOption)if(y.hasOwnProperty(l)){if(i){var c=y[l][o];c?e.isArray(c)?c.push(i):y[l][o]=[c,i]:y[l][o]=i}}else{var u=v(t)||{};u[a]=u[a]||t.text(),u[s]=u[s]||l,u[o]=u[o]||i,y[l]=u,g.push(u),t.is(":selected")&&n.items.push(l)}},b=function(t){var r,i,a,s,o;for((a=(t=e(t)).attr("label"))&&((s=v(t)||{})[l]=a,s[c]=a,n.optgroups.push(s)),r=0,i=(o=e("option",t)).length;r<i;r++)f(o[r],a)};for(n.maxItems=t.attr("multiple")?null:1,u=0,p=(h=t.children()).length;u<p;u++)"optgroup"===(m=h[u].tagName.toLowerCase())?b(h[u]):"option"===m&&f(h[u])}(u,h):function(t,n){var o,l,c,d,u=t.attr(i);if(u)for(n.options=JSON.parse(u),o=0,l=n.options.length;o<l;o++)n.items.push(n.options[o][s]);else{var p=e.trim(t.val()||"");if(!r.allowEmptyOption&&!p.length)return;for(o=0,l=(c=p.split(r.delimiter)).length;o<l;o++)(d={})[a]=c[o],d[s]=c[o],n.options.push(d);n.items=c}}(u,h),new v(u,e.extend(!0,{},n,h,t))}}))},e.fn.selectize.defaults=v.defaults,e.fn.selectize.support={validity:l},v.define("remove_button",(function(t){if("single"!==this.settings.mode){t=e.extend({label:"&times;",title:"Remove",className:"remove",append:!0},t);var n,r=this,i='<a href="javascript:void(0)" class="'+t.className+'" tabindex="-1" title="'+u(t.title)+'">'+t.label+"</a>",a=function(e,t){var n=e.search(/(<\/[^>]+>\s*)$/);return e.substring(0,n)+t+e.substring(n)};this.setup=(n=r.setup,function(){if(t.append){var s=r.settings.render.item;r.settings.render.item=function(e){return a(s.apply(this,arguments),i)}}n.apply(this,arguments),this.$control.on("click","."+t.className,(function(t){if(t.preventDefault(),!r.isLocked){var n=e(t.currentTarget).parent();r.setActiveItem(n),r.deleteSelection()&&r.setCaret(r.items.length)}}))})}})),v.define("restore_on_backspace",(function(e){var t;e.text=e.text||function(e){return e[this.settings.labelField]},this.onKeyDown=(t=this.onKeyDown,function(n){var r,i;return 8===n.keyCode&&""===this.$control_input.val()&&!this.$activeItems.length&&(r=this.caretPos-1)>=0&&r<this.items.length?(i=this.options[this.items[r]],this.deleteSelection(n,!0)&&(this.setTextboxValue(e.text.apply(this,[i])),this.refreshOptions(!0)),void n.preventDefault()):t.apply(this,arguments)})})),v.define("restore_on_focus",(function(e){e.text=e.text||function(e){return e[this.settings.labelField]};var t=this.onFocus;this.onFocus=function(n){var r=this.caretPos-1;if(r>=0&&r<this.items.length){var i=this.options[this.items[r]],a=e.text.call(this,i);this.removeItem(i[this.settings.valueField]),this.setTextboxValue(a),this.refreshOptions(!0)}return t.apply(this,arguments)}})),v})?c.apply(t,d):c)||(e.exports=u)},83299:e=>{"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTYwIiBoZWlnaHQ9IjU2MCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICA8ZyBmaWxsLXJ1bGU9Im5vbnplcm8iIGZpbGw9Im5vbmUiPgogICAgPHBhdGggZD0iTTI4MCAwYzE1NC41MzYgMCAyODAgMTI1LjQ2NCAyODAgMjgwUzQzNC41MzYgNTYwIDI4MCA1NjAgMCA0MzQuNTM2IDAgMjgwIDEyNS40NjQgMCAyODAgMCIgZmlsbD0iI0U1QTAwRCIvPgogICAgPHBhdGggZD0iTTI4MCA0NzVjLTI0LjgzNyAwLTQ1LTIwLjE2My00NS00NXMyMC4xNjMtNDUgNDUtNDUgNDUgMjAuMTYzIDQ1IDQ1LTIwLjE2MyA0NS00NSA0NXpNMjUwIDkwaDYwYzExLjAzOCAwIDIwIDguOTYyIDIwIDIwbC0xMCAyMDVjMCAxMS4wMzgtOC45NjIgMjAtMjAgMjBoLTQwYy0xMS4wMzggMC0yMC04Ljk2Mi0yMC0yMGwtMTAtMjA1YzAtMTEuMDM4IDguOTYyLTIwIDIwLTIweiIgZmlsbD0iIzAwMCIvPgogIDwvZz4KPC9zdmc+Cg=="},17401:e=>{"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTEwIiBoZWlnaHQ9IjExMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICAgIDxnIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0ibm9uemVybyI+CiAgICAgICAgPHBhdGggZmlsbD0iIzE5MUExQyIgZD0iTTAgMGgxMTB2MTEwSDB6Ii8+CiAgICAgICAgPHBhdGggZD0iTTUwLjEzOCA4NS42MXYtNi4xNDZjMC0yLjE4NS0xLjMzOC00LjEzMy0zLjM2Ni00Ljk5NC03LjU5NS0zLjIyNC0xMi45MS0xMC43NjUtMTIuOTEtMTkuNDcgMC0xMS42MDMgOS40NDMtMjEuMTM5IDIxLjEzOC0yMS4xMzkgMTEuNjk1IDAgMjEuMTM5IDkuNTM2IDIxLjEzOSAyMS4xMzkgMCAxMy42OS0xMC41OSAyNi42MzQtMjYgMzAuNjF6TTU1IDI0Yy0xNy4xNTEgMC0zMSAxMy45ODUtMzEgMzFzMTMuODQ5IDMxIDMxIDMxIDMxLTEzLjk4NSAzMS0zMS0xMy44NDktMzEtMzEtMzF6IiBmaWxsPSIjMzFDNEYzIi8+CiAgICA8L2c+Cjwvc3ZnPgo="},27479:e=>{"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTEwIiBoZWlnaHQ9IjExMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICAgIDxnIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0ibm9uemVybyI+CiAgICAgICAgPHBhdGggZmlsbD0iIzE5MUExQyIgZD0iTTAgMGgxMTB2MTEwSDB6Ii8+CiAgICAgICAgPHBhdGggZD0iTTQzLjg5MSAyMy40NzlsMy4wMDUgNS4xODNjLTUuNDY5IDIuNjYxLTkuMTc1IDcuODczLTkuMTc1IDEzLjg1MmgzNC45OTRjMC01Ljk3OS0zLjcwNy0xMS4xOS05LjE3Ny0xMy44NTJsMy4wMDUtNS4xODNzLjE0My0uMjc1LS4xMjctLjQzYy0uMjctLjE1NS0uNDUxLjEwOS0uNDUxLjEwOWwtMy4wNSA1LjIyOWExOS4wMyAxOS4wMyAwIDAgMC03LjY5OC0xLjYwNmMtMi43NjMgMC01LjM3Ni41OC03LjY5NyAxLjYwNmwtMy4wNS01LjIyOXMtLjE3MS0uMjY0LS40NDItLjExYy0uMjcyLjE1NC0uMTM3LjQzLS4xMzcuNDNtMy4wMDUgMTAuMDRhMS42NiAxLjY2IDAgMCAxIDEuNjY0IDEuNjVjMCAuOTEtLjc0NyAxLjYyOC0xLjY2NCAxLjYyOC0uOTE2IDAtMS42NjQtLjcxOS0xLjY2NC0xLjYyNyAwLS45MS43NDgtMS42NTIgMS42NjQtMS42NTJtMTYuNjQyIDBhMS42NiAxLjY2IDAgMCAxIDEuNjY0IDEuNjUyYzAgLjkxLS43NDcgMS42MjctMS42NjQgMS42MjctLjkxNiAwLTEuNjY0LS43MTktMS42NjQtMS42MjcgMC0uOTEuNzQ4LTEuNjUyIDEuNjY0LTEuNjUybS0yNS45NiAxMS4wMTd2MjYuMzRjMCAxLjMwNyAxLjU5MyAzLjAxOCAyLjkxIDMuMDE4aDQuMTYzdjguOThjMCAyLjI4NiAxLjY3OSA0LjEyOCAzLjc2OCA0LjEyOCAyLjA4OSAwIDMuNzY4LTEuODQyIDMuNzY4LTQuMTI4di04Ljk4aDYuMDU2djguOThjMCAyLjI4NiAxLjY4IDQuMTI4IDMuNzY4IDQuMTI4czMuNzktMS44NDIgMy43OS00LjEyOHYtOC45OGg0LjE0YzEuMzE4IDAgMi45MS0xLjcxMSAyLjkxLTMuMDE4di0yNi4zNEgzNy41NzdtLTUuODA1LS41NTJjMi4wODMgMCAzLjc3IDEuODQ5IDMuNzcgNC4xMjh2MTUuNjI4YzAgMi4yNzktMS42ODggNC4xMjgtMy43NyA0LjEyOC0yLjA4MyAwLTMuNzcyLTEuODQ4LTMuNzcyLTQuMTI4VjQ4LjExYzAtMi4yNzkgMS42ODktNC4xMjggMy43NzItNC4xMjhtNDYuODg2IDBjMi4wODMgMCAzLjc3MiAxLjg0OSAzLjc3MiA0LjEyOHYxNS42MjhjMCAyLjI3OS0xLjY4OCA0LjEyOC0zLjc3MiA0LjEyOC0yLjA4MiAwLTMuNzctMS44NDgtMy43Ny00LjEyOFY0OC4xMWMwLTIuMjc5IDEuNjg3LTQuMTI4IDMuNzctNC4xMjgiIGZpbGw9IiNBNEM2MzkiLz4KICAgIDwvZz4KPC9zdmc+Cg=="},34773:e=>{"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTEwIiBoZWlnaHQ9IjExMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICAgIDxnIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0ibm9uemVybyI+CiAgICAgICAgPHBhdGggZmlsbD0iIzE5MUExQyIgZD0iTTAgMGgxMTB2MTEwSDB6Ii8+CiAgICAgICAgPHBhdGggZD0iTTU2LjU1IDM5LjE0NWg1LjExNHY1Ljc3Nmg0LjkyNHY0LjA0OGgtNC45MjR2MTQuMzY5YzAgMi4yMjUuOTk0IDMuMjY2IDMuMTQ4IDMuMjY2LjU0NSAwIDEuNDItLjA3IDEuNzUyLS4xMTh2NC4wNDhjLS41NjguMTQyLTEuNzc1LjI2LTIuODg4LjI2LTUuMTM3IDAtNy4xMjUtMS45NjQtNy4xMjUtNi45MzV2LTE0Ljg5SDUzVjQ0LjkyaDMuNTV2LTUuNzc2em0zNi4yMDMgNS43NzZsLTkuMjU1IDI1LjcwOGgtNS40NjlMNjguNzUgNDQuOTJoNS40Mmw2LjU1OCAyMC42NDJoLjExOGw2LjU4MS0yMC42NDJoNS4zMjZ6bS01MC40NzEgOS41NGMtLjA0LTQuMzk4IDMuNTM4LTYuNTExIDMuNjk5LTYuNjEzLTIuMDEyLTIuOTg3LTUuMTQ0LTMuMzk3LTYuMjYxLTMuNDQ2LTIuNjY3LS4yNzQtNS4yMDMgMS41OTQtNi41NTQgMS41OTRzLTMuNDQtMS41NTMtNS42NS0xLjUxYy0yLjkwNy4wNDItNS41ODUgMS43MTQtNy4wODQgNC4zNTQtMy4wMTcgNS4zMTgtLjc3MSAxMy4xOTUgMi4xNzEgMTcuNTEgMS40MzkgMi4xMDggMy4xNTMgNC40ODIgNS40MDQgNC4zOTcgMi4xNy0uMDg2IDIuOTg4LTEuNDIzIDUuNjA4LTEuNDIzIDIuNjIgMCAzLjM1OCAxLjQyMyA1LjY1MiAxLjM3OCAyLjMzNC0uMDQyIDMuODExLTIuMTUgNS4yMzktNC4yNjcgMS42NS0yLjQ1IDIuMzMtNC44MiAyLjM3MS00Ljk0Mi0uMDUtLjAyNC00LjU1LTEuNzczLTQuNTk1LTcuMDMxbS00LjMwOC0xMi45MTNjMS4xOTYtMS40NyAyLjAwMS0zLjUxMyAxLjc4LTUuNTQ5LTEuNzIuMDcyLTMuODA2IDEuMTY1LTUuMDQzIDIuNjMzLTEuMTA3IDEuMzAxLTIuMDc4IDMuMzc5LTEuODE1IDUuMzc1IDEuOTIuMTUxIDMuODgyLS45OSA1LjA3OC0yLjQ2IiBmaWxsPSIjRkZGIi8+CiAgICA8L2c+Cjwvc3ZnPgo="},36452:e=>{"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTEwIiBoZWlnaHQ9IjExMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICAgIDxkZWZzPgogICAgICAgIDxyYWRpYWxHcmFkaWVudCBjeD0iMTQuOTM1JSIgY3k9IjEzLjY0NCUiIGZ4PSIxNC45MzUlIiBmeT0iMTMuNjQ0JSIgcj0iMTAwLjQyNiUiIGlkPSJhIj4KICAgICAgICAgICAgPHN0b3Agc3RvcC1jb2xvcj0iI0ZGRiIgc3RvcC1vcGFjaXR5PSIuMDk4IiBvZmZzZXQ9IjAlIi8+CiAgICAgICAgICAgIDxzdG9wIHN0b3AtY29sb3I9IiNGRkYiIHN0b3Atb3BhY2l0eT0iMCIgb2Zmc2V0PSIxMDAlIi8+CiAgICAgICAgPC9yYWRpYWxHcmFkaWVudD4KICAgIDwvZGVmcz4KICAgIDxnIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCI+CiAgICAgICAgPHBhdGggZmlsbD0iIzE5MUExQyIgZD0iTTAgMGgxMTB2MTEwSDB6Ii8+CiAgICAgICAgPGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMjQgMjQpIj4KICAgICAgICAgICAgPHBhdGggZD0iTTQuOTIxIDE0LjI0M0MxMC40NCA1LjY3NyAyMC4wNjIgMCAzMSAwYzEyLjAzNyAwIDIyLjQ4IDYuODc1IDI3LjYxNSAxNi45MUgzMUwxOC43OTcgMzguMDQ0SDQuOTIxVjE0LjI0M3oiIGZpbGw9IiNEQjQ0MzciIGZpbGwtcnVsZT0ibm9uemVybyIvPgogICAgICAgICAgICA8cGF0aCBkPSJNNC45MiAxNC4yNDVsMTMuODc3IDIzLjhoMjQuNDF2MTAuMjU5TDI5LjU0MyA2MS45NjZDMTMuMTA5IDYxLjIwNSAwIDQ3LjYyMSAwIDMxYzAtNi4xNyAxLjgwNy0xMS45MjMgNC45Mi0xNi43NTV6IiBmaWxsPSIjMEY5RDU4IiBmaWxsLXJ1bGU9Im5vbnplcm8iLz4KICAgICAgICAgICAgPHBhdGggZD0iTTU4LjYxNSAxNi45MUEzMC44NDMgMzAuODQzIDAgMCAxIDYyIDMxYzAgMTcuMTEtMTMuODkgMzEtMzEgMzEtLjQ5MyAwLS45ODMtLjAxMi0xLjQ3LS4wMzVsMTMuNjc2LTIzLjkyTDMxIDE2LjkxaDI3LjYxNXoiIGZpbGw9IiNGRkNENDAiIGZpbGwtcnVsZT0ibm9uemVybyIvPgogICAgICAgICAgICA8cGF0aCBkPSJNMzEgMTYuOTFoMjcuNjE4TDMxIDI0LjI5di03LjM4ek00LjkyMSAxNC4yNUwyNS4wOSAzNC40MTNsLTYuMjkyIDMuNjMxTDQuOTIxIDE0LjI1em0yNC42MSA0Ny43MTFsNy4zODQtMjcuNTQ3IDYuMjkxIDMuNjMxLTEzLjY3NSAyMy45MTZ6IiBmaWxsLW9wYWNpdHk9Ii4xIiBmaWxsPSIjMDAwIi8+CiAgICAgICAgICAgIDxjaXJjbGUgZmlsbD0iI0YxRjFGMSIgY3g9IjMxIiBjeT0iMzEiIHI9IjE0LjA5MSIvPgogICAgICAgICAgICA8Y2lyY2xlIGZpbGw9IiM0Mjg1RjQiIGN4PSIzMSIgY3k9IjMxIiByPSIxMS4yNzMiLz4KICAgICAgICAgICAgPGNpcmNsZSBmaWxsPSJ1cmwoI2EpIiBjeD0iMzEiIGN5PSIzMSIgcj0iMzEiLz4KICAgICAgICA8L2c+CiAgICA8L2c+Cjwvc3ZnPgo="},62393:e=>{"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTEwIiBoZWlnaHQ9IjExMCIgdmlld0JveD0iMCAwIDExMCAxMTAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxwYXRoIGQ9Ik0xMTAgMEgwVjExMEgxMTBWMFoiIGZpbGw9IiMxOTFBMUMiLz4KPHBhdGggb3BhY2l0eT0iMC44NSIgZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik00MC4yMjk5IDg0TDY0LjgzNTcgNDEuMzgyMUw3Mi43NDM1IDU1LjA3NjVMNTYuMDQzNCA4NEg0MC4yMjk5Wk01NS45NzE4IDI2TDYwLjgxNjMgMzQuMjYzNkw1Mi44NjQ4IDQ4LjAzNTVMNDAuMDU5IDI2SDU1Ljk3MThaIiBmaWxsPSJ1cmwoI3BhaW50MF9yYWRpYWwpIi8+CjxwYXRoIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xpcC1ydWxlPSJldmVub2RkIiBkPSJNNjQuNzk2NSAzMS4wMzE4TDc2LjcyMzcgNTEuNjg5N0g5MC43MTQzVjU1LjAwMzVINzQuODExNEw2NC43OTY1IDM3LjY1OTNMNDIuOTI5OSA3NS41MzIyTDMyLjk5MDYgNTguMzE3M0gxOVY1NS4wMDM1SDM0LjkwMjlMNDIuOTI5OSA2OC45MDY2QzUwLjIxOTUgNTYuMjgxNyA1Ny41MDcgNDMuNjU2NyA2NC43OTY1IDMxLjAzMThaIiBmaWxsPSJ1cmwoI3BhaW50MV9saW5lYXIpIi8+CjxkZWZzPgo8cmFkaWFsR3JhZGllbnQgaWQ9InBhaW50MF9yYWRpYWwiIGN4PSIwIiBjeT0iMCIgcj0iMSIgZ3JhZGllbnRVbml0cz0idXNlclNwYWNlT25Vc2UiIGdyYWRpZW50VHJhbnNmb3JtPSJ0cmFuc2xhdGUoNzIuODAzNyA1NC4wMjg0KSBzY2FsZSgyOC45NDQ4IDQ3LjA3NzUpIj4KPHN0b3Agc3RvcC1jb2xvcj0iIzczN0U4NyIvPgo8c3RvcCBvZmZzZXQ9IjEiIHN0b3AtY29sb3I9IiM1MTU5NUUiIHN0b3Atb3BhY2l0eT0iMC43NSIvPgo8L3JhZGlhbEdyYWRpZW50Pgo8bGluZWFyR3JhZGllbnQgaWQ9InBhaW50MV9saW5lYXIiIHgxPSIxOC4xMTkxIiB5MT0iNTMuMjgyMiIgeDI9IjkxLjU5NTMiIHkyPSI1My4yODIyIiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSI+CjxzdG9wIHN0b3AtY29sb3I9IiNDQzdCMTkiLz4KPHN0b3Agb2Zmc2V0PSIxIiBzdG9wLWNvbG9yPSIjRjRDRTFFIi8+CjwvbGluZWFyR3JhZGllbnQ+CjwvZGVmcz4KPC9zdmc+Cg=="},78002:e=>{"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTEwIiBoZWlnaHQ9IjExMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICAgIDxnIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0ibm9uemVybyI+CiAgICAgICAgPHBhdGggZmlsbD0iIzE5MUExQyIgZD0iTTAgMGgxMTB2MTEwSDB6Ii8+CiAgICAgICAgPHBhdGggZmlsbC1vcGFjaXR5PSIuMyIgZmlsbD0iI0ZGRiIgZD0iTTM4IDI1aDE3LjQzNGwxOS4yMzggMzAtMTkuMjM4IDMwSDM4bDE5LjIzOC0zMEwzOCAyNSIvPgogICAgPC9nPgo8L3N2Zz4K"},38807:e=>{"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTEwIiBoZWlnaHQ9IjExMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICAgIDxnIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0ibm9uemVybyI+CiAgICAgICAgPHBhdGggZmlsbD0iIzE5MUExQyIgZD0iTTAgMGgxMTB2MTEwSDB6Ii8+CiAgICAgICAgPHBhdGggZD0iTTU1LjE4NCAyNy4yNTNjMTUuNTQ4IDAgMjguNTIgOS41MTIgMzEuNTI5IDIyLjE2LjI4IDEuMTc0LjQ3IDIuMzYyLS4wNzIgMy4xNTctLjc2NSAxLjEyNC0yLjUxNi45MTItMy43MjQuOTEyaC0yMi45OWMtMi4zMjIgMC00LjAwNy4wMy02LjE5OC0xLjA2LTEuNjkxLS44NDEtMi4yNzktMS41NDctMy40My0yLjg3NmE4LjQ2MSA4LjQ2MSAwIDAgMC02LjQxMS0yLjk0Yy00LjcwNCAwLTguNTIgMy44NTMtOC41MiA4LjYwNnMzLjgxNSA4LjYwNiA4LjUyIDguNjA2YTguNDI1IDguNDI1IDAgMCAwIDUuMzYxLTEuOTJjLjc2NS0uNjI1IDEuNzY1LTEuNzk0IDIuNDcyLTIuNTM5IDEuNzMtMS44MjEgNC40NDMtMi40MDMgNy41MzEtMi4yODRoMjQuNTZjMi42MDYtLjA2NCAzLjU1Ni40NTMgMy4wNjIgMi44NTItMi42OCAxMy4wMDMtMTUuODQ4IDIyLjg3Ni0zMS42ODcgMjIuODc2LTkuNTc3IDAtMTguMTc4LTMuNjEtMjQuMDczLTkuMzQyLS43MTEtLjY5MS0xLTEuNTc3LjAwNi0yLjE0Mi4zNzMtLjIwOS45MjUtLjMyNiAxLjY5LS4zMjhoMTYuNTA4YzEuNzY4LjEgMy4zNDMuNTYyIDQuNzQ3IDEuMzg3IDEuNjM5Ljk2NCAxLjkzNCAxLjYzIDMuMSAyLjg1MmE4LjQ1MiA4LjQ1MiAwIDAgMCA2LjEzNiAyLjYzNWM0LjcwMyAwIDguNTE5LTMuODUyIDguNTE5LTguNjA1IDAtNC43NTQtMy44MTUtOC42MDYtOC41Mi04LjYwNmE4LjQyNSA4LjQyNSAwIDAgMC01LjM2IDEuOTE5Yy0uNzY1LjYyNi0xLjc2NiAxLjc5NC0yLjQ3MiAyLjU0LTIuNjQyIDIuNzgtNy4wMTggMi4yODQtMTAuNTE1IDIuMjg0SDMyLjQ4NGMtMS45MzggMC00LjA5LjIwMS01Ljc3LS45MTMtMS4wNTgtLjcwMy0xLjc5LTEuODMtMi4zNTYtMy40NTdhMjQuMjQ3IDI0LjI0NyAwIDAgMS0uMzg0LTE0LjgwM2MuOTQzLTMuMTU0IDIuNDk4LTUuNjQ3IDcuMDkxLTUuNTIzaDE3LjA3NmMyLjQ5Mi0uMDk1IDQuNzQyLjI2NiA2LjQyNiAxLjM2OC45MjMuNjAzIDEuMjgyIDEuMTU5IDEuOTk1IDEuOTQyLjUyNS41NzcgMS4wOTYgMS4xNTIgMS41OCAxLjUxNCAxLjUxNiAxLjEzNSAzLjMzIDEuOTIgNS4zNjIgMS45MiA0LjcwNCAwIDguNTE4LTMuODUzIDguNTE4LTguNjA2IDAtNC43NTQtMy44MTMtOC42MDYtOC41MTgtOC42MDZhOC40NjQgOC40NjQgMCAwIDAtNi40ODggMy4wM2MtMS41MSAxLjc5Mi0zLjA3NyAyLjkyOS01LjExIDMuNDc4LTEuMzkuMzc1LTIuNTI0LjM2Ni0zLjkzLjM2NmgtMTQuOTZjLTIuOTUzLS4wMDgtMi44MzMtMS43MDctMS4wNzMtMy4yOSA1Ljg1OC01LjI4IDE0LjExLTguNTY3IDIzLjI0OS04LjU2NyIgZmlsbD0iIzQ1QUE0MiIvPgogICAgPC9nPgo8L3N2Zz4K"},74561:e=>{"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTEwIiBoZWlnaHQ9IjExMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICAgIDxnIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0ibm9uemVybyI+CiAgICAgICAgPHBhdGggZmlsbD0iIzE5MUExQyIgZD0iTTAgMGgxMTB2MTEwSDB6Ii8+CiAgICAgICAgPHBhdGggZD0iTTQ0LjQyNSA0OS4xNzNoMjEuMTFjMC03LjU0My0zLjI3LTEyLjY4NS0xMi4xODctMTIuNjg1QzQyLjgxIDM2LjQ4OCAzMi4wOTQgNDMuMzkyIDI3IDUyYzEuNTc4LTE0Ljk0MSAxMi4yMjMtMjcgMjguMjUtMjcgMTMuNzM2IDAgMjYuNzUxIDEwLjU3IDI2Ljc1MSAyOC4xNHY2LjY4SDQ0LjUzOGMwIDkuMDkgNy44ODEgMTIuNjk0IDE2LjEzIDEyLjY5NCAxMC4wNCAwIDE2LjI2NS00LjU0MyAxNi4yNjUtNC41NDN2MTIuNzM1cy03LjAyIDQuMjkzLTE4LjIxNSA0LjI5M2MtMTQuNTQ1IDAtMjQuODEzLTEwLjQ5MS0yNC44MTMtMjMuNTM2IDAtMTAuMjQgNi4xNTQtMTguNDE1IDE0LjY3OS0yMS43ODktNC4xNSA0LjU4Ni00LjE2NCA5LjUwMi00LjE2NCA5LjUwMiIgZmlsbD0iIzMyNzdCQyIvPgogICAgPC9nPgo8L3N2Zz4K"},64495:(e,t,n)=>{"use strict";e.exports=n.p+"static/e8c14a7b2f07aaa06fc6.svg"},11606:(e,t,n)=>{"use strict";e.exports=n.p+"static/b27f5dff79b3f1898b1c.svg"},8680:e=>{"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTEwIiBoZWlnaHQ9IjExMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICAgIDxnIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0ibm9uemVybyI+CiAgICAgICAgPHBhdGggZmlsbD0iIzE5MUExQyIgZD0iTTAgMGgxMTB2MTEwSDB6Ii8+CiAgICAgICAgPHBhdGggZD0iTTgzLjk5OSA1NS44N2MwLTQuOTAyLTEuMjY3LTkuNTA2LTMuNDktMTMuNTA3Qzg5Ljk4MiAyMC45MjYgNzAuMzYgMjQuMDY2IDY5LjI2OSAyNC4yOGE0OS44OTcgNDkuODk3IDAgMCAwLTExLjU1IDMuNzc0Yy0uNTIzLS4wMy0xLjA1LS4wNDUtMS41OC0uMDQ1LTEzLjIzOSAwLTI0LjMyIDkuMjM0LTI3LjE1NyAyMS42MTIgNi45NzgtNy44MjggMTEuODYxLTEwLjk4NiAxNC43ODYtMTIuMjUtLjQ2Ny40MTctLjkyNC44MzgtMS4zNzMgMS4yNjMtLjE1LjE0Mi0uMjk0LjI4NS0uNDQyLjQyNy0uMjk2LjI4NS0uNTkyLjU3LS44OC44NTgtLjE3My4xNzItLjM0LjM0NC0uNTEuNTE3LS4yNTUuMjYtLjUxMS41MjEtLjc2MS43ODQtLjE3OC4xODYtLjM1MS4zNzMtLjUyNi41NmE2OS4zNzYgNjkuMzc2IDAgMCAwLTIuMzggMi42NzUgODAuMzY1IDgwLjM2NSAwIDAgMC0xLjY1IDIuMDEyYy0uMTcyLjIxOC0uMzQ2LjQzNy0uNTE1LjY1NS0uMTYxLjIwNy0uMzE4LjQxNC0uNDc1LjYyMS0uMTc4LjIzNC0uMzU4LjQ2OC0uNTMxLjcwMS0uMTI0LjE2Ny0uMjQzLjMzMi0uMzY1LjQ5OGE4Ni40MjEgODYuNDIxIDAgMCAwLTMuNzE3IDUuNTA0bC0uMDM3LjA2Yy0uMjI3LjM2NS0uNDQ1LjcyNC0uNjU5IDEuMDhsLS4wMjIuMDM3YTg5LjQ5NCA4OS40OTQgMCAwIDAtMS41ODQgMi43NDZjLTIuNTA5IDQuNTQ3LTMuNzMgNy43MjQtMy43ODMgNy45MTMtNy45MjQgMjguMzI4IDE2LjgwNiAxNi4zNjUgMjAuMjU3IDE0LjU4YTI3Ljc0NyAyNy43NDcgMCAwIDAgMTIuMzI0IDIuODY4YzEyLjExNSAwIDIyLjQyMi03LjczMiAyNi4yNTgtMTguNTMxSDY3Ljc1N2MtMi4xNjYgMy42Ni02LjMzNiA2LjEzOC0xMS4xMjcgNi4xMzgtNy4wMiAwLTEyLjcxLTUuMzE4LTEyLjcxLTExLjg4aDM5Ljg1QTI4LjEzIDI4LjEzIDAgMCAwIDg0IDU1Ljg3aC0uMDAxem0tNS4yMDUtMjcuNDE3YzIuNCAxLjYyIDQuMzI0IDQuMTYyIDEuMDIgMTIuNzI2YTI3Ljk1NCAyNy45NTQgMCAwIDAtMTMuNjA3LTExLjI5M2MyLjU3OC0xLjI0NiA4Ljk2My0zLjg4IDEyLjU4Ny0xLjQzM3pNMjcuODA2IDgwLjgwNGMtMS45NTQtMi4wMDQtMi4zLTYuODg1IDIuMDEzLTE1Ljc4QTI3Ljk0MiAyNy45NDIgMCAwIDAgNDEuOTUgNzkuODUzYy0yLjc5MSAxLjUzNi0xMC4yMDIgNC45OTUtMTQuMTQ0Ljk1MnptMTYuMDUyLTI4Ljk2NmMuMjIzLTYuMzc2IDUuNzcyLTExLjQ4MiAxMi41OS0xMS40ODIgNi44MTkgMCAxMi4zNjggNS4xMDYgMTIuNTkgMTEuNDgyaC0yNS4xOHoiIGZpbGw9IiMxRUJCRUUiLz4KICAgIDwvZz4KPC9zdmc+Cg=="},74625:e=>{"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTEwIiBoZWlnaHQ9IjExMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICAgIDxnIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCI+CiAgICAgICAgPHBhdGggZmlsbD0iIzE5MUExQyIgZmlsbC1ydWxlPSJub256ZXJvIiBkPSJNMCAwaDExMHYxMTBIMHoiLz4KICAgICAgICA8cGF0aCBkPSJNMjIuMzkgNzEuMzM4VjQ3Ljc4NGg0LjcwN3YyMy41NTRIMjIuMzl6bTIuMzY1LTI2LjkxNmMtMS41MTkgMC0yLjc1NS0xLjIxNC0yLjc1NS0yLjcxQzIyIDQwLjE3MSAyMy4yMzYgMzkgMjQuNzU1IDM5YzEuNTE4IDAgMi43NTQgMS4xNzEgMi43NTQgMi43MTEgMCAxLjQ5Ny0xLjIzNiAyLjcxMS0yLjc1NCAyLjcxMXptMjEuMzQyLTQuOTAxYzkgMCAxNC42NjEgNi4yMjQgMTQuNjYxIDE2LjE4IDAgOS45NTUtNS42NiAxNi4xNTgtMTQuNjYxIDE2LjE1OC05LjAyMyAwLTE0LjY2Mi02LjIwMy0xNC42NjItMTYuMTU4IDAtOS45NTYgNS42MzktMTYuMTggMTQuNjYyLTE2LjE4em0wIDQuMjcyYy01Ljk0MyAwLTkuNjk1IDQuNTk4LTkuNjk1IDExLjkwOCAwIDcuMjg3IDMuNzUyIDExLjg4NSA5LjY5NSAxMS44ODUgNS45NDIgMCA5LjY3My00LjU5OCA5LjY3My0xMS44ODUgMC03LjMxLTMuNzMtMTEuOTA4LTkuNjczLTExLjkwOHpNNjMuOTkgNjIuNjJoNC43OTNjLjM0NyAzLjEwMiAzLjM2MiA1LjE0IDcuNDgzIDUuMTQgMy45NDggMCA2Ljc4OS0yLjAzOCA2Ljc4OS00LjgzNiAwLTIuNDMtMS43MTQtMy44ODItNS43Ny00Ljg4bC00LjA1NS0uOTc2Yy01Ljc0OC0xLjM4OC04LjQxNi00LjA3OC04LjQxNi04LjQzNyAwLTUuNCA0LjcwNy05LjExIDExLjM4Ny05LjExIDYuNjE1IDAgMTEuMTQ4IDMuNzEgMTEuMyA5LjExaC00LjcyOGMtLjI4Mi0zLjEyMy0yLjg2My01LjAxLTYuNjM3LTUuMDEtMy43NzQgMC02LjM1NSAxLjkwOC02LjM1NSA0LjY4NSAwIDIuMjEyIDEuNjQ5IDMuNTEzIDUuNjgzIDQuNTExbDMuNDQ4Ljg0NmM2LjQyIDEuNTE4IDkuMDg4IDQuMSA5LjA4OCA4LjY3NSAwIDUuODU3LTQuNjYzIDkuNTIyLTEyLjA4IDkuNTIyLTYuOTQxIDAtMTEuNjI2LTMuNTc5LTExLjkzLTkuMjR6IiBmaWxsPSIjRkZGIi8+CiAgICA8L2c+Cjwvc3ZnPgo="},52626:(e,t,n)=>{"use strict";e.exports=n.p+"static/88a90a622da7571f29bd.svg"},87060:e=>{"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTEwIiBoZWlnaHQ9IjExMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICAgIDxkZWZzPgogICAgICAgIDxsaW5lYXJHcmFkaWVudCB4MT0iNDkuOTk0JSIgeTE9IjEuNjMxJSIgeDI9IjQ5Ljk5NCUiIHkyPSI5OC41NDMlIiBpZD0iYSI+CiAgICAgICAgICAgIDxzdG9wIHN0b3AtY29sb3I9IiNGRjFCMkQiIG9mZnNldD0iMCUiLz4KICAgICAgICAgICAgPHN0b3Agc3RvcC1jb2xvcj0iI0ZGMUIyRCIgb2Zmc2V0PSIzMCUiLz4KICAgICAgICAgICAgPHN0b3Agc3RvcC1jb2xvcj0iI0ZGMUIyRCIgb2Zmc2V0PSI2MSUiLz4KICAgICAgICAgICAgPHN0b3Agc3RvcC1jb2xvcj0iI0E3MDAxNCIgb2Zmc2V0PSIxMDAlIi8+CiAgICAgICAgPC9saW5lYXJHcmFkaWVudD4KICAgICAgICA8bGluZWFyR3JhZGllbnQgeDE9IjUwLjAwNSUiIHkxPSIuODQ4JSIgeDI9IjUwLjAwNSUiIHkyPSI5OS42MDIlIiBpZD0iYiI+CiAgICAgICAgICAgIDxzdG9wIHN0b3AtY29sb3I9IiM5QzAwMDAiIG9mZnNldD0iMCUiLz4KICAgICAgICAgICAgPHN0b3Agc3RvcC1jb2xvcj0iI0ZGNEI0QiIgb2Zmc2V0PSI3MCUiLz4KICAgICAgICAgICAgPHN0b3Agc3RvcC1jb2xvcj0iI0ZGNEI0QiIgb2Zmc2V0PSIxMDAlIi8+CiAgICAgICAgPC9saW5lYXJHcmFkaWVudD4KICAgIDwvZGVmcz4KICAgIDxnIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0ibm9uemVybyI+CiAgICAgICAgPHBhdGggZmlsbD0iIzE5MUExQyIgZD0iTTAgMGgxMTB2MTEwSDB6Ii8+CiAgICAgICAgPHBhdGggZD0iTTMwLjg0IDBDMTMuODA2IDAgMCAxMy44MTIgMCAzMC44NDdjMCAxNi41NDMgMTMuMDI2IDMwLjA0MiAyOS4zOCAzMC44MWEzMC43MzQgMzAuNzM0IDAgMCAwIDIyLjAyNS03LjgxNGMtMy42MTYgMi4zOTktNy44NDUgMy43NzQtMTIuMzYzIDMuNzc0LTcuMzQ4IDAtMTMuOTIzLTMuNjQ2LTE4LjM0OS05LjM5Mi0zLjQxMy00LjAyLTUuNjIzLTkuOTc1LTUuNzctMTYuNjU0di0xLjQ1NWMuMTQ3LTYuNjczIDIuMzU3LTEyLjYyNyA1Ljc2NC0xNi42NTQgNC40MjYtNS43NDYgMTEuMDA3LTkuMzg2IDE4LjM1NS05LjM4NiA0LjUxOCAwIDguNzQ3IDEuMzgxIDEyLjM2MyAzLjc4MUEzMC43MzMgMzAuNzMzIDAgMCAwIDMwLjk1NyAwaC0uMTE3eiIgZmlsbD0idXJsKCNhKSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMjQgMjQpIi8+CiAgICAgICAgPHBhdGggZD0iTTIwLjY4NyAxMy40NjJjMi44MzYtMy4zNCA2LjQ4OS01LjM1MyAxMC40ODUtNS4zNTMgOC45OCAwIDE2LjI2MSAxMC4xODQgMTYuMjYxIDIyLjczOCAwIDEyLjU2LTcuMjggMjIuNzM3LTE2LjI2MSAyMi43MzctMy45OTYgMC03LjY0OS0yLjAxNC0xMC40NzktNS4zNTMgNC40MjYgNS43NDYgMTEgOS4zOTIgMTguMzQ5IDkuMzkyIDQuNTE4IDAgOC43NDctMS4zODEgMTIuMzYzLTMuNzc1IDYuMzEtNS42NTQgMTAuMjgyLTEzLjg2MSAxMC4yODItMjMuMDAxIDAtOS4xMzUtMy45NzItMTcuMzQ4LTEwLjI4OC0yMi45OTYtMy42MTYtMi40LTcuODQtMy43NzUtMTIuMzU3LTMuNzc1LTcuMzQ4IDAtMTMuOTIzIDMuNjQ2LTE4LjM0OSA5LjM5MiIgZmlsbD0idXJsKCNiKSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMjQgMjQpIi8+CiAgICA8L2c+Cjwvc3ZnPgo="},14576:e=>{"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTEwIiBoZWlnaHQ9IjExMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICAgIDxnIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0ibm9uemVybyI+CiAgICAgICAgPHBhdGggZmlsbD0iIzE5MUExQyIgZD0iTTAgMGgxMTB2MTEwSDB6Ii8+CiAgICAgICAgPHBhdGggZD0iTTcxLjc2IDU0Ljk5NGMtLjA3NC03Ljc0IDYuMzQ0LTExLjQ2IDYuNjM1LTExLjY0LTMuNjEtNS4yNTctOS4yMjQtNS45NzgtMTEuMjMyLTYuMDY0LTQuNzgzLS40ODItOS4zMzIgMi44MDQtMTEuNzU1IDIuODA0LTIuNDI0IDAtNi4xNjYtMi43MzEtMTAuMTMzLTIuNjU3LTUuMjE1LjA3NS0xMC4wMTggMy4wMTctMTIuNzA2IDcuNjY0LTUuNDEyIDkuMzYtMS4zODQgMjMuMjIyIDMuODkzIDMwLjgxIDIuNTggMy43MTEgNS42NTMgNy44ODkgOS42OTMgNy43MzcgMy44OS0uMTUxIDUuMzYtMi41MDMgMTAuMDU5LTIuNTAzIDQuNyAwIDYuMDIzIDIuNTAzIDEwLjEzNiAyLjQyNSA0LjE4Ni0uMDczIDYuODM2LTMuNzg0IDkuMzk3LTcuNTEgMi45NjItNC4zMSA0LjE4LTguNDgzIDQuMjUzLTguNjk3LS4wOTItLjA0Mi04LjE2NC0zLjEyLTguMjQ1LTEyLjM3M20tNy43MjgtMjIuNzI1YzIuMTQ2LTIuNTg3IDMuNTg5LTYuMTg3IDMuMTkzLTkuNzY1LTMuMDg4LjEyNS02LjgyNyAyLjA0OS05LjA0NSA0LjYzNC0xLjk4NyAyLjI5LTMuNzI2IDUuOTQ4LTMuMjU1IDkuNDYgMy40NDIuMjY1IDYuOTYyLTEuNzQ1IDkuMTA3LTQuMzMiIGZpbGw9IiNGRkYiLz4KICAgIDwvZz4KPC9zdmc+Cg=="},96897:e=>{"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTEwIiBoZWlnaHQ9IjExMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICAgIDxkZWZzPgogICAgICAgIDxyYWRpYWxHcmFkaWVudCBjeD0iODkuMjY3JSIgY3k9IjQ5LjcxMyUiIGZ4PSI4OS4yNjclIiBmeT0iNDkuNzEzJSIgcj0iOTIuNSUiIGdyYWRpZW50VHJhbnNmb3JtPSJtYXRyaXgoMSAwIDAgLjYxMTIgMCAuMTkzKSIgaWQ9ImEiPgogICAgICAgICAgICA8c3RvcCBzdG9wLWNvbG9yPSIjRjlCRTAzIiBvZmZzZXQ9IjAlIi8+CiAgICAgICAgICAgIDxzdG9wIHN0b3AtY29sb3I9IiNDQzdDMTkiIG9mZnNldD0iMTAwJSIvPgogICAgICAgIDwvcmFkaWFsR3JhZGllbnQ+CiAgICA8L2RlZnM+CiAgICA8ZyBmaWxsPSJub25lIiBmaWxsLXJ1bGU9Im5vbnplcm8iPgogICAgICAgIDxwYXRoIGZpbGw9IiMxOTFBMUMiIGQ9Ik0wIDBoMTEwdjExMEgweiIvPgogICAgICAgIDxwYXRoIGZpbGw9InVybCgjYSkiIGQ9Ik0zOCAyNWgxNy40MzRsMTkuMjM4IDMwLTE5LjIzOCAzMEgzOGwxOS4yMzgtMzBMMzggMjUiLz4KICAgIDwvZz4KPC9zdmc+Cg=="},72954:e=>{"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTEwIiBoZWlnaHQ9IjExMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICAgIDxkZWZzPgogICAgICAgIDxsaW5lYXJHcmFkaWVudCB4MT0iMTAwJSIgeTE9IjUwJSIgeDI9IjAlIiB5Mj0iNTAlIiBpZD0iYSI+CiAgICAgICAgICAgIDxzdG9wIHN0b3AtY29sb3I9IiNGNENFMUUiIG9mZnNldD0iMCUiLz4KICAgICAgICAgICAgPHN0b3Agc3RvcC1jb2xvcj0iI0NDN0MxOSIgb2Zmc2V0PSIxMDAlIi8+CiAgICAgICAgPC9saW5lYXJHcmFkaWVudD4KICAgIDwvZGVmcz4KICAgIDxnIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0ibm9uemVybyI+CiAgICAgICAgPHBhdGggZmlsbD0iIzE5MUExQyIgZD0iTTAgMGgxMTB2MTEwSDB6Ii8+CiAgICAgICAgPHBhdGggZmlsbD0idXJsKCNhKSIgZD0iTTc4LjQ3MyA1NWwtMjAuMy0yOC45ODZMNTEuNzI4IDI2bC0zLjIyMi4wMTRMNjguODA2IDU1IDUwLjc2IDgwLjc3N2gtMy4yMjJMNjUuNTg0IDU1bC0yMC4zLTI4Ljk4NkwzOC44NCAyNmwtMy4yMjMuMDE0IDE4LjA2MSAyNS43NjRIMTlWNTVoNDAuMTRMNDEuMDg0IDI5LjIyMmgzLjIyM0w2Mi4zNjEgNTVsLTIwLjMgMjloOS42NjdsMjAuMy0yOS0xOC4wNTQtMjUuNzc4aDMuMjIzTDc1LjI1IDU1bC0yMC4zIDI5aDkuNjY3bDE4LjAxLTI1Ljc3OGg4LjcwNlY1NWgtOS42MzlMNjMuNjUgODAuNzc3aC0zLjIyMnoiLz4KICAgIDwvZz4KPC9zdmc+Cg=="},28674:e=>{"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTEwIiBoZWlnaHQ9IjExMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICAgIDxkZWZzPgogICAgICAgIDxsaW5lYXJHcmFkaWVudCB4MT0iMTAwJSIgeTE9IjUwJSIgeDI9IjAlIiB5Mj0iNTAlIiBpZD0iYSI+CiAgICAgICAgICAgIDxzdG9wIHN0b3AtY29sb3I9IiNGOUJFMDMiIG9mZnNldD0iMCUiLz4KICAgICAgICAgICAgPHN0b3Agc3RvcC1jb2xvcj0iI0U1QTAwRCIgb2Zmc2V0PSI0Ny43MzglIi8+CiAgICAgICAgICAgIDxzdG9wIHN0b3AtY29sb3I9IiNDQzdDMTkiIG9mZnNldD0iMTAwJSIvPgogICAgICAgIDwvbGluZWFyR3JhZGllbnQ+CiAgICAgICAgPHJhZGlhbEdyYWRpZW50IGN4PSI4OS4yNjclIiBjeT0iNDkuNzEzJSIgZng9Ijg5LjI2NyUiIGZ5PSI0OS43MTMlIiByPSI5Mi41JSIgZ3JhZGllbnRUcmFuc2Zvcm09Im1hdHJpeCgxIDAgMCAuNjExMiAwIC4xOTMpIiBpZD0iYiI+CiAgICAgICAgICAgIDxzdG9wIHN0b3AtY29sb3I9IiNGOUJFMDMiIG9mZnNldD0iMCUiLz4KICAgICAgICAgICAgPHN0b3Agc3RvcC1jb2xvcj0iI0NDN0MxOSIgb2Zmc2V0PSIxMDAlIi8+CiAgICAgICAgPC9yYWRpYWxHcmFkaWVudD4KICAgIDwvZGVmcz4KICAgIDxnIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0ibm9uemVybyI+CiAgICAgICAgPHBhdGggZmlsbD0iIzE5MUExQyIgZD0iTTAgMGgxMTB2MTEwSDB6Ii8+CiAgICAgICAgPHBhdGggZD0iTTMxIDYyQzEzLjg3OSA2MiAwIDQ4LjEyMSAwIDMxIDAgMTMuODc5IDEzLjg3OSAwIDMxIDBjMTcuMTIxIDAgMzEgMTMuODc5IDMxIDMxIDAgMTcuMTIxLTEzLjg3OSAzMS0zMSAzMXptMC0xLjg2YzE2LjA5MyAwIDI5LjE0LTEzLjA0NyAyOS4xNC0yOS4xNFM0Ny4wOTMgMS44NiAzMSAxLjg2IDEuODYgMTQuOTA3IDEuODYgMzEgMTQuOTA3IDYwLjE0IDMxIDYwLjE0eiIgZmlsbD0idXJsKCNhKSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMjQgMjQpIi8+CiAgICAgICAgPHBhdGggZmlsbD0idXJsKCNiKSIgZD0iTTIwLjM5OCAxMS42NTZoMTEuMjZsMTIuNDI0IDE5LjM3NS0xMi40MjUgMTkuMzc1SDIwLjM5OGwxMi40MjUtMTkuMzc1LTEyLjQyNS0xOS4zNzUiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDI0IDI0KSIvPgogICAgPC9nPgo8L3N2Zz4K"},25017:e=>{"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTEwIiBoZWlnaHQ9IjExMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICAgIDxkZWZzPgogICAgICAgIDxsaW5lYXJHcmFkaWVudCB4MT0iNTAlIiB5MT0iMCUiIHgyPSI1MCUiIHkyPSIxMDAlIiBpZD0iYSI+CiAgICAgICAgICAgIDxzdG9wIHN0b3AtY29sb3I9IiMxQTgwRDMiIG9mZnNldD0iMCUiLz4KICAgICAgICAgICAgPHN0b3Agc3RvcC1jb2xvcj0iIzFBNDU5MyIgb2Zmc2V0PSIxMDAlIi8+CiAgICAgICAgPC9saW5lYXJHcmFkaWVudD4KICAgIDwvZGVmcz4KICAgIDxnIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0ibm9uemVybyI+CiAgICAgICAgPHBhdGggZmlsbD0iIzE5MUExQyIgZD0iTTAgMGgxMTB2MTEwSDB6Ii8+CiAgICAgICAgPHBhdGggZD0iTTg5LjkxMSA2OS44NmMtMS40MTcgMS43ODgtNC44OSAzLjA2NC00Ljg5IDMuMDY0bC0yNS44MyA5LjI3OFY3NS4zNmwxOS4wMS02Ljc3NGMyLjE1Ni0uNzczIDIuNDg4LTEuODY1LjczNC0yLjQzOS0xLjc1LS41NzUtNC45Mi0uNDEtNy4wNzguMzY2TDU5LjE5IDcwLjk3NHYtNy4xMDFsLjczLS4yNDdzMy42Ni0xLjI5NiA4LjgwNy0xLjg2NmM1LjE0Ny0uNTY3IDExLjQ1LjA3OCAxNi4zOTcgMS45NTMgNS41NzUgMS43NjIgNi4yMDMgNC4zNiA0Ljc4NyA2LjE0N3pNNjEuNjUgNTguMjF2LTE3LjVjMC0yLjA1NC0uMzc5LTMuOTQ2LTIuMzA3LTQuNDgyLTEuNDc3LS40NzMtMi4zOTMuODk4LTIuMzkzIDIuOTUyVjgzTDQ1LjEzIDc5LjI1VjI3YzUuMDI1LjkzMyAxMi4zNDUgMy4xMzggMTYuMjggNC40NjUgMTAuMDEgMy40MzYgMTMuNDAzIDcuNzEyIDEzLjQwMyAxNy4zNDggMCA5LjM5Mi01Ljc5OCAxMi45NTItMTMuMTY1IDkuMzk2ek0yMy40NDYgNzQuNjQ0Yy01LjcyMy0xLjYxMS02LjY3Ni00Ljk3LTQuMDY3LTYuOTA1IDIuNDEtMS43ODYgNi41MTEtMy4xMzEgNi41MTEtMy4xMzFsMTYuOTQ1LTYuMDI1djYuODY5bC0xMi4xOTQgNC4zNjRjLTIuMTU0Ljc3My0yLjQ4NSAxLjg2Ny0uNzM1IDIuNDQgMS43NTIuNTc0IDQuOTIzLjQxIDcuMDgtLjM2NGw1Ljg1LTIuMTIydjYuMTQ1Yy0uMzcyLjA2Ni0uNzg1LjEzMi0xLjE2OC4xOTYtNS44NS45NTYtMTIuMDgxLjU1Ny0xOC4yMjItMS40Njd6IiBmaWxsPSJ1cmwoI2EpIi8+CiAgICA8L2c+Cjwvc3ZnPgo="},36743:e=>{"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTEwIiBoZWlnaHQ9IjExMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICAgIDxnIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCI+CiAgICAgICAgPHBhdGggZmlsbD0iIzE5MUExQyIgZmlsbC1ydWxlPSJub256ZXJvIiBkPSJNMCAwaDExMHYxMTBIMHoiLz4KICAgICAgICA8cGF0aCBmaWxsPSIjNjYyRDkxIiBkPSJNMTEgMzJoODh2NDZIMTF6Ii8+CiAgICAgICAgPHBhdGggZD0iTTY2LjkyNyA1NC4zODhsLTYuMTk2IDYuMjF2LTYuMjMxaC01LjM3OHYxNS44MzVoNS4zNzh2LTYuNDI0bDYuNDY5IDYuNDI0aDYuNzdsLTguMjIxLTguMjQyIDYuODA5LTYuODIzdjkuMzk4YzAgMy4xMiAxLjg3MiA2IDYuNTg2IDYgMi4yMzggMCA0LjI5Mi0xLjI3MiA1LjI5LTIuNDI0bDIuNDE4IDIuMDlIODhWNTQuMzg0aC01LjM3OHYxMC4yNGMtLjYwNSAxLjA2LTEuNDUgMS43MjYtMi43NTQgMS43MjYtMS4zMjMgMC0xLjkzLS43ODctMS45My0zLjMwMXYtOC42NjVoLTExLjAxbS0zMy4wNzMgMTUuODRsLTQuODQ2LTYuNzRoLTEuNjN2Ni43MjZIMjJWNTBoNy43MDZjNC40NDMgMCA4LjA2OSAzLjAyOSA4LjA2OSA2Ljc1NCAwIDIuMjczLTEuMzkgNC4zMDItMy41MSA1LjU0NGw1LjY5IDcuOTI3LTYuMS0uMDAyem0tMS40NjQtMTMuNDY3YzAtMS44OC0xLjUwOS0zLjM5My0zLjM1My0zLjM5M2gtMS42NjN2Ni43NTZoMS42NjNjMS44NDUgMCAzLjM1My0xLjUxNSAzLjM1My0zLjM2M3ptMjEuOTE3IDUuNTRjMCA0LjU3OC0zLjcxNCA4LjI0NC04LjI4IDguMjQ0YTguMjI2IDguMjI2IDAgMCAxLTguMjUxLTguMjQzIDguMjI2IDguMjI2IDAgMCAxIDguMjUtOC4yNDFjNC41NjYgMCA4LjI4IDMuNjY3IDguMjggOC4yNHptLTguMjgtNC4zM2MtMS40MjEgMC0yLjYzMSAxLjkzNS0yLjYzMSA0LjMzIDAgMi4zOTcgMS4yMDggNC4zMzUgMi42MyA0LjMzNSAxLjQ1MyAwIDIuNjYtMS45MzggMi42Ni00LjMzNCAwLTIuMzk3LTEuMjA2LTQuMzMxLTIuNjYtNC4zMzF6IiBmaWxsPSIjRkZGIiBmaWxsLXJ1bGU9Im5vbnplcm8iLz4KICAgIDwvZz4KPC9zdmc+Cg=="},95031:(e,t,n)=>{"use strict";e.exports=n.p+"static/d35160fffeea81c08373.svg"},79070:e=>{"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTEwIiBoZWlnaHQ9IjExMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICAgIDxnIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0ibm9uemVybyI+CiAgICAgICAgPHBhdGggZmlsbD0iIzE5MUExQyIgZD0iTTAgMGgxMTB2MTEwSDB6Ii8+CiAgICAgICAgPHBhdGggZD0iTTEwMC45NDMgNDcuMzY5YzEuMjUzIDcuMjc2LTE4LjI5OSAxNi44MDYtNDMuNjc2IDIxLjI4NC0yNS4zNzMgNC40NzgtNDYuOTU5IDIuMjA1LTQ4LjIxLTUuMDc0LTEuMjUtNy4yNzggMTguMzA3LTE2LjgwNCA0My42OC0yMS4yODEgMjUuMzc1LTQuNDggNDYuOTU3LTIuMjA4IDQ4LjIwNiA1LjA3eiIgZmlsbD0iIzAzNEVBMiIvPgogICAgICAgIDxwYXRoIGQ9Ik03Ny4wNjEgNTguMTdsLS4xMy03LjU2NmgyLjM1NXY5LjUzN0g3NS45bC0yLjM1LTcuODI2aC0uMDVsLjEzIDcuODI2aC0yLjM0di05LjUzN2gzLjUzMmwyLjE4NiA3LjU2N2guMDUzem0tNDIuODA2LTYuNjczbC0xLjMwMyA4Ljc0NGgtMi41NjhsMS43NjMtOS42MzdoNC4yMzFsMS43NTYgOS42MzdoLTIuNTU4bC0xLjI2OC04Ljc0NGgtLjA1M3ptMTEuMDkyIDYuNDc0bDEuMTc2LTcuMzY3aDMuODc5bC4yMDYgOS42MzdINDguMjNsLS4wNjMtOC42NjRoLS4wNWwtMS41OSA4LjY2NGgtMi40MTNsLTEuNTktOC42NjRoLS4wNTJsLS4wNiA4LjY2NGgtMi4zODJsLjIxLTkuNjM3aDMuODgxbDEuMTc1IDcuMzY3aC4wNXptLTE4Ljk2OS0uNDQ4Yy0uNDg5LTEuMjQ4LTMuODY4LTEuODE4LTQuMjgzLTMuNzg3LS4xLS40ODMtLjA5LS44Ny0uMDIxLTEuMzAzLjI1Mi0xLjU2OSAxLjYzNS0yLjEzNSAzLjMyNy0yLjEzNSAxLjM0NyAwIDMuMjA3LjMyOCAzLjIwNyAyLjQyN3YuNjc3aC0yLjM3MnYtLjU5NWMwLS41MjYtLjMyOS0uODc0LS44ODUtLjg3NC0uNTk1IDAtLjgwMy4zMzgtLjg2OS42NDYtLjAyMi4xMS0uMDM1LjMxNC4wMS41MDguMjcgMS4xMjggMy44OCAxLjczIDQuMjggMy43NDguMDQuMjA1LjEyNi43NS4wMSAxLjU4My0uMjI1IDEuNjA1LTEuNjQyIDIuMjAxLTMuMzYyIDIuMjAxLTEuNzg5IDAtMy40NTktLjY0OC0zLjQ1OS0yLjc5NmwuMDAyLS43NDdoMi41NTF2LjkzM2MwIC41My4zNjIuODc2Ljk1OS44NzYuNjMyIDAgLjg0Ny0uMzI3LjkyNi0uNjQ4LjA0NC0uMTguMDcyLS40OC0uMDItLjcxNHptMzAuOTMtLjAxOGMtLjQ4NC0xLjIzNS0zLjgzLTEuODAxLTQuMjQtMy43NWEzLjM2IDMuMzYgMCAwIDEtLjAyMS0xLjI4N2MuMjQ3LTEuNTU3IDEuNjE5LTIuMTE3IDMuMjkyLTIuMTE3IDEuMzM0IDAgMy4xNzguMzI2IDMuMTc4IDIuNDAzdi42N2gtMi4zNTR2LS41OWMwLS41MjItLjMyMS0uODYyLS44NzItLjg2Mi0uNTkgMC0uNzkzLjMzMS0uODYxLjY0LS4wMjMuMTA0LS4wMzYuMzA3LjAwOS41LjI2NiAxLjExNiAzLjg0IDEuNzEyIDQuMjM5IDMuNzExLjA0MS4yMDIuMTIzLjc0LjAwOCAxLjU2Ni0uMjIxIDEuNTkxLTEuNjI1IDIuMTgtMy4zMjcgMi4xOC0xLjc3MSAwLTMuNDI2LS42NDMtMy40MjYtMi43N2wuMDA0LS43MzZoMi41MjRsLjAwMi45MjVjMCAuNTE3LjM2Ljg2My45NDcuODYzLjYyOSAwIC44NDEtLjMyMi45MTktLjY0MS4wNDItLjE4MS4wNzMtLjQ3My0uMDIxLS43MDV6bTcuOTkgMS4yOTVjLjY2IDAgLjg2Ni0uNDYzLjkxMS0uN2EyLjAzIDIuMDMgMCAwIDAgLjAyMi0uMzY4VjUwLjZoMi40MDZ2Ni45MTNjLjAwNS4xNzgtLjAxMi41NDItLjAyLjYzMy0uMTcgMS44LTEuNTczIDIuMzgzLTMuMzIgMi4zODMtMS43NSAwLTMuMTU1LS41ODQtMy4zMjItMi4zODNhOC4zMzMgOC4zMzMgMCAwIDEtLjAyLS42MzNWNTAuNmgyLjQwM3Y3LjEzMmMwIC4xMjQuMDA1LjI2NS4wMjMuMzY4LjA1MS4yMzcuMjUxLjcuOTE2Ljd6bTE5Ljg0Mi0uMTAyYy42ODkgMCAuOTMtLjQ0MS45NzQtLjY5OC4wMTctLjExLjAyMi0uMjQ1LjAyMS0uMzY3di0xLjM5OWgtLjk3NnYtMS40MDdoMy4zNzN2Mi41ODdjLS4wMDMuMTgtLjAwNy4zMTMtLjAzNS42MzUtLjE1OSAxLjc1My0xLjY2IDIuMzc5LTMuMzQ1IDIuMzc5LTEuNjkgMC0zLjE4OC0uNjI2LTMuMzQ5LTIuMzc5YTcuOSA3LjkgMCAwIDEtLjAzNC0uNjM1bC4wMDItNC4wNThjMC0uMTcxLjAyMS0uNDc0LjA0LS42MzUuMjEtMS44MDEgMS42NTItMi4zOCAzLjM0LTIuMzhzMy4xNjQuNTc2IDMuMzQgMi4zOGMuMDMuMzA3LjAyLjYzNS4wMi42MzV2LjMyMWgtMi4zOTh2LS41NGMuMDAyLjAwMi0uMDAzLS4yMjktLjAzMS0uMzY2LS4wNC0uMjEzLS4yMjQtLjcwMi0uOTQ4LS43MDItLjY5NCAwLS44OTcuNDYzLS45NDguNzAyYTIuMTkgMi4xOSAwIDAgMC0uMDQuNDU1djQuNDA3Yy0uMDAyLjEyMi4wMDUuMjU2LjAyNC4zNjcuMDQyLjI1OC4yODEuNjk4Ljk3LjY5OHoiIGZpbGw9IiNGRkYiLz4KICAgIDwvZz4KPC9zdmc+Cg=="},9811:e=>{"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTEwIiBoZWlnaHQ9IjExMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICAgIDxnIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0ibm9uemVybyI+CiAgICAgICAgPHBhdGggZmlsbD0iIzE5MUExQyIgZD0iTTAgMGgxMTB2MTEwSDB6Ii8+CiAgICAgICAgPHBhdGggZD0iTTM0LjI1IDQ2Yy00Ljg3NSAwLTguODQyIDMuOTY2LTguODQyIDguODQyIDAgNC44NzQgMy45NjcgOC44NCA4Ljg0MiA4Ljg0czguODQxLTMuOTY2IDguODQxLTguODRjMC00Ljg3Ni0zLjk2Ni04Ljg0Mi04Ljg0LTguODQyem0wIDE0LjUwNmMtMy4wOTIgMC01LjYwNS0yLjU0LTUuNjA1LTUuNjY0IDAtMy4xMjQgMi41MTMtNS42NjQgNS42MDUtNS42NjQgMy4wOTEgMCA1LjYwNyAyLjU0IDUuNjA3IDUuNjY0IDAgMy4xMjMtMi41MTYgNS42NjQtNS42MDcgNS42NjR6bS0xNC4yMTktNS41MThjMS4yNS45NTMgMS44ODMgMi4xNzQgMS44ODMgMy42MjUgMCAxLjM1Mi0uNjI1IDIuNjcxLTEuNzE3IDMuNjItMS4wOTcuOTQ5LTIuNjAyIDEuNDczLTQuMjQgMS40NzMtMy40MDYgMC01LjM2NC0yLjI4My01LjQ0NS0yLjM3OGwtLjI3OC0uMzMgMi41NDctMS43Mi4yMjEuMTY1Yy40MS4zMDcgMS41MiAxLjAyMiAyLjk1NiAxLjAyMiAxLjcgMCAyLjcxNi0uOTQxIDIuNzE2LTEuODUyIDAtLjM4OCAwLTEuMTk1LTMuMjAxLTIuMjEzLTEuNjQ2LS41MjItMi43NS0xLjA0LTMuNTg4LTEuNjgtMS4yNS0uOTUyLTEuODg1LTIuMTcyLTEuODg1LTMuNjI0IDAtMS4zNTIuNjI2LTIuNjcxIDEuNzE5LTMuNjE5IDEuMDk2LS45NSAyLjYtMS40NzQgNC4yMzgtMS40NzQgMy40MDYgMCA1LjM2NCAyLjI4IDUuNDQ3IDIuMzc4bC4yNzYuMzMtMi41NDUgMS43Mi0uMjItLjE2NWMtLjQxMy0uMzA4LTEuNTI2LTEuMDIzLTIuOTU4LTEuMDIzLTEuNyAwLTIuNzE1Ljk0My0yLjcxNSAxLjg1MyAwIC4zODggMCAxLjE5NSAzLjIwMSAyLjIxMyAxLjY0Ni41MjIgMi43NSAxLjA0IDMuNTg4IDEuNjh6bTM4LjcyIDEuMTF2LTkuNDY1aDMuMTU5VjYzLjUybC0xMC42NTktOS45MnY5LjQwNmgtMy4xNThWNDYuMTZsMTAuNjU4IDkuOTM2em0xNy0xMC4wMzNjNC44NzYgMCA4Ljg0MiAzLjk2NiA4Ljg0MiA4Ljg0MSAwIDQuODc1LTMuOTY2IDguODQxLTguODQyIDguODQxLTQuODc0IDAtOC44NC0zLjk2Ni04Ljg0LTguODQgMC00Ljg3NiAzLjk2Ni04Ljg0MiA4Ljg0LTguODQyem0wIDE0LjUwNWMzLjA5IDAgNS42MDYtMi41NDEgNS42MDYtNS42NjQgMC0zLjEyMi0yLjUxNS01LjY2My01LjYwNi01LjY2My0zLjA5MiAwLTUuNjA1IDIuNTQtNS42MDUgNS42NjNzMi41MTMgNS42NjQgNS42MDUgNS42NjR6bTE0LjIxOS01LjgxYy0xLjI1LS45NTQtMS44ODItMi4xNzMtMS44ODItMy42MjUgMC0xLjM1Mi42MjUtMi42NyAxLjcxNy0zLjYyIDEuMDk2LS45NSAyLjYwMS0xLjQ3NCA0LjIzOS0xLjQ3NCAzLjQwNiAwIDUuMzY0IDIuMjgzIDUuNDQ1IDIuMzc5bC4yNzguMzMtMi41NDYgMS43Mi0uMjIyLS4xNjVjLS40MS0uMzA3LTEuNTItMS4wMjItMi45NTUtMS4wMjItMS43IDAtMi43MTcuOTQxLTIuNzE3IDEuODUyIDAgLjM4OCAwIDEuMTk1IDMuMjAyIDIuMjEzIDEuNjQ2LjUyMiAyLjc1IDEuMDQgMy41ODggMS42OEM5OS4zNjcgNTUuOTggMTAwIDU3LjIgMTAwIDU4LjY1YzAgMS4zNTQtLjYyNiAyLjY3Mi0xLjcxOCAzLjYyLTEuMDk2Ljk1LTIuNiAxLjQ3NC00LjIzOCAxLjQ3NC0zLjQwNyAwLTUuMzY0LTIuMjgxLTUuNDQ1LTIuMzc4bC0uMjc5LS4zMyAyLjU0Ny0xLjcyLjIyLjE2NWMuNDEyLjMwNyAxLjUyNSAxLjAyMiAyLjk1NyAxLjAyMiAxLjcgMCAyLjcxNi0uOTQyIDIuNzE2LTEuODUzIDAtLjM4OCAwLTEuMTk1LTMuMjAyLTIuMjExLTEuNjQ2LS41MjMtMi43NS0xLjA0LTMuNTg4LTEuNjh6IiBmaWxsPSIjRkZGIi8+CiAgICA8L2c+Cjwvc3ZnPgo="},50066:e=>{"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTEwIiBoZWlnaHQ9IjExMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICAgIDxkZWZzPgogICAgICAgIDxsaW5lYXJHcmFkaWVudCB4MT0iNTAlIiB5MT0iMCUiIHgyPSI1MCUiIHkyPSIxMDAlIiBpZD0iYSI+CiAgICAgICAgICAgIDxzdG9wIHN0b3AtY29sb3I9IiNGRkYiIHN0b3Atb3BhY2l0eT0iMCIgb2Zmc2V0PSIwJSIvPgogICAgICAgICAgICA8c3RvcCBzdG9wLWNvbG9yPSIjRkZGIiBzdG9wLW9wYWNpdHk9Ii40NSIgb2Zmc2V0PSIxMDAlIi8+CiAgICAgICAgPC9saW5lYXJHcmFkaWVudD4KICAgICAgICA8cmFkaWFsR3JhZGllbnQgY3g9IjgyLjg2MiUiIGZ4PSI4Mi44NjIlIiBmeT0iNTAlIiByPSI5MS4xNTklIiBncmFkaWVudFRyYW5zZm9ybT0ibWF0cml4KC0xIDAgMCAtLjg1MSAxLjY1NyAuOTI2KSIgaWQ9ImIiPgogICAgICAgICAgICA8c3RvcCBzdG9wLWNvbG9yPSIjRjlCRTAzIiBvZmZzZXQ9IjAlIi8+CiAgICAgICAgICAgIDxzdG9wIHN0b3AtY29sb3I9IiNDQzdDMTkiIG9mZnNldD0iMTAwJSIvPgogICAgICAgIDwvcmFkaWFsR3JhZGllbnQ+CiAgICA8L2RlZnM+CiAgICA8ZyBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPgogICAgICAgIDxwYXRoIGZpbGw9IiMxOTFBMUMiIGZpbGwtcnVsZT0ibm9uemVybyIgZD0iTTAgMGgxMTB2MTEwSDB6Ii8+CiAgICAgICAgPHBhdGggZD0iTTAgMTAuNjA0aDYuODU2TDkuMDkgNy44aDEuMDFsLTIuMTg2IDIuODA0aDkuNTIzTDE5LjE4IDcuOGgxLjAxbC0xLjY5NSAyLjgwNGg5LjUyM0wyOS4yNyA3LjhoMS4wMWwtMS4yMDQgMi44MDRoOS41MjNMMzkuMzYgNy44aDEuMDFsLS43MTMgMi44MDRoOS41MjNsLjI3LTIuODA0aDEuMDFsLS4yMjEgMi44MDRoOS41MjNMNTkuNTQgNy44aDEuMDA5bC4yNyAyLjgwNGg5LjUyM0w2OS42MyA3LjhoMS4wMDlsLjc2IDIuODA0aDkuNTI0TDc5LjcyMSA3LjhoMS4wMDlsMS4yNTIgMi44MDRoOS41MjNMODkuODExIDcuOGgxLjAwOWwxLjc0MyAyLjgwNGg5LjUyM0w5OS45MDEgNy44aDEuMDA5bDIuMjM0IDIuODA0SDExMHYuNzkyaC02LjIyNGwyLjU1NyAzLjIwOEgxMTB2Ljc5MmgtMy4wMzVsMi44NzUgMy42MDhoLjE2djEuNzUxbC0uNzQ4LS45NTlIOTguMjhsMi40OTIgNC4wMDhIMTEwdi43OTJoLTguNzM1bDIuOTg5IDQuODA4SDExMHYuNzkyaC01LjI1M2wzLjk4NSA2LjQwOEgxMTB2Ljc5MmgtLjc3NWwuNzc1IDEuMjQ3djIuNTYzbC0yLjMwMy0zLjgxSDkzLjk1bDMuNTc3IDguMDA4SDExMHYuNzkySDk3Ljg4MWw0LjI5MiA5LjYwOEgxMTB2Ljc5MmgtNy40NzNsNS43MjEgMTIuODA4SDExMHYuNzkyaC0xLjM5OGwxLjM5OCAzLjEzdjUuMDI2bC0zLjUtOC4xNTZIODcuNTgyTDkxLjYwMiA4NUg4OS4yNGwtMy43Ni0xNC44MDRINjYuNTZMNjcuOTg3IDg1aC0yLjM2bC0xLjE2OC0xNC44MDRINDUuNTQxTDQ0LjM3NCA4NWgtMi4zNjFsMS40MjYtMTQuODA0SDI0LjUyTDIwLjc2IDg1SDE4LjRsNC4wMi0xNC44MDRIMy41TDAgNzguMzUydi01LjAyNmwxLjM5OC0zLjEzSDB2LS43OTJoMS43NTJsNS43MjEtMTIuODA4SDB2LS43OTJoNy44MjdsNC4yOTItOS42MDhIMHYtLjc5MmgxMi40NzNsMy41NzctOC4wMDhIMi4zMDJMMCA0MS4yMDZ2LTIuNTYzbC43NzUtMS4yNDdIMHYtLjc5MmgxLjI2OGwzLjk4NS02LjQwOEgwdi0uNzkyaDUuNzQ1bDIuOTktNC44MDhIMHYtLjc5Mmg5LjIyOGwyLjQ5Mi00LjAwOEguNzQ4bC0uNzQ4Ljk2di0xLjc1MmguMTZsMi44NzUtMy42MDhIMHYtLjc5MmgzLjY2N2wyLjU1Ny0zLjIwOEgwdi0uNzkyem0yNi4xMTEgNDUuOTkySDkuMzM3TDMuODQgNjkuNDA0aDE4Ljc5NGwzLjQ3Ny0xMi44MDh6bTE4LjYzOCAwSDI3Ljk3NWwtMy4yNTMgMTIuODA4aDE4Ljc5M2wxLjIzNC0xMi44MDh6bTE4LjYzOCAwSDQ2LjYxM2wtMS4wMSAxMi44MDhoMTguNzk0bC0xLjAxLTEyLjgwOHptMTguNjM4IDBINjUuMjUxbDEuMjM0IDEyLjgwOGgxOC43OTNsLTMuMjUzLTEyLjgwOHptMTguNjM4IDBIODMuODg5bDMuNDc3IDEyLjgwOGgxOC43OTRsLTUuNDk3LTEyLjgwOHptLTcxLjcyOC0xMC40SDEzLjhsLTQuMTIzIDkuNjA4aDE2LjY1bDIuNjA4LTkuNjA4em0xNi44MTYgMEgzMC42MTdsLTIuNDQgOS42MDhoMTYuNjQ4bC45MjYtOS42MDh6bTE2LjgxNiAwSDQ3LjQzM2wtLjc1OCA5LjYwOGgxNi42NWwtLjc1OC05LjYwOHptMTYuODE2IDBINjQuMjVsLjkyNSA5LjYwOGgxNi42NWwtMi40NC05LjYwOHptMTYuODE3IDBIODEuMDY1bDIuNjA5IDkuNjA4aDE2LjY0OUw5Ni4yIDQ2LjE5NnptLTY0Ljg3Ni04LjhIMTcuNTc3bC0zLjQzNiA4LjAwOGgxNS4wMWwyLjE3My04LjAwOHptMTUuMjc1IDBIMzIuODUybC0yLjAzNCA4LjAwOGgxNS4wMWwuNzctOC4wMDh6bTE1LjI3NSAwSDQ4LjEyNmwtLjYzIDguMDA4aDE1LjAwOWwtLjYzMS04LjAwOHptMTUuMjc0IDBINjMuNDAxbC43NzEgOC4wMDhoMTUuMDFsLTIuMDM0LTguMDA4em0xNS4yNzUgMEg3OC42NzZsMi4xNzQgOC4wMDhoMTUuMDFsLTMuNDM3LTguMDA4em0tMTcuMTA0LTcuMkg2Mi43MDdsLjYxOCA2LjQwOGgxMy42MjJsLTEuNjI4LTYuNDA4em0tNTYuMDUzIDBINi42NTRsLTMuODcyIDYuNDA4aDEzLjYyMmwyLjg2Mi02LjQwOHptMTQuMDEzIDBIMjAuNjY3bC0yLjc1IDYuNDA4SDMxLjU0bDEuNzQtNi40MDh6bTE0LjAxNCAwSDM0LjY4bC0xLjYyOCA2LjQwOGgxMy42MjJsLjYxOC02LjQwOHptMTQuMDEzIDBINDguNjk0bC0uNTA1IDYuNDA4SDYxLjgxbC0uNTA1LTYuNDA4em0yOC4wMjcgMEg3Ni43MmwxLjc0IDYuNDA4aDEzLjYyMmwtMi43NS02LjQwOHptMTQuMDEzIDBIOTAuNzM0bDIuODYyIDYuNDA4aDEzLjYyMmwtMy44NzItNi40MDh6bS04MS41NzktNS42SDEwLjAzOGwtMi45MDUgNC44MDhIMTkuNjJsMi4xNDctNC44MDh6bTEzLjAzMyAwSDIzLjA3bC0yLjA2MyA0LjgwOGgxMi40ODhsMS4zMDUtNC44MDh6bTEzLjAzMiAwSDM2LjEwM2wtMS4yMjEgNC44MDhoMTIuNDg3bC40NjMtNC44MDh6bTEzLjAzMyAwaC0xMS43M2wtLjM3OCA0LjgwOGgxMi40ODZsLS4zNzgtNC44MDh6bTI2LjA2NCAwSDc1LjJsMS4zMDUgNC44MDhoMTIuNDg4bC0yLjA2NC00LjgwOHptLTEzLjAzMiAwaC0xMS43M2wuNDY0IDQuODA4aDEyLjQ4N2wtMS4yMjEtNC44MDh6bTI2LjA2NSAwaC0xMS43M2wyLjE0OCA0LjgwOGgxMi40ODdsLTIuOTA1LTQuODA4em0tNzYuMDUtNC44SDEyLjkzOWwtMi40MjIgNC4wMDhoMTEuNjA1bDEuNzktNC4wMDh6bTEyLjE5MSAwSDI1LjEzMWwtMS43MiA0LjAwOGgxMS42MDRsMS4wODgtNC4wMDh6bTEyLjE5MiAwSDM3LjMyMmwtMS4wMTggNC4wMDhINDcuOTFsLjM4Ni00LjAwOHptMTIuMTkxIDBINDkuNTE0bC0uMzE2IDQuMDA4aDExLjYwNGwtLjMxNi00LjAwOHptMTIuMTkyIDBINjEuNzA1bC4zODYgNC4wMDhoMTEuNjA1bC0xLjAxOC00LjAwOHptMTIuMTkxIDBINzMuODk3bDEuMDg4IDQuMDA4aDExLjYwNGwtMS43Mi00LjAwOHptMTIuMTkyIDBIODYuMDg4bDEuNzkgNC4wMDhoMTEuNjA1bC0yLjQyMi00LjAwOHptLTI1LjUtNC40SDYxLjI4bC4zNDggMy42MDhoMTAuODQ3bC0uOTE2LTMuNjA4em0tNTcuMTA1IDBINC4xNzhsLTIuODEyIDMuNjA4aDEwLjg0N2wyLjI0My0zLjYwOHptMTEuNDIxIDBIMTUuNTk4bC0yLjE4IDMuNjA4aDEwLjg0OGwxLjYxMS0zLjYwOHptMTEuNDIgMEgyNy4wMmwtMS41NDggMy42MDhoMTAuODQ3bC45OC0zLjYwOHptMTEuNDIyIDBoLTEwLjI4bC0uOTE1IDMuNjA4SDQ4LjM3bC4zNDgtMy42MDh6bTExLjQyIDBINDkuODYxbC0uMjg1IDMuNjA4aDEwLjg0OGwtLjI4NS0zLjYwOHptMjIuODQyIDBINzIuNzAybC45OCAzLjYwOGgxMC44NDdsLTEuNTQ4LTMuNjA4em0xMS40MiAwSDg0LjEyNGwxLjYxMSAzLjYwOGgxMC44NDhsLTIuMTgtMy42MDh6bTExLjQyMiAwaC0xMC4yOGwyLjI0NCAzLjYwOGgxMC44NDdsLTIuODExLTMuNjA4em0tMzUuMjc5LTRoLTkuNjQ4bC4zMDkgMy4yMDhoMTAuMTU0bC0uODE1LTMuMjA4em0tNTMuNiAwSDcuMjk2bC0yLjUgMy4yMDhoMTAuMTUzbDEuOTk1LTMuMjA4em0xMC43MiAwaC05LjY0OGwtMS45MzkgMy4yMDhoMTAuMTU0bDEuNDMzLTMuMjA4em0xMC43MiAwaC05LjY0OGwtMS4zNzcgMy4yMDhoMTAuMTU0bC44Ny0zLjIwOHptMTAuNzIgMGgtOS42NDhsLS44MTUgMy4yMDhoMTAuMTU0bC4zMDktMy4yMDh6bTEwLjcyIDBoLTkuNjQ4bC0uMjUzIDMuMjA4aDEwLjE1NGwtLjI1My0zLjIwOHptMjEuNDQgMGgtOS42NDhsLjg3MSAzLjIwOGgxMC4xNTRsLTEuMzc3LTMuMjA4em0xMC43MiAwaC05LjY0OGwxLjQzMyAzLjIwOGgxMC4xNTRsLTEuOTM5LTMuMjA4em0xMC43MiAwaC05LjY0OGwxLjk5NSAzLjIwOGgxMC4xNTNsLTIuNS0zLjIwOHpNMCA3Ljc5MlY3aDExMHYuODFsLS4wMTctLjAxOEgwem0wIC4wMThWNy44aC4wMDlMMCA3LjgxeiIgZmlsbD0idXJsKCNhKSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMCAyNSkiLz4KICAgICAgICA8cGF0aCBkPSJNMzkuNTggMjUuNDk2bDE5LjExIDI2LjI2Ny0zLjE1NyAzLjA4OS0xNi4yMTEtMjIuOTE3LjI1OS02LjQzOXptLTYuMjQgNTIuNzFoMjIuNjg2TDc3LjkzIDUxLjg1OGwtLjI0OCA2LjQzMi0yMS45MTkgMjYuMzQ3LTIyLjY3OC4wMTcuMjU1LTYuNDQ4eiIgZmlsbD0iIzk5NUMxMiIvPgogICAgICAgIDxwYXRoIGZpbGw9InVybCgjYikiIGQ9Ik0zOS41ODQuNTAzaDE2Ljc0OGwyMS42MDIgMjYuMzUzLTIxLjkxIDI2LjM1M0gzMy4zNDJsMjQuODc3LTI2LjM1M3oiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDAgMjUpIi8+CiAgICA8L2c+Cjwvc3ZnPgo="},32743:e=>{"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTEwIiBoZWlnaHQ9IjExMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICAgIDxnIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCI+CiAgICAgICAgPHBhdGggZmlsbD0iIzE5MUExQyIgZmlsbC1ydWxlPSJub256ZXJvIiBkPSJNMCAwaDExMHYxMTBIMHoiLz4KICAgICAgICA8cGF0aCBkPSJNODAuMjYgNTEuNDYzdi04LjM3aDYuNjA4djkuMjUxYzAgMy45MDktNi42MDggNC43MDgtNi42MDgtLjg4em0tOS4xMDQgNS44NzRWNDYuMDNjMC0xLjc4NiAxLjU2LTIuOTM3IDMuMzc3LTIuOTM3aDIuNzl2OS44MzljMCA3LjA0NiAxMi42MjkgNy4xMDIgMTIuNjI5LS4xNDdWNDMuMjRoMy42N2MxLjMgMCAyLjM1IDEuNTI4IDIuMzUgMi45Mzd2MTEuNmMwIDIuMzM5LTEuOTAzIDMuOTY1LTQuMjU4IDMuOTY1aC0xNS44NmMtMi43OSAwLTQuNjk4LTEuNjQ0LTQuNjk4LTQuNDA1eiIgZmlsbD0iIzAwOUFDNyIvPgogICAgICAgIDxwYXRoIGQ9Ik02NC41NTYgNjcuMjU2aC00LjkxOVY1MS4zNWg0LjkxOXYxNS45MDd6bS01LjM5NS0yMS40MmMwLTEuNTQ4IDEuMzEtMi43NzcgMi44OTYtMi43NzcgMS42MjYgMCAyLjkzNSAxLjIzIDIuOTM1IDIuNzc2IDAgMS41NDctMS4zMDkgMi43NzctMi45MzUgMi43NzctMS41ODcgMC0yLjg5Ni0xLjI3LTIuODk2LTIuNzc3em0tNC41NjIgMjEuNDJINDkuNjhWNTEuMzVoNC45MnYxNS45MDd6bS01LjM5NS0yMS40MmMwLTEuNTQ4IDEuMjctMi43NzcgMi44NTctMi43NzcgMS42NjYgMCAyLjk3NSAxLjIzIDIuOTc1IDIuNzc2IDAgMS41NDctMS4zMSAyLjc3Ny0yLjk3NSAyLjc3Ny0xLjU4NyAwLTIuODU3LTEuMjctMi44NTctMi43Nzd6bS03LjMzOC0xLjQyOWg1LjE5NnMtNC45NTggMTcuOTctNS42MzIgMjAuMDcyYy0uNTU2IDEuNjI3LTEuNzg2IDIuOTM2LTMuNjUgMi45MzYtMi4xMDIgMC0zLjA5NC0xLjU0Ny0zLjU3LTIuOTM2LS40MzYtMS40MjgtMy42NS0xMy4yODgtMy42NS0xMy4yODhzLTMuMjEzIDExLjg2LTMuNjg5IDEzLjI4OGMtLjQzNiAxLjM4OS0xLjQyOCAyLjkzNi0zLjU3IDIuOTM2LTEuODI0IDAtMy4wOTQtMS4zMS0zLjYxLTIuOTM2LS42NzQtMi4xMDItNS42MzItMjAuMDcyLTUuNjMyLTIwLjA3Mmg1LjE1N2w0LjMyMyAxNi44NnMzLjI5My0xMi42NTUgMy44MDgtMTQuNDhjLjU1Ni0xLjc4NSAxLjYyNy0yLjU3OCAzLjIxNC0yLjU3OCAxLjU0NyAwIDIuNjU3Ljc5MyAzLjE3MyAyLjU3OC41NTUgMS44MjUgMy44NDggMTQuNDggMy44NDggMTQuNDhsNC4yODQtMTYuODZ6IiBmaWxsPSIjRkZGIiBmaWxsLXJ1bGU9Im5vbnplcm8iLz4KICAgIDwvZz4KPC9zdmc+Cg=="},56199:e=>{"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTEwIiBoZWlnaHQ9IjExMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICAgIDxnIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0ibm9uemVybyI+CiAgICAgICAgPHBhdGggZmlsbD0iIzE5MUExQyIgZD0iTTAgMGgxMTB2MTEwSDB6Ii8+CiAgICAgICAgPHBhdGggZD0iTTI3IDM0LjkyOWwyMi44ODUtMy4xMDcuMDEgMjIuMDA2LTIyLjg3NC4xM0wyNyAzNC45Mjh6bTIyLjg3NSAyMS40MzVsLjAxNyAyMi4wMjYtMjIuODc0LTMuMTM1LS4wMDItMTkuMDM5IDIyLjg1OS4xNDh6bTIuNzc0LTI0Ljk0OUw4Mi45OTMgMjd2MjYuNTQ4bC0zMC4zNDQuMjRWMzEuNDE2ek04MyA1Ni41NzFMODIuOTkzIDgzbC0zMC4zNDQtNC4yNy0uMDQzLTIyLjIwOCAzMC4zOTQuMDV6IiBmaWxsPSIjMERBREVBIi8+CiAgICA8L2c+Cjwvc3ZnPgo="},51773:e=>{"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTEwIiBoZWlnaHQ9IjExMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICAgIDxnIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0ibm9uemVybyI+CiAgICAgICAgPHBhdGggZmlsbD0iIzE5MUExQyIgZD0iTTAgMGgxMTB2MTEwSDB6Ii8+CiAgICAgICAgPHBhdGggZD0iTTI3IDM0LjkyOWwyMi44ODUtMy4xMDcuMDEgMjIuMDA2LTIyLjg3NC4xM0wyNyAzNC45Mjh6bTIyLjg3NSAyMS40MzVsLjAxNyAyMi4wMjYtMjIuODc0LTMuMTM1LS4wMDItMTkuMDM5IDIyLjg1OS4xNDh6bTIuNzc0LTI0Ljk0OUw4Mi45OTMgMjd2MjYuNTQ4bC0zMC4zNDQuMjRWMzEuNDE2ek04MyA1Ni41NzFMODIuOTkzIDgzbC0zMC4zNDQtNC4yNy0uMDQzLTIyLjIwOCAzMC4zOTQuMDV6IiBmaWxsPSIjRTgxMTIzIi8+CiAgICA8L2c+Cjwvc3ZnPgo="},67626:e=>{"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTEwIiBoZWlnaHQ9IjExMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICAgIDxkZWZzPgogICAgICAgIDxyYWRpYWxHcmFkaWVudCBjeD0iNDMuNTQxJSIgY3k9IjM0LjQzNiUiIGZ4PSI0My41NDElIiBmeT0iMzQuNDM2JSIgcj0iNjUuNTY0JSIgZ3JhZGllbnRUcmFuc2Zvcm09Im1hdHJpeCgwIDEgLTEuMDU2MiAwIC44IC0uMDkxKSIgaWQ9ImEiPgogICAgICAgICAgICA8c3RvcCBzdG9wLWNvbG9yPSIjRkZGIiBvZmZzZXQ9IjAlIi8+CiAgICAgICAgICAgIDxzdG9wIHN0b3AtY29sb3I9IiNGOUY5RjkiIG9mZnNldD0iMjcuNDQlIi8+CiAgICAgICAgICAgIDxzdG9wIHN0b3AtY29sb3I9IiM2NjYiIG9mZnNldD0iMTAwJSIvPgogICAgICAgIDwvcmFkaWFsR3JhZGllbnQ+CiAgICAgICAgPHJhZGlhbEdyYWRpZW50IGN4PSI0NS4wODQlIiBjeT0iMzkuMzg5JSIgZng9IjQ1LjA4NCUiIGZ5PSIzOS4zODklIiByPSI3Mi4wNCUiIGlkPSJiIj4KICAgICAgICAgICAgPHN0b3Agc3RvcC1jb2xvcj0iI0ZGRiIgc3RvcC1vcGFjaXR5PSIwIiBvZmZzZXQ9IjAlIi8+CiAgICAgICAgICAgIDxzdG9wIHN0b3AtY29sb3I9IiNGRkYiIHN0b3Atb3BhY2l0eT0iMCIgb2Zmc2V0PSI1NS43ODclIi8+CiAgICAgICAgICAgIDxzdG9wIHN0b3AtY29sb3I9IiNGRkYiIHN0b3Atb3BhY2l0eT0iLjYiIG9mZnNldD0iNzQuNjUzJSIvPgogICAgICAgICAgICA8c3RvcCBzdG9wLWNvbG9yPSIjRkZGIiBzdG9wLW9wYWNpdHk9Ii42IiBvZmZzZXQ9Ijg4LjQ0MyUiLz4KICAgICAgICAgICAgPHN0b3Agc3RvcC1jb2xvcj0iI0ZGRiIgc3RvcC1vcGFjaXR5PSIuNSIgb2Zmc2V0PSIxMDAlIi8+CiAgICAgICAgPC9yYWRpYWxHcmFkaWVudD4KICAgICAgICA8bGluZWFyR3JhZGllbnQgeDE9IjY4LjkzNSUiIHkxPSI4LjU0NCUiIHgyPSIzNS4xMDQlIiB5Mj0iNDcuMDU1JSIgaWQ9ImMiPgogICAgICAgICAgICA8c3RvcCBzdG9wLWNvbG9yPSIjMUU3RTAxIiBvZmZzZXQ9IjAlIi8+CiAgICAgICAgICAgIDxzdG9wIHN0b3AtY29sb3I9IiM3MkMwMjgiIG9mZnNldD0iNjAuMzk5JSIvPgogICAgICAgICAgICA8c3RvcCBzdG9wLWNvbG9yPSIjQTREMDU2IiBvZmZzZXQ9IjEwMCUiLz4KICAgICAgICA8L2xpbmVhckdyYWRpZW50PgogICAgICAgIDxsaW5lYXJHcmFkaWVudCB4MT0iMjcuMzQ3JSIgeTE9IjUwLjg5OCUiIHgyPSI3Ny45MzglIiB5Mj0iNjUuMTk4JSIgaWQ9ImQiPgogICAgICAgICAgICA8c3RvcCBzdG9wLWNvbG9yPSIjMUU3RTAxIiBvZmZzZXQ9IjAlIi8+CiAgICAgICAgICAgIDxzdG9wIHN0b3AtY29sb3I9IiM3MkMwMjgiIG9mZnNldD0iNjAuMzk5JSIvPgogICAgICAgICAgICA8c3RvcCBzdG9wLWNvbG9yPSIjQTREMDU2IiBvZmZzZXQ9IjEwMCUiLz4KICAgICAgICA8L2xpbmVhckdyYWRpZW50PgogICAgICAgIDxsaW5lYXJHcmFkaWVudCB4MT0iMjcuMzQ3JSIgeTE9IjUwLjg5OCUiIHgyPSI3Ny45MzglIiB5Mj0iNjUuMTk4JSIgaWQ9ImUiPgogICAgICAgICAgICA8c3RvcCBzdG9wLWNvbG9yPSIjMUU3RTAxIiBvZmZzZXQ9IjAlIi8+CiAgICAgICAgICAgIDxzdG9wIHN0b3AtY29sb3I9IiM3MkMwMjgiIG9mZnNldD0iNjAuMzk5JSIvPgogICAgICAgICAgICA8c3RvcCBzdG9wLWNvbG9yPSIjQTREMDU2IiBvZmZzZXQ9IjEwMCUiLz4KICAgICAgICA8L2xpbmVhckdyYWRpZW50PgogICAgPC9kZWZzPgogICAgPGcgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJub256ZXJvIj4KICAgICAgICA8cGF0aCBmaWxsPSIjMTkxQTFDIiBkPSJNMCAwaDExMHYxMTBIMHoiLz4KICAgICAgICA8cGF0aCBkPSJNNjEuODk1IDMwLjk4YzAgMTcuMDg4LTEzLjg1MiAzMC45NC0zMC45MzggMzAuOTRDMTMuODcgNjEuOTIuMDE5IDQ4LjA2Ny4wMTkgMzAuOTguMDE5IDEzLjg5NiAxMy44Ny4wNDQgMzAuOTU3LjA0NGMxNy4wODYgMCAzMC45MzggMTMuODUgMzAuOTM4IDMwLjkzOHoiIGZpbGw9InVybCgjYSkiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDI0IDI0KSIvPgogICAgICAgIDxwYXRoIGQ9Ik02MS44OTUgMzAuOTgxYzAgMTcuMDg4LTEzLjg1MiAzMC45MzktMzAuOTM4IDMwLjkzOUMxMy44NyA2MS45Mi4wMTkgNDguMDY5LjAxOSAzMC45OC4wMTkgMTMuODk2IDEzLjg3LjA0MyAzMC45NTcuMDQzYzE3LjA4NiAwIDMwLjkzOCAxMy44NTEgMzAuOTM4IDMwLjkzOHoiIGZpbGwtb3BhY2l0eT0iLjQ1IiBmaWxsPSJ1cmwoI2IpIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgyNCAyNCkiLz4KICAgICAgICA8cGF0aCBkPSJNOS43MzUgOC40NThjNC44OTMuOTQyIDEwLjYyMiA1LjQxNSAxMy4zMTQgOS4wMjggMS40ODUgMy44MzcgMi43OTcgNi45OTcgNC40NTIgMTAuNTA2YTE2OC40NCAxNjguNDQgMCAwIDEgMy40OTMtMi45NEwzMC45ODcgOS44MWMtMy42NDctMi4yOTQtOS42NzQtNS4zMTItMTYuMjQ0LTUuMTE1YTI5LjA4MyAyOS4wODMgMCAwIDAtNS4wMDggMy43NjJ6IiBmaWxsPSJ1cmwoI2MpIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgyNCAyNCkiLz4KICAgICAgICA8cGF0aCBkPSJNNi42NDggNTAuMDg2YTMxLjI5OSAzMS4yOTkgMCAwIDAgMi44NzkgMy4xODRjLS4xNS04Ljc5MyAxMC4wNDQtMTguMjAyIDE4LTI1LjMwNmwtNC40NjgtMTAuNTMzQzE5LjY1MyAyMS42MTEgNS4zODMgMzguNiA2LjY0OSA1MC4wODZ6IiBmaWxsPSJ1cmwoI2QpIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgyNCAyNCkiLz4KICAgICAgICA8cGF0aCBkPSJNMzAuOTEzIDguNDU4YzQuODk0Ljk0MiAxMC42MjIgNS40MTUgMTMuMzE0IDkuMDI4IDEuNDg1IDMuODM3IDIuNzk3IDYuOTk3IDQuNDUyIDEwLjUwNmExNjguNDQgMTY4LjQ0IDAgMCAxIDMuNDkzLTIuOTRMNTIuMTY1IDkuODFjLTMuNjQ2LTIuMjk0LTkuNjczLTUuMzEyLTE2LjI0NC01LjExNWEyOS4wODMgMjkuMDgzIDAgMCAwLTUuMDA4IDMuNzYyeiIgZmlsbD0idXJsKCNjKSIgdHJhbnNmb3JtPSJtYXRyaXgoLTEgMCAwIDEgMTA3LjA4NiAyNCkiLz4KICAgICAgICA8cGF0aCBkPSJNMzQuNDYgNTAuMDg2YTMxLjI5OSAzMS4yOTkgMCAwIDAgMi44NzggMy4xODRjLS4xNS04Ljc5MyAxMC4wNDUtMTguMjAyIDE4LTI1LjMwNkw1MC44NyAxNy40MzFjLTMuNDA1IDQuMTgtMTcuNjc2IDIxLjE2OS0xNi40MSAzMi42NTV6IiBmaWxsPSJ1cmwoI2UpIiB0cmFuc2Zvcm09Im1hdHJpeCgtMSAwIDAgMSAxMTMuNzE5IDI0KSIvPgogICAgPC9nPgo8L3N2Zz4K"},7333:e=>{"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgNTYwIDU2MCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48ZyBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPjxwYXRoIGZpbGw9IiMzQTQ5NTgiIGQ9Ik0wIDBoNTYwdjU2MEgweiIvPjxwYXRoIGQ9Ik00MjAgMjM4YzAtNy43MjYtNi4yNzUtMTQtMTQtMTRIMTU0Yy03LjcyNyAwLTE0IDYuMjc0LTE0IDE0djg0YzAgNy43MjcgNi4yNzMgMTQgMTQgMTRoMjUyYzcuNzI2IDAgMTQtNi4yNzMgMTQtMTR2LTg0IiBmaWxsLW9wYWNpdHk9Ii4xNDkiIGZpbGw9IiMwMDAiLz48cGF0aCBkPSJNNDA2LjE4IDIyNHMuOTUyLjAzNiAxLjQyNi4wOWMxLjAzNi4xMTkgMi4wNTkuMzU0IDMuMDQzLjcwMSAxLjkxNi42NzUgMy42NzUgMS43NzQgNS4xMjggMy4xOTIgMS40OTIgMS40NTggMi42NTQgMy4yNDYgMy4zNzIgNS4yMDQuMzU4Ljk3OC42MDYgMS45OTcuNzM3IDMuMDMuMDY4LjUzMi4xMTIgMS42MDEuMTEyIDEuNjAxdjg0LjM2cy0uMDQ0IDEuMDY5LS4xMTIgMS42MDFhMTMuOTIxNCAxMy45MjE0IDAgMDEtLjczNyAzLjAzYy0uNzE4IDEuOTU4LTEuODggMy43NDYtMy4zNzIgNS4yMDQtMS40NTMgMS40MTgtMy4yMTIgMi41MTctNS4xMjggMy4xOTItLjk4NC4zNDctMi4wMS41ODItMy4wNDMuNzAxLS40NzQuMDU0LTEuNDI2LjA5LTEuNDI2LjA5SDE1My44MnMtLjk1Mi0uMDM2LTEuNDI2LS4wOWExMy45NDMyIDEzLjk0MzIgMCAwMS0zLjA0My0uNzAxYy0xLjkxNi0uNjc1LTMuNjc1LTEuNzc0LTUuMTI4LTMuMTkyLTEuNDkyLTEuNDU4LTIuNjU0LTMuMjQ2LTMuMzcyLTUuMjA0LS4zNTgtLjk3OC0uNjA2LTEuOTk3LS43MzctMy4wMy0uMDY4LS41MzItLjExMi0xLjYwMS0uMTEyLTEuNjAxdi04NC4zNnMuMDQ0LTEuMDY5LjExMi0xLjYwMWMuMTMxLTEuMDMzLjM3OS0yLjA1Mi43MzctMy4wMy43MTgtMS45NTggMS44OC0zLjc0NiAzLjM3Mi01LjIwNCAxLjQ1My0xLjQxOCAzLjIxMi0yLjUxNyA1LjEyOC0zLjE5Mi45ODQtLjM0NyAyLjAxLS41ODIgMy4wNDMtLjcwMS40NzQtLjA1NCAxLjQyNi0uMDkgMS40MjYtLjA5aDI1Mi4zNm0tMjUyLjE1IDguOTk5cy0uNDA4LjAxLS42MTEuMDMzYy0uNDA2LjA0Ny0uODA2LjE0NC0xLjE4OC4yODktMS4zNDQuNTExLTIuNDM0IDEuNjE0LTIuOTI4IDIuOTYzLS4xOTQuNTI5LS4zIDEuNjQ4LS4zIDEuNjQ4bC4wMDEgODQuMnMuMTEyIDEuMDc0LjI5OSAxLjU4MmMuNDk0IDEuMzQ5IDEuNTg0IDIuNDUyIDIuOTI4IDIuOTYzLjUyNC4yIDEuNjM4LjMyIDEuNjM4LjMyaDI1Mi4yN3MxLjExNC0uMTIgMS42MzktLjMyYzEuMzQzLS41MTEgMi40MzMtMS42MTQgMi45MjctMi45NjMuMTg2LS41MDguMjk5LTEuNTgyLjI5OS0xLjU4MnYtODQuMjdzLS4xMi0xLjExNC0uMzItMS42MzhjLS41MTEtMS4zNDQtMS42MTQtMi40MzQtMi45NjMtMi45MjgtLjUwOC0uMTg3LTEuNTgyLS4yOTktMS41ODItLjI5OWwtMjUyLjEtLjAwMk0yMTkuMzMzIDI5NmgtNi45NjI5di0yNy4wNDNoLTguOTE3di01Ljc5NDlIMjI4LjI1djUuNzk1aC04LjkxN1YyOTZ6bTQwLjY5OTItMzIuODM3OXYyMS4yNDhjMCAyLjQyNTktLjU0MjggNC41NTIxLTEuNjI4NCA2LjM3OS0xLjA4NTYgMS44MjY4LTIuNjU0MSAzLjIyNjgtNC43MDU2IDQuMjAwMi0yLjA1MTQuOTczMy00LjQ3NzIgMS40Ni03LjI3NzMgMS40Ni00LjIyMjcgMC03LjUwMi0xLjA4Mi05LjgzNzktMy4yNDU3LTIuMzM2LTIuMTYzNy0zLjUwMzktNS4xMjQ4LTMuNTAzOS04Ljg4MzN2LTIxLjE1ODJoNi45NDA0djIwLjEwMjVjMCAyLjUzMDcuNTA5MSA0LjM4NzQgMS41Mjc0IDUuNTcwNCAxLjAxODIgMS4xODMgMi43MDI4IDEuNzc0NCA1LjA1MzcgMS43NzQ0IDIuMjc2IDAgMy45MjY5LS41OTUyIDQuOTUyNi0xLjc4NTcgMS4wMjU3LTEuMTkwNCAxLjUzODYtMy4wNTg0IDEuNTM4Ni01LjYwNHYtMjAuMDU3Nmg2Ljk0MDR6TTI5Ny4yMDUxIDI5NmgtOC44NDk2bC0xNC4yODUyLTI0Ljg0MThoLS4yMDIxYy4yODQ1IDQuMzg3NC40MjY3IDcuNTE3LjQyNjcgOS4zODg3VjI5NmgtNi4yMjE3di0zMi44Mzc5aDguNzgyM2wxNC4yNjI3IDI0LjU5NDdoLjE1NzJjLS4yMjQ2LTQuMjY3Ni0uMzM3LTcuMjg0OC0uMzM3LTkuMDUxN3YtMTUuNTQzaDYuMjY2N1YyOTZ6bTI3LjE3NzcgMGgtMTguOTEyMXYtMzIuODM3OWgxOC45MTIxdjUuNzA1aC0xMS45NDkydjcuMjFoMTEuMTE4MnY1LjcwNTFoLTExLjExODJ2OC40Njc4aDExLjk0OTJWMjk2em0xMy44MTM1LTE4LjI2MDdoMi4yNDZjMi4yMDEzIDAgMy44MjYtLjM2NjkgNC44NzQxLTEuMTAwNiAxLjA0ODItLjczMzggMS41NzIzLTEuODg2NyAxLjU3MjMtMy40NTkgMC0xLjU1NzMtLjUzNTMtMi42NjU0LTEuNjA2LTMuMzI0Mi0xLjA3MDYtLjY1ODktMi43MjktLjk4ODMtNC45NzUtLjk4ODNoLTIuMTExNHY4Ljg3MnptMCA1LjY2MDFWMjk2aC02Ljk2Mjl2LTMyLjgzNzloOS41Njg0YzQuNDYyMiAwIDcuNzY0LjgxMjMgOS45MDUyIDIuNDM3IDIuMTQxMyAxLjYyNDcgMy4yMTIgNC4wOTE2IDMuMjEyIDcuNDAwOSAwIDEuOTMxNi0uNTMxNiAzLjY0OTktMS41OTQ4IDUuMTU0OC0xLjA2MzEgMS41MDQ5LTIuNTY4IDIuNjg0LTQuNTE0NiAzLjUzNzYgNC45NDE0IDcuMzgyMiA4LjE2MDggMTIuMTUxMyA5LjY1ODIgMTQuMzA3NmgtNy43MjY2bC03LjgzODktMTIuNjAwNmgtMy43MDZ6IiBmaWxsPSIjQ0ZDRkNGIi8+PC9nPjwvc3ZnPg=="},54346:e=>{"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgNTYwIDU2MCIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHN0eWxlPSJzdHJva2UtbWl0ZXJsaW1pdDoxLjQxNDIxO2NsaXAtcnVsZTpldmVub2RkO2ZpbGwtcnVsZTpldmVub2RkO3N0cm9rZS1saW5lam9pbjpyb3VuZCI+CiA8cmVjdCB3aWR0aD0iNTYwIiBoZWlnaHQ9IjU2MCIgc3R5bGU9ImZpbGw6IzJmNDc0MSIvPgogPHBhdGggZD0ibTE0MCAyNDRjMC04LjI0MyA1LjgzMi0xNS4zNDcgMTQtMTYuNTE2bDI4LTMuNDgzaDE5NmwyOCAzLjQ4M2M4LjE4MyAxLjE2OSAxNCA4LjI4MSAxNCAxNi41MTZ2NzJjMCA4LjI0My01LjgzMiAxNS4zNDctMTQgMTYuNTE2bC0yOCAzLjQ4M2gtMTk2bC0yOC0zLjQ4M2MtOC4xODMtMS4xNjktMTQtOC4yODEtMTQtMTYuNTE2di03MiIgc3R5bGU9ImZpbGwtb3BhY2l0eTouMTQ5MDIiLz4KIDxwYXRoIGQ9Im0zNzggMzM2aC0xOTZsLTI4LTMuNDgzYy0uNTA2LS4wNzUtMS4wMS0uMTY4LTEuNTA2LS4yODgtMS4wODktLjI2MS0yLjE0OS0uNjM3LTMuMTU5LTEuMTItMi4xMzItMS4wMTgtNC4wMi0yLjUxNC01LjUyLTQuMzQtMS4yMzEtMS41MDItMi4xOTQtMy4yMi0yLjg0MS01LjA1LS40MzQtMS4yMzItLjcyNi0yLjUxMy0uODY5LTMuODExLS4wNjMtLjU2OS0uMTA0LTEuNzE0LS4xMDQtMS43MTR2LTcyLjM5YzAgMCAuMDQxLTEuMTQ2LjEwNC0xLjcxNi4xNDQtMS4yOTkuNDM2LTIuNTgxLjg3MS0zLjgxMi42NDgtMS44MzIgMS42MTItMy41NTEgMi44NDUtNS4wNSAxLjQ5OC0xLjgyNSAzLjM4OS0zLjMyIDUuNTE5LTQuMzM4IDEuMDEtLjQ4MiAyLjA2OS0uODU3IDMuMTU2LTEuMTE5LjQ5Ny0uMTE5Ljk5OS0uMjEyIDEuNTA0LS4yODdsMjgtMy40ODNoMTk2YzAgMCAxOC42NjcgMi4zMjIgMjggMy40ODMuNTA2LjA3NSAxLjAxLjE2OCAxLjUwNi4yODggMS4wODkuMjYxIDIuMTQ5LjYzNyAzLjE1OSAxLjEyIDIuMTMyIDEuMDE4IDQuMDIgMi41MTQgNS41MiA0LjM0IDEuMjMxIDEuNTAyIDIuMTk0IDMuMjIgMi44NDEgNS4wNS40MzQgMS4yMzIuNzI2IDIuNTEzLjg2OSAzLjgxMS4wNjMuNTY5LjEwNCAxLjcxNC4xMDQgMS43MTR2NzIuMzljMCAwLS4wNDEgMS4xNDYtLjEwNCAxLjcxNi0uMTQ0IDEuMjk5LS40MzYgMi41ODEtLjg3MSAzLjgxMi0uNjQ4IDEuODMyLTEuNjEyIDMuNTUxLTIuODQ1IDUuMDUtMS40OTggMS44MjUtMy4zODkgMy4zMi01LjUxOSA0LjMzOC0xLjAxLjQ4Mi0yLjA2OS44NTctMy4xNTYgMS4xMTktLjQ5Ny4xMTktLjk5OS4yMTItMS41MDQuMjg3bC0yOCAzLjQ4M20tLjU1OC0xMDNoLTE5NC44OGMtOS4xMjQgMS4xMzUtMTguMjc4IDIuMDUyLTI3LjM3MiAzLjQwNS0uMTEzLjAxOS0uMjI2LjAzOS0uMzM4LjA2MS0uNjQxLjEzNC0xLjI2LjM0OC0xLjg0MS42NS0uOTMxLjQ4Ni0xLjc0NSAxLjE4My0yLjM4NCAyLjAxLS40OTcuNjQ4LS44ODkgMS4zNzYtMS4xNjEgMi4xNDYtLjI5OS44NDYtLjQ2MSAyLjYyOS0uNDYxIDIuNjI5bC4wMDEgNzIuMjhjMCAwIC4xOTMgMS44MzQuNTE5IDIuNjk3LjI4Ny43NjIuNjkyIDEuNDc5IDEuMjAyIDIuMTE0LjY3MS44MzcgMS41MjQgMS41MjggMi40OTMgMS45OTEuNTk4LjI4NiAxLjIzMi40NzkgMS44ODQuNTkybC4wODcuMDE0LjAzMi4wMDQgMjcuMzM5IDMuNDAxaDE5NC44OGMwIDAgMTguMjc4LTIuMDUyIDI3LjM3MS0zLjQwNS42ODEtLjExIDEuMzQzLS4zMDcgMS45NjYtLjYwNCAxLjAyLS40ODggMS45MS0xLjIyNiAyLjU5OC0yLjEyMi40OC0uNjI1Ljg2MS0xLjMyNSAxLjEzMi0yLjA2NS4zMTctLjg2OS40OS0yLjcxLjQ5LTIuNzFsLS4wMDEtNzIuMjhjMCAwLS4xOTMtMS44MzQtLjUxOS0yLjY5OC0uMjg3LS43NjEtLjY5Mi0xLjQ3OC0xLjIwMS0yLjExMy0uNjU1LS44MTYtMS40ODItMS40OTQtMi40MjItMS45NTYtLjYxOS0uMzA1LTEuMjc4LS41MDktMS45NTYtLjYyN2wtLjA4Ni0uMDEzLS4wMzItLjAwNS0yNy4zNC0zLjQwMW0tMTMuNDQyIDM4YzQuOTY3IDAgOSA0LjAzIDkgOSAwIDQuOTY3LTQuMDMgOS05IDktNC45NjcgMC05LTQuMDMtOS05IDAtNC45NjcgNC4wMy05IDktOW0tNDIgMGM0Ljk2NyAwIDkgNC4wMyA5IDkgMCA0Ljk2Ny00LjAzIDktOSA5LTQuOTY3IDAtOS00LjAzLTktOSAwLTQuOTY3IDQuMDMtOSA5LTltLTEyNiAwYzQuOTY3IDAgOSA0LjAzIDkgOSAwIDQuOTY3LTQuMDMgOS05IDktNC45NjcgMC05LTQuMDMtOS05IDAtNC45NjcgNC4wMy05IDktOSIgc3R5bGU9ImZpbGw6IzkxYzUzYiIvPgo8L3N2Zz4K"},8955:e=>{"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgNTYwIDU2MCIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHN0eWxlPSJzdHJva2UtbWl0ZXJsaW1pdDoxLjQxNDIxO2NsaXAtcnVsZTpldmVub2RkO2ZpbGwtcnVsZTpldmVub2RkO3N0cm9rZS1saW5lam9pbjpyb3VuZCI+CiA8cmVjdCB3aWR0aD0iNTYwIiBoZWlnaHQ9IjU2MCIgc3R5bGU9ImZpbGw6IzQxNDEzZSIvPgogPHBhdGggZD0ibTg0IDI0NGMwLTguMjQzIDUuODMyLTE1LjM0NyAxNC0xNi41MTZsNTYtMy40ODNoMjUybDU2IDMuNDgzYzguMTgzIDEuMTY5IDE0IDguMjgxIDE0IDE2LjUxNnY3MmMwIDguMjQzLTUuODMyIDE1LjM0Ny0xNCAxNi41MTZsLTU2IDMuNDgzaC0yNTJsLTU2LTMuNDgzYy04LjE4My0xLjE2OS0xNC04LjI4MS0xNC0xNi41MTZ2LTcyIiBzdHlsZT0iZmlsbC1vcGFjaXR5Oi4xNDkwMiIvPgogPHBhdGggZD0ibTQwNiAzMzZoLTI1MmwtNTYtMy40ODNjLS41MDYtLjA3NS0xLjAxLS4xNjgtMS41MDYtLjI4OC0xLjA4OS0uMjYxLTIuMTQ5LS42MzctMy4xNTktMS4xMi0yLjEzMi0xLjAxOC00LjAyLTIuNTE0LTUuNTItNC4zNC0xLjIzMS0xLjUwMi0yLjE5NC0zLjIyLTIuODQxLTUuMDUtLjQzNC0xLjIzMi0uNzI2LTIuNTEzLS44NjktMy44MTEtLjA2My0uNTY5LS4xMDQtMS43MTQtLjEwNC0xLjcxNHYtNzIuMzljMCAwIC4wNDEtMS4xNDYuMTA0LTEuNzE2LjE0NC0xLjI5OS40MzYtMi41ODEuODcxLTMuODEyLjY0OC0xLjgzMiAxLjYxMi0zLjU1MSAyLjg0NS01LjA1IDEuNDk4LTEuODI1IDMuMzg5LTMuMzIgNS41MTktNC4zMzggMS4wMS0uNDgyIDIuMDY5LS44NTcgMy4xNTYtMS4xMTkuNDk3LS4xMTkuOTk5LS4yMTIgMS41MDQtLjI4N2w1Ni0zLjQ4M2gyNTJjMCAwIDM3LjMzIDIuMzIyIDU2IDMuNDgzLjUwNi4wNzUgMS4wMS4xNjggMS41MDYuMjg4IDEuMDg5LjI2MSAyLjE0OS42MzcgMy4xNTkgMS4xMiAyLjEzMiAxLjAxOCA0LjAyIDIuNTE0IDUuNTIgNC4zNCAxLjIzMSAxLjUwMiAyLjE5NCAzLjIyIDIuODQxIDUuMDUuNDM0IDEuMjMyLjcyNiAyLjUxMy44NjkgMy44MTEuMDYzLjU2OS4xMDQgMS43MTQuMTA0IDEuNzE0djcyLjM5YzAgMC0uMDQxIDEuMTQ2LS4xMDQgMS43MTYtLjE0NCAxLjI5OS0uNDM2IDIuNTgxLS44NzEgMy44MTItLjY0OCAxLjgzMi0xLjYxMiAzLjU1MS0yLjg0NSA1LjA1LTEuNDk4IDEuODI1LTMuMzg5IDMuMzItNS41MTkgNC4zMzgtMS4wMS40ODItMi4wNjkuODU3LTMuMTU2IDEuMTE5LS40OTcuMTE5LS45OTkuMjEyLTEuNTA0LjI4N2wtNTYgMy40ODNtLS4yOC0xMDNoLTI1MS40NGwtNTUuMjkgMy40MzljLS4xMDMuMDE5LS4yMDYuMDQtLjMwOC4wNjMtLjYwOC4xNDItMS4xOTUuMzU2LTEuNzQ1LjY1MS0uOTUxLjUxLTEuNzc2IDEuMjQxLTIuNDEzIDIuMTExLS40NTEuNjE0LS44MDggMS4yOTUtMS4wNjIgMi4wMS0uMjk5Ljg0NS0uNDYxIDIuNjI4LS40NjEgMi42Mjh2NzIuMjhjMCAwIC4xOTMgMS44MzQuNTE5IDIuNjk4LjI4Ny43NjEuNjkyIDEuNDc4IDEuMjAyIDIuMTEzLjY3MS44MzggMS41MjQgMS41MjggMi40OTMgMS45OTEuNTYzLjI2OSAxLjE2LjQ1OSAxLjc3NC41NzJsNTUuMjkgMy40MzloMjUxLjQ0bDU1LjI5LTMuNDM5Yy42MTItLjExMyAxLjIwNy0uMzAyIDEuNzY5LS41NyAxLjAyLS40ODggMS45MS0xLjIyNiAyLjU5OC0yLjEyMi40OC0uNjI1Ljg2MS0xLjMyNSAxLjEzMi0yLjA2NS4zMTctLjg2OS40OS0yLjcxLjQ5LTIuNzFsLS4wMDEtNzIuMjhjMCAwLS4xOTMtMS44MzQtLjUxOS0yLjY5OC0uMjg3LS43NjEtLjY5Mi0xLjQ3OC0xLjIwMS0yLjExMy0uNjcyLS44MzgtMS41MjUtMS41MjgtMi40OTUtMS45OTItLjU2My0uMjY5LTEuMTYtLjQ1OC0xLjc3My0uNTcxbC01NS4yOS0zLjQzOW0tNDEuNzIgMzhjNC45NjcgMCA5IDQuMDMgOSA5IDAgNC45NjctNC4wMyA5LTkgOS00Ljk2NyAwLTktNC4wMy05LTkgMC00Ljk2NyA0LjAzLTkgOS05bS00MiAwYzQuOTY3IDAgOSA0LjAzIDkgOSAwIDQuOTY3LTQuMDMgOS05IDktNC45NjcgMC05LTQuMDMtOS05IDAtNC45NjcgNC4wMy05IDktOW0tNDIgMGM0Ljk2NyAwIDkgNC4wMyA5IDkgMCA0Ljk2Ny00LjAzIDktOSA5LTQuOTY3IDAtOS00LjAzLTktOSAwLTQuOTY3IDQuMDMtOSA5LTltLTg0IDBjNC45NjcgMCA5IDQuMDMgOSA5IDAgNC45NjctNC4wMyA5LTkgOS00Ljk2NyAwLTktNC4wMy05LTkgMC00Ljk2NyA0LjAzLTkgOS05bS00MiAwYzQuOTY3IDAgOSA0LjAzIDkgOSAwIDQuOTY3LTQuMDMgOS05IDktNC45NjcgMC05LTQuMDMtOS05IDAtNC45NjcgNC4wMy05IDktOSIgc3R5bGU9ImZpbGw6I2Y3OTQxZSIvPgo8L3N2Zz4K"},72066:e=>{"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgNTYwIDU2MCIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHN0eWxlPSJzdHJva2UtbWl0ZXJsaW1pdDoxLjQxNDIxO2NsaXAtcnVsZTpldmVub2RkO2ZpbGwtcnVsZTpldmVub2RkO3N0cm9rZS1saW5lam9pbjpyb3VuZCI+CiA8cmVjdCB3aWR0aD0iNTYwIiBoZWlnaHQ9IjU2MCIgc3R5bGU9ImZpbGw6IzFlNDI1NCIvPgogPHBhdGggZD0ibTQyMCAyMzhjMC03LjcyNi02LjI3NS0xNC0xNC0xNGgtMjUyYy03LjcyNyAwLTE0IDYuMjc0LTE0IDE0djg0YzAgNy43MjcgNi4yNzMgMTQgMTQgMTRoMjUyYzcuNzI2IDAgMTQtNi4yNzMgMTQtMTR2LTg0IiBzdHlsZT0iZmlsbC1vcGFjaXR5Oi4xNDkwMiIvPgogPHBhdGggZD0ibTQwNi4xOCAyMjRjMCAwIC45NTIuMDM2IDEuNDI2LjA5IDEuMDM2LjExOSAyLjA1OS4zNTQgMy4wNDMuNzAxIDEuOTE2LjY3NSAzLjY3NSAxLjc3NCA1LjEyOCAzLjE5MiAxLjQ5MiAxLjQ1OCAyLjY1NCAzLjI0NiAzLjM3MiA1LjIwNC4zNTguOTc4LjYwNiAxLjk5Ny43MzcgMy4wMy4wNjguNTMyLjExMiAxLjYwMS4xMTIgMS42MDF2ODQuMzZjMCAwLS4wNDQgMS4wNjktLjExMiAxLjYwMS0uMTMxIDEuMDMzLS4zNzkgMi4wNTItLjczNyAzLjAzLS43MTggMS45NTgtMS44OCAzLjc0Ni0zLjM3MiA1LjIwNC0xLjQ1MyAxLjQxOC0zLjIxMiAyLjUxNy01LjEyOCAzLjE5Mi0uOTg0LjM0Ny0yLjAxLjU4Mi0zLjA0My43MDEtLjQ3NC4wNTQtMS40MjYuMDktMS40MjYuMDloLTI1Mi4zNmMwIDAtLjk1Mi0uMDM2LTEuNDI2LS4wOS0xLjAzNi0uMTE5LTIuMDU5LS4zNTQtMy4wNDMtLjcwMS0xLjkxNi0uNjc1LTMuNjc1LTEuNzc0LTUuMTI4LTMuMTkyLTEuNDkyLTEuNDU4LTIuNjU0LTMuMjQ2LTMuMzcyLTUuMjA0LS4zNTgtLjk3OC0uNjA2LTEuOTk3LS43MzctMy4wMy0uMDY4LS41MzItLjExMi0xLjYwMS0uMTEyLTEuNjAxdi04NC4zNmMwIDAgLjA0NC0xLjA2OS4xMTItMS42MDEuMTMxLTEuMDMzLjM3OS0yLjA1Mi43MzctMy4wMy43MTgtMS45NTggMS44OC0zLjc0NiAzLjM3Mi01LjIwNCAxLjQ1My0xLjQxOCAzLjIxMi0yLjUxNyA1LjEyOC0zLjE5Mi45ODQtLjM0NyAyLjAxLS41ODIgMy4wNDMtLjcwMS40NzQtLjA1NCAxLjQyNi0uMDkgMS40MjYtLjA5aDI1Mi4zNm0tMjUyLjE1IDguOTk5YzAgMC0uNDA4LjAxLS42MTEuMDMzLS40MDYuMDQ3LS44MDYuMTQ0LTEuMTg4LjI4OS0xLjM0NC41MTEtMi40MzQgMS42MTQtMi45MjggMi45NjMtLjE5NC41MjktLjMgMS42NDgtLjMgMS42NDhsLjAwMSA4NC4yYzAgMCAuMTEyIDEuMDc0LjI5OSAxLjU4Mi40OTQgMS4zNDkgMS41ODQgMi40NTIgMi45MjggMi45NjMuNTI0LjIgMS42MzguMzIgMS42MzguMzJoMjUyLjI3YzAgMCAxLjExNC0uMTIgMS42MzktLjMyIDEuMzQzLS41MTEgMi40MzMtMS42MTQgMi45MjctMi45NjMuMTg2LS41MDguMjk5LTEuNTgyLjI5OS0xLjU4MnYtODQuMjdjMCAwLS4xMi0xLjExNC0uMzItMS42MzgtLjUxMS0xLjM0NC0xLjYxNC0yLjQzNC0yLjk2My0yLjkyOC0uNTA4LS4xODctMS41ODItLjI5OS0xLjU4Mi0uMjk5bC0yNTIuMS0uMDAybTEwMS43MSA2My40MmgtNi45NjN2LTMyLjgzOGg2Ljk2M3YxMi44N2gxMy4wMXYtMTIuODdoNi45NDF2MzIuODM4aC02Ljk0MXYtMTQuMTczaC0xMy4wMXYxNC4xNzNtMzcuNTMyIDBoLTkuMjk4di0zMi44MzhoMTAuMzA5YzUuMzYxIDAgOS41MjQgMS40MTUgMTIuNDg4IDQuMjQ1IDIuOTY1IDIuODMgNC40NDggNi43ODMgNC40NDggMTEuODYgMCA1LjQwNS0xLjUzOSA5LjU0NS00LjYxNiAxMi40Mi0zLjA3NyAyLjg3NS03LjUyIDQuMzEzLTEzLjMzMSA0LjMxM20xLjM3MS0yNy4xM2gtMy43MDd2MjEuMzgzaDIuOTg4YzYuNzA4IDAgMTAuMDYtMy42MDEgMTAuMDYtMTAuODA0IDAtNy4wNS0zLjExNC0xMC41NzktOS4zNDMtMTAuNTc5IiBzdHlsZT0iZmlsbDojMzFhZmMwIi8+Cjwvc3ZnPgo="},79029:e=>{"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgNTYwIDU2MCIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHN0eWxlPSJzdHJva2UtbWl0ZXJsaW1pdDoxLjQxNDIxO2NsaXAtcnVsZTpldmVub2RkO2ZpbGwtcnVsZTpldmVub2RkO3N0cm9rZS1saW5lam9pbjpyb3VuZCI+CiA8cmVjdCB3aWR0aD0iNTYwIiBoZWlnaHQ9IjU2MCIgc3R5bGU9ImZpbGw6IzJmMzM0ZCIvPgogPHBhdGggZD0ibTg0IDI0NGMwLTguMjQzIDUuODMyLTE1LjM0NyAxNC0xNi41MTZsNTYtMy40ODNoMjUybDU2IDMuNDgzYzguMTgzIDEuMTY5IDE0IDguMjgxIDE0IDE2LjUxNnY3MmMwIDguMjQzLTUuODMyIDE1LjM0Ny0xNCAxNi41MTZsLTU2IDMuNDgzaC0yNTJsLTU2LTMuNDgzYy04LjE4My0xLjE2OS0xNC04LjI4MS0xNC0xNi41MTZ2LTcyIiBzdHlsZT0iZmlsbC1vcGFjaXR5Oi4xNDkwMiIvPgogPHBhdGggZD0ibTQwNiAzMzZoLTI1MmwtNTYtMy40ODNjLS41MDYtLjA3NS0xLjAxLS4xNjgtMS41MDYtLjI4OC0xLjA4OS0uMjYxLTIuMTQ5LS42MzctMy4xNTktMS4xMi0yLjEzMi0xLjAxOC00LjAyLTIuNTE0LTUuNTItNC4zNC0xLjIzMS0xLjUwMi0yLjE5NC0zLjIyLTIuODQxLTUuMDUtLjQzNC0xLjIzMi0uNzI2LTIuNTEzLS44NjktMy44MTEtLjA2My0uNTY5LS4xMDQtMS43MTQtLjEwNC0xLjcxNHYtNzIuMzljMCAwIC4wNDEtMS4xNDYuMTA0LTEuNzE2LjE0NC0xLjI5OS40MzYtMi41ODEuODcxLTMuODEyLjY0OC0xLjgzMiAxLjYxMi0zLjU1MSAyLjg0NS01LjA1IDEuNDk4LTEuODI1IDMuMzg5LTMuMzIgNS41MTktNC4zMzggMS4wMS0uNDgyIDIuMDY5LS44NTcgMy4xNTYtMS4xMTkuNDk3LS4xMTkuOTk5LS4yMTIgMS41MDQtLjI4N2w1Ni0zLjQ4M2gyNTJjMCAwIDM3LjMzIDIuMzIyIDU2IDMuNDgzLjUwNi4wNzUgMS4wMS4xNjggMS41MDYuMjg4IDEuMDg5LjI2MSAyLjE0OS42MzcgMy4xNTkgMS4xMiAyLjEzMiAxLjAxOCA0LjAyIDIuNTE0IDUuNTIgNC4zNCAxLjIzMSAxLjUwMiAyLjE5NCAzLjIyIDIuODQxIDUuMDUuNDM0IDEuMjMyLjcyNiAyLjUxMy44NjkgMy44MTEuMDYzLjU2OS4xMDQgMS43MTQuMTA0IDEuNzE0djcyLjM5YzAgMC0uMDQxIDEuMTQ2LS4xMDQgMS43MTYtLjE0NCAxLjI5OS0uNDM2IDIuNTgxLS44NzEgMy44MTItLjY0OCAxLjgzMi0xLjYxMiAzLjU1MS0yLjg0NSA1LjA1LTEuNDk4IDEuODI1LTMuMzg5IDMuMzItNS41MTkgNC4zMzgtMS4wMS40ODItMi4wNjkuODU3LTMuMTU2IDEuMTE5LS40OTcuMTE5LS45OTkuMjEyLTEuNTA0LjI4N2wtNTYgMy40ODNtLS4yOC0xMDNoLTI1MS40NGwtNTUuMjkgMy40MzljLS4xMDMuMDE5LS4yMDYuMDQtLjMwOC4wNjMtLjYwOC4xNDItMS4xOTUuMzU2LTEuNzQ1LjY1MS0uOTUxLjUxLTEuNzc2IDEuMjQxLTIuNDEzIDIuMTExLS40NTEuNjE0LS44MDggMS4yOTUtMS4wNjIgMi4wMS0uMjk5Ljg0NS0uNDYxIDIuNjI4LS40NjEgMi42Mjh2NzIuMjhjMCAwIC4xOTMgMS44MzQuNTE5IDIuNjk4LjI4Ny43NjEuNjkyIDEuNDc4IDEuMjAyIDIuMTEzLjY3MS44MzggMS41MjQgMS41MjggMi40OTMgMS45OTEuNTYzLjI2OSAxLjE2LjQ1OSAxLjc3NC41NzJsNTUuMjkgMy40MzloMjUxLjQ0bDU1LjI5LTMuNDM5Yy42MTItLjExMyAxLjIwNy0uMzAyIDEuNzY5LS41NyAxLjAyLS40ODggMS45MS0xLjIyNiAyLjU5OC0yLjEyMi40OC0uNjI1Ljg2MS0xLjMyNSAxLjEzMi0yLjA2NS4zMTctLjg2OS40OS0yLjcxLjQ5LTIuNzFsLS4wMDEtNzIuMjhjMCAwLS4xOTMtMS44MzQtLjUxOS0yLjY5OC0uMjg3LS43NjEtLjY5Mi0xLjQ3OC0xLjIwMS0yLjExMy0uNjcyLS44MzgtMS41MjUtMS41MjgtMi40OTUtMS45OTItLjU2My0uMjY5LTEuMTYtLjQ1OC0xLjc3My0uNTcxbC01NS4yOS0zLjQzOW0tNDEuNzIgMzhjNC45NjcgMCA5IDQuMDMgOSA5IDAgNC45NjctNC4wMyA5LTkgOS00Ljk2NyAwLTktNC4wMy05LTkgMC00Ljk2NyA0LjAzLTkgOS05bS00MiAwYzQuOTY3IDAgOSA0LjAzIDkgOSAwIDQuOTY3LTQuMDMgOS05IDktNC45NjcgMC05LTQuMDMtOS05IDAtNC45NjcgNC4wMy05IDktOW0tNDIgMGM0Ljk2NyAwIDkgNC4wMyA5IDkgMCA0Ljk2Ny00LjAzIDktOSA5LTQuOTY3IDAtOS00LjAzLTktOSAwLTQuOTY3IDQuMDMtOSA5LTltLTg0IDBjNC45NjcgMCA5IDQuMDMgOSA5IDAgNC45NjctNC4wMyA5LTkgOS00Ljk2NyAwLTktNC4wMy05LTkgMC00Ljk2NyA0LjAzLTkgOS05bS00MiAwYzQuOTY3IDAgOSA0LjAzIDkgOSAwIDQuOTY3LTQuMDMgOS05IDktNC45NjcgMC05LTQuMDMtOS05IDAtNC45NjcgNC4wMy05IDktOSIgc3R5bGU9ImZpbGw6Izk0NTA4ZCIvPgo8L3N2Zz4K"},21054:e=>{"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTAiIGhlaWdodD0iMjQiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CiAgPHBhdGggZD0iTTQ2Ljg5NyAyNEgzLjEyN2EuMzAyLjMwMiAwIDAgMS0uMjI1LS4xYy0uMDY2LS4wNjYtLjA2Ni0uMTY1LS4wNjYtLjI2NS4wMzItLjIuMDY2LS40LjA2Ni0uNTk5QTIuNjAzIDIuNjAzIDAgMCAwIC4zIDIwLjQ0SC4yOTlBLjI5OC4yOTggMCAwIDEgMCAyMC4xNDF2LTEuMzAzYzAtLjE2NS4xMzQtLjI5OC4yOTktLjI5OGEuNTMyLjUzMiAwIDEgMCAwLTEuMDY0LjI5OC4yOTggMCAwIDEtLjI5OS0uMjk5di0xLjMwMmMwLS4xNjUuMTM0LS4yOTguMjk5LS4yOThhLjUzMi41MzIgMCAxIDAgMC0xLjA2NS4yOTguMjk4IDAgMCAxLS4yOTktLjI5OFYxMi45MWMwLS4xNjUuMTM0LS4yOTguMjk5LS4yOThhLjUzMi41MzIgMCAxIDAgMC0xLjA2NUEuMjk4LjI5OCAwIDAgMSAwIDExLjI1VjkuOTQ1YzAtLjE2NS4xMzQtLjI5OS4yOTktLjI5OWEuNTMzLjUzMyAwIDEgMC0uMDAxLTEuMDY0QS4zNjMuMzYzIDAgMCAxIDAgOC4yMjVWNi45MmMwLS4xNjUuMTM0LS4yOTguMjk5LS4yOThhLjUzMi41MzIgMCAxIDAgMC0xLjA2NUEuMjk4LjI5OCAwIDAgMSAwIDUuMjU4di0xLjI2QzAgMy44MzUuMTM0IDMuNy4yOTkgMy43YTIuNjAzIDIuNjAzIDAgMCAwIDIuNjAzLTIuNTk2di0uMDJjMC0uMjY2LS4wMzctLjQ2Mi0uMS0uNjg1LS4wMzMtLjEgMC0uMi4wMzQtLjI2NUMyLjkwMy4wNjYgMy4wMDMgMCAzLjA2OSAwaDQzLjg2MmMuMSAwIC4yLjAzNC4yMzMuMTM0LjA2OC4wNjYuMDY4LjE2NS4wMzkuMjQ1YTIuMzk2IDIuMzk2IDAgMCAwLS4xMDUuNzA1di4wMkEyLjYwMyAyLjYwMyAwIDAgMCA0OS43IDMuN2guMDAxYy4xNjUgMCAuMjk5LjEzNC4yOTkuMjk5djEuMjU5YS4yOTguMjk4IDAgMCAxLS4yOTkuMjk4bC0uMDAyLjAwM2EuNTM5LjUzOSAwIDAgMC0uNTMzLjUzOHYuMDE2YzAgLjI5LjIzNS41MjUuNTI2LjUyNWguMDA4Yy4xNjUgMCAuMjk5LjEzNC4yOTkuMjk5djEuMjk4YS4yOTguMjk4IDAgMCAxLS4yOTkuMjk4LjUzMi41MzIgMCAxIDAgMCAxLjA2NWMuMTY1IDAgLjI5OS4xMzMuMjk5LjI5OHYxLjI5OWEuMjk4LjI5OCAwIDAgMS0uMjk5LjI5OC41MzIuNTMyIDAgMSAwIDAgMS4wNjVjLjE2NSAwIC4yOTkuMTMzLjI5OS4yOTh2MS4yOTlhLjI5OC4yOTggMCAwIDEtLjI5OS4yOTguNTMyLjUzMiAwIDEgMCAwIDEuMDY0Yy4xNjUgMCAuMjk5LjEzNC4yOTkuMjk5djEuMjk4YS4yOTguMjk4IDAgMCAxLS4yOTkuMjk4LjUzMi41MzIgMCAxIDAgMCAxLjA2NWMuMTY1IDAgLjI5OS4xMzMuMjk5LjI5OHYxLjI5OWEuMjk4LjI5OCAwIDAgMS0uMjk5LjI5OCAyLjYwMyAyLjYwMyAwIDAgMC0yLjYwMyAyLjU5N2MwIC4yLjA0My4zOTguMDY2LjU5Ny4wMTYuMTM4LjA1OC4yNiAwIC4zNDQtLjA2Mi4wOS0uMTY2LjA5LS4yNjYuMDl6TTQ2LjUzMS42NUgzLjQ3Yy4wMzQuMTY2LjAzNC4zNjYuMDM0LjUzMkEzLjIxOSAzLjIxOSAwIDAgMSAuNiA0LjM3N3YuNjkyYy41LjEzNC44MzMuNTY2LjgzMyAxLjA5OEExLjE1IDEuMTUgMCAwIDEgLjYgNy4yNjR2Ljc2NmMuNS4xMzMuODMzLjU2Ni44MzMgMS4wOThBMS4xNSAxLjE1IDAgMCAxIC42IDEwLjIyNXYuNzY1Yy41LjEzNC44MzMuNTY2LjgzMyAxLjA5OUExLjE1IDEuMTUgMCAwIDEgLjYgMTMuMTg2di43NjVjLjUuMTMzLjgzMy41NjYuODMzIDEuMDk4QTEuMTUgMS4xNSAwIDAgMSAuNiAxNi4xNDZ2Ljc2NmMuNS4xMzMuODMzLjU2Ni44MzMgMS4wOThBMS4xNSAxLjE1IDAgMCAxIC42IDE5LjEwN2wuMDEzLjczM2EzLjIxNiAzLjIxNiAwIDAgMSAyLjg4OSAzLjE5NGMuMDMzLjEgMCAuMjMzIDAgLjMzM0g0Ni41M2MwLS4xMzMtLjAzNC0uMjMzLS4wMzQtLjMzM0EzLjIxOSAzLjIxOSAwIDAgMSA0OS40IDE5Ljg0di0uNzQ0YTEuMTEgMS4xMSAwIDAgMS0uODMzLTEuMDk4QTEuMTUgMS4xNSAwIDAgMSA0OS40IDE2Ljl2LS43NjVhMS4xMSAxLjExIDAgMCAxLS44MzMtMS4wOTkgMS4xNSAxLjE1IDAgMCAxIC44MzMtMS4wOTd2LS43NjVhMS4xMSAxLjExIDAgMCAxLS44MzMtMS4wOTggMS4xNSAxLjE1IDAgMCAxIC44MzMtMS4wOTd2LS43NjZhMS4xMSAxLjExIDAgMCAxLS44MzMtMS4wOTggMS4xNSAxLjE1IDAgMCAxIC44MzMtMS4wOTd2LS43NjZhMS4wOTUgMS4wOTUgMCAwIDEtLjgzMy0xLjA4NkExLjE1IDEuMTUgMCAwIDEgNDkuNCA1LjA3bC0uMDEzLS42OTNhMy4yMTYgMy4yMTYgMCAwIDEtMi44ODktMy4xOTVjMC0uMiAwLS4zNjYuMDM0LS41MzJ6bS00Ljg2NyAxOS44Mkg4LjM3NGMtMS44NjYgMC0zLjQwMS0xLjUzLTMuNDAxLTMuMzk1VjcuMDU0YTMuNDEgMy40MSAwIDAgMSAzLjQwMS0zLjM5NmgzMy4yODdjMS44NyAwIDMuNDA1IDEuNTMzIDMuNDA1IDMuMzk1djEwLjAyYzAgMS44NjMtMS41MzMgMy4zOTYtMy40MDIgMy4zOTZ6TTQxLjY3IDQuMjlIMjAuNjgydjE1LjU1aDIwLjk4NGEyLjc2IDIuNzYgMCAwIDAgMi43NjMtMi43NTZ2LS4wMDdoLjAwNFY3LjA0N0EyLjc2IDIuNzYgMCAwIDAgNDEuNjcgNC4yOXptLTIxLjU4OCAwSDguMzczYy0xLjUzNSAwLTIuNzY4IDEuMi0yLjc2OCAyLjczdjEwLjA2M2EyLjc1NyAyLjc1NyAwIDAgMCAyLjc2IDIuNzU0aDExLjcxN1Y0LjI5em0tNy4wMDcgMTMuMzg1SDkuODA2bDMuMjctNS42MjctMy4yNy01LjYyN2gzLjI3bDMuMjY4IDUuNjI3LTMuMjY5IDUuNjI3em0yNy43OTItMS43NmMwIC40LS4xNDUuNzE2LS40MzQuOTQ3LS4yODkuMjMxLS42OTEuMzQ2LTEuMjA3LjM0Ni0uNDc0IDAtLjg5NC0uMDg5LTEuMjYtLjI2N3YtLjg3NWMuMy4xMzQuNTU1LjIyOC43NjMuMjgzLjIwOC4wNTQuMzk4LjA4Mi41Ny4wODIuMjA3IDAgLjM2Ny0uMDQuNDc3LS4xMTkuMTEtLjA3OS4xNjYtLjE5Ni4xNjYtLjM1MmEuMzg0LjM4NCAwIDAgMC0uMDc0LS4yMzIuODE3LjgxNyAwIDAgMC0uMjEzLS4xOTcgNS42OCA1LjY4IDAgMCAwLS41NzctLjMgMi43NDIgMi43NDIgMCAwIDEtLjYxMy0uMzY3IDEuMzg4IDEuMzg4IDAgMCAxLS4zMjUtLjQxMSAxLjE2NyAxLjE2NyAwIDAgMS0uMTIyLS41NDZjMC0uMzkzLjEzNC0uNzAyLjQtLjkyOC4yNjctLjIyNC42MzYtLjMzNiAxLjEwNy0uMzM2LjIzMiAwIC40NTIuMDI3LjY2Mi4wODIuMjEuMDU0LjQzLjEzLjY1OS4yM2wtLjMwNS43MzJhNC41MjEgNC41MjEgMCAwIDAtLjU4OS0uMjAzIDEuODk2IDEuODk2IDAgMCAwLS40NTgtLjA1N2MtLjE3OCAwLS4zMTUuMDQxLS40MS4xMjRhLjQwOS40MDkgMCAwIDAtLjE0NC4zMjVjMCAuMDgzLjAyLjE1NS4wNTkuMjE3LjAzOC4wNjIuMS4xMjIuMTg0LjE3OS4wODQuMDU4LjI4My4xNjIuNTk3LjMxMi40MTcuMTk5LjcwMi4zOTcuODU2LjU5Ny4xNTUuMTk5LjIzLjQ0NC4yMy43MzN6bS00LjQ5MiAwYzAgLjQtLjE0Ni43MTYtLjQzNS45NDctLjI4OC4yMzEtLjY5MS4zNDYtMS4yMDcuMzQ2LS40NzQgMC0uODk0LS4wODktMS4yNi0uMjY3di0uODc1Yy4zLjEzNC41NTUuMjI4Ljc2NC4yODMuMjA3LjA1NC4zOTcuMDgyLjU3LjA4Mi4yMDcgMCAuMzY2LS4wNC40NzYtLjExOS4xMTEtLjA3OS4xNjYtLjE5Ni4xNjYtLjM1MmEuMzkuMzkgMCAwIDAtLjA3My0uMjMyLjg0Ljg0IDAgMCAwLS4yMTQtLjE5NyA1LjY4IDUuNjggMCAwIDAtLjU3Ny0uMyAyLjc0MiAyLjc0MiAwIDAgMS0uNjEzLS4zNjcgMS4zODggMS4zODggMCAwIDEtLjMyNS0uNDExIDEuMTY3IDEuMTY3IDAgMCAxLS4xMjItLjU0NmMwLS4zOTMuMTM0LS43MDIuNDAxLS45MjguMjY2LS4yMjQuNjM1LS4zMzYgMS4xMDYtLjMzNi4yMzIgMCAuNDUyLjAyNy42NjIuMDgyLjIxLjA1NC40My4xMy42NTkuMjNsLS4zMDUuNzMyYTQuNTIxIDQuNTIxIDAgMCAwLS41ODgtLjIwMyAxLjg5NiAxLjg5NiAwIDAgMC0uNDU5LS4wNTdjLS4xNzggMC0uMzE1LjA0MS0uNDEuMTI0YS40MTIuNDEyIDAgMCAwLS4xNDQuMzI1YzAgLjA4My4wMi4xNTUuMDU5LjIxNy4wMzguMDYyLjEuMTIyLjE4NC4xNzkuMDg0LjA1OC4yODMuMTYyLjU5Ny4zMTIuNDE3LjE5OS43MDIuMzk3Ljg1Ni41OTcuMTU1LjE5OS4yMzIuNDQ0LjIzMi43MzN6bS0xMS43MDcgMS4yMzNoLS45NDR2LTQuNDQxaDEuNDIyYy41NCAwIC45NS4xMTUgMS4yMy4zNDcuMjgyLjIzMi40MjIuNTc4LjQyMiAxLjAzNyAwIC40NzgtLjE1Ljg0NC0uNDQ5IDEuMDk3LS4yOTkuMjUzLS43MjQuMzgtMS4yNzYuMzhoLS40MDV2MS41OHptNy40NiAwaC0xLjAxN2wtLjMyMi0xLjA1OGgtMS42MjJsLS4zMjMgMS4wNThoLTEuMDE3bDEuNTctNC40NmgxLjE1NGwxLjU3NyA0LjQ2ek0zMC41NjQgMTUuM2MtLjI5OS0uOTU4LS40NjctMS41LS41MDQtMS42MjVhNC4zMDMgNC4zMDMgMCAwIDEtLjA4LS4yOTljLS4wNjguMjYtLjI1OS45LS41NzYgMS45MjRoMS4xNnptLTUuNDY4LTEuODIzaC0uNDI4djEuMzE4aC4zMWMuMjkgMCAuNTA3LS4wNTcuNjUyLS4xNzEuMTQzLS4xMTUuMjE1LS4yOC4yMTUtLjUgMC0uMjItLjA2LS4zODMtLjE4LS40ODktLjEyMS0uMTA2LS4zMS0uMTU4LS41NjktLjE1OHptMTAuMzcxLTUuNjQ0SDMzLjg1di45NzZoMS41MDZ2Ljc3MWgtMS41MDZ2MS4xNDZoMS42MTh2Ljc3N2gtMi41NjJWNy4wNjNoMi41NjJ2Ljc3MXptLTYuMDEyIDIuODkzaDEuODA1di43NzdoLTIuNzVWNy4wNjNoLjk0NXYzLjY2NHptLTQuNzg3Ljc3N2gtLjk0NFY3LjA2M2gxLjQyMmMuNTQgMCAuOTUuMTE2IDEuMjMuMzQ4LjI4Mi4yMzIuNDIyLjU3Ny40MjIgMS4wMzggMCAuNDc4LS4xNS44NDMtLjQ0OSAxLjA5Ni0uMjk5LjI1NC0uNzI0LjM4LTEuMjc2LjM4aC0uNDA1djEuNTc5em0xMy4wNTEgMGgtMS4wMWwxLjQ3NS0yLjI5LTEuMzgtMi4xNTFoMS4wNGwuOTU5IDEuNTk4Ljk0LTEuNTk4aDEuMDE3bC0xLjM5NyAyLjIwMiAxLjUwMyAyLjIzOWgtMS4wNzdsLTEuMDM1LTEuNjgtMS4wMzUgMS42OHptLTEyLjYyMy0zLjY3aC0uNDI4djEuMzE5aC4zMWMuMjkgMCAuNTA3LS4wNTguNjUyLS4xNzEuMTQzLS4xMTUuMjE1LS4yODIuMjE1LS41IDAtLjIyMS0uMDYtLjM4NC0uMTgtLjQ5LS4xMjEtLjEwNC0uMzEtLjE1OC0uNTY5LS4xNTh6IiBmaWxsPSIjRTVBMDBEIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiLz4KPC9zdmc+Cg=="},83579:e=>{"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTQ4IiBoZWlnaHQ9IjM2MCIgdmlld0JveD0iMCAwIDU0OCAzNjAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPjx0aXRsZT5Hcm91cDwvdGl0bGU+PGRlZnM+PHBhdGggaWQ9ImEiIGQ9Ik0xOTYgMTczdjEzSDgxdi0xNCIvPjxtYXNrIGlkPSJqIiB4PSIwIiB5PSIwIiB3aWR0aD0iMTE1IiBoZWlnaHQ9IjE0IiBmaWxsPSIjZmZmIj48dXNlIHhsaW5rOmhyZWY9IiNhIi8+PC9tYXNrPjxwYXRoIGQ9Ik02LjUyMiAxNzNDMi45MiAxNzMgMCAxNzAuNjMxIDAgMTY3LjcxVjUuMjlDMCAyLjM3IDIuOTIgMCA2LjUyMiAwaDI2Mi45NTZDMjczLjA4IDAgMjc2IDIuMzY5IDI3NiA1LjI5djE2Mi40MmMwIDIuOTIxLTIuOTIgNS4yOS02LjUyMiA1LjI5SDYuNTIyeiIgaWQ9ImIiLz48bWFzayBpZD0iayIgeD0iMCIgeT0iMCIgd2lkdGg9IjI3NiIgaGVpZ2h0PSIxNzMiIGZpbGw9IiNmZmYiPjx1c2UgeGxpbms6aHJlZj0iI2IiLz48L21hc2s+PHBhdGggaWQ9ImMiIGQ9Ik0xMyAxNjAuMTg1aDI0OS45MVYxM0gxM3oiLz48bWFzayBpZD0ibCIgeD0iMCIgeT0iMCIgd2lkdGg9IjI0OS45MTEiIGhlaWdodD0iMTQ3LjE4NSIgZmlsbD0iI2ZmZiI+PHVzZSB4bGluazpocmVmPSIjYyIvPjwvbWFzaz48cmVjdCBpZD0iZCIgd2lkdGg9IjE5MiIgaGVpZ2h0PSIxNDAiIHJ4PSI2Ii8+PG1hc2sgaWQ9Im0iIHg9IjAiIHk9IjAiIHdpZHRoPSIxOTIiIGhlaWdodD0iMTQwIiBmaWxsPSIjZmZmIj48dXNlIHhsaW5rOmhyZWY9IiNkIi8+PC9tYXNrPjxwYXRoIGlkPSJlIiBkPSJNMjAgMTFoMTUydjExOEgyMHoiLz48bWFzayBpZD0ibiIgeD0iMCIgeT0iMCIgd2lkdGg9IjE1MiIgaGVpZ2h0PSIxMTgiIGZpbGw9IiNmZmYiPjx1c2UgeGxpbms6aHJlZj0iI2UiLz48L21hc2s+PGNpcmNsZSBpZD0iZiIgY3g9IjEyIiBjeT0iNzAiIHI9IjYiLz48bWFzayBpZD0ibyIgeD0iMCIgeT0iMCIgd2lkdGg9IjEyIiBoZWlnaHQ9IjEyIiBmaWxsPSIjZmZmIj48dXNlIHhsaW5rOmhyZWY9IiNmIi8+PC9tYXNrPjxwYXRoIGlkPSJnIiBkPSJNMCAxOGg3MnY4NEgweiIvPjxtYXNrIGlkPSJwIiB4PSIwIiB5PSIwIiB3aWR0aD0iNzIiIGhlaWdodD0iODQiIGZpbGw9IiNmZmYiPjx1c2UgeGxpbms6aHJlZj0iI2ciLz48L21hc2s+PGNpcmNsZSBpZD0iaCIgY3g9IjM2IiBjeT0iMTA5IiByPSI1Ii8+PG1hc2sgaWQ9InEiIHg9IjAiIHk9IjAiIHdpZHRoPSIxMCIgaGVpZ2h0PSIxMCIgZmlsbD0iI2ZmZiI+PHVzZSB4bGluazpocmVmPSIjaCIvPjwvbWFzaz48cmVjdCBpZD0iaSIgd2lkdGg9IjcyIiBoZWlnaHQ9IjEyMCIgcng9IjguNCIvPjxtYXNrIGlkPSJyIiB4PSIwIiB5PSIwIiB3aWR0aD0iNzIiIGhlaWdodD0iMTIwIiBmaWxsPSIjZmZmIj48dXNlIHhsaW5rOmhyZWY9IiNpIi8+PC9tYXNrPjwvZGVmcz48ZyBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDI3MiA4NykiPjx1c2Ugc3Ryb2tlPSIjQkJCIiBtYXNrPSJ1cmwoI2opIiBzdHJva2Utd2lkdGg9IjYiIHhsaW5rOmhyZWY9IiNhIi8+PHVzZSBzdHJva2U9IiNCQkIiIG1hc2s9InVybCgjaykiIHN0cm9rZS13aWR0aD0iNiIgeGxpbms6aHJlZj0iI2IiLz48dXNlIHN0cm9rZT0iI0JCQiIgbWFzaz0idXJsKCNsKSIgc3Ryb2tlLXdpZHRoPSI0IiB4bGluazpocmVmPSIjYyIvPjxwYXRoIGZpbGw9IiNGOEFEMTgiIGQ9Ik0xMzcuMDQyIDEyMC43NUgxMTdsMjIuMTktMzQuMzc1TDExNyA1MmgyMC4wNDJsMjIuMTkgMzQuMzc1eiIvPjwvZz48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgwIDIyMCkiPjx1c2Ugc3Ryb2tlPSIjQkJCIiBtYXNrPSJ1cmwoI20pIiBzdHJva2Utd2lkdGg9IjYiIHhsaW5rOmhyZWY9IiNkIi8+PHVzZSBzdHJva2U9IiNCQkIiIG1hc2s9InVybCgjbikiIHN0cm9rZS13aWR0aD0iNCIgeGxpbms6aHJlZj0iI2UiLz48dXNlIHN0cm9rZT0iI0JCQiIgbWFzaz0idXJsKCNvKSIgc3Ryb2tlLXdpZHRoPSI0IiB4bGluazpocmVmPSIjZiIvPjxjaXJjbGUgZmlsbD0iI0JCQiIgY3g9IjE4MCIgY3k9IjcwIiByPSIyIi8+PHBhdGggZmlsbD0iI0Y4QUQxOCIgZD0iTTk0LjU4IDEwMkg3NmwyMC42NDUtMzAuOTY4TDc2IDM4aDE4LjU4bDIwLjY0NiAzMy4wMzJ6Ii8+PC9nPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDYwKSI+PHJlY3Qgd2lkdGg9IjcyIiBoZWlnaHQ9IjEyMCIgcng9IjguNCIvPjx1c2Ugc3Ryb2tlPSIjQkJCIiBtYXNrPSJ1cmwoI3ApIiBzdHJva2Utd2lkdGg9IjQiIHhsaW5rOmhyZWY9IiNnIi8+PHVzZSBzdHJva2U9IiNCQkIiIG1hc2s9InVybCgjcSkiIHN0cm9rZS13aWR0aD0iNCIgeGxpbms6aHJlZj0iI2giLz48cmVjdCBmaWxsPSIjQkJCIiB4PSIzMSIgeT0iMTAiIHdpZHRoPSIxMC44IiBoZWlnaHQ9IjIuNCIgcng9IjEuMiIvPjx1c2Ugc3Ryb2tlPSIjQkJCIiBtYXNrPSJ1cmwoI3IpIiBzdHJva2Utd2lkdGg9IjYiIHhsaW5rOmhyZWY9IiNpIi8+PHBhdGggZD0iTTM1LjAzMiA3OUgyNGwxMi4yNTgtMTguMzg3TDI0IDQxaDExLjAzMkw0Ny4yOSA2MC42MTN6IiBmaWxsPSIjRjhBRDE4Ii8+PC9nPjwvZz48L3N2Zz4="},87414:e=>{"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODEwIiBoZWlnaHQ9IjIzMCIgdmlld0JveD0iMCAwIDgxMCAyMzAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPjx0aXRsZT5QTVMg4oaSIENvbXB1dGVyPC90aXRsZT48ZGVmcz48cGF0aCBkPSJNMTU5LjU5NSAyMDcuNDc3Yy0uNDk0LTIuNDctMi42NS05LjczMi0zLjM0Ny0yMS40NDRIOTkuMzZjLS42OTggMTEuNzEyLTIuODUzIDE4Ljk3NC0zLjM0NiAyMS40NDQtLjk3NiA0Ljg4LTQuNzkgOC44MjktMTIuMDQgMTEuMDU5LTUuOTEyIDEuODE5LTUuMTU4IDEwLjY5MyAxLjY3NCAxMC42OTNoODQuMzE0YzYuODMxIDAgNy41ODctOC44NzMgMS42NzMtMTAuNjkzLTcuMjUtMi4yMy0xMS4wNjQtNi4xNzgtMTIuMDQtMTEuMDU5eiIgaWQ9ImEiLz48bWFzayBpZD0iZCIgeD0iMCIgeT0iMCIgd2lkdGg9Ijk1LjYzMyIgaGVpZ2h0PSI0My4xOTYiIGZpbGw9IiNmZmYiPjx1c2UgeGxpbms6aHJlZj0iI2EiLz48L21hc2s+PHBhdGggZD0iTTI1NiAxNDcuNXYzMS41NjRjMCA1LjUyNy00LjQ3IDEwLjAwOC05Ljk5NiAxMC4wMDhIOS45OTZjLTUuNTIgMC05Ljk5Ni00LjQ3Ni05Ljk5Ni0xMC4wMDhWMTAuMDAzQzAgNC40OCA0LjQ3IDAgOS45OTYgMGgyMzYuMDA4QzI1MS41MjQgMCAyNTYgNC40ODUgMjU2IDEwLjAwM1YxNDcuNXoiIGlkPSJiIi8+PG1hc2sgaWQ9ImUiIHg9IjAiIHk9IjAiIHdpZHRoPSIyNTYiIGhlaWdodD0iMTg5LjA3MiIgZmlsbD0iI2ZmZiI+PHVzZSB4bGluazpocmVmPSIjYiIvPjwvbWFzaz48Y2lyY2xlIGlkPSJjIiBjeD0iMTEwIiBjeT0iMTEwIiByPSIxMTAiLz48bWFzayBpZD0iZiIgeD0iMCIgeT0iMCIgd2lkdGg9IjIyMCIgaGVpZ2h0PSIyMjAiIGZpbGw9IiNmZmYiPjx1c2UgeGxpbms6aHJlZj0iI2MiLz48L21hc2s+PC9kZWZzPjxnIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCI+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNTUzKSIgc3Ryb2tlPSIjQkJCIj48dXNlIG1hc2s9InVybCgjZCkiIHN0cm9rZS13aWR0aD0iNiIgeGxpbms6aHJlZj0iI2EiLz48dXNlIG1hc2s9InVybCgjZSkiIHN0cm9rZS13aWR0aD0iNiIgeGxpbms6aHJlZj0iI2IiLz48cGF0aCBkPSJNMS41IDE0Ny41aDI1My4xOTgiIHN0cm9rZS13aWR0aD0iMyIgc3Ryb2tlLWxpbmVjYXA9InNxdWFyZSIvPjwvZz48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgwIDUpIj48dXNlIHN0cm9rZT0iI0Y4QUQxOCIgbWFzaz0idXJsKCNmKSIgc3Ryb2tlLXdpZHRoPSI4IiBmaWxsPSIjMUYxRjFGIiB4bGluazpocmVmPSIjYyIvPjxwYXRoIGZpbGw9IiNGOEFEMTgiIGQ9Ik0xMTIuMTM0IDE3OS42NjdINzIuMTFsNDQuMzEtNjkuMDU2LTQ0LjMxLTY5LjA1NWg0MC4wMjNsNDQuMzEgNjkuMDU1eiIvPjwvZz48ZyBmaWxsPSIjQkJCIj48cGF0aCBkPSJNNTA0LjUgMTE1bC0xNCAxMy41di0yN3pNNDc5IDExOGEzIDMgMCAxIDAgMC02IDMgMyAwIDAgMCAwIDZ6bS0xNiAwYTMgMyAwIDEgMCAwLTYgMyAzIDAgMCAwIDAgNnptLTE2IDBhMyAzIDAgMSAwIDAtNiAzIDMgMCAwIDAgMCA2em0tMTYgMGEzIDMgMCAxIDAgMC02IDMgMyAwIDAgMCAwIDZ6bS0xNiAwYTMgMyAwIDEgMCAwLTYgMyAzIDAgMCAwIDAgNnptLTE2IDBhMyAzIDAgMSAwIDAtNiAzIDMgMCAwIDAgMCA2em0tMTYgMGEzIDMgMCAxIDAgMC02IDMgMyAwIDAgMCAwIDZ6bS0xNiAwYTMgMyAwIDEgMCAwLTYgMyAzIDAgMCAwIDAgNnptLTE2IDBhMyAzIDAgMSAwIDAtNiAzIDMgMCAwIDAgMCA2em0tMTYgMGEzIDMgMCAxIDAgMC02IDMgMyAwIDAgMCAwIDZ6bS0xNiAwYTMgMyAwIDEgMCAwLTYgMyAzIDAgMCAwIDAgNnptLTE2IDBhMyAzIDAgMSAwIDAtNiAzIDMgMCAwIDAgMCA2em0tMTYgMGEzIDMgMCAxIDAgMC02IDMgMyAwIDAgMCAwIDZ6bS0xNiAwYTMgMyAwIDEgMCAwLTYgMyAzIDAgMCAwIDAgNnoiLz48L2c+PC9nPjwvc3ZnPg=="},13353:e=>{"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNzE1IiBoZWlnaHQ9IjE0OSIgdmlld0JveD0iMCAwIDcxNSAxNDkiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPjx0aXRsZT5NRURJQSBJQ09OUzwvdGl0bGU+PGRlZnM+PHBhdGggZD0iTTU3Ljg5NyAwSDEwLjAwOEM0LjQ4MiAwIDAgNC40ODEgMCAxMC4wMDh2NS41MDVMNTcuODk3IDB6bTU2Ljc3NiAwaDMuODljNS41MjcgMCAxMC4wMDggNC40ODIgMTAuMDA4IDEwLjAwOHY0MS44NkwxMTQuNjczIDB6bTEzLjg5OCAxMTQuMTY4djQuMzk1YzAgNS41MjctNC40ODEgMTAuMDA4LTEwLjAwOCAxMC4wMDhINzQuODE4bDUzLjc1My0xNC40MDN6TTE2LjAyIDEyOC41NzFoLTYuMDFDNC40OCAxMjguNTcxIDAgMTI0LjA5IDAgMTE4LjU2M1Y2OC43ODlsMTYuMDE5IDU5Ljc4MnoiIGlkPSJhIi8+PG1hc2sgaWQ9ImoiIHg9Ii0yIiB5PSItMiIgd2lkdGg9IjEzMi41NzEiIGhlaWdodD0iMTMyLjU3MSI+PHBhdGggZmlsbD0iI2ZmZiIgZD0iTS0yLTJoMTMyLjU3MXYxMzIuNTcxSC0yeiIvPjx1c2UgeGxpbms6aHJlZj0iI2EiLz48L21hc2s+PHJlY3QgaWQ9ImIiIHdpZHRoPSIxMjguNTcxIiBoZWlnaHQ9IjEyOC41NzEiIHJ4PSIxMCIvPjxtYXNrIGlkPSJrIiB4PSIwIiB5PSIwIiB3aWR0aD0iMTI4LjU3MSIgaGVpZ2h0PSIxMjguNTcxIiBmaWxsPSIjZmZmIj48dXNlIHhsaW5rOmhyZWY9IiNiIi8+PC9tYXNrPjxwYXRoIGQ9Ik0zOS43ODIgMjYuNTkyVjgzLjk5Yy0zLjI3OS0xLjAzNC03LjIzNC0xLjE2LTExLjI2Ny0uMTAzLTguNzY3IDIuMjk3LTE0LjQ4OCA5LjI2LTEyLjc3IDE1LjUzNSAxLjcxOCA2LjI3NiAxMC4yMjYgOS41MDUgMTguOTk1IDcuMTk3IDguMTAxLTIuMTE2IDE0LjcxLTguMjE3IDE0LjE1LTE0LjA3NmwuMDQxLTQxLjcxOCA0MC4zODYtNS4zODV2MzMuMTY1Yy0zLjI4LTEuMDM0LTcuMjM1LTEuMTYtMTEuMjY4LS4xMDItOC43NjYgMi4yOTYtMTQuNDg4IDkuMjU5LTEyLjc3IDE1LjUzNXMxMC4yMjYgOS41MDQgMTguOTk1IDcuMTk2YzguMTAxLTIuMTE2IDE0LjcxMS04LjIxNyAxNC4xNTEtMTQuMDc1IDAtMTQuNzk1LjA0LTY1Ljk1LjA0LTY1Ljk1bC01OC42ODMgNS4zODR6IiBpZD0iYyIvPjxtYXNrIGlkPSJsIiB4PSIwIiB5PSIwIiB3aWR0aD0iODMuMDI1IiBoZWlnaHQ9Ijg2LjE1NiIgZmlsbD0iI2ZmZiI+PHVzZSB4bGluazpocmVmPSIjYyIvPjwvbWFzaz48cGF0aCBkPSJNNjYuMTEzIDkuNTk1bC00MC43MDUtMy41NmE4Ljg0NSA4Ljg0NSAwIDAgMC05LjU4NiA4LjA0bC0uMzkgNC40NTcgNTAuNjgtOC45Mzd6bTU1LjczNCA0Ljg3N2w1LjQ3NS40NzljNC44NjguNDI1IDguNDcgNC43MTcgOC4wNDQgOS41ODNsLTMuODk1IDQ0LjUxOC05LjYyNC01NC41OHptNC4yMDEgMTE2LjU2bC0uNDcgNS4zODNhOC44NDUgOC44NDUgMCAwIDEtOS41ODYgOC4wNGwtNDQuMTYtMy44NjMgNTQuMjE2LTkuNTZ6bS0xMDQuNTkgNS4xNTNsLTcuMzgtLjY0NWMtNC44NjgtLjQyNi04LjQ3LTQuNzE4LTguMDQ0LTkuNTg0bDQuNTE3LTUxLjYyNSAxMC45MDYgNjEuODU0eiIgaWQ9ImQiLz48bWFzayBpZD0ibSIgeD0iLTIiIHk9Ii0yIiB3aWR0aD0iMTMzLjQiIGhlaWdodD0iMTQyLjQ5Ij48cGF0aCBmaWxsPSIjZmZmIiBkPSJNNCA0aDEzMy40djE0Mi40OUg0eiIvPjx1c2UgeGxpbms6aHJlZj0iI2QiLz48L21hc2s+PHBhdGggZD0iTS42MDcgOS4wMTVBOC44NDUgOC44NDUgMCAwIDEgOS40NTUuMTY5SDExMS43NmM0Ljg4NyAwIDguODQ4IDMuOTYxIDguODQ4IDguODQ2djExMi4zMDhhOC44NDUgOC44NDUgMCAwIDEtOC44NDggOC44NDZIOS40NTVjLTQuODg2IDAtOC44NDgtMy45NjItOC44NDgtOC44NDZWOS4wMTV6IiBpZD0iZSIvPjxtYXNrIGlkPSJuIiB4PSIwIiB5PSIwIiB3aWR0aD0iMTIwIiBoZWlnaHQ9IjEzMCIgZmlsbD0iI2ZmZiI+PHVzZSB4bGluazpocmVmPSIjZSIvPjwvbWFzaz48cGF0aCBpZD0iZiIgZD0iTTE0LjYzNiAxNC4xOTdoOTAuNjQ3djgyLjAxNEgxNC42MzZ6Ii8+PG1hc2sgaWQ9Im8iIHg9IjAiIHk9IjAiIHdpZHRoPSI5MC42NDciIGhlaWdodD0iODIuMDE0IiBmaWxsPSIjZmZmIj48dXNlIHhsaW5rOmhyZWY9IiNmIi8+PC9tYXNrPjxwYXRoIGlkPSJnIiBkPSJNMTQuNjM2IDY1Ljk5NmwzMC4yMTYtMjMuNzQxIDIzLjc0IDI2Ljk3OCAxNC4wMy0xMC43OTEgMjIuNjYxIDIwLjUwNHYxNy4yNjZIMTQuNjM2eiIvPjxtYXNrIGlkPSJwIiB4PSIwIiB5PSIwIiB3aWR0aD0iOTAuNjQ3IiBoZWlnaHQ9IjUzLjk1NyIgZmlsbD0iI2ZmZiI+PHVzZSB4bGluazpocmVmPSIjZyIvPjwvbWFzaz48cGF0aCBkPSJNNjMuOTcyIDguNjgxTDIyLjEyIDUuMDE5YTUgNSAwIDAgMC01LjQyIDQuNTM5bC0uNjYzIDcuNTc1IDQ3LjkzNS04LjQ1MnptNDcuODg1IDQuMTlsMTAuODcyLjk1YTUuMDA0IDUuMDA0IDAgMCAxIDQuNTQ5IDUuNDExbC00Ljc0MiA1NC4yLTEwLjY3OS02MC41NjJ6bTUuMzkxIDEyMC45OThsLS42NTEgNy40NDdhNSA1IDAgMCAxLTUuNDIgNC41MzlsLTQxLjM3NC0zLjYyIDQ3LjQ0NS04LjM2NnptLTk2LjA0MiA0LjExNGwtMTAuNjM4LS45M2E1LjAwNCA1LjAwNCAwIDAgMS00LjU0OS01LjQxMWw0LjY2Ni01My4zMjcgMTAuNTIgNTkuNjY4eiIgaWQ9ImgiLz48bWFzayBpZD0icSIgeD0iLTIiIHk9Ii0yIiB3aWR0aD0iMTI1LjI5NyIgaGVpZ2h0PSIxNDQuODc0Ij48cGF0aCBmaWxsPSIjZmZmIiBkPSJNNCAzaDEyNS4yOTd2MTQ0Ljg3NEg0eiIvPjx1c2UgeGxpbms6aHJlZj0iI2giLz48L21hc2s+PHBhdGggZD0iTTExIDEzLjk5NEE1IDUgMCAwIDEgMTYuMDAzIDloMTAwLjk5NEE1LjAwNCA1LjAwNCAwIDAgMSAxMjIgMTMuOTk0djEyMi41NWE1LjAwMSA1LjAwMSAwIDAgMS01IDQuOTkzSDE2Yy0yLjc2MSAwLTUtMi4yNDQtNS00Ljk5M1YxMy45OTR6IiBpZD0iaSIvPjxtYXNrIGlkPSJyIiB4PSIwIiB5PSIwIiB3aWR0aD0iMTExIiBoZWlnaHQ9IjEzMi41MzciIGZpbGw9IiNmZmYiPjx1c2UgeGxpbms6aHJlZj0iI2kiLz48L21hc2s+PC9kZWZzPjxnIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCI+PGcgc3Ryb2tlPSIjRDhGRjk1IiBzdHJva2Utd2lkdGg9IjQiPjx1c2UgbWFzaz0idXJsKCNqKSIgeGxpbms6aHJlZj0iI2EiIHRyYW5zZm9ybT0icm90YXRlKDUgMjQxLjM5NiA2NjczLjYwNykiLz48ZyB0cmFuc2Zvcm09InJvdGF0ZSgtMTAgNDEwLjE1IC0zMjI4LjA3KSI+PHVzZSBtYXNrPSJ1cmwoI2spIiB4bGluazpocmVmPSIjYiIvPjx1c2UgbWFzaz0idXJsKCNsKSIgeGxpbms6aHJlZj0iI2MiLz48L2c+PC9nPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDI3OSAtMSkiIHN0cm9rZT0iI0ZGQTBERSIgc3Ryb2tlLXdpZHRoPSI0Ij48dXNlIG1hc2s9InVybCgjbSkiIHhsaW5rOmhyZWY9IiNkIi8+PGcgdHJhbnNmb3JtPSJyb3RhdGUoLTEwIDEyMi42NSA3LjEzNSkiPjx1c2UgbWFzaz0idXJsKCNuKSIgeGxpbms6aHJlZj0iI2UiLz48dXNlIG1hc2s9InVybCgjbykiIHhsaW5rOmhyZWY9IiNmIi8+PHVzZSBtYXNrPSJ1cmwoI3ApIiB4bGluazpocmVmPSIjZyIvPjwvZz48L2c+PGcgc3Ryb2tlPSIjQTRFMkZGIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMSAtMSkiPjx1c2UgbWFzaz0idXJsKCNxKSIgc3Ryb2tlLXdpZHRoPSI0IiB4bGluazpocmVmPSIjaCIvPjx1c2UgbWFzaz0idXJsKCNyKSIgc3Ryb2tlLXdpZHRoPSI0IiB0cmFuc2Zvcm09InJvdGF0ZSgtMTAgNjYuNSA3NS4yNjkpIiB4bGluazpocmVmPSIjaSIvPjxwYXRoIHN0cm9rZS13aWR0aD0iMiIgZD0iTTExLjgyMyAzMS4wNTNsOS43OS0xLjcyNyAxLjcyNSA5Ljc5LTkuNzg5IDEuNzI2ek0xNS45OTQgNTQuNzFsOS43OS0xLjcyNSAxLjcyNiA5Ljc4OS05Ljc5IDEuNzI2ek0yMC4xNjYgNzguMzY4bDkuNzktMS43MjcgMS43MjUgOS43OS05Ljc4OSAxLjcyNXpNMjQuMzM3IDEwMi4wMjZsOS43OS0xLjcyNiAxLjcyNiA5Ljc4OS05Ljc5IDEuNzI2ek0yOC41MSAxMjUuNjgybDkuNzg4LTEuNzI2IDEuNzI2IDkuNzktOS43ODkgMS43MjV6TTkzLjQgMTYuNjY5bDkuNzktMS43MjYgMS43MjUgOS43ODktOS43ODggMS43MjZ6TTk3LjU3MyA0MC4zMjZsOS43ODktMS43MjYgMS43MjYgOS43OS05Ljc5IDEuNzI1ek0xMDEuNzQzIDYzLjk4NGw5Ljc5LTEuNzI2IDEuNzI2IDkuNzg4LTkuNzkgMS43Mjd6TTEwNS45MTQgODcuNjRsOS43OS0xLjcyNSAxLjcyNSA5Ljc4OS05Ljc4OSAxLjcyNnpNMTEwLjA4NiAxMTEuMjk5bDkuNzktMS43MjcgMS43MjYgOS43OS05Ljc5IDEuNzI2ek0zMS43MTYgMzIuNjU5bDUyLjIxLTkuMjA2IDcuMTkxIDQwLjc4OC01Mi4yMSA5LjIwNnpNNDEuNDk3IDg4LjEzMmw1Mi4yMS05LjIwNiA3LjE5MSA0MC43ODgtNTIuMjEgOS4yMDZ6Ii8+PC9nPjwvZz48L3N2Zz4="},49730:e=>{"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iOTQ1IiBoZWlnaHQ9IjM2MCIgdmlld0JveD0iMCAwIDk0NSAzNjAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPjx0aXRsZT5QTEFZIE1FRElBIElDT05TPC90aXRsZT48ZGVmcz48cGF0aCBpZD0iYSIgZD0iTTE5NiAxNzJ2MTRIODF2LTE0Ii8+PG1hc2sgaWQ9Im0iIHg9IjAiIHk9IjAiIHdpZHRoPSIxMTUiIGhlaWdodD0iMTQiIGZpbGw9IiNmZmYiPjx1c2UgeGxpbms6aHJlZj0iI2EiLz48L21hc2s+PHBhdGggZD0iTTYuNTIyIDE3M0MyLjkyIDE3MyAwIDE3MC42MzEgMCAxNjcuNzFWNS4yOUMwIDIuMzcgMi45MiAwIDYuNTIyIDBoMjYyLjk1NkMyNzMuMDggMCAyNzYgMi4zNjkgMjc2IDUuMjl2MTYyLjQyYzAgMi45MjEtMi45MiA1LjI5LTYuNTIyIDUuMjlINi41MjJ6IiBpZD0iYiIvPjxtYXNrIGlkPSJuIiB4PSIwIiB5PSIwIiB3aWR0aD0iMjc2IiBoZWlnaHQ9IjE3MyIgZmlsbD0iI2ZmZiI+PHVzZSB4bGluazpocmVmPSIjYiIvPjwvbWFzaz48cGF0aCBpZD0iYyIgZD0iTTEzIDE2MC4xODVoMjQ5LjkxVjEzSDEzeiIvPjxtYXNrIGlkPSJvIiB4PSIwIiB5PSIwIiB3aWR0aD0iMjQ5LjkxMSIgaGVpZ2h0PSIxNDcuMTg1IiBmaWxsPSIjZmZmIj48dXNlIHhsaW5rOmhyZWY9IiNjIi8+PC9tYXNrPjxyZWN0IGlkPSJkIiB3aWR0aD0iMTkyIiBoZWlnaHQ9IjE0MCIgcng9IjYiLz48bWFzayBpZD0icCIgeD0iMCIgeT0iMCIgd2lkdGg9IjE5MiIgaGVpZ2h0PSIxNDAiIGZpbGw9IiNmZmYiPjx1c2UgeGxpbms6aHJlZj0iI2QiLz48L21hc2s+PHBhdGggaWQ9ImUiIGQ9Ik0yMCAxMWgxNTJ2MTE4SDIweiIvPjxtYXNrIGlkPSJxIiB4PSIwIiB5PSIwIiB3aWR0aD0iMTUyIiBoZWlnaHQ9IjExOCIgZmlsbD0iI2ZmZiI+PHVzZSB4bGluazpocmVmPSIjZSIvPjwvbWFzaz48Y2lyY2xlIGlkPSJmIiBjeD0iMTIiIGN5PSI3MCIgcj0iNiIvPjxtYXNrIGlkPSJyIiB4PSIwIiB5PSIwIiB3aWR0aD0iMTIiIGhlaWdodD0iMTIiIGZpbGw9IiNmZmYiPjx1c2UgeGxpbms6aHJlZj0iI2YiLz48L21hc2s+PHBhdGggaWQ9ImciIGQ9Ik0wIDE4aDcydjg0SDB6Ii8+PG1hc2sgaWQ9InMiIHg9IjAiIHk9IjAiIHdpZHRoPSI3MiIgaGVpZ2h0PSI4NCIgZmlsbD0iI2ZmZiI+PHVzZSB4bGluazpocmVmPSIjZyIvPjwvbWFzaz48Y2lyY2xlIGlkPSJoIiBjeD0iMzYiIGN5PSIxMDkiIHI9IjUiLz48bWFzayBpZD0idCIgeD0iMCIgeT0iMCIgd2lkdGg9IjEwIiBoZWlnaHQ9IjEwIiBmaWxsPSIjZmZmIj48dXNlIHhsaW5rOmhyZWY9IiNoIi8+PC9tYXNrPjxyZWN0IGlkPSJpIiB3aWR0aD0iNzIiIGhlaWdodD0iMTIwIiByeD0iOC40Ii8+PG1hc2sgaWQ9InUiIHg9IjAiIHk9IjAiIHdpZHRoPSI3MiIgaGVpZ2h0PSIxMjAiIGZpbGw9IiNmZmYiPjx1c2UgeGxpbms6aHJlZj0iI2kiLz48L21hc2s+PHBhdGggZD0iTTE1OS41OTUgMjA3LjQ3N2MtLjQ5NC0yLjQ3LTIuNjUtOS43MzItMy4zNDctMjEuNDQ0SDk5LjM2Yy0uNjk4IDExLjcxMi0yLjg1MyAxOC45NzQtMy4zNDYgMjEuNDQ0LS45NzYgNC44OC00Ljc5IDguODI5LTEyLjA0IDExLjA1OS01LjkxMiAxLjgxOS01LjE1OCAxMC42OTMgMS42NzQgMTAuNjkzaDg0LjMxNGM2LjgzMSAwIDcuNTg3LTguODczIDEuNjczLTEwLjY5My03LjI1LTIuMjMtMTEuMDY0LTYuMTc4LTEyLjA0LTExLjA1OXoiIGlkPSJqIi8+PG1hc2sgaWQ9InYiIHg9IjAiIHk9IjAiIHdpZHRoPSI5NS42MzMiIGhlaWdodD0iNDMuMTk2IiBmaWxsPSIjZmZmIj48dXNlIHhsaW5rOmhyZWY9IiNqIi8+PC9tYXNrPjxwYXRoIGQ9Ik0yNTYgMTQ3LjV2MzEuNTY0YzAgNS41MjctNC40NyAxMC4wMDgtOS45OTYgMTAuMDA4SDkuOTk2Yy01LjUyIDAtOS45OTYtNC40NzYtOS45OTYtMTAuMDA4VjEwLjAwM0MwIDQuNDggNC40NyAwIDkuOTk2IDBoMjM2LjAwOEMyNTEuNTI0IDAgMjU2IDQuNDg1IDI1NiAxMC4wMDNWMTQ3LjV6IiBpZD0iayIvPjxtYXNrIGlkPSJ3IiB4PSIwIiB5PSIwIiB3aWR0aD0iMjU2IiBoZWlnaHQ9IjE4OS4wNzIiIGZpbGw9IiNmZmYiPjx1c2UgeGxpbms6aHJlZj0iI2siLz48L21hc2s+PGNpcmNsZSBpZD0ibCIgY3g9IjU1IiBjeT0iNTUiIHI9IjU1Ii8+PG1hc2sgaWQ9IngiIHg9IjAiIHk9IjAiIHdpZHRoPSIxMTAiIGhlaWdodD0iMTEwIiBmaWxsPSIjZmZmIj48dXNlIHhsaW5rOmhyZWY9IiNsIi8+PC9tYXNrPjwvZGVmcz48ZyBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDY2OSA4NykiPjx1c2Ugc3Ryb2tlPSIjQkJCIiBtYXNrPSJ1cmwoI20pIiBzdHJva2Utd2lkdGg9IjYiIHhsaW5rOmhyZWY9IiNhIi8+PHVzZSBzdHJva2U9IiNCQkIiIG1hc2s9InVybCgjbikiIHN0cm9rZS13aWR0aD0iNiIgeGxpbms6aHJlZj0iI2IiLz48dXNlIHN0cm9rZT0iI0JCQiIgbWFzaz0idXJsKCNvKSIgc3Ryb2tlLXdpZHRoPSI0IiB4bGluazpocmVmPSIjYyIvPjxwYXRoIGZpbGw9IiNGOEFEMTgiIGQ9Ik0xMzcuMDQyIDEyMC43NUgxMTdsMjIuMTktMzQuMzc1TDExNyA1MmgyMC4wNDJsMjIuMTkgMzQuMzc1eiIvPjwvZz48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgzOTcgMjIwKSI+PHVzZSBzdHJva2U9IiNCQkIiIG1hc2s9InVybCgjcCkiIHN0cm9rZS13aWR0aD0iNiIgeGxpbms6aHJlZj0iI2QiLz48dXNlIHN0cm9rZT0iI0JCQiIgbWFzaz0idXJsKCNxKSIgc3Ryb2tlLXdpZHRoPSI0IiB4bGluazpocmVmPSIjZSIvPjx1c2Ugc3Ryb2tlPSIjQkJCIiBtYXNrPSJ1cmwoI3IpIiBzdHJva2Utd2lkdGg9IjQiIHhsaW5rOmhyZWY9IiNmIi8+PGNpcmNsZSBmaWxsPSIjQkJCIiBjeD0iMTgwIiBjeT0iNzAiIHI9IjIiLz48cGF0aCBmaWxsPSIjRjhBRDE4IiBkPSJNOTQuNTggMTAySDc2bDIwLjY0NS0zMC45NjhMNzYgMzhoMTguNThsMjAuNjQ2IDMzLjAzMnoiLz48L2c+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNDU3KSI+PHJlY3Qgd2lkdGg9IjcyIiBoZWlnaHQ9IjEyMCIgcng9IjguNCIvPjx1c2Ugc3Ryb2tlPSIjQkJCIiBtYXNrPSJ1cmwoI3MpIiBzdHJva2Utd2lkdGg9IjQiIHhsaW5rOmhyZWY9IiNnIi8+PHVzZSBzdHJva2U9IiNCQkIiIG1hc2s9InVybCgjdCkiIHN0cm9rZS13aWR0aD0iNCIgeGxpbms6aHJlZj0iI2giLz48cmVjdCBmaWxsPSIjQkJCIiB4PSIzMSIgeT0iMTAiIHdpZHRoPSIxMC44IiBoZWlnaHQ9IjIuNCIgcng9IjEuMiIvPjx1c2Ugc3Ryb2tlPSIjQkJCIiBtYXNrPSJ1cmwoI3UpIiBzdHJva2Utd2lkdGg9IjYiIHhsaW5rOmhyZWY9IiNpIi8+PHBhdGggZD0iTTM1LjAzMiA3OUgyNGwxMi4yNTgtMTguMzg3TDI0IDQxaDExLjAzMkw0Ny4yOSA2MC42MTN6IiBmaWxsPSIjRjhBRDE4Ii8+PC9nPjxnIHN0cm9rZT0iI0JCQiIgc3Ryb2tlLXdpZHRoPSI0IiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiPjxwYXRoIGQ9Ik0zMzAuNTk4IDE4My4yNTRDMzQxLjM1NSAxNzIuNDEgMzQ4IDE1Ny40ODEgMzQ4IDE0MWMwLTE2LjcyMy02Ljg0MS0zMS44NDgtMTcuODc4LTQyLjcyOCIvPjxwYXRoIGQ9Ik0zMTkuOTg4IDE3Mi42NUMzMjguMDMzIDE2NC41MiAzMzMgMTUzLjM0IDMzMyAxNDFjMC0xMi41MjMtNS4xMTUtMjMuODUxLTEzLjM3LTMyLjAxTTMwOS41MDIgMTYxLjkyQTI5LjkwMiAyOS45MDIgMCAwIDAgMzE4IDE0MWMwLTguMzc2LTMuNDMzLTE1Ljk1MS04Ljk2OS0yMS4zOTQiLz48L2c+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMCA2NSkiPjx1c2Ugc3Ryb2tlPSIjQkJCIiBtYXNrPSJ1cmwoI3YpIiBzdHJva2Utd2lkdGg9IjYiIHhsaW5rOmhyZWY9IiNqIi8+PHVzZSBzdHJva2U9IiNCQkIiIG1hc2s9InVybCgjdykiIHN0cm9rZS13aWR0aD0iNiIgeGxpbms6aHJlZj0iI2siLz48cGF0aCBkPSJNMS41IDE0Ny41aDI1My4xOTgiIHN0cm9rZT0iI0JCQiIgc3Ryb2tlLXdpZHRoPSIzIiBzdHJva2UtbGluZWNhcD0ic3F1YXJlIi8+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNzMgMjEpIj48dXNlIHN0cm9rZT0iI0Y4QUQxOCIgbWFzaz0idXJsKCN4KSIgc3Ryb2tlLXdpZHRoPSI2IiBmaWxsPSIjMUYxRjFGIiB4bGluazpocmVmPSIjbCIvPjxwYXRoIGZpbGw9IiNGOEFEMTgiIGQ9Ik01Ni4zODIgODkuMzc1SDM2LjMzOUw1OC41MyA1NSAzNi4zNCAyMC42MjVoMjAuMDQzTDc4LjU3MiA1NXoiLz48L2c+PC9nPjwvZz48L3N2Zz4="},13838:e=>{"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTgiIGhlaWdodD0iMTYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHJlY3QgeD0iMTUiIHdpZHRoPSIzIiBoZWlnaHQ9IjE2IiByeD0iMSIgZmlsbD0iIzQ0NEY1NiIvPjxyZWN0IHg9IjEwIiB5PSIzIiB3aWR0aD0iMyIgaGVpZ2h0PSIxMyIgcng9IjEiIGZpbGw9IiM0NDRGNTYiLz48cmVjdCB4PSI1IiB5PSI3IiB3aWR0aD0iMyIgaGVpZ2h0PSI5IiByeD0iMSIgZmlsbD0iIzQ0NEY1NiIvPjxyZWN0IHk9IjEwIiB3aWR0aD0iMyIgaGVpZ2h0PSI2IiByeD0iMSIgZmlsbD0iI0U3NUI2MSIvPjwvc3ZnPg=="},468:e=>{"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTgiIGhlaWdodD0iMTYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHJlY3QgeD0iMTUiIHdpZHRoPSIzIiBoZWlnaHQ9IjE2IiByeD0iMSIgZmlsbD0iIzQ0NEY1NiIvPjxyZWN0IHg9IjEwIiB5PSIzIiB3aWR0aD0iMyIgaGVpZ2h0PSIxMyIgcng9IjEiIGZpbGw9IiM0NDRGNTYiLz48cmVjdCB4PSI1IiB5PSI3IiB3aWR0aD0iMyIgaGVpZ2h0PSI5IiByeD0iMSIgZmlsbD0iI0U1QTAwRCIvPjxyZWN0IHk9IjEwIiB3aWR0aD0iMyIgaGVpZ2h0PSI2IiByeD0iMSIgZmlsbD0iI0U1QTAwRCIvPjwvc3ZnPg=="},61721:e=>{"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTgiIGhlaWdodD0iMTYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHJlY3QgeD0iMTUiIHdpZHRoPSIzIiBoZWlnaHQ9IjE2IiByeD0iMSIgZmlsbD0iIzQ0NEY1NiIvPjxyZWN0IHg9IjEwIiB5PSIzIiB3aWR0aD0iMyIgaGVpZ2h0PSIxMyIgcng9IjEiIGZpbGw9IiNFNUEwMEQiLz48cmVjdCB4PSI1IiB5PSI3IiB3aWR0aD0iMyIgaGVpZ2h0PSI5IiByeD0iMSIgZmlsbD0iI0U1QTAwRCIvPjxyZWN0IHk9IjEwIiB3aWR0aD0iMyIgaGVpZ2h0PSI2IiByeD0iMSIgZmlsbD0iI0U1QTAwRCIvPjwvc3ZnPg=="},99717:e=>{"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTgiIGhlaWdodD0iMTYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHJlY3QgeD0iMTUiIHdpZHRoPSIzIiBoZWlnaHQ9IjE2IiByeD0iMSIgZmlsbD0iIzc1QUU5NCIvPjxyZWN0IHg9IjEwIiB5PSIzIiB3aWR0aD0iMyIgaGVpZ2h0PSIxMyIgcng9IjEiIGZpbGw9IiM3NUFFOTQiLz48cmVjdCB4PSI1IiB5PSI3IiB3aWR0aD0iMyIgaGVpZ2h0PSI5IiByeD0iMSIgZmlsbD0iIzc1QUU5NCIvPjxyZWN0IHk9IjEwIiB3aWR0aD0iMyIgaGVpZ2h0PSI2IiByeD0iMSIgZmlsbD0iIzc1QUU5NCIvPjwvc3ZnPg=="},43827:e=>{"use strict";e.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iNDJweCIgaGVpZ2h0PSIzMnB4IiB2aWV3Qm94PSIwIDAgNDIgMzIiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDQ5LjMgKDUxMTY3KSAtIGh0dHA6Ly93d3cuYm9oZW1pYW5jb2RpbmcuY29tL3NrZXRjaCAtLT4KICAgIDx0aXRsZT5TdHJlbmd0aCAtIDE8L3RpdGxlPgogICAgPGRlc2M+Q3JlYXRlZCB3aXRoIFNrZXRjaC48L2Rlc2M+CiAgICA8ZGVmcz48L2RlZnM+CiAgICA8ZyBpZD0iUGFnZS0xIiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4KICAgICAgICA8ZyBpZD0iMS4xLVNpZ25hbC1TdHJlbmd0aC1NYW5hZ2UtQ2hhbm5lbHMiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0xMzc4LjAwMDAwMCwgLTEwNzguMDAwMDAwKSI+CiAgICAgICAgICAgIDxnIGlkPSJTdHJlbmd0aC1JbmRpY2F0b3JzIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxMzc4LjAwMDAwMCwgNzU4LjAwMDAwMCkiPgogICAgICAgICAgICAgICAgPGcgaWQ9IlN0cmVuZ3RoLS0tMSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMC4wMDAwMDAsIDMyMC4wMDAwMDApIj4KICAgICAgICAgICAgICAgICAgICA8cmVjdCBpZD0iUmVjdGFuZ2xlLUNvcHktNSIgZmlsbD0iIzUyNTI1MiIgeD0iMzUuNzQ0NjgwOSIgeT0iMCIgd2lkdGg9IjYuMjU1MzE5MTUiIGhlaWdodD0iMzIiIHJ4PSIzLjEyNzY1OTU3Ij48L3JlY3Q+CiAgICAgICAgICAgICAgICAgICAgPHJlY3QgaWQ9IlJlY3RhbmdsZS1Db3B5IiBmaWxsPSIjNTI1MjUyIiB4PSIyNi44MDg1MTA2IiB5PSI2LjQiIHdpZHRoPSI2LjI1NTMxOTE1IiBoZWlnaHQ9IjI1LjYiIHJ4PSIzLjEyNzY1OTU3Ij48L3JlY3Q+CiAgICAgICAgICAgICAgICAgICAgPHJlY3QgaWQ9IlJlY3RhbmdsZS1Db3B5LTIiIGZpbGw9IiM1MjUyNTIiIHg9IjE3Ljg3MjM0MDQiIHk9IjEyLjgiIHdpZHRoPSI2LjI1NTMxOTE1IiBoZWlnaHQ9IjE5LjIiIHJ4PSIzLjEyNzY1OTU3Ij48L3JlY3Q+CiAgICAgICAgICAgICAgICAgICAgPHJlY3QgaWQ9IlJlY3RhbmdsZS1Db3B5LTMiIGZpbGw9IiM1MjUyNTIiIHg9IjguOTM2MTcwMjEiIHk9IjE5LjIiIHdpZHRoPSI2LjI1NTMxOTE1IiBoZWlnaHQ9IjEyLjgiIHJ4PSIzLjEyNzY1OTU3Ij48L3JlY3Q+CiAgICAgICAgICAgICAgICAgICAgPHJlY3QgaWQ9IlJlY3RhbmdsZS1Db3B5LTQiIGZpbGw9IiNEMDAyMUIiIHg9IjAiIHk9IjI1LjYiIHdpZHRoPSI2LjI1NTMxOTE1IiBoZWlnaHQ9IjYuNCIgcng9IjMuMTI3NjU5NTciPjwvcmVjdD4KICAgICAgICAgICAgICAgIDwvZz4KICAgICAgICAgICAgPC9nPgogICAgICAgIDwvZz4KICAgIDwvZz4KPC9zdmc+"},10487:e=>{"use strict";e.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iNDJweCIgaGVpZ2h0PSIzMnB4IiB2aWV3Qm94PSIwIDAgNDIgMzIiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDQ5LjMgKDUxMTY3KSAtIGh0dHA6Ly93d3cuYm9oZW1pYW5jb2RpbmcuY29tL3NrZXRjaCAtLT4KICAgIDx0aXRsZT5TdHJlbmd0aCAtIDI8L3RpdGxlPgogICAgPGRlc2M+Q3JlYXRlZCB3aXRoIFNrZXRjaC48L2Rlc2M+CiAgICA8ZGVmcz48L2RlZnM+CiAgICA8ZyBpZD0iUGFnZS0xIiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4KICAgICAgICA8ZyBpZD0iMS4xLVNpZ25hbC1TdHJlbmd0aC1NYW5hZ2UtQ2hhbm5lbHMiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0xMzc4LjAwMDAwMCwgLTk5OC4wMDAwMDApIj4KICAgICAgICAgICAgPGcgaWQ9IlN0cmVuZ3RoLUluZGljYXRvcnMiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDEzNzguMDAwMDAwLCA3NTguMDAwMDAwKSI+CiAgICAgICAgICAgICAgICA8ZyBpZD0iU3RyZW5ndGgtLS0yIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgwLjAwMDAwMCwgMjQwLjAwMDAwMCkiPgogICAgICAgICAgICAgICAgICAgIDxyZWN0IGlkPSJSZWN0YW5nbGUtQ29weS01IiBmaWxsPSIjNTI1MjUyIiB4PSIzNS43NDQ2ODA5IiB5PSIwIiB3aWR0aD0iNi4yNTUzMTkxNSIgaGVpZ2h0PSIzMiIgcng9IjMuMTI3NjU5NTciPjwvcmVjdD4KICAgICAgICAgICAgICAgICAgICA8cmVjdCBpZD0iUmVjdGFuZ2xlLUNvcHkiIGZpbGw9IiM1MjUyNTIiIHg9IjI2LjgwODUxMDYiIHk9IjYuNCIgd2lkdGg9IjYuMjU1MzE5MTUiIGhlaWdodD0iMjUuNiIgcng9IjMuMTI3NjU5NTciPjwvcmVjdD4KICAgICAgICAgICAgICAgICAgICA8cmVjdCBpZD0iUmVjdGFuZ2xlLUNvcHktMiIgZmlsbD0iIzUyNTI1MiIgeD0iMTcuODcyMzQwNCIgeT0iMTIuOCIgd2lkdGg9IjYuMjU1MzE5MTUiIGhlaWdodD0iMTkuMiIgcng9IjMuMTI3NjU5NTciPjwvcmVjdD4KICAgICAgICAgICAgICAgICAgICA8cmVjdCBpZD0iUmVjdGFuZ2xlLUNvcHktMyIgZmlsbD0iI0Y5ODkwMCIgeD0iOC45MzYxNzAyMSIgeT0iMTkuMiIgd2lkdGg9IjYuMjU1MzE5MTUiIGhlaWdodD0iMTIuOCIgcng9IjMuMTI3NjU5NTciPjwvcmVjdD4KICAgICAgICAgICAgICAgICAgICA8cmVjdCBpZD0iUmVjdGFuZ2xlLUNvcHktNCIgZmlsbD0iI0Y5ODkwMCIgeD0iMCIgeT0iMjUuNiIgd2lkdGg9IjYuMjU1MzE5MTUiIGhlaWdodD0iNi40IiByeD0iMy4xMjc2NTk1NyI+PC9yZWN0PgogICAgICAgICAgICAgICAgPC9nPgogICAgICAgICAgICA8L2c+CiAgICAgICAgPC9nPgogICAgPC9nPgo8L3N2Zz4="},29321:e=>{"use strict";e.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iNDJweCIgaGVpZ2h0PSIzMnB4IiB2aWV3Qm94PSIwIDAgNDIgMzIiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDQ5LjMgKDUxMTY3KSAtIGh0dHA6Ly93d3cuYm9oZW1pYW5jb2RpbmcuY29tL3NrZXRjaCAtLT4KICAgIDx0aXRsZT5TdHJlbmd0aCAtIDM8L3RpdGxlPgogICAgPGRlc2M+Q3JlYXRlZCB3aXRoIFNrZXRjaC48L2Rlc2M+CiAgICA8ZGVmcz48L2RlZnM+CiAgICA8ZyBpZD0iUGFnZS0xIiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4KICAgICAgICA8ZyBpZD0iMS4xLVNpZ25hbC1TdHJlbmd0aC1NYW5hZ2UtQ2hhbm5lbHMiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0xMzc4LjAwMDAwMCwgLTkxOC4wMDAwMDApIj4KICAgICAgICAgICAgPGcgaWQ9IlN0cmVuZ3RoLUluZGljYXRvcnMiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDEzNzguMDAwMDAwLCA3NTguMDAwMDAwKSI+CiAgICAgICAgICAgICAgICA8ZyBpZD0iU3RyZW5ndGgtLS0zIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgwLjAwMDAwMCwgMTYwLjAwMDAwMCkiPgogICAgICAgICAgICAgICAgICAgIDxyZWN0IGlkPSJSZWN0YW5nbGUtQ29weS01IiBmaWxsPSIjNTI1MjUyIiB4PSIzNS43NDQ2ODA5IiB5PSIwIiB3aWR0aD0iNi4yNTUzMTkxNSIgaGVpZ2h0PSIzMiIgcng9IjMuMTI3NjU5NTciPjwvcmVjdD4KICAgICAgICAgICAgICAgICAgICA8cmVjdCBpZD0iUmVjdGFuZ2xlLUNvcHkiIGZpbGw9IiM1MjUyNTIiIHg9IjI2LjgwODUxMDYiIHk9IjYuNCIgd2lkdGg9IjYuMjU1MzE5MTUiIGhlaWdodD0iMjUuNiIgcng9IjMuMTI3NjU5NTciPjwvcmVjdD4KICAgICAgICAgICAgICAgICAgICA8cmVjdCBpZD0iUmVjdGFuZ2xlLUNvcHktMiIgZmlsbD0iI0Y5QkUwMyIgeD0iMTcuODcyMzQwNCIgeT0iMTIuOCIgd2lkdGg9IjYuMjU1MzE5MTUiIGhlaWdodD0iMTkuMiIgcng9IjMuMTI3NjU5NTciPjwvcmVjdD4KICAgICAgICAgICAgICAgICAgICA8cmVjdCBpZD0iUmVjdGFuZ2xlLUNvcHktMyIgZmlsbD0iI0Y5QkUwMyIgeD0iOC45MzYxNzAyMSIgeT0iMTkuMiIgd2lkdGg9IjYuMjU1MzE5MTUiIGhlaWdodD0iMTIuOCIgcng9IjMuMTI3NjU5NTciPjwvcmVjdD4KICAgICAgICAgICAgICAgICAgICA8cmVjdCBpZD0iUmVjdGFuZ2xlLUNvcHktNCIgZmlsbD0iI0Y5QkUwMyIgeD0iMCIgeT0iMjUuNiIgd2lkdGg9IjYuMjU1MzE5MTUiIGhlaWdodD0iNi40IiByeD0iMy4xMjc2NTk1NyI+PC9yZWN0PgogICAgICAgICAgICAgICAgPC9nPgogICAgICAgICAgICA8L2c+CiAgICAgICAgPC9nPgogICAgPC9nPgo8L3N2Zz4="},59628:e=>{"use strict";e.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iNDJweCIgaGVpZ2h0PSIzMnB4IiB2aWV3Qm94PSIwIDAgNDIgMzIiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDQ5LjMgKDUxMTY3KSAtIGh0dHA6Ly93d3cuYm9oZW1pYW5jb2RpbmcuY29tL3NrZXRjaCAtLT4KICAgIDx0aXRsZT5TdHJlbmd0aCAtIDQ8L3RpdGxlPgogICAgPGRlc2M+Q3JlYXRlZCB3aXRoIFNrZXRjaC48L2Rlc2M+CiAgICA8ZGVmcz48L2RlZnM+CiAgICA8ZyBpZD0iUGFnZS0xIiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4KICAgICAgICA8ZyBpZD0iMS4xLVNpZ25hbC1TdHJlbmd0aC1NYW5hZ2UtQ2hhbm5lbHMiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0xMzc4LjAwMDAwMCwgLTgzOC4wMDAwMDApIj4KICAgICAgICAgICAgPGcgaWQ9IlN0cmVuZ3RoLUluZGljYXRvcnMiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDEzNzguMDAwMDAwLCA3NTguMDAwMDAwKSI+CiAgICAgICAgICAgICAgICA8ZyBpZD0iU3RyZW5ndGgtLS00IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgwLjAwMDAwMCwgODAuMDAwMDAwKSI+CiAgICAgICAgICAgICAgICAgICAgPHJlY3QgaWQ9IlJlY3RhbmdsZS1Db3B5LTUiIGZpbGw9IiM1MjUyNTIiIHg9IjM1Ljc0NDY4MDkiIHk9IjAiIHdpZHRoPSI2LjI1NTMxOTE1IiBoZWlnaHQ9IjMyIiByeD0iMy4xMjc2NTk1NyI+PC9yZWN0PgogICAgICAgICAgICAgICAgICAgIDxyZWN0IGlkPSJSZWN0YW5nbGUtQ29weSIgZmlsbD0iI0FDRDMyMSIgeD0iMjYuODA4NTEwNiIgeT0iNi40IiB3aWR0aD0iNi4yNTUzMTkxNSIgaGVpZ2h0PSIyNS42IiByeD0iMy4xMjc2NTk1NyI+PC9yZWN0PgogICAgICAgICAgICAgICAgICAgIDxyZWN0IGlkPSJSZWN0YW5nbGUtQ29weS0yIiBmaWxsPSIjQUNEMzIxIiB4PSIxNy44NzIzNDA0IiB5PSIxMi44IiB3aWR0aD0iNi4yNTUzMTkxNSIgaGVpZ2h0PSIxOS4yIiByeD0iMy4xMjc2NTk1NyI+PC9yZWN0PgogICAgICAgICAgICAgICAgICAgIDxyZWN0IGlkPSJSZWN0YW5nbGUtQ29weS0zIiBmaWxsPSIjQUNEMzIxIiB4PSI4LjkzNjE3MDIxIiB5PSIxOS4yIiB3aWR0aD0iNi4yNTUzMTkxNSIgaGVpZ2h0PSIxMi44IiByeD0iMy4xMjc2NTk1NyI+PC9yZWN0PgogICAgICAgICAgICAgICAgICAgIDxyZWN0IGlkPSJSZWN0YW5nbGUtQ29weS00IiBmaWxsPSIjQUNEMzIxIiB4PSIwIiB5PSIyNS42IiB3aWR0aD0iNi4yNTUzMTkxNSIgaGVpZ2h0PSI2LjQiIHJ4PSIzLjEyNzY1OTU3Ij48L3JlY3Q+CiAgICAgICAgICAgICAgICA8L2c+CiAgICAgICAgICAgIDwvZz4KICAgICAgICA8L2c+CiAgICA8L2c+Cjwvc3ZnPg=="},89592:e=>{"use strict";e.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iNDJweCIgaGVpZ2h0PSIzMnB4IiB2aWV3Qm94PSIwIDAgNDIgMzIiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDQ5LjMgKDUxMTY3KSAtIGh0dHA6Ly93d3cuYm9oZW1pYW5jb2RpbmcuY29tL3NrZXRjaCAtLT4KICAgIDx0aXRsZT5TdHJlbmd0aCAtIDU8L3RpdGxlPgogICAgPGRlc2M+Q3JlYXRlZCB3aXRoIFNrZXRjaC48L2Rlc2M+CiAgICA8ZGVmcz48L2RlZnM+CiAgICA8ZyBpZD0iUGFnZS0xIiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4KICAgICAgICA8ZyBpZD0iMS4xLVNpZ25hbC1TdHJlbmd0aC1NYW5hZ2UtQ2hhbm5lbHMiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0xMzc4LjAwMDAwMCwgLTc1OC4wMDAwMDApIiBmaWxsPSIjN0VEMzIxIj4KICAgICAgICAgICAgPGcgaWQ9IlN0cmVuZ3RoLUluZGljYXRvcnMiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDEzNzguMDAwMDAwLCA3NTguMDAwMDAwKSI+CiAgICAgICAgICAgICAgICA8ZyBpZD0iU3RyZW5ndGgtLS01Ij4KICAgICAgICAgICAgICAgICAgICA8cmVjdCBpZD0iUmVjdGFuZ2xlLUNvcHkiIHg9IjI2LjgwODUxMDYiIHk9IjYuNCIgd2lkdGg9IjYuMjU1MzE5MTUiIGhlaWdodD0iMjUuNiIgcng9IjMuMTI3NjU5NTciPjwvcmVjdD4KICAgICAgICAgICAgICAgICAgICA8cmVjdCBpZD0iUmVjdGFuZ2xlLUNvcHktNSIgeD0iMzUuNzQ0NjgwOSIgeT0iMCIgd2lkdGg9IjYuMjU1MzE5MTUiIGhlaWdodD0iMzIiIHJ4PSIzLjEyNzY1OTU3Ij48L3JlY3Q+CiAgICAgICAgICAgICAgICAgICAgPHJlY3QgaWQ9IlJlY3RhbmdsZS1Db3B5LTIiIHg9IjE3Ljg3MjM0MDQiIHk9IjEyLjgiIHdpZHRoPSI2LjI1NTMxOTE1IiBoZWlnaHQ9IjE5LjIiIHJ4PSIzLjEyNzY1OTU3Ij48L3JlY3Q+CiAgICAgICAgICAgICAgICAgICAgPHJlY3QgaWQ9IlJlY3RhbmdsZS1Db3B5LTMiIHg9IjguOTM2MTcwMjEiIHk9IjE5LjIiIHdpZHRoPSI2LjI1NTMxOTE1IiBoZWlnaHQ9IjEyLjgiIHJ4PSIzLjEyNzY1OTU3Ij48L3JlY3Q+CiAgICAgICAgICAgICAgICAgICAgPHJlY3QgaWQ9IlJlY3RhbmdsZS1Db3B5LTQiIHg9IjAiIHk9IjI1LjYiIHdpZHRoPSI2LjI1NTMxOTE1IiBoZWlnaHQ9IjYuNCIgcng9IjMuMTI3NjU5NTciPjwvcmVjdD4KICAgICAgICAgICAgICAgIDwvZz4KICAgICAgICAgICAgPC9nPgogICAgICAgIDwvZz4KICAgIDwvZz4KPC9zdmc+"},13781:e=>{"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTYwIiBoZWlnaHQ9IjU2MCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICA8ZyBmaWxsLXJ1bGU9Im5vbnplcm8iIGZpbGw9Im5vbmUiPgogICAgPHBhdGggZD0iTTI4MCAwQzEyNS41MTcgMCAwIDEyNS41MTcgMCAyODBzMTI1LjUxNyAyODAgMjgwIDI4MCAyODAtMTI1LjUxNyAyODAtMjgwUzQzNC40ODMgMCAyODAgMHoiIGZpbGw9IiM1MTU5NUUiLz4KICAgIDxwYXRoIGQ9Ik00MzIuMDY5IDQ2OC4yNzZjLTI0LjEzOCAyNi41NTItNzAgNTMuMTAzLTEwNi4yMDcgNTMuMTAzLTcuMjQxLTkuNjU1IDAtMTIuMDY5IDAtMjEuNzI0LTE5LjMxLTQuODI3LTMxLjM4LTIxLjcyNC00MS4wMzQtMzguNjItMi40MTQtMTkuMzEgMjQuMTM4LTM4LjYyMSAxNi44OTYtNTUuNTE4LTEyLjA2OSAyLjQxNC0yNi41NTItMi40MTQtMzYuMjA3LTkuNjU1LTQuODI3LTQuODI4LTkuNjU1LTkuNjU1LTEyLjA2OS0xNC40ODMtNy4yNDEtNC44MjctMTYuODk2LTcuMjQxLTI0LjEzOC05LjY1NS0yNi41NTEtOS42NTUtNTMuMTAzLTE5LjMxLTcyLjQxMy00MS4wMzQgMi40MTMtMTkuMzEtOS42NTYtMjguOTY2LTIxLjcyNS00My40NDktMTIuMDY5LTEyLjA2OS03LjI0MS0yNC4xMzgtMTIuMDY5LTQxLjAzNC00LjgyNy0xMi4wNy05LjY1NS0yMS43MjQtOS42NTUtMzMuNzkzIDAtMTIuMDcgNC44MjgtMjQuMTM4IDcuMjQyLTM2LjIwNyA3LjI0MS0yMS43MjQgMjEuNzI0LTQzLjQ0OCAyMS43MjQtNjcuNTg2IDIuNDE0LTkuNjU1LTE0LjQ4My0xMi4wNy0yLjQxNC0yNC4xMzggMTIuMDY5LTEyLjA3IDI4Ljk2Ni0yNi41NTIgNDguMjc2LTI2LjU1MiA5LjY1NSAwIDE0LjQ4MyA0LjgyOCAyNC4xMzggMi40MTQgOS42NTUtMi40MTQgMTkuMzEtNC44MjggMjguOTY1LTQuODI4IDE5LjMxLTIuNDE0IDM4LjYyMS03LjI0MSA1My4xMDQtMTkuMzFsMi40MTQgMi40MTRoMTQuNDgybDIuNDE0LTIuNDE0YzIxLjcyNCAxNi44OTYgNzIuNDE0IDkuNjU1IDY3LjU4NiA1MC42OXYyLjQxM2MtMTkuMzEgMi40MTQtMzMuNzkzIDAtNTMuMTAzLTcuMjQxdjIxLjcyNGMyOC45NjUgMTYuODk3IDY1LjE3MiAyOC45NjYgNzcuMjQxIDYwLjM0NS0xMi4wNjkgMTQuNDgzLTI2LjU1MSA3LjI0MS00My40NDggNy4yNDEtNC44MjggNC44MjgtNy4yNDEgOS42NTUtNC44MjggMTYuODk3LTEyLjA2OSA3LjI0MS0yNC4xMzggMTQuNDgzLTI4Ljk2NSAyOC45NjUtMi40MTQgNy4yNDIgMCAxOS4zMS0yLjQxNCAyNi41NTItNC44MjggOS42NTUtMTQuNDgzIDE2Ljg5Ny0xOS4zMSAyNi41NTIgMCAxNC40ODMgNy4yNDEgMjQuMTM4LTcuMjQyIDM2LjIwNy0xOS4zMSAwLTIxLjcyNC0xNC40ODMtMzYuMjA3LTE5LjMxLTEyLjA2OS00LjgyOC0yOC45NjUgMC00MS4wMzQtMi40MTQtMTkuMzEgNy4yNDEtMTYuODk3IDUzLjEwMyA5LjY1NSA0NS44NjIgMTIuMDctNC44MjggMTIuMDctMTIuMDcgMjguOTY2LTkuNjU2IDEyLjA2OSA3LjI0MiA0LjgyNyAyMS43MjUgNC44MjcgMzEuMzggNy4yNDIgNC44MjcgMTkuMzEgMi40MTQgMjQuMTM4IDEyLjA2OSAwIDcuMjQxLTIuNDE0IDE5LjMxIDIuNDE0IDI0LjEzOCA5LjY1NSAxNC40ODIgMzYuMjA3LTkuNjU1IDQzLjQ0OC0xMi4wNyAyMS43MjQtNy4yNCA0NS44NjItNC44MjcgNjcuNTg2LTQuODI3IDE2Ljg5NyAxMi4wNyA0My40NDkgNy4yNDIgNTcuOTMxIDI0LjEzOCA5LjY1Ni0yLjQxNCAxNi44OTctNy4yNDEgMjYuNTUyIDAtOS42NTUgMjguOTY2LTMzLjc5MyA1MC42OS01NS41MTcgNzIuNDE0eiIgZmlsbD0iI0EwQUFCMSIvPgogIDwvZz4KPC9zdmc+Cg=="},52373:e=>{"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDgiIGhlaWdodD0iNDgiIHZpZXdCb3g9IjAgMCA0OCA0OCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICA8cGF0aCBkPSJNMjQgMEMzNy4yNDU5IDAgNDggMTAuNzU0MSA0OCAyNEM0OCAzNy4yNDU5IDM3LjI0NTkgNDggMjQgNDhDMTAuNzU0MSA0OCAwIDM3LjI0NTkgMCAyNEMwIDEwLjc1NDEgMTAuNzU0MSAwIDI0IDBaIiBmaWxsPSIjRTVBMDBEIi8+CiAgPHBhdGggZD0iTTI0IDhMOCAyNUgyMVY0MEgyN1YyNUg0MEwyNCA4WiIgZmlsbD0iYmxhY2siLz4KPC9zdmc+Cg=="},97125:e=>{"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAiIGhlaWdodD0iNDAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CiAgPHBhdGggZD0iTTEyLjcwOCAxNC42NjdhNS4zNCA1LjM0IDAgMCAxLTUuMzMzLTUuMzMzIDUuMzM5IDUuMzM5IDAgMCAxIDUuMzMzLTUuMzMzIDUuMzM5IDUuMzM5IDAgMCAxIDUuMzMzIDUuMzMzIDUuMzM5IDUuMzM5IDAgMCAxLTUuMzMzIDUuMzMzem0wLTkuMzM0Yy0yLjIwNSAwLTQgMS43OTUtNCA0czEuNzk1IDQgNCA0IDQtMS43OTUgNC00LTEuNzk1LTQtNC00ek0yMC4wNDEgMTZjLjM3IDAgLjY2Ny4yOTkuNjY3LjY2NyAwIDQuNzM3LTEuNjk1IDguNDkyLTQuNjY3IDEwLjM3N3Y4LjI4OWEuNjY3LjY2NyAwIDAgMS0uNjY3LjY2N2gtNS4zMzNhLjY2Ny42NjcgMCAwIDEtLjY2Ny0uNjY3di04LjI4OWMtMi45NzItMS44ODQtNC42NjctNS42MzgtNC42NjctMTAuMzc3IDAtLjM2OC4yOTktLjY2Ny42NjctLjY2N2gxNC42Njd6bS03LjI4IDEuMzMzaC0uMTA4bC0uNTg5IDcuMDgxLjY0My42NDMuNjQzLS42NDMtLjU4OS03LjA4MXptMi4yODQgOC43NTRsLS4wMDEtLjAwMWMyLjYxMi0xLjQ4NSA0LjE2Ni00LjY1NCA0LjMxNy04Ljc1M2gtNS4yNjRsLjYwOCA3LjI3OWEuNjY4LjY2OCAwIDAgMS0uMTkzLjUyN2wtMS4zMzMgMS4zMzNhLjY2OS42NjkgMCAwIDEtLjQ3Mi4xOTUuNjU0LjY1NCAwIDAgMS0uNDY5LS4xOTZsLTEuMzMzLTEuMzMzYS42Ny42NyAwIDAgMS0uMTkzLS41MjdsLjYwNy03LjI3N0g2LjA1NWMuMTUxIDQuMSAxLjcwNSA3LjI2OCA0LjMxNiA4Ljc1My4yMDguMTE5LjMzNy4zNC4zMzcuNTh2OGg0di04YzAtLjI0LjEyOS0uNDYxLjMzNy0uNTh6TTM1LjMzMyA1LjMzM2MuMzY4IDAgLjY2Ny4yOTkuNjY3LjY2N3YxOC42NjdhLjY2Ny42NjcgMCAwIDEtLjY2Ny42NjdIMjIuNjY2YS42NjcuNjY3IDAgMCAxIDAtMS4zMzRoMTJWNi42NjdIMjEuMzMzYS42NjcuNjY3IDAgMCAxIDAtMS4zMzRoMTR6TTIzLjAxNyAyMC41NDF2LS4wMDJhLjY2Ni42NjYgMCAwIDEtLjM5Mi0uODU2bDIuNS02LjcxN2EuNjcuNjcgMCAwIDEgLjM4NS0uMzkyLjY4LjY4IDAgMCAxIC41NDguMDMxbDMuMzg5IDEuNzcyIDEuNzUyLTUuMjU3YS42NjYuNjY2IDAgMSAxIDEuMjY0LjQyM2wtMiA2YS42Ny42NyAwIDAgMS0uMzgzLjQwOC42NzQuNjc0IDAgMCAxLS41NTctLjAyOGwtMy40MTMtMS43ODUtMi4yMzYgNi4wMTFhLjY2OS42NjkgMCAwIDEtLjg1Ny4zOTJ6IiBmaWxsPSIjQ0M3QjE5IiBmaWxsLXJ1bGU9Im5vbnplcm8iLz4KPC9zdmc+Cg=="},7568:e=>{"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI0MCIgaGVpZ2h0PSI0MCIgdmlld0JveD0iMCAwIDQwIDQwIj4KICA8ZyBmaWxsPSIjQ0M3QjE5IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgzIDQpIj4KICAgIDxwYXRoIGQ9Ik0yNSwxNiBDMjAuNTg4LDE2IDE3LDE5LjU4OCAxNywyNCBDMTcsMjguNDEyIDIwLjU4OCwzMiAyNSwzMiBDMjkuNDEyLDMyIDMzLDI4LjQxMiAzMywyNCBDMzMsMTkuNTg4IDI5LjQxMiwxNiAyNSwxNiBaIE0yNSwzMC42NjcgQzIxLjMyNCwzMC42NjcgMTguMzMzLDI3LjY3NiAxOC4zMzMsMjQgQzE4LjMzMywyMC4zMjQgMjEuMzI0LDE3LjMzMyAyNSwxNy4zMzMgQzI4LjY3NiwxNy4zMzMgMzEuNjY3LDIwLjMyNCAzMS42NjcsMjQgQzMxLjY2NywyNy42NzYgMjguNjc2LDMwLjY2NyAyNSwzMC42NjcgWiIvPgogICAgPHBhdGggZD0iTTI1LDIwIEMyMi43OTUsMjAgMjEsMjEuNzk1IDIxLDI0IEMyMSwyNi4yMDUgMjIuNzk1LDI4IDI1LDI4IEMyNy4yMDUsMjggMjksMjYuMjA1IDI5LDI0IEMyOSwyMS43OTUgMjcuMjA1LDIwIDI1LDIwIFogTTI1LDI2LjY2NyBDMjMuNTI5LDI2LjY2NyAyMi4zMzMsMjUuNDcxIDIyLjMzMywyNCBDMjIuMzMzLDIyLjUyOSAyMy41MjksMjEuMzMzIDI1LDIxLjMzMyBDMjYuNDcxLDIxLjMzMyAyNy42NjcsMjIuNTI5IDI3LjY2NywyNCBDMjcuNjY3LDI1LjQ3MSAyNi40NzEsMjYuNjY3IDI1LDI2LjY2NyBaIi8+CiAgICA8cGF0aCBkPSJNMzIuMzMzIDkuMzMzTDEuNjY2IDkuMzMzQzEuMjk4IDkuMzMzLjk5OSA5LjYzMi45OTkgMTBMLjk5OSAyNi44MDFDLjk5OSAyOC4xOTcgMi4xNTggMjkuMzMzIDMuNTgzIDI5LjMzM0wxNC4zMzIgMjkuMzMzIDE0LjMzMiAyOCAzLjU4MyAyOEMyLjg5MiAyOCAyLjMzMiAyNy40NjMgMi4zMzIgMjYuODAxTDIuMzMyIDEwLjY2NiAzMS42NjUgMTAuNjY2IDMxLjY2NSAxNS45OTMgMzIuOTk4IDE1Ljk5MyAzMi45OTggMTBDMzIuOTk4IDkuNjMyIDMyLjY5OSA5LjMzMyAzMi4zMzEgOS4zMzNMMzIuMzMzIDkuMzMzek0zMSAwTDMgMEMxLjg5NyAwIDEgLjg5NyAxIDIuMDAxTDEgNy4zMzNDMSA3LjcwMSAxLjI5OSA4IDEuNjY3IDhMMzIuMzM0IDhDMzIuNzAyIDggMzMuMDAxIDcuNzAxIDMzLjAwMSA3LjMzM0wzMy4wMDEgMi4wMDFDMzMuMDAxLjg5NyAzMi4xMDQgNC40NDA4OTIxZS0xNiAzMS4wMDEgNC40NDA4OTIxZS0xNkwzMSAwek0zMS42MiAxLjc3MkwyNi43MjUgNi42NjcgMjMuMjc3IDYuNjY3IDI4LjYxIDEuMzM0IDMwLjk5OSAxLjMzNEMzMS4yODYgMS4zMzQgMzEuNTI2IDEuNTE4IDMxLjYxOSAxLjc3M0wzMS42MiAxLjc3MnpNMTIuNjExIDEuMzMzTDE2LjA1OSAxLjMzMyAxMC43MjYgNi42NjYgNy4yNzggNi42NjYgMTIuNjExIDEuMzMzek01LjM5MiA2LjY2N0wyLjYxMSA2LjY2NyA3Ljk0NCAxLjMzNCAxMC43MjUgMS4zMzQgNS4zOTIgNi42Njd6TTE3Ljk0NCAxLjMzM0wyMS4zOTIgMS4zMzMgMTYuMDU5IDYuNjY2IDEyLjYxMSA2LjY2NiAxNy45NDQgMS4zMzN6TTIzLjI3NyAxLjMzM0wyNi43MjUgMS4zMzMgMjEuMzkyIDYuNjY2IDE3Ljk0NCA2LjY2NiAyMy4yNzcgMS4zMzN6TTMgMS4zMzNMNi4wNTkgMS4zMzMgMi4zMzQgNS4wNTggMi4zMzQgMi4wMDFDMi4zMzQgMS42MzMgMi42MzMgMS4zMzMgMy4wMDEgMS4zMzNMMyAxLjMzM3pNMjguNjExIDYuNjY3TDMxLjY2NyAzLjYxMSAzMS42NjcgNi42NjcgMjguNjExIDYuNjY3eiIvPgogIDwvZz4KPC9zdmc+Cg=="},21696:e=>{"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI0MCIgaGVpZ2h0PSI0MCIgdmlld0JveD0iMCAwIDQwIDQwIj4KICA8ZyBmaWxsPSIjQ0M3QjE5IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxMCA0KSI+CiAgICA8cGF0aCBkPSJNMTUuOTUxLDE2LjQ0NCBDMTUuODUsMTYuMTkzIDE1LjYwOCwxNi4wMjkgMTUuMzM5LDE2LjAyOCBMMTIuNjY3LDE2LjAwNSBMMTIuNjY3LDEwIEMxMi42NjcsOS42MzIgMTIuMzY4LDkuMzMzIDEyLDkuMzMzIEw4LDkuMzMzIEM3LjYzMiw5LjMzMyA3LjMzMyw5LjYzMiA3LjMzMywxMCBMNy4zMzMsMTYgTDQuNjEsMTYgQzQuMzQxLDE2IDQuMDk3LDE2LjE2MyAzLjk5NCwxNi40MTIgQzMuODksMTYuNjYxIDMuOTQ3LDE2Ljk0OCA0LjEzOCwxNy4xMzkgTDkuNDcxLDIyLjQ3MiBDOS42MDIsMjIuNjAxIDkuNzcyLDIyLjY2NyA5Ljk0MywyMi42NjcgQzEwLjExMSwyMi42NjcgMTAuMjgsMjIuNjAzIDEwLjQxMSwyMi40NzUgTDE1LjgsMTcuMTcgQzE1Ljk5MiwxNi45ODEgMTYuMDUyLDE2LjY5NSAxNS45NDksMTYuNDQ1IEwxNS45NTEsMTYuNDQ0IFogTTkuOTQ4LDIxLjA2MSBMNi4yMiwxNy4zMzMgTDgsMTcuMzMzIEM4LjM2OCwxNy4zMzMgOC42NjcsMTcuMDM0IDguNjY3LDE2LjY2NiBMOC42NjcsMTAuNjY2IEwxMS4zMzQsMTAuNjY2IEwxMS4zMzQsMTYuNjY2IEMxMS4zMzQsMTcuMDMxIDExLjYyOSwxNy4zMyAxMS45OTUsMTcuMzMzIEwxMy43MTksMTcuMzQ4IEw5Ljk0OCwyMS4wNjEgWiIvPgogICAgPHBhdGggZD0iTTE2LDcuODg4NjA5MDVlLTMxIEw0LDcuODg4NjA5MDVlLTMxIEMyLjE2Myw3Ljg4ODYwOTA1ZS0zMSAwLjY2NywxLjQ5NSAwLjY2NywzLjMzMyBMMC42NjcsMjguNjY2IEMwLjY2NywzMC41MDUgMi4xNjMsMzEuOTk5IDQsMzEuOTk5IEwxNiwzMS45OTkgQzE3LjgzNywzMS45OTkgMTkuMzMzLDMwLjUwNCAxOS4zMzMsMjguNjY2IEwxOS4zMzMsMy4zMzMgQzE5LjMzMywxLjQ5NCAxNy44MzcsLTEuNzc2MzU2ODRlLTE1IDE2LDcuODg4NjA5MDVlLTMxIFogTTIsNi42NjcgTDE4LDYuNjY3IEwxOCwyNS4zMzQgTDIsMjUuMzM0IEwyLDYuNjY3IFogTTQsMS4zMzMgTDE2LDEuMzMzIEMxNy4xMDMsMS4zMzMgMTgsMi4yMyAxOCwzLjMzMyBMMTgsNS4zMzMgTDIsNS4zMzMgTDIsMy4zMzMgQzIsMi4yMyAyLjg5NywxLjMzMyA0LDEuMzMzIFogTTE2LDMwLjY2NyBMNCwzMC42NjcgQzIuODk3LDMwLjY2NyAyLDI5Ljc3IDIsMjguNjY3IEwyLDI2LjY2NyBMMTgsMjYuNjY3IEwxOCwyOC42NjcgQzE4LDI5Ljc3IDE3LjEwMywzMC42NjcgMTYsMzAuNjY3IFoiLz4KICAgIDxwYXRoIGQ9Ik02LjY2NyA0TDEzLjMzNCA0QzEzLjcwMiA0IDE0LjAwMSAzLjcwMSAxNC4wMDEgMy4zMzMgMTQuMDAxIDIuOTY1IDEzLjcwMiAyLjY2NiAxMy4zMzQgMi42NjZMNi42NjcgMi42NjZDNi4yOTkgMi42NjYgNiAyLjk2NSA2IDMuMzMzIDYgMy43MDEgNi4yOTkgNCA2LjY2NyA0ek0xMS4zMzMgMjguNjY3QzExLjMzMyAyOS40MDMgMTAuNzM2IDMwIDEwIDMwIDkuMjY0IDMwIDguNjY3IDI5LjQwMyA4LjY2NyAyOC42NjcgOC42NjcgMjcuOTMxIDkuMjY0IDI3LjMzNCAxMCAyNy4zMzQgMTAuNzM2IDI3LjMzNCAxMS4zMzMgMjcuOTMxIDExLjMzMyAyOC42Njd6Ii8+CiAgPC9nPgo8L3N2Zz4K"},52919:e=>{"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI0MCIgaGVpZ2h0PSI0MCIgdmlld0JveD0iMCAwIDQwIDQwIj4KICA8ZyBmaWxsPSIjQ0M3QjE5IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSg0IDQpIj4KICAgIDxwYXRoIGQ9Ik0xMi41MzIgMTUuMjcyQzExLjIzMiAxNi41NzIgMTEuMjMyIDE4LjY4OCAxMi41MzIgMTkuOTg3IDEzLjE2MyAyMC42MTYgMTMuOTk5IDIwLjk2MiAxNC44ODkgMjAuOTYyIDE1Ljc3OSAyMC45NjIgMTYuNjE2IDIwLjYxNSAxNy4yNDYgMTkuOTg3IDE4LjU0NiAxOC42ODcgMTguNTQ2IDE2LjU3MSAxNy4yNDYgMTUuMjcyIDE1Ljk4NSAxNC4wMTUgMTMuNzkzIDE0LjAxNSAxMi41MzEgMTUuMjcyTDEyLjUzMiAxNS4yNzJ6TTE2LjMwNCAxOS4wNDRDMTUuNTQ5IDE5Ljc5OSAxNC4yMzEgMTkuNzk5IDEzLjQ3NiAxOS4wNDQgMTIuNjk2IDE4LjI2NCAxMi42OTYgMTYuOTk1IDEzLjQ3NiAxNi4yMTUgMTMuODUzIDE1LjgzOCAxNC4zNTYgMTUuNjMxIDE0Ljg5MSAxNS42MzEgMTUuNDI2IDE1LjYzMSAxNS45MjcgMTUuODM4IDE2LjMwNiAxNi4yMTUgMTcuMDgzIDE2Ljk5NSAxNy4wODMgMTguMjY0IDE2LjMwNSAxOS4wNDRMMTYuMzA0IDE5LjA0NHpNNS45MzIgMjIuODE1QzUuNjcyIDIyLjU1NSA1LjI0OSAyMi41NTUgNC45ODkgMjIuODE1IDQuNzI5IDIzLjA3NSA0LjcyOSAyMy40OTggNC45ODkgMjMuNzU4TDguNzYgMjcuNTI5QzguODkxIDI3LjY2IDkuMDYxIDI3LjcyNCA5LjIzMiAyNy43MjQgOS40MDMgMjcuNzI0IDkuNTczIDI3LjY1OSA5LjcwNCAyNy41MjkgOS45NjQgMjcuMjY5IDkuOTY0IDI2Ljg0NiA5LjcwNCAyNi41ODZMNS45MzIgMjIuODE1eiIvPgogICAgPHBhdGggZD0iTTMxLjQ2MSw1LjMzMyBMMzIuMzIyLDQuNDcyIEMzMi41ODIsNC4yMTIgMzIuNTgyLDMuNzg5IDMyLjMyMiwzLjUyOSBMMjguOTg5LDAuMTk2IEMyOC43MjksLTAuMDY0IDI4LjMwNiwtMC4wNjQgMjguMDQ2LDAuMTk2IEwyNy4xODUsMS4wNTcgTDI2LjMyNCwwLjE5NiBDMjYuMDY0LC0wLjA2NCAyNS42NDEsLTAuMDY0IDI1LjM4MSwwLjE5NiBDMjUuMTIxLDAuNDU2IDI1LjEyMSwwLjg3OSAyNS4zODEsMS4xMzkgTDI2LjI0MiwyIEwyNS4xODUsMy4wNTcgTDI0LjMyNCwyLjE5NiBDMjQuMDY0LDEuOTM2IDIzLjY0MSwxLjkzNiAyMy4zODEsMi4xOTYgQzIzLjEyMSwyLjQ1NiAyMy4xMjEsMi44NzkgMjMuMzgxLDMuMTM5IEwyNC4yNDIsNCBMMjIuNzE0LDUuNTI4IEMyMi40NTQsNS43ODggMjIuNDU0LDYuMjExIDIyLjcxNCw2LjQ3MSBMMjIuOTA5LDYuNjY3IEwxOC40MjgsMTEuMTQ4IEMxNy4zMDQsMTAuNDc1IDE2LjA4OCwxMC4xMjEgMTQuODgsMTAuMTIxIEMxMi4xMDUsMTAuMTIxIDkuOTAzLDExLjkxMiA5LjMwNywxNC41NTQgQzUuNjk0LDE0LjAxIDIuODAyLDE1LjQ5MyAxLjU3NiwxOC40NDkgQzAuMjUzLDIxLjY0MiAxLjI0NywyNS42NjkgNC4wNDgsMjguNDcgQzUuOTg1LDMwLjQwNyA4LjU0LDMxLjUxOCAxMS4wNTcsMzEuNTE4IEMxMy4zMjUsMzEuNTE4IDE1LjM1NCwzMC42MTcgMTYuNjI1LDI5LjA0NiBDMTcuNSwyNy45NjMgMTguNDAyLDI2LjA5NSAxNy45NjIsMjMuMjA5IEMxOS43MTgsMjIuODA4IDIxLjE1NSwyMS42NjggMjEuODgzLDIwLjA2NCBDMjIuNzIsMTguMjE5IDIyLjUyMywxNi4wMjMgMjEuMzcsMTQuMDkyIEwyNS44NTEsOS42MTEgTDI2LjA0Niw5LjgwNiBDMjYuMzA2LDEwLjA2NiAyNi43MjksMTAuMDY2IDI2Ljk4OSw5LjgwNiBMMjguNTE3LDguMjc4IEwyOS4zNzgsOS4xMzkgQzI5LjUxLDkuMjY4IDI5LjY4MSw5LjMzNCAyOS44NTEsOS4zMzQgQzMwLjAyMSw5LjMzNCAzMC4xOTIsOS4yNjkgMzAuMzIzLDkuMTM5IEMzMC41ODMsOC44NzkgMzAuNTgzLDguNDU2IDMwLjMyMyw4LjE5NiBMMjkuNDYsNy4zMzMgTDMwLjUxNyw2LjI3NiBMMzEuMzc4LDcuMTM3IEMzMS41MDksNy4yNjggMzEuNjc5LDcuMzMzIDMxLjg1LDcuMzMzIEMzMi4wMjEsNy4zMzMgMzIuMTkxLDcuMjY4IDMyLjMyMiw3LjEzOCBDMzIuNTgyLDYuODc4IDMyLjU4Miw2LjQ1NSAzMi4zMjIsNi4xOTUgTDMxLjQ1OSw1LjMzMiBMMzEuNDYxLDUuMzMzIFogTTI2LjUxOSw4LjM5MSBMMjYuMzI0LDguMTk2IEMyNi4wNjQsNy45MzYgMjUuNjQxLDcuOTM2IDI1LjM4MSw4LjE5NiBMMjAuMDQ4LDEzLjUyOSBDMTkuODIsMTMuNzU3IDE5Ljc4OCwxNC4xMTYgMTkuOTcyLDE0LjM4MSBDMjEuMTE5LDE2LjAyOSAyMS4zOCwxNy45NDkgMjAuNjY5LDE5LjUxNCBDMjAuMDMzLDIwLjkxNyAxOC43MzYsMjEuODIzIDE3LjExLDIyLjAwNSBDMTYuOTIzLDIyLjAyNiAxNi43NTMsMjIuMTI1IDE2LjY0MywyMi4yNzggQzE2LjUzMiwyMi40MyAxNi40OTIsMjIuNjIzIDE2LjUzMiwyMi44MDYgQzE3LjAwMSwyNC45OTQgMTYuNjczLDI2Ljg2MiAxNS41ODcsMjguMjA5IEMxNC41NzEsMjkuNDY2IDEyLjkyLDMwLjE4NiAxMS4wNTYsMzAuMTg2IEM4Ljg4OSwzMC4xODYgNi42NzcsMjkuMjE3IDQuOTg5LDI3LjUyOSBDMi41NjUsMjUuMTA1IDEuNjg4LDIxLjY2MiAyLjgwNiwxOC45NjEgQzMuNjQ1LDE2LjkzNiA1LjQ4MiwxNS43NzYgNy44NDYsMTUuNzc2IEM4LjQzNSwxNS43NzYgOS4wNjMsMTUuODQ3IDkuNzEsMTUuOTg1IEM5Ljg5NCwxNi4wMiAxMC4wODcsMTUuOTg1IDEwLjIzOSwxNS44NzMgQzEwLjM5MSwxNS43NjQgMTAuNDkxLDE1LjU5NCAxMC41MTIsMTUuNDA2IEMxMC43NzEsMTMuMDgxIDEyLjU2NSwxMS40NTUgMTQuODc3LDExLjQ1NSBDMTUuOTgyLDExLjQ1NSAxNy4xMDgsMTEuODMyIDE4LjEzNCwxMi41NDYgQzE4LjM5OCwxMi43MzEgMTguNzU3LDEyLjY5OCAxOC45ODYsMTIuNDcgTDI0LjMxOSw3LjEzNyBDMjQuNTc5LDYuODc3IDI0LjU3OSw2LjQ1NCAyNC4zMTksNi4xOTQgTDI0LjEyNCw1Ljk5OSBMMjguNTE1LDEuNjA4IEwzMC45MDYsMy45OTkgTDI2LjUxNSw4LjM5IEwyNi41MTksOC4zOTEgWiIvPgogIDwvZz4KPC9zdmc+Cg=="},31481:e=>{"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAiIGhlaWdodD0iNDAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CiAgPHBhdGggZD0iTTM1LjMzMyAyNi42NjdoLS42NjdWMjZhNC42NzIgNC42NzIgMCAwIDAtNC42NjctNC42NjdBNC42NzIgNC42NzIgMCAwIDAgMjUuMzMyIDI2di42NjdoLS42NjdhLjY2Ny42NjcgMCAwIDAtLjY2Ny42Njd2OGMwIC4zNjguMjk5LjY2Ny42NjcuNjY3aDEwLjY2N2EuNjY3LjY2NyAwIDAgMCAuNjY3LS42Njd2LThhLjY2Ny42NjcgMCAwIDAtLjY2Ny0uNjY3aC4wMDF6TTI2LjY2NyAyNkEzLjMzOCAzLjMzOCAwIDAgMSAzMCAyMi42NjcgMy4zMzggMy4zMzggMCAwIDEgMzMuMzMzIDI2di42NjdoLTYuNjY3VjI2aC4wMDF6bTggOC42NjdoLTkuMzMzVjI4aDkuMzMzdjYuNjY3ek0zMCAyOS4zMzNoLjAwMmMuNzM0IDAgMS4zMzMuNTk4IDEuMzMzIDEuMzMzIDAgLjQ4Ny0uMjc2Ljg5Ni0uNjY3IDEuMTI4di44NzJhLjY2Ny42NjcgMCAwIDEtMS4zMzQgMHYtLjg3MmMtLjM5MS0uMjMyLS42NjctLjY0MS0uNjY3LTEuMTI4IDAtLjczNC41OTgtMS4zMzMgMS4zMzMtMS4zMzN6bS01LjM0OS0xNi42NjZoLjAwMmMwIDMuMDI4LTEuMzIxIDUuNjkzLTMuMzE3IDcuMjQ0djMuNDIzaC0xLjMzM3YtMi42MDlhNi4zMjMgNi4zMjMgMCAwIDEtMi42ODMuNjA5IDYuMzE3IDYuMzE3IDAgMCAxLTIuNjUxLS41OTV2Mi41OTVhLjY2OS42NjkgMCAwIDEtLjQ0My42MjhsLTYuNjggMi4zODVhMy4zNCAzLjM0IDAgMCAwLTIuMjExIDMuMTM5djIuNTE1aDE1LjMzM3YxLjMzM2gtMTZhLjY2Ny42NjcgMCAwIDEtLjY2Ny0uNjY3di0zLjE4MWE0LjY3NiA0LjY3NiAwIDAgMSAzLjA5Ni00LjM5NWw2LjIzNy0yLjIyOHYtMi45MzFjLTIuMDEzLTEuNTQ2LTMuMzQ5LTQuMjIyLTMuMzQ5LTcuMjY1QzkuOTg1IDcuODg4IDEzLjI3NCA0IDE3LjMxOCA0YzQuMDQ0IDAgNy4zMzMgMy44ODggNy4zMzMgOC42Njd6bS03LjMzNC03LjMzNGwtLjAwMS4wMDFjLTIuODM1IDAtNS4yMSAyLjQxNi01LjgzNSA1LjY1MWE0LjY4IDQuNjggMCAwIDAgMS44MzUuMzQ5YzEuNzQ1IDAgMy44MTUtMS4wMzUgNC40MjgtMi4yMTVhLjY2NS42NjUgMCAwIDEgLjU3OS0uMzU5LjYyNS42MjUgMCAwIDEgLjU5Mi4zMzZjMS4xMzkgMS45OTIgMi4zMzggMi42MjQgNC4yNzUgMi4yNDlsLjAyNC0uMDAxYy0uNTEyLTMuNDE0LTIuOTU4LTYuMDExLTUuODk3LTYuMDExem0tNiA3LjMzNGMwIDQuMDQ0IDIuNjkyIDcuMzMzIDYgNy4zMzNzNi0zLjI4OSA2LTcuMzMyYTYuNTA0IDYuNTA0IDAgMCAxLTEuMTEzLjExM2MtMS41OTIgMC0yLjg0NC0uNzAyLTMuOTA3LTIuMTgxLTEuMTM5IDEuMTk2LTMuMTQ3IDIuMDY3LTQuOTggMi4wNjctLjcxNCAwLTEuMzYtLjExLTEuOTg3LS4zMjEtLjAwNC4xMDgtLjAxMy4yMTMtLjAxMy4zMjF6IiBmaWxsPSIjQ0M3QjE5IiBmaWxsLXJ1bGU9Im5vbnplcm8iLz4KPC9zdmc+Cg=="},88359:e=>{"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyNzYgODAiPgogIDxnIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCI+CiAgICA8cmVjdCB3aWR0aD0iMjc1Ljk2NSIgaGVpZ2h0PSI4MCIgZmlsbD0iIzAwMCIgb3BhY2l0eT0iLjI1Ii8+CiAgICA8ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxNi4xOTggNi4wMDUpIj4KICAgICAgPGcgZmlsbD0iI0ZGRiIgb3BhY2l0eT0iLjA1Ij4KICAgICAgICA8cmVjdCB3aWR0aD0iMjU1LjU2OCIgaGVpZ2h0PSIxIiB5PSI2MC4wNDkiLz4KICAgICAgICA8cmVjdCB3aWR0aD0iMjU1LjU2OCIgaGVpZ2h0PSIxIiB5PSI0OC4wMzkiLz4KICAgICAgICA8cmVjdCB3aWR0aD0iMjU1LjU2OCIgaGVpZ2h0PSIxIiB5PSIzNi4wMjkiLz4KICAgICAgICA8cmVjdCB3aWR0aD0iMjU1LjU2OCIgaGVpZ2h0PSIxIiB5PSIyNC4wMiIvPgogICAgICAgIDxyZWN0IHdpZHRoPSIyNTUuNTY4IiBoZWlnaHQ9IjEiIHk9IjEyLjAxIi8+CiAgICAgICAgPHJlY3Qgd2lkdGg9IjI1NS41NjgiIGhlaWdodD0iMSIvPgogICAgICA8L2c+CiAgICAgIDxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDAgOC43MDcpIj4KICAgICAgICA8ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgwIDEwLjgwOSkiPgogICAgICAgICAgPHJlY3Qgd2lkdGg9IjI4Ljc5NiIgaGVpZ2h0PSIyLjQwMiIgeD0iMjI2Ljc3MSIgeT0iMzAuNjI1IiBmaWxsPSIjRTY5RjIzIiByeD0iLjYiLz4KICAgICAgICAgIDxyZWN0IHdpZHRoPSIyOC43OTYiIGhlaWdodD0iNi45MDYiIHg9IjE4OC45NzYiIHk9IjIwLjcxNyIgZmlsbD0iI0YxMzM1RSIgcng9Ii42Ii8+CiAgICAgICAgICA8cmVjdCB3aWR0aD0iMjguNzk2IiBoZWlnaHQ9IjkuNjA4IiB4PSIxNTEuMTgxIiBmaWxsPSIjRjEzMzVFIiByeD0iLjYiLz4KICAgICAgICAgIDxyZWN0IHdpZHRoPSIyOC43OTYiIGhlaWdodD0iMS4yMDEiIHg9IjExMy4zODYiIHk9IjM3LjIzIiBmaWxsPSIjRTY5RjIzIiByeD0iLjYiLz4KICAgICAgICAgIDxyZWN0IHdpZHRoPSIyOC43OTYiIGhlaWdodD0iNS4xMDQiIHg9Ijc1LjU5IiB5PSIzMS41MjYiIGZpbGw9IiMzNjZERkMiIHJ4PSIuNiIvPgogICAgICAgICAgPHJlY3Qgd2lkdGg9IjI4Ljc5NiIgaGVpZ2h0PSIxMC41MDkiIHg9IjM3Ljc5NSIgeT0iMjQuNjIiIGZpbGw9IiMzNjZERkMiIHJ4PSIuNiIvPgogICAgICAgICAgPHJlY3Qgd2lkdGg9IjI4Ljc5NiIgaGVpZ2h0PSIyLjQwMiIgeT0iMzUuNzI5IiBmaWxsPSIjMzY2REZDIiByeD0iLjYiLz4KICAgICAgICA8L2c+CiAgICAgICAgPGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMCAyMS4wMTcpIj4KICAgICAgICAgIDxyZWN0IHdpZHRoPSIyOC43OTYiIGhlaWdodD0iNi45MDYiIHg9IjIyNi43NzEiIHk9IjIzLjQxOSIgZmlsbD0iI0YxMzM1RSIgcng9Ii42Ii8+CiAgICAgICAgICA8cmVjdCB3aWR0aD0iMjguNzk2IiBoZWlnaHQ9IjEyLjMxIiB4PSIxODguOTc2IiB5PSIxOC4wMTUiIGZpbGw9IiM5QUQxODYiIHJ4PSIuNiIvPgogICAgICAgICAgPHJlY3Qgd2lkdGg9IjI4Ljc5NiIgaGVpZ2h0PSIzMC4zMjUiIHg9IjE1MS4xODEiIGZpbGw9IiM5QUQxODYiIHJ4PSIuNiIvPgogICAgICAgICAgPHJlY3Qgd2lkdGg9IjI4Ljc5NiIgaGVpZ2h0PSIxLjUwMSIgeD0iMTEzLjM4NiIgeT0iMjguODIzIiBmaWxsPSIjMzY2REZDIiByeD0iLjYiLz4KICAgICAgICAgIDxyZWN0IHdpZHRoPSIyOC43OTYiIGhlaWdodD0iMy4zMDMiIHg9Ijc1LjU5IiB5PSIyNy4wMjIiIGZpbGw9IiNGMTMzNUUiIHJ4PSIuNiIvPgogICAgICAgICAgPHJlY3Qgd2lkdGg9IjI4Ljc5NiIgaGVpZ2h0PSI0LjgwNCIgeD0iMzcuNzk1IiB5PSIyNS41MjEiIGZpbGw9IiNGMTMzNUUiIHJ4PSIuNiIvPgogICAgICAgICAgPHJlY3Qgd2lkdGg9IjI4Ljc5NiIgaGVpZ2h0PSIxLjgwMSIgeT0iMjguNTIzIiBmaWxsPSIjRjEzMzVFIiByeD0iLjYiLz4KICAgICAgICA8L2c+CiAgICAgICAgPGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMCAzLjkwMykiPgogICAgICAgICAgPHJlY3Qgd2lkdGg9IjI4Ljc5NiIgaGVpZ2h0PSI2LjMwNSIgeD0iMTUxLjE4MSIgZmlsbD0iIzM2NkRGQyIgcng9Ii42Ii8+CiAgICAgICAgICA8cmVjdCB3aWR0aD0iMjguNzk2IiBoZWlnaHQ9IjMuMzAzIiB4PSI3NS41OSIgeT0iMzQuNTI4IiBmaWxsPSIjRTY5RjIzIiByeD0iLjYiLz4KICAgICAgICAgIDxyZWN0IHdpZHRoPSIyOC43OTYiIGhlaWdodD0iOC40MDciIHg9IjM3Ljc5NSIgeT0iMjIuNTE4IiBmaWxsPSIjRTY5RjIzIiByeD0iLjYiLz4KICAgICAgICAgIDxyZWN0IHdpZHRoPSIyOC43OTYiIGhlaWdodD0iMS44MDEiIHk9IjQwLjIzMyIgZmlsbD0iI0U2OUYyMyIgcng9Ii42Ii8+CiAgICAgICAgPC9nPgogICAgICAgIDxyZWN0IHdpZHRoPSIyOC43OTYiIGhlaWdodD0iMy4zMDMiIGZpbGw9IiNFNjlGMjMiIHJ4PSIuNiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTUxLjE4KSIvPgogICAgICA8L2c+CiAgICAgIDxyZWN0IHdpZHRoPSIxLjUiIGhlaWdodD0iMS41MDEiIHg9IjI0MC41NyIgeT0iNjAuMzQ5IiBmaWxsPSIjRkZGIiBvcGFjaXR5PSIuMSIvPgogICAgICA8cmVjdCB3aWR0aD0iMS41IiBoZWlnaHQ9IjEuNTAxIiB4PSIxNjQuOTc5IiB5PSI2MC4zNDkiIGZpbGw9IiNGRkYiIG9wYWNpdHk9Ii4xIi8+CiAgICAgIDxyZWN0IHdpZHRoPSIxLjUiIGhlaWdodD0iMS41MDEiIHg9IjIwMi43NzQiIHk9IjYwLjM0OSIgZmlsbD0iI0ZGRiIgb3BhY2l0eT0iLjEiLz4KICAgICAgPHJlY3Qgd2lkdGg9IjEuNSIgaGVpZ2h0PSIxLjUwMSIgeD0iODkuMzg5IiB5PSI2MC4zNDkiIGZpbGw9IiNGRkYiIG9wYWNpdHk9Ii4xIi8+CiAgICAgIDxyZWN0IHdpZHRoPSIxLjUiIGhlaWdodD0iMS41MDEiIHg9IjEyNy4xODQiIHk9IjYwLjM0OSIgZmlsbD0iI0ZGRiIgb3BhY2l0eT0iLjEiLz4KICAgICAgPHJlY3Qgd2lkdGg9IjEuNSIgaGVpZ2h0PSIxLjUwMSIgeD0iNTEuNTkzIiB5PSI2MC4zNDkiIGZpbGw9IiNGRkYiIG9wYWNpdHk9Ii4xIi8+CiAgICAgIDxyZWN0IHdpZHRoPSIxLjUiIGhlaWdodD0iMS41MDEiIHg9IjEzLjc5OCIgeT0iNjAuMzQ5IiBmaWxsPSIjRkZGIiBvcGFjaXR5PSIuMSIvPgogICAgPC9nPgogICAgPGcgZmlsbD0iI0ZGRiIgb3BhY2l0eT0iLjEiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDUuNDc0IDUuNTc1KSI+CiAgICAgIDxyZWN0IHdpZHRoPSIxMC45NDkiIGhlaWdodD0iMi4xOTIiIHg9IjE5LjcwOCIgeT0iNjYuNzUzIiByeD0iMS4wOTYiLz4KICAgICAgPHJlY3Qgd2lkdGg9IjEwLjk0OSIgaGVpZ2h0PSIyLjE5MiIgeD0iNTcuNjM2IiB5PSI2Ni43NTMiIHJ4PSIxLjA5NiIvPgogICAgICA8cmVjdCB3aWR0aD0iMTAuOTQ5IiBoZWlnaHQ9IjIuMTkyIiB4PSI5NS4xNTgiIHk9IjY2Ljc1MyIgcng9IjEuMDk2Ii8+CiAgICAgIDxyZWN0IHdpZHRoPSIxMC45NDkiIGhlaWdodD0iMi4xOTIiIHg9IjEzMy4zODMiIHk9IjY2Ljc1MyIgcng9IjEuMDk2Ii8+CiAgICAgIDxyZWN0IHdpZHRoPSIxMC45NDkiIGhlaWdodD0iMi4xOTIiIHg9IjE3MS4wMjYiIHk9IjY2Ljc1MyIgcng9IjEuMDk2Ii8+CiAgICAgIDxyZWN0IHdpZHRoPSIxMC45NDkiIGhlaWdodD0iMi4xOTIiIHg9IjIwOC44MzQiIHk9IjY2Ljc1MyIgcng9IjEuMDk2Ii8+CiAgICAgIDxyZWN0IHdpZHRoPSIxMS45NDkiIGhlaWdodD0iMi4xOTIiIHg9IjI0Ni4wNTkiIHk9IjY2Ljc1MyIgcng9IjEuMDk2Ii8+CiAgICAgIDxyZWN0IHdpZHRoPSI2LjU2OSIgaGVpZ2h0PSIyLjE5MiIgcng9IjEuMDk2Ii8+CiAgICAgIDxyZWN0IHdpZHRoPSI2LjU2OSIgaGVpZ2h0PSIyLjE5MiIgeT0iMTEuNzI1IiByeD0iMS4wOTYiLz4KICAgICAgPHJlY3Qgd2lkdGg9IjYuNTY5IiBoZWlnaHQ9IjIuMTkyIiB5PSIyMy45MjUiIHJ4PSIxLjA5NiIvPgogICAgICA8cmVjdCB3aWR0aD0iNi41NjkiIGhlaWdodD0iMi4xOTIiIHk9IjM1LjgyNSIgcng9IjEuMDk2Ii8+CiAgICAgIDxyZWN0IHdpZHRoPSI2LjU2OSIgaGVpZ2h0PSIyLjE5MiIgeT0iNDcuOTI1IiByeD0iMS4wOTYiLz4KICAgIDwvZz4KICA8L2c+Cjwvc3ZnPgo="},47311:(e,t,n)=>{"use strict";e.exports=n.p+"static/7a5c5fc090835f292a8f.svg"},26782:e=>{"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAiIGhlaWdodD0iNDAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CiAgPHBhdGggZD0iTTkuNDk3IDcuNDM4YS42ODguNjg4IDAgMSAxLTEuMzc1IDAgLjY4OC42ODggMCAwIDEgMS4zNzUgMHptMi43NSAwYS42ODguNjg4IDAgMSAxLTEuMzc1IDAgLjY4OC42ODggMCAwIDEgMS4zNzUgMHptMi43NSAwYS42ODguNjg4IDAgMSAxLTEuMzc1IDAgLjY4OC42ODggMCAwIDEgMS4zNzUgMHptMi4wNjMgMTguNTZ2LS4wMDFhLjY4OC42ODggMCAxIDEgMCAxLjM3NUg3LjQzOEEzLjQ0IDMuNDQgMCAwIDEgNCAyMy45MzZ2LTE2LjVBMy40NCAzLjQ0IDAgMCAxIDcuNDM3IDRoMjEuOTk4YTMuNDQgMy40NCAwIDAgMSAzLjQzNyAzLjQzN3YxMWEuNjg4LjY4OCAwIDEgMS0xLjM3NiAwdi03LjU2Mkg1LjM3NHYxMy4wNjJjMCAxLjEzNy45MjQgMi4wNjIgMi4wNjIgMi4wNjJoOS42MjR6TTcuNDM1IDUuMzc3YTIuMDY0IDIuMDY0IDAgMCAwLTIuMDYzIDIuMDYyVjkuNWgyNi4xMjNWNy40MzhhMi4wNjQgMi4wNjQgMCAwIDAtMi4wNjItMi4wNjJINy40MzV6TTM2LjY1NCAzMC4xNWwuMDAyLS4wMDJhLjY4NS42ODUgMCAwIDEgLjI1Mi45MzhsLTIuMDYyIDMuNTcyYS42NzcuNjc3IDAgMCAxLS40MTcuMzIuNzAxLjcwMSAwIDAgMS0uNTIzLS4wN2wtMS4wOTItLjYzMmMtLjQxLjMtLjg1Mi41NTQtMS4zMTcuNzZ2MS4yNzRjMCAuMzgtLjMwOC42ODctLjY4OC42ODdoLTQuMTI0YS42ODguNjg4IDAgMCAxLS42ODgtLjY4N3YtMS4yNjhhNy4zMTEgNy4zMTEgMCAwIDEtMS4zMzctLjc2MmwtMS4xMDguNjM1YS42OS42OSAwIDAgMS0uOTM3LS4yNTJsLTIuMDYzLTMuNTcyYS42ODguNjg4IDAgMCAxIC4yNTItLjk0bDEuMDk0LS42MzRhNi4zMjggNi4zMjggMCAwIDEgLjAwMS0xLjUzNWwtMS4wOTQtLjYzMmEuNjg3LjY4NyAwIDAgMS0uMjUtLjk0bDIuMDYzLTMuNTcyYS42OS42OSAwIDAgMSAuOTM3LS4yNTJsMS4xMDUuNjM1Yy40MTgtLjMuODY2LS41NTUgMS4zMzYtLjc2MnYtMS4yNzRjMC0uMzguMzA4LS42ODcuNjg4LS42ODdoNC4xMjRjLjM4IDAgLjY4OC4zMDguNjg4LjY4N3YxLjI3NGMuNDY0LjIwNi45MDUuNDYgMS4zMTYuNzU5bDEuMDg5LS42MzJhLjY3OS42NzkgMCAwIDEgLjUyMy0uMDcuNjkuNjkgMCAwIDEgLjQxNy4zMmwyLjA2MyAzLjU3MmMuMTkuMzMuMDc3Ljc1LS4yNTIuOTRsLTEuMDk2LjYzNGMuMDU5LjUxLjA2IDEuMDI0IDAgMS41MzRsMS4wOTguNjM0em0tMi42NTYgMy4yMjZsMS4zNzMtMi4zNzktLjkwNy0uNTI0YS42ODcuNjg3IDAgMCAxLS4zMzEtLjcyYy4wNjItLjMzNi4wOTQtLjY3My4wOTQtMS4wMDNhNS41IDUuNSAwIDAgMC0uMDk1LTEuMDAyLjY4NS42ODUgMCAwIDEgLjMzLS43MjFsLjkwNy0uNTI0LTEuMzc0LTIuMzgtLjg5NS41MjFhLjY5LjY5IDAgMCAxLS43OTItLjA3MyA1Ljg0NyA1Ljg0NyAwIDAgMC0xLjc0LTEuMDA0LjY4Ny42ODcgMCAwIDEtLjQ0Ni0uNjQ0di0xLjA0OGgtMi43NXYxLjA0OGEuNjk2LjY5NiAwIDAgMS0uNDQ3LjY0OGMtLjY2Ni4yNDctMS4yOS42MDMtMS43NTYgMS4wMDNhLjY4Ny42ODcgMCAwIDEtLjc4OS4wNzRsLS45MTItLjUyNS0xLjM3NyAyLjM4My45MDQuNTI0Yy4yNS4xNDYuMzgzLjQzMy4zMzEuNzE5YTUuNDUyIDUuNDUyIDAgMCAwLS4wOTggMS4wMDJjMCAuMzM2LjAzMy42NzIuMDk2IDEuMDAyYS42ODcuNjg3IDAgMCAxLS4zMzMuNzJsLS45MDQuNTIzIDEuMzc2IDIuMzgzLjkxNi0uNTI1YS42ODYuNjg2IDAgMCAxIC43ODkuMDc1Yy40NjYuNCAxLjA5Ljc1NSAxLjc1NCAxLjAwMy4yNy4xLjQ0OS4zNTcuNDQ4LjY0NHYxLjA0OGgyLjc1di0xLjA0OGMwLS4yODcuMTgtLjU0NC40NS0uNjQ0YTUuNzQ0IDUuNzQ0IDAgMCAwIDEuNzM3LTEuMDA0LjY5LjY5IDAgMCAxIC43OTItLjA3M2wuODk5LjUyem0tNS4yNzItOC4wNjRhMy40NCAzLjQ0IDAgMCAxIDMuNDM3IDMuNDM3IDMuNDQgMy40NCAwIDAgMS0zLjQzNyAzLjQzNyAzLjQ0IDMuNDQgMCAwIDEtMy40MzctMy40MzcgMy40NCAzLjQ0IDAgMCAxIDMuNDM3LTMuNDM3em0wIDUuNWEyLjA2NCAyLjA2NCAwIDAgMCAyLjA2My0yLjA2MyAyLjA2NCAyLjA2NCAwIDAgMC0yLjA2My0yLjA2MiAyLjA2NCAyLjA2NCAwIDAgMC0yLjA2MiAyLjA2MmMwIDEuMTM3LjkyNSAyLjA2MiAyLjA2MiAyLjA2MnoiIGZpbGw9IiNDQzdCMTkiIGZpbGwtcnVsZT0ibm9uemVybyIvPgo8L3N2Zz4K"},56151:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var r=n(19755),i=n.n(r),a=n(13469),s=n.n(a),o=n(19130),l=n(21133);const c=o.Z.extend({mixins:l.Z,initialize(e={}){e.interface&&(this.interface=e.interface),e.props&&(this.props=e.props),s().each(this.interface,(e=>{this[e]=s().bind(this._proxy,this,e)}))},_proxy(e,...t){return this.getInstance()[e](...t)},register(e,t={}){this.hasInstance()&&!t.ignorePrevious&&(this._previousInstance=this.getInstance()),this._instance=e,t.silent||this.trigger("change:instance",e)},registerOnce(e){if(!this.hasInstance()){const t=e();this.register(t.instance||t,t.options||void 0)}},restorePrevious(){this._previousInstance&&this.register(this._previousInstance)},registered(){const e=i().Deferred();return this.hasInstance()?e.resolve(this.getInstance()):this.listenToOnce(this,"change:instance",e.resolve),e.promise()},getInstance(){if(this.hasInstance())return this._instance;throw new Error("Nothing has been registered to this adapter.")},hasInstance(){return null!=this._instance},prop(e){if(s().contains(this.props,e))return this.getInstance()[e];throw new Error("The "+e+" property has not been defined for this adapter")}})},93966:(e,t,n)=>{"use strict";n.d(t,{Cq:()=>l,X_:()=>c,s4:()=>d,DB:()=>u});var r=n(19755),i=n.n(r);n(13469),n(11133);const a={},s={};function o(e,t,n){a[e]=function(e,t){if(!t)return e;const n={};return t.forEach((t=>{n[t]=(...n)=>e[t](...n)})),n}(t,n);const r=s[e];r&&(delete s[e],r.resolve(a[e]))}function l(e){for(const t in e){const n=e[t];let r,i;Array.isArray(n)?(r=n[0],i=n[1]):r=n,o(t,r,i)}}function c(e){return d(e)?i().Deferred().resolve(a[e]).promise():(s[e]||(s[e]=i().Deferred()),s[e].promise())}function d(e){return a.hasOwnProperty(e)}function u(e){return a[e]}},39670:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r=new(n(56151).Z)({props:["X-Plex-Client-Identifier","X-Plex-Device","X-Plex-Device-Name","X-Plex-Device-Screen-Resolution","X-Plex-Device-Vendor","X-Plex-Model","X-Plex-Platform","X-Plex-Platform-Version","X-Plex-Product","X-Plex-Version"]})},3595:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r=new(n(56151).Z)({interface:["getLanguages","load","t"]})},61682:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r=new(n(56151).Z)({interface:["get","set","remove","clear"]})},94018:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(13469),i=n.n(r),a=n(11133),s=n(96840);const o={_map:{},register(e,t){(0,a.Z)(i().isFunction(t),`The "${e}" command must be a function`),this._map[e]=t},registerAll(e){i().each(e,((e,t)=>{"__esModule"!==t&&this.register(t,e)}))},hasRegistered(e){return this._map.hasOwnProperty(e)},reset(){this._map={}},execute(e,...t){const n=this._map[e];if((0,a.Z)(n,`The "${e}" command has not been registered`),n)return(0,s.Z)("[Commands] Executing",e),n(...t)}}},14e3:(e,t,n)=>{"use strict";n.d(t,{EH:()=>y,NF:()=>v,ZP:()=>I});var r=n(13469),i=n.n(r),a=n(9390),s=n.n(a);const o={bindToModel:function(){this.bindings&&i().each(i().keys(this.bindings),(function(e){const t=this.bindings[e];let n;if(n=t.model?this[t.model]:this[this.bindingsModel]||this.model,!n)return;const r=t.modelListeners||[t.modelAttribute];i().each(r,(function(r){const a={obj:n,name:"change:"+r,callback:i().bind(this.renderBinding,this,e,t,n)};this._bindingListeners||(this._bindingListeners=[]),this._bindingListeners.push(a),this.listenTo(a.obj,a.name,a.callback)}),this),this.renderBinding(e,t,n)}),this)},unbindFromModel:function(){this.bindings&&(i().each(this._bindingListeners,(function(e){this.stopListening(e.obj,e.name,e.callback)}),this),this._bindingListeners=null)},renderBinding:function(e,t,n){const r=this.$(e),a=t.formatter,s=!!t.isHtml,o=t.autohide,l=t.hiddenClass||"hidden";let c=n.get(t.modelAttribute);if(a&&(c=a.call(this,c,r)),o){const e=i().isFunction(o)?o.call(this,c):c;r.toggleClass(l,!e)}t.manual||(!s&&i().isString(c)&&(c=i().escape(c)),r.html(c))}};var l=n(19130),c=(n(91033),n(84936)),d=Object.defineProperty,u=Object.prototype.hasOwnProperty,p=Object.getOwnPropertySymbols,m=Object.prototype.propertyIsEnumerable,h=(e,t,n)=>t in e?d(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;function g(e){const t={},n=i().result(e,"responseType");return n&&n.accept&&(t.Accept=n.accept),t}const y=3e4,v=6e4,f=s().noConflict(),b=f.sync;f.sync=function(e,t,n){var r=n,{url:a,data:s,headers:o}=r,l=((e,t)=>{var n={};for(var r in e)u.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&p)for(var r of p(e))t.indexOf(r)<0&&m.call(e,r)&&(n[r]=e[r]);return n})(r,["url","data","headers"]);const d=function(e,t){return t.server?t.server:e.getXHROptions?e:e.provider?e.provider:e.server?e.server:e}(t,l),f=a||i().result(t,"syncUrl")||i().result(t,"url"),I=i().isObject(s)?c.Z.stringifyParams(s):s,S=!!I&&I.indexOf("checkFiles=1")>-1;let M=((e,t)=>{for(var n in t||(t={}))u.call(t,n)&&h(e,n,t[n]);if(p)for(var n of p(t))m.call(t,n)&&h(e,n,t[n]);return e})({data:I,dataType:"text",processData:!1,headers:i().extend(g(t),o),timeout:S?v:y},l);return i().isFunction(d.getXHROptions)?M=d.getXHROptions(f,M):M.url=f,b(e,t,M)},f.wrapError=function(e,t){const n=t.error;t.error=function(r){n&&n(e,r,t),e.trigger("error",e,r,t)}},i().extend(f.View.prototype,o),[f.Model,f.Collection,f.Router,f.View,f.History].forEach((e=>{e.extend=l.Z.extend}));const I=f},65652:(e,t,n)=>{"use strict";n.d(t,{Z:()=>E});var r=n(13469),i=n.n(r),a=n(14e3),s=n(37434),o=n.n(s),l=n(19755),c=n.n(l);c().fn.isDisabled=function(){return this.hasClass("disabled")||this.hasClass("active")||this.hasClass("hidden")},c().fn.selectText=function(){const e=this[0];let t;if(document.body.createTextRange)t=document.body.createTextRange(),t.moveToElementText(e),t.select();else if(window.getSelection){const n=window.getSelection();t=document.createRange(),t.selectNodeContents(e),n.removeAllRanges(),n.addRange(t)}},c().fn.triggerReflow=function(){const e=this[0];return e&&e.offsetHeight,this};var d=n(11133),u=n(96840);o().isNodeAttached=function(e){return a.ZP.$.contains(document.documentElement,e)};const p=i().clone(o().View.prototype),m=i().clone(o().CollectionView.prototype),h=i().clone(o().Region.prototype),g=i().clone(o().Region),y=i().clone(o().Layout.prototype),v={constructor:function(){this.wrapAfterRender(),p.constructor.apply(this,arguments),this.listenViewEvents()},listenViewEvents:function(){this.stopListeningViewEvents();const e=i().result(this,"viewEvents");e&&(this._viewEventsListeners=i().mapObject(e,(e=>i().isString(e)?this[e]:e)),this.listenTo(this,this._viewEventsListeners))},stopListeningViewEvents:function(){this._viewEventsListeners&&(this.stopListening(this,this._viewEventsListeners),delete this._viewEventsListeners)},_setElement:function(){p._setElement.apply(this,arguments),this.el&&(this.el._viewInstance?this.el._viewInstance!==this&&u.Z.warn('Multiple views registered for a single element with class="%s"',this.el.className):this.el._viewInstance=this)},_removeElement:function(){this.el&&delete this.el._viewInstance,p._removeElement.apply(this,arguments)},bindAllWhenRendered:function(){(0,d.Z)(arguments.length>0,"`bindAllWhenRendered` requires at least one function");const e=Array.isArray(arguments[0])?arguments[0]:arguments;i().each(e,(function(e){try{this[e]=this.whenRendered(this[e])}catch(t){(0,d.Z)(!1,"`bindAllWhenRendered` is unable to wrap "+JSON.stringify(e))}}),this)},whenRendered:function(e){return(0,d.Z)(i().isFunction(e),"`whenRendered` must be called with a single function"),i().bind((function(){if(this.isClosed)return;const t=i().toArray(arguments),n=i().bind((function(){this.isRendered&&!this.isClosed&&e.apply(this,t)}),this);this.isRendered?i().defer(n):this.listenToOnce(this,"render",(function(){i().defer(n)}))}),this)},wrapAfterRender:function(){void 0!==this.onlyAfterRender&&((0,d.Z)(Array.isArray(this.onlyAfterRender),"`onlyAfterRender` must be an array"),this.bindAllWhenRendered.apply(this,this.onlyAfterRender))},bindUIElements:function(){p.bindUIElements.apply(this,arguments),this.bindToModel(),this.isRendered=!0},unbindUIElements:function(){p.unbindUIElements.apply(this,arguments),this.unbindFromModel()},_getImmediateChildren:function(){return[]},_getNestedViews:function(){const e=this._getImmediateChildren();return e.length?i().reduce(e,(function(e,t){return t._getNestedViews?e.concat(t._getNestedViews()):e}),e):e}},f={constructor:function(){m.constructor.apply(this,arguments)},triggerRendered:function(){return this.isRendered=!0,m.triggerRendered.apply(this,arguments)},rebase:function(e){return this.stopListening(this.collection),this.collection=e,this._initialEvents(),i().isFunction(this._renderChildren)?this._renderChildren():this.render(),this},buildItemView:function(){const e=m.buildItemView.apply(this,arguments);return e._parentView=this,e},_getImmediateChildren:function(){return i().values(this.children._views)}},b={constructor:function(){m.constructor.apply(this,arguments)}},I={append:function(e,t,n){const r=e.isClosed||i().isUndefined(e.$el),a=e!==this.currentView;return a&&this.close(),e.render(),(a||r)&&(t||(t=this.getEl(this.el)),n?t.prepend(e.el):t.append(e.el)),this.attachView(e),o().triggerMethod.call(this,"show",e),o().triggerMethod.call(e,"show"),this._updateParentView(e),this._triggerAttached(e,t),this},prepend:function(e,t){return this.append(e,t,!0)},show:function(e){h.show.apply(this,arguments),this._updateParentView(e),this._triggerAttached(e,this.$el)},_triggerAttached:function(e,t){if(!o().isNodeAttached(t.get(0)))return;const n=i().union([e],i().result(e,"_getNestedViews")||[]);i().each(n,(function(e){e.triggerMethod&&e.triggerMethod("attached",this)}),this)},_updateParentView:function(e){e&&(e._parentView=this._parentView)}},S={buildRegion:function(e,t){const n=g.buildRegion.apply(this,arguments);return n._parentView=e._parentView,n}},M={_buildRegions:function(e){const t=i().mapObject(e,(e=>i().isString(e)?{_parentView:this,selector:e}:i().defaults(e,{_parentView:this})));return y._buildRegions.call(this,t)},_getImmediateChildren:function(){return i().chain(this.regionManager._regions).values().pluck("currentView").compact().value()}};i().extend(o().View.prototype,v),i().extend(o().ItemView.prototype,v),i().extend(o().CollectionView.prototype,v,f),i().extend(o().CompositeView.prototype,v,b),i().extend(o().Region.prototype,I),i().extend(o().Region,S),i().extend(o().Layout.prototype,M),o().extend=a.ZP.Model.extend,o().Controller.extend=o().extend,o().Region.extend=o().extend,o().Application.extend=o().extend,o().Module.extend=o().extend,o().View.extend=o().extend,o().ItemView.extend=o().extend,o().CollectionView.extend=o().extend,o().CompositeView.extend=o().extend,o().Layout.extend=o().extend;const E=o()},38910:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(19755),i=n.n(r),a=n(14e3),s=n(33295);const o={isPopulating(){return!!this.populatePromise&&"pending"===this.populatePromise.state()},isPopulated(){return!!this.populatePromise&&"resolved"===this.populatePromise.state()},populate(){return this.populatePromise?this.populatePromise:this.fetch.apply(this,arguments)},fetch(){const e=i().Deferred();let t;if(this.isPopulating())return this.populatePromise;t=this._fetch?this._fetch.apply(this,arguments):this instanceof a.ZP.Collection?a.ZP.Collection.prototype.fetch.apply(this,arguments):a.ZP.Model.prototype.fetch.apply(this,arguments);const n=e.promise();return n.rid=t.rid,this.populatePromise=n,this.failedPopulatePromise=null,t.done((n=>{this.populatePromise=i().Deferred().resolveWith(this,[this]).promise(),e.resolveWith(this,[this,n,t])})),t.fail((t=>{this.populatePromise=null,this.failedPopulatePromise=n,e.rejectWith(this,[this,t])})),n},abortPendingPopulate(){return this.isPopulating()&&s.Z.abort(this.populatePromise.rid),this.populatePromise},resetPopulatePromise(e){return this.isPopulating()||(this.populatePromise=e,this.failedPopulatePromise=null),this.populatePromise}}},12634:(e,t,n)=>{"use strict";n.d(t,{Z:()=>m});var r=n(19755),i=n.n(r),a=n(13469),s=n.n(a),o=n(14e3),l=n(38910),c=n(59756),d=n(56442),u=(n(11133),n(46053),n(27082)),p=n(84936);const m=o.ZP.Collection.extend({mixins:[l.Z],responseType:d.Ls,instanceOptions:["url","path","pageStart","pageSize","persistInCache","skipCache"],_context:["parent"],cache:null,cacheKey:function(){return s().result(this,"url")},constructor:function(e,t){t||(t={}),s().each(this.getContext(),(function(e){const n=t[e];void 0!==n&&this.setContext(e,n)}),this);const n=s().result(this,"instanceOptions");if(s().each(n,(function(e){s().has(t,e)&&(this[e]=t[e])}),this),null==this.pageStart&&null==this.pageSize||(this.pageStart||(this.pageStart=0),this.pageSize||(this.pageSize=0)),t.populated&&this.resetPopulatePromise(i().Deferred().resolve().promise()),!this.cache||this.skipCache)return o.ZP.Collection.prototype.constructor.apply(this,arguments),void this._initState();this.initialize.apply(this,arguments);const r=this.cache.getItemCacheKey(this),a=this.cache.get(r);return this.uninitialize(),a||(t.onlyIfCached?{}:(o.ZP.Collection.prototype.constructor.apply(this,arguments),this._initState(),void this.cache.store(this,r)))},uninitialize:function(){this.stopListening()},_initState:function(){c.Z.shouldCreateStateTree&&(this.state=this.toState(),this.updateState=this.updateState.bind(this),this.on("reset update sort",this.onCollectionChange,this),this.on("statechange",this.onStateChange,this))},hasContext:function(e){return this.getContext().includes(e)},getContext:function(){if(!this.context)return this._context;const e=s().result(this,"context");return this._context.concat(e)},setContext:function(e,t){-1!==this.getContext().indexOf(e)&&this[e]!==t&&(this[e]=t,this.each((function(n){n.setContext(e,t)})))},getState:function(){return this.state},updateState:function(){const e=this.state,t=this.getState();this.state=this.toState();const n=this.getState();return this.trigger("statechange",this,n,t),{name:this.name,previousState:e,nextState:n}},toState:function(){return this.name,this.reduce(this.reduceState,[])},reduceState:function(e,t){const n=t.getState();return n&&e.push(n),e},shouldUpdateModelState:function(e,t,n){return t!==n},sync:function(){return this.cache&&this.cache.store(this),o.ZP.sync.apply(this,arguments)},syncUrl:function(){let e="";if(this.url&&(e=s().result(this,"url")),this.path&&(e=p.Z.join([e,s().result(this,"path")])),null!=this.pageStart||null!=this.pageSize){const t={"X-Plex-Container-Start":this.pageStart||0,"X-Plex-Container-Size":this.pageSize||0};e=p.Z.join(e,t)}return e},parse:function(e,t){return this.name,this.convert(e)},convert:function(e){let t=e;const n=s().result(this,"responseType");if(s().isString(t)&&(s().isFunction(this.augmentResponseText)&&(t=this.augmentResponseText(t,n)),t=n.parse(t),n===d.AV&&t.MediaContainer&&(t=t.MediaContainer)),s().isFunction(this.augmentResponse)&&(t=this.augmentResponse(t,n)),Array.isArray(t))return t;const r=this.model.prototype.rootPropertyName;if(!r)return t;let i=t[r];return i?(Array.isArray(i)||(i=[i]),i):[]},clone:function(e){e||(e=this.models);const t=s().result(this,"instanceOptions"),n=s().extend(s().pick(this,t),s().pick(this,this.getContext()),{skipCache:!0,persistInCache:!1});return new this.constructor(e,n)||null},cloneDeep:function(e){e||(e=this.models);const t=s().map(e,(function(e){return e.clone()}));return this.clone(t)},clear:function(e){e=s().extend({silent:!0},e),this.abortPendingPopulate(),this.resetPopulatePromise(null),this.reset([],e)},getSaveParams:function(){return this.map((function(e){return e.getSaveParams()}))},onCollectionChange:function(){u.GF(this.updateState,this)},onStateChange:function(e,t,n){e!==this&&this.shouldUpdateModelState(e,t,n)&&u.GF(this.updateState,this)}})},53334:(e,t,n)=>{"use strict";n.d(t,{Z:()=>M});var r=n(19755),i=n.n(r),a=n(13469),s=n.n(a),o=n(93966),l=n(14e3),c=n(38910),d=n(14408),u=n(59756),p=n(56442),m=n(32846);const h=function(e,t){return e?s().reduce(t,((t,n,r)=>(s().isEqual(e[r],n)||(t[r]=n),t)),{}):t};var g=n(11133),y=n(96840),v=(n(46053),n(70515)),f=n(27082),b=n(84936);const I=/^change:([\w]+)$/,S=e=>Array.isArray(e)?e[0]:e,M=l.ZP.Model.extend({mixins:[c.Z],name:"AbstractModel",responseType:p.Ls,hasInitialRelations:!1,_context:["parent","skipCache"],cache:null,cacheKey:function(e){return e[this.idAttribute]},constructor:function(e,t){let n;if(e||(e={}),t||(t={}),this.initialize!==l.ZP.Model.prototype.initialize&&(n=this.initialize,this.initialize=function(){}),this.getContextNames().forEach((e=>{const n=this.findOption(t,e);void 0!==n&&(this[e]=n)})),!this.cache||this.findOption(t,"skipCache"))return l.ZP.Model.prototype.constructor.apply(this,arguments),this._initModel(t),void(n&&(n.apply(this,arguments),this.initialize=n));const r=this.findOption(t,"onlyIfCached"),i=this.cache.getItemCacheKey(this,e);let a=this.cache.get(i);if(!a&&this.entityID&&(0,o.s4)("appModel")){const t=(0,o.DB)("appModel");if(t.has("entities")){const n=t.get("entities").get(this.entityType),r=this.entityID(e),i=n.get(r);i&&(a=i.get("model"))}}return a?(this.uninitialize(),r||(this.mergeStrategy&&(a.isMergingAttributes=!0),t.parse?e=a.parse(e):s().extend(e,a._getRelations(this.syncedRelations,e)),a.set(e),a.isMergingAttributes=!1),this.getContextNames().forEach((e=>{a.setContext(e,this[e]||a[e])})),t.collection&&(a.collection=t.collection),a.updateEntity(),a):r?{}:(l.ZP.Model.prototype.constructor.apply(this,arguments),this._initModel(t),n&&(n.apply(this,arguments),this.initialize=n),void this.cache.store(this,i))},uninitialize:function(){this.stopListening()},_initModel:function(e){u.Z.shouldCreateStateTree&&this.entityID&&(this.state=this.toState()),this._initRelations(e),this._initDerived(e),this._initState()},_initRelations:function(e){this._relationListeners={};const t=s().extend({},this.sessionRelations,this.syncedRelations);s().each(t,(function(e,t){this._initRelation(e,t);const n=s().bind(this._initRelation,this,e,t);this.on("change:"+t,n)}),this),this.hasInitialRelations=!0,this.set(this._getRelations(this.sessionRelations,this.attributes)),e.parse||this.set(this._getRelations(this.syncedRelations,this.attributes))},_initRelation:function(e,t){const n=this._resolveRelationDefinition(e).relationClass,r=this.get(t),i=this.previous(t),a=r&&r instanceof n;i&&i instanceof n&&s().has(this._relationListeners,t)&&(i.off("all",this._relationListeners[t]),this._relationListeners[t]=null),a&&this._forwardRelationEvents(r,t)},_initDerived:function(){s().each(this.derivedAttrs,this._setDerived,this)},_initState:function(){u.Z.shouldCreateStateTree&&(this.state=this.toState(),this.updateState=this.updateState.bind(this),this.updateEntity(),this.on("all",this.onEvent,this))},findOption:function(e,t){return e[t]||e.collection&&e.collection[t]},getContextNames:function(){return this.getContext().map(S)},getContext:function(){if(!this.context)return this._context;const e=s().result(this,"context");return this._context.concat(e)},setContext:function(e,t){if(!this.hasContext(e)||this[e]===t)return;const n=this.getContext().find((t=>S(t)===e)),r=Array.isArray(n)&&n[1]&&n[1].boundDerivedAttrs,i=r?[e,...r]:[e];let a;if(this[e]=t,i.forEach((e=>{this.hasDerived(e)&&(a=a||{},a[e]=this.derivedAttrs[e].call(this))})),a&&this.set(a),"parent"===e)return;const o=s().extend({},this.sessionRelations,this.syncedRelations);s().each(o,(function(n,r){const i=this.get(r);i&&i.setContext(e,t)}),this)},getScopedKey:function(e){return null!=e&&s().isFunction(this.cacheKey)?this.cacheKey(this.attributes)+"!"+e:e},getState:function(){return this._computedEntityID||this.state},updateState:function(){const e=this.state,t=this.getState();this.state=this.toState();const n=this.getState();return n!==t&&this.updateEntity(),this.trigger("statechange",this,n,t),{name:this.name,previousState:e,nextState:n}},updateEntity:function(){this._computedEntityID&&!this.skipCache&&((0,g.Z)(this.entityType,this.name+" requires an `entityType`"),m.Z.trigger("change:entity",{type:this.entityType,id:this._computedEntityID,model:this}))},toState:function(){this.name;const e=Object.keys(this.attributes),t=s().reduce(e,this.reduceState,{possibleEntityContainers:[]},this);return Object.defineProperty(t,"possibleEntityContainers",{enumerable:!1}),this.entityID&&(this._computedEntityID=this.entityID(t)),t},reduceState:function(e,t){const n=this.attributes[t];return n&&n.getState?(e.possibleEntityContainers.push(t),e[t]=n.getState(),e):(n&&n.initialize||(e[t]=n),e)},shouldUpdateRelationState:function(e,t,n){return t!==n},toJSON:function(e={}){this.name;const t=this.syncedAttrs,n=this.sessionRelations,r=this.syncedRelations,a=this.attributes,o={};for(const i in a){const l=e.excluded&&e.excluded.includes(i),c=n&&s().has(n,i),d=r&&s().has(r,i),u=e.syncedOnly&&(!t||!s().has(t,i));l||c||d||u||(o[i]=a[i])}let c=i().extend(!0,{},o);function d(t,n){const r=this.get(n),i=e.excluded&&e.excluded.includes(n);if(r&&!i){let t;t=e.excludeDefaults?r instanceof l.ZP.Collection?r.map((function(t){return h(s().result(t,"defaults"),t.toJSON(e))})):h(s().result(r,"defaults"),r.toJSON(e)):r.toJSON(e),c[n]=t}}return e.excludeDefaults&&(c=h(s().result(this,"defaults"),c)),e.syncedOnly||s().each(n,d,this),s().each(r,d,this),c},clone:function(){const e=s().extend(s().pick(this,this.getContextNames()),{skipCache:!0});return new this.constructor(this.toJSON(),e)||null},copy:function(e){(0,g.Z)(e instanceof this.constructor,"Only a model of the same type may be copied");const t=e.toJSON();return s().extend(t,this._getRelations(this.sessionRelations,t,{parse:!0}),this._getRelations(this.syncedRelations,t,{parse:!0})),this.set(t)},restoreDefaults:function(e){const t={};return s().each(this.attributes,(function(e,n){this.derivedAttrs&&s().has(this.derivedAttrs,n)||(t[n]=void 0)}),this),s().extend(t,this._getRelations(this.sessionRelations,{},{reset:!0}),this._getRelations(this.syncedRelations,{},{reset:!0}),s().result(this,"defaults"),e),this.set(t)},set:function(e,t,n){let r,i;return s().isObject(e)?(r=e,n=t):(r={})[e]=t,n||(n={}),!this.isMergingAttributes&&n.merge&&this.mergeStrategy&&(i=!0,this.isMergingAttributes=!0),this.isMergingAttributes&&(r=this._mergeAttributes(r)),l.ZP.Model.prototype.set.call(this,r,n),i&&(this.isMergingAttributes=!1),this},hasAttr:function(e){const t=this.sessionAttrs&&s().has(this.sessionAttrs,e),n=this.syncedAttrs&&s().has(this.syncedAttrs,e);return!(!t&&!n)},hasRelation:function(e){const t=this.sessionRelations&&s().has(this.sessionRelations,e),n=this.syncedRelations&&s().has(this.syncedRelations,e);return!(!t&&!n)},hasDerived:function(e){return!(!this.derivedAttrs||!s().has(this.derivedAttrs,e))},hasContext:function(e){return this.getContextNames().includes(e)},validate:function(e,t){const n=s().extend({},this.sessionAttrs,this.syncedAttrs,this.sessionRelations,this.syncedRelations),r=this._validateTypes(e,n);return r&&(0,g.Z)(!1,r),r},parse:function(e,t){return t&&t.save&&!this.hasResponseOnSave?this.attributes:(this.name,this.convert(e,t))},parseResponse(e){let t=e;const n=s().result(this,"responseType");let r;return s().isString(t)&&(r=!0,s().isFunction(this.augmentResponseText)&&(t=this.augmentResponseText(t,n)),t=n.parse(t)),n===p.AV&&t.MediaContainer&&(t=t.MediaContainer),s().isFunction(this.augmentResponse)&&(t=this.augmentResponse(t,n)),r&&this.rootPropertyName&&s().has(t,this.rootPropertyName)&&(t=t[this.rootPropertyName]),Array.isArray(t)&&(t=t[0]),t},convert:function(e,t){const n=this.parseResponse(e),r={};let i;s().each(this.sessionAttrs,(function(e,t){s().has(n,t)&&(r[t]=n[t])})),s().each(this.syncedAttrs,(function(e,t){if(s().has(n,t)){let i,a=e;a.typeName||(a=e.type,i=s().omit(e,"type")),r[t]=null==n[t]?n[t]:a.parse(n[t],i)}else this.has(t)&&(i||(i=s().result(this,"defaults")),r[t]=i&&s().has(i,t)?i[t]:void 0)}),this);const a=s().extend({},t,{parse:!0});return s().extend(r,this._getRelations(this.syncedRelations,n,a)),r},save:function(e,t,n){let r;null==e||"object"==typeof e?(r=e,n=t):(r={})[e]=t;const a=s().extend({save:!0},n),o=s().extend(this.getSaveParams(r),a.data);if(s().isEmpty(o))return a.success&&a.success(this),i().Deferred().resolve(this);a.data=o;const c=a.success;return a.success=function(e,t,n){e.cache&&e.cache.store(e),c&&c(e,t,n)},l.ZP.Model.prototype.save.call(this,r,a)},sync:function(e,t,n){const r=n?s().clone(n):{};if("create"===e||"update"===e){const e=r.data,t=r.url||s().result(this,"saveUrl")||s().result(this,"syncUrl")||s().result(this,"url");r.url=b.Z.join(t,e),r.data=""}return l.ZP.Model.prototype.sync.call(this,e,t,r)},getSaveParams:function(e){const t=this._getSaveAttrs(e);return s().reduce(t,(function(e,t,n){const r=t.definition;let i=t.value,a=n;if(!r)return e[a]=i,e;const o=r.relationClass;if(o){const e=o.prototype.model;let t;r.rootPropertyName?t=r.rootPropertyName:i&&i.rootPropertyName?t=i.rootPropertyName:e&&e.prototype&&(t=e.prototype.rootPropertyName),i&&(i=i.getSaveParams()),t&&(a=t)}else{let e,t;s().has(r,"type")?(e=r.type,t=s().omit(r,"type")):e=r,i=e.stringify(i,t)}return e[a]=i,e}),{},this)},startCapturingChangeEvents:function(){if(this.releaseCapturedChangeEvents)return void(0,g.Z)(!1,this.name+" is already capturing events");const e=this.set,t=[],n=s().clone(this.attributes);this.set=function(n,r,i){const a=s().extend({},i,{silent:!0});let o;return"object"==typeof n?(o=n,i=r):(o={})[n]=r,s().each(o,(function(n,r){this.get(r)!==n&&(t.push({key:r,value:n}),e.call(this,r,n,a))}),this),s().each(this._derivedListeners,(function(n){const r=n.key,i=this.derivedAttrs[r].call(this);this.get(r)!==i&&(t.push({key:r,value:i}),e.call(this,r,i,a))}),this),this},this.releaseCapturedChangeEvents=function(){this.set=e,this.releaseCapturedChangeEvents=null,this.discardCapturedChangeEvents=null,this._previousAttributes=n,this._changing=!0,s().each(t,(function(e){this.trigger("change:"+e.key,this,e.value)}),this),this._changing=!1,s().isEmpty(t)||this.trigger("change",this,{})},this.discardCapturedChangeEvents=function(){this.set=e,this.releaseCapturedChangeEvents=null,this.discardCapturedChangeEvents=null,t.length=0}},spyOnGet:function(e){const t=[],n=this.get;return this.get=function(e){return t.push("change:"+e),this.hasRelation(e)&&t.push("change:"+e+".change"),n.apply(this,arguments)},e.call(this),this.get=n,t},dispatch:function(e){},_mergeAttributes:function(e){const t=this.mergeStrategy;return t?s().reduce(e,(function(e,n,r,i){return e[r]=t(r,this.get(r),n),e}),{},this):e},_resolveRelationDefinition:function(e){return s().isFunction(e)?e.call(this):e},_getRelations:function(e,t,n){t||(t={}),n||(n={});const r={};return s().each(e,(function(e,i){const a=this._resolveRelationDefinition(e),o=a.relationClass;(0,g.Z)(o,this.name+" requires a `relationClass` for the "+i+" relation");let c=i;n.parse&&!s().has(t,i)&&s().has(a,"rootPropertyName")&&(c=a.rootPropertyName);let d=t[c];if(d instanceof o)return void(r[i]=d);if(!d&&a.deferred)return void(r[i]=void 0);let u=n.reset?null:this.get(i),p=u instanceof o;const m=o.prototype instanceof l.ZP.Collection;if(m?d=v.Z.parseArray(d):d||(d={}),p&&!m&&(n.parse&&(d=u.parse(d)),p=u.id===d[u.idAttribute||"id"]),p){u.isMergingAttributes=this.isMergingAttributes;let e=a.setOptions;s().isFunction(e)&&(e=e.call(this,n)),m?u.set(d,s().extend({parse:n.parse,remove:!this.isMergingAttributes},e)):u.set(d,s().extend({merge:!0},e)),u.isMergingAttributes=!1}else{const e={parse:n.parse};if(this.getContextNames().forEach((t=>{e[t]=this[t]})),!m){let e=a.attrs;s().isFunction(e)&&(e=e.call(this,t)),d=s().extend({},d,e)}let r=a.options;s().isFunction(r)&&(r=r.call(this,t)),s().extend(e,{parent:this},r),u=new o(d,e)}r[i]=u}),this),r},_forwardRelationEvents:function(e,t){const n=["sync","request","invalid","error","add","remove"];function r(){const r=arguments[0];if("change"===r)return;if("statechange"===r)return void(this.shouldUpdateRelationState.apply(this,s().rest(arguments,1))&&f.GF(this.updateState,this));const i=s().toArray(arguments);i[0]="change:"+t+"."+r,this.trigger.apply(this,i),s().contains(n,r)||(this.trigger("change:"+t+".change",this,e),this.trigger("change",this))}e.on("all",r,this),this._relationListeners[t]=r},_setDerived:function(e,t){let n;const r=this.spyOnGet((function(){const r=this.set;this.set=function(){(0,g.Z)(!1,this.name+" blocked `set` in the "+t+" attribute. Derived attributes are read-only.")},n=e.call(this),this.set=r}));this.set(t,n),s().each(r,(function(n){this._addDerivedListener(t,n,e)}),this)},_addDerivedListener:function(e,t,n){this._derivedListeners||(this._derivedListeners=[]);const r={key:e,name:t,callback:s().bind(this._setDerived,this,n,e)};s().findWhere(this._derivedListeners,{key:e,name:r.name})||(this._derivedListeners.push(r),this.on(r.name,r.callback))},_getSaveAttrs:function(e){let t;if(e)t=s().reduce(e,(function(e,t,n){return e[n]={definition:this.syncedAttrs[n],value:t},e}),{},this);else{const e=s().extend({},this.syncedAttrs,this.syncedRelations);t=s().reduce(e,(function(e,t,n){const r=this._resolveRelationDefinition(t);let i=r.save;return s().isFunction(i)&&(i=i.call(this)),i&&(e[n]={definition:r,value:this.get(n)}),e}),{},this)}return t},_validateTypes:function(e,t){const n=Object.keys(e),r=s().reduce(n,(function(n,r){if(this.hasDerived(r))return n;if(!s().has(t,r))return n.push(this.name+" received an unknown attribute: "+r+". All attributes must be defined in `sessionAttrs`, `syncedAttrs`, `sessionRelations`, or `syncedRelations`."),n;const i=e[r],a=this._resolveRelationDefinition(t[r]),o=a.relationClass;let c;c=o?this.hasInitialRelations?d.Z.instanceOf(o):o.prototype instanceof l.ZP.Collection?d.Z.oneOfType(d.Z.array,d.Z.object):d.Z.object:a.type?a.type:a;const u=c.validate;return u?u(i)||n.push(r+" of type "+c.typeName+" has an invalid value: "+JSON.stringify(i)):n.push(r+" has an unknown type. Specify the type in the attribute definition or use attrTypes.any as a wildcard type."),n}),[],this);if(r.length>0)return r.join("\n")},onEvent:function(e,t,n){if(!t)return void y.Z.warn("Unable to handle",e);const r=e.match(I);if(!r)return;const i=r[1];t.get(i)!==this.state[i]&&(n&&n.updateEntity&&n.updateEntity(),f.GF(this.updateState,this))}})},29415:(e,t,n)=>{"use strict";n.d(t,{Z:()=>m});var r=n(19755),i=n.n(r),a=n(13469),s=n.n(a),o=n(14e3),l=n(38910),c=n(89905),d=n(55983),u=n(84936);const p=o.ZP.Collection.extend({mixins:[l.Z],cache:new c.Z,constructor:function(e,t){if(t||(t={}),this.server=t.server,this.section=t.section,this.channel=t.channel,this.device=t.device,this.parent=t.parent,this.allowInCache=t.allowInCache,this.persistInCache=t.persistInCache,this.skipCache=t.skipCache,t.url&&(this.url=t.url),t.path&&(this.path=t.path),null==t.pageStart&&null==t.pageSize||(this.pageStart=t.pageStart||0,this.pageSize=t.pageSize||0),t.populated&&this.resetPopulatePromise(i().Deferred().resolve().promise()),!t.allowInCache&&!t.persistInCache)return void o.ZP.Collection.prototype.constructor.apply(this,arguments);this.initialize.apply(this,arguments);const n=this.cache.getItemCacheKey(this);let r=this.cache.get(n);if(this.uninitialize(),t.onlyIfCached&&(r||(r={})),r)return r;o.ZP.Collection.prototype.constructor.apply(this,arguments),this.cache.store(this,n)},uninitialize:function(){this.stopListening()},sync:function(){return(this.allowInCache||this.persistInCache)&&this.cache.store(this),o.ZP.sync.apply(this,arguments)},syncUrl:function(){let e="";if(this.url&&(e=s().result(this,"url")),this.path&&(e=u.Z.join([e,s().result(this,"path")])),null!=this.pageStart||null!=this.pageSize){const t=this.pageStart||0,n=this.pageSize||0,r={};r["X-Plex-Container-Start"]=t,r["X-Plex-Container-Size"]=n,e=u.Z.join(e,r)}return e},convert:function(e,t){const n=s().isObject(e)?e:d.Z.parseXML(e);if(!t)return n;let r=n[t];return r?(Array.isArray(r)||(r=[r]),r):[]},clone:function(e){const t={server:this.server,section:this.section,parent:this.parent,url:this.url};return e||(e=this.models),new this.constructor(e,t)},cloneDeep:function(e){return e||(e=this.map((function(e){return e.clone()}))),this.clone(e)},clear:function(e){e=s().extend({silent:!0},e),this.abortPendingPopulate(),this.resetPopulatePromise(null),this.reset([],e)}});p.extend=function(){const e=o.ZP.Collection.extend.apply(this,arguments);return e.prototype.cache=new c.Z,e};const m=p},69865:(e,t,n)=>{"use strict";n.d(t,{Z:()=>h});var r=n(19755),i=n.n(r),a=n(13469),s=n.n(a),o=n(14e3),l=n(38910),c=n(36776),d=n(11133),u=n(55983),p=n(84936);const m=o.ZP.Model.extend({mixins:[l.Z],cache:new c.Z,constructor:function(e,t){e||(e={}),t||(t={}),this.server=this.findOption(t,"server"),this.section=this.findOption(t,"section"),this.channel=this.findOption(t,"channel"),this.device=this.findOption(t,"device"),this.parent=this.findOption(t,"parent");const n=this.findOption(t,"skipCache");if(n)return void o.ZP.Model.prototype.constructor.apply(this,arguments);const r=this.cache.getItemCacheKey(this,e),i=this.cache.get(r);if(i)return t.parse&&(e=i.parse(e)),this.preserveCachedAttributes&&this.preserveCachedAttributes(t.url)?s().each(e,(function(e,t){s().isUndefined(i.get(t))&&!s().isUndefined(e)&&i.set(t,e)})):i.set(e),i.server=this.server||i.server,i.section=this.section||i.section,i.channel=this.channel||i.channel,i.device=this.device||i.device,i.parent=this.parent||i.parent,t.collection&&(i.collection=t.collection),i;const a=this.findOption(t,"onlyIfCached");if(a)return{};o.ZP.Model.prototype.constructor.apply(this,arguments),this.cache.store(this,r)},findOption:function(e,t){return e[t]||e.collection&&e.collection[t]},clone:function(){const e={server:this.server,section:this.section,channel:this.channel,parent:this.parent,skipCache:!0};return new this.constructor(this.attributes,e)||null},convert:function(e){return s().isObject(e)?e:u.Z.parseXML(e)},parse:function(e,t){let n=this.convert(e);return this.whitelistedAttrs&&(n=s().pick(n,this.whitelistedAttrs)),n},save:function(e,t,n){let r,a;const l=this.attributes;null==e||"object"==typeof e?(r=e,n=t):(r={})[e]=t,n=s().extend({validate:!0},n);const c=this.getSaveParams(r,n);if(s().extend(c,n.data),r&&!n.wait){if(!this.set(r,n))return!1}else if(!this._validate(r,n))return!1;if(r&&n.wait&&(this.attributes=s().extend({},l,r)),s().isEmpty(c)&&!n.force)return n.success&&n.success(this),i().Deferred().resolve(this);void 0===n.parse&&(n.parse=!0);const d=this,u=n.success;n.success=function(e){if(d.attributes=l,e){let t=d.parse(e,n);if(n.wait&&(t=s().extend(r||{},t)),s().isObject(t)&&!d.set(t,n))return!1;d.cache.store(d)}u&&u(d,e,n),d.trigger("sync",d,e,n)},o.ZP.wrapError(this,n),a=this.isNew()?"create":n.patch?"patch":"update","patch"===a&&(n.attrs=r);const m=s().result(this,"saveUrl")||s().result(this,"url");s().isEmpty(c)||(n.url=p.Z.join(m,c)),n.data="";const h=this.sync(a,this,n);return r&&n.wait&&(this.attributes=l),h},getSaveParams:function(e,t){return this.isNew()?e||this.toJSON():this.changedAttributes(e)||{}},getScopedKey:function(e){return null!=e&&s().isFunction(this.cacheKey)?this.cacheKey(this.attributes)+"!"+e:e},restoreDefaults:function(e){const t=s().result(this,"defaults");if(!t)return this.clear(e);const n=this.attributes;let r;for(r in n)r in t||this.unset(r,e);return this.set(t,e),this},startCapturingChangeEvents:function(){if(this.releaseCapturedChangeEvents)return void(0,d.Z)(!1,"This model is already capturing events");const e=this.set;let t={};this.set=function(n,r,i){let a;"object"==typeof n?(a=n,i=r):(a={})[n]=r;const o=s().extend({},i,{silent:!0}),l=e.call(this,a,o);return s().extend(t,this.changed),l},this.releaseCapturedChangeEvents=function(){s().each(t,(function(e,t){this.trigger("change:"+t,this,e)}),this),s().isEmpty(t)||this.trigger("change",this,{}),t={},this.set=e,this.releaseCapturedChangeEvents=null}}});m.extend=function(){const e=o.ZP.Model.extend.apply(this,arguments);return e.prototype.cache=new c.Z,e};const h=m},56529:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d});var r=n(59756),i=Object.defineProperty,a=Object.prototype.hasOwnProperty,s=Object.getOwnPropertySymbols,o=Object.prototype.propertyIsEnumerable,l=(e,t,n)=>t in e?i(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,c=(e,t)=>{for(var n in t||(t={}))a.call(t,n)&&l(e,n,t[n]);if(s)for(var n of s(t))o.call(t,n)&&l(e,n,t[n]);return e};function d(e,t){return r.Z.shouldCreateFlexModels&&(e.prototype.sessionRelations=c(c({},e.prototype.sessionRelations),{desktop:t})),e}},16013:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r=[]},14408:(e,t,n)=>{"use strict";n.d(t,{Z:()=>v});var r=n(13469),i=n.n(r),a=n(70515),s=Object.defineProperty,o=Object.prototype.hasOwnProperty,l=Object.getOwnPropertySymbols,c=Object.prototype.propertyIsEnumerable,d=(e,t,n)=>t in e?s(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,u=(e,t)=>{for(var n in t||(t={}))o.call(t,n)&&d(e,n,t[n]);if(l)for(var n of l(t))c.call(t,n)&&d(e,n,t[n]);return e};const p=["boolean","integer","float","string","object","array"];function m(e){return!0}function h(e){return i().isObject(e)&&!Array.isArray(e)}function g(e,t){t||(t={});const n=i().defaults(t,{typeName:e,parse:i().bind(a.Z.parseType,a.Z,e),stringify:i().bind(a.Z.stringifyType,a.Z,e)});var r;return n.validate=t.validate?(r=t.validate,function(e){return null==e||r(e)}):m,n.isRequired=u(u({},n),{validate:e=>null!=e&&n.validate(e),typeName:`${n.typeName}<required>`}),n}var y={any:g("any"),boolean:g("boolean",{validate:i().isBoolean}),integer:g("integer",{validate:Number.isInteger}),float:g("float",{validate:i().isNumber}),string:g("string",{validate:i().isString}),object:g("object",{validate:h}),array:g("array",{validate:Array.isArray}),list:g("list",{validate:Array.isArray}),encodedString:g("encodedString",{validate:i().isString}),queryString:g("queryString",{validate:h}),instanceOf:function(){const e=i().toArray(arguments);return g("instanceOf",{validate:function(t){return i().some(e,(function(e){return t instanceof e}))}})},oneOf:function(){const e=i().toArray(arguments);return g("oneOf",{validate:function(t){return i().contains(e,t)}})},oneOfType:function(){const e=i().toArray(arguments);return g("oneOfType",{validate:function(t){return i().some(e,(function(e){return e.validate(t)}))}})},custom:function(e){return g("custom",{validate:e})},getAttrTypeFor:function(e){if(null==e)return y.any;for(let t=0,n=p.length;t<n;t++){const n=y[p[t]];if(n.validate(e))return n}return y.any}};const v=y},59756:(e,t,n)=>{"use strict";n.d(t,{Z:()=>p});var r=n(96242),i=Object.defineProperty,a=Object.prototype.hasOwnProperty,s=Object.getOwnPropertySymbols,o=Object.prototype.propertyIsEnumerable,l=(e,t,n)=>t in e?i(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,c=(e,t)=>{for(var n in t||(t={}))a.call(t,n)&&l(e,n,t[n]);if(s)for(var n of s(t))o.call(t,n)&&l(e,n,t[n]);return e};const d=n(44799).Z,u=c(c({allowFlash:!1,testPrivateConnectionsWhenPublicAddressDoesNotMatch:!0,allowHttpsMediaServerConnections:!1,allowMediaServerRelayConnections:!1,allowLoopbackDiscovery:!1,allowSSO:!1,allowMixedContent:!1,allowBaseImagePreloading:!0,allowBaseImageBlobs:!0,heartbeatInterval:1e4,allowManualServers:!1,allowMobileServers:!1,allowMultiTrackAudio:!1,maximumConcurrentConnectionTests:5,shouldCreateFlexModels:!1,shouldCreateStateTree:!1,requiresSignIn:!0,requiresPlexPass:!1,myPlexAccessToken:null,continueUrl:null,primaryServer:null,shouldCreateNewSessionWhenSeekingLiveTV:!1,shouldPreferInsecureLocalConnections:!1,shouldRequestHTMLFromCloudProvider:!1,allowLiveTVPlayback:!0,seekDebounceMilliseconds:null,allowSyncSettings:!1,allowAdsOverMedia:!0,drmType:r.NONE},d),window.PLEXWEB),p=Object.freeze(u)},39879:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(12634),i=n(89653);const a=r.Z.extend({name:"PlayQueueItemCollection",context:["server","provider","identifier","mediaTagPrefix","mediaTagVersion"],model:i.Z})},89653:(e,t,n)=>{"use strict";n.d(t,{Z:()=>D});var r=n(13469),i=n.n(r),a=n(53334),s=n(14408),o=n(70519),l=n(95688);const c={exclusiveBoolAttr(e){this.listenTo(this,"change:"+e,((t,n)=>{n&&this.each((r=>{r.set(e,r===t&&n)}))}))}};var d=n(12634),u=n(64297),p=n(84936);const m=a.Z.extend({name:"LyricsSpanModel",context:["server","section"],sessionAttrs:{active:s.Z.boolean},syncedAttrs:{startOffset:s.Z.integer,endOffset:s.Z.integer,text:s.Z.string},defaults:{startOffset:-1,endOffset:-1},isPositionWithin(e){const t=this.get("startOffset"),n=this.get("endOffset");return-1!==t&&(e>=t&&(e<=n||-1===n))}}),h=d.Z.extend({name:"LyricsSpanCollection",context:["server","section"],model:m}),g=a.Z.extend({name:"LyricsLineModel",context:["server","section"],syncedAttrs:{startOffset:s.Z.integer,endOffset:s.Z.integer},syncedRelations:{spans:{relationClass:h,rootPropertyName:"Span"}},defaults:{startOffset:-1,endOffset:-1}}),y=d.Z.extend({name:"LyricsLineCollection",context:["server","section"],model:g,eachSpan(e){this.each((t=>{t.get("spans").each(e)}))}}),v=a.Z.extend({name:"LyricsStreamModel",context:["server","provider","section"],rootPropertyName:"Lyrics",mergeStrategy:u.Z,url(){return p.Z.join(this.get("key"),{format:"xml"})},sessionAttrs:{follow:s.Z.boolean,lyricsError:s.Z.object},syncedAttrs:{id:s.Z.string,key:s.Z.string,streamType:s.Z.integer,index:s.Z.integer,title:s.Z.string,selected:s.Z.boolean,codec:s.Z.string,provider:s.Z.string,format:s.Z.string,minLines:s.Z.integer,timed:s.Z.boolean},syncedRelations:{lines:{relationClass:y,rootPropertyName:"Line"}},defaults:{follow:!0,selected:!1,lyricsError:null}}),f=d.Z.extend({mixins:[c],name:"LyricsStreamCollection",context:["server","provider","section"],model:v,initialize(){this.exclusiveBoolAttr("selected")}});var b=n(36776),I=n(70515),S=n(4844),M=n(15042),E=n(73004);const P=a.Z.extend({name:"PlayQueueItemModel",context:["server","provider"],syncedAttrs:{internal:s.Z.boolean,url:s.Z.string}}),D=a.Z.extend({name:"PlayQueueItemModel",context:["server","provider","identifier","mediaTagPrefix","mediaTagVersion"],entityType:M.PI,entityID(e=this.state){return(0,S.Z)(this.entityType,e.playQueueItemID,this.server.entityID())},idAttribute:"playQueueItemID",cache:new b.Z,cacheKey(e){return this.server&&this.server.getScopedKey(e.playQueueItemID)},sessionAttrs:{isPlayQueueItem:s.Z.boolean,isLocal:s.Z.boolean},syncedAttrs:{playQueueItemID:s.Z.string,queueIndex:s.Z.integer,key:s.Z.string,ratingKey:s.Z.string,type:s.Z.string,subtype:s.Z.string,advertisement:s.Z.boolean,allowSkipAfter:s.Z.integer,librarySectionID:s.Z.string,hasPremiumLyrics:s.Z.boolean,displayPostplay:s.Z.boolean,syncItemId:s.Z.integer,generatorID:s.Z.integer,generatorType:s.Z.integer,clientIdentifier:s.Z.string,target:s.Z.string},syncedRelations:{metadataItem:{relationClass:l.Z,deferred:!0},lyricsStreams:{relationClass:f,deferred:!0},vast:{relationClass:P,deferred:!0}},sessionRelations:{postPlay:{relationClass:o.Z,options(){return{url:`hubs/metadata/${this.get("metadataItem").id}/postplay`}}}},defaults:{isPlayQueueItem:!0,isLocal:!1},augmentResponse(e){const t=i().pick(e,Object.keys(this.syncedAttrs));e.Ad&&(Array.isArray(e.Ad)&&(e.Ad=e.Ad[0]),t.vast=e.Ad),t.metadataItem=e;const n=i().first(I.Z.parseArray(e.Media));if(n){const e=i().first(I.Z.parseArray(n.Part));if(e){const n=I.Z.parseArray(e.Stream);if(n){const e=E.Z.get("lyrics");t.lyricsStreams=i().filter(n,(t=>I.Z.parseInteger(t.streamType)===e.id))}}}return t}})},72149:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(53334),i=n(14408),a=n(39879),s=n(56442),o=n(67299);const l=r.Z.extend({name:"PlayQueueModel",context:["server","provider","identifier","mediaTagPrefix","mediaTagVersion"],responseContext:["identifier","mediaTagPrefix","mediaTagVersion"],idAttribute:"playQueueID",hasResponseOnSave:!0,urlRoot(){return this.get("key")},sessionAttrs:{key:i.Z.string,type:i.Z.string,repeat:i.Z.boolean,own:i.Z.boolean,isUpdatePending:i.Z.boolean,isUniversal:i.Z.boolean},syncedAttrs:{allowShuffle:i.Z.boolean,playQueueID:i.Z.string,playQueueSelectedItemOffset:i.Z.integer,playQueueSelectedItemID:i.Z.string,playQueueSelectedMetadataItemID:i.Z.string,playQueueLastAddedItemID:i.Z.string,playQueueShuffled:i.Z.boolean,playQueueSourceURI:i.Z.string,playQueueTotalCount:i.Z.integer,playQueueVersion:i.Z.integer},syncedRelations:{playQueueItems:{relationClass:a.Z,rootPropertyName:"Metadata"}},derivedAttrs:{canShuffle(){const e=-1!==(this.get("playQueueSourceURI")||"").indexOf("library://x/station");return!this.get("playQueueLastAddedItemID")&&this.get("allowShuffle")&&!e},currentIndex(){const e=this.get("playQueueItems"),t=this.get("playQueueSelectedItemID"),n=e.get(t);return e.indexOf(n)},length(){const e=this.get("playQueueTotalCount")||0,t=this.get("playQueueItems")||[];return Math.max(e,t.length)}},defaults:{repeat:!1,own:!0,isUpdatePending:!1,isUniversal:!1,allowShuffle:!0},augmentResponseText:(e,t)=>t===s.Ls?(0,o.Z)(e):e,augmentResponse(e,t){return this.responseContext.forEach((t=>{const n=e[t];void 0!==n&&this.setContext(t,n)})),e}})},46879:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(13469),i=n.n(r),a=n(12634),s=n(84936),o=n(10723);const l=a.Z.extend({name:"FilterCollection",context:["server","section","includeAdvanced"],model:o.Z,comparator:"filterType",includeAdvanced:!0,url(){const e=i().result(this.section,"url"),t=this.section.get("currentType"),n={includeAdvanced:this.includeAdvanced?1:0};return t&&(n.type=t.id),s.Z.join([e,"/filters"],n)},findUnwatchedFilter(){return this.get("unwatched")||this.get("unwatchedLeaves")}})},10723:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(53334),i=n(14408),a=n(94887);const s=r.Z.extend({name:"FilterModel",context:["server","section","type","standalone"],idAttribute:"filter",rootPropertyName:"Directory",defaults:{advanced:!1},syncedAttrs:{filter:i.Z.string,filterType:i.Z.string,type:i.Z.string,key:i.Z.string,title:i.Z.string,advanced:i.Z.boolean},syncedRelations:{options:{relationClass:a.Z}}})},94887:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d});var r=n(13469),i=n.n(r),a=n(12634),s=n(84936),o=n(53334),l=n(14408);const c=o.Z.extend({name:"FilterOptionModel",context:["server","section","type","standalone"],idAttribute:"key",rootPropertyName:"Directory",syncedAttrs:{key:l.Z.encodedString,type:l.Z.string,field:l.Z.string,value:l.Z.string,title:l.Z.string},augmentResponse:e=>(e.fastKey?(e.value=e.key,e.key=e.fastKey,e.field=e.type,delete e.type,delete e.fastKey):e.fastKey||e.value||(e.value=e.key),e)}),d=a.Z.extend({name:"FilterOptionCollection",context:["server","provider","section","type","standalone","includeExternalMedia"],model:c,url(){let e;this.type?e={type:this.type}:this.standalone||(e=this.getUrlParams());const t=i().result(this.section,"url");return s.Z.join([t,this.parent.id],e)},getUrlParams(){const e={},t=[],n=this.section.get("currentType"),r=this.section.get("currentFilters");return n&&(e.type=n.id),i().each(r,(t=>{t.key!==this.parent.id&&t.values.length&&(e[t.key]=t.values.join(","))})),i().each(e,((e,n)=>{"unviewedLeafCount"===n?t.push(`${n}>=${e}`):t.push(`${n}=${e}`)})),t.join("&")},augmentResponse:e=>(e.Directory&&!Array.isArray(e.Directory)&&(e.Directory=[e.Directory]),e.Directory=i().filter(e.Directory,(e=>e.title)),e),search(e){const t=this.filter((t=>t.get("title").toLowerCase().indexOf(e.toLowerCase())>-1));return this.clone(t)}})},94053:(e,t,n)=>{"use strict";n.d(t,{Z:()=>m});var r=n(53334),i=n(14408),a=n(78636),s=n(5562),o=n(84936),l=n(12634);const c=r.Z.extend({name:"LibraryDirectoryModel",context:["server"],idAttribute:"key",rootPropertyName:"Directory",syncedAttrs:{key:i.Z.string,title:i.Z.string}}),d=l.Z.extend({name:"LibraryDirectoryCollection",context:["server"],model:c});var u=n(3644),p=n(99086);const m=r.Z.extend({name:"LibraryDetailsModel",context:["server","provider","includeAdvanced"],responseType(){return(0,a.Z)(this.server)},url(){const e={includeDetails:1};return this.includeAdvanced&&(e.includeAdvanced=1),o.Z.join(this.get("key"),e)},sessionAttrs:{key:i.Z.string.isRequired},syncedAttrs:{librarySectionID:i.Z.string},syncedRelations:{directories:{relationClass:d,rootPropertyName:"Directory"},types:{relationClass:p.Z,rootPropertyName:"Type"},fieldTypes:{relationClass:u.Z,rootPropertyName:"FieldType"}},augmentResponse(e){if(e.Directory&&e.Directory.length&&e.Directory.some((({key:e})=>"folder"===e))&&e.Type&&e.Type.length&&e.Type.every((({type:e})=>"folder"!==e))){const t=e.librarySectionID;e.Type.push({key:`/library/sections/${t}/folder`,type:"folder",title:(0,s.Z)("Folders")})}return e}})},3644:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var r=n(12634),i=n(53334),a=n(14408);const s=i.Z.extend({name:"OperatorModel",context:["server"],idAttribute:"key",rootPropertyName:"Operator",syncedAttrs:{key:a.Z.string,title:a.Z.string}}),o=r.Z.extend({name:"OperatorCollection",context:["server"],model:s}),l=i.Z.extend({name:"MetadataFieldTypeModel",context:["server"],idAttribute:"type",rootPropertyName:"FieldType",syncedAttrs:{type:a.Z.string.isRequired},syncedRelations:{operators:{relationClass:o,rootPropertyName:"Operator"}}}),c=r.Z.extend({name:"MetadataTypeCollection",context:["server"],model:l})},99086:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var r=n(12634),i=n(53334),a=n(14408);const s=i.Z.extend({name:"FieldModel",context:["server"],idAttribute:"key",rootPropertyName:"Field",syncedAttrs:{key:a.Z.string,title:a.Z.string,type:a.Z.string,subType:a.Z.string}}),o=r.Z.extend({name:"FieldCollection",context:["server"],model:s});var l=n(46879),c=n(32919);const d=i.Z.extend({name:"MetadataTypeModel",context:["server"],idAttribute:"key",rootPropertyName:"Type",syncedAttrs:{type:a.Z.string,subtype:a.Z.string,key:a.Z.string,title:a.Z.string,context:a.Z.string},syncedRelations:{filters:{relationClass:l.Z,rootPropertyName:"Filter"},sorts:{relationClass:c.Z,rootPropertyName:"Sort"},fields:{relationClass:o,rootPropertyName:"Field"}}}),u=r.Z.extend({name:"MetadataTypeCollection",context:["server"],model:d})},33192:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(12634),i=n(78636),a=n(12801);const s=r.Z.extend({name:"SectionCollection",context:["server"],model:a.Z,url:"/library/sections",responseType(){return(0,i.Z)(this.server)}})},12801:(e,t,n)=>{"use strict";n.d(t,{Z:()=>k});var r=n(13469),i=n.n(r),a=n(53334),s=n(14408),o=n(68252),l=n(69881),c=n(84936),d=n(95933);const u={unviewedLeafCount:">="},p=d.Z.extend({name:"SectionMetadataListModel",context:["server","section","identifier","mediaTagPrefix","mediaTagVersion","allowSync"],url(){let e,t,n=[];const r=this.section.get("currentFolderKey");if(r)n.push(r);else if(n.push(i().result(this.section,"url")),e=this.section.get("currentSubset").id,this.section.get("allowAdvancedFilters"))"recentlyAdded"!==e&&"newest"!==e||(e="all"),n.push(e),t=this.getParams();else{const t=this.section.get("currentFilters");t.length?n=[t[0].values[0]]:n.push(e)}let a=c.Z.join(n,t);return a=this.replaceSpecialFilterOperators(a),this.set("containerKey",a),this.server.get("isFullServer")?this.getPaginatedUrl(a):a},getParams(){const e=this.getFilterParams(),t=this.getMetadataTypeID(),n=this.getSort();return t&&t!==(0,l.getMetadataType)("photo").id&&(e.type=t),n&&(e.sort=n),this.section.get("refreshing")&&this.server.supports("timelineState")&&(e.timelineState=1),e},getFilterParams(){const e=this.section.get("currentFilters"),t={};return i().each(e,(e=>{e.values.length&&(t[e.key]=e.values.map(decodeURIComponent).join(","))})),t},getMetadataTypeID(){const e=this.section.get("currentSubset").id;let t=this.section.get("currentType").id||(0,l.getMetadataType)(this.section.get("type")).id;return/^(onDeck|recentlyAdded|recentlyViewed|newest)$/.test(e)?t===(0,l.getMetadataType)("show").id||t===(0,l.getMetadataType)("season").id?t=(0,l.getMetadataType)("episode").id:t!==(0,l.getMetadataType)("artist").id&&t!==(0,l.getMetadataType)("track").id||(t=(0,l.getMetadataType)("album").id):/^recentlyViewedShows$/.test(e)&&(t=(0,l.getMetadataType)("show").id),t},getSort(){const e=this.section.get("currentSort"),t=this.section.get("currentSubset").id;return"recentlyAdded"===t?"addedAt:desc":"newest"===t?"originallyAvailableAt:desc":e?(e.get("direction")||e.get("defaultDirection"))===o.Z.directions.DESCENDING?e.get("descKey"):e.get("key"):void 0},replaceSpecialFilterOperators:e=>(i().each(u,((t,n)=>{e=e.replace(n+"=",n+t)})),e)});var m=n(91485),h=n(36776),g=n(4844),y=n(15042),v=n(32003),f=n(5562);const b=(0,n(35981).Z)(["key"],[{key:"all",title:()=>(0,f.Z)("All")},{key:"unwatched",title:()=>(0,f.Z)("Unplayed")},{key:"newest",title:()=>(0,f.Z)("Recently Released")},{key:"recentlyAdded",title:()=>(0,f.Z)("Recently Added")},{key:"recentlyViewed",title:()=>(0,f.Z)("Recently Viewed")},{key:"recentlyViewedShows",title:()=>(0,f.Z)("Recently Viewed Shows")},{key:"onDeck",title:()=>(0,f.Z)("On Deck")},{key:"folder",title:()=>(0,f.Z)("By Folder")}]);var I=n(46879),S=n(12634),M=n(78636);const E=a.Z.extend({name:"FirstCharacterModel",context:["server","provider","section"],idAttribute:"key",rootPropertyName:"Directory",syncedAttrs:{key:s.Z.string,title:s.Z.string,size:s.Z.integer},urlRoot(){return`/library/sections/${this.section.id}/firstCharacter`}}),P=S.Z.extend({name:"FirstCharacterCollection",context:["server","provider","section"],model:E,responseType(){return(0,M.Z)(this.server)},url(){const e=i().result(this.section,"url")+"/firstCharacter",t=this.getUrlParams();return t?e+"?"+t:e},getUrlParams(){const e={},t=[],n=this.section.get("currentType");n&&(e.type=n.id);const r=this.section.get("currentFilters");return i().each(r,(t=>{t.values.length&&(e[t.key]=t.values.join(","))})),i().each(e,((n,r)=>{"unviewedLeafCount"===r?t.push(`${r}>=${e[r]}`):t.push(`${r}=${e[r]}`)})),t.join("&")}});var D=n(94887);const C=a.Z.extend({name:"LinearFilterModel",context:["server","section"],idAttribute:"key",rootPropertyName:"Directory",syncedAttrs:{secondary:s.Z.boolean,key:s.Z.string,title:s.Z.string},syncedRelations:{options:{relationClass:D.Z}},defaults:{secondary:!1}}),w=S.Z.extend({name:"LinearFilterCollection",context:["server","section"],model:C,url(){return i().result(this.section,"url")},filterBySecondary(){const e=this.filter((e=>e.get("secondary")));return this.clone(e)}}),Z=a.Z.extend({name:"LocationModel",context:["server","section"],rootPropertyName:"Location",syncedAttrs:{id:s.Z.integer,path:{type:s.Z.string,save:!0}}}),T=S.Z.extend({name:"LocationCollection",context:["server","section"],model:Z}),N=a.Z.extend({name:"MediaTypeModel",context:["server","section"],sessionAttrs:{id:s.Z.integer,typeString:s.Z.string,title:s.Z.string,plural:s.Z.string,mediaType:s.Z.string,child:s.Z.string,parent:s.Z.string,selected:s.Z.boolean},defaults:{selected:!1}}),O=S.Z.extend({name:"MediaTypeCollection",context:["server","section"],model:N}),A=["all","recentlyAdded","recentlyViewed","recentlyViewedShows","onDeck","newest","folder"],x=a.Z.extend({name:"SectionSubsetModel",context:["server","section"],idAttribute:"key",rootPropertyName:"Directory",sessionAttrs:{selected:s.Z.boolean},syncedAttrs:{key:s.Z.string,title:s.Z.string,secondary:s.Z.boolean},derivedAttrs:{primary(){return!this.get("secondary")&&i().contains(A,this.get("key"))}},defaults:{selected:!1},augmentResponse:e=>("all"===e.key&&(e.title=(0,f.Z)("All")),e)},{whitelistedPrimaryKeySubsets:A}),j=S.Z.extend({name:"SectionSubsetCollection",context:["server","section"],model:x,url(){return i().result(this.section,"url")},filterPrimaries(){const e=this.filter((e=>e.get("primary")));return this.clone(e)}});var L=n(32919);const k=a.Z.extend({name:"SectionModel",context:["server"],entityType:y.Y3,entityID(e=this.state){return(0,g.Z)(this.entityType,e.key,this.server.entityID())},idAttribute:"key",rootPropertyName:"Directory",cache:new h.Z,persistInCache:!0,cacheKey(e){return this.server&&this.server.getScopedKey(e.key)},url(){return this.isNew()?i().result(this,"urlRoot")||i().result(this.collection,"url"):i().isNaN(parseInt(this.id,10))?this.id:"/library/sections/"+this.id},sessionAttrs:{isSection:s.Z.boolean,isCollectionsPopulated:s.Z.boolean,currentFilters:s.Z.array,currentFolderKey:s.Z.string,settings:s.Z.instanceOf(m.Z)},syncedAttrs:{key:s.Z.oneOfType(s.Z.string,s.Z.integer),uuid:s.Z.string,thumb:s.Z.string,art:s.Z.string,createdAt:s.Z.integer,updatedAt:s.Z.integer,allowAdvancedFilters:s.Z.boolean,allowSync:s.Z.boolean,refreshing:s.Z.boolean,name:{type:s.Z.string,save:!0},title:{type:s.Z.string,save:!0},type:{type:s.Z.string,save:!0},agent:{type:s.Z.string,save:!0},scanner:{type:s.Z.string,save:!0},language:{type:s.Z.string,save:!0},importFromiTunes:{type:s.Z.boolean,save:!0},enableAutoPhotoTags:{type:s.Z.boolean,save:!0},downloadMedia:{type:s.Z.integer,save:!0}},derivedAttrs:{serverEntityID(){return this.state?this.server.entityID():""}},syncedRelations:{locations(){return{relationClass:T,rootPropertyName:"Location",options:{section:this},save:!0}}},sessionRelations:{items(){return{relationClass:p,options:{section:this}}},currentSubset(){return{relationClass:x,options:{section:this}}},currentFirstCharacter:()=>({relationClass:E,deferred:!0}),currentType:()=>({relationClass:N,deferred:!0}),currentSort:()=>({relationClass:o.Z,deferred:!0}),types(){return{relationClass:O,options:{section:this}}},subsets(){return{relationClass:j,options:{section:this}}},filters(){return{relationClass:this.get("allowAdvancedFilters")?I.Z:w,options:{section:this}}},sorts(){return{relationClass:L.Z,options:{section:this}}},firstCharacters(){return{relationClass:P,options:{section:this}}}},defaults(){return{isSection:!0,isCollectionsPopulated:!1,currentType:null,currentFilters:[],currentSort:null,currentFirstCharacter:null,currentFolderKey:null,currentSubset:b.get("all"),settings:new m.Z([],{server:this.server,url:()=>c.Z.join(["/library/sections/",this.get("key"),"/prefs"])})}},initialize(e){this.updateMediaTypes(this,e.type),this.set({currentType:this.get("types").findWhere({typeString:e.type})}),this.on("change:type",this.updateMediaTypes,this)},uninitialize(){this.off("change:type",this.updateMediaTypes,this),this.stopListening()},augmentResponse:e=>(e.allowAdvancedFilters=!!e.filters,delete e.filters,e),getSectionType(){const e=this.get("type");return v.ZP.get(e)},getSaveParams(e){const t=a.Z.prototype.getSaveParams.apply(this,arguments);if("type"in t){const e=v.ZP.get(t.type);e&&(t.type=e.typeString)}return"title"in t&&(t.name=t.title,delete t.title),i().isObject(t.type)&&(t.type=t.type.typeString),"Location"in t&&(t.location=i().pluck(t.Location,"path"),delete t.Location),t},getSyncTitle(e){const t=this.get("title"),n=[],r=this.get("currentSubset"),a=this.get("currentFilters");return e?(i().each(e,(e=>{n.push(e.get("title"))})),t+": "+n.join(", ")):"all"!==r.id?t+": "+r.get("title"):a.length?(i().each(a,(function(e){n.push(e.titles.join(", "))})),t+": "+n.join(",")):t},setAgentAndScanner(e,t,n){const r=e.defaultAgents.find((e=>t.find((t=>t.get("identifier")===e)))),i=e.defaultScanners.find((e=>n.find((t=>t.get("name")===e))));this.set({agent:r,scanner:i})},updateMediaTypes(e,t){const n=(0,l.getRelatedTypes)(t);this.get("types").reset(n)}})},32919:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(13469),i=n.n(r),a=n(12634),s=n(84936),o=n(68252);const l=a.Z.extend({name:"SortCollection",context:["server","section","typeID"],model:o.Z,url(){const e=i().result(this.section,"url"),t=this.typeID||this.section.get("currentType").id,n=t?{type:t}:{};return s.Z.join([e,"/sorts"],n)}})},68252:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(53334),i=n(14408);const a={ASCENDING:"asc",DESCENDING:"desc"},s=r.Z.extend({name:"SortModel",context:["server","section"],idAttribute:"key",rootPropertyName:"Directory",sessionAttrs:{selected:i.Z.boolean,direction:i.Z.string},syncedAttrs:{key:i.Z.string,descKey:i.Z.string,title:i.Z.string,isDefault:i.Z.boolean,active:i.Z.boolean,defaultDirection:i.Z.string,activeDirection:i.Z.string,firstCharacterKey:i.Z.string},defaults:{selected:!1},augmentResponse:e=>(e.defaultDirection||(e.defaultDirection=e.default||a.ASCENDING),e.isDefault=!!e.default,e.direction||(e.direction=e.defaultDirection),e),reverseSortDirection(){let e=this.get("direction")||this.get("defaultDirection");e=e&&e!==a.ASCENDING?a.ASCENDING:a.DESCENDING,this.set("direction",e)}},{directions:a})},70519:(e,t,n)=>{"use strict";n.d(t,{Z:()=>h});var r=n(13469),i=n.n(r),a=n(12634),s=n(56442),o=n(32846),l=n(78636),c=n(67299),d=n(34885),u=n(71321),p=n(84936),m=n(94902);const h=a.Z.extend({name:"HubCollection",context:["server","provider","section","identifier","hubKey","hubCount","count","includeEmpty","libraryHubsOnly","includeFeaturedTags","includeLibraryPlaylists","includeMeta","includeGames","includeStations","includeExternalMedia","includeExternalMetadata","includeRecentChannels","asyncAugmentMetadata","excludes","excludeFields","excludeElements","allowSync","maxLength","wait"],responseContext:["identifier","allowSync"],model:m.Z,responseType(){return(0,l.Z)(this.server)},url(){let e="/hubs";this.hubKey?e=this.hubKey:this.section&&(e="/hubs/sections/"+encodeURIComponent(this.section.id));const t={};return""!==this.excludeFields&&(t.excludeFields=this.excludeFields||"summary"),this.excludeElements&&(t.excludeElements=this.excludeElements),this.count&&(t.count=this.count+1),this.hubCount&&(t.hubCount=this.hubCount),this.includeEmpty&&(t.includeEmpty=1),this.libraryHubsOnly&&(t.libraryHubsOnly=1),this.includeFeaturedTags&&(t.includeFeaturedTags=1),this.includeLibraryPlaylists&&(t.includeLibraryPlaylists=1),this.includeMeta&&(t.includeMeta=1),this.includeGames&&(t.includeGames=1),this.includeStations&&(t.includeStations=1),this.includeExternalMedia&&(t.includeExternalMedia=1),this.includeExternalMetadata&&(t.includeExternalMetadata=1),this.includeRecentChannels&&(t.includeRecentChannels=1),this.asyncAugmentMetadata&&(t.asyncAugmentMetadata=1),this.wait&&(t.wait=1),this.excludes&&this.excludes.length&&this.excludes.forEach((e=>{t["exclude"+(0,d.Z)(e)]=1})),p.Z.join(e,t)},initialize:function(){this.section&&this.listenTo(o.Z,"clear:sections:hubs",this.clear)},fetch(e={}){const t=i().clone(e);return e.onlyTransient&&this.populatePromise&&(t.remove=!1,t.url=p.Z.join(i().result(this,"url"),{onlyTransient:1})),a.Z.prototype.fetch.call(this,t)},augmentResponseText:(e,t)=>t===s.Ls?(0,c.Z)(e):e,augmentResponse(e){const t=this.model.prototype.rootPropertyName;if(e&&t){Array.isArray(e)?e={[t]:e}:e[t]&&!Array.isArray(e[t])&&(e={[t]:[e[t]]});const n=e[t];e.Meta&&n.forEach((t=>{t.Meta||(t.Meta=e.Meta)}));let r=n&&n.length;if(r){if(!this.includeEmpty)for(;r&&r--;){const e=n[r];u.vT.includes(e.style)&&e.size<=0&&n.splice(r,1)}this.maxLength&&n.splice(this.maxLength),e.size>n.length&&(e.size=String(n.length)),this.count&&n.forEach((e=>{e.more&&e.size>this.count&&(e.Metadata.splice(this.count,e.size-this.count),e.size=this.count)}))}}return this.responseContext.forEach((t=>{const n=e[t];void 0!==n&&this.setContext(t,n)})),e}})},94902:(e,t,n)=>{"use strict";n.d(t,{Z:()=>p});var r=n(53334),i=n(14408),a=n(56442),s=n(78636),o=n(67299),l=n(70515),c=n(4844),d=n(15042),u=n(95933);const p=r.Z.extend({name:"HubModel",context:["server","provider","section","identifier","allowSync","includeExternalMedia"],entityType:d.km,entityID(e=this.state){return(0,c.Z)(this.entityType,e.key||e.hubKey||e.hubIdentifier,this.provider.entityID())},idAttribute:"hubIdentifier",rootPropertyName:"Hub",responseType(){return(0,s.Z)(this.server)},url(){return this.get("key")||this.get("hubKey")},syncedAttrs:{key:i.Z.string,hubKey:i.Z.string,hubIdentifier:i.Z.string,source:i.Z.string,title:i.Z.string,summary:i.Z.string,icon:i.Z.string,thumb:i.Z.string,attribution:i.Z.string,type:i.Z.string,subtype:i.Z.string,style:i.Z.string,size:i.Z.integer,totalSize:i.Z.integer,more:i.Z.boolean,random:i.Z.boolean,browse:i.Z.boolean,upNext:i.Z.boolean,context:i.Z.string,promoted:i.Z.boolean,autoAdvanceDelayMs:i.Z.integer,Meta:i.Z.object},syncedRelations:{metadataList:{relationClass:u.Z,deferred:!0}},initialize(){this.listenTo(this.get("metadataList"),"change:populatedRange",this.onPopulatedRangeChange)},augmentResponseText:(e,t)=>t===a.Ls?(0,o.Z)(e):e,augmentResponse(e){const t=null==e.totalSize?void 0:l.Z.parseInteger(e.totalSize),n=l.Z.parseInteger(e.size)||0,r=e.key||e.hubKey;return e.metadataList={containerKey:r,Metadata:e.Metadata,size:n,totalSize:t},e},onPopulatedRangeChange(e,t){const n=t.size,r=e.get("totalSize"),i={size:n};null!=r&&(i.more=r>n),this.set(i)}})},9949:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(12634),i=n(56442),a=n(78636),s=n(67299),o=n(95688);const l=r.Z.extend({name:"MetadataCollection",context:["server","provider","section","playlist","identifier","mediaTagPrefix","mediaTagVersion","allowSync","containerKey","includeExternalMedia"],model:o.Z,responseType(){return(0,a.Z)(this.server)},url(){return this.containerKey},augmentResponseText:(e,t)=>t===i.Ls?(0,s.Z)(e):e,splitByType:function(){const e={};return this.each((t=>{const n=t.get("type");e.hasOwnProperty(n)?e[n].push(t):e[n]=[t]})),e}})},95933:(e,t,n)=>{"use strict";n.d(t,{Z:()=>b});var r=n(13469),i=n.n(r),a=n(53334),s=n(14408),o=n(93683),l=n(56442),c=n(78636),d=n(67299),u=n(70515),p=n(4844),m=n(15042),h=n(84936),g=n(3644),y=n(99086);const v=a.Z.extend({name:"MetaModel",context:["server","provider"],syncedAttrs:{DisplayFields:s.Z.array},syncedRelations:{types:{relationClass:y.Z,rootPropertyName:"Type"},fieldTypes:{relationClass:g.Z,rootPropertyName:"FieldType"}}});var f=n(9949);const b=a.Z.extend({mixins:[o.Z],name:"MetadataListModel",context:["server","provider","section","metadataItem","identifier","mediaTagPrefix","mediaTagVersion","allowSync","excludeFields","excludeElements","excludeAllLeaves","includeRelated","includeCollections","includeExternalMedia","includeAdvanced","includeMeta"],responseContext:["identifier","mediaTagPrefix","mediaTagVersion","allowSync"],entityType:m.$4,entityID(e=this.state){return(0,p.Z)(this.entityType,e.entityKey||e.containerKey||e.key||this.cid,(this.provider||this.server).entityID())},idAttribute:"containerKey",collectionName:"metadataItems",responseType(){return(0,c.Z)(this.server)},url(){const e=this.getPaginatedUrl(this.get("containerKey")||this.get("key")),t={excludeElements:this.excludeElements?this.excludeElements:void 0,excludeFields:this.excludeFields?this.excludeFields:void 0,excludeAllLeaves:this.excludeAllLeaves?1:void 0,includeRelated:this.includeRelated?1:void 0,includeCollections:this.includeCollections?1:void 0,includeExternalMedia:this.includeExternalMedia?1:void 0,includeAdvanced:this.includeAdvanced?1:void 0,includeMeta:this.includeMeta?1:void 0};return e?h.Z.join(e,t):e},sessionAttrs:{isMetadataList:s.Z.boolean,entityKey:s.Z.string,containerKey:s.Z.string,containerTitle:s.Z.string,currentPageStart:s.Z.integer,currentPageSize:s.Z.integer,populatedRange:s.Z.object,isPending:s.Z.boolean,isPopulated:s.Z.boolean,error:s.Z.object},syncedAttrs:{isDirectoryList:s.Z.boolean,isMetaPopulated:s.Z.boolean,key:s.Z.string,librarySectionID:s.Z.string,totalSize:s.Z.integer,viewGroup:s.Z.string,title:s.Z.string,thumb:s.Z.string,art:s.Z.string,banner:s.Z.string,theme:s.Z.string,allowSync:s.Z.boolean},syncedRelations:{metadataItems:{relationClass:f.Z,rootPropertyName:"Metadata",options:e=>({containerKey:e.containerKey||e.key}),setOptions:e=>({remove:e.remove,at:e.at})},meta:{relationClass:v,rootPropertyName:"Meta",deferred:!0}},derivedAttrs:{firstItemType(){const e=this.getCollection().first();return e?e.get("type"):this.attributes.firstItemType},firstItemSubtype(){const e=this.getCollection().first();return e?e.get("subtype"):this.attributes.firstItemSubtype},isFirstItemLibraryItem(){const e=this.getCollection().first();return e?e.get("isLibraryItem"):this.attributes.isFirstItemLibraryItem},isChannelsList(){const e=this.getCollection().first();return e?e.get("dvrChannel"):this.attributes.isChannelsList}},defaults:()=>({isMetadataList:!0,isDirectoryList:!1,populatedRange:{start:0,end:0,size:0},isPending:!0,isPopulated:!1,isMetaPopulated:!1,error:null}),initialize(e){this._totalSizeAdjustment=0,this.startPopulatedRangeMonitor(),this.on("change:key change:containerKey",this.onContainerKeyChange,this)},uninitialize(){this.off("change:key change:containerKey",this.onContainerKeyChange,this),this.stopListening()},augmentResponseText(e,t){const n=this.get("containerKey")||this.get("key"),r=/\/folder(\?|$)/.test(n);return t===l.Ls?(0,d.Z)(e,{includeDirectories:r}):e},augmentResponse(e,t){this.responseContext.forEach((t=>{const n=e[t];void 0!==n&&this.setContext(t,n)}));const n=u.Z.parseArray(e.Metadata),r=u.Z.parseArray(e.Directory),a=u.Z.parseInteger(e.totalSize);return this.allowAllLeaves||(e.Metadata=i().reject(n,(function(e){const t=/\/allLeaves$/.test(e.key);return t&&(this._totalSizeAdjustment-=1),t}),this)),!n.length&&e.Directory&&(e.Metadata=r,e.isDirectoryList=!0),this.includeMeta&&(e.isMetaPopulated=!0),a&&this._totalSizeAdjustment&&(e.totalSize=a-this._totalSizeAdjustment),!e.title&&e.title1&&(e.title=e.title1),e},onContainerKeyChange(e,t){const n=this.get("metadataItems"),r=this.syncedRelations.metadataItems.options(this.attributes);i().each(r,((e,t)=>{n.setContext(t,e)}))}})},95688:(e,t,n)=>{"use strict";n.d(t,{Z:()=>K});var r=n(13469),i=n.n(r),a=n(53334),s=n(14408),o=n(56442);const l=a.Z.extend({name:"TranscodeSessionModel",context:["server"],url(){return"/transcode/sessions/"+this.id},syncedAttrs:{key:s.Z.string,progress:s.Z.float,throttled:s.Z.boolean,speed:s.Z.float,duration:s.Z.integer,videoDecision:s.Z.string,audioDecision:s.Z.string,protocol:s.Z.string,container:s.Z.string,videoCodec:s.Z.string,audioCodec:s.Z.string,audioChannels:s.Z.integer,width:s.Z.string,height:s.Z.string,transcodeHwDecoding:s.Z.string,transcodeHwEncoding:s.Z.string,timeStamp:s.Z.integer,minOffsetAvailable:s.Z.integer,maxOffsetAvailable:s.Z.integer}});var c=n(69653),d=n(36776),u=n(46453),p=n(25168),m=n(78636),h=n(1088),g=n(86953),y=n(60316),v=n(17524),f=n(55983),b=n(67299),I=n(70515),S=n(4844),M=n(15042),E=n(5562),P=n(69881),D=n(89984),C=n(73004),w=n(84936),Z=n(12634);const T=a.Z.extend({name:"ChapterModel",context:["server","section"],syncedAttrs:{id:s.Z.integer,tag:s.Z.string,index:s.Z.integer,startTimeOffset:s.Z.integer,endTimeOffset:s.Z.integer,thumb:s.Z.string}}),N=Z.Z.extend({name:"ChapterCollection",context:["server","section"],model:T,modelId:e=>`${e.id}_${e.index}`}),O=a.Z.extend({name:"ConcertModel",context:["server","section"],syncedAttrs:{id:s.Z.integer,at:s.Z.integer,tag:s.Z.string,venue:s.Z.string,city:s.Z.string,country:s.Z.string,url:s.Z.string}}),A=Z.Z.extend({name:"ConcertCollection",context:["server","section"],model:O});var x=n(64297),j=n(32553),L=n(34470),k=n(19623),R=Object.defineProperty,z=Object.prototype.hasOwnProperty,U=Object.getOwnPropertySymbols,V=Object.prototype.propertyIsEnumerable,B=(e,t,n)=>t in e?R(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,F=(e,t)=>{for(var n in t||(t={}))z.call(t,n)&&B(e,n,t[n]);if(U)for(var n of U(t))V.call(t,n)&&B(e,n,t[n]);return e};const _={guid:!0,librarySectionID:!0,librarySectionTitle:!0,librarySectionUUID:!0,librarySectionKey:!0,source:!0,Context:!0,file:!0,summary:!0,tagline:!0,action:!0,attributionLogo:!0,backgroundColor:!0};function H(e){let t=0;if(!e)return t;for(let n=0,r=e.length;n<r;n++){const r=e[n].Part;if(r)for(let e=0,n=r.length;e<n;e++){const n=r[e].Stream;n&&(t+=n.length)}}return t}function Q(e=[]){return(0,j.Z)(e,k.Z,(e=>e))}function G(e){return(e.hasOwnProperty("ratingKey")||e.hasOwnProperty("id"))&&e.hasOwnProperty("tag")}function W(e,t){t.forEach((t=>{null!=(null==e?void 0:e[t])&&"string"!=typeof e[t]&&(e[t]=e[t].toString())}))}const Y=a.Z.extend({name:"MetadataModel",context:[["server",{boundDerivedAttrs:["serverEntityID"]}],["provider",{boundDerivedAttrs:["providerEntityID"]}],"section","playlist","identifier","mediaTagPrefix","mediaTagVersion","allowSync","containerKey","relatedOptions","includeExternalMedia"],responseContext:["identifier","mediaTagPrefix","mediaTagVersion","allowSync"],entityType:M.TY,entityID(e=this.state){let t;if(e.source){const{serverIdentifier:n}=(0,y.Z)(e.source);n!==this.server.get("machineIdentifier")&&(t=(0,S.Z)(M.cN,n))}return(0,S.Z)(this.entityType,e.key||this.cid,t,this.server.entityID())},idAttribute:"ratingKey",rootPropertyName:"Metadata",cache:new d.Z,mergeStrategy:function(e,t,n){return"Media"===e?function(e,t,n){return n&&!t?n:((r=n||t)&&r.some((e=>e.protocol===L.K))||function(e){return e&&e.some((e=>"livetv"===e.origin))}(n||t)?function(e,t){var n,r,i,a,s,o,l,c;if(!t)return null;const d=Q(e),u=Q(t),p=F(F({},d),u);for(const e in d){const t=d[e],m=u[e];t&&m&&t.Overlay.length&&!m.Overlay.length&&(p[e]=F(F({},p[e]),{Overlay:t.Overlay}));const h=null!=(a=null==(i=null==(r=null==(n=null==t?void 0:t.Part)?void 0:n[0])?void 0:r.Stream)?void 0:i.length)?a:0,g=null!=(c=null==(l=null==(o=null==(s=null==m?void 0:m.Part)?void 0:s[0])?void 0:o.Stream)?void 0:l.length)?c:0;t&&m&&h>g&&(p[e]=F(F({},p[e]),{Part:t.Part}))}return Object.keys(p).map((e=>p[e]))}(t,n):function(e,t){const n=H(t),r=H(e);return n||!r?t:e}(t,n))||(0,x.Z)(e,t,n);var r}(e,t,n):function(e){const t=K.prototype.syncedAttrs[e];return!(!t||t!==s.Z.array)}(e)?function(e,t,n){if(!n)return t;if(!t)return n;if(n.length>t.length)return n;if(!n.length||n.length<t.length)return t;const r=t&&t[0],i=n&&n[0];if(!r&&i)return n;if(!i&&r)return t;const a=G(r),s=G(i);return a&&!s?t:n}(0,t,n):function(e){return!!K.prototype.syncedRelations[e]}(e)||_[e]?(0,x.Z)(e,t,n):n},responseType(){const e=this.get("key");return e&&e.indexOf("/system/services/url/lookup")>-1?o.Ls:(0,m.Z)(this.server)},url(){const e={};return this.includeExternalMedia&&(e.includeExternalMedia=1),w.Z.join(this.get("key"),e)},urlRoot(){return this.get("key")},saveUrl(){return this.get("isPlaylist")&&!this.server.supports("truePlaylistsPath")?`/library/metadata/${this.get("ratingKey")}`:i().result(this,"url")},cacheKey(e){const t=this.extractChildrenKey(e.key);return e.source&&(t.key=e.source+t.key),this.server&&this.server.getScopedKey(t.key)},sessionAttrs:{isPreFetched:s.Z.boolean,isStreamChangeInProgress:s.Z.boolean,isStreamDeleteInProgress:s.Z.boolean,metadataState:s.Z.string,mediaState:s.Z.string,isSettingsUpdating:s.Z.boolean,settingsUpdateError:s.Z.object,dvrChannel:s.Z.object,viewCountIncrementedByPlayQueueItemID:s.Z.string,downloadSubscriptionID:s.Z.string,isDownloaded:s.Z.boolean},syncedAttrs:{elementName:s.Z.string,ratingKey:s.Z.string,parentRatingKey:s.Z.string,grandparentRatingKey:s.Z.string,key:s.Z.string,childrenKey:s.Z.string,Context:s.Z.object,parentKey:s.Z.string,grandparentKey:s.Z.string,primaryExtraKey:s.Z.string,augmentationKey:s.Z.string,guid:s.Z.string,source:s.Z.string,sourceURI:s.Z.string,attribution:s.Z.string,attributionLogo:s.Z.string,action:s.Z.string,backgroundColor:s.Z.string,remoteMedia:s.Z.boolean,librarySectionID:s.Z.string,librarySectionTitle:s.Z.string,librarySectionUUID:s.Z.string,librarySectionKey:s.Z.string,type:s.Z.string,subtype:s.Z.string,title:s.Z.string,titleSort:s.Z.string,originalTitle:s.Z.string,parentTitle:s.Z.string,grandparentTitle:s.Z.string,year:s.Z.string,minYear:s.Z.string,maxYear:s.Z.string,tagline:s.Z.string,summary:s.Z.string,studio:s.Z.string,contentRating:s.Z.string,originallyAvailableAt:s.Z.string,thumb:s.Z.string,parentThumb:s.Z.string,grandparentThumb:s.Z.string,banner:s.Z.string,art:s.Z.string,parentArt:s.Z.string,grandparentArt:s.Z.string,hero:s.Z.string,theme:s.Z.string,parentTheme:s.Z.string,grandparentTheme:s.Z.string,chapterSource:s.Z.string,ratingImage:s.Z.string,audienceRating:s.Z.float,audienceRatingImage:s.Z.string,directory:s.Z.boolean,rating:s.Z.float,userRating:s.Z.float,playbackSpeed:s.Z.float,index:s.Z.integer,parentIndex:s.Z.integer,absoluteIndex:s.Z.integer,duration:s.Z.integer,preview:s.Z.boolean,viewOffset:s.Z.integer,viewCount:s.Z.integer,childCount:s.Z.integer,leafCount:s.Z.integer,viewedLeafCount:s.Z.integer,ratingCount:s.Z.integer,mediaCount:s.Z.integer,mediaCountOptimized:s.Z.integer,extraType:s.Z.integer,lastViewedAt:s.Z.integer,lastRatedAt:s.Z.integer,addedAt:s.Z.integer,updatedAt:s.Z.integer,deletedAt:s.Z.integer,Geolocation:s.Z.object,playlistID:s.Z.integer,playlistType:s.Z.string,specialPlaylistType:s.Z.string,radio:s.Z.boolean,smart:s.Z.boolean,readOnly:s.Z.boolean,icon:s.Z.string,composite:s.Z.string,content:s.Z.string,durationInSeconds:s.Z.integer,skipChildren:s.Z.boolean,skipParent:s.Z.boolean,skipDetails:s.Z.boolean,subscriptionID:s.Z.string,saved:s.Z.boolean,picked:s.Z.boolean,grandparentSubscriptionID:s.Z.string,subscriptionType:s.Z.string,grandparentSubscriptionType:s.Z.string,Channel:s.Z.array,onAir:s.Z.boolean,watchlistedAt:s.Z.integer,Media:s.Z.array,Collection:s.Z.array,Director:s.Z.array,Producer:s.Z.array,Writer:s.Z.array,Studio:s.Z.array,Genre:s.Z.array,Mood:s.Z.array,Country:s.Z.array,Label:s.Z.array,Role:s.Z.array,Location:s.Z.array,Tag:s.Z.array,Autotag:s.Z.array,Marker:s.Z.array,indirect:s.Z.boolean,Origin:s.Z.object,requiresConsent:s.Z.boolean,Platform:s.Z.array,Publisher:s.Z.array},syncedRelations:{chapters:{relationClass:N,rootPropertyName:"Chapter",deferred:!0},preferences:{relationClass:c.Z,rootPropertyName:"Preferences",deferred:!0},onDeck:()=>({relationClass:Y,rootPropertyName:"OnDeck",deferred:!0}),related(){const e={skipCache:!0};return this.relatedOptions&&i().extend(e,this.relatedOptions),{relationClass:n(70519).Z,rootPropertyName:"RelatedHubs",deferred:!0,options:e}},popularLeaves:()=>({relationClass:n(95933).Z,rootPropertyName:"PopularLeaves",deferred:!0}),extras:()=>({relationClass:n(95933).Z,rootPropertyName:"Extras",deferred:!0,attrs:e=>({containerKey:w.Z.join([e.key,"extras"])})}),concerts:{relationClass:A,rootPropertyName:"Concert",deferred:!0},stations:()=>({relationClass:n(9949).Z,rootPropertyName:"Stations",deferred:!0}),transcodeSession:{relationClass:l,rootPropertyName:"TranscodeSession",deferred:!0}},derivedAttrs:{identifier(){return this.identifier},serverEntityID(){if(!this.state)return null;const e=this.get("source");if(e){const{serverIdentifier:t}=(0,y.Z)(e);return(0,S.Z)(M.cN,t)}return this.server?this.server.entityID():null},providerEntityID(){if(!this.state)return null;const e=this.get("source");if(e){const{providerIdentifier:t}=(0,y.Z)(e);return(0,S.Z)(M.MC,t,this.get("serverEntityID"))}return this.provider?this.provider.entityID():null},mediaTagPrefix(){return this.mediaTagPrefix},mediaTagVersion(){return this.mediaTagVersion},allowSync(){return this.allowSync},containerKey(){return this.containerKey},isLibraryItem(){return this.isLibraryItem(this.get("identifier"),this.get("key"))},isPlaylist(){return this.get("type")===P.PLAYLIST&&!this.get("radio")},isFolder(){return/\/folder\?parent=/.test(this.get("key"))},isExtra(){return!!this.get("extraType")},isPremium(){const e=this.get("Media")||[];return i().any(e,(e=>e.premium))},hasRadioStation(){const e=this.get("stations");return!!e&&!!e.findWhere({playlistType:D.j0})},hasArtistTVStation(){const e=this.get("stations");return!!e&&!!e.findWhere({playlistType:D.pX})},unviewedLeafCount(){const e=this.get("leafCount"),t=this.get("viewedLeafCount");if(e)return e-t},downloadUrl(){const e=this.get("Media");if(e&&1===e.length){const t=i().first(i().first(e).Part),n=t&&t.key;if(n)return()=>{const e=w.Z.join(n,{download:1});return this.server.resolveUrl(e,{appendToken:!0})}}}},defaults:{isStreamChangeInProgress:!1,isStreamDeleteInProgress:!1,isSettingsUpdating:!1,isDownloaded:!1,settingsUpdateError:null,rating:0,onAir:!1,skipDetails:!1,Media:[],Collection:[],Director:[],Producer:[],Writer:[],Studio:[],Genre:[],Mood:[],Country:[],Label:[],Channel:[],Role:[],Location:[],Autotag:[],Tag:[],Platform:[],Publisher:[],requiresConsent:!1},fetch(e={}){return e.data&&(this._populatedParams=i().extend({},this._populatedParams,e.data)),e.usePopulatedParams&&(e.data=this._populatedParams),a.Z.prototype.fetch.call(this,e)},augmentResponseText:(e,t)=>t===o.Ls?(0,b.Z)(e):e,augmentResponse(e,t){var n;let r=e[this.rootPropertyName];r&&(Array.isArray(r)&&(r=r[0]),["attribution","augmentationKey","librarySectionID","librarySectionTitle","librarySectionUUID"].forEach((t=>{r[t]||(r[t]=e[t])})),e.type===P.CHANNEL&&(r.dvrChannel={identifier:e.identifier||e.id,thumb:e.thumb,title:e.title,callSign:e.callSign})),this.responseContext.forEach((t=>{const n=e[t]||r&&r[t];void 0!==n&&this.setContext(t,n)}));const a=r||e,s=a.Related,o=a.OnDeck,l=a.Stations,c=a.Preferences,d=this.extractChildrenKey(a.key);if(d.childrenKey&&(a.childrenKey=d.childrenKey,a.key=d.key),a.Media=this.convertMediaItems(a.Media),a.Role=this.convertRole(a.Role),a.Marker=this.convertMarkers(a.Marker),!a.source&&this.server){const e=(0,g.Z)({providerIdentifier:null==(n=this.provider)?void 0:n.get("identifier"),serverIdentifier:this.server.get("machineIdentifier")});a.source=e,a.sourceURI=`${e}${a.key}`}return s&&(a.RelatedHubs=i().compact([].concat(s.Hub,s.Directory))),o&&(a.OnDeck=o.Metadata),l&&(a.Stations=l.Metadata),c&&(a.Preferences=c.Setting),a.type===P.PHOTO&&a.childrenKey&&(a.type=P.PHOTO_ALBUM),a},extractChildrenKey(e){const t=/(.*)\/(children|items)$/.exec(e);let n;return t&&(n=e,e=t[1]),{childrenKey:n,key:e}},convertMediaItems(e){const t=I.Z.parseArray(e);return i().each(t,(e=>{W(e,["id"]),f.Z.parseBoolean(e,["indirect","optimizedForStreaming","onAir","premium","premiere","selected"]),f.Z.parseInteger(e,["duration","width","height","bitrate","audioChannels","proxyType","beginsAt","endsAt","beginOffset","startOffsetSeconds","endOffsetSeconds"]),null==e.id&&null==e.uuid&&(e.uuid=`${e.container}-${e.protocol}-${e.audioCodec}`),f.Z.parseArray(e,"Overlay"),f.Z.parseArray(e,"Part"),i().each(e.Overlay,(e=>{null!=e.duration&&(e.duration=parseInt(e.duration,10)),e.startTimeOffset=parseInt(e.startTimeOffset,10)})),i().each(e.Part,(e=>{W(e,["id"]),null!=e.exists&&(e.exists=I.Z.parseBoolean(e.exists)),null!=e.accessible&&(e.accessible=I.Z.parseBoolean(e.accessible)),f.Z.parseInteger(e,["duration","size"]),f.Z.parseBoolean(e,"optimizedForStreaming"),f.Z.parseEncodedString(e,"file"),f.Z.parseArray(e,"Stream"),i().each(e.Stream,(e=>{W(e,["id"]),f.Z.parseBoolean(e,["anamorphic","selected","default","forced","timed","cabac","hasScalingMatrix","headerStripping"]),f.Z.parseInteger(e,["index","streamType","duration","width","height","bitrate","bitDepth","level","refFrames","samplingRate","channels","minLines","offset"]),f.Z.parseFloat(e,"frameRate")}))}))})),this.addNoneSubtitlesStreams(t)},convertRole(e){const t=I.Z.parseArray(e);return i().each(t,(e=>{f.Z.parseBoolean(e,["directory"])})),t},convertMarkers(e){const t=I.Z.parseArray(e);return i().each(t,(e=>{f.Z.parseInteger(e,["endTimeOffset","startTimeOffset"])})),t},addNoneSubtitlesStreams(e){const t=C.Z.get("subtitles");return e.forEach((e=>{const n=e.Part,r="livetv"===e.origin;n&&n.forEach((n=>{if(!n.Stream)return;if(!r&&!(0,h.Z)(e))return;const i=n.Stream.filter((e=>e.streamType===t.id));if(i.find((e=>e.id===p.H)))return;const a=i.find((e=>e.selected)),s={id:p.H,streamType:t.id,language:(0,E.Z)("None")};a||(s.selected=!0),n.Stream.unshift(s)}))})),e},getDownloadUrl(e=0){const t=this.get("Media")[e];if(t){const e=i().first(t.Part),n=e&&e.key;if(n){const e=w.Z.join(n,{download:1});return this.server.resolveUrl(e,{appendToken:!0})}}},getFilepath(e=0){const t=this.get("Media")[e];if(t){const e=i().first(t.Part);if(e)return e.file}},getLocation(){const e=this.get("Location");return e.length?i().first(e).path:this.getFilepath()},getMediaKey(){const e=i().first(this.get("Media"));if(e){const t=i().first(e.Part);if(t)return t.key}return this.get("key")},isLibraryItem(e,t){return!(this.provider&&!this.provider.get("isLibraryProvider"))&&(r=t,(n=e)?v.wB(n,v.Y3):/^(\/sync\/[\w\d-/]*)?\/library\//.test(r));var n,r},isPlexMusicItem(){const e=this.section;return e&&e.get("agent")===u.zR}}),K=Y},81318:(e,t,n)=>{"use strict";n.d(t,{Z:()=>g});var r=n(53334),i=n(14408),a=n(93683),s=n(56442),o=n(67299),l=n(84936),c=n(12634),d=n(95688),u=n(4844),p=n(15042);const m=r.Z.extend({name:"PlaylistItemModel",context:["server","provider","playlist"],entityType:p.gO,entityID(e=this.state){return(0,u.Z)(this.entityType,e.playlistItemID||e.key,this.server.entityID())},idAttribute:"playlistItemID",syncedAttrs:{playlistItemID:i.Z.string,key:i.Z.string,type:i.Z.string},syncedRelations:{metadataItem:{relationClass:d.Z,deferred:!0}},augmentResponse:e=>({playlistItemID:e.playlistItemID,key:e.key,type:e.type,metadataItem:e})}),h=c.Z.extend({name:"PlaylistItemCollection",context:["server","provider","playlist"],model:m}),g=r.Z.extend({mixins:[a.Z],name:"PlaylistItemListModel",context:["server","provider","playlist","includeExternalMedia"],idAttribute:"key",collectionName:"metadataItems",url(){let e=this.getPaginatedUrl(this.get("containerKey"));return this.includeExternalMedia&&(e=l.Z.join(e,{includeExternalMedia:1})),e},sessionAttrs:{containerKey:i.Z.string,currentPageStart:i.Z.integer,currentPageSize:i.Z.integer,populatedRange:i.Z.object},syncedAttrs:{totalSize:i.Z.integer},syncedRelations:{metadataItems:{relationClass:h,rootPropertyName:"Metadata",setOptions:e=>({remove:e.remove,at:e.at})}},defaults:()=>({populatedRange:{start:0,end:0,size:0}}),initialize(){this.startPopulatedRangeMonitor()},augmentResponseText:(e,t)=>t===s.Ls?(0,o.Z)(e):e})},65115:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(53334),i=n(14408);const a=r.Z.extend({name:"TagModel",context:["server","section"],idAttribute:"tag",syncedAttrs:{id:i.Z.integer,key:i.Z.string,tag:{type:i.Z.string,save:!0},tagType:i.Z.integer,librarySectionID:i.Z.string,librarySectionKey:i.Z.string,librarySectionType:i.Z.integer,librarySectionTitle:i.Z.string,filter:i.Z.string,role:i.Z.string,thumb:i.Z.string,count:i.Z.integer,directory:i.Z.boolean,type:i.Z.string,context:i.Z.string}})},12186:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(19755),i=n.n(r),a=n(11133);const s={fetch(){return(0,a.Z)(!1,"A model or collection with a controlled populate promise cannot be fetched directly"),this.populatePromise},isPopulating(){return!!this.populatePromise&&"pending"===this.populatePromise.state()},_resetPopulate(){return this.isPopulating()||(this._populateDeferred=i().Deferred(),this.populatePromise=this._populateDeferred.promise()),this.populatePromise},_resolvePopulate(){return"resolved"===this.populatePromise.state()||("rejected"===this.populatePromise.state()&&this._resetPopulate(),this._populateDeferred.resolveWith(this,[this])),this.populatePromise},_rejectPopulate(){return"rejected"===this.populatePromise.state()||("resolved"===this.populatePromise.state()&&this._resetPopulate(),this._populateDeferred.rejectWith(this,[this])),this.populatePromise}}},93683:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var r=n(19755),i=n.n(r),a=n(13469),s=n.n(a),o=n(63733),l=n(84936);const c={getCollectionName(){return this.collectionName||"items"},getCollection(){return this.get(this.getCollectionName())},getTotalSize(){return this.get("totalSize")||this.get("populatedRange").size},getPaginatedUrl(e){const t=this.get("currentPageStart"),n=this.get("currentPageSize");if(null!=t||null!=n){const r={"X-Plex-Container-Start":t||0,"X-Plex-Container-Size":n||0};return l.Z.join(e,r)}return e},getCollectionChangeEvents(){const e=this.getCollectionName();return[`change:${e}.update`,`change:${e}.reset`].join(" ")},startPopulatedRangeMonitor(){const e=this.getCollectionName();this.updatePopulatedRange(),this.on(this.getCollectionChangeEvents(),this.updatePopulatedRange,this),this.on(`change:${e}.destroy`,this.decrementTotalSize,this)},stopPopulatedRangeMonitor(){const e=this.getCollectionName();this.off(this.getCollectionChangeEvents(),this.updatePopulatedRange,this),this.off(`change:${e}.destroy`,this.decrementTotalSize,this)},fetchRange(e){const t=s().extend({},e,{remove:!1});return e.prepend&&(t.at=0),this.set({currentPageStart:e.start,currentPageSize:e.size}),this.fetch(t).promise()},populateRange(e){const t=this.getCollection(),n=this.get("populatedRange");let r=o.Z.difference(e,n)[0];if(!r)return i().Deferred().resolve().promise();if(r=o.Z.degap(r,n),this.isPopulating()){const e=this.get("currentPageStart")!==r.start,t=this.get("currentPageSize")!==r.size;if(!e&&!t)return this.populatePromise;this.abortPendingPopulate()}if(e.reloadThreshold&&r.size>e.reloadThreshold)return t.reset(),this.populateRange(s().omit(e,"reloadThreshold"));const a=s().extend({},e,r,{prepend:r.start<n.start});return this.fetchRange(a)},repopulateRange(e=0){const t=this.get("populatedRange").end;return this.set({currentPageStart:0,currentPageSize:Math.max(t,e)}),this.abortPendingPopulate(),this.fetch()},updatePopulatedRange(){const e=this.get("currentPageStart"),t=this.get("populatedRange").start,n=this.get("populatedRange").size,r=this.getCollection().length;let i;i=r?n?Math.min(t,null==e?1/0:e):e||t:0,this.set("populatedRange",{start:i,end:i+r,size:r})},decrementTotalSize(){const e=this.get("totalSize");e>0&&this.set("totalSize",e-1)}}},36740:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var r=n(53334),i=n(14408),a=n(9949),s=n(56442),o=n(31599),l=n(67299),c=n(4844),d=n(15042);const u=r.Z.extend({name:"LiveTVSessionModel",context:["server","provider"],entityType:d.RP,entityID(e=this.state){return(0,c.Z)(this.entityType,e.key||this.cid,this.server.entityID())},idAttribute:"key",rootPropertyName:"MediaSubscription",url(){return`/media/subscriptions/${this.get("key")}`},sessionAttrs:{dvrID:i.Z.integer,channelIdentifier:i.Z.string,activityUUID:i.Z.string,currentPosition:i.Z.integer,nextPosition:i.Z.integer,lastSeekPosition:i.Z.integer,startedAt:i.Z.integer,captureBuffer:i.Z.object},syncedAttrs:{key:i.Z.string,type:i.Z.integer,title:i.Z.string},syncedRelations:{grabOperation:{relationClass:o.Z,rootPropertyName:"MediaGrabOperation",deferred:!0},timeline:{relationClass:a.Z,rootPropertyName:"Timeline",deferred:!0},alsoAiring:{relationClass:a.Z,rootPropertyName:"AlsoAiring",deferred:!0}},defaults:{nextPosition:null,lastSeekPosition:null},augmentResponseText:(e,t)=>t===s.Ls?(0,l.Z)(e):e,augmentResponse(e){const t=e[this.rootPropertyName]||e,n=t.Timeline,r=t.AlsoAiring;return n&&(t.Timeline=n.Metadata),r&&(t.AlsoAiring=r.Metadata),e}})},64297:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(13469),i=n.n(r);function a(e,t,n){return void 0===n||i().isObject(t)?t:n}},52039:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var r=n(19755),i=n.n(r),a=n(12634),s=n(78636),o=n(14640),l=n(45224);const c=a.Z.extend({name:"ProviderCollection",context:["server"],model:l.Z,url:"/media/providers",responseType(){return(0,s.Z)(this.server)},fetch(){const e=this.server;let t;return t=e.get("mediaProviders")||e.get("isCloud")?a.Z.prototype.fetch.apply(this,arguments):i().Deferred().resolve(this,"").promise(),t.then((t=>{(0,o.Z)(t,e)})),t}})},89888:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(12634),i=n(86646),a=n(67006),s=n(40822);const o=r.Z.extend({name:"ProviderEPGChannelCollection",context:["server","provider"],model:i.Z,url(){return this.provider.get("features").get(a.L6).get("settings").get(s.Pt).get("key")}})},86646:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(53334),i=n(14408);const a=r.Z.extend({name:"ProviderEPGChannelModel",context:["provider"],rootPropertyName:"Channel",syncedAttrs:{id:i.Z.string,thumb:i.Z.string,title:i.Z.string,hidden:i.Z.boolean}})},30369:(e,t,n)=>{"use strict";n.d(t,{Z:()=>f});var r=n(12634),i=n(62730),a=n(67006),s=n(45399),o=n(53334),l=n(14408);const c=o.Z.extend({name:"ProviderActionModel",context:["server","provider"],syncedAttrs:{id:l.Z.string,key:l.Z.string,reverseKey:l.Z.string,requires:l.Z.string}}),d=r.Z.extend({name:"ProviderActionCollection",context:["server","provider"],model:c});var u=n(59638),p=n(98862);const m=o.Z.extend({name:"PivotModel",idAttribute:"key",syncedAttrs:{key:l.Z.string.isRequired,type:l.Z.oneOf(p.km,p.IY,p.t3).isRequired,id:l.Z.string,title:l.Z.string.isRequired,context:l.Z.string.isRequired,requires:l.Z.string,libraryKey:l.Z.string}}),h=r.Z.extend({name:"PivotCollection",model:m}),g=o.Z.extend({name:"ProviderDirectoryModel",context:["server","provider"],syncedAttrs:{id:l.Z.string,key:l.Z.string,hubKey:l.Z.string,title:l.Z.string,icon:l.Z.string,type:l.Z.string,subtype:l.Z.string,agent:l.Z.string,refreshing:l.Z.boolean,updatedAt:l.Z.integer,scannedAt:l.Z.integer,context:l.Z.string},syncedRelations:{pivots:{relationClass:h,rootPropertyName:"Pivot",deferred:!0}}}),y=r.Z.extend({name:"ProviderDirectoryCollection",context:["server","provider"],model:g,modelId:e=>e.key||e.hubKey}),v=o.Z.extend({name:"ProviderFeatureModel",context:["server","provider"],sessionAttrs:{isSettingsPending:l.Z.boolean,isSettingsPopulated:l.Z.boolean,settingsError:l.Z.object},syncedAttrs:{id:l.Z.string,key:l.Z.string,reverseKey:l.Z.string,scrobbleKey:l.Z.string,unscrobbleKey:l.Z.string,type:l.Z.string,flavor:l.Z.string,requires:l.Z.string,automaticLibraryFolders:l.Z.boolean,public:l.Z.boolean,storageTotal:l.Z.integer},syncedRelations:{directories:{relationClass:y,rootPropertyName:"Directory",deferred:!0},settings:{relationClass:u.Z,rootPropertyName:"Setting",deferred:!0},actions:{relationClass:d,rootPropertyName:"Action",deferred:!0,setOptions:{remove:!1}}},defaults:{isSettingsPending:!0,isSettingsPopulated:!1}}),f=r.Z.extend({name:"ProviderFeatureCollection",context:["server","provider"],model:v,modelId:e=>e.type===a.om?e.id:e.type,augmentResponse(e){let t=e.find((e=>e.type===a.aO));return null==t||Array.isArray(t.Action)||(t.Action=t.Action?[t.Action]:[]),null==t&&(t={Action:[],type:a.aO},e.push(t)),e.forEach((e=>{if(e.type===a.jN&&(null!=e.scrobbleKey||null!=e.unscrobbleKey)){const{scrobbleKey:n,unscrobbleKey:r}=e;t.Action.push({id:i.lq,key:n,reverseKey:r}),delete e.scrobbleKey,delete e.unscrobbleKey}if(e.type===a.zw){const{key:n}=e;t.Action.push({id:i.zw,key:n}),delete e.key}if(e.type===a.om&&(null!=e.key||null!=e.reverseKey)){const{key:n,reverseKey:r}=e;t.Action.push({id:e.id,key:n,reverseKey:r}),delete e.key,delete e.reverseKey}e.type===a.aO&&e.Action.forEach((e=>{e.id!==i.JL&&e.id!==i.FH&&e.id!==i.LE||(e.requires=s.sy)})),e.type===a.L6&&(e.requires=s.sy)})),e}})},45224:(e,t,n)=>{"use strict";n.d(t,{q:()=>Y,Z:()=>K});var r=n(19755),i=n.n(r),a=n(93966),s=n(53334),o=n(14408),l=n(64297),c=n(56442),d=n(17798),u=n(67006),p=n(17524),m=n(83154),h=n(45399),g=n(64542),y=n(47486),v=n(98862),f=n(34470),b=n(41658),I=n(5562),S=n(69881),M=n(89984),E=n(84936),P=n(89197);function D(e){return{key:e.hubKey,type:v.km,title:(0,I.Z)("Recommended"),context:y.DISCOVER_PIVOT}}function C(e,t){return{key:(0,b.Z)(e.id,t),libraryKey:e.key,type:v.IY,title:(0,I.Z)("Library"),context:y.LIBRARY_PIVOT,isContent:!0}}function w(e){const t=S.getMetadataType(S.COLLECTION);return{key:E.Z.join([e.key,"all"],{type:t.id}),type:v.IY,title:(0,I.Z)("Collections"),context:y.COLLECTIONS_PIVOT}}function Z(e,t){const n=e.key.match(/\/library\/sections\/(\w+)/)[1],r=S.getMetadataType(S.PLAYLIST);return E.Z.join("/playlists/all",{type:r.id,playlistType:t,sectionID:n})}function T(e,t){return{key:Z(e,t),type:v.IY,title:(0,I.Z)("Playlists"),context:y.PLAYLISTS_PIVOT}}function N(e){return e&&-1!==e.split(",").indexOf(f.K)}function O(e,t){return e&&e.some((e=>e.type===t))}function A(e,t,n){return n.type===e&&(null==t&&null==n.subtype||null!=t&&n.subtype===t)}function x(e,t){return/\/library\/sections\/(\w+)/.test(t.key)&&A(e,null,t)}var j=n(36535),L=n(4844),k=n(15042),R=n(81463),z=n(55605),U=n(30369),V=Object.defineProperty,B=Object.prototype.hasOwnProperty,F=Object.getOwnPropertySymbols,_=Object.prototype.propertyIsEnumerable,H=(e,t,n)=>t in e?V(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Q=(e,t)=>{for(var n in t||(t={}))B.call(t,n)&&H(e,n,t[n]);if(F)for(var n of F(t))_.call(t,n)&&H(e,n,t[n]);return e};function G(e){const t=(0,a.DB)("appModel").get("drmType");return Q(Q({},(0,g.Z)(t)),{"X-Plex-Text-Format":(0,d.Z)(e),"X-Plex-Provider-Version":"3.2"})}const W=k.MC;function Y({identifier:e,serverEntityID:t}){return(0,L.Z)(W,e,t)}const K=s.Z.extend({name:"ProviderModel",context:["server"],entityType:W,entityID(e=this.state){return Y({identifier:e.identifier,serverEntityID:this.server.entityID()})},idAttribute:"identifier",rootPropertyName:"MediaProvider",responseType:c.AV,url(){return this.get("baseURL")},mergeStrategy:(e,t,n)=>"protocols"===e&&n&&n.length>0?n:(0,l.Z)(e,t,n),syncedAttrs:{id:o.Z.integer,parentID:o.Z.integer,identifier:o.Z.string,providerIdentifier:o.Z.string,baseURL:o.Z.string,title:o.Z.string,sourceTitle:o.Z.string,types:o.Z.list,protocols:o.Z.list,subscriptions:o.Z.boolean,icon:o.Z.string,epgSource:o.Z.string,source:o.Z.string},sessionAttrs:{isPending:o.Z.boolean,isPopulated:o.Z.boolean,error:o.Z.object},syncedRelations:{features:{relationClass:U.Z,rootPropertyName:"Feature",options(){return{provider:this}},setOptions:{remove:!1}}},derivedAttrs:{isLibraryProvider(){return p.wB((0,j.Z)(this.get("identifier"),this.get("providerIdentifier")),p.Y3)},metricsIdentifier(){const e=this.get("providerIdentifier")||this.get("identifier");return p.wB(e,p.Ll)?e.split(":")[0]:e}},populate(){return this.get("isPopulated")?i().Deferred().resolve(this).promise():s.Z.prototype.populate.apply(this,arguments)},resolveUrl(e,t){const n=Q({},t);return this.url()&&(n.baseUrl=this.url()),this.server.resolveUrl(e,n)},getXHROptions(e,t={}){const n=(0,z.Z)(e)?e:E.Z.join([this.get("baseURL"),e]),r=this.get("providerIdentifier")||this.get("identifier"),i=this.server.getXHROptions(n,Q(Q({},t),{headers:Q(Q({},G(r)),t.headers)}));return this.server.get("isCloud")&&(delete i.headers["X-Plex-Username"],delete i.headers["X-Plex-Device-Name"]),i},defaults:()=>({protocols:[],isPending:!0,isPopulated:!1,error:null}),augmentResponse(e){if(e.MediaProvider&&(e=e.MediaProvider),!e.Feature)return e;const t=p.wB(e.identifier,p.Y3);return e.Feature.forEach((n=>{if(n.type===u.L6&&(n.Setting=[]),!n.Directory||n.type!==u.P8)return;let r;if(!n.key&&t&&(n.key="/library/sections"),n.Directory.forEach(((t,n)=>{const i=t.key||t.hubKey;!t.id&&i&&(t.id=(0,R.Z)(i)),t.type===S.PLAYLIST&&(r=n),t.Pivot||(t.Pivot=function(e,t,n){return e.hubKey||"/playlists"===e.key?x(S.ARTIST,e)?[D(e),C(e,S.ARTIST),T(e,M.j0)]:x(S.MOVIE,e)?[D(e),C(e,S.MOVIE),w(e),T(e,M.pX)]:x(S.SHOW,e)?[D(e),C(e,S.SHOW),w(e),T(e,M.pX)]:x(S.PHOTO,e)?[D(e),{key:P.tk.TIMELINE,type:v.t3,title:(0,I.Z)("Timeline"),context:y.TIMELINE_PIVOT},C(e,S.PHOTO),T(e,M.pV)]:N(t)&&O(n,u.kD)?[{key:e.hubKey,type:v.km,title:(0,I.Z)("Recommended"),context:y.DVR_DISCOVER_PIVOT},{key:P.tk.GUIDE,type:v.t3,title:(0,I.Z)("Guide"),context:y.DVR_GUIDE_PIVOT},{key:P.tk.RECORDING_SCHEDULE,type:v.t3,title:(0,I.Z)("DVR Schedule"),context:y.DVR_SCHEDULE_PIVOT}]:N(t)||O(n,u.HR)?[{key:e.hubKey,type:v.km,title:(0,I.Z)("Recommended"),context:y.DVR_DISCOVER_PIVOT},{key:P.tk.GUIDE,type:v.t3,title:(0,I.Z)("Guide"),context:y.DVR_GUIDE_PIVOT}]:A(S.PLAYLIST,null,e)?[{key:E.Z.join(e.key,{playlistType:M.j0}),type:v.IY,title:(0,I.Z)("Music"),context:y.PLAYLISTS_PIVOT},{key:E.Z.join(e.key,{playlistType:M.pX}),type:v.IY,title:(0,I.Z)("Video"),context:y.PLAYLISTS_PIVOT},{key:E.Z.join(e.key,{playlistType:M.pV}),type:v.IY,title:(0,I.Z)("Photo"),context:y.PLAYLISTS_PIVOT}]:[]:[]}(t,e.protocols,e.Feature)),Array.isArray(t.Pivot)||(t.Pivot=[t.Pivot]),t.Pivot.forEach((e=>{e.id&&e.id.match(/\.(saved|watchlist|playlists)$/)&&(e.requires=h.sy)}))})),r&&r<n.Directory.length-1){const e=n.Directory[r];n.Directory.splice(r,1),n.Directory.push(e)}})),t&&!e.Feature.find((e=>e.type===u.wl))&&e.Feature.push({type:u.wl,key:m.O}),e}})},59638:(e,t,n)=>{"use strict";n.d(t,{Z:()=>f});var r=n(12634),i=n(53334),a=n(14408);const s=i.Z.extend({name:"ProviderCountryModel",context:["server","provider"],idAttribute:"code",rootPropertyName:"Country",syncedAttrs:{code:a.Z.string,title:a.Z.string,postalCodeFormat:a.Z.string,flavor:a.Z.string}});var o=n(67006);const l=r.Z.extend({name:"ProviderCountryCollection",context:["server","provider"],url(){return`${this.provider.get("features").findWhere({type:o.Ct}).get("key")}/countries`},model:s});var c=n(89888),d=n(86646),u=n(40822);const p=r.Z.extend({name:"ProviderEPGChannelCollection",context:["server","provider"],model:d.Z,url(){return this.provider.get("features").get(o.L6).get("settings").get(u.x8).get("key")}}),m=i.Z.extend({name:"ProviderSettingOptionsModel",context:["server","provider"],idAttribute:"key",rootPropertyName:"Directory",syncedAttrs:{key:a.Z.string,title:a.Z.string,type:a.Z.string,selected:a.Z.boolean}}),h=r.Z.extend({name:"ProviderSettingOptionsCollection",context:["server","provider"],model:m});var g=n(70515);const y={int:g.Z.parseInteger,bool:g.Z.parseBoolean,double:g.Z.parseFloat},v=i.Z.extend({name:"ProviderSettingModel",context:["server","provider"],rootPropertyName:"Setting",url(){return this.get("key")},sessionAttrs:{isOptionsPending:a.Z.boolean,isOptionsPopulated:a.Z.boolean,optionsError:a.Z.object,isLocationsPending:a.Z.boolean,isLocationsPopulated:a.Z.boolean,locationsError:a.Z.object,isLineupPending:a.Z.boolean,isLineupPopulated:a.Z.boolean,lineupError:a.Z.object,isRecentChannelsInGridPending:a.Z.boolean,isRecentChannelsInGridPopulated:a.Z.boolean,recentChannelsInGridError:a.Z.object},syncedAttrs:{country:a.Z.string,countryLabel:a.Z.string,hidden:a.Z.boolean,id:a.Z.string,key:a.Z.string,label:a.Z.string,multiselect:a.Z.boolean,postalCode:a.Z.string,required:a.Z.boolean,selectedCount:a.Z.integer,summary:a.Z.string,type:a.Z.string,value:a.Z.oneOfType(a.Z.string,a.Z.boolean,a.Z.float),min:a.Z.float,max:a.Z.float,step:a.Z.float,enumValues:a.Z.string,default:a.Z.string},sessionRelations:{locations:{relationClass:l},lineup:{relationClass:c.Z},recentChannelsInGrid:{relationClass:p}},syncedRelations:{settings:()=>({relationClass:n(59638).Z,rootPropertyName:"Setting",deferred:!0}),options:{relationClass:h,options:e=>({url:e.key})}},defaults:{isOptionsPending:!0,isOptionsPopulated:!1,optionsError:null,isLocationsPending:!0,isLocationsPopulated:!1,locationsError:null,isLineupPending:!0,isLineupPopulated:!1,lineupError:null},augmentResponse(e){const t=y[e.type];return t&&(e.value=t(e.value)),e}}),f=r.Z.extend({name:"ProviderSettingCollection",context:["server","provider"],url:"/settings",model:v})},56442:(e,t,n)=>{"use strict";n.d(t,{Ls:()=>o,AV:()=>l,fL:()=>c});var r=n(13469),i=n.n(r),a=n(70515);function s(e,t){return t||(t={}),i().defaults(t,{typeName:e,parse:i().bind(a.Z.parseType,a.Z,e)})}const o=s("xml",{accept:"application/xml"}),l=s("json",{accept:"application/json"}),c=s("text")},69273:(e,t,n)=>{"use strict";n.d(t,{Z:()=>C});var r=n(53334),i=n(14408),a=n(56442),s=n(78636),o=n(67299),l=n(84936),c=n(12634),d=n(95688),u=n(65115);const p=r.Z.extend({name:"SearchResultAdditionalSourceModel",sessionAttrs:{serverEntityID:i.Z.string,providerEntityID:i.Z.string,metadataItemEntityID:i.Z.string,tagItem:i.Z.object}}),m=c.Z.extend({name:"SearchResultAdditionalSourceCollection",model:p});var h=n(4844),g=n(15042),y=Object.defineProperty,v=Object.prototype.hasOwnProperty,f=Object.getOwnPropertySymbols,b=Object.prototype.propertyIsEnumerable,I=(e,t,n)=>t in e?y(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,S=(e,t)=>{for(var n in t||(t={}))v.call(t,n)&&I(e,n,t[n]);if(f)for(var n of f(t))b.call(t,n)&&I(e,n,t[n]);return e};const M=r.Z.extend({name:"SearchResultModel",context:["server","provider","metricsContext"],entityType:g.Re,entityID(e=this.state){return(0,h.Z)(this.entityType,e.key,this.provider&&this.provider.entityID(),this.server.entityID())},responseType(){return(0,s.Z)(this.server)},idAttribute:"key",sessionRelations:{additionalSources:{relationClass:m}},syncedAttrs:{key:i.Z.string,reasonID:i.Z.integer,reason:i.Z.string,reasonTitle:i.Z.string},syncedRelations:{metadataItem:{relationClass:d.Z,deferred:!0},tagItem:{relationClass:u.Z,deferred:!0}},augmentResponse(e){const t=e,{key:n,reason:r,reasonTitle:i,reasonID:a}=t,s=((e,t)=>{var n={};for(var r in e)v.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&f)for(var r of f(e))t.indexOf(r)<0&&b.call(e,r)&&(n[r]=e[r]);return n})(t,["key","reason","reasonTitle","reasonID"]);return{key:n,reason:r,reasonTitle:i,reasonID:a,[s.tag?"tagItem":"metadataItem"]:S({key:n},s)}}}),E=c.Z.extend({name:"SearchResultCollection",context:["server","provider","metricsContext"],model:M,responseType(){return(0,s.Z)(this.server)}}),P=r.Z.extend({name:"SearchHubModel",context:["server","provider"],responseType(){return(0,s.Z)(this.server)},idAttribute:"hubIdentifier",syncedAttrs:{hubIdentifier:i.Z.string,size:i.Z.integer,type:i.Z.string,subtype:i.Z.string,title:i.Z.string,context:i.Z.string},syncedRelations:{metadataResults:{relationClass:E,rootPropertyName:"Metadata",options:e=>({metricsContext:e.context})},tagResults:{relationClass:E,rootPropertyName:"Directory",options:e=>({metricsContext:e.context})}}}),D=c.Z.extend({name:"SearchHubCollection",context:["server","provider"],model:P,responseType(){return(0,s.Z)(this.server)}}),C=r.Z.extend({name:"SearchModel",context:["server","provider","isContextual","includeCollections","includeExternalMedia"],responseType(){return(0,s.Z)(this.server)},url(){const e={};return this.includeCollections&&(e.includeCollections=1),this.includeExternalMedia&&(e.includeExternalMedia=1),this.isContextual&&(e.contextual=1),this.get("contentDirectoryID")&&(e.contentDirectoryID=this.get("contentDirectoryID")),l.Z.join(this.get("key"),e)},idAttribute:"providerEntityID",sessionAttrs:{providerEntityID:i.Z.string,serverEntityID:i.Z.string,key:i.Z.string,contentDirectoryID:i.Z.string,searchTitle:i.Z.string,isSearchPending:i.Z.boolean,isSearchPopulated:i.Z.boolean,searchError:i.Z.object},syncedRelations:{hubs:{relationClass:D,rootPropertyName:"Hub"}},defaults:{isSearchPending:!0,isSearchPopulated:!1,contentDirectoryID:""},augmentResponseText:(e,t)=>t===a.Ls?(0,o.Z)(e):e,augmentResponse(e){if(!e.Hub)return e;const t=Array.isArray(e.Hub)?e.Hub:[e.Hub];return e.Hub=t.filter((e=>parseInt(e.size,10)>0)),e}})},28058:(e,t,n)=>{"use strict";n.d(t,{Z:()=>P});var r=n(93966),i=n(94018),a=n(56529),s=n(14408),o=n(12319),l=n(96840),c=n(19755),d=n.n(c),u=n(13469),p=n.n(u);var m=n(84936),h=n(75358),g=n(49963),y=n(12634),v=n(59756),f=n(56442),b=n(43520);const I=y.Z.extend({name:"ResourceCollection",model:b.Z,context:["server"],responseType:f.AV,url(){const e={};return v.Z.allowHttpsMediaServerConnections&&(e.includeHttps=1),v.Z.allowMediaServerRelayConnections&&(e.includeRelay=1),m.Z.join("/api/v2/resources",e)}}),{connectionTestResults:S,promiseStates:M}=o.ZP,E=o.ZP.extend({name:"CloudServerModel",connectionTestUrl:"https://plex.tv/monitoring/health",sessionAttrs:{connectionTestResult:s.Z.oneOf(S.PENDING,S.CONNECTED,S.UNAVAILABLE,S.UNAUTHORIZED).isRequired,promiseState:s.Z.oneOf(M.PENDING,M.RESOLVED,M.REJECTED).isRequired,isShared:s.Z.boolean.isRequired,isBundled:s.Z.boolean.isRequired,isCloud:s.Z.boolean.isRequired,isMerged:s.Z.boolean.isRequired,isDownForMaintenance:s.Z.boolean.isRequired,isResourcesPending:s.Z.boolean.isRequired,isResourcesPopulated:s.Z.boolean.isRequired,hasFailedResources:s.Z.boolean.isRequired,accessToken:s.Z.string,baseUrl:s.Z.string.isRequired,plexPassUrl:s.Z.string.isRequired,appsUrl:s.Z.string.isRequired,hasEventConnection:s.Z.boolean},sessionRelations:{activeConnection:{relationClass:g.Z,deferred:!0},connections:{relationClass:h.Z,options(){return{server:this}}},resources:{relationClass:I,options(){return{server:this}}}},defaults(){const e="https://plex.tv";return{connectionTestResult:S.PENDING,promiseState:M.PENDING,isShared:!1,isBundled:!1,isCloud:!0,isMerged:!1,isDownForMaintenance:!1,isResourcesPending:!1,isResourcesPopulated:!1,hasFailedResources:!1,friendlyName:"plex.tv",baseUrl:e,plexPassUrl:m.Z.join([e,"/subscription/about"]),appsUrl:m.Z.join([e,"/downloads"]),hasEventConnection:!1}},testAllConnections(){const e=this.get("connections");(0,l.Z)("[Connections] Testing all %s connection(s) for %s",e.length,this.get("debugName"));return function(e){if(!e.length)return d().Deferred().reject().promise();const t=d().Deferred();let n=e.length;return p().each(e,(function(e){e.done((function(){n--,t.resolveWith(this,arguments)})).fail((function(){n--,0===n&&t.reject()}))})),t.promise()}(e.map((e=>this.testConnection(e))))},testConnection(e){const t={server:this,connection:e,url:this.connectionTestUrl};return i.Z.execute("testServerConnection",t).done(this.onConnectionTestSuccess.bind(this)).fail(this.onConnectionTestError.bind(this))},abortConnectionTest(e){const t={server:this,connection:e,url:this.connectionTestUrl};i.Z.execute("abortServerConnectionTest",t)},deauthenticate(){this.get("resources").clear(),this._reject({connectionTestResult:this.get("connectionTestResult"),accessToken:null})},onConnectionTestSuccess(e){const t=this.get("connections").getBestConnection();l.Z.info("[Connections] Active connection to %s is %s",this.get("debugName"),t.id),this.startCapturingChangeEvents(),this.set({isDownForMaintenance:!1,connectionTestResult:S.CONNECTED,activeConnection:t}),this.releaseCapturedChangeEvents()},onConnectionTestError(e,t){e.get("isAborted")||this.get("connections").hasOnlyFailedConnections()&&this._reject({isDownForMaintenance:503===t.status})}});(0,a.Z)(E,(function(){return{relationClass:(0,r.DB)("CloudServerFlexModel"),options:{server:this}}}));const P=E},75358:(e,t,n)=>{"use strict";n.d(t,{y:()=>c,Z:()=>d});var r=n(13469),i=n.n(r),a=n(12634),s=n(59756),o=n(85790),l=n(49963);const c=(e,t)=>!e.get("relay")&&t.get("relay")?e:!t.get("relay")&&e.get("relay")||!e.get("isLoopback")&&t.get("isLoopback")?t:!t.get("isLoopback")&&e.get("isLoopback")?e:!e.get("isPrivate")&&t.get("isPrivate")?t:!t.get("isPrivate")&&e.get("isPrivate")?e:!e.get("isHttps")&&t.get("isHttps")?t:(!t.get("isHttps")&&e.get("isHttps"),e),d=a.Z.extend({name:"ConnectionCollection",context:["server"],model:l.Z,getBestConnection(){const e=s.Z.allowHttpsMediaServerConnections,t=!this.server||this.server.get("isCloud")||e,n=this.filter((e=>e.get("isConnected")&&(t||!e.get("isHttps"))));if(n.length)return i().reduce(n,c)},hasBetterConnectionCandidates(){const e=this.server&&this.server.get("activeConnection");return this.some((t=>{const n=t.get("isUntested")||t.get("isPending"),r=!e||t!==e&&c(t,e)===t;return n&&r}))},hasOnlyFailedConnections(){return this.every((e=>e.get("isFailed")))},hasFailedEveryDirectConnection(){return this.where({relay:!1}).every((e=>e.get("isFailed")))},hasMultiplePrivateV4Subnets(){let e;return this.some((t=>{const n=t.get("address");if(t.get("isPrivate")&&o.q1(n)){const t=o.iX(n);return e||(e=t),e!==t}}))}})},49963:(e,t,n)=>{"use strict";n.d(t,{Z:()=>y});var r=n(13469),i=n.n(r),a=n(53334),s=n(14408),o=n(89410),l=n(11133),c=n(74183),d=n(85790),u=n(84936),p=n(12634);const m=a.Z.extend({name:"ConnectionSourceModel",context:["server"],sessionAttrs:{id:s.Z.string}}),h=p.Z.extend({name:"ConnectionSourceCollection",context:["server"],model:m}),g=s.Z.boolean.isRequired,y=a.Z.extend({name:"ConnectionModel",context:["server"],idAttribute:"uri",sessionAttrs:{currentTest:s.Z.custom((e=>Array.isArray(e)&&e.every((e=>i().isFunction(e.abort))))),testState:s.Z.oneOf(o.uf,o.hA,o.nm,o.WY,o.nZ,o.c9).isRequired,isBundled:g,isFallback:g},sessionRelations:{sources:{relationClass:h}},syncedAttrs:{uri:s.Z.string,scheme:s.Z.string,address:s.Z.string,port:s.Z.string,relay:s.Z.boolean},derivedAttrs:{isUntested(){return this.get("testState")===o.uf},isPending(){return this.get("testState")===o.hA},isConnected(){return this.get("testState")===o.nm},isUnauthorized(){return this.get("testState")===o.WY},isUnavailable(){return this.get("testState")===o.nZ},isFailed(){return this.get("isUnauthorized")||this.get("isUnavailable")},isAborted(){return this.get("testState")===o.c9},isLoopback(){const e=this.get("address");return"localhost"===e||d.lv(e)},isPrivate(){return this.get("isLoopback")||d.KF(this.get("address"))},isHttps(){return"https"===this.get("scheme")},isSecure(){return this.get("isLoopback")||this.get("isHttps")},isPlexDirect(){return/\.plex\.direct:/.test(this.get("uri"))}},defaults:{testState:o.uf,isBundled:!1,isFallback:!1,relay:!1},url(){return this.get("uri")},constructor:function(e,t){const n=i().clone(e);i().isObject(e)&&!e.uri&&((0,l.Z)(e.scheme&&e.address,`A server connection requires either a uri or a scheme and address. ${e.scheme}://${e.address}`),n.uri=`${e.scheme}://${e.address}`,e.port&&(n.uri+=":"+e.port)),a.Z.prototype.constructor.call(this,n,t)},initialize(){this.listenTo(this.get("sources"),"remove reset",this.onSourcesChange)},augmentResponse(e){const t=e.protocol;return t?i().extend({},e,{scheme:t}):e},getAddressFromUri(){return u.Z.parseUrl(this.get("uri")).hostname},getIpAddressFromPlexDirectAddress(){return(0,c.Z)(this.get("address"))},getLoopbackAttributes(){return{scheme:"http",address:"127.0.0.1",port:this.get("port")}},hasSource(e){return this.get("sources").some((t=>e&&t.get("id")===e))},onSourcesChange(){this.get("sources").length||this.trigger("destroy",this,this.collection)}})},43520:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(42902),i=n(53334),a=n(14408),s=n(75358);const o=i.Z.extend({name:"ResourceModel",context:["server"],idAttribute:"clientIdentifier",urlRoot:"/api/v2/resources",syncedAttrs:{clientIdentifier:a.Z.string,name:a.Z.string,sourceTitle:a.Z.string,accessToken:a.Z.string,product:a.Z.string,productVersion:a.Z.string,platform:a.Z.string,platformVersion:a.Z.string,device:a.Z.string,provides:a.Z.list,owned:a.Z.boolean,home:a.Z.boolean,synced:a.Z.boolean,presence:a.Z.boolean,publicAddressMatches:a.Z.boolean,httpsRequired:a.Z.boolean,createdAt:a.Z.integer,lastSeenAt:a.Z.integer,ownerId:a.Z.integer},syncedRelations:{connections:{relationClass:s.Z}},augmentResponse(e){"string"==typeof e.createdAt&&(e.createdAt=(0,r.Z)(e.createdAt)),"string"==typeof e.lastSeenAt&&(e.lastSeenAt=(0,r.Z)(e.lastSeenAt));const t=e.Device;return t?(t.connections=t.Connection,delete t.Connection,t):e}})},12319:(e,t,n)=>{"use strict";n.d(t,{Ar:()=>te,Hq:()=>ee,_r:()=>q,Po:()=>re,ZP:()=>ae});var r=n(13469),i=n.n(r),a=n(93966),s=n(39670),o=n(94018),l=n(14e3),c=n(53334),d=n(56529),u=n(14408),p=n(59756),m=n(69865),h=n(32919),g=n(93683),y=n(78636),v=n(76037),f=n(84936),b=n(12634),I=n(19755),S=n.n(I),M=n(32707),E=n(81318);const P=c.Z.extend({name:"PlaylistModel",context:["server","containerKey"],idAttribute:"ratingKey",rootPropertyName:"Playlist",urlRoot:"/playlists",saveUrl(){return this.server.supports("truePlaylistsPath")?i().result(this,"url"):`/library/metadata/${this.id}`},sessionAttrs:{isPlaylist:u.Z.boolean,isLibraryItem:u.Z.boolean},syncedAttrs:{ratingKey:u.Z.string,key:u.Z.string,guid:u.Z.string,type:u.Z.string,playlistType:u.Z.string,title:u.Z.string,titleSort:u.Z.string,composite:u.Z.string,summary:u.Z.string,smart:u.Z.boolean,allowSync:u.Z.boolean,duration:u.Z.integer,durationInSeconds:u.Z.integer,leafCount:u.Z.integer,addedAt:u.Z.integer,updatedAt:u.Z.integer},sessionRelations:{children:{relationClass:E.Z,attrs(e){const t={};return"audio"===e.playlistType&&(t.includeRelated=1),{containerKey:f.Z.join(["/playlists",e.ratingKey,"items"],t)}},options(){return{playlist:this}}}},defaults:{isPlaylist:!0,isLibraryItem:!0},findItem(e){return this.get("children").getCollection().findWhere({playlistItemID:e})},moveItem(e,t){if(void 0===e)return;const n=t?{after:t}:{},r=f.Z.join([i().result(this,"url"),"/items/",e,"/move"],n),a=i().extend(this.server.getXHROptions(r),{type:"PUT"}),s=S().ajax(a),o=this.get("children").getCollection(),l=this.findItem(e);o.remove(l);const c=this.findItem(t),d=c?o.indexOf(c)+1:0;return o.add(l,{at:d}),s},removeItem(e){if(void 0===e)return;const t=f.Z.join([i().result(this,"url"),"/items/",e]),n=i().extend(this.server.getXHROptions(t),{type:"DELETE"}),r=S().ajax(n);r.then((e=>{this.set(this.parse(e))}));const a=this.get("children").getCollection(),s=this.findItem(e);return a.remove(s),a.trigger("destroy",s,a),r},addContent(e,t){const n=this.isNew()?"POST":"PUT",r=[i().result(this,"url")],a={};this.isNew()?(a.type=this.get("playlistType"),a.title=this.get("title"),a.smart=this.get("smart")?1:0):r.push("/items"),e.get("playQueueID")?a.playQueueID=e.get("playQueueID"):a.uri=M.Z.uri(e,t);const s=f.Z.join(r,a),o=i().extend(e.server.getXHROptions(s),{type:n}),l=S().ajax(o);return l.then((e=>{this.set(this.parse(e))})),l.promise()},isLibraryItem:(e,t)=>!0,isPlexMusicItem:()=>!1}),D=b.Z.extend({name:"PlaylistCollection",context:["server","containerKey"],model:P,url(){return this.containerKey}}),C=c.Z.extend({mixins:[g.Z],name:"PlaylistListModel",context:["server","section"],idAttribute:"key",collectionName:"playlists",responseType(){return(0,y.Z)(this.server)},url(){return this.getPaginatedUrl(i().result(this,"containerKey"))},containerKey(){const e=this.section.get("currentType"),t=this.section.get("currentSort"),n={type:15};return n.sort=t?t.id+":"+(t.get("direction")||"asc"):"titleSort:asc",e&&(n.playlistType=e),this.section.get("onlyDumb")&&(n.smart=0),f.Z.join("/playlists/all",n)},sessionAttrs:{isPlaylistList:u.Z.boolean,currentPageStart:u.Z.integer,currentPageSize:u.Z.integer,populatedRange:u.Z.object},syncedAttrs:{totalSize:u.Z.integer},syncedRelations:{playlists:{relationClass:D,rootPropertyName:"Playlist",options(e){return{containerKey:i().result(this,"containerKey")}},setOptions:e=>({remove:e.remove,at:e.at})}},defaults:()=>({isPlaylistList:!0,populatedRange:{start:0,end:0,size:0}}),initialize(){this.startPopulatedRangeMonitor()},sync(e,t,n){const r=v.Z.addVersionHeader(2,n);return c.Z.prototype.sync.call(this,e,t,r)},augmentResponse:e=>(e.Metadata&&(e.Playlist=e.Metadata,delete e.Metadata),e)}),w=m.Z.extend({name:"PlaylistsSectionModel",defaults(){return{pseudo:!0,currentType:0,sorts:new h.Z([],{section:this,server:this.server}),items:new C({},{section:this,server:this.server})}},url:()=>"/playlists"});var Z=n(33192),T=n(12186),N=n(64297),O=n(52039),A=n(53145),x=n(36776),j=n(48523),L=n(11133),k=n(96840),R=n(4844),z=n(15042),U=n(70716),V=n(55605),B=n(75358),F=n(49963),_=n(76249),H=Object.defineProperty,Q=Object.prototype.hasOwnProperty,G=Object.getOwnPropertySymbols,W=Object.prototype.propertyIsEnumerable,Y=(e,t,n)=>t in e?H(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,K=(e,t)=>{for(var n in t||(t={}))Q.call(t,n)&&Y(e,n,t[n]);if(G)for(var n of G(t))W.call(t,n)&&Y(e,n,t[n]);return e};const q={PENDING:"pending",CONNECTED:"connected",UNAVAILABLE:"unavailable",UNAUTHORIZED:"unauthorized"},$={PENDING:"pending",RESOLVED:"resolved",REJECTED:"rejected"},J={SECONDARY:"secondary"},X=["camera_upload","content_filter","home","lyrics","music_videos","pass","premium_music_metadata","sync","trailers"],ee="ok",te="none",ne=z.cN;function re({machineIdentifier:e}){return(0,R.Z)(ne,e)}const ie=c.Z.extend({mixins:[T.Z],name:"ServerModel",entityType:ne,entityID(e=this.state){return re({machineIdentifier:e.machineIdentifier||this.cid})},idAttribute:"machineIdentifier",connectionTestTimeout:1e4,responseType(){return(0,y.Z)(this)},mergeStrategy:N.Z,cache:new x.Z,persistInCache:!0,sessionAttrs:{connectionTestResult:u.Z.oneOf(q.PENDING,q.CONNECTED,q.UNAVAILABLE,q.UNAUTHORIZED).isRequired,promiseState:u.Z.oneOf($.PENDING,$.RESOLVED,$.REJECTED).isRequired,sections:u.Z.instanceOf(Z.Z).isRequired,playlists:u.Z.instanceOf(w).isRequired,isShared:u.Z.boolean.isRequired,isBundled:u.Z.boolean.isRequired,isCloud:u.Z.boolean.isRequired,isMerged:u.Z.boolean.isRequired,isEmbedded:u.Z.boolean.isRequired,isInstallingServerUpdate:u.Z.boolean.isRequired,superToken:u.Z.string,accessToken:u.Z.string,sourceTitle:u.Z.string,publicAddressMatches:u.Z.boolean,httpsRequired:u.Z.boolean,presence:u.Z.boolean,home:u.Z.boolean,createdAt:u.Z.integer,lastSeenAt:u.Z.integer,ownerId:u.Z.integer,hasEventConnection:u.Z.boolean,serverClass:u.Z.oneOf(J.SECONDARY),onlyXML:u.Z.boolean,isProvidersPending:u.Z.boolean.isRequired,isProvidersPopulated:u.Z.boolean.isRequired,providersError:u.Z.object},sessionRelations:{activeConnection:{relationClass:F.Z,deferred:!0},connections:{relationClass:B.Z,options(){return{server:this}}}},syncedRelations:{providers:{relationClass:O.Z,rootPropertyName:"MediaProvider",options(){return{server:this}}}},syncedAttrs:{machineIdentifier:u.Z.string,friendlyName:u.Z.string,startState:u.Z.string,version:u.Z.string,platform:u.Z.string,platformVersion:u.Z.string,sync:u.Z.boolean,backgroundProcessing:u.Z.boolean,multiuser:u.Z.boolean,transcoderLyrics:u.Z.boolean,myPlex:u.Z.boolean,myPlexMappingState:u.Z.string,myPlexSigninState:u.Z.oneOf(ee,te,"invalid"),myPlexSubscription:u.Z.boolean,myPlexUsername:u.Z.string,transcoderPhoto:u.Z.boolean,transcoderAudio:u.Z.boolean,transcoderVideo:u.Z.boolean,transcoderVideoRemuxOnly:u.Z.boolean,transcoderSubtitles:u.Z.boolean,transcoderActiveVideoSessions:u.Z.integer,allowMediaDeletion:u.Z.boolean,allowCameraUpload:u.Z.boolean,allowChannelAccess:u.Z.boolean,allowSync:u.Z.boolean,diagnostics:u.Z.list,companionProxy:u.Z.boolean,updater:u.Z.boolean,isDesktop:u.Z.boolean,photoAutoTag:u.Z.boolean,itemClusters:u.Z.boolean,updatedAt:u.Z.integer,countryCode:u.Z.string,ownerFeatures:u.Z.list,mediaProviders:u.Z.integer,maxUploadBitrate:u.Z.integer,maxUploadBitrateReason:u.Z.string,maxUploadBitrateReasonMessage:u.Z.string,streamingBrainABRVersion:u.Z.integer,livetv:u.Z.integer,games:u.Z.boolean},derivedAttrs:{debugName(){const e=this.get("machineIdentifier"),t=this.get("connections"),n=1===t.length&&t.at(0).get("isLoopback");let r=this.get("friendlyName");return!r&&this.get("isBundled")?r="[Bundled]":!r&&n&&(r="[Loopback]"),r||(e?`[${e}]`:"[Anonymous]")},shortVersion(){return(0,U.Z)(this.get("version"))},isConnected(){return this.get("connectionTestResult")===q.CONNECTED},isUnavailable(){return this.get("connectionTestResult")===q.UNAVAILABLE},isUnauthorized(){return this.get("connectionTestResult")===q.UNAUTHORIZED},isPending(){return this.get("promiseState")===$.PENDING},isPrivateConnection(){const e=this.get("activeConnection");return!(!e||!e.get("isPrivate"))},isResolved(){return this.get("promiseState")===$.RESOLVED},isRejected(){return this.get("promiseState")===$.REJECTED},isRelayed(){const e=this.get("activeConnection");return!(!e||!e.get("relay"))},isSecure(){const e=this.get("activeConnection");return!(!e||!e.get("isSecure"))},hasHttpsConnections(){return!!this.get("connections").findWhere({isHttps:!0})},hasFallbackConnections(){return!!this.get("connections").findWhere({isFallback:!0})},isMobileServer(){return this.get("serverClass")===J.SECONDARY},isFullServer(){return!this.get("isCloud")&&!this.get("isMobileServer")&&!this.get("isEmbedded")},isFullOwnedServer(){return this.get("isFullServer")&&!this.get("isShared")},isPrimaryEligible(){return!(!p.Z.allowMobileServers&&this.get("isMobileServer")||!this.get("machineIdentifier")||this.get("isUnauthorized")||this.get("isCloud")||this.get("isEmbedded"))},isOutOfDate(){return!this.get("isMobileServer")&&!this.isVersionOrNewer("1.18.3")},isClaimed:function(){return this.get("isConnected")?this.get("myPlexSigninState")===ee:void 0},hasManualConnection(){return this.get("connections").some((e=>e.get("sources").some((e=>/^manual/.test(e.id)))))},hasAdaptiveBitrate(){return this.get("streamingBrainABRVersion")>=3},shared(){return this.get("isShared")},bundled(){return this.get("isBundled")},cloud(){return this.get("isCloud")},merged(){return this.get("isMerged")},connected(){return this.get("connectionTestResult")===q.PENDING?null:this.get("isConnected")},available(){return this.get("connectionTestResult")===q.PENDING?null:!this.get("isUnavailable")},authorized(){return this.get("connectionTestResult")===q.PENDING?null:this.get("isResolved")},relayed(){return this.get("isRelayed")}},defaults(){return{connectionTestResult:q.PENDING,promiseState:$.PENDING,sections:new Z.Z([],{server:this}),playlists:new w({},{server:this}),isShared:!1,isBundled:!1,isCloud:!1,isMerged:!1,isEmbedded:!1,isInstallingServerUpdate:!1,hasEventConnection:!1,sync:!1,backgroundProcessing:!1,allowChannelAccess:!1,updater:!0,ownerFeatures:[],games:!1,isProvidersPending:!0,isProvidersPopulated:!1,providersError:null}},url(e=this.get("activeConnection")){(0,L.Z)(e,"An active or manual connection is required for a server url");let t=i().result(e,"url");return/\/$/.test(t)||(t+="/"),t},initialize(){this._reset(),this.on("change:machineIdentifier",this.onMachineIdentifierChange,this),this.listenTo(this.get("connections"),{remove:this.onConnectionRemove,reset:this.onConnectionsReset})},uninitialize(){this.off("change:machineIdentifier",this.onMachineIdentifierChange,this),this.stopListening()},updateEntity(){if(!this.get("isMerged"))return c.Z.prototype.updateEntity.apply(this,arguments)},fetch(){return l.ZP.Model.prototype.fetch.apply(this,arguments)},resolveUrl(e,t={}){if((0,V.Z)(e))return e;let n;n=t.useRelativeUrl?this.get("isMobileServer")?`http://127.0.0.1:${this.getLoopbackPort()}/`:"":t.baseUrl||this.url(t.connection);const r=this.get("accessToken"),a=i().extend({},t.params);return t.appendHeaders&&i().defaults(a,this.getHeaders()),t.appendToken&&r&&(a["X-Plex-Token"]=r),f.Z.join([n,e],a)},getXHROptions(e,t={}){var n=t,{headers:r,baseUrl:a}=n,s=((e,t)=>{var n={};for(var r in e)Q.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&G)for(var r of G(e))t.indexOf(r)<0&&W.call(e,r)&&(n[r]=e[r]);return n})(n,["headers","baseUrl"]);return K({url:this.resolveUrl(e,{baseUrl:a}),dataType:"text",headers:i().extend(this.getHeaders(),r),allowHeadersInUrl:!0,allowBlacklistedMethodHeaders:this.supports("allowBlacklistedMethodHeaders")},s)},getHeaders(){const e=s.Z.getInstance(),t=i().clone(e),n=this.get("accessToken");n&&(t["X-Plex-Token"]=n);const r=(0,a.DB)("settingFinder").find("language");return r&&(t["X-Plex-Language"]=r,t["Accept-Language"]=r),t},addConnection(e){e.sources||(e.sources=[{id:"internal"}]);const t=this.get("connections"),n=new F.Z(e),r=t.get(n.id);return r?(r.get("sources").set(e.sources,{remove:!1}),r):t.add(e)},hasSource(e){return this.get("connections").some((t=>t.hasSource(e)))},removeSource(e){const t=this.get("connections");let n=t.length-1;for(;n>=0;)t.at(n).get("sources").remove(e),n--},testAllConnections(){const e=this.get("connections");return(0,k.Z)("[Connections] Testing all %s connection(s) for %s",e.length,this.get("debugName")),this._reset(),e.each((e=>{const t=!e.get("relay"),n=!e.get("isUntested");(t||n)&&this.testConnection(e)})),this.populatePromise},testOnlyUntestedConnections(){return this.get("connections").each((e=>{const t=!e.get("relay"),n=e.get("isUntested"),r=e.get("isAborted");t&&(n||r)&&this.testConnection(e)})),this.populatePromise},testOnlyUntestedRelayConnections(){return this.get("connections").each((e=>{const t=e.get("relay"),n=e.get("isUntested");t&&n&&this.testConnection(e)})),this.populatePromise},testConnection(e,t={}){return t.server=this,t.connection=e,this.get("promiseState")===$.REJECTED&&this._reset(),o.Z.execute("testServerConnection",t).done(this.onConnectionTestSuccess.bind(this)).fail(this.onConnectionTestError.bind(this))},abortAllConnectionTests(){const e=this.get("connections");(0,k.Z)("[Connections] Aborting all pending connection tests for",this.get("debugName")),e.each((e=>{this.abortConnectionTest(e)}))},abortConnectionTest(e){const t={server:this,connection:e};o.Z.execute("abortServerConnectionTest",t)},populateIdentity(e){if(this._identityPromise)return this._identityPromise;const t=o.Z.execute("populateServerIdentity",{server:this,connection:e});return t.done((e=>{this.set("machineIdentifier",e)})),this._identityPromise=t,t},updateCacheKey(){const e=this.get("debugName"),t=this.cacheKey(this.attributes),n=this.cache.get(t);if(n){const r=n.get("debugName");k.Z.warn("[Identity] %s and %s (cached) collide",e,r),n.get("isConnected")||!this.get("isConnected")?((0,k.Z)("[Identity] Merging %s into %s (cached)",e,r),n.merge(this)):((0,k.Z)("[Identity] Merging %s (cached) into %s",r,e),this.merge(n),this.cache.store(this,t))}else this.cache.store(this,t)},merge(e){e.set("isMerged",!0),e.get("isBundled")&&this.set("isBundled",!0),e.get("connections").each((e=>{this.addConnection(e.toJSON())})),this.collection&&(this.collection.remove(e.cid,{silent:!0}),this.collection._byId[this.id]=this,this.collection.trigger("remove",e,this.collection),this.collection.trigger("update",this.collection)),this.cache.remove(e),p.Z.shouldCreateStateTree&&this.updateEntity()},hasOwnerFeature(e){if(this.supports("ownerFeatures")){const t=this.get("ownerFeatures");return!!(t&&t.indexOf(e)>-1)}return!!this.get("myPlexSubscription")&&X.indexOf(e)>-1},supports(e){const t=this.get(e);if(i().isBoolean(t))return t;const n=_.Z[e];return null!=n&&this.isVersionOrNewer(n)},isVersionOrNewer(e){const t=this.get("shortVersion");return!e||!t||(0,j.Z)(t,e)},hasRegression(e){if(!e)return!1;const t=this.isVersionOrNewer(e.introduced),n=e.resolved&&this.isVersionOrNewer(e.resolved);return t&&!n},hasOtherLoopbackServer(){return!!this.collection&&this.collection.hasLoopbackServer()},getLoopbackPort(){const e=this.get("connections").findWhere({isPrivate:!0});return e?e.get("port"):"32400"},authenticate(e){this._resolve({accessToken:e})},deauthenticate(){this._reject({accessToken:null})},_reset(){this.startCapturingChangeEvents(),this.set("promiseState",$.PENDING),this._resetPopulate(),this.releaseCapturedChangeEvents()},_resolve(e){const t=i().extend({connectionTestResult:q.CONNECTED,promiseState:$.RESOLVED},e);this.startCapturingChangeEvents(),this.set(t),p.Z.shouldCreateStateTree&&this.updateState(),this._resolvePopulate(),this.releaseCapturedChangeEvents()},_reject(e){const t=this.get("connections");t.hasOnlyFailedConnections()&&k.Z.warn("[Connections] All connections to %s failed",this.get("debugName"));const n=t.findWhere({isUnauthorized:!0})?q.UNAUTHORIZED:q.UNAVAILABLE,r=i().extend({connectionTestResult:n,promiseState:$.REJECTED},e);this.startCapturingChangeEvents(),this.set(r),this._rejectPopulate(),this.releaseCapturedChangeEvents()},_checkActiveConnection(){const e=this.get("activeConnection"),t=this.get("connections");if(e&&!t.contains(e)){const e=t.getBestConnection();e?this.set({activeConnection:e}):this.testAllConnections()}},onMachineIdentifierChange(e,t){this.collection?this.listenToOnce(this.collection,"change:machineIdentifier",(function(){this.updateCacheKey()})):this.updateCacheKey()},onConnectionRemove(e,t){t.length?this._checkActiveConnection():(this.trigger("change:connections.remove",e,t),this.trigger("change:connections.change",this,t),this.trigger("destroy",this,this.collection))},onConnectionsReset(e,t){e.length?this._checkActiveConnection():(this.trigger("change:connections.reset",e,t),this.trigger("change:connections.change",this,e),this.trigger("destroy",this,this.collection))},onConnectionTestSuccess(e,t){const n=this.get("connections").getBestConnection();if(n!==this.get("activeConnection")&&k.Z.info("[Connections] Active connection to %s is %s",this.get("debugName"),n.id),this._resolve(K({activeConnection:n},t)),p.Z.allowLoopbackDiscovery){const e=this.get("connections"),t=this.get("activeConnection"),n=t.get("isPrivate"),r=!!e.findWhere({isLoopback:!0});!n||r||this.hasOtherLoopbackServer()||((0,k.Z)("[Connections] Adding possible loopback connection for",this.get("debugName")),this.addConnection(t.getLoopbackAttributes()))}},onConnectionTestError(e,t){if(e.get("isAborted"))return;const n=this.get("connections");!e.get("isHttps")||e.get("isUnauthorized")||e.get("relay")||(0,a.DB)("appStore").dispatch((0,A.zg)({serverEntityID:this.entityID(),address:e.get("address"),port:e.get("port")})),!this.id&&e.get("isUnauthorized")&&this.populateIdentity(e),n.hasOnlyFailedConnections()?this.id||!this._identityPromise?this._reject():this._identityPromise.always((()=>{n.hasOnlyFailedConnections()&&this._reject()})):n.hasFailedEveryDirectConnection()&&this.testOnlyUntestedRelayConnections()}},{connectionTestResults:q,promiseStates:$,serverClasses:J});(0,d.Z)(ie,(function(){return{relationClass:(0,a.DB)("ServerFlexModel"),options:{server:this}}}));const ae=ie},47985:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var r=n(12634),i=n(53334),a=n(14408);const s=i.Z.extend({name:"SectionOverviewModel",context:["server"],rootPropertyName:"Section",syncedAttrs:{id:a.Z.integer,key:a.Z.string,type:a.Z.string,title:a.Z.string}}),o=r.Z.extend({name:"SectionOverviewCollection",context:["server"],model:s}),l=i.Z.extend({name:"ServerOverviewModel",context:["server"],idAttribute:"machineIdentifier",rootPropertyName:"Server",urlRoot:"/api/servers",syncedAttrs:{machineIdentifier:a.Z.string,name:a.Z.string,address:a.Z.string,port:a.Z.string,version:a.Z.string,createdAt:a.Z.integer,updatedAt:a.Z.integer},syncedRelations:{sections:{relationClass:o,rootPropertyName:"Section"}}}),c=r.Z.extend({name:"ServerOverviewCollection",context:["server"],model:l})},91485:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var r=n(12634),i=n(53334),a=n(14408),s=n(70515);const o="bool",l="enum";function c(e,t){switch(e){case"int":case l:return s.Z.parseInteger(t);case o:return s.Z.parseBoolean(t);default:return t}}const d=i.Z.extend({idAttribute:"id",url:"/:/prefs",context:["server"],sessionAttrs:{isSaving:a.Z.boolean},syncedAttrs:{id:a.Z.string,label:a.Z.string,default:a.Z.oneOfType(a.Z.integer,a.Z.string,a.Z.boolean,a.Z.array),summary:a.Z.string,value:{type:a.Z.oneOfType(a.Z.integer,a.Z.string,a.Z.boolean,a.Z.array),save:!0},type:a.Z.oneOf("int","text",o,l,"double"),group:a.Z.string,advanced:a.Z.boolean,option:a.Z.string,hidden:a.Z.boolean,enumValues:a.Z.array,values:a.Z.string},defaults:{isSaving:!1,type:"string",summary:"",label:"",group:""},augmentResponse(e){if(e.value=c(e.type,e.value),e.advanced=c(o,e.advanced),e.hidden=c(o,e.hidden),e.enumValues&&!Array.isArray(e.enumValues)&&(e.enumValues=e.enumValues.split("|").map((t=>{const[n,r=n]=t.split(":");return{label:r,value:c(e.type,n)}}))),e.type===l&&e.values&&!Array.isArray(e.values)){let t=0;e.enumValues=e.values.split("|").map((e=>({label:e,value:t++})))}return e},getSaveParams(e){const t=i.Z.prototype.getSaveParams.apply(this,arguments);return e&&!e.hasOwnProperty("value")?(Object.keys(t).forEach((t=>delete e[t])),t):{[this.get("id")]:t.value}}}),u=r.Z.extend({name:"ServerSettingCollection",context:["server"],url:"/:/prefs",model:d,augmentResponse:e=>e.Setting?(Array.isArray(e.Setting)?e.Setting:[e.Setting]).filter((e=>e.id)):[]})},76249:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r={v4DVRSetup:"1.22.2",gracenoteAttribution:"1.21.1",firstCharacterKeySortDirection:"1.20.4",pivotIDs:"1.20.4",freeLiveTVDVRSettings:"1.20.2",augmentedHubsInRelatedHubs:"1.19.5",simpleRelatedKey:"1.19.2",transientTokenProxy:"1.15.4",mediaProvidersServerRoot:"1.13.10",streamDisplayTitles:"1.13.8",bundledWebAppNewSettingsRoutes:"1.13.8",softSubtitlesWithDirectPlay:"1.13.4",truePlaylistsPath:"1.9.3",optimizeDatabaseActivity:"1.4.2",asyncCheckFiles:"1.4.0",json:"1.8.0",allowBlacklistedMethodHeaders:"1.2.1",decisionEndpoint:"1.0.3",defaultSections:"0.9.17.3",ownerFeatures:"0.9.17.0",replaceTranscodeTarget:"0.9.17.0",quickSearch:"0.9.16.0",relay:"0.9.15.0",claimServer:"0.9.14.2",searchSpecificType:"0.9.14.2",linkedYearMetadata:"0.9.14.0",streamReady:"0.9.14.0",syncOriginalQuality:"0.9.14.0",allPartsStreamSelection:"0.9.12.5",sharedChannels:"0.9.12.5",shortenTranscodeURL:"0.9.12.5",companionProxy:"0.9.12.5",editSimilarArtists:"0.9.12.2",neuterRedirect:"0.9.12.0",audioAsVideo:"0.9.12.0",compositeDelete:"0.9.12.0",batchEdit:"0.9.12.0",premiumMusic:"0.9.12.0",transientToken:"0.9.12.0",softSubtitles:"0.9.12.0",sharedSyncStatus:"0.9.11.14",reachability:"0.9.11.14",photoPlayQueues:"0.9.11.12",publicNowPlaying:"0.9.11.3",labels:"0.9.11.2",updater:"0.9.11.1",playItemsBatchAdd:"0.9.9.16",playlists:"0.9.9.13",imageFilters:"0.9.9.13",hubFilterSigns:"0.9.9.12",cancelAllUpdates:"0.9.9.10",playQueues:"0.9.9.6",sectionSettings:"0.9.9.6",hubFilters:"0.9.9.2",streamingMKV:"0.9.9.16",chunkedHTTP:"0.9.9.3",sharedSync:"0.9.9.3",dash:"0.9.8.6",specificMediaDeletion:"0.9.7.23",sharedSettings:"0.9.7.23",syncNotifications:"0.9.7.23",universalMusicTranscoder:"0.9.8.3",universalTranscoder:"0.9.7.17",sync:"0.9.7.10",artworkUpload:"0.9.7.9",firstRunPref:"0.9.7.3",timelineState:"0.9.7.2",cleanBundles:"0.9.7.0",advancedFilters:"0.9.7.0",search:"0.9.7.0",merge:"0.9.7.0",splitApart:"0.9.7.0"}},60214:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var r=n(13469),i=n.n(r),a=n(61682),s=n(53334),o=n(56442),l=n(11133);const c=s.Z.extend({name:"AbstractStorageModel",responseType:o.AV,save(e,t,n={}){const r=this.attributes;let a;if(null==e||i().isObject(e)?(a=e,n=t):(a={})[e]=t,n=i().extend({validate:!0},n),a&&!n.wait){if(!this.set(a,n))return!1}else if(!this._validate(a,n))return!1;a&&n.wait&&(this.attributes=i().extend({},r,a));const s=this._getStorageAdapter().getInstance().excludeDefaults,o=this.toJSON({syncedOnly:!0,excludeDefaults:!1!==s}),l=this._serialize(o),c=this._getStorageAdapter().set(this._getStorageKey(),l);return c.done((()=>{this.attributes=r,this.trigger("sync",this,r,n)})),c.fail((e=>{this.trigger("error",this,e,n)})),a&&n.wait&&(this.attributes=r),c},destroy(e={}){e.wait||this.trigger("destroy",this,this.collection,e);const t=this._getStorageAdapter().remove(this._getStorageKey());return t.done((t=>{e.wait&&this.trigger("destroy",this,this.collection,e),this.trigger("sync",this,t,e)})),t.fail((t=>{this.trigger("error",this,t,e)})),t},sync(){this._logError("does not support syncing to a server")},_getStorageAdapter:()=>a.Z,_getStorageKey(){const e=i().result(this,"storageKey");if(!e)throw new Error(`${this.name} requires a \`storageKey\` property`);return e},_fetch(e={}){const t=this._getStorageAdapter().get(this._getStorageKey());return t.done((t=>{t&&this.set(this.parse(t)),this.trigger("sync",this,t,e)})),t.fail((t=>{this.trigger("error",this,t,e)})),t},_serialize(e){let t="";try{t=JSON.stringify(e)}catch(e){this._logError("serialization error: "+e.message)}return t},_warnUnsupportedOptions(e){e.parse&&this._logError("does not support the `parse` option. The response from storage is always parsed."),e.success&&this._logError("does not support a `success` callback. Use the returned promise."),e.error&&this._logError("does not support an `error` callback. Use the returned promise.")},_logError(e){let t;try{t=this._getStorageKey()}catch(e){t="no storageKey"}(0,l.Z)(!1,`${this.name} (${t}) ${e}`)}})},93242:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(12634),i=n(31599);const a=r.Z.extend({name:"MediaGrabOperationCollection",context:["server","provider"],model:i.Z,comparator(e){const t=e.get("mediaItem");if(t)return t.beginsAt-(t.startOffsetSeconds||0)}})},31599:(e,t,n)=>{"use strict";n.d(t,{Z:()=>m});var r=n(93966),i=n(53334),a=n(14408),s=n(59756),o=n(95688),l=n(19623),c=n(70515),d=n(4844),u=n(15042),p=n(87048);const m=i.Z.extend({name:"MediaGrabOperationModel",context:["server","provider"],idAttribute:"key",rootPropertyName:"MediaGrabOperation",url(){return this.get("key")},syncedAttrs:{mediaSubscriptionID:a.Z.string,provider:a.Z.string,identifier:a.Z.string,mediaIndex:a.Z.integer,channelTitle:a.Z.string,status:a.Z.string,error:a.Z.string,linkedKey:a.Z.string,key:a.Z.string,rolling:a.Z.boolean},sessionAttrs:{isLibraryMetadataItemPending:a.Z.boolean,isLibraryMetadataItemPopulated:a.Z.boolean,libraryMetadataItemError:a.Z.object},syncedRelations:{metadataItem:{relationClass:o.Z,rootPropertyName:"Metadata"},conflicts:()=>({relationClass:n(93242).Z,deferred:!0})},sessionRelations:{libraryMetadataItem:{relationClass:o.Z,deferred:!0}},derivedAttrs:{mediaItem(){const e=this.get("mediaIndex");return(this.get("metadataItem").get("Media")||[])[e]},beginsAt(){const e=this.get("mediaItem");return e&&e.beginsAt},endsAt(){const e=this.get("mediaItem");return e&&e.endsAt}},defaults:{rolling:!1,isLibraryMetadataItemPending:!0,isLibraryMetadataItemPopulated:!1,libraryMetadataItemError:null},augmentResponse(e){let t=e;if(t[this.rootPropertyName]&&(t=t[this.rootPropertyName]),t.Conflicts&&(t.conflicts=t.Conflicts.MediaGrabOperation,delete t.Conflicts),!s.Z.shouldCreateStateTree)return t;const n=t.Metadata,i=c.Z.parseArray(n.Media),a=c.Z.parseInteger(t.mediaIndex),o=(0,d.Z)(u.TY,n.key,this.server.entityID()),m=(0,r.DB)("appModel"),h=(0,p.Z)(m,u.TY,o);if(h){const e=h.get("Media").map(l.Z),n=i.map(l.Z)[a],r=e.findIndex((e=>n===e));t.mediaIndex=-1!==r?r:a+e.length}return t}})},69653:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(12634),i=n(16905);const a=r.Z.extend({name:"MediaSettingCollection",context:["server","provider"],model:i.Z,getSaveParams(){return this.reduce(((e,t)=>(e[t.id]=t.get("value"),e)),{})}})},16905:(e,t,n)=>{"use strict";n.d(t,{E:()=>s,Z:()=>l});var r=n(53334),i=n(14408),a=n(70515);const s={INT:"int",TEXT:"text",BOOL:"bool",DOUBLE:"double"};function o(e,t){switch(e){case s.INT:case s.ENUM:return a.Z.parseInteger(t);case s.BOOL:return a.Z.parseBoolean(t);case s.DOUBLE:return a.Z.parseFloat(t);default:return t}}const l=r.Z.extend({name:"MediaSettingModel",context:["server","provider"],idAttribute:"id",rootPropertyName:"Setting",syncedAttrs:{id:i.Z.string,advanced:i.Z.boolean,default:i.Z.oneOfType(i.Z.integer,i.Z.string,i.Z.boolean),hidden:i.Z.boolean,group:i.Z.string,label:i.Z.string,summary:i.Z.string,type:i.Z.oneOf(s.INT,s.TEXT,s.BOOL,s.ENUM,s.DOUBLE),value:i.Z.oneOfType(i.Z.integer,i.Z.float,i.Z.string,i.Z.boolean),min:i.Z.float,max:i.Z.float,step:i.Z.float,enumValues:i.Z.array},augmentResponse:e=>(e.default=o(e.type,e.default),e.value=o(e.type,e.value),e.enumValues&&(e.enumValues=e.enumValues.split("|").map((t=>{const[n,r=n]=t.split(":");return{label:decodeURIComponent(r),value:o(e.type,n)}}))),e),parseAndSetValue(e){this.set("value",o(this.get("type"),e))}})},14794:(e,t,n)=>{"use strict";n.d(t,{Z:()=>S});var r=n(53334),i=n(14408),a=n(9949),s=n(64297),o=n(56442),l=n(67299),c=n(4844),d=n(15042),u=n(93242),p=n(69653);const m=r.Z.extend({name:"MediaSubscriptionHintModel",context:["server","provider"],syncedAttrs:{guid:i.Z.string,grandparentGuid:i.Z.string,title:i.Z.string,type:i.Z.string,subtype:i.Z.string,grandparentTitle:i.Z.string,index:i.Z.integer,parentIndex:i.Z.integer,year:i.Z.string,grandparentYear:i.Z.integer,originallyAvailableAt:i.Z.string,thumb:i.Z.string,parentThumb:i.Z.string,grandparentThumb:i.Z.string,ratingKey:i.Z.string,source:i.Z.string,parentTitle:i.Z.string,parentYear:i.Z.string}});var h=n(95688);const g=r.Z.extend({name:"MediaSubscriptionTargetModel",context:["server","provider"],syncedRelations:{metadata:{relationClass:h.Z,rootPropertyName:"Metadata",deferred:!0}}});var y=Object.defineProperty,v=Object.prototype.hasOwnProperty,f=Object.getOwnPropertySymbols,b=Object.prototype.propertyIsEnumerable,I=(e,t,n)=>t in e?y(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const S=r.Z.extend({name:"MediaSubscriptionModel",context:["server","provider"],entityType:d.PK,entityID(e=this.state){return(0,c.Z)(this.entityType,e.key||this.cid,this.server.entityID())},idAttribute:"key",rootPropertyName:"MediaSubscription",urlRoot:"/media/subscriptions",mergeStrategy:s.Z,syncedAttrs:{key:i.Z.string,type:i.Z.integer,provider:i.Z.string,targetLibrarySectionID:{type:i.Z.string,save:!0},targetSectionLocationID:{type:i.Z.string,save:!0},title:i.Z.string,selected:i.Z.boolean,parameters:i.Z.string,createdAt:i.Z.integer,storageTotal:i.Z.integer},syncedRelations:{hint:{relationClass:m,rootPropertyName:"Metadata",deferred:!0},target:{relationClass:g,rootPropertyName:"Target",deferred:!0},grabOperations:{relationClass:u.Z,rootPropertyName:"MediaGrabOperation",deferred:!0},prefs:{relationClass:p.Z,rootPropertyName:"Setting",deferred:!0,save:!0},timeline:{relationClass:a.Z,rootPropertyName:"Timeline",deferred:!0}},augmentResponseText:(e,t)=>t===o.Ls?(0,l.Z)(e):e,augmentResponse(e){const t=e[this.rootPropertyName]||e,n=t.Timeline;return n&&(t.Timeline=n.Metadata),e},getSaveParams(){const e=r.Z.prototype.getSaveParams.apply(this,arguments),{Setting:t}=e;return((e,t)=>{for(var n in t||(t={}))v.call(t,n)&&I(e,n,t[n]);if(f)for(var n of f(t))b.call(t,n)&&I(e,n,t[n]);return e})({prefs:t},((e,t)=>{var n={};for(var r in e)v.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&f)for(var r of f(e))t.indexOf(r)<0&&b.call(e,r)&&(n[r]=e[r]);return n})(e,["Setting"]))}})},66390:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(12634),i=n(56442),a=n(67299),s=n(14794);const o=r.Z.extend({name:"MediaSubscriptionTemplateCollection",context:["server","provider"],url:"/media/subscriptions/template",model:s.Z,augmentResponseText:(e,t)=>t===i.Ls?(0,a.Z)(e):e,augmentResponse:e=>e.SubscriptionTemplate})},86278:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var r=n(12634),i=n(56442),a=n(84936),s=n(53334),o=n(14408);const l=s.Z.extend({name:"UserFeatureModel",idAttribute:"uuid",syncedAttrs:{uuid:o.Z.string.isRequired,id:o.Z.string}}),c=r.Z.extend({name:"UserFeatureCollection",context:["server"],model:l,url:a.Z.join(["https://plex.tv","/api/v2/features"]),responseType:i.AV})},66357:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var r=n(53334),i=n(14408),a=n(95688),s=n(12634);const o=r.Z.extend({name:"SyncplaySessionUserModel",idAttribute:"deviceIdentifier",sessionAttrs:{adDisplayIndex:i.Z.integer,adDisplayTotal:i.Z.integer,deviceIdentifier:i.Z.string.isRequired,deviceName:i.Z.string.isRequired,id:i.Z.integer.isRequired,isAdPlaying:i.Z.boolean,isPresent:i.Z.boolean,isReady:i.Z.boolean,isWatching:i.Z.boolean,positionSeconds:i.Z.oneOfType(i.Z.integer,i.Z.float),thumb:i.Z.string,title:i.Z.string},defaults:{deviceIdentifier:null,deviceName:null,id:null,isAdPlaying:!1,isReady:!1,isWatching:!1,positionSeconds:0}}),l=s.Z.extend({name:"SyncplaySessionUserCollection",model:o}),c=r.Z.extend({name:"SyncplaySessionModel",idAttribute:"roomID",sessionAttrs:{notifications:i.Z.array,roomID:i.Z.string},sessionRelations:{metadataItem:{relationClass:a.Z,deferred:!0},users:{relationClass:l}},defaults:{notifications:[]}})},5513:(e,t,n)=>{"use strict";n.d(t,{v4:()=>D,Oq:()=>P,D8:()=>k,dC:()=>w,RK:()=>Z,Nx:()=>T,On:()=>N,eS:()=>O,$v:()=>x,rP:()=>A,kO:()=>C,gC:()=>E,M8:()=>j,i:()=>L,x:()=>R,f9:()=>M,CC:()=>J,a7:()=>B,h9:()=>V,Us:()=>q,$e:()=>_,c4:()=>H,n:()=>Q,EP:()=>G,yB:()=>W,yy:()=>F,I2:()=>U,T5:()=>Y,zt:()=>K,I$:()=>$,qO:()=>z});var r=n(40807),i=n(4134),a=n(96840),s=n(87769);let o,l,c=0,d=0;function u(e,t){return(0,s.Z)(e)?function(e,t){const n=e.possibleEntityContainers,r=n?n.length:0;for(let i=0;i<r;i++)if(u(e[n[i]],t))return!0;return!1}(e,t):Array.isArray(e)?function(e,t){for(let n=0,r=e.length;n<r;n++)if(u(e[n],t))return!0;return!1}(e,t):e===t}function p(e,t){return e+1>=t?0:e+1}var m=n(28440),h=n(27082),g=n(44823),y=Object.defineProperty,v=Object.prototype.hasOwnProperty,f=Object.getOwnPropertySymbols,b=Object.prototype.propertyIsEnumerable,I=(e,t,n)=>t in e?y(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,S=(e,t)=>{for(var n in t||(t={}))v.call(t,n)&&I(e,n,t[n]);if(f)for(var n of f(t))b.call(t,n)&&I(e,n,t[n]);return e};const M="app/setPrimaryServer",E="app/resetPrimaryServer",P="app/changePrimaryServer",D="app/changeCompanionServer",C="app/removeCompanionServer",w="app/garbageCollectEntities",Z="app/navigate",T="app/navigateBack",N="app/navigateForward",O="app/navigateHome",A="app/navigateSearch",x="app/navigatePrePlay",j="app/saveDeviceSettings",L="app/saveLastSourcePivot",k="app/clearLastSourcePivots",R="app/savePivotParams",z=(0,r.Z)(M),U=(0,r.Z)(E),V=(0,r.Z)(P),B=(0,r.Z)(D),F=(0,r.Z)(C),_=(0,r.Z)(w),H=(0,r.Z)(Z),Q=(0,r.Z)(T),G=((0,r.Z)(N),(0,r.Z)(O)),W=((0,r.Z)(A),(0,r.Z)(x)),Y=(0,r.Z)(j),K=(0,r.Z)(L),q=(0,r.Z)(k),$=(0,r.Z)(R),J={[w](e,t){(0,h.c9)();const n=function(e,t={}){const n=null!=t.budget?t.budget:16.666666666666668,r=window.performance.now(),i=e.entities,a=Object.keys(i),s=a.length,m={};n===1/0&&(c=0,d=0);const h=i[a[c]];for(o=c,l=Math.max(Math.min(d,Object.keys(h).length-1),0);c<s;){const t=a[c],h=i[t],g=Object.keys(h),y=g.length,v=p(c,s);for(;d<y;){const i=g[d],a=p(d,y);if(u(e,i)||(m[t]||(m[t]=[]),m[t].push(i)),v===o&&a===l)return c=v,d=a,m;if(window.performance.now()-r>=n)return c=v,d=a,m;d++}if(c=v,d=0,c===o&&d===l)return m}return m}(e.getState(),t),r=e.get("entities");for(const e in n){const t=n[e];r.get(e).remove(t)}t&&t.budget===1/0&&Object.keys(n).length&&(0,h.c9)()},[L](e,t,n){const r=(0,m.SW)(e,t),a=(0,m.js)(e,t),s=e.get("user").get("experienceSettings"),o=s.get("lastSourcePivots");if(!s.get("shouldSaveLastSourcePivots"))return;const l=(0,g.Z)(r.get("machineIdentifier"),a.get("identifier"),t.directoryID);n((0,i.LN)({lastSourcePivots:S(S({},o),{[l]:t.pivotKey})}))},[k](e,t,n){n((0,i.LN)({lastSourcePivots:{}}))},[R](e,t,n){const r=(0,m.SW)(e,t),a=(0,m.js)(e,t),s=e.get("user").get("experienceSettings").get("savedPivotParams"),o=(0,g.Z)(r.get("machineIdentifier"),a.get("identifier"),t.directoryID,t.pivotKey);n((0,i.LN)({savedPivotParams:S(S({},s),{[o]:t.params})}))},[P](e,t){},[E](e,t){},[M](e,t){},[D](e,t){const n=(0,m.$w)(e,t);n?e.set("companionServer",n):a.Z.warn("[Companion] Could not find %s to use as companion server",t.serverEntityID)},[C](e){e.unset("companionServer")},[Z](){},[T](){},[N](){},[O](){},[A](){},[x](){},[j](){}}},40807:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r=function(e,t){return function(...n){const r="function"==typeof t?t(...n):n[0];return{type:e,payload:r}}}},3265:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r}),n(11133),n(87769);const r=function(e){return e}},44516:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(19755),i=n.n(r),a=n(96840);const s=2500;function o(e){const{eventSource:t,events:n,predicate:r=(()=>!0),waitDuration:o=s}=e,l=i().Deferred(),c=()=>{r(t)&&(u=window.clearTimeout(u),t.off(d),l.resolve(t))},d=n.reduce(((e,t)=>(e[t]=c,e)),{});let u=window.setTimeout((()=>{a.Z.warn('Model "%s" events %o did not pass the predicate within %dms',t.name,n,o),t.off("add",d),l.reject(t)}),o);return t.on(d),l.promise()}},16487:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(19755),i=n.n(r),a=n(44516);function s(e){return e.get("isPopulated")?i().Deferred().resolve(e).promise():(0,a.Z)({eventSource:e,events:["change:error","change:isPopulated"]})}},33816:(e,t,n)=>{"use strict";n.d(t,{Z:()=>m});var r=n(19755),i=n.n(r),a=(n(11133),n(34885)),s=n(57054),o=Object.defineProperty,l=Object.prototype.hasOwnProperty,c=Object.getOwnPropertySymbols,d=Object.prototype.propertyIsEnumerable,u=(e,t,n)=>t in e?o(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,p=(e,t)=>{for(var n in t||(t={}))l.call(t,n)&&u(e,n,t[n]);if(c)for(var n of c(t))d.call(t,n)&&u(e,n,t[n]);return e};function m(e){const{key:t,getModel:n}=e;return function(e){const{key:t,getModel:n,onResolved:r,onRejected:i}=e,o=(0,a.Z)(t),l=`is${o}Pending`,c=`is${o}Populated`,d=t?`${t}Error`:"error";return(t,a={},o)=>{const u=n(t,a),p=(u.sessionAttrs,u.get(l));u.set(l,!0),e.fetch(t,a,o).then((()=>{u.set({[l]:!1,[c]:!0,[d]:null}),r&&r(u,t,a,o)}),(e=>{const n=e.aborting?{[l]:p}:{[l]:!1,[d]:(0,s.Z)(e)};u.set(n),i&&i(u,t,a,o)}))}}(p(p({},e),{fetch(e,r){const a=n(e,r),s=t?a.get(t):a;return s?s.fetch(r.options).then(null,((e,t)=>i().Deferred().reject(t).promise())):i().Deferred().reject({status:0}).promise()}}))}},27940:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i}),n(11133);var r=n(34885);function i(e){const{key:t,fetchActionCreator:n,getModel:i}=e,a=`is${(0,r.Z)(t)}Populated`;return(e,t,r)=>{i(e,t).get(a)||r(n(t))}}},58042:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a}),n(11133);var r=n(34885),i=n(57054);function a(e){const{key:t,getModel:n}=e,a=(0,r.Z)(t),s=`is${a}Pending`,o=`is${a}Populated`,l=t?`${t}Error`:"error";return(e,r)=>{const{startIndex:a,endIndex:c,pages:d=3,reloadThreshold:u=6,disableReloadThreshold:p}=r,m=c-a+1,h=n(e,r),g=t?h.get(t):h;h.sessionAttrs;const y=g.get("populatedRange");let v=a,f=c;if(a<y.start?v=Math.max(0,a-m*d):f=a+m*d,v>=y.start&&f<=y.end)return;const b=h.get(s);h.set(s,!0),g.populateRange({start:v,end:f,reloadThreshold:p?null:m*u}).done((()=>{h.set({[s]:!1,[o]:!0,[l]:null})})).fail(((e,t)=>{t.aborting?h.set(s,b):h.set({[s]:!1,[l]:(0,i.Z)(t)})}))}}},73054:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a}),n(11133);var r=n(34885),i=n(57054);function a(e){const{key:t,getModel:n}=e,a=(0,r.Z)(t),s=`is${a}Pending`,o=`is${a}Populated`,l=t?`${t}Error`:"error";return(e,r={})=>{const{count:a}=r,c=n(e,r),d=t?c.get(t):c;c.sessionAttrs;const u=c.get(s);c.set(s,!0),d.repopulateRange(a).done((()=>{c.set({[s]:!1,[o]:!0,[l]:null})})).fail(((e,t)=>{t.aborting?c.set(s,u):c.set({[s]:!1,[l]:(0,i.Z)(t)})}))}}},48293:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(93966),i=n(47985),a=n(68002),s=n(28440);function o(e){const t=(0,r.DB)("appModel"),n=t.get("user"),o=new i.Z(e.map((e=>({machineIdentifier:(0,s.SW)(t,{serverEntityID:e}).get("machineIdentifier")}))),{server:n.server});return(0,a.Z)(o.map((e=>e.fetch()))).then((()=>{const e=o.filter((e=>!e.isPopulated()));return o.remove(e),o}))}},34583:(e,t,n)=>{"use strict";n.d(t,{Z:()=>h});var r=n(19755),i=n.n(r),a=n(93966),s=n(88050),o=n(69881),l=Object.defineProperty,c=Object.prototype.hasOwnProperty,d=Object.getOwnPropertySymbols,u=Object.prototype.propertyIsEnumerable,p=(e,t,n)=>t in e?l(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,m=(e,t)=>{for(var n in t||(t={}))c.call(t,n)&&p(e,n,t[n]);if(d)for(var n of d(t))u.call(t,n)&&p(e,n,t[n]);return e};function h(e,t={}){const{allowMetrics:n,metricsProperties:r={}}=t,l=e.server,c=`/library/metadata/${e.get("ratingKey")}/analyze`,d=l.getXHROptions(c,{type:"PUT"}),u=e.get("mediaState"),p="analyzing",h=(0,o.isDirectoryType)(e.get("type"));h||e.set("mediaState",p);const g=i().ajax(d).fail((t=>{h||e.get("mediaState")!==p||e.set("mediaState",u)}));return n&&(0,a.DB)("metrics").trackClick(m(m({},r),{action:s._R,type:e.get("type")})),g.promise()}},17798:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(59756),i=n(17524),a=n(36171);const s=function(e){if(!r.Z.shouldRequestHTMLFromCloudProvider)return a.rS;const t=[i.HG,i.w1];return i.wB(e,t)?a.k9:a.rS}},49897:(e,t,n)=>{"use strict";n.d(t,{Z:()=>y});var r=n(19755),i=n.n(r),a=n(93966),s=n(88050),o=n(62730),l=n(67006),c=n(84936),d=Object.defineProperty,u=Object.prototype.hasOwnProperty,p=Object.getOwnPropertySymbols,m=Object.prototype.propertyIsEnumerable,h=(e,t,n)=>t in e?d(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,g=(e,t)=>{for(var n in t||(t={}))u.call(t,n)&&h(e,n,t[n]);if(p)for(var n of p(t))m.call(t,n)&&h(e,n,t[n]);return e};function y(e,t,n){const{rating:r,allowMetrics:d,metricsProperties:u={}}=n,p=e.get("features").get(l.aO).get("actions").get(o.zw);if(!p)return i().Deferred().reject().promise();const m={key:t.get("ratingKey"),identifier:t.get("identifier"),rating:r},h=c.Z.join(p.get("key"),m),y=e.getXHROptions(h,{type:"PUT"}),v=t.get("userRating"),f=-1===r?void 0:r;t.set("userRating",f);const b=i().ajax(y).fail((e=>{t.get("userRating")===f&&t.set("userRating",v)}));return d&&(0,a.DB)("metrics").trackClick(g(g({},u),{action:s.zw,type:t.get("type"),rating:r})),b.promise()}},95374:(e,t,n)=>{"use strict";n.d(t,{Z:()=>h});var r=n(19755),i=n.n(r),a=n(93966),s=n(90579),o=n(88050),l=Object.defineProperty,c=Object.prototype.hasOwnProperty,d=Object.getOwnPropertySymbols,u=Object.prototype.propertyIsEnumerable,p=(e,t,n)=>t in e?l(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,m=(e,t)=>{for(var n in t||(t={}))c.call(t,n)&&p(e,n,t[n]);if(d)for(var n of d(t))u.call(t,n)&&p(e,n,t[n]);return e};function h(e,t={}){const{allowMetrics:n,metricsProperties:r={}}=t,l=e.server,c=`/library/metadata/${e.get("ratingKey")}/refresh`,d=l.getXHROptions(c,{type:"PUT"}),u=e.get("metadataState"),p=s.em;e.set("metadataState",p);const h=i().ajax(d).fail((t=>{e.get("metadataState")===p&&e.set("metadataState",u)}));return n&&(0,a.DB)("metrics").trackClick(m(m({},r),{action:o.RG,type:e.get("type")})),h.promise()}},56054:(e,t,n)=>{"use strict";n.d(t,{Z:()=>f});var r=n(19755),i=n.n(r),a=n(62730),s=n(67006),o=(n(11133),n(4844)),l=n(15042),c=n(28440),d=n(69881),u=n(84936),p=Object.defineProperty,m=Object.prototype.hasOwnProperty,h=Object.getOwnPropertySymbols,g=Object.prototype.propertyIsEnumerable,y=(e,t,n)=>t in e?p(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,v=(e,t)=>{for(var n in t||(t={}))m.call(t,n)&&y(e,n,t[n]);if(h)for(var n of h(t))g.call(t,n)&&y(e,n,t[n]);return e};function f(e,t={}){const{played:n,providerEntityID:r,serverEntityID:o,metadataItemEntityID:l}=t,d=(0,c.js)(e,t);if(null==d){const e="Could not find providerModel with provided `providerEntityID`";return i().Deferred().reject({errorMessage:e}).promise()}if(null==(0,c.SW)(e,t)){const e="Could not find serverModel with provided `serverEntityID`";return i().Deferred().reject({errorMessage:e}).promise()}const p=(0,c.tz)(e,{metadataItemEntityID:l});if(null==p){const e="Could not find metadataModel with provided `metadataItemEntityID`";return i().Deferred().reject({errorMessage:e}).promise()}const m=d.get("features").get(s.aO).get("actions").get(a.lq),h=n?m.get("key"):m.get("reverseKey"),g={identifier:p.get("identifier")||"com.plexapp.plugins.library",key:p.get("ratingKey")},y=u.Z.join(h,g),v=i().ajax(d.getXHROptions(y));return v.then((()=>{const t={providerEntityID:r,serverEntityID:o,metadataItemEntityID:p.entityID()};I(e,t,n),b(e,t,n)})),v}function b(e,t,n){const r=(0,c.tz)(e,t);if(r)if((0,d.isDirectoryType)(r.get("type"))){r.set({viewedLeafCount:n?r.get("leafCount"):0});const i=(0,o.Z)(l.$4,r.get("childrenKey"),t.providerEntityID||t.serverEntityID),a=(0,c.Ij)(e,{metadataListEntityID:i});a&&a.get("metadataItems").forEach((r=>{const i=v(v({},t),{metadataItemEntityID:r.entityID()});b(e,i,n)}))}else r.set({viewOffset:0,viewCount:n?1:0})}function I(e,t,n,r){const i=(0,c.tz)(e,t);if(!i)return;const a=(0,d.getMetadataType)(i.get("type")),s=(0,o.Z)(l.TY,i.get("parentKey"),t.serverEntityID),u=(0,c.tz)(e,{metadataItemEntityID:s});let p;if(u&&(p=(0,d.getMetadataType)(u.get("type"))),p&&p.typeString===a.parent){let a;const o=(0,d.isDirectoryType)(i.get("type"));n?a=o?i.get("unviewedLeafCount"):1:(a=o?i.get("viewedLeafCount"):1,a*=-1);const l=null!=r?r:a;u.set({viewedLeafCount:u.get("viewedLeafCount")+l}),I(e,v(v({},t),{metadataItemEntityID:s}),n,l)}}},66464:(e,t,n)=>{"use strict";n.d(t,{Z:()=>L});var r=n(19755),i=n.n(r),a=n(95933),s=n(95688),o=n(32707),l=n(11133),c=n(85586),d=n(61478),u=n(69881),p=n(84936),m=n(9949),h=n(89653),g=Object.defineProperty,y=Object.prototype.hasOwnProperty,v=Object.getOwnPropertySymbols,f=Object.prototype.propertyIsEnumerable,b=(e,t,n)=>t in e?g(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,I=(e,t)=>{for(var n in t||(t={}))y.call(t,n)&&b(e,n,t[n]);if(v)for(var n of v(t))f.call(t,n)&&b(e,n,t[n]);return e};let S=0;const M=function(e){S+=1;const t=S.toString(),n=I(I({},e.attributes),{playQueueItemID:t}),r=new h.Z(n,{server:e.server,provider:e.provider,parent:e.parent,parse:!0});return r.set("isLocal",!0),r};var E=Object.defineProperty,P=Object.prototype.hasOwnProperty,D=Object.getOwnPropertySymbols,C=Object.prototype.propertyIsEnumerable,w=(e,t,n)=>t in e?E(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Z=(e,t)=>{for(var n in t||(t={}))P.call(t,n)&&w(e,n,t[n]);if(D)for(var n of D(t))C.call(t,n)&&w(e,n,t[n]);return e};function T(e,t,n={}){const r=t.get("type"),a=u.getMetadataType(r),s=u.getLeafType(r);if(!a)return i().Deferred().reject().promise();if(a.id===s.id){const a=e.get("playQueueItems"),s=t.get("containerKey");if(s&&!a.length&&!n.skipSiblings&&(r===u.TRACK||r===u.EPISODE||r===u.PHOTO)){const e=new m.Z([],{server:t.server,provider:t.provider});return e.fetch({url:s}).then((()=>{const t=e.models.map(M);return i().Deferred().resolve(t).promise()}))}return i().Deferred().resolve([M(t)]).promise()}if(u.getChildType(r).id===s.id){const e=p.Z.join([t.get("key"),"children"]),n=new m.Z([],{server:t.server,provider:t.provider});return n.fetch({url:e}).then((()=>{const e=n.models.map(M);return i().Deferred().resolve(e).promise()}))}return i().Deferred().reject().promise()}function N(e,t,n){const r=t.map((t=>T(e,t,n)));return i().when(...r).then(((...t)=>{const r=[].concat(...t);return e.get("playQueueItems").add(r,n),O(e)}))}function O(e,t){const n=e.get("playQueueItems");if(e.get("playQueueSelectedItemID")||!n.length)return i().Deferred().resolve(e).promise();if(t){const r=n.findWhere({metadataItem:t}),i=r?r.id:n.at(0).id;e.set("playQueueSelectedItemID",i)}else{const t=e.get("playQueueSelectedItemOffset"),r=n.at(t);e.set("playQueueSelectedItemID",r.id)}return i().Deferred().resolve(e).promise()}var A=n(58641);function x(e,t,n){const{path:r,model:i,attr:a="key"}=n;if((0,l.Z)(r||i,"A path or a model is required to build a source URI"),t.get("isUniversal")){const t=i&&i.get("source")||(0,c.Z)(e.server.get("machineIdentifier"),e.get("identifier")),n=r||i.get(a);return p.Z.join([t,n])}return r||o.Z.uri(i)}function j(e){return{type:e.playQueueModel.get("type"),shuffle:e.shuffle?1:void 0,next:e.next?1:void 0,extrasPrefixCount:e.extrasPrefixCount}}function L(e){const{playQueueModel:t}=e;if(t.get("isLocal"))return function(e){const{next:t,playQueueModel:n,metadataItemModel:r,metadataItemModels:a,metadataListModel:s,skipSiblings:o=!1}=e,l={at:t?n.get("playQueueSelectedItemOffset")+1:void 0};if(r)return T(n,r,{skipSiblings:o}).then((e=>(n.get("playQueueItems").add(e,l),O(n,r))));if(a&&a.length)return N(n,a,l);if(s){const e=s.get("metadataItems").models;return N(n,e,Z(Z({},l),{skipSiblings:!0}))}return i().Deferred().reject().promise()}(e).then((()=>(0,A.ZP)(t)));const n=t.isNew()?"POST":"PUT";return function(e){return e.metadataItemModel?function(e){const{playQueueModel:t,providerModel:n,playlistModel:r,metadataItemModel:o,containerKey:l,shuffle:c,playAll:m}=e,h=t.get("isUniversal"),g=o.get("type"),y=o.get("subtype"),v=g===u.SHOW,f=g===u.SEASON,b=g===u.EPISODE,I=g===u.PHOTO,S=g===u.CLIP,M=g===u.TRACK,E=!!r||o.get("isPlaylist"),P=o.get("isExtra"),D=!!o.get("radio"),C=j(e);if((v||f||b||y===d.PODCAST)&&(C.continuous=1),(v||f)&&!m&&!c){const e=!o.get("parentKey"),r=v||e?o:new s.Z({key:o.get("parentKey")},{server:o.server,provider:o.providerModel});return r.fetch({merge:!0,data:{includeOnDeck:"1"}}).then((()=>{const e=r.get("onDeck"),i=e&&v,s=e&&f&&e.get("parentRatingKey")===o.get("ratingKey");if(i||s)return C.uri=x(n,t,{model:e}),C;if(f){const e=new a.Z({containerKey:o.get("childrenKey")},{server:o.server,provider:o.provider,skipCache:!0});return e.fetch().then((()=>{const r=e.get("metadataItems"),i=r.findWhere((e=>!e.get("viewCount")));return C.uri=x(n,t,{model:i||r.first()}),C}))}return C.uri=x(n,t,{model:o}),C}))}return E?r?(h&&(C.uri=x(n,t,{model:r})),C.playlistID=r.get("ratingKey"),C.key=o.get("key")):(h&&(C.uri=x(n,t,{model:o})),C.playlistID=o.get("ratingKey")):(M||I||S&&!P)&&l&&!C.continuous?(C.uri=x(n,t,{path:h?l:`library:///directory/${encodeURIComponent(l)}`}),C.key=o.get("key")):C.uri=x(n,t,D&&h?{path:p.Z.join(o.get("key"),{includeSharedContent:1})}:{model:o}),i().Deferred().resolve(C).promise()}(e):e.metadataItemKey?function(e){const{providerModel:t,playQueueModel:n,metadataItemKey:r}=e,a=n.get("isUniversal"),s=j(e);return s.uri=x(t,n,{path:a?r:`library:///item/${encodeURIComponent(r)}`}),i().Deferred().resolve(s).promise()}(e):e.metadataItemModels&&e.metadataItemModels.length?function(e){const t=j(e);return t.uri=o.Z.uri(null,{items:e.metadataItemModels}),i().Deferred().resolve(t).promise()}(e):e.metadataListModel?function(e){const{providerModel:t,playQueueModel:n,metadataListModel:r}=e,a=j(e);return a.uri=x(t,n,{model:r,attr:"containerKey"}),i().Deferred().resolve(a).promise()}(e):i().Deferred().reject().promise()}(e).then((e=>(0,A.ZP)(t,{params:e,type:n}).then(null,(()=>i().Deferred().reject().promise()))))}},238:(e,t,n)=>{"use strict";n.d(t,{Z:()=>p});var r=n(19755),i=n.n(r),a=n(53334),s=n(14408),o=n(39879);const l=a.Z.extend({name:"LocalPlayQueueModel",context:["server","provider"],url(){const e=this.get("playQueueItems"),t=this.get("playQueueSelectedItemID"),n=e.get(t);if(n)return n.get("metadataItem").get("key")},sessionAttrs:{key:s.Z.string,playQueueID:s.Z.string,isLocal:s.Z.boolean,type:s.Z.string,repeat:s.Z.boolean,own:s.Z.boolean,isUpdatePending:s.Z.boolean,playQueueShuffled:s.Z.boolean,playQueueSelectedItemID:s.Z.string},sessionRelations:{playQueueItems:{relationClass:o.Z}},derivedAttrs:{playQueueTotalCount(){return this.get("playQueueItems").length},length(){return this.get("playQueueItems").length},playQueueSelectedItemOffset(){const e=this.get("playQueueItems"),t=this.get("playQueueSelectedItemID");if(!t)return 0;const n=e.get(t);return e.indexOf(n)},currentIndex(){return this.get("playQueueSelectedItemOffset")},canShuffle:()=>!1},defaults:{isLocal:!0,repeat:!1,own:!0,isUpdatePending:!1,playQueueShuffled:!1,playQueueSelectedItemOffset:0},fetch:function(){return i().Deferred().resolve(this).promise()}});var c=n(72149),d=(n(44491),n(67006)),u=n(94803);function p(e){const{providerModel:t,playQueueID:n,playQueueType:r,playQueueRepeat:i,playQueueOwn:a=!0}=e,s=t&&t.get("features"),o=s&&s.get(d.F5),p=!!o&&o.get("flavor")===u.D7;return o?new c.Z({playQueueID:n,key:o.get("key"),type:r,repeat:i,own:a,isUniversal:p},{server:t.server,provider:t}):new l({playQueueID:n,type:r},{server:t.server,provider:t})}n(11133)},47327:(e,t,n)=>{"use strict";n.d(t,{Z:()=>p});var r=n(19755),i=n.n(r),a=n(93966),s=n(78636),o=n(96840),l=n(69881),c=n(95688),d=n(86953),u=n(60316);function p(e,t={}){let n=t.forceFetch||!e.get("isPreFetched")?function(e,t){const{itemProvider:n}=t,r={includeConcerts:1,includeExtras:1,includeOnDeck:1,includePopularLeaves:1,includePreferences:1,includeChapters:1,includeStations:1,includeMarkers:1,includeExternalMedia:1,asyncAugmentMetadata:1};e.get("type")===l.TRACK&&(r.includeRelated=1),!t.forceSyncCheckFiles&&e.server.supports("asyncCheckFiles")?(r.asyncCheckFiles=1,r.asyncRefreshAnalysis=1,r.asyncRefreshLocalMediaAgent=1):r.checkFiles=1;const i=n||e.provider,a=(0,s.Z)(i.server),o=i.resolveUrl(e.url(),{appendHeaders:!0}),c=i.getXHROptions(o,{dataType:a.typeName,data:r,merge:!0});return e.fetch(c).done((()=>{e.set("isPreFetched",!0)}))}(e,t):i().Deferred().resolve().promise();return n=n.then((()=>{const t=e.get("Media");if(e.get("indirect")&&(!t||!t.length)){const t=function(e,t){const n=function(e){return e.get("Origin")||{key:e.get("key"),source:(0,d.Z)({serverIdentifier:e.server.get("machineIdentifier"),providerIdentifier:e.provider.get("identifier")})}}(t),r=i().Deferred(),{source:a,key:o}=n,{providerIdentifier:l,serverIdentifier:p}=(0,u.Z)(a),m=e.get("servers").get(p),h=m&&m.get("isCloud")?e.get("user"):m,g=h&&h.get("providers").get(l);let y;if(m?m.get("isConnected")?g?g.get("isPopulated")||(y="Provider is not populated"):y="Unknown provider":y="Server is not connected":y="Unknown server",y)r.reject(new Error(y));else{const e=new c.Z({key:o},{server:m,provider:g,channel:t.channel,includeExternalMedia:t.includeExternalMedia,skipCache:!0}),n=(0,s.Z)(g.server),l=g.resolveUrl(e.url(),{appendHeaders:!0}),d=g.getXHROptions(l,{dataType:n.typeName,data:{resolveIndirect:1}});e.fetch(d).then((t=>{const n=e.get("Media"),s=n?n.map((e=>i().extend(!0,{source:a},e))):[];r.resolve(s)}),(()=>{r.reject(new Error("Unable to fetch Origin metadata"))}))}return r.promise()}((0,a.DB)("appModel"),e).then((t=>{e.set({Media:t})}));return t.then(null,(e=>{o.Z.error("[Metadata] %s",e.message)})),t}})),n}},90697:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(30983);function i(e){const t=e.get("playQueue");if(!t)return;const n=t.get("currentIndex");return(0,r.bG)(e,n)}},21256:(e,t,n)=>{"use strict";n.d(t,{Z:()=>h});var r=n(91135),i=n(61478),a=n(69881),s=Object.defineProperty,o=Object.prototype.hasOwnProperty,l=Object.getOwnPropertySymbols,c=Object.prototype.propertyIsEnumerable,d=(e,t,n)=>t in e?s(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,u=(e,t)=>{for(var n in t||(t={}))o.call(t,n)&&d(e,n,t[n]);if(l)for(var n of l(t))c.call(t,n)&&d(e,n,t[n]);return e};function p({metadataItemModel:e,listType:t}){const n=e.get("playlistType");if(n)return n;const s=e.get("subtype");if(s===i.PODCAST)return r.j0;const o=e.get("type");return o===a.COLLECTION?m(null,s):t===a.COLLECTION?m(null,o):m(t,o)}function m(e,t){let n;return e&&(n=a.getLeafType(e)),n||(n=a.getLeafType(t)),n&&n.mediaType}function h(e){const{type:t,metadataType:n,metadataItemModel:s,metadataItemModels:o,metadataListModel:l}=e;return t||(n?m(n):s?p(e):o&&o.length?p(u(u({},e),{metadataItemModel:o[0]})):l?function({metadataListModel:e,listType:t}){return e.get("firstItemSubtype")===i.PODCAST?r.j0:e.get("firstItemType")===a.COLLECTION?m(t,e.get("firstItemSubtype")):m(t,e.get("firstItemType"))}(e):void 0)}},34699:(e,t,n)=>{"use strict";n.d(t,{Z:()=>re});var r={};n.r(r),n.d(r,{changeAutoPlay:()=>D,changePlaybackSpeed:()=>C,changeQualityIndex:()=>b,changeStream:()=>I,changeSubtitleColor:()=>S,changeSubtitleOffset:()=>P,changeSubtitlePosition:()=>M,changeSubtitleSize:()=>E,changeVolume:()=>f,endPlayback:()=>u,mirrorDetails:()=>N,pause:()=>y,play:()=>g,playItem:()=>h,playNextItem:()=>p,playPreviousItem:()=>m,refreshRemotePlayQueue:()=>Z,refreshRemoteStreams:()=>T,seek:()=>v,setRepeat:()=>w,startPlayback:()=>d});var i={};n.r(i),n.d(i,{changeAutoPlay:()=>q,changePlaybackSpeed:()=>$,changeQualityIndex:()=>H,changeStream:()=>Q,changeSubtitleColor:()=>G,changeSubtitleOffset:()=>K,changeSubtitlePosition:()=>W,changeSubtitleSize:()=>Y,changeVolume:()=>_,endPlayback:()=>k,mirrorDetails:()=>te,pause:()=>B,play:()=>V,playItem:()=>U,playNextItem:()=>R,playPreviousItem:()=>z,refreshRemotePlayQueue:()=>X,refreshRemoteStreams:()=>ee,seek:()=>F,setRepeat:()=>J,startPlayback:()=>L});var a=n(95680),s=n(93966),o=n(18547),l=n(67470),c=n(33232);function d(e){a.startPlayback(e);const t=(0,s.DB)("remoteCastPlayerManager");e.get("playQueue").set("own",!1),t.startPlayback(e),e.set({startMetadataItemEntityID:null,startOffsetMilliseconds:null,startMediaIndex:null})}function u(e){a.endPlayback(e),(0,s.DB)("remoteCastPlayerManager").sendMessage({type:o.N7})}function p(e){(0,s.DB)("remoteCastPlayerManager").sendMessage({type:o.zb})}function m(e){(0,s.DB)("remoteCastPlayerManager").sendMessage({type:o.Fz})}function h(e,t){a.playItem(e,t);const n=(0,s.DB)("remoteCastPlayerManager"),r=e.get("playQueue"),i=r.get("playQueueItems"),l=r.get("playQueueSelectedItemID"),c=i.get(l).get("metadataItem");n.sendMessage({type:o.cb,playQueueItemID:l,key:c.get("key")})}function g(e){a.play(e),(0,s.DB)("remoteCastPlayerManager").sendMessage({type:o.NH})}function y(e){a.pause(e),(0,s.DB)("remoteCastPlayerManager").sendMessage({type:o.E7})}function v(e,t){a.seek(e,t),(0,s.DB)("remoteCastPlayerManager").sendMessage({type:o.tG,currentTime:t})}function f(e,t,n){(0,s.DB)("remoteCastPlayerManager").setVolume(t)}function b(e,t){a.changeQualityIndex(e,t);const n=c.Z.getQualityByIndex(t);(0,s.DB)("remoteCastPlayerManager").sendMessage({type:o.EJ,bitrate:n.bitrate})}function I(e,t,n){(0,s.DB)("remoteCastPlayerManager").sendMessage({type:o.f4,stream:{type:t,id:n}})}function S(e,t,n){a.changeSubtitleColor(e,t,n),(0,s.DB)("remoteCastPlayerManager").sendMessage({type:o.om,subtitleColor:t})}function M(e,t,n){a.changeSubtitlePosition(e,t,n),(0,s.DB)("remoteCastPlayerManager").sendMessage({type:o.WP,subtitlePosition:t})}function E(e,t,n){a.changeSubtitleSize(e,t,n),(0,s.DB)("remoteCastPlayerManager").sendMessage({type:o.I2,subtitleSize:t})}function P(e,t,n){(0,s.DB)("remoteCastPlayerManager").sendMessage({type:o.rx,subtitleOffset:t})}function D(e,t,n){a.changeAutoPlay(e,t,n),(0,s.DB)("remoteCastPlayerManager").sendMessage({type:o.hl,autoPlay:t})}function C(e,t){}function w(e,t){e.set({repeatAll:t.repeatAll,repeatOne:t.repeatOne}),(0,s.DB)("remoteCastPlayerManager").sendMessage({type:o.zG,repeat:(0,l.Z)(t)})}function Z(e){(0,s.DB)("remoteCastPlayerManager").sendMessage({type:o.bp})}function T(e){(0,s.DB)("remoteCastPlayerManager").sendMessage({type:o.fK})}function N(e){(0,s.DB)("remoteCastPlayerManager").mirrorDetails(e)}var O=n(70871),A=n(43149),x=n(73004);function j(e){const t=e.get("playQueue");return(0,O.ED)(t.get("type"))}function L(e){a.startPlayback(e);const t=(0,s.DB)("remotePlexPlayerManager");e.get("playQueue").set("own",!1),t.startPlayback(e)}function k(e){const t=(0,s.DB)("remotePlexPlayerManager"),n={};e.get("playQueue")&&(n.type=j(e)),a.endPlayback(e),t.sendCommand("/player/playback/stop",n)}function R(e){const t=(0,s.DB)("remotePlexPlayerManager"),n=j(e);t.sendCommand("/player/playback/skipNext",{type:n})}function z(e){const t=(0,s.DB)("remotePlexPlayerManager"),n=j(e);t.sendCommand("/player/playback/skipPrevious",{type:n})}function U(e,t){a.playItem(e,t);const n=(0,s.DB)("remotePlexPlayerManager"),r=j(e),i=e.get("playQueue"),o=i.get("playQueueItems"),l=i.get("playQueueSelectedItemID"),c=o.get(l).get("metadataItem");n.sendCommand("/player/playback/skipTo",{type:r,key:c.get("key")})}function V(e){a.play(e);const t=(0,s.DB)("remotePlexPlayerManager"),n=j(e);t.sendCommand("/player/playback/play",{type:n})}function B(e){a.pause(e);const t=(0,s.DB)("remotePlexPlayerManager"),n=j(e);t.sendCommand("/player/playback/pause",{type:n})}function F(e,t){a.seek(e,t);const n=(0,s.DB)("remotePlexPlayerManager"),r=j(e);n.seek({type:r,offset:1e3*t})}function _(e,t,n){const r=(0,s.DB)("remotePlexPlayerManager"),i=j(e);r.changeVolume({type:i,volume:t})}function H(e,t){}function Q(e,t,n){const r=(0,s.DB)("remotePlexPlayerManager"),i=j(e),a=x.Z.get(t).key;r.sendCommand("/player/playback/setStreams",{type:i,[a]:n})}function G(e,t,n){const r=(0,s.DB)("remotePlexPlayerManager"),i=j(e);r.sendCommand("/player/playback/setParameters",{type:i,subtitleColor:t}),a.changeSubtitleColor(e,t,n)}function W(e,t,n){const r=(0,s.DB)("remotePlexPlayerManager"),i=j(e);r.sendCommand("/player/playback/setParameters",{type:i,subtitlePosition:t}),a.changeSubtitlePosition(e,t,n)}function Y(e,t,n){const r=(0,s.DB)("remotePlexPlayerManager"),i=j(e);r.sendCommand("/player/playback/setParameters",{type:i,subtitleSize:t}),a.changeSubtitleSize(e,t,n)}function K(e,t,n){const r=(0,s.DB)("remotePlexPlayerManager"),i=j(e);r.sendCommand("/player/playback/setParameters",{type:i,subtitleOffset:t})}function q(e,t,n){const r=(0,s.DB)("remotePlexPlayerManager"),i=j(e);r.sendCommand("/player/playback/setParameters",{type:i,autoPlay:t?1:0}),a.changeAutoPlay(e,t,n)}function $(e,t){}function J(e,t){a.setRepeat(e,t);const n=(0,s.DB)("remotePlexPlayerManager"),r=j(e),i=e.get("repeatAll"),o=e.get("repeatOne");let l=A.Hn;i&&(l=o?A.ry:A.QN),n.sendCommand("/player/playback/setParameters",{type:r,repeat:l})}function X(e){const t=(0,s.DB)("remotePlexPlayerManager"),n=j(e),r=e.get("playQueue").get("playQueueID");t.sendCommand("/player/playback/refreshPlayQueue",{type:n,playQueueID:r})}function ee(e){const t=(0,s.DB)("remotePlexPlayerManager"),n=j(e);t.sendCommand("/player/playback/refreshStreams",{type:n})}function te(e){(0,s.DB)("remotePlexPlayerManager").mirrorDetails(e)}var ne=n(41890);function re(e){const t=e.get("remotePlayer");return t?t.get("protocol")===ne.l?r:i:a}},86526:(e,t,n)=>{"use strict";n.d(t,{Z:()=>g});var r=n(21256),i=n(67006),a=n(94803),s=n(69881),o=n(15634),l=n(45399),c=n(28440),d=Object.defineProperty,u=Object.prototype.hasOwnProperty,p=Object.getOwnPropertySymbols,m=Object.prototype.propertyIsEnumerable,h=(e,t,n)=>t in e?d(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;function g(e,t){const n=t.options?((e,t)=>{for(var n in t||(t={}))u.call(t,n)&&h(e,n,t[n]);if(p)for(var n of p(t))m.call(t,n)&&h(e,n,t[n]);return e})({},t.options):{},d=c.js(e,t),g=c.SW(e,t),y=t.itemProviderEntityID&&c.lp(e,{providerEntityID:t.itemProviderEntityID})||d,v=t.itemServerEntityID&&c.$w(e,{serverEntityID:t.itemServerEntityID})||g,f=function({providerModel:e,serverModel:t,itemServerModel:n,itemProviderModel:r,options:o={}}){const{containerKey:l,listType:c}=o;if(e.get("identifier")===r.get("identifier")&&t.get("machineIdentifier")===n.get("machineIdentifier"))return!0;if(c===s.TRACK&&l)return!1;const d=e.get("features").get(i.F5),u=!!d&&d.get("flavor")===a.D7&&!t.get("isCloud"),p=n.get("isShared");return!u||p}({providerModel:d,serverModel:g,itemServerModel:v,itemProviderModel:y,options:t.options});return n.serverModel=f?v:g,n.providerModel=f?y:d,(0,o.Z)(e,l.Ao)&&(n.includeExternalMedia=1),t.metadataItemEntityID&&(n.metadataItemModel=c.$R(e,t)),t.playlistMetadataItemEntityID&&(n.playlistModel=c.$R(e,{metadataItemEntityID:t.playlistMetadataItemEntityID})),t.metadataItemEntityIDs&&(n.metadataItemModels=t.metadataItemEntityIDs.map((t=>c.$R(e,{metadataItemEntityID:t})))),t.metadataListEntityID&&(n.metadataListModel=c.lK(e,t)),t.listType&&(n.type=(0,r.Z)({metadataType:t.listType})),n}},44398:(e,t,n)=>{"use strict";n.d(t,{Z:()=>p});var r=n(94803),i=n(32707),a=n(96840),s=n(60316),o=n(85586),l=n(84936);var c=n(21256),d=n(67006),u=n(69881);function p(e){const{providerModel:t,itemProviderModel:n,metadataItemModel:p,metadataListModel:m,multiSelectModel:h,playQueueModel:g,smart:y,readOnly:v,recent:f}=e,b=h&&h.get("activeSelectionItems").pluck("model"),I=g?g.get("type"):(0,c.Z)({metadataItemModel:p,metadataListModel:m,metadataItemModels:b}),S=t&&t.get("features"),M=S&&S.get(d.zg),E=M&&M.get("key"),P={type:(0,u.getMetadataType)(u.PLAYLIST).id,playlistType:I,smart:y?1:0,readOnly:v?1:0};f&&(P.sort="updatedAt:desc");const D={playlistType:I,containerKey:E&&l.Z.join(E,P)};return g||(D.uri=function(e){const{providerFeatureType:t,providerModel:n,itemProviderModel:c,metadataItemModel:d,metadataListModel:u,metadataItemModels:p}=e,m=n.get("features"),h=m&&m.get(t);if(h&&h.get("flavor")===r.D7){const e=(null==d?void 0:d.get("source"))?(0,s.Z)(d.get("source")).providerIdentifier:void 0,t=e&&e!==c.get("identifier")?d.get("source"):(0,o.Z)(c.server.get("machineIdentifier"),c.get("identifier")),n=d&&d.get("key")||u&&u.get("containerKey")||function(e){if(!e)return;const[t]=e;return e.some((e=>e.get("source")!==t.get("source")))?void a.Z.warn("[Playlists] universal playlists can not contain items from multiple sources"):"/library/metadata/"+e.map((e=>e.get("ratingKey"))).join(",")}(p);return l.Z.join([t,n])}return i.Z.uri(d||u||p,{items:p})}({providerFeatureType:d.zg,providerModel:t,itemProviderModel:n,metadataItemModel:p,metadataListModel:m,metadataItemModels:b})),D}},88551:(e,t,n)=>{"use strict";function r(e,t){return null==e.get("startMetadataItemEntityID")&&null!=e.get("startOffsetMilliseconds")||e.get("startMetadataItemEntityID")===t.entityID()?e.get("startOffsetMilliseconds"):t.get("viewOffset")||0}n.d(t,{Z:()=>r})},18305:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(17626);function i(e){return e.get("isOpen")?e.get("hasError")?r.pn:e.get("isPaused")?r.rf:e.get("isBuffering")?r.l9:r.Z$:r.il}},66747:(e,t,n)=>{"use strict";n.d(t,{c2:()=>y,PD:()=>v,Qt:()=>f,j7:()=>b,dY:()=>I,rt:()=>S,$h:()=>M,O7:()=>E});var r=n(59756),i=n(34699),a=n(70468),s=n(79490),o=n(30983),l=n(27082);function c(e){const t=e.get("captureBuffer");return t&&t.startedAt}function d(e){return e.get("currentPosition")}function u(e){const t=e.get("liveTVSession");return e.get("liveTVSession")?d(t):0}function p(e){const t=e.get("liveTVSession"),n=t.get("captureBuffer");if(n){const{startedAt:e,seekStartSeconds:t,seekEndSeconds:r}=n;return{seekStartSeconds:e+t,seekEndSeconds:e+r}}const r=t.get("startedAt");return{seekStartSeconds:r+e.get("seekStartSeconds"),seekEndSeconds:r+e.get("seekEndSeconds")}}function m(e){const t=d(e);if(!t)return;const n=e.get("timeline");for(let e=0;e<n.length;e++){const r=[...n.at(e).get("Media")].sort(((e,t)=>e.endsAt-t.endsAt));for(let e=0;e<r.length;e++){const n=r[e],{beginsAt:i,endsAt:a}=n;if(i<=t&&a>t)return n}}}function h(e,t){const n=u(e),r=p(e).seekEndSeconds;return n?Math.min(r,n+t):void 0}function g(e,t){const n=u(e),r=p(e).seekStartSeconds;return n?Math.max(r,n-t):void 0}function y(e){return g(e,s.jV)}function v(e){return h(e,s.Jj)}function f(e){return g(e,s.qB)}function b(e){return h(e,s._V)}function I(e){const t=e.get("liveTVSession");if(!e.get("liveTVSession"))return;const n=p(e).seekEndSeconds,r=m(t);return r?Math.min(n,r.endsAt):void 0}function S(e){const t=e.get("liveTVSession");if(!e.get("liveTVSession"))return;const n=p(e).seekStartSeconds,r=d(t),i=m(t);if(!i)return;if(r-i.beginsAt>s.Nf)return Math.max(n,i.beginsAt);const a=function(e){const t=d(e);if(!t)return;const n=e.get("timeline");for(let e=n.length-1;e>=0;e--){const r=[...n.at(e).get("Media")].sort(((e,t)=>e.endsAt-t.endsAt));for(let e=r.length-1;e>=0;e--){const n=r[e];if(n.endsAt<=t)return n}}}(t);return a?Math.max(n,a.beginsAt):void 0}function M(e,t){1===arguments.length&&(t=e.get("currentPosition"));const n=c(e)||e.get("startedAt");return t-n}function E(e,t,n,s){if(null==n)return;const c=(0,i.Z)(e),d=(0,o.F_)(e,t),u=d.get("liveTVSession"),p=u.get("startedAt");(0,l.c9)((()=>{if(u.set({currentPosition:n,lastSeekPosition:n}),function(e,t){const n=e.get("currentDecision");if(!n||n.isDirectPlay)return!1;const i=e.get("liveTVSession"),a=i.get("startedAt");if(!i.get("captureBuffer"))return!1;if(r.Z.shouldCreateNewSessionWhenSeekingLiveTV)return!0;const s=a+e.get("seekStartSeconds"),o=a+e.get("seekEndSeconds");return!(t>=s&&t<=o)}(d,n))u.set({startedAt:n}),s((0,a.Mf)({playerType:t,decisionOptions:{offset:1e3*M(u)}}));else{const e=Math.max(n-p,0);c.seek(d,e)}}))}},95680:(e,t,n)=>{"use strict";n.r(t),n.d(t,{startPlayback:()=>m,endPlayback:()=>h,playNextItem:()=>g,playPreviousItem:()=>y,playItem:()=>v,play:()=>f,pause:()=>b,seek:()=>I,changeVolume:()=>S,changeQualityIndex:()=>M,changeStream:()=>E,changeSubtitleColor:()=>P,changeSubtitlePosition:()=>D,changeSubtitleSize:()=>C,changeSubtitleOffset:()=>w,changeAutoPlay:()=>Z,changePlaybackSpeed:()=>T,setRepeat:()=>N,refreshRemotePlayQueue:()=>O,refreshRemoteStreams:()=>A,mirrorDetails:()=>x});var r=n(5513),i=n(4134),a=n(44491),s=n(58698),o=n(30983),l=n(88551);let c=null;function d(e,t,n={}){const r=e.get("playQueue"),i=r.get("currentIndex"),c=r.get("playQueueSelectedItemOffset"),{isApplicationInitiated:d=!1,isRestoringPlayQueue:u=!1}=n,p=(0,o.bG)(e,t);if(!p)return;const m=p.get("metadataItem"),h={isMediaLoading:!0,isBuffering:!1,isLyricsVisible:!1,positionSeconds:Math.floor((0,l.Z)(e,m)/1e3),durationSeconds:Math.floor((m.get("duration")||0)/1e3),lastSeekPositionSeconds:null,metricsAutoPlay:d,hasError:!1,errorMessage:null,errorCode:null,errorCategory:null,qualityIndex:null,adState:null,adPositionSeconds:null,adDurationSeconds:null,adDisplayIndex:null,adDisplayTotal:null,adTimeOffsetSeconds:null,bufferedRanges:[],canPlayThrough:!1,mediaWidth:null,mediaHeight:null,confirmPlayerUpsellPayload:null};u||e.get("isWatchTogether")||r.get("type")===a.pV||(h.isPaused=!1),e.set(h),r.set({playQueueSelectedItemID:p.id,playQueueSelectedItemOffset:c+(t-i)}),(0,s.Z)()}function u(e,t){const n=e.get("playQueue"),r=n.get("length"),i=n.get("currentIndex")+t;return n.get("repeat")?(i+r)%r:Math.min(Math.max(0,i),r-1)}function p(e,t){c&&(c=window.clearTimeout(c)),e.set({lastSeekPositionSeconds:t,nextPositionSeconds:null})}function m(e,t,n){const r=e.get("playQueue");d(e,r.get("currentIndex"),{isRestoringPlayQueue:t,isApplicationInitiated:n})}function h(e){e.restoreDefaults({metricsContextTuple:e.get("metricsContextTuple")})}function g(e,t){d(e,u(e,1),{isApplicationInitiated:t})}function y(e){d(e,u(e,-1))}function v(e,t){d(e,t)}function f(e,t=!1){e.set({isPaused:!1}),(0,s.Z)()}function b(e,t=!1){e.set({isPaused:!0}),(0,s.Z)()}function I(e,t,n){n?function(e,t,n){e.set({nextPositionSeconds:t}),c&&window.clearTimeout(c),c=window.setTimeout((()=>{e.get("isOpen")&&(p(e,t),c=null)}),n)}(e,t,n):p(e,t),(0,s.Z)()}function S(e,t,n){n((0,r.T5)({volume:t}))}function M(e,t){e.set("qualityIndex",t)}function E(e,t,n){}function P(e,t,n){n((0,i.fB)({subtitleColor:t}))}function D(e,t,n){n((0,i.Dv)({subtitlePosition:t}))}function C(e,t,n){n((0,i.dB)({subtitleSize:t}))}function w(e,t,n){}function Z(e,t,n){n((0,i.R4)({autoPlay:t}))}function T(e,t){e.set("playbackSpeed",t)}function N(e,t){const n=e.get("playQueue");e.set({repeatAll:t.repeatAll,repeatOne:t.repeatOne}),n.set("repeat",t.repeatAll)}function O(e){}function A(e){}function x(e){}},58641:(e,t,n)=>{"use strict";n.d(t,{ZP:()=>h});var r=n(19755),i=n.n(r),a=n(13469),s=n.n(a),o=n(84936),l=Object.defineProperty,c=Object.prototype.hasOwnProperty,d=Object.getOwnPropertySymbols,u=Object.prototype.propertyIsEnumerable,p=(e,t,n)=>t in e?l(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,m=(e,t)=>{for(var n in t||(t={}))c.call(t,n)&&p(e,n,t[n]);if(d)for(var n of d(t))u.call(t,n)&&p(e,n,t[n]);return e};function h(e,t={}){return e.get("isLocal")?function(e){return i().Deferred().resolve(e).promise()}(e):function(e,t={}){const{urlPath:n="",params:r={},type:a="GET"}=t,l=o.Z.join([s().result(e,"url"),n]),c=o.Z.join(l,m(m({},r),{repeat:e.get("repeat")?1:0,own:e.get("own")?1:0,includeChapters:1,includeMarkers:1,includeGeolocation:1,includeExternalMedia:1})),d=e.provider.getXHROptions(c,{type:a}),u=e.get("playQueueSelectedItemID");return e.set("isUpdatePending",!0),i().ajax(d).promise().then((t=>{e.get("own")&&"shuffle"!==n&&"unshuffle"!==n&&u&&(u!==e.get("playQueueSelectedItemID")||u!==e.parseResponse(t).playQueueSelectedItemID)||e.set(e.parse(t));const r=e.get("playQueueItems"),a=e.get("currentIndex");return a>=0&&a<r.length?i().Deferred().resolve(e).promise():i().Deferred().reject("ERROR_PLAY_QUEUE_INDEX_INVALID").promise()}),(()=>i().Deferred().reject("ERROR_PLAY_QUEUE_COULD_NOT_POPULATE").promise())).always((()=>{e.set("isUpdatePending",!1)}))}(e,t)}},65209:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(19755),i=n.n(r),a=n(67006),s=n(84936);function o(e){const{providerModel:t,type:n,title:r,smart:o=0,playlistID:l,playQueueID:c,uri:d,includeExternalMedia:u}=e,p={uri:d,playQueueID:c};u&&(p.includeExternalMedia=1),l||(p.title=r,p.smart=o?1:0,p.type=n);const m=t.get("features"),h=m&&m.get(a.zg),g=h&&h.get("key"),y=s.Z.join([g,l&&`${l}/items`],p),v=l?"PUT":"POST",f=t.getXHROptions(y,{type:v});return i().ajax(f)}},7251:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var r=n(59223),i=Object.defineProperty,a=Object.prototype.hasOwnProperty,s=Object.getOwnPropertySymbols,o=Object.prototype.propertyIsEnumerable,l=(e,t,n)=>t in e?i(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;function c(e,t,n){const i=e.get("previousOpenState");let c=e.get("openState");return i&&!t?c=i:i&&t&&(c=void 0),((e,t)=>{for(var n in t||(t={}))a.call(t,n)&&l(e,n,t[n]);if(s)for(var n of s(t))o.call(t,n)&&l(e,n,t[n]);return e})({previousOpenState:c,openState:i&&t?i:r.K},n)}},93573:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(90697),i=n(17524);function a(e){const t=(0,r.Z)(e).get("metadataItem");return i.wB(t.provider.get("identifier"),i.vP)}},94207:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(96840);function i(e,t){const n=e.get("playQueue");return(...i)=>{if(e.get("isOpen")&&n&&n===e.get("playQueue"))return t(...i);r.Z.warn("[Player] Player was closed or a new playback session was started; ignoring callback")}}},7536:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(19755),i=n.n(r),a=n(13469),s=n.n(a),o=n(84936);function l(e,t){const n=e.server,r=s().result(e,"url"),a=n.getXHROptions(o.Z.join([r,"move"],{after:t}),{type:"PUT"});return i().ajax(a).promise()}},75300:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(19755),i=n.n(r),a=n(68002);function s(e,t){const n=e.get("serverShares");return n?(0,a.Z)(n.map((e=>e.fetch({merge:!0,scope:t})))):i().Deferred().resolve().promise()}},98124:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(93063);function i(e){return(0,r.Z)(e.get("user").get("features").getState())}},15634:(e,t,n)=>{"use strict";function r(e,t){return!!e.get("user").get("features").findWhere({uuid:t})}n.d(t,{Z:()=>r})},32091:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(19755),i=n.n(r);function a(e){const{user:t,friend:n,serverShare:r,librarySectionIDs:a,isNewFriend:s,isCreatingManagedUser:o,isNewServerShare:l}=e,c={machineIdentifier:r.get("machineIdentifier"),librarySectionIds:a};s&&(c.settings=n.getSaveParams()),l&&(s&&!o?c.invitedEmail=n.get("username"):c.invitedId=n.id);const d=r.url(),u=t.server.getXHROptions(d,{type:"POST",contentType:"application/json",dataType:"json",data:JSON.stringify(c)});return i().ajax(u).promise()}},11203:(e,t,n)=>{"use strict";n.d(t,{wS:()=>z,Vf:()=>U,Y3:()=>j,se:()=>x,$T:()=>A,Ft:()=>V,vG:()=>k,IK:()=>L,Fl:()=>R,Zo:()=>W,tI:()=>Y,ky:()=>K,W6:()=>_,dk:()=>F,Bs:()=>B,Fj:()=>Q,C_:()=>H,ZA:()=>G});var r=n(19755),i=n.n(r),a=n(40807),s=n(93966),o=n(4920),l=n(88050),c=(n(11133),n(73004)),d=n(84936),u=n(33295),p=Object.defineProperty,m=Object.prototype.hasOwnProperty,h=Object.getOwnPropertySymbols,g=Object.prototype.propertyIsEnumerable,y=(e,t,n)=>t in e?p(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,v=(e,t)=>{for(var n in t||(t={}))m.call(t,n)&&y(e,n,t[n]);if(h)for(var n of h(t))g.call(t,n)&&y(e,n,t[n]);return e};function f(e,t){const{mediaIndex:n,streamTypeString:r,streamID:a,allParts:p,allowMetrics:m,metricsProperties:h={},updateLocalOnly:g=!1}=t,y=c.Z.get(r),f=e.provider,b=e.get("Media");let I,S;for(let e=0,t=b.length;e<t;e++){if(n>=0&&n!==e)continue;const t=b[e],r=t.Part;for(let e=0,n=r.length;e<n;e++){const n=r[e],i=n.Stream;for(let e=0,r=i.length;e<r;e++){const r=i[e];if(r.streamType===y.id&&r.id===a){I=t,S=n;break}}if(S)break}if(S)break}if(!S)return i().Deferred().reject().promise();const M={[y.key]:a};p&&(M.allParts=1);const E=function(e,t,n,r,i){const a=v({},n);a.Stream=n.Stream.map((e=>e.streamType!==r.id?e:e.id!==i||e.selected?e.id!==i&&e.selected?v(v({},e),{selected:!1}):e:v(v({},e),{selected:!0})));const s=v(v({},t),{Part:(0,o.Z)(t.Part,n,a)});return(0,o.Z)(e,t,s)}(b,I,S,y,a);if(e.set({Media:E,isStreamChangeInProgress:!g}),g)return i().Deferred().resolve().promise();const P=S.key.match(new RegExp(`^(.*/parts/${S.id})/`)),D=d.Z.join(P?P[1]:["/library/parts",S.id],M),C=f.getXHROptions(D,{type:"PUT",scope:`selectMetadataItemStream--${S.id}`});u.Z.abortAll(C.scope);const w=i().ajax(C).done((()=>{e.set("isStreamChangeInProgress",!1),e.fetch({usePopulatedParams:!0})})).fail((t=>{if(t.aborting)return;const n={isStreamChangeInProgress:!1};e.get("Media")===E&&(n.Media=b),e.set(n)}));return m&&(0,s.DB)("metrics").trackClick(v(v({},h),{action:l.xs,type:e.get("type"),context:r})),w.promise()}var b=n(32901),I=n(47486),S=n(69605),M=n(67006),E=n(17524),P=n(25474),D=n(4844),C=n(15042),w=n(28440),Z=n(27082),T=n(5562),N=n(69881),O=n(32003);const A="metadata/selectMetadataItemStream",x="metadata/repopulateMetadataItem",j="metadata/removeMetadataItem",L="metadata/toggleMetadataItemSave",k="metadata/toggleMetadataItemPlexPick",R="metadata/toggleMetadataItemWatchlist",z="metadata/addMetadataItemToLibrary",U="metadata/deleteMetadataItemStream",V="metadata/setMetadataItemStreamOffset",B=(0,a.Z)(A),F=(0,a.Z)(x),_=(0,a.Z)(j),H=(0,a.Z)(L),Q=(0,a.Z)(k),G=(0,a.Z)(R),W=(0,a.Z)(z),Y=(0,a.Z)(U),K=((0,a.Z)(V),{[x](e,t){const n=(0,w.tz)(e,t);n&&n.fetch({data:{skipRefresh:1},usePopulatedParams:!0})},[j](e,t){const n=(0,w.tz)(e,t);n&&n.trigger("destroy",n,n.collection)},[A](e,t,n){const{mediaIndex:r,streamTypeString:i,streamID:a,allParts:s,metricsPage:o,updateLocalOnly:l}=t;f((0,w.$R)(e,t),{mediaIndex:r,streamTypeString:i,streamID:a,allParts:s,allowMetrics:!!o,metricsProperties:{page:o},updateLocalOnly:l}).fail((e=>{e&&e.aborting||n((0,b.wp)((0,T.Z)("There was a problem selecting this stream.")))}))},[L](e,t,n){const r=(0,w.$R)(e,t),a=(0,w.js)(e,{providerEntityID:r.get("providerEntityID")}),s=a.get("identifier"),o=E.wB(s,E.xF);let l=r.get("ratingKey");const c=r.get("grandparentRatingKey");let u;if(c&&!o){l=c;const n=r.get("grandparentKey");if(n){const r=(0,D.Z)(C.TY,n,t.serverEntityID);u=(0,w.tz)(e,{metadataItemEntityID:r})}}const p=r.get("saved"),m=!p;r.set("saved",m),u&&u.set("saved",m);const h=a.get("features").get(M.aO).get("actions").get("save"),g=m?h.get("key"):h.get("reverseKey"),y=d.Z.join(g,{ratingKey:l}),v=a.getXHROptions(y,{type:"PUT"});i().ajax(v).then((()=>{n((0,b.jR)({serverEntityID:t.serverEntityID}))}),(()=>{r.set("saved",p),u&&u.set("saved",p)}))},[k](e,t,n){const r=(0,w.$R)(e,t),a=(0,w.js)(e,{providerEntityID:r.get("providerEntityID")}),s=r.get("ratingKey"),o=r.get("picked"),l=!o;r.set("picked",l);const c=a.get("features").get(M.aO).get("actions").get("pick"),u=l?c.get("key"):c.get("reverseKey"),p=d.Z.join(u,{ratingKey:s}),m=a.getXHROptions(p,{type:"PUT"});i().ajax(m).then((()=>{n(F({metadataItemEntityID:t.metadataItemEntityID}))}),(e=>{const t=(0,P.Z)(e.responseText);n((0,b.wp)(t.message)),r.set("picked",o)}))},[R](e,t,n){const r=(0,w.$R)(e,t),a=(0,w.js)(e,{providerEntityID:r.get("providerEntityID")}),s=r.get("ratingKey"),o=r.get("watchlistedAt"),l=o?void 0:Date.now();r.set("watchlistedAt",l);const c=a.get("features").get(M.aO).get("actions").get("addToWatchlist"),u=l?c.get("key"):c.get("reverseKey"),p=d.Z.join(u,{ratingKey:s}),m=a.getXHROptions(p,{type:"PUT"});i().ajax(m).then((()=>{t.metricsPage===S.Hx&&t.metricsProperties.context.includes(I.LIBRARY)?n((0,b.jR)({serverEntityID:t.serverEntityID})):n(F({metadataItemEntityID:t.metadataItemEntityID}))}),(e=>{const t=(0,P.Z)(e.responseText);n((0,b.wp)(t.message)),r.set("watchlistedAt",o)}))},[z](e,t,n){const r=(0,w.$R)(e,t),a=(0,w.SW)(e,t),s=(0,w.js)(e,{providerEntityID:r.get("providerEntityID")}),o=t.sectionKey.match(/\/library\/sections\/(\w+)/)[1],l={providers:`provider://${s.get("identifier")}`,prefs:{oneShot:1,remoteMedia:1},params:{libraryType:O.ZP.get(O.xF).typeID},targetLibrarySectionID:o,hints:{guid:r.get("guid"),ratingKey:r.get("ratingKey"),title:r.get("title"),parentTitle:r.get("parentTitle")},type:(0,N.getMetadataType)(r.get("type")).id},c=a.getXHROptions(d.Z.join("/media/subscriptions",l),{type:"POST"});i().ajax(c)},[U](e,t,n){const{streamKey:r,metadataItemEntityID:a}=t,s=(0,w.$R)(e,t);(0,Z.c9)((()=>{s.set("isStreamDeleteInProgress",!0)}));const o=s.server.getXHROptions(r,{type:"DELETE"});i().ajax(o).then((()=>{s.set("isStreamDeleteInProgress",!1),n(F({metadataItemEntityID:a}))}),(e=>{s.set("isStreamDeleteInProgress",!1),n((0,b.wp)((0,T.Z)("There was a problem deleting this stream.")))}))},[V](e,t,n){const{mediaIndex:r,streamTypeString:i,streamID:a,allParts:s,metricsPage:o,updateLocalOnly:l}=t;f((0,w.$R)(e,t),{mediaIndex:r,streamTypeString:i,streamID:a,allParts:s,allowMetrics:!!o,metricsProperties:{page:o},updateLocalOnly:l}).fail((e=>{e&&e.aborting||n((0,b.wp)((0,T.Z)("There was a problem selecting this stream.")))}))}})},53145:(e,t,n)=>{"use strict";n.d(t,{Vr:()=>u,$Q:()=>p,R:()=>m,ay:()=>h,h9:()=>g,WV:()=>y,Cs:()=>v,mK:()=>f,Wq:()=>b,rW:()=>I,db:()=>S,RD:()=>M,l2:()=>E,kM:()=>P,$M:()=>D,Vk:()=>C,J3:()=>w,zg:()=>Z,TV:()=>T,UU:()=>N,uq:()=>O,ET:()=>A,n7:()=>x,f4:()=>j,LW:()=>L,lm:()=>k,tU:()=>R,Iy:()=>z});var r=n(13469),i=n.n(r),a=n(40807),s=n(33816),o=n(27940),l=n(32846),c=n(28440),d=n(27082);const u="server/testServer",p="server/testServers",m="server/confirmRelayConnection",h="server/addHttpFallbackConnection",g="server/startActivity",y="server/updateActivity",v="server/finishActivity",f="server/startSyntheticActivity",b="server/finishSyntheticActivity",I="server/eventConnectionOpen",S="server/eventConnectionClose",M="server/fetchProviders",E="server/populateProviders",P="server/fetchLibraries",D="server/populateLibraries",C=(0,a.Z)(u),w=((0,a.Z)(p),(0,a.Z)(m)),Z=(0,a.Z)(h),T=(0,a.Z)(g),N=(0,a.Z)(y),O=(0,a.Z)(v),A=(0,a.Z)(f),x=(0,a.Z)(b),j=(0,a.Z)(I),L=(0,a.Z)(S),k=(0,a.Z)(M),R=((0,a.Z)(E),(0,a.Z)(P)),z=((0,a.Z)(D),{[m](e,t){},[h](e,t){},[g](e,t,n){const r=(0,c.Y7)(e,t);if(!r)return;const i=t.activity;r.get("activities").add([i],{parse:!0}),i.synthetic||n(x({serverEntityID:t.serverEntityID,activityType:i.type}))},[y](e,t){const n=(0,c.Y7)(e,t);n&&n.get("activities").add([t.activity],{parse:!0,merge:!0})},[v](e,t){const n=(0,c.Y7)(e,t);n&&n.get("activities").remove(t.activity.uuid)},[f](e,t,n){(0,d.c9)((()=>{const e={type:t.activityType,synthetic:!0,uuid:`${t.activityType}-${Date.now()}`};t.title&&(e.title=t.title),t.Context&&(e.Context=t.Context),n(T({serverEntityID:t.serverEntityID,activity:e}))}))},[b](e,t){const n=(0,c.Y7)(e,t);if(!n)return;const r=n.get("activities"),{activityType:a,Context:s,title:o}=t,l=r.findWhere((e=>e.get("type")===a&&!0===e.get("synthetic")&&(!o||e.get("title")===o)&&(!s||i().isEqual(e.get("Context"),s))));l&&r.remove(l)},[I](e,t){const n=(0,c.SW)(e,t),r=(0,c.Y7)(e,t);if(!n||!r)return;const i=r.get("activities");n.set("hasEventConnection",!0),i.fetch()},[S](e,t){const n=(0,c.SW)(e,t);n&&n.set("hasEventConnection",!1)},[M]:(0,s.Z)({key:"providers",getModel:c.SW}),[E]:(0,o.Z)({key:"providers",fetchActionCreator:k,getModel:c.SW}),[P]:(0,s.Z)({key:"libraries",getModel:c.Y7}),[D]:(0,o.Z)({key:"libraries",fetchActionCreator:R,getModel:c.Y7}),[u](e,t){const n=(0,c.SW)(e,t);l.Z.trigger("test:server",n)},[p](){l.Z.trigger("test:servers")}})},44693:(e,t,n)=>{"use strict";n.d(t,{u0:()=>h,rg:()=>g,uM:()=>y,b4:()=>f});var r=n(95933),i=n(40807),a=n(3265),s=n(44398),o=n(65209),l=n(15634),c=n(45399),d=n(28440);const u="ui/initAddToPlaylistMenu",p="ui/clearAddToPlaylistMenu",m="ui/addToExistingPlaylist",h=(0,i.Z)(u),g=(0,i.Z)(p),y=(0,i.Z)(m);function v(e){return e.get("ui").get("addToPlaylistMenu")}const f=(0,a.Z)({[u](e,t){const n=v(e),i=(0,d.tz)(e,t),a=(0,d.Ij)(e,t),o=e.get("ui").get("multiSelect"),l=(0,d.SW)(e,t),c=(0,d.js)(e,t),u=i?(0,d.js)(e,{providerEntityID:i.get("providerEntityID")}):c,{containerKey:p,uri:m}=(0,s.Z)({providerModel:c,itemProviderModel:u,metadataItemModel:i,metadataListModel:a,multiSelectModel:o,recent:!0}),h=new r.Z({containerKey:p},{server:l,provider:c});n.set({recentPlaylists:h,uri:m})},[p](e){v(e).restoreDefaults()},[m](e,t){const n=v(e),r=(0,d.js)(e,t),i=n.get("uri"),{playlistID:a}=t,s={playlistID:a,providerModel:r,uri:i};(0,l.Z)(e,c.Ao)&&(s.includeExternalMedia=!0),(0,o.Z)(s)}})},92857:(e,t,n)=>{"use strict";n.d(t,{x3:()=>C,h5:()=>w,it:()=>Z,cg:()=>T,BJ:()=>N,zr:()=>x});var r=n(95933),i=n(40807),a=n(3265),s=n(44398),o=n(65209),l=n(15634),c=n(45399),d=n(32707),u=n(28440),p=n(30983),m=n(27082),h=n(57054),g=Object.defineProperty,y=Object.prototype.hasOwnProperty,v=Object.getOwnPropertySymbols,f=Object.prototype.propertyIsEnumerable,b=(e,t,n)=>t in e?g(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,I=(e,t)=>{for(var n in t||(t={}))y.call(t,n)&&b(e,n,t[n]);if(v)for(var n of v(t))f.call(t,n)&&b(e,n,t[n]);return e};const S="ui/modal/initAddToPlaylistModal",M="ui/modal/clearAddToPlaylistModal",E="ui/modal/selectDestination",P="ui/modal/createPlaylist",D="ui/modal/addToPlaylist",C=(0,i.Z)(S),w=(0,i.Z)(M),Z=(0,i.Z)(E),T=(0,i.Z)(P),N=(0,i.Z)(D);function O(e){return e.get("ui").get("addToPlaylistModal")}function A(e,t){(0,m.c9)((()=>{e.set({isUpdating:!0,error:null})})),(0,o.Z)(t).then((()=>{e.set({isUpdating:!1})}),(t=>{e.set({isUpdating:!1,error:(0,h.Z)(t)})}))}const x=(0,a.Z)({[S](e,t,n){const r=O(e);let i,a,s,o,l="";if(t.metadataItemEntityID)i=(0,u.$R)(e,t),l=d.Z.title(i);else if(t.metadataListEntityID)a=(0,u.lK)(e,t),l=d.Z.title(a);else if(t.playQueueID)o=(0,p.RZ)(e,t.playQueueID);else{s=e.get("ui").get("multiSelect");const t=s.get("activeSelectionItems").pluck("model");l=d.Z.title(t,{items:t})}r.set({title:l,smart:t.smart,metadataItem:i,metadataList:a,multiSelect:s,playQueue:o}),n(Z(t))},[M](e){O(e).restoreDefaults()},[E](e,t){const n=O(e),i=(0,u.SW)(e,t),a=(0,u.js)(e,t),o=n.get("metadataItem"),l=n.get("metadataList"),c=n.get("multiSelect"),d=n.get("playQueue"),p=n.get("smart"),m=o?(0,u.js)(e,{providerEntityID:o.get("providerEntityID")}):a,{containerKey:h,playlistType:g,uri:y}=(0,s.Z)({providerModel:a,itemProviderModel:m,metadataItemModel:o,metadataListModel:l,multiSelectModel:c,playQueueModel:d}),v=new r.Z({containerKey:h},{server:i,provider:a});n.set({server:i,provider:a,type:g,smart:p,containerKey:h,uri:y,playlists:v})},[P](e,t){const n=O(e),r=n.get("provider"),i=n.get("playQueue"),{formData:a}=t;let s=n.pick("type","title","uri","smart");s=I(I({},s),a),s.providerModel=r,i&&(s.playQueueID=i.get("playQueueID")),(0,l.Z)(e,c.Ao)&&(s.includeExternalMedia=!0),A(n,s)},[D](e,{playlistID:t}){const n=O(e),r=n.get("provider"),i=n.get("playQueue"),a={playlistID:t,providerModel:r,uri:n.get("uri")};i&&(a.playQueueID=i.get("playQueueID")),(0,l.Z)(e,c.Ao)&&(a.includeExternalMedia=!0),A(n,a)}})},84656:(e,t,n)=>{"use strict";n.d(t,{K5:()=>x,K7:()=>N,NJ:()=>k,XK:()=>L,np:()=>T,yd:()=>z,kB:()=>j,eU:()=>A});var r=n(19755),i=n.n(r),a=n(13469),s=n.n(a),o=n(14794),l=n(66390),c=n(40807),d=n(3265),u=n(33816),p=n(28440),m=n(7536),h=n(20023),g=n(5562);function y(e,t){let n;return n=401===e.status?(0,g.Z)("You do not have permission to perform this action."):(0,h.Z)(e,t),n}var v=n(27082),f=n(69881),b=n(84936);const I="ui/modal/initMediaSubscriptionModal",S="ui/modal/clearMediaSubscriptionModal",M="ui/modal/fetchMediaSubscription",E="ui/modal/saveMediaSubscription",P="ui/modal/changeMediaSubscriptionTemplateMode",D="ui/modal/clearMediaSubscriptionModalError",C="ui/modal/moveMediaSubscriptionModal",w="ui/modal/deleteMediaSubscriptionModal",Z="ui/modal/deleteMediaGrabOperationsModal",T=(0,c.Z)(I),N=(0,c.Z)(S),O=(0,c.Z)(M),A=(0,c.Z)(E),x=(0,c.Z)(P),j=((0,c.Z)(D),(0,c.Z)(C)),L=(0,c.Z)(w),k=(0,c.Z)(Z);function R(e){return e.get("ui").get("mediaSubscriptionModal")}const z=(0,d.Z)({[I](e,t,n){const r=R(e);r.set("isMediaSubscriptionPending",!0);const a={};if(t.showConflicts&&(a.options={data:{includeGrabs:1}}),t.mediaSubscriptionEntityID)return r.set({mediaSubscription:(0,p.xS)(e,t)}),void n(O(a));const s=(0,p.SW)(e,t),c=(0,p.$R)(e,t),d=c.get("grandparentSubscriptionID")||c.get("subscriptionID");if(d)return r.set({mediaSubscription:new o.Z({key:d},{server:s})}),void n(O(a));const u=b.Z.join("/media/subscriptions/template",{guid:c.get("guid")}),m=s.getXHROptions(u);i().ajax(m).then((e=>{const t={parse:!0,server:s},n=new l.Z(e,t),i=n.findWhere({selected:!0});r.set({isMediaSubscriptionPending:!1,isMediaSubscriptionPopulated:!0,mediaSubscriptionError:null,templates:n,mediaSubscription:i})}),(e=>{const t=y(e,(0,g.Z)("There was an unexpected error"));r.set({isMediaSubscriptionPending:!1,mediaSubscriptionError:t})}))},[S](e){R(e).restoreDefaults()},[M]:(0,u.Z)({key:"mediaSubscription",getModel:R}),[E](e,t){const n=R(e),r=(0,p.SW)(e,t),a=n.get("mediaSubscription"),{targetLibrarySectionID:o,targetSectionLocationID:l=null,prefs:c}=t;(0,v.c9)((()=>{n.set({isMediaSubscriptionSaving:!0,mediaSubscriptionSaveError:null})}));const d=a.get("key"),u=a.getSaveParams(),m=i().extend(!0,{},u,{includeGrabs:1,targetLibrarySectionID:o,targetSectionLocationID:l,prefs:c});let h=b.Z.join(s().result(a,"url"),m);if(!d){const e=(0,f.getMetadataType)(a.get("hint").get("type"));h=h+"&"+a.get("parameters")+"&type="+e.id}const I=r.getXHROptions(h,{type:d?"PUT":"POST"});i().ajax(I).then((r=>{if(a.set(a.parse(r)),n.set({isMediaSubscriptionSaving:!1}),t.metadataItemEntityID){const n=(0,p.$R)(e,t);if(n){const e=a.get("hint").get("type"),t=(0,f.isParentType)(e),r=t?"grandparentSubscriptionID":"subscriptionID",i=t?"grandparentSubscriptionType":"subscriptionType";n.set({[r]:a.id,[i]:e})}}}),(e=>{const t=y(e,(0,g.Z)("There was a problem saving your changes. Please try again."));n.set({isMediaSubscriptionSaving:!1,mediaSubscriptionSaveError:t})}))},[P](e,t){const n=R(e),r=n.get("templates"),{modeIndex:i}=t;n.set("mediaSubscription",r.at(i))},[D](e,t){R(e).set({mediaSubscriptionSaveError:null,mediaSubscriptionError:null,mediaSubscriptionMoveError:null,mediaSubscriptionDeleteError:null})},[C](e,t){const n=R(e),r=n.get("mediaSubscription");(0,v.c9)((()=>{n.set({isMediaSubscriptionMoving:!0,mediaSubscriptionMoveError:null})})),(0,m.Z)(r).then((()=>{n.set({isMediaSubscriptionMoving:!1})}),(e=>{const t=y(e,(0,g.Z)("There was a problem saving your changes. Please try again."));n.set({isMediaSubscriptionMoving:!1,mediaSubscriptionMoveError:t})}))},[w](e,t,n){const r=R(e),i=r.get("mediaSubscription"),{metadataItemEntityID:a}=t;(0,v.c9)((()=>{r.set({isMediaSubscriptionDeleting:!0,mediaSubscriptionDeleteError:null})})),function(e,{appModel:t,metadataItemEntityID:n}={}){const r=e.get("key");let i=e.destroy({wait:!0});return n&&(i=i.then((()=>{if(n){const e=(0,p.$R)(t,{metadataItemEntityID:n});e.get("subscriptionID")===r?(e.unset("subscriptionID"),e.unset("subscriptionType")):e.get("grandparentSubscriptionID")===r&&(e.unset("grandparentSubscriptionID"),e.unset("grandparentSubscriptionType"))}}))),i}(i,{appModel:e,metadataItemEntityID:a}).then((()=>{r.set({isMediaSubscriptionDeleting:!1})}),(e=>{const t=y(e,(0,g.Z)("There was a problem with canceling this subscription. Please try again."));r.set({isMediaSubscriptionDeleting:!1,mediaSubscriptionDeleteError:t})}))},[Z](e,t){const n=R(e),r=n.get("mediaSubscription");var a;(0,v.c9)((()=>{n.set({isMediaSubscriptionDeleting:!0,mediaSubscriptionDeleteError:null})})),(a=r.get("grabOperations"),i().when(...a.map((e=>e.destroy({wait:!0})))).then((()=>{}))).then((()=>{n.set({isMediaSubscriptionDeleting:!1})}),(e=>{const t=y(e,(0,g.Z)("There was a problem with modifying this subscription. Please try again."));n.set({isMediaSubscriptionDeleting:!1,mediaSubscriptionDeleteError:t})}))}})},34007:(e,t,n)=>{"use strict";n.d(t,{Zh:()=>te,pg:()=>ce,T:()=>le,lO:()=>ee,oW:()=>X,Wm:()=>he,o1:()=>re,oA:()=>ie,O7:()=>oe,QJ:()=>ae,wW:()=>se,lS:()=>J,H5:()=>de,NO:()=>ne});var r=n(19755),i=n.n(r),a=n(93966),s=n(36740),o=n(40807),l=n(21256),c=n(86526),d=n(66747),u=n(7251),p=n(14e3),m=n(20023),h=n(5562);function g(e,t,n,r){const a=e.server.get("isCloud"),s=a?`/channels/${n}/tune`:`/livetv/dvrs/${t}/channels/${n}/tune`,o={method:"POST",headers:{"X-Plex-Session-Identifier":r.playbackSessionID},timeout:p.EH};return i().ajax(a?e.provider.getXHROptions(s,o):e.server.getXHROptions(s,o)).then(((r,s,o)=>{e.set(e.parse(r));const l=e.get("grabOperation");if(!l){const e=(0,m.Z)(o,(0,h.Z)("Could not tune channel"));return i().Deferred().reject({errorMessage:e}).promise()}const c=l.get("metadataItem"),d=c.get("Media")[l.get("mediaIndex")],u=l.get("conflicts"),p=o.getResponseHeader("X-Plex-Activity"),g=l.get("beginsAt"),y=c.get("transcodeSession"),v={dvrID:t,channelIdentifier:n,activityUUID:p,currentPosition:g,startedAt:g};let f=!1;if(y){const t=y.get("timeStamp"),n=y.get("minOffsetAvailable"),r=y.get("maxOffsetAvailable");if(t&&null!=n&&null!=r){v.captureBuffer={startedAt:t,seekStartSeconds:n,seekEndSeconds:r};const i=t+n,a=e.get("timeline").toJSON().reduce(((e,t)=>e||t.Media.find((e=>e.onAir))),null).beginsAt,s=Math.max(i,a);Date.now()/1e3-s>60&&(f=!0)}}if(e.set(v),a)return i().Deferred().resolve(e).promise();if(u&&u.length)return i().Deferred().reject({hasConflicts:!0,liveTVSession:e}).promise();if(!p)return i().Deferred().reject({errorMessage:(0,h.Z)("Could not tune channel (No activity)")}).promise();const b=d&&d.Part;return b&&b.length?(c.set("isPreFetched",!0),f?i().Deferred().reject({confirmPlayback:f,liveTVSession:e}).promise():i().Deferred().resolve(e).promise()):i().Deferred().reject({errorMessage:(0,h.Z)("Could not tune channel (No parts)")}).promise()}),((e,t)=>"abort"===t?i().Deferred().reject({errorMessage:(0,h.Z)("Could not tune channel (Timed out)")}).promise():i().Deferred().reject({errorMessage:(0,h.Z)("Could not tune channel")}).promise()))}var y=n(98124),v=n(53145),f=n(12304),b=n(96335),I=n(59223),S=n(52837),M=n(1997),E=n(66729),P=n(36535),D=n(9010),C=n(28440),w=n(30983),Z=n(27082),T=n(57054),N=n(79932),O=Object.defineProperty,A=Object.prototype.hasOwnProperty,x=Object.getOwnPropertySymbols,j=Object.prototype.propertyIsEnumerable,L=(e,t,n)=>t in e?O(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,k=(e,t)=>{for(var n in t||(t={}))A.call(t,n)&&L(e,n,t[n]);if(x)for(var n of x(t))j.call(t,n)&&L(e,n,t[n]);return e};const R="ui/player/liveTVPlayer/startLiveTVPlayback",z="ui/player/liveTVPlayer/endLiveTVPlayback",U="ui/player/liveTVPlayer/confirmLiveTVPlayback",V="ui/player/liveTVPlayer/cancelConfirmLiveTVPlayback",B="ui/player/liveTVPlayer/updatePlayerLiveTVMetadata",F="ui/player/liveTVPlayer/playNextItem",_="ui/player/liveTVPlayer/playPreviousItem",H="ui/player/liveTVPlayer/skipBack",Q="ui/player/liveTVPlayer/skipForward",G="ui/player/liveTVPlayer/stepBack",W="ui/player/liveTVPlayer/stepForward",Y="ui/player/liveTVPlayer/seek",K="ui/player/liveTVPlayer/clearPlayerConflicts",q="ui/player/liveTVPlayer/cancelMediaGrabber",$="ui/player/liveTVPlayer/togglePlayerAlsoAiringState",J=(0,o.Z)(R),X=(0,o.Z)(z),ee=(0,o.Z)(U),te=(0,o.Z)(V),ne=(0,o.Z)(B),re=(0,o.Z)(F),ie=(0,o.Z)(_),ae=(0,o.Z)(H),se=(0,o.Z)(Q),oe=((0,o.Z)(G),(0,o.Z)(W),(0,o.Z)(Y)),le=(0,o.Z)(K),ce=(0,o.Z)(q),de=(0,o.Z)($);function ue(e,t){const n=Math.floor(Date.now()/1e3);return e.get("Media").find((e=>{const r=e.beginsAt<=n&&n<=e.endsAt,i=!t||e.channelIdentifier===t;return r&&i}))}function pe(e){const t=ue(e);return t?t.channelIdentifier:void 0}function me(e,t){const n=(0,w.F_)(e,t).get("liveTVSession");n&&n.set("lastSeekPosition",n.get("currentPosition"))}const he={[R](e,t,n){const{serverEntityID:r,providerEntityID:i}=t,o=Date.now(),d=(0,c.Z)(e,t),u=(0,l.Z)(d),p=S.f_(u),m=(0,w.F_)(e,p),v=C.SW(e,t),f=C.js(e,{providerEntityID:i}),T=f.get("parentID"),O=d.metadataItemModel,A=(0,P.Z)(f.get("identifier"),f.get("providerIdentifier"));let x=null;if(O?x=ue(O,d.identifier):d.identifier&&(x={channelIdentifier:d.identifier,beginsAt:Math.floor(Date.now()/1e3)}),!x)return void(0,Z.c9)((()=>{m.restoreDefaults({hasError:!0,errorMessage:(0,h.Z)("Unable to tune channel (Not on air)")})}));const j=e.get("remotePlayer");if(j&&!(0,D.Z)({protocol:j.get("protocol"),protocolCapabilities:j.get("protocolCapabilities"),providerIdentifier:A,userFeaturesByUUID:(0,y.Z)(e)}))return void(0,Z.c9)((()=>{m.set({hasError:!0,errorMessage:(0,h.Z)("Live TV is not currently supported when connected to a remote player.")})}));(0,Z.c9)((()=>{m.restoreDefaults({serverEntityID:r,providerEntityID:i,isOpen:!0,openState:I.K,isPlayQueueLoading:!0,isMediaLoading:!0,playbackStartTime:o})}));const L=new s.Z({},{server:v,provider:f}),R=x.channelIdentifier;g(L,T,R,{playbackSessionID:m.get("playbackSessionID")}).done((()=>{m.set("liveTVSession",L);const e=L.get("grabOperation").get("metadataItem");n((0,N.wA)(k(k({},t),{liveTVSessionEntityID:L.entityID(),metadataItemEntityID:e.entityID(),playbackStartTime:o,options:{offset:void 0}})))})).fail((e=>{const{confirmPlayback:t,hasConflicts:n,errorMessage:s}=e;if(t)m.restoreDefaults({serverEntityID:r,providerEntityID:i,liveTVSession:L,confirmLiveTVPlayback:t});else if(n)m.restoreDefaults({serverEntityID:r,providerEntityID:i,liveTVSession:L,hasConflicts:n});else{const e=v.getState();(0,a.DB)("metrics").trackEvent({event:b.NY,interaction:!0,properties:{serverType:(0,E.Z)(e),connectionType:(0,M.Z)(e.activeConnection),error:"tuneFailed",identifier:R}}),m.restoreDefaults({hasError:!0,errorMessage:s})}}))},[z](e,t,n){const{playerType:r,showError:i}=t,a=(0,w.F_)(e,r);i?a.restoreDefaults({hasError:!0,errorMessage:(0,h.Z)("This live TV session has ended due to a recording conflict")}):n((0,N.Mh)({playerType:r}))},[U](e,t,n){const{playerType:r,serverEntityID:i,providerEntityID:a,offset:s}=t,o=(0,w.F_)(e,r).get("liveTVSession"),l=o.get("captureBuffer"),c=o.get("grabOperation").get("metadataItem");if(null!=s){const e=l.startedAt+Math.floor(s/1e3);o.set({currentPosition:e,lastSeekPosition:e})}n((0,N.wA)({serverEntityID:i,providerEntityID:a,liveTVSessionEntityID:o.entityID(),metadataItemEntityID:c.entityID(),startOffsetMilliseconds:s}))},[V](e,{playerType:t}){const n=(0,w.F_)(e,t);(0,Z.c9)((()=>{n.restoreDefaults()}))},[B](e,t){const{serverEntityID:n,playerType:r}=t,i=(0,w.F_)(e,r),a=i.get("liveTVSession");if(!a||i.get("serverEntityID")!==n)return;const s=a.get("dvrID"),o=a.get("channelIdentifier");g(a,s,o,{playbackSessionID:i.get("playbackSessionID")})},[F](e,{playerType:t},n){const r=(0,w.F_)(e,t),i=d.dY(r);d.O7(e,t,i,n)},[_](e,{playerType:t},n){const r=(0,w.F_)(e,t),i=d.rt(r);d.O7(e,t,i,n)},[H](e,{playerType:t},n){const r=(0,w.F_)(e,t),i=d.c2(r);d.O7(e,t,i,n)},[Q](e,{playerType:t},n){const r=(0,w.F_)(e,t),i=d.PD(r);d.O7(e,t,i,n)},[G](e,{playerType:t},n){const r=(0,w.F_)(e,t),i=d.Qt(r);d.O7(e,t,i,n)},[W](e,{playerType:t},n){const r=(0,w.F_)(e,t),i=d.j7(r);d.O7(e,t,i,n)},[Y](e,t,n){const{playerType:r,seekPosition:i}=t;d.O7(e,r,i,n)},[K](e,{playerType:t}){const n=(0,w.F_)(e,t);(0,Z.c9)((()=>{n.set({hasConflicts:!1})}))},[q](e,t,n){const{playerType:r,grabOperationKey:a}=t,s=(0,w.F_)(e,r),o=s.get("serverEntityID"),l=C.SW(e,{serverEntityID:o}),c=s.get("liveTVSession").get("grabOperation").get("metadataItem"),d=!s.get("isOpen");if(d&&!pe(c))return void s.restoreDefaults({hasError:!0,errorMessage:(0,h.Z)("Unable to cancel conflict, please try again.")});(0,Z.c9)((()=>{s.set({isConflictCancelling:!0})}));const u=l.getXHROptions(a,{type:"DELETE"});i().ajax(u).done((e=>{if(s.set({hasConflicts:!1,isConflictCancelling:!1,cancelConflictError:null}),d){const e=s.get("providerEntityID");if(!pe(c))return void s.restoreDefaults({hasError:!0,errorMessage:(0,h.Z)("Unable to tune channel after canceling a conflict, please try again.")});n(J({serverEntityID:o,providerEntityID:e,metadataItemEntityID:c.entityID(),playerType:r}))}})).fail((e=>{s.set({isConflictCancelling:!1,cancelConflictError:(0,T.Z)(e)})}))},[v.WV](e,t){const{serverEntityID:n,activity:r}=t,i=(0,w.F_)(e,S.Se),a=i.get("liveTVSession");if(a&&i.get("serverEntityID")===n&&a.get("activityUUID")===r.uuid&&r.Context){const e=!!r.Context.conflicts,t=i.get("hasConflicts");if(e&&!t){const e=a.get("dvrID"),t=a.get("channelIdentifier");g(a,e,t,{playbackSessionID:i.get("playbackSessionID")}).fail((({hasConflicts:e})=>{e&&i.set({hasConflicts:!0})}))}else!e&&t&&i.set({hasConflicts:!1})}},[v.Cs](e,t,n){const{serverEntityID:r,activity:i}=t,a=(0,w.F_)(e,S.Se),s=a.get("liveTVSession");if(s&&a.get("serverEntityID")===r&&s.get("activityUUID")===i.uuid){let e=(0,h.Z)("This live TV session has ended");i.Response&&i.Response.errorText?e=i.Response.errorText:a.get("hasConflicts")&&(e=(0,h.Z)("This live TV session has ended due to a recording conflict")),a.restoreDefaults({hasError:!0,errorMessage:e})}},[$](e,{playerType:t}){const n=(0,w.F_)(e,t),r=n.get("isAlsoAiringVisible");(0,Z.c9)((()=>{n.set((0,u.Z)(n,r,{isSettingsVisible:!1,isChaptersVisible:!1,isAlsoAiringVisible:!r,isLyricsVisible:!1}))}))},[f.VR](e,{playerType:t}){me(e,t)},[f.RB](e,{playerType:t}){me(e,t)},[f.BB](e,{playerType:t,positionSeconds:n}){const r=(0,w.F_)(e,t),i=r.get("liveTVSession");if(!i)return;const a=r.get("serverEntityID");if(C.SW(e,{serverEntityID:a}).get("isCloud"))(0,Z.c9)((()=>{const e=r.get("playbackStartTime"),t=r.get("sessionPlaybackTime");i.set({currentPosition:Math.floor((e+t)/1e3)})}));else{const e=i.get("startedAt"),t=i.get("lastSeekPosition"),r=e+n;r>t&&(0,Z.c9)((()=>{i.set({currentPosition:r,lastSeekPosition:null})}))}}}},35421:(e,t,n)=>{"use strict";n.d(t,{jB:()=>v,Qi:()=>f,_7:()=>b,Q2:()=>I,U8:()=>S,$D:()=>M,zG:()=>E,Xq:()=>P,hl:()=>D,x8:()=>C,QS:()=>w,A0:()=>Z,Er:()=>T,x7:()=>N,xJ:()=>O,dU:()=>A,q$:()=>x,Ux:()=>j,Zp:()=>L,o1:()=>k,oA:()=>R,gP:()=>z,$Y:()=>U,Yj:()=>V,ul:()=>B,ZD:()=>F,Sp:()=>_,HI:()=>H,D5:()=>Q,Ie:()=>G,KA:()=>W,FX:()=>Y,yg:()=>K,Ai:()=>q,NN:()=>$,n5:()=>J,dP:()=>X,Yb:()=>ee});var r=n(40807),i=n(34699),a=n(58641),s=n(7251),o=n(93573),l=n(94207),c=n(79490),d=n(17524),u=n(96840),p=n(28440),m=n(30983),h=n(27082),g=n(84936),y=n(79932);const v="ui/player/playQueue/playNextItem",f="ui/player/playQueue/playPreviousItem",b="ui/player/playQueue/playItemByIndex",I="ui/player/playQueue/playItemByKey",S="ui/player/playQueue/playItemByID",M="ui/player/playQueue/toggleShuffle",E="ui/player/playQueue/setRepeat",P="ui/player/playQueue/toggleRepeat",D="ui/player/playQueue/setAutoPlay",C="ui/player/playQueue/showPostPlay",w="ui/player/playQueue/togglePlayerPlayQueueState",Z="ui/player/playQueue/togglePlayerLyricsState",T="ui/player/playQueue/fetchPlayQueueItemLyrics",N="ui/player/playQueue/movePlayQueueItem",O="ui/player/playQueue/removePlayQueueItem",A="ui/player/playQueue/fetchPlayQueue",x="ui/player/playQueue/savePlayQueueState",j="ui/player/playQueue/removePlayQueueState",L="ui/player/playQueue/restorePlayQueue",k=(0,r.Z)(v),R=(0,r.Z)(f),z=(0,r.Z)(b),U=(0,r.Z)(I),V=((0,r.Z)(S),(0,r.Z)(M)),B=(0,r.Z)(E),F=(0,r.Z)(P),_=(0,r.Z)(D),H=(0,r.Z)(C),Q=(0,r.Z)(w),G=(0,r.Z)(Z),W=(0,r.Z)(T),Y=(0,r.Z)(N),K=(0,r.Z)(O),q=(0,r.Z)(A),$=(0,r.Z)(x),J=(0,r.Z)(j),X=(0,r.Z)(L),ee={[v](e,{playerType:t,isApplicationInitiated:n}){const r=(0,m.F_)(e,t),a=(0,i.Z)(e);(0,o.Z)(r)||(0,h.c9)((()=>{r.get("isPostPlayVisible")&&r.set({isPostPlayVisible:!1}),a.playNextItem(r,n)}))},[f](e,{playerType:t}){const n=(0,m.F_)(e,t),r=(0,i.Z)(e);(0,o.Z)(n)||(0,h.c9)((()=>{n.set({isPostPlayVisible:!1}),n.get("positionSeconds")>c.Nf?(r.seek(n,0),r.play(n)):r.playPreviousItem(n)}))},[b](e,{playerType:t,index:n}){const r=(0,m.F_)(e,t),a=(0,i.Z)(e);(0,h.c9)((()=>{a.playItem(r,n)}))},[I](e,{playerType:t,key:n},r){const i=(0,m.F_)(e,t).get("playQueue").get("playQueueItems"),a=i.find((e=>n===e.get("metadataItem").get("key")));if(a){const e=i.indexOf(a);r(z({playerType:t,index:e}))}else u.Z.warn(`[Player] Unable to play unknown key "${n}"`)},[S](e,{playerType:t,playQueueItemID:n},r){const i=(0,m.F_)(e,t).get("playQueue").get("playQueueItems"),a=i.get(n);if(a){const e=i.indexOf(a);r(z({playerType:t,index:e}))}else u.Z.warn(`[Player] Unable to play unknown PlayQueueItemID "${n}"`)},[M](e,t,n){const{playerType:r}=t,s=(0,m.F_)(e,r),o=s.get("playQueue");(0,h.c9)((()=>{const t=!o.get("playQueueShuffled");o.set("playQueueShuffled",t);const c=t?"shuffle":"unshuffle";(0,a.ZP)(o,{urlPath:c,type:"PUT"}).done((0,l.Z)(s,(()=>{const t=(0,i.Z)(e);n($({playerType:r})),t.refreshRemotePlayQueue(s)}))).fail((0,l.Z)(s,(()=>{o.set("playQueueShuffled",!t)})))}))},[E](e,{playerType:t,repeatAll:n,repeatOne:r},s){const o=(0,m.F_)(e,t),c=o.get("playQueue"),d=(0,i.Z)(e);(0,h.c9)((()=>{d.setRepeat(o,{repeatAll:n||r,repeatOne:r}),(0,a.ZP)(c).done((0,l.Z)(o,(()=>{s($({playerType:t}))}))).fail((0,l.Z)(o,(()=>{c.set({repeatAll:!1,repeatOne:!1}),c.set("repeat",!1)})))}))},[P](e,{playerType:t},n){const r=(0,m.F_)(e,t),i=r.get("repeatAll"),a=r.get("repeatOne");n(B({playerType:t,repeatAll:!i||!a,repeatOne:i&&!a}))},[D](e,{playerType:t,autoPlay:n},r){const a=(0,m.F_)(e,t);(0,i.Z)(e).changeAutoPlay(a,n,r)},[C](e,{playerType:t},n){const r=(0,m.F_)(e,t),a=(0,i.Z)(e),s=r.get("playQueue"),o=(0,m.bG)(r,s.get("currentIndex")),c=o.get("postPlay"),u=s.provider.id,p=()=>{r.set({isSettingsVisible:!1,isChaptersVisible:!1,isPostPlayLoading:!1,isPostPlayVisible:!0}),a.pause(r,!0)};r.set({isPostPlayLoading:!0}),d.wB(u,d.Y3)||o.get("displayPostplay")?c.fetch().then((0,l.Z)(r,(()=>{const e=c.findWhere({upNext:!0});e&&c.remove(e),p()})),(0,l.Z)(r,p)):window.setTimeout((0,l.Z)(r,p),0)},[w](e,{playerType:t}){const n=(0,m.F_)(e,t),r=n.get("isPlayQueueVisible");(0,h.c9)((()=>{n.set((0,s.Z)(n,r,{isSettingsVisible:!1,isChaptersVisible:!1,isPlayQueueVisible:!r,isLyricsVisible:!1,isSubtitlesOffsetSettingsVisible:!1}))}))},[Z](e,{playerType:t}){const n=(0,m.F_)(e,t),r=n.get("isLyricsVisible");(0,h.c9)((()=>{n.set((0,s.Z)(n,r,{isSettingsVisible:!1,isChaptersVisible:!1,isPlayQueueVisible:!1,isLyricsVisible:!r,isSubtitlesOffsetSettingsVisible:!1}))}))},[T](e,t,n){const{streamID:r}=t,i=(0,p.xl)(e,t),a=i.get("metadataItem"),s=(0,p.lp)(e,{providerEntityID:a.get("providerEntityID")});if(!s)return;const o=i.get("lyricsStreams").get(r);o.set("lyricsError",null),o.fetch({merge:!0,server:s}).fail((e=>{o.set("lyricsError",e)}))},[N](e,t,n){const{playerType:r,playQueueItemEntityID:s,moveIndex:o}=t,c=(0,m.F_)(e,r),d=c.get("playQueue"),u=(0,p.xl)(e,{playQueueItemEntityID:s}),y=d.get("playQueueItems"),v=y.indexOf(u);if(v===o||v===o-1)return;const f=o>v?o-1:o,b=o>0?y.at(o-1).id:void 0,I=g.Z.join(["items",u.id,"move"]),S={after:b};(0,h.c9)((()=>{y.remove(u),y.add(u,{at:f}),(0,a.ZP)(d,{urlPath:I,params:S,type:"PUT"}).done((0,l.Z)(c,(()=>{const t=(0,i.Z)(e);n($({playerType:r})),t.refreshRemotePlayQueue(c)}))).fail((0,l.Z)(c,(()=>{y.indexOf(u)===f&&(y.remove(u),y.add(u,{at:v}))})))}))},[O](e,{playerType:t,playQueueItemEntityID:n},r){const s=(0,m.F_)(e,t),o=s.get("playQueue"),c=o.get("playQueueItems"),d=(0,p.xl)(e,{playQueueItemEntityID:n}),u=c.indexOf(d),y=g.Z.join(["items",d.id]);(0,h.c9)((()=>{c.remove(d),(0,a.ZP)(o,{urlPath:y,type:"DELETE"}).done((0,l.Z)(s,(()=>{const n=(0,i.Z)(e);r($({playerType:t})),n.refreshRemotePlayQueue(s)}))).fail((0,l.Z)(s,(()=>{c.add(d,{at:u})})))}))},[A](e,{playerType:t}){const n=(0,m.F_)(e,t).get("playQueue");(0,a.ZP)(n)},[x](e,{playerType:t}){},[j](e){},[L](e,t,n){const{serverEntityID:r,providerEntityID:i,playQueueType:a,playQueueOffset:s,playQueueRepeat:o,playQueueID:l,next:c}=t,d={serverEntityID:r,providerEntityID:i,startOffsetMilliseconds:1e3*s,options:{type:a,playQueueRepeat:o,playQueueID:l,next:c}};n((0,y.tP)(d))}}},70468:(e,t,n)=>{"use strict";n.d(t,{bY:()=>Me,kG:()=>Ee,wy:()=>we,Td:()=>Pe,Mf:()=>De});var r=n(19755),i=n.n(r),a=n(93966),s=n(40807),o=n(47327),l=n(59756),c=n(60316),d=n(45224),u=n(12319);function p(e){let t;if(e.get("indirect")){const n=e.get("Origin");t=n&&n.source}else if(e.get("remoteMedia")){const n=e.get("Media");t=n[0]&&n[0].source}else e.get("source")&&(t=e.get("source"));return t||null}function m(e){const t=p(e);let n,r;if(t){const{serverIdentifier:e,providerIdentifier:i}=(0,c.Z)(t);r=(0,u.Po)({machineIdentifier:e}),n=(0,d.q)({identifier:i,serverEntityID:r})}else r=e.get("serverEntityID"),n=e.get("providerEntityID");return{serverEntityID:r,providerEntityID:n}}var h=n(43520);function g(e,t){if(!e.supports("transientTokenProxy"))return i().Deferred().reject().promise();const n=e.resolveUrl("/security/resources");let r=i().ajax(e.getXHROptions(n,{data:{source:t}})).promise();return r=r.then((t=>new h.Z(t,{parse:!0,server:e}))),r}var y=n(28058),v=n(35589),f=n(62367);var b=n(6272),I=n(28440);function S(e){return e.get("isConnected")||e.testOnlyUntestedConnections()}function M(e,t){return(0,c.Z)(t).isServer?function(e,t){return g(e,t).then((e=>(0,b.Z)(e,!0).testAllConnections()))}(e,t):function(e,t){return g(e,t).then((e=>{const t=function(e){const t=new y.Z({accessToken:e.get("accessToken"),machineIdentifier:v.X});t.addConnection((0,f.Z)());const n=e.get("connections").first();return new d.Z({identifier:e.get("clientIdentifier"),title:e.get("name"),baseURL:n.get("uri")},{server:t})}(e);return t.server.testAllConnections().then((()=>t.populate({merge:!0})))}))}(e,t)}var E=n(90697),P=n(47486),D=n(45399),C=n(22923),w=n(15730),Z=n(96515),T=n(30983),N=n(39957);const O=[(e,t,n)=>{const r=e.get("user").get("experienceSettings").get("reminders").get((0,N.Z)(C.M,w.TONE_MAPPING));if(r&&!(0,Z.Z)(r.get("remindAfter")))return null;const i=(0,T.F_)(e,t).get("playQueue").get("playQueueItems").get(n.playQueueItemID).get("metadataItem"),a=m(i),s=(0,I.SW)(e,a),o=i.get("Media")[n.mediaIndex],l=null==o?void 0:o.Part[n.partIndex];if(!s||!l)return null;const c=s.hasOwnerFeature(D.EQ),d=s.hasOwnerFeature(D.EZ);return!s.get("isFullOwnedServer")||!c||d||!function(e){return Array.isArray(e.Stream)&&e.Stream.some((e=>"smpte2084"===e.colorTrc))}(l)||n.canDisplayHDR||n.isDirectPlay||n.canDirectStreamVideo?null:{type:w.TONE_MAPPING,metricsContext:P.HDR_CONVERSION}}];var A=n(88551),x=n(13469),j=n.n(x),L=n(33232),k=n(73571);var R=n(94207);function z(e){return e>=2e3}function U(e){return z(e.transcodeDecisionCode)?e.transcodeDecisionText:z(e.generalDecisionCode)?e.generalDecisionText:z(e.mdeDecisionCode)?e.mdeDecisionText:e.errorMessage}n(11133);var V=n(76249),B=n(17524),F=n(78831),_=n(46937),H=n(51382),Q=n(64542),G=n(96840),W=n(64335),Y=n(97645),K=n(6731);var q=n(96026),$=n(70515),J=n(99317),X=n(5562),ee=n(91135),te=n(84936),ne=Object.defineProperty,re=Object.prototype.hasOwnProperty,ie=Object.getOwnPropertySymbols,ae=Object.prototype.propertyIsEnumerable,se=(e,t,n)=>t in e?ne(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,oe=(e,t)=>{for(var n in t||(t={}))re.call(t,n)&&se(e,n,t[n]);if(ie)for(var n of ie(t))ae.call(t,n)&&se(e,n,t[n]);return e};function le(e){return"dash"===e||"hls"===e}function ce(e,t){return t.itemProvider||e.provider||t.itemServer||e.server}const de={getPlayerDecision:function(e){return this.resolvePlayerDecision(e).then(null,(t=>t.canDirectPlay&&1001===t.generalDecisionCode?(G.Z.warn("[PDE] Forcing transcode;",t.mdeDecisionText),this.resolvePlayerDecision(oe(oe({},e),{allowDirectPlay:!1}))):t))},resolvePlayerDecision:function(e){j().defaults(e,{offset:0,minVersionForDASH:V.Z.dash,minVersionForStreamingMKV:V.Z.streamingMKV,transcoderOptions:{}});const t={playbackSessionID:e.playbackSessionID||(0,J.Z)(),transcodeSessionID:e.transcodeSessionID||(0,J.Z)(),offset:e.offset};let n=this.populateMedia(t,e);return n=n.then(j().bind((function(){return this.resolveMedia(t,e)}),this)),n=n.then((function(){return i().when(t.url)})),n=n.then((function(e){return t.url=e,t})),n},populateMedia:function(e,t){const n=i().Deferred(),r=j().bind(n.resolve,n,e);return t.requireAnalysis&&function(e){const t=e?j().first(e.get("Media")):null;return!(!t||t.container)}(t.item)?t.item.fetch({scope:"player"}).always(r):j().defer(r),n.promise()},resolveMedia:function(e,t){const n=j().extend({transcodeServer:this.resolveTranscodeServer(t)},t),r=q.Z.getMediaDecision(n);if(n.originalQualityDecisionOptions){const e=q.Z.getMediaDecision(oe(oe({},n),n.originalQualityDecisionOptions));r.canPlayOriginalQuality=e.canDirectPlay||e.canDirectStreamVideo}else r.canPlayOriginalQuality=r.canDirectPlay||r.canDirectStreamVideo;const a=r.media,s=i().Deferred();return j().extend(e,r),a?e.canPlay?"webkit"===a.protocol?(G.Z.warn("[PDE] Webkit videos are not supported"),e.redirect=!0,s.reject(e).promise()):"embed"===a.protocol?(G.Z.warn("[PDE] An embed is required"),e.embed=!0,e.part=j().first(a.Part),s.reject(e).promise()):this.resolvePart(e,t):(G.Z.warn("[PDE] Unable to play item;",e.errorMessage),s.reject(e).promise()):this.resolveUrls(e,t)},resolveTranscodeServer:function(e){const t=e.itemServer||e.item.server,n=e.fallbackServer,r=e.itemProvider||e.item.provider;if(t===n||!n||!n.get("isConnected"))return t;let i;e.type===k.Z.types.VIDEO?i="transcoderVideo":e.type===k.Z.types.MUSIC&&(i="transcoderAudio");const a=!r||B.wB(r.get("identifier"),B.Y3);return i&&!t.get(i)&&n.get(i)&&a?n:t},resolvePart:function(e,t){return t.part?e.part=t.part:t.offset?1===e.media.Part.length?e.part=e.media.Part[0]:(e.part=(0,W.Z)(e.media,t.offset),e.offset=(0,Y.Z)(e.media,e.part,t.offset)):e.part=j().first(e.media.Part),e.part.drm&&(e.drm=e.part.drm,e.certificate=e.part.certificate,(0,G.Z)("[PDE] DRM content decryption module:",e.drm),(0,G.Z)("[PDE] DRM certificate:",e.certificate)),this.resolveUrls(e,t)},resolveUrls:function(e,t){const n=i().Deferred();return this.validateDrmType(e,t)&&this.validatePlayerType(e,t)?(this.validateSidecarSrtSubtitles(e,t)?e.subtitlesUrl=this.resolveSubtitlesUrl(e,t):e.useSidecarSrtSubtitles=!1,this.validateSoftSubtitles(e,t)?e.subtitlesUrl=this.resolveSubtitlesUrl(e,t):e.useSoftSubtitles&&(e.useSoftSubtitles=!1),(0,G.Z)("[PDE] Player decision:",{playerType:e.playerType,protocol:e.protocol,canDirectPlay:e.canDirectPlay}),e.canDirectPlay?e.url=this.resolveDirectPlayUrl(e,t):e.url=this.resolveTranscoderUrl(e,t),e.drm&&(e.license=this.resolveLicenseUrl(e,t)),this.resolveDecision(e,t)):n.reject(e).promise()},validateDrmType:function(e,t){const n=a.DB("appModel").get("drmType"),r={music:ee.j0,video:ee.pX},i=!!e.drm,s=n===(0,_.Z)(e.drm)||n===(0,_.Z)(e.drm,r[t.type]);return i&&!s&&(e.errorCode=(0,H.ZP)(),e.errorMessage=(0,X.Z)("Streaming this media is unsupported.")),!i||s},validatePlayerType:function(e,t){return e.media&&t.type&&t.type!==k.Z.types.PHOTO?e.canDirectPlay?("hls"===e.media.protocol?(e.protocol="hls",e.playerType=t.hasNativeHLS?"html":"flash"):"dash"===e.media.protocol?(e.protocol="dash",e.playerType="html"):(e.protocol="http",e.playerType="flv"===e.media.container?"flash":"html"),!0):this.validatePlayerTranscodeProtocol(e,t):(e.protocol="http",e.playerType="html",!0)},validatePlayerTranscodeProtocol:function(e,t){const n=e.transcodeServer,r=t.transcodeProtocol;let i,a=!0,s=!0,o=!0;if(r&&(a="dash"===r,s="http"===r,o="hls"===r),o&&t.hasNativeHLS)return e.protocol="hls",e.playerType="html",!0;if(s&&t.hasStreamingMKV){if(n.isVersionOrNewer(t.minVersionForStreamingMKV))return e.protocol="http",e.playerType="html",!0;i=t.minVersionForStreamingMKV}if(a&&t.hasDASH){if(n.isVersionOrNewer(t.minVersionForDASH))return e.protocol="dash",e.playerType="html",!0;i=t.minVersionForDASH}return t.type===k.Z.types.MUSIC?(e.protocol="http",e.playerType="html",!0):o&&t.hasFlash?(e.protocol="hls",e.playerType="flash",!0):t.type===k.Z.types.ROM?(e.protocol="parsec",!0):(e.errorMessage=i?(0,X.Z)("Please update Plex Media Server. This feature requires {1} or later.",i):(0,X.Z)("Streaming this media is unsupported."),!1)},validateSidecarSrtSubtitles:function(e,t){return e.useSidecarSrtSubtitles&&!e.canDirectPlay?(G.Z.warn("[PDE] Sidecar SRT is only supported when media is direct play."),!1):e.useSidecarSrtSubtitles},validateSoftSubtitles:function(e,t){return e.useSoftSubtitles&&"html"!==e.playerType?(G.Z.warn("[PDE] Only the HTML player supports soft subtitles"),!1):!e.useSoftSubtitles||e.canDirectPlay||t.allowDirectStreamVideoWithSoftSubtitles?e.useSoftSubtitles:(G.Z.warn("[PDE] Unable to use soft subtitles without direct play"),!1)},resolveDirectPlayUrl:function(e,t){const n=t.item,r=e.part,i={"X-Plex-Session-Identifier":e.playbackSessionID};e.drm&&Object.assign(i,(0,Q.Z)(e.drm));const a=r?r.key:n.get("key"),s={appendHeaders:!0,params:i};return ce(n,t).resolveUrl(a,s)},resolveTranscoderUrl:function(e,t,n){const r=t.item,i=e.media,a=e.part;let s=t.transcoderOptions;j().isFunction(s)&&(s=s(e)),s=j().extend({},e.transcoderQualityOptions,s,{"X-Plex-Session-Identifier":e.playbackSessionID,session:e.transcodeSessionID,protocol:e.protocol,directPlay:e.canDirectPlay?1:0,offlineTranscode:t.offlineTranscode,context:t.context,offset:e.offset?e.offset/1e3:e.offset});const o=t.subtitlesBurnLevel;t.type!==k.Z.types.VIDEO||e.transcodeServer.get("isCloud")||(o===F.Z.NEVER?s.subtitles=e.canDirectPlay?"none":"auto":e.useSoftSubtitles?(s.subtitles=e.canDirectPlay?"sidecar":"auto",o===F.Z.AVOID&&(s.advancedSubtitles="text")):s.subtitles="burn");let l=t.profileExtra;j().isFunction(l)&&(l=l(e)),s["X-Plex-Client-Profile-Extra"]=l;const c=r.get("Media")[0],d=!!c&&"livetv"===c.origin;("hls"===s.protocol&&!t.useOffsetHLS&&!d||"dash"===s.protocol&&!d)&&((0,G.Z)("[PDE] DASH and HLS should seek forward by default, offset=0"),delete s.offset),"hls"===s.protocol&&t.useOffsetHLS&&(e.useOffsetHLS=!0,s.offset&&((0,G.Z)("[PDE] HLS started with an offset, copyts=0"),s.copyts=0)),le(s.protocol)&&d&&(s.copyts=0),"http"===s.protocol&&(s.copyts=d?0:1),"http"!==s.protocol||e.canDirectPlay||(s["X-Plex-Chunked"]=1),t.allowIncompleteSegments&&(s["X-Plex-Incomplete-Segments"]=1),j().each(j().keys(s),(function(e){null==s[e]&&delete s[e]}));const u=t.type,p=t.transcoder,m=e.transcodeServer;if(u===k.Z.types.VIDEO)return p.video(m,r,i,a,s,n);if(u===k.Z.types.MUSIC)return p.music(m,r,s,n);if(u===k.Z.types.PHOTO){s.fallbackServer=t.fallbackServer;const e="photo"===r.get("type")?r.getMediaKey():r.get("thumb");return p.image(m,e,s)}return u===k.Z.types.ROM?p.game(m,r,i,oe(oe({},s),{displayHeight:Math.min(window.screen.height,1080),displayWidth:Math.min(window.screen.width,1920)}),n):void 0},resolveSubtitlesUrl:function(e,t){if(e.useSidecarSrtSubtitles){const n=t.itemProvider||t.item.provider,r=(0,K.Z)(e.media);return n.resolveUrl(r.key,{appendHeaders:!0,appendToken:!0,params:{format:"srt"}})}const n=this.resolveTranscoderUrl(e,t),r=te.Z.parseUrl(n).params,i=e.canDirectPlay?"/subtitles/:/transcode/universal/start":"/video/:/transcode/universal/subtitles";return e.transcodeServer.resolveUrl(i,{params:r})},resolveLicenseUrl:function(e,t){const n=t.item,r={appendHeaders:!0,params:(0,Q.Z)(e.drm)},i=ce(n,t);return(0,G.Z)("[PDE] Resolving DRM license",e.part.license),i.resolveUrl(e.part.license,r)},resolveDecision:function(e,t){const n=e.transcodeServer,r=i().Deferred(),a=n.get("isCloud")||!n.supports("decisionEndpoint"),s=t.type===k.Z.types.PHOTO||t.type===k.Z.types.ROM;if(a||s)return(0,G.Z)("[PDE] Unnecessary for server to resolve decision"),r.resolve(e).promise();const o=j().clone(e);this.validatePlayerTranscodeProtocol(o,t);const l=this.resolveTranscoderUrl(o,t,"decision"),c=i().ajax(n.getXHROptions(l,{timeout:2e3}));return null!=e.offset&&!e.canDirectPlay&&le(e.protocol)&&e.media&&"livetv"===e.media.origin&&(e.offset=0),c.done((function(t){const n=$.Z.parseXML(t);n.generalDecisionCode&&(e.generalDecisionCode=$.Z.parseInteger(n.generalDecisionCode),e.generalDecisionText=n.generalDecisionText),n.mdeDecisionCode&&(e.mdeDecisionCode=$.Z.parseInteger(n.mdeDecisionCode),e.mdeDecisionText=n.mdeDecisionText),n.transcodeDecisionCode&&(e.transcodeDecisionCode=$.Z.parseInteger(n.transcodeDecisionCode),e.transcodeDecisionText=n.transcodeDecisionText),e.abr=$.Z.parseBoolean(n.abr),e.decisionXML=t,U(e)?r.reject(e):r.resolve(e)})),c.fail((function(){G.Z.warn("[PDE] Player decision failed; the transcode server may be a slow or outdated"),r.resolve(e)})),r.promise()}};var ue=n(27082),pe=Object.defineProperty,me=Object.prototype.hasOwnProperty,he=Object.getOwnPropertySymbols,ge=Object.prototype.propertyIsEnumerable,ye=(e,t,n)=>t in e?pe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ve=(e,t)=>{for(var n in t||(t={}))me.call(t,n)&&ye(e,n,t[n]);if(he)for(var n of he(t))ge.call(t,n)&&ye(e,n,t[n]);return e};const fe="ui/player/playerDecision/makeDecision",be="ui/player/playerDecision/makeNextDecision",Ie="ui/player/playerDecision/removeDecision",Se="ui/player/playerDecision/retryDecision",Me=(0,s.Z)(fe),Ee=(0,s.Z)(be),Pe=(0,s.Z)(Ie),De=(0,s.Z)(Se);function Ce(e,t,n){const r=(0,T.F_)(e,t),i=(0,E.Z)(r),a=i.get("metadataItem");if(i.get("playQueueItemID")!==n.playQueueItemID)return;const s={currentDecision:n,availableQualities:n.availableQualities,qualityIndex:n.qualityIndex,mediaIndex:n.mediaIndex,partIndex:n.partIndex,positionSeconds:n.positionSeconds,durationSeconds:n.durationSeconds};null!=r.get("startMetadataItemEntityID")&&r.get("startMetadataItemEntityID")!==a.entityID()||(s.startMetadataItemEntityID=null,s.startOffsetMilliseconds=null,s.startMediaIndex=null);const o=function(e,t,n){if(e.get("user").get("experienceSettings").get("reminders"))for(const r of O){const i=r(e,t,n);if(i)return i}return null}(e,t,n);s.confirmPlayerUpsellPayload=o,s.isPaused=!!o||r.get("isPaused"),r.set(s)}const we={[fe](e,t){const{playerType:n,playQueueItemEntityID:r,mediaIndex:s,partIndex:d,qualityIndex:u,transcodeSessionID:h,options:g={}}=t,y=(0,T.F_)(e,n),v=I.xl(e,{playQueueItemEntityID:r});if(v.get("type")===ee.pV)return;const f=y.get("decisions")[r];if(f)return void Ce(e,n,f);let b,E;const P=v.get("metadataItem");let D,C=function(e,t,n){const r=n.get("metadataItem"),a=I.SW(e,{serverEntityID:t.get("serverEntityID")}),s=m(r),o={serverEntityID:r.get("serverEntityID"),providerEntityID:r.get("providerEntityID")},d=r.get("source"),u=p(r),h=I.SW(e,o),g=u&&I.SW(e,s),y=l.Z.allowTransientProxy&&a.get("isFullOwnedServer")&&a.supports("transientTokenProxy");if(!y&&(d&&!h||u&&!g))return i().Deferred().reject().promise();const v=[];return h?v.push(S(h)):y&&d&&v.push(M(a,d)),d!==u&&(g?v.push(S(g)):y&&u&&v.push(M(a,u))),i().when(...v).then((()=>function(e,t){const n=e.get("user"),r=t&&(0,c.Z)(t);return n.get("providers")&&r&&!r.isServer?n.get("providers").populate().then((e=>{const t=e.findWhere({identifier:r.providerIdentifier});return t&&t.populate()})):i().Deferred().resolve().promise()}(e,u))).then((()=>({serverModel:I.SW(e,o),providerModel:I.js(e,o),mediaServerModel:I.SW(e,s),mediaProviderModel:I.js(e,s)})))}(e,y,v).then((e=>y.get("liveTVSession")?i().Deferred().resolve().promise():(b=e.mediaServerModel,E=e.mediaProviderModel,(0,o.Z)(P,{forceSyncCheckFiles:!0,itemProvider:e.providerModel}))));C=C.then((()=>{const t=null==s?function(e,t){return null==e.get("startMetadataItemEntityID")&&null!=e.get("startMediaIndex")||e.get("startMetadataItemEntityID")===t.entityID()?e.get("startMediaIndex"):null}(y,P):s,n=P.get("Media")[t],r=n&&n.Part[d],i=(0,a.DB)("getDecisionOptions")(P,u,n);return D=ve(ve({transcodeSessionID:h,playbackSessionID:y.get("playbackSessionID"),item:P,offset:(0,A.Z)(y,P),fallbackServer:e.get("primaryServer"),media:n,part:r,itemProvider:E,itemServer:b},i),g),g.offset,de.getPlayerDecision(D)})),C.done((0,R.Z)(y,(t=>{const i=function(e,t){const{type:n,item:r,availableQualities:i,qualityIndex:a}=e,{transcodeServer:s,media:o,part:l}=t,c=r.get("Media"),d=o.Part,u=function(e,t){return j().findIndex(e,(e=>null!=e.id?e.id===t.id:null==e.uuid||e.uuid===t.uuid))}(c,o),p=function(e,t){return j().findIndex(e,(e=>null!=e.id?e.id===t.id:null==e.key||e.key===t.key))}(d,l);let m=[],h=L.Z.ORIGINAL;n===k.Z.types.VIDEO&&(m=i,h=a),t.abr&&(h=L.Z.CONVERT_AUTOMATICALLY);const g={availableQualities:m,qualityIndex:h,mediaIndex:u,partIndex:p,partCount:d.length,url:t.url,subtitlesUrl:t.subtitlesUrl,protocol:t.protocol,isDirectPlay:t.canDirectPlay,useSoftSubtitles:t.useSoftSubtitles,useSidecarSrtSubtitles:t.useSidecarSrtSubtitles,canDirectStreamVideo:t.canDirectStreamVideo,canDirectStreamAudio:t.canDirectStreamAudio,canPlayOriginalQuality:t.canPlayOriginalQuality,positionSeconds:Math.floor(t.offset/1e3),durationSeconds:Math.floor((l.duration||0)/1e3),playbackSessionID:t.playbackSessionID,canDisplayHDR:t.canDisplayHDR,canDisplayDolbyVision:t.canDisplayDolbyVision};return t.canDirectPlay||(g.transcodeSessionID=t.transcodeSessionID),t.drm&&(g.drm=t.drm,g.license=t.license,g.certificate=t.certificate),g.transcodeServerEntityID=s&&s.entityID(),g}(D,t),a=ve(ve({},i),{playQueueItemID:v.get("playQueueItemID")}),s=y.get("decisions");y.set("decisions",ve(ve({},s),{[r]:a})),Ce(e,n,a)}))).fail((0,R.Z)(y,(e=>{let t;b&&E?P.get("isPreFetched")?(P.set({isPreFetched:!1}),t=U(e)):t=(0,X.Z)("Content is unavailable"):t=(0,X.Z)("Source is unavailable"),function(e,t,n,r){const i=e.get("playQueue"),a=i.get("playQueueItems").at(i.get("currentIndex"));t.id===a.id&&e.set({isMediaLoading:!1,hasError:!0,errorCode:r,errorMessage:n})}(y,v,t,e.errorCode)})))},[be](e,{playerType:t},n){const r=(0,T.F_)(e,t),i=r.get("playQueue"),a=i.get("playQueueItems"),s=i.get("currentIndex");let o=r.get("repeatOne")?s:s+1;if(r.get("repeatAll")&&o>a.length-1&&(o=0),o!==s&&o<a.length){const e=a.at(o).entityID();n(Me({playerType:t,playQueueItemEntityID:e}))}},[Ie](e,{playerType:t,playQueueItemEntityID:n}){const r=(0,T.F_)(e,t);(0,ue.c9)((()=>{const e=r.get("decisions"),t=r.get("currentDecision"),i={decisions:ve(ve({},e),{[n]:null})};e[n]===t&&(i.currentDecision=null),r.set(i)}))},[Se](e,t,n){const{playerType:r,decisionOptions:i}=t,a=(0,T.F_)(e,r),s=a.get("playQueue"),o=s.get("playQueueItems"),l=a.get("currentDecision"),c=s.get("currentIndex"),d=o.at(c).entityID();l&&n(Pe({playerType:r,playQueueItemEntityID:d})),n(Me(l?{playerType:r,playQueueItemEntityID:d,mediaIndex:l.mediaIndex,partIndex:l.partIndex,qualityIndex:a.get("qualityIndex"),options:ve({offset:1e3*a.get("positionSeconds")},i)}:{playerType:r,playQueueItemEntityID:d,qualityIndex:a.get("qualityIndex")}))}}},79932:(e,t,n)=>{"use strict";n.d(t,{Rt:()=>_,Bw:()=>Y,qG:()=>W,l5:()=>F,tf:()=>B,Si:()=>H,yt:()=>Q,e4:()=>V,EJ:()=>k,$y:()=>R,xd:()=>z,bj:()=>U,N9:()=>G,xT:()=>ne,lm:()=>ce,Mh:()=>se,gv:()=>me,tP:()=>te,kP:()=>ee,d7:()=>re,Kq:()=>ie,lh:()=>X,Ld:()=>oe,wA:()=>K,EF:()=>q,QR:()=>$,Gh:()=>J,Em:()=>le,Yd:()=>ae});var r=n(19755),i=n.n(r),a=n(93966),s=n(40807),o=n(66464),l=n(238),c=n(21256),d=n(34699),u=n(86526),p=n(95680),m=n(58641),h=n(94207),g=n(88050),y=n(47486),v=n(69605),f=n(59223),b=n(52837),I=n(17524),S=n(96840),M=n(69881);var E=n(28440),P=n(30983),D=n(27082),C=n(5562),w=n(84936),Z=n(35421),T=Object.defineProperty,N=Object.prototype.hasOwnProperty,O=Object.getOwnPropertySymbols,A=Object.prototype.propertyIsEnumerable,x=(e,t,n)=>t in e?T(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,j=(e,t)=>{for(var n in t||(t={}))N.call(t,n)&&x(e,n,t[n]);if(O)for(var n of O(t))A.call(t,n)&&x(e,n,t[n]);return e},L=(e,t)=>{var n={};for(var r in e)N.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&O)for(var r of O(e))t.indexOf(r)<0&&A.call(e,r)&&(n[r]=e[r]);return n};const k="ui/player/playerLifecycle/startPlayback",R="ui/player/playerLifecycle/startPrimaryExtraPlayback",z="ui/player/playerLifecycle/startRadioPlayback",U="ui/player/playerLifecycle/startRelatedMixPlayback",V="ui/player/playerLifecycle/startExistingPlayQueuePlayback",B="ui/player/playerLifecycle/queueRelatedMixPlayback",F="ui/player/playerLifecycle/queuePlayback",_="ui/player/playerControls/clearPlayerConfirmPlaybackPayload",H="ui/player/playerControls/resetAndClosePlayer",Q="ui/player/playerControls/setMetricsPlayer",G="ui/player/playerLifecycle/updateCurrentAd",W="ui/player/playerLifecycle/endPlayback",Y="ui/player/playerLifecycle/dismissPlayerUpsell",K=(0,s.Z)(k),q=(0,s.Z)(R),$=(0,s.Z)(z),J=(0,s.Z)(U),X=(0,s.Z)(V),ee=(0,s.Z)(B),te=(0,s.Z)(F),ne=(0,s.Z)(_),re=(0,s.Z)(H),ie=(0,s.Z)(Q),ae=(0,s.Z)(G),se=(0,s.Z)(W),oe=(0,s.Z)(k,((e={})=>{var t=e,{options:n={}}=t,r=L(t,["options"]);return j(j({},r),{metricsAction:g.Rn,options:j(j({},n),{playAll:!0})})})),le=(0,s.Z)(k,((e={})=>{var t=e,{options:n={}}=t,r=L(t,["options"]);return j(j({},r),{metricsAction:g.cO,options:j(j({},n),{shuffle:!0})})})),ce=(0,s.Z)(Y);let de;function ue(e){return e.get("related").findWhere({browse:!1}).get("metadataList")}function pe(e,t,n){return(...r)=>{if(t.get("isOpen")&&e===de)return n(...r);S.Z.warn("[Player] Player was closed or a new playback session was started; ignoring playback request")}}const me={[k](e,t,n){const{metadataItemEntityID:r,liveTVSessionEntityID:i,syncplaySessionRoomID:s,confirmPlayback:p,confirmOffset:m,confirmAdvertisingNotice:h,startOffsetMilliseconds:y=null,startMediaIndex:v=null,openState:S=f.K,isPaused:w=!1,isWatchTogetherLobbyVisible:Z=!1,extrasPrefixCount:T,playbackStartTime:N=Date.now(),metricsPage:O,metricsProperties:A={}}=t,x=(0,u.Z)(e,t),L=(0,c.Z)(x),k=b.f_(L),R=(0,P.F_)(e,k),z=R.get("playQueue"),U=x.metadataItemModel,V=(0,a.DB)("appModel").get("user"),B=x.serverModel?x.serverModel.entityID():t.serverEntityID,F=x.providerModel?x.providerModel.entityID():t.providerEntityID;if(z&&U&&z.get("playQueueSelectedMetadataItemID")===U.get("ratingKey"))return;if(!p&&z&&z.get("playQueueVersion")>1)return void R.set("confirmPlaybackPayload",t);const _={serverEntityID:B,providerEntityID:F,syncplaySessionRoomID:s,isOpen:!0,openState:S,isPlayQueueLoading:!0,isMediaLoading:!0,isPaused:w,isWatchTogetherLobbyVisible:Z,startOffsetMilliseconds:y,startMediaIndex:v,playbackStartTime:N,metricsPage:O,metricsSetting:A.setting,metricsContextTuple:A.contextTuple};if(i&&(_.liveTVSession=E._s(e,{liveTVSessionEntityID:i})),U&&function(e){const t=e.get("type"),n="channelDirectory"===t||(0,M.isDirectoryType)(t)||e.get("isFolder");return void 0===e.length&&!n}(U)&&(_.startMetadataItemEntityID=r),!h&&U&&U.get("requiresConsent")&&V.get("isFullUser")&&(!V.get("adsConsentSetAt")||V.get("adsConsentReminderAt")<Date.now()/1e3)?_.advertisingNoticePayload=t:!m&&U&&U.get("viewOffset")&&(_.confirmOffsetPayload=t),(0,D.c9)((()=>{R.restoreDefaults(_)})),_.advertisingNoticePayload||_.confirmOffsetPayload)return;const H=!(y||!U||U.get("type")!==M.MOVIE),Q=I.wB(x.providerModel.get("identifier"),I.vP),G=(0,o.Z)(j(j({},x),{skipSiblings:Q,extrasPrefixCount:H?T:void 0,playQueueModel:(0,l.Z)(j(j({},x),{playQueueType:L}))}));de=G,G.done(pe(G,R,(t=>{R.set({isPlayQueueLoading:!1,playQueue:t}),(0,d.Z)(e).startPlayback(R)}))).fail(pe(G,R,(()=>{R.restoreDefaults({hasError:!0,errorMessage:(0,C.Z)("An error occurred loading items to play.")})}))),t.skipClickMetrics||(0,a.DB)("metrics").trackClick(j({page:t.metricsPage,action:t.metricsAction||g.NH,type:L},A))},[R](e,t,n){const r=t.options||{},i=E.$R(e,t);n(K(j(j({},t),{metadataItemEntityID:null,metricsAction:g.$W,options:j(j({},r),{metadataItemKey:i.get("primaryExtraKey"),type:"video"})})))},[U](e,t,n){const r=t.options||{},i=E.$R(e,t),a=ue(i);n(K({serverEntityID:t.serverEntityID,providerEntityID:t.providerEntityID,metadataItemEntityID:t.metadataItemEntityID,metricsAction:g.b8,skipClickMetrics:t.skipClickMetrics,options:j(j({},r),{type:(0,c.Z)({metadataItemModel:i}),containerKey:a.get("containerKey")})}))},[z](e,t,n){const{playlistType:r}=t,i=E.$R(e,t).get("stations");if(!i.length)return;const a=i.findWhere({playlistType:r});n(K({metricsAction:g.b8,serverEntityID:t.serverEntityID,providerEntityID:t.providerEntityID,metadataItemEntityID:a.entityID(),skipClickMetrics:t.skipClickMetrics,options:{type:(0,c.Z)({metadataItemModel:a})}}))},[V](e,t){const{serverEntityID:n,providerEntityID:r,playQueueType:i,playQueueID:a,startOffsetMilliseconds:s=null,startMediaIndex:o=null,playbackStartTime:c=Date.now()}=t,d=E.SW(e,t),u=b.f_(i),h=E.js(e,t),g=(0,P.F_)(e,u),I=(0,l.Z)({providerModel:h,playQueueID:a,playQueueType:i}),S={serverEntityID:n,providerEntityID:r,isOpen:!0,openState:f.K,isPlayQueueLoading:!0,isMediaLoading:!0,startOffsetMilliseconds:s,startMediaIndex:o,playbackStartTime:c};return d===e.get("transientServer")&&(S.metricsPage=v.sD,S.metricsContextTuple=[y.COMPANION]),g.set(S),(0,m.ZP)(I).done((()=>{g.set({playQueue:I,isPlayQueueLoading:!1}),p.startPlayback(g)})).fail((()=>{g.restoreDefaults({hasError:!0,errorMessage:(0,C.Z)("An error occurred loading items to play.")})}))},[B](e,t,n){const r=E.$R(e,t),i=ue(r);n(te({serverEntityID:t.serverEntityID,providerEntityID:t.providerEntityID,metadataItemEntityID:t.metadataItemEntityID,metricsPage:t.metricsPage,metricsAction:g.AV,listType:(0,c.Z)({metadataItemModel:r}),options:{next:!0,containerKey:w.Z.join(i.get("containerKey"),{excludeSeedItem:1})}}))},[F](e,t,n){const{startOffsetMilliseconds:r=null,openState:i=f.K}=t,s=(0,u.Z)(e,t),p=(0,c.Z)(s),y=b.f_(p),v=(0,P.F_)(e,y),I=!!s.playQueueID,S=s.serverModel?s.serverModel.entityID():t.serverEntityID,M=s.providerModel?s.providerModel.entityID():t.providerEntityID;let w=v.get("playQueue"),T=!1;if(w&&v.get("providerEntityID")){const t=E.js(e,{providerEntityID:v.get("providerEntityID")}),n=v.get("providerEntityID")===M,r=w.get("isUniversal"),i=t.server.get("isFullOwnedServer");T=n||r&&i}if(T)(0,o.Z)(j(j({},s),{playQueueModel:w})).done((0,h.Z)(v,(()=>{(0,d.Z)(e).refreshRemotePlayQueue(v)}))).fail((0,h.Z)(v,(()=>{v.set({hasError:!0,errorMessage:(0,C.Z)("An error occurred loading items into the play queue.")})})));else{(0,D.c9)((()=>{v.restoreDefaults({serverEntityID:S,providerEntityID:M,isOpen:!0,openState:i,isPlayQueueLoading:!0,isMediaLoading:!0,isPaused:!s.next,repeatAll:!!s.playQueueRepeat,startOffsetMilliseconds:r,playbackStartTime:s.playbackStartTime?s.playbackStartTime:Date.now()})})),w=(0,l.Z)(j(j({},s),{playQueueType:p}));const t=I?(0,m.ZP)(w):(0,o.Z)(j(j({},s),{next:!1,playQueueModel:w}));de=t,t.done(pe(t,v,(t=>{v.set({isPlayQueueLoading:!1,playQueue:t}),(0,d.Z)(e).startPlayback(v,I)}))).fail(pe(t,v,(()=>{n((0,Z.n5)()),I?v.restoreDefaults():v.restoreDefaults({hasError:!0,errorMessage:(0,C.Z)("An error occurred loading items to play.")})})))}const N=s.next?g.pe:g.PR,O=t.metricsProperties||{};t.skipClickMetrics||(0,a.DB)("metrics").trackClick(j({page:t.metricsPage,action:t.metricsAction||N,type:p},O))},[_](e,{playerType:t,openState:n}){const r=(0,P.F_)(e,t);(0,D.c9)((()=>{r.set("confirmPlaybackPayload",null)}))},[H](e,{playerType:t,openState:n}){const r=(0,P.F_)(e,t);(0,D.c9)((()=>{r.restoreDefaults()}))},[Q](e,{playerType:t,metricsPlayer:n}){const r=(0,P.F_)(e,t);(0,D.c9)((()=>{r.set({metricsPlayer:n})}))},[G](e,{adDisplayIndex:t,adDisplayTotal:n,adDurationSeconds:r,adPositionSeconds:i,adState:a,adTimeOffsetSeconds:s,playerType:o}){(0,P.F_)(e,o).set({adDisplayIndex:t,adDisplayTotal:n,adDurationSeconds:r,adPositionSeconds:i,adState:a,adTimeOffsetSeconds:s})},[W](e,{playerType:t,isForced:n},r){const a=(0,P.F_)(e,t),s=a.get("liveTVSession"),o=a.get("serverEntityID"),l=E.SW(e,{serverEntityID:o}),c=(0,d.Z)(e);if((0,D.c9)((()=>{n||r((0,Z.n5)()),c.endPlayback(a)})),s&&!l.get("isCloud")){const e=w.Z.join(["/media/subscriptions",s.id]);i().ajax(s.server.getXHROptions(e,{method:"DELETE"}))}},[Y](e,{playerType:t}){(0,P.F_)(e,t).set({confirmPlayerUpsellPayload:null})}}},12304:(e,t,n)=>{"use strict";n.d(t,{VR:()=>Ce,RB:()=>Te,tG:()=>ve,ft:()=>be,Sq:()=>Ie,zV:()=>Se,nB:()=>Me,R1:()=>ye,BB:()=>ce,ec:()=>pt,wv:()=>st,mj:()=>ot,EZ:()=>lt,Kb:()=>ut,Wj:()=>ct,YA:()=>dt,v6:()=>tt,iu:()=>We,wO:()=>vt,hY:()=>yt,ek:()=>Mt,km:()=>gt,O7:()=>qe,$E:()=>Be,Pn:()=>mt,ZI:()=>ht,QJ:()=>$e,wW:()=>Je,Hn:()=>Xe,oX:()=>et,fp:()=>Ye,ID:()=>Ke,Y5:()=>rt,z5:()=>nt,PR:()=>it,$m:()=>at,qo:()=>ft,mh:()=>It,bb:()=>bt,n9:()=>Qe,qr:()=>Fe,IE:()=>Ge,lj:()=>_e,uZ:()=>He});var r=n(19755),i=n.n(r),a=n(13469),s=n.n(a),o=n(59756),l=n(40807),c=n(4920),d=Object.defineProperty,u=Object.prototype.hasOwnProperty,p=Object.getOwnPropertySymbols,m=Object.prototype.propertyIsEnumerable,h=(e,t,n)=>t in e?d(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,g=(e,t)=>{for(var n in t||(t={}))u.call(t,n)&&h(e,n,t[n]);if(p)for(var n of p(t))m.call(t,n)&&h(e,n,t[n]);return e},y=n(90697);function v(e){const t=(0,y.Z)(e),n=e.get("currentDecision");if(t&&n)return n.playQueueItemID===t.get("playQueueItemID")?n:void 0}var f=n(34699),b=n(79490),I=n(18305),S=n(84936);const M=function(e,t){const n=S.Z.parseUrl(e),{origin:r,pathname:i,params:a}=n;return a.offset=t,S.Z.join([r,i],a)};var E=n(11133),P=n(96840),D=n(58641),C=n(56442),w=n(17626),Z=n(67006),T=n(17524),N=n(18206),O=n(99862),A=n(67124),x=n(25474),j=n(2200),L=Object.defineProperty,k=Object.prototype.hasOwnProperty,R=Object.getOwnPropertySymbols,z=Object.prototype.propertyIsEnumerable,U=(e,t,n)=>t in e?L(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;function V(e){return{startedAt:(0,A.Z)(e.timeStamp),seekStartSeconds:(0,A.Z)(e.minOffsetAvailable),seekEndSeconds:(0,A.Z)(e.maxOffsetAvailable)}}var B=n(7251),F=n(93573),_=n(94207),H=n(11203),Q=n(32901),G=n(84642),W=n(56669),Y=n(28440),K=n(30983),q=n(27082),$=n(5562),J=n(73004),X=n(33295),ee=n(35421),te=Object.defineProperty,ne=Object.prototype.hasOwnProperty,re=Object.getOwnPropertySymbols,ie=Object.prototype.propertyIsEnumerable,ae=(e,t,n)=>t in e?te(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,se=(e,t)=>{for(var n in t||(t={}))ne.call(t,n)&&ae(e,n,t[n]);if(re)for(var n of re(t))ie.call(t,n)&&ae(e,n,t[n]);return e};const oe="ui/player/playerMedia/sendTimeline",le="ui/player/playerMedia/updatePlayerDuration",ce="ui/player/playerMedia/updatePlayerPosition",de="ui/player/playerMedia/updatePlayerSeekRange",ue="ui/player/playerMedia/updatePlayerBuffering",pe="ui/player/playerMedia/updatePlayerLoading",me="ui/player/playerMedia/updatePlayerError",he="ui/player/playerMedia/clearPlayerError",ge="ui/player/playerMedia/tickPlayer",ye="ui/player/playerMedia/togglePlayPause",ve="ui/player/playerMedia/seek",fe="ui/player/playerMedia/transcodeSeek",be="ui/player/playerMedia/skipBack",Ie="ui/player/playerMedia/skipForward",Se="ui/player/playerMedia/stepBack",Me="ui/player/playerMedia/stepForward",Ee="ui/player/playerMedia/changeVolume",Pe="ui/player/playerSettings/togglePlayerSettingsState",De="ui/player/playerSettings/togglePlayerChaptersState",Ce="ui/player/playerSettings/changeQualityIndex",we="ui/player/playerSettings/togglePlayerSubtitlesOffsetState",Ze="ui/player/playerSettings/togglePlayerWatchTogetherParticipantsState",Te="ui/player/playerSettings/changeStream",Ne="ui/player/playerSettings/changeSubtitleColor",Oe="ui/player/playerSettings/changeSubtitlePosition",Ae="ui/player/playerSettings/changeSubtitleSize",xe="ui/player/playerSettings/changeSubtitleOffset",je="ui/player/playerMedia/changePlaybackSpeed",Le="ui/player/playerMedia/setItemPlaybackTime",ke="ui/player/playerMedia/setSessionPlaybackTime",Re="ui/player/playerMedia/refreshStreams",ze="ui/player/playerMedia/updateBufferedRanges",Ue="ui/player/playerMedia/updateMediaDimensions",Ve="ui/player/playerMedia/updateCanPlayThrough",Be=(0,l.Z)(oe),Fe=(0,l.Z)(le),_e=(0,l.Z)(ce),He=(0,l.Z)(de),Qe=(0,l.Z)(ue),Ge=((0,l.Z)(pe),(0,l.Z)(me)),We=(0,l.Z)(he),Ye=(0,l.Z)(ge),Ke=(0,l.Z)(ye),qe=(0,l.Z)(ve),$e=((0,l.Z)(fe),(0,l.Z)(be)),Je=(0,l.Z)(Ie),Xe=(0,l.Z)(Se),et=(0,l.Z)(Me),tt=(0,l.Z)(Ee),nt=(0,l.Z)(Pe),rt=(0,l.Z)(De),it=(0,l.Z)(we),at=(0,l.Z)(Ze),st=(0,l.Z)(Ce),ot=(0,l.Z)(Te),lt=(0,l.Z)(Ne),ct=(0,l.Z)(Oe),dt=(0,l.Z)(Ae),ut=(0,l.Z)(xe),pt=(0,l.Z)(je),mt=(0,l.Z)(Le),ht=(0,l.Z)(ke),gt=(0,l.Z)(Re),yt=(0,l.Z)(ye,(e=>se(se({},e),{shouldPlay:!0}))),vt=(0,l.Z)(ye,(e=>se(se({},e),{shouldPause:!0}))),ft=((0,l.Z)(Ee,(e=>se(se({},e),{delta:5}))),(0,l.Z)(Ee,(e=>se(se({},e),{delta:-5}))),(0,l.Z)(ze)),bt=(0,l.Z)(Ue),It=(0,l.Z)(Ve);function St(e,t,n){return Math.max(0,Math.min(t-b.uS,e+n))}const Mt={[oe](e,t,n){var r;const{playerType:a,providerEntityID:o,mediaItemID:l,shouldRefreshPlayQueue:c,options:d={}}=t,u=(0,K.F_)(e,a),p=Y.js(e,{providerEntityID:o}),m=Y.xl(e,t),h=Y.$R(e,t);if(!h&&T.wB(p.get("identifier"),[T.Ll,T.vP]))return;const g=m.get("isLocal")?void 0:m.get("playQueueItemID"),y=null==(r=Y.VZ(e,t))?void 0:r.get("grabOperation").get("metadataItem");(function(e,t,n){const{playQueueItemID:r,mediaItemID:a,mediaIndex:o,partIndex:l,partCount:c,state:d,continuing:u,playbackTime:p,positionSeconds:m,durationSeconds:h,metricsContextTuple:g,ratingKey:y,key:v}=n,f=e.get("features").get(Z.jN);if(!f)return i().Deferred().reject().promise();const b=((e,t)=>{for(var n in t||(t={}))k.call(t,n)&&U(e,n,t[n]);if(R)for(var n of R(t))z.call(t,n)&&U(e,n,t[n]);return e})({ratingKey:y||t.get("ratingKey"),key:v||t.get("key"),playbackTime:p,playQueueItemID:r,state:d,hasMDE:1},g?(0,j.IF)(g):void 0);if(d===w.il&&u&&(b.continuing=1),T.wB(e.get("identifier"),[T.Ll,T.vP])&&(b.airingID=a),null!=h){const e=1e3*m,n=1e3*h;if(c>1){const n=t.get("Media")[o],r=n.Part[l];b.time=(0,N.Z)(n,r,e),b.duration=n.duration}else b.time=e,b.duration=n;b.duration=Math.max(b.time,b.duration)}(0,P.Z)("[Player] Timeline, %s",b);const I=S.Z.join(f.get("key"),b),M=t.provider.getXHROptions(I,{headers:{accept:C.Ls.accept,"X-Plex-Session-Identifier":n.playbackSessionID}});return i().ajax(M).promise().then((e=>{const n=(0,x.Z)(e);return n.terminationCode&&(n.terminationCode=(0,A.Z)(n.terminationCode)),n.generalDecisionCode&&(n.generalDecisionCode=(0,A.Z)(n.generalDecisionCode)),n.mdeDecisionCode&&(n.mdeDecisionCode=(0,A.Z)(n.mdeDecisionCode)),n.transcodeDecisionCode&&(n.transcodeDecisionCode=(0,A.Z)(n.transcodeDecisionCode)),n.Bandwidths&&n.TranscodeSession&&(n.bandwidthTimeline={bandwidths:(0,O.Z)(n.Bandwidths.Bandwidth),transcodeSessionID:s().last(n.TranscodeSession.key.split("/"))}),n.CaptureBuffer&&n.CaptureBuffer.TranscodeSession&&(n.captureBuffer=V(n.CaptureBuffer.TranscodeSession)),n.TranscodeSession&&(n.transcodeSession=V(n.TranscodeSession)),b.time>6e4&&("progress"===n.playbackState?t.set("viewOffset",b.time):"complete"===n.playbackState&&t.set({viewOffset:0,viewCount:1})),n}))})(p,h,se({state:(0,I.Z)(u),playbackSessionID:u.get("playbackSessionID"),playQueueItemID:g,mediaItemID:l,metricsContextTuple:u.get("metricsContextTuple"),key:null==y?void 0:y.get("key"),ratingKey:null==y?void 0:y.get("ratingKey")},d)).done((0,_.Z)(u,(e=>{n((0,ee.NN)({playerType:a}));const{bandwidthTimeline:t,captureBuffer:r,transcodeSession:i}=e;u.set("bandwidthTimeline",t);const s=u.get("liveTVSession");i?(n(He({playerType:a,seekStartSeconds:i.seekStartSeconds,seekEndSeconds:i.seekEndSeconds})),s&&i.startedAt&&s.set({startedAt:i.startedAt,captureBuffer:r})):r&&(n(He({playerType:a,seekStartSeconds:r.seekStartSeconds,seekEndSeconds:r.seekEndSeconds})),s&&r.startedAt&&s.set({startedAt:r.startedAt}));const o=u.get("playQueue");c&&o.get("playQueueSelectedItemID")===m.get("playQueueItemID")&&(0,D.ZP)(o).done((0,_.Z)(u,(()=>{n((0,ee.NN)({playerType:a}))}))),e.terminationCode&&(n((0,ee.n5)()),u.restoreDefaults({hasError:!0,errorMessage:e.terminationText}))})))},[le](e,{playerType:t,durationMilliseconds:n}){const r=(0,K.F_)(e,t),i=(0,y.Z)(r).get("metadataItem"),a=v(r);if(!a)return;const s=i.get("Media")[a.mediaIndex],o=(0,G.Z)(s),l=!!o&&"vbr"===o.bitrateMode,c=n>0&&!l?n:s.duration;r.set({isMediaLoading:!1,durationSeconds:Math.floor((c||0)/1e3)})},[ce](e,{playerType:t,positionSeconds:n}){const r=(0,K.F_)(e,t);(0,q.c9)((()=>{const e={positionSeconds:n},t=r.get("lastSeekPositionSeconds");null!==t&&n>t&&(e.lastSeekPositionSeconds=null),r.set(e)}))},[de](e,{playerType:t,seekStartSeconds:n,seekEndSeconds:r}){(0,K.F_)(e,t).set({seekStartSeconds:n,seekEndSeconds:r})},[ue](e,{playerType:t,isBuffering:n}){(0,K.F_)(e,t).set({isBuffering:n})},[pe](e,{playerType:t,isMediaLoading:n}){(0,K.F_)(e,t).set({isMediaLoading:n})},[me](e,t){(0,K.F_)(e,t.playerType).set({isMediaLoading:!1,hasError:!0,errorMessage:t.errorMessage,errorCode:t.errorCode,errorCategory:t.errorCategory})},[he](e,{playerType:t}){const n=(0,K.F_)(e,t);(0,q.c9)((()=>{n.set({hasError:!1,errorMessage:null,errorCode:null,errorCategory:null})}))},[ge](e,t,n){const{metadataItemEntityID:r,liveTVSessionEntityID:a,mediaItemID:s,playerType:o,secondsElapsed:l}=t,c=(0,K.F_)(e,o),d=c.get("playQueue"),u=v(c);if(!u)return;const p=c.get("isPaused"),m=l%30==0;if(l%10==0){const e=d.get("playQueueSelectedItemID"),t=d.get("playQueueItems").get(e);n(Be({playerType:o,providerEntityID:c.get("providerEntityID"),playQueueItemEntityID:t.entityID(),metadataItemEntityID:r,liveTVSessionEntityID:a,mediaItemID:s,options:{playbackTime:c.get("itemPlaybackTime"),positionSeconds:c.get("positionSeconds"),durationSeconds:c.get("durationSeconds"),mediaIndex:u.mediaIndex,partIndex:u.partIndex,partCount:u.partCount}}))}if(m&&p&&u.transcodeSessionID){const t=u.transcodeServerEntityID;!function(e,t){(0,E.Z)(t,"A transcoder ping requires a session identifier"),(0,P.Z)("[Player] Transcoder Ping, %s",t);const n=`/video/:/transcode/universal/ping?session=${t}`;i().ajax(e.getXHROptions(n)).promise()}(Y.SW(e,{serverEntityID:t}),u.transcodeSessionID)}},[ye](e,{playerType:t,shouldPlay:n,shouldPause:r,isApplicationInitiated:i},a){const s=(0,K.F_)(e,t),o=s.get("isPaused"),l=(0,f.Z)(e),c="play",d="pause";let u;i||o||!(0,F.Z)(s)?s.get("isPostPlayVisible")?(0,q.c9)((()=>{s.set({isPostPlayVisible:!1}),l.playNextItem(s,!0)})):(u=n?c:r?d:o?c:d,o&&u===d||!o&&u===c||(0,q.c9)((()=>{l[u](s,i)}))):a((0,Q.wp)((0,$.Z)("Pausing is not enabled on this channel")))},[ve](e,{playerType:t,positionSeconds:n}){const r=(0,K.F_)(e,t),i=(0,f.Z)(e);(0,F.Z)(r)||(0,q.c9)((()=>{i.seek(r,n)}))},[fe](e,{playerType:t,positionSeconds:n}){const r=(0,K.F_)(e,t),i=v(r);if(!i)return;const a=(0,y.Z)(r).entityID(),s=r.get("liveTVSession");let o=n;if(s){const e=s.get("captureBuffer"),t=s.get("startedAt");o+=t-e.startedAt,s.set({startedAt:t+n})}const l=se(se({},i),{url:M(i.url,o)});r.set({currentDecision:l,decisions:se(se({},r.get("decisions")),{[a]:l})})},[be](e,{playerType:t,allowDebounce:n=!0}){const r=(0,K.F_)(e,t);if((0,F.Z)(r))return;const i=(0,f.Z)(e),a=n?o.Z.seekDebounceMilliseconds:null,s=St(r.get("nextPositionSeconds")||r.get("positionSeconds"),r.get("durationSeconds"),-b.jV);(0,q.c9)((()=>{i.seek(r,s,a)}))},[Ie](e,{playerType:t,allowDebounce:n=!0}){const r=(0,K.F_)(e,t);if((0,F.Z)(r))return;const i=(0,f.Z)(e),a=r.get("positionSeconds"),s=r.get("nextPositionSeconds"),l=r.get("durationSeconds"),c=n?o.Z.seekDebounceMilliseconds:null;if(l-a>b.uS){const e=St(s||a,l,b.Jj);(0,q.c9)((()=>{i.seek(r,e,c)}))}},[Se](e,{playerType:t}){const n=(0,K.F_)(e,t),r=(0,y.Z)(n).get("metadataItem");if((0,F.Z)(n))return;const i=(0,f.Z)(e),a=r.get("chapters"),s=n.get("positionSeconds"),o=n.get("nextPositionSeconds"),l=n.get("durationSeconds");let c;c=a&&a.length?function(e,t){if(e&&e.length){for(let n=e.length-1;n>=0;n--){const r=e.at(n),i=Math.ceil(r.get("startTimeOffset")/1e3);if(i<t-b.Nf)return i}return 0}}(a,o||s):St(o||s,l,-b.qB),(0,q.c9)((()=>{i.seek(n,c)}))},[Me](e,{playerType:t}){const n=(0,K.F_)(e,t),r=(0,y.Z)(n).get("metadataItem");if((0,F.Z)(n))return;const i=(0,f.Z)(e),a=r.get("chapters"),s=n.get("positionSeconds"),o=n.get("nextPositionSeconds"),l=n.get("durationSeconds");let c;a&&a.length?c=function(e,t){if(e&&e.length)for(let n=0;n<e.length;n++){const r=e.at(n),i=Math.ceil(r.get("startTimeOffset")/1e3);if(i>t)return i}}(a,s):l-(o||s)>b.uS&&(c=St(o||s,l,b._V)),null!=c&&(0,q.c9)((()=>{i.seek(n,c)}))},[Ee](e,{playerType:t,volume:n,delta:r},i){const a=function(e){const t=e.get("remotePlayer");return t?t.get("volume"):(0,W.Z)(e)}(e);let s=r?a+r:n;if(s=Math.max(0,Math.min(100,s)),s===a)return;const o=(0,K.F_)(e,t),l=(0,f.Z)(e);(0,q.c9)((()=>{l.changeVolume(o,s,i)}))},[Pe](e,{playerType:t}){const n=(0,K.F_)(e,t),r=n.get("isSettingsVisible");(0,q.c9)((()=>{n.set((0,B.Z)(n,r,{isSettingsVisible:!r,isChaptersVisible:!1,isPlayQueueVisible:!1,isLyricsVisible:!1,isSubtitlesOffsetSettingsVisible:!1,isWatchTogetherParticipantsVisible:!1}))}))},[De](e,{playerType:t}){const n=(0,K.F_)(e,t),r=n.get("isChaptersVisible");(0,q.c9)((()=>{n.set((0,B.Z)(n,r,{isSettingsVisible:!1,isChaptersVisible:!r,isPlayQueueVisible:!1,isLyricsVisible:!1,isSubtitlesOffsetSettingsVisible:!1,isWatchTogetherParticipantsVisible:!1}))}))},[we](e,{playerType:t}){const n=(0,K.F_)(e,t),r=n.get("isSubtitlesOffsetSettingsVisible");(0,q.c9)((()=>{n.set((0,B.Z)(n,r,{isSettingsVisible:!1,isChaptersVisible:!1,isPlayQueueVisible:!1,isLyricsVisible:!1,isSubtitlesOffsetSettingsVisible:!r,isWatchTogetherParticipantsVisible:!1}))}))},[Ze](e,{playerType:t}){const n=(0,K.F_)(e,t),r=n.get("isWatchTogetherParticipantsVisible");(0,q.c9)((()=>{n.set((0,B.Z)(n,r,{isSettingsVisible:!1,isChaptersVisible:!1,isPlayQueueVisible:!1,isLyricsVisible:!1,isWatchTogetherParticipantsVisible:!r}))}))},[Ce](e,{playerType:t,qualityIndex:n}){const r=(0,K.F_)(e,t);(0,f.Z)(e).changeQualityIndex(r,n)},[Te](e,t,n){const{playerType:r,streamTypeString:i,streamID:a}=t,s=e.get("remotePlayer"),o=(0,K.F_)(e,r),l=(0,y.Z)(o).get("metadataItem"),c=(0,f.Z)(e);n((0,H.Bs)({metadataItemEntityID:l.entityID(),mediaIndex:o.get("mediaIndex"),streamTypeString:i,streamID:a,updateLocalOnly:!!s,allParts:o.get("partIndex")>0})),c.changeStream(o,i,a)},[Ne](e,{playerType:t,subtitleColor:n},r){const i=(0,K.F_)(e,t);(0,f.Z)(e).changeSubtitleColor(i,n,r)},[Oe](e,{playerType:t,subtitlePosition:n},r){const i=(0,K.F_)(e,t);(0,f.Z)(e).changeSubtitlePosition(i,n,r)},[Ae](e,{playerType:t,subtitleSize:n},r){const i=(0,K.F_)(e,t);(0,f.Z)(e).changeSubtitleSize(i,n,r)},[xe](e,t,n){const{playerType:r,subtitleOffset:a,localUpdateOnly:s}=t,o=(0,f.Z)(e),l=(0,K.F_)(e,r),d=l.get("mediaIndex")||0,u=l.get("partIndex")||0,p=(0,y.Z)(l).get("metadataItem"),m=p.get("Media"),h=m[d],v=h.Part[u],b=J.Z.get("subtitles").id,I=v.Stream.find((e=>e.streamType===b&&e.selected)),M=function(e,t,n,r,i){const a=g(g({},r),{offset:i}),s=(0,c.Z)(n.Stream,r,a),o=g(g({},n),{Stream:s}),l=g(g({},t),{Part:(0,c.Z)(t.Part,n,o)});return(0,c.Z)(e,t,l)}(m,h,v,I,a);if(p.set({Media:M}),s)return;const E={offset:a};let P=I.key;T.wB(p.provider.get("identifier"),T.uk)&&(P=`/library/parts/${v.id}`,E.subtitleStreamID=I.id);const D=S.Z.join(P,E),C=p.provider.getXHROptions(D,{type:"PUT",scope:"setMetadataItemStreamOffset--"+I.id});X.Z.abortAll(C.scope),i().ajax(C).fail((e=>{e.aborting||p.get("Media")===M&&p.set({Media:m})})),o.changeSubtitleOffset(l,a,n)},[je](e,{playerType:t,playbackSpeed:n}){const r=(0,K.F_)(e,t),i=(0,f.Z)(e),a=Math.round(10*n)/10;i.changePlaybackSpeed(r,a)},[Le](e,{playerType:t,playbackTime:n},r){(0,K.F_)(e,t).set("itemPlaybackTime",n)},[ke](e,{playerType:t,playbackTime:n},r){(0,K.F_)(e,t).set("sessionPlaybackTime",n)},[Re](e,{playerType:t}){const n=(0,K.F_)(e,t);(0,y.Z)(n).get("metadataItem").fetch({data:{skipRefresh:1},usePopulatedParams:!0})},[ze](e,{playerType:t,bufferedRanges:n}){const r=(0,K.F_)(e,t),i=n.map((e=>({startSeconds:Math.ceil(e.startSeconds),endSeconds:Math.floor(e.endSeconds)}))).sort(((e,t)=>e.startSeconds-t.startSeconds)).reduce(((e,t)=>{var n,r;const i=e.length-1;return t.startSeconds<(null==(n=e[i])?void 0:n.startSeconds)||t.startSeconds<(null==(r=e[i])?void 0:r.endSeconds)?(e[i].startSeconds=Math.min(e[i].startSeconds,t.startSeconds),e[i].endSeconds=Math.max(e[i].endSeconds,t.endSeconds)):e.push(t),e}),[]);s().isEqual(r.get("bufferedRanges"),i)||r.set({bufferedRanges:i})},[Ue](e,{playerType:t,width:n,height:r}){(0,K.F_)(e,t).set({mediaWidth:n,mediaHeight:r})},[Ve](e,{playerType:t,canPlayThrough:n}){const r=(0,K.F_)(e,t);r.get("canPlayThrough")!==n&&r.set({canPlayThrough:n})}}},32901:(e,t,n)=>{"use strict";n.d(t,{_z:()=>a,Rw:()=>s,jR:()=>o,wp:()=>l,J0:()=>c});var r=n(40807),i=n(88630);const a="ui/repopulatePage",s="ui/showAlert",o=(0,r.Z)(a),l=(0,r.Z)(s,(e=>"string"==typeof e?{type:i.p,message:e}:e)),c={[s](e,t){}}},4134:(e,t,n)=>{"use strict";n.d(t,{k_:()=>l,gk:()=>c,FC:()=>d,pL:()=>u,xZ:()=>p,tB:()=>m,Dz:()=>h,PF:()=>g,xh:()=>y,$Q:()=>f,LN:()=>b,fB:()=>I,Dv:()=>S,dB:()=>M,R4:()=>E,Kq:()=>P});var r=n(40807),i=n(33816),a=n(27940),s=n(96840),o=n(28440);const l="user/lockUser",c="user/fetchUserFeatures",d="user/populateUserFeatures",u="user/saveExperienceSettings",p="user/saveSubtitleColor",m="user/saveSubtitlePosition",h="user/saveSubtitleSize",g="user/saveAutoPlay",y=(0,r.Z)(l),v=(0,r.Z)(c),f=(0,r.Z)(d),b=(0,r.Z)(u),I=(0,r.Z)(p),S=(0,r.Z)(m),M=(0,r.Z)(h),E=(0,r.Z)(g),P={[l](e,t){s.Z.error("LOCK_USER must be handled by each project")},[c]:(0,i.Z)({key:"features",getModel:o.VX}),[d]:(0,a.Z)({key:"features",fetchActionCreator:v,getModel:o.VX}),[u](e,t){s.Z.error("SAVE_EXPERIENCE_SETTINGS must be handled by each project")},[p](e,t,n){n(b(t))},[m](e,t,n){n(b(t))},[h](e,t,n){n(b(t))},[g](e,t,n){n(b(t))}}},72194:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(22222),i=n(13469),a=n.n(i);const s=(0,r.wN)(r.PW,a().isEqual)},91121:(e,t,n)=>{"use strict";n.d(t,{Z:()=>g});var r=n(22222),i=n(13469),a=n.n(i),s=n(96516),o=n(77909),l=n(74995),c=n(67006),d=n(55605),u=n(84936);const p={},m={};function h(e,t){const{serverEntityID:n,providerEntityID:i}=t,u=`${n}:${i}`;return m[u]||(m[u]=(0,s.Z)((0,r.P1)((0,l.Z)(),(0,o.Z)(),((e,t)=>{const n=e&&e.activeConnection&&e.activeConnection.uri;if(!n)return p;let r,i="/photo/:/transcode",s=!1,o=!1;if(t){const e=a().findWhere(t.features,{type:c.Yd});e&&(i=e.key,s=(0,d.Z)(i),o=e.public)}return r=s?t&&t.baseURL?t.baseURL:n:"",{accessToken:e.accessToken,baseUrl:r,isAbsoluteTranscodeKey:s,isPublicTranscoder:o,transcodeKey:i,uri:n}})),(e=>e))),m[u](e,t)}function g(e){const t=e&&e.urlParams;return(0,r.P1)(((e,{url:t})=>t),h,((e,n)=>{if(!e||n===p)return;const{accessToken:r,baseUrl:i,isAbsoluteTranscodeKey:a,isPublicTranscoder:s,transcodeKey:o,uri:l}=n;let c;if((0,d.Z)(e))c=e;else{const n={"X-Plex-Token":r};t&&Object.assign(n,t),c=u.Z.join([i,e],n)}const m=a?o:[l,o];return u.Z.join(m,{url:c,"X-Plex-Token":s?void 0:r})}))}},96516:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(22222),i=n(81324);const a=(0,r.wN)(r.PW,i.Z)},79498:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(22222),i=n(74995),a=n(56733);function s(){return(0,r.P1)(a.Z,(0,r.P1)((0,i.Z)(),(e=>e?e.desktop.libraries:void 0)),((e,t)=>t?t.map((t=>e[t])):[]))}},56733:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(22222),i=n(32486);const a=(0,r.P1)(i.Z,(e=>e.libraries))},81017:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(22222),i=n(50362);function a(){return(0,r.P1)(((e,{metadataItemEntityID:t})=>t),i.Z,((e,t)=>t[e]))}},50091:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(22222),i=n(18908);function a(){return(0,r.P1)(((e,{metadataListEntityID:t})=>t),i.Z,((e,t)=>t[e]))}},45206:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(22222),i=n(81017),a=n(70488),s=n(74253),o=n(86953);function l(){return(0,r.P1)((0,i.Z)(),a.Z,s.Z,((e,t,n)=>e&&e.source||(0,o.Z)({providerIdentifier:t.identifier,serverIdentifier:n.machineIdentifier})))}},54834:(e,t,n)=>{"use strict";n.d(t,{Z:()=>h});var r=n(22222),i=n(13469),a=n.n(i),s=n(21918),o=n(30084),l=n(70515),c=n(81017);const d={s:"seconds",m:"minutes",h:"hours",d:"days",w:"weeks",M:"months",y:"years"};function u(e){if("now"===e)return{};const t=e.match(/([-+]?\d+)([smhdwMy])/);if(t){const[,e,n]=t;if(e&&n)return{[d[n]]:parseInt(e,10)}}else{const t=parseInt(e,10);if(a().isNumber(t))return t}return{}}function p(e,t){return!(!a().isObject(t)||!(0,s.Z)(e,t))||e>=t}function m(e,t){return!(!a().isObject(t)||!(0,o.Z)(e,t))||e<=t}function h(){return(0,r.P1)(((e,{containerKey:t})=>t),(0,c.Z)(),((e,t)=>{if(!t||!t.Media)return;const n=function(e){if(!e)return;const[,t]=e.split("?");return t?l.Z.parseQueryString(t):void 0}(e),r=a().sortBy(t.Media,"endsAt"),i=Date.now()/1e3;for(let e=0,t=r.length;e<t;e++){const t=r[e];if(n){const e=n["beginsAt>"],r=n["beginsAt<"],i=n["endsAt>"],a=n["endsAt<"];if(e){const n=u(e);if(m(t.beginsAt,n))continue}if(r){const e=u(r);if(p(t.beginsAt,e))continue}if(i){const e=u(i);if(m(t.endsAt,e))continue}if(a){const e=u(a);if(p(t.endsAt,e))continue}}if(t.endsAt>i)return t}return a().first(r)}))}},50362:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(22222),i=n(32486);const a=(0,r.P1)(i.Z,(e=>e.metadataItems))},18908:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(22222),i=n(32486);const a=(0,r.P1)(i.Z,(e=>e.metadataLists))},89971:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(22222),i=n(32486);const a=(0,r.P1)(i.Z,(e=>e.playQueueItems))},77909:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(22222),i=n(98727);function a(){return(0,r.P1)(((e,{providerEntityID:t})=>t),i.Z,((e,t)=>t[e]))}},98727:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(22222),i=n(32486);const a=(0,r.P1)(i.Z,(e=>e.providers))},757:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(70488);function i(e,{metadataItemEntityID:t}){const n=e.entities.metadataItems[t],i=n&&n.providerEntityID;if(i)return(0,r.Z)(e,{providerEntityID:i})}},47933:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(22222),i=n(98727),a=n(90217),s=n(59701);const o=(0,r.P1)(a.Z,i.Z,(0,s.Z)("providers"),((e,t,n)=>e.reduce(((e,r)=>{const i=(r.isCloud?n:r.providers).map((e=>({server:r,provider:t[e]}))),a=i.length?i:[{server:r}];return e.push(...a),e}),[])))},70488:(e,t,n)=>{"use strict";n.d(t,{R:()=>s,Z:()=>l});var r=n(22222),i=n(72194),a=n(67006);function s(e){return e?{entityID:e.entityID,id:e.id,parentID:e.parentID,identifier:e.identifier,metricsIdentifier:e.metricsIdentifier,isLibraryProvider:e.isLibraryProvider,isPopulated:!!e.isPopulated,epgSource:e.epgSource,title:e.title,sourceTitle:e.sourceTitle,protocols:e.protocols.reduce(((e,t)=>(e[t]=!0,e)),{}),features:e.features.reduce(((e,t)=>{let n=t;if(t.type===a.aO){let e={type:a.aO};e=t.actions.reduce(((e,t)=>(e[t.id]=t,e)),e),n=e}return e[t.type]=n,e}),{})}:null}const o={};function l(e,{providerEntityID:t}){let n=o[t];return n||(n=(0,i.Z)((0,r.P1)(((e,t)=>e.entities.providers[t]),s),(e=>e)),o[t]=n),n(e,t)}},32486:(e,t,n)=>{"use strict";function r(e){return e.entities}n.d(t,{Z:()=>r})},77414:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(22222),i=n(74995);const a=function(){return(0,r.P1)((0,i.Z)(),(e=>{if(e)return e.desktop.activities}))}},88413:(e,t,n)=>{"use strict";n.d(t,{ZP:()=>l,tk:()=>c,k8:()=>d,Ol:()=>u});var r=n(22222),i=n(13469),a=n.n(i),s=n(72759),o=n(77414);function l(e){return(0,r.P1)((0,o.Z)(),(t=>a().find(t,{type:e})))}function c(){return l(s.nJ)}function d(){return l(s.zL)}function u(){return l(s.y0)}},74995:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(22222),i=n(4524);function a(){return(0,r.P1)(((e,{serverEntityID:t})=>t),i.Z,((e,t)=>t[e]))}},4524:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(22222),i=n(32486);const a=(0,r.P1)(i.Z,(e=>e.servers))},20531:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(22222),i=n(757),a=n(50316);const s=(0,r.P1)(a.Z,i.Z,((e,t)=>({itemServerEntityID:e&&e.entityID,itemProviderEntityID:t&&t.entityID})))},50316:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(74253);function i(e,{metadataItemEntityID:t}){const n=e.entities.metadataItems[t],i=n&&n.serverEntityID;if(i)return(0,r.Z)(e,{serverEntityID:i})}},13209:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(22222),i=n(36237);const a=(0,r.P1)(i.Z,(e=>e.map((e=>e.entityID))))},36237:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(22222),i=n(96516),a=n(90217);const s=(0,i.Z)((0,r.P1)(a.Z,(e=>e.filter((e=>e.isFullOwnedServer&&e.isConnected)))),(e=>e))},90217:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(22222),i=n(4524);const a=(0,r.P1)(i.Z,(e=>e.servers),(e=>e.embeddedServer),(e=>e.transientServer),((e,t,n,r)=>{const i=t?t.map((t=>e[t])):[];return n&&e[n]&&i.push(e[n]),r&&e[r]&&i.push(e[r]),i}))},39365:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(22222),i=n(96516),a=n(90217);const s=(0,i.Z)((0,r.P1)(a.Z,(e=>e.reduce(((e,t)=>(t.isFullOwnedServer&&t.isClaimed&&t.friendlyName&&e.push(t.entityID),e)),[]))),(e=>e))},74253:(e,t,n)=>{"use strict";n.d(t,{h:()=>a,Z:()=>o});var r=n(22222),i=n(96516);function a(e){return e?{entityID:e.entityID,machineIdentifier:e.machineIdentifier,version:e.version,friendlyName:e.friendlyName,sourceTitle:e.sourceTitle,allowSync:e.allowSync,allowMediaDeletion:e.allowMediaDeletion,backgroundProcessing:e.backgroundProcessing,transcoderVideo:e.transcoderVideo,isConnected:e.isConnected,isUnavailable:e.isUnavailable,isFullServer:e.isFullServer,isFullOwnedServer:e.isFullOwnedServer,isOutOfDate:e.isOutOfDate,isCloud:e.isCloud,isShared:e.isShared,livetv:e.livetv,ownerId:e.ownerId,ownerFeatures:e.ownerFeatures}:null}const s={};function o(e,{serverEntityID:t}){let n=s[t];return n||(n=(0,i.Z)((0,r.P1)(((e,t)=>e.entities.servers[t]),a),(e=>e)),s[t]=n),n(e,t)}},77726:(e,t,n)=>{"use strict";function r(e){return e.deviceSettings}n.d(t,{Z:()=>r})},14699:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(22222),i=n(90934);function a(){return(0,r.P1)(((e,{mediaSubscriptionEntityID:t})=>t),i.Z,((e,t)=>t[e]))}},90934:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(22222),i=n(32486);const a=(0,r.P1)(i.Z,(e=>e.mediaSubscriptions))},90354:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(22222),i=n(34891);function a(){return(0,r.P1)(i.Z,((e,t)=>t.friendEntityID),((e,t)=>e[t]))}},59701:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(22222),i=n(92187);const a={};function s(e){if(a[e])return a[e];const t=(0,r.P1)(i.Z,(t=>t[e]));return a[e]=t,t}},55885:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(22222),i=n(61676);const a={},s=function(e){const t=a[e]||(0,r.P1)(i.Z,(t=>!!t[e]));return a[e]=t,t}},34891:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(22222),i=n(32486);const a=(0,r.P1)(i.Z,(e=>e.friends))},52581:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(22222),i=n(32486);const a=(0,r.P1)(i.Z,(e=>e.homeUsers))},76892:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(22222),i=n(59468);const a=(0,r.P1)(i.Z,(e=>e.savedPivotParams))},82261:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(22222),i=n(92187);const a=(0,r.P1)(i.Z,(e=>e.allFriends))},81079:(e,t,n)=>{"use strict";function r(e){return!!e.user.anonymous}n.d(t,{Z:()=>r})},57358:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(22222),i=n(59701),a=n(81079),s=n(32553);const o=(0,r.P1)(a.Z,(0,i.Z)("features"),(0,i.Z)("services"),(function(e,t=[],n=[]){return{anonymous:e,features:(0,s.Z)(t,(e=>e.uuid),(()=>!0)),services:(0,s.Z)(n,(e=>e.id),(e=>e))}}))},92187:(e,t,n)=>{"use strict";function r(e){return e.user}n.d(t,{Z:()=>r})},59468:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(22222),i=n(92187);const a=(0,r.P1)(i.Z,(e=>e.experienceSettings))},61676:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(22222),i=n(93063),a=n(59701);const s=(0,r.P1)((0,a.Z)("features"),i.Z)},2530:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(22222),i=n(92187);const a=(0,r.P1)(i.Z,(e=>e.desktop))},84571:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(22222),i=n(59468);const a=(0,r.P1)(i.Z,(({language:e})=>e))},99449:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(22222),i=n(32486);const a=(0,r.P1)(i.Z,(e=>e.watchTogetherRooms||{}))},19130:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(13469),i=n.n(r);function a(){i().isFunction(this.initialize)&&this.initialize.apply(this,arguments)}a.extend=function(e,t){const n=this;let r;r=e&&i().has(e,"constructor")?e.constructor:function(){return n.apply(this,arguments)||null},i().extend(r,n,t);const a=function(){this.constructor=r};if(a.prototype=n.prototype,r.prototype=new a,e&&e.hasOwnProperty("mixins")){let t=e.mixins;delete e.mixins,Array.isArray(t)||(t=[t]),i().each(t,(function(e){i().extend(r.prototype,e)}))}return e&&i().extend(r.prototype,e),r.__super__=n.prototype,r};const s=a},32553:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r=function(e,t,n){return e.reduce(((e,r)=>(e[t(r)]=n(r),e)),{})}},4920:(e,t,n)=>{"use strict";function r(e,t,n){const r=e.indexOf(t);if(r<0)return e;const i=e.slice(0);return i[r]=n,i}n.d(t,{Z:()=>r})},46717:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var r=n(13469),i=n.n(r),a=n(19130),s=n(32846),o=n(96840),l=n(21133);const c=a.Z.extend({mixins:l.Z,maxCycles:3,maxSize:50,isListening:!1,initialize:function(){this._cache={},this.size=0,this.cycles=[],this.cycle()},startListening:function(){this.isListening||(this.isListening=!0,this.listenTo(s.Z,{"cycle:cache":this.cycle,"clearWhere:cache":this.clearWhere,"clearAll:cache":this.clearAll,"clearCycles:cache":this.clearCycles}))},get:function(e){const t=this._cache[e];return t&&t._cacheCycle&&this.setItemCycle(t,e,i().first(this.cycles)),t},store:function(e,t){t||(t=this.getItemCacheKey(e)),this.remove(e),t&&(this.startListening(),e._cacheKey=t,this._cache[t]=e,this.size++,e.persistInCache||this.setItemCycle(e,t,i().first(this.cycles)))},getItemCacheKey:function(e){return i().result(e,"cacheKey")},setItemCycle:function(e,t,n){const r=e._cacheCycle;r&&r.hasOwnProperty(t)&&delete r[t],e._cacheCycle=n,n[t]=e},cycle:function(){this.size>this.maxSize&&(o.Z.warn("Cache overflow, size: "+this.size),i().each(this.cycles.slice(1),this.removeCycle,this)),this.cycles.unshift({}),this.cycles.length>Math.max(this.maxCycles,1)&&this.removeCycle(i().last(this.cycles))},remove:function(e){if(!e||!e._cacheKey)return;const t=e._cacheKey;this._cache.hasOwnProperty(t)&&(delete this._cache[t],this.size--),e._cacheCycle&&(e._cacheCycle.hasOwnProperty(t)&&delete e._cacheCycle[t],delete e._cacheCycle),delete e._cacheKey},removeCycle:function(e){i().each(i().values(e),this.remove,this);const t=i().indexOf(this.cycles,e);this.cycles.splice(t,1)},clearWhere:function(e){const t=i().where(i().values(this._cache),e);i().each(t,this.remove,this)},clearAll:function(){i().each(i().values(this._cache),this.remove,this),this.cycles.length=0,this.cycle(),this.stopListening(),this.isListening=!1},clearCycles:function(){const e=this.cycles;for(;e.length;)this.removeCycle(e[e.length-1]);this.cycle()}})},89905:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(13469),i=n.n(r),a=n(46717);const s=a.Z.extend({maxCycles:3,maxSize:20,get:function(e){const t=a.Z.prototype.get.apply(this,arguments);return t&&t.every((function(e){return!(!e.cache||!e.cache.isListening||(e.cache.store(e),0))})),t},getItemCacheKey:function(e){let t=i().result(e,"url");return e.server&&(t=e.server.getScopedKey(t)),e.provider&&(t=e.provider.getScopedKey(t)),t}})},2938:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(13469),i=n.n(r),a=n(47479),s=n(46717);const o=s.Z.extend({maxCycles:3,maxSize:50,imageParamsRegex:/&?(size|scale|width|height)=([^&]+)/g,initialize:function(){s.Z.prototype.initialize.apply(this,arguments),this._infoMemo={}},store:function(e,t){if(t||(t=this.getItemCacheKey(e)),!t)return;const n=e.url,r=this.getImageInfo(n),a={url:n,blobUrl:e.blobUrl,size:r.size};let s=this.get(t);if(s){if(!s.images.hasOwnProperty(n)){const e=s.sizes;s.images[n]=a;const t=i().sortedIndex(e,a,"size");e.splice(t,0,a)}}else s={images:{},sizes:[a]},s.images[n]=a,this.startListening(),s._cacheKey=t,this._cache[t]=s,this.size++,e.persistInCache||this.setItemCycle(s,t,i().first(this.cycles))},getItemCacheKey:function(e){return this.getImageInfo(e.url).key},getImageInfo:function(e){if(this._infoMemo.hasOwnProperty(e))return this._infoMemo[e];const t={width:"0",scale:"1"},n=e.replace(this.imageParamsRegex,(function(e,n,r){return t[n]=r,""})),r=t.size&&t.size.split("-"),i={key:n,size:(r&&2===r.length?r[1]:parseInt(t.width,10))*parseInt(t.scale,10)};return this._infoMemo[e]=i,i},removeImageInfo:function(e){this._infoMemo.hasOwnProperty(e)&&delete this._infoMemo[e]},getBlobUrl:function(e){const t=this.getImageInfo(e),n=this.get(t.key);if(n){const t=n.images[e];if(t)return t.blobUrl}},getPlaceholder:function(e){const t=this.getImageInfo(e),n=this.get(t.key);if(n){if(n.images[e])return;return i().last(n.sizes).blobUrl}},remove:function(e,t){s.Z.prototype.remove.apply(this,arguments),i().each(e.sizes,(function(e){this.removeImageInfo(e.url),a.Z.hasObjectUrl&&window.URL.revokeObjectURL(e.blobUrl)}),this)}})},36776:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(13469),i=n.n(r);const a=n(46717).Z.extend({maxCycles:5,maxSize:100,getItemCacheKey:function(e,t){if(i().isFunction(e.cacheKey))return t||(t=e.toJSON()),e.cacheKey(t)}})},46453:(e,t,n)=>{"use strict";n.d(t,{HN:()=>r,E4:()=>i,$Z:()=>a,Hn:()=>s,zR:()=>o,Ut:()=>l,WX:()=>c,nQ:()=>d,Zb:()=>u,A2:()=>p,NV:()=>m});const r="com.plexapp.agents.imdb",i="com.plexapp.agents.lastfm",a="com.plexapp.agents.lyricfind",s="com.plexapp.agents.none",o="com.plexapp.agents.plexmusic",l="tv.plex.agents.music",c="tv.plex.agents.movie",d="tv.plex.agents.game",u="tv.plex.agents.series",p="com.plexapp.agents.themoviedb",m="com.plexapp.agents.thetvdb"},88630:(e,t,n)=>{"use strict";n.d(t,{p:()=>r,M:()=>i});const r="error",i="success"},89656:(e,t,n)=>{"use strict";n.d(t,{Yq:()=>r,KH:()=>i,o5:()=>a});const r=100,i=100,a=700},39374:(e,t,n)=>{"use strict";n.d(t,{mV:()=>r,bB:()=>i,_N:()=>a,jv:()=>s,S7:()=>o,YC:()=>l,hO:()=>c,av:()=>u,cW:()=>p,hJ:()=>m,pQ:()=>h,yl:()=>g,uY:()=>y,T4:()=>v,Zs:()=>f});const r="https://app.plex.tv",i="https://forums.plex.tv",a="https://www.plex.tv/media-server-downloads",s=`${a}/#plex-app`,o="https://status.plex.tv",l="https://www.plex.tv/tidal",c="https://www.plex.tv/privacy",d="?utm_source=Plex%20Apps&utm_medium=Plex%20Web&utm_campaign=Plex%20Apps",u="https://support.plex.tv"+d,p="https://support.plex.tv/articles/225877427-supported-dvr-tuners-and-antennas/"+d,m="https://support.plex.tv/articles/community-supported-tuners/"+d,h="https://support.plex.tv/articles/206225077-how-to-use-secure-server-connections/"+d,g="https://support.plex.tv/articles/204985278-account-audio-subtitle-language-settings/"+d,y="https://support.plex.tv/hc/en-us/articles/115002267687-Webhooks/"+d,v="https://support.plex.tv/articles/204232573-restricting-the-shares/",f="/users/other-services"},45662:(e,t,n)=>{"use strict";n.d(t,{G:()=>r});const r=2},84734:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});const r={DISABLED:0,ENABLED:1,VERBOSE:2};r.settings=[{value:r.DISABLED,title:"Disabled"},{value:r.ENABLED,title:"Enabled"},{value:r.VERBOSE,title:"Verbose"}];const i=r},16475:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(96242),i=n(32377);const a={[r.FAIRPLAY]:i.FAIRPLAY,[r.FAIRPLAY_AUDIO]:i.FAIRPLAY,[r.FAIRPLAY_VIDEO]:i.FAIRPLAY,[r.PLAYREADY]:i.PLAYREADY,[r.PLAYREADY_AUDIO]:i.PLAYREADY,[r.PLAYREADY_VIDEO]:i.PLAYREADY,[r.WIDEVINE]:i.WIDEVINE,[r.WIDEVINE_AUDIO]:i.WIDEVINE,[r.WIDEVINE_VIDEO]:i.WIDEVINE}},96242:(e,t,n)=>{"use strict";n.r(t),n.d(t,{FAIRPLAY:()=>a,FAIRPLAY_AUDIO:()=>s,FAIRPLAY_VIDEO:()=>o,PLAYREADY:()=>l,PLAYREADY_AUDIO:()=>c,PLAYREADY_VIDEO:()=>d,WIDEVINE:()=>u,WIDEVINE_AUDIO:()=>p,WIDEVINE_VIDEO:()=>m,NONE:()=>h});var r=n(46937),i=n(91135);const a=(0,r.Z)("fairplay"),s=(0,r.Z)("fairplay",i.j0),o=(0,r.Z)("fairplay",i.pX),l=(0,r.Z)("playready"),c=(0,r.Z)("playready",i.j0),d=(0,r.Z)("playready",i.pX),u=(0,r.Z)("widevine"),p=(0,r.Z)("widevine",i.j0),m=(0,r.Z)("widevine",i.pX),h=(0,r.Z)("none")},32377:(e,t,n)=>{"use strict";n.r(t),n.d(t,{FAIRPLAY:()=>r,PLAYREADY:()=>i,WIDEVINE:()=>a});const r="com.apple.fps.1_0",i="com.microsoft.playready",a="com.widevine.alpha"},40498:(e,t,n)=>{"use strict";n.d(t,{ZO:()=>r,Jm:()=>i,GP:()=>a,Bi:()=>s});const r="contentRating",i="contentRating!",a="label",s="label!"},43108:(e,t,n)=>{"use strict";function r(){return window.viewport&&window.viewport.pixelRatio||window.devicePixelRatio||1}n.d(t,{Z:()=>r})},55642:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});const r={NEVER:"never",SAME_NETWORK:"samenetwork",ALWAYS:"always"};r.settings=[{value:r.NEVER,title:"Never"},{value:r.SAME_NETWORK,title:"On same network as server"},{value:r.ALWAYS,title:"Always"}];const i=r},40133:(e,t,n)=>{"use strict";n.d(t,{EU:()=>r,yy:()=>i,it:()=>a,bS:()=>s,Rr:()=>o,Ko:()=>l,ES:()=>c,oP:()=>d});const r="small-60",i="small-120",a="medium-240",s="medium-360",o="large-480",l="large-720",c="large-1280",d="large-1920"},61006:(e,t,n)=>{"use strict";n.d(t,{ZH:()=>r,Mf:()=>i,K5:()=>a,JU:()=>s,jx:()=>o,hY:()=>l,LH:()=>c,JH:()=>d,Ge:()=>u,nO:()=>p,u5:()=>m});const r=8,i=9,a=13,s=16,o=17,l=27,c=38,d=40,u=91,p=93,m=224},80962:(e,t,n)=>{"use strict";n.d(t,{ly:()=>r,pn:()=>i,jN:()=>a});const r="complete",i="error",a="postprocessing"},98563:(e,t,n)=>{"use strict";n.d(t,{nA:()=>r,Hc:()=>i,SU:()=>a,Bs:()=>s});const r="playlist://image.favorite",i="playlist://image.radio",a="folder",s="watchtogether"},90579:(e,t,n)=>{"use strict";n.d(t,{em:()=>r,gO:()=>i,a7:()=>a,br:()=>s});const r="queued",i="matching",a="processing",s="loading"},88050:(e,t,n)=>{"use strict";n.d(t,{ql:()=>r,GP:()=>i,AM:()=>a,ae:()=>s,XD:()=>o,n1:()=>l,yq:()=>c,ly:()=>d,NH:()=>u,cO:()=>p,Rn:()=>m,DV:()=>h,$W:()=>g,b8:()=>y,Fx:()=>v,AV:()=>f,pe:()=>b,PR:()=>I,uf:()=>S,DK:()=>M,Bn:()=>E,cp:()=>P,dm:()=>D,xc:()=>C,qe:()=>w,h3:()=>Z,RG:()=>T,_R:()=>N,P9:()=>O,Zy:()=>A,t7:()=>x,RF:()=>j,J3:()=>L,FH:()=>k,a2:()=>R,Dp:()=>z,yY:()=>U,$M:()=>V,zw:()=>B,xs:()=>F,Ao:()=>_,$J:()=>H,Go:()=>Q,JL:()=>G,hi:()=>W,UP:()=>Y,nJ:()=>K,zL:()=>q,yZ:()=>$,FR:()=>J,wl:()=>X,i0:()=>ee,fV:()=>te,uz:()=>ne,Yf:()=>re,JM:()=>ie,b1:()=>ae,T5:()=>se,t6:()=>oe,wC:()=>le,wP:()=>ce,oG:()=>de,SA:()=>ue,mX:()=>pe,pg:()=>me,ic:()=>he,kD:()=>ge,J9:()=>ye,VL:()=>ve,lJ:()=>fe});const r="claim",i="dismiss",a="skip",s="confirm",o="select",l="cancel",c="learn",d="complete",u="play",p="shuffle",m="playAll",h="playVersion",g="playPrimaryExtra",y="playRelatedMix",v="playArtistTV",f="queueRelatedMix",b="playNext",I="addToQueue",S="addToPlaylist",M="addToCollection",E="removeFromPlaylist",P="removeFromCollection",D="edit",C="editFilters",w="markAsWatched",Z="markAsUnwatched",T="refresh",N="analyze",O="fixMatch",A="unmatch",x="merge",j="splitApart",L="sync",k="optimize",R="downloadFile",z="share",U="delete",V="getInfo",B="rate",F="selectStream",_="addToLibrary",H="addToSaved",Q="removeFromSaved",G="addToWatchlist",W="removeFromWatchlist",Y="removeFromContinueWatching",K="optimizeDatabase",q="cleanBundles",$="emptyTrash",J="deleteServer",X="addLibrary",ee="updateLibrary",te="cancelLibraryUpdate",ne="forceRefreshLibrary",re="editLibrary",ie="analyzeLibrary",ae="deleteLibrary",se="pinToNav",oe="unpinFromNav",le="reorderNav",ce="selectSource",de="selectTab",ue="downloadServer",pe="optOutMetrics",me="remoteAccess",he="selectPreferredServer",ge="subscribe",ye="upsellTidal",ve="agree",fe="disagree"},47486:(e,t,n)=>{"use strict";n.r(t),n.d(t,{PICKER:()=>r,FALLBACK:()=>i,STARTUP:()=>a,SERVER:()=>s,LIBRARY:()=>o,LIST:()=>l,SELECTION:()=>c,SETTINGS:()=>d,SETUP_WIZARD:()=>u,SERVER_DOWNLOAD:()=>p,AGENDA:()=>m,CALENDAR:()=>h,NAV_BAR:()=>g,COMPANION:()=>y,DVR_SETUP:()=>v,USERS_AND_SHARING:()=>f,DISCOVER_PIVOT:()=>b,LIBRARY_PIVOT:()=>I,PLAYLISTS_PIVOT:()=>S,COLLECTIONS_PIVOT:()=>M,TIMELINE_PIVOT:()=>E,DVR_DISCOVER_PIVOT:()=>P,DVR_GUIDE_PIVOT:()=>D,DVR_SCHEDULE_PIVOT:()=>C,WATCHLIST:()=>w,HDR_CONVERSION:()=>Z});const r="picker",i="fallback",a="startup",s="server",o="library",l="list",c="selection",d="settings",u="setupWizard",p="serverDownload",m="agenda",h="calendar",g="navBar",y="companion",v="dvrSetup",f="usersAndSharing",b="content.discover",I="content.library",S="content.playlists",M="content.collections",E="content.timeline",P="content.dvr.discover",D="content.dvr.guide",C="content.dvr.schedule",w="content.watchlist",Z="hdr-conversion"},96335:(e,t,n)=>{"use strict";n.d(t,{Yg:()=>r,Jk:()=>i,Ip:()=>a,EE:()=>s,$R:()=>o,CM:()=>l,o$:()=>c,PS:()=>d,fB:()=>u,Jw:()=>p,NY:()=>m,C7:()=>h,gS:()=>g,cn:()=>y,hx:()=>v,Iw:()=>f,l8:()=>b});const r="client:claimServer",i="client:claimServerFailure",a="client:click",s="client:relayTested",o="client:shutdown",l="client:signout",c="client:start",d="client:switchuser",u="client:view",p="client:upsell",m="playback:failure",h="playback:itemend",g="playback:itemrestart",y="playback:itemstart",v="playback:sessionend",f="watchtogether:created",b="watchtogether:joined"},69605:(e,t,n)=>{"use strict";n.d(t,{Sd:()=>r,Hx:()=>i,Y3:()=>a,sD:()=>s,ls:()=>o,fP:()=>l,xX:()=>c,$4:()=>d,r$:()=>u,yV:()=>p,G5:()=>m,H4:()=>h,dp:()=>g,YB:()=>y,jF:()=>v,yl:()=>f,w6:()=>b,Q_:()=>I,Ak:()=>S,Wv:()=>M,m9:()=>E,Vr:()=>P,YX:()=>D,mw:()=>C,jy:()=>w,Bc:()=>Z,WJ:()=>T,lz:()=>N,uf:()=>O,Vg:()=>A,Gc:()=>x,I7:()=>j,L6:()=>L,Eu:()=>k,Rs:()=>R,mU:()=>z,VP:()=>U,TD:()=>V,od:()=>B,_e:()=>F,WT:()=>_,X$:()=>H,SK:()=>Q,qT:()=>G,go:()=>W,B8:()=>Y,lP:()=>K,Md:()=>q,$e:()=>$,tl:()=>J,jB:()=>X,cZ:()=>ee,RN:()=>te,xC:()=>ne,cJ:()=>re,yW:()=>ie,Y0:()=>ae,iw:()=>se,yF:()=>oe,_g:()=>le,O6:()=>ce,s0:()=>de,Yp:()=>ue,Pi:()=>pe,Ke:()=>me,Bx:()=>he,LT:()=>ge,ce:()=>ye,ZZ:()=>ve,o_:()=>fe,cU:()=>be,LO:()=>Ie,DV:()=>Se,Vk:()=>Me,hw:()=>Ee,Rh:()=>Pe,zj:()=>De,BE:()=>Ce,c9:()=>we,PX:()=>Ze});const r="home",i="source",a="library",s="preplay",o="playlists",l="searchResults",c="quickSearchResults",d="metadataList",u="player",p="account",m="plexpass",h="signIn",g="signOut",y="setupWizard",v="downloads",f="unclaimedServer",b="metadataSettings",I="status",S="devices",M="subtitles",E="subtitlesUpload",P="stopServerSession",D="stopServerSessionError",C="playHistory",w="sidebar",Z="releaseNotes",T="photoTimeline",N="unknown",O="addToPlaylist",A="watchTogetherInvite",x="watchTogetherItemError",j="usersSharing",L="settings",k="sharing",R="settingsSidebar",z="preferredServer",U="preferredSources",V="dvrSettings",B="dvrSetup",F="dvrGuide",_="dvrSchedule",H="dvrPriority",Q="dvrManageChannels",G="dvrDeviceSettings",W="dvrAiringDetails",Y="manageSubscription",K="confirmMarkAsWatched",q="confirmMarkAsUnwatched",$="confirmDelete",J="confirmOptimizeDatabase",X="confirmCleanBundles",ee="confirmEmptyTrash",te="confirmDeleteServer",ne="confirmUpgradeLibrary",re="confirmAnalyzeLibrary",ie="confirmForceRefreshLibrary",ae="confirmEmptyTrashLibrary",se="confirmDeleteLibrary",oe="confirmRemoveWebhook",le="confirmUnlinkOauthProvider",ce="confirmRemoveDVR",de="confirmClosePlayer",ue="confirmDeleteSubtitleStream",pe="confirmCancelDownload",me="confirmRemoveDownload",he="confirmAddToHome",ge="adConsent",ye="confirmUpsell",ve="confirmUpdateApp",fe="confirmPlayback",be="confirmRemoteToLocalPlayback",Ie="confirmLocalToRemotePlayback",Se="playVersion",Me="resumePlayback",Ee="playerError",Pe="liveTVPlayerConflict",De="liveTVJoinSession",Ce="castApiMissing",we="adConsent",Ze="settings"},22093:(e,t,n)=>{"use strict";n.d(t,{k9:()=>r,QN:()=>i});const r="html",i=[r,"mpv","samsung_avplay","webmaf_video_player"]},98862:(e,t,n)=>{"use strict";n.d(t,{km:()=>r,IY:()=>i,t3:()=>a});const r="hub",i="list",a="view"},18547:(e,t,n)=>{"use strict";n.d(t,{NH:()=>r,E7:()=>i,tG:()=>a,N7:()=>s,Fz:()=>o,zb:()=>l,cb:()=>c,HE:()=>d,bp:()=>u,fK:()=>p,zG:()=>m,f4:()=>h,EJ:()=>g,om:()=>y,WP:()=>v,I2:()=>f,rx:()=>b,hl:()=>I});const r="PLAY",i="PAUSE",a="SEEK",s="STOP",o="PREVIOUS",l="NEXT",c="SKIPTO",d="SHOWDETAILS",u="REFRESHPLAYQUEUE",p="REFRESHSTREAMS",m="SETREPEAT",h="SETSTREAM",g="SETQUALITY",y="SETSUBTITLECOLOR",v="SETSUBTITLEPOSITION",f="SETSUBTITLESIZE",b="SETSUBTITLEOFFSET",I="SETAUTOPLAY"},70871:(e,t,n)=>{"use strict";n.d(t,{pX:()=>i,xF:()=>a,pV:()=>s,ED:()=>l,d2:()=>c});var r=n(44491);const i="video",a="music",s="photo",o={[r.pX]:i,[r.j0]:a,[r.pV]:s};function l(e){return o[e]}function c(e){for(const t in o)if(e===o[t])return t}},41890:(e,t,n)=>{"use strict";n.d(t,{l:()=>r,D:()=>i});const r="cast",i="plex"},43149:(e,t,n)=>{"use strict";n.d(t,{Hn:()=>i,ry:()=>a,QN:()=>s});var r=n(45697);const i=0,a=1,s=2;n.n(r)().oneOf([i,a,s])},79557:(e,t,n)=>{"use strict";n.d(t,{aV:()=>i,IM:()=>a,Hn:()=>s});var r=n(45697);const i="bottom-left",a="top-left",s="none";n.n(r)().oneOf([i,a,s])},44491:(e,t,n)=>{"use strict";n.d(t,{j0:()=>r,pX:()=>i,pV:()=>a,eD:()=>s});const r="audio",i="video",a="photo",s="rom"},79490:(e,t,n)=>{"use strict";n.d(t,{Nf:()=>r,jV:()=>i,Jj:()=>a,uS:()=>s,qB:()=>o,_V:()=>l});const r=5,i=10,a=30,s=5,o=600,l=600},59223:(e,t,n)=>{"use strict";n.d(t,{K:()=>r,y:()=>i});const r="full",i="mini"},52837:(e,t,n)=>{"use strict";n.d(t,{Se:()=>i,pV:()=>a,eD:()=>s,f_:()=>l});var r=n(44491);const i="audioVideo",a="photo",s="rom",o={[r.j0]:i,[r.pX]:i,[r.pV]:a,[r.eD]:s};function l(e){return o[e]}},25168:(e,t,n)=>{"use strict";n.d(t,{H:()=>r});const r="0"},17626:(e,t,n)=>{"use strict";n.d(t,{il:()=>r,Z$:()=>i,rf:()=>a,l9:()=>s,pn:()=>o});const r="stopped",i="playing",a="paused",s="buffering",o="error"},62730:(e,t,n)=>{"use strict";n.d(t,{lq:()=>r,LE:()=>i,FH:()=>a,JL:()=>s,zw:()=>o});const r="scrobble",i="save",a="addToCatalog",s="addToWatchlist",o="rate"},67006:(e,t,n)=>{"use strict";n.d(t,{om:()=>r,aO:()=>i,P8:()=>a,wl:()=>s,HR:()=>o,Yd:()=>l,Ct:()=>c,d3:()=>d,uq:()=>u,IS:()=>p,F5:()=>m,zg:()=>h,zw:()=>g,mo:()=>y,L6:()=>v,kD:()=>f,jN:()=>b});const r="action",i="actions",a="content",s="continuewatching",o="grid",l="imagetranscoder",c="location",d="manage",u="match",p="metadata",m="playqueue",h="playlist",g="rate",y="search",v="settings",f="subscribe",b="timeline"},94803:(e,t,n)=>{"use strict";n.d(t,{HN:()=>r,_N:()=>i,D7:()=>a});const r="download",i="record",a="universal"},17524:(e,t,n)=>{"use strict";n.d(t,{vP:()=>r,Ll:()=>i,zY:()=>a,Y3:()=>s,IS:()=>o,xF:()=>l,HG:()=>c,uk:()=>d,w1:()=>u,QN:()=>p,wB:()=>m});const r="tv.plex.provider.epg",i="tv.plex.providers.epg",a="tv.plex.providers.epg.xmltv",s="com.plexapp.plugins.library",o="tv.plex.provider.metadata",l="tv.plex.provider.music",c="tv.plex.provider.podcasts",d="tv.plex.provider.vod",u="tv.plex.provider.webshows",p=[r,i,a,s,"com.plexapp.plugins.library.sync",o,l,c,d,u];function m(e,t){return!!e&&(Array.isArray(t)||(t=[t]),t.some((t=>-1!==e.indexOf(t))))}},34470:(e,t,n)=>{"use strict";n.d(t,{K:()=>r});const r="livetv"},40822:(e,t,n)=>{"use strict";n.d(t,{Jz:()=>r,Pt:()=>i,x8:()=>a,xy:()=>s});const r="playbackSpeed",i="lineup",a="recentChannelsInGrid",s="numRecentChannelsInGrid"},11023:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r={NORMAL:0,LOCAL:42,CLOUD:43}},68187:(e,t,n)=>{"use strict";n.d(t,{Cc:()=>a,Pq:()=>s,oL:()=>l,ZH:()=>c});var r=n(5562),i=n(35981);const a="little_kid",s="unrestricted",o=(0,i.Z)(["identifier"],[{identifier:a,title:()=>(0,r.Z)("Younger Kid"),defaultUsername:()=>(0,r.Z)("Kids")},{identifier:"older_kid",title:()=>(0,r.Z)("Older Kid"),defaultUsername:()=>(0,r.Z)("Kids")},{identifier:"teen",title:()=>(0,r.Z)("Teen"),defaultUsername:()=>(0,r.Z)("Kids")},{identifier:s,title:()=>(0,r.Z)("None"),defaultUsername:()=>""}]),l=o.get,c=o.getAll},17146:(e,t,n)=>{"use strict";n.d(t,{wz:()=>r,c3:()=>i,Lx:()=>a,QQ:()=>s,OQ:()=>o,RZ:()=>l,N6:()=>c,VA:()=>d,S5:()=>u,_q:()=>p});const r="Plex Movie Scanner",i="Plex Music",a="Plex Movie",s="Plex TV Series",o="Plex Music Scanner",l="Plex Photo Scanner",c="Plex Premium Music Scanner",d="Plex Series Scanner",u="Plex Video Files Scanner",p="Plex Game"},83154:(e,t,n)=>{"use strict";n.d(t,{D:()=>r,O:()=>i});const r="/hubs",i="/hubs?identifier=home.continue,home.ondeck"},89410:(e,t,n)=>{"use strict";n.d(t,{uf:()=>r,hA:()=>i,nm:()=>a,WY:()=>s,nZ:()=>o,c9:()=>l});const r="untested",i="pending",a="connected",s="unauthorized",o="unavailable",l="aborted"},35589:(e,t,n)=>{"use strict";n.d(t,{X:()=>r});const r="myPlex"},78831:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});const r={AUTO:"auto",AVOID:"avoid",ALWAYS:"always",NEVER:"never"};r.settings=[{value:r.AUTO,title:"Automatic"},{value:r.AVOID,title:"Only image formats"},{value:r.ALWAYS,title:"Always"}];const i=r},99038:(e,t,n)=>{"use strict";n.d(t,{OR:()=>r,In:()=>i,E7:()=>a,gk:()=>s,tG:()=>o});const r="join",i="leave",a="pause",s="resume",o="seek"},36171:(e,t,n)=>{"use strict";n.d(t,{k9:()=>r,rS:()=>i});const r="html",i="plain"},96909:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(5562);const i={NONE:0,TV_ONLY:1,TV_AND_DVR:2};i.options={[i.NONE]:()=>(0,r.Z)("No Live TV and DVR access"),[i.TV_ONLY]:()=>(0,r.Z)("Allow Live TV only"),[i.TV_AND_DVR]:()=>(0,r.Z)("Allow Live TV and DVR access")},i.values=Object.keys(i.options).map((e=>({[e]:i.options[e]})));const a=i},45399:(e,t,n)=>{"use strict";n.d(t,{d6:()=>r,Ks:()=>i,JO:()=>a,Fq:()=>s,XA:()=>o,EM:()=>l,m9:()=>c,km:()=>d,Ah:()=>u,Ao:()=>p,OV:()=>m,C1:()=>h,wz:()=>g,VA:()=>y,eT:()=>v,PL:()=>f,Ed:()=>b,iU:()=>I,jq:()=>S,LD:()=>M,CG:()=>E,vm:()=>P,Z5:()=>D,_t:()=>C,q1:()=>w,sy:()=>Z,Oo:()=>T,Bs:()=>N,ZM:()=>O,cU:()=>A,EZ:()=>x,EQ:()=>j,lY:()=>L,TE:()=>k,KH:()=>R,DI:()=>z});const r="32cc8bf5-b425-4582-a52d-71b4f1cf436b",i="de789b83-9c5e-4472-bccf-791c69e67500",a="64ed42f8-259d-4957-8530-0fff2d846cd0",s="7c4200b1-a2ab-4803-adcd-6c36b22a9269",o="6f82ca43-6117-4e55-ae0e-5ea3b3e99a96",l="bb50c92f-b412-44fe-8d8a-b1684f212a44",c="b612f571-83c3-431a-88eb-3f05ce08da4a",d="222020fb-1504-492d-af33-a0b80a49558a",u="4bdcac7b-f25b-43b3-93d8-2bbcb9605fd7",p="644c4466-05fa-45e0-a478-c594cf81778f",m="75e95ee5-b482-4b02-aeff-a9faf13ead64",h="f8484f94-92a8-4ca4-9f43-e83ab3f586c7",g="f3235e61-c0eb-4718-ac0a-7d6eb3d8ff75",y="298a11d3-9324-4104-8047-0ac10df4a8a6",v="4742780c-af9d-4b44-bf5b-7b27e3369aa8",f="67c80530-eae3-4500-a9fa-9b6947d0f6d1",b="5c1951bf-ccf1-4821-8ee7-e50f51218ae7",I="3bfd3ccf-8c63-4dbb-8f87-9b21b402c82b",S="43725019-9122-4a6d-bc50-bca06a411b7a",M="d8810b38-ec9b-494c-8555-3df6e365dfbd",E="43938a71-1295-46e9-918f-b6c4b0302011",P="65685ff8-4375-4e4c-a806-ec1f0b4a8b7f",D="6ab6677b-ad9b-444f-9ca1-b8027d05b3e1",C="b83c8dc9-5a01-4b7a-a7c9-5870c8a6e21b",w="02da2909-ddfd-46be-9e42-65008a79fc05",Z="nonAnonymousAccount",T="6aaaf4fc-c55f-4042-92c8-b35f7886d249",N="65faa2d0-f57e-4c63-a6b6-f1baa48951b1",O="4e27cf82-9fb6-4ebe-8e10-c48bfe6fbbb6",A="20824f5c-6dd9-4655-9970-e7701a73c02a",x="fd6683b9-1426-4b00-840f-cd5fb0904a6a",j="9a67bff2-cb80-4bf9-81c6-9ad2f4c78afd",L="13056a62-9bd2-47cf-aba9-bab00095fd08",k="3c376154-d47e-4bbf-9428-2ea2592fd20a",R="f3a99481-9671-4274-a0d3-4c06a72ef746",z="ec64b6f6-e804-4ef3-b114-9d5c63e1a941"},22923:(e,t,n)=>{"use strict";n.d(t,{K:()=>r,M:()=>i});const r="relay",i="upsell"},90296:(e,t,n)=>{"use strict";n.d(t,{s:()=>r});const r="tidal"},12610:(e,t,n)=>{"use strict";n.d(t,{iN:()=>r,zK:()=>i,J$:()=>a,j5:()=>s,Ku:()=>o,ZP:()=>l});const r="active",i="inactive",a="canceled",s="pending_cancellation",o="ended",l=[r,i,a,s,"lapsed",o]},1547:(e,t,n)=>{"use strict";n.d(t,{VW:()=>r,G5:()=>i,ZP:()=>a});const r="arcade",i="plexpass",a=[r,i,"tidal"]},15730:(e,t,n)=>{"use strict";n.r(t),n.d(t,{TONE_MAPPING:()=>r});const r="toneMapping"},32707:(e,t,n)=>{"use strict";n.d(t,{Z:()=>g});var r=n(13469),i=n.n(r),a=n(14e3),s=n(94902),o=n(46277),l=n(41105),c=n(48653),d=n(69881),u=n(84936),p=Object.prototype.hasOwnProperty,m=Object.getOwnPropertySymbols,h=Object.prototype.propertyIsEnumerable;const g={uri:function(e,t){const n=t&&t.items;if(n&&n.length){if(n.length>1)return this.getBatchLibraryMetadataURI(n,t);e||(e=i().first(n))}if(e instanceof a.ZP.Model){if(e.get("isSection"))return this.getSectionURI(e,t);if(e.get("isMetadataList"))return this.getMetadataListURI(e,t);if(e.get("isPlaylist"))return this.getPlaylistURI(e,t)}return this.getLibraryMetadataURI(e,t)},parseLibraryUri:function(e){const t=u.Z.getLastSegment(e),n=decodeURIComponent(t).match(/(\/library\/sections\/\w+)\/all(?:\?(.*))?/),[,r,i=""]=n,a={};for(const e of i.split("&")){const[t,n]=e.split("=");t.startsWith("include")||(a[t]=n)}const s=a,{type:o,sourceType:l,sort:c,limit:d}=s,g=((e,t)=>{var n={};for(var r in e)p.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&m)for(var r of m(e))t.indexOf(r)<0&&h.call(e,r)&&(n[r]=e[r]);return n})(s,["type","sourceType","sort","limit"]);return{sectionKey:r,type:o,sourceType:l,sort:c,limit:d,filterString:Object.entries(g).map((([e,t])=>`${e}=${t}`)).join("&")}},getSectionURI:function(e,t){const n=i().result(e,"url"),r=e.get("currentSubset"),a=e.get("currentFolderKey"),s=e.get("currentType");let o;if("folder"===r.id)o=a||u.Z.join([n,"all"]);else{const t=e.get("items"),i=t.getParams();i.type&&delete i.type,i.timelineState&&delete i.timelineState,i.unwatchedLeaves&&(i[(0,d.getLeafType)(e.get("type")).typeString+".unwatched"]=1,delete i.unwatchedLeaves),s&&(i.sourceType=s.id),o=u.Z.join([n,r.id],i),o=t.replaceSpecialFilterOperators(o)}return this._resolveURI({prefix:"library",parts:[e.get("uuid"),"directory",o]})},getBatchLibraryMetadataURI:function(e,t){const n=this._getSectionInfo(i().first(e)),r="/library/metadata/"+i().map(e,(function(e){return e.get("ratingKey")})).join(",");return this._resolveURI({prefix:"library",parts:[n.sectionUUID,"directory",r]})},getLibraryMetadataURI:function(e,t){t||(t={});const n=this._getSectionInfo(e);let r,a=i().result(e,"url");return t.excludeSeedItem&&(a=u.Z.join(a,{excludeSeedItem:1})),r=e.models||e.collectionName||e instanceof s.Z?"directory":e.get("radio")?"station":"item",this._resolveURI({prefix:"library",parts:[n.sectionUUID,r,a]})},getMetadataListURI:function(e,t){t||(t={});const n=this._getSectionInfo(e);return this._resolveURI({prefix:"library",parts:[n.sectionUUID,"directory",u.Z.join(e.get("containerKey"),{sourceType:t.sourceType})]})},getPlaylistURI:function(e,t){return this._resolveURI({prefix:"playlist",parts:["",e.get("guid")]})},title:function(e,t){const n=t&&t.items;if(n&&n.length){if(n.length>1)return this.getBatchLibraryMetadataTitle(n,t);e=i().first(n)}return e.get("isSection")?this.getSectionTitle(e,t):e.get("isMetadataList")?this.getMetadataListTitle(e,t):this.getLibraryMetadataTitle(e,t)},getSectionTitle:function(e){const t=e.get("title"),n=e.get("currentSubset"),r=e.get("currentFilters");return"all"!==n.id?t+": "+n.get("title"):r.length?t+": "+i().flatten(i().map(r,(function(e){return e.titles}))).join(", "):t},getMetadataListTitle:function(e){return e.get("containerTitle")||e.get("title")},getBatchLibraryMetadataTitle:function(e){const t=i().map(e,(function(e){return e.get("title")}));return(0,c.Z)(t)},getLibraryMetadataTitle:function(e){const t=e.get("grandparentTitle")||e.get("parentTitle");let n=e.get("title");return t&&(n=t+" - "+n),"episode"===e.get("type")&&(n+=" ("+(0,o.Z)({seasonIndex:e.get("parentIndex"),episodeIndex:e.get("index"),date:e.get("originallyAvailableAt"),noLeadingZero:!0,separator:" "})+")"),n},_resolveURI:function(e){const t=e.parts,n=i().map(t,(function(e){return e?encodeURIComponent(e):""}));return e.prefix+"://"+n.join("/")},_getSectionInfo:function(e){let t=e.get("librarySectionUUID"),n=e.get("librarySectionID");if(!t||!n){const r=(0,l.Z)(e);i().isEmpty(r)||(t=r.get("uuid"),n=r.id)}return{sectionUUID:t,sectionID:n}}}},46572:(e,t,n)=>{"use strict";n.d(t,{Z:()=>m});var r=n(77349),i=n(78343),a=n(58545),s=n(91523),o=n(61973),l=n(63500),c=n(21593),d=n(42227),u=n(42902);const p={days:r.Z,hours:i.Z,minutes:a.Z,months:s.Z,seconds:o.Z,weeks:l.Z,years:c.Z};function m(e,t={}){let n=(0,d.Z)(e);for(const e in t)n=p[e](n,t[e]);return(0,u.Z)(n)}},96263:(e,t,n)=>{"use strict";n.d(t,{DF:()=>r,_G:()=>i,ZP:()=>c});const r=30,i=365,a=36e5,s=24*a,o=["years","months","days","hours","minutes","seconds","milliseconds"],l={years:s*i,months:s*r,days:s,hours:a,minutes:6e4,seconds:1e3,milliseconds:1};function c(e){const t=e<0?-1:1,n={};let r=e*t,i=-1;for(;++i<o.length;){const e=o[i],a=l[e],s=Math.floor(r/a);n[e]=s&&s*t,r%=a}return n}},31212:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(64381);const i=function(e,t="MMMM d, yyyy"){return e?(0,r.Z)(e,t):""}},7378:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(13469),i=n.n(r),a=n(96263);const s=function(e){if(e<=0||!i().isNumber(e))return"0:00";const t=(0,a.ZP)(e),n=t.seconds,r=t.minutes,s=t.hours+24*t.days;let o="";return o=n<10?":0"+n:":"+n,o=r<10&&s>0?"0"+r+o:r+o,s>0&&(o=s+":"+o),o}},78188:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(61973),i=n(42227),a=n(42902),s=n(5562);const o=function(e,t){return function(e,{limit:t}={},n=!1){if(!e)return"";const o=new Date;e=Math.round(e),"past"===t?e=Math.min(e,(0,a.Z)(o)):"future"===t&&(e=Math.max(e,(0,a.Z)((0,r.Z)(o,1))));const l=(0,i.Z)(e).getTime()-o.getTime();let c;return c="future"===t||"past"!==t&&l>0,function({milliseconds:e,isShorthand:t,isFuture:n}){let r=Math.abs(e)/1e3;r&&(r=r<1?1:Math.round(r));const i=Math.round(r/60),a=Math.round(i/60),o=Math.round(a/24),l=Math.round(o/30),c=Math.round(o/365),d={seconds:r,minutes:i,hours:a,days:o,months:l,years:c},u={unitOfTime:r<=44&&(t?(0,s.Z)("{seconds}s",d):(0,s.Z)("a few seconds",d))||r<45&&(t?(0,s.Z)("{seconds}s",d):(0,s.Z)("{seconds} seconds",d))||i<=1&&(t?(0,s.Z)("{minutes}m",d):(0,s.Z)("a minute",d))||i<45&&(t?(0,s.Z)("{minutes}m",d):(0,s.Z)("{minutes} minutes",d))||a<=1&&(t?(0,s.Z)("{hours}h",d):(0,s.Z)("an hour",d))||a<22&&(t?(0,s.Z)("{hours}h",d):(0,s.Z)("{hours} hours",d))||o<=1&&(t?(0,s.Z)("{days}d",d):(0,s.Z)("a day",d))||o<26&&(t?(0,s.Z)("{days}d",d):(0,s.Z)("{days} days",d))||l<=1&&(t?(0,s.Z)("{months}mo",d):(0,s.Z)("a month",d))||l<11&&(t?(0,s.Z)("{months}mo",d):(0,s.Z)("{months} months",d))||c<=1&&(t?(0,s.Z)("{years}y",d):(0,s.Z)("a year",d))||(t?(0,s.Z)("{years}y",d):(0,s.Z)("{years} years",d))};return n?(0,s.Z)("in {unitOfTime}",u):(0,s.Z)("{unitOfTime} ago",u)}({milliseconds:l,isShorthand:n,isFuture:c})}(e,{limit:"past"},t)}},52752:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(64381),i=n(42227);const a=function(e,t="MMMM d, yyyy"){return e?(0,r.Z)((0,i.Z)(e),t):""}},21918:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(42902),i=n(46572);function a(e,t={}){return null!=e&&(0,i.Z)((0,r.Z)(new Date),t)<=e}},96515:(e,t,n)=>{"use strict";function r(e){return!!e&&"string"==typeof e&&Date.now()>=new Date(e).getTime()}n.d(t,{Z:()=>r})},30084:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(42902),i=n(46572);function a(e,t={}){return null!=e&&(0,i.Z)((0,r.Z)(new Date),t)>=e}},44233:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var r=n(60495);const i=/version\/(\d+(\.\d+)?)/i,a=/\/([^\s]+)\s+\(Vizio/,s=/(?:applewebkit|safari)\/(\d+(\.\d+)?)/i,o=function(e){const t=/\(.* ([^)]+)\)$/.exec(e);return t&&t[1]||void 0};function l(e){let t="",n="";e?(t=e.userAgent,n=e.platform):r.Z&&null!=window.navigator&&(t=window.navigator.userAgent,n=window.navigator.platform),this.platformVersion="0",this.detect({userAgent:t,platform:n})}l.prototype={constructor:l,browsers:[{id:"konvergo",name:"Plex Media Player",webkit:!0,regex:/plexmediaplayer/i,versionRegex:/plexmediaplayer (\d+\.\d+\.\d+)/i},{id:"wiiu",name:"Wii U",regex:/wiiu/i,versionRegex:s,webkit:!0},{id:"ps3",name:"Unknown Browser",webkit:!0,regex:/\(PLAYSTATION 3 \d\./},{id:"ps4",name:"Unknown Browser",webkit:!0,regex:/\(PlayStation 4 \d\./},{id:"ps3",name:"PlayStation 3",webkit:!0,regex:/\(PlayStation 3\)/,versionRegex:s},{id:"ps4",name:"PlayStation 4",webkit:!0,regex:/\(PlayStation 4\)/,versionRegex:s},{id:"edge",name:"Microsoft Edge",regex:/edge?|(windows phone.+chrome)/i,versionRegex:/edge?\/(\d+(\.\d+)?)/i},{id:"ie",name:"Internet Explorer",msie:!0,regex:/(msie|trident|iemobile)/i,versionRegex:/(msie |rv:)(\d+(\.\d+)?)/i,versionMatchIndex:2},{id:"opera",name:"Opera",presto:!0,regex:/opera/i,versionRegex:i},{id:"opera",name:"Opera",webkit:!0,regex:/OPR\//,versionRegex:/OPR\/\s?(\d+(\.\d+)?)/},{id:"vivaldi",name:"Vivaldi",webkit:!0,regex:/vivaldi/i,versionRegex:/Vivaldi\/\s?(\d+(\.\d+)?)/},{id:"chrome",name:"Chrome",webkit:!0,regex:/(chrome|crios|gfiber|netbox)/i,versionRegex:/(?:chrome|crios|gfibertv)[/-](\d+(\.\d+)?)/i},{id:"firefox",name:"Firefox",gecko:!0,regex:/firefox/i,versionRegex:/firefox[ /](\d+(\.\d+)?)/i},{id:"safari",name:"Safari",webkit:!0,regex:/macintosh.+safari/i,versionRegex:i},{id:"safari",name:"Safari",webkit:!0,regex:/applewebkit/i,versionRegex:s}],platforms:[{id:"metrological",name:"Metrological",tv:!0,regex:/WPE([-\w]+)?$/,version:function(e=""){const t=/WPE(?:-(\w*))?$/.exec(e);if(t&&t[1])return t[1]}},{id:"netgem",name:"Netgem",tv:!0,regex:/^Netbox/,version:function(e=""){return e.split("/")[1]||e}},{id:"netcast",name:"NetCast",tv:!0,predicate:function(e){return/netcast/i.test(e)&&!/web[o0]s/i.test(e)}},{id:"webos",name:"webOS",tv:!0,predicate:function(e){return/web[o0]s/i.test(e)&&/smarttv/i.test(e)}},{id:"blackberry",name:"Blackberry",mobile:!0,regex:/BlackBerry|RIM|BB10/,version:function(e){const t=(/PlayBook/.test(e)?/Tablet OS (\d+\.\d+)/:i).exec(e);return t&&t[1]}},{id:"ps3",name:"PlayStation 3",tv:!0,regex:/P(lay)?S(tation )?3/i,version:function(e){return window.WM_devSettings?window.WM_devSettings.version:void 0}},{id:"ps4",name:"PlayStation 4",tv:!0,regex:/P(lay)?S(tation )?4/i,version:function(e){return window.WM_devSettings?window.WM_devSettings.version:void 0}},{id:"wiiu",name:"Wii U",tv:!0,regex:/Nintendo WiiU/},{id:"tizen",name:"Tizen",tv:!0,predicate:function(e){return!!this.version(e)},version:function(e){const t=/Tizen (\d+(\.\d+)*)/i.exec(e);return t&&t[1]||void 0}},{id:"winvergo",name:"Windows",tv:!0,predicate:function(e){return r.Z&&!!window.Windows},version:function(e){try{const e=window.Windows.System.Profile.AnalyticsInfo.versionInfo.deviceFamilyVersion,t=("0000000000000000"+parseInt(e,10).toString(16)).slice(-16),n=[];let r=0;for(;r<t.length;){const e=t.substring(r,r+4),i=parseInt(e,16);n.push(i),r+=4}return n.join(".")}catch(e){}}},{id:"viera",name:"Viera",tv:!0,predicate:function(e){return!!this.version(e)},version:function(e){const t=/Viera\/(\d+(\.\d+)*)/i.exec(e);return t&&t[1]||void 0}},{id:"sta",name:"Smart TV Alliance",tv:!0,version:function(e){let t,n;if(/SmartTvA/.test(e))n=/SmartTvA\/(\d+\.\d+)/.exec(e),t=n&&n[1]||t;else{const n=[/nettv\/4/i],r=[/nettv/i],i=function(t){return t.test(e)};[/Linux i686.+Chromium\/18/,/nettv\/4.2/i,/toshiba-dtv/i,/viera/i].some(i)?t="2.0":n.some(i)?t="1.0":r.some(i)&&(t="0")}return t},predicate:function(e){return void 0!==this.version(e)}},{id:"tivo",name:"TiVo",tv:!0,regex:/TiVo/,version:function(e){const t=/TCD[^,]+/.exec(e);return t&&t[0]||void 0}},{id:"viziosmartcast",name:"Vizio SmartCast",tv:!0,predicate:function(e){return r.Z&&window.VIZIO&&window.VIZIO.isSmartCastDevice},version:function(e){}},{id:"viziomtk",name:"Vizio MTK",tv:!0,predicate:function(e){return/opera/i.test(e)&&"undefined"!=typeof iMTK_JSP}},{id:"viziosigma",name:"Vizio Sigma",tv:!0,predicate:function(e){return/opera/i.test(e)&&/vizio/i.test(e)},version:function(e){const t=a.exec(e);return t&&t[1]||void 0}},{id:"viziomtk",name:"Vizio MTK",tv:!0,predicate:function(e){return a.test(e)&&"undefined"!=typeof iMTK_JSP},version:function(e){const t=a.exec(e);return t&&t[1]||void 0}},{id:"viziosigma",name:"Vizio Sigma",tv:!0,regex:a,version:function(e){const t=a.exec(e);return t&&t[1]||void 0}},{id:"operatvstore",name:"Opera TV Store",tv:!0,predicate:function(e){const t=/Opera TV Store/.test(e),n=/TV Store/.test(e)&&/OMI\//.test(e);return t||n}},{id:"operatv",name:"Opera TV",tv:!0,regex:/opera\/\d+\.\d+ \(linux (mips|arm)/i},{id:"ios",name:"iOS",mobile:!0,regex:/(iphone|ipad|ipod)/i,version:function(e){const t=/OS (\d+_\d+)/.exec(e);return t&&t[1]?t[1].replace("_","."):void 0}},{id:"windowsphone",name:"Windows Phone",mobile:!0,regex:/windows phone/i,version:function(e){const t=/windows phone[ os]*(\d+\.\d+);/i.exec(e);return t&&t[1]}},{id:"android",name:"Android",mobile:!0,regex:/android/i,version:function(e){const t=/Android (\d+\.\d+)/.exec(e);return t&&t[1]}},{id:"webos",name:"webOS",mobile:!0,predicate:function(e){return/hpwOS/.test(e)||/web[o0]s/i.test(e)&&!/smarttv/i.test(e)},version:function(e){const t=/(?:hpw|web)OS\/(\d+\.\d+)/.exec(e);return t&&t[1]}},{id:"openelec-rpi2",name:"Embedded (Raspberry Pi)",tv:!0,regex:/plexmediaplayer.*openelec-rpi2/i,version:o},{id:"openelec",name:"Embedded",tv:!0,regex:/plexmediaplayer.*openelec/i,version:o},{id:"linuxkonvergo",name:"Linux",tv:!0,regex:/plexmediaplayer.*linux/i,version:o},{id:"osxkonvergo",name:"OSX",tv:!0,regex:/plexmediaplayer.*mac/i,version:o},{id:"windowskonvergo",name:"Windows",tv:!0,regex:/plexmediaplayer.*win/i,version:o},{id:"linux",name:"Linux",regex:/linux/i},{id:"osx",name:"OSX",regex:/Macintosh/,version:function(e){const t=/OS X (\d+)[_.]?(\d+)?/.exec(e);if(t)return t[2]?t[1]+"."+t[2]:t[1]}},{id:"windows",name:"Windows",regex:/Windows/,version:function(e){const t=/Windows [^\d;)]*(\d+\.\d+)/.exec(e);if(t)return{"6.0":"Vista / Server 2008",6.1:"7 / Server 2008 R2",6.2:"8",6.3:"8.1",6.4:"10","10.0":"10"}[t[1]]}},{id:"chromeos",name:"Chrome OS",regex:/CrOS/,version:function(e){const t=/CrOS [\S]* (\d+)[_.]?(\d+)?/.exec(e);if(t)return t[2]?t[1]+"."+t[2]:t[1]}}],detect:function(e){const t=this.runTests(this.browsers,e),n=this.runTests(this.platforms,e);let r;t?(this.id=t.id,this.name=t.name,this.version=this.getVersion(e.userAgent,t.versionRegex,t.versionMatchIndex||1),this.webkit=!!t.webkit,this.gecko=!!t.gecko,this.msie=!!t.msie,this.presto=!!t.presto):(this.id="unknown",this.name="Unknown Browser",this.version="0",this.webkit=!1,this.gecko=!1,this.msie=!1,this.presto=!1),n?(r="function"==typeof n.version?n.version(e.userAgent):n.version,this.platform=n.name,this.platformID=n.id,this.platformVersion=r||this.platformVersion,this.mobile=!!n.mobile,this.tv=!!n.tv):(this.platformID="unknown",this.platform="Unknown Platform",this.mobile=!1,this.tv=!1),this.tv||(this.platformModifierKey="osx"===this.platformID||"ios"===this.platformID?"command":"ctrl")},runTests:function(e,t){let n,r,i,a=0;for(;!0!==r&&(i=e[a++]);)n=t[i.context||"userAgent"],i.regex?r=i.regex.test(n):i.predicate&&(r=i.predicate(n));return i},getVersion:function(e,t,n){const r=e.match(t);return r&&r.length>n&&r[n]||"0"},toJSON:function(){const e={};for(const t in this)this[t]&&"browsers"!==t&&"platforms"!==t&&(e[t]=this[t]);return e}};const c=new l},60495:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement)},47479:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(44233),i=n(60495);const a=function(){if(!i.Z)return!1;const e=document.createElement("canvas");return!!(e&&e.getContext&&e.getContext("2d"))}(),s={isHostedHttps:i.Z&&"https:"===window.location.protocol,hasConsole:!!(window.console&&window.console.log&&window.console.log.call),hasWebSocket:i.Z&&!!window.WebSocket,hasEventSource:i.Z&&!!window.EventSource,hasReplaceState:i.Z&&!(!window.history||!window.history.replaceState),hasFileUpload:i.Z&&!!(window.File&&window.FileList&&window.FileReader),hasMediaSource:i.Z&&!(!window.MediaSource&&!window.WebKitMediaSource),hasObjectUrl:!r.Z.presto&&i.Z&&!(!window.URL||"function"!=typeof window.URL.createObjectURL||"function"!=typeof window.URL.revokeObjectURL),hasBlob:function(){try{return!!new window.Blob}catch(e){return!1}}(),hasFullscreen:function(){if(!i.Z)return!1;const e=document.createElement("div");return!!(e.requestFullscreen||e.webkitRequestFullScreen||e.mozRequestFullScreen)}(),hasCanvas:a,hasWebGL:function(){if(!a)return!1;const e=document.createElement("canvas"),t=e.getContext("webgl")||e.getContext("experimental-webgl");return!!t&&t instanceof window.WebGLRenderingContext}(),hasTouchScreen:i.Z&&!!("ontouchstart"in window),hasPageVisibility:i.Z&&(!0===document.hidden||!1===document.hidden),hasWebKitPageVisibility:i.Z&&(!0===document.webkitHidden||!1===document.webkitHidden),hasPassiveEventListeners:function(){let e=!1;try{const t=Object.defineProperty({},"passive",{get:function(){return e=!0,!0}});window.addEventListener("test",null,t)}catch(e){}return e}(),hasWebSpeech:i.Z&&!!window.speechSynthesis,hasServiceWorker:i.Z&&!(!window.navigator||!window.navigator.serviceWorker),hasGamepads:i.Z&&"function"==typeof window.navigator.getGamepads,hasMediaSession:i.Z&&"mediaSession"in window.navigator}},32846:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(19130),i=n(21133);const a=new(r.Z.extend({mixins:i.Z}))},46937:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r=function(e,t){return t?`${e}:${t}`:e}},51382:(e,t,n)=>{"use strict";n.d(t,{Pe:()=>a,L7:()=>s,ZP:()=>o});var r=n(47479),i=n(85790);const a="D100",s="D200";function o(){return r.Z.isHostedHttps||i.lv(window.location.hostname)?s:r.Z.isHostedHttps?"D300":a}},64542:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(96242);n(11133);const i=function(e){return{"X-Plex-Drm":e||r.NONE}}},70560:(e,t,n)=>{"use strict";n.d(t,{gU:()=>r,ZP:()=>i});const r="=",i=[r,"!=","==","!==",">=","<=",">>=","<<=",">>=-","<<=-"]},23736:(e,t,n)=>{"use strict";n.d(t,{Y:()=>r,OR:()=>i});const r="&",i=","},46525:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var r=n(13469),i=n.n(r),a=(n(11133),n(70560)),s=n(23736);let o,l;function c(e,t){if(i().isEmpty(e))return;if(e===o)return l;const n=e.map((({key:e,value:n,operator:r=a.gU})=>{let i;i=t?Array.isArray(n)?n.join(s.OR):n:Array.isArray(n)?n.map(encodeURIComponent).join(s.OR):encodeURIComponent(n);const o=r.lastIndexOf(a.gU),l=r.substr(0,o),c=r.substr(o+1,r.lastIndexOf(a.gU));return encodeURIComponent(e)+encodeURIComponent(l)+a.gU+encodeURIComponent(c)+i}),[]);return o=e,l=n.join(s.Y),l}},20023:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(70515);function i(e,t,n="message"){if(!e)return t;const i=r.Z.parseXML(e.responseText);return i&&i[n]?i[n]:t}},78636:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(56442);function i(e){return function(e){return!!e&&(!!e.get("isCloud")||e.supports("json")&&!e.get("onlyXML")&&!e.get("isMobileServer"))}(e)?r.AV:r.Ls}},16014:(e,t,n)=>{const r=n(31212).Z,i=n(44213);e.exports=i(r)},32115:(e,t,n)=>{const r=n(52752).Z,i=n(44213);e.exports=i(r)},34018:e=>{e.exports=function(e){return encodeURIComponent(e||"")}},78356:e=>{e.exports=function(e,t,n){return e===t?n.fn(this):n.inverse(this)}},94271:e=>{e.exports=function(e,t,n){return Array.isArray(e)&&e.includes(t)?n.fn(this):n.inverse(this)}},84772:e=>{e.exports=function(e,t,n){return e!==t?n.fn(this):n.inverse(this)}},51030:(e,t,n)=>{const r=n(39247).Z,i=n(44213);e.exports=i(r)},62782:(e,t,n)=>{const r=n(10825).Z,i=n(44213);e.exports=i(r)},63208:(e,t,n)=>{const r=n(69713).Z,i=n(44213);e.exports=i(r)},54614:(e,t,n)=>{const r=n(52224).Z,i=n(44213);e.exports=i(r)},46178:(e,t,n)=>{const r=n(13469),i=n(40202);e.exports=function(e,t){const n=i.partials[e],a=r.extend({},t.hash.context||this,t.hash);return new i.SafeString(n(a))}},1780:(e,t,n)=>{const r=n(19816).Z,i=n(44213);e.exports=i(r)},11178:(e,t,n)=>{const r=n(55028).Z,i=n(44213);e.exports=i(r)},36433:(e,t,n)=>{const r=n(53221).Z,i=n(44213);e.exports=i(r)},12498:(e,t,n)=>{const r=n(1495).Z,i=n(44213);e.exports=i(r)},44213:(e,t,n)=>{const r=n(13469);e.exports=function(e){return function(){return e.apply(this,r.initial(arguments))}}},76273:(e,t,n)=>{const r=n(13469),i=n(5562).Z,a=n(40202);e.exports=function(){const e=r.initial(arguments).concat({escape:!0}),t=r.last(arguments).hash;return r.isObject(t)&&!r.isEmpty(t)&&e.splice(1,0,t),new a.SafeString(i.apply(i,e))}},49412:e=>{const t=`id${Date.now()}`;let n=0;e.exports=function(e){return`${e||t}${n++}`}},51447:(e,t,n)=>{const r=n(84936).Z.getLastSegment,i=n(44213);e.exports=i(r)},48523:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(11133);function i(e,t){(0,r.Z)(null!=e,"No `version` supplied to `isVersionOrNewer`."),(0,r.Z)(null!=t,"No `minVersion` supplied to `isVersionOrNewer`. Have you misspelled a constant?");const n=t.split("."),i=e.split(".");for(let e=0,t=n.length;e<t;e++)if(e<i.length){const t=parseInt(n[e],10),r=parseInt(i[e],10);if(t<r)return!0;if(t>r)return!1}return!0}},76334:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(98932);function i(e){return r.ZP[e]||""}},98932:(e,t,n)=>{"use strict";n.d(t,{wq:()=>i,WX:()=>a,MP:()=>s,ZP:()=>o});const r={aa:"Afaraf",af:"Afrikaans",ab:"Abkhazian",ak:"Akan",sq:"Shqip",am:"Amharic",ar:"",an:"Aragons",hy:"",as:"Assamese",av:" ",ae:"avesta",ay:"aymar aru",az:"azrbaycan dili",ba:" ",bm:"bamanankan",eu:"euskara",be:"",bn:"Bengali",bh:"",bi:"Bislama",bs:"bosanski jezik",br:"brezhoneg",bg:" ",my:"Burmese",ca:"Catal",ch:"Chamoru",ce:" ",cu:" ",cv:" ",kw:"Kernewek",co:"corsu",cr:"",dv:"Divehi",dz:"",en:"English","en-GB":"English (UK)",eo:"Esperanto",et:"eesti",ee:"Eegbe",fo:"froyskt",fj:"vosa Vakaviti",fy:"Frysk",ff:"Fulfulde",ka:"",gd:"Gidhlig",ga:"Gaeilge",gl:"Galego",gv:"Gaelg",gn:"Avae&apos;",gu:"",ht:"Kreyl ayisyen",ha:"",hz:"Otjiherero",hi:"",ho:"Hiri Motu",hr:"hrvatski",ig:"Ass Igbo",is:"slenska",io:"Ido",ii:" Nuosuhxop",iu:"",ie:"Interlingue",ia:"Interlingua",id:"Bahasa Indonesia",ik:"Iupiaq",jv:"basa Jawa",kl:"kalaallisut",kn:"",ks:"",kr:"Kanuri",kk:" ",km:"Khmer",ki:"Gky",rw:"Ikinyarwanda",ky:" ",kv:" ",kg:"KiKongo",kj:"Kuanyama",ku:"Kurd",lo:"Lao",la:"latine",lv:"latvieu valoda",li:"Limburgs",ln:"Lingla",lt:"lietuvi kalba",lb:"Ltzebuergesch",lu:"Luba-Katanga",lg:"Luganda",mk:" ",mh:"Kajin Maje",ml:"Malayalam",mi:"te reo Mori",mr:"",ms:"bahasa Melayu",mg:"Malagasy fiteny",mt:"Malti",mo:"Moldavian",mn:"",na:"Ekakair Naoero",nv:"Din bizaad",nr:"isiNdebele (North)",nd:"isiNdebele (South)",ng:"Owambo",ne:"",nn:"Norsk nynorsk",nb:"Norsk bokml",ny:"chiChea",oc:"Occitan",oj:"",or:"Oriya",om:"Afaan Oromoo",os:" ",pa:"",pi:"",ps:"",qu:"Runa Simi",rm:"rumantsch grischun",ro:"romn",rn:"kiRundi",sg:"yng t sng",sa:"",sr:" ",si:"Sinhala",sk:"slovenina",sl:"Slovenina",se:"Davvismegiella",sm:"gagana fa&apos;a Samoa",sn:"chiShona",sd:"",so:"Soomaaliga",st:"Sesotho",sc:"sardu",ss:"SiSwati",su:"Basa Sunda",sw:"Kiswahili",ty:"Reo Tahiti",ta:"",tt:"",te:"Telugu",tg:"",tl:"Wikang Tagalog",th:"",bo:"",ti:"Tigrinya",to:"faka Tonga",tn:"Setswana",ts:"Xitsonga",tk:"Trkmen",tw:"Twi",ug:"Uyurq",uk:"",ur:"",uz:"O&apos;zbek",ve:"Tshivena",vi:"Ting Vit",vo:"Volapk",cy:"Cymraeg",wa:"Walon",wo:"Wollof",xh:"isiXhosa",yi:"",yo:"Yorb",za:"Sa cue",zu:"isiZulu",pb:"Portugus (Brasil)",fr:"Franais","fr-CA":"Franais Canadien",de:"Deutsch",sv:"Svenska",no:"Norsk",da:"Dansk",fi:"Suomeksi",nl:"Nederlands",it:"Italiano",es:"Espaol","es-419":"Espaol (Latinoamrica)",pl:"Polski",hu:"Magyar",el:"",tr:"Trke",zh:"","zh-TW":"",ru:" ",he:"",ja:"",pt:"Portugus","pt-BR":"Portugus Brasileiro",ko:"",cs:"etina",fa:"",xx:"Unknown",xn:"None"};function i(e,t){return r[e].localeCompare(r[t])}const a=["xx","xn"],s=function(){const e=Object.keys(r).filter((e=>-1===a.indexOf(e)));return e.sort(i),e.concat(a)}(),o=r},9481:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r=function(e,t){if(e===t)return 0;const n=e.split("."),r=t.split("."),i=Math.max(n.length,r.length);for(let e=0;e<i;e++){if(!r[e])return 1;if(!n[e])return-1;const t=parseInt(n[e],10),i=parseInt(r[e],10);if(t>i)return 1;if(t<i)return-1}return 0}},19623:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r=function(e){return`${e.beginsAt}-${e.channelIdentifier}-${e.endsAt}`}},11133:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(96840);const i=function(e,t="`assert` requires an error message argument",n=!1){if(e)return!0;if(r.Z.error(t),n)throw new Error(t);return!1}},96840:(e,t,n)=>{"use strict";n.d(t,{Z:()=>m});var r=n(32846);const i="log:message",a="log:groupEnd",s={accessToken:1,address:1,auth_token:1,authToken:1,Authorization:1,clientIdentifier:1,email:1,host:1,myPlexAccessToken:1,password:1,uri:1,"X-Plex-Token":1},o=new RegExp("("+Object.keys(s).join("|")+")(\\s?=\\s?)(['\"]?)[^'\"\n]+(['\"]?)","g"),l=/%[sdifo]/g,c=/(error|exception)\]$/i,d={"%s":e=>e,"%d":e=>Number.parseInt(e,10),"%f":e=>Number.parseFloat(e),"%o":e=>e},u=(e,t,n)=>function(){let i;const a=arguments.length;let s;if(t=void 0===t?p.LEVEL_LOG:t,!(p.level<t)){if(0===a&&n)s=n;else if(1===a)s=p.serialize(arguments[0]);else if(a>1){const e=Array(a);let t=-1;for(;++t<a;)e[t]=p.serialize(arguments[t]);e[0]=e[0].replace(l,((t,n)=>{let r=t;return e.length>1&&(r=d[t](e[1]),e.splice(1,1)),r})),s=e.join(" ")}return!s||i&&!i.test(s)||r.Z.trigger(e,{type:e,level:t,message:s}),s}},p=u(i);p.LEVEL_NONE=-1,p.LEVEL_ERROR=0,p.LEVEL_WARN=1,p.LEVEL_INFO=2,p.LEVEL_DEBUG=3,p.LEVEL_LOG=4,p.LEVEL_GROUP=p.LEVEL_INFO,p.LEVEL_GROUP_END=p.LEVEL_INFO,p.level=p.LEVEL_LOG,p.redacts=!0,p.setLevel=e=>{p.level=Math.max(p.LEVEL_NONE,Math.min(e,p.LEVEL_LOG))},p.debug=u(i,p.LEVEL_DEBUG),p.info=u(i,p.LEVEL_INFO),p.warn=u(i,p.LEVEL_WARN),p.error=u(i,p.LEVEL_ERROR),p.group=u("log:group",p.LEVEL_GROUP,"Group"),p.groupCollapsed=u("log:groupCollapsed",p.LEVEL_GROUP,"Group"),p.groupEnd=()=>{p.level<p.LEVEL_GROUP_END||r.Z.trigger(a,{type:a,level:p.LEVEL_GROUP_END})},p.serialize=e=>{let t;switch(t=void 0===e?"[object Undefined]":null===e?"[object Null]":Object.prototype.toString.call(e),t){case"[object String]":return p.redacts?e.replace(o,"$1$2$3REDACTED$4"):e;case"[object Object]":case"[object Array]":try{const t=p.redacts?p._jsonReplacer:null;return JSON.stringify(e,t,2)}catch(e){return"Unable to serialize value"}case"[object Boolean]":case"[object Number]":case"[object Function]":case"[object RegExp]":return e.toString();case"[object Date]":return e.toUTCString();case"[object Undefined]":return"undefined";case"[object Null]":return"null";default:if(c.test(t)){const n=p._getMaxStackLength();let r=e.stacktrace||e.stack;return r&&r.length>n&&(r=r.substr(0,n-3)+"..."),p.serialize({type:t,stack:r,name:e.name,message:e.message})}return e.toString()}},p._jsonReplacer=(e,t)=>s[e]?"REDACTED":"[object String]"===Object.prototype.toString.call(t)?p.serialize(t):t,p._getMaxStackLength=()=>1e3;const m=p},8593:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r=function(e,t,n){return Math.max(Math.min(e,n),t)}},18206:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r=function(e,t,n){let r=n;if(e.Part.length>1)for(let n=0,i=e.Part.length;n<i;n++){const i=e.Part[n];if(!i.duration)break;if(t.key===i.key)break;r+=i.duration}return r}},40074:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var r=n(64381),i=n(55855),a=n(78966),s=n(19013),o=n(77606),l=n(5562);const c=function(e){let t=e.episodeIndex;if(t>0||0===t)return e.noLeadingZero||(t=(0,o.Z)(t)),e.useLongName?(0,l.Z)("Episode {episodeNumber}",{episodeNumber:t}):(0,l.Z)("E{episodeNumber}",{episodeNumber:t});if(e.date&&e.dateFormat)return(0,r.Z)((0,s.Z)(e.date),e.dateFormat);if(e.date){const t=(0,s.Z)(e.date);return(0,l.Z)("{monthNumber}/{dayNumber}/{shortYear}",{monthNumber:(0,a.Z)(t)+1,dayNumber:(0,i.Z)(t),shortYear:(0,r.Z)(t,"yy")})}return""}},64335:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(13469),i=n.n(r);const a=function(e,t){let n;if(e.Part.length>1){let r=0;for(let i=0,a=e.Part.length;i<a&&(n=e.Part[i],n.duration)&&(r+=n.duration,!(r>t));i++);}else n=i().first(e.Part);return n}},89335:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r=function(e,t){return e>t?50:e<=0||t<=0?0:parseFloat((e/t*100).toFixed(2))}},97645:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r=function(e,t,n){let r=n;if(e.Part.length>1)for(let n=0,i=e.Part.length;n<i;n++){const i=e.Part[n];if(!i.duration)break;if(t.key===i.key)break;r-=i.duration}return r}},46277:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var r=n(64381),i=n(55855),a=n(78966),s=n(19013),o=n(77606),l=n(5562);const c=function(e){let t=e.seasonIndex,n=e.episodeIndex;if((n>0||0===n)&&t<1e3){e.noLeadingZero||(t=(0,o.Z)(t),n=(0,o.Z)(n));const r=e.separator;return e.useLongName?`${(0,l.Z)("Season {seasonNumber}",{seasonNumber:t})}${r||" "}${(0,l.Z)("Episode {episodeNumber}",{episodeNumber:n})}`:`${(0,l.Z)("S{seasonNumber}",{seasonNumber:t})}${r||""}${(0,l.Z)("E{episodeNumber}",{episodeNumber:n})}`}if(e.date){const t=(0,s.Z)(e.date);return(0,l.Z)("{monthNumber}/{dayNumber}/{shortYear}",{monthNumber:(0,a.Z)(t)+1,dayNumber:(0,i.Z)(t),shortYear:(0,r.Z)(t,"yy")})}return""}},85480:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(77606),i=n(5562);const a=function(e){let t=e.seasonIndex;return null==t?"":t>1e3?t:(e.noLeadingZero||(t=(0,r.Z)(t)),e.useLongName?(0,i.Z)("Season {seasonNumber}",{seasonNumber:t}):(0,i.Z)("S{seasonNumber}",{seasonNumber:t}))}},41105:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(13469),i=n.n(r),a=n(12801);function s(e,t={}){const{onlyIfCached:n=!0}=t;if(!e)return;if(e.section)return e.section;if(e.get("isSection"))return e;const r=e.get("librarySectionID");if(r){const t=new a.Z({key:r},{server:e.server,onlyIfCached:n});return i().isEmpty(t)?void 0:t}return e.parent?s(e.parent,t):void 0}},84642:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(13469),i=n.n(r),a=n(73004),s=n(98851);const o=function(e){const t=a.Z.get("audio").id,n=(0,s.Z)(e,{streamType:t,selected:!0});return i().first(n)}},6731:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(25168),i=n(73004),a=n(98851);const s=function(e){return(0,a.Z)(e,{streamType:i.Z.get("subtitles").id}).filter((e=>e.selected&&e.id!==r.H))[0]}},1088:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(13469),i=n.n(r),a=n(73004),s=n(98851);const o=function(e){const t=a.Z.get("video").id,n=(0,s.Z)(e,{streamType:t});return i().first(n)}},98851:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(13469),i=n.n(r);const a=function(e,t){const n=[];if(e){const r=i().first(e.Part);r&&r.Stream&&n.push.apply(n,i().where(r.Stream,t))}return n}},84616:(e,t,n)=>{"use strict";function r(e){return/^(idx|pgs|vobsub)$/i.test(e)}n.d(t,{Z:()=>r})},96026:(e,t,n)=>{"use strict";n.d(t,{Z:()=>b});var r=n(19755),i=n.n(r),a=n(13469),s=n.n(a),o=n(11023),l=n(78831),c=(n(11133),n(96840));var d=n(84642),u=n(6731),p=n(1088),m=n(98851),h=n(84616),g=n(33232),y=n(73571),v=n(5562),f=n(73004);const b={getMediaDecision:function(e){const t=this.augmentProfile(e);if(c.Z.info("[MDE] Augmented profile:",t),e.media)return this.analyzeMedia(e.media,t,e);const n=e.item.get("Media");if(!n.length)return{transcodeServer:e.transcodeServer,canPlay:!0,canDirectPlay:!0};if(1===n.length)return this.analyzeMedia(s().first(n),t,e);const r=s().map(n,(function(n){return this.analyzeMedia(n,t,e)}),this);return this.getBestDecision(r)},augmentProfile:function(e){const t=e.profile;if(!t)throw new Error("MDE: No player profile provided for "+e.type);const n=e.type===y.Z.types.VIDEO,r=i().extend(!0,{},t.directPlay),a=i().extend(!0,{},t.directStream),o=r.generic;o&&delete r.generic;let l=e.allowedAC3Containers;const c="*"===l;!c&&l&&(l=Array.isArray(l)?l:[l]);let d=e.allowedEAC3Containers;const u="*"===d;!u&&d&&(d=Array.isArray(d)?d:[d]);let p=e.allowedDCAContainers;const m="*"===p;!m&&p&&(p=Array.isArray(p)?p:[p]);let h=e.allowedTrueHDContainers;const g="*"===h;return!g&&h&&(h=Array.isArray(h)?h:[h]),s().each(r,(function(t,r){this.mergeGenericOptions(t,o),this.mergeMaxQualityOptions(t,e),(c||l&&s().contains(l,r))&&this.addAudioCodec("ac3",t,e),(u||d&&s().contains(d,r))&&this.addAudioCodec("eac3",t,e),(m||p&&s().contains(p,r))&&this.addAudioCodec("dca",t,e),(g||h&&s().contains(h,r))&&this.addAudioCodec("truehd",t,e);const i=t[y.Z.getStreamByType(e.type)];if(i){const t=i.codecs;s().each(t,(function(t,n){this.mergeMaxQualityOptions(t,e,!0),e.videoCodecOptions&&e.videoCodecOptions[n]&&this.mergeCodecOptions(t,e.videoCodecOptions[n])}),this)}const a=n&&t.audio;if(a&&e.audioCodecOptions){const t=a.codecs;s().each(t,(function(t,n){e.audioCodecOptions[n]&&this.mergeCodecOptions(t,e.audioCodecOptions[n])}),this)}}),this),this.mergeMaxQualityOptions(a,e),n&&(e.videoCodecOptions&&a.video&&s().each(a.video.codecs,(function(t,n){e.videoCodecOptions[n]&&this.mergeCodecOptions(t,e.videoCodecOptions[n])}),this),e.audioCodecOptions&&a.audio&&s().each(a.audio.codecs,(function(t,n){e.audioCodecOptions[n]&&this.mergeCodecOptions(t,e.audioCodecOptions[n])}),this)),{directPlay:r,directStream:a}},mergeGenericOptions:function(e,t){t&&(s().defaults(e,s().omit(t,"video","audio")),s().each(["audio","video"],(function(n){const r=t[n];let i=e[n];r&&(i||(i={},e[n]=i),s().defaults(i,s().omit(r,"codecs")),r.codecs&&s().each(r.codecs,(function(e,t){s().defaults(this.ensureCodecs(t,i),e)}),this))}),this))},mergeCodecOptions:function(e,t){s().each(t,(function(t,n){e[n]=t}),this)},ensureCodecs:function(e,t){return t.codecs||(t.codecs={}),t.codecs[e]||(t.codecs[e]={}),t.codecs[e]},mergeMaxQualityOptions:function(e,t,n){s().each([{option:"bitrate",setting:"maxBitrate"},{option:"videoResolution",setting:"maxVideoResolution"}],(function(r){if("videoResolution"===r.option&&t.type!==y.Z.types.VIDEO)return;const i=this.getMaxQualityOption(e,r.option,t);if(null==i)return;const a=r.setting,s=y.Z.getStreamByType(t.type);e.hasOwnProperty(a)?e[a]=i:e.hasOwnProperty(s)?e[s][a]=i:n||(e[s]={},e[s][a]=i)}),this)},getMaxQualityOption:function(e,t,n){const r=n.quality||{},i="max"+t.charAt(0).toUpperCase()+t.slice(1);let a=r[t];const s=this.getPrimaryStreamProperty(e,i,n);if("videoResolution"===t&&a&&(a=g.Z.getResolutionFromSize(a)),"bitrate"===t){const e=n.item.server.get("maxUploadBitrate");e&&(!a||e<a)&&(a=e)}if(a||s){let e;return e=a&&s?Math.min(a,s):a||s,e}},addAudioCodec:function(e,t,n){t.audio||(t.audio={}),this.ensureCodecs(e,t.audio)},analyzeMedia:function(e,t,n){c.Z.info("[MDE] Starting analysis of",this.getMediaTitle(e)),(0,c.Z)("[MDE] Analyzing direct play");const r=this.canDirectPlay(e,t.directPlay,n);r.result||(0,c.Z)("[MDE] Cannot direct play:",r.failedCheck);const i={finalProfile:t,transcodeServer:n.transcodeServer,preferredDirectPlayProtocol:n.preferredDirectPlayProtocol,item:n.item,media:e,canDirectPlay:r.result,canDirectPlayFailedCheck:r.failedCheck,canDisplayHDR:!!n.canDisplayHDR,canDisplayDolbyVision:!!n.canDisplayDolbyVision};let a=n.transcoderOptions||{};if(s().isFunction(a)&&(a=a(i)),n.type===y.Z.types.VIDEO){(0,c.Z)("[MDE] Analyzing video direct stream");const r=(0,p.Z)(e);if(r){const e=this.canDirectStreamVideo(r,t.directStream.video,n,a);i.canDirectStreamVideo=e.result,i.canDirectStreamVideoFailedCheck=e.failedCheck}}if(n.type!==y.Z.types.PHOTO){(0,c.Z)("[MDE] Analyzing audio direct stream");const r=(0,d.Z)(e);if(r){const e=this.canDirectStreamAudio(r,t.directStream.audio,n,a);i.canDirectStreamAudio=e.result,i.canDirectStreamAudioFailedCheck=e.failedCheck}}const o=(0,u.Z)(i.media);return o&&((0,c.Z)("[MDE] Analyzing subtitles"),s().extend(i,this.analyzeSubtitles(o,n))),(0,c.Z)("[MDE] Analyzing playability"),s().extend(i,this.canPlay(i,n)),s().extend(i,this.getEffectiveQuality(e,t.directStream,n)),(0,c.Z)("[MDE] Finished analysis of:",this.getMediaTitle(e),this.getDecisionLogs(i)),i},canDirectPlay:function(e,t,n){if(n.forceDirectPlay)return(0,c.Z)("[MDE] Direct play forced"),{result:!0};if(!1===n.allowDirectPlay&&!n.transcodeServer.get("isCloud"))return c.Z.warn("[MDE] Direct play failed; option is disabled"),{result:!1,failedCheck:"allowDirectPlay"};if(n.type===y.Z.types.VIDEO&&!this.canDirectPlayVideo(e,n))return{result:!1,failedCheck:"canDirectPlayVideo"};const r=t[e.container];if(!r)return c.Z.warn("[MDE] Direct play failed; unsupported container:",e.container),{result:!1,failedCheck:"containerProfile"};const i=s().keys(r);if(i&&i.length){for(let t=0,a=i.length;t<a;t++){const a=i[t],o=r[a];if("mimeType"===a){if(!n.skipCanPlayTypeTest&&!this.canPlayType(y.Z.getElementByType(n.type),o))return c.Z.warn("[MDE] Direct play failed; canPlayType test, %s: %s",a,o),{result:!1,failedCheck:"canPlayType"}}else if("video"===a||"audio"===a){const t=f.Z.get(a),r=(0,m.Z)(e,{streamType:t.id}),i="video"===a?(0,p.Z)(e):(0,d.Z)(e);if(!i){c.Z.warn("[MDE] No stream selected; will not be able to analyze stream codecs");continue}if("audio"===a&&i!==r[0]&&!n.allowMultiTrackAudio)return c.Z.warn("[MDE] Direct play failed; multi-track audio is required"),{result:!1,failedCheck:"allowMultiTrackAudio"};const s=this.analyzeStream(i,o,n);if(!s.result)return{result:!1,failedCheck:s.failedCheck}}else if("photo"===a){const t=this.analyzeStream(s().first(e.Part),o,n);if(!t.result)return{result:!1,failedCheck:t.failedCheck}}else if(!this.validateProfileProperty(a,o,e))return{result:!1,failedCheck:`validateProfileProperty:${a}`}}return{result:!0}}return{result:!0}},canDirectPlayVideo:function(e,t){return t.allowDirectPlay||t.transcodeServer.get("isCloud")?"hls"!==e.protocol||t.hasNativeHLS?"flv"!==e.container||t.hasFlash?!("dash"===e.protocol&&!t.hasDASH&&(c.Z.warn("[MDE] Direct play failed; cannot play DASH"),1)):(c.Z.warn("[MDE] Direct play failed; cannot play FLV"),!1):(c.Z.warn("[MDE] Direct play failed; cannot play HLS"),!1):(c.Z.warn("[MDE] Direct play failed; option is disabled"),!1)},canPlayType:function(e,t){if(e===y.Z.elements.PHOTO)return!0;const n=document.createElement(e);return!(!n.canPlayType||!n.canPlayType(t).replace(/^no$/,""))},canDirectStreamVideo:function(e,t,n,r){return r.directStream||n.transcodeServer.get("isCloud")?this.analyzeStream(e,t,n):(c.Z.warn("[MDE] Direct stream video failed; option is disabled"),{result:!1,failedCheck:"options:directStream"})},canDirectStreamAudio:function(e,t,n,r){return r.directStreamAudio||n.transcodeServer.get("isCloud")?this.analyzeStream(e,t,n):(c.Z.warn("[MDE] Direct stream audio failed; option is disabled"),{result:!1,failedCheck:"options:directStreamAudio"})},analyzeStream:function(e,t,n){const r=t&&t.codecs&&t.codecs[e.codec];for(const i in t){const a=t[i];if("codecs"===i){const t=a[e.codec];if(!t)return{result:!1,failedCheck:`noCodecInProfile:${e.codec}`};const r=this.analyzeStream(e,t,n);if(!r.result)return{result:!1,failedCheck:r.failedCheck}}else if(!(r&&i in r||this.validateProfileProperty(i,a,e)))return{result:!1,failedCheck:`validateProfileProperty:${i}`}}return{result:!0}},validateProfileProperty:function(e,t,n){const r=e.match(/^(min|max)(\w)(\w*)/);let i;if(r){const a="min"===r[1],s="max"===r[1];if(i=n[e=r[2].toLowerCase()+r[3]],null==i&&c.Z.warn("[MDE] Unable to validate %s; re-analyze the media if possible",e),null!=i&&"videoResolution"===e&&(i=g.Z.getHeightFromResolution(i),t=g.Z.getHeightFromResolution(t)),null!=i){if(a&&i<t)return c.Z.warn("[MDE] Invalid profile property; %s: %s < %s",e,i,t),!1;if(s&&i>t)return c.Z.warn("[MDE] Invalid profile property; %s: %s > %s",e,i,t),!1}}else if(i=n[e],null==i&&c.Z.warn("[MDE] Unable to validate %s; re-analyze the media if possible",e),i!==t&&!s().contains(t,i))return c.Z.warn("[MDE] Invalid profile property; %s: %s !== %s",e,i,t),!1;return!0},analyzeSubtitles:function(e,t){const n=t.subtitlesBurnLevel||l.Z.ALWAYS,r=e.codec,i=!!e.key&&void 0===r&&t.transcodeServer.get("isCloud"),a=t.transcodeServer.get("isCloud")&&("vtt"===r||"eia_608"===r);return(0,c.Z)("[MDE] Subtitle codec:",r),(0,c.Z)("[MDE] Burn level:",n),i?((0,c.Z)("[MDE] Using sidecar subtitles %s",e.key),{useSidecarSrtSubtitles:!0}):a?{canDirectPlay:!0}:n===l.Z.NEVER?{useSoftSubtitles:!1}:n===l.Z.ALWAYS?(c.Z.warn("[MDE] Direct play failed; asked to always burn subtitles"),{useSoftSubtitles:!1,canDirectPlay:!1,canDirectPlayFailedCheck:"subtitles:burnLevelAlways",canDirectStreamVideo:!1}):t.transcodeServer.supports("softSubtitles")?(0,h.Z)(r)?(c.Z.warn("[MDE] Soft subtitles failed; bitmap subtitles"),{useSoftSubtitles:!1,canDirectPlay:!1,canDirectPlayFailedCheck:"subtitles",canDirectStreamVideo:!1}):/^(ass|ssa)$/i.test(r)&&n===l.Z.AUTO?(c.Z.warn("[MDE] Soft subtitles failed; ASS subtitles"),{useSoftSubtitles:!1,canDirectPlay:!1,canDirectPlayFailedCheck:"subtitles",canDirectStreamVideo:!1}):/^eia_608$/i.test(r)?(c.Z.warn("[MDE] Soft subtitles failed; Closed captioning"),{useSoftSubtitles:!1,canDirectPlay:!1,canDirectPlayFailedCheck:"subtitles",canDirectStreamVideo:!1}):t.transcodeServer.supports("softSubtitlesWithDirectPlay")?t.allowDirectStreamVideoWithSoftSubtitles?{useSoftSubtitles:!0}:{useSoftSubtitles:!0,canDirectStreamVideo:!1}:(c.Z.warn("[MDE] Direct play failed; %s subtitles",r),t.allowDirectStreamVideoWithSoftSubtitles?{useSoftSubtitles:!0,canDirectPlay:!1,canDirectPlayFailedCheck:"subtitles"}:{useSoftSubtitles:!1,canDirectPlay:!1,canDirectPlayFailedCheck:"subtitles",canDirectStreamVideo:!1}):(c.Z.warn("[MDE] Direct play failed; server support requires burn subtitles"),c.Z.warn("[MDE] Soft subtitles failed; server version"),{useSoftSubtitles:!1,canDirectPlay:!1,canDirectPlayFailedCheck:"subtitles:softSubtitlesUnsupported",canDirectStreamVideo:!1})},canPlay:function(e,t){const n=this.validateParts(e,t)||this.validateTranscoder(e,t);return n?{canPlay:!1,errorMessage:n}:{canPlay:!0}},validateParts:function(e,t){const n=function(e){const t=[];return Array.isArray(e)||(e=[e]),s().each(e,(e=>{const n=e.Part;n&&s().each(n,(e=>{!1!==e.exists&&!1!==e.accessible||t.push(e)}))})),t}(e.media);if(!n.length)return;c.Z.warn("[MDE] Unable to play; missing parts");const r=s().first(n);return 1===Number(r.exists)?(0,v.Z)("Please check the permissions for this file."):(0,v.Z)("Please check that the file exists and the necessary drive is mounted.")},validateTranscoder:function(e,t){if(e.canDirectPlay)return;const n=t.type,r=n===y.Z.types.MUSIC,i=n===y.Z.types.VIDEO,a=t.transcodeServer,o=a.get("transcoderAudio"),l=a.get("transcoderVideo");let d;if(r||"track"===t.item.get("type")){if(d=(0,v.Z)("This server is not powerful enough to convert audio."),i&&!l)return c.Z.warn("[MDE] Unable to play; server unable to transcode music using video transcoder"),d;if(r&&!o)return c.Z.warn("[MDE] Unable to play; server unable to transcode music using audio transcoder"),d}else if(i){const n=(0,v.Z)("This server is not powerful enough to convert video. You may be able to enable playback by increasing your quality setting."),r=(0,v.Z)("This server is not powerful enough to convert video. Playback qualities are limited because an indirect connection is being used."),i=e.canDirectStreamVideo||!a.get("transcoderVideoRemuxOnly");if(d=(0,v.Z)("This server is not powerful enough to convert video."),!l||!i){if(c.Z.warn("[MDE] Unable to play; server unable to transcode video"),t.quality){if(t.quality.index===g.Z.ORIGINAL)return d;const e=s().clone(t);return e.quality=s().extend({index:g.Z.ORIGINAL},s().pick(t.quality,"attribute")),this.getMediaDecision(e).canDirectPlay?n:"relay"===a.get("maxUploadBitrateReason")?r:d}return n}}},getEffectiveQuality:function(e,t,n){const r=n.quality,i={},a={};if(e.bitrate||c.Z.warn("[MDE] Unable to determine effective quality; re-analyze the media if possible"),n.type===y.Z.types.VIDEO){i.bitrate=e.bitrate,i.videoResolution=g.Z.getHeightFromResolution(e.videoResolution);const s=this.getPrimaryStreamProperty(t,"maxBitrate",n);if(s){const t=(0,p.Z)(e),n=t?t.bitrate:e.bitrate;i.bitrate=Math.min(n,s),a.maxVideoBitrate=s}if(r&&r.videoResolution){const e=g.Z.getResolutionFromSize(r.videoResolution),t=g.Z.getHeightFromResolution(e);i.videoResolution=Math.min(i.videoResolution,t)}}else if(n.type===y.Z.types.MUSIC){i.bitrate=e.bitrate;const r=this.getPrimaryStreamProperty(t,"maxBitrate",n);r&&(i.bitrate=Math.min(e.bitrate,r),a.musicBitrate=r)}return i.transcoderQualityOptions=a,i},getPrimaryStreamProperty:function(e,t,n){const r=e[y.Z.getStreamByType(n.type)];let i=e[t];return null==i&&r&&(i=r[t]),i},getMediaTitle:function(e){let t=e.title||e.videoResolution||e.bitrate||e.container;const n=s().compact([e.container,e.videoCodec,e.audioCodec]),r=(0,p.Z)(e);return r&&n.push(r.level,r.profile),n.length&&(t+=" ("+n.join(", ")+")"),t},getDecisionLogs:function(e){const t={canPlay:e.canPlay,canDirectPlay:e.canDirectPlay},n=e.canDirectStreamVideo;null!=n&&(t.canDirectStreamVideo=n);const r=e.canDirectStreamAudio;null!=r&&(t.canDirectStreamAudio=r);const i=e.useSoftSubtitles;null!=i&&(t.useSoftSubtitles=i);const a=e.bitrate;null==a||s().isNaN(a)||(t.bitrate=a);const o=e.videoResolution;return null==o||s().isNaN(o)||(t.videoResolution=o),t},getBestDecision:function(e){const t=s().last(this.sortDecisions(e));return(0,c.Z)("[MDE] Selected %s to play:",this.getMediaTitle(t.media),this.getDecisionLogs(t)),t},sortDecisions:function(e){return s().chain(e).reverse().sortBy(this.preferHigherBitrate,this).sortBy(this.preferMoreAudioChannels,this).sortBy(this.preferDirectStreamAudio,this).sortBy(this.preferHigherResolution,this).sortBy(this.preferDirectStreamVideo,this).sortBy(this.preferDirectPlayMatchingPreferredProtocol,this).sortBy(this.preferDirectPlay,this).sortBy(this.preferHigherResolutionIfCapable,this).sortBy(this.preferCloudIfRemote,this).sortBy(this.preferDirectPlayOrDirectStreamIfUHD,this).sortBy(this.preferPlayable,this).value()},preferPlayable:function(e){return void 0===e.canPlay?null:e.canPlay},preferDirectPlayOrDirectStreamIfUHD:function(e){const t=e.media.height;if(void 0===t)return null;const n=g.Z.getResolutionFromHeight(t);return!/^\d+k$/i.test(n)||e.canDirectPlay||e.canDirectStreamVideo},preferCloudIfRemote:function(e){const t=e.media.proxyType===o.Z.CLOUD;return e.transcodeServer.get("isPrivateConnection")?!t:t},preferHigherResolutionIfCapable:function(e){const t=e.transcodeServer,n=t.get("transcoderVideo"),r=t.get("transcoderVideoRemuxOnly");return n&&!r&&(e.canDirectPlay||e.canDirectStreamVideo)?this.preferHigherResolution(e):null},preferDirectPlay:function(e){return void 0===e.canDirectPlay?null:e.canDirectPlay},preferDirectPlayMatchingPreferredProtocol:function(e){return e.canDirectPlay&&e.media.protocol&&e.preferredDirectPlayProtocol?e.media.protocol===e.preferredDirectPlayProtocol:null},preferDirectStreamVideo:function(e){return void 0===e.canDirectStreamVideo?null:e.canDirectStreamVideo},preferHigherResolution:function(e){return void 0===e.videoResolution?null:e.videoResolution},preferDirectStreamAudio:function(e){return void 0===e.canDirectStreamAudio?null:e.canDirectStreamAudio},preferMoreAudioChannels:function(e){const t=e.media.audioChannels;return void 0===t?null:t},preferHigherBitrate:function(e){return void 0===e.bitrate?null:e.bitrate}}},37201:(e,t,n)=>{"use strict";n.d(t,{Vq:()=>a,u$:()=>s}),n(11133);var r=n(96840);const i={};function a(e,t){const n=t&&!0,a=i[e];return n&&a&&a.length?((0,r.Z)("[MediaElement] Found existing media element to use. type: %s",e),a.shift()):((0,r.Z)("[MediaElement] Creating new media element. type: %s",e),document.createElement(e))}function s(e){const t=e.nodeName.toLowerCase();(0,r.Z)("[MediaElement] Releasing media element to pool. type: %s",t),i[t]||(i[t]=[]),i[t].push(e)}},27903:(e,t,n)=>{"use strict";function r(e){const t={};return(...n)=>{const r=JSON.stringify(n);if(t.hasOwnProperty(r))return t[r];{const i=e(...n);return t[r]=i,i}}}n.d(t,{Z:()=>r})},86953:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(17524),i=n(35589);function a(e){const{providerIdentifier:t=r.Y3,serverIdentifier:n,key:a}=e;let s=n!==i.X?`server://${n}/${t}`:`provider://${t}`;return a&&(s=`${s}${a}`),s}},54941:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(54895);function i(e){return(0,r.Z)(e)}},39247:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(54941);function i(e){return(0,r.Z)(e.bitrate)}},54895:(e,t,n)=>{"use strict";function r(e){return e>0?`${e} kbps`:""}n.d(t,{Z:()=>r})},72369:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});const r=["B","KB","MB","GB","TB"],i=function(e,t=2){if(0===e)return`${(0).toFixed(t)} ${r[0]}`;const n=parseInt(Math.floor(Math.log(e)/Math.log(1024)),10);return`${(e/Math.pow(1024,n)).toFixed(t)} ${r[n]}`}},10825:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r=function(e,t){return e?/^\d+$/.test(e)?e+((null==t?void 0:t.length)?t[0]:"p"):e.toUpperCase():""}},69713:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(54895);const i=function(e){return e>=100?function(e){if(!(e>0))return"";let t=e/1e3;return t=t>=.1?Number(t.toFixed(1)):t,t+" Mbps"}(e):(0,r.Z)(e)}},52224:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(33232),i=n(5562),a=n(10825),s=n(69713);const o=function(e){if(e.index===r.Z.CONVERT_AUTOMATICALLY)return(0,i.Z)("Convert Automatically");if(e.index===r.Z.ORIGINAL)return(0,i.Z)("Original");const t=e.bitrate||e.maxVideoBitrate,n=e.videoResolution;if(!t&&!n)return(0,i.Z)("Unknown");const o=[];if(t&&o.push((0,s.Z)(t)),n&&(!t||t>=1e3)){const e=r.Z.getResolutionFromSize(n);o.push((0,a.Z)(e))}const l=o.join(", ");return e.description?l+" "+e.description:l}},60316:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(17524),i=n(35589),a=n(84936);const s=/\/([^/]+)([^$]+)?/,o={};function l(e){if(o[e])return o[e];const{protocol:t,host:n,pathname:l,search:c}=a.Z.parseUri(e),d="provider:"===t,u="server:"===t;if(!d&&!u)throw new Error("Source identifier is lacking provider or server scheme");const p=l.replace(/\/$/,"")||void 0,m=(null==p?void 0:p.match(s))||[],h=p&&"media"===m[1],g=h?r.Y3:m[1],y=d||h?p:m[2],v=y?y.slice(y.lastIndexOf("/")+1):void 0;return o[e]={isServer:u,serverIdentifier:d?i.X:n,providerIdentifier:d?n:g||r.Y3,key:y?`${y}${c}`:"",ratingKey:v||""},o[e]}},35406:(e,t,n)=>{"use strict";function r(e,t){const n=t?8*Math.round(t/8):0,r=e?8*Math.round(e/8*(9/16)):0;return Math.max(n,r)}n.d(t,{Z:()=>r})},63233:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d});var r=n(41927),i=n(5450),a=n(80080),s=n(47323),o=n(61309),l=n(7947),c=n(99131);const d={movie:a.Z,show:c.Z,season:c.Z,episode:c.Z,artist:r.Z,album:s.Z,track:s.Z,photo:o.Z,photoalbum:o.Z,clip:i.Z,station:l.Z}},34796:(e,t,n)=>{"use strict";n.d(t,{LX:()=>r,jt:()=>i,ZP:()=>a});const r=-1,i=10,a=function(e){return e.userRating===i}},1997:(e,t,n)=>{"use strict";function r(e){if(e)return e.relay?"relayed":e.isLoopback?"localhost":e.isPrivate?"local":"remote"}n.d(t,{Z:()=>r})},66729:(e,t,n)=>{"use strict";function r(e){return e.isCloud?"online":e.isShared?"shared":"owned"}n.d(t,{Z:()=>r})},46053:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s}),n(96840);var r=n(59756);let i;function a(){if(void 0===i){const e=window.location.search.match(new RegExp("performanceReportingHost=([^&=]+)"));i=(e&&e[1]?decodeURIComponent(e[1]):r.Z.performanceReportingHost)||null}return i}const s=function(e=a){const t={};function n(n){return n&&!t[n]&&(t[n]=/^(client|playback):/.test(n)||!!e()),!!n&&t[n]}const r={startPeriod:e=>r.mark(`${e}-start`),endPeriod:(e,t)=>r.measure(e,t||`${e}-start`),mark(e){let t=null;if(n(e)){window.performance.mark(e);const n=window.performance.getEntriesByName(e);t=n[n.length-1]}return t},measure(e,t,r){let i=null;if(n(e))try{window.performance.measure(e,t,r),window.performance.clearMarks(t);const n=window.performance.getEntriesByName(e);i=n[n.length-1]}catch(e){}return i}};return r}()},58698:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(93966),i=n(96840);const a=function(){const e=Date.now(),t=(0,r.DB)("sessionStats");i.Z.debug("[Metrics] Updating session last interaction time"),t.save("lastInteractionTime",e)}},21133:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var r=n(13469),i=n.n(r);n(91033);const a=/\s+/,s=function(e,t,n,r){if(!n)return!0;if("object"==typeof n){for(const i in n)e[t].apply(e,[i,n[i]].concat(r));return!1}if(a.test(n)){const i=n.split(a);for(let n=0,a=i.length;n<a;n++)e[t].apply(e,[i[n]].concat(r));return!1}return!0},o=function(e,t){let n,r=-1;const i=e.length,a=t[0],s=t[1],o=t[2];switch(t.length){case 0:for(;++r<i;)(n=e[r]).callback.call(n.ctx);return;case 1:for(;++r<i;)(n=e[r]).callback.call(n.ctx,a);return;case 2:for(;++r<i;)(n=e[r]).callback.call(n.ctx,a,s);return;case 3:for(;++r<i;)(n=e[r]).callback.call(n.ctx,a,s,o);return;default:for(;++r<i;)(n=e[r]).callback.apply(n.ctx,t)}},l={on:function(e,t,n){return s(this,"on",e,[t,n])&&t?(this._events||(this._events={}),(this._events[e]||(this._events[e]=[])).push({callback:t,context:n,ctx:n||this}),this):this},once:function(e,t,n){if(!s(this,"once",e,[t,n])||!t)return this;const r=this;var a=i().once((function(){r.off(e,a),t.apply(this,arguments)}));return a._callback=t,this.on(e,a,n)},off:function(e,t,n){let r,a,o,l,c,d,u;if(!this._events||!s(this,"off",e,[t,n]))return this;if(!e&&!t&&!n)return this._events=void 0,this;const p=e?[e]:i().keys(this._events);for(l=0,c=p.length;l<c;l++)if(e=p[l],o=this._events[e],o){if(this._events[e]=r=[],t||n)for(d=0,u=o.length;d<u;d++)a=o[d],(t&&t!==a.callback&&t!==a.callback._callback||n&&n!==a.context)&&r.push(a);r.length||delete this._events[e]}return this},trigger:function(e){if(!this._events)return this;const t=[].slice.call(arguments,1);if(!s(this,"trigger",e,t))return this;const n=this._events[e],r=this._events.all;return n&&o(n,t),r&&o(r,arguments),this},stopListening:function(e,t,n){let r=this._listeningTo;if(!r)return this;const a=!t&&!n;n||"object"!=typeof t||(n=this),e&&((r={})[e._listenId]=e);for(const s in r)(e=r[s]).off(t,n,this),(a||i().isEmpty(e._events))&&delete this._listeningTo[s];return this},hasListener:function(e){const t=this._events&&this._events[e];return Array.isArray(t)&&t.length>0}};i().each({listenTo:"on",listenToOnce:"once"},(function(e,t){l[t]=function(t,n,r){return(this._listeningTo||(this._listeningTo={}))[t._listenId||(t._listenId=i().uniqueId("l"))]=t,r||"object"!=typeof n||(r=this),t[e](n,r,this),this}})),l.bind=l.on,l.unbind=l.off;const c=l},91033:(e,t,n)=>{"use strict";n(11133)},77606:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(13469),i=n.n(r);const a=function(e){return e=parseInt(e,10),i().isNaN(e)?"":(e<10?"0":"")+e}},87769:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});const r=e=>Function.prototype.toString.call(e),i=r(Object);function a(e){if(!e||"object"!=typeof e)return!1;const t="function"==typeof e.constructor?Object.getPrototypeOf(e):Object.prototype;if(null===t)return!0;const n=t.constructor;return"function"==typeof n&&n instanceof n&&r(n)===i}},55983:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(13469),i=n.n(r),a=n(96840);function s(e,t){Array.isArray(t)?i().each(t,e):e(t)}const o={parseXML:n(25474).Z,replaceXMLElementNames:function(e,t,n){Array.isArray(t)||(t=[t]);const r=t.join("|"),i=new RegExp("<("+r+")","g"),a=new RegExp("</("+r+")>","g");return(e=e.replace(i,"<"+n+' elementName="$1"')).replace(a,"</"+n+">")},parseEncodedString:function(e,t){e&&s((function(t){if(e.hasOwnProperty(t)){const n=e[t];if(null==n)e[t]="";else try{e[t]=decodeURIComponent(n)}catch(e){}}}),t)},parseInteger:function(e,t){e&&s((function(t){if(e.hasOwnProperty(t)){const n=e[t];e[t]=null==n||""===n?0:parseInt(n,10)}}),t)},parseFloat:function(e,t){e&&s((function(t){if(e.hasOwnProperty(t)){const n=e[t];e[t]=null===n||""===n?0:parseFloat(n)}}),t)},parseBoolean:function(e,t){e&&s((function(t){if(e.hasOwnProperty(t)){const n=e[t];e[t]=1===Number(n)||"true"===n}}),t)},parseArray:function(e,t){e&&s((function(t){if(e.hasOwnProperty(t)){const n=e[t];Array.isArray(n)||(e[t]=[n])}else e[t]=[]}),t)},parseQueryString:function(e,t,n){e&&(n||(n="&"),s((function(t){if(!e.hasOwnProperty(t))return;let r=e[t];var s;i().isObject(r)||(i().isString(r)?(r=r.trim().replace(/^(\?|#)/,""),e[t]=r?(s=r.split(n),i().reduce(s,(function(e,t){const n=t.split("=");let r=n[0],i=n[1];try{r=decodeURIComponent(r),i=void 0===i?null:decodeURIComponent(i),e.hasOwnProperty(r)?Array.isArray(e[r])?e[r].push(i):e[r]=[e[r],i]:e[r]=i}catch(e){a.Z.warn("Unable to decode query string at "+r)}return e}),{})):{}):e[t]={})}),t))}}},99862:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r=function(e){return e?Array.isArray(e)?e:[e]:[]}},86017:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r=function(e){return 1===Number(e)||"true"===e}},67124:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r=function(e){return null==e||""===e?0:parseInt(e,10)}},85022:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(96840),i=n(93275);const a=function(e,t={}){try{return JSON.parse(e)}catch(n){const a=(0,i.Z)(e)?e.substring(0,50):"no response";return r.Z.warn(`[Parser] Unable to parse JSON: ${n.message} (${a})`),t}}},84659:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(96840),i=n(87769),a=n(93275);const s=function(e,t){if(t||(t={}),(0,i.Z)(e))return e;if(!(0,a.Z)(e))return{};if(!(e=e.trim().replace(/^(\?|#)/,"")))return{};const n=t.separators&&t.separators.join("")||t.separator||"&",s=new RegExp(`[${n}]+`);return e.split(s).reduce(((e,t)=>{let[n,i]=t.split("=");try{n=decodeURIComponent(n),i=void 0===i?null:decodeURIComponent(i),e.hasOwnProperty(n)?Array.isArray(e[n])?e[n].push(i):e[n]=[e[n],i]:e[n]=i}catch(e){r.Z.warn(`[Parser] Unable to decode query string at ${n}`)}return e}),{})}},8941:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r=function(e){return null==e?"":String(e)}},25474:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(27098),i=n.n(r),a=n(96840);let s;const o=function(e){const t={};let n;if(!e)return a.Z.warn("[Parser] Empty XML source"),t;s=s||new(i())({attributePrefix:"",emptyNodeForm:{},ignoreRoot:!0});try{n=e&&s.xml2js(e)}catch(e){a.Z.warn("[Parser] Unable to parse XML: "+e.message)}return n||t}},67299:(e,t,n)=>{"use strict";n.d(t,{l:()=>a,Z:()=>s});var r=n(69881);let i;const a=["Video","Track","Photo","Playlist","Game"],s=function(e,t){const n=t&&t.includeDirectories,s=function(e,t,n){Array.isArray(t)||(t=[t]);const r=t.join("|"),i=new RegExp(`<(${r})`,"g"),a=new RegExp(`</(${r})>`,"g");return e.replace(i,`<${n} elementName="$1"`).replace(a,`</${n}>`)}(e,n?["Directory",...a]:a,"Metadata");return n?s:function(e){i||(i=(0,r.getAllMetadataTypes)().map((e=>e.typeString)).join("|"));const t=new RegExp(`<Directory([^>]*?)type="(${i})"([\\s\\S]*?)</Directory>`,"gm"),n=new RegExp(`<Directory([^>]*?)type="(${i})"([\\s\\S]*?)/>`,"gm");return e.replace(t,'<Metadata$1type="$2" elementName="Directory"$3</Metadata>').replace(n,'<Metadata$1type="$2" elementName="Directory"$3/>')}(s)}},70762:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r=function(e){return e?"1":"0"}},23100:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r=function(e={},t={}){return function(e,t){const n=Object.keys(e);return t.orFields&&t.andFields&&n.sort(((e,n)=>t.orFields.includes(e)&&t.andFields.includes(n)?-1:t.andFields.includes(e)&&t.orFields.includes(n)?1:0)),n}(e,t).reduce(((n,r,i)=>{let a=t.separator||"&";return 0===i?a="":t.orFields&&t.orFields.includes(r)?a="|":t.andFields&&t.andFields.includes(r)&&(a="&"),n+`${a}${encodeURIComponent(r)}=${encodeURIComponent(e[r])}`}),"")}},70515:(e,t,n)=>{"use strict";n.d(t,{Z:()=>y});var r=n(13469),i=n.n(r),a=n(99862),s=n(86017),o=n(96840);var l=n(67124),c=n(85022);var d=n(84659),u=n(8941),p=n(25474),m=n(70762);var h=n(23100);const g={parseType:function(e,t,n){const r=this.getByType("parse",e,this._parseTypeMap);return r?r(t,n):t},stringifyType:function(e,t,n){if(i().isString(t))return t;if(null==t)return"";const r=this.getByType("stringify",e,this._stringifyTypeMap);return r?r(t,n):t},getByType:function(e,t,n){if(n&&i().has(n,t))return n[t];const r=e+(t.charAt(0).toUpperCase()+t.slice(1));return i().has(this,r)?(n[t]=this[r],this[r]):void 0},parseBoolean:s.Z,stringifyBoolean:m.Z,parseInteger:l.Z,parseFloat:function(e){return null==e||""===e?0:window.parseFloat(e)},parseString:u.Z,parseEncodedString:function(e){if(null==e)return"";try{return decodeURIComponent(e)}catch(t){return o.Z.warn("[Parser] Unable to parse encoded string"),e}},parseArray:a.Z,parseList:function(e){return e?Array.isArray(e)?e:e.split(","):[]},stringifyList:function(e){return e.join(",")},parseQueryString:d.Z,stringifyQueryString:h.Z,parseJSON:c.Z,parseXML:p.Z,reset:function(){this._parseTypeMap={json:this.parseJSON,xml:this.parseXML},this._stringifyTypeMap={}}};g.reset();const y=g},89318:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(13469),i=n.n(r),a=n(96840),s=n(79270);const o={ORIGINAL:-1,CONVERT_AUTOMATICALLY:-2,qualities:{},getQualityByIndex:function(e){if(e===this.CONVERT_AUTOMATICALLY)return{index:this.CONVERT_AUTOMATICALLY};if(e<0)return{index:this.ORIGINAL};const t={index:e};return i().each(this.qualities,(function(n,r){t[r]=i().result(this.qualities,r)[e]}),this),t},getQualityCount:function(){const e=i().first(i().keys(this.qualities));return i().result(this.qualities,e).length},getQualityAttribute:function(e){const t=(0,s.Z)(e,e.server.get("isPrivateConnection"));return"video"!==this.type?this.type+"!"+t:t},getSyncQualityAttribute:function(){return"syncQuality!"+this.type},getCurrentQuality:function(e,t,n){const r=this.getQualityAttribute(e);let s=t.get(r);return s>=this.getQualityCount()&&(a.Z.warn("Quality index "+s+" is out of bounds"),s=i().result(t,"defaults")[r],n({[r]:s})),i().extend(this.getQualityByIndex(s),{attribute:r})},getAvailableQualities:function(e){e||(e={});const t=e.lowestQualityIndex;let n=e.highestQualityIndex;const r=e.comparator,i=[];n===this.ORIGINAL&&(n=void 0);for(let e=0,a=this.getQualityCount();e<a;e++)if(!(t&&e<t)){if(n&&e>n)return i;if(r&&r.call(this,e))return i;i.push(this.getQualityByIndex(e))}return i},getResolutionFromSize:function(e){const t=e.split("x"),n=parseInt(t[1],10);return this.getResolutionFromHeight(n)},getResolutionFromHeight:function(e){return e>2560?"8k":e>1100?"4k":e>720?"1080":e>576?"720":e>480?"576":e>360?"480":"sd"},getHeightFromResolution:function(e){switch(e){case"8k":return 5120;case"4k":return 2560;case"1080":return 1080;case"720":return 720;case"576":return 576;case"480":return 480;case"sd":default:return 360}},getNearestIndex:function(e,t){if(!t)return this.ORIGINAL;let n=e.indexOf(t);if(n<0){n=0;for(let r=0,i=e.length;r<i&&!(e[r]>t);r++)n=r}return n}}},67470:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(43149);const i=function(e){return e.repeatOne?r.ry:e.repeatAll?r.QN:r.Hn}},56669:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(93966);function i(){return(0,r.DB)("settingFinder").find("volume")}},79270:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(62638);function i(e,t){return(0,r.Z)(e,t)?"localQuality":"remoteQuality"}},62638:(e,t,n)=>{"use strict";function r(e,t){const n=e.toJSON?e.toJSON():e,{isExtra:r,guid:i}=n;return!(r&&!/^file:\/\//.test(i))&&t}n.d(t,{Z:()=>r})},33232:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(13469),i=n.n(r),a=n(35406),s=n(89318),o=i().extend({},s.Z,{type:"video",qualities:{bitrate:[64,96,208,320,720,1500,2e3,3e3,4e3,8e3,1e4,12e3,2e4],videoResolution:["220x128","220x128","284x160","420x240","576x320","720x480","1280x720","1280x720","1280x720","1920x1080","1920x1080","1920x1080","1920x1080"],videoQuality:[10,20,30,30,40,60,60,75,100,60,75,90,100]},getAvailableQualitiesFor(e,t,n){if(!e||!t)return[];if(Array.isArray(e)||(e=[e]),0===e.length)return[];const r=t.get("transcoderVideo"),s=t.get("transcoderVideoRemuxOnly"),o=this.getMaximumResolution(e);if(!r||s||!o)return[];const l=t.get("maxUploadBitrate"),c=i().extend({},n,{comparator:function(e){if(l&&this.qualities.bitrate[e]>l)return!0;const t=this.qualities.videoResolution[e].split("x");return(0,a.Z)(t[0],t[1])>o}});return this.getAvailableQualities(c)},getBestAvailableQuality:function(e,t){return 0===t.length?o.ORIGINAL:t.find((t=>t.index===e.index))?e.index:i().last(t).index},getNearestIndexToBitrate:function(e){return this.getNearestIndex(this.qualities.bitrate,e)},getMinimumQuality:function(e,t){return(e===o.ORIGINAL?Number.MAX_VALUE:e)<(t===o.ORIGINAL?Number.MAX_VALUE:t)?e:t},getMaximumQuality:function(e,t){return this.getMinimumQuality(e,t)===e?t:e},getMaximumResolution:function(e){return e.reduce((function(e,t){if(!t.width&&!t.height)return e;const n=(0,a.Z)(t.width,t.height);return null===e||n>e?n:e}),null)},isExplicitQuality:function(e){return e!==o.ORIGINAL&&e!==o.CONVERT_AUTOMATICALLY}});const l=o},73571:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(13469),i=n.n(r),a=n(19130);function s(e,t){const n=i().invert(e);return i().reduce(e,((e,r)=>(e[r]=t[n[r]],e)),{})}const o={playing:"playing",paused:"paused",stopped:"paused",error:"paused",buffering:"playing"},l=new(a.Z.extend({types:{VIDEO:"video",MUSIC:"music",PHOTO:"photo",ROM:"rom"},elements:{VIDEO:"video",MUSIC:"audio",PHOTO:"photo"},streams:{VIDEO:"video",MUSIC:"audio",PHOTO:"photo"},states:{STOPPED:"stopped",PAUSED:"paused",PLAYING:"playing",BUFFERING:"buffering",ERROR:"error"},slideshowStates:{PLAYING:"playing",PAUSED:"paused"},castStates:{ERROR:"IDLE",STOPPED:"IDLE",PAUSED:"PAUSED",PLAYING:"PLAYING",BUFFERING:"BUFFERING"},mediaStates:{LOADING:"LOADING",BUFFERING:"BUFFERING",READY:"READY",ERROR:"ERROR"},initialize(){this.typeByElement=s(this.elements,this.types),this.elementByType=s(this.types,this.elements),this.typeByStream=s(this.streams,this.types),this.streamByType=s(this.types,this.streams),this.statebyCastState=s(this.castStates,this.states),this.castStateByState=s(this.states,this.castStates)},getTypeByElement(e){return this.typeByElement[e]},getElementByType(e){return this.elementByType[e]},getTypeByStream(e){return this.typeByStream[e]},getStreamByType(e){return this.streamByType[e]},getStateByCastState(e){return this.statebyCastState[e]},getCastStateByState(e){return this.castStateByState[e]},getSlideshowStateByState:e=>o[e]}))},53779:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});const r="placeholder-standard",i="placeholder-square",a="placeholder-widescreen",s={movie:r,show:r,season:r,episode:a,artist:i,album:i,track:i,photo:i,photoalbum:i,clip:a,playlist:i,playlistFolder:i,channel:i,channelDirectory:i,folder:"placeholder-folder",friend:"placeholder-friend",device:i,poster:r,art:a,banner:a,collection:r}},62779:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r={sizes:{movie:"portrait",show:"portrait",season:"portrait",episode:"landscape",artist:"square",album:"square",track:"square",photo:"square",photoalbum:"square",clip:"landscape",playlist:"square",playlistFolder:"square",channel:"square",channelDirectory:"square",folder:"portrait",friend:"square",poster:"portrait",art:"landscape",banner:"banner",collection:"portrait"},ratios:{portrait:1/1.5,square:1,landscape:16/9,banner:5.2},getRatioByType:function(e){return this.ratios[this.sizes[e]]},getPosterWidthUsingRatio:function(e,t){return Math.round(this.ratios[e]*t)},getPosterHeightUsingRatio:function(e,t){return Math.round(this.ratios[e]&t)},getPosterWidth:function(e,t){return Math.round(t*this.getRatioByType(e))},getPosterHeight:function(e,t){return Math.round(t/this.getRatioByType(e))}}},54304:(e,t,n)=>{"use strict";n.d(t,{gn:()=>i,P_:()=>a.Z}),n(66822),n(50612);var r=n(44233);function i(e=r.Z){return"ios"===e.platformID}var a=n(41720);n(7165)},66822:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(44233);function i(e=r.Z){return"chrome"===e.id}},50612:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(44233);function i(e=r.Z){return"edge"===e.id}},41720:(e,t,n)=>{"use strict";function r(){return!1}n.d(t,{Z:()=>r})},7165:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(44233);function i(e=r.Z){return"safari"===e.id}},17575:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(19755),i=n.n(r);const a=function(e){const t=i().Deferred();return e&&e.then?e.then(t.resolve,t.resolve):t.resolve(e),t.promise()}},15633:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(19755),i=n.n(r);const a=function(e){const t=i().Deferred();return e.then(t.resolve,t.reject,t.notify),{promise:t.promise(),cancel:function(){t.reject({isCanceled:!0})}}}},28496:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(19755),i=n.n(r);const a=function(e,t){const n=i().Deferred(),r=(new Date).getTime()+t;let a;function s(){const e=(new Date).getTime(),t=Math.max(r-e,0);window.setTimeout(a,t)}return e.then(((...e)=>{a=()=>n.resolve(...e)}),((...e)=>{a=()=>n.reject(...e)})),e.then(s,s),n.promise()}},68002:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(19755),i=n.n(r),a=n(17575);const s=function(...e){const t=Array.isArray(e[0])?e[0]:e;return i().when(...t.map(a.Z))}},14640:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var r=n(62730),i=n(67006),a=n(17524),s=n(5562),o=n(30369);const l=n(45224).Z.extend({name:"LegacyLibraryProviderModel",defaults(){const e=this.server,t=e.get("isFullServer"),n=e.get("isFullOwnedServer"),l=[{type:i.P8,key:"/library/sections"},{type:i.uq,key:"/library/matches"},{type:i.IS,key:"/library/metadata"}];return t&&l.push({type:i.mo,key:"/hubs/search"},{type:i.F5,key:"/playQueues"},{type:i.zg,key:"/playlists"},{type:i.jN,key:"/:/timeline"},{type:i.aO,actions:[{id:r.lq,key:"/:/scrobble",reverseKey:"/:/unscrobble"},{id:r.zw,key:"/:/rate"}]}),n&&l.push({type:i.d3}),{identifier:a.Y3,title:(0,s.Z)("Library"),types:["video","audio","photo"],protocols:n?["stream","download"]:["stream"],features:new o.Z(l,{parse:!0,server:e})}}});function c(e,t){!t.get("isCloud")&&e.forEach((e=>{e.set({isPending:!1,isPopulated:!0})})),t.get("isCloud")||e.get(a.Y3)||e.add(new l({isPending:!1,isPopulated:!0},{server:t}))}},41658:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(69881),i=n(84936);function a(e,t){const n=["/library/sections",e,"all"];return t===r.PHOTO?i.Z.join(n):i.Z.join(n,{type:r.getMetadataType(t).id})}},85586:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(35589);function i(e,t){return e===r.X?`provider://${t}`:`server://${e}/${t}`}},24079:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(67006);function i(e,t){const n=e.get("features").get(r.P8),i=n.get("directories");if(!n||!i)return null;const a=i.find((e=>e.get("hubKey")===t||e.get("key")===t));return a?a.toJSON():null}},36535:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(17524);const i=function(e,t){const n=t||e;return r.wB(n,r.Ll)?r.Ll:n}},9010:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(41890),i=n(44491),a=n(17524),s=n(45399);const o=function({protocol:e,protocolCapabilities:t=[],providerIdentifier:n,userFeaturesByUUID:o,playQueueType:l,isWatchTogether:c=!1}){if(e!==r.l&&e!==r.D)return!1;if(l===i.eD)return!1;if(c)return!1;const d=a.wB(n,[a.Y3,a.HG]),u=a.wB(n,[a.Ll,a.vP]),p=a.wB(n,[a.w1]),m=a.wB(n,a.xF),h=a.wB(n,a.IS),g=a.wB(n,[a.uk]),y=e===r.l||o[s.JO],v=o[s.Fq],f=e===r.l||t.includes("provider-playback");return!!(d||u&&y||p&&v||m&&f||h&&f||g&&f)}},63733:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(13469),i=n.n(r);function a(e){const t=i().clone(e);return void 0!==t.last?(t.end=t.last+1,t.size=t.end-t.start):void 0!==t.size?(t.end=t.start+t.size,t.last=t.end-1):void 0!==t.end&&(t.last=t.end-1,t.size=t.end-t.start),t}function s(e,t){return i().filter(i().map(e,a),(function(e){return t?e.size>=0:e.size>0}))}const o={augment:a,difference:function(e,t,n){return e=a(e),t=a(t),s([{start:e.start,last:Math.min(e.last,t.start-1)},{start:Math.max(e.start,t.end),last:e.last}],n)},union:function(e,t,n){if(e=a(e),t=a(t),e.start>t.start){const n=e;e=t,t=n}const r=[e];return t.start<=e.end?r[0].last=Math.max(t.last,e.last):r.push(t),s(r,n)},degap:function(e,t){let n=a(e);return(t=a(t)).size?(n.start>t.end&&(n={start:t.end,end:n.end}),n.end<t.start&&(n={start:n.start,end:t.start}),a(n)):n},each:function(e,t,n){e=a(e);let r=Math.min(e.start,e.end);const i=Math.max(e.start,e.end);for(;r<=i;r++)t.call(n,r)},roundByPage:function(e,t){return e=a(e),a({start:Math.floor(e.start/t)*t,end:Math.ceil(e.end/t)*t})}}},16561:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d});var r=n(67294),i=n(97762),a=Object.defineProperty,s=Object.prototype.hasOwnProperty,o=Object.getOwnPropertySymbols,l=Object.prototype.propertyIsEnumerable,c=(e,t,n)=>t in e?a(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;function d(e,t={}){return(0,i.renderToStaticMarkup)(r.createElement(e,((e,t)=>{for(var n in t||(t={}))s.call(t,n)&&c(e,n,t[n]);if(o)for(var n of o(t))l.call(t,n)&&c(e,n,t[n]);return e})({},t)))}},72759:(e,t,n)=>{"use strict";n.d(t,{Ts:()=>r,zL:()=>i,sC:()=>a,t6:()=>s,y0:()=>o,QX:()=>l,Ij:()=>c,Gh:()=>d,TS:()=>u,ZJ:()=>p,K5:()=>m,zN:()=>h,nJ:()=>g,RG:()=>y,JW:()=>v,l1:()=>f,EW:()=>b,iJ:()=>I});const r="general.db.backup",i="general.bundle.clean",a="grabber.grab",s="grabber.assimilate",o="library.delete",l="library.update.section",c="library.refresh.items",d="library.update.item.metadata",u="media.generate.bif",p="media.generate.chapter.thumbs",m="media.generate.intros",h="music.analysis",g="general.db.optimize",y="provider.device.channelscan",v="provider.epg.load",f="provider.subscriptions.process",b="provider.subscription.refresh",I="subtitle.download"},6272:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(93966),i=n(12319),a=n(319);function s(e,t=!1){const n=t||"Plex Media Server"===e.get("product"),s=new i.ZP({machineIdentifier:e.id,friendlyName:e.get("name"),version:n?e.get("productVersion"):void 0,isShared:!e.get("owned"),accessToken:e.get("accessToken"),sourceTitle:e.get("sourceTitle"),publicAddressMatches:e.get("publicAddressMatches"),httpsRequired:e.get("httpsRequired"),platform:e.get("platform"),platformVersion:e.get("platformVersion"),presence:e.get("presence"),home:e.get("home"),serverClass:n?void 0:i.ZP.serverClasses.SECONDARY,createdAt:e.get("createdAt"),lastSeenAt:e.get("lastSeenAt"),ownerId:e.get("ownerId")},{parent:r.DB("appModel")});return(0,a.Z)(s,e),s}},62367:(e,t,n)=>{"use strict";function r(){const[,e,t]="https://plex.tv".match(/^([^:]+):\/\/(.*)$/)||[];return{scheme:e,address:t}}n.d(t,{Z:()=>r})},319:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(13469),i=n.n(r);function a(e,t){t.get("connections").each((n=>{const r=[{id:t.server.id}],a=i().extend(n.toJSON(),{sources:r});e.addConnection(a)}))}},29065:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r=function(e){const{key:t,sourceType:n,machineIdentifier:r,providerIdentifier:i,directoryID:a,directoryIcon:s,title:o,serverFriendlyName:l,serverSourceTitle:c,providerSourceTitle:d,isCloud:u,isFullOwnedServer:p}=e;return{key:t,sourceType:n,machineIdentifier:r,providerIdentifier:i,directoryID:a,directoryIcon:s,title:o,serverFriendlyName:l,serverSourceTitle:c,providerSourceTitle:d,isCloud:u,isFullOwnedServer:p}}},36600:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(44823);function i(e,t,n,i){return(0,r.Z)("source",e,t,n,i)}},56971:(e,t,n)=>{"use strict";function r(e){return e.reduce(((e,t)=>{const{isFullOwnedServer:n,serverSourceTitle:r,machineIdentifier:i}=t;if(!n&&r){null==e.sharedSources[r]&&(e.sharedSources[r]=[]);const t=e.sharedSources[r];t.includes(i)||t.push(i)}return i&&n&&(null==e.ownedSources[i]&&(e.ownedSources[i]=0),e.ownedSources[i]++),e}),{sharedSources:{},ownedSources:{}})}n.d(t,{Z:()=>r})},4844:(e,t,n)=>{"use strict";function r(e,t,...n){if(!t)return;const r=[];r.push(e);for(let e=0,t=n.length;e<t;e++){const t=n[e];t&&r.push(t)}return r.push(t),r.join("--")}n.d(t,{Z:()=>r})},15042:(e,t,n)=>{"use strict";n.d(t,{cN:()=>r,MC:()=>i,Y3:()=>a,km:()=>s,xR:()=>o,YI:()=>l,vO:()=>c,Tl:()=>d,$4:()=>u,TY:()=>p,PK:()=>m,RP:()=>h,PI:()=>g,gO:()=>y,Re:()=>v,PC:()=>f,r8:()=>b});const r="servers",i="providers",a="libraries",s="hubs",o="users",l="resources",c="friends",d="homeUsers",u="metadataLists",p="metadataItems",m="mediaSubscriptions",h="liveTVSessions",g="playQueueItems",y="playlistItems",v="searchResults",f="transcodeJobs",b="watchTogetherRooms"},87048:(e,t,n)=>{"use strict";n.d(t,{l:()=>i,Z:()=>a});var r=n(96840);function i(e,t,n){const r=e.get("entities").get(t);if(r){const e=r.get(n);if(e)return e.get("model")}}function a(e,t,n){const a=i(e,t,n);return a||r.Z.warn('An entity does not exist with the type "%s" and id "%s"',t,n),a}},28440:(e,t,n)=>{"use strict";n.d(t,{VX:()=>a,bg:()=>s,SW:()=>o,$w:()=>l,Y7:()=>c,js:()=>d,lp:()=>u,lK:()=>p,Ij:()=>m,$R:()=>h,tz:()=>g,xS:()=>y,_s:()=>v,VZ:()=>f,xl:()=>b,Tp:()=>I,KC:()=>S,c_:()=>M,bT:()=>E});var r=n(15042),i=n(87048);function a(e){return e.get("user")}function s(e){return e.get("user").get("desktop")}function o(e,{serverEntityID:t}){return(0,i.Z)(e,r.cN,t)}function l(e,{serverEntityID:t}){return(0,i.l)(e,r.cN,t)}function c(e,t){const n=o(e,t);return n&&n.get("desktop")}function d(e,{providerEntityID:t}){return(0,i.Z)(e,r.MC,t)}function u(e,{providerEntityID:t}){return(0,i.l)(e,r.MC,t)}function p(e,{metadataListEntityID:t}){return(0,i.Z)(e,r.$4,t)}function m(e,{metadataListEntityID:t}){return(0,i.l)(e,r.$4,t)}function h(e,{metadataItemEntityID:t}){return(0,i.Z)(e,r.TY,t)}function g(e,{metadataItemEntityID:t}){return(0,i.l)(e,r.TY,t)}function y(e,{mediaSubscriptionEntityID:t}){return(0,i.Z)(e,r.PK,t)}function v(e,{liveTVSessionEntityID:t}){return(0,i.Z)(e,r.RP,t)}function f(e,{liveTVSessionEntityID:t}){return(0,i.l)(e,r.RP,t)}function b(e,{playQueueItemEntityID:t}){return(0,i.Z)(e,r.PI,t)}function I(e,{playlistItemEntityID:t}){return(0,i.Z)(e,r.gO,t)}function S(e,{friendEntityID:t}){return(0,i.Z)(e,r.vO,t)}function M(e,{searchResultEntityID:t}){return(0,i.Z)(e,r.Re,t)}function E(e,{watchTogetherRoomEntityID:t}){return(0,i.Z)(e,r.r8,t)}},30983:(e,t,n)=>{"use strict";function r(e,t){return e.get("ui").get(`${t}Player`)}function i(e,t){const n=e.get("ui").get("audioVideoPlayer").get("playQueue"),r=e.get("ui").get("photoPlayer").get("playQueue");return n&&n.get("playQueueID")===t?n:r&&r.get("playQueueID")===t?r:void 0}function a(e,t){const n=e.get("playQueue");if(!n)return;const r=n.get("playQueueItems");return t<0||t>=r.length?void 0:r.at(t)}n.d(t,{F_:()=>r,RZ:()=>i,bG:()=>a})},27082:(e,t,n)=>{"use strict";n.d(t,{c9:()=>y,GF:()=>v});var r=n(11133),i=n(96840);const a=[];let s,o,l,c=!1,d=!1,u=1e3/60;function p(){s&&(s=window.clearTimeout(s))}function m(){o&&(o=window.clearTimeout(o))}function h(){const e=l;l=null,m(),e&&e()}function g(){p(),m();const e=window.performance.now();let t;for(d=!0;a.length&&(!t||t-e<16.666666666666668);)a.pop()(),t=window.performance.now();d=!1,a.length?(i.Z.warn("[State] Unable to process all updates within budget; %s update(s) remaining",a.length),s=window.setTimeout(g,u)):l&&(o=window.setTimeout(h,u))}function y(e){for(p(),m(),d=!0,c=!0;a.length;)a.pop()();if(e)try{e()}catch(e){(0,r.Z)(!1,e.name+": "+e.message)}l&&h(),d=!1,c=!1}function v(e,t){if(t.isStateTreeRoot)return l=e,void(d||o||(o=window.setTimeout(h,u)));c?e():(m(),a[0]!==e&&a.unshift(e),d||s||(s=window.setTimeout(g,u)))}},43534:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r=function(e){return e?e.toUpperCase():""}},34885:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r=function(e){return e?e.charAt(0).toUpperCase()+e.slice(1):""}},96638:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r=function(e){return e.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&")}},19816:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(70515),i=n(5562);const a=function(e){return e&&r.Z.parseBoolean(e)?(0,i.Z)("Yes"):(0,i.Z)("No")}},48653:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(5562);const i=function(e){if(!e||!e.length)return;const t=e.length;return 1===t?e[0]:2===t?(0,r.Z)("{1} and {2}",e[0],e[1]):3===t?(0,r.Z)("{1}, {2}, and {3}",e[0],e[1],e[2]):(0,r.Z)("{1}, {2}, and {3} others",e[0],e[1],e.length-2)}},93275:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r=function(e){return"[object String]"===window.toString.call(e)}},99317:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(8593);function i(e=24){const t=(0,r.Z)(e,0,1024);let n="";for(;n.length<t;)n+=Math.random().toString(36).substring(2,t-n.length+2);return n}},70716:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(13469),i=n.n(r);const a=function(e){const t=/(\d+\.){2,3}\d+/.exec(e);return i().first(t)||e}},55028:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r=function(e,t){if(!e)return"";if(e.length>t){let n=e.substring(0,t-3);for(;!1===/\S/.test(n.charAt(n.length-1))&&n.length>1;)n=n.slice(0,-1);return n+"..."}return e}},53221:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(84936),i=n(1495);const a=function(e,t){return(0,i.Z)(r.Z.getLastSegment(e||""),t)}},1495:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r=function(e,t,n){if(!e)return"";if(e.length>t){const r=t-3-(n=n||Math.floor((t-3)/2));return e.substr(0,n)+"..."+e.substr(e.length-r)}return e}},76037:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r={waitingRegex:/^(transcoded|downloaded|directplay|processed)$/,processingRegex:/^(pending|transcoding|downloading)$/,failedRegex:/^(failed|error)$/,addVersionHeader:function(e,t){return t||(t={}),t.headers||(t.headers={}),t.headers["X-Plex-Sync-Version"]=e,t},addVersionHeaderForDevice:function(e,t){const n=e&&e.get("syncList");return n&&n.get("version")?this.addVersionHeader(n.get("version"),t):t},getSyncStateFromPart:function(e){return e.transcodeState||e.syncState},getSyncStateContextFromPart:function(e){return e.transcodeStateContext||e.syncStateContext}}},81463:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(17524);function i(e){const t=e.split("/");if(""===t.shift()){const e=t[0],n=t[t.length-1];let i;return r.wB(e,r.Ll)?i=e:n&&(i=n),i}return e}},5562:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(3595);function i(e,...t){return r.Z.t.apply(r.Z,arguments)}},16551:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d});var r=n(13469),i=n.n(r),a=n(89656),s=n(96840);const o=function(e,t){return t?e.get("Media").findIndex((e=>e.id===t)):0},l=function(e,t){const n=e.Part;return i().indexOf(n,i().findWhere(n,{key:t}))};var c=n(84936);const d={extensions:{dash:".mpd",hls:".m3u8",http:""},logParams:function(e,t,n){(0,s.Z)("[Transcoder] %s (%s) options:",e,t,n)},serializeParams:function(e,t){let n,r={},a={};const s=/^X-Plex/;return i().each(e,(function(e,t){s.test(t)?a[t]=e:r[t]=e})),r=c.Z.stringifyParams(r),a=c.Z.stringifyParams(a),n=r&&a?r+"&"+a:r||a,n},image:function(e,t,n){if(!t)return"";const r=n.fallbackServer;let a,s=!1;if(r&&r.get("isConnected")&&(a=r.get("isFullServer")?r:null),a)if(e.get("cloud"))s=!0;else if(!e.get("isFullServer")){const t=!e.get("activeConnection").get("isPrivate"),n=a.get("activeConnection").get("isPrivate");s=t||n}const o=s?a:e,l=o.id===e.id,c={url:e.resolveUrl(t,{useRelativeUrl:l,appendToken:!0}),width:n.width&&Math.round(parseFloat(n.width)),height:n.height&&Math.round(parseFloat(n.height))};n.minSize&&(c.minSize=1),n.format&&(c.format=n.format),n.quality&&(c.quality=n.quality),n.filters&&i().each(n.filters,(function(e,t){void 0!==e&&(c[t]=e)}));const d="/photo/:/transcode?"+this.serializeParams(c,o);return o.resolveUrl(d,{appendToken:!0})},music:function(e,t,n,r){r||(r="start");const a=i().first(t.get("Media"));if(!a)return;const s=i().first(a.Part);if(!s)return;let o,l;e.supports("universalMusicTranscoder")?(o=i().extend({hasMDE:1,path:e.resolveUrl(t.get("key"),{useRelativeUrl:!0}),mediaIndex:0,partIndex:0},n),l="/music/:/transcode/universal/"+r):(o={identifier:t.get("identifier"),url:e.resolveUrl(s.key,{useRelativeUrl:!0}),format:"mp3",audioCodec:"libmp3lame",audioBitrate:320,audioSamples:44100},l="/music/:/transcode/generic.mp3"),this.logParams("Music",r,o),o=i().extend(o,e.getHeaders());const c=this.extensions[o.protocol];return"start"===r&&c&&(l+=c),e.resolveUrl(l+"?"+this.serializeParams(o,e))},video:function(e,t,n,r,s,c){s||(s={}),c||(c="start");const d=e.entityID()===t.get("serverEntityID"),u=e.get("activeConnection").get("isPrivate");let p=i().extend({hasMDE:1,path:e.resolveUrl(t.get("key"),{useRelativeUrl:d,appendToken:!d}),mediaIndex:o(t,n.id),partIndex:l(n,r.key),protocol:"hls",fastSeek:1,directPlay:0,directStream:1,subtitleSize:100,audioBoost:a.KH,location:u?"lan":"wan"},s);this.logParams("Video",c,p),p=i().extend(p,e.getHeaders());const m=this.extensions[p.protocol];let h="/video/:/transcode/universal/"+c;return"start"===c&&m&&(h+=m),e.resolveUrl(h+"?"+this.serializeParams(p,e))},game:function(e,t,n,r,a){r||(r={}),a||(a="start");const s=e.entityID()===t.get("serverEntityID"),l=e.get("activeConnection").get("isPrivate");let c=i().extend({path:e.resolveUrl(t.get("key"),{useRelativeUrl:s,appendToken:!s}),location:l?"lan":"wan",mediaIndex:o(t,n.id)},r,{protocol:void 0});this.logParams("Game",a,c),c=i().extend(c,e.getHeaders());const d=this.extensions[c.protocol];let u="/game/:/transcode/"+a;return"start"===a&&d&&(u+=d),e.resolveUrl(u+"?"+this.serializeParams(c,e))}}},35981:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(13469),i=n.n(r),a=n(96840);function s(e){const t=i().clone(e);return t.hasOwnProperty("title")?(t.title=i().result(t,"title"),t.hasOwnProperty("shortTitle")&&(t.shortTitle=i().result(t,"shortTitle")),t.hasOwnProperty("plural")&&(t.plural=i().result(t,"plural")),t):t}function o(e,t){const n={};return e.forEach((e=>{n[e]=t.reduceRight(((t,n)=>{const r=n[e];return null!=r&&(t[r]=n),t}),{})})),{contains:function(e){for(const t in n)if(n[t][e])return!0;return!1},get:function(e){for(const t in n){const r=n[t][e];if(r)return s(r)}a.Z.warn(`No type was found for ${e}`)},getAll:function(){return t.map(s)}}}},94716:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(58605),i=n(46453),a=n(34470);const s=function(e,t,n){const{key:s,types:o={}}=e,l=Array.isArray(t.protocols)?t.protocols.includes(a.K):t.protocols[a.K],c=s===r.Hs;if(l)return c;if(c)return!1;const d=n.agent===i.Hn;if(s===r.FM&&!d||s===r.MB&&d)return!1;const{type:u,subtype:p}=o;return n.type===u&&(null==p&&null==n.subtype||null!=p&&n.subtype===p)};function o(e,t){if(!e||!t||"hubs"===t.id)return;const n=(0,r.vK)();for(let r=0,i=n.length;r<i;r++){const i=n[r];if(s(i,e,t))return i}return n.find((e=>e.key===r.lz))}},71321:(e,t,n)=>{"use strict";n.d(t,{VJ:()=>r,vT:()=>i});const r="spotlight",i=["shelf","grid","list","banner","hero"]},91135:(e,t,n)=>{"use strict";n.d(t,{Hn:()=>i,pX:()=>a,j0:()=>s,pV:()=>o,eD:()=>l});var r=n(35981);const i="none",a="video",s="audio",o="photo",l="rom",c=(0,r.Z)(["id","typeString"],[{id:0,typeString:i},{id:1,typeString:a},{id:2,typeString:s},{id:3,typeString:o},{id:999,typeString:l}]);c.get,c.getAll},61478:(e,t,n)=>{"use strict";n.r(t),n.d(t,{PODCAST:()=>r,WEBSHOW:()=>i,MUSIC_VIDEO:()=>a});const r="podcast",i="webshow",a="musicVideo"},69881:(e,t,n)=>{"use strict";n.r(t),n.d(t,{MOVIE:()=>s,SHOW:()=>o,SEASON:()=>l,EPISODE:()=>c,ARTIST:()=>d,ALBUM:()=>u,TRACK:()=>p,CLIP:()=>m,TRAILER:()=>h,COMIC:()=>g,PERSON:()=>y,PHOTO:()=>v,PHOTO_ALBUM:()=>f,AUDIO:()=>b,VIDEO:()=>I,PLAYLIST:()=>S,PLAYLIST_FOLDER:()=>M,STATION:()=>E,COLLECTION:()=>P,MIXED:()=>D,FOLDER:()=>C,CHANNEL:()=>w,GAME:()=>Z,containsMetadataType:()=>N,getMetadataType:()=>O,getAllMetadataTypes:()=>A,getChildType:()=>x,getLeafType:()=>j,getParentType:()=>L,getRootType:()=>k,getRelatedTypes:()=>R,isParentType:()=>z,isDirectoryType:()=>U});var r=n(5562),i=n(35981),a=n(91135);const s="movie",o="show",l="season",c="episode",d="artist",u="album",p="track",m="clip",h="trailer",g="comic",y="person",v="photo",f="photoalbum",b="audio",I="video",S="playlist",M="playlistFolder",E="station",P="collection",D="mixed",C="folder",w="channel",Z="game",T=(0,i.Z)(["id","typeString"],[{id:1,typeString:s,title:()=>(0,r.Z)("Movie"),plural:()=>(0,r.Z)("Movies"),mediaType:a.pX},{id:2,typeString:o,title:()=>(0,r.Z)("Show"),plural:()=>(0,r.Z)("Shows"),mediaType:a.Hn,child:l},{id:3,typeString:l,title:()=>(0,r.Z)("Season"),plural:()=>(0,r.Z)("Seasons"),mediaType:a.Hn,parent:o,child:c},{id:4,typeString:c,title:()=>(0,r.Z)("Episode"),plural:()=>(0,r.Z)("Episodes"),mediaType:a.pX,parent:l},{id:5,typeString:h,title:()=>(0,r.Z)("Trailer"),plural:()=>(0,r.Z)("Trailers"),mediaType:a.pX},{id:6,typeString:g,title:()=>(0,r.Z)("Comic"),plural:()=>(0,r.Z)("Comics"),mediaType:a.pV},{id:7,typeString:y,title:()=>(0,r.Z)("Person"),plural:()=>(0,r.Z)("People"),mediaType:a.Hn},{id:8,typeString:d,title:()=>(0,r.Z)("Artist"),plural:()=>(0,r.Z)("Artists"),mediaType:a.Hn,child:u},{id:9,typeString:u,title:()=>(0,r.Z)("Album"),plural:()=>(0,r.Z)("Albums"),mediaType:a.Hn,parent:d,child:p},{id:10,typeString:p,title:()=>(0,r.Z)("Track"),plural:()=>(0,r.Z)("Tracks"),mediaType:a.j0,parent:u},{id:11,typeString:"picture",title:()=>(0,r.Z)("Picture"),plural:()=>(0,r.Z)("Pictures"),mediaType:a.pV},{id:12,typeString:m,title:()=>(0,r.Z)("Clip"),plural:()=>(0,r.Z)("Clips"),mediaType:a.pX},{id:13,typeString:v,title:()=>(0,r.Z)("Photo"),plural:()=>(0,r.Z)("Photos"),mediaType:a.pV,parent:f},{id:14,typeString:f,title:()=>(0,r.Z)("Photo Album"),plural:()=>(0,r.Z)("Photo Albums"),mediaType:a.Hn,child:v},{id:15,typeString:S,title:()=>(0,r.Z)("Playlist"),plural:()=>(0,r.Z)("Playlists"),mediaType:a.Hn,parent:f},{id:16,typeString:M,title:()=>(0,r.Z)("Playlist"),plural:()=>(0,r.Z)("Playlists"),mediaType:a.Hn,child:S},{id:18,typeString:P,title:()=>(0,r.Z)("Collection"),plural:()=>(0,r.Z)("Collections"),mediaType:a.Hn},{id:19,typeString:Z,title:()=>(0,r.Z)("Game"),plural:()=>(0,r.Z)("Games"),mediaType:a.eD}]),N=T.contains,O=T.get,A=T.getAll;function x(e){const t=T.get(e);if(t&&t.child)return T.get(t.child)}function j(e){const t=T.get(e);if(t){const e=t.child;return null==e?t:j(e)}}function L(e){const t=T.get(e);if(t)return T.get(t.parent)}function k(e){const t=T.get(e);if(t){const e=t.parent;return null==e?t:k(e)}}function R(e,t){if(!t){const t=k(e);return t?R(t.id,[]):[]}const n=T.get(e),r=x(e),i=[...t,n];return r?R(r.id,i):i}function z(e){return!!x(e)}function U(e){const t=T.get(e);return!!t&&t.mediaType===a.Hn}},89984:(e,t,n)=>{"use strict";n.d(t,{j0:()=>r,pX:()=>i,pV:()=>a});const r="audio",i="video",a="photo"},32003:(e,t,n)=>{"use strict";n.d(t,{MB:()=>l,TV:()=>c,xF:()=>d,n1:()=>u,FM:()=>p,Wp:()=>m,ZP:()=>h});var r=n(46453),i=n(17146),a=n(5562),s=n(35981),o=n(69881);const l="movies",c="tv",d="music",u="photos",p="videos",m="game",h=(0,s.Z)(["key","typeID","typeString","rootTypeString"],[{key:l,typeID:"1",typeString:o.MOVIE,rootTypeString:o.MOVIE,title:()=>(0,a.Z)("Movies"),shortTitle:()=>(0,a.Z)("Movies"),defaultLanguage:"en",defaultAgents:[r.WX,r.HN],defaultScanners:[i.Lx,i.wz],mutual:{agent:r.WX,scanner:i.Lx}},{key:c,typeID:"2",typeString:o.SHOW,rootTypeString:o.SHOW,title:()=>(0,a.Z)("TV Shows"),shortTitle:()=>(0,a.Z)("Shows"),defaultLanguage:"en",defaultAgents:[r.Zb,r.NV],defaultScanners:[i.QQ,i.VA],mutual:{agent:r.Zb,scanner:i.QQ}},{key:d,typeID:"8",typeString:o.ARTIST,rootTypeString:o.ARTIST,title:()=>(0,a.Z)("Music"),shortTitle:()=>(0,a.Z)("Music"),defaultLanguage:"en",defaultAgents:[r.Ut,r.E4],defaultScanners:[i.c3,i.OQ],exclusiveAgents:[r.zR],exclusiveScanners:[i.N6],mutual:{agent:r.Ut,scanner:i.c3}},{key:u,typeID:"13",typeString:o.PHOTO,rootTypeString:o.PHOTO_ALBUM,title:()=>(0,a.Z)("Photos"),shortTitle:()=>(0,a.Z)("Photos"),defaultLanguage:"en",defaultAgents:[r.Hn],defaultScanners:[i.RZ],mutual:{}},{key:p,typeID:"1",typeString:o.MOVIE,rootTypeString:o.CLIP,title:()=>(0,a.Z)("Other Videos"),shortTitle:()=>(0,a.Z)("Videos"),defaultLanguage:"xn",defaultAgents:[r.Hn],defaultScanners:[i.S5],mutual:{}},{key:m,typeID:"19",typeString:o.GAME,rootTypeString:o.GAME,title:()=>(0,a.Z)("Games"),shortTitle:()=>(0,a.Z)("Games"),defaultLanguage:"en",defaultAgents:[r.nQ],defaultScanners:[i._q],mutual:{agent:r.nQ,scanner:i._q}}])},99394:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(14408),i=n(40498);function a(e){return{type:r.Z.boolean,save(){return this.has(e)}}}function s(e){return{type:r.Z.queryString,separators:["|","&"],orFields:[i.ZO,i.GP],andFields:[i.Jm,i.Bi],save(){return this.has(e)}}}const o={allowTuners:{type:r.Z.integer,save(){return this.has("allowTuners")}},allowSync:a("allowSync"),allowCameraUpload:a("allowCameraUpload"),allowChannels:a("allowChannels"),filterMovies:s("filterMovies"),filterTelevision:s("filterTelevision"),filterMusic:s("filterMusic"),filterPhotos:s("filterPhotos")}},58605:(e,t,n)=>{"use strict";n.d(t,{lz:()=>o,Hs:()=>l,MB:()=>c,xF:()=>d,n1:()=>u,ls:()=>p,HG:()=>m,TV:()=>h,FM:()=>g,w1:()=>y,Ap:()=>v,IO:()=>f,vK:()=>I});var r=n(5562),i=n(35981),a=n(61478),s=n(69881);const o="unknown",l="dvr",c="movies",d="music",u="photos",p="playlists",m="podcasts",h="tv",g="videos",y="webShows",v="shared",f="game",b=(0,i.Z)(["key"],[{key:o,title:()=>(0,r.Z)("Unknown"),types:{}},{key:p,types:{type:s.PLAYLIST}},{key:c,types:{type:s.MOVIE}},{key:h,types:{type:s.SHOW}},{key:d,types:{type:s.ARTIST}},{key:u,types:{type:s.PHOTO}},{key:g,types:{type:s.MOVIE}},{key:"episode",types:{type:s.EPISODE}},{key:l,title:()=>(0,r.Z)("Live TV & DVR")},{key:v,types:{type:s.MIXED}},{key:m,types:{type:s.SHOW,subtype:a.PODCAST}},{key:y,types:{type:s.SHOW,subtype:a.WEBSHOW}},{key:f,types:{type:s.GAME}}]),I=(b.get,b.getAll)},73004:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(5562);const i=(0,n(35981).Z)(["id","typeString"],[{id:1,typeString:"video",key:"videoStreamID",title:()=>(0,r.Z)("Video")},{id:2,typeString:"audio",key:"audioStreamID",title:()=>(0,r.Z)("Audio")},{id:3,typeString:"subtitles",key:"subtitleStreamID",title:()=>(0,r.Z)("Subtitles")},{id:4,typeString:"lyrics",key:"lyricStreamID",title:()=>(0,r.Z)("Lyrics")}])},74183:(e,t,n)=>{"use strict";function r(e){if(/\.plex\.direct$/.test(e)){const t=e.indexOf(".");t>0&&(e=(e=e.substring(0,t)).replace(/-/g,"."))}return e}n.d(t,{Z:()=>r})},85790:(e,t,n)=>{"use strict";n.d(t,{At:()=>d,lv:()=>u,KF:()=>p,q1:()=>m,iX:()=>h});var r=n(13469),i=n.n(r);const a=/^([0-9]{1,3})\.([0-9]{1,3})\.([0-9]{1,3})\.([0-9]{1,3})$/,s=/(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))/i,o=/[a-f0-9]{1,4}/gi;function l(e){const t=a.exec(e);if(null!=t)return{octets:i().map(i().rest(t),(e=>parseInt(e,10)))}}function c(e){if(!s.test(e))return;const t=e.split("::"),n=t[0].match(o),r={parts:[]};if(null!=n){if(n.length>8)return;r.parts=i().map(n,(e=>parseInt(e,16)))}if(t.length>1){const e=t[1].match(o),n=i().map(e,(e=>parseInt(e,16))),a=8-r.parts.length-n.length;if(a<0||8===a)return;i().times(a,(()=>{r.parts.push(0)})),r.parts=r.parts.concat(n)}return r}function d(e){return m(e)||function(e){const t=c(e);return!(!t||!i().all(t.parts,(e=>e>=0&&e<=65535)))}(e)}function u(e){return"localhost"===e||function(e){const t=l(e);return!(!t||127!==t.octets[0]&&!i().all(t.octets,(e=>0===e)))}(e)||function(e){const t=c(e);return!!t&&(i().all(i().take(t.parts,7),(e=>0===e))&&1===i().last(t.parts))}(e)}function p(e){return function(e){const t=l(e);if(t){if(10===t.octets[0])return!0;if(172===t.octets[0]&&t.octets[1]>=16&&t.octets[1]<=31)return!0;if(192===t.octets[0]&&168===t.octets[1])return!0}return!1}(e)||function(e){const t=c(e);return!!(t&&t.parts[0]>=64512&&t.parts[0]<=65023)}(e)}function m(e){const t=l(e);return!(!t||!i().all(t.octets,(e=>e>=0&&e<=255)))}function h(e){return m(e)?e.split(".").slice(0,-1).join("."):""}},55605:(e,t,n)=>{"use strict";function r(e){return/^\w+:\/\//.test(e)}n.d(t,{Z:()=>r})},84936:(e,t,n)=>{"use strict";n.d(t,{Z:()=>f});var r=n(80129),i=n.n(r),a=n(54998),s=n.n(a),o=Object.defineProperty,l=Object.prototype.hasOwnProperty,c=Object.getOwnPropertySymbols,d=Object.prototype.propertyIsEnumerable,u=(e,t,n)=>t in e?o(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,p=(e,t)=>{for(var n in t||(t={}))l.call(t,n)&&u(e,n,t[n]);if(c)for(var n of c(t))d.call(t,n)&&u(e,n,t[n]);return e};const m=/^([^?#]*)(?:\?([^#]*))?(#.*)?/,h=/([^?]*)\??(.*)()/;function g(e,t){return i().stringify(e,p({arrayFormat:"repeat"},t))}function y(e,t){return i().parse(e,t)}function v(e,t){const n=s().parse(e),r=n.protocol?`${n.protocol}:`:"",i=n.port?String(n.port):"",a=n.hostname?i&&`${n.hostname}:${i}`||n.hostname:"",o=n.hostname||"",l=n.fragment?`#${n.fragment}`:"",c=e,d=r&&a?`${r}//${a}`:"",u=n.path||"",p=n.query?`?${n.query}`:"",m=n.query?y(n.query,t):{};return{isAbsolute:/^[\w:]*\/\//.test(e),hash:l,host:a,hostname:o,href:c,origin:d,params:m,pathname:u,port:i,protocol:r,search:p}}const f={getLastSegment:function(e){if(e){const t=/[^/\\]+$/.exec(e);return(null==t?void 0:t[0])||e}return""},stringifyParams:g,parseParams:y,parseUrl:function(e){const t=p({},v(e)),n=/file/.test(t.protocol);return t.protocol||(t.protocol=window.location.protocol),n||(t.host||(t.host=window.location.host),t.hostname||(t.hostname=window.location.hostname),t.port||(t.port=window.location.port)),t.origin||(t.origin=n?`${t.protocol}//`:`${t.protocol}//${t.host}`),t},parseUri:v,join:function(e,t,n){var r;"string"==typeof e&&(e=[e]),e=e.filter((e=>e));const i=(null==n?void 0:n.recognizeHash)?m:h,a=e.reduce(((e,t)=>{const n=function(e){return String(e).replace(/^\/|\/$/g,"")}(t).match(i);if(!n)return e;const[,r,a,s]=n;return r&&(e.path=e.path?e.path+"/"+r:r),a&&(e.params=e.params?e.params+"&"+a:a),s&&(e.hash=s),e}),{path:"",params:"",hash:""});let s;if(null==n?void 0:n.parseParams)s=g(Object.assign(y(a.params),"string"==typeof t?y(t):t));else if((a.params||t)&&(a.params&&(s=a.params),t)){const e="string"==typeof t?t:g(t,null==n?void 0:n.stringifyOptions);e&&(s=s?`${s}&${e}`:e)}return(e.length&&"/"===(null==(r=e[0])?void 0:r.charAt(0))?"/":"")+a.path+(s?"?"+s:"")+a.hash}}},64033:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(93966),i=n(59756);function a(e){return!e.get("experienceSettings").get("isRemoteSchemaVersionNewer")&&i.Z.allowSyncSettings&&(0,r.DB)("settingFinder").find("shouldSyncSettings")}},39957:(e,t,n)=>{"use strict";function r(e,t){return`${e}::${t}`}n.d(t,{Z:()=>r})},93063:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(32553);const i=function(e){return(0,r.Z)(e,(e=>e.uuid),(()=>!0))}},57721:(e,t,n)=>{"use strict";n.d(t,{d:()=>a});var r=n(45399);const i=["free"];function a(e,t){const n=t&&t.requires;if(!n)return!0;if(n===r.sy)return!e.anonymous;const a=e.services[n];return!!a&&!i.includes(a.subscriptionType)}},57054:(e,t,n)=>{"use strict";function r(e){return{status:e.status,statusText:e.statusText,readyState:e.readyState,responseText:e.responseText}}n.d(t,{Z:()=>r})},33295:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var r=n(19755),i=n.n(r),a=n(13469),s=n.n(a),o=n(93966),l=n(19130),c=n(96840),d=n(84936);const u=new(l.Z.extend({initialize(){s().bindAll(this,"onAjaxSend","onAjaxComplete"),this.requests=[],this.byId={}},startListening(){const e=i()(document);e.on("ajaxSend",this.onAjaxSend),e.on("ajaxComplete",this.onAjaxComplete)},stopListening(){const e=i()(document);e.off("ajaxSend",this.onAjaxSend),e.off("ajaxComplete",this.onAjaxComplete)},abortAll(e){for(let t=this.requests.length-1;t>-1;t--){const n=this.requests[t];null!=e&&e!==n.settings.scope||this.abort(n)}},abort(e){const t=s().isString(e)?this.byId[e]:e;t&&(t.xhr.aborting=!0,t.xhr.abort(),this.remove(t))},store(e,t){const n=s().uniqueId("r");e.rid=n;const r={xhr:e,settings:t};return this.requests.push(r),this.byId[n]=r,r},remove(e){const t=s().indexOf(this.requests,e);t>-1&&this.requests.splice(t,1),this.byId.hasOwnProperty(e.xhr.rid)&&delete this.byId[e.xhr.rid]},onAjaxSend(e,t,n){if(n.skipCorsWithRedirect)return;const r=this.store(t,n);t.always((()=>{t.aborting||this.remove(r)}))},onAjaxComplete(e,t,n){const r=401===t.status;if(t.aborting||!r)return;const i=d.Z.parseUrl(n.url);if(r&&("/log"===i.pathname||"/"===i.pathname||"/media/providers"===i.pathname))return;const a=(0,o.DB)("appModel").get("servers"),l=a?a.find((e=>{const t=e.get("activeConnection"),r=t&&t.get("isConnected"),i=s().result(t,"url");return!!r&&n.url.substring(0,i.length)===i})):null;l&&((0,c.Z)('[Connections] Active connection to "%s" lost authorization',l.get("debugName")),l.trigger("error:connection",l))}}))},93634:(e,t,n)=>{"use strict";n.d(t,{Z:()=>g});var r=n(19755),i=n.n(r),a=n(13469),s=n.n(a),o=n(93966),l=n(65652),c=n(59756),d=n(2938),u=n(43108),p=n(47479),m=n(16551);const h="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",g=l.Z.ItemView.extend({tagName:"img",background:!1,backgroundSize:"",cache:new d.Z,initialize:function(e){e||(e={}),s().bindAll(this,"onLoad","onError","loadImage"),this.url=e.url,this.server=e.server,this.placeholder=e.placeholder,this.placeholderClass=e.placeholderClass,this.modelAttribute=e.modelAttribute,this.ignoreAttributeChanges=e.ignoreAttributeChanges,this.exposeUrl=e.exposeUrl,this.resetOnError=e.resetOnError,this.emptyImage=e.explicitEmpty?"url("+h+")":"",e.background&&(this.background=e.background),e.backgroundSize&&(this.backgroundSize=e.backgroundSize),e.format&&(this.format=e.format),e.quality&&(this.quality=e.quality),s().isFunction(e.getUrl)&&(this.getUrl=e.getUrl),this.allowBaseImageBlobs=c.Z.allowBaseImageBlobs,this.allowBaseImagePreloading=c.Z.allowBaseImagePreloading,this.setup(e)},setup:function(e){this.setDimensions(e),this.setFilters(e.filters),this.setModel(e.model,e)},setDimensions:function(e){e.width&&e.height&&(this.transcode=!0,this.width=e.width,this.height=e.height)},setFilters:function(e){this.filters=e||void 0},hasFilters:function(){return void 0!==this.filters},setModel:function(e,t){t||(t={}),this.stopListening(),this.src=null,this.model=e,e&&(this.server||(this.server=e.server),t.url||this.modelAttribute&&(this.url=this.getUrl(e.get(this.modelAttribute)),this.ignoreAttributeChanges||this.listenTo(e,"change:"+this.modelAttribute,this.onChange)))},setElement:function(e){l.Z.ItemView.prototype.setElement.apply(this,arguments),this.render({force:!0})},getUrl:function(e){return e},getTranscodeUrl:function(e){if(!this.server||!this.transcode)return e;const t=o.DB("appModel"),n=(0,u.Z)();return m.Z.image(this.server,e,{fallbackServer:t.get("primaryServer"),width:this.width*n,height:this.height*n,minSize:this.minSize,filters:this.filters,format:this.format,quality:this.quality})},render:function(e){return e||(e={}),this.url||this.placeholder||this.placeholderClass?this.src?(e.force&&this.showImage(this.src),this):(this.isPlaceholderRendered&&this.url||this.showPlaceholder(),this.url&&this.load(this.url,this.transcode).then(this.onLoad,this.onError,this.onLoad),this):this},showPlaceholder:function(){if(this.isPlaceholderRendered=!0,this.$el.removeClass("loaded"),this.placeholderClass)return this.$el.addClass(this.placeholderClass),void this.$el.css("background-image",this.emptyImage);this.placeholder?this.showImage(this.placeholder):this.clearImage()},clearImage:function(){this.background?this.$el.css("background-image",this.emptyImage):this.showImage(h)},showImage:function(e){this.background?this.showBackgroundImage(e):this.$el.attr("src",e).removeAttr("width").removeAttr("height")},showBackgroundImage:function(e){this.$el.css("background-image","url("+e+")")},load:function(e){if(!e)return i().Deferred().reject().promise();if(e=this.getTranscodeUrl(e),this.exposeUrl&&this.$el.attr("data-image-url",e),this.allowBaseImageBlobs&&p.Z.hasBlob&&p.Z.hasObjectUrl){let t=this.loadBlob(e);return t=t.then(this.loadImage,null,this.loadImage),t}return this.allowBaseImagePreloading?this.loadImage(e):i().Deferred().resolve(e).promise()},loadBlob:function(e){const t=i().Deferred();this.cancel();const n=this.cache.getBlobUrl(e);if(n)return t.resolve(n),t.promise();{const n=this.cache.getPlaceholder(e);n&&t.notify(n,!0)}const r=new window.XMLHttpRequest;return r.open("GET",e,!0),r.responseType="arraybuffer",this.xhr=r,r.onreadystatechange=s().bind((function(){if(4===r.readyState)if(r.onreadystatechange=null,this.xhr=null,200===r.status){const n=new window.Blob([r.response],{type:"image/jpeg"}),i=window.URL.createObjectURL(n);this.cache.store({url:e,blobUrl:i}),t.resolve(i)}else t.reject()}),this),r.send(),t.promise()},loadImage:function(e,t){const n=i().Deferred(),r=new window.Image;return r.onload=function(){r.onload=r.onabort=r.onerror=null,t?n.notify(e,r.width,r.height):n.resolve(e,r.width,r.height)},r.onabort=r.onerror=function(){r.onload=r.onabort=r.onerror=null,n.reject()},r.src=e,n.promise()},cancel:function(){this.xhr&&(this.xhr.onreadystatechange=null,this.xhr.abort(),this.xhr=null)},onLoad:function(e,t,n){if(this.backgroundSize){const e=t&&t>this.width||n&&n>this.height?this.backgroundSize:"auto";this.$el[0].style.backgroundSize=e}this.src=e,this.placeholderClass&&this.$el.removeClass(this.placeholderClass),this.$el.addClass("loaded"),this.showImage(e),this.trigger("load",e,t,n)},onError:function(){this.resetOnError&&this.showPlaceholder(),this.trigger("error")},onClose:function(){this.cancel()},onChange:function(e,t){if(t=this.getUrl(t),this.url===t)return this;this.url=t,this.src=null,this.render()}})},64106:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(53779),i=n(62779),a=n(93634);const s=a.Z.extend({background:!0,setup(e){this.minSize=!0,this.type=e.type,this.modelAttribute=e.modelAttribute||"thumb",!1!==e.placeholder&&(this.model&&this.model.get("isFolder")?this.placeholderClass=r.Z.folder:e.placeholderClass||(this.placeholderClass=r.Z[this.type])),a.Z.prototype.setup.apply(this,arguments)},setDimensions(e){e.width?e.height=i.Z.getPosterHeight(this.type,e.width):e.height&&(e.width=i.Z.getPosterWidth(this.type,e.height)),a.Z.prototype.setDimensions.call(this,e)},setModel(e,t){a.Z.prototype.setModel.apply(this,arguments),this.model&&this.model.get("isFolder")&&(this.placeholderClass=r.Z.folder)}})},97486:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var r=n(94184),i=n.n(r),a=n(82777),s=n(67294),o=n(79481);class l extends s.Component{render(){const{className:e,containerClassName:t,backgroundClassName:n,textClassName:r,size:o,lineWidth:l,strokeColor:c,trackColor:d,progress:u,progressText:p=`${Math.round(u)}%`,easing:m,showProgressText:h,showIndeterminate:g}=this.props,y=this.props.smoothProgressDuration/1e3,v=g?50:u,f=g?null:p,b=o/2,I=b-l,S=Math.PI*(2*I),M=o+"px",E=o-3*l+"px",P=(100-v)/100*S;return s.createElement("div",{className:t,style:{width:M,height:M,lineHeight:M}},s.createElement("svg",{className:i()(e,g&&"CircularProgressBar-indeterminate-oWvaoR spin-spin-34xiUE"),version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:o,height:o},d?s.createElement("circle",{fill:"transparent",r:I,cx:b,cy:b,style:{strokeWidth:l,stroke:d}}):null,s.createElement(a.ww.circle,{fill:"transparent",r:I,cx:b,cy:b,strokeDasharray:S,strokeDashoffset:P,style:{strokeWidth:l,stroke:c},initial:!0,animate:{strokeDashoffset:P},transition:{duration:y,ease:m}})),s.createElement("div",{className:n,style:{width:E,height:E}}),h&&f?s.createElement("div",{className:r},f):null)}}l.defaultProps={className:"CircularProgressBar-circularProgressBar-CcbTjD",containerClassName:"CircularProgressBar-circularProgressBarContainer-2G95YB",backgroundClassName:"CircularProgressBar-circularProgressBarBackground-1LlpZu",textClassName:"CircularProgressBar-circularProgressBarText-2Pos90",size:60,lineWidth:5,strokeColor:o.Z.primaryColor,showProgressText:!0,smoothProgressDuration:1e3,easing:"easeOut"};const c=l},83076:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>v});var r=n(67631),i=n.n(r),a=n(67294),s=n(96840),o=n(5562),l=n(54611),c=Object.defineProperty,d=Object.prototype.hasOwnProperty,u=Object.getOwnPropertySymbols,p=Object.prototype.propertyIsEnumerable,m=(e,t,n)=>t in e?c(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,h=(e,t)=>{for(var n in t||(t={}))d.call(t,n)&&m(e,n,t[n]);if(u)for(var n of u(t))p.call(t,n)&&m(e,n,t[n]);return e};function g(e){switch(e.details){case i().ErrorDetails.MANIFEST_LOAD_ERROR:case i().ErrorDetails.MANIFEST_LOAD_TIMEOUT:case i().ErrorDetails.MANIFEST_PARSING_ERROR:return(0,o.Z)("Manifest");case i().ErrorDetails.LEVEL_LOAD_ERROR:case i().ErrorDetails.LEVEL_LOAD_TIMEOUT:case i().ErrorDetails.AUDIO_TRACK_LOAD_ERROR:case i().ErrorDetails.AUDIO_TRACK_LOAD_TIMEOUT:case i().ErrorDetails.FRAG_LOAD_ERROR:case i().ErrorDetails.FRAG_LOAD_TIMEOUT:case i().ErrorDetails.KEY_LOAD_ERROR:case i().ErrorDetails.KEY_LOAD_TIMEOUT:return(0,o.Z)("Network");case i().ErrorDetails.MANIFEST_INCOMPATIBLE_CODECS_ERROR:case i().ErrorDetails.FRAG_DECRYPT_ERROR:case i().ErrorDetails.FRAG_PARSING_ERROR:case i().ErrorDetails.BUFFER_ADD_CODEC_ERROR:case i().ErrorDetails.BUFFER_APPEND_ERROR:case i().ErrorDetails.BUFFER_APPENDING_ERROR:case i().ErrorDetails.BUFFER_STALLED_ERROR:case i().ErrorDetails.BUFFER_FULL_ERROR:case i().ErrorDetails.BUFFER_SEEK_OVER_HOLE:case i().ErrorDetails.BUFFER_NUDGE_ON_STALL:return(0,o.Z)("Media");case i().ErrorDetails.REMUX_ALLOC_ERROR:case i().ErrorDetails.LEVEL_SWITCH_ERROR:case i().ErrorDetails.INTERNAL_EXCEPTION:return(0,o.Z)("Player")}}class y extends a.Component{constructor(e,t){super(e,t),this.onElementChange=e=>{this._hls=new(i())({maxMaxBufferLength:30}),this._hls.on(i().Events.MEDIA_ATTACHED,this.onMediaAttached),this._hls.on(i().Events.MANIFEST_PARSED,this.onManifestParsed),this._hls.on(i().Events.ERROR,this.onError),this._hls.attachMedia(e)},this.onHTMLError=()=>{},this.onMediaAttached=()=>{this._hls.loadSource(this.props.src)},this.onManifestParsed=()=>{this.setState({isReadyToPlay:!0})},this.onError=(e,t)=>{const{type:n,details:r,fatal:a}=t,o=r;a&&n===i().ErrorTypes.NETWORK_ERROR?(s.Z.warn(`[Player] A critical HLSjs network error occurred: ${o}; the player will restart the load`),this._hls.startLoad()):a&&n===i().ErrorTypes.MEDIA_ERROR?(s.Z.warn(`[Player] A critical HLSjs media error occurred: ${o}; the player will attempt to recover`),this._hls.recoverMediaError()):a?(s.Z.warn(`[Player] A critical HLSjs error occurred: ${o}; the player cannot recover`),this.props.onError&&this.props.onError({category:g(t)})):s.Z.warn(`[Player] A non-critical HLSjs error occurred: ${o}`)},this.state={isReadyToPlay:!1}}componentWillUnmount(){this._hls.detachMedia(),this._hls.destroy(),this._hls=null}render(){return a.createElement(l.Z,h(h({},this.props),{isReadyToPlay:this.state.isReadyToPlay,onElementChange:this.onElementChange,onHTMLError:this.onHTMLError}))}}const v=y},54611:(e,t,n)=>{"use strict";n.d(t,{Z:()=>f});var r=n(67294),i=n(73935),a=n(22093),s=n(11133),o=n(96840),l=n(37201),c=n(7165),d=n(5562),u=n(91135),p=n(93554),m=n(45697),h=n.n(m);function g({onPositionUpdate:e,onTick:t}){const n=(0,r.useRef)(Date.now());return(0,r.useEffect)((()=>{let t;return e&&(t=window.setInterval(e,40)),()=>{t&&window.clearInterval(t)}}),[e]),(0,r.useEffect)((()=>{let e;return t&&(e=window.setInterval((()=>{const e=Math.floor((Date.now()-n.current)/1e3);t(e)}),1e3)),()=>{e&&window.clearInterval(e)}}),[t]),null}g.propTypes={onPositionUpdate:h().func,onTick:h().func};const y=g;class v extends r.Component{constructor(e,t){super(e,t),this._nativeSeek=e=>{this._mediaEl.currentTime=e},this.onStarted=()=>{const{positionSeconds:e,onDurationMillisecondsChange:t}=this.props;this.state.isStarted||(e&&(this.props.onResumeSeek||this.props.onSeek||this._nativeSeek)(e),this.setState({isStarted:!0},(()=>{if(t){const e=this._mediaEl.duration;t(Number.isFinite(e)?Math.floor(1e3*e):0)}})))},this.onDataLoad=()=>{this._canNativelySelectAudioTrack()&&this._selectAudioTrack(),this._canNativelySelectTextTrack()&&(this._selectTextTrack(),this._mediaEl.textTracks.addEventListener("addtrack",this.onAddTrack)),(0,c.Z)()||this.onStarted()},this.onCanPlay=()=>{(0,c.Z)()&&this.onStarted()},this.onCanPlayThrough=()=>{this.props.onCanPlayThrough&&this.props.onCanPlayThrough(!0)},this.onPositionUpdate=()=>{if(!this._mediaEl)return;const e=Math.floor(1e3*this._mediaEl.currentTime);if(e!==this._lastPositionMilliseconds)this._lastPositionMilliseconds=e,this._lastPositionChangeTime=Date.now(),this._isBuffering&&(this._isBuffering=!1,this.props.onBufferingChange&&this.props.onBufferingChange(!1));else if(!this._isBuffering&&!this.props.paused){const e=Date.now()-this._lastPositionChangeTime;e>this.props.bufferingDetectionLimit&&(o.Z.warn(`[Player] Buffering detected, last position change was ${e}ms ago`),this._isBuffering=!0,this.props.onBufferingChange&&this.props.onBufferingChange(!0))}this.props.onPositionMillisecondsChange(e)},this.onProgress=()=>{if(this.props.onBufferChange){const{buffered:e}=this._mediaEl,t=[];for(let n=0;n<e.length;n++)t.push({startSeconds:e.start(n),endSeconds:e.end(n)});this.props.onBufferChange(t)}},this.onEnded=()=>{this.props.onEnd&&this.props.onEnd()},this.onError=e=>{const{code:t}=e.target.error,n=function(e){switch(e){case 1:return(0,d.Z)("Abort");case 2:return(0,d.Z)("Network");case 3:return(0,d.Z)("Decode");case 4:return(0,d.Z)("Not Supported")}}(t),r=`${t} (${n||"Unknown"})`;2===t?o.Z.warn(`[Player] An HTML media error occurred: ${r}; the player will attempt to recover`):(o.Z.warn(`[Player] A critical HTML media error occurred: ${r}; the player cannot recover`),this.props.onError&&this.props.onError({code:`h${t}`,category:n}))},this.onSeek=e=>{const t=this._mediaEl.ended;this._nativeSeek(e),this.props.onSeek&&this.props.onSeek(e),!this.props.paused&&t&&this._play()},this.onPause=()=>{this._mediaEl.ended||this.props.onPause&&this.props.onPause()},this.onPlay=()=>{this.props.onPlay&&this.props.onPlay()},this.onResize=()=>{const{videoWidth:e,videoHeight:t}=this._mediaEl;this.props.onIntrinsicDimensions&&this.props.onIntrinsicDimensions({width:e,height:t})},this.onAddTrack=()=>{this._selectTextTrack()},this.state={isStarted:!1},this._mediaListeners={loadeddata:this.onDataLoad,canplay:this.onCanPlay,canplaythrough:this.onCanPlayThrough,progress:this.onProgress,ended:this.onEnded,error:this.onError,pause:this.onPause,play:this.onPlay,resize:this.onResize},this._lastPositionMilliseconds=null,this._lastPositionChangeTime=0,this._isBuffering=!1,this._isUnmounting=!1}componentDidMount(){this._mediaEl=(0,l.Vq)(this.props.mediaType,this.props.allowRecycleElement);const e=this._mediaEl;e.className="HTMLMedia-mediaElement-2XwlNN",e.volume=Math.max(0,Math.min(this.props.volume/100,1)),Object.keys(this._mediaListeners).forEach((t=>{e.addEventListener(t,this._mediaListeners[t])})),this._node=i.findDOMNode(this),this._node.appendChild(e),this.props.onElementChange?this.props.onElementChange(e):e.src=this.props.src,this.props.isReadyToPlay&&!this.props.paused&&this.props.src&&this._play(),this._mediaEl.playbackRate=this.props.playbackSpeed,this.props.onMetricsPlayerChange(a.k9)}componentDidUpdate(e,t){(0,s.Z)(this.props.src===e.src,"Use a new `key` when changing `src`");const{lastSeekPositionSeconds:n,paused:r,volume:i,playbackSpeed:a,isReadyToPlay:o,audioStream:l,subtitleStream:c,subtitleSize:d,hasBurnedSubtitles:u,isStreamChangeInProgress:p,onStreamChange:m}=this.props,h=this._mediaEl,g=null!=n&&n!==e.lastSeekPositionSeconds,y=(!!e.audioStream&&e.audioStream.id)!==(!!l&&l.id),v=(!!e.subtitleStream&&e.subtitleStream.id)!==(!!c&&c.id),f=e.isStreamChangeInProgress&&!p,b=e.subtitleSize!==d;g&&this.onSeek(n),r===e.paused||h.ended||(r?this._pause():this._play()),i!==e.volume&&(h.volume=Math.max(0,Math.min(i/100,1))),a!==e.playbackSpeed&&(h.playbackRate=a),!o||e.isReadyToPlay||r||this._play(),this._canNativelySelectTextTrack()&&v&&!p&&this._selectTextTrack(),m&&(y&&!p||v&&!p||f||b&&u)&&m()}componentWillUnmount(){this._isUnmounting=!0,this._node.removeChild(this._mediaEl),this._mediaEl.src="",this._mediaEl.removeAttribute("src"),this._mediaEl.className="",Object.keys(this._mediaListeners).forEach((e=>{this._mediaEl.removeEventListener(e,this._mediaListeners[e])})),this._mediaEl.textTracks.removeEventListener("addtrack",this.onAddTrack),this.props.allowRecycleElement&&(0,l.u$)(this._mediaEl)}_play(){const e=this._mediaEl.play();e&&e.then&&e.then(null,(e=>{this._isUnmounting||(("AbortError"===e.name||"NotAllowedError"===e.name)&&this.props.onPause&&this.props.onPause(),o.Z.warn(e.name+": "+e.message))}))}_pause(){this._mediaEl.pause()}_canNativelySelectAudioTrack(){const{audioStreams:e,isDecisionDirectPlay:t}=this.props;return!!(e&&e.length&&t&&this._mediaEl.audioTracks)}_canNativelySelectTextTrack(){const{subtitlesStreams:e,isDecisionDirectPlay:t}=this.props;return!!(e&&e.length&&t&&this._mediaEl.textTracks.length>0)}_selectAudioTrack(){const{audioStreams:e,audioStream:t}=this.props,n=this._mediaEl.audioTracks;if(n){const r=e.findIndex((e=>e.id===t.id));for(let e=0;e<n.length;e++)n[e].enabled=e===r}}_selectTextTrack(){const{subtitleStream:e}=this.props,t=this._mediaEl.textTracks;if(t&&e){let n;for(let r=0;r<t.length;r++){const i=t[r];if(i.mode="disabled",!n){const t="captions"===i.kind&&"eia_608"===e.codec,r="subtitles"===i.kind&&"vtt"===e.codec,a=i.language===e.id||i.label.toLowerCase()===e.language.toLowerCase();(t||r)&&a&&(n=!0,i.mode="showing")}}}}render(){const{height:e,width:t,placement:n,edgeGutterX:i,edgeGutterY:a,isStackedAbove:s,onTick:o}=this.props,l=(0,p.Z)(e,t,n,i,a,s);return r.createElement("div",{style:l},this.state.isStarted?r.createElement(y,{onPositionUpdate:this.onPositionUpdate,onTick:o}):null)}}v.defaultProps={mediaType:u.pX,positionSeconds:0,volume:100,playbackSpeed:1,allowRecycleElement:!1,isReadyToPlay:!0};const f=v},63686:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>k});var r=n(67294),i=n(81123),a=n(16475),s=n(96242),o=n(32377),l=n(19755),c=n.n(l),d=n(15633);const u=new Map;var p=n(96840);const m=function(e){let t=!1;return function(...e){if(!t)return t=!0,(e=>{e.polyfill.installAll()})(...e)}}();var h=n(5562),g=Object.defineProperty,y=Object.prototype.hasOwnProperty,v=Object.getOwnPropertySymbols,f=Object.prototype.propertyIsEnumerable,b=(e,t,n)=>t in e?g(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;class I extends r.Component{constructor(){super(...arguments),this.onTimeout=()=>{const{positionSeconds:e,durationSeconds:t,onEnd:n}=this.props,r=t-e;p.Z.warn("[Player] Manually ending while stalled within the last %ss.",r),this.props.onBufferingChange&&this.props.onBufferingChange(!1),n()}}componentDidUpdate(e){const{healthCheckSecondsFromEnd:t,positionSeconds:n,durationSeconds:r,paused:i,onEnd:a}=this.props;let s=!1;a&&r>0&&n>=r&&(s=!0,a());const o=n!==e.positionSeconds,l=i&&i!==e.paused,c=s||o||l;this._timeoutID&&c&&window.clearTimeout(this._timeoutID);const d=r-n;if(r>0&&a&&!s&&!i&&d>=0&&d<t){const e=Math.round(1e3*d)+250;window.clearTimeout(this._timeoutID),this._timeoutID=window.setTimeout(this.onTimeout,e)}}componentWillUnmount(){this._timeoutID&&window.clearTimeout(this._timeoutID)}render(){const e=this.props,{mediaComponent:t}=e,n=((e,t)=>{var n={};for(var r in e)y.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&v)for(var r of v(e))t.indexOf(r)<0&&f.call(e,r)&&(n[r]=e[r]);return n})(e,["mediaComponent"]);return r.createElement(t,((e,t)=>{for(var n in t||(t={}))y.call(t,n)&&b(e,n,t[n]);if(v)for(var n of v(t))f.call(t,n)&&b(e,n,t[n]);return e})({},n))}}const S=I;var M=n(54611),E=Object.defineProperty,P=Object.prototype.hasOwnProperty,D=Object.getOwnPropertySymbols,C=Object.prototype.propertyIsEnumerable,w=(e,t,n)=>t in e?E(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Z=(e,t)=>{for(var n in t||(t={}))P.call(t,n)&&w(e,n,t[n]);if(D)for(var n of D(t))C.call(t,n)&&w(e,n,t[n]);return e};const{Category:T,Code:N,Severity:O}=i.util.Error;let A;function x(e){switch(e){case T.NETWORK:return(0,h.Z)("Network");case T.TEXT:return(0,h.Z)("Text");case T.MEDIA:return(0,h.Z)("Media");case T.MANIFEST:return(0,h.Z)("Manifest");case T.STREAMING:return(0,h.Z)("Streaming");case T.DRM:return(0,h.Z)("DRM");case T.PLAYER:return(0,h.Z)("Player");case T.CAST:return(0,h.Z)("Cast");case T.STORAGE:return(0,h.Z)("Storage");default:return(0,h.Z)("Unknown")}}function j(e,t){const n={},r=a.Z[e.drm];let i;return r===o.FAIRPLAY&&(n.fairPlayTransform=!1,n.advanced={[r]:{serverCertificate:t}}),r&&(i=Z(Z({},n),{servers:{[r]:e.license}})),i}class L extends r.Component{constructor(e,t){super(e,t),this.onNetworkEngineRequest=(e,t)=>{if(e===i.net.NetworkingEngine.RequestType.LICENSE)switch(this.props.drm){case s.PLAYREADY:delete t.headers.SOAPAction}},this.onFetchCertificateResolved=e=>{const{url:t,certificate:n}=e;this._serverCertificate=n,p.Z.warn("[Player] Server certificate request succeeded: %s",t),this.tryLoadMedia()},this.onFetchCertificateRejected=e=>{const{isCanceled:t,url:n,status:r}=e;t||(p.Z.warn("[Player] Server certificate request failed (%d): %s",r,n),this._serverCertificate="invalid",this.tryLoadMedia())},this.onElementChange=e=>{this._mediaElement=e,this.tryLoadMedia()},this.onHTMLError=()=>{},this.onBufferingChange=({buffering:e})=>{},this.onError=({detail:e={}})=>{if(this._hasUnmounted)return;const{category:t,code:n,severity:r}=e,i=function(e){return[`s${e.code} (${x(e.category)})`].concat(function(e){const{code:t,data:n}=e;switch(t){case N.BAD_HTTP_STATUS:return[`URI: ${n[0]}`,n[1]?`Status code: ${n[1]}`:null,n[2]?`Response text: ${n[2]}`:null,n[3]?`Response headers: ${JSON.stringify(n[3],null,2)}`:null,n[4]?`NetworkingEngine.RequestType: ${n[4]}`:null];case N.MEDIA_SOURCE_OPERATION_FAILED:return[`MediaError code: ${n[0]}`];case N.MEDIA_SOURCE_OPERATION_THREW:return[`DOMException ${n[0].name}: ${n[0].message}`];case N.VIDEO_ERROR:return[`MediaError code: ${n[0]}`,n[1]?`Edge/IE Error code: ${n[1]}`:null,n[2]?`Chrome error details: ${n[2]}`:null];case N.INIT_DATA_TRANSFORM_ERROR:return[`Exception ${n[0].name}: ${n[0].message}`]}}(e)).filter((e=>e)).join("  ")}(e);let a=r;t===T.DRM&&n===N.INIT_DATA_TRANSFORM_ERROR&&r===O.CRITICAL&&(a=O.RECOVERABLE),a===O.CRITICAL?(p.Z.warn(`[Player] A critical Shaka error occurred: ${i}; the player cannot recover`),this.props.onError&&this.props.onError({code:`s${n}`,category:x(t)})):a===O.RECOVERABLE?p.Z.warn(`[Player] A Shaka error occurred: ${i}; the player will attempt to recover`):p.Z.warn(`[Player] A Shaka error occurred: ${i}; the severity is unknown`)},m(i),A||(A=new i.Player),this.state={isReadyToPlay:!1},this._mediaElement,this._serverCertificate,this._serverCertificateCancelable}componentDidMount(){const{certificate:e}=this.props;e&&(this._serverCertificateCancelable=function({url:e}){const t=c().Deferred();if(u.has(e))t.resolve({url:e,certificate:u.get(e)});else{const n=new window.XMLHttpRequest,r=()=>{n.removeEventListener("error",i,!1),n.removeEventListener("load",a,!1)},i=n=>{const{status:i}=n.target;r(),t.reject({url:e,status:i})},a=n=>{const{response:i,status:a}=n.target;if(r(),200===a){const n=new Uint8Array(i);t.resolve({url:e,certificate:n})}else t.reject({url:e,status:a})};n.responseType="arraybuffer",n.addEventListener("error",i,!1),n.addEventListener("load",a,!1),n.open("GET",e,!0),n.send()}return(0,d.Z)(t.promise())}({url:e}),this._serverCertificateCancelable.promise.then(this.onFetchCertificateResolved,this.onFetchCertificateRejected))}componentWillUnmount(){this._hasUnmounted=!0,this._resetPrePlaybackFields(),A&&(A.getNetworkingEngine().unregisterRequestFilter(this.onNetworkEngineRequest),A.resetConfiguration(),A.removeEventListener("buffering",this.onBufferingChange),A.removeEventListener("error",this.onError),A.detach(),A.unload())}_resetPrePlaybackFields(){this._serverCertificateCancelable&&(this._serverCertificateCancelable.cancel(),delete this._serverCertificateCancelable),delete this._mediaElement,delete this._serverCertificate}tryLoadMedia(){const{_mediaElement:e,_serverCertificate:t}=this,n=this.props.drm===s.FAIRPLAY;!e||n&&!t||(this._resetPrePlaybackFields(),this.loadMedia({mediaElement:e,serverCertificate:t}))}loadMedia({mediaElement:e,serverCertificate:t}){const n={streaming:{bufferingGoal:this.props.bufferingGoal,jumpLargeGaps:!0,retryParameters:{maxAttempts:1/0,timeout:1e4},stallSkip:.1},abr:{defaultBandwidthEstimate:this.props.defaultBandwidthEstimate},drm:j(this.props,t)};A.configure(n),A.attach(e),A.addEventListener("buffering",this.onBufferingChange),A.addEventListener("error",this.onError),A.getNetworkingEngine().registerRequestFilter(this.onNetworkEngineRequest),A.load(this.props.src,this.props.positionSeconds).then((()=>{A&&this.setState({isReadyToPlay:!0})}),(e=>{A&&this.onError({detail:e})}))}render(){return r.createElement(S,Z(Z({},this.props),{healthCheckSecondsFromEnd:this.props.bufferingGoal,mediaComponent:M.Z,isReadyToPlay:this.state.isReadyToPlay,onElementChange:this.onElementChange,onError:this.onHTMLError}))}}L.displayName="ShakaMedia",L.defaultProps=Z(Z({},M.Z.defaultProps),{bufferingGoal:70});const k=L},65671:(e,t,n)=>{"use strict";n.d(t,{Z:()=>h});var r=n(67294),i=(n(11133),n(96638)),a=Object.defineProperty,s=Object.prototype.hasOwnProperty,o=Object.getOwnPropertySymbols,l=Object.prototype.propertyIsEnumerable,c=(e,t,n)=>t in e?a(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,d=(e,t)=>{for(var n in t||(t={}))s.call(t,n)&&c(e,n,t[n]);if(o)for(var n of o(t))l.call(t,n)&&c(e,n,t[n]);return e},u=(e,t)=>{var n={};for(var r in e)s.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&o)for(var r of o(e))t.indexOf(r)<0&&l.call(e,r)&&(n[r]=e[r]);return n};const p="children";function m(e){const{className:t,component:n,childrenPropName:a,tags:s,message:o}=e;let l=[o],c=s.length-1,m=0;for(;c>=0;){const e=s[c],{open:t,close:n,unpaired:a,children:o,component:h,childrenPropName:g}=e,y=u(e,["open","close","unpaired","children","component","childrenPropName"]),v=t?new RegExp("(^.*)"+(0,i.Z)(`{${t}}`)+"(.*)"+(0,i.Z)(`{${n}}`)+"(.*$)"):new RegExp("(^.*)"+(0,i.Z)(`{${a}}`)+"()(.*$)"),f=[];for(let e=l.length-1;e>=0;e--){const t=l[e];if("string"!=typeof t)f.unshift(t);else{const e=t.match(v);if(e){const[,t,n,i]=e;h?f.unshift(t,r.createElement(h,d(d({key:m},y),{[g||p]:n})),i):f.unshift(t,o,i),m+=1}else f.unshift(t)}}f.length===l.length?c-=1:l=f}return r.createElement(n,d({className:t},{[a]:l}))}m.defaultProps={component:"span",childrenPropName:p};const h=m},39409:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var r=n(94184),i=n.n(r),a=n(67294),s=n(60528);const o={badge:"Badge-badge-waFP_r",isHidden:"Badge-isHidden-25iS9M",default:"Badge-default-1qpZeo",primary:"Badge-primary-1pZ_Vq",success:"Badge-success-n2G5UD",danger:"Badge-danger-3z0iQ5"};function l({className:e,children:t,kind:n}){return a.createElement("span",{className:i()(e,o.badge,o[n],!t&&o.isHidden),"data-qa-id":"badgeElement"},t)}l.defaultProps={kind:s.TP};const c=l},84807:(e,t,n)=>{"use strict";n.d(t,{U:()=>i,Z:()=>s});var r=n(67294);const i="";function a({className:e,separator:t}){return r.createElement("span",{className:e},t)}a.defaultProps={className:"DashSeparator-separator-3r2G27",separator:i};const s=a},91995:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var r=n(94184),i=n.n(r),a=n(67294),s=n(21914),o=n(60528),l=n(82378);const c={disclosureArrow:"DisclosureArrow-disclosureArrow-1jttuj",default:"DisclosureArrow-default-35VH60",primary:"DisclosureArrow-primary-1CdQpd",success:"DisclosureArrow-success-1dElXK",danger:"DisclosureArrow-danger-2AvWAW",small:"DisclosureArrow-small-3F4uBR",up:"DisclosureArrow-up-3XFMCe",right:"DisclosureArrow-right-3Mcrwy",medium:"DisclosureArrow-medium-nfRf3I",large:"DisclosureArrow-large-3WaUfc",down:"DisclosureArrow-down-3IxLuS DisclosureArrow-up-3XFMCe",left:"DisclosureArrow-left-1Gzevo DisclosureArrow-right-3Mcrwy",isSelected:"DisclosureArrow-isSelected-2Czzsz"};function d({className:e,kind:t,size:n,direction:r,isSelected:s}){return a.createElement("span",{className:i()(e,c[r],c[t],c[n],s&&c.isSelected)})}d.defaultProps={className:c.disclosureArrow,direction:s.WV,kind:o.TP,size:l.M2,isSelected:!1};const u=d},80967:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(67294),i=(n(11133),n(47636));const a="Measure-scrollContainer-SqY7BV";class s extends r.Component{constructor(e,t){super(e,t),this._requestFrame=()=>{this._clearTimeout(),this._cancelFrame(),this._frameRequestID=window.requestAnimationFrame(this._measure)},this._requestTimeout=()=>{this._clearTimeout(),this._cancelFrame(),this._measureTimeoutID=window.setTimeout(this._requestFrame,this.props.resizeTimeout)},this._measure=()=>{const{ignoreWidth:e,ignoreHeight:t,ignorePosition:n,ignoreTransforms:r}=this.props,{isMeasured:i,width:a,scrollWidth:s,height:o,scrollHeight:l,x:c,y:d}=this.state,u=this._container;if(!u)return;const p=u.getBoundingClientRect(),m=r?u.offsetWidth:p.width,h=r?u.offsetHeight:p.height,g=!0!==i,y=!n&&(p.left!==c||p.top!==d),v=!e&&(m!==a||u.scrollWidth!==s),f=!t&&(h!==o||u.scrollHeight!==l);if(this._reset(),g||y||v||f){const r=window.getComputedStyle(u),i={isMeasured:!0};if(n||(i.x=y?p.left:c,i.y=y?p.top:d),!e){const e=parseInt(r.paddingRight,10)||0,t=parseInt(r.paddingLeft,10)||0;i.width=v?m-t-e:a,i.scrollWidth=v?u.scrollWidth:s}if(!t){const e=parseInt(r.paddingTop,10)||0,t=parseInt(r.paddingBottom,10)||0;i.height=f?h-e-t:o,i.scrollHeight=f?u.scrollHeight:l}this.setState(i),this.props.onMeasure&&this.props.onMeasure(i)}},this._setContainerRef=e=>{this._container=e;const{onContainerRef:t}=this.props;t&&t(e)},this._setExpandContainerRef=e=>{this._expandContainer=e},this._setShrinkContainerRef=e=>{this._shrinkContainer=e},this.onScroll=e=>{this._requestTimeout()};const{ignoreWidth:n,ignoreHeight:r,ignorePosition:i}=e;this.state={isMeasured:!1,width:n?void 0:0,scrollWidth:n?void 0:0,height:r?void 0:0,scrollHeight:r?void 0:0,x:i?void 0:0,y:i?void 0:0}}componentDidMount(){this._requestFrame()}shouldComponentUpdate(e,t){return(0,i.Z)(this,e,t)}componentWillUnmount(){this._cancelFrame(),this._clearTimeout()}_cancelFrame(){this._frameRequestID&&(this._frameRequestID=window.cancelAnimationFrame(this._frameRequestID))}_clearTimeout(){this._measureTimeoutID&&(this._measureTimeoutID=window.clearTimeout(this._measureTimeoutID))}_reset(){const e=this._expandContainer,t=this._shrinkContainer;e.scrollTop=1e5,e.scrollLeft=1e5,t.scrollTop=1e5,t.scrollLeft=1e5}render(){const{id:e,className:t,children:n,style:i,onKeyDown:s,onMeasure:o}=this.props,l="function"!=typeof n;return r.createElement("div",{id:e,className:t,style:i,ref:this._setContainerRef,onKeyDown:s},l?n:n(this.state),r.createElement("div",{className:a,ref:this._setExpandContainerRef,onScroll:this.onScroll},r.createElement("div",{className:"Measure-expandContent-1mTAUs"})),r.createElement("div",{className:a,ref:this._setShrinkContainerRef,onScroll:this.onScroll},r.createElement("div",{className:"Measure-shrinkContent-1n10Pn Measure-expandContent-1mTAUs"})))}}s.defaultProps={className:"Measure-container-27uNnm",ignoreWidth:!1,ignoreHeight:!1,ignorePosition:!1,ignoreTransforms:!1,resizeTimeout:100};const o=s},72566:(e,t,n)=>{"use strict";n.d(t,{Z:()=>g});var r=n(67294),i=n(73935),a=n(73433),s=(n(11133),n(71575)),o=n(47636),l=Object.defineProperty,c=Object.prototype.hasOwnProperty,d=Object.getOwnPropertySymbols,u=Object.prototype.propertyIsEnumerable,p=(e,t,n)=>t in e?l(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,m=(e,t)=>{for(var n in t||(t={}))c.call(t,n)&&p(e,n,t[n]);if(d)for(var n of d(t))u.call(t,n)&&p(e,n,t[n]);return e};class h extends r.Component{constructor(e,t){super(e,t),this.onOpen=()=>{var e,t;this._open(),null==(t=(e=this.props).onOpen)||t.call(e)},this.onClose=()=>{var e,t;this._close(),null==(t=(e=this.props).onClose)||t.call(e)},this._ref=e.forwardedRef||r.createRef(),this._popper=null}shouldComponentUpdate(e,t){return(0,o.Z)(this,e,t)}componentDidUpdate(e){this._popper&&this._popper.update()}componentWillUnmount(){this._close()}_open(){const{target:e,options:t}=this.props,n=document.getElementById(e)||document.getElementsByName(e)[0];this._popper=(0,a.fi)(n,i.findDOMNode(this._ref.current),t),this._popper.update()}_close(){this._popper&&(this._popper.destroy(),this._popper=null)}render(){return r.createElement(s.Z,m(m({},this.props),{ref:this._ref,onOpen:this.onOpen,onClose:this.onClose}))}}h.defaultProps={options:{placement:"bottom-start"}};const g=r.forwardRef(((e,t)=>r.createElement(h,m(m({},e),{forwardedRef:t}))))},71575:(e,t,n)=>{"use strict";n.d(t,{Z:()=>p});var r=n(67294),i=n(73935),a=Object.defineProperty,s=Object.prototype.hasOwnProperty,o=Object.getOwnPropertySymbols,l=Object.prototype.propertyIsEnumerable,c=(e,t,n)=>t in e?a(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,d=(e,t)=>{for(var n in t||(t={}))s.call(t,n)&&c(e,n,t[n]);if(o)for(var n of o(t))l.call(t,n)&&c(e,n,t[n]);return e};class u extends r.Component{constructor(e,t){super(e,t),this.onCloseTimeout=()=>{this._closeTimeoutID=null,this.setState({shouldPreventPortalClose:!1},(()=>{this.props.onClose&&this.props.onClose()}))},this.onInteractionEvent=e=>{this.props.allowInteractionEventBubbling||e.stopPropagation()},this.state={isOpen:e.isOpen,shouldPreventPortalClose:!1}}static getDerivedStateFromProps(e,t){return e.isOpen===t.isOpen?null:{isOpen:e.isOpen,shouldPreventPortalClose:e.closeTimeoutMilliseconds&&!e.isOpen&&t.isOpen}}componentDidMount(){this.props.onOpen&&this.props.isOpen&&this.props.onOpen()}componentDidUpdate(e,t){!this.state.shouldPreventPortalClose&&t.shouldPreventPortalClose&&(this._closeTimeoutID=window.clearTimeout(this._closeTimeoutID)),this.state.shouldPreventPortalClose&&!t.shouldPreventPortalClose&&(this._closeTimeoutID=window.setTimeout(this.onCloseTimeout,this.props.closeTimeoutMilliseconds)),this.props.onOpen&&this.props.isOpen&&!e.isOpen&&this.props.onOpen()}componentWillUnmount(){this._closeTimeoutID&&window.clearTimeout(this._closeTimeoutID)}render(){const{className:e,style:t,children:n,forwardedRef:a}=this.props,{isOpen:s,shouldPreventPortalClose:o}=this.state;return s||o?i.createPortal(r.createElement("div",{className:e,style:t,ref:a,onTouchStart:this.onInteractionEvent,onTouchMove:this.onInteractionEvent,onTouchEnd:this.onInteractionEvent,onTouchCancel:this.onInteractionEvent,onMouseDown:this.onInteractionEvent,onMouseUp:this.onInteractionEvent,onClick:this.onInteractionEvent,onFocus:this.onInteractionEvent,onBlur:this.onInteractionEvent},n),document.body):null}}u.defaultProps={isOpen:!0,closeTimeoutMilliseconds:0,allowInteractionEventBubbling:!1};const p=r.forwardRef(((e,t)=>r.createElement(u,d(d({},e),{forwardedRef:t}))))},45428:(e,t,n)=>{"use strict";n.d(t,{Z:()=>f});var r=n(94184),i=n.n(r),a=n(82777),s=n(67294),o=n(79374),l=n(90653),c=n(47636);const d={scroller:"Scroller-scroller-2Rw5pG",none:"Scroller-none-1bFqdM",vertical:"Scroller-vertical-3IY07c",auto:"Scroller-auto-QwZGCy",horizontal:"Scroller-horizontal-2fC3Sh",omni:"Scroller-omni-2DHpFR",compactScroller:"Scroller-compactScroller-2CXKDC"};var u=Object.defineProperty,p=Object.prototype.hasOwnProperty,m=Object.getOwnPropertySymbols,h=Object.prototype.propertyIsEnumerable,g=(e,t,n)=>t in e?u(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,y=(e,t)=>{for(var n in t||(t={}))p.call(t,n)&&g(e,n,t[n]);if(m)for(var n of m(t))h.call(t,n)&&g(e,n,t[n]);return e};class v extends s.Component{constructor(e,t){super(e,t),this.onScroll=e=>{if(e.target!==this._scrollerRef.current)return;const t=e.target.scrollTop,n=e.target.scrollLeft,r=t!==this._currentScrollTop,i=n!==this._currentScrollLeft;(r||i)&&this._setScrollPosition({scrollTop:t,scrollLeft:n}),this.props.onScroll&&this.props.onScroll(e)},this.onScrollPositionChange=()=>{this._animationFrameID=null,this.props.onScrollPositionChange({scrollTop:this._currentScrollTop,scrollLeft:this._currentScrollLeft})},this.onScrollTimeout=()=>{this.setState({isScrolling:!1})},this.onScrollTopUpdate=e=>{this._updateScrollPosition({scrollTop:e}),this.props.onScrollToUpdate&&this.props.onScrollToUpdate({scrollTop:e})},this.onScrollTopComplete=()=>{this._scrollTopTween=null,this.props.onScrollToComplete&&this.props.onScrollToComplete()},this.onScrollLeftUpdate=e=>{this._updateScrollPosition({scrollLeft:e}),this.props.onScrollToUpdate&&this.props.onScrollToUpdate({scrollLeft:e})},this.onScrollLeftComplete=()=>{this._scrollLeftTween=null,this.props.onScrollToComplete&&this.props.onScrollToComplete()},this.state={isScrolling:!1},this._scrollerRef=e.forwardedRef||s.createRef(),this._currentScrollTop=0,this._currentScrollLeft=0}componentDidMount(){this._scrollTo(this.props)}UNSAFE_componentWillReceiveProps(e){e.scrollTop===this.props.scrollTop&&e.scrollLeft===this.props.scrollLeft||this.setState({isScrolling:!0})}shouldComponentUpdate(e,t){return(0,c.Z)(this,e,t)}componentDidUpdate(e){this.state.isScrolling&&(this._scrollTimeoutID&&window.clearTimeout(this._scrollTimeoutID),this._scrollTimeoutID=window.setTimeout(this.onScrollTimeout,this.props.isScrollingTimeout)),this._scrollTo(this.props)}componentWillUnmount(){this._clearTimeouts(),this._cancelScrollTo()}_setScrollPosition({scrollTop:e,scrollLeft:t}){this._clearTimeouts(),this._currentScrollTop=e,this._currentScrollLeft=t,this._animationFrameID=window.requestAnimationFrame(this.onScrollPositionChange)}_updateScrollPosition({scrollTop:e,scrollLeft:t}){const n=this._scrollerRef.current;null!=e&&(n.scrollTop=e),null!=t&&(n.scrollLeft=t)}_scrollTo({scrollTop:e,scrollLeft:t}){if(null==e&&null==t)return;const n=null!=e&&e!==this._currentScrollTop,r=null!=t&&t!==this._currentScrollLeft;if(!n&&!r)return;if(!this.props.smoothScroll&&!this.props.restoreScroll)return this._currentScrollTop=e,this._currentScrollLeft=t,void this._updateScrollPosition({scrollTop:e,scrollLeft:t});const i=this.props.smoothScrollDuration/1e3;this._scrollToPosition={};const s=this._scrollerRef.current;if(this._cancelScrollTo(),n){const t=Math.min(e,s.scrollHeight-s.clientHeight);this._scrollToPosition.scrollTop=s.scrollTop,this._scrollTopTween=(0,a.jt)(s.scrollTop,t,{type:"tween",duration:i,onUpdate:this.onScrollTopUpdate,onComplete:this.onScrollTopComplete})}if(r){const e=Math.min(t,s.scrollWidth-s.clientWidth);this._scrollToPosition.scrollLeft=s.scrollLeft,this._scrollLeftTween=(0,a.jt)(s.scrollLeft,e,{type:"tween",duration:i,onUpdate:this.onScrollLeftUpdate,onComplete:this.onScrollLeftComplete})}}_cancelScrollTo(){this._scrollTopTween&&(this._scrollTopTween.stop(),this._scrollTopTween=null),this._scrollLeftTween&&(this._scrollLeftTween.stop(),this._scrollLeftTween=null)}_clearTimeouts(){this._animationFrameID&&window.cancelAnimationFrame(this._animationFrameID),this._scrollTimeoutID&&window.clearTimeout(this._scrollTimeoutID)}render(){const e=this.props,{className:t,children:n,scrollDirection:r,autoScroll:a,compactScroller:l,enableChildrenProps:c,onScroll:u,onScrollPositionChange:g,forwardedRef:v,smoothScroll:f,restoreScroll:b,smoothScrollDuration:I,scrollTop:S,scrollLeft:M,isScrollingTimeout:E,onScrollToUpdate:P,onScrollToComplete:D}=e,C=((e,t)=>{var n={};for(var r in e)p.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&m)for(var r of m(e))t.indexOf(r)<0&&h.call(e,r)&&(n[r]=e[r]);return n})(e,["className","children","scrollDirection","autoScroll","compactScroller","enableChildrenProps","onScroll","onScrollPositionChange","forwardedRef","smoothScroll","restoreScroll","smoothScrollDuration","scrollTop","scrollLeft","isScrollingTimeout","onScrollToUpdate","onScrollToComplete"]);return s.createElement("div",y({className:i()(t,d.scroller,d[r],a&&d.auto,l&&d.compactScroller),ref:this._scrollerRef,onScroll:g?this.onScroll:u},C),c?(0,o.Z)(n,(e=>s.cloneElement(e,{isScrolling:this.state.isScrolling,scrollTop:this._currentScrollTop,scrollLeft:this._currentScrollLeft}))):n)}}v.defaultProps={scrollDirection:l.yZ,autoScroll:!1,smoothScroll:!0,restoreScroll:!1,smoothScrollDuration:400,enableChildrenProps:!1,isScrollingTimeout:100};const f=s.forwardRef(((e,t)=>s.createElement(v,y(y({},e),{forwardedRef:t}))))},53757:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d});var r=n(94184),i=n.n(r),a=n(67294),s=n(82378),o=n(79481);const l={spinner:"Spinner-spinner-1mPhN9 spin-spin-34xiUE",spinnerContainer:"Spinner-spinnerContainer-1oxwSP",spinnerLabel:"Spinner-spinnerLabel-qlqIO2",small:"Spinner-small-3s8cmG Spinner-spinner-1mPhN9 spin-spin-34xiUE",medium:"Spinner-medium-3-DcQf Spinner-spinner-1mPhN9 spin-spin-34xiUE",large:"Spinner-large-3sSdVM Spinner-spinner-1mPhN9 spin-spin-34xiUE"};function c({className:e,containerClassName:t,labelClassName:n,size:r,color:s,label:o,loadingLabel:c}){const d=i()(e,l[r]),u={borderTopColor:s,borderLeftColor:s};return o?a.createElement("div",{className:i()(t,l.spinnerContainer)},a.createElement("div",{className:d,style:u}),a.createElement("div",{className:i()(n,l.spinnerLabel)},o)):a.createElement("div",{className:d,style:u,"aria-label":c})}c.defaultProps={size:s.M2,color:o.Z.primaryColor};const d=c},22745:(e,t,n)=>{"use strict";n.d(t,{Z:()=>g});var r=n(94184),i=n.n(r),a=n(67294),s=n(60528),o=n(82378),l=n(6103);const c={button:"Button-button-38SEbM Link-link-CM9nxg",default:"Button-default-1LDuq5",primary:"Button-primary-2JB1HU",success:"Button-success-2Q9qWa",danger:"Button-danger-LWWoC9",dark:"Button-dark-2gIrTJ",small:"Button-small-2tvX76",medium:"Button-medium-34fiRW",large:"Button-large-2XkHQ6"};var d=Object.defineProperty,u=Object.prototype.hasOwnProperty,p=Object.getOwnPropertySymbols,m=Object.prototype.propertyIsEnumerable,h=(e,t,n)=>t in e?d(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const g=function(e){var t=e,{className:n,children:r,kind:d=s.TP,size:g=o.M2}=t,y=((e,t)=>{var n={};for(var r in e)u.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&p)for(var r of p(e))t.indexOf(r)<0&&m.call(e,r)&&(n[r]=e[r]);return n})(t,["className","children","kind","size"]);return a.createElement(l.Z,((e,t)=>{for(var n in t||(t={}))u.call(t,n)&&h(e,n,t[n]);if(p)for(var n of p(t))m.call(t,n)&&h(e,n,t[n]);return e})({className:i()(n,c.button,d&&c[d],g&&c[g])},y),r)}},59145:(e,t,n)=>{"use strict";n.d(t,{Z:()=>v});var r=n(94184),i=n.n(r),a=n(67294),s=n(91995),o=n(6103),l=n(21914),c=n(82378);const d={disclosureArrowButton:"DisclosureArrowButton-disclosureArrowButton-17hnir Link-link-CM9nxg",isSelected:"DisclosureArrowButton-isSelected-2ebs5E",small:"DisclosureArrowButton-small-2ilZLy",medium:"DisclosureArrowButton-medium-3V4GGe",large:"DisclosureArrowButton-large-JUvI6I",disclosureArrow:"DisclosureArrowButton-disclosureArrow-1B0C1q DisclosureArrow-disclosureArrow-1jttuj",down:"DisclosureArrowButton-down-3TqLQQ",left:"DisclosureArrowButton-left-1OrWqI",up:"DisclosureArrowButton-up-2ZqhEw",right:"DisclosureArrowButton-right-1omVe8"};var u=Object.defineProperty,p=Object.prototype.hasOwnProperty,m=Object.getOwnPropertySymbols,h=Object.prototype.propertyIsEnumerable,g=(e,t,n)=>t in e?u(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;class y extends a.Component{render(){const e=this.props,{className:t,arrowClassName:n,children:r,direction:l,kind:u,size:y,isSelected:v}=e,f=((e,t)=>{var n={};for(var r in e)p.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&m)for(var r of m(e))t.indexOf(r)<0&&h.call(e,r)&&(n[r]=e[r]);return n})(e,["className","arrowClassName","children","direction","kind","size","isSelected"]),b=y||c.M2;return a.createElement(o.Z,((e,t)=>{for(var n in t||(t={}))p.call(t,n)&&g(e,n,t[n]);if(m)for(var n of m(t))h.call(t,n)&&g(e,n,t[n]);return e})({className:i()(t,d[b],v&&d.isSelected),"aria-haspopup":!0,kind:u,size:y,isSelected:v},f),r,a.createElement(s.Z,{className:i()(n,d[l],d[b]),direction:l,kind:u,size:b,isSelected:v}))}}y.defaultProps={className:d.disclosureArrowButton,arrowClassName:d.disclosureArrow,direction:l.WV,isSelected:!0};const v=y},27028:(e,t,n)=>{"use strict";n.d(t,{Z:()=>m});var r=n(94184),i=n.n(r),a=n(67294),s=(n(11133),n(6103));var o=Object.defineProperty,l=Object.prototype.hasOwnProperty,c=Object.getOwnPropertySymbols,d=Object.prototype.propertyIsEnumerable,u=(e,t,n)=>t in e?o(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;function p(e){const t=e,{className:n,iconComponent:r,iconClassName:o,activeClassName:p,disabledClassName:m,isDisabled:h,isActive:g,label:y,labelClassName:v,title:f,ariaLabel:b,children:I}=t,S=((e,t)=>{var n={};for(var r in e)l.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&c)for(var r of c(e))t.indexOf(r)<0&&d.call(e,r)&&(n[r]=e[r]);return n})(t,["className","iconComponent","iconClassName","activeClassName","disabledClassName","isDisabled","isActive","label","labelClassName","title","ariaLabel","children"]),M=b||f;return a.createElement(s.Z,((e,t)=>{for(var n in t||(t={}))l.call(t,n)&&u(e,n,t[n]);if(c)for(var n of c(t))d.call(t,n)&&u(e,n,t[n]);return e})({className:i()(n,h&&m,g&&p),isDisabled:h,"aria-label":M,title:f},S),a.createElement(r,{className:o}),y?a.createElement("span",{className:v},y):null,I)}p.defaultProps={className:"IconButton-button-llQ1So",activeClassName:"IconButton-isActive-3E_SWm",disabledClassName:"IconButton-isDisabled-1_Hweq",labelClassName:"IconButton-label-1nY56v",isDisabled:!1};const m=p},6103:(e,t,n)=>{"use strict";n.d(t,{Z:()=>M});var r=n(94184),i=n.n(r),a=n(67294),s=n(60495);n(11133);const o=null;function l(){const e=document.activeElement;return e&&e.dataset&&e.dataset.uid||o}var c=n(53851),d=n(86382),u=n(60528),p=n(47636);const m={link:"Link-link-CM9nxg",default:"Link-default-1mYhCE",primary:"Link-primary-3D9Pdw",success:"Link-success-1rrYYX",danger:"Link-danger-2EQx3j",dark:"Link-dark-8V3Nfo",small:"Link-small-1FbGoo",medium:"Link-medium-2N04ou",large:"Link-large-M8bRuN",isSelected:"Link-isSelected-1hxmpf"};var h=Object.defineProperty,g=Object.prototype.hasOwnProperty,y=Object.getOwnPropertySymbols,v=Object.prototype.propertyIsEnumerable,f=(e,t,n)=>t in e?h(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,b=(e,t)=>{for(var n in t||(t={}))g.call(t,n)&&f(e,n,t[n]);if(y)for(var n of y(t))v.call(t,n)&&f(e,n,t[n]);return e};let I=o;s.Z&&window.addEventListener("blur",(()=>{I=l()}));class S extends a.Component{constructor(e,t){super(e,t),this.onTouchStart=e=>{this._isTouch=!0,this._preventFocus=this._shouldPreventFocus(),1===e.touches.length&&this._activate(!0),this.props.onTouchStart&&this.props.onTouchStart(e)},this.onTouchMove=e=>{this._activate(!1),this.props.onTouchMove&&this.props.onTouchMove(e)},this.onTouchEnd=e=>{const{to:t,target:n,isDisabled:r,onTouchEnd:i}=this.props;this._isActive&&!r&&(!t||n&&"_self"!==n||(e.preventDefault(),window.location.href=t),this._press(e)),this._activate(!1),i&&i(e)},this.onTouchCancel=e=>{this._isTouch=!1,this._activate(!1),this.props.onTouchCancel&&this.props.onTouchCancel(e)},this.onMouseDown=e=>{this._isTouch||(this._preventFocus=this._shouldPreventFocus(),0===e.button&&this._activate(!0),this.props.onMouseDown&&this.props.onMouseDown(e))},this.onMouseUp=e=>{if(this._isTouch)return;const{isDisabled:t,onMouseUp:n}=this.props;this._isActive&&!t&&(this._press(e),this._preventOnClick=!0),this._activate(!1),n&&n(e)},this.onMouseLeave=e=>{this._isTouch||(this._isActive&&this.setState({isActive:!1}),this.props.onMouseLeave&&this.props.onMouseLeave(e))},this.onClick=e=>{this._preventFocus=!1;const{isDisabled:t}=this.props;this._preventOnClick||this._isTouch||this._isActive||!this._isFocused||t||this._press(e),this._preventOnClick=!1,this._isTouch=!1},this.onFocus=e=>{this._preventFocus?this._preventFocus=!1:this._uid!==I?(this._focus(!0),this.props.onFocus&&this.props.onFocus(e)):I=o},this.onBlur=e=>{this._focus(!1),this.props.onBlur&&this.props.onBlur(e)},this._preventFocus=!1,this._preventOnClick=!1,this._isTouch=!1,this._isActive=!1,this._isFocused=!1,this._uid=(0,c.Z)(),this.state={isActive:!1,isFocused:!1},this._ref=a.createRef()}componentDidMount(){!this.props.isDisabled&&this.props.focusOnEnabled&&this._ref.current.focus()}shouldComponentUpdate(e,t){return(0,p.Z)(this,e,t)}componentDidUpdate(e){const t=this.props.focusOnEnabled&&!this.props.isDisabled,n=e.focusOnEnabled&&!e.isDisabled;t&&!n&&this._ref.current.focus()}_activate(e){this._isActive=e,this.setState({isActive:e})}_focus(e){this._isFocused=e,this.setState({isFocused:e})}_shouldPreventFocus(){return!this.props.allowFocusOnPress&&!(l()===this._uid)}_press(e){const{onPress:t}=this.props;t&&t(e)}render(){const e=this.props,{className:t,to:n,kind:r,size:s,isSelected:o,isDisabled:l,component:c,allowFocusOnPress:u,role:p,focusOnEnabled:h,onPress:f}=e,I=((e,t)=>{var n={};for(var r in e)g.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&y)for(var r of y(e))t.indexOf(r)<0&&v.call(e,r)&&(n[r]=e[r]);return n})(e,["className","to","kind","size","isSelected","isDisabled","component","allowFocusOnPress","role","focusOnEnabled","onPress"]),{isActive:S,isFocused:M}=this.state,E={"data-uid":this._uid};let P=c;return n&&(P="a",E.href=n),E.role=p||(n?"link":"button"),E.className=i()(t,m.link,m[r],s&&m[s],o&&m.isSelected,S&&d.lW,M&&d.GZ,l&&d.Pv),"button"!==P&&"input"!==P||(E.type=I.type||"button",E.disabled=l),P?a.createElement(P,b(b(b({},I),E),{ref:this._ref,onTouchStart:this.onTouchStart,onTouchMove:this.onTouchMove,onTouchEnd:this.onTouchEnd,onTouchCancel:this.onTouchCancel,onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onMouseLeave:this.onMouseLeave,onClick:this.onClick,onFocus:this.onFocus,onBlur:this.onBlur})):null}}S.defaultProps={component:"button",kind:u.TP,isSelected:!1,isDisabled:!1,allowFocusOnPress:!1};const M=S},69679:(e,t,n)=>{"use strict";n.d(t,{Z:()=>y});var r=n(94184),i=n.n(r),a=n(67294),s=n(53757),o=n(82378),l=n(79481),c=n(22745);var d=Object.defineProperty,u=Object.prototype.hasOwnProperty,p=Object.getOwnPropertySymbols,m=Object.prototype.propertyIsEnumerable,h=(e,t,n)=>t in e?d(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;function g(e){var t=e,{children:n,className:r,loadingLabel:o,spinnerSize:l,spinnerColor:d,isDisabled:g,isSpinning:y}=t,v=((e,t)=>{var n={};for(var r in e)u.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&p)for(var r of p(e))t.indexOf(r)<0&&m.call(e,r)&&(n[r]=e[r]);return n})(t,["children","className","loadingLabel","spinnerSize","spinnerColor","isDisabled","isSpinning"]);return a.createElement(c.Z,((e,t)=>{for(var n in t||(t={}))u.call(t,n)&&h(e,n,t[n]);if(p)for(var n of p(t))m.call(t,n)&&h(e,n,t[n]);return e})({className:i()(r,"SpinnerButton-button-SzW9Jq Button-button-38SEbM Link-link-CM9nxg",y&&"SpinnerButton-isSpinning-1rHgxP"),isDisabled:g||y},v),a.createElement("span",{className:"SpinnerButton-spinnerContainer-1RSsiQ"},a.createElement(s.Z,{className:"SpinnerButton-spinner-lIy7B2 Spinner-spinner-1mPhN9 spin-spin-34xiUE",color:d,loadingLabel:o,size:l})),a.createElement("span",{className:"SpinnerButton-label-37DW_M"},n))}g.defaultProps={isDisabled:!1,isSpinning:!1,spinnerSize:o.HC,spinnerColor:l.Z.defaultColor};const y=g},63312:(e,t,n)=>{"use strict";n.d(t,{Z:()=>h});var r=n(67294),i=n(6103),a=n(27271),s=n(66088);const o={toolbarButton:"ToolbarButton-toolbarButton-APIhWk",bottomLeft:"ToolbarButton-bottomLeft-3p6PNq Tooltip-bottomLeft-LvSd1t Tooltip-tooltip-1BlaVj Tooltip-tooltipArrow-3ocxiK Tooltip-tooltipTopArrow-1LUIRT Tooltip-tooltipLeftAlignArrow-2yN26l",bottomCenter:"ToolbarButton-bottomCenter-30Sypj Tooltip-bottomCenter-3I-giq Tooltip-tooltip-1BlaVj Tooltip-tooltipArrow-3ocxiK Tooltip-tooltipTopArrow-1LUIRT Tooltip-tooltipCenterAlignArrow-EwxeoC",bottomRight:"ToolbarButton-bottomRight-TPmHgm Tooltip-bottomRight-3JtyAm Tooltip-tooltip-1BlaVj Tooltip-tooltipArrow-3ocxiK Tooltip-tooltipTopArrow-1LUIRT Tooltip-tooltipRightAlignArrow-3zteiK",hasFocus:"ToolbarButton-hasFocus-3SsBQj"};var l=Object.defineProperty,c=Object.prototype.hasOwnProperty,d=Object.getOwnPropertySymbols,u=Object.prototype.propertyIsEnumerable,p=(e,t,n)=>t in e?l(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;class m extends r.Component{render(){const e=this.props,{children:t,tooltip:n,className:s,hasLabel:l,tooltipAttachment:m,hideOnPress:h,onPress:g}=e,y=((e,t)=>{var n={};for(var r in e)c.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&d)for(var r of d(e))t.indexOf(r)<0&&u.call(e,r)&&(n[r]=e[r]);return n})(e,["children","tooltip","className","hasLabel","tooltipAttachment","hideOnPress","onPress"]),v=o[m],f=`${v} ${o.hasFocus}`;return r.createElement(a.Z,((e,t)=>{for(var n in t||(t={}))c.call(t,n)&&p(e,n,t[n]);if(d)for(var n of d(t))u.call(t,n)&&p(e,n,t[n]);return e})({className:s,"aria-label":n,component:i.Z,tooltip:n,tooltipClassName:v,tooltipFocusedClassName:f,hideOnPress:h,onPress:g},y),t)}}m.defaultProps={className:o.toolbarButton,tooltipAttachment:s.eO};const h=m},20723:(e,t,n)=>{"use strict";n.d(t,{Z:()=>g});var r=n(94184),i=n.n(r),a=n(67294),s=n(82378);const o={input:"CheckInput-input-3u8_kT",label:"CheckInput-label-3NzSDF",small:"CheckInput-small-qldck3",large:"CheckInput-large-351BjP",isDisabled:"CheckInput-isDisabled-3geUjY",hasError:"CheckInput-hasError-2nONwa"};var l=Object.defineProperty,c=Object.prototype.hasOwnProperty,d=Object.getOwnPropertySymbols,u=Object.prototype.propertyIsEnumerable,p=(e,t,n)=>t in e?l(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,m=(e,t)=>{for(var n in t||(t={}))c.call(t,n)&&p(e,n,t[n]);if(d)for(var n of d(t))u.call(t,n)&&p(e,n,t[n]);return e};class h extends a.Component{constructor(e,t){super(e,t),this.setRef=e=>{this._checkbox=e},this.onChange=e=>{const t=e.target.checked?this.props.checkedValue:this.props.uncheckedValue;this.props.value!==t&&this.props.onChange(t)},this._checkbox=null}componentDidMount(){this.setIndeterminate()}componentDidUpdate(){this.setIndeterminate()}setIndeterminate(){if(!this._checkbox)return;const{value:e,uncheckedValue:t,checkedValue:n}=this.props;this._checkbox.indeterminate=e!==t&&e!==n}render(){const e=this.props,{className:t,inputClassName:n,errorClassName:r,disabledClassName:s,isDisabled:l,size:p,checkboxText:h,name:g,initialValue:y,value:v,checkedValue:f,uncheckedValue:b,showErrors:I,hasError:S,errors:M,validations:E}=e,P=((e,t)=>{var n={};for(var r in e)c.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&d)for(var r of d(e))t.indexOf(r)<0&&u.call(e,r)&&(n[r]=e[r]);return n})(e,["className","inputClassName","errorClassName","disabledClassName","isDisabled","size","checkboxText","name","initialValue","value","checkedValue","uncheckedValue","showErrors","hasError","errors","validations"]);return a.createElement("label",{className:i()(t,o[p],l&&s,S&&r),htmlFor:g},a.createElement("input",m(m({},P),{id:g,type:"checkbox",disabled:l,className:n,checked:v===f,ref:this.setRef,onChange:this.onChange})),h)}}h.defaultProps={className:o.label,inputClassName:o.input,errorClassName:o.hasError,disabledClassName:o.isDisabled,isDisabled:!1,size:s.ln,uncheckedValue:!1,checkedValue:!0,value:!1,hasError:!1};const g=h},66842:(e,t,n)=>{"use strict";n.d(t,{Z:()=>g});var r=n(67294),i=n(20723),a=n(48663),s=n(72761),o=n(26955),l=n(51221),c=Object.defineProperty,d=Object.prototype.hasOwnProperty,u=Object.getOwnPropertySymbols,p=Object.prototype.propertyIsEnumerable,m=(e,t,n)=>t in e?c(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;function h(e){var t=e,{formGroupClassName:n,labelText:l,checkboxText:c,helpText:h,showErrors:g,errors:y}=t,v=((e,t)=>{var n={};for(var r in e)d.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&u)for(var r of u(e))t.indexOf(r)<0&&p.call(e,r)&&(n[r]=e[r]);return n})(t,["formGroupClassName","labelText","checkboxText","helpText","showErrors","errors"]);const[f]=y;return r.createElement(a.Z,{className:n},l?r.createElement(o.Z,null,l):null,r.createElement(i.Z,((e,t)=>{for(var n in t||(t={}))d.call(t,n)&&m(e,n,t[n]);if(u)for(var n of u(t))p.call(t,n)&&m(e,n,t[n]);return e})({hasError:g,checkboxText:r.createElement("span",null,c,g&&f?`  ${f}`:null)},v)),h?r.createElement(s.Z,null,h):null)}h.defaultProps={showErrors:!1,errors:[]};const g=(0,l.Z)(h)},37084:(e,t,n)=>{"use strict";n.d(t,{Nw:()=>b,ZP:()=>M});var r=n(67294),i=n(40111),a=n(13469),s=n.n(a),o=n(40807),l=n(43478),c=Object.defineProperty,d=Object.prototype.hasOwnProperty,u=Object.getOwnPropertySymbols,p=Object.prototype.propertyIsEnumerable,m=(e,t,n)=>t in e?c(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,h=(e,t)=>{for(var n in t||(t={}))d.call(t,n)&&m(e,n,t[n]);if(u)for(var n of u(t))p.call(t,n)&&m(e,n,t[n]);return e};const g="CHANGE",y="REPLACE_STATE",v="RESET",f="SHOW_ERRORS",b={change:(0,o.Z)(g),replaceState:(0,o.Z)(y),reset:(0,o.Z)(v),showErrors:(0,o.Z)(f)};function I(e={},{type:t,payload:n}){switch(t){case g:{const{name:t,change:r}=n;if(null==r){const n=h({},e);return delete n[t],n}return h(h({},e),{[t]:r})}case y:return n;case v:return{};case f:return s().mapObject(e,(e=>h(h({},e),{showErrors:0!==e.errors.length})));default:return e}}class S extends r.Component{constructor(e,t){super(e,t),this.onFormStoreChange=()=>{const e=this.store.getState();e!==this.prevState&&(this.prevState=e,this.props.onChange(e))},this.onSubmit=e=>{e.preventDefault(),e.nativeEvent.preventDefault();const t=this.store.getState();if(s().some(t,((e,t)=>0!==e.errors.length)))this.actions.showErrors();else{const e=s().mapObject(t,((e,t)=>e.value));this.props.onSubmit(e,t)}},this.store=(0,i.MT)(I),this.prevState=this.store.getState(),this.actions=(0,i.DE)(b,this.store.dispatch)}getChildContext(){return{formStore:this.store}}UNSAFE_componentWillMount(){this.unsubscribe=this.store.subscribe(this.onFormStoreChange)}UNSAFE_componentWillReceiveProps(e){e.formState&&this.store.getState()!==e.formState&&this.actions.replaceState(e.formState)}componentWillUnmount(){this.unsubscribe&&(this.unsubscribe(),this.store.replaceReducer((e=>e)))}render(){const e=this.props,{children:t,formState:n,onChange:i}=e,a=((e,t)=>{var n={};for(var r in e)d.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&u)for(var r of u(e))t.indexOf(r)<0&&p.call(e,r)&&(n[r]=e[r]);return n})(e,["children","formState","onChange"]);return r.createElement("form",h(h({},a),{onSubmit:this.onSubmit}),t)}}S.childContextTypes={formStore:l.Z},S.defaultProps={onSubmit(){},onChange(){}};const M=S},48663:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d});var r=n(67294),i=Object.defineProperty,a=Object.prototype.hasOwnProperty,s=Object.getOwnPropertySymbols,o=Object.prototype.propertyIsEnumerable,l=(e,t,n)=>t in e?i(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;function c(e){var t=e,{children:n}=t,i=((e,t)=>{var n={};for(var r in e)a.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&s)for(var r of s(e))t.indexOf(r)<0&&o.call(e,r)&&(n[r]=e[r]);return n})(t,["children"]);return r.createElement("div",((e,t)=>{for(var n in t||(t={}))a.call(t,n)&&l(e,n,t[n]);if(s)for(var n of s(t))o.call(t,n)&&l(e,n,t[n]);return e})({},i),n)}c.defaultProps={className:"FormGroup-group-21DkSi"};const d=c},72761:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var r=n(67294),i=Object.defineProperty,a=Object.prototype.hasOwnProperty,s=Object.getOwnPropertySymbols,o=Object.prototype.propertyIsEnumerable,l=(e,t,n)=>t in e?i(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,c=(e,t)=>{for(var n in t||(t={}))a.call(t,n)&&l(e,n,t[n]);if(s)for(var n of s(t))o.call(t,n)&&l(e,n,t[n]);return e};function d(e){var t=e,{children:n,className:i}=t,l=((e,t)=>{var n={};for(var r in e)a.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&s)for(var r of s(e))t.indexOf(r)<0&&o.call(e,r)&&(n[r]=e[r]);return n})(t,["children","className"]);return r.createElement("p",c(c({},l),{className:i}),n)}d.defaultProps={className:"FormHelp-help-5U-58f"};const u=d},26955:(e,t,n)=>{"use strict";n.d(t,{Z:()=>m});var r=n(94184),i=n.n(r),a=n(67294);var s=Object.defineProperty,o=Object.prototype.hasOwnProperty,l=Object.getOwnPropertySymbols,c=Object.prototype.propertyIsEnumerable,d=(e,t,n)=>t in e?s(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,u=(e,t)=>{for(var n in t||(t={}))o.call(t,n)&&d(e,n,t[n]);if(l)for(var n of l(t))c.call(t,n)&&d(e,n,t[n]);return e};function p(e){var t=e,{children:n,className:r,errorClassName:s,name:d,hasError:p}=t,m=((e,t)=>{var n={};for(var r in e)o.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&l)for(var r of l(e))t.indexOf(r)<0&&c.call(e,r)&&(n[r]=e[r]);return n})(t,["children","className","errorClassName","name","hasError"]);return a.createElement("label",u(u({},m),{className:i()(r,p&&s),htmlFor:d}),n)}p.defaultProps={className:"FormLabel-label-lDFbdu",errorClassName:"FormLabel-hasError-y9rVjj"};const m=p},45558:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(67294),i=n(26955);const a=function(e){const{className:t,name:n,labelText:a,showErrors:s,errors:o}=e,[l]=o;return r.createElement(i.Z,{className:t,hasError:s,name:n},a,s&&l?`  ${l}`:null)}},18246:(e,t,n)=>{"use strict";n.d(t,{Z:()=>v});var r=n(94184),i=n.n(r),a=n(67294),s=n(13469),o=n.n(s),l=n(82378);const c={input:"SelectInput-input-_K0kCK input-input-3msd1_",small:"SelectInput-small-11vHiq input-small-1IgBjD",select:"SelectInput-select-2ofdp2",large:"SelectInput-large-339qCt input-large-2wH5qf",isDisabled:"SelectInput-isDisabled-AVeFvt",hasError:"SelectInput-hasError-19P4UM"};var d=Object.defineProperty,u=Object.prototype.hasOwnProperty,p=Object.getOwnPropertySymbols,m=Object.prototype.propertyIsEnumerable,h=(e,t,n)=>t in e?d(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,g=(e,t)=>{for(var n in t||(t={}))u.call(t,n)&&h(e,n,t[n]);if(p)for(var n of p(t))m.call(t,n)&&h(e,n,t[n]);return e};class y extends a.Component{constructor(){super(...arguments),this.onChange=e=>{this.props.onChange(e.target.value)}}render(){const e=this.props,{className:t,errorClassName:n,disabledClassName:r,isDisabled:s,size:l,name:d,initialValue:h,value:y,values:v,hasError:f,errors:b,validations:I}=e,S=((e,t)=>{var n={};for(var r in e)u.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&p)for(var r of p(e))t.indexOf(r)<0&&m.call(e,r)&&(n[r]=e[r]);return n})(e,["className","errorClassName","disabledClassName","isDisabled","size","name","initialValue","value","values","hasError","errors","validations"]);return a.createElement("div",{className:i()(t,c[l],s&&r,f&&n)},a.createElement("select",g(g({},S),{disabled:s,className:c.select,id:d,name:d,value:y,onChange:this.onChange}),v.map(((e,t)=>{if(o().isString(e))return a.createElement("option",{key:t,value:e},e);const[n]=o().keys(e);return a.createElement("option",{key:t,value:n},o().result(e,n))}))))}}y.defaultProps={className:c.input,errorClassName:c.hasError,disabledClassName:c.isDisabled,isDisabled:!1,size:l.ln,hasError:!1};const v=y},38035:(e,t,n)=>{"use strict";n.d(t,{Z:()=>h});var r=n(67294),i=n(48663),a=n(72761),s=n(45558),o=n(18246),l=n(51221),c=Object.defineProperty,d=Object.prototype.hasOwnProperty,u=Object.getOwnPropertySymbols,p=Object.prototype.propertyIsEnumerable,m=(e,t,n)=>t in e?c(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const h=(0,l.Z)((function(e){var t=e,{formGroupClassName:n,formLabelClassName:l,name:c,labelText:h,helpText:g,showErrors:y,errors:v}=t,f=((e,t)=>{var n={};for(var r in e)d.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&u)for(var r of u(e))t.indexOf(r)<0&&p.call(e,r)&&(n[r]=e[r]);return n})(t,["formGroupClassName","formLabelClassName","name","labelText","helpText","showErrors","errors"]);return r.createElement(i.Z,{className:n},r.createElement(s.Z,{className:l,showErrors:y,errors:v,name:c,labelText:h}),r.createElement(o.Z,((e,t)=>{for(var n in t||(t={}))d.call(t,n)&&m(e,n,t[n]);if(u)for(var n of u(t))p.call(t,n)&&m(e,n,t[n]);return e})({name:c,hasError:y},f)),g?r.createElement(a.Z,null,g):null)}))},99085:(e,t,n)=>{"use strict";n.d(t,{Z:()=>g});var r=n(94184),i=n.n(r),a=n(67294),s=n(82378);const o={input:"TextInput-input-16EbOL input-input-3msd1_",small:"TextInput-small-1AIR7D input-small-1IgBjD",large:"TextInput-large-2C-yIr input-large-2wH5qf",isDisabled:"TextInput-isDisabled-vLRcmz input-isDisabled-3xoo6r",hasError:"TextInput-hasError-3DTDrH input-hasError-2b8Ur9"};var l=Object.defineProperty,c=Object.prototype.hasOwnProperty,d=Object.getOwnPropertySymbols,u=Object.prototype.propertyIsEnumerable,p=(e,t,n)=>t in e?l(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,m=(e,t)=>{for(var n in t||(t={}))c.call(t,n)&&p(e,n,t[n]);if(d)for(var n of d(t))u.call(t,n)&&p(e,n,t[n]);return e};class h extends a.Component{constructor(){super(...arguments),this.onChange=e=>{this.props.onChange(e.target.value)},this.onFocus=()=>{this._select()},this.onRef=e=>{this.inputElement=e}}componentDidMount(){this.props.focusOnMount&&(this.inputElement.focus(),this._select())}_select(){if(this.inputElement&&this.props.selectTextOnFocus){const e=this.inputElement.value,t=e?e.length:0;this.inputElement.selectionStart=0,this.inputElement.selectionEnd=t}}render(){const e=this.props,{className:t,errorClassName:n,disabledClassName:r,isDisabled:s,initialValue:l,value:p,size:h,type:g,name:y,placeholder:v,hasError:f,errors:b,validations:I,focusOnMount:S,selectTextOnFocus:M}=e,E=((e,t)=>{var n={};for(var r in e)c.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&d)for(var r of d(e))t.indexOf(r)<0&&u.call(e,r)&&(n[r]=e[r]);return n})(e,["className","errorClassName","disabledClassName","isDisabled","initialValue","value","size","type","name","placeholder","hasError","errors","validations","focusOnMount","selectTextOnFocus"]);return a.createElement("input",m(m({},E),{id:y,name:y,type:g,disabled:s,value:p,placeholder:v,className:i()(t,o[h],s&&r,f&&n),ref:S?this.onRef:null,onChange:this.onChange,onFocus:this.onFocus}))}}h.defaultProps={className:o.input,errorClassName:o.hasError,disabledClassName:o.isDisabled,isDisabled:!1,size:s.ln,type:"text",hasError:!1,focusOnMount:!1,selectTextOnFocus:!1};const g=h},8030:(e,t,n)=>{"use strict";n.d(t,{W:()=>h,Z:()=>g});var r=n(67294),i=n(48663),a=n(72761),s=n(45558),o=n(99085),l=n(51221),c=Object.defineProperty,d=Object.prototype.hasOwnProperty,u=Object.getOwnPropertySymbols,p=Object.prototype.propertyIsEnumerable,m=(e,t,n)=>t in e?c(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;function h(e){var t=e,{formGroupClassName:n,formLabelClassName:l,name:c,labelText:h,helpText:g,showErrors:y,errors:v,children:f}=t,b=((e,t)=>{var n={};for(var r in e)d.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&u)for(var r of u(e))t.indexOf(r)<0&&p.call(e,r)&&(n[r]=e[r]);return n})(t,["formGroupClassName","formLabelClassName","name","labelText","helpText","showErrors","errors","children"]);return r.createElement(i.Z,{className:n},f,r.createElement(s.Z,{className:l,showErrors:y,errors:v,name:c,labelText:h}),r.createElement(o.Z,((e,t)=>{for(var n in t||(t={}))d.call(t,n)&&m(e,n,t[n]);if(u)for(var n of u(t))p.call(t,n)&&m(e,n,t[n]);return e})({name:c,hasError:y},b)),g?r.createElement(a.Z,null,g):null)}h.defaultProps={errors:[]};const g=(0,l.Z)(h)},51221:(e,t,n)=>{"use strict";n.d(t,{Z:()=>I});var r=n(67294),i=n(40111),a=n(13469),s=n.n(a),o=(n(11133),n(87769)),l=n(9119),c=n(48494),d=n(43478),u=n(81324),p=n(47636),m=n(37084),h=Object.defineProperty,g=Object.prototype.hasOwnProperty,y=Object.getOwnPropertySymbols,v=Object.prototype.propertyIsEnumerable,f=(e,t,n)=>t in e?h(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,b=(e,t)=>{for(var n in t||(t={}))g.call(t,n)&&f(e,n,t[n]);if(y)for(var n of y(t))v.call(t,n)&&f(e,n,t[n]);return e};function I(e){var t;const n=`FormInput(${(0,c.Z)(e)})`;return(t=class extends r.Component{constructor(e,t){super(e,t),this.onFormStoreChange=()=>{const{name:e}=this.props,t=this.store.getState(),n=t[e];n||this.initializeInputState(this.props),(0,u.Z)(t,this.previousFormState)||(this.previousFormState=t,this.handleStateChange(this.props)),this.state!==n&&null!=n&&this.setState(n)},this.onChange=e=>{const{transformValue:t}=this.props;this.handleStateChange(this.props,t?t(e):e)},this.onBlur=()=>{if(this.hasBlurred)return;this.hasBlurred=!0;const e=this.store.getState(),{name:t}=this.props,n=e[t],r=this.calculateErrors(n.value,e,this.props);this.actions.change({name:t,change:b(b({},n),{errors:r,showErrors:0!==r.length})})},this.store=t.formStore,this.actions=(0,i.DE)(m.Nw,this.store.dispatch),this.state=null,this.hasBlurred=!1}UNSAFE_componentWillMount(){this.previousFormState=this.store.getState(),this.unsubscribe=this.store.subscribe(this.onFormStoreChange),this.initializeInputState(this.props)}UNSAFE_componentWillReceiveProps(e){(0,o.Z)(e.initialValue)&&(0,o.Z)(this.props.initialValue)?(0,u.Z)(e.initialValue,this.props.initialValue)||this.handleStateChange(e,e.initialValue):s().isEqual(e.initialValue,this.props.initialValue)||this.handleStateChange(e,e.initialValue)}shouldComponentUpdate(e,t){return(0,p.Z)(this,e,t)}componentWillUnmount(){const{name:e}=this.props;this.unsubscribe&&this.unsubscribe(),this.actions.change({name:e,change:null})}initializeInputState(e){const{name:t,initialValue:n}=e,r=this.store.getState();r[t]={errors:this.calculateErrors(n,r,e),showErrors:!1,value:n},this.actions.replaceState(r)}handleStateChange(e,t){const n=this.store.getState(),{name:r}=e,i=n[r],a=Array.isArray(t)||null!=t?t:i.value,o=this.calculateErrors(a,n,e);s().isEqual(i.value,a)&&s().isEqual(i.errors,o)||this.actions.change({name:r,change:{errors:o,showErrors:this.hasBlurred&&0!==o.length,value:a}})}calculateErrors(e,t,n){const{validations:r}=n;return r.map((n=>n(e,t))).filter((e=>null!=e))}render(){const t=this.props,{validations:n,errors:i,transformValue:a,onChange:s}=t,o=((e,t)=>{var n={};for(var r in e)g.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&y)for(var r of y(e))t.indexOf(r)<0&&v.call(e,r)&&(n[r]=e[r]);return n})(t,["validations","errors","transformValue","onChange"]);if(!this.state)return null;const c=i.length>0,{value:d,errors:u,showErrors:p}=this.state;return r.createElement(e,b(b({},o),{showErrors:!!c||p,errors:c?i:u,value:d,onChange:(0,l.Z)(this.onChange,s),onBlur:this.onBlur}))}}).displayName=n,t.contextTypes={formStore:d.Z},t.defaultProps={validations:[],errors:[]},t.WrappedComponent=e,t}},45318:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var r=n(67294),i=n(39409),a=Object.defineProperty,s=Object.prototype.hasOwnProperty,o=Object.getOwnPropertySymbols,l=Object.prototype.propertyIsEnumerable,c=(e,t,n)=>t in e?a(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;function d(e){return r.createElement(i.Z,((e,t)=>{for(var n in t||(t={}))s.call(t,n)&&c(e,n,t[n]);if(o)for(var n of o(t))l.call(t,n)&&c(e,n,t[n]);return e})({},e))}d.defaultProps={className:"PageHeaderBadge-badge-2Rd-zv"};const u=d},41859:(e,t,n)=>{"use strict";n.d(t,{Z:()=>m});var r=n(67294),i=n(59145),a=n(6103),s=n(21914);var o=Object.defineProperty,l=Object.prototype.hasOwnProperty,c=Object.getOwnPropertySymbols,d=Object.prototype.propertyIsEnumerable,u=(e,t,n)=>t in e?o(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;class p extends r.Component{render(){const e=this.props,{linkClassName:t,buttonClassName:n,children:o,to:p,hasMenu:m,isMenuOpen:h,isSelected:g,isDisabled:y}=e,v=((e,t)=>{var n={};for(var r in e)l.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&c)for(var r of c(e))t.indexOf(r)<0&&d.call(e,r)&&(n[r]=e[r]);return n})(e,["linkClassName","buttonClassName","children","to","hasMenu","isMenuOpen","isSelected","isDisabled"]);return m||p?m?r.createElement(i.Z,((e,t)=>{for(var n in t||(t={}))l.call(t,n)&&u(e,n,t[n]);if(c)for(var n of c(t))d.call(t,n)&&u(e,n,t[n]);return e})({className:n,"data-qa-id":"typeDropdownButton",isSelected:g,isDisabled:y,direction:h?s.UP:s.WV},v),o):r.createElement(a.Z,{className:t,to:p,isDisabled:y},o):r.createElement("span",{className:t},o)}}p.defaultProps={linkClassName:"PageHeaderBreadcrumbButton-link-1aBnTB",buttonClassName:"PageHeaderBreadcrumbButton-button-1YnxpE DisclosureArrowButton-disclosureArrowButton-17hnir Link-link-CM9nxg",hasMenu:!1,isMenuOpen:!1,isSelected:!1,isDisabled:!1};const m=p},24351:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(67294);function i({className:e,children:t}){return r.createElement("div",{className:e},t)}i.defaultProps={className:"PageHeaderLeft-pageHeaderLeft-9C90MD"};const a=i},5011:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(67294),i=n(28670),a=n(51343),s=n(69881);const o=function({className:e,type:t}){return(0,s.isDirectoryType)(t)?r.createElement(i.Z,{className:e}):r.createElement(a.Z,{className:e})}},52974:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var r=n(67294),i=Object.defineProperty,a=Object.prototype.hasOwnProperty,s=Object.getOwnPropertySymbols,o=Object.prototype.propertyIsEnumerable,l=(e,t,n)=>t in e?i(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,c=(e,t)=>{for(var n in t||(t={}))a.call(t,n)&&l(e,n,t[n]);if(s)for(var n of s(t))o.call(t,n)&&l(e,n,t[n]);return e};function d(e){const{className:t,style:n,src:i,width:a,height:s,backgroundSize:o,backgroundPosition:l,backgroundRepeat:d}=e;return r.createElement("div",{className:t,style:c({width:a,height:s,backgroundImage:`url(${i})`,backgroundSize:o,backgroundPosition:l,backgroundRepeat:d},n)})}d.defaultProps={backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat"};const u=d},37568:(e,t,n)=>{"use strict";n.d(t,{Z:()=>v});var r=n(94184),i=n.n(r),a=n(67294),s=n(19210),o=n(32129),l=n(52974);var c=Object.defineProperty,d=Object.prototype.hasOwnProperty,u=Object.getOwnPropertySymbols,p=Object.prototype.propertyIsEnumerable,m=(e,t,n)=>t in e?c(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,h=(e,t)=>{for(var n in t||(t={}))d.call(t,n)&&m(e,n,t[n]);if(u)for(var n of u(t))p.call(t,n)&&m(e,n,t[n]);return e};function g(e,t,n){const{className:r,style:a,styleProps:s,durationMilliseconds:o,useCrossFade:l}=n,c=document.createElement("div");c.className=i()(r,l&&"CrossFadeImage-crossFade-1i8uNg"),Object.assign(c.style,h(h({position:"absolute",animationDuration:o+"ms",backgroundImage:`url(${e})`,width:"100%",height:"100%"},s),a)),t.appendChild(c)}function y(e){const{className:t,style:n,containerClassName:r,containerStyle:i,src:s,width:o,height:l,backgroundSize:c,backgroundPosition:d,backgroundRepeat:u,animateOnMount:p,disableCrossFade:m,durationMilliseconds:y}=e,v=(0,a.useRef)(null),f=(0,a.useRef)(!0),b=h({position:"relative",width:o,height:l},i);return(0,a.useLayoutEffect)((()=>{const e=f.current;f.current=!1;const r={className:t,style:n,styleProps:{backgroundSize:c,backgroundPosition:d,backgroundRepeat:u},durationMilliseconds:y,useCrossFade:!e||p};let i,a;return m&&(r.useCrossFade=!1),e?g(s,v.current,r):i=window.requestAnimationFrame((()=>{i=null,g(s,v.current,r),a=window.setTimeout((()=>{for(;v.current.childNodes.length>1;)(e=v.current).removeChild(e.childNodes[0]);var e}),2*y)})),()=>{i&&window.cancelAnimationFrame(i),a&&window.clearTimeout(a)}}),[t,n,s,c,d,u]),a.createElement("div",{className:r,style:b,ref:v})}y.defaultProps=h(h({},l.Z.defaultProps),{animateOnMount:!0,disableCrossFade:!1,durationMilliseconds:(0,s.Z)(o.Z.slowSpeed)});const v=y},57576:(e,t,n)=>{"use strict";n.d(t,{Z:()=>m});var r=n(67294),i=n(52974),a=Object.defineProperty,s=Object.prototype.hasOwnProperty,o=Object.getOwnPropertySymbols,l=Object.prototype.propertyIsEnumerable,c=(e,t,n)=>t in e?a(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,d=(e,t)=>{for(var n in t||(t={}))s.call(t,n)&&c(e,n,t[n]);if(o)for(var n of o(t))l.call(t,n)&&c(e,n,t[n]);return e};function u(e){e&&(e.onload=e.onabort=e.onerror=void 0)}function p(e){const t=e,{src:n,emptySrc:i,component:a,preloadOnMount:c,onLoad:p,onError:m}=t,h=((e,t)=>{var n={};for(var r in e)s.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&o)for(var r of o(e))t.indexOf(r)<0&&l.call(e,r)&&(n[r]=e[r]);return n})(t,["src","emptySrc","component","preloadOnMount","onLoad","onError"]),[g,y]=(0,r.useState)(c?null:n),[v,f]=(0,r.useState)(null),b=(0,r.useRef)(c);return(0,r.useEffect)((()=>{if(!b.current)return void(b.current=!0);if(!n)return;let e=new window.Image;return e.onload=()=>{e=u(e),y(n),f(null)},e.onabort=e.onerror=()=>{e=u(e),y(null),f(new Error(`Unable to load ${n}`))},e.src=n,()=>{e=u(e)}}),[n]),(0,r.useEffect)((()=>{!n&&g&&y(null)}),[g,n]),(0,r.useEffect)((()=>{g&&p&&p(g)}),[g,p]),(0,r.useEffect)((()=>{v&&m&&m(v)}),[v,m]),r.createElement(a,d(d({},h),{src:g||i}))}p.defaultProps={emptySrc:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",component:i.Z,preloadOnMount:!0};const m=p},6483:(e,t,n)=>{"use strict";n.d(t,{ZP:()=>P});var r=n(19755),i=n.n(r),a=n(67294),s=n(2938),o=n(43108),l=n(40133),c=(n(11133),n(15633)),d=n(84936),u=n(57576),p=Object.defineProperty,m=Object.prototype.hasOwnProperty,h=Object.getOwnPropertySymbols,g=Object.prototype.propertyIsEnumerable,y=(e,t,n)=>t in e?p(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,v=(e,t)=>{for(var n in t||(t={}))m.call(t,n)&&y(e,n,t[n]);if(h)for(var n of h(t))g.call(t,n)&&y(e,n,t[n]);return e};const f=new s.Z,b={},I={},S=[l.EU,l.yy,l.it,l.bS,l.Rr,l.Ko,l.ES,l.oP].sort(((e,t)=>M(e)-M(t)));function M(e){if(I.hasOwnProperty(e))return I[e];const t=e.split("-")[1];return I[e]=t,t}function E(e){const t=e,{url:n,minSize:r,format:s,quality:l,upscale:p,filters:y,allowPixelRatioSize:I,allowImageBlobs:E,supportsSize:P,onError:D}=t,C=((e,t)=>{var n={};for(var r in e)m.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&h)for(var r of h(e))t.indexOf(r)<0&&g.call(e,r)&&(n[r]=e[r]);return n})(t,["url","minSize","format","quality","upscale","filters","allowPixelRatioSize","allowImageBlobs","supportsSize","onError"]),w=function(e,t){if(!e)return;const n=Object.assign(function(e){const t=e.allowPixelRatioSize?(0,o.Z)():1,n=e.size||function(e){if(b.hasOwnProperty(e))return b[e];const t=S.find((t=>M(t)>=e))||S[S.length-1];return b[e]=t,t}(e.width);if(e.supportsSize)return{size:n,scale:Math.ceil(t)};{const r=M(n),i=e.height/e.width;return{width:Math.ceil(r*t),height:Math.ceil(i*r*t),minSize:e.minSize?1:void 0,upscale:e.upscale?1:void 0}}}(t),t.filters);t.format&&(n.format=t.format),t.quality&&(n.quality=t.quality);const r=e.indexOf("?");let i=e;return r>-1?(i=d.Z.join(e.substring(0,r),n),i+=-1===i.indexOf("?")?"?":"&",i+=e.substring(r+1)):i=d.Z.join(i,n),i}(n,e);let Z,T;w&&E&&(Z=f.getBlobUrl(w),Z||(T=f.getPlaceholder(w)));const[N,O]=(0,a.useState)(Z||T||(E?null:w)),A=(0,a.useRef)(!1);return(0,a.useEffect)((()=>{if(A.current&&(A.current=!1,null==N))return void(D&&D());let e;return Z?N!==Z&&O(Z):w&&E?(e=function(e){const t=i().Deferred(),n={cancelable:(0,c.Z)(t.promise()),xhr:null},r=new window.XMLHttpRequest;return r.open("GET",e,!0),r.responseType="arraybuffer",n.xhr=r,r.onreadystatechange=()=>{if(4===r.readyState)if(r.onreadystatechange=null,200===r.status){const n=new window.Blob([r.response],{type:"image/jpeg"}),i=window.URL.createObjectURL(n);f.store({url:e,blobUrl:i}),t.resolve(i)}else t.reject()},r.send(),n}(w),e.cancelable.promise.then((t=>{e=null,O(t)}),(({isCanceled:t}={})=>{t||(e=null,null===N?D&&D():(A.current=!0,O(null)))}))):O(w&&!E?w:null),()=>{e&&(e.cancelable.cancel(),e.xhr&&(e.xhr.onreadystatechange=null,e.xhr.abort()))}}),[N,w,Z,E,D]),a.createElement(u.Z,v(v({},C),{src:N,onError:D}))}E.defaultProps={minSize:!0,upscale:!0,allowPixelRatioSize:!0,allowImageBlobs:!0};const P=(0,a.memo)(E)},24935:(e,t,n)=>{"use strict";n.d(t,{Z:()=>v});var r=n(94184),i=n.n(r),a=n(67294),s=n(13469),o=n.n(s),l=n(86382),c=n(81324),d=Object.defineProperty,u=Object.prototype.hasOwnProperty,p=Object.getOwnPropertySymbols,m=Object.prototype.propertyIsEnumerable,h=(e,t,n)=>t in e?d(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,g=(e,t)=>{for(var n in t||(t={}))u.call(t,n)&&h(e,n,t[n]);if(p)for(var n of p(t))m.call(t,n)&&h(e,n,t[n]);return e};class y extends a.Component{constructor(e,t){super(e,t),this.state=this._getListState(e),this._keyPool=function(e=""){const t=[],n={},r={};let i=0;function a(){let n;return t.length?n=t.shift():(n=e+i,i++),n}function s(e){delete n[e]}return{getKeys(e,i,l,c=0,d){o().each(n,((n,a)=>{const s=n.item;if(null===s)t.push(a);else{const n=o().isString(s)?s:s[d],u=l.indexOf(s)+c;(u<e||u>i)&&(t.push(a),delete r[n])}}));for(let t=e;t<=i;t++){const e=l[t-c]||null,i=e&&(o().isString(e)?e:e[d]);let s=e&&r[i];s||(s=a(),e&&(r[i]=s)),n[s]={index:t,item:e}}return t.forEach(s),t.length=0,o().extend({},n)}}}("cell"),this._shouldRequestPage=!1}UNSAFE_componentWillMount(){this.props.onListUpdate&&this.props.onListUpdate(this.state)}componentDidMount(){this._checkForPageRequest()}UNSAFE_componentWillReceiveProps(e){const t=this._getListState(e);(0,c.Z)(this.state,t)||this.setState(t)}shouldComponentUpdate(e,t){const n=this.props,r=this.state;return e.items!==n.items||e.size!==n.size||e.viewportWidth!==n.viewportWidth||e.viewportHeight!==n.viewportHeight||e.listTop!==n.listTop||e.listLeft!==n.listLeft||e.isScrolling!==n.isScrolling||e.skipRenderCells!==n.skipRenderCells||e.layout!==n.layout||e.cellRenderer!==n.cellRenderer||t.visibleStartIndex!==r.visibleStartIndex||t.visibleEndIndex!==r.visibleEndIndex||t.partiallyVisibleStartIndex!==r.partiallyVisibleStartIndex||t.partiallyVisibleEndIndex!==r.partiallyVisibleEndIndex||t.renderStartIndex!==r.renderStartIndex||t.renderEndIndex!==r.renderEndIndex||t.moveIndex!==r.moveIndex}UNSAFE_componentWillUpdate(e,t){this.props.onListUpdate&&t!==this.state&&this.props.onListUpdate(t)}componentDidUpdate(){this._checkForPageRequest()}_getListState(e){const t=this._getListStyle(e),n=e.layout.getLandmarks&&e.layout.getLandmarks(),r=e.layout.getRangesForPosition(e.scrollTop,e.scrollLeft,e.size);return{listStyle:t,landmarks:n,visibleStartIndex:r.visibleStartIndex,visibleEndIndex:r.visibleEndIndex,partiallyVisibleStartIndex:r.partiallyVisibleStartIndex,partiallyVisibleEndIndex:r.partiallyVisibleEndIndex,renderStartIndex:r.renderStartIndex,renderEndIndex:r.renderEndIndex,moveIndex:e.moveIndex}}_getListStyle(e){const{size:t,layout:n,viewportWidth:r,viewportHeight:i,listTop:a,listLeft:s}=e,o={viewportWidth:r,viewportHeight:i,listTop:a,listLeft:s};return n.getListStyle(o,t)}_checkForPageRequest(){const e=this.state;this._shouldRequestPage&&(this._shouldRequestPage=!1,this.props.onPageRequest({startIndex:e.renderStartIndex,endIndex:e.renderEndIndex}))}renderCells(){const{keyPropName:e,items:t,itemsOffset:n,size:r,layout:i,hasNestedList:a,viewportWidth:s,viewportHeight:l,scrollLeft:c,scrollTop:d,cellRenderer:u,isScrolling:p,onPageRequest:m}=this.props,{moveIndex:h,renderStartIndex:y,renderEndIndex:v,partiallyVisibleStartIndex:f,partiallyVisibleEndIndex:b}=this.state;if(!r)return[];let I=r>t.length&&v===t.length-1;const S=this._keyPool.getKeys(y,v,t,n,e),M=[];return o().each(S,((n,m)=>{const y=n.index,v=n.item,S=y>=f&&y<=b,E=i.getPositionForIndex(y,r,t);(null===v||a)&&(I=!0);let P={key:m,keyPropName:e,isVirtual:!0,isVisible:S,isScrolling:p,moveIndex:h,viewportWidth:s,viewportHeight:l,cellIndex:y,cellX:E.cellX,cellY:E.cellY,cellWidth:E.cellWidth,cellHeight:E.cellHeight};a&&(P.scrollLeft=c,P.scrollTop=d),o().isString(v)?P[e]=v:P=g(g({},v),P),M.push(u(P))})),this._shouldRequestPage=!!m&&I&&!p,M}render(){const e=this._getListStyle(this.props),{className:t,isScrolling:n,skipRenderCells:r,children:s}=this.props;return a.createElement("div",{className:i()(t,n&&l.be),style:e},r?null:this.renderCells(),s)}}y.defaultProps={keyPropName:"entityID",items:[],itemsOffset:0,hasNestedList:!1,listTop:0,listLeft:0,isScrolling:!1,skipRenderCells:!1};const v=y},55255:(e,t,n)=>{"use strict";n.d(t,{Z:()=>f});var r=n(67294),i=n(80967),a=n(45428),s=n(24935),o=n(57384),l=n(90653),c=n(47636),d=Object.defineProperty,u=Object.prototype.hasOwnProperty,p=Object.getOwnPropertySymbols,m=Object.prototype.propertyIsEnumerable,h=(e,t,n)=>t in e?d(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,g=(e,t)=>{for(var n in t||(t={}))u.call(t,n)&&h(e,n,t[n]);if(p)for(var n of p(t))m.call(t,n)&&h(e,n,t[n]);return e};function y(e,t){if(t.shouldCenterCell){const n=(t.viewportDimension-t.cellDimension)/2,r=Math.round(e-n);return Math.max(r,0)}return e-(t.offset||0)}class v extends r.Component{constructor(e,t){super(e,t),this.onScrollPositionChange=({scrollTop:e,scrollLeft:t})=>{this.setState({scrollTop:e,scrollLeft:t})},this.onListUpdate=e=>{const{visibleStartIndex:t}=e,{scrollIndex:n,onListScrollIndexChange:r,onListUpdate:i}=this.props;this._currentScrollIndex=t,this.state.isRestoringScrollPosition&&this.setState({isRestoringScrollPosition:!1}),r&&n!==t&&r(t),i&&i(e)},this.onMeasure=e=>{const t=Math.round(e.width),n=Math.round(e.height),{onMeasure:r}=this.props;this.setState({isMeasured:!0,width:t,height:n}),r&&r(e)},this.state={isRestoringScrollPosition:!1,isMeasured:!1,width:null,height:null,scrollTop:0,scrollLeft:0},this._currentScrollIndex=0,e.scrollPositionStorageKey&&(this._scrollPositionKey=`${o.Z.getPageKey()}!scrollPosition!${e.scrollPositionStorageKey}`)}UNSAFE_componentWillMount(){this.props.scrollIndex||this._restoreScrollPosition()}shouldComponentUpdate(e,t){return(0,c.Z)(this,e,t)}componentDidUpdate(e,t){const{scrollIndex:n,scrollDirection:r,shouldCenterScrollIndex:i,layout:a}=this.props,{scrollLeft:s,scrollTop:o,width:c,height:d,isMeasured:u}=this.state;if(null==n||n===this._currentScrollIndex&&!i)return;const p=u&&!t.isMeasured&&n>0,m=u&&n!==e.scrollIndex,h=i!==e.shouldCenterScrollIndex;if(p||m||h){const e=function(e,t,{shouldCenterCell:n,outerPaddingLeft:r,outerPaddingTop:i,scrollerWidth:a,scrollerHeight:s}){return{scrollLeft:e===l._y?y(t.cellX,{shouldCenterCell:n,offset:r,viewportDimension:a,cellDimension:t.cellWidth}):0,scrollTop:e===l.yZ?y(t.cellY,{shouldCenterCell:n,offset:i,viewportDimension:s,cellDimension:t.cellHeight}):0}}(r,a.getPositionForIndex(Math.max(n,0)),{shouldCenterCell:i,outerPaddingLeft:a.options.outerPaddingLeft,outerPaddingTop:a.options.outerPaddingTop,scrollerWidth:c,scrollerHeight:d}),t=e.scrollLeft!==s||e.scrollTop!==o;this.setState({scrollLeft:e.scrollLeft,scrollTop:e.scrollTop,isRestoringScrollPosition:p&&t})}}componentWillUnmount(){this._scrollPositionKey&&o.Z.set(this._scrollPositionKey,{scrollTop:this.state.scrollTop,scrollLeft:this.state.scrollLeft})}_restoreScrollPosition(){if(this._scrollPositionKey){const e=o.Z.get(this._scrollPositionKey);e&&this.setState(g({isRestoringScrollPosition:!0},e))}}render(){const e=this.props,{className:t,children:n,scrollerClassName:o,virtualListClassName:l,ignoreWidth:c,ignoreHeight:d,resizeTimeout:h,scrollDirection:y,scrollIndex:v,scrollPositionStorageKey:f,smoothScroll:b,scrollerStyle:I,forwardedRef:S,onListUpdate:M,onMeasure:E,onScroll:P}=e,D=((e,t)=>{var n={};for(var r in e)u.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&p)for(var r of p(e))t.indexOf(r)<0&&m.call(e,r)&&(n[r]=e[r]);return n})(e,["className","children","scrollerClassName","virtualListClassName","ignoreWidth","ignoreHeight","resizeTimeout","scrollDirection","scrollIndex","scrollPositionStorageKey","smoothScroll","scrollerStyle","forwardedRef","onListUpdate","onMeasure","onScroll"]),{isMeasured:C,isRestoringScrollPosition:w,width:Z,height:T,scrollTop:N,scrollLeft:O}=this.state;return r.createElement(i.Z,{className:t,ignoreWidth:c,ignoreHeight:d,ignorePosition:!0,resizeTimeout:h,onMeasure:this.onMeasure},C?r.createElement(a.Z,{className:o,smoothScroll:!1!==b&&!w,scrollDirection:y,scrollTop:N,scrollLeft:O,enableChildrenProps:!0,style:I,ref:S,onScroll:P,onScrollPositionChange:this.onScrollPositionChange},r.createElement(s.Z,g({className:l,viewportWidth:Z,viewportHeight:T,skipRenderCells:w,onListUpdate:this.onListUpdate},D)),n):null)}}v.defaultProps={scrollDirection:l.yZ,scrollerClassName:"VirtualListScroller-scroller-36RMyc",shouldCenterScrollIndex:!1};const f=r.forwardRef(((e,t)=>r.createElement(v,g(g({},e),{forwardedRef:t}))))},74287:(e,t,n)=>{"use strict";n.d(t,{Z:()=>k});var r=n(94184),i=n.n(r),a=n(82777),s=n(67294),o=n(61006),l=n(72566),c=n(45428),d=n(54983),u=n(52999),p=n(53851),m=n(90653),h=n(82378),g=n(47636),y=n(32129),v=n(49666),f=n(93502);const b={menuPortal:"Menu-menuPortal-15ejz7",menuScroller:"Menu-menuScroller-2QYiIo Scroller-vertical-3IY07c",menu:"Menu-menu-1qURRT",isDisabled:"Menu-isDisabled-gp7jHn",small:"Menu-small-2-td3r",medium:"Menu-medium-3P6Qcz",large:"Menu-large-3Xoqor"};var I=Object.defineProperty,S=Object.prototype.hasOwnProperty,M=Object.getOwnPropertySymbols,E=Object.prototype.propertyIsEnumerable,P=(e,t,n)=>t in e?I(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,D=(e,t)=>{for(var n in t||(t={}))S.call(t,n)&&P(e,n,t[n]);if(M)for(var n of M(t))E.call(t,n)&&P(e,n,t[n]);return e};const C=(0,d.Z)(y.Z.menuSpeed),w=1e3*C,Z=parseInt(v.Z.menuPadding,10),T={ease:"easeOut",duration:C},N={ease:f.Z.motionEasing,duration:C},O={opacity:T,y:N,scale:N},A={preEnter:{opacity:0,y:-10,scale:.95,transition:O},enter:{opacity:1,y:0,scale:1,transition:O},exit:{opacity:0,y:10,scale:.95,transition:O}},x=[{name:"preventOverflow",enabled:!0,options:{altAxis:!0}}];function j(e){return Math.min(window.innerHeight-2*Z,e.maxHeight)}class L extends s.Component{constructor(e,t){super(e,t),this.onResize=e=>{this.setState({maxHeight:j(this.props)})},this.onWindowDownPress=e=>{this._isElementContainedOrTarget(e.target)||(this._willMenuClose=!0)},this.onWindowUpPress=e=>{this._willMenuClose&&!this._isElementContainedOrTarget(e.target)&&this.props.onMenuClose(),this._willMenuClose=!1},this.onKeyDown=e=>{const t=e.keyCode;t===o.Mf?u.QE(e):t===o.hY&&(e.preventDefault(),e.stopPropagation(),this.props.onMenuClose(),u.sM())},this.state={maxHeight:j(e)},this._willMenuClose=!1,this._menuID=(0,p.Z)()}componentDidMount(){this.props.isOpen&&this._enable(),window.addEventListener("resize",this.onResize)}shouldComponentUpdate(e,t){return(0,g.Z)(this,e,t)}componentDidUpdate(e,t){const n=e.isOpen&&!e.isAutoCloseDisabled,r=this.props.isOpen&&!this.props.isAutoCloseDisabled;!n&&r?this._enable():n&&!r&&this._disable()}componentWillUnmount(){this.props.isOpen&&!this.props.isAutoCloseDisabled&&this._disable(),window.removeEventListener("resize",this.onResize)}_enable(){u.LJ(document.getElementById(this._menuID)),document.addEventListener("mousedown",this.onWindowDownPress),document.addEventListener("touchstart",this.onWindowDownPress),document.addEventListener("mouseup",this.onWindowUpPress),document.addEventListener("touchend",this.onWindowUpPress),document.addEventListener("keydown",this.onKeyDown)}_disable(){document.removeEventListener("mousedown",this.onWindowDownPress),document.removeEventListener("touchstart",this.onWindowDownPress),document.removeEventListener("mouseup",this.onWindowUpPress),document.removeEventListener("touchend",this.onWindowUpPress),document.removeEventListener("keydown",this.onKeyDown)}_isElementContainedOrTarget(e){const{target:t}=this.props,n=document.getElementById(this._menuID),r=n&&n.contains(e),i=!r&&document.getElementById(t),a=i&&i.contains(e);return r||a}render(){var e;const{children:t,className:n,portalClassName:r,target:o,options:d,isOpen:u,isDisabled:p,scrollerProps:m,size:h,onMouseEnter:g,onMouseLeave:y,onMenuCloseComplete:v}=this.props,{maxHeight:f}=this.state;return s.createElement(l.Z,{className:r,target:o,options:D(D({placement:"bottom-start"},d),{modifiers:[...x,...null!=(e=null==d?void 0:d.modifiers)?e:[]]}),isOpen:u,closeTimeoutMilliseconds:w,onClose:v},s.createElement(a.M_,null,u?s.createElement(a.ww.div,{key:"container",initial:"preEnter",animate:"enter",exit:"exit",variants:A,id:this._menuID,className:i()(n,b[h],p&&b.isDisabled),onMouseEnter:g,onMouseLeave:y},s.createElement(c.Z,D(D({},m),{style:{maxHeight:f}}),t)):null))}}L.defaultProps={className:b.menu,portalClassName:b.menuPortal,size:h.M2,maxHeight:600,isDisabled:!1,scrollerProps:{className:b.menuScroller,scrollDirection:m.yZ,autoScroll:!0}};const k=L},30426:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(67294);function i(e){const{className:t,children:n}=e;return r.createElement("div",{className:t},n)}i.defaultProps={className:"MenuHeader-menuHeader-3Cy7hA"};const a=i},14700:(e,t,n)=>{"use strict";n.d(t,{Z:()=>g});var r=n(94184),i=n.n(r),a=n(67294),s=n(6103),o=n(60528);const l={menuItem:"MenuItem-menuItem-1P5bZr",isDisabled:"MenuItem-isDisabled-RSAp6B",isHidden:"MenuItem-isHidden-2E0-Do",default:"MenuItem-default-2WLcP-",primary:"MenuItem-primary-119xGi",success:"MenuItem-success-8hm_Zs",danger:"MenuItem-danger-rMJ8Qu"};var c=Object.defineProperty,d=Object.prototype.hasOwnProperty,u=Object.getOwnPropertySymbols,p=Object.prototype.propertyIsEnumerable,m=(e,t,n)=>t in e?c(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;function h(e){const t=e,{className:n,children:r,kind:o,isDisabled:c,isHidden:h}=t,g=((e,t)=>{var n={};for(var r in e)d.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&u)for(var r of u(e))t.indexOf(r)<0&&p.call(e,r)&&(n[r]=e[r]);return n})(t,["className","children","kind","isDisabled","isHidden"]);return a.createElement(s.Z,((e,t)=>{for(var n in t||(t={}))d.call(t,n)&&m(e,n,t[n]);if(u)for(var n of u(t))p.call(t,n)&&m(e,n,t[n]);return e})({className:i()(n,l.menuItem,l[o],c&&l.isDisabled,h&&l.isHidden),"data-qa-id":"dropdownItem",role:"menuitem"},g),r)}h.defaultProps={kind:o.TP,isDisabled:!1};const g=h},68105:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(67294);const i=function(){return r.createElement("div",{className:"MenuSeparator-separator-7NTeom"})}},96508:(e,t,n)=>{"use strict";n.d(t,{Z:()=>h});var r=n(67294),i=n(45697),a=n.n(i),s=n(17845);function o(e){var t=e["aria-label"],n=e.className,i=e.style,a={viewBox:"0 0 473 540",xmlns:"http://www.w3.org/2000/svg",id:"plex-icon-triangle-right"};a["aria-hidden"]=!t,a.style=i,a.className=s.Z.plexIcon+(n?" "+n:"");var o=[r.createElement.apply(r,["path",{d:"M473 270L0 540V0l473 270z"}].concat([]))];return t&&o.unshift(r.createElement("title",null,t)),r.createElement.apply(r,["svg",a].concat(o))}o.propTypes={"aria-label":a().string,className:a().string,style:a().object};const l=o;var c=n(74287),d=n(14700),u=n(53851);const p={placement:"right-start"};class m extends r.Component{constructor(e,t){super(e,t),this._openMenu=(e=!1)=>{this.wasDismissed=!1,this._updateMenu(e,!0)},this._closeMenu=(e=!1)=>{this.wasDismissed=e,this._updateMenu(e,!1)},this.onMouseEnter=()=>{this._openMenu()},this.onMouseEnterMenu=()=>{this.wasDismissed||this._openMenu()},this.onMouseLeave=()=>{this.wasDismissed||this._closeMenu()},this.onMenuClose=()=>{this._closeMenu(!0),this.props.onMenuClose()},this.onPress=()=>{this._openMenu(!0)},this.target=(0,u.Z)(),this.state={isOpen:!1},this.wasDismissed=!1}componentWillUnmount(){window.clearTimeout(this._menuTimer)}_updateMenu(e,t){window.clearTimeout(this._menuTimer),this._menuTimer=window.setTimeout((()=>{this.setState({isOpen:t})}),e?0:100)}render(){const{label:e,children:t,isDisabled:n}=this.props,{isOpen:i}=this.state;return r.createElement(r.Fragment,null,r.createElement(d.Z,{id:this.target,className:"NestedMenuItem-item-Vkbktw",isDisabled:n,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave,onPress:this.onPress},e,r.createElement(l,{className:"NestedMenuItem-icon-9Pf1FH"})),r.createElement(c.Z,{className:"NestedMenuItem-menu-1nueu9 Menu-menu-1qURRT",isOpen:i,target:this.target,options:p,onMouseEnter:this.onMouseEnterMenu,onMouseLeave:this.onMouseLeave,onMenuClose:this.onMenuClose},t))}}const h=m},66322:(e,t,n)=>{"use strict";n.d(t,{Z:()=>y});var r=n(45697),i=n.n(r),a=n(67294),s=n(93966),o=n(9119),l=n(47636),c=Object.defineProperty,d=Object.prototype.hasOwnProperty,u=Object.getOwnPropertySymbols,p=Object.prototype.propertyIsEnumerable,m=(e,t,n)=>t in e?c(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,h=(e,t)=>{for(var n in t||(t={}))d.call(t,n)&&m(e,n,t[n]);if(u)for(var n of u(t))p.call(t,n)&&m(e,n,t[n]);return e};class g extends a.Component{constructor(){super(...arguments),this.onPress=e=>{const t=this.props,{children:n}=t,r=((e,t)=>{var n={};for(var r in e)d.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&u)for(var r of u(e))t.indexOf(r)<0&&p.call(e,r)&&(n[r]=e[r]);return n})(t,["children"]),{metricsPage:i}=this.context;(0,s.DB)("metrics").trackClick(h(h({},r),{page:i}))}}shouldComponentUpdate(e,t){return(0,l.Z)(this,e,t)}render(){const e=a.Children.only(this.props.children);return a.cloneElement(e,{onPress:(0,o.Z)(this.onPress,e.props.onPress)})}}g.propTypes={children:i().element.isRequired,action:i().string.isRequired},g.contextTypes={metricsPage:i().string.isRequired};const y=g},27929:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(45697),i=n.n(r),a=n(67294);class s extends a.Component{constructor(e,t){super(e,t),this.metricsContext=e.metricsContext}getChildContext(){return{metricsContext:this.metricsContext}}render(){return this.props.children?a.Children.only(this.props.children):null}}s.propTypes={children:i().node,metricsContext:i().string},s.childContextTypes={metricsContext:i().string};const o=s},63731:(e,t,n)=>{"use strict";n.d(t,{Z:()=>m});var r=n(45697),i=n.n(r),a=n(67294),s=n(93966),o=(n(11133),n(81324)),l=Object.prototype.hasOwnProperty,c=Object.getOwnPropertySymbols,d=Object.prototype.propertyIsEnumerable,u=(e,t)=>{var n={};for(var r in e)l.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&c)for(var r of c(e))t.indexOf(r)<0&&d.call(e,r)&&(n[r]=e[r]);return n};class p extends a.Component{constructor(e,t){super(e,t),this.page=e.page}getChildContext(){return{metricsPage:this.page}}componentDidMount(){const e=this.props,{children:t,isDelegated:n}=e,r=u(e,["children","isDelegated"]);n||window.requestAnimationFrame((()=>{(0,s.DB)("metrics").trackView(r)}))}UNSAFE_componentWillReceiveProps(e){}componentDidUpdate(e){const t=e,{children:n,isDelegated:r}=t,i=u(t,["children","isDelegated"]),a=this.props,{children:l,isDelegated:c}=a,d=u(a,["children","isDelegated"]),p=r!==c||!(0,o.Z)(i,d);!c&&p&&(0,s.DB)("metrics").trackView(d)}render(){return this.props.children?a.Children.only(this.props.children):null}}p.childContextTypes={metricsPage:i().string.isRequired};const m=p},70182:(e,t,n)=>{"use strict";n.d(t,{Z:()=>p});var r=n(67294),i=n(45428),a=n(90653);var s=Object.defineProperty,o=Object.prototype.hasOwnProperty,l=Object.getOwnPropertySymbols,c=Object.prototype.propertyIsEnumerable,d=(e,t,n)=>t in e?s(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;function u(e){var t=e,{children:n,className:s,innerClassName:u,scrollDirection:p}=t,m=((e,t)=>{var n={};for(var r in e)o.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&l)for(var r of l(e))t.indexOf(r)<0&&c.call(e,r)&&(n[r]=e[r]);return n})(t,["children","className","innerClassName","scrollDirection"]);const h=p!==a.Hn;return s||(s=h?"ModalBody-modalScroller-QgrvLb ModalBody-modalBody-38ercY":"ModalBody-modalBody-38ercY"),r.createElement(i.Z,((e,t)=>{for(var n in t||(t={}))o.call(t,n)&&d(e,n,t[n]);if(l)for(var n of l(t))c.call(t,n)&&d(e,n,t[n]);return e})({className:s,scrollDirection:p,autoScroll:!0},m),h?r.createElement("div",{className:u},n):n)}u.defaultProps={innerClassName:"ModalBody-innerModalBody-1VHRyi"};const p=u},79849:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var r=n(67294),i=n(32080),a=Object.defineProperty,s=Object.prototype.hasOwnProperty,o=Object.getOwnPropertySymbols,l=Object.prototype.propertyIsEnumerable,c=(e,t,n)=>t in e?a(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;function d(e){var t=e,{className:n,children:i}=t,a=((e,t)=>{var n={};for(var r in e)s.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&o)for(var r of o(e))t.indexOf(r)<0&&l.call(e,r)&&(n[r]=e[r]);return n})(t,["className","children"]);return r.createElement("div",((e,t)=>{for(var n in t||(t={}))s.call(t,n)&&c(e,n,t[n]);if(o)for(var n of o(t))l.call(t,n)&&c(e,n,t[n]);return e})({className:n},a),i)}d.defaultProps={className:i.Z.modalFooter};const u=d},56510:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d});var r=n(67294),i=Object.defineProperty,a=Object.prototype.hasOwnProperty,s=Object.getOwnPropertySymbols,o=Object.prototype.propertyIsEnumerable,l=(e,t,n)=>t in e?i(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;function c(e){var t=e,{children:n}=t,i=((e,t)=>{var n={};for(var r in e)a.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&s)for(var r of s(e))t.indexOf(r)<0&&o.call(e,r)&&(n[r]=e[r]);return n})(t,["children"]);return r.createElement("div",((e,t)=>{for(var n in t||(t={}))a.call(t,n)&&l(e,n,t[n]);if(s)for(var n of s(t))o.call(t,n)&&l(e,n,t[n]);return e})({},i),n)}c.defaultProps={className:"ModalFooterButtonBar-buttonBar-1WFNdc"};const d=c},89460:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var r=n(67294);var i=Object.defineProperty,a=Object.prototype.hasOwnProperty,s=Object.getOwnPropertySymbols,o=Object.prototype.propertyIsEnumerable,l=(e,t,n)=>t in e?i(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const c=function(e){var t=e,{children:n}=t,i=((e,t)=>{var n={};for(var r in e)a.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&s)for(var r of s(e))t.indexOf(r)<0&&o.call(e,r)&&(n[r]=e[r]);return n})(t,["children"]);return r.createElement("div",((e,t)=>{for(var n in t||(t={}))a.call(t,n)&&l(e,n,t[n]);if(s)for(var n of s(t))o.call(t,n)&&l(e,n,t[n]);return e})({className:"ModalHeader-modalHeader-15PhZc"},i),n)}},16143:(e,t,n)=>{"use strict";n.d(t,{Ho:()=>a,Mf:()=>s,pN:()=>o,ZP:()=>l});var r=n(67294),i=n(5562);const a=-1,s=-1,o=-1;function l({className:e,displayIndex:t,displayTotal:n,secondsUntilAd:a}){const s=a>0&&a<=5;return t>0&&n>0?r.createElement("div",{className:e},1===n?(0,i.Z)("Ad"):(0,i.Z)("Ad {index} of {total}",{index:t,total:n})):s?r.createElement("div",{className:e},(0,i.Z)("Ad in {seconds}",{seconds:Math.round(a)})):null}},27271:(e,t,n)=>{"use strict";n.d(t,{Z:()=>B});var r=n(67294),i=n(9119),a=n(53851),s=n(47636),o=n(82777),l=n(72566),c=n(54983),d=n(66088),u=n(32129),p=n(93502);const m={tooltipPortal:"Tooltip-tooltipPortal-2Akciq",tooltip:"Tooltip-tooltip-1BlaVj",tooltipArrow:"Tooltip-tooltipArrow-3ocxiK",tooltipBottomArrow:"Tooltip-tooltipBottomArrow-3k-Ppf",tooltipTopArrow:"Tooltip-tooltipTopArrow-1LUIRT",tooltipRightArrow:"Tooltip-tooltipRightArrow-3dxwzw",tooltipLeftArrow:"Tooltip-tooltipLeftArrow-3rme9G",tooltipCenterAlignArrow:"Tooltip-tooltipCenterAlignArrow-EwxeoC",tooltipLeftAlignArrow:"Tooltip-tooltipLeftAlignArrow-2yN26l",tooltipRightAlignArrow:"Tooltip-tooltipRightAlignArrow-3zteiK",tooltipMiddleAlignArrow:"Tooltip-tooltipMiddleAlignArrow-azMD6-",topLeft:"Tooltip-topLeft-37gFtE Tooltip-tooltip-1BlaVj Tooltip-tooltipArrow-3ocxiK Tooltip-tooltipBottomArrow-3k-Ppf Tooltip-tooltipLeftAlignArrow-2yN26l",topCenter:"Tooltip-topCenter-cICpCf Tooltip-tooltip-1BlaVj Tooltip-tooltipArrow-3ocxiK Tooltip-tooltipBottomArrow-3k-Ppf Tooltip-tooltipCenterAlignArrow-EwxeoC",topRight:"Tooltip-topRight-2DbKKc Tooltip-tooltip-1BlaVj Tooltip-tooltipArrow-3ocxiK Tooltip-tooltipBottomArrow-3k-Ppf Tooltip-tooltipRightAlignArrow-3zteiK",bottomLeft:"Tooltip-bottomLeft-LvSd1t Tooltip-tooltip-1BlaVj Tooltip-tooltipArrow-3ocxiK Tooltip-tooltipTopArrow-1LUIRT Tooltip-tooltipLeftAlignArrow-2yN26l",bottomCenter:"Tooltip-bottomCenter-3I-giq Tooltip-tooltip-1BlaVj Tooltip-tooltipArrow-3ocxiK Tooltip-tooltipTopArrow-1LUIRT Tooltip-tooltipCenterAlignArrow-EwxeoC",bottomRight:"Tooltip-bottomRight-3JtyAm Tooltip-tooltip-1BlaVj Tooltip-tooltipArrow-3ocxiK Tooltip-tooltipTopArrow-1LUIRT Tooltip-tooltipRightAlignArrow-3zteiK",middleLeft:"Tooltip-middleLeft-2jQ9Rr Tooltip-tooltip-1BlaVj Tooltip-tooltipArrow-3ocxiK Tooltip-tooltipRightArrow-3dxwzw Tooltip-tooltipMiddleAlignArrow-azMD6-",middleRight:"Tooltip-middleRight-s8CfUe Tooltip-tooltip-1BlaVj Tooltip-tooltipArrow-3ocxiK Tooltip-tooltipLeftArrow-3rme9G Tooltip-tooltipMiddleAlignArrow-azMD6-"};var h=Object.defineProperty,g=Object.prototype.hasOwnProperty,y=Object.getOwnPropertySymbols,v=Object.prototype.propertyIsEnumerable,f=(e,t,n)=>t in e?h(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const b=(0,c.Z)(u.Z.tooltipSpeed),I=1e3*b,S={opacity:{ease:"easeOut",duration:b},y:{ease:p.Z.motionEasing,duration:b},x:{ease:p.Z.motionEasing,duration:b},scale:{ease:p.Z.motionEasing,duration:b}};function M(e){switch(e){case d.IM:case d.jO:case d.ee:return 5;case d.aV:case d.eO:case d.OI:return-5;case d.Gf:case d.ab:default:return 0}}function E(e){switch(e){case d.IM:case d.jO:case d.ee:return 0;case d.aV:case d.eO:case d.OI:return 0;case d.Gf:return 5;case d.ab:return-5;default:return 0}}function P(e){switch(e){case d.IM:case d.jO:case d.ee:return-5;case d.aV:case d.eO:case d.OI:return 5;case d.Gf:case d.ab:default:return 0}}function D(e){switch(e){case d.IM:case d.jO:case d.ee:return 0;case d.aV:case d.eO:case d.OI:return 0;case d.Gf:return-5;case d.ab:return 5;default:return 0}}const C={before:e=>({opacity:0,y:M(e),x:E(e),scale:.95,transition:S}),enter:{opacity:1,y:0,x:.001,scale:1,transition:S},exit:e=>({opacity:0,y:P(e),x:D(e),scale:.95,transition:S})},w={[d.IM]:{placement:"top-start"},[d.jO]:{placement:"top"},[d.ee]:{placement:"top-end"},[d.aV]:{placement:"bottom-start"},[d.eO]:{placement:"bottom"},[d.OI]:{placement:"bottom-end"},[d.Gf]:{placement:"left"},[d.ab]:{placement:"right"}};function Z(e){const t=e,{children:n,className:i,target:a,attachment:s,options:c,isOpen:d,onMenuClose:u}=t,p=((e,t)=>{var n={};for(var r in e)g.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&y)for(var r of y(e))t.indexOf(r)<0&&v.call(e,r)&&(n[r]=e[r]);return n})(t,["children","className","target","attachment","options","isOpen","onMenuClose"]);return r.createElement(l.Z,{className:m.tooltipPortal,target:a,options:c||w[s],isOpen:d,closeTimeoutMilliseconds:I},r.createElement(o.M_,null,d?r.createElement(o.ww.div,((e,t)=>{for(var n in t||(t={}))g.call(t,n)&&f(e,n,t[n]);if(y)for(var n of y(t))v.call(t,n)&&f(e,n,t[n]);return e})({key:"container",initial:"before",animate:"enter",exit:"exit",variants:C,custom:s,className:i||m[s]},p),n):null))}Z.defaultProps={attachment:d.eO};const T=Z;var N=Object.defineProperty,O=Object.prototype.hasOwnProperty,A=Object.getOwnPropertySymbols,x=Object.prototype.propertyIsEnumerable,j=(e,t,n)=>t in e?N(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var L=Object.defineProperty,k=Object.prototype.hasOwnProperty,R=Object.getOwnPropertySymbols,z=Object.prototype.propertyIsEnumerable,U=(e,t,n)=>t in e?L(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;class V extends r.Component{constructor(e,t){super(e,t),this.onMouseEnter=e=>{this.props.showOnHover&&(this._isHovered=!0,this.setState({isOpen:!0}))},this.onMouseLeave=e=>{this.props.showOnHover&&(this._isHovered=!1,this.setState({isOpen:this._isFocused}))},this.onFocus=e=>{this.props.showOnFocus&&(this._isFocused=!0,this.setState({isOpen:!0}))},this.onBlur=e=>{this.props.showOnFocus&&(this._isFocused=!1,this.setState({isOpen:this._isHovered}))},this.onPress=e=>{this.props.hideOnPress&&(this._isHovered=!1,this._isFocused=!1,this.setState({isOpen:!1}))},this.state={isOpen:!1},this._isHovered=!1,this._isFocused=!1,this._targetID=(0,a.Z)()}shouldComponentUpdate(e,t){return(0,s.Z)(this,e,t)}componentDidUpdate(e){const{hideOnDisabled:t,isDisabled:n}=this.props,{isOpen:r}=this.state;r&&t&&n&&!e.isDisabled&&(this._isHovered=!1,this._isFocused=!1,this.setState({isOpen:!1}))}render(){const e=this.props,{id:t,component:n,tooltip:a,tooltipClassName:s,tooltipFocusedClassName:o,tooltipAttachment:l,tooltipTarget:c,tooltipOptions:d,showOnHover:u,showOnFocus:p,hideOnDisabled:m,hideOnPress:h,onMouseEnter:g,onMouseLeave:y,onFocus:v,onBlur:f,onPress:b}=e,I=((e,t)=>{var n={};for(var r in e)k.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&R)for(var r of R(e))t.indexOf(r)<0&&z.call(e,r)&&(n[r]=e[r]);return n})(e,["id","component","tooltip","tooltipClassName","tooltipFocusedClassName","tooltipAttachment","tooltipTarget","tooltipOptions","showOnHover","showOnFocus","hideOnDisabled","hideOnPress","onMouseEnter","onMouseLeave","onFocus","onBlur","onPress"]),{isOpen:S}=this.state,M=this._isFocused&&o?o:s;return r.createElement(r.Fragment,null,r.createElement(n,((e,t)=>{for(var n in t||(t={}))k.call(t,n)&&U(e,n,t[n]);if(R)for(var n of R(t))z.call(t,n)&&U(e,n,t[n]);return e})({id:t||this._targetID,onMouseEnter:(0,i.Z)(this.onMouseEnter,g),onMouseLeave:(0,i.Z)(this.onMouseLeave,y),onFocus:(0,i.Z)(this.onFocus,v),onBlur:(0,i.Z)(this.onBlur,f),onPress:(0,i.Z)(this.onPress,b)},I)),a?r.createElement(T,{className:M,attachment:l,options:d,target:c||t||this._targetID,isOpen:S},a):null)}}V.defaultProps={component:function(e){const t=e,{children:n}=t,i=((e,t)=>{var n={};for(var r in e)O.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&A)for(var r of A(e))t.indexOf(r)<0&&x.call(e,r)&&(n[r]=e[r]);return n})(t,["children"]);return r.createElement("div",((e,t)=>{for(var n in t||(t={}))O.call(t,n)&&j(e,n,t[n]);if(A)for(var n of A(t))x.call(t,n)&&j(e,n,t[n]);return e})({},i),n)},showOnHover:!0,showOnFocus:!0,hideOnPress:!0,hideOnDisabled:!0};const B=V},87691:(e,t,n)=>{"use strict";n.d(t,{Z:()=>h});var r=n(45697),i=n.n(r),a=n(67294),s=n(37703),o=n(48494),l=Object.defineProperty,c=Object.prototype.hasOwnProperty,d=Object.getOwnPropertySymbols,u=Object.prototype.propertyIsEnumerable,p=(e,t,n)=>t in e?l(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,m=(e,t)=>{for(var n in t||(t={}))c.call(t,n)&&p(e,n,t[n]);if(d)for(var n of d(t))u.call(t,n)&&p(e,n,t[n]);return e};function h(...e){const t=(0,s.$j)(...e);return e=>{const n=t(e);function r(e,{metricsPage:t,metricsContext:r}){const i=e,{metricsContext:s}=i,o=((e,t)=>{var n={};for(var r in e)c.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&d)for(var r of d(e))t.indexOf(r)<0&&u.call(e,r)&&(n[r]=e[r]);return n})(i,["metricsContext"]);return a.createElement(n,m({metricsPage:t,metricsContext:s||r},o))}return r.displayName=`ConnectWithMetrics(${(0,o.Z)(e)})`,r.contextTypes={metricsPage:i().string,metricsContext:i().string},r.propTypes=m(m({},n.propTypes),{metricsContext:i().string}),r}}},9119:(e,t,n)=>{"use strict";function r(...e){return function(...t){for(let n=0,r=e.length;n<r;n++){const r=e[n];"function"==typeof r&&r(...t)}}}n.d(t,{Z:()=>r})},44823:(e,t,n)=>{"use strict";function r(...e){return e.filter((e=>!!e)).join("--")}n.d(t,{Z:()=>r})},19210:(e,t,n)=>{"use strict";function r(e){const t=parseFloat(e,10);let n=e.match(/m?s/);switch(n&&(n=n[0]),n){case"s":return 1e3*t;case"ms":return t}return 0}n.d(t,{Z:()=>r})},54983:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(19210);function i(e){return(0,r.Z)(e)/1e3}},52999:(e,t,n)=>{"use strict";n.d(t,{Fp:()=>m,IB:()=>v,sM:()=>f,pc:()=>y,QE:()=>g,LJ:()=>h});var r=n(13469),i=n.n(r),a=n(11133),s=n(86017);function o(e){if(e===document)return!0;if(!e)return!1;if(!e.parentNode)return!1;if(e.style){const t=e.style;if("none"===t.display||"hidden"===t.visibility)return!1}if(window.getComputedStyle){const t=window.getComputedStyle(e);if("none"===t.getPropertyValue("display")||"hidden"===t.getPropertyValue("visibility"))return!1}return o(e.parentNode)}function l(e){let t=e.tabIndex;return null===t&&(t=void 0),!isNaN(t)&&t>=0&&function(e){if(!o(e))return!1;const t=e.nodeName.toLowerCase();return/input|select|textarea|button|object/.test(t)?!e.disabled:"a"!==t||e.href}(e)}function c(e){if(!e)return[];const t=[].slice.call(e.getElementsByTagName("*"),0).filter((e=>l(e)));return i().sortBy(t,(e=>0===e.tabIndex?1/0:e.tabIndex))}let d,u;function p(e){try{e.focus()}catch(e){}}function m(e){const t=document.activeElement,n=t&&e&&e.contains(t);t&&!n&&t.blur()}function h(e){d=document.activeElement,u=e,m(e)}function g(e){(0,a.Z)(u,"Call `startScopedFocus(element)` before `scopeTabEvent`");const t=c(u);if(!t.length)return;e.preventDefault();const n=document.activeElement,r=n?t.indexOf(n):-1,i=t.length-1;let s;-1===r?s=e.shiftKey?i:0:(s=e.shiftKey?r-1:r+1,s<0?s=i:s>i&&(s=0)),p(t[s])}function y(){(0,a.Z)(u,"Call `startScopedFocus(element)` before `scopeAutoFocus`");const e=c(u),t=i().find(e,(e=>(0,s.Z)(e.getAttribute("data-autofocus"))));t&&p(t)}function v(){u=null}function f(){d&&(p(d),d=null)}},48494:(e,t,n)=>{"use strict";function r(e){return e.displayName||e.name||"Component"}n.d(t,{Z:()=>r})},93554:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(79557);const i=(0,n(27903).Z)((function(e=-1,t=-1,n=r.IM,i=0,a=0,s){let o;if(n===r.Hn)o={display:"none"};else{switch(o={position:"absolute",width:-1===t?"100%":`${t}px`,height:-1===e?"100%":`${e}px`},n){case r.aV:o.bottom=a||0,o.left=i||0;break;case r.IM:o.top=a||0,o.left=i||0}s&&(o.zIndex=1)}return o}))},53851:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});let r=0;const i=function(){return"id-"+r++}},30464:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(67294);function i(e){const t=(0,r.useRef)();return(0,r.useEffect)((()=>{t.current=e}),[e]),t.current}},75534:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(67294),i=n(53851);const a=function(){const[e]=(0,r.useState)(i.Z);return e}},11956:(e,t,n)=>{"use strict";n.d(t,{Z:()=>p});var r=n(67294),i=n(30464),a=n(32129),s=Object.defineProperty,o=Object.prototype.hasOwnProperty,l=Object.getOwnPropertySymbols,c=Object.prototype.propertyIsEnumerable,d=(e,t,n)=>t in e?s(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;function u({isVirtual:e,isVisible:t,isScrolling:n}){return e&&!t||n}function p(e){const{cellIndex:t,cellX:n,cellY:s,cellWidth:p,cellHeight:m,style:h,keyPropName:g,moveDurationMilliseconds:y=400,isVirtual:v}=e,f=e[g],b=(0,i.Z)(f),I=(0,i.Z)(t),S=!(null==b||null==I||f!==b||e.cellIndex===I),M=(0,r.useReducer)((e=>e+1),0)[1],E=(0,r.useRef)(S),P=E.current||S,D=(0,r.useMemo)((()=>function({cellX:e,cellY:t,cellWidth:n,cellHeight:r,style:i,isMoving:s,moveDurationMilliseconds:u,isVirtual:p}){return((e,t)=>{for(var n in t||(t={}))o.call(t,n)&&d(e,n,t[n]);if(l)for(var n of l(t))c.call(t,n)&&d(e,n,t[n]);return e})(p?{position:"absolute",width:n,height:r,transform:`translate3d(${e}px, ${t}px, 0)`,zIndex:s?1:0,transition:s?`transform ${a.Z.defaultSpeed}`:"none",transitionDuration:s?`${u}ms`:0}:{position:"relative"},i)}({cellX:n,cellY:s,cellWidth:p,cellHeight:m,style:h,moveDurationMilliseconds:y,isMoving:P,isVirtual:v})),[n,s,p,m,h,y,P,v]),C=(0,r.useRef)(u(e)?null:f);let w;return u(e)?(w=C.current!==f,w&&(C.current=null)):(w=!1,C.current=f),(0,r.useEffect)((()=>{let e;return P&&(E.current=!0,e=window.setTimeout((()=>{E.current=!1,M({})}),2*y)),()=>{e&&window.clearTimeout(e)}}),[y,P,M]),{style:D,isPlaceholder:w}}},78847:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(93966);function i(e){const t=(0,r.DB)("appModel").get("embeddedServer");return!!e&&!!t&&e.machineIdentifier===t.get("machineIdentifier")}},20361:(e,t,n)=>{"use strict";function r(e,t){return Math.max(Math.min(e,t-1),0)}n.d(t,{Z:()=>r})},28180:(e,t,n)=>{"use strict";n.d(t,{yZ:()=>i,_y:()=>a,ZP:()=>s}),n(11133);var r=n(20361);const i="vertical",a="horizontal";function s(e={}){const{direction:t=i,rows:n,columns:s,overscan:o=0,innerHorizontalPadding:l=0,innerVerticalPadding:c=0,outerPaddingTop:d=0,outerPaddingRight:u=0,outerPaddingBottom:p=0,outerPaddingLeft:m=0,getCellWidth:h,getCellHeight:g}=e;let y,v,f,b,I,S,M,E,P,D;function C(e){return t===i?Math.floor(e/S):e%I}function w(e){return t===i?e%S:Math.floor(e/I)}function Z(e,n){const r=C(e);return t===i?r*S:r}function T(e,n){const r=w(e);return t===i?r:r*I}return{options:e,getListStyle:function(e,r){const o=[d,u,p,m,r];for(const t in e)o.push(e[t]);const C=o.join(":");if(C===E)return P;y=e.listTop,v=e.listLeft;let w=(e.viewportWidth||0)-u-m,Z=(e.viewportHeight||0)-d-p;t===i?w-=v:Z-=y,w=Math.max(0,w),Z=Math.max(0,Z),f=h({innerViewportWidth:w,innerViewportHeight:Z,innerHorizontalPadding:l,innerVerticalPadding:c}),b=g({cellWidth:f,innerViewportWidth:w,innerViewportHeight:Z,innerHorizontalPadding:l,innerVerticalPadding:c}),I=Math.max(0,n||Math.floor((Z+c)/(b+c))),S=Math.max(0,s||Math.floor((w+l)/(f+l))),M=S*I;let T=0,N=0;return t===i&&S?(T=S*(f+l)-l,N=Math.ceil(r/S)*(b+c)-c):t===a&&I&&(T=Math.ceil(r/I)*(f+l)-l,N=I*(b+c)-c),D={},E=C,P={width:T+u+m,height:N+d+p},P},getRelativeIndex:function(e,n,s,o){const l=t===s;if(l&&(t===i&&1===S||t===a&&1===I))return(0,r.Z)(e+n,o);let c,d,u;s===i&&(c=l?S*n:n,d=T(e),u=function(e,n){if(t===i){const t=n-1,r=w(e),i=(C(t)+1)*S-(S-r);let a;return a=i<n?i:t-n%S-(S-1-r),a}{const t=T(e);return(0,r.Z)(t+(I-1),n)}}(e,o)),s===a&&(c=l?I*n:n,d=Z(e),u=function(e,n){if(t===i){const t=Z(e);return(0,r.Z)(t+(S-1),n)}{const t=n-1,r=C(e),i=(w(t)+1)*I-(I-r);let a;return a=i<n?i:t-n%I-(I-1-r),a}}(e,o));const p=e+c;return d||u?Math.max(Math.min(p,u),d):e},getCoordinateDistance:function(e,t){const n=C(e),r=C(t),i=w(e),a=w(t);return Math.sqrt(Math.pow(r-n,2)+Math.pow(a-i,2))},getPositionForIndex:function(e){const t=e;if(D[t])return D[t];const n=w(e),r=C(e),i={column:n,row:r,cellX:n*(f+l)+v+m,cellY:r*(b+c)+y+d,cellWidth:f,cellHeight:b};return D[t]=i,i},getRangesForPosition:function(e,n,a){const s=t===i?S:I,d=t===i?(e-y)/(b+c):(n-v)/(f+l),u=M+2*s+o*s*2,p=Math.ceil(d)*s,m=p+M-1,h=Math.floor(d)*s,g=p+M+s-1;let E=h-s*o;const P=(0,r.Z)(E,a)+u-1;return P>=a&&(E=a-u),{visibleStartIndex:(0,r.Z)(p,a),visibleEndIndex:(0,r.Z)(m,a),partiallyVisibleStartIndex:(0,r.Z)(h,a),partiallyVisibleEndIndex:(0,r.Z)(g,a),renderStartIndex:(0,r.Z)(E,a),renderEndIndex:(0,r.Z)(P,a)}}}}},79374:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(67294);function i(e,t,n){let i=0;return r.Children.map(e,(e=>{if(r.isValidElement(e)){const r=i;return i++,t.call(n,e,r)}return e}))}},86382:(e,t,n)=>{"use strict";n.d(t,{be:()=>r,lW:()=>i,GZ:()=>a,Pv:()=>s,fN:()=>o,DT:()=>l,QZ:()=>c});const r="isScrolling",i="isActive",a="isFocused",s="isDisabled",o="isDragging",l="isDraggingBefore",c="isDraggingAfter"},57384:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});let r={};const i={getPageKey:()=>window.location.hash,getKey:e=>`${i.getPageKey()}!${e}`,get:e=>r[e],set(e,t){r[e]=t},remove(e){delete r[e]},clear(){r={}}},a=i},21914:(e,t,n)=>{"use strict";n.d(t,{UP:()=>r,pX:()=>i,WV:()=>a});const r="up",i="right",a="down"},60528:(e,t,n)=>{"use strict";n.d(t,{TP:()=>r,_8:()=>i,T:()=>a,Py:()=>s});const r="default",i="primary",a="danger",s="dark"},9220:(e,t,n)=>{"use strict";n.d(t,{Y3:()=>i,wl:()=>a,sD:()=>s,zg:()=>o,mo:()=>l,H1:()=>c,r$:()=>d,F5:()=>u,UC:()=>p,lD:()=>m,g$:()=>h,Uz:()=>g,jF:()=>y,Ap:()=>v,Bs:()=>f,IN:()=>b});var r=n(45697);const i="library",a="continueWatching",s="prePlay",o="playlist",l="search",c="quickSearch",d="player",u="playQueue",p="liveTVTimeline",m="liveTVGrid",h="recommended",g="nowPlaying",y="downloads",v="shared",f="watchTogether",b="watchTogetherLobby";n.n(r)().oneOf(["discover",i,"directoryList","metadataList","timeline",a,s,"postPlayPrevious","postPlayNext",o,l,c,d,u,p,m,h,g,y,v,f,b])},48022:(e,t,n)=>{"use strict";n.d(t,{xx:()=>r.SEASON,uG:()=>r.EPISODE,c5:()=>r.ALBUM,IK:()=>r.TRACK,vu:()=>r.CLIP,pV:()=>r.PHOTO,V4:()=>i,t1:()=>a,nW:()=>s});var r=n(69881);const i="extra",a="mixed",s="musicVideo"},90653:(e,t,n)=>{"use strict";n.d(t,{Hn:()=>r,yZ:()=>i,_y:()=>a});const r="none",i="vertical",a="horizontal"},43478:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(45697),i=n.n(r);const a=i().shape({subscribe:i().func.isRequired,dispatch:i().func.isRequired,getState:i().func.isRequired})},82378:(e,t,n)=>{"use strict";n.d(t,{HC:()=>r,M2:()=>i,ln:()=>a});const r="small",i="medium",a="large"},66088:(e,t,n)=>{"use strict";n.d(t,{IM:()=>r,jO:()=>i,ee:()=>a,aV:()=>s,eO:()=>o,OI:()=>l,Gf:()=>c,ab:()=>d});const r="topLeft",i="topCenter",a="topRight",s="bottomLeft",o="bottomCenter",l="bottomRight",c="middleLeft",d="middleRight"},3386:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(67006);function i(e){if(e&&e.features)return e.features.find((e=>e.type===r.P8))}},52601:(e,t,n)=>{"use strict";n.d(t,{Z:()=>m});var r=n(46525),i=n(84936),a=Object.defineProperty,s=Object.prototype.hasOwnProperty,o=Object.getOwnPropertySymbols,l=Object.prototype.propertyIsEnumerable,c=(e,t,n)=>t in e?a(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,d=(e,t)=>{for(var n in t||(t={}))s.call(t,n)&&c(e,n,t[n]);if(o)for(var n of o(t))l.call(t,n)&&c(e,n,t[n]);return e};let u,p;function m(e,t=window.location.hash){const n=function(e){if(u===e)return p;const t=e.split("?"),n=t.length>1?t[1]:void 0,r=n?i.Z.parseParams(n):{};return u=e,p={url:t[0],params:r},p}(t),a={type:void 0,typeKey:e.typeKey,filters:(0,r.Z)(e.filters),limit:e.limit,filterLabel:e.filterLabel,customFilter:e.customFilter?1:void 0,sort:e.sort,folderKey:e.folderKey,folderTitle:e.folderTitle,parentFolderKey:e.parentFolderKey,parentFolderTitle:e.parentFolderTitle,save:1};return a.customFilter||(a.playlistID=void 0,a.playlistTitle=void 0),i.Z.join(n.url,d(d({},n.params),a))}},87385:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(17524),i=n(26512);function a(e,t,n,a={},s){if(n){const e=n.pivots.find((({key:e})=>e.includes(n.key)));a.key=t.identifier===r.Y3?e.key:n.key}return(0,i.Z)(e,t,n,a,s)}},41431:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(97334);function i(e,t,n,i){return(0,r.Z)(e.isCloud,e.machineIdentifier,t.identifier,n,i)}},97334:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(84936);function i(e,t,n,i={},a){const s=["#!","media"];return e||s.push(encodeURIComponent(t)),s.push(encodeURIComponent(n),a),r.Z.join(s,i)}},26512:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d});var r=n(78847),i=n(41431),a=Object.defineProperty,s=Object.prototype.hasOwnProperty,o=Object.getOwnPropertySymbols,l=Object.prototype.propertyIsEnumerable,c=(e,t,n)=>t in e?a(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;function d(e,t,n,a={},d){if(!(0,r.Z)(e))return n?(0,i.Z)(e,t,((e,t)=>{for(var n in t||(t={}))s.call(t,n)&&c(e,n,t[n]);if(o)for(var n of o(t))l.call(t,n)&&c(e,n,t[n]);return e})({source:n.id},a),d):(0,i.Z)(e,t,a,d)}},89197:(e,t,n)=>{"use strict";n.d(t,{tk:()=>p,kP:()=>h,ZP:()=>g});var r=n(84936),i=n(3386),a=n(26512),s=Object.defineProperty,o=Object.prototype.hasOwnProperty,l=Object.getOwnPropertySymbols,c=Object.prototype.propertyIsEnumerable,d=(e,t,n)=>t in e?s(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,u=(e,t)=>{for(var n in t||(t={}))o.call(t,n)&&d(e,n,t[n]);if(l)for(var n of l(t))c.call(t,n)&&d(e,n,t[n]);return e};const p={RECORDING_SCHEDULE:"view://dvr/recording-schedule",GUIDE:"view://dvr/guide",TIMELINE:"view://photo/timeline",SHARED_ITEMS:"view://shared-items"},m={[p.RECORDING_SCHEDULE]:{path:"schedule"},[p.GUIDE]:{path:"guide"},[p.TIMELINE]:{path:"timeline",getRouteParams:(e,t)=>({key:r.Z.join([e.key,t.id,"cluster"],{clusterZoomLevel:1})})},[p.SHARED_ITEMS]:{getRouteParams:(e,t)=>({key:t.pivots[0].key})}};function h(e){return!!m[e]}function g(e,t,n,r,s={}){if(!h(e))return;const o=m[e],l=(0,i.Z)(n);return(0,a.Z)(t,n,r,o.getRouteParams?u(u({},s),o.getRouteParams(l,r)):s,o.path)}},81324:(e,t,n)=>{"use strict";function r(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;const i=Object.prototype.hasOwnProperty;for(let r=0;r<n.length;r++)if(!i.call(t,n[r])||e[n[r]]!==t[n[r]])return!1;return!0}n.d(t,{Z:()=>r})},47636:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(81324);function i(e,t,n,i,a){const s=a||r.Z;let o=s(e.props,t);return o&&(o=s(e.state,n),o&&i&&(o=s(e.context,i))),!o}},32129:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r={defaultSpeed:"0.2s",slowSpeed:"0.6s",fastSpeed:"0.1s",motionEasing:"cubic-bezier(0.6, 0.4, 0.2, 1.4)",modalSpeed:"0.2s",menuSpeed:"0.15s",tooltipSpeed:"0.15s"}},79481:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});const r="#e5a00d",i="rgba(0, 0, 0, 0.15)",a="rgba(0, 0, 0, 0.3)",s={defaultColor:"#fff",quietColor:"#a8a8a8",inverseColor:"#222",primaryColor:"#cc7b19",primaryAlternateColor:"#e5a00d",selectedColor:r,successColor:"#6b5",dangerColor:"#f53",warningColor:"#f0ad4e",focusColor:"#7eb0d5",appBackgroundColor:"#444f56",darkOpaqueBackgroundColor:"#1f2326",blackDarkTranslucentBackgroundColor:i,blackDarkerTranslucentBackgroundColor:a,lightTranslucentBackgroundColor:"rgba(255, 255, 255, 0.15)",badgeBackgroundColor:i,defaultBadgeColor:"rgba(255, 255, 255, 0.7)",defaultLinkColor:"rgba(255, 255, 255, 0.7)",defaultLinkHoverColor:"#fff",defaultLinkDisabledLinkColor:"rgba(255, 255, 255, 0.3)",selectedLinkColor:r,selectedLinkHoverColor:"lighten(#e5a00d, 0.2)",defaultBackgroundColor:"rgba(255, 255, 255, 0.25)",defaultHoverBackgroundColor:"rgba(255, 255, 255, 0.3)",defaultActiveBackgroundColor:"rgba(255, 255, 255, 0.2)",defaultDisabledBackgroundColor:"rgba(255, 255, 255, 0.15)",primaryButtonColor:"#1f2326",primaryBackgroundColor:"#e5a00d",primaryHoverBackgroundColor:"lighten(#e5a00d, 0.2)",primaryActiveBackgroundColor:"darken(#e5a00d, 0.2)",primaryDisabledColor:"rgba(0, 0, 0, 0.4)",primaryDisabledBackgroundColor:"darken(#e5a00d, 0.5)",quietBackgroundColor:"rgba(255, 255, 255, 0.08)",quietHoverBackgroundColor:"rgba(255, 255, 255, 0.1)",quietActiveBackgroundColor:"rgba(255, 255, 255, 0.06)",successBackgroundColor:"#3d7832",successHoverBackgroundColor:"lighten(#3d7832, 0.1)",successActiveBackgroundColor:"darken(#3d7832, 0.1)",successDisabledBackgroundColor:"darken(#3d7832, 0.3)",dangerBackgroundColor:"#b32",dangerHoverBackgroundColor:"lighten(#b32, 0.1)",dangerActiveBackgroundColor:"darken(#b32, 0.1)",dangerDisabledBackgroundColor:"darken(#b32, 0.3)",darkBackgroundColor:a,darkHoverBackgroundColor:"rgba(255, 255, 255, 0.3)",darkActiveBackgroundColor:"rgba(255, 255, 255, 0.2)",darkDisabledBackgroundColor:"rgba(255, 255, 255, 0.15)",headerColor:"rgba(255, 255, 255, 0.3)",dimColor:"rgba(255, 255, 255, 0.45)",secondaryContentColor:"rgba(255, 255, 255, 0.75)",shadowColor:"rgba(0, 0, 0, 0.35)",dividerColor:a,scrollbarBackgroundColor:"rgba(255, 255, 255, 0.2)",scrollbarHoverBackgroundColor:"rgba(255, 255, 255, 0.3)",scrollbarInactiveBackgroundColor:"rgba(255, 255, 255, 0.05)",errorBackgroundColor:"rgba(255, 85, 51, 0.3)",inputBackgroundColor:"rgba(255, 255, 255, 0.25)",inputFocusBackgroundColor:"#eee",inputColor:"#eee",inputFocusColor:"#555",inputPlaceholderColor:"#afb0b1",inputDisabledOpacity:"0.5",formSectionBackgroundColor:a,formSectionHoverBackgroundColor:i,modalBackdropBackgroundColor:"rgba(102, 102, 102, 0.6)",modalBackgroundColor:"#2d2d2d",modalBodyBackgroundColor:i,menuBackgroundColor:"#191a1c",menuDisabledBackgroundColor:"#2d2d2d",menuItemHoverBackgroundColor:"rgba(255, 255, 255, 0.08)",menuItemActiveBackgroundColor:"rgba(255, 255, 255, 0.15)",menuSeparatorBackgroundColor:"rgba(200, 200, 200, 0.15)",tooltipBackgroundColor:"#191a1c",pageHeaderBackgroundColor:"rgba(0, 0, 0, 0.7)",pageHeaderLinkColor:"#999",pageHeaderLinkHoverColor:"#eee",pageHeaderColor:"rgba(255, 255, 255, 0.75)",searchInputBackgroundColor:"rgba(255, 255, 255, 0.25)",searchFocusBackgroundColor:"#eee",searchInputColor:"#eee",searchInputFocusColor:"#555",searchImagePlaceholderBackgroundColor:"rgba(255, 255, 255, 0.1)",searchHoverResultBackgroundColor:"rgba(255, 255, 255, 0.05)",searchSelectedResultBackgroundColor:"rgba(255, 255, 255, 0.08)",searchResultTitleColor:"rgba(255, 255, 255, 0.75)",searchResultTitleSelectedColor:"rgba(255, 255, 255, 1)",searchResultSecondaryTitleColor:"rgba(255, 255, 255, 0.3)",sidebarBackgroundColor:i,sidebarMenuButtonBackgroundColor:a,sidebarMenuButtonHoverBackgroundColor:"rgba(0, 0, 0, 0.45)",sidebarMenuButtonActiveBackgroundColor:"rgba(0, 0, 0, 0.75)",stripeListAlternateBackgroundColor:"rgba(255, 255, 255, 0.02)",stripeListHoverBackgroundColor:"rgba(255, 255, 255, 0.06)",stripeListSelectedBackgroundColor:i}},49666:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r={smallSize:"26px",mediumSize:"30px",largeSize:"36px",gapSmall:"15px",gapMedium:"30px",gapLarge:"60px",navigationHeaderHeight:"60px",navigationUserMenuImageSize:"34px",pageHeaderHeight:"60px",breadcrumbMargin:"25px",menuSmallWidth:"120px",menuMediumWidth:"180px",menuLargeWidth:"220px",menuPadding:"8px",menuItemTopPadding:"4px",menuItemSidePadding:"20px",toolbarButtonWidth:"50px",posterTitlePadding:"10px",posterTitleHeight:"20px",searchHubTitleHeight:"18px",searchResultWidth:"346px",searchResultHeight:"50px",sidebarWidth:"240px",sidebarRightGutterWidth:"15px",sidebarLeftGutterWidth:"25px",tableCellPadding:"20px",tableHeaderHeight:"40px",tableRowHeight:"40px",tableTitleHeight:"60px",inputMaxWidth:"360px",inputBorderRadius:"4px",autosuggestSuggestionRadius:"4px",smallArrowWidth:"6px",mediumArrowWidth:"8px",largeArrowWidth:"10px",tooltipArrowSize:"6px",tooltipMarginTop:"-6px",breakpointMobileNarrow:"320px",breakpointExtraSmall:"480px",breakpointSmall:"768px",breakpointMedium:"992px",breakpointLarge:"1200px",modalBodyPadding:"30px"}},93502:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r={motionEasing:[.6,.4,.2,1.4]}},10612:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d});var r=n(13469),i=n.n(r);function a(e,t){var n=t.constructor.prototype.validate;return n?n(e):[]}function s(e){var t=this.panes[e],n=c.call(this,t);return 0===a.call(this,n,t).length}function o(e,t){var n=this.panes[t].dependentPanes;return"function"==typeof n&&(n=n.call(this)),e.concat(n||[])}function l(){var e=this.$(".change-pane-btn");e.addClass("disabled").removeClass("selected"),i().each(this.getReachablePanes(),(function(t){e.filter("."+t+"-btn").removeClass("disabled")}),this),e.filter("."+this.selectedPane+"-btn").addClass("selected")}function c(e){return this[e.model]||this[this.panesModel]||this.model}const d={showPane:function(e){if(e!==this.selectedPane){var t=this.paneRegion.currentView;t&&(this.stopListening(t,"valid",l),this.stopListening(t,"invalid",l),this.$el.removeClass("pane-"+this.selectedPane),this.onPaneHide&&this.onPaneHide(this.selectedPane,t)),this.selectedPane=e;var n=this.panes[e],r=n.constructor,a=this.paneConstructorArg?this.paneConstructorArg():{},s=new r(i().extend(a,{model:c.call(this,n)}));if(s.onModalClose){this._paneOnModalCloseCallbacks||this.listenToOnce(this,"close",(function(){i().each(this._paneOnModalCloseCallbacks,(function(e){e[1].call(e[0])}),this),this._paneOnModalCloseCallbacks=null}));var o=this._paneOnModalCloseCallbacks||[];o.push([s,s.onModalClose]),this._paneOnModalCloseCallbacks=i().uniq(o,(function(e){return e[1]}))}this.listenTo(s,"valid",l),this.listenTo(s,"invalid",l),l.call(this),this.onPaneShow&&this.onPaneShow(e,s),this.$el.addClass("pane-"+e),this.paneRegion.show(s),l.call(this)}},getReachablePanes:function(){for(var e,t,n=i().reduce(this.panes,(function(e,t){var n=t.dependentPanes;return"function"==typeof n&&(n=n.call(this)),i().union(e,n||[])}),[],this),r=i().filter(i().keys(this.panes),(function(e){return!i().contains(n,e)})),a=r;a.length;)e=i().filter(a,s,this),t=t||e.length!==a.length,a=i().reduce(e,o,[],this),r=r.concat(a);return r.isAnyInvalid=t,r},onChangePaneClick:function(e){e.preventDefault();var t=this.$(e.currentTarget);t.isDisabled()||this.showPane(t.data("pane"))}}},76154:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(13469),i=n.n(r);const a={currentState:null,enterState:function(e){if(e!==this.currentState){var t=this.currentState,n=this.states[e];if(!n)throw new Error("The state machine is unable to enter undefined state: "+e);if(t){var r=this.states[t];if(i().isFunction(r.onExit)){var a=r.onExit.call(this);if(!1===a)return}}if(this.currentState=e,i().isFunction(n.onEnter)){var s=n.onEnter.apply(this,i().rest(arguments));if(!1===s)return void(this.currentState=t)}this.triggerMethod("stateMachineChange",{from:t,to:e})}},enterNextState:function(){var e;if(this.currentState)e=this.states[this.currentState].nextState;else{if(!this.initialState)throw new Error("An initial state must be defined for the state machine");e=this.initialState}e?this.enterState(e):this.triggerMethod("stateMachineComplete")}}},10059:(e,t,n)=>{"use strict";n.d(t,{Z:()=>p});var r=n(53334),i=n(14408),a=n(56442),s=n(84936),o=n(12634);const l=r.Z.extend({name:"FileModel",idAttribute:"key",rootPropertyName:"File",syncedAttrs:{key:i.Z.string,title:i.Z.string,path:i.Z.string,network:i.Z.boolean}}),c=o.Z.extend({name:"FileCollection",model:l}),d=r.Z.extend({name:"FilePathModel",context:["server","includeFiles"],idAttribute:"key",rootPropertyName:"Path",sessionAttrs:{isBackShortcut:i.Z.boolean},sessionRelations:{children:function(){var e={};return this.includeFiles&&(e.includeFiles=1),{relationClass:n(10059).Z,options:{url:s.Z.join([this.id],e)}}}},syncedAttrs:{key:i.Z.string,title:i.Z.string,path:i.Z.string,home:i.Z.boolean,network:i.Z.boolean}}),u=o.Z.extend({name:"FilePathCollection",context:["server","includeFiles"],model:d,url(){var e={};return this.includeFiles&&(e.includeFiles=1),s.Z.join(["/services/browse"],e)}}),p=r.Z.extend({name:"FilePathListModel",responseType:a.AV,context:["server","includeFiles","url"],url(){const e={};return this.includeFiles&&(e.includeFiles=1),s.Z.join(["/services/browse"],e)},sessionAttrs:{truncatedFilesCount:i.Z.integer},syncedRelations:{paths:{relationClass:u,rootPropertyName:"Path"},files:{relationClass:c,rootPropertyName:"File"}},augmentResponse:e=>(e.File&&(e.truncatedFilesCount=Math.max(0,e.File.length-500),e.File=e.File.slice(0,500)),e)})},72601:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(12634),i=n(53334),a=n(14408);const s=i.Z.extend({name:"MatchResultModel",context:["server"],idAttribute:"guid",rootPropertyName:"SearchResult",syncedAttrs:{id:a.Z.integer,guid:a.Z.string,name:a.Z.string,parentGUID:a.Z.string,parentName:a.Z.string,type:a.Z.string,index:a.Z.integer,score:a.Z.integer,thumb:a.Z.string,year:a.Z.integer,matched:a.Z.boolean,disambiguation:a.Z.string,area:a.Z.string,beginArea:a.Z.string,lifespanBegin:a.Z.string,lifespanEnd:a.Z.string,summary:a.Z.string},syncedRelations:{children:function(){return{relationClass:n(72601).Z,rootPropertyName:"SearchResult"}}},derivedAttrs:{normalizedScore:function(){var e=this.get("score");if(null!=e)return Math.min(Math.max(e,0),100)}}}),o=r.Z.extend({name:"MatchResultCollection",context:["server"],model:s,url:function(){return"/library/metadata/"+this.parent.id+"/matches"}})},71576:(e,t,n)=>{"use strict";n.d(t,{Z:()=>I});var r=n(29415),i=n(11023),a=n(19755),s=n.n(a),o=n(13469),l=n.n(o),c=n(69865),d=n(9949),u=n(32707),p=n(55983),m=n(76037),h=n(84936);const g=c.Z.extend({idAttribute:"ratingKey",whitelistedAttrs:["guid","addedAt","composite","duration","key","leafCount","playlistType","ratingKey","smart","summary","title","type","allowSync"],defaults:function(){return{children:new d.Z([],{server:this.server,parent:this,url:function(){const e="/playlists/"+this.parent.id+"/items";let t;return"audio"===this.parent.get("playlistType")&&(t={includeRelated:1}),h.Z.join(e,t)}})}},urlRoot:"/playlists",saveUrl:function(){return"/library/metadata/"+this.id},cacheKey:function(e){if(e.key)return this.server&&this.server.getScopedKey(e.key)},initialize:function(){this.listenToOnce(this.get("children"),"add",(function(e){this.set("art",e.get("art"))}))},sync:function(e,t,n){const r=m.Z.addVersionHeader(2,n);return c.Z.prototype.sync.call(this,e,t,r)},parse:function(e){let t=this.convert(e);return t.Playlist&&(t=t.Playlist),p.Z.parseInteger(t,["duration","leafCount","addedAt"]),p.Z.parseBoolean(t,["smart","allowSync"]),t.isPlaylist=!0,t},findItem:function(e){return this.get("children").findWhere({playlistItemID:e})},moveItem:function(e,t){const n=t?{after:t}:{},r=h.Z.join([l().result(this,"url"),"/items/",e,"/move"],n),i=l().extend(this.server.getXHROptions(r),{type:"PUT"}),a=s().ajax(i),o=this.get("children"),c=this.findItem(e);o.remove(c);const d=this.findItem(t),u=d?o.indexOf(d)+1:0;return o.add(c,{at:u}),a},removeItem:function(e){e=e.toString();const t=h.Z.join([l().result(this,"url"),"/items/",e]),n=l().extend(this.server.getXHROptions(t),{type:"DELETE"}),r=s().ajax(n);r.then(l().bind((function(e){this.set(this.parse(e))}),this));const i=this.get("children"),a=this.findItem(e);return i.remove(a),r},addContent:function(e,t){const n=this.isNew()?"POST":"PUT",r=[l().result(this,"url")],i={};this.isNew()?(i.type=this.get("playlistType"),i.title=this.get("title"),i.smart=this.get("smart")?1:0):r.push("/items"),e.get("playQueueID")?i.playQueueID=e.get("playQueueID"):i.uri=u.Z.uri(e,t);const a=h.Z.join(r,i),o=l().extend(e.server.getXHROptions(a),{type:n}),c=s().ajax(o);return c.then(l().bind((function(e){this.set(this.parse(e))}),this)),c.promise()},isLibraryItem:function(){return!0},isPlexMusicItem:function(){return!1}});var y=n(12634),v=n(90912);const f=y.Z.extend({name:"VersionGeneratorCollection",context:["server"],model:v.Z,url(){return h.Z.join(["playlists",this.parent.id,"items"],{type:i.Z.LOCAL})}}),b=g.extend({defaults:function(){return{children:new f([],{server:this.server,parent:this})}},findItem:function(e){return this.get("children").get(e)},addContent:function(e){var t=[l().result(this,"url"),"items",e.id],n=h.Z.join(t,e.getSaveParams()),r=l().extend(e.server.getXHROptions(n),{type:"PUT"}),i=s().ajax(r);return i.then(l().bind((function(e){this.set(this.parse(e))}),this)),i.promise()}}),I=r.Z.extend({model:b,url:"/playlists?type="+i.Z.LOCAL,parse:function(e){return this.convert(e,"Playlist")}})},90912:(e,t,n)=>{"use strict";n.d(t,{Z:()=>S});var r=n(53334),i=n(14408),a=n(36776),s=n(91135);const o=r.Z.extend({name:"VersionGeneratorMediaSettingsModel",context:["server"],syncedAttrs:{videoQuality:{type:i.Z.integer,save:!0},videoResolution:{type:i.Z.string,save:!0},maxVideoBitrate:{type:i.Z.integer,save:!0},audioBoost:{type:i.Z.integer,save:!0},subtitleSize:{type:i.Z.integer,save:!0},musicBitrate:{type:i.Z.integer,save:!0},photoQuality:{type:i.Z.integer,save:!0},photoResolution:{type:i.Z.string,save:!0}}});var l=n(13469),c=n.n(l),d=n(93683),u=n(56442),p=n(67299),m=n(84936),h=n(12634),g=n(95688);const y=r.Z.extend({name:"VersionGeneratorMetadataModel",context:["server","generator"],idAttribute:"ratingKey",syncedAttrs:c().extend({},g.Z.prototype.syncedAttrs,{processingState:i.Z.string,processingStateContext:i.Z.string})}),v=h.Z.extend({name:"VersionGeneratorMetadataCollection",context:["server","generator"],model:y}),f=r.Z.extend({mixins:[d.Z],name:"VersionGeneratorMetadataListModel",context:["server","generator"],collectionName:"metadataItems",url(){const e=m.Z.join([c().result(this.generator,"url"),"items"]);return this.getPaginatedUrl(e)},sessionAttrs:{currentPageStart:i.Z.integer,currentPageSize:i.Z.integer,populatedRange:i.Z.object},syncedAttrs:{totalSize:i.Z.integer,identifier:i.Z.string,mediaTagPrefix:i.Z.string,mediaTagVersion:i.Z.string,viewGroup:i.Z.string,title:i.Z.string},syncedRelations:{metadataItems:{relationClass:v,rootPropertyName:"Metadata",setOptions:e=>({remove:e.remove,at:e.at})}},defaults:()=>({populatedRange:{start:0,end:0,size:0}}),initialize(){this.startPopulatedRangeMonitor()},augmentResponseText:(e,t)=>t===u.Ls?(0,p.Z)(e):e}),b=r.Z.extend({name:"VersionGeneratorPolicyModel",context:["server"],syncedAttrs:{scope:{type:i.Z.string,save:!0},value:{type:i.Z.integer,save:!0},unwatched:{type:i.Z.boolean,save:!0}},defaults:{unwatched:!1}}),I=r.Z.extend({name:"VersionGeneratorStatusModel",context:["server"],syncedAttrs:{state:i.Z.string,failureCode:i.Z.string,failure:i.Z.string,itemsCount:i.Z.integer,itemsCompleteCount:i.Z.integer,itemsSuccessfulCount:i.Z.integer,itemsFailedCount:i.Z.integer,itemsDisabledCount:i.Z.integer,totalSize:i.Z.integer}}),S=r.Z.extend({name:"VersionGeneratorModel",context:["server","section","playlistID"],rootPropertyName:"Item",cache:new a.Z,cacheKey(e){return this.server&&this.server.getScopedKey(e.id)},urlRoot(){return`/playlists/${this.playlistID||this.parent.id}/items`},syncedAttrs:{id:i.Z.integer,clientIdentifier:i.Z.string,contentType:i.Z.string,composite:i.Z.string,type:{type:i.Z.integer,save:!0},title:{type:i.Z.string,save:!0},target:{type:i.Z.string,save:!0},targetTagID:{type:i.Z.integer,save:!0},locationID:{type:i.Z.integer,save:!0},Location:{type:i.Z.object,save:!0},Device:{type:i.Z.object,save:!0}},sessionRelations:{children:{relationClass:f,options(){return{generator:this}}}},syncedRelations:{status:{relationClass:I,rootPropertyName:"Status"},policy:{relationClass:b,rootPropertyName:"Policy",save:!0},mediaSettings:{relationClass:o,rootPropertyName:"MediaSettings",save:!0}},derivedAttrs:{isDirectory(){const e=this.get("Location");if(e.uri)return/(playlist:\/\/|library:\/\/([\w-]*)\/directory\/)/.test(e.uri)}},defaults:()=>({type:42,locationID:-1,Location:{},Device:{}}),defaultCounts:{[s.pX]:5,[s.j0]:50,[s.pV]:50},warningCounts:{[s.pX]:10,[s.j0]:100,[s.pV]:100},getSaveParams(e,t){const n=r.Z.prototype.getSaveParams.apply(this,arguments);return n.targetTagID&&(delete n.MediaSettings,delete n.Device),{Item:n}},setPolicyDefaultsFor(e){const t=this.get("policy"),n=this.get("isDirectory");return t.has("scope")||t.set("scope",n?"count":"all"),!t.has("value")&&n&&t.set("value",this.defaultCounts[e]),this},shouldShowPolicyWarning(e,t){const n=this.get("policy").get("scope");return"count"===n?t>this.warningCounts[e]:"all"===n&&this.get("isDirectory")}})},39092:(e,t,n)=>{"use strict";n.d(t,{Z:()=>h});var r=n(13469),i=n.n(r),a=n(12634),s=n(56442),o=n(67299),l=n(69881),c=n(84936),d=n(53334),u=n(14408);const p=d.Z.extend({name:"MetadataAutocompleteResultModel",context:["server","section","multiMetadataItem","query"],idAttribute:"ratingKey",rootPropertyName:"Metadata",syncedAttrs:{elementName:u.Z.string,ratingKey:u.Z.string,parentRatingKey:u.Z.string,grandparentRatingKey:u.Z.string,type:u.Z.string,title:u.Z.string,parentTitle:u.Z.string,grandparentTitle:u.Z.string,tag:u.Z.string,tagType:u.Z.integer}});function m(e,t,n){const r=/!$/.test(n),i=/\.id$/.test(n);if(r||i)return e[n]=t,e;const a=n.match(/^(.+)\.(.+)/);return a&&(e.type=(0,l.getMetadataType)(a[1]).id,n=a[2]),e[n+".query"]=t,e}const h=a.Z.extend({name:"MetadataAutocompleteResultCollection",context:["server","section","multiMetadataItem","query"],model:p,url(){var e={type:(0,l.getMetadataType)(this.multiMetadataItem.get("type")).id,limit:10};return e=i().reduce(this.query,m,e),c.Z.join([this.multiMetadataItem.sectionUrl(),"autocomplete"],e)},augmentResponseText:(e,t)=>t===s.Ls?(0,o.Z)(e):e})},92056:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(12634),i=n(45381);const a=r.Z.extend({name:"MediaGrabberDeviceCollection",context:["server"],model:i.ZP,url:"/media/grabbers/devices"})},45381:(e,t,n)=>{"use strict";n.d(t,{ZP:()=>p,vh:()=>u});var r=n(53334),i=n(14408),a=n(69653),s=n(57322),o=n(12634),l=n(9481);const c=r.Z.extend({name:"MediaGrabberDeviceChannelModel",rootPropertyName:"DeviceChannel",idAttribute:"key",syncedAttrs:{key:i.Z.string,identifier:i.Z.string,name:i.Z.string,drm:i.Z.boolean,hd:i.Z.boolean,signalStrength:i.Z.integer,signalQuality:i.Z.integer},augmentResponse:e=>(e.key=e.key||e.identifier,e)}),d=o.Z.extend({name:"MediaGrabberDeviceChannelCollection",context:["server"],model:c,comparator:(e,t)=>(0,l.Z)(e.get("identifier"),t.get("identifier"))}),u={DEAD:"dead",ALIVE:"alive"},p=r.Z.extend({name:"MediaGrabberDeviceModel",context:["server"],rootPropertyName:"Device",idAttribute:"key",sessionAttrs:{isChannelsPending:i.Z.boolean,isChannelsPopulated:i.Z.boolean,channelsError:i.Z.object,selectedSource:i.Z.string,isSaving:i.Z.boolean,saveError:i.Z.object},sessionRelations:{channels:{relationClass:d}},syncedAttrs:{key:i.Z.integer,uuid:i.Z.string,parentID:i.Z.integer,uri:i.Z.string,protocol:i.Z.string,status:i.Z.string,state:i.Z.string,lastSeenAt:i.Z.integer,make:i.Z.string,model:i.Z.string,modelNumber:i.Z.string,source:i.Z.integer,sources:i.Z.list,title:i.Z.string,tuners:i.Z.integer,thumb:i.Z.string,unsupported:i.Z.boolean},syncedRelations:{channelMappings:{rootPropertyName:"ChannelMapping",relationClass:s.Z},prefs:{relationClass:a.Z,rootPropertyName:"Setting",deferred:!0,save:!0}},defaults:{isChannelsPending:!1,isChannelsPopulated:!1,channelsError:null,isSaving:!1,saveError:null,unsupported:!1}})},83654:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(12634),i=n(53334),a=n(14408);const s=i.Z.extend({name:"DVRNetworkModel",sessionAttrs:{key:a.Z.string,title:a.Z.string}}),o=r.Z.extend({name:"DVRNetworkCollection",model:s})},9947:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(53334),i=n(14408),a=n(69653),s=n(92056);const o=r.Z.extend({name:"DVRModel",context:["server"],rootPropertyName:"Dvr",idAttribute:"key",sessionAttrs:{isSaving:i.Z.boolean,saveError:i.Z.object},syncedAttrs:{key:i.Z.integer,epgIdentifier:i.Z.string,country:i.Z.string,language:i.Z.string,lineup:i.Z.string,lineupTitle:i.Z.string,uuid:i.Z.string},syncedRelations:{devices:{relationClass:s.Z,rootPropertyName:"Device"},prefs:{relationClass:a.Z,rootPropertyName:"Setting",deferred:!0,save:!0}},defaults:{isSaving:!1,saveError:null}})},57322:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(12634),i=n(53334),a=n(14408);const s=i.Z.extend({name:"ChannelMappingModel",context:["server"],rootPropertyName:"ChannelMapping",idAttribute:"deviceIdentifier",syncedAttrs:{deviceIdentifier:a.Z.string,lineupIdentifier:a.Z.string,channelKey:a.Z.string,enabled:a.Z.boolean},defaults:{enabled:!1}}),o=r.Z.extend({name:"ChannelMappingCollection",context:["server"],model:s})},73913:(e,t,n)=>{"use strict";n.d(t,{Z:()=>g});var r=n(13469),i=n.n(r),a=n(12634),s=n(89905),o=n(53334),l=n(14408),c=n(56442);const d=o.Z.extend({name:"AgentAttributionModel",context:["server"],responseType:c.fL,syncedAttrs:{content:l.Z.string},url:function(){return"/system/agents/attribution?identifier="+this.parent.id},augmentResponse:function(e){return{content:e}}});var u=n(76334);const p=o.Z.extend({name:"LanguageModel",context:["server"],idAttribute:"code",rootPropertyName:"Language",syncedAttrs:{code:l.Z.string,title:l.Z.string,default:l.Z.boolean},derivedAttrs:{name:function(){return this.get("title")||(0,u.Z)(this.get("code"))}}}),m=a.Z.extend({name:"LanguageCollection",context:["server"],model:p,comparator:"name"}),h=o.Z.extend({name:"AgentModel",context:["server"],idAttribute:"identifier",rootPropertyName:"Agent",sessionAttrs:{isPrimary:l.Z.boolean,selected:l.Z.boolean},sessionRelations:{attribution:{relationClass:d}},syncedAttrs:{identifier:l.Z.string,name:l.Z.string,enabled:l.Z.boolean,hasPrefs:l.Z.boolean,order:l.Z.string},syncedRelations:{languages:{relationClass:m,rootPropertyName:"Language"}}}),g=a.Z.extend({name:"AgentCollection",context:["server","mediaTypeID","primaryAgentID","relatedAgentID"],model:h,cache:new s.Z,cacheKey:function(){var e=i().result(this,"url");return this.server&&this.server.getScopedKey(e)},url:function(){var e="/system/agents";return this.primaryAgentID?e+"/contributors?mediaType="+this.mediaTypeID+"&primaryAgent="+this.primaryAgentID:this.relatedAgentID?e+"/"+this.relatedAgentID+"/config/"+this.mediaTypeID:this.mediaTypeID?e+"?mediaType="+this.mediaTypeID:e},hasExclusiveAgent:function(e){return!!i().intersection(this.pluck("identifier"),e).length}})},43270:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(13469),i=n.n(r),a=n(12152),s=n.n(a);const o=s().extend({constructor:function(e,t,n,r){this.exclusiveAgents=t,this.agentIdentifier=n,s().call(this,e,r),this.filterBy(i().bind(this.filterExclusiveAgent,this))},filterExclusiveAgent:function(e){var t=e.get("identifier"),n=this.exclusiveAgents;if(!n)return!0;var r=this.agentIdentifier,i=-1!==n.indexOf(r),a=-1!==n.indexOf(t);return i?t===r:!a}})},1521:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(13469),i=n.n(r),a=n(53334);const s=a.Z.extend({additionalRelations:[],copyFromModel(e,t){this._copy(e,this,t)},copyToModel(e,t){this._copy(this,e,t)},_copy(e,t,n={}){const r=!!t.releaseCapturedChangeEvents;r||t.startCapturingChangeEvents(),this._copyAttributes(e,t,n),this._copyRelations(e,t,n),r||t.releaseCapturedChangeEvents()},_copyAttributes(e,t,n){const r={};i().each(this.syncedAttrs,((t,i)=>{n.included&&!n.included.includes(i)||(r[i]=e.get(i))})),t.set(r)},_copyRelations(e,t,n){i().each(this.syncedRelations,((r,i)=>{if(n.included&&!n.included.includes(i))return;if(this.additionalRelations.includes(i))return;const s=e.get(i),o=t.get(i);if(s&&o){const e=s.toJSON();o instanceof a.Z?o.set(o.parse(e)):o.set(e,{parse:!0})}}))}})},99340:(e,t,n)=>{"use strict";n.d(t,{Z:()=>I});var r=n(14408),i=n(12634),a=n(53334);const s=a.Z.extend({name:"StoredConnectionSourceModel",syncedAttrs:{id:r.Z.string}}),o=i.Z.extend({name:"StoredConnectionSourceCollection",model:s}),l=a.Z.extend({name:"StoredConnectionModel",idAttribute:"uri",syncedAttrs:{uri:r.Z.string,scheme:r.Z.string,address:r.Z.string,port:r.Z.string,relay:r.Z.boolean},syncedRelations:{sources:{relationClass:o}}}),c=i.Z.extend({name:"StoredConnectionCollection",model:l});var d=n(1521),u=n(30369),p=n(45224),m=Object.defineProperty,h=Object.prototype.hasOwnProperty,g=Object.getOwnPropertySymbols,y=Object.prototype.propertyIsEnumerable,v=(e,t,n)=>t in e?m(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const f=a.Z.extend({name:"StoredProviderModel",idAttribute:"identifier",syncedAttrs:((e,t)=>{for(var n in t||(t={}))h.call(t,n)&&v(e,n,t[n]);if(g)for(var n of g(t))y.call(t,n)&&v(e,n,t[n]);return e})({},p.Z.prototype.syncedAttrs),syncedRelations:{features:{relationClass:u.Z}}}),b=i.Z.extend({name:"StoredProviderCollection",model:f}),I=d.Z.extend({name:"StoredServerModel",idAttribute:"machineIdentifier",additionalRelations:["connections"],syncedAttrs:{machineIdentifier:r.Z.string,friendlyName:r.Z.string,accessToken:r.Z.string,sourceTitle:r.Z.string,home:r.Z.boolean,serverClass:r.Z.string,platform:r.Z.string,isShared:r.Z.boolean,version:r.Z.string,publicAddressMatches:r.Z.boolean,ownerId:r.Z.integer,mediaProviders:r.Z.integer},syncedRelations:{providers:{relationClass:b},connections:{relationClass:c}}})},23593:(e,t,n)=>{"use strict";n.d(t,{Z:()=>w});var r=n(14408),i=n(60214),a=(n(11133),n(12634)),s=n(93966),o=n(86278),l=n(85667),c=n(69790),d=n(57578),u=n(77727),p=n(1521),m=n(99340);const h=a.Z.extend({name:"StoredServerCollection",model:m.Z});var g=n(53334),y=n(19375),v=Object.defineProperty,f=Object.prototype.hasOwnProperty,b=Object.getOwnPropertySymbols,I=Object.prototype.propertyIsEnumerable,S=(e,t,n)=>t in e?v(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,M=(e,t)=>{for(var n in t||(t={}))f.call(t,n)&&S(e,n,t[n]);if(b)for(var n of b(t))I.call(t,n)&&S(e,n,t[n]);return e};const E=g.Z.extend({name:"StoredUserSettingModel",syncedAttrs:M(M({},y.Z.prototype.syncedAttrs),{isDirty:r.Z.boolean})}),P=a.Z.extend({name:"StoredUserSettingCollection",model:E}),D=p.Z.extend({name:"StoredUserModel",additionalRelations:["servers"],syncedAttrs:{id:r.Z.integer,authToken:r.Z.string,anonymous:r.Z.boolean,username:r.Z.string,email:r.Z.string,title:r.Z.string,thumb:r.Z.string,pin:r.Z.string,home:r.Z.boolean,restricted:r.Z.boolean,guest:r.Z.boolean,hasAllEntitlements:r.Z.boolean,lastPrimaryServerID:r.Z.string},syncedRelations:{subscriptions:{relationClass:u.Z},roles:{relationClass:c.Z},entitlements:{relationClass:l.Z},services:{relationClass:d.Z},features:{relationClass:o.Z},settings:{relationClass:P},experienceSettings:()=>({relationClass:(0,s.DB)("StoredUserExperienceSettingsModel")}),servers:{relationClass:h}},clearSensitiveAttributes(){this.unset("authToken"),this.unset("pin"),this.get("servers").reset()}}),C=a.Z.extend({name:"StoredUserCollection",model:D}),w=new(i.Z.extend({name:"UserStorageModel",storageKey:"users",sessionAttrs:{activeUserID:r.Z.integer},syncedRelations:{users:{relationClass:C}},initialize(){this.debouncedSaveTimeout=null},debouncedSave(){this.debouncedSaveTimeout&&window.clearTimeout(this.debouncedSaveTimeout),this.debouncedSaveTimeout=window.setTimeout((()=>this.save()),1e3)},flushDebouncedSave(){this.debouncedSaveTimeout&&(window.clearTimeout(this.debouncedSaveTimeout),this.save())},getActiveUser(){const e=this.get("users"),t=this.get("activeUserID");if(null!=t)return e.get(t)},clearActiveUser(){const e=this.getActiveUser();return e&&e.clearSensitiveAttributes(),this.unset("activeUserID"),this.save()},getActiveServers(){const e=this.getActiveUser();if(e)return e.get("servers")}}))},75557:(e,t,n)=>{"use strict";n.d(t,{Z:()=>w,C:()=>C});var r=n(53334),i=n(14408),a=n(69653),s=n(92056),o=n(45381),l=n(83654),c=n(12634);const d=r.Z.extend({name:"DVRSetupErrorMessageModel",sessionAttrs:{id:i.Z.string,message:i.Z.string}}),u=c.Z.extend({name:"DVRSetupErrorMessageCollection",model:d});var p=n(9947);const m=r.Z.extend({name:"EPGCountryModel",context:["server"],idAttribute:"code",rootPropertyName:"Country",syncedAttrs:{key:i.Z.string,type:i.Z.string,title:i.Z.string,code:i.Z.string,example:i.Z.string,flavor:i.Z.integer,language:i.Z.string,languageTitle:i.Z.string}}),h=c.Z.extend({name:"EPGCountryCollection",context:["server"],model:m,url:"/livetv/epg/countries"}),g=r.Z.extend({name:"EPGCountryRegionModel",context:["server"],idAttribute:"key",rootPropertyName:"Region",syncedAttrs:{key:i.Z.string,type:i.Z.string,title:i.Z.string}}),y=c.Z.extend({name:"EPGCountryRegionCollection",context:["server"],model:g}),v=r.Z.extend({name:"EPGLineupModel",context:["server"],idAttribute:"uuid",rootPropertyName:"Lineup",syncedAttrs:{uuid:i.Z.string,type:i.Z.string,title:i.Z.string,lineupType:i.Z.integer,location:i.Z.string},defaults:{location:""}}),f=c.Z.extend({name:"EPGCountryRegionCollection",context:["server"],model:v}),b=r.Z.extend({name:"EPGLineupGroupModel",context:["server"],idAttribute:"uuid",syncedAttrs:{uuid:i.Z.string},syncedRelations:{lineups:{relationClass:f,rootPropertyName:"Lineup"}}}),I=r.Z.extend({name:"EPGLanguageModel",context:["server"],rootPropertyName:"Language",idAttribute:"code",syncedAttrs:{code:i.Z.string,title:i.Z.string}}),S=c.Z.extend({name:"EPGLanguageCollection",context:["server"],model:I,url:"/livetv/epg/languages"}),M=r.Z.extend({name:"EPGSettingsModel",context:["server"],sessionAttrs:{baseUrl:i.Z.string,postalCode:i.Z.string,isFetching:i.Z.boolean,isPopulated:i.Z.boolean},sessionRelations:{countries:{relationClass:h},languages:{relationClass:S},regions:{relationClass:y},lineupGroup:{relationClass:b},selectedCountry:{relationClass:m,deferred:!0},selectedLanguage:{relationClass:I,deferred:!0},selectedRegion:{relationClass:g,deferred:!0}},defaults:{baseUrl:"/livetv/epg/countries",isFetching:!1,isPopulated:!1,postalCode:""}}),E=r.Z.extend({name:"EPGChannelModel",context:["server"],rootPropertyName:"Channel",syncedAttrs:{identifier:i.Z.string,key:i.Z.string,callSign:i.Z.string,thumb:i.Z.string,title:i.Z.string,hd:i.Z.boolean},defaults:{hd:!1}}),P=c.Z.extend({name:"EPGChannelCollection",context:["server"],model:E});var D=n(57322);const C={DEVICE:"device",UNSUPPORTED_DEVICE:"unsupportedDevice",DEVICE_CHANNELS:"deviceChannels",EPG:"epg",EPG_MAPPING:"epgMapping",CHANNEL_MAPPING:"channelMapping",EPG_DOWNLOAD:"epgDownload"},w=r.Z.extend({name:"DVRSetupModel",context:["server"],sessionAttrs:{isDevicesPending:i.Z.boolean,isDevicesPopulated:i.Z.boolean,devicesError:i.Z.object,isDiscoveringDevices:i.Z.boolean,isChannelMappingsPending:i.Z.boolean,isChannelMappingsPopulated:i.Z.boolean,channelMappingsError:i.Z.object,isChannelMappingsSaving:i.Z.boolean,channelMappingsSaveError:i.Z.object,isLineupChannelsPending:i.Z.boolean,isLineupChannelsPopulated:i.Z.boolean,lineupChannelsError:i.Z.object,epgLineupActivityID:i.Z.string,epgDownloadActivityID:i.Z.string,step:i.Z.string,selectedLineupUUID:i.Z.string,addDevicePending:i.Z.boolean,isSavingDVR:i.Z.boolean,hasScannedChannels:i.Z.boolean},sessionRelations:{devices:{relationClass:s.Z},lineupChannels:{relationClass:P},epgSettings:{relationClass:M},channelMappings:{relationClass:D.Z},selectedDVR:{relationClass:p.Z,deferred:!0},selectedDevice:{relationClass:o.ZP,deferred:!0},selectedLanguage:{relationClass:I,deferred:!0},setupErrorMessages:{relationClass:u},scanPrefs:{relationClass:a.Z,deferred:!0},scanNetworks:{relationClass:l.Z,deferred:!0}},defaults:{step:C.DEVICE,isDevicesPending:!1,isDevicesPopulated:!1,isDiscoveringDevices:!1,devicesError:null,isChannelMappingsPending:!1,isChannelMappingsPopulated:!1,channelMappingsError:null,isChannelMappingsSaving:!1,channelMappingsSaveError:null,isLineupChannelsPending:!1,isLineupChannelsPopulated:!1,lineupChannelsError:null,epgLineupActivityID:"",epgDownloadActivityID:"",addDevicePending:!1,isSavingDVR:!1,hasScannedChannels:!1}})},24781:(e,t,n)=>{"use strict";n.d(t,{p:()=>o,Z:()=>l});var r=n(53334),i=n(14408),a=n(47985),s=n(68187);const o={WARNING:"warning",USER:"user",LIBRARIES:"libraries",RESTRICTIONS:"restrictions",SUMMARY:"summary"},l=r.Z.extend({name:"ShareModalModel",context:["server"],sessionAttrs:{steps:i.Z.array,step:i.Z.string,metadataItemEntityID:i.Z.string,friendEntityID:i.Z.string,username:i.Z.string,restrictionProfileIdentifier:i.Z.string,isNewFriend:i.Z.boolean,isAddingHomeUser:i.Z.boolean,isCreatingManagedUser:i.Z.boolean,selectedAllLibrariesMachineIdentifiers:i.Z.array,selectedLibrarySectionIDs:i.Z.array,filterOptionsTags:i.Z.object,isUsernameValidating:i.Z.boolean,isUsernameValidated:i.Z.boolean,isServerOverviewsPopulating:i.Z.boolean,isServerOverviewsPopulated:i.Z.boolean,isServerSharesPopulating:i.Z.boolean,isServerSharesPopulated:i.Z.boolean,serverSharesError:i.Z.string,isFilterOptionsTagsPopulating:i.Z.boolean,isFilterOptionsTagsPopulated:i.Z.boolean,isSharingPending:i.Z.boolean,isSharingCompleted:i.Z.boolean,sharingError:i.Z.string,inviteToken:i.Z.string,inviteTokenError:i.Z.string},sessionRelations:{serverOverviews:{relationClass:a.Z,deferred:!0}},defaults:()=>({steps:[],step:null,metadataItemEntityID:null,friendEntityID:null,username:"",restrictionProfileIdentifier:s.Cc,isNewFriend:!1,isAddingHomeUser:!1,isCreatingManagedUser:!1,selectedAllLibrariesMachineIdentifiers:null,selectedLibrarySectionIDs:null,filterOptionsTags:{},isUsernameValidating:!1,isUsernameValidated:!1,isServerOverviewsPopulating:!1,isServerOverviewsPopulated:!1,isServerSharesPopulating:!1,isServerSharesPopulated:!1,serverSharesError:null,isFilterOptionsTagsPopulating:!1,isFilterOptionsTagsPopulated:!1,isSharingPending:!1,isSharingCompleted:!1,sharingError:null,inviteToken:null,inviteTokenError:null})})},22724:(e,t,n)=>{"use strict";n.d(t,{Z:()=>y});var r=n(53334),i=n(14408),a=n(4844),s=n(15042),o=n(99394),l=n(12634),c=n(1039);const d=l.Z.extend({name:"ServerShareCollection2",context:["server"],model:c.Z});var u=Object.defineProperty,p=Object.prototype.hasOwnProperty,m=Object.getOwnPropertySymbols,h=Object.prototype.propertyIsEnumerable,g=(e,t,n)=>t in e?u(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const y=r.Z.extend({name:"FriendModel2",context:["server"],rootPropertyName:"User",entityType:s.vO,entityID(e=this.state){return(0,a.Z)(this.entityType,e.id)},urlRoot(){return this.get("home")?"/api/users":"/api/friends"},sessionAttrs:{user:i.Z.string,isRemoving:i.Z.boolean},syncedAttrs:((e,t)=>{for(var n in t||(t={}))p.call(t,n)&&g(e,n,t[n]);if(m)for(var n of m(t))h.call(t,n)&&g(e,n,t[n]);return e})({id:i.Z.integer,home:i.Z.boolean,protected:i.Z.boolean,restricted:i.Z.boolean,title:i.Z.string,username:i.Z.string,email:i.Z.string,thumb:i.Z.string,recommendationsPlaylistId:i.Z.string},o.Z),syncedRelations:{serverShares:{relationClass:d,rootPropertyName:"Server"}},defaults:{isRemoving:!1}})},92216:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var r=n(29415),i=n(13469),a=n.n(i),s=n(69865),o=n(55983);const l=s.Z.extend({urlRoot:"/api/home/users",whitelistedAttrs:["id","uuid","admin","protected","restricted","restrictionProfile","guest","title","username","email","thumb"],convert(e){let t=a().isObject(e)?e:o.Z.parseXML(e);return t.User&&(t=t.User),o.Z.parseInteger(t,"id"),o.Z.parseBoolean(t,["admin","protected","restricted","guest"]),t},parse(e){let t=this.convert(e);return t=a().pick(t,this.whitelistedAttrs),t},getSaveParams(e,t){if(a().isEmpty(e)){const e={};return this.get("restricted")?e.title=this.get("title"):this.isNew()&&(e.invitedEmail=this.get("username")),e}return s.Z.prototype.getSaveParams.apply(this,arguments)}}),c=r.Z.extend({model:l,url:"/api/home/users",parse(e){return this.convert(e,"User")}})},1483:(e,t,n)=>{"use strict";n.d(t,{Z:()=>y});var r=n(13469),i=n.n(r),a=n(53334),s=n(14408),o=n(4844),l=n(15042),c=n(99394),d=n(84936),u=Object.defineProperty,p=Object.prototype.hasOwnProperty,m=Object.getOwnPropertySymbols,h=Object.prototype.propertyIsEnumerable,g=(e,t,n)=>t in e?u(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const y=a.Z.extend({name:"HomeUserModel",context:["server"],rootPropertyName:"User",entityType:l.Tl,entityID(e=this.state){return(0,o.Z)(this.entityType,e.id)},urlRoot(){return this.get("restricted")?"/api/v2/home/users":"/api/home/users"},saveUrl(){let e=i().result(this,"url");return this.get("restricted")&&(e=d.Z.join([e,"/restricted"])),e},pinUrl(){const e=this.get("restricted")?"/api/v2/home/users/restricted":"/api/home/users";return d.Z.join([e,this.get("id")])},sessionAttrs:{isRemoving:s.Z.boolean},syncedAttrs:((e,t)=>{for(var n in t||(t={}))p.call(t,n)&&g(e,n,t[n]);if(m)for(var n of m(t))h.call(t,n)&&g(e,n,t[n]);return e})({id:s.Z.integer,uuid:s.Z.string,admin:s.Z.boolean,protected:s.Z.boolean,restricted:s.Z.boolean,restrictionProfile:s.Z.string,guest:s.Z.boolean,title:s.Z.string,username:s.Z.string,email:s.Z.string,thumb:s.Z.string},c.Z),defaults:{isRemoving:!1},getSaveParams(e){const t=a.Z.prototype.getSaveParams.apply(this,arguments);return e&&0!==Object.keys(e).length||(this.get("restrictionProfile")&&(t.restrictionProfile=this.get("restrictionProfile")),t.sharingSettings={},Object.keys(c.Z).forEach((e=>{t.hasOwnProperty(e)&&(t.sharingSettings[e]=t[e],delete t[e])})),this.get("restricted")?t.friendlyName=this.get("username"):this.isNew()&&(t.invitedEmail=this.get("username"))),t}})},1039:(e,t,n)=>{"use strict";n.d(t,{Z:()=>p});var r=n(53334),i=n(14408),a=n(64297),s=n(56442),o=n(12634);const l=r.Z.extend({name:"ServerShareLibraryModel",syncedAttrs:{id:i.Z.integer,key:i.Z.string,title:i.Z.string,type:i.Z.string}}),c=o.Z.extend({name:"ServerShareLibraryCollection",context:["server"],model:l});var d=n(99394);const u=r.Z.extend({name:"ServerShareSharingSettingsModel",syncedAttrs:d.Z}),p=r.Z.extend({name:"ServerShareModel2",context:["server"],mergeStrategy:a.Z,responseType:s.AV,urlRoot:"api/v2/shared_servers",syncedAttrs:{id:i.Z.integer,serverId:i.Z.integer,machineIdentifier:i.Z.string,name:i.Z.string,owned:i.Z.boolean,admin:i.Z.boolean,pending:i.Z.boolean,accepted:i.Z.boolean,ownerId:i.Z.integer,inviteToken:i.Z.string,invitedEmail:i.Z.string,invitedAt:i.Z.string,acceptedAt:i.Z.string,lastSeenAt:i.Z.string,deletedAt:i.Z.string,leftAt:i.Z.string,numLibraries:i.Z.integer,allLibraries:i.Z.boolean},syncedRelations:{libraries:{relationClass:c},sharingSettings:{relationClass:u}}})},85667:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(12634),i=n(53334),a=n(14408);const s=i.Z.extend({name:"UserEntitlementModel",syncedAttrs:{id:a.Z.string}}),o=r.Z.extend({name:"UserEntitlementCollection",model:s})},69790:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(12634),i=n(53334),a=n(14408);const s=i.Z.extend({name:"UserRoleModel",syncedAttrs:{id:a.Z.string}}),o=r.Z.extend({name:"UserRoleCollection",model:s})},57578:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(12634),i=n(53334),a=n(14408);const s=i.Z.extend({name:"UserServiceModel",syncedAttrs:{id:a.Z.string,subscriptionType:a.Z.string}}),o=r.Z.extend({name:"UserServiceCollection",model:s})},19375:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var r=n(53334),i=n(14408),a=n(86017),s=n(67124),o=n(85022);const l={bool:a.Z,json:o.Z},c=r.Z.extend({name:"UserSettingModel",context:["server"],sessionAttrs:{isDirty:i.Z.boolean},syncedAttrs:{id:i.Z.string,type:i.Z.string,value:i.Z.oneOfType(i.Z.boolean,i.Z.object),hidden:i.Z.boolean,updatedAt:i.Z.integer},defaults:{isDirty:!1},augmentResponse(e){const t=this.get("isDirty"),n=this.get("updatedAt"),r=(0,s.Z)(e.updatedAt),i=n&&r&&n<r;if(t&&n===r||n&&r&&n>r)return this.toJSON();t&&i&&(e.isDirty=!1);const a=l[e.type];return a&&(e.value=a(e.value)),e}})},77727:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var r=n(12634),i=n(53334),a=n(14408),s=n(12610),o=n(1547);const l=i.Z.extend({name:"UserSubscriptionModel",syncedAttrs:{type:a.Z.oneOf(...o.ZP).isRequired,state:a.Z.oneOf(...s.ZP).isRequired,mode:a.Z.string.isRequired}}),c=r.Z.extend({name:"UserSubscriptionCollection",model:l})},43451:(e,t,n)=>{"use strict";n.d(t,{Z:()=>D,U:()=>P});var r=n(14408),i=n(53334),a=n(12634),s=Object.defineProperty,o=Object.prototype.hasOwnProperty,l=Object.getOwnPropertySymbols,c=Object.prototype.propertyIsEnumerable,d=(e,t,n)=>t in e?s(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,u=(e,t)=>{for(var n in t||(t={}))o.call(t,n)&&d(e,n,t[n]);if(l)for(var n of l(t))c.call(t,n)&&d(e,n,t[n]);return e};const p={hubIdentifier:r.Z.string,hubKey:r.Z.string,key:r.Z.string,style:r.Z.string,subtype:r.Z.string,title:r.Z.string,type:r.Z.string},m={friendlyName:r.Z.string,machineIdentifier:r.Z.string.isRequired,sourceTitle:r.Z.string},h={identifier:r.Z.string,providerIdentifier:r.Z.string,title:r.Z.string},g=i.Z.extend({name:"HomeHubProviderModel",syncedAttrs:u({},h)}),y=i.Z.extend({name:"HomeHubServerModel",syncedAttrs:u({},m)}),v=i.Z.extend({name:"HomeHubModel",syncedAttrs:u(u({},p),{id:r.Z.string.isRequired,directoryID:r.Z.string.isRequired,directoryKey:r.Z.string.isRequired,isHidden:r.Z.boolean.isRequired,hiddenAt:r.Z.integer}),syncedRelations:{provider:{relationClass:g},server:{relationClass:y}},defaults:{isHidden:!1}}),f=a.Z.extend({name:"HomeHubCollection",model:v});var b=n(99317);const I=i.Z.extend({name:"HomeSettingsModel",syncedAttrs:{hasCustomizations:r.Z.boolean.isRequired,hasSeededPreferredServerContent:r.Z.boolean.isRequired,hasSeededProviderPromotedContent:r.Z.boolean.isRequired,preferredServerID:r.Z.string,settingsKey:r.Z.string.isRequired,version:r.Z.integer.isRequired},syncedRelations:{hubs:{relationClass:f}},defaults:()=>({hasCustomizations:!1,hasSeededPreferredServerContent:!1,hasSeededProviderPromotedContent:!1,settingsKey:(0,b.Z)(),version:1})}),S=i.Z.extend({name:"SidebarSourceModel",idAttribute:"key",syncedAttrs:{key:r.Z.string.isRequired,sourceType:r.Z.string.isRequired,machineIdentifier:r.Z.string.isRequired,providerIdentifier:r.Z.string.isRequired,directoryID:r.Z.string,directoryIcon:r.Z.string,title:r.Z.string.isRequired,serverFriendlyName:r.Z.string.isRequired,serverSourceTitle:r.Z.string,providerSourceTitle:r.Z.string,detail:r.Z.string,isCloud:r.Z.boolean,isFullOwnedServer:r.Z.boolean,isHidden:r.Z.boolean.isRequired,hiddenAt:r.Z.integer},defaults:{isHidden:!1}}),M=a.Z.extend({name:"SidebarSourceCollection",model:S}),E=i.Z.extend({name:"SidebarSettingsModel",syncedAttrs:{hasCompletedSetup:r.Z.boolean.isRequired},syncedRelations:{pinnedSources:{relationClass:M}},defaults:()=>({hasCompletedSetup:!1})}),P="experience",D={sessionAttrs:{sidebarPreferredSourcesSavedEnteredPath:r.Z.string,isSidebarAllSources:r.Z.boolean.isRequired,isDirty:r.Z.boolean.isRequired,isSaving:r.Z.boolean.isRequired,saveError:r.Z.object},syncedAttrs:{updatedAt:r.Z.integer,autoHomeHubsEnabled:r.Z.boolean,shouldSaveLastSourcePivots:r.Z.boolean.isRequired,lastSourcePivots:r.Z.object.isRequired,savedPivotParams:r.Z.object.isRequired,autoPinnedProviders:r.Z.array.isRequired,dismissedUpsellModals:r.Z.array},syncedRelations:{homeSettings:{relationClass:I},sidebarSettings:{relationClass:E}},defaults:{autoHomeHubsEnabled:null,sidebarPreferredSourcesSavedEnteredPath:null,isSidebarAllSources:!1,isDirty:!1,isSaving:!1,saveError:null,shouldSaveLastSourcePivots:!0,lastSourcePivots:{},savedPivotParams:{},autoPinnedProviders:[],dismissedUpsellModals:[]}}},93066:(e,t,n)=>{"use strict";n.d(t,{Mv:()=>r,TA:()=>i,cW:()=>a,PG:()=>s,Mo:()=>o,Xx:()=>l,W:()=>c,ei:()=>d,$F:()=>u,SJ:()=>p,Hj:()=>m,w:()=>h,Op:()=>g,tL:()=>y,k4:()=>v,KG:()=>f,Yx:()=>b,zx:()=>I,PL:()=>S,yc:()=>M,pQ:()=>E,N2:()=>P,Dn:()=>D,gS:()=>C,fu:()=>w,GN:()=>Z});const r="INIT_TIMELINE_PAGE",i="CLOSE_TIMELINE_PAGE",a="FETCH_TIMELINE_DETAILS",s="POPULATE_TIMELINE_DETAILS",o="RESET_EPG_SETTINGS",l="FETCH_EPG_COUNTRIES",c="FETCH_EPG_LANGUAGES",d="SELECT_EPG_COUNTRY",u="SELECT_EPG_LANGUAGE",p="SELECT_EPG_REGION",m="SET_EPG_POSTAL_CODE",h="FETCH_EPG_LINEUPS",g="CHANGE_BACKGROUND",y="CHANGE_THEME_MUSIC",v="RESET_BACKGROUND",f="INIT_PLAYLIST_PAGE",b="INIT_PLAYLIST_ITEM_LIST",I="RESET_PLAYLIST_ITEM_LIST",S="FETCH_PLAYLIST",M="POPULATE_PLAYLIST_ITEM_RANGE",E="REPOPULATE_PLAYLIST_ITEMS",P="SELECT_PLAYLIST_ITEM",D="DESELECT_PLAYLIST_ITEM",C="MOVE_PLAYLIST_ITEM",w="REMOVE_PLAYLIST_ITEM",Z="REMOVE_SELECTED_ITEMS"},86035:(e,t,n)=>{"use strict";n.d(t,{CC:()=>Ue,bc:()=>Te,EK:()=>Ne,rM:()=>Re,Qg:()=>ze,_K:()=>je,im:()=>Oe,nL:()=>Ae,s7:()=>Ze,mb:()=>xe,l4:()=>ke,xM:()=>Le});var r=n(13469),i=n.n(r),a=n(5513),s=n(40807),o=n(32846),l=n(96840),c=n(28440),d=n(84936),u=Object.defineProperty,p=Object.prototype.hasOwnProperty,m=Object.getOwnPropertySymbols,h=Object.prototype.propertyIsEnumerable,g=(e,t,n)=>t in e?u(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,y=(e,t)=>{for(var n in t||(t={}))p.call(t,n)&&g(e,n,t[n]);if(m)for(var n of m(t))h.call(t,n)&&g(e,n,t[n]);return e};function v(e,t){return e.save(y(y({},t),{isSaving:!0,saveError:null})).then((()=>{e.set({isSaving:!1})}),(t=>{const n=t&&t.message||"";e.set({isSaving:!1,saveError:{message:n}})}))}var f=n(61201),b=n(97189),I=n(45697),S=n.n(I),M=n(67294),E=n(17845);function P(e){var t=e["aria-label"],n=e.className,r=e.style,i={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1000 1000",id:"plex-icon-plex-chevron"};i["aria-hidden"]=!t,i.style=r,i.className=E.Z.plexIcon+(n?" "+n:"");var a=[M.createElement.apply(M,["path",{d:"M195,0 L485.000707,0 L805,500 L485.000707,1000 L195,1000 L514.999293,500 L195,0"}].concat([]))];return t&&a.unshift(M.createElement("title",null,t)),M.createElement.apply(M,["svg",i].concat(a))}P.propTypes={"aria-label":S().string,className:S().string,style:S().object};const D=P;var C=n(93966),w=n(88050),Z=n(69605),T=n(44233),N=n(16561),O=n(10612),A=n(12634),x=n(53334),j=n(14408);const L=x.Z.extend({name:"DownloadServerReleaseModel",context:["server"],modelId(){return this.get("build")+"-"+this.get("distro")},syncedAttrs:{label:j.Z.string,build:j.Z.string,distro:j.Z.string,url:j.Z.string}}),k=A.Z.extend({name:"DownloadServerReleaseCollection",context:["server"],model:L});var R=Object.defineProperty,z=Object.prototype.hasOwnProperty,U=Object.getOwnPropertySymbols,V=Object.prototype.propertyIsEnumerable,B=(e,t,n)=>t in e?R(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,F=(e,t)=>{for(var n in t||(t={}))z.call(t,n)&&B(e,n,t[n]);if(U)for(var n of U(t))V.call(t,n)&&B(e,n,t[n]);return e};const _=x.Z.extend({name:"DownloadServerPlatformModel",context:["server","type"],rootPropertyName:"Platform",idAttribute:"id",syncedAttrs:{id:j.Z.string,name:j.Z.string,version:j.Z.string,date:j.Z.integer,requirements:j.Z.string,fixed:j.Z.string,added:j.Z.string,info:j.Z.string},syncedRelations:{releases:{rootPropertyName:"Release",relationClass:k}},derivedAttrs:{type(){return this.type}},augmentResponse(e){var t=e,{release_date:n,extra_info:r,items_fixed:i,items_added:a}=t,s=((e,t)=>{var n={};for(var r in e)z.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&U)for(var r of U(e))t.indexOf(r)<0&&V.call(e,r)&&(n[r]=e[r]);return n})(t,["release_date","extra_info","items_fixed","items_added"]);return F(F({},s),{info:r,fixed:i,added:a,date:n+"000"})}}),H=A.Z.extend({name:"DownloadServerPlatformCollection",context:["server","type"],model:_}),Q=x.Z.extend({name:"DownloadServerModel",context:["server"],rootPropertyName:"Type",idAttribute:"name",syncedAttrs:{name:j.Z.string},syncedRelations:{platforms:{rootPropertyName:"Platform",relationClass:H,options:e=>({type:e.name})}}}),G=A.Z.extend({name:"DownloadServerCollection",context:["server"],url(){const e=i().result(this.server,"url");return d.Z.join([e,"api/downloads/1"])},model:Q});var W=n(65652),Y=n(54304),K=n(56022),q=n.n(K),$=Object.defineProperty,J=Object.prototype.hasOwnProperty,X=Object.getOwnPropertySymbols,ee=Object.prototype.propertyIsEnumerable,te=(e,t,n)=>t in e?$(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ne=(e,t)=>{for(var n in t||(t={}))J.call(t,n)&&te(e,n,t[n]);if(X)for(var n of X(t))ee.call(t,n)&&te(e,n,t[n]);return e};const re=W.Z.ItemView.extend({template:q(),className:"download-server-pane",serializeData:function(){const e=this.model.toJSON(),t=!(0,Y.P_)(),n=!t&&"_self";return ne(ne({},e),{target:n,shouldUseDownload:t,shouldUseDropup:e.releases.length>1})}});var ie=n(21288),ae=n(96717),se=n.n(ae),oe={osx:"macos"};const le=ie.Z.extend({mixins:[O.Z],name:"serverDownloadModal",className:"server-download-modal modal modal-lg fade",template:se(),ui:{downloadBtn:".download-btn",paneTabs:".show-pane-btn",loading:".server-download-loading"},regions:{paneRegion:".pane-region"},events:i().extend({"click .show-pane-btn":"onShowPaneClick","click .download-btn":"onDownloadClick"},ie.Z.prototype.events),panesModel:"selectedModel",onlyAfterRender:["showPane"],initialize:function(e){ie.Z.prototype.initialize.apply(this,arguments);var t=C.DB("appModel");t.get("primaryServer")||this.listenTo(t,"change:primaryServer",((e,t)=>{t&&t.id&&this.hide()})),this.downloadType=e.downloadType;var n=new G([],{server:t.get("cloudServer")}),r=n.populate();r.done((()=>{this.collection=n.get(this.downloadType).get("platforms"),this.paneSetup(),this.render(),this.ui.loading.addClass("hidden")})),C.DB("metrics").trackView({page:Z.jF,firstRun:!0})},serializeData:function(){return{items:this.collection?this.collection.toJSON():[],selectedPane:this.selectedModel?this.selectedModel.get("id"):null,iconPlexChevron:(0,N.Z)(D,{className:"modal-icon"})}},selectListItem:function(){var e=this.selectedModel.get("id");this.ui.paneTabs.removeClass("selected"),this.ui.paneTabs.filter(`[data-pane="${e}"]`).addClass("selected")},paneSetup:function(){this.panes=this.collection.reduce(((e,t)=>(e[t.get("id")]={constructor:re},e)),{});var{platformID:e}=T.Z,t=oe[e]||e;this.selectedModel=this.collection.get(t)||this.collection.first(),this.showPane(this.selectedModel.get("id"))},onRender:function(){ie.Z.prototype.onRender.apply(this,arguments),this.selectedModel&&this.selectListItem()},onShowPaneClick:function(e){e.preventDefault();var t=this.$(e.currentTarget).data("pane");this.selectedModel=this.collection.get(t),this.showPane(t),this.selectListItem()},onDownloadClick:function(e){var t=this.selectedModel.get("id");C.DB("metrics").trackClick({page:Z.jF,firstRun:!0,action:w.SA,platform:this.downloadType,os:t}),this.hide()}});var ce=n(6638),de=Object.defineProperty,ue=Object.prototype.hasOwnProperty,pe=Object.getOwnPropertySymbols,me=Object.prototype.propertyIsEnumerable,he=(e,t,n)=>t in e?de(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ge=(e,t)=>{for(var n in t||(t={}))ue.call(t,n)&&he(e,n,t[n]);if(pe)for(var n of pe(t))me.call(t,n)&&he(e,n,t[n]);return e};const ye="app/restoreDefaultDeviceSettings",ve="app/downloadServer",fe="app/discoverServers",be="app/dismissUnclaimedServer",Ie="app/redirectToRoute",Se="app/redirectToUrl",Me="app/toggleFullscreen",Ee="app/selectAudioDevice",Pe="app/updateAudioDevices",De="app/populateCloudServer",Ce="app/updateNavigationHistory",we="app/updateAvailable",Ze=(0,s.Z)(ye),Te=((0,s.Z)(ve),(0,s.Z)(fe)),Ne=(0,s.Z)(be),Oe=(0,s.Z)(Ie),Ae=(0,s.Z)(Se),xe=(0,s.Z)(Ee),je=((0,s.Z)(Pe),(0,s.Z)(De)),Le=(0,s.Z)(Ce),ke=(0,s.Z)(we),Re=(0,s.Z)(Me,(e=>({isFullscreen:!0}))),ze=(0,s.Z)(Me,(e=>({isFullscreen:!1}))),Ue={[a.v4]:a.CC[a.v4],[a.kO]:a.CC[a.kO],[a.dC]:a.CC[a.dC],[a.On]:a.CC[a.On],[a.eS]:a.CC[a.eS],[a.rP]:a.CC[a.rP],[a.i]:a.CC[a.i],[a.D8]:a.CC[a.D8],[a.x]:a.CC[a.x],[a.M8](e,t){v(e.get("deviceSettings"),t)},[ye](e){const t=e.get("deviceSettings");!function(e,{isUserRestricted:t}){const n={shouldSyncSettings:e.get("shouldSyncSettings")};t&&(n.autoLogin=e.get("autoLogin")),e.restoreDefaults(n)}(t,{isUserRestricted:e.get("user").get("restricted")}),v(t,{})},[ve](e,t){const n=new le({downloadType:t});o.Z.trigger("show:modal",n)},[fe](e){o.Z.trigger("discover:servers")},[be](e,t,n){const{machineIdentifier:r}=t,i=e.get("deviceSettings").get("dismissedUnclaimedServers");i[r]||n((0,a.T5)({dismissedUnclaimedServers:ge(ge({},i),{[r]:!0})}))},[a.f9](e,t){const{machineIdentifier:n}=t;e.get("servers").findServer(n).then((t=>{e.set({primaryServer:t,isWaitingForPrimaryServer:!1})}),(()=>{l.Z.warn("Unable to set primary server to:",n)}))},[a.gC](e){e.set({primaryServer:null,isWaitingForPrimaryServer:!0})},[a.Oq](e,t){const{machineIdentifier:n}=t;e.get("servers").findServer(n).done((t=>{!t.get("isOutOfDate")&&t.get("isPrimaryEligible")&&e.get("primaryServer")!==t&&e.set({primaryServer:t,isWaitingForPrimaryServer:!1})}))},[a.RK](e,t,n){const r=function(e,t=!0){let n="";return e&&("string"==typeof e.pathname?n=e.query?d.Z.join(e.pathname,e.query):e.pathname:"string"==typeof e&&(n=e)),n&&t&&0!==n.indexOf("#!")&&(n="#!"+n),n}(t);t.replace?window.location.replace(r):window.location.href=r},[a.$v](e,t,n){const{key:r,replace:i}=t,s=(0,c.SW)(e,t),o=(0,c.js)(e,t),l=(0,ce.Z)(s.toJSON(),o.toJSON(),r);l&&n((0,a.c4)({pathname:l,replace:i}))},[Ie](e,{route:t,params:n,replace:r}){i().defer((()=>{(0,b.Z)(t,n,r)}))},[Se](e,{url:t,replace:n}){n?window.location.replace(t):window.location.href=t},[Me](e,{isFullscreen:t}){e.get("isFullscreen")!==t&&e.set("isFullscreen",t)},[we](e,{isUpdateAvailable:t}){e.get("isUpdateAvailable")!==t&&e.set("isUpdateAvailable",t)},[Ee](){},[Pe](){},[De](e){e.get("cloudServer").populate()},[Ce](e,t){const{location:n}=t,r=e.get("history");r.length&&r[r.length-1].pathname===n.pathname&&r[r.length-1].search===n.search||e.set("history",[...r,{pathname:n.pathname,search:n.search}])},[a.Nx](e,{replace:t}={}){const n=e.get("history");if(n.length<2)e.set("history",[]),(0,b.Z)("home",{},t);else{const r=n.slice(0,n.length-1);e.set("history",r);const i=r[r.length-1];t?f.Z.replace(i):f.Z.push(i)}}}},6055:(e,t,n)=>{"use strict";n.d(t,{FX:()=>a,A$:()=>s,L7:()=>o,OS:()=>l,GX:()=>c});var r=n(40807),i=n(3265);const a=(0,r.Z)("downloads/cancelDownloadActivity"),s=(0,r.Z)("downloads/createDownloadSubscription"),o=((0,r.Z)("downloads/deleteDownloadState"),(0,r.Z)("downloads/deleteDownloadSubscription")),l=((0,r.Z)("downloads/fetchDownloadSubscriptions"),(0,r.Z)("downloads/populateDownloadSubscriptions"),(0,r.Z)("downloads/processDownloadSubscriptions"),(0,r.Z)("downloads/retryDownloadSubscription")),c=((0,r.Z)("downloads/saveDownloadSubscription"),(0,r.Z)("downloads/syncDownloadViewstate"),(0,r.Z)("downloads/updateDownloadState"),(0,r.Z)("downloads/refreshDownloads"));(0,r.Z)("downloads/getDownloadDecision"),(0,i.Z)({})},32827:(e,t,n)=>{"use strict";n.d(t,{Z:()=>h});var r=n(50361),i=n.n(r),a=n(95688),s=n(60316),o=n(28440),l=Object.defineProperty,c=Object.prototype.hasOwnProperty,d=Object.getOwnPropertySymbols,u=Object.prototype.propertyIsEnumerable,p=(e,t,n)=>t in e?l(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,m=(e,t)=>{for(var n in t||(t={}))c.call(t,n)&&p(e,n,t[n]);if(d)for(var n of d(t))u.call(t,n)&&p(e,n,t[n]);return e};function h(e,t){const n=(0,o.SW)(e,{serverEntityID:t.server.entityID}),r=(0,o.js)(e,{providerEntityID:t.provider.entityID});let l,c;t.itemServer&&(l=(0,o.SW)(e,{serverEntityID:t.itemServer.entityID})),t.itemProvider&&(c=(0,o.js)(e,{providerEntityID:t.itemProvider.entityID}));const d=i()(m(m({},t.metadataItem),t.metadataItemState));if(d.source){const{serverIdentifier:e,providerIdentifier:n}=(0,s.Z)(d.source);e===t.server.machineIdentifier&&n===t.provider.identifier&&delete d.source}const u=new a.Z(d,{server:n,provider:r,identifier:t.provider.identifier,parse:!0});null==u._populatedParams&&(u._populatedParams={});const p={includeExternalMedia:1};return d.preferences&&(p.includePreferences=1),d.extras&&(p.includeExtras=1),d.stations&&(p.includeStations=1),d.onDeck&&(p.includeOnDeck=1),d.popularLeaves&&(p.includePopularLeaves=1),d.Concert&&(p.includeConcerts=1),d.Chapter&&(p.includeChapters=1),Object.assign(u._populatedParams,p),{serverModel:n,providerModel:r,itemServerModel:l,itemProviderModel:c,metadataItemModel:u}}},15902:(e,t,n)=>{"use strict";n.d(t,{Z:()=>h});var r=n(19755),i=n.n(r),a=n(93966),s=n(88050),o=n(84936),l=Object.defineProperty,c=Object.prototype.hasOwnProperty,d=Object.getOwnPropertySymbols,u=Object.prototype.propertyIsEnumerable,p=(e,t,n)=>t in e?l(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,m=(e,t)=>{for(var n in t||(t={}))c.call(t,n)&&p(e,n,t[n]);if(d)for(var n of d(t))u.call(t,n)&&p(e,n,t[n]);return e};function h(e,t){const{libraryID:n,libraryType:r,cancel:l,force:c,allowMetrics:d,metricsProperties:u={}}=t,p=c?{force:1}:void 0,h=o.Z.join(["/library/sections",n,"refresh"],p),g=e.getXHROptions(h,{type:l?"DELETE":"GET"});if(d){let e;e=l?s.fV:c?s.uz:s.i0,(0,a.DB)("metrics").trackClick(m(m({},u),{action:e,type:"all"===n?"all":r}))}return i().ajax(g).promise()}},19378:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d});var r=n(19755),i=n.n(r),a=n(10723),s=n(40498),o=n(68002),l=n(69881);function c(e,t){const n=e.title.toUpperCase(),r=t.title.toUpperCase();return n<r?-1:n>r?1:0}function d(e,t){const n=Array.isArray(e)?e:[e],r=i().Deferred(),d={[s.ZO]:[],[s.GP]:[]},u={[l.MOVIE]:{[s.ZO]:[],[s.GP]:[]},[l.SHOW]:{[s.ZO]:[],[s.GP]:[]},[l.ARTIST]:{[s.ZO]:[],[s.GP]:[]}},p=n.reduce(((e,t)=>(t.get("isConnected")&&e.push(t.get("sections")),e)),[]),m=p.map((e=>e.populate({scope:t})));return(0,o.Z)(m).done((()=>{p.forEach((e=>{e.forEach((e=>{const t=e.get("type");u[t]&&[s.ZO,s.GP].forEach((t=>{const n=new a.Z({filter:t},{server:e.server,section:e}).get("options");d[t].push(n)}))}))})),(0,o.Z)([...d[s.ZO].map((e=>e.fetch({scope:t}))),...d[s.GP].map((e=>e.fetch({scope:t})))]).done((()=>{d[s.ZO].forEach((e=>{const t=e.section.get("type");e.toJSON().forEach((e=>{u[t][s.ZO].find((t=>t.value===e.value))||u[t][s.ZO].push(e)}))})),d[s.GP].forEach((e=>{const t=e.section.get("type");e.toJSON().forEach((e=>{u[t][s.GP].find((t=>t.value===e.value))||u[t][s.GP].push(e)}))})),Object.keys(u).forEach((e=>{const t=u[e];t[s.ZO].sort(c),t[s.GP].sort(c)})),r.resolve(u)}))})),r.promise()}},6797:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(40498);function i(e,t,n,i){const a={};return e&&e.length&&(a[r.ZO]=e.join(",")),t&&t.length&&(a[r.Jm]=t.join(",")),n&&n.length&&(a[r.GP]=n.join(",")),i&&i.length&&(a[r.Bi]=i.join(",")),a}function a(e){const{allowSync:t,allowCameraUpload:n,allowTuners:r,moviesContentRatings:a,moviesExcludeContentRatings:s,moviesLabels:o,moviesExcludeLabels:l,televisionContentRatings:c,televisionExcludeContentRatings:d,televisionLabels:u,televisionExcludeLabels:p,musicLabels:m,musicExcludeLabels:h}=e,g={};return null!=t&&(g.allowSync=t),null!=n&&(g.allowCameraUpload=n),null!=r&&(g.allowTuners=Number(r)),null==a&&null==s&&null==o&&null==l||(g.filterMovies=i(a,s,o,l)),null==c&&null==d&&null==u&&null==p||(g.filterTelevision=i(c,d,u,p)),null==m&&null==h||(g.filterMusic=i(null,null,m,h)),g}},11491:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(19755),i=n.n(r),a=n(93966);function s(e,t){const n=(0,a.DB)("appModel").get("cloudServer"),r=function(e){if(!e)return null;const[t,n]=e.split(","),r=t.substr(5),i=window.atob(n),a=[];for(let e=0;e<i.length;e++)a.push(i.charCodeAt(e));const s=new Uint8Array(a);return new window.Blob([s],{type:r})}(e),s=new window.FormData;s.append("avatar",r),t&&s.append("userId",t);const o=n.getXHROptions("/api/v2/user",{type:"PUT",processData:!1,contentType:!1,data:s});return i().ajax(o)}},73862:(e,t,n)=>{"use strict";n.r(t),n.d(t,{ANALYZE_METADATA_ITEM:()=>dt,CHANGE_METADATA_ITEM_FIELD:()=>Pt,CLEAR_METADATA_SETTINGS_ERROR:()=>wt,DELETE_METADATA_ITEM:()=>ut,DELETE_METADATA_ITEM_VERSION:()=>pt,DOWNLOAD_METADATA_ITEM_VERSION:()=>mt,EDIT_METADATA_ITEM:()=>ht,FIX_METADATA_ITEM_MATCH:()=>gt,GET_METADATA_ITEM_INFO:()=>yt,MODIFY_SMART_PLAYLIST:()=>xt,OPTIMIZE_METADATA_ITEM:()=>ft,RATE_METADATA_ITEM:()=>bt,REDISPATCH_LEGACY_METADATA_ACTION:()=>ct,REFRESH_METADATA_ITEM:()=>It,SET_DOWNLOAD_SUBSCRIPTION_ID:()=>Nt,SPLIT_METADATA_ITEM_APART:()=>St,SYNC_METADATA_ITEM:()=>Mt,UNMATCH_METADATA_ITEM:()=>Et,UNSET_DOWNLOAD_SUBSCRIPTION_ID:()=>Ot,UPDATE_DOWNLOAD_AVAILABILITY:()=>Zt,UPDATE_DOWNLOAD_AVAILABILITY_FROM_DELETED_TIMELINE:()=>Tt,UPDATE_DOWNLOAD_SUBSCRIPTION_IDS:()=>At,UPDATE_METADATA_ITEM_PLAYED_STATUS:()=>vt,UPDATE_METADATA_ITEM_REFRESHING_STATE:()=>Dt,UPDATE_METADATA_SETTINGS:()=>Ct,analyzeMetadataItem:()=>Lt,changeMetadataItemField:()=>Kt,clearMetadataSettingsError:()=>Jt,deleteMetadataItem:()=>kt,deleteMetadataItemVersion:()=>Rt,downloadMetadataItemVersion:()=>zt,editMetadataItem:()=>Ut,favoriteMetadataItem:()=>Xt,fixMetadataItemMatch:()=>Vt,getMetadataItemInfo:()=>Bt,markMetadataItemPlayed:()=>nn,markMetadataItemUnplayed:()=>tn,metadataActionHandlers:()=>un,modifySmartPlaylist:()=>cn,optimizeMetadataItem:()=>_t,rateMetadataItem:()=>Ht,redispatchLegacyMetadataAction:()=>jt,refreshMetadataItem:()=>Qt,setDownloadSubscriptionID:()=>rn,splitMetadataItemApart:()=>Gt,syncMetadataItem:()=>Wt,unfavoriteMetadataItem:()=>en,unmatchMetadataItem:()=>Yt,unsetDownloadSubscriptionID:()=>an,updateDownloadAvailability:()=>sn,updateDownloadAvailabilityFromDeletedTimeline:()=>on,updateDownloadSubscriptionIDs:()=>ln,updateMetadataItemPlayedStatus:()=>Ft,updateMetadataItemRefreshingState:()=>qt,updateMetadataSettings:()=>$t});var r=n(19755),i=n.n(r),a=n(93966),s=n(94018),o=n(5513),l=n(40807),c=n(34583),d=n(49897),u=n(95374),p=n(84936),m=n(57054);var h=n(56054),g=n(11203),y=n(32901),v=n(88050),f=n(32707),b=n(32846),I=n(34796),S=n(24079),M=n(5562),E=n(26512),P=n(32827),D=n(517),C=n(13469),w=n.n(C),Z=n(38892),T=n(43614),N=n.n(T);const O=Z.Z.extend({name:"downloadVersionModal",template:N(),serializeData:function(){var e=this.model;return{defaultLinkTarget:"_self",mediaItems:w().map(this.model.get("Media"),(function(t,n){var r=w().clone(t);r.downloadUrl=e.getDownloadUrl(n);var i=e.getFilepath(n);return i&&(r.downloadName=p.Z.getLastSegment(i)),r}))}},onClick:function(){}});var A=n(43593),x=n(10612),j=n(41208),L=n(79317),k=n(46140),R=n.n(k);const z=L.Z.extend({template:R(),serializeData(){return this.model.get("preferences").toJSON()},flushChanges(){const e=this.ui.form.serializeArray(),t=this.model.get("preferences");e.forEach((e=>{const n=t.get(e.name),r=n.clone();r.parseAndSetValue(e.value),r.get("value")!==n.get("value")&&t.add(r,{merge:!0})}))}});var U=n(21288),V=n(68121),B=n.n(V),F={playlist:["general","advanced"]};const _=U.Z.extend({mixins:[x.Z],name:"editPlaylistModal",className:"edit-metadata-modal modal modal-lg fade",template:B(),panes:{general:{constructor:j.Z},advanced:{constructor:z}},panesModel:"tempModel",events:w().extend({"click .change-pane-btn":"onChangePaneClick","click .save-btn":"onFormSubmit","submit .edit-metadata-form":"onFormSubmit"},U.Z.prototype.events),ui:{saveBtn:".save-btn",message:".form-message",navPane:".modal-nav-pane",loadingIndicator:".modal-body-pane .loading-inline"},regions:{paneRegion:".pane-region"},onlyAfterRender:["saveChanges","showPane","showNav"],initialize:function(e){U.Z.prototype.initialize.apply(this,arguments);var t=e.model;this.model=t;var n=t.fetch({usePopulatedParams:!0,data:{includePreferences:"1"}});(n=n.done(w().bind((function(){this.tempModel=t.clone(),this.render(),this.showNav(),this.showPane(e.selectedPane||"general"),this.listenTo(b.Z,"shortcut:save",this.saveChanges)}),this))).fail(w().bind((function(){this.ui.message.text((0,M.Z)("There was an error editing this item")),this.ui.loadingIndicator.addClass("hidden")}),this))},serializeData:function(){var e=F[this.model.get("type")]||F.movie;this.model.has("preferences")||(e=w().difference(e,["advanced"]));var t=w().reduce(e,(function(e,t){return e[t]=!0,e}),{}),n=w().escape((0,M.Z)("Edit {1}",this.model.get("title")));return{item:this.model.toJSON(),panes:t,selectedPane:this.selectedPane,paneTitle:n}},paneConstructorArg:function(){return{type:this.selectedPane}},showNav:function(){this.ui.navPane.removeClass("hidden")},saveChanges:function(){var e=this.ui.saveBtn,t=this.ui.message;if(!e.isDisabled()){t.text(""),this.paneRegion.currentView.flushChanges();var n=w().reduce(this.model.changedAttributes(this.tempModel.attributes),((e,t,n)=>(this.model.syncedAttrs[n]&&(e[n]=t),e)),{});e.addClass("active");var r=[];w().isEmpty(n)||r.push(this.model.save(n)),r.push(this.savePreferences());var a=i().when.apply(i(),r);a.done(w().bind((function(){this.hide()}),this)),a.fail((function(){t.text((0,M.Z)("Your changes could not be saved."))})),a.always((function(){e.removeClass("active")}))}},savePreferences:function(){var e=this.tempModel.get("preferences");if(!e||!e.length)return i().Deferred().resolve().promise();var t=this.model,n=p.Z.join(["/library/metadata",t.get("ratingKey"),"prefs"],e.getSaveParams()),r=this.model.server.getXHROptions(n,{type:"PUT"}),a=i().ajax(r);return a.done((function(){var n=t.get("preferences");e.forEach((function(e){n.get(e.id).set("value",e.get("value"))}))})),a},onPaneShow:function(e,t){this.listenTo(t,"focusSubmit",(function(){this.ui.saveBtn.focus()}))},onPaneHide:function(e,t){t.flushChanges(),this.stopListening(t)},onFormSubmit:function(e){e.preventDefault(),this.saveChanges()}});var H=n(65652),Q=n(85213),G=n.n(Q);const W=H.Z.ItemView.extend({id:"auto-match-dropdown",tagName:"span",className:"dropdown",template:G(),collectionEvents:{reset:"render"},events:{"click .auto-match-agent":"onClick"},serializeData:function(){return{agents:this.collection.toJSON()}},onClick:function(e){e.preventDefault();var t=i()(e.currentTarget).data("id"),n=this.model.agents.get(t);s.Z.execute("autoMatch",{item:this.model,agent:n})}});var Y=n(46453),K=n(17146),q=n(41105),$=n(69881),J=n(73913),X=n(43270),ee=n(93470),te=n.n(ee),ne=n(36e3),re=n.n(ne);const ie=new Set([Y.WX,Y.Ut,Y.Zb]);function ae(e){return w().map(e,(function(e){return'<option value="'+e.value+'"'+(e.selected?" selected":"")+">"+e.label+"</option>"})).join("\n")}function se(e,t){return e.map((function(e){return{label:e.get("name"),value:e.get("identifier"),selected:t===e.get("identifier")}}))}function oe(e,t){return e?e.get("languages").map((function(e){return{label:e.get("name"),value:e.id,selected:e.id===t}})):[]}const le=H.Z.ItemView.extend({template(e){const{item:t,scannerIdentifier:n}=e;return t.type===$.ALBUM&&n===K.c3?te()(e):re()(e)},ui:{agentSelect:"#match-search-agent",languageSelect:"#match-search-language"},events:{"change #match-search-agent":"onAgentSelectChange"},onlyAfterRender:["updateAgents","updateLanguages"],initialize:function(){var e=(0,q.Z)(this.model).get("agent"),t=this.setupAgents(e);t.then(w().bind(this.updateAgents,this,e)),t.then(w().bind(this.updateLanguages,this,e))},serializeData:function(){var e=(0,q.Z)(this.model),t=e.get("agent"),n=this.model.agentsProxy.findWhere({identifier:t});return{item:this.model.toJSON(),agents:se(this.model.agentsProxy,t),scannerIdentifier:e.get("scanner"),languages:oe(n)}},setupAgents:function(e){if(this.model.agentsPromise)return this.model.agentsPromise;var t=(0,q.Z)(this.model),n=t.getSectionType(),r=new J.Z([],{server:this.model.server,mediaTypeID:n.typeID}),i=r.populate({reset:!0,cancelable:!0});return i.then((()=>{var i=function(e,t){if(!e)return[];var n=ie.has(t);return e.filter((e=>{const t=ie.has(e.get("identifier"));return n?t:!t}))}(r,t.get("agent"));this.model.agents=r.clone(i);var a=n.exclusiveAgents;this.model.agentsProxy=new X.Z(this.model.agents,a,e)})),this.model.agentsPromise=i,this.model.agentsPromise},updateAgents:function(e){this.ui.agentSelect.html(ae(se(this.model.agentsProxy,e)))},updateLanguages:function(e){var t=this.model.agentsProxy.findWhere({identifier:e});if(e){var n=(0,q.Z)(this.model).get("language");this.ui.languageSelect.html(ae(oe(t,n)))}else this.ui.languageSelect.empty()},onAgentSelectChange:function(e){this.updateLanguages(e.currentTarget.value)},onModalClose:function(){this.model.agents=null,this.model.agentsProxy=null,this.model.agentsPromise=null}});var ce=n(72601),de=n(21009),ue=n(66440),pe=n.n(ue);const me=H.Z.ItemView.extend({template:pe()}),he={collectionEvents:{"update reset sort":"onTracksUpdate"},markDiscNumbers:function(){if(this.collection.server.supports("premiumMusic")){var e=this.collection.reduce((function(e,t,n){var r=t.get("parentIndex");return r!==e.lastDiscNumber&&(e.markers[n]=r,e.lastDiscNumber=r,e.count+=1),e}),{markers:{},lastDiscNumber:null,count:0});return this.discMarkers=e.markers,e.count}},onRender:function(){1!==this.markDiscNumbers()&&w().each(this.discMarkers,w().bind((function(e,t){this.$("li:eq("+t+") .disc-number").removeClass("hidden")}),this))},onTracksUpdate:function(){this.render()}};var ge=n(87507),ye=n.n(ge),ve=Object.defineProperty,fe=Object.prototype.hasOwnProperty,be=Object.getOwnPropertySymbols,Ie=Object.prototype.propertyIsEnumerable,Se=(e,t,n)=>t in e?ve(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Me=(e,t)=>{for(var n in t||(t={}))fe.call(t,n)&&Se(e,n,t[n]);if(be)for(var n of be(t))Ie.call(t,n)&&Se(e,n,t[n]);return e};const Ee=H.Z.ItemView.extend({tagName:"li",template:ye(),className:"striped-list-item",serializeData(){const e=this.model.toJSON();return Me(Me({},e),{escapedParentIndex:w().escape(e.parentIndex)})}}),Pe=de.Z.extend({mixins:[he],tagName:"ul",itemView:Ee,className:"list"}),De=/\d{4}/,Ce=function({disambiguation:e="",lifespanBegin:t="",lifespanEnd:n="",area:r="",beginArea:i=""}){const a=t.match(De),s=n.match(De),o=[i,r,s?`${a}-${s}`:a].filter(Boolean);return e?[e,o.length?`(${o.join(", ")})`:null].filter(Boolean).join(" "):o.join(", ")};var we=n(54536),Ze=n.n(we);const Te=H.Z.Layout.extend({tagName:"li",className:"striped-list-item match-result-list-item row",template:Ze(),ui:{matchExtendedInfo:".match-extended-info"},regions:{childrenRegion:".children-region"},events:{"click .match-result":"onClick"},initialize:function(e){this.item=e.item},onRender:function(){!this.model.get("summary")||this.model.get("type")!==$.MOVIE&&this.model.get("type")!==$.GAME&&this.model.get("type")!==$.SHOW||this.ui.matchExtendedInfo.removeClass("hidden");var e=this.model.get("children");if(e){var t=e.first();t&&t.get("type")===$.TRACK&&(this.ui.matchExtendedInfo.removeClass("hidden"),this.childrenRegion.show(new Pe({collection:e})))}},onClick:function(e){e.preventDefault(),s.Z.execute("match",{item:this.item,guid:this.model.id,name:this.model.get("name"),year:this.model.get("year"),children:this.model.get("children")})},serializeData(){const e=this.model.toJSON();return{year:e.year,parentName:e.parentName,name:e.name,disambiguationInfo:Ce(e),thumb:e.thumb,normalizedScore:e.normalizedScore,escapedNormalizedScore:w().escape(e.normalizedScore),summary:e.summary}}}),Ne=de.Z.extend({tagName:"ul",className:"list match-result-list",itemView:Te,emptyView:me});var Oe=n(77410),Ae=n.n(Oe);const xe=H.Z.Layout.extend({template:Ae(),regions:{resultRegion:".result-region"},onlyAfterRender:["updateResults"],initialize:function(){this.setupResults();var e=(0,q.Z)(this.model),t={manual:1},n={reset:!0,timeout:0,data:t};/com\.plexapp\.agents\.none:\/\//.test(this.model.get("guid"))&&w().extend(n,{data:w().extend(t,{agent:e.get("agent"),language:e.get("language")}),processData:!0}),this.model.results.populate(n).then(w().bind(this.updateResults,this))},setupResults:function(){if(!this.model.results){var e=this.model.results||new ce.Z([],{server:this.model.server,parent:this.model});this.model.results=e}},updateResults:function(){this.resultRegion.show(new Ne({collection:this.model.results,itemViewOptions:{item:this.model}}))},onModalClose:function(){this.model.results=null}});var je=n(56294),Le=n.n(je);const ke=U.Z.extend({mixins:[x.Z],name:"fixIncorrectMatch",className:"fix-incorrect-match-modal modal modal-lg fade",template:Le(),panes:{form:{constructor:le},results:{constructor:xe}},ui:{searchBtn:".search-btn"},regions:{paneRegion:".pane-region",autoMatchDropdownRegion:".auto-match-dropdown-region"},events:w().extend({"click .auto-match-agent":"hide","click .match-result":"hide","click .search-options-btn":"onSearchOptionsClick","click .cancel-btn":"onCancelClick","click .search-btn":"onSearchClick","submit #fix-incorrect-match-form":"onSearchSubmit"},U.Z.prototype.events),onlyAfterRender:["showPane","updateSearchBtn","showAutoMatchPicker"],initialize:function(){U.Z.prototype.initialize.apply(this,arguments),le.prototype.setupAgents.apply(this).then((()=>{this.showAutoMatchPicker()})),xe.prototype.setupResults.apply(this),this.showPane("results")},serializeData:function(){return{location:this.model.getLocation(),showNavigation:!this.model.isPlexMusicItem()}},updateSearchBtn:function(e){this.ui.searchBtn.toggleClass("disabled","form"!==e)},showAutoMatchPicker:function(){this.autoMatchDropdownRegion.show(new W({model:this.model,collection:this.model.agentsProxy}))},fetchResults:function(e){var t=w().reduce(e.serializeArray(),(function(e,t){return e[t.name]=t.value,e}),{manual:1});this.model.results.fetch({reset:!0,data:t,processData:!0,timeout:0})},bindings:{".modal-title-text":{modelAttribute:"guid",formatter:function(e){return/com\.plexapp\.agents\.none:\/\//.test(e)?(0,M.Z)("Match"):(0,M.Z)("Fix Match")}}},onRender:function(){U.Z.prototype.onRender.apply(this,arguments)},onPaneShow:function(e){this.updateSearchBtn(e)},onSearchOptionsClick:function(e){e.preventDefault(),this.showPane("form")},onCancelClick:function(e){e.preventDefault(),"results"!==this.selectedPane?this.showPane("results"):this.hide()},onSearchClick:function(e){e.preventDefault();var t=i()(e.currentTarget);if(!t.isDisabled()){var n=t.closest("form");this.fetchResults(n),this.showPane("results")}},onSearchSubmit:function(e){e.preventDefault();var t=i()(e.currentTarget);t.find("search-btn").isDisabled()||(this.fetchResults(t),this.showPane("results"))}});var Re=n(35424),ze=n(25168),Ue=n(7378),Ve=n(72369),Be=n(10825);const Fe={h264:10,hevc:30},_e=function(e,t){if(null==e||Number.isNaN(e))return"";const n=parseInt(e,10),r=Fe[t||"h264"];return Number.isFinite(n)&&Number.isFinite(r)?(n/r).toFixed(1):String(e)};var He=n(43534),Qe=n(19816);const Ge=function(e){let t="";for(let n=0,r=e.length;n<r;n++){const r=e.charAt(n),i=r.toUpperCase();t+=0===n?i:r===i?" "+i:r}return t};var We=n(82941),Ye=n.n(We),Ke=["id","key","index","videoCodec","audioCodec","audioChannels","default","selected","languageCode","accessible","exists","provider","lines","minLines","follow","requiredBandwidths","deepAnalysisVersion","deepAnalysisDate","Overlay"],qe={size:Ve.Z,duration:Ue.Z,codec:He.Z,format:He.Z,container:He.Z,videoResolution:Be.Z,bitrateMode:He.Z,accessible:Qe.Z,exists:Qe.Z,optimizedForStreaming:Qe.Z,timed:Qe.Z,file:p.Z.getLastSegment},$e={optimizedForStreaming:"Web Optimized",has64bitOffsets:"Has 64bit Offsets",cabac:"CABAC",postURL:"URL",codecID:"Codec ID"},Je={frameRate:" fps",dialogNorm:" dB",bitrate:" kbps",samplingRate:" Hz"},Xe=function(e,t){var n={properties:[]};for(var r in e)if(r!==t&&-1===w().indexOf(Ke,r)){var i=$e[r],a=e[r];"level"===r&&(a=_e(a,e.codec)),qe[r]&&(a=qe[r](a)),a&&(Je[r]&&(a+=Je[r]),i||(i=Ge(r)),n.properties.push({name:i,value:a}))}return t&&e&&(n[t]=e[t]),n};function et(e){return w().map(e.get("Media"),(function(e){return w().extend(Xe(e,"Part"),{Part:w().map(e.Part,(function(e){return w().extend(Xe(e,"Stream"),{file:e.file,exists:!1!==e.exists,accessible:!1!==e.accessible,Stream:(t=e.Stream,n=w().reject(t,(function(e){return e.id===ze.H})),r=w().sortBy(n,"streamType"),w().map(r,(function(e){return Xe(e,"streamType")})))});var t,n,r}))})}))}const tt=U.Z.extend({name:"mediaInfoModal",className:"media-info-modal modal modal-lg fade",template:Ye(),ui:{scroller:".modal-body-scroll",files:".files > ul",stickyProps:".media > .props, .part > .props"},events:w().extend({"click .delete-btn":"onDeleteClick"},U.Z.prototype.events),modelEvents:{"change:Media":"onMediaChange"},initialize:function(e){U.Z.prototype.initialize.apply(this,arguments),this.bindAllWhenRendered("onMediaChange","onScroll"),this.loading=!1,this.media=et(this.model),this.loading=!0,this.model.fetch({usePopulatedParams:!0,data:{checkFiles:1,asyncCheckFiles:0}}).always(this.whenRendered((function(){this.model.changed.hasOwnProperty("Media")||this.updateMedia()})))},serializeData:function(){var e=this.model.get("key"),t=a.DB("appModel").get("user"),n=this.model.server;return this.model.get("isLibraryItem")&&(e=p.Z.join(e,{checkFiles:1,includeAllConcerts:1,includeBandwidths:1,includeChapters:1,includeChildren:1,includeConcerts:1,includeExtras:1,includeFields:1,includeGeolocation:1,includeLoudnessRamps:1,includeMarkers:1,includeOnDeck:1,includePopularLeaves:1,includePreferences:1,includeRelated:1,includeRelatedCount:1,includeReviews:1,includeStations:1})),{key:e,url:this.model.server.resolveUrl(e,{appendToken:!0}),media:this.media,hasFiles:this.hasFiles(),hasStreams:this.hasStreams()||this.loading,showDeleteFile:n.get("isFullOwnedServer")&&n.get("allowMediaDeletion")&&n.supports("specificMediaDeletion"),showFilepath:!n.get("shared")||t.isNinja(),loading:this.loading}},updateMedia:function(){this.loading=!1,this.rerender=!0,this.ui.scroller.off("scroll",this.onScroll),this.media=et(this.model),this.render()},hasFiles:function(){return!!w().chain(this.media).pluck("Part").flatten().pluck("file").compact().size().value()},hasStreams:function(){return!!w().chain(this.media).pluck("Part").flatten().pluck("Stream").flatten().size().value()},onRender:function(){U.Z.prototype.onRender.apply(this,arguments),this.ui.scroller.on("scroll",this.onScroll),this.$el.tooltip({selector:".files .label",placement:"bottom"})},onClose:function(){this.ui.scroller.off("scroll",this.onScroll)},onMediaChange:function(){this.isHidden||(this.model.get("Media").length?this.updateMedia():this.hide())},onDeleteClick:function(e){e.preventDefault(),s.Z.execute("deleteMediaItem",{item:this.model,index:i()(e.currentTarget).data("media-item")})},onScroll:function(){var e=this.ui.scroller.scrollTop(),t=this.ui.scroller.offset().top;this.ui.files.length&&(t+=parseInt(this.ui.files.css("margin-bottom"),10)),t<0?window.setTimeout(this.onScroll,500):this.ui.stickyProps.each((function(){var n=i()(this),r=n.parent().height()-n.height(),a=e-this.parentNode.offsetTop,s=Math.min(Math.max(a,0),r);s&&s===a?(n.addClass("sticky"),n.css("top",t)):(n.removeClass("sticky"),n.css("top",s))}))}});var nt=n(74527),rt=Object.defineProperty,it=Object.prototype.hasOwnProperty,at=Object.getOwnPropertySymbols,st=Object.prototype.propertyIsEnumerable,ot=(e,t,n)=>t in e?rt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,lt=(e,t)=>{for(var n in t||(t={}))it.call(t,n)&&ot(e,n,t[n]);if(at)for(var n of at(t))st.call(t,n)&&ot(e,n,t[n]);return e};const ct="metadata/redispatchLegacyMetadataAction",dt="metadata/analyzeMetadataItem",ut="metadata/deleteMetadataItem",pt="metadata/deleteMetadataItemVersion",mt="metadata/downloadMetadataItemVersion",ht="metadata/editMetadataItem",gt="metadata/fixMetadataItemMatch",yt="metadata/getMetadataItemInfo",vt="metadata/updateMetadataItemPlayedStatus",ft="metadata/optimizeMetadataItem",bt="metadata/rateMetadataItem",It="metadata/refreshMetadataItem",St="metadata/splitMetadataItemApart",Mt="metadata/syncMetadataItem",Et="metadata/unmatchMetadataItem",Pt="metadata/changeMetadataItemField",Dt="metadata/updateMetadataItemRefreshingState",Ct="metadata/UPDATE_METADATA_SETTINGS",wt="CLEAR_METADATA_SETTINGS_ERROR",Zt="metadata/updateDownloadAvailability",Tt="metadata/updateDownloadAvailabilityFromDeletedTimeline",Nt="metadata/setDownloadSubscriptionID",Ot="metadata/unsetDownloadSubscriptionID",At="metadata/updateDownloadSubscriptionIDs",xt="metadata/modifySmartPlaylist",jt=(0,l.Z)(ct),Lt=(0,l.Z)(dt),kt=(0,l.Z)(ut),Rt=(0,l.Z)(pt),zt=(0,l.Z)(mt),Ut=(0,l.Z)(ht),Vt=(0,l.Z)(gt),Bt=(0,l.Z)(yt),Ft=(0,l.Z)(vt),_t=(0,l.Z)(ft),Ht=(0,l.Z)(bt),Qt=(0,l.Z)(It),Gt=(0,l.Z)(St),Wt=(0,l.Z)(Mt),Yt=(0,l.Z)(Et),Kt=(0,l.Z)(Pt),qt=(0,l.Z)(Dt),$t=(0,l.Z)(Ct),Jt=(0,l.Z)(wt),Xt=(0,l.Z)(bt,(e=>lt(lt({},e),{rating:I.jt}))),en=(0,l.Z)(bt,(e=>lt(lt({},e),{rating:I.LX}))),tn=(0,l.Z)(vt,(e=>lt(lt({},e),{played:!1}))),nn=(0,l.Z)(vt,(e=>lt(lt({},e),{played:!0}))),rn=(0,l.Z)(Nt),an=(0,l.Z)(Ot),sn=(0,l.Z)(Zt),on=(0,l.Z)(Tt),ln=(0,l.Z)(At),cn=(0,l.Z)(xt);function dn(e,t,n,r={}){n&&(0,a.DB)("metrics").trackClick(lt({page:n,action:e,type:t.get("type")},r))}const un={[g.$T]:g.ky[g.$T],[g.se]:g.ky[g.se],[g.Y3]:g.ky[g.Y3],[g.IK]:g.ky[g.IK],[g.vG]:g.ky[g.vG],[g.Fl]:g.ky[g.Fl],[g.wS]:g.ky[g.wS],[g.Vf]:g.ky[g.Vf],[g.Ft]:g.ky[g.Ft],[ct](e,t,n){const{serverModel:r,providerModel:i,itemServerModel:a,itemProviderModel:s,metadataItemModel:o}=(0,P.Z)(e,t),l=t.legacyAction.type,c=t.legacyAction.payload,d=(null==c?void 0:c.metricsProperties)||{};n({type:l,payload:lt(lt({},c),{serverEntityID:r.entityID(),providerEntityID:i.entityID(),itemServerEntityID:a?a.entityID():null,itemProviderEntityID:s?s.entityID():null,metadataItemEntityID:o.entityID(),metricsPage:t.metricsPage,metricsProperties:lt(lt({},d),t.metricsProperties),skipClickMetrics:!0})})},[dt](e,t,n){const r=(0,D.$R)(e,t),i=t.metricsPage,a={allowMetrics:!!i,metricsProperties:{page:i}};(0,c.Z)(r,a).fail((e=>{n((0,y.wp)((0,M.Z)("There was a problem analyzing this item.")))}))},[mt](e,t){const n=(0,D.$R)(e,t),r=new O({model:n});b.Z.trigger("show:modal",r)},[ut](e,t){const n=(0,D.$R)(e,t),r=t.options||{},i=n.get("isPlaylist")?"deletePlaylist":"deleteItems";s.Z.execute(i,lt({item:n},r)),dn(v.yY,n,t.metricsPage)},[pt](e,t){const n=(0,D.$R)(e,t);s.Z.execute("deleteVersions",{item:n}),dn(v.yY,n,t.metricsPage)},[ht](e,t){const n=(0,D.$R)(e,t),r=n.get("isPlaylist")?new _({model:n}):new A.Z({model:n});b.Z.trigger("show:modal",r),dn(v.dm,n,t.metricsPage)},[gt](e,t){const n=(0,D.$R)(e,t);n.server.get("sections").fetch().then((()=>{const e=new ke({model:n});b.Z.trigger("show:modal",e),dn(v.P9,n,t.metricsPage)}))},[yt](e,t){const n=(0,D.$R)(e,t),r=new tt({model:n});b.Z.trigger("show:modal",r),dn(v.$M,n,t.metricsPage)},[vt](e,t,n){const r=(0,D.$R)(e,t);(0,h.Z)(e,t).then((()=>{n((0,y.jR)({serverEntityID:t.serverEntityID}))}),(()=>{const e=t.played?(0,M.Z)("There was an unexpected error marking an item played."):(0,M.Z)("There was an unexpected error marking an item unplayed.");n((0,y.wp)(e))})),dn(t.played?v.qe:v.h3,r,t.metricsPage)},[ft](e,t){const n=(0,D.$R)(e,t),r=new nt.Z({item:n});b.Z.trigger("show:modal",r),dn(v.FH,n,t.metricsPage)},[bt](e,t,n){const{rating:r,metricsPage:i}=t,a=(0,D.js)(e,t),s=(0,D.$R)(e,t),o={rating:r,allowMetrics:!!i,metricsProperties:{page:i}};(0,d.Z)(a,s,o).fail((e=>{n((0,y.wp)((0,M.Z)("There was a problem rating this item.")))}))},[It](e,t,n){const r=(0,D.$R)(e,t),i=t.metricsPage,a={allowMetrics:!!i,metricsProperties:{page:i}};(0,u.Z)(r,a).fail((e=>{503===e.status?b.Z.trigger("show:modal",new Re.Z({model:r.server})):n((0,y.wp)((0,M.Z)("There was a problem refreshing this item.")))}))},[St](e,t,n){const r=(0,D.$R)(e,t);s.Z.execute("splitApart",{item:r,skipNavigate:!0}).done((()=>{n((0,y.jR)({serverEntityID:t.serverEntityID}))})),dn(v.RF,r,t.metricsPage)},[Mt](e,t){const n=(0,D.$R)(e,t);s.Z.execute("showSyncModal",{item:n}),dn(v.J3,n,t.metricsPage)},[Et](e,t){const n=(0,D.$R)(e,t);s.Z.execute("unmatch",{item:n}),dn(v.Zy,n,t.metricsPage)},[Pt](e,t,n){const{providerEntityID:r,metadataItemEntityID:a,name:s,value:o,save:l}=t,c=(0,D.$R)(e,{metadataItemEntityID:a});if(!l)return void c.set({[s]:o});const d=(0,D.js)(e,{providerEntityID:r}),u=p.Z.join(c.get("key"),{[s]:o,[`${s}.locked`]:1}),m=d.getXHROptions(u,{type:"PUT"});i().ajax(m).fail((e=>{n((0,y.wp)((0,M.Z)("There was a problem editing this item.")))})),dn(v.dm,c,t.metricsPage)},[Dt](e,t){const n=(0,D.tz)(e,t);n&&n.set({metadataState:t.metadataState,mediaState:t.mediaState})},[Ct](e,t,n){const r=(0,D.js)(e,t),a=(0,D.$R)(e,t),{data:s}=t;(function(e,t,n){const r=t.get("key"),a=p.Z.join([r,"prefs"],n),s=e.getXHROptions(a,{type:"PUT"});t.set({isSettingsUpdating:!0,settingsUpdateError:null});const o=i().ajax(s);return o.then((()=>{t.set("isSettingsUpdating",!1)}),(e=>{t.set({isSettingsUpdating:!1,settingsUpdateError:(0,m.Z)(e)})})),o})(r,a,s).then((()=>{n((0,g.dk)({serverEntityID:t.serverEntityID,metadataItemEntityID:t.metadataItemEntityID}))}))},[wt](e,t,n){(0,D.$R)(e,t).set("settingsUpdateError",null)},[Zt](){},[At](){},[xt](e,t,n){const r=(0,D.SW)(e,t),i=(0,D.js)(e,t),a=(0,D.$R)(e,t);a.fetch().done((()=>{var e;const t=a.get("content"),{sectionKey:s}=f.Z.parseLibraryUri(t),l=p.Z.getLastSegment(t),c=(0,S.Z)(i,s),d=c.pivots.find((e=>"library"===e.id||e.key.includes(c.key))),u=(0,E.Z)(r.toJSON(),i.toJSON(),c,{pivot:null!=(e=d.id)?e:d.key,key:decodeURIComponent(l),curatedKey:a.get("key"),advancedFilters:1});n((0,o.c4)({pathname:u}))}))}}},29414:(e,t,n)=>{"use strict";n.d(t,{C8:()=>R,CF:()=>z,vp:()=>U,u6:()=>V,vm:()=>B,$5:()=>F,wr:()=>_,g8:()=>H,Kn:()=>Q,XX:()=>G,m8:()=>W,wZ:()=>Y,rr:()=>K,q9:()=>$});var r=n(93966),i=n(94018),a=n(95933),s=n(40807),o=n(33816),l=n(27940),c=n(58042),d=n(73054),u=n(88050),p=n(47486),m=n(32846),h=n(28440),g=n(62034),y=n(517),v=n(74527),f=Object.defineProperty,b=Object.prototype.hasOwnProperty,I=Object.getOwnPropertySymbols,S=Object.prototype.propertyIsEnumerable,M=(e,t,n)=>t in e?f(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,E=(e,t)=>{for(var n in t||(t={}))b.call(t,n)&&M(e,n,t[n]);if(I)for(var n of I(t))S.call(t,n)&&M(e,n,t[n]);return e};const P="metadata/metadataList/fetchMetadataList",D="metadata/metadataList/populateMetadataList",C="metadata/metadataList/populateMetadataListRange",w="metadata/metadataList/repopulateMetadataListRange",Z="metadata/metadataList/syncMetadataList",T="metadata/metadataList/optimizeMetadataList",N="metadata/metadataList/selectMetadataListItem",O="metadata/metadataList/deselectMetadataListItem",A="metadata/metadataList/selectMetadataListItems",x="metadata/metadataList/deselectMetadataListItems",j="metadata/metadataList/deselectAllMetadataListItems",L="metadata/metadataList/resetMetadataList",k="metadata/metadataList/redispatchLegacyMetadataListAction",R=(0,s.Z)(P),z=(0,s.Z)(D),U=(0,s.Z)(C),V=(0,s.Z)(w),B=(0,s.Z)(Z),F=(0,s.Z)(T),_=(0,s.Z)(N),H=(0,s.Z)(O),Q=(0,s.Z)(A),G=(0,s.Z)(x),W=(0,s.Z)(j),Y=(0,s.Z)(L),K=(0,s.Z)(k);function q(e,t,n={}){(0,r.DB)("metrics").trackClick(E({page:t,action:e,context:p.LIST},n))}const $={[P]:(0,o.Z)({getModel:y.lK}),[D]:(0,l.Z)({fetchActionCreator:R,getModel:y.lK}),[C]:(0,c.Z)({getModel:y.lK}),[w]:(0,d.Z)({getModel:y.lK}),[Z](e,t){const n=(0,y.lK)(e,t);i.Z.execute("showSyncModal",{item:n}),q(u.J3,t.metricsPage,t.metricsProperties)},[T](e,t){const n=(0,y.lK)(e,t),r=new v.Z({item:n});m.Z.trigger("show:modal",r),q(u.FH,t.metricsPage,t.metricsProperties)},[N](e,t,n){const{id:r,type:i,isRangeSelect:a}=t,s=(0,y.lK)(e,t),o=(0,y.$R)(e,{metadataItemEntityID:r}),l=s.getCollection();o&&n((0,g.Gh)({type:i,model:o,collection:l,isRangeSelect:a}))},[O](e,t,n){const r=(0,y.$R)(e,{metadataItemEntityID:t.id});r&&n((0,g.Ib)([r.id]))},[A](e,t,n){const{ids:r,type:i}=t,a=r.reduce(((t,n)=>{const r=(0,y.tz)(e,{metadataItemEntityID:n});return r&&t.push({id:r&&r.id,type:i,model:r}),t}),[]);n((0,g.GZ)(a))},[x](e,t,n){const r=t.ids.reduce(((t,n)=>{const r=(0,y.tz)(e,{metadataItemEntityID:n});return r&&t.push({id:r&&r.id}),t}),[]);n((0,g.Ib)(r))},[j](e,t,n){const r=(0,y.lK)(e,t).getCollection();n((0,g.Nd)(r))},[L](e,t){const n=(0,y.lK)(e,t),r=n.get("entityKey");n.abortPendingPopulate(),n.resetPopulatePromise(null),n.restoreDefaults({entityKey:r,meta:r?n.get("meta"):void 0,containerKey:n.get("containerKey"),containerTitle:n.get("containerTitle")})},[k](e,t,n){const r=(0,h.SW)(e,{serverEntityID:t.server.entityID}),i=(0,h.js)(e,{providerEntityID:t.provider.entityID}),s=new a.Z({containerKey:t.containerKey},{server:r,provider:i,includeCollections:!0,includeExternalMedia:!0}),o=t.legacyAction.type,l=t.legacyAction.payload,c=(null==l?void 0:l.metricsProperties)||{};n({type:o,payload:E(E({},l),{serverEntityID:r.entityID(),providerEntityID:i.entityID(),metadataListEntityID:s.entityID(),metricsPage:t.metricsPage,metricsProperties:E(E({},c),t.metricsProperties),skipClickMetrics:!0})})}}},62034:(e,t,n)=>{"use strict";n.d(t,{aM:()=>q,Gh:()=>$,GZ:()=>J,mD:()=>X,Ib:()=>ee,Nd:()=>te,Pe:()=>ie,UY:()=>ae,aU:()=>se,fR:()=>oe,H3:()=>le,mP:()=>ce,ZT:()=>de,ZP:()=>ue,PP:()=>pe,hM:()=>me,u9:()=>he,Bf:()=>ge,de:()=>ye,$z:()=>ve,$e:()=>fe,tv:()=>Se});var r=n(19755),i=n.n(r),a=n(13469),s=n.n(a),o=n(94018),l=n(40807),c=n(34583),d=n(49897),u=n(95374),p=n(56054),m=n(79932),h=n(32901),g=n(32846),y=n(34796),v=n(63733),f=n(28440),b=n(5562),I=n(32827),S=n(43593),M=n(74527),E=Object.defineProperty,P=Object.prototype.hasOwnProperty,D=Object.getOwnPropertySymbols,C=Object.prototype.propertyIsEnumerable,w=(e,t,n)=>t in e?E(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Z=(e,t)=>{for(var n in t||(t={}))P.call(t,n)&&w(e,n,t[n]);if(D)for(var n of D(t))C.call(t,n)&&w(e,n,t[n]);return e},T=(e,t)=>{var n={};for(var r in e)P.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&D)for(var r of D(e))t.indexOf(r)<0&&C.call(e,r)&&(n[r]=e[r]);return n};const N="multiSelect/redispatchLegacyMuliselectAction",O="multiSelect/selectItem",A="multiSelect/selectModels",x="multiSelect/deselectAllItems",j="multiSelect/deselectModels",L="multiSelect/deselectCollection",k="multiSelect/selectRange",R="multiSelect/deselectRange",z="multiSelect/playSelectedItems",U="multiSelect/queueSelectedItems",V="multiSelect/favoriteSelectedItems",B="multiSelect/unfavoriteSelectedItems",F="multiSelect/updateSelectedItemsPlayedStatus",_="multiSelect/editSelectedItems",H="multiSelect/refreshSelectedItems",Q="multiSelect/analyzeSelectedItems",G="multiSelect/syncMetadataItems",W="multiSelect/optimizeMetadataItems",Y="multiSelect/mergeSelectedItems",K="multiSelect/deleteSelectedItems",q=(0,l.Z)(N),$=(0,l.Z)(O),J=(0,l.Z)(A),X=(0,l.Z)(x),ee=(0,l.Z)(j),te=(0,l.Z)(L),ne=(0,l.Z)(k),re=(0,l.Z)(R),ie=(0,l.Z)(z),ae=(0,l.Z)(V),se=(0,l.Z)(B),oe=((0,l.Z)(F),(0,l.Z)(_)),le=(0,l.Z)(H),ce=(0,l.Z)(Q),de=(0,l.Z)(G),ue=(0,l.Z)(W),pe=(0,l.Z)(Y),me=(0,l.Z)(K),he=(0,l.Z)(z,(e=>{var t=e,{options:n={}}=t,r=T(t,["options"]);return Z(Z({},r),{options:Z(Z({},n),{shuffle:!0})})})),ge=(0,l.Z)(F,(e=>Z(Z({},e),{played:!0}))),ye=(0,l.Z)(F,(e=>Z(Z({},e),{played:!1}))),ve=(0,l.Z)(U,(e=>{var t=e,{options:n={}}=t,r=T(t,["options"]);return Z(Z({},r),{options:Z(Z({},n),{next:!1})})})),fe=(0,l.Z)(U,(e=>{var t=e,{options:n={}}=t,r=T(t,["options"]);return Z(Z({},r),{options:Z(Z({},n),{next:!0})})}));function be(e){return e.get("ui").get("multiSelect").get("activeSelectionItems").map((e=>e.get("model").entityID()))}function Ie(e){return e.map((e=>e.entityID()))}const Se={[N](e,t,n){const r=t.items.map((t=>{const{metadataItemModel:n}=(0,I.Z)(e,t);return n})),i=t.legacyAction.type,a=t.legacyAction.payload;n({type:i,payload:Z(Z({},a),{items:r})})},[O](e,t,n){const{type:r,model:i,collection:a,isRangeSelect:s=!1}=t,o=e.get("ui").get("multiSelect"),l=o.get("activeSelectionType"),c=o.get("activeSelectionRange");if(l&&l!==r)return;if(o.listenToCollection(a),!s||!c||c.collection!==a)return o.set("activeSelectionRange",{collection:a,startModel:i}),void n(J([{id:i.id,type:r,model:i}]));const d=c.startModel,u=c.endModel,p=a.indexOf(d),m=a.indexOf(i);if(u){const e=a.indexOf(u);n(re({collection:a,range:{start:p,end:e}}))}o.set("activeSelectionRange",{collection:a,startModel:d,endModel:i}),n(ne({type:r,collection:a,range:{start:p,end:m}}))},[A](e,t){e.get("ui").get("multiSelect").get("activeSelectionItems").add(t)},[x](e){e.get("ui").get("multiSelect").get("activeSelectionItems").reset()},[j](e,t){e.get("ui").get("multiSelect").get("activeSelectionItems").remove(t)},[L](e,t,n){const r=e.get("ui").get("multiSelect"),i=r.get("activeSelectionItems"),a=[];r.stopListening(t),t.each((e=>{i.get(e.id)&&a.push(e.id)})),a.length&&n(ee(a))},[k](e,t,n){const{type:r,collection:i,range:a}=t,s=e.get("ui").get("multiSelect").get("activeSelectionItems"),o=[];v.Z.each(a,(e=>{const t=i.at(e);t&&!s.get(t.id)&&o.push({id:t.id,type:r,model:t})})),o.length&&n(J(o))},[R](e,t,n){const{collection:r,range:i}=t,a=e.get("ui").get("multiSelect").get("activeSelectionItems"),s=[];v.Z.each(i,(e=>{const t=r.at(e);t&&a.get(t.id)&&s.push(t.id)})),s.length&&n(ee(s))},[z](e,t,n){const r=t.items?Ie(t.items):be(e);n((0,m.wA)(Z(Z({},t),{metadataItemEntityIDs:r})))},[U](e,t,n){const r=t.items?Ie(t.items):be(e);n((0,m.tP)(Z(Z({},t),{metadataItemEntityIDs:r})))},[V](e,t,n){const r=(0,f.js)(e,t),a=e.get("ui").get("multiSelect").get("activeSelectionItems").pluck("model");let s=i().Deferred().resolve().promise();a.forEach((e=>{s=s.then((()=>(0,d.Z)(r,e,{rating:y.jt})))})),s.fail((()=>{n((0,h.wp)((0,b.Z)("There was an unexpected error favoriting an item.")))}))},[B](e,t,n){const r=(0,f.js)(e,t),a=e.get("ui").get("multiSelect").get("activeSelectionItems").pluck("model");let s=i().Deferred().resolve().promise();a.forEach((e=>{s=s.then((()=>(0,d.Z)(r,e,{rating:y.LX})))})),s.fail((()=>{n((0,h.wp)((0,b.Z)("There was an unexpected error unfavoriting an item.")))}))},[F](e,t,n){const r=e.get("ui").get("multiSelect").get("activeSelectionItems").pluck("model");let a=i().Deferred().resolve().promise();r.forEach((n=>{a=a.then((()=>(0,p.Z)(e,Z(Z({},t),{metadataItemEntityID:n.entityID()}))))})),a.fail((()=>{const e=t.played?(0,b.Z)("There was an unexpected error marking an item played."):(0,b.Z)("There was an unexpected error marking an item unplayed.");n((0,h.wp)(e))})),a.always((()=>{const e={};r.forEach((t=>{const r=t.server.entityID();e[r]||(e[r]=!0,n((0,h.jR)({serverEntityID:r})))}))}))},[_](e,t){var n;const r=e.get("ui").get("multiSelect"),i=null!=(n=t.items)?n:r.get("activeSelectionItems").pluck("model"),a=new S.Z({items:i});g.Z.trigger("show:modal",a)},[H](e,t,n){var r;const a=e.get("ui").get("multiSelect"),s=null!=(r=t.items)?r:a.get("activeSelectionItems").pluck("model");let o=i().Deferred().resolve().promise();s.forEach((e=>{o=o.then((()=>(0,u.Z)(e)))})),o.fail((()=>{n((0,h.wp)((0,b.Z)("There was an unexpected error refreshing an item.")))}))},[Q](e,t,n){var r;const a=e.get("ui").get("multiSelect"),s=null!=(r=t.items)?r:a.get("activeSelectionItems").pluck("model");let o=i().Deferred().resolve().promise();s.forEach((e=>{o=o.then((()=>(0,c.Z)(e)))})),o.fail((()=>{n((0,h.wp)((0,b.Z)("There was an unexpected error analyzing an item.")))}))},[G](e,t){var n;const r=e.get("ui").get("multiSelect"),i=null!=(n=t.items)?n:r.get("activeSelectionItems").pluck("model");o.Z.execute("showSyncModal",{item:s().first(i),items:i})},[W](e,t){var n;const r=e.get("ui").get("multiSelect"),i=null!=(n=t.items)?n:r.get("activeSelectionItems").pluck("model"),a=new M.Z({item:s().first(i),items:i});g.Z.trigger("show:modal",a)},[Y](e,t){var n;const r=e.get("ui").get("multiSelect"),i=null!=(n=t.items)?n:r.get("activeSelectionItems").pluck("model"),[a,...s]=i;o.Z.execute("merge",{item:a,items:s})},[K](e,t,n){var r;const i=e.get("ui").get("multiSelect"),a=null!=(r=t.items)?r:i.get("activeSelectionItems").pluck("model"),s=t.options||{};o.Z.execute("deleteItems",Z(Z({},s),{items:a,skipConfirmation:!0}))}}},59194:(e,t,n)=>{"use strict";n.d(t,{Wy:()=>fe,JZ:()=>Ie,zl:()=>we,ll:()=>Me,Af:()=>Pe,Hz:()=>De,uo:()=>Ee,Q6:()=>Se,st:()=>Ce,R_:()=>ge,gj:()=>me,o1:()=>ve,Iy:()=>Ne,iE:()=>be,m7:()=>ye});var r=n(19755),i=n.n(r),a=n(93966),s=n(12319),o=n(40807),l=n(33816),c=n(27940),d=n(53145),u=n(32901),p=n(4134),m=n(88630),h=n(88050),g=n(47486),y=n(22923),v=n(96515),f=n(32846),b=n(72759),I=n(96840),S=n(59756),M=n(55642),E=n(47479);var P=n(27082),D=n(5562),C=n(84936),w=n(39957),Z=n(45381),T=n(86035),N=n(32827),O=n(15902),A=n(43666),x=n(517),j=n(13469),L=n.n(j),k=n(43888),R=n(64529),z=n(18039),U=n(22016),V=n.n(U);const B=R.Z.extend({className:"alert-bar notify",template:V(),events:L().extend({"click .setup-link":"onSetupClick"},R.Z.prototype.events),serializeData(){return{model:this.model.get("model"),make:this.model.get("make"),dvrSettingsRoute:(0,z.Z)(this.options.machineIdentifier,"manage","dvr")}},disableDevice(){const e=(0,a.DB)("appStore"),t=this.options.serverEntityID;t&&e.dispatch((0,k._w)({serverEntityID:t,deviceID:this.model.id,enabled:!1}))},onSetupClick(){this.hide(),this.disableDevice()},onCloseClick(e){R.Z.prototype.onCloseClick.apply(this,arguments),this.disableDevice()}});var F=n(28725),_=n(64898),H=n(90308),Q=n.n(H);const G=_.Z.extend({template:Q(),events:L().extend({"click .learn-more":"onLearnMoreClick"},_.Z.prototype.events),onRender:function(){_.Z.prototype.onRender.apply(this,arguments),(0,a.DB)("metrics").trackView({page:"relayNotification",mode:"modal",action:h.GP},{interaction:!1})},onHide(e){_.Z.prototype.onHide.apply(this,arguments),(0,a.DB)("metrics").trackClick({page:"relayNotification",mode:"modal",action:h.GP})},onLearnMoreClick(){(0,a.DB)("metrics").trackClick({page:"relayNotification",mode:"modal",action:h.yq})},serializeData(){return{serverName:this.options.serverName,escapedServerName:L().escape(this.options.serverName)}}});var W=Object.defineProperty,Y=Object.prototype.hasOwnProperty,K=Object.getOwnPropertySymbols,q=Object.prototype.propertyIsEnumerable,$=(e,t,n)=>t in e?W(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,J=(e,t)=>{for(var n in t||(t={}))Y.call(t,n)&&$(e,n,t[n]);if(K)for(var n of K(t))q.call(t,n)&&$(e,n,t[n]);return e};const X="server/redispatchLegacyServerAction",ee="server/fetchSettings",te="server/populateSettings",ne="server/updateSetting",re="server/saveSetting",ie="server/addLibrary",ae="server/startLibrariesRefresh",se="server/allowHttpFallback",oe="server/optimizeDatabase",le="server/cleanBundles",ce="server/emptyTrash",de="server/deleteServer",ue="server/discoverMediaGrabberDevice",pe="server/populateHasiTunes",me=(0,o.Z)(X),he=(0,o.Z)(ee),ge=(0,o.Z)(te),ye=(0,o.Z)(ne),ve=(0,o.Z)(re),fe=(0,o.Z)(ie),be=(0,o.Z)(ae),Ie=(0,o.Z)(se),Se=(0,o.Z)(oe),Me=(0,o.Z)(le),Ee=(0,o.Z)(ce),Pe=(0,o.Z)(de),De=(0,o.Z)(ue),Ce=(0,o.Z)(pe),we=(0,o.Z)(ae,(e=>J(J({},e),{cancel:!0})));function Ze(e,t){(0,a.DB)("metrics").trackClick({page:t,action:e,context:g.SERVER})}function Te(e,t){const n=(0,x.SW)(e,t),r=(0,x.Y7)(e,t).get("settings").get(t.setting.id);if(r){const e=r.parse(t.setting);r.set("value",e.value),"FriendlyName"===e.id&&e.value?n.set("friendlyName",e.value):"allowMediaDeletion"===e.id&&n.set("allowMediaDeletion",e.value)}}const Ne={[d.Vr]:d.Iy[d.Vr],[d.$Q]:d.Iy[d.$Q],[d.h9]:d.Iy[d.h9],[d.WV]:d.Iy[d.WV],[d.Cs]:d.Iy[d.Cs],[d.mK]:d.Iy[d.mK],[d.Wq]:d.Iy[d.Wq],[d.rW]:d.Iy[d.rW],[d.db]:d.Iy[d.db],[d.RD]:d.Iy[d.RD],[d.l2]:d.Iy[d.l2],[d.kM]:d.Iy[d.kM],[d.$M]:d.Iy[d.$M],[X](e,t,n){const{serverModel:r,providerModel:i}=(0,N.Z)(e,t),a=t.legacyAction.type,s=t.legacyAction.payload;n({type:a,payload:J(J({},s),{serverEntityID:r.entityID(),providerEntityID:i.entityID()})})},[ee]:(0,l.Z)({key:"settings",getModel:x.Y7}),[te]:(0,c.Z)({key:"settings",fetchActionCreator:he,getModel:x.Y7}),[ne](e,t){Te(e,t)},[re](e,t){const n=(0,x.Y7)(e,t).get("settings").get(t.setting.id);(0,P.c9)((()=>n.set({isSaving:!0}))),Te(e,t),n.save().then((()=>n.set({isSaving:!1})),(()=>n.set({isSaving:!1})))},[d.R](e,{machineIdentifier:t,serverName:n},r){const i=e.get("user").get("experienceSettings").get("reminders"),a=(0,w.Z)(y.K,t),s=i.get(a);if(s&&!(0,v.Z)(s.get("remindAfter")))return;const o=new G({serverName:n});f.Z.trigger("show:modal",o),r((0,A.JY)({id:a}))},[d.ay](e,t){const n=(0,x.SW)(e,t),r=e.get("user").get("experienceSettings").get("allowHttpFallback");!function(e,t,n,r){if(function(e,t){if(!e.get("isFullServer"))return!1;if(E.Z.isHostedHttps&&!S.Z.allowMixedContent)return!1;const n=t===M.Z.ALWAYS,r=t===M.Z.SAME_NETWORK;return!!(n||r&&e.get("publicAddressMatches"))}(e,r)){const r=e.addConnection({scheme:"http",address:t,port:n,isFallback:!0});(0,I.Z)("[Connections] Added insecure fallback connection for %s at %s",e.get("debugName"),r.id)}else I.Z.warn("[Connections] Prevented fallback to insecure connection for",e.get("debugName"))}(n,t.address,t.port,r)},[ie](e,t){const n=(0,x.SW)(e,t),{options:r={}}=t,i=new F.Z(J({server:n,redirect:!1!==t.redirect},r));f.Z.trigger("show:modal",i),Ze(h.wl,t.metricsPage)},[ae](e,t,n){const{cancel:r,force:i,metricsPage:a}=t,s=(0,x.SW)(e,t),o={serverModel:s,libraryID:"all",cancel:r,force:i,allowMetrics:!!a,metricsProperties:{page:a}};t.cancel&&(0,x.Y7)(e,t).get("libraries").each((e=>e.set("refreshing",!1))),(0,O.Z)(s,o).fail((()=>{const e=t.cancel?(0,D.Z)("There was a problem canceling the update."):(0,D.Z)("There was a problem updating libraries.");n((0,u.wp)(e))})).always((()=>{n((0,d.tU)({serverEntityID:t.serverEntityID}))}))},[se](e,t,n){n((0,p.LN)({allowHttpFallback:t.allowHttpFallback})),n((0,d.Vk)({serverEntityID:t.serverEntityID}))},[oe](e,t,n){const r=(0,x.SW)(e,t),a=(0,x.Y7)(e,t),s=r.supports("optimizeDatabaseActivity"),o=C.Z.join("/library/optimize",s?{async:1}:{}),l=r.getXHROptions(o,{type:"PUT"});n((0,d.ET)({serverEntityID:t.serverEntityID,activityType:b.nJ})),a.set({optimizeDatabaseError:null}),i().ajax(l).done((()=>{s||n((0,d.n7)({serverEntityID:t.serverEntityID,activityType:b.nJ}))})).fail((()=>{a.set({optimizeDatabaseError:(0,D.Z)("There was a problem optimizing the database.")}),n((0,d.n7)({serverEntityID:t.serverEntityID,activityType:b.nJ})),t.hideAlerts||n((0,u.wp)((0,D.Z)("There was a problem optimizing the database.")))})),Ze(h.nJ,t.metricsPage)},[le](e,t,n){const r=(0,x.SW)(e,t),a=(0,x.Y7)(e,t),s=C.Z.join("/library/clean/bundles",{async:1}),o=r.getXHROptions(s,{type:"PUT"});n((0,d.ET)({serverEntityID:t.serverEntityID,activityType:b.zL})),a.set({cleanBundlesError:null}),i().ajax(o).fail((()=>{a.set({cleanBundlesError:(0,D.Z)("There was a problem removing unused bundles.")}),n((0,d.n7)({serverEntityID:t.serverEntityID,activityType:b.zL})),t.hideAlerts||n((0,u.wp)((0,D.Z)("There was a problem removing unused bundles.")))})),Ze(h.zL,t.metricsPage)},[ce](e,t,n){const r=(0,x.SW)(e,t),a=(0,x.Y7)(e,t).get("libraries");(t.libraryID?i().Deferred().resolve([t.libraryID]).promise():a.populate().then((()=>a.map((({id:e})=>e))))).then((e=>{const t=e.map((e=>i().ajax(r.getXHROptions(`/library/sections/${e}/emptyTrash`,{type:"PUT"}))));return i().when(...t)})).then((()=>{n((0,u.wp)({type:m.M,message:(0,D.Z)("The trash was emptied.")}))}),(e=>{n((0,u.wp)((0,D.Z)("There was a problem emptying the trash.")))})),Ze(h.yZ,t.metricsPage)},[de](e,t,n){const r=(0,x.SW)(e,t),a=e.get("cloudServer");if(!r)return;if(a.get("isResolved")){const e=a.getXHROptions(`/api/servers/${r.id}`,{type:"DELETE"});i().ajax(e)}const o=a.get("resources").get(r.id);o&&o.trigger("destroy",o,o.collection),r.get("isFullOwnedServer")&&r.get("isConnected")?r.get("desktop").get("cloudAccount").destroy().done((()=>{r.set({myPlexSigninState:s.Ar,myPlexSubscription:!1})})).always((()=>{n((0,d.Vk)({serverEntityID:t.serverEntityID})),r.populate().fail((function(){r.trigger("destroy",r,r.collection),n((0,T.im)({route:"home"}))}))})):(r.trigger("destroy",r,r.collection),n((0,T.im)({route:"home"}))),Ze(h.FR,t.metricsPage)},[ue](e,t){const n=(0,x.SW)(e,t),r=e.get("ui").get("dvrSettingsUI"),i=t.device;if(r.get("isUIPopulated"))return;const a=new B({model:new Z.ZP(i,{parse:!0}),serverEntityID:t.serverEntityID,machineIdentifier:n.get("machineIdentifier")});f.Z.trigger("show:bar","alertbar",a)},[pe](e,t){const n=(0,x.SW)(e,t),r=(0,x.Y7)(e,t);if(!r.get("isHasiTunesPopulated")){const e=C.Z.join("/music/iTunes"),t=n.getXHROptions(e);i().ajax(t).done((()=>{r.set({hasiTunes:!0,isHasiTunesPopulated:!0})})).fail((()=>{r.set({hasiTunes:!1,isHasiTunesPopulated:!0})}))}}}},29150:(e,t,n)=>{"use strict";n.d(t,{ib:()=>L,j3:()=>k,o6:()=>R,Gu:()=>U,xg:()=>V,os:()=>B,eA:()=>F,FV:()=>H,fv:()=>J});var r=n(13469),i=n.n(r),a=n(93966),s=n(39670),o=n(66357),l=n(40807),c=n(90697),d=n(79932),u=n(12304),p=n(44491),m=n(59223),h=n(52837),g=n(99038),y=n(96840),v=n(30983),f=n(58709),b=n(517),I=Object.defineProperty,S=Object.prototype.hasOwnProperty,M=Object.getOwnPropertySymbols,E=Object.prototype.propertyIsEnumerable,P=(e,t,n)=>t in e?I(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,D=(e,t)=>{for(var n in t||(t={}))S.call(t,n)&&P(e,n,t[n]);if(M)for(var n of M(t))E.call(t,n)&&P(e,n,t[n]);return e};const C="syncplaySessionActions/joinSession",w="syncplaySessionActions/leaveSession",Z="syncplaySessionActions/setSessionError",T="syncplaySessionActions/toggleSessionLobby",N="syncplaySessionActions/syncUser",O="syncplaySessionActions/syncLobby",A="syncplaySessionActions/syncPlaystate",x="syncplaySessionActions/addNotification",j="syncplaySessionActions/removeNotification",L=(0,l.Z)(C),k=(0,l.Z)(w),R=(0,l.Z)(Z),z=((0,l.Z)(T),(0,l.Z)(T,(e=>D(D({},e),{shouldShow:!0})))),U=(0,l.Z)(T,(e=>D(D({},e),{shouldHide:!0}))),V=(0,l.Z)(N),B=(0,l.Z)(O),F=(0,l.Z)(A),_=(0,l.Z)(x),H=(0,l.Z)(j),Q=h.Se,G="WATCH_TOGETHER";function W(e){return K(e).get("rooms")}function Y(e){return K(e).get("session")}function K(e){return e.get("ui").get("watchTogether")}function q(e){return(null==e?void 0:e.deviceIdentifier)===s.Z.prop("X-Plex-Client-Identifier")}function $(e){const t=(0,v.F_)(e,Q);return t.get("syncplaySessionRoomID")&&!!(0,c.Z)(t)}const J={[C](e,t,n){const r=(0,b.bT)(e,t),i=r.get("id");K(e).set("session",new o.Z({metadataItem:r.get("metadataItem"),roomID:i})),n((0,f.Uw)()),(0,a.DB)("syncplaySessionManager").join({roomID:i,roomSourceUri:r.get("sourceUri"),roomSyncplayHost:r.get("syncplayHost"),roomSyncplayPort:r.get("syncplayPort")})},[w](e,t,n){const r=Y(e);if(r){const t=K(e);(0,y.Z)("[Watch Together] Leaving session for room:",r.get("roomID")),(0,a.DB)("syncplaySessionManager").leave(),t.unset("session"),t.unset("sessionError")}},[Z](e,t,n){const r=(0,v.F_)(e,Q),{sessionError:i}=t;r.get("syncplaySessionRoomID")?r.set({hasError:!0,errorMessage:i}):K(e).set({sessionError:i})},[T](e,t,n){const r=(0,v.F_)(e,Q),i=r.get("syncplaySessionRoomID"),s={initiator:G,playerType:Q},{shouldHide:o,shouldShow:l}=t;let c;if(l&&(r.set({isWatchTogetherLobbyVisible:!0,isWatchTogetherParticipantsVisible:!1}),r.get("isPaused")||(c=(0,u.wO)(s))),o){const e=null!==r.get("adState");e&&(0,a.DB)("syncplaySessionManager").update({roomID:i,isAdPlaying:e,adDisplayIndex:r.get("adDisplayIndex"),adDisplayTotal:r.get("adDisplayIndex")}),r.get("isPaused")&&(c=(0,u.hY)(s)),r.set({isWatchTogetherLobbyVisible:!1})}(l||o)&&(0,y.Z)("[Watch Together] Session lobby is visible?",r.get("isWatchTogetherLobbyVisible")),c&&$(e)&&((0,y.Z)("[Watch Together] Dispatching after lobby visibility:",c),n(c))},[N](e,t,n){var r,i,a,s;const{event:o}=t;if(!o.user)return;const{ad:l,isPresent:c,isReady:d,positionSeconds:u,isPaused:p,user:m}=o,{deviceIdentifier:h,deviceName:v,id:b}=m,I=Y(e),S=I.get("users"),M=[],E={},P=S.get(h)||S.add({deviceIdentifier:h,deviceName:v,id:b});if(!P.get("title")){const t=null==(r=W(e).get(I.get("roomID")))?void 0:r.get("users"),n=null==t?void 0:t.get(b);n?(E.title=n.get("title"),E.thumb=n.get("thumb")):K(e).get("isRoomsPending")||(y.Z.debug(`[Watch Together] Syncplay user is unknown ${m.id} (${m.deviceName})`),M.push((0,f.Uw)()))}void 0!==c&&c!==P.get("isPresent")&&(E.isPresent=c,M.push(_({type:c?g.OR:g.In,user:m}))),!1===c&&P.get("isAdPlaying")?(E.adDisplayIndex=null,E.adDisplayTotal=null,E.isAdPlaying=!1):void 0!==l&&(E.adDisplayIndex=null!=(i=null==l?void 0:l.displayIndex)?i:null,E.adDisplayTotal=null!=(a=null==l?void 0:l.displayTotal)?a:null,E.isAdPlaying=null!=(s=null==l?void 0:l.isPlaying)&&s),void 0!==d&&(E.isReady=d),void 0!==p&&(E.isWatching=!p),void 0!==u&&(E.positionSeconds=u),y.Z.debug(`[Watch Together] Updating user ${m.id} (${m.deviceName}):`,E),P.set(E),M.forEach((e=>{y.Z.debug("[Watch Together](%s) Dispatching:",N,e),n(e)}))},[A](e,t,n){const{roomID:r,event:i}=t,a=Y(e);if(q(i.user))return;const s={user:i.user},o=function(e,t){const n=(0,v.F_)(e,Q),{event:r}=t,{isPaused:i,positionSeconds:a,user:s}=r,o=null!=a,l=Y(e).get("users").get(null==s?void 0:s.deviceIdentifier),c={nextPlaybackSpeed:n.get("playbackSpeed"),shouldChangePlaybackSpeed:!1,shouldPause:!1,shouldResume:!1,shouldSeek:!1,shouldStartPlayback:!1};if(!n.get("syncplaySessionRoomID")&&o)return c.shouldStartPlayback=!0,c;if(null!=n.get("adState")||(null==l?void 0:l.get("isAdPlaying")))return c;if(!$(e))return c;if(c.shouldPause=!0===i&&!n.get("isPaused"),c.shouldResume=!1===i&&n.get("isPaused"),c.shouldSeek=r.shouldSeek,o&&(c.nextPlaybackSpeed=1,!c.shouldSeek)){const e=n.get("positionSeconds")-a;y.Z.debug("[Watch Together] Local position diff:",`${e}s`),c.shouldSeek=e>=4||e<=-1.75,!c.shouldSeek&&e>1.5&&(c.nextPlaybackSpeed=.95)}return c.shouldChangePlaybackSpeed=c.nextPlaybackSpeed!==n.get("playbackSpeed"),c}(e,t),l=[];if(o.shouldStartPlayback){const e=a.get("metadataItem"),t=Math.round(1e3*i.positionSeconds);(0,y.Z)(`[Watch Together] Start playback at ${t}s`),l.push((0,d.wA)({serverEntityID:e.get("serverEntityID"),providerEntityID:e.get("providerEntityID"),syncplaySessionRoomID:r,playerType:Q,isPaused:!0,isWatchTogetherLobbyVisible:!0,openState:m.K,startOffsetMilliseconds:t,options:{metadataItemKey:e.get("key"),type:p.pX}}))}o.shouldChangePlaybackSpeed&&l.push((0,u.ec)({playerType:Q,playbackSpeed:o.nextPlaybackSpeed})),o.shouldSeek&&(l.push((0,u.O7)({initiator:G,playerType:Q,positionSeconds:Math.round(i.positionSeconds)})),i.shouldSeek&&l.push(_(D(D({},s),{type:g.tG})))),o.shouldPause&&l.push((0,u.wO)({initiator:G,playerType:Q}),_(D(D({},s),{type:g.E7}))),o.shouldResume&&l.push((0,u.hY)({initiator:G,playerType:Q}),_(D(D({},s),{type:g.gk}))),l.forEach((e=>{y.Z.debug("[Watch Together](%s) Dispatching:",A,e),n(e)}))},[O](e,t,n){const r=function(e,t){const{event:n}=t,{user:r}=n,i=(0,v.F_)(e,Q),a=Y(e),s=W(e).get(a.get("roomID")),o=a.get("users"),l=o.get(null==r?void 0:r.deviceIdentifier),c={shouldHide:!1,shouldShow:!1};if(!l)return c;const d=!s||s.get("users").every((e=>o.findWhere({id:e.get("id")}))),u=o.length>0&&o.every((e=>e.get("isReady"))),p=!q(r)&&(null==l?void 0:l.get("isAdPlaying")),m=!!i.get("adState"),h=i.get("isWatchTogetherLobbyVisible");return p&&!m?c.shouldShow=!0:(p&&m||d&&u)&&(c.shouldHide=!0),c.shouldHide=h&&c.shouldHide,c.shouldShow=!h&&c.shouldShow,c}(e,t);r.shouldHide&&n(U(t)),r.shouldShow&&n(z(t))},[x](e,t,n){const r=(0,v.F_)(e,Q),a=Y(e),{type:s,user:o}=t;if(q(o))return void y.Z.debug("[Watch Together] Ignoring notification from local user:",t);if(r.get("isWatchTogetherLobbyVisible"))return void y.Z.debug("[Watch Together] Ignoring notification while lobby visible:",t);const l={timestamp:Date.now(),type:s,uid:i().uniqueId(),userID:o.id};(0,y.Z)(`[Watch Together] Notification "${s}" from:`,o);const c=a.get("notifications").concat(l).slice(-5);a.set({notifications:c})},[j](e,t,n){const r=Y(e),i=r.get("notifications").filter((e=>e.uid!==t.uid));r.set({notifications:i})},[d.N9](e,t,n){const r=(0,v.F_)(e,Q),i=r.get("syncplaySessionRoomID");if(i&&!r.get("isWatchTogetherLobbyVisible")){const{adState:e,adDisplayIndex:r,adDisplayTotal:s}=t;(0,a.DB)("syncplaySessionManager").update({roomID:i,isAdPlaying:null!=e,adDisplayIndex:r,adDisplayTotal:s}),null==e&&n(z())}},[d.qG](e,t,n){n(k())},[d.Si](e,t,n){n(k())},[u.tG](e,t){(0,v.F_)(e,Q).get("syncplaySessionRoomID")&&t.initiator!==G&&(0,a.DB)("syncplaySessionManager").update({hasPendingSeek:!0})},[u.R1](e,t){const n=(0,v.F_)(e,Q);n.get("syncplaySessionRoomID")&&t.initiator!==G&&!n.get("adState")&&(0,a.DB)("syncplaySessionManager").update({hasPendingPlayPause:!0})}};Object.assign(J,{[u.ft]:J[u.tG],[u.Sq]:J[u.tG],[u.zV]:J[u.tG],[u.nB]:J[u.tG]})},63800:(e,t,n)=>{"use strict";n.d(t,{ZZ:()=>a,ZX:()=>s,HF:()=>o});var r=n(40807),i=n(93066);const a=(0,r.Z)(i.Op),s=(0,r.Z)(i.tL),o=(0,r.Z)(i.k4)},43888:(e,t,n)=>{"use strict";n.d(t,{SB:()=>ne,AV:()=>re,G$:()=>ie,LO:()=>ae,Ps:()=>se,S6:()=>oe,Si:()=>le,FX:()=>ce,$1:()=>de,pi:()=>ue,sl:()=>pe,BF:()=>me,NS:()=>he,_1:()=>ge,SA:()=>ye,Lp:()=>ve,dG:()=>fe,xj:()=>be,s6:()=>Ie,NK:()=>Se,q9:()=>Me,JA:()=>Ee,T5:()=>Pe,Ao:()=>De,ds:()=>Ce,Ze:()=>we,_w:()=>Ze,BA:()=>Te,US:()=>Ne,on:()=>ze});var r=n(19755),i=n.n(r),a=n(14e3),s=n(69653),o=n(40807),l=n(3265),c=n(33816),d=n(53145),u=n(20023),p=n(70515),m=n(72759),h=n(5562),g=n(84936),y=n(57054),v=n(45381),f=n(83654),b=n(75557),I=n(517),S=Object.defineProperty,M=Object.prototype.hasOwnProperty,E=Object.getOwnPropertySymbols,P=Object.prototype.propertyIsEnumerable,D=(e,t,n)=>t in e?S(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,C=(e,t)=>{for(var n in t||(t={}))M.call(t,n)&&D(e,n,t[n]);if(E)for(var n of E(t))P.call(t,n)&&D(e,n,t[n]);return e};const w="CLEAR_DVR_SETUP",Z="DVR_SETUP_NEXT_STEP",T="DVR_SETUP_PREVIOUS_STEP",N="FETCH_DEVICES",O="SELECT_DEVICE",A="SELECT_DEVICE_SOURCE",x="DISCOVER_DEVICES",j="ADD_DEVICE",L="FETCH_DEVICE_DETAILS",k="FETCH_DEVICE_CHANNELS",R="SCAN_DEVICE_CHANNELS",z="CANCEL_SCAN_DEVICE_CHANNELS",U="FIND_BEST_EPG_LINEUP",V="SELECT_EPG_LINEUP",B="FETCH_LINEUP_CHANNELS",F="FETCH_CHANNEL_MAP",_="CLEAR_CHANNEL_MAP_ERROR",H="SAVE_CHANNEL_MAP",Q="CLEAR_CHANNEL_MAPPINGS_SAVE_ERROR",G="SAVE_DVR",W="ADD_DVR_DEVICE",Y="REMOVE_DVR_DEVICE",K="SAVE_DVR_SETTINGS",q="CLEAR_DVR_SETTINGS_SAVE_ERROR",$="SAVE_DEVICE_SETTINGS",J="SAVE_DEVICE_TITLE",X="CLEAR_DEVICE_SETTINGS_SAVE_ERROR",ee="CLEAR_DEVICE_SCAN_PREFS",te="SET_DVR_DEVICE_ENABLED",ne=(0,o.Z)(w),re=(0,o.Z)(Z),ie=(0,o.Z)(T),ae=(0,o.Z)(N),se=(0,o.Z)(x),oe=(0,o.Z)(j),le=(0,o.Z)(O),ce=(0,o.Z)(A),de=(0,o.Z)(L),ue=(0,o.Z)(k),pe=(0,o.Z)(R),me=(0,o.Z)(z),he=(0,o.Z)(U),ge=(0,o.Z)(V),ye=(0,o.Z)(_),ve=(0,o.Z)(H),fe=(0,o.Z)(Q),be=(0,o.Z)(G),Ie=(0,o.Z)(W),Se=(0,o.Z)(Y),Me=(0,o.Z)(K),Ee=(0,o.Z)(q),Pe=(0,o.Z)($),De=(0,o.Z)(J),Ce=(0,o.Z)(X),we=(0,o.Z)(ee),Ze=(0,o.Z)(te),Te=(0,o.Z)(B,(e=>{const t=g.Z.join("/livetv/epg/channels",{lineup:e.lineupUUID});return C({options:{url:t,timeout:a.NF}},e)})),Ne=(0,o.Z)(F,(e=>{const t=g.Z.join("/livetv/epg/channelmap",{device:e.deviceUUID,lineup:e.lineupUUID});return C({options:{url:t}},e)}));function Oe(e){return e.get("ui").get("dvrSettingsUI").get("dvrSetup")}function Ae(e){return e.get("ui").get("dvrSettingsUI").get("dvrs")}function xe(e,t){return Ae(e).get(t.dvrID)}function je(e,t){const n=Oe(e),r=t.deviceID;if(t.dvrID&&r){const n=xe(e,t).get("devices").get(r);if(n)return n}if(r){const e=n.get("devices").get(r);if(e)return e}return n.get("selectedDevice")}function Le(e,t){if(t.country)return t.country;const n=Oe(e).get("epgSettings").get("selectedCountry");return n?n.get("code"):void 0}function ke(e,t){const n=Oe(e),r=(0,I.SW)(e,t),a=je(e,t).get("channels"),s=t.data,o=[],l={};Object.keys(s).forEach((e=>{const{enabled:t,channelKey:n,lineupIdentifier:r}=s[e],i=a.get(e),c=!(!i||!i.get("drm"));t&&r&&!c&&o.push(e),r&&(l[`channelMappingByKey[${e}]`]=n,l[`channelMapping[${e}]`]=r)}));const c=g.Z.join(["/media/grabbers/devices",t.deviceID,"channelmap"],C({channelsEnabled:o.toString()},l));n.set("isChannelMappingsSaving",!0);const d=r.getXHROptions(c,{type:"PUT"}),u=i().ajax(d);return u.done((()=>{n.set({isChannelMappingsSaving:!1,channelMappingsSaveError:null});const r=function(e,t){return t.dvrID&&t.deviceID?je(e,t).get("channelMappings"):Oe(e).get("channelMappings")}(e,t);a.forEach((e=>{const t=e.id,n=-1!==o.indexOf(t),i=l[`channelMapping[${t}]`];i?r.add([{deviceIdentifier:t,enabled:n,lineupIdentifier:i}],{parse:!0,merge:!0}):r.remove(t)}))})),u.fail((e=>{n.set({isChannelMappingsSaving:!1,channelMappingsSaveError:(0,y.Z)(e)})})),u}function Re(e,t){const n=(0,I.SW)(e,t),r=t.enabled,a=g.Z.join(["/media/grabbers/devices",t.deviceID],{enabled:r?1:0}),s=n.getXHROptions(a,{type:"PUT"}),o=i().ajax(s).promise();return o.done((()=>{if(Oe(e)){const n=je(e,t);n&&n.set("status",r?"enabled":"disabled")}})),o}const ze=(0,l.Z)({[w](e){Oe(e).restoreDefaults()},[Z](e,t={}){const n=Oe(e),r={};switch(n.get("step")){case b.C.DEVICE:n.get("selectedDevice").get("unsupported")?r.step=b.C.UNSUPPORTED_DEVICE:r.step=b.C.DEVICE_CHANNELS;break;case b.C.UNSUPPORTED_DEVICE:r.step=b.C.DEVICE_CHANNELS;break;case b.C.DEVICE_CHANNELS:t.dvrID?(r.selectedLineupUUID=xe(e,t).get("lineup"),r.step=b.C.CHANNEL_MAPPING):r.step=b.C.EPG;break;case b.C.EPG:n.get("selectedLineupUUID")?r.step=b.C.CHANNEL_MAPPING:r.step=b.C.EPG_MAPPING;break;case b.C.EPG_MAPPING:r.step=b.C.CHANNEL_MAPPING;break;case b.C.CHANNEL_MAPPING:r.step=b.C.EPG_DOWNLOAD}n.get("setupErrorMessages").reset(),n.set(r)},[T](e,t={}){const n=Oe(e),r={};switch(n.get("step")){case b.C.UNSUPPORTED_DEVICE:r.step=b.C.DEVICE;break;case b.C.DEVICE_CHANNELS:r.hasScannedChannels=!1,r.step=b.C.DEVICE;break;case b.C.EPG:r.step=b.C.DEVICE_CHANNELS;break;case b.C.CHANNEL_MAPPING:t.dvrID?r.step=b.C.DEVICE_CHANNELS:r.step=b.C.EPG}n.get("setupErrorMessages").reset(),n.set(r)},[N](e,t,n){const r=Oe(e),i=r.get("devices");r.set("isDevicesPending",!0),i.fetch().done((()=>{r.set({isDevicesPending:!1,isDevicesPopulated:!0,devicesError:null});const e=i.filter((e=>!e.get("parentID")&&e.get("status")===v.vh.ALIVE));1===e.length&&n(le({serverEntityID:t.serverEntityID,deviceID:e[0].id}))})).fail(((e,t)=>{r.set({isDevicesPending:!1,devicesError:(0,y.Z)(t)})}))},[x](e,t,n){const r=(0,I.SW)(e,t),a=Oe(e),s=r.getXHROptions("/media/grabbers/devices/discover",{type:"POST"});a.get("isDiscoveringDevices")||(a.set("isDiscoveringDevices",!0),i().ajax(s).done((e=>{const r=a.get("devices").add(e,{parse:!0,merge:!0}).filter((e=>!e.get("parentID")&&e.get("status")===v.vh.ALIVE));a.get("setupErrorMessages").remove("discoverDevices"),1===r.length&&n(le({serverEntityID:t.serverEntityID,deviceID:r[0].id})),a.set("isDiscoveringDevices",!1)})).fail((e=>{a.get("setupErrorMessages").add({id:"discoverDevices",message:(0,u.Z)(e,(0,h.Z)("There was a problem discovering devices"))}),a.set("isDiscoveringDevices",!1)})))},[j](e,t,n){const r=(0,I.SW)(e,t),a=Oe(e),s=g.Z.join(["/media/grabbers","tv.plex.grabbers.hdhomerun","devices"],{uri:t.uri}),o=r.getXHROptions(s,{type:"POST"});a.set("addDevicePending",!0),i().ajax(o).done(((e,n)=>{const r=a.get("devices").add(e,{parse:!0});if(0===r.length){const n=p.Z.parseXML(e),r=n&&n.message||(0,h.Z)("No device found at {1}",t.uri);a.get("setupErrorMessages").add({id:"addDevice",message:r}),a.set("addDevicePending",!1)}else a.get("setupErrorMessages").remove("addDevice"),a.set({addDevicePending:!1,selectedDevice:1===r.length?r[0]:a.get("selectedDevice")})})).fail((e=>{a.get("setupErrorMessages").add({id:"addDevice",message:(0,u.Z)(e,(0,h.Z)("There was a problem adding the device: {1}",t.uri))}),a.set("addDevicePending",!1)}))},[O](e,t){const n=Oe(e),r=je(e,t);n.set("selectedDevice",r)},[A](e,t){Oe(e).get("selectedDevice").set("selectedSource",t.source)},[L](e,t){const n=Oe(e);je(e,t).fetch().fail((e=>{n.get("setupErrorMessages").add({id:"fetchDeviceDetails",message:(0,u.Z)(e,(0,h.Z)("There was a problem getting the details for your device"))})}))},[k](e,t){const n=Oe(e),r=je(e,t),i=g.Z.join(["/media/grabbers/devices",r.get("key"),"channels"]);r.set("isChannelsPending",!0);const s={url:i,timeout:a.NF};r.get("channels").fetch(s).done((()=>{r.set({isChannelsPending:!1,isChannelsPopulated:!0,channelsError:null})})).fail((e=>{r.set({isChannelsPending:!1,isChannelsPopulated:!0,channelsError:null}),n.get("setupErrorMessages").add({id:"fetchDeviceDetails",message:(0,u.Z)(e,(0,h.Z)("There was a problem getting the channels for your device"))})}))},[R](e,t,n){const r=Oe(e),a=(0,I.SW)(e,t),o=je(e,t),l=Le(e,t),c=o.get("selectedSource")||o.get("source"),{prefs:d,network:p}=t,m=g.Z.join(["/media/grabbers/devices",o.get("key"),"scan"],{source:c,country:l,prefs:d,network:p}),y=a.getXHROptions(m,{type:"POST"});i().ajax(y).done(((e,i,a)=>{const l=a.getResponseHeader("X-Plex-Activity");if(o.get("channels").reset(),l)n(we(t));else{const t=new s.Z(e,{parse:!0});r.set("scanPrefs",t)}})).fail((e=>{r.get("setupErrorMessages").add({id:"scanDeviceChannels",message:(0,u.Z)(e,(0,h.Z)("There was a problem scanning channels"))})}))},[z](e,t,n){const r=Oe(e),a=(0,I.SW)(e,t),s=t.deviceID;if(!s)throw new Error("A device ID is required to cancel a channel scan.");const o=g.Z.join(["/media/grabbers/devices",s,"scan"]),l=a.getXHROptions(o,{type:"DELETE"});i().ajax(l).fail((e=>{r.get("setupErrorMessages").add({id:"cancelScanDeviceChannels",message:(0,u.Z)(e,(0,h.Z)("There was a problem canceling the current channel scan"))})}))},[U](e,t,n){const r=(0,I.SW)(e,t),a=Oe(e),s=a.get("selectedDevice"),o=a.get("epgSettings").get("lineupGroup"),l=g.Z.join("/livetv/epg/lineup",{device:s.get("uuid"),lineupGroup:o.get("uuid")}),c=r.getXHROptions(l);i().ajax(c).done(((e,t,n)=>{const r=n.getResponseHeader("X-Plex-Activity");a.set("epgLineupActivityID",r)})).fail((e=>{a.get("setupErrorMessages").add({id:"findBestEPGLineup",message:(0,u.Z)(e,(0,h.Z)("There was a problem mapping channels"))})}))},[V](e,t){Oe(e).set("selectedLineupUUID",t.lineupUUID)},[B]:(0,c.Z)({key:"lineupChannels",getModel:Oe}),[F](e,t){const n=Oe(e),r=n.get("channelMappings"),i=C({timeout:a.NF},t.options);n.set("isChannelMappingsPending",!0),r.fetch(i).done((()=>{t.forceEnabled&&r.each((e=>{e.set("enabled",e.has("lineupIdentifier"))})),n.set({isChannelMappingsPending:!1,isChannelMappingsPopulated:!0,channelMappingsError:null})})).fail(((e,t)=>{n.set({isChannelMappingsPending:!1,channelMappingsError:(0,y.Z)(t)})}))},[_](e,t){Oe(e).set({channelMappingsError:null,lineupChannelsError:null})},[H](e,t,n){ke(e,t).done((()=>{n(de(t))}))},[Q](e){Oe(e).set("channelMappingsSaveError",null)},[G](e,t,n){const r=Oe(e);r.set("isSavingDVR",!0);const{serverEntityID:a,deviceID:s}=t,o=Ae(e);Re(e,{serverEntityID:a,deviceID:s,enabled:!0}).then((()=>ke(e,t))).then((()=>{const n=(0,I.SW)(e,t),a=r.get("selectedDevice"),s=r.get("selectedLineupUUID"),o=r.get("epgSettings").get("selectedLanguage"),l=Le(e,t);r.get("setupErrorMessages").remove("saveDVR");const c=g.Z.join("/livetv/dvrs",{device:a.get("uuid"),lineup:s,language:o.get("code"),country:l}),d=n.getXHROptions(c,{type:"POST"});return i().ajax(d)})).then(((e,t,s)=>{const l=s.getResponseHeader("X-Plex-Activity"),c=o.add(e,{parse:!0})[0];if(!c)return i().Deferred().reject(s).promise();r.get("setupErrorMessages").remove("saveDVR"),r.set({epgDownloadActivityID:l,selectedDVR:c,isSavingDVR:!1}),n(re({serverEntityID:a})),n((0,d.lm)({serverEntityID:a}))})).fail((e=>{r.get("setupErrorMessages").add({id:"saveDVR",message:(0,u.Z)(e,(0,h.Z)("There was a problem saving your DVR. Please try again."))}),r.set("isSavingDVR",!1)}))},[W](e,t,n){const r=Oe(e);r.set("isSavingDVR",!0);const{serverEntityID:a,deviceID:s}=t,o=r.get("selectedDevice"),l=xe(e,t);Re(e,{serverEntityID:a,deviceID:s,enabled:!0}).then((()=>ke(e,t))).then((()=>{const n=(0,I.SW)(e,t),r=g.Z.join(["/livetv/dvrs",l.id,"devices",o.id]),a=n.getXHROptions(r,{type:"PUT"});return i().ajax(a)})).done(((e,t,i)=>{const s=i.getResponseHeader("X-Plex-Activity");l.get("devices").add([o]),r.set({epgDownloadActivityID:s,selectedDVR:l,isSavingDVR:!1}),n(re({serverEntityID:a})),n((0,d.lm)({serverEntityID:a}))})).fail((e=>{r.get("setupErrorMessages").add({id:"addDVRDevice",message:(0,u.Z)(e,(0,h.Z)("There was a problem adding a new device to your DVR. Please try again."))}),r.set("isSavingDVR",!1)}))},[Y](e,t,n){const r=(0,I.SW)(e,t),a=xe(e,t),s=t.deviceID,o=g.Z.join(["/livetv/dvrs",a.id,"devices",s]),l=r.getXHROptions(o,{type:"DELETE"});i().ajax(l).done(((e,t,n)=>{a.get("devices").remove(s)}))},[K](e,t){const n=(0,I.SW)(e,t),r=xe(e,t),a=t.prefs,s=g.Z.join(["/livetv/dvrs",t.dvrID,"prefs"],a);r.set("isSaving",!0);const o=n.getXHROptions(s,{type:"PUT"}),l=i().ajax(o);l.done((()=>{const e=r.get("prefs");Object.keys(a).forEach((t=>{e.get(t).set("value",a[t])})),r.set({isSaving:!1,saveError:null})})),l.fail((e=>{r.set({isSaving:!1,saveError:(0,y.Z)(e)})}))},[q](e,t){xe(e,t).set("saveError",null)},[$](e,t){const n=(0,I.SW)(e,t),r=je(e,t),a=t.prefs,s=g.Z.join(["/media/grabbers/devices",t.deviceID,"prefs"],a);r.set("isSaving",!0);const o=n.getXHROptions(s,{type:"PUT"}),l=i().ajax(o);l.done((()=>{const e=r.get("prefs");Object.keys(a).forEach((t=>{e.get(t).set("value",a[t])})),r.set({isSaving:!1,saveError:null})})),l.fail((e=>{r.set({isSaving:!1,saveError:(0,y.Z)(e)})}))},[J](e,t){const{title:n}=t,r=(0,I.SW)(e,t),a=je(e,t),s=g.Z.join(["/media/grabbers/devices",t.deviceID],{title:n,enabled:1}),o=r.getXHROptions(s,{type:"PUT"});i().ajax(o).then((()=>{a.set("title",n)}))},[X](e,t){je(e,t).set("saveError",null)},[ee](e){Oe(e).set({scanPrefs:void 0,scanNetworks:void 0})},[te](e,t){Re(e,t)},[d.Cs](e,t,n){const r=Oe(e);if(!r)return;const i=r.get("selectedDevice"),a=t.activity;if(i&&a.type===m.RG&&parseInt(a.Context.deviceID,10)===i.id){const e=a.Response.Network;if(e){const t=new f.Z(e,{parse:!0});r.set("scanNetworks",t)}else r.set("hasScannedChannels",!0)}else{if(a.uuid===r.get("epgLineupActivityID"))return r.set({selectedLineupUUID:a.Response.lineup,epgLineupActivityID:""}),void n(re({serverEntityID:t.serverEntityID}));a.uuid!==r.get("epgDownloadActivityID")||r.set("epgDownloadActivityID","")}}})},99051:(e,t,n)=>{"use strict";n.d(t,{Jl:()=>a,yr:()=>s,nY:()=>o,Y1:()=>l,W7:()=>c});var r=n(40807),i=n(3265);const a=(0,r.Z)("ui/modal/syncDownloadModalChangeTemplateMode"),s=(0,r.Z)("ui/modal/syncDownloadModalClose"),o=(0,r.Z)("ui/modal/syncDownloadModalOpen"),l=(0,r.Z)("ui/modal/syncDownloadModalSaveSubscription"),c=(0,i.Z)({})},40875:(e,t,n)=>{"use strict";n.r(t),n.d(t,{INIT_QUICK_SEARCH:()=>C,RESET_QUICK_SEARCH:()=>w,FETCH_QUICK_SEARCH:()=>Z,CHANGE_QUICK_SEARCH_QUERY:()=>T,CHANGE_QUICK_SEARCH_SETTINGS:()=>N,SELECT_QUICK_SEARCH_RESULT:()=>O,NAVIGATE_QUICK_SEARCH_RESULT:()=>A,PLAY_QUICK_SEARCH_RESULT:()=>x,initQuickSearch:()=>j,resetQuickSearch:()=>L,fetchQuickSearch:()=>k,changeQuickSearchQuery:()=>R,changeQuickSearchSettings:()=>z,selectQuickSearchResult:()=>U,navigateQuickSearchResult:()=>V,playQuickSearchResult:()=>B,quickSearchActionHandlers:()=>Q});var r=n(69273),i=n(5513),a=n(40807),s=n(15634),o=n(79932),l=n(69605),c=n(67006),d=n(17524),u=n(45399),p=n(24079),m=n(56971),h=n(69881),g=n(57054),y=n(26512),v=n(517),f=n(26636),b=n(60363),I=Object.defineProperty,S=Object.prototype.hasOwnProperty,M=Object.getOwnPropertySymbols,E=Object.prototype.propertyIsEnumerable,P=(e,t,n)=>t in e?I(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,D=(e,t)=>{for(var n in t||(t={}))S.call(t,n)&&P(e,n,t[n]);if(M)for(var n of M(t))E.call(t,n)&&P(e,n,t[n]);return e};const C="quickSearch/initQuickSearch",w="quickSearch/resetQuickSearch",Z="quickSearch/fetchQuickSearch",T="quickSearch/changeQuickSearchQuery",N="quickSearch/changeQuickSearchSettings",O="quickSearch/selectQuickSearchResult",A="quickSearch/navigateQuickSearchResult",x="quickSearch/playQuickSearchResult",j=(0,a.Z)(C),L=(0,a.Z)(w),k=(0,a.Z)(Z),R=(0,a.Z)(T),z=(0,a.Z)(N),U=(0,a.Z)(O),V=(0,a.Z)(A),B=(0,a.Z)(x);function F(e){return e.get("ui").get("quickSearch")}function _(e){return e.map((e=>e.entityID()))}function H(e,t,n){const{isCloud:r,isFullOwnedServer:i,title:a,serverFriendlyName:s,serverSourceTitle:o,providerSourceTitle:l}=e,c=d.wB(e.providerIdentifier,d.Y3);if(r)return l?`${a} - ${l}`:a;if(i&&c)return s;if(i&&!c)return`${a}  ${s}`;const{ownedSources:u,sharedSources:p}=t,m=Object.keys(u).length,h=Object.keys(p).length,g=p[o];return(g?g.length:0)>1?n?s:`${o}  ${s}`:m>0||h>0?o:void 0}const Q={[C](e,t,n){const i=F(e),a=e.get("user").get("isFullUser"),o=i.get("searches"),{searchSources:l}=t,d=(0,m.Z)(l),p=(0,s.Z)(e,u.Ao);o.reset(l.reduce(((t,n)=>{const{providerEntityID:s}=n,o=(0,v.js)(e,{providerEntityID:s});if(!o)return t;const l=o.get("features").get(c.mo),u=t.find((e=>e.id===s));if(u){if(u&&n.directoryID){const e=u.get("contentDirectoryID").split(",");e.includes(n.directoryID)||e.push(n.directoryID);const t=e.join(",");u.set("contentDirectoryID",t)}}else{const e=s===i.get("providerEntityID");t[e?"unshift":"push"](new r.Z({providerEntityID:s,serverEntityID:o.server.entityID(),key:l?l.get("key"):"/hubs/search",contentDirectoryID:n.directoryID,searchTitle:H(n,d,!a)},{server:o.server,provider:o,isContextual:e,includeCollections:!0,includeExternalMedia:p}))}return t}),[])),i.get("query")&&n(k())},[w](e){const t=F(e),n=t.get("searches");t.set({query:"",selectedResultEntityID:null}),n.each((e=>{e.restoreDefaults({providerEntityID:e.get("providerEntityID"),serverEntityID:e.get("serverEntityID"),searchTitle:e.get("searchTitle"),key:e.get("key")})}))},[Z](e,t={}){const n=F(e),r=n.get("searches"),{query:i=n.get("query"),limit:a}=t;r.each((t=>{const r=t.server;if(!r.supports("quickSearch")||!r.get("isConnected"))return void t.set({isSearchPending:!1});t.abortPendingPopulate(),t.set("isSearchPending",!0);const s=t.get("providerEntityID");(0,v.js)(e,{providerEntityID:s}).populate({merge:!0}).then((()=>t.fetch({data:{sectionId:n.get("directoryID"),query:i,limit:a}}))).done((()=>{t.set({isSearchPending:!1,isSearchPopulated:!0,searchError:null})})).fail((e=>{t.set({isSearchPending:!1,searchError:(0,g.Z)(e)})}))}))},[T](e,t,n){const r=F(e);""===t.trim()?n(L()):(r.get("query").length>1&&t.length<2&&n(L()),r.set("query",t))},[N](e,t){const n=F(e),{serverEntityID:r=n.get("serverEntityID"),providerEntityID:i=n.get("providerEntityID"),providerIdentifier:a=n.get("providerIdentifier"),directoryID:s=n.get("directoryID")}=t;n.set({serverEntityID:r,providerEntityID:i,providerIdentifier:a,directoryID:s})},[O](e,t){const n=F(e),{searchResultEntityID:r,offset:i}=t;if(r)return void n.set("selectedResultEntityID",r);const a=n.get("searches").reduce(((e,t)=>{const n=t.get("hubs").reduce(((e,t)=>e.concat(_(t.get("metadataResults")),_(t.get("tagResults")))),[]);return e.concat(n)}),[]),s=a.indexOf(n.get("selectedResultEntityID")),o=a.length-1,l=s+i,c=l<-1||l>o?i>0?-1:o:l,d=-1===c?null:a[c];n.set("selectedResultEntityID",d)},[A](e,t={},n){const r=F(e),a=null!=t.searchResultEntityID?t.searchResultEntityID:r.get("selectedResultEntityID"),s=(0,v.c_)(e,{searchResultEntityID:a});if(!s){const e=r.get("query");return n((0,i.c4)({pathname:"/search",query:{query:e}})),void n(L())}const{tagItem:o,metadataItem:l}=s.pick("tagItem","metadataItem");if(o){const e=(0,y.Z)(s.server.toJSON(),s.provider.toJSON(),(0,p.Z)(s.provider,o.get("librarySectionKey")),{key:o.get("key"),pageType:f.F6.List,context:s.metricsContext});return n(L()),void(e&&(window.location.hash=e))}const c=(0,p.Z)(s.provider,l.get("librarySectionKey")),d=(0,b.Z)(s.server.attributes,s.provider.attributes,l.attributes,{context:s.metricsContext,legacy:l.get("type")===h.PHOTO_ALBUM?1:void 0},c);d?(window.location.hash=d,n(L())):n(B({searchResultEntityID:a}))},[x](e,t={},n){const{options:r}=t,i=F(e),a=null!=t.searchResultEntityID?t.searchResultEntityID:i.get("selectedResultEntityID"),s=(0,v.c_)(e,{searchResultEntityID:a});if(!s)return void n(V(t));const c=s.get("metadataItem");c&&(n((0,o.wA)({serverEntityID:s.server.entityID(),providerEntityID:s.provider.entityID(),metadataItemEntityID:c.entityID(),metricsPage:l.xX,metricsContext:s.metricsContext,options:D({containerKey:c.get("skipParent")?c.get("grandparentKey"):c.get("parentKey")},r)})),n(L()))}}},35871:(e,t,n)=>{"use strict";n.d(t,{Ag:()=>Y,K3:()=>K,Es:()=>q,wV:()=>$,rV:()=>J,b6:()=>X,av:()=>ee,ly:()=>te,vX:()=>ne,jD:()=>re,L1:()=>ie,K_:()=>se,TR:()=>ue,$i:()=>pe,lo:()=>me});var r=n(19755),i=n.n(r),a=n(40807),s=n(3265),o=n(48293),l=n(75300),c=n(32091),d=n(68187),u=n(20023),p=n(86953),m=n(70515),h=n(27082),g=n(5562),y=n(84936),v=n(33295),f=n(84807),b=n(24781),I=n(22724),S=n(1483),M=n(1039),E=n(19378),P=n(6797),D=n(43666),C=n(517),w=n(13550),Z=Object.defineProperty,T=Object.prototype.hasOwnProperty,N=Object.getOwnPropertySymbols,O=Object.prototype.propertyIsEnumerable,A=(e,t,n)=>t in e?Z(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,x=(e,t)=>{for(var n in t||(t={}))T.call(t,n)&&A(e,n,t[n]);if(N)for(var n of N(t))O.call(t,n)&&A(e,n,t[n]);return e};const j="shareModal",L="ui/shareModal/initShareModal",k="ui/shareModal/resetShareModal",R="ui/shareModal/sharePreviousStep",z="ui/shareModal/shareNextStep",U="ui/shareModal/validateUsername",V="ui/shareModal/setUsername",B="ui/shareModal/setUser",F="ui/shareModal/fetchServerOverviews",_="ui/shareModal/fetchServerShares",H="ui/shareModal/setLibraryShares",Q="ui/shareModal/fetchFilterOptionsTags",G="ui/shareModal/saveItemShare",W="ui/shareModal/saveLibraryShares",Y=(0,a.Z)(L),K=(0,a.Z)(k),q=(0,a.Z)(R),$=(0,a.Z)(z),J=(0,a.Z)(U),X=(0,a.Z)(V),ee=(0,a.Z)(B),te=(0,a.Z)(F),ne=(0,a.Z)(_),re=(0,a.Z)(H),ie=(0,a.Z)(Q),ae=(0,a.Z)(G),se=(0,a.Z)(W);function oe(e){return e.get("ui").get("shareModal")}function le(e,t){const n=e.get("servers"),{metadataItemEntityID:r,isNewFriend:i=!0,isAddingHomeUser:a,isCreatingManagedUser:s}=t,o=[];a&&o.push(b.p.WARNING),o.push(b.p.USER);const l=!!r,c=n.some((e=>e.get("isFullOwnedServer")&&e.get("isClaimed")&&e.get("friendlyName")));return!l&&c&&o.push(b.p.LIBRARIES),l||!i&&!a||o.push(b.p.RESTRICTIONS),i&&!s&&o.push(b.p.SUMMARY),o}function ce(e,t){return e.findIndex((e=>e===t))}function de(e,t){return e[ce(e,t)-1]}function ue(e,t){return e[ce(e,t)+1]}function pe(e,t){const n=ue(e,t);return!(!n||n===b.p.SUMMARY)}const me=(0,s.Z)({[L](e,t){const n=oe(e),r=le(e,t);n.set({steps:r,step:r[0]})},[k](e,t={}){const n=oe(e);v.Z.abortAll(j),n.restoreDefaults(t)},[R](e,t,n){const r=oe(e),i=r.get("steps"),a=r.get("step"),s={steps:i,step:de(i,a),username:r.get("username"),restrictionProfileIdentifier:r.get("restrictionProfileIdentifier"),isUsernameValidated:!r.get("isCreatingManagedUser")};a===b.p.RESTRICTIONS&&(s.friendEntityID=r.get("friendEntityID"),s.isNewFriend=r.get("isNewFriend"),s.isAddingHomeUser=r.get("isAddingHomeUser"),s.isCreatingManagedUser=r.get("isCreatingManagedUser"),s.selectedAllLibrariesMachineIdentifiers=r.get("selectedAllLibrariesMachineIdentifiers"),s.selectedLibrarySectionIDs=r.get("selectedLibrarySectionIDs")),n(K(s))},[z](e){const t=oe(e),n=ue(t.get("steps"),t.get("step"));n&&t.set({step:n})},[U](e,t={}){const n=oe(e),r=e.get("cloudServer"),{username:a=""}=t;if(""===a.trim())return void n.set({isUsernameValidating:!1,isUsernameValidated:!1});(0,h.c9)((()=>{n.set({isUsernameValidating:!0,isUsernameValidated:!1})}));const s=y.Z.join("/api/users/validate",{invited_email:a}),o=r.getXHROptions(s,{type:"POST",scope:j});i().ajax(o).done((()=>{n.set({isUsernameValidating:!1,isUsernameValidated:!0})})).fail((()=>{n.set({isUsernameValidating:!1})}))},[V](e,t={},n){const r=oe(e),{metadataItemEntityID:i,username:a,restrictionProfileIdentifier:s,isAddingHomeUser:o,isCreatingManagedUser:l}=t,c=e.get("user").get("allFriends");let d=c.findWhere({username:a});d||(d=c.findWhere({email:a}));const u=!!d&&!l,p=u?d.entityID():null,m=le(e,{metadataItemEntityID:i,isNewFriend:!u,isAddingHomeUser:o,isCreatingManagedUser:l});r.set({steps:m,metadataItemEntityID:i,friendEntityID:p,username:u?d.get("title"):a,restrictionProfileIdentifier:s,isNewFriend:!u,isAddingHomeUser:o,isCreatingManagedUser:l}),n(pe(m,b.p.USER)?$():i?ae():se())},[B](e,t={},n){const r=oe(e),i=(0,C.KC)(e,t),{metadataItemEntityID:a,isAddingHomeUser:s}=t,o=i.entityID(),l=le(e,{metadataItemEntityID:a,isNewFriend:!1,isAddingHomeUser:s,isCreatingManagedUser:!1});r.set({steps:l,metadataItemEntityID:a,friendEntityID:o,username:i.get("title"),isNewFriend:!1,isAddingHomeUser:s}),n(a?ae():$())},[F](e,t={}){const n=oe(e),{serverEntityIDs:r}=t;(0,h.c9)((()=>{n.set({isServerOverviewsPopulating:!0,isServerOverviewsPopulated:!1})})),(0,o.Z)(r).then((e=>{n.set({isServerOverviewsPopulating:!1,isServerOverviewsPopulated:!0,serverOverviews:e})}))},[_](e,t={}){const n=oe(e),r=(0,C.KC)(e,t);v.Z.abortAll(j),r?((0,h.c9)((()=>{n.set({isServerSharesPopulating:!0,isServerSharesPopulated:!1,serverSharesError:null})})),(0,l.Z)(r,j).done((()=>{n.set({isServerSharesPopulating:!1,isServerSharesPopulated:!0})})).fail((()=>{n.set({isServerSharesPopulating:!1,serverSharesError:(0,g.Z)("Failed to load shares.")})}))):n.set("isServerSharesPopulated",!0)},[H](e,t={},n){const r=oe(e);r.set(t),n(pe(r.get("steps"),b.p.LIBRARIES)?$():se())},[Q](e,t={}){const n=oe(e),{serverEntityIDs:r}=t,i=r.map((t=>(0,C.SW)(e,{serverEntityID:t})));v.Z.abortAll(j),(0,h.c9)((()=>{n.set({isFilterOptionsTagsPopulating:!0,isFilterOptionsTagsPopulated:!1})})),(0,E.Z)(i,j).done((e=>{n.set({isFilterOptionsTagsPopulating:!1,isFilterOptionsTagsPopulated:!0,filterOptionsTags:e})}))},[G](e,t,n){const r=oe(e),a=r.get("metadataItemEntityID"),s=r.get("friendEntityID"),o=r.get("username"),l=r.get("isNewFriend"),c=e.get("cloudServer");(0,h.c9)((()=>{r.set({isSharingPending:!0,isSharingCompleted:!1,sharingError:null,inviteTokenError:null})}));const d=(0,C.$R)(e,{metadataItemEntityID:a}),u=(0,p.Z)({serverIdentifier:d.server.get("machineIdentifier"),key:d.get("key")}),m=(0,w.Z)({type:d.get("type"),title:d.get("title"),parentTitle:d.get("parentTitle"),grandparentTitle:d.get("grandparentTitle"),index:d.get("index"),parentIndex:d.get("parentIndex"),originallyAvailableAt:d.get("originallyAvailableAt")},f.U),y={items:[{uri:u,type:d.get("type"),title:m}]};if(s){const t=(0,C.KC)(e,{friendEntityID:s});y.invitedId=t.id}else y.invitedEmail=o;const v=c.getXHROptions("/api/v2/shared_items",{type:"POST",contentType:"application/json",dataType:"json",data:JSON.stringify(y),scope:j});i().ajax(v).then((t=>{l?function(e,t){const n=`/api/v2/shared_sources/${t}`,r=e.get("cloudServer").getXHROptions(n,{type:"GET",dataType:"json",scope:j});return i().ajax(r).then((e=>e.inviteToken),(e=>{const t=e&&e.status?e.responseJSON.errors:null,n=t?t[0].message:(0,g.Z)("Unknown error");return(0,g.Z)("Failed to get invite link: {errorMessage}",{errorMessage:n})}))}(e,t[0].sharedSourceId).done((e=>{r.set({inviteToken:e,isSharingPending:!1,isSharingCompleted:!0})})).fail((e=>{r.set({inviteTokenError:e,isSharingPending:!1,isSharingCompleted:!0})})).always((()=>{n($())})):r.set({isSharingPending:!1,isSharingCompleted:!0})}),(e=>{const t=e&&e.status?e.responseJSON.errors:null,n=t?t[0].message:null;r.set({isSharingPending:!1,sharingError:n||(0,g.Z)("Failed to share item")})}))},[W](e,t={},n){const{addToHome:r,restrictions:a={}}=t,s=oe(e),o=s.get("friendEntityID"),l=s.get("username"),p=s.get("restrictionProfileIdentifier"),y=s.get("isNewFriend"),v=s.get("isAddingHomeUser"),f=s.get("isCreatingManagedUser"),b=s.get("serverOverviews"),E=s.get("selectedAllLibrariesMachineIdentifiers")||[],w=s.get("selectedLibrarySectionIDs")||[],Z=e.get("user");(0,h.c9)((()=>{s.set({isSharingPending:!0,isSharingCompleted:!1,sharingError:null})}));const T=[],N=o?(0,C.KC)(e,{friendEntityID:o}):new I.Z({username:l},{server:Z.server}),O=(0,P.Z)(a);y&&N.set(O);const A=N.get("serverShares").where({owned:!0}),j=function(e=[]){return e.reduce(((e,t)=>(t.get("sections").forEach((n=>{e[n.get("id")]=t.get("machineIdentifier")})),e)),{})}(b),L=A.map((e=>e.get("machineIdentifier"))),k=Array.from(new Set(w.map((e=>j[e])))),R=Array.from(new Set([...L,...k,...E])),z=v||r&&!N.get("home")||f;let U;if(z){const e=x(x({},O),{username:l,restricted:f});p&&p!==d.Pq&&(e.restrictionProfile=p),U=new S.Z(e,{server:Z.server}).save(),f&&(U=U.then((e=>{N.set("id",parseInt(m.Z.parseXML(e).id,10))})))}else{const e=0===R.length;U=y&&e?N.save(x({user:l},O)):i().Deferred().resolve().promise()}U.done((()=>{R.forEach((e=>{const t=b.get(e);if(!t)return;const n=A.find((t=>t.get("machineIdentifier")===e)),r=E.indexOf(e)>-1,i=!n,a=!r&&!k.find((t=>t===e)),s=function(e,t){const n=e.get("sections");return t.filter((e=>n.get(e)))}(t,w),o=r?[]:s;if(i){const t=new M.Z({machineIdentifier:e}),n=(0,c.Z)({user:Z,friend:N,serverShare:t,librarySectionIDs:o,isNewFriend:y,isCreatingManagedUser:f,isNewServerShare:!0});T.push(n)}else if(a)T.push(n.destroy({wait:!0}));else{const e=(0,c.Z)({user:Z,friend:N,serverShare:n,librarySectionIDs:o,isNewFriend:y,isCreatingManagedUser:f,isNewServerShare:!1});T.push(e)}})),i().when(...T).done(((...e)=>{const t={isSharingPending:!1,isSharingCompleted:!0};if(R.length>0&&y&&!f){const n=(T.length>1?e[e.length-1]:e)[0];t.inviteToken=n.inviteToken}s.set(t),f&&Z.set("home",!0),n($())})).fail(((...e)=>{let t;for(const n of e){const e=(0,u.Z)(n,null,"status");if(e){t=e;break}}t||(t=f?(0,g.Z)("Failed to create home user."):y?(0,g.Z)("Failed to send invite."):(0,g.Z)("Failed to update server shares.")),s.set({isSharingPending:!1,sharingError:t})})).always((()=>{n((0,D.Tp)()),n((0,D.bc)()),z&&(Z.get("homeUsers").fetch(),n((0,D.RY)()),n((0,D.Tz)()))}))})).fail((e=>{const t=(0,u.Z)(e,null,"status")||(0,g.Z)("Failed to create home user.");s.set({isSharingPending:!1,sharingError:t})}))}})},43666:(e,t,n)=>{"use strict";n.d(t,{Ol:()=>lt,U_:()=>Ke,Bt:()=>dt,p7:()=>Ve,Mi:()=>We,K2:()=>$e,Nt:()=>at,G_:()=>et,Tp:()=>Be,Dl:()=>tt,RY:()=>Fe,xP:()=>st,ZQ:()=>Qe,bc:()=>ot,HL:()=>Ye,W1:()=>pt,Bl:()=>He,Dg:()=>_e,jT:()=>ct,tJ:()=>rt,EN:()=>nt,dL:()=>Je,fK:()=>gt,EL:()=>qe,Y2:()=>Mt,Dy:()=>bt,zi:()=>ft,JY:()=>St,ay:()=>It,E8:()=>ht,Tz:()=>ut,mo:()=>Xe,Xe:()=>vt,Z$:()=>yt,yA:()=>it,Dm:()=>mt,Nq:()=>Ge,Kq:()=>wt});var r=n(19755),i=n.n(r),a=n(13469),s=n.n(a),o=n(93966),l=n(59756),c=n(5513),d=n(40807),u=n(33816),p=n(27940),m=n(4134),h=n(99317),g=n(32901),y=n(88050),v=n(96335),f=n(69605),b=n(77349);const I=[7,30,60,90];function S(e=0){return(0,b.Z)(Date.now(),I[e]||180)}var M=n(32846),E=n(20023),P=n(96840);function D(e){return e.isCloud?"online":e.isFullOwnedServer?"owned":"shared"}function C(e){return e.isConnected?"online":"offline"}var w=n(66729);var Z=n(70515),T=n(17575),N=n(29065),O=n(28440),A=n(27082),x=n(5562),j=n(84936),L=n(64033),k=n(43451),R=n(11491),z=n(80129),U=n.n(z),V=n(28496);const B=function(e,t){const n=e.server.getXHROptions(s().result(e,"url"),{method:"POST",dataType:"json",data:U().stringify({urls:t},{arrayFormat:"brackets"})||"urls="});return(0,V.Z)(i().ajax(n),400).then((t=>{e.reset(t)}),(e=>i().Deferred().reject(e.status&&e.responseJSON.errors||[]).promise()))};var F=n(517),_=n(43322),H=n(97189),Q=n(58499),G=Object.defineProperty,W=Object.prototype.hasOwnProperty,Y=Object.getOwnPropertySymbols,K=Object.prototype.propertyIsEnumerable,q=(e,t,n)=>t in e?G(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,$=(e,t)=>{for(var n in t||(t={}))W.call(t,n)&&q(e,n,t[n]);if(Y)for(var n of Y(t))K.call(t,n)&&q(e,n,t[n]);return e};const J="user/changePreferredServer",X="user/fetchAllFriends",ee="user/populateAllFriends",te="user/fetchHomeUsers",ne="user/populateHomeUsers",re="user/fetchPlans",ie="user/populatePlans",ae="user/updateUser",se="user/clearUpdateUserError",oe="user/fetchWebhooks",le="user/addWebhook",ce="user/replaceWebhook",de="user/clearUpdateWebhookError",ue="user/removeWebhook",pe="user/startFirstRunExperience",me="user/endFirstRunExperience",he="user/fetchHomeDetails",ge="user/removeHomeUser",ye="user/removeFriend",ve="user/toggleGuestUser",fe="user/editHomeUserPIN",be="user/fetchInvites",Ie="user/fetchSentInvites",Se="user/acceptInvite",Me="user/rejectInvite",Ee="user/cancelInvite",Pe="user/showNewHomeWarnings",De="user/pinSources",Ce="user/unpinSources",we="user/setupSources",Ze="user/reorderPinnedSources",Te="user/updatePinnedSources",Ne="user/dismissUpsellModal",Oe="user/saveSetting",Ae="user/syncSettings",xe="user/syncExperienceSettings",je="user/restoreDefaultExperienceSettings",Le="user/restoreCustomizationSettings",ke="user/setTwoFactorEnabled",Re="user/setReminder",ze="user/removeReminder",Ue="user/resetReminders",Ve=(0,d.Z)(J),Be=(0,d.Z)(X),Fe=(0,d.Z)(te),_e=(0,d.Z)(ne),He=(0,d.Z)(ee),Qe=(0,d.Z)(re),Ge=((0,d.Z)(ie),(0,d.Z)(ae)),We=(0,d.Z)(se),Ye=(0,d.Z)(oe),Ke=(0,d.Z)(le),qe=(0,d.Z)(ce),$e=(0,d.Z)(de),Je=(0,d.Z)(ue),Xe=(0,d.Z)(pe),et=(0,d.Z)(me),tt=(0,d.Z)(he),nt=(0,d.Z)(ge),rt=(0,d.Z)(ye),it=(0,d.Z)(ve),at=(0,d.Z)(fe),st=(0,d.Z)(be),ot=(0,d.Z)(Ie),lt=(0,d.Z)(Se),ct=(0,d.Z)(Me),dt=(0,d.Z)(Ee),ut=(0,d.Z)(Pe),pt=(0,d.Z)(De),mt=(0,d.Z)(Ce),ht=(0,d.Z)(we),gt=(0,d.Z)(Ze),yt=((0,d.Z)(Te),(0,d.Z)(Ne),(0,d.Z)(Oe),(0,d.Z)(Ae)),vt=(0,d.Z)(xe),ft=(0,d.Z)(je),bt=(0,d.Z)(Le),It=(0,d.Z)(ke),St=(0,d.Z)(Re),Mt=((0,d.Z)(ze),(0,d.Z)(Ue));function Et(e,t){if(!e.get("isSignedIn")||!l.Z.allowSyncSettings)return i().Deferred().resolve().promise();const n=Array.isArray(t)?t:[t],r=j.Z.join("/api/v2/user/settings",{sharedSettings:(0,L.Z)(e)?1:0}),a=e.server.getXHROptions(r,{type:"POST",contentType:"application/json",dataType:"json",data:JSON.stringify({value:JSON.stringify(n)})});return i().ajax(a).promise()}function Pt(e,t){if(!e)return null;const n=e.find((e=>e.id===t));return n&&n.updatedAt}function Dt(e){return e.get("user")}function Ct(e){return e.get("user").get("experienceSettings").get("sidebarSettings")}const wt={[m.gk]:m.Kq[m.gk],[m.FC]:m.Kq[m.FC],[m.xZ]:m.Kq[m.xZ],[m.tB]:m.Kq[m.tB],[m.Dz]:m.Kq[m.Dz],[m.PF]:m.Kq[m.PF],[m.k_](e){(0,A.c9)((()=>{e.get("user").set("lockState",_.Ik.Locked)}))},[J](e,t,n){const{machineIdentifier:r}=t;(function(e){return e.get("user").get("experienceSettings").get("homeSettings")})(e).set("preferredServerID",r),function(e,t){const n=e.get("user").get("experienceSettings").get("homeSettings");n.set("settingsKey",(0,h.Z)()),t((0,m.LN)({homeSettings:n}))}(e,n)},[X]:(0,u.Z)({key:"allFriends",getModel:Dt}),[ee]:(0,p.Z)({key:"allFriends",fetchActionCreator:Be,getModel:Dt}),[te]:(0,u.Z)({key:"homeUsers",getModel:O.bg}),[ne]:(0,u.Z)({key:"homeUsers",fetchActionCreator:Fe,getModel:O.bg}),[re]:(0,u.Z)({key:"plans",getModel:O.bg}),[ie]:(0,p.Z)({key:"plans",fetchActionCreator:Qe,getModel:O.bg}),[se](e){(0,O.bg)(e).set("updateUserError",null)},[ae](e,t,n){const r=(0,O.bg)(e),a=e.get("user"),o=t,{avatar:l}=o,c=((e,t)=>{var n={};for(var r in e)W.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&Y)for(var r of Y(e))t.indexOf(r)<0&&K.call(e,r)&&(n[r]=e[r]);return n})(o,["avatar"]);let d;if(r.set({isUpdatingUser:!0,updateUserError:null}),l)d=(0,R.Z)(l);else{const e=new window.FormData;s().each(c,((t,n)=>{e.append(n,t)}));const t=s().result(a,"url"),n=null!=c.experimentalFeatures?j.Z.join([t,"settings","experimental_features"],{opt_in:c.experimentalFeatures}):t,r=a.server.getXHROptions(n,{type:"PUT",processData:!1,contentType:!1,data:null!=c.experimentalFeatures?void 0:e});d=i().ajax(r)}d.done((e=>{!t.avatar&&a.get("hasPassword")||a.fetch();const n=s().reduce(t,((e,t,n)=>(a.hasAttr(n)&&(e[n]=t),e)),{});a.set(n),r.set({isUpdatingUser:!1,updateUserError:null})})).fail((e=>{const t=Z.Z.parseXML(e.responseText),n=Array.isArray(t)&&t||(Array.isArray(t.error)?t.error:[t.error]),i=s().mapObject(s().groupBy(n,(e=>e&&e.field?e.field:"request")),((e,t)=>s().flatten(e)));r.set({isUpdatingUser:!1,updateUserError:i})}))},[oe]:(0,u.Z)({key:"webhooks",getModel:O.bg}),[le](e){const t=(0,O.bg)(e);t.get("webhooks").add({}),t.set("updateWebhooksError",null)},[ce](e,{oldUrl:t,newUrl:n}){const r=(0,O.bg)(e),i=r.get("webhooks");if(i.findWhere({url:t})){const e=i.map((e=>{const r=e.get("url");return r===t?n:r}));r.set({isUpdatingWebhooks:!0,updateWebhooksError:null}),B(i,e).always((()=>{r.set("isUpdatingWebhooks",!1)})).fail((e=>{r.set("updateWebhooksError",e[0])}))}},[de](e){(0,O.bg)(e).set("updateWebhooksError",null)},[ue](e,t){const n=(0,O.bg)(e),r=n.get("webhooks");if(!t){const e=r.filter((e=>e.get("url")!==t));return void r.reset(e)}n.set({isRemovingWebhooks:!0,updateWebhooksError:null});const i=r.map((e=>e.get("url"))).filter((e=>e!==t));B(r,i).always((()=>{n.set("isRemovingWebhooks",!1)})).fail((e=>{n.set("updateWebhooksError",e[0])}))},[pe](e,t={},n){window.setTimeout((()=>{n((0,c.c4)({replace:!0,pathname:"/client-setup"}))}),0)},[me](e,t,n){const{preferredServerEntityID:r}=t;if(r){!function(e,t=!0){(0,o.DB)("metrics").trackEvent({event:v.Ip,interaction:t,properties:{page:f.mU,action:y.ic,serverType:(0,w.Z)(e),status:C(e),firstRun:!0}})}((0,O.SW)(e,{serverEntityID:r}).toJSON(),t.preferredServerInteraction)}window.setTimeout((()=>{(0,H.Z)("home",{},!0)}),0)},[he](e){const t=(0,O.bg)(e),n=t.get("homeDetails");t.set("isHomeDetailsPending",!0),n.fetch().then((()=>{t.set({isHomeDetailsPending:!1,isHomeDetailsPopulated:!0,homeDetailsError:null})}),((e,n)=>{const r={isHomeDetailsPending:!1};404===n.status?(r.isHomeDetailsPopulated=!0,r.homeDetailsError=null):(r.isHomeDetailsPopulated=!1,r.homeDetailsError=n),t.set(r)}))},[ge](e,t,n){const r=e.get("user"),a=(0,O.bg)(e),s=a.get("homeUsers"),o=r.get("homeUsers"),l=r.get("allFriends"),c=(0,F.dH)(e,t),d=r.id===c.id;(0,A.c9)((()=>{c.set("isRemoving",!0)}));const u=c.server.getXHROptions(c.url(),{type:"DELETE"});i().ajax(u).then((()=>{const e=l.get(c.id);e?(c.get("restricted")?l.remove(e):e.set("home",!1),s.remove(c)):(s.reset([c]),c.set("admin",!0),l.each((e=>{e.set("home",!1)})));const t=!!r.get("pin")||s.length>1;if(r.set("home",t),!t){const e=a.get("homeDetails"),t=r.get("homeDetails");e.restoreDefaults(),t.restoreDefaults()}o.fetch(),c.set("isRemoving",!1)}),(()=>{n((0,g.wp)({type:"error",message:d?(0,x.Z)("There was a problem leaving this home."):(0,x.Z)("There was a problem removing this user.")})),c.set({isRemoving:!1})}))},[ye](e,t,n){const r=e.get("user"),a=(0,O.bg)(e),s=a.get("homeUsers"),o=r.get("allFriends"),l=r.get("homeUsers"),c=(0,F.KC)(e,t);(0,A.c9)((()=>{c.set("isRemoving",!0)}));const d=j.Z.join(["/api/v2/friends",c.id]),u=c.server.getXHROptions(d,{type:"DELETE"});i().ajax(u).then((()=>{const e=c.get("home");a.get("invites").fetch(),a.get("sentInvites").fetch(),e&&(s.fetch(),l.fetch()),c.get("serverShares").some((e=>!e.owned))&&M.Z.trigger("discover:servers"),c.set({isRemoving:!1}),o.remove(c)}),(()=>{n((0,g.wp)({type:"error",message:(0,x.Z)("There was a problem removing this friend.")})),c.set({isRemoving:!1})}))},[ve](e,t,n){const r=e.get("user"),a=(0,O.bg)(e),s=r.get("homeSize"),o=a.get("homeDetails"),l=a.get("homeUsers"),c=r.get("allFriends"),d=r.get("homeDetails"),u=r.get("homeUsers"),p=!o.get("guestEnabled");o.set("isTogglingGuestUser",!0);const m=j.Z.join("/api/home",{guestEnabled:p?1:0}),h=p&&1===s,y=r.server.getXHROptions(m,{type:h?"POST":"PUT"});i().ajax(y).then((()=>{l.fetch(),c.fetch(),u.fetch(),p||2!==s?(d.set("guestEnabled",p),o.set({guestEnabled:p,isTogglingGuestUser:!1}),h&&r.set("home",!0)):(d.clear(),o.clear(),r.set("home",!1))}),(e=>{const t=p?(0,x.Z)("Unable to enable guest account"):(0,x.Z)("Unable to disable guest account"),r=(0,E.Z)(e,t,"status");n((0,g.wp)({type:"error",message:r})),o.set("isTogglingGuestUser",!1)}))},[fe](e,t){const n=(0,F.dH)(e,t),r=new Q.Z({model:n,isEditing:!0});M.Z.trigger("show:modal",r),r.promise.then((e=>{n.set("protected",!!e)}))},[be]:(0,u.Z)({key:"invites",getModel:O.bg}),[Ie]:(0,u.Z)({key:"sentInvites",getModel:O.bg}),[Se](e,t,n){const r=e.get("user"),a=(0,O.bg)(e),s=a.get("invites"),o=s.get(t.inviteID),l=a.get("homeUsers").get(r.id),c=r.get("homeUsers");o.set("isAccepting",!0);const d=l.get("protected");(o.get("home")&&!d?function(e){const t=new Q.Z({model:e,isEditing:!0,isEditWarning:!0});return M.Z.trigger("show:modal",t),(0,T.Z)(t.promise)}(l):i().Deferred().resolve().promise()).then((()=>o.save(null,{force:!0}))).then((()=>{s.remove(o),c.fetch(),n(Fe()),n(Be()),n(ot()),o.get("server")&&M.Z.trigger("discover:servers")}),(e=>{o.set("isAccepting",!1),n((0,g.wp)({type:"error",message:(0,x.Z)("There was a problem accepting this invite.")}))}))},[Me](e,t,n){const r=(0,O.bg)(e).get("invites"),a=r.get(t.inviteID);a.set("isRemoving",!0);const s=a.server.getXHROptions(a.url(),{type:"DELETE"});i().ajax(s).then((()=>{r.remove(a),a.get("server")&&n(Be())}),(()=>{a.set("isRemoving",!1),n((0,g.wp)({type:"error",message:(0,x.Z)("There was a problem rejecting this invite.")}))}))},[Ee](e,t,n){const r=(0,O.bg)(e).get("sentInvites"),a=r.get(t.inviteID);a.set("isRemoving",!0);const s=a.server.getXHROptions(a.url(),{type:"DELETE"});i().ajax(s).then((()=>{r.remove(a),a.get("server")&&n(Be())}),(()=>{a.set("isRemoving",!1),n((0,g.wp)({type:"error",message:(0,x.Z)("There was a problem canceling this invite.")}))}))},[Pe](e,t,n){const r=e.get("user"),i=(0,O.bg)(e).get("homeUsers"),a=i.get(r.id);if(a.get("protected")||i.length>1)return;const s=new Q.Z({model:a,isEditing:!0,isEditWarning:!0});M.Z.trigger("show:modal",s)},[we](e,t,n){const r=Ct(e),i=r.get("pinnedSources"),{sources:a=[]}=t;r.get("hasCompletedSetup")||r.set("hasCompletedSetup",!0);const s=a.map(N.Z);i.reset(s),n((0,m.LN)({sidebarSettings:r})),s.forEach((e=>{(0,o.DB)("metrics").trackEvent({event:v.Ip,interaction:!0,identifier:e.providerIdentifier,properties:{page:f.VP,action:y.T5,type:e.sourceType,serverType:D(e),firstRun:!0}})}))},[De](e,t,n){const r=Ct(e),i=r.get("pinnedSources"),{sources:a=[],interaction:s=!0}=t,l=a.map(N.Z);i.add(l),n((0,m.LN)({sidebarSettings:r})),l.forEach((e=>{(0,o.DB)("metrics").trackEvent({event:v.Ip,interaction:s,identifier:e.providerIdentifier,properties:{page:f.jy,action:y.T5,type:e.sourceType,serverType:D(e),firstRun:!1}})}))},[Ce](e,t,n){const r=Ct(e),i=r.get("pinnedSources"),{sources:a=[]}=t,s=a.map((e=>i.get(e.key)));i.remove(s),n((0,m.LN)({sidebarSettings:r})),a.forEach((e=>{(0,o.DB)("metrics").trackEvent({event:v.Ip,interaction:!0,identifier:e.providerIdentifier,properties:{page:f.jy,action:y.t6,type:e.sourceType,serverType:D(e),firstRun:!1}})}))},[Ze](e,t,n){const r=Ct(e),i=r.get("pinnedSources"),a=t.sourceKeys.map((e=>i.get(e)));i.reset(a),n((0,m.LN)({sidebarSettings:r})),(0,o.DB)("metrics").trackEvent({event:v.Ip,interaction:!0,properties:{page:f.jy,action:y.wC}})},[Te](e,t,n){const{sourceKeys:r,pinnedSourceAttrs:i}=t,a=Ct(e),s=a.get("pinnedSources");r.forEach((e=>{const t=s.get(e);t&&t.set(i)})),n((0,m.LN)({sidebarSettings:a}))},[Ne](e,t,n){const r=e.get("user").get("experienceSettings").get("dismissedUpsellModals"),{dismissedModal:i}=t;r.includes(i)||n((0,m.LN)({dismissedUpsellModals:[...r,i]}))},[Oe](e,t,n){e.get("user").get("settings").get(t.id).set({value:t.value,isDirty:!0}),n(yt([t.id]))},[Ae](e,t){const n=e.get("user"),r=n.get("settings");Et(n,t.map((e=>r.get(e).toJSON({syncedOnly:!0})))).then((e=>{t.forEach((t=>{const n=r.get(t),i=Pt(e,t);i&&n.set({updatedAt:i,isDirty:!1})}))}))},[m.pL](e,t,n){e.get("user").get("experienceSettings").set($($({},t),{isDirty:!0})),n(vt())},[xe](e){const t=e.get("user"),n=t.get("experienceSettings"),r=n.toJSON({excluded:["updatedAt"],syncedOnly:!0,excludeDefaults:!0});n.set({isSaving:!0,saveError:null}),Et(t,{id:k.U,type:"json",value:JSON.stringify(r),hidden:!0}).then((e=>{const t=Pt(e,k.U),r={isSaving:!1};t&&(r.updatedAt=t,r.isDirty=!1),n.set(r)}),(()=>{n.set({isSaving:!1,saveError:{message:(0,x.Z)("An error occurred while syncing settings")}})}))},[je](e,t,n){const r=e.get("user").get("experienceSettings"),i={showAdvancedSettings:r.get("showAdvancedSettings"),isDirty:!0};r.restoreDefaults(i),n(vt())},[Le](e,t,n){const r=e.get("user").get("experienceSettings");r.set("autoHomeHubsEnabled",!0),r.get("homeSettings").restoreDefaults(),r.get("sidebarSettings").restoreDefaults(),n(vt())},[ke](e,{twoFactorEnabled:t},n){e.get("user").set({twoFactorEnabled:t})},[Re](e,t,n){const r=e.get("user").get("experienceSettings"),{id:i,data:a}=t,s=r.get("reminders"),o=s.get(i),l=o?o.get("times")+1:0;s.add({data:a,id:i,times:l,remindAfter:S(l).toISOString()},{merge:!0}),n((0,m.LN)())},[ze](e,t,n){e.get("user").get("experienceSettings").get("reminders").remove(t.id),n((0,m.LN)())},[Ue](e,t,n){const r=e.get("user").get("experienceSettings").get("reminders");(0,P.Z)(`[User] Removing ${r.length} reminders`),r.clear(),n((0,m.LN)())}}},58709:(e,t,n)=>{"use strict";n.d(t,{dB:()=>O,GX:()=>L,pS:()=>A,TN:()=>j,KU:()=>x,Yl:()=>R,Z7:()=>N,Uw:()=>k,VV:()=>U});var r=n(93966),i=n(95688),a=n(40807),s=n(19755),o=n.n(s),l=n(44516),c=n(16487);var d=n(47327),u=n(96335),p=n(17524),m=n(96840),h=n(86953),g=n(60316),y=n(5562),v=n(15042),f=n(29150),b=n(517),I=n(63178),S=n(13550);const M="watchTogetherRooms/tryUpdateRooms",E="watchTogetherRooms/createRoom",P="watchTogetherRooms/inviteUsers",D="watchTogetherRooms/resetCreateRoom",C="watchTogetherRooms/populateMetadataItem",w="watchTogetherRooms/deleteRoom",Z="watchTogetherRooms/roomsUpdated",T="watchTogetherRooms/updateRooms",N=((0,a.Z)("watchTogetherRooms/initialize"),(0,a.Z)(M)),O=(0,a.Z)(E),A=(0,a.Z)(P),x=(0,a.Z)(D),j=(0,a.Z)(C),L=(0,a.Z)(w),k=(0,a.Z)(T),R=(0,a.Z)(Z);function z(e){return e.get("ui").get("watchTogether")}const U={[M](e,t,n){const i=(0,r.DB)("watchTogetherRoomsManager").getRoomsClient();!1===(null==i?void 0:i.isOpen)&&n(k())},[T](e,t,n){const i=(0,r.DB)("watchTogetherRoomsManager").getRoomsClient(),a=z(e);a.set({isRoomsPending:!0,isRoomsPopulated:!1}),i.rooms().then((e=>{n(R({rooms:e}))}),(e=>{m.Z.warn("[Watch Together] Unable to fetch rooms:",e),a.set({roomsError:(0,y.Z)("Unable to retrieve Watch Together rooms."),isRoomsPending:!1,isRoomsPopulated:!1})}))},[Z](e,t,n){const r=z(e),i=r.get("rooms");i.set(t.rooms,{parse:!0}),r.set({isRoomsPending:!1,isRoomsPopulated:!0});const a=r.get("session");if(a){const e=i.get(a.get("roomID"));if(e){const t=e.get("users");a.get("users").forEach((e=>{const n=t.get("user");!n||e.get("thumb")&&e.get("title")||e.set({thumb:e.get("thumb")||n.get("thumb"),title:e.get("title")||n.get("title")})}))}}},[E](e,t,n){const i=z(e),a=(0,b.$R)(e,t),s=a.get("sourceURI"),o=(0,S.Z)(a.toJSON()),{userIDs:l}=t,c=(0,r.DB)("watchTogetherRoomsManager").getRoomsClient();i.set({isInvitePending:!0,isInviteCompleted:!1,inviteError:null}),c.createRoom(s,o,l).then((e=>{(0,r.DB)("metrics").trackEvent({event:u.Iw,interaction:!0,properties:{itemCount:l.length+1,playbackSessionId:e}});const t=i.get("rooms").get(e);i.set({isInvitePending:!1,isInviteCompleted:!0}),t.set({isMetadataItemPending:!1,isMetadataItemPopulated:!0,metadataItem:a}),i.get("session")||n((0,f.ib)({watchTogetherRoomEntityID:t.entityID()}))})).catch((e=>{m.Z.warn("[Watch Together] An error occurred while creating a room:",e),i.set({isInvitePending:!1,inviteError:(0,y.Z)("Unable to send invite. Please try again.")})}))},[P](e,t){const n=z(e),i=(0,b.bT)(e,t),a=(0,r.DB)("watchTogetherRoomsManager").getRoomsClient();n.set({isInvitePending:!0,isInviteCompleted:!1,inviteError:null}),a.inviteUsers(i.get("id"),t.userIDs).then((()=>{n.set({isInvitePending:!1,isInviteCompleted:!0})})).catch((e=>{m.Z.warn("[Watch Together] An error occurred while inviting users:",e),n.set({isInvitePending:!1,inviteError:(0,y.Z)("Unable to send invite. Please try again.")})}))},[D](e){z(e).set({isInvitePending:!1,isInviteCompleted:!1,inviteError:null})},[C](e,t){const n=(0,b.bT)(e,t);if(n.get("isMetadataItemPopulated"))return;const r=n.get("sourceUri"),{key:a,serverIdentifier:s,providerIdentifier:u}=(0,g.Z)(r),m=(0,h.Z)({providerIdentifier:u,serverIdentifier:s}),f=function(e,t){const{key:n,providerIdentifier:r,serverIdentifier:i}=(0,g.Z)(t),a=e.get("entities").get(v.TY).findWhere((e=>{const t=null==e?void 0:e.get("model");return t&&t.server&&t.provider&&t.server.get("machineIdentifier")===i&&t.provider.get("identifier")===r&&t.get("key")===n}));return null==a?void 0:a.get("model")}(e,r);let S;if(n.set({isMetadataItemPending:!0,metadataItemError:null}),f)S=Promise.resolve(f);else{const t=e.get("servers").findWhere({machineIdentifier:s}),n=(null==t?void 0:t.get("isCloud"))?(0,b.VX)(e):t;S=n?(0,I.Z)((M=n.get("providers"),E={identifier:u},function(e,t){return e.findWhere(t)?o().Deferred().resolve(e).promise():(0,l.Z)({eventSource:e,events:["add"],predicate:()=>!!e.findWhere(t)})}(M,E).then((e=>(0,c.Z)(e.findWhere(E))),(()=>o().Deferred().reject().promise())))).then((e=>{const n=new i.Z({key:a,source:m},{server:t,provider:e});return(0,I.Z)((0,d.Z)(n)).then((()=>n))})):Promise.reject(new Error("Cannot populate from unknown server"))}var M,E;S.then((e=>{const t=!e.get("key")&&p.wB(u,[p.uk])?{isMetadataItemPending:!1,isMetadataItemPopulated:!1,metadataItemError:(0,y.Z)("This item is not available in your region.")}:{isMetadataItemPending:!1,isMetadataItemPopulated:!0,metadataItem:e};n.set(t)}),(e=>{const t=null==e?void 0:e.server,r=(null==t?void 0:t.get("isConnected"))||(null==t?void 0:t.get("isUnauthorized"))?(0,y.Z)("You dont have access to this item. Ask the owner to share it with you."):(0,y.Z)("The server is unreachable.");n.set({isMetadataItemPending:!1,isMetadataItemPopulated:!1,metadataItemError:r})}))},[w](e,t){const n=(0,b.bT)(e,t);(0,r.DB)("watchTogetherRoomsManager").getRoomsClient().deleteRoom(n.get("id")).catch((e=>{m.Z.warn("[Watch Together] An error occurred while deleting a room:",e)}))}}},3568:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var r=n(22222),i=n(81017),a=n(757),s=n(50316),o=n(57358),l=n(72181);function c(){return(0,r.P1)((0,i.Z)(),s.Z,a.Z,o.Z,((e,t,n,r)=>(0,l.ZP)({server:t,provider:n,stableUser:r,metadataItem:e})))}},63210:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var r=n(22222),i=n(81017),a=n(757),s=n(50316),o=n(69881),l=n(52601),c=n(61478),d=n(6638);function u(){return(0,r.P1)(((e,{containerKey:t})=>t),((e,{containerTitle:t})=>t),((e,{metricsContext:t})=>t),(0,i.Z)(),s.Z,a.Z,(0,r.P1)((0,i.Z)(),(e=>{if(e&&!e.skipDetails&&!e.isExtra&&!e.radio&&e.type!==o.PHOTO&&e.type!==o.CLIP)return e.type===o.TRACK&&e.subtype!==c.PODCAST?e.skipParent?e.grandparentKey:e.parentKey:e.key})),((e,t,n,r={},i,a,s)=>{if(r.isFolder){const i=e.match(/(.*?)\/folder/)[1],a={key:`${i}/all`,typeKey:`${i}/folder`,folderKey:s,folderTitle:r.title,parentFolderKey:e,parentFolderTitle:t};return n&&(a.context=n),(0,l.Z)(a)}const c={};return n&&(c.context=n),r.type===o.PHOTO_ALBUM&&(c.legacy=1),(0,d.Z)(i,a,s,c,r.playlistType)}))}},53181:(e,t,n)=>{"use strict";function r(e){return e.ui.multiSelect}n.d(t,{Z:()=>r})},51021:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(22222),i=n(34082);const a=(0,r.P1)(i.Z,(e=>e?e.desktop.activities:[]));function s(e){return(0,r.P1)(a,(t=>t.filter((t=>t.type===e))))}},12272:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(22222),i=n(45992);function a(){return(0,r.P1)(((e,{serverEntityID:t})=>t),i.Z,((e,t)=>!(!e||e!==t)))}},45992:(e,t,n)=>{"use strict";function r(e){return e.embeddedServer}n.d(t,{Z:()=>r})},34082:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(22222),i=n(72194),a=n(4524),s=n(45992);const o=(0,i.Z)((0,r.P1)(s.Z,a.Z,((e,t)=>t[e])),(e=>e))},3967:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(22222),i=n(77726);const a=(0,r.P1)(i.Z,(e=>e.dismissedUnclaimedServers))},67635:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(22222),i=n(89971);function a(e,t){const{playQueueItems:n,currentIndex:r}=e,i=t[n[r]];return i&&i.metadataItem}function s(){return(0,r.P1)((({ui:e})=>e.audioVideoPlayer&&e.audioVideoPlayer.playQueue),(({ui:e})=>e.photoPlayer&&e.photoPlayer.playQueue),((e,{metadataItemEntityID:t})=>t),i.Z,((e,t,n,r)=>{if(!n)return!1;let i,s;return e&&(i=a(e,r)),t&&(s=a(t,r)),i===n||s===n}))}},15041:(e,t,n)=>{"use strict";n.d(t,{I:()=>r,n:()=>i});const r="machineIdentifier",i="sectionID"},72936:(e,t,n)=>{"use strict";n.d(t,{yV:()=>r,vz:()=>i,Yz:()=>a,od:()=>s,ap:()=>o,uh:()=>l,pp:()=>c,ID:()=>d,xq:()=>u,XA:()=>p});const r="account",i="download-button",a="downloads-page",s="dvr-setup",o="lyrics",l="nav-bar",c="server-setup",d="sonos",u="users-and-sharing",p="webhooks"},2078:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(59756),i=n(45399),a=n(69881);function s(e,t,n,s){if(!(e&&t&&n&&s))return!1;const{type:o,hasInvalidKey:l,deletedAt:c,isFolder:d,isMetadataList:u,firstItemType:p,dvrChannel:m,onAir:h}=s;if(!u&&(l||c||d))return!1;if(!(m||u||t.protocols.stream||h))return!1;if(u&&!p)return!1;const g=!!n[i.Ks];if(t.protocols.livetv&&(e.livetv<4||!g))return!1;if(t.protocols.livetv&&!r.Z.allowLiveTVPlayback)return!1;if(t.features.playqueue)return!0;const y=u?p:o,v=(0,a.getLeafType)(y),f=(0,a.getChildType)(y);return y===v.typeString||f.id===v.id}},517:(e,t,n)=>{"use strict";n.d(t,{KC:()=>a.KC,$R:()=>a.$R,lK:()=>a.lK,Tp:()=>a.Tp,js:()=>a.js,c_:()=>a.c_,Y7:()=>a.Y7,SW:()=>a.SW,bg:()=>a.bg,VX:()=>a.VX,bT:()=>a.bT,tz:()=>a.tz,lp:()=>a.lp,$w:()=>a.$w,dH:()=>s,cX:()=>o});var r=n(87048),i=n(15042),a=n(28440);function s(e,{homeUserEntityID:t}){return(0,r.Z)(e,i.Tl,t)}function o(e,{playerIdentifier:t}){const n=e.get("user").get("desktop").get("cloudCompanions");for(const e of n.models){const n=e.get("cloudPlayers").findWhere({playerIdentifier:t});if(n)return n}return e.get("companionServer").get("desktop").get("players").findWhere({playerIdentifier:t})}},2098:(e,t,n)=>{"use strict";var r,i,a,s,o,l,c,d,u,p,m,h,g;n.d(t,{H_:()=>i,Sr:()=>s,Pi:()=>l,fS:()=>d,PD:()=>p,IY:()=>h}),(r||(r={})).Filter="filter",(a=i||(i={})).String="string",a.Integer="integer",a.Boolean="boolean",(o=s||(s={})).Ascending="asc",o.Descending="desc",(c=l||(l={})).Year="year",c.Decade="decade",c.Duration="duration",c.Rating="rating",c.HDR="hdr",c.FleSize="fileSize",c.Bitrate="bitrate",(u=d||(d={})).Tag="tag",u.String="string",u.Integer="integer",u.Boolean="boolean",u.Date="date",u.SubtitleLanguage="subtitleLanguage",u.AudioLanguage="audioLanguage",u.Resolution="resolution",(m=p||(p={})).AddedAt="addedAt",m.AddedAtGrandparentTitle="addedAtGrandparentTitle",m.AirsAt="airsAt",m.AttributionLogo="attributionLogo",m.ChildCount="childCount",m.ContentRating="contentRating",m.Duration="duration",m.EpisodeIdentifier="episodeIdentifier",m.GrandparentTitle="grandparentTitle",m.LastRatedAt="lastRatedAt",m.LastViewedAt="lastViewedAt",m.LeafCount="leafCount",m.MediaBitrate="mediaBitrate",m.OriginallyAvailableAt="originallyAvailableAt",m.OriginalTitle="originalTitle",m.ParentTitle="parentTitle",m.Rating="rating",m.SourceTitle="sourceTitle",m.Title="title",m.TitleAttributed="titleAttributed",m.UnviewedLeafCount="unviewedLeafCount",m.UserRating="userRating",m.VideoResolution="videoResolution",m.ViewCount="viewCount",m.ViewOffset="viewOffset",m.Year="year",(g=h||(h={})).Attribution="attribution",g.Avatar="avatar",g.Background="background",g.Banner="banner",g.Clear="clear",g.CoverArt="coverArt",g.CoverPoster="coverPoster",g.CoverSquare="coverSquare",g.Snapshot="snapshot"},39537:(e,t,n)=>{"use strict";var r,i,a,s,o,l,c,d,u,p,m,h,g,y,v,f,b,I,S,M,E;n.d(t,{pG:()=>r,A:()=>a,y_:()=>o,DD:()=>u,jx:()=>h,fw:()=>y}),(i=r||(r={})).Movie="movie",i.Show="show",i.Season="season",i.Episode="episode",i.Person="person",i.Artist="artist",i.Album="album",i.Track="track",i.Clip="clip",i.Photo="photo",i.Game="game",i.PhotoAlbum="photoalbum",i.Playlist="playlist",i.Collection="collection",i.Directory="directory",i.Channel="channel",i.Hub="hub",i.List="list",(s=a||(a={}))[s.Movie=1]="Movie",s[s.Show=2]="Show",s[s.Season=3]="Season",s[s.Episode=4]="Episode",s[s.Person=7]="Person",s[s.Artist=8]="Artist",s[s.Album=9]="Album",s[s.Track=10]="Track",s[s.Clip=12]="Clip",s[s.Photo=13]="Photo",s[s.PhotoAlbum=14]="PhotoAlbum",s[s.Playlist=15]="Playlist",s[s.Collection=18]="Collection",s[s.Game=19]="Game",(l=o||(o={})).Podcast="podcast",l.Webshow="webshow",l.Movie="movie",l.Show="show",l.Season="season",l.Episode="episode",l.Artist="artist",l.Album="album",l.Track="track",l.Trailer="trailer",l.DeletedScene="deletedScene",l.Interview="interview",l.MusicVideo="musicVideo",l.BehindTheScenes="behindTheScenes",l.SceneOrSample="sceneOrSample",l.LiveMusicVideo="liveMusicVideo",l.LyricMusicVideo="lyricMusicVideo",l.Concert="concert",l.Featurette="featurette",l.Short="short",l.Other="other",l.Photo="photo",l.Clip="clip",(d=c||(c={}))[d.Trailer=1]="Trailer",d[d.DeletedScene=2]="DeletedScene",d[d.Interview=3]="Interview",d[d.MusicVideo=4]="MusicVideo",d[d.BehindTheScenes=5]="BehindTheScenes",d[d.SceneOrSample=6]="SceneOrSample",d[d.LiveMusicVideo=7]="LiveMusicVideo",d[d.LyricMusicVideo=8]="LyricMusicVideo",d[d.Concert=9]="Concert",d[d.Featurette=10]="Featurette",d[d.Short=11]="Short",d[d.Other=12]="Other",(p=u||(u={})).Video="video",p.Audio="audio",p.Photo="photo",p.Rom="rom",(m||(m={})).VMAP="vmap",(g=h||(h={}))[g.Video=1]="Video",g[g.Audio=2]="Audio",g[g.Subtitles=3]="Subtitles",g[g.Lyrics=4]="Lyrics",(v=y||(y={})).Video="videoStreamID",v.Audio="audioStreamID",v.Subtitles="subtitleStreamID",v.Lyrics="lyricStreamID",(b=f||(f={})).North="north",b.NorthEast="northeast",b.East="east",b.SouthEast="southeast",b.South="south",b.SouthWest="southwest",b.West="west",b.NorthWest="northwest",b.Center="center",(S=I||(I={})).Small="small",S.Medium="medium",S.Large="large",(E=M||(M={})).Absolute="absolute",E.Relative="relative"},1193:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(76403),i=n(10692),a=n(8183);const s=(0,r.oM)({name:"metadataItemState",initialState:{},reducers:{metadataItemStatesNormalized(e,{payload:t}){Object.assign(e,t.metadataItemStates)},playedStatusUpdateRequested(e,{payload:t}){const{sourceURI:n,played:r}=t,i=e[n];if(i){const{viewedLeafCount:e,unviewedLeafCount:t,viewCount:n,viewOffset:a,tempState:s}=i;s.viewedLeafCount=e,s.unviewedLeafCount=t,s.viewCount=n,s.viewOffset=a,null!=t&&null!=e?(i.viewedLeafCount=r?t+e:0,i.unviewedLeafCount=r?0:t+e):(i.viewCount=r?(i.viewCount||0)+1:0,i.viewOffset=0)}},playedStatusUpdateSucceeded(e,{payload:t}){const{sourceURI:n}=t,r=e[n];if(r){const{tempState:e}=r;e.viewedLeafCount=void 0,e.unviewedLeafCount=void 0,e.viewCount=void 0,e.viewOffset=void 0,r.isStale=!0}},playedStatusUpdateFailed(e,{payload:t}){const n=e[t.sourceURI];if(n){const{tempState:e}=n;n.viewedLeafCount=e.viewedLeafCount,e.viewedLeafCount=void 0,n.unviewedLeafCount=e.unviewedLeafCount,e.unviewedLeafCount=void 0,n.viewCount=e.viewCount,e.viewCount=void 0,n.viewOffset=e.viewOffset,e.viewOffset=void 0}},rateRequested(e,{payload:t}){const n=e[t.sourceURI];if(n){const{lastRatedAt:e,userRating:r,tempState:i}=n,a=-1===t.rating;i.lastRatedAt=e,i.userRating=r,n.lastRatedAt=a?void 0:Date.now(),n.userRating=a?void 0:t.rating}},rateSucceeded(e,{payload:t}){const n=e[t.sourceURI];if(n){const{tempState:e}=n;e.lastRatedAt=void 0,e.userRating=void 0}},rateFailed(e,{payload:t}){const n=e[t.sourceURI];if(n){const{tempState:e}=n;n.lastRatedAt=e.lastRatedAt,e.lastRatedAt=void 0,n.userRating=e.userRating,e.userRating=void 0}},toggleWatchlistRequested(e,{payload:t}){const n=e[t.sourceURI];if(n){const{watchlistedAt:e,tempState:r}=n;r.watchlistedAt=e,n.watchlistedAt=t.added?Date.now():void 0}},toggleWatchlistSucceeded(e,{payload:t}){const n=e[t.sourceURI];if(n){const{tempState:e}=n;e.watchlistedAt=void 0,n.isStale=!0}},toggleWatchlistFailed(e,{payload:t}){const n=e[t.sourceURI];if(n){const{tempState:e}=n;n.watchlistedAt=e.watchlistedAt,e.watchlistedAt=void 0}},toggleSavedRequested(e,{payload:t}){const n=e[t.sourceURI];if(n){const{saved:e,tempState:r}=n;r.saved=e,n.saved=t.saved}},toggleSavedSucceeded(e,{payload:t}){const n=e[t.sourceURI];if(n){const{tempState:e}=n;e.saved=void 0,n.isStale=!0}},toggleSavedFailed(e,{payload:t}){const n=e[t.sourceURI];if(n){const{tempState:e}=n;n.saved=e.saved,e.saved=void 0}},streamSelectRequested(e,t){},streamSelectSucceeded(e,{payload:t}){const n=e[t.sourceURI];n&&(n.isStale=!0)},streamSelectFailed(e,{payload:t}){const n=e[t.sourceURI];n&&(n.isStale=!0)},streamDeleteRequested(e,{payload:t}){const n=e[t.sourceURI];n&&(n.isStreamDeletePending=!0)},streamDeleteSucceeded(e,{payload:t}){const n=e[t.sourceURI];n&&(n.isStreamDeletePending=!1,n.isStale=!0)},streamDeleteFailed(e,{payload:t}){const n=e[t.sourceURI];n&&(n.isStreamDeletePending=!1)},metadataProcessed(e,{payload:t}){const n=e[t.sourceURI];n&&(n.isStale=!0)},fetchRequested(e,{payload:t}){var n;const r=null!=(n=e[t.sourceURI])?n:{tempState:{},isPending:!0,isPopulated:!1,error:null,isStale:!1};(0,a.er)(r),e[t.sourceURI]=r},fetchSucceeded(e,{payload:t}){const n=e[t.sourceURI];n&&(Object.assign(n,t.metadataItemState),(0,a.vv)(n))},fetchFailed(e,{payload:t}){const n=e[t.sourceURI];n&&(0,a.VQ)(n,t.error)},fetchCancelled(e,{payload:t}){const n=e[t.sourceURI];n&&(0,a.EA)(n)},repopulateRequested(e,{payload:t}){const n=e[t.sourceURI];n&&(n.isStale=!0)},repopulateCanceled(e,{payload:t}){const n=e[t.sourceURI];n&&(n.isStale=!1)},created(e,t){},deleted(e,{payload:t}){const n=e[t.sourceURI];n&&(n.deletedAt=Date.now(),n.isDeleted=!0)},preferenceChanged(e,{payload:t}){const n=e[t.sourceURI];n&&(n.isStale=!0)},addToLibraryRequested(e,t){},removeFromContinueWatchingRequested(e,t){},removeFromContinueWatchingSucceeded(e,{payload:t}){const n=e[t.sourceURI];n&&(n.isStale=!0)}},extraReducers:e=>{e.addCase(i.Z.actions.added,((e,{payload:t})=>{Object.assign(e,t.metadataItemStates)})),e.addCase(i.Z.actions.fetchRangeSucceeded,((e,{payload:t})=>{Object.assign(e,t.data.metadataItemStates)})),e.addCase(i.Z.actions.fetchAllSucceeded,((e,{payload:t})=>{Object.assign(e,t.data.metadataItemStates)})),e.addCase(i.Z.actions.repopulateRangeSucceeded,((e,{payload:t})=>{Object.assign(e,t.data.metadataItemStates)}))}})},10692:(e,t,n)=>{"use strict";n.d(t,{Z:()=>S,g:()=>I});var r=n(76403),i=n(54466),a=n(39537),s=n(41538),o=n(26636),l=n(51337),c=n(60679),d=n(20019),u=Object.prototype.hasOwnProperty,p=Object.getOwnPropertySymbols,m=Object.prototype.propertyIsEnumerable;var h=Object.defineProperty,g=Object.prototype.hasOwnProperty,y=Object.getOwnPropertySymbols,v=Object.prototype.propertyIsEnumerable,f=(e,t,n)=>t in e?h(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,b=(e,t)=>{for(var n in t||(t={}))g.call(t,n)&&f(e,n,t[n]);if(y)for(var n of y(t))v.call(t,n)&&f(e,n,t[n]);return e};const I=(0,i.Z)(((e,t)=>e[t.sourceURI]),(({server:e,provider:t,data:n})=>{var r,i,h,g,y;const v=null!=(r=null==n?void 0:n.MediaContainer)?r:{},{Metadata:f=[],Directory:b}=v,I=((e,t)=>{var n={};for(var r in e)u.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&p)for(var r of p(e))t.indexOf(r)<0&&m.call(e,r)&&(n[r]=e[r]);return n})(v,["Metadata","Directory"]),S=t?(0,l.Z)(t,String(I.librarySectionID)):void 0;null==(h=null==(i=null==I?void 0:I.Meta)?void 0:i.Type)||h.forEach((e=>{e.type===s.U.Movie&&(null==S?void 0:S.agent)===o.Py.None&&null==e.subtype&&(e.subtype=a.y_.Clip)}));const{metadataItems:M,metadataItemStates:E}=(0,d.Z)({server:e,provider:t,data:null!=b?b:f,container:I});return{items:M,totalSize:null!=(g=null==I?void 0:I.totalSize)?g:0,size:null==I?void 0:I.size,offset:null!=(y=null==I?void 0:I.offset)?y:0,meta:(0,c.Z)(null==I?void 0:I.Meta),title:null==I?void 0:I.title,metadataItemStates:E}})),S=(0,r.oM)({name:"metadataLists",initialState:{},reducers:b(b({},I.reducers),{added(e,{payload:t}){t.metadataLists.forEach((t=>{e[t.sourceURI]=b(b({},I.getDefaultPaginatedState()),t)}))},throttledRepopulateRequested(e,t){}})})},41538:(e,t,n)=>{"use strict";var r,i,a,s;n.d(t,{U:()=>r,n:()=>a}),(i=r||(r={})).Album="album",i.Artist="artist",i.Channel="channel",i.Channels="channels",i.Content="content",i.Clip="clip",i.Collection="collection",i.Directory="directory",i.Episode="episode",i.Extra="extra",i.Folder="folder",i.Game="game",i.Mixed="mixed",i.Movie="movie",i.MusicVideo="musicVideo",i.Person="person",i.Photo="photo",i.PhotoAlbum="photoAlbum",i.Playlist="playlist",i.Season="season",i.Show="show",i.Station="station",i.Track="track",(s=a||(a={})).Hero="hero",s.List="list",s.Shelf="shelf",s.Spotlight="spotlight",s.Upsell="upsell",s.WideShelf="wideShelf",s.Grid="grid",s.PrePlayGrid="prePlayGrid",s.Table="table",s.Details="details",s.SimpleDetails="simpleDetails",s.TrackDetails="trackDetails",s.SharedItems="sharedItems",s.Folder="folder"},56724:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(39537),i=n(20272);const a=function(e){const t=(0,i.gQ)(r.pG).find((([,t])=>t===e));return t?r.pG[t[0]]:void 0}},26636:(e,t,n)=>{"use strict";var r,i,a,s,o,l,c,d,u,p,m,h,g,y;n.d(t,{rn:()=>r,zW:()=>a,wd:()=>o,rf:()=>c,F6:()=>u,GG:()=>m,Py:()=>g}),(i=r||(r={})).Download="download",i.LiveTV="livetv",i.Stream="stream",(s=a||(a={})).Action="action",s.Actions="actions",s.Collection="collection",s.Content="content",s.ContinueWatching="continuewatching",s.Grid="grid",s.ImageTranscoder="imagetranscoder",s.Integrations="integrations",s.Lineups="lineups",s.Location="location",s.Manage="manage",s.Match="match",s.Metadata="metadata",s.Playlist="playlist",s.PlayQueue="playqueue",s.Promoted="promoted",s.QueryParser="queryParser",s.Rate="rate",s.Search="search",s.Settings="settings",s.Subscribe="subscribe",s.Timeline="timeline",s.Universal="universal",(l=o||(o={})).Download="download",l.Record="record",l.Universal="universal",(d=c||(c={})).AddToCatalog="addToCatalog",d.AddToWatchlist="addToWatchlist",d.Pick="pick",d.Rate="rate",d.RemoveFromContinueWatching="removeFromContinueWatching",d.Save="save",d.Scrobble="scrobble",(p=u||(u={})).Hub="hub",p.List="list",p.View="view",(h=m||(m={})).RecordingSchedule="view://dvr/recording-schedule",h.Guide="view://dvr/guide",h.Timeline="view://photo/timeline",h.SharedItems="view://shared-items",(y=g||(g={})).Freebase="com.plexapp.agents.freebase",y.IMDB="com.plexapp.agents.imdb",y.LastFM="com.plexapp.agents.lastfm",y.Lyricfind="com.plexapp.agents.lyricfind",y.None="com.plexapp.agents.none",y.PlexGame="tv.plex.agents.game",y.PlexMovie="tv.plex.agents.movie",y.PlexMusic="tv.plex.agents.music",y.PlexPremiumMusic="com.plexapp.agents.plexmusic",y.TheMovieDB="com.plexapp.agents.themoviedb",y.TheTVDB="com.plexapp.agents.thetvdb"},51337:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(26636),i=n(87803);function a(e,t){var n;const a=(0,i.Z)(e,r.zW.Content);if(a)return(null!=(n=null==a?void 0:a.directories)?n:[]).find((e=>!!e.id&&e.id===t))}},87803:(e,t,n)=>{"use strict";function r(e,t,n){return e.features.find((e=>e.type===t&&(!n||e.flavor===n)))}n.d(t,{Z:()=>r})},67145:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(17524),i=n(36535);function a(e){return r.wB((0,i.Z)(e.identifier,e.providerIdentifier),[r.vP,r.Ll])}},46905:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(67294);function i(){const[e,t]=(0,r.useState)(!1),n=(0,r.useCallback)((()=>t(!0)),[]),i=(0,r.useCallback)((()=>t(!1)),[]),a=(0,r.useCallback)((()=>t(!e)),[e]);return(0,r.useMemo)((()=>({isOpen:e,onOpen:n,onClose:i,onToggle:a})),[e,i,n,a])}},74309:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(67294),i=n(5977),a=n(84936);const s=function(){const e=(0,i.TH)().search;return(0,r.useMemo)((()=>{const{params:t}=a.Z.parseUri(e);return t}),[e])}},26021:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var r=n(73460),i=n(53274),a=Object.defineProperty,s=Object.prototype.hasOwnProperty,o=Object.getOwnPropertySymbols,l=Object.prototype.propertyIsEnumerable,c=(e,t,n)=>t in e?a(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const d=window.ResizeObserver||i.d,u=function(e){return(0,r.Z)(((e,t)=>{for(var n in t||(t={}))s.call(t,n)&&c(e,n,t[n]);if(o)for(var n of o(t))l.call(t,n)&&c(e,n,t[n]);return e})({polyfill:d},e))}},54939:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(67294),i=n(4704);const a=Symbol("NO_VALUE"),s=function(e,t,n=500){const[s,o]=(0,r.useState)(a),l=(0,i.Z)(e),c=(0,r.useRef)(0);return e===t&&l!==t&&c.current++,(0,r.useEffect)((()=>{const e=window.setTimeout((()=>{o(a)}),n);return o(t),()=>{window.clearTimeout(e)}}),[c.current,t,n]),s===a?e:s}},73754:(e,t,n)=>{"use strict";n.d(t,{HE:()=>r,p8:()=>i,nM:()=>a,IT:()=>s});const r=12,i=200,a=400,s=200},2200:(e,t,n)=>{"use strict";n.d(t,{Zn:()=>c,VJ:()=>d,IF:()=>u,ZP:()=>p});var r=n(67294),i=n(69605);const a=Symbol(void 0),s=Symbol(void 0),o=[a,a,a],l=(0,r.createContext)({metricsPage:i.lz,metricsContextTuple:o});function c(){return(0,r.useContext)(l)}function d([e,t,n]){if(e!==a)return[e,t===a||t===s?"":t,n===a||n===s?"":n].join("~").replace(/~+$/,"")}function u([e,t,n]){if(e!==a)return{context:e,row:t===s||t===a?void 0:t,col:n===s||n===a?void 0:n}}function p({children:e,metricsPage:t,metricsContextParam:n,name:i,row:d=a,column:u=a}){const{metricsPage:p,metricsContextTuple:m}=c(),h=(0,r.useMemo)((()=>{const[e,r,l]=m;return n?function(e){if(!e)return o;const[t,n,r]=e.split("~");return t?[t,n?parseInt(n,10):s,r?parseInt(r,10):s]:o}(n):i?[`${p}:${i}`,d,u]:e!==a?[e,r===a?d:r,l===a?u:l]:t&&t!==p?m:void 0}),[u,m,n,p,t,i,d]),g=(0,r.useMemo)((()=>h?{metricsPage:t||p,metricsContextTuple:h}:void 0),[h,p,t]);return g?r.createElement(l.Provider,{value:g},e):e}},24974:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(22222),i=n(70617),a=n(44719);const s=(0,i.Z)((function(e){return t=>e===a.G.Photo?t.ui.photoPlayer:t.ui.audioVideoPlayer})),o=(0,i.Z)((function(e,t){return(0,r.P1)(s(e),(e=>e[t]))}))},31298:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r=function(...e){return t=>{e.forEach((e=>{"function"==typeof e?e(t):null!=e&&(e.current=t)}))}}},43322:(e,t,n)=>{"use strict";var r,i,a,s,o,l,c,d;n.d(t,{Ik:()=>r,dK:()=>a,GB:()=>o,A5:()=>c}),(i=r||(r={})).Pending="pending",i.Locked="locked",i.Unlocked="unlocked",(s=a||(a={})).Empty="",s.Unsubscribed="unsubscribed",s.Active="active",s.Error="error",s.Removed="removed",(l=o||(o={})).Active="active",l.Canceled="canceled",l.Ended="ended",l.Inactive="inactive",l.PendingCancellation="pending_cancellation",(d=c||(c={})).Arcade="arcade",d.PlexPass="plexpass",d.Tidal="tidal"},50468:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});const r=["free"];function i(e,t){if(!t)return!0;const n=e.find((e=>e.id===t));return!(!n||n.subscriptionType&&r.includes(n.subscriptionType))}},84893:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r=function(e){var t;return null==(t=e.Type)?void 0:t.find((e=>e.active))}},87067:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>pr});var r=n(67294),i=n(27929),a=n(74309),s=n(38770),o=n(75989),l=n(37703),c=n(22222),d=n(13469),u=n.n(d),p=n(68252),m=n(55885),h=n(76892),g=n(69605),y=n(45399),v=n(27903),f=n(6055),b=n(19755),I=n.n(b),S=n(56442),M=n(40807),E=n(3265),P=n(53145),D=n(4134),C=n(80962),w=n(96840),Z=n(72759),T=n(27082),N=n(84936),O=n(57054),A=Object.defineProperty,x=Object.prototype.hasOwnProperty,j=Object.getOwnPropertySymbols,L=Object.prototype.propertyIsEnumerable,k=(e,t,n)=>t in e?A(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,R=(e,t)=>{for(var n in t||(t={}))x.call(t,n)&&k(e,n,t[n]);if(j)for(var n of j(t))L.call(t,n)&&k(e,n,t[n]);return e};const z="ui/downloadsPage/initDownloadsPage",U="ui/downloadsPage/resetDownloadsPage",V="ui/downloadsPage/fetchProvidersWithStorage",B="ui/downloadsPage/saveDownloadsParams",F=(0,M.Z)(z),_=(0,M.Z)(U),H=(0,M.Z)(V),Q=(0,M.Z)(B);(0,E.Z)({[z](e,t){},[U](e,t){},[V](e,t,n){const r=function(e){return e.get("ui").get("downloadsPage")}(e),i=e.get("embeddedServer");(0,T.c9)((()=>{r.set({isProvidersPending:!0,providersError:null})}));const a=i.getXHROptions(N.Z.join("/media/providers",{includeStorage:1}),{headers:{Accept:S.AV.accept}});(0,w.Z)("[Downloads] Updating offline file size"),I().ajax(a).then((e=>{i.get("providers").add(e,{parse:!0,merge:!0}),r.set({isProvidersPending:!1,isProvidersPopulated:!0})}),(e=>{r.set({isProvidersPending:!1,providersError:(0,O.Z)(e)})}))},[B](e,t,n){const r=e.get("user").get("experienceSettings").get("savedPivotParams");n((0,D.LN)({savedPivotParams:R(R({},r),{downloads:t})}))},[P.Cs](e,t,n){const{activity:r}=t;(function(e,t){const n=e.get("embeddedServer");return!!n&&n.entityID()===t.serverEntityID})(e,t)&&r.type===Z.sC&&r.Response.status===C.ly&&n(H())}});var G=n(90934);function W(){return(0,c.P1)((e=>e.downloads.subscriptions),G.Z,((e=[],t)=>e.map((e=>t[e]))))}var Y=n(5562);const{ASCENDING:K,DESCENDING:q}=p.Z.directions,$="title",J="createdAt",X="storageTotal";var ee=n(65671),te=n(6103),ne=n(60528),re=n(90653),ie=n(72936),ae=n(58801),se=n(95815),oe=n(3704),le=n(82598),ce=n(14838),de=n(83787),ue=n(45697),pe=n.n(ue),me=n(17845);function he(e){var t=e["aria-label"],n=e.className,i=e.style,a={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-downloads-560"};a["aria-hidden"]=!t,a.style=i,a.className=me.Z.plexIcon+(n?" "+n:"");var s=[r.createElement.apply(r,["path",{d:"m280 476c108.248 0 196-87.752 196-196 0-108.248-87.752-196-196-196-108.248 0-196 87.752-196 196 0 108.248 87.752 196 196 196m0 42c-131.444 0-238-106.556-238-238 0-131.444 106.556-238 238-238 131.444 0 238 106.556 238 238 0 131.444-106.556 238-238 238m0-112l112-112-89.6 0 0-140-44.8 0 0 140-89.6 0 112 112"}].concat([]))];return t&&s.unshift(r.createElement("title",null,t)),r.createElement.apply(r,["svg",a].concat(s))}he.propTypes={"aria-label":pe().string,className:pe().string,style:pe().object};const ge=he;function ye(e){var t=e["aria-label"],n=e.className,i=e.style,a={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 40 40",id:"plex-icon-downloads-upsell-560"};a["aria-hidden"]=!t,a.style=i,a.className=me.Z.plexIcon+(n?" "+n:"");var s=[r.createElement.apply(r,["path",{d:"M35.335 26.667h-.667v-16A2.67 2.67 0 0 0 32.001 8h-24a2.67 2.67 0 0 0-2.667 2.667v16h-.667a.667.667 0 0 0-.667.667v2.667c0 1.103.897 2 2 2h28c1.103 0 2-.897 2-2v-2.667a.667.667 0 0 0-.667-.667h.002zm-28.666-16c0-.736.599-1.333 1.333-1.333h24c.735 0 1.333.597 1.333 1.333v16h-10a.667.667 0 0 0-.667.667v.667h-5.333v-.667a.667.667 0 0 0-.667-.667h-10v-16h.001zm28 19.333a.668.668 0 0 1-.667.667h-28A.668.668 0 0 1 5.335 30v-2h10.667v.667c0 .368.299.667.667.667h6.667a.667.667 0 0 0 .667-.667V28H34.67v2h-.001zm-2.668-5a.667.667 0 0 1-.667.667H8.667A.667.667 0 0 1 8 25V11.667c0-.368.299-.667.667-.667h22.667c.368 0 .667.299.667.667V25zm-1.333-.667v-12H9.335v12h21.333zm-8.878-5.805a.668.668 0 1 1 .945.944l-2.223 2.221a.684.684 0 0 1-.472.195.677.677 0 0 1-.472-.195l-2.223-2.221a.668.668 0 0 1 .943-.943l1.084 1.083v-3.945a.667.667 0 0 1 1.334 0v3.945l1.084-1.084z"}].concat([]))];return t&&s.unshift(r.createElement("title",null,t)),r.createElement.apply(r,["svg",a].concat(s))}ye.propTypes={"aria-label":pe().string,className:pe().string,style:pe().object};const ve=ye;var fe=n(55255),be=n(9220),Ie=n(48022),Se=n(90961),Me=n(7796);const Ee=parseInt(Me.Z.downloadCellHeight,10),Pe=(0,Se.Z)(Ee,5);var De=n(72194),Ce=n(50362),we=n(98727),Ze=n(70488),Te=n(74253),Ne=n(14699),Oe=n(61478),Ae=n(69881),xe=n(99051),je=n(51021),Le=n(34082);var ke=n(90087),Re=n(60208),ze=n(6638),Ue=n(78188),Ve=n(46277),Be=n(85480),Fe=n(97486),_e=n(84807),He=n(27028),Qe=n(27271),Ge=n(11956),We=n(95368),Ye=n(51792),Ke=n(97863),qe=n(67635),$e=Object.defineProperty,Je=Object.prototype.hasOwnProperty,Xe=Object.getOwnPropertySymbols,et=Object.prototype.propertyIsEnumerable,tt=(e,t,n)=>t in e?$e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const nt=(0,l.$j)((function(){return(0,c.P1)(((e,{isDisabled:t})=>t),(0,qe.Z)(),((e,t)=>({isDisabled:e||t})))}))((e=>{const t=e,{metadataItemEntityID:n,buttonComponent:i,dispatch:a}=t,s=((e,t)=>{var n={};for(var r in e)Je.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&Xe)for(var r of Xe(e))t.indexOf(r)<0&&et.call(e,r)&&(n[r]=e[r]);return n})(t,["metadataItemEntityID","buttonComponent","dispatch"]);return r.createElement(i,((e,t)=>{for(var n in t||(t={}))Je.call(t,n)&&tt(e,n,t[n]);if(Xe)for(var n of Xe(t))et.call(t,n)&&tt(e,n,t[n]);return e})({},s))}));var rt=n(72369);const it=function(e){return(0,rt.Z)(e||0,e>=1e9?2:0)};var at=n(46453),st=n(90701),ot=n(39611),lt=n(52410),ct=n(34272),dt=n(53863);const ut="DownloadSubscriptionSummaryCell-button-lFTKLD MetadataSummaryCell-button-BBVAbI";var pt=Object.defineProperty,mt=Object.prototype.hasOwnProperty,ht=Object.getOwnPropertySymbols,gt=Object.prototype.propertyIsEnumerable,yt=(e,t,n)=>t in e?pt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,vt=(e,t)=>{for(var n in t||(t={}))mt.call(t,n)&&yt(e,n,t[n]);if(ht)for(var n of ht(t))gt.call(t,n)&&yt(e,n,t[n]);return e};const ft=(0,c.P1)(Le.Z,(e=>(0,Te.h)(e))),bt=(0,c.P1)(Le.Z,we.Z,((e,t)=>e&&e.providers.map((e=>t[e])))),It=new RegExp(J),St=new RegExp(X),Mt=(0,l.$j)((function(){return(0,c.P1)(((e,{activeSort:t})=>t),((e,{listContext:t})=>t),ft,(0,De.Z)((0,c.P1)((0,Ne.Z)(),bt,((e,t)=>{const{source:n}=e.hint,r=t.find((e=>e.source===n));return(0,Ze.R)(r)})),(e=>e)),(0,Ne.Z)(),(0,c.P1)(Ce.Z,(0,Ne.Z)(),((e,t)=>t.target?e[t.target.metadata]:null)),(e=Z.EW,(0,c.P1)((0,Ne.Z)(),(0,je.Z)(e),((e,t)=>t.find((({Context:t})=>t.subscriptionID===e.key))))),((e,t,n,r,i,a,s)=>{const{grabOperations:o,hint:l}=i,{subtype:c,type:d}=l,u=function(e,t,n){const{type:r,subtype:i}=e,a=(0,ke.Z)(r,i,t);return(0,Re.Z)(a,null,r,i,n||{},t)}(l,t,a),p=d!==Ae.TRACK||c===Oe.PODCAST,m=a&&p?(0,ze.Z)(n,r,a.key,void 0,a.playlistType):void 0,h=o&&o.find((e=>e.status===C.pn));return{grabError:h&&(h.error||(0,Y.Z)("An unexpected error occurred")),isRefreshing:!!s,isDownloadPending:!a&&!!s&&null==s.Context.completed,isDownloading:!!s&&null!=s.Context.total&&null!=s.progress,mediaSubscription:i,imageWidth:u.width,imageHeight:u.height,imageUrl:u.url,metadataItemEntityID:a?a.entityID:null,providerEntityID:r.entityID,route:m,progress:s?s.progress:null,completed:s?s.Context.completed:null,total:s?s.Context.total:null,showEdit:(g=d,g===Ae.SHOW),showCreatedAt:It.test(e),showStorageTotal:!!a&&St.test(e)};var g}));var e}),(function(e,t){const{mediaSubscriptionEntityID:n,metricsPage:r,metricsProperties:i}=t,a={mediaSubscriptionEntityID:n,metricsPage:r,metricsProperties:i};return{onEditItem(){e((0,xe.nY)(a))},onDeleteItem(){e((0,f.L7)(a))},onRetryItem(){e((0,f.OS)(a))}}}))((function(e){const{cellIndex:t,grabError:n,imageHeight:i,imageUrl:a,imageWidth:s,mediaSubscription:o,metadataItemEntityID:l,providerEntityID:c,route:d,progress:u,completed:p,total:m,showStorageTotal:h,showCreatedAt:y,showEdit:v,serverEntityID:f,isDownloadPending:b,isDownloading:I,isRefreshing:S,onEditItem:M,onRetryItem:E,onDeleteItem:P}=e,D=(0,Ge.Z)(e),[C,w]=(0,r.useState)(!1),Z=(0,r.useCallback)((()=>{w(!0)}),[]),T=(0,r.useCallback)((()=>{w(!1),P()}),[P]),N=(0,r.useCallback)((()=>{w(!1)}),[]),{hint:O,target:A}=o,{title:x,type:j,subtype:L}=O;let k,R;b?k=(0,Y.Z)("Waiting to download"):I&&(k=m>1?(0,Y.Z)("Downloading {completed} of {total}",{completed:p+1,total:m}):(0,Y.Z)("Downloading")),h?R=it(o.storageTotal):y&&(R=(0,Ue.Z)(o.createdAt)),R=R?` ${_e.U} ${R}`:R;const z=!1,U=!S&&n,V=function(e){const{parentTitle:t,grandparentTitle:n,type:r,subtype:i,index:a}=e,s=r===Ae.TRACK;let o;return r===Ae.SEASON?o=(0,Be.Z)({seasonIndex:a,noLeadingZero:!0,useLongName:!0}):r===Ae.EPISODE||s&&i===Oe.PODCAST?o=n:s&&n&&t?o=`${n} ${_e.U} ${t}`:s&&n&&(o=n),o}(O);return r.createElement("div",{className:t%2?"DownloadSubscriptionSummaryCell-alternateItem-1A8Zzn MetadataSummaryCell-alternateItem-wclmMn MetadataSummaryCell-item-2ksqkJ":"DownloadSubscriptionSummaryCell-item-3M-lL7 MetadataSummaryCell-item-2ksqkJ",style:D.style},d?r.createElement(te.Z,{className:"DownloadSubscriptionSummaryCell-underlay-3TS4x- MetadataSummaryCell-underlay-8Jnos2",tabIndex:"0",to:d,"aria-label":x}):null,r.createElement("div",{className:"DownloadSubscriptionSummaryCell-overlay-dAXkOf MetadataSummaryCell-overlay-xhIvnb"},r.createElement("div",{className:"DownloadSubscriptionSummaryCell-posterContainer-zPuewH MetadataSummaryCell-posterContainer-O13JZA"},D.isPlaceholder?r.createElement(Ke.Z,{imageWidth:s,imageHeight:i}):r.createElement(Ye.Z,{metadataKey:o.hint.source,metadataItemEntityID:l,serverEntityID:f,providerEntityID:c,route:d,showOverlay:!!A,showLink:z,showSelect:z,showEdit:z,showMore:z,title:x,type:j,subtype:L,imageWidth:s,imageHeight:i,imageUrl:a,isOffscreen:!1})),r.createElement("div",{className:"DownloadSubscriptionSummaryCell-summaryContainer-1JNlmo MetadataSummaryCell-summaryContainer-2b-kz5"},r.createElement("div",{className:"DownloadSubscriptionSummaryCell-titleContainer-1dErNo MetadataSummaryCell-titleContainer-1gsRA4"},r.createElement("div",{className:"DownloadSubscriptionSummaryCell-title-2hLVkH MetadataSummaryCell-title-1svrXs"},function(e){const{title:t,parentTitle:n,grandparentTitle:r,type:i,index:a,parentIndex:s,originallyAvailableAt:o}=e;let l=r||n||t;return i===Ae.EPISODE?l=`${(0,Ve.Z)({episodeIndex:a,seasonIndex:s,date:o,noLeadingZero:!0,separator:"  "})} ${_e.U} ${t}`:i===Ae.TRACK&&(l=t),l}(O))),r.createElement("div",{className:"DownloadSubscriptionSummaryCell-summary-3_lMwW MetadataSummaryCell-summary-24HmlZ"},V?r.createElement("div",null,V):null,U?r.createElement("div",null,r.createElement(ot.Z,{className:"DownloadSubscriptionSummaryCell-errorIcon-2-w8-n"}),n):r.createElement("div",null,function(e){const{guid:t,subtype:n,type:r}=e,{MOVIE:i,SHOW:a,SEASON:s,EPISODE:o,TRACK:l}=Ae,{PODCAST:c,WEBSHOW:d}=Oe;return r===a&&n===c?(0,Y.Z)("Podcast"):r===l&&n===c?(0,Y.Z)("Podcast Episode"):r===a&&n===d?(0,Y.Z)("Web Show"):r===o&&n===d?(0,Y.Z)("Web Show Episode"):r===i&&t.includes(at.Hn)?(0,Y.Z)("Video"):r===s?(0,Y.Z)("TV Show Season"):r===o?(0,Y.Z)("TV Show Episode"):Ae.getMetadataType(r).title}(O),R))),b||I?r.createElement("div",{className:"DownloadSubscriptionSummaryCell-statusContainer-1VXTY8"},r.createElement("div",{className:"DownloadSubscriptionSummaryCell-statusText-2vPLGA"},k),r.createElement(Fe.Z,{lineWidth:2,progress:u,showProgressText:!1,showIndeterminate:b,size:20,strokeColor:st.Z.selectedColor,trackColor:st.Z.defaultLinkDisabledLinkColor})):null,r.createElement("div",{className:"DownloadSubscriptionSummaryCell-actions-1zdFbL MetadataSummaryCell-actions-3CiM9B"},U?r.createElement(Qe.Z,{component:He.Z,className:ut,tooltip:(0,Y.Z)("Retry"),ariaLabel:(0,Y.Z)("Retry {title}",{title:x}),iconComponent:ct.Z,onPress:E}):null,v?r.createElement(Qe.Z,{component:He.Z,className:ut,tooltip:(0,Y.Z)("Edit"),ariaLabel:(0,Y.Z)("Edit download details for {title}",{title:x}),iconComponent:lt.Z,onPress:M}):null,r.createElement(nt,{metadataItemEntityID:l,buttonComponent:Qe.Z,component:He.Z,"data-qa-id":"downloadSubscriptionRemoveButton",className:ut,tooltip:(0,Y.Z)("Delete"),ariaLabel:(0,Y.Z)("Delete {title}",{title:x}),iconComponent:dt.Z,kind:ne.T,onPress:Z}),r.createElement(We.Z,{isOpen:C,metricsPage:g.Ke,title:(0,Y.Z)("Delete Download"),message:(0,Y.Z)("Are you sure you want to delete this download?"),onConfirm:T,onCancel:N}))))}));Mt.propTypes=vt(vt({},Mt.propTypes),{mediaSubscriptionEntityID:pe().string.isRequired,metricsPage:pe().string.isRequired,metricsProperties:pe().object.isRequired});const Et=Mt;var Pt=Object.defineProperty,Dt=Object.prototype.hasOwnProperty,Ct=Object.getOwnPropertySymbols,wt=Object.prototype.propertyIsEnumerable,Zt=(e,t,n)=>t in e?Pt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Tt=(e,t)=>{for(var n in t||(t={}))Dt.call(t,n)&&Zt(e,n,t[n]);if(Ct)for(var n of Ct(t))wt.call(t,n)&&Zt(e,n,t[n]);return e};const Nt=function(e){const t=e,{activeSort:n,metricsPage:i,metricsProperties:a,serverEntityID:s}=t,o=((e,t)=>{var n={};for(var r in e)Dt.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&Ct)for(var r of Ct(e))t.indexOf(r)<0&&wt.call(e,r)&&(n[r]=e[r]);return n})(t,["activeSort","metricsPage","metricsProperties","serverEntityID"]),l=(0,r.useMemo)((()=>e=>r.createElement(Et,Tt(Tt({},e),{serverEntityID:s,activeSort:n,listType:Ie.t1,listContext:be.jF,metricsPage:i,metricsProperties:a}))),[n,i,a,s]);return r.createElement(fe.Z,Tt(Tt({},o),{className:"DownloadSubscriptionSummaryList-content-2zjhKA",scrollerClassName:"DownloadSubscriptionSummaryList-scroller-2h25nF VirtualListScroller-scroller-36RMyc",scrollPositionStorageKey:"DownloadSubscriptionSummaryList",keyPropName:"mediaSubscriptionEntityID",layout:Pe,cellRenderer:l}))};var Ot=n(67006),At=Object.defineProperty,xt=Object.prototype.hasOwnProperty,jt=Object.getOwnPropertySymbols,Lt=Object.prototype.propertyIsEnumerable,kt=(e,t,n)=>t in e?At(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Rt=(e,t)=>{for(var n in t||(t={}))xt.call(t,n)&&kt(e,n,t[n]);if(jt)for(var n of jt(t))Lt.call(t,n)&&kt(e,n,t[n]);return e};let zt,Ut;function Vt(e,t=window.location.hash){const n=function(e){if(zt===e)return Ut;const t=e.split("?"),n=t.length>1?t[1]:void 0,r=n?N.Z.parseParams(n):{};return zt=e,Ut={url:t[0],params:r},Ut}(t);return N.Z.join(n.url,Rt(Rt({},n.params),{type:e.type,subtype:e.subtype,sort:e.sort,save:1}))}function Bt(e,t,n){return t?function(e,t){switch(e){case Oe.PODCAST:return t?(0,Y.Z)("Podcasts"):(0,Y.Z)("Podcast");case Oe.WEBSHOW:return t?(0,Y.Z)("Web Shows"):(0,Y.Z)("Web Show")}}(t,n):e?function(e,t){const n=Ae.getMetadataType(e);return t?n.plural:n.title}(e,n):(0,Y.Z)("All")}function Ft({type:e,subtype:t,sort:n}){const r={save:1};return e&&(r.type=e),t&&(r.subtype=t),n&&(r.sort=n),{type:e,subtype:t,title:Bt(e,t,!0),route:Vt(r)}}var _t=n(45318),Ht=n(41859),Qt=n(24351),Gt=n(75534),Wt=n(83427),Yt=n(91061),Kt=n(74287),qt=n(55278),$t=n(26253),Jt=n(72373),Xt=Object.defineProperty,en=Object.prototype.hasOwnProperty,tn=Object.getOwnPropertySymbols,nn=Object.prototype.propertyIsEnumerable,rn=(e,t,n)=>t in e?Xt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,an=(e,t)=>{for(var n in t||(t={}))en.call(t,n)&&rn(e,n,t[n]);if(tn)for(var n of tn(t))nn.call(t,n)&&rn(e,n,t[n]);return e};const{ASCENDING:sn,DESCENDING:on}=p.Z.directions,ln=function(e){const t=e,{activeType:n,activeSubtype:i,activeSort:a,sorts:s,selectedSort:o,onMenuClose:l}=t,c=((e,t)=>{var n={};for(var r in e)en.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&tn)for(var r of tn(e))t.indexOf(r)<0&&nn.call(e,r)&&(n[r]=e[r]);return n})(t,["activeType","activeSubtype","activeSort","sorts","selectedSort","onMenuClose"]);return r.createElement(Kt.Z,an(an({},c),{onMenuClose:l}),s.map((({key:e,descKey:t,defaultDirection:s,title:c})=>{const d=o.key===e;let u=s;d&&(u=a?a===t?sn:on:s===sn?on:sn);const p=u===on;return r.createElement(qt.Z,{key:e,to:Vt({type:n,subtype:i,sort:p?t:e}),isSelected:d,iconComponent:p?$t.Z:Jt.Z,selectedIconAriaLabel:p?(0,Y.Z)("Ascending"):(0,Y.Z)("Descending"),onPress:l},c)})))};var cn=Object.defineProperty,dn=Object.prototype.hasOwnProperty,un=Object.getOwnPropertySymbols,pn=Object.prototype.propertyIsEnumerable,mn=(e,t,n)=>t in e?cn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,hn=(e,t)=>{for(var n in t||(t={}))dn.call(t,n)&&mn(e,n,t[n]);if(un)for(var n of un(t))pn.call(t,n)&&mn(e,n,t[n]);return e};const gn=function(e){const t=e,{activeType:n,activeSubtype:i,types:a,onMenuClose:s}=t,o=((e,t)=>{var n={};for(var r in e)dn.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&un)for(var r of un(e))t.indexOf(r)<0&&pn.call(e,r)&&(n[r]=e[r]);return n})(t,["activeType","activeSubtype","types","onMenuClose"]);return r.createElement(Kt.Z,hn(hn({},o),{onMenuClose:s}),a.map((({type:e,subtype:t,title:a,route:o})=>{let l;return l=t?t===i:e?e===n&&!i:!n&&!i,r.createElement(qt.Z,{key:t||e||"all",to:o,isSelected:l,onMenuClose:s},a)})))};var yn=n(88413),vn=n(53757),fn=n(63312),bn=n(19210),In=n(66088),Sn=n(54939),Mn=n(89267);function En(e){var t=e["aria-label"],n=e.className,i=e.style,a={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-toolbar-refresh-560"};a["aria-hidden"]=!t,a.style=i,a.className=me.Z.plexIcon+(n?" "+n:"");var s=[r.createElement.apply(r,["path",{d:"M432.272,156.583C396.336,112.3 341.473,84 280,84C171.752,84 84,171.752 84,280C84,388.248 171.752,476 280,476L280,518C148.556,518 42,411.443 42,280C42,148.556 148.556,42 280,42C357.038,42 425.526,78.602 469.024,135.364L532.871,98.503L504,244.497L363.129,196.503L432.272,156.583Z"}].concat([]))];return t&&s.unshift(r.createElement("title",null,t)),r.createElement.apply(r,["svg",a].concat(s))}En.propTypes={"aria-label":pe().string,className:pe().string,style:pe().object};const Pn=En;var Dn=Object.defineProperty,Cn=Object.prototype.hasOwnProperty,wn=Object.getOwnPropertySymbols,Zn=Object.prototype.propertyIsEnumerable,Tn=(e,t,n)=>t in e?Dn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Nn=(e,t)=>{for(var n in t||(t={}))Cn.call(t,n)&&Tn(e,n,t[n]);if(wn)for(var n of wn(t))Zn.call(t,n)&&Tn(e,n,t[n]);return e};const On=2*(0,bn.Z)(Mn.Z.slowSpeed),An=function(e){const t=e,{isProcessingSubscriptions:n,onPress:i}=t,a=((e,t)=>{var n={};for(var r in e)Cn.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&wn)for(var r of wn(e))t.indexOf(r)<0&&Zn.call(e,r)&&(n[r]=e[r]);return n})(t,["isProcessingSubscriptions","onPress"]),s=(0,Sn.Z)(n,!0,On)||n;return r.createElement(fn.Z,Nn(Nn({},a),{tooltip:(0,Y.Z)("Check for new downloads"),tooltipAttachment:In.OI,"data-qa-id":"toolbarProcessSubscriptions",isDisabled:n,onPress:s?null:i}),s?r.createElement(vn.Z,{className:"ToolbarProcessSubscriptionsButton-spinner-1LZvgq Spinner-spinner-1mPhN9 spin-spin-34xiUE"}):r.createElement(Pn,{className:"ToolbarProcessSubscriptionsButton-icon-2TqatO PlexIcon-plexIcon-2sd7AW"}))},xn={onRefreshDownloads:f.GX},jn=(0,l.$j)((function(){return(0,c.P1)(W(),(0,yn.ZP)(Z.l1),((e,t)=>({canShowProcessSubscriptions:e.length>0,isProcessingSubscriptions:!!t})))}),xn)((function(e){const{className:t,canShowProcessSubscriptions:n,isProcessingSubscriptions:i,onRefreshDownloads:a}=e;return r.createElement("div",{className:t},n?r.createElement(An,{isProcessingSubscriptions:i,onPress:a}):null)})),Ln=(0,c.P1)(Le.Z,we.Z,((e,t)=>{const{providers:n}=e;return n.reduce(((e,n)=>{const r=t[n].features.find((e=>e.type===Ot.P8));return r&&null!=r.storageTotal&&(e+=r.storageTotal),e}),0)})),kn=(0,l.$j)((function(){return(0,c.P1)(((e,{activeSort:t})=>t),Ln,W(),(0,c.P1)((0,je.Z)(Z.sC),(e=>e.reduce(((e,t)=>e+t.Context.currentSize||0),0))),((e,t,n,r)=>{const i=Ft({sort:e});return{downloadTypes:n.reduce(((t,n)=>{const{type:r,subtype:i}=n.hint;if(!(i?t.find((e=>e.subtype===i)):t.find((e=>e.type===r)))){const n=Ft({type:r,subtype:i,sort:e});t.push(n)}return t}),[i]),storageTotal:t+r}}))}))((function(e){const{serverEntityID:t,activeType:n,activeSubtype:i,activeSort:a,selectedSort:s,downloadTypes:o,storageTotal:l,sorts:c,size:d}=e,u=(0,Gt.Z)(),p=(0,Gt.Z)(),[m,h]=(0,r.useState)(l),[g,y]=(0,r.useState)(!1),[v,f]=(0,r.useState)(!1),b=(0,r.useCallback)((()=>{y(!g)}),[g]),I=(0,r.useCallback)((()=>{y(!1)}),[]),S=(0,r.useCallback)((()=>{f(!v)}),[v]),M=(0,r.useCallback)((()=>{f(!1)}),[]);(0,r.useEffect)((()=>{let e=window.setTimeout((()=>{h(l)}),100);return()=>{e=window.clearTimeout(e)}}),[l]);const E=n||i?(0,Y.Z)("All {typeTitle} Downloads",{typeTitle:Bt(n,i,!1)}):(0,Y.Z)("All Downloads");return r.createElement(Wt.Z,{className:"DownloadsPageHeader-pageHeader-dWvcMI PrimaryPageHeader-pageHeader-2h_9dt PageHeader-pageHeader-WpvbJc"},r.createElement(Qt.Z,null,r.createElement(Ht.Z,{id:u,"data-qa-id":"downloadsTypesMenuButton",hasMenu:o.length>2,isMenuOpen:g,onPress:b},E),r.createElement(gn,{target:u,isOpen:g,activeType:n,activeSubtype:i,types:o,onMenuClose:I}),d>1?r.createElement(Ht.Z,{id:p,"data-qa-id":"downloadsSortsMenuButton",hasMenu:!0,isMenuOpen:v,onPress:S},(0,Y.Z)("By {sortTitle}",{sortTitle:s.title})):null,d>1?r.createElement(ln,{target:p,isOpen:v,activeType:n,activeSubtype:i,activeSort:a,selectedSort:s,sorts:c,onMenuClose:M}):null,r.createElement(_t.Z,null,d)),r.createElement(Yt.Z,null,r.createElement("div",{className:"DownloadsPageHeader-storageTotal-2Bs463"},(0,Y.Z)("{storageTotal} Downloaded",{storageTotal:it(m)})),r.createElement(jn,{serverEntityID:t})))})),Rn="DownloadsPage-upsell-3JpmF2",zn=function(e){const{serverEntityID:t,activeType:n,activeSubtype:i,activeSort:a,selectedSort:s,sorts:o,mediaSubscriptions:l,metricsPage:c,metricsProperties:d,isProvidersPending:u,isProvidersPopulated:p,isMediaSubscriptionsPending:m,canShowUpsell:h,providersError:g,mediaSubscriptionsError:y}=e,[v,f]=(0,r.useState)(!1),b=(0,r.useCallback)((()=>{f(!0)}),[]),I=(0,r.useCallback)((()=>{f(!1)}),[]);if(u&&!p||m&&!l.length)return r.createElement(oe.Z,null,r.createElement(ae.Z,null));const S=g||y,M=l.length>0;return r.createElement(se.Z,{metricsPage:c,metricsProperties:d,allowBackgroundLightPreset:!0,scrollDirection:re.Hn},M?r.createElement(kn,{serverEntityID:t,activeType:n,activeSubtype:i,activeSort:a,selectedSort:s,sorts:o,size:l.length}):null,r.createElement("div",{className:"DownloadsPage-downloadsPageContent-2VzUgn PageContent-pageContent-aqfjwt"},S?r.createElement(ce.Z,null):null,S||M?null:r.createElement(le.Z,{iconComponent:ve,kind:ne._8,title:(0,Y.Z)("You have no items downloaded"),description:r.createElement(ee.Z,{className:Rn,message:(0,Y.Z)('Use the {downloadIcon} button or choose "Download" from the menu to download items for offline playback.'),tags:[{unpaired:"downloadIcon",children:r.createElement(ge,{key:"downloadIcon"})}]})},h?r.createElement(ee.Z,{className:Rn,message:(0,Y.Z)("An active {openPlexPassLink}Plex Pass{closePlexPassLink} is required to download from a Plex Media Server."),tags:[{open:"openPlexPassLink",close:"closePlexPassLink",component:te.Z,kind:ne._8,onPress:b}]}):null),!S&&M?r.createElement(Nt,{serverEntityID:t,items:l,size:l.length,metricsPage:c,metricsProperties:d,activeSort:a}):null,h?r.createElement(de.Z,{origin:ie.Yz,isOpen:v,onModalClose:I}):null))};var Un=Object.defineProperty,Vn=Object.prototype.hasOwnProperty,Bn=Object.getOwnPropertySymbols,Fn=Object.prototype.propertyIsEnumerable,_n=(e,t,n)=>t in e?Un(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Hn=(e,t)=>{for(var n in t||(t={}))Vn.call(t,n)&&_n(e,n,t[n]);if(Bn)for(var n of Bn(t))Fn.call(t,n)&&_n(e,n,t[n]);return e},Qn=(e,t)=>{var n={};for(var r in e)Vn.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&Bn)for(var r of Bn(e))t.indexOf(r)<0&&Fn.call(e,r)&&(n[r]=e[r]);return n};const Gn={pane:"sync"};function Wn(e,t){return!e&&!t||u().isEqual(e,t)}const Yn=(0,v.Z)((e=>{const{key:t,direction:n}=e,{DESCENDING:r}=p.Z.directions;return(e,i)=>{let a,s;return t===$?(a=e.hint[t].toUpperCase(),s=i.hint[t].toUpperCase()):(a=e[t],s=i[t]),a>s?n===r?-1:1:a<s?n===r?1:-1:0}})),Kn={dispatchFetchProvidersWithStorage:H,dispatchInitDownloadsPage:F,dispatchRefreshDownloads:f.GX,dispatchResetDownloadsPage:_,dispatchSaveDownloadsParams:Q};class qn extends r.Component{componentDidMount(){this.props.dispatchInitDownloadsPage(),this.props.dispatchFetchProvidersWithStorage(),this.props.dispatchRefreshDownloads(),this.props.shouldSaveParams&&this._saveDownloadsDefaultParams(this.props)}componentDidUpdate(e){this.props.shouldSaveParams&&!Wn(e.params,this.props.params)&&this._saveDownloadsDefaultParams(this.props)}componentWillUnmount(){this.props.dispatchResetDownloadsPage()}_saveDownloadsDefaultParams(e){Wn(e.params,e.savedDownloadsParams)||e.dispatchSaveDownloadsParams(e.params)}render(){const e=this.props,{params:t,savedDownloadsParams:n,dispatchFetchProvidersWithStorage:i,dispatchRefreshDownloads:a,dispatchInitDownloadsPage:s,dispatchResetDownloadsPage:o,dispatchSaveDownloadsParams:l}=e,c=Qn(e,["params","savedDownloadsParams","dispatchFetchProvidersWithStorage","dispatchRefreshDownloads","dispatchInitDownloadsPage","dispatchResetDownloadsPage","dispatchSaveDownloadsParams"]);return r.createElement(zn,Hn(Hn({},c),{metricsPage:g.Q_,metricsProperties:Gn}))}}const $n=(0,l.$j)((function(){return(0,c.P1)(((e,{params:t})=>t),(e=>e.ui.downloadsPage),(e=>e.downloads),h.Z,W(),(0,m.Z)(y.iU),(0,m.Z)(y.Ed),((e,t,n,r,i,a,s)=>{const{sort:o=""}=e;let{type:l,subtype:c}=e;const{isProvidersPending:d,isProvidersPopulated:u,providersError:p}=t,{isSubscriptionsPending:m,subscriptionsError:h}=n,g=[{key:$,descKey:"title:desc",defaultDirection:K,title:(0,Y.Z)("Title")},{key:J,descKey:"createdAt:desc",defaultDirection:q,title:(0,Y.Z)("Date Downloaded"),isDefault:!0},{key:X,descKey:"storageTotal:desc",defaultDirection:q,title:(0,Y.Z)("Size on Disk")}],y=o.split(":");let v=y[0];const f=y[1];let b=g.find((e=>e.key===v));b||(b=g.find((e=>e.isDefault))),v||(v=b.key),f&&(b.direction=f);let I=[...i];if((l||c)&&(I=i.reduce(((e,t)=>{const n=t.hint.subtype===c,r=t.hint.type===l;let i=!1;return c?n&&(i=!0):r&&!t.hint.subtype&&(i=!0),i&&e.push(t),e}),[]),i.length&&!I.length)){const t=e,{type:n,subtype:r}=t;I=i,e=Qn(t,["type","subtype"]),l=null,c=null}const S=Yn(b);return I.sort(S),{selectedSort:b,sorts:g,mediaSubscriptions:I.map((e=>e.entityID)),isProvidersPending:d,isProvidersPopulated:u,isMediaSubscriptionsPending:m,canShowUpsell:!a&&!s,providersError:p,mediaSubscriptionsError:h,savedDownloadsParams:r.downloads,params:e,activeType:l,activeSubtype:c,activeSort:o}}))}),Kn)(qn);var Jn=n(40875),Xn=n(20500),er=n(68576);const tr=function(e){const{children:t,isWaitingForEmbeddedServer:n,embeddedServerEntityID:i}=e;return n?r.createElement(oe.Z,null,r.createElement(ae.Z,null)):i?r.createElement(Xn.Z,{serverEntityID:i},t(i)):r.createElement(er.Z,null)};var nr=Object.defineProperty,rr=Object.prototype.hasOwnProperty,ir=Object.getOwnPropertySymbols,ar=Object.prototype.propertyIsEnumerable,sr=(e,t,n)=>t in e?nr(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,or=(e,t)=>{for(var n in t||(t={}))rr.call(t,n)&&sr(e,n,t[n]);if(ir)for(var n of ir(t))ar.call(t,n)&&sr(e,n,t[n]);return e};const lr=(0,c.P1)(Le.Z,((e={})=>{const{entityID:t,isProvidersPopulated:n=!1}=e;return{embeddedServerEntityID:t,isProvidersPopulated:n}})),cr={dispatchChangeQuickSearchSettings:Jn.changeQuickSearchSettings};class dr extends r.Component{componentDidMount(){this.props.dispatchChangeQuickSearchSettings({providerEntityID:null,providerIdentifier:null,serverEntityID:null,directoryID:null})}render(){const e=this.props,{isProvidersPopulated:t,dispatchChangeQuickSearchSettings:n}=e,i=((e,t)=>{var n={};for(var r in e)rr.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&ir)for(var r of ir(e))t.indexOf(r)<0&&ar.call(e,r)&&(n[r]=e[r]);return n})(e,["isProvidersPopulated","dispatchChangeQuickSearchSettings"]);return r.createElement(tr,or(or({},i),{isWaitingForEmbeddedServer:!t}))}}const ur=(0,l.$j)(lr,cr)(dr);function pr(){const e=(0,a.Z)(),t=(0,r.useMemo)((()=>({context:(0,o.Z)(e.context),type:(0,o.Z)(e.type),subtype:(0,o.Z)(e.subtype),sort:(0,o.Z)(e.sort),save:(0,s.Z)(e.save)})),[e]);return r.createElement(i.Z,{metricsContext:t.context},r.createElement(ur,null,(e=>r.createElement($n,{serverEntityID:e,params:t,shouldSaveParams:t.save}))))}},49560:(e,t,n)=>{"use strict";var r,i,a,s,o,l,c,d,u,p,m,h;n.d(t,{VD:()=>r,Lw:()=>a,pz:()=>o,MT:()=>c,qZ:()=>u,Tk:()=>m}),(i=r||(r={})).ArrowDown="ArrowDown",i.ArrowLeft="ArrowLeft",i.ArrowRight="ArrowRight",i.ArrowUp="ArrowUp",i.Enter="Enter",i.KeyA="KeyA",i.KeyC="KeyC",i.KeyD="KeyD",i.KeyF="KeyF",i.KeyG="KeyG",i.KeyH="KeyH",i.KeyI="KeyI",i.KeyJ="KeyJ",i.KeyK="KeyK",i.KeyL="KeyL",i.KeyQ="KeyQ",i.KeyR="KeyR",i.KeyS="KeyS",i.KeyW="KeyW",i.KeyX="KeyX",i.KeyT="KeyT",i.KeyZ="KeyZ",i.ShiftLeft="ShiftLeft",i.ShiftRight="ShiftRight",(s=a||(a={}))[s.Button0=0]="Button0",s[s.Button1=1]="Button1",s[s.Button2=2]="Button2",s[s.Button3=3]="Button3",s[s.Button4=4]="Button4",s[s.Button5=5]="Button5",s[s.Button6=6]="Button6",s[s.Button7=7]="Button7",s[s.Button8=8]="Button8",s[s.Button9=9]="Button9",s[s.Button10=10]="Button10",s[s.Button11=11]="Button11",s[s.Button12=12]="Button12",s[s.Button13=13]="Button13",s[s.Button14=14]="Button14",s[s.Button15=15]="Button15",s[s.Button16=16]="Button16",s[s.Button17=17]="Button17",(l=o||(o={}))[l.Axis0=0]="Axis0",l[l.Axis1=1]="Axis1",l[l.Axis2=2]="Axis2",l[l.Axis3=3]="Axis3",(d=c||(c={}))[d.None=0]="None",d[d.Keyboard=1]="Keyboard",d[d.Gamepad=2]="Gamepad",(p=u||(u={}))[p.Ok=0]="Ok",p[p.UnknownFailure=8e3]="UnknownFailure",p[p.AccountLinkageMissing=8001]="AccountLinkageMissing",p[p.PlatformMissing=8002]="PlatformMissing",p[p.PlatformCoreMappingMissing=8003]="PlatformCoreMappingMissing",p[p.PlatformCoreMissing=8004]="PlatformCoreMissing",p[p.TranscoderDied=8005]="TranscoderDied",p[p.InvalidCoreMappingFile=8006]="InvalidCoreMappingFile",p[p.MissingCoreMappingFile=8007]="MissingCoreMappingFile",p[p.SessionPeerNeverShowedUp=8008]="SessionPeerNeverShowedUp",p[p.TranscoderDownloading=8009]="TranscoderDownloading",p[p.PlatformCoreDownloading=8010]="PlatformCoreDownloading",p[p.PlatformCoreMappingFileMissingOrInvalid=8011]="PlatformCoreMappingFileMissingOrInvalid",p[p.RomMissing=8012]="RomMissing",p[p.SubscriptionRequired=8013]="SubscriptionRequired",(h=m||(m={}))[h.PauseGame=1]="PauseGame",h[h.ResumeGame=2]="ResumeGame"},77255:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>D});var r=n(94184),i=n.n(r),a=n(67294),s=n(37703),o=n(12304),l=n(96840),c=n(16143),d=n(93554),u=n(22222);const p=(0,u.P1)((function(e){return e.deviceSettings}),(e=>e.remotePlayer),((e,t)=>t?t.volume:e.volume));var m=n(26021),h=n(24974),g=n(84571);const y=["af","am","ar","ar_eg","ar_sa","eu","be","bn","bg","ca","zh","zh_cn","zh_hk","zh_tw","hr","cs","da","nl","en","en_au","en_ca","en_gb","en_ie","en_in","en_sg","en_za","et","fa","fil","fi","fr","fr_ca","fr_ch","gl","de","de_at","el","gu","he","hi","hu","is","id","it","ja","kn","ko","lo","lv","ln","lt","ms","ml","mr","no","pl","pt","pt_br","pt_pt","ro","ru","sr","sk","sl","es","es_419","es_ar","es_cl","es_co","es_cr","es_do","es_ec","es_sv","es_gt","es_hn","es_mx","es_ni","es_pa","es_pe","es_pr","es_py","es_us","es_uy","es_ve","sw","sv","gsw","tl","ta","te","th","tr","uk","ur","vi","zu"],v=(0,u.P1)(g.Z,(e=>function(e){const t=e.toLowerCase().replace(/-/g,"_");return y.includes(t)?t:"en"}(e)));var f=n(31298),b=n(14540),I=n(84936);function S(e){const t=Math.round(e%3600),n=Math.floor(e/3600),r=Math.floor(t/60),i=t%60;return`${String(n).padStart(2,"0")}:${String(r).padStart(2,"0")}:${String(i).padStart(2,"0")} (${e}s)`}function M(e){return t=>{var n,r;const i=t,a=t;try{const e=null==(n=i.getAdData)?void 0:n.call(i),t=(null==e?void 0:e.adError)||(null==(r=a.getError)?void 0:r.call(a));if(t){const e={message:t.getMessage(),errorCode:t.getErrorCode(),vastErrorCode:t.getVastErrorCode()};l.Z.error("[IMA SDK] Error: %s from event %s: %o",t.getType(),i.type,e)}else(0,b.Z)()&&function(e){var t,n;const r=null==(t=e.getAd)?void 0:t.call(e),i=null==(n=e.getAdData)?void 0:n.call(e),a=null==r?void 0:r.getAdPodInfo();if(a)try{const t={adPosition:a.getAdPosition(),isBumper:a.getIsBumper(),maxDuration:a.getMaxDuration(),podIndex:a.getPodIndex(),timeOffset:a.getTimeOffset(),totalAds:a.getTotalAds()};(0,l.Z)("[IMA SDK] Event %s (adPodInfo): %o",e.type,t)}catch(e){l.Z.warn("[IMA SDK] Cannot log adPodInfo",null==e?void 0:e.message)}if(i&&(0,l.Z)("[IMA SDK] Event %s (adData): %o",e.type,i),r)try{const t={adSystem:r.getAdSystem(),advertiserName:r.getAdvertiserName(),apiFramework:r.getApiFramework(),contentType:r.getContentType(),creativeAdId:r.getCreativeAdId(),creativeId:r.getCreativeId(),dealId:r.getDealId(),description:r.getDescription(),duration:r.getDuration(),height:r.getHeight(),mediaUrl:r.getMediaUrl(),minSuggestedDuration:r.getMinSuggestedDuration(),skipTimeOffset:r.getSkipTimeOffset(),surveyUrl:r.getSurveyUrl(),title:r.getTitle(),traffickingParameters:r.getTraffickingParameters(),traffickingParametersString:r.getTraffickingParametersString(),uiElements:r.getUiElements(),universalAdIdRegistry:r.getUniversalAdIdRegistry(),universalAdIdValue:r.getUniversalAdIdValue(),vastMediaHeight:r.getVastMediaHeight(),vastMediaWidth:r.getVastMediaWidth(),width:r.getWidth(),wrapperAdIds:r.getWrapperAdIds(),wrapperAdSystems:r.getWrapperAdSystems(),wrapperCreativeIds:r.getWrapperCreativeIds(),isLinear:r.isLinear()};(0,l.Z)("[IMA SDK] Event %s (ad):",e.type,t)}catch(e){l.Z.warn("[IMA SDK] Cannot log ad info",null==e?void 0:e.message)}}(i)}catch(e){l.Z.warn("[IMA SDK] Event:",null==i?void 0:i.type,null==e?void 0:e.message)}e(t)}}const E=void 0,P=null;function D({edgeGutterX:e,edgeGutterY:t,height:n,isFullscreen:r,isIdle:u,isMiniPlayer:g,isStackedAbove:y,placement:D,playerType:C,statusOverlayClassName:w,url:Z,width:T,onAdChange:N,onPositionMillisecondsChange:O}){const A=(0,s.I0)(),[x,j]=(0,a.useState)(E),[L,k]=(0,a.useState)(),[R,z]=(0,a.useState)(null),[U,V]=(0,m.Z)(),[B,F]=(0,a.useState)(c.Ho),[_,H]=(0,a.useState)(c.Mf),[Q,G]=(0,a.useState)(c.pN),W=(0,s.v9)((0,h.Z)(C,"durationSeconds")),Y=(0,s.v9)((0,h.Z)(C,"isPaused")),K=(0,s.v9)(v),q=(0,s.v9)((0,h.Z)(C,"positionSeconds")),$=(0,s.v9)(p),J=function(e,t,n=!0){const r=(0,a.useRef)({currentTime:e,duration:t});return(0,a.useEffect)((()=>{n&&e>=0&&(r.current.currentTime=e)}),[n,e]),(0,a.useEffect)((()=>{n&&t>=0&&(r.current.duration=t)}),[n,t]),r.current}(q,W,!u),X=function(e,t,n,r){const[i,s]=(0,a.useState)();return(0,a.useEffect)((()=>{if(!t)return;const i=M((e=>{const t=e.getError();r(new Error(t.getMessage()))})),a=M((e=>{(0,b.Z)()&&(0,l.Z)("[IMA] Creating AdsManager"),s(e.getAdsManager(n))})),o=new window.google.ima.AdsRequest;return o.adTagUrl=I.Z.join(e,{vpaid:1}),o.forceNonLinearFullSlot=!0,o.linearAdSlotWidth=1280,o.linearAdSlotHeight=720,o.setAdWillAutoPlay(!0),o.setAdWillPlayMuted(!1),t.addEventListener(window.google.ima.AdErrorEvent.Type.AD_ERROR,i),t.addEventListener(window.google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,a),(0,b.Z)()&&(0,l.Z)("[IMA] Loading ads:",o.adTagUrl),t.requestAds(o),()=>{t.removeEventListener(window.google.ima.AdErrorEvent.Type.AD_ERROR,i),t.removeEventListener(window.google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,a)}}),[t,n,e,r]),(0,a.useEffect)((()=>{if(!i)return;const e=M((t=>{i.removeEventListener(t.type,e),(0,b.Z)()&&(0,l.Z)("[IMA] Enabling preloading");const n=new window.google.ima.AdsRenderingSettings;n.enablePreloading=!0,i.updateAdsRenderingSettings(n)}));return(0,b.Z)()&&(0,l.Z)("[IMA] Starting AdsManager"),(0,b.Z)()&&(0,l.Z)("[IMA] CuePoints:",i.getCuePoints().map(S).join(", ")),i.addEventListener(window.google.ima.AdEvent.Type.LOADED,e),i.init(1280,720,window.google.ima.ViewMode.NORMAL),i.start(),()=>{i.removeEventListener(window.google.ima.AdEvent.Type.LOADED,e),(0,b.Z)()&&(0,l.Z)("[IMA] Destroying AdsManager"),i.destroy()}}),[i]),i}(Z,function(e){const[t,n]=(0,a.useState)();return(0,a.useEffect)((()=>{e&&((0,b.Z)()&&(0,l.Z)("[IMA] Creating AdsLoader"),n(new window.google.ima.AdsLoader(e)))}),[e]),(0,a.useEffect)((()=>()=>{t&&((0,b.Z)()&&(0,l.Z)("[IMA] Destroying AdsLoader"),t.destroy())}),[t]),t}(function(e){const[t,n]=(0,a.useState)();return(0,a.useEffect)((()=>{e&&((0,b.Z)()&&(0,l.Z)("[IMA] Creating AdDisplayContainer"),n(new window.google.ima.AdDisplayContainer(e)))}),[e]),(0,a.useEffect)((()=>(t&&((0,b.Z)()&&(0,l.Z)("[IMA] Initializing AdDisplayContainer"),t.initialize()),()=>{t&&((0,b.Z)()&&(0,l.Z)("[IMA] Destroying AdDisplayContainer"),t.destroy())})),[t]),t}(R)),J,k),ee=(0,a.useCallback)((e=>{z(e)}),[]);(0,a.useEffect)((()=>{(0,b.Z)()&&(0,l.Z)("[IMA] Setting locale",K),window.google.ima.settings.setLocale(K)}),[K]),(0,a.useEffect)((()=>{x!==E&&(x===P?(F(c.Ho),H(c.Mf),k(void 0),G(c.pN)):(F(x.displayIndex),H(x.displayTotal)),(0,b.Z)()&&(0,l.Z)("[IMA] Changing ad to",x),N(x))}),[x,N]),(0,a.useEffect)((()=>{L&&(l.Z.error("[IMA] Error",...function(e){if(function(e){const t=e;return!!(t.getMessage||t.getErrorCode||t.getVastErrorCode)}(e)){const t=e;let n,r,i;try{r=t.getMessage()}catch(e){l.Z.error("[IMA] error getting message from AdError",e.message)}try{n=t.getErrorCode()}catch(e){l.Z.error("[IMA] error getting error code from AdError",e.message)}try{i=t.getVastErrorCode()}catch(e){l.Z.error("[IMA] error getting VAST error code from AdError",e.message)}return[r||"Unknown error",`(IMA:${n}, VAST:${i})`]}return[e.message]}(L)),x===P?N(P):j(P))}),[x,L,N]),(0,a.useEffect)((()=>{null==X||X.setVolume($/100)}),[X,$]),(0,a.useEffect)((()=>{null==X||X.resize(V.width||1280,V.height||720,r?google.ima.ViewMode.FULLSCREEN:google.ima.ViewMode.NORMAL)}),[X,r,V]),(0,a.useEffect)((()=>{Y?null==X||X.pause():null==X||X.resume()}),[X,Y]),(0,a.useEffect)((()=>{const e=M((e=>{var t;const n=e.getAd(),r=null==n?void 0:n.getAdPodInfo();switch(e.type){case window.google.ima.AdEvent.Type.AD_BUFFERING:A((0,o.n9)({playerType:C,isBuffering:!0}));break;case window.google.ima.AdEvent.Type.AD_PROGRESS:A((0,o.n9)({playerType:C,isBuffering:!1})),O(1e3*e.getAdData().currentTime);break;case window.google.ima.AdEvent.Type.ALL_ADS_COMPLETED:case window.google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED:j(P);break;case window.google.ima.AdEvent.Type.LOADED:G(null!=(t=null==r?void 0:r.getTimeOffset())?t:-1);break;case window.google.ima.AdEvent.Type.STARTED:Y&&(null==X||X.pause()),j(function(e){if(!e)return null;const t=e.getAdPodInfo();return{clicksThrough:!0,displayIndex:t.getAdPosition(),displayTotal:t.getTotalAds(),duration:e.getDuration(),height:e.getHeight(),mimeType:e.getContentType(),timeOffset:t.getTimeOffset(),width:e.getWidth()}}(n));break;case window.google.ima.AdEvent.Type.LOG:{const t=e.getAdData().adError;t&&1009===t.getErrorCode()&&(l.Z.warn("[IMA] Manually handling empty VAST"),k(t));break}}})),t=[window.google.ima.AdEvent.Type.AD_BUFFERING,window.google.ima.AdEvent.Type.AD_PROGRESS,window.google.ima.AdEvent.Type.ALL_ADS_COMPLETED,window.google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED,window.google.ima.AdEvent.Type.LOADED,window.google.ima.AdEvent.Type.LOG,window.google.ima.AdEvent.Type.STARTED,window.google.ima.AdEvent.Type.COMPLETE,window.google.ima.AdEvent.Type.IMPRESSION];return t.forEach((t=>{null==X||X.addEventListener(t,e)})),()=>{t.forEach((t=>{null==X||X.removeEventListener(t,e)}))}}),[X,A,Y,O,C]),(0,a.useEffect)((()=>{const e=M((e=>{k(e.getError())}));return null==X||X.addEventListener(window.google.ima.AdErrorEvent.Type.AD_ERROR,e),()=>{null==X||X.removeEventListener(window.google.ima.AdErrorEvent.Type.AD_ERROR,e)}}),[X]);const te=(0,d.Z)(n,T,D,e,t,y);return a.createElement("div",{style:te},a.createElement("div",{className:i()("ImaPlayer-adContainer-3yMpgq",x===P?"ImaPlayer-hasNoAd-3Zl66K":"ImaPlayer-hasAd-1-dJhC"),ref:(0,f.Z)(ee,U)}),g?null:a.createElement(c.ZP,{className:w,displayIndex:B,displayTotal:_,secondsUntilAd:Q-q}))}},44719:(e,t,n)=>{"use strict";var r,i,a,s;n.d(t,{G:()=>a}),(i=r||(r={})).BottomLeft="bottom-left",i.TopLeft="top-left",i.None="none",(s=a||(a={})).AudioVideo="audioVideo",s.Photo="photo",s.Rom="rom"},8824:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(47479);function i(e,t){var n;let r=!1;for(let i=0;i<e.length;i++){const a=e[i];let s=null!=(n=a.value)?n:a;Math.abs(s)<.06&&(s=0);const o=t.values.get(i),l=o||s;s!==o&&l?(r=!0,t.values.set(i,s),t.changed.add(i)):t.changed.delete(i)}return r}function a(e){if(!r.Z.hasGamepads)return()=>{};const t=new Map,n=()=>{a=window.requestAnimationFrame(n);for(const n of window.navigator.getGamepads()){if(!(null==n?void 0:n.connected))continue;let r=t.get(n.index);if(r||t.set(n.index,r={axes:{changed:new Set,values:new Map},buttons:{changed:new Set,values:new Map},timestamp:0}),r.timestamp!==n.timestamp){const t=i(n.axes,r.axes),a=i(n.buttons,r.buttons);r.timestamp=n.timestamp,(t||a)&&e(n,r.axes,r.buttons)}}};let a=window.requestAnimationFrame(n);return()=>{t.clear(),window.cancelAnimationFrame(a)}}},63676:(e,t,n)=>{"use strict";function r(e,t){const n=new Set;function r(r){if(null==t?void 0:t(r))return;if(r.metaKey||r.ctrlKey||(r.stopImmediatePropagation(),r.preventDefault()),r.repeat)return;const i="keydown"===r.type;i?n.add(r.code):n.delete(r.code),e(r.code,i,n)}return window.addEventListener("keydown",r,!0),window.addEventListener("keyup",r,!0),()=>{window.removeEventListener("keydown",r,!0),window.removeEventListener("keyup",r,!0)}}n.d(t,{Z:()=>r})},14540:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(93966),i=n(84734);function a(){const e=(0,r.DB)("appModel").get("deviceSettings").get("debugLevel");return e===i.Z.ENABLED||e===i.Z.VERBOSE}},61201:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r=(0,n(90071).q_)({hashType:"hashbang"})},97189:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(61201),i=n(52448);const a=function(e,t={},n={},a=!1){const s=(0,i.Z)(e,t,n);a?r.Z.replace(s):r.Z.push(s)}},36996:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r={account:"/settings/account",accountPlexTv:"/account",announcements:"/announcements",devices:"/settings/devices/:deviceTypeID?",downloads:"/downloads",firstRunExperience:"/client-setup",home:["","/dashboard"],info:"/info",login:"/login",logout:"/logout",logs:"/logs",media:"/media/:machineIdentifier?/:providerIdentifier",mediaGuideV3:"/media/:machineIdentifier?/:providerIdentifier/guide",mediaTimelineV3:"/media/:machineIdentifier?/:providerIdentifier/timeline",onlineMediaSources:"/settings/online-media-sources",playHistory:"/server/:machineIdentifier/playHistory",playlist:["/server/:machineIdentifier/playlist","/server/:machineIdentifier/album","/server/:machineIdentifier/provider/:providerIdentifier/playlist","/server/:machineIdentifier/provider/:providerIdentifier/album","/provider/:providerIdentifier/playlist"],prePlay:["/server/:machineIdentifier/details","/server/:machineIdentifier/provider/:providerIdentifier/details","/provider/:providerIdentifier/details"],providerSettings:"/provider/:providerIdentifier/settings",search:"/search",serverDownloadMessage:"/get-plex-media-server",serverSettingsStatusSync:"/settings/server/:machineIdentifier/status/sync/:deviceID?",serverSettings:"/settings/server/:machineIdentifier/:settingsSection/:settingsGroup",serverSettingsPMS:"/settings/server/:machineIdentifier",serverSetup:"/setup/:machineIdentifier?",serverUpdate:"/server/:machineIdentifier/update",signUp:"/signUp",transientPrePlay:"/transient/provider/:providerIdentifier/details",userSharingSettings:"/settings/users-sharing/:userID",usersSharing:"/settings/users-sharing",watchNow:"/provider/:providerIdentifier/watch-now",webhooks:"/settings/webhooks",webSettings:"/settings/web/:settingsSubset?"}},52448:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(5977),i=n(84936),a=n(36996);const s=function(e,t={},n={}){const s=a.Z[e],o=Array.isArray(s)?s[0]:s;return i.Z.join((0,r.Gn)(o,t),n)}},38204:(e,t,n)=>{"use strict";var r,i;n.d(t,{Z:()=>a}),(i=r||(r={})).Unidentified="Unidentified",i.Alt="Alt",i.AltGraph="AltGraph",i.CapsLock="CapsLock",i.Control="Control",i.Fn="Fn",i.FnLock="FnLock",i.Hyper="Hyper",i.Meta="Meta",i.NumLock="NumLock",i.ScrollLock="ScrollLock",i.Shift="Shift",i.Super="Super",i.Symbol="Symbol",i.SymbolLock="SymbolLock",i.Enter="Enter",i.Tab="Tab",i.ArrowDown="ArrowDown",i.ArrowLeft="ArrowLeft",i.ArrowRight="ArrowRight",i.ArrowUp="ArrowUp",i.End="End",i.Home="Home",i.PageDown="PageDown",i.PageUp="PageUp",i.Backspace="Backspace",i.Clear="Clear",i.Copy="Copy",i.CrSel="CrSel",i.Cut="Cut",i.Delete="Delete",i.EraseEof="EraseEof",i.ExSel="ExSel",i.Insert="Insert",i.Paste="Paste",i.Redo="Redo",i.Undo="Undo",i.Accept="Accept",i.Again="Again",i.Attn="Attn",i.Cancel="Cancel",i.ContextMenu="ContextMenu",i.Escape="Escape",i.Execute="Execute",i.Find="Find",i.Finish="Finish",i.Help="Help",i.Pause="Pause",i.Play="Play",i.Props="Props",i.Select="Select",i.ZoomIn="ZoomIn",i.ZoomOut="ZoomOut",i.BrightnessDown="BrightnessDown",i.BrightnessUp="BrightnessUp",i.Eject="Eject",i.LogOff="LogOff",i.Power="Power",i.PowerOff="PowerOff",i.PrintScreen="PrintScreen",i.Hibernate="Hibernate",i.Standby="Standby",i.WakeUp="WakeUp",i.AllCandidates="AllCandidates",i.Alphanumeric="Alphanumeric",i.CodeInput="CodeInput",i.Compose="Compose",i.Convert="Convert",i.Dead="Dead",i.FinalMode="FinalMode",i.GroupFirst="GroupFirst",i.GroupLast="GroupLast",i.GroupNext="GroupNext",i.GroupPrevious="GroupPrevious",i.ModeChange="ModeChange",i.NextCandidate="NextCandidate",i.NonConvert="NonConvert",i.PreviousCandidate="PreviousCandidate",i.Process="Process",i.SingleCandidate="SingleCandidate",i.HangulMode="HangulMode",i.HanjaMode="HanjaMode",i.JunjaMode="JunjaMode",i.Eisu="Eisu",i.Hankaku="Hankaku",i.Hiragana="Hiragana",i.HiraganaKatakana="HiraganaKatakana",i.KanaMode="KanaMode",i.KanjiMode="KanjiMode",i.Katakana="Katakana",i.Romaji="Romaji",i.Zenkaku="Zenkaku",i.ZenkakuHanaku="ZenkakuHanaku",i.F1="F1",i.F2="F2",i.F3="F3",i.F4="F4",i.F5="F5",i.F6="F6",i.F7="F7",i.F8="F8",i.F9="F9",i.F10="F10",i.F11="F11",i.F12="F12",i.F13="F13",i.F14="F14",i.F15="F15",i.F16="F16",i.F17="F17",i.F18="F18",i.F19="F19",i.F20="F20",i.Soft1="Soft1",i.Soft2="Soft2",i.Soft3="Soft3",i.Soft4="Soft4",i.AppSwitch="AppSwitch",i.Call="Call",i.Camera="Camera",i.CameraFocus="CameraFocus",i.EndCall="EndCall",i.GoBack="GoBack",i.GoHome="GoHome",i.HeadsetHook="HeadsetHook",i.LastNumberRedial="LastNumberRedial",i.Notification="Notification",i.MannerMode="MannerMode",i.VoiceDial="VoiceDial",i.ChannelDown="ChannelDown",i.ChannelUp="ChannelUp",i.MediaFastForward="MediaFastForward",i.MediaPause="MediaPause",i.MediaPlay="MediaPlay",i.MediaPlayPause="MediaPlayPause",i.MediaRecord="MediaRecord",i.MediaRewind="MediaRewind",i.MediaStop="MediaStop",i.MediaTrackNext="MediaTrackNext",i.MediaTrackPrevious="MediaTrackPrevious",i.AudioBalanceLeft="AudioBalanceLeft",i.AudioBalanceRight="AudioBalanceRight",i.AudioBassDown="AudioBassDown",i.AudioBassBoostDown="AudioBassBoostDown",i.AudioBassBoostToggle="AudioBassBoostToggle",i.AudioBassBoostUp="AudioBassBoostUp",i.AudioBassUp="AudioBassUp",i.AudioFaderFront="AudioFaderFront",i.AudioFaderRear="AudioFaderRear",i.AudioSurroundModeNext="AudioSurroundModeNext",i.AudioTrebleDown="AudioTrebleDown",i.AudioTrebleUp="AudioTrebleUp",i.AudioVolumeDown="AudioVolumeDown",i.AudioVolumeMute="AudioVolumeMute",i.AudioVolumeUp="AudioVolumeUp",i.MicrophoneToggle="MicrophoneToggle",i.MicrophoneVolumeDown="MicrophoneVolumeDown",i.MicrophoneVolumeMute="MicrophoneVolumeMute",i.MicrophoneVolumeUp="MicrophoneVolumeUp",i.TV="TV",i.TV3DMode="TV3DMode",i.TVAntennaCable="TVAntennaCable",i.TVAudioDescription="TVAudioDescription",i.TVAudioDescriptionMixDown="TVAudioDescriptionMixDown",i.TVAudioDescriptionMixUp="TVAudioDescriptionMixUp",i.TVContentsMenu="TVContentsMenu",i.TVDataService="TVDataService",i.TVInput="TVInput",i.TVInputComponent1="TVInputComponent1",i.TVInputComponent2="TVInputComponent2",i.TVInputComposite1="TVInputComposite1",i.TVInputComposite2="TVInputComposite2",i.TVInputHDMI1="TVInputHDMI1",i.TVInputHDMI2="TVInputHDMI2",i.TVInputHDMI3="TVInputHDMI3",i.TVInputHDMI4="TVInputHDMI4",i.TVInputVGA1="TVInputVGA1",i.TVMediaContext="TVMediaContext",i.TVNetwork="TVNetwork",i.TVNumberEntry="TVNumberEntry",i.TVPower="TVPower",i.TVRadioService="TVRadioService",i.TVSatellite="TVSatellite",i.TVSatelliteBS="TVSatelliteBS",i.TVSatelliteCS="TVSatelliteCS",i.TVSatelliteToggle="TVSatelliteToggle",i.TVTerrestrialAnalog="TVTerrestrialAnalog",i.TVTerrestrialDigital="TVTerrestrialDigital",i.TVTimer="TVTimer",i.AVRInput="AVRInput",i.AVRPower="AVRPower",i.ColorF0Red="ColorF0Red",i.ColorF1Green="ColorF1Green",i.ColorF2Yellow="ColorF2Yellow",i.ColorF3Blue="ColorF3Blue",i.ColorF4Grey="ColorF4Grey",i.ColorF5Brown="ColorF5Brown",i.ClosedCaptionToggle="ClosedCaptionToggle",i.Dimmer="Dimmer",i.DisplaySwap="DisplaySwap",i.DVR="DVR",i.Exit="Exit",i.FavoriteClear0="FavoriteClear0",i.FavoriteClear1="FavoriteClear1",i.FavoriteClear2="FavoriteClear2",i.FavoriteClear3="FavoriteClear3",i.FavoriteRecall0="FavoriteRecall0",i.FavoriteRecall1="FavoriteRecall1",i.FavoriteRecall2="FavoriteRecall2",i.FavoriteRecall3="FavoriteRecall3",i.FavoriteStore0="FavoriteStore0",i.FavoriteStore1="FavoriteStore1",i.FavoriteStore2="FavoriteStore2",i.FavoriteStore3="FavoriteStore3",i.Guide="Guide",i.GuideNextDay="GuideNextDay",i.GuidePreviousDay="GuidePreviousDay",i.Info="Info",i.InstantReplay="InstantReplay",i.Link="Link",i.ListProgram="ListProgram",i.LiveContent="LiveContent",i.Lock="Lock",i.MediaApps="MediaApps",i.MediaAudioTrack="MediaAudioTrack",i.MediaLast="MediaLast",i.MediaSkipBackward="MediaSkipBackward",i.MediaSkipForward="MediaSkipForward",i.MediaStepBackward="MediaStepBackward",i.MediaStepForward="MediaStepForward",i.MediaTopMenu="MediaTopMenu",i.NavigateIn="NavigateIn",i.NavigateNext="NavigateNext",i.NavigateOut="NavigateOut",i.NavigatePrevious="NavigatePrevious",i.NextFavoriteChannel="NextFavoriteChannel",i.NextUserProfile="NextUserProfile",i.OnDemand="OnDemand",i.Pairing="Pairing",i.PinPDown="PinPDown",i.PinPMove="PinPMove",i.PinPToggle="PinPToggle",i.PinPUp="PinPUp",i.PlaySpeedDown="PlaySpeedDown",i.PlaySpeedReset="PlaySpeedReset",i.PlaySpeedUp="PlaySpeedUp",i.RandomToggle="RandomToggle",i.RcLowBattery="RcLowBattery",i.RecordSpeedNext="RecordSpeedNext",i.RfBypass="RfBypass",i.ScanChannelsToggle="ScanChannelsToggle",i.ScreenModeNext="ScreenModeNext",i.Settings="Settings",i.SplitScreenToggle="SplitScreenToggle",i.STBInput="STBInput",i.STBPower="STBPower",i.Subtitle="Subtitle",i.Teletext="Teletext",i.VideoModeNext="VideoModeNext",i.Wink="Wink",i.ZoomToggle="ZoomToggle",i.SpeechCorrectionList="SpeechCorrectionList",i.SpeechInputToggle="SpeechInputToggle",i.Close="Close",i.New="New",i.Open="Open",i.Print="Print",i.Save="Save",i.SpellCheck="SpellCheck",i.MailForward="MailForward",i.MailReply="MailReply",i.MailSend="MailSend",i.LaunchCalculator="LaunchCalculator",i.LaunchCalendar="LaunchCalendar",i.LaunchContacts="LaunchContacts",i.LaunchMail="LaunchMail",i.LaunchMediaPlayer="LaunchMediaPlayer",i.LaunchMusicPlayer="LaunchMusicPlayer",i.LaunchMyComputer="LaunchMyComputer",i.LaunchPhone="LaunchPhone",i.LaunchScreenSaver="LaunchScreenSaver",i.LaunchSpreadsheet="LaunchSpreadsheet",i.LaunchWebBrowser="LaunchWebBrowser",i.LaunchWebCam="LaunchWebCam",i.LaunchWordProcessor="LaunchWordProcessor",i.LaunchApplication1="LaunchApplication1",i.LaunchApplication2="LaunchApplication2",i.LaunchApplication3="LaunchApplication3",i.LaunchApplication4="LaunchApplication4",i.LaunchApplication5="LaunchApplication5",i.LaunchApplication6="LaunchApplication6",i.LaunchApplication7="LaunchApplication7",i.LaunchApplication8="LaunchApplication8",i.LaunchApplication9="LaunchApplication9",i.LaunchApplication10="LaunchApplication10",i.LaunchApplication11="LaunchApplication11",i.LaunchApplication12="LaunchApplication12",i.LaunchApplication13="LaunchApplication13",i.LaunchApplication14="LaunchApplication14",i.LaunchApplication15="LaunchApplication15",i.LaunchApplication16="LaunchApplication16",i.BrowserBack="BrowserBack",i.BrowserFavorites="BrowserFavorites",i.BrowserForward="BrowserForward",i.BrowserHome="BrowserHome",i.BrowserRefresh="BrowserRefresh",i.BrowserSearch="BrowserSearch",i.BrowserStop="BrowserStop",i.Decimal="Decimal",i.Key11="Key11",i.Key12="Key12",i.Multiply="Multiply",i.Add="Add",i.Divide="Divide",i.Subtract="Subtract",i.Separator="Separator";const a=r},20272:(e,t,n)=>{"use strict";n.d(t,{_2:()=>r,su:()=>i,gQ:()=>a});const r=Object.keys,i=Object.values,a=Object.entries},89571:(e,t,n)=>{"use strict";n.d(t,{Z:()=>k});var r=n(9669),i=n.n(r),a=n(80129),s=n.n(a),o=n(34857),l=n(39670),c=n(17798),d=n(96242),u=n(96840),p=n(55605),m=n(84936),h=Object.defineProperty,g=Object.prototype.hasOwnProperty,y=Object.getOwnPropertySymbols,v=Object.prototype.propertyIsEnumerable,f=(e,t,n)=>t in e?h(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,b=(e,t)=>{for(var n in t||(t={}))g.call(t,n)&&f(e,n,t[n]);if(y)for(var n of y(t))v.call(t,n)&&f(e,n,t[n]);return e};function I(e){if(!e)return e;const t=e,{"X-Plex-Username":n,"X-Plex-Device-Name":r}=t;return((e,t)=>{var n={};for(var r in e)g.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&y)for(var r of y(e))t.indexOf(r)<0&&v.call(e,r)&&(n[r]=e[r]);return n})(t,["X-Plex-Username","X-Plex-Device-Name"])}var S=Object.defineProperty,M=Object.prototype.hasOwnProperty,E=Object.getOwnPropertySymbols,P=Object.prototype.propertyIsEnumerable,D=(e,t,n)=>t in e?S(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,C=(e,t)=>{for(var n in t||(t={}))M.call(t,n)&&D(e,n,t[n]);if(E)for(var n of E(t))P.call(t,n)&&D(e,n,t[n]);return e};const w={PUT:!0,DELETE:!0},Z={Accept:!0,"Accept-Language":!0,"Content-Language":!0,"Content-Type":!0},T=/(^X-Plex-[^=]+)/i;var N=Object.defineProperty,O=Object.prototype.hasOwnProperty,A=Object.getOwnPropertySymbols,x=Object.prototype.propertyIsEnumerable,j=(e,t,n)=>t in e?N(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,L=(e,t)=>{for(var n in t||(t={}))O.call(t,n)&&j(e,n,t[n]);if(A)for(var n of A(t))x.call(t,n)&&j(e,n,t[n]);return e};const k=function(e){const t=L({},e);function*n(e,n){const r=n,{server:a,provider:d,timeout:h=t.timeout,allowHeadersInUrl:g=!(!a&&!d)}=r,y=((e,t)=>{var n={};for(var r in e)O.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&A)for(var r of A(e))t.indexOf(r)<0&&x.call(e,r)&&(n[r]=e[r]);return n})(r,["server","provider","timeout","allowHeadersInUrl"]),v=l.Z.hasInstance()?l.Z.getInstance():{},f=L(L({},v),n.headers);let S=e;if(a){if(!(0,p.Z)(e)){const t=(null==d?void 0:d.baseURL)?d.baseURL:a.uri;if(!t)throw new Error("Unable to make a request to a relative path without `server.uri` or `baseURL`");S=m.Z.join([t,e])}a.accessToken&&(f["X-Plex-Token"]=a.accessToken),a.isEmbedded&&(f["X-Plex-Account-ID"]="1"),d&&(f["X-Plex-Provider-Version"]=t.providerVersion,f["X-Plex-Text-Format"]=(0,c.Z)(d.identifier),t.drmType&&(f["X-Plex-Drm"]=t.drmType))}t.language&&(f["X-Plex-Language"]=t.language,f["Accept-Language"]=t.language);const M=i().CancelToken.source();let E=L(L({},y),{url:S,cancelToken:M?M.token:void 0,headers:f,timeout:h,allowHeadersInUrl:g,paramsSerializer:e=>s().stringify(e,{arrayFormat:"repeat"})});(null==a?void 0:a.isCloud)&&d&&(E=function(e){return b(b({},e),{headers:I(e.headers)})}(E)),E=function(e){const{method:t="GET",headers:n={},params:r={},allowHeadersInUrl:i=!1,allowBlacklistedMethodHeaders:a=!1}=e;if(!i)return e;if(w[t]&&!a)return e;const s=C({},n),o=C({},r);return Object.keys(n).forEach((e=>{const t=n[e];Z[e]||(T.test(e)?(o[e]=t,delete s[e]):u.Z.warn('[CORS] Did not move header "%s" to query string. This can result in an unnecessary OPTIONS preflight request.',e))})),C(C({},e),{headers:s,params:o})}(E);try{return yield(0,o.RE)(i().request,E)}finally{(yield(0,o.By)())&&(null==M||M.cancel())}}return{get:(e,t={})=>n(e,L(L({},t),{method:"GET"})),post:(e,t={},r)=>n(e,L(L({},t),{method:"POST",data:r})),put:(e,t={},r)=>n(e,L(L({},t),{method:"PUT",data:r})),del:(e,t={})=>n(e,L(L({},t),{method:"DELETE"})),setOption(e,n){t[e]=n},toPlainErrorObject(e){let t,n;(function(e){return e.isAxiosError})(e)&&(e.response?(t=e.response.status,n=e.response.data):e.request&&(t=e.request.status));const r={message:e.message,name:e.name,stack:e.stack,status:t,data:n};return u.Z.error(r),r}}}({timeout:3e4,language:"en",drmType:d.NONE,providerVersion:"3.2"})},8183:(e,t,n)=>{"use strict";function r(e){e.isPending=!0,e.error=null}function i(e){e.isPending=!1,e.isPopulated=!0}function a(e,t){e.isPending=!1,e.error=t}function s(e){e.isPending=!1,e.error=null}n.d(t,{er:()=>r,vv:()=>i,VQ:()=>a,EA:()=>s})},60679:(e,t,n)=>{"use strict";n.d(t,{P:()=>l,Z:()=>c});var r=n(2098),i=n(39537),a=n(41538),s=n(56724),o=n(84893);function l(e,t){switch(t){case i.y_.Podcast:switch(e){case a.U.Show:return[r.PD.Title];case a.U.Track:return[r.PD.Title,r.PD.GrandparentTitle]}break;case i.y_.Webshow:switch(e){case a.U.Show:return[r.PD.Title];case a.U.Episode:return[r.PD.Title,r.PD.AddedAtGrandparentTitle]}}switch(e){case a.U.Movie:return[r.PD.Title,r.PD.Year];case a.U.Show:return[r.PD.Title,r.PD.ChildCount];case a.U.Season:return[r.PD.ParentTitle,r.PD.Title];case a.U.Episode:return[r.PD.GrandparentTitle,r.PD.Title,r.PD.EpisodeIdentifier];case a.U.Artist:return[r.PD.Title];case a.U.Album:return[r.PD.ParentTitle,r.PD.TitleAttributed];case a.U.Track:return[r.PD.GrandparentTitle,r.PD.Title];case a.U.Photo:case a.U.PhotoAlbum:case a.U.Clip:return[r.PD.Title];case a.U.Playlist:return[r.PD.Title,r.PD.Duration];case a.U.Collection:return[r.PD.Title,r.PD.ChildCount];case a.U.Channels:return[r.PD.Title,r.PD.AirsAt]}return[r.PD.Title]}const c=function(e){var t;if(!e)return;if(e.DisplayFields)return e;const n=(0,o.Z)(e);if(!n)return e;const i=null==(t=n.Sort)?void 0:t.find((e=>e.active));if(!i)return e;const a=(0,s.Z)(n.type);if(!a)return e;const c=l(n.type,n.subtype),d=function(e,t){switch(e.key){case"addedAt":return[r.PD.AddedAt];case"audienceRating":return[r.PD.Rating];case"beginsAt":return[r.PD.AirsAt];case"contentRating":return[r.PD.ContentRating];case"duration":return[r.PD.Duration];case"lastRatedAt":return[r.PD.LastRatedAt];case"lastViewedAt":return[r.PD.LastViewedAt];case"mediaBitrate":return[r.PD.MediaBitrate];case"mediaCount":return[r.PD.LeafCount];case"mediaHeight":return[r.PD.VideoResolution];case"originallyAvailableAt":return[r.PD.OriginallyAvailableAt];case"rating":return[r.PD.Rating];case"unviewedLeafCount":return[r.PD.UnviewedLeafCount];case"userRating":return[r.PD.UserRating];case"viewCount":return[r.PD.ViewCount];case"viewOffset":return[r.PD.ViewOffset];case"year":return[r.PD.Year]}return[]}(i);return e.DisplayFields=[{type:a,subtype:n.subtype,fields:Array.from(new Set([...c,...d]))}],e}},54466:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(34857),i=n(73754),a=n(89571),s=n(8183);function o(e,t){const n={items:[],totalSize:void 0,pageSize:void 0,isPending:!1,isPopulated:!1,error:null};return{getDefaultPaginatedState:()=>n,getRepopulateRangeOptions(e){var t;const n=Math.max(e.items.findIndex((e=>null!=e)),0);return{startIndex:n,size:null!=(t=e.pageSize)?t:e.items.length-n}},fetchAll:function*(e,n){const{server:i,provider:s,params:o}=n,l=yield(0,r.RE)(a.Z.get,e,{server:i,provider:s,params:o}),c=t?t({server:i,provider:s,data:l.data}):l.data;return yield c},fetchRange:function*(e,n){const{server:s,provider:o,params:l,startIndex:c,size:d,isPrepend:u}=n,p=s.isCloud?i.p8:i.nM,m=Math.max(Math.min(d,p),0),h=u?Math.max(c-m+1,0):c,g=yield(0,r.RE)(a.Z.get,e,{server:s,provider:o,params:l,headers:{"X-Plex-Container-Start":String(h),"X-Plex-Container-Size":String(m)}}),y=t?t({server:s,provider:o,data:g.data}):g.data;return yield y},reducers:{reset(t,{payload:r}){const i=e(t,r);Object.assign(i,n)},fetchAllRequested(t,{payload:n}){const r=e(t,n);(0,s.er)(r)},fetchAllSucceeded(t,{payload:n}){const r=e(t,n),{items:i,size:a}=n.data;(0,s.vv)(r),r.totalSize=a,r.items=i},fetchAllFailed(t,{payload:n}){const r=e(t,n);(0,s.VQ)(r,n.error)},fetchRangeRequested(t,{payload:n}){const r=e(t,n);(0,s.er)(r)},fetchRangeSucceeded(t,{payload:n}){const r=e(t,n),{items:i,totalSize:a,size:o,offset:l}=n.data;(0,s.vv)(r),r.totalSize=a,r.pageSize=o;for(let e=0;e<i.length;e++)r.items[e+l]=i[e]},fetchRangeFailed(t,{payload:n}){const r=e(t,n);(0,s.VQ)(r,n.error)},repopulateRangeRequested(t,{payload:n}){const r=e(t,n);(0,s.er)(r)},repopulateRangeSucceeded(t,{payload:n}){const r=e(t,n),{items:i,totalSize:a,offset:o}=n.data;(0,s.vv)(r),r.items=[],r.totalSize=a;for(let e=0;e<i.length;e++)r.items[e+o]=i[e]},repopulateRangeFailed(t,{payload:n}){const r=e(t,n);(0,s.VQ)(r,n.error)}}}}},82150:(e,t,n)=>{"use strict";n.d(t,{Z:()=>g});var r=n(50361),i=n.n(r),a=n(76249),s=n(46453),o=n(48523),l=n(86953),c=n(84936),d=n(39537),u=(n(67145),n(2098));function p(e,t){var n;if(e.Image=null!=(n=e.Image)?n:[],e.Image.find((e=>e.type===t)))return;const r=function(e,t){var n,r,i,a;switch(t){case u.IY.CoverArt:switch(e.type){case d.pG.Season:return null!=(n=e.parentArt)?n:e.art;case d.pG.Episode:return null!=(i=null!=(r=e.grandparentArt)?r:e.parentArt)?i:e.thumb;default:return e.art}case u.IY.CoverPoster:switch(e.type){case d.pG.Season:return null!=(a=e.parentTheme)?a:e.thumb;case d.pG.Episode:return e.grandparentThumb;default:return e.thumb}}}(e,t);r&&e.Image.push({alt:e.title,type:t,url:r})}var m=n(20019),h=n(65661);function g({server:e,provider:t,data:n,container:r}){var y,v,f,b,I,S,M,E,P,D,C;let w=i()(n);if(e.isEmbedded&&null==w.skipChildren&&w.type===d.pG.Show&&w.subtype===d.y_.Podcast&&(w.skipChildren=!0),w.Context&&(Object.assign(w,w.Context),delete w.Context),w.type===d.pG.Channel&&w.Metadata){const e={id:w.id,thumb:w.thumb,title:w.title};w=i()(w.Metadata),w.liveTVChannel=e}null!=w.allowSync||(0,h.JG)(r,w,"allowSync"),null!=w.attribution||(0,h.JG)(r,w,"attribution"),null!=w.librarySectionID||(0,h.JG)(r,w,"librarySectionID"),null!=w.librarySectionTitle||(0,h.JG)(r,w,"librarySectionTitle"),null!=w.librarySectionUUID||(0,h.JG)(r,w,"librarySectionUUID"),null==r.augmentationKey||(0,o.Z)(e.version,a.Z.augmentedHubsInRelatedHubs)||(0,h.JG)(r,w,"augmentationKey");const Z=/(.*)\/(children|items)$/.exec(w.key);Z&&(w.childrenKey=c.Z.join(w.skipChildren?w.key.replace("/children","/grandchildren"):w.key,{excludeAllLeaves:1}),w.key=Z[1]),(0,h.Dq)(w,"librarySectionID"),(0,h.dL)(w,"extraType"),(0,h.dL)(w,"childCount"),(0,h.dL)(w,"leafCount");const T=w.source||(0,l.Z)({serverIdentifier:e.machineIdentifier,providerIdentifier:null==t?void 0:t.identifier});w.source=T,w.sourceURI=`${T}${w.key}`,null==w.userState&&(w.userState=!0),w.isPlaylist=w.type===d.pG.Playlist&&!w.radio,w.isLiveTVChannel=!!w.liveTVChannel,w.isExtra=null!=w.extraType,w.isFolder=/\/folder\?parent=/.test(w.key),w.type===d.pG.Photo&&w.childrenKey&&(w.type=d.pG.PhotoAlbum),w.type===d.pG.Clip&&(null==(y=w.guid)?void 0:y.startsWith(`${s.Hn}://`))&&!w.subtype&&(w.subtype=d.y_.Photo),w.type===d.pG.Movie&&(null==(v=w.guid)?void 0:v.startsWith(`${s.Hn}://`))&&!w.subtype&&(w.subtype=d.y_.Clip),null==(f=w.Media)||f.forEach((e=>{var t;null==(t=e.Part)||t.forEach((e=>{var t;null==(t=e.Stream)||t.forEach((e=>{(0,h.Dq)(e,"id")}))}))})),function(e){p(e,u.IY.CoverArt),p(e,u.IY.CoverPoster)}(w),w.listItemKey=null!=(I=null==(b=w.Media)?void 0:b.reduce(((e,t)=>(e.push(t.id),e)),[w.sourceURI]).join("~"))?I:w.sourceURI;const N={tempState:{},isStale:!1,isPending:!1,isPopulated:!!w.userState,error:null};(0,h.pB)(w,N,"deletedAt"),(0,h.pB)(w,N,"downloadSubscriptionID"),(0,h.pB)(w,N,"subscriptionID"),(0,h.pB)(w,N,"subscriptionType"),(0,h.pB)(w,N,"grandparentSubscriptionID"),(0,h.pB)(w,N,"grandparentSubscriptionType"),(0,h.pB)(w,N,"isDownloaded"),(0,h.pB)(w,N,"lastRatedAt"),(0,h.pB)(w,N,"lastViewedAt"),(0,h.pB)(w,N,"picked"),(0,h.pB)(w,N,"saved"),(0,h.pB)(w,N,"unviewedLeafCount"),(0,h.pB)(w,N,"userRating"),(0,h.pB)(w,N,"viewCount"),(0,h.pB)(w,N,"viewOffset"),(0,h.pB)(w,N,"viewedLeafCount"),(0,h.pB)(w,N,"watchlistedAt"),null!=w.leafCount&&(N.viewedLeafCount=null!=(S=N.viewedLeafCount)?S:0,N.unviewedLeafCount=w.leafCount-N.viewedLeafCount);const O={[w.sourceURI]:N};if(null==(M=w.Stations)?void 0:M.Metadata){const n=(0,m.Z)({server:e,provider:t,data:w.Stations.Metadata,container:r});w.stations=n.metadataItems,delete w.Stations,Object.assign(O,n.metadataItemStates)}if(null==(E=w.Extras)?void 0:E.Metadata){const n=(0,m.Z)({server:e,provider:t,data:w.Extras.Metadata,container:r});w.extras=n.metadataItems,delete w.Extras,Object.assign(O,n.metadataItemStates)}if(null==(P=w.OnDeck)?void 0:P.Metadata){const n=g({server:e,provider:t,data:w.OnDeck.Metadata,container:r});w.onDeck=n.metadataItem,delete w.OnDeck,Object.assign(O,n.metadataItemStates)}if((null==(D=w.PopularLeaves)?void 0:D.Metadata)&&(null==(C=w.PopularLeaves)?void 0:C.key)){const n=(0,m.Z)({server:e,provider:t,data:w.PopularLeaves.Metadata,container:r});w.popularLeaves={key:w.PopularLeaves.key,items:n.metadataItems},delete w.PopularLeaves,Object.assign(O,n.metadataItemStates)}return w.Preferences&&(N.preferences=w.Preferences.Setting,delete w.Preferences),{metadataItem:w,metadataItemStates:w.userState?O:{}}}},20019:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(82150);function i({server:e,provider:t,data:n,container:i}){return n.reduce(((n,a)=>{const{metadataItem:s,metadataItemStates:o}=(0,r.Z)({server:e,provider:t,data:a,container:i});return n.metadataItems.push(s),Object.assign(n.metadataItemStates,o),n}),{metadataItems:[],metadataItemStates:{}})}},65661:(e,t,n)=>{"use strict";n.d(t,{dL:()=>a,ZX:()=>s,Dq:()=>o,pB:()=>l,JG:()=>c});var r=n(96840);function i(e){return(t,n,r)=>{const i=e(t[n],n);r?(t[r]=i,delete t[n]):t[n]=i}}const a=i(((e,t)=>{const n=typeof e;if("string"===n||"number"===n)return Number(e);"undefined"!==n&&r.Z.warn(`normalizeAsNumber: returning undefined for type: ${n}, property: ${t}`)})),s=i(((e,t)=>{const n=typeof e;return"boolean"===n||"number"===n?Boolean(e):"string"===n?"1"===e:void("undefined"!==n&&r.Z.warn(`normalizeAsBoolean: returning undefined for type: ${n}, property: ${t}`))})),o=i(((e,t)=>{const n=typeof e;if(null!=e)return String(e);"undefined"!==n&&r.Z.warn(`normalizeAsNumber: returning undefined for type: ${n}, property: ${t}`)}));function l(e,t,n){e.hasOwnProperty(n)&&(t[n]=e[n],delete e[n])}function c(e,t,n){e.hasOwnProperty(n)&&(t[n]=e[n])}},4704:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(67294);function i(e){const t=(0,r.useRef)();return(0,r.useEffect)((()=>{t.current=e}),[e]),t.current}},70617:(e,t,n)=>{"use strict";function r(e){const t=new Map;return(...n)=>{const r=JSON.stringify(n);if(t.has(r))return t.get(r);{const i=e(...n);return t.set(r,i),i}}}n.d(t,{Z:()=>r})},38770:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r=function(e){return 1===Number(e)||"true"===e}},75989:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r=function(e){return null==e?"":String(e)}},63178:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r=function(e){return e instanceof Promise?e:e instanceof Error?Promise.reject(e):"[object Function]"===Object.prototype.toString.call(null==e?void 0:e.then)?new Promise(((t,n)=>{try{e.then(t,n)}catch(e){t(e)}})):Promise.resolve(e)}},75157:(e,t,n)=>{"use strict";n.d(t,{XH:()=>r,pP:()=>a,dZ:()=>h,rG:()=>g,xP:()=>y,fz:()=>v});var r,i,a,s,o=n(42902),l=n(7069),c=n(88330),d=n(54559),u=n(77982),p=n(59319),m=n(5562);function h(e){switch(e){case r.RealTime:return(0,m.Z)("Real Time");case r.TwelveHours:return(0,m.Z)("Last 12 Hours");case r.Day:return(0,m.Z)("Last 24 Hours");case r.Week:return(0,m.Z)("Last 7 Days");case r.Month:return(0,m.Z)("Last 30 Days");case r.NinetyDays:return(0,m.Z)("Last 90 Days");case r.Year:return(0,m.Z)("Last Year");case r.AllTime:return(0,m.Z)("All Time");default:return""}}function g(e){switch(e){case r.RealTime:return 6;case r.TwelveHours:case r.Day:return 4;case r.Week:return 3;case r.Month:case r.NinetyDays:return 2;case r.Year:case r.AllTime:return 1;default:return 3}}function y(e){switch(e){case r.TwelveHours:return(0,o.Z)((0,c.Z)(new Date,12));case r.Day:return(0,o.Z)((0,l.Z)(new Date,1));case r.Week:return(0,o.Z)((0,u.Z)(new Date,1));case r.Month:return(0,o.Z)((0,d.Z)(new Date,1));case r.NinetyDays:return(0,o.Z)((0,l.Z)(new Date,90));case r.Year:return(0,o.Z)((0,p.Z)(new Date,1));case r.AllTime:return 0;default:return}}function v(e,t){switch(e){case r.TwelveHours:return"H:00";case r.Day:return t?"H:00":"HH";case r.Week:case r.Month:case r.NinetyDays:return t?"MMMM do":"MMM d";case r.Year:return t?"MMMM":"MMM";case r.AllTime:return t?"MMMM yyyy":"MMM yy";default:return t?"MMMM do":"MMM d"}}(i=r||(r={})).RealTime="real-time",i.TwelveHours="twelve-hours",i.Day="day",i.Week="week",i.Month="month",i.NinetyDays="ninety-days",i.Year="year",i.AllTime="all-time",(s=a||(a={}))[s.Year=0]="Year",s[s.Month=1]="Month",s[s.Week=2]="Week",s[s.Day=3]="Day",s[s.Hour=4]="Hour",s[s.Minutes=5]="Minutes",s[s.RealTime=6]="RealTime"},64529:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(65652),i=n(32846),a=n(17786),s=n.n(a);const o={success:!0,error:!0,notify:!0},l=r.Z.ItemView.extend({className:"alert-bar",template:s(),events:{"click .close-btn":"onCloseClick"},initialize:function(e){const t=e.alert;if(this.alert=t,t){const e=t.type;e&&o[e]&&this.$el.addClass(e)}},hide:function(){i.Z.trigger("hide:bar","alertbar")},serializeData:function(){return this.alert},onCloseClick:function(e){e.preventDefault(),this.hide()}})},79317:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var r=n(19755),i=n.n(r),a=n(13469),s=n.n(a),o=n(65652),l=n(5562);const c=o.Z.Layout.extend({events:{"click .edit-lock-addon":"onLockClick","keyup .lockable-field:not(.selectized)":"onLockableFieldChange","change .lockable-field:not(.selectized)":"onLockableFieldChange"},ui:{form:".edit-metadata-form"},serializeData:function(){var e=this.model.get("lockedFields"),t={};e&&e.each((function(e){t[e.get("name")]=e.get("locked")}));var n=this.model.toJSON(),r=this.model.get("mixedFields"),i={originallyAvailableAt:"YYYY-MM-DD",capturedTime:"YYYY-MM-DD HH:mm:ss"};return r&&r.forEach((function(e){i[e]=(0,l.Z)("MIXED")})),{item:n,locked:t,placeholders:i,canReparent:this.canReparent,canEditSimilarArtists:this.canEditSimilarArtists,disableIndices:!this.canReparent,editableTags:{}}},flushChanges:function(){},getLockedFieldsArray:function(){var e=this.ui.form,t=this.model.get("lockedFields").reduce((function(e,t){return e[t.get("name")]=t.get("locked"),e}),{});return e.find(".edit-lock-addon").each((function(e,n){var r=i()(n),a=r.data("field");r.hasClass("locked")?t[a]=!0:a in t&&(t[a]=!1)})),s().map(t,(function(e,t){return{name:t,locked:e}}))},onLockClick:function(e){e.preventDefault(),i()(e.currentTarget).hasClass("disabled")||i()(e.currentTarget).toggleClass("locked")},onLockableFieldChange:function(e){var t=e instanceof i()?e:i()(e.currentTarget);if(!e.force){var n=t.data("original-value");if(void 0===n&&(n=t.attr("value")||t.val()),t.data("original-value",n),t.val()===n)return}t.siblings(".edit-lock-addon").addClass("locked")}})},41208:(e,t,n)=>{"use strict";n.d(t,{Z:()=>K});var r=n(19755),i=n.n(r),a=n(13469),s=n.n(a),o=n(5562),l=n(69881),c=n(94018),d=n(65652),u=n(33207),p=n.n(u);const m=d.Z.ItemView.extend({className:"player-slider",template:p(),dragging:!1,ui:{thumb:".player-slider-thumb",track:".player-slider-track",progress:".player-slider-progress"},events:{mousedown:"onMouseDown",touchstart:"onTouchStart"},onlyAfterRender:["displayValue"],initialize:function(e){s().bindAll(this,"onMouseMove","onMouseUp","onTouchMove","onTouchEnd"),this.$document=i()(document),this.currentValue=e.value||0},startDragging:function(){this.dragging=!0,this.$el.addClass("active")},stopDragging:function(){this.dragging=!1,this.$el.removeClass("active"),this.triggerMethod("dragComplete")},updateForPosition:function(e,t){var n=this.getValueForPosition(e);this.setValue(n)&&this.displayValue(n,t)},getValueForPosition:function(e){var t=this.ui.track,n=(e-t.offset().left)/t.width();return n=Math.min(Math.max(n,0),1),Math.round(100*n)},setValue:function(e){return this.currentValue=e,this.trigger("change:value",e),!0},displayValue:function(e,t){this.ui.thumb.css("left",e+"%"),this.ui.progress.css("width",e+"%"),this.$el.data("value",e)},onRender:function(){this.displayValue(this.currentValue)},onClose:function(){this.$document.off("mousemove",this.onMouseMove),this.$document.off("mouseup",this.onMouseUp),this.$document.off("touchmove",this.onTouchMove),this.$document.off("touchend",this.onTouchEnd)},onMouseDown:function(e){e.preventDefault(),this.$document.on("mousemove",this.onMouseMove),this.$document.on("mouseup",this.onMouseUp),this.startDragging(),this.setValue(this.getValueForPosition(e.pageX))},onTouchStart:function(e){this.$document.on("touchmove",this.onTouchMove),this.$document.on("touchend",this.onTouchEnd),this.startDragging();var t=e.originalEvent.touches[0];t&&this.updateForPosition(t.pageX)},onMouseMove:function(e){e.preventDefault(),this.updateForPosition(e.pageX)},onTouchMove:function(e){e.preventDefault();var t=e.originalEvent.touches[0];t&&this.updateForPosition(t.pageX)},onMouseUp:function(e){e.preventDefault(),this.$document.off("mousemove",this.onMouseMove),this.$document.off("mouseup",this.onMouseUp),this.updateForPosition(e.pageX),this.stopDragging()},onTouchEnd:function(e){this.$document.off("touchmove",this.onTouchMove),this.$document.off("touchend",this.onTouchEnd);var t=e.originalEvent.touches[0];t&&this.updateForPosition(t.pageX),this.stopDragging()}});var h=n(17487),g=n.n(h);const y=m.extend({tagName:"span",className:"rating star-rating",template:g(),disabled:!0,modelEvents:{"change:rating":"onRatingChange","change:userRating":"onRatingChange"},events:s().extend({mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",mousemove:"onMouseMove"},m.prototype.events),initialize:function(e){m.prototype.initialize.apply(this,arguments);var t=this.model.server.get("shared")&&!this.model.server.get("multiuser");this.disabled=e.disabled||t,this.passive=e.passive,this.updateRating()},updateRating:function(){this.metadataRating=this.model.get("rating")||0,this.userRating=this.model.get("userRating"),this.setValue(this.userRating>0?this.userRating:this.metadataRating)},normalizeRating:function(e){return Math.round(e/2)},serializeData:function(){var e=this.normalizeRating(this.currentValue);return{stars:[e>0,e>1,e>2,e>3,e>4]}},getValueForPosition:function(e){var t=this.$el,n=(e-t.offset().left)/t.width();return n=Math.min(Math.max(n,0),1),2*Math.ceil(5*n)},persistValue:function(){var e=this.currentValue||-1;c.Z.execute("rate",{item:this.model,rating:e,passive:this.passive}),this.updateRating(),this.render()},displayValue:function(e){this.$el.data("value",e);var t=this.normalizeRating(e);this.$(".star-icon").each((function(e){var n=t>e;i()(this).toggleClass("star",n).toggleClass("dislikes",!n)})),this.$el.toggleClass("unrated",!e)},onRender:function(){m.prototype.onRender.apply(this,arguments),this.$el.toggleClass("unrated",!this.currentValue),this.$el.toggleClass("user-rating",this.userRating>0),this.$el.toggleClass("disabled",this.disabled)},onRatingChange:function(e,t){this.updateRating(),this.render()},onMouseEnter:function(e){this.disabled||(this.$el.addClass("user-rating"),this.$el.removeClass("unrated"))},onMouseLeave:function(e){this.disabled||this.render()},onMouseMove:function(e){if(!this.disabled)if(this.dragging)this.updateForPosition(e.pageX);else{var t=this.getValueForPosition(e.pageX);this.displayValue(t)}},onDragComplete:function(){this.disabled||this.persistValue()}});var v=n(79317),f=n(39092);var b=n(10719),I=n.n(b),S=n(34512),M=n.n(S),E=n(70830),P=n.n(E),D=n(26726),C=n.n(D),w=n(8982),Z=n.n(w),T=n(3657),N=n.n(T),O=n(18704),A=n.n(O),x=n(88949),j=n.n(x),L=n(88311),k=n.n(L),R=n(48526),z=n.n(R),U=n(52030),V=n.n(U),B=Object.defineProperty,F=Object.prototype.hasOwnProperty,_=Object.getOwnPropertySymbols,H=Object.prototype.propertyIsEnumerable,Q=(e,t,n)=>t in e?B(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,G=(e,t)=>{for(var n in t||(t={}))F.call(t,n)&&Q(e,n,t[n]);if(_)for(var n of _(t))H.call(t,n)&&Q(e,n,t[n]);return e};function W(e){return s().reduce(e,(function(e,t){return e[t]=!0,e}),{})}var Y={movie:Z(),show:z(),season:k(),episode:C(),artist:M(),album:I(),track:V(),photoalbum:N(),photo:A(),playlist:j(),collection:P()};const K=v.Z.extend({regions:{ratingRegion:".rating-region"},ui:s().extend({selectizeInputs:".selectize input[type=text]"},v.Z.prototype.ui),initialize:function(e){const t=this.model.get("type"),n=l.getMetadataType(t);this.template=Y[t]||Y[l.MOVIE],this.canSelectize=this.model.server.supports("batchEdit")&&n,this.canReparent=this.model.server.supports("batchEdit")},serializeData(){return G(G({},v.Z.prototype.serializeData.apply(this)),{supportsLinkedYears:this.model.server.supports("linkedYearMetadata"),section:this.model.section,metadataTypeName:this.model.get("type")})},flushChanges:function(){var e=this.ui.form;if(e&&e.find){var t=e.find(".selectize input[tabindex=-1]"),n=W(s().pluck(t,"name")),r=W(s().pluck(e.find("[type=number]"),"name")),a=s()(e.serializeArray()).reject((function(e){return n[e.name]}),this),o=s().reduce(a,(function(e,t){if(r[t.name]){var n=t.value.trim();if(n)return e[t.name]=parseFloat(n,10),e;if(!this.model.get(t.name))return e}return e[t.name]=t.value,e}),{},this);s().each(t,(function(e){var t=i()(e),n=t.data("updateAttr"),r=t.data("altUpdateAttr"),a=t.data("isText"),s=e.selectize.getValue();if(r)if(a)o[n]=s,o[r]=null;else{var l=e.selectize.options[s];if(l){var c=l[t.data("autocompleteAttr")];o[n]=c,o[r]=s}}else o[n]=s}));var l=this.model.get("lockedFields");l&&l.set(this.getLockedFieldsArray(),{parse:!0}),this.model.set(o)}},markInvalid:function(e){this.$(".form-group").removeClass("has-error"),s()(e).each((function(e){var t=this.$('.form-group[data-attr="'+e+'"]');t.addClass("has-error"),t.find(".control-error").text((0,o.Z)("Required"))}),this)},onRender:function(){if(this.$(".rating-region").length>0&&this.ratingRegion.show(new y({model:this.model,passive:!0})),this.canSelectize){var e=this;this.ui.selectizeInputs.each((function(t,n){!function(e,t){var n=i()(t),r=n.attr("name"),a=r.replace(/parentTitle$/,"parentRatingKey");a===r&&(a=null);var l,c=e.model.getQueryAttr(r),d=e.model.getQueryAttrSibling(r),u=c!==r,p=u?"title":r,m=u?"ratingKey":p,h=e.model.get("type");l=u?c.match(/(^.*)\./)[1]:"title"===p?h:null;var g=n.data("scopeToAttr"),y=n.data("scopeToParam"),v=n.data("ratingKey"),b=!v;v&&(v=v.toString());var I=!u,S={};y&&e.listenTo(e,"reset_selectize:"+y,(function(){N.loadedSearches={}}));var M,E,P=e.model["original.updateValues."+r];P?(M=P.updateAttr,E=P.altUpdateAttr):(M=e.model.get(r),a&&(E=parseInt(e.model.get(a),10)),e.model["original.updateValues."+r]={updateAttr:M,altUpdateAttr:E});var D=e.model["original.general."+r];if(!D){D=[];var C={};C[p]=M,C.ratingKey=v,D=[C],e.model["original.general."+r]=D}var w=[e.model.get(a)||e.model.get(r)],Z=function(){var e=N.$dropdown_content.children();N.$dropdown.toggleClass("hidden",e.length<=1)},T=function(){s().defer(Z)};n.data("autocompleteAttr",p),n.data("updateAttr",r),a&&n.data("altUpdateAttr",a);var N=n.selectize({options:D,items:w,plugins:["restore_on_focus"],delimiter:null,create:!0,maxItems:1,labelField:p,valueField:m,sortField:p,searchField:[p],selectOnTab:!0,hideSelected:!1,highlight:!1,openOnFocus:!0,selectOnBlur:!0,createOnBlur:!0,persist:!0,addPrecedence:!0,allowEmptyOption:!0,allowCreateEmpty:I,manualInputWidth:!0,loadingClass:"",onFocus:function(){N.preloaded||(N.preloaded=!0,N.onSearchChange(N.$control_input.val()))},createFilter:function(e){return S[p]=e,!s()(this.options).findWhere(S)},load:function(t,n){if(t.length){var r={};if(r[c]=t,g){var i=e.model.get(g);if(!i)return void n();r[y]=i}new f.Z([],{server:e.model.server,multiMetadataItem:e.model,query:r}).fetch().done((function(e){n(e.map((function(e){return e.toJSON()}))),Z()}))}else n()},render:{option:function(e,t){var n;return n=(a?e.ratingKey===String(E):e[p]===M)?'<small class="autocomplete-annotate pull-right">('+(l&&!b?(0,o.Z)("this {1}",l):(0,o.Z)("original value"))+")</small>":"","<div>"+t(e[p])+n+"</div>"},option_create:function(e,t){return e.input?'<div class="create">'+t(e.input)+"</div>":'<div class="create hidden"></div>'}},onDropdownClose:function(){N.$dropdown.addClass("hidden")},onDropdownOpen:function(){N.$dropdown.addClass("hidden"),T()},onType:s().bind((function(e){if(N.canCreate(e)){var t=i()(N.$dropdown_content[0].childNodes[0]);N.setActiveOption(t)}T(),this.onLockableFieldChange({currentTarget:N.$input,force:!0})}),e),onOptionAdd:function(e,t){var n=s().pick(t,p,"ratingKey");s().findWhere(D,n)||D.splice(D.length,0,t)},onChange:function(t){var i=this.options[t];if(i){if(u){var a=i.ratingKey===i[p];n.data("isText",a)}e.flushChanges();var o=e.model.changedAttributes();s().has(o,c)||s().has(o,d)?e.trigger("focusSubmit"):s().defer((function(){N.onBlur()})),e.trigger("reset_selectize:"+r),Z()}}})[0].selectize;N.$dropdown.addClass("hidden")}(e,n)}))}}})},21009:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(13469),i=n.n(r),a=n(65652);const s=a.Z.CollectionView.extend({appendHtml:function(e,t,n){return this.sorted?this.sortedAppendHtml.apply(this,arguments):this.reversed?this.reversedAppendHtml.apply(this,arguments):a.Z.CollectionView.prototype.appendHtml.apply(this,arguments)},sortedAppendHtml:function(e,t,n){if(e.isBuffering){var r=e.elBuffer.childNodes;r.length<=n?e.elBuffer.appendChild(t.el):e.elBuffer.insertBefore(t.el,r[n]),e._bufferedChildren.push(t)}else{var i=e.itemViewContainer?e.$(e.itemViewContainer):e.$el,a=i.children();a.size()<=n?i.append(t.el):a.eq(n).before(t.el)}},reversedAppendHtml:function(e,t,n){e.isBuffering?(e.elBuffer.insertBefore(t.el,e.elBuffer.firstChild),e._bufferedChildren.push(t)):(e.itemViewContainer?e.$(e.itemViewContainer):e.$el).prepend(t.el)},measureList:function(){if(this.children.length){var e=this.children._views,t=e[i().first(i().keys(e))];i().defer(i().bind((function(){this.itemWidth=t.$el.outerWidth(!0),this.itemHeight=t.$el.outerHeight(!0),this.itemMarginRight=parseInt(t.$el.css("margin-right"),10),this.itemMarginBottom=parseInt(t.$el.css("margin-bottom"),10),this.triggerMethod("measure",this)}),this))}},getViewForModel:function(e){var t=this.children._indexByModel[e.cid];return this.children._views[t]},reorder:function(){var e=this.children,t=this.collection.models,n=i().map(t,(function(t,n){var r=e.findByModel(t);return r._index=n,r.el}));this.$el.append(n)},onCollectionRendered:function(){this.measure&&this.measureList()}})},21288:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var r=n(19755),i=n.n(r),a=n(13469),s=n.n(a),o=n(65652),l=n(32846),c=0,d=[];const u=o.Z.Layout.extend({className:"modal fade",focusDelay:500,animationDelay:500,events:{"hide.bs.modal":"onHide"},initialize:function(e){this.once("render",(function(){c+=1,l.Z.trigger("anyModalOpen")})),this.once("close",(function(){0==(c-=1)&&l.Z.trigger("allModalsClosed")}))},hide:function(){this.isClosed||this.isHidden||this.$el.modal("hide")},onRender:function(){this.rerender||(this.isForced?this.$el.modal({backdrop:!1,keyboard:!1}):(this.listenTo(l.Z,"shortcut:escape",s().bind((function(){d[0]===this&&this.hide()}),this)),this.listenToOnce(this,"close",(function(){var e=d.indexOf(this);-1!==e&&d.splice(e,1)})),d.unshift(this),this.$el.modal()),i()(":focus").blur())},onHide:function(e){this.isHidden=!0,s().each(this.panes,(function(e,t){var n=e.constructor.onModalClose;n&&n.apply(this)}),this),window.setTimeout(s().bind((function(){l.Z.trigger("hide:modal",this),this.trigger("close")}),this),this.animationDelay)}})},64898:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d});var r=n(19755),i=n.n(r),a=n(13469),s=n.n(a),o=n(21288),l=n(55722),c=n.n(l);const d=o.Z.extend({className:"confirm-modal modal modal-sm fade",template:c(),ui:{doubleConfirmMessage:".double-confirm-message",confirmBtn:".confirm-btn",confirmLabel:".confirm-btn .btn-label"},events:s().extend({"click .confirm-btn":"onConfirm"},o.Z.prototype.events),whitelistedOptions:["title","message","confirmLabel","cancelLabel","hasDanger","hideCancel"],initialize:function(e){o.Z.prototype.initialize.apply(this,arguments),this.async=e.async,this.data=s().pick(e,this.whitelistedOptions),this.promise=i().Deferred()},serializeData:function(){return s().defaults(this.data,{confirmLabel:"Yes",cancelLabel:"No"})},onRender:function(){o.Z.prototype.onRender.apply(this,arguments),window.setTimeout(s().bind((function(){this.ui.confirmBtn.focus()}),this),this.focusDelay)},onHide:function(e){o.Z.prototype.onHide.apply(this,arguments),this.promise.reject()},onConfirm:function(e){if(e.preventDefault(),this.options.requireDoubleConfirm&&!this.hasConfirmedOnce){this.hasConfirmedOnce=!0;var t=this.options.doubleConfirmMessage,n=this.options.doubleConfirmLabel;return t&&this.ui.doubleConfirmMessage.text(t),void(n&&this.ui.confirmLabel.text(n))}this.promise.resolve(),this.async?this.ui.confirmBtn.addClass("active"):this.hide()}})},43593:(e,t,n)=>{"use strict";n.d(t,{Z:()=>We});var r=n(12274),i=n(56514),a=n(19755),s=n.n(a),o=n(13469),l=n.n(o),c=n(93966),d=n(94018),u=n(94053),p=n(32901),m=n(32553),h=n(17524),g=n(32846),y=n(41105),v=n(86953),f=n(15633),b=n(5562),I=n(69881),S=n(84936),M=n(10612),E=n(53334),P=n(14408),D=n(12634),C=n(65115);const w=D.Z.extend({name:"TagCollection",context:["server","section"],model:C.Z});var Z=n(69653),T=n(32707);const N=E.Z.extend({name:"LockedFieldModel",context:["server","section"],idAttribute:"name",syncedAttrs:{name:{type:P.Z.string,save:!0},locked:{type:P.Z.boolean,save:!0}}}),O=D.Z.extend({name:"LockedFieldCollection",context:["server","section"],model:N}),A={Autotag:"autotags",Collection:"collections",Composer:"composers",Conductor:"conductors",Country:"countries",Director:"directors",Genre:"genres",Label:"labels",Mood:"moods",Producer:"producers",Role:"roles",Similar:"similar",Style:"styles",Tag:"tags",Writer:"writers"},x={album:{title:"title",parentRatingKey:"artist.id",parentTitle:"artist.title"},track:{parentRatingKey:"album.id",parentTitle:"album.title",grandparentRatingKey:"artist.id",grandparentTitle:"artist.title"}},j=E.Z.extend({name:"MultiMetadataModel",context:["server","section"],rootPropertyName:"Common",isNew:()=>!1,url(){return S.Z.join([this.sectionUrl(),"common"],this.getUrlParams())},saveUrl(){return S.Z.join([this.sectionUrl(),"all"],this.getUrlParams())},sectionUrl(){return l().result(this.section,"url")},sessionAttrs:{metadataItems:P.Z.array.isRequired,editableTags:P.Z.array,originalSaveParams:P.Z.object,poster:P.Z.string,banner:P.Z.string,art:P.Z.string},syncedAttrs:{mixedFields:P.Z.list.isRequired,key:{type:P.Z.string,save:!0},ratingKey:{type:P.Z.string,save:!0},parentRatingKey:{type:P.Z.string,save:!0},grandparentRatingKey:{type:P.Z.string,save:!0},title:{type:P.Z.string,save:!0},titleSort:{type:P.Z.string,save:!0},originalTitle:{type:P.Z.string,save:!0},parentTitle:{type:P.Z.string,save:!0},grandparentTitle:{type:P.Z.string,save:!0},year:{type:P.Z.string,save:!0},tagline:{type:P.Z.string,save:!0},summary:{type:P.Z.string,save:!0},studio:{type:P.Z.string,save:!0},contentRating:{type:P.Z.string,save:!0},originallyAvailableAt:{type:P.Z.string,save:!0},rating:{type:P.Z.float,save:!0},userRating:{type:P.Z.float,save:!0},index:{type:P.Z.integer,save:!0},parentIndex:{type:P.Z.integer,save:!0}},sessionRelations:{preferences:{relationClass:Z.Z}},syncedRelations:Object.keys(A).reduce(((e,t)=>(e[A[t]]={relationClass:w,rootPropertyName:t,save:!0},e)),{lockedFields:{relationClass:O,rootPropertyName:"Field",save:!0}}),derivedAttrs:{type(){const e=this.getSingleMetadataItem();if(e)return e.get("type")},aggregateTitle(){if(this.get("metadataItems").length)return T.Z.title(null,{items:this.get("metadataItems")})},isSingleMetadataItem(){return 1===this.get("metadataItems").length}},defaults:()=>({metadataItems:[],mixedFields:[]}),initialize(e,t){this.set("metadataItems",l().clone(t.metadataItems))},getSingleMetadataItem(){return l().first(this.get("metadataItems"))},getUrlParams(){const e=(0,I.getMetadataType)(this.get("type")),t=l().map(this.get("metadataItems"),(e=>e.get("ratingKey")));return{type:e.id,id:t.join(","),includeExternalMedia:1}},getSaveParams(){const e=E.Z.prototype.getSaveParams.apply(this,arguments),t=this.get("originalSaveParams");if(!t)return e;const n={};if(l().each(e,((e,r)=>{const i=t[r];l().isEqual(e,i)||l().extend(n,this.getSaveParam(r,e,i))})),n.isReparenting){delete n.isReparenting;const e=x[this.get("type")];l().each(e,((e,t)=>{const r=e+".value",i=this.getQueryAttrSibling(e)+".value",a=l().has(n,r),s=l().has(n,i);if(a&&s&&r!==i&&delete n[i],!a&&!s){const e=this.get(t);e&&(n[r]=e)}}))}return n},getSaveParam(e,t,n){if("Field"===e)return this.getFieldSaveParams(e,t,n);if(A.hasOwnProperty(e))return this.getTagSaveParams(e,t,n);const r=x[this.get("type")];if(r&&l().has(r,e)){const n=r[e];return t?{isReparenting:!0,[n+".value"]:t}:void 0}return{[e+".value"]:t}},getFieldSaveParams:(e,t,n)=>t.reduce(((e,t)=>(e[t.name+".locked"]=t.locked,e)),{}),getTagSaveParams(e,t,n){const r=l().map(t,(e=>e.tag)),i=l().map(n,(e=>e.tag)),a=l().without(i,...r),s=e.toLowerCase(),o={};return r.forEach(((e,t)=>{o[s+"["+t+"].tag.tag"]=e})),a.length&&(o[s+"[].tag.tag-"]=l().map(a,encodeURIComponent).join(",")),o},getQueryAttr(e){const t=this.get("type"),n=x[t];return n&&n[e]||e},getQueryAttrSibling(e){const t=this.getQueryAttr(e).match(/(^.*\.)(.*$)/);return t?t[1]+("id"===t[2]?"title":"id"):e}});var L=n(1193),k=n(79317),R=n(46140),z=n.n(R);const U=k.Z.extend({template:z(),serializeData(){const e=this.model.get("preferences"),t=this.model.getSingleMetadataItem().get("preferences");return e.length?t.reduce(((t,n)=>{const r=e.get(n.id);return r?t.push(r.toJSON()):t.push(n.toJSON()),t}),[]):t.toJSON()},flushChanges(){const e=this.ui.form.serializeArray(),t=this.model.getSingleMetadataItem().get("preferences"),n=this.model.get("preferences");e.forEach((e=>{const r=n.get(e.name)||t.get(e.name),i=r.clone();i.parseAndSetValue(e.value),i.get("value")!==r.get("value")&&n.add(i,{merge:!0})}))}});var V=n(65652),B=n(95688),F=n(47479);const _=E.Z.extend({name:"ArtworkModel",context:["server","artworkType"],idAttribute:"ratingKey",rootPropertyName:"Photo",syncedAttrs:{key:P.Z.string,ratingKey:P.Z.string,thumb:P.Z.string,selected:P.Z.boolean}},{types:{POSTER:"poster",ART:"art",BANNER:"banner"}}),H=D.Z.extend({name:"ArtworkCollection",context:["server","artworkType"],model:_,url(){const e=S.Z.parseUrl(l().result(this.parent,"url"));return S.Z.join([e.pathname,`${this.artworkType}s`],e.params)}});var Q=n(21009),G=n(53779),W=n(62779),Y=n(93634),K=n(71539),q=n.n(K);const $=V.Z.Layout.extend({tagName:"span",template:q(),regions:{poster:".media-poster"},initialize:function(e){var t=e.artworkType,n=150;"art"===t?n=240:"banner"===t&&(n=520),this.$el.addClass(t),this.image=new Y.Z({className:"media-poster-image",model:this.model,modelAttribute:"thumb",placeholderClass:G.Z[t],width:n,height:W.Z.getPosterHeight(t,n)})},bindings:{".artwork-option":{modelAttribute:"selected",manual:!0,formatter:function(e,t){t.toggleClass("selected",e)}}},onRender:function(){this.poster.show(this.image)}}),J=Q.Z.extend({className:"artwork-options-list",itemView:$});var X=n(13990),ee=n.n(X);const te=V.Z.Layout.extend({template:ee(),dragStatus:0,ui:{upload:".upload-artwork-container",urlInput:"input[name=url]"},regions:{list:".artwork-list-container"},events:{dragenter:"onDragEnter",dragleave:"onDragLeave",dragover:"onDragOver",drop:"onDrop",keydown:"onKeyDown","change .artwork-file-control":"onFileChange","click .upload-url-btn":"onUploadUrlClick","click .cancel-url-btn":"onCancelUrlClick","click .submit-url-btn":"onUrlSubmit","submit #upload-form":"onUrlSubmit","click .upload-back-btn":"onUploadBackClick","click .artwork-option":"onArtworkOptionClick"},initialize:function(e){this.type=e.type,this.metadataItem=this.model.getSingleMetadataItem(),this.changes={},this.collection=new H([],{server:this.model.server,section:this.model.section,parent:this.metadataItem,artworkType:this.type}),this.collection.fetch()},serializeData:function(){return{showUpload:this.model.server.supports("artworkUpload"),showFileUpload:F.Z.hasFileUpload}},flushChanges:function(){this.model.set(this.changes)},uploadFiles:function(e){if(e&&e.length){this.changes={},this.ui.upload.removeClass("show-success show-error");var t=this.collection.url(),n=l().extend(this.model.server.getXHROptions(t),{type:"POST",processData:!1}),r=[],i=l().bind((function(e){/image\//.test(e.type)&&(n.data=e,r.push(s().ajax(n)))}),this);l().each(e,i),r.length?(this.ui.upload.addClass("show-progress"),this.monitorUpload(s().when.apply(s(),r))):this.ui.upload.addClass("show-error")}},uploadUrl:function(e){this.changes={},this.ui.upload.removeClass("show-form"),this.ui.upload.addClass("show-progress"),this.ui.urlInput.val("");var t=S.Z.join(this.collection.url(),{url:e}),n=this.model.server.getXHROptions(t,{type:"POST"});this.monitorUpload(s().ajax(n))},monitorUpload:function(e){e.done(l().bind((function(){this.isClosed||this.ui.upload.addClass("show-success");var e={server:this.model.server,onlyIfCached:!0},t=new B.Z({key:this.metadataItem.get("key")},e);l().isEmpty(t)||t.fetch({usePopulatedParams:!0,data:{includePreferences:"1"}}),this.collection.fetch()}),this)),e.fail(this.whenRendered((function(){this.ui.upload.addClass("show-error")}))),e.always(this.whenRendered((function(){this.ui.upload.removeClass("show-progress")})))},onRender:function(){this.list.show(new J({collection:this.collection,itemViewOptions:{artworkType:this.type}}))},onDragEnter:function(e){this.dragStatus++,this.ui.upload.addClass("drag-hover")},onDragLeave:function(e){this.dragStatus--,0===this.dragStatus&&this.ui.upload.removeClass("drag-hover")},onDragOver:function(e){e.preventDefault()},onDrop:function(e){e.preventDefault(),e.stopPropagation(),this.dragStatus=0,this.ui.upload.removeClass("drag-hover"),this.uploadFiles(e.originalEvent.dataTransfer.files)},onKeyDown:function(e){27===e.which&&this.ui.upload.hasClass("show-form")&&(e.preventDefault(),this.ui.upload.removeClass("show-form"))},onFileChange:function(e){this.uploadFiles(e.target.files)},onUploadUrlClick:function(e){e.preventDefault(),this.ui.upload.addClass("show-form"),this.ui.urlInput.focus()},onCancelUrlClick:function(e){e.preventDefault(),this.ui.upload.removeClass("show-form")},onUrlSubmit:function(e){e.preventDefault();var t=this.ui.urlInput.val();t?this.uploadUrl(t):this.ui.upload.removeClass("show-form")},onUploadBackClick:function(e){e.preventDefault(),this.ui.upload.removeClass("show-success show-error")},onArtworkOptionClick:function(e){e.preventDefault();var t=s()(e.currentTarget),n=t.data("ratingKey");this.$(".artwork-option.selected").removeClass("selected"),t.addClass("selected"),this.changes[this.type]=n}});var ne=n(41208),re=n(29415),ie=n(95933),ae=n(17441),se=n.n(ae);const oe=V.Z.ItemView.extend({template:se(),tagName:"li",className:"well",serializeData:function(){return{file:this.model.get("file")}}});var le=n(39706),ce=n.n(le);const de=V.Z.CompositeView.extend({template:ce(),className:"files",itemView:oe,itemViewContainer:"ul",initialize:function(){this.collection=new re.Z,this.populateParts().always(this.whenRendered((function(){this.$(".loading").addClass("hidden")})))},populateParts:function(){var e=this.collection;function t(e){var t=e.get("Media");if(t&&t.length)return l().each(t,n),t}function n(e){l().each(e.Part,r)}function r(t){e.push(t)}var i=this.model.getSingleMetadataItem();return t(i)?s().Deferred().resolve():i.populate().then((function(){if(!t(i)&&i.has("childrenKey")){const e=new ie.Z({containerKey:i.get("childrenKey")},{server:i.server,provider:i.provider,skipCache:!0});return e.fetch().then((function(){e.get("metadataItems").each(t)}))}}))},flushChanges:function(){}});var ue=n(76249),pe=n(45399),me=(n(62568),n(12801)),he=n(10723),ge=n(39092);const ye=function(e,t){var n=s()(t),r=n.data("name"),i=n.data("query")||n.data("name"),a=n.data("attr"),o=!!n.data("only-delete"),c=e.model.get(a).toJSON(),d=l().pluck(c,"tag"),u=e.model["original.tag."+r];u||(u=l().clone(c),e.model["original.tag."+r]=u);var p=l().difference(d,l().pluck(u,"tag"));if(p.length){var m=l().map(p,(function(e){return{tag:e}}));m.unshift(u.length,0),u.splice.apply(u,m)}var h=function(t){e.model["original.allTagsRequested."+r]=!0,new he.Z({filter:r,filterType:"string"},{server:e.model.server,section:e.section,type:(0,I.getMetadataType)(e.model.get("type")).id}).get("options").populate().then(l().bind((function(n){e.model["original.allTagsAvailable."+r]=!0,t(n.map((function(e){return{tag:e.attributes.title}})))}),e))};n.data("original-value",n.val()),n.selectize({options:u,items:d,plugins:["remove_button"],create:!0,hideDropdown:o,labelField:"tag",valueField:"tag",sortField:"tag",searchField:["tag"],highlight:!1,createFilter:function(e){return!l()(this.options).findWhere({tag:e})},onInitialize:function(){o&&(this.$control.off("click mousedown"),this.$control.addClass("no-input"),this.$control_input.prop("disabled",!0))},onChange:function(){e.onLockableFieldChange(n)},onFocus:function(){this.onSearchChange("")},loadingClass:"",load:function(t,n){if(i!==r||t.length&&e.canAutocomplete)if(e.model["original.allTagsAvailable."+r]||0===t.length)n();else{var a={};a[i]=t;var s=new ge.Z([],{server:e.model.server,multiMetadataItem:e.model,query:a}),o=i===r?function(e){return e.toJSON()}:function(e){return{tag:e.get(i)}};s.fetch().done((function(e){var t=e.map(o);n(t)})).fail((function(){n()}))}else e.model["original.allTagsRequested."+r]?n():h.call(e,n)},render:{item:function(e,t){return'<div class="item">'+(e.tag?t(e.tag):'<span class="autocomplete-annotate">('+(0,b.Z)("blank")+")</span>")+"</div>"},option:function(e,t){return'<div class="item">'+(e.tag?t(e.tag):'<small class="autocomplete-annotate">('+(0,b.Z)("blank")+")</small>")+"</div>"}}})};var ve=n(18866),fe=n.n(ve),be=n(81570),Ie=n.n(be),Se=n(29800),Me=n.n(Se),Ee=n(4922),Pe=n.n(Ee),De=n(2362),Ce=n.n(De),we=n(79988),Ze=n.n(we),Te=n(58830),Ne=n.n(Te);const Oe=k.Z.extend({templatesByType:{movie:Pe(),show:Ze(),episode:Me(),artist:Ie(),album:fe(),track:Ne(),photo:Ce()},ui:l().extend({tagInputs:".tag-input-hidden"},k.Z.prototype.ui),events:l().extend({"change .lockable-field":"onLockableFieldChange"},k.Z.prototype.events),initialize:function(e){this.template=this.templatesByType[this.model.get("type")]||this.templatesByType.movie,this.canAutocomplete=this.model.server.supports("batchEdit"),this.canEditSimilarArtists=this.model.server.supports("editSimilarArtists"),this.getSection()},getSection:function(){var e=this.model.section;if(!e){var t=this.model.get("librarySectionID");e=new me.Z({key:t},{server:this.model.server})}this.section=e},flushChanges:function(){var e=this.ui.form,t=l().reduce(e.serializeArray(),(function(e,t){return e[t.name]=t.value,e}),{}),n=l().reduce(this.ui.tagInputs,(function(e,t){var n=t.selectize,r=s()(t).data("name");return e[s()(t).data("attr")]=l().map(n.items,(function(e){var t=n.options[e];return{tag:t.tag,id:t.id}})),this.model["original.tag."+r]=l().toArray(n.options),e}),{},this);l().each(n,(function(e,t){this.model.get(t).set(e,{parse:!0})}),this),this.model.get("lockedFields").set(this.getLockedFieldsArray(),{parse:!0}),this.model.set(t)},serializeData(){return this.model.get("editableTags").reduce(((e,t)=>(e.editableTags[t]=!0,e)),k.Z.prototype.serializeData.apply(this,arguments))},onRender:function(){var e=this;this.ui.tagInputs.each((function(t,n){ye(e,n)}))}});var Ae=n(52223),xe=n.n(Ae);const je=Oe.extend({templatesByType:{movie:xe(),show:xe(),album:xe(),photo:xe()},serializeData:function(){var e=c.DB("appModel"),t=e.get("user"),n=Oe.prototype.serializeData.apply(this,arguments);const r=t.get("features").get(pe.d6);return l().extend(n,{showLabels:this.model.server.supports("labels"),escapedLabelsMinVersion:ue.Z.labels,hasContentFilterFeature:r,plexPassUrl:t.server.get("plexPassUrl")}),n}});var Le=n(21288),ke=n(64898),Re=n(68121),ze=n.n(Re),Ue=Object.defineProperty,Ve=Object.prototype.hasOwnProperty,Be=Object.getOwnPropertySymbols,Fe=Object.prototype.propertyIsEnumerable,_e=(e,t,n)=>t in e?Ue(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,He={movie:["general","tags","sharing","poster","art","info","advanced"],show:["general","tags","sharing","poster","banner","art","advanced"],season:["general","poster","art","info","advanced"],episode:["general","tags","poster","art","info","advanced"],artist:["general","tags","poster","art","advanced"],album:["general","tags","sharing","poster","art","info","advanced"],track:["general","tags","info","advanced"],photoalbum:["general","poster","art","advanced"],photo:["general","tags","info","advanced"],clip:["general","info","advanced"],collection:["general","sharing","poster","art","info","advanced"]},Qe=["poster","art","banner","info","advanced"];function Ge({server:e,provider:t,metadataTypeName:n,sectionKey:r}){const i=new u.Z({key:`/library/sections/${r}`},{server:e,provider:t,includeAdvanced:!0});return i.populate().then((()=>{const e=i.get("types").findWhere({type:n});return e?e.get("fields").filter((e=>"tag"===e.get("type"))).map((e=>e.get("key"))):[]}))}const We=Le.Z.extend({mixins:[M.Z],name:"editMetadataModal",className:"edit-metadata-modal modal modal-lg fade",template:ze(),panes:{general:{constructor:ne.Z},tags:{constructor:Oe},poster:{constructor:te},art:{constructor:te},banner:{constructor:te},sharing:{constructor:je},info:{constructor:de},advanced:{constructor:U}},events:((e,t)=>{for(var n in t||(t={}))Ve.call(t,n)&&_e(e,n,t[n]);if(Be)for(var n of Be(t))Fe.call(t,n)&&_e(e,n,t[n]);return e})({"click .change-pane-btn":"onChangePaneClick","click .save-btn":"onFormSubmit","submit .edit-metadata-form":"onFormSubmit"},Le.Z.prototype.events),ui:{saveBtn:".save-btn",message:".form-message",navPane:".modal-nav-pane",loadingIndicator:".modal-body-pane .loading-inline"},regions:{paneRegion:".pane-region"},onlyAfterRender:["saveChanges","showPane","showNav"],initialize:function(e){Le.Z.prototype.initialize.apply(this,arguments);const t=e.items||[this.model],n=t[0],r=n.server;this.model=new j({},{server:r,metadataItems:t}),this.on("before:close",this.onBeforeClose),this._initCancelable=(0,f.Z)(n.fetch({usePopulatedParams:!0,data:{includePreferences:"1"}}).then((()=>{const e=(0,y.Z)(n,{onlyIfCached:!1});return this.model.setContext("section",e),this.model.populate().then((()=>e.get("key")))})).then((e=>Ge({server:r,provider:n.provider,metadataTypeName:this.model.get("type"),sectionKey:e})))),this._initCancelable.promise.then((t=>{this.model.set({editableTags:t,originalSaveParams:this.model.getSaveParams()}),this.render(),this.showNav(),this.showPane(e.selectedPane||"general"),this.listenTo(g.Z,"shortcut:save",this.saveChanges)}),(({isCanceled:e})=>{e||(this.ui.message.text((0,b.Z)("There was an error editing this item")),this.ui.loadingIndicator.addClass("hidden"))}))},serializeData:function(){const e=this.model.get("type");let t=He[e]||He[I.MOVIE];this.model.get("isSingleMetadataItem")||(t=l().difference(t,Qe)),this.model.getSingleMetadataItem().has("preferences")||(t=l().difference(t,["advanced"])),this.model.getSingleMetadataItem().get("remoteMedia")&&(t=l().difference(t,["info"]));var n=(0,b.Z)("Edit {1}",this.model.get("aggregateTitle"),{escape:!0});return{item:this.model.toJSON(),panes:(0,m.Z)(t,(e=>e),(()=>!0)),selectedPane:this.selectedPane,paneTitle:n}},paneConstructorArg:function(){return{type:this.selectedPane}},invalidChangedAttrs:function(e){var t=[];const n=this.model.get("type");if(n===I.TRACK){var a=l().has(e,"artist.id.value")||l().has(e,"artist.title.value")||l().has(e,"album.id.value")||l().has(e,"album.title.value"),s=e["album.id.value"]||e["album.title.value"],o=e["artist.id.value"]||e["artist.title.value"];!a||o&&s||(o||t.push("grandparentTitle"),s||t.push("parentTitle"))}else if(n===I.ALBUM&&!this.model.get("isSingleMetadataItem")){const n=this.model.get("mixedFields"),r=l().has(e,"artist.title.value")||l().has(e,"artist.id.value"),i=l().includes(n,"ratingKey"),a=l().has(e,"title.value");i&&a&&!r&&t.push("parentTitle")}if(l().has(e,"originallyAvailableAt.value")){var c=e["originallyAvailableAt.value"];if(/^\d{4}$/.test(c)&&(e["originallyAvailableAt.value"]+="-01-01",c=e["originallyAvailableAt.value"]),""!==c){var d=(0,r.Z)((0,i.Z)(c,"yyyy-MM-dd",new Date)),u=(0,r.Z)((0,i.Z)(c,"yyyy-MM-dd HH:mm:ss",new Date));d||u||t.push("originallyAvailableAt")}else this.model.set("originallyAvailableAt",c)}return t},markInvalid:function(e){this.paneRegion.currentView.markInvalid(e)},showNav:function(){this.ui.navPane.removeClass("hidden")},saveChanges:function(){var e=this.ui.saveBtn,t=this.ui.message;if(!e.isDisabled()){t.text(""),this.paneRegion.currentView.flushChanges();var n=[],r=this.model.getSaveParams(),i=this.invalidChangedAttrs(r);if(i.length)this.markInvalid(i);else{e.addClass("active");var a=this.showAdvancedConfirmModal({saving:!0});a.done((()=>{["poster","banner","art"].forEach((e=>{var t=this.model.get(e);t&&n.push(d.Z.execute("changeArtwork",{item:this.model.getSingleMetadataItem(),artworkType:e,artworkRatingKey:t}))})),n.push(this.savePreferences()),n.push(this.model.save());var r=s().when.apply(s(),n);r.done((()=>{var e=c.DB("appStore").dispatch,t=this.model.server.entityID();t&&e((0,p.jR)({serverEntityID:t})),this.hide()})),r.fail((function(){t.text((0,b.Z)("Your changes could not be saved."))})),r.always((function(){e.removeClass("active")}))})),a.fail((()=>{e.removeClass("active"),this.showPane("advanced")}))}}},savePreferences:function(){var e=this.model.get("preferences");if(!e.length)return s().Deferred().resolve().promise();var t=this.model.getSingleMetadataItem(),n=S.Z.join(["/library/metadata",t.get("ratingKey"),"prefs"],e.getSaveParams()),r=this.model.server.getXHROptions(n,{type:"PUT"}),i=s().ajax(r);return i.done((()=>{var n=t.get("preferences");e.forEach((function(e){n.get(e.id).set("value",e.get("value"))}));var r=c.DB("appStore").dispatch,i=(0,v.Z)({serverIdentifier:this.model.server.get("machineIdentifier"),providerIdentifier:h.Y3,key:t.get("key")});r(L.Z.actions.preferenceChanged({sourceURI:i,preferences:e.toJSON()}))})),i},showAdvancedConfirmModal:function(){if(!this.model.get("preferences").some((function(e){return/^autoDeletion/.test(e.id)})))return s().Deferred().resolve().promise();var e=new ke.Z({title:(0,b.Z)("Confirm Deletion Settings"),message:(0,b.Z)("Deletion settings will take effect immediately! Files may be deleted and this can't be undone. Are you sure?"),confirmLabel:(0,b.Z)("Yes"),cancelLabel:(0,b.Z)("Cancel"),requireDoubleConfirm:!0,doubleConfirmMessage:(0,b.Z)("Multiple files may be deleted."),doubleConfirmLabel:(0,b.Z)("Yes, I'm sure"),hasDanger:!0});return g.Z.trigger("show:modal",e),e.promise},onBeforeClose:function(e){this._initCancelable.cancel()},onPaneShow:function(e,t){this.listenTo(t,"focusSubmit",(function(){this.ui.saveBtn.focus()}))},onPaneHide:function(e,t){t.flushChanges(),this.stopListening(t)},onFormSubmit:function(e){e.preventDefault(),this.saveChanges()}})},28725:(e,t,n)=>{"use strict";n.d(t,{Z:()=>st});var r=n(19755),i=n.n(r),a=n(13469),s=n.n(a),o=n(93966),l=n(12801),c=n(76249),d=n(53145),u=n(46453),p=n(67006),m=n(17524),h=n(32846),g=n(48523),y=n(55983),v=n(41658),f=n(36600),b=n(5562),I=n(94716),S=n(69881),M=n(32003),E=n(84936),P=n(26512),D=n(10612),C=n(43666),w=n(94018),Z=n(65652),T=n(72988),N=n.n(T);const O=Z.Z.ItemView.extend({template:N(),events:{"change input[name]":"onInputChange","change select[name]":"onInputChange"},initialize:function(){this.changes={}},serializeData:function(){return{settings:this.collection.toJSON(),escapedAgentName:s().escape(this.model.agents.get(this.model.get("agent")).get("name"))}},onInputChange:function(e){var t=i()(e.currentTarget),n=t.is(":checkbox")?t.prop("checked"):t.val();this.collection.findWhere({id:t.attr("name")}).set("value",n)}});var A=n(91485),x=n(73913),j=n(43270),L=n(12152),k=n.n(L);const R=k().extend({constructor:function(e,t,n,r){this.exclusiveScanners=t,this.scannerName=n,k().call(this,e,r),this.filterBy(s().bind(this.filterExclusiveScanner,this))},filterExclusiveScanner:function(e){var t=e.get("name"),n=this.exclusiveScanners;if(!n)return!0;var r=this.scannerName,i=-1!==n.indexOf(r),a=-1!==n.indexOf(t);return i?t===r:!a}});var z=n(12634),U=n(53334),V=n(14408);const B=U.Z.extend({name:"ScannerModel",context:["server"],rootPropertyName:"Scanner",syncedAttrs:{name:V.Z.string}}),F=z.Z.extend({name:"ScannerCollection",context:["server","sectionTypeID"],model:B,url:function(){return"/system/scanners/"+this.sectionTypeID},hasExclusiveScanner:function(e){return!!s().intersection(this.pluck("name"),e).length}}),_=Z.Z.Layout.extend({ui:{formGroup:".form-group"},onlyAfterRender:["showValidationResult"],serializeData:function(){var e={};return this.model.isNew()?e.add=!0:e.edit=!0,e.section=this.model.toJSON(),e},showValidationResult:function(e){var t=this.ui.formGroup;t.removeClass("has-error"),s().each(e,(function(e){t.filter("."+e+"-group").addClass("has-error")})),this.trigger(e.length?"invalid":"valid")},createMenuOptions:function(e,t){return s().map(e,(function(e){return'<option value="'+e.value+'"'+(e.value===t?" selected":"")+">"+e.label+"</option>"})).join("\n")},getSectionType:function(){if(this.model.sectionType)return this.model.sectionType;var e=this.model.get("type"),t=M.ZP.get(e);return"movie"===e&&this.model.get("agent")===u.Hn&&(t=M.ZP.get("videos")),this.model.sectionType=t,t},setSectionType:function(e){this.model.sectionType=e},populateAgents:function(){var e=this.getSectionType();return e?(this.model.agents||(this.model.agents=new x.Z([],{server:this.model.server,mediaTypeID:e.typeID})),this.model.agents.populate().then((function(e){return e}))):i().Deferred().reject().promise()},populateScanners:function(){var e=this.getSectionType();return e?(this.model.scanners||(this.model.scanners=new F([],{server:this.model.server,sectionTypeID:e.typeID})),this.model.scanners.populate().then((function(e){return e}))):i().Deferred().reject().promise()},populateAgentsProxy:function(){var e=this.getSectionType().exclusiveAgents,t=new j.Z(this.model.agents,e,this.model.get("agent"));return this.model.agentsProxy=t,i().Deferred().resolve(t).promise()},populateScannersProxy:function(){var e=this.getSectionType().exclusiveScanners,t=new R(this.model.scanners,e,this.model.get("scanner"));return this.model.scannersProxy=t,i().Deferred().resolve(t).promise()},populateSectionSettings:function(){if(!this.model.server.supports("sectionSettings"))return i().Deferred().resolve().promise();if(!this.model.settings){var e=new A.Z([],{server:this.model.server}),t={agent:this.model.get("agent")};if(this.model.isNew()){var n=this.getSectionType();t.type=n.typeID,e.url=E.Z.join(["/library/sections/prefs"],t)}else e.url=E.Z.join(["/library/sections/",this.model.id,"/prefs"],t);this.model.settings=e}return this.model.settings.populate().then((()=>(!(!this.model.isNew()||"music"!==this.model.get("type")||!this.model.server.supports("premiumMusic")||this.model.settings.findWhere({id:"importFromiTunes"})||!this.model.server.get("desktop").get("settings").findWhere({id:"iTunesLibraryXmlPath"}))&&this.model.settings.unshift({type:"bool",id:"importFromiTunes",value:!1,label:(0,b.Z)("Import from iTunes"),summary:(0,b.Z)("Importing from iTunes will import your music playlists. It will also import your ratings, the date you added the music, as well as play and skip counts for tracks in your library.")}),this.model.settings)))},populateSectionAgentSettings:function(){if(!this.model.agentSettings){var e=new A.Z([],{server:this.model.server,url:E.Z.join(["/:/plugins/",this.model.get("agent"),"/prefs"])});this.model.agentSettings=e}return this.model.agentSettings.populate()},onModalClose:function(){this.model.scanners=null,this.model.scannersProxy=null,this.model.agents=null,this.model.agentsProxy=null,this.model.settings=null}});var H=n(68799),Q=n.n(H);const G=Z.Z.ItemView.extend({template:Q(),events:{"change [name]":"onEditSectionSettingInputChange"},serializeData:function(){return{settings:this.collection.toJSON(),edit:!this.model.isNew()}},onEditSectionSettingInputChange:function(e){var t=i()(e.currentTarget),n=t.attr("name");if("importFromiTunes"!==n){var r=t.is(":checkbox")?t.prop("checked"):t.val();this.collection.findWhere({id:n}).set("value",r)}else this.model.set(n,!0)}});var W=n(62288),Y=n.n(W);const K=_.extend({template:Y(),ui:s().extend({sectionAgent:"#edit-section-agent",sectionScanner:"#edit-section-scanner",thumbnailsCheckbox:'input[name="enableBIFGeneration"]',agentGroup:".agent-group",scannerGroup:".scanner-group"},_.prototype.ui),events:{"change #edit-section-agent":"onEditSectionAgentChange","change #edit-section-scanner":"onEditSectionScannerChange","click .delete-thumbnails-btn":"onThumbnailsDeleteClick"},regions:{sectionSettingsRegion:".section-settings-region",agentSettingsRegion:".section-agent-settings-region"},onlyAfterRender:["renderSectionAgent","renderSectionScanner","renderSectionSettings","renderSectionAgentSettings"].concat(_.prototype.onlyAfterRender),initialize:function(){this.populateCollections()},onRender:function(){this.model.agents.populate(),this.model.scanners.populate()},validate:function(e){var t=[];return e.get("agent")||t.push("agent"),e.get("scanner")||t.push("scanner"),t},renderSectionSettings:function(){var e=new G({model:this.model,collection:this.model.settings});this.sectionSettingsRegion.show(e)},renderSectionAgentSettings:function(){var e=new O({model:this.model,collection:this.model.agentSettings});this.agentSettingsRegion.show(e)},populateCollections:function(){var e=this.populateAgents(),t=this.populateScanners(),n=this.populateSectionSettings(),r=this.populateSectionAgentSettings();return this.populateAgentsProxy(),this.populateScannersProxy(),e.then(s().bind(this.onAgentsPopulate,this)),t.then(s().bind(this.onScannersPopulate,this)),n.then(s().bind(this.renderSectionSettings,this)),r.then(s().bind(this.renderSectionAgentSettings,this)),i().when(e,t,n,r).then(s().bind(this.validate,this,this.model))},renderSectionAgent:function(){var e=this.model.agentsProxy,t=this.createMenuOptions(e.map((function(e){return{label:e.get("name"),value:e.get("identifier")}})),this.model.get("agent"));this.ui.sectionAgent.html(t),e.length>1&&this.ui.agentGroup.removeClass("hidden")},renderSectionScanner:function(){var e=this.model.scannersProxy,t=this.createMenuOptions(e.map((function(e){return{label:e.get("name"),value:e.get("name")}})),this.model.get("scanner"));this.ui.sectionScanner.html(t),e.length>1&&this.ui.scannerGroup.removeClass("hidden")},updateSectionAgent:function(e){var t=this.model.get("scanner");this.model.set("agent",e),this.agentSettingsRegion.close();var n=this.model.agents.get(e);if(n){var r=n.get("languages"),i=this.model.get("language"),a=this.getSectionType();if(!r.get(i)){var o=r.findWhere({default:!0});o||2!==i.search("-")||(o=r.get(i.substr(0,2))),o||(o=r.get(a.defaultLanguage)||r.first()),this.model.set("language",o.get("code"))}if(this.model.agentSettings=null,this.populateSectionAgentSettings().then(s().bind(this.renderSectionAgentSettings,this)),this.model.settings=null,this.populateSectionSettings().then(s().bind(this.renderSectionSettings,this)),e===a.mutual.agent)this.model.set("scanner",a.mutual.scanner),this.renderSectionScanner();else if(this.model.get("scanner")===a.mutual.scanner){var l=this.model.scanners.find((e=>e.get("name")!==t));this.model.set("scanner",l.get("name")),this.renderSectionScanner()}}this.showValidationResult(this.validate(this.model))},onEditSectionAgentChange:function(e){var t=i()(e.currentTarget).val();this.updateSectionAgent(t)},onEditSectionScannerChange:function(e){var t=i()(e.currentTarget).val(),n=this.model.get("agent"),r=this.getSectionType();if(this.model.set("scanner",t),t===r.mutual.scanner)this.updateSectionAgent(r.mutual.agent),this.renderSectionAgent();else if(this.model.get("agent")===r.mutual.agent){var a=this.model.agents.find((e=>e.get("identifier")!==n));this.updateSectionAgent(a.get("identifier")),this.renderSectionAgent()}this.showValidationResult(this.validate(this.model))},onAgentsPopulate:function(e){this.renderSectionAgent()},onScannersPopulate:function(e){this.renderSectionScanner()},onThumbnailsDeleteClick:function(e){e.preventDefault(),w.Z.execute("deleteSectionThumbnails",{section:this.model}).done(this.whenRendered((function(){this.ui.thumbnailsCheckbox.prop("checked",!1)})))}});var q=n(43298),$=n.n(q);const J=_.extend({template:$()});var X=n(12610),ee=n(1547),te=n(50468),ne=n(79931),re=n.n(ne);const ie=Z.Z.ItemView.extend({template:re(),className:"row",events:{"click .remove-path-btn":"onRemovePathClick"},onRemovePathClick:function(e){e.preventDefault(),this.model.trigger("destroy",this.model,this.model.collection)}}),ae=Z.Z.CollectionView.extend({itemView:ie});var se=n(33295),oe=n(10059),le=n(6153),ce=n.n(le);const de=Z.Z.ItemView.extend({tagName:"li",className:"striped-list-item browse-directory-list-item disabled",template:ce(),serializeData:function(){return{filePath:this.model.toJSON()}}});var ue=n(40277),pe=n.n(ue);const me=Z.Z.CompositeView.extend({template:pe(),itemView:de,itemViewContainer:".js-file-list-items",bindings:{".js-file-list-truncated-message":{modelAttribute:"truncatedFilesCount",formatter:e=>e?(0,b.Z)("and {truncatedFilesCount} more",{truncatedFilesCount:e}):null}}});var he=n(48966),ge=n.n(he);const ye=Z.Z.ItemView.extend({tagName:"li",className:"striped-list-item browse-directory-list-item",template:ge(),ui:{link:"a",spinner:".loading"},serializeData:function(){return{filePath:this.model.toJSON(),isRoot:!this.model.parent}},select:function(e){this.ui.link.addClass("selected"),this.ui.spinner.toggleClass("hidden",!e)},unselect:function(){this.ui.link.removeClass("selected"),this.ui.spinner.addClass("hidden")}}),ve=Z.Z.CollectionView.extend({tagName:"ul",className:"list browse-directory-list",itemView:ye,selectedFilePath:null,events:{"click a":"onDirectoryClick"},collectionEvents:{reset:"onReset"},startLoadingItem:function(e){this.selectedFilePath&&this.unselectItem(this.selectedFilePath),this.selectedFilePath=e;var t=this.children.findByModel(e);t&&t.select(!0)},stopLoadingItem:function(e){var t=this.children.findByModel(e);t&&t.select(!1)},unselectItem:function(e){this.selectedFilePath=null;var t=this.children.findByModel(e);t&&t.unselect()},onReset:function(){this.parentFilePath&&this.collection.add(this.parentFilePath,{at:0})},onDirectoryClick:function(e){e.preventDefault();var t=i()(e.currentTarget).data("key"),n=this.collection.get(t)||this.parentFilePath;this.trigger("change:path",n),this.options.isRoot||(n.parent.parent?(this.parentFilePath=n.parent.parent.clone(),this.parentFilePath.set({title:".. [Back]",isBackShortcut:!0})):this.parentFilePath=null)}});var fe=n(21288),be=n(68505),Ie=n.n(be);const Se=fe.Z.extend({name:"addFolderModal",className:"add-folder-modal modal fade",template:Ie(),events:s().extend({"submit form":"onSubmitForm"},fe.Z.prototype.events),ui:{path:'input[name="path"]'},regions:{rootList:".home-directory-container",childrenList:".path-container",childrenFileList:".file-container"},initialize:function(e){fe.Z.prototype.initialize.apply(this,arguments),this.rootPathList=new oe.Z({},{server:e.server,includeFiles:1}),this.childrenPathList=new oe.Z({},{server:e.server,includeFiles:1}),this.loadRootPaths()},loadRootPaths:function(){this.rootPathList.fetch().done(this.whenRendered((function(){var e=this.rootPathList.get("paths").where({home:!0}),t=s().first(e)||this.rootPathList.get("paths").first();this.rootList.currentView.startLoadingItem(t),this.loadChildrenPaths(t)})))},loadChildrenPaths:function(e){se.Z.abortAll("addFolderModal");var t=e.get("children"),n=t.fetch({scope:"addFolderModal"});n.done(this.whenRendered((function(){this.ui.path.val(e.get("path")),this.childrenPathList.get("paths").reset(t.get("paths").models),this.childrenPathList.get("files").reset(t.get("files").models),this.childrenPathList.set("truncatedFilesCount",t.get("truncatedFilesCount"))}))),n.fail(this.whenRendered((function(){this.childrenList.currentView.unselectItem(e),h.Z.trigger("show:alert",{type:"error",message:(0,b.Z)("Unable to load contents of '{1}'",e.get("path"))})}))),n.always(this.whenRendered((function(){this.rootList.currentView.stopLoadingItem(e)})))},onRender:function(){fe.Z.prototype.onRender.apply(this,arguments);var e=new ve({isRoot:!0,collection:this.rootPathList.get("paths")}),t=new ve({collection:this.childrenPathList.get("paths")}),n=new me({model:this.childrenPathList,collection:this.childrenPathList.get("files")});this.listenTo(e,"change:path",this.onRootPathChange),this.listenTo(t,"change:path",this.onChildrenPathChange),this.rootList.show(e),this.childrenList.show(t),this.childrenFileList.show(n)},onRootPathChange:function(e){this.childrenList.currentView.parentFilePath=null,this.rootList.currentView.startLoadingItem(e),this.loadChildrenPaths(e)},onChildrenPathChange:function(e){this.childrenList.currentView.startLoadingItem(e),this.loadChildrenPaths(e)},onSubmitForm:function(e){e.preventDefault(),this.trigger("add:folder",this.ui.path.val()),this.hide()}});var Me=n(81185),Ee=n.n(Me),Pe=Object.defineProperty,De=Object.prototype.hasOwnProperty,Ce=Object.getOwnPropertySymbols,we=Object.prototype.propertyIsEnumerable,Ze=(e,t,n)=>t in e?Pe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Te=(e,t)=>{for(var n in t||(t={}))De.call(t,n)&&Ze(e,n,t[n]);if(Ce)for(var n of Ce(t))we.call(t,n)&&Ze(e,n,t[n]);return e};function Ne(e,t){return e.findWhere({type:t,state:X.iN})||e.findWhere({type:t,state:X.j5})}function Oe(e,t){return e.findWhere({type:t,state:X.zK})||e.findWhere({type:t,state:X.J$})||e.findWhere({type:t,state:X.Ku})}const Ae=_.extend({template:Ee(),fieldNames:["Location"],regions:{pathsRegion:".paths-region"},ui:Te(Te({},_.prototype.ui),{addFolderBtn:".add-folder-btn",addFolderPopulating:".add-folder-populating",addFolderError:".add-folder-error",arcadeDownloadMediaInput:"#arcade-download-media",arcadeGreeting:"#arcade-greeting",arcadeRequired:"#arcade-required",arcadeUpsell:"#arcade-upsell",parsecRequired:"#parsec-required"}),events:{"click .add-folder-btn":"onAddFolderClick","change input[name=path]":"onFolderChange","change input[name=downloadMedia]":"onDownloadMediaChange"},onlyAfterRender:["renderSectionLocation"].concat(_.prototype.onlyAfterRender),initialize:function(){this.listenTo(this.model.get("locations"),{add:this.onCollectionChange,remove:this.onCollectionChange}),this.model.get("type")===M.Wp&&this.listenTo((0,o.DB)("appModel").get("user"),{change:this.onUserChange}),this.renderSectionLocation(),this.showValidationResult(this.validate(this.model))},serializeData:function(){var e=this.model.get("type")===M.Wp,t=this.model.isNew()&&e,n=(0,o.DB)("appModel").get("user"),r=!!Ne(n.get("subscriptions"),ee.VW),i=!(!Oe(n.get("subscriptions"),ee.VW)&&!Oe(n.get("pastSubscriptions"),ee.VW)),a=(0,te.Z)(n.get("services").toJSON(),"parsec"),s=e&&r,l=t&&i&&!r,c=t&&!i&&!r,d=e&&r&&!a;return Te(Te({},_.prototype.serializeData.call(this)),{hideArcadeGreeting:!s,hideArcadeRequired:!l,hideArcadeUpsell:!c,hideParsecRequired:!d,isDisabled:t&&!r,isGamesSection:e,isNewGamesSection:t,subscribeURL:E.Z.join(["https://www.plex.tv","/arcade/checkout"])})},validate:function(e){var t=Ne((0,o.DB)("appModel").get("user").get("subscriptions"),ee.VW);if(e.isNew()&&e.get("type")===M.Wp){if(!t)return["subscriptionRequired"];if(e.get("downloadMedia"))return[]}var n=[];return e.get("locations").length||n.push("locations"),n},renderSectionLocation:function(){var e=new ae({collection:this.model.get("locations")});this.pathsRegion.show(e)},onCollectionChange:function(){this.showValidationResult(this.validate(this.model))},onAddFolderClick:function(e){e.preventDefault();var t=new Se({server:this.model.server});this.listenToOnce(t,"add:folder",this.onAddFolder),h.Z.trigger("show:modal",t)},onAddFolder:function(e){if(e){var t={path:e};this.model.get("locations").findWhere(t)||this.model.get("locations").add(t)}},onFolderChange:function(e){var t=i()(e.currentTarget),n=t.prop("defaultValue"),r=t.val();r?(this.model.get("locations").findWhere({path:n}).set("path",r),t.prop("defaultValue",r)):t.val(n)},onDownloadMediaChange:function(e){i()(e.currentTarget).prop("checked")?(this.model.set("downloadMedia",1),this.trigger("valid")):(this.model.unset("downloadMedia"),this.trigger("invalid"))},onUserChange:function(){const{hideArcadeGreeting:e,hideArcadeRequired:t,hideArcadeUpsell:n,hideParsecRequired:r,isDisabled:i}=this.serializeData(),{addFolderBtn:a,arcadeDownloadMediaInput:s,arcadeGreeting:o,arcadeRequired:l,arcadeUpsell:c,parsecRequired:d}=this.ui;a.prop("disabled",i),s.prop("disabled",i),o.toggleClass("hidden",e),l.toggleClass("hidden",t),c.toggleClass("hidden",n),d.toggleClass("hidden",r),this.showValidationResult(this.validate(this.model))}});var xe=n(82642),je=n(27749),Le=n.n(je);const ke=_.extend({template:Le(),ui:{chooseLibrary:".choose-library"},events:{"click .choose-library":"onChooseLibraryClick"},modelEvents:{"change:agent":"onSectionAgentChange","change:scanner":"onSectionScannerChange"},onlyAfterRender:["updateSelectedOffering"],initialize:function(){this.hasPremiumMusic=this.model.server.hasOwnerFeature("premium_music_metadata"),this.updateSelectedOffering()},serializeData:function(){var e=o.DB("appModel").get("user");return{hasPremiumMusic:this.hasPremiumMusic,plexPassUrl:e.server.get("plexPassUrl"),hasLyrics:this.model.server.get("transcoderLyrics")}},updateSelectedOffering:function(){var e=this.model.get("agent"),t=this.model.get("scanner");this.ui.chooseLibrary.find("input").prop("checked",!1);var n=this.ui.chooseLibrary.filter('[data-agent="'+e+'"][data-scanner="'+t+'"]').find("input");n.length||(n=this.ui.chooseLibrary.not("[data-agent][data-scanner]").find("input")),n.prop("checked",!0)},onChooseLibraryClick:function(e){var t=i()(e.currentTarget),n=t.data("agent"),r=t.data("scanner");!n&&!r||this.hasPremiumMusic?(this.model.agentSettings=null,this.model.set({agent:n||this.getSectionType().defaultAgent,scanner:r||this.getSectionType().defaultScanner})):h.Z.trigger("show:modal",new xe.Z({model:this.model.server}))},onSectionAgentChange:function(){this.updateSelectedOffering()},onSectionScannerChange:function(){this.updateSelectedOffering()}});var Re=n(45399),ze=n(78188),Ue=n(16561),Ve=n(5450),Be=n(80080),Fe=n(47323),_e=n(61309),He=n(99131),Qe=n(85669);const Ge=function(e){switch(e){case M.MB:return Be.Z;case M.xF:return Fe.Z;case M.n1:return _e.Z;case M.TV:return He.Z;case M.FM:return Ve.Z;case M.Wp:return Qe.Z}};var We=n(458),Ye=n.n(We),Ke=Object.defineProperty,qe=Object.prototype.hasOwnProperty,$e=Object.getOwnPropertySymbols,Je=Object.prototype.propertyIsEnumerable,Xe=(e,t,n)=>t in e?Ke(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,et=(e,t)=>{for(var n in t||(t={}))qe.call(t,n)&&Xe(e,n,t[n]);if($e)for(var n of $e(t))Je.call(t,n)&&Xe(e,n,t[n]);return e};function tt(e,t){return(null==e?void 0:e.key)!==M.Wp||t.get("games")}const nt=_.extend({template:Ye(),ui:s().extend({sectionTypes:".wizard-block",sectionTitle:"#edit-section-title",sectionLanguage:"#edit-section-language",sectionLanguageGroup:".language-group"},_.prototype.ui),modelEvents:{"change:type":"onSectionTypeChange","change:title":"onSectionTitleChange","change:language":"onSectionLanguageChange"},events:{"click .section-type":"onSectionTypeClick","keyup #edit-section-title":"onEditSectionTitleChange","change #edit-section-title":"onEditSectionTitleChange","change #edit-section-language":"onEditSectionLanguageChange"},onlyAfterRender:["renderSectionLanguage","updateSectionTypesWizardBlocks","updateSectionLanguage","updateSectionTitle"].concat(_.prototype.onlyAfterRender),initialize:function(e){this.populateCollections(),this.isDefaultSection=e.isDefaultSection},serializeData:function(){var e=_.prototype.serializeData.apply(this,arguments);const t=o.DB("appModel"),n=t.get("user"),r=n.get("features").get(Re.ZM)&&this.model.server.hasOwnerFeature(Re.ZM);e.sectionTypes=M.ZP.getAll().reduce(((e,t)=>((t.key!==M.Wp||r)&&e.push(et(et({},t),{typeIcon:(0,Ue.Z)(Ge(t.key),{className:"wizard-block-icon"})})),e)),[]);var i=this.getSectionType();i&&(e.currentSectionKey=i.key);var a=this.model.get("updatedAt");return a&&(e.updatedAt=(0,ze.Z)(a)),e.canChangeType=this.model.isNew()&&!this.isDefaultSection,e.hasType=!!this.model.get("type"),e.isInitialTypeSupported=tt(this.model.sectionType,this.model.server),e.escapedUpdatedAt=s().escape(e.updatedAt),e},validate:function(e){var t=[];return e.get("type")||t.push("type"),e.get("title")||t.push("title"),e.get("language")||t.push("language"),e.get("isCollectionsPopulated")||t.push("collectionsNotPopulated"),tt(e.sectionType,e.server)||t.push("unsupportedType"),t},populateCollections:function(){this.model.set("isCollectionsPopulated",!1);var e=this.populateAgents(),t=this.populateScanners(),n=this.getSectionType(),r=i().when(n,e,t,this.model.server.get("myPlexSubscription")&&this.model.server.supports("premiumMusic"));return this.model.isNew()&&(r=r.then(s().bind(this.model.setAgentAndScanner,this.model))),r.then(e).then(s().bind(this.onAgentsPopulate,this)).then(s().bind((function(){this.showValidationResult(this.validate(this.model))}),this)).then((()=>{this.model.isNew()&&this.model.get("type")===M.Wp?this.model.set("downloadMedia",1):this.model.unset("downloadMedia"),this.model.set("isCollectionsPopulated",!0)}))},renderSectionLanguage:function(){var e=this.model.get("language"),t=this.model.agents.get(this.model.get("agent"));if(t){var n=t.get("languages");if(!n.get(e)){var r,i=n.findWhere({default:!0});if(i&&(r=i.get("code")),!r){var a=this.model.get("type");r=M.ZP.get(a).defaultLanguage}this.model.set("language",r,{silent:!0}),e=r}var s=n.map((function(e){return{label:e.get("name"),value:e.id}}));this.updateSectionLanguage(),this.ui.sectionLanguage.html(this.createMenuOptions(s,e))}else this.ui.sectionLanguageGroup.hide()},updateSectionTypesWizardBlocks:function(){this.ui.sectionTypes.removeClass("selected"),this.ui.sectionTypes.filter('[data-key="'+this.model.get("type")+'"]').addClass("selected"),this.$el.addClass("section-type-chosen")},updateSectionLanguage:function(){this.ui.sectionLanguage.val(this.model.get("language"))},updateSectionTitle:function(){var e=this.ui.sectionTitle.val(),t=this.model.get("title");e!==t&&this.ui.sectionTitle.val(t)},onSectionTypeClick:function(e){e.preventDefault();var t=i()(e.currentTarget);if(t.hasClass("selectable")){var n=t.data("key"),r={type:n},a=M.ZP.get(n);this.model.get("title")||(r.title=a.title),this.model.set(r)}},onEditSectionTitleChange:function(e){var t=i()(e.currentTarget);this.model.set("title",t.val()),this.showValidationResult(this.validate(this.model))},onEditSectionLanguageChange:function(e){var t=i()(e.currentTarget);this.model.set("language",t.val()),this.showValidationResult(this.validate(this.model))},onSectionTypeChange:function(e,t){this.updateSectionTypesWizardBlocks();var n=M.ZP.get(t);if(!this.model.get("language")){var r=n.defaultLanguage;this.model.set("language",r)}var i=this.model.get("title"),a=this.model.previous("type"),s=M.ZP.get(a),o=s&&s.title;i&&i!==o||this.model.set("title",n.title),this.setSectionType(n),this.model.agents=null,this.model.scanners=null,this.model.settings=null;const l=tt(n,this.model.server);this.$el.toggleClass("is-type-unsupported",!l),l&&this.populateCollections()},onSectionTitleChange:function(e,t){this.updateSectionTitle(),this.showValidationResult(this.validate(this.model))},onSectionLanguageChange:function(e,t){this.updateSectionLanguage()},onAgentsPopulate:function(e){this.renderSectionLanguage()}});var rt=n(35424),it=n(19380),at=n.n(it);const st=fe.Z.extend({mixins:[D.Z],name:"editSectionModal",className:"edit-section-modal modal modal-lg fade",template:at(),panes:{type:{constructor:nt,nextPane:"folders",dependentPanes(){return this.showFolders?["folders"]:["options","advanced"]}},folders:{constructor:Ae,nextPane:"options",dependentPanes:["options","advanced"]},options:{constructor:ke,nextPane:"advanced"},advanced:{constructor:K},error:{constructor:J}},panesModel:"tempModel",ui:{sidebar:".modal-nav-list",optionsBtn:".options-btn",saveBtn:".save-btn",message:".form-message",headerSectionType:".section-type-title"},regions:{paneRegion:".pane-region"},events:s().extend({"click .change-pane-btn":"onChangePaneClick","click .save-btn":"onSaveClick","submit .edit-section-type-form":"onGeneralFormSubmit"},fe.Z.prototype.events),onlyAfterRender:["showPane","updateMessage","updateSectionTitle","updateSectionTitleDestabilized","updateSaveBtn"],paneConstructorArg:function(){return{isDefaultSection:this.isDefaultSection}},initialize:function(e){fe.Z.prototype.initialize.apply(this,arguments),this.server=e.server,this.redirect=e.redirect,this.isDefaultSection=e.isDefaultSection,this.isLoading=!0,this.model?(this.tempModel=this.model.clone(),this.tempModel.collection=this.model.collection):this.tempModel=new l.Z({},{server:this.server,collection:this.server.get("sections")}),this.listenTo(this.tempModel,"change:type",this.onSectionTypeChange),this.tempModel.isNew()&&e.seedAttrs&&this.tempModel.set(this.tempModel.parse(e.seedAttrs)),this._deferred=i().Deferred(),this.promise=this._deferred.promise();var t=this.server.get("providers");t.populate().done(this.whenRendered((()=>{var n=t.get(m.Y3).get("features").get(p.d3).get("automaticLibraryFolders");this.showFolders=!n,this.isLoading=!1,this.render(),this.showPane(e.selectedPane||"type")})))},serializeData:function(){var e=this.tempModel,t=e.isNew(),n=e&&(0,b.Z)("Edit {1}",e.get("title"),{escape:!0});return{isLoading:this.isLoading,add:t,edit:!t,paneTitle:n,section:e&&e.toJSON(),selectedPane:this.selectedPane,showFolders:this.showFolders}},updateMessage:function(e){this.ui.message.text(e||"")},updateSaveBtn:function(){var e=this.ui.saveBtn,t=this.panes[this.selectedPane],n=s().bind((function(n){var r,i=t.nextPane,a=this.tempModel.isNew(),s=!t.constructor.prototype.validate||0===t.constructor.prototype.validate(this.tempModel).length,o=!this.getReachablePanes().isAnyInvalid,l=this.tempModel.get("isCollectionsPopulated");this.ui.optionsBtn.toggleClass("hidden",!n.showOptions);var c=l&&(o||a&&s);r=i,n.showOptions||"options"!==i||(r=!1),o&&(r=!1),n.showOptions&&"options"===i&&(r=!0),n.showAdvanced&&"advanced"===i&&(r=!0),this.tempModel.isNew()&&"folders"===i&&(r=!0),e.toggleClass("save",!r),e.toggleClass("next",!!r),e.toggleClass("disabled",!c)}),this),r=this.tempModel.server,i=this.tempModel.sectionType,a=i&&"music"===i.key&&r.supports("premiumMusic"),o=this.tempModel.isNew();a?this.paneRegion.currentView.populateAgents().then((function(e){var t=e.findWhere({identifier:u.zR}),r=o&&t;n({showOptions:r,showAdvanced:r})})):n({})},updateSectionTitle:function(){var e=M.ZP.get(this.tempModel.get("type"));if(e){this.updateSectionTitleDestabilized();var t=s().escape(e.title);this.ui.headerSectionType.html(t)}},updateSectionTitleDestabilized:function(){this.ui.headerSectionType.addClass("section-type-title-unstable"),this.ui.headerSectionType.triggerReflow(),this.ui.headerSectionType.removeClass("section-type-title-unstable")},save:function(){var e=this.ui.saveBtn;this.updateMessage(""),e.addClass("active");var t=this.saveModel();t.always((function(){e.removeClass("active")})),t.fail(s().bind((function(e){503===e.status?h.Z.trigger("show:modal",new rt.Z({model:this.server})):this.updateMessage((0,b.Z)("Your changes could not be saved."))}),this)),t.then(s().bind((function(){var e=this.model.server.entityID(),t=(0,o.DB)("appStore").dispatch;if(t((0,d.lm)({serverEntityID:e})),t((0,d.tU)({serverEntityID:e})),!this.redirect)return this._deferred.resolve(),void this.hide();var n,r={machineIdentifier:this.model.server.get("machineIdentifier"),isCloud:this.model.server.get("isCloud")},i={identifier:m.Y3,isLibraryProvider:!0},a={id:this.model.id},s=this.model.get("type"),l={};l.pivot=(0,g.Z)(this.model.server.get("version"),c.Z.pivotIDs)?"library":(0,v.Z)(this.model.id,s),s===S.ARTIST&&(l.key=E.Z.join(["/library/sections",this.model.id,"all"],{type:(0,S.getMetadataType)(S.ALBUM).id,sort:"addedAt:desc"})),n=(0,P.Z)(r,i,a,l),window.location.hash=n,this._deferred.resolve(),this.hide()}),this))},saveModel:function(){var e,t=this.getSectionSettingsParams(),n=t?{data:{prefs:t}}:{};return this.tempModel.isNew()?e=(e=this.tempModel.save(null,n)).then(s().bind((function(e,n,r){var i=y.Z.parseXML(e);if(201===r.status){if(i.Directory&&(i=i.Directory),!i.key){var a=r.getResponseHeader("Location");a&&(i.key=a.substring(a.lastIndexOf("/")+1))}var s=this.server;s.supports("advancedFilters")&&(i.filters=!0),this.model=new l.Z(i,{parse:!0,server:s}),s.get("sections").add(this.model);var c=null==t?void 0:t.hidden,d="string"==typeof c?parseInt(c,10):null;if(1!==d&&2!==d){var u=s.get("providers").get(m.Y3),p=u?(0,I.Z)(u.toJSON(),this.model.toJSON()):null,h=p?p.key:null;u&&h&&(0,o.DB)("appStore").dispatch((0,C.W1)({sources:[{key:(0,f.Z)(h,s.get("machineIdentifier"),u.get("identifier"),i.key),sourceType:h,serverEntityID:s.entityID(),machineIdentifier:s.get("machineIdentifier"),providerEntityID:u.entityID(),providerIdentifier:u.get("identifier"),providerMetricsIdentifier:u.get("metricsIdentifier"),directoryID:i.key,directoryIcon:null,title:this.model.get("title"),serverFriendlyName:s.get("friendlyName"),serverSourceTitle:s.get("sourceTitle"),isLocal:s.get("isPrivateConnection"),isUnavailable:!1,isOutOfDate:!1,isUnclaimedServer:!s.get("isClaimed"),isFullOwnedServer:s.get("isFullOwnedServer"),isProviderReady:!0}],interaction:!1}))}return r}}),this)):(this.model.copy(this.tempModel),e=this.model.save(null,n)),e.then(s().bind(this.saveAgentSettings,this))},saveSettings:function(e){var t=i().Deferred().resolve(this.model).promise();if(!this.server.supports("sectionSettings"))return t;if(!e)return t;var n=E.Z.join(["/library/sections/",this.model.id,"/prefs"],e),r=s().extend(this.server.getXHROptions(n),{type:"PUT"});return i().ajax(r).promise().then((function(){return t}))},saveAgentSettings:function(){var e=i().Deferred().resolve(this.model).promise(),t=this.tempModel.agentSettings;if(!this.tempModel.agentSettings)return e;var n=this.getSettingsChanges(t);if(s().isEmpty(n))return e;var r=t.first(),a=r.getSaveParams(n),o=s().result(t,"url"),l=E.Z.join([o,"/set"],a),c=r.server.getXHROptions(l);return i().ajax(c).promise().then((function(){return e}))},getSectionSettingsParams:function(){var e=this.tempModel.settings;if(e){var t=this.getSettingsChanges(e);if(!s().isEmpty(t))return e.first().getSaveParams(t)}},getSettingsChanges:function(e){return e.filter((function(e){return e.changedAttributes()})).reduce((function(e,t){var n=t.get("value");return"bool"===t.get("type")&&(n=n?"1":"0"),e[t.get("id")]=n,e}),{})},onPaneShow:function(e,t){this.listenTo(t,"valid",this.updateSaveBtn),this.listenTo(t,"invalid",this.updateSaveBtn),this.updateSaveBtn()},onPaneHide:function(e,t){this.stopListening(t,"valid",this.updateSaveBtn),this.stopListening(t,"invalid",this.updateSaveBtn)},onChangePaneClick:function(e){e.preventDefault();var t=this.$(e.currentTarget);t.isDisabled()||this.showPane(t.data("pane"))},onSaveClick:function(e){e.preventDefault();var t=this.ui.saveBtn;if(!t.isDisabled())if(t.hasClass("next")){var n=this.panes[this.selectedPane].nextPane;"folders"!==n||this.showFolders||(n=this.ui.sidebar.find(".options-btn").isDisabled()?"advanced":"options"),n&&!this.ui.sidebar.find("."+n+"-btn").isDisabled()&&this.showPane(n)}else this.save()},onGeneralFormSubmit:function(e){this.onSaveClick(e)},onSectionTypeChange:function(){this.updateSaveBtn()}})},35424:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d});var r=n(13469),i=n.n(r),a=n(12319),s=n(21288),o=n(18039),l=n(60862),c=n.n(l);const d=s.Z.extend({name:"libraryFailureModal",className:"confirm-modal modal modal-sm fade",template:c(),events:i().extend({"click .confirm-btn":"hide"},s.Z.prototype.events),serializeData(){return{isSignedIn:this.model.get("myPlexSigninState")===a.Hq,hasPlexSubscription:this.model.get("myPlexSubscription"),serverSettingsRoute:(0,o.Z)(this.model.id,"settings","general")}}})},82642:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var r=n(13469),i=n.n(r),a=n(93966),s=n(21288),o=n(27556),l=n.n(o);const c=s.Z.extend({name:"plexPassModal",template:l(),serializeData:function(){return{plexPassUrl:a.DB("appModel").get("user").server.get("plexPassUrl"),escapedFriendlyName:i().escape(this.model.get("friendlyName")),isClaimed:this.model.get("isClaimed")}}})},38892:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(19755),i=n.n(r),a=n(13469),s=n.n(a),o=n(21288);const l=o.Z.extend({className:"select-modal modal modal-sm fade",events:s().extend({"click a":"onClick"},o.Z.prototype.events),initialize:function(){o.Z.prototype.initialize.apply(this,arguments),this.promise=i().Deferred()},onRender:function(){o.Z.prototype.onRender.apply(this,arguments)},onHide:function(e){o.Z.prototype.onHide.apply(this,arguments),this.promise.reject()},onClick:function(e){e.preventDefault(),this.promise.resolve(i()(e.currentTarget).data("value")),this.hide()}})},35839:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d});var r=n(13469),i=n.n(r),a=n(65652),s=n(91135),o=n(69881),l=n(60603),c=n.n(l);const d=a.Z.ItemView.extend({className:"convert-policy-container",template:c(),ui:{policyUnwatchedInput:"#convert-policy-unwatched",policyScopeInput:"#convert-policy-scope",policyValueInput:"#convert-policy-value",policyWarning:".convert-warning"},events:{"change input[name=policyUnwatched]":"onPolicyUnwatchedChange","change input[name=policyScope]":"onPolicyScopeChange","keyup input[name=policyValue]":"onPolicyValueChange","change input[name=policyValue]":"onPolicyValueChange"},initialize:function(e){this.type=(0,o.getMetadataType)(this.model.get("metadataType")||"movie"),this.leafMediaType=(0,o.getLeafType)(this.type.typeString).mediaType,this.model.setPolicyDefaultsFor(this.leafMediaType)},serializeData:function(){var e={isSync:this.options.isSync,isDirectory:this.model.get("isDirectory"),policy:this.model.get("policy").toJSON()};return e.showLimitWarning=this.model.shouldShowPolicyWarning(this.leafMediaType,e.policy.value),e.showUnwatched=e.isDirectory&&this.leafMediaType===s.pX,e},updatePolicyValue:function(){var e=this.model.get("policy"),t=Math.abs(parseInt(this.ui.policyValueInput.val(),10));this.ui.policyValueInput.val(i().isNaN(t)?"":t),i().isNaN(t)&&(t=0),e.set("value","all"===e.scope?null:t);var n=this.model.shouldShowPolicyWarning(this.leafMediaType,t);this.ui.policyWarning.toggleClass("hidden",!n)},onPolicyUnwatchedChange:function(e){this.model.get("policy").set("unwatched",this.ui.policyUnwatchedInput.prop("checked"))},onPolicyScopeChange:function(e){var t=this.model.get("policy"),n=this.ui.policyScopeInput.prop("checked")?this.ui.policyScopeInput.val():"all";t.set("scope",n),this.updatePolicyValue()},onPolicyValueChange:function(e){this.updatePolicyValue()}})},74527:(e,t,n)=>{"use strict";n.d(t,{Z:()=>K});var r=n(19755),i=n.n(r),a=n(76154),s=n(71576),o=n(29415),l=n(11023),c=n(13469),d=n.n(c),u=n(69865),p=n(55983);const m=u.Z.extend({idAttribute:"title",whitelistedAttrs:["title","selected"],convert:function(e){var t=d().isObject(e)?e:p.Z.parseXML(e);return p.Z.parseBoolean(t,"selected"),t},parse:function(e,t){var n=this.convert(e);return d().pick(n,this.whitelistedAttrs)}}),h=o.Z.extend({model:m,url:"/clients/profiles?type="+l.Z.LOCAL,parse:function(e){return this.convert(e,"Profile")}}),g=u.Z.extend({name:"VersionTargetModel",whitelistedAttrs:["id","tag","tagType","MediaSettings","Device"],convert:function(e){var t=d().isObject(e)?e:p.Z.parseXML(e);return p.Z.parseInteger(t,"id"),t},parse:function(e,t){var n=this.convert(e);return d().pick(n,this.whitelistedAttrs)}}),y=o.Z.extend({model:g,url:"/library/tags?type="+l.Z.LOCAL,comparator:function(e){return e.get("MediaSettings").maxVideoBitrate},parse:function(e){return this.convert(e,"Tag")}});var v=n(21288),f=n(65652),b=n(22110),I=n.n(b);const S=f.Z.ItemView.extend({className:"modal-body",template:I(),events:{"click .try-again-link":"onTryAgainClick"},serializeData:function(){return{status:this.options.status}},onTryAgainClick:function(e){e.preventDefault(),this.triggerMethod("request:state","loading")}});var M=n(12801),E=n(95933),P=n(32707),D=n(41105),C=n(5562),w=n(90912),Z=n(82295),T=n.n(Z);const N=f.Z.ItemView.extend({className:"convert-location-container form-group",template:T(),events:{"change select[name=storageLocation]":"onLocationChange"},serializeData:function(){return{disableLocation:!this.model.isNew(),selectedLocationID:this.model.get("locationID"),locations:this.model.section&&this.model.section.get("locations").toJSON()}},onLocationChange:function(e){this.model.set("locationID",parseInt(e.currentTarget.value,10))}});var O=n(35839),A=n(45662),x=n(33232),j=n(32433),L=n.n(j);const k=f.Z.ItemView.extend({className:"convert-target-container form-group",template:L(),ui:{targetTitleInput:".convert-target-title"},events:{"change select[name=target]":"onTargetChange","keydown input[name=targetTitle]":"onTitleKeyDown","change input[name=targetTitle]":"onTitleChange","change select[name=targetProfile]":"onProfileChange","change select[name=targetQuality]":"onQualityChange"},initialize:function(e){this.targets=e.targets,this.profiles=e.profiles;var t=this.model.get("Device").profile;this.selectedProfile=t?this.profiles.get(t):this.profiles.findWhere({selected:!0}),this.availableCustomQualities=x.Z.getAvailableQualities({lowestQualityIndex:A.G}).reverse();var n=this.model.get("mediaSettings").get("maxVideoBitrate");if(n){var r=x.Z.getNearestIndexToBitrate(n);this.selectedCustomQuality=x.Z.getQualityByIndex(r)}else this.selectedCustomQuality=d().first(this.availableCustomQualities);this.model.isNew()||this.model.get("targetTagID")||this.$el.addClass("show-custom-target")},serializeData:function(){return{item:this.model.toJSON(),targets:this.targets.toJSON(),disableTarget:!this.model.isNew(),profiles:this.profiles.toJSON(),selectedProfile:this.selectedProfile.toJSON(),availableCustomQualities:this.availableCustomQualities,selectedCustomQuality:this.selectedCustomQuality}},updateDeviceProfile:function(e){this.model.get("Device").profile=this.selectedProfile.get("title")},updateMediaSettings:function(e){this.model.get("mediaSettings").set({videoQuality:e.videoQuality,videoResolution:e.videoResolution,maxVideoBitrate:e.bitrate})},onTargetChange:function(e){var t=parseInt(e.currentTarget.value,10);t>-1?(this.model.unset("target"),this.model.set({targetTagID:t,Device:{}}),this.model.get("mediaSettings").restoreDefaults()):(this.model.set("target",this.ui.targetTitleInput.val()),this.model.unset("targetTagID"),this.updateDeviceProfile(this.selectedProfile),this.updateMediaSettings(this.selectedCustomQuality)),this.$el.toggleClass("show-custom-target",-1===t)},onTitleKeyDown:function(e){190===e.which&&0===e.currentTarget.selectionStart&&e.preventDefault()},onTitleChange:function(e){this.model.set("target",e.currentTarget.value)},onProfileChange:function(e){this.selectedProfile=this.profiles.findWhere({title:e.currentTarget.value}),this.updateDeviceProfile(this.selectedProfile)},onQualityChange:function(e){var t=parseInt(e.currentTarget.value,10);this.selectedCustomQuality=x.Z.getQualityByIndex(t),this.updateMediaSettings(this.selectedCustomQuality)}});var R=n(7580),z=n.n(R);const U=f.Z.Layout.extend({template:z(),ui:{submitBtn:".submit-btn"},regions:{policyRegion:".policy-region",targetsRegion:".targets-region",locationRegion:".location-region"},events:{"change input[name=title]":"onTitleChange","submit #convert-form":"onSubmit"},initialize:function(e){if(this.playlist=e.playlist,this.targets=e.targets,this.profiles=e.profiles,this.model){this.tempModel=this.model.clone();var t=this.model.get("Location").librarySectionID;if(t){var n=new M.Z({key:t},{server:this.model.server,onlyIfCached:!0});d().isEmpty(n)||(this.tempModel.section=n)}}else{var r,i=e.item,a=e.items,s=i.has("childrenKey")?new E.Z({containerKey:i.get("childrenKey")},{server:i.server,provider:i.provider}):i,o=i.server;if(i.get("isSection"))r=i;else{var l=(0,D.Z)(i);d().isEmpty(l)||(r=l)}this.tempModel=new w.Z({title:P.Z.title(i,{items:a}),targetTagID:this.targets.first().id,Location:{uri:P.Z.uri(s,{items:a})}},{server:o,section:r})}},serializeData:function(){return{conversionItem:this.tempModel.toJSON(),isNew:this.tempModel.isNew(),showRemuxOnlyWarning:this.tempModel.server.get("transcoderVideoRemuxOnly")}},onRender:function(){this.policyRegion.show(new O.Z({model:this.tempModel,isSync:!1})),this.targetsRegion.show(new k({model:this.tempModel,targets:this.targets,profiles:this.profiles})),this.locationRegion.show(new N({model:this.tempModel}))},onTitleChange:function(e){this.tempModel.set("title",e.currentTarget.value)},onSubmit:function(e){e.preventDefault();var t=this.ui.submitBtn;if(!t.hasClass("active")){if(t.addClass("active"),!this.tempModel.get("targetTagID")&&!this.tempModel.get("target")){var n=this.tempModel.get("Device");this.tempModel.set("target",(0,C.Z)("Custom: {1}",n.profile))}var r=this.playlist.addContent(this.tempModel);r.done(this.whenRendered((function(){if(this.model){var e=d().omit(this.tempModel.toJSON(),"children");this.model.set(this.model.parse(e))}this.trigger("request:nextState")}))),r.fail(this.whenRendered((function(e){var t=e.responseText,n=p.Z.parseXML(t),r=n&&n.status;this.trigger("request:state","error",r)})))}}});var V=n(21967),B=n.n(V);const F=f.Z.ItemView.extend({className:"modal-body loading-container",template:B()});var _=n(97189),H=n(7369),Q=n.n(H);const G=f.Z.ItemView.extend({className:"modal-body",template:Q(),events:{"click .status-link":"onStatusClick"},onStatusClick:function(e){e.preventDefault(),this.triggerMethod("request:nextState"),(0,_.Z)("serverSettings",{machineIdentifier:this.options.server.id,settingsSection:"status",settingsGroup:"conversion"})}});var W=n(63768),Y=n.n(W);const K=v.Z.extend({mixins:[a.Z],name:"convertModal",className:"convert-modal modal fade",template:Y(),regions:{bodyRegion:".modal-body-region"},initialize:function(e){v.Z.prototype.initialize.apply(this,arguments),this.server=this.model?this.model.server:e.item.server;var t={server:this.server,allowInCache:!0};this.playlists=new s.Z([],t),this.targets=new y([],t),this.profiles=new h([],t)},initialState:"loading",states:{loading:{nextState:"form",onEnter:function(){this.bodyRegion.show(new F),this.listenForStateRequests();const e=this.options.item,t=e&&!e.get("isMetadataList");var n=i().when(t?e.populate():null,this.playlists.populate(),this.targets.populate(),this.profiles.populate(),this.server.get("sections").populate());n.done(this.whenRendered((function(){this.playlist=this.playlists.first(),this.playlist?this.enterNextState():this.enterState("error")}))),n.fail(this.whenRendered((function(){this.enterState("error")})))}},form:{nextState:"success",onEnter:function(){this.bodyRegion.show(new U({model:this.model,item:this.options.item,items:this.options.items,playlist:this.playlist,targets:this.targets,profiles:this.profiles})),this.listenForStateRequests()}},success:{onEnter:function(){this.model?this.hide():(this.bodyRegion.show(new G({server:this.server})),this.listenForStateRequests())}},error:{onEnter:function(e){this.bodyRegion.show(new S({status:e})),this.listenForStateRequests()}}},listenForStateRequests:function(){this.bodyRegion&&this.bodyRegion.currentView&&this.listenTo(this.bodyRegion.currentView,{"request:state":this.enterState,"request:nextState":this.enterNextState})},onRender:function(){v.Z.prototype.onRender.apply(this,arguments),this.enterNextState()},onStateMachineComplete:function(){this.hide()}})},58499:(e,t,n)=>{"use strict";n.d(t,{Z:()=>Q});var r=n(19755),i=n.n(r),a=n(13469),s=n.n(a),o=n(93966),l=n(16013),c=n(59756),d=n(21288),u=n(64529),p=n(20367),m=n.n(p);const h=u.Z.extend({className:"user-select-alert-bar",template:m()});var g=n(94018),y=n(65652),v=n(44233),f=n(32846),b=n(5562),I=n(84936),S=n(68187),M=n(43108);const E=n(64106).Z.extend({getUrl(e){if(e){const t=(0,M.Z)();return I.Z.join(e,{size:Math.round(this.width*t)})}return e}});var P=n(74237),D=n.n(P);const C=y.Z.ItemView.extend({tagName:"li",className:"user-select-list-item",template:D(),ui:{container:".user-select-container",poster:".user-poster"},events:{"click a":"onClick"},initialize:function(e){this.disabled=e.disabled,this.posterImage=new E({model:this.model,type:"friend",width:80});var t=o.DB("appModel").get("primaryServer");t&&t.supports("imageFilters")&&(this.backgroundImage=new E({model:this.model,type:"friend",width:120,background:!0,filters:{blur:20,opacity:50,background:"000000"}}),this.backgroundImage.placeholderClass=!1)},serializeData:function(){return{disabled:this.disabled}},bindings:{".username":{modelAttribute:"title"},".managed-title":{modelAttribute:"restrictionProfile",autohide:!0,formatter(e){if(this.model.get("restricted")&&!this.model.get("guest"))return e?S.oL(e).title:(0,b.Z)("Managed User")}},".protected-icon":{modelAttribute:"protected",autohide:!0,manual:!0},".admin-icon":{modelAttribute:"admin",autohide:!0,manual:!0}},onRender:function(){this.posterImage.setElement(this.ui.poster),this.backgroundImage&&this.backgroundImage.setElement(this.ui.container)},onClose:function(){this.posterImage.close(),this.backgroundImage&&this.backgroundImage.close()},onClick:function(e){e.preventDefault(),this.trigger("selectUser",this.model)}});var w=n(91159),Z=n.n(w);const T=y.Z.Layout.extend({className:"user-select-modal-pin-container",template:Z(),ui:{digitContainer:".pin-digit-container",input:".pin-input",digits:".pin-digit",loading:".loading",removeBtn:".remove-btn",saveBtn:".save-btn",pinForgotLink:".pin-forgot-link"},regions:{userList:".user-select-list"},events:{"keydown input":"onKeyDown","input input":"onInput","keyup input":"onKeyUp","focus input":"onFocus","blur input":"onBlur","change input":"onChange","animationend .pin-input-container":"onInputsAnimationEnd","webkitAnimationEnd .pin-input-container":"onInputsAnimationEnd","oAnimationEnd .pin-input-container":"onInputsAnimationEnd","click .back-btn":"onBackClick","click .remove-btn":"onRemoveClick","submit #pin-form":"onSubmit","click .pin-digit":"onPINClick","keydown .save-btn":"onSaveKeyDown"},onlyAfterRender:["confirmUser"],initialize:function(e){var t=o.DB("appModel");this.isForced=e.isForced,this.isEditing=e.isEditing,this.isEditWarning=e.isEditWarning,this.showBackButton=e.showBackButton,this.openAddManagedUser=e.openAddManagedUser,this.focusDelay=e.focusDelay,this.user=t.get("user"),this.isEditConfirmation=this.isEditing&&this.model.get("protected")&&!this.model.get("restricted")},serializeData:function(){return{isEditing:this.isEditing&&!this.isEditConfirmation,isEditWarning:this.isEditWarning,isEditConfirmation:this.isEditConfirmation,isOpeningAddManagedUser:this.openAddManagedUser,hasCurrentPIN:this.model.get("protected"),showBackButton:this.showBackButton}},focusInput:function(){this.ui.input.val(""),this.ui.input.focus()},getPIN:function(){return this.ui.input.val()},editPIN:function(e){this.ui.saveBtn.isDisabled()||(this.ui.saveBtn.addClass("disabled"),this.savePIN(e).fail(this.whenRendered((function(){this.ui.saveBtn.removeClass("disabled"),f.Z.trigger("show:alert",{type:"error",message:(0,b.Z)("This PIN could not be saved.")})}))))},removePIN:function(){this.ui.removeBtn.isDisabled()||(this.ui.removeBtn.addClass("disabled"),this.savePIN("").fail(this.whenRendered((function(){this.ui.removeBtn.removeClass("disabled"),f.Z.trigger("show:alert",{type:"error",message:(0,b.Z)("This PIN could not be removed.")})}))))},savePIN:function(e){this.ui.loading.removeClass("hidden");var t=this.model.get("restricted"),n=this.model.getSaveParams(),r={};this.currentPin&&(r.currentPin=this.currentPin),""===e&&t?r.removePin=1:r.pin=e;var a=i().extend(!0,{},n,r),o=I.Z.join(this.model.pinUrl(),a),l=this.model.server.getXHROptions(o,{type:t?"POST":"PUT"}),c=i().ajax(l);return c.done(s().bind((function(){this.model.set("protected",!!e),this.model.id===this.user.id&&(e?this.user.set("pin",this.user.hashPIN(e)):this.user.unset("pin"),this.user.set("home",this.user.hasHome())),this.trigger("resolve",e)}),this)),c.always(this.whenRendered((function(){this.ui.loading.addClass("hidden")}))),c},confirmUser:function(e){this.ui.loading.removeClass("hidden");var t=g.Z.execute("switchUser",{homeUser:this.model,pin:e,allowGuestLock:!this.isEditing});t.done(s().bind((function(){this.isEditing?(this.isEditConfirmation=!1,this.currentPin=e,this.render()):this.trigger("resolve",e,this.openAddManagedUser)}),this)),t.fail(this.whenRendered((function(){this.ui.digitContainer.addClass("shake"),this.ui.input.val(""),this.focusInput()}))),t.always(this.whenRendered((function(){this.ui.loading.addClass("hidden")})))},renderPIN:function(){var e=this.getPIN(),t=e.length,n=this.isEditing&&!this.isEditConfirmation;this.ui.digits.each((function(r,a){var s=e[r]||"";s&&!n&&(s="&bull;"),i()(a).toggleClass("current",r===t).html(s)}))},onRender:function(){this.userList.show(new C({model:this.model,disabled:!0})),this.ui.pinForgotLink.toggleClass("hidden",this.model.get("restricted")),v.Z.mobile||window.setTimeout(s().bind(this.focusInput,this),this.focusDelay)},onKeyDown:function(e){var t=e.which;13!==t&&8!==t&&46!==t&&229!==t&&(t>=48&&t<=57||t>=96&&t<=105||e.preventDefault())},onInput:function(e){var t=i()(e.currentTarget),n=t.val(),r=n.length,a=n.charAt(n.length-1);/[0-9]/.test(a)?4===n.length&&(!this.isEditing||this.isEditConfirmation?(t.blur(),this.confirmUser(this.getPIN())):this.ui.saveBtn.focus()):t.val(n.slice(0,r-1))},onKeyUp:function(e){this.renderPIN()},onFocus:function(e){this.renderPIN()},onBlur:function(e){this.renderPIN(),this.ui.digits.removeClass("current")},onChange:function(e){this.renderPIN()},onInputsAnimationEnd:function(e){i()(e.currentTarget).removeClass("shake")},onBackClick:function(e){e.preventDefault(),this.trigger("change:pane","users")},onRemoveClick:function(e){e.preventDefault(),this.removePIN()},onSubmit:function(e){e.preventDefault();var t=this.getPIN();4===t.length?this.isEditing&&!this.isEditConfirmation?this.editPIN(t):this.confirmUser(t):f.Z.trigger("show:alert",{type:"error",message:(0,b.Z)("Please enter a 4 digit PIN.")})},onSaveKeyDown:function(e){var t=e.which;8!==t&&46!==t||(e.preventDefault(),this.ui.input.val(""),this.focusInput())},onPINClick:function(){this.focusInput()}});var N=n(23593),O=n(92216),A=n(43322),x=n(21009),j=n(38170),L=n(16561),k=n(49883),R=n.n(k);const z=y.Z.ItemView.extend({tagName:"li",className:"user-select-list-item",template:R(),events:{"click a":"onClick"},initialize(e){this.disabled=e.disabled},serializeData(){return{iconAdd:(0,L.Z)(j.Z,{className:"add-icon"}),disabled:this.disabled}},onClick(e){e.preventDefault(),this.trigger("selectUser",this.model,!0)}}),U=x.Z.extend({tagName:"ul",className:"tile-list user-select-list",itemView:C,onRender(){this.options.showAddUser&&this.addItemView(this.options.adminModel,z,this.collection.length)}});var V=n(99590),B=n.n(V);const F=y.Z.Layout.extend({className:"user-select-modal-users-container",template:B(),ui:{loading:".loading"},regions:{body:".modal-body"},onlyAfterRender:["onUserPopulated","onHomeUsersPopulated","onError"],initialize:function(e){var t=o.DB("appModel");this.user=t.get("user"),this.homeUsers=this.user.get("homeUsers"),this.user.server.populate().done(s().bind(this.onUserPopulated,this)).fail(s().bind(this.onError,this))},showList:function(e){this.ui.loading.addClass("hidden");const t=e.findWhere({admin:!0});this.body.show(new U({collection:e,adminModel:t,showAddUser:!!t})),this.listenTo(this.body.currentView,"itemview:selectUser",this.onUserSelect)},selectUser:function(e,t){this.ui.loading.removeClass("hidden");var n=g.Z.execute("switchUser",{homeUser:e,switchUser:!0,allowGuestLock:!0});n.done(s().bind((function(){this.trigger("resolve",null,t)}),this)),n.always(this.whenRendered((function(){this.ui.loading.addClass("hidden")})))},onUserPopulated:function(){this.homeUsers.fetch().done(s().bind(this.onHomeUsersPopulated,this)).fail(s().bind(this.onError,this))},onHomeUsersPopulated:function(e){this.showList(e)},onError:function(){var e=N.Z.getActiveUser();if(e&&e.get("home")){var t={id:e.id,title:e.get("title"),protected:!!e.get("pin")};this.showList(new O.Z([t],{server:this.user.server,parent:this.user}))}else this.user.set("lockState",A.Ik.Unlocked),this.trigger("resolve")},onUserSelect:function(e,t,n){t.get("protected")?this.trigger("change:pane","pin",{model:t,showBackButton:!0,openAddManagedUser:n,focusDelay:0}):this.selectUser(t,n)}});var _=n(30290),H=n.n(_);const Q=d.Z.extend({name:"userSelectModal",className:"user-select-modal modal modal-transparent fade",template:H(),transparent:!0,panes:{users:F,pin:T},regions:{content:".modal-content",alertBar:".modal-alert"},initialize:function(e){d.Z.prototype.initialize.apply(this,arguments);var t=o.DB("appModel");this.options=e,this.isForced=e.isForced,this.user=t.get("user"),this.promise=i().Deferred()},showPane:function(e,t){this.currentPane&&this.stopListening(this.currentPane);var n=new(0,this.panes[e])(s().extend({},this.options,t));return this.listenTo(n,{"change:pane":this.onChangePane,resolve:this.onResolve,reject:this.onReject}),this.currentPane=n,this.content.show(n),n},showAlertBar:function(){const e=l.Z[0];l.Z.length=0,this.alertBar.show(new h({alert:e}))},onRender:function(){d.Z.prototype.onRender.apply(this,arguments),this.model?this.showPane("pin",{focusDelay:this.focusDelay}):this.showPane("users"),this.showAlertBar()},onHide:function(e){d.Z.prototype.onHide.apply(this,arguments),"pending"===this.promise.state()&&this.promise.reject()},onChangePane:function(e,t){this.showPane(e,t)},onResolve:function(e,t){null==c.Z.continueUrl||this.options.isEditing?(t&&(window.location="#!/settings/users-sharing?addManagedUser=1"),this.promise.resolve(e),this.hide()):window.location=c.Z.continueUrl},onReject:function(){this.promise.reject(),this.hide()}})},57501:(e,t,n)=>{"use strict";n.d(t,{Z:()=>_t});var r=n(67294),i=n(69605),a=n(2424),s=n(37703),o=n(22222),l=n(81017),c=n(24781),d=n(35871),u=n(5562),p=n(22745),m=n(37084),h=n(70182),g=n(79849),y=n(56510),v=n(60528),f=n(90653),b=n(84807),I=n(89460),S=n(40691),M=n(64795),E=n(13550);const P=function(e){const{children:t,metadataItem:n,isAddingHomeUser:i,isCreatingManagedUser:a,isSharingSingleLibrary:s,errorMessage:o,onModalClose:l}=e;let c;return c=n?(0,u.Z)("Share {metadataTitle}",{metadataTitle:(0,E.Z)(n,b.U)}):i?(0,u.Z)("Invite Home User"):a?(0,u.Z)("Create Managed User"):s?(0,u.Z)("Share Library"):(0,u.Z)("Add A Friend"),r.createElement(M.Z,{onModalClose:l},r.createElement(I.Z,null,c),o?r.createElement(S.Z,{errorMessage:o}):null,t)};var D=n(58300),C=n(44352);var w=Object.defineProperty,Z=Object.prototype.hasOwnProperty,T=Object.getOwnPropertySymbols,N=Object.prototype.propertyIsEnumerable,O=(e,t,n)=>t in e?w(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const A={onNext:d.wV},x=(0,s.$j)(null,A)((function(e){const t=e,{onNext:n,onModalClose:i}=t,a=((e,t)=>{var n={};for(var r in e)Z.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&T)for(var r of T(e))t.indexOf(r)<0&&N.call(e,r)&&(n[r]=e[r]);return n})(t,["onNext","onModalClose"]);return r.createElement(m.ZP,{className:"InviteHomeUserWarning-form-27FDaQ",onSubmit:n},r.createElement(P,((e,t)=>{for(var n in t||(t={}))Z.call(t,n)&&O(e,n,t[n]);if(T)for(var n of T(t))N.call(t,n)&&O(e,n,t[n]);return e})({onModalClose:i},a),r.createElement(h.Z,{className:"InviteHomeUserWarning-modalBody-25mxLk ModalBody-modalBody-38ercY",scrollDirection:f.Hn},r.createElement(C.Z,{className:"InviteHomeUserWarning-warning-3nJ-Zs"}),r.createElement("div",null,(0,u.Z)("Inviting other users to your home is a security risk that could allow these users to access your account. You should only do this if you live in the same home and share devices."))),r.createElement(g.Z,null,r.createElement(y.Z,null,r.createElement(p.Z,{onPress:i},(0,u.Z)("Cancel")),r.createElement(D.Z,{type:"submit",kind:v._8},(0,u.Z)("Continue"))))))}));var j=n(39365),L=n(74253),k=n(90354),R=n(15041),z=n(45428),U=n(58801),V=n(35589),B=n(91995),F=n(6103),_=n(21914),H=n(7796),Q=n(20723),G=n(51221);var W=Object.defineProperty,Y=Object.prototype.hasOwnProperty,K=Object.getOwnPropertySymbols,q=Object.prototype.propertyIsEnumerable,$=(e,t,n)=>t in e?W(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const J=(0,G.Z)((function(e){return r.createElement(Q.Z,((e,t)=>{for(var n in t||(t={}))Y.call(t,n)&&$(e,n,t[n]);if(K)for(var n of K(t))q.call(t,n)&&$(e,n,t[n]);return e})({className:"ShareServerLibrariesServerTitle-input-205-oc CheckInput-label-3NzSDF"},e))}));var X=Object.defineProperty,ee=Object.prototype.hasOwnProperty,te=Object.getOwnPropertySymbols,ne=Object.prototype.propertyIsEnumerable,re=(e,t,n)=>t in e?X(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;function ie(e){return r.createElement(Q.Z,((e,t)=>{for(var n in t||(t={}))ee.call(t,n)&&re(e,n,t[n]);if(te)for(var n of te(t))ne.call(t,n)&&re(e,n,t[n]);return e})({},e))}ie.defaultProps={className:"ShareServerLibrary-input-3n-cWI CheckInput-input-3u8_kT"};const ae=(0,G.Z)(ie),se=parseInt(H.Z.serverShareListRowHeight,10);class oe extends r.Component{constructor(e,t){super(e,t),this.onTogglePress=()=>{this.setState({isCollapsed:!this.state.isCollapsed})},this.onAllLibrariesToggle=()=>{this.setState({isAllLibrariesChecked:!this.state.isAllLibrariesChecked})};const{sourceServer:n,serverOverview:r,serverShare:i,selectedAllLibrariesMachineIdentifiers:a}=e;this.state={isCollapsed:n.machineIdentifier!==V.X&&n.machineIdentifier!==r.machineIdentifier,isAllLibrariesChecked:null!=a?a.includes(r.machineIdentifier):!(!i||!i.allLibraries)}}render(){const{sourceDirectory:e,sourceServer:t,serverOverview:n,serverShare:i,selectedLibrarySectionIDs:a}=this.props,{isAllLibrariesChecked:s,isCollapsed:o}=this.state,{machineIdentifier:l,name:c,sections:d}=n,p={maxHeight:o?0:(d.length||1)*se},m=e&&e.id;let h=c;return s&&(h+=` (${(0,u.Z)("All Libraries")})`),r.createElement(r.Fragment,null,r.createElement("div",{className:"ShareServerLibraries-header-2KZeGo"},r.createElement(F.Z,{className:s?"ShareServerLibraries-toggleButtonHidden-3DLUZN ShareServerLibraries-toggleButton-1nq4dd Link-link-CM9nxg":"ShareServerLibraries-toggleButton-1nq4dd Link-link-CM9nxg",onPress:this.onTogglePress},r.createElement(B.Z,{direction:o?_.pX:_.WV})),r.createElement(J,{name:JSON.stringify({[R.I]:l}),checkboxText:h,initialValue:s,onChange:this.onAllLibrariesToggle})),r.createElement("div",{className:"ShareServerLibraries-libraries-2twLie",style:p},s||0!==d.length?null:r.createElement("div",{className:"ShareServerLibraries-emptyMessage-2TetM6"},(0,u.Z)("No libraries")),d.map((e=>{const{id:n,key:o,title:c}=e;let d;if(null!=a)d=a.includes(n);else{const e=t.machineIdentifier===l&&m===o,r=!!(i&&i.libraries&&i.libraries.find((e=>e.id===n)));d=e||r}return r.createElement(ae,{key:n,className:s?"ShareServerLibraries-hidden-3vhUoS":void 0,name:JSON.stringify({[R.n]:n}),checkboxText:c,initialValue:d})}))))}}const le=oe,ce=function(e){const{sourceDirectory:t,sourceServer:n,serverOverviews:i,serverShares:a,selectedAllLibrariesMachineIdentifiers:s,selectedLibrarySectionIDs:o,hasNextStep:l,isPopulating:c,showList:d,isNewFriend:b,isAddingHomeUser:I,isCreatingManagedUser:S,isSharingPending:M,errorMessage:E,onPreviousStep:C,onSubmit:w,onModalClose:Z}=e;let T;return T=l?(0,u.Z)("Continue"):S?(0,u.Z)("Add"):b?(0,u.Z)("Send"):(0,u.Z)("Save"),r.createElement(m.ZP,{className:"ShareLibraries-form-2HKiEq",onSubmit:w},r.createElement(P,{isAddingHomeUser:I,isCreatingManagedUser:S,isSharingSingleLibrary:!!t,errorMessage:E,onModalClose:Z},r.createElement(h.Z,{className:"ShareLibraries-modalBody-p-R5Zc ModalBody-modalBody-38ercY",scrollDirection:f.Hn},r.createElement("div",{className:"ShareLibraries-message-3bWSGl"},(0,u.Z)("Choose some libraries to share.")),c?r.createElement("div",{className:"ShareLibraries-spinnerContainer-35uJwB"},r.createElement(U.Z,null)):null,d?r.createElement(z.Z,{className:"ShareLibraries-scroller-1TV7LQ Scroller-vertical-3IY07c",autoScroll:!0},i.map((e=>{const{machineIdentifier:i}=e,l=a.find((e=>e.machineIdentifier===i));return r.createElement(le,{key:i,sourceDirectory:t,sourceServer:n,serverOverview:e,serverShare:l,selectedAllLibrariesMachineIdentifiers:s,selectedLibrarySectionIDs:o})}))):null),r.createElement(g.Z,{className:"ShareLibraries-modalFooter-2e23aF ModalFooter-modalFooter-1Q0cxs"},r.createElement(p.Z,{onPress:Z},(0,u.Z)("Cancel")),r.createElement(y.Z,null,r.createElement(p.Z,{onPress:C},(0,u.Z)("Previous")),r.createElement(D.Z,{type:"submit",kind:v._8,isDisabled:c||M,isSpinning:M},T)))))};var de=Object.defineProperty,ue=Object.prototype.hasOwnProperty,pe=Object.getOwnPropertySymbols,me=Object.prototype.propertyIsEnumerable,he=(e,t,n)=>t in e?de(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ge=(e,t)=>{for(var n in t||(t={}))ue.call(t,n)&&he(e,n,t[n]);if(pe)for(var n of pe(t))me.call(t,n)&&he(e,n,t[n]);return e};const ye={dispatchFetchServerOverviews:d.ly,dispatchFetchServerShares:d.vX,dispatchSetLibraryShares:d.jD,onPreviousStep:d.Es};class ve extends r.Component{constructor(){super(...arguments),this.onSubmit=e=>{const t=Object.keys(e).reduce(((t,n)=>{if(!e[n])return t;const r=JSON.parse(n);return r.hasOwnProperty(R.n)&&t.selectedLibrarySectionIDs.push(r[R.n]),r.hasOwnProperty(R.I)&&t.selectedAllLibrariesMachineIdentifiers.push(r[R.I]),t}),{selectedAllLibrariesMachineIdentifiers:[],selectedLibrarySectionIDs:[]});this.props.dispatchSetLibraryShares(t)}}componentDidMount(){const{friendEntityID:e,sharingEligibleServerEntityIDs:t,dispatchFetchServerOverviews:n,dispatchFetchServerShares:r}=this.props;n({serverEntityIDs:t}),r({friendEntityID:e})}render(){const e=this.props,{sharingEligibleServerEntityIDs:t,dispatchFetchServerOverviews:n,dispatchFetchServerShares:i}=e,a=((e,t)=>{var n={};for(var r in e)ue.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&pe)for(var r of pe(e))t.indexOf(r)<0&&me.call(e,r)&&(n[r]=e[r]);return n})(e,["sharingEligibleServerEntityIDs","dispatchFetchServerOverviews","dispatchFetchServerShares"]);return r.createElement(ce,ge(ge({},a),{onSubmit:this.onSubmit}))}}const fe=(0,s.$j)((function(){return(0,o.P1)((e=>e.ui.shareModal),L.Z,j.Z,(0,k.Z)(),((e,t,n,r)=>{const{steps:i,serverOverviews:a,selectedAllLibrariesMachineIdentifiers:s,selectedLibrarySectionIDs:o,isNewFriend:l,isServerOverviewsPopulating:u,isServerOverviewsPopulated:p,isServerSharesPopulating:m,isServerSharesPopulated:h,isSharingPending:g,sharingError:y,serverSharesError:v}=e,f=u||m,b=p&&h,I=v||y;return{sharingEligibleServerEntityIDs:n,sourceServer:t,serverOverviews:a,selectedAllLibrariesMachineIdentifiers:s,selectedLibrarySectionIDs:o,serverShares:r?r.serverShares:[],hasNextStep:(0,d.$i)(i,c.p.LIBRARIES),isPopulating:f&&!I,isSharingPending:g&&!I,showList:b,isNewFriend:l,errorMessage:I}}))}),ye)(ve);var be=n(13209),Ie=n(59701),Se=n(55885),Me=n(68187),Ee=n(45399),Pe=n(96909),De=n(82378);var Ce=Object.defineProperty,we=Object.prototype.hasOwnProperty,Ze=Object.getOwnPropertySymbols,Te=Object.prototype.propertyIsEnumerable,Ne=(e,t,n)=>t in e?Ce(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const Oe=(0,G.Z)((function(e){const t=e,{subtitle:n}=t,i=((e,t)=>{var n={};for(var r in e)we.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&Ze)for(var r of Ze(e))t.indexOf(r)<0&&Te.call(e,r)&&(n[r]=e[r]);return n})(t,["subtitle"]);return r.createElement("div",{className:"ShareRestrictionsCheckInputItem-container-1At6N0"},r.createElement(Q.Z,((e,t)=>{for(var n in t||(t={}))we.call(t,n)&&Ne(e,n,t[n]);if(Ze)for(var n of Ze(t))Te.call(t,n)&&Ne(e,n,t[n]);return e})({size:De.HC},i)),n?r.createElement("span",{className:"ShareRestrictionsCheckInputItem-subtitle-2idVzm"},n):null)}));var Ae=n(40498),xe=n(69881),je=n(32003),Le=n(38625),ke=n(79872);const Re="ShareRestrictionsFilters-section-1oxtDi";var ze=Object.defineProperty,Ue=Object.prototype.hasOwnProperty,Ve=Object.getOwnPropertySymbols,Be=Object.prototype.propertyIsEnumerable,Fe=(e,t,n)=>t in e?ze(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,_e=(e,t)=>{for(var n in t||(t={}))Ue.call(t,n)&&Fe(e,n,t[n]);if(Ve)for(var n of Ve(t))Be.call(t,n)&&Fe(e,n,t[n]);return e};const He=function(e){const t=e,{className:n,friendFilterOptions:i}=t,a=((e,t)=>{var n={};for(var r in e)Ue.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&Ve)for(var r of Ve(e))t.indexOf(r)<0&&Be.call(e,r)&&(n[r]=e[r]);return n})(t,["className","friendFilterOptions"]),{filterMovies:s,filterTelevision:o,filterMusic:l}=i,c=(0,Le.Z)(s,Ae.ZO,Ae.Jm),d=(0,Le.Z)(s,Ae.GP,Ae.Bi),p=(0,Le.Z)(o,Ae.ZO,Ae.Jm),m=(0,Le.Z)(o,Ae.GP,Ae.Bi),h=(0,Le.Z)(l,Ae.GP,Ae.Bi);return r.createElement("div",{className:n},r.createElement("div",{className:Re},r.createElement("div",null,(0,u.Z)("Content Restrictions"),r.createElement(b.Z,null),je.ZP.get(je.MB).title),r.createElement(ke.Z,_e({name:"moviesContentRatings",metadataType:xe.MOVIE,tagType:Ae.ZO,initialValue:c.initialAllowTags,excludedTags:c.excludeTags,onChange:c.onAllowTagsChange},a)),r.createElement(ke.Z,_e({name:"moviesExcludeContentRatings",metadataType:xe.MOVIE,tagType:Ae.Jm,initialValue:c.initialExcludeTags,excludedTags:c.allowTags,onChange:c.onExcludeTagsChange},a)),r.createElement(ke.Z,_e({name:"moviesLabels",metadataType:xe.MOVIE,tagType:Ae.GP,initialValue:d.initialAllowTags,excludedTags:d.excludeTags,onChange:d.onAllowTagsChange},a)),r.createElement(ke.Z,_e({name:"moviesExcludeLabels",metadataType:xe.MOVIE,tagType:Ae.Bi,initialValue:d.initialExcludeTags,excludedTags:d.allowTags,onChange:d.onExcludeTagsChange},a))),r.createElement("div",{className:Re},r.createElement("div",null,(0,u.Z)("Content Restrictions"),r.createElement(b.Z,null),je.ZP.get(je.TV).title),r.createElement(ke.Z,_e({name:"televisionContentRatings",metadataType:xe.SHOW,tagType:Ae.ZO,initialValue:p.initialAllowTags,excludedTags:p.excludeTags,onChange:p.onAllowTagsChange},a)),r.createElement(ke.Z,_e({name:"televisionExcludeContentRatings",metadataType:xe.SHOW,tagType:Ae.Jm,initialValue:p.initialExcludeTags,excludedTags:p.allowTags,onChange:p.onExcludeTagsChange},a)),r.createElement(ke.Z,_e({name:"televisionLabels",metadataType:xe.SHOW,tagType:Ae.GP,initialValue:m.initialAllowTags,excludedTags:m.excludeTags,onChange:m.onAllowTagsChange},a)),r.createElement(ke.Z,_e({name:"televisionExcludeLabels",metadataType:xe.SHOW,tagType:Ae.Bi,initialValue:m.initialExcludeTags,excludedTags:m.allowTags,onChange:m.onExcludeTagsChange},a))),r.createElement("div",{className:Re},r.createElement("div",null,(0,u.Z)("Content Restrictions"),r.createElement(b.Z,null),je.ZP.get(je.xF).title),r.createElement(ke.Z,_e({name:"musicLabels",metadataType:xe.ARTIST,tagType:Ae.GP,initialValue:h.initialAllowTags,excludedTags:h.excludeTags,onChange:h.onAllowTagsChange},a)),r.createElement(ke.Z,_e({name:"musicExcludeLabels",metadataType:xe.ARTIST,tagType:Ae.Bi,initialValue:h.initialExcludeTags,excludedTags:h.allowTags,onChange:h.onExcludeTagsChange},a))))};var Qe=n(26955),Ge=n(18246);const We=(0,G.Z)((function(e){const{name:t,title:n,subtitle:i,value:a,values:s,onChange:o}=e;return r.createElement("div",null,r.createElement(Qe.Z,null,n),r.createElement(Ge.Z,{name:t,value:a,values:s,size:De.HC,onChange:o}),i?r.createElement("div",{className:"ShareRestrictionsSelectInputItem-subtitle-qLF_WW"},i):null)})),Ye="ShareRestrictions-message-1guNwc",Ke="ShareRestrictions-section-3Xig3t";function qe(e){return parseInt(e,10)}const $e=function(e){const{friend:t,sourceDirectory:n,filterOptionsTags:i,isFilterOptionsTagsPopulating:a,isFilterOptionsTagsPopulated:s,canAddToHome:o,canShareTunersWithFriends:l,canShareDVR:c,canShowRestrictions:d,canShowRestrictionsFilters:b,isAddingHomeUser:I,isCreatingManagedUser:S,isSharingPending:M,errorMessage:E,onPreviousPress:w,onSubmit:Z,onModalClose:T}=e,N=!!t&&t.home,O=!t||t.allowSync,A=!!t&&t.allowCameraUpload,x=t?t.allowTuners:0,j=t?{filterMovies:t.filterMovies,filterTelevision:t.filterTelevision,filterMusic:t.filterMusic}:{},[L,k]=(0,r.useState)(N||I||S),R=L||l;return r.createElement(m.ZP,{className:"ShareRestrictions-form-256uAD",onSubmit:Z},r.createElement(P,{isAddingHomeUser:I,isCreatingManagedUser:S,isSharingSingleLibrary:!!n,errorMessage:E,onModalClose:T},r.createElement(h.Z,{className:"ShareRestrictions-modalBody-1lO7UE ModalBody-modalBody-38ercY",scrollDirection:f.Hn},r.createElement(z.Z,{className:"ShareRestrictions-scroller-1Xxpuu Scroller-vertical-3IY07c",autoScroll:!0},o?r.createElement("div",{className:Ye},(0,u.Z)("Users in your Home appear on the Switch User screen. The invited user will be asked to confirm Home membership.")):null,o?r.createElement("div",{className:Ke},r.createElement(Oe,{name:"addToHome",checkboxText:(0,u.Z)("Add to Plex Home"),initialValue:N,isDisabled:N,onChange:k})):null,L&&!S?r.createElement("div",{className:"ShareRestrictions-warningMessage-29729v ShareRestrictions-message-1guNwc"},r.createElement(C.Z,{className:"ShareRestrictions-warningIcon-2zYikI"}),(0,u.Z)("Inviting other users to your home is a security risk that could allow these users to access your account. You should only do this if you live in the same home and share devices.")):null,r.createElement("div",{className:Ye},(0,u.Z)("You can restrict this user's access to certain features and content. These restrictions apply to all items shared with this user. You can change them at any time in the Users & Sharing settings.")),r.createElement("div",{className:Ke},r.createElement(Oe,{name:"allowSync",checkboxText:(0,u.Z)("Allow Downloads"),subtitle:(0,u.Z)("This will allow this user to download content from your server"),initialValue:O}),d?r.createElement(Oe,{name:"allowCameraUpload",checkboxText:(0,u.Z)("Allow Camera Upload"),subtitle:(0,u.Z)("This will allow this user to upload media to your server"),initialValue:A}):null,R&&!c?r.createElement(Oe,{name:"allowTuners",checkboxText:(0,u.Z)("Allow access to Live TV"),subtitle:(0,u.Z)("Enabling this option will allow this user to access Live TV streams. It requires a library on the Plex Media Server that has DVR configured to be shared with the user"),initialValue:!!x}):null,R&&c?r.createElement(We,{name:"allowTuners",title:(0,u.Z)("Live TV & DVR Access"),subtitle:(0,u.Z)("Enabling Live TV for this user requires sharing a library with them. Enabling DVR will show all scheduled recordings, but this user will only be able to manage their own recordings"),initialValue:x,value:Pe.Z.values[x],values:Pe.Z.values,transformValue:qe}):null),d&&b?r.createElement(He,{className:"ShareRestrictions-list-9ihAVb",filterOptionsTags:i,friendFilterOptions:j,isFilterOptionsTagsPopulating:a,isFilterOptionsTagsPopulated:s}):null)),r.createElement(g.Z,{className:"ShareRestrictions-modalFooter-3qZD3j ModalFooter-modalFooter-1Q0cxs"},r.createElement(p.Z,{onPress:T},(0,u.Z)("Cancel")),r.createElement(y.Z,null,r.createElement(p.Z,{onPress:w},(0,u.Z)("Previous")),r.createElement(D.Z,{type:"submit",kind:v._8,isDisabled:M,isSpinning:M},S?(0,u.Z)("Add"):(0,u.Z)("Send"))))))};var Je=Object.defineProperty,Xe=Object.prototype.hasOwnProperty,et=Object.getOwnPropertySymbols,tt=Object.prototype.propertyIsEnumerable,nt=(e,t,n)=>t in e?Je(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,rt=(e,t)=>{var n={};for(var r in e)Xe.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&et)for(var r of et(e))t.indexOf(r)<0&&tt.call(e,r)&&(n[r]=e[r]);return n};class it extends r.Component{componentDidMount(){const{serverEntityIDs:e,dispatchFetchFilterOptionsTags:t}=this.props;t(e)}render(){const e=this.props,{serverEntityIDs:t,dispatchFetchFilterOptionsTags:n}=e,i=rt(e,["serverEntityIDs","dispatchFetchFilterOptionsTags"]);return r.createElement($e,((e,t)=>{for(var n in t||(t={}))Xe.call(t,n)&&nt(e,n,t[n]);if(et)for(var n of et(t))tt.call(t,n)&&nt(e,n,t[n]);return e})({},i))}}const at=(0,s.$j)((function(){return(0,o.P1)(((e,{isAddingHomeUser:t})=>t),((e,{isCreatingManagedUser:t})=>t),(e=>e.ui.shareModal),be.Z,(0,k.Z)(),(0,Ie.Z)("hasPlexPass"),(0,Se.Z)(Ee.jq),(0,Se.Z)(Ee.LD),(0,Se.Z)(Ee.d6),((e,t,n,r,i,a,s,o,l)=>{const{restrictionProfileIdentifier:c,filterOptionsTags:d,isFilterOptionsTagsPopulating:u,isFilterOptionsTagsPopulated:p,isSharingPending:m,sharingError:h}=n;return{serverEntityIDs:r,friend:i,filterOptionsTags:d,isFilterOptionsTagsPopulating:u,isFilterOptionsTagsPopulated:p,canAddToHome:a&&!e&&!t,canShareTunersWithFriends:s,canShareDVR:o,canShowRestrictions:l,canShowRestrictionsFilters:!c||c===Me.Pq,isSharingPending:m&&!h,errorMessage:h}}))}),(function(e){return{dispatchFetchFilterOptionsTags(t){e((0,d.L1)({serverEntityIDs:t}))},onPreviousPress(){e((0,d.Es)())},onSubmit(t){const n=t,{addToHome:r}=n,i=rt(n,["addToHome"]);e((0,d.K_)({addToHome:r,restrictions:i}))}}}))(it);var st=n(45859),ot=n(84936),lt=n(99085),ct=n(30464);const dt=()=>{},ut=(0,s.$j)((function(){return(0,o.P1)((e=>e.ui.shareModal),(0,Se.Z)(Ee.OV),((e,t)=>{const{username:n,metadataItemEntityID:r,serverOverviews:i,selectedAllLibrariesMachineIdentifiers:a,selectedLibrarySectionIDs:s,inviteToken:o,inviteTokenError:l}=e;return{username:n,inviteToken:o,inviteTokenError:l,libraryCount:a?a.reduce(((e,t)=>e+i.find((e=>e.machineIdentifier===t)).sections.length),s.length):null,isSharingSingleItem:!!r,hasNewSharingInvitationFeature:t}}))}))((function(e){const{sourceDirectory:t,metadataItem:n,username:i,inviteToken:a,inviteTokenError:s,libraryCount:o,isSharingSingleItem:l,isAddingHomeUser:c,hasNewSharingInvitationFeature:d,onModalClose:m}=e,[I,S]=(0,r.useState)(!1),M=(0,ct.Z)(I),D=(0,r.useRef)(null),C=function(e,t,n){if(n){const n={inviteToken:e};return t?n.sharedItems=1:n.sharedServers=1,ot.Z.join(["https://app.plex.tv/auth","#!"],n)}return ot.Z.join(["https://plex.tv","servers/shared_servers/accept"],{invite_token:e})}(a,l,d),w=(0,r.useCallback)((()=>{st.writeText(C),S(!0)}),[C]);let Z;(0,r.useEffect)((()=>(!M&&I&&(D.current=window.setTimeout((()=>{S(!1),window.clearTimeout(D.current)}),2e3)),()=>{window.clearTimeout(D.current)})),[M,I]),Z=n?(0,u.Z)("You shared {metadataTitle} with {username}.",{metadataTitle:(0,E.Z)(n,b.U),username:i}):0===o||c?(0,u.Z)("We've sent an invite to {username}.",{username:i}):1===o?(0,u.Z)("You shared a library with {username}.",{username:i}):(0,u.Z)("You shared {libraryCount} libraries with {username}.",{libraryCount:o,username:i});const T=(n||o)&&!s;return r.createElement("div",{className:"ShareSummary-container-2-H9gR"},r.createElement(P,{metadataItem:n,isSharingSingleLibrary:!!t,onModalClose:m},r.createElement(h.Z,{className:"ShareSummary-modalBody-13keve ModalBody-modalBody-38ercY",scrollDirection:f.Hn},r.createElement("div",{className:"ShareSummary-content-3LA2mZ"},r.createElement("p",null,Z),T?r.createElement("p",null,(0,u.Z)("We've sent an email asking them to confirm, or they can use this link to accept the invitation"),":"):null,s?r.createElement("div",null,s):null,T?r.createElement("div",{className:"ShareSummary-inviteLink-1HXo9I"},r.createElement(lt.Z,{className:"ShareSummary-input-17CRcR TextInput-input-16EbOL input-input-3msd1_",name:"inviteLink",value:C,readOnly:"readonly",onChange:dt}),r.createElement(F.Z,{className:"ShareSummary-copyLink-2iSuoO Link-link-CM9nxg",kind:v._8,isDisabled:I||!!s,onPress:w},I?(0,u.Z)("Copied!"):(0,u.Z)("Copy link"))):null)),r.createElement(g.Z,null,r.createElement(y.Z,null,r.createElement(p.Z,{kind:v._8,onPress:m},(0,u.Z)("Finish"))))))}));var pt=n(2530);const mt={};var ht=n(34891),gt=n(52581),yt=n(82261),vt=n(43666),ft=n(32448),bt=n(86970),It=n(52114);function St(e){return e.includes("@")}function Mt(e,t){return!e.home&&t.home?1:e.home&&!t.home?-1:0}function Et(e){return{id:-1,title:e.trim(),thumb:`https://plex.tv/users/${encodeURIComponent(e)}/avatar`}}class Pt extends r.Component{constructor(e,t){super(e,t),this.isUserSelected=e=>this.state.selectedFriendID===e.id||!this.state.selectedFriendID&&this.state.username===e.title,this.onUsernameChange=e=>{this._clearOnUsernameChangeTimeout(),this.setState({username:e,selectedFriendID:null,isChangingUsername:!0},(()=>{this.props.isCreatingManagedUser||(this._timeoutID=window.setTimeout((()=>{this._timeoutID=null,this.props.onValidateUsername({username:e})}),500))}))},this.onUserSelect=e=>{this.setState({selectedFriendID:e===this.state.selectedFriendID?null:e})},this.onRestrictionProfileSelect=e=>{this.setState({restrictionProfileIdentifier:e})},this.onSubmit=({restrictionProfileIdentifier:e})=>{const{metadataItemEntityID:t,users:n,isAddingHomeUser:r,isCreatingManagedUser:i,onSetUsername:a,onSetUser:s}=this.props,{username:o,selectedFriendID:l}=this.state;l&&-1!==l?s({metadataItemEntityID:t,friendEntityID:n.find((e=>e.id===l)).entityID,isAddingHomeUser:r}):a({metadataItemEntityID:t,username:o.trim(),restrictionProfileIdentifier:e,isAddingHomeUser:r,isCreatingManagedUser:i})},this.state={username:e.username,selectedFriendID:null,isChangingUsername:!1,restrictionProfileIdentifier:e.restrictionProfileIdentifier}}static getDerivedStateFromProps(e,t){return t.isChangingUsername&&e.isUsernameValidating?{isChangingUsername:!1}:null}componentWillUnmount(){this._clearOnUsernameChangeTimeout()}_clearOnUsernameChangeTimeout(){this._timeoutID&&window.clearTimeout(this._timeoutID)}render(){const{serverEntityID:e,sourceDirectory:t,metadataItem:n,users:i,existingHomeUsernames:a,hasNextStep:s,hasPlexPass:o,isAddingHomeUser:l,isCreatingManagedUser:c,isUsernameValidating:d,isUsernameValidated:b,isSharingPending:I,sharingError:S,onModalClose:M}=this.props,{username:E,selectedFriendID:C,isChangingUsername:w,restrictionProfileIdentifier:Z}=this.state,T=function(e,t,n){const{sourceDirectory:r,metadataItem:i,isAddingHomeUser:a,isCreatingManagedUser:s}=n,o=t.trim().toUpperCase(),l=e.filter((e=>(!a||!e.home)&&!!(r||i||a||s)&&(e.username&&e.username.toUpperCase().includes(o)||e.title&&e.title.toUpperCase().includes(o)||e.email&&e.email.toUpperCase().includes(o))));return l.sort(Mt),l}(i,E,this.props),N=!b||w||function(e,t){return!!e.find((e=>e.username===t||e.title===t||e.email===t))}(T,E)?T:[Et(E),...T],O=!d&&!b,A=!!i.find((e=>e.username===E||e.email===E)),x=w||d||O&&!St(E),j=""!==E.trim()&&!c&&0===N.length&&O&&!w,L=c&&a.includes(E.trim()),k=A&&!t&&!n&&!l&&!c;let R;var z;let V;j?R=St(z=E)?(0,u.Z)("An invite will be sent to {emailAddress}",{emailAddress:z.trim()}):(0,u.Z)("No Plex users found. Enter a valid email address to invite someone new"):L?R=(0,u.Z)("A Home user already exists with this name"):k&&(R=(0,u.Z)("{username} is already a friend",{username:E})),V=!n&&s?(0,u.Z)("Continue"):c?(0,u.Z)("Add"):(0,u.Z)("Send");const B=k||!C&&(I||""===E.trim()||!c&&x||L);return r.createElement(m.ZP,{className:"ShareUsers-form-1YpoGD",onSubmit:this.onSubmit},r.createElement(P,{metadataItem:n,isAddingHomeUser:l,isCreatingManagedUser:c,isSharingSingleLibrary:!!t,errorMessage:S,onModalClose:M},r.createElement(h.Z,{className:"ShareUsers-modalBody-XR4Q8k ModalBody-modalBody-38ercY",scrollDirection:f.Hn},r.createElement("div",{className:"ShareUsers-messages-19WYJG"},r.createElement("div",null,function(e,t){return e?(0,u.Z)("Users in your Home appear on the Switch User screen."):t?(0,u.Z)("Managed users are only available when signed in with an account in your home."):(0,u.Z)("Choose a user to invite. You can enter their Plex username or email.")}(l,c)),r.createElement("div",null,function(e,t){return e?(0,u.Z)("The invited user will be asked to confirm Home membership."):t?(0,u.Z)("You can choose any name you like and you'll be able to set restrictions on accessible media."):(0,u.Z)("New users will be asked to accept the invitation.")}(l,c))),r.createElement("div",{className:"ShareUsers-inputContainer-1btQbV"},r.createElement(lt.Z,{name:"username",autoComplete:"off",placeholder:c?(0,u.Z)("Username"):(0,u.Z)("Username or email"),value:E,focusOnMount:!0,onChange:this.onUsernameChange}),d?r.createElement(U.Z,{className:"ShareUsers-icon-3JP7sw",size:De.HC}):null,b?r.createElement(ft.Z,{className:"ShareUsers-checkIcon-zgEqGt ShareUsers-icon-3JP7sw"}):null),r.createElement("div",{className:"ShareUsers-warningMessage-2TlQRa"},R),c?r.createElement(bt.Z,{name:"restrictionProfileIdentifier",className:"ShareUsers-restrictionsInput-2M7YcL RestrictionProfilesInput-input-3zuRzj SelectInput-input-_K0kCK input-input-3msd1_",initialValue:Z,hasPlexPass:o,onChange:this.onRestrictionProfileSelect}):null,!c&&N.length>0?r.createElement(r.Fragment,null,r.createElement(Qe.Z,null,(0,u.Z)("Users")),r.createElement(It.Z,{className:"ShareUsers-list-15h-Ir UserList-list-3MJnr9 Scroller-vertical-3IY07c",serverEntityID:e,users:N,isUserSelected:this.isUserSelected,onUserSelect:this.onUserSelect})):null),r.createElement(g.Z,null,r.createElement(y.Z,null,r.createElement(p.Z,{onPress:M},(0,u.Z)("Cancel")),r.createElement(D.Z,{type:"submit",kind:v._8,isDisabled:B,isSpinning:I},V)))))}}const Dt=Pt;var Ct=Object.defineProperty,wt=Object.prototype.hasOwnProperty,Zt=Object.getOwnPropertySymbols,Tt=Object.prototype.propertyIsEnumerable,Nt=(e,t,n)=>t in e?Ct(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const Ot=(0,o.P1)(gt.Z,function(e){if(mt.homeUsers)return mt.homeUsers;const t=(0,o.P1)(pt.Z,(e=>e.homeUsers));return mt.homeUsers=t,t}(),((e,t)=>t.map((t=>e[t].title)))),At={dispatchFetchAllFriends:vt.Tp,onValidateUsername:d.rV,onSetUsername:d.b6,onSetUser:d.av},xt=(0,s.$j)((function(){return(0,o.P1)((e=>e.ui.shareModal),yt.Z,ht.Z,Ot,(0,Ie.Z)("hasPlexPass"),((e,t,n,r,i)=>{const{steps:a,username:s,restrictionProfileIdentifier:o,isNewFriend:l,isUsernameValidating:u,isUsernameValidated:p,isSharingPending:m,sharingError:h}=e;return{username:s,restrictionProfileIdentifier:o,users:t.map((e=>n[e])),existingHomeUsernames:r,hasNextStep:(0,d.$i)(a,c.p.USER),hasPlexPass:i,isNewFriend:l,isUsernameValidating:u,isUsernameValidated:p,isSharingPending:m&&!h,sharingError:h}}))}),At)((function(e){const t=e,{dispatchFetchAllFriends:n}=t,i=((e,t)=>{var n={};for(var r in e)wt.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&Zt)for(var r of Zt(e))t.indexOf(r)<0&&Tt.call(e,r)&&(n[r]=e[r]);return n})(t,["dispatchFetchAllFriends"]);return(0,r.useEffect)((()=>{n()}),[n]),r.createElement(Dt,((e,t)=>{for(var n in t||(t={}))wt.call(t,n)&&Nt(e,n,t[n]);if(Zt)for(var n of Zt(t))Tt.call(t,n)&&Nt(e,n,t[n]);return e})({},i))}));var jt=Object.defineProperty,Lt=Object.prototype.hasOwnProperty,kt=Object.getOwnPropertySymbols,Rt=Object.prototype.propertyIsEnumerable,zt=(e,t,n)=>t in e?jt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Ut=(e,t)=>{for(var n in t||(t={}))Lt.call(t,n)&&zt(e,n,t[n]);if(kt)for(var n of kt(t))Rt.call(t,n)&&zt(e,n,t[n]);return e};const Vt={dispatchInitShareModal:d.Ag,dispatchResetShareModal:d.K3};class Bt extends r.Component{componentDidMount(){const{metadataItemEntityID:e,isAddingHomeUser:t,isCreatingManagedUser:n,dispatchInitShareModal:r}=this.props;r({metadataItemEntityID:e,isAddingHomeUser:t,isCreatingManagedUser:n})}componentDidUpdate(e,t){const{steps:n,step:r,isSharingCompleted:i,onModalClose:a}=this.props,s=!e.isSharingCompleted&&i,o=(0,d.TR)(n,r);s&&r!==c.p.SUMMARY&&!o&&a()}componentWillUnmount(){this.props.dispatchResetShareModal()}render(){const e=this.props,{step:t,dispatchResetShareModal:n}=e,i=((e,t)=>{var n={};for(var r in e)Lt.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&kt)for(var r of kt(e))t.indexOf(r)<0&&Rt.call(e,r)&&(n[r]=e[r]);return n})(e,["step","dispatchResetShareModal"]);switch(t){case c.p.WARNING:return r.createElement(x,Ut({},i));case c.p.USER:return r.createElement(xt,Ut({},i));case c.p.LIBRARIES:return r.createElement(fe,Ut({},i));case c.p.RESTRICTIONS:return r.createElement(at,Ut({},i));case c.p.SUMMARY:return r.createElement(ut,Ut({},i));default:return null}}}const Ft=(0,s.$j)((function(){return(0,o.P1)((e=>e.ui.shareModal),(0,l.Z)(),((e,t)=>({steps:e.steps,step:e.step,friendEntityID:e.friendEntityID,isSharingCompleted:e.isSharingCompleted,metadataItem:t})))}),Vt)(Bt),_t=function(e){const{serverEntityID:t,metadataItemEntityID:n,sourceDirectory:s,metricsProperties:o,isAddingHomeUser:l,isCreatingManagedUser:c,isOpen:d,onModalClose:u}=e;return r.createElement(a.Z,{metricsPage:i.Eu,metricsProperties:o,isOpen:d,onModalClose:u},r.createElement(Ft,{serverEntityID:t,metadataItemEntityID:n,sourceDirectory:s,isAddingHomeUser:l,isCreatingManagedUser:c,onModalClose:u}))}},79872:(e,t,n)=>{"use strict";n.d(t,{Z:()=>ve});var r=n(67294),i=n(40498),a=n(5562),s=n(9966),o=n(72566),l=n(53851),c=n(58808),d=n.n(c);const u={container:"AutosuggestInput-container-2Rg2e1",input:"AutosuggestInput-input-2yJflx",suggestionsContainer:"AutosuggestInput-suggestionsContainer-2HoMes Scroller-scroller-2Rw5pG Scroller-vertical-3IY07c Menu-menu-1qURRT",suggestionsContainerOpen:"AutosuggestInput-suggestionsContainerOpen-1hmmIV",suggestionsList:"AutosuggestInput-suggestionsList-16NkZR",suggestion:"AutosuggestInput-suggestion-aGerhj MenuItem-menuItem-1P5bZr",suggestionHighlighted:"AutosuggestInput-suggestionHighlighted-3_p8lr"};var p=Object.defineProperty,m=Object.prototype.hasOwnProperty,h=Object.getOwnPropertySymbols,g=Object.prototype.propertyIsEnumerable,y=(e,t,n)=>t in e?p(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,v=(e,t)=>{for(var n in t||(t={}))m.call(t,n)&&y(e,n,t[n]);if(h)for(var n of h(t))g.call(t,n)&&y(e,n,t[n]);return e};function f(e){const t=e,{inputComponent:n,suggestionsComponent:i,theme:a}=t,s=((e,t)=>{var n={};for(var r in e)m.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&h)for(var r of h(e))t.indexOf(r)<0&&g.call(e,r)&&(n[r]=e[r]);return n})(t,["inputComponent","suggestionsComponent","theme"]);return r.createElement(d(),v(v({},s),{renderInputComponent:n,renderSuggestionsContainer:i,theme:v(v({},u),a)}))}f.defaultProps={inputComponent:function(e){return r.createElement("input",v({type:"text"},e))}};const b=f;var I=n(94184),S=n.n(I),M=n(13469),E=n.n(M),P=n(61006),D=n(6103);class C extends r.Component{constructor(){super(...arguments),this.onPress=()=>{const{onRemove:e,index:t}=this.props;e(t)}}render(){const{className:e,removeClassName:t,tag:n,iconComponent:i,isDisabled:a,removeLabel:s,getTagDisplayValue:o}=this.props;return r.createElement("span",{className:e},a?null:r.createElement(D.Z,{className:t,"aria-label":s,onPress:this.onPress},r.createElement(i,null)),r.createElement("span",null,o(n)))}}C.defaultProps={className:"TagLabel-tag-1JpiyO",removeClassName:"TagLabel-remove-3xmQBO"};const w=C;var Z=Object.defineProperty,T=Object.prototype.hasOwnProperty,N=Object.getOwnPropertySymbols,O=Object.prototype.propertyIsEnumerable,A=(e,t,n)=>t in e?Z(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,x=(e,t)=>{for(var n in t||(t={}))T.call(t,n)&&A(e,n,t[n]);if(N)for(var n of N(t))O.call(t,n)&&A(e,n,t[n]);return e},j=(e,t)=>{var n={};for(var r in e)T.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&N)for(var r of N(e))t.indexOf(r)<0&&O.call(e,r)&&(n[r]=e[r]);return n};class L extends r.Component{constructor(e,t){super(e,t),this.addTag=e=>this._addTags([e]),this.setInputRef=e=>{this.inputRef=e},this.setDivRef=e=>{this.divRef=e},this.onPaste=e=>{const{addOnPaste:t,pasteSplit:n,makeTag:r}=this.props;if(!t)return;e.preventDefault();const i=n(function(e){return window.clipboardData?window.clipboardData.getData("Text"):e.clipboardData?e.clipboardData.getData("text/plain"):""}(e)).map((e=>r(e)));this._addTags(i)},this.onKeyDown=e=>{const{onKeyDown:t}=this.props.inputProps;if(t&&t(e),e.defaultPrevented)return;const{value:n,removeKeys:r,addKeys:i,inputValue:a}=this.props,s=""===a,o=e.keyCode,l=-1!==i.indexOf(o),c=-1!==r.indexOf(o);l&&(this._accept()||o===P.K5)&&e.preventDefault(),c&&n.length>0&&s&&(e.preventDefault(),this._removeTag(n.length-1))},this.onClick=e=>{e.target===this.divRef&&(this.inputRef&&"function"==typeof this.inputRef.focus&&this.inputRef.focus(),this.onFocus())},this.onChange=e=>{const{onInputChange:t}=this.props,{onChange:n}=this.props.inputProps,r=e.target.value;n&&n(e),t(r)},this.onFocus=e=>{const{onFocus:t}=this.props.inputProps;t&&t(e),this.setState({isFocused:!0})},this.onBlur=e=>{const{onBlur:t}=this.props.inputProps;if(this.setState({isFocused:!1}),null!=e&&(t&&t(e),this.props.addOnBlur)){const t=this.props.makeTag(e.target.value);this._addTags([t])}},this.onRemove=e=>{this._removeTag(e)},this.state={isFocused:!1}}componentDidUpdate(e){const{value:t,excludedTags:n}=this.props;n!==e.excludedTags&&n.forEach((e=>{const n=t.findIndex((t=>t===e));this._removeTag(n)}))}_removeTag(e){if(e>-1&&e<this.props.value.length){const t=this.props.value.slice(0),n=t.splice(e,1);this.props.onChange(t,n,[e])}}_clearInput(){this.props.onInputChange("")}_addTags(e){const{validationRegex:t,onlyUnique:n,maxTags:r,value:i,getTagValue:a,onChange:s,onValidationReject:o}=this.props;let l;if(n&&(e=E().uniq(e,(e=>a(e)))),t&&(l=e.filter((e=>!t.test(a(e)))),e=e.filter((e=>t.test(a(e))))),e=e.filter((e=>{const t=a(e);return t?t.trim().length>0:t})),r>=0){const t=Math.max(r-i.length,0);e=e.slice(0,t)}if(o&&l&&l.length>0&&o(l),e.length>0){let t=i.concat(e);const r=[];for(let t=0;t<e.length;t++)r.push(i.length+t);n&&(t=E().uniq(t,(e=>a(e))));const o=t.length!==i.length;return o&&s(t,e,r),this._clearInput(),o}return this._clearInput(),!1}_accept(){let e=this.props.inputValue;return""!==e&&(e=this.props.makeTag(e),this._addTags([e]))}inputProps(){const{value:e,inputProps:t}=this.props,n=t,{placeholder:r,onChange:i,onFocus:a,onBlur:s}=n,o=j(n,["placeholder","onChange","onFocus","onBlur"]),l=x({className:"TagsInput-input-3r732K",placeholder:e.length?"":r},o);return this.props.isDisabled&&(l.isDisabled=!0),l}render(){const{id:e,className:t,errorClassName:n,focusedClassName:i,hasError:a,value:s,inputValue:o,getTagValue:l,getTagDisplayValue:c,tagProps:d,tagComponent:u,inputComponent:p,isDisabled:m}=this.props,{isFocused:h}=this.state;return r.createElement("div",{id:e,className:S()(t,h&&i,a&&n),ref:this.setDivRef,onClick:this.onClick},s.map(((e,t)=>r.createElement(u,x({key:`${l(e)}-${t}`,index:t,tagCount:s.length,tag:e,isDisabled:m,getTagDisplayValue:c,onRemove:this.onRemove},d)))),r.createElement(p,x(x({key:"input",inputRef:this.setInputRef,value:o},this.inputProps()),{addTag:this.addTag,onPaste:this.onPaste,onKeyDown:this.onKeyDown,onChange:this.onChange,onFocus:this.onFocus,onBlur:this.onBlur})))}}L.defaultProps={className:"TagsInput-tagsInput-1FUjn7",errorClassName:"TagsInput-hasError-3NSoXh input-hasError-2b8Ur9",addKeys:[P.Mf,P.K5],addOnBlur:!1,addOnPaste:!1,inputProps:{},removeKeys:[P.ZH],inputComponent:function(e){const t=e,{inputRef:n,addTag:i}=t,a=j(t,["inputRef","addTag"]);return r.createElement("input",x({type:"text",ref:n},a))},tagComponent:w,pasteSplit:function(e){return e.split(" ").map((e=>e.trim()))},tagProps:{},onlyUnique:!0,maxTags:-1,excludedTags:[],validationRegex:null,isDisabled:!1,getTagDisplayValue:e=>e,getTagValue:e=>e,makeTag:e=>e};const k=L;var R=Object.defineProperty,z=Object.prototype.hasOwnProperty,U=Object.getOwnPropertySymbols,V=Object.prototype.propertyIsEnumerable,B=(e,t,n)=>t in e?R(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,F=(e,t)=>{for(var n in t||(t={}))z.call(t,n)&&B(e,n,t[n]);if(U)for(var n of U(t))V.call(t,n)&&B(e,n,t[n]);return e},_=(e,t)=>{var n={};for(var r in e)z.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&U)for(var r of U(e))t.indexOf(r)<0&&V.call(e,r)&&(n[r]=e[r]);return n};const H={placement:"bottom-start",modifiers:[{name:"preventOverflow",enabled:!1},{name:"flip",enabled:!1},{name:"maxSize",enabled:!0,phase:"beforeWrite",requiresIfExists:["offset","preventOverflow","flip"],fn({state:e,name:t,options:n}){const r=(0,s.Z)(e,n),{y:i}=e.modifiersData.preventOverflow||{x:0,y:0},{height:a}=e.rects.popper,[o]=e.placement.split("-"),l="top"===o?"top":"bottom";e.styles.popper.maxHeight=a-r[l]-i-14+"px",e.styles.popper.width=`${e.rects.reference.width}px`}}]};class Q extends r.Component{constructor(e,t){super(e,t),this.setTagsInputRef=e=>{this.tagsInputRef=e},this.onInputChange=e=>{this.setState({inputValue:e})},this.onSuggestionSelected=(e,{suggestion:t})=>{this.tagsInputRef.addTag(this.props.makeTagFromSuggestion(t))},this.onInputFocus=(e,t)=>{this.setState({isMenuOpen:!0},(()=>t(e)))},this.onWindowPress=e=>{const t=this.suggestRef.current,n=t&&t.contains(e.target),r=!n&&document.getElementById(this.inputID),i=r&&r.contains(e.target);n||i||this.setState({isMenuOpen:!1})},this.renderInputComponent=e=>{var t=e,{ref:n}=t,i=_(t,["ref"]);const{className:a,shouldRenderSuggestions:s,tagComponent:o,validationRegex:l,value:c,makeTag:d,getTagDisplayValue:u,getTagValue:p,tagProps:m,excludedTags:h,onChange:g}=this.props,{inputValue:y}=this.state;return r.createElement(k,{id:this.inputID,className:a,inputValue:y,inputProps:F(F({},i),{inputRef:n,onFocus:e=>{this.onInputFocus(e,i.onFocus)}}),tagProps:m,value:c,validationRegex:l,tagComponent:o,addOnBlur:!s(y),getTagValue:p,getTagDisplayValue:u,makeTag:d,excludedTags:h,ref:this.setTagsInputRef,onInputChange:this.onInputChange,onChange:g})},this.renderSuggestionsComponent=e=>{const t=e,{containerProps:n}=t,i=n,{ref:a}=i,s=_(i,["ref"]),{children:l}=t;return a(this.suggestRef.current),r.createElement(o.Z,F({target:this.inputID,isOpen:this.state.isMenuOpen,options:H,ref:this.suggestRef},s),l)},this.state={inputValue:"",isMenuOpen:!1},this.suggestRef=r.createRef(),this.inputID=(0,l.Z)()}componentDidUpdate(e,t){!t.isMenuOpen&&this.state.isMenuOpen?this._enable():t.isMenuOpen&&!this.state.isMenuOpen&&this._disable()}_enable(){document.addEventListener("mouseup",this.onWindowPress),document.addEventListener("touchend",this.onWindowPress)}_disable(){document.removeEventListener("mouseup",this.onWindowPress),document.removeEventListener("touchend",this.onWindowPress)}render(){const{placeholder:e,suggestions:t,getAddSuggestionTag:n,getSuggestionValue:i,renderSuggestion:a,suggestionsFilter:s,shouldRenderSuggestions:o,theme:l,onSuggestionsClearRequested:c,onSuggestionsFetchRequested:d}=this.props,{inputValue:u}=this.state,p=n&&u.length>0?[n(u)]:[],m=t.reduce(((e,t)=>(s(t,u)&&e.push(t),e)),p);return r.createElement(b,{suggestions:m,shouldRenderSuggestions:o,getSuggestionValue:i,renderSuggestion:a,focusInputOnSuggestionClick:!1,highlightFirstSuggestion:!0,inputProps:{value:u,placeholder:e,onChange:(e,{newValue:t,method:n})=>{"enter"===n&&e.preventDefault(),"enter"===n||"click"===n?this.setState({isMenuOpen:!1}):"type"===n&&this.setState({isMenuOpen:!0})}},theme:F({input:"AutosuggestTagsInput-input-r14wKU TagsInput-input-3r732K"},l),inputComponent:this.renderInputComponent,suggestionsComponent:this.renderSuggestionsComponent,onSuggestionSelected:this.onSuggestionSelected,onSuggestionsClearRequested:c,onSuggestionsFetchRequested:d})}}Q.defaultProps={className:"AutosuggestTagsInput-tagsInput-1DWK8B TagsInput-tagsInput-1FUjn7",suggestions:[],value:[],shouldRenderSuggestions:()=>!1};const G=Q;var W=n(48663),Y=n(72761),K=n(45558),q=n(51221),$=Object.defineProperty,J=Object.prototype.hasOwnProperty,X=Object.getOwnPropertySymbols,ee=Object.prototype.propertyIsEnumerable,te=(e,t,n)=>t in e?$(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const ne=(0,q.Z)((function(e){const t=e,{formGroupClassName:n,formLabelClassName:i,name:a,labelText:s,helpText:o,showErrors:l,errors:c,children:d}=t,u=((e,t)=>{var n={};for(var r in e)J.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&X)for(var r of X(e))t.indexOf(r)<0&&ee.call(e,r)&&(n[r]=e[r]);return n})(t,["formGroupClassName","formLabelClassName","name","labelText","helpText","showErrors","errors","children"]);return r.createElement(W.Z,{className:n},d,r.createElement(K.Z,{className:i,showErrors:l,errors:c,name:a,labelText:s}),r.createElement(G,((e,t)=>{for(var n in t||(t={}))J.call(t,n)&&te(e,n,t[n]);if(X)for(var n of X(t))ee.call(t,n)&&te(e,n,t[n]);return e})({name:a,hasError:l},u)),o?r.createElement(Y.Z,null,o):null)}));var re=n(53863);class ie extends r.Component{constructor(){super(...arguments),this.onRemovePress=()=>{this.props.onRemove(this.props.index)}}render(){const{tag:e,getTagDisplayValue:t}=this.props;return r.createElement("span",{className:"ShareRestrictionsTag-container-aWXIzu"},r.createElement("span",{className:"ShareRestrictionsTag-tag-1B0PIX"},r.createElement(D.Z,{className:"ShareRestrictionsTag-remove-uC41Gg TagLabel-remove-3xmQBO","aria-label":(0,a.Z)("Remove Tag"),onPress:this.onRemovePress},r.createElement(re.Z,null)),r.createElement("span",null,t(e))))}}const ae=ie,se={[i.ZO]:{labelText:()=>(0,a.Z)("Allow Only Ratings"),placeholder:()=>(0,a.Z)("Allow all ratings")},[i.Jm]:{labelText:()=>(0,a.Z)("Exclude Ratings"),placeholder:()=>(0,a.Z)("Don't exclude any ratings")},[i.GP]:{labelText:()=>(0,a.Z)("Allow Only Labels"),placeholder:()=>(0,a.Z)("Allow all labels")},[i.Bi]:{labelText:()=>(0,a.Z)("Exclude Labels"),placeholder:()=>(0,a.Z)("Don't exclude any labels")}};function oe(e){const{metadataType:t,tagType:n,filterOptionsTags:r}=e,a=n===i.ZO||n===i.Jm?i.ZO:i.GP;return r[t][a]}const le=e=>e.value,ce=e=>""===e.key?e.value:e.title,de=(e,t)=>e.title.toUpperCase().includes(t.toUpperCase()),ue=e=>({key:"",title:(0,a.Z)("Add {inputValue}",{inputValue:e}),value:e}),pe=e=>e.title,me=()=>!0,he=()=>{},ge=()=>{};class ye extends r.Component{static getDerivedStateFromProps(e,t){return!t.isFilterOptionsTagsPopulated&&e.isFilterOptionsTagsPopulated?{suggestions:oe(e),isFilterOptionsTagsPopulated:!0}:null}constructor(e,t){super(e,t);const{isFilterOptionsTagsPopulated:n}=e;this.state={suggestions:n?oe(e):[],isFilterOptionsTagsPopulated:n}}render(){const{name:e,tagType:t,initialValue:n,excludedTags:i,onChange:a}=this.props,{labelText:s,placeholder:o}=se[t];return r.createElement(ne,{getSuggestionValue:le,initialValue:n,labelText:s(),placeholder:o(),makeTagFromSuggestion:ce,tagComponent:ae,name:e,renderSuggestion:pe,shouldRenderSuggestions:me,getAddSuggestionTag:ue,suggestions:this.state.suggestions,suggestionsFilter:de,excludedTags:i,onSuggestionsClearRequested:he,onSuggestionsFetchRequested:ge,onChange:a})}}const ve=ye},86970:(e,t,n)=>{"use strict";n.d(t,{Z:()=>p});var r=n(67294),i=n(68187),a=n(5562),s=n(26955),o=n(18246),l=n(51221),c=n(82378);function d(){return i.ZH().map((e=>({[e.identifier]:e.title})))}function u(e){const{className:t,name:n,value:i,hasPlexPass:l,onChange:u}=e,p=(0,r.useMemo)(d,[]);return r.createElement("div",null,r.createElement(s.Z,null,(0,a.Z)("Restriction Profile")),r.createElement(o.Z,{className:t,name:n,value:i,values:p,size:c.HC,onChange:u}),r.createElement("div",{className:"RestrictionProfilesInput-subtitle-1MxEFT"},l?(0,a.Z)("Younger Kid allows TV-Y, G, TV-G and equivalent; Older Kid allows TV-PG, PG and equivalent; Teen allows TV-13, PG-13 and equivalent. Pick None to choose your own ratings and manage other Media Server permissions."):(0,a.Z)("Younger Kid allows TV-Y, G, TV-G and equivalent; Older Kid allows TV-PG, PG and equivalent; Teen allows TV-13, PG-13 and equivalent. With a Plex Pass, you can choose your own ratings and manage other Media Server permissions.")))}u.defaultProps={className:"RestrictionProfilesInput-input-3zuRzj SelectInput-input-_K0kCK input-input-3msd1_"};const p=(0,l.Z)(u)},52114:(e,t,n)=>{"use strict";n.d(t,{Z:()=>v});var r=n(67294),i=n(45428),a=n(32448),s=n(84807),o=n(22745),l=n(18376),c=n(45697),d=n.n(c),u=n(17845);function p(e){var t=e["aria-label"],n=e.className,i=e.style,a={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-sharing-user-home-560"};a["aria-hidden"]=!t,a.style=i,a.className=u.Z.plexIcon+(n?" "+n:"");var s=[r.createElement.apply(r,["path",{d:"M532 504H319.2V352.8h-78.4V504H28V280L280 28l252 252v224zm-168-44.8h123.2V298.557L280 91.357l-207.2 207.2V459.2H196V308h168v151.2z"}].concat([]))];return t&&s.unshift(r.createElement("title",null,t)),r.createElement.apply(r,["svg",a].concat(s))}p.propTypes={"aria-label":d().string,className:d().string,style:d().object};const m=p;class h extends r.Component{constructor(){super(...arguments),this.onPress=()=>{this.props.onSelect(this.props.user.id)}}render(){const{serverEntityID:e,user:t,isSelected:n}=this.props,{title:i,email:c,thumb:d,home:u}=t,p=c&&c!==i;return r.createElement(o.Z,{className:n?"UserListItem-selectedButton-2RoiuB UserListItem-button-1bH2-k Button-button-38SEbM Link-link-CM9nxg":"UserListItem-button-1bH2-k Button-button-38SEbM Link-link-CM9nxg",onPress:this.onPress},r.createElement(l.Z,{className:"UserListItem-avatar-7__05v AvatarImg-avatar-3gp48Z",serverEntityID:e,url:d,width:30,height:30}),r.createElement("div",{className:"UserListItem-titleContainer-e__x-P"},r.createElement("span",{className:"UserListItem-title-dZyVnY"},i),p?r.createElement("span",{className:"UserListItem-email-2x3mBa"},r.createElement(s.Z,null),c):null),n?r.createElement(a.Z,{className:"UserListItem-selectedIcon-2eZszc UserListItem-icon-28-L2o"}):null,r.createElement(m,{className:u?"UserListItem-visibleHomeIcon-2HP1-F":"UserListItem-homeIcon-3l_RUN UserListItem-icon-28-L2o"}))}}const g=h;function y(e){const{className:t,serverEntityID:n,users:a,isUserSelected:s,onUserSelect:o}=e;return r.createElement(i.Z,{className:t,autoScroll:!0},a.map((e=>r.createElement(g,{key:e.id,serverEntityID:n,user:e,isSelected:s(e),onSelect:o}))))}y.defaultProps={className:"UserList-list-3MJnr9 Scroller-vertical-3IY07c"};const v=y},61214:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var r=n(94184),i=n.n(r),a=n(67294);function s(e,t,n){return(e-t)/(n-t)*100}n(11133);var o=n(6103),l=n(47636);const c="Slider-isDragging-20u5r4";class d extends a.Component{constructor(e,t){super(e,t),this.onMouseDown=e=>{e.preventDefault(),0===e.button&&this._startDrag(e.pageX,e.pageY,!1)},this.onMouseMove=({pageX:e,pageY:t})=>{if(this.state.isDragging)return;const n=this._getValueForPosition(e,t),r=this._trackRef.current.getBoundingClientRect(),i=this.props.isVertical?{x:r.left,y:t}:{x:e,y:r.top};this.props.onMove({position:i,positionValue:n,steppedValue:this._getSteppedValue(n)})},this.onTouchStart=e=>{e.preventDefault();const t=e.touches&&e.touches[0];t&&this._startDrag(t.pageX,t.pageY,!0)},this.onDocumentMouseMove=e=>{this._drag(e.pageX,e.pageY)},this.onDocumentTouchMove=e=>{const t=e.touches&&e.touches[0];t&&this._drag(t.pageX,e.pageY)},this.onDocumentMouseUp=e=>{this._stopDrag(e.pageX,e.pageY)},this.onDocumentTouchEnd=e=>{const t=e.changedTouches&&e.changedTouches[0];t&&this._stopDrag(t.pageX,t.pageY)},this._trackRef=a.createRef(),this.state={isDragging:!1}}shouldComponentUpdate(e,t){return(0,l.Z)(this,e,t)}componentWillUnmount(){this._stopListeningForDrag()}_listenForDrag(e){e?(document.addEventListener("touchmove",this.onDocumentTouchMove),document.addEventListener("touchcancel",this.onDocumentTouchEnd),document.addEventListener("touchend",this.onDocumentTouchEnd)):(document.addEventListener("mousemove",this.onDocumentMouseMove),document.addEventListener("mouseup",this.onDocumentMouseUp))}_stopListeningForDrag(){document.removeEventListener("mousemove",this.onDocumentMouseMove),document.removeEventListener("touchmove",this.onDocumentTouchMove),document.removeEventListener("mouseup",this.onDocumentMouseUp),document.removeEventListener("touchcancel",this.onDocumentTouchEnd),document.removeEventListener("touchend",this.onDocumentTouchEnd)}_startDrag(e,t,n){this._changeValue(this._getValueForPosition(e,t)),this._listenForDrag(n),this.props.onDragStart&&this.props.onDragStart()}_drag(e,t){this.state.isDragging||(document.body.classList.add(c),this.setState({isDragging:!0})),this._changeValue(this._getValueForPosition(e,t))}_stopDrag(e,t){document.body.classList.remove(c),this._stopListeningForDrag();const n=this._getValueForPosition(e,t),r=this._getSteppedValue(n);this._changeValue(n),this.setState({isDragging:!1}),this.props.onDragComplete&&this.props.onDragComplete({positionValue:n,steppedValue:r})}_getValueForPosition(e,t){const{isVertical:n,min:r,max:i}=this.props,a=this._trackRef.current,s=a.getBoundingClientRect();let o;if(n){const e=t-document.body.scrollTop;o=(s.bottom-e)/a.offsetHeight}else o=(e-document.body.scrollLeft-s.left)/a.offsetWidth;return o=Math.min(Math.max(o,0),1),(i-r)*o+r}_getSteppedValue(e){const{min:t,max:n,stepSize:r}=this.props;if(!r)return e;const i=Math.round(e/r)*r;return Math.min(Math.max(i,t),n)}_getStickyValue(e){const{max:t,min:n,stepSize:r,stickiness:i}=this.props;if(!r||!i)return e;const a=this._getSteppedValue(e);return Math.abs(a-e)/(t-n)<i/100?a:e}_changeValue(e){const{value:t}=this.props;e!==t&&this.props.onChange({positionDelta:e-t,positionValue:e,steppedValue:this._getSteppedValue(e)})}render(){const{style:e,className:t,trackClassName:n,secondaryFillClassName:r,fillClassName:l,thumbClassName:d,thumbTrackClassName:u,label:p,tabIndex:m,value:h,min:g,max:y,secondaryMin:v,secondaryMax:f,showSecondaryFill:b,showFill:I,autoHideThumb:S,isDisabled:M,isVertical:E,onMove:P,onMouseEnter:D,onMouseLeave:C,onWheel:w}=this.props,{isDragging:Z}=this.state,T=s(this._getStickyValue(h),g,y);let N="left",O="scaleX",A="translateX";E&&(N="top",O="scaleY",A="translateY");const x=`${A}(${E?-T:T}%)`,j=v?s(this._getStickyValue(v),g,y):0,L=f?s(this._getStickyValue(f),g,y):0,k=`${O}(${Math.max((T-j)/100,0)})`,R=`${O}(${Math.max((L-j)/100,0)})`;return a.createElement("div",{style:e,className:i()(t,M&&"Slider-isDisabled-2ylAzu",Z&&c,S&&"Slider-hasAutoHideThumb-2KbSMI"),onWheel:M?null:w,onMouseEnter:M?null:D,onMouseLeave:M?null:C,onMouseDown:M?null:this.onMouseDown,onMouseMove:M||!P?null:this.onMouseMove,onTouchStart:M?null:this.onTouchStart},a.createElement("div",{className:n,ref:this._trackRef},b?a.createElement("div",{className:r,style:{[N]:v?j+"%":void 0,WebkitTransform:R,msTransform:R,transform:R}}):null,I?a.createElement("div",{className:l,style:{[N]:v?j+"%":void 0,WebkitTransform:k,msTransform:k,transform:k}}):null),a.createElement("div",{className:u,style:{WebkitTransform:x,msTransform:x,transform:x}},a.createElement(o.Z,{className:d,role:"slider",tabIndex:m,"aria-labelledby":p,"aria-valuemin":g,"aria-valuemax":y,"aria-valuenow":h,onMouseDown:this.onMouseDown,onMouseMove:P&&this.onMouseMove,onTouchStart:this.onTouchStart})))}}d.defaultProps={className:"Slider-slider-4zRCDI",trackClassName:"Slider-track-3iUWLY",fillClassName:"Slider-fill-35z5K8",secondaryFillClassName:"Slider-secondaryFill-30ToAR Slider-fill-35z5K8",thumbClassName:"Slider-thumb-1ZGojQ Link-link-CM9nxg",thumbTrackClassName:"Slider-thumbTrack-3yG9Xm",min:0,max:100,stepSize:0,stickiness:10,showFill:!1,showSecondaryFill:!1,autoHideThumb:!1,isDisabled:!1,isDragging:!1,isVertical:!1};const u=d},58801:(e,t,n)=>{"use strict";n.d(t,{Z:()=>m});var r=n(67294),i=n(5562),a=n(53757),s=Object.defineProperty,o=Object.prototype.hasOwnProperty,l=Object.getOwnPropertySymbols,c=Object.prototype.propertyIsEnumerable,d=(e,t,n)=>t in e?s(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,u=(e,t)=>{for(var n in t||(t={}))o.call(t,n)&&d(e,n,t[n]);if(l)for(var n of l(t))c.call(t,n)&&d(e,n,t[n]);return e};function p(e){return r.createElement(a.Z,u(u({},e),{loadingLabel:(0,i.Z)("Loading")}))}p.propTypes=a.Z.propTypes,p.defaultProps=a.Z.defaultProps;const m=p},90980:(e,t,n)=>{"use strict";n.d(t,{R3:()=>w,ZP:()=>N,Gb:()=>Z});var r=n(67294),i=n(37703),a=n(22222),s=n(81017),o=n(74253),l=n(55885),c=n(45399),d=n(72759),u=n(5562),p=n(61478),m=n(45206);var h=n(60316),g=n(51021),y=n(45992),v=n(34504),f=n(28889),b=n(73588),I=Object.defineProperty,S=Object.prototype.hasOwnProperty,M=Object.getOwnPropertySymbols,E=Object.prototype.propertyIsEnumerable,P=(e,t,n)=>t in e?I(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,D=(e,t)=>{for(var n in t||(t={}))S.call(t,n)&&P(e,n,t[n]);if(M)for(var n of M(t))E.call(t,n)&&P(e,n,t[n]);return e};const C=null,w={SUBSCRIBE:"subscribe",CANCEL:"cancel",REMOVE:"remove",UPSELL:"upsell"};function Z(e){const{onCancelDownloadActivity:t,onCreateDownloadSubscription:n,onDeleteDownloadSubscription:i}=e,[a,s]=(0,r.useState)({isOpen:!1,state:C}),o=(0,r.useCallback)((e=>{const t=e===w.SUBSCRIBE,r=e!==C&&!t,i=t?C:e;t&&n(),s({isOpen:r,state:i})}),[n]),l=(0,r.useCallback)((()=>s({isOpen:!1,state:C})),[]),c=(0,r.useCallback)((()=>{a.state===w.CANCEL?t():a.state===w.REMOVE&&i(),l()}),[a.state,t,l,i]);return D(D({},a),{onPress:o,onClose:l,onConfirm:c})}const T=(0,a.P1)((0,l.Z)(c.iU),(0,l.Z)(c.Ed),o.Z,((e,t,n)=>{var r;const i=t&&(null==(r=n.ownerFeatures)?void 0:r.includes(c.Ed));return!e&&!i})),N=(0,i.$j)((function(){return(0,a.P1)(((e,{isDisabled:t})=>t),(0,s.Z)(),(0,a.P1)((e=>e.downloads.states),(0,m.Z)(),(0,a.P1)((0,s.Z)(),(e=>e.ratingKey)),((e,t,n)=>e.find((e=>e.ratingKey===n&&e.sourceAttr===t)))),(e=d.sC,(0,a.P1)((0,s.Z)(),(0,m.Z)(),(0,g.Z)(e),((e,t,n)=>{const r=(0,h.Z)(t);return n.find((({Context:t})=>{let n=!1;if(t.itemKey===e.key){const e=(0,h.Z)(t.source);n=r.serverIdentifier===e.serverIdentifier&&r.providerIdentifier===e.providerIdentifier}return n}))}))),T,y.Z,((e,t,n,r,i,a)=>{const s=!!n,o=(0,f.Z)(t),l=(0,b.Z)(t),c=!l;return{canCancel:!!r&&r.cancellable,canRemove:l,canShowUpsell:!l&&i&&t.subtype!==p.PODCAST,canSubscribe:c,hasDownloadState:s,hasOfflineFile:o,hasOwnSubscription:l,isDisabled:e||!a,progress:r&&r.progress}}));var e}),(function(e,t){return{}}))((function(e){const t=e,{component:n,canCancel:i,canRemove:a,canShowUpsell:s,canSubscribe:o,metadataItemEntityID:l,metricsPage:c,providerEntityID:d,serverEntityID:p,onCancelDownloadActivity:m,onCreateDownloadSubscription:h,onDeleteDownloadSubscription:g,onPress:y}=t,f=((e,t)=>{var n={};for(var r in e)S.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&M)for(var r of M(e))t.indexOf(r)<0&&E.call(e,r)&&(n[r]=e[r]);return n})(t,["component","canCancel","canRemove","canShowUpsell","canSubscribe","metadataItemEntityID","metricsPage","providerEntityID","serverEntityID","onCancelDownloadActivity","onCreateDownloadSubscription","onDeleteDownloadSubscription","onPress"]),b=(0,r.useCallback)((()=>{let e=C;i?e=w.CANCEL:a?e=w.REMOVE:s?e=w.UPSELL:o&&(e=w.SUBSCRIBE),y&&y(e)}),[i,a,s,o,y]);let I;return I=i?(0,u.Z)("Cancel Download"):a?(0,u.Z)("Delete Download"):(0,u.Z)("Download"),r.createElement(r.Fragment,null,r.createElement(n,D(D({},f),{label:I,onPress:b})),r.createElement(v.Z,{metadataItemEntityID:l,providerEntityID:d}))}))},52097:(e,t,n)=>{"use strict";n.d(t,{Z:()=>m});var r=n(67294),i=n(5562),a=n(6103),s=n(80913);var o=Object.defineProperty,l=Object.prototype.hasOwnProperty,c=Object.getOwnPropertySymbols,d=Object.prototype.propertyIsEnumerable,u=(e,t,n)=>t in e?o(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;function p(e){const t=e,{className:n,circleClassName:o,title:p}=t,m=((e,t)=>{var n={};for(var r in e)l.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&c)for(var r of c(e))t.indexOf(r)<0&&d.call(e,r)&&(n[r]=e[r]);return n})(t,["className","circleClassName","title"]);return r.createElement(a.Z,((e,t)=>{for(var n in t||(t={}))l.call(t,n)&&u(e,n,t[n]);if(c)for(var n of c(t))d.call(t,n)&&u(e,n,t[n]);return e})({className:n,"aria-label":(0,i.Z)("Play {title}",{title:p})},m),r.createElement(s.Z,{className:o}))}p.defaultProps={className:"PlayButton-playButton-2dFmuo",circleClassName:"PlayButton-playCircle-2DYa77"};const m=p},10128:(e,t,n)=>{"use strict";n.d(t,{Z:()=>m});var r=n(67294),i=n(5562),a=n(6103),s=n(90444),o=Object.defineProperty,l=Object.prototype.hasOwnProperty,c=Object.getOwnPropertySymbols,d=Object.prototype.propertyIsEnumerable,u=(e,t,n)=>t in e?o(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;function p(e){var t=e,{className:n,circleClassName:o,iconClassName:p,title:m}=t,h=((e,t)=>{var n={};for(var r in e)l.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&c)for(var r of c(e))t.indexOf(r)<0&&d.call(e,r)&&(n[r]=e[r]);return n})(t,["className","circleClassName","iconClassName","title"]);return r.createElement(a.Z,((e,t)=>{for(var n in t||(t={}))l.call(t,n)&&u(e,n,t[n]);if(c)for(var n of c(t))d.call(t,n)&&u(e,n,t[n]);return e})({className:n,"aria-label":(0,i.Z)("Record {title}",{title:m})},h),r.createElement(s.Z,{circleClassName:o,iconClassName:p}))}p.defaultProps={className:"RecordButton-recordButton-2H5wQ_ PlayButton-playButton-2dFmuo RecordIcon-recordIconContainer-3wNYSz"};const m=p},41523:(e,t,n)=>{"use strict";n.d(t,{Z:()=>g});var r=n(94184),i=n.n(r),a=n(67294),s=n(5562),o=n(6103),l=n(35771);var c=Object.defineProperty,d=Object.prototype.hasOwnProperty,u=Object.getOwnPropertySymbols,p=Object.prototype.propertyIsEnumerable,m=(e,t,n)=>t in e?c(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;function h(e){const t=e,{className:n,selectedClassName:r,circleClassName:c,iconClassName:h,title:g,isSelected:y}=t,v=((e,t)=>{var n={};for(var r in e)d.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&u)for(var r of u(e))t.indexOf(r)<0&&p.call(e,r)&&(n[r]=e[r]);return n})(t,["className","selectedClassName","circleClassName","iconClassName","title","isSelected"]);return a.createElement(o.Z,((e,t)=>{for(var n in t||(t={}))d.call(t,n)&&m(e,n,t[n]);if(u)for(var n of u(t))p.call(t,n)&&m(e,n,t[n]);return e})({className:i()(n,y&&r),"aria-label":y?(0,s.Z)("Deselect {title}",{title:g}):(0,s.Z)("Select {title}",{title:g})},v),a.createElement("div",{className:c,"data-qa-id":"multipleSelectButton"},a.createElement(l.Z,{className:h})))}h.defaultProps={className:"SelectButton-selectButton-Yy19xn",selectedClassName:"SelectButton-isSelected-1XM2EB",circleClassName:"SelectButton-selectCircle-16d-90",iconClassName:"SelectButton-selectedIcon-3W_uCD"};const g=h},58300:(e,t,n)=>{"use strict";n.d(t,{Z:()=>m});var r=n(67294),i=n(5562),a=n(69679),s=Object.defineProperty,o=Object.prototype.hasOwnProperty,l=Object.getOwnPropertySymbols,c=Object.prototype.propertyIsEnumerable,d=(e,t,n)=>t in e?s(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,u=(e,t)=>{for(var n in t||(t={}))o.call(t,n)&&d(e,n,t[n]);if(l)for(var n of l(t))c.call(t,n)&&d(e,n,t[n]);return e};function p(e){return r.createElement(a.Z,u(u({},e),{loadingLabel:(0,i.Z)("Loading")}))}p.propTypes=a.Z.propTypes,p.defaultProps=a.Z.defaultProps;const m=p},40691:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(67294),i=n(5562),a=n(39611);const s=function({errorMessage:e}){return r.createElement("div",{className:"FormSectionError-sectionError-ilR9oj"},r.createElement(a.Z,{className:"FormSectionError-sectionErrorIcon-2CJ6gq"}),e||(0,i.Z)("There was a problem saving your changes."))}},55344:(e,t,n)=>{"use strict";n.d(t,{Z:()=>U});var r=n(67294),i=n(16905),a=n(66842),s=n(48663),o=n(72761),l=n(45558),c=n(51221),d=n(99085),u=Object.defineProperty,p=Object.prototype.hasOwnProperty,m=Object.getOwnPropertySymbols,h=Object.prototype.propertyIsEnumerable,g=(e,t,n)=>t in e?u(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,y=(e,t)=>{for(var n in t||(t={}))p.call(t,n)&&g(e,n,t[n]);if(m)for(var n of m(t))h.call(t,n)&&g(e,n,t[n]);return e};class v extends r.Component{constructor(){super(...arguments),this.onChange=e=>{const t=e?parseInt(e,10):null;this.props.onChange(t)}}render(){return r.createElement(d.Z,y(y({type:"number"},this.props),{selectTextOnFocus:!1,onChange:this.onChange}))}}const f=v;var b=Object.defineProperty,I=Object.prototype.hasOwnProperty,S=Object.getOwnPropertySymbols,M=Object.prototype.propertyIsEnumerable,E=(e,t,n)=>t in e?b(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;function P(e){var t=e,{formGroupClassName:n,formLabelClassName:i,inputClassName:a,name:c,labelText:d,helpText:u,showErrors:p,errors:m}=t,h=((e,t)=>{var n={};for(var r in e)I.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&S)for(var r of S(e))t.indexOf(r)<0&&M.call(e,r)&&(n[r]=e[r]);return n})(t,["formGroupClassName","formLabelClassName","inputClassName","name","labelText","helpText","showErrors","errors"]);return r.createElement(s.Z,{className:n},r.createElement(l.Z,{className:i,showErrors:p,errors:m,name:c,labelText:d}),r.createElement(f,((e,t)=>{for(var n in t||(t={}))I.call(t,n)&&E(e,n,t[n]);if(S)for(var n of S(t))M.call(t,n)&&E(e,n,t[n]);return e})({className:a,name:c,type:"number",hasError:p},h)),u?r.createElement(o.Z,null,u):null)}P.defaultProps={inputClassName:"NumberInputGroup-input-1bN8QZ TextInput-input-16EbOL input-input-3msd1_"};const D=(0,c.Z)(P);var C=n(38035),w=n(8030),Z=n(97701),T=n(62899),N=Object.defineProperty,O=Object.prototype.hasOwnProperty,A=Object.getOwnPropertySymbols,x=Object.prototype.propertyIsEnumerable,j=(e,t,n)=>t in e?N(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,L=(e,t)=>{for(var n in t||(t={}))O.call(t,n)&&j(e,n,t[n]);if(A)for(var n of A(t))x.call(t,n)&&j(e,n,t[n]);return e};function k(e=[]){return e.map((({label:e,value:t})=>({[t]:e})))}const R={playbackSpeed:T.H};function z(e){const{id:t,type:n,label:s,summary:o,value:l,initialValueModifier:c,enumValues:d,min:u,max:p,step:m}=e,h={name:t,helpText:o,initialValue:c(l)};if(Array.isArray(d))return r.createElement(C.Z,L(L({labelText:s},h),{values:k(d)}));switch(n){case i.E.TEXT:return r.createElement(w.Z,L({labelText:s},h));case i.E.BOOL:return r.createElement(a.Z,L({checkboxText:s},h));case i.E.INT:return r.createElement(D,L({labelText:s},h));case i.E.DOUBLE:return r.createElement(Z.Z,L({labelText:s,min:u,max:p,stepSize:m,valueModifier:R[t]},h));default:return null}}z.defaultProps={initialValueModifier:e=>e};const U=z},97701:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var r=n(67294),i=n(48663),a=n(45558),s=n(51221),o=n(61214);class l extends r.Component{constructor(){super(...arguments),this.onChange=({steppedValue:e})=>{const t=String(this.props.stepSize),[,n]=t.split("."),r=null!=n?parseFloat(e.toFixed(n.length)):e;this.props.onChange(r)}}render(){const{name:e,value:t,min:n,max:s,stepSize:l,labelText:c,showErrors:d,errors:u,valueModifier:p}=this.props;return r.createElement(i.Z,null,r.createElement(a.Z,{showErrors:d,errors:u,name:e,labelText:c}),r.createElement("div",{className:"SliderInputGroup-sliderContainer-2EihJx input-input-3msd1_"},r.createElement(o.Z,{className:"SliderInputGroup-slider-3vKLmg Slider-slider-4zRCDI",value:t,min:n,max:s,stepSize:l,onChange:this.onChange}),r.createElement("div",{className:"SliderInputGroup-sliderValue-18qNJC"},p(t))))}}l.defaultProps={valueModifier:e=>e};const c=(0,s.Z)(l)},50930:(e,t,n)=>{"use strict";n.d(t,{Z:()=>g});var r=n(94184),i=n.n(r),a=n(67294),s=n(97486),o=n(90701),l=n(45697),c=n.n(l),d=n(17845);function u(e){var t=e["aria-label"],n=e.className,r=e.style,i={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-toolbar-sync-arrow-560"};i["aria-hidden"]=!t,i.style=r,i.className=d.Z.plexIcon+(n?" "+n:"");var s=[a.createElement.apply(a,["path",{d:"M280 406l112-112h-89.6V154h-44.8v140H168l112 112"}].concat([]))];return t&&s.unshift(a.createElement("title",null,t)),a.createElement.apply(a,["svg",i].concat(s))}u.propTypes={"aria-label":c().string,className:c().string,style:c().object};const p=u,m={downloadIcon:"DownloadIcon-downloadIcon-14Rs3Q PlexIcon-plexIcon-2sd7AW",hasShadow:"DownloadIcon-hasShadow-1sruQp",arrowIcon:"DownloadIcon-arrowIcon-3mZXmQ",progressBarContainer:"DownloadIcon-progressBarContainer-170i3y CircularProgressBar-absoluteCenterCircularProgressBarContainer-3BkZp2",hasProgress:"DownloadIcon-hasProgress-PqzxD5",showIndeterminate:"DownloadIcon-showIndeterminate-2iDYB_"};function h(e){const{className:t,isDisabled:n,showIndeterminate:r,lineWidth:l,progress:c,arrowSize:d,shadowWidth:u,showShadow:h,size:g}=e,y=null!=c&&c>=0,v=`${d}px`,f=r?o.Z.primaryColor:o.Z.selectedColor;let b;b=n?o.Z.defaultLinkDisabledLinkColor:y||r?o.Z.dimColor:"currentColor";const I={fontSize:v};if(h){const e=g+2*u;I.width=`${e}px`,I.height=`${e}px`,I.borderRadius=e/2+"px"}else I.width=`${g+l}px`,I.height=`${g+l}px`;const S=y?void 0:0;return a.createElement("div",{className:i()(t,y&&m.isDownloading,r&&m.showIndeterminate,h&&m.hasShadow),style:I},a.createElement(p,{className:m.arrowIcon}),a.createElement(s.Z,{containerClassName:m.progressBarContainer,lineWidth:l,progress:y?c:0,showIndeterminate:r,showProgressText:!1,size:g,smoothProgressDuration:S,strokeColor:f,trackColor:b}))}h.defaultProps={className:m.downloadIcon,size:18,arrowSize:19,lineWidth:1.3,showShadow:!1,shadowWidth:1};const g=h},46412:(e,t,n)=>{"use strict";n.d(t,{Z:()=>h});var r=n(67294),i=n(37703),a=n(22222),s=n(72759),o=n(51021),l=n(50930),c=Object.defineProperty,d=Object.prototype.hasOwnProperty,u=Object.getOwnPropertySymbols,p=Object.prototype.propertyIsEnumerable,m=(e,t,n)=>t in e?c(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const h=(0,i.$j)((function(){return(0,a.P1)((0,a.P1)(((e,{source:t})=>t),((e,{ratingKey:t})=>t),(0,o.Z)(s.sC),((e,t,n)=>{for(const r of n){const{Context:n}=r;if(n.itemRatingKey===t&&n.source===e&&r.progress>0)return r.progress}})),(e=>({progress:e})))}))((function(e){if(!e.hasOfflineFile&&!e.hasOwnSubscription&&void 0===e.progress)return null;const t=e,{hasOfflineFile:n,hasOwnSubscription:i,ratingKey:a,source:s}=t,o=((e,t)=>{var n={};for(var r in e)d.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&u)for(var r of u(e))t.indexOf(r)<0&&p.call(e,r)&&(n[r]=e[r]);return n})(t,["hasOfflineFile","hasOwnSubscription","ratingKey","source"]);return r.createElement(l.Z,((e,t)=>{for(var n in t||(t={}))d.call(t,n)&&m(e,n,t[n]);if(u)for(var n of u(t))p.call(t,n)&&m(e,n,t[n]);return e})({},o))}))},80913:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(67294);const i=function(e){return r.createElement("svg",{className:e.className,viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg"},r.createElement("path",{d:"M216 170l190.5 110L216 390z"}))}},90444:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(67294);function i(e){const{circleClassName:t,iconClassName:n}=e;return r.createElement("div",{className:t},r.createElement("span",{className:n}))}i.defaultProps={circleClassName:"RecordIcon-recordCircle-24nR_8 PlayButton-playCircle-2DYa77",iconClassName:"RecordIcon-recordIcon-vppRrs"};const a=i},18376:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var r=n(67294),i=n(57614),a=Object.defineProperty,s=Object.prototype.hasOwnProperty,o=Object.getOwnPropertySymbols,l=Object.prototype.propertyIsEnumerable,c=(e,t,n)=>t in e?a(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;function d(e){const t=e,{className:n}=t,a=((e,t)=>{var n={};for(var r in e)s.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&o)for(var r of o(e))t.indexOf(r)<0&&l.call(e,r)&&(n[r]=e[r]);return n})(t,["className"]);return r.createElement("div",{className:n},r.createElement(i.Z,((e,t)=>{for(var n in t||(t={}))s.call(t,n)&&c(e,n,t[n]);if(o)for(var n of o(t))l.call(t,n)&&c(e,n,t[n]);return e})({},a)))}d.defaultProps={className:"AvatarImg-avatar-3gp48Z"};const u=d},84699:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d});var r=n(67294),i=Object.defineProperty,a=Object.prototype.hasOwnProperty,s=Object.getOwnPropertySymbols,o=Object.prototype.propertyIsEnumerable,l=(e,t,n)=>t in e?i(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;function c(e){const t=e,{className:n,children:i,component:c,width:d,height:u,url:p}=t,m=((e,t)=>{var n={};for(var r in e)a.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&s)for(var r of s(e))t.indexOf(r)<0&&o.call(e,r)&&(n[r]=e[r]);return n})(t,["className","children","component","width","height","url"]);return r.createElement("div",{className:n,style:{width:d,height:u}},r.createElement(c,((e,t)=>{for(var n in t||(t={}))a.call(t,n)&&l(e,n,t[n]);if(s)for(var n of s(t))o.call(t,n)&&l(e,n,t[n]);return e})({width:d,height:u,url:p},m)),i)}c.defaultProps={className:"PosterCard-card-3ds3Od"};const d=c},89137:(e,t,n)=>{"use strict";n.d(t,{Z:()=>m});var r=n(67294),i=n(37568),a=n(57614),s=Object.defineProperty,o=Object.prototype.hasOwnProperty,l=Object.getOwnPropertySymbols,c=Object.prototype.propertyIsEnumerable,d=(e,t,n)=>t in e?s(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,u=(e,t)=>{for(var n in t||(t={}))o.call(t,n)&&d(e,n,t[n]);if(l)for(var n of l(t))c.call(t,n)&&d(e,n,t[n]);return e};const p={position:"relative",top:0,left:0,display:"block",width:"100%",height:"100%"},m=function(e){return r.createElement(a.Z,u(u({},e),{component:i.Z,containerStyle:p}))}},57614:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var r=n(37703),i=n(22222),a=n(59756),s=n(91121),o=n(70488),l=n(74253),c=n(6483);const d=a.Z.allowSyncDownload?{urlParams:{"X-Plex-Account-ID":1}}:null,u=(0,r.$j)((function(){return(0,i.P1)(l.Z,o.Z,(0,s.Z)(d),((e,t,n)=>({url:n,supportsSize:!!(e&&e.isCloud&&t)})))}))(c.ZP)},55278:(e,t,n)=>{"use strict";n.d(t,{Z:()=>D});var r=n(67294),i=n(5562),a=n(94184),s=n.n(a),o=n(14700);const l="SelectedMenuItem-menuItemContainer-87szhD";var c=Object.defineProperty,d=Object.prototype.hasOwnProperty,u=Object.getOwnPropertySymbols,p=Object.prototype.propertyIsEnumerable,m=(e,t,n)=>t in e?c(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,h=(e,t)=>{for(var n in t||(t={}))d.call(t,n)&&m(e,n,t[n]);if(u)for(var n of u(t))p.call(t,n)&&m(e,n,t[n]);return e};class g extends r.Component{constructor(){super(...arguments),this.onPress=e=>{const{value:t,onSelect:n,onPress:r}=this.props;n&&n(t),r&&r(e)}}render(){const e=this.props,{children:t,className:n,menuLabelClassName:i,iconComponent:a,isSelected:c,selectedIconAriaLabel:m}=e,g=((e,t)=>{var n={};for(var r in e)d.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&u)for(var r of u(e))t.indexOf(r)<0&&p.call(e,r)&&(n[r]=e[r]);return n})(e,["children","className","menuLabelClassName","iconComponent","isSelected","selectedIconAriaLabel"]);return r.createElement(o.Z,h(h({className:s()(n,c&&"SelectedMenuItem-isSelected-1j5S12")},g),{onPress:this.onPress}),r.createElement("div",{className:l},r.createElement("div",{className:i},t),c?r.createElement("div",{className:"SelectedMenuItem-selectedIcon-1A-uGc"},r.createElement(a,{"aria-label":m})):null))}}g.defaultProps={className:l,menuLabelClassName:"SelectedMenuItem-menuLabel-1WTzXp"};const y=g;var v=n(35771),f=Object.defineProperty,b=Object.prototype.hasOwnProperty,I=Object.getOwnPropertySymbols,S=Object.prototype.propertyIsEnumerable,M=(e,t,n)=>t in e?f(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,E=(e,t)=>{for(var n in t||(t={}))b.call(t,n)&&M(e,n,t[n]);if(I)for(var n of I(t))S.call(t,n)&&M(e,n,t[n]);return e};function P(e){return r.createElement(y,E(E({},e),{selectedIconAriaLabel:(0,i.Z)("Selected")}))}P.defaultProps={iconComponent:v.Z};const D=P},95368:(e,t,n)=>{"use strict";n.d(t,{Z:()=>C});var r=n(67294),i=n(93966),a=n(88050),s=n(5562),o=n(22745),l=n(66322),c=n(70182),d=n(79849),u=n(56510),p=n(89460),m=n(60528),h=n(82378),g=n(47636),y=n(58300),v=n(2424),f=n(64795);var b=Object.defineProperty,I=Object.prototype.hasOwnProperty,S=Object.getOwnPropertySymbols,M=Object.prototype.propertyIsEnumerable,E=(e,t,n)=>t in e?b(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,P=(e,t)=>{for(var n in t||(t={}))I.call(t,n)&&E(e,n,t[n]);if(S)for(var n of S(t))M.call(t,n)&&E(e,n,t[n]);return e};class D extends r.Component{constructor(e,t){super(e,t),this.onCancel=()=>{(0,i.DB)("metrics").trackClick(P(P({},this.props.metricsProperties),{page:this.props.metricsPage,action:a.n1})),this.props.onCancel()},this.onAccordChange=e=>{this.setState({isAccordGiven:e.target.checked})},this.state={isAccordGiven:!1}}shouldComponentUpdate(e,t){return(0,g.Z)(this,e,t)}render(){const{containerClassName:e,isCancelButtonDisabled:t,isConfirmButtonSpinning:n,isOpen:i,metricsPage:g,metricsProperties:b,kind:I,title:S,message:M,accordMessage:E,confirmLabel:D,cancelLabel:C,hideCancelButton:w,onConfirm:Z}=this.props,T=!!E,N=n||T&&!this.state.isAccordGiven;return r.createElement(v.Z,{containerClassName:e,size:h.HC,isOpen:i,metricsPage:g,metricsProperties:b,onModalClose:this.onCancel},r.createElement(f.Z,{onModalClose:this.onCancel},r.createElement(p.Z,null,S),r.createElement(c.Z,{className:"ConfirmModal-confirmBody-nK2mq9 ModalBody-modalScroller-QgrvLb ModalBody-modalBody-38ercY"},M,T?r.createElement("label",{className:"ConfirmModal-accordLabel-1ITrqU"},r.createElement("input",{type:"checkbox",className:"ConfirmModal-accordInput-AnrzZG",checked:this.state.isAccordGiven,onChange:this.onAccordChange}),E):null),r.createElement(d.Z,null,r.createElement(u.Z,null,w?null:r.createElement(o.Z,{className:"ConfirmModal-cancelButton-3tl4UI",kind:m.TP,isDisabled:t,onPress:this.onCancel},C||(0,s.Z)("Cancel")),r.createElement(l.Z,P(P({},b),{action:a.ae}),r.createElement(y.Z,{className:"ConfirmModal-confirmButton-3D_XDR","data-autofocus":!0,kind:I,isDisabled:N,isSpinning:n,onPress:Z},D||(0,s.Z)("OK")))))))}}D.defaultProps={isConfirmButtonSpinning:!1,kind:m._8};const C=D},34377:(e,t,n)=>{"use strict";n.d(t,{Z:()=>b});var r=n(67294),i=n(93966),a=n(88050),s=n(70182),o=n(89460),l=n(79374),c=n(82378),d=n(2424),u=n(64795);var p=Object.defineProperty,m=Object.prototype.hasOwnProperty,h=Object.getOwnPropertySymbols,g=Object.prototype.propertyIsEnumerable,y=(e,t,n)=>t in e?p(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,v=(e,t)=>{for(var n in t||(t={}))m.call(t,n)&&y(e,n,t[n]);if(h)for(var n of h(t))g.call(t,n)&&y(e,n,t[n]);return e};class f extends r.Component{constructor(){super(...arguments),this.onItemSelect=e=>{(0,i.DB)("metrics").trackClick(v(v({},this.props.metricsProperties),{page:this.props.metricsPage,action:a.XD,value:e})),this.props.onItemSelect(e)},this.onCancel=()=>{(0,i.DB)("metrics").trackClick(v(v({},this.props.metricsProperties),{page:this.props.metricsPage,action:a.n1})),this.props.onCancel()}}render(){const{children:e,isOpen:t,metricsPage:n,metricsProperties:i,title:a}=this.props;return r.createElement(d.Z,{size:c.HC,isOpen:t,metricsPage:n,metricsProperties:i,onModalClose:this.onCancel},r.createElement(u.Z,{onModalClose:this.onCancel},r.createElement(o.Z,null,a),r.createElement(s.Z,{innerClassName:"ListModal-listModalInnerBody-3j-5-l"},(0,l.Z)(e,(e=>r.cloneElement(e,{onSelect:this.onItemSelect}))))))}}const b=f},36245:(e,t,n)=>{"use strict";n.d(t,{Z:()=>p});var r=n(67294),i=n(6103),a=Object.defineProperty,s=Object.prototype.hasOwnProperty,o=Object.getOwnPropertySymbols,l=Object.prototype.propertyIsEnumerable,c=(e,t,n)=>t in e?a(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,d=(e,t)=>{for(var n in t||(t={}))s.call(t,n)&&c(e,n,t[n]);if(o)for(var n of o(t))l.call(t,n)&&c(e,n,t[n]);return e};class u extends r.Component{constructor(){super(...arguments),this.onPress=e=>{const{value:t,onSelect:n,onPress:r}=this.props;n&&n(t),r&&r(e)}}render(){const e=this.props,{value:t,onSelect:n}=e,a=((e,t)=>{var n={};for(var r in e)s.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&o)for(var r of o(e))t.indexOf(r)<0&&l.call(e,r)&&(n[r]=e[r]);return n})(e,["value","onSelect"]);return r.createElement(i.Z,d(d({},a),{onPress:this.onPress}))}}u.defaultProps={className:"ListModalItem-listModalItem-37Gi41"};const p=u},2424:(e,t,n)=>{"use strict";n.d(t,{Z:()=>A});var r=n(67294),i=n(63731),a=n(82777),s=n(73935),o=n(61006),l=n(71575),c=n(54983),d=n(52999),u=n(82378),p=n(47636),m=n(32129),h=n(93502);const g={modalContainer:"Modal-modalContainer-3UE-IC",modalBackdrop:"Modal-modalBackdrop-1xHf5f",modal:"Modal-modal-23PFoV",small:"Modal-small-2NCuXR Modal-modal-23PFoV",medium:"Modal-medium-3YP8Mf Modal-modal-23PFoV",large:"Modal-large-3IF3i5 Modal-modal-23PFoV"},y=(0,c.Z)(m.Z.modalSpeed),v=1e3*y,f={ease:"easeOut",duration:y},b={ease:h.Z.motionEasing,duration:y},I={opacity:f},S={enter:{opacity:1,transition:I},exit:{opacity:0,transition:I}},M={scale:b,opacity:f},E={enter:{opacity:1,scale:1,transition:M},exit:{opacity:0,scale:.95,transition:M}};class P extends r.Component{constructor(){super(...arguments),this.onBackdropBeginPress=e=>{this._isBackdropPressed=this._isBackdropTarget(e)},this.onBackdropEndPress=e=>{!this.props.preventCloseOnBackdropPress&&this._isBackdropPressed&&this._isBackdropTarget(e)&&this.props.onModalClose(),this._isBackdropPressed=!1},this.onTouchMove=e=>{this._isBackdropPressed=!1},this.onTouchCancel=e=>{this._isBackdropPressed=!1},this.onKeyDown=e=>{const t=e.keyCode;t===o.Mf?d.QE(e):t===o.hY&&(e.preventDefault(),e.stopPropagation(),this.props.onModalClose(),d.sM())}}componentDidMount(){this.props.isOpen&&this._openModal()}shouldComponentUpdate(e,t){return(0,p.Z)(this,e,t)}componentDidUpdate(e){!e.isOpen&&this.props.isOpen?this._openModal():e.isOpen&&!this.props.isOpen&&this._closeModal()}componentWillUnmount(){this.props.isOpen&&this._closeModal()}_openModal(){d.LJ(s.findDOMNode(this.refs.modal)),this._autoFocusTimeoutID=window.setTimeout(d.pc,v),document.addEventListener("keydown",this.onKeyDown)}_closeModal(){window.clearTimeout(this._autoFocusTimeoutID),document.removeEventListener("keydown",this.onKeyDown)}_isBackdropTarget(e){const t=this._findEventTarget(e);if(t){const e=s.findDOMNode(this.refs.modal);return!e||!e.contains(t)}return!1}_findEventTarget(e){const t=e.changedTouches;if(!t)return e.target;if(1===t.length){const e=t[0];return document.elementFromPoint(e.clientX,e.clientY)}}render(){const{className:e,backdropClassName:t,containerClassName:n,children:i,size:s,isOpen:o}=this.props;return r.createElement(l.Z,{isOpen:o,closeTimeoutMilliseconds:v,className:n},r.createElement(a.M_,null,o?r.createElement(a.ww.div,{key:"backdrop",initial:"exit",animate:"enter",exit:"exit",variants:S,className:t,onMouseDown:this.onBackdropBeginPress,onMouseUp:this.onBackdropEndPress,onTouchStart:this.onBackdropBeginPress,onTouchEnd:this.onBackdropEndPress,onTouchMove:this.onTouchMove,onTouchCancel:this.onTouchCancel},r.createElement(a.ww.div,{key:"modal",initial:"exit",animate:"enter",exit:"exit",variants:E,className:e||g[s],ref:"modal"},i)):null))}}P.defaultProps={backdropClassName:g.modalBackdrop,containerClassName:g.modalContainer,size:u.M2,preventCloseOnBackdropPress:!1};const D=P;var C=Object.defineProperty,w=Object.prototype.hasOwnProperty,Z=Object.getOwnPropertySymbols,T=Object.prototype.propertyIsEnumerable,N=(e,t,n)=>t in e?C(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,O=(e,t)=>{for(var n in t||(t={}))w.call(t,n)&&N(e,n,t[n]);if(Z)for(var n of Z(t))T.call(t,n)&&N(e,n,t[n]);return e};const A=function(e){const t=e,{children:n,metricsPage:a,metricsProperties:s}=t,o=((e,t)=>{var n={};for(var r in e)w.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&Z)for(var r of Z(e))t.indexOf(r)<0&&T.call(e,r)&&(n[r]=e[r]);return n})(t,["children","metricsPage","metricsProperties"]);return r.createElement(D,O({},o),r.createElement(i.Z,O(O({},s),{page:a}),n))}},64795:(e,t,n)=>{"use strict";n.d(t,{Z:()=>I});var r=n(67294),i=n(6103);var a=Object.defineProperty,s=Object.prototype.hasOwnProperty,o=Object.getOwnPropertySymbols,l=Object.prototype.propertyIsEnumerable,c=(e,t,n)=>t in e?a(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;function d(e){const t=e,{className:n,children:a,iconComponent:d,onModalClose:u}=t,p=((e,t)=>{var n={};for(var r in e)s.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&o)for(var r of o(e))t.indexOf(r)<0&&l.call(e,r)&&(n[r]=e[r]);return n})(t,["className","children","iconComponent","onModalClose"]);return r.createElement("div",((e,t)=>{for(var n in t||(t={}))s.call(t,n)&&c(e,n,t[n]);if(o)for(var n of o(t))l.call(t,n)&&c(e,n,t[n]);return e})({className:n},p),r.createElement(i.Z,{className:"ModalContent-closeButton-1H4pOB Link-link-CM9nxg",onPress:u},d?r.createElement(d,null):null),a)}d.defaultProps={className:"ModalContent-modalContent-12mSTV"};const u=d;var p=n(53863),m=Object.defineProperty,h=Object.prototype.hasOwnProperty,g=Object.getOwnPropertySymbols,y=Object.prototype.propertyIsEnumerable,v=(e,t,n)=>t in e?m(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,f=(e,t)=>{for(var n in t||(t={}))h.call(t,n)&&v(e,n,t[n]);if(g)for(var n of g(t))y.call(t,n)&&v(e,n,t[n]);return e};function b(e){return r.createElement(u,f({},e))}b.defaultProps=f(f({},b.defaultProps),{iconComponent:p.Z});const I=b},38132:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var r=n(67294),i=n(70182),a=n(64795);var s=Object.defineProperty,o=Object.prototype.hasOwnProperty,l=Object.getOwnPropertySymbols,c=Object.prototype.propertyIsEnumerable,d=(e,t,n)=>t in e?s(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const u=function(e){var t=e,{children:n}=t,s=((e,t)=>{var n={};for(var r in e)o.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&l)for(var r of l(e))t.indexOf(r)<0&&c.call(e,r)&&(n[r]=e[r]);return n})(t,["children"]);return r.createElement(a.Z,((e,t)=>{for(var n in t||(t={}))o.call(t,n)&&d(e,n,t[n]);if(l)for(var n of l(t))c.call(t,n)&&d(e,n,t[n]);return e})({},s),r.createElement(i.Z,{className:"ModalContentCenter-modalScroller-35LbRg ModalBody-modalScroller-QgrvLb ModalBody-modalBody-38ercY",innerClassName:"ModalContentCenter-innerModalBody-1iDB5E ModalBody-innerModalBody-1VHRyi"},n))}},66102:(e,t,n)=>{"use strict";n.d(t,{Z:()=>y});var r=n(94184),i=n.n(r),a=n(67294),s=n(60528),o=n(39611),l=n(38132);const c={icon:"ModalContentError-icon-7HjSEb",default:"ModalContentError-default-3xaAPL",primary:"ModalContentError-primary-pMrVY-",success:"ModalContentError-success-20x587",danger:"ModalContentError-danger-2pPSTS",message:"ModalContentError-message-thZttv"};var d=Object.defineProperty,u=Object.prototype.hasOwnProperty,p=Object.getOwnPropertySymbols,m=Object.prototype.propertyIsEnumerable,h=(e,t,n)=>t in e?d(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;function g(e){const t=e,{iconClassName:n,messageClassName:r,kind:s,message:d}=t,g=((e,t)=>{var n={};for(var r in e)u.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&p)for(var r of p(e))t.indexOf(r)<0&&m.call(e,r)&&(n[r]=e[r]);return n})(t,["iconClassName","messageClassName","kind","message"]);return a.createElement(l.Z,((e,t)=>{for(var n in t||(t={}))u.call(t,n)&&h(e,n,t[n]);if(p)for(var n of p(t))m.call(t,n)&&h(e,n,t[n]);return e})({},g),a.createElement(o.Z,{className:i()(c[s],n)}),a.createElement("div",{className:r},d))}g.defaultProps={iconClassName:c.icon,messageClassName:c.message,kind:s.TP};const y=g},3345:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d});var r=n(67294),i=n(69605),a=n(5562),s=n(72936),o=n(90980),l=n(95368),c=n(83787);const d=function(e){const{isOpen:t,state:n,onConfirm:d,onClose:u}=e,p=t&&n===o.R3.CANCEL,m=t&&n===o.R3.REMOVE,h=t&&n===o.R3.UPSELL;return r.createElement(r.Fragment,null,r.createElement(l.Z,{isOpen:p,title:(0,a.Z)("Cancel Download"),message:(0,a.Z)("Are you sure you want to cancel this download?"),metricsPage:i.Pi,confirmLabel:(0,a.Z)("Yes"),cancelLabel:(0,a.Z)("No"),onConfirm:d,onCancel:u}),r.createElement(l.Z,{isOpen:m,title:(0,a.Z)("Delete Download"),message:(0,a.Z)("Are you sure you want to delete this download?"),metricsPage:i.Ke,onConfirm:d,onCancel:u}),r.createElement(c.Z,{origin:s.vz,isOpen:h,onModalClose:u}))}},12813:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(67294);function i({className:e,children:t}){return r.createElement("div",{className:e},t)}i.defaultProps={className:"PageHeaderRight-pageHeaderRight-8bsxD4"};const a=i},83427:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d});var r=n(67294),i=Object.defineProperty,a=Object.prototype.hasOwnProperty,s=Object.getOwnPropertySymbols,o=Object.prototype.propertyIsEnumerable,l=(e,t,n)=>t in e?i(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;function c(e){var t=e,{children:n}=t,i=((e,t)=>{var n={};for(var r in e)a.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&s)for(var r of s(e))t.indexOf(r)<0&&o.call(e,r)&&(n[r]=e[r]);return n})(t,["children"]);return r.createElement("div",((e,t)=>{for(var n in t||(t={}))a.call(t,n)&&l(e,n,t[n]);if(s)for(var n of s(t))o.call(t,n)&&l(e,n,t[n]);return e})({},i),n)}c.defaultProps={className:"PrimaryPageHeader-pageHeader-2h_9dt PageHeader-pageHeader-WpvbJc"};const d=c},91061:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(67294),i=n(12813);const a=function({children:e}){return r.createElement(i.Z,{className:"PrimaryPageHeaderRight-pageHeaderRight-2uX7ln PageHeaderRight-pageHeaderRight-8bsxD4"},e)}},34504:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d});var r=n(45697),i=n.n(r),a=n(67294),s=n(37703),o=n(73862);const l={dispatchUpdateDownloadAvailability:o.updateDownloadAvailability,dispatchUpdateDownloadSubscriptionIDs:o.updateDownloadSubscriptionIDs};function c(e){const{dispatchUpdateDownloadAvailability:t,dispatchUpdateDownloadSubscriptionIDs:n,metadataItemEntityID:r,providerEntityID:i}=e;return(0,a.useEffect)((()=>{const e={metadataItemEntityID:r,providerEntityID:i};t(e),n(e)}),[t,n,r,i]),null}c.propTypes={metadataItemEntityID:i().string.isRequired,providerEntityID:i().string.isRequired,dispatchUpdateDownloadAvailability:i().func.isRequired,dispatchUpdateDownloadSubscriptionIDs:i().func.isRequired};const d=(0,s.$j)(null,l)(c)},71024:(e,t,n)=>{"use strict";n.d(t,{Z:()=>b});var r=n(67294),i=n(37703),a=n(22222),s=n(50091),o=n(27082),l=n(29414),c=n(53181),d=n(59468),u=Object.defineProperty,p=Object.prototype.hasOwnProperty,m=Object.getOwnPropertySymbols,h=Object.prototype.propertyIsEnumerable,g=(e,t,n)=>t in e?u(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,y=(e,t)=>{for(var n in t||(t={}))p.call(t,n)&&g(e,n,t[n]);if(m)for(var n of m(t))h.call(t,n)&&g(e,n,t[n]);return e};const v={dispatchPopulateMetadataList:l.CF,dispatchPopulateMetadataListRange:l.vp,dispatchDeselectAllMetadataListItems:l.m8,dispatchResetMetadataList:l.wZ};class f extends r.Component{constructor(){super(...arguments),this.onPageRequest=e=>{const{metadataListEntityID:t,disableReloadThreshold:n,dispatchPopulateMetadataListRange:r}=this.props;r(y({metadataListEntityID:t,disableReloadThreshold:n},e))}}UNSAFE_componentWillMount(){this._populate()}UNSAFE_componentWillReceiveProps(e){const{containerKey:t,metadataListEntityID:n}=e;t===this.props.containerKey&&n===this.props.metadataListEntityID||this._populate(e)}componentWillUnmount(){const{metadataListEntityID:e,shouldResetOnUnmount:t}=this.props;this.props.dispatchDeselectAllMetadataListItems({metadataListEntityID:e}),t&&this.props.dispatchResetMetadataList({metadataListEntityID:e})}_populate(e=this.props){const{entityKey:t,metadataListEntityID:n,initialSize:r,dispatchPopulateMetadataList:i,dispatchPopulateMetadataListRange:a}=e;r&&(0,o.c9)((()=>{t&&this.props.dispatchResetMetadataList({metadataListEntityID:n}),r===1/0?i({metadataListEntityID:n}):a({metadataListEntityID:n,startIndex:0,endIndex:r-1,pages:1})}))}render(){const e=this.props,{component:t,dispatchPopulateMetadataListRange:n,dispatchDeselectAllMetadataListItems:i,dispatchResetMetadataList:a}=e,s=((e,t)=>{var n={};for(var r in e)p.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&m)for(var r of m(e))t.indexOf(r)<0&&h.call(e,r)&&(n[r]=e[r]);return n})(e,["component","dispatchPopulateMetadataListRange","dispatchDeselectAllMetadataListItems","dispatchResetMetadataList"]);return r.createElement(t,y(y({},s),{onPageRequest:this.onPageRequest}))}}f.defaultProps={disableReloadThreshold:!1,shouldResetOnUnmount:!1};const b=(0,i.$j)((function(){return(0,a.P1)((0,a.P1)(((e,{columnAdjustment:t})=>t),d.Z,((e,t)=>e||t.columnAdjustment)),(0,s.Z)(),c.Z,((e,t,n)=>({metadataItemEntityIDs:t.metadataItems,entityKey:t.entityKey,containerKey:t.containerKey||t.key,disableReloadThreshold:!!n.activeSelectionType,columnAdjustment:e,totalSize:t.totalSize,librarySectionID:t.librarySectionID,populatedRange:t.populatedRange,allowSync:t.allowSync,isPending:t.isPending,isPopulated:t.isPopulated,isMetaPopulated:t.isMetaPopulated,error:t.error,firstItemType:t.firstItemType,firstItemSubtype:t.firstItemSubtype,isFirstItemLibraryItem:t.isFirstItemLibraryItem,isDirectoryList:t.isDirectoryList,isChannelsList:t.isChannelsList})))}),v)(f)},78189:(e,t,n)=>{"use strict";n.d(t,{Z:()=>b});var r=n(37703),i=n(22222),a=n(44693),s=n(67294),o=n(5562),l=n(14700),c=n(9119),d=n(71024),u=n(30426),p=n(68105),m=n(81017);const h=(0,i.P1)((0,m.Z)(),(({ratingKey:e,title:t})=>({ratingKey:e,title:t}))),g=(0,r.$j)(h)((function(e){const{ratingKey:t,title:n,onPress:r}=e,i=(0,s.useCallback)((()=>r(t)),[r,t]);return s.createElement(l.Z,{className:"MetadataMenuItem-item-28xIgE",onPress:i},n)}));function y(e){const{metadataItemEntityIDs:t,showTopSeparator:n,header:r,onItemPress:i}=e;return t.length?s.createElement(s.Fragment,null,n&&t.length?s.createElement(p.Z,null):null,r?s.createElement(u.Z,null,r):null,t.map((e=>s.createElement(g,{key:e,metadataItemEntityID:e,onPress:i})))):null}y.defaultProps={showTopSeparator:!0};const v=y,f=(0,i.P1)((e=>e.ui.addToPlaylistMenu.recentPlaylists),(e=>({recentPlaylists:e}))),b=(0,r.$j)(f,(function(e,t){const{serverEntityID:n,providerEntityID:r,metadataItemEntityID:i,metadataListEntityID:s}=t;return{onInitMenu(){e((0,a.u0)({serverEntityID:n,providerEntityID:r,metadataItemEntityID:i,metadataListEntityID:s}))},onClearMenu(){e((0,a.rg)())},onAddToExistingPlaylistPress(t){e((0,a.uM)({providerEntityID:r,playlistID:t}))}}}))((function(e){const{showAddToPlaylist:t,showAddToSmartPlaylist:n,recentPlaylists:r,customFilterRoute:i,onAddToPlaylistPress:a,onAddToSmartPlaylistPress:u,onAddToExistingPlaylistPress:p,onInitMenu:m,onClearMenu:h,onMenuClose:g}=e;(0,s.useEffect)((()=>(m(),h)),[h,m]);const y=!!i;return s.createElement(s.Fragment,null,t?s.createElement(l.Z,{onPress:a},(0,o.Z)("Add to Playlist...")):null,n?s.createElement(l.Z,{onPress:u},(0,o.Z)("Save as Smart Playlist...")):null,y?s.createElement(l.Z,{to:i},(0,o.Z)("Create Smart Playlist")):null,r?s.createElement(d.Z,{metadataListEntityID:r,component:v,initialSize:3,showTopSeparator:t||y,header:(0,o.Z)("Add to..."),onItemPress:(0,c.Z)(p,g)}):null)}))},1691:(e,t,n)=>{"use strict";n.d(t,{Z:()=>Fe});var r=n(37703),i=n(22222),a=n(11203),s=n(79932),o=n(81017),l=n(757),c=n(20531),d=n(74253),u=n(89984),p=n(87691),m=n(6055),h=n(73862),g=n(3568),y=n(45992),v=n(27154),f=n(67294),b=n(13469),I=n.n(b),S=n(88050),M=n(17524),E=n(5562),P=n(61478),D=n(74287),C=n(14700),w=n(68105),Z=n(66322),T=n(9119),N=n(60528),O=n(57501),A=n(90980),x=n(3345),j=n(98727),L=n(36237),k=n(45399),R=n(69881),z=n(3386),U=n(96508);const V="AddToLibraryMenuItem-item-2f2S4j";var B=Object.defineProperty,F=Object.prototype.hasOwnProperty,_=Object.getOwnPropertySymbols,H=Object.prototype.propertyIsEnumerable,Q=(e,t,n)=>t in e?B(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;class G extends f.Component{constructor(){super(...arguments),this.createOnPress=e=>{const{metadataItemEntityID:t,onItemPress:n}=this.props;return()=>n(((e,t)=>{for(var n in t||(t={}))F.call(t,n)&&Q(e,n,t[n]);if(_)for(var n of _(t))H.call(t,n)&&Q(e,n,t[n]);return e})({metadataItemEntityID:t},e))}}render(){const{serverDirectories:e,hasMultipleServers:t,onMenuClose:n}=this.props;if(!e||!e.length)return null;if(1===e.length){const t=e[0].title,r=(0,E.Z)("Add to {libraryTitle}",{libraryTitle:t});return f.createElement(C.Z,{className:V,title:r,onPress:(0,T.Z)(this.createOnPress(e[0]),n)},r)}return f.createElement(U.Z,{label:(0,E.Z)("Add to Library"),onMenuClose:n},e.map(((e,r)=>{var i=e,{serverFriendlyName:a,title:s}=i,o=((e,t)=>{var n={};for(var r in e)F.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&_)for(var r of _(e))t.indexOf(r)<0&&H.call(e,r)&&(n[r]=e[r]);return n})(i,["serverFriendlyName","title"]);const l=s+(t?` (${a})`:"");return f.createElement(C.Z,{key:r,className:V,title:l,onPress:(0,T.Z)(this.createOnPress(o),n)},l)})))}}const W=G,Y=(0,i.P1)(j.Z,L.Z,((e,t)=>{let n=0;return{serverDirectories:t.reduce(((t,r)=>{if(r.isOutOfDate||!r.ownerFeatures.includes(k.Ao))return t;const i=function(e,t){return e.reduce(((e,n)=>{const r=(0,z.Z)(n),i=(r?r.directories:[]).filter((e=>e.type===t));return e.push(...i),e}),[])}(r.providers.map((t=>e[t])),R.ARTIST);i.length&&(n+=1);const a=i.map((e=>({serverEntityID:r.entityID,serverFriendlyName:r.friendlyName,title:e.title,sectionKey:e.key})));return t.push(...a),t}),[]),hasMultipleServers:n>1}})),K={onItemPress:a.Zo},q=(0,r.$j)(Y,K)(W);var $=n(19469),J=n(69605),X=n(1088),ee=n(10825),te=n(69713),ne=n(84807),re=n(34377),ie=n(36245),ae=Object.defineProperty,se=Object.prototype.hasOwnProperty,oe=Object.getOwnPropertySymbols,le=Object.prototype.propertyIsEnumerable,ce=(e,t,n)=>t in e?ae(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const de=function(e){const t=e,{mediaItems:n}=t,r=((e,t)=>{var n={};for(var r in e)se.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&oe)for(var r of oe(e))t.indexOf(r)<0&&le.call(e,r)&&(n[r]=e[r]);return n})(t,["mediaItems"]);return f.createElement(re.Z,((e,t)=>{for(var n in t||(t={}))se.call(t,n)&&ce(e,n,t[n]);if(oe)for(var n of oe(t))le.call(t,n)&&ce(e,n,t[n]);return e})({title:(0,E.Z)("Play Version"),metricsPage:J.DV},r),n.map(((e,t)=>{const n=[];if(e.bitrate&&n.push((0,te.Z)(e.bitrate)),e.videoResolution){const t=(0,X.Z)(e),r=t?t.scanType:null;n.push((0,ee.Z)(e.videoResolution,r))}const r=!!e.title,i=n.length>0;return f.createElement(ie.Z,{key:t,value:t},r?e.title:null,r&&i?f.createElement(ne.Z,null):null,i?n.join(", "):null,r||i?null:(0,E.Z)("Unknown"))})))};var ue=n(66788),pe=n(22103),me=n(96270),he=n(92885),ge=n(12159),ye=n(78189),ve=Object.defineProperty,fe=Object.prototype.hasOwnProperty,be=Object.getOwnPropertySymbols,Ie=Object.prototype.propertyIsEnumerable,Se=(e,t,n)=>t in e?ve(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const Me=function(e){const{onMenuClose:t}=e;return f.createElement(U.Z,{label:(0,E.Z)("Add to Playlist"),onMenuClose:t},f.createElement(ye.Z,((e,t)=>{for(var n in t||(t={}))fe.call(t,n)&&Se(e,n,t[n]);if(be)for(var n of be(t))Ie.call(t,n)&&Se(e,n,t[n]);return e})({},e)))};n(71575);var Ee=n(75534);const Pe=function(e){const{metadataItem:t,onMenuClose:n}=e,r=(0,Ee.Z)(),i=t.downloadUrl?t.downloadUrl():null,a=i&&!0;return f.createElement(f.Fragment,null,f.createElement(C.Z,{to:i,target:i?r:null,download:a,onPress:t.downloadUrl?n:(0,T.Z)(e.onDownloadVersionPress,n)},(0,E.Z)("Download File")),null)};var De=Object.defineProperty,Ce=Object.prototype.hasOwnProperty,we=Object.getOwnPropertySymbols,Ze=Object.prototype.propertyIsEnumerable,Te=(e,t,n)=>t in e?De(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const Ne=function(e){const t=e,{hasDownloadState:n,hasOfflineFile:r,hasOwnSubscription:i,label:a,progress:s}=t,o=((e,t)=>{var n={};for(var r in e)Ce.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&we)for(var r of we(e))t.indexOf(r)<0&&Ze.call(e,r)&&(n[r]=e[r]);return n})(t,["hasDownloadState","hasOfflineFile","hasOwnSubscription","label","progress"]);return f.createElement(C.Z,((e,t)=>{for(var n in t||(t={}))Ce.call(t,n)&&Te(e,n,t[n]);if(we)for(var n of we(t))Ze.call(t,n)&&Te(e,n,t[n]);return e})({},o),a)},Oe=["showPlay","showPlayVersion","showPlayAll","showShuffle","showQueue","showPlayPlexMix","showQueuePlexMix","showPlayTrailer","showPlayMusicVideo","showWatchTogether","showAddToPlaylist","showAddToLibrary"],Ae=["showEdit","showMarkPlayed","showMarkUnplayed","showModifySmartPlaylist","showSettings","showRefresh","showAnalyze","showFixMatch","showMatch","showUnmatch","showSplitApart","showSync","showSyncDownload","showOptimize","showDownload","showShare","showDelete","showDeleteVersion","showViewPlayHistory","showGetInfo"];function xe(e,t){return!!I().find(e,(e=>t[e]))}function je(e){const{target:t,isOpen:n,metadataItem:r,metadataItemEntityID:i,metricsPage:a,providerEntityID:s,serverEntityID:o,onPlayVersionPress:l,onCancelDownloadActivity:c,onDeleteDownloadSubscription:d,onCreateDownloadSubscription:u,onMenuClose:p}=e,m=(0,he.Z)(e.onMarkPlayedConfirm),h=(0,he.Z)(e.onMarkUnplayedConfirm),g=(0,he.Z)(),y=(0,he.Z)(),v=(0,he.Z)(),b=(0,he.Z)(),I=(0,he.Z)(),j=(0,A.Gb)({metadataItemEntityID:i,metricsPage:a,providerEntityID:s,serverEntityID:o,onCancelDownloadActivity:c,onCreateDownloadSubscription:u,onDeleteDownloadSubscription:d}),L=(0,f.useCallback)((e=>{l(e),g.onClose()}),[l,g]),k=!!r.metadataState,R=!!r.mediaState,z=xe(Oe,e),U=xe(Ae,e),V=z&&U;return f.createElement(f.Fragment,null,f.createElement(D.Z,{target:t,isOpen:n,onMenuClose:p},e.showPlay?f.createElement(C.Z,{onPress:(0,T.Z)(e.onPlayPress,p)},(0,E.Z)("Play")):null,e.showPlayVersion?f.createElement(C.Z,{onPress:(0,T.Z)(g.onOpen,p)},(0,E.Z)("Play Version...")):null,e.showPlayAll?f.createElement(C.Z,{onPress:(0,T.Z)(e.onPlayAllPress,p)},(0,E.Z)("Play All")):null,e.showShuffle?f.createElement(C.Z,{onPress:(0,T.Z)(e.onShufflePress,p)},(0,E.Z)("Shuffle")):null,e.showPlayRadio?f.createElement(C.Z,{onPress:(0,T.Z)(e.onPlayRadioPress,p)},(0,E.Z)("Play Radio")):null,e.showPlayArtistTV?f.createElement(C.Z,{onPress:(0,T.Z)(e.onPlayArtistTVPress,p)},(0,E.Z)("Play Artist TV")):null,e.showWatchTogether?f.createElement(C.Z,{onPress:(0,T.Z)(y.onOpen,p)},(0,E.Z)("Watch Together...")):null,e.showQueue?f.createElement(C.Z,{onPress:(0,T.Z)(e.onPlayNextPress,p)},(0,E.Z)("Play Next")):null,e.showQueue?f.createElement(C.Z,{onPress:(0,T.Z)(e.onAddToQueuePress,p)},(0,E.Z)("Add to Queue")):null,e.showPlayPlexMix?f.createElement(C.Z,{onPress:(0,T.Z)(e.onPlayPlexMixPress,p)},(0,E.Z)("Play Plex Mix")):null,e.showQueuePlexMix?f.createElement(C.Z,{onPress:(0,T.Z)(e.onQueuePlexMixPress,p)},(0,E.Z)("Queue Plex Mix")):null,e.showPlayTrailer?f.createElement(C.Z,{onPress:(0,T.Z)(e.onPlayPrimaryExtraPress,p)},(0,E.Z)("Play Trailer")):null,e.showPlayMusicVideo?f.createElement(C.Z,{onPress:(0,T.Z)(e.onPlayPrimaryExtraPress,p)},(0,E.Z)("Play Music Video")):null,e.showAddToWatchlist?f.createElement(C.Z,{onPress:(0,T.Z)(e.onAddToWatchlistPress,p)},r.watchlistedAt?(0,E.Z)("Remove from Watchlist"):(0,E.Z)("Add to Watchlist")):null,e.showAddToPlaylist?f.createElement(Me,{serverEntityID:o,providerEntityID:s,metadataItemEntityID:i,showAddToPlaylist:!0,onAddToPlaylistPress:(0,T.Z)(b.onOpen,p),onMenuClose:p}):null,e.showAddToSaved?f.createElement(C.Z,{onPress:(0,T.Z)(e.onAddToSavedPress,p)},(B=r.saved,F=e.providerIdentifier,r.subtype===P.PODCAST?B?(0,E.Z)("Remove from My Podcasts"):(0,E.Z)("Add to My Podcasts"):M.wB(F,M.xF)?B?(0,E.Z)("Remove from My TIDAL"):(0,E.Z)("Add to My TIDAL"):B?(0,E.Z)("Remove from My Shows"):(0,E.Z)("Add to My Shows"))):null,e.showAddToPicks?f.createElement(C.Z,{onPress:(0,T.Z)(e.onAddToPicksPress,p)},r.picked?(0,E.Z)("Remove from Plex Picks"):(0,E.Z)("Add to Plex Picks")):null,e.showAddToLibrary?f.createElement(q,{serverEntityID:o,providerEntityID:s,metadataItemEntityID:i,onMenuClose:e.onMenuClose}):null,V?f.createElement(w.Z,null):null,e.showEdit?f.createElement(C.Z,{onPress:(0,T.Z)(e.onEditPress,p)},(0,E.Z)("Edit")):null,e.showModifySmartPlaylist?f.createElement(C.Z,{onPress:(0,T.Z)(e.onModifySmartPlaylistPress,p)},(0,E.Z)("Edit Filters")):null,e.showSettings?f.createElement(C.Z,{onPress:(0,T.Z)(v.onOpen,p)},(0,E.Z)("Settings")):null,e.showMarkPlayed?f.createElement(C.Z,{onPress:(0,T.Z)(m.onOpen,p)},(0,E.Z)("Mark as Played")):null,e.showMarkUnplayed?f.createElement(C.Z,{onPress:(0,T.Z)(h.onOpen,p)},(0,E.Z)("Mark as Unplayed")):null,e.showRefresh?f.createElement(C.Z,{isDisabled:k,onPress:(0,T.Z)(e.onRefreshPress,p)},(0,E.Z)("Refresh Metadata")):null,e.showAnalyze?f.createElement(C.Z,{isDisabled:R,onPress:(0,T.Z)(e.onAnalyzePress,p)},(0,E.Z)("Analyze")):null,e.showFixMatch?f.createElement(C.Z,{onPress:(0,T.Z)(e.onFixMatchPress,p)},(0,E.Z)("Fix Match...")):null,e.showMatch?f.createElement(C.Z,{onPress:(0,T.Z)(e.onFixMatchPress,p)},(0,E.Z)("Match...")):null,e.showUnmatch?f.createElement(C.Z,{onPress:(0,T.Z)(e.onUnmatchPress,p)},(0,E.Z)("Unmatch")):null,e.showSplitApart?f.createElement(C.Z,{onPress:(0,T.Z)(e.onSplitApartPress,p)},(0,E.Z)("Split Apart")):null,e.showSync?f.createElement(C.Z,{onPress:(0,T.Z)(e.onSyncPress,p)},(0,E.Z)("Sync...")):null,e.showSyncDownload?f.createElement(A.ZP,{component:Ne,metadataItemEntityID:i,providerEntityID:s,serverEntityID:o,onPress:(0,T.Z)(j.onPress,p)}):null,e.showOptimize?f.createElement(C.Z,{onPress:(0,T.Z)(e.onOptimizePress,p)},(0,E.Z)("Optimize...")):null,e.showDownload?f.createElement(Z.Z,{action:S.a2},f.createElement(Pe,{metadataItem:r,onMenuClose:p,onDownloadVersionPress:e.onDownloadVersionPress})):null,e.showShare?f.createElement(Z.Z,{action:S.Dp},f.createElement(C.Z,{onPress:(0,T.Z)(I.onOpen,p)},(0,E.Z)("Share"))):null,e.showDelete?f.createElement(C.Z,{kind:r.remoteMedia?void 0:N.T,onPress:(0,T.Z)(e.onDeletePress,p)},r.remoteMedia?(0,E.Z)("Remove"):(0,E.Z)("Delete")):null,e.showDeleteVersion?f.createElement(C.Z,{kind:N.T,onPress:(0,T.Z)(e.onDeleteVersionPress,p)},(0,E.Z)("Delete Version")):null,e.showViewPlayHistory?f.createElement(C.Z,{to:(0,ge.Z)(e.machineIdentifier,r)},(0,E.Z)("View Play History")):null,e.showGetInfo?f.createElement(C.Z,{onPress:(0,T.Z)(e.onGetInfoPress,p)},(0,E.Z)("Get Info")):null),e.showMarkPlayed||e.showMarkUnplayed?f.createElement($.Z,{isOpen:m.isOpen||h.isOpen,type:r.type,subtype:r.subtype,title:r.title,leafCount:m.isOpen?r.unviewedLeafCount:r.viewedLeafCount,markUnplayed:h.isOpen,onConfirm:m.isOpen?m.onConfirm:h.onConfirm,onCancel:m.isOpen?m.onClose:h.onClose}):null,e.showAddToPlaylist?f.createElement(pe.Z,{isOpen:b.isOpen,serverEntityID:o,providerEntityID:s,metadataItemEntityID:i,onModalClose:b.onClose}):null,e.showSyncDownload?f.createElement(x.Z,{isOpen:j.isOpen,state:j.state,onConfirm:j.onConfirm,onClose:j.onClose}):null,f.createElement(de,{isOpen:g.isOpen,mediaItems:r.Media,onCancel:g.onClose,onItemSelect:L}),f.createElement(ue.Z,{serverEntityID:o,providerEntityID:s,metadataItemEntityID:i,isOpen:v.isOpen,onModalClose:v.onClose}),e.showWatchTogether?f.createElement(me.Z,{metricsProperties:{context:e.metricsContext,page:a},serverEntityID:o,metadataItemEntityID:i,isOpen:y.isOpen,onModalClose:y.onClose}):null,e.showShare?f.createElement(O.Z,{metricsProperties:{context:e.metricsContext,page:a},serverEntityID:o,metadataItemEntityID:i,isOpen:I.isOpen,onModalClose:I.onClose}):null);var B,F}je.defaultProps={allowRedirectOnDelete:!1};const Le=je;var ke=Object.defineProperty,Re=Object.prototype.hasOwnProperty,ze=Object.getOwnPropertySymbols,Ue=Object.prototype.propertyIsEnumerable,Ve=(e,t,n)=>t in e?ke(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Be=(e,t)=>{for(var n in t||(t={}))Re.call(t,n)&&Ve(e,n,t[n]);if(ze)for(var n of ze(t))Ue.call(t,n)&&Ve(e,n,t[n]);return e};const Fe=(0,r.$j)(c.Z)((0,p.Z)((function(){return(0,i.P1)(d.Z,l.Z,y.Z,(0,o.Z)(),(0,g.Z)(),((e,t,n,r,i)=>Be({metadataItem:r,machineIdentifier:e.machineIdentifier,providerIdentifier:t.identifier,embeddedServerEntityID:n},i)))}),(function(e,t){const n={serverEntityID:t.serverEntityID,providerEntityID:t.providerEntityID,itemServerEntityID:t.itemServerEntityID,itemProviderEntityID:t.itemProviderEntityID,metadataItemEntityID:t.metadataItemEntityID,metricsPage:t.metricsPage,metricsProperties:{context:t.metricsContext}};return{onPlayPress(){e(s.wA(Be(Be({},n),{options:{containerKey:t.containerKey,listType:t.listType}})))},onPlayVersionPress(r){e(s.wA(Be(Be({},n),{startMediaIndex:r,options:{containerKey:t.containerKey,listType:t.listType}})))},onPlayAllPress(){e(s.Ld(n))},onShufflePress(){e(s.Em(n))},onPlayNextPress(){e(s.tP(Be(Be({},n),{options:{playAll:!0,next:!0}})))},onAddToQueuePress(){e(s.tP(Be(Be({},n),{options:{playAll:!0,next:!1}})))},onPlayPlexMixPress(){e(s.Gh(n))},onQueuePlexMixPress(){e(s.kP(n))},onPlayPrimaryExtraPress(){e(s.EF(n))},onPlayRadioPress(){e(s.QR(Be({playlistType:u.j0},n)))},onPlayArtistTVPress(){e(s.QR(Be({playlistType:u.pX},n)))},onAddToPicksPress(){e((0,a.Fj)(n))},onAddToSavedPress(){e((0,a.C_)(n))},onAddToWatchlistPress(){e((0,a.ZA)(n))},onMarkPlayedConfirm(){e(h.markMetadataItemPlayed(Be(Be({},n),{skipConfirm:!0})))},onMarkUnplayedConfirm(){e(h.markMetadataItemUnplayed(Be(Be({},n),{skipConfirm:!0})))},onEditPress(){e(h.editMetadataItem(n))},onRefreshPress(){e(h.refreshMetadataItem(n))},onModifySmartPlaylistPress(){e(h.modifySmartPlaylist(n))},onAnalyzePress(){e(h.analyzeMetadataItem(n))},onFixMatchPress(){e(h.fixMetadataItemMatch(n))},onUnmatchPress(){e(h.unmatchMetadataItem(n))},onSplitApartPress(){e(h.splitMetadataItemApart(n))},onSyncPress(){e(h.syncMetadataItem(n))},onOptimizePress(){e(h.optimizeMetadataItem(n))},onDownloadVersionPress(){e(h.downloadMetadataItemVersion(n))},onDeletePress(){e(h.deleteMetadataItem(Be(Be({},n),{options:{skipRedirect:!t.allowRedirectOnDelete}})))},onDeleteVersionPress(){e(h.deleteMetadataItemVersion(n))},onGetInfoPress(){e(h.getMetadataItemInfo(n))},onCancelDownloadActivity(){e(m.FX(n))},onDeleteDownloadSubscription(){e(m.L7(n))},onCreateDownloadSubscription(){e(m.A$(n))}}}),v.Z)(Le))},4746:(e,t,n)=>{"use strict";n.d(t,{Z:()=>g});var r=n(67294),i=n(5562),a=n(6103),s=n(53851),o=n(1691),l=n(46391),c=Object.defineProperty,d=Object.prototype.hasOwnProperty,u=Object.getOwnPropertySymbols,p=Object.prototype.propertyIsEnumerable,m=(e,t,n)=>t in e?c(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;class h extends r.Component{constructor(e,t){super(e,t),this.onActionsPress=e=>{this.setState({hasBeenOpened:!0},(()=>{this.props.onMenuOpenChange(!this.props.isMenuOpen)}))},this.onActionsMenuClose=()=>{this.props.onMenuOpenChange(!1)},this._moreButtonID=(0,s.Z)(),this.state={hasBeenOpened:!1}}render(){const e=this.props,{"data-qa-id":t,className:n,iconClassName:s,tabIndex:c,serverEntityID:h,providerEntityID:g,metadataItemEntityID:y,containerKey:v,listType:f,isMenuOpen:b,onMenuOpenChange:I}=e,S=((e,t)=>{var n={};for(var r in e)d.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&u)for(var r of u(e))t.indexOf(r)<0&&p.call(e,r)&&(n[r]=e[r]);return n})(e,["data-qa-id","className","iconClassName","tabIndex","serverEntityID","providerEntityID","metadataItemEntityID","containerKey","listType","isMenuOpen","onMenuOpenChange"]);return r.createElement(a.Z,{"data-qa-id":t,id:this._moreButtonID,className:n,tabIndex:c,"aria-label":(0,i.Z)("More Actions"),"aria-haspopup":!0,onPress:this.onActionsPress},r.createElement(l.Z,{className:s}),this.state.hasBeenOpened?r.createElement(o.Z,((e,t)=>{for(var n in t||(t={}))d.call(t,n)&&m(e,n,t[n]);if(u)for(var n of u(t))p.call(t,n)&&m(e,n,t[n]);return e})({serverEntityID:h,providerEntityID:g,metadataItemEntityID:y,containerKey:v,listType:f,target:this._moreButtonID,isOpen:b,onMenuClose:this.onActionsMenuClose},S)):null)}}const g=h},19469:(e,t,n)=>{"use strict";n.d(t,{Z:()=>p});var r=n(67294),i=n(69605),a=n(5562),s=n(69881),o=n(95368);function l(e){return e!==s.SHOW&&e!==s.SEASON}function c({title:e,leafCount:t}){return 1===t?(0,a.Z)('Are you sure you want to mark 1 episode in "{showTitle}" as unplayed?',{showTitle:e}):(0,a.Z)('Are you sure you want to mark {numEpisodes} episodes in "{showTitle}" as unplayed?',{numEpisodes:t,showTitle:e})}function d({title:e,leafCount:t}){return 1===t?(0,a.Z)('Are you sure you want to mark 1 episode in "{showTitle}" as played?',{showTitle:e}):(0,a.Z)('Are you sure you want to mark {numEpisodes} episodes in "{showTitle}" as played?',{numEpisodes:t,showTitle:e})}class u extends r.Component{componentDidMount(){this._checkAutoConfirm()}componentDidUpdate(){this._checkAutoConfirm()}_checkAutoConfirm(){l(this.props.type)&&this.props.isOpen&&this.props.onConfirm()}render(){const{isOpen:e,type:t,markUnplayed:n,onConfirm:s,onCancel:u}=this.props;return l(t)?null:r.createElement(o.Z,{isOpen:e,metricsPage:n?i.Md:i.lP,title:n?(0,a.Z)("Mark as Unplayed"):(0,a.Z)("Mark as Played"),message:n?c(this.props):d(this.props),onConfirm:s,onCancel:u})}}const p=u},66788:(e,t,n)=>{"use strict";n.d(t,{Z:()=>R});var r=n(67294),i=n(69605),a=n(82378),s=n(2424),o=n(37703),l=n(22222),c=n(81017),d=n(27082),u=n(73862),p=n(5562),m=n(22745),h=n(69679),g=n(37084),y=n(70182),v=n(79849),f=n(56510),b=n(89460),I=n(60528),S=n(40691),M=n(55344),E=n(64795);var P=Object.defineProperty,D=Object.prototype.hasOwnProperty,C=Object.getOwnPropertySymbols,w=Object.prototype.propertyIsEnumerable,Z=(e,t,n)=>t in e?P(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const T=function(e){const{isSettingsUpdating:t,hasError:n,settings:i,onSubmit:a,onModalClose:s}=e;return r.createElement(g.ZP,{className:"SettingsModalContent-form-kJnOeo",onSubmit:a},r.createElement(E.Z,{onModalClose:s},r.createElement(b.Z,null,(0,p.Z)("Settings")),n?r.createElement(S.Z,{errorMessage:(0,p.Z)("There was an error saving the settings")}):null,r.createElement(y.Z,null,i.map((e=>r.createElement(M.Z,((e,t)=>{for(var n in t||(t={}))D.call(t,n)&&Z(e,n,t[n]);if(C)for(var n of C(t))w.call(t,n)&&Z(e,n,t[n]);return e})({key:e.id},e))))),r.createElement(v.Z,null,r.createElement(f.Z,null,r.createElement(m.Z,{onPress:s},(0,p.Z)("Cancel")),r.createElement(h.Z,{kind:I._8,type:"submit",isSpinning:t},(0,p.Z)("Save"))))))};var N=Object.defineProperty,O=Object.prototype.hasOwnProperty,A=Object.getOwnPropertySymbols,x=Object.prototype.propertyIsEnumerable,j=(e,t,n)=>t in e?N(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;class L extends r.Component{componentDidUpdate(e,t){!e.isSettingsUpdating||this.props.isSettingsUpdating||this.props.hasError||this.props.onModalClose()}componentWillUnmount(){this.props.onClearError()}render(){return r.createElement(T,((e,t)=>{for(var n in t||(t={}))O.call(t,n)&&j(e,n,t[n]);if(A)for(var n of A(t))x.call(t,n)&&j(e,n,t[n]);return e})({},this.props))}}const k=(0,o.$j)((function(){return(0,l.P1)((0,c.Z)(),((e={})=>({settings:e.preferences,isSettingsUpdating:e.isSettingsUpdating,hasError:!!e.settingsUpdateError})))}),(function(e,t){return{onSubmit(n){(0,d.c9)((()=>{e((0,u.updateMetadataSettings)({serverEntityID:t.serverEntityID,providerEntityID:t.providerEntityID,metadataItemEntityID:t.metadataItemEntityID,data:n}))}))},onClearError(){e((0,u.clearMetadataSettingsError)({metadataItemEntityID:t.metadataItemEntityID}))}}}))(L),R=function(e){const{serverEntityID:t,providerEntityID:n,metadataItemEntityID:o,isOpen:l,metricsProperties:c,onModalClose:d}=e;return r.createElement(s.Z,{size:a.HC,isOpen:l,metricsPage:i.w6,metricsProperties:c,onModalClose:d},r.createElement(k,{serverEntityID:t,providerEntityID:n,metadataItemEntityID:o,onModalClose:d}))}},22103:(e,t,n)=>{"use strict";n.d(t,{Z:()=>xe});var r=n(67294),i=n(69605),a=n(82378),s=n(2424),o=n(37703),l=n(22222),c=n(92857),d=n(18908),u=n(5562),p=n(37084),m=n(99085),h=n(51221),g=n(70182),y=n(79849),v=n(89460),f=n(60528),b=n(58300),I=n(40691),S=n(64795),M=n(71024),E=n(757),P=n(47933),D=n(70488),C=n(50316),w=n(74253),Z=n(67006),T=n(94803),N=n(17524);function O({server:e,provider:t}){if(!t||!t.features)return!1;if(e&&(e.isShared||e.isCloud||!e.isConnected))return!1;const n=[N.xF,N.Y3];return!!N.wB(t.identifier,n)&&!!t.features.find((e=>e.type===Z.zg&&e.flavor===T.D7))}var A=n(59145),x=n(53851),j=n(21914),L=n(74287),k=n(55278);class R extends r.Component{constructor(){super(...arguments),this.onPress=e=>{this.props.isSelected||this.props.onDestinationSelect(this.props.destination),this.props.onMenuClose()}}render(){const{destination:e,isSelected:t}=this.props;return r.createElement(k.Z,{isSelected:t,onPress:this.onPress},e.name)}}const z=R,U=function(e){const{target:t,isOpen:n,destination:i,destinations:s,onMenuClose:o,onDestinationSelect:l}=e;return r.createElement(L.Z,{target:t,isOpen:n,size:a.ln,onMenuClose:o},s.map(((e,t)=>r.createElement(z,{key:`playlist-destination-${t}`,destination:e,isSelected:e===i,onMenuClose:o,onDestinationSelect:l}))))};class V extends r.Component{constructor(e,t){super(e,t),this.onMenuButtonPress=()=>{this.setState({isMenuOpen:!this.state.isMenuOpen})},this.onMenuClose=()=>{this.setState({isMenuOpen:!1})},this.state={isMenuOpen:!1},this._menuButtonID=(0,x.Z)()}render(){const{className:e,destination:t,destinations:n,onDestinationSelect:i}=this.props,{isMenuOpen:a}=this.state;return!n||n.length<2?null:r.createElement("div",{className:e},r.createElement(A.Z,{id:this._menuButtonID,direction:a?j.UP:j.WV,onPress:this.onMenuButtonPress},t.name),r.createElement(U,{target:this._menuButtonID,isOpen:a,destination:t,destinations:n,onMenuClose:this.onMenuClose,onDestinationSelect:i}))}}const B=V,F=(0,l.P1)(P.Z,C.Z,E.Z,((e,t,n)=>{const r={server:t,provider:n},i=e.filter(O);return i.find((({server:e,provider:r})=>e.machineIdentifier===t.machineIdentifier&&r.identifier===n.identifier))||i.unshift(r),i})),_=(0,o.$j)((function(){return(0,l.P1)(w.Z,D.Z,F,((e,t,n)=>{const r=n.map((e=>({name:e.server.isCloud?(0,u.Z)("TIDAL"):e.server.friendlyName,serverEntityID:e.server.entityID,providerEntityID:e.provider.entityID})));return{destination:r.find((({serverEntityID:n,providerEntityID:r})=>n===e.entityID&&r===t.entityID)),destinations:r}}))}))(B);var H=n(55255),Q=n(58801),G=n(81017),W=n(94184),Y=n.n(W),K=n(6103),q=n(11956),$=n(84699),J=n(5148);const X=(0,o.$j)((function(){return(0,l.P1)((0,G.Z)(),(e=>e?{isLoading:!1,playlistID:e.ratingKey,title:e.title,thumb:e.thumb||e.composite||""}:{isLoading:!0}))}))((function(e){const{className:t,serverEntityID:n,providerEntityID:i,playlistID:a,title:s,thumb:o,isLoading:l,cellIndex:c,onSelect:d}=e,u=(0,q.Z)(e),p=(0,r.useCallback)((()=>{d(a)}),[a,d]);return r.createElement("div",{className:t,style:u.style},l?null:r.createElement(K.Z,{className:Y()("PlaylistListItem-container-W8NUn3",c%2&&"PlaylistListItem-alternate-2JzwxV"),onPress:p},r.createElement($.Z,{className:"PlaylistListItem-card-19-J2c PosterCard-card-3ds3Od",serverEntityID:n,providerEntityID:i,component:J.Z,width:40,height:40,url:o}),r.createElement("span",{className:"PlaylistListItem-title-CeCnF_"},s)))}));var ee=n(90961);var te=Object.defineProperty,ne=Object.prototype.hasOwnProperty,re=Object.getOwnPropertySymbols,ie=Object.prototype.propertyIsEnumerable,ae=(e,t,n)=>t in e?te(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,se=(e,t)=>{for(var n in t||(t={}))ne.call(t,n)&&ae(e,n,t[n]);if(re)for(var n of re(t))ie.call(t,n)&&ae(e,n,t[n]);return e};const oe=(0,ee.Z)(50);class le extends r.Component{constructor(){super(...arguments),this.renderPlaylistItem=e=>{const{serverEntityID:t,providerEntityID:n,onPlaylistSelect:i}=this.props;return r.createElement(X,se(se({},e),{className:"PlaylistList-cell-3BlFt0",serverEntityID:t,providerEntityID:n,onSelect:i}))}}render(){const e=this.props,{metadataItemEntityIDs:t,isPopulated:n,totalSize:i}=e,a=((e,t)=>{var n={};for(var r in e)ne.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&re)for(var r of re(e))t.indexOf(r)<0&&ie.call(e,r)&&(n[r]=e[r]);return n})(e,["metadataItemEntityIDs","isPopulated","totalSize"]);return n?r.createElement(H.Z,se({className:"PlaylistList-content-2TNiD8",scrollerClassName:"PlaylistList-contentScroller-3l-NtV",keyPropName:"metadataItemEntityID",items:t,size:i,layout:oe,cellRenderer:this.renderPlaylistItem},a)):r.createElement(Q.Z,{className:"PlaylistList-spinner-2Q2QzH"})}}const ce=le;var de=Object.defineProperty,ue=Object.prototype.hasOwnProperty,pe=Object.getOwnPropertySymbols,me=Object.prototype.propertyIsEnumerable,he=(e,t,n)=>t in e?de(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;function ge(e){if(!e)return(0,u.Z)("Title is required")}const ye=(0,h.Z)((e=>{var t=e,{showErrors:n}=t,i=((e,t)=>{var n={};for(var r in e)ue.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&pe)for(var r of pe(e))t.indexOf(r)<0&&me.call(e,r)&&(n[r]=e[r]);return n})(t,["showErrors"]);return r.createElement(m.Z,((e,t)=>{for(var n in t||(t={}))ue.call(t,n)&&he(e,n,t[n]);if(pe)for(var n of pe(t))me.call(t,n)&&he(e,n,t[n]);return e})({hasError:n},i))}));class ve extends r.Component{componentDidUpdate(e){this.props.isUpdating||!e.isUpdating||this.props.hasError||this.props.onModalClose()}render(){const{serverEntityID:e,providerEntityID:t,metadataItemEntityID:n,metadataListEntityID:i,title:a,smart:s,hasError:o,isUpdating:l,isMultiSelect:c,onModalClose:d,onDestinationSelect:m,onFormSubmit:h,onPlaylistSelect:E}=this.props,P=!c&&!s&&e&&t&&n;return r.createElement(S.Z,{onModalClose:d},r.createElement(v.Z,null,s?(0,u.Z)("Create Playlist"):(0,u.Z)("Add to Playlist")),P?r.createElement(_,{className:"AddToPlaylistModalContent-listModalSubheader-15IOEx",serverEntityID:e,providerEntityID:t,metadataItemEntityID:n,onDestinationSelect:m}):null,o?r.createElement(I.Z,{errorMessage:(0,u.Z)("Something went wrong. Make sure the destination is available and try again.")}):null,s?null:r.createElement(g.Z,{innerClassName:"AddToPlaylistModalContent-listModalInnerBody-2hoRXs"},i?r.createElement(M.Z,{serverEntityID:e,providerEntityID:t,metadataListEntityID:i,component:ce,initialSize:20,onPlaylistSelect:E}):null),r.createElement(y.Z,null,r.createElement(p.ZP,{className:"AddToPlaylistModalContent-createForm-2e8eVM",onSubmit:h},r.createElement(ye,{focusOnMount:!0,"data-autofocus":!0,selectTextOnFocus:!0,name:"title",initialValue:a,validations:[ge]}),r.createElement(b.Z,{className:"AddToPlaylistModalContent-createButton-2Uku0e",type:"submit",kind:f._8,isSpinning:l},(0,u.Z)("Create")))))}}const fe=ve;var be=Object.defineProperty,Ie=Object.prototype.hasOwnProperty,Se=Object.getOwnPropertySymbols,Me=Object.prototype.propertyIsEnumerable,Ee=(e,t,n)=>t in e?be(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const Pe=(0,l.P1)((e=>e.ui.addToPlaylistModal),d.Z,((e,t)=>{const{metadataItem:n,metadataList:r,multiSelect:i}=e;if(n)return n;const a=t[r];return a&&a.metadataItems.length?a.metadataItems[0]:i&&i.activeSelectionItems&&i.activeSelectionItems.length?i.activeSelectionItems[0].model:void 0})),De=(0,l.P1)((e=>e.ui.addToPlaylistModal),Pe,((e,t)=>({serverEntityID:e.server,providerEntityID:e.provider,metadataItemEntityID:t,metadataListEntityID:e.playlists,title:e.title,isUpdating:e.isUpdating,isMultiSelect:!!e.multiSelect,hasError:!!e.error})));class Ce extends r.Component{constructor(){super(...arguments),this.onAdd=e=>{this.props.dispatchAddToPlaylist(e)}}componentDidMount(){this.props.dispatchInitAddToPlaylistModal()}componentWillUnmount(){this.props.dispatchClearAddToPlaylistModal()}render(){const e=this.props,{dispatchInitAddToPlaylistModal:t,dispatchClearAddToPlaylistModal:n,dispatchAddToPlaylist:i}=e,a=((e,t)=>{var n={};for(var r in e)Ie.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&Se)for(var r of Se(e))t.indexOf(r)<0&&Me.call(e,r)&&(n[r]=e[r]);return n})(e,["dispatchInitAddToPlaylistModal","dispatchClearAddToPlaylistModal","dispatchAddToPlaylist"]);return r.createElement(fe,((e,t)=>{for(var n in t||(t={}))Ie.call(t,n)&&Ee(e,n,t[n]);if(Se)for(var n of Se(t))Me.call(t,n)&&Ee(e,n,t[n]);return e})({onPlaylistSelect:this.onAdd},a))}}const we=(0,o.$j)(De,(function(e,t){return{onDestinationSelect({serverEntityID:t,providerEntityID:n}){e(c.it({serverEntityID:t,providerEntityID:n}))},onFormSubmit(t){e(c.cg({formData:t}))},dispatchInitAddToPlaylistModal(){e(c.x3({serverEntityID:t.serverEntityID,providerEntityID:t.providerEntityID,metadataItemEntityID:t.metadataItemEntityID,metadataListEntityID:t.metadataListEntityID,playQueueID:t.playQueueID,smart:t.smart}))},dispatchClearAddToPlaylistModal(){e(c.h5())},dispatchAddToPlaylist(t){e(c.BJ({playlistID:t}))}}}))(Ce);var Ze=Object.defineProperty,Te=Object.prototype.hasOwnProperty,Ne=Object.getOwnPropertySymbols,Oe=Object.prototype.propertyIsEnumerable,Ae=(e,t,n)=>t in e?Ze(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const xe=function(e){const t=e,{isOpen:n,onModalClose:o}=t,l=((e,t)=>{var n={};for(var r in e)Te.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&Ne)for(var r of Ne(e))t.indexOf(r)<0&&Oe.call(e,r)&&(n[r]=e[r]);return n})(t,["isOpen","onModalClose"]);return r.createElement(s.Z,{size:a.HC,isOpen:n,metricsPage:i.ls,onModalClose:o},r.createElement(we,((e,t)=>{for(var n in t||(t={}))Te.call(t,n)&&Ae(e,n,t[n]);if(Ne)for(var n of Ne(t))Oe.call(t,n)&&Ae(e,n,t[n]);return e})({onModalClose:o},l)))}},13202:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d});var r=n(67294),i=n(55344),a=Object.defineProperty,s=Object.prototype.hasOwnProperty,o=Object.getOwnPropertySymbols,l=Object.prototype.propertyIsEnumerable,c=(e,t,n)=>t in e?a(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const d=function(e){const{prefs:t}=e;return r.createElement("div",null,t.map((e=>{const{id:t}=e;return r.createElement(i.Z,((e,t)=>{for(var n in t||(t={}))s.call(t,n)&&c(e,n,t[n]);if(o)for(var n of o(t))l.call(t,n)&&c(e,n,t[n]);return e})({key:t},e))})))}},3664:(e,t,n)=>{"use strict";n.d(t,{Z:()=>P});var r=n(67294),i=n(69881),a=n(5011),s=n(84699),o=n(5148),l=n(65732),c=n(36475),d=n(97784),u=n(80126);var p=Object.defineProperty,m=Object.prototype.hasOwnProperty,h=Object.getOwnPropertySymbols,g=Object.prototype.propertyIsEnumerable,y=(e,t,n)=>t in e?p(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const v=function(e){const t=e,{component:n,isSecondary:i}=t,a=((e,t)=>{var n={};for(var r in e)m.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&h)for(var r of h(e))t.indexOf(r)<0&&g.call(e,r)&&(n[r]=e[r]);return n})(t,["component","isSecondary"]);return r.createElement(n,((e,t)=>{for(var n in t||(t={}))m.call(t,n)&&y(e,n,t[n]);if(h)for(var n of h(t))g.call(t,n)&&y(e,n,t[n]);return e})({className:i?"MediaSubscriptionTitle-secondaryTitle-3ODBY0":"MediaSubscriptionTitle-title-2xYyOb"},a))};var f=Object.defineProperty,b=Object.prototype.hasOwnProperty,I=Object.getOwnPropertySymbols,S=Object.prototype.propertyIsEnumerable,M=(e,t,n)=>t in e?f(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;function E(e){const{serverEntityID:t,providerEntityID:n,hint:p,target:m,useStaticHeight:h,children:g,showSubscriptionBadge:y,isDownload:f}=e,{type:E,subtype:P}=p,{thumb:D,grandparentThumb:C}=m||p,w=E===i.PLAYLIST,Z=f&&w?m&&m.composite:C||D,T=f||E!==i.PLAYLIST?E:i.SHOW;return r.createElement("div",{className:"MediaSubscriptionHintPosterTitle-container-1ON72q"},r.createElement("div",{className:"MediaSubscriptionHintPosterTitle-left-Z8r-pS"},r.createElement(s.Z,{serverEntityID:t,providerEntityID:n,component:o.Z,type:T,width:130,height:(0,u.Cr)(130,T,P),url:Z},y?r.createElement("div",{className:"MediaSubscriptionHintPosterTitle-subscriptionBadge-2jX4XR MetadataPosterCardOverlay-badge-2SzLhB"},r.createElement(a.Z,{type:E})):null)),r.createElement("div",{className:"MediaSubscriptionHintPosterTitle-right-3FD_oI"},r.createElement("div",{className:h?"MediaSubscriptionHintPosterTitle-staticHeightTitleContainer-8Z1F_x MediaSubscriptionHintPosterTitle-titleContainer-3DI73C":"MediaSubscriptionHintPosterTitle-titleContainer-3DI73C"},function(e){switch(e){case i.MOVIE:case i.SHOW:return[c.Z];case i.EPISODE:return[l.Z,d.Z];case i.PLAYLIST:default:return[c.Z]}}(E).map(((e,t)=>r.createElement(v,((e,t)=>{for(var n in t||(t={}))b.call(t,n)&&M(e,n,t[n]);if(I)for(var n of I(t))S.call(t,n)&&M(e,n,t[n]);return e})({key:t,component:e,isSecondary:t>0},p))))),g))}E.defaultProps={useStaticHeight:!1};const P=E},75696:(e,t,n)=>{"use strict";n.d(t,{Z:()=>bt});var r=n(67294),i=n(69605),a=n(2424),s=n(37703),o=n(22222),l=n(13469),c=n.n(l),d=n(53145),u=n(84656),p=n(79498),m=n(77909),h=n(74995),g=n(90934);const y=(0,o.P1)((e=>e.ui.mediaSubscriptionModal.mediaSubscription),g.Z,((e,t)=>t[e])),v=(0,o.P1)((e=>e.ui.mediaSubscriptionModal.templates),g.Z,((e=[],t)=>e.map((e=>t[e]))));var f=n(27082),b=n(5562),I=n(69881),S=n(32003),M=n(3386),E=n(59194),P=n(66102),D=n(58801),C=n(38132),w=Object.defineProperty,Z=Object.prototype.hasOwnProperty,T=Object.getOwnPropertySymbols,N=Object.prototype.propertyIsEnumerable,O=(e,t,n)=>t in e?w(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const A=function(e){return r.createElement(C.Z,((e,t)=>{for(var n in t||(t={}))Z.call(t,n)&&O(e,n,t[n]);if(T)for(var n of T(t))N.call(t,n)&&O(e,n,t[n]);return e})({},e),r.createElement(D.Z,null))};var x=n(58368);var j=n(22745),L=n(70182),k=n(79849),R=n(56510),z=n(89460),U=n(60528),V=n(89197),B=n(58300),F=n(40691),_=n(64795),H=n(81017),Q=n(65732);const G=(0,s.$j)((function(){return(0,o.P1)((0,H.Z)(),((e={})=>({grandparentTitle:e.grandparentTitle})))}))(Q.Z);var W=n(16345),Y=n(92797);var K=Object.defineProperty,q=Object.prototype.hasOwnProperty,$=Object.getOwnPropertySymbols,J=Object.prototype.propertyIsEnumerable,X=(e,t,n)=>t in e?K(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const ee=function(e){const t=e,{component:n,isSecondary:i}=t,a=((e,t)=>{var n={};for(var r in e)q.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&$)for(var r of $(e))t.indexOf(r)<0&&J.call(e,r)&&(n[r]=e[r]);return n})(t,["component","isSecondary"]);return r.createElement(n,((e,t)=>{for(var n in t||(t={}))q.call(t,n)&&X(e,n,t[n]);if($)for(var n of $(t))J.call(t,n)&&X(e,n,t[n]);return e})({className:i?"ConflictTitle-secondaryTitle-3j47hD":"ConflictTitle-title-3lXnmB"},a))};var te=Object.defineProperty,ne=Object.prototype.hasOwnProperty,re=Object.getOwnPropertySymbols,ie=Object.prototype.propertyIsEnumerable,ae=(e,t,n)=>t in e?te(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const se=function(e){var t=e,{className:n,type:i}=t,a=((e,t)=>{var n={};for(var r in e)ne.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&re)for(var r of re(e))t.indexOf(r)<0&&ie.call(e,r)&&(n[r]=e[r]);return n})(t,["className","type"]);const s=function(e){switch(e){case"movie":case"show":return[W.Z];case"episode":return[G,Y.Z];case"playlist":default:return[W.Z]}}(i);return r.createElement("div",{className:"ConflictItemRow-container-3Dznp_"},s.map(((e,t)=>r.createElement(ee,((e,t)=>{for(var n in t||(t={}))ne.call(t,n)&&ae(e,n,t[n]);if(re)for(var n of re(t))ie.call(t,n)&&ae(e,n,t[n]);return e})({key:t,component:e,isSecondary:t>0},a)))))};var oe=Object.defineProperty,le=Object.prototype.hasOwnProperty,ce=Object.getOwnPropertySymbols,de=Object.prototype.propertyIsEnumerable,ue=(e,t,n)=>t in e?oe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const pe=(0,s.$j)((function(){return(0,o.P1)((0,H.Z)(),((e={})=>({type:e.type})))}))((function(e){return r.createElement(se,((e,t)=>{for(var n in t||(t={}))le.call(t,n)&&ue(e,n,t[n]);if(ce)for(var n of ce(t))de.call(t,n)&&ue(e,n,t[n]);return e})({},e))}));var me=n(3664);class he extends r.Component{componentDidUpdate(e,t){(e.isMediaSubscriptionMoving&&!this.props.isMediaSubscriptionMoving&&null==this.props.mediaSubscriptionMoveError||e.isMediaSubscriptionDeleting&&!this.props.isMediaSubscriptionDeleting&&null==this.props.mediaSubscriptionDeleteError)&&this.props.onModalClose()}render(){const{isRecordingSchedule:e,isMediaSubscriptionDeleting:t,mediaSubscriptionDeleteError:n,isMediaSubscriptionMoving:i,mediaSubscriptionMoveError:a,serverEntityID:s,providerEntityID:o,server:l,provider:c,sourceDirectory:d,hint:u,conflicts:p,onDelete:m,onMediaMove:h,onModalClose:g}=this.props,y=a||n;return r.createElement(_.Z,{onModalClose:g},r.createElement(z.Z,null,(0,b.Z)("Conflict Detected")),y?r.createElement(F.Z,{errorMessage:y}):null,r.createElement(L.Z,{autoScroll:!0},r.createElement(me.Z,{serverEntityID:s,providerEntityID:o,hint:u},r.createElement("div",{className:"MediaSubscriptionConflict-message-3lJ5_H"},1===p.length?(0,b.Z)("Conflicts with 1 recording"):(0,b.Z)("Conflicts with {conflictCount} recordings",{conflictCount:p.length})),r.createElement("div",{className:"MediaSubscriptionConflict-conflicts-9deJ-l"},p.map((({metadataItem:e},t)=>r.createElement(pe,{key:t,metadataItemEntityID:e})))))),r.createElement(k.Z,null,r.createElement(R.Z,null,r.createElement(B.Z,{isSpinning:t,kind:U.T,onPress:m},(0,b.Z)("Cancel This")),r.createElement(B.Z,{isSpinning:i,kind:U._8,onPress:h},(0,b.Z)("Prefer This")),e?r.createElement(j.Z,{kind:U._8,onPress:g},(0,b.Z)("Close")):r.createElement(j.Z,{kind:U._8,to:(0,V.ZP)(V.tk.RECORDING_SCHEDULE,l,c,d)},(0,b.Z)("Manage")))))}}he.defaultProps={conflicts:[]};const ge=he;var ye=n(6103),ve=n(37084),fe=n(79501);const be=function(){return r.createElement("div",{className:"CancelRecordingConfirmation-cancelConfirmationMessage-3FTzV8"},r.createElement("div",null,(0,b.Z)("Are you sure you want to cancel this recording?")),r.createElement("div",null,(0,b.Z)("This will cancel any future scheduled recordings and stop any recordings already in progress.")))};var Ie=n(13202),Se=Object.prototype.hasOwnProperty,Me=Object.getOwnPropertySymbols,Ee=Object.prototype.propertyIsEnumerable;function Pe(e){var t=e,{className:n,children:i}=t,a=((e,t)=>{var n={};for(var r in e)Se.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&Me)for(var r of Me(e))t.indexOf(r)<0&&Ee.call(e,r)&&(n[r]=e[r]);return n})(t,["className","children"]);return r.createElement("div",{className:n,style:a},i)}Pe.defaultProps={flexGrow:1,flexShrink:0};const De=Pe;var Ce=n(94184),we=n.n(Ce);var Ze=Object.prototype.hasOwnProperty,Te=Object.getOwnPropertySymbols,Ne=Object.prototype.propertyIsEnumerable;function Oe(e){var t=e,{className:n,children:i}=t,a=((e,t)=>{var n={};for(var r in e)Ze.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&Te)for(var r of Te(e))t.indexOf(r)<0&&Ne.call(e,r)&&(n[r]=e[r]);return n})(t,["className","children"]);return r.createElement("div",{className:we()("FlexGrid-grid-A7QIj6",n),style:a},i)}Oe.defaultProps={flexDirection:"row",justifyContent:"space-between",alignItems:"center",alignContent:"center"};const Ae=Oe;var xe=n(82378),je=n(26955),Le=n(18246),ke=n(51221),Re=Object.defineProperty,ze=Object.prototype.hasOwnProperty,Ue=Object.getOwnPropertySymbols,Ve=Object.prototype.propertyIsEnumerable,Be=(e,t,n)=>t in e?Re(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const Fe=(0,ke.Z)((function(e){const t=e,{name:n,initialValue:i,labelText:a,showErrors:s,errors:o,validations:l}=t,c=((e,t)=>{var n={};for(var r in e)ze.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&Ue)for(var r of Ue(e))t.indexOf(r)<0&&Ve.call(e,r)&&(n[r]=e[r]);return n})(t,["name","initialValue","labelText","showErrors","errors","validations"]);return r.createElement("div",null,r.createElement(je.Z,{name:n},a),r.createElement(Le.Z,((e,t)=>{for(var n in t||(t={}))ze.call(t,n)&&Be(e,n,t[n]);if(Ue)for(var n of Ue(t))Ve.call(t,n)&&Be(e,n,t[n]);return e})({name:n,size:xe.HC},c)))})),_e=function(e){const{libraries:t,targetLibrarySectionID:n,targetSectionLocationID:i,selectedLibrarySectionID:a}=e,s=function(e,t){return null!=e&&t.some((t=>t.librarySectionID===e))}(n,t)?n:function([e]){if(e)return e.librarySectionID}(t),o=function(e,t,n){let r=e.find((({librarySectionID:e})=>e===t));return r||(r=e.find((({librarySectionID:e})=>e===n))),r?r.locations.map((({id:e,path:t})=>({[e]:t}))):[]}(t,a,s),l=function(e,t){return null!=e&&t.some((t=>t.hasOwnProperty(e)))}(i,o)?i:function([e]){if(!e)return;const[t]=Object.keys(e);return e[t]}(o);return r.createElement(Ae,{flexWrap:"wrap"},r.createElement(De,{flexBasis:230,maxWidth:230},r.createElement(Fe,{labelText:(0,b.Z)("Add to Library"),name:"targetLibrarySectionID",initialValue:s,size:xe.HC,values:t.map((({title:e,librarySectionID:t},n)=>({[t]:e})))})),r.createElement(De,{flexBasis:230,maxWidth:230},o.length>1?r.createElement(Fe,{labelText:(0,b.Z)("Location"),name:"targetSectionLocationID",size:xe.HC,initialValue:l,values:o}):null))},He=function(e){const{serverEntityID:t,providerEntityID:n,hint:i,target:a,initialMode:s,isDownload:o,modes:l,libraries:c,targetLibrarySectionID:d,targetSectionLocationID:u,selectedLibrarySectionID:p,prefs:m}=e,h=m&&m.onlyNewAirings,g=i.type===I.EPISODE||i.type===I.SHOW||i.type===I.PLAYLIST;return r.createElement(me.Z,{serverEntityID:t,providerEntityID:n,hint:i,isDownload:o,showSubscriptionBadge:!o,target:a,useStaticHeight:g},r.createElement(Ae,{flexWrap:"wrap"},r.createElement(De,{flexBasis:230,maxWidth:230},l?r.createElement(Fe,{labelText:o?(0,b.Z)("Download"):(0,b.Z)("Record"),name:"mode",initialValue:s,values:l,isDisabled:l.length<2}):null),r.createElement(De,{flexBasis:230,maxWidth:230},h?r.createElement(Fe,{name:h.id,labelText:h.label,initialValue:h.value,values:h.enumValues.map((({label:e,value:t})=>({[t]:e})))}):null)),!o&&c&&c.length?r.createElement(_e,{libraries:c,targetLibrarySectionID:d,targetSectionLocationID:u,selectedLibrarySectionID:p}):null)};var Qe=Object.defineProperty,Ge=Object.prototype.hasOwnProperty,We=Object.getOwnPropertySymbols,Ye=Object.prototype.propertyIsEnumerable,Ke=(e,t,n)=>t in e?Qe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,qe=(e,t)=>{for(var n in t||(t={}))Ge.call(t,n)&&Ke(e,n,t[n]);if(We)for(var n of We(t))Ye.call(t,n)&&Ke(e,n,t[n]);return e};class $e extends r.Component{constructor(e,t){super(e,t),this.onAdvancedPress=()=>{this.setState({isAdvanced:!this.state.isAdvanced})},this.onCancelPress=()=>{this.setState({showCancelConfirmation:!0})},this.onBackPress=()=>{this.setState({showCancelConfirmation:!1})},this.onFormChange=e=>{if(this.props.showLibraries){if(!e.targetLibrarySectionID)return;e.targetLibrarySectionID.value!==this.state.selectedLibrarySectionID&&this.setState({selectedLibrarySectionID:e.targetLibrarySectionID.value})}if(e.mode&&e.mode.value!==this.state.selectedMode){const t=e.mode.value;this.setState({selectedMode:t}),this.props.onModeChange(t)}},this.state={selectedLibrarySectionID:e.targetLibrarySectionID,selectedMode:e.initialMode,isAdvanced:!1,showCancelConfirmation:!1}}componentDidUpdate(e,t){(e.isMediaSubscriptionSaving&&!this.props.isMediaSubscriptionSaving&&null==this.props.mediaSubscriptionSaveError||e.isMediaSubscriptionDeleting&&!this.props.isMediaSubscriptionDeleting&&null==this.props.mediaSubscriptionDeleteError)&&this.props.onModalClose()}render(){const e=this.props,{mediaSubscriptionKey:t,isMediaSubscriptionSaving:n,mediaSubscriptionSaveError:i,isMediaSubscriptionDeleting:a,mediaSubscriptionDeleteError:s,prefGroups:o,onModalClose:l,onSubmit:c,onDelete:d}=e,u=((e,t)=>{var n={};for(var r in e)Ge.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&We)for(var r of We(e))t.indexOf(r)<0&&Ye.call(e,r)&&(n[r]=e[r]);return n})(e,["mediaSubscriptionKey","isMediaSubscriptionSaving","mediaSubscriptionSaveError","isMediaSubscriptionDeleting","mediaSubscriptionDeleteError","prefGroups","onModalClose","onSubmit","onDelete"]),{isAdvanced:p,showCancelConfirmation:m}=this.state,h=(m?"MediaSubscriptionForm-cancelConfirmation-3qqNov":p&&"MediaSubscriptionForm-advancedForm-45qd-x")||"MediaSubscriptionForm-baseForm-1CcCy6",g=!!o.advanced,y=i||s;return r.createElement(ve.ZP,{className:h,onChange:this.onFormChange,onSubmit:c},r.createElement(_.Z,{onModalClose:l},r.createElement(z.Z,null,m?(0,b.Z)("Cancel Recording"):(0,b.Z)("Record Options")),y?r.createElement(F.Z,{errorMessage:y}):null,r.createElement(L.Z,null,r.createElement("div",{key:"base",className:"MediaSubscriptionForm-baseSettings-2qdAiz"},r.createElement(He,qe({selectedLibrarySectionID:this.state.selectedLibrarySectionID,prefs:o.basic},u))),g?r.createElement("div",{key:"advanced",className:"MediaSubscriptionForm-advancedSettings-3VLblG"},r.createElement(Ie.Z,qe({prefs:o.advanced},u))):null,m?r.createElement(be,null):null),r.createElement(k.Z,{className:m?"MediaSubscriptionForm-cancelConfirmationFooter-3OUlGn ModalFooter-modalFooter-1Q0cxs":"MediaSubscriptionForm-footer-2FfKgR ModalFooter-modalFooter-1Q0cxs"},m?null:r.createElement(R.Z,null,g?r.createElement(ye.Z,{kind:U._8,onPress:this.onAdvancedPress},r.createElement(fe.Z,{className:"MediaSubscriptionForm-advancedIcon-1i_aSR"}),p?(0,b.Z)("Show Basic"):(0,b.Z)("Show Advanced")):null),m?r.createElement(R.Z,null,r.createElement(j.Z,{onPress:this.onBackPress},(0,b.Z)("Back")),r.createElement(B.Z,{isSpinning:a,kind:U.T,onPress:d},(0,b.Z)("Yes"))):r.createElement(R.Z,null,t?r.createElement(j.Z,{kind:U.T,onPress:this.onCancelPress},(0,b.Z)("Cancel Recording")):r.createElement(j.Z,{kind:U.TP,onPress:l},(0,b.Z)("Cancel")),r.createElement(B.Z,{type:"submit",isSpinning:n,kind:U._8},t?(0,b.Z)("Save"):(0,b.Z)("Record"))))))}}const Je=$e;var Xe=n(38170);class et extends r.Component{componentDidUpdate(e,t){e.isMediaSubscriptionDeleting&&!this.props.isMediaSubscriptionDeleting&&null==this.props.mediaSubscriptionDeleteError&&this.props.onModalClose()}render(){const{serverEntityID:e,providerEntityID:t,mediaSubscriptionKey:n,hint:i,metadataType:a,isMediaSubscriptionDeleting:s,mediaSubscriptionDeleteError:o,canAddLibrary:l,onCreatePress:c,onModalClose:d,onDelete:u}=this.props,{typeString:p}=(0,I.getRootType)(a),{title:m}=S.ZP.get(p),h=l?(0,b.Z)("This recording cannot be scheduled because you dont yet have a library for {type}.",{type:m}):(0,b.Z)("This recording cannot be scheduled because there is no library for {type}.",{type:m});let g;return g=l?n?(0,b.Z)("Please create a library or cancel the recording."):(0,b.Z)("Please try recording again after you have created your library."):(0,b.Z)("Please ask the server owner to create the library or cancel the recording."),r.createElement(_.Z,{onModalClose:d},r.createElement(z.Z,null,(0,b.Z)("Record Options")),o?r.createElement(F.Z,{errorMessage:o}):null,r.createElement(L.Z,null,r.createElement(me.Z,{serverEntityID:e,providerEntityID:t,hint:i},r.createElement("div",{className:"MediaSubscriptionNoLibrary-errorMessage-3_PyXj"},(0,b.Z)("{type} Library Required",{type:m})),r.createElement("p",null,h),r.createElement("p",null,g),l?r.createElement(ye.Z,{kind:U._8,onPress:c},r.createElement(Xe.Z,{className:"MediaSubscriptionNoLibrary-addIcon-1_lL3x"})," ",(0,b.Z)("Create Library")):null)),r.createElement(k.Z,null,r.createElement(R.Z,null,n?r.createElement(B.Z,{isSpinning:s,kind:U.T,onPress:u},(0,b.Z)("Cancel Recording")):null,r.createElement(j.Z,{onPress:d},(0,b.Z)("Cancel")))))}}const tt=et;var nt=Object.defineProperty,rt=Object.prototype.hasOwnProperty,it=Object.getOwnPropertySymbols,at=Object.prototype.propertyIsEnumerable,st=(e,t,n)=>t in e?nt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ot=(e,t)=>{for(var n in t||(t={}))rt.call(t,n)&&st(e,n,t[n]);if(it)for(var n of it(t))at.call(t,n)&&st(e,n,t[n]);return e},lt=(e,t)=>{var n={};for(var r in e)rt.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&it)for(var r of it(e))t.indexOf(r)<0&&at.call(e,r)&&(n[r]=e[r]);return n};function ct(){return(0,o.P1)(((e,{subscriptionType:t})=>t),(e=>"playlist"===e?"show":e))}const dt={dispatchFetchLibraries:d.tU,dispatchAddLibrary:E.Wy,dispatchInitMediaSubscriptionModal:u.np,dispatchClearMediaSubscriptionModal:u.K7,dispatchSaveMediaSubscription:u.eU,dispatchChangeMediaSubscriptionTemplateMode:u.K5,dispatchMoveMediaSubscriptionModal:u.kB,dispatchDeleteMediaSubscriptionModal:u.XK,dispatchDeleteMediaGrabOperationsModal:u.NJ};class ut extends r.Component{constructor(e,t){super(e,t),this.onSubmit=e=>{const{serverEntityID:t,metadataItemEntityID:n}=this.props,r=e,{targetLibrarySectionID:i,targetSectionLocationID:a,mode:s}=r,o=lt(r,["targetLibrarySectionID","targetSectionLocationID","mode"]);this.props.dispatchSaveMediaSubscription({serverEntityID:t,metadataItemEntityID:n,targetLibrarySectionID:i,targetSectionLocationID:a,prefs:o})},this.onDelete=()=>{var e;(null==(e=this.props.conflicts)?void 0:e.length)?this.props.dispatchDeleteMediaGrabOperationsModal({metadataItemEntityID:this.props.metadataItemEntityID}):this.props.dispatchDeleteMediaSubscriptionModal({metadataItemEntityID:this.props.metadataItemEntityID})},this.onModeChange=e=>{(0,f.c9)((()=>{this.props.dispatchChangeMediaSubscriptionTemplateMode({modeIndex:e})}))},this.onMediaMove=()=>{this.props.dispatchMoveMediaSubscriptionModal()},this.onCreatePress=()=>{const{metadataType:e,serverEntityID:t}=this.props,{typeString:n}=(0,I.getRootType)(e),r=S.ZP.get(n);this.props.onModalClose(),this.props.dispatchAddLibrary({serverEntityID:t,options:{redirect:!1,seedAttrs:{type:r.typeString,title:r.title,language:r.defaultLanguage}}})},this.state={showConflicts:e.showConflicts}}componentDidMount(){this._populate()}UNSAFE_componentWillReceiveProps(e){var t;let n=this.state.showConflicts;this.props.isMediaSubscriptionSaving&&!e.isMediaSubscriptionSaving&&(null==(t=e.conflicts)?void 0:t.length)&&(n=!0),n!==this.state.showConflicts&&this.setState({showConflicts:n});const r=this.props.metadataItemEntityID!==e.metadataItemEntityID,i=this.props.mediaSubscriptionEntityID!==e.mediaSubscriptionEntityID;(r||i)&&this._populate(e)}componentWillUnmount(){this.props.dispatchClearMediaSubscriptionModal()}_populate(e=this.props){const{serverEntityID:t,mediaSubscriptionEntityID:n,metadataItemEntityID:r,showConflicts:i}=e;(0,f.c9)((()=>{e.dispatchFetchLibraries({serverEntityID:t}),e.dispatchInitMediaSubscriptionModal({serverEntityID:t,mediaSubscriptionEntityID:n,metadataItemEntityID:r,showConflicts:i})}))}render(){const{libraries:e,isLibrariesLoading:t,hasLibrariesError:n,isMediaSubscriptionPending:i,isMediaSubscriptionPopulated:a,mediaSubscriptionError:s,showLibraries:o,onModalClose:l}=this.props;return s?r.createElement(P.Z,{message:s,onModalClose:l}):n?r.createElement(P.Z,{message:(0,b.Z)("There was an unexpected error loading libraries."),onModalClose:l}):i||!a||t?r.createElement(A,{onModalClose:l}):o&&e&&!e.length?r.createElement(tt,ot(ot({},this.props),{onCreatePress:this.onCreatePress,onDelete:this.onDelete})):this.state.showConflicts?r.createElement(ge,ot(ot({},this.props),{onDelete:this.onDelete,onMediaMove:this.onMediaMove})):r.createElement(Je,ot(ot({},this.props),{onModeChange:this.onModeChange,onSubmit:this.onSubmit,onDelete:this.onDelete}))}}ut.defaultProps={showConflicts:!1,showLibraries:!0};const pt=(0,s.$j)((function(){return(0,o.P1)((0,h.Z)(),(0,m.Z)(),(e=>e.ui.mediaSubscriptionModal),y,v,ct(),(0,o.P1)((0,p.Z)(),ct(),((e,t)=>{const n=(0,I.getRootType)(t);return e.filter((e=>{const{id:t}=(0,I.getMetadataType)(e.type);return t===n.id})).map((e=>({librarySectionID:e.key,locations:e.locations,title:e.title})))})),((e,t,n,r={},i,a,s)=>{const o=c().omit(n,"templates","mediaSubscription"),l=r,{key:d,grabOperations:u=[],prefs:p}=l,m=lt(l,["key","grabOperations","prefs"]),h=e.isFullOwnedServer,{initialMode:g,modes:y}=function(e,t){let n,r;return t.length>1?(r=t.findIndex((e=>e.selected)),n=t.map((({title:e},t)=>({[t]:e})))):(r=0,n=e.title?[{0:e.title}]:null),{initialMode:r,modes:n}}(r,i),v=u.reduce(((e,t)=>t.conflicts&&t.conflicts.length?e.concat(t.conflicts):e),[]),f=(0,x.Z)(p),b=(0,M.Z)(t),I=b?b.directories[0]:null,S=e&&e.desktop||{};return ot(ot({mediaSubscriptionKey:d,prefGroups:f,metadataType:a,libraries:s,isLibrariesLoading:!S.isLibrariesPopulated||S.isLibrariesPending,hasLibrariesError:!!S.librariesError,initialMode:g,modes:y,conflicts:v,server:e,provider:t,canAddLibrary:h,sourceDirectory:I},o),m)}))}),dt)(ut);var mt=Object.defineProperty,ht=Object.prototype.hasOwnProperty,gt=Object.getOwnPropertySymbols,yt=Object.prototype.propertyIsEnumerable,vt=(e,t,n)=>t in e?mt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ft=(e,t)=>{for(var n in t||(t={}))ht.call(t,n)&&vt(e,n,t[n]);if(gt)for(var n of gt(t))yt.call(t,n)&&vt(e,n,t[n]);return e};const bt=function(e){const t=e,{isOpen:n,metricsProperties:s,onModalClose:o}=t,l=((e,t)=>{var n={};for(var r in e)ht.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&gt)for(var r of gt(e))t.indexOf(r)<0&&yt.call(e,r)&&(n[r]=e[r]);return n})(t,["isOpen","metricsProperties","onModalClose"]);return r.createElement(a.Z,{isOpen:n,metricsPage:i.X$,metricsProperties:s,onModalClose:o},r.createElement(pt,ft(ft({},l),{onModalClose:o})))}},48927:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>J});var r=n(37703),i=n(22222),a=n(99051),s=n(67294),o=n(69605),l=n(2424),c=n(64795),d=n(66102),u=n(50362),p=n(14699),m=n(58368),h=n(5562),g=n(22745),y=n(37084),v=n(70182),f=n(79849),b=n(56510),I=n(89460),S=n(30464),M=n(60528),E=n(58300),P=n(40691),D=n(13202),C=Object.defineProperty,w=Object.prototype.hasOwnProperty,Z=Object.getOwnPropertySymbols,T=Object.prototype.propertyIsEnumerable,N=(e,t,n)=>t in e?C(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,O=(e,t)=>{for(var n in t||(t={}))w.call(t,n)&&N(e,n,t[n]);if(Z)for(var n of Z(t))T.call(t,n)&&N(e,n,t[n]);return e};const A=function(e){const t=e,{errorMessage:n,isMediaSubscriptionSaving:r,prefGroups:i,className:a,onModalClose:o,onSubmit:l}=t,c=((e,t)=>{var n={};for(var r in e)w.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&Z)for(var r of Z(e))t.indexOf(r)<0&&T.call(e,r)&&(n[r]=e[r]);return n})(t,["errorMessage","isMediaSubscriptionSaving","prefGroups","className","onModalClose","onSubmit"]),d=(0,S.Z)(r)&&!r;return(0,s.useEffect)((()=>{d&&!n&&o()}),[n,d,o]),s.createElement(y.ZP,{className:a,onSubmit:l},s.createElement(I.Z,null,(0,h.Z)("Download Options")),n?s.createElement(P.Z,{errorMessage:n}):null,s.createElement(v.Z,null,s.createElement("div",{key:"advanced"},s.createElement(D.Z,O(O({},c),{prefs:i.advanced})))),s.createElement(f.Z,null,s.createElement(b.Z,null,s.createElement(g.Z,{kind:M.TP,onPress:o},(0,h.Z)("Cancel")),s.createElement(E.Z,{type:"submit",isSpinning:r,kind:M._8},(0,h.Z)("Save")))))};var x=Object.defineProperty,j=Object.prototype.hasOwnProperty,L=Object.getOwnPropertySymbols,k=Object.prototype.propertyIsEnumerable,R=(e,t,n)=>t in e?x(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,z=(e,t)=>{for(var n in t||(t={}))j.call(t,n)&&R(e,n,t[n]);if(L)for(var n of L(t))k.call(t,n)&&R(e,n,t[n]);return e},U=(e,t)=>{var n={};for(var r in e)j.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&L)for(var r of L(e))t.indexOf(r)<0&&k.call(e,r)&&(n[r]=e[r]);return n};const V=new Set(["autoDeletionItemPolicyUnwatchedLibrary","autoDeletionItemPolicyWatchedLibrary"]),B={dispatchSyncDownloadModalChangeTemplateMode:a.Jl,dispatchSyncDownloadSaveSubscription:a.Y1},F=(0,r.$j)((function(){return(0,i.P1)(((e,{modal:t})=>t),(0,p.Z)(),(0,i.P1)((e=>e.downloads.states),((e,{modal:t})=>t),((e,t)=>{const{sourceAttr:n,ratingKey:r}=t;return e.some((e=>e.ratingKey===r&&e.sourceAttr===n&&"saving"===e.state))})),u.Z,((e,t,n,r)=>{const{hint:i}=t,a=t.target&&r[t.target.metadata],s=(0,m.Z)(t.prefs,V);return{errorMessage:e.error,hint:i,isMediaSubscriptionSaving:n,prefGroups:s,target:a}}))}),B)((function(e){const t=e,{dispatchSyncDownloadModalChangeTemplateMode:n,dispatchSyncDownloadSaveSubscription:r,modal:i}=t,a=U(t,["dispatchSyncDownloadModalChangeTemplateMode","dispatchSyncDownloadSaveSubscription","modal"]),{ratingKey:o,sourceAttr:l}=i,c=(0,s.useCallback)((e=>{const t=e,{mode:n}=t,i=U(t,["mode"]);r({prefs:i,ratingKey:o,sourceAttr:l})}),[o,l,r]);return s.createElement(A,z(z({},a),{onSubmit:c}))})),_=function(e){const{isOpen:t,modal:n,onSyncDownloadModalClose:r}=e,{error:i,mediaSubscription:a,ratingKey:u,sourceAttr:p}=n,m=(0,s.useCallback)((()=>{r({ratingKey:u,sourceAttr:p})}),[u,p,r]);return s.createElement(l.Z,{isOpen:t,metricsPage:o.B8,onModalClose:m},i&&!a?s.createElement(d.Z,{message:i,onModalClose:m}):s.createElement(c.Z,{onModalClose:m},s.createElement(F,{className:"SyncDownloadModal-formContent-2qUtoR ModalContent-modalContent-12mSTV",modal:n,mediaSubscriptionEntityID:a,onModalClose:m})))};var H=Object.defineProperty,Q=Object.prototype.hasOwnProperty,G=Object.getOwnPropertySymbols,W=Object.prototype.propertyIsEnumerable,Y=(e,t,n)=>t in e?H(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,K=(e,t)=>{for(var n in t||(t={}))Q.call(t,n)&&Y(e,n,t[n]);if(G)for(var n of G(t))W.call(t,n)&&Y(e,n,t[n]);return e};const q=(0,i.P1)((function(e){return e.ui.syncDownloadModals}),(e=>({modal:e.find((e=>e.isOpen))}))),$={onSyncDownloadModalClose:a.yr},J=(0,r.$j)(q,$)((function(e){return e.modal?s.createElement(_,K(K({},e),{isOpen:!0})):null}))},96270:(e,t,n)=>{"use strict";n.d(t,{Z:()=>U});var r=n(67294),i=n(69605),a=n(2424),s=n(37703),o=n(22222),l=n(34891),c=n(82261),d=n(92187),u=n(99449),p=n(27082),m=n(43666),h=n(58709),g=n(5562),y=n(65671),v=n(22745),f=n(6103),b=n(26955),I=n(70182),S=n(79849),M=n(89460),E=n(30464),P=n(60528),D=n(90653),C=n(52114),w=n(58801),Z=n(58300),T=n(40691),N=n(64795);const O=function(e){const{serverEntityID:t,metadataItemEntityID:n,watchTogetherRoomEntityID:i,users:a,isLoading:s,isInvitePending:o,isInviteCompleted:l,inviteError:c,onModalClose:d,dispatchCreateRoom:u,dispatchInviteUsers:p}=e,[m,h]=(0,r.useState)([]),O=!(0,E.Z)(l)&&l&&!c;(0,r.useEffect)((()=>{O&&d()}),[O,d]);const A=(0,r.useCallback)((e=>m.includes(e.id)),[m]),x=(0,r.useCallback)((e=>{const t=m.includes(e)?m.filter((t=>t!==e)):[...m,e];h(t)}),[m]),j=(0,r.useCallback)((()=>{i?p({watchTogetherRoomEntityID:i,userIDs:m}):u({metadataItemEntityID:n,userIDs:m})}),[n,i,m,u,p]),L=a.length>0;return r.createElement(N.Z,{onModalClose:d},r.createElement(M.Z,null,(0,g.Z)("Watch Together")),c?r.createElement(T.Z,{errorMessage:c}):null,r.createElement(I.Z,{className:"WatchTogetherInviteModalContent-modalBody-1QmrET ModalBody-modalBody-38ercY",scrollDirection:D.Hn},s?null:r.createElement("div",{className:"WatchTogetherInviteModalContent-message-qbZjvQ"},L?(0,g.Z)("Invite friends to watch with you."):r.createElement(y.Z,{message:(0,g.Z)("Add friends in {openSpan}Users & Sharing{closeSpan} to watch together."),tags:[{open:"openSpan",close:"closeSpan",component:f.Z,kind:P._8,to:"#!/settings/users-sharing"}]})),s?r.createElement("div",{className:"WatchTogetherInviteModalContent-spinnerContainer-3h-Fqq"},r.createElement(w.Z,null)):null,!s&&L?r.createElement(r.Fragment,null,r.createElement(b.Z,null,(0,g.Z)("Users")),r.createElement(C.Z,{className:"WatchTogetherInviteModalContent-list-2dpwK0 UserList-list-3MJnr9 Scroller-vertical-3IY07c",serverEntityID:t,users:a,isUserSelected:A,onUserSelect:x})):null),r.createElement(S.Z,{className:"WatchTogetherInviteModalContent-modalFooter-WaRJhX ModalFooter-modalFooter-1Q0cxs"},r.createElement(v.Z,{onPress:d},(0,g.Z)("Cancel")),r.createElement(Z.Z,{kind:P._8,isDisabled:o||0===m.length,isSpinning:o,onPress:j},(0,g.Z)("Invite"))))};var A=Object.defineProperty,x=Object.prototype.hasOwnProperty,j=Object.getOwnPropertySymbols,L=Object.prototype.propertyIsEnumerable,k=(e,t,n)=>t in e?A(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const R={dispatchFetchAllFriends:m.Tp,dispatchCreateRoom:h.dB,dispatchInviteUsers:h.pS,dispatchResetCreateRoom:h.KU},z=(0,s.$j)((function(){return(0,o.P1)((e=>e.ui.watchTogether),d.Z,c.Z,l.Z,(0,o.P1)(((e,{watchTogetherRoomEntityID:t})=>t),u.Z,((e,t)=>t[e])),((e,t,n,r,i)=>({users:n.reduce(((e,t)=>{const n=r[t];return(!i||!i.users.find((e=>e.id===n.id)))&&e.push(n),e}),[]),isLoading:t.isAllFriendsPending,isInvitePending:e.isInvitePending,isInviteCompleted:e.isInviteCompleted,inviteError:e.inviteError})))}),R)((function(e){const t=e,{dispatchFetchAllFriends:n,dispatchResetCreateRoom:i}=t,a=((e,t)=>{var n={};for(var r in e)x.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&j)for(var r of j(e))t.indexOf(r)<0&&L.call(e,r)&&(n[r]=e[r]);return n})(t,["dispatchFetchAllFriends","dispatchResetCreateRoom"]);return(0,r.useEffect)((()=>{(0,p.c9)((()=>{n()}))}),[n]),(0,r.useEffect)((()=>i),[i]),r.createElement(O,((e,t)=>{for(var n in t||(t={}))x.call(t,n)&&k(e,n,t[n]);if(j)for(var n of j(t))L.call(t,n)&&k(e,n,t[n]);return e})({},a))})),U=function(e){const{serverEntityID:t,metadataItemEntityID:n,watchTogetherRoomEntityID:s,metricsProperties:o,isOpen:l,onModalClose:c}=e;return r.createElement(a.Z,{metricsPage:i.Vg,metricsProperties:o,isOpen:l,onModalClose:c},r.createElement(z,{serverEntityID:t,metadataItemEntityID:n,watchTogetherRoomEntityID:s,onModalClose:c}))}},51792:(e,t,n)=>{"use strict";n.d(t,{Z:()=>Me});var r=n(94184),i=n.n(r),a=n(67294),s=n(19210),o=n(47636),l=n(89267),c=n(5148),d=n(22222),u=n(59756),p=n(34007),m=n(79932),h=n(81017),g=n(45206),y=n(89335),v=n(69881),f=n(54834),b=n(757),I=n(50316),S=n(57358),M=n(98563),E=n(90579),P=n(61478),D=n(91135);function C(e,t){const{type:n,subtype:r,viewCount:i,viewOffset:a,saved:s}=e;if(null!=s&&!s)return!1;const o=n===v.TRACK&&r===P.PODCAST,l=n===v.EPISODE&&r===P.WEBSHOW;return(o||l||function(e,t){const{isLibraryItem:n,isFolder:r,isExtra:i}=e;return n&&!r&&!i&&t.mediaType===D.pX}(e,t))&&!i&&!a}function w(e,t){const{type:n,subtype:r,saved:i,unviewedLeafCount:a,isLibraryItem:s,isExtra:o}=e;if(null!=i&&!i)return!1;const l=s&&!o&&v.isDirectoryType(n)&&t.mediaType===D.pX,c=n===v.SHOW&&(r===P.PODCAST||r===P.WEBSHOW);return(l||c)&&!!a}var Z=n(87691);function T(e){const{type:t,isLibraryItem:n,isExtra:r,Media:i}=e,a=(0,v.getMetadataType)(t);if(!a)return!1;const s=i.length;return n&&!r&&a.mediaType===D.pX&&s>1}var N=n(73862),O=n(63210),A=n(21709),x=n(72181),j=n(28889),L=n(73588),k=n(27154),R=n(6103),z=n(5011),U=n(53851),V=n(52097),B=n(10128),F=n(75696);function _(e,t,n){const r=t-e,i=n-e;return(0,y.Z)(i,r)}var H=n(27202);class Q extends a.Component{constructor(e,t){super(e,t),this.tick=()=>{this.setState(this.getState(this.props)),this.setTickTimeout()},this.state=this.getState(e)}UNSAFE_componentWillMount(){this.setTickTimeout()}UNSAFE_componentWillReceiveProps(e,t){this.setState(this.getState(e))}shouldComponentUpdate(e,t){return(0,o.Z)(this,e,t)}componentWillUnmount(){this.tickTimeout&&window.clearTimeout(this.tickTimeout)}getState({beginsAt:e,endsAt:t}){return{progress:_(e,t,Date.now()/1e3)}}setTickTimeout(){this.tickTimeout=window.setTimeout(this.tick,6e4-Date.now()%6e4)}render(){const e=this.props.className,t=this.state.progress;return t?a.createElement(H.Z,{className:e,progress:t}):null}}const G=Q;class W extends a.Component{constructor(e,t){super(e,t),this.onRecordPress=e=>{this.setState({isSubscribeModalOpen:!0})},this.onSubscribeModalClose=()=>{this.setState({isSubscribeModalOpen:!1})},this.state={isSubscribeModalOpen:!1},this._moreButtonID=(0,U.Z)()}shouldComponentUpdate(e,t){return(0,o.Z)(this,e,t)}render(){const{className:e,serverEntityID:t,providerEntityID:n,metadataItemEntityID:r,route:s,type:o,title:l,subscriptionType:c,isSubscribed:d,showLink:u,beginsAt:p,endsAt:m,showPlay:h,showRecord:g,onPlayLiveTVPress:y}=this.props,{isSubscribeModalOpen:v}=this.state;return a.createElement("div",{className:i()(e,"EPGPosterCardOverlay-overlay-Nwfy_X")},a.createElement("div",{className:"EPGPosterCardOverlay-background-1-ScA-"}),d?a.createElement("div",{className:"EPGPosterCardOverlay-subscriptionBadge-BMVIPe MetadataPosterCardOverlay-badge-2SzLhB"},a.createElement(z.Z,{type:c})):null,u?a.createElement(R.Z,{className:"EPGPosterCardOverlay-link-cMbySe",to:s}):null,a.createElement(G,{className:"EPGPosterCardOverlay-progress-q8pdJR PosterCardOverlayProgress-progress-nklF0v",beginsAt:p,endsAt:m}),h?a.createElement(V.Z,{className:u?"EPGPosterCardOverlay-playButton-37xkJ0 RecordButton-recordButton-2H5wQ_ PlayButton-playButton-2dFmuo RecordIcon-recordIconContainer-3wNYSz EPGPosterCardOverlay-button-3PdN5o MetadataPosterCardOverlay-button-28HkcF":"EPGPosterCardOverlay-playCoverButton-2DtcDc EPGPosterCardOverlay-playButton-37xkJ0 RecordButton-recordButton-2H5wQ_ PlayButton-playButton-2dFmuo RecordIcon-recordIconContainer-3wNYSz EPGPosterCardOverlay-button-3PdN5o MetadataPosterCardOverlay-button-28HkcF",circleClassName:"EPGPosterCardOverlay-playCircle-2493Vc MetadataPosterCardOverlay-playCircle-3mCEvQ PlayButton-playCircle-2DYa77 MetadataPosterCardOverlay-centerCircle-1wphgg",tabIndex:"-1",title:l,"data-qa-id":"metadataPosterPlayButton",onPress:y}):null,!h&&g?a.createElement(B.Z,{className:u?"EPGPosterCardOverlay-recordButton-1qk4sb RecordButton-recordButton-2H5wQ_ PlayButton-playButton-2dFmuo RecordIcon-recordIconContainer-3wNYSz EPGPosterCardOverlay-button-3PdN5o MetadataPosterCardOverlay-button-28HkcF":"EPGPosterCardOverlay-recordCoverButton-FFitz2 EPGPosterCardOverlay-recordButton-1qk4sb RecordButton-recordButton-2H5wQ_ PlayButton-playButton-2dFmuo RecordIcon-recordIconContainer-3wNYSz EPGPosterCardOverlay-button-3PdN5o MetadataPosterCardOverlay-button-28HkcF","data-qa-id":"metadataPosterRecordButton",circleClassName:"EPGPosterCardOverlay-recordCircle-1ss0vx RecordIcon-recordCircle-24nR_8 PlayButton-playCircle-2DYa77 MetadataPosterCardOverlay-centerCircle-1wphgg",iconClassName:"EPGPosterCardOverlay-recordIcon-t706e9 RecordIcon-recordIcon-vppRrs",tabIndex:"-1",title:l,onPress:this.onRecordPress}):null,h&&g?a.createElement(B.Z,{className:"EPGPosterCardOverlay-recordButtonBottom-1IcmXe EPGPosterCardOverlay-recordButton-1qk4sb RecordButton-recordButton-2H5wQ_ PlayButton-playButton-2dFmuo RecordIcon-recordIconContainer-3wNYSz EPGPosterCardOverlay-button-3PdN5o MetadataPosterCardOverlay-button-28HkcF","data-qa-id":"metadataPosterRecordButton",circleClassName:"EPGPosterCardOverlay-recordCircleBottom-2K3xhq EPGPosterCardOverlay-recordCircle-1ss0vx RecordIcon-recordCircle-24nR_8 PlayButton-playCircle-2DYa77 MetadataPosterCardOverlay-centerCircle-1wphgg",iconClassName:"EPGPosterCardOverlay-recordIconBottom-1KR8Kh RecordIcon-recordIcon-vppRrs",tabIndex:"-1",title:l,onPress:this.onRecordPress}):null,a.createElement(F.Z,{serverEntityID:t,providerEntityID:n,metadataItemEntityID:r,isOpen:v,subscriptionType:o,onModalClose:this.onSubscribeModalClose}))}}const Y=W;var K=n(77199),q=Object.defineProperty,$=Object.prototype.hasOwnProperty,J=Object.getOwnPropertySymbols,X=Object.prototype.propertyIsEnumerable,ee=(e,t,n)=>t in e?q(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,te=(e,t)=>{for(var n in t||(t={}))$.call(t,n)&&ee(e,n,t[n]);if(J)for(var n of J(t))X.call(t,n)&&ee(e,n,t[n]);return e};const ne=(0,A.Z)(K.Z),re=(0,Z.Z)((function(){return(0,d.P1)(((e,{type:t})=>t),((e,{listType:t})=>t),(0,h.Z)(),I.Z,b.Z,S.Z,(0,O.Z)(),(0,d.P1)((0,h.Z)(),(e=>e&&e.viewOffset&&e.type!==v.GAME?(0,y.Z)(e.viewOffset,e.duration):0)),(0,g.Z)(),(0,f.Z)(),((e,t,n,r={},i={},a={},s,o,l,c)=>{const{subtype:d,title:p,viewCount:m,viewOffset:h,unviewedLeafCount:g,smart:y,icon:f,metadataState:b,mediaState:I,deletedAt:S,subscriptionID:P,subscriptionType:D,grandparentSubscriptionID:Z,grandparentSubscriptionType:N,ratingKey:O,isFolder:A,isPlaylist:k,Media:R}=n,z=(0,x.tW)({server:r,provider:i,stableUser:a,metadataItem:n}),U=!!i.features.subscribe,V=(0,x.J5)({server:r,provider:i,stableUser:a,metadataItem:n}),B=t===v.PHOTO&&(0,x.y7)({server:r,provider:i,stableUser:a,metadataItem:n}),F=t===v.PHOTO&&(0,x.QF)({server:r,provider:i,stableUser:a,metadataItem:n}),_=(0,x.k_)({server:r,provider:i,stableUser:a,metadataItem:n}),H=v.getMetadataType(e),Q=v.getLeafType(e),G=!(!H||!Q||H.id!==Q.id),W=R.length,Y=null!=P||null!=Z,K=!!y&&k,q=f===M.nA,$=b===E.gO,J=b===E.a7||b===E.br,X=!$&&!J&&!!I,ee=$||J||X,te=!ee&&!!S,ne=!(!O||!l)&&u.Z.allowSyncDownload;return{server:r,provider:i,route:s,title:p,viewCount:m,viewOffset:h,viewPercent:o,unviewedLeafCount:g,mediaCount:W,subscriptionType:D||N,type:e,subtype:d,isSubscribed:Y,isMultiVersion:T(n),isSmart:K,isFavorite:q,isMatching:$,isProcessing:J,isAnalyzing:X,isRefreshing:ee,isTrash:te,isLeafType:G,showLink:!!s,showUnplayedBadge:C(n,H),showUnplayedNumberBadge:w(n,Q),showPlay:z,showRecord:U,showEdit:V,showFavorite:B,showUnfavorite:F,showSelect:_,showMore:!A,showAvailableOffline:ne,beginsAt:c&&c.beginsAt,endsAt:c&&c.endsAt,source:l,ratingKey:O,hasOfflineFile:(0,j.Z)(n),hasOwnSubscription:(0,L.Z)(n)}}))}),(function(e,t){const n={serverEntityID:t.serverEntityID,providerEntityID:t.providerEntityID,itemServerEntityID:t.itemServerEntityID||t.serverEntityID,itemProviderEntityID:t.itemProviderEntityID||t.providerEntityID,metadataItemEntityID:t.metadataItemEntityID,metricsPage:t.metricsPage,metricsProperties:{context:t.metricsContext}};return{onPlayPress(){e((0,m.wA)(te(te({},n),{options:{containerKey:t.containerKey,listType:t.listType}})))},onPlayLiveTVPress(){e((0,p.lS)(te(te({},n),{options:{containerKey:t.containerKey,listType:t.listType}})))},onEditPress(){e((0,N.editMetadataItem)(n))},onFavoritePress(){e((0,N.favoriteMetadataItem)(n))},onUnfavoritePress(){e((0,N.unfavoriteMetadataItem)(n))}}}),k.Z)((function(e){const t=e,{server:n,provider:r}=t,i=((e,t)=>{var n={};for(var r in e)$.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&J)for(var r of J(e))t.indexOf(r)<0&&X.call(e,r)&&(n[r]=e[r]);return n})(t,["server","provider"]),s=te(te({},i),{itemServerEntityID:e.itemServerEntityID||e.serverEntityID,itemProviderEntityID:e.itemProviderEntityID||e.providerEntityID});return r.protocols.livetv?a.createElement(Y,te({},s)):e.showSelect&&!e.showLinkOnly?a.createElement(ne,te({},s)):a.createElement(K.Z,te({},s))})),ie={poster:"MetadataPosterCardFace-poster-11uR3N",face:"MetadataPosterCardFace-face-3oaw1P MetadataPosterCardFace-poster-11uR3N",isSelected:"MetadataPosterCardFace-isSelected-2dld-q",faceFront:"MetadataPosterCardFace-faceFront-2Ik1VZ",faceBack:"MetadataPosterCardFace-faceBack-3jAK_A"};var ae=Object.defineProperty,se=Object.prototype.hasOwnProperty,oe=Object.getOwnPropertySymbols,le=Object.prototype.propertyIsEnumerable,ce=(e,t,n)=>t in e?ae(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;function de(e){const t=e,{className:n,serverEntityID:r,providerEntityID:s,metadataItemEntityID:o,itemServerEntityID:l,itemProviderEntityID:d,type:u,subtype:p,selectionType:m,activeSelectionType:h,isSelected:g,isOffscreen:y,visibleFace:v,imageWidth:f,imageHeight:b,imageUrl:I,disableCrossFade:S,icon:M,backgroundSize:E,isFolder:P,showOverlay:D,onImageLoad:C,onImageError:w,onSelectItem:Z,onDeselectItem:T}=t,N=((e,t)=>{var n={};for(var r in e)se.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&oe)for(var r of oe(e))t.indexOf(r)<0&&le.call(e,r)&&(n[r]=e[r]);return n})(t,["className","serverEntityID","providerEntityID","metadataItemEntityID","itemServerEntityID","itemProviderEntityID","type","subtype","selectionType","activeSelectionType","isSelected","isOffscreen","visibleFace","imageWidth","imageHeight","imageUrl","disableCrossFade","icon","backgroundSize","isFolder","showOverlay","onImageLoad","onImageError","onSelectItem","onDeselectItem"]);return a.createElement("div",{className:i()(n,ie[v],g&&ie.isSelected)},a.createElement(c.Z,{serverEntityID:r,providerEntityID:s,itemServerEntityID:l,itemProviderEntityID:d,type:u,subtype:p,isOffscreen:y,url:I,width:f,height:b,disableCrossFade:S,icon:M,backgroundSize:E,isFolder:P,onLoad:C,onError:w}),D?a.createElement(re,((e,t)=>{for(var n in t||(t={}))se.call(t,n)&&ce(e,n,t[n]);if(oe)for(var n of oe(t))le.call(t,n)&&ce(e,n,t[n]);return e})({serverEntityID:r,providerEntityID:s,itemServerEntityID:l,itemProviderEntityID:d,metadataItemEntityID:o,type:u,selectionID:o,selectionType:m,activeSelectionType:h,isSelected:g,onSelectItem:Z,onDeselectItem:T},N)):null)}de.defaultProps={className:ie.face,showOverlay:!0};const ue=de;var pe=Object.defineProperty,me=Object.prototype.hasOwnProperty,he=Object.getOwnPropertySymbols,ge=Object.prototype.propertyIsEnumerable,ye=(e,t,n)=>t in e?pe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ve=(e,t)=>{for(var n in t||(t={}))me.call(t,n)&&ye(e,n,t[n]);if(he)for(var n of he(t))ge.call(t,n)&&ye(e,n,t[n]);return e};const fe="faceFront",be="faceBack",Ie=(0,s.Z)(l.Z.posterFlipSpeed);class Se extends a.Component{constructor(e,t){super(e,t),this.onImageLoad=()=>{this.state.isLoadingFace&&this._flipCard()},this.onImageError=()=>{this.state.isLoadingFace&&this._flipCard()},this.onFlipComplete=()=>{this.setState({isFlippingFace:!1,previousImageUrl:null})},this.state={visibleFace:fe,isLoadingFace:!1,isFlippingFace:!1,previousImageUrl:null}}UNSAFE_componentWillReceiveProps(e){const t=this.props.imageUrl,n=e.imageUrl&&t!==e.imageUrl;this.props.metadataKey===e.metadataKey&&n&&this._prepareFlip(t)}shouldComponentUpdate(e,t){return(0,o.Z)(this,e,t)}componentWillUnmount(){this._cancelFlip()}_prepareFlip(e){this._cancelFlip(),this.setState({isLoadingFace:!0,isFlippingFace:!0,previousImageUrl:e})}_flipCard(){this.setState((e=>({isLoadingFace:!1,visibleFace:e.visibleFace===fe?be:fe})),(()=>{this._flipTimeoutID=window.setTimeout(this.onFlipComplete,Ie)}))}_cancelFlip(){this._flipTimeoutID&&(this._flipTimeoutID=window.clearTimeout(this._flipTimeoutID))}render(){const e=this.props,{className:t,cardClassName:n,cardFaceClassName:r,metadataKey:s,imageWidth:o,imageHeight:l,imageUrl:c}=e,d=((e,t)=>{var n={};for(var r in e)me.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&he)for(var r of he(e))t.indexOf(r)<0&&ge.call(e,r)&&(n[r]=e[r]);return n})(e,["className","cardClassName","cardFaceClassName","metadataKey","imageWidth","imageHeight","imageUrl"]),{visibleFace:u,isLoadingFace:p,isFlippingFace:m,previousImageUrl:h}=this.state,g={width:o,height:l};return a.createElement("div",{key:s,className:t,"data-qa-id":"metadataPosterCard--"+s},a.createElement("div",{className:i()(n,u===be&&"MetadataPosterCard-isFlipped-6fHcNb"),style:g},u===fe||m?a.createElement(ue,ve({key:fe,className:r,visibleFace:fe,imageWidth:o,imageHeight:l,imageUrl:u===fe&&!p||u===be&&p?c:h,disableCrossFade:m,onImageLoad:this.onImageLoad,onImageError:this.onImageError},d)):null,u===be||m?a.createElement(ue,ve({key:be,className:r,visibleFace:be,imageWidth:o,imageHeight:l,imageUrl:u===be&&!p||u===fe&&p?c:h,disableCrossFade:m,onImageLoad:this.onImageLoad,onImageError:this.onImageError},d)):null))}}Se.defaultProps={className:"MetadataPosterCard-cardContainer-3cMNqe",cardClassName:"MetadataPosterCard-card-72Dv8q"};const Me=Se},28868:(e,t,n)=>{"use strict";n.d(t,{Z:()=>p});var r=n(94184),i=n.n(r),a=n(67294),s=n(98563),o=n(82223),l=n(7947),c=n(91608),d=n(63233);const u=function(e){const{className:t,type:n,width:r,height:u,icon:p}=e,m=function(e){switch(e){case s.Hc:return l.Z;case s.SU:return o.Z;case s.Bs:return c.Z}}(p)||d.Z[n];if(!m)return null;const h={fontSize:Math.max(14,Math.min(Math.round(r/4),42)),lineHeight:`${u}px`},g={width:`${r}px`,height:`${u}px`};return a.createElement("div",{className:i()(t,"MetadataIcon-container-1oy4SI"),style:g},a.createElement(m,{style:h}))},p=function(e){const{className:t,type:n,icon:r,width:o,height:l,isFolder:c}=e;return a.createElement(u,{className:i()(t,"MetadataPosterCardIcon-placeholderIcon-HerOkc"),type:n,icon:c?s.SU:r,width:o,height:l})}},5148:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(67294),i=n(89137),a=n(28868);const s=function(e){const{serverEntityID:t,providerEntityID:n,itemServerEntityID:s,itemProviderEntityID:o,type:l,isOffscreen:c,url:d,src:u,width:p,height:m,icon:h,backgroundSize:g,isFolder:y,disableCrossFade:v,onLoad:f,onError:b}=e;return c?null:d||u?r.createElement(i.Z,{serverEntityID:s||t,providerEntityID:o||n,url:d,src:u,width:p,height:m,backgroundPosition:"artist"===l?"center top":"center",backgroundSize:"game"===l?"contain":g,disableCrossFade:v,onLoad:f,onError:b}):r.createElement(a.Z,{type:l,width:p,height:m,isFolder:y,icon:h})}},77199:(e,t,n)=>{"use strict";n.d(t,{Z:()=>V});var r=n(94184),i=n.n(r),a=n(67294),s=n(5562),o=n(6103),l=n(27271),c=n(53851),d=n(66088),u=n(58801),p=n(52097),m=n(41523),h=n(46412),g=n(34504),y=n(4746),v=n(11969),f=n(52410),b=n(54183),I=n(53191),S=n(45697),M=n.n(S),E=n(17845);function P(e){var t=e["aria-label"],n=e.className,r=e.style,i={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-files-560"};i["aria-hidden"]=!t,i.style=r,i.className=E.Z.plexIcon+(n?" "+n:"");var s=[a.createElement.apply(a,["path",{d:"m480 240l0 240-240 0 0-240 240 0m-40 40l-160 0 0 160 160 0 0-160m-40-120l0 40-200 0 0 200-40 0 0-240 240 0m-80-80l0 40-200 0 0 200-40 0 0-240 240 0"}].concat([]))];return t&&s.unshift(a.createElement("title",null,t)),a.createElement.apply(a,["svg",i].concat(s))}P.propTypes={"aria-label":M().string,className:M().string,style:M().object};const D=P;var C=n(53863),w=n(39869),Z=n(79501),T=n(62020),N=n(74739);function O(e){const{children:t,backgroundClassName:n,className:r,onMouseEnter:i}=e;return a.createElement("div",{className:r,onMouseEnter:i},a.createElement("div",{className:n}),t)}O.defaultProps={className:"PosterCardOverlay-overlay-35eZx2",backgroundClassName:"PosterCardOverlay-background-1aqke7"};const A=O;var x=n(27202);const j="MetadataPosterCardOverlay-overlay-1giDeK PosterCardOverlay-overlay-35eZx2",L="MetadataPosterCardOverlay-link-1pPuo-",k="MetadataPosterCardOverlay-selectCoverButton-85-g11 MetadataPosterCardOverlay-coverButton-2ENc2v",R="MetadataPosterCardOverlay-favoriteButton-8peghi MetadataPosterCardOverlay-button-28HkcF",z="MetadataPosterCardOverlay-refreshingCircle-2aXAjl MetadataPosterCardOverlay-centerCircle-1wphgg";class U extends a.Component{constructor(e,t){super(e,t),this.onActionsMenuOpenChange=e=>{this.setState({isActionsMenuOpen:e})},this.state={isActionsMenuOpen:!1},this._selectButtonID=(0,c.Z)()}render(){const{className:e,serverEntityID:t,providerEntityID:n,itemServerEntityID:r,itemProviderEntityID:c,metadataItemEntityID:S,containerKey:M,listType:E,metricsContext:P,route:O,title:U,viewPercent:V,unviewedLeafCount:B,mediaCount:F,hasOfflineFile:_,hasOwnSubscription:H,isSubscribed:Q,isMultiVersion:G,isSmart:W,isFavorite:Y,isMatching:K,isProcessing:q,isAnalyzing:$,isRefreshing:J,isTrash:X,showUnplayedBadge:ee,showUnplayedNumberBadge:te,showLink:ne,showLinkOnly:re,showPlay:ie,showEdit:ae,showSelect:se,showMore:oe,showFavorite:le,showUnfavorite:ce,showRemove:de,showAvailableOffline:ue,canDrag:pe,hasActiveSelection:me,isSelected:he,isOtherItemSelected:ge,isConflictingTypeSelected:ye,isModifierKeyPressed:ve,isDragging:fe,isLeafType:be,source:Ie,ratingKey:Se,onMouseEnter:Me,onPlayPress:Ee,onEditPress:Pe,onFavoritePress:De,onUnfavoritePress:Ce,onRemovePress:we,onSelectPress:Ze,onDeselectPress:Te}=this.props,{isActionsMenuOpen:Ne}=this.state,Oe=se&&(ve||ge);if(re)return a.createElement("div",{className:i()(e,j)},ne?a.createElement(o.Z,{className:L,to:O}):null);const Ae=me||fe||ve||J||X,xe=Ne,je=Ne||fe||J||X,Le=Q||H||be&&_;return a.createElement(A,{className:i()(e,j,me&&"MetadataPosterCardOverlay-hasActiveSelection-1s4PcX",he&&"MetadataPosterCardOverlay-isSelected-2mtwgI",ye&&"MetadataPosterCardOverlay-isConflictingTypeSelected-14ECmu",se&&ve&&"MetadataPosterCardOverlay-isModifierKeyPressed-1t7Ti1",fe&&"MetadataPosterCardOverlay-isDragging-2YqzvF",Ne&&"MetadataPosterCardOverlay-isActionsMenuOpen-1K9yNU"),backgroundClassName:i()("MetadataPosterCardOverlay-background-1Zjvht PosterCardOverlay-background-1aqke7",Ae&&"MetadataPosterCardOverlay-selectedBackground-23R7q- PosterCardOverlay-selectedBackground-2k2OZv",xe&&"MetadataPosterCardOverlay-hoverBackground-1LzJeh PosterCardOverlay-hoverBackground-1ftvjh",je&&"MetadataPosterCardOverlay-visibleBackground-3S-7kU PosterCardOverlay-visibleBackground-3rgXxh"),onMouseEnter:Me},ee?a.createElement("div",{className:"MetadataPosterCardOverlay-unplayedTagContainer-1XTwt6","data-qa-id":"metadataPosterUnwatchedBadge"},a.createElement("div",{className:"MetadataPosterCardOverlay-unplayedTag-343vvg MetadataPosterCardOverlay-unplayedBadge-OAvdeH MetadataPosterCardOverlay-badge-2SzLhB"})):null,te?a.createElement("div",{"data-qa-id":"metadataPosterUnwatchedNumberBadge",className:"MetadataPosterCardOverlay-unplayedBadge-OAvdeH MetadataPosterCardOverlay-badge-2SzLhB"},B):null,G&&!Le?a.createElement("div",{className:"MetadataPosterCardOverlay-versionBadge-f_3Eic MetadataPosterCardOverlay-topLeftBadge-fMpxnJ MetadataPosterCardOverlay-badge-2SzLhB","data-qa-id":"metadataPosterMultipleVersionBadge"},a.createElement(D,{className:"MetadataPosterCardOverlay-versionBadgeIcon-aNntZ1"}),F):null,!W||Y||Le?null:a.createElement("div",{className:"MetadataPosterCardOverlay-smartBadge-3b4zKk MetadataPosterCardOverlay-topLeftBadge-fMpxnJ MetadataPosterCardOverlay-badge-2SzLhB","data-qa-id":"metadataPosterSmartBadge"},a.createElement(Z.Z,{className:"MetadataPosterCardOverlay-smartBadgeIcon-3yfWqN"})),W&&Y&&!Le?a.createElement("div",{className:"MetadataPosterCardOverlay-favoriteBadge-2rsmZR MetadataPosterCardOverlay-topLeftBadge-fMpxnJ MetadataPosterCardOverlay-badge-2SzLhB","data-qa-id":"metadataPosterFavoriteBadge"},a.createElement(I.Z,{className:"MetadataPosterCardOverlay-favoriteBadgeIcon-NT5MAT"})):null,V?a.createElement(x.Z,{className:"MetadataPosterCardOverlay-progress-3pK_ng PosterCardOverlayProgress-progress-nklF0v",progress:V}):null,J?a.createElement("div",{className:"MetadataPosterCardOverlay-refreshingSpinnerContainer-30L6k4"},a.createElement(u.Z,{className:"MetadataPosterCardOverlay-refreshingSpinner-12DLbH"})):null,K?a.createElement("div",{className:z},a.createElement(w.Z,{"aria-label":(0,s.Z)("Matching")})):null,q?a.createElement("div",{className:z},a.createElement(T.Z,{"aria-label":(0,s.Z)("Downloading Metadata")})):null,$?a.createElement("div",{className:z},a.createElement(v.Z,{"aria-label":(0,s.Z)("Analyzing")})):null,X?a.createElement("div",{className:"MetadataPosterCardOverlay-trashCircle-3QThbK MetadataPosterCardOverlay-centerCircle-1wphgg"},a.createElement(N.Z,{"aria-label":(0,s.Z)("In Trash")})):null,ne?a.createElement(o.Z,{className:L,to:O}):null,Oe&&!ye?a.createElement(o.Z,{className:k,onPress:Ze}):null,Oe&&ye?a.createElement(l.Z,{className:k,component:o.Z,tooltip:(0,s.Z)("A different type is selected"),tooltipAttachment:d.jO,tooltipTarget:this._selectButtonID,showOnFocus:!1,hideOnPress:!1}):null,ue?a.createElement(h.Z,{className:"MetadataPosterCardOverlay-hasSubscriptionBadge-8-eIbE DownloadIcon-downloadIcon-14Rs3Q PlexIcon-plexIcon-2sd7AW MetadataPosterCardOverlay-topLeftBadge-fMpxnJ MetadataPosterCardOverlay-badge-2SzLhB",source:Ie,ratingKey:Se,hasOfflineFile:_,hasOwnSubscription:H,showShadow:!0}):null,ue?a.createElement(g.Z,{metadataItemEntityID:S,providerEntityID:c}):null,ie?a.createElement(p.Z,{className:ne?"MetadataPosterCardOverlay-playButton-oiGldp PlayButton-playButton-2dFmuo MetadataPosterCardOverlay-button-28HkcF":"MetadataPosterCardOverlay-playCoverButton-4DmHxY MetadataPosterCardOverlay-playButton-oiGldp PlayButton-playButton-2dFmuo MetadataPosterCardOverlay-button-28HkcF",circleClassName:"MetadataPosterCardOverlay-playCircle-3mCEvQ PlayButton-playCircle-2DYa77 MetadataPosterCardOverlay-centerCircle-1wphgg",component:pe?"div":"button",tabIndex:"-1",title:U,"data-qa-id":"metadataPosterPlayButton",onPress:Ee}):null,ae?a.createElement(o.Z,{className:"MetadataPosterCardOverlay-editButton-7chGIc MetadataPosterCardOverlay-button-28HkcF",tabIndex:"-1","aria-label":(0,s.Z)("Edit {title}",{title:U}),"data-qa-id":"metadataPosterEditButton",onPress:Pe},a.createElement(f.Z,null)):null,le&&!Le?a.createElement(o.Z,{className:R,tabIndex:"-1","aria-label":(0,s.Z)("Add {title} to favorites",{title:U}),"data-qa-id":"metadataPosterFavoriteButton",onPress:De},a.createElement(b.Z,null)):null,ce&&!Le?a.createElement(o.Z,{className:R,tabIndex:"-1","aria-label":(0,s.Z)("Remove {title} from favorites",{title:U}),"data-qa-id":"metadataPosterUnfavoriteButton",onPress:Ce},a.createElement(I.Z,null)):null,de?a.createElement(o.Z,{className:"MetadataPosterCardOverlay-removeButton-2ZeZbm MetadataPosterCardOverlay-button-28HkcF",tabIndex:"-1","aria-label":(0,s.Z)("Remove {title}",{title:U}),onPress:we},a.createElement(C.Z,null)):null,oe?a.createElement(y.Z,{"data-qa-id":"metadataPosterMoreButton",className:"MetadataPosterCardOverlay-moreButton-2LskAf MetadataPosterCardOverlay-button-28HkcF",tabIndex:"-1",serverEntityID:t,providerEntityID:n,itemServerEntityID:r,itemProviderEntityID:c,metadataItemEntityID:S,containerKey:M,listType:E,metricsContext:P,showPlay:!1,showQueuePlexMix:!1,showEdit:!1,isMenuOpen:Ne,onMenuOpenChange:this.onActionsMenuOpenChange}):null,se?a.createElement(m.Z,{id:this._selectButtonID,className:"MetadataPosterCardOverlay-selectButton-3aCYdU SelectButton-selectButton-Yy19xn MetadataPosterCardOverlay-button-28HkcF",circleClassName:"MetadataPosterCardOverlay-selectCircle-2EOeWw SelectButton-selectCircle-16d-90",tabIndex:"-1",title:U,isSelected:he,isDisabled:ye,onPress:Ze}):null,he?a.createElement(o.Z,{className:"MetadataPosterCardOverlay-deselectCoverButton-5Qwexo MetadataPosterCardOverlay-coverButton-2ENc2v",onPress:Te}):null)}}const V=U},97863:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(94184),i=n.n(r),a=n(67294);const s=function(e){const{imageWidth:t,imageHeight:n,isSelected:r}=e,s={width:t,height:n};return a.createElement("div",{className:i()("MetadataPosterCardPlaceholder-placeholder-dAfuLC MetadataPosterCardFace-poster-11uR3N",r&&"MetadataPosterCardPlaceholder-isSelected-3ZTFWa MetadataPosterCardFace-isSelected-2dld-q"),style:s})}},27202:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(67294);class i extends r.Component{constructor(e,t){super(e,t),this.state={progress:e.progress}}UNSAFE_componentWillReceiveProps(e){this.setState({progress:e.progress})}render(){const e=this.props.className,t=this.state.progress;return r.createElement("div",{className:e},r.createElement("div",{className:"PosterCardOverlayProgress-progressTrack--vPFGK"}),r.createElement("div",{style:{transform:`translate3d(-${100-t}%, 0, 0)`},className:"PosterCardOverlayProgress-progressBar-1s57tW"}))}}i.defaultProps={progress:"PosterCardOverlayProgress-progress-nklF0v"};const a=i},65732:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(67294),i=n(36475);const a=function({className:e,grandparentTitle:t}){return r.createElement(i.Z,{className:e,title:t})}},36475:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(67294);const i=function({className:e,title:t}){return r.createElement("span",{className:e,title:t},t)}},16345:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(37703),i=n(22222),a=n(81017),s=n(36475);const o=(0,r.$j)((function(){return(0,i.P1)((0,a.Z)(),((e={})=>({title:e.title})))}))(s.Z)},97784:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(67294),i=n(84807),a=n(2016),s=n(99741);const o=function({className:e,tabIndex:t,title:n,index:o,route:l,parentTitle:c,parentIndex:d,parentRoute:u,originallyAvailableAt:p}){return r.createElement("span",{className:e},r.createElement(s.Z,{tabIndex:t,title:n,index:o,route:l,parentTitle:c,parentIndex:d,parentRoute:u,originallyAvailableAt:p}),n?r.createElement(i.Z,null):null,n?r.createElement(a.Z,{tabIndex:t,title:n,route:l}):null)}},92797:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var r=n(22222),i=n(81017),a=n(70488),s=n(74253),o=n(61478),l=n(87691),c=n(6638),d=n(97784);const u=(0,l.Z)((function(){return(0,r.P1)(((e,{metricsContext:t})=>t),s.Z,a.Z,(0,i.Z)(),((e,t,n,r={})=>{const i={};e&&(i.context=e);const a=r.skipParent&&r.subtype===o.WEBSHOW;return{title:r.title,index:r.index,route:(0,c.Z)(t,n,r.key,i),parentTitle:r.parentTitle,parentIndex:a?null:r.parentIndex,parentRoute:r.skipParent?null:(0,c.Z)(t,n,r.parentKey,i),originallyAvailableAt:r.originallyAvailableAt}}))}))(d.Z)},2016:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(67294),i=n(6103);const a=function({className:e,tabIndex:t,title:n,route:a}){return n?a?r.createElement(i.Z,{className:e,"data-qa-id":"metadataTitleLink",tabIndex:t,title:n,to:a},n):r.createElement("span",{className:e,title:n},n):null}},99741:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(67294),i=n(40074),a=n(85480),s=n(84807),o=n(6103);const l=function(e){const{className:t,tabIndex:n,title:l,index:c,route:d,parentTitle:u,parentIndex:p,parentRoute:m,originallyAvailableAt:h}=e,g=(0,a.Z)({seasonIndex:p,noLeadingZero:!0}),y=(0,i.Z)({episodeIndex:c,date:h,noLeadingZero:!0});return d&&m?r.createElement("span",{className:t},c>0&&g?r.createElement(o.Z,{tabIndex:n,title:u,to:m},g):null,c>0&&g?r.createElement(s.Z,{separator:""}):null,r.createElement(o.Z,{tabIndex:n,title:l,to:d},y)):r.createElement("span",{className:t},c>0&&g?r.createElement("span",null,g):null,c>0&&g?r.createElement(s.Z,{separator:""}):null,r.createElement("span",null,y))}},95815:(e,t,n)=>{"use strict";n.d(t,{Z:()=>C});var r=n(67294),i=n(37703),a=n(5513),s=n(96840),o=n(63800),l=n(68576),c=n(63731),d=n(22699),u=n(716),p=Object.defineProperty,m=Object.prototype.hasOwnProperty,h=Object.getOwnPropertySymbols,g=Object.prototype.propertyIsEnumerable,y=(e,t,n)=>t in e?p(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,v=(e,t)=>{for(var n in t||(t={}))m.call(t,n)&&y(e,n,t[n]);if(h)for(var n of h(t))g.call(t,n)&&y(e,n,t[n]);return e};const f=function(e){const t=e,{children:n,metricsPage:i,metricsProperties:a,isMetricsDelegated:s}=t,o=((e,t)=>{var n={};for(var r in e)m.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&h)for(var r of h(e))t.indexOf(r)<0&&g.call(e,r)&&(n[r]=e[r]);return n})(t,["children","metricsPage","metricsProperties","isMetricsDelegated"]);return r.createElement(c.Z,v(v({},a),{page:i,isDelegated:s}),r.createElement(d.Z,v({className:u.Z.page},o),n))};var b=Object.defineProperty,I=Object.prototype.hasOwnProperty,S=Object.getOwnPropertySymbols,M=Object.prototype.propertyIsEnumerable,E=(e,t,n)=>t in e?b(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const P={dispatchChangeBackground:o.ZZ,dispatchResetBackground:o.HF,dispatchGarbageCollectEntities:a.$e};class D extends r.Component{constructor(e,t){super(e,t),this.state={hasError:!1}}componentDidMount(){this.props.disableBackgroundPreset||this.props.dispatchChangeBackground({allowLightPreset:this.props.allowBackgroundLightPreset})}componentWillUnmount(){const{dispatchResetBackground:e,dispatchGarbageCollectEntities:t}=this.props;e(),t()}componentDidCatch(e){s.Z.error(e),this.setState({hasError:!0})}render(){const e=this.props,{dispatchChangeBackground:t,dispatchResetBackground:n,dispatchGarbageCollectEntities:i,disableBackgroundPreset:a,allowBackgroundLightPreset:s}=e,o=((e,t)=>{var n={};for(var r in e)I.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&S)for(var r of S(e))t.indexOf(r)<0&&M.call(e,r)&&(n[r]=e[r]);return n})(e,["dispatchChangeBackground","dispatchResetBackground","dispatchGarbageCollectEntities","disableBackgroundPreset","allowBackgroundLightPreset"]),{hasError:c}=this.state;return c?r.createElement(l.Z,null):r.createElement(f,((e,t)=>{for(var n in t||(t={}))I.call(t,n)&&E(e,n,t[n]);if(S)for(var n of S(t))M.call(t,n)&&E(e,n,t[n]);return e})({},o))}}D.defaultProps={disableBackgroundPreset:!1,allowBackgroundLightPreset:!1};const C=(0,i.$j)(null,P)(D)},22699:(e,t,n)=>{"use strict";n.d(t,{Z:()=>p});var r=n(67294),i=n(45428),a=n(57384),s=Object.defineProperty,o=Object.prototype.hasOwnProperty,l=Object.getOwnPropertySymbols,c=Object.prototype.propertyIsEnumerable,d=(e,t,n)=>t in e?s(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;class u extends r.Component{constructor(e,t){super(e,t),this.onScrollPositionChange=({scrollTop:e})=>{this.state.isScrolling||(this._currentScrollTop=e)},this.state={isScrolling:!1},this._positionKey=a.Z.getKey(e.scrollPositionKey),this._currentScrollTop=0,this._restoreScrollDelay=e.smoothScroll?e.smoothScrollDuration:e.restoreScrollDelay,this._restoreScroll=!1,this._restoreScrollTimeoutID=null}componentDidMount(){this._restoreScrollPosition()}componentDidUpdate(e){const{scrollPositionKey:t}=this.props;e.scrollPositionKey!==t&&(this._positionKey=a.Z.getKey(t))}componentWillUnmount(){this._storeScrollPosition(),this._restoreScrollTimeoutID&&window.clearTimeout(this._restoreScrollTimeoutID)}_restoreScrollPosition(){const e=a.Z.get(this._positionKey);e&&(this.setState({isScrolling:!0}),this._currentScrollTop=e.scrollTop,this._restoreScroll=!0,this._restoreScrollTimeoutID=window.setTimeout((()=>{this.setState({isScrolling:!1}),this._restoreScroll=!1}),this._restoreScrollDelay))}_storeScrollPosition(){a.Z.set(this._positionKey,{scrollTop:this._currentScrollTop})}render(){const e=this.props,{children:t,className:n,restoreScrollDelay:a,scrollPositionKey:s}=e,u=((e,t)=>{var n={};for(var r in e)o.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&l)for(var r of l(e))t.indexOf(r)<0&&c.call(e,r)&&(n[r]=e[r]);return n})(e,["children","className","restoreScrollDelay","scrollPositionKey"]);return r.createElement(i.Z,((e,t)=>{for(var n in t||(t={}))o.call(t,n)&&d(e,n,t[n]);if(l)for(var n of l(t))c.call(t,n)&&d(e,n,t[n]);return e})({className:n,scrollTop:this._currentScrollTop,restoreScroll:this._restoreScroll,onScrollPositionChange:this.onScrollPositionChange},u),t)}}u.defaultProps={restoreScrollDelay:100,scrollPositionKey:"scrollPosition",smoothScroll:!0,smoothScrollDuration:400};const p=u},20500:(e,t,n)=>{"use strict";n.d(t,{Z:()=>J});var r=n(45697),i=n.n(r),a=n(37703),s=n(22222),o=n(74995),l=n(47479),c=n(12272),d=n(3967),u=n(67294),p=n(58801),m=n(5513),h=n(27082);class g extends u.Component{componentDidMount(){this._populate(this.props)}componentDidUpdate(e){const{machineIdentifier:t}=this.props;t&&t!==e.machineIdentifier&&this._populate(this.props)}_populate(e){const{machineIdentifier:t,dispatchSetPrimaryServer:n}=e;t&&(0,h.c9)((()=>{n({machineIdentifier:t})}))}render(){return u.createElement(u.Fragment,null,this.props.children)}}const y={dispatchSetPrimaryServer:m.qO},v=(0,a.$j)(null,y)(g);var f=n(34198),b=n(65531),I=n(81079),S=n(86035),M=n(5977),E=n(93966),P=n(88050),D=n(69605),C=n(5562),w=n(22745),Z=n(6103),T=n(60528),N=n(82378),O=n(36996),A=n(21508),x=n(95614),j=n(18039);const L={dispatchDismissUnclaimedServer:S.EK},k=(0,a.$j)((function(){return(0,s.P1)((0,o.Z)(),I.Z,((e,t)=>({machineIdentifier:e.machineIdentifier,friendlyName:e.friendlyName,isPlexAccountRequired:t})))}),L)((function(e){const{machineIdentifier:t,friendlyName:n,isPlexAccountRequired:r,dispatchDismissUnclaimedServer:i}=e,a=(0,M.k6)(),s=(0,u.useCallback)((()=>{a.push(O.Z.login)}),[a]),o=(0,u.useCallback)((()=>{(0,E.DB)("metrics").trackClick({page:D.yl,action:P.ql})}),[]),l=(0,u.useCallback)((()=>{(0,E.DB)("metrics").trackClick({page:D.yl,action:P.GP}),i({machineIdentifier:t})}),[t,i]);return u.createElement(x.Z,{title:(0,C.Z)("{friendlyName} server is unclaimed and not secure",{friendlyName:n}),description:(0,C.Z)("Claiming this server will associate it with your Plex account. This helps your devices find each other and helps keep your media safe.")},r?u.createElement(w.Z,{kind:T._8,size:N.ln,onPress:s},(0,C.Z)("Sign in to claim this server")):u.createElement(w.Z,{kind:T._8,size:N.ln,to:(0,j.Z)(t,"settings","general"),onPress:o},(0,C.Z)("Claim it now")),u.createElement(A.Z,null,u.createElement(Z.Z,{kind:T._8,size:N.HC,onPress:l},(0,C.Z)("Don't show this again"))))}));var R=n(76249),z=n(48523),U=n(39670),V=n(84936);const B=(0,a.$j)((function(){return(0,s.P1)((0,o.Z)(),(e=>({machineIdentifier:e.machineIdentifier,friendlyName:e.friendlyName,activeConnectionUri:e.activeConnection.uri,shouldUseNewSettingsRoutes:(0,z.Z)(e.version,R.Z.bundledWebAppNewSettingsRoutes),isShared:e.isShared})))}))((function(e){const{machineIdentifier:t,friendlyName:n,activeConnectionUri:r,shouldUseNewSettingsRoutes:i,isShared:a}=e;let s;n&&(s=(0,C.Z)("The server {1} is out of date and cannot be used.",n)),s=s+" "+(0,C.Z)("This version of {productName} requires Plex Media Server {minServerVersion} or higher.",{productName:U.Z.prop("X-Plex-Product"),minServerVersion:"1.18.3"});let o="/web/index.html";return a||(o+=i?(0,j.Z)(t,"settings","general"):"#!/settings/server"),u.createElement(x.Z,{title:"Update your Plex Media Server",description:s},u.createElement(w.Z,{to:V.Z.join([r,o]),target:"_self",kind:T._8,size:N.ln},(0,C.Z)("Open server directly")))}));var F=n(3704),_=n(81071),H=n(99434);var Q=Object.defineProperty,G=Object.prototype.hasOwnProperty,W=Object.getOwnPropertySymbols,Y=Object.prototype.propertyIsEnumerable,K=(e,t,n)=>t in e?Q(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,q=(e,t)=>{for(var n in t||(t={}))G.call(t,n)&&K(e,n,t[n]);if(W)for(var n of W(t))Y.call(t,n)&&K(e,n,t[n]);return e};const $=(0,a.$j)((function(){return(0,s.P1)((e=>e.isWaitingForServers),((e,{hideUnclaimedPage:t})=>t),(0,o.Z)(),(0,c.Z)(),d.Z,((e,t,n,r,i)=>n?{hasServer:!0,showSpinner:!n.isConnected&&!n.isUnauthorized&&!n.isUnavailable,machineIdentifier:n.machineIdentifier,isUnauthorized:n.isUnauthorized,isUnavailable:n.isUnavailable,isOutOfDate:n.isOutOfDate,isInstallingServerUpdate:n.isInstallingServerUpdate,isUnclaimed:n.isConnected&&!n.isClaimed&&!i[n.machineIdentifier]&&!r&&!t,hasHttpsConnections:n.hasHttpsConnections,isHostedHttps:l.Z.isHostedHttps}:{hasServer:!1,showSpinner:e}))}))((function(e){const{serverEntityID:t,children:n,hasServer:r,showSpinner:i,machineIdentifier:a,isUnauthorized:s,isUnavailable:o,isOutOfDate:l,isUnclaimed:c,isInstallingServerUpdate:d}=e;return i?u.createElement(F.Z,null,u.createElement(p.Z,null)):r?d?u.createElement(_.Z,{serverEntityID:t}):o?u.createElement(b.Z,{serverEntityID:t}):l?u.createElement(B,{serverEntityID:t}):s?u.createElement(f.Z,null):c?u.createElement(k,{serverEntityID:t}):u.createElement(v,{machineIdentifier:a},n):u.createElement(H.Z,null)}));$.propTypes=q(q({},$.propTypes),{serverEntityID:i().string.isRequired});const J=$},34198:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(67294),i=n(5562),a=n(95614);const s=function(){return r.createElement(a.Z,{title:(0,i.Z)("Not authorized"),description:(0,i.Z)("You do not have access to this server")})}},65531:(e,t,n)=>{"use strict";n.d(t,{Z:()=>w});var r=n(67294),i=n(37703),a=n(22222),s=n(53145),o=n(74995),l=n(39374),c=n(44233),d=n(5562),u=n(84936),p=n(22745),m=n(6103),h=n(60528),g=n(86035),y=n(46905),v=n(65671),f=n(69679),b=n(95614);const I=function(e){const{friendlyName:t,isPending:n,onTryAgainPress:i}=e;return r.createElement(b.Z,{title:t?(0,d.Z)("{serverName} is currently unavailable",{serverName:t}):(0,d.Z)("Server is currently unavailable"),description:r.createElement(v.Z,{message:(0,d.Z)("Verify you have a network connection and that the server is online, or see our {openLink}troubleshooting{closeLink} tips for further assistance."),tags:[{open:"openLink",close:"closeLink",component:m.Z,kind:h._8,to:"https://help.plex.tv/noserver",target:"_blank"}]})},r.createElement(f.Z,{isSpinning:n,kind:h._8,onPress:i},(0,d.Z)("Retry connection")))};var S=n(25540),M=n(80974),E=n(3704);class P extends r.Component{render(){const{title:e,description:t,children:n}=this.props;return r.createElement(E.Z,{iconSrc:M,title:e,description:r.createElement(r.Fragment,null,r.createElement(v.Z,{message:(0,d.Z)('Its "Secure connections" setting may be set to disabled, or you may need to adjust some settings on your network. You can {openLink}learn more about secure connections here{closeLink}.'),tags:[{open:"openLink",close:"closeLink",component:m.Z,to:"https://support.plex.tv/hc/en-us/articles/206225077-How-to-Use-Secure-Server-Connections",kind:h._8,target:"_blank"}]}))},t?r.createElement("div",{className:"InsecureFallbackChoicePage-description-3jwi7V EmptyPageDescription-description-Q3Qyzg"},t):null,n)}}const D=P;var C=n(22876);const w=(0,i.$j)((function(){return(0,a.P1)((0,o.Z)(),(e=>{const t=e.connections.find((e=>"http"===e.scheme));return{friendlyName:e.friendlyName,bundledConnectionUri:null==t?void 0:t.uri,shouldShowInsecureAppMessage:C.P(e),shouldAllowInsecureFallback:C.E(e),isPending:e.isPending}}))}),(function(e,t){const n={serverEntityID:t.serverEntityID,metricsPage:t.metricsPage};return{onTryAgainPress(){e((0,g.bc)()),e(s.Vk(n))}}}))((function(e){const{friendlyName:t,bundledConnectionUri:n,shouldShowInsecureAppMessage:i,shouldAllowInsecureFallback:a,isPending:s,onTryAgainPress:o}=e,{isOpen:g,onOpen:v,onClose:f}=(0,y.Z)();if(i){const e="macos"===c.Z.platformID||"windows"===c.Z.platformID;return r.createElement(D,{title:(0,d.Z)('app.plex.tv is unable to connect to "{serverName}" securely',{serverName:t})},e?r.createElement("div",{className:"ServerUnavailableErrorPageConnector-downloadButtonContainer-uhzJqk"},r.createElement(p.Z,{to:l.jv,target:"_blank",kind:h._8},"windows"===c.Z.platformID?(0,d.Z)("Download Plex for Windows"):(0,d.Z)("Download Plex for Mac"))):null,n?r.createElement(m.Z,{to:u.Z.join([n,"/web/index.html"]),kind:h._8},e?(0,d.Z)("Or you can try to navigate directly to Plex Media Server"):(0,d.Z)("You can try to navigate directly to Plex Media Server")):null)}return a?r.createElement(D,{title:(0,d.Z)('The server "{serverName}" does not allow secure connections',{serverName:t}),description:(0,d.Z)("The app is loaded insecurely. You can attempt to use an insecure connection now.")},r.createElement(S.Z,{isOpen:g,serverEntityID:e.serverEntityID,onModalClose:f}),r.createElement(p.Z,{kind:h._8,onPress:v},(0,d.Z)("Allow Insecure Connections"))):r.createElement(I,{friendlyName:t,isPending:s,onTryAgainPress:o})}))},25540:(e,t,n)=>{"use strict";n.d(t,{Z:()=>E});var r=n(37703),i=n(22222),a=n(74995),s=n(59194),o=n(67294),l=n(55642),c=n(69605),d=n(5562),u=n(70182),p=n(79849),m=n(56510),h=n(89460),g=n(60528),y=n(82378),v=n(58300),f=n(2424),b=n(64795);class I extends o.Component{constructor(e,t){super(e,t),this.onAllowFallbackConfirm=()=>{this.setState({isSubmitting:!0}),this.props.onAllowHttpFallback({serverEntityID:this.props.serverEntityID,allowHttpFallback:this.props.publicAddressMatches?l.Z.SAME_NETWORK:l.Z.ALWAYS})},this.state={isSubmitting:!1}}render(){const{publicAddressMatches:e,isOpen:t,onModalClose:n}=this.props,{isSubmitting:r}=this.state;return o.createElement(f.Z,{size:y.HC,isOpen:t,metricsPage:c.Sd,onModalClose:n},o.createElement(b.Z,{onModalClose:n},o.createElement(h.Z,null,(0,d.Z)("Allow Insecure Connections")),o.createElement(u.Z,null,e?(0,d.Z)("Insecure connections will only be allowed when you're on the same network as the server."):(0,d.Z)("Insecure connections will be allowed to any server."),o.createElement("br",null),(0,d.Z)("The Allow Fallback to Insecure Connections setting can be changed in Web Settings. Would you like to allow insecure connections?")),o.createElement(p.Z,null,o.createElement(m.Z,null,o.createElement(v.Z,{kind:g.TP,isDisabled:r,onPress:n},(0,d.Z)("Cancel")),o.createElement(v.Z,{kind:g.T,isSpinning:r,onPress:this.onAllowFallbackConfirm},(0,d.Z)("Allow"))))))}}const S=I,M={onAllowHttpFallback:s.JZ},E=(0,r.$j)((function(){return(0,i.P1)((0,a.Z)(),(e=>({publicAddressMatches:e.publicAddressMatches})))}),M)(S)},3704:(e,t,n)=>{"use strict";n.d(t,{Z:()=>h});var r=n(67294),i=n(45428),a=n(60528),s=n(21508);const o={emptyPage:"EmptyPage-emptyPage-DjF6N1",content:"EmptyPage-content-3lx94H",icon:"EmptyPage-icon-1xIWV_",default:"EmptyPage-default-24UaK-",primary:"EmptyPage-primary-2RuZWG",success:"EmptyPage-success-1L-bre",danger:"EmptyPage-danger-2XXf4E",imgIcon:"EmptyPage-imgIcon-ffNjlV",title:"EmptyPage-title-5RFMGm",footer:"EmptyPage-footer-2k_SyV"};var l=Object.defineProperty,c=Object.prototype.hasOwnProperty,d=Object.getOwnPropertySymbols,u=Object.prototype.propertyIsEnumerable,p=(e,t,n)=>t in e?l(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;function m(e){const t=e,{contentClassName:n,iconClassName:a,titleClassName:l,footerClassName:m,children:h,kind:g,iconComponent:y,iconSrc:v,title:f,description:b,footer:I}=t,S=((e,t)=>{var n={};for(var r in e)c.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&d)for(var r of d(e))t.indexOf(r)<0&&u.call(e,r)&&(n[r]=e[r]);return n})(t,["contentClassName","iconClassName","titleClassName","footerClassName","children","kind","iconComponent","iconSrc","title","description","footer"]);return r.createElement(i.Z,((e,t)=>{for(var n in t||(t={}))c.call(t,n)&&p(e,n,t[n]);if(d)for(var n of d(t))u.call(t,n)&&p(e,n,t[n]);return e})({className:o.emptyPage},S),r.createElement("div",{className:n},v?r.createElement("img",{className:o.imgIcon,src:v}):null,y?r.createElement("span",{className:a},r.createElement(y,{className:o[g]})):null,f?r.createElement("div",{className:l},f):null,b?r.createElement(s.Z,null,b):null,h),I?r.createElement("div",{className:m},I):null)}m.defaultProps={contentClassName:o.content,iconClassName:o.icon,titleClassName:o.title,footerClassName:o.footer,kind:a.TP};const h=m},21508:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(67294);const i=function({children:e}){return r.createElement("div",{className:"EmptyPageDescription-description-Q3Qyzg"},e)}},95614:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var r=n(67294),i=n(3704),a=n(39611);var s=Object.defineProperty,o=Object.prototype.hasOwnProperty,l=Object.getOwnPropertySymbols,c=Object.prototype.propertyIsEnumerable,d=(e,t,n)=>t in e?s(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const u=function(e){return r.createElement(i.Z,((e,t)=>{for(var n in t||(t={}))o.call(t,n)&&d(e,n,t[n]);if(l)for(var n of l(t))c.call(t,n)&&d(e,n,t[n]);return e})({iconClassName:"ErrorPage-icon-2pZGG7 EmptyPage-icon-1xIWV_",iconComponent:a.Z},e))}},82598:(e,t,n)=>{"use strict";n.d(t,{Z:()=>p});var r=n(67294),i=n(90653),a=n(3704),s=n(58967),o=Object.defineProperty,l=Object.prototype.hasOwnProperty,c=Object.getOwnPropertySymbols,d=Object.prototype.propertyIsEnumerable,u=(e,t,n)=>t in e?o(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const p=function(e){return r.createElement(a.Z,((e,t)=>{for(var n in t||(t={}))l.call(t,n)&&u(e,n,t[n]);if(c)for(var n of c(t))d.call(t,n)&&u(e,n,t[n]);return e})({className:s.Z.innerEmptyPage,contentClassName:s.Z.innerEmptyPageContent,scrollDirection:i.Hn},e))}},14838:(e,t,n)=>{"use strict";n.d(t,{Z:()=>p});var r=n(67294),i=n(90653),a=n(68576),s=n(58967),o=Object.defineProperty,l=Object.prototype.hasOwnProperty,c=Object.getOwnPropertySymbols,d=Object.prototype.propertyIsEnumerable,u=(e,t,n)=>t in e?o(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const p=function(e){const t=e,{children:n}=t,o=((e,t)=>{var n={};for(var r in e)l.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&c)for(var r of c(e))t.indexOf(r)<0&&d.call(e,r)&&(n[r]=e[r]);return n})(t,["children"]);return r.createElement(a.Z,((e,t)=>{for(var n in t||(t={}))l.call(t,n)&&u(e,n,t[n]);if(c)for(var n of c(t))d.call(t,n)&&u(e,n,t[n]);return e})({className:s.Z.innerEmptyPage,contentClassName:s.Z.innerEmptyPageContent,scrollDirection:i.Hn},o),n)}},81071:(e,t,n)=>{"use strict";n.d(t,{Z:()=>h});var r=n(37703),i=n(22222),a=n(53145),s=n(74995),o=n(86035),l=n(67294),c=n(80974),d=n(5562),u=n(69679),p=n(60528),m=n(3704);const h=(0,r.$j)((function(){return(0,i.P1)((0,s.Z)(),(e=>({friendlyName:e.friendlyName,isPending:e.isPending})))}),(function(e,t){const n={serverEntityID:t.serverEntityID};return{onTryAgainPress(){e((0,o.bc)()),e(a.Vk(n))}}}))((function(e){const{friendlyName:t,isPending:n,onTryAgainPress:r}=e;return l.createElement(m.Z,{iconSrc:c,title:(0,d.Z)('The server "{serverName}" is installing an update',{serverName:t}),description:(0,d.Z)("Grab a cup of tea. This may take a couple of minutes.")},l.createElement(u.Z,{isSpinning:n,kind:p._8,onPress:r},(0,d.Z)("Retry connection")))}))},99434:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(67294),i=n(5562),a=n(6103),s=n(60528),o=n(95614);const l=function(){return r.createElement(o.Z,{title:(0,i.Z)("Not found"),description:(0,i.Z)("We can't find the page you're looking for")},r.createElement(a.Z,{to:"#",kind:s._8},(0,i.Z)("Go Home")))}},68576:(e,t,n)=>{"use strict";n.d(t,{Z:()=>h});var r=n(67294),i=n(39374),a=n(5562),s=n(6103),o=n(60528),l=n(95614),c=Object.defineProperty,d=Object.prototype.hasOwnProperty,u=Object.getOwnPropertySymbols,p=Object.prototype.propertyIsEnumerable,m=(e,t,n)=>t in e?c(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const h=function(e){const t=e,{children:n}=t,c=((e,t)=>{var n={};for(var r in e)d.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&u)for(var r of u(e))t.indexOf(r)<0&&p.call(e,r)&&(n[r]=e[r]);return n})(t,["children"]);return r.createElement(l.Z,((e,t)=>{for(var n in t||(t={}))d.call(t,n)&&m(e,n,t[n]);if(u)for(var n of u(t))p.call(t,n)&&m(e,n,t[n]);return e})({title:(0,a.Z)("There was an unexpected error"),description:(0,a.Z)("Please visit our forums if you continue to experience problems")},c),r.createElement(s.Z,{to:i.bB,target:"_self",kind:o._8},(0,a.Z)("Go to Forums")),n)}},51630:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>Ne});var r,i,a,s,o,l,c=n(9669),d=n.n(c),u=n(67294),p=n(96840),m=n(5562),h=n(93554),g=n(49560);n(88740),(i=r||(r={}))[i.Keyboard=1]="Keyboard",i[i.MouseButton=2]="MouseButton",i[i.MouseWheel=3]="MouseWheel",i[i.MouseMotion=4]="MouseMotion",i[i.GamepadButton=5]="GamepadButton",i[i.GamepadAxis=6]="GamepadAxis",i[i.GamepadUnplug=7]="GamepadUnplug",i[i.GamepadState=8]="GamepadState",i[i.Release=9]="Release",(s=a||(a={}))[s.A=0]="A",s[s.B=1]="B",s[s.X=2]="X",s[s.Y=3]="Y",s[s.Back=4]="Back",s[s.Guide=5]="Guide",s[s.Start=6]="Start",s[s.LeftStick=7]="LeftStick",s[s.RightStick=8]="RightStick",s[s.LeftShoulder=9]="LeftShoulder",s[s.RightShoulder=10]="RightShoulder",s[s.DPadUp=11]="DPadUp",s[s.DPadDown=12]="DPadDown",s[s.DPadLeft=13]="DPadLeft",s[s.DPadRight=14]="DPadRight",(l=o||(o={}))[l.LeftX=0]="LeftX",l[l.LeftY=1]="LeftY",l[l.RightX=2]="RightX",l[l.RightY=3]="RightY",l[l.LeftTrigger=4]="LeftTrigger",l[l.RightTrigger=5]="RightTrigger";function y(e){const t=new Map;return function(n,r){let i=r;i>0&&i<.3||i<0&&i>-.3?i=0:i>.85?i=1:i<-.85?i=-1:i>0?i-=.3:i<0&&(i+=.3),i<0?i*=32768:i>0&&(i*=32767),i=Math.round(i),e&&(i=e(i));const a=t.get(n)||0;if(!(Math.abs(i-a)<.1)||!i&&a)return t.set(n,i),i}}function v(e){const t=y((e=>e<0?-32768:e>0?32767:e));return(n,i)=>{const a=t(n,i);if(void 0!==a)return{axis:e,id:n,type:r.GamepadAxis,value:a}}}function f(e){const t=y();return(n,i)=>{const a=t(n,i);if(void 0!==a)return{axis:e,id:n,type:r.GamepadAxis,value:a}}}function b(e,t){const n=y();let i;return(a,s)=>{const o=n(a,s),l=0!==o;if(void 0===o)return;let c;if(o<0?c=e:o>0&&(c=t),l&&i===c)return;const d=[];return i&&i!==c&&d.push({button:i,id:a,pressed:!1,type:r.GamepadButton}),i=c,c&&d.push({button:c,id:a,pressed:l,type:r.GamepadButton}),d}}function I(e){return(t,n)=>({button:e,id:t,pressed:0!==n,type:r.GamepadButton})}const S={axes:{[g.pz.Axis0]:f(o.LeftX),[g.pz.Axis1]:f(o.LeftY),[g.pz.Axis2]:f(o.RightX),[g.pz.Axis3]:f(o.RightY)},buttons:{[g.Lw.Button0]:I(a.A),[g.Lw.Button1]:I(a.B),[g.Lw.Button2]:I(a.X),[g.Lw.Button3]:I(a.Y),[g.Lw.Button4]:I(a.LeftShoulder),[g.Lw.Button5]:I(a.RightShoulder),[g.Lw.Button6]:f(o.LeftTrigger),[g.Lw.Button7]:f(o.RightTrigger),[g.Lw.Button8]:I(a.Back),[g.Lw.Button9]:I(a.Start),[g.Lw.Button12]:I(a.DPadUp),[g.Lw.Button13]:I(a.DPadDown),[g.Lw.Button14]:I(a.DPadLeft),[g.Lw.Button15]:I(a.DPadRight)},keys:{[g.VD.KeyX]:I(a.A),[g.VD.KeyZ]:I(a.B),[g.VD.KeyS]:I(a.X),[g.VD.KeyA]:I(a.Y),[g.VD.KeyQ]:I(a.LeftShoulder),[g.VD.KeyW]:I(a.RightShoulder),[g.VD.ShiftRight]:I(a.Back),[g.VD.Enter]:I(a.Start),[g.VD.ArrowUp]:I(a.DPadUp),[g.VD.ArrowDown]:I(a.DPadDown),[g.VD.ArrowLeft]:I(a.DPadLeft),[g.VD.ArrowRight]:I(a.DPadRight)}},M={axes:{[g.pz.Axis0]:b(a.DPadLeft,a.DPadRight),[g.pz.Axis1]:b(a.DPadUp,a.DPadDown)},buttons:{[g.Lw.Button12]:I(a.DPadUp),[g.Lw.Button13]:I(a.DPadDown),[g.Lw.Button14]:I(a.DPadLeft),[g.Lw.Button15]:I(a.DPadRight)},keys:S.keys};var E=Object.defineProperty,P=Object.prototype.hasOwnProperty,D=Object.getOwnPropertySymbols,C=Object.prototype.propertyIsEnumerable,w=(e,t,n)=>t in e?E(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Z=(e,t)=>{for(var n in t||(t={}))P.call(t,n)&&w(e,n,t[n]);if(D)for(var n of D(t))C.call(t,n)&&w(e,n,t[n]);return e};const T=Z(Z({},M),{buttons:Z(Z({},M.buttons),{[g.Lw.Button0]:I(a.A),[g.Lw.Button1]:I(a.B),[g.Lw.Button8]:I(a.Back),[g.Lw.Button9]:I(a.Start)})});var N=Object.defineProperty,O=Object.prototype.hasOwnProperty,A=Object.getOwnPropertySymbols,x=Object.prototype.propertyIsEnumerable,j=(e,t,n)=>t in e?N(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,L=(e,t)=>{for(var n in t||(t={}))O.call(t,n)&&j(e,n,t[n]);if(A)for(var n of A(t))x.call(t,n)&&j(e,n,t[n]);return e};const k=L(L({},M),{buttons:L(L({},M.buttons),{[g.Lw.Button0]:I(a.B),[g.Lw.Button1]:I(a.A),[g.Lw.Button4]:I(a.LeftShoulder),[g.Lw.Button5]:I(a.RightShoulder),[g.Lw.Button8]:I(a.Back),[g.Lw.Button9]:I(a.Start)})});var R=Object.defineProperty,z=Object.prototype.hasOwnProperty,U=Object.getOwnPropertySymbols,V=Object.prototype.propertyIsEnumerable,B=(e,t,n)=>t in e?R(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,F=(e,t)=>{for(var n in t||(t={}))z.call(t,n)&&B(e,n,t[n]);if(U)for(var n of U(t))V.call(t,n)&&B(e,n,t[n]);return e};const _=F(F({},M),{buttons:F(F({},M.buttons),{[g.Lw.Button0]:I(a.B),[g.Lw.Button1]:I(a.A),[g.Lw.Button2]:I(a.Y),[g.Lw.Button3]:I(a.B),[g.Lw.Button9]:I(a.Start)})});var H=Object.defineProperty,Q=Object.prototype.hasOwnProperty,G=Object.getOwnPropertySymbols,W=Object.prototype.propertyIsEnumerable,Y=(e,t,n)=>t in e?H(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,K=(e,t)=>{for(var n in t||(t={}))Q.call(t,n)&&Y(e,n,t[n]);if(G)for(var n of G(t))W.call(t,n)&&Y(e,n,t[n]);return e};const q=K(K({},M),{axes:{[g.pz.Axis0]:f(o.LeftX),[g.pz.Axis1]:f(o.LeftY),[g.pz.Axis2]:v(o.RightX),[g.pz.Axis3]:v(o.RightY)},buttons:K(K({},M.buttons),{[g.Lw.Button0]:I(a.B),[g.Lw.Button2]:I(a.Y),[g.Lw.Button4]:I(a.LeftShoulder),[g.Lw.Button5]:I(a.RightShoulder),[g.Lw.Button6]:v(o.LeftTrigger),[g.Lw.Button7]:v(o.LeftTrigger),[g.Lw.Button9]:I(a.Start)})});var $=Object.defineProperty,J=Object.prototype.hasOwnProperty,X=Object.getOwnPropertySymbols,ee=Object.prototype.propertyIsEnumerable,te=(e,t,n)=>t in e?$(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ne=(e,t)=>{for(var n in t||(t={}))J.call(t,n)&&te(e,n,t[n]);if(X)for(var n of X(t))ee.call(t,n)&&te(e,n,t[n]);return e};const re=ne(ne({},M),{buttons:ne(ne({},M.buttons),{[g.Lw.Button0]:I(a.B),[g.Lw.Button1]:I(a.A),[g.Lw.Button8]:I(a.Back),[g.Lw.Button9]:I(a.Start)})});var ie=Object.defineProperty,ae=Object.prototype.hasOwnProperty,se=Object.getOwnPropertySymbols,oe=Object.prototype.propertyIsEnumerable,le=(e,t,n)=>t in e?ie(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ce=(e,t)=>{for(var n in t||(t={}))ae.call(t,n)&&le(e,n,t[n]);if(se)for(var n of se(t))oe.call(t,n)&&le(e,n,t[n]);return e};const de=ce(ce({},M),{buttons:ce(ce({},M.buttons),{[g.Lw.Button0]:I(a.B),[g.Lw.Button1]:I(a.A),[g.Lw.Button9]:I(a.Start)})});var ue=Object.defineProperty,pe=Object.prototype.hasOwnProperty,me=Object.getOwnPropertySymbols,he=Object.prototype.propertyIsEnumerable,ge=(e,t,n)=>t in e?ue(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ye=(e,t)=>{for(var n in t||(t={}))pe.call(t,n)&&ge(e,n,t[n]);if(me)for(var n of me(t))he.call(t,n)&&ge(e,n,t[n]);return e};const ve=ye(ye({},M),{buttons:ye(ye({},M.buttons),{[g.Lw.Button0]:I(a.B),[g.Lw.Button1]:I(a.A),[g.Lw.Button9]:I(a.B)})});var fe=Object.defineProperty,be=Object.prototype.hasOwnProperty,Ie=Object.getOwnPropertySymbols,Se=Object.prototype.propertyIsEnumerable,Me=(e,t,n)=>t in e?fe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Ee=(e,t)=>{for(var n in t||(t={}))be.call(t,n)&&Me(e,n,t[n]);if(Ie)for(var n of Ie(t))Se.call(t,n)&&Me(e,n,t[n]);return e};const Pe=Ee(Ee({},M),{buttons:Ee(Ee({},M.buttons),{[g.Lw.Button0]:I(a.B),[g.Lw.Button1]:I(a.A),[g.Lw.Button2]:I(a.Y),[g.Lw.Button3]:I(a.X),[g.Lw.Button4]:I(a.LeftShoulder),[g.Lw.Button5]:I(a.RightShoulder),[g.Lw.Button8]:I(a.Back),[g.Lw.Button9]:I(a.Start)})});var De=n(8824),Ce=n(63676),we=n(38204);const Ze=function({inputDevices:e,paused:t,peerID:n,platformTag:r,preventDefault:i,sessionID:a,style:s,volume:o,onConnected:l,onError:c,onPause:d}){const[h,y]=(0,u.useState)(null),[v,f]=(0,u.useState)(null),[b,I]=(0,u.useState)(null),M=(0,u.useCallback)((e=>{let t=null,n=null;if(e){const r=e.appendChild(document.createElement("video"));r.className="ParsecGame-mediaElement-hh8U9x HTMLMedia-mediaElement-2XwlNN",n=e.appendChild(document.createElement("audio")),t=new window.Parsec(r,n,e)}f(n),I(t)}),[]);return(0,u.useEffect)((()=>()=>{b&&(b.destroy(),(0,p.Z)("[Game] Destroyed"))}),[b]),(0,u.useEffect)((()=>{if(!b||!n||!a)return;(0,p.Z)("[Game] Starting status monitor");let e=window.setInterval((()=>{y(b.clientGetStatus())}),250);return(0,p.Z)("[Game] Connecting..."),b.setLogCallback(p.Z),b.clientConnect(a,n),()=>{e&&((0,p.Z)("[Game] Stopping status monitor"),e=window.clearInterval(e)),b.clientGetStatus()!==b.Status.PARSEC_CONNECTING&&b.clientGetStatus()!==b.Status.PARSEC_OK||((0,p.Z)("[Game] Disconnecting..."),b.clientDisconnect())}}),[b,n,a]),(0,u.useEffect)((()=>{if(!b)return;const{Status:e}=b;if(l(h===e.PARSEC_OK),null!==h&&h!==e.PARSEC_CONNECTING&&h!==e.PARSEC_OK&&h!==e.PARSEC_NOT_RUNNING){const e=new Error(function(e,t){const{Status:n}=t;switch(e){case n.CONNECT_WRN_PEER_GONE:return(0,m.Z)("Unable to start game session.");case n.CONNECT_WRN_UNCONFIRMED:return(0,m.Z)("Please complete Parsec account email verification.");case n.NAT_ERR_WEBRTC:return(0,m.Z)("Network configuration prevents direct connection to game session.");default:return(0,m.Z)("A critical error occurred.")}}(h,b));e.category=function(e,t){const{Status:n}=t;switch(e){case n.CONNECT_WRN_UNCONFIRMED:return(0,m.Z)("Parsec Account");case n.CONNECT_WRN_PEER_GONE:return(0,m.Z)("Game Server");case n.NAT_ERR_WEBRTC:return(0,m.Z)("Network");default:return(0,m.Z)("Unknown")}}(h,b),e.code=String(h),p.Z.error("[Game] Fatal error!",e),p.Z.error("[Game] Disconnecting..."),b.clientDisconnect(),c(e)}}),[b,h,l,c]),(0,u.useEffect)((()=>{if(!b||h!==b.Status.PARSEC_OK)return;const e=t||i?g.Tk.PauseGame:g.Tk.ResumeGame;(0,p.Z)(`[Game] Sending data: ${e}`),b.clientSendUserData(e,"")}),[h,t,b,i]),(0,u.useEffect)((()=>{if(!b||h!==b.Status.PARSEC_OK||i)return;const t=function(e){switch(e){case"Atari 2600":case"Atari 7800":return T;case"Game Boy":case"Game Boy Color":case"Nintendo Entertainment System":return re;case"Game Boy Advance":return k;case"Nintendo 64":return q;case"Super Nintendo Entertainment System":return Pe;case"Sega Master System":return ve;case"Sega Game Gear":return de;case"Sega 32X":case"Sega Genesis":return _;default:return S}}(r),n=e.findIndex((e=>e.type===g.MT.Keyboard)),a=(0,Ce.Z)(((e,r)=>{const i=t.keys[e];if(-1!==n&&i){const e=i(n,r?1:0);if(e){const t=Array.isArray(e)?e:[e];for(const e of t)b.clientSendMessage(e)}}}),(e=>e.key===we.Z.Escape)),s=(0,De.Z)(((n,r,i)=>{const a=e.findIndex((e=>e.index===n.index));if(-1!==a){for(const e of r.changed){const n=t.axes[e];if(n){const t=n(a,r.values.get(e));if(t){const e=Array.isArray(t)?t:[t];for(const t of e)b.clientSendMessage(t)}}}for(const e of i.changed){const n=t.buttons[e];if(n){const t=n(a,i.values.get(e));if(t){const e=Array.isArray(t)?t:[t];for(const t of e)b.clientSendMessage(t)}}}}}));return()=>{a(),s()}}),[h,e,b,r,i]),(0,u.useEffect)((()=>{v&&(v.volume=Math.max(0,Math.min(o/100,1)))}),[v,o]),(0,u.useEffect)((()=>{if(!b)return;const e=()=>{b.clientGetStatus()===b.Status.PARSEC_OK&&b.clientSendUserData(g.Tk.PauseGame,"")},t=()=>{"hidden"===document.visibilityState&&d&&d()};return window.addEventListener("unload",e,!1),document.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("unload",e,!1),document.removeEventListener("visibilitychange",t,!1)}}),[b,d]),u.createElement("div",{style:s,ref:M})};function Te({edgeGutterX:e,edgeGutterY:t,gameInputDevices:n,gamePlatformTag:r,gamePreventDefault:i,height:a,isStackedAbove:s,paused:o,placement:l,positionSeconds:c,src:y,volume:v,width:f,onDurationMillisecondsChange:b,onPause:I,onPositionMillisecondsChange:S,onError:M,onTick:E}){const P=(0,u.useRef)(1e3*c),[D,C]=(0,u.useState)(null),[w,Z]=(0,u.useState)(null),[T,N]=(0,u.useState)(!1);(0,u.useEffect)((()=>{const e=d().CancelToken.source(),t=Date.now();return(0,p.Z)("[Game] Fetching session identifiers..."),d().get(y,{cancelToken:e.token}).then((e=>{(0,p.Z)(`[Game] Fetched session identifiers in ${(Date.now()-t)/1e3}s`);const{MediaContainer:n}=e.data;(null==n?void 0:n.status)===g.qZ.Ok?Z({peerID:n.peerID,sessionID:n.sessionID}):C({core:null==n?void 0:n.core,status:null==n?void 0:n.status,progress:null==n?void 0:n.progress})}),(e=>{const t=d().isCancel(e);p.Z.warn(`[Game] Session identifier request error; cancelled? ${t}`),t||C({status:g.qZ.UnknownFailure})})),()=>{e.cancel()}}),[y]),(0,u.useEffect)((()=>{var e;if(D){const t=new Error(function(e,t){const{core:n,progress:r,status:i}=e;switch(parseInt(i,10)){case g.qZ.AccountLinkageMissing:return(0,m.Z)("Parsec account not found. Ensure that your Plex account is linked to a Parsec account.");case g.qZ.SubscriptionRequired:return(0,m.Z)("An active Plex Arcade subscription is required for game playback.");case g.qZ.PlatformMissing:return(0,m.Z)("The core mapping file is missing the {platform} platform.",{platform:t});case g.qZ.PlatformCoreMappingMissing:return n?(0,m.Z)("The core mapping file is missing the {core} core for {platform}.",{core:n,platform:t}):(0,m.Z)("The core mapping file is missing a core for {platform}.",{platform:t});case g.qZ.PlatformCoreMissing:return n?(0,m.Z)("The core mapping file is missing the {core} core.",{core:n}):(0,m.Z)("The core mapping file is missing a core.");case g.qZ.TranscoderDied:return(0,m.Z)("The game transcoder exited unexpectedly.");case g.qZ.InvalidCoreMappingFile:return(0,m.Z)("The core mapping file is invalid.");case g.qZ.MissingCoreMappingFile:case g.qZ.PlatformCoreMappingFileMissingOrInvalid:return(0,m.Z)("The core mapping file is missing or invalid.");case g.qZ.SessionPeerNeverShowedUp:return(0,m.Z)("Unable to start a game session.");case g.qZ.TranscoderDownloading:return(0,m.Z)("The game transcoder is downloading; {progress}% complete.",{progress:r});case g.qZ.PlatformCoreDownloading:return n?(0,m.Z)("The {core} core for {platform} is downloading; {progress}% complete.",{core:n,platform:t,progress:r}):(0,m.Z)("A core for {platform} is downloading; {progress}% complete.",{platform:t,progress:r});case g.qZ.RomMissing:return(0,m.Z)("Media not found.");default:return(0,m.Z)("An unknown error occurred.")}}(D,r));t.category=function(e){switch(parseInt(e,10)){case g.qZ.AccountLinkageMissing:case g.qZ.SubscriptionRequired:return(0,m.Z)("Account");case g.qZ.PlatformMissing:case g.qZ.PlatformCoreMappingMissing:case g.qZ.PlatformCoreMissing:case g.qZ.InvalidCoreMappingFile:case g.qZ.MissingCoreMappingFile:case g.qZ.PlatformCoreMappingFileMissingOrInvalid:return(0,m.Z)("Game Setup");case g.qZ.TranscoderDied:case g.qZ.SessionPeerNeverShowedUp:case g.qZ.UnknownFailure:case g.qZ.TranscoderDownloading:case g.qZ.PlatformCoreDownloading:case g.qZ.RomMissing:return(0,m.Z)("Game Server");default:return(0,m.Z)("Unknown")}}(D.status),t.code=String(null!=(e=D.status)?e:-1),p.Z.error("[Game] Fatal error!",t),M(t)}}),[D,r,M]),(0,u.useEffect)((()=>{if(!T)return;const e=Date.now(),t=window.setInterval((()=>{const t=Date.now()-e,n=P.current+t,r=Math.floor(n/1e3);S(n),E(r)}),1e3);return b(-1),()=>{window.clearInterval(t)}}),[T,S,b,E]);const O=(0,h.Z)(a,f,l,e,t,s);return u.createElement(Ze,{inputDevices:n,paused:o,peerID:null==w?void 0:w.peerID,platformTag:r,preventDefault:i,sessionID:null==w?void 0:w.sessionID,style:O,volume:v,onConnected:N,onError:M,onPause:I})}Te.defaultProps={positionSeconds:0,volume:100};const Ne=Te},83787:(e,t,n)=>{"use strict";n.d(t,{Z:()=>ne});var r=n(67294),i=n(93966),a=n(88050),s=n(69605),o=n(82378),l=n(47636),c=n(2424),d=n(37703),u=n(22222),p=n(92187),m=n(84936),h=n(43666),g=n(94184),y=n.n(g),v=n(5562),f=n(22745),b=n(6103),I=n(66322),S=n(70182),M=n(79849),E=n(89460),P=n(60528),D=n(58801),C=n(64795),w=n(97125),Z=n(7568),T=n(21696),N=n(52919),O=n(31481),A=n(26782);const x=function({img:e,title:t,description:n}){return r.createElement("div",{className:"PlexPassFeature-feature-YnW4ll"},r.createElement("div",{className:"PlexPassFeature-featurePadding-U1Isfj"},r.createElement("img",{className:"PlexPassFeature-featureImage-QAgxr1",src:e}),r.createElement("div",{className:"PlexPassFeature-featureContainer-21ruMO"},r.createElement("div",{className:"PlexPassFeature-featureTitle-3HIuXF"},t),r.createElement("div",{className:"PlexPassFeature-featureDescription-F11NZQ"},n))))},j="PlexPassModalContent-planButton-2OghRO";var L=Object.defineProperty,k=Object.prototype.hasOwnProperty,R=Object.getOwnPropertySymbols,z=Object.prototype.propertyIsEnumerable,U=(e,t,n)=>t in e?L(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,V=(e,t)=>{for(var n in t||(t={}))k.call(t,n)&&U(e,n,t[n]);if(R)for(var n of R(t))z.call(t,n)&&U(e,n,t[n]);return e};const B=function(e){const{metricsProperties:t,subscribeUrl:n,infoUrl:i,plans:s,isPlansPending:l,isPlansPopulated:c,plansError:d,onModalClose:u}=e;return r.createElement(C.Z,{onModalClose:u},r.createElement(E.Z,{className:"PlexPassModalContent-header-2LHpX7 ModalHeader-modalHeader-15PhZc"},r.createElement("div",{className:"PlexPassModalContent-plexPassTitle-2qmwpN"},(0,v.Z)("Plex Pass")),(0,v.Z)("Enhance your Plex experience with exclusive premium features")),r.createElement(S.Z,{innerClassName:"PlexPassModalContent-body-3jSMOl ModalBody-innerModalBody-1VHRyi"},r.createElement(x,{img:T,title:(0,v.Z)("Downloads"),description:(0,v.Z)("Enjoy your media offline on Android and iOS devices")}),r.createElement(x,{img:Z,title:(0,v.Z)("Live TV & DVR"),description:(0,v.Z)("Connect a tuner and antenna to record free OTA broadcasts")}),r.createElement(x,{img:O,title:(0,v.Z)("Parental Controls"),description:(0,v.Z)("Set up managed user accounts to create custom access restrictions")}),r.createElement(x,{img:A,title:(0,v.Z)("Webhooks"),description:(0,v.Z)("Connect your media server to your home automation system")}),r.createElement(x,{img:w,title:(0,v.Z)("Server Dashboard"),description:(0,v.Z)("See the play history, bandwidth, and top users on your media server")}),r.createElement(x,{img:N,title:(0,v.Z)("Premium Music Magic"),description:(0,v.Z)("Sweet Fades, Loudness Leveling, Lyrics, and more")}),r.createElement("div",{className:"PlexPassModalContent-moreFeatures-1L7gmZ"},r.createElement(b.Z,{className:"PlexPassModalContent-link-W12ZLV",to:i,target:"_self"},(0,v.Z)("...plus more exclusive features!")))),r.createElement(M.Z,{className:"PlexPassModalContent-footer-21FcFP ModalFooter-modalFooter-1Q0cxs"},l?r.createElement("div",{className:"PlexPassModalContent-spinnerContainer-3sN9Mf"},r.createElement(D.Z,null)):null,r.createElement("div",{className:y()("PlexPassModalContent-plansContainer-3y4lZx",l&&"PlexPassModalContent-isPlansPending-1jd-23")},!l&&c?s.map((e=>r.createElement(I.Z,V(V({key:e.id},t),{action:a.kD,plan:e.id}),r.createElement(f.Z,{className:j,to:m.Z.join(n,{plan:e.id,continue:window.location.href}),target:"_self",kind:P._8,size:o.ln},e.formattedPrice,"  ",e.name)))):null,!l&&d?r.createElement(I.Z,V(V({},t),{action:a.kD,plan:"unknown"}),r.createElement(f.Z,{className:j,to:n,target:"_self",kind:P._8,size:o.ln},(0,v.Z)("Subscribe"))):null)))};var F=Object.defineProperty,_=Object.prototype.hasOwnProperty,H=Object.getOwnPropertySymbols,Q=Object.prototype.propertyIsEnumerable,G=(e,t,n)=>t in e?F(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;class W extends r.Component{UNSAFE_componentWillMount(){this.props.isSignedIn&&this.props.fetchPlans()}UNSAFE_componentWillReceiveProps(e){e.isSignedIn&&e.isSignedIn!==this.props.isSignedIn&&e.fetchPlans()}render(){return r.createElement(B,((e,t)=>{for(var n in t||(t={}))_.call(t,n)&&G(e,n,t[n]);if(H)for(var n of H(t))Q.call(t,n)&&G(e,n,t[n]);return e})({},this.props))}}const Y=(0,d.$j)((function(){return(0,u.P1)(((e,{origin:t})=>t),p.Z,((e,t)=>{const n=t.desktop,r={utm_source:"app.plex.tv",utm_medium:"app",utm_campaign:"PP_in-app-upsell_01"};return e&&(r.utm_content=e),{isSignedIn:t.isSignedIn,plans:n.plans,isPlansPending:n.isPlansPending,isPlansPopulated:n.isPlansPopulated,plansError:n.plansError,subscribeUrl:m.Z.join(["https://www.plex.tv","/plex-pass/purchase"],r),infoUrl:m.Z.join(["https://www.plex.tv","/plex-pass"])}}))}),{fetchPlans:h.ZQ})(W);var K=Object.defineProperty,q=Object.prototype.hasOwnProperty,$=Object.getOwnPropertySymbols,J=Object.prototype.propertyIsEnumerable,X=(e,t,n)=>t in e?K(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ee=(e,t)=>{for(var n in t||(t={}))q.call(t,n)&&X(e,n,t[n]);if($)for(var n of $(t))J.call(t,n)&&X(e,n,t[n]);return e};class te extends r.Component{constructor(){super(...arguments),this.onModalClose=()=>{(0,i.DB)("metrics").trackClick(ee(ee({},this.props.metricsProperties),{page:s.G5,action:a.AM})),this.props.onModalClose()}}shouldComponentUpdate(e,t){return(0,l.Z)(this,e,t)}render(){const{origin:e,isOpen:t,metricsProperties:n}=this.props;return r.createElement(c.Z,{size:o.ln,isOpen:t,metricsPage:s.G5,metricsProperties:n,onModalClose:this.onModalClose},r.createElement(Y,{origin:e,metricsProperties:n,onModalClose:this.onModalClose}))}}const ne=te},21709:(e,t,n)=>{"use strict";n.d(t,{Z:()=>m});var r=n(67294),i=n(61006),a=n(48494),s=n(47636),o=Object.defineProperty,l=Object.prototype.hasOwnProperty,c=Object.getOwnPropertySymbols,d=Object.prototype.propertyIsEnumerable,u=(e,t,n)=>t in e?o(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const p={[i.JU]:!0,[i.jx]:!0,[i.Ge]:!0,[i.nO]:!0,[i.u5]:!0},m=function(e){var t;return(t=class extends r.Component{constructor(e,t){super(e,t),this.onKeyDown=e=>{const{pressedModifierKeys:t}=this.state;p[e.which]&&-1===t.indexOf(e.which)&&this.setState({pressedModifierKeys:t.concat(e.which)})},this.onKeyUp=e=>{const{pressedModifierKeys:t}=this.state,n=t.indexOf(e.which);n>-1&&this.setState({pressedModifierKeys:t.slice(0,n).concat(t.slice(n+1))})},this.onMouseDown=e=>{this._isMouseDown=!0},this.onMouseUp=e=>{this._isMouseDown=!1},this.onFocusChange=e=>{this.state.pressedModifierKeys.length&&this.setState({pressedModifierKeys:[]}),this._isMouseDown=!1},this.onMouseEnter=e=>{const{selectionType:t,activeSelectionType:n}=this.props;this._isMouseDown&&n&&n===t&&this.onSelectPress(e)},this.onSelectPress=e=>{const{selectionID:t,selectionType:n,isSelected:r,onSelectItem:i}=this.props;r||i({id:t,type:n,isRangeSelect:e.shiftKey})},this.onDeselectPress=e=>{const{selectionID:t,isSelected:n,onDeselectItem:r}=this.props;n&&r({id:t})},this.state={pressedModifierKeys:[]}}componentDidMount(){document.addEventListener("keydown",this.onKeyDown),document.addEventListener("keyup",this.onKeyUp),document.addEventListener("mousedown",this.onMouseDown),document.addEventListener("mouseup",this.onMouseUp),document.addEventListener("dragstart",this.onFocusChange),document.addEventListener("contextmenu",this.onFocusChange),window.addEventListener("blur",this.onFocusChange)}shouldComponentUpdate(e,t){return(0,s.Z)(this,e,t)}componentWillUnmount(){document.removeEventListener("keydown",this.onKeyDown),document.removeEventListener("keyup",this.onKeyUp),document.removeEventListener("mousedown",this.onMouseDown),document.removeEventListener("mouseup",this.onMouseUp),document.removeEventListener("dragstart",this.onFocusChange),document.removeEventListener("contextmenu",this.onFocusChange),window.removeEventListener("blur",this.onFocusChange)}render(){const t=this.props,{selectionType:n,activeSelectionType:i,isSelected:a}=t,s=((e,t)=>{var n={};for(var r in e)l.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&c)for(var r of c(e))t.indexOf(r)<0&&d.call(e,r)&&(n[r]=e[r]);return n})(t,["selectionType","activeSelectionType","isSelected"]),{pressedModifierKeys:o}=this.state,p=!!i;return r.createElement(e,((e,t)=>{for(var n in t||(t={}))l.call(t,n)&&u(e,n,t[n]);if(c)for(var n of c(t))d.call(t,n)&&u(e,n,t[n]);return e})({hasActiveSelection:p,isSelected:a,isOtherItemSelected:p&&!a,isConflictingTypeSelected:p&&i!==n,isModifierKeyPressed:o.length>0,onMouseEnter:this.onMouseEnter,onSelectPress:this.onSelectPress,onDeselectPress:this.onDeselectPress},s))}}).displayName=`Selectable(${(0,a.Z)(e)})`,t.WrappedComponent=e,t.defaultProps={disableSelection:!1},t}},38625:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(67294);function i(e,t){return e&&e[t]?e[t].split(","):[]}function a(e,t,n){const a=i(e,t),s=i(e,n),[o,l]=(0,r.useState)(a),[c,d]=(0,r.useState)(s);return{initialAllowTags:a,initialExcludeTags:s,allowTags:o,excludeTags:c,onAllowTagsChange:(0,r.useCallback)((e=>{l(e)}),[]),onExcludeTagsChange:(0,r.useCallback)((e=>{d(e)}),[])}}},92885:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(67294);function i(e){const[t,n]=(0,r.useState)(!1);return{isOpen:t,onOpen:(0,r.useCallback)((()=>n(!0)),[]),onClose:(0,r.useCallback)((()=>n(!1)),[]),onConfirm:(0,r.useCallback)((t=>{n(!1),e&&e(t)}),[e])}}},22876:(e,t,n)=>{"use strict";n.d(t,{P:()=>o,E:()=>l});var r=n(59756),i=n(47479);function a(){return!i.Z.isHostedHttps||!!r.Z.allowMixedContent}function s(e){return e.isFullServer&&!!e.presence&&!e.httpsRequired}function o(e){return!a()&&s(e)}function l(e){const t=e.hasHttpsConnections&&!e.hasFallbackConnections;return a()&&s(e)&&t}},90961:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var r=n(28180),i=Object.defineProperty,a=Object.prototype.hasOwnProperty,s=Object.getOwnPropertySymbols,o=Object.prototype.propertyIsEnumerable,l=(e,t,n)=>t in e?i(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;function c(e=40,t=10,n){return(0,r.ZP)(((e,t)=>{for(var n in t||(t={}))a.call(t,n)&&l(e,n,t[n]);if(s)for(var n of s(t))o.call(t,n)&&l(e,n,t[n]);return e})({direction:r.yZ,columns:1,overscan:t,getCellWidth:e=>e.innerViewportWidth,getCellHeight:()=>e},n))}},90087:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(80126);function i(e,t,n){switch((0,r.n3)(e,t,n)){case r.oz:return 114;case r.s4:return 64;case r.Zp:return 74}}},13550:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(46277),i=n(69881);function a(e,t=""){const{type:n,title:a,parentTitle:s,grandparentTitle:o,index:l,parentIndex:c,originallyAvailableAt:d}=e;switch(n){case i.EPISODE:{let e=`${o} ${t} ${(0,r.Z)({seasonIndex:c,episodeIndex:l,date:d,noLeadingZero:!0,separator:"  "})}`;return a&&(e+=` ${t} ${a}`),e}case i.SEASON:case i.ALBUM:return`${s} ${t} ${a}`;case i.TRACK:return`${o} ${t} ${s} ${t} ${a}`;default:return a}}},72181:(e,t,n)=>{"use strict";n.d(t,{tW:()=>S,_7:()=>M,yq:()=>D,y7:()=>w,QF:()=>Z,Dd:()=>T,h$:()=>N,J5:()=>O,wc:()=>A,Or:()=>x,L:()=>L,Jm:()=>k,k7:()=>R,k_:()=>z,ZP:()=>U});var r=n(13469),i=n.n(r),a=n(59756),s=n(67006),o=n(94803),l=n(17524),c=n(45399),d=n(90296),u=n(11133),p=n(34796),m=n(61478),h=n(69881),g=n(89984),y=n(57721),v=n(78847),f=n(2078);const b={showPlay:S,showPlayVersion:function({server:e,provider:t,stableUser:n,metadataItem:r}){return!!S({server:e,provider:t,stableUser:n,metadataItem:r})&&(t.isLibraryProvider&&r.Media&&r.Media.length>1)},showPlayAll:S,showShuffle:function({server:e,provider:t,stableUser:n,metadataItem:r}){return!r.radio&&(S({server:e,provider:t,stableUser:n,metadataItem:r})&&!!t.features.playqueue)},showQueue:M,showPlayTrailer:E,showPlayPlexMix:P,showQueuePlexMix:function({server:e,provider:t,stableUser:n,metadataItem:r}){return P({server:e,provider:t,stableUser:n,metadataItem:r})},showPlayMusicVideo:E,showPlayRadio:function({server:e,provider:t,stableUser:n,metadataItem:r}){return!!r.hasRadioStation},showPlayArtistTV:function({server:e,provider:t,stableUser:n,metadataItem:r}){return!!r.hasArtistTVStation},showAddToWatchlist:function({provider:e,stableUser:t}){return!!(e.features.actions&&e.features.actions.addToWatchlist&&(0,y.d)(t,e.features.actions.addToWatchlist))},showAddToPicks:function({server:e,provider:t,stableUser:n,metadataItem:r}){return!!(n.features[c.Ah]&&t.features.actions&&t.features.actions.pick)},showAddToPlaylist:D,showAddToSaved:function({server:e,provider:t,stableUser:n,metadataItem:r}){if(!t)return!1;const i=t.features.actions.save;return!(!i||!(0,y.d)(n,i))&&null!=r.saved},showAddToLibrary:function({server:e,provider:t,stableUser:n,metadataItem:r}){if(!t)return;const i=r.type===h.TRACK||r.type===h.ALBUM||r.type===h.ARTIST,a=l.wB(t.identifier,l.xF),s=!!n.features[c.Ao],o=(0,y.d)(n,{requires:d.s});return i&&a&&s&&o},showFavorite:w,showUnfavorite:Z,showMarkPlayed:T,showMarkUnplayed:N,showSettings:function({server:e,provider:t,stableUser:n,metadataItem:r}){const{preferences:i}=r;return!t.features.manage&&null!=i},showEdit:O,showModifySmartPlaylist:function({server:e,provider:t,stableUser:n,metadataItem:r}){return!!O({server:e,provider:t,stableUser:n,metadataItem:r})&&!!r.smart},showRefresh:A,showAnalyze:x,showFixMatch:j,showMatch:function({server:e,provider:t,stableUser:n,metadataItem:r}){return!!O({server:e,provider:t,stableUser:n,metadataItem:r})&&(!!r.guid&&!j({server:e,provider:t,stableUser:n,metadataItem:r}))},showUnmatch:function({server:e,provider:t,stableUser:n,metadataItem:r}){return j({server:e,provider:t,stableUser:n,metadataItem:r})},showSplitApart:function({server:e,provider:t,stableUser:n,metadataItem:r}){if(!O({server:e,provider:t,stableUser:n,metadataItem:r}))return!1;let a;return a=h.isParentType(r.type)?r.Location:i().filter(r.Media,(e=>!e.proxyType)),a.length>1},showSync:L,showSyncDownload:function({server:e,provider:t,stableUser:n,metadataItem:r}){if(!a.Z.allowSyncDownload)return!1;if(!t)return!1;if(!l.QN.includes(t.identifier))return!1;if(r.isPlaylist&&r.playlistType===g.pV)return!1;if(r.isDownloaded&&!r.downloadSubscriptionID)return!1;if(!r.hasOwnProperty("guid"))return!1;if(r.remoteMedia)return!1;const i=t.features[s.kD],d=(null==i?void 0:i.flavor)===o.HN&&!!n.features[c.PL];return t.isLibraryProvider?e.allowSync&&d:d},showOptimize:k,showDownload:function({server:e,provider:t,stableUser:n,metadataItem:r}){return!!a.Z.allowDirectDownload&&(!!t.protocols.download&&!r.isExtra&&!r.remoteMedia)},showShare:function({server:e,provider:t,stableUser:n,metadataItem:r}){return e.isFullOwnedServer&&t.isLibraryProvider&&!r.isExtra&&!r.remoteMedia},showDelete:R,showDeleteVersion:function({server:e,provider:t,stableUser:n,metadataItem:r}){return!!O({server:e,provider:t,stableUser:n,metadataItem:r})&&(!!e.allowMediaDeletion&&i().filter(r.Media,(e=>!!e.proxyType)).length>0)},showViewPlayHistory:function({server:e,provider:t,stableUser:n,metadataItem:r}){return e.isFullOwnedServer&&!(0,v.Z)(e)},showWatchTogether:function({server:e,provider:t,stableUser:n,metadataItem:r}){const i=!!n.features[c.Bs],a=l.wB(t.identifier,[l.Y3,l.uk]),s=r.isExtra;return i&&a&&!s},showGetInfo:function({server:e,provider:t,stableUser:n,metadataItem:r}){return!!t&&t.isLibraryProvider&&!r.isExtra&&!r.indirect},showSelect:z},I={[h.MOVIE]:["showPlay","showPlayVersion","showQueue","showPlayTrailer","showAddToWatchlist","showAddToPlaylist","showMarkPlayed","showMarkUnplayed","showEdit","showRefresh","showAnalyze","showFixMatch","showMatch","showUnmatch","showSplitApart","showSync","showSyncDownload","showOptimize","showDownload","showShare","showDelete","showDeleteVersion","showViewPlayHistory","showWatchTogether","showGetInfo","showSelect"],[h.SHOW]:["showPlay","showPlayAll","showShuffle","showQueue","showPlayTrailer","showAddToPicks","showAddToWatchlist","showAddToPlaylist","showAddToSaved","showMarkPlayed","showMarkUnplayed","showEdit","showSettings","showRefresh","showAnalyze","showFixMatch","showMatch","showUnmatch","showSplitApart","showSync","showSyncDownload","showOptimize","showShare","showDelete","showViewPlayHistory","showSelect"],[h.SEASON]:["showPlay","showPlayAll","showShuffle","showQueue","showAddToPlaylist","showMarkPlayed","showMarkUnplayed","showEdit","showAnalyze","showSync","showSyncDownload","showOptimize","showShare","showDelete","showViewPlayHistory","showSelect"],[h.EPISODE]:["showPlay","showPlayVersion","showQueue","showAddToPlaylist","showMarkPlayed","showMarkUnplayed","showEdit","showRefresh","showAnalyze","showSync","showSyncDownload","showOptimize","showDownload","showShare","showDelete","showDeleteVersion","showViewPlayHistory","showWatchTogether","showGetInfo","showSelect"],[h.ARTIST]:["showPlay","showShuffle","showPlayRadio","showPlayArtistTV","showQueue","showAddToPlaylist","showAddToSaved","showAddToLibrary","showEdit","showRefresh","showAnalyze","showFixMatch","showMatch","showUnmatch","showSplitApart","showSync","showSyncDownload","showShare","showDelete","showViewPlayHistory","showSelect"],[h.ALBUM]:["showPlay","showShuffle","showQueue","showAddToPicks","showAddToPlaylist","showAddToSaved","showAddToLibrary","showEdit","showRefresh","showAnalyze","showFixMatch","showMatch","showUnmatch","showSplitApart","showSync","showSyncDownload","showShare","showDelete","showViewPlayHistory","showSelect"],[h.TRACK]:["showPlay","showQueue","showPlayPlexMix","showQueuePlexMix","showPlayMusicVideo","showAddToPlaylist","showAddToSaved","showAddToLibrary","showMarkPlayed","showMarkUnplayed","showEdit","showAnalyze","showSync","showSyncDownload","showDownload","showShare","showDelete","showViewPlayHistory","showGetInfo","showSelect"],[h.PHOTO_ALBUM]:["showPlay","showShuffle","showAddToPlaylist","showEdit","showAnalyze","showSync","showShare","showSelect"],[h.PHOTO]:["showPlay","showAddToPlaylist","showFavorite","showUnfavorite","showEdit","showAnalyze","showSync","showDownload","showShare","showDelete","showGetInfo","showSelect"],[h.CLIP]:["showPlay","showPlayVersion","showQueue","showPlayTrailer","showAddToPlaylist","showAddToSaved","showMarkPlayed","showMarkUnplayed","showEdit","showRefresh","showAnalyze","showFixMatch","showMatch","showUnmatch","showSplitApart","showSync","showSyncDownload","showOptimize","showDownload","showShare","showDelete","showDeleteVersion","showViewPlayHistory","showWatchTogether","showGetInfo","showSelect"],[h.PLAYLIST]:["showDelete","showEdit","showPlay","showQueue","showShuffle","showAddToSaved","showSync","showSyncDownload","showShare","showSelect","showEdit","showModifySmartPlaylist"],[h.COLLECTION]:["showPlay","showQueue","showShuffle","showAddToPlaylist","showEdit","showSync","showDelete"],[h.GAME]:["showPlay","showPlayVersion","showMarkPlayed","showMarkUnplayed","showEdit","showRefresh","showAnalyze","showFixMatch","showMatch","showUnmatch","showSplitApart","showDelete","showDeleteVersion","showGetInfo","showSelect"]};function S({server:e,provider:t,stableUser:n,metadataItem:r}){return(0,f.Z)(e,t,n.features,r)}function M({server:e,provider:t,stableUser:n,metadataItem:r}){const i=S({server:e,provider:t,stableUser:n,metadataItem:r}),a=r.isExtra&&r.isPremium;return i&&!!t.features.playqueue&&!a}function E({server:e,provider:t,stableUser:n,metadataItem:r}){return!!r.primaryExtraKey}function P({server:e,provider:t,stableUser:n,metadataItem:r}){return!(!r.related||!r.related.find((e=>/similarPlaylist/.test(e))))}function D({server:e,provider:t,stableUser:n,metadataItem:r}){if(!t)return!1;const i=t.features.playlist;return!(!i||!(0,y.d)(n,i))&&!(r.isExtra&&r.isPremium||(0,v.Z)(e))}function C({provider:e,stableUser:t,metadataItem:n}){return!(!e.features.actions.rate||h.isDirectoryType(n.type)||n.isFolder)}function w({server:e,provider:t,stableUser:n,metadataItem:r}){return C({provider:t,stableUser:n,metadataItem:r})&&!(0,p.ZP)(r)}function Z({server:e,provider:t,stableUser:n,metadataItem:r}){return C({provider:t,stableUser:n,metadataItem:r})&&(0,p.ZP)(r)}function T({server:e,provider:t,stableUser:n,metadataItem:r}){return!(!(t&&t.features.actions&&t.features.actions.scrobble&&t.features.actions.scrobble.key)||t.protocols.livetv||r.type===h.TRACK&&r.subtype!==m.PODCAST||null!=r.saved&&!r.saved&&!r.viewOffset||r.isExtra)&&(h.isParentType(r.type)?r.unviewedLeafCount>0:!r.viewCount||!!r.viewOffset)}function N({server:e,provider:t,stableUser:n,metadataItem:r}){return!(!(t&&t.features.actions&&t.features.actions.scrobble&&t.features.actions.scrobble.reverseKey)||t.protocols.livetv||r.type===h.TRACK&&r.subtype!==m.PODCAST||null!=r.saved&&!r.saved||r.isExtra)&&(h.isParentType(r.type)?r.viewedLeafCount>0:!!r.viewCount||!!r.viewOffset)}function O({server:e,provider:t,stableUser:n,metadataItem:r}){const{isLibraryItem:i,isPlaylist:a,isExtra:s,isFolder:o,radio:l,readOnly:c}=r,d=i&&!s&&!o&&!l;return a?!c:!!(t&&t.features.manage&&d)}function A({server:e,provider:t,stableUser:n,metadataItem:r}){return O({server:e,provider:t,stableUser:n,metadataItem:r})}function x({server:e,provider:t,stableUser:n,metadataItem:r}){return!r.indirect&&!r.remoteMedia&&O({server:e,provider:t,stableUser:n,metadataItem:r})}function j({server:e,provider:t,stableUser:n,metadataItem:r}){return!!O({server:e,provider:t,stableUser:n,metadataItem:r})&&!(!r.guid||/(local|none):\/\//.test(r.guid))}function L({server:e,provider:t,stableUser:n,metadataItem:r}){if(!a.Z.allowSync)return!1;if(!e.isFullServer)return!1;if(n.features[c.PL])return!1;const{allowSync:i,isExtra:s,isLibraryItem:o,isPlaylist:l,remoteMedia:d}=r;return!(s||d||!o&&!l||!e.allowSync||!i)}function k({server:e,provider:t,stableUser:n,metadataItem:r}){return!!O({server:e,provider:t,stableUser:n,metadataItem:r})&&!(!e.transcoderVideo||!e.backgroundProcessing)}function R({server:e,provider:t,stableUser:n,metadataItem:r}){return!!O({server:e,provider:t,stableUser:n,metadataItem:r})&&!!(r.isPlaylist||r.type===h.COLLECTION||r.remoteMedia||e.allowMediaDeletion)}function z({server:e,provider:t,stableUser:n,metadataItem:r}){return!r.radio&&t.isLibraryProvider&&!r.isFolder}function U({server:e,provider:t,stableUser:n,metadataItem:r}){const{type:a}=r,s=I[a];return s?s.reduce(((s,o)=>{const l=b[o];return(0,u.Z)(i().isFunction(l),`getMetadataActionProps: Invalid action, ${o}, for ${a}`),s[o]=!!(e&&t&&r)&&l({server:e,provider:t,stableUser:n,metadataItem:r}),s}),{}):{}}},60208:(e,t,n)=>{"use strict";n.d(t,{G:()=>c,Z:()=>d});var r=n(61478),i=n(69881),a=n(9220),s=n(80126);function o(e){return e.thumb||e.parentThumb||e.grandparentThumb}function l(e){return e.art||e.parentArt||e.grandparentArt}function c(e,t,n,s){if(s)switch(s){case a.sD:switch(t){case r.PODCAST:switch(e){case i.TRACK:return n.thumb||n.grandparentThumb}}switch(e){case i.SEASON:case i.EPISODE:case i.ALBUM:case i.TRACK:return n.thumb}break;case a.wl:case a.Bs:switch(e){case i.MOVIE:return l(n);case i.EPISODE:return l(n)||n.thumb}break;case a.r$:switch(e){case i.MOVIE:return l(n);case i.EPISODE:return n.thumb||l(n)}break;case a.F5:case a.zg:case a.jF:case a.Ap:switch(e){case i.EPISODE:return n.thumb}}switch(t){case r.PODCAST:switch(e){case i.SHOW:return n.thumb;case i.TRACK:return n.grandparentThumb||n.thumb}break;case r.WEBSHOW:switch(e){case i.EPISODE:return n.thumb}}switch(e){case i.MOVIE:case i.SHOW:return n.thumb;case i.SEASON:return o(n);case i.EPISODE:return n.grandparentThumb;case i.ARTIST:return n.thumb;case i.ALBUM:case i.TRACK:return o(n);case i.PHOTO:case i.PHOTO_ALBUM:case i.CLIP:return n.thumb;case i.PLAYLIST:return n.thumb||n.composite;default:return n.thumb}}function d(e,t,n,r,i,a){const o=null==e?(0,s.dz)(t,n,r,a):e,l=null==t?(0,s.Cr)(e,n,r,a):t;return{url:c(n,r,i,a),width:o,height:l}}},28889:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r=function(e){return!(!e||!e.isDownloaded)}},73588:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r=function(e){return!(!e||!e.downloadSubscriptionID)}},80126:(e,t,n)=>{"use strict";n.d(t,{s4:()=>a,Zp:()=>s,oz:()=>o,n3:()=>l,dz:()=>c,Cr:()=>d});var r=n(61478),i=n(9220);const a=1/1.5,s=1,o=16/9;function l(e,t,n){if(n)switch(n){case i.H1:switch(e){case"genre":case"channel":return s}break;case i.sD:case i.IN:switch(e){case"episode":return o}break;case i.wl:case i.Bs:return o;case i.r$:switch(e){case"movie":case"episode":case"game":return o}break;case i.F5:case i.zg:case i.jF:case i.Ap:switch(e){case"episode":return o}break;case i.Uz:switch(e){case"clip":return s}break;case i.lD:case i.UC:switch(e){case"clip":return a}}switch(t){case r.PODCAST:case r.WEBSHOW:switch(e){case"show":return s;case"episode":return o}}switch(e){case"channels":return s;case"movie":case"show":case"season":case"episode":return a;case"artist":case"album":case"track":case"photo":case"photoalbum":return s;case"clip":return o;case"collection":return a;case"extra":case"musicVideo":return o;case"mixed":return a;case"platform":case"directory":case"genre":return o;case"content":case"channel":case"hub":case"list":return s;case"game":return.75;default:return s}}function c(e,t,n,r){const i=l(t,n,r);return Math.round(e*i)}function d(e,t,n,r){const i=l(t,n,r);return Math.round(e/i)}},27154:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var r=Object.defineProperty,i=Object.prototype.hasOwnProperty,a=Object.getOwnPropertySymbols,s=Object.prototype.propertyIsEnumerable,o=(e,t,n)=>t in e?r(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,l=(e,t)=>{for(var n in t||(t={}))i.call(t,n)&&o(e,n,t[n]);if(a)for(var n of a(t))s.call(t,n)&&o(e,n,t[n]);return e};function c(e,t,n){return l(l(l({},e),n),t)}},12159:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(69881),i=n(75157),a=n(13550),s=n(7118);function o(e,t,n){let o=`metadataItemID=${t.ratingKey}`;return n&&(o+=`&viewedAt=${(0,i.xP)(n)}`),(0,s.Z)(e,{filters:o,filterTitle:(0,a.Z)(t),activeTimePeriod:n,isParentType:(0,r.isParentType)(t.type)})}},7118:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(84936);function i(e,t){return r.Z.join(`#!/server/${encodeURIComponent(e)}/playHistory`,t)}},6638:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(91135),i=n(84936);function a(e,t,n,a={},s){if(!e||!t||!n)return;const o=function(e,t){const n=encodeURIComponent(e.machineIdentifier),r=encodeURIComponent(t.identifier),i=`/server/${n}`;return t.isLibraryProvider?i:`${e.isCloud?"":i}/provider/${r}`}(e,t),l=encodeURIComponent(n),c={[r.pV]:"album",[r.pX]:"playlist",[r.j0]:"playlist"},d=`#!${o}/${s?c[s]:"details"}?key=${l}`;return i.Z.join(d,a)}},60363:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(61478),i=n(69881),a=n(87385),s=n(6638);function o(e,t,n={},o,l){const c=n.type,d=n.subtype,u=n.playlistType;let p=n.key;if(!n.skipDetails&&c!==i.PHOTO)return c===i.TRACK&&d!==r.PODCAST&&(p=n.skipParent?n.grandparentKey:n.parentKey),!p&&n.librarySectionID?(0,a.Z)(e,t,l,o):(0,s.Z)(e,t,p,o,u)}},18039:(e,t,n)=>{"use strict";function r(e,t,n){return`#!/settings/server/${encodeURIComponent(e)}/${t}/${n}`}n.d(t,{Z:()=>r})},58368:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(13469),i=n.n(r);const a=function(e,t){const n=i().groupBy(e,(e=>e.advanced||t&&t.has(e.id)?"advanced":"basic"));return n.basic=i().indexBy(n.basic,"id"),n}},62899:(e,t,n)=>{"use strict";function r(e){return`${e}`}n.d(t,{H:()=>r})},89267:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(32129);const i=Object.assign({},r.Z,{starSpeed:"0.3s",starPulseScale:1.35,starPulseSpeed:"0.15s",starPulseTimingFunction:"cubic-bezier(0.075, 0.82, 0.165, 1)",posterFlipSpeed:"0.8s",overlaySpeed:"0.3s",chartOpacitySpeed:"0.3s"})},90701:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var r=n(79481);const i="#e5a00d",a="#fafafa",s="#a0aab1",o="#1f2326",l="#343a3f",c=Object.assign({},r.Z,{v4AccentLight:i,v4AltLight:a,v4AltMedium:s,v4AltMediumDark:"#737e87",v4AltMediumLight:"#d6dcdf",v4BaseDark:o,v4BaseLight:"#444f56",v4BaseMedium:"#2a3136",v4BaseMediumLight:l,v4DefaultColor:a,v4DividerColor:o,primaryButtonColor:o,dragPreviewBackgroundColor:"rgba(76, 76, 76, 0.7)",dragPreviewOpacity:"0.9",dragPreviewLowOpacity:"0.35",dropLocationColor:"#f9be03",sliderTrackBackgroundColor:"rgba(255, 255, 255, 0.2)",sliderThumbBackgroundColor:"#ddd",sliderThumbHoverBackgroundColor:"#fff",rowOddBackgroundColor:"rgba(255, 255, 255, 0.03)",rowEvenBackgroundColor:"#292929",avatarBackgroundColor:"#999",detailsShadowColor:"#000",playerBackgroundColor:"#232426",playerTopControlsBackgroundColor:"rgba(35, 36, 38, 0.45)",playerBottomControlsBackgroundColor:"rgba(35, 36, 38, 0.8)",playerPrimaryButtonBackgroundColor:"rgba(0, 0, 0, 0.45)",miniPlayerBackgroundColor:r.Z.blackDarkerTranslucentBackgroundColor,playerSecondaryOverlayColor:"rgba(0, 0, 0, 0.4)",playerPosterActionColor:r.Z.blackDarkTranslucentBackgroundColor,playerPanelColor:"rgba(0, 0, 0, 0.6)",playerDisabledLinkColor:"rgba(255, 255, 255, 0.15)",playerShadowColor:"rgba(0, 0, 0, 0.45)",seekBarTrackColor:"rgba(0, 0, 0, 0.75)",seekBarTrackColorHover:"rgba(255, 255, 255, 0.15)",seekBarFillColor:"#cc7b19",seekBarBufferColor:"rgba(204, 123, 25, 0.3)",seekBarThumbnailShadowColor:"rgba(0, 0, 0, 0.45)",seekBarTooltipBackgroundColor:"#000",seekBarTooltipShadowColor:"rgba(0, 0, 0, 0.5)",thumbnailBackgroundColor:"rgba(0, 0, 0, 0.45)",adSeekBarFillColor:"#f9be03",equalizerBarColor:"#f9be03",htmlMediaElementBackgroundColor:"#000",toastBackgroundColor:"rgba(1, 1, 1, 0.50)",posterBackgroundColor:"rgba(0, 0, 0, 0.45)",posterHoverBackgroundColor:"radial-gradient(farthest-corner at 50% 50%, rgba(50, 50, 50, 0.5) 50%, rgb(50, 50, 50) 100%)",posterSelectedBackgroundColor:"rgba(30, 30, 30, 0.5)",posterBlendedSelectedBackgroundColor:"rgba(19, 19, 19, 0.78);",posterPlaceholderIconColor:"rgba(255, 255, 255, 0.15)",posterCenterCircleBackgroundColor:"rgba(0, 0, 0, 0.45)",posterBadgeShadowColor:"rgba(0, 0, 0, 0.6)",posterProgressTrackBackgroundColor:"rgba(0, 0, 0, 0.75)",posterVersionBadgeColor:"#556688",posterSmartBadgeColor:"rgb(142, 97, 145)",posterFavoriteBadgeColor:"rgb(229, 172, 182)",v4CardBackgroundColor:"rgba(0, 0, 0, 0.45)",v4CardShimmerBackgroundColor:"rgba(0, 0, 0, 0.3)",v4CardShadowColor:"rgba(0, 0, 0, 0.3)",v4CardHoverBackgroundColor:"rgba(30, 30, 30, 0.6)",v4CardHoverBorderColor:i,recordColor:"#f53",recordHoverColor:"lighten(#f53, 0.1)",recordBackgroundColor:"#b32",recordActiveBackgroundColor:"darken(#b32, 0.1)",dayOfWeekBackgroundColor:"rgba(255, 255, 255, 0.1)",dayOfWeekColor:"rgba(255, 255, 255, 0.75)",todayBackgroundColor:"rgba(255, 255, 255, 0.3)",todayColor:"rgba(255, 255, 255, 0.1)",calendarEventSuccessBackgroundColor:"rgba(0, 102, 153, 0.15)",calendarEventSuccessAlternateBackgroundColor:"rgba(31, 120, 165, 0.17)",calendarEventSuccessHoverBackgroundColor:"rgba(76, 148, 183, 0.20)",calendarEventErrorBackgroundColor:"rgba(187, 51, 34, 0.3)",calendarEventErrorAlternateBackgroundColor:"rgba(191, 64, 48, 0.31)",calendarEventErrorHoverBackgroundColor:"rgba(199, 87, 73, 0.34)",recordingIconColor:"#ff5533",playColor:"rgba(255, 255, 255, 0.75)",channelGridTimelineLabelColor:s,channelGridSelectedItemDetailsBackgroundColor:"rgba(0, 0, 0, 0.2)",channelGridBorderColor:l,channelGridHoverColor:"rgba(255, 255, 255, 0.2)",channelGridBackgroundColor:"rgba(160, 170, 177, 0.1)",channelGridOnAirBackgroundColor:"rgba(160, 170, 177, 0.1)",channelGridFinishedAiringBackgroundColor:"rgba(160, 170, 177, 0.3)",channelGridProgressColor:"rgba(160, 170, 177, 0.1)",channelGridMissingItemBackgroundColor:"rgba(0, 0, 0, 0)",channelGridChannelThumbBackgroundColor:"rgba(42, 49, 54, 0.5)",channelGridRecentChannelThumbBackgroundColor:"rgba(255, 255, 255, 0.05)",channelGridChannelIdentifierBackroundColor:"rgba(42, 49, 54, 0.5)",channelGridNewBadgeColor:"rgba(84, 84, 84)",filterBuilderInputBackgroundColor:"rgba(0, 0, 0, 0.6)",altFilterBuilderInputBackgroundColor:r.Z.blackDarkerTranslucentBackgroundColor,dvrBackgroundColor:r.Z.blackDarkTranslucentBackgroundColor,prePlayUnavailableButtonBackgroundColor:"rgba(255, 84, 50, 0.6)",prePlayPartialButtonBackgroundColor:"rgba(204, 123, 25, 0.6)",searchInputBackgroundColor:"rgba(255, 255, 255, 0.08)",preferredServerButtonBackgroundColor:"rgba(0, 0, 0, 0.45)",sortableHomeHubsContainerBackgroundColor:"rgba(255, 255, 255, 0.03)",sortableHomeHubsRowBackgroundColor:"rgba(255, 255, 255, 0.02)",chartTranslucentOpacity:"0.25",serverDashboardTileRowBackgroundPrimaryColor:"rgba(229, 160, 13, 0.2)",serverDashboardTileRowBackgroundSecondaryColor:"rgba(229, 160, 13, 0.15)",serverDashboardTileRowBackgroundTertiaryColor:"rgba(229, 160, 13, 0.1)",serverDashboardTileRowBackgroundQuaternaryColor:"rgba(229, 160, 13, 0.05)",sessionStopBackgroundColor:"#701f29",sessionStopIconColor:"rgba(255, 255, 255, 0.5)",sourceSidebarSelectedColor:"rgba(255, 255, 255, 0.07)",liveTVSettingsTuner1Color:"#7EB0D5",liveTVSettingsTuner2Color:"#BC9BB7",liveTVSettingsTuner3Color:"#8f9148",liveTVSettingsTuner4Color:"#7a3d84",liveTVSettingsTuner5Color:"#ca5f5a"})},7796:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(49666);const i=Object.assign({},r.Z,{sliderTrackSize:"60px",sliderThumbSize:"12px",serverMenuItemHeight:"60px",sourceMenuItemHeight:"65px",sourceMenuItemGutter:"25px",posterCenterCircleSize:"42px",posterBadgeHeight:"24px",posterHoverSlideDistance:"10px",posterIconPadding:"20px",posterProgressHeight:"4px",v4CardBorderRadius:"4px",v4CardShadowSize:"4px",v4CardTitleGap:"10px",v4CardTitleHeight:"20px",v4CardCircleSize:"42px",listButtonHeight:"40px",hubCellHeaderBottomPadding:"5px",hubCellHeaderTopPadding:"25px",v4ListSpacing:"40px",v4SpotlightHeight:"350px",pagePadding:"60px",v4PagePadding:"50px",v4PagePaddingAlt:"25px",pageHeaderRowHeight:"50px",pageHeaderLeftMargin:"40px",pageHeaderTabButtonLeftRightMargin:"5px",recordingPriorityPaneWidth:"360px",recordingPriorityPaneBorderWidth:"4px",recordingPriorityDragHandleWidth:"62px",channelGridRowHeight:"60px",channelGridTitleColumnWidth:"130px",channelGridChannelColumnWidth:"250px",channelGridChannelOverflowWidth:"100px",channelGridChannelIconWidth:"80px",channelGridBorderSize:"1.5px",jumpBarCharacterHeight:"25px",jumpBarCharacterPadding:"10px",jumpBarGutter:"30px",jumpBarMargin:"10px",playCellWidth:"42px",actionsCellWidth:"82px",actionsCellPadding:"10px",summaryCellHeight:"136px",simpleSummaryCellHeight:"90px",summaryCellPadding:"20px",trackCellHeight:"60px",trackCellPadding:"10px",mosaicCellPadding:"5px",timelineGutter:"60px",prePlaySummaryMaxWidth:"750px",prePlayPosterMinWidth:"150px",prePlayPosterMaxWidth:"230px",prePlayPosterWidthRatio:"0.15",prePlayContentPadding:"20px",prePlayRatingBase:"1em",v4PrePlayListTitleGap:"20px",v4PrePlayDividerHeight:"2px",postPlayPosterWidth:"260px",postPlayTitleHeight:"40px",postPlayAutoPlayHeight:"55px",dvrSetupImageWidth:"193px",dvrSetupChannelMappingItemHeight:"40px",dvrSetupSpinnerSize:"100px",playerControlsHeight:"100px",playerControlsMinWidth:"640px",playerControlsNarrowHeight:"140px",playerControlsNarrowBreakpoint:"960px",playerControlsPosterHeight:"80px",playerControlsPosterLeftGutter:"8px",playerControlsPosterBottomGutter:"8px",playerControlsNarrowPosterBottomGutter:"48px",playerControlsContentSpacing:"20px",playerControlsSquarePosterWidth:"80px",playerControlsLandscapePosterWidth:`${Math.round(16/9*80)}px`,playerInfoBarHeight:"45px",playerTopControlsHeight:"60px",playerSideControlsWidth:"100px",playerOverlayActionEdgeGutter:"20px",playerIconButtonSize:"30px",playerIconButtonSpacing:"5px",playerVolumeSliderWidth:"32px",playerVolumeSliderHeight:"60px",seekBarHeight:"4px",seekBarTooltipMarginBottom:"4px",seekBarTooltipHeight:"23px",seekBarTooltipSmallWidth:"60px",seekBarTooltipLargeWidth:"90px",playQueueItemHeight:"68px",playQueueMoveButtonWidth:"54px",playQueueSidePadding:"60px",lyricsLineHeight:"30px",lyricsLineWidth:"640px",playerMediaOverlayInnerMargin:"1vw",playerMediaOverlayOuterMargin:"2vw",playlistItemCardWidth:"64px",playlistBadgeSize:"30px",navigationIconSize:"20px",sourceSidebarIconSize:"18px",sourceSidebarWidth:"60px",sourceSidebarExpandedWidth:"260px",sourceSidebarLeftGutter:"20px",sourceSidebarItemHeight:"50px",sourceSidebarLinkHoverStatusbarAllowance:"20px",sourceSidebarServerHeaderIconSize:"24px",homeServerListItemHeight:"40px",serverSelectMenuWidth:"260px",heroBadgeHeight:"90px",heroPageMinHeight:"600px",serverShareListRowHeight:"40px",lineupSettingChannelHeight:"40px",spotlightHubCellHeight:"324px",spotlightHubCellGap:"25px",watchTogetherLobbyPosterWidth:"260px",watchTogetherLobbyTitleHeight:"40px",downloadCellHeight:"120px",liveTVSettingsDeviceGap:"3px",liveTVSettingsDeviceWidth:"300px",liveTVSettingsDeviceBorderSize:"8px",liveTVSettingsChannelItemHeight:"50px",liveTVSettingsChannelItemWidth:"450px",liveTVSettingsChannelThumbWidth:"60px",liveTVSettingsChannelThumbHeight:"40px"})},44799:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r={allowFlash:!0,allowHttpsMediaServerConnections:!0,allowMediaServerRelayConnections:!0,allowMultipleWebSocketConnections:!0,shouldCreateFlexModels:!0,shouldCreateStateTree:!0,shouldRequestHTMLFromCloudProvider:!0,allowCloudPubSub:!0,allowLoopbackDiscovery:"http:"===window.location.protocol,allowSSO:!1,bufferingDetectionLimit:500,allowSyncSettings:!0,allowSync:!0,allowDirectDownload:!0,allowSyncDownload:!1}},10914:(e,t,n)=>{"use strict";var r={};n.r(r),n.d(r,{CLEAR_MOVE_ERROR:()=>TV,CLEAR_RECORDING_SCHEDULE_PAGE:()=>IV,FETCH_CALENDAR:()=>wV,FETCH_MEDIA_SUBSCRIPTIONS:()=>SV,GO_TO_NEXT_RANGE:()=>CV,GO_TO_PREVIOUS_RANGE:()=>DV,GO_TO_TODAY:()=>PV,INIT_RECORDING_SCHEDULE_PAGE:()=>bV,MOVE_MEDIA_SUBSCRIPTION:()=>MV,PLAY_RECORDING:()=>ZV,SET_VISIBLE_DAYS:()=>EV,clearMoveError:()=>VV,clearRecordingSchedulePage:()=>OV,fetchCalendar:()=>zV,fetchMediaSubscriptions:()=>AV,goToNextRange:()=>RV,goToPreviousRange:()=>kV,goToToday:()=>LV,initRecordingSchedulePage:()=>NV,moveMediaSubscription:()=>xV,playRecording:()=>UV,recordingSchedulePageActionHandlers:()=>HV,setVisibleDays:()=>jV});var i={};n.r(i),n.d(i,{EPG_EPISODE:()=>DG,MOSAIC:()=>SG,POSTER:()=>IG,SHARED_ITEMS:()=>CG,SIMPLE_SUMMARY:()=>EG,SUMMARY:()=>PG,TABLE:()=>MG,default:()=>NG,showListStyles:()=>wG,showListStylesMenu:()=>TG,showListStylesSlider:()=>ZG});var a={};n.r(a),n.d(a,{BACKGROUND_TRANSCODE_JOBS:()=>Qpe,FRIEND:()=>Mn.vO,HOME_USER:()=>Mn.Tl,HUB:()=>Mn.km,LIBRARY:()=>Mn.Y3,LIVE_TV_SESSION:()=>Mn.RP,MEDIA_SUBSCRIPTION:()=>Mn.PK,METADATA_ITEM:()=>Mn.TY,METADATA_LIST:()=>Mn.$4,PLAYLIST_ITEM:()=>Mn.gO,PLAY_QUEUE_ITEM:()=>Mn.PI,PROVIDER:()=>Mn.MC,RESOURCE:()=>Mn.YI,SEARCH_RESULT:()=>Mn.Re,SERVER:()=>Mn.cN,SYNC_METADATA_ITEM:()=>Gpe,TRANSCODE_JOBS:()=>Mn.PC,USER:()=>Mn.xR,WATCH_TOGETHER_ROOM:()=>Mn.r8});var s={};n.r(s),n.d(s,{fetchEPGCountries:()=>Kfe,fetchEPGLanguages:()=>qfe,fetchEPGLineups:()=>tbe,resetEPGSettings:()=>Yfe,selectEPGCountry:()=>$fe,selectEPGLanguage:()=>Jfe,selectEPGRegion:()=>Xfe,setEPGPostalCode:()=>ebe});var o={};n.r(o),n.d(o,{AVAILABLE:()=>sPe,DONE:()=>oPe,DOWNLOADED:()=>lPe,DOWNLOADING:()=>cPe,ERROR:()=>dPe,INSTALLING:()=>uPe,NONE:()=>pPe,NOTIFY:()=>mPe});var l={};n.r(l),n.d(l,{AUTO:()=>qUe,CHANNELS_2_0:()=>$Ue,CHANNELS_2_1:()=>JUe,CHANNELS_3_1:()=>XUe,CHANNELS_5_1:()=>eVe,CHANNELS_7_1:()=>tVe});var c={};n.r(c),n.d(c,{AC3:()=>nVe,DTS:()=>rVe,DTS_HD:()=>iVe,EAC3:()=>aVe,TRUEHD:()=>sVe});var d={};n.r(d),n.d(d,{CENTER:()=>s5e,EAST:()=>e5e,NORTH:()=>J3e,NORTHEAST:()=>X3e,NORTHWEST:()=>a5e,SOUTH:()=>n5e,SOUTHEAST:()=>t5e,SOUTHWEST:()=>r5e,WEST:()=>i5e});var u={};n.r(u),n.d(u,{abortServerConnectionTest:()=>Amt,analyzeItems:()=>kmt,analyzeSection:()=>Rmt,authenticateWithHash:()=>ngt,authenticateWithServer:()=>tgt,autoMatch:()=>rht,changeArtwork:()=>aht,cleanBundles:()=>eht,connectServer:()=>wht,deleteAllVersionGenerators:()=>Pht,deleteFile:()=>lht,deleteItem:()=>bht,deleteItems:()=>Fmt,deleteMediaItem:()=>Wmt,deletePlaylist:()=>$mt,deleteSection:()=>Kmt,deleteSectionThumbnails:()=>qmt,deleteSyncItem:()=>lgt,deleteVersionGenerator:()=>Eht,deleteVersions:()=>Ymt,disableVersionGenerator:()=>Sht,emptyTrash:()=>tht,enableVersionGenerator:()=>Iht,match:()=>nht,merge:()=>Vmt,optimize:()=>Xmt,populateServerIdentity:()=>xmt,rate:()=>sht,reconnectServer:()=>Zht,refreshMetadata:()=>Lmt,refreshSyncLists:()=>cgt,remotePlaybackUnlock:()=>mgt,removeDevice:()=>dgt,removeServer:()=>Oht,reprocessVersionGenerator:()=>Mht,resetUser:()=>Uht,selectStream:()=>oht,showSyncModal:()=>ogt,signInServer:()=>Tht,signOut:()=>pgt,splitApart:()=>Umt,switchUser:()=>Bht,testServerConnection:()=>Omt,uninstallChannel:()=>Cht,unmatch:()=>zmt,updateChannel:()=>Dht,updateLibrary:()=>Jmt}),n(3758),n(49810),n(99959),n(82107),n(36583),n(31110);var p=n(65652),m=n(19755),h=n.n(m),g=n(67294),y=n(73935),v=n(37703),f=n(5977),b=n(93966),I=n(13469),S=n.n(I),M=n(96840),E=n(84936);const P={PUT:!0,DELETE:!0},D={Accept:!0,"Accept-Language":!0,"Content-Language":!0,"Content-Type":!0},C=/^(text\/plain|multipart\/form-data|application\/x-www-form-urlencoded)/,w=/(^X-Plex-[^=]+)/i,Z=/(^[^?]+)\?(.+$)/;function T(e){const{type:t,contentType:n,headers:r,allowHeadersInUrl:i,allowBlacklistedMethodHeaders:a}=e;if(!i)return;if(P[t]&&!a)return;const s={};let o=!1;if(S().each(r,((e,t)=>{D[t]||(w.test(t)?(o=!0,s[t]=e,delete r[t]):M.Z.warn('Did not move header "%s" to query string. This can result in an unnecessary OPTIONS preflight request.',t))})),o){const n=e.url.match(Z),[,r,i]=n||[null,e.url,null],a=i?i.split("&"):[],[o,l]=S().partition(a,(e=>w.test(e))),c=e.data;"GET"===t&&c&&(l.push(S().isString(c)?c:E.Z.stringifyParams(c)),delete e.data),o.forEach((e=>{const t=e.match(w);t&&delete s[t[1]]}));const d=E.Z.stringifyParams(s);d&&o.push(d),e.url=`${r}?${l.concat(o).join("&")}`}n&&!C.test(n)&&M.Z.warn('Sending %s request with Content-Type "%s". This can result in an unnecessary OPTIONS preflight request.',t,n)}var N=n(33295);function O(){return h().ajaxPrefilter(T),N.Z.startListening(),h().Deferred().resolve().promise()}var A=n(33646),x=n(45354),j=n(39666),L=n(39670),k=n(96638),R=Object.defineProperty,z=Object.prototype.hasOwnProperty,U=Object.getOwnPropertySymbols,V=Object.prototype.propertyIsEnumerable,B=(e,t,n)=>t in e?R(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const F=["X-Plex-Device","X-Plex-Model","X-Plex-Platform","X-Plex-Platform-Version","X-Plex-Product","X-Plex-Version"];var _=n(11133),H=n(85790);const Q=function(e){const{hostname:t,protocol:n}=e,r="file:"===n;let i;return"https:"===n?i="https":"http:"===n?i=H.lv(t)?"http-loopback":"http":r&&(i="file"),i};var G=n(84659),W=n(17575);const Y=function(e){const[,t,n=""]=e.match(/(^[^#]+)(?:#(.*$))?/),[,r,i=""]=t.match(/(^[^?]+)(\?.*$)?/),[,a,s=""]=n.match(/(^[^?]*)(\?.*$)?/);return{base:r,searchParams:i,hashPath:a,hashParams:s}};var K=Object.defineProperty,q=Object.prototype.hasOwnProperty,$=Object.getOwnPropertySymbols,J=Object.prototype.propertyIsEnumerable,X=(e,t,n)=>t in e?K(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ee=(e,t)=>{for(var n in t||(t={}))q.call(t,n)&&X(e,n,t[n]);if($)for(var n of $(t))J.call(t,n)&&X(e,n,t[n]);return e};const te=/^utm_/;function ne(){const{searchParams:e,hashParams:t}=Y(window.location.href),n=ee(ee({},(0,G.Z)(t)),(0,G.Z)(e));return Object.keys(n).reduce(((e,t)=>(te.test(t)&&(e[t.replace(te,"")]=n[t]),e)),{})}function re(e={}){const t=(0,b.DB)("metrics"),{context:n={}}=e;return t.set({deviceIdentifier:L.Z.prop("X-Plex-Client-Identifier"),context:ee(ee({},n),{campaign:ne(),device:{product:L.Z.prop("X-Plex-Product"),version:L.Z.prop("X-Plex-Version"),platform:L.Z.prop("X-Plex-Platform"),platformVersion:L.Z.prop("X-Plex-Platform-Version"),device:L.Z.prop("X-Plex-Device"),model:L.Z.prop("X-Plex-Model"),screenResolution:L.Z.prop("X-Plex-Device-Screen-Resolution"),layout:"desktop",protocol:Q(window.location)}})}),(0,W.Z)(t.start())}function ie(){return(0,M.Z)("[Sources] Initializing..."),(0,b.DB)("sourceManager").start(),(0,M.Z)("[Sources] Finished initialization"),h().Deferred().resolve().promise()}n(21356),n(88860),n(56150),n(76823),n(91477);var ae=n(59756),se=n(47479),oe=n(19130),le=n(32846),ce=n(21133),de=n(76154),ue=n(66127),pe=n.n(ue);const me=p.Z.ItemView.extend({mixins:[de.Z],className:"alert transition-in",template:pe(),alertDuration:2e3,transitionDuration:500,events:{mouseenter:"onMouseEnter",mouseleave:"onMouseLeave","click .close-btn":"onCloseClick"},initialState:"transitionIn",states:{transitionIn:{nextState:"visible",onEnter:function(){this.$el.triggerReflow(),this.$el.removeClass("transition-in"),this.startTransition()}},visible:{nextState:"transitionOut",onEnter:function(){this.transitionOutTimeout=window.setTimeout(this.enterNextState,this.alertDuration)}},transitionOut:{onEnter:function(){this.$el.addClass("transition-out"),this.startTransition()}}},initialize:function(e){this.bindAllWhenRendered(["enterNextState"]),S().isString(e)&&(e={message:e}),this.type=e.type,this.message=e.message,this.type&&this.$el.addClass("has-"+this.type)},serializeData:function(){return{type:this.type,message:this.message}},startTransition:function(){window.setTimeout(this.enterNextState,this.transitionDuration)},onRender:function(){S().defer(this.enterNextState)},onStateMachineComplete:function(){this.close()},onMouseEnter:function(e){window.clearTimeout(this.transitionOutTimeout)},onMouseLeave:function(e){"visible"===this.currentState&&(window.clearTimeout(this.transitionOutTimeout),this.transitionOutTimeout=window.setTimeout(this.enterNextState,this.alertDuration/2))},onCloseClick:function(e){e.preventDefault(),"visible"===this.currentState&&(window.clearTimeout(this.transitionOutTimeout),this.enterNextState())}}),he=oe.Z.extend({mixins:[ce.Z],initialize(){this.openAlerts={}},start(){this.listenTo(le.Z,{"show:alert":this.showAlert})},showAlert:function(e){var t=e.message;if(!this.openAlerts[t]){var n=new me(e);this.openAlerts[t]=!0,this.listenToOnce(n,"close",(function(){delete this.openAlerts[t]})),h()("body").append(n.render().el)}}});function ge(){(new he).start()}const ye=oe.Z.extend({mixins:[ce.Z],initialize(){this.modals=[]},start(){this.listenTo(le.Z,{"show:modal":this.showModal,"hide:modal":this.hideModal})},showModal(e){this.modals.push(e);var t=h()("body");e.transparent&&t.addClass("show-modal-transparent"),t.append(e.render().el)},hideModal(e){var t=S().indexOf(this.modals,e);t>-1&&this.modals.splice(t,1)[0].close(),e.transparent&&!S().findWhere(this.modals,{transparent:!0})&&h()("body").removeClass("show-modal-transparent")}});function ve(){(new ye).start()}var fe=n(22222),be=n(4524);const Ie=(0,fe.P1)(be.Z,(e=>e.cloudServer),((e,t)=>e[t]));var Se=n(52837),Me=n(86017);function Ee(e){const{className:t,children:n}=e;return g.createElement("div",{className:t},n)}Ee.defaultProps={className:"FullPage-container-3r7b9Z"};const Pe=Ee;var De=n(74309),Ce=n(5562),we=n(39611),Ze=n(94184),Te=n.n(Ze),Ne=(n(8662),n(31298));const Oe={scroller:"Scroller-scroller-3Rbtv0",none:"Scroller-none-YejGTY",vertical:"Scroller-vertical-azmSz7",auto:"Scroller-auto-2UYR6N",horizontal:"Scroller-horizontal-2hHwLA",omni:"Scroller-omni-1V6HEa"};var Ae,xe,je=Object.defineProperty,Le=Object.prototype.hasOwnProperty,ke=Object.getOwnPropertySymbols,Re=Object.prototype.propertyIsEnumerable,ze=(e,t,n)=>t in e?je(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Ue=(e,t)=>{for(var n in t||(t={}))Le.call(t,n)&&ze(e,n,t[n]);if(ke)for(var n of ke(t))Re.call(t,n)&&ze(e,n,t[n]);return e};function Ve({forwardedRef:e,className:t=Oe.scroller,style:n,children:r,scrollDirection:i=Ae.Vertical,autoScroll:a=!0,smoothScroll:s=!1,targetScrollTop:o,targetScrollLeft:l,onScrollPositionChange:c}){const d=(0,g.useRef)(null),u=(0,g.useCallback)((e=>{c&&null!=d.current&&d.current===e.target&&c({scrollTop:d.current.scrollTop,scrollLeft:d.current.scrollLeft})}),[d,c]);return(0,g.useEffect)((()=>{null==d.current||null==o&&null==l||d.current.scrollTo({top:o,left:l,behavior:s?"smooth":"auto"})}),[d,o,l,s]),g.createElement("div",{className:Te()(t,Oe[i],a&&Oe.auto),style:n,ref:(0,Ne.Z)(e,d),onScroll:u},r)}(xe=Ae||(Ae={})).None="none",xe.Vertical="vertical",xe.Horizontal="horizontal",xe.Omni="omni";const Be=g.forwardRef(((e,t)=>g.createElement(Ve,Ue(Ue({},e),{forwardedRef:t})))),Fe={emptyPageContentScroller:"EmptyPageContent-emptyPageContentScroller-1qvrpU PageContent-pageContentScroller-18TqCp Scroller-scroller-3Rbtv0",content:"EmptyPageContent-content-1dPJr8",icon:"EmptyPageContent-icon-cf6oKQ",imgIcon:"EmptyPageContent-imgIcon-17tzKS",title:"EmptyPageContent-title-2GQyX-",description:"EmptyPageContent-description-yBhqRI",footer:"EmptyPageContent-footer-2DFDwB"};var _e=Object.defineProperty,He=Object.prototype.hasOwnProperty,Qe=Object.getOwnPropertySymbols,Ge=Object.prototype.propertyIsEnumerable,We=(e,t,n)=>t in e?_e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;function Ye(e){var t=e,{children:n,className:r=Fe.emptyPageContentScroller,contentClassName:i=Fe.content,icon:a,titleClassName:s=Fe.title,iconSrc:o,title:l,descriptionClassName:c=Fe.description,description:d,footerClassName:u=Fe.footer,footer:p}=t,m=((e,t)=>{var n={};for(var r in e)He.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&Qe)for(var r of Qe(e))t.indexOf(r)<0&&Ge.call(e,r)&&(n[r]=e[r]);return n})(t,["children","className","contentClassName","icon","titleClassName","iconSrc","title","descriptionClassName","description","footerClassName","footer"]);return g.createElement(Be,((e,t)=>{for(var n in t||(t={}))He.call(t,n)&&We(e,n,t[n]);if(Qe)for(var n of Qe(t))Ge.call(t,n)&&We(e,n,t[n]);return e})({className:r},m),g.createElement("div",{className:i},a?g.createElement("span",{className:Fe.icon},a):null,o?g.createElement("img",{className:Fe.imgIcon,src:o}):null,l?g.createElement("div",{className:s},l):null,d?g.createElement("div",{className:c},d):null,n),p?g.createElement("div",{className:u},p):null)}var Ke=Object.defineProperty,qe=Object.prototype.hasOwnProperty,$e=Object.getOwnPropertySymbols,Je=Object.prototype.propertyIsEnumerable,Xe=(e,t,n)=>t in e?Ke(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;function et(e){return g.createElement(Ye,((e,t)=>{for(var n in t||(t={}))qe.call(t,n)&&Xe(e,n,t[n]);if($e)for(var n of $e(t))Je.call(t,n)&&Xe(e,n,t[n]);return e})({icon:g.createElement(we.Z,null)},e))}function tt({children:e}){return g.createElement(et,{title:(0,Ce.Z)("Something went wrong"),description:(0,Ce.Z)("An unexpected error occurred.")},e)}class nt extends g.Component{static getDerivedStateFromError(){return{hasError:!0}}constructor(e,t){super(e,t),this.state={hasError:!1}}componentDidCatch(e,t){M.Z.error(e);const n={extra:{componentStack:t.componentStack}};j.Tb(e,n)}render(){return this.state.hasError?g.createElement(tt,null):g.createElement(g.Fragment,null,this.props.children)}}const rt=nt;var it,at;(at=it||(it={})).Tiny="tiny",at.Small="small",at.Medium="medium",at.Large="large";const st=it,ot={spinner:"Spinner-spinner-CSMaLA spin-spin-34xiUE",tiny:"Spinner-tiny-1pSZja",small:"Spinner-small-3C8Kt5",medium:"Spinner-medium-c1s5-Y",large:"Spinner-large-1lEi7Z"};function lt({className:e=ot.spinner,size:t=st.Medium}){return g.createElement("div",{className:Te()(e,ot[t]),"aria-label":(0,Ce.Z)("Loading")})}const ct=e=>e.user,dt=(0,fe.P1)(ct,(e=>e.lockState));var ut=n(43322),pt=n(69605),mt=n(86035),ht=n(24974),gt=n(44719),yt=n(95368),vt=n(79932);class ft extends g.Component{constructor(e,t){super(e,t),this.fadeOut=()=>{const{currentThemeMusicUrl:e}=this.state;e&&this.props.volume>0?(this.fadeOutStartMilliseconds||(this.fadeOutStartMilliseconds=Date.now()),this.setState(this.updateFrameState)):this.reset()},this.updateFrameState=e=>{const t=e.relativeVolume;let n=(r=Date.now()-this.fadeOutStartMilliseconds,-t*r/2e3+t);var r;return n=Math.max(0,n),n&&(this.fadeOutTimeoutID=window.setTimeout(this.fadeOut,100)),{volume:n}},this.onDurationMillisecondsChange=e=>{this._currentDurationMilliseconds=e},this.onPositionMillisecondsChange=e=>{const t=Math.floor(e/1e3),n=this.state.shouldStopOnEnd?0:2e3;this.state.positionSeconds!==t&&this.setState({positionSeconds:t}),this._currentDurationMilliseconds-e<=n&&!this.fadeOutTimeoutID&&this.endThemeMusic()},this.onEnd=()=>{this.reset()},this.onMetricsPlayerChange=()=>{},this.state=this.getInitialStateFromProps(e)}UNSAFE_componentWillReceiveProps(e){const{volume:t,themeMusicUrl:n}=this.props,{volume:r,themeMusicUrl:i}=e;if(t!==r){const e={relativeVolume:this.getRelativeVolume(r)};this.fadeOutTimeoutID||(e.volume=e.relativeVolume),this.setState(e)}n!==i&&(i?this.reset(i):this.fadeOutTimeoutID||this.endThemeMusic())}componentWillUnmount(){this.reset()}getRelativeVolume(e){return.5*e}getInitialStateFromProps({currentThemeMusicUrl:e,volume:t}){const n=this.getRelativeVolume(t);return{currentThemeMusicUrl:e,relativeVolume:n,volume:n,positionSeconds:0,shouldStopOnEnd:ae.Z.shouldStopThemeMusicOnNavigate}}reset(e){this.fadeOutTimeoutID=window.clearTimeout(this.fadeOutTimeoutID),this.fadeOutStartMilliseconds=null,this.setState(this.getInitialStateFromProps({currentThemeMusicUrl:e,volume:this.props.volume}))}endThemeMusic(){if(this.state.shouldStopOnEnd){const{dispatchEndPlayback:e,playerType:t}=this.props;e({playerType:t}),this.reset()}else this.fadeOut()}render(){const{currentThemeMusicUrl:e,positionSeconds:t,volume:n}=this.state;if(!e)return null;const{component:r,playerType:i}=this.props;return g.createElement(r,{key:e,mediaType:"audio",isBackgroundMedia:!0,isThemeMusic:!0,src:e,playerType:i,positionSeconds:t,volume:n,allowRecycleElement:!0,onDurationMillisecondsChange:this.onDurationMillisecondsChange,onPositionMillisecondsChange:this.onPositionMillisecondsChange,onMetricsPlayerChange:this.onMetricsPlayerChange,onEnd:this.onEnd})}}const bt=ft;var It=Object.defineProperty,St=Object.prototype.hasOwnProperty,Mt=Object.getOwnPropertySymbols,Et=Object.prototype.propertyIsEnumerable,Pt=(e,t,n)=>t in e?It(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const Dt={dispatchEndPlayback:vt.Mh};class Ct extends g.Component{shouldComponentUpdate(e){const{volume:t,isPlayerOpen:n}=this.props;return e.volume!==t||e.isPlayerOpen!==n||!e.isBackgroundPending}render(){const e=this.props,{isBackgroundPending:t,isPlayerOpen:n}=e,r=((e,t)=>{var n={};for(var r in e)St.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&Mt)for(var r of Mt(e))t.indexOf(r)<0&&Et.call(e,r)&&(n[r]=e[r]);return n})(e,["isBackgroundPending","isPlayerOpen"]);return n?null:g.createElement(bt,((e,t)=>{for(var n in t||(t={}))St.call(t,n)&&Pt(e,n,t[n]);if(Mt)for(var n of Mt(t))Et.call(t,n)&&Pt(e,n,t[n]);return e})({},r))}}Ct.defaultProps={playerType:Se.Se};const wt=(0,v.$j)((function(){return(0,fe.P1)((0,b.DB)("selectLocalVolume"),(e=>e.ui.background),(e=>e.ui.audioVideoPlayer.isOpen),((e,t,n)=>({volume:e,isBackgroundPending:t.isBackgroundPending,themeMusicUrl:t.themeMusicUrl,component:(0,b.DB)("mediaComponent").getComponent({protocol:"http",isDirectPlay:!0}),isPlayerOpen:n})))}),Dt)(Ct);var Zt=n(76486),Tt=n(46865),Nt=n(57159),Ot=n(37568),At=n(47636),xt=n(57614),jt=Object.defineProperty,Lt=Object.prototype.hasOwnProperty,kt=Object.getOwnPropertySymbols,Rt=Object.prototype.propertyIsEnumerable,zt=(e,t,n)=>t in e?jt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Ut=(e,t)=>{for(var n in t||(t={}))Lt.call(t,n)&&zt(e,n,t[n]);if(kt)for(var n of kt(t))Rt.call(t,n)&&zt(e,n,t[n]);return e};const Vt=640,Bt={position:"absolute",width:"100%",height:"100%"},Ft=Ut(Ut({},Bt),{background:`url(${Zt})`,zIndex:2}),_t={opacity:10,background:"343a3f"},Ht=Ut(Ut({},_t),{opacity:25,format:"png"});class Qt extends g.Component{shouldComponentUpdate(e,t){return(0,At.Z)(this,e,t)}render(){const{serverEntityID:e,providerEntityID:t,url:n,allowPreset:r,allowLightPreset:i,allowBlur:a}=this.props,s=window.innerWidth,o=window.innerHeight,l=a?Ht:_t;let c,d,u,p;if(a){const e=s/o;c=e>1?Vt:Vt*e,d=e>1?Vt/e:Vt;const t=Math.max(s/c,o/d);u=Math.round(100/t)}else c=Math.min(window.innerWidth,1920),d=Math.min(window.innerHeight,1080);return!n&&r&&(p=i?Nt:Tt),g.createElement("div",null,g.createElement(xt.Z,{serverEntityID:e,providerEntityID:t,url:n,emptySrc:p,width:c,height:d,upscale:a,containerStyle:Bt,filters:p?null:Ut(Ut({},l),{blur:u}),allowPixelRatioSize:!1,component:Ot.Z}),g.createElement("div",{style:Ft}))}}Qt.defaultProps={allowBlur:!0};const Gt=Qt,Wt=(0,fe.P1)((e=>e.ui.background),(e=>({serverEntityID:e.server,providerEntityID:e.provider,url:e.imageUrl,allowLightPreset:e.allowLightPreset,allowBlur:e.allowBlur,isBackgroundPending:e.isBackgroundPending})));class Yt extends g.Component{shouldComponentUpdate(e){return!e.isBackgroundPending}render(){const{serverEntityID:e,providerEntityID:t,url:n,allowLightPreset:r,allowBlur:i}=this.props;return g.createElement(Gt,{serverEntityID:e,providerEntityID:t,url:n,allowPreset:!0,allowLightPreset:r,allowBlur:i})}}const Kt=(0,v.$j)((e=>Wt))(Yt);function qt(){return g.createElement("div",{className:"FullPageBackground-backgroundContainer-3pQGmT"},g.createElement(Kt,null),g.createElement(wt,null))}var $t=n(26636),Jt=n(2200),Xt=n(81079);const en="boolean",tn="other";var nn=Object.defineProperty,rn=Object.prototype.hasOwnProperty,an=Object.getOwnPropertySymbols,sn=Object.prototype.propertyIsEnumerable,on=(e,t,n)=>t in e?nn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ln=(e,t)=>{for(var n in t||(t={}))rn.call(t,n)&&on(e,n,t[n]);if(an)for(var n of an(t))sn.call(t,n)&&on(e,n,t[n]);return e},cn=n(70560),dn=n(23736);const un=`([^&!=<>]+)(${cn.ZP.sort(((e,t)=>t.length-e.length)).map(k.Z).join("|")})([^&]+)?`,pn=new RegExp(un,"g"),mn=new RegExp(un),hn={unwatched:!0,unwatchedLeaves:!0,unmatched:!0,duplicate:!0,inProgress:!0,hdonly:!0,hdr:!0};function gn(e){if(!e)return[];const t=decodeURIComponent(e).match(pn);return t?t.reduce(((e,t)=>{const n=t.match(mn),[,r,i,a]=n||[];let s=a?S().uniq(a.split(dn.OR)):"";return 1===s.length&&(s=s[0]),function(e,t,n){const r=[...e];if(n.type===en){const e=S().findIndex(r,(e=>e.key===t)),i=-1===e?0:e,a=ln({key:t},n);-1===e?r.push(a):r.splice(i,1,a)}else S().findWhere(r,{key:t,value:n.value})||r.push(ln({key:t},n));return r}(e,r,{value:s,type:hn[r]?en:tn,operator:i})}),[]):[]}var yn=n(86953),vn=n(4844),fn=n(27082),bn=n(45399);function In(e,t){return e===bn.sy&&t}var Sn=n(40875),Mn=n(15042),En=n(41538),Pn=n(87803),Dn=n(70617),Cn=n(98727),wn=n(59701);const Zn={entityID:"",identifier:"",metricsIdentifier:"",title:"",features:[],protocols:[],isPending:!1,isPopulated:!1,error:null};var Tn,Nn,On,An,xn=n(90217);(Nn=Tn||(Tn={})).Windows="Windows",Nn.Android="Android",Nn.Linux="Linux",Nn.FreeBSD="FreeBSD",Nn.MacOSX="MacOSX",Nn.IOS="iOS",(An=On||(On={})).Pending="pending",An.Connected="connected",An.Unavailable="unavailable",An.Unauthorized="unauthorized";const jn={entityID:"",machineIdentifier:"",friendlyName:"Unknown",allowSync:!1,allowMediaDeletion:!1,backgroundProcessing:!1,transcoderVideo:!1,isCloud:!1,isEmbedded:!1,isFullServer:!1,isFullOwnedServer:!1,isOutOfDate:!1,isUnavailable:!1,isUnauthorized:!1,isConnected:!1,connectionTestResult:On.Pending,ownerFeatures:[],providers:[]},Ln=(0,Dn.Z)((function(e){return(0,fe.P1)(xn.Z,(t=>t.find((t=>t.machineIdentifier===e))||jn))})),kn=(0,Dn.Z)((function(e,t){return(0,fe.P1)(Cn.Z,Ln(e),(0,wn.Z)("providers"),((e,n,r)=>{const i=(!n||n.isCloud?r:n.providers).find((n=>e[n].identifier===t));return i?e[i]:Zn}))})),Rn=(0,Dn.Z)((function(e,t){return(0,fe.P1)(kn(e,t),(e=>{var t;const n=(0,Pn.Z)(e,$t.zW.Content);return null!=(t=null==n?void 0:n.directories)?t:[]}))})),zn=(0,Dn.Z)((function(e,t,n){return(0,fe.P1)(Rn(e,t),(e=>e.find((e=>n===e.id))))}));var Un=n(72194);function Vn(e){return{entityID:e.entityID,machineIdentifier:e.machineIdentifier,accessToken:e.accessToken,uri:e.activeConnection?e.activeConnection.uri:void 0,version:e.version,platform:e.platform,friendlyName:e.friendlyName,sourceTitle:e.sourceTitle,countryCode:e.countryCode,allowSync:e.allowSync,allowMediaDeletion:e.allowMediaDeletion,backgroundProcessing:e.backgroundProcessing,transcoderVideo:e.transcoderVideo,isCloud:e.isCloud,isEmbedded:e.isEmbedded,isFullServer:e.isFullServer,isFullOwnedServer:e.isFullOwnedServer,isOutOfDate:e.isOutOfDate,isUnavailable:e.isUnavailable,isUnauthorized:e.isUnauthorized,isConnected:e.isConnected,livetv:e.livetv,connectionTestResult:e.connectionTestResult,ownerId:e.ownerId,ownerFeatures:e.ownerFeatures}}const Bn=(0,Un.Z)((0,fe.P1)(xn.Z,(e=>e.map(Vn))),(e=>e)),Fn=(0,Dn.Z)((function(e){return(0,Un.Z)((0,fe.P1)(Bn,(t=>t.find((t=>t.machineIdentifier===e))||jn)),(e=>e))})),_n=(0,g.createContext)([jn,Zn,void 0]);function Hn(){return(0,g.useContext)(_n)}function Qn({machineIdentifier:e,providerIdentifier:t,contentDirectoryID:n,children:r}){const i=(0,v.v9)(Fn(e)),a=(0,v.v9)(kn(e,t)),s=(0,v.v9)(zn(e,t,n)),o=(0,g.useMemo)((()=>[i,a,s]),[i,a,s]);return g.createElement(_n.Provider,{value:o},r)}const Gn=function(){const e=window.location.hash.replace("#!","");return(0,g.useMemo)((()=>{const{params:t}=E.Z.parseUri(e);return t}),[e])};var Wn=n(5513),Yn=n(63800),Kn=n(57384);function qn({key:e,shouldRestoreImmediately:t=!1,onScrollPositionChange:n}){const r=(0,g.useMemo)((()=>Kn.Z.getKey(`${e}!scrollPosition!`)),[e]),i=(0,g.useRef)(Kn.Z.get(r)),a=(0,g.useRef)(null),[s,o]=(0,g.useState)(!(!t||!i.current)),[l,c]=(0,g.useState)(t&&i.current?i.current.scrollTop:null),[d,u]=(0,g.useState)(t&&i.current?i.current.scrollLeft:null),p=(0,g.useCallback)((()=>{const e=i.current;e&&(o(!0),c(e.scrollTop),u(e.scrollLeft),i.current=null)}),[]),m=(0,g.useCallback)((e=>{a.current=e,n&&n(e)}),[n]);return(0,g.useEffect)((()=>{s&&(o(!1),c(null),u(null))}),[s]),(0,g.useEffect)((()=>()=>{const e=a.current;e&&(e.scrollTop||e.scrollLeft)?Kn.Z.set(r,e):Kn.Z.remove(r)}),[r]),{isWaitingToRestoreScrollPosition:s||!t&&!!i.current,scrollRestoreProps:s?{targetScrollTop:l,targetScrollLeft:d,smoothScroll:!1,onScrollPositionChange:m}:{onScrollPositionChange:m},onScrollPositionReady:p}}const $n={pageScroller:"Page-pageScroller-2xF94- Scroller-scroller-3Rbtv0"};var Jn,Xn,er=Object.defineProperty,tr=Object.prototype.hasOwnProperty,nr=Object.getOwnPropertySymbols,rr=Object.prototype.propertyIsEnumerable,ir=(e,t,n)=>t in e?er(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ar=(e,t)=>{for(var n in t||(t={}))tr.call(t,n)&&ir(e,n,t[n]);if(nr)for(var n of nr(t))rr.call(t,n)&&ir(e,n,t[n]);return e};function sr(e){var t=e,{className:n=$n.pageScroller,allowBackgroundPreset:r=!0,allowBackgroundLightPreset:i=!1,onScrollPositionChange:a}=t,s=((e,t)=>{var n={};for(var r in e)tr.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&nr)for(var r of nr(e))t.indexOf(r)<0&&rr.call(e,r)&&(n[r]=e[r]);return n})(t,["className","allowBackgroundPreset","allowBackgroundLightPreset","onScrollPositionChange"]);const o=(0,v.I0)(),{scrollRestoreProps:l}=qn({key:"Page",shouldRestoreImmediately:!0,onScrollPositionChange:a});return(0,g.useEffect)((()=>(r&&o((0,Yn.ZZ)({allowLightPreset:i})),()=>{o((0,Yn.HF)()),o((0,Wn.$e)())})),[i,r,o]),g.createElement(rt,null,g.createElement(Be,ar(ar(ar({},s),l),{className:n})))}(Xn=Jn||(Jn={})).Default="default",Xn.Primary="primary",Xn.Success="success",Xn.Danger="danger";const or=Jn;var lr=n(86382);const cr={link:"Link-link-2WGTd7",isHrefLink:"Link-isHrefLink-mFpWVI",default:"Link-default-1Q-OS9",primary:"Link-primary-kT5bHV",success:"Link-success-1-NeCI",danger:"Link-danger-2Cl4qd",small:"Link-small-IojJT6",medium:"Link-medium-2WwS5z",large:"Link-large-OUN5EB"};var dr=Object.defineProperty,ur=Object.prototype.hasOwnProperty,pr=Object.getOwnPropertySymbols,mr=Object.prototype.propertyIsEnumerable,hr=(e,t,n)=>t in e?dr(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,gr=(e,t)=>{for(var n in t||(t={}))ur.call(t,n)&&hr(e,n,t[n]);if(pr)for(var n of pr(t))mr.call(t,n)&&hr(e,n,t[n]);return e};function yr(e){var t=e,{forwardedRef:n,children:r,to:i,component:a=(i?"a":"button"),type:s=("button"===a||"input"===a?"button":void 0),role:o=(i?"link":"button"),className:l=cr.link,kind:c=or.Default,size:d,isDisabled:u=!1,onPress:p,onTouchStart:m,onTouchMove:h,onTouchEnd:y,onTouchCancel:v,onMouseDown:f,onMouseUp:b,onMouseLeave:I,onClick:S,onFocus:M,onBlur:E}=t,P=((e,t)=>{var n={};for(var r in e)ur.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&pr)for(var r of pr(e))t.indexOf(r)<0&&mr.call(e,r)&&(n[r]=e[r]);return n})(t,["forwardedRef","children","to","component","type","role","className","kind","size","isDisabled","onPress","onTouchStart","onTouchMove","onTouchEnd","onTouchCancel","onMouseDown","onMouseUp","onMouseLeave","onClick","onFocus","onBlur"]);const[D,C]=(0,g.useState)(!1),[w,Z]=(0,g.useState)(!1),T=(0,g.useRef)(!1),N=(0,g.useRef)(!1),O=(0,g.useRef)(!1),A=(0,g.useCallback)((e=>{T.current=!0,N.current=!0,1===e.touches.length&&(O.current=!0,C(!0)),null==m||m(e)}),[m]),x=(0,g.useCallback)((e=>{O.current=!1,C(!1),null==h||h(e)}),[h]),j=(0,g.useCallback)((e=>{C(!1),O.current&&(O.current=!1,null==p||p(e)),null==y||y(e)}),[p,y]),L=(0,g.useCallback)((e=>{T.current=!1,N.current=!1,O.current=!1,C(!1),null==v||v(e)}),[v]),k=(0,g.useCallback)((e=>{T.current=!0,C(!0),null==f||f(e)}),[f]),R=(0,g.useCallback)((e=>{C(!1),null==b||b(e)}),[b]),z=(0,g.useCallback)((e=>{T.current=!1,C(!1),null==I||I(e)}),[I]),U=(0,g.useCallback)((e=>{T.current?T.current=!1:(Z(!0),null==M||M(e))}),[M]),V=(0,g.useCallback)((e=>{T.current=!1,Z(!1),null==E||E(e)}),[E]),B=(0,g.useCallback)((e=>{T.current=!1,C(!1),N.current?N.current=!1:(null==p||p(e),null==S||S(e))}),[p,S]),F=(0,g.useCallback)((()=>{Z(!1)}),[]);(0,g.useEffect)((()=>(w&&window.addEventListener("mousemove",F),()=>{w&&window.removeEventListener("mousemove",F)})),[w,F]);const _=u?{}:{onTouchStart:A,onTouchMove:x,onTouchEnd:j,onTouchCancel:L,onMouseDown:k,onMouseUp:R,onMouseLeave:z,onFocus:U,onBlur:V,onClick:B};return g.createElement(a,gr(gr(gr({},P),_),{ref:n,children:r,type:s,href:i,role:o,className:Te()(l,cr[c],d&&cr[d],i&&cr.isHrefLink,D&&lr.lW,w&&lr.GZ,u&&lr.Pv),disabled:u}))}const vr=g.forwardRef(((e,t)=>g.createElement(yr,gr(gr({},e),{forwardedRef:t})))),fr={button:"Button-button-1q7C1V Link-link-2WGTd7",default:"Button-default-37HUnP",primary:"Button-primary-BXmP5W",success:"Button-success-NFsgPN",danger:"Button-danger-1pYJTx",small:"Button-small-2CYrBL",medium:"Button-medium-21zX8X",large:"Button-large-18Gbic"};var br=Object.defineProperty,Ir=Object.prototype.hasOwnProperty,Sr=Object.getOwnPropertySymbols,Mr=Object.prototype.propertyIsEnumerable,Er=(e,t,n)=>t in e?br(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Pr=(e,t)=>{for(var n in t||(t={}))Ir.call(t,n)&&Er(e,n,t[n]);if(Sr)for(var n of Sr(t))Mr.call(t,n)&&Er(e,n,t[n]);return e};function Dr(e){var t=e,{className:n=fr.button,kind:r=or.Default,size:i=st.Medium}=t,a=((e,t)=>{var n={};for(var r in e)Ir.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&Sr)for(var r of Sr(e))t.indexOf(r)<0&&Mr.call(e,r)&&(n[r]=e[r]);return n})(t,["className","kind","size"]);return g.createElement(vr,Pr(Pr({},a),{className:Te()(n,fr.button,fr[r],fr[i])}))}function Cr({className:e}){return g.createElement(et,{className:e,title:(0,Ce.Z)("Not found"),description:(0,Ce.Z)("We're having trouble finding this page. It might have been deleted")},g.createElement(Dr,{to:"#"},(0,Ce.Z)("Go Home")))}var wr=n(60316),Zr=n(97334);function Tr(e,t){const{isServer:n,serverIdentifier:r,providerIdentifier:i}=(0,wr.Z)(e);return(0,Zr.Z)(!n,r,i,t)}const Nr=(0,g.createContext)({containerServer:jn,containerProvider:Zn,containerSourceURI:"",containerKey:"",containerType:En.U.Mixed});function Or(){return(0,g.useContext)(Nr)}function Ar({children:e,containerServer:t,containerProvider:n,containerSourceURI:r,containerKey:i,containerType:a,containerSubtype:s,containerMeta:o,listStyle:l}){const c=(0,g.useMemo)((()=>{let e=i;if(!e){const{key:t}=(0,wr.Z)(r);e=t}return{containerServer:t,containerProvider:n,containerSourceURI:r,containerKey:e,containerType:a,containerSubtype:s,containerMeta:o,listStyle:l}}),[i,n,t,r,s,a,o,l]);return g.createElement(Nr.Provider,{value:c},e)}var xr=n(10692);function jr({children:e,metadataItem:t,metadataItemState:n}){const r=(0,v.I0)(),{containerServer:i,containerProvider:a,containerSourceURI:s}=Or(),o=(0,g.useMemo)((()=>t.source?(0,wr.Z)(t.source):null),[t.source]),l=!!o&&(o.serverIdentifier!==i.machineIdentifier||o.providerIdentifier!==a.identifier);return(0,g.useEffect)((()=>{(n.isStale||n.isDeleted)&&r(xr.Z.actions.throttledRepopulateRequested({server:i,provider:a,sourceURI:s}))}),[a,i,s,r,n.isDeleted,n.isStale]),o&&l?g.createElement(Qn,{machineIdentifier:o.serverIdentifier,providerIdentifier:o.providerIdentifier},e):g.createElement(g.Fragment,null,e)}var Lr=Object.defineProperty,kr=Object.prototype.hasOwnProperty,Rr=Object.getOwnPropertySymbols,zr=Object.prototype.propertyIsEnumerable,Ur=(e,t,n)=>t in e?Lr(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Vr=(e,t)=>{for(var n in t||(t={}))kr.call(t,n)&&Ur(e,n,t[n]);if(Rr)for(var n of Rr(t))zr.call(t,n)&&Ur(e,n,t[n]);return e};function Br({forwardedRef:e,className:t="PosterCard-card-2-REtd",style:n,children:r}){return g.createElement("div",{className:t,style:n,ref:e},r)}const Fr=g.forwardRef(((e,t)=>g.createElement(Br,Vr(Vr({},e),{forwardedRef:t}))));var _r=Object.defineProperty,Hr=Object.prototype.hasOwnProperty,Qr=Object.getOwnPropertySymbols,Gr=Object.prototype.propertyIsEnumerable,Wr=(e,t,n)=>t in e?_r(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Yr=(e,t)=>{for(var n in t||(t={}))Hr.call(t,n)&&Wr(e,n,t[n]);if(Qr)for(var n of Qr(t))Gr.call(t,n)&&Wr(e,n,t[n]);return e};function Kr({className:e="MetadataPosterCardPlaceholder-placeholder-23vQRH PosterCard-card-2-REtd",style:t,index:n}){return g.createElement(Fr,{className:e,style:Yr({animationDelay:n%12*200+"ms"},t)})}function qr(e){return function(e){return!!e.v4}(e)?e.v4:e}const $r=(0,fe.P1)(qr,(e=>e.core)),Jr=(0,fe.P1)($r,(e=>e.metadataItemState)),Xr=function(e){return(0,fe.P1)(Jr,(t=>(e?t[e]:null)||{tempState:{},isStale:!1,isPending:!1,isPopulated:!1,error:null}))};function ei(e){const t=(0,g.useMemo)((()=>Xr(e)),[e]);return(0,v.v9)(t)}function ti(e){const t=(0,g.useMemo)((()=>function(e){return(0,fe.P1)($r,(t=>e&&t.metadataTimelineState[e]||{}))}(e)),[e]);return(0,v.v9)(t)}var ni=n(39537),ri=n(2098);const ii=1/1.5,ai=16/9;function si(e,t,n){const r=null==n?void 0:n.listStyle,i=null==n?void 0:n.displayImageType;if(i)return function(e){switch(e){case ri.IY.Avatar:return 1;case ri.IY.Background:return ai;case ri.IY.Banner:return 5.4;case ri.IY.Clear:return 1;case ri.IY.CoverArt:return ai;case ri.IY.CoverPoster:return ii;case ri.IY.CoverSquare:return 1;case ri.IY.Snapshot:return ai}!function(e){throw new Error(`"${e}" is not mapped to an aspect ratio`)}(e)}(i);if(r)switch(r){case En.n.Hero:return ai;case En.n.Grid:case En.n.Shelf:if(e===En.U.Channels)return 1;switch(t){case ni.y_.Webshow:switch(e){case ni.pG.Episode:return ai}break;case ni.y_.Podcast:switch(e){case ni.pG.Episode:return 1}}switch(e){case ni.pG.Episode:return ii}}switch(t){case ni.y_.Clip:switch(e){case ni.pG.Movie:return ai}break;case ni.y_.Podcast:case ni.y_.Webshow:switch(e){case ni.pG.Show:return 1;case ni.pG.Episode:return ai}}switch(e){case ni.pG.Movie:case ni.pG.Show:case ni.pG.Season:return ii;case ni.pG.Episode:return ai;case ni.pG.Artist:case ni.pG.Album:case ni.pG.Track:case ni.pG.Person:case ni.pG.Photo:case ni.pG.PhotoAlbum:case ni.pG.Playlist:return 1;case ni.pG.Clip:return ai;case ni.pG.Collection:switch(t){case ni.y_.Episode:return ai;case ni.y_.Artist:case ni.y_.Album:return 1;default:return ii}case En.U.Directory:return ai;case En.U.Content:case En.U.Channel:case En.U.Folder:case En.U.Station:case ni.pG.Hub:case ni.pG.List:return 1;case ni.pG.Game:return.75;case En.U.Mixed:return ii;default:return ai}}function oi(e){const{width:t,height:n,aspectRatio:r}=e;if(t)return{width:t,height:Math.floor(t/r)};if(n)return{width:Math.floor(n*r),height:n};throw new Error("`getMetadataPosterDimensions` requires either a `width` or `height`")}var li=n(6638);const ci=function(e,t){const[n,r]=Hn(),{metricsContextTuple:i}=(0,Jt.Zn)();if(n===jn||r===Zn||"key"===t&&(e.skipDetails||e.type===ni.pG.Track&&e.subtype!==ni.y_.Podcast||e.type===ni.pG.Photo||e.subtype===ni.y_.Photo||e.isExtra||e.isLiveTVChannel||e.radio))return;const a=e[t];return(0,li.Z)(n,r,a,{context:(0,Jt.VJ)(i),legacy:e.type===ni.pG.PhotoAlbum?1:void 0},e.playlistType)};function di({className:e,tabIndex:t,allowLink:n=!0,metadataItem:r}){const i=ci(r,"key");return r.title?n&&i?g.createElement(vr,{"data-qa-id":"metadataTitleLink",className:e,tabIndex:t,title:r.title,to:i},r.title):g.createElement("span",{className:e,title:r.title},r.title):null}var ui=n(42227),pi=n(31212),mi=n(78188);function hi(e){return null!=e?(0,pi.Z)((0,ui.Z)(e)):""}function gi({className:e,timestamp:t}){const[n,r]=(0,g.useState)((0,mi.Z)(t));return(0,g.useEffect)((()=>{if(null==t)return;const e=function(e,t){const n=Math.abs(Date.now()-1e3*e),r=36e5,i=24*r;return n<r?window.setTimeout(t,6e4):n<i?window.setTimeout(t,r):window.setTimeout(t,i)}(t,(()=>{r((0,mi.Z)(t))}));return()=>{window.clearTimeout(e)}}),[t]),n?g.createElement("span",{className:e,title:hi(t)},n):null}function yi({className:e,metadataItem:t}){const{addedAt:n}=t;return g.createElement(gi,{className:e,timestamp:n})}var vi=n(55855),fi=n(20466);const bi=function(e,{abbreviate:t=!1}={}){if(null==e)return"";const n=(0,fi.Z)((0,ui.Z)(e));return t?function(e){return[(0,Ce.Z)("Sun"),(0,Ce.Z)("Mon"),(0,Ce.Z)("Tue"),(0,Ce.Z)("Wed"),(0,Ce.Z)("Thu"),(0,Ce.Z)("Fri"),(0,Ce.Z)("Sat")][e]}(n):function(e){return[(0,Ce.Z)("Sunday"),(0,Ce.Z)("Monday"),(0,Ce.Z)("Tuesday"),(0,Ce.Z)("Wednesday"),(0,Ce.Z)("Thursday"),(0,Ce.Z)("Friday"),(0,Ce.Z)("Saturday")][e]}(n)};var Ii=n(78966);const Si=function(e,{abbreviate:t=!1}={}){if(!e)return"";const n=(0,Ii.Z)((0,ui.Z)(e));return t?function(e){return[(0,Ce.Z)("Jan"),(0,Ce.Z)("Feb"),(0,Ce.Z)("Mar"),(0,Ce.Z)("Apr"),(0,Ce.Z)("May"),(0,Ce.Z)("Jun"),(0,Ce.Z)("Jul"),(0,Ce.Z)("Aug"),(0,Ce.Z)("Sep"),(0,Ce.Z)("Oct"),(0,Ce.Z)("Nov"),(0,Ce.Z)("Dec")][e]}(n):function(e){return[(0,Ce.Z)("January"),(0,Ce.Z)("February"),(0,Ce.Z)("March"),(0,Ce.Z)("April"),(0,Ce.Z)("May"),(0,Ce.Z)("June"),(0,Ce.Z)("July"),(0,Ce.Z)("August"),(0,Ce.Z)("September"),(0,Ce.Z)("October"),(0,Ce.Z)("November"),(0,Ce.Z)("December")][e]}(n)};var Mi=n(52752),Ei=n(38797);function Pi(e){if(null==e)return!1;const t=(0,ui.Z)(e);return(0,Ei.Z)(Date.now(),t)}var Di=n(3151);function Ci(e){if(null==e)return!1;const t=(0,ui.Z)(e);return(0,Di.Z)(new Date,t)}var wi=n(77349);function Zi(e){if(null==e)return!1;const t=(0,ui.Z)(e);return(0,Di.Z)(t,(0,wi.Z)(new Date,1))}var Ti=n(85817);function Ni(e){return!(null==e||!Ci(e))&&(0,Ti.Z)((0,ui.Z)(e))>16}var Oi=n(7069);function Ai(e){if(null==e)return!1;const t=(0,ui.Z)(e);return(0,Di.Z)((0,Oi.Z)(new Date,1),t)}function xi(e,t,{timeFormat:n="h:mma"}={}){if(null==e)return"";const r=(0,Mi.Z)(e,n);let i;return i=Ai(e)?(0,Ce.Z)("Yesterday"):Ci(e)?Ni(e)?(0,Ce.Z)("Tonight"):(0,Ce.Z)("Today"):Zi(e)?(0,Ce.Z)("Tomorrow"):Pi(e)?bi(e):(0,Ce.Z)("{dayOfWeekAbbreviated}, {monthAbbreviated} {dayNumber}",{dayOfWeekAbbreviated:bi(e,{abbreviate:!0}),monthAbbreviated:Si(e,{abbreviate:!0}),dayNumber:(0,vi.Z)((0,ui.Z)(e))}),t?(0,Ce.Z)("{1} at {2} on {3}",i,r,t):(0,Ce.Z)("{1} at {2}",i,r)}var ji=n(39159);function Li(e,t,{timeFormat:n="h:mma"}={}){if(null==e)return"";const r=(0,ui.Z)(e);if(Ai(e))return(0,Ce.Z)("Yesterday");0===(0,ji.Z)(r)&&(n=n.replace("h:mm","h"));const i=(0,Mi.Z)(e,n);let a;return a=Ci(e)?Ni(e)?(0,Ce.Z)("Tonight"):(0,Ce.Z)("Today"):Zi(e)?(0,Ce.Z)("Tomorrow"):Pi(e)?bi(e):(0,Ce.Z)("{monthAbbreviated} {dayNumber}",{monthAbbreviated:Si(e,{abbreviate:!0}),dayNumber:(0,vi.Z)((0,ui.Z)(e))}),t?(0,Ce.Z)("{1} at {2} on {3}",a,i,t):(0,Ce.Z)("{1} at {2}",a,i)}var ki=n(96263);const Ri=function(e){if(null==e)return"";const t=(0,ki.ZP)(e),n=t.hours+24*t.days,r=t.minutes,i=t.seconds;return n&&r?(0,Ce.Z)("{1} hr {2} min",n,r):n?(0,Ce.Z)("{1} hr",n):r?(0,Ce.Z)("{1} min",r):i>0?(0,Ce.Z)("{1} sec",i):""},zi=[[54e5,function(e){if(null==e)return"";const t=(0,ki.ZP)(e),n=24*t.days*60,r=60*t.hours,i=t.minutes+r+n,a=t.seconds;return i?(0,Ce.Z)("{1} min",i):a>0?(0,Ce.Z)("{1} sec",a):""}],[864e5,Ri],[6048e5,function(e){if(null==e)return"";const t=(0,ki.ZP)(e),n=t.days,r=t.hours,i=1!==n;return n&&r?i?(0,Ce.Z)("{1} days {2} hr",n,r):(0,Ce.Z)("{1} day {2} hr",n,r):n?i?(0,Ce.Z)("{1} days",n):(0,Ce.Z)("{1} day",n):(0,Ce.Z)("{1} hr",r)}],[1/0,function(e){if(null==e)return"";const t=(0,ki.ZP)(e),n=t.years*ki._G+t.months*ki.DF+t.days;return 1!==n?(0,Ce.Z)("{1} days",n):(0,Ce.Z)("{1} day",n)}]],Ui=function(e){if(!e)return"";const t=S().find(zi,(([t])=>e<=t));return t&&t[1](e)},Vi=function(e){if(null==e)return"";const t=Ui(1e3*e);return t?(0,Ce.Z)("{1} left",t):""};var Bi=n(21918),Fi=n(30084),_i=n(42902);function Hi(e,t){if(null==e||null==t)return!1;const n=(0,_i.Z)(new Date);return n>=e&&n<=t}function Qi({now:e=Date.now(),beginsAt:t,endsAt:n,channel:r,showFullTime:i,timeFormat:a}){if(!t)return(0,Ce.Z)("No upcoming airings");if(Hi(t,n)){const t=n-e/1e3;return t<=60?(0,Ce.Z)("About to end"):Vi(t)}if((0,Bi.Z)(t)&&(0,Fi.Z)(t,{minutes:60})){const n=1e3*t-e;if(n<=6e4)return r?(0,Ce.Z)("Starting now on {channel}",{channel:r}):(0,Ce.Z)("Starting now");const i=Ui(n);return r?(0,Ce.Z)("Starting in {duration} on {channel}",{duration:i,channel:r}):(0,Ce.Z)("Starting in {duration}",{duration:i})}return(i?xi:Li)(t,r,{timeFormat:a})}var Gi,Wi,Yi=n(89734),Ki=n.n(Yi),qi=n(70515);function $i(e){if("now"===e)return{};const t=e.match(/([-+]?\d+)([smhdwMy])/);if(t){const[,e,n]=t;if(function(e){if(!(e in Gi))throw Error("Unknown unit: "+e)}(n),e&&n)return{[Gi[n]]:parseInt(e,10)}}else{const t=parseInt(e,10);if("number"==typeof t)return t}return{}}function Ji(e,t){return"object"==typeof t?(0,Bi.Z)(e,t):e>=t}function Xi(e,t){return"object"==typeof t?(0,Fi.Z)(e,t):e<=t}function ea(e,t){const n=function(e){if(!e)return;const[,t]=e.split("?");return t?qi.Z.parseQueryString(t):void 0}(t),r=Ki()(e.Media,"endsAt"),i=Date.now()/1e3;for(let e=0,t=r.length;e<t;e++){const t=r[e];if(n){const e=n["beginsAt>"],r=n["beginsAt<"],i=n["endsAt>"],a=n["endsAt<"];if(e&&t.beginsAt){const n=$i(e);if(Xi(t.beginsAt,n))continue}if(r&&t.beginsAt){const e=$i(r);if(Ji(t.beginsAt,e))continue}if(i&&t.endsAt){const e=$i(i);if(Xi(t.endsAt,e))continue}if(a&&t.endsAt){const e=$i(a);if(Ji(t.endsAt,e))continue}}if(t.endsAt&&t.endsAt>i)return t}return r[0]}function ta(e=60){const t=1e3*e,[n,r]=(0,g.useState)(Date.now());return(0,g.useEffect)((()=>{const e=window.setTimeout((()=>{r(Date.now())}),t-n%t);return()=>{window.clearTimeout(e)}}),[n,t]),n}(Wi=Gi||(Gi={})).s="seconds",Wi.m="minutes",Wi.h="hours",Wi.d="days",Wi.w="weeks",Wi.M="months",Wi.y="years";var na=n(59468);const ra=(0,Dn.Z)((function(e){return(0,fe.P1)(na.Z,(t=>t[e]))}));function ia({className:e,metadataItem:t}){const n=(0,v.v9)(ra("timeFormat")),r=ta(),i=ea(t),{beginsAt:a,endsAt:s}=null!=i?i:{},o=null!=a&&null!=s?Qi({now:r,beginsAt:a,endsAt:s,timeFormat:n}):null;return o?g.createElement("span",{className:e,title:o},o):null}var aa=n(45697),sa=n.n(aa),oa=n(17845);function la(e){var t=e["aria-label"],n=e.className,r=e.style,i={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-tidal-logo-560"};i["aria-hidden"]=!t,i.style=r,i.className=oa.Z.plexIcon+(n?" "+n:"");var a=[g.createElement.apply(g,["path",{d:"M373.331 186.32l-93.324 93.332-93.337-93.341L280.007 93l93.332 93.309L466.67 93 560 186.318l-93.33 93.341-93.339-93.339zm.01 186.669l-93.334 93.34-93.337-93.34 93.337-93.337 93.334 93.337zm-186.67-186.67l-93.338 93.34L0 186.32 93.333 93l93.337 93.318z"}].concat([]))];return t&&a.unshift(g.createElement("title",null,t)),g.createElement.apply(g,["svg",i].concat(a))}la.propTypes={"aria-label":sa().string,className:sa().string,style:sa().object};const ca=la;var da=n(91608);const ua="com.tidal",pa={[ua]:ca,"com.watchtogether":da.Z},ma=function(e){const t=pa[e.attribution];return t?g.createElement("div",{className:e.className},g.createElement(t,null)):null};function ha({className:e,tabIndex:t,allowLink:n=!0,metadataItem:r}){const i=ci(r,"key");if(!r.title)return null;const a=g.createElement(g.Fragment,null,r.attribution?g.createElement(ma,{className:"MetadataTitleAttributed-badge-20Vp12",attribution:r.attribution}):null,r.title);return n&&i?g.createElement(vr,{className:e,tabIndex:t,title:r.title,to:i},a):g.createElement("span",{className:e,title:r.title},a)}function ga({className:e,metadataItem:t}){return t.attributionLogo?g.createElement("span",{className:e},g.createElement("img",{className:"MetadataTitleAttributionLogo-img-3WLv85",src:t.attributionLogo})):null}function ya({className:e,metadataItem:t}){const{originallyAvailableAt:n}=t;return n?g.createElement("span",{className:e},(0,pi.Z)(n)):null}var va=n(54941),fa=n(69713);function ba(e,t){switch(t){case ni.y_.Photo:switch(e){case ni.pG.Clip:return ni.DD.Photo}break;case ni.y_.Podcast:switch(e){case ni.pG.Show:return ni.DD.Audio}}switch(e){case ni.pG.Movie:case ni.pG.Show:case ni.pG.Season:case ni.pG.Episode:case ni.pG.Clip:return ni.DD.Video;case ni.pG.Artist:case ni.pG.Album:case ni.pG.Track:return ni.DD.Audio;case ni.pG.PhotoAlbum:case ni.pG.Photo:return ni.DD.Photo;case ni.pG.Game:return ni.DD.Rom;case ni.pG.Collection:switch(t){case ni.y_.Movie:case ni.y_.Show:case ni.y_.Season:case ni.y_.Episode:return ni.DD.Video;case ni.y_.Artist:case ni.y_.Album:case ni.y_.Track:return ni.DD.Audio}}!function(e){throw new Error(`"${e}" is not mapped to a media type`)}(e)}function Ia({className:e,metadataItem:t}){var n;const r=ba(t.type,t.subtype),i=null==(n=t.Media)?void 0:n[0];return null==(null==i?void 0:i.bitrate)?null:g.createElement("span",{className:e},r===ni.DD.Video?(0,fa.Z)(i.bitrate):(0,va.Z)(i.bitrate))}function Sa({className:e,metadataItem:t}){const n=t.leafCount;if(null==n)return null;switch(t.type){case ni.pG.Show:return g.createElement("span",{className:e},1===n?(0,Ce.Z)("{episodeCount} episode",{episodeCount:n}):(0,Ce.Z)("{episodeCount} episodes",{episodeCount:n}));case ni.pG.Artist:return g.createElement("span",{className:e},1===n?(0,Ce.Z)("{trackCount} track",{trackCount:n}):(0,Ce.Z)("{trackCount} tracks",{trackCount:n}))}return g.createElement("span",{className:e},1===n?(0,Ce.Z)("{itemCount} item",{itemCount:n}):(0,Ce.Z)("{itemCount} items",{itemCount:n}))}function Ma({className:e,metadataItem:t}){if(t.skipChildren)return g.createElement(Sa,{className:e,metadataItem:t});const n=t.childCount;if(null==n)return null;switch(t.type){case ni.pG.Show:return g.createElement("span",{className:e},1===n?(0,Ce.Z)("{seasonCount} season",{seasonCount:n}):(0,Ce.Z)("{seasonCount} seasons",{seasonCount:n}));case ni.pG.Season:return g.createElement("span",{className:e},1===n?(0,Ce.Z)("{episodeCount} episode",{episodeCount:n}):(0,Ce.Z)("{episodeCount} episodes",{episodeCount:n}));case ni.pG.Artist:return g.createElement("span",{className:e},1===n?(0,Ce.Z)("{albumCount} album",{albumCount:n}):(0,Ce.Z)("{albumCount} albums",{albumCount:n}));case ni.pG.Album:return g.createElement("span",{className:e},1===n?(0,Ce.Z)("{trackCount} track",{trackCount:n}):(0,Ce.Z)("{trackCount} tracks",{trackCount:n}))}return g.createElement("span",{className:e},1===t.childCount?(0,Ce.Z)("{itemCount} item",{itemCount:n}):(0,Ce.Z)("{itemCount} items",{itemCount:n}))}function Ea({className:e,metadataItem:t}){if(null==t.childCount)return null;const n=1===t.childCount,r={itemCount:t.childCount};let i;return i=t.subtype===ni.y_.Movie?n?(0,Ce.Z)("{itemCount} movie",r):(0,Ce.Z)("{itemCount} movies",r):t.subtype===ni.y_.Show?n?(0,Ce.Z)("{itemCount} show",r):(0,Ce.Z)("{itemCount} shows",r):t.subtype===ni.y_.Season?n?(0,Ce.Z)("{itemCount} season",r):(0,Ce.Z)("{itemCount} seasons",r):t.subtype===ni.y_.Episode?n?(0,Ce.Z)("{itemCount} episode",r):(0,Ce.Z)("{itemCount} episodes",r):t.subtype===ni.y_.Artist?n?(0,Ce.Z)("{itemCount} artist",r):(0,Ce.Z)("{itemCount} artists",r):t.subtype===ni.y_.Album?n?(0,Ce.Z)("{itemCount} album",r):(0,Ce.Z)("{itemCount} albums",r):t.subtype===ni.y_.Track?n?(0,Ce.Z)("{itemCount} track",r):(0,Ce.Z)("{itemCount} tracks",r):n?(0,Ce.Z)("{itemCount} item",r):(0,Ce.Z)("{itemCount} items",r),g.createElement("span",{className:e},i)}function Pa(e){if(!e)return"";const t=e.indexOf("/");return-1!==t?e.substr(t+1):e}function Da({className:e,metadataItem:t}){return null==t.contentRating?null:g.createElement("span",{className:e},Pa(t.contentRating))}const Ca={container:"CriticRating-container-1SC4rC",rating:"CriticRating-rating-2RgeS9",rt:"CriticRating-rt-34bf_j",ratingImage:"CriticRating-ratingImage-Q4kYrN",igdb:"CriticRating-igdb-kTDfex CriticRating-ratingImage-Q4kYrN",imdb:"CriticRating-imdb-3ZBLQP CriticRating-ratingImage-Q4kYrN",thetvdb:"CriticRating-thetvdb-1OjUuN CriticRating-ratingImage-Q4kYrN",tmdb:"CriticRating-tmdb-3_LDg_ CriticRating-ratingImage-Q4kYrN",certified:"CriticRating-certified-afT67R CriticRating-ratingImage-Q4kYrN",ripe:"CriticRating-ripe-3bK8b9 CriticRating-ratingImage-Q4kYrN",rotten:"CriticRating-rotten-eusLGL CriticRating-ratingImage-Q4kYrN",spilled:"CriticRating-spilled-pJsm5q CriticRating-ratingImage-Q4kYrN",upright:"CriticRating-upright-jYPY3u CriticRating-ratingImage-Q4kYrN",other:"CriticRating-other-3Fb1t2 CriticRating-ratingImage-Q4kYrN"};var wa=Object.defineProperty,Za=Object.prototype.hasOwnProperty,Ta=Object.getOwnPropertySymbols,Na=Object.prototype.propertyIsEnumerable,Oa=(e,t,n)=>t in e?wa(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const Aa=/^igdb:\/\//,xa=/^imdb:\/\//,ja=/^rottentomatoes:\/\//,La=/^thetvdb:\/\//,ka=/^themoviedb:\/\//,Ra={igdb:function({rating:e,audienceRating:t}){return g.createElement("div",{className:Ca.rating,title:(0,Ce.Z)("IGDB Rating")},g.createElement("div",{className:Ca.igdb}),`${Math.round(10*t)}%`)},imdb:function({rating:e,audienceRating:t}){const n=t||e;return g.createElement("div",{className:Ca.rating,title:(0,Ce.Z)("IMDb Rating")},g.createElement("div",{className:Ca.imdb}),n.toFixed(1))},rt:function({rating:e,ratingImage:t,audienceRating:n,audienceRatingImage:r}){const i=t&&t.substr(t.lastIndexOf(".")+1),a=n&&r&&r.substr(r.lastIndexOf(".")+1),s={certified:(0,Ce.Z)("Certified Fresh"),ripe:(0,Ce.Z)("Fresh"),rotten:(0,Ce.Z)("Rotten"),spilled:(0,Ce.Z)("Audience Rating"),upright:(0,Ce.Z)("Audience Rating")};return g.createElement("div",{className:Ca.rt},i?g.createElement("div",{className:Ca.rating},g.createElement("div",{className:Ca[i],title:s[i]}),`${Math.round(10*e)}%`):null,a?g.createElement("div",{className:Ca.rating},g.createElement("div",{className:Ca[a],title:s[a]}),`${Math.round(10*n)}%`):null)},thetvdb:function({audienceRating:e}){return g.createElement("div",{className:Ca.rating,title:(0,Ce.Z)("TheTVDB Rating")},g.createElement("div",{className:Ca.thetvdb}),`${Math.round(10*e)}%`)},tmdb:function({rating:e,audienceRating:t}){const n=t||e;return g.createElement("div",{className:Ca.rating,title:(0,Ce.Z)("TMDB Rating")},g.createElement("div",{className:Ca.tmdb}),`${Math.round(10*n)}%`)},other:function({rating:e}){return g.createElement("div",{className:Ca.rating},g.createElement("div",{className:Ca.other,title:(0,Ce.Z)("Rating")}),`${Math.round(10*e)}%`)}},za=function(e){const t=function({rating:e,ratingImage:t,audienceRating:n,audienceRatingImage:r}){return e||n?e&&Aa.test(t)||n&&Aa.test(r)?"igdb":e&&xa.test(t)||n&&xa.test(r)?"imdb":n&&La.test(r)?"thetvdb":e&&ka.test(t)||n&&ka.test(r)?"tmdb":e&&ja.test(t)||n&&ja.test(r)?"rt":"other":"unrated"}(e),n=Ra[t];return n?g.createElement("div",{className:Ca.container},g.createElement(n,((e,t)=>{for(var n in t||(t={}))Za.call(t,n)&&Oa(e,n,t[n]);if(Ta)for(var n of Ta(t))Na.call(t,n)&&Oa(e,n,t[n]);return e})({},e))):null};function Ua({className:e,metadataItem:t}){const{rating:n,ratingImage:r,audienceRating:i,audienceRatingImage:a}=t;return n||i?g.createElement("span",{className:e},g.createElement(za,{rating:n,ratingImage:r,audienceRating:i,audienceRatingImage:a})):null}function Va({className:e,metadataItem:t}){return null==t.duration?null:g.createElement("span",{className:e},Ui(t.duration))}function Ba({className:e,metadataItem:t}){return null==t.leafCount?null:g.createElement("span",{className:e},1===t.leafCount?(0,Ce.Z)("{episodeCount} episode",{episodeCount:t.leafCount}):(0,Ce.Z)("{episodeCount} episodes",{episodeCount:t.leafCount}))}var Fa=n(40074);function _a({className:e,tabIndex:t,metadataItem:n}){const r=ci(n,"key"),i=(0,Fa.Z)({useLongName:!0,episodeIndex:n.index,date:n.originallyAvailableAt,noLeadingZero:!0});return r?g.createElement("span",{className:e},g.createElement(vr,{tabIndex:t,title:n.title,to:r},i)):g.createElement("span",{className:e},g.createElement("span",{title:n.title},i))}function Ha({className:e,metadataItem:t}){const{sourceTitle:n}=t;return n?g.createElement("span",{className:e,title:n},(0,Ce.Z)("from {sourceTitle}",{sourceTitle:n})):null}function Qa({className:e,metadataItem:t}){const n=function(e){switch(e){case ni.y_.Trailer:return(0,Ce.Z)("Trailer");case ni.y_.DeletedScene:return(0,Ce.Z)("Deleted Scene");case ni.y_.Interview:return(0,Ce.Z)("Interview");case ni.y_.MusicVideo:return(0,Ce.Z)("Music Video");case ni.y_.BehindTheScenes:return(0,Ce.Z)("Behind the Scenes");case ni.y_.SceneOrSample:return(0,Ce.Z)("Scene");case ni.y_.LiveMusicVideo:return(0,Ce.Z)("Live Music Video");case ni.y_.LyricMusicVideo:return(0,Ce.Z)("Lyric Music Video");case ni.y_.Concert:return(0,Ce.Z)("Concert");case ni.y_.Featurette:return(0,Ce.Z)("Featurette");case ni.y_.Short:return(0,Ce.Z)("Short");case ni.y_.Other:return(0,Ce.Z)("Other")}}(t.subtype);return n?g.createElement("span",{className:e,title:n},n):null}function Ga({className:e,tabIndex:t,allowLink:n=!0,metadataItem:r}){const i=ci(r,"grandparentKey");return r.grandparentTitle?n&&i?g.createElement(vr,{className:e,tabIndex:t,title:r.grandparentTitle,to:i},r.grandparentTitle):g.createElement("span",{className:e,title:r.grandparentTitle},r.grandparentTitle):null}function Wa({className:e,tabIndex:t,allowLink:n,metadataItem:r}){return null!=r.addedAt||r.grandparentTitle?g.createElement("span",{className:e},g.createElement(gi,{timestamp:r.addedAt}),null!=r.addedAt&&r.grandparentTitle?"  ":null,g.createElement(Ga,{tabIndex:t,allowLink:n,metadataItem:r})):null}function Ya({className:e,metadataItem:t}){const n=ei(t.sourceURI),{lastRatedAt:r}=n;return g.createElement(gi,{className:e,timestamp:r})}function Ka({className:e,metadataItem:t}){const n=ei(t.sourceURI),{lastViewedAt:r}=n;return r?g.createElement(gi,{className:e,timestamp:r}):g.createElement("span",{className:e},(0,Ce.Z)("Unplayed"))}function qa({className:e,tabIndex:t,allowLink:n=!0,metadataItem:r}){const i=ci(r,"parentKey");return r.parentTitle?n&&i?g.createElement(vr,{className:e,tabIndex:t,title:r.parentTitle,to:i},r.parentTitle):g.createElement("span",{className:e,title:r.parentTitle},r.parentTitle):null}function $a({className:e,metadataItem:t}){var n;const r=null!=(n=ei(t.sourceURI).viewCount)?n:0;return g.createElement("span",{className:e},1===r?(0,Ce.Z)("{playCount} play",{playCount:r}):(0,Ce.Z)("{playCount} plays",{playCount:r}))}var Ja=n(44491);function Xa({className:e,metadataItem:t}){return null==t.leafCount?null:g.createElement("span",{className:e},1===t.leafCount?(0,Ce.Z)("{itemCount} item",{itemCount:t.leafCount}):(0,Ce.Z)("{itemCount} items",{itemCount:t.leafCount}))}function es({className:e,metadataItem:t}){return t.playlistType===Ja.pV?g.createElement(Xa,{className:e,metadataItem:t}):g.createElement(Va,{className:e,metadataItem:t})}function ts({className:e,metadataItem:t}){return t.skipChildren?g.createElement(Ba,{className:e,metadataItem:t}):null==t.childCount?null:g.createElement("span",{className:e},1===t.childCount?(0,Ce.Z)("{seasonCount} season",{seasonCount:t.childCount}):(0,Ce.Z)("{seasonCount} seasons",{seasonCount:t.childCount}))}var ns=n(85480),rs=n(84807);function is({className:e,tabIndex:t,allowLink:n=!0,metadataItem:r}){const i=ci(r,"key"),a=ci(r,"parentKey"),s=(0,ns.Z)({seasonIndex:r.parentIndex,noLeadingZero:!0}),o=(0,Fa.Z)({episodeIndex:r.index,date:r.originallyAvailableAt,noLeadingZero:!0});return n&&i&&a?g.createElement("span",{className:e},r.index&&s?g.createElement(vr,{tabIndex:t,title:r.parentTitle,to:a},s):null,r.index&&s?g.createElement(rs.Z,{separator:""}):null,g.createElement(vr,{tabIndex:t,title:r.title,to:i},o)):g.createElement("span",{className:e},r.index&&s?g.createElement("span",{title:r.parentTitle},s):null,r.index&&s?g.createElement(rs.Z,{separator:""}):null,g.createElement("span",{title:r.title},o))}function as({className:e,metadataItem:t}){const n=ei(t.sourceURI).unviewedLeafCount;return null==n?null:g.createElement("span",{className:e},(0,Ce.Z)("{unplayedCount} unplayed",{unplayedCount:n}))}var ss=n(88050),os=n(1193),ls=Object.defineProperty,cs=Object.prototype.hasOwnProperty,ds=Object.getOwnPropertySymbols,us=Object.prototype.propertyIsEnumerable,ps=(e,t,n)=>t in e?ls(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ms=(e,t)=>{for(var n in t||(t={}))cs.call(t,n)&&ps(e,n,t[n]);if(ds)for(var n of ds(t))us.call(t,n)&&ps(e,n,t[n]);return e};function hs(e){const{metricsPage:t,metricsContextTuple:n}=(0,Jt.Zn)();return(0,g.useCallback)((r=>{const i=ms(ms({page:t,contextTuple:n},e),r);(0,b.DB)("metrics").trackClick(i)}),[JSON.stringify(e),n,t])}function gs(e){const[,t]=Hn();return hs({identifier:t.metricsIdentifier,type:e.type})}function ys(e){var t=e["aria-label"],n=e.className,r=e.style,i={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-star-dot-560"};i["aria-hidden"]=!t,i.style=r,i.className=oa.Z.plexIcon+(n?" "+n:"");var a=[g.createElement.apply(g,["circle",{cx:"280",cy:"280",r:"40"}].concat([]))];return t&&a.unshift(g.createElement("title",null,t)),g.createElement.apply(g,["svg",i].concat(a))}ys.propTypes={"aria-label":sa().string,className:sa().string,style:sa().object};const vs=ys;function fs(e){var t=e["aria-label"],n=e.className,r=e.style,i={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-star-empty-560"};i["aria-hidden"]=!t,i.style=r,i.className=oa.Z.plexIcon+(n?" "+n:"");var a=[g.createElement.apply(g,["path",{d:"m342.864 199.975l203.432 0-164.58 119.575 62.864 193.475-164.58-119.575-164.58 119.575 62.864-193.475-164.58-119.575 203.432 0 62.864-193.475c20.955 64.492 41.909 128.983 62.864 193.475m-96.666 40l-109.387 0 88.496 64.296-33.802 104.032 88.495-64.296 88.495 64.296-33.802-104.032 88.496-64.296-109.387 0-33.802-104.033c-11.267 34.678-22.535 69.355-33.802 104.033"}].concat([]))];return t&&a.unshift(g.createElement("title",null,t)),g.createElement.apply(g,["svg",i].concat(a))}fs.propTypes={"aria-label":sa().string,className:sa().string,style:sa().object};const bs=fs;function Is(e){var t=e["aria-label"],n=e.className,r=e.style,i={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-star-full-560"};i["aria-hidden"]=!t,i.style=r,i.className=oa.Z.plexIcon+(n?" "+n:"");var a=[g.createElement.apply(g,["path",{d:"m280 6.5l62.864 193.475 203.432 0-164.58 119.575 62.864 193.475-164.58-119.575-164.58 119.575 62.864-193.475-164.58-119.575 203.432 0 62.864-193.475"}].concat([]))];return t&&a.unshift(g.createElement("title",null,t)),g.createElement.apply(g,["svg",i].concat(a))}Is.propTypes={"aria-label":sa().string,className:sa().string,style:sa().object};const Ss=Is;var Ms=n(19210),Es=n(61214),Ps=n(89267);const Ds="StarRating-stars-Q1R3FC";var Cs=Object.defineProperty,ws=Object.prototype.hasOwnProperty,Zs=Object.getOwnPropertySymbols,Ts=Object.prototype.propertyIsEnumerable,Ns=(e,t,n)=>t in e?Cs(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Os=(e,t)=>{for(var n in t||(t={}))ws.call(t,n)&&Ns(e,n,t[n]);if(Zs)for(var n of Zs(t))Ts.call(t,n)&&Ns(e,n,t[n]);return e};const As=(0,Ms.Z)(Ps.Z.starPulseSpeed);function xs(e,t){return e>0?Math.min(Math.floor(e)+1,t):0}function js({className:e,iconComponent:t,isVisible:n,isPulsing:r}){const i=Te()(e,!n&&"StarRating-hidden-n37vSQ",r&&"StarRating-pulsing-3P59bP");return g.createElement(t,{className:i})}function Ls(e){return g.createElement(js,Os({iconComponent:bs,className:"StarRating-emptyStar-1W689I StarRating-star-zcRqTF"},e))}function ks(e){return g.createElement(js,Os({iconComponent:Ss,className:"StarRating-fullStar-3Gjwx4 StarRating-star-zcRqTF"},e))}function Rs(){return g.createElement(vs,{className:"StarRating-dot-2JMccJ"})}class zs extends g.Component{constructor(e,t){super(e,t),this.onSliderChange=({positionValue:e})=>{const{starCount:t}=this.props,n=xs(e,t);this.setState({currentValue:n})},this.onSliderMove=({positionValue:e})=>{const{starCount:t}=this.props,n=xs(e,t);0!==n&&this.setState({currentValue:n})},this.onSlideComplete=({positionValue:e})=>{const{starCount:t}=this.props,n=xs(e,t);this.state.currentRating!==n&&(this._setRating(n),this.props.onRatingChange(n))},this.onMouseLeave=({pageX:e})=>{this.setState({currentValue:this.state.currentRating})},this.state={currentValue:e.value,currentRating:e.value,isPulsing:!1}}UNSAFE_componentWillReceiveProps({value:e}){e=Math.max(0,Math.min(e,this.props.starCount)),this.state.currentRating!==e&&this._setRating(e)}shouldComponentUpdate(e,t){return(0,At.Z)(this,e,t)}componentDidUpdate(e,t){this.state.currentRating!==t.currentRating&&(window.clearTimeout(this._pulseTimeoutID),this._pulseTimeoutID=window.setTimeout((()=>{this.setState({isPulsing:!1})}),As))}componentWillUnmount(){window.clearTimeout(this._pulseTimeoutID)}_setRating(e){this.setState({currentValue:e,currentRating:e,isPulsing:!0})}render(){const{starCount:e,className:t}=this.props,{currentValue:n,currentRating:r,isPulsing:i}=this.state,a=!this.state.currentValue,s=!this.props.onRatingChange,o=S().range(e);return g.createElement("div",{className:Te()(t,"StarRating-starRating-2PpV4V",s&&"StarRating-isReadOnly-1wEUo5",a&&"StarRating-isUnrated-19UmPc"),onMouseLeave:this.onMouseLeave},g.createElement("div",null,o.map((e=>g.createElement(Rs,{key:e})))),g.createElement("div",{className:Ds},o.map((e=>{const t=e>n-1;return g.createElement(Ls,{key:e,isVisible:t})}))),g.createElement("div",{className:Ds},o.map((e=>{const t=e<=n-1;return g.createElement(ks,{key:e,isVisible:t,isPulsing:i&&r>e})}))),s?null:g.createElement(Es.Z,{className:"StarRating-slider-3FRfUY",trackClassName:"StarRating-track-3eD106",label:(0,Ce.Z)("User Rating"),tabIndex:"-1",value:this.state.currentValue,min:0,max:e,stepSize:1,autoHideThumb:!0,onChange:this.onSliderChange,onMove:this.onSliderMove,onDragComplete:this.onSlideComplete}))}}zs.defaultProps={starCount:5,value:0};const Us=zs;function Vs({className:e,metadataItem:t}){var n;const r=(0,v.I0)(),[i,a]=Hn(),s=ei(t.sourceURI),o=gs(t),l=(0,g.useCallback)((e=>{const n=0===e?-1:2*e;o({action:ss.zw,value:n}),r(os.Z.actions.rateRequested({server:i,provider:a,sourceURI:t.sourceURI,ratingKey:t.ratingKey,rating:n}))}),[r,t.ratingKey,t.sourceURI,a,i,o]),c=(null!=(n=s.userRating)?n:0)/2;return g.createElement("div",{className:e},g.createElement(Us,{value:c,onRatingChange:l}))}var Bs=n(10825);function Fs({className:e,metadataItem:t}){var n;const r=null==(n=t.Media)?void 0:n[0];return null==(null==r?void 0:r.videoResolution)?null:g.createElement("span",{className:e},(0,Bs.Z)(r.videoResolution))}function _s({className:e,metadataItem:t}){const n=ei(t.sourceURI);return null==t.duration||null==n.viewOffset?null:g.createElement("span",{className:e},(0,Ce.Z)("{timeRemaining} left",{timeRemaining:Ui(t.duration-n.viewOffset)}))}function Hs({className:e,metadataItem:t}){return t.year?g.createElement("span",{className:e},t.year):null}function Qs({className:e,displayFieldName:t}){return null}var Gs=Object.defineProperty,Ws=Object.prototype.hasOwnProperty,Ys=Object.getOwnPropertySymbols,Ks=Object.prototype.propertyIsEnumerable,qs=(e,t,n)=>t in e?Gs(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,$s=(e,t)=>{for(var n in t||(t={}))Ws.call(t,n)&&qs(e,n,t[n]);if(Ys)for(var n of Ys(t))Ks.call(t,n)&&qs(e,n,t[n]);return e};function Js(e){switch(e){case ri.PD.AddedAt:return yi;case ri.PD.AddedAtGrandparentTitle:return Wa;case ri.PD.AirsAt:return ia;case ri.PD.AttributionLogo:return ga;case ri.PD.ChildCount:return Ma;case ri.PD.ContentRating:return Da;case ri.PD.Duration:return Va;case ri.PD.EpisodeIdentifier:return is;case ri.PD.GrandparentTitle:return Ga;case ri.PD.LastRatedAt:return Ya;case ri.PD.LastViewedAt:return Ka;case ri.PD.LeafCount:return Sa;case ri.PD.MediaBitrate:return Ia;case ri.PD.VideoResolution:return Fs;case ri.PD.OriginallyAvailableAt:return ya;case ri.PD.ParentTitle:return qa;case ri.PD.Rating:return Ua;case ri.PD.SourceTitle:return Ha;case ri.PD.Title:return di;case ri.PD.TitleAttributed:return ha;case ri.PD.UnviewedLeafCount:return as;case ri.PD.UserRating:return Vs;case ri.PD.ViewCount:return $a;case ri.PD.ViewOffset:return _s;case ri.PD.Year:return Hs;default:return function(e){return t=>g.createElement(Qs,$s($s({},t),{displayFieldName:e}))}(e)}}function Xs(e,t,n){const r=null==n?void 0:n.displayFieldNames;if(r)return r.map(Js);const i=null==n?void 0:n.listStyle;if(e===En.U.Mixed)return[null,null,null];switch(i){case En.n.PrePlayGrid:switch(e){case ni.pG.Season:return[di,Ba];case ni.pG.Episode:return[di,_a];case ni.pG.Album:return[ha,Hs];case ni.pG.Collection:switch(t){case ni.y_.Movie:return[di,Hs];case ni.y_.Show:return[di,ts];case ni.y_.Season:return[qa,di];case ni.y_.Episode:return[Ga,di,is];case ni.y_.Artist:return[di];case ni.y_.Album:return[qa,di]}}}switch(t){case ni.y_.Podcast:switch(e){case ni.pG.Show:return[{component:di,isDoubleLine:!0}];case ni.pG.Track:return[{component:di,isDoubleLine:!0},Ga]}break;case ni.y_.Webshow:switch(e){case ni.pG.Show:return[di];case ni.pG.Episode:return[{component:di,isDoubleLine:!0},Wa]}break;case ni.y_.Trailer:case ni.y_.DeletedScene:case ni.y_.Interview:case ni.y_.MusicVideo:case ni.y_.BehindTheScenes:case ni.y_.SceneOrSample:case ni.y_.LiveMusicVideo:case ni.y_.LyricMusicVideo:case ni.y_.Concert:case ni.y_.Featurette:case ni.y_.Short:case ni.y_.Other:switch(e){case ni.pG.Clip:return[di,Qa]}}switch(e){case ni.pG.Movie:return[di,Hs];case ni.pG.Show:return[di,ts];case ni.pG.Season:return[qa,di];case ni.pG.Episode:return[Ga,di,is];case ni.pG.Artist:return[di];case ni.pG.Album:return[qa,di];case ni.pG.Track:return[Ga,di];case ni.pG.Photo:return[{component:di}];case ni.pG.PhotoAlbum:case ni.pG.Clip:return[di];case ni.pG.Playlist:return[di,es];case ni.pG.Collection:return[di,Ea];case ni.pG.Directory:case ni.pG.Channel:case En.U.Content:return[];case En.U.Channels:return[di,ia];case En.U.Photo:return[di]}return[{component:di,allowLink:!1}]}var eo=n(30464),to=n(32129),no=Object.defineProperty,ro=Object.prototype.hasOwnProperty,io=Object.getOwnPropertySymbols,ao=Object.prototype.propertyIsEnumerable,so=(e,t,n)=>t in e?no(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;function oo(e){const{style:t,moveDurationMilliseconds:n=400,isVirtual:r,isVisible:i,cellIndex:a,cellX:s,cellY:o,cellWidth:l,cellHeight:c}=e,d=(0,eo.Z)(a),u=null!=d&&a!==d,p=(0,g.useRef)(u),m=p.current||u,h=(0,g.useRef)(!0);r&&!i||(h.current=!1);const y=(0,g.useReducer)((e=>e+1),0)[1],v=(0,g.useMemo)((()=>((e,t)=>{for(var n in t||(t={}))ro.call(t,n)&&so(e,n,t[n]);if(io)for(var n of io(t))ao.call(t,n)&&so(e,n,t[n]);return e})(r?{position:"absolute",width:l,height:c,transform:`translate3d(${s}px, ${o}px, 0)`,zIndex:m?1:0,transition:m?`transform ${to.Z.defaultSpeed}`:"none",transitionDuration:m?`${n}ms`:"0"}:{position:"relative"},t)),[s,o,l,c,t,n,m,r]);return(0,g.useEffect)((()=>{let e;return m&&(p.current=!0,e=window.setTimeout((()=>{p.current=!1,y()}),2*n)),()=>{e&&window.clearTimeout(e)}}),[n,m,y]),{style:v,isOffscreenPlaceholder:h.current}}var lo=n(76403),co=Object.defineProperty,uo=Object.prototype.hasOwnProperty,po=Object.getOwnPropertySymbols,mo=Object.prototype.propertyIsEnumerable,ho=(e,t,n)=>t in e?co(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const go=function(e,t){const n={count:0,items:{}};return{getDefaultMultiselectState:()=>n,getIdentity:t,reducers:{reset(e){let t=e;return t=n,t},selectItems(e,{payload:n}){const r=e,{items:i}=n;i.forEach((e=>{const n=t(e);r.items[n]||(r.items[n]=e,r.count+=1)}))},deselectItems(e,{payload:n}){const r=e,{items:i}=n;i.forEach((e=>{const n=t(e);r.items[n]&&(delete r.items[n],r.count-=1)}))}}}}(0,(e=>e.sourceURI)),yo=go.getDefaultMultiselectState(),vo=(0,lo.oM)({name:"metadataMultiselect",initialState:yo,reducers:((e,t)=>{for(var n in t||(t={}))uo.call(t,n)&&ho(e,n,t[n]);if(po)for(var n of po(t))mo.call(t,n)&&ho(e,n,t[n]);return e})({},go.reducers)}),fo=(0,fe.P1)(qr,(e=>e.features)),bo=(0,fe.P1)(fo,(e=>e.metadataMultiselect));var Io=n(38204);const So={display:"contents "};function Mo(e,t,n){const r=[];for(let i=Math.min(t,n);i<=Math.max(t,n);i++)r.push(e[i]);return r}const Eo=(0,g.createContext)({isSelectionRangeActive:!1,isSelectionRangeComplete:!1,checkItemInRange:()=>!1,onRangeStart:()=>{},onRangeEnd:()=>{},onRangeSelect:()=>{},onRangeClear:()=>{}}),Po=function({children:e,items:t}){const[n,r]=(0,g.useState)(),[i,a]=(0,g.useState)(),[s,o]=(0,g.useState)(),[l,c]=(0,g.useState)(!1),d=(0,g.useCallback)((e=>{const r=t.indexOf(e);return null!=n&&null!=i&&r>=Math.min(n,i)&&r<=Math.max(n,i)}),[t,i,n]),u=(0,g.useCallback)((e=>{const n=t.indexOf(e);-1!==n&&(r(n),a(void 0),o(void 0))}),[t]),p=(0,g.useCallback)((e=>{const r=t.indexOf(e);-1!==r&&null!=n&&Mo(t,n,r).every((e=>e))&&a(r)}),[t,n]),m=(0,g.useCallback)(((e,r)=>{null!=n&&null!=i&&(s&&r(Mo(t,...s)),e(Mo(t,n,i)),o([n,i]))}),[t,s,i,n]),h=(0,g.useCallback)((()=>{r(void 0),a(void 0),o(void 0)}),[]),y=(0,g.useCallback)((()=>{a(void 0)}),[]);(0,g.useEffect)((()=>{function e(e){e.key===Io.Z.Shift&&c(!0)}function t(e){e.key===Io.Z.Shift&&(c(!1),a(void 0))}function n(){c(!1),a(void 0)}return document.addEventListener("keydown",e),document.addEventListener("keyup",t),window.addEventListener("blur",n),()=>{document.removeEventListener("keydown",e),document.removeEventListener("keyup",t),window.addEventListener("blur",n)}}),[]);const v=(0,g.useMemo)((()=>({isSelectionRangeActive:l,isSelectionRangeComplete:null!=n&&null!=i,checkItemInRange:d,onRangeStart:u,onRangeEnd:p,onRangeSelect:m,onRangeClear:h})),[d,l,h,p,m,u,i,n]);return g.createElement(Eo.Provider,{value:v},g.createElement("div",{style:So,onMouseLeave:y},e))};function Do({isHovered:e,metadataItem:t,metadataItemState:n}){const r=(0,v.I0)(),i=t?go.getIdentity(t):void 0,a=function(e,t,n,r,i=!1){const a=(0,v.I0)(),s=(0,v.v9)(t),o=(0,g.useMemo)((()=>!!r&&!!s.items[r]),[r,s.items]),l=!!s.count,{isSelectionRangeActive:c,isSelectionRangeComplete:d,checkItemInRange:u,onRangeStart:p,onRangeEnd:m,onRangeClear:h,onRangeSelect:y}=(0,g.useContext)(Eo),f=(0,g.useCallback)((e=>{a(n.selectItems({items:e}))}),[n,a]),b=(0,g.useCallback)((e=>{a(n.deselectItems({items:e}))}),[n,a]),I=(0,g.useCallback)((()=>{e&&(d?y(f,b):o?(b([e]),h()):(f([e]),p(e)))}),[d,o,e,b,h,y,p,f]);return(0,g.useEffect)((()=>{e&&c&&l&&i&&m(e)}),[i,c,l,e,m]),{isSelectionActive:l,isSelected:o,isInSelectionRange:c&&u(e),onToggleSelect:I}}(t,bo,vo.actions,i,e),s=null==n?void 0:n.isDeleted;return(0,g.useEffect)((()=>{t&&s&&a.isSelected&&r(vo.actions.deselectItems({items:[t]}))}),[t,s,a,r,a.isSelected]),a}function Co(e,t,n){var r;return null==(r=null==n?void 0:n.find((n=>n.type===e&&n.subtype===t)))?void 0:r.fields}function wo(e,t,n){var r;return null==(r=null==n?void 0:n.find((n=>n.type===e&&n.subtype===t)))?void 0:r.imageType}var Zo=n(7947),To=n(89335),No=n(75534);function Oo(){const[e,t]=(0,g.useState)(!1),n=(0,g.useRef)(null),r=(0,g.useCallback)((()=>t(!0)),[]),i=(0,g.useCallback)((()=>t(!1)),[]);return(0,g.useEffect)((()=>{const e=n.current;return e&&(e.addEventListener("mouseenter",r),e.addEventListener("mouseleave",i)),()=>{e&&(e.removeEventListener("mouseenter",r),e.removeEventListener("mouseleave",i))}}),[r,i]),[e,n]}function Ao({server:e,provider:t,metadataItem:n,metadataItemState:r}){const i=(0,v.I0)(),[a,s]=Oo(),[o,l]=(0,g.useState)(!1),[c,d]=(0,g.useState)(!1),u=(0,eo.Z)(o),p=(0,g.useCallback)((()=>{d(!1),l(!0),r.isPending||r.isPopulated||i(os.Z.actions.fetchRequested({server:e,provider:t,metadataKey:n.key,sourceURI:n.sourceURI}))}),[i,n.key,n.sourceURI,r.isPending,r.isPopulated,t,e]),m=(0,g.useCallback)((()=>{d(!0),l(!1)}),[]),h=(0,g.useCallback)((()=>{d(!1)}),[]),y=(0,g.useCallback)((()=>{o?m():p()}),[o,m,p]);return(0,g.useEffect)((()=>{!u||!o||r.isPending||r.isPopulated||r.error||l(!1)}),[u,o,r.error,r.isPending,r.isPopulated]),{hoverRef:s,isHovered:a,isActionsPending:o&&r.isPending,isActionsVisible:a||o||c,actionsMenuButtonID:(0,No.Z)(),isActionsMenuOpen:o&&!r.isPending&&!(!r.isPopulated&&!r.error),isActionsMenuClosing:c,onActionsMenuOpen:p,onActionsMenuClose:m,onActionsMenuCloseComplete:h,onActionsMenuToggle:y}}var xo=n(46277),jo=Object.defineProperty,Lo=Object.prototype.hasOwnProperty,ko=Object.getOwnPropertySymbols,Ro=Object.prototype.propertyIsEnumerable,zo=(e,t,n)=>t in e?jo(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Uo=(e,t)=>{for(var n in t||(t={}))Lo.call(t,n)&&zo(e,n,t[n]);if(ko)for(var n of ko(t))Ro.call(t,n)&&zo(e,n,t[n]);return e};function Vo(e){return function(e){const{type:t,subtype:n,title:r,parentTitle:i,grandparentTitle:a}=e;let s;switch(n){case ni.y_.Podcast:switch(t){case ni.pG.Track:return[r,a]}break;case ni.y_.Webshow:switch(t){case ni.pG.Episode:return[r,a]}}switch(t){case ni.pG.Movie:return[r,e.year];case ni.pG.Season:return[i,r];case ni.pG.Episode:return s={episodeIndex:e.index,date:e.originallyAvailableAt,noLeadingZero:!0,useLongName:!0},[a,(0,xo.Z)(Uo(Uo({},s),{seasonIndex:e.parentIndex})),r];case ni.pG.Album:return[i,r];case ni.pG.Track:return[a,r];default:return[r]}}(e).filter((e=>0===e||e)).join(", ")}function Bo(e,t={}){var n;const{aspectRatio:r,displayImageType:i}=t,{type:a,subtype:s,thumb:o,parentThumb:l,grandparentThumb:c,art:d,parentArt:u,composite:p,liveTVChannel:m,viewOffsetThumb:h}=e;if(i){const t=null==(n=e.Image)?void 0:n.find((e=>e.type===i));return null==t?void 0:t.url}if(m)return m.thumb;switch(r){case ai:switch(a){case ni.pG.Movie:switch(s){case ni.y_.Clip:return o}return d;case ni.pG.Show:return d;case ni.pG.Season:return d||u;case ni.pG.Game:return h||o;default:return o}case ii:switch(a){case ni.pG.Season:return o;case ni.pG.Episode:return c;default:return o}case 1:switch(a){case ni.pG.Album:return o;case ni.pG.Track:switch(s){case ni.y_.Podcast:return o||l||c}return o||l;case ni.pG.Playlist:return o||p;default:return o}}return o}var Fo=n(17524);function _o(e){const{providerIdentifier:t}=(0,wr.Z)(e.source);return Fo.wB(t,[Fo.Ll,Fo.vP])}var Ho=n(36535);function Qo(e){return Fo.wB((0,Ho.Z)(e.identifier,e.providerIdentifier),Fo.uk)}function Go(e,t,n){return!Qo(n)&&!_o(e)&&e.userState&&(e.type===ni.pG.Movie||e.type===ni.pG.Episode||e.type===ni.pG.Track&&e.subtype===ni.y_.Podcast)&&!1!==t.saved}function Wo(e,t){const{type:n}=e,{viewOffset:r,viewCount:i,viewedLeafCount:a,unviewedLeafCount:s}=t;return!(n!==ni.pG.Movie&&n!==ni.pG.Show&&n!==ni.pG.Season&&n!==ni.pG.Episode&&n!==ni.pG.Track||r||!(i&&!a&&!s||a&&!s))}function Yo({className:e="Badge-badge-3V2nLB",style:t,iconClassName:n="Badge-icon-3gfym9",iconComponent:r}){return g.createElement("div",{className:e,style:t},g.createElement(r,{className:n}))}var Ko=n(35771);function qo({className:e="PlayedBadge-playedBadge-2cB8je Badge-badge-3V2nLB"}){return g.createElement(Yo,{className:e,iconComponent:Ko.Z})}var $o=n(28670),Jo=n(51343);function Xo({className:e="RecordingBadge-recordingBadge-3SJz9q",subscriptionType:t}){const n=t===ni.pG.Show?$o.Z:Jo.Z;return g.createElement(n,{className:e})}var el=n(79501);function tl({className:e="SmartBadge-smartBadge-1IcFwC Badge-badge-3V2nLB"}){return g.createElement(Yo,{className:e,iconComponent:el.Z})}function nl(e){var t=e["aria-label"],n=e.className,r=e.style,i={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",id:"plex-icon-toolbar-in-watchlist-560"};i["aria-hidden"]=!t,i.style=r,i.className=oa.Z.plexIcon+(n?" "+n:"");var a=[g.createElement.apply(g,["path",{clipRule:"evenodd",d:"M42 6.15892C42 4.72113 40.8409 3.59998 39.411 3.59998H8.58903C7.15701 3.59998 6 4.74565 6 6.15892V42.9571C6 44.3949 6.90879 44.8173 8.02984 43.9554L21.9702 33.2377C23.0826 32.3824 24.9088 32.3758 26.0298 33.2377L39.9702 43.9554C41.0826 44.8107 42 44.3704 42 42.9571V6.15892Z"}].concat([]))];return t&&a.unshift(g.createElement("title",null,t)),g.createElement.apply(g,["svg",i].concat(a))}nl.propTypes={"aria-label":sa().string,className:sa().string,style:sa().object};const rl=nl;function il({className:e="WatchlistBadge-watchlistBadge-vzvONa Badge-badge-3V2nLB"}){return g.createElement(Yo,{className:e,iconComponent:rl})}function al({className:e="PosterCardIcon-container-UpQIlp",width:t,height:n,children:r}){const i=(0,g.useMemo)((()=>({width:`${t}px`,height:`${n}px`,fontSize:Math.max(14,Math.min(Math.round(t/4),42)),lineHeight:`${n}px`})),[n,t]);return g.createElement("div",{className:e,style:i},r)}const sl={link:"PosterCardLink-link-2mWlqA Link-link-2WGTd7",hoveredLink:"PosterCardLink-hoveredLink-3BYG1D PosterCardLink-link-2mWlqA Link-link-2WGTd7"};var ol=Object.defineProperty,ll=Object.prototype.hasOwnProperty,cl=Object.getOwnPropertySymbols,dl=Object.prototype.propertyIsEnumerable,ul=(e,t,n)=>t in e?ol(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;function pl(e){var t=e,{className:n=sl.link,hoverClassName:r=sl.hoveredLink,isHovered:i}=t,a=((e,t)=>{var n={};for(var r in e)ll.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&cl)for(var r of cl(e))t.indexOf(r)<0&&dl.call(e,r)&&(n[r]=e[r]);return n})(t,["className","hoverClassName","isHovered"]);return g.createElement(vr,((e,t)=>{for(var n in t||(t={}))ll.call(t,n)&&ul(e,n,t[n]);if(cl)for(var n of cl(t))dl.call(t,n)&&ul(e,n,t[n]);return e})({className:i?r:n},a))}var ml=n(61676);const hl=(0,Dn.Z)((function(e){return(0,fe.P1)(ml.Z,(t=>!!t[e]))}));var gl=n(72759);const yl=(0,lo.oM)({name:"servers",initialState:{},reducers:{connected(e,t){},libraryScanUpdated(e,t){}}}),vl=(0,lo.oM)({name:"serverActivities",initialState:{},reducers:{activityStarted(e,t){},activityUpdated(e,t){},activityFinished(e,t){}},extraReducers:e=>{e.addCase(yl.actions.connected,((e,{payload:t})=>{const{server:n}=t;e[n.machineIdentifier]||(e[n.machineIdentifier]=[])}))}});var fl,bl,Il,Sl;function Ml(e,{payload:t}){const{type:n,progress:r=0,Context:i}=t.activity;if(!(null==i?void 0:i.source)||n!==gl.EW)return;const{source:a,ratingKey:s}=i,{serverIdentifier:o,providerIdentifier:l}=(0,wr.Z)(a),c=(0,yn.Z)({serverIdentifier:o,providerIdentifier:l,key:`/library/metadata/${s}`}),d=e.status.downloads[c];if(!d)return;const u=100===r;e.status.downloads[c]={id:d.id,subscription:u?fl.Saved:fl.Saving,sourceURI:c,type:d.type,relation:d.relation,progress:r}}(bl=fl||(fl={}))[bl.Subscribing=0]="Subscribing",bl[bl.Saving=1]="Saving",bl[bl.Saved=2]="Saved",(Sl=Il||(Il={}))[Sl.Self=0]="Self",Sl[Sl.Descendants=1]="Descendants",Sl[Sl.Ancestors=2]="Ancestors";const El=(0,lo.oM)({name:"downloads",initialState:{status:{downloads:{},error:null},creating:{},deleting:{},providerSections:[]},reducers:{providersFetchSucceeded(e,{payload:t}){e.providerSections=t.providerSections},downloadsFetchSucceeded(e,{payload:t}){for(const n of t.items)delete e.status.downloads[n.sourceURI];for(const n of t.downloads)e.status.downloads[n.sourceURI]=n},downloadsFetchFailed(e,{payload:t}){e.status.error=t.error},subscriptionTemplatesFetchRequested(e,t){},subscriptionTemplateChanged(e,{payload:t}){t.template?e.creating[t.sourceURI]={isPending:!1,error:null,template:t.template}:delete e.creating[t.sourceURI]},subscriptionCreateRequested(e,{payload:t}){e.creating[t.sourceURI]={isPending:!0,error:null}},subscriptionCreateSucceeded(e,{payload:t}){delete e.creating[t.sourceURI],e.status.downloads[t.sourceURI]={id:t.id,sourceURI:t.sourceURI,type:t.type,subscription:fl.Subscribing,relation:Il.Self,progress:0}},subscriptionCreateFailed(e,{payload:t}){e.creating[t.sourceURI]={isPending:!1,error:t.error},delete e.status.downloads[t.sourceURI]},subscriptionDeleteRequested(e,{payload:t}){e.deleting[t.sourceURI]={isPending:!0,error:null}},subscriptionDeleteSucceeded(e,{payload:t}){delete e.deleting[t.sourceURI],delete e.status.downloads[t.sourceURI]},subscriptionDeleteFailed(e,{payload:t}){e.deleting[t.sourceURI]={isPending:!1,error:t.error}}},extraReducers:e=>{ae.Z.allowSyncDownload&&(e.addCase(vl.actions.activityUpdated,Ml),e.addCase(vl.actions.activityFinished,Ml),e.addCase(os.Z.actions.deleted,((e,{payload:t})=>{const{mediaProviderID:n,sourceURI:r}=t,i=e.providerSections.find((({id:e})=>n===e));if(!i)return;const{serverIdentifier:a,providerIdentifier:s}=(0,wr.Z)(i.source),{key:o}=(0,wr.Z)(r),l=(0,yn.Z)({serverIdentifier:a,providerIdentifier:s,key:o});delete e.status.downloads[l]})))}}),Pl=(0,fe.P1)(fo,(e=>e.downloads));function Dl(e){const t=(0,v.I0)(),n=(0,g.useMemo)((()=>{return t=e.sourceURI,(0,fe.P1)(Pl,(e=>e.status.downloads[t]));var t}),[e.sourceURI]),r=(0,g.useMemo)((()=>{return t=e.sourceURI,(0,fe.P1)(Pl,(e=>{var n,r;const i=!!(null==(n=e.creating[t])?void 0:n.isPending),a=!!(null==(r=e.deleting[t])?void 0:r.isPending);return i||a}));var t}),[e.sourceURI]),i=(0,v.v9)(n),a=(0,v.v9)(r),s=(null==i?void 0:i.subscription)===fl.Subscribing,o=!!i&&i.relation!==Il.Descendants,l=!i||i.relation===Il.Descendants,c=(null==i?void 0:i.relation)===Il.Self;return{progress:(null==i?void 0:i.progress)||0,isPending:a,isSubscribing:s,isDownloaded:o,canDownload:l,canDeleteDownload:c,onDownload:(0,g.useCallback)((()=>{t(El.actions.subscriptionTemplatesFetchRequested({sourceURI:e.sourceURI,guid:e.guid,useSelected:e.type===ni.pG.Show}))}),[t,e.sourceURI,e.guid,e.type]),onDeleteDownload:(0,g.useCallback)((()=>{i&&t(El.actions.subscriptionDeleteRequested({id:i.id,sourceURI:e.sourceURI}))}),[t,i,e.sourceURI])}}var Cl=n(50930);function wl({className:e,metadataItem:t,isShadowVisible:n=!1}){const{progress:r,isSubscribing:i,isDownloaded:a}=Dl(t);return g.createElement("div",{className:e},a?g.createElement(Cl.Z,{progress:r<100?r:null,showShadow:n,showIndeterminate:i}):null)}function Zl(e,t){if(!e)throw new Error(t)}var Tl=n(57358),Nl=n(73862),Ol=n(34007),Al=n(91135);function xl({containerServer:e,containerProvider:t,server:n,provider:r,metadataItem:i,metadataItemState:a,metricsPage:s,metricsContextTuple:o}){const l=(0,v.I0)();return(0,g.useCallback)((c=>{l((0,Nl.redispatchLegacyMetadataAction)({server:e,provider:t,itemServer:n,itemProvider:r,metadataItem:i,metadataItemState:a,metricsPage:s,metricsProperties:{contextTuple:o},legacyAction:c}))}),[t,e,l,i,a,o,s,r,n])}function jl(e,t,n){var r;if(_o(e)){const{beginsAt:t,endsAt:n}=null!=(r=ea(e))?r:{},i=Math.floor(Date.now()/1e3);return t&&n&&i>=t&&i<n?(0,Ce.Z)("Watch Now"):(0,Ce.Z)("Watch Channel")}return t.viewOffset||n.viewOffset?(0,Ce.Z)("Resume"):e.onDeck&&t.viewedLeafCount&&t.unviewedLeafCount?(0,Ce.Z)("Next Episode"):(0,Ce.Z)("Play")}var Ll=n(80913);const kl={playButton:"PlayButton-playButton-3g-Gk- Link-link-2WGTd7",playCircle:"PlayButton-playCircle-2hG_PH"};var Rl=Object.defineProperty,zl=Object.prototype.hasOwnProperty,Ul=Object.getOwnPropertySymbols,Vl=Object.prototype.propertyIsEnumerable,Bl=(e,t,n)=>t in e?Rl(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Fl=(e,t)=>{for(var n in t||(t={}))zl.call(t,n)&&Bl(e,n,t[n]);if(Ul)for(var n of Ul(t))Vl.call(t,n)&&Bl(e,n,t[n]);return e};function _l(e){var t=e,{className:n=kl.playButton,circleClassName:r=kl.playCircle}=t,i=((e,t)=>{var n={};for(var r in e)zl.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&Ul)for(var r of Ul(e))t.indexOf(r)<0&&Vl.call(e,r)&&(n[r]=e[r]);return n})(t,["className","circleClassName"]);return g.createElement(vr,Fl(Fl({},i),{className:n}),g.createElement(Ll.Z,{className:r}))}var Hl=Object.defineProperty,Ql=Object.prototype.hasOwnProperty,Gl=Object.getOwnPropertySymbols,Wl=Object.prototype.propertyIsEnumerable,Yl=(e,t,n)=>t in e?Hl(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Kl=(e,t)=>{for(var n in t||(t={}))Ql.call(t,n)&&Yl(e,n,t[n]);if(Gl)for(var n of Gl(t))Wl.call(t,n)&&Yl(e,n,t[n]);return e};function ql(e){var t,n=e,{metadataItem:r}=n,i=((e,t)=>{var n={};for(var r in e)Ql.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&Gl)for(var r of Gl(e))t.indexOf(r)<0&&Wl.call(e,r)&&(n[r]=e[r]);return n})(n,["metadataItem"]);const[a,s]=Hn(),{containerServer:o,containerProvider:l,containerKey:c,containerType:d}=Or(),{metricsPage:u,metricsContextTuple:p}=(0,Jt.Zn)(),m=ei(r.sourceURI),h=ei(null==(t=r.onDeck)?void 0:t.sourceURI),y=(0,v.I0)(),f=xl({containerServer:o,containerProvider:l,server:a,provider:s,metadataItem:r,metadataItemState:m,metricsPage:u,metricsContextTuple:p}),b=gs(r),I=(0,g.useCallback)((()=>{b({action:ss.NH}),f(vt.wA({options:{containerKey:c,listType:d}}))}),[c,d,f,b]),S=(0,g.useCallback)((()=>{b({action:ss.NH});const e=ea(r);y(Ol.lS({serverEntityID:a.entityID,providerEntityID:s.entityID,metricsPage:u,metricsContext:p,options:{containerKey:c,containerType:d,type:Al.pX,identifier:e.channelIdentifier}}))}),[y,c,d,a,s,r,u,p,b]),M=(0,g.useCallback)((()=>{b({action:ss.cO}),f(vt.Em())}),[f,b]),E=(0,g.useMemo)((()=>_o(r)?S:r.type===ni.pG.Artist?M:I),[r,S,I,M]);return g.createElement(_l,Kl(Kl({},i),{"aria-label":jl(r,m,h),onPress:E}))}var $l=n(11203),Jl=n(89984),Xl=n(74287),ec=n(14700),tc=n(68105),nc=n(96508),rc=n(9119),ic=n(60528),ac=n(30426),sc=n(3386);const oc=(0,fe.P1)(xn.Z,Cn.Z,((e,t)=>e.filter((e=>e.isFullOwnedServer&&e.isConnected&&!e.isOutOfDate&&e.ownerFeatures.includes(bn.Ao))).reduce(((e,n)=>{var r;const i=n.providers.map((e=>t[e])).find((e=>e.identifier===Fo.Y3));if(!i)return e;const a=(0,sc.Z)(i),s=null!=(r=null==a?void 0:a.directories)?r:[],o={machineIdentifier:n.machineIdentifier,providerIdentifier:i.identifier,serverFriendlyName:n.friendlyName,targetLibraries:[]};return s.forEach((e=>{e.type===ni.pG.Artist&&o.targetLibraries.push({libraryTitle:e.title,libraryType:e.type,librarySectionID:e.id})}),[]),o.targetLibraries.length&&e.push(o),e}),[])));function lc({children:e,targetMachineIdentifier:t,targetProviderIdentifier:n,targetLibrary:r,onAddToLibrary:i}){const a=(0,v.v9)(Fn(t)),s=(0,v.v9)(kn(t,n)),o=(0,g.useCallback)((()=>{i({targetServer:a,targetProvider:s,targetLibrarySectionID:r.librarySectionID,targetLibraryType:r.libraryType})}),[i,r,s,a]);return g.createElement(ec.Z,{onPress:o},e)}function cc({onAddToLibrary:e}){const t=(0,v.v9)(oc);if(!t.length)return null;if(1===t.length&&1===t[0].targetLibraries.length){const n=t[0];return g.createElement(lc,{targetMachineIdentifier:n.machineIdentifier,targetProviderIdentifier:n.providerIdentifier,targetLibrary:n.targetLibraries[0],onAddToLibrary:e},(0,Ce.Z)("Add to {serverName}",{serverName:n.serverFriendlyName}))}return g.createElement(nc.Z,{label:(0,Ce.Z)("Add to Library")},t.map((t=>g.createElement(g.Fragment,{key:`${t.machineIdentifier}:${t.providerIdentifier}`},g.createElement(ac.Z,null,t.serverFriendlyName),t.targetLibraries.map((n=>g.createElement(lc,{key:n.librarySectionID,targetMachineIdentifier:t.machineIdentifier,targetProviderIdentifier:t.providerIdentifier,targetLibrary:n,onAddToLibrary:e},(0,Ce.Z)("Add to {libraryName}",{libraryName:n.libraryTitle}))))))))}var dc=Object.defineProperty,uc=Object.prototype.hasOwnProperty,pc=Object.getOwnPropertySymbols,mc=Object.prototype.propertyIsEnumerable,hc=(e,t,n)=>t in e?dc(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,gc=(e,t)=>{for(var n in t||(t={}))uc.call(t,n)&&hc(e,n,t[n]);if(pc)for(var n of pc(t))mc.call(t,n)&&hc(e,n,t[n]);return e};function yc({className:e,style:t,children:n,forwardedRef:r,isOpen:i=!0,closeDelayMilliseconds:a=0,allowInteractionEventBubbling:s=!1,onOpen:o,onClose:l}){const[c,d]=(0,g.useState)(i),u=(0,g.useCallback)((e=>{s||e.stopPropagation()}),[s]);return(0,g.useEffect)((()=>{let e;return i?(d(!0),null==o||o()):e=window.setTimeout((()=>{d(!1),null==l||l()}),a),()=>{e&&window.clearTimeout(e)}}),[a,i,l,o]),c?y.createPortal(g.createElement("div",{className:e,style:t,ref:r,onTouchStart:u,onTouchMove:u,onTouchEnd:u,onTouchCancel:u,onMouseDown:u,onMouseUp:u,onClick:u,onFocus:u,onBlur:u},n),document.body):null}const vc=g.forwardRef(((e,t)=>g.createElement(yc,gc(gc({},e),{forwardedRef:t}))));function fc({metadataItem:e,downloadIFrameName:t,onMenuClose:n,onDownloadVersionPress:r,onDownloadFilePress:i}){var a;const[s]=Hn(),o=(0,No.Z)(),l=1===(null==(a=e.Media)?void 0:a.length)?function(e,t){var n;if(!(null==(n=t.Part)?void 0:n.length))return;const r=t.Part[0];return E.Z.join([e.uri,r.key],{download:1,"X-Plex-Token":e.accessToken})}(s,e.Media[0]):null,c=(0,g.useCallback)((()=>{l?(null==i||i(),n()):r()}),[l,i,r,n]);return g.createElement(g.Fragment,null,g.createElement(ec.Z,{to:l,target:t||o,onPress:c},(0,Ce.Z)("Download File")),t?null:g.createElement(vc,null,g.createElement("iframe",{name:o,style:{display:"none"}})))}var bc=n(40807);function Ic({server:e,provider:t,metadataItem:n,metadataItemState:r}){const i=(0,v.I0)();return(0,g.useCallback)((a=>{i((0,Nl.redispatchLegacyMetadataAction)({server:e,provider:t,metadataItem:n,metadataItemState:r,legacyAction:a}))}),[i,n,r,t,e])}function Sc({metadataItem:e,metadataItemState:t,children:n}){const[r,i]=Hn(),a=(0,v.I0)(),s=Ic({server:r,provider:i,metadataItem:e,metadataItemState:t}),o=(0,vn.Z)(Mn.TY,e.key,r.entityID),l=(0,v.v9)((e=>e.entities[Mn.TY][o])),c=(0,g.useMemo)((()=>(0,bc.Z)(`${o}_NO_OP`)),[o]),[d,u]=(0,g.useState)(!1),p=(0,g.useCallback)((()=>{a(os.Z.actions.repopulateRequested({sourceURI:e.sourceURI}))}),[a,e.sourceURI]);return(0,g.useEffect)((()=>{(0,fn.c9)((()=>{s(c())})),u(!0)}),[s,c]),g.createElement(g.Fragment,null,d&&l?n({serverEntityID:r.entityID,providerEntityID:i.entityID,metadataItemEntityID:o,onMarkStale:p}):null)}var Mc=n(1088);const Ec=function(e){const t=[];if(e.bitrate&&t.push((0,fa.Z)(e.bitrate)),e.videoResolution){const n=(0,Mc.Z)(e),r=n?n.scanType:null;t.push((0,Bs.Z)(e.videoResolution,r))}return{title:e.title,info:t.join(", ")}};var Pc=n(34377),Dc=n(36245);function Cc({isOpen:e,mediaItems:t,onSelect:n,onCancel:r}){return g.createElement(Pc.Z,{isOpen:e,title:(0,Ce.Z)("Play Version"),metricsPage:pt.DV,onItemSelect:n,onCancel:r},t.map(((e,t)=>{const{title:n,info:r}=Ec(e),i=!!n,a=!!(null==r?void 0:r.length);return g.createElement(Dc.Z,{key:t,value:t},i?e.title:null,i&&a?g.createElement(rs.Z,null):null,a?r:null,i||a?null:(0,Ce.Z)("Unknown"))})))}var wc=n(61478);function Zc(e,t,n){return n===wc.PODCAST?t?(0,Ce.Z)("Remove from My Podcasts"):(0,Ce.Z)("Add to My Podcasts"):Fo.wB(e,Fo.xF)?t?(0,Ce.Z)("Remove from My TIDAL"):(0,Ce.Z)("Add to My TIDAL"):t?(0,Ce.Z)("Remove from My Shows"):(0,Ce.Z)("Add to My Shows")}var Tc=n(94803),Nc=n(90296),Oc=n(34796),Ac=n(69881),xc=n(57721);function jc(e,t){var n;const r=e.features.find((e=>e.type===$t.zW.Actions));return null==(n=null==r?void 0:r.actions)?void 0:n.find((e=>e.id===t))}function Lc(e){return Fo.wB((0,Ho.Z)(e.identifier,e.providerIdentifier),Fo.Y3)}const kc={[ni.pG.Movie]:["isAddToCollectionVisible","isAddToPlaylistVisible","isAddToWatchlistVisible","isAnalyzeVisible","isDeleteVersionVisible","isDeleteVisible","isDownloadFileVisible","isEditVisible","isFixMatchVisible","isGetInfoVisible","isMarkPlayedVisible","isMarkUnplayedVisible","isMatchVisible","isOptimizeVisible","isPlayTrailerVisible","isPlayVersionVisible","isPlayVisible","isQueueVisible","isRateVisible","isRecordVisible","isRefreshVisible","isRemoveFromContinueWatchingVisible","isRemoveFromCuratedListVisible","isRemoveFromWatchlistVisible","isShareVisible","isSplitApartVisible","isSyncDownloadVisible","isSyncVisible","isUnmatchVisible","isViewPlayHistoryVisible","isWatchTogetherVisible"],[ni.pG.Show]:["isAddToCollectionVisible","isAddToPicksVisible","isAddToPlaylistVisible","isAddToSavedVisible","isAddToWatchlistVisible","isAnalyzeVisible","isDeleteVisible","isEditVisible","isFixMatchVisible","isMarkPlayedVisible","isMarkUnplayedVisible","isMatchVisible","isOptimizeVisible","isPlayAllVisible","isPlayTrailerVisible","isPlayVisible","isQueueVisible","isRateVisible","isRecordVisible","isRefreshVisible","isRemoveFromCuratedListVisible","isRemoveFromSavedVisible","isRemoveFromWatchlistVisible","isSettingsVisible","isShareVisible","isShuffleVisible","isSplitApartVisible","isSyncDownloadVisible","isSyncVisible","isUnmatchVisible","isViewPlayHistoryVisible"],[ni.pG.Season]:["isAddToCollectionVisible","isAddToPlaylistVisible","isAnalyzeVisible","isDeleteVisible","isEditVisible","isMarkPlayedVisible","isMarkUnplayedVisible","isOptimizeVisible","isPlayAllVisible","isPlayVisible","isQueueVisible","isRateVisible","isRemoveFromCuratedListVisible","isShareVisible","isShuffleVisible","isSyncDownloadVisible","isSyncVisible","isViewPlayHistoryVisible"],[ni.pG.Episode]:["isAddToCollectionVisible","isAddToPlaylistVisible","isAnalyzeVisible","isDeleteVersionVisible","isDeleteVisible","isDownloadFileVisible","isEditVisible","isGetInfoVisible","isMarkPlayedVisible","isMarkUnplayedVisible","isOptimizeVisible","isPlayVersionVisible","isPlayVisible","isQueueVisible","isRateVisible","isRecordVisible","isRefreshVisible","isRemoveFromContinueWatchingVisible","isRemoveFromCuratedListVisible","isShareVisible","isSyncDownloadVisible","isSyncVisible","isViewPlayHistoryVisible","isWatchTogetherVisible"],[ni.pG.Artist]:["isAddToCollectionVisible","isAddToLibraryVisible","isAddToPlaylistVisible","isAddToSavedVisible","isAnalyzeVisible","isDeleteVisible","isEditVisible","isFixMatchVisible","isMatchVisible","isPlayAllVisible","isPlayArtistTVVisible","isPlayRadioVisible","isPlayVisible","isQueueVisible","isRateVisible","isRefreshVisible","isRemoveFromCuratedListVisible","isRemoveFromSavedVisible","isShareVisible","isSplitApartVisible","isSyncDownloadVisible","isSyncVisible","isUnmatchVisible","isViewPlayHistoryVisible"],[ni.pG.Album]:["isAddToCollectionVisible","isAddToLibraryVisible","isAddToPicksVisible","isAddToPlaylistVisible","isAddToSavedVisible","isAnalyzeVisible","isDeleteVisible","isEditVisible","isFixMatchVisible","isMatchVisible","isPlayVisible","isQueueVisible","isRateVisible","isRefreshVisible","isRemoveFromCuratedListVisible","isRemoveFromSavedVisible","isShareVisible","isShuffleVisible","isSplitApartVisible","isSyncDownloadVisible","isSyncVisible","isUnmatchVisible","isViewPlayHistoryVisible"],[ni.pG.Track]:["isAddToCollectionVisible","isAddToLibraryVisible","isAddToPlaylistVisible","isAddToSavedVisible","isAnalyzeVisible","isDeleteVisible","isDownloadFileVisible","isEditVisible","isGetInfoVisible","isMarkPlayedVisible","isMarkUnplayedVisible","isPlayMusicVideoVisible","isPlayVisible","isQueueVisible","isRateVisible","isRemoveFromCuratedListVisible","isRemoveFromSavedVisible","isShareVisible","isSyncDownloadVisible","isSyncVisible","isViewPlayHistoryVisible"],[ni.pG.PhotoAlbum]:["isAddToPlaylistVisible","isAnalyzeVisible","isEditVisible","isPlayVisible","isShareVisible","isShuffleVisible","isSyncVisible"],[ni.pG.Photo]:["isAddToPlaylistVisible","isAnalyzeVisible","isDeleteVisible","isDownloadFileVisible","isEditVisible","isFavoriteVisible","isGetInfoVisible","isPlayVisible","isShareVisible","isSyncVisible","isUnfavoriteVisible"],[ni.pG.Clip]:["isAddToPlaylistVisible","isAddToSavedVisible","isAnalyzeVisible","isDeleteVersionVisible","isDeleteVisible","isDownloadFileVisible","isEditVisible","isFixMatchVisible","isGetInfoVisible","isMarkPlayedVisible","isMarkUnplayedVisible","isMatchVisible","isOptimizeVisible","isPlayTrailerVisible","isPlayVersionVisible","isPlayVisible","isQueueVisible","isRateVisible","isRefreshVisible","isRemoveFromSavedVisible","isShareVisible","isSplitApartVisible","isSyncDownloadVisible","isSyncVisible","isUnmatchVisible","isViewPlayHistoryVisible","isWatchTogetherVisible"],[ni.pG.Playlist]:["isAddToSavedVisible","isDeleteVisible","isEditFiltersVisible","isEditVisible","isPlayVisible","isQueueVisible","isRemoveFromSavedVisible","isShareVisible","isShuffleVisible","isSyncDownloadVisible","isSyncVisible"],[ni.pG.Collection]:["isAddToPlaylistVisible","isDeleteVisible","isEditFiltersVisible","isEditVisible","isPlayVisible","isPublishVisible","isQueueVisible","isRateVisible","isShuffleVisible","isSyncVisible"],[ni.pG.Game]:["isPlayVisible","isPlayVersionVisible","isRateVisible","isMarkPlayedVisible","isMarkUnplayedVisible","isEditVisible","isRefreshVisible","isAnalyzeVisible","isFixMatchVisible","isUnmatchVisible","isDeleteVisible","isGetInfoVisible"]};function Rc(e,t){return!!(0,Pn.Z)(e,t)}function zc(e,t){return!!jc(e,t)}function Uc(e){var t;return null!=(t=null==e?void 0:e.isExtra)&&t&&function(e){const t=e.Media;return!!(null==t?void 0:t.some((e=>e.premium)))}(e)}function Vc(e,t){return e.type!==ni.pG.Game&&!Uc(e)&&!t.isEmbedded}const Bc=({server:e,provider:t,stableUser:n,metadataItem:r})=>function(e,t,n,r){const{isFolder:i,Media:a}=r;if((0,Pn.Z)(t,$t.zW.PlayQueue))return!i;const s=!!n.features[bn.Ks];return!(!t.protocols.includes($t.rn.LiveTV)||!(e.livetv&&4===e.livetv||s)||!(null==a?void 0:a.length))}(e,t,n,r),Fc=({metadataItem:e})=>!!e.primaryExtraKey,_c=({server:e,provider:t,stableUser:n,metadataItem:r})=>{if(!t)return!1;const i=(0,Pn.Z)(t,$t.zW.Playlist);return!(!i||!(0,xc.d)(n,i))&&Vc(r,e)},Hc=({server:e,provider:t,metadataItem:n})=>!(!Rc(t,$t.zW.Collection)||!Rc(t,$t.zW.Manage))&&!!n.librarySectionID&&Vc(n,e),Qc=({provider:e,stableUser:t,metadataItemState:n})=>{const r=jc(e,$t.rf.Save);return!!(r&&(0,xc.d)(t,r)&&n.isPopulated)},Gc=({provider:e,stableUser:t,metadataItemState:n})=>{const r=jc(e,$t.rf.AddToWatchlist);return!!(r&&(0,xc.d)(t,r)&&n.isPopulated)},Wc=({provider:e,stableUser:t,metadataItem:n})=>{if(!e)return!1;const r=n.type===ni.pG.Track||n.type===ni.pG.Album||n.type===ni.pG.Artist,i=Fo.wB(e.identifier,Fo.xF),a=!!t.features[bn.Ao],s=(0,xc.d)(t,{requires:Nc.s});return r&&i&&a&&s};function Yc({provider:e,metadataItem:t,metadataItemState:n}){return!(!zc(e,$t.rf.Rate)||(0,Ac.isDirectoryType)(t.type)||t.isFolder||!n.isPopulated)}const Kc=({provider:e,metadataItem:t})=>{const n=(0,Pn.Z)(e,$t.zW.Subscribe);return _o(t)&&!!n},qc=({server:e,provider:t,metadataItem:n,metadataItemState:r})=>!!jc(t,$t.rf.Rate)&&!n.isFolder&&r.isPopulated&&!e.isEmbedded,$c=({provider:e,metadataItem:t,metadataItemState:n})=>{const r=jc(e,$t.rf.Scrobble);return!(!r||!r.key||e.protocols.includes($t.rn.LiveTV)||t.type===ni.pG.Track&&t.subtype!==ni.y_.Podcast||!n.isPopulated||null!=n.saved&&!n.saved&&!n.viewOffset||t.isExtra)&&((0,Ac.isParentType)(t.type)?!!n.unviewedLeafCount&&n.unviewedLeafCount>0:!n.viewCount||!!n.viewOffset)},Jc=({provider:e,metadataItem:t,metadataItemState:n})=>{const r=jc(e,$t.rf.Scrobble);return!(!r||!r.reverseKey||e.protocols.includes($t.rn.LiveTV)||t.type===ni.pG.Track&&t.subtype!==ni.y_.Podcast||!n.isPopulated||null!=n.saved&&!n.saved||t.isExtra)&&((0,Ac.isParentType)(t.type)?!!n.viewedLeafCount&&n.viewedLeafCount>0:!!n.viewCount||!!n.viewOffset)},Xc=({provider:e,metadataItem:t})=>{const{isExtra:n,isFolder:r,radio:i,readOnly:a}=t,s=!n&&!r&&!i;return t.isPlaylist||t.type===ni.pG.Collection?!a:Rc(e,$t.zW.Manage)&&s},ed=({server:e,provider:t,stableUser:n,metadataItem:r,metadataItemState:i})=>Xc({server:e,provider:t,stableUser:n,metadataItem:r,metadataItemState:i}),td=({server:e,provider:t,stableUser:n,metadataItem:r,metadataItemState:i})=>!r.indirect&&!r.remoteMedia&&Xc({server:e,provider:t,stableUser:n,metadataItem:r,metadataItemState:i}),nd=({server:e,provider:t,stableUser:n,metadataItem:r,metadataItemState:i})=>!!Xc({server:e,provider:t,stableUser:n,metadataItem:r,metadataItemState:i})&&!(!r.guid||/(local|none):\/\//.test(r.guid)),rd=({server:e,provider:t,stableUser:n,metadataItem:r,metadataItemState:i})=>!!Xc({server:e,provider:t,stableUser:n,metadataItem:r,metadataItemState:i})&&r.type!==ni.pG.Game&&!(r.remoteMedia||!e.transcoderVideo||!e.backgroundProcessing),id=({server:e,provider:t,stableUser:n,metadataItem:r,metadataItemState:i})=>!!Xc({server:e,provider:t,stableUser:n,metadataItem:r,metadataItemState:i})&&!!(r.isPlaylist||r.type===ni.pG.Collection||r.remoteMedia||e.allowMediaDeletion),ad={isAddToCollectionVisible:Hc,isAddToLibraryVisible:Wc,isAddToPicksVisible:({provider:e,stableUser:t})=>!(!t.features[bn.Ah]||!zc(e,$t.rf.Pick)),isAddToPlaylistVisible:_c,isAddToSavedVisible:e=>Qc(e)&&!1===e.metadataItemState.saved,isAddToWatchlistVisible:e=>Gc(e)&&!e.metadataItemState.watchlistedAt,isAnalyzeVisible:td,isDeleteVersionVisible:({server:e,provider:t,stableUser:n,metadataItem:r,metadataItemState:i})=>{var a;if(!Xc({server:e,provider:t,stableUser:n,metadataItem:r,metadataItemState:i}))return!1;if(!e.allowMediaDeletion)return!1;const s=null==(a=r.Media)?void 0:a.filter((e=>!!e.proxyType));return!!(null==s?void 0:s.length)},isDeleteVisible:id,isDownloadFileVisible:({provider:e,metadataItem:t})=>!(!ae.Z.allowDirectDownload||!e.protocols.includes($t.rn.Download)||t.isExtra||t.remoteMedia),isEditFiltersVisible:({server:e,provider:t,stableUser:n,metadataItem:r,metadataItemState:i})=>!!Xc({server:e,provider:t,stableUser:n,metadataItem:r,metadataItemState:i})&&!!r.smart,isEditVisible:Xc,isFavoriteVisible:({provider:e,stableUser:t,metadataItem:n,metadataItemState:r})=>Yc({provider:e,stableUser:t,metadataItem:n,metadataItemState:r})&&!(0,Oc.ZP)(r),isFixMatchVisible:nd,isGetInfoVisible:({provider:e,metadataItem:t})=>!!e&&Lc(e)&&!t.isExtra&&!t.indirect,isMarkPlayedVisible:$c,isMarkUnplayedVisible:Jc,isMatchVisible:({server:e,provider:t,stableUser:n,metadataItem:r,metadataItemState:i})=>!!Xc({server:e,provider:t,stableUser:n,metadataItem:r,metadataItemState:i})&&!!r.guid&&!nd({server:e,provider:t,stableUser:n,metadataItem:r,metadataItemState:i}),isOptimizeVisible:rd,isPlayAllVisible:({server:e,provider:t,stableUser:n,metadataItem:r,metadataItemState:i})=>!(!Bc({server:e,provider:t,stableUser:n,metadataItem:r,metadataItemState:i})||r.type!==ni.pG.Artist&&(!r.onDeck||!i.viewedLeafCount)),isPlayArtistTVVisible:({metadataItem:e})=>function(e){return!!e.stations&&e.stations.some((e=>e.playlistType===ni.DD.Video))}(e),isPlayMusicVideoVisible:Fc,isPlayRadioVisible:({metadataItem:e})=>function(e){return!!e.stations&&e.stations.some((e=>e.playlistType===ni.DD.Audio))}(e),isPlayTrailerVisible:Fc,isPlayVersionVisible:({server:e,provider:t,stableUser:n,metadataItem:r,metadataItemState:i})=>!!Bc({server:e,provider:t,stableUser:n,metadataItem:r,metadataItemState:i})&&Lc(t)&&!!r.Media&&r.Media.length>1,isPlayVisible:Bc,isPublishVisible:({server:e,provider:t})=>!!e.ownerFeatures.includes(bn.DI)&&Rc(t,$t.zW.Manage),isQueueVisible:({server:e,provider:t,stableUser:n,metadataItem:r,metadataItemState:i})=>Bc({server:e,provider:t,stableUser:n,metadataItem:r,metadataItemState:i})&&Rc(t,$t.zW.PlayQueue)&&!Uc(r),isRateVisible:qc,isRecordVisible:Kc,isRefreshVisible:ed,isRemoveFromContinueWatchingVisible:e=>{const t=!!e.stableUser.features[bn.eT],n=jc(e.provider,$t.rf.RemoveFromContinueWatching);return t&&!!n},isRemoveFromCuratedListVisible:({provider:e,containerType:t})=>!(!Rc(e,$t.zW.Collection)||!Rc(e,$t.zW.Manage))&&t===ni.pG.Collection,isRemoveFromSavedVisible:e=>Qc(e)&&!0===e.metadataItemState.saved,isRemoveFromWatchlistVisible:e=>Gc(e)&&!!e.metadataItemState.watchlistedAt,isSettingsVisible:({provider:e,metadataItemState:t})=>!Rc(e,$t.zW.Manage)&&t.isPopulated&&null!=t.preferences,isShareVisible:({server:e,provider:t,metadataItem:n})=>Lc(t)&&e.isFullOwnedServer&&!n.isExtra&&!n.remoteMedia,isShuffleVisible:({server:e,provider:t,stableUser:n,metadataItem:r,metadataItemState:i})=>!r.radio&&Bc({server:e,provider:t,stableUser:n,metadataItem:r,metadataItemState:i})&&Rc(t,$t.zW.PlayQueue),isSplitApartVisible:({server:e,provider:t,stableUser:n,metadataItem:r,metadataItemState:i})=>{var a;if(!Xc({server:e,provider:t,stableUser:n,metadataItem:r,metadataItemState:i}))return!1;let s;return s=(0,Ac.isParentType)(r.type)?r.Location:null==(a=r.Media)?void 0:a.filter((e=>!e.proxyType)),!!s&&s.length>1},isSyncDownloadVisible:({server:e,provider:t,metadataItem:n,stableUser:r})=>{if(!ae.Z.allowSyncDownload)return!1;if(!t)return!1;if(!Fo.QN.includes(t.identifier))return!1;if(n.isPlaylist&&n.playlistType===ni.DD.Photo)return!1;if(!n.hasOwnProperty("guid"))return!1;if(n.remoteMedia)return!1;const i=(0,Pn.Z)(t,$t.zW.Subscribe),a=(null==i?void 0:i.flavor)===Tc.HN&&!!r.features[bn.PL];return Lc(t)?e.allowSync&&a:a},isSyncVisible:({server:e,provider:t,stableUser:n,metadataItem:r})=>{if(!ae.Z.allowSync)return!1;if(!Lc(t))return!1;if(n.features[bn.PL])return!1;const{isExtra:i,remoteMedia:a}=r;return!i&&!a&&!(!e.allowSync||!r.allowSync)},isUnfavoriteVisible:({provider:e,stableUser:t,metadataItem:n,metadataItemState:r})=>Yc({provider:e,stableUser:t,metadataItem:n,metadataItemState:r})&&(0,Oc.ZP)(r),isUnmatchVisible:({server:e,provider:t,stableUser:n,metadataItem:r,metadataItemState:i})=>nd({server:e,provider:t,stableUser:n,metadataItem:r,metadataItemState:i}),isViewPlayHistoryVisible:({server:e,provider:t,metadataItem:n})=>Lc(t)&&e.isFullOwnedServer&&!e.isEmbedded&&!n.isExtra,isWatchTogetherVisible:({provider:e,stableUser:t,metadataItem:n})=>{const r=!!t.features[bn.Bs],i=Fo.wB(e.identifier,[Fo.Y3,Fo.uk]);return r&&i&&!n.isExtra}};function sd({server:e,provider:t,stableUser:n,containerType:r,containerSubtype:i,metadataItem:a,metadataItemState:s}){const o=kc[a.type];return o?o.reduce(((o,l)=>{const c=ad[l];return o[l]=!!(e&&t&&a)&&c({server:e,provider:t,stableUser:n,containerType:r,containerSubtype:i,metadataItem:a,metadataItemState:s}),o}),{}):{}}function od(e,t){switch(t){case ni.y_.Podcast:switch(e){case ni.pG.Show:return ni.pG.Track}}switch(e){case ni.pG.Show:return ni.pG.Season;case ni.pG.Season:return ni.pG.Episode;case ni.pG.Artist:return ni.pG.Album;case ni.pG.Album:return ni.pG.Track;case ni.pG.PhotoAlbum:return ni.pG.Photo;case ni.pG.Collection:switch(t){case ni.y_.Movie:return ni.pG.Movie;case ni.y_.Show:return ni.pG.Show;case ni.y_.Season:return ni.pG.Season;case ni.y_.Episode:return ni.pG.Episode;case ni.y_.Artist:return ni.pG.Artist;case ni.y_.Album:return ni.pG.Album;case ni.y_.Track:return ni.pG.Track}}}function ld(e,t){switch(t){case ni.y_.Podcast:switch(e){case ni.pG.Show:return ni.pG.Track}}switch(e){case ni.pG.Show:case ni.pG.Season:return ni.pG.Episode;case ni.pG.Artist:case ni.pG.Album:return ni.pG.Track;case ni.pG.PhotoAlbum:return ni.pG.Photo;case ni.pG.Collection:switch(t){case ni.y_.Movie:return ni.pG.Movie;case ni.y_.Show:case ni.y_.Season:case ni.y_.Episode:return ni.pG.Episode;case ni.y_.Artist:case ni.y_.Album:case ni.y_.Track:return ni.pG.Track}}}var cd,dd,ud,pd;function md(e,t){let n=e[t];return n||(n={},e[t]=n),n}(dd=cd||(cd={})).Queued="queued",dd.Matching="matching",dd.Processing="processing",dd.Loading="loading",(pd=ud||(ud={})).Analyzing="analyzing",pd.Thumbnailing="thumbnailing";const hd=(0,lo.oM)({name:"metadataTimelineState",initialState:{},reducers:{metadataRefreshRequested(e,{payload:t}){const n=md(e,t.sourceURI);n.metadataState||(n.metadataState=cd.Queued)},metadataRefreshFailed(e,{payload:t}){const n=md(e,t.sourceURI);(null==n?void 0:n.mediaState)?n.metadataState=void 0:delete e[t.sourceURI]},mediaAnalysisRequested(e,{payload:t}){if(!t.hasChildren){const n=md(e,t.sourceURI);n.mediaState||(n.mediaState=ud.Analyzing)}},mediaAnalysisFailed(e,{payload:t}){const n=md(e,t.sourceURI);(null==n?void 0:n.metadataState)?n.mediaState=void 0:delete e[t.sourceURI]},timelineStatesChanged(e,{payload:t}){const n=md(e,t.sourceURI);t.metadataState||t.mediaState?(n.metadataState=t.metadataState,n.mediaState=t.mediaState):delete e[t.sourceURI]}}});var gd=n(46905),yd=n(8183);const vd={queryParse:{query:void 0,isPending:!1,isPopulated:!1,error:null},curatedItem:{item:void 0,isPending:!1,isPopulated:!1,error:null},filterOptions:{}},fd=(0,lo.oM)({name:"advancedFilters",initialState:vd,reducers:{reset:()=>vd,updateQuery(e,{payload:t}){e.queryParse.query&&(e.queryParse.query.Rule=t.rules)},fetchQueryRequested(e,t){(0,yd.er)(e.queryParse)},fetchQuerySucceeded(e,{payload:t}){(0,yd.vv)(e.queryParse),e.queryParse.query=t.query},fetchQueryFailed(e,{payload:t}){(0,yd.VQ)(e.queryParse,t.error)},fetchFilterOptionsRequested(e,{payload:t}){const n=t.filter;e.filterOptions[n.key]||(e.filterOptions[n.key]={isPending:!1,isPopulated:!1,error:null,options:[]}),(0,yd.er)(e.filterOptions[n.key])},fetchFilterOptionsSucceeded(e,{payload:t}){const n=t.filter;(0,yd.vv)(e.filterOptions[n.key]),e.filterOptions[n.key].options=t.filterOptions},fetchFilterOptionsFailed(e,{payload:t}){const n=t.filter;(0,yd.VQ)(e.filterOptions[n.key],t.error)},fetchCuratedRequested(e,t){(0,yd.er)(e.curatedItem)},fetchCuratedSucceeded(e,{payload:t}){e.curatedItem.item=t.curatedItem,(0,yd.vv)(e.curatedItem)},fetchCuratedFailed(e,{payload:t}){(0,yd.VQ)(e.curatedItem,t.error)},editFiltersRequested(e,t){}}});var bd=n(51337);function Id(e,t,n,r){var i;if(!r)return;const a=decodeURIComponent(r).match(/\/library\/sections\/(\w+)\/.*/);if(!a)return;const[s,o]=a,l=(0,bd.Z)(t,o);if(!l||!l.pivots)return;const c=l.pivots.find((e=>"library"===e.id||l.key&&e.key.includes(l.key)));return c?["media",{machineIdentifier:e.machineIdentifier,providerIdentifier:t.identifier},{source:l.id,pivot:null!=(i=c.id)?i:c.key,key:s,curatedKey:n,advancedFilters:1}]:void 0}var Sd=n(42283);const Md={button:"SpinnerButton-button-1CCIvZ Button-button-1q7C1V Link-link-2WGTd7",spinnerContainer:"SpinnerButton-spinnerContainer-CeEPyV",spinner:"SpinnerButton-spinner-Xia4yg Spinner-spinner-CSMaLA spin-spin-34xiUE",label:"SpinnerButton-label-19yGUw",isSpinning:"SpinnerButton-isSpinning-3Ulf1A"};var Ed=Object.defineProperty,Pd=Object.prototype.hasOwnProperty,Dd=Object.getOwnPropertySymbols,Cd=Object.prototype.propertyIsEnumerable,wd=(e,t,n)=>t in e?Ed(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;function Zd(e){var t=e,{className:n=Md.button,spinnerSize:r=st.Small,isDisabled:i=!1,isSpinning:a=!1,children:s}=t,o=((e,t)=>{var n={};for(var r in e)Pd.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&Dd)for(var r of Dd(e))t.indexOf(r)<0&&Cd.call(e,r)&&(n[r]=e[r]);return n})(t,["className","spinnerSize","isDisabled","isSpinning","children"]);return g.createElement(Dr,((e,t)=>{for(var n in t||(t={}))Pd.call(t,n)&&wd(e,n,t[n]);if(Dd)for(var n of Dd(t))Cd.call(t,n)&&wd(e,n,t[n]);return e})({className:Te()(n,a&&Md.isSpinning),isDisabled:i||a},o),g.createElement("span",{className:Md.spinnerContainer},g.createElement(lt,{className:Md.spinner,size:r})),g.createElement("span",{className:Md.label},s))}const Td={input:"TextInput-input-2FGxDj",small:"TextInput-small-HOJY2T",medium:"TextInput-medium-2CTdgu",large:"TextInput-large-2pF07V",isDisabled:"TextInput-isDisabled-2Sh2dy",hasError:"TextInput-hasError-21Dj3_"};var Nd=Object.defineProperty,Od=Object.prototype.hasOwnProperty,Ad=Object.getOwnPropertySymbols,xd=Object.prototype.propertyIsEnumerable,jd=(e,t,n)=>t in e?Nd(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Ld=(e,t)=>{for(var n in t||(t={}))Od.call(t,n)&&jd(e,n,t[n]);if(Ad)for(var n of Ad(t))xd.call(t,n)&&jd(e,n,t[n]);return e};function kd(e){var t=e,{forwardedRef:n,className:r=Td.input,errorClassName:i=Td.hasError,disabledClassName:a=Td.isDisabled,isDisabled:s=!1,hasFocusOnMount:o=!1,hasError:l=!1,name:c,size:d=st.Medium,onFocus:u}=t,p=((e,t)=>{var n={};for(var r in e)Od.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&Ad)for(var r of Ad(e))t.indexOf(r)<0&&xd.call(e,r)&&(n[r]=e[r]);return n})(t,["forwardedRef","className","errorClassName","disabledClassName","isDisabled","hasFocusOnMount","hasError","name","size","onFocus"]);return g.createElement("input",Ld({className:Te()(r,Td[d],s&&a,l&&i),name:c,disabled:s,autoFocus:o,ref:n,onFocus:u},p))}const Rd=g.forwardRef(((e,t)=>g.createElement(kd,Ld(Ld({},e),{forwardedRef:t})))),zd=function(){return(0,g.useCallback)((e=>{const t=e.target;t&&t.select()}),[])};var Ud=n(82777),Vd=n(61006),Bd=n(54983),Fd=n(52999),_d=n(93502),Hd=n(46053),Qd=Object.defineProperty,Gd=Object.prototype.hasOwnProperty,Wd=Object.getOwnPropertySymbols,Yd=Object.prototype.propertyIsEnumerable,Kd=(e,t,n)=>t in e?Qd(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,qd=(e,t)=>{for(var n in t||(t={}))Gd.call(t,n)&&Kd(e,n,t[n]);if(Wd)for(var n of Wd(t))Yd.call(t,n)&&Kd(e,n,t[n]);return e};function $d(e,t=!0){const{metricsPage:n,metricsContextTuple:r}=(0,Jt.Zn)();(0,g.useEffect)((()=>{t?(0,b.DB)("metrics").trackView(qd(qd({},e),{page:n,contextTuple:r})):Hd.Z.startPeriod(`client:view:${n}`)}),[t,r,n,JSON.stringify(e)])}const Jd={modalContainer:"Modal-modalContainer-2u0GFY",modalBackdrop:"Modal-modalBackdrop-3DObWU",modal:"Modal-modal-2XtIR-",small:"Modal-small-1moKCP Modal-modal-2XtIR-",medium:"Modal-medium-2I8RQW Modal-modal-2XtIR-",large:"Modal-large-wDLc6- Modal-modal-2XtIR-"},Xd=(0,Bd.Z)(to.Z.modalSpeed),eu=1e3*Xd,tu={ease:"easeOut",duration:Xd},nu={ease:_d.Z.motionEasing,duration:Xd},ru={opacity:tu},iu={enter:{opacity:1,transition:ru},exit:{opacity:0,transition:ru}},au={scale:nu,opacity:tu},su={enter:{opacity:1,scale:1,transition:au},exit:{opacity:0,scale:.95,transition:au}};function ou(e,t){const n=function(e){if(function(e){return e.nativeEvent instanceof MouseEvent}(e))return e.target;const t=e.changedTouches;if(1===t.length){const e=t[0];return document.elementFromPoint(e.clientX,e.clientY)}return null}(e);if(n){const e=y.findDOMNode(t);return!e||!e.contains(n)}return!1}function lu({children:e,className:t,backdropClassName:n=Jd.modalBackdrop,containerClassName:r=Jd.modalContainer,size:i=st.Medium,isOpen:a,shouldTrackOnClose:s=!1,preventCloseOnBackdropPress:o=!1,onModalClose:l}){const c=(0,g.useRef)(null),d=(0,g.useRef)(!1),u=(0,g.useCallback)((e=>{d.current=ou(e,c.current)}),[]),p=(0,g.useCallback)((e=>{!o&&d.current&&ou(e,c.current)&&l(),d.current=!1}),[l,o]),m=(0,g.useCallback)((e=>{d.current=!1}),[]),h=(0,g.useCallback)((e=>{d.current=!1}),[]),v=(0,g.useCallback)((e=>{const t=e.keyCode;t===Vd.Mf?Fd.QE(e):t===Vd.hY&&(e.preventDefault(),e.stopPropagation(),l(),Fd.sM())}),[l]),f=(0,g.useCallback)((e=>{c.current=e,e&&Fd.LJ(y.findDOMNode(e))}),[]);return $d({},a),function(e,t=!1){const{metricsPage:n}=(0,Jt.Zn)(),r=(0,eo.Z)(e);(0,g.useEffect)((()=>{r&&!e&&t&&(0,b.DB)("metrics").trackView({page:n,action:ss.GP})}),[e,r,t,n])}(a,s),(0,g.useEffect)((()=>{let e;return a&&(e=window.setTimeout(Fd.pc,eu),document.addEventListener("keydown",v)),()=>{e&&window.clearTimeout(e),a&&document.removeEventListener("keydown",v)}}),[a,v]),g.createElement(vc,{isOpen:a,closeDelayMilliseconds:eu,className:r},g.createElement(Ud.M_,null,a?g.createElement(Ud.ww.div,{key:"backdrop",initial:"exit",animate:"enter",exit:"exit",variants:iu,className:n,onMouseDown:u,onMouseUp:p,onTouchStart:u,onTouchEnd:p,onTouchMove:m,onTouchCancel:h},g.createElement(Ud.ww.div,{key:"modal",initial:"exit",animate:"enter",exit:"exit",variants:su,className:t||Jd[i],ref:f},e)):void 0))}var cu=n(53863);function du({children:e,className:t="ModalContent-modalContent-3nQys3",onModalClose:n}){return g.createElement("div",{className:t},g.createElement(vr,{className:"ModalContent-closeButton-4AZIef Link-link-2WGTd7",onPress:n},g.createElement(cu.Z,null)),e)}function uu({message:e}){return g.createElement("div",{className:"ModalError-container-16ldVo"},g.createElement(we.Z,{className:"ModalError-icon-2XllX1"}),g.createElement("div",{className:"ModalError-message-3q4K2R"},e))}function pu({children:e,className:t="ModalFooter-modalFooter-5RLmoy"}){return g.createElement("div",{className:t},e)}function mu({children:e,className:t="ModalHeader-modalHeader-3KcAOv"}){return g.createElement("div",{className:t},e)}function hu({children:e,className:t="ModalSubheader-modalSubheader-1FumeI"}){return g.createElement("div",{className:t},e)}var gu,yu,vu=n(20361);function fu({direction:e=gu.Vertical,rows:t,columns:n,overscan:r=0,innerHorizontalPadding:i=0,innerVerticalPadding:a=0,outerPaddingTop:s=0,outerPaddingRight:o=0,outerPaddingBottom:l=0,outerPaddingLeft:c=0,getCellWidth:d,getCellHeight:u}){return{getListMeasurements(r,p){const m=r.listTop,h=r.listLeft;let g=(r.viewportWidth||0)-o-c,y=(r.viewportHeight||0)-s-l;e===gu.Vertical?g-=h:y-=m,g=Math.max(0,g),y=Math.max(0,y);const v=d({innerViewportWidth:g,innerViewportHeight:y,innerHorizontalPadding:i,innerVerticalPadding:a}),f=u({cellWidth:v,innerViewportWidth:g,innerViewportHeight:y,innerHorizontalPadding:i,innerVerticalPadding:a}),b=Math.max(0,t||Math.floor((y+a)/(f+a))),I=Math.max(0,n||Math.floor((g+i)/(v+i))),S=I*b;let M=0,E=0;return e===gu.Vertical&&I?(M=I*(v+i)-i,E=Math.ceil(p/I)*(f+a)-a):e===gu.Horizontal&&b&&(M=Math.ceil(p/b)*(v+i)-i,E=b*(f+a)-a),{width:M+o+c,height:E+s+l,outerPaddingTop:s,outerPaddingRight:o,outerPaddingBottom:l,outerPaddingLeft:c,listTop:m,listLeft:h,cellWidth:v,cellHeight:f,cellsPerColumn:b,cellsPerRow:I,cellsPerPage:S}},getPositionForIndex(t,n){const{listTop:r,listLeft:o,cellWidth:l,cellHeight:d}=n,u=function(t,n){return e===gu.Vertical?t%n.cellsPerRow:Math.floor(t/n.cellsPerColumn)}(t,n),p=function(t,n){return e===gu.Vertical?Math.floor(t/n.cellsPerRow):t%n.cellsPerColumn}(t,n);return{column:u,row:p,cellX:u*(l+i)+o+c,cellY:p*(d+a)+r+s,cellWidth:l,cellHeight:d}},getRangesForPosition(t,n,s,o){const{listTop:l,listLeft:c,cellWidth:d,cellHeight:u,cellsPerColumn:p,cellsPerRow:m,cellsPerPage:h}=o,g=u+a,y=d+i,v=t-l,f=n-c,b=e===gu.Vertical?m:p,I=e===gu.Vertical?v/g:f/y,S=h+2*b+r*b*2,M=Math.ceil(I)*b,E=M+h-1;let P=M-b*r;const D=(0,vu.Z)(P,s)+S-1;return D>=s&&(P=s-S),{visibleStartIndex:(0,vu.Z)(M,s),visibleEndIndex:(0,vu.Z)(E,s),renderStartIndex:(0,vu.Z)(P,s),renderEndIndex:(0,vu.Z)(D,s)}}}}(yu=gu||(gu={})).Vertical="vertical",yu.Horizontal="horizontal";var bu=Object.defineProperty,Iu=Object.prototype.hasOwnProperty,Su=Object.getOwnPropertySymbols,Mu=Object.prototype.propertyIsEnumerable,Eu=(e,t,n)=>t in e?bu(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;function Pu(e){var t=e,{rowHeight:n,rowWidth:r=0}=t,i=((e,t)=>{var n={};for(var r in e)Iu.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&Su)for(var r of Su(e))t.indexOf(r)<0&&Mu.call(e,r)&&(n[r]=e[r]);return n})(t,["rowHeight","rowWidth"]);return fu(((e,t)=>{for(var n in t||(t={}))Iu.call(t,n)&&Eu(e,n,t[n]);if(Su)for(var n of Su(t))Mu.call(t,n)&&Eu(e,n,t[n]);return e})({direction:gu.Vertical,columns:1,getCellWidth:e=>Math.max(r,e.innerViewportWidth),getCellHeight:()=>n},i))}var Du=n(53274);const Cu=window.ResizeObserver||Du.d;var wu=n(73754),Zu=Object.defineProperty,Tu=Object.prototype.hasOwnProperty,Nu=Object.getOwnPropertySymbols,Ou=Object.prototype.propertyIsEnumerable,Au=(e,t,n)=>t in e?Zu(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,xu=(e,t)=>{for(var n in t||(t={}))Tu.call(t,n)&&Au(e,n,t[n]);if(Nu)for(var n of Nu(t))Ou.call(t,n)&&Au(e,n,t[n]);return e};const ju=(0,g.memo)((function({keyPropName:e,items:t,totalSize:n,layout:r,measurements:i,renderStartIndex:a,renderEndIndex:s,visibleStartIndex:o,visibleEndIndex:l,cellComponentFactory:c,minPageCount:d,minPageSize:u,pageRequestDelay:p,onPageRequest:m,onListUpdate:h}){const y=(0,eo.Z)(a),v=(0,g.useRef)(!1);a!==y&&(v.current=null!=y&&a<y),(0,g.useEffect)((()=>{let e;if(m&&d&&u){const r=v.current,i=s-a+1,o=Math.max(i*d,u);let l,c=!1;if(r){const e=Math.max(s-o+1,0);for(l=s;l>=e;){if(null==t[l]){c=!0;break}l--}}else{const e=Math.min(a+o-1,n-1);for(l=a;l<=e;){if(null==t[l]){c=!0;break}l++}}c&&(e=window.setTimeout((()=>{m({startIndex:l,size:o,isPrepend:r})}),p))}return()=>window.clearTimeout(e)}),[t,d,u,m,p,y,s,a,n]),(0,g.useEffect)((()=>{h&&h({renderStartIndex:a,renderEndIndex:s,visibleStartIndex:o,visibleEndIndex:l})}),[h,s,a,l,o]);const f=[];for(let n=a;n<=s;n++){const a=t[n],s=n>=o&&n<=l,d=r.getPositionForIndex(n,i);f.push(c(xu({key:String(a&&e?a[e]:n),isVirtual:!0,isVisible:s,cellIndex:n,item:a},d)))}return g.createElement(g.Fragment,null,f)}));function Lu({className:e,children:t,keyPropName:n,items:r,totalSize:i,layout:a,cellComponentFactory:s,viewportWidth:o,viewportHeight:l,listTop:c=0,listLeft:d=0,scrollTop:u,scrollLeft:p,isWaitingToRestoreScrollPosition:m=!1,minPageCount:h=3,minPageSize:y=24,pageRequestDelay:v=wu.IT,onPageRequest:f,onListReady:b,onListUpdate:I}){const S=(0,g.useMemo)((()=>a.getListMeasurements({viewportWidth:o,viewportHeight:l,listTop:c,listLeft:d},i)),[o,l,a,c,d,i]),{renderStartIndex:M,renderEndIndex:E,visibleStartIndex:P,visibleEndIndex:D}=(0,g.useMemo)((()=>a.getRangesForPosition(u,p,i,S)),[a,S,p,u,i]);return(0,g.useEffect)((()=>{b&&b(S)}),[S,b]),g.createElement("div",{className:e,style:{width:S.width,height:S.height}},m?null:g.createElement(ju,{keyPropName:n,items:r,totalSize:i,layout:a,measurements:S,renderStartIndex:M,renderEndIndex:E,visibleStartIndex:P,visibleEndIndex:D,cellComponentFactory:s,minPageCount:h,minPageSize:y,pageRequestDelay:v,onPageRequest:f,onListUpdate:I}),t)}const ku={scroller:"VirtualListScroller-scroller-2VrU8W Scroller-scroller-3Rbtv0"};var Ru=Object.defineProperty,zu=Object.prototype.hasOwnProperty,Uu=Object.getOwnPropertySymbols,Vu=Object.prototype.propertyIsEnumerable,Bu=(e,t,n)=>t in e?Ru(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Fu=(e,t)=>{for(var n in t||(t={}))zu.call(t,n)&&Bu(e,n,t[n]);if(Uu)for(var n of Uu(t))Vu.call(t,n)&&Bu(e,n,t[n]);return e};function _u(e,t){if(t.shouldCenterCell){const n=(t.viewportDimension-t.cellDimension)/2,r=Math.round(e-n);return Math.max(r,0)}return e-(t.offset||0)}function Hu(e){var t=e,{className:n=ku.scroller,scrollerKey:r="VirtualListScroller",scrollerStyle:i,virtualListClassName:a,layout:s,resizeTimeout:o,scrollDirection:l=Ae.Vertical,targetScrollIndex:c,shouldCenterScrollIndex:d=!1,autoScroll:u=!0,smoothScroll:p=!0,renderAboveList:m,renderBelowList:h,onListReady:y}=t,v=((e,t)=>{var n={};for(var r in e)zu.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&Uu)for(var r of Uu(e))t.indexOf(r)<0&&Vu.call(e,r)&&(n[r]=e[r]);return n})(t,["className","scrollerKey","scrollerStyle","virtualListClassName","layout","resizeTimeout","scrollDirection","targetScrollIndex","shouldCenterScrollIndex","autoScroll","smoothScroll","renderAboveList","renderBelowList","onListReady"]);const[f,b]=(0,g.useState)({scrollTop:0,scrollLeft:0}),[I,S]=(0,g.useState)({width:0,height:0}),M=!(!I.width||!I.height),[E,P]=(0,g.useState)(void 0),D=function(e){const t=(0,g.useRef)(null),n=(0,g.useRef)(null);return(0,g.useEffect)((()=>(t.current&&(n.current=new Cu(e),n.current.observe(t.current)),()=>{var e;null==(e=n.current)||e.disconnect(),n.current=null})),[e]),t}((0,g.useCallback)((([e])=>{S({width:e.target.clientWidth,height:e.target.clientHeight})}),[])),C=(0,g.useMemo)((()=>{if(!E||!I||null==c)return;const e=s.getPositionForIndex(Math.max(c,0),E);return function(e,t,n){const{shouldCenterCell:r,measurements:i,listMeasurements:a}=n;return{scrollTop:e===Ae.Vertical||e===Ae.Omni?_u(t.cellY,{shouldCenterCell:r,viewportDimension:i.height,offset:a.outerPaddingTop,cellDimension:t.cellHeight}):0,scrollLeft:e===Ae.Horizontal||e===Ae.Omni?_u(t.cellX,{shouldCenterCell:r,viewportDimension:i.width,offset:a.outerPaddingLeft,cellDimension:t.cellWidth}):0}}(l,e,{shouldCenterCell:d,measurements:I,listMeasurements:E})}),[s,E,I,l,d,c]);let w,Z;C&&(w=C.scrollTop,Z=C.scrollLeft);const T=(0,g.useCallback)((({scrollLeft:e,scrollTop:t})=>{b({scrollTop:t,scrollLeft:e})}),[]),{isWaitingToRestoreScrollPosition:N,scrollRestoreProps:O,onScrollPositionReady:A}=qn({key:r,onScrollPositionChange:T}),x=(0,g.useCallback)((e=>{P(e),A(),y&&y(e)}),[y,A]);return g.createElement(Be,Fu({className:n,style:i,scrollDirection:l,autoScroll:u,smoothScroll:p,targetScrollTop:w,targetScrollLeft:Z,ref:D},O),m&&!N?m(I):null,M?g.createElement(Lu,Fu({className:a,layout:s,scrollTop:f.scrollTop,scrollLeft:f.scrollLeft,isWaitingToRestoreScrollPosition:N,viewportWidth:I.width,viewportHeight:I.height,onListReady:x},v)):null,h&&!N?h(I):null)}var Qu=Object.defineProperty,Gu=Object.prototype.hasOwnProperty,Wu=Object.getOwnPropertySymbols,Yu=Object.prototype.propertyIsEnumerable,Ku=(e,t,n)=>t in e?Qu(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,qu=(e,t)=>{for(var n in t||(t={}))Gu.call(t,n)&&Ku(e,n,t[n]);if(Wu)for(var n of Wu(t))Yu.call(t,n)&&Ku(e,n,t[n]);return e};function $u({forwardedRef:e,className:t="ListRow-row-F6OwAL",alternateClassName:n="ListRow-alternateRow-191543 ListRow-row-F6OwAL",hoveredClassName:r="ListRow-isHovered-_xWkhV",tabIndex:i,style:a={},isAlternate:s=!1,isHovered:o=!1,children:l,onFocus:c,onBlur:d}){return g.createElement("div",{tabIndex:i,style:a,className:Te()(s?n:t,o&&r),ref:e,onFocus:c,onBlur:d},l)}const Ju=g.forwardRef(((e,t)=>g.createElement($u,qu(qu({},e),{forwardedRef:t}))));var Xu=Object.defineProperty,ep=Object.prototype.hasOwnProperty,tp=Object.getOwnPropertySymbols,np=Object.prototype.propertyIsEnumerable,rp=(e,t,n)=>t in e?Xu(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ip=(e,t)=>{for(var n in t||(t={}))ep.call(t,n)&&rp(e,n,t[n]);if(tp)for(var n of tp(t))np.call(t,n)&&rp(e,n,t[n]);return e};function ap({className:e="ListRowPlaceholder-placeholder-1kv0AL",style:t,index:n}){return g.createElement(Ju,{className:e,style:ip({animationDelay:n%12*200+"ms"},t)})}const sp=(0,lo.oM)({name:"curatedLists",initialState:{},reducers:{saveRequested(e,{payload:t}){e[t.sourceURI]={isSaving:!0,saveError:null}},saveSucceeded(e,{payload:t}){const n=e[t.sourceURI];n.isSaving=!1,n.metadataItem=t.metadataItem},saveFailed(e,{payload:t}){const n=e[t.sourceURI];n.isSaving=!1,n.saveError=t.error},removeItemRequested(e,t){}}});var op=Object.prototype.hasOwnProperty,lp=Object.getOwnPropertySymbols,cp=Object.prototype.propertyIsEnumerable;function dp(e){var t=e,{server:n,provider:r,sourceURI:i,isDisabled:a,item:s}=t,o=((e,t)=>{var n={};for(var r in e)op.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&lp)for(var r of lp(e))t.indexOf(r)<0&&cp.call(e,r)&&(n[r]=e[r]);return n})(t,["server","provider","sourceURI","isDisabled","item"]);const[l,c]=Oo(),d=oo(o),{cellIndex:u}=o,p=(0,v.I0)(),m=(0,g.useCallback)((()=>{s&&(0,fn.c9)((()=>{p(sp.actions.saveRequested({server:n,provider:r,key:s.key,sourceURI:i}))}))}),[s,p,n,r,i]);if(!s)return g.createElement(ap,{style:d.style,index:u});const{title:h,thumb:y,composite:f}=s;return g.createElement(Ju,{style:d.style,isAlternate:!!(u%2),isHovered:l,ref:c},g.createElement(vr,{className:"CuratedListItem-item-3Rmwvg Link-link-2WGTd7",isDisabled:a,onPress:m},g.createElement("div",{className:"CuratedListItem-imageContainer-3dbtbj"},g.createElement(xt.Z,{className:"CuratedListItem-image-3Ikb2I",serverEntityID:n.entityID,providerEntityID:r.entityID,url:y||f,width:40,height:40,component:Ot.Z,preloadOnMount:!1,animateOnMount:!1})),g.createElement("div",{className:"CuratedListItem-title-1hG9Q9"},h)))}const up="CuratedList-container-1UBg2G";var pp=Object.defineProperty,mp=Object.prototype.hasOwnProperty,hp=Object.getOwnPropertySymbols,gp=Object.prototype.propertyIsEnumerable,yp=(e,t,n)=>t in e?pp(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,vp=(e,t)=>{for(var n in t||(t={}))mp.call(t,n)&&yp(e,n,t[n]);if(hp)for(var n of hp(t))gp.call(t,n)&&yp(e,n,t[n]);return e};function fp({server:e,provider:t,sourceURI:n,isSaving:r,metadataList:i,zeroItemsMessage:a,errorMessage:s}){var o;const l=(0,v.I0)(),c=null!=(o=null==i?void 0:i.totalSize)?o:5,d=(0,g.useCallback)((n=>{(null==i?void 0:i.sourceURI)&&l(xr.Z.actions.fetchRangeRequested(vp(vp({},n),{server:e,provider:t,sourceURI:null==i?void 0:i.sourceURI})))}),[null==i?void 0:i.sourceURI,l,e,t]);(0,g.useEffect)((()=>()=>{(null==i?void 0:i.sourceURI)&&l(xr.Z.actions.reset({sourceURI:i.sourceURI}))}),[l,null==i?void 0:i.sourceURI,t,e]);const u=(0,g.useMemo)((()=>Pu({rowHeight:60,overscan:5})),[]),p=(0,g.useCallback)((i=>g.createElement(dp,vp({server:e,provider:t,sourceURI:n,isDisabled:r},i))),[n,r,t,e]);return i?i.error?g.createElement("div",{className:up},s):i.isPopulated&&!i.items.length?g.createElement("div",{className:up},a):g.createElement(Hu,{className:"CuratedList-scroller-2T0_bP VirtualListScroller-scroller-2VrU8W Scroller-scroller-3Rbtv0",keyPropName:"key",items:i.items,totalSize:c,layout:u,cellComponentFactory:p,onPageRequest:d}):g.createElement("div",{className:up})}function bp(e){switch(e){case ni.pG.Movie:return ni.A.Movie;case ni.pG.Show:return ni.A.Show;case ni.pG.Season:return ni.A.Season;case ni.pG.Episode:return ni.A.Episode;case ni.pG.Person:return ni.A.Person;case ni.pG.Artist:return ni.A.Artist;case ni.pG.Album:return ni.A.Album;case ni.pG.Track:return ni.A.Track;case ni.pG.Clip:return ni.A.Clip;case ni.pG.Photo:return ni.A.Photo;case ni.pG.PhotoAlbum:return ni.A.PhotoAlbum;case ni.pG.Playlist:return ni.A.Playlist;case ni.pG.Collection:return ni.A.Collection;case ni.pG.Game:return ni.A.Game}!function(e){throw new Error(`"${e}" is not mapped to a numeric type`)}(e)}const Ip=function(e){return(0,fe.P1)($r,(t=>t.metadataLists[e]))},Sp=function({server:e,provider:t,contentDirectoryID:n,metadataType:r,limit:i,title:a}){const s=(0,v.I0)(),o=(0,Pn.Z)(t,$t.zW.Content),l=(null==o?void 0:o.key)?E.Z.join([o.key,n,"collections"],{subtype:bp(r),smart:0,sort:"updatedAt:desc",limit:i,title:a}):void 0,c=(0,yn.Z)({serverIdentifier:e.machineIdentifier,providerIdentifier:t.identifier,key:l}),d=(0,g.useMemo)((()=>l?Ip(c):()=>{}),[l,c]),u=(0,v.v9)(d);return(0,g.useEffect)((()=>{c&&!u&&s(xr.Z.actions.added({metadataItemStates:{},metadataLists:[{sourceURI:c,items:[],offset:0}]}))}),[s,u,c]),u},Mp=(0,fe.P1)(fo,(e=>e.curatedLists)),Ep=function(e){return(0,fe.P1)(Mp,(t=>t[e]))},Pp=function(e,t){const[n,r]=(0,g.useState)(e);return(0,g.useEffect)((()=>{const n=window.setTimeout((()=>{r(e)}),t);return()=>{window.clearTimeout(n)}}),[t,e]),n};var Dp=n(4704);const Cp="AddToCuratedListModal-form-1rZb-_",wp="AddToCuratedListModal-input-3HDNke TextInput-input-2FGxDj",Zp="AddToCuratedListModal-button-1-OIrW SpinnerButton-button-1CCIvZ Button-button-1q7C1V Link-link-2WGTd7";function Tp({isOpen:e,sourceURI:t,defaultTitle:n,metadataType:r,contentDirectoryID:i,isSmart:a=!1,onModalClose:s,onSaveSuccess:o}){var l,c;const d=(0,v.I0)(),[u,p]=Hn(),m=(0,g.useMemo)((()=>Ep(t)),[t]),h=(0,v.v9)(m),y=null!=(l=null==h?void 0:h.isSaving)&&l,f=(0,Dp.Z)(y),[b,I]=(0,g.useState)(""),S=Pp(b,250),M=Sp({server:u,provider:p,contentDirectoryID:i,metadataType:r,title:S.length?S:void 0}),{register:E,handleSubmit:P,errors:D}=(0,Sd.cI)(),C="required"===(null==(c=D.title)?void 0:c.type),w=(0,g.useCallback)((e=>{I(e.target.value)}),[]),Z=P((({title:e})=>{const n={server:u,provider:p,title:e,sourceURI:t,contentDirectoryID:i,metadataType:r,isSmart:a};(0,fn.c9)((()=>{d(sp.actions.saveRequested(n))}))})),T=zd();return(0,g.useEffect)((()=>{e&&f&&!y&&!(null==h?void 0:h.saveError)&&(null==o||o(),s())}),[e,y,f,s,o,null==h?void 0:h.saveError]),g.createElement(Jt.ZP,{metricsPage:pt.uf},g.createElement(lu,{isOpen:e,size:st.Small,onModalClose:s},g.createElement(du,{onModalClose:s},g.createElement(mu,null,a?(0,Ce.Z)("Create Collection"):(0,Ce.Z)("Add to Collection")),a?null:g.createElement(hu,null,g.createElement(Rd,{className:"AddToCuratedListModal-filter--rH2ox TextInput-input-2FGxDj",placeholder:(0,Ce.Z)("Search Collections"),name:"title",value:b,onChange:w})),(null==h?void 0:h.saveError)?g.createElement(uu,{message:(0,Ce.Z)("Something went wrong. Make sure the server is available and try again.")}):null,a?null:g.createElement(fp,{server:u,provider:p,sourceURI:t,isSaving:y,metadataList:M,zeroItemsMessage:S?(0,Ce.Z)("No collections found"):(0,Ce.Z)("Save your first collection"),errorMessage:(0,Ce.Z)("There was an error loading the collections. Please try again.")}),g.createElement(pu,null,g.createElement("form",{className:Cp,onSubmit:Z},g.createElement(Rd,{className:wp,name:"title",hasFocusOnMount:!0,hasError:C,defaultValue:n,ref:E({required:!0}),onFocus:T}),g.createElement(Zd,{className:Zp,isSpinning:y,type:"submit",kind:or.Primary},(0,Ce.Z)("Create")))))))}function Np({item:e,onItemPress:t}){const n=(0,g.useCallback)((()=>t(e.key)),[t,e.key]);return g.createElement(ec.Z,{onPress:n},e.title)}function Op({sourceURI:e,contentDirectoryID:t,metadataType:n,server:r,provider:i,advancedFiltersRoute:a,onAddToCollectionPress:s,onAddToSmartCollectionPress:o,onMenuClose:l,onSavePress:c}){const d=(0,v.I0)(),u=Sp({server:r,provider:i,contentDirectoryID:t,metadataType:n,limit:3}),p=(0,g.useCallback)((t=>{d(sp.actions.saveRequested({server:r,provider:i,key:t,sourceURI:e})),null==c||c(),l()}),[d,l,c,i,r,e]);return(0,g.useEffect)((()=>{(null==u?void 0:u.sourceURI)&&d(xr.Z.actions.fetchRangeRequested({sourceURI:u.sourceURI,server:r,provider:i,startIndex:0,size:3}))}),[d,null==u?void 0:u.sourceURI,r,i]),g.createElement(g.Fragment,null,g.createElement(ec.Z,{onPress:(0,rc.Z)(s,l)},(0,Ce.Z)("Add to Collection...")),o?g.createElement(ec.Z,{onPress:(0,rc.Z)(o,l)},(0,Ce.Z)("Save as Smart Collection...")):null,a?g.createElement(ec.Z,{to:a,onPress:l},(0,Ce.Z)("Create Smart Collection")):null,(null==u?void 0:u.items.length)?g.createElement(g.Fragment,null,g.createElement(ac.Z,null,(0,Ce.Z)("Recent")),u.items.map((e=>g.createElement(Np,{key:e.key,item:e,onItemPress:p})))):null)}const Ap=function({server:e,provider:t,mediaType:n}){const r=(0,v.I0)(),i=(0,Pn.Z)(t,$t.zW.Playlist),a=i?E.Z.join([i.key],{playlistType:n,smart:0,sort:"updatedAt:desc"}):void 0,s=(0,yn.Z)({serverIdentifier:e.machineIdentifier,providerIdentifier:t.identifier,key:a}),o=(0,g.useMemo)((()=>a?Ip(s):()=>{}),[a,s]),l=(0,v.v9)(o);return(0,g.useEffect)((()=>{s&&!l&&r(xr.Z.actions.added({metadataItemStates:{},metadataLists:[{sourceURI:s,items:[],offset:0}]}))}),[r,l,s]),l};function xp({sourceURI:e,mediaType:t,server:n,provider:r,advancedFiltersRoute:i,onAddToPlaylistPress:a,onAddToSmartPlaylistPress:s,onMenuClose:o,onSavePress:l}){const c=(0,v.I0)(),d=Ap({server:n,provider:r,mediaType:t}),u=(0,g.useCallback)((t=>{c(sp.actions.saveRequested({server:n,provider:r,key:t,sourceURI:e})),null==l||l(),o()}),[c,o,l,r,n,e]);return(0,g.useEffect)((()=>{(null==d?void 0:d.sourceURI)&&c(xr.Z.actions.fetchRangeRequested({sourceURI:d.sourceURI,server:n,provider:r,startIndex:0,size:3}))}),[c,null==d?void 0:d.sourceURI,n,r]),g.createElement(g.Fragment,null,g.createElement(ec.Z,{onPress:(0,rc.Z)(a,o)},(0,Ce.Z)("Add to Playlist...")),s?g.createElement(ec.Z,{onPress:(0,rc.Z)(s,o)},(0,Ce.Z)("Save as Smart Playlist...")):null,i?g.createElement(ec.Z,{to:i,onPress:o},(0,Ce.Z)("Create Smart Playlist")):null,(null==d?void 0:d.items.length)?g.createElement(g.Fragment,null,g.createElement(ac.Z,null,(0,Ce.Z)("Recent")),d.items.slice(0,3).map((e=>g.createElement(Np,{key:e.key,item:e,onItemPress:u})))):null)}function jp({sourceURI:e,contentDirectoryID:t,server:n,provider:r,mediaType:i,metadataType:a,advancedFiltersRoute:s,showNested:o=!0,onAddToCollectionPress:l,onAddToPlaylistPress:c,onAddToSmartCollectionPress:d,onAddToSmartPlaylistPress:u,onMenuClose:p,onSaveCollectionPress:m,onSavePlaylistPress:h}){const y=c?g.createElement(xp,{sourceURI:e,mediaType:i,server:n,provider:r,advancedFiltersRoute:s,onAddToPlaylistPress:c,onAddToSmartPlaylistPress:u,onMenuClose:p,onSavePress:h}):null,v=t&&l?g.createElement(Op,{sourceURI:e,contentDirectoryID:t,server:n,provider:r,metadataType:a,advancedFiltersRoute:s,onAddToCollectionPress:l,onAddToSmartCollectionPress:d,onMenuClose:p,onSavePress:m}):null,f=function(e){return e===ni.pG.Movie||e===ni.pG.Show||e===ni.pG.Season||e===ni.pG.Episode}(a)&&!!v||!y,b=f?v:y,I=f?y:v;return g.createElement(g.Fragment,null,b,I?g.createElement(g.Fragment,null,g.createElement(tc.Z,null),o?g.createElement(nc.Z,{label:f?(0,Ce.Z)("Add to Playlist"):(0,Ce.Z)("Add to Collection"),onMenuClose:p},I):I):null)}var Lp=n(91995),kp=n(21914),Rp=n(82378);function zp(e,t){return e.isCloud?t.sourceTitle?`${t.title} - ${t.sourceTitle}`:t.title:e.friendlyName}var Up=n(55278);function Vp({server:e,provider:t,isSelected:n,onDestinationChange:r}){const i=(0,g.useCallback)((()=>{const n=(0,yn.Z)({serverIdentifier:e.machineIdentifier,providerIdentifier:t.identifier});r(n)}),[r,t.identifier,e.machineIdentifier]);return g.createElement(Up.Z,{isSelected:n,onPress:i},zp(e,t))}function Bp({server:e,provider:t,destinations:n,isDisabled:r,onDestinationChange:i}){const a=(0,No.Z)(),s=(0,gd.Z)();return g.createElement(g.Fragment,null,g.createElement(vr,{id:a,"aria-label":(0,Ce.Z)("Playlist destination"),isDisabled:r,onPress:s.onToggle},zp(e,t),g.createElement(Lp.Z,{direction:s.isOpen?kp.UP:kp.WV})),g.createElement(Xl.Z,{size:Rp.ln,target:a,isOpen:s.isOpen,onMenuClose:s.onClose},n?n.map(((n,r)=>{const[a,o]=n,l=e.machineIdentifier===a.machineIdentifier&&t.identifier===o.identifier;return g.createElement(Vp,{key:r,isSelected:l,server:a,provider:o,onDestinationChange:(0,rc.Z)(i,s.onClose)})})):null))}const Fp=(0,fe.P1)(Cn.Z,xn.Z,(0,wn.Z)("providers"),((e,t,n)=>{const r=[];for(const i of t){const t=i.isCloud?n:i.providers;for(const n of t)r.push([Vn(i),e[n]])}return r}));function _p({isOpen:e,sourceURI:t,defaultTitle:n,defaultDestinationSource:r,mediaType:i,isDestinationMenuHidden:a,isSmart:s=!1,onModalClose:o,onSaveSuccess:l}){var c,d;const u=(0,v.I0)(),[p,m]=Hn(),[h,y]=(0,g.useState)(r),{serverIdentifier:f,providerIdentifier:b}=(0,wr.Z)(h),I=(0,g.useMemo)((()=>Ep(t)),[t]),S=(0,v.v9)(I),M=null!=(c=null==S?void 0:S.isSaving)&&c,E=(0,Dp.Z)(M),P=(0,v.v9)(Fn(f)),D=(0,v.v9)(kn(f,b)),C=(0,v.v9)((([e,t])=>(0,fe.P1)(Fp,(n=>n.reduce(((n,[r,i])=>((r.machineIdentifier!==e.machineIdentifier||i.identifier!==t.identifier)&&r.isFullOwnedServer&&r.isConnected&&(0,Pn.Z)(i,$t.zW.Playlist,$t.wd.Universal)&&n.push([r,i]),n)),t===Zn?[]:[[e,t]]))))([p,m])),w=Ap({server:P,provider:D,mediaType:i}),Z={source:zp(P,D)},T={[ni.DD.Audio]:(0,Ce.Z)("Save your first music playlist for {source}",Z),[ni.DD.Video]:(0,Ce.Z)("Save your first video playlist for {source}",Z),[ni.DD.Photo]:(0,Ce.Z)("Save your first photo playlist for {source}",Z),[ni.DD.Rom]:(0,Ce.Z)("Save your first game playlist for {source}",Z)},{register:N,handleSubmit:O,errors:A}=(0,Sd.cI)(),x="required"===(null==(d=A.title)?void 0:d.type),j=O((({title:e})=>{const n={server:P,provider:D,title:e,sourceURI:t,mediaType:i,isSmart:s};(0,fn.c9)((()=>{u(sp.actions.saveRequested(n))}))})),L=zd();return(0,g.useEffect)((()=>{e&&E&&!M&&!(null==S?void 0:S.saveError)&&(null==l||l(),o())}),[e,M,E,o,l,null==S?void 0:S.saveError]),g.createElement(Jt.ZP,{metricsPage:pt.uf},g.createElement(lu,{isOpen:e,size:st.Small,onModalClose:o},g.createElement(du,{onModalClose:o},g.createElement(mu,null,s?(0,Ce.Z)("Create Playlist"):(0,Ce.Z)("Add to Playlist")),!s&&C.length>1?g.createElement(hu,null,a?zp(P,D):g.createElement(Bp,{server:P,provider:D,destinations:C,isDisabled:M,onDestinationChange:y})):null,(null==S?void 0:S.saveError)?g.createElement(uu,{message:P.isCloud?(0,Ce.Z)("Something went wrong. Please try again in a few minutes."):(0,Ce.Z)("Something went wrong. Make sure the server is available and try again.")}):null,s?null:g.createElement(fp,{server:P,provider:D,sourceURI:t,isSaving:M,metadataList:w,zeroItemsMessage:T[i],errorMessage:(0,Ce.Z)("There was an error loading the playlists. Please try again.")}),g.createElement(pu,null,g.createElement("form",{className:Cp,onSubmit:j},g.createElement(Rd,{className:wp,name:"title",hasFocusOnMount:!0,hasError:x,defaultValue:n,ref:N({required:!0}),onFocus:L}),g.createElement(Zd,{className:Zp,isSpinning:M,type:"submit",kind:or.Primary},(0,Ce.Z)("Create")))))))}var Hp=n(83787);function Qp({metadataItem:e,render:t,onClose:n}){var r;const{isPending:i,canDownload:a,canDeleteDownload:s,onDownload:o,onDeleteDownload:l}=Dl(e),c=(0,v.v9)(hl(bn.Ed)),d=(0,v.v9)(hl(bn.iU)),u=(0,gd.Z)(),p=(0,gd.Z)(),[m]=Hn(),h=s,y=i||!s&&!a,f=!!(null==(r=m.ownerFeatures)?void 0:r.includes(bn.Ed)),b=c&&f,I=e.subtype===ni.y_.Podcast||d||b,S=(0,g.useCallback)((()=>{M.Z.warn("[Downloads] Download not permitted:","Server owner is grandfathered?",f,"Is user grandfathered?",c,"User has downloads Plex Pass gating?",d)}),[f,c,d]),E=I?(0,rc.Z)(o,n):(0,rc.Z)(S,p.onOpen),P=s?u.onOpen:E;return g.createElement(g.Fragment,null,g.createElement(yt.Z,{isOpen:u.isOpen,isConfirmButtonSpinning:i,kind:ic.T,metricsPage:pt.Ke,title:(0,Ce.Z)("Delete Download"),message:(0,Ce.Z)("Are you sure you want to delete this download?"),onConfirm:(0,rc.Z)(l,u.onClose,n),onCancel:(0,rc.Z)(u.onClose,n)}),g.createElement(Hp.Z,{isOpen:p.isOpen,onModalClose:(0,rc.Z)(p.onClose,n)}),t(h,y,P))}function Gp({metadataItem:e,onMenuClose:t}){const n=(0,g.useCallback)(((e,t,n)=>g.createElement(ec.Z,{isDisabled:t,onPress:n},e?(0,Ce.Z)("Delete Download"):(0,Ce.Z)("Download"))),[]);return g.createElement(Qp,{metadataItem:e,render:n,onClose:t})}const Wp={input:"Select-input-bAL4pR",select:"Select-select-1A8Ksu",small:"Select-small-1TC95u",medium:"Select-medium-3uGwmW",large:"Select-large-1QRmSo",isDisabled:"Select-isDisabled-1aVQ0b",hasError:"Select-hasError-1i3Tp8"};var Yp=Object.defineProperty,Kp=Object.prototype.hasOwnProperty,qp=Object.getOwnPropertySymbols,$p=Object.prototype.propertyIsEnumerable,Jp=(e,t,n)=>t in e?Yp(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Xp=(e,t)=>{for(var n in t||(t={}))Kp.call(t,n)&&Jp(e,n,t[n]);if(qp)for(var n of qp(t))$p.call(t,n)&&Jp(e,n,t[n]);return e};function em(e){var t=e,{forwardedRef:n,className:r=Wp.input,selectClassName:i=Wp.select,errorClassName:a=Wp.hasError,disabledClassName:s=Wp.isDisabled,isDisabled:o=!1,hasError:l=!1,name:c,size:d=st.Medium,children:u}=t,p=((e,t)=>{var n={};for(var r in e)Kp.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&qp)for(var r of qp(e))t.indexOf(r)<0&&$p.call(e,r)&&(n[r]=e[r]);return n})(t,["forwardedRef","className","selectClassName","errorClassName","disabledClassName","isDisabled","hasError","name","size","children"]);return g.createElement("span",{className:Te()(r,Wp[d],o&&s,l&&a)},g.createElement("select",Xp({className:i,name:c,disabled:o,ref:n},p),u))}const tm=g.forwardRef(((e,t)=>g.createElement(em,Xp(Xp({},e),{forwardedRef:t})))),nm={modalBody:"ModalBody-modalBody-O9hN9W",modalScroller:"ModalBody-modalScroller-NbjAvC ModalBody-modalBody-O9hN9W",innerModalBody:"ModalBody-innerModalBody-9jyEBh"};var rm=Object.defineProperty,im=Object.prototype.hasOwnProperty,am=Object.getOwnPropertySymbols,sm=Object.prototype.propertyIsEnumerable,om=(e,t,n)=>t in e?rm(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,lm=(e,t)=>{for(var n in t||(t={}))im.call(t,n)&&om(e,n,t[n]);if(am)for(var n of am(t))sm.call(t,n)&&om(e,n,t[n]);return e};function cm(e){var t=e,{children:n,className:r,innerClassName:i=nm.innerModalBody}=t,a=((e,t)=>{var n={};for(var r in e)im.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&am)for(var r of am(e))t.indexOf(r)<0&&sm.call(e,r)&&(n[r]=e[r]);return n})(t,["children","className","innerClassName"]);const s=a.scrollDirection!==Ae.None;return r||(r=s?nm.modalScroller:nm.modalBody),g.createElement(Be,lm(lm({},a),{className:r}),s?g.createElement("div",{className:i},n):n)}function dm({children:e,className:t="ModalFooterButtonBar-buttonBar-UJWGIc"}){return g.createElement("div",{className:t},e)}const um=[];function pm({metadataItem:e}){var t,n,r;const i=(0,v.I0)(),a=(0,v.v9)((m=e.sourceURI,(0,fe.P1)(Pl,(e=>e.creating[m])))),s=(0,g.useCallback)((()=>{(0,fn.c9)((()=>{i(El.actions.subscriptionTemplateChanged({sourceURI:e.sourceURI,template:void 0}))}))}),[i,e.sourceURI]),o=null!=(n=null==(t=null==a?void 0:a.template)?void 0:t.Setting)?n:um,{defaultValues:l,preferences:c}=(0,g.useMemo)((()=>{const e={},t=o.reduce(((t,{id:n,label:r,summary:i,value:a,hidden:s,enumValues:o})=>{if(s||!o)return t;const l=o.split("|").map((e=>{const t=e.split(":");return{value:t[0],label:t[1]}}));return t.push({id:n,label:r,summary:i,options:l}),e[n]=a,t}),[]);return{defaultValues:e,preferences:t}}),[o]),{register:d,handleSubmit:u}=(0,Sd.cI)({defaultValues:l}),p=(0,g.useCallback)((t=>{(null==a?void 0:a.template)&&i(El.actions.subscriptionCreateRequested({sourceURI:e.sourceURI,template:null==a?void 0:a.template,settings:t}))}),[i,e.sourceURI,null==a?void 0:a.template]);var m;return g.createElement(lu,{isOpen:!!(null==a?void 0:a.template),onModalClose:s},g.createElement("form",{onSubmit:u(p)},g.createElement(du,{onModalClose:s},g.createElement(mu,null,(0,Ce.Z)("Download Options")),(null==a?void 0:a.error)?g.createElement(uu,{message:(0,Ce.Z)("Something went wrong. Make sure the item is available and try again.")}):null,g.createElement(cm,null,c.map((({id:e,label:t,summary:n,options:r})=>g.createElement("label",{key:e,className:"DownloadTemplateModal-preference-3Vfyon"},g.createElement("span",{className:"DownloadTemplateModal-label-15Ce8F"},t),g.createElement(tm,{name:e,ref:d},r.map(((e,t)=>g.createElement("option",{key:t,value:e.value},e.label)))),g.createElement("span",{className:"DownloadTemplateModal-description-NYQ4V_"},n))))),g.createElement(pu,null,g.createElement(dm,null,g.createElement(Dr,{onPress:s},(0,Ce.Z)("Cancel")),g.createElement(Zd,{type:"submit",isSpinning:null!=(r=null==a?void 0:a.isPending)&&r,kind:or.Primary},(0,Ce.Z)("Save")))))))}function mm(e,t){e&&((0,yd.er)(e),e.options=t)}function hm(e){e&&(0,yd.vv)(e)}function gm(e,t,n){e&&((0,yd.VQ)(e,n),e.options=t)}const ym=(0,lo.oM)({name:"libraryManagement",initialState:{hubs:{},publishedItems:{},settings:{}},reducers:{settingsFetchRequested(e,{payload:t}){e.settings[t.server.machineIdentifier]={isPending:!0,isPopulated:!1,isUpdating:!1,error:null}},settingsFetchSucceeded(e,{payload:t}){const n=e.settings[t.server.machineIdentifier];n&&(n.isMergeRecentlyAddedEnabled=t.isMergeRecentlyAddedEnabled,(0,yd.vv)(n))},settingsFetchFailed(e,{payload:t}){const n=e.settings[t.server.machineIdentifier];n&&(0,yd.VQ)(n,t.error)},settingsUpdateRequested(e,{payload:t}){const n=e.settings[t.server.machineIdentifier];n&&(n.isUpdating=!0)},settingsUpdateSucceeded(e,{payload:t}){const n=e.settings[t.server.machineIdentifier];n&&(n.isMergeRecentlyAddedEnabled=t.isMergeRecentlyAddedEnabled,n.isUpdating=!1)},settingsUpdateFailed(e,{payload:t}){const n=e.settings[t.server.machineIdentifier];n&&(n.error=t.error,n.isUpdating=!1)},resetHubs(e,t){},hubsFetchRequested(e,{payload:t}){var n;e.hubs[t.sourceURI]={options:(null==(n=e.hubs[t.sourceURI])?void 0:n.options)||[],isPending:!0,isPopulated:!1,isResetting:!1,error:null}},hubsFetchSucceeded(e,{payload:t}){const n=e.hubs[t.sourceURI];n&&((0,yd.vv)(n),n.options=t.options)},hubsFetchFailed(e,{payload:t}){const n=e.hubs[t.sourceURI];n&&(0,yd.VQ)(n,t.error)},reorderRequested(e,{payload:t}){mm(e.hubs[t.sourceURI],t.options)},reorderSucceeded(e,{payload:t}){hm(e.hubs[t.sourceURI])},reorderFailed(e,{payload:t}){gm(e.hubs[t.sourceURI],t.options,t.error)},removeRequested(e,{payload:t}){mm(e.hubs[t.sourceURI],t.options)},removeSucceeded(e,{payload:t}){hm(e.hubs[t.sourceURI])},removeFailed(e,{payload:t}){gm(e.hubs[t.sourceURI],t.options,t.error)},resetRequested(e,{payload:t}){const n=e.hubs[t.sourceURI];n&&(n.isResetting=!0)},resetSucceeded(e,{payload:t}){const n=e.hubs[t.sourceURI];n&&(n.isResetting=!1,n.options=t.options)},resetFailed(e,{payload:t}){const n=e.hubs[t.sourceURI];n&&(n.isResetting=!1)},promoteRequested(e,t){},promoteChanged(e,{payload:t}){const n=e.hubs[t.sourceURI];if(n){const e=n.options.find((e=>e.identifier===t.options.identifier));e&&(e.promotedToRecommended=t.options.promotedToRecommended,e.promotedToOwnHome=t.options.promotedToOwnHome,e.promotedToSharedHome=t.options.promotedToSharedHome)}},publishedFetchRequested(e,{payload:t}){e.publishedItems[t.sourceURI]={isPending:!0,isPopulated:!1,isUpdating:!1,error:null}},publishedFetchSucceeded(e,{payload:t}){const n=e.publishedItems[t.sourceURI];n&&(n.hub=t.hub,(0,yd.vv)(n))},publishedFetchFailed(e,{payload:t}){const n=e.publishedItems[t.sourceURI];n&&(0,yd.VQ)(n,t.error)},publishedUpdateRequested(e,{payload:t}){const n=e.publishedItems[t.sourceURI];n&&(n.isUpdating=!0)},publishedUpdateSucceeded(e,{payload:t}){const n=e.publishedItems[t.sourceURI];n&&(n.hub=t.hub,n.isUpdating=!1)},publishedUpdateFailed(e,{payload:t}){const n=e.publishedItems[t.sourceURI];n&&(n.error=t.error,n.isUpdating=!1)}}}),vm=(0,fe.P1)(fo,(e=>e.libraryManagement));var fm=Object.defineProperty,bm=Object.prototype.hasOwnProperty,Im=Object.getOwnPropertySymbols,Sm=Object.prototype.propertyIsEnumerable,Mm=(e,t,n)=>t in e?fm(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Em=(e,t)=>{for(var n in t||(t={}))bm.call(t,n)&&Mm(e,n,t[n]);if(Im)for(var n of Im(t))Sm.call(t,n)&&Mm(e,n,t[n]);return e};const Pm={hub:{promotedToRecommended:!1,promotedToOwnHome:!1,promotedToSharedHome:!1},isPending:!1,isPopulated:!0,isUpdating:!1,error:null};var Dm=Object.defineProperty,Cm=Object.prototype.hasOwnProperty,wm=Object.getOwnPropertySymbols,Zm=Object.prototype.propertyIsEnumerable,Tm=(e,t,n)=>t in e?Dm(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Nm=(e,t)=>{for(var n in t||(t={}))Cm.call(t,n)&&Tm(e,n,t[n]);if(wm)for(var n of wm(t))Zm.call(t,n)&&Tm(e,n,t[n]);return e};function Om({sourceURI:e,onMenuClose:t}){var n,r,i;const[a,,s]=Hn(),o=(0,v.I0)(),l=(0,v.v9)(function(e){return(0,fe.P1)(vm,(t=>{var n;const r=t.publishedItems[e];return Em(Em(Em({},Pm),r),{hub:null!=(n=null==r?void 0:r.hub)?n:Pm.hub})}))}(e));(0,g.useEffect)((()=>{s&&o(ym.actions.publishedFetchRequested({server:a,sourceURI:e,contentDirectoryID:s.id}))}),[s,o,a,e]);const c=(0,g.useCallback)((n=>{s&&(o(ym.actions.publishedUpdateRequested({server:a,sourceURI:e,contentDirectoryID:s.id,hub:Nm(Nm({},l.hub),n)})),t())}),[s,o,t,l.hub,a,e]),d=(0,g.useCallback)((()=>{l.hub&&c({promotedToRecommended:!l.hub.promotedToRecommended})}),[l.hub,c]),u=(0,g.useCallback)((()=>{l.hub&&c({promotedToOwnHome:!l.hub.promotedToOwnHome})}),[l.hub,c]),p=(0,g.useCallback)((()=>{l.hub&&c({promotedToSharedHome:!l.hub.promotedToSharedHome})}),[l.hub,c]);return g.createElement(g.Fragment,null,g.createElement(Up.Z,{isSelected:null==(n=l.hub)?void 0:n.promotedToRecommended,isDisabled:l.isUpdating,onPress:d},(0,Ce.Z)("Library")),g.createElement(Up.Z,{isSelected:null==(r=l.hub)?void 0:r.promotedToOwnHome,isDisabled:l.isUpdating,onPress:u},(0,Ce.Z)("Home")),g.createElement(Up.Z,{isSelected:null==(i=l.hub)?void 0:i.promotedToSharedHome,isDisabled:l.isUpdating,onPress:p},(0,Ce.Z)("Shared Users' Home")))}var Am=n(52448);var xm=n(57501),jm=n(19469),Lm=n(66788),km=n(75696),Rm=n(96270),zm=n(12159),Um=Object.defineProperty,Vm=Object.prototype.hasOwnProperty,Bm=Object.getOwnPropertySymbols,Fm=Object.prototype.propertyIsEnumerable,_m=(e,t,n)=>t in e?Um(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Hm=(e,t)=>{for(var n in t||(t={}))Vm.call(t,n)&&_m(e,n,t[n]);if(Bm)for(var n of Bm(t))Fm.call(t,n)&&_m(e,n,t[n]);return e};const Qm=["isPlayVisible","isWatchTogetherVisible","isPlayVersionVisible","isPlayAllVisible","isShuffleVisible","isQueueVisible","isPlayTrailerVisible","isPlayMusicVideoVisible","isAddToPlaylistVisible","isAddToLibraryVisible"],Gm=["isEditVisible","isMarkPlayedVisible","isMarkUnplayedVisible","isSettingsVisible","isRefreshVisible","isAnalyzeVisible","isFixMatchVisible","isMatchVisible","isUnmatchVisible","isSplitApartVisible","isSyncVisible","isSyncDownloadVisible","isOptimizeVisible","isDownloadFileVisible","isShareVisible","isDeleteVisible","isDeleteVersionVisible","isViewPlayHistoryVisible","isGetInfoVisible"];function Wm(e){const t=(0,g.useRef)(!1);return e.isOpen&&(t.current=!0),t.current}function Ym({actions:e,server:t,provider:n,metadataItem:r,metadataItemState:i,containerSourceURI:a,containerKey:s,containerType:o,allowRedirectOnDelete:l,playVersionModalState:c,confirmMarkPlayedModalState:d,confirmMarkUnplayedModalState:u,settingsModalState:p,addToCollectionModalState:m,addToPlaylistModalState:h,shareModalState:y,mediaSubscriptionModalState:f,watchTogetherModalState:b,onLegacyAction:I,onLegacyPlay:S,onMenuClose:M}){var P;const D=(0,v.I0)(),C=ei(null==(P=r.onDeck)?void 0:P.sourceURI),w=ti(r.sourceURI),Z=!!w.metadataState,T=!!w.mediaState,N=Qm.some((t=>e[t])),O=Gm.some((t=>e[t])),A=N&&O,x=gs(r),j=(0,g.useMemo)((()=>!!s&&/continueWatching/.test(s)),[s]),L=Id(t,n,r.key,r.content),k=L?function(e,t={},n={}){const r=(0,Am.Z)(e,t,n);return E.Z.join(["#!",r])}(...L):void 0,R=(0,g.useCallback)((()=>{x({action:ss.NH}),S(vt.wA({options:{containerKey:s,listType:o}}))}),[s,o,S,x]),z=(0,g.useCallback)((()=>{x({action:ss.NH}),S((0,Ol.lS)({options:{containerKey:s,listType:o}}))}),[s,o,S,x]),U=(0,g.useCallback)((()=>{x({action:ss.Rn}),S(vt.Ld())}),[S,x]),V=(0,g.useCallback)((()=>{x({action:ss.cO}),S(vt.Em())}),[S,x]),B=(0,g.useCallback)((()=>{x({action:ss.pe}),S(vt.tP({options:{playAll:!0,next:!0}}))}),[S,x]),F=(0,g.useCallback)((()=>{x({action:ss.PR}),S(vt.tP({options:{playAll:!0,next:!1}}))}),[S,x]),_=(0,g.useCallback)((()=>{x({action:ss.$W}),S(vt.EF())}),[S,x]),H=(0,g.useCallback)((()=>{x({action:ss.b8}),S(vt.QR({playlistType:Jl.j0}))}),[S,x]),Q=(0,g.useCallback)((()=>{x({action:ss.Fx}),S(vt.QR({playlistType:Jl.pX}))}),[S,x]),G=(0,g.useCallback)((()=>{I((0,$l.Fj)())}),[I]),W=(0,g.useCallback)((({targetServer:e,targetProvider:i,targetLibrarySectionID:a,targetLibraryType:s})=>{x({action:ss.Ao}),D(os.Z.actions.addToLibraryRequested({targetServer:e,targetProvider:i,targetLibrarySectionID:a,targetLibraryType:s,server:t,provider:n,metadataItem:r})),M()}),[D,r,M,n,t,x]),Y=(0,g.useCallback)((e=>{let i,a;x({action:e?ss.$J:ss.Go}),!Fo.wB(n.identifier,Fo.xF)&&r.grandparentKey&&r.grandparentRatingKey?(i=r.grandparentKey,a=r.grandparentRatingKey):(i=r.key,a=r.ratingKey);const s=(0,yn.Z)({serverIdentifier:t.machineIdentifier,providerIdentifier:n.identifier,key:i});D(os.Z.actions.toggleSavedRequested({server:t,provider:n,sourceURI:s,ratingKey:a,saved:e})),M()}),[D,r.grandparentKey,r.grandparentRatingKey,r.key,r.ratingKey,M,n,t,x]),K=(0,g.useCallback)((()=>{Y(!0)}),[Y]),q=(0,g.useCallback)((()=>{Y(!1)}),[Y]),$=(0,g.useCallback)((()=>{x({action:ss.UP}),D(os.Z.actions.removeFromContinueWatchingRequested({server:t,provider:n,sourceURI:r.sourceURI,ratingKey:r.ratingKey})),M()}),[D,r,M,n,t,x]),J=(0,g.useCallback)((e=>{x({action:e?ss.JL:ss.hi}),D(os.Z.actions.toggleWatchlistRequested({server:t,provider:n,sourceURI:r.sourceURI,ratingKey:r.ratingKey,added:e})),M()}),[D,r.ratingKey,r.sourceURI,M,n,t,x]),X=(0,g.useCallback)((()=>{J(!0)}),[J]),ee=(0,g.useCallback)((()=>{J(!1)}),[J]),te=(0,g.useCallback)((()=>{x({action:ss.DK}),m.onOpen()}),[m,x]),ne=(0,g.useCallback)((()=>{x({action:ss.uf}),h.onOpen()}),[h,x]),re=(0,g.useCallback)((()=>{x({action:ss.DK,mode:"shortcut"})}),[x]),ie=(0,g.useCallback)((()=>{x({action:ss.uf,mode:"shortcut"})}),[x]),ae=(0,g.useCallback)((()=>{x({action:o===ni.pG.Collection?ss.cp:ss.Bn}),s&&a&&D(sp.actions.removeItemRequested({server:t,provider:n,containerKey:s,sourceURI:r.sourceURI,ratingKey:r.ratingKey})),M()}),[s,a,o,D,r.ratingKey,r.sourceURI,M,n,t,x]),se=(0,g.useCallback)((()=>{x({action:ss.dm}),I(Nl.editMetadataItem())}),[I,x]),oe=(0,g.useCallback)((()=>{x({action:ss.xc}),k||D(fd.actions.editFiltersRequested({server:t,provider:n,key:r.key}))}),[D,k,r.key,n,t,x]),le=(0,g.useCallback)((()=>{p.onOpen(),M()}),[M,p]),ce=(0,g.useCallback)((()=>{x({action:ss.RG}),D(hd.actions.metadataRefreshRequested({server:t,provider:n,sourceURI:r.sourceURI})),M()}),[D,r.sourceURI,M,n,t,x]),de=(0,g.useCallback)((()=>{x({action:ss._R}),D(hd.actions.mediaAnalysisRequested({server:t,provider:n,sourceURI:r.sourceURI,hasChildren:!!od(r.type,r.subtype)})),M()}),[D,r.sourceURI,r.subtype,r.type,M,n,t,x]),ue=(0,g.useCallback)((()=>{x({action:ss.P9}),I(Nl.fixMetadataItemMatch())}),[I,x]),pe=(0,g.useCallback)((()=>{x({action:ss.Zy}),I(Nl.unmatchMetadataItem())}),[I,x]),me=(0,g.useCallback)((()=>{x({action:ss.RF}),I(Nl.splitMetadataItemApart())}),[I,x]),he=(0,g.useCallback)((()=>{x({action:ss.J3}),I(Nl.syncMetadataItem())}),[I,x]),ge=(0,g.useCallback)((()=>{x({action:ss.FH}),I(Nl.optimizeMetadataItem())}),[I,x]),ye=(0,g.useCallback)((()=>{x({action:ss.a2})}),[x]),ve=(0,g.useCallback)((()=>{x({action:ss.a2}),I(Nl.downloadMetadataItemVersion())}),[I,x]),fe=(0,g.useCallback)((()=>{x({action:ss.Dp}),y.onOpen(),M()}),[M,y,x]),be=(0,g.useCallback)((()=>{x({action:ss.yY}),I(Nl.deleteMetadataItem({options:{skipRedirect:!l}}))}),[l,I,x]),Ie=(0,g.useCallback)((()=>{x({action:ss.yY}),I(Nl.deleteMetadataItemVersion())}),[I,x]),Se=(0,g.useCallback)((()=>{x({action:ss.$M}),I(Nl.getMetadataItemInfo())}),[I,x]),Me=(0,g.useCallback)((()=>{b.onOpen(),M()}),[M,b]);return g.createElement(g.Fragment,null,e.isPlayVisible?g.createElement(ec.Z,{onPress:_o(r)?z:R},jl(r,i,C)):null,e.isWatchTogetherVisible?g.createElement(ec.Z,{onPress:Me},(0,Ce.Z)("Watch Together...")):null,e.isPlayVersionVisible?g.createElement(ec.Z,{onPress:(0,rc.Z)(c.onOpen,M)},(0,Ce.Z)("Play Version...")):null,e.isPlayAllVisible?g.createElement(ec.Z,{onPress:U},(0,Ce.Z)("Play All")):null,e.isShuffleVisible?g.createElement(ec.Z,{onPress:V},(0,Ce.Z)("Shuffle")):null,e.isPlayRadioVisible?g.createElement(ec.Z,{onPress:H},(0,Ce.Z)("Play Radio")):null,e.isPlayArtistTVVisible?g.createElement(ec.Z,{onPress:Q},(0,Ce.Z)("Play Artist TV")):null,e.isQueueVisible?g.createElement(ec.Z,{onPress:B},(0,Ce.Z)("Play Next")):null,e.isQueueVisible?g.createElement(ec.Z,{onPress:F},(0,Ce.Z)("Add to Queue")):null,e.isPlayTrailerVisible?g.createElement(ec.Z,{onPress:_},(0,Ce.Z)("Play Trailer")):null,e.isPlayMusicVideoVisible?g.createElement(ec.Z,{onPress:_},(0,Ce.Z)("Play Music Video")):null,e.isAddToWatchlistVisible?g.createElement(ec.Z,{onPress:X},(0,Ce.Z)("Add to Watchlist")):null,e.isRemoveFromWatchlistVisible?g.createElement(ec.Z,{onPress:ee},(0,Ce.Z)("Remove from Watchlist")):null,e.isAddToPlaylistVisible||e.isAddToCollectionVisible?g.createElement(nc.Z,{label:(0,Ce.Z)("Add to"),onMenuClose:M},g.createElement(jp,{sourceURI:r.sourceURI,server:t,provider:n,contentDirectoryID:r.librarySectionID,mediaType:ba(r.type,r.subtype),metadataType:r.type,showNested:!1,onAddToCollectionPress:e.isAddToCollectionVisible?te:void 0,onAddToPlaylistPress:e.isAddToPlaylistVisible?ne:void 0,onSaveCollectionPress:re,onSavePlaylistPress:ie,onMenuClose:M})):null,e.isRemoveFromCuratedListVisible?g.createElement(ec.Z,{onPress:ae},o===ni.pG.Collection?(0,Ce.Z)("Remove from Collection"):(0,Ce.Z)("Remove from Playlist")):null,e.isAddToSavedVisible?g.createElement(ec.Z,{onPress:K},Zc(n.identifier,i.saved,r.subtype)):null,e.isRemoveFromSavedVisible?g.createElement(ec.Z,{onPress:q},Zc(n.identifier,i.saved,r.subtype)):null,e.isAddToPicksVisible?g.createElement(ec.Z,{onPress:G},i.picked?(0,Ce.Z)("Remove from Plex Picks"):(0,Ce.Z)("Add to Plex Picks")):null,e.isAddToLibraryVisible?g.createElement(cc,{onAddToLibrary:W}):null,e.isPublishVisible?g.createElement(nc.Z,{label:(0,Ce.Z)("Visible on"),onMenuClose:M},g.createElement(Om,{sourceURI:r.sourceURI,onMenuClose:M})):null,A?g.createElement(tc.Z,null):null,e.isEditVisible?g.createElement(ec.Z,{onPress:se},(0,Ce.Z)("Edit")):null,e.isEditFiltersVisible?g.createElement(ec.Z,{to:k,onPress:oe},(0,Ce.Z)("Edit Filters")):null,e.isSettingsVisible?g.createElement(ec.Z,{onPress:le},(0,Ce.Z)("Settings")):null,e.isMarkPlayedVisible?g.createElement(ec.Z,{onPress:d.onOpen},(0,Ce.Z)("Mark as Played")):null,e.isMarkUnplayedVisible?g.createElement(ec.Z,{onPress:u.onOpen},(0,Ce.Z)("Mark as Unplayed")):null,j&&e.isRemoveFromContinueWatchingVisible?g.createElement(ec.Z,{onPress:$},(0,Ce.Z)("Remove from Continue Watching")):null,e.isRefreshVisible?g.createElement(ec.Z,{isDisabled:Z,onPress:ce},(0,Ce.Z)("Refresh Metadata")):null,e.isAnalyzeVisible?g.createElement(ec.Z,{isDisabled:T,onPress:de},(0,Ce.Z)("Analyze")):null,e.isFixMatchVisible?g.createElement(ec.Z,{onPress:ue},(0,Ce.Z)("Fix Match...")):null,e.isMatchVisible?g.createElement(ec.Z,{onPress:ue},(0,Ce.Z)("Match...")):null,e.isUnmatchVisible?g.createElement(ec.Z,{onPress:pe},(0,Ce.Z)("Unmatch")):null,e.isSplitApartVisible?g.createElement(ec.Z,{onPress:me},(0,Ce.Z)("Split Apart")):null,e.isSyncVisible?g.createElement(ec.Z,{onPress:he},(0,Ce.Z)("Sync...")):null,e.isSyncDownloadVisible?g.createElement(Gp,{metadataItem:r,onMenuClose:M}):null,e.isRecordVisible?g.createElement(ec.Z,{onPress:f.onOpen},null==i.grandparentSubscriptionID&&null==i.subscriptionID?(0,Ce.Z)("Record"):(0,Ce.Z)("Modify Recording")):null,e.isOptimizeVisible?g.createElement(ec.Z,{onPress:ge},(0,Ce.Z)("Optimize...")):null,e.isDownloadFileVisible?g.createElement(fc,{metadataItem:r,downloadIFrameName:"downloadFileFrame",onMenuClose:M,onDownloadVersionPress:ve,onDownloadFilePress:ye}):null,e.isShareVisible?g.createElement(ec.Z,{onPress:fe},(0,Ce.Z)("Share")):null,e.isDeleteVisible?g.createElement(ec.Z,{kind:r.remoteMedia?void 0:ic.T,onPress:be},r.remoteMedia?(0,Ce.Z)("Remove"):(0,Ce.Z)("Delete")):null,e.isDeleteVersionVisible?g.createElement(ec.Z,{kind:ic.T,onPress:Ie},(0,Ce.Z)("Delete Version")):null,e.isViewPlayHistoryVisible?g.createElement(ec.Z,{to:(0,zm.Z)(t.machineIdentifier,r)},(0,Ce.Z)("View Play History")):null,e.isGetInfoVisible?g.createElement(ec.Z,{onPress:Se},(0,Ce.Z)("Get Info")):null)}function Km({className:e,target:t,isOpen:n,actionsOverride:r,metadataItem:i,allowRedirectOnDelete:a,onMenuClose:s,onMenuCloseComplete:o}){var l;const c=(0,v.I0)(),[d,u]=Hn(),{metricsPage:p,metricsContextTuple:m}=(0,Jt.Zn)(),{containerServer:h,containerProvider:y,containerSourceURI:f,containerKey:b,containerType:I,containerSubtype:S}=Or(),M=ei(i.sourceURI),E=(0,v.v9)(Tl.Z),P=sd({server:d,provider:u,stableUser:E,containerType:I,containerSubtype:S,metadataItem:i,metadataItemState:M}),D=Hm(Hm({},P),r),C=(0,gd.Z)(),w=Wm(C),Z=(0,gd.Z)(),T=Wm(Z),N=(0,gd.Z)(),O=Wm(N),A=(0,gd.Z)(),x=Wm(A),j=(0,gd.Z)(),L=Wm(j),k=(0,gd.Z)(),R=Wm(k),z=(0,gd.Z)(),U=Wm(z),V=(0,gd.Z)(),B=Wm(V),F=(0,gd.Z)(),_=Wm(F),H=Ic({server:d,provider:u,metadataItem:i,metadataItemState:M}),Q=xl({containerServer:h,containerProvider:y,server:d,provider:u,metadataItem:i,metadataItemState:M,metricsPage:p,metricsContextTuple:m}),G=gs(i),W=(0,g.useMemo)((()=>({page:p,contextTuple:m})),[m,p]),Y=(0,g.useCallback)((e=>{H(e),s()}),[s,H]),K=(0,g.useCallback)((e=>{Q(e),s()}),[s,Q]),q=(0,g.useCallback)((e=>{var t;G({action:ss.DV}),K(vt.wA({confirmOffset:!0,startOffsetMilliseconds:null!=(t=M.viewOffset)?t:0,startMediaIndex:e,options:{containerKey:b,listType:I}})),C.onClose()}),[b,I,M.viewOffset,K,C,G]),$=(0,g.useCallback)((e=>{G({action:e?ss.qe:ss.h3}),c(os.Z.actions.playedStatusUpdateRequested({server:d,provider:u,sourceURI:i.sourceURI,ratingKey:i.ratingKey,played:e})),s()}),[c,i.ratingKey,i.sourceURI,s,u,d,G]),J=(0,g.useCallback)((()=>{$(!0),Z.onClose()}),[Z,$]),X=(0,g.useCallback)((()=>{$(!1),N.onClose()}),[N,$]),ee=(0,g.useCallback)((()=>{c(os.Z.actions.repopulateRequested({sourceURI:i.sourceURI})),G({action:ss.DK,mode:"shortcut"})}),[c,G,i.sourceURI]),te=(0,g.useCallback)((()=>{G({action:ss.uf,mode:"shortcut"})}),[G]);return g.createElement(g.Fragment,null,g.createElement(Xl.Z,{className:e,target:t,isOpen:n,onMenuClose:s,onMenuCloseComplete:o},g.createElement(Ym,{actions:D,server:d,provider:u,metadataItem:i,metadataItemState:M,containerSourceURI:f,containerKey:b,containerType:I,allowRedirectOnDelete:a,playVersionModalState:C,confirmMarkPlayedModalState:Z,confirmMarkUnplayedModalState:N,settingsModalState:A,addToCollectionModalState:k,addToPlaylistModalState:j,mediaSubscriptionModalState:V,shareModalState:z,watchTogetherModalState:F,onLegacyAction:Y,onLegacyPlay:K,onMenuClose:s})),w?g.createElement(Cc,{isOpen:C.isOpen,mediaItems:null!=(l=i.Media)?l:[],onSelect:q,onCancel:C.onClose}):null,T||O?g.createElement(jm.Z,{isOpen:Z.isOpen||N.isOpen,type:i.type,subtype:i.subtype,title:i.title,leafCount:Z.isOpen?M.unviewedLeafCount:M.viewedLeafCount,markUnplayed:N.isOpen,onConfirm:Z.isOpen?J:X,onCancel:Z.isOpen?Z.onClose:N.onClose}):null,R&&i.librarySectionID?g.createElement(Tp,{isOpen:k.isOpen,sourceURI:i.sourceURI,contentDirectoryID:i.librarySectionID,defaultTitle:i.title,metadataType:i.type,onModalClose:k.onClose,onSaveSuccess:ee}):null,L?g.createElement(_p,{isOpen:j.isOpen,sourceURI:i.sourceURI,defaultTitle:i.title,defaultDestinationSource:i.source,mediaType:ba(i.type,i.subtype),onModalClose:j.onClose,onSaveSuccess:te}):null,U?g.createElement(Sc,{metadataItem:i,metadataItemState:M},(({serverEntityID:e,metadataItemEntityID:t})=>g.createElement(xm.Z,{isOpen:z.isOpen,serverEntityID:e,metadataItemEntityID:t,metricsProperties:W,onModalClose:z.onClose}))):null,_?g.createElement(Sc,{metadataItem:i,metadataItemState:M},(({serverEntityID:e,metadataItemEntityID:t})=>g.createElement(Rm.Z,{isOpen:F.isOpen,serverEntityID:e,metadataItemEntityID:t,metricsProperties:{page:p,contextTuple:m},onModalClose:F.onClose}))):null,x?g.createElement(Sc,{metadataItem:i,metadataItemState:M},(({serverEntityID:e,providerEntityID:t,metadataItemEntityID:n,onMarkStale:r})=>g.createElement(Lm.Z,{isOpen:A.isOpen,serverEntityID:e,providerEntityID:t,metadataItemEntityID:n,metricsProperties:W,onModalClose:(0,rc.Z)(r,A.onClose)}))):null,B?g.createElement(Sc,{metadataItem:i,metadataItemState:M},(({serverEntityID:e,providerEntityID:t,metadataItemEntityID:n,onMarkStale:r})=>{const a=M.grandparentSubscriptionType||M.subscriptionType||i.type;return g.createElement(km.Z,{isOpen:V.isOpen,serverEntityID:e,providerEntityID:t,metadataItemEntityID:n,subscriptionType:a,metricsProperties:W,onModalClose:(0,rc.Z)(r,V.onClose)})})):null,D.isSyncDownloadVisible?g.createElement(pm,{metadataItem:i}):null)}var qm=n(46391);var $m=Object.defineProperty,Jm=Object.prototype.hasOwnProperty,Xm=Object.getOwnPropertySymbols,eh=Object.prototype.propertyIsEnumerable,th=(e,t,n)=>t in e?$m(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;function nh(e){var t=e,{id:n,className:r,tabIndex:i,isPending:a}=t,s=((e,t)=>{var n={};for(var r in e)Jm.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&Xm)for(var r of Xm(e))t.indexOf(r)<0&&eh.call(e,r)&&(n[r]=e[r]);return n})(t,["id","className","tabIndex","isPending"]);return g.createElement(vr,((e,t)=>{for(var n in t||(t={}))Jm.call(t,n)&&th(e,n,t[n]);if(Xm)for(var n of Xm(t))eh.call(t,n)&&th(e,n,t[n]);return e})({id:n,className:r,tabIndex:i,"aria-label":(0,Ce.Z)("More Actions"),"aria-haspopup":!0},s),a?g.createElement("div",{className:"ActionsLink-spinnerContainer-2NckGC"},g.createElement(lt,{size:st.Small})):g.createElement(qm.Z,null))}const rh={selectButton:"SelectButton-selectButton-1C3dP4 Link-link-2WGTd7",selectCircle:"SelectButton-selectCircle-2NTkCS",selectedIcon:"SelectButton-selectedIcon-14AfFl",unselectedCircle:"SelectButton-unselectedCircle-39XTGh SelectButton-selectCircle-2NTkCS",selectedCircle:"SelectButton-selectedCircle-2zHVBT SelectButton-selectCircle-2NTkCS",rangeCircle:"SelectButton-rangeCircle-zD8oLg SelectButton-selectCircle-2NTkCS"};var ih=Object.defineProperty,ah=Object.prototype.hasOwnProperty,sh=Object.getOwnPropertySymbols,oh=Object.prototype.propertyIsEnumerable,lh=(e,t,n)=>t in e?ih(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;function ch(e){var t=e,{className:n=rh.selectButton,selectedCircleClassName:r=rh.selectedCircle,rangeCircleClassName:i=rh.rangeCircle,selectCircleClassName:a=rh.unselectedCircle,iconClassName:s=rh.selectedIcon,title:o,isSelected:l,isInSelectionRange:c}=t,d=((e,t)=>{var n={};for(var r in e)ah.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&sh)for(var r of sh(e))t.indexOf(r)<0&&oh.call(e,r)&&(n[r]=e[r]);return n})(t,["className","selectedCircleClassName","rangeCircleClassName","selectCircleClassName","iconClassName","title","isSelected","isInSelectionRange"]);const u=(0,g.useMemo)((()=>l?r:c?i:a),[c,l,i,a,r]);return g.createElement(vr,((e,t)=>{for(var n in t||(t={}))ah.call(t,n)&&lh(e,n,t[n]);if(sh)for(var n of sh(t))oh.call(t,n)&&lh(e,n,t[n]);return e})({className:n,"aria-label":l?(0,Ce.Z)("Deselect {title}",{title:o}):(0,Ce.Z)("Select {title}",{title:o})},d),g.createElement("div",{className:u,"data-qa-id":"multipleSelectButton"},l||c?g.createElement(Ko.Z,{className:s}):null))}const dh=function(e){return!!Lc(e)||!!Fo.wB(e.identifier,Fo.xF)};var uh=n(52410);const ph="MetadataPosterCardActions-isHidden-3a_54z";function mh({playCircleClassName:e="MetadataPosterCardActions-playCircle-3-j0JO PlayButton-playCircle-2DYa77 MetadataPosterCardCircle-cardCircle-1T_VVp",metadataItem:t,metadataItemState:n,isHovered:r,actionsMenuButtonID:i,isActionsPending:a,isActionsVisible:s,isActionsMenuOpen:o,isActionsMenuClosing:l,isSelectHidden:c,isSelected:d,isInSelectionRange:u,isSelectionActive:p,isPlayButtonCard:m,onActionsMenuClose:h,onActionsMenuCloseComplete:y,onActionsMenuToggle:f,onSelectPress:b}){const[I,S]=Hn(),M=(0,v.v9)(Tl.Z),E=Bc({server:I,provider:S,stableUser:M,metadataItem:t,metadataItemState:n})&&(r||o&&!n.isPending),P=Xc({server:I,provider:S,stableUser:M,metadataItem:t,metadataItemState:n}),D=Ic({server:I,provider:S,metadataItem:t,metadataItemState:n}),C=gs(t),w=(0,g.useCallback)((()=>{C({action:ss.dm}),D((0,Nl.editMetadataItem)())}),[D,C]);return g.createElement(g.Fragment,null,!p&&s&&E?g.createElement(ql,{className:Te()(m?"MetadataPosterCardActions-playCoverButton-3ys6cq PosterCardLink-hoveredLink-3BYG1D PosterCardLink-link-2mWlqA Link-link-2WGTd7 MetadataPosterCardActions-playButton-bMvN35 PlayButton-playButton-2dFmuo MetadataPosterCardActions-button--q7OIG Link-link-2WGTd7":"MetadataPosterCardActions-playButton-bMvN35 PlayButton-playButton-2dFmuo MetadataPosterCardActions-button--q7OIG Link-link-2WGTd7",!r&&l&&ph),circleClassName:e,tabIndex:-1,metadataItem:t}):null,dh(S)&&!t.radio&&!c&&(d||u||s)?g.createElement(ch,{className:Te()("MetadataPosterCardActions-selectButton-9mUXBp SelectButton-selectButton-1C3dP4 Link-link-2WGTd7 MetadataPosterCardActions-button--q7OIG Link-link-2WGTd7",!r&&l&&ph),isSelected:d,isInSelectionRange:u,title:Vo(t),tabIndex:-1,onPress:b}):null,!p&&s&&!m&&P?g.createElement(vr,{className:Te()("MetadataPosterCardActions-editButton-3xqm09 MetadataPosterCardActions-button--q7OIG Link-link-2WGTd7",!r&&l&&ph),tabIndex:-1,"aria-label":(0,Ce.Z)("Edit"),onPress:w},g.createElement(uh.Z,null)):null,p||!s||m?null:g.createElement(nh,{id:i,className:Te()("MetadataPosterCardActions-moreButton-2gEa9g MetadataPosterCardActions-button--q7OIG Link-link-2WGTd7",!r&&l&&ph),isPending:a,tabIndex:-1,onPress:f}),g.createElement(Km,{target:i,isOpen:o,metadataItem:t,actionsOverride:{isPlayVisible:!1,isEditVisible:!1},onMenuClose:h,onMenuCloseComplete:y}))}var hh=Object.defineProperty,gh=Object.prototype.hasOwnProperty,yh=Object.getOwnPropertySymbols,vh=Object.prototype.propertyIsEnumerable,fh=(e,t,n)=>t in e?hh(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,bh=(e,t)=>{for(var n in t||(t={}))gh.call(t,n)&&fh(e,n,t[n]);if(yh)for(var n of yh(t))vh.call(t,n)&&fh(e,n,t[n]);return e};function Ih({className:e="MetadataPosterCardProgressBar-progress-2_I-C-",trackClassName:t="MetadataPosterCardProgressBar-track-2w4qWw",barClassName:n="MetadataPosterCardProgressBar-bar-28PJbT",style:r,barStyle:i,progress:a}){return g.createElement("div",{className:e,style:r},g.createElement("div",{className:t}),g.createElement("div",{className:n,style:bh(bh({},i),{transform:`translate3d(-${100-a}%, 0, 0)`})}))}var Sh=n(11969),Mh=n(39869),Eh=n(62020),Ph=n(74739);function Dh({children:e,className:t="MetadataPosterCardCircle-cardCircle-1T_VVp"}){return g.createElement("div",{className:t},e)}function Ch({children:e}){return g.createElement("div",{className:"MetadataPosterCardScanStatus-statusContainer-1ojit4"},e)}function wh({children:e}){return g.createElement(Ch,null,g.createElement("div",{className:"MetadataPosterCardScanStatus-spinnerContainer-3yzhvK"},g.createElement(lt,{className:"MetadataPosterCardScanStatus-spinner-30HTx4 Spinner-spinner-CSMaLA spin-spin-34xiUE"})),g.createElement(Dh,null,e))}function Zh({metadataItemState:e,metadataTimelineState:t}){return t.metadataState===cd.Matching?g.createElement(wh,null,g.createElement(Mh.Z,{"aria-label":(0,Ce.Z)("Matching")})):t.metadataState===cd.Processing||t.metadataState===cd.Loading?g.createElement(wh,null,g.createElement(Eh.Z,{"aria-label":(0,Ce.Z)("Downloading Metadata")})):t.mediaState?g.createElement(wh,null,g.createElement(Sh.Z,{"aria-label":(0,Ce.Z)("Analyzing")})):e.deletedAt?g.createElement(Ch,null,g.createElement(Dh,{className:"MetadataPosterCardScanStatus-trashCircle-8nNMxU MetadataPosterCardCircle-cardCircle-1T_VVp"},g.createElement(Ph.Z,{"aria-label":(0,Ce.Z)("In Trash")}))):null}const Th="MetadataPosterCard-topRightBadge-ZKd4Ov MetadataPosterCard-badge-3iLj2g",Nh=(0,Ms.Z)(to.Z.slowSpeed),Oh=(0,g.memo)((function({className:e,playCircleClassName:t,metadataItem:n,metadataItemState:r,metadataTimelineState:i,width:a,height:s,aspectRatio:o,displayImageType:l,isPlayButtonCard:c,isPlayedStatusHidden:d,isProgressBarHidden:u,isSelectHidden:p,isSelectionActive:m,isSelected:h,isInSelectionRange:y,onHover:f,onToggleSelect:b}){var I;const[S,M]=Hn(),E=(0,v.v9)(hl(bn.q1)),{hoverRef:P,isHovered:D,actionsMenuButtonID:C,isActionsPending:w,isActionsVisible:Z,isActionsMenuOpen:T,isActionsMenuClosing:N,onActionsMenuClose:O,onActionsMenuCloseComplete:A,onActionsMenuToggle:x}=Ao({server:S,provider:M,metadataItem:n,metadataItemState:r}),j=ci(n,"key"),L=c||!j,k=null!=(I=r.viewOffset)?I:0,R=(0,g.useRef)(!1),z=R.current?to.Z.slowSpeed:"0s",U=!p&&m,V=o||si(n.type,n.subtype);Zl("number"==typeof a||"number"==typeof s,"`MetadataPosterCard` requires either a `width` or `height, or both");let B={width:0,height:0};null!=a&&null!=s?B={width:a,height:s}:a?B=oi({width:a,aspectRatio:V}):s&&(B=oi({height:s,aspectRatio:V}));const F=(0,g.useCallback)((()=>{null==b||b()}),[b]);(0,g.useEffect)((()=>{null==f||f(D)}),[D,f]),(0,g.useEffect)((()=>{const e=window.setTimeout((()=>{R.current=!0}),Nh);return()=>{window.clearTimeout(e)}}),[]);let _="cover";return n.isLiveTVChannel?_="75%":n.type===ni.pG.Game&&(_="contain"),g.createElement(Fr,{className:e,style:B,ref:P},n.radio?g.createElement(al,{width:B.width,height:B.height},g.createElement(Zo.Z,null)):g.createElement(xt.Z,{className:"MetadataPosterCard-image-14Kch3",serverEntityID:S.entityID,providerEntityID:M.entityID,url:Bo(n,{aspectRatio:V,displayImageType:l}),width:B.width,height:B.height,component:Ot.Z,preloadOnMount:!1,animateOnMount:!1,backgroundSize:_}),D||T?null:g.createElement(Zh,{metadataItemState:r,metadataTimelineState:i}),n.userState&&k>0&&!u?g.createElement(Ih,{className:"MetadataPosterCard-progress-3wzXyY MetadataPosterCardProgressBar-progress-2_I-C-",style:{opacity:D||T?0:1,animationDuration:z},barClassName:"MetadataPosterCard-progressBar-3_l1bX MetadataPosterCardProgressBar-bar-28PJbT",barStyle:{animationDuration:z},progress:(0,To.Z)(k,n.duration)}):null,L||U?null:g.createElement(pl,{isHovered:D||T,to:j,"aria-label":Vo(n)}),U?g.createElement(pl,{className:h?"MetadataPosterCard-selectedLink-2yBNf3 PosterCardLink-link-2mWlqA Link-link-2WGTd7":void 0,hoverClassName:h?"MetadataPosterCard-hoveredSelectedLink-3XsEZh PosterCardLink-hoveredLink-3BYG1D PosterCardLink-link-2mWlqA Link-link-2WGTd7":void 0,isHovered:y||D,"aria-label":Vo(n),onPress:F}):null,D||T?null:g.createElement(wl,{className:"MetadataPosterCard-bottomRightBadge-rTvD5e MetadataPosterCard-badge-3iLj2g",metadataItem:n,isShadowVisible:!0}),g.createElement(mh,{playCircleClassName:t,metadataItem:n,metadataItemState:r,isHovered:D,isActionsPending:w,isActionsVisible:Z,actionsMenuButtonID:C,isActionsMenuOpen:T,isActionsMenuClosing:N,isSelectHidden:p,isSelected:h,isInSelectionRange:y,isSelectionActive:U,isPlayButtonCard:L,onActionsMenuClose:O,onActionsMenuCloseComplete:A,onActionsMenuToggle:x,onSelectPress:F}),n.smart&&!n.radio?g.createElement("div",{className:Th,style:{animationDuration:z}},g.createElement(tl,null)):null,E&&!d&&(r.watchlistedAt||Wo(n,r))?g.createElement("div",{className:Th,style:{animationDuration:z}},r.watchlistedAt?g.createElement(il,null):g.createElement(qo,null)):null,r.grandparentSubscriptionType||r.subscriptionType?g.createElement("div",{className:Th},r.grandparentSubscriptionType?g.createElement(Xo,{subscriptionType:r.grandparentSubscriptionType}):null,!r.grandparentSubscriptionType&&r.subscriptionType?g.createElement(Xo,{subscriptionType:r.subscriptionType}):null):null,E||!Go(n,r,M)||r.viewOffset||r.viewCount?null:g.createElement("div",{className:"MetadataPosterCard-legacyUnwatchedTagMask-2GZyFo"},g.createElement("div",{className:"MetadataPosterCard-legacyUnwatchedTag-2p_o9e"})),E||Qo(M)||_o(n)||n.type!==ni.pG.Show&&n.type!==ni.pG.Season||null!=r.saved&&!r.saved||!r.unviewedLeafCount?null:g.createElement("div",{className:"MetadataPosterCard-legacyUnwatchedEpisodesBadge-PxtEaD MetadataPosterCard-legacyNumberBadge-3vfppB MetadataPosterCard-badge-3iLj2g MetadataPosterCard-topRightBadge-ZKd4Ov MetadataPosterCard-badge-3iLj2g"},r.unviewedLeafCount))}));function Ah({metadataItem:e,component:t,allowLink:n,isSecondary:r,isDoubleLine:i}){return g.createElement(t,{className:Te()(i?"MetadataPosterCardTitle-doubleLineTitle-2FWysX MetadataPosterCardTitle-title-3Rf96m":"MetadataPosterCardTitle-singleLineTitle-tbmjc5 MetadataPosterCardTitle-title-3Rf96m",r&&"MetadataPosterCardTitle-isSecondary-3Nh6J0"),allowLink:n,tabIndex:-1,metadataItem:e})}var xh=Object.prototype.hasOwnProperty,jh=Object.getOwnPropertySymbols,Lh=Object.prototype.propertyIsEnumerable;function kh(e){var t=e,{item:n}=t,r=((e,t)=>{var n={};for(var r in e)xh.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&jh)for(var r of jh(e))t.indexOf(r)<0&&Lh.call(e,r)&&(n[r]=e[r]);return n})(t,["item"]);const{containerType:i,containerSubtype:a,containerMeta:s,listStyle:o}=Or(),l=ei(null==n?void 0:n.sourceURI),c=ti(null==n?void 0:n.sourceURI),[d,u]=(0,g.useState)(!1),{isSelectionActive:p,isSelected:m,isInSelectionRange:h,onToggleSelect:y}=Do({isHovered:d,metadataItem:n,metadataItemState:l}),v=oo(r),f=(0,g.useMemo)((()=>{var e;return null!=(e=null==n?void 0:n.displayImage)?e:wo(i,a,null==s?void 0:s.DisplayImage)}),[null==s?void 0:s.DisplayImage,a,i,null==n?void 0:n.displayImage]),b=(0,g.useMemo)((()=>si(i,a,{listStyle:o,displayImageType:f})),[a,i,f,o]),I=(0,g.useMemo)((()=>oi({width:r.cellWidth,aspectRatio:b})),[b,r.cellWidth]),S=(0,g.useMemo)((()=>{if(!n)return[];const e=i===En.U.Collection||n.type!==ni.pG.Collection&&i!==En.U.Mixed;return Xs(e?i:n.type,e?a:n.subtype,{listStyle:o,displayFieldNames:n.displayFields||Co(n.type,n.subtype,null==s?void 0:s.DisplayFields)})}),[a,i,null==s?void 0:s.DisplayFields,o,n]),M=(null==n?void 0:n.type)===ni.pG.Game;return n?g.createElement(jr,{metadataItem:n,metadataItemState:l},g.createElement("div",{style:v.style,"data-qa-id":"cellItem"},g.createElement(Oh,{className:"MetadataPosterListItem-card-23SzTE PosterCard-card-2-REtd",metadataItem:n,metadataItemState:l,metadataTimelineState:c,width:I.width,height:I.height,aspectRatio:b,isSelectionActive:p,isSelected:m,isInSelectionRange:h,displayImageType:f,isProgressBarHidden:M,onHover:u,onToggleSelect:y}),S.map(((e,t)=>{if(null==e)return null;const r=function(e){return"component"in e?e:{component:e}}(e);return g.createElement(Ah,{key:t,component:r.component,isSecondary:t>0,isDoubleLine:r.isDoubleLine,allowLink:r.allowLink,metadataItem:n})})))):g.createElement("div",{style:v.style},g.createElement(Kr,{style:I,index:r.cellIndex}))}const Rh="MetadataWidePosterListItem-container-3vHol2",zh="MetadataWidePosterListItem-titlesContainer-34wJzk";var Uh=Object.prototype.hasOwnProperty,Vh=Object.getOwnPropertySymbols,Bh=Object.prototype.propertyIsEnumerable;function Fh(e){var t=e,{item:n}=t,r=((e,t)=>{var n={};for(var r in e)Uh.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&Vh)for(var r of Vh(e))t.indexOf(r)<0&&Bh.call(e,r)&&(n[r]=e[r]);return n})(t,["item"]);const{containerType:i,containerSubtype:a,listStyle:s}=Or(),o=ei(null==n?void 0:n.sourceURI),l=ti(null==n?void 0:n.sourceURI),c=oo(r),d=(0,g.useMemo)((()=>si(i,a,{listStyle:s})),[a,i,s]),u=(0,g.useMemo)((()=>oi({height:r.cellHeight,aspectRatio:d})),[d,r.cellHeight]);return n?g.createElement(jr,{metadataItem:n,metadataItemState:o},g.createElement("div",{className:Rh,style:c.style},g.createElement(Oh,{className:"MetadataWidePosterListItem-card-2Ra5hr PosterCard-card-2-REtd",metadataItem:n,metadataItemState:o,metadataTimelineState:l,width:u.width,height:u.height,aspectRatio:d}),g.createElement("div",{className:zh},g.createElement(di,{className:"MetadataWidePosterListItem-doubleTitle-9Q1GYt MetadataWidePosterListItem-title-2dLxc0",metadataItem:n}),g.createElement("div",{className:"MetadataWidePosterListItem-subtitle-6TrSQn MetadataWidePosterListItem-title-2dLxc0"},g.createElement(qa,{metadataItem:n}),n.leafCount?g.createElement(g.Fragment,null,g.createElement(rs.Z,{separator:""}),g.createElement(Xa,{metadataItem:n})):null,n.duration?g.createElement(g.Fragment,null,g.createElement(rs.Z,{separator:""}),g.createElement(Va,{metadataItem:n})):null)))):g.createElement("div",{className:Rh,style:c.style},g.createElement(Kr,{className:"MetadataWidePosterListItem-placeholderCard-3Yy3XE MetadataPosterCardPlaceholder-placeholder-23vQRH PosterCard-card-2-REtd",style:u,index:r.cellIndex}),g.createElement("div",{className:zh},g.createElement("div",{className:"MetadataWidePosterListItem-placeholderTitle-38ftTR"}),g.createElement("div",{className:"MetadataWidePosterListItem-placeholderSubtitle-285isH MetadataWidePosterListItem-placeholderTitle-38ftTR"})))}var _h=n(56724);function Hh(e,t,n){const r=(0,_h.Z)(e),i=null==n?void 0:n.displayFields;if(i){if(e===En.U.Mixed)return i.reduce(((e,t)=>Math.max(e,t.fields.length)),0);{const e=Co(r,t,i);if(e)return e.length}}return Xs(null!=r?r:e,t,{listStyle:null==n?void 0:n.listStyle}).reduce(((e,t)=>null!=t&&function(e){var t;return!!e&&null!=(t=e.isDoubleLine)&&t}(t)?e+2:e+1),0)}var Qh=Object.defineProperty,Gh=Object.prototype.hasOwnProperty,Wh=Object.getOwnPropertySymbols,Yh=Object.prototype.propertyIsEnumerable,Kh=(e,t,n)=>t in e?Qh(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;function qh(e){var t=e,{columnWidth:n,rowHeight:r}=t,i=((e,t)=>{var n={};for(var r in e)Gh.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&Wh)for(var r of Wh(e))t.indexOf(r)<0&&Yh.call(e,r)&&(n[r]=e[r]);return n})(t,["columnWidth","rowHeight"]);return fu(((e,t)=>{for(var n in t||(t={}))Gh.call(t,n)&&Kh(e,n,t[n]);if(Wh)for(var n of Wh(t))Yh.call(t,n)&&Kh(e,n,t[n]);return e})({direction:gu.Horizontal,rows:1,getCellWidth:()=>n,getCellHeight:()=>r,overscan:4},i))}var $h=Object.defineProperty,Jh=Object.prototype.hasOwnProperty,Xh=Object.getOwnPropertySymbols,eg=Object.prototype.propertyIsEnumerable,tg=(e,t,n)=>t in e?$h(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var ng=n(7796),rg=Object.defineProperty,ig=Object.prototype.hasOwnProperty,ag=Object.getOwnPropertySymbols,sg=Object.prototype.propertyIsEnumerable,og=(e,t,n)=>t in e?rg(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const lg=parseInt(ng.Z.v4PagePadding,10),cg=parseInt(ng.Z.v4CardTitleHeight,10),dg=parseInt(ng.Z.v4CardTitleGap,10),ug=parseInt(ng.Z.v4CardShadowSize,10),pg=parseInt(ng.Z.gapMedium,10);function mg(e){var t=e,{listType:n,subtype:r,listStyle:i,displayFields:a,displayImages:s,columnWidth:o}=t,l=((e,t)=>{var n={};for(var r in e)ig.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&ag)for(var r of ag(e))t.indexOf(r)<0&&sg.call(e,r)&&(n[r]=e[r]);return n})(t,["listType","subtype","listStyle","displayFields","displayImages","columnWidth"]);const c=si(n,r,{listStyle:i,displayImageType:wo(n,r,s)}),d=l.titleCount?l.titleCount:Hh(n,r,{listStyle:i,displayFields:a});return function(e){var t=e,{columnWidth:n,aspectRatio:r,titleHeight:i,innerHorizontalPadding:a}=t,s=((e,t)=>{var n={};for(var r in e)Jh.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&Xh)for(var r of Xh(e))t.indexOf(r)<0&&eg.call(e,r)&&(n[r]=e[r]);return n})(t,["columnWidth","aspectRatio","titleHeight","innerHorizontalPadding"]);return qh(((e,t)=>{for(var n in t||(t={}))Jh.call(t,n)&&tg(e,n,t[n]);if(Xh)for(var n of Xh(t))eg.call(t,n)&&tg(e,n,t[n]);return e})({columnWidth:n,rowHeight:Math.floor(n/r+i),innerHorizontalPadding:a},s))}(((e,t)=>{for(var n in t||(t={}))ig.call(t,n)&&og(e,n,t[n]);if(ag)for(var n of ag(t))sg.call(t,n)&&og(e,n,t[n]);return e})({columnWidth:c===ai?2*o+pg:o,aspectRatio:c,titleHeight:cg*d+dg,innerHorizontalPadding:pg,outerPaddingTop:ug,outerPaddingRight:lg,outerPaddingBottom:ug,outerPaddingLeft:lg},l))}var hg=Object.defineProperty,gg=Object.prototype.hasOwnProperty,yg=Object.getOwnPropertySymbols,vg=Object.prototype.propertyIsEnumerable,fg=(e,t,n)=>t in e?hg(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const bg=parseInt(ng.Z.v4PagePadding,10),Ig=parseInt(ng.Z.v4CardShadowSize,10),Sg=parseInt(ng.Z.gapMedium,10);var Mg=n(48759);const Eg={iconButton:"IconButton-iconButton-1kbRFb Link-link-2WGTd7",isDisabled:"IconButton-isDisabled-3rZuxc",isActive:"IconButton-isActive-3RXALk"};var Pg=Object.defineProperty,Dg=Object.prototype.hasOwnProperty,Cg=Object.getOwnPropertySymbols,wg=Object.prototype.propertyIsEnumerable,Zg=(e,t,n)=>t in e?Pg(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Tg=(e,t)=>{for(var n in t||(t={}))Dg.call(t,n)&&Zg(e,n,t[n]);if(Cg)for(var n of Cg(t))wg.call(t,n)&&Zg(e,n,t[n]);return e};function Ng(e){var t=e,{children:n,className:r=Eg.iconButton,activeClassName:i=Eg.isActive,disabledClassName:a=Eg.isDisabled,iconClassName:s,iconComponent:o,isDisabled:l=!1,isActive:c=!1,title:d,ariaLabel:u}=t,p=((e,t)=>{var n={};for(var r in e)Dg.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&Cg)for(var r of Cg(e))t.indexOf(r)<0&&wg.call(e,r)&&(n[r]=e[r]);return n})(t,["children","className","activeClassName","disabledClassName","iconClassName","iconComponent","isDisabled","isActive","title","ariaLabel"]);const m=u||d;return g.createElement(vr,Tg(Tg({},p),{className:Te()(r,l&&a,c&&i),isDisabled:l,"aria-label":m,title:d}),g.createElement(o,{className:s}),n)}function Og({className:e="HubTitle-hubTitle-2NQNPv",children:t}){return g.createElement("div",{className:e,"data-qa-id":"hubTitle"},t)}function Ag({hub:e,size:t,totalSize:n,initialPageSize:r,isVisible:i=!0,onPageRequest:a}){const s=!(!e.placeholder||!e.more||t||null!=n),o=(0,g.useMemo)((()=>{const e=[];return e.length=r,e}),[r]);return(0,g.useEffect)((()=>{var t;!i&&s||!e.more||null!=n||null==a||a({startIndex:null!=(t=e.initialSize)?t:0,size:r})}),[e.initialSize,e.more,s,i,a,n,r]),{isPlaceholder:s,placeholderItems:o}}function xg(e){var t=e["aria-label"],n=e.className,r=e.style,i={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-hub-next-560"};i["aria-hidden"]=!t,i.style=r,i.className=oa.Z.plexIcon+(n?" "+n:"");var a=[g.createElement.apply(g,["path",{d:"m532 280l-252-252-56 56 196 196-196 196 56 56 252-252"}].concat([]))];return t&&a.unshift(g.createElement("title",null,t)),g.createElement.apply(g,["svg",i].concat(a))}xg.propTypes={"aria-label":sa().string,className:sa().string,style:sa().object};const jg=xg;function Lg(e){var t=e["aria-label"],n=e.className,r=e.style,i={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-hub-prev-560"};i["aria-hidden"]=!t,i.style=r,i.className=oa.Z.plexIcon+(n?" "+n:"");var a=[g.createElement.apply(g,["path",{d:"m28 280l252-252 56 56-196 196 196 196-56 56-252-252"}].concat([]))];return t&&a.unshift(g.createElement("title",null,t)),g.createElement.apply(g,["svg",i].concat(a))}Lg.propTypes={"aria-label":sa().string,className:sa().string,style:sa().object};const kg=Lg,Rg="VirtualHubScroller-hubScrollButton-WieIHz IconButton-iconButton-1kbRFb Link-link-2WGTd7";function zg({className:e="VirtualHubScroller-hub-bVNDB-",hubHeaderClassName:t="VirtualHubScroller-hubHeader-1_4Pjo",hub:n,hubTitleComponent:r,keyPropName:i,items:a,totalSize:s,initialPageSize:o=24,hasError:l,layout:c,cellComponentFactory:d,shouldCenterScrollIndex:u,onHubReady:p,onPageRequest:m}){const{title:h,initialSize:y,random:v}=n,f=(0,g.useRef)(null),[b,I]=(0,g.useState)(!1),[S,M]=(0,g.useState)("auto"),[E,P]=(0,g.useState)(!1),[D,C]=(0,g.useState)(!1),[w,Z]=(0,g.useState)(),[T,N]=function(e){const t=(0,Mg.YD)({triggerOnce:!0});return void 0===window.IntersectionObserver?[void 0,!0]:t}(),O=null==s||v?y:s,A=Math.min(1e4,null!=O?O:0),x={visibility:b?"visible":"hidden"},j={height:S,overflow:"hidden"},L=(0,g.useCallback)((e=>{I(!0),M(e.height)}),[]),k=(0,g.useCallback)((e=>{const{visibleStartIndex:t,visibleEndIndex:n}=e;f.current=e,P(t>0),C(A>n+1)}),[A]),R=(0,g.useCallback)((()=>{const e=f.current;if(e){const t=e.visibleEndIndex-e.visibleStartIndex;Z(Math.max(e.visibleStartIndex-t-1,0))}}),[]),z=(0,g.useCallback)((()=>{const e=f.current;e&&Z(e.visibleEndIndex+1)}),[]),{isPlaceholder:U,placeholderItems:V}=Ag({hub:n,size:a.length,totalSize:s,initialPageSize:o,isVisible:N,onPageRequest:m});return(0,g.useEffect)((()=>{(0===s||null==s&&l)&&(I(!0),M(0))}),[l,s]),(0,g.useEffect)((()=>{b&&(null==p||p(n))}),[b]),(0,g.useEffect)((()=>{null!=w&&Z(void 0)}),[w]),U||A?g.createElement("div",{className:e,style:x,ref:T},g.createElement("div",{className:t},r?g.createElement(r,{hub:n},h):g.createElement(Og,null,h),U||!E&&!D?null:g.createElement("div",{className:"VirtualHubScroller-hubActions-3J0a6S"},g.createElement(Ng,{className:Rg,iconComponent:kg,isDisabled:!E,title:(0,Ce.Z)("Previous Page"),onPress:R}),g.createElement(Ng,{className:Rg,iconComponent:jg,isDisabled:!D,title:(0,Ce.Z)("Next Page"),onPress:z}))),g.createElement("div",{style:j},g.createElement(Hu,{scrollerKey:n.sourceURI,className:"VirtualHubScroller-hubScroller-2urYxf VirtualListScroller-scroller-2VrU8W Scroller-scroller-3Rbtv0",keyPropName:i,items:U?V:a,scrollDirection:Ae.Horizontal,targetScrollIndex:w,shouldCenterScrollIndex:u,autoScroll:!1,totalSize:U?V.length:A,layout:c,cellComponentFactory:d,onListReady:L,onListUpdate:k,onPageRequest:U||!N?void 0:m}))):null}const Ug=(0,fe.P1)(ra("columnWidthMultiplier"),(e=>Math.floor(80*(e-1)+120)));var Vg=Object.defineProperty,Bg=Object.prototype.hasOwnProperty,Fg=Object.getOwnPropertySymbols,_g=Object.prototype.propertyIsEnumerable,Hg=(e,t,n)=>t in e?Vg(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Qg=(e,t)=>{for(var n in t||(t={}))Bg.call(t,n)&&Hg(e,n,t[n]);if(Fg)for(var n of Fg(t))_g.call(t,n)&&Hg(e,n,t[n]);return e};function Gg({hub:e,hubTitleComponent:t,items:n,totalSize:r,hasError:i,onHubReady:a,onPageRequest:s}){const{type:o,subtype:l,style:c=En.n.Shelf}=e,d=(0,v.v9)(Ug),{containerMeta:u}=Or(),p=(0,g.useMemo)((()=>c===En.n.WideShelf?function(e){var t=e,{type:n,subtype:r,columnWidth:i}=t,a=((e,t)=>{var n={};for(var r in e)gg.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&yg)for(var r of yg(e))t.indexOf(r)<0&&vg.call(e,r)&&(n[r]=e[r]);return n})(t,["type","subtype","columnWidth"]);const s=si(n,r,{listStyle:En.n.WideShelf});return qh(((e,t)=>{for(var n in t||(t={}))gg.call(t,n)&&fg(e,n,t[n]);if(yg)for(var n of yg(t))vg.call(t,n)&&fg(e,n,t[n]);return e})({columnWidth:3*i+Sg,rowHeight:Math.floor(i/s),aspectRatio:s,innerHorizontalPadding:Sg,outerPaddingTop:Ig,outerPaddingRight:bg,outerPaddingBottom:Ig,outerPaddingLeft:bg},a))}({type:o,subtype:l,columnWidth:d}):mg({listType:o,subtype:l,listStyle:c,columnWidth:d,displayFields:null==u?void 0:u.DisplayFields,displayImages:null==u?void 0:u.DisplayImage})),[c,o,l,d,null==u?void 0:u.DisplayFields,null==u?void 0:u.DisplayImage]),m=(0,g.useMemo)((()=>e=>g.createElement(Jt.ZP,{key:e.key,column:e.cellIndex},c===En.n.WideShelf?g.createElement(Fh,Qg({},e)):g.createElement(kh,Qg({},e)))),[c]);return g.createElement(zg,{hub:e,hubTitleComponent:t,keyPropName:"listItemKey",items:n,totalSize:r,hasError:i,layout:p,cellComponentFactory:m,onHubReady:a,onPageRequest:s})}var Wg=n(8593);function Yg(){const[e,t]=(0,g.useState)(!1),n=(0,g.useRef)(void 0),r=(0,g.useRef)(null),i=(0,g.useCallback)((e=>{window.clearTimeout(n.current),r.current=e.currentTarget,t(!0)}),[]),a=(0,g.useCallback)((()=>{n.current=window.setTimeout((()=>{r.current=null,t(!1)}))}),[]);return(0,g.useEffect)((()=>{function e(e){const n=e.currentTarget;t(n instanceof HTMLElement&&n.contains(r.current))}return document.addEventListener("click",e),()=>{document.removeEventListener("click",e)}}),[]),[e,i,a]}var Kg=n(26021);const qg=function(e,t){const n=e.match(/^#([0-9|a-f]{2})([0-9|a-f]{2})([0-9|a-f]{2})$/i);if(!n)throw new Error("invalid hex color pattern");const[,r,i,a]=n;return`rgba(${parseInt(r,16)}, ${parseInt(i,16)}, ${parseInt(a,16)}, ${t})`};var $g=n(40133);function Jg(e){const{attributionLogo:t}=e;return g.createElement("img",{className:"AttributionLogo-img-1--Xrx",src:t})}function Xg({className:e,src:t}){return g.createElement("img",{className:e,src:t})}function ey({isSelected:e,metadataItem:t}){const[n,r]=Hn(),i=ci(t,"key"),a=qg(t.backgroundColor,0),s=qg(t.backgroundColor,1),[o,l]=Oo(),c=(0,g.useMemo)((()=>({backgroundColor:s})),[s]),d=(0,g.useMemo)((()=>({backgroundImage:`linear-gradient(to left, ${a}, ${s} 400px)`})),[a,s]);return g.createElement("div",{className:o?"SpotlightHubCard-hoveredCard-2bdlGb SpotlightHubCard-card-268FO5":"SpotlightHubCard-card-268FO5",style:c,ref:l},g.createElement("div",{className:"SpotlightHubCard-colorGradient-3k1grG",style:d}),g.createElement(xt.Z,{serverEntityID:n.entityID,providerEntityID:r.entityID,className:"SpotlightHubCard-image-3H7ayz",url:t.art,size:$g.Ko,component:Xg}),g.createElement("div",{className:"SpotlightHubCard-copyOverlay-3-1IDP"},g.createElement("div",{className:"SpotlightHubCard-title-1q33N6"},t.title),g.createElement("div",{className:"SpotlightHubCard-summary-29vFxp"},t.summary),g.createElement("div",{className:"SpotlightHubCard-action-3mvHbz"},t.action)),g.createElement("div",{className:"SpotlightHubCard-attributionLogo-suhH0i"},g.createElement(Jg,{attributionLogo:t.attributionLogo})),g.createElement(vr,{tabIndex:e?void 0:-1,to:i,className:"SpotlightHubCard-link-24YHoa",title:t.title}))}function ty({index:e,selectedIndex:t,metadataItem:n,onPress:r}){const i=(0,g.useCallback)((()=>{r(e)}),[e,r]);return g.createElement(Dr,{className:"SpotlightHubDot-dotButton-2cwzlh Button-button-1q7C1V Link-link-2WGTd7",title:n.title,onPress:i},g.createElement("span",{className:e===t?"SpotlightHubDot-dotIsSelected-2TiJfK SpotlightHubDot-dot-3I4o2q":"SpotlightHubDot-dot-3I4o2q"}))}function ny(e,t){return t*(e||0)}function ry({hub:e,items:t,onHubReady:n}){const[r,{width:i}]=(0,Kg.Z)(),a=(0,g.useCallback)((e=>{u(ny(i,e))}),[i]),[s,o]=(0,g.useState)(0),l=(0,g.useCallback)((({scrollLeft:e})=>{o(e)}),[]),c=function(e,t,n){return e?(0,Wg.Z)(Math.floor((n-e/2)/e)+1,0,t-1):0}(i,t.length,s),[d,u]=(0,g.useState)(),[p,m,h]=Yg(),[y,v]=Oo(),[f,b]=(0,g.useState)(0);return(0,g.useEffect)((()=>{b(Date.now())}),[s]),(0,g.useEffect)((()=>{if(s===d)return void u(void 0);const n=Date.now()-f,r=p||y||!e.autoAdvanceDelayMs?null:window.setTimeout((()=>{var e,n;u(ny(i,(e=c+1,n=t.length,e-n*Math.floor(e/n))))}),n>e.autoAdvanceDelayMs?500:e.autoAdvanceDelayMs-n),a=window.setTimeout((()=>{const e=ny(i,c);e!==s&&u(e)}),1e3);return()=>{r&&window.clearTimeout(r),a&&window.clearTimeout(a)}}),[i,e.autoAdvanceDelayMs,p,y,t.length,f,c,s,d]),(0,g.useEffect)((()=>{n&&(i||0===t.length)&&n(e)}),[t.length,i,e,n]),0===t.length?null:g.createElement("div",{className:"SpotlightHubScroller-hub-3V5KIE VirtualHubScroller-hub-bVNDB-",ref:(0,Ne.Z)(r,v),onFocus:m,onBlur:h},g.createElement(Be,{className:void 0===d?"SpotlightHubScroller-hubScroller-2nwIPv VirtualHubScroller-hubScroller-2urYxf VirtualListScroller-scroller-2VrU8W Scroller-scroller-3Rbtv0":"SpotlightHubScroller-hubScrollerControlledScroll-3gsyDu SpotlightHubScroller-hubScroller-2nwIPv VirtualHubScroller-hubScroller-2urYxf VirtualListScroller-scroller-2VrU8W Scroller-scroller-3Rbtv0",scrollDirection:Ae.Horizontal,smoothScroll:!0,targetScrollLeft:d,onScrollPositionChange:l},t.map(((e,t)=>g.createElement("div",{key:t,className:"SpotlightHubScroller-cell-27a3ol"},g.createElement(Jt.ZP,{column:t},g.createElement(ey,{isSelected:t===c,metadataItem:e})))))),t.length>1?g.createElement("div",{className:"SpotlightHubScroller-dots-2oLzy4"},t.map(((e,t)=>g.createElement(ty,{key:t,metadataItem:e,index:t,selectedIndex:c,onPress:a})))):null)}var iy=n(39374);function ay({hub:e,onHubReady:t}){const[,n]=Hn(),r=hs({pane:"tidalBanner"}),i=(0,g.useCallback)((()=>{r({action:ss.J9})}),[r]);return(0,g.useEffect)((()=>{null==t||t(e)}),[e,t]),Fo.wB(n.identifier,Fo.xF)?g.createElement("div",{className:"TidalUpsellHub-container-CghDAD"},g.createElement("div",{className:"TidalUpsellHub-text-3Sb2np"},g.createElement("div",{className:"TidalUpsellHub-logo-2UEioL","aria-label":"Tidal"}),g.createElement("div",{className:"TidalUpsellHub-body-VoEM0K"},(0,Ce.Z)("Preview 60 million streaming tracks, thousands of music videos and more.")," ",g.createElement(vr,{to:iy.YC,className:"TidalUpsellHub-link-RwplUC Link-link-2WGTd7",target:"_blank",rel:"noopener noreferrer",onPress:i},(0,Ce.Z)("Get started at plex.tv"))))):null}var sy,oy,ly=Object.defineProperty,cy=Object.prototype.hasOwnProperty,dy=Object.getOwnPropertySymbols,uy=Object.prototype.propertyIsEnumerable,py=(e,t,n)=>t in e?ly(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,my=(e,t)=>{for(var n in t||(t={}))cy.call(t,n)&&py(e,n,t[n]);if(dy)for(var n of dy(t))uy.call(t,n)&&py(e,n,t[n]);return e};function hy({hub:e,hubTitleComponent:t,onHubReady:n}){const{sourceURI:r,key:i,type:a,subtype:s,random:o,Meta:l,style:c=En.n.Shelf,isStale:d}=e,u=(0,v.I0)(),[p,m]=Hn(),h=(0,g.useMemo)((()=>Ip(r)),[r]),y=(0,v.v9)(h);(0,g.useEffect)((()=>{d&&!o&&u(xr.Z.actions.throttledRepopulateRequested({server:p,provider:m,sourceURI:r}))}),[u,d,m,o,p,r]);const f=(0,g.useCallback)((e=>{u(xr.Z.actions.fetchRangeRequested(my(my({},e),{server:p,provider:m,sourceURI:r})))}),[u,m,p,r]),b=function(e){switch(e){case En.n.Spotlight:return ry;case En.n.Upsell:return ay}return Gg}(c);return g.createElement(Ar,{containerServer:p,containerProvider:m,containerSourceURI:y.sourceURI,containerKey:i,containerType:a,containerSubtype:s,containerMeta:l,listStyle:c},g.createElement(Po,{items:y.items},g.createElement(b,{hub:e,hubTitleComponent:t,items:y.items,totalSize:y.totalSize,hasError:!!y.error,onHubReady:n,onPageRequest:f})))}(oy=sy||(sy={})).Plex="com.plex",oy.Tidal="com.tidal",oy.WatchTogether="com.watchtogether";const gy={[sy.Tidal]:ca,[sy.WatchTogether]:da.Z};function yy({className:e,attribution:t}){const n=gy[t];return n?g.createElement(n,{className:e}):null}function vy({children:e,hub:t}){return g.createElement(Og,null,t.attribution?g.createElement(yy,{className:"MetadataHubTitle-attribution-1DzlFO",attribution:t.attribution}):null,e)}const fy={opacity:0,pointerEvents:"none"},by={opacity:1,pointerEvents:"auto"};function Iy({className:e,hubs:t,hubComponent:n,hubTitleComponent:r,metricsRowOffset:i=0,onHubsReady:a}){const s=(0,g.useRef)(new Set),[o,l]=(0,g.useState)(!1),c=(0,g.useCallback)((e=>{const n=s.current;n.add(e.hubIdentifier),t.every((e=>n.has(e.hubIdentifier)))&&(l(!0),null==a||a())}),[t,a]);let d=i;return g.createElement("div",{className:e,style:o?by:fy},t.map(((e,t)=>g.createElement(Jt.ZP,{key:t,name:e.context,row:e.initialSize||e.more?d++:void 0},g.createElement(n,{hub:e,hubTitleComponent:r,onHubReady:c})))))}const Sy={pageContentScroller:"PageContent-pageContentScroller-18TqCp Scroller-scroller-3Rbtv0"};var My=Object.defineProperty,Ey=Object.prototype.hasOwnProperty,Py=Object.getOwnPropertySymbols,Dy=Object.prototype.propertyIsEnumerable,Cy=(e,t,n)=>t in e?My(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,wy=(e,t)=>{for(var n in t||(t={}))Ey.call(t,n)&&Cy(e,n,t[n]);if(Py)for(var n of Py(t))Dy.call(t,n)&&Cy(e,n,t[n]);return e};function Zy(e){var t=e,{forwardedRef:n,className:r=Sy.pageContentScroller,onScrollPositionChange:i}=t,a=((e,t)=>{var n={};for(var r in e)Ey.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&Py)for(var r of Py(e))t.indexOf(r)<0&&Dy.call(e,r)&&(n[r]=e[r]);return n})(t,["forwardedRef","className","onScrollPositionChange"]);const{scrollRestoreProps:s}=qn({key:"PageContent",shouldRestoreImmediately:!0,onScrollPositionChange:i});return g.createElement(Be,wy(wy(wy({ref:n},a),s),{className:r}))}const Ty=g.forwardRef(((e,t)=>g.createElement(Zy,wy(wy({},e),{forwardedRef:t}))));function Ny(e){var t=e["aria-label"],n=e.className,r=e.style,i={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",id:"plex-icon-shared-560"};i["aria-hidden"]=!t,i.style=r,i.className=oa.Z.plexIcon+(n?" "+n:"");var a=[g.createElement.apply(g,["path",{clipRule:"evenodd",d:"M10.286 3.429V8.57H5.143V39.43h37.714V8.57h-5.143V3.43H48V44.57H0V3.43h10.286zM26.57 20.57h10.286L24 33.43 11.143 20.57h10.286V0h5.142v20.571z"}].concat([]))];return t&&a.unshift(g.createElement("title",null,t)),g.createElement.apply(g,["svg",i].concat(a))}Ny.propTypes={"aria-label":sa().string,className:sa().string,style:sa().object};const Oy=Ny;function Ay(e){var t=e["aria-label"],n=e.className,r=e.style,i={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-shows-broadcast-560"};i["aria-hidden"]=!t,i.style=r,i.className=oa.Z.plexIcon+(n?" "+n:"");var a=[g.createElement.apply(g,["path",{d:"m280 120l120-100h70l-118.75 100h208.75v440h-560v-440h208.75l-118.75-100h70l120 100m-220 340h440v-280h-440v280"}].concat([]))];return t&&a.unshift(g.createElement("title",null,t)),g.createElement.apply(g,["svg",i].concat(a))}Ay.propTypes={"aria-label":sa().string,className:sa().string,style:sa().object};const xy=Ay;var jy=n(41927),Ly=n(5450),ky=n(80080),Ry=n(47323);function zy(e){var t=e["aria-label"],n=e.className,r=e.style,i={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-person-auto-560"};i["aria-hidden"]=!t,i.style=r,i.className=oa.Z.plexIcon+(n?" "+n:"");var a=[g.createElement.apply(g,["path",{d:"M198.543 309.557a162.542 162.542 0 0 1-79.755-140.166C118.788 79.705 190.965 7 280 7c89.035 0 161.212 72.705 161.212 162.39a162.542 162.542 0 0 1-79.755 140.167C476.367 343.994 560 447.712 560 554H0c0-106.288 83.633-210.006 198.543-244.443zM40 554h480c0-106.732-107.452-213.463-240-213.463S40 447.268 40 554zm120-386.902c0 66.314 53.726 120.073 120 120.073s120-53.759 120-120.073c0-66.315-53.726-120.074-120-120.074s-120 53.759-120 120.074z"}].concat([]))];return t&&a.unshift(g.createElement("title",null,t)),g.createElement.apply(g,["svg",i].concat(a))}zy.propTypes={"aria-label":sa().string,className:sa().string,style:sa().object};const Uy=zy;var Vy=n(61309),By=n(99131),Fy=n(85669);function _y(e){var t=e["aria-label"],n=e.className,r=e.style,i={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-playlists-560"};i["aria-hidden"]=!t,i.style=r,i.className=oa.Z.plexIcon+(n?" "+n:"");var a=[g.createElement.apply(g,["path",{d:"m0 460l80 0 0 60-80 0 0-60m560 0l0 60-400 0 0-60 400 0m-560-140l80 0 0 60-80 0 0-60m160 0l400 0 0 60-400 0 0-60m-160-140l80 0 0 60-80 0 0-60m160 0l400 0 0 60-400 0 0-60m-160-140l80 0 0 60-80 0 0-60m160 0l400 0 0 60-400 0 0-60"}].concat([]))];return t&&a.unshift(g.createElement("title",null,t)),g.createElement.apply(g,["svg",i].concat(a))}_y.propTypes={"aria-label":sa().string,className:sa().string,style:sa().object};const Hy=_y;var Qy=Object.defineProperty,Gy=Object.prototype.hasOwnProperty,Wy=Object.getOwnPropertySymbols,Yy=Object.prototype.propertyIsEnumerable,Ky=(e,t,n)=>t in e?Qy(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,qy=(e,t)=>{for(var n in t||(t={}))Gy.call(t,n)&&Ky(e,n,t[n]);if(Wy)for(var n of Wy(t))Yy.call(t,n)&&Ky(e,n,t[n]);return e};function $y(e){var t=e,{type:n}=t,r=((e,t)=>{var n={};for(var r in e)Gy.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&Wy)for(var r of Wy(e))t.indexOf(r)<0&&Yy.call(e,r)&&(n[r]=e[r]);return n})(t,["type"]);switch(n){case ni.pG.Movie:return g.createElement(ky.Z,qy({},r));case ni.pG.Show:case ni.pG.Season:case ni.pG.Episode:return g.createElement(By.Z,qy({},r));case ni.pG.Artist:return g.createElement(jy.Z,qy({},r));case ni.pG.Album:case ni.pG.Track:return g.createElement(Ry.Z,qy({},r));case ni.pG.Photo:case ni.pG.PhotoAlbum:return g.createElement(Vy.Z,qy({},r));case ni.pG.Clip:return g.createElement(Ly.Z,qy({},r));case ni.pG.Game:return g.createElement(Fy.Z,qy({},r));case ni.pG.Playlist:return g.createElement(Hy,qy({},r));case ni.pG.Person:return g.createElement(Uy,qy({},r))}!function(e){throw new Error(`"${e}" is not mapped to an icon`)}(n)}const Jy=(0,Dn.Z)((function(e){return(0,fe.P1)(Ln(e.machineIdentifier),(e=>{var t,n;return null!=(n=null==(t=null==e?void 0:e.desktop)?void 0:t.activities)?n:[]}))})),Xy=function(e,t){return(0,fe.P1)(Jy(e),(e=>e.find((e=>e.type===gl.QX&&e.Context.librarySectionID===t.id))))};function ev(e,t){const n=(0,g.useMemo)((()=>t?Xy(e,t):()=>{}),[t,e]);return!!(0,v.v9)(n)||!!(null==t?void 0:t.refreshing)}const tv=function(e,t){return(0,fe.P1)(Jy(e),(e=>e.find((e=>e.type===gl.JW&&e.Context.identifier===t.identifier))))};var nv,rv;(rv=nv||(nv={})).Equal="=",rv.NotEqual="!=",rv.DoubleEqual="==",rv.NotDoubleEqual="!==",rv.GreaterThanOrEqual=">=",rv.LessThanOrEqual="<=",rv.GreaterThanGreaterThanOrEqual=">>=",rv.LessThanLessThanOrEqual="<<=";const iv=nv;var av=n(20272),sv=Object.defineProperty,ov=Object.prototype.hasOwnProperty,lv=Object.getOwnPropertySymbols,cv=Object.prototype.propertyIsEnumerable,dv=(e,t,n)=>t in e?sv(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,uv=(e,t)=>{for(var n in t||(t={}))ov.call(t,n)&&dv(e,n,t[n]);if(lv)for(var n of lv(t))cv.call(t,n)&&dv(e,n,t[n]);return e};const pv=function(e,t){const n=[...e];if(t.filter.filterType===ri.H_.Boolean){const e=n.findIndex((e=>e.filter.filter===t.filter.filter)),r=-1===e?0:e,i=uv(uv({},t),{value:"string"==typeof t.value?"1"===t.value:t.value});-1===e?n.push(i):n.splice(r,1,i)}else n.find((e=>e.filter.filter===t.filter.filter&&e.value===t.value))||n.push(t);return n};function mv(e){const t=(0,av._2)(iv).find((t=>iv[t]===e));return t?iv[t]:void 0}const hv=function(e,t){if(!(null==t?void 0:t.Filter))return{strippedKey:e,filterRules:[]};const n=t.Filter,{params:r,pathname:i}=E.Z.parseUri(e,{decoder:e=>e});let a=[];for(const e in r)if(r.hasOwnProperty(e)){let t=a;const i=r[e],s=n.find((t=>e.startsWith(t.filter)));if(!s)continue;const o=mv(`${e.substr(s.filter.length)}=`);if(!o)continue;"string"==typeof i?t=pv(t,{filter:s,operator:o,value:i}):Array.isArray(i)&&(t=i.reduce(((e,t)=>"string"!=typeof t?e:pv(e,{filter:s,operator:o,value:t})),t)),a!==t&&(a=t,delete r[e])}return{strippedKey:E.Z.join(i,r,{stringifyOptions:{encode:!1}}),filterRules:a}};var gv=n(84893);const yv=(0,fe.P1)(fo,(e=>e.directory)),vv=(0,fe.P1)(yv,(e=>e.meta)),fv=(0,fe.P1)(vv,(e=>e?(0,gv.Z)(e):void 0)),bv=function(e){return(0,fe.P1)(fv,(t=>e?hv(e,t):void 0))};var Iv=Object.defineProperty,Sv=Object.prototype.hasOwnProperty,Mv=Object.getOwnPropertySymbols,Ev=Object.prototype.propertyIsEnumerable,Pv=(e,t,n)=>t in e?Iv(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Dv=(e,t)=>{for(var n in t||(t={}))Sv.call(t,n)&&Pv(e,n,t[n]);if(Mv)for(var n of Mv(t))Ev.call(t,n)&&Pv(e,n,t[n]);return e};let Cv,wv;function Zv(e,t=window.location.hash){const n=function(e){if(Cv===e)return wv;const t=e.split("?"),n=t.length>1?t[1]:void 0,r=n?E.Z.parseParams(n):{};return Cv=e,wv={url:t[0],params:r},wv}(t);return E.Z.join(n.url,Dv(Dv({},n.params),e))}const Tv=function(e){const t=(0,v.I0)();return(0,g.useCallback)((n=>{const r=n.currentTarget.getAttribute("href");r&&(0===n.button||n.touches)&&(n.stopPropagation(),t((0,Wn.c4)({pathname:r,replace:!0}))),null==e||e(n)}),[t,e])};var Nv=n(18039);function Ov(e){var t=e["aria-label"],n=e.className,r=e.style,i={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-watchlist-560"};i["aria-hidden"]=!t,i.style=r,i.className=oa.Z.plexIcon+(n?" "+n:"");var a=[g.createElement.apply(g,["path",{d:"M35 35.113C35 15.721 50.736 0 70.212 0H489.4c19.446 0 35.211 15.384 35.211 35.113v504.933c0 19.392-12.476 25.435-27.606 13.699L307.412 406.679c-15.246-11.826-40.083-11.735-55.212 0L62.606 553.745C47.36 565.57 35 559.775 35 540.046V35.113zm225.736 201.485v72.615h38.528v-72.615h68.083v-41.305h-68.083v-73.559h-38.528v73.559h-68.084v41.305h68.084z"}].concat([]))];return t&&a.unshift(g.createElement("title",null,t)),g.createElement.apply(g,["svg",i].concat(a))}Ov.propTypes={"aria-label":sa().string,className:sa().string,style:sa().object};const Av=Ov;function xv({className:e,directoryKey:t,selectedPivot:n}){const[r,i,a]=Hn(),s=Fo.wB(i.identifier,Fo.Ll),o=(0,g.useMemo)((()=>tv(r,i)),[i,r]),l=!!(0,v.v9)(o),c=ev(r,a),d=(0,g.useMemo)((()=>bv(t)),[t]),u=(0,v.v9)(fv),p=(0,v.v9)(d),m=Tv();return"vod.watchlist"===(null==n?void 0:n.id)?g.createElement(Ye,{className:e,icon:g.createElement(Av,{className:"EmptyDirectoryPageContent-watchlistIcon-3K6cYz"}),title:(0,Ce.Z)("Watchlist"),description:(0,Ce.Z)("You can add movies and shows to your Watchlist to catch up on later. Once you finish watching an item in the list, or mark it as watched it will automatically be removed from the list.")}):"shared.items"===(null==n?void 0:n.id)?g.createElement(Ye,{className:e,icon:g.createElement(Oy,null),title:(0,Ce.Z)("There are no shared items of this type")}):(null==p?void 0:p.filterRules.length)?g.createElement(Ye,{icon:(null==a?void 0:a.type)?g.createElement($y,{type:a.type}):void 0,title:(0,Ce.Z)("The active filter has no matches"),description:(0,Ce.Z)("Use the menu above to change the active filter")},g.createElement(Dr,{to:Zv({key:p.strippedKey}),kind:or.Primary,onPress:m},(0,Ce.Z)("Clear filter"))):s?l?g.createElement(Ye,{className:e,icon:g.createElement(xy,null),title:(0,Ce.Z)("We're now building your Guide"),description:(0,Ce.Z)("Hang tight while we download all the data for what's on")}):g.createElement(Ye,{className:e,icon:g.createElement(xy,null),title:(0,Ce.Z)("Your Guide is empty"),description:(0,Ce.Z)("Please verify your channel mappings and refresh the Guide")},g.createElement(Dr,{to:(0,Nv.Z)(r.machineIdentifier,"manage","dvr"),kind:or.Primary},(0,Ce.Z)("Go to DVR Settings"))):c?g.createElement(Ye,{className:e,icon:(null==a?void 0:a.type)?g.createElement($y,{type:a.type}):void 0,title:a?(0,Ce.Z)('"{directoryTitle}" is currently being updated',{directoryTitle:a.title}):(0,Ce.Z)("This page is currently being updated"),description:(0,Ce.Z)("Hang tight while we look for content")}):(null==u?void 0:u.type)===En.U.Folder?g.createElement(Ye,{className:e,icon:(null==a?void 0:a.type)?g.createElement($y,{type:a.type}):void 0,title:(0,Ce.Z)("Empty Folder"),description:(0,Ce.Z)("There are no items in this folder")}):g.createElement(Ye,{className:e,icon:(null==a?void 0:a.type)?g.createElement($y,{type:a.type}):void 0,title:a?(0,Ce.Z)('"{directoryTitle}" is empty',{directoryTitle:r.isCloud?null==n?void 0:n.title:a.title}):(0,Ce.Z)("This page is empty"),description:r.isFullOwnedServer?(0,Ce.Z)("Expecting more? Visit the Manage Libraries page to add folders and scan library files."):null},r.isFullOwnedServer?g.createElement(Dr,{kind:or.Primary,to:(0,Nv.Z)(r.machineIdentifier,"manage","libraries")},(0,Ce.Z)("Manage Libraries")):null)}var jv=Object.defineProperty,Lv=Object.prototype.hasOwnProperty,kv=Object.getOwnPropertySymbols,Rv=Object.prototype.propertyIsEnumerable,zv=(e,t,n)=>t in e?jv(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;function Uv(e,t){const{isCloud:n,isConnected:r,isEmbedded:i,isFullOwnedServer:a,isFullServer:s,isUnauthorized:o,isUnavailable:l}=t,c={extra:{isCloud:n,isConnected:r,isEmbedded:i,isFullOwnedServer:a,isFullServer:s,isUnauthorized:o,isUnavailable:l}},d=new Error(e);M.Z.error(d,c.extra),j.Tb(d,c)}const Vv={sessionKeys:[],sessionsByKey:{},isPending:!1,isPopulated:!1,error:null,stopSessionError:null},Bv=(0,lo.oM)({name:"serverNowPlayingSessions",initialState:{},reducers:{fetchRequested(e,{payload:t}){const n=e[t.server.machineIdentifier];n&&(0,yd.er)(n)},fetchSucceeded(e,{payload:t}){const n=e[t.server.machineIdentifier];if(!n)return;const{sessionKeys:r,sessionsByKey:i}=t.data.reduce(((e,t)=>(e.sessionKeys.push(t.sessionKey),e.sessionsByKey[t.sessionKey]=t,e)),{sessionKeys:[],sessionsByKey:{}});(0,yd.vv)(n),n.sessionKeys=r,n.sessionsByKey=i},fetchFailed(e,{payload:t}){const n=e[t.server.machineIdentifier];n&&(0,yd.VQ)(n,t.error)},sessionChanged(e,{payload:t}){const{server:n,message:r}=t,i=e[n.machineIdentifier];if(!i)return void Uv("Session changed without serverState",n);const a=i.sessionsByKey[r.sessionKey];a&&a.key===r.key&&(a.viewOffset=r.viewOffset,a.Player.state=r.state)},sessionStopped(e,{payload:t}){const{server:n,sessionKey:r}=t,i=e[n.machineIdentifier];i?i.sessionsByKey[r]&&(delete i.sessionsByKey[r],i.sessionKeys.splice(i.sessionKeys.indexOf(r),1)):Uv("Session stopped without serverState",n)},stopRequested(e,t){},stopFailed(e,{payload:t}){const n=e[t.server.machineIdentifier];n&&(n.stopSessionError=t.error)},stopErrorDismissed(e,{payload:t}){const n=e[t.server.machineIdentifier];n&&(n.stopSessionError=null)}},extraReducers:e=>{e.addCase(yl.actions.connected,((e,{payload:t})=>{const{server:n}=t;e[n.machineIdentifier]||(e[n.machineIdentifier]=((e,t)=>{for(var n in t||(t={}))Lv.call(t,n)&&zv(e,n,t[n]);if(kv)for(var n of kv(t))Rv.call(t,n)&&zv(e,n,t[n]);return e})({},Vv))}))}}),Fv=(0,lo.oM)({name:"user",initialState:{},reducers:{languageChanged(){}}}),_v=(0,lo.oM)({name:"players",initialState:{},reducers:{ended(e,t){}}});var Hv=Object.defineProperty,Qv=Object.prototype.hasOwnProperty,Gv=Object.getOwnPropertySymbols,Wv=Object.prototype.propertyIsEnumerable,Yv=(e,t,n)=>t in e?Hv(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Kv=(e,t)=>{for(var n in t||(t={}))Qv.call(t,n)&&Yv(e,n,t[n]);if(Gv)for(var n of Gv(t))Wv.call(t,n)&&Yv(e,n,t[n]);return e};const qv={meta:void 0,metadataListSourceURI:void 0,filterOptions:{},firstCharacters:{isPending:!1,isPopulated:!1,error:null,items:[]},hubsList:{sourceURI:void 0,lastFetchedAt:void 0,isPending:!1,isPopulated:!1,error:null,hubs:[]}};function $v(e,t){var n;(null==(n=e.hubsList.sourceURI)?void 0:n.includes(t))&&e.hubsList.hubs.forEach((e=>{e.isStale=!0}))}const Jv=(0,lo.oM)({name:"directory",initialState:qv,reducers:{reset:()=>qv,resetMeta(e){e.meta=void 0},resetHubs(e){e.hubsList=qv.hubsList},initializeListRequested(e,{payload:t}){e.metadataListSourceURI=t.sourceURI,e.directorySourceURI=t.directorySourceURI},markHubsStaleRequested(e){e.hubsList.isPending=!1},markHubsStale(e){e.hubsList.hubs.forEach((e=>{e.isStale=!0}))},markHubsStaleCanceled(e){},fetchHubsRequested(e,{payload:t}){e.hubsList.sourceURI=t.sourceURI,(0,yd.er)(e.hubsList)},fetchHubsSucceeded(e,{payload:t}){(0,yd.vv)(e.hubsList),e.hubsList.hubs=t.data.hubs,e.hubsList.lastFetchedAt=Date.now(),e.title=t.data.title,e.meta=t.data.meta},fetchHubsFailed(e,{payload:t}){(0,yd.VQ)(e.hubsList,t.error)},fetchFilterOptionsRequested(e,{payload:t}){const n=t.filter;e.filterOptions[n.key]||(e.filterOptions[n.key]={isPending:!1,isPopulated:!1,error:null,options:[]}),(0,yd.er)(e.filterOptions[n.key])},fetchFilterOptionsSucceeded(e,{payload:t}){const n=t.filter;(0,yd.vv)(e.filterOptions[n.key]),e.filterOptions[n.key].options=t.filterOptions},fetchFilterOptionsFailed(e,{payload:t}){const n=t.filter;(0,yd.VQ)(e.filterOptions[n.key],t.error)},fetchFirstCharactersRequested(e,t){(0,yd.er)(e.firstCharacters)},fetchFirstCharactersSucceeded(e,{payload:t}){(0,yd.vv)(e.firstCharacters),e.firstCharacters.items=t.firstCharacters},fetchFirstCharactersFailed(e,{payload:t}){(0,yd.VQ)(e.firstCharacters,t.error)}},extraReducers(e){e.addCase(xr.Z.actions.fetchRangeSucceeded,((e,{payload:t})=>{t.sourceURI===e.metadataListSourceURI&&(e.title=t.data.title,t.data.meta&&(e.meta=t.data.meta))})),e.addCase(xr.Z.actions.reset,((e,{payload:t})=>t.sourceURI===e.metadataListSourceURI?Kv(Kv({},qv),{filterOptions:e.filterOptions,meta:e.meta}):e)),e.addCase(xr.Z.actions.repopulateRangeSucceeded,((e,{payload:t})=>{e.hubsList.hubs.forEach((e=>{e.sourceURI===t.sourceURI&&(e.isStale=!1)}))})),e.addCase(_v.actions.ended,((e,{payload:t})=>{$v(e,t.source)})),e.addCase(Bv.actions.sessionStopped,((e,{payload:t})=>{$v(e,(0,yn.Z)({serverIdentifier:t.server.machineIdentifier}))})),e.addCase(yl.actions.libraryScanUpdated,((e,{payload:t})=>{$v(e,(0,yn.Z)({serverIdentifier:t.server.machineIdentifier}))})),e.addCase(os.Z.actions.playedStatusUpdateSucceeded,((e,{payload:t})=>{$v(e,(0,yn.Z)({serverIdentifier:t.server.machineIdentifier,providerIdentifier:t.provider.identifier}))})),e.addCase(os.Z.actions.metadataProcessed,((e,{payload:t})=>{const{serverIdentifier:n,providerIdentifier:r}=(0,wr.Z)(t.sourceURI);$v(e,(0,yn.Z)({serverIdentifier:n,providerIdentifier:r}))})),e.addCase(Fv.actions.languageChanged,(e=>{e.hubsList=qv.hubsList}))}}),Xv=function(e){const[t,n,r]=Hn(),i=(0,g.useMemo)((()=>function(e,t,n){return Fo.wB(t.identifier,Fo.Y3)?n?Xy(e,n):()=>{}:Fo.wB(t.identifier,Fo.Ll)?tv(e,t):()=>{}}(t,n,r)),[r,n,t]),a=!(!(0,v.v9)(i)&&!(null==r?void 0:r.refreshing)),s=(0,Dp.Z)(a);(0,g.useEffect)((()=>{let t;return a?t=window.setInterval((()=>{null==e||e()}),1e4):!a&&s&&(null==e||e()),()=>{window.clearInterval(t)}}),[e,a,s])},ef=(0,fe.P1)(fo,(e=>e.directory.hubsList));var tf=n(48653),nf=n(62034),rf=n(27271),af=n(66088);const sf={actionButton:"ActionButton-actionButton-392O1X Button-button-1q7C1V Link-link-2WGTd7",labeledActionButton:"ActionButton-labeledActionButton-3gloir ActionButton-actionButton-392O1X Button-button-1q7C1V Link-link-2WGTd7",icon:"ActionButton-icon-asUA4S",iconActionButton:"ActionButton-iconActionButton-3RWDHb ActionButton-actionButton-392O1X Button-button-1q7C1V Link-link-2WGTd7",tooltip:"ActionButton-tooltip-1YDGxT Tooltip-topCenter-cICpCf Tooltip-tooltip-1BlaVj Tooltip-tooltipArrow-3ocxiK Tooltip-tooltipBottomArrow-3k-Ppf Tooltip-tooltipCenterAlignArrow-EwxeoC",small:"ActionButton-small-2iEiNP",medium:"ActionButton-medium-2--fwJ",large:"ActionButton-large-3bhyDc"};var of=Object.defineProperty,lf=Object.prototype.hasOwnProperty,cf=Object.getOwnPropertySymbols,df=Object.prototype.propertyIsEnumerable,uf=(e,t,n)=>t in e?of(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,pf=(e,t)=>{for(var n in t||(t={}))lf.call(t,n)&&uf(e,n,t[n]);if(cf)for(var n of cf(t))df.call(t,n)&&uf(e,n,t[n]);return e};function mf(e){var t=e,{isLabeled:n,className:r=(n?sf.labeledActionButton:sf.iconActionButton),iconClassName:i=sf.icon,tooltipClassName:a=sf.tooltip,kind:s,size:o=st.Medium,icon:l,tooltipAttachment:c=af.jO,title:d}=t,u=((e,t)=>{var n={};for(var r in e)lf.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&cf)for(var r of cf(e))t.indexOf(r)<0&&df.call(e,r)&&(n[r]=e[r]);return n})(t,["isLabeled","className","iconClassName","tooltipClassName","kind","size","icon","tooltipAttachment","title"]);return n?g.createElement(Dr,pf({className:Te()(r,sf[o]),kind:s},u),l?g.createElement(g.Fragment,null,g.createElement(l,{className:i})," "):null,d):g.createElement(rf.Z,pf({className:Te()(r,sf[o]),tooltipClassName:a,component:Dr,tooltip:d,tooltipAttachment:c},u),l?g.createElement(l,{className:i}):null)}const hf=(0,fe.P1)(bo,(e=>!!e.count)),gf=(0,Un.Z)((0,fe.P1)(bo,Jr,Cn.Z,be.Z,(e=>e.servers),(0,wn.Z)("providers"),((e,t,n,r,i,a)=>{const s=(o=e).count?Object.keys(o.items).map((e=>o.items[e])):[];var o;return s.length?s.map((e=>{var s;const{serverIdentifier:o,providerIdentifier:l}=(0,wr.Z)(e.source),c=i.find((e=>{const t=r[e];return!!t&&t.machineIdentifier===o})),d=c?r[c]:jn,u=(d.isCloud?a:d.providers).find((e=>n[e].identifier===l)),p=u?n[u]:Zn;return{metadataItem:e,metadataItemState:null!=(s=t[e.sourceURI])?s:{tempState:{},isStale:!1,isPending:!1,isPopulated:!1,error:null},server:Vn(d),provider:p}})):[]})),(e=>e));var yf=Object.defineProperty,vf=Object.prototype.hasOwnProperty,ff=Object.getOwnPropertySymbols,bf=Object.prototype.propertyIsEnumerable,If=(e,t,n)=>t in e?yf(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Sf=(e,t)=>{for(var n in t||(t={}))vf.call(t,n)&&If(e,n,t[n]);if(ff)for(var n of ff(t))bf.call(t,n)&&If(e,n,t[n]);return e};function Mf(e){if(!e.length)return!1;const[{metadataItem:t}]=e;return e.every((({metadataItem:e})=>t.type===e.type&&t.subtype===e.subtype))}function Ef(e){if(!e.length)return!1;const[{server:t,provider:n}]=e;return e.every((({server:e,provider:r})=>e.machineIdentifier===t.machineIdentifier&&r.identifier===n.identifier))}function Pf(e,t){return e.every((({server:e,provider:n,metadataItem:r,metadataItemState:i})=>Jc({server:e,provider:n,stableUser:t,metadataItem:r,metadataItemState:i})||$c({server:e,provider:n,stableUser:t,metadataItem:r,metadataItemState:i})))}function Df(e,t){return!!e.length&&!!Mf(e)&&xf(e,t,Xc)}const Cf=[ni.pG.Movie,ni.pG.Show,ni.pG.Season,ni.pG.Artist,ni.pG.Album];function wf(e,t){if(e.length<2)return!1;if(!Df(e,t))return!1;if(!Mf(e))return!1;if(!Ef(e))return!1;const[{metadataItem:n}]=e;return Cf.includes(n.type)}function Zf(e,t){if(!e.length)return!1;if(!Ef(e))return!1;const[{provider:n}]=e;if(!Lc(n))return!1;const r=e.reduce(((e,{metadataItem:t})=>{const n=function(e){const{type:t,subtype:n,playlistType:r}=e;switch(n){case ni.y_.Photo:switch(t){case ni.pG.Clip:return gt.G.Photo}}switch(ld(t,n)||t){case ni.pG.Playlist:if(!r)throw new Error("playlistType missing from playlist metadataItem");switch(r){case ni.DD.Audio:case ni.DD.Video:return gt.G.AudioVideo;case ni.DD.Photo:return gt.G.Photo}break;case ni.pG.Track:return gt.G.AudioVideo;case ni.pG.Episode:case ni.pG.Movie:case ni.pG.Clip:return gt.G.AudioVideo;case ni.pG.Photo:return gt.G.Photo;case ni.pG.Game:return gt.G.Rom}throw new Error(`No known player type for ${t}`)}(t);return e.includes(n)||e.push(n),e}),[]);return!r.includes(gt.G.Rom)&&!(r.length>1&&r.includes(gt.G.Photo))&&Of(e,t,Bc)}function Tf(e,t){if(!e.length)return!1;const[{metadataItem:n}]=e;return!!e.every((({metadataItem:e})=>n.type===e.type))&&!!function(e){if(!e.length)return!1;const[{server:t,provider:n,metadataItem:r}]=e;return e.every((({server:e,provider:i,metadataItem:a})=>e.machineIdentifier===t.machineIdentifier&&i.identifier===n.identifier&&a.librarySectionID===r.librarySectionID))}(e)&&((r=n.type)===ni.pG.Movie||r===ni.pG.Show||r===ni.pG.Season||r===ni.pG.Episode||r===ni.pG.Artist||r===ni.pG.Album||r===ni.pG.Track)&&xf(e,t,Hc);var r}function Nf(e,t){if(!e.length)return!1;const[{metadataItem:n}]=e;if(e.some((({metadataItem:e})=>e.type===ni.pG.Playlist)))return!1;const r=ba(n.type,n.subtype);return!!e.every((({metadataItem:e})=>r===ba(e.type,e.subtype)))&&!!Ef(e)&&xf(e,t,_c)}function Of(e,t,n){return!!e.length&&e.every((e=>n(Sf(Sf({},e),{stableUser:t}))))}function Af(e,t,n){return!!e.length&&e.some((e=>n(Sf(Sf({},e),{stableUser:t}))))}function xf(e,t,n){return!!e.length&&!!Ef(e)&&Of(e,t,n)}var jf=Object.defineProperty,Lf=Object.prototype.hasOwnProperty,kf=Object.getOwnPropertySymbols,Rf=Object.prototype.propertyIsEnumerable,zf=(e,t,n)=>t in e?jf(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;function Uf(e){return g.createElement("div",((e,t)=>{for(var n in t||(t={}))Lf.call(t,n)&&zf(e,n,t[n]);if(kf)for(var n of kf(t))Rf.call(t,n)&&zf(e,n,t[n]);return e})({},e))}Uf.defaultProps={className:"PageHeader-pageHeader-WpvbJc"};const Vf=Uf;function Bf(e){var t=e["aria-label"],n=e.className,r=e.style,i={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-toolbar-add-to-playlist-560"};i["aria-hidden"]=!t,i.style=r,i.className=oa.Z.plexIcon+(n?" "+n:"");var a=[g.createElement.apply(g,["path",{d:"m223.992 459.2l336 0 0 44.8-336 0 0-44.8m0-134.4l336 0 0 44.8-336 0 0-44.8m84-134.4l252 0 0 44.8-252 0 0-44.8m-218.392 0l-89.6 0 0 44.8 89.6 0 0 89.6 44.8 0 0-89.6 89.6 0 0-44.8-89.6 0 0-89.6c0 0-53.77 0-37.8 0l-7 0 0 89.6m134.392-134.4l336 0 0 44.8-336 0 0-44.8"}].concat([]))];return t&&a.unshift(g.createElement("title",null,t)),g.createElement.apply(g,["svg",i].concat(a))}Bf.propTypes={"aria-label":sa().string,className:sa().string,style:sa().object};const Ff=Bf;function _f(e){var t=e["aria-label"],n=e.className,r=e.style,i={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-toolbar-edit-560"};i["aria-hidden"]=!t,i.style=r,i.className=oa.Z.plexIcon+(n?" "+n:"");var a=[g.createElement.apply(g,["path",{d:"m56 504l28-84 56 56-84 28m392-448l-336 336 56 56 336-336-56-56"}].concat([]))];return t&&a.unshift(g.createElement("title",null,t)),g.createElement.apply(g,["svg",i].concat(a))}_f.propTypes={"aria-label":sa().string,className:sa().string,style:sa().object};const Hf=_f;function Qf(e){var t=e["aria-label"],n=e.className,r=e.style,i={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",id:"plex-icon-toolbar-mark-played-560"};i["aria-hidden"]=!t,i.style=r,i.className=oa.Z.plexIcon+(n?" "+n:"");var a=[g.createElement.apply(g,["path",{d:"M24 44.4C12.7333 44.4 3.59998 35.2666 3.59998 24C3.59998 12.7333 12.7333 3.59998 24 3.59998C35.2666 3.59998 44.4 12.7333 44.4 24C44.4 35.2666 35.2666 44.4 24 44.4ZM24 40.8C33.2784 40.8 40.8 33.2784 40.8 24C40.8 14.7216 33.2784 7.19998 24 7.19998C14.7216 7.19998 7.19998 14.7216 7.19998 24C7.19998 33.2784 14.7216 40.8 24 40.8ZM22.9177 33.9317L13.5646 28.5317L15.3646 25.414L21.6 29.014L30 14.4648L33.1177 16.2648L22.9177 33.9317Z"}].concat([]))];return t&&a.unshift(g.createElement("title",null,t)),g.createElement.apply(g,["svg",i].concat(a))}Qf.propTypes={"aria-label":sa().string,className:sa().string,style:sa().object};const Gf=Qf;function Wf(e){var t=e["aria-label"],n=e.className,r=e.style,i={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",id:"plex-icon-toolbar-mark-unplayed-560"};i["aria-hidden"]=!t,i.style=r,i.className=oa.Z.plexIcon+(n?" "+n:"");var a=[g.createElement.apply(g,["path",{clipRule:"evenodd",d:"M24 44.4C12.7333 44.4 3.59998 35.2666 3.59998 24C3.59998 12.7333 12.7333 3.59998 24 3.59998C35.2666 3.59998 44.4 12.7333 44.4 24C44.4 35.2666 35.2666 44.4 24 44.4ZM15.3646 25.414L13.5646 28.5317L22.9176 33.9317L33.1176 16.2648L30 14.4648L21.5999 29.014L15.3646 25.414Z"}].concat([]))];return t&&a.unshift(g.createElement("title",null,t)),g.createElement.apply(g,["svg",i].concat(a))}Wf.propTypes={"aria-label":sa().string,className:sa().string,style:sa().object};const Yf=Wf;function Kf(e){var t=e["aria-label"],n=e.className,r=e.style,i={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-toolbar-more-560"};i["aria-hidden"]=!t,i.style=r,i.className=oa.Z.plexIcon+(n?" "+n:"");var a=[g.createElement.apply(g,["path",{d:"m168 280c0 30.897-25.103 56-56 56-30.896 0-56-25.103-56-56 0-30.897 25.104-56 56-56 31.862.965 56 25.103 56 56m112-56c-30.897 0-56 25.103-56 56 0 30.897 25.103 56 56 56 30.897 0 56-25.103 56-56 0-30.897-25.103-56-56-56m168 0c-30.897 0-56 25.103-56 56 0 30.897 25.103 56 56 56 30.897 0 56-25.103 56-56 0-30.897-25.103-56-56-56"}].concat([]))];return t&&a.unshift(g.createElement("title",null,t)),g.createElement.apply(g,["svg",i].concat(a))}Kf.propTypes={"aria-label":sa().string,className:sa().string,style:sa().object};const qf=Kf;function $f(e){var t=e["aria-label"],n=e.className,r=e.style,i={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-toolbar-play-560"};i["aria-hidden"]=!t,i.style=r,i.className=oa.Z.plexIcon+(n?" "+n:"");var a=[g.createElement.apply(g,["path",{d:"m112 504l0-448 392 224-392 224"}].concat([]))];return t&&a.unshift(g.createElement("title",null,t)),g.createElement.apply(g,["svg",i].concat(a))}$f.propTypes={"aria-label":sa().string,className:sa().string,style:sa().object};const Jf=$f,Xf={container:"PageHeaderMultiselectActions-container-5A7tEU PageHeader-pageHeader-WpvbJc",button:"PageHeaderMultiselectActions-button-1_G4Ux ActionButton-iconActionButton-3RWDHb ActionButton-actionButton-392O1X Button-button-1q7C1V Link-link-2WGTd7",icon:"PageHeaderMultiselectActions-icon-1qr3vQ",count:"PageHeaderMultiselectActions-count-HmMkQF",actions:"PageHeaderMultiselectActions-actions-33A4IS",deselect:"PageHeaderMultiselectActions-deselect-1lSYVp"};function eb(e){return 1===e?(0,Ce.Z)("Are you sure you want to mark this item as unplayed?"):(0,Ce.Z)("Are you sure you want to mark these {selectedItemsCount} items as unplayed?",{selectedItemsCount:e})}function tb(e,t){const n=1===e;return t?n?(0,Ce.Z)("Are you sure you want to remove this item?"):(0,Ce.Z)("Are you sure you want to remove these {selectedItemsCount} items?",{selectedItemsCount:e}):n?(0,Ce.Z)("Are you sure you want to delete this item from your filesystem?"):(0,Ce.Z)("Are you sure you want to delete these {selectedItemsCount} items from your filesystem?",{selectedItemsCount:e})}const nb=["isPlayVisible","isMarkPlayedOrUnplayedVisible","isMarkPlayedVisible","isMarkUnplayedVisible","isAddToCollectionVisible","isAddToPlaylistVisible","isEditVisible"];function rb({className:e=Xf.container}){const t=(0,v.I0)(),n=(0,v.v9)(bo),r=(0,v.v9)(gf),i=(0,v.v9)(Tl.Z),a=(0,v.v9)(hf),s=function(e,t){return{isAddToCollectionVisible:Tf(e,t),isAddToLibraryVisible:Of(e,t,Wc),isAddToPlaylistVisible:Nf(e,t),isAnalyzeVisible:Of(e,t,td),isDeleteVisible:Of(e,t,id),isEditVisible:Df(e,t),isMarkPlayedOrUnplayedVisible:Pf(e,t),isMarkPlayedVisible:Af(e,t,$c),isMarkUnplayedVisible:Af(e,t,Jc),isMergeVisible:wf(e,t),isOptimizeVisible:Of(e,t,rd),isPlayVisible:Zf(e,t),isRefreshVisible:Of(e,t,ed)}}(r,i),o=(0,g.useMemo)((()=>r.map((({metadataItem:e})=>e))),[r]),l=(0,g.useMemo)((()=>(0,tf.Z)(o.map((({title:e})=>e)))),[o]),c=o[0].librarySectionID,d=function(e){const[t,...n]=e;if(1===e.length)return t.sourceURI;if(!e.every((e=>e.source===t.source)))return;const r=n.map((e=>e.ratingKey));return`${t.sourceURI},${r.join(",")}`}(o),u=hs({mode:"multiselect",type:(0,g.useMemo)((()=>{const e=r.map((({metadataItem:e})=>e.type));return e.filter(((t,n)=>e.indexOf(t)===n)).sort().join(",")}),[r]),itemCount:r.length}),p=n.count,m=(0,gd.Z)(),h=(0,gd.Z)(),y=(0,No.Z)(),f=(0,gd.Z)(),b=(0,No.Z)(),I=(0,gd.Z)(),S=(0,gd.Z)(),M=(0,gd.Z)(),E=(0,g.useCallback)((()=>{t(vo.actions.reset())}),[t]),P=(0,g.useCallback)((()=>{u({action:ss.NH}),t(nf.aM({legacyAction:nf.Pe({serverEntityID:r[0].server.entityID,providerEntityID:r[0].provider.entityID}),items:r})),E()}),[t,r,E,u]),D=(0,g.useCallback)((()=>{u({action:ss.cO}),t(nf.aM({legacyAction:nf.u9({serverEntityID:r[0].server.entityID,providerEntityID:r[0].provider.entityID}),items:r})),E()}),[t,r,E,u]),C=(0,g.useCallback)((()=>{u({action:ss.pe}),t(nf.aM({legacyAction:nf.$e({serverEntityID:r[0].server.entityID,providerEntityID:r[0].provider.entityID}),items:r})),f.onClose(),E()}),[t,f,r,E,u]),w=(0,g.useCallback)((()=>{u({action:ss.PR}),t(nf.aM({legacyAction:nf.$z({serverEntityID:r[0].server.entityID,providerEntityID:r[0].provider.entityID}),items:r})),f.onClose(),E()}),[t,f,r,E,u]),Z=(0,g.useCallback)((()=>{u({action:ss.DK}),r.forEach((({metadataItem:e})=>{t(os.Z.actions.repopulateRequested({sourceURI:e.sourceURI}))})),E()}),[t,r,E,u]),T=(0,g.useCallback)((()=>{u({action:ss.uf}),E()}),[E,u]),N=(0,g.useCallback)((()=>{u({action:ss.dm}),t(nf.aM({legacyAction:nf.fR(),items:r})),E()}),[t,r,E,u]),O=(0,g.useCallback)((()=>{u({action:ss.FH}),t(nf.aM({legacyAction:nf.ZP(),items:r})),f.onClose(),E()}),[t,f,r,E,u]),A=(0,g.useCallback)((()=>{u({action:ss.yY}),t(nf.aM({legacyAction:nf.hM({options:{skipRedirect:!0}}),items:r})),E()}),[t,r,E,u]),x=(0,g.useCallback)((()=>{u({action:ss._R}),t(nf.aM({legacyAction:nf.mP(),items:r})),f.onClose(),E()}),[t,f,r,E,u]),j=(0,g.useCallback)((()=>{u({action:ss.t7}),t(nf.aM({legacyAction:nf.PP(),items:r})),f.onClose(),E()}),[t,f,r,E,u]),L=(0,g.useCallback)((()=>{u({action:ss.RG}),t(nf.aM({legacyAction:nf.H3(),items:r})),f.onClose(),E()}),[t,f,r,E,u]),k=(0,g.useCallback)((()=>{const e=s.isMarkPlayedVisible;u({action:e?ss.qe:ss.h3}),r.forEach((({metadataItem:n,server:r,provider:i})=>{t(os.Z.actions.playedStatusUpdateRequested({server:r,provider:i,sourceURI:n.sourceURI,ratingKey:n.ratingKey,played:e}))})),E()}),[t,s.isMarkPlayedVisible,r,E,u]),R=(0,g.useCallback)((({targetServer:e,targetProvider:n,targetLibrarySectionID:i,targetLibraryType:a})=>{u({action:ss.Ao}),r.forEach((({metadataItem:r,server:s,provider:o})=>{t(os.Z.actions.addToLibraryRequested({targetServer:e,targetProvider:n,targetLibrarySectionID:i,targetLibraryType:a,server:s,provider:o,metadataItem:r}))})),E()}),[t,r,E,u]),z=(0,g.useCallback)((()=>{t(vo.actions.reset())}),[t]);if((0,g.useEffect)((()=>()=>{E()}),[E]),!a)return null;const U=(0,av.gQ)(s).every((([e,t])=>"isMarkPlayedVisible"===e||"isMarkUnplayedVisible"===e||!t)),V=(0,av.gQ)(s).some((([e,t])=>!nb.includes(e)&&t)),B=r.every((({metadataItem:e})=>e.remoteMedia));return g.createElement(Vf,{className:e},g.createElement("div",{className:Xf.count},g.createElement(Ko.Z,{className:Xf.icon}),(0,Ce.Z)("{count} items selected",{count:p})),U?g.createElement("div",{className:Xf.actions},(0,Ce.Z)("No actions available for this selection")):g.createElement("div",{className:Xf.actions},s.isPlayVisible?g.createElement(mf,{className:Xf.button,title:(0,Ce.Z)("Play"),icon:Jf,onPress:P}):null,s.isMarkPlayedOrUnplayedVisible?g.createElement(mf,{className:Xf.button,title:s.isMarkPlayedVisible?(0,Ce.Z)("Mark as Played"):(0,Ce.Z)("Mark as Unplayed"),icon:s.isMarkPlayedVisible?Gf:Yf,onPress:m.onOpen}):null,(s.isAddToPlaylistVisible||s.isAddToCollectionVisible)&&d?g.createElement(g.Fragment,null,g.createElement(mf,{id:b,icon:Ff,title:(0,Ce.Z)("Add to..."),onPress:I.onToggle}),g.createElement(Xl.Z,{className:Xf.menu,isOpen:I.isOpen,target:b,onMenuClose:I.onClose},g.createElement(jp,{sourceURI:d,mediaType:ba(o[0].type,o[0].subtype),server:r[0].server,provider:r[0].provider,metadataType:o[0].type,contentDirectoryID:c,onAddToCollectionPress:s.isAddToCollectionVisible?S.onOpen:void 0,onAddToPlaylistPress:s.isAddToPlaylistVisible?M.onOpen:void 0,onSaveCollectionPress:Z,onSavePlaylistPress:T,onMenuClose:I.onClose})),s.isAddToPlaylistVisible&&d?g.createElement(_p,{isOpen:M.isOpen,mediaType:ba(o[0].type,o[0].subtype),sourceURI:d,defaultDestinationSource:o[0].source,defaultTitle:l,onSaveSuccess:T,onModalClose:M.onClose}):null,s.isAddToCollectionVisible&&d&&c?g.createElement(Tp,{isOpen:S.isOpen,metadataType:o[0].type,sourceURI:d,contentDirectoryID:c,defaultTitle:l,onModalClose:S.onClose,onSaveSuccess:Z}):null):null,s.isEditVisible?g.createElement(mf,{className:Xf.button,title:(0,Ce.Z)("Edit"),icon:Hf,onPress:N}):null,V?g.createElement(mf,{id:y,className:Xf.button,title:(0,Ce.Z)("More"),icon:qf,onPress:f.onToggle}):null,g.createElement(yt.Z,{isOpen:m.isOpen,metricsPage:s.isMarkPlayedVisible?pt.lP:pt.Md,title:s.isMarkPlayedVisible?(0,Ce.Z)("Mark as Played"):(0,Ce.Z)("Mark as Unplayed"),message:s.isMarkPlayedVisible?(F=r.length,1===F?(0,Ce.Z)("Are you sure you want to mark this item as played?"):(0,Ce.Z)("Are you sure you want to mark these {selectedItemsCount} items as played?",{selectedItemsCount:F})):eb(r.length),onConfirm:k,onCancel:m.onClose}),g.createElement(Xl.Z,{target:y,isOpen:f.isOpen,onMenuClose:f.onClose},s.isPlayVisible?g.createElement(ec.Z,{onPress:D},(0,Ce.Z)("Shuffle")):null,s.isPlayVisible?g.createElement(ec.Z,{onPress:C},(0,Ce.Z)("Play Next")):null,s.isPlayVisible?g.createElement(ec.Z,{onPress:w},(0,Ce.Z)("Add to Queue")):null,s.isRefreshVisible?g.createElement(ec.Z,{onPress:L},(0,Ce.Z)("Refresh Metadata")):null,s.isAnalyzeVisible?g.createElement(ec.Z,{onPress:x},(0,Ce.Z)("Analyze")):null,s.isOptimizeVisible?g.createElement(ec.Z,{onPress:O},(0,Ce.Z)("Optimize...")):null,s.isMergeVisible?g.createElement(ec.Z,{onPress:j},(0,Ce.Z)("Merge")):null,s.isAddToLibraryVisible?g.createElement(cc,{onAddToLibrary:R}):null,s.isDeleteVisible?g.createElement(ec.Z,{kind:B?or.Default:or.Danger,onPress:(0,rc.Z)(h.onOpen,f.onClose)},B?(0,Ce.Z)("Remove"):(0,Ce.Z)("Delete")):null),g.createElement(yt.Z,{isOpen:h.isOpen,metricsPage:pt.$e,title:B?(0,Ce.Z)("Remove"):(0,Ce.Z)("Delete"),message:tb(p,B),onConfirm:A,onCancel:h.onClose})),g.createElement("div",{className:Xf.deselect},g.createElement(vr,{onPress:z},g.createElement(cu.Z,{className:Xf.icon}),(0,Ce.Z)("Deselect All"))));var F}var ib=n(76249),ab=n(70488),sb=n(74253),ob=n(55885),lb=n(48523),cb=n(22745),db=n(44352);function ub(e){const{className:t,machineIdentifier:n,shouldRender:r,showButton:i}=e;return r?g.createElement("div",{className:t},g.createElement("div",{className:"ProgramGuideGracenoteMigrationBanner-messageContainer-3SDcOm"},g.createElement(db.Z,{className:"ProgramGuideGracenoteMigrationBanner-icon-2ofGHv"}),g.createElement("div",{className:"ProgramGuideGracenoteMigrationBanner-message-1t0IPw"},(0,Ce.Z)("Guide data for this DVR will no longer be updated after January 1, 2021. Please delete and recreate a new DVR and reschedule your recordings to ensure continued coverage."))),i?g.createElement(cb.Z,{className:"ProgramGuideGracenoteMigrationBanner-button-2uZp-5 Button-button-38SEbM Link-link-CM9nxg",kind:ic.Py,to:(0,Nv.Z)(n,"manage","dvr")},(0,Ce.Z)("Get Started")):null):null}ub.defaultProps={className:"ProgramGuideGracenoteMigrationBanner-container-3KhZOk",showButton:!0};const pb=ub,mb=(0,v.$j)((function(){return(0,fe.P1)(sb.Z,ab.Z,(0,ob.Z)(bn.lY),((e,t,n)=>{const r=Fo.wB(t.identifier,Fo.Ll),i=e.version&&(0,lb.Z)(e.version,ib.Z.gracenoteAttribution);return{machineIdentifier:e.machineIdentifier,shouldRender:r&&i&&n&&"Plex"===t.epgSource&&e.isFullOwnedServer}}))}))(pb);var hb=Object.defineProperty,gb=Object.prototype.hasOwnProperty,yb=Object.getOwnPropertySymbols,vb=Object.prototype.propertyIsEnumerable,fb=(e,t,n)=>t in e?hb(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;function bb(e){return!!e&&e<=Date.now()-864e5}function Ib({children:e,hub:t}){const[,,n]=Hn(),{metricsContextTuple:r}=(0,Jt.Zn)(),i=n&&t.key?Tr(t.source,{key:t.key,pageType:$t.F6.List,source:n.id,context:(0,Jt.VJ)(r)}):void 0;return g.createElement(vy,{hub:t},i?g.createElement(vr,{to:i},e):e)}function Sb({sourceURI:e}){const t=(0,v.I0)(),[n,r]=Hn(),{lastFetchedAt:i,sourceURI:a,hubs:s,isPopulated:o,error:l}=(0,v.v9)(ef),c=(0,v.v9)(hf),d=(0,g.useMemo)((()=>s.every((e=>!e.initialSize&&!e.more))),[s]),u=(0,g.useCallback)((()=>{t(Jv.actions.fetchHubsRequested({server:n,provider:r,sourceURI:e}))}),[t,r,n,e]);$d({},o),Xv(u);const{scrollRestoreProps:p,onScrollPositionReady:m}=qn({key:"DirectoryHubsPage"});if((0,g.useEffect)((()=>{o&&(bb(i)||e!==a)&&t(Jv.actions.resetHubs())}),[t,i,a,e,o]),(0,g.useEffect)((()=>{e!==a&&t(Jv.actions.fetchHubsRequested({server:n,provider:r,sourceURI:e}))}),[t,a,n,e]),(0,g.useEffect)((()=>(t(Jv.actions.markHubsStaleCanceled()),()=>{t(Jv.actions.markHubsStaleRequested())})),[t]),bb(i)||e!==a||!o&&!l)return g.createElement(Ye,null,g.createElement(lt,null));if(l){const{status:e}=l;return 404===e?g.createElement(Cr,null):g.createElement(tt,null,g.createElement(Dr,{kind:or.Primary,onPress:u},(0,Ce.Z)("Retry")))}return o&&d?g.createElement(xv,null):g.createElement(g.Fragment,null,c?g.createElement(rb,null):null,g.createElement(Ty,((e,t)=>{for(var n in t||(t={}))gb.call(t,n)&&fb(e,n,t[n]);if(yb)for(var n of yb(t))vb.call(t,n)&&fb(e,n,t[n]);return e})({className:"DirectoryHubsPageContent-pageContentScroller-2xMm65 PageContent-pageContentScroller-18TqCp Scroller-scroller-3Rbtv0"},p),g.createElement(mb,{className:"DirectoryHubsPageContent-banner-3q_YFN ProgramGuideGracenoteMigrationBanner-container-3KhZOk",serverEntityID:n.entityID,providerEntityID:r.entityID}),g.createElement(Iy,{hubs:s,hubComponent:hy,hubTitleComponent:Ib,onHubsReady:m})))}var Mb=n(54939);const Eb={underlay:"MetadataItemLinkUnderlay-underlay-12HKlq Link-link-2WGTd7"};var Pb=Object.defineProperty,Db=Object.prototype.hasOwnProperty,Cb=Object.getOwnPropertySymbols,wb=Object.prototype.propertyIsEnumerable,Zb=(e,t,n)=>t in e?Pb(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;function Tb(e){var t=e,{className:n=Eb.underlay,metadataItem:r,keyAttribute:i}=t,a=((e,t)=>{var n={};for(var r in e)Db.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&Cb)for(var r of Cb(e))t.indexOf(r)<0&&wb.call(e,r)&&(n[r]=e[r]);return n})(t,["className","metadataItem","keyAttribute"]);const s=ci(r,i);return s?g.createElement(vr,((e,t)=>{for(var n in t||(t={}))Db.call(t,n)&&Zb(e,n,t[n]);if(Cb)for(var n of Cb(t))wb.call(t,n)&&Zb(e,n,t[n]);return e})({className:n,to:s},a)):null}function Nb({className:e,metadataItem:t}){const n=(0,Fa.Z)({useLongName:!1,episodeIndex:t.index,date:t.originallyAvailableAt,noLeadingZero:!0});return g.createElement("span",{className:e},g.createElement("span",{title:t.title},n))}function Ob({className:e="RowSelectButton-selectButtonContainer-3XuLk5",visibleClassName:t="RowSelectButton-isVisible-1hsWch",isSelected:n,isInSelectionRange:r,isVisible:i,title:a,tabIndex:s,onPress:o}){return g.createElement("div",{className:Te()(e,i&&t)},g.createElement(ch,{className:"RowSelectButton-selectButton-4wB5yl SelectButton-selectButton-1C3dP4 Link-link-2WGTd7",isSelected:n,isInSelectionRange:r,title:a,tabIndex:s,"aria-hidden":-1===s?"true":void 0,onPress:o}))}const Ab="MetadataDetailsRow-actionsButton-2AJCaT Link-link-2WGTd7",xb=parseInt(ng.Z.summaryCellPadding,10);function jb({metadataItem:e,metadataItemState:t,style:n,cellHeight:r,cellIndex:i,isParentDetailHidden:a}){const[s,o]=Hn(),l=(0,v.v9)(Tl.Z),c=ti(null==e?void 0:e.sourceURI),{hoverRef:d,actionsMenuButtonID:u,isHovered:p,isActionsPending:m,isActionsVisible:h,isActionsMenuOpen:y,onActionsMenuClose:f,onActionsMenuCloseComplete:b,onActionsMenuToggle:I}=Ao({server:s,provider:o,metadataItem:e,metadataItemState:t}),{isSelected:S,isInSelectionRange:M,isSelectionActive:E,onToggleSelect:P}=Do({isHovered:p,metadataItem:e,metadataItemState:t}),D=(0,g.useMemo)((()=>M?"MetadataDetailsRow-rangeListRow-1lM26x ListRow-row-F6OwAL":S?"MetadataDetailsRow-selectedListRow-2xUu0F ListRow-row-F6OwAL":void 0),[M,S]),C=Ic({server:s,provider:o,metadataItem:e,metadataItemState:t}),w=!E&&h,Z=gs(e),T=(0,g.useCallback)((()=>{P()}),[P]),N=(0,g.useCallback)((()=>{Z({action:ss.dm}),C((0,Nl.editMetadataItem)())}),[C,Z]),{type:O,subtype:A,childCount:x,duration:j,originallyAvailableAt:L,summary:k}=e,R=si(O,A),z=oi({height:r-2*xb,aspectRatio:R}),U=qc({server:s,provider:o,metadataItem:e,metadataItemState:t,stableUser:l}),V=Xc({server:s,provider:o,metadataItem:e,metadataItemState:t,stableUser:l});return g.createElement(Ju,{className:D,alternateClassName:D,isAlternate:!!(i%2),isHovered:p,style:n,ref:d},dh(o)?g.createElement(Ob,{isSelected:S,isInSelectionRange:M,isVisible:S||M||p,title:Vo(e),tabIndex:E?-1:void 0,onPress:T}):null,E?g.createElement(vr,{className:"MetadataDetailsRow-selectOverlay-3gX1-o Link-link-2WGTd7",onPress:T}):g.createElement(Tb,{metadataItem:e,keyAttribute:"key","aria-label":Vo(e)}),g.createElement("div",{className:"MetadataDetailsRow-overlay-2JtVhz"},g.createElement("div",{className:"MetadataDetailsRow-summaryContainer-2lUbfn"},g.createElement("div",{className:"MetadataDetailsRow-posterContainer-3Jj2zE"},g.createElement(Oh,{metadataItem:e,metadataItemState:t,metadataTimelineState:c,width:z.width,height:z.height,aspectRatio:R,isSelectHidden:!0,isPlayButtonCard:!0})),g.createElement("div",{className:"MetadataDetailsRow-titlesContainer-g-exM6"},g.createElement("div",{className:"MetadataDetailsRow-titleContainer-16bxoS"},g.createElement(di,{className:k?"MetadataDetailsRow-singleTitle-3Jn3np MetadataDetailsRow-title-1X8g6o":"MetadataDetailsRow-doubleTitle-3At5aA MetadataDetailsRow-title-1X8g6o",allowLink:!1,metadataItem:e})),g.createElement("div",{className:"MetadataDetailsRow-subtitle-31qc32 MetadataDetailsRow-titleContainer-16bxoS MetadataDetailsRow-title-1X8g6o"},a?null:g.createElement(qa,{allowLink:!1,metadataItem:e}),a&&e.type===ni.pG.Episode?g.createElement(g.Fragment,null,g.createElement(Nb,{metadataItem:e}),L?g.createElement(g.Fragment,null,g.createElement(rs.Z,{separator:""}),g.createElement(ya,{metadataItem:e})):null):null,a&&e.type===ni.pG.Album?g.createElement(Hs,{metadataItem:e}):null,e.type===ni.pG.Movie||e.type===ni.pG.Show?g.createElement(Hs,{metadataItem:e}):null,x?g.createElement(g.Fragment,null,g.createElement(rs.Z,{separator:""}),g.createElement(Ma,{metadataItem:e})):null,j?g.createElement(g.Fragment,null,g.createElement(rs.Z,{separator:""}),g.createElement(Va,{metadataItem:e})):null,U&&(p&&!E||t.userRating)?g.createElement(Vs,{className:"MetadataDetailsRow-userRatingContainer-26lp90",metadataItem:e}):null),k?g.createElement("div",{className:"MetadataDetailsRow-summary-1sz68f"},k):null),w?g.createElement("div",{className:"MetadataDetailsRow-actions-319KcD"},V?g.createElement(vr,{className:Ab,"data-qa-id":"metadataRowEditButton",onPress:N},g.createElement(uh.Z,null)):null,g.createElement(nh,{id:u,className:Ab,"data-qa-id":"metadataRowMoreButton",isPending:m,onPress:I})):null)),g.createElement(Km,{target:u,isOpen:y,metadataItem:e,actionsOverride:{isPlayVisible:!1,isEditVisible:!1},onMenuClose:f,onMenuCloseComplete:b}))}var Lb=Object.prototype.hasOwnProperty,kb=Object.getOwnPropertySymbols,Rb=Object.prototype.propertyIsEnumerable;function zb(e){var t=e,{item:n,isParentDetailHidden:r}=t,i=((e,t)=>{var n={};for(var r in e)Lb.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&kb)for(var r of kb(e))t.indexOf(r)<0&&Rb.call(e,r)&&(n[r]=e[r]);return n})(t,["item","isParentDetailHidden"]);const a=ei(null==n?void 0:n.sourceURI),s=oo(i),{cellIndex:o,cellHeight:l}=i;return n?g.createElement(jr,{metadataItem:n,metadataItemState:a},g.createElement(jb,{style:s.style,cellIndex:o,cellHeight:l,metadataItem:n,metadataItemState:a,isParentDetailHidden:r})):g.createElement(ap,{style:s.style,index:o})}var Ub=Object.defineProperty,Vb=Object.prototype.hasOwnProperty,Bb=Object.getOwnPropertySymbols,Fb=Object.prototype.propertyIsEnumerable,_b=(e,t,n)=>t in e?Ub(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const Hb=parseInt(ng.Z.summaryCellHeight,10),Qb=function(e){return Pu(((e,t)=>{for(var n in t||(t={}))Vb.call(t,n)&&_b(e,n,t[n]);if(Bb)for(var n of Bb(t))Fb.call(t,n)&&_b(e,n,t[n]);return e})({rowHeight:Hb,overscan:2},e))};var Gb=Object.defineProperty,Wb=Object.prototype.hasOwnProperty,Yb=Object.getOwnPropertySymbols,Kb=Object.prototype.propertyIsEnumerable,qb=(e,t,n)=>t in e?Gb(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const $b=parseInt(ng.Z.v4PagePadding,10);function Jb({className:e,items:t,totalSize:n,scrollerKey:r,smoothScroll:i,targetScrollIndex:a,onPageRequest:s,onListReady:o}){const l=(0,g.useMemo)((()=>Qb({outerPaddingLeft:$b})),[]),c=(0,g.useCallback)((e=>g.createElement(Jt.ZP,{key:e.key,row:e.row},g.createElement(zb,((e,t)=>{for(var n in t||(t={}))Wb.call(t,n)&&qb(e,n,t[n]);if(Yb)for(var n of Yb(t))Kb.call(t,n)&&qb(e,n,t[n]);return e})({},e)))),[]);return g.createElement(Hu,{className:e,layout:l,cellComponentFactory:c,keyPropName:"listItemKey",items:t,totalSize:n,autoScroll:!1,smoothScroll:i,scrollerKey:r,targetScrollIndex:a,onPageRequest:s,onListReady:o})}var Xb=n(82223);const eI=function(e){switch(e){case ai:return 114;case ii:return 64;case 1:return 74}Zl(!1,`Unknown aspectRatio ${e}`)};function tI({metadataItem:e,style:t,cellIndex:n}){const r=Zv({key:e.key}),[i,a]=Oo(),s=si(En.U.Folder),o=oi({width:eI(s),aspectRatio:s});return g.createElement(Ju,{isAlternate:!!(n%2),isHovered:i,style:t,ref:a},g.createElement(vr,{className:"MetadataFolderDetailsRow-underlay-3oQj8g Link-link-2WGTd7",to:r,"aria-label":Vo(e)}),g.createElement("div",{className:"MetadataFolderDetailsRow-overlay-2Co_bJ"},g.createElement("div",{className:"MetadataFolderDetailsRow-posterContainer-16rHv0"},g.createElement(Fr,{style:o},g.createElement(al,{width:o.width,height:o.height},g.createElement(Xb.Z,null)))),g.createElement("div",{className:"MetadataFolderDetailsRow-titlesContainer-KubStS"},g.createElement(di,{className:"MetadataFolderDetailsRow-doubleTitle-1Re_2Q",metadataItem:e,allowLink:!1}))))}var nI=Object.prototype.hasOwnProperty,rI=Object.getOwnPropertySymbols,iI=Object.prototype.propertyIsEnumerable;function aI(e){var t=e,{item:n}=t,r=((e,t)=>{var n={};for(var r in e)nI.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&rI)for(var r of rI(e))t.indexOf(r)<0&&iI.call(e,r)&&(n[r]=e[r]);return n})(t,["item"]);const i=ei(null==n?void 0:n.sourceURI),a=oo(r),{cellIndex:s}=r;return n?g.createElement(jr,{metadataItem:n,metadataItemState:i},g.createElement(tI,{style:a.style,cellIndex:s,metadataItem:n})):g.createElement(ap,{style:a.style,index:s})}var sI=Object.defineProperty,oI=Object.prototype.hasOwnProperty,lI=Object.getOwnPropertySymbols,cI=Object.prototype.propertyIsEnumerable,dI=(e,t,n)=>t in e?sI(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,uI=(e,t)=>{for(var n in t||(t={}))oI.call(t,n)&&dI(e,n,t[n]);if(lI)for(var n of lI(t))cI.call(t,n)&&dI(e,n,t[n]);return e};const pI=parseInt(ng.Z.v4PagePadding,10);function mI({className:e,items:t,totalSize:n,scrollerKey:r,smoothScroll:i,targetScrollIndex:a,onPageRequest:s,onListReady:o}){const l=(0,g.useMemo)((()=>Qb({outerPaddingLeft:pI})),[]),c=(0,g.useCallback)((e=>{var t;return g.createElement(Jt.ZP,{key:e.key,row:e.row},(null==(t=e.item)?void 0:t.isFolder)?g.createElement(aI,uI({},e)):g.createElement(zb,uI({},e)))}),[]);return g.createElement(Hu,{className:e,layout:l,cellComponentFactory:c,keyPropName:"listItemKey",items:t,totalSize:n,autoScroll:!1,smoothScroll:i,scrollerKey:r,targetScrollIndex:a,onPageRequest:s,onListReady:o})}var hI=n(26512);var gI=Object.prototype.hasOwnProperty,yI=Object.getOwnPropertySymbols,vI=Object.prototype.propertyIsEnumerable;function fI(e){var t=e,{item:n}=t,r=((e,t)=>{var n={};for(var r in e)gI.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&yI)for(var r of yI(e))t.indexOf(r)<0&&vI.call(e,r)&&(n[r]=e[r]);return n})(t,["item"]);const{metricsContextTuple:i}=(0,Jt.Zn)(),[a,s,o]=Hn(),{containerType:l,containerSubtype:c,listStyle:d}=Or(),u=ei(null==n?void 0:n.sourceURI),[p,m]=Oo(),h=oo(r),y=(0,g.useMemo)((()=>si(l,c,{listStyle:d})),[c,l,d]),v=(0,g.useMemo)((()=>oi({width:r.cellWidth,aspectRatio:y})),[y,r.cellWidth]);if(!n)return g.createElement("div",{style:h.style},g.createElement(Kr,{style:v,index:r.cellIndex}));const f=(0,hI.Z)(a,s,o,{pageType:n.type===ni.pG.Hub?$t.F6.Hub:$t.F6.List,key:n.key,context:(0,Jt.VJ)(i)});return g.createElement(jr,{metadataItem:n,metadataItemState:u},g.createElement("div",{style:h.style},g.createElement(Fr,{style:v,ref:m},g.createElement(xt.Z,{className:"MetadataDirectoryListItem-image-2dr9Xb",serverEntityID:a.entityID,providerEntityID:s.entityID,url:n.icon||n.thumb,width:v.width,height:v.height,component:Ot.Z,preloadOnMount:!1,animateOnMount:!1,backgroundSize:n.icon?"75%":"cover"}),g.createElement(pl,{isHovered:p,to:f,"aria-label":Vo(n)}),n.type===ni.pG.Directory?g.createElement("div",{className:"MetadataDirectoryListItem-titleContainer-1CnabE"},g.createElement("span",{className:"MetadataDirectoryListItem-title-2dKELZ"},n.title)):null)))}var bI=Object.defineProperty,II=Object.prototype.hasOwnProperty,SI=Object.getOwnPropertySymbols,MI=Object.prototype.propertyIsEnumerable,EI=(e,t,n)=>t in e?bI(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const PI=parseInt(ng.Z.v4PagePadding,10),DI=parseInt(ng.Z.v4CardTitleHeight,10),CI=parseInt(ng.Z.v4CardTitleGap,10),wI=parseInt(ng.Z.gapMedium,10);function ZI(e){var t=e,{listType:n,subtype:r,listStyle:i,displayFields:a,displayImages:s,columnWidth:o}=t,l=((e,t)=>{var n={};for(var r in e)II.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&SI)for(var r of SI(e))t.indexOf(r)<0&&MI.call(e,r)&&(n[r]=e[r]);return n})(t,["listType","subtype","listStyle","displayFields","displayImages","columnWidth"]);const c=si(n,r,{listStyle:i,displayImageType:wo(n,r,s)}),d=l.titleCount?l.titleCount:Hh(n,r,{listStyle:i,displayFields:a}),u=d?DI*d+CI:0,p=c===ai?2*o+wI:o,m=Math.floor(p/c+u);return fu(((e,t)=>{for(var n in t||(t={}))II.call(t,n)&&EI(e,n,t[n]);if(SI)for(var n of SI(t))MI.call(t,n)&&EI(e,n,t[n]);return e})({direction:gu.Vertical,getCellWidth:()=>p,getCellHeight:()=>m,innerHorizontalPadding:wI,innerVerticalPadding:wI,overscan:1,outerPaddingRight:PI,outerPaddingLeft:PI},l))}var TI=Object.defineProperty,NI=Object.prototype.hasOwnProperty,OI=Object.getOwnPropertySymbols,AI=Object.prototype.propertyIsEnumerable,xI=(e,t,n)=>t in e?TI(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,jI=(e,t)=>{for(var n in t||(t={}))NI.call(t,n)&&xI(e,n,t[n]);if(OI)for(var n of OI(t))AI.call(t,n)&&xI(e,n,t[n]);return e};const LI=parseInt(ng.Z.v4PagePadding,10),kI=parseInt(ng.Z.v4PagePaddingAlt,10),RI=parseInt(ng.Z.jumpBarGutter,10);function zI({className:e,listType:t,subtype:n,items:r,totalSize:i,scrollerKey:a,smoothScroll:s,targetScrollIndex:o,onPageRequest:l,onListReady:c}){const d=(0,v.v9)(Ug),{containerMeta:u,listStyle:p}=Or(),m=(0,g.useMemo)((()=>ZI({listType:t,subtype:n,columnWidth:d,listStyle:p,displayFields:null==u?void 0:u.DisplayFields,displayImages:null==u?void 0:u.DisplayImage,outerPaddingTop:kI,outerPaddingBottom:kI,outerPaddingRight:LI-RI})),[t,n,d,p,null==u?void 0:u.DisplayFields,null==u?void 0:u.DisplayImage]),h=(0,g.useCallback)((e=>g.createElement(Jt.ZP,{key:e.key,row:e.row,column:e.column},function(e){switch(e){case En.U.Directory:case En.U.Content:case En.U.Channel:return!0;default:return!1}}(t)?g.createElement(fI,jI({},e)):g.createElement(kh,jI({},e)))),[t]);return g.createElement(Hu,{className:e,layout:m,cellComponentFactory:h,keyPropName:"listItemKey",items:r,totalSize:i,smoothScroll:s,autoScroll:!1,scrollerKey:a,targetScrollIndex:o,onPageRequest:l,onListReady:c})}var UI=n(13550);function VI({className:e,metadataItem:t}){const n=(0,UI.Z)(t);return n?g.createElement("span",{className:e,title:n},n):null}function BI({metadataItem:e,metadataItemState:t,style:n,cellIndex:r}){const[i,a]=Hn(),s=ti(null==e?void 0:e.sourceURI),o=ci(e,"key"),l=(0,hI.Z)(i,a,null,{key:e.key}),{hoverRef:c,actionsMenuButtonID:d,isHovered:u,isActionsPending:p,isActionsVisible:m,isActionsMenuOpen:h,onActionsMenuClose:y,onActionsMenuCloseComplete:v,onActionsMenuToggle:f}=Ao({server:i,provider:a,metadataItem:e,metadataItemState:t}),{type:b,subtype:I}=e,S=si(b,I),M=oi({width:eI(S),aspectRatio:S});return g.createElement(Ju,{isAlternate:!!(r%2),isHovered:u,style:n,ref:c},!e.directory&&o||e.directory?g.createElement(vr,{className:"MetadataSharedItemRow-underlay-2BTeeZ Link-link-2WGTd7",to:e.directory?l:o,"aria-label":Vo(e)}):null,g.createElement("div",{className:"MetadataSharedItemRow-overlay-2yLFZ1"},g.createElement("div",{className:"MetadataSharedItemRow-summaryContainer-3IJ6P0"},e.directory?g.createElement("div",{className:"MetadataSharedItemRow-posterContainer-2SyV96"},g.createElement(Fr,{style:M},g.createElement(al,{width:M.width,height:M.height},g.createElement($y,{type:e.type})))):g.createElement("div",{className:"MetadataSharedItemRow-playPosterContainer-2_uxur MetadataSharedItemRow-posterContainer-2SyV96"},g.createElement(Oh,{playCircleClassName:"MetadataSharedItemRow-playCircle-3t5PDO MetadataPosterCardActions-playCircle-3-j0JO PlayButton-playCircle-2DYa77 MetadataPosterCardCircle-cardCircle-1T_VVp",metadataItem:e,metadataItemState:t,metadataTimelineState:s,width:M.width,height:M.height,aspectRatio:S,isSelectHidden:!0,isPlayButtonCard:!0})),g.createElement("div",{className:"MetadataSharedItemRow-titlesContainer-Yk1Ncf"},g.createElement("div",{className:"MetadataSharedItemRow-titleContainer-1MLzI2"},g.createElement(VI,{className:"MetadataSharedItemRow-doubleTitle-1e1VnU MetadataSharedItemRow-title-1AIjzA",metadataItem:e})),g.createElement("div",{className:"MetadataSharedItemRow-subtitle-1dGC3o MetadataSharedItemRow-titleContainer-1MLzI2 MetadataSharedItemRow-title-1AIjzA"},function(e){if(e.directory)switch(e.type){case ni.pG.Movie:return(0,Ce.Z)("Movie Library");case ni.pG.Show:return(0,Ce.Z)("Show Library");case ni.pG.Artist:return(0,Ce.Z)("Music Library");case ni.pG.Photo:return(0,Ce.Z)("Photo Library")}return function(e){switch(e){case ni.pG.Movie:return(0,Ce.Z)("Movie");case ni.pG.Show:return(0,Ce.Z)("Show");case ni.pG.Season:return(0,Ce.Z)("Season");case ni.pG.Episode:return(0,Ce.Z)("Episode");case ni.pG.Artist:return(0,Ce.Z)("Artist");case ni.pG.Album:return(0,Ce.Z)("Album");case ni.pG.Track:return(0,Ce.Z)("Track");case ni.pG.Photo:return(0,Ce.Z)("Photo");case ni.pG.PhotoAlbum:return(0,Ce.Z)("Photo Album");case ni.pG.Person:return(0,Ce.Z)("Person");case ni.pG.Clip:return(0,Ce.Z)("Clip");case ni.pG.Collection:return(0,Ce.Z)("Collection");case ni.pG.Game:return(0,Ce.Z)("Game");case ni.pG.Playlist:return(0,Ce.Z)("Playlist")}!function(e){throw new Error(`"${e}" is not mapped to a title`)}(e)}(e.type)}(e))),m&&!e.directory?g.createElement("div",{className:"MetadataSharedItemRow-actions-Sosl3A"},g.createElement(nh,{id:d,className:"MetadataSharedItemRow-actionsButton-BiWGvb Link-link-2WGTd7","data-qa-id":"sharedItemMoreButton",isPending:p,onPress:f})):null)),g.createElement(Km,{target:d,isOpen:h,metadataItem:e,actionsOverride:{isPlayVisible:!1,isEditVisible:!1},onMenuClose:y,onMenuCloseComplete:v}))}var FI=Object.prototype.hasOwnProperty,_I=Object.getOwnPropertySymbols,HI=Object.prototype.propertyIsEnumerable;function QI(e){var t=e,{item:n}=t,r=((e,t)=>{var n={};for(var r in e)FI.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&_I)for(var r of _I(e))t.indexOf(r)<0&&HI.call(e,r)&&(n[r]=e[r]);return n})(t,["item"]);const i=ei(null==n?void 0:n.sourceURI),a=oo(r),{cellIndex:s}=r;return n?g.createElement(jr,{metadataItem:n,metadataItemState:i},g.createElement(BI,{style:a.style,cellIndex:s,metadataItem:n,metadataItemState:i})):g.createElement(ap,{style:a.style,index:s})}var GI=Object.defineProperty,WI=Object.prototype.hasOwnProperty,YI=Object.getOwnPropertySymbols,KI=Object.prototype.propertyIsEnumerable,qI=(e,t,n)=>t in e?GI(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const $I=parseInt(ng.Z.v4PagePadding,10);function JI({className:e,items:t,totalSize:n,scrollerKey:r,smoothScroll:i,targetScrollIndex:a,onPageRequest:s,onListReady:o}){const l=(0,g.useMemo)((()=>Qb({outerPaddingLeft:$I})),[]),c=(0,g.useCallback)((e=>g.createElement(Jt.ZP,{key:e.key,row:e.row},g.createElement(QI,((e,t)=>{for(var n in t||(t={}))WI.call(t,n)&&qI(e,n,t[n]);if(YI)for(var n of YI(t))KI.call(t,n)&&qI(e,n,t[n]);return e})({},e)))),[]);return g.createElement(Hu,{className:e,layout:l,cellComponentFactory:c,keyPropName:"listItemKey",items:t,totalSize:n,autoScroll:!1,smoothScroll:i,scrollerKey:r,targetScrollIndex:a,onPageRequest:s,onListReady:o})}var XI=n(89971);function eS(e,t){const{playQueueItems:n,currentIndex:r}=e,i=t[n[r]];return null==i?void 0:i.metadataItem}function tS(e,t){return(0,fe.P1)((({ui:e})=>{var t;return null==(t=e.audioVideoPlayer)?void 0:t.playQueue}),(({ui:e})=>{var t;return null==(t=e.photoPlayer)?void 0:t.playQueue}),XI.Z,((n,r,i)=>{if(!e)return!1;const a=(0,vn.Z)(Mn.TY,e.key,t.entityID);let s,o;return n&&(s=eS(n,i)),r&&(o=eS(r,i)),s===a||o===a}))}function nS({className:e="DecoratorIcon-decoratorIconContainer-1rpPX5",iconClassName:t="DecoratorIcon-decoratorIcon-1zZAbG",iconComponent:n}){return g.createElement("span",{className:e},g.createElement(n,{className:t}))}function rS({className:e,metadataItem:t}){const{title:n,originalTitle:r}=t;return g.createElement("span",{className:e},g.createElement("span",{className:"MetadataTitleCombinedTitleTrackArtist-titleContainer-1AjKt6"},g.createElement("span",{className:"MetadataTitleCombinedTitleTrackArtist-title-2j93Uq","data-qa-id":"trackName"},n,r?g.createElement("span",{className:"MetadataTitleCombinedTitleTrackArtist-trackArtist-1sRk6p"},n?g.createElement(rs.Z,null):null,r):null),function(e){const{type:t,primaryExtraKey:n}=e;return t===ni.pG.Track&&!!n}(t)?g.createElement(nS,{iconComponent:By.Z}):null))}function iS({className:e,metadataItem:t}){const n=ei(t.sourceURI);if(null==t.duration||null==n.viewOffset)return null;const r=(t.duration-n.viewOffset)/1e3;return g.createElement("span",{className:e},Vi(r))}var aS=n(7378);function sS({className:e,metadataItem:t}){const{duration:n,preview:r}=t;return r?g.createElement("span",{className:e},(0,Ce.Z)("Preview")):null!=n?g.createElement("span",{className:e},(0,aS.Z)(t.duration)):null}const oS={flexGrow:2,width:250};var lS,cS;(cS=lS||(lS={})).Title="title",cS.Season="season",cS.SeasonShow="seasonShow",cS.EpisodeShow="episodeShow",cS.AlbumArtist="albumArtist",cS.TrackAlbumArtist="trackAlbumArtist",cS.CombinedTitleTrackArtist="combinedTitleTrackArtist",cS.TrackAlbum="trackAlbum",cS.Year="year",cS.UserRating="userRating",cS.MiniUserRating="miniUserRating",cS.Duration="duration",cS.MinutesLeft="minutesLeft",cS.ViewCount="viewCount",cS.AddedAt="addedAt",cS.LastViewedAt="lastViewedAt",cS.LastRatedAt="lastRatedAt",cS.MediaBitrate="mediaBitrate",cS.OriginallyAvailableAt="originallyAvailableAt",cS.Rating="rating",cS.ContentRating="contentRating",cS.ViewOffset="viewOffset",cS.MediaHeight="mediaHeight",cS.Downloaded="downloaded";const dS={key:lS.Title,ascKey:"titleSort",descKey:"titleSort:desc",component:()=>di,style:oS},uS={key:lS.Season,ascKey:"season.index,season.titleSort",descKey:"season.index:desc,season.titleSort",component:()=>di,style:oS},pS={key:lS.SeasonShow,ascKey:"show.titleSort,index",descKey:"show.titleSort:desc,index",component:()=>qa,style:oS},mS={key:lS.EpisodeShow,ascKey:"show.titleSort,season.index:nullsLast,episode.index:nullsLast,episode.originallyAvailableAt:nullsLast,episode.titleSort,episode.id",descKey:"show.titleSort:desc,season.index:nullsLast,episode.index:nullsLast,episode.originallyAvailableAt:nullsLast,episode.titleSort,episode.id",component:()=>Ga,style:oS},hS={key:lS.AlbumArtist,ascKey:"artist.titleSort,album.titleSort,album.index,album.id,album.originallyAvailableAt",descKey:"artist.titleSort:desc,album.titleSort,album.index,album.id,album.originallyAvailableAt",component:()=>qa,style:oS},gS={key:lS.TrackAlbumArtist,ascKey:"artist.titleSort,album.titleSort,album.year,track.absoluteIndex,track.index,track.titleSort,track.id",descKey:"artist.titleSort:desc,album.titleSort,album.year,track.absoluteIndex,track.index,track.titleSort,track.id",component:()=>Ga,style:oS},yS={key:lS.CombinedTitleTrackArtist,component:()=>rS,style:oS},vS={key:lS.TrackAlbum,ascKey:"album.titleSort",descKey:"album.titleSort:desc",component:()=>qa,style:oS},fS={key:lS.Year,ascKey:"year",descKey:"year:desc",component:()=>Hs,style:{width:100}},bS={key:lS.UserRating,ascKey:"userRating",descKey:"userRating:desc",component:()=>Vs,style:{width:115}},IS={key:lS.MiniUserRating,component:()=>Vs,style:{width:75,padding:0}},SS={key:lS.Rating,ascKey:"rating",descKey:"rating:desc",component:()=>Ua,style:{width:150}},MS={key:lS.ContentRating,ascKey:"contentRating",descKey:"contentRating:desc",component:()=>Da,style:{width:100}},ES={key:lS.Duration,ascKey:"duration",descKey:"duration:desc",component:(e,t)=>{switch(t){case ni.y_.Podcast:switch(e){case ni.pG.Track:return Va}}switch(e){case ni.pG.Track:return sS;default:return Va}},style:{width:125}},PS={key:lS.MinutesLeft,component:()=>iS,style:{width:150}},DS={key:lS.ViewCount,ascKey:"viewCount",descKey:"viewCount:desc",component:()=>$a,style:{width:100}},CS={key:lS.ViewOffset,ascKey:"viewOffset",descKey:"viewOffset:desc",component:()=>iS,style:{width:150}},wS={key:lS.AddedAt,ascKey:"addedAt",descKey:"addedAt:desc",component:()=>yi,style:{width:175}},ZS={key:lS.LastViewedAt,ascKey:"lastViewedAt",descKey:"lastViewedAt:desc",component:()=>Ka,style:{width:175}},TS={key:lS.LastRatedAt,ascKey:"lastRatedAt",descKey:"lastRatedAt:desc",component:()=>Ya,style:{width:175}},NS={key:lS.OriginallyAvailableAt,ascKey:"originallyAvailableAt",descKey:"originallyAvailableAt:desc",component:()=>ya,style:{width:175}},OS={key:lS.MediaBitrate,ascKey:"mediaBitrate",descKey:"mediaBitrate:desc",component:()=>Ia,style:{width:110}},AS={key:lS.MediaHeight,ascKey:"mediaHeight",descKey:"mediaHeight:desc",component:()=>Fs,style:{width:110}},xS=[wS,hS,yS,ES,mS,TS,ZS,OS,IS,uS,pS,dS,vS,gS,PS,bS,DS,fS,SS,MS,CS,NS,OS,AS],jS={tableCell:"TableCell-tableCell-3_jfgf",activeTableCell:"TableCell-activeTableCell-1IP8PN TableCell-tableCell-3_jfgf",title:"TableCell-title-3rv80l"};var LS=Object.defineProperty,kS=Object.prototype.hasOwnProperty,RS=Object.getOwnPropertySymbols,zS=Object.prototype.propertyIsEnumerable,US=(e,t,n)=>t in e?LS(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,VS=(e,t)=>{for(var n in t||(t={}))kS.call(t,n)&&US(e,n,t[n]);if(RS)for(var n of RS(t))zS.call(t,n)&&US(e,n,t[n]);return e};function BS(e){var t=e,{className:n=jS.title,cellClassName:r=jS.tableCell,activeCellClassName:i=jS.activeTableCell,style:a,component:s,type:o,isActiveSort:l}=t,c=((e,t)=>{var n={};for(var r in e)kS.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&RS)for(var r of RS(e))t.indexOf(r)<0&&zS.call(e,r)&&(n[r]=e[r]);return n})(t,["className","cellClassName","activeCellClassName","style","component","type","isActiveSort"]);return g.createElement("div",{className:l?i:r,style:a},g.createElement(s,VS(VS({},c),{className:n})))}var FS=n(41720);function _S(e,t){return Math.random()*(t-e)+e}class HS extends g.Component{constructor(e,t){super(e,t),this._setBarValues(e),this.state=this._getInitialState(!0)}componentDidMount(){if(!this.props.isPaused)for(let e=0,t=this._bars.length;e<t;e++)this._setTransitionTimeout(e)}UNSAFE_componentWillReceiveProps(e){const t=e.isPaused!==this.props.isPaused,n=e.width!==this.props.width,r=e.barCount!==this.props.barCount,i=e.barGap!==this.props.barGap;(t||n||r||i)&&(this._clearAllTransitionTimeouts(),this._setBarValues(e),this.setState(this._getInitialState(e.isPaused)))}componentDidUpdate(e,t){if(!this.props.isPaused)for(let e=0,n=this._bars.length;e<n;e++){const n=this._bars[e];t[n]!==this.state[n]&&this._setTransitionTimeout(e)}}componentWillUnmount(){this._clearAllTransitionTimeouts()}_setBarValues({width:e,barCount:t,barGap:n}){const r=n*(t-1);this._barGap=n,this._barWidth=Math.floor((e-r)/t),this._bars=[];for(let e=0,n=t;e<n;e++)this._bars.push("bar"+e)}_getInitialState(e){return this._bars.reduce(((t,n,r)=>(t[n]=this._getRandomStyle(r,e),t)),{})}_getRandomStyle(e,t){const{unit:n}=this.props,r=e*(this._barWidth+this._barGap),i=`scaleY(${t?.2:_S(.2,1)})`,a=_S(300,500);return{left:`${r}${n}`,width:`${this._barWidth}${n}`,backgroundColor:this.props.barColor,transitionDuration:`${a}ms`,WebkitTransform:i,msTransform:i,transform:i}}_setTransitionTimeout(e){const t=this._bars[e],n=t+"TimeoutID",r=this.state[t],i=(0,Ms.Z)(r.transitionDuration)-100;this[n]=window.setTimeout((()=>{this.setState({[t]:this._getRandomStyle(e)})}),i)}_clearAllTransitionTimeouts(){for(let e=0,t=this._bars.length;e<t;e++){const t=this._bars[e]+"TimeoutID";window.clearTimeout(this[t])}}render(){const{className:e,width:t,height:n,unit:r}=this.props;return g.createElement("div",{className:e,style:{width:`${t}${r}`,height:`${n}${r}`}},this._bars.map((e=>g.createElement("div",{key:e,className:"EqualizerIcon-bar-Ysl4Zm",style:this.state[e]}))))}}HS.defaultProps={className:"EqualizerIcon-equalizer-u2_y9X",width:14,height:14,barColor:"#fff",barCount:3,barGap:2,isPaused:!0,unit:"px"};const QS=HS;var GS=n(90701);function WS(e){var t=e["aria-label"],n=e.className,r=e.style,i={viewBox:"0 0 420 343",xmlns:"http://www.w3.org/2000/svg",id:"plex-icon-static-eq-paused"};i["aria-hidden"]=!t,i.style=r,i.className=oa.Z.plexIcon+(n?" "+n:"");var a=[g.createElement.apply(g,["path",{d:"M 0 227.741 L 0 115.741 L 56 115.741 L 168 3.741 L 168 339.741 L 56 227.741 L 0 227.741 Z"}].concat([]))];return t&&a.unshift(g.createElement("title",null,t)),g.createElement.apply(g,["svg",i].concat(a))}WS.propTypes={"aria-label":sa().string,className:sa().string,style:sa().object};const YS=WS;function KS(e){var t=e["aria-label"],n=e.className,r=e.style,i={viewBox:"0 0 420 343",xmlns:"http://www.w3.org/2000/svg",id:"plex-icon-static-eq-playing"};i["aria-hidden"]=!t,i.style=r,i.className=oa.Z.plexIcon+(n?" "+n:"");var a=[g.createElement.apply(g,["path",{d:"M 339.752 -0.011 C 388.818 41.059 420 102.759 420 171.741 C 420 240.723 388.818 302.423 339.752 343.493 L 309.905 313.646 C 351.436 280.319 378 229.132 378 171.741 C 378 114.35 351.436 63.163 309.905 29.836 L 339.752 -0.011 Z M 0 227.741 L 0 115.741 L 56 115.741 L 168 3.741 L 168 339.741 L 56 227.741 L 0 227.741 Z M 259.936 79.805 C 288.989 100.009 308 133.655 308 171.741 C 308 209.827 288.989 243.473 259.936 263.677 L 229.484 233.225 C 251.246 221.346 266 198.266 266 171.741 C 266 145.216 251.246 122.136 229.484 110.257 L 259.936 79.805 Z"}].concat([]))];return t&&a.unshift(g.createElement("title",null,t)),g.createElement.apply(g,["svg",i].concat(a))}KS.propTypes={"aria-label":sa().string,className:sa().string,style:sa().object};const qS=KS;function $S(e){const{barColor:t,className:n,height:r,isPaused:i,unit:a,width:s}=e,o=(0,g.useMemo)((()=>({color:t,height:`${r}${a}`,width:`${s}${a}`})),[t,r,a,s]),l=i?YS:qS;return g.createElement(l,{className:n,style:o})}$S.defaultProps={barColor:QS.defaultProps.barColor,className:QS.defaultProps.className,height:QS.defaultProps.height,isPaused:QS.defaultProps.isPaused,unit:QS.defaultProps.unit,width:QS.defaultProps.width};const JS=$S;var XS=Object.defineProperty,eM=Object.prototype.hasOwnProperty,tM=Object.getOwnPropertySymbols,nM=Object.prototype.propertyIsEnumerable,rM=(e,t,n)=>t in e?XS(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,iM=(e,t)=>{for(var n in t||(t={}))eM.call(t,n)&&rM(e,n,t[n]);if(tM)for(var n of tM(t))nM.call(t,n)&&rM(e,n,t[n]);return e};const aM=function(e){const t=(0,FS.Z)()?JS:QS;return g.createElement(t,iM(iM({},e),{barColor:GS.Z.equalizerBarColor}))};function sM({className:e,buttonClassName:t,buttonTabIndex:n,style:r,metadataItem:i,isActionsPending:a,isSelectionActive:s,menuButtonID:o,onMenuButtonPress:l}){const[c,d]=Hn(),u=ei(i.sourceURI),p=(0,v.v9)(Tl.Z),m=Ic({server:c,provider:d,metadataItem:i,metadataItemState:u}),h=gs(i),y=Xc({server:c,provider:d,stableUser:p,metadataItem:i,metadataItemState:u}),f=(0,g.useCallback)((()=>{h({action:ss.dm}),m(Nl.editMetadataItem())}),[m,h]);return g.createElement("div",{className:e,style:r},!s&&y?g.createElement(vr,{"data-qa-id":"metadataRowEditButton",className:t,tabIndex:n,"aria-label":(0,Ce.Z)("Edit {title}",{title:Vo(i)}),onPress:f},g.createElement(uh.Z,null)):null,s?null:g.createElement(nh,{id:o,"data-qa-id":"metadataRowMoreButton",className:t,tabIndex:n,isPending:a,onPress:l}))}const oM="MetadataTableRow-isSelectionActive-AViqHb",lM="MetadataTableRow-firstTableCell-3VhPM9 TableCell-tableCell-3_jfgf",cM="MetadataTableRow-title-ePg3U1 TableCell-title-3rv80l",dM="MetadataTableRow-isSecondary-1Evvme";var uM=Object.defineProperty,pM=Object.prototype.hasOwnProperty,mM=Object.getOwnPropertySymbols,hM=Object.prototype.propertyIsEnumerable,gM=(e,t,n)=>t in e?uM(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,yM=(e,t)=>{for(var n in t||(t={}))pM.call(t,n)&&gM(e,n,t[n]);if(mM)for(var n of mM(t))hM.call(t,n)&&gM(e,n,t[n]);return e};const vM={width:parseInt(ng.Z.actionsCellWidth,10),justifyContent:"flex-end",padding:`0 ${parseInt(ng.Z.actionsCellPadding,10)}px`};function fM({tableColumn:e,metadataItemState:t,isActionsVisible:n,isSelectionActive:r,isTransientColumn:i}){const{key:a,style:s}=e;return a===IS.key?yM(yM({},s),{opacity:r||!n&&null==t.userRating?0:1}):i?yM(yM({},s),vM):s}function bM({style:e,cellIndex:t,index:n,metadataItem:r,metadataItemState:i,tableColumns:a,hasTransientActionsCell:s=!1}){const[o,l]=Hn(),c=(0,v.v9)(Tl.Z),d=(0,v.v9)(tS(r,o)),u=(0,v.v9)((0,ht.Z)(gt.G.AudioVideo,"isPaused")),{hoverRef:p,actionsMenuButtonID:m,isHovered:h,isActionsPending:y,isActionsVisible:f,isActionsMenuOpen:b,onActionsMenuClose:I,onActionsMenuCloseComplete:S,onActionsMenuToggle:M}=Ao({server:o,provider:l,metadataItem:r,metadataItemState:i}),{isSelected:E,isInSelectionRange:P,isSelectionActive:D,onToggleSelect:C}=Do({isHovered:h,metadataItem:r,metadataItemState:i}),w=(0,g.useMemo)((()=>P?"MetadataTableRow-rangeListRow-wkteSC ListRow-row-F6OwAL":E?"MetadataTableRow-selectedListRow-3u1XWf ListRow-row-F6OwAL":void 0),[P,E]),Z=(0,g.useRef)(null),T=a[a.length-1],N=T.component(r.type,r.subtype),O=(0,g.useCallback)((()=>{C()}),[C]),A=(0,g.useCallback)((e=>{e.which===Vd.K5&&r&&C()}),[r,C]),[x,j,L]=Yg(),k=x||f,R=k&&Bc({server:o,provider:l,stableUser:c,metadataItem:r,metadataItemState:i}),z=k&&!D;return g.createElement(Ju,{className:w,alternateClassName:w,style:e,isAlternate:!!(t%2),isHovered:h||x,ref:p,onFocus:j,onBlur:L},dh(l)?g.createElement(Ob,{isSelected:E,isInSelectionRange:P,isVisible:E||P||x||h,title:Vo(r),tabIndex:D?-1:void 0,"aria-hidden":"true",onPress:O}):null,D?g.createElement(vr,{key:"focusLink",className:"MetadataTableRow-overlay-ByzEMm MetadataTableRow-linkCover-3Przg6 Link-link-2WGTd7",tabIndex:0,"aria-label":(0,Ce.Z)("Select {title}",{title:Vo(r)}),ref:Z,onPress:D?O:void 0,onKeyPress:A}):null,g.createElement("div",{className:"MetadataTableRow-playCell-sZoj7n"},!d&&!R||D?n:null,D||d||!R?null:g.createElement(ql,{tabIndex:0,metadataItem:r}),d&&!D?g.createElement(aM,{isPaused:u}):null),a.map(((e,t)=>{if(t===a.length-1)return null;const{key:n,component:s}=e,o=s(r.type,r.subtype);return g.createElement(BS,{key:n,className:Te()(cM,t>0&&dM,D&&oM),cellClassName:0===t?lM:void 0,style:fM({tableColumn:e,metadataItemState:i,isActionsVisible:k,isSelectionActive:D,isTransientColumn:!1}),tabIndex:D?"-1":void 0,component:o,metadataItem:r})})),ae.Z.allowSyncDownload?g.createElement(wl,{className:Te()("MetadataTableRow-downloadIcon-2RZ4lG",!s&&"MetadataTableRow-outsideIcon-2x1BMZ",z&&"MetadataTableRow-hiddenIcon-3tgs7A"),metadataItem:r}):null,s&&z?null:g.createElement(BS,{className:Te()(cM,a.length>1&&dM,D&&oM),cellClassName:1===a.length?lM:void 0,style:fM({tableColumn:T,metadataItemState:i,isActionsVisible:k,isSelectionActive:D,isTransientColumn:s}),tabIndex:D?"-1":void 0,component:N,metadataItem:r}),!s||z?g.createElement(sM,{key:"actionsCell",className:"MetadataTableRow-actionsCell-3TMyyn TableCell-tableCell-3_jfgf",buttonClassName:"MetadataTableRow-actionsButton-ZFK5Dq Link-link-2WGTd7",style:yM(yM({},vM),{opacity:k?1:0}),isActionsPending:y,isSelectionActive:D,metadataItem:r,menuButtonID:m,onMenuButtonPress:M}):null,g.createElement(Km,{target:m,isOpen:b,metadataItem:r,onMenuClose:I,onMenuCloseComplete:S}))}var IM=Object.prototype.hasOwnProperty,SM=Object.getOwnPropertySymbols,MM=Object.prototype.propertyIsEnumerable;function EM(e){var t=e,{item:n,index:r,tableColumns:i,hasTransientActionsCell:a}=t,s=((e,t)=>{var n={};for(var r in e)IM.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&SM)for(var r of SM(e))t.indexOf(r)<0&&MM.call(e,r)&&(n[r]=e[r]);return n})(t,["item","index","tableColumns","hasTransientActionsCell"]);const o=ei(null==n?void 0:n.sourceURI),l=oo(s),{cellIndex:c}=s;return n?g.createElement(jr,{metadataItem:n,metadataItemState:o},g.createElement(bM,{style:l.style,cellIndex:c,index:r,metadataItem:n,metadataItemState:o,tableColumns:i,hasTransientActionsCell:a})):g.createElement(ap,{style:l.style,index:c})}var PM=Object.defineProperty,DM=Object.prototype.hasOwnProperty,CM=Object.getOwnPropertySymbols,wM=Object.prototype.propertyIsEnumerable,ZM=(e,t,n)=>t in e?PM(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const TM=parseInt(ng.Z.tableRowHeight,10),NM=parseInt(ng.Z.v4PagePadding,10),OM=function(e){return Pu(((e,t)=>{for(var n in t||(t={}))DM.call(t,n)&&ZM(e,n,t[n]);if(CM)for(var n of CM(t))wM.call(t,n)&&ZM(e,n,t[n]);return e})({rowHeight:TM,outerPaddingRight:NM,outerPaddingLeft:NM},e))};var AM=n(4134),xM=n(26253),jM=n(72373);const LM={sortDirectionIcon:"IconTableHeaderSortDirection-sortDirectionIcon-kvhk_W"};var kM=Object.defineProperty,RM=Object.prototype.hasOwnProperty,zM=Object.getOwnPropertySymbols,UM=Object.prototype.propertyIsEnumerable,VM=(e,t,n)=>t in e?kM(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;function BM(e){var t=e,{className:n=LM.sortDirectionIcon,isAscending:r=!0}=t,i=((e,t)=>{var n={};for(var r in e)RM.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&zM)for(var r of zM(e))t.indexOf(r)<0&&UM.call(e,r)&&(n[r]=e[r]);return n})(t,["className","isAscending"]);const a=r?xM.Z:jM.Z;return g.createElement(a,((e,t)=>{for(var n in t||(t={}))RM.call(t,n)&&VM(e,n,t[n]);if(zM)for(var n of zM(t))UM.call(t,n)&&VM(e,n,t[n]);return e})({className:n,"aria-label":r?(0,Ce.Z)("Ascending"):(0,Ce.Z)("Descending")},i))}const FM={tableHeader:"TableHeader-tableHeader-2HmQLv"};var _M=Object.defineProperty,HM=Object.prototype.hasOwnProperty,QM=Object.getOwnPropertySymbols,GM=Object.prototype.propertyIsEnumerable,WM=(e,t,n)=>t in e?_M(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,YM=(e,t)=>{for(var n in t||(t={}))HM.call(t,n)&&WM(e,n,t[n]);if(QM)for(var n of QM(t))GM.call(t,n)&&WM(e,n,t[n]);return e};function KM(e){var t=e,{className:n=FM.tableHeader}=t,r=((e,t)=>{var n={};for(var r in e)HM.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&QM)for(var r of QM(e))t.indexOf(r)<0&&GM.call(e,r)&&(n[r]=e[r]);return n})(t,["className"]);return g.createElement("div",YM(YM({},r),{className:n}))}const qM={tableHeaderCell:"TableHeaderCell-tableHeaderCell-2wlnA0 TableCell-tableCell-3_jfgf",activeTableHeaderCell:"TableHeaderCell-activeTableHeaderCell-1argHJ TableHeaderCell-tableHeaderCell-2wlnA0 TableCell-tableCell-3_jfgf"};var $M=Object.defineProperty,JM=Object.prototype.hasOwnProperty,XM=Object.getOwnPropertySymbols,eE=Object.prototype.propertyIsEnumerable,tE=(e,t,n)=>t in e?$M(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,nE=(e,t)=>{for(var n in t||(t={}))JM.call(t,n)&&tE(e,n,t[n]);if(XM)for(var n of XM(t))eE.call(t,n)&&tE(e,n,t[n]);return e};function rE(e){var t=e,{className:n=qM.tableHeaderCell,activeClassName:r=qM.activeTableHeaderCell,children:i,isActive:a=!1}=t,s=((e,t)=>{var n={};for(var r in e)JM.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&XM)for(var r of XM(e))t.indexOf(r)<0&&eE.call(e,r)&&(n[r]=e[r]);return n})(t,["className","activeClassName","children","isActive"]);const o=a?r:n;return g.createElement("span",nE(nE({},s),{className:o}),i)}const iE={tableHeaderLink:"TableHeaderLink-tableHeaderLink-GyNnjS Link-link-2WGTd7"};var aE=Object.defineProperty,sE=Object.prototype.hasOwnProperty,oE=Object.getOwnPropertySymbols,lE=Object.prototype.propertyIsEnumerable,cE=(e,t,n)=>t in e?aE(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,dE=(e,t)=>{for(var n in t||(t={}))sE.call(t,n)&&cE(e,n,t[n]);if(oE)for(var n of oE(t))lE.call(t,n)&&cE(e,n,t[n]);return e};function uE(e){var t=e,{className:n=iE.tableHeaderLink,children:r}=t,i=((e,t)=>{var n={};for(var r in e)sE.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&oE)for(var r of oE(e))t.indexOf(r)<0&&lE.call(e,r)&&(n[r]=e[r]);return n})(t,["className","children"]);return g.createElement(vr,dE(dE({},i),{className:n}),r)}const pE={tableHeaderTitle:"TableHeaderTitle-tableHeaderTitle-2VRXAy"};var mE,hE,gE=Object.defineProperty,yE=Object.prototype.hasOwnProperty,vE=Object.getOwnPropertySymbols,fE=Object.prototype.propertyIsEnumerable,bE=(e,t,n)=>t in e?gE(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,IE=(e,t)=>{for(var n in t||(t={}))yE.call(t,n)&&bE(e,n,t[n]);if(vE)for(var n of vE(t))fE.call(t,n)&&bE(e,n,t[n]);return e};function SE(e){var t=e,{className:n=pE.tableHeaderTitle,children:r}=t,i=((e,t)=>{var n={};for(var r in e)yE.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&vE)for(var r of vE(e))t.indexOf(r)<0&&fE.call(e,r)&&(n[r]=e[r]);return n})(t,["className","children"]);return g.createElement("span",IE(IE({},i),{className:n}),r)}(hE=mE||(mE={})).Up="up",hE.Right="right",hE.Down="down",hE.Left="left";const ME=mE,EE=function(e,t){return e?e.reduce(((e,n)=>{const r=xS.find((e=>n.key===e.ascKey&&n.descKey===e.descKey));return!r||t&&!t.includes(r.key)||e.push({sort:n,tableColumn:r}),e}),[]):[]},PE=function(e){return e.active?e.activeDirection===ri.Sr.Ascending?e.descKey:e.key:e.defaultDirection===ri.Sr.Ascending?e.key:e.descKey};function DE(e){var t=e["aria-label"],n=e.className,r=e.style,i={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",id:"plex-icon-table-columns"};i["aria-hidden"]=!t,i.style=r,i.className=oa.Z.plexIcon+(n?" "+n:"");var a=[g.createElement.apply(g,["path",{clipRule:"evenodd",d:"M0 0H14V48H0V0ZM25 0H31V48H25V0ZM48 0H42V48H48V0Z"}].concat([]))];return t&&a.unshift(g.createElement("title",null,t)),g.createElement.apply(g,["svg",i].concat(a))}DE.propTypes={"aria-label":sa().string,className:sa().string,style:sa().object};const CE=DE;var wE=Object.defineProperty,ZE=Object.prototype.hasOwnProperty,TE=Object.getOwnPropertySymbols,NE=Object.prototype.propertyIsEnumerable,OE=(e,t,n)=>t in e?wE(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,AE=(e,t)=>{for(var n in t||(t={}))ZE.call(t,n)&&OE(e,n,t[n]);if(TE)for(var n of TE(t))NE.call(t,n)&&OE(e,n,t[n]);return e};const xE={placement:"top-start",modifiers:[{name:"offset",options:{offset:[5]}}]};function jE({className:e="DirectoryListTableHeader-tableHeader-70si3v TableHeader-tableHeader-2HmQLv",width:t,activeTableColumnSorts:n,typeKeySourceURI:r,sorts:i}){const a=(0,v.I0)(),s=(0,No.Z)(),o=(0,gd.Z)(),{containerKey:l}=Or(),c=(0,g.useMemo)((()=>EE(i)),[i]),d=(0,g.useMemo)((()=>ra("directoryTableColumns")),[]),u=(0,v.v9)(d),p=(0,g.useCallback)((e=>{const t=function(e,t){const n=new Set(t.map((({tableColumn:e})=>e.key)));return n.has(e)?n.delete(e):n.add(e),Array.from(n)}(e,n);if(t.length<1)return;const i=AE(AE({},u),{[r]:t});(0,fn.c9)((()=>{a((0,AM.LN)({directoryTableColumns:i}))}))}),[n,u,r,a]);return g.createElement(KM,{className:e,style:{width:t}},g.createElement(vr,{id:s,className:"DirectoryListTableHeader-columnMenuButton-2qKFXn Link-link-2WGTd7","aria-label":(0,Ce.Z)("Change Columns"),size:st.Medium,onPress:o.onToggle},g.createElement(CE,null),g.createElement(Lp.Z,{direction:o.isOpen?ME.Up:ME.Down,size:st.Medium})),n.map((({tableColumn:e,sort:t},n)=>g.createElement(uE,{key:e.key,style:e.style,to:Zv({key:E.Z.join(l,{sort:PE(t)},{parseParams:!0})})},g.createElement(rE,{className:0===n?"DirectoryListTableHeader-firstTableHeaderCell-X4jCM1 DirectoryListTableHeader-tableHeaderCell-2izPCh TableHeaderCell-tableHeaderCell-2wlnA0 TableCell-tableCell-3_jfgf":"DirectoryListTableHeader-tableHeaderCell-2izPCh TableHeaderCell-tableHeaderCell-2wlnA0 TableCell-tableCell-3_jfgf",activeClassName:0===n?"DirectoryListTableHeader-firstActiveTableHeaderCell-1vqxaq DirectoryListTableHeader-firstTableHeaderCell-X4jCM1 DirectoryListTableHeader-tableHeaderCell-2izPCh TableHeaderCell-tableHeaderCell-2wlnA0 TableCell-tableCell-3_jfgf DirectoryListTableHeader-activeTableHeaderCell-yZ5u23 DirectoryListTableHeader-tableHeaderCell-2izPCh TableHeaderCell-tableHeaderCell-2wlnA0 TableCell-tableCell-3_jfgf":"DirectoryListTableHeader-activeTableHeaderCell-yZ5u23 DirectoryListTableHeader-tableHeaderCell-2izPCh TableHeaderCell-tableHeaderCell-2wlnA0 TableCell-tableCell-3_jfgf",isActive:t.active},g.createElement(SE,{title:t.title},t.title),t.active?g.createElement(BM,{isAscending:t.activeDirection===ri.Sr.Ascending}):null)))),g.createElement(rE,{className:"DirectoryListTableHeader-actionsTableHeaderCell-3DkcEk DirectoryListTableHeader-tableHeaderCell-2izPCh TableHeaderCell-tableHeaderCell-2wlnA0 TableCell-tableCell-3_jfgf"}),g.createElement(Xl.Z,{target:s,isOpen:o.isOpen,options:xE,onMenuClose:o.onClose},c.map((({sort:e,tableColumn:t})=>{const r=n.find((({tableColumn:e})=>e===t));return g.createElement(Up.Z,{key:t.key,isSelected:!!r,value:t.key,onSelect:p},e.title)}))))}const LE=function(e,t){return(0,fe.P1)(function(e,t,n){return(0,fe.P1)(ra("directoryTableColumns"),(n=>{if(!e)return[];const r=n[e];if(r)return r;switch(t){case En.U.Movie:return[dS.key,fS.key];case En.U.Show:return[dS.key];case En.U.Season:return[uS.key,pS.key];case En.U.Episode:return[dS.key,mS.key];case En.U.Artist:return[dS.key];case En.U.Album:return[dS.key,hS.key,fS.key];case En.U.Track:return[dS.key,gS.key,vS.key,ES.key]}return[dS.key]}))}(e,null==t?void 0:t.type,null==t||t.subtype),(e=>(null==t?void 0:t.Sort)?EE(t.Sort,e):[]))};var kE=Object.defineProperty,RE=Object.prototype.hasOwnProperty,zE=Object.getOwnPropertySymbols,UE=Object.prototype.propertyIsEnumerable,VE=(e,t,n)=>t in e?kE(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const BE=parseInt(ng.Z.v4PagePadding,10),FE=parseInt(ng.Z.actionsCellWidth,10),_E=parseInt(ng.Z.playCellWidth,10);function HE({className:e,activeType:t,items:n,totalSize:r,smoothScroll:i,scrollerKey:a,targetScrollIndex:s,onPageRequest:o,onListReady:l}){const[c,d]=Hn(),u=(0,yn.Z)({serverIdentifier:c.machineIdentifier,providerIdentifier:null==d?void 0:d.identifier}),p=t?`${u}${t.key}`:void 0,m=(0,g.useMemo)((()=>LE(p,t)),[t,p]),h=(0,v.v9)(m),y=(0,g.useMemo)((()=>h.reduce(((e,{tableColumn:t})=>e+t.style.width),_E+FE)),[h]),f=(0,g.useMemo)((()=>OM({overscan:1,outerPaddingRight:0,rowWidth:y})),[y]),b=(0,g.useCallback)((e=>(null==t?void 0:t.Sort)&&p?g.createElement(jE,{width:Math.max(BE+y,e.width),activeTableColumnSorts:h,typeKeySourceURI:p,sorts:t.Sort}):null),[y,t,p,h]),I=(0,g.useCallback)((e=>g.createElement(Jt.ZP,{key:e.key,row:e.row},g.createElement(EM,((e,t)=>{for(var n in t||(t={}))RE.call(t,n)&&VE(e,n,t[n]);if(zE)for(var n of zE(t))UE.call(t,n)&&VE(e,n,t[n]);return e})({tableColumns:h.map((({tableColumn:e})=>e))},e)))),[h]);return g.createElement(Hu,{className:e,layout:f,scrollDirection:Ae.Omni,cellComponentFactory:I,keyPropName:"listItemKey",items:n,totalSize:r,autoScroll:!1,smoothScroll:i,scrollerKey:a,targetScrollIndex:s,renderAboveList:b,onPageRequest:o,onListReady:l})}function QE({className:e,listType:t,subtype:n,activeType:r,items:i,totalSize:a,scrollerKey:s,smoothScroll:o,targetScrollIndex:l,onPageRequest:c,onListReady:d}){const{listStyle:u}=Or(),p=function(e){switch(e){case En.n.Grid:return zI;case En.n.Details:return Jb;case En.n.Table:return HE;case En.n.SharedItems:return JI;case En.n.Folder:return mI}throw new Error("Failed to  map the directory list style to a list component. Check `selectDirectoryListStyle` for list style options")}(u);return g.createElement(Po,{items:i},g.createElement(p,{className:e,listType:t,subtype:n,activeType:r,items:i,totalSize:a,scrollerKey:s,smoothScroll:o,targetScrollIndex:l,onPageRequest:c,onListReady:d}))}var GE=n(53851);const WE={button:"SplitButton-button-1HV8Qr",mainButton:"SplitButton-mainButton-WKacmu",menuButton:"SplitButton-menuButton-32Nkoz"};var YE=Object.defineProperty,KE=Object.prototype.hasOwnProperty,qE=Object.getOwnPropertySymbols,$E=Object.prototype.propertyIsEnumerable,JE=(e,t,n)=>t in e?YE(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,XE=(e,t)=>{for(var n in t||(t={}))KE.call(t,n)&&JE(e,n,t[n]);if(qE)for(var n of qE(t))$E.call(t,n)&&JE(e,n,t[n]);return e};const eP=function(e){const t=e,{className:n=WE.button,ariaLabel:r,label:i,menuSize:a,children:s,onPress:o}=t,l=((e,t)=>{var n={};for(var r in e)KE.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&qE)for(var r of qE(e))t.indexOf(r)<0&&$E.call(e,r)&&(n[r]=e[r]);return n})(t,["className","ariaLabel","label","menuSize","children","onPress"]),c=r||i,[d]=(0,g.useState)((0,GE.Z)()),[u,p]=(0,g.useState)(!1),m=(0,g.useCallback)((()=>p(!u)),[u]),h=g.Children.only(s);return g.createElement("div",{className:n,id:d},g.createElement(cb.Z,XE({"aria-label":c,className:WE.mainButton,onPress:o},l),i),g.createElement(cb.Z,XE({className:WE.menuButton,onPress:m},l),g.createElement(Lp.Z,null)),g.createElement(Xl.Z,{target:d,isOpen:u,size:a,onMenuClose:m},g.cloneElement(h,{onMenuClose:m,onMenuOpen:m})))};function tP(e){const t=(0,_h.Z)(e.type);return t?ba(t,e.subtype):void 0}const nP={[En.U.Movie]:["isAddToCollectionVisible","isAddToPlaylistVisible","isAddToQueueVisible","isOptimizeVisible","isPlayVisible","isShuffleVisible"],[En.U.Show]:["isAddToCatalogVisible","isAddToCollectionVisible","isAddToPlaylistVisible","isAddToQueueVisible","isOptimizeVisible","isPlayVisible","isShuffleVisible"],[En.U.Season]:["isAddToCollectionVisible","isAddToPlaylistVisible","isAddToQueueVisible","isOptimizeVisible","isPlayVisible","isShuffleVisible"],[En.U.Episode]:["isAddToCollectionVisible","isAddToPlaylistVisible","isAddToQueueVisible","isOptimizeVisible","isPlayVisible","isShuffleVisible"],[En.U.Artist]:["isAddToCollectionVisible","isAddToPlaylistVisible","isAddToQueueVisible","isPlayVisible","isShuffleVisible"],[En.U.Album]:["isAddToCollectionVisible","isAddToPlaylistVisible","isAddToQueueVisible","isPlayVisible","isShuffleVisible"],[En.U.Track]:["isAddToCatalogVisible","isAddToCollectionVisible","isAddToPlaylistVisible","isAddToQueueVisible","isPlayVisible","isShuffleVisible"],[En.U.PhotoAlbum]:["isAddToPlaylistVisible","isPlayVisible","isShuffleVisible"],[En.U.Photo]:["isAddToPlaylistVisible","isPlayVisible","isShuffleVisible"]},rP=({provider:e})=>!!(0,Pn.Z)(e,$t.zW.PlayQueue),iP=({provider:e,activeType:t})=>!!(0,Pn.Z)(e,$t.zW.Playlist)&&(null==t?void 0:t.type)!==En.U.Game,aP=({provider:e,activeType:t})=>!!(0,Pn.Z)(e,$t.zW.Collection)&&!!(0,Pn.Z)(e,$t.zW.Manage)&&(null==t?void 0:t.type)!==En.U.Game&&(null==t?void 0:t.type)!==En.U.Photo,sP={isAddToCollectionVisible:aP,isAddToPlaylistVisible:iP,isAddToQueueVisible:rP,isPlayVisible:rP,isShuffleVisible:rP,isOptimizeVisible:({server:e,provider:t})=>Lc(t)&&e.isFullOwnedServer&&e.transcoderVideo,isAddToCatalogVisible:({provider:e})=>Fo.wB(e.identifier,Fo.HG)},oP={label:"FormLabel-label-3iI4Hz",hasError:"FormLabel-hasError-2I3ArH"};var lP=Object.defineProperty,cP=Object.prototype.hasOwnProperty,dP=Object.getOwnPropertySymbols,uP=Object.prototype.propertyIsEnumerable,pP=(e,t,n)=>t in e?lP(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;function mP(e){var t=e,{className:n=oP.label,errorClassName:r=oP.hasError,children:i,name:a,hasError:s}=t,o=((e,t)=>{var n={};for(var r in e)cP.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&dP)for(var r of dP(e))t.indexOf(r)<0&&uP.call(e,r)&&(n[r]=e[r]);return n})(t,["className","errorClassName","children","name","hasError"]);return g.createElement("label",((e,t)=>{for(var n in t||(t={}))cP.call(t,n)&&pP(e,n,t[n]);if(dP)for(var n of dP(t))uP.call(t,n)&&pP(e,n,t[n]);return e})({className:Te()(n,s&&r),htmlFor:a},o),i)}var hP=n(38170);function gP({className:e="ActionButtonBar-bar-7_FvUP",children:t}){return g.createElement("div",{className:e},t)}var yP,vP;(vP=yP||(yP={})).Or="or",vP.And="and";const fP=function({className:e="FieldRatingInput-inputContainer-39OUiH",value:t,onChange:n}){const r=(0,g.useCallback)((e=>{n(0===e?"-1":String(2*e))}),[n]);return g.createElement("div",{className:e},g.createElement(Us,{value:""===t?-1:parseInt(t,10)/2,onRatingChange:r}))},bP={input:"FilterSelectInput-input-25Cw7U Select-input-bAL4pR"};var IP=Object.defineProperty,SP=Object.prototype.hasOwnProperty,MP=Object.getOwnPropertySymbols,EP=Object.prototype.propertyIsEnumerable,PP=(e,t,n)=>t in e?IP(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const DP=function(e){var t=e,{className:n=bP.input,size:r=st.Small}=t,i=((e,t)=>{var n={};for(var r in e)SP.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&MP)for(var r of MP(e))t.indexOf(r)<0&&EP.call(e,r)&&(n[r]=e[r]);return n})(t,["className","size"]);return g.createElement(tm,((e,t)=>{for(var n in t||(t={}))SP.call(t,n)&&PP(e,n,t[n]);if(MP)for(var n of MP(t))EP.call(t,n)&&PP(e,n,t[n]);return e})({className:n,size:r},i))},CP={input:"FilterTextInput-input-leeWV_ TextInput-input-2FGxDj"};var wP=Object.defineProperty,ZP=Object.prototype.hasOwnProperty,TP=Object.getOwnPropertySymbols,NP=Object.prototype.propertyIsEnumerable,OP=(e,t,n)=>t in e?wP(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,AP=(e,t)=>{for(var n in t||(t={}))ZP.call(t,n)&&OP(e,n,t[n]);if(TP)for(var n of TP(t))NP.call(t,n)&&OP(e,n,t[n]);return e};function xP(e){var t=e,{className:n=CP.input,size:r=st.Small,value:i,forwardedRef:a,onChange:s,onDebouncedChange:o}=t,l=((e,t)=>{var n={};for(var r in e)ZP.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&TP)for(var r of TP(e))t.indexOf(r)<0&&NP.call(e,r)&&(n[r]=e[r]);return n})(t,["className","size","value","forwardedRef","onChange","onDebouncedChange"]);const[c,d]=(0,g.useState)(i),u=Pp(c,250),p=(0,g.useCallback)((e=>{null==s||s(e),d(e.target.value)}),[s,d]);return(0,g.useEffect)((()=>{i!==u&&(null==o||o(u))}),[i,c,u,o]),(0,g.useEffect)((()=>{d(i)}),[i]),g.createElement(Rd,AP({className:n,size:r,value:c,ref:a,onChange:p},l))}const jP=g.forwardRef(((e,t)=>g.createElement(xP,AP(AP({},e),{forwardedRef:t})))),LP=/^-?(\d+)([a-z]{1,3})$/,kP=function(e=""){const t=e.match(LP);if(t){const[,e,n]=t;return{value:e,suffix:n}}return t},RP=function({className:e="FieldRelativeDateInput-inputContainer-B9GSms",value:t,onChange:n}){var r,i;const a=(0,g.useMemo)((()=>kP(t)),[t]),s=null!=(r=null==a?void 0:a.value)?r:"0",o=null!=(i=null==a?void 0:a.suffix)?i:"s",l=(0,g.useCallback)((e=>{n(`-${e||"0"}${o}`)}),[n,o]),c=(0,g.useCallback)((e=>{n(`-${s}${e.target.value}`)}),[n,s]);return g.createElement("div",{className:e},g.createElement(jP,{className:"FieldRelativeDateInput-textInput-3FWi0x FilterTextInput-input-leeWV_ TextInput-input-2FGxDj",name:"dateInput",type:"number",min:"0",step:"1",required:!0,value:"0"===s?"":s,onDebouncedChange:l}),g.createElement(DP,{className:"FieldRelativeDateInput-selectInput-2_mQVE FilterSelectInput-input-25Cw7U Select-input-bAL4pR",name:"suffixInput",value:o,onChange:c},g.createElement("option",{value:"s"},(0,Ce.Z)("Seconds")),g.createElement("option",{value:"m"},(0,Ce.Z)("Minutes")),g.createElement("option",{value:"h"},(0,Ce.Z)("Hours")),g.createElement("option",{value:"d"},(0,Ce.Z)("Days")),g.createElement("option",{value:"w"},(0,Ce.Z)("Weeks")),g.createElement("option",{value:"mon"},(0,Ce.Z)("Months")),g.createElement("option",{value:"y"},(0,Ce.Z)("Years"))))};var zP=n(71755),UP=n(61935);const VP={name:"applyMaxHeight",enabled:!0,phase:"beforeWrite",requires:["maxSize"],fn({state:e,options:t}){var n;const r=null!=(n=t.offset)?n:0,{height:i}=e.modifiersData.maxSize;e.styles.popper.maxHeight=i-r+"px"}};var BP=n(9966);const FP={name:"maxSize",enabled:!0,phase:"main",requiresIfExists:["offset","preventOverflow","flip"],fn({state:e,name:t,options:n}){const r=(0,BP.Z)(e,n),{x:i,y:a}=e.modifiersData.preventOverflow||{x:0,y:0},{width:s,height:o}=e.rects.popper,[l]=e.placement.split("-"),c="left"===l?"left":"right",d="top"===l?"top":"bottom";e.modifiersData[t]={width:s-r[c]-i,height:o-r[d]-a}}},_P={name:"sameWidth",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn({state:e}){e.styles.popper.width=`${e.rects.reference.width}px`},effect({state:e}){e.elements.popper.style.width=`${e.elements.reference.offsetWidth}px`}},HP=(0,fe.P1)(fo,(e=>e.advancedFilters)),QP={searchInputContainer:"FilterOptionInput-searchInputContainer-1XdkIT",button:"FilterOptionInput-button-X6SP3Z Link-link-2WGTd7",small:"FilterOptionInput-small-F-4aGi",medium:"FilterOptionInput-medium-ieAJr4",large:"FilterOptionInput-large-1ZBk6G",isDisabled:"FilterOptionInput-isDisabled-1tHcqg",hasError:"FilterOptionInput-hasError-xnbJRC",menuContainer:"FilterOptionInput-menuContainer-iyLB_R",menu:"FilterOptionInput-menu-2ODVxo",loadingMenu:"FilterOptionInput-loadingMenu-edk80w FilterOptionInput-menu-2ODVxo",scroller:"FilterOptionInput-scroller-yMI05- Scroller-scroller-3Rbtv0",input:"FilterOptionInput-input-1tiiaC FilterTextInput-input-leeWV_ TextInput-input-2FGxDj",list:"FilterOptionInput-list-2zV0wK",listItem:"FilterOptionInput-listItem-3FAB0M",listItemHighlighted:"FilterOptionInput-listItemHighlighted-1lik_m FilterOptionInput-listItem-3FAB0M"};var GP=Object.defineProperty,WP=Object.prototype.hasOwnProperty,YP=Object.getOwnPropertySymbols,KP=Object.prototype.propertyIsEnumerable,qP=(e,t,n)=>t in e?GP(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,$P=(e,t)=>{for(var n in t||(t={}))WP.call(t,n)&&qP(e,n,t[n]);if(YP)for(var n of YP(t))KP.call(t,n)&&qP(e,n,t[n]);return e};const JP=(0,Ms.Z)(to.Z.menuSpeed)/1e3,XP={ease:"easeOut",duration:JP},eD={ease:_d.Z.motionEasing,duration:JP},tD={opacity:XP,y:eD,scale:eD},nD={initial:{opacity:0,y:-10,scale:.95,transition:tD},animate:{opacity:1,y:0,scale:1,transition:tD},exit:{opacity:0,y:10,scale:.95,transition:tD}},rD=function({labelClassName:e=QP.searchInputContainer,disabledClassName:t=QP.isDisabled,errorClassName:n=QP.hasError,buttonClassName:r=QP.button,rule:i,size:a=st.Small,filter:s,isDisabled:o,hasError:l,onChange:c}){var d,u,p;const m=(0,v.I0)(),[h,f]=Hn(),b=null!=(d=i.valueTitle)?d:i.value,I=(0,g.useMemo)((()=>{return e=s.key,(0,fe.P1)(HP,(t=>t.filterOptions[e]));var e}),[s.key]),S=(0,v.v9)(I),[M,E]=(0,g.useState)(null==S?void 0:S.options),P=null!=(u=null!=M?M:null==S?void 0:S.options)?u:[],D=(0,g.useRef)(null),C=(0,g.useRef)(null),w=zd(),{styles:Z,attributes:T,state:N}=(0,UP.D)(D.current,C.current,{placement:"bottom-start",modifiers:(0,g.useMemo)((()=>[{name:"offset",options:{offset:[0,5]}},_P,FP,VP,{name:"applyMaxHeight",options:{offset:15}}]),[])}),O=(0,g.useCallback)((e=>{var t;return null!=(t=null==e?void 0:e.title)?t:""}),[]),{isOpen:A,highlightedIndex:x,getToggleButtonProps:j,getMenuProps:L,getComboboxProps:k,getInputProps:R,getItemProps:z,closeMenu:U}=(0,zP.Kb)({defaultHighlightedIndex:0,items:P,itemToString:O,initialInputValue:b,onSelectedItemChange:(0,g.useCallback)((({selectedItem:e})=>{e&&c(e.value,e.title)}),[c]),onInputValueChange:(0,g.useCallback)((({inputValue:e})=>{(null==S?void 0:S.options)&&E(S.options.filter((t=>O(t).toLowerCase().includes(null==e?void 0:e.toLocaleLowerCase()))))}),[null==S?void 0:S.options,O]),stateReducer:(0,g.useCallback)(((e,{changes:t})=>{var n,r,i;return e.isOpen&&!t.isOpen&&(null==(n=t.selectedItem)?void 0:n.title)!==e.inputValue?$P($P({},t),{inputValue:null!=(i=null==(r=t.selectedItem)?void 0:r.title)?i:b}):t}),[b])});return(0,g.useEffect)((()=>{(null==S?void 0:S.isPopulated)||m(fd.actions.fetchFilterOptionsRequested({server:h,provider:f,filter:s}))}),[m,s,null==S?void 0:S.isPopulated,A,f,h]),(0,g.useEffect)((()=>{var e;(null==(e=null==N?void 0:N.modifiersData.hide)?void 0:e.isReferenceHidden)&&A&&U()}),[U,A,null==(p=null==N?void 0:N.modifiersData.hide)?void 0:p.isReferenceHidden]),(0,g.useEffect)((()=>{(null==S?void 0:S.options.length)&&E(S.options)}),[null==S?void 0:S.options]),g.createElement(g.Fragment,null,g.createElement("label",$P({},k({ref:D,className:Te()(e,o&&t,l&&n)})),g.createElement(jP,$P($P({},R({className:QP.input,onFocus:w,disabled:o})),{size:a})),g.createElement(vr,$P($P($P({},j({className:Te()(r,QP[a]),disabled:o})),T.reference),{isDisabled:o}),g.createElement(Lp.Z,{size:a,direction:A?ME.Up:ME.Down}))),y.createPortal(g.createElement("div",$P($P({},L({className:QP.menuContainer,style:Z.popper,ref:C})),T.popper),g.createElement(Ud.M_,null,A?g.createElement(Ud.ww.div,{key:"container",className:(null==S?void 0:S.isPopulated)?QP.menu:QP.loadingMenu,initial:nD.initial,animate:nD.animate,exit:nD.exit},(null==S?void 0:S.isPopulated)?g.createElement(Be,{className:QP.scroller},g.createElement("ul",{className:QP.list},P.length?P.map(((e,t)=>g.createElement("li",$P({key:e.key},z({className:x===t?QP.listItemHighlighted:QP.listItem,index:t,item:e})),e.title))):g.createElement("li",{className:QP.listItem},(0,Ce.Z)("No options")))):g.createElement(lt,null)):null)),document.body))},iD=[iv.DoubleEqual,iv.NotDoubleEqual],aD=[iv.Equal,iv.NotEqual],sD=function({rule:e,fieldType:t,fieldSubtype:n,filter:r,onChange:i}){var a;const s=(0,g.useCallback)((e=>{i(encodeURIComponent(e),e)}),[i]);if(r&&function(e,t){switch(e){case ri.fS.String:return iD.includes(t.operator);default:return aD.includes(t.operator)}}(t,e))return g.createElement(rD,{filter:r,rule:e,onChange:i});switch(t){case ri.fS.String:return g.createElement(jP,{name:"input",type:"text",value:null!=(a=e.valueTitle)?a:e.value,required:!0,onDebouncedChange:s});case ri.fS.Integer:switch(n){case ri.Pi.Rating:return g.createElement(fP,{value:e.value,onChange:i})}return g.createElement(jP,{name:"input",type:"number",min:"0",value:e.value,required:!0,onDebouncedChange:s});case ri.fS.Date:return kP(e.value)?g.createElement(RP,{value:e.value,onChange:i}):g.createElement(jP,{name:"input",type:"date",pattern:"[0-9]{4}-(0[1-9]|1[012])-(0[1-9]|1[0-9]|2[0-9]|3[01])",placeholder:"YYYY-MM-DD",max:"2999-12-31",value:e.value,required:!0,onDebouncedChange:s})}return null};function oD(e,t,n=""){return{operator:e,title:t,defaultValue:n}}const lD=function(e){switch(e){case ri.fS.Tag:case ri.fS.AudioLanguage:case ri.fS.SubtitleLanguage:return[oD(iv.Equal,(0,Ce.Z)("is")),oD(iv.NotEqual,(0,Ce.Z)("is not"))];case ri.fS.Resolution:return[oD(iv.Equal,(0,Ce.Z)("is"))];case ri.fS.Boolean:return[oD(iv.Equal,(0,Ce.Z)("is true")),oD(iv.NotEqual,(0,Ce.Z)("is false"))];case ri.fS.Integer:return[oD(iv.Equal,(0,Ce.Z)("is")),oD(iv.NotEqual,(0,Ce.Z)("is not")),oD(iv.GreaterThanGreaterThanOrEqual,(0,Ce.Z)("is greater than")),oD(iv.LessThanLessThanOrEqual,(0,Ce.Z)("is less than"))];case ri.fS.String:return[oD(iv.Equal,(0,Ce.Z)("contains")),oD(iv.NotEqual,(0,Ce.Z)("does not contain")),oD(iv.DoubleEqual,(0,Ce.Z)("is")),oD(iv.NotDoubleEqual,(0,Ce.Z)("is not")),oD(iv.LessThanOrEqual,(0,Ce.Z)("begins with")),oD(iv.GreaterThanOrEqual,(0,Ce.Z)("ends with"))];case ri.fS.Date:return[oD(iv.LessThanLessThanOrEqual,(0,Ce.Z)("is before")),oD(iv.GreaterThanGreaterThanOrEqual,(0,Ce.Z)("is after")),oD(iv.GreaterThanGreaterThanOrEqual,(0,Ce.Z)("is in the last"),"-0s"),oD(iv.LessThanLessThanOrEqual,(0,Ce.Z)("is not in the last"),"-0s")]}};function cD(e){var t=e["aria-label"],n=e.className,r=e.style,i={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",id:"plex-icon-subtract"};i["aria-hidden"]=!t,i.style=r,i.className=oa.Z.plexIcon+(n?" "+n:"");var a=[g.createElement.apply(g,["path",{clipRule:"evenodd",d:"M3.42847 27.4286V20.5714H44.5713V27.4286H3.42847Z"}].concat([]))];return t&&a.unshift(g.createElement("title",null,t)),g.createElement.apply(g,["svg",i].concat(a))}cD.propTypes={"aria-label":sa().string,className:sa().string,style:sa().object};const dD=cD,uD="AdvancedFilterOption-inputContainer-1RajtU";var pD=Object.defineProperty,mD=Object.prototype.hasOwnProperty,hD=Object.getOwnPropertySymbols,gD=Object.prototype.propertyIsEnumerable,yD=(e,t,n)=>t in e?pD(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,vD=(e,t)=>{for(var n in t||(t={}))mD.call(t,n)&&yD(e,n,t[n]);if(hD)for(var n of hD(t))gD.call(t,n)&&yD(e,n,t[n]);return e};const fD=function({className:e="AdvancedFilterOption-container-2bOkHY",rowState:t,rule:n,isRemoveDisabled:r,onChange:i,onRemoveRule:a}){const{type:s,subtype:o}=t.fieldTypesByFieldKey[n.field],l=t.filterKeysByFieldKey[n.field],c=!!kP(n.value),d=(0,g.useMemo)((()=>lD(s)),[s]),u=(0,g.useMemo)((()=>t.allTypeFilters.find((({key:e})=>e===l))),[l,t.allTypeFilters]),p=(0,g.useMemo)((()=>{if(s===ri.fS.Date){const e=d.find((e=>e.operator===n.operator&&c&&e.defaultValue));if(e)return e}return d.find((e=>e.operator===n.operator))||d[0]}),[d,n.operator,c,s]),m=(0,g.useMemo)((()=>d.indexOf(p)),[d,p]),h=(0,g.useCallback)((e=>{const r=e.target.value,a=t.allTypeFields.find((e=>e.key===r));if(!a)throw new Error(`${r} did not match to any type field`);const s=t.fieldTypesByFieldKey[a.key],[o]=lD(s.type);i(vD(vD({},n),{field:a.key,fieldTitle:a.title,operator:o.operator,value:s.type===ri.fS.Boolean?"1":"",valueTitle:void 0}))}),[i,t.allTypeFields,t.fieldTypesByFieldKey,n]),y=(0,g.useCallback)((e=>{const t=parseInt(e.target.value,10),r=d[t];s===ri.fS.Date?i(vD(vD({},n),{operator:r.operator,value:r.defaultValue,valueTitle:void 0})):i(vD(vD({},n),{operator:r.operator}))}),[i,d,n,s]),v=(0,g.useCallback)(((e,t)=>{i(vD(vD({},n),{value:e,valueTitle:t}))}),[i,n]);return g.createElement("div",{className:e},g.createElement("div",{className:uD},g.createElement(DP,{name:"field",value:n.field,onChange:h},t.allTypeFields.map(((e,t)=>g.createElement("option",{key:`${e.key}-${t}`,value:e.key},e.title))))),g.createElement("div",{className:uD},g.createElement(DP,{name:"operator",value:String(m),onChange:y},d.map(((e,t)=>g.createElement("option",{key:t,value:t},e.title))))),s!==ri.fS.Boolean?g.createElement("div",{className:uD},g.createElement(sD,{fieldType:s,fieldSubtype:o,filter:u,rule:n,onChange:v})):null,g.createElement(mf,{title:(0,Ce.Z)("Remove Rule"),icon:dD,size:st.Small,isDisabled:r,onPress:a}))};var bD=Object.defineProperty,ID=Object.prototype.hasOwnProperty,SD=Object.getOwnPropertySymbols,MD=Object.prototype.propertyIsEnumerable,ED=(e,t,n)=>t in e?bD(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,PD=(e,t)=>{for(var n in t||(t={}))ID.call(t,n)&&ED(e,n,t[n]);if(SD)for(var n of SD(t))MD.call(t,n)&&ED(e,n,t[n]);return e};function DD(e,t=function(e,t=[]){return{type:"composite",operator:e,Rule:t}}(yP.And)){return PD(PD({},t),{Rule:[...t.Rule,...e]})}const CD=function(e){const[t]=e.allTypeFields,[n]=lD(t.type);return{field:t.key,fieldTitle:t.title,value:"",operator:n.operator}};var wD=Object.defineProperty,ZD=Object.prototype.hasOwnProperty,TD=Object.getOwnPropertySymbols,ND=Object.prototype.propertyIsEnumerable,OD=(e,t,n)=>t in e?wD(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,AD=(e,t)=>{for(var n in t||(t={}))ZD.call(t,n)&&OD(e,n,t[n]);if(TD)for(var n of TD(t))ND.call(t,n)&&OD(e,n,t[n]);return e};function xD(e){const t=(0,av.su)(yP).find((t=>t===e));if(t)return t;throw new Error(`'getOperatorValue' received an unknown value '${e}'`)}const jD=function e({className:t="AdvancedFilterGroup-container-3bCF6U",rowState:n,compositeRule:r,onRemoveGroup:i,onChange:a}){const s=(0,No.Z)(),o=(0,gd.Z)(),l=r.Rule.length,c=(0,g.useCallback)((e=>{a(AD(AD({},r),{operator:xD(e.target.value)}))}),[r,a]),d=(0,g.useCallback)((e=>()=>{const t=Array.from(r.Rule),[n]=t.splice(e,1);t.length<1&&"composite"!==n.type||a(AD(AD({},r),{Rule:t}))}),[r,a]),u=(0,g.useCallback)((()=>{const e=Array.from(r.Rule);e.unshift(CD(n)),a(AD(AD({},r),{Rule:e}))}),[r,a,n]),p=(0,g.useCallback)((()=>{const e=Array.from(r.Rule);e.unshift(DD([CD(n)])),a(AD(AD({},r),{Rule:e}))}),[r,a,n]),m=(0,g.useCallback)((e=>t=>{const n=Array.from(r.Rule);n.splice(e,1,t),a(AD(AD({},r),{Rule:n}))}),[r,a]);return g.createElement("div",{className:t},g.createElement("div",{className:"AdvancedFilterGroup-inputContainer-3ZsNec"},g.createElement(DP,{name:"group",value:r.operator,onChange:c},g.createElement("option",{value:"and"},(0,Ce.Z)("Match all of the following")),g.createElement("option",{value:"or"},(0,Ce.Z)("Match any of the following")))),g.createElement(gP,{className:"AdvancedFilterGroup-buttons-2gf8se ActionButtonBar-bar-7_FvUP"},g.createElement(mf,{title:(0,Ce.Z)("Add Rule"),icon:hP.Z,size:st.Small,onPress:u}),g.createElement(vr,{id:s,"aria-label":(0,Ce.Z)("More Actions"),onPress:o.onToggle},g.createElement(qm.Z,null)),g.createElement(Xl.Z,{isOpen:o.isOpen,target:s,onMenuClose:o.onClose},g.createElement(ec.Z,{onPress:(0,rc.Z)(p,o.onClose)},(0,Ce.Z)("Add Rule Group")),i?g.createElement(ec.Z,{onPress:(0,rc.Z)(i,o.onClose)},(0,Ce.Z)("Remove Rule Group")):null)),g.createElement("div",{className:"AdvancedFilterGroup-rules-1HM8Id"},r.Rule.map(((t,i)=>"composite"===t.type?g.createElement(e,{key:`${t.operator}-${i}`,compositeRule:t,rowState:n,onChange:m(i),onRemoveGroup:d(i)}):g.createElement(fD,{key:`${t.field}-${l}-${i}`,rowState:n,rule:t,isRemoveDisabled:1===r.Rule.length,onChange:m(i),onRemoveRule:d(i)})))))},LD=new RegExp(`(${["duration","mediaSize","mediaBitrate","show.writer","show.producer","show.director"].join("|")})$`),kD=function({meta:e,rules:t,onChange:n}){const r=(0,g.useMemo)((()=>{var t;return(null!=(t=e.Type)?t:[]).reduce(((e,t)=>(t.Field&&e.push(...t.Field.filter((e=>!LD.test(e.key)))),e)),[])}),[e.Type]),i=(0,g.useMemo)((()=>{var t;return(null!=(t=e.Type)?t:[]).reduce(((e,t)=>(t.Filter&&e.push(...t.Filter),e)),[])}),[e.Type]),a=(0,g.useMemo)((()=>{var t;const n=null!=(t=e.Type)?t:[],r=n.filter((e=>e.type!==En.U.Folder)).length>1;return n.reduce(((e,t)=>(t.Filter&&t.Filter.forEach((n=>{if(n.filterType!==ri.H_.Boolean){const i=r?`${t.type}.${n.filter}`:n.filter;e[i]=n.key}})),e)),{})}),[e.Type]),s=(0,g.useMemo)((()=>r.reduce(((e,t)=>(e[t.key]={type:t.type,subtype:t.subType},e)),{})),[r]),o=(0,g.useMemo)((()=>({allTypeFilters:i,allTypeFields:r,fieldTypesByFieldKey:s,filterKeysByFieldKey:a})),[r,i,s,a]),l=(0,g.useMemo)((()=>t?"composite"!==t.type?DD([t]):t:DD([CD(o)])),[t,o]);return g.createElement(jD,{rowState:o,compositeRule:l,onChange:n})},RD=(0,fe.P1)(HP,(e=>e.curatedItem)),zD=(0,fe.P1)(HP,(e=>e.queryParse));function UD(e,t=!1){const n=[];if("composite"===e.type){const r=e.Rule;for(let e=0,t=r.length;e<t;e++){const t=r[e];(t.type||""!==t.value)&&(UD(t,!0).length&&n.push(UD(t,!0)))}const i=n.length;let a=i-1;for(;a>0;)n.splice(a,0,`${e.operator}=1`),a-=1;n.length&&(t||i>1&&e.operator===yP.Or)&&(n.unshift("push=1"),n.push("pop=1"))}else{if(""===e.value)throw new Error("Tried to encode an empty value");const t=e.operator.slice(0,-1);n.push(`${e.field}${encodeURIComponent(t)}=${e.value}`)}return n.flat(2)}function VD(e){return UD(e).join("&")}const BD=function({className:e="DirectoryListAdvancedFilters-container-3aG91w",directoryKey:t,totalSize:n,meta:r}){var i,a,s,o,l,c;const d=(0,v.I0)(),[u,p,m]=Hn(),h=(0,yn.Z)({serverIdentifier:u.machineIdentifier,providerIdentifier:p.identifier}),y=(0,g.useMemo)((()=>E.Z.parseUri(t)),[t]),f=`${h}${t}`,b=(0,v.v9)(hf),{query:I,isPopulated:S}=(0,v.v9)(zD),M=(0,v.v9)(RD),P=(0,g.useMemo)((()=>Ep(f)),[f]),D=(0,v.v9)(P),C=null!=(i=null==D?void 0:D.isSaving)&&i,w=(0,Dp.Z)(C),Z=(0,gv.Z)(r),T=Gn(),N=T.curatedKey?qi.Z.parseString(T.curatedKey):void 0,O=hs({identifier:p.metricsIdentifier,mode:"list",type:null==Z?void 0:Z.type,itemCount:n}),[A,x]=(0,g.useState)(null!=(a=qi.Z.parseString(y.params.limit))?a:""),j=Pp(A,250),L=(0,gd.Z)(),k=(0,gd.Z)(),R=(0,gd.Z)(),[z,U]=(0,g.useState)(!1),V=Z?(0,_h.Z)(Z.type):void 0,B=Z?tP(Z):void 0,F=iP({server:u,provider:p,activeType:Z}),_=aP({server:u,provider:p,activeType:Z}),H=_&&B===ni.DD.Video,Q=(0,g.useCallback)((()=>{O({action:ss.DK,mode:"shortcut"})}),[O]),G=(0,g.useCallback)((()=>{O({action:ss.uf,mode:"shortcut"})}),[O]),W=(0,g.useCallback)((()=>{U(!0),L.onOpen()}),[L]),Y=(0,g.useCallback)((()=>{U(!1),L.onClose()}),[L]),K=(0,g.useCallback)((()=>{U(!0),k.onOpen()}),[k]),q=(0,g.useCallback)((()=>{U(!1),k.onClose()}),[k]),$=(0,g.useCallback)((()=>{N&&(0,fn.c9)((()=>{d(sp.actions.saveRequested({server:u,provider:p,key:N,sourceURI:f,isSmart:!0}))}))}),[N,d,p,u,f]),J=(0,g.useCallback)((e=>{const t=e.target.value;x(t)}),[]),X=(0,g.useCallback)((e=>{d(fd.actions.updateQuery({rules:e}))}),[d]);(0,g.useEffect)((()=>{var e;if(!(null==I?void 0:I.Rule)||"composite"===(null==(e=null==I?void 0:I.Rule)?void 0:e.type)&&I.Rule.Rule.length<1)return;const{type:n,sort:r,group:i,having:a}=y.params,s={type:n,sort:r,group:i,having:a,limit:j||void 0},o=E.Z.join(y.pathname,s),l=VD(I.Rule),c=E.Z.join(o,l,{parseParams:!1});c!==t&&d((0,Wn.c4)({pathname:Zv({key:c}),replace:!0}))}),[t,y.params,y.pathname,d,j,I]),(0,g.useEffect)((()=>{I||d(fd.actions.fetchQueryRequested({server:u,provider:p,key:t.replace("/all","/query/parse")})),N&&d(fd.actions.fetchCuratedRequested({server:u,provider:p,key:N}))}),[I,t,N,d,u]),(0,g.useEffect)((()=>()=>{d(fd.actions.reset())}),[d]),(0,g.useEffect)((()=>{var e;if((null==(e=null==D?void 0:D.metadataItem)?void 0:e.key)&&w&&!C&&!(null==D?void 0:D.saveError)){const e=D.metadataItem.type===ni.pG.Playlist;d((0,Wn.c4)({pathname:(0,li.Z)(u,p,D.metadataItem.key,void 0,e?B:void 0),replace:!0}))}}),[d,C,w,B,p,u,null==(s=null==D?void 0:D.metadataItem)?void 0:s.key,null==(o=null==D?void 0:D.metadataItem)?void 0:o.type,null==D?void 0:D.saveError]);let ee=(0,Ce.Z)("Save As..."),te=H?K:W;return M.item&&(ee=M.item.isPlaylist?(0,Ce.Z)("Update Playlist"):(0,Ce.Z)("Update Collection"),te=$),S&&I?g.createElement("form",{className:e},g.createElement(Be,{className:"DirectoryListAdvancedFilters-scroller-2lqIqM Scroller-scroller-3Rbtv0",scrollDirection:Ae.Omni,autoScroll:!0},M.item?g.createElement("div",{className:"DirectoryListAdvancedFilters-editHeading-1IBQC3"},M.item.title):null,g.createElement(kD,{meta:r,rules:I.Rule,onChange:X})),g.createElement("div",{className:"DirectoryListAdvancedFilters-buttonBar-1_m6Ci"},g.createElement("div",null,g.createElement(mP,{name:"labelValue",className:"DirectoryListAdvancedFilters-formLabel-3YwPOH FormLabel-label-3iI4Hz"},(0,Ce.Z)("Limit to")),g.createElement(Rd,{className:"DirectoryListAdvancedFilters-textInput-1a0ZZT TextInput-input-2FGxDj",name:"labelValue",type:"number",min:0,value:A,onChange:J})),g.createElement("div",{className:"DirectoryListAdvancedFilters-buttonCluster-oApTKP"},B&&V&&m&&(_||F)?g.createElement(g.Fragment,null,g.createElement(eP,{kind:or.Primary,label:ee,isDisabled:b,onPress:te},g.createElement(jp,{sourceURI:f,server:u,provider:p,mediaType:B,metadataType:V,contentDirectoryID:m.id,onSavePlaylistPress:G,onSaveCollectionPress:Q,onAddToPlaylistPress:F?L.onOpen:void 0,onAddToCollectionPress:_?k.onOpen:void 0,onAddToSmartPlaylistPress:W,onAddToSmartCollectionPress:K,onMenuClose:R.onClose})),g.createElement(_p,{isOpen:L.isOpen,mediaType:B,sourceURI:f,defaultDestinationSource:h,defaultTitle:null!=(l=m.title)?l:(0,Ce.Z)("New Playlist"),isSmart:z,onModalClose:Y,onSaveSuccess:G}),g.createElement(Tp,{isOpen:k.isOpen,metadataType:V,sourceURI:f,contentDirectoryID:m.id,defaultTitle:null!=(c=m.title)?c:(0,Ce.Z)("New Collection"),isSmart:z,onModalClose:q,onSaveSuccess:Q})):null))):g.createElement("div",{className:"DirectoryListAdvancedFilters-loadingContainer-3cQM_Q DirectoryListAdvancedFilters-container-3aG91w"},g.createElement(lt,null))},FD=function(e){var t;return null!=(t=null==e?void 0:e.find((e=>e.active)))?t:null==e?void 0:e[0]};var _D=Object.defineProperty,HD=Object.prototype.hasOwnProperty,QD=Object.getOwnPropertySymbols,GD=Object.prototype.propertyIsEnumerable,WD=(e,t,n)=>t in e?_D(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,YD=(e,t)=>{for(var n in t||(t={}))HD.call(t,n)&&WD(e,n,t[n]);if(QD)for(var n of QD(t))GD.call(t,n)&&WD(e,n,t[n]);return e};const KD=parseInt(ng.Z.jumpBarCharacterHeight,10),qD=parseInt(ng.Z.jumpBarMargin,10);function $D({className:e="DirectoryListJumpBar-character-3Pjuey Link-link-2WGTd7",scrollIndex:t,children:n,onCharacterPress:r}){const i=(0,g.useCallback)((()=>{r(t)}),[t,r]);return g.createElement(vr,{className:e,onPress:i},n)}function JD({className:e="DirectoryListJumpBar-jumpBar-1h4J5B",activeType:t,viewportHeight:n,listTotalSize:r,onFirstCharacterScroll:i}){const a=FD(null==t?void 0:t.Sort),{firstCharacters:{items:s}}=(0,v.v9)(yv),o=(0,g.useMemo)((()=>s?function(e,t){if(t<1||!e.length)return[];const{characters:n}=e.reduce(((e,t,n)=>(e.characters.push(YD(YD({},t),{position:n,scrollIndex:e.scrollIndex})),e.scrollIndex+=t.size,e)),{characters:[],scrollIndex:0}),r=[n[0],n[n.length-1]],i=Array.from(n).sort(((e,t)=>t.size-e.size));return Array.from(new Set([...r,...i])).slice(0,t).sort(((e,t)=>e.position-t.position))}(s,Math.floor((n-2*qD)/KD)):[]),[s,n]),l=!!(null==a?void 0:a.firstCharacterKey),c=o.length>=5;return a&&s&&l&&c&&r>=75?g.createElement("div",{className:e},o.map((e=>g.createElement($D,{key:e.key,scrollIndex:e.scrollIndex,onCharacterPress:i},e.title)))):null}function XD(e){var t=e["aria-label"],n=e.className,r=e.style,i={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-tidal-logo-560"};i["aria-hidden"]=!t,i.style=r,i.className=oa.Z.plexIcon+(n?" "+n:"");var a=[g.createElement.apply(g,["path",{d:"M373.331 186.32l-93.324 93.332-93.337-93.341L280.007 93l93.332 93.309L466.67 93 560 186.318l-93.33 93.341-93.339-93.339zm.01 186.669l-93.334 93.34-93.337-93.34 93.337-93.337 93.334 93.337zm-186.67-186.67l-93.338 93.34L0 186.32 93.333 93l93.337 93.318z"}].concat([]))];return t&&a.unshift(g.createElement("title",null,t)),g.createElement.apply(g,["svg",i].concat(a))}XD.propTypes={"aria-label":sa().string,className:sa().string,style:sa().object};const eC=XD;function tC(e){var t,n;return(null==(t=null==e?void 0:e.id)?void 0:t.includes("saved"))?(0,Ce.Z)("With a TIDAL subscription you can add Albums, artists, tracks and videos to My TIDAL to keep track of your favorite music."):(null==(n=null==e?void 0:e.id)?void 0:n.includes("playlists"))?(0,Ce.Z)("Once you have a TIDAL subscription you can add music to My TIDAL Playlists and keep the party going."):(0,Ce.Z)("Once you have a TIDAL subscription you can browse TIDAL content in Plex.")}function nC({className:e,pivot:t}){const n=hs(),r=(0,g.useCallback)((()=>{n({action:ss.J9})}),[n]);return g.createElement(et,{className:e,icon:g.createElement(eC,null),title:(0,Ce.Z)("TIDAL + Plex = music to your ears!"),description:tC(t)},g.createElement(Dr,{target:"_blank",rel:"noopener noreferrer",to:iy.YC,onPress:r},(0,Ce.Z)("Learn More")))}var rC=n(45318),iC=n(29414);const aC=function(e){return E.Z.stringifyParams(e,{encoder:(e,t,n,r)=>"value"===r&&"boolean"==typeof e?e?"1":"0":e})},sC=function(e,t){const{strippedKey:n,filterRules:r}=hv(e,t),i=r.reduce(((e,{filter:n,value:r})=>{var i;const{type:a}=t,s=null==(i=t.Field)?void 0:i.find((e=>e.key===n.filter||e.key===`${a}.${n.filter}`));return s&&(e[s.key]=r),e}),{});return E.Z.join(n,aC(i))};var oC=n(87691),lC=n(95688),cC=n(33816),dC=n(27940),uC=n(28440),pC=Object.defineProperty,mC=Object.prototype.hasOwnProperty,hC=Object.getOwnPropertySymbols,gC=Object.prototype.propertyIsEnumerable,yC=(e,t,n)=>t in e?pC(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,vC=(e,t)=>{for(var n in t||(t={}))mC.call(t,n)&&yC(e,n,t[n]);if(hC)for(var n of hC(t))gC.call(t,n)&&yC(e,n,t[n]);return e};const fC="provider/fetchCloudProviders",bC="provider/populateCloudProviders",IC="providers/fetchProvider",SC="providers/populateProvider",MC=(0,bc.Z)(fC),EC=(0,bc.Z)(bC),PC=(0,bc.Z)(IC,(e=>{const{options:t={}}=e;return vC(vC({},e),{options:vC(vC({},t),{allowHeadersInUrl:!1})})})),DC=(0,bc.Z)(SC),CC={[fC]:(0,cC.Z)({key:"providers",getModel:uC.VX}),[bC]:(0,dC.Z)({key:"providers",fetchActionCreator:MC,getModel:uC.VX}),[IC]:(0,cC.Z)({getModel:uC.js}),[SC]:(0,dC.Z)({getModel:uC.js,fetchActionCreator:PC})};var wC=n(53145),ZC=n(32901),TC=n(46453),NC=n(88630),OC=n(47486),AC=n(67006),xC=n(17146),jC=n(57054),LC=n(15902),kC=n(28725),RC=Object.defineProperty,zC=Object.prototype.hasOwnProperty,UC=Object.getOwnPropertySymbols,VC=Object.prototype.propertyIsEnumerable,BC=(e,t,n)=>t in e?RC(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,FC=(e,t)=>{for(var n in t||(t={}))zC.call(t,n)&&BC(e,n,t[n]);if(UC)for(var n of UC(t))VC.call(t,n)&&BC(e,n,t[n]);return e};const _C="provider/addToCatalog",HC="provider/clearAddToCatalogError",QC="provider/scanLibraryFiles",GC="provider/editLibrary",WC="provider/analyzeLibrary",YC="provider/emptyLibraryTrash",KC="provider/deleteLibrary",qC="provider/upgradeLibrary",$C=(0,bc.Z)(_C),JC=(0,bc.Z)(HC),XC=(0,bc.Z)(QC),ew=(0,bc.Z)(GC),tw=(0,bc.Z)(YC),nw=(0,bc.Z)(WC),rw=(0,bc.Z)(KC),iw=(0,bc.Z)(qC),aw=(0,bc.Z)(QC,(e=>FC(FC({},e),{force:!0}))),sw=(0,bc.Z)(QC,(e=>FC(FC({},e),{cancel:!0})));function ow(e){const t=e.get("key");return e.get("id")||t.substr(t.lastIndexOf("/")+1)}function lw(e,t){const n=(0,uC.js)(e,t).get("features").get(AC.P8),r={};return t.contentDirectory.key&&(r.key=t.contentDirectory.key),t.contentDirectory.hubKey&&(r.hubKey=t.contentDirectory.hubKey),n.get("directories").findWhere(r)}function cw(e,t){const n=e.get("features").get(AC.P8).get("key");let r;return r=n?E.Z.join([n,t.get("id")]):t.get("key"),r}function dw(e,t){e(wC.lm({serverEntityID:t})),e(wC.tU({serverEntityID:t})),e((0,ZC.jR)({serverEntityID:t}))}const uw={[fC]:CC[fC],[bC]:CC[bC],[IC]:CC[IC],[SC]:CC[SC],[HC](e,t){e.get("ui").get("addToCatalogModal").set("error",null)},[_C](e,t,n){const r=e.get("ui").get("addToCatalogModal"),i=(0,uC.js)(e,t),a=i.get("features").get("actions").get("actions").get("addToCatalog").get("key");if((0,fn.c9)((()=>{r.set({isUpdating:!0,error:null})})),t.data.fileURL){const e=new window.XMLHttpRequest;return e.open("GET",t.data.fileURL,!0),e.responseType="blob",e.onload=e=>{if(200===e.target.status){const t=e.target.response,n=new window.FormData;n.append("file",t);const s=i.getXHROptions(a,{method:"POST",processData:!1,contentType:!1,data:n});h().ajax(s).then(((e,t,n)=>{r.set({isUpdating:!1})}),(e=>{r.set({isUpdating:!1,error:(0,jC.Z)(e)})}))}window.URL.revokeObjectURL(t.data.fileURL)},void e.send()}const s=E.Z.join(a,{url:t.data.channelURL}),o=i.getXHROptions(s,{method:"PUT",dataType:"json"});h().ajax(o).then(((e,t,n)=>{r.set("isUpdating",!1);const a=new lC.Z(e,{server:i.server,provider:i,parse:!0});if(!a.get("key"))return void r.set({isUpdating:!1,error:(0,jC.Z)(n)});const s=(0,li.Z)(i.server.state,i.state,a.get("key"));window.location.hash=s}),(e=>{r.set({isUpdating:!1,error:(0,jC.Z)(e)})}))},[QC](e,t,n){const{cancel:r,force:i,metricsPage:a}=t,s=(0,uC.SW)(e,t),o=lw(e,t),l={libraryID:ow(o),libraryType:o.get("type"),cancel:r,force:i,allowMetrics:!!a,metricsProperties:{page:a}};o.set("refreshing",!r),(0,LC.Z)(s,l).fail((e=>{let t;t=r?(0,Ce.Z)("There was an unexpected error canceling the scan."):i?503===e.status?(0,Ce.Z)("An internet connection is required to refresh library metadata. Please check this server's connection and try again."):(0,Ce.Z)("There was an unexpected error refreshing library metadata."):503===e.status?(0,Ce.Z)("An internet connection is required to scan library files. Please check this server's connection and try again."):(0,Ce.Z)("There was an unexpected error scanning library files."),n((0,ZC.wp)(t))})).always((e=>{n(wC.Vk({serverEntityID:t.serverEntityID}))}))},[GC](e,t){const n=(0,uC.SW)(e,t),r=n.get("desktop").get("libraries"),i=lw(e,t);r.fetch().then((()=>{const e=ow(i),a=r.get(e);le.Z.trigger("show:modal",new kC.Z({server:n,model:a})),(0,b.DB)("metrics").trackClick({page:t.metricsPage,action:ss.Yf,type:a.get("type"),context:OC.LIBRARY})}))},[YC](e,t,n){const r=(0,uC.SW)(e,t),i=(0,uC.js)(e,t),a=lw(e,t),s=cw(i,a),o=E.Z.join([s,"emptyTrash"]),l=r.getXHROptions(o,{type:"PUT"});h().ajax(l).done((()=>{n((0,ZC.wp)({type:NC.M,message:(0,Ce.Z)("The trash was emptied.")}))})).fail((e=>{n((0,ZC.wp)((0,Ce.Z)("There was a problem emptying the trash.")))})),(0,b.DB)("metrics").trackClick({page:t.metricsPage,action:ss.yZ,type:a.get("type"),context:OC.LIBRARY})},[WC](e,t,n){const r=(0,uC.SW)(e,t),i=(0,uC.js)(e,t),a=lw(e,t),s=cw(i,a),o=E.Z.join([s,"analyze"]),l=r.getXHROptions(o,{type:"PUT"});h().ajax(l).fail((e=>{n((0,ZC.wp)((0,Ce.Z)("There was a problem analyzing the library.")))})),(0,b.DB)("metrics").trackClick({page:t.metricsPage,action:ss.JM,type:a.get("type"),context:OC.LIBRARY})},[KC](e,t,n){const r=(0,uC.SW)(e,t),i=(0,uC.js)(e,t),a=lw(e,t),s=cw(i,a),o=E.Z.join(s,{async:1}),l=r.getXHROptions(o,{type:"DELETE"});i.get("features").get(AC.P8).get("directories").remove(a),h().ajax(l).fail((()=>{dw(n,t.serverEntityID),n((0,ZC.wp)((0,Ce.Z)("There was a problem deleting the library.")))})),(0,b.DB)("metrics").trackClick({page:t.metricsPage,action:ss.b1,type:a.get("type"),context:OC.LIBRARY})},[qC](e,t,n){const r=(0,uC.SW)(e,t),i=(0,uC.js)(e,t),a=lw(e,t),s=a.get("type");let o;o=s===Ac.MOVIE?{agent:TC.WX,scanner:xC.Lx}:s===Ac.ARTIST?{agent:TC.Ut,scanner:xC.c3}:{agent:TC.Zb,scanner:xC.QQ};const l=cw(i,a),c=E.Z.join(l,o),d=r.getXHROptions(c,{type:"PUT"});h().ajax(d).then((()=>{dw(n,t.serverEntityID)}),(()=>{n((0,ZC.wp)((0,Ce.Z)("There was a problem upgrading the library.")))}))},[wC.Cs](e,t,n){t.activity.type===gl.y0&&dw(n,t.serverEntityID)}};var pw=n(6103),mw=n(8030),hw=n(70182),gw=n(79849),yw=n(56510),vw=n(89460),fw=n(58300);var bw=Object.defineProperty,Iw=Object.prototype.hasOwnProperty,Sw=Object.getOwnPropertySymbols,Mw=Object.prototype.propertyIsEnumerable,Ew=(e,t,n)=>t in e?bw(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Pw=(e,t)=>{for(var n in t||(t={}))Iw.call(t,n)&&Ew(e,n,t[n]);if(Sw)for(var n of Sw(t))Mw.call(t,n)&&Ew(e,n,t[n]);return e};class Dw extends g.Component{constructor(e,t){super(e,t),this.onChange=e=>{if(e.target.files&&e.target.files.length){const t=e.target.files[0];this.setState({filename:t.name})}this.props.onChange(e)},this.state={filename:null}}render(){const e=this.props,{inputComponent:t,className:n,inputClassName:r,buttonText:i,isDisabled:a,showFilename:s}=e,o=((e,t)=>{var n={};for(var r in e)Iw.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&Sw)for(var r of Sw(e))t.indexOf(r)<0&&Mw.call(e,r)&&(n[r]=e[r]);return n})(e,["inputComponent","className","inputClassName","buttonText","isDisabled","showFilename"]),{filename:l}=this.state;return g.createElement("span",null,g.createElement(t,{className:n,component:"label"},i,g.createElement("input",Pw(Pw({},o),{className:r,type:"file",onChange:this.onChange}))),s?g.createElement("span",{className:Te()("FileInput-filename-3Y9QPf",!l&&"FileInput-noFilename-2qpXUQ")},l||(0,Ce.Z)("No file selected")):null)}}Dw.defaultProps={inputComponent:cb.Z,inputClassName:"FileInput-fileInput-3vtTgB",showFilename:!1};const Cw=Dw;var ww=n(40691),Zw=n(2424),Tw=n(64795),Nw=n(48494),Ow=Object.defineProperty,Aw=Object.prototype.hasOwnProperty,xw=Object.getOwnPropertySymbols,jw=Object.prototype.propertyIsEnumerable,Lw=(e,t,n)=>t in e?Ow(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,kw=(e,t)=>{for(var n in t||(t={}))Aw.call(t,n)&&Lw(e,n,t[n]);if(xw)for(var n of xw(t))jw.call(t,n)&&Lw(e,n,t[n]);return e};const Rw=function(e,t){var n;const{isUpdatingPropName:r,errorPropName:i,clearDirtyOnChangePropName:a}=t;return(n=class extends g.Component{constructor(e,t){super(e,t),this.onFormChange=e=>{this.props.onFormChange&&this.props.onFormChange(e),this.state.isDirty||this.setState({isDirty:!0})},this.state={isDirty:!1}}UNSAFE_componentWillReceiveProps(e){let t=!1;a&&(t=this.props[a]!==e[a]);const n=this.props[r]&&!e[r]&&null===e[i];this.state.isDirty&&(t||n)&&this.setState({isDirty:!1})}render(){return g.createElement(e,kw(kw({isDirty:this.state.isDirty},this.props),{onFormChange:this.onFormChange}))}}).propTypes={onFormChange:sa().func},n.displayName=`DirtyAware(${(0,Nw.Z)(e)})`,n.WrappedComponent=e,n};var zw=Object.defineProperty,Uw=Object.prototype.hasOwnProperty,Vw=Object.getOwnPropertySymbols,Bw=Object.prototype.propertyIsEnumerable,Fw=(e,t,n)=>t in e?zw(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;function _w(e={}){return((e,t)=>{for(var n in t||(t={}))Uw.call(t,n)&&Fw(e,n,t[n]);if(Vw)for(var n of Vw(t))Bw.call(t,n)&&Fw(e,n,t[n]);return e})({isFileImport:!1,channelURL:"",fileURL:null},e)}class Hw extends g.Component{constructor(e,t){super(e,t),this.onModalClose=()=>{this.props.onClearError(),this.props.onModalClose()},this.onFileImportTogglePress=()=>{this.setState(_w({isFileImport:!this.state.isFileImport}))},this.onFileChange=e=>{let t;if(e.target.files&&e.target.files.length&&(t=e.target.files[0]),t){const e=window.URL.createObjectURL(t);this.setState({fileURL:e})}},this.onURLChange=e=>{this.setState({channelURL:e})},this.onSubmit=e=>{e.preventDefault(),this.props.onSubmit({channelURL:this.state.channelURL,fileURL:this.state.fileURL})},this.state=_w()}static getDerivedStateFromProps(e,t){return t.isOpen!==!e.isOpen?_w({isOpen:e.isOpen}):null}componentDidUpdate(e,t){this.props.isUpdating||!e.isUpdating||this.props.hasError||this.props.onModalClose()}render(){const{isOpen:e,title:t,message:n,hasError:r,hasFileImportFeature:i,textInputLabel:a,fileInputButtonLabel:s,fileImportLabel:o,urlImportLabel:l,confirmLabel:c,confirmKind:d,isUpdating:u,isDirty:p,metricsPage:m,metricsProperties:h,onFormChange:y}=this.props;return g.createElement(Zw.Z,{isOpen:e,metricsPage:m,metricsProperties:h,onModalClose:this.onModalClose},g.createElement("form",{className:"AddToCatalogModal-form-QJTy46",onSubmit:this.onSubmit,onChange:y},g.createElement(Tw.Z,{onModalClose:this.onModalClose},g.createElement(vw.Z,null,t),r?g.createElement(ww.Z,{errorMessage:(0,Ce.Z)("Something went wrong. Make sure the URL is correct and try again.")}):null,g.createElement(hw.Z,null,g.createElement("p",null,n),i?g.createElement("p",null,g.createElement(pw.Z,{kind:ic._8,onPress:this.onFileImportTogglePress},this.state.isFileImport?l||(0,Ce.Z)("Import from a URL instead"):o||(0,Ce.Z)("Import from a file instead"))):null,g.createElement("div",{className:"AddToCatalogModal-inputContainer-2-_aRP"},this.state.isFileImport?g.createElement(Cw,{name:"file",accept:".xml, .opml",buttonText:s||(0,Ce.Z)("Choose File"),showFilename:!0,onChange:this.onFileChange}):g.createElement(mw.W,{name:"channelURL",value:this.state.URLValue,labelText:a,"data-autofocus":!0,onChange:this.onURLChange})),this.state.fileURL?g.createElement("p",{className:"AddToCatalogModal-fileNote-22ZCsO"},(0,Ce.Z)("NOTE: Podcasts will appear as they're processed. This may take some time to complete")):null),g.createElement(gw.Z,null,g.createElement(yw.Z,null,g.createElement(fw.Z,{type:"submit",kind:d,isDisabled:!p,isSpinning:u},c||(0,Ce.Z)("Continue")))))))}}Hw.defaultProps={confirmKind:ic._8,hasFileImportFeature:!1};const Qw=Rw(Hw,{isUpdatingPropName:"isUpdating",errorPropName:"error",clearDirtyOnChangePropName:"isOpen"}),Gw=(0,oC.Z)((function(){return(0,fe.P1)((e=>e.ui.addToCatalogModal),(e=>({isUpdating:e.isUpdating,hasError:!!e.error})))}),(function(e,t){return{onClearError(){e(JC())},onSubmit(n){e($C({providerEntityID:t.providerEntityID,data:n}))}}}))(Qw),Ww=function(e){const{providerEntityID:t,isOpen:n,onModalClose:r}=e;return g.createElement(Gw,{providerEntityID:t,isOpen:n,title:(0,Ce.Z)("Add a Podcast"),message:(0,Ce.Z)("Want to add a podcast we havent listed? If you know the URL for the podcast, you can enter it below."),textInputLabel:(0,Ce.Z)("Podcast Feed"),fileInputButtonLabel:(0,Ce.Z)("Choose OPML File"),fileImportLabel:(0,Ce.Z)("Import podcasts from an OPML file instead"),urlImportLabel:(0,Ce.Z)("Import podcasts from a URL instead"),hasFileImportFeature:!0,onModalClose:r})};function Yw(e){var t=e["aria-label"],n=e.className,r=e.style,i={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-toolbar-add-podcast-560"};i["aria-hidden"]=!t,i.style=r,i.className=oa.Z.plexIcon+(n?" "+n:"");var a=[g.createElement.apply(g,["path",{d:"M434,504 L378,504 L378,417.4558 C306.354,404.2735 252,341.435 252,266 L294,266 C294,327.815 344.186,378 406,378 C467.814,378 518,327.815 518,266 L560,266 C560,341.435 505.646,404.2735 434,417.4558 L434,504 Z M476,126 C476,87.366 444.634,56 406,56 C367.366,56 336,87.366 336,126 L336,266 C336,304.634 367.366,336 406,336 C444.634,336 476,304.634 476,266 L476,126 Z M134.4,100.8 L134.4,190.4 L224,190.4 L224,235.2 L134.4,235.2 L134.4,324.8 L89.6,324.8 L89.6,235.2 L0,235.2 L0,190.4 L89.6,190.4 L89.6,100.8 L134.4,100.8 Z"}].concat([]))];return t&&a.unshift(g.createElement("title",null,t)),g.createElement.apply(g,["svg",i].concat(a))}Yw.propTypes={"aria-label":sa().string,className:sa().string,style:sa().object};const Kw=Yw;function qw(e){var t=e["aria-label"],n=e.className,r=e.style,i={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-toolbar-shuffle-560"};i["aria-hidden"]=!t,i.style=r,i.className=oa.Z.plexIcon+(n?" "+n:"");var a=[g.createElement.apply(g,["path",{d:"m448 441l-44.423 0c-65.833 0-103.843-28.598-141.383-96.109 5.44-10.89 10.99-22.734 16.727-35.594 3.556-7.986 4.181-9.387 5.622-12.617 36.245 74.928 65.419 102.32 119.034 102.32l44.423 0 0-77 112 98-112 98 0-77m0-322l0-77 112 98-112 98 0-77-44.423 0c-59.257 0-88.657 33.459-130.747 127.573-1.427 3.191-3.342 7.493-6.695 15.02-44.459 99.657-75.473 137.407-142.558 137.407l-95.577 0 0-42 95.577 0c43.602 0 66.367-27.71 104.202-112.518 3.333-7.485 5.267-11.827 6.711-15.055 48.4-108.225 87.24-152.427 169.087-152.427l44.423 0m-324.423 0c56.809 0 87.751 27.071 122.897 95.883-7.743 14.34-15.519 30.301-23.497 48.005-35.031-76.511-57.674-101.888-99.4-101.888l-95.577 0 0-42 95.577 0"}].concat([]))];return t&&a.unshift(g.createElement("title",null,t)),g.createElement.apply(g,["svg",i].concat(a))}qw.propTypes={"aria-label":sa().string,className:sa().string,style:sa().object};const $w=qw,Jw="DirectoryListActions-tooltip-8KLeHs Tooltip-bottomCenter-3I-giq Tooltip-tooltip-1BlaVj Tooltip-tooltipArrow-3ocxiK Tooltip-tooltipTopArrow-1LUIRT Tooltip-tooltipCenterAlignArrow-EwxeoC",Xw="DirectoryListActions-menu-LB_SVA Menu-menu-1qURRT";function eZ({className:e,activeType:t,selectedPivot:n,totalSize:r,listActions:i,directoryKey:a,advancedFilters:s}){var o,l;const c=(0,v.I0)(),[d,u,p]=Hn(),{containerServer:m,containerProvider:h,containerKey:y,containerSourceURI:f}=Or(),{metricsPage:b,metricsContextTuple:I}=(0,Jt.Zn)(),S=hs({identifier:u.metricsIdentifier,mode:"list",type:null==t?void 0:t.type,itemCount:r}),M=(0,No.Z)(),E=(0,gd.Z)(),P=(0,No.Z)(),D=(0,gd.Z)(),C=(0,gd.Z)(),w=(0,gd.Z)(),Z=(0,gd.Z)(),T=(0,yn.Z)({serverIdentifier:d.machineIdentifier,providerIdentifier:u.identifier}),N=`${T}${y}`,O=t?tP(t):void 0,A=t?(0,_h.Z)(t.type):void 0,x=(0,g.useMemo)((()=>t?sC(a,t):a),[t,a]),j=(0,g.useCallback)((e=>{c(iC.rr({server:m,provider:h,containerKey:y,metricsPage:b,metricsProperties:{contextTuple:I},legacyAction:e}))}),[c,m,h,y,b,I]),L=(0,g.useCallback)((()=>{S({action:ss.NH}),j(vt.wA({options:{type:O}}))}),[S,O,j]),k=(0,g.useCallback)((()=>{j(vt.Em({options:{type:O}})),S({action:ss.cO})}),[S,O,j]),R=(0,g.useCallback)((()=>{S({action:ss.PR}),j(vt.tP({options:{playAll:!0,next:!1,type:O}})),E.onClose()}),[S,E,O,j]),z=(0,g.useCallback)((()=>{S({action:ss.pe}),j(vt.tP({options:{playAll:!0,next:!0,type:O}})),E.onClose()}),[S,E,O,j]),U=(0,g.useCallback)((()=>{S({action:ss.FH}),j(iC.$5()),E.onClose()}),[S,E,j]),V=(0,g.useCallback)((()=>{c(xr.Z.actions.throttledRepopulateRequested({server:m,provider:h,sourceURI:f})),S({action:ss.DK,mode:"shortcut"})}),[h,m,f,c,S]),B=(0,g.useCallback)((()=>{S({action:ss.uf,mode:"shortcut"})}),[S]);return g.createElement(gP,{className:e},i.isPlayVisible?g.createElement(mf,{tooltipClassName:Jw,icon:Jf,title:(0,Ce.Z)("Play"),tooltipAttachment:af.eO,onPress:L}):null,i.isShuffleVisible?g.createElement(mf,{tooltipClassName:Jw,icon:$w,title:(0,Ce.Z)("Shuffle"),tooltipAttachment:af.eO,onPress:k}):null,i.isAddToPlaylistVisible||i.isAddToCollectionVisible?g.createElement(mf,{id:P,tooltipClassName:Jw,icon:Ff,title:(0,Ce.Z)("Add to..."),tooltipAttachment:af.eO,onPress:D.onToggle}):null,i.isAddToCatalogVisible?g.createElement(mf,{tooltipClassName:Jw,icon:Kw,title:(0,Ce.Z)("Add Podcast by URL"),tooltipAttachment:af.eO,onPress:Z.onToggle}):null,i.isAddToQueueVisible||i.isOptimizeVisible?g.createElement(mf,{id:M,tooltipClassName:Jw,icon:qf,title:(0,Ce.Z)("More"),tooltipAttachment:af.eO,onPress:E.onToggle}):null,g.createElement(Xl.Z,{className:Xw,isOpen:E.isOpen,target:M,onMenuClose:E.onClose},i.isAddToQueueVisible?g.createElement(ec.Z,{onPress:z},(0,Ce.Z)("Play Next")):null,i.isAddToQueueVisible?g.createElement(ec.Z,{onPress:R},(0,Ce.Z)("Add to Queue")):null,i.isOptimizeVisible?g.createElement(ec.Z,{onPress:U},(0,Ce.Z)("Optimize...")):null),(i.isAddToPlaylistVisible||i.isAddToCollectionVisible)&&O&&A?g.createElement(Xl.Z,{className:Xw,isOpen:D.isOpen,target:P,onMenuClose:D.onClose},g.createElement(jp,{sourceURI:N,server:d,provider:u,mediaType:O,metadataType:A,contentDirectoryID:null==p?void 0:p.id,advancedFiltersRoute:n&&!s?Zv({key:x,advancedFilters:1}):void 0,onAddToCollectionPress:i.isAddToCollectionVisible?C.onOpen:void 0,onSaveCollectionPress:V,onAddToPlaylistPress:w.onOpen,onSavePlaylistPress:B,onMenuClose:D.onClose})):null,i.isAddToPlaylistVisible&&O?g.createElement(_p,{isOpen:w.isOpen,mediaType:O,sourceURI:N,defaultDestinationSource:T,defaultTitle:null!=(o=null==p?void 0:p.title)?o:(0,Ce.Z)("New Playlist"),onModalClose:w.onClose,onSaveSuccess:B}):null,i.isAddToCollectionVisible&&A&&(null==p?void 0:p.id)?g.createElement(Tp,{isOpen:C.isOpen,metadataType:A,sourceURI:N,contentDirectoryID:p.id,defaultTitle:null!=(l=p.title)?l:(0,Ce.Z)("New Collection"),onModalClose:C.onClose,onSaveSuccess:V}):null,i.isAddToCatalogVisible?g.createElement(Ww,{isOpen:Z.isOpen,providerEntityID:u.entityID,onModalClose:Z.onClose}):null)}var tZ=n(90653);const nZ={disclosureArrowLink:"DisclosureArrowLink-disclosureArrowLink-3joxcC Link-link-2WGTd7",isSelected:"DisclosureArrowLink-isSelected-2y312N",small:"DisclosureArrowLink-small-3gIQHu",medium:"DisclosureArrowLink-medium-2Bjjl7",large:"DisclosureArrowLink-large-2dFQv-",disclosureArrow:"DisclosureArrowLink-disclosureArrow-Ym60tN DisclosureArrow-disclosureArrow-1jttuj",down:"DisclosureArrowLink-down-2yCbT8",left:"DisclosureArrowLink-left-1xbptX",up:"DisclosureArrowLink-up-3wADoB",right:"DisclosureArrowLink-right-aMBg7N"};var rZ=Object.defineProperty,iZ=Object.prototype.hasOwnProperty,aZ=Object.getOwnPropertySymbols,sZ=Object.prototype.propertyIsEnumerable,oZ=(e,t,n)=>t in e?rZ(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;function lZ(e){var t=e,{className:n=nZ.disclosureArrowLink,arrowClassName:r=nZ.disclosureArrow,direction:i=ME.Down,size:a=st.Large,kind:s,children:o}=t,l=((e,t)=>{var n={};for(var r in e)iZ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&aZ)for(var r of aZ(e))t.indexOf(r)<0&&sZ.call(e,r)&&(n[r]=e[r]);return n})(t,["className","arrowClassName","direction","size","kind","children"]);return g.createElement(vr,((e,t)=>{for(var n in t||(t={}))iZ.call(t,n)&&oZ(e,n,t[n]);if(aZ)for(var n of aZ(t))sZ.call(t,n)&&oZ(e,n,t[n]);return e})({className:Te()(n,nZ[a]),"aria-haspopup":!0,kind:s,size:a},l),o,g.createElement(Lp.Z,{className:Te()(r,nZ[i],nZ[a]),direction:i,kind:s,size:a}))}function cZ({children:e,filter:t,isPending:n,isSelected:r,onFilterSelect:i}){const a=(0,g.useCallback)((()=>{i(t)}),[t,i]);return g.createElement(ec.Z,{className:r?"DisclosureFilterMenuItem-isSelected-3OFId7":void 0,onPress:a},g.createElement("span",{className:"DisclosureFilterMenuItem-menuItemContainer-DSIVIp SelectedMenuItem-menuItemContainer-87szhD"},g.createElement("span",{className:"DisclosureFilterMenuItem-menuLabel-gceYJ5 SelectedMenuItem-menuLabel-1WTzXp"},e),n?g.createElement(lt,{className:"DisclosureFilterMenuItem-spinner-30mOau Spinner-spinner-CSMaLA spin-spin-34xiUE",size:st.Small}):null,!n&&r?g.createElement("span",{className:"DisclosureFilterMenuItem-selectedIcon-3rJ8Ll SelectedMenuItem-selectedIcon-1A-uGc"},g.createElement(Ko.Z,{"aria-label":(0,Ce.Z)("Selected")})):null))}const dZ=(0,fe.P1)(yv,(e=>e.filterOptions)),uZ=function(e,t,n){const r=[...e];for(let n=0;n<e.length;n++)e[n].filter.filterType===ri.H_.Boolean==(t.filterType===ri.H_.Boolean)&&r.splice(n,1);return pv(r,{filter:t,operator:iv.Equal,value:n})},pZ=function(e,t,n){return!!e.find((e=>e.filter.filter===t.filter&&(null==n||e.value===n)))},mZ=function(e,t,n){return e.filter((e=>!(e.filter.filter===t.filter&&(null==n||e.value===n))))},hZ=function(e,t){const n=t.reduce(((e,t)=>(e[t.filter.filter]=t.value,e)),{});return E.Z.join(e,aC(n))},gZ="DirectoryListFilterMenu-selectedMenuItem-1f12td SelectedMenuItem-menuItemContainer-87szhD";function yZ({typeKey:e,directoryKey:t,pendingFilterKey:n,filters:r,activeFilterRules:i,advancedFiltersKey:a,isAdvancedFiltersVisible:s,onClose:o,onFilterSelect:l}){const[c,d]=function(e){return e.reduce(((e,t)=>(t.filterType===ri.H_.Boolean?e[0].push(t):e[1].push(t),e)),[[],[]])}(r),u=Tv(o);return g.createElement(Be,{className:"DirectoryListFilterMenu-menuScroller-3XYxmO Scroller-scroller-3Rbtv0",autoScroll:!0},g.createElement(Up.Z,{key:"all",to:Zv({key:e}),isSelected:!i.length,onPress:u},(0,Ce.Z)("All")),c.map((e=>{const n=pZ(i,e);return g.createElement(Up.Z,{key:e.key,isSelected:n,to:Zv({key:hZ(t,n?mZ(i,e):uZ(i,e,!0))}),onPress:u},e.title)})),c.length?g.createElement(tc.Z,null):null,d.map((e=>g.createElement(cZ,{key:e.key,filter:e,isSelected:pZ(i,e),isPending:n===e.key,onFilterSelect:l},e.title))),s?g.createElement(g.Fragment,null,g.createElement(tc.Z,null),g.createElement(Up.Z,{to:Zv({key:a,advancedFilters:1}),onPress:u},(0,Ce.Z)("Advanced Filters"))):null)}function vZ({directoryKey:e,selectedFilter:t,filterOptions:n,activeFilterRules:r,height:i,onFilterDeselect:a,onMenuClose:s}){const[o,l]=(0,g.useState)(""),c=n.find((e=>pZ(r,t,e.value))),d=Tv(s),u=(0,g.useCallback)((e=>{l(e.target.value)}),[]);return g.createElement("div",{className:"DirectoryListFilterMenu-filterOptionsContainer-2F0ER4",style:{height:Math.max(i,356)},"data-qa-id":"secondFiltersList"},g.createElement("div",{className:"DirectoryListFilterMenu-headerContainer-2TbelN"},g.createElement("div",{className:"DirectoryListFilterMenu-header-3RSMtJ","data-qa-id":"filterHeader"},g.createElement("div",{className:"DirectoryListFilterMenu-headerTitle-Cmltmj"},g.createElement(vr,{"data-qa-id":"previousFilters",onPress:a},g.createElement(kg,{className:"DirectoryListFilterMenu-backIcon-21Pk9l","aria-label":(0,Ce.Z)("Back")}),g.createElement("span",{className:"DirectoryListFilterMenu-filterText-31zf84"},t.title))),n.length>12?g.createElement(Rd,{className:"DirectoryListFilterMenu-searchInput-2DcGuv TextInput-input-16EbOL input-input-3msd1_",name:"filterOptionQuery",placeholder:(0,Ce.Z)("Filter {filterTitle}",{filterTitle:t.title}),value:o,onChange:u}):null),g.createElement(tc.Z,null)),n.length?g.createElement(Be,{className:"DirectoryListFilterMenu-filterOptionsScroller-2MI_Hh DirectoryListFilterMenu-menuScroller-3XYxmO Scroller-scroller-3Rbtv0",autoScroll:!0},c?g.createElement(Up.Z,{key:c.key,isSelected:!0,to:Zv({key:hZ(e,mZ(r,t))}),className:gZ,onPress:d},c.title):null,n.map((n=>{if(n===c||!n.title.toLowerCase().includes(o.toLowerCase()))return null;const i=pZ(r,t,n.value);return g.createElement(Up.Z,{key:n.key,className:gZ,isSelected:i,to:Zv({key:hZ(e,uZ(r,t,n.value))}),onPress:d},n.title)}))):g.createElement("div",{className:"DirectoryListFilterMenu-emptyText-1ii0cF"},(0,Ce.Z)("No options")))}function fZ({className:e,directoryKey:t,selectedPivot:n,type:r}){const[i,a]=Hn(),s=(0,v.I0)(),[o,l]=(0,g.useState)(),[c,{height:d}]=(0,Kg.Z)(),u=(0,No.Z)(),{isOpen:p,onToggle:m,onClose:h}=(0,gd.Z)(),y=null==r?void 0:r.Filter,f=(0,g.useMemo)((()=>bv(t)),[t]),b=(0,v.v9)(f),I=(0,v.v9)(dZ),S=(0,g.useMemo)((()=>o?I[o]:void 0),[o,I]),M=(0,g.useMemo)((()=>null==y?void 0:y.find((e=>e.key===o))),[o,y]),E=(0,g.useMemo)((()=>({scrollDirection:tZ.Hn})),[]),P=(0,g.useMemo)((()=>null==b?void 0:b.filterRules.find((({filter:e})=>e.filterType!==ri.H_.Boolean))),[null==b?void 0:b.filterRules]),D=(0,g.useMemo)((()=>P?I[P.filter.key]:void 0),[P,I]),C=(0,g.useMemo)((()=>null==b?void 0:b.filterRules.map((e=>{var t;const n=P&&P.filter.filter===e.filter.filter?null==(t=I[P.filter.key])?void 0:t.options.find((e=>e.value===(null==P?void 0:P.value))):void 0;return n&&n.field===(null==P?void 0:P.filter.filter)?n.title:e.filter.title})).join(", ")),[null==b?void 0:b.filterRules,I,P]),w=!!(0,Pn.Z)(a,$t.zW.QueryParser),Z=(0,g.useMemo)((()=>r?sC(t,r):t),[r,t]),T=(0,g.useCallback)((e=>{s(Jv.actions.fetchFilterOptionsRequested({server:i,provider:a,filter:e}))}),[s,a,i]),N=(0,g.useCallback)((e=>{l(e.key),T(e)}),[T]),O=(0,g.useCallback)((()=>{l(void 0)}),[]),A=(0,g.useCallback)((()=>{h()}),[h]);if((0,g.useEffect)((()=>{!P||(null==D?void 0:D.isPopulated)||(null==D?void 0:D.isPending)||T(P.filter)}),[D,T,P]),!r||!y||!b)return null;const{strippedKey:x,filterRules:j}=b;return g.createElement(g.Fragment,null,g.createElement(lZ,{className:e,id:u,direction:p?ME.Up:ME.Down,onPress:m},C||(0,Ce.Z)("All")),g.createElement(Xl.Z,{target:u,isOpen:p,size:Rp.ln,scrollerProps:E,onMenuClose:A},g.createElement("div",{className:"DirectoryListFilterMenu-measureContainer-1_X2tC",ref:c},(null==S?void 0:S.isPopulated)&&M?g.createElement(vZ,{height:d,directoryKey:x,selectedFilter:M,activeFilterRules:j,filterOptions:S.options,onFilterDeselect:O,onMenuClose:A}):g.createElement(yZ,{typeKey:r.key,directoryKey:x,pendingFilterKey:(null==S?void 0:S.isPending)?o:void 0,filters:y,activeFilterRules:j,isAdvancedFiltersVisible:w&&!!n,advancedFiltersKey:Z,onClose:A,onFilterSelect:N}))))}function bZ({className:e,directoryKey:t,sorts:n}){const r=(0,No.Z)(),{isOpen:i,onToggle:a,onClose:s}=(0,gd.Z)(),o=FD(n),l=Tv(s);return!n||!o||n.length<2?null:g.createElement(g.Fragment,null,g.createElement(lZ,{className:e,id:r,direction:i?ME.Up:ME.Down,onPress:a},(0,Ce.Z)("By {sortTitle}",{sortTitle:o.title})),g.createElement(Xl.Z,{target:r,isOpen:i,onMenuClose:s},n.map((e=>g.createElement(Up.Z,{key:e.key,to:Zv({key:E.Z.join(t,{sort:PE(e)},{parseParams:!0})}),isSelected:e.active,iconComponent:e.activeDirection===ri.Sr.Ascending?xM.Z:jM.Z,onPress:l},e.title)))))}function IZ({className:e,activeType:t,types:n,advancedFilters:r,directoryKey:i}){const a=(0,No.Z)(),{isOpen:s,onToggle:o,onClose:l}=(0,gd.Z)(),c=Tv(l);return!n||!t||n.length<2?null:g.createElement(g.Fragment,null,g.createElement(lZ,{className:e,id:a,direction:s?ME.Up:ME.Down,onPress:o},t.title),g.createElement(Xl.Z,{target:a,isOpen:s,onMenuClose:l},n.map((e=>{const n=(0,_h.Z)(e.type);return g.createElement(Up.Z,{key:e.key,to:e.type===En.U.Folder?Zv({key:e.key,advancedFilters:void 0}):Zv({key:r&&n?i.replace(/type=\w+/,`type=${bp(n)}`):e.key}),isSelected:t===e&&e.active,onPress:c},e.title)}))))}var SZ=n(63312);const MZ=(0,fe.P1)(fv,(e=>e?FD(e.Sort):void 0)),EZ=function({className:e="PageHeaderLeftGutter-container-2DnCMp",innerClassName:t="PageHeaderLeftGutter-innerContainer-1aV7NA",children:n}){return g.createElement("div",{className:e},g.createElement("div",{className:t},n))};function PZ(e){var t=e["aria-label"],n=e.className,r=e.style,i={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-close-560"};i["aria-hidden"]=!t,i.style=r,i.className=oa.Z.plexIcon+(n?" "+n:"");var a=[g.createElement.apply(g,["path",{d:"M280,0C434.536,0 560,125.464 560,280C560,434.536 434.536,560 280,560C125.464,560 0,434.536 0,280C0,125.464 125.464,0 280,0ZM435.563,171.005L388.995,124.437L280,233.431L171.005,124.437L124.436,171.005L233.431,280L124.436,388.995L171.005,435.564L280,326.569L388.995,435.564L435.564,388.995L326.569,280L435.563,171.005Z"}].concat([]))];return t&&a.unshift(g.createElement("title",null,t)),g.createElement.apply(g,["svg",i].concat(a))}PZ.propTypes={"aria-label":sa().string,className:sa().string,style:sa().object};const DZ=PZ;function CZ({className:e="DirectoryToolbarClearFiltersButton-gutter-1YruUb PageHeaderLeftGutter-container-2DnCMp",buttonClassName:t="DirectoryToolbarClearFiltersButton-resetButton-1ZlgES ToolbarButton-toolbarButton-APIhWk",advancedFilters:n}){const{containerKey:r}=Or(),i=(0,g.useMemo)((()=>bv(r)),[r]),a=(0,v.v9)(i),s=(0,v.v9)(fv),o=(0,v.v9)(MZ),l=Tv();return(null==a?void 0:a.filterRules.length)||n?g.createElement(EZ,{className:e},g.createElement(SZ.Z,{className:t,tooltip:(0,Ce.Z)("Clear Filter"),to:Zv({key:s?E.Z.join(s.key,o?{sort:o.activeDirection===ri.Sr.Ascending?o.key:o.descKey}:{},{parseParams:!0}):"",advancedFilters:void 0}),onPress:l},g.createElement(DZ,null))):null}function wZ({className:e,children:t}){return g.createElement("div",{className:e},t)}wZ.defaultProps={className:"PageHeaderLeft-pageHeaderLeft-3u7DxT"};const ZZ=wZ;var TZ=n(12813);const NZ="DirectoryListToolbar-disclosureArrowLink-1gGPVi DisclosureArrowLink-disclosureArrowLink-3joxcC Link-link-2WGTd7";function OZ({className:e="DirectoryListToolbar-pageHeader-1VevdA PageHeader-pageHeader-WpvbJc",directoryKey:t,meta:n,activeType:r,selectedPivot:i,advancedFilters:a,totalSize:s}){var o,l,c,d,u,p;const[m,h]=Hn(),{listStyle:y}=Or(),v=(0,g.useMemo)((()=>function({server:e,provider:t,activeType:n}){const r=n?nP[n.type]:void 0;return r?r.reduce(((r,i)=>{const a=sP[i];return r[i]=!!(e&&t&&n)&&a({server:e,provider:t,activeType:n}),r}),{}):{}}({server:m,provider:h,activeType:r})),[r,h,m]),f=(0,g.useMemo)((()=>(0,av.su)(v).some((e=>e))),[v]),b=null!=(l=null==(o=null==n?void 0:n.Type)?void 0:o.length)?l:0,I=null!=(d=null==(c=null==r?void 0:r.Filter)?void 0:c.length)?d:0,S=null!=(p=null==(u=null==r?void 0:r.Sort)?void 0:u.length)?p:0;return!n||b<=1&&I<1&&S<=1?null:g.createElement(Vf,{className:e},g.createElement(ZZ,null,g.createElement(CZ,{advancedFilters:a}),a?g.createElement("span",{className:"DirectoryListToolbar-infoText-R7nr1m"},(0,Ce.Z)("Advanced Filters")):g.createElement(fZ,{className:NZ,directoryKey:t,selectedPivot:i,type:r}),g.createElement(IZ,{className:NZ,activeType:r,types:null==n?void 0:n.Type,directoryKey:t,advancedFilters:a}),y!==En.n.Table?g.createElement(bZ,{className:NZ,directoryKey:t,sorts:null==r?void 0:r.Sort}):null,null!=s?g.createElement(rC.Z,null,s):null),f?g.createElement(TZ.Z,null,g.createElement(eZ,{activeType:r,selectedPivot:i,listActions:v,totalSize:s,directoryKey:t,advancedFilters:a})):null)}const AZ=ra("savedDirectoryListKeys"),xZ=(0,Dn.Z)((function(e,t,n){return(0,fe.P1)(AZ,(r=>{const i=n?(0,yn.Z)({serverIdentifier:e,providerIdentifier:t,key:n}):void 0;return i?r[i]:void 0}))}));var jZ=Object.defineProperty,LZ=Object.prototype.hasOwnProperty,kZ=Object.getOwnPropertySymbols,RZ=Object.prototype.propertyIsEnumerable,zZ=(e,t,n)=>t in e?jZ(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,UZ=(e,t)=>{for(var n in t||(t={}))LZ.call(t,n)&&zZ(e,n,t[n]);if(kZ)for(var n of kZ(t))RZ.call(t,n)&&zZ(e,n,t[n]);return e};const VZ=function(e){return(0,fe.P1)(vv,(t=>{const n=t?(0,gv.Z)(t):void 0;if(!n||!e)return[En.n.Grid];if(function(e){const{providerIdentifier:t}=(0,wr.Z)(e);return Fo.wB(t,[Fo.Ll,Fo.vP])}(e))return[En.n.Grid];if(n.type===En.U.Folder)return[En.n.Folder];switch(n.subtype){case ni.y_.Webshow:switch(n.type){case En.U.Show:case En.U.Episode:return[En.n.Grid]}break;case ni.y_.Podcast:switch(n.type){case En.U.Show:case En.U.Track:return[En.n.Grid]}}switch(n.type){case En.U.Movie:case En.U.Show:case En.U.Album:case En.U.Episode:return[En.n.Grid,En.n.Details,En.n.Table];case En.U.Artist:case En.U.Season:return[En.n.Grid,En.n.Table];case En.U.Track:return[n.Sort?En.n.Table:En.n.Grid];default:return[En.n.Grid]}}))},BZ=function(e){return(0,fe.P1)(ra("directoryListStyles"),VZ(e),((t,n)=>{if(!e||!n.length)return;const r=t[e];return r&&n.includes(r)?r:n[0]}))},FZ=(0,Dn.Z)((function(e){return(0,fe.P1)(MZ,bv(e),((e,t)=>t&&(null==e?void 0:e.firstCharacterKey)?E.Z.join(hZ(e.firstCharacterKey,t.filterRules),{sort:e.activeDirection===ri.Sr.Ascending?e.key:e.descKey,includeCollections:1,includeExternalMedia:1},{parseParams:!0}):void 0))}));var _Z=Object.defineProperty,HZ=Object.prototype.hasOwnProperty,QZ=Object.getOwnPropertySymbols,GZ=Object.prototype.propertyIsEnumerable,WZ=(e,t,n)=>t in e?_Z(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,YZ=(e,t)=>{for(var n in t||(t={}))HZ.call(t,n)&&WZ(e,n,t[n]);if(QZ)for(var n of QZ(t))GZ.call(t,n)&&WZ(e,n,t[n]);return e};function KZ({directorySourceURI:e,directoryKey:t,selectedPivot:n,listStyle:r}){var i,a,s;const o=(0,v.I0)(),[l,c]=Hn(),d=Gn(),u=qi.Z.parseBoolean(d.advancedFilters),[p,{height:m}]=(0,Kg.Z)(),{meta:h,metadataListSourceURI:y,directorySourceURI:f,firstCharacters:b}=(0,v.v9)(yv),I=h?(0,gv.Z)(h):void 0,S=null!=(i=null==I?void 0:I.type)?i:En.U.Mixed,M=null==I?void 0:I.subtype,P=function({machineIdentifier:e,providerIdentifier:t,directoryKey:n,selectedPivot:r}){const i=(0,v.v9)(xZ(e,t,null==r?void 0:r.key));return n||(null!=i?i:null==r?void 0:r.key)}({machineIdentifier:l.machineIdentifier,providerIdentifier:null!=(a=c.providerIdentifier)?a:c.identifier,directoryKey:t,selectedPivot:n}),D=(0,g.useMemo)((()=>P?E.Z.join(P,{includeCollections:1,includeExternalMedia:1}):void 0),[P]),C=(0,g.useMemo)((()=>(0,yn.Z)({serverIdentifier:l.machineIdentifier,providerIdentifier:c.providerIdentifier,key:D})),[D,c.providerIdentifier,l.machineIdentifier]),w=(0,g.useMemo)((()=>Ip(C)),[C]),Z=(0,v.v9)(w),T=(0,v.v9)(FZ(D)),[N,O]=(0,g.useState)(),A=(0,g.useMemo)((()=>BZ(f)),[f]),x=(0,v.v9)(A),j=null!=r?r:x,L=(0,v.v9)(hf),k=null!=T&&!(null==b?void 0:b.isPopulated)&&!(null==b?void 0:b.error)||!(null==Z?void 0:Z.isPopulated)&&!(null==Z?void 0:Z.error),R=(0,Mb.Z)(k,!0,250),z=(0,g.useCallback)((e=>{y&&o(xr.Z.actions.fetchRangeRequested(YZ(YZ({},e),{server:l,provider:c,sourceURI:y})))}),[o,l,c,y]),U=(0,g.useCallback)((()=>{y&&o(xr.Z.actions.repopulateRangeRequested({server:l,provider:c,sourceURI:y}))}),[o,y,c,l]),V=(0,g.useCallback)((e=>{O(e)}),[]);if($d({},!!(null==Z?void 0:Z.isPopulated)),Xv(U),function({machineIdentifier:e,providerIdentifier:t,directoryKey:n,meta:r,activeType:i,selectedPivot:a,metadataList:s,advancedFilters:o}){const l=(0,v.I0)(),c=(0,v.v9)(AZ),d=(0,v.v9)(xZ(e,t,null==a?void 0:a.key)),u=(null==a?void 0:a.key)?(0,yn.Z)({serverIdentifier:e,providerIdentifier:t,key:null==a?void 0:a.key}):void 0;(0,g.useEffect)((()=>{!(u&&n&&a&&a.type===$t.F6.List&&d!==n)||a.key===n&&null==d||!(null==s?void 0:s.isPopulated)||(null==r?void 0:r.Pivot)||(null==i?void 0:i.type)===En.U.Folder&&(null==i?void 0:i.key)!==n||o||l((0,AM.LN)({savedDirectoryListKeys:UZ(UZ({},c),{[u]:n})}))}),[null==s?void 0:s.isPopulated,n,l,u,d,c,a,null==r?void 0:r.Pivot,null==i?void 0:i.type,null==i?void 0:i.key,o])}({machineIdentifier:l.machineIdentifier,providerIdentifier:null!=(s=c.providerIdentifier)?s:c.identifier,directoryKey:P,meta:h,activeType:I,selectedPivot:n,metadataList:Z,advancedFilters:u}),(0,g.useEffect)((()=>{(0,fn.c9)((()=>{o(Jv.actions.resetMeta())}))}),[o,e]),(0,g.useEffect)((()=>(D&&(0,fn.c9)((()=>{o(Jv.actions.initializeListRequested({server:l,provider:c,sourceURI:C,metadataListSourceURI:y,directorySourceURI:e}))})),()=>{(0,fn.c9)((()=>{y&&o(xr.Z.actions.reset({sourceURI:y}))}))})),[o,D,y,e,C]),(0,g.useEffect)((()=>{T&&null!=(null==Z?void 0:Z.totalSize)&&o(Jv.actions.fetchFirstCharactersRequested({server:l,provider:c,key:T}))}),[o,l,c,T,null==Z?void 0:Z.totalSize]),(0,g.useEffect)((()=>{null!=N&&O(void 0)}),[N]),!P)return g.createElement(Cr,null);if(null==Z?void 0:Z.error){const{status:e}=Z.error;return 404===e?g.createElement(Cr,null):406===e?g.createElement(nC,{pivot:n}):g.createElement(tt,null)}return f!==e?g.createElement(Ye,null,g.createElement(lt,null)):g.createElement(Ar,{containerServer:l,containerProvider:c,containerSourceURI:C,containerType:S,containerSubtype:M,containerMeta:h,containerKey:D,listStyle:j},L?g.createElement(rb,null):g.createElement(OZ,{totalSize:null==Z?void 0:Z.totalSize,meta:h,directoryKey:P,activeType:I,selectedPivot:n,advancedFilters:u}),g.createElement(mb,{serverEntityID:l.entityID,providerEntityID:c.entityID}),u&&h?g.createElement(BD,{meta:h,directoryKey:P,totalSize:null==Z?void 0:Z.totalSize}):null,null==(null==Z?void 0:Z.totalSize)||R?g.createElement(Ye,null,g.createElement(lt,null)):g.createElement("div",{className:"DirectoryListPageContent-listContainer-1Xi5ny",ref:p},m?g.createElement(g.Fragment,null,0===Z.totalSize?g.createElement(xv,{directoryKey:P,selectedPivot:n}):g.createElement(QE,{className:"DirectoryListPageContent-pageContentScroller-2zymKo PageContent-pageContentScroller-18TqCp Scroller-scroller-3Rbtv0",listType:S,subtype:M,activeType:I,items:Z.items,totalSize:Z.totalSize,scrollerKey:"DirectoryListPage",targetScrollIndex:N,onPageRequest:z})):null,I&&m&&null!=Z.totalSize?g.createElement(JD,{activeType:I,viewportHeight:m,listTotalSize:Z.totalSize,onFirstCharacterScroll:V}):null))}var qZ=n(21508);function $Z(e){var t=e["aria-label"],n=e.className,r=e.style,i={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 361.506",id:"plex-icon-devices"};i["aria-hidden"]=!t,i.style=r,i.className=oa.Z.plexIcon+(n?" "+n:"");var a=[g.createElement.apply(g,["g",{stroke:"#e5a00d",strokeWidth:"2.95"}].concat([g.createElement.apply(g,["path",{d:"M429.683 360.028h-128.55c-3.944 0-7.606-1.77-10.045-4.86a12.609 12.609 0 01-2.384-10.87l12.32-50.859h128.774l12.322 50.86c.929 3.818.059 7.783-2.384 10.87a12.729 12.729 0 01-10.053 4.859zm-121.35-57.343l-10.607 43.78c-.345 1.436.263 2.484.655 2.988a3.448 3.448 0 002.753 1.328h128.55c1.483 0 2.366-.83 2.758-1.337.392-.495 1-1.543.655-2.98l-10.607-43.779z"}].concat([])),g.createElement.apply(g,["path",{d:"M304.68 302.685h-38.937c-2.566 0-4.642-2.068-4.642-4.623s2.076-4.623 4.642-4.623h38.937c2.564 0 4.641 2.068 4.641 4.623s-2.077 4.623-4.64 4.623zM541.294 302.685H426.146c-2.567 0-4.644-2.065-4.644-4.62s2.077-4.625 4.644-4.625h115.148c4.384 0 7.949-3.548 7.949-7.918v-26.599H265.929c-2.566 0-4.642-2.067-4.642-4.622 0-2.556 2.076-4.623 4.642-4.623h292.596v35.844c0 9.462-7.728 17.163-17.231 17.163z"}].concat([])),g.createElement.apply(g,["path",{d:"M553.884 258.922a4.628 4.628 0 01-4.641-4.622V18.63c0-4.361-3.565-7.91-7.949-7.91H189.53c-4.384 0-7.947 3.549-7.947 7.91v58.967c0 2.555-2.076 4.623-4.642 4.623-2.566 0-4.642-2.068-4.642-4.623V18.63c0-9.462 7.729-17.155 17.23-17.155h351.765c9.503 0 17.23 7.693 17.23 17.155V254.3a4.628 4.628 0 01-4.64 4.622zM100.935 360.028H18.04c-9.135 0-16.565-7.403-16.565-16.496v-154.33c0-9.092 7.43-16.495 16.565-16.495h82.895c9.135 0 16.565 7.403 16.565 16.495v154.33c0 9.093-7.43 16.496-16.565 16.496zM18.04 181.952c-4.017 0-7.28 3.25-7.28 7.25v154.33c0 4 3.263 7.249 7.28 7.249h82.895c4.017 0 7.281-3.249 7.281-7.25V189.203c0-4-3.264-7.25-7.28-7.25z"}].concat([])),g.createElement.apply(g,["path",{d:"M112.088 206.735H7.777c-2.566 0-4.642-2.068-4.642-4.623s2.076-4.623 4.642-4.623h104.311c2.566 0 4.642 2.068 4.642 4.623s-2.076 4.623-4.642 4.623zM112.088 323.353H7.777c-2.566 0-4.642-2.068-4.642-4.623s2.076-4.624 4.642-4.624h104.311c2.566 0 4.642 2.069 4.642 4.624 0 2.555-2.076 4.623-4.642 4.623zM67.384 194.348H55.462c-2.566 0-4.642-2.067-4.642-4.623 0-2.555 2.076-4.622 4.642-4.622h11.922c2.566 0 4.642 2.067 4.642 4.622 0 2.556-2.076 4.623-4.642 4.623zM59.488 349.359c-6.56 0-11.9-5.32-11.9-11.855 0-6.53 5.34-11.846 11.9-11.846 6.56 0 11.9 5.316 11.9 11.846 0 6.535-5.34 11.855-11.9 11.855zm0-14.458a2.611 2.611 0 00-2.616 2.603 2.618 2.618 0 002.616 2.608 2.618 2.618 0 002.616-2.608 2.611 2.611 0 00-2.616-2.603z"}].concat([])),g.createElement.apply(g,["path",{d:"M226.172 360.03h-91.097c-2.566 0-4.642-2.068-4.642-4.623s2.076-4.623 4.642-4.623h91.097c6.85 0 12.42-5.553 12.42-12.369V117.552c0-6.817-5.57-12.37-12.42-12.37H107.536c-6.846 0-12.417 5.553-12.417 12.37v40.277c0 2.555-2.076 4.623-4.642 4.623-2.566 0-4.642-2.068-4.642-4.623v-40.277c0-11.918 9.733-21.615 21.7-21.615h118.637c11.967 0 21.705 9.697 21.705 21.615v220.863c0 11.917-9.738 21.616-21.705 21.616z"}].concat([])),g.createElement.apply(g,["path",{d:"M242.129 136.557H92.848c-2.566 0-4.642-2.068-4.642-4.623s2.076-4.623 4.642-4.623h149.28c2.567 0 4.643 2.068 4.643 4.623s-2.076 4.623-4.642 4.623zM242.129 315.593h-106.46c-2.566 0-4.642-2.068-4.642-4.623s2.076-4.623 4.642-4.623h106.46c2.566 0 4.642 2.068 4.642 4.623s-2.076 4.623-4.642 4.623zM178.151 122.94h-17.059c-2.566 0-4.642-2.067-4.642-4.622 0-2.555 2.076-4.623 4.642-4.623h17.06c2.565 0 4.641 2.068 4.641 4.623s-2.076 4.623-4.642 4.623zM166.854 348.158c-8.287 0-15.028-6.715-15.028-14.968 0-8.252 6.741-14.97 15.028-14.97s15.028 6.718 15.028 14.97c0 8.253-6.741 14.968-15.028 14.968zm0-20.695c-3.169 0-5.744 2.567-5.744 5.727s2.575 5.724 5.744 5.724c3.169 0 5.744-2.564 5.744-5.724s-2.575-5.727-5.744-5.727zM380.652 30.415h-30.481a4.628 4.628 0 01-4.641-4.623 4.628 4.628 0 014.64-4.623h30.482a4.628 4.628 0 014.641 4.623 4.628 4.628 0 01-4.64 4.623z"}].concat([]))]))];return t&&a.unshift(g.createElement("title",null,t)),g.createElement.apply(g,["svg",i].concat(a))}$Z.propTypes={"aria-label":sa().string,className:sa().string,style:sa().object};const JZ=$Z;var XZ=n(54183);function eT(e){var t=e["aria-label"],n=e.className,r=e.style,i={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-parental-controls"};i["aria-hidden"]=!t,i.style=r,i.className=oa.Z.plexIcon+(n?" "+n:"");var a=[g.createElement.apply(g,["g",void 0].concat([g.createElement.apply(g,["path",{d:"M548.3 559.273H361.152c-6.456 0-11.696-5.22-11.696-11.657V407.73c0-6.435 5.24-11.657 11.696-11.657H548.3c6.457 0 11.7 5.222 11.7 11.657v139.885c0 6.437-5.243 11.657-11.7 11.657zm-175.451-23.315h163.756v-116.57H372.849z"}].concat([])),g.createElement.apply(g,["path",{d:"M454.726 512.644c-6.457 0-11.697-5.22-11.697-11.657v-34.97c0-6.435 5.24-11.657 11.697-11.657 6.457 0 11.697 5.222 11.697 11.657v34.97c0 6.438-5.24 11.657-11.697 11.657z"}].concat([])),g.createElement.apply(g,["path",{d:"M454.727 489.33c12.92 0 23.392-10.44 23.392-23.314 0-12.876-10.472-23.314-23.392-23.314s-23.394 10.438-23.394 23.314c0 12.875 10.474 23.314 23.394 23.314zM524.905 419.388c-6.457 0-11.695-5.223-11.695-11.658v-23.314c0-32.127-26.222-58.286-58.484-58.286-32.26 0-58.484 26.159-58.484 58.286v23.314c0 6.435-5.24 11.658-11.697 11.658-6.457 0-11.697-5.223-11.697-11.658v-23.314c0-44.997 36.728-81.6 81.878-81.6 45.152 0 81.879 36.603 81.879 81.6v23.314c0 6.435-5.244 11.658-11.7 11.658zM11.7 559.772c-.936 0-1.872-.114-2.831-.347-6.293-1.565-10.083-7.884-8.516-14.131l14.06-56.002c6.854-27.23 26.856-48.773 53.548-57.632l103.821-34.482c24.4-10.165 35.816-50.429 38.272-65.7-17.919-16.367-34.599-40.987-34.599-63.135 0-8.253-2.456-11.657-3.743-12.287-3.65-.91-5.708-3.217-7.112-6.691-1.286-3.194-12.539-31.778-12.539-50.965 0-.956.117-1.912.352-2.821 1.286-5.106 4.865-12.59 11.345-16.973v-61.807C163.758 68.12 208.253.228 280.727.228c71.584 0 91.048 36.58 93.317 54.672 12.141 8.93 23.65 24.34 23.65 61.9v61.806c6.48 4.383 10.084 11.844 11.347 16.973.234.932.35 1.865.35 2.82 0 19.188-11.228 47.772-12.538 50.966-1.404 3.474-4.375 6.085-8.024 6.97-.351.35-2.83 3.755-2.83 12.008 0 21.1-8.353 32.034-13.358 38.562l-1.755 2.401c-3.603 5.362-10.878 6.761-16.212 3.218-5.38-3.59-6.83-10.818-3.252-16.18.749-1.096 1.638-2.285 2.62-3.591 4.024-5.246 8.562-11.19 8.562-24.41 0-17.416 7.23-27.091 14.083-31.638 3.369-9.139 8.726-25.715 9.264-36.533-.421-.933-.959-1.866-1.333-2.192-6.457 0-10.317-4.78-10.317-11.214v-69.967c0-34.318-11.065-41.313-15.79-44.297-2.831-1.795-7.603-4.803-8.282-11.214-.163-1.376.048-2.961.491-4.546-1.637-9.233-15.673-33.2-69.993-33.2-57.104 0-93.575 55.232-93.575 93.257v69.944c0 6.434-5.24 11.657-11.697 11.657.562 0 .35.792.048 1.678.515 10.842 5.918 27.488 9.264 36.604 6.854 4.57 14.083 14.222 14.083 31.638 0 15.69 15.51 36.673 30.833 49.31a11.633 11.633 0 014.257 8.975c0 14.805-13.498 75.539-53.992 92.349L75.33 453.739c-19.065 6.318-33.383 21.729-38.249 41.172l-14.06 56.002c-1.286 5.339-6.058 8.86-11.322 8.86z"}].concat([]))]))];return t&&a.unshift(g.createElement("title",null,t)),g.createElement.apply(g,["svg",i].concat(a))}eT.propTypes={"aria-label":sa().string,className:sa().string,style:sa().object};const tT=eT,nT="PlexAccountUpsellPageContent-panel-3idWPQ",rT="PlexAccountUpsellPageContent-panelIcon-1ZltNO",iT="PlexAccountUpsellPageContent-panelTitle-2ILDzh",aT="PlexAccountUpsellPageContent-panelDescription-TBgJjR";function sT(){return g.createElement(Ye,{title:(0,Ce.Z)("Sign up for a free account to continue"),description:(0,Ce.Z)("Some benefits to a Plex account:")},g.createElement("div",{className:"PlexAccountUpsellPageContent-container-1kAyuo"},g.createElement("div",{className:nT},g.createElement(JZ,{className:rT}),g.createElement("div",{className:iT},(0,Ce.Z)("One App, Any Device")),g.createElement("div",{className:aT},(0,Ce.Z)("Pick up whatever you were watching exactly where you left off on any device"))),g.createElement("div",{className:nT},g.createElement(XZ.Z,{className:rT}),g.createElement("div",{className:iT},(0,Ce.Z)("Save Your Favorites")),g.createElement("div",{className:aT},(0,Ce.Z)("Save your favorite Podcasts and Web Shows. Add a TIDAL subscription to save your favorite music and playlists"))),g.createElement("div",{className:nT},g.createElement(tT,{className:rT}),g.createElement("div",{className:iT},(0,Ce.Z)("Parental Controls")),g.createElement("div",{className:aT},(0,Ce.Z)("Enable parental controls to keep things kid-friendly, or create separate accounts for your childish roommates")))),g.createElement(qZ.Z,null,g.createElement(Dr,{to:"#!/signUp",kind:or.Primary,size:st.Large},(0,Ce.Z)("Sign Up"))))}function oT({className:e}){const t=(0,v.I0)(),n=(0,v.v9)(ra("columnWidthMultiplier")),[r,i]=(0,g.useState)(n),a=(0,g.useCallback)((({positionValue:e})=>{i(e)}),[]);return(0,g.useEffect)((()=>{const e=Math.round(10*r)/10;let i;return r!==n&&(i=window.setTimeout((()=>{t((0,AM.LN)({columnWidthMultiplier:e}))}),100)),()=>window.clearTimeout(i)}),[n,t,r]),g.createElement(Es.Z,{className:e,label:(0,Ce.Z)("Poster Size"),value:r,min:1,max:2,onChange:a})}function lT(e){var t=e["aria-label"],n=e.className,r=e.style,i={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-toolbar-column-560"};i["aria-hidden"]=!t,i.style=r,i.className=oa.Z.plexIcon+(n?" "+n:"");var a=[g.createElement.apply(g,["path",{d:"m504 504h-448v-44.8h448v44.8m-448-156.8h448v44.8h-448v-44.8m448-112v44.8h-448v-44.8h448m0-67.2h-448v-112h448v112"}].concat([]))];return t&&a.unshift(g.createElement("title",null,t)),g.createElement.apply(g,["svg",i].concat(a))}lT.propTypes={"aria-label":sa().string,className:sa().string,style:sa().object};const cT=lT;function dT(e){var t=e["aria-label"],n=e.className,r=e.style,i={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-toolbar-detail-560"};i["aria-hidden"]=!t,i.style=r,i.className=oa.Z.plexIcon+(n?" "+n:"");var a=[g.createElement.apply(g,["path",{d:"m56 168h112v-112h-112v112m0 168h112v-112h-112v112m0 168h112v-112h-112v112m168-369.6h280v-44.8h-280v44.8m0 168h280v-44.8h-280v44.8m0 168h280v-44.8h-280v44.8"}].concat([]))];return t&&a.unshift(g.createElement("title",null,t)),g.createElement.apply(g,["svg",i].concat(a))}dT.propTypes={"aria-label":sa().string,className:sa().string,style:sa().object};const uT=dT;function pT(e){var t=e["aria-label"],n=e.className,r=e.style,i={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-toolbar-grid-560"};i["aria-hidden"]=!t,i.style=r,i.className=oa.Z.plexIcon+(n?" "+n:"");var a=[g.createElement.apply(g,["path",{d:"m56 392l112 0 0 112-112 0 0-112m168 0l112 0 0 112-112 0 0-112m280 0l0 112-112 0 0-112 112 0m-448-168l112 0 0 112-112 0 0-112m168 0l112 0 0 112-112 0 0-112m168 0l112 0 0 112-112 0 0-112m-336-168l112 0 0 112-112 0 0-112m336 0l112 0 0 112-112 0 0-112m-168 0l112 0 0 112-112 0 0-112"}].concat([]))];return t&&a.unshift(g.createElement("title",null,t)),g.createElement.apply(g,["svg",i].concat(a))}pT.propTypes={"aria-label":sa().string,className:sa().string,style:sa().object};const mT=pT;function hT({listStyles:e,selectedListStyle:t,onListStyleSelect:n}){const r=(0,gd.Z)(),i=(0,No.Z)(),a=(0,g.useCallback)((e=>{r.onClose(),null==n||n(e)}),[r,n]),s=e.length>1,o=t===En.n.Grid||t===En.n.PrePlayGrid,l=function(e){switch(e){case En.n.Details:case En.n.SimpleDetails:return uT;case En.n.Table:return cT;default:return mT}}(t);return o||s?g.createElement("div",{className:"MetadataListStylesMenu-stylesContainer-1jthk5"},o?g.createElement(oT,{className:"MetadataListStylesMenu-slider-1f0EqT Slider-slider-4zRCDI"}):null,g.createElement(vr,{id:i,"data-qa-id":"toolbarView",className:s?"MetadataListStylesMenu-stylesButtonWithArrow-BSNHYE MetadataListStylesMenu-stylesButton-ABbKB6 Link-link-2WGTd7":"MetadataListStylesMenu-stylesButton-ABbKB6 Link-link-2WGTd7","aria-label":(0,Ce.Z)("Show List Styles"),isDisabled:!s,onPress:r.onToggle},g.createElement(l,{className:"MetadataListStylesMenu-stylesIcon-1xPPD0"}),s?g.createElement(Lp.Z,{direction:r.isOpen?kp.UP:kp.WV}):null),s?g.createElement(Xl.Z,{target:i,isOpen:r.isOpen,onMenuClose:r.onClose},e.map((e=>{const n=function(e){switch(e){case En.n.Grid:case En.n.PrePlayGrid:return(0,Ce.Z)("Grid View");case En.n.Details:case En.n.SimpleDetails:return(0,Ce.Z)("Detail View");case En.n.Table:return(0,Ce.Z)("Table View");default:return}}(e);return n?g.createElement(Up.Z,{key:e,isSelected:t===e,title:n,value:e,onSelect:a},n):null}))):null):null}var gT=n(98862),yT=n(83154),vT=n(36600),fT=n(58605);function bT(e){const{sourceType:t,sourceServer:n,sourceProvider:r,sourceDirectory:i}=e,a={key:(0,vT.Z)(t,n.machineIdentifier,r.identifier,i.id),sourceType:t,serverEntityID:n.entityID,machineIdentifier:n.machineIdentifier,providerEntityID:r.entityID,providerIdentifier:r.identifier,providerMetricsIdentifier:r.metricsIdentifier,directoryID:i.id,directoryIcon:i.icon,title:i.title,serverFriendlyName:n.friendlyName,serverSourceTitle:n.sourceTitle,providerSourceTitle:r.sourceTitle,isLocal:n.isConnected&&n.activeConnection&&n.activeConnection.isPrivate,isUnavailable:n.isUnavailable,isOutOfDate:n.isOutOfDate,isUnclaimedServer:n.isConnected&&!n.isClaimed&&!n.isCloud,isFullOwnedServer:n.isFullOwnedServer,isProviderReady:r.isPopulated||null!=r.error||n.isUnavailable||n.isUnauthorized};return n.isCloud?a.isCloud=!0:t===fT.Hs&&(a.title=(0,Ce.Z)("Live TV & DVR")),a}var IT=n(94716);function ST(e){const{friendlyName:t,isShared:n}=e;return n?t:void 0}function MT(e){const{friendlyName:t,sourceTitle:n,isShared:r}=e;return r?n:t}const ET=function(e){const{title:t,detail:n,route:r}=e,i=r?pw.Z:"div";return g.createElement(i,{className:r?"PageHeaderTitle-containerWithRoute-1OvXqE PageHeaderTitle-container-2mZs40":"PageHeaderTitle-container-2mZs40",to:r},g.createElement("div",{className:"PageHeaderTitle-title-2aM_Ao"},t),n?g.createElement("div",{className:"PageHeaderTitle-detail-Kgq3Y6"},n):null)};var PT=Object.defineProperty,DT=Object.prototype.hasOwnProperty,CT=Object.getOwnPropertySymbols,wT=Object.prototype.propertyIsEnumerable,ZT=(e,t,n)=>t in e?PT(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;class TT extends g.Component{shouldComponentUpdate(e,t){return(0,At.Z)(this,e,t)}render(){const e=this.props,{children:t,iconComponent:n,label:r,isMenuOpen:i}=e,a=((e,t)=>{var n={};for(var r in e)DT.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&CT)for(var r of CT(e))t.indexOf(r)<0&&wT.call(e,r)&&(n[r]=e[r]);return n})(e,["children","iconComponent","label","isMenuOpen"]);return g.createElement(SZ.Z,((e,t)=>{for(var n in t||(t={}))DT.call(t,n)&&ZT(e,n,t[n]);if(CT)for(var n of CT(t))wT.call(t,n)&&ZT(e,n,t[n]);return e})({"aria-haspopup":!0,"data-qa-id":"toolbarMore",tooltip:i?void 0:r,hideOnPress:!1},a),g.createElement(n,null),t)}}const NT=TT;var OT=n(77909),AT=n(77414);const xT=function(){return(0,fe.P1)((0,OT.Z)(),(0,AT.Z)(),((e,t)=>e?S().find(t,(t=>t.type===gl.JW&&t.Context.identifier===e.identifier)):null))};var jT=n(88413),LT=n(74995);const kT=(0,fe.P1)(na.Z,(e=>e.sidebarSettings)),RT=(0,fe.P1)(kT,(e=>e.pinnedSources)),zT=sa().shape({key:sa().string,directoryID:sa().string,directoryIcon:sa().string,sourceType:sa().string,title:sa().string,titleDetail:sa().string,detail:sa().string,route:sa().string,machineIdentifier:sa().string,providerIdentifier:sa().string,providerMetricsIdentifier:sa().string,isUnavailable:sa().bool,isOutOfDate:sa().bool,isUnclaimedServer:sa().bool,isSelected:sa().bool,isCloud:sa().bool});var UT=n(59194),VT=n(3265),BT=n(12634),FT=n(9947);const _T=BT.Z.extend({name:"DVRCollection",context:["server"],model:FT.Z,url:"/livetv/dvrs"});var HT=n(75557),QT=n(517);const GT="ui/dvrSettings/initDVRSettingsUI",WT="ui/dvrSettings/clearDVRSettingsUI",YT="ui/dvrSettings/fetchDVRs",KT="ui/dvrSettings/removeDVR",qT="ui/dvrSettings/reloadGuide",$T="ui/dvrSettings/cancelReloadGuide",JT=(0,bc.Z)(GT),XT=(0,bc.Z)(WT),eN=(0,bc.Z)(YT),tN=(0,bc.Z)(KT),nN=(0,bc.Z)(qT),rN=(0,bc.Z)($T);function iN(e){return e.get("ui").get("dvrSettingsUI")}function aN(e,t,n){const r=(0,QT.SW)(e,t),i=E.Z.join(["/livetv/dvrs",t.dvrID,"reloadGuide"]),a=r.getXHROptions(i,{method:n});h().ajax(a)}const sN=(0,VT.Z)({[YT]:(0,cC.Z)({key:"dvrs",getModel:iN}),[GT](e,t,n){const r=iN(e),i=r.get("dvrSetup"),a=r.get("dvr"),s=(0,QT.SW)(e,t),o=s.get("machineIdentifier"),l={isUIPopulated:!0};a&&a.server.get("machineIdentifier")===o||(l.dvrs=new _T([],{server:s})),i&&i.server.get("machineIdentifier")===o?i.restoreDefaults():l.dvrSetup=new HT.Z({},{server:s}),r.set(l),(s.hasOwnerFeature("dvr")||s.hasOwnerFeature("livetv"))&&n(eN(t))},[WT](e){iN(e).set("isUIPopulated",!1)},[KT](e,t,n){const r=iN(e).get("dvrs").get(t.dvrID);r&&r.destroy().fail((()=>n((0,ZC.wp)((0,Ce.Z)("There was a problem removing your DVR")))))},[qT](e,t,n){aN(e,t,"POST")},[$T](e,t,n){aN(e,t,"DELETE")}});var oN=n(43666);const lN={input:"Checkbox-input-3E0Vit",small:"Checkbox-small-3XhYNK",medium:"Checkbox-medium-zbYH2W",large:"Checkbox-large-1FadBK",isDisabled:"Checkbox-isDisabled-2ESZNg",hasError:"Checkbox-hasError-1Ijp7A"};var cN=Object.defineProperty,dN=Object.prototype.hasOwnProperty,uN=Object.getOwnPropertySymbols,pN=Object.prototype.propertyIsEnumerable,mN=(e,t,n)=>t in e?cN(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,hN=(e,t)=>{for(var n in t||(t={}))dN.call(t,n)&&mN(e,n,t[n]);if(uN)for(var n of uN(t))pN.call(t,n)&&mN(e,n,t[n]);return e};function gN(e){var t=e,{forwardedRef:n,className:r=lN.input,errorClassName:i=lN.hasError,disabledClassName:a=lN.isDisabled,isDisabled:s=!1,hasError:o=!1,name:l,size:c=st.Medium}=t,d=((e,t)=>{var n={};for(var r in e)dN.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&uN)for(var r of uN(e))t.indexOf(r)<0&&pN.call(e,r)&&(n[r]=e[r]);return n})(t,["forwardedRef","className","errorClassName","disabledClassName","isDisabled","hasError","name","size"]);return g.createElement("input",hN({className:Te()(r,lN[c],s&&a,o&&i),type:"checkbox",id:l,name:l,disabled:s,ref:n},d))}const yN=g.forwardRef(((e,t)=>g.createElement(gN,hN(hN({},e),{forwardedRef:t})))),vN={isImporting:!1,isImported:!1,importError:null},fN=(0,lo.oM)({name:"importPlaylists",initialState:vN,reducers:{reset:()=>vN,importRequested(e,t){e.isImporting=!0,e.importError=null},importSucceeded(e,t){e.isImporting=!1,e.isImported=!0},importFailed(e,{payload:t}){e.isImporting=!1,e.importError=t.error}}}),bN=(0,fe.P1)(fo,(e=>e.importPlaylists)),IN={description:"ImportPlaylistsModal-description-11yZg-",row:"ImportPlaylistsModal-row-241jHh",overwrite:"ImportPlaylistsModal-overwrite-2WODB8",library:"ImportPlaylistsModal-library-1dL7tw",buttonBar:"ImportPlaylistsModal-buttonBar-2HTlSZ ModalFooterButtonBar-buttonBar-UJWGIc"};function SN({isOpen:e,onModalClose:t}){var n;const[r,i]=Hn(),a=(0,v.I0)(),{isImporting:s,isImported:o,importError:l}=(0,v.v9)(bN),c=(0,Pn.Z)(i,$t.zW.Content),d=(null!=(n=null==c?void 0:c.directories)?n:[]).filter((e=>e.type===ni.pG.Artist)).map((({id:e,title:t})=>({value:e,label:t}))),{register:u,handleSubmit:p}=(0,Sd.cI)({defaultValues:{importAll:!1,sectionID:null==d?void 0:d[0].value}}),m=p((({importAll:e,sectionID:t})=>{if(!d.length)return;const n=null!=t?t:d[0].value;a(fN.actions.importRequested({server:r,importAll:e,sectionID:n}))}));return(0,g.useEffect)((()=>{o&&t()}),[a,o,t]),(0,g.useEffect)((()=>{e||a(fN.actions.reset())}),[a,e]),g.createElement(lu,{size:st.Small,isOpen:e,onModalClose:t},g.createElement(du,{onModalClose:t},g.createElement(mu,null,(0,Ce.Z)("Import from iTunes")),l?g.createElement(uu,{message:(0,Ce.Z)("Something went wrong. Make sure the server is available and try again.")}):null,g.createElement("form",{onSubmit:m},g.createElement(cm,null,g.createElement("div",{className:IN.description},(0,Ce.Z)("Importing from iTunes will import your music playlists. It will also import your ratings, the date you added the music, as well as play and skip counts for tracks in your library. Depending on how many tracks you have, this process can take many minutes to complete.")),g.createElement("label",{className:IN.row},g.createElement(yN,{name:"importAll",ref:u}),g.createElement("span",{className:IN.overwrite},(0,Ce.Z)("Overwrite existing playlists"))),d.length>1?g.createElement("label",{className:IN.row},g.createElement("span",{className:IN.library},(0,Ce.Z)("Add to library:")),g.createElement(tm,{name:"sectionID",ref:u},d.map((({value:e,label:t},n)=>g.createElement("option",{key:n,value:e},t))))):null),g.createElement(pu,null,g.createElement(dm,{className:IN.buttonBar},g.createElement(Dr,{onPress:t},(0,Ce.Z)("Cancel")),g.createElement(Zd,{className:IN.button,isSpinning:s,type:"submit",kind:or.Primary},(0,Ce.Z)("Import")))))))}var MN=Object.defineProperty,EN=Object.prototype.hasOwnProperty,PN=Object.getOwnPropertySymbols,DN=Object.prototype.propertyIsEnumerable,CN=(e,t,n)=>t in e?MN(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,wN=(e,t)=>{for(var n in t||(t={}))EN.call(t,n)&&CN(e,n,t[n]);if(PN)for(var n of PN(t))DN.call(t,n)&&CN(e,n,t[n]);return e};const ZN=function(e){return g.createElement(yt.Z,wN(wN({},e),{containerClassName:"SourceSidebarConfirmModal-modalContainer-1ZZ1B3 Modal-modalContainer-3UE-IC"}))};var TN=Object.defineProperty,NN=Object.prototype.hasOwnProperty,ON=Object.getOwnPropertySymbols,AN=Object.prototype.propertyIsEnumerable,xN=(e,t,n)=>t in e?TN(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,jN=(e,t)=>{for(var n in t||(t={}))NN.call(t,n)&&xN(e,n,t[n]);if(ON)for(var n of ON(t))AN.call(t,n)&&xN(e,n,t[n]);return e};const LN=function(e){return g.createElement(Xl.Z,jN(jN({},e),{portalClassName:"SourceSidebarMenu-menuPortal-34r8Zw Menu-menuPortal-15ejz7"}))};var kN=Object.defineProperty,RN=Object.prototype.hasOwnProperty,zN=Object.getOwnPropertySymbols,UN=Object.prototype.propertyIsEnumerable,VN=(e,t,n)=>t in e?kN(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,BN=(e,t)=>{for(var n in t||(t={}))RN.call(t,n)&&VN(e,n,t[n]);if(zN)for(var n of zN(t))UN.call(t,n)&&VN(e,n,t[n]);return e};function FN(e){const{sourceDirectory:t,hasPlexMusicUpgrade:n,hasPlexMovieUpgrade:r,hasPlexSeriesUpgrade:i,isUnavailable:a,onMenuClose:s,onCancelScanLibraryPress:o,onScanLibraryPress:l,onSharePress:c,onEditLibraryPress:d,onRefreshAllLibraryMetadataPress:u,onEmptyLibraryTrashPress:p,onAnalyzeLibraryPress:m,onDeleteLibraryPress:h,onUpgradeLibraryPress:y}=e,v=a||!t;return g.createElement(g.Fragment,null,t&&t.refreshing?g.createElement(ec.Z,{onPress:(0,rc.Z)(s,o)},(0,Ce.Z)("Cancel Scan")):g.createElement(ec.Z,{isDisabled:v,onPress:(0,rc.Z)(s,l)},(0,Ce.Z)("Scan Library Files")),g.createElement(ec.Z,{isDisabled:v,onPress:(0,rc.Z)(s,c)},(0,Ce.Z)("Share")),g.createElement(nc.Z,{label:(0,Ce.Z)("Manage Library"),isDisabled:v,onMenuClose:s},n||r||i?g.createElement(ec.Z,{isDisabled:v,onPress:(0,rc.Z)(s,y)},(0,Ce.Z)("Upgrade Matching")):null,g.createElement(ec.Z,{onPress:(0,rc.Z)(s,d)},(0,Ce.Z)("Edit...")),g.createElement(ec.Z,{onPress:(0,rc.Z)(s,u)},(0,Ce.Z)("Refresh All Metadata")),g.createElement(ec.Z,{onPress:(0,rc.Z)(s,p)},(0,Ce.Z)("Empty Trash")),g.createElement(ec.Z,{onPress:(0,rc.Z)(s,m)},(0,Ce.Z)("Analyze")),g.createElement(ec.Z,{kind:ic.T,onPress:(0,rc.Z)(s,h)},(0,Ce.Z)("Delete"))))}function _N(e){const{machineIdentifier:t,isGuideRefreshing:n,isUnavailable:r,onMenuClose:i,onCancelRefreshGuidePress:a,onRefreshGuidePress:s}=e,o=r;return g.createElement(g.Fragment,null,g.createElement(ec.Z,{to:(0,Nv.Z)(t,"manage","dvr"),isDisabled:o,onPress:i},(0,Ce.Z)("Settings")),n?g.createElement(ec.Z,{onPress:(0,rc.Z)(i,a)},(0,Ce.Z)("Cancel Refresh")):g.createElement(ec.Z,{isDisabled:o,onPress:(0,rc.Z)(i,s)},(0,Ce.Z)("Refresh Guide")))}function HN(e){const{onMenuClose:t,onImportPlaylistsPress:n}=e;return g.createElement(ec.Z,{onPress:(0,rc.Z)(t,n)},(0,Ce.Z)("Import from iTunes..."))}const QN=function(e){const{provider:t,hasProviderSettings:n,hasLibraryActions:r,hasDVRActions:i,hasPlaylistsActions:a,isPinned:s,isReorderable:o,isUnavailable:l,onMenuClose:c,onTogglePinSources:d,onReorderPinSources:u}=e;return g.createElement(g.Fragment,null,g.createElement(ec.Z,{onPress:(0,rc.Z)(c,d)},s?(0,Ce.Z)("Unpin"):(0,Ce.Z)("Pin")),o?g.createElement(ec.Z,{onPress:(0,rc.Z)(c,u)},(0,Ce.Z)("Reorder")):null,n&&!l?g.createElement(ec.Z,{to:`#!/provider/${encodeURIComponent(t.identifier)}/settings`,onPress:c},(0,Ce.Z)("Personalize")):null,r?g.createElement(FN,BN({},e)):null,i?g.createElement(_N,BN({},e)):null,a?g.createElement(HN,BN({},e)):null)};var GN=n(92885);var WN=Object.defineProperty,YN=Object.prototype.hasOwnProperty,KN=Object.getOwnPropertySymbols,qN=Object.prototype.propertyIsEnumerable,$N=(e,t,n)=>t in e?WN(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,JN=(e,t)=>{for(var n in t||(t={}))YN.call(t,n)&&$N(e,n,t[n]);if(KN)for(var n of KN(t))qN.call(t,n)&&$N(e,n,t[n]);return e};const XN=function(e){const t=e,{machineIdentifier:n,providerIdentifier:r,serverEntityID:i,source:a,sourceDirectory:s,target:o,menuOptions:l,hasLibraryActions:c,hasPlaylistsActions:d,isDeletingLibrary:u,isOverflowMenuOpen:p,onOverflowMenuClose:m,onUpgradeLibraryPress:h,onAnalyzeLibraryPress:y,onEmptyLibraryTrashPress:v,onRefreshAllLibraryMetadataPress:f,onDeleteLibraryPress:b}=t,I=((e,t)=>{var n={};for(var r in e)YN.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&KN)for(var r of KN(e))t.indexOf(r)<0&&qN.call(e,r)&&(n[r]=e[r]);return n})(t,["machineIdentifier","providerIdentifier","serverEntityID","source","sourceDirectory","target","menuOptions","hasLibraryActions","hasPlaylistsActions","isDeletingLibrary","isOverflowMenuOpen","onOverflowMenuClose","onUpgradeLibraryPress","onAnalyzeLibraryPress","onEmptyLibraryTrashPress","onRefreshAllLibraryMetadataPress","onDeleteLibraryPress"]),S=(0,GN.Z)(),M=(0,GN.Z)(h),E=(0,GN.Z)(f),P=(0,GN.Z)(v),D=(0,GN.Z)(y),C=(0,GN.Z)(),w=(0,GN.Z)(),Z=(0,eo.Z)(u);return(0,g.useEffect)((()=>{Z&&!u&&C.onClose()}),[u,Z,C]),g.createElement(g.Fragment,null,g.createElement(LN,{target:o,options:l,isOpen:p,onMenuClose:m},g.createElement(QN,JN(JN({},I),{serverEntityID:i,machineIdentifier:n,sourceDirectory:s,hasLibraryActions:c,hasPlaylistsActions:d,onSharePress:S.onOpen,onUpgradeLibraryPress:M.onOpen,onRefreshAllLibraryMetadataPress:E.onOpen,onEmptyLibraryTrashPress:P.onOpen,onAnalyzeLibraryPress:D.onOpen,onDeleteLibraryPress:C.onOpen,onImportPlaylistsPress:w.onOpen,onMenuClose:m}))),c?g.createElement(g.Fragment,null,g.createElement(xm.Z,{metricsProperties:{context:OC.LIST},serverEntityID:i,sourceDirectory:s,isOpen:S.isOpen,onModalClose:S.onClose}),g.createElement(ZN,{isOpen:M.isOpen,metricsPage:pt.xC,title:(0,Ce.Z)("Upgrade Library Matching?"),message:g.createElement(g.Fragment,null,g.createElement("div",null,(0,Ce.Z)("This library is currently using a legacy agent to match items and fetch artwork and other metadata. There is a newer, faster, and more accurate agent available for this type of media. Would you like to upgrade this library now?")),g.createElement("div",{className:"SourceActionsMenu-modalNote-2hRXsX"},(0,Ce.Z)('Note: Existing items in this library will not be affected until they are refreshed. You can refresh them individually or upgrade all existing items with "Refresh All Metadata".'))),confirmLabel:(0,Ce.Z)("Upgrade"),onConfirm:M.onConfirm,onCancel:M.onClose}),g.createElement(ZN,{isOpen:E.isOpen,metricsPage:pt.yW,title:(0,Ce.Z)("Refresh All Metadata"),message:(0,Ce.Z)("Forces a download of fresh media information from the internet. This can take a long time. Any locked fields are not modified."),confirmLabel:(0,Ce.Z)("Refresh"),onConfirm:E.onConfirm,onCancel:E.onClose}),g.createElement(ZN,{isOpen:P.isOpen,metricsPage:pt.Y0,title:(0,Ce.Z)("Empty Trash"),message:(0,Ce.Z)("By default the media server doesn't remove information for media right away. This helps if a drive is temporarily disconnected. When you empty the trash for a section, all information about missing media is deleted."),confirmLabel:(0,Ce.Z)("Empty"),onConfirm:P.onConfirm,onCancel:P.onClose}),g.createElement(ZN,{isOpen:D.isOpen,metricsPage:pt.cJ,title:(0,Ce.Z)("Analyze Library"),message:(0,Ce.Z)("Analyzes all the media files in the library. The analysis captures information about the media which helps Plex decide how to optimally play back the media."),confirmLabel:(0,Ce.Z)("Analyze"),onConfirm:D.onConfirm,onCancel:D.onClose}),g.createElement(ZN,{isOpen:C.isOpen,isConfirmButtonSpinning:u,isCancelButtonDisabled:u,metricsPage:pt.iw,kind:ic.T,title:(0,Ce.Z)("Delete Library"),message:(0,Ce.Z)('The library "{libraryName}" will be removed from this server. Your media files will not be affected. This can\'t be undone. Continue?',{libraryName:a.title}),accordMessage:(0,Ce.Z)('Yes, delete the library "{libraryName}"',{libraryName:a.title}),confirmLabel:(0,Ce.Z)("Delete"),onConfirm:b,onCancel:C.onClose})):null,d?g.createElement(Qn,{machineIdentifier:n,providerIdentifier:r},g.createElement(SN,{isOpen:w.isOpen,onModalClose:w.onClose})):null)};var eO=Object.defineProperty,tO=Object.prototype.hasOwnProperty,nO=Object.getOwnPropertySymbols,rO=Object.prototype.propertyIsEnumerable,iO=(e,t,n)=>t in e?eO(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,aO=(e,t)=>{for(var n in t||(t={}))tO.call(t,n)&&iO(e,n,t[n]);if(nO)for(var n of nO(t))rO.call(t,n)&&iO(e,n,t[n]);return e};const sO={dispatchScanLibraryFiles:XC,dispatchCancelScanLibraryFiles:sw,dispatchUpgradeLibrary:iw,dispatchEditLibrary:ew,dispatchRefreshAllLibraryMetadata:aw,dispatchEmptyLibraryTrash:tw,dispatchAnalyzeLibrary:nw,dispatchDeleteLibrary:rw,dispatchRedirectToRoute:mt.im,dispatchReloadGuide:nN,dispatchCancelReloadGuide:rN,dispatchPopulateHasiTunes:UT.st,dispatchPinSources:oN.W1,dispatchUnpinSources:oN.Dm};class oO extends g.Component{constructor(){super(...arguments),this.onScanLibraryPress=()=>{this.props.dispatchScanLibraryFiles({serverEntityID:this.props.serverEntityID,providerEntityID:this.props.providerEntityID,contentDirectory:this.props.sourceDirectory,metricsPage:this.props.metricsPage})},this.onCancelScanLibraryPress=()=>{this.props.dispatchCancelScanLibraryFiles({serverEntityID:this.props.serverEntityID,providerEntityID:this.props.providerEntityID,contentDirectory:this.props.sourceDirectory,metricsPage:this.props.metricsPage})},this.onEditLibraryPress=()=>{this.props.dispatchEditLibrary({serverEntityID:this.props.serverEntityID,providerEntityID:this.props.providerEntityID,contentDirectory:this.props.sourceDirectory,metricsPage:this.props.metricsPage})},this.onRefreshAllLibraryMetadataPress=()=>{this.props.dispatchRefreshAllLibraryMetadata({serverEntityID:this.props.serverEntityID,providerEntityID:this.props.providerEntityID,contentDirectory:this.props.sourceDirectory,metricsPage:this.props.metricsPage})},this.onEmptyLibraryTrashPress=()=>{this.props.dispatchEmptyLibraryTrash({serverEntityID:this.props.serverEntityID,providerEntityID:this.props.providerEntityID,contentDirectory:this.props.sourceDirectory,metricsPage:this.props.metricsPage})},this.onAnalyzeLibraryPress=()=>{this.props.dispatchAnalyzeLibrary({serverEntityID:this.props.serverEntityID,providerEntityID:this.props.providerEntityID,contentDirectory:this.props.sourceDirectory,metricsPage:this.props.metricsPage})},this.onDeleteLibraryPress=()=>{this.props.dispatchDeleteLibrary({serverEntityID:this.props.serverEntityID,providerEntityID:this.props.providerEntityID,contentDirectory:this.props.sourceDirectory,metricsPage:this.props.metricsPage}),this.props.source.isSelected&&this.props.dispatchRedirectToRoute({route:"home"})},this.onRefreshGuidePress=()=>{this.props.dispatchReloadGuide({serverEntityID:this.props.serverEntityID,dvrID:this.props.provider.parentID,metricsPage:this.props.metricsPage})},this.onCancelRefreshGuidePress=()=>{this.props.dispatchCancelReloadGuide({serverEntityID:this.props.serverEntityID,dvrID:this.props.provider.parentID,metricsPage:this.props.metricsPage})},this.onTogglePinSources=()=>{this.props.isPinned?this.props.dispatchUnpinSources({sources:[this.props.source]}):this.props.dispatchPinSources({sources:[this.props.source]})},this.onUpgradeLibraryPress=()=>{this.props.dispatchUpgradeLibrary({serverEntityID:this.props.serverEntityID,providerEntityID:this.props.providerEntityID,contentDirectory:this.props.sourceDirectory})}}componentDidMount(){const{isOwnedPlaylistSource:e,isConnected:t}=this.props;e&&t&&this._populateHasiTunes(this.props)}componentDidUpdate(e){const{isOwnedPlaylistSource:t,isConnected:n}=this.props;t&&n&&!e.isConnected&&this._populateHasiTunes(this.props)}_populateHasiTunes(e){this.props.dispatchPopulateHasiTunes({serverEntityID:e.serverEntityID})}render(){const e=this.props,{metricsPage:t,isConnected:n,isOwnedPlaylistSource:r,dispatchUpgradeLibrary:i,dispatchScanLibraryFiles:a,dispatchCancelScanLibraryFiles:s,dispatchEditLibrary:o,dispatchReloadGuide:l,dispatchCancelReloadGuide:c,dispatchPopulateHasiTunes:d,dispatchPinSources:u,dispatchUnpinSources:p}=e,m=((e,t)=>{var n={};for(var r in e)tO.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&nO)for(var r of nO(e))t.indexOf(r)<0&&rO.call(e,r)&&(n[r]=e[r]);return n})(e,["metricsPage","isConnected","isOwnedPlaylistSource","dispatchUpgradeLibrary","dispatchScanLibraryFiles","dispatchCancelScanLibraryFiles","dispatchEditLibrary","dispatchReloadGuide","dispatchCancelReloadGuide","dispatchPopulateHasiTunes","dispatchPinSources","dispatchUnpinSources"]);return g.createElement(XN,aO(aO({},m),{onScanLibraryPress:this.onScanLibraryPress,onCancelScanLibraryPress:this.onCancelScanLibraryPress,onEditLibraryPress:this.onEditLibraryPress,onAnalyzeLibraryPress:this.onAnalyzeLibraryPress,onRefreshAllLibraryMetadataPress:this.onRefreshAllLibraryMetadataPress,onEmptyLibraryTrashPress:this.onEmptyLibraryTrashPress,onDeleteLibraryPress:this.onDeleteLibraryPress,onRefreshGuidePress:this.onRefreshGuidePress,onCancelRefreshGuidePress:this.onCancelRefreshGuidePress,onTogglePinSources:this.onTogglePinSources,onUpgradeLibraryPress:this.onUpgradeLibraryPress}))}}const lO=(0,oC.Z)((function(){return(0,fe.P1)(((e,{source:t})=>t),Tl.Z,sb.Z,ab.Z,RT,(0,jT.Ol)(),(0,fe.P1)((0,LT.Z)(),(e=>e&&e.desktop.hasiTunes)),xT(),((e,t,n,r,i,a,s,o)=>{const l=i.some((t=>!!e&&t.key===e.key));if(!n||!r||!e||n.isOutOfDate)return{isUnavailable:!0,isPinned:l};const c=e.sourceType===fT.lz,d=Fo.wB(r.identifier,Fo.Ll),{features:{content:{directories:u=[]}={}}={}}=r||{},p=u.find((t=>t.id===e.directoryID)),m=n.isFullOwnedServer&&r.isLibraryProvider&&p&&/(\d+)$/.test(p.id)&&!c,h=n.isFullOwnedServer&&e.sourceType===fT.ls,g=!!u.find((({type:e})=>e===Ac.ARTIST)),y=r.features.settings;return{sourceDirectory:p,machineIdentifier:n.machineIdentifier,provider:r,providerIdentifier:r.identifier,hasProviderSettings:!!y&&(0,xc.d)(t,y),hasLibraryActions:m,hasPlexMusicUpgrade:p&&p.type===Ac.ARTIST&&(p.agent===TC.zR||p.agent===TC.E4),hasPlexMovieUpgrade:n.ownerFeatures&&n.ownerFeatures.includes(bn.wz)&&p&&p.type===Ac.MOVIE&&(p.agent===TC.A2||p.agent===TC.HN),hasPlexSeriesUpgrade:n.ownerFeatures&&n.ownerFeatures.includes(bn.VA)&&p&&p.type===Ac.SHOW&&(p.agent===TC.A2||p.agent===TC.NV),hasDVRActions:n.isFullOwnedServer&&d,hasPlaylistsActions:h&&s&&g,isConnected:n.isConnected,isUnavailable:n.isUnavailable,isPinned:l,isDeletingLibrary:!!a,isGuideRefreshing:!!o,isOwnedPlaylistSource:h}}))}),sO)(oO);lO.propTypes=aO(aO({},lO.propTypes),{source:zT,serverEntityID:sa().string,providerEntityID:sa().string});const cO=lO;function dO(e){return E.Z.join("#!/downloads",e)}function uO(e){var t=e["aria-label"],n=e.className,r=e.style,i={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-toolbar-more-vertical-560"};i["aria-hidden"]=!t,i.style=r,i.className=oa.Z.plexIcon+(n?" "+n:"");var a=[g.createElement.apply(g,["path",{d:"M280 168c-30.897 0-56-25.103-56-56 0-30.896 25.103-56 56-56s56 25.104 56 56c-.965 31.862-25.103 56-56 56zm56 112c0 30.897-25.103 56-56 56s-56-25.103-56-56 25.103-56 56-56 56 25.103 56 56zm0 168c0 30.897-25.103 56-56 56s-56-25.103-56-56 25.103-56 56-56 56 25.103 56 56z"}].concat([]))];return t&&a.unshift(g.createElement("title",null,t)),g.createElement.apply(g,["svg",i].concat(a))}uO.propTypes={"aria-label":sa().string,className:sa().string,style:sa().object};const pO=uO;var mO,hO;function gO({overrideTitle:e,overrideDetail:t}){const[n,r,i]=Hn(),a=(0,v.v9)(ra("allSavedPivotParams")),s=(0,No.Z)(),o=(0,gd.Z)(),l=(0,IT.Z)(r,i),c=i?bT({sourceType:l?l.key:null,sourceServer:n,sourceProvider:r,sourceDirectory:i}):void 0,d=e||function(e,t,n){return t.isEmbedded?(0,Ce.Z)("Downloads"):e?e.title:t.isCloud?n.title:MT(t)}(i,n,r),u=t||function(e,t){return t.isCloud?null==e?void 0:e.providerSourceTitle:t.isEmbedded?void 0:t.isFullOwnedServer?e?e.serverFriendlyName:void 0:e?`${e.serverSourceTitle}  ${e.serverFriendlyName}`:ST(t)}(c,n),p=n.isEmbedded?dO(null==a?void 0:a.downloads):(0,hI.Z)(n,r,i,i?void 0:{key:yT.D,pageType:gT.km});return g.createElement("div",{className:"CurrentSourceBreadcrumb-container-1_ZDzv"},n.isEmbedded?g.createElement("div",{className:"CurrentSourceBreadcrumb-noButton-PKunuf"}):g.createElement(g.Fragment,null,g.createElement(NT,{className:"CurrentSourceBreadcrumb-tooltipButton-3c90LG ToolbarButton-toolbarButton-APIhWk",id:s,iconComponent:pO,label:(0,Ce.Z)("Actions"),isMenuOpen:o.isOpen,onPress:o.onToggle}),g.createElement(cO,{target:s,serverEntityID:n.entityID,providerEntityID:r.entityID,source:c,isOverflowMenuOpen:o.isOpen,onOverflowMenuClose:o.onClose})),g.createElement(ET,{title:d,detail:u,route:p}))}(hO=mO||(mO={})).Dvr="dvr",hO.Episode="episode",hO.Home="home",hO.Movies="movies",hO.Music="music",hO.Photos="photos",hO.Playlists="playlists",hO.Podcasts="podcasts",hO.Tv="tv",hO.Videos="videos",hO.Webshows="webShows",hO.Shared="shared";const yO="tabChange",vO={button:"PivotTab-button-3biM5c Button-button-1q7C1V Link-link-2WGTd7",selectedButton:"PivotTab-selectedButton-2NYaZL PivotTab-button-3biM5c Button-button-1q7C1V Link-link-2WGTd7"};var fO=Object.defineProperty,bO=Object.prototype.hasOwnProperty,IO=Object.getOwnPropertySymbols,SO=Object.prototype.propertyIsEnumerable,MO=(e,t,n)=>t in e?fO(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;function EO(e){var t=e,{className:n=vO.button,selectedClassName:r=vO.selectedButton,isSelected:i,children:a}=t,s=((e,t)=>{var n={};for(var r in e)bO.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&IO)for(var r of IO(e))t.indexOf(r)<0&&SO.call(e,r)&&(n[r]=e[r]);return n})(t,["className","selectedClassName","isSelected","children"]);return g.createElement(Dr,((e,t)=>{for(var n in t||(t={}))bO.call(t,n)&&MO(e,n,t[n]);if(IO)for(var n of IO(t))SO.call(t,n)&&MO(e,n,t[n]);return e})({className:i?r:n,size:st.Large},s),a)}const PO=function(e){return e.type===$t.F6.View&&!Object.values($t.GG).includes(e.key)},DO=function(e,t,n,r){var i;if(!n)return;if(PO(r))return;const a=(null==(i=n.pivots)?void 0:i.includes(r))?{pivot:r.id||r.key}:{pageType:r.type,key:r.key};return(0,hI.Z)(e,t,n,a)},CO={placement:"bottom-start",modifiers:[{name:"offset",options:{offset:[parseInt(ng.Z.pageHeaderTabButtonLeftRightMargin,10)]}}]};function wO({pivots:e,selectedPivot:t,onPivotPress:n}){var r;const[i,a,s]=Hn(),o=(0,No.Z)(),l=(0,gd.Z)();return g.createElement("div",{id:o,className:"PivotTabDropdown-container-2z16yQ","data-qa-id":"tabDropDown"},g.createElement(EO,{className:"PivotTabDropdown-button-7utMbI PageHeaderTabButton-button-3utZrS Button-button-38SEbM Link-link-CM9nxg",isSelected:!!t,onPress:l.onToggle},g.createElement("div",{className:"PivotTabDropdown-buttonContents-wtBigk"},g.createElement("div",{className:"PivotTabDropdown-title-DpDRRn"},null!=(r=null==t?void 0:t.title)?r:e[0].title),g.createElement(Lp.Z,{className:Te()("PivotTabDropdown-disclosureArrow-3vN8mj DisclosureArrow-disclosureArrow-1jttuj",!!t&&"PivotTabDropdown-isSelected-3fVKoE"),direction:l.isOpen?kp.UP:kp.WV}))),g.createElement(Xl.Z,{isOpen:l.isOpen,target:o,options:CO,onMenuClose:l.onClose},e.map(((e,r)=>{const o=DO(i,a,s,e);return o?g.createElement(Up.Z,{key:r,to:o,value:e.key,isSelected:e===t,onPress:(0,rc.Z)(n,l.onClose)},e.title):null}))))}function ZO({pivots:e,selectedPivot:t}){const[n,r,i]=Hn(),[a,{width:s}]=(0,Kg.Z)(),[o,{width:l}]=(0,Kg.Z)(),[c,d]=(0,g.useState)(l),u=l||c,p=(0,g.useMemo)((()=>e.filter((e=>!PO(e)))),[e]),m=p.length<2,h=p.length>1&&u>s,y=hs({identifier:r.metricsIdentifier,origin:yO}),v=Tv((0,g.useCallback)((()=>{y({action:ss.oG})}),[y]));return(0,g.useEffect)((()=>{l&&d(l)}),[l]),m?null:g.createElement("div",{className:"PivotTabsPageHeaderCenter-pageHeaderCenter-lSexGe PageHeaderCenter-pageHeaderCenter-2VRH7R",ref:a},h?g.createElement(wO,{pivots:p,selectedPivot:t,onPivotPress:v}):g.createElement("div",{ref:o},p.map(((e,a)=>{const s=DO(n,r,i,e);return s?g.createElement(EO,{key:a,to:s,isSelected:e===t,onPress:v},e.title):null}))))}const TO=(0,fe.P1)(yv,(e=>e.title));var NO=n(83427);var OO=Object.defineProperty,AO=Object.prototype.hasOwnProperty,xO=Object.getOwnPropertySymbols,jO=Object.prototype.propertyIsEnumerable,LO=(e,t,n)=>t in e?OO(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,kO=(e,t)=>{for(var n in t||(t={}))AO.call(t,n)&&LO(e,n,t[n]);if(xO)for(var n of xO(t))jO.call(t,n)&&LO(e,n,t[n]);return e};function RO({sourceURI:e,selectedPivot:t}){var n,r;const i=(0,v.I0)(),[,,a]=Hn(),s=(0,v.v9)(vv),o=null!=(n=null==s?void 0:s.Pivot)?n:null==a?void 0:a.pivots,l=(0,v.v9)(TO),c=(0,v.v9)(ra("directoryListStyles")),d=(0,g.useMemo)((()=>BZ(e)),[e]),u=(0,v.v9)(d),p=(0,g.useMemo)((()=>VZ(e)),[e]),m=(0,v.v9)(p),h=(0,g.useCallback)((t=>{if(!e)return;const n=kO(kO({},c),{[e]:t});(0,fn.c9)((()=>{i((0,AM.LN)({directoryListStyles:n}))}))}),[i,c,e]);return g.createElement(NO.Z,{className:"DirectoryPageHeader-pageHeader-p91RvA PrimaryPageHeader-pageHeader-2h_9dt PageHeader-pageHeader-WpvbJc"},g.createElement(ZZ,null,g.createElement(gO,{overrideTitle:l})),o&&t?g.createElement(ZO,{pivots:o,selectedPivot:t}):null,g.createElement(TZ.Z,null,g.createElement(hT,{listStyles:m,selectedListStyle:(null==t?void 0:t.key)===(null==(r=$t.GG)?void 0:r.SharedItems)?void 0:u,onListStyleSelect:h})))}var zO=n(44823);const UO=ra("lastSourcePivots"),VO=ra("shouldSaveLastSourcePivots"),BO=(0,Dn.Z)((function(e,t,n){return(0,fe.P1)(UO,VO,((r,i)=>{if(i)return r[(0,zO.Z)(e,t,n)]}))})),FO=function(e=[],t){return e.find((e=>e.id?e.id===t||e.key===t:!!e.key&&e.key===t))};var _O=Object.defineProperty,HO=Object.prototype.hasOwnProperty,QO=Object.getOwnPropertySymbols,GO=Object.prototype.propertyIsEnumerable,WO=(e,t,n)=>t in e?_O(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,YO=(e,t)=>{for(var n in t||(t={}))HO.call(t,n)&&WO(e,n,t[n]);if(QO)for(var n of QO(t))GO.call(t,n)&&WO(e,n,t[n]);return e};var KO=n(14408),qO=n(95933),$O=n(93683),JO=Object.defineProperty,XO=Object.prototype.hasOwnProperty,eA=Object.getOwnPropertySymbols,tA=Object.prototype.propertyIsEnumerable,nA=(e,t,n)=>t in e?JO(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,rA=(e,t)=>{for(var n in t||(t={}))XO.call(t,n)&&nA(e,n,t[n]);if(eA)for(var n of eA(t))tA.call(t,n)&&nA(e,n,t[n]);return e};const iA=rA(rA({},$O.Z),{getPaginatedUrl(e){const t=this.get("beginsAt"),n=this.get("endsAt");if(null!=t||null!=n){const r={"endsAt>":t,"beginsAt<":n};return E.Z.join(e,r)}return e},fetchRange(e){const t=rA(rA({},e),{remove:!1});return e.prepend&&(t.at=0),this.set({beginsAt:e.start,endsAt:e.end}),this.fetch(t).promise()},repopulateRange(e=0){const t=this.get("populatedRange"),n=t.start,r=t.end;return this.set({beginsAt:n,endsAt:r}),this.abortPendingPopulate(),this.fetch()},updatePopulatedRange(){const e=this.get("beginsAt"),t=this.get("endsAt"),n=this.get("populatedRange"),r=n.start,i=n.end;let a,s;this.getCollection().length?r?(a=Math.min(r,null==e?1/0:e),s=Math.max(i,null==t?-1/0:t)):(a=e||r,s=t||i):(a=0,s=0),this.set("populatedRange",{start:a,end:s,size:s-a}),this.set("isPopulated",s-a>0)}}),aA=qO.Z.extend({mixins:[iA],name:"ChannelGridMetadataListModel",sessionAttrs:{isMetadataList:KO.Z.boolean,containerKey:KO.Z.string,entityKey:KO.Z.string,containerTitle:KO.Z.string,beginsAt:KO.Z.integer,endsAt:KO.Z.integer,populatedRange:KO.Z.object,isPending:KO.Z.boolean,isPopulated:KO.Z.boolean,error:KO.Z.object},defaults:()=>({isMetadataList:!0,populatedRange:{start:0,end:0,size:0},isPending:!0,isPopulated:!1,error:null})});var sA=n(89905),oA=n(53334);const lA=oA.Z.extend({name:"ProviderTagModel",context:["server","provider"],idAttribute:"id",rootPropertyName:"Directory",syncedAttrs:{id:KO.Z.integer,filter:KO.Z.string,tag:KO.Z.string,tagType:KO.Z.integer,tagValue:KO.Z.integer,thumb:KO.Z.string,channelCallSign:KO.Z.string,channelIdentifier:KO.Z.string}}),cA=BT.Z.extend({name:"ProviderTagCollection",context:["server","provider","type"],model:lA,cache:new sA.Z,url(){const e={type:this.type};return E.Z.join([this.provider.get("identifier"),"tags"],e)}}),dA=310,uA=1800,pA="ui/channelGridPage/initChannelsGridPage",mA="ui/channelGridPage/initMetadataList",hA="ui/channelGridPage/setStartTime",gA="ui/channelGridPage/resetStartTime",yA="ui/channelGridPage/navigateTimeForward",vA="ui/channelGridPage/navigateTimeBack",fA="ui/channelGridPage/setViewportSize",bA="ui/channelGridPage/updateAiredProgress",IA="ui/channelGridPage/populateChannelPrograms",SA="ui/channelGridPage/repopulateChannelPrograms",MA="ui/channelGridPage/populateChannelsList",EA="ui/channelGridPage/fetchChannelsList",PA=(0,bc.Z)(pA),DA=(0,bc.Z)(mA),CA=(0,bc.Z)(hA),wA=(0,bc.Z)(gA),ZA=(0,bc.Z)(yA),TA=(0,bc.Z)(vA),NA=(0,bc.Z)(fA),OA=(0,bc.Z)(bA),AA=(0,bc.Z)(IA),xA=(0,bc.Z)(SA),jA=(0,bc.Z)(MA),LA=(0,bc.Z)(EA);function kA(e){return e.get("ui").get("channelGridPage")}function RA(e,t){const n=Math.floor(e/uA)*uA,r=[];for(let e=0;e<=t;e++)r.push(n+e*uA);return r}const zA=(0,VT.Z)({[pA](e,t,n){const r=kA(e),{serverEntityID:i,providerEntityID:a,directoryKey:s}=t,o=(0,uC.SW)(e,{serverEntityID:i}),l=(0,uC.js)(e,{providerEntityID:a}),c={serverEntityID:i,providerEntityID:a,directoryKey:s,channelsList:new cA(null,{server:o,provider:l,type:dA})};r.set(c),n(wA())},[mA](e,t,n){const{containerKey:r,serverEntityID:i,providerEntityID:a}=t,s=kA(e),o=(0,uC.SW)(e,{serverEntityID:i}),l=(0,uC.js)(e,{providerEntityID:a}),c=s.get("metadataList");s.get("containerKey")===r&&(null==c?void 0:c.server.get("machineIdentifier"))===o.get("machineIdentifier")&&(null==c?void 0:c.provider.get("identifier"))===l.get("identifier")||s.set({containerKey:r,metadataList:new aA({containerKey:r},{server:o,provider:l})})},[gA](e,t,n){const r=Math.floor(Date.now()/1e3);n(CA(r))},[hA](e,t,n){const r=kA(e),i=r.get("visibleColumns"),a=RA(t,i);(0,fn.c9)((()=>{r.set({startTime:t,columnTimes:a})}))},[yA](e,t,n){const r=kA(e).get("columnTimes")[0]+uA;n(CA(r))},[vA](e,t,n){const r=kA(e).get("columnTimes")[0]-uA,i=Math.floor(Date.now()/1e3)-10800;r+uA>i&&n(CA(r))},[fA](e,t={},n){const{width:r=1,height:i=1,overflowWidth:a=0,channelWidth:s=1,channelTitleWidth:o=0}=t,l=kA(e),c=Math.floor(r+a),d=Math.max(Math.floor((r-o)/s),1)+1,u=Math.floor((c-o)/d),p=RA(l.get("startTime"),d);(0,fn.c9)((()=>{l.set({visibleColumns:d,columnTimes:p,columnWidth:u,viewportWidth:c,viewportHeight:Math.floor(i)})}))},[bA](e){const t=kA(e),n=t.get("columnTimes"),r=n[0],i=n[n.length-1]-r,a=Math.floor(Date.now()/1e3),s=Math.min(100,Math.max(0,(a-r)/i*100));(0,fn.c9)((()=>{t.set({airedProgress:s})}))},[IA](e){const t=kA(e),n=t.get("metadataList"),r=t.get("columnTimes"),i=t.get("viewportWidth");n&&i>0&&(n.set({isPending:!0,error:null}),n.populateRange({start:r[0],end:r[r.length-1],reloadThreshold:43200}).then((()=>{n.set({isPending:!1,isPopulated:!0,error:null})}),((e,t)=>{t.aborting||n.set({isPending:!1,error:(0,jC.Z)(t)})})))},[SA](e){const t=kA(e).get("metadataList");t.set({isPending:!0}),t.repopulateRange().then((()=>{t.set({isPending:!1,isPopulated:!0,error:null})}),((e,n)=>{n.aborting||t.set({isPending:!1,error:(0,jC.Z)(n)})}))},[ZC._z](e,t,n){if(t.metadataItemEntityID||t.containerKeyPattern)return;const r=(0,uC.SW)(e,t),i=kA(e),a=i.get("metadataList"),s=i.get("channelsList");s&&a&&s.server===r&&a.server===r&&(n(xA()),n(LA()))},[MA]:(0,dC.Z)({key:"channelsList",fetchActionCreator:LA,getModel:kA}),[EA]:(0,cC.Z)({key:"channelsList",getModel:kA})});var UA=n(96516),VA=n(87769),BA=Object.defineProperty,FA=Object.prototype.hasOwnProperty,_A=Object.getOwnPropertySymbols,HA=Object.prototype.propertyIsEnumerable,QA=(e,t,n)=>t in e?BA(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,GA=(e,t)=>{var n={};for(var r in e)FA.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&_A)for(var r of _A(e))t.indexOf(r)<0&&HA.call(e,r)&&(n[r]=e[r]);return n};const WA=function(e,t,n,r){var i;const a=(0,UA.Z)(t,(e=>({identifiers:e})));return(0,v.$j)((e=>a))(((i=class extends g.Component{constructor(e,t){super(e,t),this.onRepopulate=()=>{this._repopulate()},this._isPopulated=!1,this._component=null}componentDidMount(){this._populate()}componentDidUpdate(){this._isPopulated||this._populate()}_populate(){const e=this.props,{identifiers:t,dispatch:r}=e,i=GA(e,["identifiers","dispatch"]);(0,fn.c9)((()=>{n(r,i)}))}_repopulate(){if(!r)return this._populate();const e=this.props,{identifiers:t,dispatch:n}=e,i=GA(e,["identifiers","dispatch"]);r(n,i)}render(){if(this._isPopulated=function(e){const{identifiers:t}=e;for(const n in t)if(t[n]!==e[n])return!1;return!0}(this.props),this._isPopulated){const t=this.props,{identifiers:n,dispatch:r}=t,i=GA(t,["identifiers","dispatch"]);this._component=g.createElement(e,((e,t)=>{for(var n in t||(t={}))FA.call(t,n)&&QA(e,n,t[n]);if(_A)for(var n of _A(t))HA.call(t,n)&&QA(e,n,t[n]);return e})({onRepopulate:this.onRepopulate},i))}return this._component}}).propTypes={identifiers:sa().object.isRequired,dispatch:sa().func.isRequired},i.displayName=`Populatable(${(0,Nw.Z)(e)})`,i.WrappedComponent=e,i))};function YA(e){return(0,fe.P1)((0,OT.Z)(),(t=>{if(t)return S().findWhere(t.features,{type:e})}))}const KA=YA.bind(null,AC.HR),qA="hdonly";var $A=n(46525);var JA=Object.defineProperty,XA=Object.prototype.hasOwnProperty,ex=Object.getOwnPropertySymbols,tx=Object.prototype.propertyIsEnumerable,nx=(e,t,n)=>t in e?JA(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,rx=(e,t)=>{for(var n in t||(t={}))XA.call(t,n)&&nx(e,n,t[n]);if(ex)for(var n of ex(t))tx.call(t,n)&&nx(e,n,t[n]);return e};function ix(){return(0,fe.P1)(((e,{activeFilters:t})=>t),(0,OT.Z)(),KA(),((e=[],t,n)=>t?function(e,{type:t,filters:n,sort:r,limit:i}){const a=E.Z.join(e),s={};return t&&(s.type=t),r&&(s.sort=r),i&&(s.limit=i),E.Z.join(function(e,t){const n=(0,$A.Z)(t,!0);if(!n)return e;const r=e.indexOf("?"),i=e.length;return(e+=r>-1?r<i-1?"&":"":"?")+n}(a,n),s,{parseParams:!0})}(n?n.key:`/${t.identifier}/grid`,{type:[(0,Ac.getMetadataType)(Ac.MOVIE).id,(0,Ac.getMetadataType)(Ac.EPISODE).id].join(","),filters:e.reduce(((e,t)=>(t.key===qA?e.push(rx(rx({},t),{key:"channel.value"})):e.push(t),e)),[]),sort:"beginsAt"}):null))}var ax=n(50091),sx=n(50362);const ox=function(){return(0,fe.P1)((0,ax.Z)(),sx.Z,((e,t)=>e&&e.metadataItems?e.metadataItems.map((e=>t[e])):[]))};function lx(){return(0,fe.P1)((0,OT.Z)(),(e=>{const t=(0,sc.Z)(e);return t?t.directories:[]}))}function cx(e,t){if(e&&t)for(let n=0,r=e.length;n<r;n++){const r=e[n],{id:i}=r;if(i===t)return r}}function dx(){return(0,fe.P1)(lx(),((e,{sourceDirectoryID:t})=>t),((e,t)=>cx(e,t)))}function ux(){return(0,fe.P1)((0,LT.Z)(),(e=>e.isCloud))}var px=n(9481),mx=n(81324);const hx=e=>e.key===qA,gx=()=>(e,{activeFilters:t})=>t.some(hx);var yx=n(27929);const vx=function(e,t){return`${e}:${t}`};var fx=n(95815),bx=n(80967),Ix=n(55255);function Sx(e){const{getCellHeights:t,overscan:n=0,outerPaddingTop:r=0,outerPaddingRight:i=0,outerPaddingBottom:a=0,outerPaddingLeft:s=0}=e;let o,l,c,d,u,p,m,h,g;function y(e){const t=S().findIndex(u,(t=>t>e)),n=u.length-1;return-1===t?n:Math.min(Math.max(0,t-1),n)}return{getListStyle:function(e){const n=`${e.viewportHeight}:${e.viewportWidth}`;if(n===p)return m;o=e.viewportHeight,l=e.viewportWidth-(s+i),c=t(l),u=[];let h=r;return c.forEach((e=>{u.push(h),h+=e})),d=c.reduce(((e,t)=>e+t),r+a),p=n,m={height:d,width:l},m},getLandmarks:function(){(0,_.Z)(void 0!==o,"`getListStyle` must be called before `getLandmarks`");const e=`${o}:${d}`;return e===h||(h=e,g=u.map(((e,t)=>({index:t,position:e/d})))),g},getPositionForIndex:function(e){return(0,_.Z)(void 0!==o,"`getListStyle` must be called before `getPositionForIndex`"),{cellX:s,cellY:u[e],cellWidth:l,cellHeight:c[e]}},getRelativeIndex:function(){(0,_.Z)(!1,"Stacked layouts do not support relative indexing")},getRangesForPosition:function(e,t,r){(0,_.Z)(void 0!==o,"`getListStyle` must be called before `getPositionForIndex`");const i=e+o-1,a=y(e-n*o),s=y(e),l=y(i),c=y(i+n*o);return{visibleStartIndex:(0,vu.Z)(s,r),visibleEndIndex:(0,vu.Z)(l,r),partiallyVisibleStartIndex:(0,vu.Z)(s,r),partiallyVisibleEndIndex:(0,vu.Z)(l,r),renderStartIndex:(0,vu.Z)(a,r),renderEndIndex:(0,vu.Z)(c,r)}}}}var Mx=n(58801),Ex=n(82598);const Px=function(e){const{machineIdentifier:t,isRefreshing:n}=e;if(n)return g.createElement(Ex.Z,{iconComponent:xy,title:(0,Ce.Z)("We're now building your Guide"),description:(0,Ce.Z)("Hang tight while we download all the data for what's on")});const r=(0,Nv.Z)(t,"manage","dvr");return g.createElement(Ex.Z,{iconComponent:xy,title:(0,Ce.Z)("The Guide is empty"),description:(0,Ce.Z)("Please verify your channel mappings and refresh the Guide")},g.createElement(pw.Z,{to:r,kind:ic._8},(0,Ce.Z)("Go to DVR Settings")))};var Dx=Object.defineProperty,Cx=Object.prototype.hasOwnProperty,wx=Object.getOwnPropertySymbols,Zx=Object.prototype.propertyIsEnumerable,Tx=(e,t,n)=>t in e?Dx(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const Nx=(0,v.$j)((function(){return(0,fe.P1)((0,LT.Z)(),xT(),((e,t)=>({machineIdentifier:e.machineIdentifier,isRefreshing:!!t})))}))((function(e){return g.createElement(Px,((e,t)=>{for(var n in t||(t={}))Cx.call(t,n)&&Tx(e,n,t[n]);if(wx)for(var n of wx(t))Zx.call(t,n)&&Tx(e,n,t[n]);return e})({},e))}));var Ox=n(14838),Ax=n(11956),xx=n(81017);const jx=(0,fe.P1)(na.Z,(e=>e.timeFormat));var Lx=n(27028),kx=n(9220),Rx=n(84699),zx=n(5148),Ux=n(80126),Vx=n(64381);const Bx=function(e,t,n={}){const{includeMinuteZero:r=!0,timeFormat:i="h:mma",separator:a="-"}=n,s=(0,ui.Z)(e),o=(0,ui.Z)(t),l=(0,Vx.Z)(s,"a")===(0,Vx.Z)(o,"a"),c=(0,ji.Z)(s),d=(0,ji.Z)(o);let u=i,p=i;return r||0!==c||(u=u.replace("h:mm","h")),l&&(u=u.replace("a","")),r||0!==d||(p=p.replace("h:mm","h")),`${(0,Vx.Z)(s,u)}${a}${(0,Vx.Z)(o,p)}`},Fx=function(e){const{beginsAt:t,endsAt:n,timeFormat:r,channelTitle:i,contentRating:a}=e,{airTime:s,duration:o}=function(e,t,n,r){const i=Math.floor(Date.now()/1e3);let a="",s="";if(i>=e&&i<=t)a=(0,Ce.Z)("Now on {channel}",{channel:r}),s=Vi(t-i);else{const i=Bx(e,t,{timeFormat:n,separator:" - "});a=(0,Ce.Z)("{timeRange} on {channel}",{timeRange:i,channel:r}),s=Ui(1e3*(t-e))}return{airTime:a,duration:s}}(t,n,r,i);return g.createElement("div",{className:"ChannelsGridDetailRowAirTime-container-3bEHAD"},s,g.createElement(rs.Z,null),o,g.createElement("div",{className:"ChannelsGridDetailRowAirTime-contentRating-23GTRD"},Pa(a)))};var _x=n(757),Hx=n(50316),Qx=n(2016);const Gx=(0,oC.Z)((function(){return(0,fe.P1)(((e,{metricsContext:t})=>t),Hx.Z,_x.Z,(0,xx.Z)(),((e,t,n,r={})=>{const i={};return e&&(i.context=e),{grandparentTitle:r.grandparentTitle,grandparentRoute:(0,li.Z)(t,n,r.grandparentKey,i)}}))}))((function({className:e,tabIndex:t,grandparentTitle:n,grandparentRoute:r}){return g.createElement(Qx.Z,{className:e,tabIndex:t,title:n,route:r})}));var Wx=n(92797),Yx=n(63210);const Kx=(0,oC.Z)((function(){return(0,fe.P1)((0,xx.Z)(),(0,Yx.Z)(),((e={},t)=>({title:e.title,route:t})))}))(Qx.Z),qx=function({className:e,year:t}){return g.createElement("span",{className:e,"data-qa-id":"metadataYear"},t)},$x=(0,v.$j)((function(){return(0,fe.P1)((0,xx.Z)(),((e={})=>({year:e.year})))}))(qx),Jx=function(e){const{type:t,metadataItemEntityID:n,serverEntityID:r,providerEntityID:i}=e,a=function(e){let t;switch(e){case Ac.MOVIE:t=[Kx,$x];break;case Ac.SHOW:t=[Kx,Wx.Z];break;case Ac.EPISODE:t=[Gx,Wx.Z];break;default:t=[Kx]}return t}(t);return g.createElement("div",{className:"ChannelsGridDetailRowTitle-titleContainer-3wRj5q"},a.map(((e,t)=>{const a=0===t?"ChannelsGridDetailRowTitle-primaryTitle-27xNda":"ChannelsGridDetailRowTitle-secondaryTitle-3OB1RS";return g.createElement(e,{key:t,className:a,metadataItemEntityID:n,serverEntityID:r,providerEntityID:i})})))};var Xx=n(52097),ej=n(10128);const tj=function(e){const{title:t,showPlay:n,showRecord:r,onPlayPress:i,onRecordPress:a}=e;return g.createElement("div",{className:"ChannelsGridMetadataCellButtons-actions-3YMhfi"},n?g.createElement(Xx.Z,{className:"ChannelsGridMetadataCellButtons-playButton-1tyxlQ PlayButton-playButton-2dFmuo ChannelsGridMetadataCellButtons-button-3ILD7f",title:t,tabIndex:"-1","data-qa-id":"guide-row-item-play",onPress:i}):null,r?g.createElement(ej.Z,{className:"ChannelsGridMetadataCellButtons-recordButton-3gQ--M RecordButton-recordButton-2H5wQ_ PlayButton-playButton-2dFmuo RecordIcon-recordIconContainer-3wNYSz ChannelsGridMetadataCellButtons-button-3ILD7f",title:t,tabIndex:"-1","data-qa-id":"guide-row-item-record",onPress:a}):null)};var nj=n(5011);function rj(e){var t=e["aria-label"],n=e.className,r=e.style,i={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-play-560"};i["aria-hidden"]=!t,i.style=r,i.className=oa.Z.plexIcon+(n?" "+n:"");var a=[g.createElement.apply(g,["path",{d:"M80,0L560,280L80,560L80,0Z"}].concat([]))];return t&&a.unshift(g.createElement("title",null,t)),g.createElement.apply(g,["svg",i].concat(a))}rj.propTypes={"aria-label":sa().string,className:sa().string,style:sa().object};const ij=rj,aj="ChannelsGridMetadataDetailButtons-icon-1JSr0h",sj=function(e){const{subscriptionType:t,isSubscribed:n,isOnAir:r,showRecord:i,onPlayPress:a,onRecordPress:s}=e,o=r?(0,Ce.Z)("Watch Now"):(0,Ce.Z)("Watch Channel"),l=n?(0,Ce.Z)("Recording Scheduled"):(0,Ce.Z)("Record");return g.createElement("span",null,g.createElement(cb.Z,{className:"ChannelsGridMetadataDetailButtons-playButton-3dYhnc",kind:ic.Py,size:Rp.HC,onPress:a},g.createElement(ij,{className:aj}),o),i?g.createElement(cb.Z,{className:"ChannelsGridMetadataDetailButtons-recordButton-2jqEgw ChannelsGridMetadataDetailButtons-playButton-3dYhnc",kind:ic.Py,size:Rp.HC,onPress:s},g.createElement(nj.Z,{className:aj,type:t}),l):null)};class oj extends g.Component{constructor(){super(...arguments),this.onRecordPress=e=>{const{serverEntityID:t,providerEntityID:n,metadataItemEntityID:r,type:i,onRecordPress:a}=this.props;a({serverEntityID:t,providerEntityID:n,metadataItemEntityID:r,subscriptionType:i})}}render(){const{className:e,title:t,subscriptionType:n,isCompact:r,isOnAir:i,isSubscribed:a,showPlay:s,showRecord:o,onPlayPress:l}=this.props,c=r?tj:sj;return g.createElement("span",{className:e},g.createElement(c,{title:t,subscriptionType:n,isOnAir:i,isSubscribed:a,showPlay:s,showRecord:o,onPlayPress:l,onRecordPress:this.onRecordPress}))}}const lj=oj;var cj=Object.defineProperty,dj=Object.prototype.hasOwnProperty,uj=Object.getOwnPropertySymbols,pj=Object.prototype.propertyIsEnumerable,mj=(e,t,n)=>t in e?cj(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,hj=(e,t)=>{for(var n in t||(t={}))dj.call(t,n)&&mj(e,n,t[n]);if(uj)for(var n of uj(t))pj.call(t,n)&&mj(e,n,t[n]);return e};const gj={dispatchStartLiveTVPlayback:Ol.lS},yj=(0,oC.Z)((function(){return(0,fe.P1)((0,xx.Z)(),(0,fe.P1)(((e,{beginsAt:t})=>t),((e,{endsAt:t})=>t),((e,t)=>{const n=Math.floor(Date.now()/1e3);return n>=e&&n<=t})),((e={},t)=>{const{type:n,title:r,grandparentTitle:i,subscriptionID:a,grandparentSubscriptionID:s,subscriptionType:o,grandparentSubscriptionType:l}=e;return{type:n,title:i||r,subscriptionType:l||o||n,isSubscribed:!(!s&&!a),isOnAir:t}}))}),gj)((function(e){const t=e,{dispatchStartLiveTVPlayback:n}=t,r=((e,t)=>{var n={};for(var r in e)dj.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&uj)for(var r of uj(e))t.indexOf(r)<0&&pj.call(e,r)&&(n[r]=e[r]);return n})(t,["dispatchStartLiveTVPlayback"]),{serverEntityID:i,providerEntityID:a,channelIdentifier:s,metricsPage:o,metricsContext:l}=e,c=(0,g.useCallback)((()=>{n(hj(hj({},{serverEntityID:i,providerEntityID:a,metricsPage:o,metricsContext:l}),{options:{type:Al.pX,identifier:s}}))}),[i,a,o,l,n,s]);return g.createElement(lj,hj(hj({},r),{onPlayPress:c}))}));function vj(e){const{className:t,metadataItemEntityID:n,serverEntityID:r,providerEntityID:i,mediaIndex:a,type:s,summary:o,thumb:l,contentRating:c,beginsAt:d,endsAt:u,timeFormat:p,channelIdentifier:m,channelTitle:h,channelShortTitle:y,showRecord:v,onRecordPress:f,onNextPress:b,onPrevPress:I}=e;return g.createElement("div",{className:t},g.createElement(Rx.Z,{className:"ChannelsGridDetailRow-poster-1n_qdO PosterCard-card-3ds3Od",serverEntityID:r,providerEntityID:i,component:zx.Z,type:s,width:80,height:(0,Ux.Cr)(80,s,null,kx.lD),url:l}),g.createElement("div",{className:"ChannelsGridDetailRow-preplayContainer-25YCkI"},g.createElement(Jx,{type:s,serverEntityID:r,providerEntityID:i,metadataItemEntityID:n}),g.createElement(Fx,{beginsAt:d,endsAt:u,timeFormat:p,channelTitle:y||h,contentRating:c}),g.createElement(yj,{serverEntityID:r,providerEntityID:i,metadataItemEntityID:n,channelIdentifier:m,mediaIndex:a,beginsAt:d,endsAt:u,showPlay:!0,showRecord:v,onRecordPress:f}),g.createElement("p",null,o),g.createElement("div",{className:"ChannelsGridDetailRow-navigationContainer-16oepJ"},g.createElement(Lx.Z,{iconComponent:kg,title:(0,Ce.Z)("Previous"),onPress:I}),g.createElement(Lx.Z,{iconComponent:jg,title:(0,Ce.Z)("Next"),onPress:b}))))}vj.defaultProps={className:"ChannelsGridDetailRow-container-1zy84S"};const fj=vj,bj=(0,v.$j)((function(){return(0,fe.P1)(((e,{mediaIndex:t})=>t),(0,xx.Z)(),YA(AC.kD),jx,((e,t,n,r)=>{const{type:i,summary:a,grandparentThumb:s,thumb:o,contentRating:l}=t,c=t.Media[e],{beginsAt:d,endsAt:u,channelTitle:p,channelShortTitle:m,channelIdentifier:h}=c;return{type:i,summary:a,thumb:s||o,contentRating:l,beginsAt:d,endsAt:u,timeFormat:r,channelIdentifier:h,channelTitle:p,channelShortTitle:m,showRecord:!!n}}))}))(fj);var Ij=n(19013);const Sj=function(e){return e.remotePlayer},Mj=(0,fe.P1)(Sj,(e=>!!e));var Ej=n(56151);const Pj=new Ej.Z({props:["capabilities","video","music","photo"]});var Dj=n(36740),Cj=n(238);function wj(e){let t;if(e){const n=E.Z.parseUrl(e),r=/^\/playQueues\/([^/?]+)/.exec(n.pathname||n.href);t=r?r[1]:void 0}return t}var Zj=Object.defineProperty,Tj=Object.prototype.hasOwnProperty,Nj=Object.getOwnPropertySymbols,Oj=Object.prototype.propertyIsEnumerable,Aj=(e,t,n)=>t in e?Zj(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var xj=n(34699),jj=n(66464),Lj=n(58641),kj=n(98124),Rj=n(35421);const zj="able",Uj="unable",Vj="untested";var Bj=n(41890),Fj=n(59223),_j=n(25168),Hj=n(35589),Qj=n(33232),Gj=n(9010),Wj=n(30983),Yj=n(73004),Kj=Object.defineProperty,qj=Object.prototype.hasOwnProperty,$j=Object.getOwnPropertySymbols,Jj=Object.prototype.propertyIsEnumerable,Xj=(e,t,n)=>t in e?Kj(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const eL="ui/player/remotePlayer/changeRemotePlayer",tL="ui/player/remotePlayer/syncRemotePlayerCurrentItem",nL="ui/player/remotePlayer/syncRemotePlayerState",rL="ui/player/remotePlayer/syncRemotePlayQueueState",iL="ui/player/remotePlayer/syncRemoteQuality",aL="ui/player/remotePlayer/syncRemoteStreams",sL="ui/player/remotePlayer/syncRemoteExperienceSettings",oL="ui/player/remotePlayer/changeRemotePlayerVolume",lL="ui/player/remotePlayer/showRemotePlayerError",cL="ui/player/remotePlayer/mirrorDetails",dL="ui/player/remotePlayer/discoverRemotePlayers",uL="ui/player/remotePlayer/idleRemotePlayer",pL="ui/player/remotePlayer/removeRemotePlayer",mL="ui/player/remotePlayer/confirmRemoteToLocal",hL="ui/player/remotePlyaer/cancelLocalToRemote",gL="ui/player/remotePlayer/closeLocalToRemote",yL="ui/player/remotePlayer/confirmLocalToRemote",vL=(0,bc.Z)(eL),fL=(0,bc.Z)(tL),bL=(0,bc.Z)(nL),IL=(0,bc.Z)(rL),SL=(0,bc.Z)(iL),ML=(0,bc.Z)(aL),EL=(0,bc.Z)(sL),PL=(0,bc.Z)(oL),DL=(0,bc.Z)(lL),CL=(0,bc.Z)(cL),wL=(0,bc.Z)(dL),ZL=(0,bc.Z)(uL),TL=(0,bc.Z)(pL),NL=(0,bc.Z)(mL),OL=(0,bc.Z)(hL),AL=(0,bc.Z)(gL),xL=(0,bc.Z)(yL);function jL(e,t){const n=(0,Se.f_)(t);return e.get("ui").get(n+"Player")}function LL(e,t,n){return e.get("servers").populateServer(t).then((t=>(t.get("isCloud")?e.get("user").get("providers"):t.get("providers")).populate().then((e=>e)))).then((e=>{const t=e.get(n)||e.get(Fo.Y3);return t?t.populate().then((e=>e)):h().Deferred().reject().promise()}))}const kL={[eL](e,t){const n=(0,QT.cX)(e,{playerIdentifier:t});e.set("remotePlayer",n)},[tL](e,{playQueueType:t,options:n},r){const{machineIdentifier:i,providerIdentifier:a,containerKey:s,key:o,mediaIndex:l,bitrate:c,playQueueItemID:d,shouldRefreshPlayQueue:u,initialState:p}=n;if(!s||!o)return;const m=jL(e,t);if(!m)return;const g=i||Hj.X,y=e.get("servers").populateServer(g),v=LL(e,i,a),f=v.then((e=>function({providerModel:e,currentPlayQueueModel:t,containerKey:n,playQueueOptions:r}){const i=wj(n)||n;return t&&t.get("playQueueID")===i?t:(0,Cj.Z)(((e,t)=>{for(var n in t||(t={}))Tj.call(t,n)&&Aj(e,n,t[n]);if(Nj)for(var n of Nj(t))Oj.call(t,n)&&Aj(e,n,t[n]);return e})({providerModel:e,playQueueID:i},r))}({providerModel:e,currentPlayQueueModel:m.get("playQueue"),containerKey:s,playQueueOptions:{playQueueType:t,playQueueOwn:!1}})));h().when(y,v,f).then(((t,n,i)=>{if(m.get("playQueue")===i){if(!m.get("isPlayQueueLoading")&&!i.get("isUpdatePending")&&u){const e=i.get("playQueueItems"),t=null!=d?e.get(d):e.find((e=>o===e.get("metadataItem").get("key")));if(m.set({isLyricsVisible:!1}),t){const n=i.get("playQueueSelectedItemID"),r=e.get(n),a=i.get("playQueueSelectedItemOffset"),s=e.indexOf(r),o=e.indexOf(t),l=t.get("metadataItem"),c=t.get("playQueueItemID");(0,M.Z)(`[Cast] The current metadata item on the remote player changed to ${l.get("title")}`),(0,Lj.ZP)(i).done((()=>{i.set({playQueueSelectedItemID:c,playQueueSelectedItemOffset:a+(o-s)})}))}else(0,Lj.ZP)(i)}}else!function(e,t){const{appModel:n,serverModel:r,providerModel:i,playerModel:a,playQueueModel:s,openState:o,mediaIndex:l,bitrate:c,initialState:d}=e;if(a.get("isPlayQueueLoading"))return;const u=s.get("type");a.restoreDefaults({serverEntityID:r.entityID(),providerEntityID:i.entityID(),isOpen:!0,openState:o||u===Ja.j0?Fj.y:Fj.K,isPlayQueueLoading:!0,playQueue:s,playbackStartTime:Date.now()}),function({serverModel:e,providerModel:t,playQueueModel:n}){if(!n.get("isLocal"))return(0,Lj.ZP)(n);const r={server:e,provider:t},i=new qO.Z({containerKey:n.get("playQueueID")},r);return i.fetch().then((()=>i.get("metadataItems").length?(0,jj.Z)({providerModel:t,metadataListModel:i,playQueueModel:n}).then(null,(()=>h().Deferred().reject("ERROR_COMPANION_PLAY_QUEUE_COULD_NOT_ADD_TO").promise())):h().Deferred().reject("ERROR_COMPANION_PLAY_QUEUE_EMPTY").promise()),(()=>h().Deferred().reject("ERROR_COMPANION_PLAY_QUEUE_COULD_NOT_POPULATE").promise()))}({serverModel:r,providerModel:i,playQueueModel:s}).done((()=>{a.set(((e,t)=>{for(var n in t||(t={}))qj.call(t,n)&&Xj(e,n,t[n]);if($j)for(var n of $j(t))Jj.call(t,n)&&Xj(e,n,t[n]);return e})({isPlayQueueLoading:!1},d)),t(SL({playQueueType:u,mediaIndex:l,bitrate:c}))})).fail((()=>{const e=n.get("remotePlayer");if(e){const t=e.get("friendlyName");a.restoreDefaults({hasError:!0,errorMessage:(0,Ce.Z)('An error occurred loading the media being played on "{playerName}".',{playerName:t})})}}))}({appModel:e,serverModel:t,providerModel:n,playerModel:m,playQueueModel:i,openState:m.get("isOpen")?null:Fj.y,mediaIndex:l,bitrate:c,initialState:p},r)})).fail((()=>{const t=e.get("remotePlayer");if(t){const e=t.get("friendlyName");m.restoreDefaults({hasError:!0,errorMessage:(0,Ce.Z)('"{playerName}" is playing media from an unknown source.',{playerName:e})})}}))},[nL](e,t){const{playQueueType:n,playerState:r,providerIdentifier:i,machineIdentifier:a,liveTVSessionSubscriptionKey:s,liveTVSessionStartedAt:o,liveTVSessionSeekRangeStartedAt:l,liveTVSessionSeekStartSeconds:c,liveTVSessionSeekEndSeconds:d,liveTVSessionCurrentPosition:u,liveTVSessionChannelIdentifier:p}=t,m=jL(e,n);if(!m||!m.get("isOpen"))return;const g=(0,uC.SW)(e,{serverEntityID:m.get("serverEntityID")});LL(e,a,i).then((e=>function(e,t,n,r,i,a,s,o,l,c){if(!r)return n.set({liveTVSession:null}),h().Deferred().resolve().promise();const d=n.get("liveTVSession"),u={key:r,currentPosition:l,startedAt:i,channelIdentifier:c,captureBuffer:{startedAt:a,seekStartSeconds:s,seekEndSeconds:o},nextPosition:null,lastSeekPosition:null};return d&&d.get("key")===r||n.set({liveTVSession:new Dj.Z(u,{provider:t,server:t.server})}),e.get("isCloud")?(null==d||d.set(u),h().Deferred().resolve().promise()):n.get("liveTVSession").populate().then((e=>(e.set(u),e)))}(g,e,m,s,o,l,c,d,u,p))),(0,fn.c9)((()=>{m.set(r)}))},[rL](e,t){const{playQueueType:n,playQueueVersion:r,repeatAll:i,repeatOne:a}=t,s=jL(e,n);if(!s||!s.get("isOpen"))return;const o=s.get("playQueue");if(s.set({repeatAll:i,repeatOne:a}),o){const e=o.get("playQueueVersion");o.set("repeat",i),!o.get("isUpdatePending")&&e<r&&o.fetch()}},[iL](e,{playQueueType:t,mediaIndex:n=0,bitrate:r}){const i=jL(e,t);if(!i||!i.get("isOpen")||i.get("isPlayQueueLoading"))return;const a=i.get("playQueue"),s=a.get("playQueueItems").get(a.get("playQueueSelectedItemID"));if(!s)return;const o=s.get("metadataItem"),l=(0,Ac.getMetadataType)(s.get("type"));if(!l||l.mediaType!==Al.pX)return;const c=o.get("Media")[n],d=Pj.prop("video"),u=Qj.Z.getAvailableQualitiesFor(c,o.server,{lowestQualityIndex:d.lowestQualityIndex}),p=e.get("user").get("experienceSettings");let m=null==r?p.defaults().localQuality:Qj.Z.getNearestIndexToBitrate(r);if(Qj.Z.isExplicitQuality(m)){const e=u[0],t=u[u.length-1];e&&m<e.index?m=e.index:t&&m>t.index&&(m=Qj.Z.ORIGINAL)}i.set({qualityIndex:m,availableQualities:u})},[aL](e,t,n){const{playQueueType:r,key:i,mediaIndex:a=0,partIndex:s=0,audioStreamID:o,subtitleStreamID:l}=t,c=jL(e,r);if(!c||!c.get("isOpen")||c.get("isPlayQueueLoading"))return;const d=c.get("playQueue"),u=d.get("playQueueItems").get(d.get("playQueueSelectedItemID")).get("metadataItem"),p=u.get("Media")[a],m=p&&p.Part[s];if(i!==u.get("key"))return;if(!m)return;const h=S().findWhere(m.Stream,{streamType:Yj.Z.get("audio").id,selected:!0}),g=S().findWhere(m.Stream,{streamType:Yj.Z.get("subtitles").id,selected:!0}),y=null==o?void 0:o.toString(),v=(null==l?void 0:l.toString())||_j.H;null!=o&&h&&h.id!==y&&n((0,$l.Bs)({metadataItemEntityID:u.entityID(),mediaIndex:a,streamTypeString:"audio",streamID:y,updateLocalOnly:!0})),g&&g.id!==v&&n((0,$l.Bs)({metadataItemEntityID:u.entityID(),mediaIndex:a,streamTypeString:"subtitles",streamID:v,updateLocalOnly:!0}))},[sL](e,t){e.get("user").get("experienceSettings").set(t)},[oL](e,t){e.get("remotePlayer").set("volume",t)},[lL](e,{playQueueType:t,errorMessage:n}){const r=jL(e,t);r&&r.restoreDefaults({hasError:!0,errorMessage:n})},[cL](e,t){const n=(0,xj.Z)(e),r=(0,uC.js)(e,t),i=(0,uC.$R)(e,t),a=e.get("remotePlayer"),s=a.get("protocol"),o=a.get("protocolCapabilities");(0,Gj.Z)({protocol:s,protocolCapabilities:o,providerIdentifier:(0,Ho.Z)(r.get("identifier"),r.get("providerIdentifier")),userFeaturesByUUID:(0,kj.Z)(e)})&&n.mirrorDetails(i)},[dL](e){const t=e.get("companionServer");t&&(t.get("desktop").get("players").fetch(),t.get("desktop").get("neighborhoodDevices").fetch()),e.get("user").get("desktop").get("cloudCompanions").forEach((e=>{e.get("cloudPlayers").fetch().then((()=>e.set({linkState:"linked"})),((t,{status:n})=>e.set({linkState:402===n?Uj:zj})))}))},[uL](e,{playQueueType:t},n){const r=jL(e,t);n((0,Rj.n5)()),r.restoreDefaults()},[pL](e){const t=e.get("remotePlayer");if(!t)return;const n=e.get("ui"),r=n.get("audioVideoPlayer"),i=n.get("photoPlayer");r.get("isOpen")&&r.set({confirmRemoteToLocal:!0,controllable:null}),i.get("isOpen")&&i.set({confirmRemoteToLocal:!0,controllable:null});const a=t.get("protocol");a===Bj.l?(0,b.DB)("remoteCastPlayerManager").endSession():a===Bj.D&&(0,b.DB)("remotePlexPlayerManager").endSession(),e.unset("remotePlayer")},[mL](e,{playerType:t}){const n=e.get("ui").get(t+"Player"),r=n.get("playQueue"),i=r.get("playQueueItems"),a=r.get("playQueueSelectedItemID"),s=i.get(a).get("metadataItem");r.set("own",!0),(0,Lj.ZP)(r),n.set({confirmRemoteToLocal:!1,startMetadataItemEntityID:s.entityID(),startOffsetMilliseconds:1e3*n.get("positionSeconds")})},[hL](e,{playerType:t},n){(0,Wj.F_)(e,t).set("confirmLocalToRemote",1),n((0,vt.Mh)({playerType:t}))},[gL](e,{playerType:t}){(0,Wj.F_)(e,t).set("confirmLocalToRemote",1)},[yL](e,{playerType:t}){const n=(0,Wj.F_)(e,t);(0,xj.Z)(e).startPlayback(n),n.set("confirmLocalToRemote",3)}};var RL=n(39409),zL=n(99741);const UL=(0,oC.Z)((function(){return(0,fe.P1)(((e,{metricsContext:t})=>t),sb.Z,ab.Z,(0,xx.Z)(),((e,t,n,r={})=>{const i={};e&&(i.context=e);const a=r.skipParent&&r.subtype===wc.WEBSHOW;return{title:r.title,index:r.index,route:(0,li.Z)(t,n,r.key,i),parentTitle:r.parentTitle,parentIndex:a?null:r.parentIndex,parentRoute:r.skipParent?null:(0,li.Z)(t,n,r.parentKey,i),originallyAvailableAt:r.originallyAvailableAt}}))}))(zL.Z);function VL(e){const{className:t}=e;return g.createElement(RL.Z,{className:t},(0,Ce.Z)("New"))}VL.defaultProps={className:"PremiereAiringBadge-badge-2xdD6O"};const BL=VL,FL=parseInt(ng.Z.channelGridChannelColumnWidth,10),_L=.3*FL;class HL extends g.Component{constructor(e,t){super(e,t),this.state={placeholderWidth:_L+Math.random()*(FL-_L)}}render(){const{className:e,children:t}=this.props,{placeholderWidth:n}=this.state;return g.createElement("div",{className:e,style:{width:`${n}px`}},g.createElement("div",{className:"ChannelsGridPlaceholder-bar-FNbCf2"},t))}}HL.defaultProps={className:"ChannelsGridPlaceholder-container-1m1AHm"};const QL=HL,GL="ChannelsGridMetadataItemCell-onAir-GeK-mF",WL="ChannelsGridMetadataItemCell-finishedAiring-13rKEJ",YL="ChannelsGridMetadataItemCell-content-1rWuwg";class KL extends g.Component{constructor(){super(...arguments),this.onCellPress=()=>{const{metadataItemEntityID:e,mediaIndex:t,cellIndex:n,onPress:r}=this.props;r(e,t,n)}}render(){const{className:e,metadataItemEntityID:t,serverEntityID:n,providerEntityID:r,channelIdentifier:i,mediaIndex:a,width:s,type:o,subscriptionType:l,title:c,premiere:d,canRecord:u,showEpisodeTitle:p,showLoader:m,isOnAir:h,isFinishedAiring:y,isSelected:v,isSubscribed:f,onRecordPress:b}=this.props;if(!t)return g.createElement("div",{className:Te()(e,h&&GL,y&&WL),style:{width:`${s}px`}},m?g.createElement("div",{className:"ChannelsGridMetadataItemCell-placeholderContainer-1gI41Y"},g.createElement(QL,null),g.createElement(QL,null)):g.createElement("div",{className:YL},(0,Ce.Z)("Unknown Airing")));const I=function(e,t){let n=null;switch(e){case Ac.MOVIE:n=$x;break;case Ac.SHOW:case Ac.EPISODE:t&&(n=UL)}return n}(o,p);return g.createElement("div",{className:Te()(e,h&&GL,v&&"ChannelsGridMetadataItemCell-selected-1tuqu8",(h||u)&&"ChannelsGridMetadataItemCell-hoverable-1kBEts",y&&WL),style:{width:`${s}px`},"data-qa-id":"guide-row-item"},g.createElement("div",{className:YL},g.createElement(pw.Z,{className:"ChannelsGridMetadataItemCell-underlay-OvZi6p",onPress:this.onCellPress}),g.createElement("div",null,c),g.createElement("div",{className:"ChannelsGridMetadataItemCell-actionsContainer-3V1QvE"},g.createElement("div",{className:"ChannelsGridMetadataItemCell-subTitleContainer-1zKqch"},I?g.createElement(I,{className:"ChannelsGridMetadataItemCell-subTitle-1yKJC2",serverEntityID:n,providerEntityID:r,metadataItemEntityID:t}):null,d?g.createElement(BL,{className:"ChannelsGridMetadataItemCell-premiereBadge-2b_On_ PremiereAiringBadge-badge-2xdD6O"}):null,f?g.createElement(RL.Z,{className:"ChannelsGridMetadataItemCell-subscriptionBadge-32is_N"},g.createElement(nj.Z,{type:l})):null),g.createElement(yj,{className:"ChannelsGridMetadataItemCell-actions-3hY2qI",isCompact:!0,serverEntityID:n,providerEntityID:r,metadataItemEntityID:t,channelIdentifier:i,mediaIndex:a,showRecord:u,showPlay:h,onRecordPress:b}))))}}KL.defaultProps={className:"ChannelsGridMetadataItemCell-container-2U3-VL"};const qL=KL;var $L=Object.defineProperty,JL=Object.prototype.hasOwnProperty,XL=Object.getOwnPropertySymbols,ek=Object.prototype.propertyIsEnumerable,tk=(e,t,n)=>t in e?$L(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,nk=(e,t)=>{for(var n in t||(t={}))JL.call(t,n)&&tk(e,n,t[n]);if(XL)for(var n of XL(t))ek.call(t,n)&&tk(e,n,t[n]);return e};const rk={dispatchMirrorDetails:CL},ik=(0,v.$j)((function(){return(0,fe.P1)(Mj,(0,xx.Z)(),(0,fe.P1)(((e,{mediaIndex:t})=>t),(0,xx.Z)(),((e,t)=>t?t.Media[e]:null)),(0,fe.P1)(((e,{beginsAt:t})=>t),((e,{endsAt:t})=>t),((e,t)=>{const n=Math.floor(Date.now()/1e3);return{isOnAir:n>=e&&n<=t,isFinishedAiring:n>=t}})),YA(AC.kD),((e,t={},n,r,i)=>{const{type:a,grandparentTitle:s,title:o,subscriptionID:l,subscriptionType:c,grandparentSubscriptionID:d,grandparentSubscriptionType:u,index:p,originallyAvailableAt:m}=t,h=!!n&&n.premiere,g=null!=l||null!=d;let y=!0;if(null==p&&m){const e=new Date,t=(0,Ij.Z)(m);y=e.getDate()!==t.getDate()||e.getMonth()!==t.getMonth()||e.getFullYear()!==t.getFullYear()}return nk(nk({},r),{type:a,title:s||o,subscriptionType:c||u,showEpisodeTitle:y,isRemotePlayer:e,isSubscribed:g,premiere:h,canRecord:!!i})}))}),rk)((function(e){const t=e,{dispatchMirrorDetails:n}=t,r=((e,t)=>{var n={};for(var r in e)JL.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&XL)for(var r of XL(e))t.indexOf(r)<0&&ek.call(e,r)&&(n[r]=e[r]);return n})(t,["dispatchMirrorDetails"]),{serverEntityID:i,providerEntityID:a,metadataItemEntityID:s,isRemotePlayer:o,isSelected:l}=e;return(0,g.useEffect)((()=>{l&&o&&n({serverEntityID:i,providerEntityID:a,metadataItemEntityID:s})}),[o,l,i,a,s,n]),g.createElement(qL,nk({},r))})),ak=(0,v.$j)((function(){return(0,fe.P1)((e=>e.ui.channelGridPage),((e,t)=>{const{airedProgress:n,columnWidth:r,visibleColumns:i}=e;return{width:n/100*i*r}}))}))((function(e){const{className:t,width:n,isActive:r}=e,i={width:`${n}px`};return g.createElement("div",{className:t},g.createElement("div",{className:Te()("ChannelsGridProgress-fill-2MXwF_",r&&"ChannelsGridProgress-active-2iQPOj"),style:i}))}));var sk=n(34470);function ok(){const[e,t]=(0,g.useState)(!1),n=(0,g.useCallback)((()=>{t(!0)}),[]),r=(0,g.useCallback)((()=>{t(!1)}),[]);return[e,{onMouseEnter:n,onMouseLeave:r,onFocus:n,onBlur:r}]}function lk(e){var t=e["aria-label"],n=e.className,r=e.style,i={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-recent-channel-560"};i["aria-hidden"]=!t,i.style=r,i.className=oa.Z.plexIcon+(n?" "+n:"");var a=[g.createElement.apply(g,["path",{d:"M317.1429 42C185.7926 42 79.2857 148.5712 79.2857 280H0l99.6533 99.713c3.3475 3.35 8.7746 3.35 12.1219 0L211.428 280h-79.2852c0-102.34 82.7223-185.1112 185-185.1112 102.2778 0 185.0006 82.7712 185.0006 185.1112 0 102.3391-82.7228 185.1117-185.0005 185.1117-51.0069 0-97.2566-20.8926-130.5566-54.4767l-37.5292 37.5517C192.1354 491.2908 251.3366 518 317.143 518 448.493 518 555 411.4292 555 280c0-131.4288-106.5069-238-237.8571-238zm-37.1435 132.2208v132.2225l112.32 66.1117 19.8223-33.0559-92.4994-52.89V174.2208h-39.6429z"}].concat([]))];return t&&a.unshift(g.createElement("title",null,t)),g.createElement.apply(g,["svg",i].concat(a))}lk.propTypes={"aria-label":sa().string,className:sa().string,style:sa().object};const ck=lk;var dk=Object.defineProperty,uk=Object.prototype.hasOwnProperty,pk=Object.getOwnPropertySymbols,mk=Object.prototype.propertyIsEnumerable,hk=(e,t,n)=>t in e?dk(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const gk=parseInt(ng.Z.channelGridChannelIconWidth,10),yk=parseInt(ng.Z.channelGridRowHeight,10);function vk(e){const{className:t,serverEntityID:n,providerEntityID:r,channel:i,isCloudServer:a,onPlayPress:s}=e,[o,l]=ok(),c=i.vcn||i.identifier;return g.createElement("div",((e,t)=>{for(var n in t||(t={}))uk.call(t,n)&&hk(e,n,t[n]);if(pk)for(var n of pk(t))mk.call(t,n)&&hk(e,n,t[n]);return e})({"data-qa-id":"guide-channel-name",className:t},l),a?null:g.createElement("div",{className:"ChannelsGridRowTitle-numberContainer-19w63A"},o?g.createElement(Xx.Z,{"data-qa-id":"guide-channel-play",className:"ChannelsGridRowTitle-playButton-i1gROw PlayButton-playButton-2dFmuo",title:(0,Ce.Z)("Play Channel {channel}",{channel:c}),tabIndex:"-1",onPress:s}):g.createElement("span",null,c)),g.createElement("div",{className:Te()("ChannelsGridRowTitle-thumbnailContainer-2MPlKU",a&&"ChannelsGridRowTitle-fullWidth-2GU8xP",i.isRecent&&"ChannelsGridRowTitle-isRecent-MgKH9o")},a&&o?g.createElement(Xx.Z,{"data-qa-id":"guide-channel-play",className:"ChannelsGridRowTitle-fullWidthPlayButton-24eHBc ChannelsGridRowTitle-playButton-i1gROw PlayButton-playButton-2dFmuo",title:(0,Ce.Z)("Play Channel {channel}",{channel:i.callSign}),tabIndex:"-1",onPress:s}):null,i.thumb?g.createElement(xt.Z,{key:i.thumb,serverEntityID:n,providerEntityID:r,url:i.thumb,className:"ChannelsGridRowTitle-thumbnail-23YXnB",backgroundSize:"contain",width:gk,height:yk}):g.createElement("div",{className:"ChannelsGridRowTitle-channelCallSignText-2gWrKL",title:i.callSign},i.callSign)),i.isRecent?g.createElement(ck,{className:"ChannelsGridRowTitle-icon-1EBT3l"}):null)}vk.defaultProps={className:"ChannelsGridRowTitle-container-1DnP0p"};const fk=vk;var bk=Object.defineProperty,Ik=Object.prototype.hasOwnProperty,Sk=Object.getOwnPropertySymbols,Mk=Object.prototype.propertyIsEnumerable,Ek=(e,t,n)=>t in e?bk(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Pk=(e,t)=>{for(var n in t||(t={}))Ik.call(t,n)&&Ek(e,n,t[n]);if(Sk)for(var n of Sk(t))Mk.call(t,n)&&Ek(e,n,t[n]);return e};const Dk={dispatchStartPlayback:vt.wA,dispatchStartLiveTVPlayback:Ol.lS},Ck=(0,oC.Z)((function(){return(0,fe.P1)(ux(),(e=sk.K,(0,fe.P1)((0,OT.Z)(e),(t=>t.protocols.includes(e)))),((e,t)=>({isCloudServer:e,hasLiveTVProtocol:t})));var e}),Dk)((function(e){const t=e,{dispatchStartPlayback:n,dispatchStartLiveTVPlayback:r}=t,i=((e,t)=>{var n={};for(var r in e)Ik.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&Sk)for(var r of Sk(e))t.indexOf(r)<0&&Mk.call(e,r)&&(n[r]=e[r]);return n})(t,["dispatchStartPlayback","dispatchStartLiveTVPlayback"]),{serverEntityID:a,providerEntityID:s,channel:o,metricsPage:l,metricsContext:c,isCloudServer:d,hasLiveTVProtocol:u}=e,{identifier:p}=o,m=(0,g.useCallback)((()=>{const e={serverEntityID:a,providerEntityID:s,metricsPage:l,metricsContext:c};d||u?r(Pk(Pk({},e),{options:{type:Al.pX,identifier:p}})):n(e)}),[a,s,l,c,d,u,r,p,n]);return g.createElement(fk,Pk(Pk({},i),{channel:o,isCloudServer:d,onPlayPress:m}))}));function wk(e){const{className:t,rowClassName:n,serverEntityID:r,providerEntityID:i,selectedMetadataItemEntityID:a,selectedMediaIndex:s,selectedMediaItemRow:o,channel:l,cellIndex:c,columnWidth:d,columnTimes:u,isFetching:p,onMetadataItemPress:m,onRecordPress:h,onNextPress:y,onPrevPress:v,onDetailRowMeasure:f}=e,b=(0,Ax.Z)(e),I=u[0],S=u[u.length-1],M=u[1]-u[0];return g.createElement("div",{className:t,style:b.style,"data-qa-id":"guide-row"},g.createElement("div",{className:n},g.createElement(Ck,{className:"ChannelsGridRow-title-Y5aGQy ChannelsGridRowTitle-container-1DnP0p",serverEntityID:r,providerEntityID:i,channel:l}),g.createElement("div",{className:"ChannelsGridRow-programsContainer-1nkFtm"},g.createElement(ak,{className:"ChannelsGridRow-progress-1e5kyu"}),l.programs.map(((e,t)=>{const n=Math.max(e.beginsAt,I),u=(Math.min(e.endsAt,S)-n)/M*d,y=c===o&&a===e.metadataItemEntityID&&s===e.mediaIndex;return g.createElement(ik,{key:t,width:u,className:"ChannelsGridRow-program-3_WUYy ChannelsGridMetadataItemCell-container-2U3-VL",beginsAt:e.beginsAt,endsAt:e.endsAt,metadataItemEntityID:e.metadataItemEntityID,mediaIndex:e.mediaIndex,serverEntityID:r,providerEntityID:i,channelIdentifier:l.identifier,cellIndex:c,isSelected:y,showLoader:p&&!e.metadataItemEntityID,onPress:m,onRecordPress:h})})))),c===o?g.createElement(bx.Z,{key:a,onMeasure:f},g.createElement(bj,{serverEntityID:r,providerEntityID:i,metadataItemEntityID:a,mediaIndex:s,onRecordPress:h,onNextPress:y,onPrevPress:v})):null)}wk.defaultProps={rowClassName:"ChannelsGridRow-container-38wkQ-"};const Zk=(0,g.memo)(wk),Tk="ChannelsGridTimeline-navigationButton-3qQUEd";function Nk(e){const{className:t,enablePrevious:n,enableNext:r,startDate:i,columnTimes:a,timeFormat:s,columnWidth:o,dispatchPrevious:l,dispatchNext:c}=e;return g.createElement("div",{className:t},g.createElement("div",{className:"ChannelsGridTimeline-dayContainer-2UPaJl"},i?(0,pi.Z)(i,"EEEE, LLL dd"):null),g.createElement("div",{className:"ChannelsGridTimeline-labelContainer-DE-gBH"},a.map(((e,t)=>g.createElement("div",{key:t,className:"ChannelsGridTimeline-label-1MPGxp",style:{width:`${o}px`}},function(e,t="HH:mm:ss"){return e?(0,Vx.Z)(e,t):""}(1e3*e,s))))),g.createElement("div",{className:"ChannelsGridTimeline-navigationButtons-2GChH5"},g.createElement(Lx.Z,{className:Tk,iconComponent:kg,title:(0,Ce.Z)("Previous"),isDisabled:!n,onPress:l}),g.createElement(Lx.Z,{className:Tk,iconComponent:jg,title:(0,Ce.Z)("Next"),isDisabled:!r,onPress:c})))}Nk.defaultProps={className:"ChannelsGridTimeline-container-1M5T9M"};const Ok=Nk,Ak={dispatchNext:ZA,dispatchPrevious:TA},xk=(0,v.$j)((function(){return(0,fe.P1)((e=>e.ui.channelGridPage),jx,((e,t)=>{const{startTime:n,columnWidth:r}=e,i=new Date-108e5;let a=new Date(1e3*n);const s=a>i;return Ci(n)&&(a=null),{timeFormat:t,startDate:a,columnWidth:r,enablePrevious:s,enableNext:!0}}))}),Ak)(Ok),jk="ChannelsGrid-innerEmptyPage-3pNmC7 InnerEmptyPage-innerEmptyPage-4wvQ0- EmptyPage-emptyPage-DjF6N1";var Lk=Object.defineProperty,kk=Object.prototype.hasOwnProperty,Rk=Object.getOwnPropertySymbols,zk=Object.prototype.propertyIsEnumerable,Uk=(e,t,n)=>t in e?Lk(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Vk=(e,t)=>{for(var n in t||(t={}))kk.call(t,n)&&Uk(e,n,t[n]);if(Rk)for(var n of Rk(t))zk.call(t,n)&&Uk(e,n,t[n]);return e};const Bk=parseInt(ng.Z.channelGridRowHeight,10)-1,Fk={selectedMetadataItemEntityID:null,selectedMediaIndex:null,selectedMediaItemRow:-1,selectedMediaItemHeight:0};class _k extends g.Component{constructor(e,t){super(e,t),this.getCellHeights=()=>{const{selectedMediaItemRow:e,selectedMediaItemHeight:t}=this.state;return this.props.channels.map(((n,r)=>{let i=Bk;return r===e&&(i+=t||140),i}))},this._updateProgress=()=>{this.props.dispatchUpdateAiredProgress(),this._resetUpdateTimeout()},this.onMetadataItemPress=(e,t,n)=>{this.state.selectedMetadataItemEntityID!==e||this.state.selectedMediaIndex!==t||this.state.selectedMediaItemRow!==n?this.setState({selectedMetadataItemEntityID:e,selectedMediaIndex:t,selectedMediaItemRow:n,selectedMediaItemHeight:140}):this.setState(Fk)},this.onDetailRowMeasure=({height:e})=>{this.setState({selectedMediaItemHeight:e})},this.onPrevPress=()=>{var e;const{selectedMetadataItemEntityID:t,selectedMediaIndex:n,selectedMediaItemRow:r}=this.state,{programs:i}=this.props.channels[r],a=i.findIndex((e=>e.metadataItemEntityID===t&&e.mediaIndex===n))-1,{metadataItemEntityID:s,mediaIndex:o}=null!=(e=i[a])?e:{};s&&this.setState({selectedMetadataItemEntityID:s,selectedMediaIndex:o}),a<=1&&this.props.dispatchNavigateTimeBack()},this.onNextPress=()=>{var e;const{selectedMetadataItemEntityID:t,selectedMediaIndex:n,selectedMediaItemRow:r}=this.state,{programs:i}=this.props.channels[r],a=i.findIndex((e=>e.metadataItemEntityID===t&&e.mediaIndex===n))+1,{metadataItemEntityID:s,mediaIndex:o}=null!=(e=i[a])?e:{};s&&this.setState({selectedMetadataItemEntityID:s,selectedMediaIndex:o}),a>=i.length-1&&this.props.dispatchNavigateTimeForward()},this.onDetailRowMeasure=({height:e})=>{this.setState({selectedMediaItemHeight:e})},this.renderCell=e=>{const{serverEntityID:t,providerEntityID:n,columnTimes:r,columnWidth:i,channels:a,isPending:s,onRecordPress:o}=this.props,{selectedMetadataItemEntityID:l,selectedMediaIndex:c,selectedMediaItemRow:d}=this.state,u=a[e.cellIndex];return u?g.createElement(Zk,Vk(Vk({},e),{className:"ChannelsGrid-gridRowCell-39dHO5 ChannelsGrid-gridContainer-3bz1oT",rowClassName:"ChannelsGrid-gridRow-1znZPv ChannelsGridRow-container-38wkQ-",channel:u,serverEntityID:t,providerEntityID:n,selectedMetadataItemEntityID:l,selectedMediaIndex:c,selectedMediaItemRow:d,columnTimes:r,columnWidth:i,isFetching:s,onMetadataItemPress:this.onMetadataItemPress,onNextPress:this.onNextPress,onPrevPress:this.onPrevPress,onDetailRowMeasure:this.onDetailRowMeasure,onRecordPress:o})):null},this._updateTimeout=null,this.state=Fk}static getDerivedStateFromProps(e,t){const{selectedMediaIndex:n,selectedMetadataItemEntityID:r,selectedMediaItemRow:i}=t,a=e.channels[i];return a&&0!==a.programs.length?a.programs.find((e=>e.mediaIndex===n&&e.metadataItemEntityID===r))?null:Fk:null}componentDidMount(){this._updateProgress()}shouldComponentUpdate(e,t){return(0,At.Z)(this,e,t)}componentDidUpdate(e){(0,mx.Z)(this.props.columnTimes,e.columnTimes)||this._updateProgress()}_resetUpdateTimeout(){this._updateTimeout&&window.clearTimeout(this._updateTimeout);const e=6e4-Date.now()%6e4;this._updateTimeout=window.setTimeout(this._updateProgress,e)}render(){const{className:e,serverEntityID:t,providerEntityID:n,viewportWidth:r,viewportHeight:i,columnTimes:a,channels:s,isCloudServer:o,isEmpty:l,showSpinner:c,showError:d}=this.props,u=o?"uniqueId":"identifier";return g.createElement("div",{className:e},c||d||l?null:g.createElement(mb,{className:"ChannelsGrid-banner-1oKldN ProgramGuideGracenoteMigrationBanner-container-3KhZOk",serverEntityID:t,providerEntityID:n}),c||d||l?null:g.createElement(xk,{className:"ChannelsGrid-timeline-fnhU5q ChannelsGridTimeline-container-1M5T9M",columnTimes:a}),d?g.createElement(Ox.Z,{className:jk,title:(0,Ce.Z)("There was an error loading channels")}):null,c?g.createElement(Ex.Z,{className:jk},g.createElement(Mx.Z,{label:(0,Ce.Z)("Loading channels")})):null,c||d||!l?null:g.createElement(Nx,{serverEntityID:t,providerEntityID:n}),c||d||l?null:g.createElement(Ix.Z,{className:"ChannelsGrid-gridContent-3f0J_F",scrollerClassName:"ChannelsGrid-gridInnerContent-1HXxYn VirtualListScroller-scroller-36RMyc",keyPropName:u,items:s,scrollDirection:tZ.yZ,viewportWidth:r,viewportHeight:i,size:s.length,layout:Sx({getCellHeights:this.getCellHeights}),cellRenderer:this.renderCell,onMeasure:this.onScrollerMeasure}))}}_k.defaultProps={className:"ChannelsGrid-gridContainer-3bz1oT",columnTimes:[],isCloudServer:!1};const Hk=_k;var Qk=Object.defineProperty,Gk=Object.prototype.hasOwnProperty,Wk=Object.getOwnPropertySymbols,Yk=Object.prototype.propertyIsEnumerable,Kk=(e,t,n)=>t in e?Qk(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,qk=(e,t)=>{for(var n in t||(t={}))Gk.call(t,n)&&Kk(e,n,t[n]);if(Wk)for(var n of Wk(t))Yk.call(t,n)&&Kk(e,n,t[n]);return e};const $k={dispatchUpdateAiredProgress:OA,dispatchNavigateTimeForward:ZA,dispatchNavigateTimeBack:TA},Jk=(0,v.$j)((function(){return(0,fe.P1)((e=>e.ui.channelGridPage),(0,ax.Z)(),((e,t={})=>{const{isPending:n=!0,isPopulated:r=!1,metadataItems:i=[],error:a}=t,s=!!n&&!r&&!a,o=!!a,l=r&&!n&&!a&&0===i.length;return qk(qk({},e),{isPending:n,isEmpty:l,showSpinner:s,showError:o})}))}),$k)(Hk);var Xk=n(89888),eR=n(40822);const tR="bool",nR="double",rR="group",iR="lineup",aR="location",sR="select",oR="provider/providerSettings/fetchProviderSettings",lR="provider/providerSettings/fetchProviderSettingSelectOptions",cR="provider/provderSettings/clearProviderSettingFetchError",dR="provider/providerSettings/fetchProviderSettingLocationOptions",uR="provider/providerSettings/populateProviderSettingLocationOptions",pR="provider/providerSettings/fetchProviderSettingLineupChannels",mR="provider/providerSettings/populateProviderSettingLineupChannels",hR="provider/providerSettings/fetchProviderSettingRecentChannelsInGrid",gR="provider/providerSettings/populateProviderSettingRecentChannelsInGrid",yR="provider/providerSettings/updateProviderSetting",vR="provider/providerSettings/clearProviderSettingUpdateError",fR="provider/providerSettings/populateProviderSettingOptions",bR=(0,bc.Z)(oR),IR=(0,bc.Z)(lR),SR=(0,bc.Z)(cR),MR=(0,bc.Z)(dR),ER=(0,bc.Z)(uR),PR=(0,bc.Z)(pR),DR=(0,bc.Z)(mR),CR=(0,bc.Z)(hR),wR=(0,bc.Z)(gR),ZR=(0,bc.Z)(yR),TR=(0,bc.Z)(vR),NR=(0,bc.Z)(fR);function OR(e,t){return(0,uC.js)(e,t).get("features").get(AC.L6)}function AR(e,t){return OR(e,t).get("settings").get(t.settingID)}function xR(e,t){switch(e.get("type")){case iR:{const n=e.get("lineup"),r=new Xk.Z(t.map((e=>{const t=n.findWhere({id:e.id});return t.set({hidden:e.hidden}),t})));e.set("lineup",r);break}case aR:{const n=e.get("locations").get(t.country);e.set({country:t.country,countryLabel:n.get("title"),postalCode:t.postalCode});break}case sR:S().each(t,((t,n)=>{e.get("options").get(n).set({selected:t})})),e.set("selectedCount",S().values(t).filter((e=>e)).length);break;default:e.set("value",t[e.id])}}function jR(e,t,n){const r=S().mapObject(t,((e,t)=>!0===e?"1":!1===e?"0":e)),i=E.Z.join(S().result(e,"url"),{prefs:r}),a=n.getXHROptions(i,{type:"PUT"});return h().ajax(a).then((()=>{xR(e,t)}))}const LR={[oR]:(0,cC.Z)({key:"settings",getModel:OR}),[lR]:(0,cC.Z)({key:"options",getModel:AR}),[dR]:(0,cC.Z)({key:"locations",getModel:AR}),[uR]:(0,dC.Z)({key:"locations",fetchActionCreator:MR,getModel:AR}),[pR]:(0,cC.Z)({key:"lineup",getModel:AR}),[mR]:(0,dC.Z)({key:"lineup",fetchActionCreator:PR,getModel:AR}),[hR]:(0,cC.Z)({key:"recentChannelsInGrid",getModel:AR}),[gR]:(0,dC.Z)({key:"recentChannelsInGrid",fetchActionCreator:CR,getModel:AR}),[yR](e,t){const{settingID:n,values:r}=t,i=(0,uC.js)(e,t),a=i.get("features").get(AC.L6),s=e.get("ui").get("providerSettingsPage"),o=a.get("settings").get(n);s.set({isUpdatePending:!0,updateError:null});const l=[];if(o.get("type")===rR)o.get("settings").forEach((e=>{const t={[e.id]:r[e.id]};l.push(jR(e,t,i))}));else if(o.get("type")===iR){const e=S().result(o,"url"),t=i.getXHROptions(e,{type:"PUT",contentType:"application/json",data:JSON.stringify(r)}),n=h().ajax(t).then((()=>{xR(o,r)}));l.push(n)}else"int"===o.get("type")?(Object.keys(r).forEach((e=>{r[e]=parseInt(r[e],10)})),l.push(jR(o,r,i))):l.push(jR(o,r,i));h().when(...l).then((()=>{s.set({isUpdatePending:!1,updateError:null})}),(e=>{s.set({isUpdatePending:!1,updateError:(0,jC.Z)(e)})}))},[vR](e,t){e.get("ui").get("providerSettingsPage").set("updateError",null)},[cR](e,t){AR(e,t).set({optionsError:null,locationsError:null})},[fR](e,t,n){const r=AR(e,t),i=r.get("type");if(i===sR)(0,fn.c9)((()=>{n(IR(t))}));else if(i===aR)n(ER(t));else if(i===iR){const e=r.get("id");e===eR.Pt?n(DR(t)):e===eR.x8&&n(wR(t))}}};var kR=Object.defineProperty,RR=Object.prototype.hasOwnProperty,zR=Object.getOwnPropertySymbols,UR=Object.prototype.propertyIsEnumerable,VR=(e,t,n)=>t in e?kR(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,BR=(e,t)=>{for(var n in t||(t={}))RR.call(t,n)&&VR(e,n,t[n]);if(zR)for(var n of zR(t))UR.call(t,n)&&VR(e,n,t[n]);return e};function FR(e,t){return e.find((({id:e})=>e===t))||{}}const _R={dispatchFetchProviderSettings:bR,dispatchFetchProviderSettingRecentChannelsInGrid:CR,dispatchUpdateAiredProgress:OA,dispatchNavigateTimeForward:ZA,dispatchNavigateTimeBack:TA};function HR(e){const t=e,{providerEntityID:n,numRecentChannelsInGrid:r,isSettingsPending:i,dispatchFetchProviderSettings:a,dispatchFetchProviderSettingRecentChannelsInGrid:s}=t,o=((e,t)=>{var n={};for(var r in e)RR.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&zR)for(var r of zR(e))t.indexOf(r)<0&&UR.call(e,r)&&(n[r]=e[r]);return n})(t,["providerEntityID","numRecentChannelsInGrid","isSettingsPending","dispatchFetchProviderSettings","dispatchFetchProviderSettingRecentChannelsInGrid"]);return(0,g.useEffect)((()=>{a({providerEntityID:n})}),[a,n]),(0,g.useEffect)((()=>{!i&&r>0&&s({providerEntityID:n,settingID:eR.x8})}),[s,i,r,n]),g.createElement("div",null,g.createElement(Hk,BR(BR({},o),{providerEntityID:n})))}HR.defaultProps={numRecentChannelsInGrid:0};const QR=(0,v.$j)((function(){return(0,fe.P1)((e=>e.ui.channelGridPage),((e,{channels:t})=>t),(0,ax.Z)(),YA(AC.L6),((e,t,n={},r)=>{const{isPending:i=!0,isPopulated:a=!1,metadataItems:s=[],error:o}=n,{settings:l,isSettingsPending:c=!0,isSettingsPopulated:d=!1,settingsError:u}=r,p=FR(l,eR.x8),m=FR(l,eR.xy),h=m?m.value:0,{recentChannelsInGrid:g=[],isRecentChannelsInGridPending:y=!0,isRecentChannelsInGridPopulated:v=!1,recentChannelsInGridError:f}=p,b=i&&!a&&!o||c&&!d&&!u||h>0&&y&&!v&&!f,I=!!f||!!u||!!o,S=a&&!i&&!o&&0===s.length,M=[...t];if(h>0&&v){const e=g.reduce(((e,n)=>{const r=t.find((e=>e.identifier===n.id));return r&&e.push(BR(BR({},r),{isRecent:!0})),e}),[]);M.unshift(...e)}return M.forEach(((e,t)=>(e.uniqueId=t,e))),BR(BR({},e),{channels:M,numRecentChannelsInGrid:h,isCloudServer:!0,isPending:i,isSettingsPending:c,isEmpty:S,showSpinner:b,showError:I})}))}),_R)(HR);var GR=Object.defineProperty,WR=Object.prototype.hasOwnProperty,YR=Object.getOwnPropertySymbols,KR=Object.prototype.propertyIsEnumerable,qR=(e,t,n)=>t in e?GR(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,$R=(e,t)=>{for(var n in t||(t={}))WR.call(t,n)&&qR(e,n,t[n]);if(YR)for(var n of YR(t))KR.call(t,n)&&qR(e,n,t[n]);return e};const JR=function(e){const{metadataListEntityID:t,serverEntityID:n,providerEntityID:r,channels:i,isCloudServer:a,onMeasure:s}=e,[o,l]=(0,g.useState)({}),c=(0,GN.Z)(),d=(0,g.useCallback)((e=>{l(e),c.onOpen()}),[c,l]),u=a?QR:Jk;return g.createElement(g.Fragment,null,g.createElement(km.Z,$R($R({},o),{isOpen:c.isOpen,onModalClose:c.onClose})),g.createElement(bx.Z,{className:"ChannelsGridPageContent-measureContainer-5MIW-V",onMeasure:s},g.createElement(u,{className:"ChannelsGridPageContent-gridContent-30jtAY ChannelsGrid-gridContainer-3bz1oT",metadataListEntityID:t,serverEntityID:n,providerEntityID:r,channels:i,onRecordPress:d})))},XR=parseInt(ng.Z.channelGridChannelOverflowWidth,10),ez=parseInt(ng.Z.channelGridChannelColumnWidth,10),tz=parseInt(ng.Z.channelGridTitleColumnWidth,10),nz=(0,fe.P1)((e=>e.ui.channelGridPage),ux(),((e,t)=>{const{columnTimes:n}=e;return{columnTimes:n,isCloudServer:t}})),rz={dispatchSetViewportSize:NA,dispatchResetStartTime:wA};class iz extends g.Component{constructor(e,t){super(e,t),this._updateGrid=()=>{const{dispatchResetStartTime:e}=this.props;e(),this._resetTimeout()},this.onMeasure=e=>{const{isMeasured:t,measuredSize:n}=this.state;t&&(0,mx.Z)(n,e)||this.setState({isMeasured:!0,measuredSize:e},(()=>{this.setViewportSize(e)}))},this._updateTimeout=null,this.state={isMeasured:!1,measuredSize:null}}componentDidMount(){this._resetTimeout()}componentDidUpdate(e){const{metadataListEntityID:t,columnTimes:n}=this.props;t===e.metadataListEntityID&&(0,mx.Z)(n,e.columnTimes)||this._resetTimeout()}componentWillUnmount(){this._updateTimeout&&window.clearTimeout(this._updateTimeout)}_resetTimeout(e=this.props){const{columnTimes:t}=e;if(!t.length)return;this._updateTimeout&&(window.clearTimeout(this._updateTimeout),this._updateTimeout=null);const n=Math.floor(Date.now()/1e3);let r=7200;t[0]<=n&&t[1]>=n&&(r=t.find((e=>n<e))-n),this._updateTimeout=window.setTimeout(this._updateGrid,1e3*r)}setViewportSize(e){const{dispatchSetViewportSize:t}=this.props;t({width:e.width,height:e.height,overflowWidth:XR,channelWidth:ez,channelTitleWidth:tz}),this._resetTimeout()}render(){const{serverEntityID:e,providerEntityID:t,metadataListEntityID:n,channels:r,isCloudServer:i}=this.props;return g.createElement(JR,{serverEntityID:e,providerEntityID:t,metadataListEntityID:n,channels:r,isCloudServer:i,onMeasure:this.onMeasure})}}const az=(0,v.$j)(nz,rz)(iz);function sz(){return(0,fe.P1)((0,OT.Z)(),((e={})=>[{key:`/${e.identifier}/grid?channel.value=1`,filter:qA,filterKey:"channel.value",filterType:en,title:(0,Ce.Z)("HD Channels Only")}]))}var oz=n(41859),lz=n(89197),cz=n(91061);function dz(e,t){if(e&&e.pivots)return e.pivots.find((e=>e.key===t))}var uz=n(32553);const pz=(0,fe.P1)((0,wn.Z)("features"),(e=>(0,uz.Z)(e,(e=>e.id),(()=>!0))));var mz=n(96335);const hz=function(e){const{tab:t,component:n,onPress:r}=e,i=(0,v.I0)(),a=(0,g.useCallback)((e=>{const n=e.currentTarget.getAttribute("href");n&&(0===e.button||e.touches)&&(e.stopPropagation(),i((0,Wn.c4)({pathname:n,replace:!0}))),r(t.id)}),[t,r,i]);return g.createElement(n,{isDisabled:t.isDisabled,isSelected:t.isSelected,to:t.route,onPress:a},t.title)},gz=(0,v.$j)(null,(function(e,t){const{serverEntityID:n,providerEntityID:r,providerMetricsIdentifier:i,sourceDirectory:a,tab:s,metricsPage:o}=t;return{onPress(t,l){l||e((0,Wn.zt)({serverEntityID:n,providerEntityID:r,directoryID:a.id,pivotKey:s.pivotKey})),(0,b.DB)("metrics").trackEvent({event:mz.Ip,interaction:!0,properties:{page:o,identifier:i,action:ss.oG,context:s.context,origin:yO}})}}}))(hz);var yz=Object.defineProperty,vz=Object.prototype.hasOwnProperty,fz=Object.getOwnPropertySymbols,bz=Object.prototype.propertyIsEnumerable,Iz=(e,t,n)=>t in e?yz(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;function Sz(e){const t=e,{className:n,children:r,isSelected:i}=t,a=((e,t)=>{var n={};for(var r in e)vz.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&fz)for(var r of fz(e))t.indexOf(r)<0&&bz.call(e,r)&&(n[r]=e[r]);return n})(t,["className","children","isSelected"]);return g.createElement(cb.Z,((e,t)=>{for(var n in t||(t={}))vz.call(t,n)&&Iz(e,n,t[n]);if(fz)for(var n of fz(t))bz.call(t,n)&&Iz(e,n,t[n]);return e})({className:Te()(n,i&&"PageHeaderTabButton-isSelected--LulaD"),"data-qa-id":"tabButton",size:Rp.ln},a),r)}Sz.defaultProps={className:"PageHeaderTabButton-button-3utZrS Button-button-38SEbM Link-link-CM9nxg"};const Mz=Sz;function Ez(){const e=(0,No.Z)(),[t,n]=(0,g.useState)(!1),r=(0,g.useCallback)((()=>{n(!t)}),[t,n]),i=(0,g.useCallback)((()=>{n(!1)}),[n]);return{menuButtonID:e,isMenuOpen:t,onMenuButtonPress:r,onMenuClose:i}}var Pz=Object.defineProperty,Dz=Object.prototype.hasOwnProperty,Cz=Object.getOwnPropertySymbols,wz=Object.prototype.propertyIsEnumerable,Zz=(e,t,n)=>t in e?Pz(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Tz=(e,t)=>{for(var n in t||(t={}))Dz.call(t,n)&&Zz(e,n,t[n]);if(Cz)for(var n of Cz(t))wz.call(t,n)&&Zz(e,n,t[n]);return e};const Nz={placement:"bottom-start",modifiers:[{name:"offset",options:{offset:[parseInt(ng.Z.pageHeaderTabButtonLeftRightMargin,10)]}}]},Oz=function(e){const t=e,{tabs:n,component:r,onPress:i}=t,a=((e,t)=>{var n={};for(var r in e)Dz.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&Cz)for(var r of Cz(e))t.indexOf(r)<0&&wz.call(e,r)&&(n[r]=e[r]);return n})(t,["tabs","component","onPress"]),{menuButtonID:s,isMenuOpen:o,onMenuButtonPress:l,onMenuClose:c}=Ez(),d=(0,g.useCallback)((e=>{c(),i&&i(e)}),[i,c]),u=n.find((e=>e.isSelected))||n[0];return g.createElement("div",{id:s,className:"PageHeaderTabDropdown-container-G6JHu6","data-qa-id":"tabDropDown"},g.createElement(Mz,{className:"PageHeaderTabDropdown-button-1kHQQp PageHeaderTabButton-button-3utZrS Button-button-38SEbM Link-link-CM9nxg",isSelected:u.isSelected,onPress:l},g.createElement("div",{className:"PageHeaderTabDropdown-buttonContents-3kI_h4"},g.createElement("div",{className:"PageHeaderTabDropdown-title-31q--D"},u.title),g.createElement(Lp.Z,{className:Te()("PageHeaderTabDropdown-disclosureArrow-2qKCFZ DisclosureArrow-disclosureArrow-1jttuj",u.isSelected&&"PageHeaderTabDropdown-isSelected-1ERAX6"),direction:o?kp.UP:kp.WV}))),g.createElement(Xl.Z,{isOpen:o,target:s,options:Nz,onMenuClose:c},n.map(((e,t)=>g.createElement(r,Tz(Tz({},a),{key:t,tab:e,component:Up.Z,onPress:d}))))))};var Az=Object.defineProperty,xz=Object.prototype.hasOwnProperty,jz=Object.getOwnPropertySymbols,Lz=Object.prototype.propertyIsEnumerable,kz=(e,t,n)=>t in e?Az(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Rz=(e,t)=>{for(var n in t||(t={}))xz.call(t,n)&&kz(e,n,t[n]);if(jz)for(var n of jz(t))Lz.call(t,n)&&kz(e,n,t[n]);return e};function zz(e){const t=e,{tabs:n,component:r,hideSingleTabs:i}=t,a=((e,t)=>{var n={};for(var r in e)xz.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&jz)for(var r of jz(e))t.indexOf(r)<0&&Lz.call(e,r)&&(n[r]=e[r]);return n})(t,["tabs","component","hideSingleTabs"]),[s,o]=(0,g.useState)(0),l=(0,g.useCallback)((e=>{o(e.width)}),[]),[c,d]=(0,g.useState)(0),u=(0,g.useCallback)((e=>{d(e.width)}),[]),p=n.length<2,m=n.length>1&&c>s;return p&&i?null:g.createElement(bx.Z,{className:"TabsPageHeaderCenter-pageHeaderCenter--z59R6 PageHeaderCenter-pageHeaderCenter-2VRH7R",ignoreHeight:!0,onMeasure:l},m?g.createElement(Oz,Rz(Rz({},a),{tabs:n,component:r})):g.createElement(bx.Z,{ignoreHeight:!0,onMeasure:u},n.map(((e,t)=>g.createElement(r,Rz(Rz({},a),{key:t,tab:e,component:Mz}))))))}zz.defaultProps={component:hz,hideSingleTabs:!0};const Uz=zz;var Vz=Object.defineProperty,Bz=Object.prototype.hasOwnProperty,Fz=Object.getOwnPropertySymbols,_z=Object.prototype.propertyIsEnumerable,Hz=(e,t,n)=>t in e?Vz(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Qz=(e,t)=>{for(var n in t||(t={}))Bz.call(t,n)&&Hz(e,n,t[n]);if(Fz)for(var n of Fz(t))_z.call(t,n)&&Hz(e,n,t[n]);return e};const Gz=(0,oC.Z)((function(){return(0,fe.P1)(ab.Z,(0,fe.P1)(((e,{sourceDirectory:t})=>t),((e,{directoryKey:t})=>t),(0,LT.Z)(),(0,OT.Z)(),pz,((e,t,n,r,i)=>{const a=dz(e,t);return e.pivots.reduce(((t,s)=>{if("vod.channels"===s.id&&s.requires&&!i[s.requires])return t;const o=DO(n,r,e,s);return o?(t.push({pivotKey:s.key,title:s.title,route:o,isSelected:!(!a||s.key!==a.key),isDisabled:!s.key,context:s.context}),t):t}),[])})),((e,t)=>({providerMetricsIdentifier:e.metricsIdentifier,tabs:t})))}))((function(e){return g.createElement(Uz,Qz(Qz({},e),{component:gz}))}));var Wz=n(76892),Yz=n(12272);function Kz(e,t,n,r){return r?(0,Ce.Z)("Downloads"):e?e.title:t.isCloud?n.title:MT(t)}function qz(e,t){return t.isCloud?e&&e.providerSourceTitle:t.isFullOwnedServer?e?e.serverFriendlyName:null:e?`${e.serverSourceTitle}  ${e.serverFriendlyName}`:ST(t)}const $z=(0,fe.P1)(((e,{sourceDirectory:t})=>t),Wz.Z,(0,LT.Z)(),(0,OT.Z)(),(0,Yz.Z)(),YA(AC.P8),((e,t,n,r,i,a)=>{if(!a)return{};const s=(0,IT.Z)(r,e),o=e?bT({sourceType:s?s.key:null,sourceServer:n,sourceProvider:r,sourceDirectory:e}):null,l=i?dO(t.downloads):(0,hI.Z)(n,r,e,e?void 0:{key:yT.D,pageType:gT.km});return{isEmbeddedServer:i,source:o,title:Kz(o,n,r,i),detail:qz(o,n),route:l}})),Jz=(0,v.$j)($z)((function(e){const{serverEntityID:t,providerEntityID:n,isEmbeddedServer:r,source:i,title:a,detail:s,route:o}=e,l=Ez();return g.createElement(g.Fragment,null,i&&!r?g.createElement(EZ,null,g.createElement(NT,{id:l.menuButtonID,iconComponent:pO,label:(0,Ce.Z)("Actions"),isMenuOpen:l.isMenuOpen,onPress:l.onMenuButtonPress}),g.createElement(cO,{target:l.menuButtonID,serverEntityID:t,providerEntityID:n,source:i,isOverflowMenuOpen:l.isMenuOpen,onOverflowMenuClose:l.onMenuClose})):null,g.createElement("div",{className:"CurrentSource-headerContainer-RXQpOZ"},g.createElement(ET,{title:a,detail:s,route:o})))}));function Xz(e){const{containerComponent:t,serverEntityID:n,providerEntityID:r,sourceDirectory:i,children:a}=e;return g.createElement(t,null,g.createElement(Jz,{serverEntityID:n,providerEntityID:r,sourceDirectory:i}),a?g.createElement("div",{className:"CurrentSourcePageHeaderLeft-childrenContainer-1iXDoS"},a):null)}Xz.defaultProps={containerComponent:ZZ};const eU=Xz,tU=(0,v.$j)((function(){return(0,fe.P1)(xT(),(e=>({isEPGRefreshing:!!e,epgActivityProgress:e?e.progress:0,epgActivityTitle:e?e.title:""})))}))((function(e){const{className:t,isEPGRefreshing:n,epgActivityProgress:r,epgActivityTitle:i}=e;return n?g.createElement("span",{className:t},i," (",r,"%)",g.createElement(Mx.Z,{className:"ProgramGuideActivityStatus-refreshingSpinner-3Ad-Zw",size:Rp.HC})):null}));function nU(e){if(!e)return"";const t=e instanceof Date?e:new Date(e),n=(0,_i.Z)(t);return(0,Di.Z)(t,new Date)?(0,Ce.Z)("Today"):bi(n)}var rU=n(45428);class iU extends g.Component{constructor(){super(...arguments),this.onPress=()=>{const{option:e,onPress:t}=this.props;t(e)}}render(){const{className:e,option:t,isDisabled:n,isSelected:r}=this.props;return g.createElement(Up.Z,{className:e,isDisabled:n,isSelected:r,onPress:this.onPress},t.title)}}const aU=iU,sU=function(e){const{className:t,dateOptions:n,onSelectDate:r,onSelectNow:i}=e;return g.createElement(rU.Z,{className:t,autoScroll:!0},g.createElement(Up.Z,{onPress:i},(0,Ce.Z)("Now")),g.createElement(tc.Z,null),n.map(((e,t)=>g.createElement(aU,{key:t,option:e,isSelected:e.isSelected,onPress:r},e.title))))};var oU=n(59910),lU=n(313),cU=n(37042),dU=n(12383);function uU(e,t){return(0,dU.Z)((0,cU.Z)(new Date(e),t))}const pU=(0,v.$j)((function(){const e=[{startHour:0,title:(0,Ce.Z)("Midnight")},{startHour:2,title:(0,Ce.Z)("Overnight")},{startHour:6,title:(0,Ce.Z)("Morning")},{startHour:10,title:(0,Ce.Z)("Daytime")},{startHour:17,title:(0,Ce.Z)("Evening")},{startHour:23,title:(0,Ce.Z)("Late Night")}];return(0,fe.P1)((e=>e.ui.channelGridPage),((e,{selectedDateOption:t})=>t),((t,n={})=>{if(!n)return{timeOptions:[]};const r=(0,ui.Z)(t.startTime),i=(0,ui.Z)(n.value),a=new Date;return{timeOptions:e.map(((t,n)=>{const s=e[n+1],o=uU(i,t.startHour),l=uU(i,s?s.startHour:24),c=(0,lU.Z)(a,l),d=(0,oU.Z)(r,o)>=0&&(0,oU.Z)(r,l)<0,u=(0,lU.Z)(o,a)?(0,_i.Z)(a):(0,_i.Z)(o);return{title:(0,oU.Z)(a,o)>=0&&(0,oU.Z)(a,l)<0?(0,Ce.Z)("Now ({timeSlotTitle})",{timeSlotTitle:t.title}):t.title,value:u,isEnabled:c,isSelected:d}}))}}))}))((function(e){const{className:t,timeOptions:n,selectedDateOption:r,onDeselectDateOption:i,onSelectTime:a}=e;return g.createElement("div",{className:t},g.createElement("div",{className:"DatePickerTimeList-header-3zEbCU"},g.createElement(pw.Z,{onPress:i},g.createElement(kg,{className:"DatePickerTimeList-backIcon-RzJH6N","aria-label":(0,Ce.Z)("Back")})),g.createElement("span",{className:"DatePickerTimeList-headerText-3ya1tf"},r.title)),g.createElement(tc.Z,null),n.map(((e,t)=>g.createElement(aU,{key:t,option:e,isDisabled:!e.isEnabled,isSelected:e.isSelected,onPress:a},e.title))))})),mU={scrollDirection:tZ.Hn,className:"DatePickerMenu-listContainer-1Kt582"};class hU extends g.Component{constructor(e,t){super(e,t),this.onSelectDate=e=>{this.setState({showTimeOptions:!0,activeDateOption:e})},this.onSelectNow=()=>{const e=Math.floor(Date.now()/1e3);this.onSelectTime({value:e})},this.onSelectTime=e=>{this.setState({showTimeOptions:!1}),this.props.dispatchSetStartTime(e.value),this.props.onMenuClose()},this.onHideOptions=e=>{this.setState({showTimeOptions:!1})},this.state={showTimeOptions:!1,activeDateOption:e.dateOptions.find((e=>e.isSelected))}}render(){const{target:e,isOpen:t,dateOptions:n,onMenuClose:r}=this.props,{showTimeOptions:i,activeDateOption:a}=this.state,s=Te()("DatePickerMenu-list-1PsuWe",!!i&&"DatePickerMenu-showTimeOptions-2DAJVj");return g.createElement(Xl.Z,{target:e,isOpen:t,size:Rp.M2,scrollerProps:mU,onMenuClose:(0,rc.Z)(this.onHideOptions,r)},g.createElement(sU,{className:s,dateOptions:n,onSelectDate:this.onSelectDate,onSelectNow:this.onSelectNow}),g.createElement(pU,{className:s,selectedDateOption:a,onDeselectDateOption:this.onHideOptions,onSelectTime:this.onSelectTime}))}}const gU=hU,yU={dispatchSetStartTime:CA},vU=(0,v.$j)((function(){return(0,fe.P1)((e=>e.ui.channelGridPage),(e=>({dateOptions:function(e){const t=[],n=(0,ui.Z)(e);for(let e=0;e<8;e++){const r=(0,wi.Z)(new Date,e),i=nU(r),a=(0,Di.Z)(r,n);t.push({title:i,value:(0,_i.Z)(r),isSelected:a})}return t}(e.startTime)})))}),yU)(gU);var fU=n(52601),bU=Object.defineProperty,IU=Object.prototype.hasOwnProperty,SU=Object.getOwnPropertySymbols,MU=Object.prototype.propertyIsEnumerable,EU=(e,t,n)=>t in e?bU(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;function PU(e,t,n){const r=[...e];for(let e=r.length-1;e>=0;e--){const t=r[e],i=t.type===en,a=n.type===en;t&&i!==a||r.splice(e,1)}return r.push(((e,t)=>{for(var n in t||(t={}))IU.call(t,n)&&EU(e,n,t[n]);if(SU)for(var n of SU(t))MU.call(t,n)&&EU(e,n,t[n]);return e})({key:t},n)),r}var DU=Object.defineProperty,CU=Object.prototype.hasOwnProperty,wU=Object.getOwnPropertySymbols,ZU=Object.prototype.propertyIsEnumerable,TU=(e,t,n)=>t in e?DU(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,NU=(e,t)=>{for(var n in t||(t={}))CU.call(t,n)&&TU(e,n,t[n]);if(wU)for(var n of wU(t))ZU.call(t,n)&&TU(e,n,t[n]);return e};function OU(e,t,n){if(null==n)return e.filter((e=>e.key!==t));const r=[...e];let i=r.length;for(;i-- >0;){const e=r[i],a=e.key,s=e.value;if(t===a&&n===s)r.splice(i,1);else if(t===a&&Array.isArray(s)){const t=s.indexOf(n);t>-1&&(s.splice(t,1),1===s.length?r.splice(i,1,NU(NU({},e),{value:s[0]})):s.length||r.splice(i,1))}}return r}const AU=function(e){const{typeKey:t,activeFilters:n,activeFilterLabel:r,activeSort:i,filter:a,title:s,onMenuClose:o}=e,l=Tv(o),c=function(e,t){if(!e)return!1;const n=decodeURIComponent("1");return!!S().find(e,(({value:e})=>Array.isArray(e)?e.indexOf(n)>-1:e===n))}(n.filter((({key:e})=>e===a)));return g.createElement(Up.Z,{to:(0,fU.Z)({typeKey:t,filters:c?OU(n,a):PU(n,a,{value:"1",type:en}),filterLabel:r,sort:i}),isSelected:c,onPress:l},s)};class xU extends g.Component{constructor(){super(...arguments),this.onPress=e=>{this.props.onFilterSelect(this.props.filterKey)}}shouldComponentUpdate(e,t){return(0,At.Z)(this,e,t)}render(){const{activeFilters:e,filter:t,title:n,showSpinner:r}=this.props,i=!r&&!!S().find(e,(({key:e})=>e===t));return g.createElement(ec.Z,{className:i?"DisclosureFilterMenuItem-isSelected-1ePu4z":void 0,onPress:this.onPress},g.createElement("div",{className:"DisclosureFilterMenuItem-menuItemContainer-2NcROp SelectedMenuItem-menuItemContainer-87szhD"},g.createElement("div",{className:"DisclosureFilterMenuItem-menuLabel-2m2Qw1 SelectedMenuItem-menuLabel-1WTzXp"},n),r?g.createElement(Mx.Z,{className:"DisclosureFilterMenuItem-spinner-1yUvzx Spinner-spinner-1mPhN9 spin-spin-34xiUE",size:Rp.HC}):null,!r&&i?g.createElement("div",{className:"DisclosureFilterMenuItem-selectedIcon-zsrcHf SelectedMenuItem-selectedIcon-1A-uGc"},g.createElement(Ko.Z,{"aria-label":(0,Ce.Z)("Selected")})):null))}}const jU=xU,LU=function(e){const{className:t,typeKey:n,activeFilters:r,activeFilterLabel:i,activeSort:a,filters:s,selectedFilter:o,showSpinner:l,showCustomFilter:c,onFilterSelect:d,onMenuClose:u}=e,p=Tv(u),m=S().groupBy(s,(({filterType:e})=>e===en?e:tn)),h=m.boolean,y=m.other;return g.createElement(rU.Z,{className:Te()(t,"LibraryFiltersList-filtersScroller-3-q1Hd Scroller-vertical-3IY07c"),autoScroll:!0},g.createElement(Up.Z,{key:"all",to:(0,fU.Z)({typeKey:n,sort:a}),isSelected:S().isEmpty(r),onPress:p},(0,Ce.Z)("All")),h?h.map((e=>g.createElement(AU,{key:e.filter,typeKey:n,activeFilters:r,activeFilterLabel:i,activeSort:a,filter:e.filter,title:e.title,onMenuClose:u}))):null,y?g.createElement(tc.Z,null):null,y?y.map((e=>{const t=!(!o||o.filter!==e.filter);return g.createElement(jU,{key:e.filter,typeKey:n,activeFilters:r,activeSort:a,filter:e.filter,filterKey:e.key,title:e.title,showSpinner:l&&t,onFilterSelect:d})})):null,c?g.createElement(tc.Z,null):null,c?g.createElement(Up.Z,{key:"customFilter",to:(0,fU.Z)({typeKey:n,customFilter:!0})},(0,Ce.Z)("Custom Filter...")):null)},kU=(0,fe.zB)({filters:sz()}),RU=(0,v.$j)(kU)((function(e){const{filters:t,target:n,isOpen:r,activeFilters:i,activeFilterLabel:a,onMenuClose:s}=e;return g.createElement(Xl.Z,{target:n,isOpen:r,size:Rp.ln,onMenuClose:s},g.createElement(LU,{activeFilters:i,activeFilterLabel:a,showSpinner:!1,showCustomFilter:!1,filters:t,onMenuClose:s}))}));class zU extends g.Component{constructor(e,t){super(e,t),this.onDatePickerMenuButtonPress=e=>{this.setState({isDatePickerMenuOpen:!this.state.isDatePickerMenuOpen})},this.onDatePickerMenuClose=()=>{this.setState({isDatePickerMenuOpen:!1})},this.onFilterMenuButtonPress=e=>{this.setState({isFilterMenuOpen:!this.state.isFilterMenuOpen})},this.onFilterMenuClose=()=>{this.setState({isFilterMenuOpen:!1})},this.state={isDatePickerMenuOpen:!1,isFilterMenuOpen:!1},this._datePickerMenuButtonID=(0,GE.Z)(),this._filterMenuButtonID=(0,GE.Z)()}shouldComponentUpdate(e,t){return(0,At.Z)(this,e,t)}render(){const{serverEntityID:e,providerEntityID:t,sourceDirectory:n,selectedFilterTitle:r,datePickerTitle:i,showEPGActivity:a,activeFilters:s,activeFilterLabel:o,totalSize:l}=this.props,{isDatePickerMenuOpen:c,isFilterMenuOpen:d}=this.state;return g.createElement(g.Fragment,null,g.createElement(NO.Z,null,g.createElement(eU,{serverEntityID:e,providerEntityID:t,sourceDirectory:n}),g.createElement(Gz,{serverEntityID:e,providerEntityID:t,sourceDirectory:n,directoryKey:lz.tk.GUIDE}),g.createElement(cz.Z,null)),g.createElement(Vf,null,g.createElement(ZZ,null,g.createElement(oz.Z,{id:this._datePickerMenuButtonID,hasMenu:!0,isMenuOpen:c,onPress:this.onDatePickerMenuButtonPress},i),g.createElement(vU,{target:this._datePickerMenuButtonID,isOpen:c,onMenuClose:this.onDatePickerMenuClose}),g.createElement(oz.Z,{id:this._filterMenuButtonID,hasMenu:!0,isMenuOpen:d,onPress:this.onFilterMenuButtonPress},r),g.createElement(RU,{target:this._filterMenuButtonID,isOpen:d,activeFilters:s,activeFilterLabel:o,onMenuClose:this.onFilterMenuClose}),g.createElement(rC.Z,null,l)),a?g.createElement(TZ.Z,null,g.createElement(tU,{serverEntityID:e,providerEntityID:t})):null))}}const UU=zU,VU=(0,v.$j)((function(){return(0,fe.P1)((e=>e.ui.channelGridPage),xT(),(0,fe.P1)(((e,{activeFilters:t})=>t),((e,{activeFilterLabel:t})=>t),sz(),((e,t,n)=>{if(!e||!e.length)return(0,Ce.Z)("All Channels");if(e&&1===e.length){const t=e[0],r=n.find((e=>e.filter===t.key));if(r)return r.title}return t||(0,Ce.Z)("Filtered")})),((e,t,n)=>({datePickerTitle:nU(1e3*e.startTime),showEPGActivity:!!t,selectedFilterTitle:n})))}))(UU),BU=function(e){const{serverEntityID:t,providerEntityID:n,metadataListEntityID:r,sourceDirectory:i,activeFilters:a,activeFilterLabel:s,channels:o}=e;return g.createElement(yx.Z,{metricsContext:vx(pt._e,OC.DVR_GUIDE_PIVOT)},g.createElement(fx.Z,{metricsPage:pt._e,scrollDirection:tZ.Hn},g.createElement(VU,{serverEntityID:t,providerEntityID:n,sourceDirectory:i,activeFilters:a,activeFilterLabel:s,totalSize:o.length}),g.createElement(az,{serverEntityID:t,providerEntityID:n,metadataListEntityID:r,channels:o})))};function FU(e){return e?e.split(" ")[1]:""}var _U=Object.defineProperty,HU=Object.prototype.hasOwnProperty,QU=Object.getOwnPropertySymbols,GU=Object.prototype.propertyIsEnumerable,WU=(e,t,n)=>t in e?_U(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const YU={dispatchInitMetadataList:DA,dispatchResetStartTime:wA,dispatchResetMetadataList:iC.wZ,dispatchFetchChannelsList:LA,dispatchPopulateChannelPrograms:AA,dispatchChangeQuickSearchSettings:Sn.changeQuickSearchSettings};class KU extends g.Component{componentDidMount(){this.props.containerKey&&this._populate(),this.props.providerIdentifier&&this._setSearchProviderIdentifier(this.props.providerIdentifier)}componentDidUpdate(e){const{metadataListEntityID:t,providerIdentifier:n,containerKey:r,columnTimes:i,isRefreshing:a}=this.props;r&&r!==e.containerKey||a!==e.isRefreshing?this._populate(e):(0,mx.Z)(i,e.columnTimes)||(this.props.dispatchResetMetadataList({metadataListEntityID:t}),this.props.dispatchPopulateChannelPrograms()),n&&n!==e.providerIdentifier&&this._setSearchProviderIdentifier(n)}componentWillUnmount(){const{metadataListEntityID:e}=this.props;e&&this.props.dispatchResetMetadataList({metadataListEntityID:e}),this._setSearchProviderIdentifier(null)}_populate(e){const{serverEntityID:t,providerEntityID:n,metadataListEntityID:r,containerKey:i,dispatchInitMetadataList:a,dispatchResetMetadataList:s,dispatchResetStartTime:o,dispatchFetchChannelsList:l,dispatchPopulateChannelPrograms:c,isHDFilterActive:d}=this.props;r&&s({metadataListEntityID:r}),l(),e&&e.isHDFilterActive!==d||o(),a({containerKey:i,serverEntityID:t,providerEntityID:n}),c()}_setSearchProviderIdentifier(e){const{dispatchChangeQuickSearchSettings:t,serverEntityID:n,providerEntityID:r}=this.props;t({serverEntityID:n,providerEntityID:r,providerIdentifier:e,directoryID:null})}render(){const e=this.props,{dispatchInitMetadataList:t}=e,n=((e,t)=>{var n={};for(var r in e)HU.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&QU)for(var r of QU(e))t.indexOf(r)<0&&GU.call(e,r)&&(n[r]=e[r]);return n})(e,["dispatchInitMetadataList"]);return g.createElement(BU,((e,t)=>{for(var n in t||(t={}))HU.call(t,n)&&WU(e,n,t[n]);if(QU)for(var n of QU(t))GU.call(t,n)&&WU(e,n,t[n]);return e})({},n))}}const qU=(0,v.$j)((function(){return(0,fe.P1)((e=>e.ui.channelGridPage),ox(),ix(),(0,OT.Z)(),dx(),xT(),(0,fe.P1)((e=>e.ui.channelGridPage),gx(),((e,t)=>{const{channelsList:n,isChannelsListPopulated:r,isChannelsListPending:i,channelsListError:a}=e;return!r||i||a?[]:t?n.filter((e=>!!e.tagValue)):n})),ux(),gx(),((e,t,n,r,i,a,s,o,l)=>{let c=function(e,t,n=[]){const r=e[0],i=e[e.length-1],a=function(e,t,n,r){return t.reduce(((t,i)=>i&&i.Media?(i.Media.forEach(((a,s)=>{const{channelIdentifier:o,channelThumb:l,channelTitle:c,channelShortTitle:d,channelVcn:u,channelCallSign:p,beginsAt:m,endsAt:h}=a;if((!(e.length>0)||e.some((e=>e.channelIdentifier===o)))&&(t[o]||(t[o]={identifier:o,thumb:l,title:d||c,vcn:u,callSign:p||FU(c),programs:[]}),m<r&&h>n)){const e={beginsAt:Math.max(m,n),endsAt:Math.min(h,r),metadataItemEntityID:i.entityID,mediaIndex:s};t[o].programs.push(e)}})),t):t),{})}(n,t,r,i);return n.forEach((e=>{a[e.channelIdentifier]||(a[e.channelIdentifier]={identifier:e.channelIdentifier,thumb:e.thumb,title:e.tag,vcn:e.channelVcn,callSign:e.channelCallSign,programs:[]})})),function(e,t,n,r){return Object.values(e).map((e=>(e.programs=function(e,t,n){let r=t;const i=[];e.sort(((e,t)=>e.beginsAt>t.beginsAt?1:e.beginsAt<t.beginsAt?-1:0));for(let t=0;t<e.length;t++){const n=e[t];if(n.beginsAt>r){const e={beginsAt:r,endsAt:n.beginsAt};i.push(e)}i.push(n),r=n.endsAt}if(r<n){const e={beginsAt:r,endsAt:n};i.push(e)}return i}(e.programs,t,n),e)))}(a,r,i)}(e.columnTimes,t,s);return o||(c=c.sort(((e,t)=>(0,px.Z)(e.vcn||e.identifier,t.vcn||t.identifier)))),{metadataListEntityID:e.metadataList,containerKey:n,sourceDirectory:i,channels:c,columnTimes:e.columnTimes,providerIdentifier:r.identifier,isRefreshing:!!a,isHDFilterActive:l}}))}),YU)(KU),$U=(0,fe.zB)({metadataListEntityID:e=>e.ui.channelGridPage.metadataList,directoryKey:(0,fe.P1)(((e,{selectedDirectory:t})=>t),(e=>{if(!e)return;const t=e.key;return"/"===t.charAt(0)?t:"/library/sections/"+t}))}),JU=WA(qU,(function(e){const t=e.ui.channelGridPage;return{providerEntityID:t.providerEntityID,serverEntityID:t.serverEntityID,metadataListEntityID:t.metadataList,directoryKey:t.directoryKey}}),(function(e,t){e(PA({serverEntityID:t.serverEntityID,providerEntityID:t.providerEntityID,directoryKey:t.directoryKey})),e(jA())})),XU=(0,v.$j)($U)(JU);var eV=n(99434),tV=n(33947),nV=n(83894),rV=n(69119),iV=n(56442),aV=n(93242),sV=n(67299);const oV=oA.Z.extend({name:"CalendarModel",context:["server"],url:"/media/subscriptions/scheduled",sessionAttrs:{visibleDays:KO.Z.integer,time:KO.Z.integer},syncedRelations:{scheduled:{relationClass:aV.Z,rootPropertyName:"MediaGrabOperation"}},derivedAttrs:{startTime(){const e=this.get("visibleDays"),t=(0,ui.Z)(this.get("time"));let n=(0,rV.Z)(t);return e>1&&(n=(0,Oi.Z)(n,1)),(0,_i.Z)(n)},endTime(){const e=this.get("visibleDays"),t=(0,ui.Z)(this.get("time"));let n=(0,nV.Z)(t);return e>1&&(n=(0,wi.Z)(n,e-2)),(0,_i.Z)(n)},daysOfWeek(){const e=(0,ui.Z)(this.get("startTime")),t=(0,ui.Z)(this.get("endTime")),n=(0,tV.Z)(t,e);return S().times(Math.min(n+1,7),(t=>(0,_i.Z)((0,wi.Z)(e,t))))},days(){const e=(0,ui.Z)(this.get("startTime")),t=(0,ui.Z)(this.get("endTime")),n=(0,tV.Z)(t,e);return S().times(n+1,(t=>(0,_i.Z)((0,wi.Z)(e,t))))},firstEvent(){return this.get("scheduled").first()},lastEvent(){return this.get("scheduled").last()},hasPastEvents(){const e=this.get("firstEvent");return!!e&&e.get("beginsAt")<this.get("startTime")},hasFutureEvents(){const e=this.get("lastEvent");return!!e&&e.get("beginsAt")>this.get("endTime")}},defaults:()=>({visibleDays:7,time:(0,_i.Z)(Date.now())}),augmentResponseText:(e,t)=>t===iV.Ls?(0,sV.Z)(e):e});var lV=Object.defineProperty,cV=Object.prototype.hasOwnProperty,dV=Object.getOwnPropertySymbols,uV=Object.prototype.propertyIsEnumerable,pV=(e,t,n)=>t in e?lV(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,mV=(e,t)=>{for(var n in t||(t={}))cV.call(t,n)&&pV(e,n,t[n]);if(dV)for(var n of dV(t))uV.call(t,n)&&pV(e,n,t[n]);return e};function hV(e,t,n){if(Array.isArray(e))return e.map((e=>hV(e,t,n)));if((0,VA.Z)(e))for(const r in e){const i=e[r];let a;t[r]?(a=n,delete e[r]):a=r,e[a]=hV(i,t,n)}return e}const gV=function(e,t){let n=t&&t.includeDirectories?["Directory",...sV.l]:sV.l;return n=n.reduce(((e,t)=>mV(mV({},e),{[t]:t})),{}),hV(e,n,"Metadata")};var yV=n(14794);const vV=BT.Z.extend({name:"MediaSubscriptionCollection",context:["server"],instanceOptions:[...BT.Z.prototype.instanceOptions,"includeDirectories","includeGrabs","includePreferences","includeStorage","includeTarget"],model:yV.Z,url(){const e={};return this.includeGrabs&&(e.includeGrabs=1),this.includePreferences&&(e.includePreferences=1),this.includeStorage&&(e.includeStorage=1),this.includeTarget&&(e.includeTarget=1),E.Z.join("/media/subscriptions",e)},augmentResponseText(e,t){return t===iV.Ls?(0,sV.Z)(e,{includeDirectories:!!this.includeDirectories}):e},augmentResponse(e,t){return t===iV.AV?gV(e,{includeDirectories:!!this.includeDirectories}):e}});var fV=n(7536);const bV="ui/recordingSchedulePage/initRecordingSchedulePage",IV="ui/recordingSchedulePage/clearRecordingSchedulePage",SV="ui/recordingSchedulePage/fetchMediaSubscriptions",MV="ui/recordingSchedulePage/moveMediaSubscription",EV="ui/recordingSchedulePage/setVisibleDays",PV="ui/recordingSchedulePage/goToToday",DV="ui/recordingSchedulePage/goToPreviousRange",CV="ui/recordingSchedulePage/goToNextRange",wV="ui/recordingSchedulePage/fetchCalendar",ZV="ui/recordingSchedulePage/playRecording",TV="ui/recordingSchedulePage/clearMoveError",NV=(0,bc.Z)(bV),OV=(0,bc.Z)(IV),AV=(0,bc.Z)(SV),xV=(0,bc.Z)(MV),jV=(0,bc.Z)(EV),LV=(0,bc.Z)(PV),kV=(0,bc.Z)(DV),RV=(0,bc.Z)(CV),zV=(0,bc.Z)(wV),UV=(0,bc.Z)(ZV),VV=(0,bc.Z)(TV);function BV(e){return e.get("ui").get("recordingSchedulePage")}function FV(e){return BV(e).get("calendar")}function _V(e,t,n){const r=BV(e),i=(0,uC.SW)(e,t);if(r.get("isPagePopulated")){const e=r.get("calendar"),t=r.get("mediaSubscriptions");e&&e.server===i&&n(zV()),t&&t.server===i&&n(AV())}}const HV=(0,VT.Z)({[bV](e,t){const n=BV(e),r=n.get("mediaSubscriptions"),i=n.get("calendar"),a=(0,uC.SW)(e,t),s={isPagePopulated:!0,isCalendarPending:!1,isCalendarPopulated:!1,calendarError:null};r&&r.server===a||(s.mediaSubscriptions=new vV([],{server:a})),i&&i.server===a?i.restoreDefaults():s.calendar=new oV({},{server:a}),n.set(s)},[IV](e){BV(e).set("isPagePopulated",!1)},[SV]:(0,cC.Z)({key:"mediaSubscriptions",getModel:BV}),[MV](e,t){const n=BV(e),r=n.get("mediaSubscriptions"),i=(0,uC.xS)(e,t),a=i&&r.indexOf(i),{moveIndex:s}=t;if((0,fn.c9)((()=>{n.set({mediaSubscriptionMoveError:null})})),a===s||a===s-1)return;const o=s>a?s-1:s;r.remove(i),r.add(i,{at:o});const l=o>0?r.at(o-1).id:void 0;(0,fV.Z)(i,l).fail((e=>{r.remove(i),r.add(i,{at:a});const t=401===e.status?(0,Ce.Z)("You do not have permission to perform this action."):(0,Ce.Z)("There was a problem saving your changes. Please try again.");n.set({mediaSubscriptionMoveError:t})}))},[TV](e,t){BV(e).set({mediaSubscriptionMoveError:null})},[EV](e,t,n){FV(e).set("visibleDays",t.visibleDays)},[PV](e,t,n){FV(e).set("time",(0,_i.Z)(new Date))},[DV](e,t,n){const r=FV(e),i=r.get("visibleDays"),a=(0,ui.Z)(r.get("time"));r.set("time",(0,_i.Z)((0,Oi.Z)(a,i)))},[CV](e,t,n){const r=FV(e),i=r.get("visibleDays"),a=(0,ui.Z)(r.get("time"));r.set("time",(0,_i.Z)((0,wi.Z)(a,i)))},[wV]:(0,cC.Z)({key:"calendar",getModel:BV}),[ZV](e,t,n){const{serverEntityID:r,providerEntityID:i,linkedKey:a,metricsContext:s}=t,o=(0,uC.SW)(e,t),l=new lC.Z({key:a},{server:o});l.populate().done((()=>{n((0,vt.wA)({serverEntityID:r,providerEntityID:i,metadataItemEntityID:l.entityID(),metricsPage:pt.WT,metricsContext:s}))}))},[wC.Cs](e,t,n){const r=t.activity;r.type===gl.l1&&_V(e,t,n),r.type===gl.sC&&"error"===r.Response.status&&_V(e,t,n)}});function QV(){return(0,fe.P1)((0,LT.Z)(),(e=>e?e.providers:void 0))}function GV(e){return!0}function WV(e){var t=e["aria-label"],n=e.className,r=e.style,i={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-calendar-560"};i["aria-hidden"]=!t,i.style=r,i.className=oa.Z.plexIcon+(n?" "+n:"");var a=[g.createElement.apply(g,["path",{d:"m0 560v-480h120v-80h80v80h160v-80h80v80h120v480h-560m300-60h80v-80h-80v80m-120 0h80v-80h-80v80m-40-80h-80v80h80v-80m360-40v-80h-80v80h80m-360-80h-80v80h80v-80m120 80v-80h-80v80h80m120 0v-80h-80v80h80m120-120v-80h-80v80h80m-360-80h-80v80h80v-80m240 0h-80v80h80v-80m-120 0h-80v80h80v-80m240 240h-80v80h80v-80"}].concat([]))];return t&&a.unshift(g.createElement("title",null,t)),g.createElement.apply(g,["svg",i].concat(a))}WV.propTypes={"aria-label":sa().string,className:sa().string,style:sa().object};const YV=WV;var KV=n(65671),qV=n(22699);var $V=Object.defineProperty,JV=Object.prototype.hasOwnProperty,XV=Object.getOwnPropertySymbols,eB=Object.prototype.propertyIsEnumerable,tB=(e,t,n)=>t in e?$V(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;function nB(e){var t=e,{children:n,innerClassName:r}=t,i=((e,t)=>{var n={};for(var r in e)JV.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&XV)for(var r of XV(e))t.indexOf(r)<0&&eB.call(e,r)&&(n[r]=e[r]);return n})(t,["children","innerClassName"]);return g.createElement(qV.Z,((e,t)=>{for(var n in t||(t={}))JV.call(t,n)&&tB(e,n,t[n]);if(XV)for(var n of XV(t))eB.call(t,n)&&tB(e,n,t[n]);return e})({className:"PageContent-pageContent-aqfjwt"},i),g.createElement("div",{className:r},n))}nB.defaultProps={innerClassName:"PageContent-innerPageContent-1ra0Xh"};const rB=nB;function iB(){return(0,fe.P1)(((e,{providerID:t})=>t),QV(),Cn.Z,((e,t,n)=>{if(e)return t.find((t=>{const r=n[t];return r&&r.identifier===e}))}))}var aB=n(90937),sB=Object.defineProperty,oB=Object.prototype.hasOwnProperty,lB=Object.getOwnPropertySymbols,cB=Object.prototype.propertyIsEnumerable,dB=(e,t,n)=>t in e?sB(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;function uB(e){var t=e,{children:n}=t,r=((e,t)=>{var n={};for(var r in e)oB.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&lB)for(var r of lB(e))t.indexOf(r)<0&&cB.call(e,r)&&(n[r]=e[r]);return n})(t,["children"]);return g.createElement("div",((e,t)=>{for(var n in t||(t={}))oB.call(t,n)&&dB(e,n,t[n]);if(lB)for(var n of lB(t))cB.call(t,n)&&dB(e,n,t[n]);return e})({},r),n)}uB.defaultProps={className:"DragPreviewLayer-dragLayer-39NVIF"};const pB=uB,mB="RECORDING_PRIORITY_SUBSCRIPTION",hB="PLAY_QUEUE_ITEM",gB="PLAYLIST_ITEM",yB="SOURCE_ITEM",vB="LINEUP_CHANNEL";var fB=n(42699),bB=n(14699),IB=n(65732),SB=n(36475),MB=n(97784);function EB(e){var t=e["aria-label"],n=e.className,r=e.style,i={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-reorder-560"};i["aria-hidden"]=!t,i.style=r,i.className=oa.Z.plexIcon+(n?" "+n:"");var a=[g.createElement.apply(g,["path",{d:"m560 380v60h-560v-60h560m-560-130h560v60h-560v-60m0-130h560v60h-560v-60"}].concat([]))];return t&&a.unshift(g.createElement("title",null,t)),g.createElement.apply(g,["svg",i].concat(a))}EB.propTypes={"aria-label":sa().string,className:sa().string,style:sa().object};const PB=EB,DB=function(e){const{className:t,beginsAt:n,endsAt:r,timeFormat:i}=e,a=function(e,t,n){return e?Hi(e,t)?(0,Ce.Z)("Airing now"):xi(e,null,{timeFormat:n}):(0,Ce.Z)("No upcoming airings")}(n,r,i);return g.createElement("span",{className:t},a)},CB=function({className:e,type:t}){return g.createElement("span",{className:e},g.createElement($o.Z,{className:"RecordingPrioritySubscriptionSeriesTitle-seriesIcon-2AvbRa"}),function(e){if("show"===e)return(0,Ce.Z)("Series")}(t))};var wB=Object.defineProperty,ZB=Object.prototype.hasOwnProperty,TB=Object.getOwnPropertySymbols,NB=Object.prototype.propertyIsEnumerable,OB=(e,t,n)=>t in e?wB(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const AB=function(e){const t=e,{component:n,isSecondary:r}=t,i=((e,t)=>{var n={};for(var r in e)ZB.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&TB)for(var r of TB(e))t.indexOf(r)<0&&NB.call(e,r)&&(n[r]=e[r]);return n})(t,["component","isSecondary"]);return g.createElement(n,((e,t)=>{for(var n in t||(t={}))ZB.call(t,n)&&OB(e,n,t[n]);if(TB)for(var n of TB(t))NB.call(t,n)&&OB(e,n,t[n]);return e})({className:r?"RecordingPrioritySubscriptionTitle-secondaryTitle-1drUfm":"RecordingPrioritySubscriptionTitle-title-3KMd4v"},i))};var xB=Object.defineProperty,jB=Object.prototype.hasOwnProperty,LB=Object.getOwnPropertySymbols,kB=Object.prototype.propertyIsEnumerable,RB=(e,t,n)=>t in e?xB(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;class zB extends g.Component{constructor(e,t){super(e,t),this.onLinkPress=e=>{this.setState({isSubscribeModalOpen:!0})},this.onSubscribeModalClose=()=>{this.setState({isSubscribeModalOpen:!1})},this.state={isSubscribeModalOpen:!1}}shouldComponentUpdate(e,t){return(0,At.Z)(this,e,t)}render(){const e=this.props,{serverEntityID:t,providerEntityID:n,mediaSubscriptionEntityID:r,type:i,subtype:a,thumb:s,grandparentThumb:o,connectDragSource:l}=e,c=((e,t)=>{var n={};for(var r in e)jB.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&LB)for(var r of LB(e))t.indexOf(r)<0&&kB.call(e,r)&&(n[r]=e[r]);return n})(e,["serverEntityID","providerEntityID","mediaSubscriptionEntityID","type","subtype","thumb","grandparentThumb","connectDragSource"]),{isSubscribeModalOpen:d}=this.state,u="playlist"===i?"show":i;return g.createElement("div",{className:"RecordingPrioritySubscription-subscription-1YOaJb"},g.createElement(pw.Z,{className:"RecordingPrioritySubscription-link-BqGmF2",onPress:this.onLinkPress},g.createElement("div",{className:"RecordingPrioritySubscription-linkContainer-bwys1W"},g.createElement(Rx.Z,{className:"RecordingPrioritySubscription-posterContainer-zdbUlN",serverEntityID:t,providerEntityID:n,component:zx.Z,type:u,width:48,height:(0,Ux.Cr)(48,u,a),url:o||s}),g.createElement("div",{className:"RecordingPrioritySubscription-titleContainer-29pr6j"},function(e){let t;switch(e){case"movie":t=[SB.Z,qx];break;case"show":t=[SB.Z,CB];break;case"episode":t=[IB.Z,MB.Z];break;case"playlist":t=[SB.Z,CB];break;default:t=[SB.Z]}return t.push(DB),t}(i).map(((e,t)=>g.createElement(AB,((e,t)=>{for(var n in t||(t={}))jB.call(t,n)&&RB(e,n,t[n]);if(LB)for(var n of LB(t))kB.call(t,n)&&RB(e,n,t[n]);return e})({key:t,component:e,isSecondary:t>0,type:i},c))))))),l(g.createElement("div",{className:"RecordingPrioritySubscription-dragHandle-2EquQy Link-link-CM9nxg"},g.createElement(PB,{className:"RecordingPrioritySubscription-dragIcon-3jf_4h"})),{dropEffect:"copy"}),g.createElement(km.Z,{isOpen:d,serverEntityID:t,providerEntityID:n,mediaSubscriptionEntityID:r,subscriptionType:i,onModalClose:this.onSubscribeModalClose}))}}zB.defaultProps={connectDragSource:e=>e};const UB=zB;var VB=Object.defineProperty,BB=Object.prototype.hasOwnProperty,FB=Object.getOwnPropertySymbols,_B=Object.prototype.propertyIsEnumerable,HB=(e,t,n)=>t in e?VB(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const QB=(0,v.$j)((function(){return(0,fe.P1)(jx,(0,bB.Z)(),(0,fe.P1)((e=>e.ui.recordingSchedulePage.calendar.scheduled),(0,bB.Z)(),((e,t)=>S().find(e,(e=>(0,fB.Z)((0,ui.Z)(e.beginsAt),new Date)&&e.mediaSubscriptionID===t.key)))),((e,t,n)=>{const r=S().pick(t.hint,"title","grandparentTitle","type","year","index","parentIndex","originallyAvailableAt","thumb","grandparentThumb");return n&&(r.beginsAt=n.beginsAt,r.endsAt=n.endsAt),r.timeFormat=e,r}))}))((function(e){return g.createElement(UB,((e,t)=>{for(var n in t||(t={}))BB.call(t,n)&&HB(e,n,t[n]);if(FB)for(var n of FB(t))_B.call(t,n)&&HB(e,n,t[n]);return e})({},e))})),GB=parseInt(ng.Z.recordingPriorityPaneWidth,10),WB=parseInt(ng.Z.recordingPriorityDragHandleWidth,10);class YB extends g.Component{shouldComponentUpdate(e,t){return(0,At.Z)(this,e,t)}render(){const{serverEntityID:e,providerEntityID:t,item:n,itemType:r,currentOffset:i}=this.props;if(!i||r!==mB)return null;const{x:a,y:s}=i,o=`translate3d(${a-(GB-WB)}px, ${s}px, 0)`,l={position:"absolute",WebkitTransform:o,msTransform:o,transform:o};return g.createElement(pB,null,g.createElement("div",{className:"RecordingPrioritySubscriptionDragPreview-dragPreview-1xybYo",style:l},g.createElement(QB,{serverEntityID:e,providerEntityID:t,mediaSubscriptionEntityID:n.mediaSubscriptionEntityID})))}}const KB=(0,aB.rE)((function(e){return{item:e.getItem(),itemType:e.getItemType(),currentOffset:e.getSourceClientOffset()}}))(YB);var qB=n(87161);const $B={beginDrag:({mediaSubscriptionEntityID:e})=>({mediaSubscriptionEntityID:e}),endDrag(e,t,n){e.onSubscriptionDragEnd(t.getItem(),t.didDrop())}},JB={hover(e,t,n){const r=(0,y.findDOMNode)(n).getBoundingClientRect(),i=(r.bottom-r.top)/2,a=t.getClientOffset().y-r.top,s=e.sortIndex,o=a>i?s+1:s;e.onSubscriptionDragMove(o)}};class XB extends g.Component{componentDidMount(){this.props.connectDragPreview((0,qB.rX)())}shouldComponentUpdate(e,t){return(0,At.Z)(this,e,t)}render(){const{serverEntityID:e,providerEntityID:t,mediaSubscriptionEntityID:n,isDragging:r,isDraggingBefore:i,isDraggingAfter:a,isOver:s,connectDropTarget:o,connectDragSource:l}=this.props;return o(g.createElement("div",{className:Te()("RecordingPrioritySubscriptionDragSource-dragSource-3ijR4M",r&&lr.fN,i&&s&&lr.DT,a&&s&&lr.QZ)},g.createElement(QB,{serverEntityID:e,providerEntityID:t,mediaSubscriptionEntityID:n,connectDragSource:l})))}}const eF=(0,aB.GR)(mB,JB,(function(e,t){return{connectDropTarget:e.dropTarget(),isOver:t.isOver()}}))((0,aB.Ej)(mB,$B,(function(e,t){return{connectDragPreview:e.dragPreview(),connectDragSource:e.dragSource(),isDragging:t.isDragging()}}))(XB)),tF=function(e){const{serverEntityID:t,providerEntityID:n,mediaSubscriptionEntityIDs:r,guideRoute:i,showError:a,showEmptyState:s,moveIndex:o,onSubscriptionDragMove:l,onSubscriptionDragEnd:c}=e;return g.createElement("div",{className:"RecordingPriorityPane-pane-EuHZKg"},g.createElement("div",{className:"RecordingPriorityPane-paneHeader-BI7FRQ"},(0,Ce.Z)("Recording Priority")),g.createElement(rU.Z,{className:"RecordingPriorityPane-paneScroller-2QicEl Scroller-vertical-3IY07c",autoScroll:!0},a?g.createElement("div",{className:"RecordingPriorityPane-error-jI8kMV"},g.createElement("div",null,(0,Ce.Z)("There was an error loading recordings.")),g.createElement("div",null,(0,Ce.Z)("Please try again."))):null,s?g.createElement("div",{className:"RecordingPriorityPane-empty-2JiQI7"},g.createElement("div",null,(0,Ce.Z)("You have no recordings scheduled.")),g.createElement("div",null,g.createElement(KV.Z,{message:(0,Ce.Z)("Check out the {openLink}Guide{closeLink} to browse available programming."),tags:[{open:"openLink",close:"closeLink",component:pw.Z,kind:ic._8,to:i}]}))):null,a||s?null:r.map(((e,r)=>{const i=null!=o,a=i&&o===r,s=i&&o===r+1;return g.createElement(eF,{key:e,serverEntityID:t,providerEntityID:n,mediaSubscriptionEntityID:e,isDraggingBefore:a,isDraggingAfter:s,sortIndex:r,onSubscriptionDragMove:l,onSubscriptionDragEnd:c})}))),g.createElement(KB,{serverEntityID:t,providerEntityID:n}))};var nF=Object.defineProperty,rF=Object.prototype.hasOwnProperty,iF=Object.getOwnPropertySymbols,aF=Object.prototype.propertyIsEnumerable,sF=(e,t,n)=>t in e?nF(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,oF=(e,t)=>{for(var n in t||(t={}))rF.call(t,n)&&sF(e,n,t[n]);if(iF)for(var n of iF(t))aF.call(t,n)&&sF(e,n,t[n]);return e};const lF={dispatchMoveMediaSubscription:xV,dispatchClearMoveError:VV,dispatchShowAlert:ZC.wp};class cF extends g.Component{constructor(e,t){super(e,t),this.onSubscriptionDragMove=e=>{this.setState({moveIndex:e})},this.onSubscriptionDragEnd=(e,t)=>{const{moveIndex:n}=this.state;t&&null!=n&&(0,fn.c9)((()=>{this.props.dispatchMoveMediaSubscription(oF(oF({},e),{moveIndex:n}))})),this.setState({moveIndex:null})},this.state={moveIndex:null}}componentDidUpdate(e){const{mediaSubscriptionMoveError:t,dispatchShowAlert:n,dispatchClearMoveError:r}=this.props,{mediaSubscriptionMoveError:i}=e;!i&&t&&(n(t),r())}render(){return g.createElement(tF,oF({moveIndex:this.state.moveIndex,onSubscriptionDragMove:this.onSubscriptionDragMove,onSubscriptionDragEnd:this.onSubscriptionDragEnd},this.props))}}const dF=(0,v.$j)((function(){return(0,fe.P1)((e=>e.ui.recordingSchedulePage),iB(),((e,t)=>{const{mediaSubscriptions:n,isMediaSubscriptionsPopulated:r,mediaSubscriptionsError:i,mediaSubscriptionMoveError:a}=e;return{providerEntityID:t,mediaSubscriptionEntityIDs:n,mediaSubscriptionMoveError:a,showError:!r&&!!i,showEmptyState:r&&!i&&!n.length}}))}),lF)(cF),uF=function({subscriptionCount:e}){return g.createElement(Ex.Z,{iconComponent:YV,title:(0,Ce.Z)("You have no recordings scheduled"),description:1===e?(0,Ce.Z)("There are no upcoming airings of the item in your list"):(0,Ce.Z)("There are no upcoming airings of the {subscriptionCount} items in your list",{subscriptionCount:e})})},pF=function(){return(0,fe.P1)((0,AT.Z)(),(0,xx.Z)(),((e,t)=>S().find(e,(e=>e.type===gl.sC&&e.Context.itemKey&&e.Context.itemKey===t.key))))};var mF=n(80962),hF=Object.defineProperty,gF=Object.prototype.hasOwnProperty,yF=Object.getOwnPropertySymbols,vF=Object.prototype.propertyIsEnumerable,fF=(e,t,n)=>t in e?hF(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,bF=(e,t)=>{for(var n in t||(t={}))gF.call(t,n)&&fF(e,n,t[n]);if(yF)for(var n of yF(t))vF.call(t,n)&&fF(e,n,t[n]);return e};const IF={dispatchPlayRecording:UV};class SF extends g.Component{constructor(){super(...arguments),this.onPlayPress=e=>{const{serverEntityID:t,providerEntityID:n,linkedKey:r,metricsContext:i,dispatchPlayRecording:a}=this.props;a({serverEntityID:t,providerEntityID:n,linkedKey:r,metricsContext:i})}}render(){const e=this.props,{component:t,mediaSubscriptionID:n,status:r,linkedKey:i,metricsContext:a}=e,s=((e,t)=>{var n={};for(var r in e)gF.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&yF)for(var r of yF(e))t.indexOf(r)<0&&vF.call(e,r)&&(n[r]=e[r]);return n})(e,["component","mediaSubscriptionID","status","linkedKey","metricsContext"]);return g.createElement(t,bF(bF({},s),{onPlayPress:this.onPlayPress}))}}const MF=(0,oC.Z)((function(){return(0,fe.P1)(((e,{mediaSubscriptionID:t})=>t),((e,{status:t})=>t),jx,(0,fe.P1)(((e,{linkedKey:t})=>t),((e,{metricsContext:t})=>t),sb.Z,((e,t,n)=>{const r={};return t&&(r.context=t),(0,li.Z)(n,{isLibraryProvider:!0},e,r)})),(0,xx.Z)(),pF(),iB(),((e,t,n,r,i,a,s)=>{const o=t===mF.ly,l=t===mF.pn,c=S().pick(i,"type","title","grandparentTitle","index","parentIndex","originallyAvailableAt"),d=bF({providerEntityID:s,prePlayRoute:r,isComplete:o,hasError:l,hasSubscription:!!e,showPlay:o&&!!r,timeFormat:n},c);return a?(d.isRecording=!0,d.isPostProcessing=a.Context.status===mF.jN,d.recordingProgress=a.progress):(d.isRecording=!1,d.isPostProcessing=!1),d}))}),IF)(SF);var EF=n(53757),PF=n(97486);var DF=Object.defineProperty,CF=Object.prototype.hasOwnProperty,wF=Object.getOwnPropertySymbols,ZF=Object.prototype.propertyIsEnumerable,TF=(e,t,n)=>t in e?DF(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,NF=(e,t)=>{for(var n in t||(t={}))CF.call(t,n)&&TF(e,n,t[n]);if(wF)for(var n of wF(t))ZF.call(t,n)&&TF(e,n,t[n]);return e};function OF(e){return g.createElement(PF.Z,NF(NF({},e),{textClassName:"CircularProgressBar-circularProgressBarText-1prNYQ CircularProgressBar-circularProgressBarText-2Pos90"}))}OF.defaultProps=NF(NF({},PF.Z.defaultProps),{backgroundClassName:"CircularProgressBar-circularProgressBarBackground-18BaI- CircularProgressBar-circularProgressBarBackground-1LlpZu",strokeColor:GS.Z.primaryColor});const AF=OF;function xF({children:e,className:t}){return g.createElement("div",{className:t,"data-qa-id":"preplayDetailsContainer"},e)}xF.defaultProps={className:"PrePlayDetailsGroup-group-32HwHt"};const jF=xF;function LF(e){const{children:t,className:n,labelClassName:r,contentClassName:i,label:a}=e;return g.createElement("div",{className:n},g.createElement("div",{className:r},a),g.createElement("div",{className:i},t))}LF.defaultProps={className:"PrePlayDetailsGroupItem-groupItem-dJr-TN",labelClassName:"PrePlayDetailsGroupItem-label-22rP0q",contentClassName:"PrePlayDetailsGroupItem-content-2TyyJ0"};const kF=LF,RF=function({children:e,mediaItem:t}){const n=t&&t.videoResolution;let r,i=!1;if(n){const e=parseInt(n,10);i=!0,r=e>=720||4===e||8===e}return e||i?g.createElement(jF,null,e,i?g.createElement(kF,{label:(0,Ce.Z)("Video")},r?(0,Ce.Z)("HD"):(0,Ce.Z)("SD")):null):null},zF=6e4;function UF({beginsAt:e,endsAt:t,channel:n,showChannel:r,showFullTime:i,timeFormat:a}){if(!e)return(0,Ce.Z)("No upcoming airings");if(Hi(e,t)){const e=t-Date.now()/1e3;return e<=60?(0,Ce.Z)("About to end"):Vi(e)}if((0,Bi.Z)(e)&&(0,Fi.Z)(e,{minutes:60})){const t=1e3*e-Date.now();if(t<=zF)return r&&n?(0,Ce.Z)("Starting now on {channel}",{channel:n}):(0,Ce.Z)("Starting now");const i=Ui(t);return r&&n?(0,Ce.Z)("Starting in {duration} on {channel}",{duration:i,channel:n}):(0,Ce.Z)("Starting in {duration}",{duration:i})}return(i?xi:Li)(e,r&&n,{timeFormat:a})}class VF extends g.Component{constructor(e,t){super(e,t),this.onTickTimeout=()=>{this.setState(this.getState(this.props)),this.setTickTimeout()},this.state=this.getState(e)}componentDidMount(){this.setTickTimeout()}UNSAFE_componentWillReceiveProps(e){const t=this.getState(e);t.title!==this.state.title&&this.setState(t)}shouldComponentUpdate(e,t){return(0,At.Z)(this,e,t)}componentWillUnmount(){this.tickTimeout&&window.clearTimeout(this.tickTimeout)}getState(e){return{title:UF(e)}}setTickTimeout(){this.tickTimeout=window.setTimeout(this.onTickTimeout,zF-Date.now()%zF)}render(){const{className:e,beginsAt:t,endsAt:n,channel:r,showChannel:i}=this.props,{title:a}=this.state,s=i&&!!r&&Hi(t,n);return g.createElement("span",{className:e},s?g.createElement("span",null,(0,Ce.Z)("Now on {channel}",{channel:r}),g.createElement(rs.Z,{className:"MetadataTitleAirDate-separator-3ZLInJ DashSeparator-separator-3r2G27"}),a):a)}}VF.defaultProps={showFullTime:!1,showChannel:!1};const BF=VF,FF=function(e){const{children:t,beginsAt:n,endsAt:r,channel:i,timeFormat:a}=e;if(!n||!r)return null;const s=Date.now()/1e3;let o;return o=r<s?(0,Ce.Z)("Aired"):n<=s&&r>=s?(0,Ce.Z)("Airing"):(0,Ce.Z)("Airs"),g.createElement(kF,{label:o},g.createElement(BF,{beginsAt:n,endsAt:r,channel:i,showFullTime:!0,showChannel:!0,timeFormat:a}),t)};var _F=n(3664);const HF="AiringDetailsModalContent-separator-1vM46F DashSeparator-separator-3r2G27";var QF=Object.prototype.hasOwnProperty,GF=Object.getOwnPropertySymbols,WF=Object.prototype.propertyIsEnumerable;const YF=function(e){const t=e,{serverEntityID:n,providerEntityID:r,summary:i,error:a,mediaItem:s,isComplete:o,hasError:l,isRecording:c,recordingProgress:d,timeFormat:u,onRecordingModify:p,onModalClose:m}=t,h=((e,t)=>{var n={};for(var r in e)QF.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&GF)for(var r of GF(e))t.indexOf(r)<0&&WF.call(e,r)&&(n[r]=e[r]);return n})(t,["serverEntityID","providerEntityID","summary","error","mediaItem","isComplete","hasError","isRecording","recordingProgress","timeFormat","onRecordingModify","onModalClose"]),{beginsAt:y,endsAt:v,startOffsetSeconds:f,endOffsetSeconds:b,channelTitle:I,channelShortTitle:S}=s,M=!(!f&&!b),E=f&&Math.round(f/60),P=b&&Math.round(b/60);return g.createElement(Tw.Z,{onModalClose:m},g.createElement(vw.Z,null,(0,Ce.Z)("Airing Details")),g.createElement(hw.Z,null,g.createElement(_F.Z,{serverEntityID:n,providerEntityID:r,hint:h},g.createElement(RF,{mediaItem:s},g.createElement(FF,{beginsAt:y,endsAt:v,channel:S||I,showFullTime:!0,showChannel:!0,timeFormat:u},g.createElement("div",null,o?g.createElement("span",null,g.createElement(Ko.Z,{className:"AiringDetailsModalContent-completeIcon-3hLm5p"}),(0,Ce.Z)("Recorded successfully")):null,c?g.createElement("span",null,g.createElement(Jo.Z,{className:"AiringDetailsModalContent-recordingIcon-3Lusls"}),(0,Ce.Z)("Recording"),g.createElement(rs.Z,{className:HF}),(0,Ce.Z)("{recordingProgress}% complete",{recordingProgress:d})):null,l?g.createElement("span",null,g.createElement(we.Z,{className:"AiringDetailsModalContent-errorIcon-26dONR"}),a):null,o||c||l||!M?null:g.createElement("span",null,E?g.createElement("span",null,(0,Ce.Z)("Recording starts {minuteOffset} min early",{minuteOffset:E}),P?g.createElement("span",null,g.createElement(rs.Z,{className:HF}),(0,Ce.Z)("Ends {minuteOffset} min late",{minuteOffset:P})):null):g.createElement("span",null,(0,Ce.Z)("Recording ends {minuteOffset} min late",{minuteOffset:P})))))),g.createElement("div",{className:"AiringDetailsModalContent-summary-4bIK0b"},i))),g.createElement(gw.Z,null,g.createElement(yw.Z,null,g.createElement(cb.Z,{kind:ic.TP,size:Rp.M2,onPress:p},(0,Ce.Z)("Modify Recording")),g.createElement(cb.Z,{kind:ic._8,size:Rp.M2,onPress:m},(0,Ce.Z)("Close")))))};var KF=Object.defineProperty,qF=Object.prototype.hasOwnProperty,$F=Object.getOwnPropertySymbols,JF=Object.prototype.propertyIsEnumerable,XF=(e,t,n)=>t in e?KF(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const e_=(0,v.$j)((function(){return(0,fe.P1)(jx,(0,xx.Z)(),((e,t)=>{const n=S().pick(t,"type","title","parentTitle","grandparentTitle","thumb","parentThumb","grandparentThumb","index","parentIndex","originallyAvailableAt","summary");return n.timeFormat=e,n}))}))((function(e){return g.createElement(YF,((e,t)=>{for(var n in t||(t={}))qF.call(t,n)&&XF(e,n,t[n]);if($F)for(var n of $F(t))JF.call(t,n)&&XF(e,n,t[n]);return e})({},e))}));var t_=Object.defineProperty,n_=Object.prototype.hasOwnProperty,r_=Object.getOwnPropertySymbols,i_=Object.prototype.propertyIsEnumerable,a_=(e,t,n)=>t in e?t_(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const s_=function(e){const t=e,{isOpen:n,metricsProperties:r,metadataItemEntityID:i,onRecordingModify:a,onModalClose:s}=t,o=((e,t)=>{var n={};for(var r in e)n_.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&r_)for(var r of r_(e))t.indexOf(r)<0&&i_.call(e,r)&&(n[r]=e[r]);return n})(t,["isOpen","metricsProperties","metadataItemEntityID","onRecordingModify","onModalClose"]);return g.createElement(Zw.Z,{isOpen:n,metricsPage:pt.go,metricsProperties:r,onModalClose:s},g.createElement(e_,((e,t)=>{for(var n in t||(t={}))n_.call(t,n)&&a_(e,n,t[n]);if(r_)for(var n of r_(t))i_.call(t,n)&&a_(e,n,t[n]);return e})({metadataItemEntityID:i,onRecordingModify:a,onModalClose:s},o)))},o_=function({error:e,onPress:t}){return g.createElement(rf.Z,{className:"CalendarErrorButton-errorButton-18hyyd",component:pw.Z,tooltip:e,tooltipClassName:"CalendarErrorButton-errorTooltip-1BQEeq Tooltip-bottomCenter-3I-giq Tooltip-tooltip-1BlaVj Tooltip-tooltipArrow-3ocxiK Tooltip-tooltipTopArrow-1LUIRT Tooltip-tooltipCenterAlignArrow-EwxeoC",tooltipAttachment:af.eO,onPress:t},g.createElement(we.Z,{"aria-label":e}))},l_={context:OC.AGENDA};class c_ extends g.Component{constructor(e,t){super(e,t),this.onLinkPress=e=>{this.setState({isAiringDetailsModalOpen:!0})},this.onConflictIconPress=e=>{this.setState({isConflictsModalOpen:!0})},this.onRecordingModify=()=>{this.setState({isAiringDetailsModalOpen:!1,isSubscribeModalOpen:!0})},this.onAiringDetailsModalClose=()=>{this.setState({isAiringDetailsModalOpen:!1})},this.onSubscribeModalClose=()=>{this.setState({isSubscribeModalOpen:!1,isConflictsModalOpen:!1})},this.state={isAiringDetailsModalOpen:!1,isSubscribeModalOpen:!1,isConflictsModalOpen:!1}}shouldComponentUpdate(e,t){return(0,At.Z)(this,e,t)}render(){const{serverEntityID:e,providerEntityID:t,mediaSubscriptionEntityID:n,metadataItemEntityID:r,prePlayRoute:i,type:a,title:s,grandparentTitle:o,index:l,parentIndex:c,originallyAvailableAt:d,error:u,mediaItem:p,isRecording:m,isPostProcessing:h,recordingProgress:y,isComplete:v,hasError:f,hasSubscription:b,hasConflicts:I,showPlay:S,showDate:M,timeFormat:E,onPlayPress:P}=this.props,{isAiringDetailsModalOpen:D,isSubscribeModalOpen:C,isConflictsModalOpen:w}=this.state,{beginsAt:Z,endsAt:T,startOffsetSeconds:N=0,endOffsetSeconds:O=0,premiere:A}=p,x=(0,ui.Z)(Z),j=Bx(Z-N,T+O,{timeFormat:E}),L=Ci(Z);let k;k=Ai(Z)?(0,Ce.Z)("Yesterday"):L?(0,Ce.Z)("Today"):(0,Ce.Z)("{dayOfWeek}, {monthNumber} {dayNumber}",{dayOfWeek:bi(Z,{abbreviate:!0}),monthNumber:Si(Z,{abbreviate:!0}),dayNumber:(0,vi.Z)(x)});const R=o||s,z=function(e,t,n,r,i,a){return"episode"!==e?n:`${t} - ${(0,xo.Z)({seasonIndex:r,episodeIndex:i,date:a})} - ${n}`}(a,o,s,c,l,d);return g.createElement("div",{className:Te()("AgendaEvent-event-1AV5hW",v&&"AgendaEvent-isComplete-14RILc",f&&"AgendaEvent-hasError-1u2wWe")},g.createElement(pw.Z,{className:"AgendaEvent-underlay-2WkdTk",to:i,onPress:i?void 0:this.onLinkPress}),g.createElement("div",{className:"AgendaEvent-overlay-18_auI"},g.createElement("div",{className:Te()("AgendaEvent-date-3vjQfO",L&&"AgendaEvent-isToday-3ykNcm")},M?k:null),g.createElement("div",{className:"AgendaEvent-time-1iV6UV"},j),g.createElement("div",{className:"AgendaEvent-title-S5CZYD",title:z},A?g.createElement(BL,null):null,R,g.createElement("div",{className:"AgendaEvent-titleDetails-1Kn_z0"},"movie"===a?g.createElement($x,{metadataItemEntityID:r}):null,"episode"===a?g.createElement(Wx.Z,{metadataItemEntityID:r}):null)),g.createElement("div",{className:"AgendaEvent-status-kQ7KbA"},!m||h||f?null:g.createElement("div",{className:"AgendaEvent-recording-2DORXq"},g.createElement(AF,{size:24,backgroundClassName:"AgendaEvent-recordingProgressBackground-4fdRJR CircularProgressBar-circularProgressBarBackground-18BaI- CircularProgressBar-circularProgressBarBackground-1LlpZu",lineWidth:2,progress:y,showProgressText:!1}),g.createElement("span",{className:"AgendaEvent-recordingIcon-3YwvBI"})),m&&h&&!f?g.createElement(EF.Z,null):null,S?g.createElement(Xx.Z,{title:s,onPress:P}):null,f?g.createElement(o_,{error:u,onPress:I?this.onConflictIconPress:this.onLinkPress}):null)),b?g.createElement(s_,{isOpen:D,metricsProperties:l_,serverEntityID:e,providerEntityID:t,metadataItemEntityID:r,error:u,mediaItem:p,hasSubscription:b,isComplete:v,hasError:f,isRecording:m,recordingProgress:y,onRecordingModify:this.onRecordingModify,onModalClose:this.onAiringDetailsModalClose}):null,b?g.createElement(km.Z,{isOpen:C||w,metricsProperties:l_,serverEntityID:e,providerEntityID:t,mediaSubscriptionEntityID:n,metadataItemEntityID:r,subscriptionType:a,showConflicts:w,isRecordingSchedule:!0,onModalClose:this.onSubscribeModalClose}):null)}}const d_=c_,u_=(0,v.$j)((function(){return(0,fe.P1)((e=>e.ui.recordingSchedulePage.calendar),(e=>({events:e.scheduled})))}))((function({serverEntityID:e,events:t}){return g.createElement("div",null,t.map(((n,r)=>{const i=(0,ui.Z)(n.beginsAt),a=0===r||!(0,Di.Z)((0,ui.Z)(t[r-1].beginsAt),i),s=(0,vn.Z)(Mn.PK,n.mediaSubscriptionID,e);return g.createElement(MF,{key:r,component:d_,serverEntityID:e,providerID:n.identifier||n.provider,metadataItemEntityID:n.metadataItem,mediaSubscriptionEntityID:s,mediaSubscriptionID:n.mediaSubscriptionID,eventID:n.metadataItem.key,status:n.status,error:n.error,linkedKey:n.linkedKey,mediaItem:n.mediaItem,hasConflicts:!(!n.conflicts||!n.conflicts.length),showDate:a})})))}));var p_=n(95570);function m_(e){const t=(0,ui.Z)(e);return(0,Ce.Z)("{month} {dayNumber}, {year}",{month:Si(e),dayNumber:(0,vi.Z)(t),year:(0,p_.Z)(t)})}const h_=function({startTime:e,endTime:t}){const n=(0,ui.Z)(e),r=(0,ui.Z)(t),i=(0,Di.Z)(n,r)?m_(e):`${function(e){const t=(0,ui.Z)(e);return(0,Ce.Z)("{month} {dayNumber}",{month:Si(e),dayNumber:(0,vi.Z)(t)})}(e)}  ${m_(t)}`;return g.createElement("span",{className:"CalendarHeaderTitle-title-1aZWPF"},i)};var g_=Object.defineProperty,y_=Object.prototype.hasOwnProperty,v_=Object.getOwnPropertySymbols,f_=Object.prototype.propertyIsEnumerable,b_=(e,t,n)=>t in e?g_(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const I_=(0,v.$j)((function(){return(0,fe.P1)((e=>e.ui.recordingSchedulePage),(e=>{const{firstEvent:t,lastEvent:n}=e.calendar;return{startTime:t?t.beginsAt:void 0,endTime:n?n.beginsAt:void 0}}))}))((function(e){return g.createElement("div",{className:"AgendaHeader-agendaHeader-UhG1TM"},g.createElement(h_,((e,t)=>{for(var n in t||(t={}))y_.call(t,n)&&b_(e,n,t[n]);if(v_)for(var n of v_(t))f_.call(t,n)&&b_(e,n,t[n]);return e})({},e)))})),S_=(0,v.$j)((function(){return(0,fe.P1)((e=>e.ui.recordingSchedulePage),(e=>{const{mediaSubscriptions:t,calendar:n,isCalendarPopulated:r,calendarError:i}=e;return{showError:!r&&!!i,isEmpty:!n.scheduled.length,subscriptionCount:t.length}}))}))((function(e){const{serverEntityID:t,showError:n,isEmpty:r,subscriptionCount:i}=e;return n?g.createElement(Ox.Z,{title:(0,Ce.Z)("There was an error loading the agenda")}):r?g.createElement(uF,{subscriptionCount:i}):g.createElement("div",null,g.createElement(I_,null),g.createElement(u_,{serverEntityID:t}))})),M_={context:OC.CALENDAR};class E_ extends g.Component{constructor(e,t){super(e,t),this.onLinkPress=e=>{this.setState({isAiringDetailsModalOpen:!0})},this.onConflictIconPress=e=>{this.setState({isConflictsModalOpen:!0})},this.onRecordingModify=()=>{this.setState({isAiringDetailsModalOpen:!1,isSubscribeModalOpen:!0})},this.onAiringDetailsModalClose=()=>{this.setState({isAiringDetailsModalOpen:!1})},this.onSubscribeModalClose=()=>{this.setState({isSubscribeModalOpen:!1,isConflictsModalOpen:!1})},this.state={isAiringDetailsModalOpen:!1,isSubscribeModalOpen:!1,isConflictsModalOpen:!1}}shouldComponentUpdate(e,t){return(0,At.Z)(this,e,t)}render(){const{serverEntityID:e,providerEntityID:t,mediaSubscriptionEntityID:n,metadataItemEntityID:r,prePlayRoute:i,type:a,grandparentTitle:s,title:o,error:l,mediaItem:c,isRecording:d,isPostProcessing:u,recordingProgress:p,isComplete:m,hasError:h,hasSubscription:y,hasConflicts:v,showPlay:f,timeFormat:b,onPlayPress:I}=this.props,{isAiringDetailsModalOpen:S,isSubscribeModalOpen:M,isConflictsModalOpen:E}=this.state,{beginsAt:P,endsAt:D,startOffsetSeconds:C=0,endOffsetSeconds:w=0,premiere:Z}=c,T=Bx(P-C,D+w,{includeMinuteZero:!1,timeFormat:b}),N=s||o;return g.createElement("div",{className:Te()("CalendarEvent-event-1-Un-g",m&&"CalendarEvent-isComplete-yIHUc8",h&&"CalendarEvent-hasError-tuZDir")},g.createElement(pw.Z,{className:"CalendarEvent-underlay-1HIlBn",to:i,onPress:i?void 0:this.onLinkPress}),g.createElement("div",{className:"CalendarEvent-overlay-3bEWXp"},g.createElement("div",{className:"CalendarEvent-title-YNbMg4",title:N},N),g.createElement("div",{className:"CalendarEvent-secondaryInfo-2tw-6D"},g.createElement("div",{className:"CalendarEvent-time-15MIC0"},T),Z?g.createElement(BL,null):null),g.createElement("div",{className:"CalendarEvent-status-2ofAUb"},!d||u||h?null:g.createElement("div",{className:"CalendarEvent-recording-1L7GyE"},g.createElement(AF,{size:24,backgroundClassName:"CalendarEvent-recordingProgressBackground-1nTAFB CircularProgressBar-circularProgressBarBackground-18BaI- CircularProgressBar-circularProgressBarBackground-1LlpZu",lineWidth:2,progress:p,showProgressText:!1}),g.createElement("span",{className:"CalendarEvent-recordingIcon-FEVxNY"})),d&&u&&!h?g.createElement(EF.Z,null):null,f?g.createElement(Xx.Z,{title:o,onPress:I}):null,h?g.createElement(o_,{error:l,onPress:v?this.onConflictIconPress:this.onLinkPress}):null)),y?g.createElement(s_,{isOpen:S,metricsProperties:M_,serverEntityID:e,providerEntityID:t,metadataItemEntityID:r,error:l,mediaItem:c,isComplete:m,hasError:h,isRecording:d,recordingProgress:p,onRecordingModify:this.onRecordingModify,onModalClose:this.onAiringDetailsModalClose}):null,y?g.createElement(km.Z,{isOpen:M||E,metricsProperties:M_,serverEntityID:e,providerEntityID:t,mediaSubscriptionEntityID:n,metadataItemEntityID:r,subscriptionType:a,showConflicts:E,isRecordingSchedule:!0,onModalClose:this.onSubscribeModalClose}):null)}}const P_=E_;var D_=Object.defineProperty,C_=Object.prototype.hasOwnProperty,w_=Object.getOwnPropertySymbols,Z_=Object.prototype.propertyIsEnumerable,T_=(e,t,n)=>t in e?D_(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const N_=(0,v.$j)((function(){return(0,fe.P1)((e=>e.ui.recordingSchedulePage.calendar),((e,{date:t})=>t),((e,t)=>({events:e.scheduled.filter((({beginsAt:e})=>(0,Di.Z)((0,ui.Z)(e),(0,ui.Z)(t))))})))}))((function({serverEntityID:e,events:t}){return g.createElement("div",null,t.map(((t,n)=>{const r=(0,vn.Z)(Mn.PK,t.mediaSubscriptionID,e);return g.createElement(MF,{key:n,component:P_,serverEntityID:e,providerID:t.identifier||t.provider,mediaSubscriptionEntityID:r,metadataItemEntityID:t.metadataItem,mediaSubscriptionID:t.mediaSubscriptionID,eventID:t.metadataItem.key,status:t.status,error:t.error,linkedKey:t.linkedKey,mediaItem:t.mediaItem,hasConflicts:!(!t.conflicts||!t.conflicts.length)})})))}));N_.propTypes=((e,t)=>{for(var n in t||(t={}))C_.call(t,n)&&T_(e,n,t[n]);if(w_)for(var n of w_(t))Z_.call(t,n)&&T_(e,n,t[n]);return e})({date:sa().number.isRequired},N_.propTypes);const O_=N_,A_=function({serverEntityID:e,date:t}){return g.createElement("div",{className:"CalendarDay-day-1Fh_9t"},g.createElement(O_,{serverEntityID:e,date:t}))};var x_=Object.defineProperty,j_=Object.prototype.hasOwnProperty,L_=Object.getOwnPropertySymbols,k_=Object.prototype.propertyIsEnumerable,R_=(e,t,n)=>t in e?x_(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const z_=(0,v.$j)((function(){return(0,fe.P1)((e=>e.ui.recordingSchedulePage),(e=>({days:e.calendar.days})))}))((function(e){var t=e,{days:n}=t,r=((e,t)=>{var n={};for(var r in e)j_.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&L_)for(var r of L_(e))t.indexOf(r)<0&&k_.call(e,r)&&(n[r]=e[r]);return n})(t,["days"]);return g.createElement("div",{className:"CalendarDays-calendarDays-2EGird"},n.map((e=>g.createElement(A_,((e,t)=>{for(var n in t||(t={}))j_.call(t,n)&&R_(e,n,t[n]);if(L_)for(var n of L_(t))k_.call(t,n)&&R_(e,n,t[n]);return e})({key:e,date:e},r)))))})),U_=function({date:e}){const t=Ci(e);let n;if(Ai(e))n=(0,Ce.Z)("Yesterday");else if(t)n=(0,Ce.Z)("Today");else{const t=(0,ui.Z)(e);n=(0,Ce.Z)("{dayOfWeek} {monthNumber}/{dayNumber}",{dayOfWeek:bi(e,{abbreviate:!0}),monthNumber:(0,Ii.Z)(t)+1,dayNumber:(0,vi.Z)(t)})}return g.createElement("div",{className:Te()("CalendarDayOfWeek-dayOfWeek-cgusNg",t&&"CalendarDayOfWeek-isToday-1T-v9M"),title:n},n)};var V_=Object.defineProperty,B_=Object.prototype.hasOwnProperty,F_=Object.getOwnPropertySymbols,__=Object.prototype.propertyIsEnumerable,H_=(e,t,n)=>t in e?V_(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const Q_=(0,v.$j)((function(){return(0,fe.P1)((e=>e.ui.recordingSchedulePage.calendar),(e=>({daysOfWeek:e.daysOfWeek})))}))((function(e){var t=e,{daysOfWeek:n}=t,r=((e,t)=>{var n={};for(var r in e)B_.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&F_)for(var r of F_(e))t.indexOf(r)<0&&__.call(e,r)&&(n[r]=e[r]);return n})(t,["daysOfWeek"]);return g.createElement("div",{className:"CalendarDaysOfWeek-container-24UL6v"},n.map((e=>g.createElement(U_,((e,t)=>{for(var n in t||(t={}))B_.call(t,n)&&H_(e,n,t[n]);if(F_)for(var n of F_(t))__.call(t,n)&&H_(e,n,t[n]);return e})({key:e,date:e},r)))))})),G_="CalendarHeader-calendarHeader-seOLRZ",W_="CalendarHeader-calendarNav-1PdgqO Link-link-CM9nxg",Y_="CalendarHeader-calendarNavDisabled-3EUJMz";var K_=Object.defineProperty,q_=Object.prototype.hasOwnProperty,$_=Object.getOwnPropertySymbols,J_=Object.prototype.propertyIsEnumerable,X_=(e,t,n)=>t in e?K_(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const eH=function(e){const{hasPastEvents:t,hasFutureEvents:n,onGoToPreviousRangePress:r,onGoToNextRangePress:i}=e;return g.createElement("div",{className:G_},g.createElement("div",{className:G_},g.createElement(pw.Z,{className:Te()(W_,!t&&Y_),kind:ic.TP,size:Rp.M2,isDisabled:!t,onPress:r},g.createElement(kg,{"aria-label":(0,Ce.Z)("Previous Page")})),g.createElement(h_,((e,t)=>{for(var n in t||(t={}))q_.call(t,n)&&X_(e,n,t[n]);if($_)for(var n of $_(t))J_.call(t,n)&&X_(e,n,t[n]);return e})({},e)),g.createElement(pw.Z,{className:Te()(W_,!n&&Y_),kind:ic.TP,size:Rp.M2,isDisabled:!n,onPress:i},g.createElement(jg,{"aria-label":(0,Ce.Z)("Next Page")}))))};var tH=Object.defineProperty,nH=Object.prototype.hasOwnProperty,rH=Object.getOwnPropertySymbols,iH=Object.prototype.propertyIsEnumerable,aH=(e,t,n)=>t in e?tH(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,sH=(e,t)=>{for(var n in t||(t={}))nH.call(t,n)&&aH(e,n,t[n]);if(rH)for(var n of rH(t))iH.call(t,n)&&aH(e,n,t[n]);return e};const oH=(0,v.$j)((function(){return(0,fe.P1)((e=>e.ui.recordingSchedulePage),(e=>{const t=S().pick(e.calendar,"time","startTime","endTime","hasPastEvents","hasFutureEvents");return sH({},t)}))}))((function(e){return g.createElement(eH,sH({},e))}));class lH extends g.Component{constructor(e,t){super(e,t),this.onMeasure=({width:e})=>{const t=this.state.visibleDays,n=Math.min(Math.floor(e/120),7);n!==t&&this.props.onVisibleDaysChange(n),this.setState({width:e,visibleDays:n})},this.state={width:null,visibleDays:0}}render(){const{serverEntityID:e,showError:t,isEmpty:n,subscriptionCount:r,visibleDays:i,onGoToPreviousRangePress:a,onGoToNextRangePress:s}=this.props;return t?g.createElement(Ox.Z,{title:(0,Ce.Z)("There was an error loading the calendar")}):n?g.createElement(uF,{subscriptionCount:r}):g.createElement(bx.Z,{className:"Calendar-calendar-29Z7I4",ignoreHeight:!0,onMeasure:this.onMeasure},i===this.state.visibleDays?g.createElement("div",null,g.createElement(oH,{onGoToPreviousRangePress:a,onGoToNextRangePress:s}),g.createElement(Q_,null),g.createElement(z_,{serverEntityID:e})):null)}}const cH=lH;var dH=Object.defineProperty,uH=Object.prototype.hasOwnProperty,pH=Object.getOwnPropertySymbols,mH=Object.prototype.propertyIsEnumerable,hH=(e,t,n)=>t in e?dH(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;class gH extends g.Component{constructor(){super(...arguments),this.onVisibleDaysChange=e=>{(0,fn.c9)((()=>{this.props.setVisibleDays({visibleDays:e})}))},this.onGoToPreviousRangePress=()=>{this.props.goToPreviousRange()},this.onGoToNextRangePress=()=>{this.props.goToNextRange()}}render(){return g.createElement(cH,((e,t)=>{for(var n in t||(t={}))uH.call(t,n)&&hH(e,n,t[n]);if(pH)for(var n of pH(t))mH.call(t,n)&&hH(e,n,t[n]);return e})({onVisibleDaysChange:this.onVisibleDaysChange,onGoToPreviousRangePress:this.onGoToPreviousRangePress,onGoToNextRangePress:this.onGoToNextRangePress},this.props))}}const yH=(0,v.$j)((function(){return(0,fe.P1)((e=>e.ui.recordingSchedulePage),(e=>{const{mediaSubscriptions:t,calendar:n,isCalendarPopulated:r,calendarError:i}=e;return{showError:!r&&!!i,isEmpty:!n.scheduled.length,subscriptionCount:t.length,visibleDays:n.visibleDays}}))}),r)(gH),vH="calendar",fH="agenda",bH=[vH,fH],IH=(0,v.$j)((function(){return(0,fe.P1)(((e,{sourceDirectory:t})=>t),(0,LT.Z)(),(0,OT.Z)(),((e,t,n)=>({guideRoute:(0,lz.ZP)(lz.tk.GUIDE,t,n,e)})))}))((function(e){const{serverEntityID:t,showSpinner:n,showEmptyState:r,programGuideIdentifier:i,selectedViewType:a,guideRoute:s}=e;return n?g.createElement(rB,null,g.createElement(Ex.Z,null,g.createElement(Mx.Z,null))):r&&i?g.createElement(rB,null,g.createElement(Ex.Z,{iconComponent:YV,title:(0,Ce.Z)("You have no recordings scheduled"),description:g.createElement(KV.Z,{message:(0,Ce.Z)("Check out the {openLink}Guide{closeLink} to browse available programming"),tags:[{open:"openLink",close:"closeLink",component:pw.Z,kind:ic._8,to:s}]})})):r&&!i?g.createElement(rB,null,g.createElement(Ex.Z,{iconComponent:YV,title:(0,Ce.Z)("You have no recordings scheduled"),description:(0,Ce.Z)("You need a DVR before you can schedule recordings")})):g.createElement("div",{className:"RecordingSchedulePageContent-schedulePageContent-357TDo PageContent-pageContent-aqfjwt"},g.createElement(rB,{innerClassName:"RecordingSchedulePageContent-schedulePageInnerContent-1Kt44c PageContent-innerPageContent-1ra0Xh"},a===vH?g.createElement(yH,{serverEntityID:t}):null,a===fH?g.createElement(S_,{serverEntityID:t}):null),g.createElement(dF,{serverEntityID:t,providerID:i,guideRoute:s}))}));function SH(e){return e===fH?(0,Ce.Z)("Agenda View"):(0,Ce.Z)("Calendar View")}class MH extends g.Component{constructor(e,t){super(e,t),this.onViewsMenuButtonPress=e=>{this.setState({isViewsMenuOpen:!this.state.isViewsMenuOpen})},this.onViewsMenuClose=()=>{this.setState({isViewsMenuOpen:!1})},this.state={isViewsMenuOpen:!1},this._viewsMenuButtonID=(0,GE.Z)()}shouldComponentUpdate(e,t){return(0,At.Z)(this,e,t)}render(){const{serverEntityID:e,providerEntityID:t,sourceDirectory:n,selectedViewType:r,showEPGActivity:i}=this.props,{isViewsMenuOpen:a}=this.state;return g.createElement(g.Fragment,null,g.createElement(NO.Z,null,g.createElement(eU,{serverEntityID:e,providerEntityID:t,sourceDirectory:n}),g.createElement(Gz,{serverEntityID:e,providerEntityID:t,sourceDirectory:n,directoryKey:lz.tk.RECORDING_SCHEDULE}),g.createElement(cz.Z,null)),g.createElement(Vf,null,g.createElement(TZ.Z,null,g.createElement(oz.Z,{id:this._viewsMenuButtonID,hasMenu:!0,isMenuOpen:a,onPress:this.onViewsMenuButtonPress},SH(r)),g.createElement(Xl.Z,{target:this._viewsMenuButtonID,isOpen:a,onMenuClose:this.onViewsMenuClose},bH.map((e=>g.createElement(Up.Z,{key:e,to:Zv({view:e}),isSelected:r===e,onPress:this.onViewsMenuClose},SH(e)))))),i?g.createElement(ZZ,null,g.createElement(tU,{serverEntityID:e,providerEntityID:t})):null))}}const EH=MH,PH=(0,v.$j)((function(){return(0,fe.P1)(xT(),(e=>({showEPGActivity:!!e})))}))(EH),DH=(0,aB.Z5)(qB.ZP);var CH=Object.defineProperty,wH=Object.prototype.hasOwnProperty,ZH=Object.getOwnPropertySymbols,TH=Object.prototype.propertyIsEnumerable,NH=(e,t,n)=>t in e?CH(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;class OH extends g.Component{shouldComponentUpdate(e,t){return(0,At.Z)(this,e,t)}render(){const{serverEntityID:e,providerEntityID:t,sourceDirectory:n,selectedViewType:r}=this.props;return g.createElement(yx.Z,{metricsContext:vx(pt.WT,OC.DVR_SCHEDULE_PIVOT)},g.createElement(fx.Z,{metricsPage:pt.WT,metricsProperties:{pane:r},scrollDirection:tZ.Hn},g.createElement(PH,{serverEntityID:e,providerEntityID:t,sourceDirectory:n,selectedViewType:r}),g.createElement(mb,{serverEntityID:e,providerEntityID:t}),g.createElement(IH,((e,t)=>{for(var n in t||(t={}))wH.call(t,n)&&NH(e,n,t[n]);if(ZH)for(var n of ZH(t))TH.call(t,n)&&NH(e,n,t[n]);return e})({},this.props))))}}const AH=DH(OH),xH={initRecordingSchedulePage:NV,clearRecordingSchedulePage:OV,goToToday:LV,fetchCalendar:zV,fetchMediaSubscriptions:AV,saveExperienceSettings:AM.LN,changeQuickSearchSettings:Sn.changeQuickSearchSettings};class jH extends g.Component{constructor(e,t){super(e,t),this._updateCalendar=()=>{this.props.goToToday(),this.props.fetchCalendar(),this._resetUpdateTimeout()},this._updateTimeoutID=null}UNSAFE_componentWillMount(){this._populate(),this._resetUpdateTimeout(),this._saveViewType(),this.props.providerIdentifier&&this._setSearchProviderIdentifier(this.props.providerIdentifier)}UNSAFE_componentWillReceiveProps(e){const{serverEntityID:t,time:n,selectedViewType:r}=e;t!==this.props.serverEntityID&&this._populate(e),this._updateTimeoutID&&n!==this.props.time&&this._resetUpdateTimeout(),r!==this.props.selectedViewType&&this._saveViewType(e)}componentDidUpdate(e){const{providerIdentifier:t}=this.props;t&&t!==e.providerIdentifier&&this._setSearchProviderIdentifier(t)}componentWillUnmount(){this._updateTimeoutID&&window.clearTimeout(this._updateTimeoutID),this.props.clearRecordingSchedulePage(),this._setSearchProviderIdentifier(null)}_populate(e=this.props){(0,fn.c9)((()=>{e.initRecordingSchedulePage({serverEntityID:e.serverEntityID}),e.fetchCalendar(),e.fetchMediaSubscriptions()}))}_setSearchProviderIdentifier(e){const{changeQuickSearchSettings:t,serverEntityID:n,providerEntityID:r,sourceDirectory:i}=this.props;let a;i&&(a=i.id),t({serverEntityID:n,providerEntityID:r,providerIdentifier:e,directoryID:a})}_resetUpdateTimeout(){this._updateTimeoutID&&window.clearTimeout(this._updateTimeoutID),this._updateTimeoutID=window.setTimeout(this._updateCalendar,36e5)}_saveViewType(e=this.props){e.saveExperienceSettings({calendarViewType:e.selectedViewType})}render(){const{serverEntityID:e,providerEntityID:t,sourceDirectory:n,selectedViewType:r,showSpinner:i,showEmptyState:a,programGuideIdentifier:s}=this.props;return this.props.isPagePopulated?g.createElement(AH,{serverEntityID:e,providerEntityID:t,sourceDirectory:n,selectedViewType:r,showSpinner:i,showEmptyState:a,programGuideIdentifier:s}):null}}const LH=(0,v.$j)((function(){return(0,fe.P1)((e=>e.ui.recordingSchedulePage),((e,{selectedViewType:t})=>t),(0,OT.Z)(),dx(),(0,fe.P1)(Cn.Z,function(e,t=GV){return(0,UA.Z)(function(e,t){return(0,fe.P1)(Cn.Z,QV(),((n,r)=>r?r.reduce(((r,i)=>{const a=n[i];return a&&t(a)&&S().findWhere(a.features,{type:e})&&r.push(i),r}),[]):[]))}(e,t),(e=>e))}(AC.kD),((e,t)=>{const n=t[0];if(n){const t=e[n];return t&&t.identifier}})),na.Z,((e,t,n,r,i,a)=>{const{isPagePopulated:s,isCalendarPopulated:o,calendarError:l,isMediaSubscriptionsPopulated:c,mediaSubscriptionsError:d,calendar:u}=e,p=!o&&!l||!c&&!d,m=!p&&c&&!e.mediaSubscriptions.length&&o&&!u.scheduled.length;return{sourceDirectory:r,providerIdentifier:n.identifier,isPagePopulated:s,showSpinner:p,showEmptyState:m,programGuideIdentifier:i,time:u?u.time:void 0,selectedViewType:t||a.calendarViewType}}))}),xH)(jH);function kH(){return(0,fe.P1)(((e,{directoryKey:t})=>t),dx(),((e,t)=>dz(t,e)))}var RH=n(93066);const zH=(0,bc.Z)(RH.Mv),UH=(0,bc.Z)(RH.TA),VH=(0,bc.Z)(RH.cW),BH=(0,bc.Z)(RH.PG);var FH=n(53181),_H=n(716),HH=Object.defineProperty,QH=Object.prototype.hasOwnProperty,GH=Object.getOwnPropertySymbols,WH=Object.prototype.propertyIsEnumerable,YH=(e,t,n)=>t in e?HH(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const KH=function(e){const t=e,{serverEntityID:n,providerEntityID:r,pivot:i,sourceDirectory:a,directoryKey:s,showSecondHeader:o,children:l}=t,c=((e,t)=>{var n={};for(var r in e)QH.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&GH)for(var r of GH(e))t.indexOf(r)<0&&WH.call(e,r)&&(n[r]=e[r]);return n})(t,["serverEntityID","providerEntityID","pivot","sourceDirectory","directoryKey","showSecondHeader","children"]);return g.createElement(qV.Z,((e,t)=>{for(var n in t||(t={}))QH.call(t,n)&&YH(e,n,t[n]);if(GH)for(var n of GH(t))WH.call(t,n)&&YH(e,n,t[n]);return e})({className:_H.Z.page},c),g.createElement(NO.Z,null,g.createElement(eU,{serverEntityID:n,providerEntityID:r,sourceDirectory:a}),i?g.createElement(Gz,{serverEntityID:n,providerEntityID:r,sourceDirectory:a,directoryKey:s}):null,g.createElement(cz.Z,null)),o?g.createElement(Vf,null):null,g.createElement(rB,null,l))};var qH=n(63233);function $H({items:e,gap:t=0,existingItems:n=[]}){const r=S().sortBy(n,"position"),i=S().sortBy(e,"position");let a=-1/0;return i.forEach((e=>{const i=S().sortedIndex(n,e,"position"),s=n[i-1],o=n[i],l=e.position>a+t,c=!s||e.position>s.position+t,d=!o||e.position<o.position-t;l&&c&&d&&(r.push(e),a=e.position)})),S().sortBy(r,"position")}const JH="minor",XH="major",eQ={container:"TickMarks-container-2q9ySS",ticks:"TickMarks-ticks-2eF6lM",tick:"TickMarks-tick-27kXLQ",minor:"TickMarks-minor-2arEQg TickMarks-tick-27kXLQ",major:"TickMarks-major-3Dd5H8 TickMarks-tick-27kXLQ",label:"TickMarks-label-1q0c1R"};function tQ(e){const{ticks:t,pixelProportion:n,majorTickGap:r,minorTickGap:i}=e,a=S().where(t,{type:XH}),s=S().where(t,{type:JH}),o=$H({items:a,gap:n*r});return $H({items:s,existingItems:o,gap:n*i})}class nQ extends g.Component{constructor(e,t){super(e,t),this.state={ticks:tQ(e)}}UNSAFE_componentWillReceiveProps(e){const{ticks:t,pixelProportion:n,majorTickGap:r,minorTickGap:i}=e,a=this.props.ticks!==t,s=this.props.pixelProportion!==n,o=this.props.majorTickGap!==r,l=this.props.minorTickGap!==i;(a||s||o||l)&&this.setState({ticks:tQ(e)})}render(){return g.createElement("div",{className:eQ.container},g.createElement("div",{className:eQ.ticks},this.state.ticks.map((({type:e,position:t,label:n})=>g.createElement("div",{key:t,className:eQ[e],style:{top:100*t+"%"}},n&&"major"===e?g.createElement("div",{className:eQ.label},n):null)))))}}nQ.defaultProps={majorTickGap:20,minorTickGap:5};const rQ=nQ;function iQ(e={},t=1){const{Media:[n={}]=[]}=e,{width:r,height:i,Part:[a={}]=[]}=n;return r&&i?(s=a.orientation)>=5&&s<9?i/r:r/i:t;var s}let aQ;const sQ=(0,fe.P1)(FH.Z,(e=>{const t=S().pluck(e.activeSelectionItems,"id");return aQ&&S().isEqual(aQ,t)?aQ:(aQ=t,t)}));let oQ,lQ={};function cQ(e,t){if(!e||null==t)return!1;if(e===oQ&&lQ.hasOwnProperty(t))return lQ[t];e!==oQ&&(oQ=e,lQ={});const n=-1!==e.indexOf(t);return lQ[t]=n,n}var dQ=n(24935),uQ=n(41523);function pQ(){return(0,fe.P1)((0,xx.Z)(),sQ,((e,t)=>!!e&&cQ(t,e.ratingKey)))}var mQ=n(48022);function hQ(){return(0,fe.P1)(((e,{listType:t})=>t),(0,xx.Z)(),((e,t={})=>{const n=t.type;if(n){if(n===Ac.PLAYLIST)return Ac.PLAYLIST;if(n===Ac.COLLECTION)return Ac.COLLECTION;if(e===mQ.pV)return Ac.PHOTO;{const e=Ac.getLeafType(n);return e&&e.mediaType}}}))}var gQ=n(51792),yQ=n(97863);const vQ=parseInt(ng.Z.mosaicCellPadding,10);var fQ=Object.defineProperty,bQ=Object.prototype.hasOwnProperty,IQ=Object.getOwnPropertySymbols,SQ=Object.prototype.propertyIsEnumerable,MQ=(e,t,n)=>t in e?fQ(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,EQ=(e,t)=>{for(var n in t||(t={}))bQ.call(t,n)&&MQ(e,n,t[n]);if(IQ)for(var n of IQ(t))SQ.call(t,n)&&MQ(e,n,t[n]);return e};const PQ=(0,v.$j)((function(){return(0,fe.P1)((0,LT.Z)(),(0,xx.Z)(),hQ(),pQ(),FH.Z,(({machineIdentifier:e},t={},n,r,i)=>{const{key:a,type:s,title:o,thumb:l}=t;return{machineIdentifier:e,metadataKey:a,type:s,title:o,thumb:l,selectionType:n,activeSelectionType:i.activeSelectionType,isSelected:r}}))}),(function(e,t){return{onSelectItem(n){e((0,iC.wr)(EQ({metadataListEntityID:t.metadataListEntityID},n)))},onDeselectItem(n){e((0,iC.g8)(EQ({metadataListEntityID:t.metadataListEntityID},n)))}}}))((function(e){const{serverEntityID:t,providerEntityID:n,metadataItemEntityID:r,containerKey:i,listType:a,metadataKey:s,type:o,title:l,thumb:c,cellWidth:d,cellHeight:u,showOffscreenPlaceholder:p,selectionType:m,activeSelectionType:h,isSelected:y,onSelectItem:v,onDeselectItem:f}=e,b=(0,Ax.Z)(e),I="clip"===o,S="photoalbum"===o,M=!s,E=d-2*vQ,P=u-2*vQ;return g.createElement("div",{className:"MetadataPhotoCell-photoContainer-3x1j-I",style:b.style},g.createElement("div",{className:"MetadataPhotoCell-photo-2k-z8S"},g.createElement("div",{className:"MetadataPhotoCell-image-2NZnEq"},M?g.createElement(yQ.Z,{imageWidth:E,imageHeight:P,isSelected:y}):null,M?null:g.createElement(gQ.Z,{serverEntityID:t,providerEntityID:n,metadataItemEntityID:r,containerKey:i,listType:a,metadataKey:s,type:o,imageUrl:c,imageWidth:E,imageHeight:P,selectionType:m,activeSelectionType:h,isSelected:y,isOffscreen:p,onSelectItem:v,onDeselectItem:f}),I?g.createElement("div",{className:"MetadataPhotoCell-badge-28uFUQ"},g.createElement(Ly.Z,null)):null,S?g.createElement("div",{className:"MetadataPhotoCell-title-1TKaDE"},l):null)))}));var DQ=Object.defineProperty,CQ=Object.prototype.hasOwnProperty,wQ=Object.getOwnPropertySymbols,ZQ=Object.prototype.propertyIsEnumerable,TQ=(e,t,n)=>t in e?DQ(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,NQ=(e,t)=>{for(var n in t||(t={}))CQ.call(t,n)&&TQ(e,n,t[n]);if(wQ)for(var n of wQ(t))ZQ.call(t,n)&&TQ(e,n,t[n]);return e};function OQ(e){const{columns:t=1,rows:n=[],overscan:r=0,outerPadding:i=0,innerPadding:a=0,maximumHeight:s=0,offset:o=0}=e,l=[];let c,d,u,p,m,h=0,g=o;function y(e){return e<0?l[0]:S().find(l,(({bottom:t})=>e<i+(t+1)*m))||S().last(l)}return n.forEach((e=>{const t=h;h+=e.height;const n=h-1,r=g;g+=e.widths.length;const i=g-1,a=[];let s=0;e.widths.forEach(((e,t)=>{const n=s;s+=e,a.push({width:e,left:n,cellIndex:r+t})})),l.push(NQ(NQ({},e),{top:t,bottom:n,first:r,last:i,cellLayouts:a}))})),{getListStyle:function(e){const r=`${e.viewportWidth}:${e.viewportHeight}`;if(r===c)return d;u=e.viewportHeight;const a=e.viewportWidth-2*i,o=n.reduce(((e,t)=>e+t.height),0);return p=a/t,m=s?(s-i)/o:p,c=r,d={height:m*o,width:a},d},getPositionForIndex:function(e){(0,_.Z)(void 0!==u,"`getListStyle` must be called before `getPositionForIndex`");const t=S().find(l,(({last:t})=>e<=t)),n=S().find(t.cellLayouts,(({cellIndex:t})=>t===e));return{cellX:Math.round(n.left*p)+a+i,cellY:Math.round(t.top*m)+a+i,cellWidth:Math.round(n.width*p)-2*a,cellHeight:Math.round(t.height*m)-2*a}},getRangesForPosition:function(e=0){(0,_.Z)(void 0!==u,"`getListStyle` must be called before `getRangesForPosition`");const t=e+u-1,n=t+r*u,i=y(e-r*u).first,a=y(n).last,s=y(e).first,o=y(t).last;return{renderStartIndex:i,renderEndIndex:a,visibleStartIndex:s,visibleEndIndex:o,partiallyVisibleStartIndex:s,partiallyVisibleEndIndex:o}},getRelativeIndex:function(){(0,_.Z)(!1,"Mosaic layouts do not support relative indexing")}}}function AQ(e){return 0===e.cells.length?1/0:e.cells.reduce(((e,t)=>e+function(e){return Math.abs(e.actual-e.desired)/e.actual}(t)),0)/e.cells.length+Math.abs(e.scale-1)}function xQ({cells:e},t){const n=t/e.reduce(((e,t)=>e+t.desired),0);return{scale:n,cells:e.map((({desired:e})=>({desired:e,actual:e*n})))}}function jQ(e){const{aspectRatios:t,columns:n=4,minAspectRatio:r=.4,maxAspectRatio:i=5}=e,a=t.map((e=>Math.max(r,Math.min(i,e)))),s=[];let o={scale:null,cells:[]};a.forEach((e=>{const t={desired:e};let r={scale:0,cells:o.cells.slice(0)};r.cells.push(t),r=xQ(r,n),AQ(r)<=AQ(o)?o=r:(s.push(o),o=xQ({scale:0,cells:[t]},n))}));const l=1/Math.max(1,o.scale);return o.scale=Math.min(1,o.scale),o.cells=o.cells.map((({desired:e,actual:t})=>({desired:e,actual:t*l}))),s.push(o),s.map((({scale:e,cells:t})=>({height:e,widths:t.map((e=>e.actual))})))}var LQ=Object.defineProperty,kQ=Object.prototype.hasOwnProperty,RQ=Object.getOwnPropertySymbols,zQ=Object.prototype.propertyIsEnumerable,UQ=(e,t,n)=>t in e?LQ(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,VQ=(e,t)=>{for(var n in t||(t={}))kQ.call(t,n)&&UQ(e,n,t[n]);if(RQ)for(var n of RQ(t))zQ.call(t,n)&&UQ(e,n,t[n]);return e};function BQ(e,t){return function(n){return g.createElement(t,VQ(VQ({},e),n))}}const FQ=function(e){const t=(0,Ax.Z)(e);return g.createElement("div",{style:t.style},e.children)};class _Q extends g.Component{constructor(e,t){super(e,t),this.onSelectPress=()=>{const{isSelected:e,items:t,onSelectItems:n,onDeselectItems:r}=this.props;e?r(t):n(t)},this.state={layout:this._createLayout(e),cellRenderer:this._createCellRenderer(e)}}UNSAFE_componentWillReceiveProps(e){const t=e.aspectRatios!==this.props.aspectRatios,n=e.columns!==this.props.columns,r=e.viewportWidth!==this.props.viewportWidth,i=e.viewportHeight!==this.props.viewportHeight,a=e.serverEntityID!==this.props.serverEntityID,s=e.providerEntityID!==this.props.providerEntityID,o=e.metadataListEntityID!==this.props.metadataListEntityID,l=t||n||i||r,c=a||s||o;if(l||c){const t={};l&&(t.layout=this._createLayout(e)),c&&(t.cellRenderer=this._createCellRenderer(e)),this.setState(t)}}_createLayout(e){const t=jQ({aspectRatios:e.aspectRatios,columns:e.columns});return OQ({columns:e.columns,rows:t,maximumHeight:e.cellHeight-(e.footerHeight+e.headerHeight)})}_createCellRenderer(e){const{serverEntityID:t,providerEntityID:n,metadataListEntityID:r,containerKey:i,listType:a}=e;return BQ({serverEntityID:t,providerEntityID:n,metadataListEntityID:r,containerKey:i,listType:a},PQ)}render(){const{cellIndex:e,cellX:t,cellY:n,cellWidth:r,cellHeight:i,isVirtual:a,title:s,items:o,size:l,viewportHeight:c,scrollTop:d,isSelected:u,hasSelection:p}=this.props,{layout:m,cellRenderer:h}=this.state;return g.createElement(FQ,{cellIndex:e,cellX:t,cellY:n,cellWidth:r,cellHeight:i,isVirtual:a},g.createElement("div",{className:Te()(p&&"MetadataMomentCell-hasSelection-20fhjQ","MetadataMomentCell-header-14wqW1")},g.createElement("div",{className:"MetadataMomentCell-actions-1PiTWW"},g.createElement(uQ.Z,{className:"MetadataMomentCell-selectButton-32k4Qr SelectButton-selectButton-Yy19xn",title:s,isSelected:u,onPress:this.onSelectPress})),g.createElement("div",{className:"MetadataMomentCell-title-AJwb7s"},s)),g.createElement(dQ.Z,{items:o,keyPropName:"metadataItemEntityID",size:l,cellRenderer:h,viewportWidth:r,viewportHeight:c,scrollTop:d-n,layout:m}))}}_Q.defaultProps={headerHeight:0,footerHeight:0};const HQ=_Q;function QQ(){return(0,fe.P1)(((e,{start:t})=>t),((e,{end:t})=>t),(0,ax.Z)(),((e,t,n)=>{const{populatedRange:r,metadataItems:i}=n;return e<r.start||t>r.end?S().times(t-e,(()=>null)):i.slice(e-r.start,t-r.start)}))}function GQ(){return(0,fe.P1)(QQ(),sx.Z,((e,t)=>e.map((e=>t[e]))))}const WQ=(0,v.$j)((function(){return(0,fe.P1)((0,ax.Z)(),QQ(),(0,fe.P1)(((e,{avgAR:t})=>t),GQ(),((e,t)=>t.map((t=>t?iQ(t,e):e)))),(0,fe.P1)(GQ(),sQ,((e,t)=>e.every((e=>e&&cQ(t,e.ratingKey))))),FH.Z,((e,t,n,r,i)=>({containerKey:e.containerKey,listType:"photo",aspectRatios:n,items:t,isSelected:r,hasSelection:i.activeSelectionItems.length>0})))}),(function(e,t){return{onSelectItems(t){e((0,iC.Kn)({type:Ac.PHOTO,ids:t}))},onDeselectItems(t){e((0,iC.XX)({ids:t}))}}}))(HQ);var YQ=Object.defineProperty,KQ=Object.prototype.hasOwnProperty,qQ=Object.getOwnPropertySymbols,$Q=Object.prototype.propertyIsEnumerable,JQ=(e,t,n)=>t in e?YQ(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var XQ=Object.defineProperty,eG=Object.prototype.hasOwnProperty,tG=Object.getOwnPropertySymbols,nG=Object.prototype.propertyIsEnumerable,rG=(e,t,n)=>t in e?XQ(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;class iG extends g.Component{constructor(e,t){super(e,t),this.state={layout:this._createLayout(e)}}UNSAFE_componentWillReceiveProps(e){const t=e.items!==this.props.items,n=e.columns!==this.props.columns;(t||n)&&this.setState({layout:this._createLayout(e)})}_createLayout(e){return function(e){const t=e,{columns:n=1,areas:r=[],innerPaddingTop:i=0,innerPaddingBottom:a=0}=t;return Sx(((e,t)=>{for(var n in t||(t={}))KQ.call(t,n)&&JQ(e,n,t[n]);if(qQ)for(var n of qQ(t))$Q.call(t,n)&&JQ(e,n,t[n]);return e})({getCellHeights:function(e){return r.map((t=>function(e,t){return Math.max(1,Math.round(e/n))*t+(i+a)}(t,e/n)))}},((e,t)=>{var n={};for(var r in e)KQ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&qQ)for(var r of qQ(e))t.indexOf(r)<0&&$Q.call(e,r)&&(n[r]=e[r]);return n})(t,["columns","areas","innerPaddingTop","innerPaddingBottom"])))}({columns:e.columns,areas:e.items.map((e=>e.area)),innerPaddingTop:e.headerHeight,innerPaddingBottom:e.footerHeight,outerPaddingTop:e.listPadding,outerPaddingRight:e.listPadding-e.listGutter,outerPaddingBottom:e.listPadding,outerPaddingLeft:e.listPadding})}render(){const{serverEntityID:e,providerEntityID:t,metadataListEntityID:n,columns:r,headerHeight:i,footerHeight:a,cellComponent:s}=this.props;return g.createElement(Ix.Z,((e,t)=>{for(var n in t||(t={}))eG.call(t,n)&&rG(e,n,t[n]);if(tG)for(var n of tG(t))nG.call(t,n)&&rG(e,n,t[n]);return e})({layout:this.state.layout,cellRenderer:BQ({serverEntityID:e,providerEntityID:t,metadataListEntityID:n,columns:r,headerHeight:i,footerHeight:a},s)},this.props))}}const aG=iG;var sG=Object.defineProperty,oG=Object.prototype.hasOwnProperty,lG=Object.getOwnPropertySymbols,cG=Object.prototype.propertyIsEnumerable,dG=(e,t,n)=>t in e?sG(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const uG={dispatchPopulateMetadataListRange:iC.vp,dispatchDeselectAllMetadataListItems:iC.m8,dispatchResetMetadataList:iC.wZ};class pG extends g.Component{constructor(){super(...arguments),this.onPageRequest=({startIndex:e,endIndex:t})=>{const{metadataListEntityID:n,disableReloadThreshold:r,items:i,dispatchPopulateMetadataListRange:a}=this.props;a({metadataListEntityID:n,disableReloadThreshold:r,startIndex:i[e].start,endIndex:i[t].end-1,pages:1})}}componentWillUnmount(){const{metadataListEntityID:e}=this.props;this.props.dispatchDeselectAllMetadataListItems({metadataListEntityID:e}),this.props.dispatchResetMetadataList({metadataListEntityID:e})}render(){const e=this.props,{dispatchPopulateMetadataListRange:t,dispatchDeselectAllMetadataListItems:n,dispatchResetMetadataList:r}=e,i=((e,t)=>{var n={};for(var r in e)oG.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&lG)for(var r of lG(e))t.indexOf(r)<0&&cG.call(e,r)&&(n[r]=e[r]);return n})(e,["dispatchPopulateMetadataListRange","dispatchDeselectAllMetadataListItems","dispatchResetMetadataList"]);return g.createElement(aG,((e,t)=>{for(var n in t||(t={}))oG.call(t,n)&&dG(e,n,t[n]);if(lG)for(var n of lG(t))cG.call(t,n)&&dG(e,n,t[n]);return e})({onPageRequest:this.onPageRequest},i))}}const mG=(0,v.$j)((function(){return(0,fe.P1)(FH.Z,(e=>({disableReloadThreshold:!!e.activeSelectionType})))}),uG)(pG),hG=Math.max(0,parseInt(ng.Z.timelineGutter,10)-40);class gG extends g.Component{constructor(e,t){super(e,t),this.onListUpdate=e=>{const t=e.landmarks,n=e.listStyle&&e.listStyle.height;if(t!==this._landmarks){this._landmarks=t;const e=function(e,t){const n={},r={};return e.reduce(((e,{index:i,position:a})=>{const s=(0,pi.Z)(1e3*t[i],"yyyy MM"),o=s.slice(0,4);return n[o]?r[s]||(r[s]=!0,e.push({position:a,type:JH})):(n[o]=!0,r[s]=!0,e.push({position:a,type:XH,label:o})),e}),[])}(t,S().pluck(this.props.moments,"startsAt"));this.setState({ticks:e,listHeight:n})}},this.state={ticks:null,listHeight:null}}render(){const{serverEntityID:e,providerEntityID:t,metadataListEntityID:n,moments:r,columns:i,height:a,onMomentScrollIndexChange:s}=this.props,{ticks:o,listHeight:l}=this.state,c=1/a,d=l&&l>a;return r.length?g.createElement("div",{className:"TimelinePageContent-container-2Fh_jQ"},g.createElement(mG,{className:"TimelinePageContent-stack-307wwY PageContent-pageContent-aqfjwt",scrollerClassName:"TimelinePageContent-scroller-32pe3i",serverEntityID:e,providerEntityID:t,metadataListEntityID:n,scrollPositionStorageKey:"TimelinePageContent",keyPropName:"id",items:r,size:r.length,columns:i,footerHeight:59,listPadding:55,listGutter:hG,hasNestedList:!0,cellComponent:WQ,onListScrollIndexChange:s,onListUpdate:this.onListUpdate}),g.createElement("div",{className:"TimelinePageContent-adornment-o1gAE0"},o&&d?g.createElement(rQ,{pixelProportion:c,ticks:o}):null)):g.createElement(rB,null,g.createElement(Ex.Z,{iconComponent:qH.Z.photo,title:(0,Ce.Z)("There are no events in this library")}))}}const yG=gG;function vG({className:e,children:t}){return g.createElement("div",{className:e},t)}vG.defaultProps={className:"PageHeaderRight-pageHeaderRight-3GGu6G"};const fG=vG;function bG(e,t){return t?`${e}-${t}`:e}const IG="poster",SG="mosaic",MG="table",EG="simpleSummary",PG="summary",DG="epgEpisode",CG="sharedItems";function wG(e,t){return ZG(t)||TG(e)}function ZG(e){return e===IG||e===SG}function TG(e){return e.length>1}const NG=sa().oneOf([IG,SG,MG,EG,PG,DG,CG]);class OG extends g.Component{constructor(){super(...arguments),this.onListStylePress=e=>{this.props.onListStylePress(this.props.listStyle)}}render(){const{isSelected:e,title:t}=this.props;return g.createElement(Up.Z,{isSelected:e,onPress:this.onListStylePress},t)}}const AG=OG;function xG(e){return e===MG?cT:e===PG||e===EG?uT:mT}class jG extends g.Component{constructor(e,t){super(e,t),this.onSliderChange=({steppedValue:e})=>{this.setState({sliderValue:e}),this._clearTimeout(),this._columnAdjustmentTimeoutID=window.setTimeout((()=>{this.props.onColumnAdjustmentChange(-1*e)}),this.props.columnAdjustmentTimeout)},this.onStylesPress=e=>{this.setState({isStylesMenuOpen:!this.state.isStylesMenuOpen})},this.onStylesMenuClose=()=>{this.setState({isStylesMenuOpen:!1})},this.onListStylePress=e=>{this.props.onListStyleChange(e),this.onStylesMenuClose()},this.state={sliderValue:-1*e.columnAdjustment,isStylesMenuOpen:!1},this._stylesButtonID=(0,GE.Z)()}UNSAFE_componentWillReceiveProps(e){e.columnAdjustment!==this.props.columnAdjustment&&this.setState({sliderValue:-1*e.columnAdjustment})}componentWillUnmount(){this._clearTimeout()}_clearTimeout(){this._columnAdjustmentTimeoutID&&window.clearTimeout(this._columnAdjustmentTimeoutID)}render(){const{listType:e,listContext:t,selectedListStyle:n,allListStyles:r}=this.props,{sliderValue:a,isStylesMenuOpen:s}=this.state,{POSTER:o,MOSAIC:l,TABLE:c,SUMMARY:d,SIMPLE_SUMMARY:u}=i,p=[{listStyle:o,title:(0,Ce.Z)("Grid View")},{listStyle:l,title:(0,Ce.Z)("Mosaic View")},{listStyle:c,title:(0,Ce.Z)("List View")},{listStyle:d,title:(0,Ce.Z)("Summary View")},{listStyle:u,title:(0,Ce.Z)("Summary View")}],m=ZG(n),h=TG(r),y=xG(n);return m||h?g.createElement("div",{className:"MetadataListStylesMenu-stylesContainer-2CTSej"},m?g.createElement(Es.Z,{className:"MetadataListStylesMenu-slider-1Hc4d8 Slider-slider-4zRCDI",label:(0,Ce.Z)("Poster Size"),value:a,min:-1,max:2,stepSize:1,onChange:this.onSliderChange}):null,g.createElement(pw.Z,{id:this._stylesButtonID,"data-qa-id":"toolbarView",className:h?"MetadataListStylesMenu-stylesButtonWithArrow-2PnVEh MetadataListStylesMenu-stylesButton-3iwoju":"MetadataListStylesMenu-stylesButton-3iwoju","aria-label":(0,Ce.Z)("Show List Styles"),isDisabled:!h,onPress:this.onStylesPress},g.createElement(y,{className:"MetadataListStylesMenu-stylesIcon-1SNh63"}),h?g.createElement(Lp.Z,{direction:s?kp.UP:kp.WV}):null),h?g.createElement(Xl.Z,{target:this._stylesButtonID,isOpen:s,onMenuClose:this.onStylesMenuClose},p.map((({listStyle:e,title:t})=>r.indexOf(e)>-1&&g.createElement(AG,{key:e,isSelected:n===e,title:t,listStyle:e,onListStylePress:this.onListStylePress})))):null):null}}jG.defaultProps={selectedListStyle:IG,allListStyles:[IG],allListStyleActions:[],columnAdjustmentTimeout:500};const LG=jG;var kG=Object.defineProperty,RG=Object.prototype.hasOwnProperty,zG=Object.getOwnPropertySymbols,UG=Object.prototype.propertyIsEnumerable,VG=(e,t,n)=>t in e?kG(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,BG=(e,t)=>{for(var n in t||(t={}))RG.call(t,n)&&VG(e,n,t[n]);if(zG)for(var n of zG(t))UG.call(t,n)&&VG(e,n,t[n]);return e};const FG=(0,fe.P1)(na.Z,(e=>({columnAdjustment:e.columnAdjustment,listStyles:e.listStyles})));class _G extends g.Component{constructor(){super(...arguments),this.onColumnAdjustmentChange=e=>{(0,fn.c9)((()=>{this.props.saveExperienceSettings({columnAdjustment:e})}))},this.onListStyleChange=e=>{const{listStyles:t,listType:n,listSubtype:r,listContext:i}=this.props,a=bG(n,r),s=BG(BG({},t),{[i]:BG(BG({},t[i]||{}),{[a]:e})});(0,fn.c9)((()=>{this.props.saveExperienceSettings({listStyles:s})}))}}render(){return g.createElement(LG,BG(BG({},this.props),{onColumnAdjustmentChange:this.onColumnAdjustmentChange,onListStyleChange:this.onListStyleChange}))}}const HG=(0,v.$j)((e=>FG),{saveExperienceSettings:AM.LN})(_G);var QG=n(2078);const GG={showPlayAll:YG,showShuffle:function({server:e,provider:t,stableUser:n,metadataList:r}){return YG({server:e,provider:t,stableUser:n,metadataList:r})&&!!t.features.playqueue},showQueue:function({server:e,provider:t,stableUser:n,metadataList:r}){return YG({server:e,provider:t,stableUser:n,metadataList:r})},showAddToPlaylist:function({server:e,provider:t,stableUser:n,metadataList:r}){return!(!e.isFullServer||!r.isFirstItemLibraryItem)},showAddToCatalog:function({server:e,provider:t,stableUser:n,metadataList:r}){return!!(t.features.actions&&t.features.actions.addToCatalog&&(0,xc.d)(n,t.features.actions.addToCatalog))},showSync:function({server:e,provider:t,stableUser:n,metadataList:r}){return!!ae.Z.allowSync&&(!n.features[bn.PL]&&!!(e.isFullServer&&e.allowSync&&r.isFirstItemLibraryItem&&r.allowSync))},showOptimize:function({server:e,provider:t,stableUser:n,metadataList:r}){return!!(e.isFullOwnedServer&&e.transcoderVideo&&r.isFirstItemLibraryItem)}},WG={mixed:[],movie:["showPlayAll","showShuffle","showQueue","showAddToPlaylist","showSync","showOptimize"],show:["showPlayAll","showShuffle","showQueue","showAddToPlaylist","showAddToCatalog","showSync","showOptimize"],season:["showPlayAll","showShuffle","showQueue","showAddToPlaylist","showSync","showOptimize"],episode:["showPlayAll","showShuffle","showQueue","showAddToPlaylist","showSync","showOptimize"],artist:["showPlayAll","showShuffle","showQueue","showAddToPlaylist","showSync"],album:["showPlayAll","showShuffle","showQueue","showAddToPlaylist","showSync"],track:["showPlayAll","showShuffle","showAddToCatalog","showQueue","showAddToPlaylist","showSync"],photoalbum:["showPlayAll","showShuffle","showAddToPlaylist","showSync"],photo:["showPlayAll","showShuffle","showAddToPlaylist","showSync"],clip:["showPlayAll","showShuffle","showAddToPlaylist","showSync","showOptimize"],genre:["showAddToCatalog"]};function YG({server:e,provider:t,stableUser:n,metadataList:r}){return(0,QG.Z)(e,t,n.features,r)}var KG=n(27154),qG=n(22103);class $G extends g.Component{constructor(e,t){super(e,t),this.onAddToCatalogPress=()=>{this.setState({isAddToCatalogModalOpen:!0})},this.onAddToCatalogClose=()=>{this.setState({isAddToCatalogModalOpen:!1})},this.onAddToPlaylistPress=()=>{this.setState({isAddToPlaylistModalOpen:!0})},this.onAddToPlaylistClose=()=>{this.setState({isAddToPlaylistModalOpen:!1}),this.props.onMenuClose()},this.state={isAddToCatalogModalOpen:!1,isAddToPlaylistModalOpen:!1}}createOnPress(e){return()=>{e(),this.props.onMenuClose()}}render(){const e=this.props,{isAddToCatalogModalOpen:t,isAddToPlaylistModalOpen:n}=this.state;return g.createElement("div",null,e.showPlayAll?g.createElement(ec.Z,{onPress:this.createOnPress(e.onPlayAllPress)},(0,Ce.Z)("Play All")):null,e.showShuffle?g.createElement(ec.Z,{onPress:this.createOnPress(e.onShufflePress)},(0,Ce.Z)("Shuffle")):null,e.showQueue?g.createElement(ec.Z,{onPress:this.createOnPress(e.onPlayNextPress)},(0,Ce.Z)("Play Next")):null,e.showQueue?g.createElement(ec.Z,{onPress:this.createOnPress(e.onAddToQueuePress)},(0,Ce.Z)("Add to Queue")):null,e.showAddToPlaylist?g.createElement(ec.Z,{onPress:this.createOnPress(this.onAddToPlaylistPress)},(0,Ce.Z)("Add to Playlist...")):null,e.showAddToCatalog?g.createElement(ec.Z,{onPress:this.onAddToCatalogPress},(e.listType,e.listSubtype===wc.PODCAST?(0,Ce.Z)("Add Podcast by URL"):(0,Ce.Z)("Add to Catalog by URL"))):null,e.showSync?g.createElement(ec.Z,{onPress:this.createOnPress(e.onSyncPress)},(0,Ce.Z)("Sync...")):null,e.showOptimize?g.createElement(ec.Z,{onPress:this.createOnPress(e.onOptimizePress)},(0,Ce.Z)("Optimize...")):null,g.createElement(Ww,{providerEntityID:e.providerEntityID,isOpen:t,onModalClose:this.onAddToCatalogClose}),e.showAddToPlaylist?g.createElement(qG.Z,{isOpen:n,serverEntityID:e.serverEntityID,providerEntityID:e.providerEntityID,metadataListEntityID:e.metadataListEntityID,onModalClose:this.onAddToPlaylistClose}):null)}}const JG=$G;var XG=Object.defineProperty,eW=Object.prototype.hasOwnProperty,tW=Object.getOwnPropertySymbols,nW=Object.prototype.propertyIsEnumerable,rW=(e,t,n)=>t in e?XG(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const iW=function(e){const t=e,{target:n,isOpen:r}=t,i=((e,t)=>{var n={};for(var r in e)eW.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&tW)for(var r of tW(e))t.indexOf(r)<0&&nW.call(e,r)&&(n[r]=e[r]);return n})(t,["target","isOpen"]);return g.createElement(Xl.Z,{target:e.target,isOpen:e.isOpen,onMenuClose:e.onMenuClose},g.createElement(JG,((e,t)=>{for(var n in t||(t={}))eW.call(t,n)&&rW(e,n,t[n]);if(tW)for(var n of tW(t))nW.call(t,n)&&rW(e,n,t[n]);return e})({},i)))};var aW=Object.defineProperty,sW=Object.prototype.hasOwnProperty,oW=Object.getOwnPropertySymbols,lW=Object.prototype.propertyIsEnumerable,cW=(e,t,n)=>t in e?aW(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,dW=(e,t)=>{for(var n in t||(t={}))sW.call(t,n)&&cW(e,n,t[n]);if(oW)for(var n of oW(t))lW.call(t,n)&&cW(e,n,t[n]);return e};const uW=parseInt(ng.Z.toolbarButtonWidth,10);function pW(e,t){return e.filter((e=>!!t[e]))}const mW=function(e,t,n){var r;return(r=class extends g.Component{constructor(e,t){super(e,t),this.onMeasure=({width:e})=>{this.setState({isMeasured:!0,width:e})},this.state={isMeasured:!1}}render(){const{isMeasured:r,width:i}=this.state;let a={};return r&&(a=function(e,t,n,r){const i=Math.floor(n/r),a={showOverflow:i<e.length||t.length>0};let s=i-(a.showOverflow?1:0);return e.forEach((e=>{a[e]=s-- >0,a[e]||(a[e+"Overflow"]=!0)})),a}(pW(t,this.props),pW(n,this.props),i,uW)),g.createElement(bx.Z,{className:"measuredPageHeaderToolbar-toolbarContainer-2ZcRJ6 Measure-container-27uNnm",ignoreHeight:!0,ignorePosition:!0,onMeasure:this.onMeasure},r?g.createElement(e,dW(dW({className:"measuredPageHeaderToolbar-toolbar-ZdlNb3"},this.props),a)):null)}}).displayName=`MeasuredPageHeaderToolbar(${(0,Nw.Z)(e)})`,r.WrappedComponent=e,r};var hW=Object.defineProperty,gW=Object.prototype.hasOwnProperty,yW=Object.getOwnPropertySymbols,vW=Object.prototype.propertyIsEnumerable,fW=(e,t,n)=>t in e?hW(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;class bW extends g.Component{constructor(e,t){super(e,t),this.onButtonPress=()=>{this.setState({isModalOpen:!0})},this.onModalClose=()=>{this.setState({isModalOpen:!1})},this.state={isModalOpen:!1}}render(){const e=this.props,{providerEntityID:t}=e,n=((e,t)=>{var n={};for(var r in e)gW.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&yW)for(var r of yW(e))t.indexOf(r)<0&&vW.call(e,r)&&(n[r]=e[r]);return n})(e,["providerEntityID"]);return g.createElement(SZ.Z,((e,t)=>{for(var n in t||(t={}))gW.call(t,n)&&fW(e,n,t[n]);if(yW)for(var n of yW(t))vW.call(t,n)&&fW(e,n,t[n]);return e})({tooltip:(0,Ce.Z)("Add Podcast by URL"),"data-qa-id":"toolbarAddCustomPodcast",onPress:this.onButtonPress},n),g.createElement(Kw,null),g.createElement(Ww,{providerEntityID:t,isOpen:this.state.isModalOpen,onModalClose:this.onModalClose}))}}const IW=bW;var SW=n(78189);function MW(e){const{serverEntityID:t,providerEntityID:n,metadataItemEntityID:r,metadataListEntityID:i,customFilterRoute:a,showAddToSmartPlaylist:s,onAddToPlaylistPress:o,onAddToSmartPlaylistPress:l}=e,[c]=(0,g.useState)((0,GE.Z)()),[d,u]=(0,g.useState)(!1),p=(0,g.useCallback)((()=>{u(!d)}),[d]);return g.createElement(SZ.Z,{id:c,tooltip:d?null:(0,Ce.Z)("Add to Playlist"),"data-qa-id":"toolbarPlaylist",onPress:p},g.createElement(Ff,null),g.createElement(Lp.Z,{direction:d?kp.UP:kp.WV}),g.createElement(Xl.Z,{size:Rp.ln,target:c,isOpen:d,onMenuClose:p},g.createElement(SW.Z,{serverEntityID:t,providerEntityID:n,metadataItemEntityID:r,metadataListEntityID:i,customFilterRoute:a,showAddToPlaylist:!0,showAddToSmartPlaylist:s,onAddToPlaylistPress:o,onAddToSmartPlaylistPress:l,onMenuOpen:p,onMenuClose:p})))}MW.defaultProps={showAddToSmartPlaylist:!1};const EW=MW;var PW=Object.defineProperty,DW=Object.prototype.hasOwnProperty,CW=Object.getOwnPropertySymbols,wW=Object.prototype.propertyIsEnumerable,ZW=(e,t,n)=>t in e?PW(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const TW=function(e){var t=e,{playLabel:n=(0,Ce.Z)("Play")}=t,r=((e,t)=>{var n={};for(var r in e)DW.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&CW)for(var r of CW(e))t.indexOf(r)<0&&wW.call(e,r)&&(n[r]=e[r]);return n})(t,["playLabel"]);return g.createElement(SZ.Z,((e,t)=>{for(var n in t||(t={}))DW.call(t,n)&&ZW(e,n,t[n]);if(CW)for(var n of CW(t))wW.call(t,n)&&ZW(e,n,t[n]);return e})({tooltip:n,"data-qa-id":"toolbarPlay"},r),g.createElement(Jf,null))};var NW=Object.defineProperty,OW=Object.prototype.hasOwnProperty,AW=Object.getOwnPropertySymbols,xW=Object.prototype.propertyIsEnumerable,jW=(e,t,n)=>t in e?NW(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const LW=function(e){return g.createElement(SZ.Z,((e,t)=>{for(var n in t||(t={}))OW.call(t,n)&&jW(e,n,t[n]);if(AW)for(var n of AW(t))xW.call(t,n)&&jW(e,n,t[n]);return e})({tooltip:(0,Ce.Z)("Shuffle"),"data-qa-id":"toolbarShuffle"},e),g.createElement($w,null))};function kW(e){var t=e["aria-label"],n=e.className,r=e.style,i={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-toolbar-sync-560"};i["aria-hidden"]=!t,i.style=r,i.className=oa.Z.plexIcon+(n?" "+n:"");var a=[g.createElement.apply(g,["path",{d:"m280 476c108.248 0 196-87.752 196-196 0-108.248-87.752-196-196-196-108.248 0-196 87.752-196 196 0 108.248 87.752 196 196 196m0 42c-131.444 0-238-106.556-238-238 0-131.444 106.556-238 238-238 131.444 0 238 106.556 238 238 0 131.444-106.556 238-238 238m0-112l112-112-89.6 0 0-140-44.8 0 0 140-89.6 0 112 112"}].concat([]))];return t&&a.unshift(g.createElement("title",null,t)),g.createElement.apply(g,["svg",i].concat(a))}kW.propTypes={"aria-label":sa().string,className:sa().string,style:sa().object};const RW=kW;var zW=Object.defineProperty,UW=Object.prototype.hasOwnProperty,VW=Object.getOwnPropertySymbols,BW=Object.prototype.propertyIsEnumerable,FW=(e,t,n)=>t in e?zW(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const _W=function(e){return g.createElement(SZ.Z,((e,t)=>{for(var n in t||(t={}))UW.call(t,n)&&FW(e,n,t[n]);if(VW)for(var n of VW(t))BW.call(t,n)&&FW(e,n,t[n]);return e})({tooltip:(0,Ce.Z)("Sync"),"data-qa-id":"toolbarSync"},e),g.createElement(RW,null))};var HW=Object.defineProperty,QW=Object.prototype.hasOwnProperty,GW=Object.getOwnPropertySymbols,WW=Object.prototype.propertyIsEnumerable,YW=(e,t,n)=>t in e?HW(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,KW=(e,t)=>{for(var n in t||(t={}))QW.call(t,n)&&YW(e,n,t[n]);if(GW)for(var n of GW(t))WW.call(t,n)&&YW(e,n,t[n]);return e};class qW extends g.Component{constructor(e,t){super(e,t),this.onPlayShortcut=()=>{this.props.showPlayAll&&this.props.onPlayAllPress()},this.onAddToPlaylistPress=()=>{this.setState({isAddToPlaylistModalOpen:!0,isSmartPlaylist:!1})},this.onAddToSmartPlaylistPress=()=>{this.setState({isAddToPlaylistModalOpen:!0,isSmartPlaylist:!0})},this.onAddToPlaylistClose=()=>{this.setState({isAddToPlaylistModalOpen:!1})},this.onActionsPress=e=>{this.setState({isActionsMenuOpen:!this.state.isActionsMenuOpen})},this.onActionsMenuClose=()=>{this.setState({isActionsMenuOpen:!1})},this.state={isActionsMenuOpen:!1,isAddToPlaylistModalOpen:!1,isSmartPlaylist:!1},this._moreButtonID=(0,GE.Z)()}componentDidMount(){le.Z.on("shortcut:playSelected",this.onPlayShortcut)}componentWillUnmount(){le.Z.off("shortcut:playSelected",this.onPlayShortcut)}render(){const{className:e,serverEntityID:t,providerEntityID:n,metadataListEntityID:r,customFilterRoute:i,showPlayAll:a,showPlayAllOverflow:s,showShuffle:o,showShuffleOverflow:l,showAddToPlaylist:c,showAddToPlaylistOverflow:d,showAddToSmartPlaylist:u,showAddToCatalog:p,showAddToCatalogOverflow:m,showSync:h,showSyncOverflow:y,showOverflow:v,onPlayAllPress:f,onShufflePress:b,onSyncPress:I}=this.props,{isActionsMenuOpen:S,isAddToPlaylistModalOpen:M,isSmartPlaylist:E}=this.state;return g.createElement("div",{className:e},a?g.createElement(TW,{playLabel:(0,Ce.Z)("Play All"),onPress:f}):null,o?g.createElement(LW,{onPress:b}):null,c?g.createElement(EW,{serverEntityID:t,providerEntityID:n,metadataListEntityID:r,customFilterRoute:i,showAddToSmartPlaylist:u,onAddToPlaylistPress:this.onAddToPlaylistPress,onAddToSmartPlaylistPress:this.onAddToSmartPlaylistPress}):null,p?g.createElement(IW,{providerEntityID:n}):null,h?g.createElement(_W,{onPress:I}):null,v?g.createElement(NT,{id:this._moreButtonID,iconComponent:pO,label:(0,Ce.Z)("More..."),isMenuOpen:S,onPress:this.onActionsPress}):null,g.createElement(iW,KW(KW({},this.props),{target:this._moreButtonID,isOpen:S,showPlayAll:s,showShuffle:l,showAddToPlaylist:d,showAddToCatalog:m,showSync:y,onMenuClose:this.onActionsMenuClose})),c?g.createElement(qG.Z,{serverEntityID:t,providerEntityID:n,metadataListEntityID:r,isOpen:M,smart:E,onModalClose:this.onAddToPlaylistClose}):null)}}const $W=mW(qW,["showPlayAll","showShuffle","showAddToPlaylist","showAddToCatalog","showSync"],["showOptimize","showQueue"]);var JW=Object.defineProperty,XW=Object.prototype.hasOwnProperty,eY=Object.getOwnPropertySymbols,tY=Object.prototype.propertyIsEnumerable,nY=(e,t,n)=>t in e?JW(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,rY=(e,t)=>{for(var n in t||(t={}))XW.call(t,n)&&nY(e,n,t[n]);if(eY)for(var n of eY(t))tY.call(t,n)&&nY(e,n,t[n]);return e};const iY=(0,oC.Z)((function(){return(0,fe.P1)(((e,{listType:t})=>t),sb.Z,ab.Z,Tl.Z,(0,ax.Z)(),((e,t,n,r,i)=>function({server:e,provider:t,stableUser:n,metadataList:r,listType:i}){const a=i||r.firstItemType||"mixed",s=WG[a];return s?s.reduce(((i,s)=>{const o=GG[s];return(0,_.Z)(S().isFunction(o),`getMetadataListActionProps: Invalid action, ${s}, for ${a}`),i[s]=!!(e&&t&&r)&&o({server:e,provider:t,stableUser:n,metadataList:r}),i}),{}):{}}({server:t,provider:n,stableUser:r,metadataList:i,listType:e})))}),(function(e,t){const n={serverEntityID:t.serverEntityID,providerEntityID:t.providerEntityID,metadataListEntityID:t.metadataListEntityID,listType:t.listType,metricsPage:t.metricsPage,metricsProperties:{context:t.metricsContext||OC.LIST}};return{onPlayAllPress(){e(vt.wA(n))},onShufflePress(){e(vt.Em(n))},onPlayNextPress(){e(vt.tP(rY(rY({},n),{options:{playAll:!0,next:!0}})))},onAddToQueuePress(){e(vt.tP(rY(rY({},n),{options:{playAll:!0,next:!1}})))},onSyncPress(){e(iC.vm(n))},onOptimizePress(){e(iC.$5(n))}}}),KG.Z)($W),aY=(0,v.$j)((function(){return(0,fe.P1)((0,ax.Z)(),(e=>({totalSize:e.totalSize,listType:mQ.pV,listStyle:SG,allListStyles:[SG]})))}))((function(e){const{serverEntityID:t,providerEntityID:n,metadataListEntityID:r,sourceDirectory:i,title:a,totalSize:s,listType:o,listStyle:l,allListStyles:c}=e;return g.createElement(g.Fragment,null,g.createElement(NO.Z,null,g.createElement(eU,{serverEntityID:t,providerEntityID:n,sourceDirectory:i}),g.createElement(Gz,{serverEntityID:t,providerEntityID:n,sourceDirectory:i,directoryKey:lz.tk.TIMELINE}),g.createElement(cz.Z,null,g.createElement(HG,{selectedListStyle:l,allListStyles:c}))),g.createElement(Vf,null,g.createElement(ZZ,null,g.createElement(oz.Z,null,a),g.createElement(rC.Z,null,s)),g.createElement(fG,null,g.createElement(iY,{serverEntityID:t,providerEntityID:n,metadataListEntityID:r,listType:o}))))}));var sY=n(24351),oY=n(72181);const lY={showPlay:pY,showShuffle:pY,showQueue:function(e,t){return t.every((({model:t,server:n,provider:r})=>(0,oY._7)({server:n,provider:r,stableUser:e,metadataItem:t})))},showAddToPlaylist:function(e,t){return t.every((({model:t,server:n,provider:r})=>(0,oY.yq)({server:n,provider:r,stableUser:e,metadataItem:t})))},showMarkPlayed:function(e,t){return t.some((({model:t,server:n,provider:r})=>(0,oY.Dd)({server:n,provider:r,stableUser:e,metadataItem:t})))},showMarkUnplayed:function(e,t){return t.some((({model:t,server:n,provider:r})=>(0,oY.h$)({server:n,provider:r,stableUser:e,metadataItem:t})))},showFavorite:function(e,t){return t.some((({model:t,server:n,provider:r})=>(0,oY.y7)({server:n,provider:r,stableUser:e,metadataItem:t})))},showUnfavorite:function(e,t){return t.every((({model:t,server:n,provider:r})=>(0,oY.QF)({server:n,provider:r,stableUser:e,metadataItem:t})))},showEdit:mY,showRefresh:function(e,t){return t.every((({model:t,server:n,provider:r})=>(0,oY.wc)({server:n,provider:r,stableUser:e,metadataItem:t})))},showAnalyze:function(e,t){return t.every((({model:t,server:n,provider:r})=>(0,oY.Or)({server:n,provider:r,stableUser:e,metadataItem:t})))},showMerge:function(e,t){if(!mY(e,t))return!1;const n=uY(t);return 1!==n.length&&(!(S().uniq(n).length>1)&&n.every((e=>-1!==dY.indexOf(e))))},showSync:function(e,t){return t.every((({model:t,server:n,provider:r})=>(0,oY.L)({server:n,provider:r,stableUser:e,metadataItem:t})))},showOptimize:function(e,t){return t.every((({model:t,server:n,provider:r})=>(0,oY.Jm)({server:n,provider:r,stableUser:e,metadataItem:t})))},showDelete:function(e,t){return t.every((({model:t,server:n,provider:r})=>!t.remoteMedia&&(0,oY.k7)({server:n,provider:r,stableUser:e,metadataItem:t})))},showRemove:function(e,t){return t.every((({model:t,server:n,provider:r})=>t.remoteMedia&&(0,oY.k7)({server:n,provider:r,stableUser:e,metadataItem:t})))}},cY={video:["showPlay","showShuffle","showQueue","showAddToPlaylist","showMarkPlayed","showMarkUnplayed","showEdit","showRefresh","showAnalyze","showMerge","showSync","showOptimize","showDelete"],audio:["showPlay","showShuffle","showQueue","showAddToPlaylist","showEdit","showRefresh","showAnalyze","showMerge","showSync","showDelete","showRemove"],photo:["showPlay","showShuffle","showAddToPlaylist","showFavorite","showUnfavorite","showEdit","showAnalyze","showSync","showDelete"],playlist:["showDelete"],collection:["showEdit","showDelete"],rom:["showMarkPlayed","showMarkUnplayed","showEdit","showDelete"]},dY=["movie","show","season","artist","album"];function uY(e){return e.map((e=>e.model.type))}function pY(e,t){return t.every((({model:t,server:n,provider:r})=>(0,oY.tW)({server:n,provider:r,stableUser:e,metadataItem:t})))}function mY(e,t){const n=uY(t);return!(S().uniq(n).length>1)&&t.every((({server:t,provider:n,model:r})=>(0,oY.J5)({server:t,provider:n,stableUser:e,metadataItem:r})))}var hY=Object.defineProperty,gY=Object.prototype.hasOwnProperty,yY=Object.getOwnPropertySymbols,vY=Object.prototype.propertyIsEnumerable,fY=(e,t,n)=>t in e?hY(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const bY=function(e){return g.createElement(SZ.Z,((e,t)=>{for(var n in t||(t={}))gY.call(t,n)&&fY(e,n,t[n]);if(yY)for(var n of yY(t))vY.call(t,n)&&fY(e,n,t[n]);return e})({tooltip:(0,Ce.Z)("Edit"),"data-qa-id":"toolbarEdit"},e),g.createElement(Hf,null))};function IY(e){var t=e["aria-label"],n=e.className,r=e.style,i={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-toolbar-played-toggle-560"};i["aria-hidden"]=!t,i.style=r,i.className=oa.Z.plexIcon+(n?" "+n:"");var a=[g.createElement.apply(g,["path",{d:"M280,518 C148.556,518 42,411.444 42,280 C42,148.556 148.556,42 280,42 C411.444,42 518,148.556 518,280 C518,411.444 411.444,518 280,518 Z M280,476 C388.248,476 476,388.248 476,280 C476,171.752 388.248,84 280,84 C171.752,84 84,171.752 84,280 C84,388.248 171.752,476 280,476 Z M267.373,395.87 L158.254,332.87 L179.254,296.497 L252,338.497 L350,168.756 L386.373,189.756 L267.373,395.87 Z"}].concat([]))];return t&&a.unshift(g.createElement("title",null,t)),g.createElement.apply(g,["svg",i].concat(a))}IY.propTypes={"aria-label":sa().string,className:sa().string,style:sa().object};const SY=IY;class MY extends g.Component{constructor(e,t){super(e,t),this.onMenuButtonPress=e=>{this.setState({isMenuOpen:!this.state.isMenuOpen})},this.onMenuClose=()=>{this.setState({isMenuOpen:!1})},this.state={isMenuOpen:!1},this._toolbarMenuButtonID=(0,GE.Z)()}render(){const{showMarkPlayed:e,showMarkUnplayed:t,onMarkPlayedPress:n,onMarkUnplayedPress:r}=this.props,{isMenuOpen:i}=this.state;return g.createElement(NT,{id:this._toolbarMenuButtonID,iconComponent:SY,label:(0,Ce.Z)("Toggle Played..."),isMenuOpen:i,onPress:this.onMenuButtonPress},g.createElement(Xl.Z,{target:this._toolbarMenuButtonID,isOpen:i,onMenuClose:this.onMenuClose},e?g.createElement(ec.Z,{onPress:(0,rc.Z)(this.onMenuClose,n)},(0,Ce.Z)("Mark as Played")):null,t?g.createElement(ec.Z,{onPress:(0,rc.Z)(this.onMenuClose,r)},(0,Ce.Z)("Mark as Unplayed")):null))}}const EY=MY;var PY=n(53191);class DY extends g.Component{constructor(e,t){super(e,t),this.onAddToPlaylistPress=()=>{this.setState({isAddToPlaylistModalOpen:!0})},this.onAddToPlaylistClose=()=>{this.setState({isAddToPlaylistModalOpen:!1}),this.props.onMenuClose()},this.state={isAddToPlaylistModalOpen:!1}}render(){const e=this.props,{isAddToPlaylistModalOpen:t}=this.state;return g.createElement("div",null,e.showPlay?g.createElement(ec.Z,{onPress:(0,rc.Z)(e.onMenuClose,e.onPlaySelectedPress)},(0,Ce.Z)("Play")):null,e.showShuffle?g.createElement(ec.Z,{onPress:(0,rc.Z)(e.onMenuClose,e.onShufflePress)},(0,Ce.Z)("Shuffle")):null,e.showQueue?g.createElement(ec.Z,{onPress:(0,rc.Z)(e.onMenuClose,e.onPlaySelectedNextPress)},(0,Ce.Z)("Play Next")):null,e.showQueue?g.createElement(ec.Z,{onPress:(0,rc.Z)(e.onMenuClose,e.onAddToQueuePress)},(0,Ce.Z)("Add to Queue")):null,e.showAddToPlaylist?g.createElement(ec.Z,{onPress:this.onAddToPlaylistPress},(0,Ce.Z)("Add to Playlist...")):null,e.showFavorite?g.createElement(ec.Z,{onPress:(0,rc.Z)(e.onMenuClose,e.onFavoritePress)},(0,Ce.Z)("Add to Favorites")):null,e.showUnfavorite?g.createElement(ec.Z,{onPress:(0,rc.Z)(e.onMenuClose,e.onUnfavoritePress)},(0,Ce.Z)("Remove from Favorites")):null,e.showMarkPlayed?g.createElement(ec.Z,{onPress:(0,rc.Z)(e.onMenuClose,e.onMarkPlayedPress)},(0,Ce.Z)("Mark as Played")):null,e.showMarkUnplayed?g.createElement(ec.Z,{onPress:(0,rc.Z)(e.onMenuClose,e.onMarkUnplayedPress)},(0,Ce.Z)("Mark as Unplayed")):null,e.showEdit?g.createElement(ec.Z,{onPress:(0,rc.Z)(e.onMenuClose,e.onEditPress)},(0,Ce.Z)("Edit")):null,e.showRefresh?g.createElement(ec.Z,{onPress:(0,rc.Z)(e.onMenuClose,e.onRefreshPress)},(0,Ce.Z)("Refresh Metadata")):null,e.showAnalyze?g.createElement(ec.Z,{onPress:(0,rc.Z)(e.onMenuClose,e.onAnalyzePress)},(0,Ce.Z)("Analyze")):null,e.showMerge?g.createElement(ec.Z,{onPress:(0,rc.Z)(e.onMenuClose,e.onMergePress)},(0,Ce.Z)("Merge")):null,e.showSync?g.createElement(ec.Z,{onPress:(0,rc.Z)(e.onMenuClose,e.onSyncPress)},(0,Ce.Z)("Sync...")):null,e.showOptimize?g.createElement(ec.Z,{onPress:(0,rc.Z)(e.onMenuClose,e.onOptimizePress)},(0,Ce.Z)("Optimize...")):null,e.showDelete?g.createElement(ec.Z,{kind:ic.T,onPress:(0,rc.Z)(e.onMenuClose,e.onDeletePress)},(0,Ce.Z)("Delete")):null,e.showRemove?g.createElement(ec.Z,{onPress:(0,rc.Z)(e.onMenuClose,e.onDeletePress)},(0,Ce.Z)("Remove")):null,e.showAddToPlaylist?g.createElement(qG.Z,{serverEntityID:e.serverEntityID,providerEntityID:e.providerEntityID,isOpen:t,onModalClose:this.onAddToPlaylistClose}):null)}}const CY=DY;var wY=Object.defineProperty,ZY=Object.prototype.hasOwnProperty,TY=Object.getOwnPropertySymbols,NY=Object.prototype.propertyIsEnumerable,OY=(e,t,n)=>t in e?wY(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const AY=function(e){const t=e,{target:n,isOpen:r}=t,i=((e,t)=>{var n={};for(var r in e)ZY.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&TY)for(var r of TY(e))t.indexOf(r)<0&&NY.call(e,r)&&(n[r]=e[r]);return n})(t,["target","isOpen"]);return g.createElement(Xl.Z,{target:n,isOpen:r,onMenuClose:e.onMenuClose},g.createElement(CY,((e,t)=>{for(var n in t||(t={}))ZY.call(t,n)&&OY(e,n,t[n]);if(TY)for(var n of TY(t))NY.call(t,n)&&OY(e,n,t[n]);return e})({},i)))};var xY=Object.defineProperty,jY=Object.prototype.hasOwnProperty,LY=Object.getOwnPropertySymbols,kY=Object.prototype.propertyIsEnumerable,RY=(e,t,n)=>t in e?xY(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,zY=(e,t)=>{for(var n in t||(t={}))jY.call(t,n)&&RY(e,n,t[n]);if(LY)for(var n of LY(t))kY.call(t,n)&&RY(e,n,t[n]);return e};function UY(e){return 1===e?(0,Ce.Z)("Are you sure you want to mark this item as played?"):(0,Ce.Z)("Are you sure you want to mark these {selectedItemsCount} items as played?",{selectedItemsCount:e})}function VY(e){return 1===e?(0,Ce.Z)("Are you sure you want to mark this item as unplayed?"):(0,Ce.Z)("Are you sure you want to mark these {selectedItemsCount} items as unplayed?",{selectedItemsCount:e})}function BY(e){const{selectedItemsCount:t,activeSelectionType:n,showRemove:r}=e,i=1===t;return r?i?(0,Ce.Z)("Are you sure you want to remove this item?"):(0,Ce.Z)("Are you sure you want to remove these {selectedItemsCount} items?",{selectedItemsCount:t}):n===Ac.PLAYLIST?i?(0,Ce.Z)("Are you sure you want to delete this playlist?"):(0,Ce.Z)("Are you sure you want to delete these {selectedItemsCount} playlists?",{selectedItemsCount:t}):n===Ac.COLLECTION?i?(0,Ce.Z)("Are you sure you want to delete this collection?"):(0,Ce.Z)("Are you sure you want to delete these {selectedItemsCount} collections?",{selectedItemsCount:t}):i?(0,Ce.Z)("Are you sure you want to delete this item from your filesystem?"):(0,Ce.Z)("Are you sure you want to delete these {selectedItemsCount} items from your filesystem?",{selectedItemsCount:t})}class FY extends g.Component{constructor(e,t){super(e,t),this.onPlaySelectedShortcut=()=>{const{showPlay:e,showPlayOverflow:t,onPlaySelectedPress:n}=this.props;(e||t)&&n()},this.onToggleWatchedShortcut=()=>{const{showMarkPlayed:e,showMarkUnplayed:t}=this.props;e?this.setState({isConfirmMarkPlayedModalOpen:!0}):t&&this.setState({isConfirmMarkUnplayedModalOpen:!0})},this.onEditShortcut=()=>{const{showEdit:e,showEditOverflow:t,onEditPress:n}=this.props;(e||t)&&n()},this.onActionsPress=e=>{this.setState({isActionsMenuOpen:!this.state.isActionsMenuOpen})},this.onActionsMenuClose=()=>{this.setState({isActionsMenuOpen:!1})},this.onMarkPlayedPress=e=>{this.setState({isConfirmMarkPlayedModalOpen:!0})},this.onMarkUnplayedPress=e=>{this.setState({isConfirmMarkUnplayedModalOpen:!0})},this.onMarkPlayedConfirm=()=>{this.setState({isConfirmMarkPlayedModalOpen:!1}),this.props.onMarkPlayedConfirm()},this.onMarkPlayedCancel=()=>{this.setState({isConfirmMarkPlayedModalOpen:!1})},this.onMarkUnplayedConfirm=()=>{this.setState({isConfirmMarkUnplayedModalOpen:!1}),this.props.onMarkUnplayedConfirm()},this.onMarkUnplayedCancel=()=>{this.setState({isConfirmMarkUnplayedModalOpen:!1})},this.onDeletePress=e=>{this.setState({isConfirmDeleteModalOpen:!0})},this.onDeleteConfirm=e=>{this.setState({isConfirmDeleteModalOpen:!1}),this.props.onDeleteConfirm()},this.onDeleteCancel=()=>{this.setState({isConfirmDeleteModalOpen:!1})},this.onAddToPlaylistPress=()=>{this.setState({isAddToPlaylistModalOpen:!0})},this.onAddToPlaylistClose=()=>{this.setState({isAddToPlaylistModalOpen:!1})},this.state={isActionsMenuOpen:!1,isConfirmMarkPlayedModalOpen:!1,isConfirmMarkUnplayedModalOpen:!1,isConfirmDeleteModalOpen:!1,isAddToPlaylistModalOpen:!1},this._moreButtonID=(0,GE.Z)()}componentDidMount(){le.Z.on("shortcut:playSelected",this.onPlaySelectedShortcut),le.Z.on("shortcut:edit",this.onEditShortcut)}shouldComponentUpdate(e,t){return(0,At.Z)(this,e,t)}componentWillUnmount(){le.Z.off("shortcut:playSelected",this.onPlaySelectedShortcut),le.Z.off("shortcut:edit",this.onEditShortcut)}render(){const{className:e,serverEntityID:t,providerEntityID:n,selectedItemsCount:r,showPlay:i,showPlayOverflow:a,showShuffle:s,showShuffleOverflow:o,showAddToPlaylist:l,showAddToPlaylistOverflow:c,showFavorite:d,showFavoriteOverflow:u,showUnfavorite:p,showUnfavoriteOverflow:m,showTogglePlayed:h,showTogglePlayedOverflow:y,showMarkPlayed:v,showMarkUnplayed:f,showEdit:b,showEditOverflow:I,showSync:S,showSyncOverflow:M,showOverflow:E,onPlaySelectedPress:P,onShufflePress:D,onFavoritePress:C,onUnfavoritePress:w,onEditPress:Z,onSyncPress:T}=this.props,{isActionsMenuOpen:N,isConfirmMarkPlayedModalOpen:O,isConfirmMarkUnplayedModalOpen:A,isConfirmDeleteModalOpen:x,isAddToPlaylistModalOpen:j}=this.state;return g.createElement("div",{className:e},i?g.createElement(TW,{playLabel:(0,Ce.Z)("Play Selected"),onPress:P}):null,s?g.createElement(LW,{onPress:D}):null,l?g.createElement(EW,{serverEntityID:t,providerEntityID:n,onAddToPlaylistPress:this.onAddToPlaylistPress}):null,d?g.createElement(SZ.Z,{"data-qa-id":"toolbarFavorite",tooltip:(0,Ce.Z)("Add to Favorites"),onPress:C},g.createElement(XZ.Z,null)):null,p?g.createElement(SZ.Z,{"data-qa-id":"toolbarUnfavorite",tooltip:(0,Ce.Z)("Remove from Favorites"),onPress:w},g.createElement(PY.Z,null)):null,h?g.createElement(EY,{showMarkPlayed:v,showMarkUnplayed:f,onMarkPlayedPress:this.onMarkPlayedPress,onMarkUnplayedPress:this.onMarkUnplayedPress}):null,b?g.createElement(bY,{onPress:Z}):null,S?g.createElement(_W,{onPress:T}):null,E?g.createElement(NT,{id:this._moreButtonID,iconComponent:pO,label:(0,Ce.Z)("More..."),isMenuOpen:N,onPress:this.onActionsPress}):null,g.createElement(AY,zY(zY({},this.props),{target:this._moreButtonID,isOpen:N,showPlay:a,showShuffle:o,showAddToPlaylist:c,showFavorite:u,showUnfavorite:m,showMarkPlayed:y&&v,showMarkUnplayed:y&&f,showEdit:I,showSync:M,onMenuClose:this.onActionsMenuClose,onMarkPlayedPress:this.onMarkPlayedPress,onMarkUnplayedPress:this.onMarkUnplayedPress,onDeletePress:this.onDeletePress})),g.createElement(yt.Z,{isOpen:O,metricsPage:pt.lP,title:(0,Ce.Z)("Mark as Played"),message:UY(r),onConfirm:this.onMarkPlayedConfirm,onCancel:this.onMarkPlayedCancel}),g.createElement(yt.Z,{isOpen:A,metricsPage:pt.Md,title:(0,Ce.Z)("Mark as Unplayed"),message:VY(r),onConfirm:this.onMarkUnplayedConfirm,onCancel:this.onMarkUnplayedCancel}),g.createElement(yt.Z,{isOpen:x,metricsPage:pt.$e,kind:ic.T,title:this.props.showRemove?(0,Ce.Z)("Remove"):(0,Ce.Z)("Delete"),message:BY(this.props),onConfirm:this.onDeleteConfirm,onCancel:this.onDeleteCancel}),l?g.createElement(qG.Z,{serverEntityID:t,providerEntityID:n,isOpen:j,onModalClose:this.onAddToPlaylistClose}):null)}}const _Y=mW(FY,["showPlay","showShuffle","showAddToPlaylist","showFavorite","showUnfavorite","showTogglePlayed","showEdit","showSync","showSyncDownload"],["showRefresh","showAnalyze","showMerge","showOptimize","showDelete"]);var HY=Object.defineProperty,QY=Object.prototype.hasOwnProperty,GY=Object.getOwnPropertySymbols,WY=Object.prototype.propertyIsEnumerable,YY=(e,t,n)=>t in e?HY(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,KY=(e,t)=>{for(var n in t||(t={}))QY.call(t,n)&&YY(e,n,t[n]);if(GY)for(var n of GY(t))WY.call(t,n)&&YY(e,n,t[n]);return e};const qY=(0,oC.Z)((function(){return(0,fe.P1)((0,fe.P1)(be.Z,(e=>{const t={};for(const n of Object.keys(e))t[n]=(0,sb.h)(e[n]);return t})),(0,fe.P1)(Cn.Z,(e=>{const t={};for(const n of Object.keys(e))t[n]=(0,ab.R)(e[n]);return t})),(0,fe.P1)(sx.Z,FH.Z,((e,{activeSelectionItems:t})=>t.map((t=>e[t.model])))),FH.Z,Tl.Z,((e,t,n,r,i)=>{const{activeSelectionType:a}=r,s=function(e,t,n){const r=cY[n],i=function(e){return S().uniq(e.map((e=>e.provider.entityID))).length>1}(t);return r.reduce(((n,r)=>{const a=lY[r];return n[r]=!i&&a(e,t),n}),{})}(i,n.map((n=>({model:n,provider:t[n.providerEntityID],server:e[n.serverEntityID]}))),a),o=s.showMarkPlayed||s.showMarkUnplayed;return KY({activeSelectionType:a,showTogglePlayed:o},s)}))}),(function(e,t){const n={serverEntityID:t.serverEntityID,providerEntityID:t.providerEntityID,metricsPage:t.metricsPage};return{onPlaySelectedPress(){e(nf.Pe(n))},onShufflePress(){e(nf.u9(n))},onPlaySelectedNextPress(){e(nf.$e(n))},onAddToQueuePress(){e(nf.$z(n))},onFavoritePress(){e(nf.UY(n))},onUnfavoritePress(){e(nf.aU(n))},onMarkPlayedConfirm(){e(nf.Bf(n))},onMarkUnplayedConfirm(){e(nf.de(n))},onEditPress(){e(nf.fR(n))},onRefreshPress(){e(nf.H3(n))},onAnalyzePress(){e(nf.mP(n))},onMergePress(){e(nf.PP(n))},onSyncPress(){e(nf.ZT(n))},onOptimizePress(){e(nf.ZP(n))},onDeleteConfirm(){e(nf.hM(KY(KY({},n),{options:{skipRedirect:!t.allowRedirectOnDelete}})))},onDeselectAllPress(){e(nf.mD(n))}}}))(_Y),$Y="MultiSelectPageHeader-icon-3cjhR-";var JY=Object.defineProperty,XY=Object.prototype.hasOwnProperty,eK=Object.getOwnPropertySymbols,tK=Object.prototype.propertyIsEnumerable,nK=(e,t,n)=>t in e?JY(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;function rK(e){const t=e,{selectedItemsCount:n,toolbarComponent:r,onDeselectAllPress:i}=t,a=((e,t)=>{var n={};for(var r in e)XY.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&eK)for(var r of eK(e))t.indexOf(r)<0&&tK.call(e,r)&&(n[r]=e[r]);return n})(t,["selectedItemsCount","toolbarComponent","onDeselectAllPress"]);return g.createElement(Vf,{className:"MultiSelectPageHeader-multiSelectPageHeader-v5rhWY PageHeader-pageHeader-WpvbJc"},g.createElement(sY.Z,null,g.createElement("div",{className:"MultiSelectPageHeader-selectedTitle-iKZPvL"},g.createElement(Ko.Z,{className:$Y}),1===n?(0,Ce.Z)("1 item selected"):(0,Ce.Z)("{selectedItemsCount} items selected",{selectedItemsCount:n})),g.createElement(pw.Z,{className:"MultiSelectPageHeader-deselectLink-yhV9Rw",onPress:i},g.createElement(cu.Z,{className:$Y}),(0,Ce.Z)("Deselect All"))),g.createElement(fG,null,g.createElement(r,((e,t)=>{for(var n in t||(t={}))XY.call(t,n)&&nK(e,n,t[n]);if(eK)for(var n of eK(t))tK.call(t,n)&&nK(e,n,t[n]);return e})({selectedItemsCount:n},a))))}rK.defaultProps={toolbarComponent:qY,allowRedirectOnDelete:!1};const iK=rK,aK=(0,oC.Z)((function(){return(0,fe.P1)(FH.Z,(e=>({selectedItemsCount:e.activeSelectionItems.length})))}),(function(e,t){const n={serverEntityID:t.serverEntityID,providerEntityID:t.providerEntityID,metricsPage:t.metricsPage};return{onDeselectAllPress(){e(nf.mD(n))}}}))(iK);var sK=Object.defineProperty,oK=Object.prototype.hasOwnProperty,lK=Object.getOwnPropertySymbols,cK=Object.prototype.propertyIsEnumerable,dK=(e,t,n)=>t in e?sK(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,uK=(e,t)=>{for(var n in t||(t={}))oK.call(t,n)&&dK(e,n,t[n]);if(lK)for(var n of lK(t))cK.call(t,n)&&dK(e,n,t[n]);return e};class pK extends g.Component{constructor(e,t){super(e,t),this.onMeasure=({width:e,height:t})=>{this.setState({isMeasured:!0,width:e,height:t})},this.onMomentScrollIndexChange=e=>{this.setState({currentMomentTitle:this.props.moments[e].title})},this.state={isMeasured:!1,currentMomentTitle:"",width:0,height:0}}componentDidMount(){const{librarySectionID:e,providerIdentifier:t,onLibraryChange:n}=this.props;e&&n(t,e)}componentDidUpdate(e){const{librarySectionID:t,providerIdentifier:n,onLibraryChange:r}=this.props;t&&t!==e.librarySectionID&&r(n,t)}componentWillUnmount(){this.props.onLibraryChange(null,null),this.props.onCloseTimelinePage()}render(){const{serverEntityID:e,providerEntityID:t,providerMetricsIdentifier:n,metadataListEntityID:r,sourceDirectory:i,pivot:a,isMomentListPending:s,isMomentListPopulated:o,moments:l,activeSelectionType:c,columnAdjustment:d}=this.props,{isMeasured:u,width:p,height:m,currentMomentTitle:h}=this.state,y=200-100*d,v=12+d,f=Math.min(Math.ceil(p/y),v);if(o)return g.createElement(fx.Z,{metricsPage:pt.WJ,metricsProperties:{identifier:n,mode:"timeline",type:"photo",style:SG},allowBackgroundLightPreset:!0,scrollDirection:tZ.Hn},c?g.createElement(aK,{serverEntityID:e,providerEntityID:t}):g.createElement(aY,{serverEntityID:e,providerEntityID:t,metadataListEntityID:r,sourceDirectory:i,title:h}),g.createElement(bx.Z,{className:"TimelinePage-measured-1olGrj",ignorePosition:!0,onMeasure:this.onMeasure},u?g.createElement(yG,{serverEntityID:e,providerEntityID:t,metadataListEntityID:r,moments:l,columns:f,height:m,onMomentScrollIndexChange:this.onMomentScrollIndexChange}):null));const b={serverEntityID:e,providerEntityID:t,sourceDirectory:i,pivot:a,directoryKey:lz.tk.TIMELINE,scrollDirection:tZ.Hn};if(s)return g.createElement(KH,uK(uK({},b),{showSecondHeader:!0}),g.createElement(Ex.Z,null,g.createElement(Mx.Z,null)));const I={title:(0,Ce.Z)("There was an error loading the timeline for this library")};return g.createElement(KH,uK({},b),g.createElement(Ox.Z,uK({},I)))}}const mK=pK,hK=(0,fe.P1)((e=>e.ui.timelinePage.momentList),(e=>{if(!e)return[];let t=0;return e.moments.map((e=>{const n=t;t+=e.size;const{id:r,title:i,size:a,avgAR:s,startsAt:o}=e,l=e.size*(e.avgAR||1);return{start:n,end:t,area:l,id:r,title:i,size:a,avgAR:s,startsAt:o}}))})),gK=WA(mK,(function(e){const t=e.ui.timelinePage;return{serverEntityID:t.serverEntityID,providerEntityID:t.providerEntityID,momentKey:t.momentKey}}),(function(e,t){e(zH({serverEntityID:t.serverEntityID,providerEntityID:t.providerEntityID,libraryKey:t.libraryKey,momentKey:t.momentKey})),e(BH())})),yK=(0,v.$j)((function(){return(0,fe.P1)(((e,{libraryKey:t})=>t),(e=>e.ui.timelinePage),hK,sb.Z,(0,OT.Z)(),dx(),kH(),FH.Z,na.Z,((e,t,n,r,i,a,s,o,l)=>{const{details:c,containerKey:d,isMomentListPending:u,isMomentListPopulated:p}=t;return{metadataListEntityID:t.metadataList,providerIdentifier:i.identifier,providerMetricsIdentifier:i.metricsIdentifier,librarySectionID:c&&c.librarySectionID,sourceDirectory:a,pivot:s,moments:n,isMomentListPending:u,isMomentListPopulated:p,containerKey:d,momentKey:E.Z.join(e,"cluster?clusterZoomLevel=1"),activeSelectionType:o.activeSelectionType,disableReloadThreshold:!!o.activeSelectionType,columnAdjustment:l.columnAdjustment,serverVersion:r.version}}))}),(function(e,t){return{onLibraryChange(n,r){e((0,Sn.changeQuickSearchSettings)({serverEntityID:t.serverEntityID,providerEntityID:t.providerEntityID,providerIdentifier:n,directoryID:r}))},onCloseTimelinePage(){e(UH({}))}}}))(gK);function vK({pivotType:e,directorySourceURI:t,directoryKey:n,selectedPivot:r}){const[i,a,s]=Hn(),o=Gn(),l=(0,v.v9)(Xt.Z);if(In(null==r?void 0:r.requires,l))return g.createElement(sT,null);switch(e){case $t.F6.Hub:return g.createElement(Jt.ZP,{name:null==r?void 0:r.context},g.createElement(Sb,{sourceURI:t}));case $t.F6.List:return g.createElement(Jt.ZP,{name:null==r?void 0:r.context},g.createElement(KZ,{directoryKey:n,directorySourceURI:t,selectedPivot:r}));case $t.F6.View:switch(null==r?void 0:r.key){case $t.GG.SharedItems:return g.createElement(Jt.ZP,{name:null==r?void 0:r.context},g.createElement(KZ,{directoryKey:n,directorySourceURI:t,selectedPivot:r,listStyle:En.n.SharedItems}));case $t.GG.Guide:return g.createElement(XU,{serverEntityID:i.entityID,providerEntityID:a.entityID,sourceDirectoryID:null==s?void 0:s.id,directoryKey:$t.GG.Guide,activeFilters:gn(o.filters),activeFilterLabel:o.filterLabel});case $t.GG.RecordingSchedule:return g.createElement(LH,{serverEntityID:i.entityID,providerEntityID:a.entityID,sourceDirectoryID:null==s?void 0:s.id,selectedViewType:o.view});case $t.GG.Timeline:{const e=(0,Pn.Z)(a,$t.zW.Content);return g.createElement(yK,{serverEntityID:i.entityID,providerEntityID:a.entityID,sourceDirectoryID:null==s?void 0:s.id,directoryKey:$t.GG.Timeline,libraryKey:E.Z.join([null==e?void 0:e.key,null==s?void 0:s.id,"cluster"],{clusterZoomLevel:1})})}}}return g.createElement(eV.Z,null)}function fK(e){switch(null==e?void 0:e.key){case $t.GG.SharedItems:return"/library/shared/all";default:return null==e?void 0:e.key}}const bK=[$t.GG.Guide,$t.GG.RecordingSchedule,$t.GG.Timeline];function IK({className:e,directoryKey:t,pageType:n,machineIdentifier:r,providerIdentifier:i,contentDirectoryID:a,pivotID:s}){const o=(0,v.I0)(),l=function({machineIdentifier:e,providerIdentifier:t,contentDirectoryID:n,pageType:r,pivotID:i}){var a,s;const o=(0,v.I0)(),l=(0,v.v9)(vv),c=(0,v.v9)(zn(e,t,n)),d=(0,v.v9)(VO),u=(0,v.v9)(UO),p=(0,v.v9)(BO(e,t,n));let m;r?m=null==(a=null==l?void 0:l.Pivot)?void 0:a.find((e=>e.active)):(m=FO(null==c?void 0:c.pivots,i),!m&&p&&(m=FO(null==c?void 0:c.pivots,p)),m||(m=null==(s=null==c?void 0:c.pivots)?void 0:s[0]));const h=n?(0,zO.Z)(e,t,n):void 0;return(0,g.useEffect)((()=>{d&&h&&m&&p!==m.key&&null==r&&o((0,AM.LN)({lastSourcePivots:YO(YO({},u),{[h]:m.key})}))}),[o,p,u,i,r,m,d,h]),m}({machineIdentifier:r,providerIdentifier:i,contentDirectoryID:a,pageType:n,pivotID:s}),c=l?l.type:null!=n?n:$t.F6.List,d=fK(l),u=function(e,t){switch(null==e?void 0:e.key){case $t.GG.SharedItems:return null!=t?t:fK(e);default:return t}}(l,t),p=null!=d?d:t,m=p?(0,yn.Z)({serverIdentifier:r,providerIdentifier:i,key:p}):void 0;return(0,g.useEffect)((()=>{if(!a)return;const e=(0,vn.Z)(Mn.cN,r),t=(0,vn.Z)(Mn.MC,i,e);return o((0,Sn.changeQuickSearchSettings)({serverEntityID:e,providerEntityID:t,providerIdentifier:i,directoryID:a})),()=>{o((0,Sn.changeQuickSearchSettings)({serverEntityID:null,providerEntityID:null,providerIdentifier:null,directoryID:null}))}}),[a,o,r,i]),(0,g.useEffect)((()=>()=>{(0,fn.c9)((()=>{o(Jv.actions.resetMeta())}))}),[o]),m?g.createElement(Qn,{machineIdentifier:r,providerIdentifier:i,contentDirectoryID:a},g.createElement(sr,{className:e,allowBackgroundLightPreset:!0,scrollDirection:Ae.None},l&&c===$t.F6.View&&bK.includes(l.key)?null:g.createElement(RO,{sourceURI:m,selectedPivot:l}),g.createElement(vK,{pivotType:c,directorySourceURI:m,directoryKey:u,selectedPivot:l}))):g.createElement(sr,{className:e},g.createElement(Cr,null))}var SK=n(36996);const MK=function(){const e=(0,f.$B)({path:[SK.Z.playHistory,...SK.Z.playlist,...SK.Z.prePlay,SK.Z.watchNow,SK.Z.providerSettings,SK.Z.mediaGuideV3,SK.Z.mediaTimelineV3,SK.Z.media,SK.Z.serverSetup,SK.Z.serverUpdate,SK.Z.transientPrePlay],exact:!0}),t=null==e?void 0:e.params,n=null==t?void 0:t.machineIdentifier,r=null==t?void 0:t.providerIdentifier;return n||r?{machineIdentifier:n||Hj.X,providerIdentifier:r?decodeURIComponent(r):Fo.Y3}:{machineIdentifier:jn.machineIdentifier,providerIdentifier:Zn.identifier}};var EK=n(75989),PK=n(95614);const DK=function(){return g.createElement(PK.Z,{title:(0,Ce.Z)("Plex is down for maintenance"),description:(0,Ce.Z)("Don't worry, it will be back soon")},g.createElement(pw.Z,{to:iy.S7,target:"_blank",kind:ic._8},"status.plex.tv"))};var CK=n(3704),wK=n(68576);const ZK=function(){return g.createElement(PK.Z,{title:(0,Ce.Z)("Plex is not reachable"),description:(0,Ce.Z)("We are unable to connect to plex.tv at this time. Please try again later.")})};var TK=Object.defineProperty,NK=Object.prototype.hasOwnProperty,OK=Object.getOwnPropertySymbols,AK=Object.prototype.propertyIsEnumerable,xK=(e,t,n)=>t in e?TK(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,jK=(e,t)=>{for(var n in t||(t={}))NK.call(t,n)&&xK(e,n,t[n]);if(OK)for(var n of OK(t))AK.call(t,n)&&xK(e,n,t[n]);return e};const LK=(0,v.$j)((function(){return(0,fe.P1)((0,wn.Z)("isProvidersPopulated"),(0,wn.Z)("providersError"),(0,OT.Z)(),Ie,((e,t,n,r)=>n?{hasProvider:!0,hasError:!!n.error,isPending:!n.isPopulated}:{hasProvider:!1,isDownForMaintenance:r.isDownForMaintenance,isUnreachable:r.isUnavailable,hasError:!!t,isPending:!e}))}))((function(e){const{children:t,hasProvider:n,isDownForMaintenance:r,isUnreachable:i,hasError:a,isPending:s}=e;return r?g.createElement(DK,null):i?g.createElement(ZK,null):a?g.createElement(wK.Z,null):s?g.createElement(CK.Z,null,g.createElement(Mx.Z,null)):n?g.createElement(g.Fragment,null,t):g.createElement(eV.Z,null)}));LK.propTypes=jK(jK({},LK.propTypes),{providerEntityID:sa().string.isRequired});const kK=LK;var RK=n(20500);const zK=function(e){const{children:t,machineIdentifier:n,providerIdentifier:r}=e,i=n===Hj.X?kK:RK.Z,a=(0,vn.Z)(Mn.cN,n),s=(0,vn.Z)(Mn.MC,r,a);return g.createElement(i,{serverEntityID:a,providerEntityID:s},t)};function UK(){const e=(0,De.Z)(),t=e.key?(0,EK.Z)(e.key):void 0,{machineIdentifier:n,providerIdentifier:r}=MK(),i=e.pageType?(0,EK.Z)(e.pageType):void 0,a=(0,av.su)($t.F6).find((e=>e===i));return g.createElement(Jt.ZP,{metricsPage:pt.Y3,metricsContextParam:(0,EK.Z)(e.context)},g.createElement(zK,{machineIdentifier:n,providerIdentifier:r},t||(0,EK.Z)(e.source)?g.createElement(IK,{directoryKey:t,machineIdentifier:n,providerIdentifier:r,contentDirectoryID:(0,EK.Z)(e.source),pageType:a,pivotID:(0,EK.Z)(e.pivot)}):g.createElement(eV.Z,null)))}var VK,BK,FK=n(80974),_K=n(58709);(BK=VK||(VK={})).Auto="auto",BK.Custom="custom";const HK=(0,fe.P1)(ct,(e=>!e.isFullUser)),QK=(0,fe.P1)(ct,(e=>e.services)),GK=(0,fe.P1)($r,(e=>e.metadataLists));var WK,YK;(YK=WK||(WK={})).ContinueWatching="home.continue",YK.VodContinueWatching="movies.continueWatching",YK.MergedContinueWatching="continueWatching",YK.OnDeck="home.ondeck";var KK=n(45224);const qK=(0,fe.P1)(ra("sidebarSettings"),(e=>e)),$K=(0,fe.P1)(qK,(e=>e.pinnedSources)),JK=(0,fe.P1)($K,(e=>e.filter((e=>!e.isHidden)))),XK={type:$t.zW.ContinueWatching,key:yT.O},eq=(0,fe.P1)(JK,Bn,Cn.Z,hl(bn.eT),((e,t,n,r)=>{const i=[],a=[],s={},o={};for(let t=0;t<e.length;t++){const{machineIdentifier:n,providerIdentifier:r,directoryID:i}=e[t],a=(0,yn.Z)({serverIdentifier:n,providerIdentifier:r});o[a]||(o[a]=[]),o[a].push(i)}for(let l=0;l<e.length;l++){const{machineIdentifier:c,providerIdentifier:d,directoryID:u}=e[l],p=(0,yn.Z)({serverIdentifier:c,providerIdentifier:d}),m=t.find((e=>e.machineIdentifier===c)),h=m?(0,KK.q)({identifier:d,serverEntityID:m.entityID}):void 0,g=h?n[h]:void 0,y=`${p}/continueWatching`,v=`${p}/${u}/promoted`;let f=g?(0,Pn.Z)(g,$t.zW.ContinueWatching):void 0;!r&&Fo.wB(null==g?void 0:g.identifier,Fo.Y3)&&(f=XK);const b=g?(0,Pn.Z)(g,$t.zW.Promoted):void 0;(null==g?void 0:g.isPopulated)&&!f||s[p]||(s[p]=!0,i.push({key:y,source:p,contentDirectoryID:o[p],server:m,provider:g,feature:f})),(null==g?void 0:g.isPopulated)&&!b||a.push({key:v,source:p,contentDirectoryID:[u],pinnedContentDirectoryID:o[p],server:m,provider:g,feature:b})}return i.concat(a)})),tq=(0,fe.P1)(eq,(e=>e.filter((e=>{var t;return null!=e.server&&null!=e.provider&&(null==(t=e.feature)?void 0:t.type)===$t.zW.ContinueWatching})))),nq=(0,fe.P1)(fo,(e=>e.home)),rq=(0,fe.P1)(nq,(e=>e.hubsListsByKey)),iq=(0,fe.P1)(tq,rq,GK,Jr,((e,t,n,r)=>{const i={};for(let a=0,s=e.length;a<s;a++){const s=e[a],o=t[s.key];if(!(null==o?void 0:o.isPopulated))continue;const l=o.hubs.find((({hubIdentifier:e})=>e!==WK.OnDeck));if(!l)continue;const c=n[l.sourceURI],d=c.items.map((({sourceURI:e})=>r[e]));i[s.source]={hubsSource:s,hub:l,metadataList:c,metadataListItemState:d}}return i})),aq=(0,fe.P1)(iq,(e=>{const t=Object.values(e).reduce(((e,{metadataList:t,metadataListItemState:n})=>e.concat(t.items.reduce(((e,t,r)=>{const i=n[r];return i&&e.push({metadataItem:t,metadataItemState:i}),e}),[]))),[]);return t.sort(((e,t)=>{var n,r,i,a;const s=e.metadataItem,o=t.metadataItem,l=e.metadataItemState,c=t.metadataItemState,d=null!=(r=null!=(n=null==s?void 0:s.includedAt)?n:null==l?void 0:l.lastViewedAt)?r:0;return(null!=(a=null!=(i=null==o?void 0:o.includedAt)?i:null==c?void 0:c.lastViewedAt)?a:0)-d})),t.map((({metadataItem:t})=>{const{hubsSource:n,hub:r}=e[t.source];return{listItemKey:t.sourceURI,hub:r,hubsSource:n,metadataItem:t}}))})),sq=(0,fe.P1)(iq,(e=>Object.values(e).filter((e=>{const{hub:t}=e;return t.isStale}))));var oq=Object.defineProperty,lq=Object.prototype.hasOwnProperty,cq=Object.getOwnPropertySymbols,dq=Object.prototype.propertyIsEnumerable,uq=(e,t,n)=>t in e?oq(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,pq=(e,t)=>{for(var n in t||(t={}))lq.call(t,n)&&uq(e,n,t[n]);if(cq)for(var n of cq(t))dq.call(t,n)&&uq(e,n,t[n]);return e};function mq(){return g.createElement(Og,null,(0,Ce.Z)("Continue Watching"))}const hq=(0,g.memo)((function({metricsRow:e=0,onHomeHubsReady:t}){const n=(0,v.I0)(),r=(0,v.v9)(aq),i=(0,v.v9)(sq),a=(0,g.useMemo)((()=>({type:En.U.Mixed,more:!1,initialSize:r.length,isStale:!1,size:r.length,key:"",hubIdentifier:"",source:"",sourceURI:"",title:""})),[r]),s=(0,g.useMemo)((()=>[{imageType:ri.IY.CoverPoster,type:En.U.Mixed}]),[]),o=(0,v.v9)(Ug),l=(0,g.useMemo)((()=>r.reduce(((e,t)=>{var n,r,i;return Math.max(e,null!=(i=null==(r=null==(n=t.hub.Meta)?void 0:n.DisplayFields)?void 0:r.reduce(((e,{fields:t})=>Math.max(e,t.length)),0))?i:0)}),0)),[r]),c=(0,g.useMemo)((()=>mg({listType:En.U.Mixed,listStyle:En.n.List,columnWidth:o,titleCount:l})),[o,l]);(0,g.useEffect)((()=>{i.forEach((({hub:e,hubsSource:t})=>{n(xr.Z.actions.throttledRepopulateRequested({server:t.server,provider:t.provider,sourceURI:e.sourceURI}))}))}),[n,i]),(0,g.useEffect)((()=>{r.forEach((({hubsSource:e})=>{t(e.key)}))}),[r,t]);const d=(0,g.useMemo)((()=>t=>{var n,r,i;if(!t.item)return g.createElement(g.Fragment,null);const{metadataItem:a,hub:o,hubsSource:l}=t.item;return g.createElement(Jt.ZP,{key:t.key,name:o.context,row:e,column:t.cellIndex},g.createElement(Qn,{machineIdentifier:null==(n=l.server)?void 0:n.machineIdentifier,providerIdentifier:null==(r=l.provider)?void 0:r.identifier},g.createElement(Ar,{containerServer:l.server,containerProvider:l.provider,containerSourceURI:o.sourceURI,containerKey:o.key,containerType:En.U.Mixed,containerMeta:{DisplayFields:null==(i=o.Meta)?void 0:i.DisplayFields,DisplayImage:s},listStyle:En.n.Hero},g.createElement(kh,pq(pq({},t),{item:a})))))}),[s,e]);return g.createElement(zg,{hub:a,hubTitleComponent:mq,keyPropName:"listItemKey",items:r,totalSize:r.length,layout:c,cellComponentFactory:d})}));var gq=Object.defineProperty,yq=Object.prototype.hasOwnProperty,vq=Object.getOwnPropertySymbols,fq=Object.prototype.propertyIsEnumerable,bq=(e,t,n)=>t in e?gq(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Iq=(e,t)=>{for(var n in t||(t={}))yq.call(t,n)&&bq(e,n,t[n]);if(vq)for(var n of vq(t))fq.call(t,n)&&bq(e,n,t[n]);return e};const Sq={hubsListsByKey:{}},Mq={source:"",contentDirectoryID:[],hubs:[],isPending:!1,isPopulated:!1,error:null};function Eq(e,t){for(const n in e.hubsListsByKey){const r=e.hubsListsByKey[n];t&&r.source!==t||r.hubs.forEach((e=>{e.isStale=!0}))}}function Pq(e,t){for(const n in e.hubsListsByKey)e.hubsListsByKey[n].hubs.forEach((e=>{e.sourceURI===t&&(e.isStale=!1)}))}const Dq=(0,lo.oM)({name:"home",initialState:Sq,reducers:{reset:()=>Sq,markStaleRequested(e){for(const t in e.hubsListsByKey)e.hubsListsByKey[t].isPending=!1},markStale(e){Eq(e)},populateAllRequested(e,{payload:t}){const n=t.hubsSources.map((e=>e.key));Object.keys(e.hubsListsByKey).forEach((t=>{n.includes(t)||delete e.hubsListsByKey[t]}))},fetchRequested(e,{payload:t}){const{hubsSource:{key:n,source:r,contentDirectoryID:i,pinnedContentDirectoryID:a}}=t;let s=e.hubsListsByKey[n];s||(s=Iq(Iq({},Mq),{source:r})),(0,yd.er)(s),s.contentDirectoryID=[...i],a&&(s.pinnedContentDirectoryID=[...a]),e.hubsListsByKey[n]=s},fetchSucceeded(e,{payload:t}){e.lastFetchedAt||(e.lastFetchedAt=Date.now());const n=e.hubsListsByKey[t.key];(0,yd.vv)(n),n.hubs=t.data},fetchFailed(e,{payload:t}){let n=e.hubsListsByKey[t.key];n||(n=Iq(Iq({},Mq),{source:t.source,contentDirectoryID:[...t.contentDirectoryID]}),e.hubsListsByKey[t.key]=n),(0,yd.VQ)(n,t.error)}},extraReducers:e=>{e.addCase(xr.Z.actions.repopulateRangeSucceeded,((e,{payload:t})=>{Pq(e,t.sourceURI)})),e.addCase(xr.Z.actions.fetchAllSucceeded,((e,{payload:t})=>{Pq(e,t.sourceURI)})),e.addCase(_v.actions.ended,((e,{payload:t})=>{Eq(e,t.source)})),e.addCase(Bv.actions.sessionStopped,((e,{payload:t})=>{Eq(e,(0,yn.Z)({serverIdentifier:t.server.machineIdentifier}))})),e.addCase(yl.actions.libraryScanUpdated,((e,{payload:t})=>{Eq(e,(0,yn.Z)({serverIdentifier:t.server.machineIdentifier}))})),e.addCase(os.Z.actions.playedStatusUpdateSucceeded,((e,{payload:t})=>{Eq(e,(0,yn.Z)({serverIdentifier:t.server.machineIdentifier,providerIdentifier:t.provider.identifier}))})),e.addCase(os.Z.actions.metadataProcessed,((e,{payload:t})=>{const{serverIdentifier:n,providerIdentifier:r}=(0,wr.Z)(t.sourceURI);Eq(e,(0,yn.Z)({serverIdentifier:n,providerIdentifier:r}))})),e.addCase(Fv.actions.languageChanged,(()=>Sq))}}),Cq=(0,fe.P1)(hl(bn.eT),aq,((e,t)=>e&&!!t.length)),wq=(0,fe.P1)(ct,(e=>e.providers)),Zq=(0,fe.P1)(wq,Cn.Z,((e,t)=>e.map((e=>t[e])))),Tq=(0,fe.P1)(Bn,Zq,((e,t)=>e.some((e=>!e.isCloud&&!e.isUnauthorized))||t.some((e=>e.features.find((e=>e.type===$t.zW.Content))))));var Nq=n(99449);const Oq=e=>e.ui.watchTogether,Aq=(0,fe.P1)(Nq.Z,Oq,((e,t)=>t.rooms.map((t=>e[t])))),xq=(0,fe.P1)(Aq,(e=>!!e.length));var jq=Object.defineProperty,Lq=Object.prototype.hasOwnProperty,kq=Object.getOwnPropertySymbols,Rq=Object.prototype.propertyIsEnumerable,zq=(e,t,n)=>t in e?jq(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Uq=(e,t)=>{for(var n in t||(t={}))Lq.call(t,n)&&zq(e,n,t[n]);if(kq)for(var n of kq(t))Rq.call(t,n)&&zq(e,n,t[n]);return e};const Vq={key:"",contentDirectoryID:[],isPending:!1,isSourceReady:!1,isSourceMissing:!1,isSourceUnavailable:!1,isSourceError:!1,isListPending:!1,isListPopulated:!1,isListEmpty:!1,isListError:!1},Bq=(0,fe.P1)((e=>e.isWaitingForServers),(e=>e.user.isProvidersPopulated),(e=>e.user.providersError),nq,eq,((e,t,n,r,i)=>i.map((({key:i,server:a,provider:s})=>{if(!a)return Uq(Uq({},Vq),{key:i,isPending:e,isSourceMissing:!0});const o=Uq(Uq({},Vq),{key:i});if(o.isSourceUnavailable=a.isUnavailable,o.isSourceError=a.isUnauthorized||!!(null==s?void 0:s.error),s){o.isSourceReady=a.isConnected&&s.isPopulated;const e=r.hubsListsByKey[i];e?(o.contentDirectoryID=Array.from(e.contentDirectoryID),e.pinnedContentDirectoryID&&(o.pinnedContentDirectoryID=Array.from(e.pinnedContentDirectoryID)),o.isPending=o.isSourceReady&&!e.isPopulated&&!e.error,o.isListPending=e.isPending,o.isListPopulated=e.isPopulated,o.isListError=!!e.error,o.isListEmpty=e.isPopulated&&(!e.hubs.length||e.hubs.every((e=>!e.initialSize&&!e.more)))):o.isPending=!o.isSourceUnavailable&&!o.isSourceError}else o.isSourceMissing=!0,a.isConnected?o.isPending=!!a.isCloud&&!t&&!n:o.isPending=!a.isUnavailable&&!a.isUnauthorized;return o})))),Fq=(0,fe.P1)(Bq,(e=>{const t=[];let n=0;for(;e[n];){const r=e[n];if(r.isPending)break;r.isListPopulated&&!r.isListEmpty&&t.push(r.key),n++}return t})),_q=(0,UA.Z)(Fq,(e=>e)),Hq=(0,fe.P1)(nq,(e=>e.lastFetchedAt)),Qq=(0,fe.P1)(eq,Bq,ra("sidebarSettings"),(e=>e.ui.watchTogether.isRoomsPending),(e=>e.ui.watchTogether.rooms.length>0),hl(bn.eT),((e,t,n,r,i,a)=>function(e,t,n,r=!1,i=!1,a=!1){var s;if(Zl(e.length===t.length,"hubsSources and hubsStates have differing length"),!n.hasCompletedSetup)return{isPending:!0};let o=0;const l=t.length;if(a)for(let n=0;n<l;n++){const r=t[n];if((null==(s=e[n].feature)?void 0:s.type)!==$t.zW.ContinueWatching){o=n;break}if(!(r.isListPopulated||r.isListEmpty||r.isListError||r.isSourceUnavailable))return{isPending:!0}}for(let e=o;e<l;e++){const n=t[e];if(n.isListPopulated&&!n.isListEmpty)return{isPopulated:!0};if(n.isPending)return{isPending:!0}}return r?{isPending:!0}:i?{isPopulated:!0}:t.length?t.every((e=>e.isListEmpty))?{isEmpty:!0}:t.some((e=>e.isSourceUnavailable))?{isUnavailable:!0}:{isError:!0}:{hasNoPinnedSources:!0}}(e,t,n,r,i,a)));var Gq=Object.defineProperty,Wq=Object.prototype.hasOwnProperty,Yq=Object.getOwnPropertySymbols,Kq=Object.prototype.propertyIsEnumerable,qq=(e,t,n)=>t in e?Gq(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,$q=(e,t)=>{for(var n in t||(t={}))Wq.call(t,n)&&qq(e,n,t[n]);if(Yq)for(var n of Yq(t))Kq.call(t,n)&&qq(e,n,t[n]);return e};const Jq=(0,Dn.Z)((e=>(0,fe.P1)(rq,hl(bn.eT),((t,n)=>{const r=t[e];return $q($q({},r),{hubs:n?r.hubs.filter((e=>e.hubIdentifier!==WK.VodContinueWatching&&e.hubIdentifier!==WK.MergedContinueWatching&&e.hubIdentifier!==WK.ContinueWatching)):r.hubs})})))),Xq=[WK.ContinueWatching,WK.VodContinueWatching,WK.MergedContinueWatching],e$=(0,Dn.Z)((function(e,t){return(0,fe.P1)(rq,_q,hl(bn.eT),((n,r,i)=>{const a=r.indexOf(e);return r.slice(0,-1===a?r.length:a).reduce(((e,t)=>n[t].hubs.reduce(((e,{initialSize:t,more:n,hubIdentifier:r})=>i&&Xq.includes(r)?e:e+(t||n?1:0)),e)),t)}))})),t$=(0,fe.P1)(eq,(e=>{const t={},n=e.reduce(((e,{server:n})=>{if(!n||t[n.machineIdentifier])return e;const{machineIdentifier:r,sourceTitle:i,isFullOwnedServer:a}=n;return t[r]=!0,a?e.numOwnedServers++:i&&(e.numSharedServers++,e.byOwner[i]?e.byOwner[i]++:e.byOwner[i]=1),e}),{numSharedServers:0,numOwnedServers:0,byOwner:{}});return e.reduce(((e,{source:t,server:r,provider:i})=>{if(!r)return e;const{friendlyName:a,sourceTitle:s,isCloud:o,isFullOwnedServer:l}=r;return o&&i?i.sourceTitle&&(n.numOwnedServers||n.numSharedServers)?e[t]=`${i.title} (${i.sourceTitle})`:e[t]=i.title:s&&(n.numOwnedServers||n.numSharedServers>1)?1===n.byOwner[s]?e[t]=s:e[t]=`${s} (${a})`:l&&n.numOwnedServers>1&&(e[t]=a),e}),{})})),n$=(0,UA.Z)(t$,(e=>e)),r$=(0,Dn.Z)((e=>(0,fe.P1)(n$,(t=>t[e]))));function i$({children:e,hub:t}){const{metricsContextTuple:n}=(0,Jt.Zn)(),r=(0,v.v9)(r$(t.source)),i=Tr(t.source,{key:t.key,title:t.title,pageType:$t.F6.List,context:(0,Jt.VJ)(n)});return g.createElement(vy,{hub:t},g.createElement(vr,{to:i},e),r?g.createElement("span",{className:"HomeHubTitle-sourceTitle-ciUeTH"},g.createElement(rs.Z,null),r):null)}const a$=(0,g.memo)((function({hubsSource:e,metricsRowOffset:t,onHomeHubsReady:n}){var r,i;const a=(0,v.v9)(Jq(e.key)),s=(0,v.v9)(e$(e.key,t)),o=(0,g.useCallback)((()=>{n(e.key)}),[e.key,n]);return e.server&&e.provider?g.createElement(Qn,{key:e.key,machineIdentifier:null==(r=e.server)?void 0:r.machineIdentifier,providerIdentifier:null==(i=e.provider)?void 0:i.identifier},g.createElement(Iy,{hubs:a.hubs,hubComponent:hy,hubTitleComponent:i$,metricsRowOffset:s,onHubsReady:o})):null}));function s$(){return(0,v.v9)(hf)?g.createElement(rb,null):g.createElement(Vf,null,g.createElement(sY.Z,null,g.createElement(oz.Z,null,(0,Ce.Z)("Home"))),g.createElement(fG,null,g.createElement(hT,{listStyles:[En.n.Grid],selectedListStyle:En.n.Grid})))}var o$=n(29150);const l$=(0,fe.P1)(Oq,(e=>!!e.session));function c$({isOpen:e,title:t,errorMessage:n,metricsPage:r,onModalClose:i}){return g.createElement(Jt.ZP,{metricsPage:r},g.createElement(lu,{isOpen:e,size:st.Small,onModalClose:i},g.createElement(du,{onModalClose:i},g.createElement(mu,{className:"WatchTogetherRoomErrorModal-modalHeader-3XfmYj ModalHeader-modalHeader-15PhZc"},t),g.createElement(cm,null,n))))}function d$({className:e="WatchTogetherHubItemPosterCard-card-2vzdV6 PosterCard-card-2-REtd",watchTogetherRoom:t,metadataItem:n,width:r,height:i,aspectRatio:a}){const[s,o]=Hn(),l=(0,v.I0)(),c=(0,gd.Z)(),d=(0,v.v9)(l$),[u,p]=Oo(),{isOpen:m,onClose:h,onToggle:y}=(0,gd.Z)(),f=(0,No.Z)(),{entityID:b,title:I,metadataItemError:S}=t,M=m||u,E=(0,g.useCallback)((()=>{S?c.onOpen():l(o$.ib({watchTogetherRoomEntityID:b}))}),[l,b,S,c]),P=(0,g.useCallback)((()=>{E(),h()}),[E,h]),D=(0,g.useCallback)((()=>{l(_K.GX({watchTogetherRoomEntityID:b})),h()}),[l,b,h]),C=(0,g.useCallback)((()=>{c.onClose()}),[c]);return g.createElement(Fr,{className:e,style:{width:r,height:i},ref:p},n?g.createElement(xt.Z,{className:"WatchTogetherHubItemPosterCard-image-13WlXC",serverEntityID:s.entityID,providerEntityID:o.entityID,url:Bo(n,{aspectRatio:a}),width:r,height:i,component:Ot.Z,allowSizeBracket:!0,preloadOnMount:!1,animateOnMount:!1}):g.createElement(al,{className:"WatchTogetherHubItemPosterCard-iconContainer-38nuER PosterCardIcon-container-UpQIlp",width:r,height:i},g.createElement(da.Z,null)),g.createElement(pl,{"aria-label":I,className:"WatchTogetherHubItemPosterCard-link-3PEQkF PosterCardLink-link-2mWlqA Link-link-2WGTd7",hoverClassName:"WatchTogetherHubItemPosterCard-hoveredLink-3LpBie PosterCardLink-hoveredLink-3BYG1D PosterCardLink-link-2mWlqA Link-link-2WGTd7",isHovered:u||m,onPress:E}),g.createElement(nh,{id:f,className:M?"WatchTogetherHubItemPosterCard-moreButton-3ED0MB MetadataPosterCardActions-moreButton-2gEa9g MetadataPosterCardActions-button--q7OIG Link-link-2WGTd7":"WatchTogetherHubItemPosterCard-hiddenMoreButton-1w_1hM WatchTogetherHubItemPosterCard-moreButton-3ED0MB MetadataPosterCardActions-moreButton-2gEa9g MetadataPosterCardActions-button--q7OIG Link-link-2WGTd7 MetadataPosterCardActions-isHidden-3a_54z",isPending:!1,onPress:y}),g.createElement(Xl.Z,{target:f,isOpen:m,onMenuClose:h},g.createElement(ec.Z,{"aria-label":(0,Ce.Z)("Join"),isDisabled:d||c.isOpen,onPress:P},(0,Ce.Z)("Join")),g.createElement(ec.Z,{"aria-label":(0,Ce.Z)("Remove"),isDisabled:c.isOpen,onPress:D},(0,Ce.Z)("Remove"))),g.createElement(c$,{isOpen:c.isOpen,title:(0,Ce.Z)("Cannot access this item"),errorMessage:S,metricsPage:pt.Gc,onModalClose:C}))}const u$="WatchTogetherHubItem-card-r_sn9y WatchTogetherHubItemPosterCard-card-2vzdV6 PosterCard-card-2-REtd",p$="WatchTogetherHubItem-secondaryTitle-1JTMFc WatchTogetherHubItem-title-2k0OXc MetadataPosterCardTitle-singleLineTitle-tbmjc5 MetadataPosterCardTitle-title-3Rf96m MetadataPosterCardTitle-isSecondary-3Nh6J0";var m$=Object.prototype.hasOwnProperty,h$=Object.getOwnPropertySymbols,g$=Object.prototype.propertyIsEnumerable;const y$=ai;function v$(e){var t=e,{item:n}=t,r=((e,t)=>{var n={};for(var r in e)m$.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&h$)for(var r of h$(e))t.indexOf(r)<0&&g$.call(e,r)&&(n[r]=e[r]);return n})(t,["item"]);const i=(0,v.I0)(),a=oo(r),s=(0,v.v9)((d=null==n?void 0:n.metadataItem,(0,fe.P1)(sx.Z,(e=>d?e[d]:void 0)))),o=(0,g.useMemo)((()=>oi({width:r.cellWidth,aspectRatio:y$})),[r.cellWidth]),l=(0,g.useMemo)((()=>n?(0,tf.Z)(n.users.map((e=>e.title))):""),[n]),c=(0,g.useMemo)((()=>(null==s?void 0:s.source)?(0,wr.Z)(s.source):null),[null==s?void 0:s.source]);var d;return(0,g.useEffect)((()=>{!n||n.isMetadataItemPopulated||n.metadataItemError||i((0,_K.TN)({watchTogetherRoomEntityID:n.entityID}))}),[i,n]),!n||(null==n?void 0:n.isMetadataItemPending)?g.createElement("div",{style:a.style},g.createElement(Kr,{className:u$,style:o,index:r.cellIndex})):(null==n?void 0:n.isMetadataItemPopulated)&&s&&c?g.createElement(Qn,{machineIdentifier:c.serverIdentifier,providerIdentifier:c.providerIdentifier},g.createElement("div",{style:a.style},g.createElement(d$,{className:u$,watchTogetherRoom:n,metadataItem:s,width:o.width,height:o.height,aspectRatio:y$}),g.createElement("div",{className:"WatchTogetherHubItem-title-2k0OXc MetadataPosterCardTitle-singleLineTitle-tbmjc5 MetadataPosterCardTitle-title-3Rf96m",title:n.title},n.title),g.createElement("div",{className:p$,title:l},l))):g.createElement("div",{style:a.style},g.createElement(d$,{className:u$,watchTogetherRoom:n,width:o.width,height:o.height,aspectRatio:y$}),g.createElement("div",{className:"WatchTogetherHubItem-splitTitleContainer-1YMhIP"},g.createElement("span",{className:"WatchTogetherHubItem-splitLineTitle-1Dmvd5 WatchTogetherHubItem-title-2k0OXc MetadataPosterCardTitle-singleLineTitle-tbmjc5 MetadataPosterCardTitle-title-3Rf96m",title:n.title},n.title),g.createElement("span",{className:"WatchTogetherHubItem-splitLineSecondaryTitle-mj1q59 WatchTogetherHubItem-secondaryTitle-1JTMFc WatchTogetherHubItem-title-2k0OXc MetadataPosterCardTitle-singleLineTitle-tbmjc5 MetadataPosterCardTitle-title-3Rf96m MetadataPosterCardTitle-isSecondary-3Nh6J0 WatchTogetherHubItem-splitLineTitle-1Dmvd5 WatchTogetherHubItem-title-2k0OXc MetadataPosterCardTitle-singleLineTitle-tbmjc5 MetadataPosterCardTitle-title-3Rf96m",title:(0,Ce.Z)("No Access")},(0,Ce.Z)("No Access"))),g.createElement("div",{className:p$,title:l},l))}function f$(){return g.createElement(vy,{hub:{attribution:sy.WatchTogether}},(0,Ce.Z)("Watch Together"))}var b$=Object.defineProperty,I$=Object.prototype.hasOwnProperty,S$=Object.getOwnPropertySymbols,M$=Object.prototype.propertyIsEnumerable,E$=(e,t,n)=>t in e?b$(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,P$=(e,t)=>{for(var n in t||(t={}))I$.call(t,n)&&E$(e,n,t[n]);if(S$)for(var n of S$(t))M$.call(t,n)&&E$(e,n,t[n]);return e};const D$={source:"watchTogether",sourceURI:"watch-together"};function C$({hubLayoutOptions:e,className:t,hubHeaderClassName:n}){const r=(0,v.I0)(),i=(0,v.v9)(Oq),a=(0,v.v9)(Aq),s=(0,v.v9)(Ug),o=(0,gd.Z)(),{sessionError:l}=i,c=(0,g.useMemo)((()=>mg(P$({listType:En.U.Mixed,listStyle:En.n.Hero,columnWidth:s,titleCount:2},e))),[s,e]),d=(0,g.useCallback)((()=>{r(o$.j3())}),[r]);(0,g.useEffect)((()=>{l?o.onOpen():o.isOpen&&o.onClose()}),[o,l]);const u=(0,g.useCallback)((e=>g.createElement(v$,P$({},e))),[]);return g.createElement(g.Fragment,null,g.createElement(zg,{className:t,hubHeaderClassName:n,hub:D$,hubTitleComponent:f$,keyPropName:"id",items:a,totalSize:a.length,layout:c,cellComponentFactory:u}),g.createElement(c$,{isOpen:o.isOpen,title:(0,Ce.Z)("Watch Together session error"),errorMessage:l,metricsPage:pt.Gc,onModalClose:d}))}var w$=Object.defineProperty,Z$=Object.prototype.hasOwnProperty,T$=Object.getOwnPropertySymbols,N$=Object.prototype.propertyIsEnumerable,O$=(e,t,n)=>t in e?w$(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;function A$(e){return!!e&&e<=Date.now()-864e5}function x$(){const e=(0,v.I0)(),t=(0,v.v9)(eq),n=(0,v.v9)(Bq),r=(0,v.v9)(_q),i=(0,v.v9)(Hq),a=(0,v.v9)(HK),s=(0,v.v9)(QK),o=(0,v.v9)(Tq),l=(0,v.v9)(xq),c=(0,v.v9)(Cq);let d=0;l&&d++,c&&d++;const u=(0,g.useRef)(new Set),[p,m]=(0,g.useState)(!1),{isPending:h,isPopulated:y,isUnavailable:b,isError:I,isEmpty:S,hasNoPinnedSources:M}=(0,v.v9)(Qq),{context:E}=(0,f.UO)(),P=(0,g.useCallback)((e=>{u.current.add(e),r.length&&r.every((e=>u.current.has(e)))&&m(!0)}),[r]);$d({mode:VK.Auto},!h);const{scrollRestoreProps:D,onScrollPositionReady:C}=qn({key:"HomePage"});return(0,g.useEffect)((()=>{p&&C()}),[p,C]),(0,g.useEffect)((()=>{A$(i)&&e(Dq.actions.reset())}),[e,i]),(0,g.useEffect)((()=>{e(Dq.actions.populateAllRequested({hubsSources:t,hubsStates:n,userServices:s}))}),[e,t,n,s]),(0,g.useEffect)((()=>()=>{e(Dq.actions.markStaleRequested())}),[e]),(0,g.useEffect)((()=>{const t=()=>{"visible"===document.visibilityState&&A$(i)&&e(Dq.actions.reset())};return document.addEventListener("visibilitychange",t),()=>{document.removeEventListener("visibilitychange",t)}}),[e,i]),(0,g.useEffect)((()=>{e((0,_K.Z7)())}),[e]),g.createElement(Jt.ZP,{metricsPage:pt.Sd,metricsContextParam:E},g.createElement(sr,{allowBackgroundLightPreset:!0,scrollDirection:Ae.None},g.createElement(s$,null),h?g.createElement(Ye,null,g.createElement(lt,null)):null,y?g.createElement(Ty,((e,t)=>{for(var n in t||(t={}))Z$.call(t,n)&&O$(e,n,t[n]);if(T$)for(var n of T$(t))N$.call(t,n)&&O$(e,n,t[n]);return e})({className:"HomePage-homePageContentScroller-2a5_R2 PageContent-pageContentScroller-18TqCp Scroller-scroller-3Rbtv0"},D),l?g.createElement(C$,null):null,c?g.createElement(hq,{metricsRow:l?1:0,onHomeHubsReady:P}):null,t.map((e=>r.includes(e.key)?g.createElement(a$,{key:e.key,hubsSource:e,metricsRowOffset:d,onHomeHubsReady:P}):null))):null,b?g.createElement(et,{title:(0,Ce.Z)("No content available"),description:(0,Ce.Z)("Check your network connection and verify that any media servers are online.")}):null,I?g.createElement(et,{title:(0,Ce.Z)("Something went wrong"),description:(0,Ce.Z)("There was an error loading your home screen. Please try again in a few minutes.")}):null,S&&!a?g.createElement(Ye,{iconSrc:String(FK),title:(0,Ce.Z)("Your home screen is currently empty"),description:(0,Ce.Z)("There's no content to display based on your currently pinned sources. You can always pin additional sources to your sidebar.")}):null,S&&a?g.createElement(Ye,{iconSrc:String(FK),title:(0,Ce.Z)("No content available"),description:(0,Ce.Z)("Kindly ask the Plex Home admin to share content with you.")}):null,M&&o?g.createElement(Ye,{iconSrc:String(FK),title:(0,Ce.Z)("Your home screen is empty"),description:(0,Ce.Z)("Your home screen is based on sources pinned to your sidebar. Choose a source from the More menu and pin it to see its content here.")}):null,!M||o||a?null:g.createElement(Ye,{iconSrc:String(FK),title:(0,Ce.Z)("Add your media to Plex"),description:(0,Ce.Z)("Organize, beautify, stream, and share your personal collection of movies, TV, music, and photos anywhere, on all your devices. To get started, download our free Plex Media Server software on the device where you store your media.")},g.createElement(Dr,{to:iy._N,kind:or.Primary,size:st.Large,target:"_self"},(0,Ce.Z)("Get Plex Media Server"))),M&&!o&&a?g.createElement(Ye,{iconSrc:String(FK),title:(0,Ce.Z)("No content available"),description:(0,Ce.Z)("Kindly ask the Plex Home admin to share content with you.")}):null))}const j$=oA.Z.extend({name:"PlayHistoryListItemModel",syncedAttrs:{key:KO.Z.string,parentKey:KO.Z.string,grandparentKey:KO.Z.string,title:KO.Z.string,parentTitle:KO.Z.string,grandparentTitle:KO.Z.string,type:KO.Z.string,thumb:KO.Z.string,parentThumb:KO.Z.string,grandparentThumb:KO.Z.string,grandparentArt:KO.Z.string,index:KO.Z.integer,parentIndex:KO.Z.integer,originallyAvailableAt:KO.Z.string,viewedAt:KO.Z.integer,accountID:KO.Z.integer,deviceID:KO.Z.integer},derivedAttrs:{itemKey(){return this.get("key")},id(){return this.cid}}}),L$=BT.Z.extend({name:"PlayHistoryListItemCollection",context:["server"],model:j$});oA.Z.extend({mixins:[$O.Z],collectionName:"items",name:"PlayHistoryListModel",context:["server","accountID","filters","sort","limit"],responseType:iV.AV,url(){const e=this.filters.reduce(((e,t)=>(e[t.key]=t.value,e)),{});null!=this.accountID&&(e.accountID=this.accountID),null!=this.sort&&(e.sort=this.sort),null!=this.limit&&(e.limit=this.limit);let t=E.Z.join("/status/sessions/history/all",e);return t=t.replace("viewedAt=","viewedAt>="),this.getPaginatedUrl(t)},sessionAttrs:{currentPageStart:KO.Z.integer,currentPageSize:KO.Z.integer,populatedRange:KO.Z.object},syncedAttrs:{totalSize:KO.Z.integer},syncedRelations:{items:{relationClass:L$,rootPropertyName:"Metadata",setOptions:e=>({remove:e.remove,at:e.at})}},defaults:()=>({populatedRange:{start:0,end:0,size:0}}),initialize(){this.startPopulatedRangeMonitor()}});var k$=Object.defineProperty,R$=Object.prototype.hasOwnProperty,z$=Object.getOwnPropertySymbols,U$=Object.prototype.propertyIsEnumerable,V$=(e,t,n)=>t in e?k$(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const B$={accounts:[],isPending:!1,isPopulated:!1,error:null},F$=(0,lo.oM)({name:"serverAccounts",initialState:{},reducers:{populateRequested(e,t){},fetchRequested(e,{payload:t}){const n=e[t.server.machineIdentifier];(0,yd.er)(n)},fetchSucceeded(e,{payload:t}){const n=e[t.server.machineIdentifier];(0,yd.vv)(n),n.accounts=t.data},fetchFailed(e,{payload:t}){const n=e[t.server.machineIdentifier];(0,yd.VQ)(n,t.error)}},extraReducers:e=>{e.addCase(yl.actions.connected,((e,{payload:t})=>{const{server:n}=t;e[n.machineIdentifier]||(e[n.machineIdentifier]=((e,t)=>{for(var n in t||(t={}))R$.call(t,n)&&V$(e,n,t[n]);if(z$)for(var n of z$(t))U$.call(t,n)&&V$(e,n,t[n]);return e})({},B$))}))}});var _$=Object.defineProperty,H$=Object.prototype.hasOwnProperty,Q$=Object.getOwnPropertySymbols,G$=Object.prototype.propertyIsEnumerable,W$=(e,t,n)=>t in e?_$(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const Y$={devices:[],isPending:!1,isPopulated:!1,error:null},K$=(0,lo.oM)({name:"serverDevices",initialState:{},reducers:{populateRequested(e,t){},fetchRequested(e,{payload:t}){const n=e[t.server.machineIdentifier];(0,yd.er)(n)},fetchSucceeded(e,{payload:t}){const n=e[t.server.machineIdentifier];(0,yd.vv)(n),n.devices=t.data},fetchFailed(e,{payload:t}){const n=e[t.server.machineIdentifier];(0,yd.VQ)(n,t.error)}},extraReducers:e=>{e.addCase(yl.actions.connected,((e,{payload:t})=>{const{server:n}=t;e[n.machineIdentifier]||(e[n.machineIdentifier]=((e,t)=>{for(var n in t||(t={}))H$.call(t,n)&&W$(e,n,t[n]);if(Q$)for(var n of Q$(t))G$.call(t,n)&&W$(e,n,t[n]);return e})({},Y$))}))}});var q$=n(54466),$$=Object.defineProperty,J$=Object.prototype.hasOwnProperty,X$=Object.getOwnPropertySymbols,eJ=Object.prototype.propertyIsEnumerable,tJ=(e,t,n)=>t in e?$$(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const nJ=(0,q$.Z)((e=>e),(e=>{var t,n,r;const{data:i}=e,a=i.MediaContainer;return{items:null!=(t=null==a?void 0:a.Metadata)?t:[],totalSize:null!=(n=null==a?void 0:a.totalSize)?n:0,offset:null!=(r=null==a?void 0:a.offset)?r:0}})),rJ=nJ.getDefaultPaginatedState(),iJ=(0,lo.oM)({name:"playHistory",initialState:rJ,reducers:((e,t)=>{for(var n in t||(t={}))J$.call(t,n)&&tJ(e,n,t[n]);if(X$)for(var n of X$(t))eJ.call(t,n)&&tJ(e,n,t[n]);return e})({},nJ.reducers)});function aJ(e,t){return!!e&&e.some((e=>e.key===t))}const sJ=(0,Dn.Z)((function(e){return(0,fe.P1)($r,(t=>t.serverAccounts[e]))})),oJ=(0,Dn.Z)((function(e){return(0,fe.P1)($r,(t=>t.serverDevices[e]))}));var lJ,cJ;(cJ=lJ||(lJ={})).LibrarySectionID="librarySectionID",cJ.AccountID="accountID",cJ.MetadataItemID="metadataItemID",cJ.ViewedAt="viewedAt";const dJ={key:"user",title:()=>(0,Ce.Z)("User"),component:function({className:e,playHistoryItem:t}){const[n]=Hn(),{accountID:r}=t,i=(0,g.useMemo)((()=>((e,t)=>(0,fe.P1)(sJ(e),(e=>e.accounts.find((e=>e.id===t)))))(n.machineIdentifier,r)),[r,n.machineIdentifier]),a=(0,v.v9)(i);return a?g.createElement("span",{className:e,title:a.name},a.name):g.createElement("span",{className:e},(0,Ce.Z)("Unknown User"))},style:{flex:"1 1 250px"}},uJ={key:"type",title:()=>(0,Ce.Z)("Type"),component:function({className:e,playHistoryItem:t}){const{type:n}=t,r=(0,Ac.getMetadataType)(n);return r?g.createElement("span",{className:e,title:r.title},r.title):null},style:{flex:"0 1 120px"}},pJ={key:"title",title:()=>(0,Ce.Z)("Title"),component:function({className:e,playHistoryItem:t}){const n=(0,UI.Z)(t);return g.createElement("span",{className:e},g.createElement("div",{className:"PlayHistoryTableTitle-titleContainer-21J4XQ"},g.createElement("span",{className:"PlayHistoryTableTitle-title-1jQ9O-",title:n},n)))},style:{flex:"2 0 350px"}},mJ={key:"player",title:()=>(0,Ce.Z)("Player"),component:function({className:e,playHistoryItem:t}){const[n]=Hn(),{deviceID:r}=t,i=(0,v.v9)(oJ(n.machineIdentifier)).devices.find((e=>e.id===r));return i?g.createElement("span",{className:e,title:i.name},i.name):g.createElement("span",{className:e},(0,Ce.Z)("Unknown"))},style:{flex:"1 1 150px"}},hJ={key:"platform",title:()=>(0,Ce.Z)("Platform"),component:function({className:e,playHistoryItem:t}){const[n]=Hn(),{deviceID:r}=t,i=(0,v.v9)(oJ(n.machineIdentifier)).devices.find((e=>e.id===r));return i?g.createElement("span",{className:e,title:i.platform},i.platform):g.createElement("span",{className:e},(0,Ce.Z)("Unknown"))},style:{flex:"1 1 150px"}},gJ=[{key:"viewedAt",ascKey:"viewedAt",descKey:"viewedAt:desc",title:()=>(0,Ce.Z)("Played"),component:function({className:e,playHistoryItem:t}){const{viewedAt:n}=t,r=(0,v.v9)(jx),i=(0,pi.Z)(1e3*n,`${r} MMM d, yyyy`);return g.createElement("span",{className:e,title:i},i)},style:{flex:"1 1 150px"}}];var yJ=n(38770),vJ=n(75157);const fJ=Pu({rowHeight:parseInt(ng.Z.tableRowHeight,10),overscan:20}),bJ=(0,fe.P1)(fo,(e=>e.playHistory));function IJ({style:e,cellIndex:t}){return g.createElement("div",{className:t%2?"PlayHistoryTableRowLoading-alternateLoadingItem-116pvP PlayHistoryTableRowLoading-loadingItem-1F9PsX":"PlayHistoryTableRowLoading-loadingItem-1F9PsX",style:e},(0,Ce.Z)("Loading..."))}var SJ=Object.prototype.hasOwnProperty,MJ=Object.getOwnPropertySymbols,EJ=Object.prototype.propertyIsEnumerable;function PJ(e){var t=e,{item:n,activeTableColumns:r}=t,i=((e,t)=>{var n={};for(var r in e)SJ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&MJ)for(var r of MJ(e))t.indexOf(r)<0&&EJ.call(e,r)&&(n[r]=e[r]);return n})(t,["item","activeTableColumns"]);const[a]=Hn(),s=oo(i);let o;if(null==n?void 0:n.key){const e=r.some((e=>"title"===e.key)),t=n.type===Ac.TRACK?n.parentKey:n.key;o=e?(0,li.Z)(a,{isLibraryProvider:!0},t):void 0}return n?g.createElement("div",{className:i.cellIndex%2?"PlayHistoryTableRow-alternateItem-2VXaDm PlayHistoryTableRow-item-nThGvm":"PlayHistoryTableRow-item-nThGvm",style:s.style},g.createElement(vr,{className:"PlayHistoryTableRow-columns-So_9m2 Link-link-2WGTd7","aria-label":n.title,to:o,isDisabled:!o},r.map((({style:e,component:t},r)=>g.createElement(BS,{key:r,style:e,component:t,playHistoryItem:n}))))):g.createElement(IJ,{style:s.style,cellIndex:i.cellIndex})}var DJ=Object.defineProperty,CJ=Object.prototype.hasOwnProperty,wJ=Object.getOwnPropertySymbols,ZJ=Object.prototype.propertyIsEnumerable,TJ=(e,t,n)=>t in e?DJ(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,NJ=(e,t)=>{for(var n in t||(t={}))CJ.call(t,n)&&TJ(e,n,t[n]);if(wJ)for(var n of wJ(t))ZJ.call(t,n)&&TJ(e,n,t[n]);return e};function OJ({activeTableColumns:e,activeFilters:t,activeSort:n}){const r=(0,v.I0)(),[i]=Hn(),a=(0,v.v9)(bJ),s=(0,v.v9)(oJ(i.machineIdentifier)),{items:o,totalSize:l,isPopulated:c,error:d}=a,{isPopulated:u,error:p}=s,m=(0,g.useCallback)((e=>{r(iJ.actions.fetchRangeRequested(NJ(NJ({},e),{server:i,filters:t,sort:n})))}),[r,i,t,n]),h=(0,g.useMemo)((()=>t=>g.createElement(PJ,NJ(NJ({},t),{activeTableColumns:e}))),[e]);return c&&l&&(u||p)?g.createElement(Hu,{className:"PlayHistoryList-playHistoryListPageContent-1REOIr PageContent-pageContentScroller-18TqCp Scroller-scroller-3Rbtv0",items:o,totalSize:l,layout:fJ,cellComponentFactory:h,onPageRequest:m}):c&&!l?g.createElement(Ye,{title:(0,Ce.Z)("Nothing to see here"),description:(0,Ce.Z)("Snuggle up on the couch and play something!")}):d?g.createElement(tt,null):g.createElement(Ye,null,g.createElement(lt,null))}var AJ=n(7118),xJ=Object.defineProperty,jJ=Object.prototype.hasOwnProperty,LJ=Object.getOwnPropertySymbols,kJ=Object.prototype.propertyIsEnumerable,RJ=(e,t,n)=>t in e?xJ(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;function zJ(e,t,n){const r=[...e],i=r.findIndex((e=>e.key===t)),a=-1===i?0:i,s=((e,t)=>{for(var n in t||(t={}))jJ.call(t,n)&&RJ(e,n,t[n]);if(LJ)for(var n of LJ(t))kJ.call(t,n)&&RJ(e,n,t[n]);return e})({key:t},n);return-1===i?r.push(s):r.splice(a,1,s),r}function UJ(e,t){if(1===e.id)return-1;if(1===t.id)return 1;const n=e.name.trim().toUpperCase(),r=t.name.trim().toUpperCase();return n<r?-1:n>r?1:0}const VJ=(0,Dn.Z)((function(e){return(0,fe.P1)(sJ(e),(e=>e.accounts.slice().sort(UJ)))}));var BJ=Object.defineProperty,FJ=Object.prototype.hasOwnProperty,_J=Object.getOwnPropertySymbols,HJ=Object.prototype.propertyIsEnumerable,QJ=(e,t,n)=>t in e?BJ(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,GJ=(e,t)=>{for(var n in t||(t={}))FJ.call(t,n)&&QJ(e,n,t[n]);if(_J)for(var n of _J(t))HJ.call(t,n)&&QJ(e,n,t[n]);return e};let WJ,YJ;function KJ(e,t=window.location.hash){const n=function(e){if(WJ===e)return YJ;const t=e.split("?"),n=t.length>1?t[1]:void 0,r=n?E.Z.parseParams(n):{};return WJ=e,YJ={url:t[0],params:r},YJ}(t);return E.Z.join(n.url,GJ(GJ({},n.params),{filters:(0,$A.Z)(e.filters),activeTimePeriod:e.activeTimePeriod,sort:e.sort}))}function qJ({activeFilters:e,activeTimePeriod:t,activeSort:n}){const[r]=Hn(),i=(0,No.Z)(),a=(0,gd.Z)(),s=(0,g.useMemo)((()=>({key:"",title:(0,Ce.Z)("All Users")})),[]),o=(0,v.v9)(VJ(r.machineIdentifier)),l=(0,g.useMemo)((()=>o.reduce(((e,t)=>(e.push({key:String(t.id),title:t.name}),e)),[s])),[o,s]),c=(0,g.useMemo)((()=>{const t=e.find((e=>"accountID"===e.key));return t?l.find((e=>e.key===t.value)):s}),[e,l,s]),d=(0,g.useCallback)((r=>{let i;i=r?zJ(e,lJ.AccountID,{value:String(r),type:tn}):OU(e,lJ.AccountID),window.location.hash=KJ({filters:i,activeTimePeriod:t,sort:n})}),[e,t,n]);return c&&l.length?g.createElement(g.Fragment,null,g.createElement(oz.Z,{id:i,hasMenu:!0,isMenuOpen:a.isOpen,onPress:a.onToggle},c.title),g.createElement(Xl.Z,{target:i,isOpen:a.isOpen,onMenuClose:a.onClose},l.map((e=>g.createElement(Up.Z,{key:e.key,value:e.key,isSelected:c.key===e.key,onSelect:(0,rc.Z)(d,a.onClose)},e.title))))):null}const $J=(0,Dn.Z)((function(e,t){return(0,fe.P1)(Rn(e,t),(e=>e.filter((e=>{const t=e.type?Ac.getMetadataType(e.type):null;return t&&t.typeString!==Ac.PLAYLIST}))))}));function JJ({activeFilters:e,activeTimePeriod:t,activeSort:n}){const[r,i]=Hn(),a=(0,No.Z)(),s=(0,gd.Z)(),o=(0,v.v9)($J(r.machineIdentifier,i.identifier)),l=(0,g.useMemo)((()=>({key:"all",title:(0,Ce.Z)("All Libraries")})),[]),c=(0,g.useMemo)((()=>o.reduce(((e,t)=>(e.push({key:t.id,title:t.title}),e)),[l])),[o,l]),d=(0,g.useMemo)((()=>{const t=e.find((e=>"librarySectionID"===e.key));return t&&c.length?c.find((e=>String(e.key)===t.value)):l}),[e,c,l]),u=(0,g.useCallback)((r=>{let i;i="all"!==r?zJ(e,lJ.LibrarySectionID,{value:r,type:tn}):OU(e,lJ.LibrarySectionID),window.location.hash=KJ({filters:i,activeTimePeriod:t,sort:n})}),[e,t,n]);return d&&o.length?g.createElement(g.Fragment,null,g.createElement(oz.Z,{id:a,hasMenu:!0,isMenuOpen:s.isOpen,onPress:s.onToggle},d.title),g.createElement(Xl.Z,{target:a,isOpen:s.isOpen,onMenuClose:s.onClose},c.map((e=>g.createElement(Up.Z,{key:e.key,value:e.key,isSelected:d.key===e.key,onSelect:(0,rc.Z)(u,s.onClose)},e.title))))):null}function XJ(){const[e]=Hn(),t=(0,No.Z)(),n=(0,gd.Z)(),r=(0,v.v9)(Bn),i=(0,g.useMemo)((()=>r.reduce(((e,t)=>(t.isFullOwnedServer&&t.isConnected&&e.push({key:t.machineIdentifier,title:t.friendlyName}),e)),[])),[r]),a=(0,g.useMemo)((()=>i.find((t=>t.key===e.machineIdentifier))),[e,i]),s=(0,g.useCallback)((e=>{window.location.hash=(0,AJ.Z)(e)}),[]);return a?g.createElement(g.Fragment,null,g.createElement(oz.Z,{id:t,hasMenu:!0,isMenuOpen:n.isOpen,onPress:n.onToggle},a.title),g.createElement(Xl.Z,{target:t,isOpen:n.isOpen,onMenuClose:n.onClose},i.map((e=>g.createElement(Up.Z,{key:e.key,value:e.key,isSelected:a.key===e.key,onSelect:(0,rc.Z)(s,n.onClose)},e.title))))):null}function eX({activeFilters:e,activeTimePeriod:t,activeSort:n}){const r=(0,No.Z)(),i=(0,gd.Z)(),a=[vJ.XH.Week,vJ.XH.Month,vJ.XH.NinetyDays,vJ.XH.Year,vJ.XH.AllTime],s=(0,g.useCallback)((t=>{const r=zJ(e,lJ.ViewedAt,{value:String((0,vJ.xP)(t)),type:tn});window.location.hash=KJ({filters:r,activeTimePeriod:t,sort:n})}),[e,n]);return g.createElement(g.Fragment,null,g.createElement(oz.Z,{id:r,hasMenu:!0,isMenuOpen:i.isOpen,onPress:i.onToggle},(0,vJ.dZ)(t)),g.createElement(Xl.Z,{target:r,isOpen:i.isOpen,onMenuClose:i.onClose},a.map((e=>g.createElement(Up.Z,{key:e,value:e,isSelected:t===e,onSelect:(0,rc.Z)(s,i.onClose)},(0,vJ.dZ)(e))))))}const tX=(0,fe.P1)(bJ,(e=>e.totalSize));function nX({activeFilters:e,activeFilterTitle:t,activeTimePeriod:n,activeSort:r}){const[i]=Hn(),a=(0,v.v9)(tX),s=!aJ(e,lJ.MetadataItemID);return g.createElement(Vf,null,g.createElement(sY.Z,null,g.createElement(oz.Z,{to:(0,AJ.Z)(i.machineIdentifier)},(0,Ce.Z)("Play History")),t?g.createElement(oz.Z,null,t):null,s?g.createElement(XJ,null):null,s?g.createElement(g.Fragment,null,g.createElement(JJ,{activeFilters:e,activeTimePeriod:n,activeSort:r}),g.createElement(qJ,{activeFilters:e,activeTimePeriod:n,activeSort:r}),g.createElement(eX,{activeFilters:e,activeTimePeriod:n,activeSort:r})):null,g.createElement(rC.Z,null,a)))}function rX({activeTableColumns:e,activeFilters:t,activeTimePeriod:n,activeSort:r}){return g.createElement(KM,null,e.map((({style:e,title:i,ascKey:a,descKey:s,key:o})=>{if(!a)return g.createElement("div",{key:o,style:e,className:"PlayHistoryTableHeader-tableHeader-n2UFAk"},g.createElement(rE,null,g.createElement(SE,null,i())));const l=r===a||r===s,c=r===a;return g.createElement(uE,{key:o,style:e,to:KJ({filters:t,activeTimePeriod:n,sort:c?s:a})},g.createElement(rE,{isActive:l},g.createElement(SE,null,i()),l?g.createElement(BM,{isAscending:!c}):null))})))}function iX(){var e;const t=(0,v.I0)(),[n]=Hn(),r=(0,De.Z)(),i=gn(r.filters),a=(0,EK.Z)(r.filterTitle),s=null!=(e=(0,av.su)(vJ.XH).find((e=>e===(0,EK.Z)(r.activeTimePeriod))))?e:vJ.XH.AllTime,o=r.sort?(0,EK.Z)(r.sort):"viewedAt:desc",l=(0,yJ.Z)(r.isParentType),c=function(e,t){let n=[mJ,hJ,...gJ];return!t&&aJ(e,lJ.MetadataItemID)||(n=[pJ,...n]),aJ(e,lJ.LibrarySectionID)||aJ(e,lJ.MetadataItemID)||(n=[uJ,...n]),aJ(e,lJ.AccountID)||(n=[dJ,...n]),n}(i,l);return $d(),(0,g.useEffect)((()=>{t(K$.actions.populateRequested({server:n})),t(F$.actions.populateRequested({server:n}))}),[t,n]),(0,g.useEffect)((()=>((0,fn.c9)((()=>{t(iJ.actions.fetchRangeRequested({server:n,filters:i,sort:o,startIndex:0,size:100}))})),()=>{t(iJ.actions.reset())})),[i,o,t,n]),g.createElement(sr,{scrollDirection:Ae.None},g.createElement(nX,{activeFilters:i,activeFilterTitle:a,activeTimePeriod:s,activeSort:o}),g.createElement(rX,{activeTableColumns:c,activeFilters:i,activeTimePeriod:s,activeSort:o}),g.createElement(OJ,{activeTableColumns:c,activeFilters:i,activeSort:o}))}function aX(){const{machineIdentifier:e,providerIdentifier:t}=MK(),n=(0,De.Z)();return g.createElement(Qn,{machineIdentifier:e,providerIdentifier:t},g.createElement(zK,{machineIdentifier:e,providerIdentifier:t},g.createElement(Jt.ZP,{metricsPage:pt.mw,metricsContext:(0,EK.Z)(n.context)},g.createElement(iX,null))))}function sX({children:e}){return g.createElement("div",{className:"PlayerContainer-container-2-RrdD"},e)}var oX=n(32486);const lX=(0,fe.P1)(oX.Z,(e=>e.playlistItems)),cX=(0,bc.Z)(RH.KG),dX=(0,bc.Z)(RH.Yx),uX=(0,bc.Z)(RH.zx),pX=(0,bc.Z)(RH.PL),mX=(0,bc.Z)(RH.yc),hX=(0,bc.Z)(RH.pQ),gX=(0,bc.Z)(RH.N2),yX=(0,bc.Z)(RH.Dn),vX=(0,bc.Z)(RH.gS),fX=(0,bc.Z)(RH.fu),bX=(0,bc.Z)(RH.GN);var IX=n(70519),SX=n(47327),MX=n(15634),EX=n(96026),PX=Object.defineProperty,DX=Object.prototype.hasOwnProperty,CX=Object.getOwnPropertySymbols,wX=Object.prototype.propertyIsEnumerable,ZX=(e,t,n)=>t in e?PX(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const TX="INIT_PRE_PLAY_PAGE",NX="INIT_PRE_PLAY_DESCENDANT_LIST",OX="INIT_PRE_PLAY_SIBLING_LIST",AX="INIT_PRE_PLAY_AUGMENTED_HUBS",xX="PRE_FETCH_PRE_PLAY_METADATA_ITEM",jX="FETCH_PRE_PLAY_METADATA_ITEM",LX="FETCH_PRE_PLAY_RELATED_HUBS",kX="FETCH_PRE_PLAY_AUGMENTED_HUBS",RX="MAKE_PRE_PLAY_VIDEO_DECISION",zX="REPOPULATE_PRE_PLAY_POPULAR_TRACKS",UX=(0,bc.Z)(TX),VX=(0,bc.Z)(NX),BX=(0,bc.Z)(OX),FX=(0,bc.Z)(AX),_X=(0,bc.Z)(xX),HX=(0,bc.Z)(jX),QX=(0,bc.Z)(LX),GX=(0,bc.Z)(kX),WX=(0,bc.Z)(RX),YX=(0,bc.Z)(zX);function KX(e){return e.get("ui").get("prePlayPage")}function qX(e,t){const{metadataItemEntityID:n,containerKeyPattern:r}=t;if(r)return!1;const i=(0,QT.SW)(e,t),a=KX(e).get("metadataItem");return!(!a||a.server!==i||n&&a.entityID()!==n)}function $X(e,t,n){const r=KX(e),i=r.get("siblingList"),a=r.get("descendantList"),s=r.get("relatedHubs");i&&n((0,iC.u6)({metadataListEntityID:i.entityID()})),a&&(r.get("metadataItem").get("type")===Ac.ALBUM?n((0,iC.C8)({metadataListEntityID:a.entityID()})):n((0,iC.u6)({metadataListEntityID:a.entityID()}))),s&&n(QX())}function JX(e,t){const n=(0,QT.SW)(e,t),r=KX(e),i=r.get("metadataItem");if(!i||i.server!==n)return;const a=t.activity.Context;if(!a||a.key!==i.get("key"))return;if(null==a.exists&&null==a.accessible)return;const s=!a.exists||!a.accessible;r.set("isFileUnavailable",s),s&&window.setTimeout((()=>{i.set("isPreFetched",!1)}),0)}const XX=(0,VT.Z)({[TX](e,t){const n=KX(e),r=(0,QT.SW)(e,t),i=(0,QT.js)(e,t),{providerEntityID:a,metadataKey:s}=t;if(a===n.get("providerEntityID")&&s===n.get("metadataKey"))return;const o=new lC.Z({key:s},{server:r,provider:i}),l=E.Z.join([s.replace(/(\/library)?\/metadata/,"/hubs/metadata"),"related"]),c=(0,MX.Z)(e,bn.Ao),d=new IX.Z([],{server:r,provider:i,metadataItem:o,hubKey:l,includeExternalMedia:c,includeExternalMetadata:!0,asyncAugmentMetadata:!0});n.restoreDefaults({providerEntityID:a,metadataKey:s,metadataItem:o,siblingKey:n.get("siblingKey"),siblingList:n.get("siblingList"),relatedHubs:d})},[NX](e,t){const n=KX(e),r=(0,QT.SW)(e,t),i=(0,QT.js)(e,t),a=(0,QT.$R)(e,t),{providerEntityID:s,descendantKey:o}=t;if(!o)return void n.set({descendantKey:o,descendantList:void 0});if(s===n.get("providerEntityID")&&o===n.get("descendantKey"))return;const l=(0,MX.Z)(e,bn.Ao),c="album"===a.get("type")||"artist"===a.get("type")&&a.get("skipChildren"),d=new qO.Z({containerKey:o},{server:r,provider:i,excludeAllLeaves:!0,includeExternalMedia:l,includeRelated:c});n.set({descendantKey:o,descendantList:d})},[OX](e,t){const n=KX(e),r=(0,QT.SW)(e,t),i=(0,QT.js)(e,t),{providerEntityID:a,siblingKey:s}=t;if(!s)return void n.set({siblingKey:s,siblingList:void 0});if(a===n.get("providerEntityID")&&s===n.get("siblingKey"))return;const o=(0,MX.Z)(e,bn.Ao),l=new qO.Z({containerKey:s},{server:r,provider:i,excludeAllLeaves:!0,includeExternalMedia:o});n.set({siblingKey:s,siblingList:l})},[AX](e,t,n){const r=KX(e),i=r.get("metadataItem"),a=i.get("augmentationKey"),s=[Ac.ARTIST,Ac.ALBUM],o=[Ac.MOVIE,Ac.SHOW,Ac.SEASON,Ac.EPISODE],l=i.get("type");if(!s.includes(l)&&!o.includes(l)||!a)return void r.set({isAugmentedHubsPending:!1,isAugmentedHubsPopulated:!0});const c=new IX.Z([],{server:i.server,provider:i.provider,hubKey:i.get("augmentationKey"),excludeFields:"",wait:1});r.set({augmentedHubs:c}),n(GX())},[xX](e,t){const n=(0,QT.$R)(e,t);(0,SX.Z)(n,{forceFetch:!0})},[jX](e,t,n){const r=KX(e),i=r.get("metadataItem"),a=r.get("isMetadataItemPending");r.set("isMetadataItemPending",!0),(0,SX.Z)(i,{forceFetch:!0}).done((()=>{r.set({isMetadataItemPending:!1,isMetadataItemPopulated:!0,metadataItemError:null}),n(FX())})).fail(((e,t)=>{t.aborting?r.set("isMetadataItemPending",a):r.set({isMetadataItemPending:!1,metadataItemError:(0,jC.Z)(t)})}))},[LX]:(0,cC.Z)({key:"relatedHubs",getModel:KX}),[kX]:(0,cC.Z)({key:"augmentedHubs",getModel:KX}),[RX](e,t,n){const r=KX(e),i=e.get("user").get("experienceSettings"),a=r.get("metadataItem"),s=(0,b.DB)("getDecisionOptions")(a),o=Qj.Z.getCurrentQuality(a,i,(e=>n((0,AM.LN)(e)))),l=EX.Z.getMediaDecision(((e,t)=>{for(var n in t||(t={}))DX.call(t,n)&&ZX(e,n,t[n]);if(CX)for(var n of CX(t))wX.call(t,n)&&ZX(e,n,t[n]);return e})({item:a,transcodeServer:a.server,quality:o},s));r.set("decisionMediaItem",l.media)},[wC.WV](e,t){t.activity.type===gl.Ij&&JX(e,t)},[wC.Cs](e,t){t.activity.type===gl.Ij&&JX(e,t)},[$l.se](e,t,n){qX(e,t)&&$X(e,0,n)},[ZC._z](e,t,n){const r=KX(e),i=r.get("metadataItem");if(qX(e,t))i.fetch({data:{skipRefresh:1},usePopulatedParams:!0}),$X(e,0,n);else{const a=(0,QT.SW)(e,t),s=r.get("siblingList"),o=t.parentMetadataKey;i&&i.server===a&&s&&o&&i.get("parentKey")===o&&n((0,iC.u6)({metadataListEntityID:s.entityID()}))}},[zX](e,t,n){const r=KX(e).get("metadataItem"),i=(0,QT.tz)(e,{metadataItemEntityID:t.albumMetadataItemEntityID});r&&i&&r.get("key")===i.get("parentKey")&&n((0,$l.dk)({serverEntityID:t.serverEntityID,metadataItemEntityID:r.entityID()}))}}),e0=(0,fe.P1)(na.Z,(e=>e.listStyles)),t0=(0,fe.P1)(na.Z,(e=>e.playThemeMusic)),n0=(0,fe.P1)(na.Z,(e=>e.showPrePlayArtwork));function r0(){return(0,fe.P1)((0,xx.Z)(),((e={})=>{const{type:t,subtype:n,skipChildren:r}=e;if(t===Ac.COLLECTION)return n;if(t===Ac.SHOW&&n===wc.PODCAST)return Ac.TRACK;const i=r?Ac.getLeafType(t):Ac.getChildType(t);return i&&i.typeString}))}var i0=n(63731),a0=Object.defineProperty,s0=Object.prototype.hasOwnProperty,o0=Object.getOwnPropertySymbols,l0=Object.prototype.propertyIsEnumerable,c0=(e,t,n)=>t in e?a0(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,d0=(e,t)=>{for(var n in t||(t={}))s0.call(t,n)&&c0(e,n,t[n]);if(o0)for(var n of o0(t))l0.call(t,n)&&c0(e,n,t[n]);return e};function u0(e,{metricsPage:t}){return g.createElement(i0.Z,d0(d0({},e),{page:t}))}u0.contextTypes={metricsPage:sa().string.isRequired};const p0=u0;var m0=Object.defineProperty,h0=Object.prototype.hasOwnProperty,g0=Object.getOwnPropertySymbols,y0=Object.prototype.propertyIsEnumerable,v0=(e,t,n)=>t in e?m0(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const f0=function(e){return g.createElement(Ex.Z,((e,t)=>{for(var n in t||(t={}))h0.call(t,n)&&v0(e,n,t[n]);if(g0)for(var n of g0(t))y0.call(t,n)&&v0(e,n,t[n]);return e})({iconClassName:"InnerErrorPage-icon-2KNdJ5 ErrorPage-icon-2pZGG7 EmptyPage-icon-1xIWV_",iconComponent:we.Z},e))},b0=function(){return g.createElement(f0,{title:(0,Ce.Z)("Nothing is here"),description:(0,Ce.Z)("This item may have been deleted recently")},g.createElement(pw.Z,{to:"#",kind:ic._8},(0,Ce.Z)("Go Home")))},I0=function(){return g.createElement(f0,{title:(0,Ce.Z)("Not found"),description:(0,Ce.Z)("This item does not have its own page")},g.createElement(pw.Z,{to:"#",kind:ic._8},(0,Ce.Z)("Go Home")))};var S0=n(71024);function M0({className:e}){return g.createElement("div",{className:e})}M0.defaultProps={className:"PrePlayDivider-divider-1nBBzX"};const E0=M0;function P0({className:e,children:t}){return g.createElement("div",{className:e},t)}P0.defaultProps={className:"PrePlayMetadataInnerContent-innerContent-587MD4"};const D0=P0;function C0({className:e,children:t}){return g.createElement("div",{className:e},t)}C0.defaultProps={className:"PrePlayMetadataListInnerContent-innerContent-2ww2tR"};const w0=C0;var Z0=n(59145);class T0 extends g.Component{constructor(e,t){super(e,t),this.onLineHeightRef=e=>{e&&this.setState({lineHeight:e.clientHeight})},this.onMeasure=({height:e})=>{this.setState({expandedHeight:e})},this.onTogglePress=()=>{this.setState({isCollapsed:!this.state.isCollapsed,allowTransition:!0})},this.state={isCollapsed:!0,allowTransition:!1,lineHeight:0,expandedHeight:0}}shouldComponentUpdate(e,t){return(0,At.Z)(this,e,t)}render(){const{className:e,dangerouslySetInnerHTML:t,children:n,labelLess:r,labelMore:i,maxLines:a}=this.props,{isCollapsed:s,allowTransition:o,expandedHeight:l,lineHeight:c}=this.state,d=c*a,u=l>d,p={overflow:"hidden",maxHeight:s?d:l};return g.createElement("div",{className:e},c?null:g.createElement("div",{className:"CollapsibleText-lineHeightMeasure-3PCFZf",ref:this.onLineHeightRef}),g.createElement("div",{className:o?"CollapsibleText-contentTransition-2PTU7G":void 0,style:p},g.createElement(bx.Z,{ignoreWidth:!0,ignorePosition:!0,onMeasure:this.onMeasure},t?g.createElement("div",{dangerouslySetInnerHTML:t}):n)),u?g.createElement(Z0.Z,{className:"CollapsibleText-readMore-33dvMH DisclosureArrowButton-disclosureArrowButton-17hnir Link-link-CM9nxg",arrowClassName:"CollapsibleText-readMoreArrow-1XvEDC DisclosureArrowButton-disclosureArrow-1B0C1q DisclosureArrow-disclosureArrow-1jttuj",direction:s?kp.WV:kp.UP,isSelected:!1,onPress:this.onTogglePress},s?i:r):null)}}T0.defaultProps={labelLess:"Read Less",labelMore:"Read More",maxLines:3};const N0=T0;var O0=Object.defineProperty,A0=Object.prototype.hasOwnProperty,x0=Object.getOwnPropertySymbols,j0=Object.prototype.propertyIsEnumerable,L0=(e,t,n)=>t in e?O0(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,k0=(e,t)=>{for(var n in t||(t={}))A0.call(t,n)&&L0(e,n,t[n]);if(x0)for(var n of x0(t))j0.call(t,n)&&L0(e,n,t[n]);return e};function R0(e){return g.createElement(N0,k0(k0({},e),{labelLess:(0,Ce.Z)("Read Less"),labelMore:(0,Ce.Z)("Read More")}))}R0.defaultProps=k0({},N0.defaultProps);const z0=R0;function U0({className:e,dangerouslySetInnerHTML:t,children:n}){const r=n?n.split("\n"):[];return g.createElement(z0,{className:e,dangerouslySetInnerHTML:t},r.length>1?r.map(((e,t)=>g.createElement("p",{key:t},e))):n)}U0.defaultProps={className:"PrePlaySummary-summary-1ltXwF"};const V0=U0;function B0(e,t){switch(e){case Ac.SEASON:return(0,Ce.Z)("Seasons");case Ac.EPISODE:return 1===t?(0,Ce.Z)("1 Episode"):(0,Ce.Z)("{episodeCount} Episodes",{episodeCount:t});case Ac.ALBUM:return 1===t?(0,Ce.Z)("1 Album"):(0,Ce.Z)("{albumCount} Albums",{albumCount:t});case Ac.TRACK:return 1===t?(0,Ce.Z)("1 Track"):(0,Ce.Z)("{trackCount} Tracks",{trackCount:t});default:return 1===t?(0,Ce.Z)("1 Item"):(0,Ce.Z)("{trackCount} Items",{trackCount:t})}}class F0 extends g.Component{render(){const{children:e,className:t}=this.props;return g.createElement("div",{className:t},e)}}F0.defaultProps={className:"HubCellHeader-hubCellHeader-G-yd6D"};const _0=F0;function H0({children:e,className:t}){return g.createElement("div",{className:t,"data-qa-id":"hubTitle"},e)}H0.defaultProps={className:"HubCellTitle-hubCellTitle-3JEg8R"};const Q0=H0,G0="PrePlayList-emptyMessage-33Fg0f PrePlayList-emptyContainer-2slXpM",W0=function(e){const{listType:t,isPopulated:n,isPending:r,error:i,size:a,children:s}=e;return n&&a?g.createElement("div",{className:"PrePlayList-container-vGVoRn HubCell-hubCell-2uIdEm","data-qa-id":"preplayContainer--"+[t]},s):r?g.createElement("div",{className:"PrePlayList-emptyContainer-2slXpM"},g.createElement(Mx.Z,null)):i?g.createElement("div",{className:G0},function(e){switch(e){case mQ.xx:return(0,Ce.Z)("Unable to load seasons");case mQ.uG:return(0,Ce.Z)("Unable to load episodes");case mQ.c5:return(0,Ce.Z)("Unable to load albums");case mQ.IK:return(0,Ce.Z)("Unable to load tracks");case mQ.pV:return(0,Ce.Z)("Unable to load photos");default:return(0,Ce.Z)("Unable to load items")}}(t)):g.createElement("div",{className:G0},function(e){switch(e){case mQ.xx:return(0,Ce.Z)("No seasons");case mQ.uG:return(0,Ce.Z)("No episodes");case mQ.c5:return(0,Ce.Z)("No albums");case mQ.IK:return(0,Ce.Z)("No tracks");case mQ.pV:return(0,Ce.Z)("No photos");default:return(0,Ce.Z)("No items")}}(t))},Y0=function(){return g.createElement(E0,{className:"PrePlayListBottomDivider-bottomDivider-3zd62q PrePlayDivider-divider-1nBBzX"})};class K0 extends g.Component{constructor(e,t){super(e,t),this.onListContainerRef=e=>{this._setOffsetTop(e)},this._hasOffsetChanged=!1,this.state={listOffsetTop:null}}UNSAFE_componentWillUpdate(e){this._hasOffsetChanged=e.contentHeight!==this.props.contentHeight}_setOffsetTop(e){e&&e.offsetTop!==this.state.listOffsetTop&&this.setState({listOffsetTop:e.offsetTop})}render(){const{children:e,scrollTop:t}=this.props,{listOffsetTop:n}=this.state,r=g.Children.only(e);return g.createElement("div",{ref:this._hasOffsetChanged?this._setOffsetTop.bind(this):this.onListContainerRef},null!=n?g.cloneElement(r,{scrollTop:t-n}):null)}}const q0=K0,$0=function(){return g.createElement(E0,{className:"PrePlayListTopDivider-topDivider-3laa-U PrePlayDivider-divider-1nBBzX"})};var J0=Object.defineProperty,X0=Object.prototype.hasOwnProperty,e1=Object.getOwnPropertySymbols,t1=Object.prototype.propertyIsEnumerable,n1=(e,t,n)=>t in e?J0(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;class r1 extends g.Component{constructor(e,t){super(e,t),this.state={layout:this._createLayout(e)}}UNSAFE_componentWillReceiveProps(e){const t=this.props.aspectRatios!==e.aspectRatios,n=this.props.viewportWidth!==e.viewportWidth,r=this.props.columnAdjustment!==e.columnAdjustment;(t||n||r)&&this.setState({layout:this._createLayout(e)})}_createLayout(e=this.props){const{viewportWidth:t,columnAdjustment:n,aspectRatios:r}=e,i=Math.ceil(t/400),a=Math.max(1,i+n);return OQ({columns:a,rows:jQ({aspectRatios:r,columns:a})})}render(){if(!this.state)return null;const e=this.props,{cellRenderer:t}=e,n=((e,t)=>{var n={};for(var r in e)X0.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&e1)for(var r of e1(e))t.indexOf(r)<0&&t1.call(e,r)&&(n[r]=e[r]);return n})(e,["cellRenderer"]),{layout:r}=this.state;return g.createElement(dQ.Z,((e,t)=>{for(var n in t||(t={}))X0.call(t,n)&&n1(e,n,t[n]);if(e1)for(var n of e1(t))t1.call(t,n)&&n1(e,n,t[n]);return e})({layout:r,cellRenderer:t},n))}}r1.defaultProps={columnAdjustment:0};const i1=r1,a1=(0,v.$j)((function(){return(0,fe.P1)(((e,{items:t})=>t),((e,{serverEntityID:t})=>t),((e,{providerEntityID:t})=>t),((e,{metadataListEntityID:t})=>t),((e,{containerKey:t})=>t),((e,{listType:t})=>t),sx.Z,((e=[],t,n,r,i,a,s)=>({listType:a,cellRenderer:BQ({serverEntityID:t,providerEntityID:n,metadataListEntityID:r,containerKey:i,listType:a},PQ),aspectRatios:e.map((e=>iQ(s[e])))})))}))(i1);function s1(e){return e===kx.wl||e===kx.Bs}var o1=n(60208);var l1=Object.defineProperty,c1=Object.prototype.hasOwnProperty,d1=Object.getOwnPropertySymbols,u1=Object.prototype.propertyIsEnumerable,p1=(e,t,n)=>t in e?l1(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const m1=function(e){var t=e,{className:n,component:r,isSecondary:i,isDoubleLine:a,isSplitLine:s}=t,o=((e,t)=>{var n={};for(var r in e)c1.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&d1)for(var r of d1(e))t.indexOf(r)<0&&u1.call(e,r)&&(n[r]=e[r]);return n})(t,["className","component","isSecondary","isDoubleLine","isSplitLine"]);return g.createElement(r,((e,t)=>{for(var n in t||(t={}))c1.call(t,n)&&p1(e,n,t[n]);if(d1)for(var n of d1(t))u1.call(t,n)&&p1(e,n,t[n]);return e})({className:Te()(n,a?"MetadataPosterTitle-doubleLineTitle-kqZ8Y9 MetadataPosterTitle-title-nXZNlz":"MetadataPosterTitle-singleLineTitle-1uEoHn MetadataPosterTitle-title-nXZNlz",i&&"MetadataPosterTitle-isSecondary-jkwKt1",s&&"MetadataPosterTitle-isSplitLine-3PX8OX")},o))},h1=(0,v.$j)((function(){return(0,fe.P1)(sb.Z,ab.Z,Hx.Z,_x.Z,((e,t,n,r)=>e&&n&&e.machineIdentifier!==n.machineIdentifier?{sourceTitle:n.sourceTitle||n.friendlyName}:{}))}))((function(e){const{className:t,sourceTitle:n}=e;return n?g.createElement("span",{className:t},(0,Ce.Z)("from {sourceTitle}",{sourceTitle:n})):null})),g1=(0,v.$j)((function(){return(0,fe.P1)((0,xx.Z)(),(e=>({attributionLogo:e.attributionLogo})))}))((function(e){const{attributionLogo:t,className:n}=e;return t?g.createElement("span",{className:n},g.createElement("img",{className:"MetadataAttributionLogoTitle-img-8cMghO",src:t})):null})),y1=(0,oC.Z)((function(){return(0,fe.P1)(((e,{metricsContext:t})=>t),Hx.Z,_x.Z,(0,xx.Z)(),((e,t,n,r={})=>{const i={};return e&&(i.context=e),{parentTitle:r.parentTitle,parentRoute:(0,li.Z)(t,n,r.parentKey,i)}}))}))((function({className:e,tabIndex:t,parentTitle:n,parentRoute:r}){return g.createElement(Qx.Z,{className:e,tabIndex:t,title:n,route:r})}));function v1(e,t){const n=Math.abs(Date.now()-1e3*e),r=36e5;return n<r?window.setTimeout(t,6e4):n<864e5?window.setTimeout(t,r):void 0}class f1 extends g.Component{constructor(e,t){super(e,t),this.trackTime=()=>{const{timestamp:e}=this.props,t=(0,mi.Z)(e);this.setState({title:t}),this.timeoutID=v1(e,this.trackTime)};const{timestamp:n}=this.props,r=(0,mi.Z)(n);this.state={title:r},this.timeoutID=v1(n,this.trackTime)}UNSAFE_componentWillReceiveProps(e){if(e.timestamp!==this.props.timestamp){const t=(0,mi.Z)(e.timestamp);this.setState({title:t})}}componentWillUnmount(){this.timeoutID&&(this.timeoutID=window.clearTimeout(this.timeoutID))}render(){const{className:e}=this.props,{title:t}=this.state;return g.createElement("span",{className:e},t)}}const b1=f1,I1=(0,v.$j)((function(){return(0,fe.P1)(((e,{metricsContext:t})=>t),Hx.Z,_x.Z,(0,xx.Z)(),((e,t,n,r={})=>{const{addedAt:i,grandparentTitle:a,grandparentKey:s}=r,o={};return e&&(o.context=e),{addedAt:i,title:a,route:(0,li.Z)(t,n,s,o)}}))}))((function({className:e,addedAt:t,title:n,route:r}){return t||n?g.createElement("span",{className:e},g.createElement(b1,{timestamp:t}),t&&n?"  ":null,g.createElement(Qx.Z,{title:n,route:r})):null}));var S1=n(54834);const M1=(0,v.$j)((function(){return(0,fe.P1)(jx,(0,S1.Z)(),(0,fe.P1)((0,xx.Z)(),(0,S1.Z)(),((e,t)=>{if(e&&t)return S().findWhere(e.Channel,{id:t.channelID})})),((e,t,n)=>({beginsAt:t&&t.beginsAt,endsAt:t&&t.endsAt,channel:n&&n.tag,timeFormat:e})))}))(BF),E1=function({className:e,leafCount:t}){let n;return null!=t&&(n=1===t?(0,Ce.Z)("{trackCount} track",{trackCount:t}):(0,Ce.Z)("{trackCount} tracks",{trackCount:t})),g.createElement("span",{className:e},n)},P1=(0,v.$j)((function(){return(0,fe.P1)((0,xx.Z)(),((e={})=>({skipChildren:e.skipChildren,childCount:e.childCount,leafCount:e.leafCount})))}))((function({className:e,skipChildren:t,childCount:n,leafCount:r}){if(t)return g.createElement(E1,{className:e,leafCount:r});let i;return null!=n&&(i=1===n?(0,Ce.Z)("{albumCount} album",{albumCount:n}):(0,Ce.Z)("{albumCount} albums",{albumCount:n})),g.createElement("span",{className:e},i)}));var D1=Object.defineProperty,C1=Object.prototype.hasOwnProperty,w1=Object.getOwnPropertySymbols,Z1=Object.prototype.propertyIsEnumerable,T1=(e,t,n)=>t in e?D1(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const N1=(0,v.$j)((function(){return(0,fe.P1)((0,xx.Z)(),((e={})=>({attribution:e.attribution})))}))((function(e){var t=e,{className:n,attribution:r}=t,i=((e,t)=>{var n={};for(var r in e)C1.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&w1)for(var r of w1(e))t.indexOf(r)<0&&Z1.call(e,r)&&(n[r]=e[r]);return n})(t,["className","attribution"]);return g.createElement("span",{className:n},g.createElement("div",{className:"MetadataTitleAttributedLink-container-2MJkFQ"},g.createElement(ma,{className:"MetadataTitleAttributedLink-badge-3X-f_9",attribution:r}),g.createElement(Kx,((e,t)=>{for(var n in t||(t={}))C1.call(t,n)&&T1(e,n,t[n]);if(w1)for(var n of w1(t))Z1.call(t,n)&&T1(e,n,t[n]);return e})({className:"MetadataTitleAttributedLink-title-3ZOR2-"},i))))})),O1=(0,v.$j)((function(){return(0,fe.P1)((0,xx.Z)(),((e={})=>({childCount:e.childCount,subtype:e.subtype})))}))((function({className:e,childCount:t,subtype:n}){let r;if(null!=t){const e=1===t,i={itemCount:t};r=n===Ac.MOVIE?e?(0,Ce.Z)("{itemCount} movie",i):(0,Ce.Z)("{itemCount} movies",i):n===Ac.SHOW?e?(0,Ce.Z)("{itemCount} show",i):(0,Ce.Z)("{itemCount} shows",i):e?(0,Ce.Z)("{itemCount} item",i):(0,Ce.Z)("{itemCount} items",i)}return g.createElement("span",{className:e},r)}));var A1=n(16345);function x1(){return(0,fe.P1)((e=>e.ui),((e,{playerType:t})=>t),((e,t)=>e[t+"Player"]))}function j1(e){return(0,fe.P1)(x1(),(t=>t?t[e]:void 0))}const L1=(0,fe.P1)(oX.Z,(e=>e.liveTVSessions));function k1(){return(0,fe.P1)(L1,j1("liveTVSession"),((e,t)=>e[t]))}function R1(){return(0,fe.P1)(k1(),(e=>e&&e.currentPosition))}var z1=n(18908);const U1=(0,fe.P1)((e=>{var t;return null==(t=e.ui.channelGridPage)?void 0:t.metadataList}),z1.Z,sx.Z,((e,t,n)=>{const r=t[e];return r&&r.metadataItems?r.metadataItems.map((e=>n[e])):[]}));function V1(){return(0,fe.P1)(k1(),R1(),U1,((e,t,n)=>{if(!e||null===t)return;const r=e.channelIdentifier;for(let e=0;e<n.length;e++){const i=n[e];for(let e=0;e<i.Media.length;e++){const n=i.Media[e],{beginsAt:a,endsAt:s,channelIdentifier:o}=n;if(o===r&&a<=t&&s>t)return i}}}))}function B1(){return(0,fe.P1)(V1(),R1(),k1(),((e,t,n)=>{if(!e||null===t||!n)return;const r=n.channelIdentifier;return e.Media.find((e=>{const{beginsAt:n,endsAt:i,channelIdentifier:a}=e;return a===r&&n<=t&&i>t}))}))}const F1=(0,v.$j)((function(){return(0,fe.P1)(jx,B1(),((e,t)=>({beginsAt:t&&t.beginsAt,endsAt:t&&t.endsAt,timeFormat:e})))}))((function(e){const{className:t,beginsAt:n,endsAt:r,timeFormat:i}=e,a=Bx(n,r,{includeMinuteZero:!1,timeFormat:i});return g.createElement("span",{className:t},a)})),_1=function({className:e,date:t}){return t?g.createElement("span",{className:e},(0,pi.Z)(t)):null},H1=(0,v.$j)((function(){return(0,fe.P1)((0,xx.Z)(),((e={})=>({addedAt:e.addedAt})))}))((function({className:e,addedAt:t}){return t?g.createElement(_1,{className:e,date:1e3*t}):null}));var Q1=n(35981);const G1=(0,Q1.Z)(["id","typeString"],[{id:1,typeString:"trailer",title:()=>(0,Ce.Z)("Trailer")},{id:2,typeString:"deletedScene",title:()=>(0,Ce.Z)("Deleted Scene")},{id:3,typeString:"interview",title:()=>(0,Ce.Z)("Interview")},{id:4,typeString:"musicVideo",title:()=>(0,Ce.Z)("Music Video")},{id:5,typeString:"behindTheScenes",title:()=>(0,Ce.Z)("Behind the Scenes")},{id:6,typeString:"scene",title:()=>(0,Ce.Z)("Scene")},{id:7,typeString:"liveMusicVideo",title:()=>(0,Ce.Z)("Live Music Video")},{id:8,typeString:"lyricMusicVideo",title:()=>(0,Ce.Z)("Lyric Music Video")},{id:9,typeString:"concert",title:()=>(0,Ce.Z)("Concert")},{id:10,typeString:"featurette",title:()=>(0,Ce.Z)("Featurette")},{id:11,typeString:"short",title:()=>(0,Ce.Z)("Short")},{id:12,typeString:"other",title:()=>(0,Ce.Z)("Other")}]),W1=(0,v.$j)((function(){return(0,fe.P1)((0,xx.Z)(),((e={})=>({extraType:e.extraType})))}))((function({className:e,extraType:t}){var n=G1.get(t);return g.createElement("span",{className:e},n?n.title:"")})),Y1=(0,v.$j)((function(){return(0,fe.P1)((0,xx.Z)(),(0,Yx.Z)(),((e={},t)=>({title:e.title,route:t})))}))(Qx.Z);Y1.isDoubleLine=!0;const K1=Y1,q1=function({className:e,duration:t}){return t?g.createElement("span",{className:e},Ui(t)):null},$1=function({className:e,leafCount:t}){let n;return null!=t&&(n=1===t?(0,Ce.Z)("{itemCount} item",{itemCount:t}):(0,Ce.Z)("{itemCount} items",{itemCount:t})),g.createElement("span",{className:e},n)},J1=(0,v.$j)((function(){return(0,fe.P1)((0,xx.Z)(),((e={})=>({playlistType:e.playlistType,duration:e.duration,leafCount:e.leafCount})))}))((function(e){const{className:t,playlistType:n,duration:r,leafCount:i}=e;return n===Ja.pV?g.createElement($1,{className:t,leafCount:i}):g.createElement(q1,{className:t,duration:r})})),X1=function({className:e,leafCount:t}){let n;return null!=t&&(n=1===t?(0,Ce.Z)("{episodeCount} episode",{episodeCount:t}):(0,Ce.Z)("{episodeCount} episodes",{episodeCount:t})),g.createElement("span",{className:e},n)},e4=(0,v.$j)((function(){return(0,fe.P1)((0,xx.Z)(),((e={})=>({skipChildren:e.skipChildren,childCount:e.childCount,leafCount:e.leafCount})))}))((function({className:e,skipChildren:t,childCount:n,leafCount:r}){if(t)return g.createElement(X1,{className:e,leafCount:r});if(!n)return null;const i=1===n?(0,Ce.Z)("{seasonCount} season",{seasonCount:n}):(0,Ce.Z)("{seasonCount} seasons",{seasonCount:n});return g.createElement("span",{className:e},i)})),t4=(0,oC.Z)((function(){return(0,fe.P1)(((e,{metricsContext:t})=>t),((e,{skipGrandparent:t})=>t),Hx.Z,_x.Z,(0,xx.Z)(),((e,t,n,r,i={})=>{const a={};return e&&(a.context=e),{skipParent:i.skipParent,skipGrandparent:t,parentTitle:i.parentTitle,parentRoute:(0,li.Z)(n,r,i.parentKey,a),grandparentTitle:i.originalTitle||i.grandparentTitle,grandparentRoute:(0,li.Z)(n,r,i.grandparentKey,a)}}))}))((function({className:e,tabIndex:t,skipParent:n,skipGrandparent:r,parentTitle:i,parentRoute:a,grandparentTitle:s,grandparentRoute:o}){return g.createElement("span",{className:e},r?null:g.createElement(Qx.Z,{tabIndex:t,title:s,route:o}),!i||n||r?null:g.createElement(rs.Z,null),n?null:g.createElement(Qx.Z,{tabIndex:t,title:i,route:a}))})),n4=(0,fe.P1)(oX.Z,(e=>e.searchResults));function r4(){return(0,fe.P1)(n4,((e,{searchResultEntityID:t})=>t),((e,t)=>e[t]))}function i4(e,t){const n=e.features.content;return n?cx(n.directories,t):null}const a4=(0,v.$j)((function(){return(0,fe.P1)(sb.Z,ab.Z,r4(),(0,xx.Z)(),((e,t,n={},r)=>{const i=r||n.tagItem;return{server:e,provider:t,sourceDirectory:i4(t,i.librarySectionID),reasonID:n.reasonID,reason:n.reason,reasonTitle:n.reasonTitle,originalTitle:i.originalTitle,filter:i.filter,librarySectionKey:i.librarySectionKey,librarySectionType:i.librarySectionType}}))}))((function(e){const{className:t,server:n,provider:r,sourceDirectory:i,originalTitle:a,reason:s,reasonID:o,reasonTitle:l,filter:c,librarySectionKey:d,librarySectionType:u,onPress:p}=e;if(!s)return null;if("originalTitle"===s)return g.createElement("span",{className:t},a);if(!l)return null;const m={},h="actor"===s||"director"===s;h&&(m.filters=c||`${s}=${o}`,m.filterLabel=l);const y=(0,hI.Z)(n,r,i,{key:E.Z.join([d,"all"],{type:u,[s]:h?o:void 0}),pageType:$t.F6.List}),v={director:(0,Ce.Z)("by"),actor:(0,Ce.Z)("with"),section:(0,Ce.Z)("in"),autotag:(0,Ce.Z)("tagged"),place:(0,Ce.Z)("in")};return y?g.createElement("span",{className:t},v[s]," ",g.createElement(pw.Z,{title:l,tabIndex:"-1",to:y,onPress:p},l)):g.createElement("span",{className:t},`${v[s]} ${l}`)}));function s4(){return(0,fe.P1)(lx(),(0,xx.Z)(),((e,t)=>{if(t)return cx(e,t.librarySectionID)}))}function o4(e,t){return e.isCloud?t.sourceTitle?`${t.title} ${t.sourceTitle}`:t.title:e.friendlyName}const l4=(0,v.$j)((function(){return(0,fe.P1)(sb.Z,ab.Z,s4(),((e,t,n)=>({server:e,provider:t,sourceDirectory:n})))}))((function(e){const{className:t,server:n,provider:r,sourceDirectory:i}=e;if(!n.friendlyName&&!n.isCloud)return null;const a=n.isCloud&&!i?void 0:(0,hI.Z)(n,r,i,Fo.wB(r.identifier,Fo.Y3)?{key:yT.D,pageType:gT.km}:void 0);return g.createElement("span",{className:t},n.isCloud&&!r.sourceTitle?(0,Ce.Z)("on")+" ":null,a?g.createElement(pw.Z,{title:n.friendlyName,to:a},o4(n,r)):o4(n,r))})),c4=function(e){const{className:t,server:n,provider:r,sourceDirectory:i,tag:a,tagKey:s}=e,o=(0,hI.Z)(n,r,i,{key:s,pageType:$t.F6.List});return g.createElement(pw.Z,{"data-qa-id":"searchTagTitle",className:t,title:a,to:o},a)};var d4=Object.defineProperty,u4=Object.prototype.hasOwnProperty,p4=Object.getOwnPropertySymbols,m4=Object.prototype.propertyIsEnumerable,h4=(e,t,n)=>t in e?d4(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,g4=(e,t)=>{for(var n in t||(t={}))u4.call(t,n)&&h4(e,n,t[n]);if(p4)for(var n of p4(t))m4.call(t,n)&&h4(e,n,t[n]);return e};const y4=(0,v.$j)((function(){return(0,fe.P1)(sb.Z,ab.Z,r4(),((e,t,n={})=>{const r=S().pick(n.tagItem,"id","tag","tagType","librarySectionType","librarySectionID");return r.tagKey=n.tagItem.key,g4({server:e,provider:t,sourceDirectory:i4(t,n.tagItem.librarySectionID)},r)}))}))((function(e){return g.createElement(c4,g4({},e))})),v4=(0,v.$j)((function(e,t){return(0,fe.P1)((0,xx.Z)(),((e={})=>({addedAt:e.addedAt})))}))((function({className:e,addedAt:t}){return g.createElement(b1,{className:e,timestamp:t})})),f4=(0,v.$j)((function(){return(0,fe.P1)((0,xx.Z)(),((e={})=>{const t=(0,Ac.getMetadataType)(e.type),n=e.Media&&e.Media[0];return{type:t&&t.mediaType,bitrate:n&&n.bitrate}}))}))((function(e){const{className:t,type:n,bitrate:r}=e;if(null==r)return null;const i=n===Al.j0?(0,va.Z)(r):(0,fa.Z)(r);return g.createElement("span",{className:t},i)})),b4=(0,v.$j)((function(e,t){return(0,fe.P1)((0,xx.Z)(),((e={})=>({contentRating:e.contentRating})))}))((function({className:e,contentRating:t}){return g.createElement("span",{className:e},Pa(t))})),I4=(0,v.$j)((function(e,t){return(0,fe.P1)((0,xx.Z)(),((e={})=>({rating:e.rating,ratingImage:e.ratingImage,audienceRating:e.audienceRating,audienceRatingImage:e.audienceRatingImage})))}))((function({className:e,rating:t,ratingImage:n,audienceRating:r,audienceRatingImage:i}){return t||r?g.createElement("span",{className:e},g.createElement(za,{rating:t,ratingImage:n,audienceRating:r,audienceRatingImage:i})):null})),S4=(0,v.$j)((function(e,t){return(0,fe.P1)((0,xx.Z)(),((e={})=>{const{duration:t}=e;return{duration:t}}))}))(q1),M4=(0,v.$j)((function(e,t){return(0,fe.P1)((0,xx.Z)(),((e={})=>({lastViewedAt:e.lastViewedAt})))}))((function({className:e,lastViewedAt:t}){return g.createElement(b1,{className:e,timestamp:t})})),E4=(0,v.$j)((function(){return(0,fe.P1)((0,xx.Z)(),((e={})=>({viewCount:e.viewCount})))}))((function({className:e,viewCount:t}){const n=(t>1?(0,Ce.Z)("{viewCount} Plays",{viewCount:t}):null)||(t>0?(0,Ce.Z)("{viewCount} Play",{viewCount:t}):null)||(0,Ce.Z)("Unplayed");return g.createElement("span",{className:e},n)})),P4=(0,v.$j)((function(e,t){return(0,fe.P1)((0,xx.Z)(),((e={})=>{const{originallyAvailableAt:t}=e;return{originallyAvailableAt:t}}))}))((function({className:e,originallyAvailableAt:t}){return g.createElement("span",{className:e},(0,pi.Z)(t,"MMM d, yyyy"))})),D4=(0,v.$j)((function(){return(0,fe.P1)((0,xx.Z)(),((e={})=>{const t=e.Media&&e.Media[0];return{videoResolution:t&&t.videoResolution}}))}))((function({className:e,videoResolution:t}){return g.createElement("span",{className:e},(0,Bs.Z)(t))}));var C4=n(20531),w4=n(62730),Z4=n(34082);const T4=function({className:e,value:t,onRatingChange:n}){return g.createElement("span",{className:e},g.createElement(Us,{value:t,onRatingChange:n}))};var N4=Object.defineProperty,O4=Object.prototype.hasOwnProperty,A4=Object.getOwnPropertySymbols,x4=Object.prototype.propertyIsEnumerable,j4=(e,t,n)=>t in e?N4(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const L4=(0,v.$j)(C4.Z)((0,oC.Z)((function(e,t){return(0,fe.P1)(_x.Z,(0,xx.Z)(),(0,fe.P1)(Z4.Z,((e,{providerEntityID:t})=>t),((e,t)=>!!e&&e.providers.length>1&&e.providers.includes(t))),((e,{hideUnrated:t})=>t),((e,t={},n,r)=>{const i=e&&e.features[AC.aO][w4.zw]&&!t.isFolder&&!n,a=(t.userRating||0)/2;return{showRating:!(!i||r&&0===a),value:a}}))}),(function(e,t){return{onRatingChange(n){e((0,Nl.rateMetadataItem)({metadataItemEntityID:t.metadataItemEntityID,providerEntityID:t.itemProviderEntityID,rating:0===n?-1:2*n,metricsPage:t.metricsPage}))}}}))((function(e){const t=e,{showRating:n}=t,r=((e,t)=>{var n={};for(var r in e)O4.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&A4)for(var r of A4(e))t.indexOf(r)<0&&x4.call(e,r)&&(n[r]=e[r]);return n})(t,["showRating"]);return n?g.createElement(T4,((e,t)=>{for(var n in t||(t={}))O4.call(t,n)&&j4(e,n,t[n]);if(A4)for(var n of A4(t))x4.call(t,n)&&j4(e,n,t[n]);return e})({},r)):null})));L4.propTypes={hideUnrated:sa().bool};const k4=L4;function R4(e,t,n){if("mixed"===e)return[];switch(n){case kx.mo:switch(e){case"artist":return[Kx,P1];case"photo":return[A1.Z,H1];case"photoalbum":case"clip":return[Kx,H1];case"playlist":return[Kx,J1];case"collection":return[Kx,O1];case"actor":case"genre":case"director":case"autotag":case"tag":case"place":return[y4]}break;case kx.F5:case kx.r$:case kx.zg:case kx.UC:switch(t){case"podcast":switch(e){case"track":return[Gx,Wx.Z]}break;case"musicVideo":switch(e){case"clip":return[Kx,t4]}}switch(e){case"episode":return[Gx,Wx.Z];case"clip":return[Kx,H1];case"track":return[Kx,t4]}break;case kx.IN:switch(e){case"participant":return[Kx]}}switch(t){case"podcast":switch(e){case"show":return[K1,null];case"track":return[K1,Gx,null]}break;case"webshow":switch(e){case"show":return[Kx];case"episode":return[K1,I1,null]}}switch(e){case"channels":return[A1.Z,M1];case"movie":return[Kx,$x];case"show":return[Kx,e4];case"season":return[y1,Kx];case"episode":return[Gx,Kx,UL];case"artist":return[Kx];case"album":return[y1,N1];case"track":return[Gx,Kx];case"photo":return[A1.Z];case"photoalbum":case"clip":return[Kx];case"extra":return[A1.Z,W1];case"musicVideo":return[Gx,A1.Z];case"playlist":return[Kx,J1];case"collection":return[Kx,O1];case"directory":case"genre":case"content":case"channel":return[];case"game":return[Kx,$x]}return[A1.Z]}function z4(e){return e.map((e=>{switch(e){case"attributionLogo":return g1;case"episodeIdentifier":case"index":return UL;case"grandparentTitle":return Gx;case"parentTitle":return y1;case"title":return Kx;default:return()=>null}}))}function U4(e,t,n={}){const{subtype:r,activeSort:i,isSearch:a,isSearchAll:s,isExternal:o,providerEntityID:l,displayFields:c}=n;if(c)return z4(c);const d=R4(e,r,t);if(a?(d.push(a4),s&&d.push(l4)):o&&d.push(h1),Fo.wB(l,Fo.Ll)&&("movie"===e||"episode"===e||"mixed"===e))switch(t){case kx.F5:case kx.r$:d.push(F1);break;case kx.UC:break;default:d.push(M1)}if(i){const e=function(e){const[t]=e.split(":");switch(t){case"addedAt":return v4;case"duration":return S4;case"lastViewedAt":return M4;case"originallyAvailableAt":return P4;case"rating":case"audienceRating":return I4;case"userRating":return k4;case"viewCount":return E4;case"mediaBitrate":return f4;case"contentRating":return b4;case"mediaHeight":return D4;case"year":return $x}}(i);e&&!d.includes(e)&&d.push(e)}return d}var V4=Object.defineProperty,B4=Object.prototype.hasOwnProperty,F4=Object.getOwnPropertySymbols,_4=Object.prototype.propertyIsEnumerable,H4=(e,t,n)=>t in e?V4(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Q4=Object.defineProperty,G4=Object.prototype.hasOwnProperty,W4=Object.getOwnPropertySymbols,Y4=Object.prototype.propertyIsEnumerable,K4=(e,t,n)=>t in e?Q4(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,q4=(e,t)=>{for(var n in t||(t={}))G4.call(t,n)&&K4(e,n,t[n]);if(W4)for(var n of W4(t))Y4.call(t,n)&&K4(e,n,t[n]);return e};const $4=(0,v.$j)((function(){return(0,fe.P1)(((e,{listContext:t})=>t),((e,{cellWidth:t})=>t),((e,{displayFieldDefinitions:t})=>t),(0,xx.Z)(),(0,fe.P1)(((e,{listType:t})=>t),(0,xx.Z)(),((e,t)=>{if(!t)return e;const n=e===mQ.pV&&t.type===Ac.CLIP,r=e===mQ.vu&&t.type===Ac.MOVIE;return n||r?e:t.extraType?mQ.V4:t.type})),(0,fe.P1)(((e,{listSubtype:t})=>t),(0,xx.Z)(),((e,t)=>t?t.subtype:e)),hQ(),pQ(),FH.Z,(0,fe.P1)(((e,{providerEntityID:t})=>t),Cn.Z,(0,xx.Z)(),((e,t,n={})=>!!t[n.providerEntityID||e])),((e,t,n,r={},i,a,s,o,l,c)=>{var d;const u=(0,o1.Z)(t,null,i,a,r,e);return{itemServerEntityID:r.serverEntityID,itemProviderEntityID:r.providerEntityID,isFeaturedHub:s1(e),metadataKey:r.key,displayFieldDefinitions:n,displayFields:(null==(d=r.Context)?void 0:d.displayFields)||Co(i,a,n),type:i,subtype:a,selectionType:s,activeSelectionType:l.activeSelectionType,isSelected:o,icon:r.icon,imageWidth:u.width,imageHeight:u.height,imageUrl:u.url,isFolder:r.isFolder,isUnavailable:!c}}))}),(function(e,t){const{metadataListEntityID:n}=t;return{onSelectItem(t){e((0,iC.wr)(q4({metadataListEntityID:n},t)))},onDeselectItem(t){e((0,iC.g8)(q4({metadataListEntityID:n},t)))}}}))((function(e){const t=e,{className:n,serverEntityID:r,providerEntityID:i,metadataItemEntityID:a,searchResultEntityID:s,containerKey:o,cellIndex:l,cellX:c,cellY:d,cellWidth:u,cellHeight:p,isVirtual:m,isVisible:h,isScrolling:y,listType:v,listContext:f,titleComponents:b,isFeaturedHub:I,metadataKey:S,displayFields:M,displayFieldDefinitions:E,type:P,subtype:D,selectionType:C,activeSelectionType:w,isSelected:Z,isUnavailable:T,imageWidth:N,imageHeight:O,imageUrl:A,onSelectItem:x,onDeselectItem:j}=t,L=((e,t)=>{var n={};for(var r in e)B4.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&F4)for(var r of F4(e))t.indexOf(r)<0&&_4.call(e,r)&&(n[r]=e[r]);return n})(t,["className","serverEntityID","providerEntityID","metadataItemEntityID","searchResultEntityID","containerKey","cellIndex","cellX","cellY","cellWidth","cellHeight","isVirtual","isVisible","isScrolling","listType","listContext","titleComponents","isFeaturedHub","metadataKey","displayFields","displayFieldDefinitions","type","subtype","selectionType","activeSelectionType","isSelected","isUnavailable","imageWidth","imageHeight","imageUrl","onSelectItem","onDeselectItem"]),k=(0,Ax.Z)(e),R=!S,z=R||T||k.isPlaceholder,U=function(e,t,n,r,i,a){const s=t===mQ.t1,o=t===mQ.pV,l=n===Ac.COLLECTION;if(a)return z4(a);if(!s&&!o&&!l)return e;const c=R4(n,r,i),d=R4(t,r,i),u=e.filter((e=>!d.includes(e)));return c.concat(u)}(b,v,P,D,f,M||Co(P,D,E)),V=I?U.slice(0,2):[],B=I?U.slice(2):U;return g.createElement("div",{className:n,style:k.style,"data-qa-id":"cellItem"},z?g.createElement(yQ.Z,{imageWidth:N,imageHeight:O,isSelected:Z}):g.createElement(gQ.Z,((e,t)=>{for(var n in t||(t={}))B4.call(t,n)&&H4(e,n,t[n]);if(F4)for(var n of F4(t))_4.call(t,n)&&H4(e,n,t[n]);return e})({serverEntityID:r,providerEntityID:i,metadataItemEntityID:a,containerKey:o,listType:v,listContext:f,metadataKey:S,type:P,imageWidth:N,imageHeight:O,imageUrl:A,selectionType:C,activeSelectionType:w,isSelected:Z,onSelectItem:x,onDeselectItem:j},L)),g.createElement("div",{"data-qa-id":"metadataTitleContainer",className:I?"MetadataPosterCell-continueWatchingTitleContainer-2pzpUH":"MetadataPosterCell-titleContainer-1hTuNQ"},R?(0,Ce.Z)("Loading..."):null,!R&&V.length?g.createElement("div",{className:"MetadataPosterCell-splitTitleContainer-UnIpGe"},V.map(((t,n)=>g.createElement(m1,{key:n,serverEntityID:r,providerEntityID:i,metadataItemEntityID:a,searchResultEntityID:s,containerKey:o,metricsContext:e.metricsContext,component:t,isSecondary:n>0,isDoubleLine:t.isDoubleLine,isSplitLine:!0})))):null,R?null:B.map(((t,n)=>t?g.createElement(m1,{key:n,serverEntityID:r,providerEntityID:i,metadataItemEntityID:a,searchResultEntityID:s,containerKey:o,metricsContext:e.metricsContext,component:t,isSecondary:V.length+n>0,isDoubleLine:t.isDoubleLine}):null))))}));var J4=n(28180);function X4(e){const{cellWidth:t,aspectRatio:n,titleHeight:r=0}=e;return Math.floor(t/n+r)}function e2(e,t){const{innerViewportWidth:n,innerHorizontalPadding:r=0}=t;return Math.floor((n+r)/e)-r}function t2(e){const{innerViewportWidth:t,innerHorizontalPadding:n=0,preferredCellWidth:r,minCellWidth:i,minColumns:a=1,maxColumns:s=1/0,columnAdjustment:o=0}=e;let l=Math.round((t+n)/(r+n));l+=o,l=Math.max(Math.min(l,s),a);let c=e2(l,e);return c<i&&(c=l===a?i:e2(l-1,e)),c}function n2({type:e,aspectRatio:t,titleCount:n,context:r}){const i=parseInt(ng.Z.posterTitleHeight,10);let a,s,o,l,c,d=parseInt(ng.Z.posterTitlePadding,10);return s1(r)?(a=Math.max(2,n-1),s=300,o=200,c=2,l=6,d*=2):(a=e===mQ.t1?n+3:n,o=t>1?180:80,s=t>1?240:120,c=t>1?2:3,l=t>1?8:11),{titleHeight:a?a*i+d:0,minCellWidth:o,preferredCellWidth:s,minColumns:c,maxColumns:l}}var r2=Object.defineProperty,i2=Object.prototype.hasOwnProperty,a2=Object.getOwnPropertySymbols,s2=Object.prototype.propertyIsEnumerable,o2=(e,t,n)=>t in e?r2(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,l2=(e,t)=>{for(var n in t||(t={}))i2.call(t,n)&&o2(e,n,t[n]);if(a2)for(var n of a2(t))s2.call(t,n)&&o2(e,n,t[n]);return e};const c2=parseInt(ng.Z.prePlayContentPadding,10),d2={},u2={innerHorizontalPadding:30,innerVerticalPadding:30,outerPaddingTop:30,outerPaddingRight:60,outerPaddingBottom:30,outerPaddingLeft:60};function p2(e,t,n,r=0,i=0){const a=e+(t||"")+n+r+i;if(d2.hasOwnProperty(a))return d2[a];const s=(0,Ux.n3)(e,t,n),{titleHeight:o,minCellWidth:l,preferredCellWidth:c,minColumns:d,maxColumns:u}=n2({type:e,aspectRatio:s,titleCount:i,context:n}),p=function(e){return e===kx.sD?l2(l2({},u2),{outerPaddingTop:10,outerPaddingRight:c2,outerPaddingBottom:5,outerPaddingLeft:c2}):u2}(n),m=(0,J4.ZP)(l2(l2({direction:J4.yZ},p),{getCellWidth:e=>t2(l2(l2({},e),{preferredCellWidth:c,minCellWidth:l,minColumns:d,maxColumns:u,columnAdjustment:r,aspectRatio:s})),getCellHeight:e=>X4(l2(l2({},e),{aspectRatio:s,titleHeight:o}))}));return m.cellOptions={minCellWidth:l,minColumns:d,maxColumns:u,columnAdjustment:r,aspectRatio:s,titleHeight:o},d2[a]=m,m}var m2=Object.defineProperty,h2=Object.prototype.hasOwnProperty,g2=Object.getOwnPropertySymbols,y2=Object.prototype.propertyIsEnumerable,v2=(e,t,n)=>t in e?m2(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const f2=function(e){const t=e,{serverEntityID:n,providerEntityID:r,metadataListEntityID:i,containerKey:a,listType:s,listSubtype:o,listContext:l,columnAdjustment:c}=t,d=((e,t)=>{var n={};for(var r in e)h2.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&g2)for(var r of g2(e))t.indexOf(r)<0&&y2.call(e,r)&&(n[r]=e[r]);return n})(t,["serverEntityID","providerEntityID","metadataListEntityID","containerKey","listType","listSubtype","listContext","columnAdjustment"]),u=U4(s,l,{providerEntityID:r});return g.createElement(dQ.Z,((e,t)=>{for(var n in t||(t={}))h2.call(t,n)&&v2(e,n,t[n]);if(g2)for(var n of g2(t))y2.call(t,n)&&v2(e,n,t[n]);return e})({layout:p2(s,o,l,c,u.length),cellRenderer:BQ({serverEntityID:n,providerEntityID:r,metadataListEntityID:i,containerKey:a,listType:s,listContext:l,titleComponents:u},$4)},d))},b2=function(e){const{serverEntityID:t,providerEntityID:n,metadataListEntityID:r,metadataItemEntityIDs:i,containerKey:a,listType:s,listStyle:o,populatedRange:l,isPopulated:c,isPending:d,error:u,listTitle:p,titleButtonTitle:m,titleButtonRoute:h,totalSize:y,previewSize:v,viewportWidth:f,viewportHeight:b,contentHeight:I,scrollTop:S,columnAdjustment:M,onPageRequest:E}=e,P=y||i.length,D=null!=v&&P>v?v:P,C=null!=v&&P>v,w=function(e){switch(e){case SG:return a1;default:return f2}}(o),Z=p||B0(s,P),T=o===MG||o===PG||o===EG||o===DG;return g.createElement(W0,{listType:s,isPopulated:c,isPending:d,error:u,size:D},Z?g.createElement(_0,{className:"PrePlayDescendantList-descendantHubCellHeader-H7rExw HubCellHeader-hubCellHeader-G-yd6D"},g.createElement(Q0,null,Z),C||null!=m?g.createElement(pw.Z,{className:"PrePlayDescendantList-titleButton-2s27qw",to:h},m||(0,Ce.Z)("See all")):null):null,T?g.createElement($0,null):null,g.createElement(q0,{contentHeight:I,scrollTop:S},g.createElement(w,{serverEntityID:t,providerEntityID:n,metadataListEntityID:r,containerKey:a,listType:s,listContext:kx.sD,keyPropName:"metadataItemEntityID",items:i,itemsOffset:l.start,size:D,viewportWidth:f,viewportHeight:b,columnAdjustment:M,onPageRequest:E})),T?g.createElement(Y0,null):null)};function I2({className:e,children:t}){return g.createElement("div",{className:e},t)}I2.defaultProps={className:"PrePlayLeftTitle-leftTitle-1zhnSU"};const S2=I2;function M2({className:e,children:t}){return g.createElement("div",{className:e,"data-qa-id":"preplay-mainTitle"},t)}M2.defaultProps={className:"PrePlayPrimaryTitle-primaryTitle-1Qesge"};const E2=M2;function P2({className:e,children:t}){return g.createElement("div",{className:e},t)}P2.defaultProps={className:"PrePlayRightTitle-rightTitle-2Xa_CX"};const D2=P2,C2=function({serverEntityID:e,providerEntityID:t,metadataItemEntityID:n}){return g.createElement(D2,{className:"PrePlayRatingRightTitle-ratingRightTitle-3w1dPt PrePlayRightTitle-rightTitle-2Xa_CX"},g.createElement(k4,{className:"PrePlayRatingRightTitle-starRating-wl1brL",serverEntityID:e,providerEntityID:t,metadataItemEntityID:n}),g.createElement(I4,{className:"PrePlayRatingRightTitle-criticRating-3p-Ig2",serverEntityID:e,providerEntityID:t,metadataItemEntityID:n}))};class w2 extends g.Component{constructor(e,t){super(e,t),this.onContentMeasure=({width:e,height:t})=>{this.setState({isContentMeasured:!0,contentWidth:e,contentHeight:t})},this.state={isContentMeasured:!1,contentWidth:null,contentHeight:null}}shouldComponentUpdate(e,t){return(0,At.Z)(this,e,t)}render(){const{serverEntityID:e,providerEntityID:t,metadataItemEntityID:n,metadataListEntityID:r,title:i,summary:a,art:s,listType:o,listStyle:l,pageHeight:c,scrollTop:d}=this.props,{isContentMeasured:u,contentWidth:p,contentHeight:m}=this.state,h=!(!u||!r);return g.createElement(bx.Z,{ignorePosition:!0,onMeasure:this.onContentMeasure},g.createElement(D0,null,g.createElement(E2,null,g.createElement(S2,null,i),g.createElement(C2,{serverEntityID:e,providerEntityID:t,metadataItemEntityID:n}))),g.createElement(E0,null),a?g.createElement(D0,null,g.createElement(V0,null,a)):null,g.createElement(w0,null,h?g.createElement(S0.Z,{serverEntityID:e,providerEntityID:t,metadataListEntityID:r,listType:o,listStyle:l,component:b2,initialSize:1e3,showArtwork:!!s,viewportWidth:p,viewportHeight:c,contentHeight:m,scrollTop:d}):null))}}const Z2=w2,T2=parseFloat(ng.Z.prePlayPosterWidthRatio,10),N2=parseInt(ng.Z.prePlayPosterMinWidth,10),O2=parseInt(ng.Z.prePlayPosterMaxWidth,10),A2=function(e,t){const n=-1*t+1,r=e*(n/30+T2);return Math.max(Math.min(r,O2+30*n),N2)};function x2({className:e,children:t}){return g.createElement("div",{className:e},t)}x2.defaultProps={className:"PrePlayMetadataContent-content-2UkIeM"};const j2=x2,L2=function(e){const{serverEntityID:t,providerEntityID:n,metadataItemEntityID:r,metadataKey:i,type:a,subtype:s,posterWidth:o,posterHeight:l,posterUrl:c,showLinkOnly:d}=e;return g.createElement(gQ.Z,{cardFaceClassName:"PrePlayPosterCard-face-ozCulL MetadataPosterCardFace-face-3oaw1P MetadataPosterCardFace-poster-11uR3N",serverEntityID:t,providerEntityID:n,metadataItemEntityID:r,metadataKey:i,type:a,subtype:s,imageWidth:o,imageHeight:l,imageUrl:c,showLink:!1,showSelect:!1,showEdit:!1,showMore:!1,showLinkOnly:d})};function k2(e){const{children:t,serverEntityID:n,providerEntityID:r,metadataItemEntityID:i,columnAdjustment:a,showPoster:s,posterType:o,metadataKey:l,type:c,subtype:d,thumb:u,pageWidth:p}=e,m=A2(p,a),h=(0,Ux.Cr)(m,o||c,d,kx.sD);return g.createElement("div",{className:"PrePlayDetailsContainer-container-1QNusy"},s?g.createElement(L2,{serverEntityID:n,providerEntityID:r,metadataItemEntityID:i,metadataKey:l,type:c,subtype:d,posterType:o,posterWidth:m,posterHeight:h,posterUrl:u}):null,s?g.createElement(j2,null,t):g.createElement("div",null,t))}k2.defaultProps={showPoster:!0};const R2=k2;function z2(e,t){switch(e){case Al.pX:return 1===t?(0,Ce.Z)("1 Video"):(0,Ce.Z)("{count} Videos",{count:t});case Al.j0:return 1===t?(0,Ce.Z)("1 Track"):(0,Ce.Z)("{count} Tracks",{count:t});default:return 1===t?(0,Ce.Z)("1 Item"):(0,Ce.Z)("{count} Items",{count:t})}}var U2=n(90961);const V2=parseInt(ng.Z.playQueueItemHeight,10),B2=(0,U2.Z)(V2);function F2(e,t){const{x:n,y:r}=e,i=`translate3d(${n}px, ${r}px, 0)`;return{WebkitTransform:i,msTransform:i,transform:i,width:t?`${t}px`:"100%"}}function _2(){return(0,fe.P1)(((e,{playlistItemEntityID:t})=>t),lX,((e,t)=>t[e]))}function H2(){return(0,fe.P1)(_2(),sx.Z,(({metadataItem:e},t)=>t[e]))}var Q2=n(21709),G2=n(4746),W2=n(45206),Y2=n(67635),K2=n(28889),q2=n(73588),$2=n(34891),J2=n(82261);var X2=n(18376);const e3=parseInt(ng.Z.playlistBadgeSize,10);function t3(e){const{className:t,textClassName:n,serverEntityID:r,attribution:i,avatar:a,name:s,hasOwner:o}=e;return i?g.createElement("div",{className:t},g.createElement(ma,{className:"SourceBadge-attribution-3Iaaa0",attribution:i})):o?g.createElement("div",{className:t},g.createElement("span",{className:n},s),g.createElement(X2.Z,{className:"SourceBadge-avatar-2DPvSx AvatarImg-avatar-3gp48Z",serverEntityID:r,url:a,width:e3,height:e3})):null}t3.defaultProps={className:"SourceBadge-container-2qG-GJ"};const n3=t3,r3=(0,v.$j)((function(){return(0,fe.P1)((0,xx.Z)(),(0,fe.P1)(J2.Z,$2.Z,(0,fe.P1)((0,xx.Z)(),Hx.Z,((e={},t)=>e.source?t.ownerId:null)),((e,t,n)=>{const r=e.find((e=>{const r=t[e];return r&&r.id===n}));return r&&t[r]})),((e={},t)=>({attribution:e.attribution,hasOwner:!!t,avatar:t&&t.thumb,name:t&&t.title})))}))(n3);var i3=n(46412),a3=n(34504);const s3=function({className:e,index:t}){return null==t?null:g.createElement("span",{className:e},t)},o3=function({className:e,duration:t,isPreview:n}){return n?g.createElement("span",{className:e},(0,Ce.Z)("Preview")):t?g.createElement("span",{className:e},(0,aS.Z)(t)):null};function l3(e){const{className:t,indexContainerClassName:n,titlesContainerClassName:r,sourceTextClassName:i,durationContainerClassName:a,attributionContainerClassName:s,serverEntityID:o,providerEntityID:l,metadataItemEntityID:c,cellIndex:d,type:u,subtype:p,title:m,duration:h,context:y,imageWidth:v,imageHeight:f,imageUrl:b,isPlaying:I,isPlayerPaused:S,hasOfflineFile:M,hasOwnSubscription:E,showAvailableOffline:P,source:D,ratingKey:C,onPlayPress:w}=e,Z=U4(u,y,{providerEntityID:l,subtype:p});return g.createElement("div",{className:t},g.createElement("div",{className:n},I?null:g.createElement(s3,{className:"PlaylistItemMetadata-transientTitleLeft-2fP-D6 PlaylistItemMetadata-transientTitle-1aog4C",index:d+1}),I?null:g.createElement(Xx.Z,{className:"PlaylistItemMetadata-playButton-zaez9Y PlayButton-playButton-2dFmuo PlaylistItemMetadata-button-3RJWpM",title:m,onPress:w}),I?g.createElement(aM,{className:"PlaylistItemMetadata-equalizer-1pAcHU EqualizerIcon-equalizer-u2_y9X",isPaused:S}):null),g.createElement("div",{className:"PlaylistItemMetadata-cardContainer-2v91Lj"},g.createElement(Rx.Z,{key:c,className:"PlaylistItemMetadata-card-FOgMoU QuickSearchMetadataPosterCard-card-oRXsxj MetadataPosterButtonCard-card-3uptBn",serverEntityID:o,providerEntityID:l,component:zx.Z,width:v,height:f,url:b})),g.createElement("div",{className:r,"data-qa-id":"playlistTitleContainer"},Z.map(((e,t)=>g.createElement(m1,{key:t,serverEntityID:o,providerEntityID:l,metadataItemEntityID:c,component:e,isSecondary:t>0})))),P?g.createElement("div",{className:s},g.createElement(i3.Z,{className:"PlaylistItemMetadata-downloadIcon-Ve8P-F DownloadIcon-downloadIcon-14Rs3Q PlexIcon-plexIcon-2sd7AW",size:16,arrowSize:16,lineWidth:1.5,source:D,ratingKey:C,hasOfflineFile:M,hasOwnSubscription:E})):null,P?g.createElement(a3.Z,{metadataItemEntityID:c,providerEntityID:l}):null,g.createElement(r3,{className:s,textClassName:i,serverEntityID:o,metadataItemEntityID:c}),h?g.createElement("div",{className:a},g.createElement(o3,{className:"PlaylistItemMetadata-transientTitleRight-YqkIA8 PlaylistItemMetadata-transientTitle-1aog4C",duration:h})):null)}l3.defaultProps={className:"PlaylistItemMetadata-container-1f8VgC",indexContainerClassName:"PlaylistItemMetadata-indexContainer-1vXczr",titlesContainerClassName:"PlaylistItemMetadata-titlesContainer-1hRklJ",durationContainerClassName:"PlaylistItemMetadata-durationContainer-1nYSjh",attributionContainerClassName:"PlaylistItemMetadata-attributionContainer-1lzcjG SourceBadge-container-2qG-GJ"};const c3=l3;var d3=Object.defineProperty,u3=Object.prototype.hasOwnProperty,p3=Object.getOwnPropertySymbols,m3=Object.prototype.propertyIsEnumerable,h3=(e,t,n)=>t in e?d3(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,g3=(e,t)=>{for(var n in t||(t={}))u3.call(t,n)&&h3(e,n,t[n]);if(p3)for(var n of p3(t))m3.call(t,n)&&h3(e,n,t[n]);return e};const y3=(0,oC.Z)((function(){return(0,fe.P1)((0,xx.Z)(),(0,W2.Z)(),(0,Y2.Z)(),(e=>e.ui.audioVideoPlayer.isPaused),((e={},t,n,r)=>{const i=kx.zg,a=(0,Ux.n3)(e.type,e.subtype,i)===Ux.oz?64:36,s=(0,o1.Z)(a,null,e.type,e.subtype,e,i),o=!(!e.ratingKey||!t)&&ae.Z.allowSyncDownload;return{serverEntityID:e.serverEntityID,providerEntityID:e.providerEntityID,type:e.type,subtype:e.subtype,metadataKey:e.key,duration:e.duration,ratingKey:e.ratingKey,context:i,imageWidth:s.width,imageHeight:s.height,imageUrl:s.url,isPlaying:n,isPlayerPaused:r,source:t,title:e.title,hasOfflineFile:(0,K2.Z)(e),hasOwnSubscription:(0,q2.Z)(e),showAvailableOffline:o}}))}),(function(e,t){const n={serverEntityID:t.serverEntityID,providerEntityID:t.providerEntityID,metadataItemEntityID:t.metadataItemEntityID,metricsPage:t.metricsPage,metricsProperties:{context:t.metricsContext}};return{onPlayPress(){e((0,vt.wA)(g3(g3({},n),{playlistMetadataItemEntityID:t.metadataListEntityID})))}}}))(c3);class v3 extends g.Component{constructor(e,t){super(e,t),this.onActionsMenuOpenChange=e=>{this.setState({isActionsMenuOpen:e})},this.state={isActionsMenuOpen:!1}}render(){const{serverEntityID:e,itemServerEntityID:t,providerEntityID:n,itemProviderEntityID:r,metadataItemEntityID:i,metadataListEntityID:a,metadataKey:s,listType:o,title:l,isSmart:c,isReadOnly:d,isSelected:u,isEmbeddedServer:p,hasActiveSelection:m,isOtherItemSelected:h,isModifierKeyPressed:y,cellIndex:v,isDragging:f,connectDragSource:b,onRemovePress:I,onSelectPress:S,onDeselectPress:M}=this.props,E=!(c||d||p),P=E&&(y||h),D=m?"-1":"0";return g.createElement("div",{className:Te()(v%2?"PlaylistItemRow-alternateContainer-PgN-XN PlaylistItemRow-container-3HxFv1":"PlaylistItemRow-container-3HxFv1",m&&"PlaylistItemRow-hasActiveSelection-38RLJw",P&&"PlaylistItemRow-isForcingSelection-3xkQQu",u&&"PlaylistItemRow-isSelected-3NKyPz",f&&"PlaylistItemRow-isItemDragging-1shkqZ")},E?g.createElement(pw.Z,{className:"PlaylistItemRow-underlay-2d_aCx","aria-label":u?(0,Ce.Z)("Deselect {title}",{title:l}):(0,Ce.Z)("Select {title}",{title:l}),tabIndex:m?"0":"-1",onPress:u?M:S}):null,g.createElement("div",{className:"PlaylistItemRow-overlay-2NhQb-","data-qa-id":"playlistItem"},E?b(g.createElement("div",{className:"PlaylistItemRow-moveControl-2V4bCc","data-qa-id":"playlistReorderItem"},g.createElement(PB,{className:"PlaylistItemRow-grabIcon-3bI_5P"}))):null,g.createElement(y3,{className:"PlaylistItemRow-metadataContainer-3PEE5a PlaylistItemMetadata-container-1f8VgC",sourceTextClassName:"PlaylistItemRow-sourceText-3BTWjv",durationContainerClassName:"PlaylistItemRow-metadataDurationContainer-1216RE PlaylistItemMetadata-durationContainer-1nYSjh",attributionContainerClassName:"PlaylistItemRow-attributionContainer-1tnPZQ PlaylistItemMetadata-attributionContainer-1lzcjG SourceBadge-container-2qG-GJ",serverEntityID:e,itemServerEntityID:t,providerEntityID:n,itemProviderEntityID:r,metadataItemEntityID:i,metadataListEntityID:a,metadataKey:s,listType:o,cellIndex:v}),g.createElement("div",{className:"PlaylistItemRow-otherControls-15EPTg"},E?g.createElement(uQ.Z,{className:"PlaylistItemRow-selectButton-10onwm SelectButton-selectButton-Yy19xn PlaylistItemRow-button-FNfiLy",title:l,isSelected:u,onPress:u?M:S}):null,g.createElement(G2.Z,{"data-qa-id":"metadataRowMoreButton",className:"PlaylistItemRow-moreButton-uN_crn IconButton-button-llQ1So",tabIndex:D,serverEntityID:e,itemServerEntityID:t,providerEntityID:n,itemProviderEntityID:r,metadataItemEntityID:i,containerKey:s,listType:o,showPlay:!1,showQueuePlexMix:!1,showEdit:!1,isMenuOpen:this.state.isActionsMenuOpen,onMenuOpenChange:this.onActionsMenuOpenChange}),E?g.createElement(Lx.Z,{className:"PlaylistItemRow-removeButton-Y9iy8D IconButton-button-llQ1So","data-qa-id":"playlistRemoveButton",iconComponent:cu.Z,title:(0,Ce.Z)("Remove"),kind:ic.T,onPress:I}):null)))}}v3.defaultProps={isDragging:!1,connectDragSource:e=>e};const f3=v3,b3=(0,v.$j)((function(e,t){return(0,fe.P1)(((e,{playlistItemEntityID:t})=>t),_2(),H2(),(0,Yz.Z)(),sQ,FH.Z,((e,{playlistItemID:t},n,r,i,a)=>({itemServerEntityID:n.serverEntityID,itemProviderEntityID:n.providerEntityID,metadataItemEntityID:n.entityID,metadataKey:n.key,title:n.title,selectionID:e,selectionType:n.type,activeSelectionType:a.activeSelectionType,isSelected:cQ(i,t),isEmbeddedServer:r})))}),(function(e,t){const n={playlistItemEntityID:t.playlistItemEntityID};return{onSelectItem(t){e(gX(t))},onDeselectItem(t){e(yX(t))},onRemovePress(){e(fX(n))}}}))((0,Q2.Z)(f3));var I3=Object.defineProperty,S3=Object.prototype.hasOwnProperty,M3=Object.getOwnPropertySymbols,E3=Object.prototype.propertyIsEnumerable,P3=(e,t,n)=>t in e?I3(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;class D3 extends g.Component{shouldComponentUpdate(e,t){return(0,At.Z)(this,e,t)}render(){const{item:e,itemType:t,currentOffset:n}=this.props;if(!n||t!==gB)return null;const r=F2(n,e.viewportWidth);return g.createElement(pB,null,g.createElement("div",{className:"PlaylistItemDragPreview-dragPreview-3_VVQH",style:r},g.createElement(b3,((e,t)=>{for(var n in t||(t={}))S3.call(t,n)&&P3(e,n,t[n]);if(M3)for(var n of M3(t))E3.call(t,n)&&P3(e,n,t[n]);return e})({isDragging:!0},e))))}}const C3=(0,aB.rE)((function(e){return{item:e.getItem(),itemType:e.getItemType(),currentOffset:e.getSourceClientOffset()}}))(D3);var w3=Object.defineProperty,Z3=Object.prototype.hasOwnProperty,T3=Object.getOwnPropertySymbols,N3=Object.prototype.propertyIsEnumerable,O3=(e,t,n)=>t in e?w3(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const A3={beginDrag(e){const{providerEntityID:t,serverEntityID:n,metadataListEntityID:r,playlistItemEntityID:i,cellIndex:a,isSmart:s,isReadOnly:o,listType:l,viewportWidth:c}=e;return{providerEntityID:t,serverEntityID:n,metadataListEntityID:r,playlistItemEntityID:i,cellIndex:a,isSmart:s,isReadOnly:o,listType:l,viewportWidth:c}},endDrag(e,t,n){e.onItemDragEnd(t.getItem(),t.didDrop())}},x3={hover(e,t,n){const r=(0,y.findDOMNode)(n).getBoundingClientRect(),i=(r.bottom-r.top)/2,a=t.getClientOffset().y-r.top,s=e.cellIndex,o=a>i?s+1:s;e.onItemDragMove(o)}};class j3 extends g.Component{componentDidMount(){this.props.connectDragPreview((0,qB.rX)())}shouldComponentUpdate(e,t){return(0,At.Z)(this,e,t)}render(){const{moveIndex:e,cellIndex:t,isOver:n,isDragging:r,connectDropTarget:i}=this.props,a=n&&e===t,s=n&&e===t+1;return i(g.createElement("div",{className:Te()("PlaylistItemDragSource-container-7dyenh",r&&lr.fN,a&&n&&lr.DT,s&&n&&lr.QZ)},g.createElement(b3,((e,t)=>{for(var n in t||(t={}))Z3.call(t,n)&&O3(e,n,t[n]);if(T3)for(var n of T3(t))N3.call(t,n)&&O3(e,n,t[n]);return e})({},this.props))))}}const L3=(0,aB.GR)(gB,x3,(function(e,t){return{connectDropTarget:e.dropTarget(),isOver:t.isOver()}}))((0,aB.Ej)(gB,A3,(function(e,t){return{connectDragPreview:e.dragPreview(),connectDragSource:e.dragSource(),isDragging:t.isDragging()}}))(j3)),k3=function(e){return g.createElement("div",{className:e.cellIndex%2?"PlaylistItemLoading-alternateContainer-uW7Ae_ PlaylistItemLoading-container-3g2IfE":"PlaylistItemLoading-container-3g2IfE"},(0,Ce.Z)("Loading..."))};var R3=Object.defineProperty,z3=Object.prototype.hasOwnProperty,U3=Object.getOwnPropertySymbols,V3=Object.prototype.propertyIsEnumerable,B3=(e,t,n)=>t in e?R3(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const F3=(0,g.memo)((function(e){const t=e,{cellIndex:n,playlistItemEntityID:r,isSmart:i,isReadOnly:a}=t,s=((e,t)=>{var n={};for(var r in e)z3.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&U3)for(var r of U3(e))t.indexOf(r)<0&&V3.call(e,r)&&(n[r]=e[r]);return n})(t,["cellIndex","playlistItemEntityID","isSmart","isReadOnly"]),o=(0,Ax.Z)(e),l=i||a?b3:L3;return g.createElement("div",{style:o.style},r?g.createElement(l,((e,t)=>{for(var n in t||(t={}))z3.call(t,n)&&B3(e,n,t[n]);if(U3)for(var n of U3(t))V3.call(t,n)&&B3(e,n,t[n]);return e})({playlistItemEntityID:r,cellIndex:n,isSmart:i,isReadOnly:a},s)):g.createElement(k3,{cellIndex:n}))}));var _3=Object.defineProperty,H3=Object.prototype.hasOwnProperty,Q3=Object.getOwnPropertySymbols,G3=Object.prototype.propertyIsEnumerable,W3=(e,t,n)=>t in e?_3(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Y3=(e,t)=>{for(var n in t||(t={}))H3.call(t,n)&&W3(e,n,t[n]);if(Q3)for(var n of Q3(t))G3.call(t,n)&&W3(e,n,t[n]);return e};class K3 extends g.Component{constructor(e,t){super(e,t),this.onItemDragMove=e=>{e!==this.state.moveIndex&&this.setState({moveIndex:e})},this.onItemDragEnd=(e,t)=>{const{moveIndex:n}=this.state;t&&null!=n&&(0,fn.c9)((()=>{this.props.dispatchMovePlaylistItem(Y3(Y3({},e),{moveIndex:n}))})),this.setState({moveIndex:null})},this.state={moveIndex:null}}_getItemCountLabel(){return z2(this.props.playlistType,this.props.size)}render(){const e=this.props,{serverEntityID:t,providerEntityID:n,metadataItemEntityID:r,metadataKey:i,playlistType:a,contentWidth:s,contentHeight:o,scrollTop:l,items:c,isSmart:d,isReadOnly:u,size:p,duration:m,onEditFilters:h}=e,y=((e,t)=>{var n={};for(var r in e)H3.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&Q3)for(var r of Q3(e))t.indexOf(r)<0&&G3.call(e,r)&&(n[r]=e[r]);return n})(e,["serverEntityID","providerEntityID","metadataItemEntityID","metadataKey","playlistType","contentWidth","contentHeight","scrollTop","items","isSmart","isReadOnly","size","duration","onEditFilters"]),v={serverEntityID:t,providerEntityID:n,metadataListEntityID:r,metadataKey:i,listType:a,activeSort:"titleSort",isSmart:d,isReadOnly:u,showLink:!1,showPlayIndex:!1,showPlayCellIndex:!0,showActionsDuration:!0,onItemDragMove:this.onItemDragMove,onItemDragEnd:this.onItemDragEnd,moveIndex:this.state.moveIndex};if(0===p)return g.createElement("div",null,a===Al.pX?(0,Ce.Z)("This playlist has no videos."):(0,Ce.Z)("This playlist has no tracks."));const f=d&&!u;return g.createElement("div",null,g.createElement(_0,{className:"PlaylistItemTable-header-3ubzi- HubCellHeader-hubCellHeader-G-yd6D"},g.createElement(Q0,null,this._getItemCountLabel(),f?g.createElement(pw.Z,{className:"PlaylistItemTable-editLink-pp9l9G",kind:ic._8,onPress:h},(0,Ce.Z)("Edit filters")):null),m?g.createElement("span",{className:"PlaylistItemTable-durationTitle-1C4v1X"},Ui(m)):null),g.createElement($0,null),g.createElement(dQ.Z,Y3({layout:B2,containerKey:i,keyPropName:"playlistItemEntityID",cellRenderer:BQ(v,F3),items:c,size:p,viewportWidth:s,viewportHeight:o,scrollTop:l,firstItemType:a,listType:a,moveIndex:this.state.moveIndex},y)),g.createElement(Y0,null),d||u?null:g.createElement(C3,{serverEntityID:t,providerEntityID:n}))}}const q3=DH(K3);var $3=Object.defineProperty,J3=Object.prototype.hasOwnProperty,X3=Object.getOwnPropertySymbols,e5=Object.prototype.propertyIsEnumerable,t5=(e,t,n)=>t in e?$3(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,n5=(e,t)=>{for(var n in t||(t={}))J3.call(t,n)&&t5(e,n,t[n]);if(X3)for(var n of X3(t))e5.call(t,n)&&t5(e,n,t[n]);return e};class r5 extends g.Component{constructor(e,t){super(e,t),this.onItemDragMove=e=>{e!==this.state.moveIndex&&this.setState({moveIndex:e})},this.onItemDragEnd=(e,t)=>{const{moveIndex:n}=this.state;t&&null!==n&&this.props.onItemDropped(n5(n5({},e),{moveIndex:n})),this.setState({moveIndex:null})},this.state={moveIndex:null}}render(){const e=this.props,{showPreview:t,createCellRenderer:n,listComponent:r,previewComponent:i}=e,a=((e,t)=>{var n={};for(var r in e)J3.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&X3)for(var r of X3(e))t.indexOf(r)<0&&e5.call(e,r)&&(n[r]=e[r]);return n})(e,["showPreview","createCellRenderer","listComponent","previewComponent"]),s={onItemDragMove:this.onItemDragMove,onItemDragEnd:this.onItemDragEnd};return g.createElement(r,n5({moveIndex:this.state.moveIndex,cellRenderer:n(s)},a),t?g.createElement(i,n5({},a)):null)}}const i5=DH(r5);var a5=n(77199);class s5 extends g.Component{constructor(){super(...arguments),this.onPlayPress=()=>{this.props.onPlayPress(this.props.metadataItemEntityID)},this.onEditPress=()=>{this.props.onEditPress(this.props.metadataItemEntityID)}}render(){const{serverEntityID:e,providerEntityID:t,itemServerEntityID:n,itemProviderEntityID:r,metadataItemEntityID:i,playlistItemID:a,metadataKey:s,type:o,thumb:l,title:c,width:d,height:u,hasActiveSelection:p,isSelected:m,isOtherItemSelected:h,isModifierKeyPressed:y,isDragging:v,isSmart:f,isExternal:b,canDrag:I,connectDragSource:S,onSelectPress:M,onDeselectPress:E,onRemovePress:P}=this.props,D=o===Ac.CLIP,C=!s;return S(g.createElement("div",{className:"PlaylistPhotoItem-photoContainer-2BwjMR MetadataPhotoCell-photoContainer-3x1j-I"},g.createElement("div",{className:Te()("PlaylistPhotoItem-photo-3hyRJ4 MetadataPhotoCell-photo-2k-z8S MetadataPosterCardFace-face-3oaw1P MetadataPosterCardFace-poster-11uR3N",m&&"PlaylistPhotoItem-isSelected-RdDXB3 MetadataPosterCardFace-isSelected-2dld-q")},g.createElement("div",{className:"PlaylistPhotoItem-image-3IuzlE MetadataPhotoCell-image-2NZnEq"},C?null:g.createElement(Rx.Z,{key:a||s,serverEntityID:n,providerEntityID:r,component:zx.Z,url:l,width:d,height:u}),g.createElement(a5.Z,{serverEntityID:e,providerEntityID:t,itemServerEntityID:n,itemProviderEntityID:r,metadataItemEntityID:i,title:c,showPlay:!0,showEdit:!b,showSelect:!f,showRemove:!f,hasActiveSelection:p,isSelected:m,isOtherItemSelected:h,isModifierKeyPressed:y,isDragging:v,canDrag:I,onPlayPress:this.onPlayPress,onEditPress:this.onEditPress,onSelectPress:M,onDeselectPress:E,onRemovePress:P}),D?g.createElement("div",{className:"PlaylistPhotoItem-badge-3S9xL8 MetadataPhotoCell-badge-28uFUQ"},g.createElement(Ly.Z,null)):null))))}}s5.defaultProps={connectDragSource:e=>e};const o5=s5;var l5=Object.defineProperty,c5=Object.prototype.hasOwnProperty,d5=Object.getOwnPropertySymbols,u5=Object.prototype.propertyIsEnumerable,p5=(e,t,n)=>t in e?l5(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,m5=(e,t)=>{for(var n in t||(t={}))c5.call(t,n)&&p5(e,n,t[n]);if(d5)for(var n of d5(t))u5.call(t,n)&&p5(e,n,t[n]);return e};const h5="VERTICAL";function g5(e,t){return{connectDragPreview:e.dragPreview(),connectDragSource:e.dragSource(),isDragging:t.isDragging()}}function y5(e,t){return{connectDropTarget:e.dropTarget(),isOver:t.isOver()}}class v5 extends g.Component{componentDidMount(){this.props.connectDragPreview((0,qB.rX)())}shouldComponentUpdate(e,t){return(0,At.Z)(this,e,t)}render(){const e=this.props,{dragClassName:t,indexPropName:n,moveIndex:r,isDragging:i,isOver:a,connectDropTarget:s,connectDragSource:o,connectDragPreview:l,itemComponent:c}=e,d=((e,t)=>{var n={};for(var r in e)c5.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&d5)for(var r of d5(e))t.indexOf(r)<0&&u5.call(e,r)&&(n[r]=e[r]);return n})(e,["dragClassName","indexPropName","moveIndex","isDragging","isOver","connectDropTarget","connectDragSource","connectDragPreview","itemComponent"]),u=this.props[n],p=a&&r===u,m=a&&r===u+1;return s(g.createElement("div",{className:Te()(t,i&&lr.fN,p&&a&&lr.DT,m&&a&&lr.QZ)},g.createElement(c,m5({connectDragSource:o,canDrag:!0,isDragging:i},d))))}}const f5=function({itemComponent:e,dragClassName:t,dragType:n,direction:r=h5,idAttribute:i,indexPropName:a}){return(0,aB.GR)(n,function({direction:e,indexPropName:t}){return{hover(n,r,i){const a=(0,y.findDOMNode)(i).getBoundingClientRect(),s=(a.right-a.left)/2,o=(a.bottom-a.top)/2,l=r.getClientOffset(),c=l.x-a.left,d=l.y-a.top,u=n[t],p=(e===h5?d>o:c>s)?u+1:u;n.onItemDragMove(p)}}}({direction:r,indexPropName:a}),y5)((0,aB.Ej)(n,function({idAttribute:e}){return{beginDrag:t=>({[e]:t[e]}),endDrag(e,t,n){e.onItemDragEnd(t.getItem(),t.didDrop())}}}({idAttribute:i}),g5)((s={itemComponent:e,indexPropName:a,dragClassName:t},e=>g.createElement(v5,m5(m5({},s),e)))));var s}({itemComponent:o5,indexPropName:"cellIndex",direction:"HORIZONTAL",idAttribute:"playlistItemEntityID",dragType:"ALBUM_ITEM",dragClassName:"PlaylistPhotoSortableItem-draggable-207j02"});var b5=Object.defineProperty,I5=Object.prototype.hasOwnProperty,S5=Object.getOwnPropertySymbols,M5=Object.prototype.propertyIsEnumerable,E5=(e,t,n)=>t in e?b5(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const P5=parseInt(ng.Z.mosaicCellPadding,10);var D5=Object.defineProperty,C5=Object.prototype.hasOwnProperty,w5=Object.getOwnPropertySymbols,Z5=Object.prototype.propertyIsEnumerable,T5=(e,t,n)=>t in e?D5(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,N5=(e,t)=>{for(var n in t||(t={}))C5.call(t,n)&&T5(e,n,t[n]);if(w5)for(var n of w5(t))Z5.call(t,n)&&T5(e,n,t[n]);return e};const O5=(0,oC.Z)((function(){return(0,fe.P1)(((e,{playlistItemEntityID:t})=>t),_2(),H2(),sQ,FH.Z,((e,{playlistItemID:t},n={},r,i)=>{const{serverEntityID:a,providerEntityID:s,entityID:o,key:l,source:c,type:d,thumb:u,title:p}=n;return{listType:Al.pV,playlistItemID:t,itemServerEntityID:a,itemProviderEntityID:s,metadataItemEntityID:o,metadataKey:l,isExternal:!!c,type:d,thumb:u,title:p,selectionID:e,selectionType:Al.pV,activeSelectionType:i.activeSelectionType,isSelected:cQ(r,t)}}))}),(function(e,t){const n={serverEntityID:t.serverEntityID,providerEntityID:t.providerEntityID,metricsPage:t.metricsPage,metricsProperties:{context:t.metricsContext}};return{onPlayPress(r){e((0,vt.wA)(N5(N5({},n),{playlistMetadataItemEntityID:t.playlistMetadataItemEntityID,metadataItemEntityID:r})))},onEditPress(t){e((0,Nl.editMetadataItem)(N5(N5({},n),{metadataItemEntityID:t})))},onRemovePress(){t.onRemoveItem({playlistItemEntityID:t.playlistItemEntityID})}}}))((0,Q2.Z)((function(e){const t=e,{cellX:n,cellY:r,cellWidth:i,cellHeight:a,isSmart:s}=t,o=((e,t)=>{var n={};for(var r in e)I5.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&S5)for(var r of S5(e))t.indexOf(r)<0&&M5.call(e,r)&&(n[r]=e[r]);return n})(t,["cellX","cellY","cellWidth","cellHeight","isSmart"]),l=(0,Ax.Z)(e),c=s?o5:f5,d=i-2*P5,u=a-2*P5;return g.createElement("div",{style:l.style},g.createElement(c,((e,t)=>{for(var n in t||(t={}))I5.call(t,n)&&E5(e,n,t[n]);if(S5)for(var n of S5(t))M5.call(t,n)&&E5(e,n,t[n]);return e})({width:d,height:u,isSmart:s},o)))}))),A5=(0,v.$j)(null,(function(e){return{onSelectItem(t){e(gX(t))},onDeselectItem(t){e(yX(t))},onRemoveItem(t){e(fX(t))}}}))(O5),x5=100,j5=(0,v.$j)((function(){return(0,fe.P1)(((e,{playlistItemEntityID:t})=>t),lX,sx.Z,((e,t,n)=>{const r=n[t[e].metadataItem],i=Math.min(Math.max(iQ(r),.5),2),a=i>1;return{width:a?x5*i:x5,height:a?x5:x5/i,thumb:r.thumb}}))}))((function(e){const{width:t,height:n}=e;return g.createElement(xt.Z,{serverEntityID:e.serverEntityID,url:e.thumb,width:t,height:n,component:Ot.Z})}));var L5=Object.defineProperty,k5=Object.prototype.hasOwnProperty,R5=Object.getOwnPropertySymbols,z5=Object.prototype.propertyIsEnumerable,U5=(e,t,n)=>t in e?L5(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,V5=(e,t)=>{for(var n in t||(t={}))k5.call(t,n)&&U5(e,n,t[n]);if(R5)for(var n of R5(t))z5.call(t,n)&&U5(e,n,t[n]);return e};class B5 extends g.Component{render(){const{item:e,currentOffset:t,serverEntityID:n}=this.props;if(!t||!e)return null;const r=V5(V5({},F2(t)),{display:"inline-block",width:"auto"});return g.createElement(pB,null,g.createElement("div",{className:"PlaylistPhotoDragPreview-dragPreview-2OIfzH",style:r},g.createElement(j5,{serverEntityID:n,playlistItemEntityID:e.playlistItemEntityID})))}}const F5=(0,aB.rE)((function(e){return{item:e.getItem(),itemType:e.getItemType(),currentOffset:e.getClientOffset()}}))(B5);var _5=Object.defineProperty,H5=Object.prototype.hasOwnProperty,Q5=Object.getOwnPropertySymbols,G5=Object.prototype.propertyIsEnumerable,W5=(e,t,n)=>t in e?_5(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Y5=(e,t)=>{for(var n in t||(t={}))H5.call(t,n)&&W5(e,n,t[n]);if(Q5)for(var n of Q5(t))G5.call(t,n)&&W5(e,n,t[n]);return e};class K5 extends g.Component{constructor(){super(...arguments),this.createCellRenderer=e=>{const{serverEntityID:t,providerEntityID:n,playlistMetadataItemEntityID:r,playlistRatingKey:i,isSmart:a,listType:s}=this.props;return BQ(Y5({serverEntityID:t,providerEntityID:n,playlistMetadataItemEntityID:r,ratingKey:i,listType:s,isSmart:a},e),A5)}}render(){const e=this.props,{isSmart:t,onItemDropped:n}=e,r=((e,t)=>{var n={};for(var r in e)H5.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&Q5)for(var r of Q5(e))t.indexOf(r)<0&&G5.call(e,r)&&(n[r]=e[r]);return n})(e,["isSmart","onItemDropped"]);return g.createElement(i5,Y5({showPreview:!t,listComponent:i1,previewComponent:F5,createCellRenderer:this.createCellRenderer,onItemDropped:n},r))}}const q5=K5,$5={onItemDropped:vX},J5=(0,v.$j)((function(){return(0,fe.P1)(((e,{items:t})=>t),((e,{serverEntityID:t})=>t),((e,{providerEntityID:t})=>t),(0,xx.Z)(),lX,sx.Z,((e=[],t,n,r,i,a)=>{const s=e.map((e=>{const t=i[e];return iQ(a[t.metadataItem])}));return{listType:r.playlistType,aspectRatios:s,playlistMetadataItemEntityID:r.entityID,playlistRatingKey:r.ratingKey,isSmart:!!r.smart,isReadOnly:!!r.readOnly}}))}),$5)(q5),X5="PlaylistItemList-emptyMessage-1BjFqA PlaylistItemList-emptyContainer-kb95PC";var e6=Object.defineProperty,t6=Object.prototype.hasOwnProperty,n6=Object.getOwnPropertySymbols,r6=Object.prototype.propertyIsEnumerable,i6=(e,t,n)=>t in e?e6(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,a6=(e,t)=>{for(var n in t||(t={}))t6.call(t,n)&&i6(e,n,t[n]);if(n6)for(var n of n6(t))r6.call(t,n)&&i6(e,n,t[n]);return e};const s6=function(e){const t=e,{contentHeight:n,scrollTop:r,showArtwork:i,showSpinner:a,showError:s,listType:o,isEmpty:l}=t,c=((e,t)=>{var n={};for(var r in e)t6.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&n6)for(var r of n6(e))t.indexOf(r)<0&&r6.call(e,r)&&(n[r]=e[r]);return n})(t,["contentHeight","scrollTop","showArtwork","showSpinner","showError","listType","isEmpty"]);return a?g.createElement("div",{className:"PlaylistItemList-emptyContainer-kb95PC"},g.createElement(Mx.Z,null)):s?g.createElement("div",{className:X5},(0,Ce.Z)("Unable to load items")):l?g.createElement("div",{className:X5},o===Al.pV?(0,Ce.Z)("There are no items in this album"):(0,Ce.Z)("There are no items in this playlist")):g.createElement(q0,{showArtwork:i,contentHeight:n,scrollTop:r},o===Al.pV?g.createElement(J5,a6({},c)):g.createElement(q3,a6({},c)))};var o6=Object.defineProperty,l6=Object.prototype.hasOwnProperty,c6=Object.getOwnPropertySymbols,d6=Object.prototype.propertyIsEnumerable,u6=(e,t,n)=>t in e?o6(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,p6=(e,t)=>{for(var n in t||(t={}))l6.call(t,n)&&u6(e,n,t[n]);if(c6)for(var n of c6(t))d6.call(t,n)&&u6(e,n,t[n]);return e};const m6={dispatchInitPlaylistItemList:dX,dispatchResetPlaylistItemList:uX,dispatchPopulatePlaylistItemRange:mX,dispatchDeselectAllPlaylistItems:nf.mD,dispatchMovePlaylistItem:vX,dispatchEditFilters:Nl.modifySmartPlaylist};class h6 extends g.Component{constructor(){super(...arguments),this.onPageRequest=({startIndex:e,endIndex:t})=>{const n=Fo.wB(this.props.providerIdentifier,Fo.xF);this.props.dispatchPopulatePlaylistItemRange({pages:n?1:void 0,startIndex:e,endIndex:t})},this.onEditFilters=()=>{this.props.dispatchEditFilters({serverEntityID:this.props.serverEntityID,providerEntityID:this.props.providerEntityID,metadataItemEntityID:this.props.metadataItemEntityID})}}componentDidMount(){this._populate()}componentDidUpdate(e){this.props.metadataKey!==e.metadataKey&&this._populate()}componentWillUnmount(){this.props.dispatchDeselectAllPlaylistItems(),this.props.dispatchResetPlaylistItemList()}_populate(){const{serverEntityID:e,providerEntityID:t,metadataKey:n,providerIdentifier:r,dispatchInitPlaylistItemList:i,dispatchPopulatePlaylistItemRange:a}=this.props;i({serverEntityID:e,providerEntityID:t,metadataKey:n}),a({pages:Fo.wB(r,Fo.xF)?1:void 0,startIndex:0,endIndex:39})}render(){const e=this.props,{dispatchInitPlaylistItemList:t,dispatchPopulatePlaylistItemRange:n,dispatchDeselectAllPlaylistItems:r,dispatchEditFilters:i}=e,a=((e,t)=>{var n={};for(var r in e)l6.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&c6)for(var r of c6(e))t.indexOf(r)<0&&d6.call(e,r)&&(n[r]=e[r]);return n})(e,["dispatchInitPlaylistItemList","dispatchPopulatePlaylistItemRange","dispatchDeselectAllPlaylistItems","dispatchEditFilters"]);return g.createElement(s6,p6(p6({},a),{onEditFilters:this.onEditFilters,onPageRequest:this.onPageRequest}))}}const g6=(0,v.$j)((function(e,t){return(0,fe.P1)((e=>e.ui.playlistPage),(0,xx.Z)(),_x.Z,((e,t,n)=>{const{serverEntityID:r,providerEntityID:i,metadataKey:a,playlistItemList:s={},isPlaylistItemListPending:o,isPlaylistItemListPopulated:l,playlistItemListError:c}=e,{ratingKey:d,playlistType:u,smart:p,readOnly:m,duration:h}=t,{metadataItems:g=[],populatedRange:y={},totalSize:v}=s;return{serverEntityID:r,providerEntityID:i,metadataKey:a,ratingKey:d,providerIdentifier:n.identifier,listType:u,keyPropName:"playlistItemEntityID",isSmart:!!p,isReadOnly:!!m,populatedRange:y,items:g,size:v,itemsOffset:y.start,duration:h,isEmpty:l&&!v,showArtwork:!1,showSpinner:o&&!l,showError:c}}))}),m6)(h6);class y6 extends g.Component{constructor(e,t){super(e,t),this.onContentMeasure=({width:e,height:t})=>{this.setState({isContentMeasured:!0,contentWidth:e,contentHeight:t})},this.state={isContentMeasured:!1,contentWidth:null,contentHeight:null}}shouldComponentUpdate(e,t){return(0,At.Z)(this,e,t)}render(){const{serverEntityID:e,providerEntityID:t,metadataItemEntityID:n,metadataKey:r,title:i,type:a,playlistType:s,summary:o,composite:l,thumb:c,pageWidth:d,pageHeight:u,scrollTop:p,columnAdjustment:m}=this.props,{contentWidth:h,contentHeight:y,isContentMeasured:v}=this.state;return g.createElement(bx.Z,{ignorePosition:!0,onMeasure:this.onContentMeasure},g.createElement(R2,{serverEntityID:e,providerEntityID:t,metadataItemEntityID:n,showPoster:s!==Al.pV,metadataKey:r,type:a,thumb:c||l,pageWidth:d,columnAdjustment:m},g.createElement(D0,null,g.createElement(E2,null,i)),g.createElement(E0,null),o?g.createElement(D0,null,g.createElement(V0,null,o)):null),g.createElement(w0,null,v?g.createElement(g6,{serverEntityID:e,providerEntityID:t,metadataItemEntityID:n,playlistType:s,contentHeight:y,viewportWidth:h,viewportHeight:u,scrollTop:p}):null))}}const v6=y6;var f6=Object.defineProperty,b6=Object.prototype.hasOwnProperty,I6=Object.getOwnPropertySymbols,S6=Object.prototype.propertyIsEnumerable,M6=(e,t,n)=>t in e?f6(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const E6={photoalbum:Z2,playlist:v6};class P6 extends g.Component{componentDidMount(){this.props.onLibraryChange(this.props.providerIdentifier,this.props.librarySectionID),this.props.onBackgroundChange(this.props.backgroundImageUrl,!!this.props.art),this.props.onThemeMusicChange(this.props.theme),this.props.isRemotePlayer&&this.props.onMirrorDetails()}componentDidUpdate(e){const{librarySectionID:t,providerIdentifier:n,backgroundImageUrl:r,art:i,theme:a,isRemotePlayer:s,onLibraryChange:o,onBackgroundChange:l,onThemeMusicChange:c,onMirrorDetails:d}=this.props;t!==e.librarySectionID&&o(n,t),e.backgroundImageUrl!==r&&l(r,!!i),e.theme!==a&&c(a),!e.isRemotePlayer&&s&&d()}componentWillUnmount(){this.props.onLibraryChange(null,null)}render(){const e=this.props,{providerIdentifier:t,providerMetricsIdentifier:n,type:r,subtype:i,art:a,listStyle:s,onBackgroundChange:o}=e,l=((e,t)=>{var n={};for(var r in e)b6.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&I6)for(var r of I6(e))t.indexOf(r)<0&&S6.call(e,r)&&(n[r]=e[r]);return n})(e,["providerIdentifier","providerMetricsIdentifier","type","subtype","art","listStyle","onBackgroundChange"]),c=function(e){return e?E6[e]||I0:b0}(r),d=r===Ac.GAME;return g.createElement(p0,{identifier:n,type:r,style:s,showArtwork:!!a},g.createElement(c,((e,t)=>{for(var n in t||(t={}))b6.call(t,n)&&M6(e,n,t[n]);if(I6)for(var n of I6(t))S6.call(t,n)&&M6(e,n,t[n]);return e})({type:r,subtype:i,art:a,listStyle:s,showGenres:!d,showStreams:!d},l)))}}function D6(e,t,n){if(n)switch(n){case kx.sD:switch(t){case"podcast":switch(e){case"track":return[EG]}break;case"webshow":switch(e){case"episode":return[EG]}}switch(e){case"track":return[MG]}break;case pt.$4:switch(e){case"track":return[MG]}break;case kx.Ap:return[CG]}switch(t){case"podcast":switch(e){case"show":return[IG,MG,PG];case"track":return[MG,EG]}}switch(e){case"movie":case"show":return[IG,MG,PG];case"season":return[IG,MG];case"episode":case"artist":case"album":return[IG,MG,PG];case"track":return[IG,MG];case"photo":case"photoalbum":return[SG];case"clip":return[IG,MG];case"collection":return[IG,PG];default:return[IG]}}function C6(e,t,n,r={}){return Fo.wB(r.identifier,Fo.Ll)?function(e,t,n){if(n)switch(n){case kx.sD:return[DG]}switch(e){case"show":case"episode":case"movie":return[IG]}return D6(e,t,n)}(e,t,n):D6(e,t,n)}function w6(e,t,n,r,i){if(!n)return;const a=C6(n,r,t,i);if(1===a.length)return a[0];let s;const o=bG(n,r);return e[t]&&(s=e[t][o]),s&&a.indexOf(s)>-1?s:a[0]}const Z6=WA(P6,(function(e){return{descendantKey:e.ui.prePlayPage.descendantKey}}),(function(e,t){e(VX({serverEntityID:t.serverEntityID,providerEntityID:t.providerEntityID,metadataItemEntityID:t.metadataItemEntityID,descendantKey:t.descendantKey}))})),T6=(0,oC.Z)((function(){return(0,fe.P1)(Tl.Z,ab.Z,(0,xx.Z)(),(0,fe.P1)((0,xx.Z)(),(e=>{if(!e||!e.childrenKey)return;const t=e.key,n=e.skipChildren?"grandchildren":"children";return E.Z.join([t,n])})),n0,t0,e0,r0(),(0,fe.P1)((0,ax.Z)(),(e=>!(!e||!e.isPopulated))),Mj,(0,Yz.Z)(),((e,t,n,r,i,a,s,o,l,c,d)=>{const{type:u,subtype:p}=n,m=(0,o1.G)(u,p,n,kx.sD),h=m||n.thumb||n.parentThumb||n.grandparentThumb,g=n.grandparentArt||n.parentArt||n.art,y=n.grandparentTheme||n.parentTheme||n.theme,v=i?g||h:h||g,f=w6(s,kx.sD,o,n.subtype,t),b=(0,xc.d)(e,t.features.actions.save);return{librarySectionID:n.librarySectionID,providerIdentifier:t.identifier,providerMetricsIdentifier:t.metricsIdentifier,metadataKey:n.key,descendantKey:r,attribution:n.attribution,attributionLogo:n.attributionLogo,title:n.title,type:n.type,subtype:n.subtype,year:n.year,contentRating:n.contentRating,minYear:n.minYear,maxYear:n.maxYear,summary:n.summary,showAddToSaved:b&&null!=n.saved,thumb:m,parentThumb:n.parentThumb,grandparentThumb:n.grandparentThumb,composite:n.composite,art:i?g:void 0,theme:a?y:void 0,backgroundImageUrl:v,playlistType:n.playlistType,isListReady:l,onDeckMetadataItemEntityID:n.onDeck,extrasMetadataListEntityID:n.extras,popularLeavesMetadataListEntityID:n.popularLeaves,listType:o,listStyle:f,isRemotePlayer:c,isEmbeddedServer:d,watchlistedAt:n.watchlistedAt}}))}),(function(e,t){return{onLibraryChange(n,r){let i;t.sourceDirectory&&(i=t.sourceDirectory.id),!i&&r&&(i=r),e((0,Sn.changeQuickSearchSettings)({serverEntityID:t.serverEntityID,providerEntityID:t.providerEntityID,providerIdentifier:n,directoryID:i}))},onBackgroundChange(n,r){e((0,Yn.ZZ)({serverEntityID:t.serverEntityID,providerEntityID:t.providerEntityID,imageUrl:n,allowBlur:!r}))},onThemeMusicChange(n){e((0,Yn.ZX)({serverEntityID:t.serverEntityID,providerEntityID:t.providerEntityID,theme:n}))},onMirrorDetails(){e(CL({serverEntityID:t.serverEntityID,providerEntityID:t.providerEntityID,metadataItemEntityID:t.metadataItemEntityID}))}}}))(Z6);class N6 extends g.Component{constructor(e,t){super(e,t),this.onScrollPositionChange=({scrollTop:e})=>{this.setState({scrollTop:e})},this.onContentMeasure=({width:e,height:t,y:n})=>{(e||t)&&this.setState({isMeasured:!0,pageWidth:e,pageHeight:t,pageY:n})},this.state={scrollTop:0,isMeasured:!1,pageWidth:0,pageHeight:0,pageY:0}}shouldComponentUpdate(e,t){return(0,At.Z)(this,e,t)}render(){const{serverEntityID:e,providerEntityID:t,metadataItemEntityID:n,metadataListEntityID:r,columnAdjustment:i,record:a,allEpisodes:s}=this.props,{scrollTop:o,isMeasured:l,pageWidth:c,pageHeight:d,pageY:u}=this.state;return g.createElement(bx.Z,{className:"PrePlayPageContent-prePlayPageContentContainer-3ITR6t PageContent-pageContent-aqfjwt",onMeasure:this.onContentMeasure},g.createElement(rB,{className:"PrePlayPageContent-prePlayPageContent-1hhe3O",scrollTop:o,onScrollPositionChange:this.onScrollPositionChange},l?g.createElement(T6,{serverEntityID:e,providerEntityID:t,metadataItemEntityID:n,metadataListEntityID:r,pageWidth:c,pageHeight:d,pageY:u,scrollTop:o,columnAdjustment:i,record:a,allEpisodes:s}):null))}}const O6=N6;function A6({className:e}){return g.createElement("div",{className:e})}A6.defaultProps={className:"PageHeaderDivider-pageHeaderDivider-3zhiwc"};const x6=A6;function j6(e){var t=e["aria-label"],n=e.className,r=e.style,i={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-page-next-560"};i["aria-hidden"]=!t,i.style=r,i.className=oa.Z.plexIcon+(n?" "+n:"");var a=[g.createElement.apply(g,["path",{d:"m0 320l0-80 360 0 0-160 200 200-200 200 0-160-360 0"}].concat([]))];return t&&a.unshift(g.createElement("title",null,t)),g.createElement.apply(g,["svg",i].concat(a))}j6.propTypes={"aria-label":sa().string,className:sa().string,style:sa().object};const L6=j6;function k6(e){var t=e["aria-label"],n=e.className,r=e.style,i={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-page-prev-560"};i["aria-hidden"]=!t,i.style=r,i.className=oa.Z.plexIcon+(n?" "+n:"");var a=[g.createElement.apply(g,["path",{d:"m200 80l-200 200 200 200 0-160 360 0 0-80-360 0 0-160"}].concat([]))];return t&&a.unshift(g.createElement("title",null,t)),g.createElement.apply(g,["svg",i].concat(a))}k6.propTypes={"aria-label":sa().string,className:sa().string,style:sa().object};const R6=k6;var z6=Object.defineProperty,U6=Object.prototype.hasOwnProperty,V6=Object.getOwnPropertySymbols,B6=Object.prototype.propertyIsEnumerable,F6=(e,t,n)=>t in e?z6(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const _6={dispatchPreFetch:_X};class H6 extends g.Component{componentDidMount(){this._preFetch()}componentDidUpdate(e){this.props.metadataItemEntityID!==e.metadataItemEntityID&&this._preFetch()}_preFetch(){const{metadataItemEntityID:e,isDisabled:t,dispatchPreFetch:n}=this.props;t||n({metadataItemEntityID:e})}render(){const e=this.props,{serverEntityID:t,providerEntityID:n,metadataItemEntityID:r,dispatchPreFetch:i,metricsPage:a,metricsContext:s}=e,o=((e,t)=>{var n={};for(var r in e)U6.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&V6)for(var r of V6(e))t.indexOf(r)<0&&B6.call(e,r)&&(n[r]=e[r]);return n})(e,["serverEntityID","providerEntityID","metadataItemEntityID","dispatchPreFetch","metricsPage","metricsContext"]);return g.createElement(SZ.Z,((e,t)=>{for(var n in t||(t={}))U6.call(t,n)&&F6(e,n,t[n]);if(V6)for(var n of V6(t))B6.call(t,n)&&F6(e,n,t[n]);return e})({},o))}}const Q6=(0,oC.Z)((function(){return(0,fe.P1)(((e,{metricsContext:t})=>t),sb.Z,ab.Z,(0,xx.Z)(),((e,t,n,r={})=>{const i={legacy:1};return e&&(i.context=e),{to:(0,li.Z)(t,n,r.key,i),isDisabled:!r.key}}))}),_6)(H6),G6=(0,v.$j)((function(){return(0,fe.P1)(((e,{metadataItemEntityID:t})=>t),(0,ax.Z)(),((e,t={})=>{const n=t.metadataItems,r=n.indexOf(e),i=r+1,a=r-1;let s,o;return a>-1&&(s=n[a]),i>0&&i<n.length&&(o=n[i]),{previousMetadataItemEntityID:s,nextMetadataItemEntityID:o}}))}))((function({serverEntityID:e,providerEntityID:t,previousMetadataItemEntityID:n,nextMetadataItemEntityID:r}){return g.createElement("div",null,g.createElement(Q6,{serverEntityID:e,"data-qa-id":"toolbarPrevious",providerEntityID:t,metadataItemEntityID:n},g.createElement(R6,null)),g.createElement(Q6,{serverEntityID:e,"data-qa-id":"toolbarNext",providerEntityID:t,metadataItemEntityID:r},g.createElement(L6,null)))})),W6=(0,oC.Z)((function(){return(0,fe.P1)(((e,{selectedKey:t})=>t),((e,{metricsContext:t})=>t),sb.Z,ab.Z,(0,xx.Z)(),(0,Yx.Z)(),((e,t,n,r,i={},a)=>({title:i.title,to:a,isSelected:e===i.key})))}))((function({title:e,to:t,isSelected:n}){return t?g.createElement(Up.Z,{to:t,isSelected:n},e):null})),Y6="PrePlayPageHeaderSiblingsMenu-emptyContainer-2-w9y_",K6=function(e){const{serverEntityID:t,providerEntityID:n,metadataItemEntityIDs:r,isPending:i,error:a,selectedKey:s,target:o,isOpen:l,onMenuClose:c}=e,d=!!r.length,u=!d&&i,p=!d&&!i&&!!a,m=!d&&!u&&!p;return g.createElement(Xl.Z,{target:o,isOpen:l,size:Rp.ln,onMenuClose:c},u?g.createElement("span",{className:Y6},g.createElement(Mx.Z,null)):null,p?g.createElement("span",{className:Y6},(0,Ce.Z)("Unable to load items")):null,m?g.createElement("span",{className:Y6},(0,Ce.Z)("No items")):null,r.map((e=>g.createElement(W6,{key:e,serverEntityID:t,providerEntityID:n,metadataItemEntityID:e,selectedKey:s}))))};var q6=n(6055),$6=n(90980),J6=n(3345),X6=n(1691);function e8(e){var t=e["aria-label"],n=e.className,r=e.style,i={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",id:"plex-icon-toolbar-add-to-watchlist-560"};i["aria-hidden"]=!t,i.style=r,i.className=oa.Z.plexIcon+(n?" "+n:"");var a=[g.createElement.apply(g,["path",{d:"M22.2 12H25.8V16.2H30V19.8H25.8V24H22.2V19.8H18V16.2H22.2V12Z"}].concat([])),g.createElement.apply(g,["path",{clipRule:"evenodd",d:"M42 6.15892C42 4.72113 40.8409 3.59998 39.411 3.59998H8.58903C7.15701 3.59998 6 4.74565 6 6.15892V42.9571C6 44.3949 6.90879 44.8173 8.02984 43.9554L21.9702 33.2377C23.0826 32.3824 24.9088 32.3758 26.0298 33.2377L39.9702 43.9554C41.0826 44.8107 42 44.3704 42 42.9571V6.15892ZM19.7759 30.3837L9.6 38.2073V7.19998H38.4V38.2073L28.2241 30.3837C26.9296 29.3885 25.382 28.9922 23.9927 28.9938C22.6046 28.9953 21.0627 29.3944 19.7759 30.3837Z"}].concat([]))];return t&&a.unshift(g.createElement("title",null,t)),g.createElement.apply(g,["svg",i].concat(a))}e8.propTypes={"aria-label":sa().string,className:sa().string,style:sa().object};const t8=e8;function n8(e){var t=e["aria-label"],n=e.className,r=e.style,i={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",id:"plex-icon-toolbar-remove-from-watchlist-560"};i["aria-hidden"]=!t,i.style=r,i.className=oa.Z.plexIcon+(n?" "+n:"");var a=[g.createElement.apply(g,["path",{clipRule:"evenodd",d:"M42 6.15892C42 4.72113 40.8409 3.59998 39.411 3.59998H8.58903C7.15701 3.59998 6 4.74565 6 6.15892V42.9571C6 44.3949 6.90879 44.8173 8.02984 43.9554L21.9702 33.2377C23.0826 32.3824 24.9088 32.3758 26.0298 33.2377L39.9702 43.9554C41.0826 44.8107 42 44.3704 42 42.9571V6.15892ZM21.4545 18L17.6361 14.1816L20.1817 11.636L24.0001 15.4544L27.8184 11.636L30.364 14.1816L26.5456 18L30.364 21.8183L27.8184 24.3639L24.0001 20.5456L20.1817 24.3639L17.6361 21.8184L21.4545 18Z"}].concat([]))];return t&&a.unshift(g.createElement("title",null,t)),g.createElement.apply(g,["svg",i].concat(a))}n8.propTypes={"aria-label":sa().string,className:sa().string,style:sa().object};const r8=n8,i8=(0,fe.P1)((0,xx.Z)(),(e=>({watchlistedAt:e.watchlistedAt}))),a8=(0,v.$j)(i8,(function(e,t){const n={serverEntityID:t.serverEntityID,providerEntityID:t.providerEntityID,metadataItemEntityID:t.metadataItemEntityID};return{onPress(){e((0,$l.ZA)(n))}}}))((function(e){const{watchlistedAt:t,onPress:n}=e;return g.createElement(SZ.Z,{"data-qa-id":"toolbarAddToWatchList",tooltip:t?(0,Ce.Z)("Remove from Watchlist"):(0,Ce.Z)("Add to Watchlist"),onPress:n},t?g.createElement(r8,null):g.createElement(t8,null))}));function s8(e){const{markUnplayed:t,onPress:n}=e;return g.createElement(SZ.Z,{"data-qa-id":"toolbarToggleWatched",tooltip:t?(0,Ce.Z)("Mark as Unplayed"):(0,Ce.Z)("Mark as Played"),onPress:n},g.createElement(SY,null))}s8.defaultProps={markUnplayed:!1};const o8=s8;function l8(e){var t=e["aria-label"],n=e.className,r=e.style,i={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-artist-tv-icon-560"};i["aria-hidden"]=!t,i.style=r,i.className=oa.Z.plexIcon+(n?" "+n:"");var a=[g.createElement.apply(g,["path",{d:"M29.218 420.218h503v-308h-503v308zm307 28v56c0 .327 18.667.327 56 0v28h-224v-28h56c.327 0 .327-18.667 0-56l-224-.5c-.49 0 0-363.01 0-363.5 0-.49 559.51 0 560 0 .327 0 .327 121.333 0 364 0 .327-74.667.327-224 0zm-55.61-139.931c-15.108 0-27.356-12.248-27.356-27.356 0-15.109 12.248-27.357 27.357-27.357 15.108 0 27.356 12.248 27.356 27.357 0 15.108-12.248 27.356-27.356 27.356zm48.566 9.768c8.87-10.546 14.193-24.034 14.193-38.734 0-18.883-8.784-35.767-22.588-46.984l15.585-13.98c18.068 15.053 29.532 37.5 29.532 62.574 0 19.632-7.029 37.654-18.753 51.778l-17.97-14.654zm-87.808-86.457c-14.337 11.207-23.516 28.42-23.516 47.723 0 15.74 6.104 30.092 16.13 40.93l-16.068 13.195c-12.096-14.23-19.372-32.54-19.372-52.515 0-24.509 10.954-46.508 28.322-61.546l14.504 12.213zm130.092 126.117c18.58-20.945 29.84-48.372 29.84-78.394 0-34.317-14.712-65.243-38.253-86.974l14.355-13.014c26.627 25.193 43.209 60.677 43.209 99.988 0 34.688-12.911 66.396-34.241 90.683l-14.91-12.289zM194.603 195.78c-21.45 21.495-34.684 50.993-34.684 83.541 0 29.677 11.003 56.819 29.203 77.67l-14.864 12.335c-20.977-24.198-33.65-55.638-33.65-90.005 0-37.324 14.948-71.197 39.25-96.09l14.745 12.55z"}].concat([]))];return t&&a.unshift(g.createElement("title",null,t)),g.createElement.apply(g,["svg",i].concat(a))}l8.propTypes={"aria-label":sa().string,className:sa().string,style:sa().object};const c8=l8;var d8=Object.defineProperty,u8=Object.prototype.hasOwnProperty,p8=Object.getOwnPropertySymbols,m8=Object.prototype.propertyIsEnumerable,h8=(e,t,n)=>t in e?d8(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const g8=function(e){return g.createElement(SZ.Z,((e,t)=>{for(var n in t||(t={}))u8.call(t,n)&&h8(e,n,t[n]);if(p8)for(var n of p8(t))m8.call(t,n)&&h8(e,n,t[n]);return e})({tooltip:(0,Ce.Z)("Artist TV")},e),g.createElement(c8,null))};function y8(e){var t=e["aria-label"],n=e.className,r=e.style,i={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",id:"plex-icon-toolbar-play-radio-560"};i["aria-hidden"]=!t,i.style=r,i.className=oa.Z.plexIcon+(n?" "+n:"");var a=[g.createElement.apply(g,["path",{d:"M110.261 141.816c10.962-9.751 23.79-2.335 27.765 1.703 6.308 6.406 5.837 12.744 4.377 15.806-1.084 2.277-2.431 4.378-5.35 8.026-14.104 16.536-24.074 34.046-31.37 53.986-11.672 32.101-13.132 68.334-4.377 101.894 6.809 24.804 18.724 47.42 35.505 67.362 3.89 4.377 4.863 5.836 5.836 8.997.486 1.703.486 6.566-.244 8.755-1.459 4.62-4.863 8.269-9.727 9.97-1.216.487-14.377 4.39-23.144-2.43-1.46-.974-6.81-7.055-10.7-12.16-22.617-28.94-36.964-63.472-41.342-100.191-1.944-15.32-1.944-32.587-.243-47.908 4.621-39.639 20.67-76.846 46.448-107.243 3.892-4.621 4.657-4.867 6.566-6.566v-.001zm64.42 62.012c7.215-8.421 19.942-12.966 29.868-4.504 9.925 8.46 6.895 19.095 2.76 24.445-10.942 13.132-17.265 27.48-19.697 44.503-.486 3.89-.729 13.131-.243 17.509 1.459 18.725 8.511 35.262 20.67 49.61 3.162 3.647 4.62 6.322 4.864 10.455.486 7.054-4.395 13.258-11.186 15.565-14.348 4.871-23.388-2.675-28.494-8.754-20.671-25.778-29.426-58.608-24.562-91.681 3.161-20.914 12.067-40.863 26.02-57.148zM277.67 323.667c-11.548-.562-21.407-5.058-29.575-12.926-8.732-8.992-12.957-19.389-12.957-31.753 0-12.363 4.225-22.762 12.957-31.753 9.012-8.711 19.435-12.927 31.828-12.927 12.394 0 22.814 4.216 31.828 12.927 8.731 8.991 12.957 19.389 12.957 31.753s-4.226 22.76-12.957 31.753c-8.45 8.15-18.308 12.645-30.138 12.926-1.408.28-3.38.28-3.943 0zm172.069-181.852c1.91 1.7 2.675 1.946 6.566 6.566 25.777 30.399 41.827 67.606 46.448 107.244 1.701 15.321 1.701 32.587-.243 47.908-4.378 36.72-18.726 71.252-41.342 100.19-3.89 5.107-9.24 11.187-10.7 12.16-8.767 6.821-21.928 2.919-23.144 2.432-4.863-1.702-8.268-5.35-9.727-9.97-.73-2.19-.73-7.054-.244-8.755.973-3.162 1.946-4.621 5.836-8.998 16.78-19.941 28.696-42.557 35.505-67.361 8.755-33.56 7.295-69.794-4.376-101.894-7.297-19.941-17.267-37.451-31.372-53.987-2.918-3.648-4.265-5.748-5.35-8.026-1.459-3.062-1.93-9.4 4.378-15.806 3.975-4.037 16.802-11.454 27.765-1.703zm-64.576 62.013c13.953 16.284 22.86 36.234 26.021 57.148 4.864 33.073-3.89 65.902-24.561 91.68-5.107 6.079-14.147 13.626-28.495 8.754-6.792-2.306-11.672-8.511-11.186-15.564.243-4.134 1.702-6.81 4.863-10.456 12.16-14.348 19.212-30.885 20.67-49.61.487-4.378.244-13.618-.242-17.509-2.431-17.023-8.755-31.37-19.698-44.503-4.134-5.35-7.163-15.984 2.761-24.445 9.926-8.461 22.652-3.917 29.867 4.505z"}].concat([]))];return t&&a.unshift(g.createElement("title",null,t)),g.createElement.apply(g,["svg",i].concat(a))}y8.propTypes={"aria-label":sa().string,className:sa().string,style:sa().object};const v8=y8;var f8=Object.defineProperty,b8=Object.prototype.hasOwnProperty,I8=Object.getOwnPropertySymbols,S8=Object.prototype.propertyIsEnumerable,M8=(e,t,n)=>t in e?f8(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const E8=function(e){return g.createElement(SZ.Z,((e,t)=>{for(var n in t||(t={}))b8.call(t,n)&&M8(e,n,t[n]);if(I8)for(var n of I8(t))S8.call(t,n)&&M8(e,n,t[n]);return e})({tooltip:(0,Ce.Z)("Play Radio")},e),g.createElement(v8,null))};function P8(e){var t=e["aria-label"],n=e.className,r=e.style,i={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-toolbar-play-trailer-560"};i["aria-hidden"]=!t,i.style=r,i.className=oa.Z.plexIcon+(n?" "+n:"");var a=[g.createElement.apply(g,["path",{d:"m225.671 503.994c-.557.004-1.114.006-1.671.006-123.629 0-224-100.371-224-224 0-123.629 100.371-224 224-224 123.629 0 224 100.371 224 224 0 50.138-16.508 96.451-44.381 133.794 18.895-11.081 36.634-24.143 52.605-39.141 9.395-8.823 18.171-18.311 26.162-28.425 8.67-10.973 16.416-22.684 23.006-35.021 4.995-9.352 12.891-29.047 12.891-29.047l41.717 12.492c0 0-9.027 23.185-14.752 34.221-7.693 14.83-16.785 28.923-27.015 42.128-9.197 11.871-19.311 23.024-30.164 33.401-8.779 8.393-18.041 16.28-27.702 23.641-8.554 6.519-17.421 12.626-26.548 18.316-4.487 2.797-9.037 5.493-13.644 8.088-32.896 18.526-68.648 31.851-105.499 39.964-29.172 6.423-59.044 9.582-89.005 9.589l0-.006m-64.671-104.994c0 34.771 28.229 63 63 63 34.771 0 63-28.229 63-63 0-34.771-28.229-63-63-63-34.771 0-63 28.229-63 63m119-119c0 34.771 28.229 63 63 63 34.771 0 63-28.229 63-63 0-34.771-28.229-63-63-63-34.771 0-63 28.229-63 63m-238 0c0 34.771 28.229 63 63 63 34.771 0 63-28.229 63-63 0-34.771-28.229-63-63-63-34.771 0-63 28.229-63 63m154 0c0 15.454 12.546 28 28 28 15.454 0 28-12.546 28-28 0-15.454-12.546-28-28-28-15.454 0-28 12.546-28 28m-35-119c0 34.771 28.229 63 63 63 34.771 0 63-28.229 63-63 0-34.771-28.229-63-63-63-34.771 0-63 28.229-63 63"}].concat([]))];return t&&a.unshift(g.createElement("title",null,t)),g.createElement.apply(g,["svg",i].concat(a))}P8.propTypes={"aria-label":sa().string,className:sa().string,style:sa().object};const D8=P8;var C8=Object.defineProperty,w8=Object.prototype.hasOwnProperty,Z8=Object.getOwnPropertySymbols,T8=Object.prototype.propertyIsEnumerable,N8=(e,t,n)=>t in e?C8(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const O8=function(e){return g.createElement(SZ.Z,((e,t)=>{for(var n in t||(t={}))w8.call(t,n)&&N8(e,n,t[n]);if(Z8)for(var n of Z8(t))T8.call(t,n)&&N8(e,n,t[n]);return e})({tooltip:(0,Ce.Z)("Play Trailer")},e),g.createElement(D8,null))};var A8=n(90444);var x8=Object.defineProperty,j8=Object.prototype.hasOwnProperty,L8=Object.getOwnPropertySymbols,k8=Object.prototype.propertyIsEnumerable,R8=(e,t,n)=>t in e?x8(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const z8=function(e){var t=e,{title:n}=t,r=((e,t)=>{var n={};for(var r in e)j8.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&L8)for(var r of L8(e))t.indexOf(r)<0&&k8.call(e,r)&&(n[r]=e[r]);return n})(t,["title"]);return g.createElement(SZ.Z,((e,t)=>{for(var n in t||(t={}))j8.call(t,n)&&R8(e,n,t[n]);if(L8)for(var n of L8(t))k8.call(t,n)&&R8(e,n,t[n]);return e})({tooltip:(0,Ce.Z)("Record"),className:"ToolbarRecordButton-toolbarRecordButton-wz4UZY ToolbarButton-toolbarButton-APIhWk PlayButton-playButton-2dFmuo RecordIcon-recordIconContainer-3wNYSz","data-qa-id":"toolbarRecord"},r),g.createElement(A8.Z,null))};var U8=Object.defineProperty,V8=Object.prototype.hasOwnProperty,B8=Object.getOwnPropertySymbols,F8=Object.prototype.propertyIsEnumerable,_8=(e,t,n)=>t in e?U8(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const H8=function(e){return g.createElement(SZ.Z,((e,t)=>{for(var n in t||(t={}))V8.call(t,n)&&_8(e,n,t[n]);if(B8)for(var n of B8(t))F8.call(t,n)&&_8(e,n,t[n]);return e})({tooltip:(0,Ce.Z)("Settings"),"data-qa-id":"toolbarSettings"},e),g.createElement(el.Z,null))};function Q8(e){var t=e["aria-label"],n=e.className,r=e.style,i={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-toolbar-sync-filled-560"};i["aria-hidden"]=!t,i.style=r,i.className=oa.Z.plexIcon+(n?" "+n:"");var a=[g.createElement.apply(g,["path",{d:"M280 518C148.6 518 42 411.4 42 280S148.6 42 280 42s238 106.6 238 238-106.6 238-238 238m0-112l112-112h-89.6V154h-44.8v140H168l112 112"}].concat([]))];return t&&a.unshift(g.createElement("title",null,t)),g.createElement.apply(g,["svg",i].concat(a))}Q8.propTypes={"aria-label":sa().string,className:sa().string,style:sa().object};const G8=Q8;var W8=Object.defineProperty,Y8=Object.prototype.hasOwnProperty,K8=Object.getOwnPropertySymbols,q8=Object.prototype.propertyIsEnumerable,$8=(e,t,n)=>t in e?W8(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,J8=(e,t)=>{for(var n in t||(t={}))Y8.call(t,n)&&$8(e,n,t[n]);if(K8)for(var n of K8(t))q8.call(t,n)&&$8(e,n,t[n]);return e};const X8=function(e){const t=e,{hasDownloadState:n,hasOfflineFile:r,hasOwnSubscription:i,isDisabled:a,label:s,progress:o}=t,l=((e,t)=>{var n={};for(var r in e)Y8.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&K8)for(var r of K8(e))t.indexOf(r)<0&&q8.call(e,r)&&(n[r]=e[r]);return n})(t,["hasDownloadState","hasOfflineFile","hasOwnSubscription","isDisabled","label","progress"]),c=null!==o&&o>=0;return g.createElement(SZ.Z,J8(J8({},l),{isDisabled:a,tooltip:s,"data-qa-id":"toolbarSync"}),!i||n||c?g.createElement(Cl.Z,{progress:o,isDisabled:a,showIndeterminate:n}):g.createElement(G8,null))},e9=mW((function(e){const{className:t,serverEntityID:n,providerEntityID:r,metadataItemEntityID:i,type:a,subtype:s,title:o,viewedLeafCount:l,unviewedLeafCount:c,isLiveTV:d,metricsPage:u,showRecord:p,showPlay:m,showPlayOverflow:h,showPlayTrailer:y,showPlayTrailerOverflow:v,showPlayRadio:f,showPlayRadioOverflow:b,showPlayArtistTV:I,showPlayArtistTVOverflow:S,showShuffle:M,showShuffleOverflow:E,showAddToPlaylist:P,showAddToPlaylistOverflow:D,showAddToSaved:C,showAddToWatchlist:w,showAddToWatchlistOverflow:Z,showTogglePlayed:T,showTogglePlayedOverflow:N,showMarkPlayed:O,showMarkUnplayed:A,showEdit:x,showEditOverflow:j,showSettings:L,showSettingsOverflow:k,showSync:R,showSyncOverflow:z,showSyncDownload:U,showSyncDownloadOverflow:V,showOverflow:B,onPlayPress:F,onPlayLiveTVPress:_,onPlayTrailerPress:H,onPlayRadioPress:Q,onPlayArtistTVPress:G,onShufflePress:W,onEditPress:Y,onSyncPress:K,onCancelDownloadActivity:q,onDeleteDownloadSubscription:$,onCreateDownloadSubscription:J}=e,X=Ez(),ee=(0,GN.Z)(e.onMarkPlayedConfirm),te=(0,GN.Z)(e.onMarkUnplayedConfirm),ne=(0,GN.Z)(),re=(0,GN.Z)(),ie=(0,GN.Z)(),ae=(0,$6.Gb)({metadataItemEntityID:i,metricsPage:u,providerEntityID:r,serverEntityID:n,onCancelDownloadActivity:q,onDeleteDownloadSubscription:$,onCreateDownloadSubscription:J}),se=(0,g.useCallback)((()=>{(m||h)&&F()}),[F,m,h]),oe=(0,g.useCallback)((()=>{(x||j)&&Y()}),[x,j,Y]);return(0,g.useEffect)((()=>(le.Z.on("shortcut:playSelected",se),le.Z.on("shortcut:edit",oe),()=>{le.Z.off("shortcut:playSelected",se),le.Z.off("shortcut:edit",oe)}))),g.createElement("div",{className:t},p?g.createElement(z8,{title:o,onPress:ne.onOpen}):null,m?g.createElement(TW,{playLabel:(0,Ce.Z)("Play"),onPress:d?_:F}):null,y?g.createElement(O8,{onPress:H}):null,M?g.createElement(LW,{onPress:W}):null,f?g.createElement(E8,{onPress:Q}):null,I?g.createElement(g8,{onPress:G}):null,w?g.createElement(a8,{metadataItemEntityID:i,providerEntityID:r,serverEntityID:n}):null,P?g.createElement(EW,{serverEntityID:n,providerEntityID:r,metadataItemEntityID:i,onAddToPlaylistPress:ie.onOpen}):null,T&&O?g.createElement(o8,{type:a,subtype:s,onPress:ee.onOpen}):null,T&&A&&!O?g.createElement(o8,{type:a,subtype:s,markUnplayed:!0,onPress:te.onOpen}):null,x?g.createElement(bY,{onPress:Y}):null,L?g.createElement(H8,{onPress:re.onOpen}):null,R?g.createElement(_W,{onPress:K}):null,U?g.createElement($6.ZP,{component:X8,metadataItemEntityID:i,providerEntityID:r,serverEntityID:n,onPress:ae.onPress}):null,B?g.createElement(NT,{id:X.menuButtonID,iconComponent:pO,label:(0,Ce.Z)("More..."),isMenuOpen:X.isMenuOpen,onPress:X.onMenuButtonPress}):null,g.createElement(X6.Z,{serverEntityID:n,providerEntityID:r,metadataItemEntityID:i,allowRedirectOnDelete:!0,showPlay:h,showPlayTrailer:v,showPlayRadio:b,showPlayArtistTV:S,showQueuePlexMix:!1,showShuffle:E,showAddToPlaylist:D,showAddToSaved:C&&a!==Ac.SHOW,showAddToWatchlist:Z,showEdit:j,showSettings:k,showMarkPlayed:N&&O,showMarkUnplayed:N&&A,showSync:z,showSyncDownload:V,target:X.menuButtonID,isOpen:X.isMenuOpen,onMenuClose:X.onMenuClose}),O?g.createElement(jm.Z,{isOpen:ee.isOpen,type:a,subtype:s,title:o,leafCount:c,onConfirm:ee.onConfirm,onCancel:ee.onClose}):null,P?g.createElement(qG.Z,{serverEntityID:n,providerEntityID:r,metadataItemEntityID:i,isOpen:ie.isOpen,onModalClose:ie.onClose}):null,A?g.createElement(jm.Z,{isOpen:te.isOpen,type:a,subtype:s,title:o,leafCount:l,markUnplayed:!0,onConfirm:te.onConfirm,onCancel:te.onClose}):null,g.createElement(km.Z,{serverEntityID:n,providerEntityID:r,metadataItemEntityID:i,isOpen:ne.isOpen,subscriptionType:a,onModalClose:ne.onClose}),U?g.createElement(J6.Z,{isOpen:ae.isOpen,state:ae.state,onConfirm:ae.onConfirm,onClose:ae.onClose}):null,g.createElement(Lm.Z,{serverEntityID:n,providerEntityID:r,metadataItemEntityID:i,isOpen:re.isOpen,onModalClose:re.onClose}))}),["showPlay","showPlayTrailer","showPlayRadio","showPlayArtistTV","showShuffle","showAddToWatchlist","showAddToPlaylist","showTogglePlayed","showEdit","showSettings","showSync","showSyncDownload"],["showPlayVersion","showPlayAll","showQueue","showPlayPlexMix","showPlayMusicVideo","showRefresh","showAnalyze","showFixMatch","showMatch","showUnmatch","showSplitApart","showOptimize","showDownload","showDelete","showDeleteVersion","showGetInfo"]);var t9=Object.defineProperty,n9=Object.prototype.hasOwnProperty,r9=Object.getOwnPropertySymbols,i9=Object.prototype.propertyIsEnumerable,a9=(e,t,n)=>t in e?t9(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,s9=(e,t)=>{for(var n in t||(t={}))n9.call(t,n)&&a9(e,n,t[n]);if(r9)for(var n of r9(t))i9.call(t,n)&&a9(e,n,t[n]);return e};const o9=(0,oC.Z)((function(){return(0,fe.P1)(sb.Z,ab.Z,Tl.Z,(0,xx.Z)(),(0,Yz.Z)(),((e,t,n,r,i)=>{const{type:a,subtype:s,title:o,viewedLeafCount:l,unviewedLeafCount:c}=r,d=(0,oY.ZP)({server:e,provider:t,stableUser:n,metadataItem:r}),u=d.showMarkPlayed||d.showMarkUnplayed,p=!!t.protocols.livetv,m=!i&&e.isFullServer&&!!t.features.subscribe&&t.features.subscribe.flavor===Tc._N;return s9({type:a,subtype:s,title:o,viewedLeafCount:l,unviewedLeafCount:c,isLiveTV:p,showRecord:m,showTogglePlayed:u},d)}))}),(function(e,t){const n={serverEntityID:t.serverEntityID,providerEntityID:t.providerEntityID,metadataItemEntityID:t.metadataItemEntityID,metricsPage:t.metricsPage,metricsProperties:{context:t.metricsContext}};return{onPlayPress(){e(vt.wA(n))},onPlayLiveTVPress(){e((0,Ol.lS)(n))},onPlayTrailerPress(){e(vt.EF(n))},onPlayRadioPress(){e(vt.QR(s9({playlistType:Jl.j0},n)))},onPlayArtistTVPress(){e(vt.QR(s9({playlistType:Jl.pX},n)))},onShufflePress(){e(vt.Em(n))},onMarkPlayedConfirm(){e(Nl.markMetadataItemPlayed(s9(s9({},n),{skipConfirm:!0})))},onMarkUnplayedConfirm(){e(Nl.markMetadataItemUnplayed(s9(s9({},n),{skipConfirm:!0})))},onEditPress(){e(Nl.editMetadataItem(n))},onSyncPress(){e(Nl.syncMetadataItem(n))},onGetInfoPress(){e(Nl.getMetadataItemInfo(n))},onCancelDownloadActivity(){e(q6.FX(n))},onDeleteDownloadSubscription(){e(q6.L7(n))},onCreateDownloadSubscription(){e(q6.A$(n))}}}))(e9);function l9(e){var t=e["aria-label"],n=e.className,r=e.style,i={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-toolbar-artwork-560"};i["aria-hidden"]=!t,i.style=r,i.className=oa.Z.plexIcon+(n?" "+n:"");var a=[g.createElement.apply(g,["path",{d:"m56 504h448v-448h-448v448m336-252l-106.2 106.2 103.8 103.8h-39.598l-126-126-126 126v-364h364v224l-70-70m-168-112c30.907 0 56 25.09 56 56 0 30.907-25.09 56-56 56-30.907 0-56-25.09-56-56 0-30.907 25.09-56 56-56"}].concat([]))];return t&&a.unshift(g.createElement("title",null,t)),g.createElement.apply(g,["svg",i].concat(a))}l9.propTypes={"aria-label":sa().string,className:sa().string,style:sa().object};const c9=l9,d9="PrePlayPageHeader-divider-1HRbLi PageHeaderDivider-pageHeaderDivider-3zhiwc";class u9 extends g.Component{constructor(e,t){super(e,t),this.onSiblingsMenuButtonPress=e=>{this.setState({isSiblingsMenuOpen:!this.state.isSiblingsMenuOpen})},this.onSiblingsMenuClose=()=>{this.setState({isSiblingsMenuOpen:!1})},this.onToggleArtworkPress=e=>{this.props.onArtworkToggle(!this.props.isArtworkButtonSelected)},this.state={isSiblingsMenuOpen:!1},this._siblingsMenuButtonID=(0,GE.Z)()}shouldComponentUpdate(e,t){return(0,At.Z)(this,e,t)}render(){const{serverEntityID:e,providerEntityID:t,metadataItemEntityID:n,siblingsMetadataListEntityID:r,sourceDirectory:i,metadataKey:a,grandparentTitle:s,parentTitle:o,title:l,skipParent:c,grandparentRoute:d,parentRoute:u,showArtworkButton:p,isArtworkButtonSelected:m,listType:h,listSubtype:y,listStyle:v,allListStyles:f}=this.props,{isSiblingsMenuOpen:b}=this.state;if(!a)return null;const I=!!r,S=h&&wG(f,v);return g.createElement(Vf,{className:I||p&&!S?"PrePlayPageHeader-altPageHeader-3rg9zs PrePlayPageHeader-pageHeader-2e8Pda PageHeader-pageHeader-WpvbJc":"PrePlayPageHeader-pageHeader-2e8Pda PageHeader-pageHeader-WpvbJc"},g.createElement(eU,{containerComponent:sY.Z,serverEntityID:e,providerEntityID:t,sourceDirectory:i},s?g.createElement(oz.Z,{to:d,hasMenu:!1,isDisabled:!d},s):null,!c&&o?g.createElement(oz.Z,{to:u,hasMenu:!1,isDisabled:!u},o):null,l?g.createElement(oz.Z,{id:this._siblingsMenuButtonID,hasMenu:I,isMenuOpen:b,isDisabled:!I,onPress:this.onSiblingsMenuButtonPress},l):null,I?g.createElement(S0.Z,{serverEntityID:e,providerEntityID:t,metadataListEntityID:r,component:K6,initialSize:1/0,target:this._siblingsMenuButtonID,isOpen:b,selectedKey:a,onMenuClose:this.onSiblingsMenuClose}):null),g.createElement(fG,null,g.createElement(o9,{serverEntityID:e,providerEntityID:t,metadataItemEntityID:n}),p?g.createElement(x6,{className:d9}):null,p?g.createElement(SZ.Z,{tooltip:m?(0,Ce.Z)("Hide Artwork"):(0,Ce.Z)("Show Artwork"),"data-qa-id":"toolbarToggleArtwork",isSelected:m,hideOnPress:!1,tooltipAttachment:S||I?af.eO:af.OI,onPress:this.onToggleArtworkPress},g.createElement(c9,null)):null,S?g.createElement(g.Fragment,null,g.createElement(x6,{className:d9}),g.createElement(HG,{listType:h,listSubtype:y,listContext:kx.sD,selectedListStyle:v,allListStyles:f})):null,I?g.createElement(x6,{className:d9}):null,I?g.createElement(G6,{serverEntityID:e,providerEntityID:t,metadataItemEntityID:n,metadataListEntityID:r}):null))}}const p9=WA(u9,(function(e){return{siblingKey:e.ui.prePlayPage.siblingKey}}),(function(e,t){e(BX({serverEntityID:t.serverEntityID,providerEntityID:t.providerEntityID,siblingKey:t.siblingKey}))})),m9=(0,oC.Z)((function(){return(0,fe.P1)(((e,{metricsContext:t})=>t),(e=>e.ui.prePlayPage),sb.Z,ab.Z,(0,fe.P1)(ab.Z,(0,xx.Z)(),((e,t)=>{const n=e&&e.features.content;if(!t||!n)return null;if(e.protocols[sk.K])return n.directories.find((e=>e.hubKey&&!e.key));const{librarySectionKey:r,librarySectionID:i,isPlaylist:a}=t;return r||i?n.directories.find((e=>e.id?e.id===i:!!e.key&&e.key===r)):a?n.directories.find((e=>e.type===AC.zg)):void 0})),(0,xx.Z)(),(0,fe.P1)((0,xx.Z)(),(e=>{if(!e)return;const t=e.skipParent,n=t?e.grandparentKey:e.parentKey;if(!n)return;const r=t?"grandchildren":"children";return E.Z.join([n,r])})),n0,e0,r0(),((e,t,n,r,i,a,s,o,l,c)=>{const{grandparentKey:d,parentKey:u,key:p,grandparentTitle:m,parentTitle:h,title:g,skipParent:y,subtype:v}=a,f=w6(l,kx.sD,c,v,r),b=C6(c,v,kx.sD,r),I={legacy:1};return e&&(I.context=e),{siblingsMetadataListEntityID:t.siblingList,sourceDirectory:i,metadataKey:p,siblingKey:s,grandparentTitle:m,parentTitle:h,title:g,skipParent:y,grandparentRoute:(0,li.Z)(n,r,d,I),parentRoute:(0,li.Z)(n,r,u,I),showArtworkButton:!!a.art,isArtworkButtonSelected:o,listType:c,listSubtype:v,listStyle:f,allListStyles:b}}))}),(function(e,t){return{onArtworkToggle(t){e((0,AM.LN)({showPrePlayArtwork:t}))}}}))(p9),h9=function(e){const{serverEntityID:t,providerEntityID:n,metadataItemEntityID:r,metadataListEntityID:i,showSpinner:a,showError:s,showNotFoundError:o,activeSelectionType:l,columnAdjustment:c,record:d,allEpisodes:u,multiSelectToolbarComponent:p}=e;return a?g.createElement(CK.Z,null,g.createElement(Mx.Z,null)):s?o?g.createElement(PK.Z,{title:(0,Ce.Z)("The media you're looking for isn't here"),description:(0,Ce.Z)("It may have been removed from the media server, or moved to a new location")},g.createElement(pw.Z,{to:"#",kind:ic._8},(0,Ce.Z)("Go home"))):g.createElement(wK.Z,{title:(0,Ce.Z)("There was an unexpected error loading this item")}):g.createElement(fx.Z,{metricsPage:pt.sD,isMetricsDelegated:!0,disableBackgroundPreset:!0,scrollDirection:tZ.Hn},l?g.createElement(aK,{serverEntityID:t,providerEntityID:n,toolbarComponent:p,allowRedirectOnDelete:!0}):g.createElement(m9,{serverEntityID:t,providerEntityID:n,metadataItemEntityID:r}),g.createElement(O6,{serverEntityID:t,providerEntityID:n,metadataItemEntityID:r,metadataListEntityID:i,columnAdjustment:c,record:d,allEpisodes:u}))};function g9(e){var t=e["aria-label"],n=e.className,r=e.style,i={strokeLinejoin:"round",strokeMiterlimit:"1.414",viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",id:"plex-icon-toolbar-remove-from-playlist-560"};i["aria-hidden"]=!t,i.style=r,i.className=oa.Z.plexIcon+(n?" "+n:"");var a=[g.createElement.apply(g,["path",{d:"m560 504h-336v-44.8h336zm0-134.4h-336v-44.8h336zm-464.965-188.478 63.357-63.357 31.679 31.678-63.357 63.357 63.357 63.357-31.679 31.678-63.357-63.356-63.356 63.356-31.679-31.678 63.357-63.357-63.357-63.357 31.679-31.678zm464.965 54.078h-252v-44.8h252zm0-134.4h-336v-44.8h336z"}].concat([]))];return t&&a.unshift(g.createElement("title",null,t)),g.createElement.apply(g,["svg",i].concat(a))}g9.propTypes={"aria-label":sa().string,className:sa().string,style:sa().object};const y9=g9,v9=(0,v.$j)(null,(function(e,t){return{onRemovePress(){e(bX())}}}))((function({onRemovePress:e}){return g.createElement(SZ.Z,{tooltip:(0,Ce.Z)("Remove from Playlist"),tooltipAttachment:af.OI,onPress:e},g.createElement(y9,null))}));var f9=Object.defineProperty,b9=Object.prototype.hasOwnProperty,I9=Object.getOwnPropertySymbols,S9=Object.prototype.propertyIsEnumerable,M9=(e,t,n)=>t in e?f9(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const E9={dispatchChangeQuickSearchSettings:Sn.changeQuickSearchSettings};class P9 extends g.Component{constructor(){super(...arguments),this.onLibraryChange=()=>{this.props.dispatchChangeQuickSearchSettings({serverEntityID:this.props.serverEntityID,providerEntityID:this.props.providerEntityID,providerIdentifier:Fo.Y3,directoryID:this.props.librarySectionID})}}componentDidMount(){this.onLibraryChange()}componentDidUpdate(e){this.props.librarySectionID!==e.librarySectionID&&this.onLibraryChange()}componentWillUnmount(){this.props.dispatchChangeQuickSearchSettings({serverEntityID:this.props.serverEntityID,providerEntityID:this.props.providerEntityID,providerIdentifier:null,sectionID:null})}render(){const e=this.props,{dispatchChangeQuickSearchSettings:t}=e,n=((e,t)=>{var n={};for(var r in e)b9.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&I9)for(var r of I9(e))t.indexOf(r)<0&&S9.call(e,r)&&(n[r]=e[r]);return n})(e,["dispatchChangeQuickSearchSettings"]);return g.createElement(h9,((e,t)=>{for(var n in t||(t={}))b9.call(t,n)&&M9(e,n,t[n]);if(I9)for(var n of I9(t))S9.call(t,n)&&M9(e,n,t[n]);return e})({},n))}}const D9=WA(P9,(function(e){const t=e.ui.playlistPage;return{serverEntityID:t.serverEntityID,metadataKey:t.metadataKey}}),(function(e,t){e(cX({serverEntityID:t.serverEntityID,providerEntityID:t.providerEntityID,metadataKey:t.metadataKey})),e(pX())})),C9=(0,v.$j)((function(e,t){return(0,fe.P1)((e=>e.ui.playlistPage),na.Z,FH.Z,(0,fe.P1)((e=>e.ui.playlistPage.playlist),(e=>e.ui.playlistPage.playlistItemList),lX,sx.Z,((e,t,n,r)=>{const i=r[e],a=i&&i.playlistType===Ac.PHOTO,s=t&&t.metadataItems.length;if(a&&s)return r[n[t.metadataItems[0]].metadataItem].librarySectionID})),((e,t,n,r)=>{const{playlist:i,isPlaylistPending:a,playlistError:s}=e,o=!a&&!!s;return{metadataItemEntityID:i,librarySectionID:r,showSpinner:a,showError:o,showNotFoundError:o&&404===s.status,columnAdjustment:t.columnAdjustment,activeSelectionType:n.activeSelectionType,multiSelectToolbarComponent:v9}}))}),E9)(D9);function w9(){const{machineIdentifier:e,providerIdentifier:t}=MK(),n=(0,De.Z)(),r=(0,vn.Z)(Mn.cN,e),i=(0,vn.Z)(Mn.MC,t,r);return g.createElement(zK,{machineIdentifier:e,providerIdentifier:t},g.createElement(yx.Z,{metricsContext:(0,EK.Z)(n.context)},g.createElement(C9,{machineIdentifier:e,serverEntityID:r,providerEntityID:i,metadataKey:(0,EK.Z)(n.key)})))}function Z9(e,t,n){switch(n){case ni.y_.Podcast:switch(t){case ni.pG.Track:return 1===e?(0,Ce.Z)("1 Episode"):(0,Ce.Z)("{episodeCount} Episodes",{episodeCount:e})}}switch(t){case ni.pG.Movie:return 1===e?(0,Ce.Z)("1 Movie"):(0,Ce.Z)("{movieCount} Movies",{movieCount:e});case ni.pG.Show:return 1===e?(0,Ce.Z)("1 Show"):(0,Ce.Z)("{showCount} Shows",{showCount:e});case ni.pG.Season:return(0,Ce.Z)("Seasons");case ni.pG.Episode:return 1===e?(0,Ce.Z)("1 Episode"):(0,Ce.Z)("{episodeCount} Episodes",{episodeCount:e});case ni.pG.Album:return 1===e?(0,Ce.Z)("1 Album"):(0,Ce.Z)("{albumCount} Albums",{albumCount:e});case ni.pG.Track:return 1===e?(0,Ce.Z)("1 Track"):(0,Ce.Z)("{trackCount} Tracks",{trackCount:e});default:return 1===e?(0,Ce.Z)("1 Item"):(0,Ce.Z)("{itemCount} Items",{itemCount:e})}}const T9=(0,g.createContext)({width:0,height:0,contentHeight:0,scrollTop:0,scrollLeft:0});function N9(){return(0,g.useContext)(T9)}function O9({children:e,width:t,height:n,contentHeight:r,scrollTop:i,scrollLeft:a}){const s=(0,g.useMemo)((()=>({width:t,height:n,contentHeight:r,scrollTop:i,scrollLeft:a})),[t,n,r,i,a]);return g.createElement(T9.Provider,{value:s},e)}const A9=function(e){const[t,n]=(0,g.useState)(0),r=(0,g.useRef)(null),i=(0,g.useCallback)((e=>{r.current=e,r.current&&n(r.current.offsetTop)}),[]);return(0,g.useEffect)((()=>{r.current&&n(r.current.offsetTop)}),[e]),[t,i]},x9=(0,fe.P1)(fo,(e=>e.prePlay));function j9(){const{descendantListSourceURI:e}=(0,v.v9)(x9),t=(0,g.useMemo)((()=>e?Ip(e):()=>{}),[e]);return(0,v.v9)(t)}const L9=Object.assign({},{defaultFontFamily:'"Open Sans Semibold", "Helvetica Neue", Helvetica, Arial, sans-serif',boldFontFamily:'"Open Sans Bold", "Helvetica Neue", Helvetica, Arial, sans-serif',smallFontSize:"12px",smallIconFontSize:"12px",defaultFontSize:"13px",defaultIconFontSize:"14px",largeFontSize:"15px",headerFontSize:"24px",lineHeightComputed:"1.71428571"},{hubTitleLineHeight:"24px"});function k9(e){const t=(0,v.I0)(),n=(0,v.v9)(bo),r=(0,g.useMemo)((()=>e.every((e=>n.items[go.getIdentity(e)]))),[e,n]),i=(0,g.useCallback)((()=>{t(vo.actions.selectItems({items:e}))}),[t,e]),a=(0,g.useCallback)((()=>{t(vo.actions.deselectItems({items:e}))}),[t,e]),s=(0,g.useCallback)((()=>{r?a():i()}),[r,a,i]);return{isSelectionActive:!!n.count,isSelected:r,onSelect:i,onDeselect:a,onToggleSelect:s}}function R9({className:e="PrePlayListTitle-titleContainer-2KHHbQ",selectedClassName:t="PrePlayListTitle-selectedTitleContainer-JSLk5j PrePlayListTitle-titleContainer-2KHHbQ",selectButtonClassName:n="PrePlayListTitle-selectButton-1jXCby SelectButton-selectButton-Yy19xn",isSelected:r=!1,isSelectable:i,onSelectPress:a,title:s}){return g.createElement("div",{className:r?t:e},i?g.createElement(uQ.Z,{className:n,title:s,isSelected:r,onPress:a}):null,g.createElement(Og,null,s))}var z9=Object.prototype.hasOwnProperty,U9=Object.getOwnPropertySymbols,V9=Object.prototype.propertyIsEnumerable;const B9={height:parseInt(ng.Z.tableRowHeight,10)};function F9(e){var t,n=e,{item:r,title:i}=n;const a=oo(((e,t)=>{var n={};for(var r in e)z9.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&U9)for(var r of U9(e))t.indexOf(r)<0&&V9.call(e,r)&&(n[r]=e[r]);return n})(n,["item","title"])),s=(0,g.useMemo)((()=>[yS,IS,ES]),[]),{onToggleSelect:o,isSelected:l}=k9(null!=(t=null==r?void 0:r.items)?t:[]);if(!r)return null;const c=i||(0,Ce.Z)("Disc {discNumber}",{discNumber:r.index});return g.createElement("div",{style:a.style},g.createElement(R9,{className:"AlbumDisc-titleContainer-3KI86e PrePlayListTitle-titleContainer-2KHHbQ",selectedClassName:"AlbumDisc-selectedTitleContainer-Vhw411 PrePlayListTitle-selectedTitleContainer-JSLk5j PrePlayListTitle-titleContainer-2KHHbQ",selectButtonClassName:"AlbumDisc-selectButton-3SCDYp PrePlayListTitle-selectButton-1jXCby SelectButton-selectButton-Yy19xn",title:c,isSelectable:!0,isSelected:l,onSelectPress:o}),g.createElement("div",{className:"AlbumDisc-trackList-1G5g-i"},r.items.map(((e,t)=>{var n;return g.createElement(EM,{key:e.key,item:e,tableColumns:s,hasTransientActionsCell:!0,index:null!=(n=e.index)?n:t,isVirtual:!1,cellIndex:t,style:B9})}))))}var _9=Object.defineProperty,H9=Object.prototype.hasOwnProperty,Q9=Object.getOwnPropertySymbols,G9=Object.prototype.propertyIsEnumerable,W9=(e,t,n)=>t in e?_9(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Y9=(e,t)=>{for(var n in t||(t={}))H9.call(t,n)&&W9(e,n,t[n]);if(Q9)for(var n of Q9(t))G9.call(t,n)&&W9(e,n,t[n]);return e};const K9=parseInt(ng.Z.v4PagePadding,10),q9=parseInt(ng.Z.v4ListSpacing,10),$9=parseInt(ng.Z.v4PrePlayListTitleGap,10),J9=parseInt(ng.Z.v4PrePlayDividerHeight,10),X9=parseInt(L9.hubTitleLineHeight,10),e7=parseInt(ng.Z.tableRowHeight,10),t7=X9+$9+2*J9;function n7({className:e="AlbumDiscList-container-2snhKW",metadataItem:t}){var n;const{type:r,subtype:i}=t,[a,s]=Hn(),o=N9(),{descendantListSourceURI:l}=(0,v.v9)(x9),{totalSize:c,items:d=[]}=null!=(n=j9())?n:{},u=(0,g.useMemo)((()=>{var e;return null!=(e=d.reduce(((e,t)=>{const{parentIndex:n=1}=t,r=e[n];return r?r.items.push(t):e[n]={index:n,items:[t]},e}),[]).filter((()=>!0)))?e:[]}),[d]),p=1===u.length?Z9(null!=c?c:0,ni.pG.Track):void 0,m=(0,g.useMemo)((()=>function(e){const{overscan:t=0,outerPaddingTop:n=0,outerPaddingRight:r=0,outerPaddingBottom:i=0,outerPaddingLeft:a=0,getCellHeights:s}=e;let o,l;function c(e){const t=l.findIndex((t=>t>e)),n=l.length-1;return-1===t?n:Math.min(Math.max(0,t-1),n)}return{getListMeasurements(e,t){const{viewportWidth:c,viewportHeight:d}=e,u=c-(a+r);o=s(u),l=[];let p=n;return o.forEach((e=>{l.push(p),p+=e})),{width:u,height:o.reduce(((e,t)=>e+t),n+i),outerPaddingTop:n,outerPaddingRight:r,outerPaddingBottom:i,outerPaddingLeft:a,listTop:e.listTop,listLeft:e.listLeft,viewportWidth:c,viewportHeight:d}},getPositionForIndex(e,t){const{width:n}=t;return{column:1,row:e,cellX:a,cellY:l[e],cellWidth:n,cellHeight:o[e]}},getRangesForPosition(e,n,r,i){const{viewportHeight:a}=i,s=e+a-1,o=c(e-t*a),l=c(e),d=c(s),u=c(s+t*a);return{visibleStartIndex:(0,vu.Z)(l,r),visibleEndIndex:(0,vu.Z)(d,r),renderStartIndex:(0,vu.Z)(o,r),renderEndIndex:(0,vu.Z)(u,r)}}}}({overscan:1,getCellHeights:e=>u.map((e=>t7+e.items.length*e7+q9)),outerPaddingRight:K9,outerPaddingLeft:K9})),[u]),[h,y]=A9(o.contentHeight),f=(0,g.useCallback)((e=>g.createElement(F9,Y9(Y9({},e),{title:p}))),[p]);return l&&c?g.createElement("div",{className:e,ref:y},g.createElement(Ar,{containerServer:a,containerProvider:s,containerSourceURI:l,containerKey:t.childrenKey,containerType:r,containerSubtype:i,listStyle:En.n.Table},g.createElement(Po,{items:d},g.createElement(Lu,{layout:m,cellComponentFactory:f,items:u,totalSize:c,scrollTop:o.scrollTop-h,scrollLeft:o.scrollLeft,viewportWidth:o.width,viewportHeight:o.height})))):null}const r7="autoplay",i7=function(e,t){const n=new RegExp(`(\\?|&)(${(0,k.Z)(t)}=[^\\?&]+(?:[\\?&]?))`,"g");return e.replace(n,((e,t)=>t)).replace(/(\?|&)$/,"")};function a7(e,t=!0){const n=(0,g.useRef)(!1);(0,g.useEffect)((()=>{if(t&&!n.current)return n.current=!0,e()}),[t,e,n])}function s7({kind:e,metadataItem:t,isLabeled:n,isDisabled:r}){const i=(0,g.useCallback)(((i,a,s)=>g.createElement(g.Fragment,null,g.createElement(pm,{metadataItem:t}),g.createElement(mf,{"data-qa-id":i?"preplay-delete-download":"preplay-download",kind:e,icon:i?G8:RW,title:i?(0,Ce.Z)("Delete Download"):(0,Ce.Z)("Download"),isLabeled:n,isDisabled:r||a,onPress:s}))),[r,n,e,t]);return g.createElement(Qp,{metadataItem:t,render:i})}function o7(e){var t=e["aria-label"],n=e.className,r=e.style,i={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",id:"plex-icon-toolbar-add-560"};i["aria-hidden"]=!t,i.style=r,i.className=oa.Z.plexIcon+(n?" "+n:"");var a=[g.createElement.apply(g,["path",{clipRule:"evenodd",d:"M27.4286 27.4286V44.5714H20.5714V27.4286H3.42857V20.5714H20.5714V3.42859H27.4286V20.5714H44.5714V27.4286H27.4286Z"}].concat([]))];return t&&a.unshift(g.createElement("title",null,t)),g.createElement.apply(g,["svg",i].concat(a))}o7.propTypes={"aria-label":sa().string,className:sa().string,style:sa().object};const l7=o7,c7="PrePlayActionBar-menu-3S5onp Menu-menu-1qURRT";var d7=Object.defineProperty,u7=Object.prototype.hasOwnProperty,p7=Object.getOwnPropertySymbols,m7=Object.prototype.propertyIsEnumerable,h7=(e,t,n)=>t in e?d7(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,g7=(e,t)=>{for(var n in t||(t={}))u7.call(t,n)&&h7(e,n,t[n]);if(p7)for(var n of p7(t))m7.call(t,n)&&h7(e,n,t[n]);return e};function y7({isPrimary:e,isDisabled:t,action:n,metadataItem:r,metadataItemState:i,onDeckMetadataItemState:a,isMediaFileUnavailable:s}){const o=(0,v.I0)(),{metricsPage:l,metricsContextTuple:c}=(0,Jt.Zn)(),[d,u]=Hn(),{containerServer:p,containerProvider:m}=Or(),h=Ic({server:d,provider:u,metadataItem:r,metadataItemState:i}),y=xl({containerServer:p,containerProvider:m,server:d,provider:u,metadataItem:r,metadataItemState:i,metricsPage:l,metricsContextTuple:c}),b=gs(r),I=(0,f.k6)(),S=(0,f.TH)(),M=(0,De.Z)(),E=e?or.Primary:or.Default,P=(0,g.useCallback)(((e={})=>{b(g7(g7({},e),{action:ss.NH})),y(vt.wA({metricsProperties:e}))}),[y,b]),D=(0,g.useCallback)(((e={})=>{b(g7(g7({},e),{action:ss.NH}));const t=ea(r);o((0,Ol.lS)({serverEntityID:d.entityID,providerEntityID:u.entityID,metricsPage:l,metricsContextTuple:c,metricsProperties:e,options:{type:Al.pX,identifier:t.channelIdentifier}}))}),[o,d,u,r,l,c,b]),C=(0,g.useCallback)(((e={})=>{b(g7(g7({},e),{action:ss.cO})),y(vt.Em({metricsProperties:e}))}),[y,b]);let w=P;_o(r)?w=D:r.type===ni.pG.Artist&&(w=C);const Z=(0,g.useCallback)((()=>{h(Nl.getMetadataItemInfo())}),[h]),T=(0,g.useCallback)((()=>{w()}),[w]),N=(0,g.useCallback)((()=>{C()}),[C]),O=(0,g.useCallback)((()=>{b({action:ss.$W}),y(vt.EF())}),[y,b]),A=(0,g.useCallback)((()=>{b({action:ss.b8}),y(vt.QR({playlistType:Jl.j0}))}),[y,b]),x=(0,g.useCallback)((()=>{b({action:ss.$J}),o(os.Z.actions.toggleSavedRequested({server:d,provider:u,sourceURI:r.grandparentKey?(0,yn.Z)({serverIdentifier:d.machineIdentifier,providerIdentifier:u.identifier,key:r.grandparentKey}):r.sourceURI,ratingKey:r.grandparentRatingKey||r.ratingKey,saved:!0}))}),[o,r.grandparentKey,r.grandparentRatingKey,r.ratingKey,r.sourceURI,u,d,b]),j=(0,g.useCallback)((e=>{b({action:e?ss.JL:ss.hi}),o(os.Z.actions.toggleWatchlistRequested({server:d,provider:u,sourceURI:r.sourceURI,ratingKey:r.ratingKey,added:e}))}),[o,r.ratingKey,r.sourceURI,u,d,b]),L=(0,g.useCallback)((()=>{j(!0)}),[j]),k=(0,g.useCallback)((()=>{j(!1)}),[j]),R=(0,g.useCallback)((e=>{b({action:e?ss.qe:ss.h3}),o(os.Z.actions.playedStatusUpdateRequested({server:d,provider:u,sourceURI:r.sourceURI,ratingKey:r.ratingKey,played:e}))}),[o,r.ratingKey,r.sourceURI,u,d,b]),z=(0,gd.Z)(),U=(0,g.useCallback)((()=>{R(!0),z.onClose()}),[z,R]),V=(0,gd.Z)(),B=(0,g.useCallback)((()=>{R(!1),V.onClose()}),[V,R]),F=(0,gd.Z)(),_=(0,gd.Z)(),H=(0,gd.Z)(),Q=(0,No.Z)(),G=(0,g.useCallback)((()=>{b({action:ss.dm}),h(Nl.editMetadataItem())}),[h,b]),W=(0,g.useCallback)((()=>{"isMarkPlayedVisible"===n?z.onOpen():V.onOpen()}),[n,z,V]);switch(a7((()=>{const e=(0,yJ.Z)(M.autoplay);e&&I.replace(S.pathname+i7(S.search,"autoplay")),e&&"isPlayVisible"===n&&!s&&w({setting:r7})})),a7((()=>{"isRecordVisible"===n&&M.record&&!F.isOpen&&F.onOpen()})),(0,g.useEffect)((()=>{if("isPlayVisible"===n)return le.Z.on("shortcut:playSelected",T),()=>{le.Z.off("shortcut:playSelected",T)}})),(0,g.useEffect)((()=>{if("isEditVisible"===n)return le.Z.on("shortcut:edit",G),()=>{le.Z.off("shortcut:edit",G)}})),(0,g.useEffect)((()=>{if("isMarkPlayedVisible"===n||"isMarkUnplayedVisible"===n)return le.Z.on("shortcut:togglePlayed",W),()=>{le.Z.off("shortcut:togglePlayed",W)}})),n){case"isPlayVisible":return s?g.createElement(mf,{kind:or.Danger,title:(0,Ce.Z)("Unavailable"),isLabeled:!0,isDisabled:t,onPress:Z}):g.createElement(mf,{"data-qa-id":"preplay-play",kind:E,icon:Jf,title:jl(r,i,a),isLabeled:e,isDisabled:t,onPress:T});case"isPlayTrailerVisible":return g.createElement(mf,{"data-qa-id":"preplay-trailer",kind:E,icon:D8,title:(0,Ce.Z)("Play Trailer"),isLabeled:e,isDisabled:t,onPress:O});case"isShuffleVisible":return g.createElement(mf,{"data-qa-id":"preplay-shuffle",kind:E,icon:$w,title:(0,Ce.Z)("Shuffle"),isLabeled:e,isDisabled:t,onPress:N});case"isPlayRadioVisible":return g.createElement(mf,{"data-qa-id":"preplay-radio",kind:E,icon:v8,title:(0,Ce.Z)("Play Radio"),isLabeled:e,isDisabled:t,onPress:A});case"isMarkPlayedVisible":case"isMarkUnplayedVisible":{const a="isMarkPlayedVisible"===n;return g.createElement(g.Fragment,null,g.createElement(mf,{"data-qa-id":"preplay-togglePlayedState",kind:E,icon:a?Gf:Yf,title:a?(0,Ce.Z)("Mark as Played"):(0,Ce.Z)("Mark as Unplayed"),isLabeled:e,isDisabled:t,onPress:a?z.onOpen:V.onOpen}),g.createElement(jm.Z,{isOpen:a?z.isOpen:V.isOpen,type:r.type,subtype:r.subtype,title:r.title,leafCount:a?i.unviewedLeafCount:i.viewedLeafCount,markUnplayed:V.isOpen,onConfirm:a?U:B,onCancel:a?z.onClose:V.onClose}))}case"isAddToSavedVisible":return g.createElement(mf,{"data-qa-id":"preplay-addToSaved",iconClassName:"PrePlayActionBar-addIcon-2Yq3bI ActionButton-icon-asUA4S",kind:E,icon:l7,title:Zc(u.identifier,i.saved,r.subtype),isLabeled:e,isDisabled:t,onPress:x});case"isAddToWatchlistVisible":return g.createElement(mf,{"data-qa-id":"preplay-addToWatchlist",kind:E,icon:t8,title:(0,Ce.Z)("Add to Watchlist"),isLabeled:e,isDisabled:t,onPress:L});case"isRemoveFromWatchlistVisible":return g.createElement(mf,{"data-qa-id":"preplay-removeFromWatchlist",kind:E,icon:r8,title:(0,Ce.Z)("Remove from Watchlist"),isLabeled:e,isDisabled:t,onPress:k});case"isAddToPlaylistVisible":return g.createElement(g.Fragment,null,g.createElement(mf,{"data-qa-id":"preplay-addToPlaylist",id:Q,kind:E,icon:Ff,title:(0,Ce.Z)("Add to..."),isLabeled:e,isDisabled:t,onPress:H.onToggle}),g.createElement(_p,{isOpen:_.isOpen,sourceURI:r.sourceURI,mediaType:ba(r.type,r.subtype),defaultDestinationSource:r.source,defaultTitle:r.title,onModalClose:_.onClose}),g.createElement(Xl.Z,{className:c7,target:Q,isOpen:H.isOpen,onMenuClose:H.onClose},g.createElement(xp,{sourceURI:r.sourceURI,server:d,provider:u,mediaType:ba(r.type,r.subtype),onAddToPlaylistPress:_.onOpen,onMenuClose:H.onClose})));case"isSyncDownloadVisible":return g.createElement(s7,{metadataItem:r,kind:E,isLabeled:e,isDisabled:t});case"isEditVisible":return g.createElement(mf,{"data-qa-id":"preplay-edit",kind:E,icon:Hf,title:(0,Ce.Z)("Edit"),isLabeled:e,isDisabled:t,onPress:G});case"isRecordVisible":{const n=i.grandparentSubscriptionType||i.subscriptionType||r.type;return g.createElement(g.Fragment,null,g.createElement(mf,{"data-qa-id":"preplay-record",kind:or.Primary,icon:n===ni.pG.Show?$o.Z:Jo.Z,title:null==i.grandparentSubscriptionID&&null==i.subscriptionID?(0,Ce.Z)("Record"):(0,Ce.Z)("Modify"),isLabeled:e,isDisabled:t,onPress:F.onOpen}),g.createElement(Sc,{metadataItem:r,metadataItemState:i},(({serverEntityID:e,providerEntityID:t,metadataItemEntityID:r,onMarkStale:i})=>g.createElement(km.Z,{isOpen:F.isOpen,serverEntityID:e,providerEntityID:t,metadataItemEntityID:r,subscriptionType:n,metricsProperties:{page:l,contextTuple:c},onModalClose:(0,rc.Z)(i,F.onClose)}))))}}return null}function v7({metadataItem:e,promotedActions:t}){var n;const r=(0,No.Z)(),[i,a]=(0,g.useState)(!1),[s,o]=Hn(),l=(0,v.v9)(Tl.Z),c=(0,v.v9)(hf),d=ei(e.sourceURI),u=ei(null==(n=e.onDeck)?void 0:n.sourceURI),p=(0,g.useMemo)((()=>{return t=e.sourceURI,(0,fe.P1)(Xr(t),x9,((e,t)=>!!e.deletedAt||t.metadata.isMediaFileUnavailable));var t}),[e.sourceURI]),m=(0,v.v9)(p),h=gs(e),y=Ic({server:s,provider:o,metadataItem:e,metadataItemState:d}),f=sd({server:s,provider:o,stableUser:l,metadataItem:e,metadataItemState:d}),b=function(e,t){return Object.keys(e).reduce(((n,r)=>{const i=r;return n[i]=!t.includes(i)&&e[i],n}),{})}(f,t),I=(0,g.useCallback)((()=>{a(!i)}),[i]),S=(0,g.useCallback)((()=>{a(!1)}),[]),M=(0,g.useCallback)((()=>{h({action:ss.$M}),y(Nl.getMetadataItemInfo())}),[y,h]);return(0,g.useEffect)((()=>{if(f.isGetInfoVisible)return le.Z.on("shortcut:info",M),()=>{le.Z.off("shortcut:info",M)}})),g.createElement(gP,{className:"PrePlayActionBar-container-3pCteP ActionButtonBar-bar-7_FvUP"},t.filter((e=>f[e])).map(((t,n)=>"isMarkUnplayedVisible"===t&&f.isMarkPlayedVisible?null:g.createElement(y7,{key:t,isPrimary:0===n,isDisabled:c,action:t,metadataItem:e,metadataItemState:d,isMediaFileUnavailable:m,onDeckMetadataItemState:u}))),Object.keys(b).some((e=>b[e]))?g.createElement(mf,{"data-qa-id":"preplay-more",id:r,icon:qf,title:(0,Ce.Z)("More"),isDisabled:c,onPress:I}):null,f.isRateVisible?g.createElement(Vs,{className:c?"PrePlayActionBar-disabledUserRating-1Jqi1a StarRating-starRating-2PpV4V":void 0,metadataItem:e}):null,g.createElement(Km,{className:c7,target:r,isOpen:i,actionsOverride:b,metadataItem:e,onMenuClose:S}))}function f7({className:e="PrePlayMetadataContent-content-1ZqoGZ",children:t}){return g.createElement("div",{className:e},t)}function b7({className:e,metadataItem:t}){const n=ei(t.sourceURI);return null==n.viewOffset?null:g.createElement("span",{className:e},(0,Ce.Z)("Played for {duration}",{duration:Ui(n.viewOffset)}))}const I7="PrePlayPosterCardPlayedStatus-recordingBadge-2vuHuc RecordingBadge-recordingBadge-3SJz9q";function S7({children:e}){return g.createElement("div",{className:"PrePlayPosterCardPlayedStatus-status-2Ct-EG"},e)}function M7({children:e}){return g.createElement("span",{className:"PrePlayPosterCardPlayedStatus-label-2RajvS"},e)}function E7({metadataItem:e,metadataItemState:t}){const{onDeck:n}=e,{viewOffset:r,unviewedLeafCount:i,watchlistedAt:a}=t,[s]=Hn(),o=(0,v.v9)(hl(bn.q1)),l=(0,v.v9)(function(e,t){return(0,fe.P1)(Jy(e),(e=>e.find((e=>e.type===gl.sC&&e.Context.itemKey&&e.Context.itemKey===t.key))))}(s,e));return _o(e)?t.subscriptionID||t.grandparentSubscriptionID?g.createElement(S7,null,t.grandparentSubscriptionType?g.createElement(Xo,{className:I7,subscriptionType:t.grandparentSubscriptionType}):null,t.subscriptionType&&!t.grandparentSubscriptionType?g.createElement(Xo,{className:I7,subscriptionType:t.subscriptionType}):null,g.createElement(M7,null,l?(0,Ce.Z)("Recording"):(0,Ce.Z)("Scheduled"))):null:n&&i?g.createElement(S7,null,g.createElement(M7,null,(0,Ce.Z)("On Deck"),g.createElement(rs.Z,null),(0,xo.Z)({seasonIndex:n.parentIndex,episodeIndex:n.index,date:n.originallyAvailableAt,noLeadingZero:!0,separator:"  "}))):r?g.createElement(S7,null,g.createElement(M7,null,e.type===ni.pG.Game?g.createElement(b7,{metadataItem:e}):g.createElement(iS,{metadataItem:e}))):a?g.createElement(S7,null,g.createElement(il,{className:"PrePlayPosterCardPlayedStatus-watchlistBadge-X7Wiro WatchlistBadge-watchlistBadge-vzvONa Badge-badge-3V2nLB"}),g.createElement(M7,null,(0,Ce.Z)("In Watchlist"))):o&&Wo(e,t)?g.createElement(S7,null,g.createElement(qo,{className:"PrePlayPosterCardPlayedStatus-playedBadge-31zmN8 PlayedBadge-playedBadge-2cB8je Badge-badge-3V2nLB"}),g.createElement(M7,null,(0,Ce.Z)("Played"))):null}function P7({aspectRatio:e,metadataItem:t,children:n,isProgressBarHidden:r}){const i=ei(t.sourceURI),a=ti(t.sourceURI),s=N9().width<800,o=null!=e?e:si(t.type,t.subtype);return g.createElement("div",{className:"PrePlayDetailsContainer-container-2Krc1D"},s?null:g.createElement("div",{className:"PrePlayDetailsContainer-posterContainer-bz1c7V"},g.createElement(Oh,{metadataItem:t,metadataItemState:i,metadataTimelineState:a,width:o===ai?300:250,aspectRatio:o,isSelectHidden:!0,isPlayButtonCard:!0,isPlayedStatusHidden:!0,isProgressBarHidden:r}),g.createElement(E7,{metadataItem:t,metadataItemState:i})),g.createElement(f7,{className:"PrePlayDetailsContainer-content-1M7jEY PrePlayMetadataContent-content-1ZqoGZ"},n))}function D7({children:e,className:t="PrePlayDetailsGroup-group-3vnThy"}){return g.createElement("div",{className:t,"data-qa-id":"preplayDetailsContainer"},e)}function C7({children:e,className:t="PrePlayDetailsGroupItem-groupItem-3i_iKj",labelClassName:n="PrePlayDetailsGroupItem-label-17kQiB",contentClassName:r="PrePlayDetailsGroupItem-content-1uxHY-",label:i}){return g.createElement("div",{className:t},g.createElement("div",{className:n},i),g.createElement("div",{className:r},e))}function w7(e,t){const n=e.Stream;return n?n.filter((e=>e.streamType===t)):[]}function Z7(e,t){const n=w7(e,t);return t===ni.jx.Video?n[0]:n.find((e=>e.selected))}function T7({type:e,stream:t}){return g.createElement("span",null,t?t.displayTitle:g.createElement(g.Fragment,null,e===ni.jx.Subtitles?(0,Ce.Z)("Off"):(0,Ce.Z)("None")))}function N7({part:e,onSelect:t}){const n=(0,No.Z)(),r=(0,gd.Z)(),[i,a]=(0,g.useState)(Z7(e,ni.jx.Audio)),s=w7(e,ni.jx.Audio),o=(0,g.useCallback)((e=>{const n=s.find((t=>t.id===e));a(n),t(ni.fw.Audio,e)}),[s,t]);return(0,g.useEffect)((()=>{a(Z7(e,ni.jx.Audio))}),[e]),g.createElement(g.Fragment,null,s.length>1?g.createElement(Z0.Z,{id:n,isSelected:!0,direction:r.isOpen?kp.UP:kp.WV,onPress:r.onToggle},g.createElement(T7,{type:ni.jx.Audio,stream:i})):g.createElement(T7,{type:ni.jx.Audio,stream:i}),g.createElement(Xl.Z,{target:n,isOpen:r.isOpen,size:Rp.ln,onMenuClose:r.onClose},s.map((e=>g.createElement(Up.Z,{key:e.id,menuLabelClassName:"AudioStreamsMenu-menuLabelClassName-N9yKRY SelectedMenuItem-menuLabel-1WTzXp",value:e.id,isSelected:e===i,onSelect:(0,rc.Z)(o,r.onClose)},g.createElement(T7,{type:ni.jx.Audio,stream:e}),e.title?g.createElement("span",{className:"AudioStreamsMenu-extendedTitle-b3S3AZ"},e.title):null)))))}const O7=oA.Z.extend({name:"SubtitleModel",rootPropertyName:"Stream",syncedAttrs:{id:KO.Z.integer,key:KO.Z.string,streamType:KO.Z.integer,codec:KO.Z.string,index:KO.Z.integer,language:KO.Z.string,languageCode:KO.Z.string,score:KO.Z.float,providerTitle:KO.Z.string,title:KO.Z.string,displayTitle:KO.Z.string,reason:KO.Z.string,hearingImpaired:KO.Z.boolean,perfectMatch:KO.Z.boolean,downloaded:KO.Z.boolean}}),A7=BT.Z.extend({name:"SubtitlesCollection",context:["server","key","language","title","mediaItemID","minimumScore","hearingImpaired","forced"],model:O7,url(){const e={language:this.language};return this.title&&(e.title=this.title),this.mediaItemID&&(e.mediaItemID=this.mediaItemID),this.minimumScore&&(e.minimumScore=this.minimumScore),null!=this.hearingImpaired&&(e.hearingImpaired=this.hearingImpaired),null!=this.forced&&(e.forced=this.forced),E.Z.join([this.key,"/subtitles"],e)}});var x7=n(20023);const j7="ui/subtitlesModal/resetMetadataItemSubtitles",L7="ui/subtitlesModal/fetchMetadataItemSubtitles",k7="ui/subtitlesModal/downloadMetadataItemSubtitle",R7="ui/subtitlesModal/clearSubtitlesDownloadError",z7=(0,bc.Z)(j7),U7=(0,bc.Z)(L7),V7=(0,bc.Z)(k7);(0,bc.Z)(R7);let B7=null;function F7(e){return e.get("ui").get("subtitlesModal")}function _7(e,t){B7&&(B7=window.clearTimeout(B7));const n=t.get("metadataItemEntityID"),r=(0,uC.$R)(e,{metadataItemEntityID:n}),i=r.server,a=t.get("subtitlesDownloadStartTime"),s=t.get("isSubtitlesDownloaded"),o=t.get("subtitlesDownloadError"),l=t.get("subtitlesDownloadKey");s||o||(a&&Date.now()-a>3e4?t.set({subtitlesDownloadActivityID:null,subtitlesDownloadKey:null,subtitlesDownloadStartTime:null,isSubtitlesDownloaded:!1,subtitlesDownloadError:(0,Ce.Z)("Failed to download subtitles in time")}):B7=window.setTimeout((()=>{r.fetch({data:{skipRefresh:1},usePopulatedParams:!0}).then((()=>{if(r.get("Media").some((e=>e.Part.some((e=>e.Stream.some((e=>e.key===l)))))))return t.set({subtitlesDownloadActivityID:null,subtitlesDownloadKey:null,subtitlesDownloadStartTime:null,isSubtitlesDownloaded:!0,subtitlesDownloadError:null}),void H7(e);i.get("hasEventConnection")||_7(e,t)}),(()=>{_7(e,t)}))}),2e3))}function H7(e){const t=e.get("ui").get("audioVideoPlayer");t.get("isOpen")&&(0,xj.Z)(e).refreshRemoteStreams(t)}const Q7=(0,VT.Z)({[j7](e){const t=F7(e),n=t.get("subtitles");B7&&(B7=window.clearTimeout(B7)),n.abortPendingPopulate(),n.resetPopulatePromise(null),t.restoreDefaults()},[L7](e,t,n){const r=F7(e),i=function(e){return e.get("user").get("profile")}(e),a=(0,uC.$R)(e,t),s=a.server.entityID(),o=r.get("subtitles");o&&(o.abortPendingPopulate(),o.resetPopulatePromise(null));const l=new A7([],{key:a.get("key"),server:a.server,provider:a.provider,language:t.language,title:t.title,mediaItemID:t.mediaItemID,minimumScore:t.minimumScore,hearingImpaired:i.get("defaultSubtitleAccessibility"),forced:i.get("defaultSubtitleForced")});r.set({subtitles:l,serverEntityID:s,metadataItemEntityID:t.metadataItemEntityID,isSubtitlesPending:!0,isSubtitlesPopulated:!1,subtitlesError:null}),l.fetch().then((e=>{r.set({isSubtitlesPending:!1,isSubtitlesPopulated:!0})}),((e,t)=>{t.aborting?r.set("isSubtitlesPending",!1):r.set({isSubtitlesPending:!1,subtitlesError:(0,x7.Z)(t,(0,Ce.Z)("Unable to load subtitles"))})}))},[k7](e,t,n){const r=F7(e),i=(0,uC.$R)(e,t),a=i.server,s={key:t.key,codec:t.codec,language:t.language,hearingImpaired:t.hearingImpaired?1:0,forced:t.forced?1:0,providerTitle:t.providerTitle,mediaItemID:t.mediaItemID,transient:t.transient},o=E.Z.join([i.get("key"),"/subtitles"],s),l=a.getXHROptions(o,{type:"PUT"});r.set({subtitlesDownloadKey:t.key,subtitlesDownloadStartTime:Date.now(),isSubtitlesDownloaded:!1,subtitlesDownloadError:null}),h().ajax(l).then(((t,n,i)=>{const s=i.getResponseHeader("X-Plex-Activity");r.set("subtitlesDownloadActivityID",s),a.get("hasEventConnection")||_7(e,r)}),(e=>{r.set({subtitlesDownloadKey:null,subtitlesDownloadError:(0,x7.Z)(e,(0,Ce.Z)("Unable to download subtitles"))})}))},[R7](e){F7(e).set("subtitlesDownloadError",null)},[wC.db](e,t){const{serverEntityID:n}=t,r=F7(e);n===r.get("serverEntityID")&&_7(e,r)},[wC.Cs](e,t,n){const{activity:r}=t;if(r.type!==gl.iJ)return;const i=F7(e);if(r.uuid!==i.get("subtitlesDownloadActivityID"))return;const a=i.get("serverEntityID"),s=i.get("metadataItemEntityID"),o={subtitlesDownloadActivityID:null,subtitlesDownloadKey:null,subtitlesDownloadStartTime:null},l=null!=r.Response.error;l?(o.isSubtitlesDownloaded=!1,o.subtitlesDownloadError=r.Response.status):o.isSubtitlesDownloaded=!0,i.set(o),l||(H7(e),n((0,$l.dk)({serverEntityID:a,metadataItemEntityID:s})))}});function G7(e){return e.ui.subtitlesModal}var W7=n(53221),Y7=n(98932);const K7=/(^[^-]+)-/;function q7(e){for(let t=0,n=(e=e||[]).length;t<n;t++){const n=e[t];if("xx"===n||"xn"===n)continue;if(Y7.ZP[n])return n;const r=n.match(K7),i=r&&q7([r[1]]);if(i)return i}}const $7=["af","sq","ar","an","hy","az","eu","be","bn","bs","br","bg","my","ca","zh","zh-TW","cs","da","nl","en","eo","et","fi","fr","ka","de","gl","el","he","hi","hr","hu","is","id","it","ja","kn","kk","km","ko","ku","lv","lt","lb","mk","ml","ms","mn","no","oc","fa","pl","pt","pt-BR","ro","ru","sr","si","sk","sl","es","sw","sv","ta","te","tl","th","tr","uk","ur","vi"],J7=$7.reduce(((e,t)=>(e[t]=Y7.ZP[t],e)),{});function X7(e){if(J7[e])return e;const t=q7([e]);return J7[t]?t:"en"}const eee=[...$7].sort(Y7.wq).reduce(((e,t)=>(e.push(J7[t]),e)),[]),tee=J7;var nee=n(18246),ree=n(99085);class iee extends g.Component{constructor(){super(...arguments),this.onPress=()=>{const{subtitleKey:e,codec:t,languageCode:n,providerTitle:r,hearingImpaired:i,forced:a,onDownloadSubtitle:s}=this.props;s({key:e,codec:t,languageCode:n,providerTitle:r,hearingImpaired:i,forced:a})}}render(){const{title:e,displayTitle:t,score:n,perfectMatch:r,downloaded:i,isDownloading:a}=this.props;return g.createElement(pw.Z,{className:"SubtitleRow-item-2r7hwu",isDisabled:i||a,onPress:this.onPress},g.createElement("div",{className:"SubtitleRow-titles-15A4BQ"},g.createElement("span",{className:"SubtitleRow-title-3y_zqh"},e),g.createElement("span",{className:"SubtitleRow-secondaryTitle-3bJ-VY SubtitleRow-title-3y_zqh"},t)),g.createElement("div",{className:"SubtitleRow-score-hE6pQR"},r?g.createElement(Ss,{className:"SubtitleRow-perfectMatch-3LUb2g"}):null,n),a?g.createElement("div",{className:"SubtitleRow-spinnerContainer-jDr62y"},g.createElement(Mx.Z,{size:Rp.HC})):null,i?g.createElement(Ko.Z,{className:"SubtitleRow-downloadedIcon-34X5Ls SubtitleRow-icon-2w_Nam"}):null,a||i?null:g.createElement(RW,{className:"SubtitleRow-downloadIcon-10ImXJ SubtitleRow-icon-2w_Nam"}))}}const aee=iee,see=function(e){const{subtitles:t,subtitlesDownloadKey:n,onDownloadSubtitle:r}=e;return g.createElement(rU.Z,null,t.map((e=>{const{key:t,title:i,displayTitle:a,providerTitle:s,score:o,codec:l,languageCode:c,hearingImpaired:d,forced:u,perfectMatch:p,downloaded:m}=e;return g.createElement(aee,{key:t,subtitleKey:t,title:i,displayTitle:a,providerTitle:s,score:o,codec:l,languageCode:c,hearingImpaired:d,forced:u,perfectMatch:p,downloaded:m,isDownloading:n===t,onDownloadSubtitle:r})})))},oee="SubtitlesModalContent-centeredContainer-3O0Ga2";class lee extends g.Component{constructor(e,t){super(e,t),this.onSearch=()=>{const{language:e,title:t}=this.state;this.props.onFetchSubtitles({language:e,title:t})},this.onLanguageChange=e=>{const t=Object.keys(tee).find((t=>tee[t]===e));this.setState({language:t},this.onSearch)},this.onTitleChange=e=>{this.searchTimeoutID&&window.clearTimeout(this.searchTimeoutID),this.setState({title:e},(()=>{this.searchTimeoutID=window.setTimeout(this.onSearch,500)}))},this.state={language:X7(e.defaultSubtitleLanguage),title:""},this.searchTimeoutID=null}componentDidMount(){this.onSearch()}componentDidUpdate(e,t){const{isSubtitlesDownloaded:n,onModalClose:r}=this.props,{isSubtitlesDownloaded:i}=e;!i&&n&&r()}componentWillUnmount(){this.searchTimeoutID&&window.clearTimeout(this.searchTimeoutID)}render(){const{mediaTitle:e,subtitles:t,showSpinner:n,showSearchResults:r,showEmptyMessage:i,hasSubtitlesError:a,subtitlesError:s,subtitlesDownloadKey:o,hasSubtitlesDownloadError:l,subtitlesDownloadError:c,onDownloadSubtitle:d,onModalClose:u}=this.props,{language:p}=this.state;return g.createElement("div",{className:"SubtitlesModalContent-modalContainer-26JoCE"},g.createElement(Tw.Z,{onModalClose:u},g.createElement(vw.Z,null,(0,Ce.Z)("Subtitles")),l?g.createElement("div",null,g.createElement(ww.Z,{errorMessage:c})):null,g.createElement(hw.Z,{className:"SubtitlesModalContent-modalBody-1LbnSr ModalBody-modalBody-38ercY",scrollDirection:tZ.Hn},g.createElement("div",{className:"SubtitlesModalContent-inputs-2_Hxt8"},g.createElement(nee.Z,{className:"SubtitlesModalContent-languageInput-1OdK6X SelectInput-input-_K0kCK input-input-3msd1_",name:"language",value:tee[p],values:eee,onChange:this.onLanguageChange}),g.createElement(ree.Z,{className:"SubtitlesModalContent-titleInput-3lo7d2 TextInput-input-16EbOL input-input-3msd1_",name:"title",placeholder:e,onChange:this.onTitleChange})),n?g.createElement("div",{className:oee},g.createElement(Mx.Z,null)):null,a?g.createElement("div",{className:oee},s):null,r?g.createElement(see,{subtitles:t,subtitlesDownloadKey:o,onDownloadSubtitle:d}):null,i?g.createElement("div",{className:oee},(0,Ce.Z)("No results")):null)))}}const cee=lee,dee=(0,v.$j)((function(){return(0,fe.P1)((0,wn.Z)("profile"),(0,xx.Z)(),G7,((e,t={},n)=>{const{Media:r}=t;let i="";if(r&&r.length){const e=r[0].Part;e.length&&(i=(0,W7.Z)(e[0].file,55))}const{subtitles:a,isSubtitlesPending:s,isSubtitlesPopulated:o,subtitlesError:l,subtitlesDownloadKey:c,isSubtitlesDownloaded:d,subtitlesDownloadError:u}=n,p=s&&!l,m=o&&!l&&a.length>0,h=o&&!l&&0===a.length;return{mediaTitle:i,defaultSubtitleLanguage:e.defaultSubtitleLanguage,subtitles:a,showSpinner:p,showSearchResults:m,showEmptyMessage:h,subtitlesDownloadKey:c,isSubtitlesDownloaded:d,hasSubtitlesError:!!l,subtitlesError:l,hasSubtitlesDownloadError:!!u,subtitlesDownloadError:u}}))}),(function(e,t){const{metadataItemEntityID:n}=t;return{onFetchSubtitles({language:t,title:r}){e(U7({metadataItemEntityID:n,language:t,title:r}))},onDownloadSubtitle(t){const{key:r,codec:i,languageCode:a,providerTitle:s,hearingImpaired:o,forced:l}=t;e(V7({metadataItemEntityID:n,key:r,codec:i,language:a,providerTitle:s,hearingImpaired:o,forced:l}))}}}))(cee),uee=function(e){const{metadataItemEntityID:t,isOpen:n,onModalClose:r}=e;return g.createElement(Zw.Z,{isOpen:n,metricsPage:pt.Wv,onModalClose:r},g.createElement(dee,{metadataItemEntityID:t,onModalClose:r}))};var pee=Object.defineProperty,mee=Object.prototype.hasOwnProperty,hee=Object.getOwnPropertySymbols,gee=Object.prototype.propertyIsEnumerable,yee=(e,t,n)=>t in e?pee(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,vee=(e,t)=>{for(var n in t||(t={}))mee.call(t,n)&&yee(e,n,t[n]);if(hee)for(var n of hee(t))gee.call(t,n)&&yee(e,n,t[n]);return e};const fee={dispatchResetMetadataItemSubtitles:z7};class bee extends g.Component{constructor(){super(...arguments),this.onModalClose=()=>{this.props.dispatchResetMetadataItemSubtitles(),this.props.onModalClose()}}render(){return g.createElement(uee,vee(vee({},this.props),{onModalClose:this.onModalClose}))}}const Iee=(0,v.$j)(null,fee)(bee),See=["aqt","ass","idx","jss","psb","rt","smi","srt","ssa","sub","txt","utf","utf-8","utf8","vtt"],Mee="ui/subtitlesUploadModal/resetUploadSubtitles",Eee="ui/subtitlesUploadModal/uploadSubtitles",Pee=(0,bc.Z)(Mee),Dee=(0,bc.Z)(Eee);function Cee(e){return e.get("ui").get("subtitlesUploadModal")}const wee=(0,VT.Z)({[Mee](e){Cee(e).restoreDefaults()},[Eee](e,t,n){const{file:r}=t,i=(0,uC.$R)(e,t),a=Cee(e),s=r.name,o=function(e){const t=e.lastIndexOf(".");return t>=0?e.substring(t+1):null}(s);if(!See.includes(o))return void a.set({error:(0,Ce.Z)("Unsupported subtitle file format")});if(r.size>1048576)return void a.set({error:(0,Ce.Z)("Subtitle file exceeds 1MB size limit")});(0,fn.c9)((()=>{a.set({isUploading:!0,isUploaded:!1,error:null})}));const l=new window.FileReader;l.onload=t=>{if(t.target.error)return void a.set({isUploading:!1,isUploaded:!1,error:(0,Ce.Z)("Unable to upload subtitle file")});const n=t.target.result,r=E.Z.join([i.get("key"),"subtitles"],{title:s,format:o}),l=i.server.getXHROptions(r,{method:"POST",processData:!1,contentType:!1,data:n});h().ajax(l).then((()=>{a.set({isUploading:!1,isUploaded:!0,error:null});const t=e.get("ui").get("audioVideoPlayer");i.fetch({data:{skipRefresh:1},usePopulatedParams:!0}),t.get("isOpen")&&(0,xj.Z)(e).refreshRemoteStreams(t)}),(e=>{a.set({isUploading:!1,isUploaded:!1,error:(0,x7.Z)(e,(0,Ce.Z)("Unable to upload subtitle file"))})}))},l.readAsText(r)}});class Zee extends g.Component{constructor(e,t){super(e,t),this.onDragEnter=(e=window.event)=>{e.preventDefault(),this.dropTargetEnteredCounter++,this.setOverDropTargetState()},this.onDragLeave=(e=window.event)=>{e.preventDefault(),this.dropTargetEnteredCounter--,this.setOverDropTargetState()},this.onFileDrop=e=>{e.preventDefault();const{metadataItemEntityID:t,dispatchUploadSubtitles:n}=this.props;let r;this.setState({isOverDropTarget:!1}),this.dropTargetEnteredCounter=0,e.dataTransfer&&e.dataTransfer.files.length?r=e.dataTransfer.files[0]:e.target.files&&e.target.files.length&&(r=e.target.files[0]),n({metadataItemEntityID:t,file:r})},this.dropTargetEnteredCounter=0,this.state={isOverDropTarget:!1}}componentDidMount(){window.addEventListener("dragover",this.onWindowDragOver),window.addEventListener("drop",this.onWindowDrop)}componentDidUpdate(e){const{isUploading:t,isUploaded:n,onModalClose:r}=this.props;e.isUploading&&!t&&n&&r()}componentWillUnmount(){window.removeEventListener("dragover",this.onWindowDragOver),window.removeEventListener("drop",this.onWindowDrop)}setOverDropTargetState(){this.state.isOverDropTarget||0===this.dropTargetEnteredCounter||this.setState({isOverDropTarget:!0}),this.state.isOverDropTarget&&0===this.dropTargetEnteredCounter&&this.setState({isOverDropTarget:!1})}onWindowDrop(e=window.event){e.preventDefault()}onWindowDragOver(e=window.event){e.preventDefault()}onDragOver(e=window.event){e.dataTransfer.dropEffect="copy"}render(){const{isUploading:e,isUploaded:t,error:n,onModalClose:r}=this.props,{isOverDropTarget:i}=this.state;return g.createElement(Tw.Z,{onModalClose:r},g.createElement(vw.Z,null,(0,Ce.Z)("Upload Subtitle File")),n?g.createElement(ww.Z,{errorMessage:n}):null,g.createElement(hw.Z,{className:"SubtitlesUploadModalContent-modalBody-1P9zuu ModalBody-modalBody-38ercY",scrollDirection:tZ.Hn},g.createElement("div",{className:Te()("SubtitlesUploadModalContent-container-2qD4bU",i&&"SubtitlesUploadModalContent-dropHover-kKWAnJ"),onDrop:e?null:this.onFileDrop,onDragOver:e?null:this.onDragOver,onDragEnter:e?null:this.onDragEnter,onDragLeave:e?null:this.onDragLeave},e||t?g.createElement("div",{className:"SubtitlesUploadModalContent-uploadingContainer-3wwMiE"},g.createElement(EF.Z,{label:(0,Ce.Z)("Uploading subtitle file")})):g.createElement("div",{className:"SubtitlesUploadModalContent-fileInputContainer-3InEO1"},g.createElement(Cw,{inputComponent:pw.Z,className:"SubtitlesUploadModalContent-fileInputLink-5XYS0V",name:"subtitleFile",buttonText:(0,Ce.Z)("Choose a file"),onChange:this.onFileDrop}),g.createElement("span",{className:"SubtitlesUploadModalContent-separator-vZMCFi"},""),(0,Ce.Z)("drag and drop")))),g.createElement(gw.Z,null,g.createElement(yw.Z,null,g.createElement(cb.Z,{onPress:r},(0,Ce.Z)("Cancel")))))}}const Tee=Zee,Nee={dispatchUploadSubtitles:Dee},Oee=(0,v.$j)((function(){return(0,fe.P1)((e=>e.ui.subtitlesUploadModal),(e=>e))}),Nee)(Tee),Aee=function(e){const{metadataItemEntityID:t,isOpen:n,onModalClose:r}=e;return g.createElement(Zw.Z,{className:"SubtitlesUploadModal-modal-1BU7Mi Modal-medium-3YP8Mf Modal-modal-23PFoV",isOpen:n,metricsPage:pt.m9,onModalClose:r},g.createElement(Oee,{metadataItemEntityID:t,onModalClose:r}))};var xee=Object.defineProperty,jee=Object.prototype.hasOwnProperty,Lee=Object.getOwnPropertySymbols,kee=Object.prototype.propertyIsEnumerable,Ree=(e,t,n)=>t in e?xee(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,zee=(e,t)=>{for(var n in t||(t={}))jee.call(t,n)&&Ree(e,n,t[n]);if(Lee)for(var n of Lee(t))kee.call(t,n)&&Ree(e,n,t[n]);return e};const Uee={dispatchResetUploadSubtitles:Pee};class Vee extends g.Component{constructor(){super(...arguments),this.onModalClose=()=>{this.props.dispatchResetUploadSubtitles(),this.props.onModalClose()}}render(){const e=this.props,{dispatchResetUploadSubtitles:t}=e,n=((e,t)=>{var n={};for(var r in e)jee.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&Lee)for(var r of Lee(e))t.indexOf(r)<0&&kee.call(e,r)&&(n[r]=e[r]);return n})(e,["dispatchResetUploadSubtitles"]);return g.createElement(Aee,zee(zee({},n),{onModalClose:this.onModalClose}))}}const Bee=(0,v.$j)(null,Uee)(Vee);function Fee({metadataItem:e,part:t,onSelect:n,onDelete:r}){var i,a;const[s,o]=Hn(),l=ei(e.sourceURI),c=(0,gd.Z)(),d=(0,gd.Z)(),u=!(!(null==(i=s.ownerFeatures)?void 0:i.includes(bn.EM))||!Lc(o)),p=!(!(null==(a=s.ownerFeatures)?void 0:a.includes(bn.m9))||!Lc(o)),m=(0,No.Z)(),h=(0,gd.Z)(),y=(0,gd.Z)(),[v,f]=(0,g.useState)(),[b,I]=(0,g.useState)(Z7(t,ni.jx.Subtitles)),S=w7(t,ni.jx.Subtitles),M=(0,g.useCallback)((e=>{const t=S.find((t=>t.id===e));I(t),n(ni.fw.Subtitles,e)}),[n,S]),E=(0,g.useCallback)((()=>{v&&r(v)}),[r,v]);return(0,g.useEffect)((()=>{I(Z7(t,ni.jx.Subtitles))}),[t]),(0,g.useEffect)((()=>{!l.isStreamDeletePending&&y.isOpen&&y.onClose()}),[l.isStreamDeletePending]),g.createElement(g.Fragment,null,S.length||u||p?g.createElement(Z0.Z,{id:m,isSelected:!0,direction:h.isOpen?kp.UP:kp.WV,onPress:h.onToggle},S.length?g.createElement(T7,{type:ni.jx.Subtitles,stream:b}):(0,Ce.Z)("None")):(0,Ce.Z)("None"),g.createElement(Xl.Z,{target:m,isOpen:h.isOpen,size:Rp.ln,isAutoCloseDisabled:y.isOpen,onMenuClose:h.onClose},S.length?g.createElement(Up.Z,{key:_j.H,value:_j.H,isSelected:!b,onSelect:(0,rc.Z)(M,h.onClose)},g.createElement(T7,{type:ni.jx.Subtitles})):null,S.map((e=>{const t=!!e.key&&s.isFullOwnedServer;return g.createElement("div",{key:e.id,className:t?"SubtitlesStreamsMenu-externalMenuItemContainer-1QSnlo":void 0},g.createElement(Up.Z,{className:t?"SubtitlesStreamsMenu-externalMenuItem-2g64kC SelectedMenuItem-menuItemContainer-87szhD":void 0,menuLabelClassName:"SubtitlesStreamsMenu-menuLabelClassName-2ifVd9 SelectedMenuItem-menuLabel-1WTzXp",value:e.id,isSelected:e===b,onSelect:(0,rc.Z)(M,h.onClose)},g.createElement(T7,{type:ni.jx.Subtitles,stream:e}),e.title?g.createElement("span",{className:"SubtitlesStreamsMenu-extendedTitle-2pUsLk"},e.title):null),t?g.createElement(g.Fragment,null,g.createElement(Ng,{className:"SubtitlesStreamsMenu-externalDeleteButton-Aw6kvF IconButton-iconButton-1kbRFb Link-link-2WGTd7",iconComponent:cu.Z,ariaLabel:(0,Ce.Z)("Delete Subtitle"),onPress:(0,rc.Z)(y.onOpen,(()=>f(e.key)))}),g.createElement(yt.Z,{isOpen:y.isOpen,isConfirmButtonSpinning:l.isStreamDeletePending,metricsPage:pt.Yp,kind:ic.T,title:(0,Ce.Z)("Delete Subtitle File"),message:(0,Ce.Z)("Are you sure you want to delete this subtitle file?"),confirmLabel:(0,Ce.Z)("Delete"),onConfirm:E,onCancel:y.onClose})):null)})),u?g.createElement(ec.Z,{onPress:(0,rc.Z)(c.onOpen,h.onClose)},(0,Ce.Z)("Search...")):null,p?g.createElement(ec.Z,{onPress:(0,rc.Z)(d.onOpen,h.onClose)},(0,Ce.Z)("Upload...")):null),g.createElement(Sc,{metadataItem:e,metadataItemState:l},(({metadataItemEntityID:e,onMarkStale:t})=>g.createElement(g.Fragment,null,g.createElement(Iee,{metadataItemEntityID:e,isOpen:c.isOpen,onModalClose:(0,rc.Z)(c.onClose,t)}),g.createElement(Bee,{metadataItemEntityID:e,isOpen:d.isOpen,onModalClose:(0,rc.Z)(d.onClose,t)})))))}const _ee={tagsListLink:"PrePlayTagListLink-tagsListLink-23POZP Link-link-2WGTd7"};var Hee=Object.defineProperty,Qee=Object.prototype.hasOwnProperty,Gee=Object.getOwnPropertySymbols,Wee=Object.prototype.propertyIsEnumerable,Yee=(e,t,n)=>t in e?Hee(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;function Kee(e){var t=e,{className:n=_ee.tagsListLink}=t,r=((e,t)=>{var n={};for(var r in e)Qee.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&Gee)for(var r of Gee(e))t.indexOf(r)<0&&Wee.call(e,r)&&(n[r]=e[r]);return n})(t,["className"]);return g.createElement(vr,((e,t)=>{for(var n in t||(t={}))Qee.call(t,n)&&Yee(e,n,t[n]);if(Gee)for(var n of Gee(t))Wee.call(t,n)&&Yee(e,n,t[n]);return e})({className:n},r))}const qee=function(e,t=1/0){const[n,r]=(0,g.useState)(!1),i=(0,g.useCallback)((()=>{r(!0)}),[]);return[function(e,t,n){return Zl(e>0,"`limit` must be a value greater than 0"),n?t:t>e?e-1:e}(t,e,n),i]};function $ee({metadataItem:e}){var t,n,r;const i=(0,v.I0)(),[a,s]=Hn(),o=null!=(n=null==(t=e.Media)?void 0:t.length)?n:0,[l,c]=qee(o,1),d=function(e){const t=e.Media;if(null==t?void 0:t.length)return 1===t.length?t[0]:Array.from(t).sort(((e,t)=>{var n,r,i,a;return(null!=(n=t.width)?n:0)-(null!=(r=e.width)?r:0)||(null!=(i=t.bitrate)?i:0)-(null!=(a=e.bitrate)?a:0)}))[0]}(e),u=(null==d?void 0:d.Part)&&d.Part[0],p=u?Z7(u,ni.jx.Video):void 0,m=(0,g.useCallback)(((t,n)=>{Zl(null!=u,"A part is required to select a stream"),i(os.Z.actions.streamSelectRequested({server:a,provider:s,sourceURI:e.sourceURI,part:u,streamIDParam:t,streamID:n,allParts:!0}))}),[i,e.sourceURI,u,s,a]),h=(0,g.useCallback)((t=>{i(os.Z.actions.streamDeleteRequested({server:a,provider:s,sourceURI:e.sourceURI,streamKey:t}))}),[i,e.sourceURI,s,a]);return u?g.createElement(D7,null,o>1&&Lc(s)?g.createElement(C7,{label:(0,Ce.Z)("Versions")},null==(r=e.Media)?void 0:r.map(((e,t)=>{if(t>l)return null;const{title:n,info:r}=Ec(e),i=!!n,a=!!(null==r?void 0:r.length);return g.createElement("span",{key:e.id,className:"PrePlayDetailsStreamsGroup-versionTitle-2dmTKU"},i?e.title:null,i&&a?" (":null,a?r:null,i&&a?")":null,i||a?null:(0,Ce.Z)("Unknown"),t+1<l&&t+1<o?", ":null)})),o>l?g.createElement(g.Fragment,null,l>1?", ":" ",g.createElement(Kee,{onPress:c},(0,Ce.Z)("and {count} more",{count:o-1-l}))):null):null,g.createElement(C7,{label:(0,Ce.Z)("Video")},g.createElement(T7,{type:ni.jx.Video,stream:p})),g.createElement(C7,{label:(0,Ce.Z)("Audio")},g.createElement(N7,{part:u,onSelect:m})),g.createElement(C7,{label:(0,Ce.Z)("Subtitles")},g.createElement(Fee,{metadataItem:e,part:u,onSelect:m,onDelete:h}))):null}const Jee=({tag:e,server:t,provider:n,contentDirectory:r,metadataNumericType:i,fallbackFilter:a})=>{if(!r)return;let s;if(e.type===ni.pG.Directory&&e.key)s=(0,hI.Z)(t,n,r,{key:e.key,pageType:$t.F6.List});else if(e.filter){const[a,o]=e.filter.split("=");s=(0,hI.Z)(t,n,r,{key:E.Z.join([r.key,"all"],{type:i,[a]:o}),pageType:$t.F6.List})}else e.id&&a&&(s=(0,hI.Z)(t,n,r,{key:E.Z.join([r.key,"all"],{type:i,[a]:e.id}),pageType:$t.F6.List}));return s};function Xee({className:e,metadataItem:t,itemClassName:n="PrePlayTagList-tagItem-CWvqID",linkClassName:r="PrePlayTagList-tagsListLink-1uPaCI PrePlayTagListLink-tagsListLink-23POZP Link-link-2WGTd7",tagName:i,limit:a=1/0}){const{type:s,[i]:o=[]}=t,l=o.length,[c,d]=qee(l,a),[u,p]=Hn(),m=(0,v.v9)(zn(u.machineIdentifier,p.identifier,t.librarySectionID));if(!l)return null;const h=bp(s);return g.createElement("span",{className:e},o.map(((e,t)=>{if(t>=c)return null;const i=Jee({tag:e,contentDirectory:m,server:u,provider:p,metadataNumericType:h});return g.createElement("span",{key:t,className:n},g.createElement(Kee,{className:r,to:i,isDisabled:!i},e.tag),t+1<c&&t+1<l?", ":null)})),l>c?g.createElement(g.Fragment,null,c>1?", ":" ",g.createElement(Kee,{onPress:d},(0,Ce.Z)("and {count} more",{count:l-c}))):null)}function ete({label:e,metadataItem:t}){const[n,r]=Hn(),i=(0,v.v9)(zn(n.machineIdentifier,r.identifier,t.librarySectionID)),{studio:a,Studio:s}=t;return g.createElement(g.Fragment,null,(null==s?void 0:s.length)?g.createElement(C7,{label:e},g.createElement(Xee,{metadataItem:t,tagName:"Studio",limit:2})):null,!(null==s?void 0:s.length)&&a&&i?g.createElement(C7,{label:e},g.createElement(Kee,{to:(0,hI.Z)(n,r,i,{key:E.Z.join([i.key,"all"],{type:bp(t.type),studio:encodeURIComponent(a)}),pageType:$t.F6.List})},a)):null)}function tte({className:e="PrePlaySummary-summary-tkbZC8",dangerouslySetInnerHTML:t,children:n}){const r=n?n.split("\n"):[];return g.createElement(z0,{className:e,dangerouslySetInnerHTML:t},r.length>1?r.map(((e,t)=>g.createElement("p",{key:t},e))):n)}function nte({className:e,allowLink:t,metadataItem:n}){const{parentTitle:r}=n;return g.createElement("div",{className:e},g.createElement(Ga,{allowLink:t,metadataItem:n}),r?g.createElement(rs.Z,null):null,g.createElement(qa,{allowLink:t,metadataItem:n}))}const rte=parseInt(ng.Z.trackCellPadding,10);function ite({style:e,index:t,cellIndex:n,cellHeight:r,metadataItem:i,metadataItemState:a}){const[s,o]=Hn(),l=(0,v.v9)(Tl.Z),c=(0,v.v9)(tS(i,s)),d=(0,v.v9)((0,ht.Z)(gt.G.AudioVideo,"isPaused")),{hoverRef:u,actionsMenuButtonID:p,isHovered:m,isActionsPending:h,isActionsVisible:y,isActionsMenuOpen:f,onActionsMenuClose:b,onActionsMenuCloseComplete:I,onActionsMenuToggle:S}=Ao({server:s,provider:o,metadataItem:i,metadataItemState:a}),{type:M,subtype:E}=i,P=si(M,E),D=oi({height:r-2*rte,aspectRatio:P}),C=y&&Bc({server:s,provider:o,stableUser:l,metadataItem:i,metadataItemState:a});return g.createElement(Ju,{isAlternate:!!(n%2),isHovered:m,style:e,ref:u},g.createElement(Tb,{metadataItem:i,keyAttribute:"parentKey","aria-label":Vo(i)}),g.createElement("div",{className:"MetadataTrackDetailsRow-overlay-xkKnPD"},g.createElement("div",{className:"MetadataTrackDetailsRow-container-3K2Nuo"},g.createElement("div",{className:"MetadataTrackDetailsRow-indexPlayContainer-3Nbe1b"},c||C?null:t,!c&&C?g.createElement(ql,{metadataItem:i}):null,c?g.createElement(aM,{isPaused:d}):null),g.createElement("div",{className:"MetadataTrackDetailsRow-posterContainer-1C60_7"},g.createElement(xt.Z,{serverEntityID:s.entityID,providerEntityID:o.entityID,url:Bo(i,{aspectRatio:P}),width:D.width,height:D.height,component:Ot.Z,preloadOnMount:!1,animateOnMount:!1})),g.createElement("div",{className:"MetadataTrackDetailsRow-titleContainer-2ZEWIH"},g.createElement(di,{className:"MetadataTrackDetailsRow-title-xOF3Ll",metadataItem:i}),g.createElement(nte,{className:"MetadataTrackDetailsRow-subtitle-25e09s MetadataTrackDetailsRow-title-xOF3Ll",metadataItem:i})),y?g.createElement("div",{className:"MetadataTrackDetailsRow-actions-3gSXmZ"},g.createElement(nh,{id:p,className:"MetadataTrackDetailsRow-actionsMenuButton-1gbBnz Link-link-2WGTd7","data-qa-id":"metadataTrackMoreButton",isPending:h,onPress:S})):g.createElement(sS,{className:"MetadataTrackDetailsRow-duration-2CR-YR",metadataItem:i}))),g.createElement(Km,{target:p,isOpen:f,metadataItem:i,actionsOverride:{isPlayVisible:!1},onMenuClose:b,onMenuCloseComplete:I}))}var ate=Object.prototype.hasOwnProperty,ste=Object.getOwnPropertySymbols,ote=Object.prototype.propertyIsEnumerable;function lte(e){var t=e,{index:n,item:r}=t,i=((e,t)=>{var n={};for(var r in e)ate.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&ste)for(var r of ste(e))t.indexOf(r)<0&&ote.call(e,r)&&(n[r]=e[r]);return n})(t,["index","item"]);const a=ei(null==r?void 0:r.sourceURI),s=oo(i),{cellIndex:o,cellHeight:l}=i;return r?g.createElement(jr,{metadataItem:r,metadataItemState:a},g.createElement(ite,{style:s.style,index:n,cellIndex:o,cellHeight:l,metadataItem:r,metadataItemState:a})):g.createElement(ap,{style:s.style,index:o})}var cte=Object.defineProperty,dte=Object.prototype.hasOwnProperty,ute=Object.getOwnPropertySymbols,pte=Object.prototype.propertyIsEnumerable,mte=(e,t,n)=>t in e?cte(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const hte=parseInt(ng.Z.trackCellHeight,10),gte=function(e){return Pu(((e,t)=>{for(var n in t||(t={}))dte.call(t,n)&&mte(e,n,t[n]);if(ute)for(var n of ute(t))pte.call(t,n)&&mte(e,n,t[n]);return e})({rowHeight:hte,overscan:2},e))};function yte({className:e="PrePlayListDivider-divider-2zZWI1"}){return g.createElement("div",{className:e})}var vte=Object.defineProperty,fte=Object.prototype.hasOwnProperty,bte=Object.getOwnPropertySymbols,Ite=Object.prototype.propertyIsEnumerable,Ste=(e,t,n)=>t in e?vte(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Mte=(e,t)=>{for(var n in t||(t={}))fte.call(t,n)&&Ste(e,n,t[n]);if(bte)for(var n of bte(t))Ite.call(t,n)&&Ste(e,n,t[n]);return e};const Ete=parseInt(ng.Z.v4PagePadding,10);function Pte({hub:e,onHubReady:t}){const{title:n,sourceURI:r,key:i,type:a,subtype:s,initialSize:o,random:l,style:c=En.n.List,context:d,isStale:u}=e,p=(0,v.I0)(),[m,h]=Hn(),y=N9(),[f,b]=A9(y.contentHeight),[I,S]=(0,g.useState)(o<3?o:3),M=(0,g.useMemo)((()=>a===En.U.Track?gte({outerPaddingRight:Ete,outerPaddingLeft:Ete}):Qb({outerPaddingRight:Ete,outerPaddingLeft:Ete})),[a]),E=(0,g.useMemo)((()=>Ip(r)),[r]),P=(0,v.v9)(E),D=null==P?void 0:P.items.length,C=null==P?void 0:P.totalSize,w=null==C||l?o:C,Z=(0,g.useCallback)((e=>{p(xr.Z.actions.fetchRangeRequested(Mte(Mte({},e),{server:m,provider:h,sourceURI:r})))}),[p,m,h,r]),T=(0,g.useCallback)((()=>{S(w)}),[w]),{isPlaceholder:N,placeholderItems:O}=Ag({hub:e,size:D,totalSize:C,initialPageSize:3,onPageRequest:Z});(0,g.useEffect)((()=>{!I&&D&&S(D<3?D:3)}),[D,I]),(0,g.useEffect)((()=>{u&&!l&&p(xr.Z.actions.throttledRepopulateRequested({server:m,provider:h,sourceURI:r}))}),[p,u,h,l,m,r]),(0,g.useEffect)((()=>{t&&t(e)}),[e,t]);const A=(0,g.useCallback)((e=>a===En.U.Track?g.createElement(Jt.ZP,{key:e.key,row:e.row,column:e.column},g.createElement(lte,Mte({index:e.cellIndex+1},e))):g.createElement(zb,Mte({},e))),[a]);return N||w?g.createElement(Jt.ZP,{name:d},g.createElement(Ar,{containerServer:m,containerProvider:h,containerSourceURI:P.sourceURI,containerKey:i,containerType:a,containerSubtype:s,listStyle:c},g.createElement("div",{className:"PrePlayVerticalHub-hubHeader-2lR2mm VirtualHubScroller-hubHeader-1_4Pjo"},g.createElement(vy,{hub:e},n)),g.createElement(yte,null),g.createElement("div",{ref:b},g.createElement(Lu,{layout:M,cellComponentFactory:A,keyPropName:"listItemKey",items:N?O:P.items,totalSize:N?O.length:I,scrollTop:y.scrollTop-f,scrollLeft:y.scrollLeft,viewportWidth:y.width,viewportHeight:y.height,onPageRequest:N?void 0:Z})),g.createElement(yte,null),!N&&I<w?g.createElement("div",{className:"PrePlayVerticalHub-showAllContainer-3-8XTx"},g.createElement(vr,{onPress:T},(0,Ce.Z)("Show All"))):null,g.createElement("div",{className:"PrePlayVerticalHub-belowHub-2iS1MI"}))):null}var Dte=Object.defineProperty,Cte=Object.prototype.hasOwnProperty,wte=Object.getOwnPropertySymbols,Zte=Object.prototype.propertyIsEnumerable,Tte=(e,t,n)=>t in e?Dte(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Nte=(e,t)=>{for(var n in t||(t={}))Cte.call(t,n)&&Tte(e,n,t[n]);if(wte)for(var n of wte(t))Zte.call(t,n)&&Tte(e,n,t[n]);return e};const Ote={descendantListSourceURI:void 0,siblingListSourceURI:void 0,popularLeavesSourceURI:void 0,extrasSourceURI:void 0,metadata:{metadataItem:void 0,isMediaFileUnavailable:!1,isStale:!1,isPending:!1,isPopulated:!1,error:null},related:{hubs:[],isPending:!1,isPopulated:!1,error:null},augmented:{hubs:[],isPending:!1,isPopulated:!1,error:null}};function Ate(e,t,n){var r;const{type:i,Context:a}=n;i===gl.Ij&&(0,yn.Z)({serverIdentifier:t.machineIdentifier,key:a.key})===(null==(r=e.metadata.metadataItem)?void 0:r.sourceURI)&&(a.exists&&a.accessible?e.metadata.isMediaFileUnavailable=!1:!1!==a.exists&&!1!==a.accessible||(e.metadata.isMediaFileUnavailable=!0))}const xte=(0,lo.oM)({name:"prePlay",initialState:Ote,reducers:{reset:e=>Nte(Nte({},Ote),{siblingListSourceURI:e.siblingListSourceURI}),metadataItemFetchRequested(e,t){(0,yd.er)(e.metadata)},metadataItemFetchSucceeded(e,{payload:t}){(0,yd.vv)(e.metadata),e.descendantListSourceURI=t.descendantListSourceURI,e.siblingListSourceURI=t.siblingListSourceURI,e.popularLeavesSourceURI=t.popularLeavesSourceURI,e.extrasSourceURI=t.extrasSourceURI,e.metadata.metadataItem=t.metadataItem,e.metadata.isStale=!1},metadataItemFetchFailed(e,{payload:t}){(0,yd.VQ)(e.metadata,t.error)},metadataItemRepopulateRequested(e,t){(0,yd.er)(e.metadata)},relatedHubsFetchRequested(e,t){(0,yd.er)(e.related)},relatedHubsFetchSucceeded(e,{payload:t}){(0,yd.vv)(e.related),e.related.hubs=t.hubs},relatedHubsFetchFailed(e,{payload:t}){(0,yd.VQ)(e.related,t.error)},augmentedHubsFetchRequested(e,t){(0,yd.er)(e.augmented)},augmentedHubsFetchSucceeded(e,{payload:t}){(0,yd.vv)(e.augmented),e.augmented.hubs=t.hubs},augmentedHubsFetchFailed(e,{payload:t}){(0,yd.VQ)(e.augmented,t.error)}},extraReducers:e=>{e.addCase(vl.actions.activityUpdated,((e,{payload:t})=>{Ate(e,t.server,t.activity)})),e.addCase(vl.actions.activityFinished,((e,{payload:t})=>{Ate(e,t.server,t.activity)})),e.addCase(_v.actions.ended,((e,{payload:t})=>{var n;(null==(n=e.metadata.metadataItem)?void 0:n.source)===t.source&&(e.metadata.isStale=!0)})),e.addCase(Bv.actions.sessionStopped,((e,{payload:t})=>{var n;const r=(0,yn.Z)({serverIdentifier:t.server.machineIdentifier});(null==(n=e.metadata.metadataItem)?void 0:n.source)===r&&(e.metadata.isStale=!0)})),e.addCase(os.Z.actions.playedStatusUpdateSucceeded,((e,{payload:t})=>{var n;const r=(0,yn.Z)({serverIdentifier:t.server.machineIdentifier,providerIdentifier:t.provider.identifier});(null==(n=e.metadata.metadataItem)?void 0:n.source)===r&&(e.metadata.isStale=!0)})),e.addCase(os.Z.actions.created,((e,{payload:t})=>{const n=e.metadata.metadataItem,r=null==n?void 0:n.sourceURI,{parentSourceURI:i,rootSourceURI:a}=t;r&&(r===i||r===a&&(null==n?void 0:n.skipChildren))&&(e.metadata.isStale=!0)})),e.addCase(os.Z.actions.metadataProcessed,((e,{payload:t})=>{var n,r;if((null==(n=e.metadata.metadataItem)?void 0:n.type)!==ni.pG.Artist)return;const i=null==(r=e.metadata.metadataItem)?void 0:r.sourceURI,{parentSourceURI:a}=t;i&&i===a&&(e.metadata.isStale=!0)})),e.addCase(os.Z.actions.deleted,((e,{payload:t})=>{var n;const r=null==(n=e.metadata.metadataItem)?void 0:n.sourceURI,{parentSourceURI:i,rootSourceURI:a}=t;!r||r!==i&&r!==a||(e.metadata.isStale=!0)})),e.addCase(os.Z.actions.repopulateCanceled,((e,t)=>{e.metadata.isStale=!1}))}});function jte({hub:e,onHubReady:t}){const n=e.style===En.n.List?Pte:hy,{serverIdentifier:r,providerIdentifier:i}=(0,wr.Z)(e.sourceURI);return g.createElement(Qn,{machineIdentifier:r,providerIdentifier:i},g.createElement(n,{hub:e,hubTitleComponent:vy,onHubReady:t}))}function Lte({metadataItem:e,onHubsReady:t}){const{augmentationKey:n}=e,r=(0,v.I0)(),[i,a]=Hn(),{augmented:{hubs:s,isPending:o,isPopulated:l}}=(0,v.v9)(x9);return(0,g.useEffect)((()=>{n&&r(xte.actions.augmentedHubsFetchRequested({server:i,provider:a,augmentationKey:n}))}),[r,n,a,i]),(0,g.useEffect)((()=>{(!n||l&&!s.length)&&t()}),[n,s.length,l,t]),n?!l&&o?g.createElement("div",{className:"PrePlayAugmentedHubsList-spinnerContainer-1YpoTU"},g.createElement(Mx.Z,null)):g.createElement(Iy,{hubs:s,hubComponent:jte,onHubsReady:t}):null}function kte({hub:e,onHubReady:t}){const n=e.style===En.n.List?Pte:hy,{serverIdentifier:r,providerIdentifier:i}=(0,wr.Z)(e.sourceURI);return g.createElement(Qn,{machineIdentifier:r,providerIdentifier:i},g.createElement(n,{hub:e,hubTitleComponent:vy,onHubReady:t}))}function Rte({metadataItem:e,onHubsReady:t}){const{key:n}=e,r=(0,v.I0)(),[i,a]=Hn(),{related:{hubs:s,isPending:o,isPopulated:l}}=(0,v.v9)(x9),{isEmbedded:c}=i;return(0,g.useEffect)((()=>{c||r(xte.actions.relatedHubsFetchRequested({server:i,provider:a,metadataKey:n}))}),[r,c,n,a,i]),(0,g.useEffect)((()=>{c||l&&!s.length&&t()}),[s.length,c,l,t]),c?null:o?g.createElement("div",{className:"PrePlayRelatedHubsList-spinnerContainer-2Y3Qhl"},g.createElement(Mx.Z,null)):g.createElement(Iy,{hubs:s,hubComponent:kte,onHubsReady:t})}function zte({className:e="PrePlayRightTitle-rightTitle-1Zn35u",children:t}){return g.createElement("div",{className:e},t)}function Ute({className:e="PrePlayAttributionTitle-rightTitle-3oLkO2 PrePlayRightTitle-rightTitle-1Zn35u",imgClassName:t="PrePlayAttributionTitle-attributionLogo-343e2p",metadataItem:n}){const{attribution:r,attributionLogo:i}=n;return i?g.createElement(zte,{className:e},g.createElement("img",{src:i,className:t})):r?g.createElement(zte,{className:e},g.createElement(ma,{attribution:r})):null}function Vte({contentRating:e}){return e?g.createElement(RL.Z,{className:"PrePlayContentRating-badge-3M0hi9 Badge-badge-waFP_r"},Pa(e)):null}function Bte({className:e="PrePlayTertiaryTitleSpacer-tertiaryTitleSpacer-3afwW3",children:t}){return g.createElement("span",{className:e},t)}function Fte({metadataItem:e}){const{duration:t,contentRating:n}=e;return g.createElement(g.Fragment,null,t?g.createElement(Bte,null,g.createElement(Va,{metadataItem:e})):null,n?g.createElement(Bte,null,g.createElement(Vte,{contentRating:n})):null,g.createElement(Ua,{metadataItem:e}))}function _te({className:e="PrePlayLeftTitle-leftTitle-2id2wu",children:t}){return g.createElement("div",{className:e},t)}function Hte({className:e="PrePlayPrimaryTitle-primaryTitle-1q7FmZ",children:t}){return g.createElement("div",{className:e,"data-qa-id":"preplay-mainTitle"},t)}function Qte({className:e="PrePlaySecondaryTitle-secondaryTitle-m24Glo PrePlayPrimaryTitle-primaryTitle-1q7FmZ",children:t}){return g.createElement("div",{className:e,"data-qa-id":"preplay-secondTitle"},t)}function Gte({className:e="PrePlayTertiaryTitle-tertiaryTitle-2RGElY",children:t}){return g.createElement("div",{className:e,"data-qa-id":"preplay-thirdTitle"},t)}function Wte(e,t){const n=(0,g.useRef)(0),r=(0,g.useRef)(void 0);return r.current||(r.current=Array.from({length:e}).map(((r,i)=>()=>{n.current=n.current|2**i,n.current===2**e-1&&t()}))),r.current}function Yte({metadataItem:e,onHubsReady:t}){const{year:n,summary:r,Genre:i,Style:a}=e,[s,o]=Wte(2,t);return g.createElement(g.Fragment,null,g.createElement(P7,{metadataItem:e},g.createElement(Hte,null,g.createElement(_te,null,g.createElement(qa,{metadataItem:e})),g.createElement(Ute,{metadataItem:e})),g.createElement(Qte,null,g.createElement(di,{metadataItem:e,allowLink:!1})),g.createElement(Gte,null,n?g.createElement(Bte,null,n):null,g.createElement(Fte,{metadataItem:e})),g.createElement(v7,{metadataItem:e,promotedActions:["isPlayVisible","isShuffleVisible","isAddToPlaylistVisible","isSyncDownloadVisible","isEditVisible"]}),r?g.createElement(tte,null,r):null,g.createElement(D7,null,g.createElement(ete,{label:(0,Ce.Z)("Record Label"),metadataItem:e}),(null==i?void 0:i.length)?g.createElement(C7,{label:(0,Ce.Z)("Genre")},g.createElement(Xee,{metadataItem:e,tagName:"Genre",limit:3})):null,(null==a?void 0:a.length)?g.createElement(C7,{label:(0,Ce.Z)("Style")},g.createElement(Xee,{metadataItem:e,tagName:"Style",limit:3})):null),g.createElement($ee,{metadataItem:e})),g.createElement(n7,{metadataItem:e}),g.createElement(Rte,{metadataItem:e,onHubsReady:o}),g.createElement(Lte,{metadataItem:e,onHubsReady:s}))}function Kte({className:e,selectedClassName:t,selectButtonClassName:n,metadataList:r,metadataItem:i}){var a,s;const o=(0,v.I0)(),[l,c]=Hn(),{type:d,subtype:u,skipChildren:p}=i,m=p?ld(d,u):od(d,u),[h,y]=(0,g.useState)(!1),f=null!=(a=r.totalSize)?a:0,b=r.items.length,{onSelect:I,onToggleSelect:S,isSelected:M}=k9(r.items);(0,g.useEffect)((()=>{h&&(b<f?o(xr.Z.actions.fetchAllRequested({server:l,provider:c,sourceURI:r.sourceURI})):I())}),[o,h,b,r.sourceURI,I,c,l,f]),(0,g.useEffect)((()=>{M&&y(!1)}),[M]);const E=(0,g.useCallback)((()=>{b<f?y(!h):S()}),[h,b,S,f]),P=Z9(null!=(s=r.totalSize)?s:0,null!=m?m:d,u);return g.createElement(R9,{className:e,selectedClassName:t,selectButtonClassName:n,title:P,isSelectable:dh(c),isSelected:M||h,onSelectPress:E})}var qte=Object.defineProperty,$te=Object.prototype.hasOwnProperty,Jte=Object.getOwnPropertySymbols,Xte=Object.prototype.propertyIsEnumerable,ene=(e,t,n)=>t in e?qte(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,tne=(e,t)=>{for(var n in t||(t={}))$te.call(t,n)&&ene(e,n,t[n]);if(Jte)for(var n of Jte(t))Xte.call(t,n)&&ene(e,n,t[n]);return e};const nne=parseInt(ng.Z.v4PagePadding,10);function rne({items:e,totalSize:t,viewportWidth:n,viewportHeight:r,scrollTop:i,scrollLeft:a,onPageRequest:s}){const o=(0,g.useMemo)((()=>Qb({outerPaddingRight:nne,outerPaddingLeft:nne})),[]),l=(0,g.useCallback)((e=>g.createElement(zb,tne(tne({},e),{isParentDetailHidden:!0}))),[]);return g.createElement(g.Fragment,null,g.createElement(yte,null),g.createElement(Lu,{layout:o,cellComponentFactory:l,keyPropName:"listItemKey",items:e,totalSize:t,scrollTop:i,scrollLeft:a,viewportWidth:n,viewportHeight:r,onPageRequest:s}),g.createElement(yte,null))}var ine=Object.defineProperty,ane=Object.prototype.hasOwnProperty,sne=Object.getOwnPropertySymbols,one=Object.prototype.propertyIsEnumerable,lne=(e,t,n)=>t in e?ine(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;function cne({type:e,subtype:t,items:n,totalSize:r,viewportWidth:i,viewportHeight:a,scrollTop:s,scrollLeft:o,onPageRequest:l}){const c=(0,v.v9)(Ug),{containerMeta:d}=Or(),u=(0,g.useMemo)((()=>ZI({listType:e,subtype:t,columnWidth:c,listStyle:En.n.PrePlayGrid,displayFields:null==d?void 0:d.DisplayFields,displayImages:null==d?void 0:d.DisplayImage})),[c,null==d?void 0:d.DisplayFields,null==d?void 0:d.DisplayImage,t,e]),p=(0,g.useCallback)((e=>g.createElement(kh,((e,t)=>{for(var n in t||(t={}))ane.call(t,n)&&lne(e,n,t[n]);if(sne)for(var n of sne(t))one.call(t,n)&&lne(e,n,t[n]);return e})({},e))),[]);return g.createElement(Lu,{layout:u,cellComponentFactory:p,keyPropName:"listItemKey",items:n,totalSize:r,scrollTop:s,scrollLeft:o,viewportWidth:i,viewportHeight:a,onPageRequest:l})}var dne=n(17798),une=n(36171);let pne;const mne=function(e){if(!e)return"";pne||(pne=document.createElement("P")),pne.innerHTML=e;const t=pne.textContent;return pne.innerHTML="",t},hne="MetadataSimpleDetailsRow-unwatchedCircle-3sVPP4";function gne({style:e,cellIndex:t,metadataItem:n,metadataItemState:r}){const[i,a]=Hn(),s=(0,v.v9)(Tl.Z),o=(0,v.v9)(tS(n,i)),l=(0,v.v9)((0,ht.Z)(gt.G.AudioVideo,"isPaused")),{hoverRef:c,actionsMenuButtonID:d,isHovered:u,isActionsPending:p,isActionsVisible:m,isActionsMenuOpen:h,onActionsMenuClose:y,onActionsMenuCloseComplete:f,onActionsMenuToggle:b}=Ao({server:i,provider:a,metadataItem:n,metadataItemState:r}),{isSelected:I,isInSelectionRange:S,isSelectionActive:M,onToggleSelect:E}=Do({isHovered:u,metadataItem:n,metadataItemState:r}),P=(0,g.useMemo)((()=>S?"MetadataSimpleDetailsRow-rangeListRow-1l088c ListRow-row-F6OwAL":I?"MetadataSimpleDetailsRow-selectedListRow-1casYZ ListRow-row-F6OwAL":void 0),[S,I]),D=!M&&m,C=(0,g.useCallback)((()=>{E()}),[E]),w=D&&Bc({server:i,provider:a,stableUser:s,metadataItem:n,metadataItemState:r});return g.createElement(Ju,{className:P,alternateClassName:P,isAlternate:!!(t%2),isHovered:u,style:e,ref:c},dh(a)?g.createElement(Ob,{isSelected:I,isInSelectionRange:S,isVisible:I||S||u,title:Vo(n),onPress:C}):null,M?g.createElement(vr,{className:"MetadataSimpleDetailsRow-selectOverlay-2VOuZq Link-link-2WGTd7",onPress:C}):g.createElement(Tb,{metadataItem:n,keyAttribute:"key","aria-label":Vo(n)}),g.createElement("div",{className:"MetadataSimpleDetailsRow-overlay-2MIajd"},g.createElement("div",{className:"MetadataSimpleDetailsRow-simpleSummaryContainer-5pBZw3"},g.createElement("div",{className:"MetadataSimpleDetailsRow-indexPlayContainer-2sXhqt"},o||w?null:g.createElement(Nb,{className:"MetadataSimpleDetailsRow-titleEpisodeIndex-1t8hlR",metadataItem:n}),!o&&w?g.createElement(ql,{metadataItem:n}):null,o?g.createElement(aM,{isPaused:l}):null,Go(n,r,a)?g.createElement(g.Fragment,null,r.viewOffset||r.viewCount?null:g.createElement("div",{className:hne}),r.viewOffset?g.createElement("div",{className:Te()(hne,"MetadataSimpleDetailsRow-isPartiallyWatched-3FKlWY")}):null):null),g.createElement("div",{className:"MetadataSimpleDetailsRow-titleAndSummaryContainer-MaGfcM"},g.createElement("div",{className:"MetadataSimpleDetailsRow-titleContainer-1ddzwf"},g.createElement("div",{className:"MetadataSimpleDetailsRow-title-2K95qY"},n.title),D?g.createElement("div",{className:"MetadataSimpleDetailsRow-actions-1ReUsm"},g.createElement(nh,{id:d,"data-qa-id":"metadataRowMoreButton",isPending:p,onPress:b})):null),g.createElement("div",{className:"MetadataSimpleDetailsRow-summary-3zmxqU"},function(e,t){const{tagline:n,summary:r}=t;return n||((0,dne.Z)(e.identifier)===une.k9?mne(r):r)}(a,n))))),g.createElement(Km,{target:d,isOpen:h,metadataItem:n,actionsOverride:{isPlayVisible:!1},onMenuClose:y,onMenuCloseComplete:f}))}var yne=Object.prototype.hasOwnProperty,vne=Object.getOwnPropertySymbols,fne=Object.prototype.propertyIsEnumerable;function bne(e){var t=e,{item:n}=t,r=((e,t)=>{var n={};for(var r in e)yne.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&vne)for(var r of vne(e))t.indexOf(r)<0&&fne.call(e,r)&&(n[r]=e[r]);return n})(t,["item"]);const i=ei(null==n?void 0:n.sourceURI),a=oo(r),{cellIndex:s}=r;return n?g.createElement(jr,{metadataItem:n,metadataItemState:i},g.createElement(gne,{style:a.style,cellIndex:s,metadataItem:n,metadataItemState:i})):g.createElement(ap,{style:a.style,index:s})}var Ine=Object.defineProperty,Sne=Object.prototype.hasOwnProperty,Mne=Object.getOwnPropertySymbols,Ene=Object.prototype.propertyIsEnumerable,Pne=(e,t,n)=>t in e?Ine(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const Dne=parseInt(ng.Z.simpleSummaryCellHeight,10),Cne=parseInt(ng.Z.v4PagePadding,10),wne=function(e){return Pu(((e,t)=>{for(var n in t||(t={}))Sne.call(t,n)&&Pne(e,n,t[n]);if(Mne)for(var n of Mne(t))Ene.call(t,n)&&Pne(e,n,t[n]);return e})({rowHeight:Dne,outerPaddingRight:Cne,outerPaddingLeft:Cne,overscan:2},e))};var Zne=Object.defineProperty,Tne=Object.prototype.hasOwnProperty,Nne=Object.getOwnPropertySymbols,One=Object.prototype.propertyIsEnumerable,Ane=(e,t,n)=>t in e?Zne(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;function xne({items:e,totalSize:t,type:n,viewportWidth:r,viewportHeight:i,scrollTop:a,scrollLeft:s,onPageRequest:o}){const l=n===En.U.Episode,[c,d]=(0,g.useState)(l&&t>=3?3:t),u=(0,g.useMemo)((()=>wne()),[]),p=(0,g.useCallback)((()=>{d(t)}),[t]),m=(0,g.useCallback)((e=>g.createElement(bne,((e,t)=>{for(var n in t||(t={}))Tne.call(t,n)&&Ane(e,n,t[n]);if(Nne)for(var n of Nne(t))One.call(t,n)&&Ane(e,n,t[n]);return e})({},e))),[]);return g.createElement(g.Fragment,null,g.createElement(yte,null),g.createElement(Lu,{layout:u,cellComponentFactory:m,keyPropName:"listItemKey",items:e,totalSize:c,scrollTop:a,scrollLeft:s,viewportWidth:r,viewportHeight:i,onPageRequest:o}),g.createElement(yte,null),g.createElement("div",{className:"PrePlaySimpleDetailsVirtualList-allEpisodesContainer-1m4J5K"},c<t?g.createElement(vr,{onPress:p},(0,Ce.Z)("Show All Episodes")):null))}var jne=Object.defineProperty,Lne=Object.prototype.hasOwnProperty,kne=Object.getOwnPropertySymbols,Rne=Object.prototype.propertyIsEnumerable,zne=(e,t,n)=>t in e?jne(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const Une=parseInt(ng.Z.v4PagePadding,10);function Vne({items:e,totalSize:t,viewportWidth:n,viewportHeight:r,scrollTop:i,scrollLeft:a,onPageRequest:s}){const o=(0,g.useMemo)((()=>gte({outerPaddingRight:Une,outerPaddingLeft:Une})),[]),l=(0,g.useCallback)((e=>g.createElement(lte,((e,t)=>{for(var n in t||(t={}))Lne.call(t,n)&&zne(e,n,t[n]);if(kne)for(var n of kne(t))Rne.call(t,n)&&zne(e,n,t[n]);return e})({index:e.cellIndex+1},e))),[]);return g.createElement(g.Fragment,null,g.createElement(yte,null),g.createElement(Lu,{layout:o,cellComponentFactory:l,keyPropName:"listItemKey",items:e,totalSize:t,scrollTop:i,scrollLeft:a,viewportWidth:n,viewportHeight:r,onPageRequest:s}),g.createElement(yte,null))}const Bne={recordIconContainer:"RecordButton-recordIconContainer-vuFSax PlayButton-playCircle-2hG_PH",recordIcon:"RecordButton-recordIcon-1tDQ_C"};var Fne=Object.defineProperty,_ne=Object.prototype.hasOwnProperty,Hne=Object.getOwnPropertySymbols,Qne=Object.prototype.propertyIsEnumerable,Gne=(e,t,n)=>t in e?Fne(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;function Wne(e){var t=e,{iconContainerClassName:n=Bne.recordIconContainer,iconClassName:r=Bne.recordIcon}=t,i=((e,t)=>{var n={};for(var r in e)_ne.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&Hne)for(var r of Hne(e))t.indexOf(r)<0&&Qne.call(e,r)&&(n[r]=e[r]);return n})(t,["iconContainerClassName","iconClassName"]);return g.createElement(vr,((e,t)=>{for(var n in t||(t={}))_ne.call(t,n)&&Gne(e,n,t[n]);if(Hne)for(var n of Hne(t))Qne.call(t,n)&&Gne(e,n,t[n]);return e})({"aria-label":(0,Ce.Z)("Record")},i),g.createElement("span",{className:n},g.createElement("span",{className:r})))}const Yne={overlay:"EPGSimpleSummaryRow-overlay-2WMmcb",titleContainer:"EPGSimpleSummaryRow-titleContainer-3gnntP",primaryTitle:"EPGSimpleSummaryRow-primaryTitle-9XyWSU",secondaryTitle:"EPGSimpleSummaryRow-secondaryTitle-1F2zXv",nextAiringDate:"EPGSimpleSummaryRow-nextAiringDate-1g7caW",separator:"EPGSimpleSummaryRow-separator-fSwMxU DashSeparator-separator-3r2G27",subscriptionIcon:"EPGSimpleSummaryRow-subscriptionIcon-1XKlN_"};function Kne({style:e,cellIndex:t,metadataItem:n,metadataItemState:r}){const{metricsPage:i,metricsContextTuple:a}=(0,Jt.Zn)(),[s,o]=Hn(),l=(0,v.v9)(Tl.Z),c=(0,gd.Z)(),[d,u]=Oo(),p=n&&Kc({provider:o,server:s,stableUser:l,metadataItem:n,metadataItemState:r}),{summary:m}=n,{subscriptionID:h}=r;return g.createElement(Ju,{isAlternate:!!(t%2),isHovered:d,style:e,ref:u},g.createElement(Tb,{metadataItem:n,keyAttribute:"key","aria-label":Vo(n)}),g.createElement("div",{className:Yne.overlay},g.createElement("div",{className:Yne.titleContainer},g.createElement("div",{className:Yne.primaryTitle},g.createElement(is,{className:Yne.titleEpisodeIndex,metadataItem:n}),g.createElement(rs.Z,null),g.createElement(di,{metadataItem:n,allowLink:!1})),g.createElement("div",{className:Yne.secondaryTitle},h?g.createElement(Jo.Z,{className:Yne.subscriptionIcon,"aria-label":(0,Ce.Z)("Recording Scheduled")}):null,g.createElement(ia,{className:Yne.nextAiringDate,metadataItem:n}),m?g.createElement(rs.Z,{className:Yne.separator}):null,m)),d&&p?g.createElement(Wne,{tabIndex:-1,onPress:c.onOpen}):null),g.createElement(Sc,{metadataItem:n,metadataItemState:r},(({serverEntityID:e,providerEntityID:t,metadataItemEntityID:s,onMarkStale:o})=>g.createElement(km.Z,{isOpen:c.isOpen,serverEntityID:e,providerEntityID:t,metadataItemEntityID:s,subscriptionType:r.grandparentSubscriptionType||r.subscriptionType||n.type,metricsProperties:{page:i,contextTuple:a},onModalClose:(0,rc.Z)(o,c.onClose)}))))}var qne=Object.prototype.hasOwnProperty,$ne=Object.getOwnPropertySymbols,Jne=Object.prototype.propertyIsEnumerable;function Xne(e){var t=e,{item:n}=t,r=((e,t)=>{var n={};for(var r in e)qne.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&$ne)for(var r of $ne(e))t.indexOf(r)<0&&Jne.call(e,r)&&(n[r]=e[r]);return n})(t,["item"]);const i=ei(null==n?void 0:n.sourceURI),a=oo(r),{cellIndex:s}=r;return n?g.createElement(jr,{metadataItem:n,metadataItemState:i},g.createElement(Kne,{style:a.style,cellIndex:s,metadataItem:n,metadataItemState:i})):g.createElement(ap,{style:a.style,index:s})}var ere=Object.defineProperty,tre=Object.prototype.hasOwnProperty,nre=Object.getOwnPropertySymbols,rre=Object.prototype.propertyIsEnumerable,ire=(e,t,n)=>t in e?ere(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;function are({items:e,totalSize:t,viewportWidth:n,viewportHeight:r,scrollTop:i,scrollLeft:a,onPageRequest:s}){const o=(0,g.useMemo)((()=>wne({rowHeight:96})),[]),l=(0,g.useCallback)((e=>g.createElement(Xne,((e,t)=>{for(var n in t||(t={}))tre.call(t,n)&&ire(e,n,t[n]);if(nre)for(var n of nre(t))rre.call(t,n)&&ire(e,n,t[n]);return e})({},e))),[]);return g.createElement(g.Fragment,null,g.createElement(yte,null),g.createElement(Lu,{layout:o,cellComponentFactory:l,keyPropName:"listItemKey",items:e,totalSize:t,scrollTop:i,scrollLeft:a,viewportWidth:n,viewportHeight:r,onPageRequest:s}),g.createElement(yte,null))}const sre=(0,fe.P1)(x9,(e=>e.metadata.metadataItem)),ore=(0,fe.P1)(sre,(e=>{if(!e)return;if(e.type===ni.pG.Collection)return En.U.Collection;const t=e.skipChildren?ld(e.type,e.subtype):od(e.type,e.subtype);return(t?function(e){const t=(0,av.gQ)(En.U).find((([,t])=>t===e));return t?En.U[t[0]]:void 0}(t):void 0)||void 0})),lre=(0,fe.P1)(sre,ore,((e,t)=>e?`${e.source}:${e.librarySectionID}:${t}`:void 0)),cre=(0,fe.P1)(sre,ore,((e,t)=>{if(!e||!t)return[];if(_o(e))return[En.n.SimpleDetails];switch(e.subtype){case ni.y_.Webshow:case ni.y_.Podcast:return[En.n.SimpleDetails];case ni.y_.Track:return[En.n.TrackDetails]}switch(t){case En.U.Album:case En.U.Episode:return[En.n.PrePlayGrid,En.n.Details];case En.U.Track:return[En.n.Table];default:return[En.n.PrePlayGrid]}})),dre=(0,fe.P1)(ra("prePlayListStyles"),lre,cre,((e,t,n)=>{if(!t||!n.length)return;const r=e[t];return r&&n.includes(r)?r:n[0]}));var ure=Object.defineProperty,pre=Object.prototype.hasOwnProperty,mre=Object.getOwnPropertySymbols,hre=Object.prototype.propertyIsEnumerable,gre=(e,t,n)=>t in e?ure(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,yre=(e,t)=>{for(var n in t||(t={}))pre.call(t,n)&&gre(e,n,t[n]);if(mre)for(var n of mre(t))hre.call(t,n)&&gre(e,n,t[n]);return e};function vre({className:e="PrePlayDescendantList-listContainer-IWXeSY",metadataItem:t}){const n=(0,v.I0)(),[r,i]=Hn(),a=N9(),{descendantListSourceURI:s}=(0,v.v9)(x9),o=(0,v.v9)(ore),l=(0,v.v9)(dre),c=j9(),[d,u]=A9(a.contentHeight),p=(0,g.useCallback)((e=>{s&&n(xr.Z.actions.fetchRangeRequested(yre(yre({},e),{server:r,provider:i,sourceURI:s})))}),[s,n,i,r]),m=function(e,t){switch(t){case En.n.PrePlayGrid:return cne;case En.n.Details:return rne;case En.n.SimpleDetails:return _o(e)?are:xne;case En.n.TrackDetails:return Vne}throw new Error("Failed to map the preplay descendant list style to a list component. Check `selectPrePlayDescendantListStyles` for list style options.")}(t,l);return s&&o&&c&&c.totalSize?g.createElement("div",{className:e,ref:u},g.createElement(Ar,{containerServer:r,containerProvider:i,containerSourceURI:s,containerKey:t.childrenKey,containerType:o,containerSubtype:t.subtype,listStyle:l},g.createElement(Kte,{metadataList:c,metadataItem:t}),g.createElement(Po,{items:c.items},g.createElement(m,{type:o,subtype:t.subtype,items:c.items,totalSize:c.totalSize,scrollTop:a.scrollTop-d,scrollLeft:a.scrollLeft,viewportWidth:a.width,viewportHeight:a.height,onPageRequest:p})))):null}var fre=Object.defineProperty,bre=Object.prototype.hasOwnProperty,Ire=Object.getOwnPropertySymbols,Sre=Object.prototype.propertyIsEnumerable,Mre=(e,t,n)=>t in e?fre(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Ere=(e,t)=>{for(var n in t||(t={}))bre.call(t,n)&&Mre(e,n,t[n]);if(Ire)for(var n of Ire(t))Sre.call(t,n)&&Mre(e,n,t[n]);return e};function Pre(){const[e,t]=Hn(),{extrasSourceURI:n}=(0,v.v9)(x9),r=(0,g.useMemo)((()=>n?Ip(n):()=>{}),[n]),i=(0,v.v9)(r),a=(0,v.v9)(Ug),s=(0,g.useMemo)((()=>mg({listType:En.U.Clip,subtype:ni.y_.Trailer,columnWidth:a})),[a]),o=(0,g.useCallback)((e=>{var t=e,{item:n}=t,r=((e,t)=>{var n={};for(var r in e)bre.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&Ire)for(var r of Ire(e))t.indexOf(r)<0&&Sre.call(e,r)&&(n[r]=e[r]);return n})(t,["item"]);return g.createElement(kh,Ere(Ere({},r),{item:n}))}),[]);return i?g.createElement(Ar,{containerServer:e,containerProvider:t,containerSourceURI:i.sourceURI,containerType:En.U.Clip,containerSubtype:ni.y_.Trailer},g.createElement(zg,{hub:{title:(0,Ce.Z)("Extras"),sourceURI:i.sourceURI},keyPropName:"listItemKey",items:i.items,layout:s,cellComponentFactory:o,totalSize:i.totalSize})):null}var Dre=Object.defineProperty,Cre=Object.prototype.hasOwnProperty,wre=Object.getOwnPropertySymbols,Zre=Object.prototype.propertyIsEnumerable,Tre=(e,t,n)=>t in e?Dre(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Nre=(e,t)=>{for(var n in t||(t={}))Cre.call(t,n)&&Tre(e,n,t[n]);if(wre)for(var n of wre(t))Zre.call(t,n)&&Tre(e,n,t[n]);return e};function Ore({className:e="PrePlayPopularList-container-2RDS8l"}){var t,n;const r=(0,v.I0)(),{popularLeavesSourceURI:i}=(0,v.v9)(x9),a=(0,g.useMemo)((()=>i?Ip(i):()=>{}),[i]),s=(0,v.v9)(a),o=N9(),[l,c]=A9(o.contentHeight),[d,u]=Hn(),p=null!=(t=null==s?void 0:s.items.length)?t:0,m=null!=(n=null==s?void 0:s.totalSize)?n:p,h=null==s?void 0:s.sourceURI,[y,f]=(0,g.useState)(p<5?p:5),b=(0,g.useMemo)((()=>[dS,vS,IS,ES]),[]),I=(0,g.useMemo)((()=>OM()),[]),S=(0,g.useCallback)((e=>{h&&r(xr.Z.actions.fetchRangeRequested(Nre(Nre({},e),{server:d,provider:u,sourceURI:h})))}),[h,r,d,u]),M=(0,g.useCallback)((()=>{const e=y+10;f(e>m?m:e)}),[m,y]),E=(0,g.useCallback)((e=>g.createElement(EM,Nre({index:e.cellIndex+1,tableColumns:b,hasTransientActionsCell:!0},e))),[b]);return s?g.createElement("div",{className:e},g.createElement(Ar,{containerServer:d,containerProvider:u,containerSourceURI:s.sourceURI,containerType:ni.pG.Track},g.createElement(R9,{title:(0,Ce.Z)("Popular Tracks")}),g.createElement(yte,null),g.createElement("div",{ref:c},g.createElement(Po,{items:s.items},g.createElement(Lu,{keyPropName:"listItemKey",items:s.items,totalSize:y,layout:I,cellComponentFactory:E,viewportHeight:o.height,viewportWidth:o.width,scrollTop:o.scrollTop-l,scrollLeft:o.scrollLeft,onPageRequest:S}))),g.createElement(yte,null),g.createElement("div",{className:"PrePlayPopularList-moreContainer-1GYuFK"},y<m?g.createElement(vr,{onPress:M},(0,Ce.Z)("Show More")):null))):null}function Are({metadataItem:e,onHubsReady:t}){const{summary:n,Country:r,Genre:i,Style:a}=e,[s,o]=Wte(2,t);return g.createElement(g.Fragment,null,g.createElement(P7,{metadataItem:e},g.createElement(Hte,null,g.createElement(_te,null,g.createElement(di,{metadataItem:e,allowLink:!1})),g.createElement(Ute,{metadataItem:e})),g.createElement(Gte,null,g.createElement(Fte,{metadataItem:e})),g.createElement(v7,{metadataItem:e,promotedActions:["isPlayVisible","isPlayRadioVisible","isAddToPlaylistVisible","isSyncDownloadVisible","isEditVisible"]}),n?g.createElement(tte,null,n):null,g.createElement(D7,null,(null==r?void 0:r.length)?g.createElement(C7,{label:(0,Ce.Z)("Country")},g.createElement(Xee,{metadataItem:e,tagName:"Country",limit:2})):null,(null==i?void 0:i.length)?g.createElement(C7,{label:(0,Ce.Z)("Genre")},g.createElement(Xee,{metadataItem:e,tagName:"Genre",limit:3})):null,(null==a?void 0:a.length)?g.createElement(C7,{label:(0,Ce.Z)("Style")},g.createElement(Xee,{metadataItem:e,tagName:"Style",limit:3})):null),g.createElement($ee,{metadataItem:e})),g.createElement(Ore,null),g.createElement(vre,{metadataItem:e}),g.createElement(Pre,null),g.createElement(Rte,{metadataItem:e,onHubsReady:o}),g.createElement(Lte,{metadataItem:e,onHubsReady:s}))}function xre({metadataItem:e,onHubsReady:t}){const{summary:n}=e;return g.createElement(g.Fragment,null,g.createElement(P7,{metadataItem:e},g.createElement(Hte,null,g.createElement(_te,null,g.createElement(di,{metadataItem:e,allowLink:!1})),g.createElement(Ute,{metadataItem:e})),g.createElement(Gte,null,g.createElement(Fte,{metadataItem:e})),g.createElement(v7,{metadataItem:e,promotedActions:["isPlayVisible","isMarkPlayedVisible","isMarkUnplayedVisible","isSyncDownloadVisible","isEditVisible"]}),n?g.createElement(tte,null,n):null,g.createElement($ee,{metadataItem:e})),g.createElement(Rte,{metadataItem:e,onHubsReady:t}))}function jre({metadataItem:e,onHubsReady:t}){const{title:n,summary:r,minYear:i,maxYear:a}=e,s=!(!i||!a||i===a),o=!(!a||i!==a);return g.createElement(g.Fragment,null,g.createElement(P7,{metadataItem:e,aspectRatio:ii},g.createElement(Hte,null,n),g.createElement(Qte,null,s||o?g.createElement(g.Fragment,null,s?`${i}  ${a}`:a):null),g.createElement(Gte,null,g.createElement(Fte,{metadataItem:e})),g.createElement(v7,{metadataItem:e,promotedActions:["isPlayVisible","isPlayTrailerVisible","isShuffleVisible","isSyncDownloadVisible","isEditVisible"]}),r?g.createElement(tte,null,r):null,g.createElement($ee,{metadataItem:e})),g.createElement(vre,{metadataItem:e}),g.createElement(Rte,{metadataItem:e,onHubsReady:t}))}function Lre(e,t,n){const r=e/1e3;return n<r?(0,Ce.Z)("Aired"):t<=r&&n>=r?(0,Ce.Z)("Airing"):(0,Ce.Z)("Airs")}function kre({metadataItem:e}){const t=(0,v.v9)(ra("timeFormat")),n=ta(),r=ea(e);if(!r)return null;const{Channel:i}=e,{videoResolution:a,beginsAt:s,endsAt:o,channelID:l}=r,c=null==i?void 0:i.find((e=>e.id===l));return g.createElement(D7,null,a?g.createElement(C7,{label:(0,Ce.Z)("Video")},function(e){const t=parseInt(e,10);return t>=720||4===t||8===t}(a)?(0,Ce.Z)("HD"):(0,Ce.Z)("SD")):null,null!=s&&null!=o?g.createElement(C7,{label:Lre(n,s,o)},Qi({now:n,beginsAt:s,endsAt:o,channel:null==c?void 0:c.tag,timeFormat:t,showFullTime:!0,showChannel:!0})):null)}function Rre({metadataItem:e,onHubsReady:t}){const{summary:n}=e;return g.createElement(g.Fragment,null,g.createElement(P7,{aspectRatio:ii,metadataItem:e},g.createElement(Hte,null,g.createElement(Ga,{metadataItem:e})),g.createElement(Qte,null,g.createElement(is,{metadataItem:e}),g.createElement(rs.Z,{separator:""}),g.createElement(di,{metadataItem:e,allowLink:!1})),g.createElement(Gte,null,g.createElement(Fte,{metadataItem:e})),g.createElement(v7,{metadataItem:e,promotedActions:["isRecordVisible","isPlayVisible"]}),n?g.createElement(tte,null,n):null,g.createElement(kre,{metadataItem:e})),g.createElement(Rte,{metadataItem:e,onHubsReady:t}))}var zre=Object.defineProperty,Ure=Object.prototype.hasOwnProperty,Vre=Object.getOwnPropertySymbols,Bre=Object.prototype.propertyIsEnumerable,Fre=(e,t,n)=>t in e?zre(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;function _re(e){var t=e,{className:n,name:r,width:i,height:a}=t,s=((e,t)=>{var n={};for(var r in e)Ure.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&Vre)for(var r of Vre(e))t.indexOf(r)<0&&Bre.call(e,r)&&(n[r]=e[r]);return n})(t,["className","name","width","height"]);const o=r.toUpperCase().split(" "),l=o[0].charAt(0),c=o[o.length-1].charAt(0),d=o.length>1?`${l}${c}`:r.charAt(0),u={fontSize:Math.max(14,Math.min(Math.round(i/4),42)),lineHeight:`${a}px`};return g.createElement("div",((e,t)=>{for(var n in t||(t={}))Ure.call(t,n)&&Fre(e,n,t[n]);if(Vre)for(var n of Vre(t))Bre.call(t,n)&&Fre(e,n,t[n]);return e})({style:u,className:Te()(n,"Anagram-anagram-3ZXck1")},s),d)}_re.defaultProps={width:13,height:13};const Hre=_re,Qre="PrePlayCastList-rounded-3uztdw",Gre="PrePlayCastList-title-2_pobk MetadataPosterCardTitle-singleLineTitle-tbmjc5 MetadataPosterCardTitle-title-3Rf96m";var Wre=Object.defineProperty,Yre=Object.prototype.hasOwnProperty,Kre=Object.getOwnPropertySymbols,qre=Object.prototype.propertyIsEnumerable,$re=(e,t,n)=>t in e?Wre(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Jre=(e,t)=>{for(var n in t||(t={}))Yre.call(t,n)&&$re(e,n,t[n]);if(Kre)for(var n of Kre(t))qre.call(t,n)&&$re(e,n,t[n]);return e};function Xre(e){var t=e,{server:n,provider:r,contentDirectory:i,metadataItem:a,item:s}=t,o=((e,t)=>{var n={};for(var r in e)Yre.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&Kre)for(var r of Kre(e))t.indexOf(r)<0&&qre.call(e,r)&&(n[r]=e[r]);return n})(t,["server","provider","contentDirectory","metadataItem","item"]);const l=oo(o),[c,d]=Oo();if(!s)return null;const{thumb:u,tag:p}=s,m=Jee({tag:s,contentDirectory:i,server:n,provider:r,metadataNumericType:bp(a.type),fallbackFilter:"actor"}),h=o.cellWidth;return g.createElement("div",{style:l.style},g.createElement(Fr,{className:"PrePlayCastList-card-plWaxr PosterCard-card-2-REtd PrePlayCastList-rounded-3uztdw",ref:d},u?g.createElement(xt.Z,{className:Qre,serverEntityID:n.entityID,providerEntityID:r.entityID,url:u,width:h,height:h,component:Ot.Z,preloadOnMount:!1,animateOnMount:!1}):g.createElement(Hre,{className:Qre,name:s.tag,width:h,height:h}),m?g.createElement(pl,{isHovered:c,className:"PrePlayCastList-link-34Se2B PosterCardLink-link-2mWlqA Link-link-2WGTd7 PrePlayCastList-rounded-3uztdw",hoverClassName:"PrePlayCastList-hoveredLink-3YtGyE PosterCardLink-hoveredLink-3BYG1D PosterCardLink-link-2mWlqA Link-link-2WGTd7 PrePlayCastList-rounded-3uztdw",to:m}):null),g.createElement("div",{className:"PrePlayCastList-titleContainer-3hywG-"},m?g.createElement(vr,{className:Gre,to:m,title:p},p):g.createElement("span",{className:Gre,title:p},p),s.role?g.createElement("span",{className:"PrePlayCastList-role-1IlGcW PrePlayCastList-title-2_pobk MetadataPosterCardTitle-singleLineTitle-tbmjc5 MetadataPosterCardTitle-title-3Rf96m MetadataPosterCardTitle-isSecondary-3Nh6J0",title:s.role},s.role):null))}function eie({metadataItem:e}){const[t,n,r]=Hn(),i=(0,v.v9)(Ug),{Role:a}=e,s=(0,g.useMemo)((()=>mg({listType:En.U.Person,columnWidth:i,titleCount:2})),[i]),o=(0,g.useCallback)((i=>g.createElement(Xre,Jre(Jre({},i),{metadataItem:e,server:t,provider:n,contentDirectory:r}))),[r,e,n,t]);return g.createElement(zg,{hub:{title:(0,Ce.Z)("Cast"),sourceURI:E.Z.join([e.sourceURI,"castList"])},totalSize:null==a?void 0:a.length,items:null!=a?a:[],layout:s,cellComponentFactory:o})}function tie({metadataItem:e,onHubsReady:t}){const{year:n,summary:r,Genre:i}=e;return g.createElement(g.Fragment,null,g.createElement(P7,{metadataItem:e},g.createElement(Hte,null,g.createElement(di,{metadataItem:e,allowLink:!1})),g.createElement(Qte,null,n),g.createElement(Gte,null,g.createElement(Fte,{metadataItem:e})),g.createElement(v7,{metadataItem:e,promotedActions:["isRecordVisible","isPlayVisible"]}),r?g.createElement(tte,null,r):null,g.createElement(D7,null,(null==i?void 0:i.length)?g.createElement(C7,{label:(0,Ce.Z)("Genre")},g.createElement(Xee,{metadataItem:e,tagName:"Genre",limit:3})):null),g.createElement(kre,{metadataItem:e})),g.createElement(eie,{metadataItem:e}),g.createElement(Rte,{metadataItem:e,onHubsReady:t}))}function nie({metadataItem:e,onHubsReady:t}){const{title:n,summary:r,Genre:i}=e;return g.createElement(g.Fragment,null,g.createElement(P7,{metadataItem:e},g.createElement(Hte,null,n),g.createElement(Gte,null,g.createElement(Fte,{metadataItem:e})),g.createElement(v7,{metadataItem:e,promotedActions:["isRecordVisible","isPlayVisible"]}),r?g.createElement(tte,null,r):null,g.createElement(D7,null,(null==i?void 0:i.length)?g.createElement(C7,{label:(0,Ce.Z)("Genre")},g.createElement(Xee,{metadataItem:e,tagName:"Genre",limit:3})):null),g.createElement($ee,{metadataItem:e})),g.createElement(vre,{metadataItem:e}),g.createElement(eie,{metadataItem:e}),g.createElement(Rte,{metadataItem:e,onHubsReady:t}))}function rie({className:e,metadataItem:t}){const n=(0,Fa.Z)({useLongName:!0,episodeIndex:t.index,date:t.originallyAvailableAt,noLeadingZero:!0});return g.createElement("span",{className:e},g.createElement("span",{title:t.title},n))}function iie({className:e="PrePlayLowerContent-container-2JE4eA",children:t}){return g.createElement("div",{className:e},t)}function aie({metadataItem:e,onHubsReady:t}){const{summary:n,originallyAvailableAt:r,Writer:i,Director:a}=e,[s,o]=Wte(2,t);return g.createElement(g.Fragment,null,g.createElement(P7,{metadataItem:e},g.createElement(Hte,null,g.createElement(_te,null,g.createElement(Ga,{metadataItem:e})),g.createElement(Ute,{metadataItem:e})),g.createElement(Qte,null,g.createElement(qa,{metadataItem:e})),g.createElement(Qte,null,g.createElement(rie,{metadataItem:e}),g.createElement(rs.Z,{separator:""}),g.createElement(di,{metadataItem:e,allowLink:!1})),g.createElement(Gte,null,g.createElement(Fte,{metadataItem:e}))),g.createElement(iie,null,g.createElement(v7,{metadataItem:e,promotedActions:["isPlayVisible","isMarkPlayedVisible","isMarkUnplayedVisible","isSyncDownloadVisible","isEditVisible"]}),n?g.createElement(tte,null,n):null,g.createElement(D7,null,(null==a?void 0:a.length)?g.createElement(kF,{label:(0,Ce.Z)("Directed by")},g.createElement(Xee,{metadataItem:e,tagName:"Director",limit:2})):null,(null==i?void 0:i.length)?g.createElement(kF,{label:(0,Ce.Z)("Written by")},g.createElement(Xee,{metadataItem:e,tagName:"Writer",limit:2})):null,r?g.createElement(kF,{label:(0,Ce.Z)("Released")},g.createElement(ya,{metadataItem:e})):null),g.createElement($ee,{metadataItem:e})),g.createElement(Lte,{metadataItem:e,onHubsReady:s}),g.createElement(Rte,{metadataItem:e,onHubsReady:o}))}function sie({metadataItem:e,onHubsReady:t}){const{summary:n}=e;return g.createElement(g.Fragment,null,g.createElement(P7,{metadataItem:e},g.createElement(Hte,null,g.createElement(Ga,{metadataItem:e})),g.createElement(Qte,null,g.createElement(rie,{metadataItem:e}),g.createElement(rs.Z,{separator:""}),g.createElement(di,{metadataItem:e,allowLink:!1})),g.createElement(Gte,null,g.createElement(Fte,{metadataItem:e})),g.createElement(v7,{metadataItem:e,promotedActions:["isPlayVisible","isSyncDownloadVisible"]})),g.createElement(iie,null,n?g.createElement(tte,{dangerouslySetInnerHTML:{__html:n}}):null),g.createElement(Rte,{metadataItem:e,onHubsReady:t}))}function oie({className:e="PrePlayDetailsColumn-container-1hJqha",children:t}){return g.createElement("div",{className:e},t)}var lie=n(71760),cie=n(46174),die=n(84597),uie=n(28713),pie=n(29557);const mie="PrePlayReviewList-title-1t25df MetadataPosterCardTitle-singleLineTitle-tbmjc5 MetadataPosterCardTitle-title-3Rf96m";var hie=Object.defineProperty,gie=Object.prototype.hasOwnProperty,yie=Object.getOwnPropertySymbols,vie=Object.prototype.propertyIsEnumerable,fie=(e,t,n)=>t in e?hie(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,bie=(e,t)=>{for(var n in t||(t={}))gie.call(t,n)&&fie(e,n,t[n]);if(yie)for(var n of yie(t))vie.call(t,n)&&fie(e,n,t[n]);return e};const Iie={certified:lie,fresh:die,rotten:uie,spilled:pie,upright:cie},Sie=parseInt(ng.Z.v4PagePadding,10);function Mie(e){var t=e,{server:n,provider:r,item:i}=t;const a=oo(((e,t)=>{var n={};for(var r in e)gie.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&yie)for(var r of yie(e))t.indexOf(r)<0&&vie.call(e,r)&&(n[r]=e[r]);return n})(t,["server","provider","item"]));if(!i)return null;const{text:s,tag:o,source:l,image:c,link:d}=i,u=c?c.substr(c.lastIndexOf(".")+1):"",p=Iie[u];return g.createElement(Fr,{className:"PrePlayReviewList-card-xBOfjI PosterCard-card-2-REtd",style:a.style},g.createElement("div",{className:"PrePlayReviewList-details-1Eq7iG"},p?g.createElement("img",{className:"PrePlayReviewList-ratingImg-37KuoF",src:p}):null,g.createElement("div",{className:"PrePlayReviewList-titleContainer-1Cam-L"},d?g.createElement(vr,{to:d,target:"_blank",rel:"noopener noreferrer",className:mie},l):g.createElement("div",{className:mie},l),g.createElement("div",{className:"PrePlayReviewList-author-2B8dXl PrePlayReviewList-title-1t25df MetadataPosterCardTitle-singleLineTitle-tbmjc5 MetadataPosterCardTitle-title-3Rf96m MetadataPosterCardTitle-isSecondary-3Nh6J0"},o))),g.createElement("div",{className:"PrePlayReviewList-reviewContainer-fDVrAL"},s))}function Eie({metadataItem:e}){const[t,n]=Hn(),{Review:r}=e,i=(0,g.useMemo)((()=>qh({columnWidth:350,rowHeight:220,innerHorizontalPadding:30,outerPaddingLeft:Sie,outerPaddingRight:Sie})),[]),a=(0,g.useCallback)((e=>g.createElement(Mie,bie(bie({},e),{server:t,provider:n}))),[n,t]);return g.createElement(zg,{hub:{title:(0,Ce.Z)("Reviews"),sourceURI:E.Z.join([e.sourceURI,"reviewList"])},totalSize:null==r?void 0:r.length,items:null!=r?r:[],layout:i,cellComponentFactory:a})}function Pie({metadataItem:e,onHubsReady:t}){const{year:n,summary:r,Country:i,Director:a,Genre:s,Platform:o,Publisher:l}=e,[c,d]=Wte(2,t);return g.createElement(g.Fragment,null,g.createElement(P7,{metadataItem:e,isProgressBarHidden:!0},g.createElement(Hte,null,g.createElement(_te,null,g.createElement(di,{metadataItem:e,allowLink:!1})),g.createElement(Ute,{metadataItem:e})),g.createElement(Qte,null,n),g.createElement(Gte,null,g.createElement(Fte,{metadataItem:e})),g.createElement(v7,{metadataItem:e,promotedActions:["isPlayVisible","isEditVisible"]}),r?g.createElement(tte,null,r):null,g.createElement(oie,null,g.createElement(D7,null,(null==o?void 0:o.length)?g.createElement(C7,{label:(0,Ce.Z)("Platform")},g.createElement(Xee,{metadataItem:e,tagName:"Platform",limit:2})):null,(null==l?void 0:l.length)?g.createElement(C7,{label:(0,Ce.Z)("Publisher")},g.createElement(Xee,{metadataItem:e,tagName:"Publisher",limit:2})):null,(null==a?void 0:a.length)?g.createElement(C7,{label:(0,Ce.Z)("Developer")},g.createElement(Xee,{metadataItem:e,tagName:"Director",limit:2})):null,(null==i?void 0:i.length)?g.createElement(C7,{label:(0,Ce.Z)("Country")},g.createElement(Xee,{metadataItem:e,tagName:"Country",limit:2})):null,(null==s?void 0:s.length)?g.createElement(C7,{label:(0,Ce.Z)("Genre")},g.createElement(Xee,{metadataItem:e,tagName:"Genre",limit:3})):null))),g.createElement(eie,{metadataItem:e}),g.createElement(Eie,{metadataItem:e}),g.createElement(Pre,null),g.createElement(Lte,{metadataItem:e,onHubsReady:c}),g.createElement(Rte,{metadataItem:e,onHubsReady:d}))}function Die({metadataItem:e,onHubsReady:t}){const{year:n,summary:r,Director:i,Writer:a,Genre:s}=e,[o,l]=Wte(2,t);return g.createElement(g.Fragment,null,g.createElement(P7,{metadataItem:e},g.createElement(Hte,null,g.createElement(_te,null,g.createElement(di,{metadataItem:e,allowLink:!1})),g.createElement(Ute,{metadataItem:e})),g.createElement(Qte,null,n),g.createElement(Gte,null,g.createElement(Fte,{metadataItem:e})),g.createElement(v7,{metadataItem:e,promotedActions:["isPlayVisible","isPlayTrailerVisible","isAddToWatchlistVisible","isRemoveFromWatchlistVisible","isMarkPlayedVisible","isMarkUnplayedVisible","isSyncDownloadVisible","isEditVisible"]}),r?g.createElement(tte,null,r):null,g.createElement(oie,null,g.createElement(D7,null,(null==i?void 0:i.length)?g.createElement(C7,{label:(0,Ce.Z)("Directed by")},g.createElement(Xee,{metadataItem:e,tagName:"Director",limit:2})):null,(null==a?void 0:a.length)?g.createElement(C7,{label:(0,Ce.Z)("Written by")},g.createElement(Xee,{metadataItem:e,tagName:"Writer",limit:2})):null,g.createElement(ete,{label:(0,Ce.Z)("Studio"),metadataItem:e}),(null==s?void 0:s.length)?g.createElement(C7,{label:(0,Ce.Z)("Genre")},g.createElement(Xee,{metadataItem:e,tagName:"Genre",limit:3})):null),g.createElement($ee,{metadataItem:e}))),g.createElement(eie,{metadataItem:e}),g.createElement(Eie,{metadataItem:e}),g.createElement(Pre,null),g.createElement(Lte,{metadataItem:e,onHubsReady:o}),g.createElement(Rte,{metadataItem:e,onHubsReady:l}))}function Cie({metadataItem:e}){const{summary:t}=e;return g.createElement(g.Fragment,null,g.createElement(P7,{metadataItem:e},g.createElement(Hte,null,g.createElement(_te,null,g.createElement(qa,{metadataItem:e})),g.createElement(Ute,{metadataItem:e})),g.createElement(Qte,null,g.createElement(di,{metadataItem:e,allowLink:!1})),g.createElement(Gte,null,g.createElement(Fte,{metadataItem:e})),g.createElement(v7,{metadataItem:e,promotedActions:["isPlayVisible","isMarkPlayedVisible","isMarkUnplayedVisible","isSyncDownloadVisible","isEditVisible"]}),t?g.createElement(tte,null,t):null,g.createElement($ee,{metadataItem:e})),g.createElement(vre,{metadataItem:e}))}function wie({metadataItem:e,onHubsReady:t}){const{year:n,summary:r,Genre:i}=e;return g.createElement(g.Fragment,null,g.createElement(P7,{metadataItem:e},g.createElement(Hte,null,g.createElement(_te,null,g.createElement(di,{metadataItem:e,allowLink:!1})),g.createElement(Ute,{metadataItem:e})),g.createElement(Qte,null,n),g.createElement(Gte,null,g.createElement(Fte,{metadataItem:e})),g.createElement(v7,{metadataItem:e,promotedActions:["isPlayVisible","isPlayTrailerVisible","isAddToWatchlistVisible","isRemoveFromWatchlistVisible","isMarkPlayedVisible","isMarkUnplayedVisible","isSyncDownloadVisible","isEditVisible"]}),r?g.createElement(tte,null,r):null,g.createElement(D7,null,g.createElement(ete,{label:(0,Ce.Z)("Studio"),metadataItem:e}),(null==i?void 0:i.length)?g.createElement(C7,{label:(0,Ce.Z)("Genre")},g.createElement(Xee,{metadataItem:e,tagName:"Genre",limit:3})):null),g.createElement($ee,{metadataItem:e})),g.createElement(vre,{metadataItem:e}),g.createElement(eie,{metadataItem:e}),g.createElement(Pre,null),g.createElement(Rte,{metadataItem:e,onHubsReady:t}))}function Zie({metadataItem:e,onHubsReady:t}){const{summary:n,Genre:r}=e;return g.createElement(g.Fragment,null,g.createElement(P7,{metadataItem:e},g.createElement(Hte,null,g.createElement(di,{metadataItem:e,allowLink:!1})),g.createElement(v7,{metadataItem:e,promotedActions:["isPlayVisible","isAddToSavedVisible","isSyncDownloadVisible"]}),n?g.createElement(tte,{dangerouslySetInnerHTML:{__html:n}}):null,g.createElement(D7,null,(null==r?void 0:r.length)?g.createElement(C7,{label:(0,Ce.Z)("Genre")},g.createElement(Xee,{metadataItem:e,tagName:"Genre",limit:3})):null),g.createElement($ee,{metadataItem:e})),g.createElement(vre,{metadataItem:e}),g.createElement(eie,{metadataItem:e}),g.createElement(Pre,null),g.createElement(Rte,{metadataItem:e,onHubsReady:t}))}const Tie=(0,g.memo)((function({metadataItem:e,onHubsReady:t}){const n=function(e){const{type:t,subtype:n}=e;if(_o(e))switch(t){case ni.pG.Movie:return tie;case ni.pG.Show:return nie;case ni.pG.Episode:return Rre}switch(n){case ni.y_.Clip:switch(t){case ni.pG.Movie:return xre}break;case ni.y_.Webshow:case ni.y_.Podcast:switch(t){case ni.pG.Show:return Zie;case ni.pG.Episode:case ni.pG.Track:return sie}}switch(t){case ni.pG.Movie:return Die;case ni.pG.Show:return wie;case ni.pG.Season:return Cie;case ni.pG.Episode:return aie;case ni.pG.Artist:return Are;case ni.pG.Album:return Yte;case ni.pG.Collection:return jre;case ni.pG.Game:return Pie}}(e);return n?g.createElement(n,{metadataItem:e,onHubsReady:t}):g.createElement(et,{title:(0,Ce.Z)("Missing details"),description:(0,Ce.Z)("Pardon our dust. This item is lacking a details page.")})}));var Nie=Object.defineProperty,Oie=Object.prototype.hasOwnProperty,Aie=Object.getOwnPropertySymbols,xie=Object.prototype.propertyIsEnumerable,jie=(e,t,n)=>t in e?Nie(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;function Lie(){const[e,t]=(0,g.useState)(!1),[n,r]=Hn(),{metadata:{metadataItem:i,isPopulated:a,error:s}}=(0,v.v9)(x9),o=j9(),[l,{height:c}]=(0,Kg.Z)(),[d,{width:u,height:p}]=(0,Kg.Z)(),[m,h]=(0,g.useState)({scrollTop:0,scrollLeft:0}),y=(0,g.useCallback)((e=>{h(e)}),[]),{scrollRestoreProps:f,onScrollPositionReady:b}=qn({key:"PrePlayPage",onScrollPositionChange:y}),I=(0,g.useCallback)((()=>{t(!0)}),[t]);return(0,g.useEffect)((()=>{e&&b()}),[e,b]),!a&&!s||o&&!o.isPopulated&&!o.error?g.createElement(Ye,null,g.createElement(lt,null)):s||!i||(null==o?void 0:o.error)?g.createElement(tt,null):g.createElement(Ar,{containerServer:n,containerProvider:r,containerSourceURI:i.sourceURI,containerType:i.type,containerSubtype:i.subtype},g.createElement(Ty,((e,t)=>{for(var n in t||(t={}))Oie.call(t,n)&&jie(e,n,t[n]);if(Aie)for(var n of Aie(t))xie.call(t,n)&&jie(e,n,t[n]);return e})({ref:l},f),g.createElement("div",{className:"PrePlayPageContent-prePlayContentWrapper-3F9n8W",ref:d},g.createElement(O9,{width:u,height:c,contentHeight:p,scrollTop:m.scrollTop,scrollLeft:m.scrollLeft},g.createElement(Tie,{metadataItem:i,onHubsReady:I})))))}function kie(){const{siblingListSourceURI:e}=(0,v.v9)(x9),t=(0,g.useMemo)((()=>e?Ip(e):()=>{}),[e]);return(0,v.v9)(t)}function Rie(e){var t=e["aria-label"],n=e.className,r=e.style,i={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",id:"plex-icon-toolbar-sibling-nav-560"};i["aria-hidden"]=!t,i.style=r,i.className=oa.Z.plexIcon+(n?" "+n:"");var a=[g.createElement.apply(g,["path",{d:"M5 39.36H43.4V43.2H5V39.36ZM5 27.84H43.4V31.68H5V27.84ZM5.00104 16.32H43.4V20.16H5.00104V16.32ZM5 4.79999H43.4V8.63999H5V4.79999Z"}].concat([]))];return t&&a.unshift(g.createElement("title",null,t)),g.createElement.apply(g,["svg",i].concat(a))}Rie.propTypes={"aria-label":sa().string,className:sa().string,style:sa().object};const zie=Rie;function Uie({server:e,provider:t,metadataItem:n,metricsContextTuple:r}){const i=Ez(),a=kie();if(!a)return null;const{items:s}=a,o=!n;return g.createElement(g.Fragment,null,g.createElement(SZ.Z,{id:i.menuButtonID,isDisabled:o,onPress:i.onMenuButtonPress},g.createElement(zie,null),g.createElement(Lp.Z,{className:o?"PrePlayPageHeaderSiblingMenu-disabledDisclosureArrow-2FgCEh PrePlayPageHeaderSiblingMenu-disclosureArrow-3DQZAb DisclosureArrow-disclosureArrow-1jttuj":"PrePlayPageHeaderSiblingMenu-disclosureArrow-3DQZAb DisclosureArrow-disclosureArrow-1jttuj",direction:i.isMenuOpen?kp.UP:kp.WV})),g.createElement(Xl.Z,{isOpen:i.isMenuOpen,target:i.menuButtonID,size:Rp.ln,onMenuClose:i.onMenuClose},s.map((a=>g.createElement(Up.Z,{key:a.key,to:(0,li.Z)(e,t,a.key,{context:(0,Jt.VJ)(r)},null==n?void 0:n.playlistType),isSelected:a.key===(null==n?void 0:n.key),onPress:i.onMenuClose},a.type===ni.pG.Episode?g.createElement(g.Fragment,null,g.createElement(Nb,{metadataItem:a}),g.createElement(rs.Z,null)):null,a.title)))))}function Vie({metadataItem:e}){const[t,n]=Hn(),{metricsContextTuple:r}=(0,Jt.Zn)(),i=kie();if(!i||i.items.length<2)return null;const{items:a}=i,s=a.findIndex((t=>t.key===(null==e?void 0:e.key))),o=s<0?s:s+1,l=a[s<0?s:s-1],c=a[o],d={context:(0,Jt.VJ)(r)};return g.createElement(g.Fragment,null,g.createElement(x6,null),g.createElement("div",null,g.createElement(SZ.Z,{"data-qa-id":"toolbarPrevious",to:(0,li.Z)(t,n,null==l?void 0:l.key,d),isDisabled:!l},g.createElement(kg,null)),g.createElement(Uie,{metadataItem:e,server:t,provider:n,metricsContextTuple:r}),g.createElement(SZ.Z,{"data-qa-id":"toolbarNext",to:(0,li.Z)(t,n,null==c?void 0:c.key,d),isDisabled:!c},g.createElement(jg,null))))}const Bie=function({children:e}){return g.createElement("div",{className:"PageHeaderToolbar-container-BLsVTu"},e)};var Fie=Object.defineProperty,_ie=Object.prototype.hasOwnProperty,Hie=Object.getOwnPropertySymbols,Qie=Object.prototype.propertyIsEnumerable,Gie=(e,t,n)=>t in e?Fie(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Wie=(e,t)=>{for(var n in t||(t={}))_ie.call(t,n)&&Gie(e,n,t[n]);if(Hie)for(var n of Hie(t))Qie.call(t,n)&&Gie(e,n,t[n]);return e};function Yie(){const e=(0,v.I0)(),{metadata:{metadataItem:t,isPopulated:n}}=(0,v.v9)(x9),r=(0,v.v9)(ra("showPrePlayArtwork")),i=(0,v.v9)(ra("prePlayListStyles")),a=(0,v.v9)(lre),s=(0,v.v9)(dre),o=(0,v.v9)(cre),l=(0,g.useCallback)((t=>{if(!a)return;const n=Wie(Wie({},i),{[a]:t});(0,fn.c9)((()=>{e((0,AM.LN)({prePlayListStyles:n}))}))}),[e,i,a]),c=(0,v.v9)(hf),d=(0,g.useCallback)((()=>{e((0,AM.LN)({showPrePlayArtwork:!r}))}),[e,r]);return c?g.createElement(rb,null):g.createElement(Vf,{className:"PrePlayPageHeader-pageHeader-3tBIsY PageHeader-pageHeader-WpvbJc"},g.createElement(sY.Z,null,n?g.createElement(gO,null):null),g.createElement(fG,null,(null==t?void 0:t.grandparentArt)||(null==t?void 0:t.parentArt)||(null==t?void 0:t.art)?g.createElement(g.Fragment,null,g.createElement(Bie,null,g.createElement(SZ.Z,{tooltip:r?(0,Ce.Z)("Blur Background"):(0,Ce.Z)("Show Background"),isSelected:r,onPress:d},g.createElement(c9,null))),g.createElement(x6,null)):null,s&&o.length>1?g.createElement(hT,{listStyles:o,selectedListStyle:s,onListStyleSelect:l}):g.createElement(hT,{listStyles:[En.n.PrePlayGrid],selectedListStyle:En.n.PrePlayGrid}),g.createElement(Vie,{metadataItem:t})))}function Kie({machineIdentifier:e,providerIdentifier:t,metadataKey:n}){const r=(0,v.I0)(),i=(0,v.v9)(Fn(e)),a=(0,v.v9)(kn(e,t)),{metadata:{metadataItem:s,isPopulated:o,isStale:l}}=(0,v.v9)(x9),c=s?function(e,t){var n;const r=(0,Pn.Z)(e,$t.zW.Content);if(!r)return;const i=null!=(n=null==r?void 0:r.directories)?n:[];if(e.protocols.includes($t.rn.LiveTV))return i.find((e=>e.hubKey&&!e.key));const{librarySectionID:a,isPlaylist:s}=t;return a?i.find((e=>!!e.id&&e.id===a)):s?i.find((e=>e.type===ni.pG.Playlist)):void 0}(a,s):void 0,d=ei((0,yn.Z)({serverIdentifier:i.machineIdentifier,providerIdentifier:a.identifier,key:n})),u=(0,v.v9)(ra("showPrePlayArtwork")),p=(0,v.v9)(ra("playThemeMusic")),m=(0,v.v9)(Mj);return $d({identifier:a.metricsIdentifier,type:null==s?void 0:s.type},o),(0,g.useEffect)((()=>(d.isDeleted?r((0,Wn.n)({replace:!0})):r(xte.actions.metadataItemFetchRequested({server:i,provider:a,metadataKey:n})),()=>{(0,fn.c9)((()=>{r(xte.actions.reset())}))})),[n,d.isDeleted]),(0,g.useEffect)((()=>{(l||d.isStale)&&r(xte.actions.metadataItemRepopulateRequested({server:i,provider:a}))}),[l,d.isStale]),(0,g.useEffect)((()=>{if(!s)return;const e=s.thumb||s.parentThumb||s.grandparentThumb,t=s.grandparentArt||s.parentArt||s.art,n=u?t||e:e||t;r((0,Yn.ZZ)({serverEntityID:i.entityID,providerEntityID:a.entityID,imageUrl:n,allowBlur:!u||!t}))}),[r,s,a.entityID,i.entityID,u]),(0,g.useEffect)((()=>{if(!s||!p)return;const e=s.grandparentTheme||s.parentTheme||s.theme;r((0,Yn.ZX)({serverEntityID:i.entityID,providerEntityID:a.entityID,theme:e}))}),[r,s,p,a.entityID,i.entityID]),(0,g.useEffect)((()=>{if(s&&s.librarySectionID)return r((0,Sn.changeQuickSearchSettings)({serverEntityID:i.entityID,providerEntityID:a.entityID,providerIdentifier:a.identifier,directoryID:s.librarySectionID})),()=>{r((0,Sn.changeQuickSearchSettings)({serverEntityID:null,providerEntityID:null,providerIdentifier:null,directoryID:null}))}}),[r,s,a.entityID,a.identifier,t,i.entityID]),(0,g.useEffect)((()=>{s&&m&&r((0,Nl.redispatchLegacyMetadataAction)({server:i,provider:a,metadataItem:s,metadataItemState:d,legacyAction:CL()}))}),[r,m,s,d,a,i]),g.createElement(Qn,{machineIdentifier:e,providerIdentifier:t,contentDirectoryID:null==c?void 0:c.id},g.createElement(sr,{allowBackgroundPreset:!1,scrollDirection:Ae.None},g.createElement(Yie,null),g.createElement(Lie,null)))}function qie(){const{machineIdentifier:e,providerIdentifier:t}=MK(),n=(0,De.Z)(),r=(0,EK.Z)(n.key);return g.createElement(zK,{machineIdentifier:e,providerIdentifier:t},r?g.createElement(Jt.ZP,{metricsPage:pt.sD,metricsContextParam:(0,EK.Z)(n.context)},g.createElement(Kie,{machineIdentifier:e,providerIdentifier:t,metadataKey:r})):g.createElement(eV.Z,null))}var $ie=Object.prototype.hasOwnProperty,Jie=Object.getOwnPropertySymbols,Xie=Object.prototype.propertyIsEnumerable;const eae=function(e){const t=e,{children:n,hasProvider:r,showSpinner:i,showError:a}=t,s=((e,t)=>{var n={};for(var r in e)$ie.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&Jie)for(var r of Jie(e))t.indexOf(r)<0&&Xie.call(e,r)&&(n[r]=e[r]);return n})(t,["children","hasProvider","showSpinner","showError"]);if(i)return g.createElement(CK.Z,null,g.createElement(Mx.Z,null));if(a)return g.createElement(wK.Z,{title:(0,Ce.Z)("There was an unexpected error")});if(!r)return g.createElement(eV.Z,null);const o=g.Children.only(n);return g.cloneElement(o,s)};var tae=Object.defineProperty,nae=Object.prototype.hasOwnProperty,rae=Object.getOwnPropertySymbols,iae=Object.prototype.propertyIsEnumerable,aae=(e,t,n)=>t in e?tae(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,sae=(e,t)=>{for(var n in t||(t={}))nae.call(t,n)&&aae(e,n,t[n]);if(rae)for(var n of rae(t))iae.call(t,n)&&aae(e,n,t[n]);return e};const oae={dispatchFetchProvider:PC,dispatchPopulateProvider:DC};class lae extends g.Component{constructor(){super(...arguments),this.onPopulate=({serverEntityID:e,providerEntityID:t})=>{(0,fn.c9)((()=>{this.props.dispatchPopulateProvider({providerEntityID:t,options:{merge:!0}})}))},this.onRepopulate=({serverEntityID:e,providerEntityID:t})=>{(0,fn.c9)((()=>{this.props.dispatchFetchProvider({providerEntityID:t,options:{merge:!0}})}))}}componentDidMount(){this.props.isProvidersPopulated&&this.onPopulate({providerEntityID:this.props.providerEntityID})}UNSAFE_componentWillReceiveProps(e){e.providerEntityID===this.props.providerEntityID&&e.isProvidersPopulated===this.props.isProvidersPopulated||this.onRepopulate({providerEntityID:e.providerEntityID})}render(){const e=this.props,{dispatchFetchProvider:t,dispatchPopulateProvider:n}=e,r=((e,t)=>{var n={};for(var r in e)nae.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&rae)for(var r of rae(e))t.indexOf(r)<0&&iae.call(e,r)&&(n[r]=e[r]);return n})(e,["dispatchFetchProvider","dispatchPopulateProvider"]);return g.createElement(eae,sae(sae({},r),{onRetry:this.onRepopulate}))}}const cae=(0,v.$j)((function(){return(0,fe.P1)((0,OT.Z)(),(e=>e?{isProvidersPopulated:!0,hasProvider:!0,providerEntityID:e.entityID,isRetrying:!!e.isPending,showSpinner:!e.isPopulated&&!e.error,showError:!!e.error}:{isProvidersPopulated:!1,hasProvider:!1,isRetrying:!0,showSpinner:!0,showError:!1}))}),oae)(lae);function dae({children:e,className:t,metricsPage:n,metricsPane:r,scrollTop:i,onScrollPositionChange:a}){return g.createElement(fx.Z,{metricsPage:n,metricsProperties:{pane:r},scrollTop:i,onScrollPositionChange:a},g.createElement("div",{className:t},e))}dae.defaultProps={className:"SettingsPage-content-2rYCzy PageContent-pageContent-aqfjwt"};const uae=dae;function pae(e){return g.createElement("h2",{className:e.className},e.children)}pae.defaultProps={className:"SettingsPageHeader-header-3Fk51v"};const mae=pae;function hae(e,t){return e?e.split("|").map((e=>{const[n,r]=e.split(":");return["int"===t?parseInt(n,10):n,r]})):null}function gae(e,t){var n;return null==(n=hae(e,t))?void 0:n.map((([e,t])=>({[e]:t})))}function yae(e){var t;const n=vae(e),r=null==(t=hae(e.enumValues,e.type))?void 0:t.find((([e])=>e===n));return r?r[1]:null}function vae(e){var t;return null!=(t=e.value)?t:e.defaultValue}var fae=n(66842),bae=n(38035),Iae=n(20723),Sae=n(48663),Mae=n(72761),Eae=n(26955),Pae=n(51221);const Dae=(0,Pae.Z)(Iae.Z),Cae=function(e){const{labelText:t,helpText:n,options:r}=e;return g.createElement(Sae.Z,null,g.createElement(Eae.Z,null,t),n?g.createElement(Mae.Z,{className:"MultiSelectInputGroup-help-23kEGc FormHelp-help-5U-58f"},n):null,g.createElement("div",{className:"MultiSelectInputGroup-multiSelectContainer-389CBm"},r.map((e=>g.createElement("div",{key:e.key,className:"MultiSelectInputGroup-multiSelectItem-v6ctm2"},g.createElement(Dae,{name:e.key,checkboxText:e.title,initialValue:e.selected}))))))};var wae=n(97701),Zae=n(3521);const Tae={input:"MaskedInput-input-DlMQ6g TextInput-input-16EbOL input-input-3msd1_",small:"MaskedInput-small-2q0Pqk TextInput-small-1AIR7D input-small-1IgBjD",large:"MaskedInput-large-1Ijhds TextInput-large-2C-yIr input-large-2wH5qf",isDisabled:"MaskedInput-isDisabled-25VbMD TextInput-isDisabled-vLRcmz input-isDisabled-3xoo6r",hasError:"MaskedInput-hasError-1bEl5H TextInput-hasError-3DTDrH input-hasError-2b8Ur9"};var Nae=Object.defineProperty,Oae=Object.prototype.hasOwnProperty,Aae=Object.getOwnPropertySymbols,xae=Object.prototype.propertyIsEnumerable,jae=(e,t,n)=>t in e?Nae(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Lae=(e,t)=>{for(var n in t||(t={}))Oae.call(t,n)&&jae(e,n,t[n]);if(Aae)for(var n of Aae(t))xae.call(t,n)&&jae(e,n,t[n]);return e};class kae extends g.Component{constructor(){super(...arguments),this.setInputRef=e=>{this.inputRef=e},this.onChange=e=>{this.textMaskInputElement.update(),this.props.onChange(this.textMaskInputElement.state.previousConformedValue)}}componentDidMount(){const{value:e}=this.props,{mask:t,guide:n,pipe:r,placeholderChar:i,keepCharPositions:a}=this.props;this.textMaskInputElement=(0,Zae.createTextMaskInputElement)({inputElement:this.inputRef,mask:t,guide:n,pipe:r,placeholderChar:i,keepCharPositions:a}),this.textMaskInputElement.update(e)}componentDidUpdate(){this.textMaskInputElement.update(this.props.value)}render(){const e=this.props,{className:t,errorClassName:n,disabledClassName:r,isDisabled:i,type:a,name:s,initialValue:o,value:l,size:c,mask:d,guide:u,pipe:p,placeholderChar:m,keepCharPositions:h,hasError:y,errors:v,validations:f,onChange:b}=e,I=((e,t)=>{var n={};for(var r in e)Oae.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&Aae)for(var r of Aae(e))t.indexOf(r)<0&&xae.call(e,r)&&(n[r]=e[r]);return n})(e,["className","errorClassName","disabledClassName","isDisabled","type","name","initialValue","value","size","mask","guide","pipe","placeholderChar","keepCharPositions","hasError","errors","validations","onChange"]);return g.createElement("input",Lae(Lae({},I),{className:Te()(t,Tae[c],i&&r,y&&n),id:s,name:s,type:a,disabled:i,defaultValue:l,ref:this.setInputRef,onChange:this.onChange}))}}kae.defaultProps={className:Tae.input,errorClassName:Tae.hasError,disabledClassName:Tae.isDisabled,isDisabled:!1,size:Rp.ln,type:"text",hasError:!1};const Rae=kae;class zae extends g.Component{constructor(e,t){super(e,t),this.onCountryChange=e=>{const t=this._calculateLocationState(e,this.state.postalCode,this.props.countries);this.setState(t,(()=>{this.props.onChange({country:t.country,postalCode:t.postalCode})}))},this.onPostalCodeChange=e=>{this.setState({postalCode:e},(()=>{this.props.onChange({country:this.state.country,postalCode:e})}))},this.state=this._calculateLocationState(e.initialValue.country,e.initialValue.postalCode,e.countries)}UNSAFE_componentWillReceiveProps(e){const t=this.state.country!==e.value.country,n=this.state.postalCode!==e.value.postalCode;if(this.props.countries!==e.countries||t||n){const t=this._calculateLocationState(e.value.country,e.value.postalCode,e.countries);this.setState(t)}}_getCountryOption(e,t){return t.find((t=>t.code===e))}_countryHasPostalCode(e,t){const n=this._getCountryOption(e,t);return n&&"postalcode"===n.flavor}_calculateLocationState(e,t,n){return{country:e,postalCode:this._countryHasPostalCode(e,n)&&t?t:""}}_getSelectInputValues(e){return e.map((e=>({[e.code]:e.title})))}_getPostalCodeMask(e,t){const n=this._getCountryOption(e,t).postalCodeFormat;return n?S().map(n,(e=>"N"===e?/\d/:/\./)):[]}render(){const{labelText:e,helpText:t,countries:n,showErrors:r,errors:i,onBlur:a}=this.props,{country:s,postalCode:o}=this.state,[l]=i,c=0===n.length,d=this._countryHasPostalCode(s,n);return g.createElement(Sae.Z,null,g.createElement(Eae.Z,{name:"country"},e),t?g.createElement(Mae.Z,{className:"LocationSettingInputGroup-help-2ZOM1R FormHelp-help-5U-58f"},t):null,g.createElement(nee.Z,{name:"country",value:s,values:this._getSelectInputValues(n),isDisabled:c,onChange:this.onCountryChange}),d?g.createElement(Eae.Z,{name:"postalCode",hasError:r,className:"LocationSettingInputGroup-secondaryLabel-2DoWFB FormLabel-label-lDFbdu"},(0,Ce.Z)("Postal Code"),r&&l?`  ${l}`:null):null,d?g.createElement(Rae,{mask:this._getPostalCodeMask(s,n),name:"postalCode",value:o,isDisabled:c,hasError:r,onBlur:a,onChange:this.onPostalCodeChange}):null)}}const Uae=(0,Pae.Z)(zae);var Vae=n(62899),Bae=Object.defineProperty,Fae=Object.prototype.hasOwnProperty,_ae=Object.getOwnPropertySymbols,Hae=Object.prototype.propertyIsEnumerable,Qae=(e,t,n)=>t in e?Bae(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Gae=(e,t)=>{for(var n in t||(t={}))Fae.call(t,n)&&Qae(e,n,t[n]);if(_ae)for(var n of _ae(t))Hae.call(t,n)&&Qae(e,n,t[n]);return e};const Wae=[function(e){if(e.postalCode&&!/^\d{5}$/.test(e.postalCode))return(0,Ce.Z)("Postal Code is not in correct format")}],Yae={playbackSpeed:Vae.H},Kae=function e(t){const{id:n,type:r,multiselect:i,label:a,summary:s,country:o,locations:l,postalCode:c,value:d,options:u,enumValues:p,settings:m,parentSetting:h}=t;return n===eR.xy?g.createElement(fae.Z,{name:n,checkboxText:(0,Ce.Z)("Display the last 3 accessed channels in Guide"),checkedValue:3,uncheckedValue:0,initialValue:d}):r===rR?g.createElement("div",null,m.map((n=>n.hidden?null:g.createElement(e,Gae(Gae({key:n.id},n),{parentSetting:t}))))):r===tR?g.createElement(fae.Z,{name:n,labelText:h&&h.label||a,checkboxText:a,helpText:s,initialValue:d}):r===nR?g.createElement(wae.Z,{name:n,labelText:a,min:t.min,max:t.max,stepSize:t.step,initialValue:d,valueModifier:Yae[n]}):r===aR?g.createElement(Uae,{name:n,labelText:a,helpText:s,initialValue:{country:o,postalCode:c},validations:Wae,countries:l}):r===sR&&i?g.createElement(Cae,{labelText:a,helpText:s,options:u}):p?g.createElement(bae.Z,{name:n,labelText:a,helpText:s,initialValue:d,values:gae(p,r)}):(M.Z.warn("Unsupported provider setting type:[%s]",r),null)};var qae=n(37084);const $ae="SettingsFormSection-sectionWrapper-R0ePdw";function Jae(e){const{children:t,className:n,onPress:r}=e;return g.createElement(pw.Z,{className:Te()($ae,n),component:"div",onPress:r},t)}function Xae(e){const{children:t,className:n}=e;return g.createElement("div",{className:Te()($ae,n)},t)}const ese=function(e){const{errorMessage:t,children:n,className:r,onPress:i}=e,a=i?Jae:Xae;return g.createElement(a,{className:r,onPress:i},t?g.createElement(ww.Z,{errorMessage:t}):null,g.createElement("div",{className:"SettingsFormSection-section-1E12y7"},n))};function tse(e){const{children:t,className:n}=e;return g.createElement("div",{className:n},t)}tse.defaultProps={className:"SettingsFormSectionActionLinks-actionLinks-27IFpO"};const nse=tse,rse=function(e){const{children:t,className:n,closedNode:r,errorMessage:i,isOpen:a,onTogglePress:s}=e;return g.createElement(ese,{className:Te()(a?"CloseableFormSection-isOpen-2d4j8q":"CloseableFormSection-isClosed-2WqBVq CloseableFormSection-isPressable-2ogaVI",n),errorMessage:a?i:null,onPress:a?null:s},g.createElement(nse,null,a?g.createElement(pw.Z,{kind:ic._8,onPress:s},(0,Ce.Z)("Cancel")):null,a?null:g.createElement(pw.Z,{kind:ic._8},(0,Ce.Z)("Edit"))),a?t:r)};function ise(e){const{className:t,children:n}=e;return g.createElement("div",{className:t},n)}ise.defaultProps={className:"SettingsFormSectionDetails-sectionDetails-3c6R0T"};const ase=ise,sse="SubmittableFormSection-label-nKxRPX FormLabel-label-lDFbdu CloseableFormSection-isPressable-2ogaVI";function ose(e){const{className:t,children:n,closedNode:r,title:i,errorMessage:a,buttonKind:s,buttonText:o,isDirty:l,isOpen:c,isUpdating:d,showButton:u,showButtonEnabled:p,showSpinner:m,onFormChange:h,onSubmit:y,onTogglePress:v}=e;return g.createElement(rse,{className:t,isOpen:c,errorMessage:a,closedNode:g.createElement(ase,{className:"SubmittableFormSection-sectionDetails-2rubli CloseableFormSection-isPressable-2ogaVI SettingsFormSectionDetails-sectionDetails-3c6R0T"},g.createElement(Eae.Z,{className:sse},i),r),onTogglePress:v},m?g.createElement(Eae.Z,{className:sse},i):null,m?g.createElement("div",{className:"SubmittableFormSection-spinnerContainer-3DCHj1"},g.createElement(Mx.Z,null)):null,!m&&u?g.createElement(qae.ZP,{onSubmit:y,onChange:h},n,g.createElement("div",{className:"SubmittableFormSection-submitButton-2P9z3-"},g.createElement(fw.Z,{type:"submit",isDisabled:!p&&!l,isSpinning:d,kind:s},o||(0,Ce.Z)("Save Changes")))):null,m||u?null:n)}ose.defaultProps={buttonKind:ic._8,showButton:!0,showButtonEnabled:!1};const lse=Rw(ose,{isUpdatingPropName:"isUpdating",errorPropName:"errorMessage",clearDirtyOnChangePropName:"isOpen"});var cse=Object.defineProperty,dse=Object.prototype.hasOwnProperty,use=Object.getOwnPropertySymbols,pse=Object.prototype.propertyIsEnumerable,mse=(e,t,n)=>t in e?cse(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,hse=(e,t)=>{for(var n in t||(t={}))dse.call(t,n)&&mse(e,n,t[n]);if(use)for(var n of use(t))pse.call(t,n)&&mse(e,n,t[n]);return e};const gse=function(e){const t=e,{setting:n}=t,r=((e,t)=>{var n={};for(var r in e)dse.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&use)for(var r of use(e))t.indexOf(r)<0&&pse.call(e,r)&&(n[r]=e[r]);return n})(t,["setting"]);return g.createElement(lse,hse(hse({},r),{closedNode:yae(n),initialValue:vae(n)}))};var yse=Object.defineProperty,vse=Object.prototype.hasOwnProperty,fse=Object.getOwnPropertySymbols,bse=Object.prototype.propertyIsEnumerable,Ise=(e,t,n)=>t in e?yse(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const Sse=function(e){const t=e,{setting:n}=t,r=((e,t)=>{var n={};for(var r in e)vse.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&fse)for(var r of fse(e))t.indexOf(r)<0&&bse.call(e,r)&&(n[r]=e[r]);return n})(t,["setting"]);return g.createElement(lse,((e,t)=>{for(var n in t||(t={}))vse.call(t,n)&&Ise(e,n,t[n]);if(fse)for(var n of fse(t))bse.call(t,n)&&Ise(e,n,t[n]);return e})({closedNode:n.summary},r))};function Mse(e,t,n){let r=e.slice(0);if(n<0||n>r.length)return r;const i=r[t];return r=function(e,t){const n=e.slice(0);return t<0||t>=n.length||n.splice(t,1),n}(r,t),r.splice(n,0,i),r}function Ese(e){var t=e["aria-label"],n=e.className,r=e.style,i={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-eye-closed-560"};i["aria-hidden"]=!t,i.style=r,i.className=oa.Z.plexIcon+(n?" "+n:"");var a=[g.createElement.apply(g,["g",void 0].concat([g.createElement.apply(g,["path",{d:"M522.454 280c-56.558 79.108-145.66 125.848-241.414 125.848-95.82 0-184.9884-46.756-241.5154-125.848H1l3.1852 4.958C65.863 381.112 169.368 438.512 281.034 438.512c111.642 0 215.126-57.4 276.788-153.578L561 280h-38.546z"}].concat([])),g.createElement.apply(g,["path",{d:"M269.018 436.36V520h29.56v-83.64zM383.556 414.76l34.616 83.904 27.21-11.884-34.616-83.906zM480.352 361.564l54.132 71.284 23.294-18.728-54.132-71.284zM154.4628 402.434l-31.0532 87.792 27.7794 10.4 31.053-87.79zM62.8262 345.216L8.3388 416.972l23.2936 18.726 54.4874-71.754z"}].concat([]))]))];return t&&a.unshift(g.createElement("title",null,t)),g.createElement.apply(g,["svg",i].concat(a))}Ese.propTypes={"aria-label":sa().string,className:sa().string,style:sa().object};const Pse=Ese;function Dse(e){var t=e["aria-label"],n=e.className,r=e.style,i={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-eye-open-560"};i["aria-hidden"]=!t,i.style=r,i.className=oa.Z.plexIcon+(n?" "+n:"");var a=[g.createElement.apply(g,["g",void 0].concat([g.createElement.apply(g,["path",{d:"M556.022 268.128C550.718 261.908 431.676 120 280.22 120 128.766 120 9.7238 261.908 4.4198 268.128c-5.893 6.784-5.893 16.394 0 23.744C9.7238 298.092 128.766 440 280.22 440c151.456 0 270.498-142.474 275.802-148.128 5.304-6.784 5.304-16.96 0-23.744zM280.22 386.29c-61.288 0-110.79-47.492-110.79-106.29 0-58.798 49.502-106.29 110.79-106.29 61.29 0 110.792 47.492 110.792 106.29 0 58.798-49.502 106.29-110.792 106.29z"}].concat([])),g.createElement.apply(g,["path",{d:"M280.224 344.452c37.102 0 67.182-28.856 67.182-64.452s-30.08-64.454-67.182-64.454c-37.104 0-67.184 28.858-67.184 64.454 0 35.596 30.08 64.452 67.184 64.452z"}].concat([]))]))];return t&&a.unshift(g.createElement("title",null,t)),g.createElement.apply(g,["svg",i].concat(a))}Dse.propTypes={"aria-label":sa().string,className:sa().string,style:sa().object};const Cse=Dse,wse={item:"LineupChannel-item-2KzaQ9",label:"LineupChannel-label-hq2rUQ",title:"LineupChannel-title-33qGnK",iconReorder:"LineupChannel-iconReorder-30MICz",toggleButton:"LineupChannel-toggleButton-SBZJR1 IconButton-button-llQ1So",thumb:"LineupChannel-thumb-QG8kyZ"};function Zse(e){const{serverEntityID:t,providerEntityID:n,className:r,channelID:i,title:a,thumb:s,style:o,hidden:l,connectDragSource:c,onToggleHideChannel:d}=e,u=(0,g.useCallback)((()=>{d&&d(i)}),[i,d]),p=l?(0,Ce.Z)("Show"):(0,Ce.Z)("Hide");return g.createElement("div",{className:Te()(r,l&&wse.isHidden),style:o},c(g.createElement("div",null,g.createElement(PB,{className:wse.iconReorder}))),g.createElement(xt.Z,{serverEntityID:t,providerEntityID:n,className:wse.thumb,url:s,width:36,height:36,backgroundSize:"contain"}),g.createElement("span",{className:wse.label},g.createElement("span",{className:wse.title},a)),g.createElement(rf.Z,{className:wse.toggleButton,component:Lx.Z,iconComponent:l?Pse:Cse,ariaLabel:p,tooltip:p,onPress:u}))}Zse.defaultProps={className:wse.item,connectDragSource:e=>e};const Tse=Zse;var Nse=Object.defineProperty,Ose=Object.prototype.hasOwnProperty,Ase=Object.getOwnPropertySymbols,xse=Object.prototype.propertyIsEnumerable,jse=(e,t,n)=>t in e?Nse(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Lse=(e,t)=>{for(var n in t||(t={}))Ose.call(t,n)&&jse(e,n,t[n]);if(Ase)for(var n of Ase(t))xse.call(t,n)&&jse(e,n,t[n]);return e};const kse=parseInt(ng.Z.lineupSettingChannelHeight,10);class Rse extends g.Component{render(){const{item:e,style:t}=this.props;if(!e||!t)return null;const n=e,{listHeight:r,listWidth:i,listTop:a,listRight:s,listBottom:o,listLeft:l}=n,c=((e,t)=>{var n={};for(var r in e)Ose.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&Ase)for(var r of Ase(e))t.indexOf(r)<0&&xse.call(e,r)&&(n[r]=e[r]);return n})(n,["listHeight","listWidth","listTop","listRight","listBottom","listLeft"]);return g.createElement(pB,null,g.createElement(Tse,Lse(Lse({},c),{style:t})))}}const zse=(0,aB.rE)((function(e){const t=e.getItem(),n={item:t,style:null},r=e.getInitialSourceClientOffset(),i=e.getSourceClientOffset();if(e.getItemType()===vB&&r&&i){let e=i.y;e-t.listTop<=0?e=t.listTop:e+kse>=t.listBottom&&(e=t.listBottom-kse),n.style=F2({x:r.x,y:e},t.listWidth)}return n}))(Rse);var Use=Object.defineProperty,Vse=Object.prototype.hasOwnProperty,Bse=Object.getOwnPropertySymbols,Fse=Object.prototype.propertyIsEnumerable,_se=(e,t,n)=>t in e?Use(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const Hse={beginDrag(e){const{channelID:t,serverEntityID:n,providerEntityID:r,title:i,thumb:a,hidden:s,listIndex:o,listHeight:l,listWidth:c,listTop:d,listRight:u,listBottom:p,listLeft:m}=e;return{dragIndex:o,channelID:t,serverEntityID:n,providerEntityID:r,title:i,thumb:a,hidden:s,listHeight:l,listWidth:c,listTop:d,listRight:u,listBottom:p,listLeft:m}},endDrag(e,t){e.onItemDragEnd({didDrop:t.didDrop()})}},Qse={hover(e,t,n){const r=t.getClientOffset(),i=(0,y.findDOMNode)(n).getBoundingClientRect(),a=(i.bottom-i.top)/2,s=r.y-i.top,o=t.getItem().dragIndex,l=e.listIndex;let c;c=l===o?l:s>a?l+1:l,e.onItemDragMove({dragIndex:o,dropIndex:c})}};class Gse extends g.Component{componentDidMount(){this.props.connectDragPreview((0,qB.rX)())}render(){const e=this.props,{isOver:t,isDragging:n,listIndex:r,dropIndex:i,listHeight:a,listWidth:s,listTop:o,listRight:l,listBottom:c,listLeft:d,isDraggingBefore:u,isDraggingAfter:p,connectDropTarget:m}=e,h=((e,t)=>{var n={};for(var r in e)Vse.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&Bse)for(var r of Bse(e))t.indexOf(r)<0&&Fse.call(e,r)&&(n[r]=e[r]);return n})(e,["isOver","isDragging","listIndex","dropIndex","listHeight","listWidth","listTop","listRight","listBottom","listLeft","isDraggingBefore","isDraggingAfter","connectDropTarget"]);return m(g.createElement("div",{className:Te()("LineupChannelDragSource-container-1HS7WE",t&&"LineupChannelDragSource-isOver-1gCf2-",n&&lr.fN,t&&u&&lr.DT,t&&p&&lr.QZ)},g.createElement(Tse,((e,t)=>{for(var n in t||(t={}))Vse.call(t,n)&&_se(e,n,t[n]);if(Bse)for(var n of Bse(t))Fse.call(t,n)&&_se(e,n,t[n]);return e})({},h))))}}const Wse=(0,aB.GR)(vB,Qse,(function(e,t){return{connectDropTarget:e.dropTarget(),isOver:t.isOver()}}))((0,aB.Ej)(vB,Hse,(function(e,t){return{connectDragPreview:e.dragPreview(),connectDragSource:e.dragSource(),isDragging:t.isDragging()}}))(Gse));var Yse=Object.defineProperty,Kse=Object.prototype.hasOwnProperty,qse=Object.getOwnPropertySymbols,$se=Object.prototype.propertyIsEnumerable,Jse=(e,t,n)=>t in e?Yse(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Xse=(e,t)=>{for(var n in t||(t={}))Kse.call(t,n)&&Jse(e,n,t[n]);if(qse)for(var n of qse(t))$se.call(t,n)&&Jse(e,n,t[n]);return e};const eoe={dragIndex:-1,dropIndex:-1,hasValidDropTarget:!1};class toe extends g.Component{constructor(e,t){super(e,t),this.onItemDragMove=e=>{const{dragIndex:t,dropIndex:n}=e,{dragIndex:r,dropIndex:i}=this.state;let a=n!==i?n:i;const s=t!==r?t:r;if((a===s||a>s&&a-s==1)&&(a=-1),s!==r||a!==i){const e={dragIndex:s,dropIndex:a,hasValidDropTarget:-1!==a};this.setState(e)}},this.onItemDragEnd=e=>{const{dragIndex:t,dropIndex:n}=this.state;let r;e.didDrop&&-1!==n&&(r=()=>{this.props.onReorderChannel({fromIndex:t,toIndex:n>t?n-1:n})}),this.setState(eoe,r)},this.onMeasure=e=>{const{height:t,width:n,x:r,y:i}=e;this.setState({listHeight:t,listWidth:n,listTop:i,listRight:r+n,listBottom:i+t,listLeft:r})},this.state=Xse(Xse({},eoe),{listHeight:0,listWidth:0,listTop:0,listRight:0,listBottom:0,listLeft:0})}render(){const{serverEntityID:e,providerEntityID:t,lineup:n,onToggleHideChannel:r}=this.props,{dropIndex:i,hasValidDropTarget:a}=this.state;return g.createElement(bx.Z,{onMeasure:this.onMeasure},g.createElement(rU.Z,{className:"SortableLineup-scroller-3A35gH Scroller-scroller-2Rw5pG",scrollDirection:tZ.yZ},n.map(((n,s)=>{const{id:o,title:l,thumb:c,hidden:d}=n,u=s,p=a&&i===u,m=a&&i===u+1;return g.createElement(Wse,Xse(Xse({},this.state),{key:o,serverEntityID:e,providerEntityID:t,channelID:o,listIndex:u,title:l,thumb:c,hidden:d,hasValidDropTarget:a,isDraggingAfter:m,isDraggingBefore:p,onItemDragMove:this.onItemDragMove,onItemDragEnd:this.onItemDragEnd,onToggleHideChannel:r}))})),g.createElement(zse,null)))}}const noe=DH(toe);var roe=Object.defineProperty,ioe=Object.prototype.hasOwnProperty,aoe=Object.getOwnPropertySymbols,soe=Object.prototype.propertyIsEnumerable,ooe=(e,t,n)=>t in e?roe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,loe=(e,t)=>{for(var n in t||(t={}))ioe.call(t,n)&&ooe(e,n,t[n]);if(aoe)for(var n of aoe(t))soe.call(t,n)&&ooe(e,n,t[n]);return e};const coe=function(e){const t=e,{serverEntityID:n,providerEntityID:r,setting:i,onTogglePress:a,onSubmit:s}=t,o=((e,t)=>{var n={};for(var r in e)ioe.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&aoe)for(var r of aoe(e))t.indexOf(r)<0&&soe.call(e,r)&&(n[r]=e[r]);return n})(t,["serverEntityID","providerEntityID","setting","onTogglePress","onSubmit"]),{summary:l,lineup:c,isLineupPending:d}=i,[u,p]=(0,g.useState)(c),[m,h]=(0,g.useState)(!1),y=(0,g.useCallback)((e=>{h(!0),p(u.map((t=>t.id===e?loe(loe({},t),{hidden:!t.hidden}):t)))}),[u]),v=(0,g.useCallback)((({fromIndex:e,toIndex:t})=>{e!==t&&(h(!0),p(Mse(u,e,t)))}),[u]),f=(0,g.useCallback)((e=>{p(c),a(e)}),[c,a]),b=(0,g.useCallback)((()=>{const e=u.map((({id:e,hidden:t})=>({id:e,hidden:t})));s(e)}),[u,s]);return(0,g.useEffect)((()=>{d||p(c)}),[d,c]),g.createElement(lse,loe(loe({},o),{closedNode:l,showSpinner:d,isDirty:m,onSubmit:b,onTogglePress:f}),g.createElement(Mae.Z,{className:"ProviderSettingLineupFormSection-help-3CyfPA FormHelp-help-5U-58f"},l),g.createElement(noe,{serverEntityID:n,providerEntityID:r,lineup:u,onReorderChannel:v,onToggleHideChannel:y}))};var doe=Object.defineProperty,uoe=Object.prototype.hasOwnProperty,poe=Object.getOwnPropertySymbols,moe=Object.prototype.propertyIsEnumerable,hoe=(e,t,n)=>t in e?doe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,goe=(e,t)=>{for(var n in t||(t={}))uoe.call(t,n)&&hoe(e,n,t[n]);if(poe)for(var n of poe(t))moe.call(t,n)&&hoe(e,n,t[n]);return e};class yoe extends g.Component{constructor(){super(...arguments),this.onSubmit=e=>{const{location:t}=e;this.props.onSubmit(t)}}_getCountryPostalCodeLabel(e,t){const n=[];return e?(n.push(e),t&&n.push(t),n.join(", ")):""}render(){const e=this.props,{setting:t}=e,n=((e,t)=>{var n={};for(var r in e)uoe.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&poe)for(var r of poe(e))t.indexOf(r)<0&&moe.call(e,r)&&(n[r]=e[r]);return n})(e,["setting"]);return g.createElement(lse,goe(goe({closedNode:this._getCountryPostalCodeLabel(t.countryLabel,t.postalCode),showSpinner:t.isLocationsPending},n),{onSubmit:this.onSubmit}))}}const voe=yoe;var foe=Object.defineProperty,boe=Object.prototype.hasOwnProperty,Ioe=Object.getOwnPropertySymbols,Soe=Object.prototype.propertyIsEnumerable,Moe=(e,t,n)=>t in e?foe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const Eoe=function(e){const t=e,{setting:n}=t,r=((e,t)=>{var n={};for(var r in e)boe.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&Ioe)for(var r of Ioe(e))t.indexOf(r)<0&&Soe.call(e,r)&&(n[r]=e[r]);return n})(t,["setting"]);return g.createElement(lse,((e,t)=>{for(var n in t||(t={}))boe.call(t,n)&&Moe(e,n,t[n]);if(Ioe)for(var n of Ioe(t))Soe.call(t,n)&&Moe(e,n,t[n]);return e})({closedNode:(0,Ce.Z)("{1} selected",n.selectedCount),showSpinner:n.isOptionsPending},r))};var Poe=Object.defineProperty,Doe=Object.prototype.hasOwnProperty,Coe=Object.getOwnPropertySymbols,woe=Object.prototype.propertyIsEnumerable,Zoe=(e,t,n)=>t in e?Poe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Toe=(e,t)=>{for(var n in t||(t={}))Doe.call(t,n)&&Zoe(e,n,t[n]);if(Coe)for(var n of Coe(t))woe.call(t,n)&&Zoe(e,n,t[n]);return e};class Noe extends g.Component{constructor(){super(...arguments),this.onTogglePress=()=>{const{setting:{optionsError:e,locationsError:t,lineupError:n,id:r}}=this.props;this.props.onTogglePress(r),(e||t||n)&&this.props.onOptionsFetchErrorDismiss(r)},this.onSubmit=e=>{this.props.onUpdateSetting(this.props.setting.id,e)}}render(){const{setting:e}=this.props,{id:t,summary:n,optionsError:r,locationsError:i,lineupError:a,type:s,multiselect:o,enumValues:l,value:c}=e,d=this.props,{updateError:u,onUpdateSetting:p,onTogglePress:m,onOptionsFetchErrorDismiss:h}=d,y=((e,t)=>{var n={};for(var r in e)Doe.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&Coe)for(var r of Coe(e))t.indexOf(r)<0&&woe.call(e,r)&&(n[r]=e[r]);return n})(d,["updateError","onUpdateSetting","onTogglePress","onOptionsFetchErrorDismiss"]),v=u?(0,Ce.Z)("Unable to save settings"):null,f=r||i||a?(0,Ce.Z)("There was an error loading the options"):v;return t===eR.xy?g.createElement(lse,Toe(Toe({},y),{title:(0,Ce.Z)("Display the last 3 accessed channels in Guide"),closedNode:3===c?(0,Ce.Z)("Enabled"):(0,Ce.Z)("Disabled"),errorMessage:f,onSubmit:this.onSubmit,onTogglePress:this.onTogglePress})):s===rR?g.createElement(Sse,Toe(Toe({},y),{errorMessage:f,onSubmit:this.onSubmit,onTogglePress:this.onTogglePress})):s===aR?g.createElement(voe,Toe(Toe({},y),{errorMessage:f,onSubmit:this.onSubmit,onTogglePress:this.onTogglePress})):s===sR&&o?g.createElement(Eoe,Toe(Toe({},y),{errorMessage:f,onSubmit:this.onSubmit,onTogglePress:this.onTogglePress})):l?g.createElement(gse,Toe(Toe({},y),{errorMessage:f,onSubmit:this.onSubmit,onTogglePress:this.onTogglePress})):s===iR?g.createElement(coe,Toe(Toe({},y),{setting:e,errorMessage:f,onSubmit:this.onSubmit,onTogglePress:this.onTogglePress})):s===nR||s===tR?g.createElement(lse,Toe(Toe({closedNode:n},y),{errorMessage:f,onSubmit:this.onSubmit,onTogglePress:this.onTogglePress})):(M.Z.warn("Unsupported provider setting type:[%s]",s),null)}}const Ooe=Noe;var Aoe=Object.defineProperty,xoe=Object.prototype.hasOwnProperty,joe=Object.getOwnPropertySymbols,Loe=Object.prototype.propertyIsEnumerable,koe=(e,t,n)=>t in e?Aoe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;class Roe extends g.Component{constructor(e,t){super(e,t),this.onTogglePress=e=>{this.props.updateError&&this.props.onUpdateErrorDismiss(),this.state.openSettingID===e?this.setState({openSettingID:null}):(this.props.onSettingViewDetail(e),this.setState({openSettingID:e}))},this.state={openSettingID:null,isUpdatePendingFromStore:e.isUpdatePending}}static getDerivedStateFromProps(e,t){const n={isUpdatePendingFromStore:e.isUpdatePending};return!t.isUpdatePendingFromStore||e.isUpdatePending||e.updateError||(n.openSettingID=null),n}render(){const{serverEntityID:e,providerEntityID:t,providerTitle:n,showSpinner:r,settings:i,isUpdatePending:a,updateError:s,onUpdateSetting:o,onOptionsFetchErrorDismiss:l}=this.props,{openSettingID:c}=this.state;return r?g.createElement(CK.Z,null,g.createElement(Mx.Z,null)):g.createElement(uae,{metricsPage:pt.PX,metricsPane:"settings"},g.createElement(mae,null,n,n?g.createElement(rs.Z,null):null,(0,Ce.Z)("Personalize")),i.map((n=>n.hidden?null:g.createElement(Ooe,{key:n.id,serverEntityID:e,providerEntityID:t,title:n.label,setting:n,isOpen:c===n.id,isUpdating:a,updateError:s,onTogglePress:this.onTogglePress,onUpdateSetting:o,onOptionsFetchErrorDismiss:l},g.createElement(Kae,((e,t)=>{for(var n in t||(t={}))xoe.call(t,n)&&koe(e,n,t[n]);if(joe)for(var n of joe(t))Loe.call(t,n)&&koe(e,n,t[n]);return e})({},n))))))}}const zoe=Roe,Uoe={dispatchFetchProviderSettings:bR,dispatchUpdateProviderSetting:ZR,dispatchClearProviderSettingUpdateError:TR,dispatchClearProviderSettingFetchError:SR,dispatchPopulateSettingsOptions:NR};class Voe extends g.Component{constructor(){super(...arguments),this.onUpdateErrorDismiss=()=>{this.props.dispatchClearProviderSettingUpdateError({providerEntityID:this.props.providerEntityID})},this.onOptionsFetchErrorDismiss=e=>{this.props.dispatchClearProviderSettingFetchError({providerEntityID:this.props.providerEntityID,settingID:e})},this.onUpdateSetting=(e,t)=>{this.props.dispatchUpdateProviderSetting({providerEntityID:this.props.providerEntityID,settingID:e,values:t})},this.onSettingViewDetail=e=>{this.props.dispatchPopulateSettingsOptions({providerEntityID:this.props.providerEntityID,settingID:e})}}componentDidMount(){const{providerEntityID:e}=this.props;this.props.dispatchFetchProviderSettings({providerEntityID:e})}render(){return g.createElement(zoe,{serverEntityID:this.props.serverEntityID,providerEntityID:this.props.providerEntityID,providerTitle:this.props.providerTitle,showSpinner:this.props.isSettingsPending,settings:this.props.settings,isUpdatePending:this.props.isUpdatePending,updateError:this.props.updateError,onSettingViewDetail:this.onSettingViewDetail,onUpdateErrorDismiss:this.onUpdateErrorDismiss,onOptionsFetchErrorDismiss:this.onOptionsFetchErrorDismiss,onUpdateSetting:this.onUpdateSetting})}}const Boe=(0,v.$j)((function(){return(0,fe.P1)((0,OT.Z)(),YA(AC.L6),(e=>e.ui.providerSettingsPage),((e,t,n)=>({providerEntityID:e.entityID,providerTitle:e.title,settings:t.settings,isSettingsPending:t.isSettingsPending,isUpdatePending:n.isUpdatePending,updateError:n.updateError})))}),Uoe)(Voe);function Foe(){const{machineIdentifier:e,providerIdentifier:t}=MK(),n=(0,vn.Z)(Mn.cN,e),r=(0,vn.Z)(Mn.MC,t,n);return g.createElement(cae,{serverEntityID:n,providerEntityID:r},g.createElement(Boe,{providerEntityID:r}))}var _oe=n(69865),Hoe=n(55983);const Qoe=_oe.Z.extend({idAttribute:"key",whitelistedAttrs:["key","name","defaultAudioLanguage","autoSelectAudio","defaultSubtitleLanguage","subtitleMode"],url:function(){return this.get("key")},convert:function(e){let t=S().isObject(e)?e:Hoe.Z.parseXML(e);return t.Account&&(t=t.Account),Hoe.Z.parseBoolean(t,"autoSelectAudio"),t},parse:function(e){let t=this.convert(e);return t=S().pick(t,this.whitelistedAttrs),t}});var Goe=n(91485);function Woe(e){return(0,vn.Z)(Mn.MC,Fo.Y3,e)}var Yoe=n(71576),Koe=n(29415),qoe=n(11023),$oe=n(39879);const Joe=_oe.Z.extend({idAttribute:"playQueueID",whitelistedAttrs:["playQueueID","playQueueSelectedItemID","playQueueSelectedItemOffset","playQueueSelectedMetadataItemID","playQueueLastAddedItemID","playQueueShuffled","playQueueSourceURI","playQueueTotalCount","playQueueVersion","message"],defaults:{selectedItem:null,mediaType:null,owned:!0,hasUserAdditions:!1,playQueueVersion:0},metadataElementNames:["Directory","Video","Track","Photo","Hub"],url:function(){return"/playQueues/"+this.id},initialize:function(){this.listenTo(this,"change:message",this.onMessageChange)},_fetch:function(){var e=S().result(this,"url");return this._ajax("GET",e)},convert:function(e){var t=S().isObject(e)?e:Hoe.Z.parseXML(e);return Hoe.Z.parseBoolean(t,"playQueueShuffled"),Hoe.Z.parseInteger(t,["playQueueSelectedItemOffset","playQueueTotalCount","playQueueVersion"]),Hoe.Z.parseArray(t,"Metadata"),t},parse:function(e,t){S().isString(e)&&(e=Hoe.Z.replaceXMLElementNames(e,this.metadataElementNames,"Metadata"));var n=this.convert(e);n.id&&(n.playQueueID=n.id);var r=S().pick(n,this.whitelistedAttrs);return this.set(r,{silent:!0}),this.pendingChanges=this.changed,this.parseItems(n),r},parseItems:function(e){var t=this.get("collection"),n=e.Metadata,r=!!n.length,i=S().pluck(n,"playQueueItemID").indexOf(e.playQueueSelectedItemID),a=e.playQueueSelectedItemOffset-i;S().each(n,(function(t,n){t.queueIndex=a+n,e.identifier&&(t.identifier=e.identifier),e.mediaTagPrefix&&(t.mediaTagPrefix=e.mediaTagPrefix),e.mediaTagVersion&&(t.mediaTagVersion=e.mediaTagVersion)})),t?t.set(n,{parse:r}):(t=new $oe.Z(n,{server:this.server,parent:this,parse:r}),this.set("collection",t)),t.totalSize=e.playQueueTotalCount,t.availableRange={start:a,end:a+t.length}},moveItem:function(e,t){if(e===this.get("playQueueSelectedItemID"))return h().Deferred().resolve().promise();this.set("hasUserAdditions",!0);var n={after:t||-1},r=E.Z.join([S().result(this,"url"),"/items/",e,"/move"],n);return this._ajax("PUT",r)},getUpNextRange:function(){var e=this.get("collection"),t=e.get(this.get("playQueueSelectedItemID")),n=e.indexOf(t),r=Math.max(n,0),i=r,a=this.get("playQueueLastAddedItemID");if(null!=a){var s=e.get(a),o=e.indexOf(s);o>r&&(i=o)}return{start:r,end:i}},getCurrentItem:function(){var e=this.get("playQueueSelectedItemID");return this.get("collection").findWhere({playQueueItemID:e})||null},_ajax:function(e,t){var n=S().extend(this.server.getXHROptions(t),{type:e}),r=h().ajax(n);return r.done(S().bind((function(e){this.set(this.parse(e)),S().isEmpty(this.pendingChanges)||(S().each(this.pendingChanges,(function(e,t){this.trigger("change:"+t,this,e)}),this),this.trigger("change",this),this.pendingChanges=null),this.set("selectedItem",this.getCurrentItem())}),this)),r.promise()},onMessageChange:function(e,t){t&&le.Z.trigger("show:alert",{type:"error",message:t})}}),Xoe=Koe.Z.extend({model:Joe,url:"/playQueues?type="+qoe.Z.LOCAL,parse:function(e){return this.convert(e,"PlayQueue")}});function ele(e){return(0,zO.Z)("web-client","settings",e)}function tle(e,t,n){return(0,zO.Z)("server",e,t,n)}var nle=n(97189);const rle=p.Z.Layout.extend({template:()=>"",mountReact(){const e=(0,b.DB)("appStore");y.render(g.createElement(v.zt,{store:e},this.component(this.options)),this.el)},unmountReact(){this.isRendered&&y.unmountComponentAtNode(this.el)},onBeforeRender(){this.unmountReact()},onRender(){this.mountReact()},onClose(){this.unmountReact()}});var ile=n(21009),ale=n(1922),sle=n.n(ale);const ole=p.Z.ItemView.extend({tagName:"li",className:"card-collapsed striped-list-item alert-list-item",template:sle(),serializeData:function(){var e=(0,b.DB)("appModel").get("user").get("experienceSettings"),t=this.model.toJSON(),n={serverID:this.model.server.id,itemKey:"/library/metadata/"+this.model.get("itemID"),event:t,escapedServerName:S().escape(this.model.server.get("friendlyName")),escapedEventLabel:S().escape(t.label),escapedEventValue:S().escape(t.value),escapedEventUsername:S().escape(t.username),escapedEventTitle:S().escape(t.title),escapedEventPlayer:S().escape(t.player),timeFormat:e.get("timeFormat")};if(t.label=S().escape(t.label),t.value=S().escape(t.value),"playing"===t._type&&(t.username=S().escape(t.username),t.title=S().escape(t.title),t.player=S().escape(t.player)),"timeline"===t._type)switch(t.mediaTitle=this.model.get("title")||"an item",this.model.get("state")){case 0:t.stateString=(0,Ce.Z)("Created");break;case 1:t.stateString=(0,Ce.Z)("Progress for");break;case 2:t.stateString=(0,Ce.Z)("Matching");break;case 3:t.stateString=(0,Ce.Z)("Downloading metadata for");break;case 4:t.stateString=(0,Ce.Z)("Loading metadata for");break;case 5:t.stateString=(0,Ce.Z)("Finished processing");break;case 6:t.stateString=(0,Ce.Z)("Analyzing");break;case 9:t.stateString=(0,Ce.Z)("Deleted")}return n}}),lle=ile.Z.extend({tagName:"ul",className:"list card-list alert-list",itemView:ole,reversed:!0});var cle=n(98149),dle=n.n(cle);const ule=p.Z.Layout.extend({className:"alerts-container",template:dle(),ui:{pageCount:".page-count",previousBtn:".previous-btn",nextBtn:".next-btn"},regions:{serverDropdown:".filter-bar",list:".alert-list-container"},modelEvents:{"change:shared":"onSharedChange"},collectionEvents:{add:"onAlertAdd"},events:{"click .previous-btn":"onPreviousClick","click .next-btn":"onNextClick"},onlyAfterRender:["onAlertAdd"],initialize:function(){this.shared=this.model.get("shared"),this.page=1,this.listCollection=this.collection.clone(this.collection.page(this.page,{reverse:!0})),this.listCollection.stopListening()},serializeData:function(){var e=this.collection.pages();return{shared:this.shared,escapedPage:S().escape(this.page),escapedPages:S().escape(e),enablePrevious:this.page>1,enableNext:this.page<e}},updatePages:function(){var e=this.collection.pages();this.ui.pageCount.text((0,Ce.Z)("{1} of {2}",this.page,e)),this.ui.previousBtn.toggleClass("disabled",this.page<2),this.ui.nextBtn.toggleClass("disabled",this.page>=e)},updateList:function(){this.listCollection.reset(this.collection.page(this.page,{reverse:!0}))},onRender:function(){this.shared||this.list.append(new lle({collection:this.listCollection}))},onSharedChange:function(e,t){this.shared=t,this.render()},onAlertAdd:function(e,t){this.shared||(this.updatePages(),this.updateList())},onPreviousClick:function(e){e.preventDefault(),this.ui.previousBtn.isDisabled()||(this.page--,this.updatePages(),this.updateList())},onNextClick:function(e){e.preventDefault(),this.ui.nextBtn.isDisabled()||(this.page++,this.updatePages(),this.updateList())}});var ple=n(14e3);const mle=oe.Z.extend({mixins:[ce.Z],defaultFilterName:"__default",whitelistedEvents:["add","remove","reset","sort","destroy","sync","request","error"],blacklistedMethods:["_onModelEvent","_prepareModel","_removeReference","_reset","add","initialize","sync","remove","reset","set","push","pop","unshift","shift","sort","parse","fetch","create","model","off","on","listenTo","listenToOnce","bind","trigger","once","stopListening"],constructor:function(e,t){this.superset=e,this._collection=new ple.ZP.Collection(e.toArray()),this._proxyCollection(this._collection),this.resetFilters(),this.listenTo(e,{add:this.onSupersetAdd,remove:this.onSupersetRemove,reset:this.onSupersetReset}),this.initialize(t)},_proxyCollection:function(e){this.models=e.models,this._proxyCollectionMethods(e),this._proxyCollectionLength(e),this._proxyCollectionEvents(e)},_proxyCollectionMethods:function(e){const t={};S().each(S().functions(ple.ZP.Collection.prototype),(function(n){S().contains(this.blacklistedMethods,n)||(t[n]=function(){return e[n].apply(e,arguments)})}),this),S().extend(this,t)},_proxyCollectionLength:function(e){const t=function(){this.length=e.length};this.listenTo(e,"all",t),t.call(this)},_proxyCollectionEvents:function(e){this.listenTo(e,"all",(function(t){const n=S().toArray(arguments),r="change"===t||"change:"===t.slice(0,7);"reset"===t&&(this.models=e.models),S().contains(this.whitelistedEvents,t)?(S().contains(["add","remove","destroy"],t)?n[2]=this:S().contains(["reset","sort"],t)&&(n[1]=this),this.trigger.apply(this,n)):r&&this.contains(n[1])&&this.trigger.apply(this,n)}))},addFilter:function(e,t){return t||(t=e,e=this.defaultFilterName),S().has(this._filters,e)&&this._invalidateCacheForFilter(e),this._filters[e]=this._createFilter(t),this._execFilters(),this.trigger("filtered:add",e),this},removeFilter:function(e){return e||(e=this.defaultFilterName),delete this._filters[e],this._invalidateCacheForFilter(e),this._execFilters(),this.trigger("filtered:remove",e),this},resetFilters:function(){return this._filters={},this._invalidateCache(),this._execFilters(),this.trigger("filtered:reset"),this},getFilters:function(){return S().keys(this._filters)},hasFilter:function(e){return S().contains(this.getFilters(),e)},refilter:function(e){return S().isObject(e)&&e.cid?this.onSupersetAdd(e):(this._invalidateCache(),this._execFilters()),this},destroy:function(){return this.stopListening(),this.superset=null,this._collection.reset([]),this.length=0,this.trigger("filtered:destroy"),this},_createFilter:function(e,t){if(S().isFunction(e))return e;throw new Error("Unsupported filter type")},_execFilters:function(e){e||(e={});let t=[];this.superset&&(t=this.superset.filter(S().bind(this._execFiltersOnModel,this))),e.reset?this._collection.reset(t):this._collection.set(t),this.length=this._collection.length},_execFiltersOnModel:function(e){this._filterResultCache[e.cid]||(this._filterResultCache[e.cid]={});const t=this._filterResultCache[e.cid];for(const n in this._filters)if(S().has(this._filters,n)&&(S().has(t,n)||(t[n]=this._filters[n](e)),!t[n]))return!1;return!0},_invalidateCache:function(){this._filterResultCache={}},_invalidateCacheForFilter:function(e){for(const t in this._filterResultCache)S().has(this._filterResultCache,t)&&delete this._filterResultCache[t][e]},onSupersetAdd:function(e){if(this._filterResultCache[e.cid]={},this._execFiltersOnModel(e)){if(!this._collection.get(e.cid)){let t=0;for(let n=this.superset.indexOf(e)-1;n>=0;n-=1)if(this.contains(this.superset.at(n))){t=this.indexOf(this.superset.at(n))+1;break}this._collection.add(e,{at:t})}}else this._collection.get(e.cid)&&this._collection.remove(e);this.length=this._collection.length},onSupersetRemove:function(e){this.contains(e)&&this._collection.remove(e),this.length=this._collection.length},onSupersetReset:function(){this._execFilters({reset:!0})}}).extend({initialize:function(e){this.playQueue=e.playQueue,this.includeSelectedItem=e.includeSelectedItem,this.addFilter(S().bind(this.filterUpNext,this)),this.listenForUpNextChanges()},listenForUpNextChanges:function(){const e=S().debounce(this.onPlayQueueChange);this.listenTo(this.playQueue,["change:playQueueSelectedItemID","change:playQueueLastAddedItemID"].join(" "),e),this.listenTo(this.playQueue.get("collection"),"change:queueIndex",e)},filterUpNext:function(e){const t=this.superset.indexOf(e),n=this.playQueue.getUpNextRange();let r=n.start;const i=n.end;return this.includeSelectedItem||(r+=1),t>=r&&t<=i},onPlayQueueChange:function(){this.refilter()}}),hle=mle.extend({initialize:function(e){this.playQueue=e.playQueue,this.addFilter(S().bind(this.filterAfterUpNext,this)),this.listenForUpNextChanges()},filterAfterUpNext:function(e){return this.superset.indexOf(e)>this.playQueue.getUpNextRange().end}});var gle=n(49282),yle=n.n(gle),vle=n(94018),fle=n(32707),ble=n(53779),Ile=n(64106),Sle=n(90912),Mle=n(76037);const Ele=Sle.Z.extend({name:"SyncItemModel",context:["server","device"],urlRoot(){return`/devices/${this.device?this.device.get("clientIdentifier"):this.get("clientIdentifier")}/sync_items`},syncedAttrs:S().extend({},Sle.Z.prototype.syncedAttrs,{version:{type:KO.Z.integer,save:!0},metadataType:{type:KO.Z.string,save:!0},rootTitle:{type:KO.Z.string,save:!0},machineIdentifier:{type:KO.Z.string,save:!0},Server:KO.Z.object}),defaults:()=>({Location:{},Device:{},Server:{}}),augmentResponse:e=>("photoAlbum"===e.metadataType&&(e.metadataType="photoalbum"),e),sync(e,t,n){const r=Mle.Z.addVersionHeaderForDevice(this.device,n);return Sle.Z.prototype.sync.call(this,e,t,r)},getSaveParams(e,t){const n=Sle.Z.prototype.getSaveParams.apply(this,arguments).Item;return S().each(n,(function(e,t){""===e&&delete n[t]})),{SyncItem:n}}});var Ple=n(48143),Dle=n.n(Ple);const Cle=p.Z.ItemView.extend({className:"circle-progress",template:Dle(),size:30,lineWidth:5,strokeColor:"#cc7b19",hasSize:!1,ui:{svg:".circle-progress-bar",svgCircle:".circle-progress-bar circle"},bindings:{".circle-progress-text":{modelAttribute:"text"}},modelEvents:{"change:progress":"onProgressChange"},initialize:function(e){this.size=e.size||this.size,this.lineWidth=e.lineWidth||this.lineWidth,this.strokeColor=e.strokeColor||this.strokeColor,this.size&&(this.$el.width(this.size),this.$el.height(this.size))},drawProgressBar:function(){var e=this.size,t=e/2,n=t-this.lineWidth,r=Math.PI*(2*n);this.hasSize||(this.ui.svg.attr("width",e),this.ui.svg.attr("height",e),this.ui.svgCircle.attr("r",n),this.ui.svgCircle.attr("cx",t),this.ui.svgCircle.attr("cy",t),this.ui.svgCircle.attr("stroke-dasharray",r),this.ui.svgCircle.css("stroke-width",this.lineWidth),this.ui.svgCircle.css("stroke",this.strokeColor),this.hasSize=!0);var i=(100-this.model.get("progress"))/100*r;this.ui.svgCircle.css("stroke-dashoffset",i)},onRender:function(){this.drawProgressBar()},onProgressChange:function(){this.drawProgressBar()}});var wle=n(50034),Zle=n.n(wle);const Tle=p.Z.Layout.extend({mixins:[de.Z],className:"conversion-status",template:Zle(),regions:{progressBarRegion:".progress-bar-region"},initialize:function(e){this.initialState=e.initialState,this.initialErrorMessage=e.initialErrorMessage,this.generator=e.generator,this.transcodeJobs=e.transcodeJobs,this.pausedSetting=e.pausedSetting,this.progressModel=new ple.ZP.Model({progress:0,remaining:0,speed:0})},states:{pending:{onEnter:function(){this.$el.addClass("pending")},onExit:function(){this.$el.removeClass("pending")}},converting:{onEnter:function(){this.$el.addClass("converting")},onExit:function(){this.$el.removeClass("converting")}},processed:{onEnter:function(){this.$el.addClass("processed")},onExit:function(){this.$el.removeClass("processed")}},disabled:{onEnter:function(){this.$el.addClass("disabled")},onExit:function(){this.$el.removeClass("disabled")}},error:{onEnter:function(){this.$el.addClass("error")},onExit:function(){this.$el.removeClass("error")}}},bindingsModel:"progressModel",bindings:{".conversion-status-converting-label":{model:"pausedSetting",modelAttribute:"value",formatter:function(e){return e?(0,Ce.Z)("Paused"):(0,Ce.Z)("Converting")}},".conversion-status-pending-label":{model:"pausedSetting",modelAttribute:"value",formatter:function(e){return e?(0,Ce.Z)("Paused"):(0,Ce.Z)("Waiting")}},".conversion-status-converting-speed":{modelAttribute:"speed",autohide:!0,formatter:function(e){if(e){var t=Math.round(10*e)/10;return t>10&&(t=Math.round(t)),"("+t+"x)"}}},".conversion-status-converting-percentage":{modelAttribute:"progress",formatter:function(e){return Math.round(e)+"%"}},".conversion-status-converting-progress-separator":{modelAttribute:"remaining",manual:!0,autohide:function(e){return e&&this.progressModel.get("speed")}},".conversion-status-converting-remaining":{modelAttribute:"remaining",autohide:!0,formatter:function(e){if(this.progressModel.get("speed"))return Vi(e)}}},serializeData:function(){return{initialErrorMessage:this.initialErrorMessage}},findTranscodeJob:function(){return this.transcodeJob=this.transcodeJobs.find((function(e){var t=this.model.get("ratingKey"),n=this.generator?this.generator.id:this.model.get("generatorID"),r=this.model.get("syncItemId"),i=t&&t===e.get("ratingKey"),a=n&&n===e.get("generatorID"),s=r&&r===e.get("syncItemId");return i&&(a||s)}),this),this.transcodeJob&&(this.stopListening(this.transcodeJobs),this.enterState("converting"),this.progressModel.set({progress:this.transcodeJob.get("progress"),speed:this.transcodeJob.get("speed"),remaining:this.transcodeJob.get("remaining")}),this.listenTo(this.transcodeJob,{remove:this.onTranscodeJobRemove,"change:progress":this.onTranscodeProgressChange,"change:speed":this.onTranscodeSpeedChange,"change:remaining":this.onTranscodeRemainingChange})),this.transcodeJob},onRender:function(){this.enterState(this.initialState||"pending"),this.findTranscodeJob()||this.listenTo(this.transcodeJobs,"reset add",this.findTranscodeJob),this.progressBarRegion.append(new Cle({model:this.progressModel,size:30,lineWidth:3}))},onTranscodeJobRemove:function(e){this.enterState("pending")},onTranscodeProgressChange:function(e,t){this.progressModel.set("progress",t)},onTranscodeSpeedChange:function(e,t){this.progressModel.set("speed",t)},onTranscodeRemainingChange:function(e,t){this.progressModel.set("remaining",t)}});var Nle=n(7029),Ole=n.n(Nle);const Ale=p.Z.Layout.extend({className:"striped-list-item media-list-item playlist-item version-generator-item",tagName:"li",template:Ole(),ui:{poster:".media-poster"},events:{"click .promote-btn":"onPromoteClick","click .delete-btn":"onDeleteClick"},regions:{statusRegion:".conversion-status-region"},attributes:function(){return{"data-queue-item-id":this.model.id}},initialize:function(e){this.metadataItem=e.model.get("metadataItem"),this.playQueue=e.playQueue,this.transcodeJobs=e.transcodeJobs,this.pausedSetting=e.pausedSetting,this.hideDragHandle=e.hideDragHandle,this.type=this.metadataItem.get("type");var t=ble.Z[this.type];"movie"===this.type&&(t=ble.Z.art);var n="episode"===this.type?"show":this.type;this.image=new Ile.Z({model:this.metadataItem,type:n,placeholderClass:t,height:60,modelAttribute:"thumb",getUrl:this.getPosterUrl})},bindings:{".generator-title":{model:"metadataItem",modelAttribute:"title",formatter:function(e){return fle.Z.title(this.metadataItem)}},".generator-target":{modelAttribute:"target",formatter:function(e){return this.model.get("syncItemId")?(0,Ce.Z)("Sync"):e}},".sortable-handle":{model:"playQueue",modelAttribute:"playQueueSelectedItemID",manual:!0,autohide:function(e){return this.model.get("playQueueItemID")!==e}},".promote-btn":{modelAttribute:"queueIndex",manual:!0,autohide:function(e){var t=this.playQueue.getCurrentItem();return this.hideDragHandle||e-t.get("queueIndex")>1}}},serializeData:function(){return{hideDragHandle:this.hideDragHandle}},getPosterUrl:function(e){return"episode"===this.model.get("type")&&(this.model.get("grandparentThumb")||this.model.get("parentThumb"))||e},deleteSyncItem:function(){var e=b.DB("appModel"),t=new Ele({id:this.model.get("syncItemId"),clientIdentifier:this.model.get("clientIdentifier")},{server:e.get("user").server});return vle.Z.execute("deleteSyncItem",{syncItem:t,server:this.model.server})},deleteGenerator:function(){var e=new Sle.Z({id:this.model.get("generatorID")},{server:this.model.server,playlistID:this.metadataItem.get("playlistID")});return vle.Z.execute("disableVersionGenerator",{generator:e,ratingKey:this.metadataItem.get("ratingKey")})},onRender:function(){this.image.setElement(this.ui.poster),this.statusRegion.show(new Tle({model:this.model,transcodeJobs:this.transcodeJobs,pausedSetting:this.pausedSetting}))},onClose:function(){this.image.close()},onCollectionSort:function(e){this.trigger("sort")},onPromoteClick:function(e){e.preventDefault();var t=this.playQueue.get("collection");this.listenToOnce(t,"sort",S().debounce(this.onCollectionSort));var n=this.model.get("playQueueItemID"),r=this.playQueue.get("playQueueSelectedItemID");this.playQueue.moveItem(n,r)},onDeleteClick:function(e){e.preventDefault(),this.model.has("syncItemId")?this.deleteSyncItem():this.deleteGenerator()}});var xle=n(64898);const jle=ile.Z.extend({tagName:"ol",className:"list media-list playlist-items",itemView:Ale,sorted:!0,itemEvents:{sort:"onSort"},initialize:function(){S().bindAll(this,"onItemMove")},onRender:function(){this.sortable&&this.sortable.destroy(),this.sortable=new(yle())(this.el,S().extend({onAdd:this.onItemMove,onUpdate:this.onItemMove,handle:".sortable-handle",animation:200,scroll:!0,scrollSensitivity:100,scrollSpeed:2},this.options.sortableOptions))},onClose:function(){this.sortable&&this.sortable.destroy()},onSort:function(){this.render()},onItemMove:function(e){var t=h()(e.item).data("queue-item-id"),n=h()(e.item).prev().data("queue-item-id"),r=this.options.playQueue;if(n)r.moveItem(t,n);else{var i=r.get("selectedItem").get("metadataItem").get("title"),a=new xle.Z({title:(0,Ce.Z)("Convert Immediately"),message:(0,Ce.Z)("Do you want to start converting this item immediately? Any conversion progress for '{1}' will be lost.",i)}),s=a.promise;s.done((function(){r.moveItem(t)})),s.fail(S().bind(this.render,this)),le.Z.trigger("show:modal",a)}}});var Lle=n(55224),kle=n.n(Lle);const Rle=p.Z.ItemView.extend({template:kle(),serializeData(){return{manageVersionsRoute:(0,Nv.Z)(this.model.id,"manage","versions")}}});var zle=n(77210),Ule=n.n(zle);const Vle=p.Z.Layout.extend({className:"conversion-container",template:Ule(),ui:{filterBar:".filter-bar",pauseBtn:".pause-btn",resumeBtn:".resume-btn",divider:".conversion-queue-divider"},regions:{filterBar:".filter-bar",upNextList:".conversion-queue-up-next-list-region",afterUpNextList:".conversion-queue-after-up-next-list-region",emptyRegion:".conversion-queue-empty-region"},events:{"click .pause-btn":"onTogglePauseClick","click .resume-btn":"onTogglePauseClick"},initialize:function(e){this.playQueue=e.playQueue,this.transcodeJobs=e.transcodeJobs,this.generators=e.generators,this.items=this.playQueue.get("collection"),this.upNextItems=new mle(this.items,{playQueue:this.playQueue,includeSelectedItem:!0}),this.afterUpNextItems=new hle(this.items,{playQueue:this.playQueue}),this.settings=this.model.get("desktop").get("settings"),this.pausedSetting=this.settings.get("BackgroundQueueIdlePaused"),this.listenTo(this.upNextItems,"reset add remove",this.onUpNextChange),this.listenTo(this.afterUpNextItems,"reset add remove",this.onAfterUpNextChange)},serializeData:function(){return{shouldShowList:this.model.supports("streamReady"),shouldShowDivider:!!this.afterUpNextItems.length,escapedMinServerVersion:S().escape(ib.Z.streamReady),hasPausedSetting:!!this.pausedSetting,isPaused:this.pausedSetting&&this.pausedSetting.get("value"),errorMessage:this.getErrorMessage(),manageVersionsRoute:(0,Nv.Z)(this.model.id,"manage","versions")}},toggleEmptyView:function(){var e=this.upNextItems.length+this.afterUpNextItems.length>0;e?this.emptyRegion.close():this.emptyRegion.show(new Rle({model:this.model})),this.$el.toggleClass("is-empty",!e),this.ui.filterBar.toggleClass("hide-actions",!e)},getErrorMessage:function(){var e=this.generators.reduce((function(e,t){var n=t.get("status");return"failed"===n.get("state")?e+=Math.max(n.get("itemsCount"),1):n.get("itemsFailedCount")&&(e+=n.get("itemsFailedCount")),e}),0);if(e)return 1===e?(0,Ce.Z)("There was a problem converting 1 item."):(0,Ce.Z)("There were problems converting {1} items.",e)},onRender:function(){var e={playQueue:this.playQueue},t={playQueue:this.playQueue,transcodeJobs:this.transcodeJobs,pausedSetting:this.pausedSetting};this.upNextList.show(new jle(S().extend({},e,{collection:this.upNextItems,itemViewOptions:t,sortableOptions:{sort:!0,group:{name:"upNext",pull:!1,put:["afterUpNext"]}}}))),this.afterUpNextList.show(new jle(S().extend({},e,{collection:this.afterUpNextItems,itemViewOptions:S().extend({},t,{hideDragHandle:!0}),sortableOptions:{sort:!1,group:{name:"afterUpNext",pull:!0,put:!1}}}))),this.toggleEmptyView()},onClose:function(){this.upNextItems.destroy(),this.afterUpNextItems.destroy()},onUpNextChange:function(){this.toggleEmptyView()},onAfterUpNextChange:function(){this.ui.divider.toggleClass("hidden",!this.afterUpNextItems.length),this.toggleEmptyView()},onTogglePauseClick:function(e){e.preventDefault();var t=this.pausedSetting.get("value");this.ui.pauseBtn.toggleClass("hidden",!t),this.ui.resumeBtn.toggleClass("hidden",t),this.pausedSetting.set("value",!t),this.settings.first().save(this.pausedSetting.id,t?0:1)}}),Ble=function(e,t,n=500){const[r,i]=(0,g.useState)(e);return(0,g.useEffect)((()=>{let r;return e===t?r=window.setTimeout((()=>{i(e)}),n):i(e),()=>window.clearTimeout(r)}),[e,t,n]),r};function Fle({children:e,title:t}){return g.createElement("div",{className:"ServerDashboardPageHeader-header-33WQtk"},g.createElement("div",{className:"ServerDashboardPageHeader-headerTitle-2OTFDv"},t),e)}function _le({children:e,id:t,className:n="ServerDashboardMenuButton-menuButton-2MDRix DisclosureArrowButton-disclosureArrowButton-17hnir Link-link-CM9nxg",isMenuOpen:r,onPress:i}){return g.createElement(Z0.Z,{className:n,id:t,size:Rp.ln,direction:r?kp.UP:kp.WV,isSelected:!1,onPress:i},e)}function Hle({className:e,values:t,activeValue:n,formatter:r,onSelect:i}){const{menuButtonID:a,isMenuOpen:s,onMenuButtonPress:o,onMenuClose:l}=Ez(),c=(0,g.useCallback)((e=>{l(),i(e)}),[l,i]);return g.createElement(g.Fragment,null,g.createElement(_le,{id:a,className:e,isMenuOpen:s,onPress:o},r(n)),g.createElement(Xl.Z,{target:a,isOpen:s,onMenuClose:l},t.map((e=>g.createElement(Up.Z,{key:String(e),value:e,isSelected:n===e,onSelect:c},r(e))))))}const Qle={statistics:[],isPending:!1,isPopulated:!1,error:null,requestTimestampMilliseconds:null,responseTimestampMilliseconds:null},Gle=(0,lo.oM)({name:"dashboardBandwidth",initialState:Qle,reducers:{reset:()=>Qle,bandwidthFetchRequested(e,t){(0,yd.er)(e)},bandwidthFetchSucceeded(e,{payload:t}){(0,yd.vv)(e),e.statistics=t.data,e.requestTimestampMilliseconds=t.requestTimestampMilliseconds,e.responseTimestampMilliseconds=t.responseTimestampMilliseconds},bandwidthFetchFailed(e,{payload:t}){(0,yd.VQ)(e,t.error),e.requestTimestampMilliseconds=null,e.responseTimestampMilliseconds=null},bandwidthAbortRequested(){}}});var Wle,Yle;(Yle=Wle||(Wle={})).All="all",Yle.Remote="remote",Yle.Local="local";const Kle=(0,fe.P1)(fo,(e=>e.dashboard)),qle=(0,fe.P1)(Kle,(e=>e.bandwidth));function $le(e){switch(e){case Wle.All:return(0,Ce.Z)("All");case Wle.Remote:return(0,Ce.Z)("Remote");case Wle.Local:return(0,Ce.Z)("Local");default:return""}}var Jle=n(63500);const Xle=["bps","Kbps","Mbps","Gbps","Tbps"],ece=function(e,t=2){if(0===e)return`${(0).toFixed(t)} ${Xle[0]}`;const n=parseInt(Math.floor(Math.log(e)/Math.log(1024)),10);return`${(e/Math.pow(1024,n)).toFixed(t)} ${Xle[n]}`};var tce=n(72369);function nce({children:e,className:t="ServerDashboardPageMessage-container-2brmau"}){return g.createElement("div",{className:t},g.createElement("div",{className:"ServerDashboardPageMessage-message-1l3KH-"},e))}function rce({children:e,className:t="ServerDashboardSectionContent-container-3ldxdw",errorClassName:n="ServerDashboardSectionContent-errorMessage-gW8kFK ServerDashboardPageMessage-container-2brmau",isSpinnerVisible:r,errorMessage:i}){return g.createElement("div",{className:t},i?g.createElement(nce,{className:n},i):g.createElement(g.Fragment,null,r?g.createElement(lt,{className:"ServerDashboardSectionContent-spinner-2C0Pfu Spinner-spinner-CSMaLA spin-spin-34xiUE",size:st.Large}):null,e))}var ice=Object.defineProperty,ace=Object.prototype.hasOwnProperty,sce=Object.getOwnPropertySymbols,oce=Object.prototype.propertyIsEnumerable,lce=(e,t,n)=>t in e?ice(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,cce=(e,t)=>{for(var n in t||(t={}))ace.call(t,n)&&lce(e,n,t[n]);if(sce)for(var n of sce(t))oce.call(t,n)&&lce(e,n,t[n]);return e};function dce(e){return g.createElement(rce,cce(cce({},e),{className:"ServerDashboardGraph-container-2zQG1M ServerDashboardSectionContent-container-3ldxdw",errorClassName:"ServerDashboardGraph-errorMessage-vu1ARH ServerDashboardSectionContent-errorMessage-gW8kFK ServerDashboardPageMessage-container-2brmau"}))}function uce(e){return null==e?"":0===e?(0,Ce.Z)("Now").toUpperCase():e%60==0?`${Math.floor(e/60)}m`:e>60?`${Math.floor(e/60)}m ${e%60}s`:`${e}s`}var pce=n(15633),mce=Object.defineProperty,hce=Object.prototype.hasOwnProperty,gce=Object.getOwnPropertySymbols,yce=Object.prototype.propertyIsEnumerable,vce=(e,t,n)=>t in e?mce(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,fce=(e,t)=>{for(var n in t||(t={}))hce.call(t,n)&&vce(e,n,t[n]);if(gce)for(var n of gce(t))yce.call(t,n)&&vce(e,n,t[n]);return e};const bce=function(e,t){var n;const r=Object.keys(t);return(n=class extends g.Component{constructor(e,t){super(e,t),this.state=r.reduce(((e,t)=>(e[t]=null,e)),{})}componentDidMount(){this._pairs=r.map((e=>[e,(0,pce.Z)(t[e]())])),this._pairs.forEach((([e,t])=>{t.promise.then((t=>{this.setState({[e]:t})}))}))}componentWillUnmount(){this._pairs.forEach((([e,t])=>{t.cancel()}))}render(){return g.createElement(e,fce(fce({},this.props),this.state))}}).displayName=`AsyncProps(${(0,Nw.Z)(e)}:${r.join(",")})`,n.WrappedComponent=e,n};function Ice(e,t,n,r,i,a){const s=t-a,o=r>=0?1:-1,l=r>=0?1:0,c=Math.min(Math.abs(n)/2,Math.abs(r)/2),d=Math.min(c,i);return`M ${e},${s+o*d}\n    A ${d},${d},0,0,${l},${e+d},${s}\n    L ${e+n-d},${s}\n    A ${d},${d},0,0,${l},${e+n},${s+o*d}\n    L ${e+n},${s+r-o*d}\n    A ${d},${d},0,0,${l},${e+n-d},${s+r}\n    L ${e+d},${s+r}\n    A ${d},${d},0,0,${l},${e},${s+r-o*d} Z`}const Sce=function(e){const{x:t,y:n,width:r,height:i,radius:a,fill:s,barGap:o,data:l,dataKey:c,seriesOrdering:d,seriesIndex:u}=e,p=d.slice(0,u),m=l.find((t=>t[c]===e[c])),h=p.reduce(((e,t)=>(0!==m[t]&&e++,e)),0)*o;return g.createElement("path",{d:Ice(t,n,r,i,a,h),fill:s})};class Mce extends g.Component{constructor(){super(...arguments),this.onPress=()=>{const{dataKey:e,onPress:t}=this.props;t&&t(e)},this.onMouseEnter=()=>{const{dataKey:e,onMouseEnter:t}=this.props;t&&t(e)}}render(){const{className:e,title:t,labelColor:n,onMouseLeave:r}=this.props;return g.createElement(pw.Z,{className:e,onPress:this.onPress,onMouseEnter:this.onMouseEnter,onMouseLeave:r},g.createElement("span",{className:"LegendLabel-dot-3PrfFj",style:{backgroundColor:n}}),t)}}Mce.defaultProps={className:"LegendLabel-legendLabel-3Gv9P5 Link-link-CM9nxg"};const Ece=Mce,Pce="ChartTooltip-separator-vFC-2t";class Dce extends g.Component{componentDidUpdate(e,t){const{active:n,onActive:r,onInactive:i}=this.props,{active:a}=e;!a&&n&&r?r():a&&!n&&i&&i()}render(){const{active:e,label:t,payload:n,series:r,showTotal:i,labelFormatter:a,valueFormatter:s}=this.props;if(!e||!n)return null;const o=a?a(t):t,l=i?n.reduce(((e,t)=>e+t.value),0):null;return g.createElement("div",{className:"ChartTooltip-container-2J4bLo"},g.createElement("div",{className:"ChartTooltip-label-2wIgz5"},o),g.createElement("div",{className:Pce}),g.createElement("div",null,g.createElement("div",{className:"ChartTooltip-values-1bC38S"},n.map((e=>{const t=r.find((t=>t.dataKey===e.dataKey)).title;return g.createElement("div",{key:e.dataKey,className:"ChartTooltip-valueRow-1ri6-v"},g.createElement(Ece,{className:"ChartTooltip-LegendLabel-1yP8Mt LegendLabel-legendLabel-3Gv9P5 Link-link-CM9nxg",title:t,labelColor:e.color}),g.createElement(rs.Z,null),s(e.value))}))),i?g.createElement(g.Fragment,null,g.createElement("div",{className:Pce}),g.createElement("div",{className:"ChartTooltip-total-1kZGLh"},(0,Ce.Z)("Total"),g.createElement(rs.Z,null),s(l))):null))}}Dce.defaultProps={showTotal:!0};const Cce=Dce;var wce=Object.create,Zce=Object.defineProperty,Tce=Object.getPrototypeOf,Nce=Object.prototype.hasOwnProperty,Oce=Object.getOwnPropertyNames,Ace=Object.getOwnPropertyDescriptor,xce=Object.getOwnPropertySymbols,jce=Object.prototype.propertyIsEnumerable,Lce=(e,t,n)=>t in e?Zce(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,kce=(e,t)=>{for(var n in t||(t={}))Nce.call(t,n)&&Lce(e,n,t[n]);if(xce)for(var n of xce(t))jce.call(t,n)&&Lce(e,n,t[n]);return e};function Rce(e){return e.every((e=>e.visible))}function zce(e){return function(t){return g.createElement(Sce,kce(kce({},t),e))}}class Uce extends g.Component{constructor(e,t){super(e,t),this.onMouseEnter=e=>{this.setState({hoveredDataKey:e})},this.onMouseLeave=()=>{this.setState({hoveredDataKey:null})},this.renderLegend=()=>{const{series:e,legendSummary:t,onLegendPress:n}=this.props,{hoveredDataKey:r}=this.state;return g.createElement("div",{className:"BarChart-legendContainer-1iKjld"},g.createElement("div",{className:"BarChart-legendLabels-jp4FKx"},e.map((e=>{const t=!e.visible||r&&r!==e.dataKey&&!e.selected;return g.createElement(Ece,{key:e.dataKey,className:t?"BarChart-translucentLegendLabel-2pFAXf BarChart-legendLabel-3tGKi4 LegendLabel-legendLabel-3Gv9P5 Link-link-CM9nxg":"BarChart-legendLabel-3tGKi4 LegendLabel-legendLabel-3Gv9P5 Link-link-CM9nxg",dataKey:e.dataKey,title:e.title,labelColor:e.color,onPress:n,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave})}))),t?g.createElement("div",{className:"BarChart-legendSummary-1l4XPj"},t):null)},this.state={hoveredDataKey:null}}componentDidUpdate(e,t){const{recharts:n,onChartReady:r}=this.props;!e.recharts&&n&&r&&r()}render(){const{className:e,recharts:t,width:n,height:r,series:i,data:a,xAxisKey:s,stacked:o,isAnimationActive:l,showTooltipTotal:c,chartMargin:d,gridLinesStyles:u,barGap:p,legendHeight:m,tooltipLabelFormatter:h,tooltipValueFormatter:y,xAxisDomain:v,xAxisStyle:f,xAxisPadding:b,xAxisTick:I,xAxisTickMargin:S,xAxisTickLineStyle:M,xAxisTickFormatter:E,yAxisDomain:P,yAxisWidth:D,yAxisStyle:C,yAxisPadding:w,yAxisTick:Z,yAxisTickMargin:T,yAxisTickLineStyle:N,yAxisTickFormatter:O}=this.props,{hoveredDataKey:A}=this.state;if(!t)return null;const{CartesianGrid:x,Legend:j,BarChart:L,Bar:k,ResponsiveContainer:R,Tooltip:z,XAxis:U,YAxis:V}=t,B=i.map((e=>e.dataKey));return g.createElement(R,{className:e,width:n,height:r},g.createElement(L,{data:a,margin:d},g.createElement(x,kce({},u)),g.createElement(U,{domain:v,axisLine:f,dataKey:s,padding:b,tick:I,tickLine:M,tickMargin:S,minTickGap:0,tickFormatter:E}),g.createElement(V,{domain:P,axisLine:C,padding:w,tick:Z,tickLine:N,tickMargin:T,tickCount:6,tickFormatter:O,width:D}),g.createElement(z,{cursor:!1,isAnimationActive:!1,content:(F={series:i,showTotal:c,labelFormatter:h,valueFormatter:y},function(e){return g.createElement(Cce,kce(kce({},e),F))})}),i.map(((e,t)=>g.createElement(k,{key:e.dataKey,className:A&&A!==e.dataKey&&Rce(i)?"BarChart-translucentBar-1dpdP5 BarChart-bar-18zUry":"BarChart-bar-18zUry",dataKey:e.dataKey,shape:zce({barGap:o?p:0,data:a,dataKey:s,seriesOrdering:B,seriesIndex:t}),radius:2,fill:e.color,isAnimationActive:l,stackId:o?"stacked":null,onMouseEnter:this.onMouseEnter.bind(null,e.dataKey),onMouseLeave:this.onMouseLeave}))),g.createElement(j,{height:m,content:this.renderLegend,wrapperStyle:{paddingLeft:`${D}px`}})));var F}}Uce.defaultProps={xAxisKey:"date",stacked:!0,isAnimationActive:!0,chartMargin:{top:15,right:20,bottom:10,left:0},gridLinesStyles:{horizontal:!0,vertical:!1,stroke:"rgba(255, 255, 255, 0.1)"},barGap:2,legendHeight:20,xAxisStyle:!1,xAxisPadding:{left:0,right:0},xAxisTick:{fill:"rgba(255, 255, 255, 0.45)",fontSize:"10px"},xAxisTickMargin:15,xAxisTickLineStyle:{fill:"rgba(255, 255, 255, 0.1)",strokeWidth:5},yAxisWidth:60,yAxisStyle:!1,yAxisPadding:{top:0,bottom:0},yAxisTick:{fill:"rgba(255, 255, 255, 0.45)",fontSize:"10px"},yAxisTickMargin:5,yAxisTickLineStyle:!1};const Vce=bce(Uce,{recharts:()=>Promise.resolve().then((()=>{return e=n(7935),((e,t,n)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let r of Oce(t))Nce.call(e,r)||"default"===r||Zce(e,r,{get:()=>t[r],enumerable:!(n=Ace(t,r))||n.enumerable});return e})((t=Zce(null!=e?wce(Tce(e)):{},"default",e&&e.__esModule&&"default"in e?{get:()=>e.default,enumerable:!0}:{value:e,enumerable:!0}),Zce(t,"__esModule",{value:!0})),e);var e,t}))}),Bce=function(e){const{x:t,y:n,margin:r,fill:i,fontSize:a,index:s,visibleTicksCount:o,payload:l,tickFormatter:c}=e;let d="middle";0===s?d="start":s+1===o&&(d="end");const u=c?c(l.value):l.value;return g.createElement("g",{transform:`translate(${t},${n})`},g.createElement("text",{dy:r,fill:i,fontSize:a,textAnchor:d},u))};var Fce=Object.create,_ce=Object.defineProperty,Hce=Object.getPrototypeOf,Qce=Object.prototype.hasOwnProperty,Gce=Object.getOwnPropertyNames,Wce=Object.getOwnPropertyDescriptor,Yce=Object.getOwnPropertySymbols,Kce=Object.prototype.propertyIsEnumerable,qce=(e,t,n)=>t in e?_ce(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,$ce=(e,t)=>{for(var n in t||(t={}))Qce.call(t,n)&&qce(e,n,t[n]);if(Yce)for(var n of Yce(t))Kce.call(t,n)&&qce(e,n,t[n]);return e};function Jce(e){return e.every((e=>e.visible))}function Xce(e){return function(t){return g.createElement(Cce,$ce($ce({},t),e))}}class ede extends g.Component{constructor(e,t){super(e,t),this.onMouseEnter=e=>{this.setState({hoveredDataKey:e})},this.onMouseLeave=()=>{this.setState({hoveredDataKey:null})},this.renderLegend=()=>{const{series:e,legendSummary:t,onLegendPress:n}=this.props,{hoveredDataKey:r}=this.state;return g.createElement("div",{className:"LineChart-legendContainer-3dy_CY"},g.createElement("div",{className:"LineChart-legendLabels-MHfWDP"},e.map((e=>{const t=!e.visible||r&&r!==e.dataKey&&!e.selected;return g.createElement(Ece,{key:e.dataKey,className:t?"LineChart-translucentLegendLabel-3OOFYB LineChart-legendLabel-3Xsegc LegendLabel-legendLabel-3Gv9P5 Link-link-CM9nxg":"LineChart-legendLabel-3Xsegc LegendLabel-legendLabel-3Gv9P5 Link-link-CM9nxg",dataKey:e.dataKey,title:e.title,labelColor:e.color,onPress:n,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave})}))),t?g.createElement("div",{className:"LineChart-legendSummary-cOxna-"},t):null)},this.state={hoveredDataKey:null}}componentDidUpdate(e,t){const{recharts:n,onChartReady:r}=this.props;!e.recharts&&n&&r&&r()}render(){const{className:e,recharts:t,width:n,height:r,series:i,data:a,xAxisKey:s,connectNulls:o,lineType:l,lineStrokeWidth:c,isAnimationActive:d,showTooltipTotal:u,chartMargin:p,gridLinesStyles:m,legendHeight:h,tooltipLabelFormatter:y,tooltipValueFormatter:v,dot:f,xAxisDomain:b,xAxisStyle:I,xAxisPadding:S,xAxisTick:M,xAxisTickInterval:E,xAxisTickMargin:P,xAxisTickLineStyle:D,xAxisTickFormatter:C,yAxisDomain:w,yAxisWidth:Z,yAxisStyle:T,yAxisPadding:N,yAxisTick:O,yAxisTickMargin:A,yAxisTickLineStyle:x,yAxisTickFormatter:j,onTooltipActive:L,onTooltipInactive:k}=this.props,{hoveredDataKey:R}=this.state;if(!t)return null;const{CartesianGrid:z,Legend:U,LineChart:V,Line:B,ResponsiveContainer:F,Tooltip:_,XAxis:H,YAxis:Q}=t,G=[...i].reverse();return g.createElement(F,{className:e,width:n,height:r},g.createElement(V,{data:a,margin:p},g.createElement(z,$ce({},m)),g.createElement(H,{domain:b,axisLine:I,dataKey:s,padding:S,tick:(W=$ce($ce({},M),{margin:P,tickFormatter:C}),function(e){return g.createElement(Bce,$ce($ce({},e),W))}),tickLine:D,minTickGap:0,interval:E}),g.createElement(Q,{domain:w,axisLine:T,padding:N,tick:O,tickLine:x,tickMargin:A,tickCount:6,tickFormatter:j,width:Z}),g.createElement(_,{cursor:!1,isAnimationActive:!1,content:Xce({series:i,showTotal:u,labelFormatter:y,valueFormatter:v,onActive:L,onInactive:k})}),G.map((e=>g.createElement(B,{key:e.dataKey,className:R&&R!==e.dataKey&&Jce(i)?"LineChart-translucentLine-1ZMRdU LineChart-line-1gc_dQ":"LineChart-line-1gc_dQ",type:l,dataKey:e.dataKey,dot:f,stroke:e.color,strokeWidth:c,connectNulls:o,isAnimationActive:d,onMouseEnter:this.onMouseEnter.bind(null,e.dataKey),onMouseLeave:this.onMouseLeave}))),g.createElement(U,{height:h,content:this.renderLegend,wrapperStyle:{paddingLeft:`${Z}px`}})));var W}}ede.defaultProps={xAxisKey:"date",connectNulls:!1,lineType:"monotone",lineStrokeWidth:3,isAnimationActive:!0,chartMargin:{top:15,right:20,bottom:10,left:0},gridLinesStyles:{horizontal:!0,vertical:!1,stroke:"rgba(255, 255, 255, 0.1)"},legendHeight:20,dot:!1,xAxisStyle:!1,xAxisPadding:{left:0,right:0},xAxisTick:{fill:"rgba(255, 255, 255, 0.45)",fontSize:"10px"},xAxisTickMargin:20,xAxisTickLineStyle:{fill:"rgba(255, 255, 255, 0.1)",strokeWidth:5},yAxisWidth:75,yAxisStyle:!1,yAxisPadding:{top:0,bottom:0},yAxisTick:{fill:"rgba(255, 255, 255, 0.45)",fontSize:"10px"},yAxisTickMargin:5,yAxisTickLineStyle:!1};const tde=bce(ede,{recharts:()=>Promise.resolve().then((()=>{return e=n(7935),((e,t,n)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let r of Gce(t))Qce.call(e,r)||"default"===r||_ce(e,r,{get:()=>t[r],enumerable:!(n=Wce(t,r))||n.enumerable});return e})((t=_ce(null!=e?Fce(Hce(e)):{},"default",e&&e.__esModule&&"default"in e?{get:()=>e.default,enumerable:!0}:{value:e,enumerable:!0}),_ce(t,"__esModule",{value:!0})),e);var e,t}))});var nde=Object.defineProperty,rde=Object.prototype.hasOwnProperty,ide=Object.getOwnPropertySymbols,ade=Object.prototype.propertyIsEnumerable,sde=(e,t,n)=>t in e?nde(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ode=(e,t)=>{for(var n in t||(t={}))rde.call(t,n)&&sde(e,n,t[n]);if(ide)for(var n of ide(t))ade.call(t,n)&&sde(e,n,t[n]);return e};const lde=120;function cde(e){return Ci(e)||(0,_i.Z)((0,rV.Z)(new Date))<=e}function dde(e,t,n,r=!1){if((0,vJ.rG)(t)===vJ.pP.Day&&Ci(e)){const e=(0,Ce.Z)("Today");return r?e.toUpperCase():e}return(0,Vx.Z)((0,ui.Z)(e),n)}function ude({isRemoteVisible:e,isLocalVisible:t,summedData:n}){const r=e&&t;return g.createElement(g.Fragment,null,r?(0,Ce.Z)("Averages"):(0,Ce.Z)("Average"),": ",r?g.createElement(g.Fragment,null,$le(Wle.Remote),g.createElement(rs.Z,null)):null,e?ece(8*(n[Wle.Remote]||0)/lde,0):null,r?g.createElement(g.Fragment,null," | ",$le(Wle.Local),g.createElement(rs.Z,null)):null,t?ece(8*(n[Wle.Local]||0)/lde,0):null)}function pde({isRemoteVisible:e,isLocalVisible:t,summedData:n}){const r=e&&t;return g.createElement(g.Fragment,null,r?(0,Ce.Z)("Totals"):(0,Ce.Z)("Total"),": ",r?g.createElement(g.Fragment,null,$le(Wle.Remote),g.createElement(rs.Z,null)):null,e?(0,tce.Z)(n[Wle.Remote],0):null,r?g.createElement(g.Fragment,null," | ",$le(Wle.Local),g.createElement(rs.Z,null)):null,t?(0,tce.Z)(n[Wle.Local],0):null)}function mde({statistics:e,activeBandwidthSourceType:t,responseTimestampMilliseconds:n,activeTimePeriod:r,isPending:i,isPopulated:a,errorMessage:s,onGraphBandwidthSourceTypeSelect:o,onGraphTooltipActive:l,onGraphTooltipInactive:c}){const[d,u]=(0,g.useState)(!1),p=r===vJ.XH.RealTime,{data:m,summedData:h}=(0,g.useMemo)((()=>p?function(e,t,n){if(null==n)return{data:[],summedData:{}};const r=t===Wle.All||t===Wle.Remote,i=t===Wle.All||t===Wle.Local,a=Math.floor(n/1e3)-lde-1,s=Array.from(new Array(121),((e,t)=>({at:a+t,date:lde-t,[Wle.Remote]:r?0:void 0,[Wle.Local]:i?0:void 0}))),o={};return e.forEach((e=>{const{at:t,lan:n,bytes:a}=e,l=s.findIndex((e=>e.at===Number(t)));if(-1===l)return;const c=s[l];!n&&r&&(c[Wle.Remote]=(c[Wle.Remote]||0)+a,o[Wle.Remote]=(o[Wle.Remote]||0)+a),n&&i&&(c[Wle.Local]=(c[Wle.Local]||0)+a,o[Wle.Local]=(o[Wle.Local]||0)+a),s[l]=c})),{data:s,summedData:o}}(e,t,n):function(e,t){const n=t===Wle.All||t===Wle.Remote,r=t===Wle.All||t===Wle.Local,i={},a={};return e.forEach((e=>{const{at:t,lan:s,bytes:o}=e,l=String(t);i[l]||(i[l]={}),!s&&n&&(i[l][Wle.Remote]=(i[l][Wle.Remote]||0)+o,a[Wle.Remote]=(a[Wle.Remote]||0)+o),s&&r&&(i[l][Wle.Local]=(i[l][Wle.Local]||0)+o,a[Wle.Local]=(a[Wle.Local]||0)+o)})),{data:Object.keys(i).sort().map((e=>{const t=i[e],n=parseInt(e,10);return ode(ode({},t),{at:n,date:n})})),summedData:a}}(e,t)),[t,p,n,e]),y=t===Wle.All||t===Wle.Remote,v=t===Wle.All||t===Wle.Local,f=[{dataKey:Wle.Remote,title:$le(Wle.Remote),visible:y,selected:t===Wle.Remote,color:"#366dfc"},{dataKey:Wle.Local,title:$le(Wle.Local),visible:v,selected:t===Wle.Local,color:"#e69f23"}],b=p?tde:Vce,I=p?ude:pde,S=!d||(p?!a:i),M=(p||!i)&&a,E=(0,g.useCallback)((e=>0===e?(0,Ce.Z)("Now"):(0,Ce.Z)("{unitOfTime} ago",{unitOfTime:uce(e)})),[]),P=(0,g.useCallback)((e=>{if((0,vJ.rG)(r)===vJ.pP.Week){const t=dde(e,r,(0,vJ.fz)(r,!0)),n=(0,_i.Z)((0,Jle.Z)((0,ui.Z)(e),1));return Ci(e)&&cde(n)?(0,Ce.Z)("Today"):`${t} - ${dde(n,r,(0,vJ.fz)(r,!0))}`}return dde(e,r,(0,vJ.fz)(r,!0))}),[r]),D=(0,g.useCallback)((e=>ece(8*e,0)),[]),C=(0,g.useCallback)((e=>(0,tce.Z)(e,0)),[]),w=(0,g.useCallback)((e=>uce(e)),[]),Z=(0,g.useCallback)((e=>{if(r===vJ.XH.Month){const t=dde(e,r,(0,vJ.fz)(r)),n=(0,_i.Z)((0,Jle.Z)((0,ui.Z)(e),1));return Ci(e)&&cde(n)?(0,Ce.Z)("Today").toUpperCase():`${t} - ${dde(n,r,(0,vJ.fz)(r))}`}return dde(e,r,(0,vJ.fz)(r),!0)}),[r]),T=(0,g.useCallback)((e=>0===e?"":p?ece(8*e,0):(0,tce.Z)(e,0)),[p]),N=(0,g.useCallback)((()=>{u(!0)}),[]);return g.createElement(dce,{isSpinnerVisible:S,errorMessage:s},M?g.createElement(b,{width:"100%",height:280,series:f,data:m,legendSummary:g.createElement(I,{isRemoteVisible:y,isLocalVisible:v,summedData:h}),isAnimationActive:!p,xAxisTickInterval:p?9:null,tooltipLabelFormatter:p?E:P,tooltipValueFormatter:p?D:C,xAxisTickFormatter:p?w:Z,yAxisTickFormatter:T,onLegendPress:o,onChartReady:N,onTooltipActive:l,onTooltipInactive:c}):null)}function hde(){const e=(0,v.I0)(),[t]=Hn(),n=(0,g.useRef)(null),[r,i]=(0,g.useState)(Wle.All),a=(0,g.useMemo)((()=>[Wle.All,Wle.Remote,Wle.Local]),[]),[s,o]=(0,g.useState)(vJ.XH.RealTime),[l,c]=(0,g.useState)(s),d=(0,g.useMemo)((()=>[vJ.XH.RealTime,vJ.XH.TwelveHours,vJ.XH.Day,vJ.XH.Week,vJ.XH.Month,vJ.XH.NinetyDays,vJ.XH.Year,vJ.XH.AllTime]),[]),{statistics:u,isPending:p,isPopulated:m,error:h,requestTimestampMilliseconds:y,responseTimestampMilliseconds:f}=(0,v.v9)(qle),b=Ble(p,!0),I=(0,g.useCallback)((()=>{e(Gle.actions.bandwidthFetchRequested({server:t,timespan:(0,vJ.rG)(s),after:(0,vJ.xP)(s)}))}),[s,e,t]),S=(0,g.useCallback)((()=>{e(Gle.actions.bandwidthAbortRequested())}),[e]),M=(0,g.useCallback)((e=>{i(e)}),[]),E=(0,g.useCallback)((e=>{o(e)}),[]),P=(0,g.useCallback)((e=>{const t=e===r?Wle.All:e;i(t)}),[r]),D=(0,g.useCallback)((()=>{s===vJ.XH.RealTime&&(n.current&&window.clearTimeout(n.current),S())}),[s,S]),C=(0,g.useCallback)((()=>{s===vJ.XH.RealTime&&I()}),[s,I]);return(0,g.useEffect)((()=>(I(),S)),[I,S]),(0,g.useEffect)((()=>{if(s===vJ.XH.RealTime&&y){const e=Date.now()-y,t=Math.max(1e3-e,0);n.current=window.setTimeout(I,t)}return()=>{n.current&&window.clearTimeout(n.current)}}),[y,I,s]),(0,g.useEffect)((()=>{c(s)}),[u]),(0,g.useEffect)((()=>()=>{e(Gle.actions.reset())}),[e]),g.createElement("div",{className:"Bandwidth-container-1hDF2k"},g.createElement(Fle,{title:(0,Ce.Z)("Bandwidth")},g.createElement("div",null,g.createElement(Hle,{values:a,activeValue:r,formatter:$le,onSelect:M}),g.createElement(Hle,{values:d,activeValue:s,formatter:vJ.dZ,onSelect:E}))),g.createElement("div",{className:"Bandwidth-graph-3EwUtu"},g.createElement(mde,{statistics:u,responseTimestampMilliseconds:f,activeBandwidthSourceType:r,activeTimePeriod:l,isPending:b,isPopulated:m,errorMessage:h?(0,Ce.Z)("Unable to load statistics"):null,onGraphBandwidthSourceTypeSelect:P,onGraphTooltipActive:D,onGraphTooltipInactive:C})))}const gde=(0,Dn.Z)((function(e){return(0,fe.P1)($r,(t=>t.serverNowPlayingSessions[e]))}));function yde(e){var t=e["aria-label"],n=e.className,r=e.style,i={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-dashboard-expand-560"};i["aria-hidden"]=!t,i.style=r,i.className=oa.Z.plexIcon+(n?" "+n:"");var a=[g.createElement.apply(g,["path",{d:"M46.3324414,560 L46.3324414,504 L514,504 L514,560 L46.3324414,560 Z M46.3324414,392 L46.3324414,336 L514,336 L514,392 L46.3324414,392 Z M514,4.54747351e-13 L514,224 L46,224 L46,168 L46.1324766,168 L46.1324766,39.125 L46.3324414,39.125 L46.3324414,4.54747351e-13 L514,4.54747351e-13 Z M458.00987,168 L458.00987,56 L102.122607,56 L102.122607,168 L458.00987,168 Z"}].concat([]))];return t&&a.unshift(g.createElement("title",null,t)),g.createElement.apply(g,["svg",i].concat(a))}yde.propTypes={"aria-label":sa().string,className:sa().string,style:sa().object};const vde=yde;function fde({isOpen:e,errorMessage:t,metricsPage:n,onModalClose:r}){return g.createElement(Jt.ZP,{metricsPage:n},g.createElement(lu,{isOpen:e,size:st.Small,onModalClose:r},g.createElement(du,{onModalClose:r},g.createElement(mu,{className:"NowPlayingErrorModal-modalHeader-2JS5cu ModalHeader-modalHeader-15PhZc"},(0,Ce.Z)("Error")),g.createElement(cm,null,t))))}var bde=n(64335),Ide=n(97645);const Sde=function(e,t){if(!e.indexes)return;const n=e.indexes.split(",");return n.length?S().indexOf(n,t)>-1?t:n[0]:void 0};var Mde=n(73571);const Ede=[/alexa/i,/sonos/i],Pde={};function Dde(e){var t=e["aria-label"],n=e.className,r=e.style,i={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-dashboard-stop-560"};i["aria-hidden"]=!t,i.style=r,i.className=oa.Z.plexIcon+(n?" "+n:"");var a=[g.createElement.apply(g,["polygon",{points:"383.704 280 560 456.296 456.296 560 280 383.704 103.704 560 0 456.296 176.296 280 0 103.704 103.704 0 280 176.296 456.296 0 560 103.704 383.704 280"}].concat([]))];return t&&a.unshift(g.createElement("title",null,t)),g.createElement.apply(g,["svg",i].concat(a))}Dde.propTypes={"aria-label":sa().string,className:sa().string,style:sa().object};const Cde=Dde;var wde=n(84642),Zde=n(6731),Tde=n(98851),Nde=n(50612);var Ode=n(43534),Ade=n(17401),xde=n(27479),jde=n(34773),Lde=n(36452),kde=n(62393),Rde=n(78002);const zde={[Ade]:/alexa/i,[xde]:/android/i,[jde]:/plex.*atv|tvos/i,[Lde]:/chrome/i,[kde]:/plex.*dash/i,[n(38807)]:/dlna/i,[n(74561)]:/edge/i,[n(64495)]:/firefox/i,[n(11606)]:/google.*tv/i,[n(8680)]:/internet.*explorer|explorer.*windows/i,[n(74625)]:/ios/i,[n(52626)]:/linux/i,[n(87060)]:/opera/i,[n(14576)]:/mac/i,[n(96897)]:/konvergo|plex.*home.*theater|plex.*media.*center/i,[n(72954)]:/plexamp/i,[n(28674)]:/plex.*media.*server/i,[n(25017)]:/WebMAF|playstation|mystery.*3/i,[n(36743)]:/roku/i,[n(95031)]:/safari/i,[n(79070)]:/samsung/i,[n(9811)]:/sonos/i,[n(50066)]:/plex.*vr/i,[n(32743)]:/wii.*u/i,[n(56199)]:/windows/i,[n(51773)]:/windows.*phone|wince/i,[n(67626)]:/xbox|mystery.*5/i},Ude=S().pairs(zde),Vde={};function Bde(e){for(let t=0,n=Ude.length;t<n;t++){const[n,r]=Ude[t];if(r.test(e))return n}}function Fde(e,t){let n=Vde[e]||Vde[t];return n||(n=e&&Bde(e),n?(Vde[e]=n,n):(n=t&&Bde(t),n?(Vde[t]=n,n):Rde))}function _de(e){var t=e["aria-label"],n=e.className,r=e.style,i={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-lock-560"};i["aria-hidden"]=!t,i.style=r,i.className=oa.Z.plexIcon+(n?" "+n:"");var a=[g.createElement.apply(g,["path",{d:"m280 0c154.536 0 280 125.464 280 280 0 154.536-125.464 280-280 280-154.536 0-280-125.464-280-280 0-154.536 125.464-280 280-280m-160 240l0 200 320 0 0-200-40.019 0 0-40-.001 0c.02-7.756-.72-15.486-2.2-23.072-1.088-5.577-2.575-11.076-4.448-16.441-1.886-5.402-4.161-10.668-6.802-15.743-3.116-5.991-6.74-11.716-10.817-17.099-4.131-5.455-8.728-10.557-13.722-15.235-4.912-4.6-10.209-8.789-15.818-12.507-5.444-3.608-11.182-6.772-17.14-9.446-9.444-4.237-19.437-7.236-29.653-8.897-4.12-.67-8.275-1.124-12.443-1.362-2.181-.125-4.365-.187-6.549-.197-.388-.001-.776 0-1.164.001-2.183.018-4.364.087-6.544.218-4.164.251-8.315.718-12.431 1.401-10.207 1.693-20.187 4.721-29.614 8.986-6.059 2.742-11.888 5.99-17.409 9.697-5.686 3.818-11.045 8.122-16.002 12.848-4.953 4.722-9.504 9.866-13.587 15.358-4.102 5.519-7.731 11.389-10.83 17.527-2.581 5.113-4.795 10.411-6.615 15.841-1.77 5.278-3.168 10.68-4.182 16.154-1.342 7.242-2.013 14.609-1.987 21.968l-.023 0 0 40-40 0m180 160l-40 0 0-45.359c-11.952-6.92-20-19.848-20-34.641 0-22.077 17.923-40 40-40 22.077 0 40 17.923 40 40 0 14.793-8.048 27.721-20 34.641l0 45.359m39.993-160l-119.986 0 0-40-.007-.197c.015-4.685.565-9.366 1.662-13.92 1.309-5.431 3.394-10.668 6.164-15.518 3.267-5.718 7.478-10.89 12.403-15.261 4.518-4.009 9.634-7.341 15.138-9.831 4.623-2.092 9.514-3.584 14.517-4.43 2.184-.37 4.389-.617 6.6-.743 1.105-.063 2.212-.094 3.318-.1.395 0 .789.002 1.183.008 1.166.02 2.33.07 3.492.155 2.2.16 4.39.441 6.558.843 4.922.912 9.723 2.451 14.257 4.57 5.473 2.557 10.549 5.95 15.018 10.012 4.873 4.429 9.022 9.651 12.219 15.408 2.715 4.888 4.736 10.156 5.978 15.608.986 4.326 1.479 8.761 1.493 13.197l-.007.199 0 40"}].concat([]))];return t&&a.unshift(g.createElement("title",null,t)),g.createElement.apply(g,["svg",i].concat(a))}_de.propTypes={"aria-label":sa().string,className:sa().string,style:sa().object};const Hde=_de;class Qde extends g.Component{shouldComponentUpdate(e,t){return(0,At.Z)(this,e,t)}render(){const{className:e,isConnected:t,isUnavailable:n,isSecure:r,isRelayed:i}=this.props;return i?g.createElement(db.Z,{className:Te()(e,"ServerConnectionStatusIcon-warningIcon-Py8CKo"),title:(0,Ce.Z)("Indirect"),"aria-label":(0,Ce.Z)("Indirect")}):n?g.createElement(we.Z,{className:Te()(e,"ServerConnectionStatusIcon-alertIcon-2mWchA"),title:(0,Ce.Z)("Unavailable"),"aria-label":(0,Ce.Z)("Unavailable")}):r&&t?g.createElement(Hde,{className:Te()(e,"ServerConnectionStatusIcon-secureIcon-3_zNyc"),title:(0,Ce.Z)("Secure"),"aria-label":(0,Ce.Z)("Secure")}):null}}const Gde=Qde;var Wde=Object.defineProperty,Yde=Object.prototype.hasOwnProperty,Kde=Object.getOwnPropertySymbols,qde=Object.prototype.propertyIsEnumerable,$de=(e,t,n)=>t in e?Wde(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Jde=(e,t)=>{for(var n in t||(t={}))Yde.call(t,n)&&$de(e,n,t[n]);if(Kde)for(var n of Kde(t))qde.call(t,n)&&$de(e,n,t[n]);return e};const Xde={audio:function(e){const{stream:t,separatorComponent:n}=e,r=[];var i,a;t.codec&&r.push((a=t.codec)?"dca"===a?"DTS":a.toUpperCase():""),t.channels&&r.push((i=t.channels,(i=parseInt(i,10))?i<2?(0,Ce.Z)("Mono"):i<3?(0,Ce.Z)("Stereo"):(i-1).toString()+".1":""));const s=t.language||(0,Ce.Z)("Unknown"),o=r&&r.length>0?r.join(" "):null,l=o?(0,Ce.Z)("{label}, {details}",{label:s,details:o}):s;return g.createElement("span",{"aria-label":l,"data-qa-id":"audioStream"},s,o?g.createElement(n,null):null,o)},subtitles:function(e){const{stream:t,separatorComponent:n}=e,r=[];t.codec&&r.push(t.codec.toUpperCase()),t.key&&r.push((0,Ce.Z)("External")),t.forced&&r.push((0,Ce.Z)("Forced"));const i=t.language||(0,Ce.Z)("Unknown"),a=r&&r.length>0?r.join(" "):null,s=a?(0,Ce.Z)("{label}, {details}",{label:i,details:a}):i;return g.createElement("span",{"aria-label":s,"data-qa-id":"subtitlesStream"},i,a?g.createElement(n,null):null,a)},video:function(e){const{mediaItem:t,separatorComponent:n}=e;let r;t.videoCodec&&(r=[t.videoCodec.toUpperCase()]);const i=(0,Mc.Z)(t),a=i&&i.scanType,s=(0,Bs.Z)(t.videoResolution,a)||(0,Ce.Z)("Unknown"),o=r&&r.length>0?r.join(" "):null,l=o?(0,Ce.Z)("{label}, {details}",{label:s,details:o}):s;return g.createElement("span",{"aria-label":l,"data-qa-id":"videoStream"},s,o?g.createElement(n,null):null,o)}},eue=(0,v.$j)((function(){return(0,fe.P1)((0,LT.Z)(),(e=>({serverShortVersion:e.shortVersion})))}))((function(e){const t=e,{type:n,stream:r,mediaItem:i,serverShortVersion:a}=t,s=((e,t)=>{var n={};for(var r in e)Yde.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&Kde)for(var r of Kde(e))t.indexOf(r)<0&&qde.call(e,r)&&(n[r]=e[r]);return n})(t,["type","stream","mediaItem","serverShortVersion"]);if(!r&&!i)return g.createElement("span",{"data-qa-id":`${n}Stream`},(0,Ce.Z)("None"));if(a&&(0,lb.Z)(a,ib.Z.streamDisplayTitles)){let e;if("video"===n){const t=(0,Mc.Z)(i);e=t?t.displayTitle:(0,Ce.Z)("None")}else e=r.displayTitle||r.language;return g.createElement("span",{"aria-label":e,"data-qa-id":`${n}Stream`},e)}const o=Xde[n];return g.createElement(o,Jde(Jde({},s),{stream:r,mediaItem:i}))}));var tue=Object.defineProperty,nue=Object.prototype.hasOwnProperty,rue=Object.getOwnPropertySymbols,iue=Object.prototype.propertyIsEnumerable,aue=(e,t,n)=>t in e?tue(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,sue=(e,t)=>{for(var n in t||(t={}))nue.call(t,n)&&aue(e,n,t[n]);if(rue)for(var n of rue(t))iue.call(t,n)&&aue(e,n,t[n]);return e};const oue=function(e){return g.createElement(eue,sue(sue({},e),{separatorComponent:rs.Z}))},lue="SessionTileDetails-title-_7lygH",cue="SessionTileDetails-subtitle-2ELgE6",due="SessionTileDetails-streamType-wxiiLG",uue="SessionTileDetails-streams-JOZZz7";function pue({children:e}){return g.createElement("span",null,g.createElement("span",{className:(0,Nde.Z)()?"SessionTileDetails-rightArrowForEdge-1I_KJj SessionTileDetails-rightArrow-1bdgq2":"SessionTileDetails-rightArrow-1bdgq2"}),e)}function mue({local:e,relayed:t}){let n;return n=t?(0,Ce.Z)("Indirect"):e?"Local":(0,Ce.Z)("Remote"),g.createElement("span",null,n)}function hue({className:e,server:t,session:n,internalViewOffset:r}){const{duration:i,Media:a=[],Player:s,Session:o,TranscodeSession:l}=n,c=a.find((e=>e.selected))||a[0],d=(0,Zde.Z)(c);let u=(0,wde.Z)(c);if(!u){const e=Yj.Z.get("audio").id;u=(0,Tde.Z)(c,{streamType:e})[0]}const p=!!c.videoCodec,m=!!c.audioCodec,h=!!d;return g.createElement("div",{className:e},g.createElement("div",{className:"SessionTileDetails-playerContainer-3T4Qna"},g.createElement("div",{className:"SessionTileDetails-playerIcon-1xTPFM"},g.createElement("img",{className:"SessionTileDetails-productLogo-1icVG8",src:Fde(s.product,s.platform),width:44,height:44}),g.createElement(Gde,{className:"SessionTileDetails-statusIcon-13Y0rh",isConnected:!0,isSecure:s.secure,isRelayed:s.relayed})),g.createElement("div",{className:"SessionTileDetails-playerInformation-3cHg7A"},g.createElement("div",{className:lue,title:`${s.product} ${rs.U} ${s.title}`},s.product," ",g.createElement(rs.Z,null)," ",s.title),g.createElement("div",{className:cue},(y=s.state)?y.replace(/\w\S*/g,(function(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()})):"",i?g.createElement(g.Fragment,null,g.createElement(rs.Z,null),`${(0,aS.Z)(r)} / ${(0,aS.Z)(i)}`):null),g.createElement("div",{className:cue},g.createElement(mue,{local:s.local,relayed:s.relayed}),s.relayed?null:` (${s.address})`,o?g.createElement(g.Fragment,null,g.createElement(rs.Z,null),g.createElement("span",{title:(0,Ce.Z)("The amount of outgoing bandwidth reserved for this playback session")},ece(1024*n.Session.bandwidth,0))):null))),p?g.createElement("div",{className:"SessionTileDetails-videoStreamInformation-1QQfKQ SessionTileDetails-streamInformation-3PfwJD"},g.createElement("div",{className:due},(0,Ce.Z)("Video")),g.createElement("div",{className:uue},g.createElement("div",{className:lue},g.createElement(oue,{serverEntityID:t.entityID,type:"video",mediaItem:c}),(null==l?void 0:l.transcodeHwDecoding)?" (hw)":null),g.createElement("div",{className:lue},!o||l&&null!=l.videoDecision?null:g.createElement(pue,null,(0,Ce.Z)("Direct Play")),l&&"copy"===l.videoDecision?g.createElement(pue,null,(0,Ce.Z)("Direct Stream")):null,l&&"transcode"===l.videoDecision?g.createElement(pue,null,`${(0,Bs.Z)(c.videoResolution,l.scanType)||(0,Ce.Z)("Unknown")} `,"(",(0,Ode.Z)(l.videoCodec),")",g.createElement(rs.Z,null),(0,Ce.Z)("Transcode"),l.transcodeHwEncoding?" (hw)":null):null))):null,m?g.createElement("div",{className:"SessionTileDetails-audioStreamInformation-kblp-r SessionTileDetails-streamInformation-3PfwJD"},g.createElement("div",{className:due},(0,Ce.Z)("Audio")),g.createElement("div",{className:uue},g.createElement("div",{className:lue},g.createElement(oue,{serverEntityID:t.entityID,type:"audio",stream:u})),g.createElement("div",{className:lue},!o||l&&null!=l.audioDecision?null:g.createElement(pue,null,(0,Ce.Z)("Direct Play")),l&&"copy"===l.audioDecision?g.createElement(pue,null,(0,Ce.Z)("Direct Stream")):null,l&&"transcode"===l.audioDecision?g.createElement(pue,null,(0,Ode.Z)(l.audioCodec),g.createElement(rs.Z,null),(0,Ce.Z)("Transcode")):null))):null,h?g.createElement("div",{className:"SessionTileDetails-subtitlesStreamInformation-eOM0P9 SessionTileDetails-streamInformation-3PfwJD"},g.createElement("div",{className:due},(0,Ce.Z)("Subtitles")),g.createElement("div",{className:lue},g.createElement(oue,{serverEntityID:t.entityID,type:"subtitles",stream:(0,Zde.Z)(c)}))):null);var y}const gue={textArea:"TextArea-textArea-1GkdPM input-input-3msd1_",small:"TextArea-small-uT9LU4",large:"TextArea-large-2eUyuc",isDisabled:"TextArea-isDisabled-1s31QN input-isDisabled-3xoo6r",hasError:"TextArea-hasError-BfK6d_ input-hasError-2b8Ur9"};var yue=Object.defineProperty,vue=Object.prototype.hasOwnProperty,fue=Object.getOwnPropertySymbols,bue=Object.prototype.propertyIsEnumerable,Iue=(e,t,n)=>t in e?yue(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Sue=(e,t)=>{for(var n in t||(t={}))vue.call(t,n)&&Iue(e,n,t[n]);if(fue)for(var n of fue(t))bue.call(t,n)&&Iue(e,n,t[n]);return e};class Mue extends g.Component{constructor(){super(...arguments),this.onChange=e=>{this.props.onChange(e.target.value)}}render(){const e=this.props,{className:t,errorClassName:n,disabledClassName:r,initialValue:i,isDisabled:a,size:s,name:o,hasError:l}=e,c=((e,t)=>{var n={};for(var r in e)vue.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&fue)for(var r of fue(e))t.indexOf(r)<0&&bue.call(e,r)&&(n[r]=e[r]);return n})(e,["className","errorClassName","disabledClassName","initialValue","isDisabled","size","name","hasError"]);return g.createElement("textarea",Sue(Sue({},c),{id:o,name:o,disabled:a,className:Te()(t,gue[s],a&&r,l&&n),onChange:this.onChange}))}}Mue.defaultProps={className:gue.textArea,errorClassName:gue.hasError,disabledClassName:gue.isDisabled,isDisabled:!1,size:Rp.ln,hasError:!1,rows:2};const Eue=Mue;function Pue({session:e,isOpen:t,onModalClose:n}){const r=(0,v.I0)(),[i]=Hn(),[a,s]=(0,g.useState)(""),{type:o,grandparentTitle:l,parentTitle:c,title:d,parentIndex:u,index:p,originallyAvailableAt:m,User:h}=e,y=o===Ac.EPISODE?(0,xo.Z)({seasonIndex:u,episodeIndex:p,date:m,noLeadingZero:!0,separator:"  "}):null,f=(0,g.useCallback)((()=>{r(Bv.actions.stopRequested({server:i,session:e,reason:a})),n()}),[r,a,i,e,n]),b=(0,g.useCallback)((e=>{e.preventDefault(),e.stopPropagation(),f()}),[f]);return g.createElement(Jt.ZP,{metricsPage:pt.Vr},g.createElement(lu,{isOpen:t,size:st.Small,onModalClose:n},g.createElement(du,{onModalClose:n},g.createElement(mu,null,(0,Ce.Z)("Stop {title}",{title:l||c||d}),y?g.createElement(g.Fragment,null,g.createElement(rs.Z,null),y):null),g.createElement(cm,{className:"StopServerSessionModal-modalBody-2nj8ZB ModalBody-modalBody-O9hN9W"},g.createElement("div",{className:"StopServerSessionModal-topContainer-1AmROV"},g.createElement(X2.Z,{className:"StopServerSessionModal-avatarImg-2OypET AvatarImg-avatar-3gp48Z",serverEntityID:i.entityID,url:h.thumb,width:76,height:76}),g.createElement("div",{className:"StopServerSessionModal-description-1wkznm"},g.createElement("p",null,(0,Ce.Z)("Do you wish to stop this item's playback?")),g.createElement("p",null,(0,Ce.Z)("You may supply a message that will be displayed to {username}.",{username:h.title}))))),g.createElement(pu,{className:"StopServerSessionModal-modalFooter-2DgWFu ModalFooter-modalFooter-5RLmoy"},g.createElement(Eae.Z,{className:"StopServerSessionModal-formLabel-Gah4N_ FormLabel-label-lDFbdu",name:"message"},(0,Ce.Z)("Message")),g.createElement(qae.ZP,{className:"StopServerSessionModal-form-3Z3BPB",onSubmit:b},g.createElement(Eue,{className:"StopServerSessionModal-textArea-2i3M2D TextArea-textArea-1GkdPM input-input-3msd1_","data-autofocus":!0,name:"message",rows:4,value:a,onChange:s})),g.createElement(dm,{className:"StopServerSessionModal-buttonBar-3Ql6OX ModalFooterButtonBar-buttonBar-UJWGIc"},g.createElement(Dr,{onPress:n},(0,Ce.Z)("Cancel")),g.createElement(Dr,{kind:or.Primary,onPress:f},(0,Ce.Z)("Stop")))))))}const Due="SessionTile-subtitle-2HwzYw";function Cue(e){return!!e.Media&&"livetv"===(e.Media.find((e=>e.selected))||e.Media[0]).origin}const wue=(0,g.memo)((function({sessionKey:e,isDetailsExpanded:t,canStopSessions:n}){const[r,i]=Hn(),a=(0,g.useMemo)((()=>function(e,t){return(0,fe.P1)(gde(e),(e=>e.sessionsByKey[t]))}(r.machineIdentifier,e)),[r.machineIdentifier,e]),s=(0,v.v9)(a),o=s.Player.state===Mde.Z.states.PLAYING,[l,c]=Oo(),[d,u]=(0,g.useState)(s.viewOffset||0),[p,m]=(0,g.useState)(!1),{type:h,subtype:y,duration:f,attribution:b,Media:I,User:S,Session:M,TranscodeSession:E,Player:P}=s,D=null!=s.viewOffset,C=h===ni.pG.Game;let w=null;I&&(w=C&&E?`${E.key}/frame?t=${Date.now()}`:function(e,t,n){const r=(0,bde.Z)(e,t);if(!(n=Sde(r,n)))return;const i=(0,Ide.Z)(e,r,t);return"/library/parts/"+r.id+"/indexes/"+n+"/"+i}(I[0],d,"hd"));const Z=l&&w,T=function(e,t,n){const{key:r,parentKey:i,grandparentKey:a,type:s,skipDetails:o,skipParent:l,extraType:c}=n;if(c||o||s===ni.pG.Photo||Cue(n))return;let d=r;return s===ni.pG.Track&&(d=l?a:i),(0,li.Z)(e,t,d)}(r,i,s),N=T?vr:"div",O=!(!n||!M||function(e){const{product:t}=e;return Pde.hasOwnProperty(t)||(Pde[t]=Ede.some((e=>e.test(t)))),Pde[t]}(P)),A=function(e){const{type:t,grandparentTitle:n,parentTitle:r,title:i}=e;return Cue(e)?(0,Ce.Z)("Live TV"):t===ni.pG.Track||t===ni.pG.Photo?i:n||r||i}(s),x=function(e){const{type:t,index:n,parentIndex:r,originallyAvailableAt:i,grandparentTitle:a,parentTitle:s,title:o,year:l}=e;if(t===ni.pG.Track||t===ni.pG.Photo)return s;const c=[];return t===ni.pG.Episode&&c.push((0,xo.Z)({seasonIndex:r,episodeIndex:n,date:i,noLeadingZero:!0,separator:"  "})),a||s?c.push(o):l&&c.push(String(l)),c.join(" ")}(s),j=function(e){const{type:t,grandparentTitle:n,parentTitle:r,year:i,duration:a}=e;return t===ni.pG.Movie||t===ni.pG.Episode?Ui(a):t===ni.pG.Album||t===ni.pG.Track?n||r:t===ni.pG.Photo?String(i):void 0}(s),L=function(e){return e.type===ni.pG.Track?e.parentThumb:e.type===ni.pG.Photo?e.thumb:e.grandparentThumb||e.parentThumb||e.thumb}(s),k=D?100:104,R=(0,Ux.dz)(k,h,y,kx.Uz),z=(0,g.useCallback)((e=>{e.preventDefault(),e.stopPropagation(),m(!0)}),[]),U=(0,g.useCallback)((()=>{m(!1)}),[]);return(0,g.useEffect)((()=>{let e;if(u(s.viewOffset||0),o){const t=Date.now();e=window.setInterval((()=>{u((s.viewOffset||0)+(Date.now()-t))}),1e3)}return()=>window.clearInterval(e)}),[o,s.viewOffset]),g.createElement("div",{className:"SessionTile-listItem-2OgYvk",ref:c},g.createElement(N,{className:"SessionTile-mediaInformationContainer-2AAqfz",to:T},g.createElement("div",{className:"SessionTile-posterContainer-3RpP4e",style:{width:R}},g.createElement(zx.Z,{serverEntityID:r.entityID,type:h,url:L,width:R,height:k}),b?g.createElement(ma,{className:"SessionTile-attribution-3Pp4KX",attribution:b}):null),g.createElement("div",{className:Te()("SessionTile-infoContainer-3mj_dy",D?"SessionTile-visibleProgressBar-2aleHq":void 0)},Z?g.createElement("div",{className:"SessionTile-previewThumbnailContainer-1QDCx1"},g.createElement(xt.Z,{serverEntityID:r.entityID,providerEntityID:void 0,url:w,width:C?180:214,height:k,component:Ot.Z,backgroundSize:C?"contain":"cover"})):g.createElement("div",{className:"SessionTile-metadataText-3BoZsR"},g.createElement("div",{className:"SessionTile-title-3a4niU",title:A},A),g.createElement("div",{className:Due,title:x},x),g.createElement("div",{className:Due,title:j},j))),D?g.createElement("div",{className:"SessionTile-progressTrack-VHa2Wz"},g.createElement("div",{className:"SessionTile-playProgressPercent-1ptKaF SessionTile-progressPercent-EycJMh",style:{width:`${(0,To.Z)(d,f)}%`}}),(null==E?void 0:E.progress)?g.createElement("div",{className:"SessionTile-transcodeProgressPercent-2KFcyo SessionTile-progressPercent-EycJMh",style:{width:`${E.progress}%`}}):null):null),g.createElement(hue,{className:Te()("SessionTile-detailsContainer-3TP9dI",t?"SessionTile-detailsContainerExpanded-QZLl3y":void 0),server:r,session:s,internalViewOffset:d}),g.createElement("div",{className:"SessionTile-userContainer-1-zUJ_"},g.createElement(X2.Z,{className:"SessionTile-avatarImg-uFfVcg AvatarImg-avatar-3gp48Z",serverEntityID:r.entityID,url:S.thumb,width:40,height:40}),g.createElement("div",{className:"SessionTile-username-3tzgnj"},S.title),O?g.createElement(vr,{className:"SessionTile-stopButton-3VYdei Link-link-2WGTd7",onPress:z},g.createElement(Cde,{className:"SessionTile-stopIcon-2dEg12","aria-label":(0,Ce.Z)("Stop playback")}),(0,Ce.Z)("Stop playback")):null),g.createElement(Pue,{session:s,isOpen:p,onModalClose:U}))}));function Zue(){const e=(0,v.I0)(),[t]=Hn(),[n,{width:r}]=(0,Kg.Z)(),i=(0,g.useMemo)((()=>{return e=t.machineIdentifier,(0,fe.P1)(gde(e),(e=>e.sessionKeys));var e}),[t.machineIdentifier]),a=(0,v.v9)(i),s=(0,g.useMemo)((()=>{return e=t.machineIdentifier,(0,fe.P1)(gde(e),(e=>e.stopSessionError));var e}),[t.machineIdentifier]),o=(0,v.v9)(s),l=(0,v.v9)(ra("dashboardNowPlayingShowDetails")),c=t.ownerFeatures.includes("session_kick"),d=a.length>0,u=(0,g.useCallback)((()=>{(0,fn.c9)((()=>{e(Bv.actions.stopErrorDismissed({server:t}))}))}),[e,t]),p=(0,g.useCallback)((()=>{(0,fn.c9)((()=>{e((0,AM.LN)({dashboardNowPlayingShowDetails:!l}))}))}),[e,l]);return(0,g.useEffect)((()=>{let n;return d&&(n=window.setInterval((()=>e(Bv.actions.fetchRequested({server:t}))),5e3)),()=>window.clearInterval(n)}),[e,d,t]),g.createElement("div",{ref:n},g.createElement(fde,{isOpen:!!o,errorMessage:(0,Ce.Z)("There was a problem stopping playback"),metricsPage:pt.YX,onModalClose:u}),g.createElement(Fle,{title:(0,Ce.Z)("Now Playing")},d?g.createElement(rf.Z,{className:"NowPlaying-toggle-2co0cB Link-link-2WGTd7",component:vr,tooltip:l?(0,Ce.Z)("Hide Details"):(0,Ce.Z)("Show Details"),"data-qa-id":"toolbarToggleNowPlayingDetails",hideOnPress:!1,onPress:p},g.createElement(vde,null)):null),g.createElement("div",{className:"NowPlaying-tilesContainer-1-y9Ln"},d&&null!=r?g.createElement("div",{className:"NowPlaying-nowPlayingList-9iWEHr"},function(e,t){const n=Math.max(Math.floor((t+40)/320),1),r=Array.from(new Array(n),(()=>[]));return e.reduce(((e,t,r)=>(e[r%n].push(t),e)),r)}(a,r).map(((e,t)=>g.createElement("div",{key:t,className:"NowPlaying-column-2r__Xz",style:{width:"280px"}},e.map((e=>g.createElement(wue,{key:e,sessionKey:e,isDetailsExpanded:l,canStopSessions:c}))))))):null,d?null:g.createElement(nce,{className:"NowPlaying-emptyMessage-CyG-c2 ServerDashboardPageMessage-container-2brmau"},(0,Ce.Z)("Nothing is currently being played"))))}function Tue({className:e,accounts:t,activeAccount:n,onAccountSelect:r}){const{menuButtonID:i,isMenuOpen:a,onMenuButtonPress:s,onMenuClose:o}=Ez(),l=(0,g.useCallback)((e=>{const n=t.find((t=>t.id===e));o(),r(n)}),[t,o,r]);return g.createElement(g.Fragment,null,g.createElement(_le,{id:i,className:e,isMenuOpen:a,onPress:s},n?n.name:(0,Ce.Z)("All Users")),g.createElement(Xl.Z,{target:i,isOpen:a,onMenuClose:o},g.createElement(Up.Z,{value:void 0,isSelected:!n,onSelect:l},(0,Ce.Z)("All Users")),t.map((e=>g.createElement(Up.Z,{key:e.id,value:e.id,isSelected:(null==n?void 0:n.id)===e.id,onSelect:l},e.name)))))}const Nue={statistics:[],accounts:[],isPending:!1,isPopulated:!1,error:null},Oue=(0,lo.oM)({name:"dashboardPlayHistory",initialState:Nue,reducers:{reset:()=>Nue,playHistoryFetchRequested(e,t){(0,yd.er)(e)},playHistoryFetchSucceeded(e,{payload:t}){(0,yd.vv)(e),e.statistics=t.data.statistics,e.accounts=t.data.accounts},playHistoryFetchFailed(e,{payload:t}){(0,yd.VQ)(e,t.error)}}});var Aue,xue;(xue=Aue||(Aue={}))[xue.All=0]="All",xue[xue.Movie=1]="Movie",xue[xue.TV=4]="TV",xue[xue.Music=10]="Music",xue[xue.Photo=13]="Photo",xue[xue.Game=19]="Game";const jue=(0,fe.P1)(Kle,(e=>e.playHistory));function Lue(e){switch(e){case Aue.All:return(0,Ce.Z)("All Media");case Aue.Movie:return(0,Ce.Z)("Movies");case Aue.TV:return(0,Ce.Z)("TV");case Aue.Music:return(0,Ce.Z)("Music");case Aue.Photo:return(0,Ce.Z)("Photos");case Aue.Game:return(0,Ce.Z)("Games");default:return""}}function kue(e,t){return e.date-t.date}function Rue(e){return Ci(e)||(0,_i.Z)((0,rV.Z)(new Date))<=e}function zue(e,t,n,r=!1){if((0,vJ.rG)(t)===vJ.pP.Day&&Ci(e)){const e=(0,Ce.Z)("Today");return r?e.toUpperCase():e}return(0,Vx.Z)((0,ui.Z)(e),n)}function Uue(e){const t=e/60,n=t/60,r=n/24,i=r/365;let a,s;return t<1?(a=e.toFixed(),s="s"):n<1?(a=t.toFixed(),s="m"):r<1?(a=n.toFixed(1),s="h"):i<1?(a=r.toFixed(1),s="d"):(a=i.toFixed(1),s="y"),`${a}${s}`}function Vue({isMoviesVisible:e,isTVVisible:t,isMusicVisible:n,isPhotosVisible:r,isGamesVisible:i,summedData:a,hasGameStatistics:s}){if(!a)return null;const o=e&&t&&n&&r;return g.createElement(g.Fragment,null,o?(0,Ce.Z)("Totals"):(0,Ce.Z)("Total"),": ",o?g.createElement(g.Fragment,null,Lue(Aue.Movie),g.createElement(rs.Z,null)):null,e?Uue(a[Aue.Movie]||0):null,o?g.createElement(g.Fragment,null," | ",Lue(Aue.TV),g.createElement(rs.Z,null)):null,t?Uue(a[Aue.TV]||0):null,o?g.createElement(g.Fragment,null," | ",Lue(Aue.Music),g.createElement(rs.Z,null)):null,n?Uue(a[Aue.Music]||0):null,o?g.createElement(g.Fragment,null," | ",Lue(Aue.Photo),g.createElement(rs.Z,null)):null,r?Uue(a[Aue.Photo]||0):null,s&&o?g.createElement(g.Fragment,null," | ",Lue(Aue.Game),g.createElement(rs.Z,null)):null,s&&i?Uue(a[Aue.Game]||0):null)}function Bue({statistics:e,activeStatisticsMetadataType:t,activeAccount:n,activeTimePeriod:r,hasGameStatistics:i,isPending:a,isPopulated:s,errorMessage:o,onGraphMetadataTypeSelect:l}){const[c,d]=(0,g.useState)(!1),{data:u,summedData:p}=(0,g.useMemo)((()=>function(e,t,n){const r={};return{data:e.reduce(((e,i)=>{const{accountID:a,at:s,metadataType:o,duration:l}=i;if(!(o in Aue))return e;const c=e.findIndex((e=>e.date===s)),d=-1!==c;let u;return u=d?e[c]:{date:s},n&&n.id!==a?(d||e.push(u),e):(t!==Aue.All&&t!==o||(u[o]=(u[o]||0)+l,r[o]=(r[o]||0)+l,u[Aue.All]=(u[Aue.All]||0)+l,r[Aue.All]=(r[Aue.All]||0)+l),d?e[c]=u:e.push(u),e)}),[]).sort(kue),summedData:r}}(e,t,n)),[n,t,e]),m=t===Aue.Movie,h=m||t===Aue.All,y=t===Aue.TV,v=y||t===Aue.All,f=t===Aue.Music,b=f||t===Aue.All,I=t===Aue.Photo,S=I||t===Aue.All,M=t===Aue.Game,E=M||t===Aue.All,P=[{dataKey:String(Aue.Movie),title:Lue(Aue.Movie),visible:h,selected:m,color:"#9ad186"},{dataKey:String(Aue.TV),title:Lue(Aue.TV),visible:v,selected:y,color:"#f1335e"},{dataKey:String(Aue.Music),title:Lue(Aue.Music),visible:b,selected:f,color:"#366dfc"},{dataKey:String(Aue.Photo),title:Lue(Aue.Photo),visible:S,selected:I,color:"#e69f23"}];i&&P.push({dataKey:String(Aue.Game),title:Lue(Aue.Game),visible:E,selected:M,color:"#bc9bb7"});const D=(0,g.useCallback)((e=>{if((0,vJ.rG)(r)===vJ.pP.Week){const t=zue(e,r,(0,vJ.fz)(r,!0)),n=(0,_i.Z)((0,Jle.Z)((0,ui.Z)(e),1));return Ci(e)&&Rue(n)?(0,Ce.Z)("Today"):`${t} - ${zue(n,r,(0,vJ.fz)(r,!0))}`}return zue(e,r,(0,vJ.fz)(r,!0))}),[r]),C=(0,g.useCallback)((e=>Uue(e)),[]),w=(0,g.useCallback)((e=>{if(r===vJ.XH.Month){const t=zue(e,r,(0,vJ.fz)(r)),n=(0,_i.Z)((0,Jle.Z)((0,ui.Z)(e),1));return Ci(e)&&Rue(n)?(0,Ce.Z)("Today").toUpperCase():`${t} - ${zue(n,r,(0,vJ.fz)(r))}`}return zue(e,r,(0,vJ.fz)(r),!0)}),[r]),Z=(0,g.useCallback)((e=>0===e?"":Uue(e)),[]),T=(0,g.useCallback)((()=>{d(!0)}),[]);return g.createElement(dce,{isSpinnerVisible:a||!c,errorMessage:o},!a&&s?g.createElement(Vce,{width:"100%",height:280,series:P,data:u,legendSummary:g.createElement(Vue,{isMoviesVisible:h,isTVVisible:v,isMusicVisible:b,isPhotosVisible:S,isGamesVisible:E,summedData:p,hasGameStatistics:i}),tooltipLabelFormatter:D,tooltipValueFormatter:C,xAxisTickFormatter:w,yAxisTickFormatter:Z,onLegendPress:l,onChartReady:T}):null)}function Fue(){const e=(0,v.I0)(),[t]=Hn(),[n,r]=(0,g.useState)(null),[i,a]=(0,g.useState)(vJ.XH.Month),[s,o]=(0,g.useState)(i),l=(0,g.useMemo)((()=>[vJ.XH.Week,vJ.XH.Month,vJ.XH.NinetyDays,vJ.XH.Year,vJ.XH.AllTime]),[]),[c,d]=(0,g.useState)(Aue.All),{accounts:u,statistics:p,isPending:m,isPopulated:h,error:y}=(0,v.v9)(jue),f=!!p.find((e=>e.metadataType===Aue.Game)),b=(0,g.useMemo)((()=>{const e=[Aue.All,Aue.Movie,Aue.TV,Aue.Music,Aue.Photo];return f?e.concat([Aue.Game]):e}),[f]),I=(0,g.useMemo)((()=>u.slice().sort(UJ)),[u]),S=Ble(m,!0),M=(0,g.useCallback)((e=>{d(e)}),[]),E=(0,g.useCallback)((e=>{r(e)}),[]),P=(0,g.useCallback)((e=>{a(e)}),[]),D=(0,g.useCallback)((e=>{const t=parseInt(e,10),n=t===c?Aue.All:t;d(n)}),[c]);return(0,g.useEffect)((()=>{e(Oue.actions.playHistoryFetchRequested({server:t,timespan:(0,vJ.rG)(i),after:(0,vJ.xP)(i)}))}),[i,e,t]),(0,g.useEffect)((()=>{o(i)}),[p]),(0,g.useEffect)((()=>()=>{e(Oue.actions.reset())}),[e]),g.createElement("div",{className:"PlayHistory-container-2F130G"},g.createElement(Fle,{title:(0,Ce.Z)("Play History")},g.createElement("div",{className:"PlayHistory-link-1L_4cE"},g.createElement(rs.Z,null),g.createElement(vr,{to:(0,AJ.Z)(t.machineIdentifier)},(0,Ce.Z)("View Full History"))),g.createElement("div",null,g.createElement(Hle,{values:b,activeValue:c,formatter:Lue,onSelect:M}),g.createElement(Tue,{accounts:I,activeAccount:n,onAccountSelect:E}),g.createElement(Hle,{values:l,activeValue:i,formatter:vJ.dZ,onSelect:P}))),g.createElement(Bue,{statistics:p,activeStatisticsMetadataType:c,activeAccount:n,activeTimePeriod:s,isPending:S,isPopulated:h,hasGameStatistics:f,errorMessage:y?(0,Ce.Z)("Unable to load history"):null,onGraphMetadataTypeSelect:D}))}function _ue({children:e}){return g.createElement("div",{className:"ServerDashboardPageSection-section-2mPuPV"},e)}const Hue={statistics:[],isPending:!1,isPopulated:!1,isUnsupported:!1,error:null,requestTimestampMilliseconds:null},Que=(0,lo.oM)({name:"dashboardResources",initialState:Hue,reducers:{reset:()=>Hue,resourcesFetchRequested(e,t){(0,yd.er)(e),e.isUnsupported=!1},resourcesFetchSucceeded(e,{payload:t}){(0,yd.vv)(e),e.statistics=t.data,e.requestTimestampMilliseconds=t.requestTimestampMilliseconds},resourcesFetchFailed(e,{payload:t}){(0,yd.VQ)(e,t.error),e.isUnsupported=404===t.error.status}}});var Gue,Wue;(Wue=Gue||(Gue={})).All="all",Wue.System="system",Wue.PlexMediaServer="plex-media-server";const Yue=(0,fe.P1)(Kle,(e=>e.resources));function Kue(e){switch(e){case Gue.All:return(0,Ce.Z)("All");case Gue.PlexMediaServer:return"Plex Media Server";case Gue.System:return(0,Ce.Z)("System");default:return""}}function que(e){return 0===e?(0,Ce.Z)("Now"):(0,Ce.Z)("{timeAgo} ago",{timeAgo:uce(e)})}function $ue(e){return`${e.toFixed(2)}%`}function Jue(e){return uce(e)}function Xue(e){return 0===e?"":`${Math.round(e)}%`}function epe({isPlexMediaServerVisible:e,isSystemVisible:t,summedData:n}){if(!n)return null;const r=e&&t;return g.createElement(g.Fragment,null,r?(0,Ce.Z)("Averages"):(0,Ce.Z)("Average"),": ",r?g.createElement(g.Fragment,null,Kue(Gue.PlexMediaServer),g.createElement(rs.Z,null)):null,e?`${(n[Gue.PlexMediaServer]/25).toFixed(2)}%`:null,r?g.createElement(g.Fragment,null," | ",Kue(Gue.System),g.createElement(rs.Z,null)):null,t?`${(n[Gue.System]/25).toFixed(2)}%`:null)}function tpe({statistics:e,activeResourceType:t,hostKey:n,processKey:r,hostColor:i,processColor:a,isPopulated:s,errorMessage:o,onGraphResourceTypeSelect:l,onGraphTooltipActive:c,onGraphTooltipInactive:d}){const[u,p]=(0,g.useState)(!1),{data:m,summedData:h}=(0,g.useMemo)((()=>function(e,t,n,r){const i=r===Gue.All||r===Gue.System,a=r===Gue.All||r===Gue.PlexMediaServer,s={[Gue.System]:0,[Gue.PlexMediaServer]:0};return{data:e.slice(-25).map(((e,r)=>(s[Gue.PlexMediaServer]=s[Gue.PlexMediaServer]+(e[n]||0),s[Gue.System]=s[Gue.System]+(e[t]||0),{at:e.at,date:120-5*r,[Gue.PlexMediaServer]:a?e[n]:null,[Gue.System]:i?e[t]:null}))),summedData:s}}(e,n,r,t)),[t,n,r,e]),y=t===Gue.All||t===Gue.PlexMediaServer,v=t===Gue.All||t===Gue.System,f=[{dataKey:Gue.PlexMediaServer,title:Kue(Gue.PlexMediaServer),visible:y,selected:t===Gue.PlexMediaServer,color:i},{dataKey:Gue.System,title:Kue(Gue.System),visible:v,selected:t===Gue.System,color:a}],b=(0,g.useCallback)((()=>{p(!0)}),[]);return g.createElement(dce,{isSpinnerVisible:!s||!u,errorMessage:o},s?g.createElement(tde,{width:"100%",height:280,series:f,data:m,legendSummary:g.createElement(epe,{isPlexMediaServerVisible:y,isSystemVisible:v,summedData:h}),isAnimationActive:!1,showTooltipTotal:!1,yAxisDomain:[0,100],xAxisTickInterval:1,tooltipLabelFormatter:que,tooltipValueFormatter:$ue,xAxisTickFormatter:Jue,yAxisTickFormatter:Xue,onLegendPress:l,onChartReady:b,onTooltipActive:c,onTooltipInactive:d}):null)}const npe="ServerResources-container-2cDOKT",rpe="ServerResources-graph-1sDvQ8";function ipe(){const e=(0,v.I0)(),[t]=Hn(),n=(0,g.useRef)(null),[r,i]=(0,g.useState)(Gue.All),[a,s]=(0,g.useState)(Gue.All),o=(0,g.useMemo)((()=>[Gue.All,Gue.PlexMediaServer,Gue.System]),[]),{statistics:l,isPopulated:c,isUnsupported:d,error:u,requestTimestampMilliseconds:p}=(0,v.v9)(Yue),m=(0,g.useCallback)((()=>{e(Que.actions.resourcesFetchRequested({server:t}))}),[e,t]),h=(0,g.useCallback)((e=>{i(e)}),[]),y=(0,g.useCallback)((e=>{s(e)}),[]),f=(0,g.useCallback)((e=>{const t=e===r?Gue.All:e;i(t)}),[r]),b=(0,g.useCallback)((e=>{const t=e===a?Gue.All:e;s(t)}),[a]),I=(0,g.useCallback)((()=>{n.current&&window.clearTimeout(n.current)}),[]);return(0,g.useEffect)((()=>{m()}),[m]),(0,g.useEffect)((()=>{if(p){const e=Date.now()-p,t=Math.max(5e3-e,0);n.current=window.setTimeout(m,t)}return()=>{n.current&&window.clearTimeout(n.current)}}),[p,m]),(0,g.useEffect)((()=>()=>{e(Que.actions.reset())}),[e]),d?null:g.createElement(g.Fragment,null,g.createElement(_ue,null,g.createElement("div",{className:npe},g.createElement(Fle,{title:(0,Ce.Z)("CPU")},g.createElement("div",null,g.createElement(Hle,{values:o,activeValue:r,formatter:Kue,onSelect:h}))),g.createElement("div",{className:rpe},g.createElement(tpe,{statistics:l,activeResourceType:r,hostKey:"hostCpuUtilization",processKey:"processCpuUtilization",hostColor:"#9ad186",processColor:"#f1335e",isPopulated:c,errorMessage:u?(0,Ce.Z)("Unable to load statistics"):void 0,onGraphResourceTypeSelect:f,onGraphTooltipActive:I,onGraphTooltipInactive:m})))),g.createElement(_ue,null,g.createElement("div",{className:npe},g.createElement(Fle,{title:(0,Ce.Z)("RAM")},g.createElement("div",null,g.createElement(Hle,{values:o,activeValue:a,formatter:Kue,onSelect:y}))),g.createElement("div",{className:rpe},g.createElement(tpe,{statistics:l,activeResourceType:a,hostKey:"hostMemoryUtilization",processKey:"processMemoryUtilization",hostColor:"#33f1c5",processColor:"#bd86d1",isPopulated:c,errorMessage:u?(0,Ce.Z)("Unable to load statistics"):null,onGraphResourceTypeSelect:b,onGraphTooltipActive:I,onGraphTooltipInactive:m})))))}const ape={moviesStatistics:[],tvStatistics:[],musicStatistics:[],gameStatistics:[],isPending:!1,isPopulated:!1,error:null},spe=(0,lo.oM)({name:"dashboardTopPlayed",initialState:ape,reducers:{reset:()=>ape,topPlayedFetchRequested(e,t){(0,yd.er)(e)},topPlayedFetchSucceeded(e,{payload:t}){(0,yd.vv)(e),e.moviesStatistics=t.data.moviesStatistics,e.tvStatistics=t.data.tvStatistics,e.musicStatistics=t.data.musicStatistics,e.gameStatistics=t.data.gameStatistics},topPlayedFetchFailed(e,{payload:t}){(0,yd.VQ)(e,t.error)}}}),ope=(0,fe.P1)(Kle,(e=>e.topPlayed));var lpe=n(89137);function cpe({title:e,isEmpty:t,metadataItem:n}){const[r]=Hn();return g.createElement("div",{className:t?"TopPlayedColumnHeader-header-18soae":"TopPlayedColumnHeader-tintedHeader-3z8d6I TopPlayedColumnHeader-header-18soae"},!t&&n?g.createElement("div",{className:"TopPlayedColumnHeader-imageContainer-1TZhlQ"},g.createElement(lpe.Z,{serverEntityID:r.entityID,url:n.art||n.thumb,width:200,height:100,backgroundPosition:"center top"})):null,g.createElement("div",{className:t?"TopPlayedColumnHeader-emptyTitleBackground-2WSjne TopPlayedColumnHeader-titleBackground-2z6FUE":"TopPlayedColumnHeader-titleBackground-2z6FUE"},g.createElement("div",{className:"TopPlayedColumnHeader-titleText-2z0Dhq"},e)))}function dpe({className:e,style:t,metadataItem:n,activeTimePeriod:r}){const[i]=Hn(),{key:a,type:s,title:o,thumb:l,globalViewCount:c,userCount:d}=n,u=s===Ac.ARTIST,p=(0,li.Z)(i,{isLibraryProvider:!0},a);return g.createElement("div",{className:e,style:t},g.createElement(vr,{className:u?"TopPlayedColumnRow-artistPoster-2qUV2H Link-link-2WGTd7":"TopPlayedColumnRow-poster-2e1B8A Link-link-2WGTd7",to:p},g.createElement(zx.Z,{serverEntityID:i.entityID,type:s,url:l,width:u?60:53,height:u?60:80})),g.createElement("div",{className:"TopPlayedColumnRow-summary-SalQ8Q"},g.createElement(vr,{className:"TopPlayedColumnRow-itemTitle-3J-Bbs Link-link-2WGTd7",title:o,to:p},o),g.createElement(vr,{to:(0,zm.Z)(i.machineIdentifier,n,r)},1===c?(0,Ce.Z)("{count} play",{count:1}):(0,Ce.Z)("{count} plays",{count:c})),g.createElement("div",null,1===d?(0,Ce.Z)("{count} user",{count:1}):(0,Ce.Z)("{count} users",{count:d}))))}const upe=[.5,.4,.3,.2,.1,.05];function ppe({className:e,type:t,title:n,items:r=[],activeTimePeriod:i}){const a=0===r.length;return g.createElement("div",{className:e},g.createElement(cpe,{metadataItem:r[0],isEmpty:a,title:n}),a?g.createElement("div",{className:"TopPlayedColumn-emptyItem-1vTVOH TopPlayedColumn-item-1_UiZ5"},function(e){switch(e){case ni.pG.Movie:return(0,Ce.Z)("No Movies Played");case ni.pG.Show:return(0,Ce.Z)("No TV Played");case ni.pG.Artist:return(0,Ce.Z)("No Artists Played");case ni.pG.Game:return(0,Ce.Z)("No Games Played");default:return""}}(t)):r.map(((e,t)=>g.createElement(dpe,{key:e.key,className:"TopPlayedColumn-item-1_UiZ5",style:{backgroundColor:`rgba(0, 0, 0, ${upe[t]})`},metadataItem:e,activeTimePeriod:i}))))}function mpe({moviesStatistics:e,tvStatistics:t,musicStatistics:n,gameStatistics:r,activeTimePeriod:i,isSpinnerVisible:a,showList:s,errorMessage:o}){const l=s&&!o,c=function(e,t,n,r){const i=[{type:ni.pG.Movie,title:(0,Ce.Z)("Movies"),items:e},{type:ni.pG.Show,title:(0,Ce.Z)("TV"),items:t},{type:ni.pG.Artist,title:(0,Ce.Z)("Artists"),items:n}];return r.length>0?i.concat({type:ni.pG.Game,title:(0,Ce.Z)("Games"),items:r}):i}(e,t,n,r);return g.createElement(rce,{className:a?"TopPlayedList-spinnerContainer-3o-4YG TopPlayedList-container-y6cfga ServerDashboardSectionContent-container-3ldxdw":"TopPlayedList-container-y6cfga ServerDashboardSectionContent-container-3ldxdw",isSpinnerVisible:a,errorMessage:o},l?c.map((e=>g.createElement(ppe,{key:e.type,className:"TopPlayedList-column-I4lChp",type:e.type,title:e.title,items:e.items,activeTimePeriod:i}))):null)}function hpe(){const e=(0,v.I0)(),[t]=Hn(),[n,r]=(0,g.useState)(null),[i,a]=(0,g.useState)(vJ.XH.Month),s=(0,g.useMemo)((()=>[vJ.XH.Week,vJ.XH.Month,vJ.XH.NinetyDays,vJ.XH.Year,vJ.XH.AllTime]),[]),{moviesStatistics:o,tvStatistics:l,musicStatistics:c,gameStatistics:d,isPending:u,isPopulated:p,error:m}=(0,v.v9)(ope),h=Ble(u,!0),y=(0,v.v9)(VJ(t.machineIdentifier)),f=(0,g.useCallback)((e=>{r(e)}),[]),b=(0,g.useCallback)((e=>{a(e)}),[]);return(0,g.useEffect)((()=>{e(F$.actions.populateRequested({server:t}))}),[e,t]),(0,g.useEffect)((()=>{e(spe.actions.topPlayedFetchRequested({server:t,accountID:n?n.id:void 0,viewedAt:(0,vJ.xP)(i),limit:6}))}),[i,n,e,t]),(0,g.useEffect)((()=>()=>{e(spe.actions.reset())}),[e]),g.createElement(g.Fragment,null,g.createElement(Fle,{title:(0,Ce.Z)("Top Played")},g.createElement("div",null,g.createElement(Tue,{accounts:y,activeAccount:n,onAccountSelect:f}),g.createElement(Hle,{values:s,activeValue:i,formatter:vJ.dZ,onSelect:b}))),g.createElement(mpe,{moviesStatistics:o,tvStatistics:l,musicStatistics:c,gameStatistics:d,activeTimePeriod:i,isSpinnerVisible:h,showList:!h&&p,errorMessage:m?(0,Ce.Z)("Unable to load statistics"):null}))}const gpe={statistics:[],accounts:[],isPending:!1,isPopulated:!1,error:null},ype=(0,lo.oM)({name:"dashboardTopUsers",initialState:gpe,reducers:{reset:()=>gpe,topUsersFetchRequested(e,t){(0,yd.er)(e)},topUsersFetchSucceeded(e,{payload:t}){(0,yd.vv)(e),e.statistics=t.data.statistics,e.accounts=t.data.accounts},topUsersFetchFailed(e,{payload:t}){(0,yd.VQ)(e,t.error)}}}),vpe=(0,fe.P1)(Kle,(e=>e.topUsers));var fpe=Object.defineProperty,bpe=Object.prototype.hasOwnProperty,Ipe=Object.getOwnPropertySymbols,Spe=Object.prototype.propertyIsEnumerable,Mpe=(e,t,n)=>t in e?fpe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Epe=(e,t)=>{for(var n in t||(t={}))bpe.call(t,n)&&Mpe(e,n,t[n]);if(Ipe)for(var n of Ipe(t))Spe.call(t,n)&&Mpe(e,n,t[n]);return e};const Ppe=[GS.Z.serverDashboardTileRowBackgroundPrimaryColor,GS.Z.serverDashboardTileRowBackgroundSecondaryColor,GS.Z.serverDashboardTileRowBackgroundTertiaryColor,GS.Z.serverDashboardTileRowBackgroundQuaternaryColor];function Dpe(e){return Ui(1e3*e)||(0,Ce.Z)("{1} min",0)}const Cpe=(0,g.memo)((function(e){var t=e,{activeTimePeriod:n,item:r}=t,i=((e,t)=>{var n={};for(var r in e)bpe.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&Ipe)for(var r of Ipe(e))t.indexOf(r)<0&&Spe.call(e,r)&&(n[r]=e[r]);return n})(t,["activeTimePeriod","item"]);const[a]=Hn(),s=oo(Epe(Epe({},i),{moveDurationMilliseconds:0}));if(!r)return null;const{accountID:o,username:l,thumb:c,playCount:d,totalDuration:u,durations:p}=r,m=Object.keys(p).sort(((e,t)=>p[e]>p[t]?-1:p[e]<p[t]?1:0));return g.createElement("div",{style:s.style},g.createElement("div",{className:"TopUsersCell-summaryContainer-KlLaIS"},g.createElement(X2.Z,{className:"TopUsersCell-avatar-LrTfuO AvatarImg-avatar-3gp48Z",serverEntityID:a.entityID,url:c,width:50,height:50}),g.createElement("div",{className:"TopUsersCell-summary-A6hS9R"},g.createElement("div",null,1===d?(0,Ce.Z)("{playCount} play",{playCount:d}):(0,Ce.Z)("{playCount} plays",{playCount:d})),g.createElement("div",null,Dpe(u))),g.createElement(vr,{className:"TopUsersCell-playHistoryLink-3CGFoX Link-link-2WGTd7",to:(0,AJ.Z)(a.machineIdentifier,{filters:`accountID=${o}&viewedAt=${(0,vJ.xP)(n)}`,activeTimePeriod:n})},(0,Ce.Z)("View Play History"))),g.createElement("div",{className:"TopUsersCell-username-3kEZDP TopUsersCell-row-Ti34op",title:l},l),m.map(((e,t)=>g.createElement("div",{key:e,className:"TopUsersCell-metadataRow-2kTaFS TopUsersCell-row-Ti34op",style:{backgroundColor:Ppe[t]}},g.createElement("div",{className:"TopUsersCell-metadataTitle-20f8Xr"},Lue(parseInt(e,10))),g.createElement("div",{className:"TopUsersCell-duration-1UVwM4"},Dpe(p[e]))))))}));var wpe=Object.defineProperty,Zpe=Object.prototype.hasOwnProperty,Tpe=Object.getOwnPropertySymbols,Npe=Object.prototype.propertyIsEnumerable,Ope=(e,t,n)=>t in e?wpe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Ape=(e,t)=>{for(var n in t||(t={}))Zpe.call(t,n)&&Ope(e,n,t[n]);if(Tpe)for(var n of Tpe(t))Npe.call(t,n)&&Ope(e,n,t[n]);return e};const xpe=qh({columnWidth:200,rowHeight:290,innerHorizontalPadding:40});function jpe({activeTimePeriod:e,accounts:t,statistics:n,isSpinnerVisible:r,showList:i,errorMessage:a,targetScrollIndex:s,smoothScroll:o,onListUpdate:l}){const c=(0,g.useMemo)((()=>function(e,t){if(!t)return[];const n=!!t.find((e=>e.metadataType===Aue.Game));return t.reduce(((t,r)=>{const{accountID:i,metadataType:a,count:s,duration:o}=r;if(!(a in Aue)||-1===i)return t;const l=t.findIndex((e=>e.accountID===i)),c=-1!==l;let d;if(c)d=t[l];else{const t=e.find((e=>e.id===i));d={accountID:i,username:null==t?void 0:t.name,thumb:null==t?void 0:t.thumb,playCount:0,totalDuration:0,durations:{[Aue.Movie]:0,[Aue.TV]:0,[Aue.Music]:0,[Aue.Photo]:0}},n&&(d.durations[Aue.Game]=0)}return d.playCount=d.playCount+s,d.totalDuration=d.totalDuration+o,d.durations[a]=d.durations[a]+o,c?t[l]=d:t.push(d),t}),[]).sort(((e,t)=>e.totalDuration>t.totalDuration?-1:e.totalDuration<t.totalDuration?1:0))}(t,n)),[t,n]),d=i&&0===c.length?(0,Ce.Z)("No data"):null,u=a||d,p=i&&!u,m=(0,g.useMemo)((()=>t=>g.createElement(Cpe,Ape(Ape({},t),{activeTimePeriod:e}))),[e]);return g.createElement(rce,{className:r?"TopUsersList-spinnerContainer-8Ml_wv TopUsersList-container-2msq7l ServerDashboardSectionContent-container-3ldxdw":"TopUsersList-container-2msq7l ServerDashboardSectionContent-container-3ldxdw",isSpinnerVisible:r,errorMessage:u},p?g.createElement(Hu,{className:"TopUsersList-listContainer-7XyGhm VirtualListScroller-scroller-2VrU8W Scroller-scroller-3Rbtv0",keyPropName:"accountID",items:c,totalSize:c.length,layout:xpe,cellComponentFactory:m,scrollDirection:Ae.Horizontal,targetScrollIndex:s,smoothScroll:o,onListUpdate:l}):null)}const Lpe="TopUsers-listScrollButton-1vozQT IconButton-iconButton-1kbRFb Link-link-2WGTd7";function kpe(){const e=(0,v.I0)(),[t]=Hn(),n=(0,g.useRef)(null),[r,i]=(0,g.useState)(!1),[a,s]=(0,g.useState)(!1),[o,l]=(0,g.useState)(0),[c,d]=(0,g.useState)(!1),[u,p]=(0,g.useState)(vJ.XH.Week),{accounts:m,statistics:h,isPending:y,isPopulated:f,error:b}=(0,v.v9)(vpe),I=Ble(y,!0),S=(0,g.useMemo)((()=>[vJ.XH.Day,vJ.XH.Week,vJ.XH.Month,vJ.XH.NinetyDays,vJ.XH.Year,vJ.XH.AllTime]),[]),M=(0,g.useCallback)((e=>{p(e)}),[]),E=(0,g.useCallback)((e=>{const{visibleStartIndex:t,visibleEndIndex:r,renderEndIndex:a}=e;n.current=e,i(t>0),s(a>r)}),[]),P=(0,g.useCallback)((()=>{const e=n.current;if(e){const t=e.visibleEndIndex-e.visibleStartIndex;l(Math.max(e.visibleStartIndex-t-1,0)),d(!0)}}),[]),D=(0,g.useCallback)((()=>{const e=n.current;e&&(l(e.visibleEndIndex+1),d(!0))}),[]);return(0,g.useEffect)((()=>{e(ype.actions.topUsersFetchRequested({server:t,timespan:(0,vJ.rG)(u),after:(0,vJ.xP)(u)}))}),[u,e,t]),(0,g.useEffect)((()=>{l(0),d(!1)}),[h]),(0,g.useEffect)((()=>()=>{e(ype.actions.reset())}),[e]),g.createElement("div",{className:"TopUsers-container-n_iDLV"},g.createElement(Fle,{title:(0,Ce.Z)("Top Users")},g.createElement("div",null,g.createElement(Hle,{values:S,activeValue:u,formatter:vJ.dZ,onSelect:M}),g.createElement("div",{className:"TopUsers-listActions-2mok2H"},g.createElement(Ng,{className:Lpe,iconComponent:kg,isDisabled:!r,title:(0,Ce.Z)("Previous Page"),onPress:P}),g.createElement(Ng,{className:Lpe,iconComponent:jg,isDisabled:!a,title:(0,Ce.Z)("Next Page"),onPress:D})))),g.createElement(jpe,{activeTimePeriod:u,accounts:m,statistics:h,isSpinnerVisible:I,showList:!I&&f,errorMessage:b?(0,Ce.Z)("Unable to load statistics"):null,targetScrollIndex:o,smoothScroll:c,onListUpdate:E}))}var Rpe=n(88359),zpe=n(47311);const Upe="ServerDashboardPageUpsell-image-6qzvbi";function Vpe(){const e=(0,v.I0)(),t=(0,g.useCallback)((()=>{(0,fn.c9)((()=>{e((0,AM.LN)({hasDismissedServerDashboardUpsell:!0}))}))}),[e]);return g.createElement("div",{className:"ServerDashboardPageUpsell-upsell-3Znszn"},g.createElement("div",{className:"ServerDashboardPageUpsell-description-2KoCeh"},`${(0,Ce.Z)("Want more data? Get stats like top users, what's popular, and bandwidth usage with the new server Dashboard for Plex Pass holders!")} `,g.createElement(vr,{kind:or.Primary,to:"https://www.plex.tv/plex-pass",target:"_blank"},(0,Ce.Z)("Learn more"))),g.createElement("div",{className:"ServerDashboardPageUpsell-chartImageContainer-3HB1r8"},g.createElement("img",{className:Upe,src:String(Rpe)})),g.createElement("div",{className:"ServerDashboardPageUpsell-listImageContainer-1xKM_D"},g.createElement("img",{className:Upe,src:String(zpe)})),g.createElement(vr,{className:"ServerDashboardPageUpsell-button-2Ltxyx Link-link-2WGTd7",onPress:t},g.createElement(cu.Z,null)))}function Bpe(){const[e]=Hn(),t=e.ownerFeatures.includes(bn.km),n=(0,v.v9)(ra("hasDismissedServerDashboardUpsell"));return g.createElement(g.Fragment,null,t||n?null:g.createElement(Vpe,null),g.createElement(_ue,null,g.createElement(Zue,null)),t?g.createElement(g.Fragment,null,g.createElement(_ue,null,g.createElement(hde,null)),g.createElement(ipe,null),g.createElement(_ue,null,g.createElement(kpe,null)),g.createElement(_ue,null,g.createElement(Fue,null)),g.createElement(_ue,null,g.createElement(hpe,null))):null)}const Fpe=rle.extend({component(e){const t=e.server;return g.createElement(Qn,{machineIdentifier:t.get("machineIdentifier"),providerIdentifier:Fo.Y3},g.createElement(Bpe,null))}});var _pe=n(12319),Hpe=n(36776);const Qpe="backgroundTranscodeJobs",Gpe="syncMetadataItems",Wpe=lC.Z.extend({name:"SyncMetadataModel",entityType:Gpe,entityID(e=this.state){return(0,vn.Z)(this.entityType,e.ratingKey,this.syncItemId,this.server.entityID())},context:["server","device","syncItemId"],cache:new Hpe.Z,cacheKey:function(){const e=lC.Z.prototype.cacheKey.apply(this,arguments);return e+"!"+this.syncItemId}}),Ype=BT.Z.extend({name:"SyncMetadataCollection",context:["server","device","syncItemId"],model:Wpe,url(){return`/sync/items/${this.syncItemId}`},augmentResponseText:(e,t)=>t===iV.Ls?(0,sV.Z)(e):e});var Kpe=n(14205),qpe=n.n(Kpe);const $pe=p.Z.ItemView.extend({tagName:"li",className:"sync-status-list-item",template:qpe(),ui:{poster:".media-poster"},initialize:function(e){this.syncItem=e.syncItem,this.transcodeJobs=this.model.server.get("desktop").get("transcodeJobs"),this.$el.addClass(this.model.get("type")),this.image=new Ile.Z({model:this.model,type:this.model.get("type"),getUrl:this.getPosterUrl,height:50,background:!1}),this.listenTo(this.transcodeJobs,"reset",(function(e){this.model.trigger("change:Media",this.model,this.model.get("Media"))}))},getPosterUrl:function(e){return e||this.model.get("parentThumb")||this.model.get("grandparentThumb")},analyzeTranscodeJobs:function(){var e;return this.transcodeJobs.each(S().bind((function(t){if(this.syncItem.id===t.get("syncItemId")){var n=this.model.get("thumb"),r=this.model.get("title"),i=t.get("transcodeThumb"),a=t.get("title"),s=a&&a.indexOf(r)>-1,o=!0;n&&i&&(o=new RegExp("(.+)"+t.get("thumb")+"$").exec(n)),s&&o&&(e=t)}}),this)),e&&e.get("progress")>0?{active:!0,speed:Math.round(10*e.get("speed"))/10,remaining:Vi(e.get("remaining"))||(0,Ce.Z)("done"),progress:Math.round(10*e.get("progress"))/10,isUploading:"upload"===e.get("type")}:{active:!1}},analyzeParts:function(){var e="complete",t=this.model.get("Media");if(!t.length)return"unknown";for(var n=0,r=t.length;n<r;n++)for(var i=t[n].Part,a=0,s=i.length;a<s;a++){var o=i[a],l=Mle.Z.getSyncStateFromPart(o);Mle.Z.failedRegex.test(l)&&(e=Mle.Z.getSyncStateContextFromPart(o)),Mle.Z.processingRegex.test(l)&&(e="downloading"===l?"downloading":"processing"),Mle.Z.waitingRegex.test(l)&&"processing"!==e&&(e=o.key?"waiting":"processing")}return e},getErrorMessage:function(e){switch(e){case"sourceFileUnavailable":return(0,Ce.Z)("This media is inaccessible. Please check that the file exists with the correct permissions.");case"sourceFileMetadataError":return(0,Ce.Z)("The metadata for this media is invalid. Please reanalyze the media and try again.");case"clientProfileError":return(0,Ce.Z)("The client profile for the sync target is invalid.");case"ioError":return(0,Ce.Z)("An error occurred processing this media. Please check that the disk is not full.");case"transcoderError":return(0,Ce.Z)("The transcoder was unable to process this media.");case"mediaAnalysisError":return(0,Ce.Z)("This media was unable to be analyzed.");case"downloadFailed":return(0,Ce.Z)("This media was unable to be downloaded. Please check that it is still available and try again.");case"unknownError":return(0,Ce.Z)("An error occurred while syncing this media.")}return(0,Ce.Z)("An error occurred while syncing this media.")},bindings:{".title":{modelAttribute:"title"},".subtitle":{modelAttribute:"Media",manual:!0,formatter:function(e){var t=this.analyzeParts(),n=this.analyzeTranscodeJobs();switch(this.$(".subtitle").addClass("hidden"),t){case"complete":this.$(".complete-subtitle").removeClass("hidden");break;case"waiting":this.$(".waiting-subtitle").removeClass("hidden");break;case"downloading":n.active?(this.$(".downloading-subtitle").removeClass("hidden"),this.$(".transcode-progress").text(n.progress)):this.$(".processing-subtitle").removeClass("hidden");break;case"processing":n.active?(this.$(".converting-subtitle").removeClass("hidden"),this.$(".transcode-progress").text(n.progress),this.$(".transcode-remaining").text(n.remaining)):this.$(".processing-subtitle").removeClass("hidden");break;case"unknown":this.$(".unknown-subtitle").removeClass("hidden");break;default:this.$(".failed-subtitle").removeClass("hidden"),this.$(".error-message").text(this.getErrorMessage(t))}}}},onRender:function(){this.image.setElement(this.ui.poster)}}),Jpe=ile.Z.extend({tagName:"ul",className:"list sync-status-list",itemView:$pe});var Xpe=n(21288),eme=n(83273),tme=n.n(eme);const nme=Xpe.Z.extend({name:"syncStatusModal",template:tme(),regions:{list:".sync-status-list-container"},onRender:function(){Xpe.Z.prototype.onRender.apply(this,arguments),this.list.show(new Jpe({collection:this.collection,itemViewOptions:{syncItem:this.model}}))}});var rme=n(91939),ime=n.n(rme);const ame=p.Z.ItemView.extend({className:"modal-body",template:ime(),events:{"click .try-again-link":"onTryAgainClick"},onTryAgainClick:function(e){e.preventDefault(),this.triggerMethod("request:state","form")}});var sme=n(35839),ome=n(45662),lme=n(89318);const cme=S().extend({},lme.Z,{type:"music",qualities:{bitrate:[96,128,192,320]},getNearestIndexToBitrate:function(e){return this.getNearestIndex(this.qualities.bitrate,e)}}),dme=S().extend({},lme.Z,{type:"photo",qualities:{photoResolution:["720x480","1280x720","1920x1080","3840x2160"],photoQuality:[24,49,74,99],title:function(){return[(0,Ce.Z)("Low"),(0,Ce.Z)("Medium"),(0,Ce.Z)("High"),(0,Ce.Z)("Highest")]}},getNearestIndexToQuality:function(e){return this.getNearestIndex(this.qualities.photoQuality,e)}});var ume=n(16902),pme=n.n(ume);const mme=p.Z.ItemView.extend({className:"sync-quality-container form-group",template:pme(),events:{"change select[name=videoQuality]":"onVideoQualityChange","change select[name=musicQuality]":"onMusicQualityChange","change select[name=photoQuality]":"onPhotoQualityChange"},initialize:function(e){var t=(0,b.DB)("appModel").get("user").get("experienceSettings");this.mediaSettings=this.model.get("mediaSettings"),this.mediaSettings.has("audioBoost")||this.mediaSettings.set("audioBoost",t.get("audioBoost")),this.mediaSettings.has("subtitleSize")||this.mediaSettings.set("subtitleSize",t.get("subtitleSize")),this.initVideoQuality(),this.initMusicQuality(),this.initPhotoQuality()},initVideoQuality:function(){this.availableVideoQualities=Qj.Z.getAvailableQualities({lowestQualityIndex:ome.G}).reverse();var e=(0,b.DB)("appModel").get("settings"),t=this.mediaSettings.get("maxVideoBitrate"),n=t?Qj.Z.getNearestIndexToBitrate(t):e.get(Qj.Z.getSyncQualityAttribute());this.updateVideoQuality(Qj.Z.getQualityByIndex(n))},initMusicQuality:function(){this.availableMusicQualities=cme.getAvailableQualities().reverse();var e=(0,b.DB)("appModel").get("settings"),t=this.mediaSettings.get("musicBitrate"),n=t?cme.getNearestIndexToBitrate(t):e.get(cme.getSyncQualityAttribute());this.updateMusicQuality(cme.getQualityByIndex(n))},initPhotoQuality:function(){this.availablePhotoQualities=dme.getAvailableQualities().reverse();var e=(0,b.DB)("appModel").get("settings"),t=this.mediaSettings.get("photoQuality"),n=t?dme.getNearestIndexToQuality(t):e.get(dme.getSyncQualityAttribute());this.updatePhotoQuality(dme.getQualityByIndex(n))},serializeData:function(){return{typeElement:(0,Ac.getMetadataType)(this.model.get("metadataType")).mediaType,supportsOriginalQuality:this.model.server.supports("syncOriginalQuality"),availableVideoQualities:this.availableVideoQualities,selectedVideoQuality:this.selectedVideoQuality,availableMusicQualities:this.availableMusicQualities,selectedMusicQuality:this.selectedMusicQuality,availablePhotoQualities:this.availablePhotoQualities,selectedPhotoQuality:this.selectedPhotoQuality}},updateVideoQuality:function(e){this.selectedVideoQuality=e,this.mediaSettings.set({videoQuality:e.videoQuality,videoResolution:e.videoResolution,maxVideoBitrate:e.bitrate})},updateMusicQuality:function(e){this.selectedMusicQuality=e,this.mediaSettings.set({musicBitrate:e.bitrate})},updatePhotoQuality:function(e){this.selectedPhotoQuality=e,this.mediaSettings.set({photoQuality:e.photoQuality,photoResolution:e.photoResolution})},saveQualityIndex:function(e,t){var n=parseInt(t,10);return(0,b.DB)("appModel").get("settings").save(e.getSyncQualityAttribute(),n),e.getQualityByIndex(n)},onVideoQualityChange:function(e){var t=this.saveQualityIndex(Qj.Z,e.currentTarget.value);this.updateVideoQuality(t)},onMusicQualityChange:function(e){var t=this.saveQualityIndex(cme,e.currentTarget.value);this.updateMusicQuality(t)},onPhotoQualityChange:function(e){var t=this.saveQualityIndex(dme,e.currentTarget.value);this.updatePhotoQuality(t)}});var hme=n(20166),gme=n.n(hme),yme={video:"movie",audio:"track",photo:"photo"};const vme=p.Z.Layout.extend({template:gme(),ui:{submitBtn:".submit-btn"},regions:{policyRegion:".policy-region",qualityRegion:".quality-region"},events:{"change input[name=title]":"onTitleChange","submit #sync-form":"onSubmit"},initialize:function(e){var t=b.DB("appModel");if(this.device=e.device,this.model)this.tempModel=this.model.clone();else{var n,r,i=e.item,a=e.items;i.get("isPlaylist")?(n=i,r=yme[i.get("playlistType")]):i.get("isMetadataList")?(n=i,r=(0,Ac.getLeafType)(i.get("firstItemType")).typeString):(n=i.has("childrenKey")?new qO.Z({containerKey:i.get("childrenKey")},{server:i.server,provider:i.provider}):i,r=(0,Ac.getLeafType)(i.get("type")).typeString),r===Ac.COLLECTION&&(r=i.get("subtype")),this.tempModel=new Ele({metadataType:r,title:fle.Z.title(i,{items:a}),rootTitle:this.getRootTitle(i),machineIdentifier:i.server.id,clientIdentifier:this.device.get("clientIdentifier"),Location:{uri:fle.Z.uri(n,{items:a})}},{parent:i.server,server:t.get("user").server,device:this.device})}},serializeData:function(){return{syncItem:this.tempModel.toJSON(),isNew:this.tempModel.isNew()}},getRootTitle:function(e){return e.section?e.section.get("title"):e.get("title")},onRender:function(){this.policyRegion.show(new sme.Z({model:this.tempModel,isSync:!0})),this.qualityRegion.show(new mme({model:this.tempModel}))},onTitleChange:function(e){this.tempModel.set("title",e.currentTarget.value)},onSubmit:function(e){e.preventDefault();var t=this.ui.submitBtn;if(!t.hasClass("active")){t.addClass("active");var n=this.tempModel.save();n.done(S().bind((function(){if(this.model){var e=this.model.get("version")||0,t=S().omit(this.tempModel.toJSON(),"children");t.version=e+1,this.model.set(this.model.parse(t))}}),this)),(n=n.then(S().bind((function(){return vle.Z.execute("refreshSyncLists",{server:this.tempModel.parent,silent:!0})}),this))).done(this.whenRendered((function(){this.trigger("request:nextState")}))),n.fail(this.whenRendered((function(){this.trigger("request:state","error")})))}}});var fme=n(98915),bme=n.n(fme);const Ime=p.Z.ItemView.extend({className:"modal-body",template:bme(),events:{"click .status-link":"onStatusClick"},onStatusClick:function(e){e.preventDefault(),this.triggerMethod("request:nextState"),(0,nle.Z)("serverSettingsStatusSync",{machineIdentifier:this.options.server.id,deviceID:this.options.device.id})}});var Sme=n(24740),Mme=n.n(Sme);const Eme=Xpe.Z.extend({mixins:[de.Z],name:"syncModal",className:"convert-modal modal fade",template:Mme(),regions:{bodyRegion:".modal-body-region"},initialize:function(e){Xpe.Z.prototype.initialize.apply(this,arguments),this.device=this.model?this.model.device:e.device},initialState:"form",states:{form:{nextState:"success",onEnter:function(){this.bodyRegion.show(new vme({model:this.model,item:this.options.item,items:this.options.items,device:this.device})),this.listenForStateRequests()}},success:{onEnter:function(){this.model?this.hide():(this.bodyRegion.show(new Ime({server:this.options.item.server,device:this.device})),this.listenForStateRequests())}},error:{onEnter:function(){this.bodyRegion.show(new ame),this.listenForStateRequests()}}},listenForStateRequests:function(){this.bodyRegion&&this.bodyRegion.currentView&&this.listenTo(this.bodyRegion.currentView,{"request:state":this.enterState,"request:nextState":this.enterNextState})},onRender:function(){Xpe.Z.prototype.onRender.apply(this,arguments),this.enterNextState()},onStateMachineComplete:function(){this.hide()}});var Pme=n(68070),Dme=n.n(Pme);const Cme=p.Z.Layout.extend({tagName:"li",className:"poster-item media-tile-list-item sync-tile-list-item",template:Dme(),metadataItemsDelay:5e3,ui:{poster:".media-poster",transcodeStatus:".sync-status-transcode",transcodeTimeRemaining:".media-context",statusIcons:".sync-status-icon",completeIcon:".sync-complete-icon",waitingIcon:".sync-waiting-icon",processingIcon:".sync-processing-icon",failedIcon:".sync-failed-icon",unknownIcon:".sync-unknown-icon"},regions:{transcodeProgress:".sync-status-transcode"},events:{"click a":"onClick","click .edit-btn":"onEditClick","click .delete-btn":"onDeleteClick"},onlyAfterRender:["onMetadataItemsReset","onMediaChange","onTranscodeJobsReset"],initialize:function(e){this.server=e.server,this.model.parent=this.server,this.type=this.model.get("metadataType"),this.contentType=this.model.get("contentType");var t=this.type,n=this.contentType,r=150;"episode"===t?t="show":"clip"===t?r=250:"directory"===t&&(t="audio"===n?"track":"photo"===n?"photo":"movie"),this.$el.addClass(t),this.image=new Ile.Z({server:this.server,type:t,width:r}),this.progressModel=new ple.ZP.Model({current:0});var i=this.server.get("desktop").get("transcodeJobs");this.metadataItems=new Ype([],{server:this.server,device:this.model.device,syncItemId:this.model.id}),this.listenTo(this.metadataItems,"reset",this.onMetadataItemsReset),this.listenTo(i,"reset",this.onTranscodeJobsReset),this.metadataItems.fetch({reset:!0}),this.server.supports("syncNotifications")?this.listenTo(this.metadataItems,"change:Media",this.onMediaChange):this.metadataItemsInterval=window.setInterval(S().bind((function(){this.metadataItems.fetch({reset:!0})}),this),this.metadataItemsDelay)},serializeData:function(){return{syncItem:this.model.toJSON(),isFailure:!!this.model.get("status").get("failure")}},getPosterUrl:function(e){var t=e.get("thumb");return this.hasMultipleItems?this.hasSameParents?e.get("parentThumb")||e.get("grandparentThumb")||t:this.hasSameGrandparents?e.get("grandparentThumb")||e.get("parentThumb")||t:void 0:t},updatePoster:function(e){if(this.hasPoster=!0,!e){var t=this.metadataItems.first();if(!t)return;e=this.getPosterUrl(t)}this.image.url!==e&&(this.image.src=null,this.image.url=e,this.image.render())},analyzeParts:function(e){if(this.model.get("status").get("failure"))return"failed";var t=e.models,n=t.length;if(!n)return"unknown";for(var r="complete",i=[],a=[],s=0;s<n;s++){var o=t[s],l=o.get("Media");if(i.push(o.get("grandparentKey")),a.push(o.get("parentKey")),l.length||(r="unknown"),"failed"!==r&&"unknown"!==r)for(var c=0,d=l.length;c<d;c++)for(var u=l[c].Part,p=0,m=u.length;p<m;p++){var h=u[p],g=Mle.Z.getSyncStateFromPart(h);Mle.Z.failedRegex.test(g)&&(r="failed"),Mle.Z.processingRegex.test(g)&&(r="processing"),Mle.Z.waitingRegex.test(g)&&"processing"!==r&&(r=h.key?"waiting":"processing")}}return this.hasMultipleItems=n>1,this.hasSameGrandparents=1===S().compact(S().uniq(i)).length,this.hasSameParents=1===S().compact(S().uniq(a)).length,this.hasPoster||this.updatePoster(),r},bindings:{".media-title":{modelAttribute:"title"},".media-subtitle-1":{modelAttribute:"rootTitle"}},onRender:function(){this.image.setElement(this.ui.poster),this.transcodeProgress.append(new Cle({model:this.progressModel,size:56}))},onClose:function(){window.clearInterval(this.metadataItemsInterval)},onMetadataItemsReset:function(e){var t=this.analyzeParts(e);if(this.ui.statusIcons.addClass("hidden"),this.ui.transcodeStatus.hasClass("hidden"))switch(t){case"complete":this.ui.completeIcon.removeClass("hidden");break;case"waiting":this.ui.waitingIcon.removeClass("hidden");break;case"processing":this.ui.processingIcon.removeClass("hidden");break;case"failed":this.ui.failedIcon.removeClass("hidden");break;default:this.ui.unknownIcon.removeClass("hidden")}},onMediaChange:function(e,t){this.onMetadataItemsReset(this.metadataItems)},onTranscodeJobsReset:function(e){var t=e.where({syncItemId:this.model.id});if(!t.length)return this.ui.transcodeStatus.hasClass("hidden")||(this.ui.transcodeStatus.addClass("hidden"),this.ui.waitingIcon.removeClass("hidden")),this.ui.transcodeTimeRemaining.text(""),void this.updatePoster();var n=t[0],r=n.get("progress");if(this.ui.statusIcons.addClass("hidden"),r>0){this.ui.transcodeStatus.removeClass("hidden");var i=n.get("type"),a=Vi(n.get("remaining"));if(this.progressModel.set("progress",r),"download"===i)this.progressModel.set("text",r.toString()+"%"),this.ui.transcodeTimeRemaining.text((0,Ce.Z)("Downloading"));else if("upload"===i)this.progressModel.set("text",r.toString()+"%"),this.ui.transcodeTimeRemaining.text((0,Ce.Z)("Uploading"));else{if(n.get("speed")){var s=Math.round(10*n.get("speed"))/10;s>10&&(s=Math.round(s)),this.progressModel.set("text",s.toString()+"x")}else this.progressModel.set("text","");this.ui.transcodeTimeRemaining.text(a)}this.updatePoster(n.get("thumb"))}else this.ui.transcodeStatus.addClass("hidden"),this.ui.processingIcon.removeClass("hidden")},onClick:function(e){e.preventDefault(),le.Z.trigger("show:modal",new nme({model:this.model,collection:this.metadataItems}))},onEditClick:function(e){e.stopImmediatePropagation(),e.preventDefault(),le.Z.trigger("show:modal",new Eme({model:this.model}))},onDeleteClick:function(e){e.stopImmediatePropagation(),e.preventDefault(),vle.Z.execute("deleteSyncItem",{syncItem:this.model,server:this.server})}}),wme=ile.Z.extend({tagName:"ul",className:"tile-list media-tile-list sync-tile-list show-context",itemView:Cme});var Zme=n(10129),Tme=n.n(Zme);const Nme=p.Z.Layout.extend({className:"sync-device-items-container",template:Tme(),ui:{loading:".row-loading",empty:".sync-empty-message",deviceMessage:".sync-device-message",deviceMessageText:".sync-device-message-text"},regions:{list:".sync-item-list-container"},onlyAfterRender:["onDebouncedSyncItemsChange"],initialize(e){this.server=e.server,this.onDebouncedSyncItemsChange=S().debounce(this.onDebouncedSyncItemsChange,100),this.listenTo(this.model,{"change:syncList":this.onSyncListChange,"change:syncList.change:syncItems.reset":this.onDebouncedSyncItemsChange,"change:syncList.change:syncItems.update":this.onDebouncedSyncItemsChange}),this.fetchSyncList()},fetchSyncList(){const e=this.model.get("syncList");e&&e.fetch().always(this.onDebouncedSyncItemsChange)},onSyncListChange(){this.fetchSyncList()},onDebouncedSyncItemsChange(){const e=this.model.get("syncList");let t;e&&(t=e.clone(),t.resetToServer(this.server.id)),this.ui.loading.addClass("hidden");const n=!t||0===t.getCollection().length;this.ui.empty.toggleClass("hidden",!n);const r=!t||t.get("isActive");if(this.ui.deviceMessage.toggleClass("hidden",r),!r){const e=t.device,n=e.get("lastSeenAt");n&&this.ui.deviceMessageText.text((0,Ce.Z)("{1} was last seen {2}. Syncing will resume next time you launch Plex on this device.",e.get("name"),(0,mi.Z)(n)))}t?this.list.show(new wme({collection:t.getCollection(),itemViewOptions:{server:this.server}})):this.list.close()}});var Ome=n(33588),Ame=n.n(Ome);const xme=p.Z.Layout.extend({className:"sync-container",template:Ame(),transcodeJobDelay:2e3,ui:{devices:".nav a"},regions:{filterBar:".filter-bar",container:".sync-device-container"},modelEvents:{"change:shared":"onSharedChange"},events:{"click .dropdown-menu a":"onDeviceDropdownClick","click .nav a":"onDeviceClick","click .edit-btn":"onEditClick","click .refresh-btn":"onRefreshClick"},initialize:function(e){var t=b.DB("appModel");this.selectedDevice=e.selectedDevice,this.user=t.get("user"),this.shared=this.model.get("shared"),this.transcodeJobs=this.model.get("desktop").get("transcodeJobs"),this.allowSync=this.model.get("allowSync"),this.signedIn=this.model.get("myPlexSigninState")===_pe.Hq,this.collection.length&&(this.selectedDevice||(this.selectedDevice=this.collection.first()),this.fetchTranscodeJobs())},serializeData:function(){return{showDeviceDropdown:this.collection.length>0,shared:this.shared,hasTouchScreen:se.Z.hasTouchScreen,signedIn:this.signedIn,allowSync:this.allowSync,sync:this.model.get("sync"),selectedDevice:this.selectedDevice?this.selectedDevice.toJSON():null,devices:this.collection.toJSON(),plexPassInfo:this.getPlexPassInfo()}},fetchTranscodeJobs:function(){this.transcodeJobs.fetch({reset:!0}),this.transcodeJobTimeout=window.setTimeout(S().bind(this.fetchTranscodeJobs,this),this.transcodeJobDelay)},showList:function(){this.selectedDevice?this.container.show(new Nme({model:this.selectedDevice,server:this.model})):this.container.close()},getPlexPassInfo:function(){return this.signedIn||this.shared?{url:this.user.server.get("plexPassUrl"),message:(0,Ce.Z)("The server needs a Plex Pass to use sync."),buttonText:(0,Ce.Z)("Learn More"),target:"_blank",showButton:!this.shared}:{url:(0,Nv.Z)(this.model.id,"settings","general"),message:(0,Ce.Z)("The server needs to be signed in with a Plex Pass to use sync."),buttonText:(0,Ce.Z)("Sign In"),target:"_self",showButton:!0}},onRender:function(){this.allowSync&&this.showList()},onClose:function(){window.clearTimeout(this.transcodeJobTimeout)},onSharedChange:function(e,t){this.shared=t,this.render()},onDeviceDropdownClick:function(e){e.preventDefault();const t=h()(e.currentTarget).data("id");this.selectedDevice=this.collection.get(t),(0,nle.Z)("serverSettingsStatusSync",{machineIdentifier:this.model.id,deviceID:t},!0),this.render()},onDeviceClick:function(e){e.preventDefault();var t=h()(e.currentTarget),n=t.data("id");this.ui.devices.removeClass("selected"),t.addClass("selected"),this.selectedDevice=this.collection.get(n),this.showList()},onEditClick:function(e){e.preventDefault(),h()(e.currentTarget).toggleClass("selected"),this.$el.toggleClass("force-hover")},onRefreshClick:function(e){e.preventDefault();var t=vle.Z.execute("refreshSyncLists",{server:this.model});this.selectedDevice&&t.always(this.whenRendered((function(){this.selectedDevice.get("syncList").fetch()})))}});var jme=n(92187);function Lme(){return(0,fe.P1)((0,LT.Z)(),(e=>e.v4.core.serverNowPlayingSessions),((e,t)=>{var n;if(!e)return 0;const r=t[e.machineIdentifier],i=null==r?void 0:r.sessionKeys;return null!=(n=null==i?void 0:i.length)?n:0}))}var kme=n(67145);const Rme=(0,Dn.Z)((function(e){return(0,fe.P1)(Cn.Z,Ln(e),((e,t)=>{const n=t.providers.find((t=>(0,kme.Z)(e[t])));return n?e[n]:Zn}))}));function zme({errorMessage:e}){return g.createElement("div",{className:"FormSectionError-sectionError-2OJqtw"},g.createElement(we.Z,{className:"FormSectionError-sectionErrorIcon-3HK1aD"}),e||(0,Ce.Z)("There was a problem saving your changes."))}var Ume,Vme,Bme,Fme,_me,Hme,Qme,Gme,Wme,Yme,Kme,qme,$me=n(99317);function Jme(e){return/^[a-z]:\\|\\\\/i.test(e)&&(e=e.replace(/\\/g,"/")),/^(\/|[a-z]:\/)/i.test(e)&&(e=e.replace(/\/(.+?)(?=\/|$)/g,((e,t)=>`/${encodeURIComponent(t)}`))),"/"===e.charAt(0)&&(e=e.substring(1)),/^[a-z]+?:\/\//i.test(e)&&(e=encodeURIComponent(e)),e}(Vme=Ume||(Ume={})).BackupDatabase="general.db.backup",Vme.CleanBundles="general.bundle.clean",Vme.GrabberGrab="grabber.grab",Vme.GrabberAssimilate="grabber.assimilate",Vme.LibraryDelete="library.delete",Vme.LibraryUpdateSection="library.update.section",Vme.LibraryRefreshItems="library.refresh.items",Vme.MediaGenerateBIF="media.generate.bif",Vme.MediaGenerateChapterThumbs="media.generate.chapter.thumbs",Vme.MediaGenerateIntros="media.generate.intros",Vme.OptimizeDatabase="general.db.optimize",Vme.ProviderDeviceChannelScan="provider.device.channelscan",Vme.ProviderEpgLineupScan="provider.epg.lineupscan",Vme.ProviderEpgLoad="provider.epg.load",Vme.ProviderSubscriptionsProcess="provider.subscriptions.process",Vme.ProviderSubscriptionRefresh="provider.subscription.refresh",Vme.SubtitleDownload="subtitle.download",(Fme=Bme||(Bme={}))[Fme.Regions=0]="Regions",Fme[Fme.PostalCode=1]="PostalCode",Fme[Fme.SinglePostalCode=2]="SinglePostalCode",(Hme=_me||(_me={})).Dead="dead",Hme.Alive="alive",(Gme=Qme||(Qme={})).Disabled="disabled",Gme.Enabled="enabled",(Yme=Wme||(Wme={})).Unknown="-1",Yme.Antenna="0",Yme.Cable="1",Yme.Satellite="2",(qme=Kme||(Kme={}))[qme.Unknown=-1]="Unknown",qme[qme.OverTheAir=0]="OverTheAir",qme[qme.Cable=1]="Cable",qme[qme.Satellite=2]="Satellite",qme[qme.IPTV=3]="IPTV",qme[qme.Virtual=4]="Virtual";var Xme=Object.defineProperty,ehe=Object.prototype.hasOwnProperty,the=Object.getOwnPropertySymbols,nhe=Object.prototype.propertyIsEnumerable,rhe=(e,t,n)=>t in e?Xme(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ihe=(e,t)=>{for(var n in t||(t={}))ehe.call(t,n)&&rhe(e,n,t[n]);if(the)for(var n of the(t))nhe.call(t,n)&&rhe(e,n,t[n]);return e};const ahe={channels:[],isPending:!1,isPopulated:!1,error:null},she={dvr:void 0,isPending:!1,isPopulated:!1,error:null},ohe={mediaGrabberDevices:[],isPending:!1,isPopulated:!1,error:null},lhe={devices:ohe,epgDownloadActivityID:void 0,selectedDevice:void 0,selectedDVR:she,channelsByDeviceKey:{},hasScannedChannels:!1,isSavingDVR:!1,isDeletingDVR:!1,isAddingDevice:!1,isDiscoveringDevices:!1,isSavingChannelMappings:!1,isCancellingChannelScan:!1,isCancellingReloadGuide:!1,channelMappingsSaveError:null,setupErrorMessage:null};function che(e,{payload:t}){const{activity:n}=t;if(n.type!==Ume.ProviderDeviceChannelScan)return;const r=100===(null==n?void 0:n.progress);e.hasScannedChannels=r,e.isCancellingChannelScan&&r&&(e.isCancellingChannelScan=!1)}const dhe=(0,lo.oM)({name:"dvrSetup",initialState:lhe,reducers:{reset:()=>lhe,setupReset(e){e.devices=ohe,e.selectedDevice=void 0,e.hasScannedChannels=!1,e.isSavingDVR=!1,e.isAddingDevice=!1,e.isDiscoveringDevices=!1,e.isSavingChannelMappings=!1,e.channelMappingsSaveError=null,e.setupErrorMessage=null},setupErrorMessageAdded(e,{payload:t}){e.setupErrorMessage=t.message},setupErrorMessageRemoved(e,t){e.setupErrorMessage=null},devicesDiscoverRequested(e,t){e.isDiscoveringDevices=!0},devicesDiscoverSucceeded(e,{payload:t}){e.isDiscoveringDevices=!1;const{mediaGrabberDevices:n}=e.devices;for(let e=0;e<t.data.length;e++){const r=t.data[e],i=n.find((e=>r.uuid===e.uuid));i?(i.state=r.state,i.status=r.status,i.parentID=r.parentID):n.push(r)}},devicesDiscoverFailed(e,t){e.isDiscoveringDevices=!1},devicesFetchRequested({devices:e},t){(0,yd.er)(e)},devicesFetchSucceeded({devices:e},{payload:t}){(0,yd.vv)(e),e.mediaGrabberDevices=t.data},devicesFetchFailed({devices:e},{payload:t}){(0,yd.VQ)(e,t.error)},deviceChannelsFetchRequested(e,{payload:t}){let n=e.channelsByDeviceKey[t.deviceKey];n?(n.channels=[],n.isPopulated=!1):(n=ihe({},ahe),e.channelsByDeviceKey[t.deviceKey]=n),e.setupErrorMessage=null,(0,yd.er)(n)},deviceChannelsFetchSucceeded(e,{payload:t}){const n=e.channelsByDeviceKey[t.deviceKey];(0,yd.vv)(n),n.channels=t.data},deviceChannelsFetchFailed(e,{payload:t}){let n=e.channelsByDeviceKey[t.deviceKey];n||(n=ihe({},ahe),e.channelsByDeviceKey[t.deviceKey]=n),(0,yd.VQ)(n,t.error)},deviceChannelsScanRequested(e,t){e.hasScannedChannels=!1},deviceChannelsScanFailed(e,t){e.hasScannedChannels=!0},deviceChannelsCancelScanRequested(e,t){e.isCancellingChannelScan=!0},deviceChannelsCancelScanFailed(e,t){e.isCancellingChannelScan=!1},deviceSelected(e,{payload:t}){const n=e.devices.mediaGrabberDevices.find((e=>e.key===t.deviceKey));n&&(e.selectedDevice=n)},deviceSourceSelected({devices:e},{payload:t}){const n=e.mediaGrabberDevices.find((e=>e.key===t.deviceKey));n&&(n.source=t.source)},deviceChannelMappingsSaveRequested(e,t){e.isSavingChannelMappings=!0,e.channelMappingsSaveError=null},deviceChannelMappingsSaveSucceeded(e,t){e.isSavingChannelMappings=!1,e.channelMappingsSaveError=null},deviceChannelMappingsSaveFailed(e,{payload:t}){e.isSavingChannelMappings=!1,e.channelMappingsSaveError=t.error},deviceEnableRequested(e,t){},deviceEnableSucceeded(e,{payload:t}){const n=e.devices.mediaGrabberDevices.find((e=>e.key===t.deviceKey));n&&(n.state=t.enabled?Qme.Enabled:Qme.Disabled,n.title=t.title)},deviceEnableFailed(e,t){},deviceAddRequested(e,t){e.isAddingDevice=!0},deviceAddSucceeded(e,{payload:t}){e.setupErrorMessage=null,e.isAddingDevice=!1;const n=e.devices.mediaGrabberDevices.find((e=>e.key===t.data.key));n?Object.assign(n,t.data):e.devices.mediaGrabberDevices.push(t.data)},deviceAddFailed(e,t){e.isAddingDevice=!1},dvrFetchRequested(e,t){e.setupErrorMessage=null,(0,yd.er)(e.selectedDVR)},dvrFetchSucceeded({selectedDVR:e,devices:t},{payload:n}){const{dvr:r}=n;(0,yd.vv)(e),e.dvr=r,(null==r?void 0:r.Device)&&((0,yd.vv)(t),t.mediaGrabberDevices=r.Device)},dvrFetchFailed(e,{payload:t}){(0,yd.VQ)(e.selectedDVR,t.error),e.setupErrorMessage=(0,Ce.Z)("There was a problem fetching your DVR. Please try again later.")},dvrSaveRequested(e,t){e.setupErrorMessage=null,e.isSavingDVR=!0},dvrSaveSucceeded(e,{payload:t}){(0,yd.vv)(e.selectedDVR),e.epgDownloadActivityID=t.activityUUID,e.isSavingDVR=!1,e.selectedDVR.dvr=t.dvr},dvrSaveFailed(e,{payload:t}){(0,yd.VQ)(e.selectedDVR,t.error),e.isSavingDVR=!1},dvrDeleteRequested(e,t){e.isDeletingDVR=!0},dvrDeleteSucceeded(e,t){e.selectedDVR=she,e.isDeletingDVR=!1},dvrDeleteFailed(e,t){e.isDeletingDVR=!1},addDVRDeviceRequested(e,t){e.setupErrorMessage=null,e.isSavingDVR=!0},addDVRDeviceSucceeded(e,{payload:t}){(0,yd.vv)(e.selectedDVR),e.epgDownloadActivityID=t.activityUUID,e.isSavingDVR=!1,e.selectedDVR.dvr=t.dvr},addDVRDeviceFailed(e,{payload:t}){(0,yd.VQ)(e.selectedDVR,t.error),e.isSavingDVR=!1},removeDVRDeviceRequested(e,t){},removeDVRDeviceSucceeded(e,t){var n,r;(null==(r=null==(n=e.selectedDVR)?void 0:n.dvr)?void 0:r.Device)&&(e.selectedDVR.dvr.Device=e.selectedDVR.dvr.Device.filter((e=>e.key!==t.payload.deviceKey))),e.devices.mediaGrabberDevices=e.devices.mediaGrabberDevices.filter((e=>e.key!==t.payload.deviceKey))},removeDVRDeviceFailed(e,t){},cancelReloadGuide(e){e.isCancellingReloadGuide=!0}},extraReducers:e=>{e.addCase(vl.actions.activityStarted,che).addCase(vl.actions.activityUpdated,che).addCase(vl.actions.activityFinished,((e,t)=>{t.payload.activity.type===Ume.ProviderEpgLoad?e.isCancellingReloadGuide=!1:t.payload.activity.uuid===e.epgDownloadActivityID?e.epgDownloadActivityID=void 0:che(e,t)}))}});var uhe=Object.defineProperty,phe=Object.prototype.hasOwnProperty,mhe=Object.getOwnPropertySymbols,hhe=Object.prototype.propertyIsEnumerable,ghe=(e,t,n)=>t in e?uhe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,yhe=(e,t)=>{for(var n in t||(t={}))phe.call(t,n)&&ghe(e,n,t[n]);if(mhe)for(var n of mhe(t))hhe.call(t,n)&&ghe(e,n,t[n]);return e};const vhe={mappings:[],isPending:!1,isPopulated:!1,error:null},fhe={channelsByLineupUUID:{},isPending:!1,isPopulated:!1,error:null},bhe={epgLineupGroups:[],isPending:!1,isPopulated:!1,error:null},Ihe={channelMappings:vhe,lineupChannels:fhe,countries:{epgCountries:[],isPending:!1,isPopulated:!1,error:null},languages:{epgLanguages:[],isPending:!1,isPopulated:!1,error:null},regions:{epgCountryRegions:[],isPending:!1,isPopulated:!1,error:null},lineupGroups:bhe,selectedCountry:void 0,selectedLanguage:void 0,selectedRegion:void 0,selectedLineupGroups:[],postalCode:""},She=(0,lo.oM)({name:"epgSettings",initialState:Ihe,reducers:{reset:()=>Ihe,channelMappingsFetchRequested({lineupChannels:e,channelMappings:t},n){(0,yd.er)(e),(0,yd.er)(t)},channelMappingsFetchSucceeded({channelMappings:e,lineupChannels:t,selectedLineupGroups:n},{payload:r}){e.mappings=r.channelMappings,(0,yd.vv)(e),r.lineupChannels.forEach((({uuid:e,Channel:n})=>{t.channelsByLineupUUID[e]=null!=n?n:[]})),(0,yd.vv)(t),n.forEach((e=>{e.isChannelMappingsFetched=!0}))},channelMappingsFetchFailed({channelMappings:e,lineupChannels:t},{payload:n}){(0,yd.VQ)(e,n.error),(0,yd.VQ)(t,n.error)},channelMappingChanged({channelMappings:e},{payload:t}){const n=t,{index:r}=n,i=((e,t)=>{var n={};for(var r in e)phe.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&mhe)for(var r of mhe(e))t.indexOf(r)<0&&hhe.call(e,r)&&(n[r]=e[r]);return n})(n,["index"]),a=e.mappings[r];Object.assign(a,i)},epgLineupGroupFetchRequested({lineupGroups:e},t){(0,yd.er)(e)},epgLineupGroupFetchSucceeded({lineupGroups:e},{payload:t}){(0,yd.vv)(e),e.epgLineupGroups.push({uuid:t.data.uuid,epgLineups:t.data.epgLineups})},epgLineupGroupFetchFailed({lineupGroups:e},{payload:t}){(0,yd.VQ)(e,t.error)},bestEPGLineupSearchRequested(e,t){},bestEPGLineupSearchSucceeded({selectedLineupGroups:e},{payload:t}){const n=e.find((e=>e.uuid===t.lineupGroup.uuid));n&&(n.activityUUID=t.data,n.isSelectedLineupPending=!0)},bestEPGLineupSearchFailed(e,t){},selectedLineupSelected({selectedLineupGroups:e},{payload:t}){const n=e.find((e=>e.uuid===t.lineupGroupUUID));if(n){const e=n.epgLineups.find((e=>e.uuid===t.selectedLineupUUID));n.selectedLineup=e}},selectedEPGLineupGroupAddRequested(e,t){},selectedEPGLineupGroupAddSucceeded({selectedLineupGroups:e},{payload:t}){e.push(yhe(yhe({},t.lineupGroup),{activityUUID:void 0,selectedLineup:void 0,isChannelMappingsFetched:!1,isSelectedLineupPending:!1,isSelectedLineupPopulated:!1}))},selectedEPGLineupGroupRemoved(e,{payload:t}){e.selectedLineupGroups=e.selectedLineupGroups.filter((e=>e.uuid!==t.lineupGroupUUID))},xmltvSelectedEPGLineupGroupAdded({selectedLineupGroups:e},{payload:t}){const{path:n,title:r}=t,i=Jme(n),a={uuid:`lineup://${Fo.zY}/${i}#${encodeURIComponent(r)}`,title:r,lineupType:Kme.Virtual},s={uuid:`xmltv-${(0,$me.Z)()}`,epgLineups:[a],activityUUID:void 0,selectedLineup:a,isChannelMappingsFetched:!1,isSelectedLineupPending:!1,isSelectedLineupPopulated:!0};e.push(s)},selectedDVRLineupChannelsFetchRequested({lineupChannels:e},t){(0,yd.er)(e)},selectedDVRLineupChannelsFetchSucceeded({lineupChannels:e},{payload:t}){t.lineupChannels.forEach((({uuid:t,Channel:n})=>{e.channelsByLineupUUID[t]=null!=n?n:[]})),(0,yd.vv)(e)},selectedDVRLineupChannelsFetchFailed({lineupChannels:e},{payload:t}){(0,yd.VQ)(e,t.error)},epgCountriesFetchRequested({countries:e},t){(0,yd.er)(e)},epgCountriesFetchSucceeded({countries:e},{payload:t}){(0,yd.vv)(e),e.epgCountries=t.data},epgCountriesFetchFailed({countries:e},{payload:t}){(0,yd.VQ)(e,t.error)},epgCountrySelected(e,{payload:t}){const n=e.countries.epgCountries.find((e=>e.code===t.countryCode));e.selectedCountry=n,e.selectedRegion=void 0,e.postalCode=void 0},epgCountryRegionSelected(e,{payload:t}){const n=e.regions.epgCountryRegions.find((e=>e.key===t.regionKey));e.selectedRegion=n},epgCountryRegionsFetchRequested({regions:e},t){(0,yd.er)(e)},epgCountryRegionsFetchSucceeded({regions:e},{payload:t}){(0,yd.vv)(e),e.epgCountryRegions=t.data},epgCountryRegionsFetchFailed({regions:e},{payload:t}){(0,yd.VQ)(e,t.error)},epgLanguagesFetchRequested({languages:e},t){(0,yd.er)(e)},epgLanguagesFetchSucceeded({languages:e},{payload:t}){(0,yd.vv)(e),e.epgLanguages=t.data},epgLanguagesFetchFailed({languages:e},{payload:t}){(0,yd.VQ)(e,t.error)},epgLanguageSelected(e,{payload:t}){const n=e.languages.epgLanguages.find((e=>e.code===t.languageCode));e.selectedLanguage=n},epgPostalCodeChanged(e,{payload:t}){e.postalCode=t.postalCode}},extraReducers(e){e.addCase(dhe.actions.setupReset,(e=>{e.channelMappings=vhe,e.lineupChannels=fhe,e.lineupGroups=bhe,e.selectedRegion=void 0,e.selectedLineupGroups=[],e.postalCode=""})).addCase(vl.actions.activityFinished,((e,{payload:t})=>{const{activity:n}=t;if(n.type===Ume.ProviderEpgLineupScan){const t=e.selectedLineupGroups.find((e=>e.activityUUID===n.uuid));if(t){const e=t.epgLineups.find((e=>e.uuid===n.Response.lineup));t.activityUUID=void 0,t.selectedLineup=e,t.isSelectedLineupPending=!1,t.isSelectedLineupPopulated=!0}}}))}}),Mhe=(0,fe.P1)(fo,(e=>e.dvrManagement)),Ehe=(0,fe.P1)(Mhe,(e=>e.epgSettings));function Phe({isDisabled:e,hasError:t}){const n=(0,v.I0)(),{selectedRegion:r,regions:{epgCountryRegions:i}}=(0,v.v9)(Ehe),a=i.length>0,s=(0,g.useMemo)((()=>i.map((e=>({value:e.key,label:e.title})))),[i]),o=(0,g.useCallback)((e=>{n(She.actions.epgCountryRegionSelected({regionKey:e.currentTarget.value}))}),[n]);return a?g.createElement(g.Fragment,null,g.createElement(mP,{className:"DVRSetupCountryRegionSelectInput-label-3Hffv_ FormLabel-label-lDFbdu",hasError:t},(0,Ce.Z)("Region")),g.createElement(tm,{name:"regionSelect",value:null==r?void 0:r.key,isDisabled:e,hasError:t,onChange:o},g.createElement("option",{value:""},(0,Ce.Z)("Select Region")),s.map((({value:e,label:t})=>g.createElement("option",{key:e,value:e},t))))):null}function Dhe({deviceKey:e,isActive:t,isDisabled:n,hasError:r,onEdit:i}){var a;const s=(0,v.I0)(),[o]=Hn(),{selectedCountry:l,countries:{epgCountries:c,isPending:d,isPopulated:u,error:p}}=(0,v.v9)(Ehe),[m,h]=(0,g.useState)(!1),y=null!=(a=null==l?void 0:l.code)?a:"",f=(0,g.useMemo)((()=>c.map((e=>({value:e.code,label:e.title})))),[c]),b=(0,g.useCallback)((e=>{s(She.actions.epgCountrySelected({countryCode:e.currentTarget.value}))}),[s]),I=(0,g.useCallback)((()=>{null==i||i(e)}),[e,i]);(0,g.useEffect)((()=>{const{countryCode:e}=o;u&&(!y&&e?s(She.actions.epgCountrySelected({countryCode:e})):h(!0))}),[o,y,u,h,s]),(0,g.useEffect)((()=>{y&&!m&&h(!0)}),[y,m,h]),(0,g.useEffect)((()=>{if(l){const{flavor:e}=l;e===Bme.Regions?s(She.actions.epgCountryRegionsFetchRequested({server:o,country:l})):e===Bme.SinglePostalCode&&s(She.actions.epgPostalCodeChanged({postalCode:l.example}))}}),[s,l,o]),(0,g.useEffect)((()=>{u||s(She.actions.epgCountriesFetchRequested({server:o}))}),[s,u,o]);const S=t||!y?g.createElement(tm,{name:"countrySelect",value:y,isDisabled:n,hasError:r,onChange:b},g.createElement("option",{value:""},(0,Ce.Z)("Select Country")),f.map((({value:e,label:t},n)=>g.createElement("option",{key:n,value:e},t)))):g.createElement("div",{className:"DVRSetupCountrySelectInput-edit-3H5toZ"},null==l?void 0:l.title,n?null:g.createElement(vr,{kind:or.Primary,onPress:I},(0,Ce.Z)("Edit")));return g.createElement(g.Fragment,null,g.createElement(mP,{className:"DVRSetupCountrySelectInput-label-1mw3Jn FormLabel-label-lDFbdu",hasError:r},(0,Ce.Z)("Country")),d||!m?(0,Ce.Z)("Loading countries..."):null,p?(0,Ce.Z)("We couldn't fetch countries at this moment."):null,u&&m?S:null)}const Che=(0,fe.P1)(Ehe,(({selectedCountry:e})=>e&&1===e.flavor?e.example:void 0));let whe;function Zhe({isDisabled:e,hasError:t}){const n=(0,v.I0)(),{selectedCountry:r}=(0,v.v9)(Ehe),i=(0,Dp.Z)(r),a=(0,v.v9)(Che),[s,o]=(0,g.useState)(""),l=(0,g.useCallback)((e=>{o(e.currentTarget.value)}),[o]);return(0,g.useEffect)((()=>{i&&i.key!==(null==r?void 0:r.key)&&o("")}),[r,i]),(0,g.useEffect)((()=>{whe&&window.clearTimeout(whe),whe=window.setTimeout((()=>{n(She.actions.epgPostalCodeChanged({postalCode:s}))}),300)}),[n,s]),a?g.createElement(g.Fragment,null,g.createElement(mP,{className:"DVRSetupPostalCodeInput-label-3KvulI FormLabel-label-lDFbdu",hasError:t},(0,Ce.Z)("Postal Code")),g.createElement(Rd,{name:"postalCodeInput",size:st.Medium,placeholder:(0,Ce.Z)("e.g. {postalCodeExample}",{postalCodeExample:a}),value:s,isDisabled:e,hasError:t,onChange:l})):null}const The=(0,fe.P1)(Mhe,(e=>e.dvrSetup)),Nhe=(0,fe.P1)(Ehe,(({lineupGroups:e})=>{const{epgLineupGroups:t,isPending:n,isPopulated:r}=e;return n||!r||0===t.length?null:t[t.length-1]})),Ohe=(0,fe.P1)(The,(({selectedDVR:e})=>{var t,n;return null==(n=null==(t=null==e?void 0:e.dvr)?void 0:t.Lineup)?void 0:n.map((e=>({uuid:e.id,title:e.title,lineupType:Kme.Unknown})))})),Ahe=(0,fe.P1)(Ehe,(({selectedLineupGroups:e})=>{if(0!==e.length)return e.reduce(((e,{selectedLineup:t})=>(t&&e.push(t),e)),[])})),xhe="DVRSetupAddLineup-section-bzk4ON";function jhe({onSetStep:e}){const t=(0,v.I0)(),[n]=Hn(),{selectedDevice:r}=(0,v.v9)(The),{selectedCountry:i,selectedRegion:a,selectedLineupGroups:s,postalCode:o,channelMappings:{isPending:l},lineupGroups:{isPending:c}}=(0,v.v9)(Ehe),d=(0,v.v9)(Nhe),u=(0,v.v9)(Ahe),p=(0,v.v9)(Ohe),m=(0,v.v9)(Che),[h,y]=(0,g.useState)(!1),f=(0,Dp.Z)(i),b=(0,Dp.Z)(a),I=(0,Dp.Z)(o),S=!(null==p?void 0:p.length)&&!(null==u?void 0:u.length),M=s.every((e=>e.isSelectedLineupPopulated)),E=s.every((e=>e.isChannelMappingsFetched)),P=!(!i||!o&&!a&&i.flavor!==Bme.SinglePostalCode),D=!!(void 0!==f&&f!==i||void 0!==b&&b!==a||void 0!==I&&I!==o),C=(0,g.useCallback)((()=>{s.length>0?e(yye.Mapping):(t(dhe.actions.reset()),t(She.actions.reset()))}),[t,s.length,e]),w=(0,g.useCallback)((()=>{d&&t(She.actions.selectedEPGLineupGroupAddRequested({lineupGroup:d}))}),[t,d]),Z=(0,g.useCallback)((()=>{e(yye.XMLTV)}),[e]);(0,g.useEffect)((()=>{r||e(yye.Device)}),[r,e]),(0,g.useEffect)((()=>{D&&P&&i&&t(She.actions.epgLineupGroupFetchRequested({server:n,country:i,region:a,postalCode:o}))}),[D,P,a,o,n,i,t]),(0,g.useEffect)((()=>{d&&r&&s&&!h&&!M&&(t(She.actions.bestEPGLineupSearchRequested({server:n,device:r,lineupGroup:s[s.length-1]})),y(!0))}),[t,d,r,s,h,M,n]),(0,g.useEffect)((()=>{h&&d&&r&&(null==u?void 0:u.length)&&(M&&E?e(yye.Mapping):l||t(She.actions.channelMappingsFetchRequested({server:n,device:r,lineups:u})))}),[t,h,l,M,E,d,e,r,u,n]);const T=(!d||d.epgLineups.length>0)&&P,N=h||c||l||!M,O=P&&!c&&0===(null==d?void 0:d.epgLineups.length);return g.createElement(g.Fragment,null,g.createElement(cm,{innerClassName:"DVRSetupAddLineup-innerModalBody-2TK_oq ModalBody-innerModalBody-9jyEBh"},g.createElement("p",{className:"DVRSetupAddLineup-header-3NQBqU"},(null==u?void 0:u.length)?(0,Ce.Z)("Add another EPG data lineup or location"):(0,Ce.Z)("Add EPG data lineup or location")),g.createElement("p",null,(0,Ce.Z)("If your tuner device can receive channels that are not present in your initial lineup, you can specify additional locations or lineups to fulfill your EPG.")),g.createElement("p",null,(0,Ce.Z)("Remember, your device will need to be able to tune these channels to be able to function.")),g.createElement("p",null,(0,Ce.Z)("Any unsaved changes to channel mappings will be lost when you add a new lineup.")),g.createElement("div",{className:"DVRSetupAddLineup-formContainer-3yQ3IR"},g.createElement("div",{className:"DVRSetupAddLineup-formElements-3Vztcy"},r?g.createElement("div",{className:xhe},g.createElement(Dhe,{deviceKey:r.key,isActive:!0,isDisabled:N,hasError:O})):null,(null==i?void 0:i.flavor)===Bme.Regions?g.createElement("div",{className:xhe},g.createElement(Phe,{isDisabled:N,hasError:O})):null,m?g.createElement("div",{className:xhe},g.createElement(Zhe,{isDisabled:N,hasError:O})):null),O?g.createElement("p",{className:"DVRSetupAddLineup-formError-2JwcOa"},(0,Ce.Z)("We couldn't find Plex DVR guide data for your location at this time. Please select a different location or use an XMLTV guide.")):null),S?g.createElement(pw.Z,{kind:or.Primary,onPress:Z},(0,Ce.Z)("Have an XMLTV guide on your server? Click here to use that instead.")):null),g.createElement(pu,null,g.createElement(dm,{className:"DVRSetupAddLineup-buttonBar-1NGJN2 ModalFooterButtonBar-buttonBar-UJWGIc"},g.createElement(Dr,{isDisabled:l,onPress:C},(0,Ce.Z)("Back")),g.createElement(Zd,{kind:or.Primary,isDisabled:!T,isSpinning:N,onPress:w},(0,Ce.Z)("Continue")))))}const Lhe=function(e){return(0,fe.P1)(Jy(e),(e=>e.find((e=>e.type===gl.RG))))},khe=(0,fe.P1)(The,(({devices:e})=>e.mediaGrabberDevices.filter((e=>!e.parentID&&e.status===_me.Alive))));var Rhe=n(7333),zhe=n(54346),Uhe=n(8955),Vhe=n(72066),Bhe=n(79029);const Fhe={"HDHomeRun CONNECT":zhe,"HDHomeRun EXPAND":Uhe,"HDHomeRun EXTEND":Vhe,"HDHomeRun PRIME":Bhe};function _he({className:e="DVRDeviceImage-image-T8wHtT",thumb:t,model:n,width:r,height:i}){const[a]=Hn(),s=Fhe[n]||Rhe;return g.createElement(xt.Z,{serverEntityID:a.entityID,providerEntityID:void 0,className:e,url:t,emptySrc:s,width:r,height:i})}var Hhe=Object.defineProperty,Qhe=Object.prototype.hasOwnProperty,Ghe=Object.getOwnPropertySymbols,Whe=Object.prototype.propertyIsEnumerable,Yhe=(e,t,n)=>t in e?Hhe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const Khe=e=>(0,fe.P1)(The,(t=>{var n,r;return e&&null!=(r=null==(n=t.channelsByDeviceKey)?void 0:n[e])?r:((e,t)=>{for(var n in t||(t={}))Qhe.call(t,n)&&Yhe(e,n,t[n]);if(Ghe)for(var n of Ghe(t))Whe.call(t,n)&&Yhe(e,n,t[n]);return e})({},ahe)}));function qhe(e){switch(e){case Wme.Unknown:return(0,Ce.Z)("Unknown");case Wme.Antenna:return(0,Ce.Z)("Antenna");case Wme.Cable:return(0,Ce.Z)("Cable");case Wme.Satellite:return(0,Ce.Z)("Satellite")}}function $he({device:e,isDisabled:t}){const n=(0,v.I0)(),{key:r,source:i,sources:a}=e,s=(0,g.useMemo)((()=>function(e,t){return e?e.map((e=>({value:e,label:qhe(e)}))):[{value:t,label:qhe(t)}]}(a,i)),[a,i]),o=(0,g.useCallback)((e=>{n(dhe.actions.deviceSourceSelected({deviceKey:r,source:e.currentTarget.value}))}),[n,r]);return(0,g.useEffect)((()=>{a&&void 0===i&&n(dhe.actions.deviceSourceSelected({deviceKey:r,source:a[0]}))}),[n,r,a,i]),g.createElement(tm,{name:"deviceSource",value:i,isDisabled:t||1===s.length,onChange:o},s.map((({value:e,label:t},n)=>g.createElement("option",{key:n,value:e},t))))}const Jhe="DVRSetupDevice-section-2Q-cDb",Xhe="DVRSetupDevice-button-2GRo9o SpinnerButton-button-1CCIvZ Button-button-1q7C1V Link-link-2WGTd7";function ege({device:e,activeDeviceKey:t,onSetupStart:n,onSetStep:r}){const i=(0,v.I0)(),[a]=Hn(),s=(0,g.useMemo)((()=>Khe(e.key)),[e]),o=(0,v.v9)(Che),l=(0,v.v9)(s),{lineupGroups:{isPending:c},selectedCountry:d,selectedRegion:u,postalCode:p}=(0,v.v9)(Ehe),m=(0,v.v9)(Nhe),h=(0,v.v9)(Ohe),y=null==h?void 0:h.find((({uuid:e})=>e.includes(Fo.zY))),f=!h||y,{key:b,make:I,model:S,tuners:M,thumb:E,uri:P}=e,D=!(!d||!(p||u||d.flavor===Bme.SinglePostalCode||y)),C=(0,g.useCallback)((()=>{(0,fn.c9)((()=>{i(dhe.actions.deviceSelected({deviceKey:e.key})),!y&&m&&m.epgLineups.length>0&&i(She.actions.selectedEPGLineupGroupAddRequested({lineupGroup:m}))})),m&&m.epgLineups.length>0&&!y?r(yye.Info):r(yye.XMLTV)}),[i,e,m,y,r]),w=(0,g.useCallback)((()=>{(0,fn.c9)((()=>{i(dhe.actions.deviceSelected({deviceKey:e.key}))})),r(yye.XMLTV)}),[i,e,r]),Z=(0,g.useCallback)((()=>{n(b)}),[b,n]);(0,g.useEffect)((()=>{i(dhe.actions.deviceChannelsFetchRequested({server:a,deviceKey:b}))}),[a,b,i]),(0,g.useEffect)((()=>{D&&d&&i(She.actions.epgLineupGroupFetchRequested({server:a,country:d,region:u,postalCode:p}))}),[u,p,a,d,D,i]);const T=!(!t||t!==b),N=!(!t||t===b),O=!!t&&D,A=function(e){if(!e||e.isPending)return(0,Ce.Z)("Loading channels...");const{channels:t,error:n}=e,r=t.length;return n||0===r?(0,Ce.Z)("0 Channels (scan required)"):1===r?(0,Ce.Z)("1 channel"):(0,Ce.Z)("{channelCount} channels",{channelCount:r})}(l);return g.createElement("div",{className:"DVRSetupDevice-container-1w5Ls1"},g.createElement(_he,{model:S,thumb:E,width:200,height:110}),g.createElement("div",{className:Jhe},g.createElement("div",{className:"DVRSetupDevice-make-3l4yHX"},I),g.createElement("div",{className:"DVRSetupDevice-model-91PyhE"},S),g.createElement("div",{className:"DVRSetupDevice-moreInfo-mxnzDS"},P,P&&M?g.createElement(rs.Z,null):null,M>1?(0,Ce.Z)("{tunersCount} tuners",{tunersCount:M}):(0,Ce.Z)("1 tuner"))),g.createElement("div",{className:Jhe},g.createElement($he,{device:e,isDisabled:N}),g.createElement("div",{className:"DVRSetupDevice-channelsMessage-YFr7Ok"},A)),N?null:g.createElement("div",{className:Jhe},g.createElement(Dhe,{deviceKey:e.key,isActive:T,onEdit:Z})),T&&(null==d?void 0:d.flavor)===Bme.Regions&&!y?g.createElement("div",{className:Jhe},g.createElement(Phe,null)):null,T&&o&&!y?g.createElement("div",{className:Jhe},g.createElement(Zhe,null)):null,T&&f&&!y?g.createElement("div",{className:Jhe},g.createElement(vr,{kind:or.Primary,onPress:w},(0,Ce.Z)("Have an XMLTV guide on your server? Click here to use it."))):null,T||N?null:g.createElement(Dr,{kind:or.Primary,className:Xhe,onPress:Z},(0,Ce.Z)("Setup Device")),T?g.createElement(Zd,{kind:or.Primary,className:Xhe,isDisabled:!O,isSpinning:c,onPress:C},(0,Ce.Z)("Next")):null,N?g.createElement("div",{className:"DVRSetupDevice-disabledText-3Fpi1X"},(0,Ce.Z)("You can add this device later.")):null)}function tge(){const e=(0,v.I0)(),[t]=Hn(),{setupErrorMessage:n,isAddingDevice:r}=(0,v.v9)(The),[i,a]=(0,g.useState)(!1),s=(0,Dp.Z)(r),{register:o,handleSubmit:l}=(0,Sd.cI)(),c=(0,g.useCallback)((()=>{a(!i)}),[i,a]),d=l((({address:n})=>{e(dhe.actions.deviceAddRequested({server:t,uri:n}))}));return(0,g.useEffect)((()=>{i&&s&&!r&&!n&&a(!1)}),[r,s,a,n,i]),g.createElement(g.Fragment,null,g.createElement("div",{className:"DVRSetupManualDevice-manualDeviceButtonContainer-1XaNgr"},g.createElement(Z0.Z,{kind:or.Primary,direction:i?ME.Up:ME.Down,isSelected:!1,onPress:c},(0,Ce.Z)("Don't see your HDHomeRun device? Enter its network address manually"))),g.createElement("div",{className:"DVRSetupManualDevice-manualDeviceContainer-rxOVLT"},i?g.createElement("form",{onSubmit:d},g.createElement(mP,null,(0,Ce.Z)("HDHomeRun Device Address")),g.createElement(Rd,{type:"text",name:"address",className:"DVRSetupManualDevice-manualDeviceInput-uLmSY- TextInput-input-2FGxDj",placeholder:(0,Ce.Z)("IP address or hostname"),ref:o({required:!0})}),g.createElement(Zd,{type:"submit",kind:or.Primary,isSpinning:r},(0,Ce.Z)("Connect"))):null))}function nge({onSetStep:e}){const t=(0,v.I0)(),[n]=Hn(),[r,i]=(0,g.useState)(void 0),{devices:{isPending:a,isPopulated:s},isDiscoveringDevices:o,isCancellingChannelScan:l}=(0,v.v9)(The),c=(0,v.v9)(khe),d=(0,g.useMemo)((()=>Lhe(n)),[n]),u=(0,v.v9)(d),p=(0,g.useCallback)((e=>{i(e)}),[i]);(0,g.useEffect)((()=>{(0,fn.c9)((()=>{t(dhe.actions.setupReset())}))}),[t]),(0,g.useEffect)((()=>{l||(u?t(dhe.actions.deviceChannelsCancelScanRequested({server:n,deviceKey:u.Context.deviceID})):s||t(dhe.actions.devicesFetchRequested({server:n})))}),[t,n,u,l,s]),(0,g.useEffect)((()=>{c.some((e=>e.key===r))||i(void 0)}),[c,r,i]),(0,g.useEffect)((()=>{let e;return o||l||(e=window.setTimeout((()=>{t(dhe.actions.devicesDiscoverRequested({server:n}))}),2e3)),()=>{e&&window.clearTimeout(e)}}),[t,n,o,l]);const m=function(e,t,n){return t?(0,Ce.Z)("Looking for compatible devices..."):n&&e.length>0?(0,Ce.Z)("We found hardware we recognize!"):n&&0===e.length?(0,Ce.Z)("We couldn't find any hardware we recognize, but will continue to look for available devices."):(0,Ce.Z)("Something went wrong. Please try again later.")}(c,a||l,s),h=l||a||!c.length;return g.createElement(cm,{className:"DVRSetupDeviceList-modalBody-3wa_O3 ModalBody-modalScroller-NbjAvC ModalBody-modalBody-O9hN9W",innerClassName:"DVRSetupDeviceList-innerModalBody-2Ps6as ModalBody-innerModalBody-9jyEBh"},g.createElement("p",null,m),g.createElement(tge,null),h?g.createElement("div",{className:"DVRSetupDeviceList-spinnerContainer-9oEMOU"},g.createElement(lt,null)):g.createElement(Be,{className:"DVRSetupDeviceList-devicesContainer-8DlDH-",scrollDirection:Ae.Horizontal},c.map((t=>g.createElement(ege,{key:t.key,device:t,activeDeviceKey:r,onSetupStart:p,onSetStep:e})))))}const rge={container:"AdditionalDevice-container-3rTsHn",info:"AdditionalDevice-info-CK_ma5",make:"AdditionalDevice-make-1KxopM",model:"AdditionalDevice-model-2WNEMb"};function ige({device:e,onSetupPress:t}){const{make:n,model:r,thumb:i}=e;return g.createElement("div",{className:rge.container},g.createElement(_he,{model:r,thumb:i,width:130,height:73}),g.createElement("div",{className:rge.info},g.createElement("div",{className:rge.make},n),g.createElement("div",{className:rge.model},r),g.createElement(Dr,{className:rge.button,kind:or.Primary,size:st.Small,onPress:t},(0,Ce.Z)("Setup Device"))))}function age({onModalClose:e,onSetStep:t}){var n;const[r,i]=Hn(),{devices:{isPending:a}}=(0,v.v9)(The),{epgDownloadActivityID:s}=(0,v.v9)(The),o=(0,v.v9)(khe),l=(0,Pn.Z)(i,$t.zW.Content),c=null==(n=null==l?void 0:l.directories)?void 0:n.find((e=>e.hubKey&&!e.key)),d=c&&(0,lz.ZP)(lz.tk.GUIDE,r,i,c),u=(0,g.useCallback)((()=>{t(yye.Device)}),[t]);return g.createElement(g.Fragment,null,g.createElement(cm,{innerClassName:"DVRSetupDownload-innerModalBody-J9LCfO ModalBody-innerModalBody-9jyEBh"},!a&&o.length>0?g.createElement("div",{className:"DVRSetupDownload-additionalDevices-3-3DFp"},g.createElement("p",{className:"DVRSetupDownload-accentText-4N_cxM"},(0,Ce.Z)("Setup another device?")),o.map((e=>g.createElement(ige,{key:e.key,device:e,onSetupPress:u})))):null,g.createElement("p",{className:"DVRSetupDownload-text-3wib8J"},(0,Ce.Z)('You can now find your Guide and Channels in the sidebar under "Live TV". While we\'re grabbing the guide data, you can start browsing; it will update automatically as we download whats on.')),s?g.createElement("div",{className:"DVRSetupDownload-spinnerContainer-3iuDWY"},g.createElement(lt,{className:"DVRSetupDownload-spinner-EEZHBO Spinner-spinner-CSMaLA spin-spin-34xiUE"}),g.createElement("p",null,(0,Ce.Z)("Downloading EPG data"))):null),g.createElement(pu,null,g.createElement(dm,null,g.createElement(Dr,{onPress:e},(0,Ce.Z)("Close")),g.createElement(Dr,{kind:or.Primary,to:d,isDisabled:!d,onPress:e},(0,Ce.Z)("View Guide")))))}function sge({activeStep:e,step:t,title:n}){const r=e===t,i=e>t,a=e<t;return g.createElement("div",{className:"DVRSetupInfoStep-container-19VSAN"},i?g.createElement(Yo,{className:"DVRSetupInfoStep-done-3vQWqi Badge-badge-3V2nLB DVRSetupInfoStep-step-3TAV-d",iconComponent:Ko.Z}):null,r?g.createElement(lt,{className:"DVRSetupInfoStep-active-30t5jv Spinner-spinner-CSMaLA spin-spin-34xiUE DVRSetupInfoStep-step-3TAV-d"}):null,a?g.createElement("div",{className:"DVRSetupInfoStep-waiting-1_jMHa Badge-badge-3V2nLB DVRSetupInfoStep-step-3TAV-d"}):null,n)}var oge,lge;function cge({onSetStep:e}){const t=(0,v.I0)(),[n]=Hn(),[r,i]=(0,g.useState)(1),a=(0,v.v9)(Ahe),{selectedDevice:s}=(0,v.v9)(The),o=(0,g.useMemo)((()=>Khe(null==s?void 0:s.key)),[s]),{channels:l,isPending:c,isPopulated:d}=(0,v.v9)(o),{postalCode:u,selectedCountry:p,selectedLanguage:m,selectedLineupGroups:h,selectedRegion:y,languages:{epgLanguages:f},channelMappings:{isPopulated:b}}=(0,v.v9)(Ehe),I=h[0],S=(0,g.useCallback)((()=>{e(yye.Device)}),[e]);return(0,g.useEffect)((()=>{0===f.length&&t(She.actions.epgLanguagesFetchRequested({server:n}))}),[t,n,f,e]),(0,g.useEffect)((()=>{1===r&&(p&&m?i(2):f&&p&&!m&&t(She.actions.epgLanguageSelected({languageCode:p.language})))}),[t,f,r,p,m]),(0,g.useEffect)((()=>{2===r&&(d?i(3):!s||l&&c||t(dhe.actions.deviceChannelsFetchRequested({server:n,deviceKey:s.key})))}),[l,t,c,d,r,s,n]),(0,g.useEffect)((()=>{3!==r||!p||a||I||t(She.actions.epgLineupGroupFetchRequested({server:n,country:p,region:y,postalCode:u}))}),[t,I,r,u,p,a,y,n]),(0,g.useEffect)((()=>{3!==r||!s||(null==I?void 0:I.activityUUID)||(null==I?void 0:I.isSelectedLineupPopulated)||(null==a?void 0:a.length)||t(She.actions.bestEPGLineupSearchRequested({server:n,device:s,lineupGroup:I}))}),[t,I,r,s,a,n]),(0,g.useEffect)((()=>{3===r&&(null==I?void 0:I.isSelectedLineupPopulated)&&e(yye.Mapping)}),[b,I,r,e,a]),g.createElement(g.Fragment,null,g.createElement(cm,{className:"DVRSetupInfo-modalBody-1hPZ0A ModalBody-modalScroller-NbjAvC ModalBody-modalBody-O9hN9W",innerClassName:"DVRSetupInfo-innerModalBody-3QTEe1 ModalBody-innerModalBody-9jyEBh"},g.createElement("p",null,(0,Ce.Z)("Setting up your tuner and channels...")),g.createElement("div",{className:"DVRSetupInfo-container-2ndYnw"},g.createElement(lt,{className:"DVRSetupInfo-spinner-2QZXUQ Spinner-spinner-CSMaLA spin-spin-34xiUE"}),g.createElement("div",{className:"DVRSetupInfo-steps-2hjgft"},g.createElement(sge,{step:1,activeStep:r,title:(0,Ce.Z)("Gathering data")}),g.createElement(sge,{step:2,activeStep:r,title:(0,Ce.Z)("Scanning channels")}),g.createElement(sge,{step:3,activeStep:r,title:(0,Ce.Z)("Finding the best guide")})))),g.createElement(pu,null,g.createElement(dm,{className:"DVRSetupInfo-buttonBar-1KPy1u ModalFooterButtonBar-buttonBar-UJWGIc"},g.createElement(Dr,{onPress:S},(0,Ce.Z)("Back")))))}(lge=oge||(oge={}))[lge.Data=1]="Data",lge[lge.Channels=2]="Channels",lge[lge.Guide=3]="Guide";const dge=function(e){return(0,fe.P1)(Jy(e),(e=>e.find((e=>e.type===Ume.ProviderEpgLineupScan))))};function uge(e){var t=e["aria-label"],n=e.className,r=e.style,i={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-dvr-clock-hour-560"};i["aria-hidden"]=!t,i.style=r,i.className=oa.Z.plexIcon+(n?" "+n:"");var a=[g.createElement.apply(g,["path",{d:"m179.45 378h-106.62l29.821-29.12h51.725l25.07 29.12m-148.31-81.48l-6.069 75.88-25.07-29.12 3.167-39.48 18.737-18.2 9.236 10.92m69.934 7.28l-3.166 39.48-29.821 29.12 6.069-75.88 11.348-10.92 15.57 18.2m61.23-9.24h-58.59l-12.403-14.56 14.779-14.56h58.59l12.667 14.56-15.04 14.56m-155.18-38.36l3.167-39.48 29.821-29.12-6.07 75.88-11.347 11.2-15.571-18.48m159.93 0l3.167-39.48 29.821-29.12-6.07 75.88-11.348 11.2-15.57-18.48m-1.32-44.8h-51.724l-25.07-29.4h106.62l-29.821 29.4"}].concat([]))];return t&&a.unshift(g.createElement("title",null,t)),g.createElement.apply(g,["svg",i].concat(a))}uge.propTypes={"aria-label":sa().string,className:sa().string,style:sa().object};const pge=uge;function mge(e){var t=e["aria-label"],n=e.className,r=e.style,i={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-dvr-clock-minutes-560"};i["aria-hidden"]=!t,i.style=r,i.className=oa.Z.plexIcon+(n?" "+n:"");var a=[g.createElement.apply(g,["path",{d:"m391.63 378h-106.62l29.821-29.12h51.725l25.07 29.12m147.79 0h-106.62l29.821-29.12h51.725l25.07 29.12m-226.16-74.2l-3.167 39.48-29.821 29.12 6.07-75.88 11.347-10.92 15.571 18.2m89.99-7.28l-6.07 75.88-25.07-29.12 3.167-39.48 18.737-18.2 9.236 10.92m57.795 7.28l-3.167 39.48-29.821 29.12 6.07-75.88 11.348-10.92 15.57 18.2m89.99-7.28l-6.069 75.88-25.07-29.12 3.167-39.48 18.737-18.2 9.236 10.92m-261.79-33.04l6.069-75.88 25.07 29.12-3.167 39.48-18.737 18.48-9.236-11.2m89.99-7.28l3.167-39.48 29.821-29.12-6.07 75.88-11.348 11.2-15.57-18.48m57.795 7.28l6.069-75.88 25.07 29.12-3.167 39.48-18.737 18.48-9.236-11.2m89.99-7.28l3.167-39.48 29.821-29.12-6.07 75.88-11.348 11.2-15.57-18.48m-149.1-44.8h-51.725l-25.07-29.4h106.62l-29.821 29.4m177.61-29.4l-29.821 29.4h-51.725l-25.07-29.4h106.62"}].concat([]))];return t&&a.unshift(g.createElement("title",null,t)),g.createElement.apply(g,["svg",i].concat(a))}mge.propTypes={"aria-label":sa().string,className:sa().string,style:sa().object};const hge=mge;function gge(e){var t=e["aria-label"],n=e.className,r=e.style,i={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-dvr-clock-separator-560"};i["aria-hidden"]=!t,i.style=r,i.className=oa.Z.plexIcon+(n?" "+n:"");var a=[g.createElement.apply(g,["path",{d:"m218.51 378l2.375-29.12h27.71l-2.375 29.12h-27.71m11.08-134.12l2.376-29.12h27.709l-2.375 29.12h-27.71"}].concat([]))];return t&&a.unshift(g.createElement("title",null,t)),g.createElement.apply(g,["svg",i].concat(a))}gge.propTypes={"aria-label":sa().string,className:sa().string,style:sa().object};const yge=gge,vge="ChannelScanActivity-message-20a6kL",fge="ChannelScanActivity-clockTime-25lWTY ChannelScanActivity-clock-1YqwkN ChannelScanActivity-icon-1vWUIX";function bge({className:e}){const t=(0,v.I0)(),[n]=Hn(),{selectedDevice:r,hasScannedChannels:i,isCancellingChannelScan:a}=(0,v.v9)(The),s=(0,g.useMemo)((()=>Lhe(n)),[n]),o=(0,g.useMemo)((()=>Khe(null==r?void 0:r.key)),[r]),l=(0,v.v9)(s),{channels:c,isPopulated:d}=(0,v.v9)(o),u=(0,g.useCallback)((()=>{r&&t(dhe.actions.deviceChannelsScanRequested({server:n,deviceKey:r.key,source:r.source}))}),[t,n,r]),p=(0,g.useCallback)((()=>{r&&!a&&t(dhe.actions.deviceChannelsCancelScanRequested({server:n,deviceKey:r.key}))}),[t,n,r,a]);return l?g.createElement("div",{className:e},g.createElement(AF,{size:90,progress:null==l?void 0:l.progress}),g.createElement("div",{className:vge},(0,Ce.Z)("Scanning channels")),g.createElement(Zd,{isSpinning:a,isDisabled:a,onPress:p},(0,Ce.Z)("Stop scanning"))):d&&0===c.length?g.createElement("div",{className:e},g.createElement("div",{className:"ChannelScanActivity-iconContainer-5oF717"},i?g.createElement(we.Z,{className:"ChannelScanActivity-icon-1vWUIX"}):g.createElement(g.Fragment,null,g.createElement(pge,{className:fge}),g.createElement(yge,{className:"ChannelScanActivity-clock-1YqwkN ChannelScanActivity-icon-1vWUIX"}),g.createElement(hge,{className:fge}))),g.createElement("div",{className:vge},i?(0,Ce.Z)("No channels found. Make sure your device has a signal from your antenna and try scanning again."):(0,Ce.Z)("Awaiting channel scan")),g.createElement(Zd,{kind:or.Primary,isDisabled:!!l,isSpinning:!!l,onPress:u},(0,Ce.Z)("Scan channels"))):null}function Ige(e){return e.title?`${e.title} (${e.callSign})`:e.callSign}const Sge=(0,fe.P1)(Ohe,Ahe,((e,t)=>{var n;return null!=(n=null!=t?t:e)?n:[]})),Mge=(0,UA.Z)(Sge,(e=>e)),Ege=(0,fe.P1)(Ehe,Mge,(({lineupChannels:e},t)=>t.reduce(((t,n)=>{var r;const i=null!=(r=e.channelsByLineupUUID[n.uuid])?r:[];return t[n.title]=i.map((e=>({value:e.key,label:Ige(e)}))),t}),{})));var Pge=Object.defineProperty,Dge=Object.prototype.hasOwnProperty,Cge=Object.getOwnPropertySymbols,wge=Object.prototype.propertyIsEnumerable,Zge=(e,t,n)=>t in e?Pge(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Tge=(e,t)=>{for(var n in t||(t={}))Dge.call(t,n)&&Zge(e,n,t[n]);if(Cge)for(var n of Cge(t))wge.call(t,n)&&Zge(e,n,t[n]);return e};const Nge=(0,fe.P1)(Ehe,Mge,(({lineupChannels:e},t)=>t.reduce(((t,n)=>{var r;const i=null!=(r=e.channelsByLineupUUID[n.uuid])?r:[];return t.concat(i.map((e=>Tge(Tge({},e),{lineupUUID:n.uuid}))))}),[])));function Oge({className:e,index:t,selectedChannel:n,onChange:r,isDisabled:i}){const a=(0,v.v9)(Nge),s=(0,v.v9)(Ege),[o,l]=(0,g.useState)(!1),c=(0,g.useMemo)((()=>null==a?void 0:a.find((e=>e.key===n))),[a,n]),d=(0,g.useCallback)((()=>{l(!0)}),[l]),u=(0,g.useCallback)((e=>{const n=e.target.value,i=a.find((e=>e.key===n));i&&r(n,i.identifier,t)}),[t,a,r]);return g.createElement(tm,{className:e,name:`[${t}].channelKey`,value:n,isDisabled:i,onChange:u,onMouseDown:d,onTouchStart:d},g.createElement("option",{key:"",value:""},(0,Ce.Z)("Select Channel")),o?Object.keys(s).map(((e,t)=>g.createElement("optgroup",{key:t,label:e},s[e].map((({value:e,label:t},n)=>g.createElement("option",{key:n,value:e},t)))))):g.createElement("option",{key:"computed",value:n},c?Ige(c):null))}var Age=n(13838),xge=n(468),jge=n(61721),Lge=n(99717);function kge({className:e,quality:t}){if(void 0===t)return null;const n=(r=t)<=25?Age:r<=50?xge:r<=75?jge:Lge;var r;return g.createElement("img",{className:e,src:String(n),width:18,height:16})}var Rge=Object.prototype.hasOwnProperty,zge=Object.getOwnPropertySymbols,Uge=Object.prototype.propertyIsEnumerable;const Vge=(0,g.memo)((function(e){var t=e,{item:n,enabled:r,channelKey:i,onEnabledChange:a,onChannelKeyChange:s}=t,o=((e,t)=>{var n={};for(var r in e)Rge.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&zge)for(var r of zge(e))t.indexOf(r)<0&&Uge.call(e,r)&&(n[r]=e[r]);return n})(t,["item","enabled","channelKey","onEnabledChange","onChannelKeyChange"]);const l=oo(o),c=o.row,{name:d,deviceIdentifier:u,signalStrength:p,signalQuality:m,drm:h,isDeviceChannelHD:y,isLineupChannelHD:v}=n||{},f=(0,g.useCallback)((e=>{a(e.currentTarget.checked,c)}),[c,a]);return n?g.createElement("div",{className:"DeviceChannelMapping-container-2Fb1GM",style:l.style},g.createElement("label",{className:"DeviceChannelMapping-deviceChannel-2HhC25"},g.createElement("div",{className:"DeviceChannelMapping-channelEnabled-1xObtA"},h?null:g.createElement(yN,{name:`[${o.row}].enabled`,className:"DeviceChannelMapping-channelEnabledCheckbox-2nkec7 Checkbox-input-3E0Vit",checked:r,onChange:f})),g.createElement("div",{className:Te()("DeviceChannelMapping-deviceChannelInfo-2CnPm3",!r&&"DeviceChannelMapping-mappingDisabled-32i64a")},g.createElement("div",{className:"DeviceChannelMapping-deviceChannelIdentifier--UXvxX"},u),g.createElement("div",{className:"DeviceChannelMapping-deviceChannelName-1pwqWt"},d)),g.createElement(kge,{className:"DeviceChannelMapping-signalQuality-yPRgt1",quality:m||p})),h?g.createElement("div",{className:"DeviceChannelMapping-drmChannel-2L37NP"},g.createElement(RL.Z,{className:"DeviceChannelMapping-drmChannelBadge-1wVFcd"},(0,Ce.Z)("Protected"))):g.createElement("div",{className:"DeviceChannelMapping-lineupChannel-3YLjQO"},g.createElement(Oge,{index:c,className:"DeviceChannelMapping-lineupChannelSelect-17QKDe Select-input-bAL4pR",selectedChannel:i,isDisabled:!r,onChange:s}),y||v?g.createElement(RL.Z,{className:"DeviceChannelMapping-hdBadge-3212p3"},(0,Ce.Z)("HD")):null)):null})),Bge="DeviceChannelMappingsHeader-titleContainer-1183c3",Fge="DeviceChannelMappingsHeader-title-1fIWE7",_ge="DeviceChannelMappingsHeader-count-3QGrOh";function Hge({allChannelMappingsEnabled:e,allChannelMappingsDisabled:t,onAllChannelMappingsEnabledChange:n}){const r=(0,v.I0)(),[i]=Hn(),{selectedDevice:a}=(0,v.v9)(The),s=(0,g.useMemo)((()=>Khe(null==a?void 0:a.key)),[a]),o=(0,v.v9)(Nge),{channels:l}=(0,v.v9)(s),c=(0,g.useCallback)((n=>{n&&(n.indeterminate=!e&&!t)}),[e,t]),d=(0,g.useCallback)((()=>{a&&r(dhe.actions.deviceChannelsScanRequested({server:i,deviceKey:a.key,source:a.source}))}),[r,i,a]);return g.createElement("div",{className:"DeviceChannelMappingsHeader-container-2wkET0"},g.createElement("div",{className:"DeviceChannelMappingsHeader-device-2E2Nnj"},g.createElement(yN,{name:"toggleAll",className:"DeviceChannelMappingsHeader-checkbox-18JrZh Checkbox-input-3E0Vit",checked:e,ref:c,onChange:n}),g.createElement("div",{className:Bge},g.createElement("div",{className:Fge},(0,Ce.Z)("Tuner Channels")),g.createElement("div",{className:_ge},(0,Ce.Z)("({count} Channels)",{count:l.length})),g.createElement(vr,{className:"DeviceChannelMappingsHeader-rescanButton-qWDlEz Link-link-2WGTd7",kind:or.Primary,onPress:d},(0,Ce.Z)("Rescan")))),g.createElement("div",{className:"DeviceChannelMappingsHeader-lineup-23C-Cn"},g.createElement("div",{className:Bge},g.createElement("div",{className:Fge},(0,Ce.Z)("EPG Channels")),g.createElement("div",{className:_ge},(0,Ce.Z)("({count} Channels)",{count:o.length})))))}var Qge=Object.defineProperty,Gge=Object.prototype.hasOwnProperty,Wge=Object.getOwnPropertySymbols,Yge=Object.prototype.propertyIsEnumerable,Kge=(e,t,n)=>t in e?Qge(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,qge=(e,t)=>{for(var n in t||(t={}))Gge.call(t,n)&&Kge(e,n,t[n]);if(Wge)for(var n of Wge(t))Yge.call(t,n)&&Kge(e,n,t[n]);return e};const $ge=Pu({rowHeight:parseInt(ng.Z.dvrSetupChannelMappingItemHeight,10),overscan:1});function Jge({id:e,channelMappings:t,onChannelMappingChange:n,onSubmit:r}){const[i,a]=(0,g.useState)(!1),[s,o]=(0,g.useState)(!1),l=(0,Sd.cI)({defaultValues:t}),{handleSubmit:c,register:d,setValue:u,watch:p}=l,m=p();(0,g.useEffect)((()=>{let e=!0,t=!0;Object.values(m).forEach((({drm:n,enabled:r})=>{r?e=!1:n||(t=!1)})),o(e),a(t)}),[m,o,a]),(0,g.useEffect)((()=>{t.forEach(((e,t)=>{d(`[${t}].enabled`),d(`[${t}].channelKey`),d(`[${t}].key`),d(`[${t}].lineupIdentifier`),d(`[${t}].drm`)}))}),[t,d]);const h=(0,g.useCallback)((e=>{t.forEach(((t,r)=>{const i=e.currentTarget.checked;t.drm||(u(`[${r}]`,{enabled:i}),null==n||n({index:r,enabled:i}))}))}),[t,u,n]),y=(0,g.useCallback)(((e,t)=>{u(`[${t}]`,{enabled:e}),null==n||n({index:t,enabled:e})}),[u,n]),v=(0,g.useCallback)(((e,t,r)=>{u(`[${r}]`,{channelKey:e,lineupIdentifier:t}),null==n||n({index:r,channelKey:e,lineupIdentifier:t})}),[u,n]),f=c((e=>{const t=Object.values(e).map((({key:e,lineupIdentifier:t,channelKey:n,enabled:r})=>({key:e,lineupIdentifier:t,channelKey:n,enabled:r})));r(t)})),b=(0,g.useMemo)((()=>e=>{if(!e.item)return g.createElement(g.Fragment,null);const t=p(`[${e.row}].enabled`),n=p(`[${e.row}].channelKey`);return g.createElement(Vge,qge(qge({},e),{enabled:t,channelKey:n,onEnabledChange:y,onChannelKeyChange:v}))}),[p,y,v]);return g.createElement(Sd.RV,qge({},l),g.createElement("form",{id:e,className:"DeviceChannelMappingsForm-container-35QxvV",onSubmit:f},g.createElement(Hge,{allChannelMappingsEnabled:i,allChannelMappingsDisabled:s,onAllChannelMappingsEnabledChange:h}),g.createElement(Hu,{className:"DeviceChannelMappingsForm-scroller-1EVgVs VirtualListScroller-scroller-2VrU8W Scroller-scroller-3Rbtv0",items:t,totalSize:t.length,layout:$ge,cellComponentFactory:b})))}const Xge=(0,Dn.Z)((function(e){return(0,fe.P1)(Khe(e),Ehe,Nge,function(e){return(0,fe.P1)(The,(({selectedDVR:t})=>{var n,r;const{dvr:i}=t;if(null==(n=null==i?void 0:i.Device)?void 0:n.length)return null==(r=i.Device)?void 0:r.find((t=>t.key===e))}))}(e),((e,t,n,r)=>{const i=(null==r?void 0:r.ChannelMapping)?r.ChannelMapping:t.channelMappings.mappings;if(!(null==e?void 0:e.isPopulated)||0===i.length)return[];const a=e.channels.map((e=>e.key)),s=i.map((e=>e.deviceIdentifier)),o=a.concat(s);return Array.from(new Set(o)).map((t=>{var r;const a=e.channels.find((e=>e.key===t)),s=i.find((e=>e.deviceIdentifier===t)),o=n.find((e=>(null==e?void 0:e.key)===(null==s?void 0:s.channelKey)||(null==e?void 0:e.identifier)===(null==s?void 0:s.lineupIdentifier))),{name:l="",identifier:c="",drm:d=!1,signalStrength:u,signalQuality:p,hd:m=!1}=a||{},h=!(!a||d||!(null==s?void 0:s.enabled));return{key:t,name:l,deviceIdentifier:c,channelKey:(null==s?void 0:s.channelKey)||(null==o?void 0:o.key),lineupIdentifier:(null==s?void 0:s.lineupIdentifier)||(null==o?void 0:o.identifier),signalStrength:u,signalQuality:p,enabled:h,drm:d,isChannelMissing:!a,isDeviceChannelHD:m,isLineupChannelHD:null!=(r=null==o?void 0:o.hd)&&r}})).sort(((e,t)=>(0,px.Z)(e.deviceIdentifier,t.deviceIdentifier)))}))}));function eye(e,t,n){const r=null==n?void 0:n.reduce(((e,{uuid:t})=>(e[t]=0,e)),{});return e.reduce(((e,{enabled:n,channelKey:r})=>{if(n&&r){const n=t.find((({key:e})=>e===r));(null==n?void 0:n.lineupUUID)&&e[n.lineupUUID]++}return e}),null!=r?r:{})}function tye({lineupGroup:e,isDisabled:t}){const n=(0,v.I0)(),{epgLineups:r,selectedLineup:i,uuid:a}=e,s=(0,g.useMemo)((()=>r.map((e=>({value:e.uuid,label:e.title})))),[r]),o=(0,g.useCallback)((e=>{const t=e.currentTarget.value;t&&n(She.actions.selectedLineupSelected({lineupGroupUUID:a,selectedLineupUUID:t}))}),[n,a]);return g.createElement(tm,{name:a,className:"EPGLineupSelect-input-1TI3Cz Select-input-bAL4pR",value:null==i?void 0:i.uuid,isDisabled:t||1===s.length,onChange:o},g.createElement("option",{value:""},(0,Ce.Z)("Select Guide")),s.map((({value:e,label:t},n)=>g.createElement("option",{key:n,value:e},t))))}function nye({lineupGroupUUID:e,isDisabled:t,onDeletePress:n}){const r=(0,g.useCallback)((()=>{n(e)}),[e,n]);return g.createElement(Ng,{kind:or.Danger,className:"EPGLineups-deleteButton-1y8S3Y IconButton-iconButton-1kbRFb Link-link-2WGTd7",iconComponent:cu.Z,ariaLabel:(0,Ce.Z)("Delete Guide"),isDisabled:t,onPress:r})}function rye({onSetStep:e}){const t=(0,v.I0)(),[n]=Hn(),{selectedLineupGroups:r,channelMappings:{isPending:i}}=(0,v.v9)(Ehe),{hasScannedChannels:a,selectedDevice:s}=(0,v.v9)(The),o=(0,v.v9)(Nge),l=(0,v.v9)(Ahe),c=(0,g.useMemo)((()=>Xge(null==s?void 0:s.key)),[s]),d=(0,g.useMemo)((()=>Lhe(n)),[n]),u=(0,g.useMemo)((()=>dge(n)),[n]),p=(0,g.useMemo)((()=>Khe(null==s?void 0:s.key)),[s]),m=(0,v.v9)(u),h=(0,v.v9)(d),{isPending:y}=(0,v.v9)(p),f=(0,v.v9)(c),b=(0,g.useMemo)((()=>eye(f,o,l)),[f,o,l]),I=(0,g.useCallback)((()=>{const t=null==l?void 0:l.find((({uuid:e})=>e.includes(Fo.zY)));e(t?yye.XMLTV:yye.AddLineup)}),[l,e]),S=(0,g.useCallback)((e=>{t(She.actions.selectedEPGLineupGroupRemoved({lineupGroupUUID:e}))}),[t]);return(0,g.useEffect)((()=>{const e=r[0];a&&s&&(null==l?void 0:l.length)&&!(null==e?void 0:e.activityUUID)&&!(null==e?void 0:e.isSelectedLineupPopulated)&&t(She.actions.bestEPGLineupSearchRequested({server:n,device:s,lineupGroup:e}))}),[t,s,l,r,a,n]),m?null:g.createElement("div",{className:"EPGLineups-container-QsdqUl"},g.createElement("div",{className:"EPGLineups-label-3motYx"},(0,Ce.Z)("EPG Location")),g.createElement("div",{className:"EPGLineups-lineups-3tZZmW"},r.map(((e,t)=>{const{selectedLineup:n,uuid:a}=e;return g.createElement("div",{key:t,className:"EPGLineups-lineup-1tKy6C"},g.createElement("div",{className:"EPGLineups-lineupSelect-2fFl-e"},g.createElement(tye,{lineupGroup:e,isDisabled:!!h}),r.length>1?g.createElement(nye,{lineupGroupUUID:a,isDisabled:!!h,onDeletePress:S}):null),!n||i||y||h?null:(0,Ce.Z)("{count} channels matched",{count:b[n.uuid]}))})),g.createElement(vr,{className:"EPGLineups-addLineup-QdLId5 Link-link-2WGTd7",isDisabled:!!h,onPress:I},g.createElement("span",{className:"EPGLineups-addLineupCircle-xZvJBQ"},"+"),(0,Ce.Z)("Add channels from another lineup/location"))))}const iye="DVRSetupMapping-container-3uay3h";var aye=Object.defineProperty,sye=Object.prototype.hasOwnProperty,oye=Object.getOwnPropertySymbols,lye=Object.prototype.propertyIsEnumerable,cye=(e,t,n)=>t in e?aye(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const dye="channel-mappings-form";function uye({dvrID:e,onSetStep:t}){const n=(0,v.I0)(),[r]=Hn(),{selectedDevice:i,selectedDVR:{error:a},hasScannedChannels:s,isSavingDVR:o}=(0,v.v9)(The),{channelMappings:{isPending:l}}=(0,v.v9)(Ehe),c=(0,g.useMemo)((()=>Lhe(r)),[r]),d=(0,g.useMemo)((()=>dge(r)),[r]),u=(0,g.useMemo)((()=>Khe(null==i?void 0:i.key)),[i]),p=(0,g.useMemo)((()=>Xge(null==i?void 0:i.key)),[i]),m=(0,v.v9)(c),h=(0,v.v9)(d),{channels:y,isPending:f}=(0,v.v9)(u),b=(0,v.v9)(Ahe),I=(0,v.v9)(p),S=(0,Dp.Z)(o),M=(0,Dp.Z)(b);(0,g.useEffect)((()=>{!S||o||a||t(yye.Download)}),[S,o,a,t]),(0,g.useEffect)((()=>{i&&s&&(0,fn.c9)((()=>{n(dhe.actions.deviceChannelsFetchRequested({server:r,deviceKey:i.key}))}))}),[n,r,i,s]),(0,g.useEffect)((()=>{!(i&&b&&(null==b?void 0:b.length))||M&&(0,mx.Z)(M,b)||n(She.actions.channelMappingsFetchRequested({server:r,device:i,lineups:b}))}),[n,i,b,M,r]);const E=(0,g.useCallback)((e=>{var t=e,{index:r}=t,i=((e,t)=>{var n={};for(var r in e)sye.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&oye)for(var r of oye(e))t.indexOf(r)<0&&lye.call(e,r)&&(n[r]=e[r]);return n})(t,["index"]);n(She.actions.channelMappingChanged(((e,t)=>{for(var n in t||(t={}))sye.call(t,n)&&cye(e,n,t[n]);if(oye)for(var n of oye(t))lye.call(t,n)&&cye(e,n,t[n]);return e})({index:r},i)))}),[n]),P=(0,g.useCallback)((()=>{t(yye.Device)}),[t]),D=(0,g.useCallback)((t=>{i&&(0,fn.c9)((()=>{n(e?dhe.actions.addDVRDeviceRequested({server:r,dvrID:e,deviceKey:i.key,channelMappings:t}):dhe.actions.dvrSaveRequested({server:r,device:i,channelMappings:t}))}))}),[n,i,e,r]);return g.createElement(g.Fragment,null,g.createElement(cm,{className:"DVRSetupMapping-modalBody-3NP2bi ModalBody-modalBody-O9hN9W",innerClassName:"DVRSetupMapping-innerModalBody-Q7i3MG"},!m&&!h&&!l&&y.length>0?g.createElement(rye,{onSetStep:t}):null,!m&&!h&&!f&&!l&&I.length>0&&y.length>0&&b&&b.length>0?g.createElement(Jge,{id:dye,channelMappings:I,onChannelMappingChange:E,onSubmit:D}):null,m||h||f||l||!(y.length>0)||(null==b?void 0:b.length)?null:g.createElement("div",{className:iye},(0,Ce.Z)("Please select a guide to begin mapping your device channels.")),!m&&(h||f||l)?g.createElement("div",{className:iye},g.createElement(lt,null)):null,h||f||l?null:g.createElement(bge,{className:iye})),g.createElement(pu,null,g.createElement(dm,{className:"DVRSetupMapping-buttonBar-uPTOqn ModalFooterButtonBar-buttonBar-UJWGIc"},g.createElement(Dr,{onPress:P},(0,Ce.Z)("Back")),g.createElement(Zd,{type:"submit",kind:or.Primary,form:dye,isDisabled:!!m||l||0===I.length,isSpinning:o},(0,Ce.Z)("Continue")))))}function pye(){var e;const t=(0,v.I0)(),{selectedCountry:n,selectedLanguage:r,languages:{epgLanguages:i,isPending:a,isPopulated:s,error:o}}=(0,v.v9)(Ehe),l=null!=(e=null==r?void 0:r.code)?e:"",c=(0,g.useMemo)((()=>i.map((e=>({value:e.code,label:e.title})))),[i]),d=(0,g.useCallback)((e=>{t(She.actions.epgLanguageSelected({languageCode:e.currentTarget.value}))}),[t]);return(0,g.useEffect)((()=>{s&&n&&!r&&t(She.actions.epgLanguageSelected({languageCode:n.language}))}),[t,s,n,r]),g.createElement(g.Fragment,null,g.createElement(mP,null,(0,Ce.Z)("Language")),a?(0,Ce.Z)("Loading languages..."):null,o?(0,Ce.Z)("We couldn't fetch languages at this moment."):null,s?g.createElement(tm,{name:"languageSelect",value:l,onChange:d},g.createElement("option",{value:""},(0,Ce.Z)("Select Language")),c.map((({value:e,label:t},n)=>g.createElement("option",{key:n,value:e},t)))):null)}const mye="DVRSetupUseXMLTV-form-nL-QjF",hye="DVRSetupUseXMLTV-title-2EyOkm";function gye({onSetStep:e}){const t=(0,v.I0)(),[n]=Hn(),{selectedDevice:r}=(0,v.v9)(The),{selectedLineupGroups:i,languages:{isPopulated:a},channelMappings:{isPending:s,error:o}}=(0,v.v9)(Ehe),l=(0,v.v9)(Ahe),c=(0,v.v9)(Ohe),[d,u]=(0,g.useState)(!1),p=!(null==c?void 0:c.length)&&!(null==l?void 0:l.length),m=!c||(null==c?void 0:c.find((({uuid:e})=>e.includes(Fo.zY)))),h=i.every((e=>e.isChannelMappingsFetched)),{register:y,errors:f,handleSubmit:b}=(0,Sd.cI)({defaultValues:{programGuideTitle:(0,Ce.Z)("My Guide")}}),I=(0,g.useCallback)((()=>{e(i.length>0?yye.Mapping:yye.Device)}),[i.length,e]),S=b((({xmltvPath:e,programGuideTitle:n})=>{t(dhe.actions.setupErrorMessageRemoved()),t(She.actions.xmltvSelectedEPGLineupGroupAdded({path:e,title:n}))})),M=(0,g.useCallback)((()=>{e(yye.AddLineup)}),[e]);(0,g.useEffect)((()=>{u(s)}),[s,u]),(0,g.useEffect)((()=>{if(d&&o&&i.length>0){const e=i[i.length-1];(0,fn.c9)((()=>{t(She.actions.selectedEPGLineupGroupRemoved({lineupGroupUUID:e.uuid}))}))}}),[t,o,i,d,u]),(0,g.useEffect)((()=>{r&&l&&!d&&!h&&t(She.actions.channelMappingsFetchRequested({server:n,device:r,lineups:l}))}),[t,r,l,d,h,n]),(0,g.useEffect)((()=>{a||t(She.actions.epgLanguagesFetchRequested({server:n}))}),[t,n,a]),(0,g.useEffect)((()=>{s||o||!d||e(yye.Mapping)}),[o,s,d,e]),(0,g.useEffect)((()=>{r||e(yye.Device)}),[r,e]);const E=n.platform===Tn.Windows?"C:\\path\\to\\your\\xmltv_file.xml":"/path/to/your/xmltv_file.xml";return g.createElement(g.Fragment,null,g.createElement(cm,{innerClassName:"DVRSetupUseXMLTV-innerModalBody-3iewys ModalBody-innerModalBody-9jyEBh"},m?g.createElement("div",{className:mye},g.createElement("p",{className:hye},(0,Ce.Z)("Use an XMLTV guide")),g.createElement("p",null,p?(0,Ce.Z)("If you are located somewhere that isn't covered by Plex DVR guide data, you can specify a location to an XMLTV service to provide your guide data."):(0,Ce.Z)("Please specify a location to an XMLTV service to provide your guide data.")),g.createElement(Sae.Z,null,g.createElement(pye,null)),g.createElement(Sae.Z,null,g.createElement(mP,{name:"xmltvPath"},(0,Ce.Z)("XMLTV Guide")),g.createElement(Rd,{name:"xmltvPath",placeholder:E,hasError:!!f.xmltvPath,ref:y({required:!0})})),g.createElement(Sae.Z,null,g.createElement(mP,{name:"programGuideTitle"},(0,Ce.Z)("Guide Title")),g.createElement(Rd,{name:"programGuideTitle",hasError:!!f.programGuideTitle,ref:y({required:!0})}))):g.createElement("div",{className:mye},g.createElement("p",{className:hye},(0,Ce.Z)("Unsupported location")),g.createElement("p",null,(0,Ce.Z)("This location isn't covered by Plex DVR guide data. Because you already set up a tuner using Plex DVR guide data, we are unable to offer the option to use a XMLTV guide. Please select a different location."))),p?g.createElement(vr,{kind:or.Primary,onPress:M},(0,Ce.Z)("Don't use XMLTV? Click here to select your location instead.")):null),g.createElement(pu,null,g.createElement(dm,{className:"DVRSetupUseXMLTV-buttonBar-1hnSSL ModalFooterButtonBar-buttonBar-UJWGIc"},g.createElement(Dr,{onPress:I},(0,Ce.Z)("Back")),g.createElement(Zd,{kind:or.Primary,isSpinning:s,isDisabled:!m,onPress:S},(0,Ce.Z)("Continue")))))}var yye,vye;function fye({machineIdentifier:e,providerIdentifier:t,dvrID:n,metricsContext:r,isOpen:i,onModalClose:a}){var s;const[o,l]=(0,g.useState)(yye.Device),c=(0,v.I0)(),d=(0,eo.Z)(i),{selectedDVR:{dvr:u},setupErrorMessage:p}=(0,v.v9)(The),m=(0,g.useCallback)((e=>{c(dhe.actions.setupErrorMessageRemoved()),l(e)}),[c,l]),h=(0,g.useCallback)((()=>{c(dhe.actions.setupReset()),a()}),[c,a]);(0,g.useEffect)((()=>{d&&!i&&l(yye.Device)}),[l,i,d]);const y=function(e){switch(e){case yye.Device:return nge;case yye.XMLTV:return gye;case yye.Info:return cge;case yye.Mapping:return uye;case yye.Download:return age;case yye.AddLineup:return jhe;default:throw new Error("Unmatched DVR setup modal step: "+e)}}(o);return g.createElement(Jt.ZP,{metricsPage:pt.od,name:r},g.createElement(Qn,{machineIdentifier:e,providerIdentifier:null!=(s=null==u?void 0:u.epgIdentifier)?s:t},g.createElement(lu,{className:"DVRSetupModal-modal-2TCbKu Modal-medium-2I8RQW Modal-modal-2XtIR-",isOpen:i,shouldTrackOnClose:!0,onModalClose:h},g.createElement(du,{onModalClose:h},g.createElement(mu,null,o===yye.Download?(0,Ce.Z)("Setup complete"):(0,Ce.Z)("Tuner Setup")),p?g.createElement(zme,{errorMessage:p}):null,g.createElement(y,{dvrID:n,onModalClose:h,onSetStep:m})))))}(vye=yye||(yye={})).Device="device",vye.XMLTV="xmltv",vye.Info="info",vye.Mapping="mapping",vye.Download="download",vye.AddLineup="addLineup";const bye=e=>e.ui.dvrSettingsUI,Iye={guideChannels:{channels:[],isPending:!1,isPopulated:!1,error:null}},Sye=(0,lo.oM)({name:"livetv",initialState:Iye,reducers:{reset:()=>Iye,guideChannelsFetchRequested({guideChannels:e},t){(0,yd.er)(e)},guideChannelsFetchSucceeded({guideChannels:e},{payload:t}){(0,yd.vv)(e),e.channels=t.data},guideChannelsFetchFailed({guideChannels:e},{payload:t}){(0,yd.VQ)(e,t.error)}}}),Mye=(0,fe.P1)(fo,(e=>e.livetv)),Eye=(0,fe.P1)(Mhe,(e=>{var t,n;return null!=(n=null==(t=e.dvrSetup.selectedDVR.dvr)?void 0:t.Device)?n:[]})),Pye=(0,fe.P1)(Mye,(e=>{const{guideChannels:t}=e;return t.channels.reduce(((e,t)=>{const n=e.findIndex((e=>e.identifier===t.identifier));return-1===n?e.push(t):!e[n].hd&&t.hd&&(e[n]=t),e}),[])})),Dye=(0,fe.P1)(Pye,Eye,((e,t)=>{const n=t.reduce(((e,t)=>(t.ChannelMapping&&e.push(...t.ChannelMapping),e)),[]);return e.filter((e=>n.find((t=>t.enabled&&t.lineupIdentifier===e.identifier))))}));var Cye=Object.prototype.hasOwnProperty,wye=Object.getOwnPropertySymbols,Zye=Object.prototype.propertyIsEnumerable;const Tye=parseInt(ng.Z.liveTVSettingsChannelThumbWidth,10),Nye=parseInt(ng.Z.liveTVSettingsChannelThumbHeight,10),Oye=[GS.Z.liveTVSettingsTuner1Color,GS.Z.liveTVSettingsTuner2Color,GS.Z.liveTVSettingsTuner3Color,GS.Z.liveTVSettingsTuner4Color,GS.Z.liveTVSettingsTuner5Color],Aye=(0,g.memo)((function(e){var t=e,{item:n}=t,r=((e,t)=>{var n={};for(var r in e)Cye.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&wye)for(var r of wye(e))t.indexOf(r)<0&&Zye.call(e,r)&&(n[r]=e[r]);return n})(t,["item"]);const[i,a]=Hn(),s=oo(r),o=(0,g.useMemo)((()=>{return e=null==n?void 0:n.identifier,(0,fe.P1)(Eye,(t=>e?t.reduce(((t,n,r)=>{const{ChannelMapping:i}=n;return(null==i?void 0:i.find((t=>t.enabled&&t.lineupIdentifier===e)))&&t.push(r),t}),[]):[]));var e}),[n]),l=(0,v.v9)(o);if(!n||0===l.length)return null;const{callSign:c,thumb:d,vcn:u,hd:p}=n;return g.createElement("div",{className:"LiveTVSettingsChannel-container-34Dw2c",style:s.style},g.createElement("div",{className:"LiveTVSettingsChannel-channelSourceContainer-1I4jup"},l.map((e=>{const t=(Oye.length+e)%Oye.length;return g.createElement("div",{key:e,className:"LiveTVSettingsChannel-channelSource-1kK6iD",style:{backgroundColor:Oye[t]}})}))),d?g.createElement(xt.Z,{key:d,className:"LiveTVSettingsChannel-thumb-1MR8E_",serverEntityID:i.entityID,providerEntityID:a.entityID,url:d,backgroundSize:"contain",width:Tye,height:Nye}):null,g.createElement("div",{className:Te()("LiveTVSettingsChannel-vcn-lK_M16",!d&&"LiveTVSettingsChannel-vcnGap-3Cnip8")},u),g.createElement("div",{className:"LiveTVSettingsChannel-title-1D4mJK"},c),p?g.createElement(RL.Z,{className:"LiveTVSettingsChannel-hdBadge-3a6G5c"},(0,Ce.Z)("HD")):null)})),xye="LiveTVSettingsChannelList-emptyContainer-cD89Rg",jye="LiveTVSettingsChannelList-emptyMessage-Va4Xho";var Lye=Object.defineProperty,kye=Object.prototype.hasOwnProperty,Rye=Object.getOwnPropertySymbols,zye=Object.prototype.propertyIsEnumerable,Uye=(e,t,n)=>t in e?Lye(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;function Vye(){const e=(0,v.I0)(),[t,n]=Hn(),r=(0,g.useMemo)((()=>tv(t,n)),[n,t]),{guideChannels:{isPending:i}}=(0,v.v9)(Mye),a=(0,v.v9)(Dye),s=!!(0,v.v9)(r);(0,g.useEffect)((()=>{s||e(Sye.actions.guideChannelsFetchRequested({server:t,provider:n}))}),[e,t,n,s]);const o=(0,g.useMemo)((()=>Pu({rowHeight:parseInt(ng.Z.liveTVSettingsChannelItemHeight,10),innerVerticalPadding:2,overscan:1})),[]),l=(0,g.useMemo)((()=>e=>e.item?g.createElement(Aye,((e,t)=>{for(var n in t||(t={}))kye.call(t,n)&&Uye(e,n,t[n]);if(Rye)for(var n of Rye(t))zye.call(t,n)&&Uye(e,n,t[n]);return e})({},e)):g.createElement(g.Fragment,null)),[]),c=s||i;return g.createElement("div",{className:"LiveTVSettingsChannelList-container-1bxCmS"},c?g.createElement("div",{className:xye},g.createElement(lt,null),s?g.createElement(g.Fragment,null,g.createElement("div",{className:jye},(0,Ce.Z)("We're now building your Guide")),g.createElement("div",{className:jye},(0,Ce.Z)("Hang tight while we download all the data for what's on"))):null):null,!c&&a.length>0?g.createElement(Hu,{className:"LiveTVSettingsChannelList-scroller-SHyRha VirtualListScroller-scroller-2VrU8W Scroller-scroller-3Rbtv0",items:a,totalSize:a.length,layout:o,cellComponentFactory:l}):null,c||0!==a.length?null:g.createElement("div",{className:xye},g.createElement("div",{className:jye},(0,Ce.Z)("Your Guide is empty")),g.createElement("div",{className:jye},(0,Ce.Z)("Please verify your channel mappings and refresh the Guide"))))}function Bye({server:e,provider:t}){const n=(0,v.I0)();return(0,g.useCallback)((r=>{n((0,UT.gj)({server:e,provider:t,legacyAction:r}))}),[n,t,e])}var Fye=n(43888);const _ye=function(){return(0,fe.P1)((e=>e.ui.dvrSettingsUI),((e,{dvrID:t})=>t),((e,t)=>{const n=e.dvrs;return S().find(n,{key:t})}))};var Hye=n(55344);var Qye=Object.defineProperty,Gye=Object.prototype.hasOwnProperty,Wye=Object.getOwnPropertySymbols,Yye=Object.prototype.propertyIsEnumerable,Kye=(e,t,n)=>t in e?Qye(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;class qye extends g.Component{componentDidUpdate(e,t){e.isSaving&&!this.props.isSaving&&null==this.props.saveError&&this.props.onModalClose()}render(){const{prefs:e,isSaving:t,saveError:n,onSubmit:r,onModalClose:i}=this.props;return g.createElement(qae.ZP,{className:"DVRSettingsModalContent-form-3MGXkj",onSubmit:r},g.createElement(Tw.Z,{onModalClose:i},g.createElement(vw.Z,null,(0,Ce.Z)("DVR Settings")),n?g.createElement(ww.Z,{errorMessage:(0,x7.Z)(n,(0,Ce.Z)("There was a problem saving your changes. Please try again."))}):null,g.createElement(hw.Z,null,e.map((e=>{const{id:t}=e;return g.createElement(Hye.Z,((e,t)=>{for(var n in t||(t={}))Gye.call(t,n)&&Kye(e,n,t[n]);if(Wye)for(var n of Wye(t))Yye.call(t,n)&&Kye(e,n,t[n]);return e})({key:t},e))}))),g.createElement(gw.Z,null,g.createElement(yw.Z,null,g.createElement(cb.Z,{kind:ic.TP,size:Rp.M2,onPress:i},(0,Ce.Z)("Cancel")),g.createElement(fw.Z,{type:"submit",isSpinning:t,kind:ic._8,size:Rp.M2},(0,Ce.Z)("Save"))))))}}const $ye=qye;var Jye=Object.defineProperty,Xye=Object.prototype.hasOwnProperty,eve=Object.getOwnPropertySymbols,tve=Object.prototype.propertyIsEnumerable,nve=(e,t,n)=>t in e?Jye(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,rve=(e,t)=>{for(var n in t||(t={}))Xye.call(t,n)&&nve(e,n,t[n]);if(eve)for(var n of eve(t))tve.call(t,n)&&nve(e,n,t[n]);return e};class ive extends g.Component{constructor(){super(...arguments),this.onSubmit=e=>{const{serverEntityID:t,dvrID:n}=this.props;(0,fn.c9)((()=>{this.props.saveDVRSettings({serverEntityID:t,dvrID:n,prefs:e})}))},this.onModalClose=()=>{this.props.clearDVRSettingsSaveError({dvrID:this.props.dvrID}),this.props.onModalClose()}}render(){return g.createElement($ye,rve(rve({},this.props),{onSubmit:this.onSubmit,onModalClose:this.onModalClose}))}}const ave=(0,v.$j)((function(){return(0,fe.P1)(_ye(),(e=>{const{prefs:t,isSaving:n,saveError:r}=e;return{prefs:t.filter((e=>!e.hidden)),isSaving:n,saveError:r}}))}),{saveDVRSettings:Fye.q9,clearDVRSettingsSaveError:Fye.JA})(ive);var sve=Object.defineProperty,ove=Object.prototype.hasOwnProperty,lve=Object.getOwnPropertySymbols,cve=Object.prototype.propertyIsEnumerable,dve=(e,t,n)=>t in e?sve(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const uve=function(e){const t=e,{isOpen:n,metricsProperties:r,onModalClose:i}=t,a=((e,t)=>{var n={};for(var r in e)ove.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&lve)for(var r of lve(e))t.indexOf(r)<0&&cve.call(e,r)&&(n[r]=e[r]);return n})(t,["isOpen","metricsProperties","onModalClose"]);return g.createElement(Zw.Z,{isOpen:n,metricsPage:pt.TD,metricsProperties:r,onModalClose:i},g.createElement(ave,((e,t)=>{for(var n in t||(t={}))ove.call(t,n)&&dve(e,n,t[n]);if(lve)for(var n of lve(t))cve.call(t,n)&&dve(e,n,t[n]);return e})({onModalClose:i},a)))};var pve=n(34272);const mve={container:"LiveTVSettingsDVR-container-2pGc3m",action:"LiveTVSettingsDVR-action-3wOxMZ Link-link-2WGTd7",spinner:"LiveTVSettingsDVR-spinner-24NuTF Spinner-spinner-CSMaLA spin-spin-34xiUE",spinnerContainer:"LiveTVSettingsDVR-spinnerContainer-1Ga3GV",actionIcon:"LiveTVSettingsDVR-actionIcon-1YkXD-"},hve={context:OC.SETTINGS};function gve({dvr:e,hasDVRFeature:t,hasLiveTVSetupFeature:n}){const r=(0,v.I0)(),[i,a]=Hn(),s=(0,gd.Z)(),o=(0,gd.Z)(),l=(0,g.useMemo)((()=>tv(i,a)),[a,i]),c=(0,v.v9)(l),{isCancellingReloadGuide:d,isDeletingDVR:u}=(0,v.v9)(The),p=Bye({server:i,provider:a}),m=(0,g.useCallback)((()=>{r(dhe.actions.dvrDeleteRequested({server:i,dvrID:e.key})),s.onClose()}),[e,i,r,s]),h=(0,g.useCallback)((()=>{p(nN({dvrID:Number(e.key)}))}),[e,p]),y=(0,g.useCallback)((()=>{r(dhe.actions.cancelReloadGuide()),p(rN({dvrID:Number(e.key)}))}),[r,p,e]),f=!!e.Setting,b=(0,lb.Z)(i.version,ib.Z.freeLiveTVDVRSettings),I=(t||n&&b)&&f;return g.createElement("div",{className:mve.container},I?g.createElement(vr,{className:mve.action,kind:or.Primary,onPress:o.onOpen},g.createElement(el.Z,{className:mve.actionIcon}),(0,Ce.Z)("DVR Settings")):null,d?g.createElement("div",{className:mve.spinnerContainer},g.createElement(lt,{size:st.Small,className:mve.spinner}),(0,Ce.Z)("Cancelling guide refresh...")):null,!d&&c?g.createElement(vr,{kind:or.Default,className:mve.action,title:(0,Ce.Z)("Cancel refresh"),isDisabled:u,onPress:y},g.createElement(cu.Z,{className:mve.actionIcon}),c.title," (",c.progress,"%)",g.createElement(rs.Z,{className:mve.separator}),c.subtitle):null,d||c?null:g.createElement(vr,{kind:or.Primary,className:mve.action,isDisabled:u,onPress:h},g.createElement(pve.Z,{className:mve.actionIcon}),(0,Ce.Z)("Refresh Guide")),u?g.createElement("div",{className:mve.spinnerContainer},g.createElement(lt,{size:st.Small,className:mve.spinner}),(0,Ce.Z)("Deleting DVR...")):g.createElement(vr,{kind:or.Primary,onPress:s.onOpen},(0,Ce.Z)("Delete DVR")),g.createElement(yt.Z,{isOpen:s.isOpen,metricsPage:pt.O6,title:(0,Ce.Z)("Delete DVR"),message:(0,Ce.Z)("Deleting your DVR will remove the Guide, and all scheduled recordings will be suspended. Programming you've previously recorded will remain in your library."),confirmLabel:(0,Ce.Z)("Delete"),kind:or.Danger,onConfirm:m,onCancel:s.onClose}),g.createElement(uve,{isOpen:o.isOpen,serverEntityID:i.entityID,dvrID:Number(e.key),metricsProperties:hve,onModalClose:o.onClose}))}function yve(e){var t=e["aria-label"],n=e.className,r=e.style,i={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-toolbar-filter-add-560"};i["aria-hidden"]=!t,i.style=r,i.className=oa.Z.plexIcon+(n?" "+n:"");var a=[g.createElement.apply(g,["path",{d:"m280 518c-131.44 0-238-106.56-238-238 0-131.44 106.56-238 238-238 131.44 0 238 106.56 238 238 0 131.44-106.56 238-238 238m0-42c108.25 0 196-87.75 196-196 0-108.25-87.75-196-196-196-108.25 0-196 87.75-196 196 0 108.25 87.75 196 196 196m-126-218.4h103.6v-103.6h44.8v103.6h103.6v44.8h-103.6v103.6h-44.8v-103.6h-103.6v-44.8"}].concat([]))];return t&&a.unshift(g.createElement("title",null,t)),g.createElement.apply(g,["svg",i].concat(a))}yve.propTypes={"aria-label":sa().string,className:sa().string,style:sa().object};const vve=yve,fve="DVRManageChannelsModal-innerContainer-17uZ4W",bve="channel-mappings-form";function Ive({deviceKey:e,isOpen:t,onModalClose:n}){const r=(0,v.I0)(),[i]=Hn(),{hasScannedChannels:a,isSavingChannelMappings:s,channelMappingsSaveError:o}=(0,v.v9)(The),{lineupChannels:{isPending:l,isPopulated:c}}=(0,v.v9)(Ehe),d=(0,g.useMemo)((()=>Lhe(i)),[i]),u=(0,g.useMemo)((()=>Khe(e)),[e]),p=(0,g.useMemo)((()=>Xge(e)),[e]),m=(0,v.v9)(p),h=(0,v.v9)(d),y=(0,v.v9)(Nge),f=(0,v.v9)(Ohe),{channels:b,isPending:I}=(0,v.v9)(u),S=(0,eo.Z)(s),M=(0,g.useMemo)((()=>eye(m,y,f)),[m,y,f]);(0,g.useEffect)((()=>{r(dhe.actions.deviceSelected({deviceKey:e}))}),[r,e]),(0,g.useEffect)((()=>{a&&(0,fn.c9)((()=>{r(dhe.actions.deviceChannelsFetchRequested({server:i,deviceKey:e}))}))}),[r,i,e,a]),(0,g.useEffect)((()=>{l||c||r(She.actions.selectedDVRLineupChannelsFetchRequested({server:i}))}),[r,i,l,c]),(0,g.useEffect)((()=>{!S||s||o||n()}),[s,S,o,n]);const E=(0,g.useCallback)((t=>{(0,fn.c9)((()=>{r(dhe.actions.deviceChannelMappingsSaveRequested({server:i,deviceKey:e,mappings:t}))}))}),[r,i,e]);return g.createElement(Jt.ZP,{metricsPage:pt.od,name:OC.SETTINGS},g.createElement(lu,{className:"DVRManageChannelsModal-modal-d2Jol0 Modal-medium-2I8RQW Modal-modal-2XtIR-",isOpen:t,onModalClose:n},g.createElement(du,{onModalClose:n},g.createElement(mu,null,(0,Ce.Z)("Channel Matching")),g.createElement(cm,{className:"DVRManageChannelsModal-modalBody-15EXpO ModalBody-modalBody-O9hN9W",innerClassName:"DVRManageChannelsModal-innerModalBody-2HYZ-_"},!h&&!I&&!l&&b.length>0?g.createElement("div",{className:"DVRManageChannelsModal-lineupsContainer-TbSvMv EPGLineups-container-QsdqUl"},g.createElement("div",{className:"DVRManageChannelsModal-lineupsLabel-2jJKsV"},(0,Ce.Z)("EPG Location")),g.createElement("div",{className:"DVRManageChannelsModal-lineups-lDmMP0 EPGLineups-lineups-3tZZmW"},Object.keys(M).map((e=>{const t=M[e],n=null==f?void 0:f.find((t=>t.uuid===e));if(0!==t&&n)return g.createElement("div",{key:e,className:"DVRManageChannelsModal-lineup-3RwhOG EPGLineups-lineup-1tKy6C"},n.title)})))):null,!h&&!l&&!I&&b.length>0?g.createElement(Jge,{id:bve,channelMappings:m,onSubmit:E}):null,h||!I&&!l?null:g.createElement("div",{className:fve},g.createElement(lt,null)),I||l?null:g.createElement(bge,{className:fve})),g.createElement(pu,null,g.createElement(dm,{className:"DVRManageChannelsModal-buttonBar-3kc17r ModalFooterButtonBar-buttonBar-UJWGIc"},g.createElement(Dr,{onPress:n},(0,Ce.Z)("Cancel")),g.createElement(Zd,{type:"submit",kind:or.Primary,form:bve,isDisabled:s||!!h||0===m.length,isSpinning:s},(0,Ce.Z)("Save")))))))}const Sve=function(){return(0,fe.P1)(((e,{deviceID:t})=>t),_ye(),((e,t)=>{if(t)return S().find(t.devices,{key:e})}))};function Mve(e){const{className:t,serverEntityID:n,providerEntityID:r,model:i,thumb:a,width:s,height:o}=e;let l;switch(i){case"HDHomeRun CONNECT":l=zhe;break;case"HDHomeRun EXPAND":l=Uhe;break;case"HDHomeRun EXTEND":l=Vhe;break;case"HDHomeRun PRIME":l=Bhe}return g.createElement(xt.Z,{serverEntityID:n,providerEntityID:r,className:t,url:a,emptySrc:l,width:s,height:o})}Mve.defaultProps={className:"DVRDeviceImage-image-2kaCDN"};const Eve=Mve;var Pve=Object.defineProperty,Dve=Object.prototype.hasOwnProperty,Cve=Object.getOwnPropertySymbols,wve=Object.prototype.propertyIsEnumerable,Zve=(e,t,n)=>t in e?Pve(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;class Tve extends g.Component{constructor(e,t){super(e,t),this.onDeviceTitleChange=e=>{this.setState({deviceTitle:e})},this.state={deviceTitle:e.title||""}}componentDidUpdate(e,t){e.isSaving&&!this.props.isSaving&&null==this.props.saveError&&this.props.onModalClose()}render(){const{serverEntityID:e,model:t,uri:n,thumb:r,prefs:i,isSaving:a,saveError:s,onSubmit:o,onModalClose:l}=this.props;return g.createElement(qae.ZP,{className:"DVRDeviceSettingsModalContent-form-16KnNv",onSubmit:o},g.createElement(Tw.Z,{onModalClose:l},g.createElement(vw.Z,null,(0,Ce.Z)("Device Settings")),s?g.createElement(ww.Z,{errorMessage:(0,x7.Z)(s,(0,Ce.Z)("There was a problem saving your changes. Please try again."))}):null,g.createElement(hw.Z,null,g.createElement("div",{className:"DVRDeviceSettingsModalContent-container-2_Ip-1"},g.createElement(Eve,{className:"DVRDeviceSettingsModalContent-deviceImage-3fbBju",serverEntityID:e,model:t,thumb:r,width:150,height:150}),g.createElement("div",{className:"DVRDeviceSettingsModalContent-info-3lu81b"},g.createElement("div",{className:"DVRDeviceSettingsModalContent-model-3QA9jS"},t),g.createElement("div",null,n),g.createElement("div",{className:"DVRDeviceSettingsModalContent-settings-3KYEKO"},g.createElement(Hye.Z,{id:"deviceTitle",type:"text",value:this.state.deviceTitle,label:(0,Ce.Z)("Device Name")}),i.map((e=>{const{id:t}=e;return g.createElement(Hye.Z,((e,t)=>{for(var n in t||(t={}))Dve.call(t,n)&&Zve(e,n,t[n]);if(Cve)for(var n of Cve(t))wve.call(t,n)&&Zve(e,n,t[n]);return e})({key:t},e))})))))),g.createElement(gw.Z,null,g.createElement(yw.Z,null,g.createElement(cb.Z,{kind:ic.TP,size:Rp.M2,onPress:l},(0,Ce.Z)("Cancel")),g.createElement(fw.Z,{type:"submit",isSpinning:a,kind:ic._8,size:Rp.M2},(0,Ce.Z)("Save"))))))}}const Nve=Tve;var Ove=Object.defineProperty,Ave=Object.prototype.hasOwnProperty,xve=Object.getOwnPropertySymbols,jve=Object.prototype.propertyIsEnumerable,Lve=(e,t,n)=>t in e?Ove(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,kve=(e,t)=>{for(var n in t||(t={}))Ave.call(t,n)&&Lve(e,n,t[n]);if(xve)for(var n of xve(t))jve.call(t,n)&&Lve(e,n,t[n]);return e};class Rve extends g.Component{constructor(){super(...arguments),this.onSubmit=e=>{const{serverEntityID:t,dvrID:n,deviceID:r}=this.props,i=e,{deviceTitle:a}=i,s=((e,t)=>{var n={};for(var r in e)Ave.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&xve)for(var r of xve(e))t.indexOf(r)<0&&jve.call(e,r)&&(n[r]=e[r]);return n})(i,["deviceTitle"]);(0,fn.c9)((()=>{this.props.saveDeviceSettings({serverEntityID:t,dvrID:n,deviceID:r,prefs:s}),this.props.saveDeviceTitle({serverEntityID:t,dvrID:n,deviceID:r,title:a})}))},this.onModalClose=()=>{const{dvrID:e,deviceID:t}=this.props;this.props.clearDeviceSettingsSaveError({dvrID:e,deviceID:t}),this.props.onModalClose()}}render(){return g.createElement(Nve,kve(kve({},this.props),{onSubmit:this.onSubmit,onModalClose:this.onModalClose}))}}const zve=(0,v.$j)((function(){return(0,fe.P1)(((e,{dvrID:t})=>t),Sve(),((e,t)=>{const{key:n,model:r,uri:i,prefs:a,title:s,thumb:o,isSaving:l,saveError:c}=t;return{dvrID:e,deviceID:n,model:r,uri:i,prefs:a,title:s,thumb:o,isSaving:l,saveError:c}}))}),{saveDeviceSettings:Fye.T5,saveDeviceTitle:Fye.Ao,clearDeviceSettingsSaveError:Fye.ds})(Rve);var Uve=Object.defineProperty,Vve=Object.prototype.hasOwnProperty,Bve=Object.getOwnPropertySymbols,Fve=Object.prototype.propertyIsEnumerable,_ve=(e,t,n)=>t in e?Uve(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const Hve=function(e){const t=e,{isOpen:n,metricsProperties:r,onModalClose:i}=t,a=((e,t)=>{var n={};for(var r in e)Vve.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&Bve)for(var r of Bve(e))t.indexOf(r)<0&&Fve.call(e,r)&&(n[r]=e[r]);return n})(t,["isOpen","metricsProperties","onModalClose"]);return g.createElement(Zw.Z,{isOpen:n,metricsPage:pt.qT,metricsProperties:r,onModalClose:i},g.createElement(zve,((e,t)=>{for(var n in t||(t={}))Vve.call(t,n)&&_ve(e,n,t[n]);if(Bve)for(var n of Bve(t))Fve.call(t,n)&&_ve(e,n,t[n]);return e})({onModalClose:i},a)))},Qve="LiveTVSettingsDevice-deviceActionButton-2kjwDW IconButton-iconButton-1kbRFb Link-link-2WGTd7",Gve="LiveTVSettingsDevice-attribute-2-HhqI",Wve="LiveTVSettingsDevice-attributeTitle-3mceAq",Yve="LiveTVSettingsDevice-attributeValue-1cUYmg",Kve={context:OC.SETTINGS};function qve({dvrID:e,deviceKey:t,model:n,title:r,status:i,uri:a,tunerCount:s,channelMappings:o,canRemoveDevice:l,hasPrefs:c}){var d;const u=(0,v.I0)(),[p]=Hn(),m=(0,gd.Z)(),h=(0,gd.Z)(),y=(0,g.useMemo)((()=>((e,t)=>(0,fe.P1)(Jy(e),(e=>e.reduce(((e,n)=>(n.type===Ume.GrabberGrab&&(null==n?void 0:n.Context.deviceID)===t&&e++,e)),0))))(p,t)),[p,t]),f=(0,g.useMemo)((()=>Khe(t)),[t]),b=(0,v.v9)(y),{channels:I,isPending:S}=(0,v.v9)(f),M=(0,g.useMemo)((()=>function(e,t){return Array.from({length:e}).map(((e,n)=>({active:n<t})))}(s,b)),[s,b]),E=i===_me.Dead,P=null!=(d=null==o?void 0:o.filter((e=>e.enabled)).length)?d:0,D=(0,g.useCallback)((()=>{u(dhe.actions.removeDVRDeviceRequested({server:p,dvrID:e,deviceKey:t}))}),[u,p,e,t]),C=(0,g.useCallback)((()=>{h.onClose(),u(dhe.actions.dvrFetchRequested({server:p}))}),[u,p,h]),w=(0,g.useCallback)((()=>{m.onClose(),u(dhe.actions.dvrFetchRequested({server:p}))}),[u,p,m]);return(0,g.useEffect)((()=>{u(dhe.actions.deviceChannelsFetchRequested({server:p,deviceKey:t}))}),[u,p,t]),g.createElement("div",{className:"LiveTVSettingsDevice-container-37Pnjm"},g.createElement("div",{className:"LiveTVSettingsDevice-modelContainer-1nsDdm"},g.createElement("div",{className:"LiveTVSettingsDevice-title-1q0M-E"},null!=r?r:n),c?g.createElement(Ng,{iconComponent:el.Z,className:Qve,title:(0,Ce.Z)("Device Settings"),onPress:m.onOpen}):null,l?g.createElement(Ng,{iconComponent:cu.Z,className:Qve,kind:or.Danger,title:(0,Ce.Z)("Remove Device"),onPress:D}):null),E?g.createElement("div",{className:"LiveTVSettingsDevice-deviceWarning-GONRJC"},g.createElement("div",{className:"LiveTVSettingsDevice-deviceWarningIconContainer-10F_hL"},g.createElement(we.Z,null)),(0,Ce.Z)("Device not found. Ensure your device is powered on and connected to your network.")):g.createElement(g.Fragment,null,g.createElement("div",{className:Gve},g.createElement("div",{className:Wve},(0,Ce.Z)("Tuner status")),g.createElement("div",{className:Yve},M.map(((e,t)=>g.createElement("div",{key:t,className:Te()("LiveTVSettingsDevice-tuner-3gPLjh",e.active&&"LiveTVSettingsDevice-activeTuner-3k3Q7g")}))))),g.createElement("div",{className:Gve},g.createElement("div",{className:Wve},(0,Ce.Z)("Channels")),g.createElement("div",{className:Yve},S?(0,Ce.Z)("Loading channels..."):g.createElement(g.Fragment,null,"(",I.length,")",g.createElement(vr,{kind:or.Primary,className:"LiveTVSettingsDevice-enabledChannelsCount-1kqme2 Link-link-2WGTd7",onPress:h.onOpen},(0,Ce.Z)("{enabledChannelsCount} enabled",{enabledChannelsCount:P}))))),a?g.createElement("div",{className:Gve},g.createElement("div",{className:Wve},(0,Ce.Z)("IP address")),g.createElement("div",{className:Yve},a)):null,r?g.createElement("div",{className:Gve},g.createElement("div",{className:Wve},(0,Ce.Z)("Model")),g.createElement("div",{className:Yve},n)):null),E?null:g.createElement(Ive,{deviceKey:t,isOpen:h.isOpen,onModalClose:C}),E?null:g.createElement(Hve,{serverEntityID:p.entityID,dvrID:Number(e),deviceID:Number(t),metricsProperties:Kve,isOpen:m.isOpen,onModalClose:w}))}function $ve({dvrID:e,onAddDevicePress:t}){const n=(0,v.v9)(Eye);return g.createElement("div",null,null==n?void 0:n.map((t=>{var r;return g.createElement(qve,{key:t.key,dvrID:e,deviceKey:t.key,model:t.model,title:t.title,uri:t.uri,status:t.status,canRemoveDevice:n.length>1,hasPrefs:!!(null==(r=t.Setting)?void 0:r.length),tunerCount:t.tuners,channelMappings:t.ChannelMapping})})),g.createElement(Dr,{className:"LiveTVSettingsDeviceList-addDeviceButton-1p-pfu",onPress:t},g.createElement(vve,{className:"LiveTVSettingsDeviceList-addDeviceButtonIcon-2jBkOw"}),(0,Ce.Z)("Add another device")))}var Jve=n(72936);function Xve(e){const{className:t,iconComponent:n,title:r,text:i}=e;return g.createElement("div",{className:t},g.createElement("div",{className:"PlexPassUpsell-iconContainer-2iPdlN"},g.createElement(n,{className:"PlexPassUpsell-icon-c1vt03"})),g.createElement("div",{className:"PlexPassUpsell-title-lX_QYk"},r),g.createElement("div",{className:"PlexPassUpsell-text-QyYlfY"},i))}Xve.defaultProps={className:"PlexPassUpsell-upsell-We6k8R"};const efe=Xve;function tfe(e){const{className:t,iconComponent:n,title:r,text:i,moreInfo:a,children:s}=e;return g.createElement("div",{className:t},g.createElement(efe,{className:"PlexPassUpsellInfo-upsell-1RV-Mt PlexPassUpsell-upsell-We6k8R",iconComponent:n,title:r,text:i}),g.createElement("div",{className:"PlexPassUpsellInfo-moreInfo-3eVCqS"},a),s)}tfe.defaultProps={className:"PlexPassUpsellInfo-info-1sNK2J"};class nfe extends g.Component{constructor(e,t){super(e,t),this.onPlexPassPress=()=>{this.setState({isPlexPassModalOpen:!0})},this.onPlexPassModalClose=()=>{this.setState({isPlexPassModalOpen:!1})},this.state={isPlexPassModalOpen:!1}}render(){const{modalMetricsProperties:e,origin:t}=this.props,{isPlexPassModalOpen:n}=this.state;return g.createElement(cb.Z,{kind:ic._8,size:Rp.ln,onPress:this.onPlexPassPress},(0,Ce.Z)("Get a Plex Pass"),g.createElement(Hp.Z,{origin:t,metricsProperties:e,isOpen:n,onModalClose:this.onPlexPassModalClose}))}}const rfe=nfe;var ife=Object.defineProperty,afe=Object.prototype.hasOwnProperty,sfe=Object.getOwnPropertySymbols,ofe=Object.prototype.propertyIsEnumerable,lfe=(e,t,n)=>t in e?ife(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,cfe=(e,t)=>{for(var n in t||(t={}))afe.call(t,n)&&lfe(e,n,t[n]);if(sfe)for(var n of sfe(t))ofe.call(t,n)&&lfe(e,n,t[n]);return e};const dfe=(0,v.$j)((function(){return(0,fe.P1)(jme.Z,(0,LT.Z)(),((e,t)=>({machineIdentifier:t.machineIdentifier,isClaimed:t.isClaimed,isSignedIn:!!e&&e.signedIn,hasPlexSubscription:!!e&&e.hasPlexSubscription})))}))((function(e){const{machineIdentifier:t,origin:n,modalMetricsProperties:r,isSignedIn:i,isClaimed:a,hasPlexSubscription:s}=e;return s&&a?null:!s&&i?g.createElement(rfe,{origin:n,modalMetricsProperties:r}):g.createElement(cb.Z,{kind:ic._8,size:Rp.ln,to:(0,Nv.Z)(t,"settings","general")},i?(0,Ce.Z)("Claim Server"):(0,Ce.Z)("Sign In"))}));dfe.propTypes=cfe(cfe({},dfe.propTypes),{serverEntityID:sa().string.isRequired});const ufe=dfe;function pfe(e){var t=e["aria-label"],n=e.className,r=e.style,i={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-marketing-dvr-560"};i["aria-hidden"]=!t,i.style=r,i.className=oa.Z.plexIcon+(n?" "+n:"");var a=[g.createElement.apply(g,["path",{d:"m420 280c-77.21 0-140 62.79-140 140 0 77.21 62.79 140 140 140 77.21 0 140-62.79 140-140 0-77.21-62.79-140-140-140m0 256.67c-64.33 0-116.67-52.34-116.67-116.67 0-64.33 52.34-116.67 116.67-116.67 64.33 0 116.67 52.34 116.67 116.67 0 64.33-52.34 116.67-116.67 116.67m128.33-373.35h-.035c6.44 0 11.672 5.232 11.672 11.672v104.88h-23.328v-93.22h-513.33v282.36c0 11.584 9.8 20.982 21.892 20.982h188.11v23.328h-188.11c-24.937 0-45.22-19.88-45.22-44.31v-294.02c0-6.44 5.233-11.672 11.673-11.672h536.67m-128.33 186.67c-38.587 0-70 31.413-70 70 0 38.587 31.413 70 70 70 38.587 0 70-31.413 70-70 0-38.587-31.413-70-70-70m0 116.67c-25.742 0-46.672-20.93-46.672-46.673 0-25.742 20.93-46.672 46.672-46.672 25.743 0 46.673 20.93 46.673 46.672 0 25.743-20.93 46.673-46.673 46.673m105-466.67h.018c19.302 0 35 15.698 35 35.02v93.31c0 6.439-5.233 11.672-11.673 11.672h-536.67c-6.44 0-11.673-5.232-11.673-11.672v-93.31c0-19.32 15.697-35.02 35-35.02h490m10.833 31.03c-1.629-4.462-5.828-7.682-10.85-7.682h-41.808l-93.33 93.33h60.34l85.64-85.65m-458.97 85.65l93.33-93.33h-48.668l-93.33 93.33h48.667m459.81 0v-53.48l-53.48 53.48h53.48m-366.47-.018l93.33-93.33h-60.34l-93.33 93.33h60.34m93.33 0l93.33-93.33h-60.34l-93.33 93.33h60.34m93.33 0l93.33-93.33h-60.34l-93.33 93.33h60.34m-321.86-93.33h.017c-6.44 0-11.672 5.25-11.672 11.69v53.5l65.19-65.19h-53.52-.017"}].concat([]))];return t&&a.unshift(g.createElement("title",null,t)),g.createElement.apply(g,["svg",i].concat(a))}pfe.propTypes={"aria-label":sa().string,className:sa().string,style:sa().object};const mfe=pfe;function hfe({hasDVRFeature:e,hasLiveTVSetupFeature:t,onSetupPress:n}){const[r]=Hn();return g.createElement(tfe,{iconComponent:mfe,title:(0,Ce.Z)("Introducing Live TV & DVR"),text:(0,Ce.Z)("With Plex Pass and a digital tuner, you can record over-the-air broadcast TV and watch your favorite shows, movies, news, and sports on any device, anywhere in the world. Cut the cord and love TV again."),moreInfo:g.createElement(KV.Z,{message:(0,Ce.Z)("To get started recording TV, connect a tuner device to your network. Here's a {openLinkSupported}list of supported devices{closeLinkSupported}. However, some tuners not officially supported {openLinkUnsupported}work as well{closeLinkUnsupported}!"),tags:[{open:"openLinkSupported",close:"closeLinkSupported",component:pw.Z,kind:ic._8,to:iy.cW,target:"_blank"},{open:"openLinkUnsupported",close:"closeLinkUnsupported",component:pw.Z,kind:ic._8,to:iy.hJ,target:"_blank"}]})},e||t?g.createElement(cb.Z,{kind:ic._8,size:Rp.ln,onPress:n},(0,Ce.Z)("Set Up Plex DVR")):g.createElement(ufe,{serverEntityID:r.entityID,origin:Jve.od,modalMetricsProperties:{context:OC.DVR_SETUP}}))}const gfe="LiveTVSettingsPage-sectionTitle-2u_Hbr";function yfe(){const e=(0,v.I0)(),[t]=Hn(),n=t.ownerFeatures.includes(bn.KH),r=(0,v.v9)((s=t.machineIdentifier,(0,fe.P1)(vm,(e=>e.settings[s])))),i=(0,g.useMemo)((()=>null!=(null==r?void 0:r.isMergeRecentlyAddedEnabled)),[r]),a=(0,g.useMemo)((()=>!r||r.isUpdating||r.isPending||!i),[i,r]);var s;(0,g.useEffect)((()=>{e(ym.actions.settingsFetchRequested({server:t}))}),[e,t]);const o=(0,g.useCallback)((()=>{n&&!a&&e(ym.actions.settingsUpdateRequested({server:t,isMergeRecentlyAddedEnabled:!(null==r?void 0:r.isMergeRecentlyAddedEnabled)}))}),[n,e,a,t,null==r?void 0:r.isMergeRecentlyAddedEnabled]);return n&&i?g.createElement("div",{className:"LibrarySettings-container-3TDQXp"},g.createElement(yN,{name:"recentlyAddedMerged",checked:null==r?void 0:r.isMergeRecentlyAddedEnabled,disabled:a,onChange:o}),g.createElement("div",{className:"LibrarySettings-info-2ghmzU"},g.createElement(mP,{name:"recentlyAddedMerged",className:"LibrarySettings-label-2Jj8RV"},(0,Ce.Z)("Merge Recently Added items")),g.createElement("div",{className:"LibrarySettings-help-2dxz6a"},(0,Ce.Z)("Recently Added items from the same media type will be combined together on Home for libraries Recommended to Home. Only content from libraries pinned to the app sidebar will appear in Merged Recently Added recommendations.")))):null}function vfe({target:e,isOpen:t,contentDirectory:n,onMenuClose:r,onMenuCloseComplete:i}){const[a,s]=Hn(),{metricsPage:o,metricsContextTuple:l}=(0,Jt.Zn)(),c=(0,gd.Z)(),d=(0,gd.Z)(),u=(0,gd.Z)(),p=(0,gd.Z)(),m=(0,gd.Z)(),h=Bye({server:a,provider:s}),y=(0,g.useMemo)((()=>({page:o,contextTuple:l})),[l,o]),v=(0,g.useCallback)((()=>{h(XC({contentDirectory:n}))}),[n,h]),f=(0,g.useCallback)((()=>{h(nw({contentDirectory:n}))}),[n,h]),b=(0,g.useCallback)((()=>{h(aw({contentDirectory:n}))}),[n,h]),I=(0,g.useCallback)((()=>{h(tw({contentDirectory:n}))}),[n,h]),S=(0,g.useCallback)((()=>{h(rw({contentDirectory:n}))}),[n,h]);return g.createElement(g.Fragment,null,g.createElement(Xl.Z,{target:e,isOpen:t,onMenuClose:r,onMenuCloseComplete:i},g.createElement(ec.Z,{onPress:(0,rc.Z)(r,c.onOpen)},(0,Ce.Z)("Share...")),g.createElement(ec.Z,{onPress:(0,rc.Z)(r,v)},(0,Ce.Z)("Scan Library Files")),g.createElement(ec.Z,{onPress:(0,rc.Z)(r,d.onOpen)},(0,Ce.Z)("Analyze")),g.createElement(ec.Z,{onPress:(0,rc.Z)(r,u.onOpen)},(0,Ce.Z)("Refresh All Metadata")),g.createElement(ec.Z,{onPress:(0,rc.Z)(r,p.onOpen)},(0,Ce.Z)("Empty Trash")),g.createElement(ec.Z,{kind:ic.T,onPress:(0,rc.Z)(r,m.onOpen)},(0,Ce.Z)("Delete"))),g.createElement(xm.Z,{isOpen:c.isOpen,serverEntityID:a.entityID,metricsProperties:y,onModalClose:c.onClose}),g.createElement(yt.Z,{isOpen:d.isOpen,metricsPage:pt.cJ,title:(0,Ce.Z)("Analyze Library"),message:(0,Ce.Z)("Analyzes all the media files in the library. The analysis captures information about the media which helps Plex decide how to optimally play back the media."),confirmLabel:(0,Ce.Z)("Analyze"),onConfirm:(0,rc.Z)(d.onClose,f),onCancel:d.onClose}),g.createElement(yt.Z,{isOpen:u.isOpen,metricsPage:pt.yW,title:(0,Ce.Z)("Refresh All Metadata"),message:(0,Ce.Z)("Forces a download of fresh media information from the internet. This can take a long time. Any locked fields are not modified."),confirmLabel:(0,Ce.Z)("Refresh"),onConfirm:(0,rc.Z)(u.onClose,b),onCancel:u.onClose}),g.createElement(yt.Z,{isOpen:p.isOpen,metricsPage:pt.Y0,title:(0,Ce.Z)("Empty Trash"),message:(0,Ce.Z)("By default the media server doesn't remove information for media right away. This helps if a drive is temporarily disconnected. When you empty the trash for a section, all information about missing media is deleted."),confirmLabel:(0,Ce.Z)("Empty"),onConfirm:(0,rc.Z)(p.onClose,I),onCancel:p.onClose}),g.createElement(yt.Z,{isOpen:m.isOpen,metricsPage:pt.iw,kind:ic.T,title:(0,Ce.Z)("Delete Library"),message:(0,Ce.Z)('The library "{libraryName}" will be removed from this server. Your media files will not be affected. This can\'t be undone. Continue?',{libraryName:n.title}),accordMessage:(0,Ce.Z)('Yes, delete the library "{libraryName}"',{libraryName:n.title}),confirmLabel:(0,Ce.Z)("Delete"),onConfirm:(0,rc.Z)(m.onClose,S),onCancel:m.onClose}))}var ffe=n(17562);const bfe="hasDismissedHubPromotionWarning";function Ife({isOpen:e,onClose:t,onAccept:n}){const r=(0,v.I0)(),[i,a]=(0,g.useState)(!1),s=(0,v.v9)(ra(bfe));(0,g.useEffect)((()=>{e&&s&&n()}),[e,s,n,t]);const o=(0,g.useCallback)((()=>a(!i)),[i]),l=(0,g.useCallback)((()=>{i&&(0,fn.c9)((()=>{r((0,AM.LN)({[bfe]:!0}))})),n()}),[r,i,n]);return s?null:g.createElement(lu,{size:st.Small,isOpen:e,onModalClose:t},g.createElement(du,{onModalClose:t},g.createElement(mu,null,(0,Ce.Z)("Add to Shared Users' Home?")),g.createElement(cm,null,(0,Ce.Z)("Matching items from this library will appear on your users Home screens as long as they have this library pinned to the sidebar. Be nice.")),g.createElement(pu,null,g.createElement("label",{key:"dismiss",className:"PromotionWarningModal-dismiss-2MM_1k"},g.createElement(yN,{name:"dismiss",checked:i,onChange:o}),g.createElement("span",null,(0,Ce.Z)("Don't show again"))),g.createElement(dm,null,g.createElement(Dr,{onPress:t},(0,Ce.Z)("Cancel")),g.createElement(Dr,{kind:or.Primary,onPress:l},(0,Ce.Z)("Accept"))))))}const Sfe={row:"LibraryHubListItem-row-35DHXB",delete:"LibraryHubListItem-delete-3jKhvc",draggingRow:"LibraryHubListItem-draggingRow--Mg2Xr LibraryHubListItem-row-35DHXB",isActive:"LibraryHubListItem-isActive-20XHEs",handle:"LibraryHubListItem-handle-2biLsK",title:"LibraryHubListItem-title-1fg30O",inputs:"LibraryHubListItem-inputs-1VwwXK",input:"LibraryHubListItem-input-3wia70"};var Mfe,Efe,Pfe=Object.defineProperty,Dfe=Object.prototype.hasOwnProperty,Cfe=Object.getOwnPropertySymbols,wfe=Object.prototype.propertyIsEnumerable,Zfe=(e,t,n)=>t in e?Pfe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Tfe=(e,t)=>{for(var n in t||(t={}))Dfe.call(t,n)&&Zfe(e,n,t[n]);if(Cfe)for(var n of Cfe(t))wfe.call(t,n)&&Zfe(e,n,t[n]);return e};function Nfe({sourceURI:e,index:t,options:n,isDragging:r,onRemoveItem:i}){const a=(0,v.I0)(),[s]=Hn(),o=(0,gd.Z)(),[l,c,d]=Yg(),u=(0,g.useCallback)((t=>{a(ym.actions.promoteRequested({server:s,sourceURI:e,options:n,promoted:t}))}),[a,n,s,e]),p=(0,g.useCallback)((e=>{u({promotedToRecommended:e.target.checked})}),[u]),m=(0,g.useCallback)((e=>{u({promotedToOwnHome:e.target.checked})}),[u]),h=(0,g.useCallback)((e=>{u({promotedToSharedHome:e.target.checked})}),[u]),y=(0,g.useCallback)((()=>i(t)),[t,i]),f=(0,g.useCallback)((()=>{o.isOpen&&o.onClose(),u({promotedToSharedHome:!0})}),[o,u]);return g.createElement(ffe._l,{draggableId:n.identifier,index:t},((e,i)=>g.createElement("div",Tfe(Tfe(Tfe({ref:e.innerRef},e.draggableProps),e.dragHandleProps),{onFocus:c,onBlur:d}),g.createElement(Ju,{isAlternate:!r&&t%2==0},g.createElement("div",{className:Te()(i.isDragging?Sfe.draggingRow:Sfe.row,l&&Sfe.isActive)},g.createElement("div",{className:Sfe.handle},g.createElement(PB,null)),g.createElement("div",{className:Sfe.title},n.title),g.createElement("div",{className:Sfe.inputs},g.createElement("label",{htmlFor:`${Mfe.Recommended}-${t}`,className:Sfe.input},g.createElement(yN,{name:`${Mfe.Recommended}-${t}`,checked:n.promotedToRecommended,onChange:p})),g.createElement("label",{htmlFor:`${Mfe.OwnHome}-${t}`,className:Sfe.input},g.createElement(yN,{name:`${Mfe.OwnHome}-${t}`,checked:n.promotedToOwnHome,onChange:m})),g.createElement("label",{htmlFor:`${Mfe.SharedHome}-${t}`,className:Sfe.input},g.createElement(yN,{name:`${Mfe.SharedHome}-${t}`,checked:n.promotedToSharedHome,onChange:n.promotedToSharedHome?h:o.onOpen})),g.createElement("div",{className:Sfe.delete},n.deletable?g.createElement(vr,{className:Sfe.remove,"aria-label":(0,Ce.Z)("Remove Hub"),onPress:y},g.createElement(cu.Z,null)):null)))),g.createElement(Ife,{isOpen:o.isOpen,onClose:o.onClose,onAccept:f}))))}(Efe=Mfe||(Mfe={})).Recommended="recommended",Efe.OwnHome="ownHome",Efe.SharedHome="sharedHome";const Ofe=function(e){return(0,fe.P1)(vm,(t=>t.hubs[e]))};var Afe=Object.defineProperty,xfe=Object.prototype.hasOwnProperty,jfe=Object.getOwnPropertySymbols,Lfe=Object.prototype.propertyIsEnumerable,kfe=(e,t,n)=>t in e?Afe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;function Rfe({sourceURI:e}){const t=(0,v.I0)(),[n]=Hn(),r=(0,v.v9)(Ofe(e)),i=(0,g.useMemo)((()=>{var e;return null!=(e=null==r?void 0:r.options)?e:[]}),[null==r?void 0:r.options]),a=(0,g.useCallback)((r=>{const a=i.findIndex((({identifier:e})=>e===r.draggableId)),s=r.destination.index,o=Array.from(i),[l]=o.splice(a,1);o.splice(s,0,l),(0,fn.c9)((()=>t(ym.actions.reorderRequested({server:n,sourceURI:e,options:o,fromIndex:a,toIndex:s}))))}),[t,i,n,e]),s=(0,g.useCallback)((r=>{const a=Array.from(i),[s]=a.splice(r,1);t(ym.actions.removeRequested({server:n,sourceURI:e,options:a,removed:s,index:r}))}),[t,i,n,e]),o=(0,g.useCallback)((()=>{t(ym.actions.resetRequested({server:n,sourceURI:e}))}),[t,n,e]);return(0,g.useEffect)((()=>{t(ym.actions.hubsFetchRequested({server:n,sourceURI:e}))}),[t,n,e]),g.createElement("div",null,g.createElement(ffe.Z5,{onDragEnd:a},g.createElement(ffe.bK,{droppableId:e},((t,n)=>g.createElement("div",((e,t)=>{for(var n in t||(t={}))xfe.call(t,n)&&kfe(e,n,t[n]);if(jfe)for(var n of jfe(t))Lfe.call(t,n)&&kfe(e,n,t[n]);return e})({ref:t.innerRef},t.droppableProps),i.map(((t,r)=>g.createElement(Nfe,{key:t.identifier,sourceURI:e,index:r,options:t,isDragging:n.isDraggingOver,onRemoveItem:s}))),t.placeholder)))),i.length?g.createElement("div",{className:"LibraryHubList-footer-13HO6A"},g.createElement("div",{className:"LibraryHubList-info-1NGqJY"},(0,Ce.Z)("Sources need to be pinned to the apps sidebar for selected recommendations to display on the Home screen")),g.createElement("div",{className:"LibraryHubList-reset-7agfO_"},g.createElement(vr,{className:"LibraryHubList-action-1RUpu1 Link-link-2WGTd7",onPress:o},g.createElement(pve.Z,{className:"LibraryHubList-resetIcon-251em_"}),(0,Ce.Z)("Reset Customization")))):null)}function zfe(e){return E.Z.join(["/hubs/sections",e,"manage"])}const Ufe="ManageLibrarySummary-action-tnVCwc Link-link-2WGTd7",Vfe="ManageLibrarySummary-header-3wNLR_",Bfe="ManageLibrarySummary-column-1RcUn9",Ffe="ManageLibrarySummary-headerIcon-KlAD1l",_fe="ManageLibrarySummary-spinner-3BMt0T Spinner-spinner-CSMaLA spin-spin-34xiUE ManageLibrarySummary-icon-Nw6Mlf";function Hfe({index:e,contentDirectory:t}){const[n,r]=Hn(),i=(0,No.Z)(),[a,s,o]=Yg(),[l,c]=Oo(),d=(0,gd.Z)(),u=(0,gd.Z)(),p=(0,yn.Z)({serverIdentifier:n.machineIdentifier,key:zfe(t.id)}),m=a||l||d.isOpen||u.isOpen,h=(0,hI.Z)(n,r,t),{title:y}=t,f=Bye({server:n,provider:r}),b=ev(n,t),I=(0,v.v9)(Ofe(p)),S=Ble(null==I?void 0:I.isPending,!0),M=n.ownerFeatures.includes(bn.TE),E=(0,g.useCallback)((()=>{f(ew({contentDirectory:t}))}),[t,f]),P=t.type?od(t.type):null,D=t.agent===TC.Hn&&t.type===ni.pG.Movie?ni.pG.Clip:t.type,C=null!=P?P:D,w=C?g.createElement($y,{className:"ManageLibrarySummary-icon-Nw6Mlf",type:C}):null;return g.createElement(g.Fragment,null,g.createElement(Ju,{className:"ManageLibrarySummary-row-keWtgB",alternateClassName:"ManageLibrarySummary-alternateRow-1GG0d4 ManageLibrarySummary-row-keWtgB",isAlternate:!!(e%2),isHovered:l||a,ref:c,onFocus:s,onBlur:o},g.createElement(vr,{className:"ManageLibrarySummary-underlay-18BIUS Link-link-2WGTd7",onPress:M?u.onToggle:E}),g.createElement("div",{className:"ManageLibrarySummary-overlay-3DBv93"},g.createElement("div",{className:"ManageLibrarySummary-iconContainer-2dQ2J8"},b?g.createElement(lt,{className:_fe}):w),g.createElement(vr,{className:"ManageLibrarySummary-title-3n6YGi",title:y,to:h},y),g.createElement("div",{className:Te()("ManageLibrarySummary-actions-1zRVm4",m&&"ManageLibrarySummary-visible-17njDO")},u.isOpen?g.createElement("div",{className:Vfe},(null==I?void 0:I.options.length)?g.createElement(g.Fragment,null,g.createElement("span",{className:Bfe},(0,Ce.Z)("Library Recommended")),g.createElement("span",{className:Bfe},(0,Ce.Z)("Home")),g.createElement("span",{className:Bfe},(0,Ce.Z)("Shared Users' Home"))):null,g.createElement(vr,{className:Ufe,onPress:u.onClose},g.createElement("span",{className:Ffe},S?g.createElement(lt,{className:_fe}):g.createElement(Lp.Z,{direction:kp.UP})))):g.createElement("div",{className:Vfe},M?g.createElement(vr,{className:Ufe,onPress:u.onOpen},g.createElement(Lp.Z,{direction:kp.WV}),(0,Ce.Z)("Manage Recommendations")):null,g.createElement(vr,{className:Ufe,onPress:E},g.createElement(uh.Z,{className:"ManageLibrarySummary-editIcon-_dMtTY"}),(0,Ce.Z)("Edit Library")),g.createElement(vr,{className:Ufe,id:i,"data-qa-id":"metadataRowMoreButton","aria-label":(0,Ce.Z)("More Actions"),onPress:d.onToggle},g.createElement("span",{className:Ffe},g.createElement(qm.Z,null)))))),g.createElement(vfe,{target:i,isOpen:d.isOpen,contentDirectory:t,onMenuClose:d.onClose})),u.isOpen?g.createElement(Rfe,{sourceURI:p}):null)}const Qfe="ManageLibrariesPane-button-3uy9Gx";var Gfe=n(8941);const Wfe=(0,fe.P1)((e=>e.ui.dvrSettingsUI),(e=>e.dvrSetup)),Yfe=(0,bc.Z)(RH.Mo),Kfe=(0,bc.Z)(RH.Xx),qfe=(0,bc.Z)(RH.W),$fe=(0,bc.Z)(RH.ei),Jfe=(0,bc.Z)(RH.$F),Xfe=(0,bc.Z)(RH.SJ),ebe=(0,bc.Z)(RH.Hj),tbe=(0,bc.Z)(RH.w),nbe=function(){return(0,fe.P1)(((e,{deviceID:t})=>t),(0,AT.Z)(),Wfe,((e,t,n)=>{const r=n.selectedDevice&&n.selectedDevice.key;return S().find(t,(t=>t.type===gl.RG&&parseInt(t.Context.deviceID,10)===(e||r)))}))},rbe=(0,fe.P1)((e=>e.ui.dvrSettingsUI),(e=>{const t=e.dvrSetup.setupErrorMessages;return t.length?t[0].message:null})),ibe=function(e){const{title:t,children:n,errorMessage:r,onModalClose:i}=e;return g.createElement(Tw.Z,{onModalClose:i},g.createElement(vw.Z,null,t||(0,Ce.Z)("DVR Setup")),r?g.createElement(ww.Z,{errorMessage:r}):null,n)};function abe({children:e,className:t}){return g.createElement(gw.Z,{className:t},e)}abe.defaultProps={className:"DVRSetupModalFooter-footer-Um6TLt ModalFooter-modalFooter-1Q0cxs"};const sbe=abe;class obe extends g.Component{constructor(){super(...arguments),this.onNextStepPress=()=>{this.props.dvrSetupNextStep({dvrID:this.props.dvrID})}}render(){const{label:e=(0,Ce.Z)("Continue"),isDisabled:t}=this.props;return g.createElement(cb.Z,{kind:ic._8,size:Rp.M2,isDisabled:t,onPress:this.onNextStepPress},e)}}obe.defaultProps={isDisabled:!1};const lbe=(0,v.$j)(null,{dvrSetupNextStep:Fye.AV})(obe);class cbe extends g.Component{constructor(){super(...arguments),this.onPreviousStepPress=()=>{this.props.dvrSetupPreviousStep({dvrID:this.props.dvrID})}}render(){return g.createElement(cb.Z,{kind:ic.TP,size:Rp.M2,onPress:this.onPreviousStepPress},(0,Ce.Z)("Previous"))}}const dbe=(0,v.$j)(null,{dvrSetupPreviousStep:Fye.G$})(cbe),ube=function(){const e=(0,Ce.Z)("This tuner isn't officially supported by Plex, click for more information");return g.createElement(rf.Z,{className:"UnsupportedDeviceIcon-unsupported-2NjgC3",component:pw.Z,tooltip:e,tooltipClassName:"UnsupportedDeviceIcon-unsupportedTooltip-2XFiwH Tooltip-bottomCenter-3I-giq Tooltip-tooltip-1BlaVj Tooltip-tooltipArrow-3ocxiK Tooltip-tooltipTopArrow-1LUIRT Tooltip-tooltipCenterAlignArrow-EwxeoC",tooltipAttachment:af.eO,target:"_blank",to:iy.hJ},g.createElement(we.Z,{className:"UnsupportedDeviceIcon-unsupportedIcon-1RWOks","aria-label":e}))},pbe=function({className:e,uri:t}){const n=t.replace(/^https?:\/\//,"");return g.createElement("div",{className:e},n)},mbe=parseInt(ng.Z.dvrSetupImageWidth,10);class hbe extends g.Component{constructor(){super(...arguments),this.onSelectDevicePress=()=>{this.props.onSelectDevice(this.props.deviceID)}}render(){const{className:e,serverEntityID:t,make:n,model:r,uri:i,thumb:a,channelCount:s,unsupported:o,isSelectable:l,isSelected:c,includeUri:d,includeChannelCount:u}=this.props;let p;return p=1===s?(0,Ce.Z)("1 channel"):s>1?(0,Ce.Z)("{channelCount} channels",{channelCount:s}):(0,Ce.Z)("No channels"),g.createElement("div",{className:e},l?g.createElement(pw.Z,{onPress:this.onSelectDevicePress},g.createElement("div",{className:"DVRSetupDevice-deviceImageContainer-1AnHOa"},g.createElement(Eve,{serverEntityID:t,model:r,thumb:a,width:mbe,height:100}),c?g.createElement(uQ.Z,{className:"DVRSetupDevice-selectButton-23o6Ld SelectButton-selectButton-Yy19xn",component:"div",title:r,isSelected:!0,isDisabled:!0}):null)):null,l?null:g.createElement(Eve,{serverEntityID:t,model:r,thumb:a,width:mbe,height:100}),g.createElement("div",{className:"DVRSetupDevice-details-2jWjsL"},g.createElement("div",{className:"DVRSetupDevice-make-3Qn_Kw"},n),g.createElement("div",{className:"DVRSetupDevice-modelContainer-3AXKt6"},g.createElement("div",{className:"DVRSetupDevice-model-FUafPt"},r),o?g.createElement(ube,null):null),d?g.createElement(pbe,{className:"DVRSetupDevice-uri-3jEDaz",uri:i}):null,u?g.createElement("div",{className:"DVRSetupDevice-channelCount-1mlLrc"},p):null))}}hbe.defaultProps={includeUri:!1,includeChannelCount:!1,isSelectable:!1};const gbe=hbe,ybe=function({className:e,networks:t}){const n=t.reduce(((e,t)=>(e.push({[t.key]:t.title}),e)),[{"":(0,Ce.Z)("Select Network")}]);return g.createElement("div",{className:e},g.createElement(bae.Z,{name:"network",labelText:"Network",initialValue:"",values:n}))};var vbe=Object.defineProperty,fbe=Object.prototype.hasOwnProperty,bbe=Object.getOwnPropertySymbols,Ibe=Object.prototype.propertyIsEnumerable,Sbe=(e,t,n)=>t in e?vbe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Mbe=(e,t)=>{for(var n in t||(t={}))fbe.call(t,n)&&Sbe(e,n,t[n]);if(bbe)for(var n of bbe(t))Ibe.call(t,n)&&Sbe(e,n,t[n]);return e};const Ebe=function({className:e,prefs:t}){return g.createElement("div",{className:e},t.map((e=>{const{id:t,value:n,enumValues:r,label:i}=e,a=Array.isArray(r)?[{label:(0,Ce.Z)("Select {label}",{label:i}),value:""},...r]:void 0;return g.createElement(Hye.Z,Mbe(Mbe({key:t},e),{value:null==n?"":n,enumValues:a}))})))};var Pbe=n(43827),Dbe=n(10487),Cbe=n(29321),wbe=n(59628),Zbe=n(89592);function Tbe(e){const{className:t,width:n,height:r,signalStrength:i}=e;if(null==i)return null;const a=function(e){return e<=20?Pbe:e<=40?Dbe:e<=60?Cbe:e<=80?wbe:e<=100?Zbe:void 0}(i);return g.createElement("div",{className:t},g.createElement("img",{src:a,width:n,height:r}))}Tbe.defaultProps={className:"SignalStrength-signalStrength-2BhMGB",width:23,height:18};const Nbe=Tbe,Obe=function(e){const{identifier:t,name:n,signalStrength:r,signalQuality:i}=e;return g.createElement("div",{className:"DVRSetupDeviceChannel-channel-1Xgchv"},g.createElement("div",{className:"DVRSetupDeviceChannel-channelIdentifier-397fOG"},t),g.createElement(Nbe,{className:"DVRSetupDeviceChannel-signalStrength-1lXGsr SignalStrength-signalStrength-2BhMGB",signalStrength:i||r}),g.createElement("div",null,n))},Abe="DVRSetupDeviceInfoChannelInfo-container-l7bZws",xbe="DVRSetupDeviceInfoChannelInfo-settings-1TtExJ",jbe="DVRSetupDeviceInfoChannelInfo-message-qzEUio",Lbe="DVRSetupDeviceInfoChannelInfo-clockTime-1NRT20 DVRSetupDeviceInfoChannelInfo-clock-1COjbZ";var kbe=Object.defineProperty,Rbe=Object.prototype.hasOwnProperty,zbe=Object.getOwnPropertySymbols,Ube=Object.prototype.propertyIsEnumerable,Vbe=(e,t,n)=>t in e?kbe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const Bbe=function(e){const{selectedDevice:t,channelCount:n,isChannelsPending:r,channelScanActivity:i,scanPrefs:a,scanNetworks:s,hasScannedChannels:o}=e;return i?g.createElement("div",{className:Abe},g.createElement(AF,{size:90,progress:i.progress}),g.createElement("div",{className:jbe},(0,Ce.Z)("Scanning channels"))):a.length?g.createElement(Ebe,{className:xbe,prefs:a}):s.length?g.createElement(ybe,{className:xbe,networks:s}):r?g.createElement("div",{className:Abe},g.createElement("div",{className:jbe},(0,Ce.Z)("Loading channels"))):n?g.createElement("div",null,t.channels.map((e=>g.createElement(Obe,((e,t)=>{for(var n in t||(t={}))Rbe.call(t,n)&&Vbe(e,n,t[n]);if(zbe)for(var n of zbe(t))Ube.call(t,n)&&Vbe(e,n,t[n]);return e})({key:e.identifier},e))))):o?g.createElement("div",{className:Abe},g.createElement("div",{className:"DVRSetupDeviceInfoChannelInfo-noChannelsIconContainer-Fsmb26"},g.createElement("div",{className:"DVRSetupDeviceInfoChannelInfo-noChannelsIconBackground-1hm-V4"},g.createElement(we.Z,{className:"DVRSetupDeviceInfoChannelInfo-noChannelsIcon-2IfsMd"}))),g.createElement("div",{className:jbe},(0,Ce.Z)("No channels found. Make sure your device has a signal from your antenna and try scanning again."))):g.createElement("div",{className:Abe},g.createElement("div",{className:"DVRSetupDeviceInfoChannelInfo-clockContainer-V9-6PW"},g.createElement("div",{className:"DVRSetupDeviceInfoChannelInfo-clockBackground-1vvFQ1"}),g.createElement(pge,{className:Lbe}),g.createElement(yge,{className:"DVRSetupDeviceInfoChannelInfo-clock-1COjbZ"}),g.createElement(hge,{className:Lbe})),g.createElement("div",{className:jbe},(0,Ce.Z)("Awaiting channel scan")))},Fbe=function(e){const t=function(e){const{channelCount:t,hasSignalStrength:n,isChannelsPending:r,channelScanActivity:i,hasScanPrefs:a,hasScanNetworks:s}=e;return i?(0,Ce.Z)("Scanning for channels... This may take some time."):a?(0,Ce.Z)("We need some more information before proceeding with the channel scan."):s?(0,Ce.Z)("Please select a network before proceeding with the channel scan."):r?(0,Ce.Z)("Fetching device channels"):t?n?(0,Ce.Z)("We found {channelCount} channels. If these don't look right, you can scan again. Signal strength is stored at the time of scanning.",{channelCount:t}):(0,Ce.Z)("We found {channelCount} channels. If these don't look right, you can scan again.",{channelCount:t}):(0,Ce.Z)("Make sure your device is connected to your antenna or cable and click Scan Channels.")}(e);return g.createElement("div",{className:"DVRSetupDeviceInfoMessage-message-1UIhQ6"},t)};var _be=Object.defineProperty,Hbe=Object.prototype.hasOwnProperty,Qbe=Object.getOwnPropertySymbols,Gbe=Object.prototype.propertyIsEnumerable,Wbe=(e,t,n)=>t in e?_be(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;class Ybe extends g.Component{constructor(){super(...arguments),this.onScanDeviceChannelsPress=e=>{const t=this.props.scanPrefs.length?{prefs:e}:e;this.props.onScanDeviceChannels(t)},this.onDeviceSourceSelect=e=>{this.props.onDeviceSourceSelect(e),this.clearExistingScanPrefs()},this.onCountrySelect=e=>{this.props.onCountrySelect(e),this.clearExistingScanPrefs()}}clearExistingScanPrefs(){const{selectedDevice:e,scanPrefs:t,scanNetworks:n,onScanDeviceChannels:r,onClearDeviceScanPrefs:i}=this.props;t.length?(i(),r(e.deviceID)):n.length&&i()}render(){const{serverEntityID:e,dvrID:t,selectedDevice:n,setupErrorMessage:r,isChannelsPending:i,sourceOptions:a,channelScanActivity:s,isCancellingChannelScan:o,selectedCountryCode:l,countryOptions:c=[],countriesPopulated:d,scanPrefs:u,scanNetworks:p,hasScannedChannels:m,onCancelScanDeviceChannels:h,onModalClose:y}=this.props,v=n.selectedSource||n.sources[0],f=s?parseInt(s.Response.channels,10):n.channels.length,b=!(!f||s||i),I=!!u.length,S=!!p.length,M=[{"":(0,Ce.Z)("Select Country")},...c],E=n.channels.some((e=>null!=e.signalQuality||null!=e.signalStrength)),P=!(n&&n.channels.length&&!s&&l);return g.createElement(ibe,{errorMessage:r,onModalClose:y},g.createElement(hw.Z,{className:"DVRSetupDeviceInfo-deviceInfoBody-1uZY1r ModalBody-modalBody-38ercY",scrollDirection:tZ.Hn},g.createElement(qae.ZP,{className:"DVRSetupDeviceInfo-deviceInfoForm-19FTDt",onSubmit:this.onScanDeviceChannelsPress},g.createElement("div",{className:"DVRSetupDeviceInfo-channelInfo-1HguW0"},g.createElement(Fbe,{channelCount:f,hasSignalStrength:E,isChannelsPending:i,channelScanActivity:s,hasScanPrefs:I,hasScanNetworks:S}),g.createElement("div",null,g.createElement(fw.Z,{type:s?"button":"submit",kind:s||f||i?ic.TP:ic._8,size:Rp.M2,isSpinning:o,isDisabled:!l||o,onPress:s?h:null},s?(0,Ce.Z)("Stop scanning"):(0,Ce.Z)("Scan channels")))),g.createElement("div",{className:"DVRSetupDeviceInfo-channelDetails-19x9No"},g.createElement(rU.Z,{className:"DVRSetupDeviceInfo-deviceDetails-T1XWLH"},g.createElement(gbe,((e,t)=>{for(var n in t||(t={}))Hbe.call(t,n)&&Wbe(e,n,t[n]);if(Qbe)for(var n of Qbe(t))Gbe.call(t,n)&&Wbe(e,n,t[n]);return e})({serverEntityID:e,deviceID:n.key,channelCount:f,includeChannelCount:!0},n)),g.createElement(Sae.Z,null,g.createElement(nee.Z,{className:"DVRSetupDeviceInfo-channelScanSourceSelect-3AAmTi SelectInput-input-_K0kCK input-input-3msd1_",name:"deviceSource",value:v,values:a,isDisabled:!!s,onChange:this.onDeviceSourceSelect})),d?g.createElement(Sae.Z,{className:"DVRSetupDeviceInfo-countryInputGroup-2ZraXu"},g.createElement(Eae.Z,null,(0,Ce.Z)("Country")),g.createElement(nee.Z,{name:"countrySelect",value:l,values:M,isDisabled:!!s,onChange:this.onCountrySelect})):null),g.createElement("div",{className:"DVRSetupDeviceInfo-deviceChannelsContainer-1vIaMc"},g.createElement(rU.Z,{className:b?"DVRSetupDeviceInfo-deviceChannels-1YkepU Scroller-vertical-3IY07c":"DVRSetupDeviceInfo-deviceChannelsInfo-1F3agn DVRSetupDeviceInfo-deviceChannels-1YkepU Scroller-vertical-3IY07c",autoScroll:!0},g.createElement(Bbe,{selectedDevice:n,channelCount:f,isChannelsPending:i,channelScanActivity:s,scanPrefs:u,scanNetworks:p,hasScannedChannels:m})))))),g.createElement(sbe,null,g.createElement(yw.Z,null,g.createElement(cb.Z,{kind:ic.TP,size:Rp.M2,onPress:y},(0,Ce.Z)("Cancel"))),g.createElement(yw.Z,null,g.createElement(dbe,null),g.createElement(lbe,{dvrID:t,isDisabled:P}))))}}Ybe.defaultProps={scanPrefs:[],scanNetworks:[]};const Kbe=Ybe;var qbe=Object.defineProperty,$be=Object.prototype.hasOwnProperty,Jbe=Object.getOwnPropertySymbols,Xbe=Object.prototype.propertyIsEnumerable,eIe=(e,t,n)=>t in e?qbe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,tIe=(e,t)=>{for(var n in t||(t={}))$be.call(t,n)&&eIe(e,n,t[n]);if(Jbe)for(var n of Jbe(t))Xbe.call(t,n)&&eIe(e,n,t[n]);return e};class nIe extends g.Component{constructor(e,t){super(e,t),this.onCancelScanDeviceChannels=()=>{this.setState({isCancellingChannelScan:!0}),this.props.dispatchCancelScanDeviceChannels(this.props.selectedDevice.key)},this.state={isCancellingChannelScan:!1}}UNSAFE_componentWillMount(){this.props.channelScanActivity&&this.setState({isCancellingChannelScan:!0})}componentDidMount(){const e=this.props.selectedDevice,t=e.source>-1?e.source.toString():e.sources[0];(0,fn.c9)((()=>{this.props.dispatchFetchDeviceDetails(),this.props.dispatchFetchDeviceChannels(),this.props.dispatchFetchEPGCountries(),this.props.onDeviceSourceSelect(t),this.props.onClearDeviceScanPrefs()}))}UNSAFE_componentWillReceiveProps(e){!e.channelScanActivity&&this.props.channelScanActivity&&this.setState({isCancellingChannelScan:!1})}componentDidUpdate(e,t){this.props.channelScanActivity||!e.channelScanActivity||this.props.scanNetworks||(0,fn.c9)((()=>{this.props.dispatchFetchDeviceChannels()}))}componentWillUnmount(){this.props.channelScanActivity&&!this.state.isCancellingChannelScan&&this.props.dispatchCancelScanDeviceChannels(this.props.selectedDevice.key)}render(){const e=this.props,{dispatchFetchDeviceDetails:t,dispatchFetchDeviceChannels:n,dispatchFetchEPGCountries:r,dispatchCancelScanDeviceChannels:i}=e,a=((e,t)=>{var n={};for(var r in e)$be.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&Jbe)for(var r of Jbe(e))t.indexOf(r)<0&&Xbe.call(e,r)&&(n[r]=e[r]);return n})(e,["dispatchFetchDeviceDetails","dispatchFetchDeviceChannels","dispatchFetchEPGCountries","dispatchCancelScanDeviceChannels"]);return g.createElement(Kbe,tIe({isCancellingChannelScan:this.state.isCancellingChannelScan,onCancelScanDeviceChannels:this.onCancelScanDeviceChannels},a))}}const rIe=(0,v.$j)((function(){return(0,fe.P1)(Wfe,rbe,nbe(),((e,t,n)=>{const r=e.selectedDevice,i=r.sources.reduce(((e,t)=>{switch(t){case"0":e.push({[t]:(0,Ce.Z)("Antenna")});break;case"1":e.push({[t]:(0,Ce.Z)("Cable")})}return e}),[]),{scanPrefs:a,scanNetworks:s,hasScannedChannels:o}=e,{selectedCountry:l,countries:c}=e.epgSettings,d=c.length>0,u=l?l.code:"",p=c.reduce(((e,t)=>(e.push({[t.code]:t.title}),e)),[]);return{selectedDevice:r,setupErrorMessage:t,isChannelsPending:r.isChannelsPending,sourceOptions:i,countriesPopulated:d,selectedCountryCode:u,countryOptions:p,scanPrefs:a,scanNetworks:s,hasScannedChannels:o,channelScanActivity:n}}))}),(function(e,t){const{serverEntityID:n}=t;return{dispatchFetchDeviceDetails(){e(Fye.$1({serverEntityID:n}))},dispatchFetchDeviceChannels(){e(Fye.pi({serverEntityID:n}))},dispatchFetchEPGCountries(){e(Kfe({serverEntityID:n}))},dispatchCancelScanDeviceChannels(t){e(Fye.BF({serverEntityID:n,deviceID:t}))},onDeviceSourceSelect(t){e(Fye.FX({serverEntityID:n,source:t}))},onScanDeviceChannels(t={}){e(Fye.sl(tIe({serverEntityID:n},t)))},onCountrySelect(t){e($fe({serverEntityID:n,countryCode:t}))},onClearDeviceScanPrefs(){e(Fye.Ze({serverEntityID:n}))}}}))(nIe);var iIe=n(45381);var aIe=Object.defineProperty,sIe=Object.prototype.hasOwnProperty,oIe=Object.getOwnPropertySymbols,lIe=Object.prototype.propertyIsEnumerable,cIe=(e,t,n)=>t in e?aIe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;class dIe extends g.Component{constructor(e,t){super(e,t),this.onShowDeviceAddressPress=()=>{this.setState({showManualAddress:!this.state.showManualAddress})},this.onDeviceAddressChange=e=>{this.setState({manualDeviceAddress:e})},this.onAddDevicePress=()=>{this.props.onAddDevice(this.state.manualDeviceAddress)},this.state={showManualAddress:!1,manualDeviceAddress:""}}render(){const{serverEntityID:e,selectedDevice:t,setupErrorMessage:n,addDevicePending:r,devices:i,onSelectDevice:a,onModalClose:s}=this.props,{showManualAddress:o,manualDeviceAddress:l}=this.state,c=i.length>0;return g.createElement(ibe,{errorMessage:n,onModalClose:s},g.createElement(hw.Z,null,c?g.createElement("div",null,(0,Ce.Z)("We found hardware we recognize!")):null,c?null:g.createElement("div",null,(0,Ce.Z)("Looking for compatible devices...")),g.createElement("div",{className:"DVRSetupDeviceSelector-manualDeviceButtonContainer-3FJegG"},g.createElement(Z0.Z,{kind:ic._8,direction:o?kp.UP:kp.WV,isSelected:!1,onPress:this.onShowDeviceAddressPress},(0,Ce.Z)("Don't see your HDHomeRun device? Enter its network address manually"))),g.createElement("div",{className:"DVRSetupDeviceSelector-manualDeviceContainer-2GUqE8"},o?g.createElement("div",null,g.createElement(Sae.Z,null,g.createElement(Eae.Z,null,(0,Ce.Z)("HDHomeRun Device Address")),g.createElement(ree.Z,{type:"text",name:"manualDeviceInput",className:"DVRSetupDeviceSelector-manualDeviceInput-2bdIOT TextInput-input-16EbOL input-input-3msd1_",value:this.state.manualDeviceAddress,placeholder:(0,Ce.Z)("IP address or hostname"),onChange:this.onDeviceAddressChange}),g.createElement(fw.Z,{className:"DVRSetupDeviceSelector-addDeviceButton-3skWO6",kind:ic._8,size:Rp.ln,isDisabled:!l,isSpinning:r,onPress:this.onAddDevicePress},(0,Ce.Z)("Connect")))):null),c?null:g.createElement("div",{className:"DVRSetupDeviceSelector-spinnerContainer-1VcnjX"},g.createElement(Mx.Z,null)),c?g.createElement("div",null,g.createElement("div",{className:"DVRSetupDeviceSelector-deviceCount-hlz9Am"},1===i.length?(0,Ce.Z)("1 device found"):(0,Ce.Z)("{deviceCount} devices found",{deviceCount:i.length})),g.createElement(rU.Z,{className:"DVRSetupDeviceSelector-devices-d0UaLL",scrollDirection:tZ._y},i.map((n=>{const r=t&&t.key===n.key;return g.createElement(gbe,((e,t)=>{for(var n in t||(t={}))sIe.call(t,n)&&cIe(e,n,t[n]);if(oIe)for(var n of oIe(t))lIe.call(t,n)&&cIe(e,n,t[n]);return e})({key:n.key,className:"DVRSetupDeviceSelector-device-vc7QcN",serverEntityID:e,deviceID:n.key,isSelectable:!0,isSelected:r,includeUri:!0,onSelectDevice:a},n))})))):null),g.createElement(sbe,null,g.createElement(yw.Z,null,g.createElement(cb.Z,{kind:ic.TP,size:Rp.M2,onPress:s},(0,Ce.Z)("Cancel"))),g.createElement(yw.Z,null,g.createElement(lbe,{isDisabled:!t}))))}}const uIe=dIe;var pIe=Object.defineProperty,mIe=Object.prototype.hasOwnProperty,hIe=Object.getOwnPropertySymbols,gIe=Object.prototype.propertyIsEnumerable,yIe=(e,t,n)=>t in e?pIe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const vIe=(0,fe.P1)((e=>e.ui.dvrSettingsUI.dvrSetup.devices),(e=>S().filter(e,(e=>!e.parentID&&e.status===iIe.vh.ALIVE))));class fIe extends g.Component{constructor(e){super(e),this._discoverDevices=()=>{this.props.dispatchDiscoverDevices()},this._discoverTimeoutID=null,this.discoverDelay=2e3}componentDidMount(){(0,fn.c9)((()=>{this.props.dispatchFetchDevices()})),this._discoverTimeoutID=window.setTimeout(this._discoverDevices,this.discoverDelay)}componentDidUpdate(e){!this.props.isDiscoveringDevices&&e.isDiscoveringDevices&&(this._discoverTimeoutID=window.setTimeout(this._discoverDevices,this.discoverDelay))}componentWillUnmount(){this._discoverTimeoutID&&window.clearTimeout(this._discoverTimeoutID)}render(){const e=this.props,{dispatchDiscoverDevices:t,dispatchFetchDevices:n}=e,r=((e,t)=>{var n={};for(var r in e)mIe.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&hIe)for(var r of hIe(e))t.indexOf(r)<0&&gIe.call(e,r)&&(n[r]=e[r]);return n})(e,["dispatchDiscoverDevices","dispatchFetchDevices"]);return g.createElement(uIe,((e,t)=>{for(var n in t||(t={}))mIe.call(t,n)&&yIe(e,n,t[n]);if(hIe)for(var n of hIe(t))gIe.call(t,n)&&yIe(e,n,t[n]);return e})({},r))}}const bIe=(0,v.$j)((function(){return(0,fe.P1)(Wfe,rbe,vIe,((e,t,n)=>{const{isDiscoveringDevices:r,selectedDevice:i,addDevicePending:a}=e;return{isDiscoveringDevices:r,selectedDevice:i,setupErrorMessage:t,addDevicePending:a,devices:n}}))}),(function(e,t){const{serverEntityID:n}=t;return{dispatchDiscoverDevices(){e((0,Fye.Ps)({serverEntityID:n}))},dispatchFetchDevices(){e((0,Fye.LO)({serverEntityID:n}))},onAddDevice(t){e((0,Fye.S6)({serverEntityID:n,uri:t}))},onSelectDevice(t){e((0,Fye.Si)({serverEntityID:n,deviceID:t}))}}}))(fIe),IIe="DVRSetupUnsupportedDevice-info-1pu4Gq",SIe=parseInt(ng.Z.dvrSetupImageWidth,10),MIe=(0,v.$j)((function(){return(0,fe.P1)(Wfe,(e=>{const{make:t,model:n,thumb:r}=e.selectedDevice;return{make:t,model:n,thumb:r}}))}))((function(e){const{serverEntityID:t,dvrID:n,make:r,model:i,thumb:a,onModalClose:s}=e;return g.createElement(ibe,{title:(0,Ce.Z)("Unsupported Tuner"),onModalClose:s},g.createElement(hw.Z,{className:"DVRSetupUnsupportedDevice-unsupportedDeviceBody-1IS3jY ModalBody-modalBody-38ercY",scrollDirection:tZ.Hn},g.createElement("div",{className:"DVRSetupUnsupportedDevice-imageContainer-2mgfZq"},g.createElement(Eve,{serverEntityID:t,make:r,model:i,thumb:a,width:SIe,height:100}),g.createElement("div",{className:"DVRSetupUnsupportedDevice-makeModelContainer-1kZ1Ss"},g.createElement("div",null,r),g.createElement("div",null,i))),g.createElement("div",{className:IIe},(0,Ce.Z)("Community Supported Tuners opens up your Plex account to access a larger variety of DVR tuners, many of which have been tested and are supported by the community. If your tuner hasn't been recognized by Plex DVR and you're up for a little adventure, this will allow you to use unsupported tuners that have not been tested by Plex.")),g.createElement("div",{className:IIe},g.createElement(KV.Z,{message:(0,Ce.Z)("We recommend you review our {openLink}Community Supported Tuners{closeLink} article to learn about limitations, compatibility, and how to get involved."),tags:[{open:"openLink",close:"closeLink",component:pw.Z,kind:ic._8,to:iy.hJ,target:"_blank"}]}))),g.createElement(sbe,null,g.createElement(yw.Z,null,g.createElement(cb.Z,{kind:ic.TP,size:Rp.M2,onPress:s},(0,Ce.Z)("Cancel"))),g.createElement(yw.Z,null,g.createElement(lbe,{dvrID:n,label:(0,Ce.Z)("Enable Unsupported Tuner")}))))})),EIe=function(){return(0,fe.P1)(((e,{dvrID:t})=>t),(0,AT.Z)(),Wfe,((e,t,n)=>e?S().find(t,(t=>t.type===gl.JW&&parseInt(t.Context.dvrID,10)===e)):S().find(t,{uuid:n.epgDownloadActivityID})))};function PIe(e){const{server:t,provider:n,sourceDirectory:r,setupErrorMessage:i,epgDownloadActivityID:a,progress:s,message:o,onModalClose:l}=e;let c;return n&&(c=(0,lz.ZP)(lz.tk.GUIDE,t,n,r)),g.createElement(ibe,{errorMessage:i,onModalClose:l},g.createElement(hw.Z,null,g.createElement("div",{className:"EPGDownload-message-3P2hel"},g.createElement("div",null,(0,Ce.Z)("Setup complete!")),g.createElement("div",null,(0,Ce.Z)("You can now find your Guide and Recordings in the sidebar under \"Live TV & DVR\". While we're grabbing the guide data, you can start browsing; it will update automatically as we download what's on."))),a?g.createElement("div",null,g.createElement("div",{className:"EPGDownload-spinnerContainer-DHp88Y"},g.createElement(AF,{size:90,progress:s}),g.createElement("div",{className:"EPGDownload-spinnerMessage-uEZxEq"},o))):null),g.createElement(gw.Z,null,g.createElement(yw.Z,null,g.createElement(cb.Z,{kind:ic.TP,size:Rp.M2,onPress:l},(0,Ce.Z)("Close")),g.createElement(cb.Z,{kind:ic._8,size:Rp.M2,to:c,isDisabled:!n},(0,Ce.Z)("View Guide")))))}PIe.defaultProps={progress:0,message:""};const DIe=PIe;var CIe=Object.defineProperty,wIe=Object.prototype.hasOwnProperty,ZIe=Object.getOwnPropertySymbols,TIe=Object.prototype.propertyIsEnumerable,NIe=(e,t,n)=>t in e?CIe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const OIe=(0,v.$j)((function(){return(0,fe.P1)(Wfe,rbe,(0,LT.Z)(),(0,fe.P1)(QV(),Wfe,Cn.Z,((e,{selectedDVR:t},n)=>{if(t&&e){for(let r=0;r<e.length;r++){const i=n[e[r]];if(i.identifier===t.epgIdentifier)return i}return null}})),EIe(),((e,t,n,r,i)=>{const{progress:a,subtitle:s}=i||{},o=(0,sc.Z)(r);return{server:n,provider:r,sourceDirectory:o&&o.directories&&o.directories.find((e=>e.hubKey&&!e.key)),setupErrorMessage:t,epgDownloadActivityID:e.epgDownloadActivityID,progress:a,message:s}}))}))((function(e){return g.createElement(DIe,((e,t)=>{for(var n in t||(t={}))wIe.call(t,n)&&NIe(e,n,t[n]);if(ZIe)for(var n of ZIe(t))TIe.call(t,n)&&NIe(e,n,t[n]);return e})({},e))}));function AIe({setupErrorMessage:e,progress:t,onModalClose:n}){return g.createElement(ibe,{errorMessage:e,onModalClose:n},g.createElement(hw.Z,null,g.createElement("div",{className:"EPGMapping-message-2c8JcY"},g.createElement("div",null,(0,Ce.Z)("We're finding the best guide for your channels and location.")),g.createElement("div",null,(0,Ce.Z)("This should only take a few moments."))),g.createElement("div",{className:"EPGMapping-spinnerContainer-1KrcPO"},g.createElement(AF,{size:90,progress:t}))),g.createElement(sbe,null,g.createElement(yw.Z,null,g.createElement(cb.Z,{kind:ic.TP,size:Rp.M2,onPress:n},(0,Ce.Z)("Cancel")))))}AIe.defaultProps={progress:0};const xIe=AIe;var jIe=Object.defineProperty,LIe=Object.prototype.hasOwnProperty,kIe=Object.getOwnPropertySymbols,RIe=Object.prototype.propertyIsEnumerable,zIe=(e,t,n)=>t in e?jIe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const UIe={findBestEPGLineup:Fye.NS};class VIe extends g.Component{UNSAFE_componentWillMount(){this._populate(this.props)}_populate(e){(0,fn.c9)((()=>{e.findBestEPGLineup({serverEntityID:e.serverEntityID})}))}render(){return g.createElement(xIe,((e,t)=>{for(var n in t||(t={}))LIe.call(t,n)&&zIe(e,n,t[n]);if(kIe)for(var n of kIe(t))RIe.call(t,n)&&zIe(e,n,t[n]);return e})({},this.props))}}const BIe=(0,v.$j)((function(){return(0,fe.P1)(Wfe,rbe,(0,AT.Z)(),((e,t,n)=>{const r=S().find(n,{uuid:e.epgLineupActivityID}),{progress:i}=r||{};return{setupErrorMessage:t,progress:i}}))}),UIe)(VIe);class FIe extends g.Component{constructor(e,t){super(e,t),this.onPostalCodeChange=e=>{this.setState({postalCode:e},(()=>{this.props.onPostalCodeChange(e)}))},this.state={postalCode:""}}UNSAFE_componentWillReceiveProps(e){this.state.postalCode!==e.postalCode&&this.setState({postalCode:e.postalCode})}focusInput(e){e&&y.findDOMNode(e).focus()}render(){const e=this.props.postalCodeExample,t=this.state.postalCode;return g.createElement(ree.Z,{name:"postalCodeInput",placeholder:`e.g. ${e}`,value:t,ref:this.focusInput,onChange:this.onPostalCodeChange})}}const _Ie=FIe;var HIe=Object.defineProperty,QIe=Object.prototype.hasOwnProperty,GIe=Object.getOwnPropertySymbols,WIe=Object.prototype.propertyIsEnumerable,YIe=(e,t,n)=>t in e?HIe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;class KIe extends g.Component{constructor(e,t){super(e,t),this._fetchEPGLineups=()=>{this.props.fetchEPGLineups({serverEntityID:this.props.serverEntityID})},this.onPostalCodeChange=e=>{this._postalCodeTimeoutID&&window.clearTimeout(this._postalCodeTimeoutID),(0,fn.c9)((()=>{this.props.setEPGPostalCode({serverEntityID:this.props.serverEntityID,postalCode:e}),""!==e.trim()&&(this._postalCodeTimeoutID=window.setTimeout(this._fetchEPGLineups,200))}))},this._postalCodeTimeoutID=null}componentWillUnmount(){this._postalCodeTimeoutID&&window.clearTimeout(this._postalCodeTimeoutID)}render(){return g.createElement(_Ie,((e,t)=>{for(var n in t||(t={}))QIe.call(t,n)&&YIe(e,n,t[n]);if(GIe)for(var n of GIe(t))WIe.call(t,n)&&YIe(e,n,t[n]);return e})({onPostalCodeChange:this.onPostalCodeChange},this.props))}}const qIe=(0,v.$j)((function(e){return{postalCode:e.ui.dvrSettingsUI.dvrSetup.epgSettings.postalCode}}),s)(KIe),$Ie="EPGSettings-fetchingSpinner-27Wplu Spinner-spinner-1mPhN9 spin-spin-34xiUE";class JIe extends g.Component{constructor(e,t){super(e,t),this.onShowXMLTVEntryPress=()=>{this.setState({showXMLTVEntry:!this.state.showXMLTVEntry})},this.onLanguageSelect=e=>{this.props.onLanguageSelect(e)},this.onRegionSelect=e=>{this.props.onRegionSelect(e)},this.onXMLTVPathChange=e=>{this.setState({xmlTVPath:e},(()=>{this.props.onXMLTVProgramGuideChange(e,this.state.programGuideTitle)}))},this.onProgramGuideTitleChange=e=>{this.setState({programGuideTitle:e},(()=>{this.props.onXMLTVProgramGuideChange(this.state.xmlTVPath,e)}))},this.state={showXMLTVEntry:!1,xmlTVPath:"",programGuideTitle:(0,Ce.Z)("My Guide")}}render(){const{serverEntityID:e,platform:t,setupErrorMessage:n,isFetching:r,selectedLanguageCode:i,selectedRegionCode:a,languageOptions:s=[],regionOptions:o=[],languagesPopulated:l,regionsPopulated:c,canContinue:d,postalCodeExample:u,onSubmit:p,onModalClose:m}=this.props,{showXMLTVEntry:h,xmlTVPath:y,programGuideTitle:v}=this.state,f=l,b=!(!l||!u),I=!(!l||!c),S=[{"":(0,Ce.Z)("Select Language")},...s],M=[{"":(0,Ce.Z)("Select Region")},...o],E="Windows"===t?"C:\\path\\to\\your\\xmltv_file.xml":"/path/to/your/xmltv_file.xml";return g.createElement(qae.ZP,{className:"EPGSettings-form-1bqVRD",onSubmit:p},g.createElement(ibe,{errorMessage:n,onModalClose:m},g.createElement(hw.Z,null,g.createElement("div",{className:"EPGSettings-message-3FmW4d"},g.createElement("div",null,(0,Ce.Z)("To download an electronic guide we need to know your location.")),g.createElement(pw.Z,{kind:ic._8,onPress:this.onShowXMLTVEntryPress},h?(0,Ce.Z)("Don't use XMLTV? Click here to select your location instead."):(0,Ce.Z)("Have an XMLTV guide on your server? Click here to use that instead."))),h?g.createElement("div",null,l?g.createElement(Sae.Z,null,g.createElement(Eae.Z,null,(0,Ce.Z)("Language")),g.createElement(nee.Z,{name:"languageSelect",values:S,value:i,onChange:this.onLanguageSelect})):null,g.createElement(Sae.Z,null,g.createElement(Eae.Z,null,(0,Ce.Z)("XMLTV Guide")),g.createElement(ree.Z,{name:"xmltvPath",placeholder:E,value:y,onChange:this.onXMLTVPathChange})),g.createElement(Sae.Z,null,g.createElement(Eae.Z,null,(0,Ce.Z)("Guide Title")),g.createElement(ree.Z,{name:"programGuideTitle",value:v,onChange:this.onProgramGuideTitleChange}))):null,h?null:g.createElement("div",null,f?g.createElement(Sae.Z,null,g.createElement(Eae.Z,null,(0,Ce.Z)("Language")),g.createElement(nee.Z,{name:"languageSelect",values:S,value:i,onChange:this.onLanguageSelect})):null,b?g.createElement(Sae.Z,null,g.createElement(Eae.Z,null,(0,Ce.Z)("Postal Code")),g.createElement(qIe,{serverEntityID:e,postalCodeExample:u}),r?g.createElement(Mx.Z,{className:$Ie}):null):null,I?g.createElement(Sae.Z,null,g.createElement(Eae.Z,null,(0,Ce.Z)("Region")),g.createElement(nee.Z,{className:"EPGSettings-regionInput-5pGfHQ SelectInput-input-_K0kCK input-input-3msd1_",name:"regionSelect",values:M,value:a,onChange:this.onRegionSelect}),r?g.createElement(Mx.Z,{className:$Ie}):null):null)),g.createElement(sbe,null,g.createElement(yw.Z,null,g.createElement(cb.Z,{kind:ic.TP,size:Rp.M2,onPress:m},(0,Ce.Z)("Cancel"))),g.createElement(yw.Z,null,g.createElement(dbe,null),g.createElement(cb.Z,{type:"submit",kind:ic._8,size:Rp.M2,isDisabled:!d||r},(0,Ce.Z)("Continue"))))))}}const XIe=JIe;var eSe=Object.defineProperty,tSe=Object.prototype.hasOwnProperty,nSe=Object.getOwnPropertySymbols,rSe=Object.prototype.propertyIsEnumerable,iSe=(e,t,n)=>t in e?eSe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,aSe=(e,t)=>{for(var n in t||(t={}))tSe.call(t,n)&&iSe(e,n,t[n]);if(nSe)for(var n of nSe(t))rSe.call(t,n)&&iSe(e,n,t[n]);return e};const sSe=aSe({dvrSetupNextStep:Fye.AV,selectEPGLineup:Fye._1},s);class oSe extends g.Component{constructor(){super(...arguments),this.onLanguageSelect=e=>{this.props.selectEPGLanguage({serverEntityID:this.props.serverEntityID,languageCode:e})},this.onRegionSelect=e=>{this.props.selectEPGRegion({serverEntityID:this.props.serverEntityID,regionKey:e})},this.onSubmit=()=>{this.props.dvrSetupNextStep()},this.onXMLTVProgramGuideChange=(e,t)=>{if(!e||!t)return void this.props.selectEPGLineup({lineupUUID:null});const n=`lineup://tv.plex.providers.epg.xmltv/${Jme(e)}#${encodeURIComponent(t)}`;this.props.selectEPGLineup({lineupUUID:n})}}UNSAFE_componentWillMount(){this._populate(this.props)}_populate(e){(0,fn.c9)((()=>{const t=e.serverEntityID;e.fetchEPGLanguages({serverEntityID:t}),e.selectEPGLineup({lineupUUID:null})}))}render(){return g.createElement(XIe,aSe({onLanguageSelect:this.onLanguageSelect,onRegionSelect:this.onRegionSelect,onPostalCodeChange:this.onPostalCodeChange,onXMLTVProgramGuideChange:this.onXMLTVProgramGuideChange,onSubmit:this.onSubmit},this.props))}}const lSe=(0,v.$j)((function(){return(0,fe.P1)((0,LT.Z)(),Wfe,rbe,((e,t,n)=>{const{selectedLineupUUID:r,epgSettings:i}=t,{isFetching:a,selectedCountry:s,selectedLanguage:o,selectedRegion:l,languages:c,regions:d,lineupGroup:u}=i,p=s&&1===s.flavor?s.example:null,m=o?o.code:"",h=l?l.key:"",g=c.length>0,y=d.length>0,v=c.reduce(((e,t)=>(e.push({[t.code]:t.title}),e)),[]),f=d.reduce(((e,t)=>(e.push({[t.key]:t.title}),e)),[]);return{platform:e.platform,setupErrorMessage:n,selectedLineupUUID:r,selectedLanguageCode:m,selectedRegionCode:h,languagesPopulated:g,regionsPopulated:y,languageOptions:v,regionOptions:f,isFetching:a,postalCodeExample:p,canContinue:!(!u.lineups.length&&!r||!m)}}))}),sSe)(oSe);function cSe(){return(0,UA.Z)((0,fe.P1)(Wfe,Sve(),((e,t)=>{const n=t?t.channels:e.selectedDevice.channels,r=t?t.channelMappings:e.channelMappings,i=e.lineupChannels,a=S().pluck(n,"key"),s=S().pluck(r,"deviceIdentifier"),o=a.concat(s);return S().uniq(o).map((e=>{const t=S().find(n,{key:e}),a=S().findWhere(r,{deviceIdentifier:e}),s=i.find((e=>a&&e.key&&e.key===a.channelKey||a&&e.identifier&&e.identifier===a.lineupIdentifier)),{name:o="",identifier:l="",drm:c=!1,signalStrength:d,signalQuality:u,hd:p=!1}=t||{};return{key:e,name:o,deviceIdentifier:l,enabled:!(!t||c||!a||!a.enabled),drm:c,isChannelMissing:!t,channelKey:a&&a.channelKey||s&&s.key,lineupIdentifier:a&&a.lineupIdentifier||s&&s.identifier,signalStrength:d,signalQuality:u,isDeviceChannelHD:p,isLineupChannelHD:!!s&&s.hd}})).sort(((e,t)=>(0,px.Z)(e.deviceIdentifier,t.deviceIdentifier)))})),(e=>e))}const dSe=function(e){const t=`${e.identifier} ${e.callSign}`;return e.title?`${t} (${e.title})`:t},uSe=(0,fe.P1)(Wfe,(e=>e.lineupChannels)),pSe=(0,fe.P1)(uSe,(e=>e.slice().sort(((e,t)=>(0,px.Z)(e.identifier,t.identifier))).reduce(((e,t)=>{const n=dSe(t),r=JSON.stringify({channelKey:t.key,lineupIdentifier:t.identifier});return e.concat({[r]:n})}),[{"":(0,Ce.Z)("Select Channel")}]))),mSe=(0,UA.Z)(pSe,(e=>e)),hSe=function(){return g.createElement(RL.Z,{className:"EPGChannelResolution-resolution-3oEieO Badge-badge-waFP_r"},"HD")},gSe="DeviceChannelMapping-mappingDisabled-3H64gU";class ySe extends g.Component{constructor(e,t){super(e,t),this.onSelectPress=e=>{this.setState({showSelectOptions:!0})},this.onEnabledChange=e=>{this.setState({enabled:e},(()=>{this.props.onChange({enabled:e,channelKey:this.state.channelKey,lineupIdentifier:this.state.lineupIdentifier})}))},this.onLineupChannelChange=e=>{const{channelKey:t,lineupIdentifier:n}=JSON.parse(e||{});this.setState({channelKey:t,lineupIdentifier:n},(()=>{this.props.onChange({enabled:this.state.enabled,channelKey:t,lineupIdentifier:n})}))},this.state={enabled:e.initialValue.enabled,channelKey:e.initialValue.channelKey,lineupIdentifier:e.initialValue.lineupIdentifier,showSelectOptions:!1}}UNSAFE_componentWillReceiveProps(e){const{enabled:t,lineupIdentifier:n}=this.state,{enabled:r,lineupIdentifier:i}=e.value;t===r&&n===i||this.setState(this.props.value)}shouldComponentUpdate(e,t){return t.enabled!==this.state.enabled||t.channelKey!==this.state.channelKey||t.lineupIdentifier!==this.state.lineupIdentifier||t.showSelectOptions!==this.state.showSelectOptions||e.deviceIdentifier!==this.props.deviceIdentifier||e.channelName!==this.props.channelName||e.initialValue.enabled!==this.props.initialValue.enabled||e.initialValue.lineupIdentifier!==this.props.initialValue.lineupIdentifier||e.initialValue.channelKey!==this.props.initialValue.channelKey||e.value.enabled!==this.props.value.enabled||e.value.lineupIdentifier!==this.props.value.lineupIdentifier||e.value.channelKey!==this.props.value.channelKey||e.lineupChannels!==this.props.lineupChannels}render(){const{name:e,deviceIdentifier:t,channelName:n,drm:r,signalStrength:i,isDeviceChannelHD:a,isLineupChannelHD:s,isChannelMissing:o,showResolution:l,lineupChannels:c,lineupChannelOptions:d}=this.props,{enabled:u,channelKey:p,lineupIdentifier:m}=this.state;if(o)return null;const h=c.find((e=>p&&m?e.key===p&&e.identifier===m:p?e.key===p:m?e.identifier===m:void 0)),y=h?dSe(h):null,v=JSON.stringify({channelKey:p,lineupIdentifier:m});return g.createElement("div",{className:"DeviceChannelMapping-channelMapping-3XAZUt"},g.createElement("div",{className:"DeviceChannelMapping-deviceInfo-29oKnX"},g.createElement("div",{className:"DeviceChannelMapping-channelEnabled-3-W9nM"},r?null:g.createElement(Iae.Z,{name:`${e}Check`,value:u,onChange:this.onEnabledChange})),g.createElement("label",{className:Te()("DeviceChannelMapping-deviceIdentifier-1xGTln",!u&&gSe),htmlFor:`${e}Check`},t),g.createElement("div",{className:Te()("DeviceChannelMapping-channelName-1wvluh",!u&&gSe)},n),g.createElement(Nbe,{className:"DeviceChannelMapping-signalStrength-1NtXLo SignalStrength-signalStrength-2BhMGB",signalStrength:i})),r?g.createElement("div",{className:"DeviceChannelMapping-drmChannel-myiCk2"},g.createElement(RL.Z,{className:"DeviceChannelMapping-drmChannelBadge-1kp_22"},(0,Ce.Z)("Protected"))):g.createElement("div",{className:"DeviceChannelMapping-epgChannel-3bFk6C"},g.createElement(nee.Z,{name:`${e}Select`,value:v,values:this.state.showSelectOptions?d:[{[v]:u?y||(0,Ce.Z)("Select Channel"):y}],size:Rp.HC,isDisabled:!u,onMouseDown:this.onSelectPress,onTouchStart:this.onSelectPress,onChange:this.onLineupChannelChange}),l?g.createElement("div",{className:"DeviceChannelMapping-resolutionContainer-krvVCY"},a||s?g.createElement(hSe,null):null):null))}}const vSe=(0,Pae.Z)(ySe),fSe=function(e){const{showSignalStrength:t,allChannelMappingsEnabled:n,allChannelMappingsDisabled:r,onAllChannelMappingsEnabledChange:i}=e;let a=null;return n?a=!0:r&&(a=!1),g.createElement("div",{className:"DeviceChannelMappingsHeader-container-36Wbq3"},g.createElement("div",{className:"DeviceChannelMappingsHeader-deviceChannelsContainer-319IUq"},g.createElement(Iae.Z,{name:"toggleAll",value:a,onChange:i}),g.createElement("div",{className:"DeviceChannelMappingsHeader-deviceChannelsPadding-_mC1js"}),g.createElement("div",{className:"DeviceChannelMappingsHeader-deviceChannels-2qjpiA"},(0,Ce.Z)("Device Channels")),t?g.createElement("div",{className:"DeviceChannelMappingsHeader-signalStrength-tb6bsm"},(0,Ce.Z)("Strength")):null),g.createElement("div",{className:"DeviceChannelMappingsHeader-guideChannels-2CDNzg"},(0,Ce.Z)("Guide Channels")))};var bSe=Object.defineProperty,ISe=Object.prototype.hasOwnProperty,SSe=Object.getOwnPropertySymbols,MSe=Object.prototype.propertyIsEnumerable,ESe=(e,t,n)=>t in e?bSe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,PSe=(e,t)=>{for(var n in t||(t={}))ISe.call(t,n)&&ESe(e,n,t[n]);if(SSe)for(var n of SSe(t))MSe.call(t,n)&&ESe(e,n,t[n]);return e};const DSe=function(e){var t;return(t=class extends g.Component{constructor(e,t){super(e,t),this.onFormStateChange=e=>{let t=!0,n=!0;Object.keys(e).forEach((r=>{e[r].value.enabled?n=!1:t=!1})),this.setState({formState:e,allChannelMappingsEnabled:t,allChannelMappingsDisabled:n})},this.onAllChannelMappingsEnabledChange=e=>{this.setState((t=>{const n={};return Object.keys(t.formState).forEach((r=>{const i=t.formState[r].value;i.enable===e?n[r]=t.formState[r]:n[r]=PSe(PSe({},t.formState[r]),{value:{enabled:e,lineupIdentifier:i.lineupIdentifier}})})),{formState:n,allChannelMappingsEnabled:e,allChannelMappingsDisabled:!e}}))},this.state={formState:{},allChannelMappingsEnabled:!1,allChannelMappingsDisabled:!1}}render(){const{allChannelMappingsEnabled:t,allChannelMappingsDisabled:n}=this.state;return g.createElement(e,PSe({formState:this.state.formState,allChannelMappingsEnabled:t,allChannelMappingsDisabled:n,onFormStateChange:this.onFormStateChange,onAllChannelMappingsEnabledChange:this.onAllChannelMappingsEnabledChange},this.props))}}).displayName=`DeviceChannelMappingsForm(${(0,Nw.Z)(e)})`,t.WrappedComponent=e,t},CSe="DeviceChannelMappings-channelMappingsBody-26v_kE ModalBody-modalBody-38ercY",wSe="DeviceChannelMappings-centeredContainer-2O_0f6",ZSe=DSe((function(e){const{dvrID:t,setupErrorMessage:n,selectedLineupUUID:r,availableLineups:i,lineupChannels:a,lineupChannelOptions:s,channelMappings:o,isChannelMappingsPending:l,isLineupChannelsPending:c,isSavingDVR:d,channelMappingsErrorMessage:u,formState:p,allChannelMappingsEnabled:m,allChannelMappingsDisabled:h,onAllChannelMappingsEnabledChange:y,onFormStateChange:v,onLineupSelect:f,onModalClose:b,onSubmit:I}=e,S=l||c,M=!!i.length,E=[{"":(0,Ce.Z)("Select Guide")},...i],P=r?decodeURIComponent(r.match(/#(.+?)$/)[1]):void 0;let D=!1,C=!1;for(let e=0;e<o.length&&(!D||!C);e++){const t=o[e];null==t.signalQuality&&null==t.signalStrength||(D=!0),(t.isDeviceChannelHD||t.isLineupChannelHD)&&(C=!0)}return g.createElement(qae.ZP,{className:"DeviceChannelMappings-form-1VRFRb",formState:p,onChange:v,onSubmit:I},g.createElement(ibe,{errorMessage:n,onModalClose:b},u?g.createElement(hw.Z,{className:CSe,scrollDirection:tZ.Hn},g.createElement("div",{className:wSe},u)):null,u?null:g.createElement(hw.Z,{className:CSe,scrollDirection:tZ.Hn},M?g.createElement("div",null,g.createElement("div",{className:"DeviceChannelMappings-programGuideLabel-2Ad7c3"},(0,Ce.Z)("Guide")),g.createElement("div",{className:"DeviceChannelMappings-programGuideSelectContainer-zqaHte"},g.createElement(nee.Z,{name:"programGuide",values:E,value:r,onChange:f}))):null,M?null:g.createElement("div",{className:"DeviceChannelMappings-programGuideTitle-RxDb6b"},P),S?g.createElement("div",{className:wSe},g.createElement(Mx.Z,{label:(0,Ce.Z)("Loading channel mappings")})):null,!S&&r?g.createElement(rU.Z,{className:"DeviceChannelMappings-scroller-19mOrF Scroller-vertical-3IY07c",autoScroll:!0},g.createElement(fSe,{showSignalStrength:D,allChannelMappingsEnabled:m,allChannelMappingsDisabled:h,onAllChannelMappingsEnabledChange:y}),o.map((e=>{const{key:t,deviceIdentifier:n,name:r,enabled:i,channelKey:o,lineupIdentifier:l,drm:c,signalStrength:d,signalQuality:u,isDeviceChannelHD:p,isLineupChannelHD:m,isChannelMissing:h}=e;return g.createElement(vSe,{key:t,name:t,initialValue:{enabled:i,channelKey:o,lineupIdentifier:l},deviceIdentifier:n,channelName:r,drm:c,signalStrength:u||d,isDeviceChannelHD:p,isLineupChannelHD:m,isChannelMissing:h,showResolution:C,lineupChannels:a,lineupChannelOptions:s})}))):null),g.createElement(sbe,null,g.createElement(yw.Z,null,g.createElement(cb.Z,{kind:ic.TP,size:Rp.M2,onPress:b},(0,Ce.Z)("Cancel"))),g.createElement(yw.Z,null,g.createElement(dbe,{dvrID:t}),g.createElement(fw.Z,{type:"submit",kind:ic._8,size:Rp.M2,isSpinning:d},(0,Ce.Z)("Continue"))))))}));var TSe=Object.defineProperty,NSe=Object.prototype.hasOwnProperty,OSe=Object.getOwnPropertySymbols,ASe=Object.prototype.propertyIsEnumerable,xSe=(e,t,n)=>t in e?TSe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;function jSe(e,t){if(e){const t=qi.Z.parseXML(e.responseText);if(t.message)return t.message}else{if(!t)return;{const e=qi.Z.parseXML(t.responseText);if(e.message)return e.message}}return(0,Ce.Z)("Unable to load channel mappings")}const LSe={fetchLineupChannels:Fye.BA,fetchChannelMap:Fye.US,selectEPGLineup:Fye._1,clearChannelMapError:Fye.SA,saveDVR:Fye.xj,addDVRDevice:Fye.s6};class kSe extends g.Component{constructor(){super(...arguments),this.onLineupSelect=e=>{const{serverEntityID:t,selectedDevice:n}=this.props;e&&(this.props.selectEPGLineup({serverEntityID:t,lineupUUID:e}),this.props.fetchLineupChannels({serverEntityID:t,lineupUUID:e}),this.props.fetchChannelMap({serverEntityID:t,deviceUUID:n.uuid,lineupUUID:e,forceEnabled:!0}))},this.onAddDeviceSubmit=e=>{const{serverEntityID:t,dvrID:n,selectedDevice:r}=this.props;this.props.addDVRDevice({serverEntityID:t,dvrID:n,deviceID:r.key,data:e})},this.onSaveDVRSubmit=e=>{const{serverEntityID:t,selectedDevice:n}=this.props;this.props.saveDVR({serverEntityID:t,deviceID:n.key,data:e})}}UNSAFE_componentWillMount(){this._populate(this.props)}componentWillUnmount(){this.props.clearChannelMapError()}_populate(e){const t=e.serverEntityID,n=e.selectedDevice.uuid,r=e.selectedLineupUUID;r&&(0,fn.c9)((()=>{e.fetchLineupChannels({serverEntityID:t,lineupUUID:r}),e.fetchChannelMap({serverEntityID:t,deviceUUID:n,lineupUUID:r,forceEnabled:!0})}))}render(){const e=this.props.dvrID;return g.createElement(ZSe,((e,t)=>{for(var n in t||(t={}))NSe.call(t,n)&&xSe(e,n,t[n]);if(OSe)for(var n of OSe(t))ASe.call(t,n)&&xSe(e,n,t[n]);return e})({onLineupSelect:this.onLineupSelect,onSubmit:e?this.onAddDeviceSubmit:this.onSaveDVRSubmit},this.props))}}const RSe=(0,v.$j)((function(){return(0,fe.P1)(Wfe,rbe,uSe,mSe,cSe(),((e,t,n,r,i)=>{const{selectedDevice:a,selectedLineupUUID:s,isChannelMappingsPending:o,isLineupChannelsPending:l,channelMappingsError:c,lineupChannelsError:d,isSavingDVR:u}=e;return{setupErrorMessage:t,selectedDevice:a,selectedLineupUUID:s,availableLineups:S().reduce(e.epgSettings.lineupGroup.lineups,((e,t)=>(e.push({[t.uuid]:t.title}),e)),[]),lineupChannels:n,lineupChannelOptions:r,channelMappings:i,isChannelMappingsPending:o,isLineupChannelsPending:l,isSavingDVR:u,channelMappingsErrorMessage:jSe(c,d)}}))}),LSe)(kSe);var zSe=Object.defineProperty,USe=Object.prototype.hasOwnProperty,VSe=Object.getOwnPropertySymbols,BSe=Object.prototype.propertyIsEnumerable,FSe=(e,t,n)=>t in e?zSe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,_Se=(e,t)=>{for(var n in t||(t={}))USe.call(t,n)&&FSe(e,n,t[n]);if(VSe)for(var n of VSe(t))BSe.call(t,n)&&FSe(e,n,t[n]);return e};const HSe={clearDVRSetup:Fye.SB};class QSe extends g.Component{componentWillUnmount(){this.props.clearDVRSetup()}render(){const e=this.props,{step:t}=e,n=((e,t)=>{var n={};for(var r in e)USe.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&VSe)for(var r of VSe(e))t.indexOf(r)<0&&BSe.call(e,r)&&(n[r]=e[r]);return n})(e,["step"]);switch(t){case HT.C.DEVICE:return g.createElement(bIe,_Se({},n));case HT.C.UNSUPPORTED_DEVICE:return g.createElement(MIe,_Se({},n));case HT.C.DEVICE_CHANNELS:return g.createElement(rIe,_Se({},n));case HT.C.EPG:return g.createElement(lSe,_Se({},n));case HT.C.EPG_MAPPING:return g.createElement(BIe,_Se({},n));case HT.C.CHANNEL_MAPPING:return g.createElement(RSe,_Se({},n));case HT.C.EPG_DOWNLOAD:return g.createElement(OIe,_Se({},n))}}}const GSe=(0,v.$j)((function(){return(0,fe.P1)(Wfe,(e=>({step:e.step})))}),HSe)(QSe);var WSe=Object.defineProperty,YSe=Object.prototype.hasOwnProperty,KSe=Object.getOwnPropertySymbols,qSe=Object.prototype.propertyIsEnumerable,$Se=(e,t,n)=>t in e?WSe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,JSe=(e,t)=>{for(var n in t||(t={}))YSe.call(t,n)&&$Se(e,n,t[n]);if(KSe)for(var n of KSe(t))qSe.call(t,n)&&$Se(e,n,t[n]);return e};class XSe extends g.Component{constructor(){super(...arguments),this.onModalClose=()=>{(0,b.DB)("metrics").trackClick(JSe(JSe({},this.props.metricsProperties),{page:pt.od,action:ss.GP})),this.props.onModalClose()}}shouldComponentUpdate(e,t){return(0,At.Z)(this,e,t)}render(){const{serverEntityID:e,dvrID:t,isOpen:n,metricsProperties:r}=this.props;return g.createElement(Zw.Z,{className:"DVRSetupModal-modal-2lRY8d Modal-medium-3YP8Mf Modal-modal-23PFoV",isOpen:n,metricsPage:pt.od,metricsProperties:r,preventCloseOnBackdropPress:!0,onModalClose:this.onModalClose},g.createElement(GSe,{serverEntityID:e,dvrID:t,onModalClose:this.onModalClose}))}}const eMe=XSe,tMe={context:OC.SETTINGS};class nMe extends g.Component{constructor(e,t){super(e,t),this.onCreateDVRPress=()=>{this.setState({isDVRSetupModalOpen:!0})},this.onDVRSetupModalClose=()=>{this.setState({isDVRSetupModalOpen:!1}),this.props.onModalClose&&this.props.onModalClose()},this.state={isDVRSetupModalOpen:e.isModalOpen}}render(){const{className:e,dvrID:t,serverEntityID:n,machineIdentifier:r,providerIdentifier:i,isDvrsPending:a,hasV4DVRSetupFeature:s,hasDVRFeature:o,hasLiveTVSetupFeature:l,dvrsError:c,children:d}=this.props,{isDVRSetupModalOpen:u}=this.state,p=!a&&!t;return g.createElement("div",{className:e},d?d({serverEntityID:n,hasDVRFeature:o,hasLiveTVSetupFeature:l,noDVRs:p,dvrsError:c,onOpen:this.onCreateDVRPress}):null,s?g.createElement(fye,{machineIdentifier:r,providerIdentifier:i,dvrID:(0,Gfe.Z)(t),metricsContext:tMe.context,isOpen:u,onModalClose:this.onDVRSetupModalClose}):g.createElement(eMe,{serverEntityID:n,metricsProperties:tMe,isOpen:u,onModalClose:this.onDVRSetupModalClose}))}}nMe.defaultProps={isModalOpen:!1};const rMe=nMe;var iMe=Object.defineProperty,aMe=Object.prototype.hasOwnProperty,sMe=Object.getOwnPropertySymbols,oMe=Object.prototype.propertyIsEnumerable,lMe=(e,t,n)=>t in e?iMe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const cMe={dispatchInitDVRSettingsUI:JT,dispatchClearDVRSettingsUI:XT};class dMe extends g.Component{componentDidMount(){(0,fn.c9)((()=>{this.props.dispatchInitDVRSettingsUI({serverEntityID:this.props.serverEntityID})}))}componentWillUnmount(){this.props.dispatchClearDVRSettingsUI()}render(){const e=this.props,{dispatchInitDVRSettingsUI:t,dispatchClearDVRSettingsUI:n}=e,r=((e,t)=>{var n={};for(var r in e)aMe.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&sMe)for(var r of sMe(e))t.indexOf(r)<0&&oMe.call(e,r)&&(n[r]=e[r]);return n})(e,["dispatchInitDVRSettingsUI","dispatchClearDVRSettingsUI"]);return this.props.isUIPopulated?g.createElement(rMe,((e,t)=>{for(var n in t||(t={}))aMe.call(t,n)&&lMe(e,n,t[n]);if(sMe)for(var n of sMe(t))oMe.call(t,n)&&lMe(e,n,t[n]);return e})({},r)):null}}const uMe=(0,v.$j)((function(){return(0,fe.P1)((e=>e.ui.dvrSettingsUI),(0,LT.Z)(),(0,ob.Z)(bn.vm),(0,ob.Z)(bn.C1),Cn.Z,((e,t,n,r,i)=>{var a;const{isDvrsPending:s,dvrs:o,dvrsError:l,isUIPopulated:c}=e,d=t.providers.map((e=>i[e])).find(kme.Z);return{machineIdentifier:t.machineIdentifier,providerIdentifier:null==d?void 0:d.identifier,isUIPopulated:c,isDvrsPending:s,dvrID:null==(a=null==o?void 0:o[0])?void 0:a.key,hasDVRFeature:!!t.ownerFeatures&&t.ownerFeatures.indexOf("dvr")>-1,hasLiveTVSetupFeature:n,hasV4DVRSetupFeature:r,dvrsError:l}}))}),cMe)(dMe);var pMe=n(66102);const mMe="DVRManageChannelsInfo-scroller-1wGLvg Scroller-vertical-3IY07c",hMe=function(e){const{channelMappings:t,lineupChannels:n,lineupChannelOptions:r,showSignalStrength:i,channelScanActivity:a,scanPrefs:s,scanNetworks:o,allChannelMappingsEnabled:l,allChannelMappingsDisabled:c,onAllChannelMappingsEnabledChange:d}=e,u=t.some((e=>e.isDeviceChannelHD||e.isLineupChannelHD));return a?g.createElement("div",{className:"DVRManageChannelsInfo-progressContainer-3nPXNL"},g.createElement(AF,{size:90,progress:a.progress})):s.length?g.createElement(rU.Z,{className:mMe,autoScroll:!0},g.createElement(Ebe,{prefs:s})):o.length?g.createElement(ybe,{networks:o}):t.length?g.createElement(rU.Z,{className:mMe,autoScroll:!0},g.createElement(fSe,{showSignalStrength:i,allChannelMappingsEnabled:l,allChannelMappingsDisabled:c,onAllChannelMappingsEnabledChange:d}),t.map((e=>{const{key:t,deviceIdentifier:i,name:a,enabled:s,channelKey:o,lineupIdentifier:l,drm:c,signalStrength:d,signalQuality:p,isDeviceChannelHD:m,isLineupChannelHD:h,isChannelMissing:y}=e;return g.createElement(vSe,{key:t,name:t,initialValue:{enabled:s,channelKey:o,lineupIdentifier:l},deviceIdentifier:i,channelName:a,drm:c,signalStrength:p||d,isChannelMissing:y,showResolution:u,isDeviceChannelHD:m,isLineupChannelHD:h,lineupChannels:n,lineupChannelOptions:r})}))):null};class gMe extends g.Component{constructor(){super(...arguments),this.onScanDeviceChannelsButtonPress=()=>{const{scanPrefs:e,scanNetworks:t,channelScanActivity:n,onScanDeviceChannels:r,onCancelScanDeviceChannels:i}=this.props;e.length||t.length||(n?i():r(this.props.country))},this.onSubmit=e=>{const{scanPrefs:t,scanNetworks:n,onSubmit:r}=this.props;if(t.length||n.length){const t=this.props.scanPrefs.length?{prefs:e}:e;this.props.onScanDeviceChannels(this.props.country,t)}else r(e)}}render(){const{channelMappings:e,lineupChannels:t,lineupChannelOptions:n,isChannelMappingsPending:r,isLineupChannelsPending:i,isDeviceChannelsPending:a,channelMappingsError:s,lineupChannelsError:o,deviceChannelsError:l,isChannelMappingsSaving:c,channelMappingsSaveError:d,formState:u,allChannelMappingsEnabled:p,allChannelMappingsDisabled:m,isCancellingChannelScan:h,scanPrefs:y,scanNetworks:v,channelScanActivity:f,onAllChannelMappingsEnabledChange:b,onFormStateChange:I,onModalClose:S}=this.props,M=f&&!h,E=s||o||l,P=!M&&(r||i||a),D=f?parseInt(f.Response.channels,10):0;let C;C=1===D?(0,Ce.Z)("Scanning channels. 1 channel found."):D>1?(0,Ce.Z)("Scanning channels. {channelCount} channels found.",{channelCount:D}):(0,Ce.Z)("Scanning channels. No channels found.");const w=!(!y.length&&!v.length),Z=e.some((e=>null!=e.signalQuality||null!=e.signalStrength)),T=Z?(0,Ce.Z)('Click "Scan Channels" to refresh this list, or create a new DVR to use a different lineup. Signal strength is stored at the time of scanning.'):(0,Ce.Z)('Click "Scan Channels" to refresh this list, or create a new DVR to use a different lineup.');return E?g.createElement(pMe.Z,{message:(0,Ce.Z)("Unable to load channel mappings"),onModalClose:S}):g.createElement(qae.ZP,{className:"DVRManageChannelsModalContent-form-2gUWFk",formState:u,onChange:I,onSubmit:this.onSubmit},g.createElement(Tw.Z,{onModalClose:S},g.createElement(vw.Z,null,(0,Ce.Z)("Manage Channels")),P?g.createElement(hw.Z,null,g.createElement("div",{className:"DVRManageChannelsModalContent-centeredContainer-xu_5ie"},g.createElement(Mx.Z,null))):null,!P&&d?g.createElement("div",null,g.createElement(ww.Z,{errorMessage:(0,x7.Z)(d,(0,Ce.Z)("There was a problem saving your changes. Please try again."))})):null,P?null:g.createElement(hw.Z,{className:f?void 0:"DVRManageChannelsModalContent-manageChannelsBody-2kbiNk ModalBody-modalBody-38ercY",scrollDirection:f?tZ.yZ:tZ.Hn},g.createElement("div",{className:"DVRManageChannelsModalContent-scanChannelsContainer-3s1zl3"},g.createElement("div",{className:"DVRManageChannelsModalContent-scanChannelsMessage-3oYley"},f?C:T),g.createElement("div",null,g.createElement(fw.Z,{type:w?"submit":"button",size:Rp.M2,isSpinning:h,isDisabled:h,onPress:this.onScanDeviceChannelsButtonPress},M?(0,Ce.Z)("Stop scanning"):(0,Ce.Z)("Scan channels")))),g.createElement(hMe,{channelMappings:e,lineupChannels:t,lineupChannelOptions:n,showSignalStrength:Z,channelScanActivity:f,scanPrefs:y,scanNetworks:v,allChannelMappingsEnabled:p,allChannelMappingsDisabled:m,onAllChannelMappingsEnabledChange:b})),g.createElement(gw.Z,null,g.createElement(yw.Z,null,g.createElement(cb.Z,{kind:ic.TP,size:Rp.M2,onPress:S},(0,Ce.Z)("Cancel")),g.createElement(fw.Z,{type:"submit",kind:ic._8,size:Rp.M2,isDisabled:P||!!f,isSpinning:c},(0,Ce.Z)("Save"))))))}}gMe.defaultProps={scanPrefs:[],scanNetworks:[]};const yMe=DSe(gMe);var vMe=Object.defineProperty,fMe=Object.prototype.hasOwnProperty,bMe=Object.getOwnPropertySymbols,IMe=Object.prototype.propertyIsEnumerable,SMe=(e,t,n)=>t in e?vMe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,MMe=(e,t)=>{for(var n in t||(t={}))fMe.call(t,n)&&SMe(e,n,t[n]);if(bMe)for(var n of bMe(t))IMe.call(t,n)&&SMe(e,n,t[n]);return e};class EMe extends g.Component{constructor(e,t){super(e,t),this.onCancelScanDeviceChannels=()=>{this.setState({isCancellingChannelScan:!0}),this.props.dispatchCancelScanDeviceChannels(this.props.deviceID)},this.state={isCancellingChannelScan:!!e.channelScanActivity}}componentDidMount(){const{lineupUUID:e,dispatchClearDeviceScanPrefs:t,dispatchSelectDevice:n,dispatchFetchLineupChannels:r,dispatchFetchDeviceChannels:i}=this.props;(0,fn.c9)((()=>{t(),n(),r(e),i()}))}UNSAFE_componentWillReceiveProps(e){!e.channelScanActivity&&this.props.channelScanActivity&&this.setState({isCancellingChannelScan:!1})}componentDidUpdate(e,t){e.isChannelMappingsSaving&&!this.props.isChannelMappingsSaving&&null==this.props.channelMappingsSaveError&&this.props.onModalClose(),this.props.channelScanActivity||!e.channelScanActivity||this.props.scanNetworks||(0,fn.c9)((()=>{this.props.dispatchFetchDeviceChannels()}))}componentWillUnmount(){const{serverEntityID:e,dvrID:t,deviceID:n,channelScanActivity:r}=this.props;r&&!this.state.isCancellingChannelScan&&this.props.dispatchCancelScanDeviceChannels({serverEntityID:e,dvrID:t,deviceID:n})}render(){const e=this.props,{dispatchSelectDevice:t,dispatchFetchLineupChannels:n,dispatchFetchDeviceChannels:r,dispatchFetchChannelMap:i,dispatchCancelScanDeviceChannels:a,dispatchClearDeviceScanPrefs:s}=e,o=((e,t)=>{var n={};for(var r in e)fMe.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&bMe)for(var r of bMe(e))t.indexOf(r)<0&&IMe.call(e,r)&&(n[r]=e[r]);return n})(e,["dispatchSelectDevice","dispatchFetchLineupChannels","dispatchFetchDeviceChannels","dispatchFetchChannelMap","dispatchCancelScanDeviceChannels","dispatchClearDeviceScanPrefs"]);return g.createElement(yMe,MMe({isCancellingChannelScan:this.state.isCancellingChannelScan,onCancelScanDeviceChannels:this.onCancelScanDeviceChannels},o))}}const PMe=(0,v.$j)((function(){return(0,fe.P1)(_ye(),Sve(),cSe(),nbe(),Wfe,uSe,mSe,((e,t,n,r,i,a,s)=>{const{country:o,lineup:l}=e,{isChannelMappingsPending:c,isLineupChannelsPending:d,channelMappingsError:u,lineupChannelsError:p,isChannelMappingsSaving:m,channelMappingsSaveError:h,scanPrefs:g,scanNetworks:y}=i;return{country:o,lineupUUID:e.lineup,lineupTitle:l,channelMappings:n,lineupChannels:a,lineupChannelOptions:s,isChannelMappingsPending:c,isLineupChannelsPending:d,isDeviceChannelsPending:t.isChannelsPending,channelMappingsError:u,lineupChannelsError:p,isChannelMappingsSaving:m,channelMappingsSaveError:h,deviceChannelsError:t.channelsError,scanPrefs:g,scanNetworks:y,channelScanActivity:r}}))}),(function(e,t){const{serverEntityID:n,dvrID:r,deviceID:i}=t;return{dispatchSelectDevice(){e(Fye.$1({serverEntityID:n,dvrID:r,deviceID:i}))},dispatchFetchLineupChannels(t){e(Fye.BA({serverEntityID:n,lineupUUID:t}))},dispatchFetchDeviceChannels(){e(Fye.pi({serverEntityID:n,dvrID:r,deviceID:i}))},dispatchFetchChannelMap(){e(Fye.US({serverEntityID:n}))},dispatchCancelScanDeviceChannels(){e(Fye.BF({serverEntityID:n,deviceID:i}))},dispatchClearDeviceScanPrefs(){e(Fye.Ze({serverEntityID:n}))},onScanDeviceChannels(t,a={}){e(Fye.sl(MMe({serverEntityID:n,dvrID:r,deviceID:i,country:t},a)))},onSubmit(t){(0,fn.c9)((()=>{e(Fye.Lp({serverEntityID:n,dvrID:r,deviceID:i,data:t}))}))},onDismissSaveError(){(0,fn.c9)((()=>{e(Fye.dG())}))}}}))(EMe),DMe=function(e){const{serverEntityID:t,dvrID:n,deviceID:r,metricsProperties:i,isOpen:a,onModalClose:s}=e;return g.createElement(Zw.Z,{metricsPage:pt.SK,metricsProperties:i,isOpen:a,preventCloseOnBackdropPress:!0,onModalClose:s},g.createElement(PMe,{serverEntityID:t,dvrID:n,deviceID:r,onModalClose:s}))};var CMe=Object.defineProperty,wMe=Object.prototype.hasOwnProperty,ZMe=Object.getOwnPropertySymbols,TMe=Object.prototype.propertyIsEnumerable,NMe=(e,t,n)=>t in e?CMe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,OMe=(e,t)=>{for(var n in t||(t={}))wMe.call(t,n)&&NMe(e,n,t[n]);if(ZMe)for(var n of ZMe(t))TMe.call(t,n)&&NMe(e,n,t[n]);return e};class AMe extends g.Component{constructor(){super(...arguments),this.onModalClose=()=>{this.props.clearDVRSetup({serverEntityID:this.props.serverEntityID}),this.props.onModalClose()}}render(){return g.createElement(DMe,OMe(OMe({},this.props),{onModalClose:this.onModalClose}))}}const xMe=(0,v.$j)((function(){return(0,fe.P1)(_ye(),Sve(),((e,t)=>({dvrID:e.key,deviceID:t.key})))}),{clearDVRSetup:Fye.SB})(AMe),jMe="DVRDevice-separator-3u6Ink DashSeparator-separator-3r2G27",LMe={context:OC.SETTINGS};class kMe extends g.Component{constructor(e,t){super(e,t),this.onManageChannelsPress=()=>{this.setState({isManageChannelsModalOpen:!0})},this.onManageChannelsModalClose=()=>{this.setState({isManageChannelsModalOpen:!1})},this.onDeviceSettingsPress=()=>{this.setState({isDeviceSettingsModalOpen:!0})},this.onDeviceSettingsModalClose=()=>{this.setState({isDeviceSettingsModalOpen:!1})},this.state={isManageChannelsModalOpen:!1,isDeviceSettingsModalOpen:!1}}render(){const{serverEntityID:e,dvrID:t,deviceID:n,model:r,uri:i,thumb:a,tunerCount:s,channelCount:o,unsupported:l,activeTunerCount:c,channelMappings:d,hasPrefs:u,status:p,canRemoveDevice:m,onRemoveDevicePress:h}=this.props,y=p===iIe.vh.DEAD,v=d.filter((e=>e.enabled)).length;let f;return f=o?1===o?(0,Ce.Z)("1 channel"):(0,Ce.Z)("{channelCount} channels",{channelCount:o}):(0,Ce.Z)("No channels"),g.createElement("div",{className:"DVRDevice-device-1FrKNE"},g.createElement(Eve,{serverEntityID:e,model:r,thumb:a,width:100,height:100}),g.createElement("div",{className:"DVRDevice-details-kftkcD"},g.createElement("div",{className:"DVRDevice-modelContainer-35DLRD"},g.createElement("div",{className:"DVRDevice-model-1WzJ2k"},r),i?g.createElement(g.Fragment,null,g.createElement(rs.Z,{className:jMe}),g.createElement(pbe,{className:"DVRDevice-uri-2d47ju",uri:i})):null,l?g.createElement(ube,null):null),y?g.createElement("div",{className:"DVRDevice-deviceWarning-1Xw7HV"},g.createElement("div",{className:"DVRDevice-deviceWarningIconContainer-HC6xjQ"},g.createElement(we.Z,null)),(0,Ce.Z)("Device not found. Ensure your device is powered on and connected to your network.")):g.createElement("div",{className:"DVRDevice-info-1Pl1-R"},g.createElement("div",null,1===s?(0,Ce.Z)("1 tuner"):(0,Ce.Z)("{tunerCount} tuners",{tunerCount:s}),c?g.createElement(g.Fragment,null,g.createElement(rs.Z,{className:jMe}),(0,Ce.Z)("{activeTunerCount} in use now",{activeTunerCount:c})):null),g.createElement("div",null,f,g.createElement(rs.Z,{className:jMe}),g.createElement(pw.Z,{kind:ic._8,onPress:this.onManageChannelsPress},(0,Ce.Z)("{enabledChannelsCount} enabled",{enabledChannelsCount:v}))),u?g.createElement(pw.Z,{className:"DVRDevice-deviceSettingsButton-3uEPLT Link-link-CM9nxg",kind:ic._8,onPress:this.onDeviceSettingsPress},g.createElement(el.Z,{className:"DVRDevice-deviceSettingsIcon-3ZV-PC","aria-label":(0,Ce.Z)("Device Settings")}),(0,Ce.Z)("Device Settings")):null)),m?g.createElement("div",{className:"DVRDevice-removeDeviceContainer-aVC1dd"},g.createElement(pw.Z,{className:"DVRDevice-removeDevice-3-tg0C",onPress:h},g.createElement(cu.Z,{"aria-label":(0,Ce.Z)("Remove Device")}))):null,g.createElement(xMe,{serverEntityID:e,dvrID:t,deviceID:n,metricsProperties:LMe,isOpen:this.state.isManageChannelsModalOpen,onModalClose:this.onManageChannelsModalClose}),g.createElement(Hve,{serverEntityID:e,dvrID:t,deviceID:n,metricsProperties:LMe,isOpen:this.state.isDeviceSettingsModalOpen,onModalClose:this.onDeviceSettingsModalClose}))}}const RMe=kMe;var zMe=Object.defineProperty,UMe=Object.prototype.hasOwnProperty,VMe=Object.getOwnPropertySymbols,BMe=Object.prototype.propertyIsEnumerable,FMe=(e,t,n)=>t in e?zMe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const _Me={fetchDeviceChannels:Fye.pi,removeDVRDevice:Fye.NK};class HMe extends g.Component{constructor(){super(...arguments),this.onRemoveDevicePress=()=>{const{serverEntityID:e,dvrID:t,deviceID:n}=this.props;this.props.removeDVRDevice({serverEntityID:e,dvrID:t,deviceID:n})}}UNSAFE_componentWillMount(){const{serverEntityID:e,dvrID:t,deviceID:n}=this.props;(0,fn.c9)((()=>{this.props.fetchDeviceChannels({serverEntityID:e,dvrID:t,deviceID:n})}))}render(){return g.createElement(RMe,((e,t)=>{for(var n in t||(t={}))UMe.call(t,n)&&FMe(e,n,t[n]);if(VMe)for(var n of VMe(t))BMe.call(t,n)&&FMe(e,n,t[n]);return e})({onRemoveDevicePress:this.onRemoveDevicePress},this.props))}}const QMe=(0,v.$j)((function(){return(0,fe.P1)(Sve(),(0,AT.Z)(),((e,t)=>{const n=t.reduce(((t,n)=>{const r=n.Context&&n.Context.transcode_session;return n.type!==gl.sC||parseInt(n.Context.deviceID,10)!==e.key||r&&t.some((e=>e.Context.transcode_session===r))||t.push(n),t}),[]);return{hasPrefs:!(!e.prefs||!e.prefs.length),channelCount:e.channels.length,activeTunerCount:n.length}}))}),_Me)(HMe),GMe="DVRListItem-separator-2uzjVB DashSeparator-separator-3r2G27",WMe="DVRListItem-actionIcon-3GPrL9",YMe={context:OC.SETTINGS};class KMe extends g.Component{constructor(e,t){super(e,t),this.onRemoveDVRPress=()=>{this.setState({isRemoveDVRModalOpen:!0})},this.onRemoveDVRConfirm=()=>{this.setState({isRemoveDVRModalOpen:!1}),this.props.onRemoveDVR()},this.onRemoveDVRCancel=()=>{this.setState({isRemoveDVRModalOpen:!1})},this.onDVRSettingsPress=()=>{this.setState({isDVRSettingsModalOpen:!0})},this.onDVRSettingsModalClose=()=>{this.setState({isDVRSettingsModalOpen:!1})},this.onAddDevicePress=()=>{this.setState({isAddDeviceModalOpen:!0})},this.onModalClose=()=>{this.setState({isAddDeviceModalOpen:!1})},this.state={isRemoveDVRModalOpen:!1,isDVRSettingsModalOpen:!1,isAddDeviceModalOpen:!1}}shouldComponentUpdate(e,t){return(0,At.Z)(this,e,t)}render(){const{serverEntityID:e,providerEntityID:t,dvrID:n,machineIdentifier:r,providerIdentifier:i,lineupTitle:a,devices:s,epgDownloadActivity:o,hasPrefs:l,hasDVRFeature:c,hasLiveTVSetupFeature:d,hasFreeLiveTVDVRSettings:u,hasV4DVRSetupFeature:p,onReloadGuidePress:m,onCancelReloadGuidePress:h}=this.props,{isRemoveDVRModalOpen:y,isDVRSettingsModalOpen:v}=this.state,f=(c||d&&u)&&l;return g.createElement("div",{className:"DVRListItem-dvr-3hxpQ4"},t?g.createElement(mb,{className:"DVRListItem-banner-NgBgRQ ProgramGuideGracenoteMigrationBanner-container-3KhZOk",serverEntityID:e,providerEntityID:t,showButton:!1}):null,g.createElement("div",{className:"DVRListItem-header-1AdKFz"},g.createElement("div",{className:"DVRListItem-name-1Xqaxm"},(0,Ce.Z)("DVR"),g.createElement(rs.Z,{className:GMe}),a),g.createElement(pw.Z,{className:"DVRListItem-deleteLink-2sz7ZZ",kind:ic._8,onPress:this.onRemoveDVRPress},(0,Ce.Z)("Delete DVR"))),g.createElement("div",{className:"DVRListItem-actions-26ZMNC"},g.createElement("div",null,o?g.createElement(pw.Z,{kind:ic.TP,title:(0,Ce.Z)("Cancel refresh"),onPress:h},g.createElement(cu.Z,{className:WMe}),o.title," (",o.progress,"%)",g.createElement(rs.Z,{className:GMe}),o.subtitle):g.createElement(pw.Z,{kind:ic._8,onPress:m},g.createElement(pve.Z,{className:WMe}),(0,Ce.Z)("Refresh Guide"))),f?g.createElement("div",null,g.createElement(pw.Z,{kind:ic._8,onPress:this.onDVRSettingsPress},g.createElement(el.Z,{className:WMe,"aria-label":(0,Ce.Z)("DVR Settings")}),(0,Ce.Z)("DVR Settings"))):null),g.createElement("div",{className:"DVRListItem-devices-3k34MX"},s.map((t=>g.createElement(QMe,{key:t.key,serverEntityID:e,dvrID:n,deviceID:t.key,canRemoveDevice:s.length>1,model:t.model,uri:t.uri,unsupported:t.unsupported,channelMappings:t.channelMappings,tunerCount:t.tuners,status:t.status,thumb:t.thumb})))),g.createElement(pw.Z,{kind:ic._8,onPress:this.onAddDevicePress},g.createElement(hP.Z,{className:"DVRListItem-addDeviceIcon-1exeb3"}),(0,Ce.Z)("Add Device")),g.createElement(yt.Z,{isOpen:y,metricsPage:pt.O6,title:(0,Ce.Z)("Delete DVR"),message:(0,Ce.Z)("Deleting your DVR will remove the Guide, and all scheduled recordings will be suspended. Programming you've previously recorded will remain in your library."),confirmLabel:(0,Ce.Z)("Delete"),kind:ic.T,onConfirm:this.onRemoveDVRConfirm,onCancel:this.onRemoveDVRCancel}),g.createElement(uve,{isOpen:v,serverEntityID:e,dvrID:n,metricsProperties:YMe,onModalClose:this.onDVRSettingsModalClose}),p?g.createElement(fye,{machineIdentifier:r,providerIdentifier:i,dvrID:(0,Gfe.Z)(n),metricsContext:YMe.context,isOpen:this.state.isAddDeviceModalOpen,onModalClose:this.onModalClose}):g.createElement(eMe,{serverEntityID:e,dvrID:n,metricsProperties:YMe,isOpen:this.state.isAddDeviceModalOpen,onModalClose:this.onModalClose}))}}const qMe=KMe,$Me=(0,fe.zB)({machineIdentifier:(0,fe.P1)(sb.Z,(e=>e.machineIdentifier)),providerIdentifier:(0,fe.P1)((0,LT.Z)(),Cn.Z,((e,t)=>{const n=e.providers.find((e=>(0,kme.Z)(t[e])));return null==n?void 0:n.identifier})),providerEntityID:(0,fe.P1)((0,LT.Z)(),Cn.Z,((e,t)=>{const n=e.providers.map((e=>t[e])).find(kme.Z);return null==n?void 0:n.entityID})),epgDownloadActivity:EIe(),hasPrefs:(0,fe.P1)(_ye(),(e=>!!e.prefs)),hasFreeLiveTVDVRSettings:(0,fe.P1)(sb.Z,(e=>(0,lb.Z)(e.version,ib.Z.freeLiveTVDVRSettings))),hasV4DVRSetupFeature:(0,ob.Z)(bn.C1)}),JMe=(0,v.$j)($Me,(function(e,t){const{serverEntityID:n,dvrID:r}=t;return{onRemoveDVR(){e(tN({serverEntityID:n,dvrID:r}))},onReloadGuidePress(){e(nN({serverEntityID:n,dvrID:r}))},onCancelReloadGuidePress(){e(rN({serverEntityID:n,dvrID:r}))}}}))(qMe),XMe=(0,v.$j)((function(e){const{isDvrsPending:t,dvrsError:n,dvrs:r}=e.ui.dvrSettingsUI;return{isDvrsPending:t,dvrsError:n,dvrs:r}}))((function(e){const{serverEntityID:t,isDvrsPending:n,dvrsError:r,dvrs:i,hasDVRFeature:a,hasLiveTVSetupFeature:s}=e;return r?g.createElement(f0,{title:(0,Ce.Z)("Unable to load DVRs")}):n?g.createElement(Mx.Z,{label:(0,Ce.Z)("Loading DVRs")}):g.createElement("div",null,i.map((e=>g.createElement(JMe,{key:e.key,dvrID:e.key,serverEntityID:t,lineupTitle:e.lineupTitle,devices:e.devices,hasDVRFeature:a,hasLiveTVSetupFeature:s}))))})),eEe=oA.Z.extend({name:"DeprecatedPluginModel",context:["server","channel"],idAttribute:"key",url(){return this.id?this.id:this.identifierUrl(this.get("identifier"))},identifierUrl:e=>`/:/plugins/${e}/root`,syncedAttrs:{key:KO.Z.string,identifier:KO.Z.string,type:KO.Z.string,name:KO.Z.string,title1:KO.Z.string,title2:KO.Z.string,message:KO.Z.string,summary:KO.Z.string,thumb:KO.Z.string,art:KO.Z.string,prefsKey:KO.Z.string,searchKey:KO.Z.string,installed:KO.Z.boolean,noCache:KO.Z.boolean,allowSync:KO.Z.boolean,hasPrefs:KO.Z.boolean,hasStoreServices:KO.Z.boolean,share:KO.Z.boolean,lastAccessedAt:KO.Z.integer},syncedRelations:{metadataList:{relationClass:qO.Z,attrs(e){return{containerKey:e.key?e.key:this.identifierUrl(e.identifier)}},options(e){return{channel:this,skipCache:!0}}}},derivedAttrs:{title(){return this.get("name")||this.get("title2")||this.get("title1")}},augmentResponseText:(e,t)=>t===iV.Ls?(0,sV.Z)(e,{includeDirectories:!0}):e,augmentResponse(e){if(this.has("key")&&(e.key=this.get("key")),"none"===e.key&&delete e.key,e.key){const t=e.key.match(/^\/(\w+)\//);t&&(e.type=t[1])}e.title&&(e.name=e.title);const t=qi.Z.parseArray(e.Metadata);for(let n=t.length-1;n>=0;n--){const r=t[n];(r.settings||r.search)&&(e[r.settings?"prefsKey":"searchKey"]=r.key,t.splice(n,1))}return e.Metadata=t,e.metadataList=e,e}}),tEe=BT.Z.extend({name:"DeprecatedPluginCollection",context:["server","channel"],model:eEe,url(){return this.containerKey},comparator:e=>e.get("title").toLowerCase(),filterByType(e){const t=this.filter((t=>t.get("type")===e));return this.clone(t)}}),nEe=oA.Z.extend({mixins:[$O.Z],name:"DeprecatedPluginListModel",context:["server"],idAttribute:"key",collectionName:"channels",url(){const e=this.get("key")||E.Z.join(["/channels",this.get("subset")]);return this.getPaginatedUrl(e)},sessionAttrs:{key:KO.Z.string,subset:KO.Z.oneOf("all","recentlyViewed"),currentPageStart:KO.Z.integer,currentPageSize:KO.Z.integer,populatedRange:KO.Z.object},syncedAttrs:{totalSize:KO.Z.integer,viewGroup:KO.Z.string,title1:KO.Z.string,title2:KO.Z.string},syncedRelations:{channels:{relationClass:tEe,rootPropertyName:"Directory",setOptions:e=>({remove:e.remove,at:e.at})}},defaults:()=>({subset:"all",populatedRange:{start:0,end:0,size:0}}),initialize(){this.startPopulatedRangeMonitor()}});var rEe=n(62250),iEe=n.n(rEe),aEe=n(12935),sEe=n.n(aEe);const oEe=Xpe.Z.extend({name:"DeprecatedPluginSettingsModal",className:"channel-settings-modal modal fade",template:sEe(),ui:{submitBtn:".submit-btn"},events:S().extend({"change input[name]":"onInputChange","change select[name]":"onInputChange","submit #channel-settings-form":"onSubmit"},Xpe.Z.prototype.events),initialize:function(){Xpe.Z.prototype.initialize.apply(this,arguments),this.changes={}},serializeData:function(){const e=this.model.get("title")||this.model.get("name");return{escapedTitle:S().escape(e||"Preferences..."),settings:this.collection.toJSON()}},onInputChange:function(e){const t=e.currentTarget;let n=t.value;"checkbox"===t.type&&(n=t.checked),this.changes[t.name]=n},onSubmit:function(e){if(e.preventDefault(),S().isEmpty(this.changes))return void this.hide();const t=this.ui.submitBtn;if(t.hasClass("active"))return;t.addClass("active");const n=this.collection.first(),r=n.getSaveParams(this.changes),i=S().result(this.collection,"url"),a=E.Z.join([i,"/set"],r),s=h().ajax(n.server.getXHROptions(a));s.done((()=>{this.hide()})),s.fail((()=>{le.Z.trigger("show:alert",{type:"error",message:(0,Ce.Z)("There was a problem saving these settings.")})})),s.always((()=>{t.removeClass("active")}))}});var lEe=n(20611),cEe=n.n(lEe);const dEe=p.Z.ItemView.extend({tagName:"li",className:"poster-item media-tile-list-item channel",template:cEe(),ui:{poster:".media-poster"},events:{"click .settings-btn":"onSettingsClick","click .uninstall-btn":"onUninstallClick"},initialize:function(e){this.image=new Ile.Z({model:this.model,type:"channel",width:150}),this.shared=this.model.server.get("shared")},serializeData:function(){return{item:this.model.toJSON(),shared:this.shared}},bindings:{".media-title":{modelAttribute:"title"},".media-subtitle-1":{modelAttribute:"type",autohide:!0,formatter:e=>"video"===e?(0,Ce.Z)("Video"):"music"===e?(0,Ce.Z)("Music"):"photos"===e?(0,Ce.Z)("Photo"):(0,Ce.Z)("Utility")}},onRender:function(){this.image.setElement(this.ui.poster)},onClose:function(){this.image.close()},onSettingsClick:function(e){if(e.preventDefault(),this.$el.hasClass("active"))return;this.$el.addClass("active");const t=new Goe.Z([],{server:this.model.server,url:this.model.id+"/:/prefs"}),n=t.fetch();n.done((()=>{le.Z.trigger("show:modal",new oEe({model:this.model,collection:t}))})),n.always((()=>{this.$el.removeClass("active")}))},onUninstallClick:function(e){if(e.preventDefault(),this.$el.hasClass("active"))return;this.$el.addClass("active");const t=vle.Z.execute("uninstallChannel",{channel:this.model});t.done((()=>{this.model.trigger("destroy",this.model,this.model.collection)})),t.always((()=>{this.$el.removeClass("active")}))}}),uEe=ile.Z.extend({tagName:"ul",className:"tile-list media-tile-list channel-tile-list",itemView:dEe}),pEe=p.Z.Layout.extend({className:"container",template:iEe(),ui:{navLinks:".nav a"},regions:{list:".channels-container"},events:{"click .nav a":"onNavClick","click .all-btn":"onAllClick","click .video-btn":"onVideoClick","click .music-btn":"onMusicClick","click .photo-btn":"onPhotoClick"},initialize:function({deprecatedPlugins:e}){(0,(0,b.DB)("appStore").dispatch)((0,Yn.ZZ)({allowLightPreset:!1})),this.collection=e.get("channels"),this.videoCollection=this.collection.filterByType("video"),this.musicCollection=this.collection.filterByType("music"),this.photoCollection=this.collection.filterByType("photos")},serializeData:function(){return{serverID:this.collection.server.id,allCount:this.collection.length,hasInstalledChannels:this.collection.length>0,videoCount:this.videoCollection.length,musicCount:this.musicCollection.length,photoCount:this.photoCollection.length}},onRender:function(){this.list.show(new uEe({collection:this.collection}))},onNavClick:function(e){this.ui.navLinks.removeClass("selected"),h()(e.currentTarget).addClass("selected")},onAllClick:function(e){e.preventDefault(),this.list.show(new uEe({collection:this.collection}))},onVideoClick:function(e){e.preventDefault(),this.list.show(new uEe({collection:this.videoCollection}))},onMusicClick:function(e){e.preventDefault(),this.list.show(new uEe({collection:this.musicCollection}))},onPhotoClick:function(e){e.preventDefault(),this.list.show(new uEe({collection:this.photoCollection}))}});class mEe extends g.Component{componentDidMount(){const e=this.props.view;this._view=new e(this.props.viewOptions),this._view.render(),this._el.appendChild(this._view.el),this._view.triggerMethod("show")}shouldComponentUpdate(){return!1}componentWillUnmount(){this._view.close&&this._view.close()}render(){return g.createElement("div",{className:this.props.className,ref:e=>this._el=e})}}const hEe=mEe,gEe=oe.Z.extend({maximumDelay:30,initialize({callback:e,logFormat:t}){this._serversBeingRetried={},this.callback=e,this.logFormat=t},start(e){this._serversBeingRetried[e.cid]||this.supportsRetry(e)&&(this._serversBeingRetried[e.cid]={server:e,attempt:1},this._scheduleRetry(e))},stop(e){const t=this._serversBeingRetried[e.cid];t&&(window.clearTimeout(t.timeout),delete this._serversBeingRetried[e.cid])},stopAll(){S().each(this._serversBeingRetried,((e,t)=>{window.clearTimeout(e.timeout),delete this._serversBeingRetried[t]}))},supportsRetry:e=>!0,_scheduleRetry(e){const t=this._serversBeingRetried[e.cid],n=2*Math.min(this.maximumDelay/2,t.attempt);(0,M.Z)(this.logFormat,e.get("debugName"),n),t.timeout=window.setTimeout((()=>{this.callback(e),t.attempt++,this._scheduleRetry(e)}),1e3*n)}}),yEe=gEe.extend({mixins:[ce.Z],initialize({appModel:e}){gEe.prototype.initialize.apply(this,arguments),this.appModel=e,this.listenTo(this.appModel,"change:primaryServer",this.onPrimaryServerChange)},supportsRetry:e=>!0,onPrimaryServerChange(e,t){t&&!t.get("hasEventConnection")&&(this.stop(t),this.start(t))}}),vEe=oe.Z.extend({mixins:[ce.Z],initialize(e){this.name=e.name||"ServerEventManager",this.appModel=e.appModel,this.servers=e.servers||this.appModel.get("servers"),this.isValidServer=e.isValidServer,this.supportsLongPolling=e.supportsLongPolling,this.allowMultipleConnections=e.allowMultipleConnections,this.allowAppendingHeaders=e.allowAppendingHeaders,this.ServerEventConnection=e.ServerEventConnection,this.connections={},this._serverRetryManager=new e.ServerRetryManager({appModel:this.appModel,callback:this.retryServerConnections.bind(this),logFormat:"[Connections] Retrying server events connection for %s in %s seconds"})},start(){this.allowMultipleConnections?this.listenTo(this.servers,{"change:isResolved":this.onServerResolvedChange,"change:isRejected":this.onServerRejectedChange,remove:this.onServerRemove,reset:this.onServersReset}):this.listenTo(this.appModel,"change:primaryServer",this.onPrimaryServerChange)},stop(){this.stopListening(),this._serverRetryManager.stopAll(),this.disconnectAll(),this.connections={}},tryConnectServer(e){const t=this.connections[e.id];this.isValidServer(e)&&!t&&(se.Z.hasWebSocket||this.supportsLongPolling?this.connect({server:e}).then(null,(()=>{this._serverRetryManager.start(e)})):e.trigger("socket:websocket",{error:!0}))},connect(e){const t=e.server;let n=this.connections[t.id];n||(n=new this.ServerEventConnection({server:t,appendHeaders:this.allowAppendingHeaders}),this.connections[t.id]=n,this.listenTo(n,{open:this.onOpen,close:this.onClose,error:this.onClose}));const r=n.open(),i=n.socket?n.socket.url:n.pollUrl;return(0,M.Z)(`[${this.name}] Opening server event connection to ${t.get("debugName")} at ${i}`),r},disconnectAll(){S().each(this.connections,(e=>{this.disconnect({connection:e})}))},disconnect(e){let t=e.connection;if(t||(t=this.connections[e.server.id]),t){const e=t.socket?t.socket.url:t.pollUrl,n=t.server;(0,M.Z)(`[${this.name}] Closing server event connection to ${n.get("debugName")} at ${e}`),this.stopListening(t),this._serverRetryManager.stop(t.server),t.close(),delete this.connections[t.server.id]}},retryServerConnections:function(e){this.isValidServer(e)&&e.get("isResolved")&&this.connect({server:e})},onPrimaryServerChange(e,t){this.disconnectAll(),t&&this.tryConnectServer(t)},onServerResolvedChange(e,t){t&&this.tryConnectServer(e)},onServerRejectedChange(e,t){t&&this.disconnect({server:e})},onServerRemove(e){const t=this.connections[e.id];if(t&&(this.disconnect({connection:t}),e.get("isMerged")&&t)){const t=this.servers.get(e.id);this.connect({server:t})}},onServersReset(e,t){const n=t.previousModels;S().each(n,(t=>{e.contains(t)||this.disconnect({server:t})}))},onOpen(e){const t=this.connections[e.id],n=t.socket?t.socket.url:t.pollUrl;M.Z.info(`[${this.name}] Opened server event connection to ${e.get("debugName")} at ${n}`),this._serverRetryManager.stop(e)},onClose(e){M.Z.warn(`[${this.name}] Unexpectedly closed server event connection to ${e.get("debugName")}`),this._serverRetryManager.start(e)}});var fEe=n(12274);function bEe(e,t,n){if(!t)return null;const r=new Date(t);if(!(0,fEe.Z)(r))return-1;const i=r.getTime();let a,s=0,o=e.length-1;for(;s<=o;){a=Math.floor((s+o)/2);const t=e[a],r=e[a+1],l=new Date(t.time).getTime();if(!r)return i>l?a:a+1;if(i===l)return n<a?a:a+1;const c=new Date(r.time).getTime();if(i>l&&i<c)return a+1;i>l?s=a+1:i<l&&(o=a-1)}return Math.max(0,a)}var IEe=n(56514);function SEe(e){return(0,IEe.Z)(e,"MMM dd, yyyy HH:mm:ss.SSS",new Date)}var MEe=Object.defineProperty,EEe=Object.prototype.hasOwnProperty,PEe=Object.getOwnPropertySymbols,DEe=Object.prototype.propertyIsEnumerable,CEe=(e,t,n)=>t in e?MEe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,wEe=(e,t)=>{for(var n in t||(t={}))EEe.call(t,n)&&CEe(e,n,t[n]);if(PEe)for(var n of PEe(t))DEe.call(t,n)&&CEe(e,n,t[n]);return e};const ZEe="ui/serverLogPageActions/changeTextFilter",TEe="ui/serverLogPageActions/changeTimeFilter",NEe="ui/serverLogPageActions/clearFilter",OEe="ui/serverLogPageActions/addLogLine",AEe="ui/serverLogPageActions/resetLogLevels",xEe="ui/serverLogPageActions/toggleLogLevel",jEe="ui/serverLogPageActions/clearLog",LEe="ui/serverLogPageActions/loadLogfile",kEe="ui/serverLogPageActions/toggleTimeFilter",REe="ui/serverLogPageActions/toggleRaw",zEe="ui/serverLogPageActions/highlightLine",UEe=(0,bc.Z)(ZEe),VEe=(0,bc.Z)(TEe),BEe=(0,bc.Z)(NEe),FEe=(0,bc.Z)(OEe),_Ee=(0,bc.Z)(AEe),HEe=(0,bc.Z)(xEe),QEe=(0,bc.Z)(jEe),GEe=(0,bc.Z)(LEe),WEe=(0,bc.Z)(kEe),YEe=(0,bc.Z)(REe),KEe=(0,bc.Z)(zEe);function qEe(e,t,n){return t.all||(t.all=[]),e.index=t.all.length,XEe(e,{filter:n.get("filter"),timeFilterStart:n.get("timeFilterStart"),timeFilterEnd:n.get("timeFilterEnd"),logLevels:n.get("logLevels")})?t.filtered&&t.filtered.push(e):t.filtered||(t.filtered=t.all.slice(0)),t.all.push(e),t}function $Ee(e){return e.get("ui").get("serverLogPage")}function JEe(e){return e.split(/\s+/).map((e=>new RegExp((0,k.Z)(e),"i")))}function XEe(e,t){const{filter:n,timeFilterStart:r,timeFilterStartIndex:i,timeFilterEnd:a,timeFilterEndIndex:s,logLevels:o}=t;if(o.length&&-1===o.indexOf(e.level))return!1;if(r||null!=i||a||null!=s){let t,n,o;if(null!=i&&null!=s||(t=SEe(e.time),null==i&&(n=r&&SEe(r)),null==s&&(o=a&&SEe(a))),null!=i&&i>e.index||null!=s&&s<e.index||n&&(0,fB.Z)(n,t)||o&&(0,lU.Z)(o,t))return!1}return!n||(t.regexps||JEe(n)).every((t=>t.test(e.message)||t.test(e.thread)))}function ePe(e){const t=e.get("filter"),n=e.get("timeFilterStart"),r=e.get("timeFilterEnd"),i=e.get("logLevels"),a=e._unfilteredLogLines,s=bEe(a,n,-1/0),o=bEe(a,r,1/0),l=function(e,t){const n=JEe(t.filter);return e.filter((e=>XEe(e,wEe(wEe({},t),{regexps:n}))))}(a,{logLevels:i,filter:t,timeFilterStart:n,timeFilterStartIndex:-1===s?null:s,timeFilterEndIndex:-1===o?null:o,timeFilterEnd:r});e.set({logLines:l,unfilteredLogLinesCount:a.length,isTimeFilterStartValid:-1!==s,isTimeFilterEndValid:-1!==o})}const tPe=/^([^[]+)\[([^\]]+)]\s+([^\s]+)\s+-\s+(.*)/,nPe={ERROR:0,WARN:1,INFO:2,DEBUG:3,VERBOSE:4};function rPe(e){if(!e)return null;const t=e.match(tPe),[,n,r,i,a]=t;return{time:n.trim(),thread:r.trim(),level:nPe[i],message:a.trim()}}const iPe=(0,VT.Z)({[OEe](e,t){const{message:n}=t,r=$Ee(e);r._unfilteredLogLines||(r._unfilteredLogLines=[]);const i=r.get("logLines").length!==r._unfilteredLogLines.length,a=i?r.get("logLines"):null,s=i?a.length:null,o=qEe(n,{all:r._unfilteredLogLines.slice(0),filtered:a},r);o.filtered&&o.filtered.length!==s&&(o.filtered=o.filtered.slice(0)),r._unfilteredLogLines=o.all,r.set({unfilteredLogLinesCount:o.all.length,logLines:o.filtered||o.all})},[ZEe](e,t){const n=$Ee(e),{filter:r}=t;n.set({filter:r}),ePe(n)},[TEe](e,t){const n=$Ee(e),{timeFilterStart:r,timeFilterEnd:i}=t;n.set({showTimeFilter:!(!r&&!i),timeFilterStart:r,timeFilterEnd:i}),ePe(n)},[NEe](e){const t=$Ee(e);t.set({filter:"",timeFilterStart:"",timeFilterEnd:"",logLevels:[]}),ePe(t)},[AEe](e){const t=$Ee(e);t.set({logLevels:[]}),ePe(t)},[xEe](e,t){const n=$Ee(e),r=n.get("logLevels"),i=r.slice(0),a=r.indexOf(t.logLevel);-1===a?i.push(t.logLevel):i.splice(a,1),n.set({logLevels:i}),ePe(n)},[jEe](e){const t=$Ee(e);t.set({logLines:[],unfilteredLogLinesCount:0,highlightedLineIndex:null,showRawText:!1}),t._unfilteredLogLines=[]},[LEe](e,t){const{result:n}=t,r=$Ee(e);let i={all:[]};r.set({logLines:[],unfilteredLogLinesCount:0});try{n.split(/\n+/).map(rPe).forEach((e=>{e&&(i=qEe(e,i,r))})),r._unfilteredLogLines=i.all,r.set({unfilteredLogLinesCount:i.all.length,logLines:i.filtered||i.all})}catch(e){}},[kEe](e){const t=$Ee(e),n=t.get("showTimeFilter");t.set({timeFilterStart:"",timeFilterEnd:"",showTimeFilter:!n}),ePe(t)},[REe](e){const t=$Ee(e);t.set("showRawText",!t.get("showRawText"))},[zEe](e,t){$Ee(e).set("highlightedLineIndex",t.index)}});var aPe=n(49963);const sPe="available",oPe="done",lPe="downloaded",cPe="downloading",dPe="error",uPe="installing",pPe="none",mPe="notify",hPe="account",gPe="activity",yPe="backgroundGeneratorState",vPe="backgroundProcessingQueue",fPe="grabber.device",bPe="log",IPe="playing",SPe="preference",MPe="progress",EPe="provider.change",PPe="provider.content.change",DPe="provider.subscription.change",CPe="reachability",wPe="status",ZPe="syncState",TPe="timeline",NPe="transcodeSession.end",OPe="transcodeSession.start",APe="transcodeSession.update",xPe="update.statechange",jPe="versionState",LPe=oe.Z.extend({mixins:ce.Z,url(){const e=this.server.get("activeConnection");if(!e)return;const t=e.id.replace(/^http/,"ws");return this.server.resolveUrl("/:/websockets/notifications",{connection:new aPe.Z({uri:t}),appendToken:!0,appendHeaders:this.appendHeaders})},initialize(e){S().bindAll(this,"onOpen","onClose","onError","onMessage","getMessageTypes"),this.server=e.server,this.appendHeaders=e.appendHeaders||!1},open(){this.socket&&this.close(),this._deferred=h().Deferred();const e=S().result(this,"url");return e?(this.socket=new window.WebSocket(e),this.socket.onopen=this.onOpen,this.socket.onclose=this.onClose,this.socket.onerror=this.onError,this.socket.onmessage=this.onMessage,this._deferred.promise()):this._deferred.reject().promise()},close(){this.socket&&(this.socket.onopen=null,this.socket.onclose=null,this.socket.onerror=null,this.socket.onmessage=null,this.socket.close(),this.socket=null,this._deferred&&"pending"===this._deferred.state()&&this._deferred.reject())},testConnection(){if(!this.server.get("connected"))return;const e=this.server.get("desktop").get("update");e&&e.get("state")===uPe&&this.server.set("connected",null),this.server.trigger("error:connection",this.server)},onOpen(e){const t=b.DB("appStore"),n=this.server.entityID();n&&t.dispatch((0,wC.f4)({serverEntityID:n,event:e})),this.server.trigger("socket:websocket",{opened:!0}),this.trigger("open",this.server,e),this._deferred.resolve(this.server,e)},onClose(e){this.close();const t=b.DB("appStore"),n=this.server.entityID();n&&t.dispatch((0,wC.LW)({serverEntityID:n,event:e})),this.server.trigger("socket:websocket",{closed:!0}),this.trigger("close",this.server,e),this._deferred.reject(this.server,e),this.testConnection()},onError(e){this.close(),this.server.trigger("socket:websocket",{error:!0}),this.trigger("error",this.server,e),this._deferred.reject(this.server,e),this.testConnection()},onMessage(e){let t;try{t=JSON.parse(e.data)}catch(t){return void M.Z.warn("[Connections] Error formatting message:\n%s",e.data)}const n=!!t._elementType,r=n?S().first(t._children):t.NotificationContainer;if(r){const e=this[n?t.type:r.type];let i;i=n?Array.isArray(r)?r:[r]:function(e,t){return(-1===t.indexOf(e.type)?[]:function(e){switch(e.type){case SPe:return e.Setting;case TPe:return e.TimelineEntry;case wPe:return e.StatusNotification;case MPe:return e.ProgressNotification;case IPe:return e.PlaySessionStateNotification;case ZPe:return e.SyncStateNotification;case yPe:return e.BackgroundGeneratorStateNotification;case jPe:return e.VersionStateNotification;case vPe:return e.BackgroundProcessingQueueEventNotification;case OPe:case APe:case NPe:return e.TranscodeSession;case xPe:return e.AutoUpdateNotification;case CPe:return e.ReachabilityNotification;case hPe:return e.AccountUpdateNotification;case gPe:return e.ActivityNotification;case fPe:return e.MediaGrabberDeviceNotification;case EPe:return e.MediaProviderNotification;case PPe:return e.MediaProviderContentNotification;case bPe:return e.LogSentNotification;case DPe:return e.MediaProviderSubscriptionNotification;case"clientDecision":return e.ClientDecisionRequestEventNotification}}(e))||[]}(r,this.getMessageTypes()),i.forEach((t=>{try{this.trigger("message",t)}catch(e){M.Z.error("[Connections] Error when triggering",t,e),j.Tb(e,{extra:{message:t}})}if(S().isFunction(e))try{e.call(this,t)}catch(e){M.Z.error("[Connections] Error when handling",t,e),j.Tb(e,{extra:{message:t}})}}))}}}),kPe=[bPe],RPe=LPe.extend({name:"MediaServerLogEventConnection",url(){const e=this.server.get("activeConnection").id.replace(/^http/,"ws");return this.server.resolveUrl("/:/websockets/notifications",{params:{filters:"log"},connection:new aPe.Z({uri:e}),appendToken:!0})},getMessageTypes:()=>kPe,[bPe](e){(0,b.DB)("appStore").dispatch(FEe({message:e,serverEntityID:this.server.entityID()}))}});var zPe=Object.defineProperty,UPe=Object.prototype.hasOwnProperty,VPe=Object.getOwnPropertySymbols,BPe=Object.prototype.propertyIsEnumerable,FPe=(e,t,n)=>t in e?zPe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const _Pe=function(e){var t=e,{children:n}=t,r=((e,t)=>{var n={};for(var r in e)UPe.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&VPe)for(var r of VPe(e))t.indexOf(r)<0&&BPe.call(e,r)&&(n[r]=e[r]);return n})(t,["children"]);return g.createElement("div",((e,t)=>{for(var n in t||(t={}))UPe.call(t,n)&&FPe(e,n,t[n]);if(VPe)for(var n of VPe(t))BPe.call(t,n)&&FPe(e,n,t[n]);return e})({className:"PageHeader-pageHeader-1oYTX2"},r),n)},HPe=[4,3,2,1,0],QPe=function(e){switch(e){case 0:return(0,Ce.Z)("Error");case 1:return(0,Ce.Z)("Warning");case 2:return(0,Ce.Z)("Info");case 3:return(0,Ce.Z)("Debug");case 4:return(0,Ce.Z)("Verbose");default:return(0,Ce.Z)("Unknown")}};class GPe extends g.Component{constructor(e,t){super(e,t),this.onMenuPress=()=>{this.setState((e=>({isMenuOpen:!e.isMenuOpen})))},this.onMenuClose=()=>{this.setState({isMenuOpen:!1})},this.onAllPress=()=>{this.props.onResetLogLevels()},this.onLogLevelSelect=e=>{this.props.onToggleLogLevel(e)},this._buttonID=(0,GE.Z)(),this.state={isMenuOpen:!1}}render(){const{logLevels:e}=this.props,{isMenuOpen:t}=this.state;let n;return n=e.length?1===e.length?QPe(e[0]):(0,Ce.Z)("Custom"):(0,Ce.Z)("All"),g.createElement(g.Fragment,null,g.createElement(oz.Z,{id:this._buttonID,hasMenu:!0,isMenuOpen:t,onPress:this.onMenuPress},n),g.createElement(Xl.Z,{target:this._buttonID,isOpen:t,size:Rp.ln,onMenuClose:this.onMenuClose},g.createElement(Up.Z,{key:"all",isSelected:!e.length,onPress:this.onAllPress},(0,Ce.Z)("All")),g.createElement(tc.Z,null),HPe.map(((t,n)=>g.createElement(Up.Z,{key:n,value:t,isSelected:-1!==e.indexOf(t),onSelect:this.onLogLevelSelect},QPe(t))))))}}const WPe=GPe,YPe=(0,fe.P1)((e=>e.ui.serverLogPage.logLevels),(e=>({logLevels:e}))),KPe=(0,v.$j)(YPe,(function(e,t){const{serverEntityID:n}=t;return{onResetLogLevels(){e(_Ee({serverEntityID:n}))},onToggleLogLevel(t){e(HEe({serverEntityID:n,logLevel:t}))}}}))(WPe);function qPe(e){var t=e["aria-label"],n=e.className,r=e.style,i={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-circle-backslash-560"};i["aria-hidden"]=!t,i.style=r,i.className=oa.Z.plexIcon+(n?" "+n:"");var a=[g.createElement.apply(g,["g",void 0].concat([g.createElement.apply(g,["path",{d:"M280 518C148.56 518 42 411.44 42 280S148.56 42 280 42s238 106.56 238 238-106.56 238-238 238m0-42c108.25 0 196-87.75 196-196S388.25 84 280 84 84 171.75 84 280s87.75 196 196 196"}].concat([])),g.createElement.apply(g,["path",{d:"M157.246 125.568l277.186 277.186-31.678 31.678-277.186-277.186"}].concat([]))]))];return t&&a.unshift(g.createElement("title",null,t)),g.createElement.apply(g,["svg",i].concat(a))}qPe.propTypes={"aria-label":sa().string,className:sa().string,style:sa().object};const $Pe=qPe;function JPe(e){var t=e["aria-label"],n=e.className,r=e.style,i={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-timer-560"};i["aria-hidden"]=!t,i.style=r,i.className=oa.Z.plexIcon+(n?" "+n:"");var a=[g.createElement.apply(g,["path",{d:"M364 84h-56v29.99c1.22.173 2.437.36 3.653.558 8.207 1.334 16.33 3.195 24.298 5.567 8.232 2.452 16.3 5.45 24.137 8.966 9.732 4.368 19.104 9.535 27.995 15.428 9.163 6.073 17.813 12.915 25.836 20.428 8.158 7.64 15.666 15.974 22.414 24.884 6.66 8.792 12.578 18.144 17.668 27.928 4.312 8.29 8.03 16.89 11.11 25.713 3.058 8.765 5.487 17.747 7.264 26.856C474.794 282.723 476 295.36 476 308c0 8.956-.604 17.91-1.818 26.785-1.35 9.864-3.456 19.624-6.297 29.166-2.904 9.754-6.576 19.277-10.968 28.457-5.02 10.496-10.983 20.54-17.784 29.982-6.88 9.547-14.615 18.477-23.084 26.648-8.758 8.45-18.297 16.087-28.46 22.78-10.073 6.632-20.757 12.334-31.878 17-12.24 5.137-25.002 9.015-38.028 11.556-12.2 2.38-24.622 3.586-37.05 3.625-12.443.038-24.89-1.09-37.117-3.395-13.052-2.462-25.848-6.263-38.126-11.327-11.153-4.6-21.876-10.24-31.992-16.815-10.205-6.63-19.79-14.213-28.598-22.61-8.517-8.12-16.305-17.003-23.24-26.51-6.857-9.397-12.877-19.403-17.96-29.865-4.446-9.148-8.174-18.643-11.137-28.372-2.897-9.516-5.062-19.254-6.474-29.1C84.66 326.732 84 317.365 84 308c0-12.028 1.09-24.054 3.283-35.88 1.657-8.94 3.94-17.765 6.83-26.385 2.974-8.87 6.59-17.524 10.804-25.874 5.062-10.025 10.99-19.613 17.69-28.627 6.67-8.97 14.103-17.37 22.193-25.085 8.096-7.72 16.85-14.75 26.136-20.985 9.017-6.055 18.538-11.36 28.434-15.838 7.823-3.54 15.88-6.56 24.102-9.036 7.958-2.398 16.07-4.283 24.27-5.643 1.416-.235 2.836-.455 4.258-.658V84h-56V56h168v28m-83.5 70h-1c-2.815.014-5.627.094-8.436.254-5.51.315-11.005.924-16.45 1.827-12.92 2.144-25.556 5.957-37.505 11.32-7.786 3.493-15.277 7.64-22.376 12.374-6.938 4.628-13.5 9.82-19.604 15.502-6.326 5.89-12.16 12.307-17.42 19.166-5.18 6.754-9.802 13.936-13.8 21.452-3.513 6.607-6.542 13.47-9.052 20.52-2.385 6.7-4.3 13.568-5.727 20.535-2.09 10.21-3.13 20.63-3.13 31.05 0 7.212.496 14.425 1.497 21.568 1.06 7.573 2.69 15.067 4.872 22.397 2.276 7.648 5.156 15.117 8.6 22.316 4.013 8.388 8.79 16.407 14.247 23.935 5.436 7.5 11.547 14.508 18.23 20.92 7.247 6.95 15.167 13.195 23.617 18.615 7.583 4.864 15.592 9.06 23.91 12.522 9.61 4 19.63 7.01 29.854 8.97C260.436 461.085 270.218 462 280 462s19.564-.915 29.172-2.758c10.223-1.96 20.243-4.97 29.855-8.97 8.888-3.7 17.424-8.238 25.464-13.533 7.87-5.182 15.263-11.084 22.062-17.606 6.573-6.304 12.59-13.187 17.96-20.545 5.57-7.636 10.44-15.783 14.518-24.31 3.444-7.198 6.324-14.666 8.6-22.315 2.183-7.33 3.812-14.823 4.873-22.397 1-7.143 1.497-14.356 1.497-21.568 0-10.42-1.04-20.84-3.13-31.052-1.46-7.12-3.428-14.136-5.886-20.976-2.48-6.895-5.455-13.61-8.895-20.08-4.143-7.787-8.957-15.217-14.367-22.184-5.016-6.46-10.544-12.525-16.515-18.116-6.425-6.018-13.363-11.49-20.716-16.33-6.868-4.523-14.098-8.496-21.6-11.863-11.95-5.363-24.585-9.176-37.506-11.32-5.445-.902-10.94-1.51-16.45-1.826-2.81-.16-5.62-.24-8.435-.253M252 336V185.167c8.998-2.085 18.374-3.167 28-3.167 34.77 0 66.27 14.115 89.078 36.922L252 336"}].concat([]))];return t&&a.unshift(g.createElement("title",null,t)),g.createElement.apply(g,["svg",i].concat(a))}JPe.propTypes={"aria-label":sa().string,className:sa().string,style:sa().object};const XPe=JPe;class eDe extends g.Component{constructor(e,t){super(e,t),this.onTextFilterChange=e=>{this._clearOnTextFilterChangeTimeout(),this.setState({filter:e},(()=>{this._timeoutID=window.setTimeout((()=>{this._timeoutID=null,this.props.onTextFilterChange(this.state.filter)}),200)}))},this.state={filter:e.filter,filterFromStore:e.filter}}static getDerivedStateFromProps(e,t){return e.filter!==t.filterFromStore?{filter:e.filter,filterFromStore:e.filter}:null}componentWillUnmount(){this._clearOnTextFilterChangeTimeout()}_clearOnTextFilterChangeTimeout(){this._timeoutID&&window.clearTimeout(this._timeoutID)}render(){const{filter:e}=this.state;return g.createElement(ree.Z,{className:"ServerLogFilterInput-input-7qdpRT TextInput-input-16EbOL input-input-3msd1_",size:Rp.ln,name:"filter",initialValue:e,value:e,placeholder:(0,Ce.Z)("Filter logs"),onChange:this.onTextFilterChange})}}const tDe=eDe,nDe="ServerLogTimeFilterInputs-input-1Ijzgd TextInput-input-16EbOL input-input-3msd1_";class rDe extends g.Component{constructor(e,t){super(e,t),this._flushValues=()=>{this._timeoutID=window.setTimeout((()=>{this._timeoutID=null,this.props.onTimeFilterChange(this.state.timeFilterStart,this.state.timeFilterEnd)}),200)},this.onFilterStartChange=e=>{this._clearOnTextFilterChangeTimeout(),this.setState({timeFilterStart:e},this._flushValues)},this.onFilterEndChange=e=>{this._clearOnTextFilterChangeTimeout(),this.setState({timeFilterEnd:e},this._flushValues)},this.state={timeFilterStart:e.timeFilterStart,timeFilterStartFromStore:e.timeFilterStart,timeFilterEnd:e.timeFilterEnd,timeFilterEndFromStore:e.timeFilterEnd}}static getDerivedStateFromProps(e,t){return e.timeFilterStart!==t.timeFilterStartFromStore||e.timeFilterEnd!==t.timeFilterEndFromStore?{timeFilterStart:e.timeFilterStart,timeFilterStartFromStore:e.timeFilterStart,timeFilterEnd:e.timeFilterEnd,timeFilterEndFromStore:e.timeFilterEnd}:null}componentWillUnmount(){this._clearOnTextFilterChangeTimeout()}_clearOnTextFilterChangeTimeout(){this._timeoutID&&window.clearTimeout(this._timeoutID)}render(){const{isTimeFilterStartValid:e,isTimeFilterEndValid:t}=this.props,{timeFilterStart:n,timeFilterEnd:r}=this.state;return g.createElement("div",{className:"ServerLogTimeFilterInputs-container-3K-TEg"},g.createElement(ree.Z,{className:nDe,size:Rp.ln,name:"timeFilterStart",hasError:!e,initialValue:n,value:n,placeholder:"Jun 15, 2018 09:00:00",onChange:this.onFilterStartChange}),g.createElement("span",{className:"ServerLogTimeFilterInputs-separator-1FFNSx"},(0,Ce.Z)("to")),g.createElement(ree.Z,{className:nDe,size:Rp.ln,name:"timeFilterEnd",hasError:!t,initialValue:r,value:r,placeholder:"Jun 15, 2018 09:01:00",onChange:this.onFilterEndChange}))}}const iDe=rDe;class aDe extends g.Component{render(){const{filter:e,timeFilterStart:t,timeFilterEnd:n,isTimeFilterStartValid:r,isTimeFilterEndValid:i,showTimeFilter:a,showRawText:s,title:o,unfilteredLogLinesCount:l,logLines:c,onTextFilterChange:d,onTimeFilterChange:u,onToggleTimeFilter:p,onToggleRaw:m,onClearLog:h}=this.props,y=l-c.length;return g.createElement(g.Fragment,null,g.createElement(_Pe,null,g.createElement(sY.Z,null,o,g.createElement(rs.Z,null),(0,Ce.Z)("Plex Media Server Logs"),y>0?g.createElement("span",{className:"ServerLogPageHeader-controlsHiddenLinesCount-3gasWc"},g.createElement(rs.Z,null),(0,Ce.Z)("{hiddenLinesCount} items hidden by filters",{hiddenLinesCount:y})):null),g.createElement(fG,null,g.createElement(KPe,null),g.createElement(tDe,{filter:e,onTextFilterChange:d}),g.createElement(SZ.Z,{tooltip:(0,Ce.Z)("Time Filter"),isSelected:a,onPress:p},g.createElement(XPe,null)),g.createElement(pw.Z,{className:"ServerLogPageHeader-rawButton-1ZZ-8W",isSelected:s,onPress:m},(0,Ce.Z)("Raw")),g.createElement(SZ.Z,{tooltip:(0,Ce.Z)("Clear Logs"),onPress:h},g.createElement($Pe,null)))),a?g.createElement(iDe,{timeFilterStart:t,timeFilterEnd:n,isTimeFilterStartValid:r,isTimeFilterEndValid:i,onTimeFilterChange:u}):null)}}const sDe=aDe,oDe=(0,fe.P1)((e=>e.ui.serverLogPage),(e=>({filter:e.filter,timeFilterStart:e.timeFilterStart,timeFilterEnd:e.timeFilterEnd,isTimeFilterStartValid:e.isTimeFilterStartValid,isTimeFilterEndValid:e.isTimeFilterEndValid,showTimeFilter:e.showTimeFilter,showRawText:e.showRawText,logLines:e.logLines,unfilteredLogLinesCount:e.unfilteredLogLinesCount}))),lDe=(0,v.$j)(oDe,(function(e,t){const{serverEntityID:n}=t;return{onTextFilterChange(t){(0,fn.c9)((()=>{e(UEe({serverEntityID:n,filter:t}))}))},onTimeFilterChange(t,r){(0,fn.c9)((()=>{e(VEe({serverEntityID:n,timeFilterStart:t,timeFilterEnd:r}))}))},onToggleTimeFilter(){e(WEe({serverEntityID:n}))},onToggleRaw(){e(YEe())},onClearLog(){e(QEe({serverEntityID:n}))}}}))(sDe),cDe=(0,v.$j)((function(){return(0,fe.P1)((e=>e.ui.serverLogPage.highlightedLineIndex),((e,{index:t})=>t),((e,t)=>({isHighlighted:e===t})))}))((function(e){const{index:t,level:n,message:r,thread:i,time:a,isHighlighted:s,onLogLinePress:o}=e,l=(0,Ax.Z)(e),c=(0,g.useCallback)((e=>{o({index:t,time:a,thread:i,level:n,message:r})}),[t,a,i,n,r,o]),d=function(e){return["ServerLogLine-levelError-2iVvKd ServerLogLine-line-1H-I_Q","ServerLogLine-levelWarning-3vfApy ServerLogLine-line-1H-I_Q","ServerLogLine-levelInfo-2aOnc8 ServerLogLine-line-1H-I_Q","ServerLogLine-levelDebug-2s-U-U ServerLogLine-line-1H-I_Q","ServerLogLine-levelVerbose-2frbHd ServerLogLine-line-1H-I_Q"][e]||"ServerLogLine-levelUnknown-3RJUF6 ServerLogLine-line-1H-I_Q"}(n);return g.createElement("div",{style:l.style},g.createElement(pw.Z,{className:Te()(d,s&&"ServerLogLine-isHighlighted-33ejr5"),tabIndex:t,onPress:c},g.createElement("span",{className:"ServerLogLine-fieldTime-1iiB-G ServerLogLine-field-3V2sVv"},a),g.createElement("span",{className:"ServerLogLine-fieldThread-39qtzu ServerLogLine-field-3V2sVv"},"[",i,"]"),g.createElement("span",{className:"ServerLogLine-fieldMessage-3GtrgN ServerLogLine-field-3V2sVv"},r)))})),dDe=function(e,t){const n=e.replace(new RegExp(`\\s?${(0,k.Z)(t)}`),"").trim();return n.length?`${t} ${n}`:t},uDe="ServerLogLineModal-label-3_Yevx";function pDe(e){return["ServerLogLineModal-containerError-3BiKRv ServerLogLineModal-container-35Nqd4","ServerLogLineModal-containerWarning-2efSLd ServerLogLineModal-container-35Nqd4","ServerLogLineModal-containerInfo-F13nUW ServerLogLineModal-container-35Nqd4","ServerLogLineModal-containerDebug-3MBEvt ServerLogLineModal-container-35Nqd4","ServerLogLineModal-containerVerbose-TSJMa8 ServerLogLineModal-container-35Nqd4"][e]||"ServerLogLineModal-containerUnknown-1jmE6B ServerLogLineModal-container-35Nqd4"}function mDe(e){return["ServerLogLineModal-levelError-3vSmLn","ServerLogLineModal-levelWarning-2ARElE","ServerLogLineModal-levelInfo-2zXr03"][e]}class hDe extends g.Component{constructor(e,t){super(e,t),this.onClosePress=e=>{this.props.onClose()},this.onShowContextPress=e=>{this.props.onJumpToContext(Math.max(this.props.index-10,0))},this.onFilterFromPress=()=>{this.props.onTimeFilterChange({timeFilterStart:this.props.time,timeFilterEnd:this.props.timeFilterEnd})},this.onFilterToPress=()=>{this.props.onTimeFilterChange({timeFilterStart:this.props.timeFilterStart,timeFilterEnd:this.props.time})},this.onThreadPress=()=>{this.props.onTextFilterChange({filter:dDe(this.props.filter,this.props.thread)})},this.onTimeMenuPress=()=>{this.setState({isTimeMenuOpen:!this.state.isTimeMenuOpen})},this.onTimeMenuClose=()=>{this.setState({isTimeMenuOpen:!1})},this.onKeyDown=e=>{e.keyCode===Vd.hY&&(e.preventDefault(),e.stopPropagation(),this.props.onClose())},this._timeMenuButtonID=(0,GE.Z)(),this.state={isTimeMenuOpen:!1}}componentDidMount(){document.addEventListener("keydown",this.onKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.onKeyDown)}render(){const{level:e,time:t,thread:n,message:r}=this.props,{isTimeMenuOpen:i}=this.state;return g.createElement(rU.Z,{className:pDe(e),autoScroll:!0},g.createElement(pw.Z,{className:"ServerLogLineModal-closeButton-2YgDuE Link-link-CM9nxg","aria-label":(0,Ce.Z)("Close"),onPress:this.onClosePress},g.createElement(cu.Z,null)),g.createElement("p",null,g.createElement("span",{className:uDe},(0,Ce.Z)("Time")),g.createElement(pw.Z,{kind:ic._8,id:this._timeMenuButtonID,onPress:this.onTimeMenuPress},t,g.createElement(Lp.Z,{kind:ic._8,direction:i?kp.UP:kp.WV})),g.createElement(Xl.Z,{size:Rp.ln,isOpen:i,target:this._timeMenuButtonID,onMenuClose:this.onTimeMenuClose},g.createElement(ec.Z,{onPress:this.onFilterFromPress},(0,Ce.Z)("Filter from this time")),g.createElement(ec.Z,{onPress:this.onFilterToPress},(0,Ce.Z)("Filter to this time")))),g.createElement("p",null,g.createElement("span",{className:uDe},(0,Ce.Z)("Level")),g.createElement("span",{className:mDe(e)},QPe(e))),g.createElement("p",null,g.createElement("span",{className:uDe},(0,Ce.Z)("Thread")),g.createElement(pw.Z,{kind:ic._8,onPress:this.onThreadPress},n)),g.createElement("p",null,g.createElement("span",{className:uDe},(0,Ce.Z)("Message")),r),g.createElement("div",{className:"ServerLogLineModal-action-2OqArR"},g.createElement(cb.Z,{onPress:this.onShowContextPress},(0,Ce.Z)("Clear Filters and Jump to Context"))))}}const gDe=hDe;class yDe extends g.Component{shouldComponentUpdate(e){return e.filter!==this.props.filter||e.logLevels!==this.props.logLevels}render(){const{className:e,lines:t}=this.props;return g.createElement(rU.Z,{className:e},g.createElement("pre",null,t.reduce(((e,t)=>e+`${t.time} [${t.thread}] ${QPe(t.level)}  ${t.message}\n`),"")))}}const vDe=yDe;var fDe=Object.defineProperty,bDe=Object.prototype.hasOwnProperty,IDe=Object.getOwnPropertySymbols,SDe=Object.prototype.propertyIsEnumerable,MDe=(e,t,n)=>t in e?fDe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,EDe=(e,t)=>{for(var n in t||(t={}))bDe.call(t,n)&&MDe(e,n,t[n]);if(IDe)for(var n of IDe(t))SDe.call(t,n)&&MDe(e,n,t[n]);return e};const PDe=(0,U2.Z)(26,10,{outerPaddingTop:10,outerPaddingBottom:10});function DDe(e){return!!(e.filter||e.timeFilterStart||e.timeFilterEnd||e.logLevels.length)}class CDe extends g.Component{constructor(e,t){super(e,t),this.onScroll=()=>{const e=this._scrollerRef.current;e.scrollTop+e.clientHeight>=e.scrollHeight?this.setState({isSticky:!0,scrollIndex:null}):e.scrollTop<this._lastScrollTop&&this.setState({isSticky:!1}),this._lastScrollTop=e.scrollTop},this.onJumpToContext=e=>{DDe(this.props)?this.setState({isSticky:!1,scrollIndexAfterFilterChange:e,selectedLogLine:null},(()=>{this.props.onClearFilter()})):this.setState({isSticky:!1,scrollIndex:e,selectedLogLine:null})},this.onTextFilterChange=(...e)=>{this.setState({scrollIndex:0,selectedLogLine:null}),this.props.onTextFilterChange(...e)},this.onTimeFilterChange=(...e)=>{this.setState({scrollIndex:0,selectedLogLine:null}),this.props.onTimeFilterChange(...e)},this.onLogLinePress=e=>{this.setState({selectedLogLine:e}),this.props.onHighlightLine(e)},this.onModalClose=e=>{this.setState({selectedLogLine:null})},this.onJumpToLatestPress=()=>{this.setState({isSticky:!0})},this.renderLogLine=e=>g.createElement(cDe,EDe(EDe({},e),{onLogLinePress:this.onLogLinePress})),this.state={isSticky:!0,scrollIndex:0,scrollIndexAfterFilterChange:null,selectedLogLine:null},this._scrollerRef=g.createRef()}static getDerivedStateFromProps(e,t){return null==t.scrollIndexAfterFilterChange||DDe(e)?e.showRawText&&(!t.isSticky||t.scrollIndex||t.selectedLogLine)?{isSticky:!0,scrollIndex:0,scrollIndexAfterFilterChange:null,selectedLogLine:null}:null:{isSticky:!1,scrollIndex:t.scrollIndexAfterFilterChange,scrollIndexAfterFilterChange:null}}render(){const{filter:e,timeFilterStart:t,timeFilterEnd:n,logLevels:r,showRawText:i,logLines:a}=this.props,{isSticky:s,scrollIndex:o,selectedLogLine:l}=this.state,c=!!l,d=c||i;return g.createElement(g.Fragment,null,i?g.createElement(vDe,{className:"ServerLog-rawTextScroller-fA-hku",filter:e,logLevels:r,lines:a}):null,g.createElement(Ix.Z,{className:d?"ServerLog-hiddenPageContent-2eip8V":"ServerLog-pageContent-1I_bS6 PageContent-pageContent-aqfjwt",scrollerClassName:"ServerLog-pageContentScroller-3OHHNO",smoothScroll:!1,keyPropName:"index",items:a,size:a.length,layout:PDe,cellRenderer:this.renderLogLine,scrollIndex:s?a.length-1:o,ref:this._scrollerRef,onScroll:this.onScroll}),g.createElement(pw.Z,{className:s?"ServerLog-jumpLinkHidden-29QP_Y ServerLog-jumpLinkVisible-1r4HC0 Link-link-CM9nxg":"ServerLog-jumpLinkVisible-1r4HC0 Link-link-CM9nxg",onPress:this.onJumpToLatestPress},(0,Ce.Z)("Jump to latest")),c?g.createElement(gDe,EDe(EDe({},l),{filter:e,timeFilterStart:t,timeFilterEnd:n,onJumpToContext:this.onJumpToContext,onTextFilterChange:this.onTextFilterChange,onTimeFilterChange:this.onTimeFilterChange,onClose:this.onModalClose})):null)}}const wDe=CDe,ZDe=(0,fe.P1)((e=>e.ui.serverLogPage),(e=>({filter:e.filter,timeFilterStart:e.timeFilterStart,timeFilterEnd:e.timeFilterEnd,logLevels:e.logLevels,showRawText:e.showRawText,logLines:e.logLines}))),TDe=(0,v.$j)(ZDe,(function(e,t){const{serverEntityID:n}=t;return{onTextFilterChange(...t){e(UEe(...t))},onTimeFilterChange(...t){e(VEe(...t))},onHighlightLine(t){e(KEe(t))},onClearFilter(){e(BEe({serverEntityID:n}))}}}))(wDe);function NDe(e){const t=e.dataTransfer.items,n=t[0];return""!==n.type||"file"!==n.kind?2:t.length>1?1:void 0}class ODe extends g.Component{constructor(e,t){super(e,t),this.onDragOver=e=>{this.setState({isDraggingFile:!0,fileDragError:NDe(e)}),e.preventDefault()},this.onDragLeave=()=>{this.setState({isDraggingFile:!1,fileDragError:null})},this.onDrop=e=>{if(e.preventDefault(),NDe(e))return void this.setState({isDraggingFile:!1,fileDragError:null});this.setState({isDroppingFile:!0});const t=e.dataTransfer.files[0],n=new window.FileReader;n.onload=()=>{this.setState({title:t.name,isDraggingFile:!1,isDroppingFile:!1}),this.props.onDrop({result:n.result})},n.readAsText(t)},this.state={title:e.title,isDraggingFile:!1,isDroppingFile:!1,fileDragError:null}}render(){const{metricsPage:e,metricsPane:t}=this.props,{title:n,isDraggingFile:r,isDroppingFile:i,fileDragError:a}=this.state,s=r&&!i&&(1===a&&(0,Ce.Z)("Only one file at a time")||2===a&&(0,Ce.Z)("Only log files are allowed")||(0,Ce.Z)("Load log file"));return g.createElement(fx.Z,{metricsPage:e,metricsProperties:{pane:t},scrollDirection:tZ.Hn,onDragOver:this.onDragOver,onDragLeave:this.onDragLeave,onDrop:this.onDrop},g.createElement(lDe,{title:n}),g.createElement(TDe,null),r?g.createElement("div",{className:"ServerLogPage-dropFileOverlay-3TyD78"},a?g.createElement($Pe,{className:"ServerLogPage-icon-16ZILI"}):null,s,i?g.createElement(Mx.Z,null):null):null)}}const ADe=ODe;var xDe=Object.defineProperty,jDe=Object.prototype.hasOwnProperty,LDe=Object.getOwnPropertySymbols,kDe=Object.prototype.propertyIsEnumerable,RDe=(e,t,n)=>t in e?xDe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const zDe={dispatchClearLog:QEe,dispatchLoadLogFile:GEe};class UDe extends g.Component{constructor(e,t){super(e,t),this.onDrop=(...e)=>{this._stopServerEventManager(),this.props.dispatchLoadLogFile(...e)};const n=(0,b.DB)("appModel");this._serverEventManager=new vEe({name:"MediaServerLogEventManager",appModel:n,isValidServer:t=>t.entityID()===e.serverEntityID,supportsLongPolling:!1,ServerEventConnection:RPe,ServerRetryManager:yEe})}componentDidMount(){this.props.dispatchClearLog(),this._serverEventManager.start(),(0,b.DB)("appModel").get("servers").forEach((e=>{const t=e.get("isResolved");t&&this._serverEventManager.onServerResolvedChange(e,t)}))}componentWillUnmount(){this._stopServerEventManager()}_stopServerEventManager(){this._isServerEventManagerStopped||(this._serverEventManager.stop(),this.props.dispatchClearLog(),this._isServerEventManagerStopped=!0)}render(){return g.createElement(ADe,((e,t)=>{for(var n in t||(t={}))jDe.call(t,n)&&RDe(e,n,t[n]);if(LDe)for(var n of LDe(t))kDe.call(t,n)&&RDe(e,n,t[n]);return e})({onDrop:this.onDrop},this.props))}}const VDe=(0,v.$j)((function(){return(0,fe.P1)((0,LT.Z)(),(e=>({title:e.friendlyName})))}),zDe)(UDe);function BDe(e){return(0,fe.P1)((0,LT.Z)(),(t=>{if(!t||!t.activeConnection)return null;const n=t.activeConnection.uri,r=t.accessToken?{"X-Plex-Token":t.accessToken}:{};return E.Z.join([n,e],r)}))}var FDe=n(69679);const _De={troubleshootingSection:"ServerTroubleshootingPane-troubleshootingSection-Da7m_o",buttonContainer:"ServerTroubleshootingPane-buttonContainer-3DL-WG",buttonStatus:"ServerTroubleshootingPane-buttonStatus--w8Haz",buttonStatusSuccess:"ServerTroubleshootingPane-buttonStatusSuccess-FmbXsO ServerTroubleshootingPane-buttonStatus--w8Haz",buttonStatusError:"ServerTroubleshootingPane-buttonStatusError-3wrnvJ ServerTroubleshootingPane-buttonStatus--w8Haz",button:"ServerTroubleshootingPane-button-17GQfr",description:"ServerTroubleshootingPane-description-MFwWLo"};class HDe extends g.Component{static getDerivedStateFromProps(e,t){const n=e.isCleanBundlesInProgress!==t.isCleanBundlesInProgress,r=e.isOptimizeDatabaseInProgress!==t.isOptimizeDatabaseInProgress;if(!n&&!r)return null;const i={};return n&&(i.isCleanBundlesInProgress=e.isCleanBundlesInProgress,i.isCleanBundlesComplete=t.isCleanBundlesInProgress&&!e.isCleanBundlesInProgress),r&&(i.isOptimizeDatabaseInProgress=e.isOptimizeDatabaseInProgress,i.isOptimizeDatabaseComplete=t.isOptimizeDatabaseInProgress&&!e.isOptimizeDatabaseInProgress),i}constructor(e,t){super(e,t),this.state={isCleanBundlesInProgress:!1,isOptimizeDatabaseInProgress:!1,isCleanBundlesComplete:!1,isOptimizeDatabaseComplete:!1}}render(){const{machineIdentifier:e,downloadDatabasesUrl:t,downloadLogsUrl:n,cleanBundlesError:r,optimizeDatabaseError:i,isCleanBundlesInProgress:a,isOptimizeDatabaseInProgress:s,showDownloadDatabases:o,showDownloadLogs:l,onCleanBundlesPress:c,onOptimizeDatabasePress:d}=this.props,{isCleanBundlesComplete:u,isOptimizeDatabaseComplete:p}=this.state;return g.createElement("div",null,g.createElement("div",{className:_De.troubleshootingSection},g.createElement("div",{className:_De.buttonContainer},g.createElement(FDe.Z,{className:_De.button,isSpinning:s,onPress:d},(0,Ce.Z)("Optimize Database")),p&&!i?g.createElement("div",{className:_De.buttonStatusSuccess},g.createElement(Ko.Z,null),g.createElement("div",{className:_De.textStatus},(0,Ce.Z)("Optimize database complete"))):null,p&&i?g.createElement("div",{className:_De.buttonStatusError},g.createElement(cu.Z,null),g.createElement("div",{className:_De.textStatus},i)):null),g.createElement("div",{className:_De.description},(0,Ce.Z)("Cleans up the library database and ensures it is operating as quickly as possible. This is especially useful when you've added or removed a large amount of media from the library."))),g.createElement("div",{className:_De.troubleshootingSection},g.createElement("div",{className:_De.buttonContainer},g.createElement(FDe.Z,{className:_De.button,isSpinning:a,onPress:c},(0,Ce.Z)("Clean Bundles")),u&&!r?g.createElement("div",{className:_De.buttonStatusSuccess},g.createElement(Ko.Z,null),g.createElement("div",null,(0,Ce.Z)("Bundles cleaned"))):null,u&&r?g.createElement("div",{className:_De.buttonStatusError},g.createElement(cu.Z,null),g.createElement("div",null,r)):null),g.createElement("div",{className:_De.description},g.createElement(KV.Z,{className:_De.description,message:(0,Ce.Z)('Poster images and other metadata for items in your library are kept in "bundle" packages. When you remove items from your library, these bundles arent immediately removed. Removing them can reduce the size of your install. By default, your server will automatically clean up old bundles once a week as part of {openScheduledTass}Scheduled Tasks{closeScheduledTass}.'),tags:[{open:"openScheduledTass",close:"closeScheduledTass",component:pw.Z,kind:ic._8,to:(0,Nv.Z)(e,"settings","butler")}]}))),l||o?g.createElement("div",{className:_De.troubleshootingSection},g.createElement("div",{className:_De.buttonContainer},l?g.createElement(cb.Z,{className:_De.button,to:n,target:"_self"},(0,Ce.Z)("Download Logs")):null,o?g.createElement(cb.Z,{className:_De.button,to:t,target:"_self"},(0,Ce.Z)("Download Database")):null),g.createElement("div",{className:_De.description},(0,Ce.Z)("The Plex Media Server logs and database can be helpful to developers and forum community members in diagnosing server issues."))):null,g.createElement("div",{className:_De.description},g.createElement(KV.Z,{className:_De.description,message:(0,Ce.Z)("You can find additional documentation, guides and FAQs as well as our friendly Community Forums among our {openSupportLink}support resources{closeSupportLink}."),tags:[{open:"openSupportLink",close:"closeSupportLink",component:pw.Z,kind:ic._8,to:iy.av,target:"_blank"}]})))}}const QDe=HDe;var GDe=Object.defineProperty,WDe=Object.prototype.hasOwnProperty,YDe=Object.getOwnPropertySymbols,KDe=Object.prototype.propertyIsEnumerable,qDe=(e,t,n)=>t in e?GDe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const $De={dispatchCleanBundles:UT.ll,dispatchOptimizeDatabase:UT.Q6};class JDe extends g.Component{constructor(){super(...arguments),this.onCleanBundlesPress=()=>{this.props.dispatchCleanBundles({serverEntityID:this.props.serverEntityID,hideAlerts:!0})},this.onOptimizeDatabasePress=()=>{this.props.dispatchOptimizeDatabase({serverEntityID:this.props.serverEntityID,hideAlerts:!0})}}render(){const e=this.props,{dispatchCleanBundles:t,dispatchOptimizeDatabase:n}=e,r=((e,t)=>{var n={};for(var r in e)WDe.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&YDe)for(var r of YDe(e))t.indexOf(r)<0&&KDe.call(e,r)&&(n[r]=e[r]);return n})(e,["dispatchCleanBundles","dispatchOptimizeDatabase"]);return g.createElement(QDe,((e,t)=>{for(var n in t||(t={}))WDe.call(t,n)&&qDe(e,n,t[n]);if(YDe)for(var n of YDe(t))KDe.call(t,n)&&qDe(e,n,t[n]);return e})({onCleanBundlesPress:this.onCleanBundlesPress,onOptimizeDatabasePress:this.onOptimizeDatabasePress},r))}}const XDe=(0,v.$j)((function(){return(0,fe.P1)((0,LT.Z)(),BDe("/diagnostics/databases"),BDe("/diagnostics/logs"),jT.k8(),jT.tk(),((e,t,n,r,i)=>{const a=e.diagnostics;return{machineIdentifier:e.machineIdentifier,downloadDatabasesUrl:t,downloadLogsUrl:n,cleanBundlesError:e.desktop.cleanBundlesError,optimizeDatabaseError:e.desktop.optimizeDatabaseError,isCleanBundlesInProgress:!!r,isOptimizeDatabaseInProgress:!!i,showDownloadDatabases:!(!t||!a||-1===a.indexOf("databases")),showDownloadLogs:!(!n||!a||-1===a.indexOf("logs"))}}))}),$De)(JDe);function eCe(e){var t=e["aria-label"],n=e.className,r=e.style,i={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-status-560"};i["aria-hidden"]=!t,i.style=r,i.className=oa.Z.plexIcon+(n?" "+n:"");var a=[g.createElement.apply(g,["path",{d:"m458.541 390l-71.708 143.416-2.724 4.438c-1.15 1.3-2.192 2.705-3.45 3.9-2.527 2.399-5.452 4.34-8.645 5.735-1.591.696-3.29 1.109-4.934 1.664-1.716.261-3.432.523-5.148.785-4.604-.104-5.84.169-10.313-1.132-3.345-.974-6.496-2.523-9.31-4.577-2.814-2.055-5.249-4.584-7.195-7.475-2.601-3.863-2.718-5.124-4.218-9.478l-96.634-386.535-86.172 229.793-2.235 4.682c-2.66 3.738-3.128 4.909-6.699 7.872-2.672 2.217-5.708 3.953-8.974 5.131-1.626.587-3.31 1.034-5.014 1.332-1.703.298-3.445.299-5.168.449l-120 0 0-60 99.21 0 112.7-300.534 2.359-4.891c1.068-1.462 2.007-3.027 3.203-4.386 2.401-2.73 5.278-5.001 8.491-6.702 3.213-1.701 6.708-2.804 10.315-3.255 3.608-.451 7.267-.243 10.8.615 1.759.427 3.486 1.016 5.14 1.754 3.32 1.48 6.343 3.552 8.923 6.114 2.579 2.562 4.672 5.571 6.175 8.881.748 1.648 1.192 3.419 1.788 5.128l100.331 401.324 43.732-87.464 2.448-4.059c2.706-3.207 3.231-4.214 6.646-6.719 2.557-1.874 5.394-3.331 8.407-4.318 1.501-.491 3.047-.865 4.607-1.114 1.56-.248 3.15-.249 4.725-.374l120 0 0 60-101.459 0"}].concat([]))];return t&&a.unshift(g.createElement("title",null,t)),g.createElement.apply(g,["svg",i].concat(a))}eCe.propTypes={"aria-label":sa().string,className:sa().string,style:sa().object};const tCe=eCe,nCe=function(e){const{isActive:t}=e;return t?g.createElement(tCe,null):null},rCe="ok",iCe="unknown",aCe="waiting",sCe="mapped",oCe="ok",lCe="connecting",cCe="disconnecting",dCe="unreachable",uCe=oA.Z.extend({context:["server"],url:"/myplex/account",responseType:iV.AV,sessionAttrs:{remoteAccessState:KO.Z.oneOf(lCe,cCe,dCe,oCe,"")},syncedAttrs:{username:KO.Z.string,mappingState:KO.Z.oneOf(iCe,aCe,"failed",sCe),mappingError:KO.Z.oneOf("badauth","unreachable","myplexgone","publisherror","doublenat","jumboframes",""),signInState:KO.Z.oneOf("none","unknown","invalid",rCe),publicAddress:KO.Z.string,publicPort:KO.Z.integer,privateAddress:KO.Z.string,privatePort:KO.Z.integer,subscriptionActive:KO.Z.boolean,subscriptionState:KO.Z.string},derivedAttrs:{signedIn(){return this.get("signInState")===rCe},isWaiting(){const e=this.get("remoteAccessState");return e===lCe||e===cCe}},defaults:{signedIn:!1,mappingState:null,mappingError:null,signInState:null,publicAddress:null,publicPort:null,privateAddress:null,privatePort:null},isNew(){return!this.get("signedIn")},augmentResponse(e){let t=e.MyPlex;t||(M.Z.warn(`[Account] Failed to get reachable information for account - received ${JSON.stringify(e)}`),t={});const n=t.signInState===rCe;n||(t.username=null);const r=!n||t.mappingError,i=!r&&t.mappingState===sCe;return r?t.remoteAccessState=dCe:i&&(t.remoteAccessState=oCe),t}});function pCe(e){var t=e["aria-label"],n=e.className,r=e.style,i={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-help-560"};i["aria-hidden"]=!t,i.style=r,i.className=oa.Z.plexIcon+(n?" "+n:"");var a=[g.createElement.apply(g,["path",{d:"m280 0c154.536 0 280 125.464 280 280 0 154.536-125.464 280-280 280-154.536 0-280-125.464-280-280 0-154.536 125.464-280 280-280m-40 440c0 22.077 17.923 40 40 40 22.077 0 40-17.923 40-40 0-22.077-17.923-40-40-40-22.077 0-40 17.923-40 40m70-80l0-6.84 0-.179c.011-2.265.168-4.528.482-6.772.586-4.188 1.706-8.299 3.324-12.206 1.56-3.765 3.581-7.337 6.005-10.613 1.378-1.861 2.886-3.622 4.506-5.277 12.286-12.48 24.784-24.75 37.148-37.152 1.253-1.265 2.48-2.554 3.674-3.873 2.298-2.538 4.482-5.178 6.544-7.91 5.64-7.475 10.359-15.64 14.021-24.258 2.605-6.129 4.675-12.484 6.18-18.972 1.516-6.534 2.457-13.201 2.81-19.9.584-11.079-.447-22.237-3.053-33.021-1.591-6.586-3.767-13.03-6.492-19.232-2.728-6.21-6.008-12.176-9.788-17.807-2.756-4.106-5.777-8.033-9.039-11.749-1.655-1.886-3.374-3.715-5.147-5.49-1.412-1.415-2.866-2.79-4.352-4.127-3.068-2.761-6.285-5.356-9.632-7.77-8.915-6.432-18.755-11.571-29.126-15.214-7.849-2.757-15.996-4.658-24.254-5.658-3.049-.369-6.113-.616-9.182-.74-1.423-.057-2.848-.086-4.272-.093-.357 0-.713 0-1.07.002-2.253.018-4.505.094-6.754.241-4.7.306-9.381.901-14.008 1.782-6.09 1.159-12.086 2.813-17.909 4.939-5.594 2.042-11.028 4.519-16.238 7.403-5.852 3.239-11.419 6.99-16.618 11.196-2.576 2.084-5.056 4.282-7.446 6.577-.342.331-.682.663-1.021.996-6.867 6.803-13.671 13.669-20.506 20.504l42.426 42.426 19.985-19.984.136-.137c1.966-1.946 4.07-3.749 6.304-5.381 3.924-2.868 8.23-5.21 12.77-6.946 3.392-1.297 6.913-2.256 10.494-2.859 3.453-.58 6.961-.829 10.461-.742 4.493.111 8.971.778 13.302 1.98 4.678 1.298 9.18 3.219 13.354 5.699 2.604 1.547 5.08 3.31 7.393 5.266 1.182 1 2.318 2.051 3.414 3.144.705.713 1.397 1.438 2.065 2.185 1.35 1.51 2.617 3.095 3.792 4.745 3.921 5.506 6.807 11.735 8.475 18.285 1.377 5.408 1.921 11.022 1.61 16.593-.35 6.263-1.783 12.458-4.219 18.239-1.715 4.068-3.921 7.928-6.559 11.468-1.484 1.993-3.105 3.879-4.843 5.655-12.294 12.486-24.797 24.764-37.169 37.173-1.121 1.131-2.22 2.283-3.292 3.46-2.284 2.506-4.452 5.119-6.494 7.825-5.604 7.427-10.259 15.565-13.819 24.161-3.431 8.283-5.844 16.985-7.167 25.852-.467 3.127-.799 6.275-.995 9.431-.098 1.587-.16 3.175-.192 4.764-.008.455-.013.91-.017 1.365-.012 2.515-.002 5.032-.002 7.546l60 0m8.826-198.747l0-.001c-.011-.01.043.043.032.032l-.032-.031"}].concat([]))];return t&&a.unshift(g.createElement("title",null,t)),g.createElement.apply(g,["svg",i].concat(a))}pCe.propTypes={"aria-label":sa().string,className:sa().string,style:sa().object};const mCe=pCe,hCe="RemoteAccessStateIcon-unknown-2CRMhA",gCe={[lCe]:g.createElement(mCe,{className:hCe}),[cCe]:g.createElement(mCe,{className:hCe}),[dCe]:g.createElement(db.Z,{className:"RemoteAccessStateIcon-error-rQSL7G"}),[oCe]:g.createElement(Ko.Z,{className:"RemoteAccessStateIcon-ok-1TU5TC"})},yCe=function(e){const{remoteAccessState:t}=e;return gCe[t]||null},vCe=function(e){const{isClaimed:t}=e;return t?null:g.createElement(we.Z,{className:"ServerIsClaimedIcon-icon-3mgYUw"})};function fCe(e,t){return!!e.features.find((e=>e.uuid===t))}function bCe(e){return!e.isShared}function ICe(e,t){return(0,lb.Z)(e.version,ib.Z.v4DVRSetup)&&fCe(t,bn.C1)}function SCe(e){return!!e.desktop.isSettingsPopulated}function MCe(e,t){return t>0}function ECe(e){return e.desktop.backgroundTranscodeJobs.length>0}function PCe(e){const t=e.desktop.cloudAccount;return t&&t.remoteAccessState}const DCe=[{key:"status",title:()=>(0,Ce.Z)("Status"),isVisible:!0,metricsPage:pt.Q_,metricsPanePrefix:"",groups:[{key:"server-dashboard",title:()=>(0,Ce.Z)("Dashboard"),isVisible:bCe,createStatusIndicator:(e,t)=>g.createElement(nCe,{isActive:MCe(0,t)})},{key:"alerts",title:()=>(0,Ce.Z)("Alerts"),isVisible:bCe},{key:"sync",title:()=>(0,Ce.Z)("Sync"),isVisible:function(e,t){return!fCe(t,bn.PL)}},{key:"conversion",title:()=>(0,Ce.Z)("Conversions"),isVisible:bCe,createStatusIndicator:e=>g.createElement(nCe,{isActive:ECe(e)})}]},{key:"settings",title:()=>(0,Ce.Z)("Settings"),isVisible:bCe,metricsPage:pt.L6,metricsPanePrefix:"server:",groups:[{key:"general",title:()=>(0,Ce.Z)("General"),isVisible:SCe,createStatusIndicator:e=>g.createElement(vCe,{isClaimed:!!e.isClaimed})},{key:"remoteAccess",title:()=>(0,Ce.Z)("Remote Access"),isVisible:e=>SCe(e),createStatusIndicator:e=>g.createElement(yCe,{remoteAccessState:PCe(e)})},{key:"agents",title:()=>(0,Ce.Z)("Agents"),isVisible:SCe},{key:"library",title:()=>(0,Ce.Z)("Library")},{key:"channels",title:()=>(0,Ce.Z)("Plugins"),isVisible:SCe},{key:"network",title:()=>(0,Ce.Z)("Network")},{key:"transcoder",title:()=>(0,Ce.Z)("Transcoder")},{key:"languages",title:()=>(0,Ce.Z)("Languages"),isVisible:SCe},{key:"dlna",title:()=>(0,Ce.Z)("DLNA")},{key:"butler",title:()=>(0,Ce.Z)("Scheduled Tasks")},{key:"extras",title:()=>(0,Ce.Z)("Extras")}]},{key:"manage",title:()=>(0,Ce.Z)("Manage"),isVisible:!0,groups:[{key:"libraries",title:()=>(0,Ce.Z)("Libraries"),isVisible:bCe,metricsPage:pt.L6,metricsPane:"server:libraries",paneComponent:function({machineIdentifier:e,providerIdentifier:t}){const n=(0,v.v9)(Rn(e,t)),r=(0,v.v9)(Fn(e)),i=(0,v.v9)(kn(e,t)),a=(0,g.useMemo)((()=>n.filter((({key:e,hubKey:t,type:n})=>e&&t&&n))),[n]),s=Bye({server:r,provider:i}),o=(0,v.v9)(function(e){return(0,fe.P1)(Jy(e),(e=>e.some((({type:e})=>e===gl.QX))))}(r)),l=(0,g.useCallback)((()=>{s(UT.Wy({redirect:!1}))}),[s]),c=(0,g.useCallback)((()=>{s(UT.iE())}),[s]),d=(0,g.useCallback)((()=>{s(UT.zl())}),[s]);return g.createElement(Qn,{machineIdentifier:e,providerIdentifier:t},g.createElement("div",{className:"ManageLibrariesPane-header-yeBNk4"},g.createElement("div",{className:"ManageLibrariesPane-libraryCount-1lirDe"},1===a.length?(0,Ce.Z)("1 library"):(0,Ce.Z)("{1} libraries",a.length)),g.createElement(Dr,{className:Qfe,size:st.Small,onPress:l},(0,Ce.Z)("Add Library")),o?g.createElement(Dr,{className:Qfe,size:st.Small,onPress:d},(0,Ce.Z)("Cancel Scan")):g.createElement(Dr,{className:Qfe,size:st.Small,onPress:c},(0,Ce.Z)("Scan Library Files"))),a.map(((e,t)=>g.createElement(Hfe,{key:t,index:t,contentDirectory:e}))),g.createElement(yfe,null))}},{key:"versions",title:()=>(0,Ce.Z)("Optimized Versions"),isVisible:e=>bCe(e)&&SCe(e),metricsPage:pt.Q_,metricsPane:"versions"},{key:"dvr",title:()=>(0,Ce.Z)("Live TV & DVR"),isVisible:(e,t)=>!ICe(e,t)&&bCe(e)&&e.livetv>=1&&SCe(e),metricsPage:pt.L6,metricsPane:"server:dvr",paneComponent:function(e){const{serverEntityID:t}=e;return g.createElement(uMe,{className:"LiveTVSettingsPage-container-1_BlGb",serverEntityID:t},(({noDVRs:e,hasDVRFeature:n,hasLiveTVSetupFeature:r,dvrsError:i,onOpen:a})=>g.createElement("div",null,e&&!i?g.createElement(tfe,{iconComponent:mfe,title:(0,Ce.Z)("Introducing Live TV & DVR"),text:(0,Ce.Z)("With Plex Pass and a digital tuner, you can record over-the-air broadcast TV and watch your favorite shows, movies, news, and sports on any device, anywhere in the world. Cut the cord and love TV again."),moreInfo:g.createElement(KV.Z,{message:(0,Ce.Z)("To get started recording TV, connect a tuner device to your network. Here's a {openLinkSupported}list of supported devices{closeLinkSupported}. However, some tuners not officially supported {openLinkUnsupported}work as well{closeLinkUnsupported}!"),tags:[{open:"openLinkSupported",close:"closeLinkSupported",component:pw.Z,kind:ic._8,to:iy.cW,target:"_blank"},{open:"openLinkUnsupported",close:"closeLinkUnsupported",component:pw.Z,kind:ic._8,to:iy.hJ,target:"_blank"}]})},n||r?g.createElement(cb.Z,{kind:ic._8,size:Rp.ln,onPress:a},(0,Ce.Z)("Set Up Plex DVR")):g.createElement(ufe,{serverEntityID:t,origin:Jve.od,modalMetricsProperties:{context:"dvrSetup"}})):null,n||r?g.createElement(XMe,{serverEntityID:t,hasDVRFeature:n,hasLiveTVSetupFeature:r}):null)))}},{key:"dvr",title:()=>(0,Ce.Z)("Live TV & DVR"),isVisible:(e,t)=>ICe(e,t)&&bCe(e)&&e.livetv>=1&&SCe(e),metricsPage:pt.L6,metricsPane:"server:dvr",paneComponent:function({machineIdentifier:e}){const t=(0,v.I0)(),n=(0,gd.Z)(),r=(0,v.v9)(Fn(e)),i=(0,v.v9)(Rme(e)),a=(0,v.v9)(hl(bn.vm)),{selectedDVR:{dvr:s,isPending:o,error:l}}=(0,v.v9)(The),c=!!r.ownerFeatures&&r.ownerFeatures.indexOf("dvr")>-1,{isUIPopulated:d,isDvrsPending:u}=(0,v.v9)(bye),p=!d||u||o;return(0,g.useEffect)((()=>(t(JT({serverEntityID:r.entityID})),()=>{t(XT())})),[r,t]),(0,g.useEffect)((()=>{d&&!u&&t(dhe.actions.dvrFetchRequested({server:r}))}),[r,t,d,u]),g.createElement(Qn,{machineIdentifier:e,providerIdentifier:i.identifier},p?g.createElement(Ye,null,g.createElement(lt,null)):null,p||s||l?null:g.createElement(hfe,{hasDVRFeature:c,hasLiveTVSetupFeature:a,onSetupPress:n.onOpen}),!p&&l?g.createElement(et,{title:(0,Ce.Z)("Unable to load DVRs")}):null,p||l||!s?null:g.createElement("div",{className:"LiveTVSettingsPage-container-38K9L7"},g.createElement("div",{className:"LiveTVSettingsPage-deviceListContainer-2CW-Bb"},g.createElement("div",{className:gfe},(0,Ce.Z)("Tuner Devices")),g.createElement($ve,{dvrID:s.key,onAddDevicePress:n.onOpen})),g.createElement("div",{className:"LiveTVSettingsPage-channelsListContainer-1M_-3l"},g.createElement("div",{className:gfe},(0,Ce.Z)("Guide Channels")),g.createElement(Vye,null)),g.createElement("div",{className:"LiveTVSettingsPage-dvrContainer-3o_hxn"},g.createElement("div",{className:gfe},(0,Ce.Z)("DVR")),g.createElement(gve,{dvr:s,hasDVRFeature:c,hasLiveTVSetupFeature:a}))),g.createElement(fye,{machineIdentifier:e,providerIdentifier:i.identifier,dvrID:null==s?void 0:s.key,metricsContext:OC.SETTINGS,isOpen:n.isOpen,onModalClose:n.onClose}))}},{key:"help",title:()=>(0,Ce.Z)("Troubleshooting"),isVisible:e=>bCe(e)&&SCe(e),metricsPage:pt.L6,metricsPane:"server:help",paneComponent:XDe},{key:"console",title:()=>(0,Ce.Z)("Console"),isVisible:e=>bCe(e)&&function(e){const t=e.diagnostics;return!(!t||-1===t.indexOf("streaminglogs"))}(e),metricsPage:pt.L6,metricsPane:"server:console",pageComponent:VDe},{key:"plugins",title:()=>(0,Ce.Z)("Plugins"),isVisible:function(e){return e.allowChannelAccess},metricsPage:pt.L6,metricsPane:"server:plugins",paneComponent:function(e){const{serverEntityID:t}=e,[n,r]=(0,g.useState)({deprecatedPlugins:null,isDeprecatedPluginsPending:!0,deprecatedPluginsError:!1});return a7((()=>{var e;const n=null==(e=(0,b.DB)("appModel").get("entities").get("servers").get(t))?void 0:e.get("model"),i=new nEe({},{server:n});i.fetch().then((()=>{r({deprecatedPlugins:i,isDeprecatedPluginsPending:!1,deprecatedPluginsError:!1})}),(()=>{r({deprecatedPlugins:null,isDeprecatedPluginsPending:!1,deprecatedPluginsError:!0})}))})),n.isDeprecatedPluginsPending?g.createElement(CK.Z,null,g.createElement(Mx.Z,null)):n.deprecatedPluginsError?g.createElement(PK.Z,{title:(0,Ce.Z)("Plugins are not available.")}):g.createElement(hEe,{view:pEe,viewOptions:{deprecatedPlugins:n.deprecatedPlugins}})}}]}];function CCe(e,t,n){return!0===e||S().isFunction(e)&&e(t,n)}function wCe(){return(0,fe.P1)((0,LT.Z)(),Lme(),jme.Z,(0,fe.P1)((0,fe.P1)((0,LT.Z)(),(e=>e?e.desktop.settings:[])),(e=>e.reduce(((e,t)=>(!t.group||e.includes(t.group)||t.hidden||e.push(t.group),e)),[]))),((e,t,n,r)=>!e||e.isUnavailable?[]:DCe.reduce(((i,a)=>{if(!CCe(a.isVisible,e,n))return i;const s=a.groups.reduce(((i,s)=>((CCe(s.isVisible,e,n)||!1!==s.isVisible&&r.includes(s.key))&&i.push({key:s.key,title:s.title(),statusIndicator:s.createStatusIndicator&&s.createStatusIndicator(e,t),pageComponent:s.pageComponent,paneComponent:s.paneComponent,route:(0,Nv.Z)(e.machineIdentifier,a.key,s.key)}),i)),[]);return s.length>0&&i.push({key:a.key,title:a.title(),groups:s}),i}),[])))}function ZCe(e,t){const n=S().findWhere(DCe,{key:e}),r=S().findWhere(n.groups,{key:t});return r.metricsPage?{metricsPage:r.metricsPage,metricsPane:r.metricsPane}:{metricsPage:n.metricsPage,metricsPane:n.metricsPanePrefix+r.key}}var TCe=Object.defineProperty,NCe=Object.prototype.hasOwnProperty,OCe=Object.getOwnPropertySymbols,ACe=Object.prototype.propertyIsEnumerable,xCe=(e,t,n)=>t in e?TCe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,jCe=(e,t)=>{for(var n in t||(t={}))NCe.call(t,n)&&xCe(e,n,t[n]);if(OCe)for(var n of OCe(t))ACe.call(t,n)&&xCe(e,n,t[n]);return e};const LCe="serverUpdate/fetchServerUpdateStatus",kCe="serverUpdate/checkForServerUpdate",RCe="serverUpdate/dismissServerUpdate",zCe="serverUpdate/downloadServerUpdate",UCe="serverUpdate/installServerUpdate";function VCe(e,t){const{download:n,initialState:r,isChecking:i=!0}=t,a={download:n?"1":"0"},s=E.Z.join("/updater/check",a),o=e.getXHROptions(s,{type:"PUT"}),l=e.get("desktop").get("update"),c={isChecking:i};null!=r&&(c.state=r),l.set(c),h().ajax(o).then(null,(()=>{l.set({isChecking:!1,state:dPe})}))}function BCe(e,t){const n=E.Z.join(["/updater/apply"],t),r=e.getXHROptions(n,{type:"PUT"});return h().ajax(r)}function FCe(e){const t=e.get("desktop").get("update");BCe(e).then((()=>{t.set("state",uPe),e.set("isInstallingServerUpdate",!0)}),(()=>{t.set("state",dPe),e.set("isInstallingServerUpdate",!1)}))}function _Ce(e,t,n,r){const i=e.get("deviceSettings").get("dismissedServerUpdateVersions");t((0,Wn.T5)({dismissedServerUpdateVersions:jCe(jCe({},i),{[n.get("machineIdentifier")]:r})}))}const HCe=(0,bc.Z)(LCe),QCe=(0,bc.Z)(kCe),GCe=(0,bc.Z)(RCe),WCe=(0,bc.Z)(zCe),YCe=(0,bc.Z)(UCe),KCe={[LCe](e,t){const n=(0,uC.SW)(e,t),r=(0,uC.Y7)(e,t).get("update");n.get("isFullOwnedServer")&&n.get("updater")&&!n.get("isOutOfDate")&&!r.get("isChecking")&&(r.set({isChecking:!0}),r.fetch().then((()=>{const e=r.get("state");VCe(n,{isChecking:e===oPe||e===dPe||e===pPe})}),(()=>{r.set({isChecking:!1})})))},[kCe](e,t){const{download:n,initialState:r}=t;VCe((0,uC.SW)(e,t),{download:n,initialState:r})},[RCe](e,t,n){const r=(0,uC.SW)(e,t);(0,uC.Y7)(e,t).get("update").get("canInstall")?BCe(r,{skip:1}).then((()=>{n(HCe(t))}),(()=>{_Ce(e,n,r,t.version)})):_Ce(e,n,r,t.version)},[zCe](e,t){VCe((0,uC.SW)(e,t),{download:!0,initialState:cPe})},[UCe](e,t){const n=(0,uC.SW)(e,t);if(n.get("activeConnection").get("isLoopback"))FCe(n);else{const e=new xle.Z({title:(0,Ce.Z)("Remote Installation"),confirmLabel:(0,Ce.Z)("Continue"),cancelLabel:(0,Ce.Z)("Cancel"),message:(0,Ce.Z)("The installer may display dialogs that require input. Make sure you have desktop access to the computer running Plex Media Server before continuing.")});le.Z.trigger("show:modal",e),e.promise.then((()=>FCe(n)))}}};var qCe=n(73913),$Ce=n(28257),JCe=n.n($Ce);const XCe=p.Z.ItemView.extend({tagName:"li",template:JCe(),bindings:{a:{modelAttribute:"selected",manual:!0,formatter:function(e){this.$el.toggleClass("active",!!e)}}}}),ewe=ile.Z.extend({tagName:"ul",className:"agents-nav nav nav-pills nav-pills-sm",itemView:XCe});var twe=n(93634),nwe=n(46341),rwe=n.n(nwe);const iwe=Xpe.Z.extend({name:"agentInfoModal",className:"agent-info-modal modal fade",template:rwe(),regions:{icon:".agent-icon-container"},serializeData:function(){return{agent:this.model.toJSON(),attribution:this.model.get("attribution").get("content")}},onRender:function(){Xpe.Z.prototype.onRender.apply(this,arguments),this.icon.show(new twe.Z({model:this.model,url:"/system/agents/attribution/image?identifier="+this.model.id,className:"agent-icon",width:100,height:100}))}});var awe=n(97174),swe=n.n(awe);const owe=p.Z.ItemView.extend({tagName:"li",className:"card card-sortable",template:swe(),events:{"change input[type=checkbox]":"onEnabledChange","click .settings-btn":"onSettingsClick","click .info-btn":"onInfoClick"},initialize:function(){this.attribution=this.model.get("attribution"),this.attribution.fetch()},bindings:{".info-btn":{model:"attribution",modelAttribute:"content",manual:!0,autohide:!0},".settings-btn":{modelAttribute:"hasPrefs",manual:!0,autohide:!0}},onEnabledChange:function(e){this.model.set("enabled",e.target.checked)},onSettingsClick:function(e){e.preventDefault();var t=new Goe.Z([],{server:this.model.server,url:"/:/plugins/"+this.model.id+"/prefs"});t.fetch().done(S().bind((function(){le.Z.trigger("show:modal",new oEe({model:this.model,collection:t}))}),this))},onInfoClick:function(e){e.preventDefault(),le.Z.trigger("show:modal",new iwe({model:this.model}))}}),lwe=ile.Z.extend({tagName:"ul",className:"list contributor-list",itemView:owe,events:{"change input[type=checkbox]":"save",update:"save"},save:function(){var e=[];this.$(":checked").each((function(t){e.push(this.name)})),this.trigger("save",e.join(","))},onRender:function(){this.sortable=new(yle())(this.$el[0],{draggable:".card-sortable",animation:200})},onClose:function(){this.sortable.destroy()}});var cwe=n(39390),dwe=n.n(cwe);const uwe=p.Z.Layout.extend({template:dwe(),ui:{agentLabel:".agent-label",typeNavItems:".agent-types-nav li",agentNavItems:".agents-nav li"},regions:{agentsList:".agents-list-container",contributorsList:".contributors-list-container"},events:{"click .agent-types-nav a":"onAgentTypeClick","click .agents-nav a":"onAgentClick"},initialize:function(){this.bindAllWhenRendered("onAgentsReset","onContributorsReset"),this.agentTypes=[],this.agentTypes.push((0,Ac.getMetadataType)(Ac.MOVIE)),this.agentTypes.push((0,Ac.getMetadataType)(Ac.SHOW)),this.agentTypes.push((0,Ac.getMetadataType)(Ac.ARTIST)),this.agentTypes.push((0,Ac.getMetadataType)(Ac.ALBUM)),this.agentTypes.push((0,Ac.getMetadataType)(Ac.PHOTO)),this.currentType=S().first(this.agentTypes),this.populateAgents()},serializeData:function(){return{currentType:this.currentType,agentTypes:this.agentTypes}},populateAgents:function(){var e=new qCe.Z([],{server:this.model,mediaTypeID:this.currentType.id});e.populate({reset:!0}).then((()=>{var t=e.filter((e=>e.get("identifier")!==TC.Ut&&e.get("identifier")!==TC.WX&&e.get("identifier")!==TC.Zb));this.agents=e.clone(t),this.onAgentsReset()}))},selectAgent:function(e){this.currentAgent&&this.currentAgent.set("selected",!1),this.currentAgent=e,e.set("selected",!0),this.ui.agentLabel.text(e.get("name")),this.additionalAgents=new qCe.Z([],{server:this.model,mediaTypeID:this.currentType.id,relatedAgentID:e.id}),this.contributors=new qCe.Z([],{server:this.model,mediaTypeID:this.currentType.id,primaryAgentID:e.id}),this.contributorsList.show(new lwe({collection:this.contributors})),this.listenTo(this.contributorsList.currentView,"save",this.onContributorsSave),this.populateContributors()},populateContributors:function(){var e=[];e.push(this.additionalAgents.populate({reset:!0})),e.push(this.contributors.populate({reset:!0})),h().when.apply(h(),e).done(S().bind(this.onContributorsReset,this))},onAgentsReset:function(){if(this.agentsList.show(new ewe({collection:this.agents})),this.agents.length){var e=this.agents.findWhere({selected:!0})||this.agents.first();this.selectAgent(e)}},onContributorsReset:function(){var e=S().bind((function(e){return e.id===this.currentAgent.id?(e.set("isPrimary",!0),!0):!!this.contributors.get(e.id)}),this);this.contributors.reset(this.additionalAgents.filter(e))},onAgentTypeClick:function(e){e.preventDefault();var t=h()(e.currentTarget),n=t.data("type");this.currentType=(0,Ac.getMetadataType)(n),this.populateAgents(),this.ui.typeNavItems.removeClass("active"),t.parent("li").addClass("active")},onAgentClick:function(e){e.preventDefault();var t=h()(e.target).data("identifier"),n=this.agents.get(t);n&&this.selectAgent(n)},onContributorsSave:function(e){this.currentAgent.url="system/agents/"+this.currentAgent.id+"/config/"+this.currentType.id,this.currentAgent.save({order:e}).done(S().bind((function(){this.additionalAgents.fetch({silent:!0}),this.contributors.fetch({silent:!0})}),this))}});var pwe=n(44942),mwe=n.n(pwe);const hwe=p.Z.Layout.extend({className:"form-group",template:mwe(),isDisabled:!0,isActive:!1,ui:{submitBtn:".submit-btn",message:".form-message"},events:{"change #server-settings-form input[name]":"onInputChange","input #server-settings-form input[type=text]":"onInputChange","change #server-settings-form select[name]":"onInputChange","submit #server-settings-form":"onSubmit"},initialize:function(e){this.changes=e.changes},serializeData:function(){return S().where(this.collection.toJSON(),{group:this.options.group,hidden:!1})},enable:function(){this.isDisabled=!1,this.ui.submitBtn.removeClass("disabled"),this.ui.message.text(""),this.ui.message.removeClass("has-error")},updateModel:function(e,t){var n=this.collection.get(e);if(n)return n.set("value",t)},onRender:function(){S().isEmpty(this.changes)||this.enable()},onInputChange:function(e){var t=e.currentTarget,n=t.name,r=t.value,i=t.value;n&&("checkbox"===t.type&&((i=t.checked)||(r="0")),this.updateModel(n,i)&&(this.changes[t.name]=r,this.enable()))},onSubmit:function(e){e.preventDefault(),this.trigger("save")},onBeforeSave:function(){this.isActive=!0,this.ui.submitBtn.addClass("active")},onAfterSave:function(e){this.isActive=!1,this.ui.submitBtn.removeClass("active"),e?(this.isDisabled=!0,this.ui.submitBtn.addClass("disabled"),this.ui.message.removeClass("has-error"),this.ui.message.text((0,Ce.Z)("Your changes have been saved."))):(this.ui.message.addClass("has-error"),this.ui.message.text((0,Ce.Z)("Your changes could not be saved.")))}}),gwe=hwe.extend({prefix:"channel.",serializeData:function(){var e=hwe.prototype.serializeData.apply(this,arguments),t=this.options.channelSettings.toJSON();return S().each(t,(function(e){e.id=this.prefix+e.id}),this),e.unshift.apply(e,t),e},updateModel:function(e,t){var n=hwe.prototype.updateModel.apply(this,arguments);if(n)return n;var r=e.replace(this.prefix,""),i=this.options.channelSettings.get(r);return i?i.set("value",t):void 0}}),ywe=function(){return(0,fe.P1)((0,LT.Z)(),(e=>e?e.desktop.cloudAccount:null))},vwe=function(e){return e.ui.authCodeExchange},fwe=function(e){const t=e&&e.responseJSON,n=!t&&e&&e.responseText&&qi.Z.parseXML(e.responseText),r=t&&t.errors||n&&n.error;return r?Array.isArray(r)?r:[r]:[]};var bwe,Iwe;function Swe(e,t){switch(t){case bwe.Subscription:switch(e){case"1003":return(0,Ce.Z)("Subscriptions have been temporarily disabled: too many failed attempts. Please try again later.")}break;case bwe.SendRecoveryCode:switch(e){case"1001":return(0,Ce.Z)("User could not be authenticated.");case"1003":return(0,Ce.Z)("A temporary recovery code has already been sent recently. Please try again later.");case"1028":return(0,Ce.Z)("Invalid recovery code")}}switch(e){case"1001":return(0,Ce.Z)("The username or password is incorrect");case"1003":return(0,Ce.Z)("Sign in has been temporarily disabled: too many failed attempts. Please try again later.");case"1004":return(0,Ce.Z)("Authentication failed. Please try again later.");case"1010-login":return(0,Ce.Z)("Login is required");case"1010-password":return(0,Ce.Z)("Password is required");case"1010-email":return(0,Ce.Z)("Email is required");case"1011-username":return(0,Ce.Z)("Username has already been taken");case"1011-email":return(0,Ce.Z)("Email has already been taken");case"1028":return(0,Ce.Z)("Invalid verification code");case"1029":return(0,Ce.Z)("Please enter the verification code");case"1030":return(0,Ce.Z)("This account only allows signing in with an email address");case"1031":return(0,Ce.Z)("The username or password is incorrect. Repeated attempts may temporarily disable sign in.");case"1032-password":return(0,Ce.Z)("Password must be at least 8 characters");case"1033-password":return(0,Ce.Z)("Password is too weak");case"1034-password":return(0,Ce.Z)("Password must be different from username or email address");case"1035-email":return(0,Ce.Z)("Email is not a valid email address");case"1036-username":return(0,Ce.Z)("Username must not be an email address");case"1037-username":return(0,Ce.Z)("Username contains invalid characters");case"1038-pin":return(0,Ce.Z)("Pin must be 4 digits");case"1039-passwordConfirmation":return(0,Ce.Z)("Confirm Password must match Password");case"1040":case"1044":return(0,Ce.Z)("Invalid Password")}}function Mwe(e,t){if(!e)return;const n=String(e.code);return Swe(`${e.code}-${e.field}`,t)||Swe(n,t)||e.message||(0,Ce.Z)("An unknown error occurred")}function Ewe(e,t){const n=e&&e[0];return n?S().isObject(n)?Mwe(n,t):n:(0,Ce.Z)("There was a problem signing in to Plex.")}(Iwe=bwe||(bwe={})).Subscription="subscription",Iwe.SendRecoveryCode="sendRecoveryCode";function Pwe(e){return!!e.get("shortVersion")&&(0,lb.Z)(e.get("shortVersion"),ib.Z.mediaProvidersServerRoot)}const Dwe=function(e,t,n,r){const i=e.get("user"),a=e.get("cloudServer");return i.get("anonymous")?h().Deferred().reject().promise():h().ajax(a.getXHROptions("/api/claim/token",{headers:{"X-Plex-Token":n}})).promise().then((e=>qi.Z.parseXML(e).token)).then((e=>h().ajax(t.getXHROptions(E.Z.join("/myplex/claim",{token:e}),{type:"POST"})))).then((()=>function(e,t){const n=e.get("cloudServer").get("resources"),r={clientIdentifier:t.get("machineIdentifier")};return function(e,t={}){let n=Math.floor(Math.max(t.times||0,0));const r=Math.floor(Math.max(t.delay||0,0));t.cancel&&t.cancel.always((()=>{n=-1}));const i=h().Deferred();let a;return t.maxDuration&&(a=window.setTimeout((()=>{i.reject("maxDuration")}),t.maxDuration)),function t(){n<0||e().done((function(){a&&window.clearTimeout(a),i.resolve(...arguments)})).fail((function(){n-=1,n<0?(a&&window.clearTimeout(a),i.reject(...arguments)):"pending"===i.state()&&window.setTimeout(t,r)}))}(),i.promise()}((()=>n.fetch().then((()=>n.findWhere(r)?h().Deferred().resolve().promise():h().Deferred().reject().promise()))),{times:30,delay:1e3})}(e,t))).then((()=>{let e;return Pwe(t)&&(e=t.getXHROptions("/media/providers")),t.fetch(e)})).then((()=>function(e,t,n){const r=h().Deferred();return e.get("primaryServer")===t?r.resolve():(e.once("change:primaryServer",r.resolve),n()),function(e,t){const n=h().Deferred(),r=window.setTimeout((()=>{n.reject()}),t);return e.then(n.resolve,n.reject).always((()=>{window.clearTimeout(r)})),n.promise()}(r.promise(),2e3)}(e,t,r))).then((()=>{const e=i.get("email"),n=t.get("desktop").get("cloudAccount");t.set({myPlexSigninState:_pe.Hq,myPlexUsername:e}),n.set({signedIn:!0,username:e})}))},Cwe=function(e){return e.get("ui").get("authCodeExchange")},wwe=function(e){const t=e.get("cloudServer");return h().ajax(t.getXHROptions("/api/v2/pins",{method:"POST",dataType:"json",data:{strong:!0}})).then((e=>e))},Zwe="server/claim/claimServer",Twe="server/claim/signInThenClaimServer",Nwe="server/claim/signOutServer",Owe="server/claim/createPIN",Awe=(0,bc.Z)(Zwe),xwe=(0,bc.Z)(Twe),jwe=(0,bc.Z)(Nwe),Lwe=(0,bc.Z)(Owe);function kwe(e,t,n){const{authToken:r}=t,i=(0,uC.SW)(e,t),a=Cwe(e);a.set({errorMessage:null,isBusy:!0});const s=(0,b.DB)("metrics");return Dwe(e,i,r,(()=>{n((0,Wn.h9)({machineIdentifier:i.id,metricsProperties:{context:OC.SETTINGS}}))})).done((()=>{s.trackEvent({event:mz.Yg,interaction:!0})})).fail((()=>{s.trackEvent({event:mz.Jk,interaction:!1}),a.set({errorMessage:(0,Ce.Z)("There was a problem claiming this server."),isBusy:!1})}))}const Rwe={[Zwe](e,t,n){kwe(e,t,n).then((()=>{Cwe(e).set({errorMessage:null,isBusy:!1})}))},[Twe](e,t,n){(function(e,t){const n=e.get("user"),{authToken:r}=t;return h().ajax(n.server.getXHROptions(S().result(n,"url"),{headers:{"X-Plex-Token":r}})).then((e=>n.signIn(e,{})))})(e,t).then((()=>kwe(e,t,n))).then((()=>{Cwe(e).set({errorMessage:null,isBusy:!1})})).fail((t=>{const n=fwe(t);le.Z.trigger("show:alert",{message:Ewe(n)}),Cwe(e).set({errorMessage:(0,Ce.Z)("There was a problem claiming this server."),isBusy:!1})}))},[Nwe](e,t,n){const r=(0,uC.SW)(e,t).get("desktop").get("cloudAccount"),i=Cwe(e);var a;i.set({errorMessage:null,isBusy:!0}),(a=r,a.destroy({timeout:0}).promise().done((()=>{a.server.set({accessToken:void 0,myPlexSigninState:_pe.Ar,myPlexSubscription:!1}),a.restoreDefaults()}))).done((()=>{i.set({errorMessage:null,isBusy:!1})})).fail((()=>{i.set({errorMessage:(0,Ce.Z)("There was a problem signing the server out."),isBusy:!1})}))},[Owe](e,t,n){const r=wwe(e),i=Cwe(e);r.then((e=>{i.set({pinID:e.id,code:e.code,isBusy:!0})})),r.fail((()=>{i.set({fatalErrorMessage:(0,Ce.Z)("An error occurred"),isBusy:!1})}))}},zwe=function(e){const{serverEntityID:t,avatarUrl:n}=e;return g.createElement("div",{className:"ServerAvatar-avatar-3IDErp"},n?null:g.createElement(we.Z,{className:"ServerAvatar-icon-2YedBg"}),g.createElement(X2.Z,{serverEntityID:t,url:n,width:60,height:60}))},Uwe=(0,fe.P1)(jme.Z,(e=>({avatarUrl:e.isSignedIn?e.thumb:null}))),Vwe=(0,v.$j)(Uwe)(zwe),Bwe=function(e){const{isSigningOut:t,username:n,serverEntityID:r,onSignOutPress:i}=e;return g.createElement("div",{className:"ClaimedServer-container-2LXv6E"},g.createElement(Vwe,{serverEntityID:r}),g.createElement("div",{className:"ClaimedServer-message-1W7A46"},g.createElement("div",{className:"ClaimedServer-messageHeader-ZDhlAv"},(0,Ce.Z)("Server signed in as")),g.createElement("div",{className:"ClaimedServer-messageDetails-3eUJrs"},n)),g.createElement(fw.Z,{className:"ClaimedServer-button-2nxb2B SpinnerButton-button-SzW9Jq Button-button-38SEbM Link-link-CM9nxg",kind:ic.TP,size:Rp.M2,isSpinning:t,onPress:i},(0,Ce.Z)("Sign Out")))};var Fwe=Object.defineProperty,_we=Object.prototype.hasOwnProperty,Hwe=Object.getOwnPropertySymbols,Qwe=Object.prototype.propertyIsEnumerable,Gwe=(e,t,n)=>t in e?Fwe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Wwe=(e,t)=>{for(var n in t||(t={}))_we.call(t,n)&&Gwe(e,n,t[n]);if(Hwe)for(var n of Hwe(t))Qwe.call(t,n)&&Gwe(e,n,t[n]);return e};const Ywe=(0,fe.P1)(vwe,(e=>e.isBusy)),Kwe={dispatchSignOutServer:jwe};class qwe extends g.Component{constructor(){super(...arguments),this.onSignOutPress=e=>{this.props.dispatchSignOutServer({serverEntityID:this.props.serverEntityID})}}render(){const e=this.props,{dispatchSignOutServer:t}=e,n=((e,t)=>{var n={};for(var r in e)_we.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&Hwe)for(var r of Hwe(e))t.indexOf(r)<0&&Qwe.call(e,r)&&(n[r]=e[r]);return n})(e,["dispatchSignOutServer"]);return g.createElement(Bwe,Wwe(Wwe({},n),{onSignOutPress:this.onSignOutPress}))}}const $we=(0,v.$j)((function(){return(0,fe.P1)(Ywe,(0,fe.P1)(ywe(),(e=>e&&e.username||null)),((e,t)=>({isSigningOut:e,username:t})))}),Kwe)(qwe),Jwe=function(){return window!==window.top},Xwe=function(){return(0,FS.Z)()||Jwe()};var eZe=Object.defineProperty,tZe=Object.prototype.hasOwnProperty,nZe=Object.getOwnPropertySymbols,rZe=Object.prototype.propertyIsEnumerable,iZe=(e,t,n)=>t in e?eZe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const aZe=function(e){return g.createElement(fw.Z,((e,t)=>{for(var n in t||(t={}))tZe.call(t,n)&&iZe(e,n,t[n]);if(nZe)for(var n of nZe(t))rZe.call(t,n)&&iZe(e,n,t[n]);return e})({className:"ClaimServerButton-button-2zeted SpinnerButton-button-SzW9Jq Button-button-38SEbM Link-link-CM9nxg",kind:ic.TP,size:Rp.M2,target:"_blank"},e),(0,Ce.Z)("Claim Server"))},sZe=(0,fe.P1)((0,wn.Z)("authToken"),(e=>({authToken:e}))),oZe={dispatchClaimServer:Awe};class lZe extends g.Component{constructor(){super(...arguments),this.onClaimServerPress=()=>{this.props.dispatchClaimServer({serverEntityID:this.props.serverEntityID,authToken:this.props.authToken})}}render(){const{isBusy:e,isDisabled:t}=this.props;return g.createElement(aZe,{isSpinning:e,isDisabled:t,onPress:this.onClaimServerPress})}}const cZe=(0,v.$j)(sZe,oZe)(lZe),dZe=function(e,t){const n=e.get("cloudServer");return h().ajax(n.getXHROptions(`/api/v2/pins/${t}`,{dataType:"json"})).promise().then((e=>e))},uZe="user/authCodeExchange/readStoredPIN",pZe="user/authCodeExchange/preloadPIN",mZe="user/authCodeExchange/resetAuthCodeExchange",hZe="user/authCodeExchange/beginPolling",gZe="user/authCodeExchange/stopPolling",yZe="user/authCodeExchange/skipSignIn",vZe=(0,bc.Z)(uZe),fZe=(0,bc.Z)(pZe),bZe=(0,bc.Z)(mZe),IZe=(0,bc.Z)(hZe),SZe=(0,bc.Z)(gZe),MZe=(0,bc.Z)(yZe);function EZe(e,t){const n=Cwe(e);return n.set({isBusy:!0}),wwe(e).then((({id:e,code:r,expiresIn:i})=>{const a=window.setTimeout((()=>{t(SZe())}),1e3*i);n.set({code:r,pinID:e,pinTimeout:a,isBusy:!1})})).fail((()=>{n.set({fatalErrorMessage:(0,Ce.Z)("An error occurred"),isBusy:!1})}))}const PZe={[mZe](e,t,n){const r=Cwe(e);(0,fn.c9)((()=>{r.set({code:null,pinID:null,authToken:null,errorMessage:null})}))},[uZe](e,t,n){const r=Cwe(e),i=r.get("pinIDInitial"),a=(i?h().Deferred().resolve(i).promise():h().Deferred().reject().promise()).then((()=>dZe(e,i).fail((()=>{r.set({errorMessage:(0,Ce.Z)("There was an error signing in")})})))).then((({authToken:e})=>e?h().Deferred().resolve(e).promise():(r.set({errorMessage:(0,Ce.Z)("There was an error signing in")}),h().Deferred().reject().promise()))).then((e=>{r.set({authToken:e})}));t.shouldCreatePIN&&a.fail((()=>EZe(e,n)))},[pZe](e,t,n){Cwe(e).set({isBusy:!0,code:null,pinID:null}),EZe(e,n)},[hZe]:function(e,t,n){const{pinID:r}=t,i=Cwe(e);function a(){const t=i.get("pinID");r===t&&dZe(e,r).then((({authToken:e})=>{e?i.set({authToken:e}):s()})).fail((e=>{i.set({code:null,pinID:null,isBusy:!1,fatalErrorMessage:e&&404===e.status?null:(0,Ce.Z)("An error occurred")})}))}function s(){window.setTimeout(a,2e3)}s()},[gZe](e,t,n){const r=Cwe(e),i=r.get("pinTimeout");i&&window.clearTimeout(i),r.set({pinID:null,pinTimeout:null,code:null})},[yZe](e,t,n){e.set({skipSignIn:!0})}},DZe={dispatchRedirectToUrl:mt.nL};class CZe extends g.Component{componentDidMount(){const{to:e,replace:t}=this.props;this.props.dispatchRedirectToUrl({url:e,replace:t})}render(){return null}}CZe.propTypes={to:sa().string.isRequired,replace:sa().bool,dispatchRedirectToUrl:sa().func.isRequired};const wZe=(0,v.$j)(null,DZe)(CZe);var ZZe=n(84571);const TZe=function e(t){return function(e,t=S().identity){return Object.keys(e).forEach((n=>{e[n]=t(e[n])})),e}(function(e,t=S().identity){return Object.keys(e).forEach((n=>{t(e[n])||delete e[n]})),e}(t),(t=>S().isObject(t)?e(t):t))};var NZe=n(23100),OZe=Object.defineProperty,AZe=Object.prototype.hasOwnProperty,xZe=Object.getOwnPropertySymbols,jZe=Object.prototype.propertyIsEnumerable,LZe=(e,t,n)=>t in e?OZe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,kZe=(e,t)=>{for(var n in t||(t={}))AZe.call(t,n)&&LZe(e,n,t[n]);if(xZe)for(var n of xZe(t))jZe.call(t,n)&&LZe(e,n,t[n]);return e};function RZe(e,t){let[,n]=e.match(/(^[^#]+)?/);return n=n||"",`${n}${t}`}var zZe=n(61201),UZe=Object.defineProperty,VZe=Object.prototype.hasOwnProperty,BZe=Object.getOwnPropertySymbols,FZe=Object.prototype.propertyIsEnumerable,_Ze=(e,t,n)=>t in e?UZe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;function HZe(e){const t=e.context||{},{user:n}=t,r=((e,t)=>{var n={};for(var r in e)VZe.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&BZe)for(var r of BZe(e))t.indexOf(r)<0&&FZe.call(e,r)&&(n[r]=e[r]);return n})(t,["user"]);return TZe(((e,t)=>{for(var n in t||(t={}))VZe.call(t,n)&&_Ze(e,n,t[n]);if(BZe)for(var n of BZe(t))FZe.call(t,n)&&_Ze(e,n,t[n]);return e})({},r))}const QZe=function(){return(0,fe.P1)(((e,{signUp:t})=>t),((e,{email:t})=>t),((e,{providerID:t})=>t),((e,{userAuthToken:t})=>t),((e,{code:t})=>t),((e,{pinID:t})=>t),((e,{errorMessage:t})=>t),(e=>e.clientID),ct,ZZe.Z,((e,t,n,r,i,a,s,o,l,c)=>{const d=HZe((0,b.DB)("metrics").toJSON());if(e){const{base:e}=Y(window.location.href),t={forwardUrl:e,twop:"1",context:d};return c&&(t.lang=c),l.anonymous&&(t.guestToken=l.authToken),E.Z.join(["https://www.plex.tv","sign-up/"],t)}{const e={clientID:o,context:d};if(!Xwe()){const t=a?function(e,t){const{base:n,searchParams:r,hashPath:i,hashParams:a}=Y(e),s=(0,G.Z)(a);return`${n}${r}#${i}?${(0,NZe.Z)(kZe(kZe({},s),t))}`}(window.location.href,{pinID:a}):window.location.href;e.forwardUrl=t,(0,f.LX)(zZe.Z.location.pathname,{path:SK.Z.serverSetup})&&(e.skipSignInUrl=RZe(window.location.href,E.Z.join(["#!/setup"],{forwardUrl:t})))}return i&&(e.code=i),n&&(e.provider=n),t&&(e.email=t),r&&(e.authToken=r),s&&(e.error=s),c&&(e.language=c),l.anonymous&&(e.guestToken=l.authToken),E.Z.join(["https://app.plex.tv/auth",E.Z.join(["#!/"],e)])}}))};var GZe=Object.defineProperty,WZe=Object.prototype.hasOwnProperty,YZe=Object.getOwnPropertySymbols,KZe=Object.prototype.propertyIsEnumerable,qZe=(e,t,n)=>t in e?GZe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const $Ze=(0,v.$j)((function(){return(0,fe.P1)(QZe(),(e=>({serviceAuthUrl:e})))}),{})((function(e){const t=e,{component:n,serviceAuthUrl:r}=t,i=((e,t)=>{var n={};for(var r in e)WZe.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&YZe)for(var r of YZe(e))t.indexOf(r)<0&&KZe.call(e,r)&&(n[r]=e[r]);return n})(t,["component","serviceAuthUrl"]);return g.createElement(n,((e,t)=>{for(var n in t||(t={}))WZe.call(t,n)&&qZe(e,n,t[n]);if(YZe)for(var n of YZe(t))KZe.call(t,n)&&qZe(e,n,t[n]);return e})({to:r},i))})),JZe={dispatchReadStoredPIN:vZe,dispatchCreatePIN:Lwe,dispatchSignInThenClaimServer:xwe};class XZe extends g.Component{constructor(){super(...arguments),this.onClaimServerPress=()=>{this.props.dispatchCreatePIN()}}componentDidMount(){this.props.dispatchReadStoredPIN({shouldCreatePIN:!1})}componentDidUpdate(e){this.props.authToken!==e.authToken&&this.props.authToken&&this.props.dispatchSignInThenClaimServer({serverEntityID:this.props.serverEntityID,authToken:this.props.authToken})}render(){const{isBusy:e,isDisabled:t,pinID:n,code:r}=this.props;return n?g.createElement($Ze,{component:wZe,code:r,pinID:n}):g.createElement(aZe,{isSpinning:e,isDisabled:t,onPress:this.onClaimServerPress})}}const eTe=(0,v.$j)(vwe,JZe)(XZe),tTe={dispatchPreloadPIN:fZe,dispatchBeginPolling:IZe,dispatchStopPolling:SZe,dispatchSignInThenClaimServer:xwe};class nTe extends g.Component{constructor(){super(...arguments),this.onClaimServerPress=()=>{this.props.dispatchBeginPolling({pinID:this.props.pinID})},this.onStillTherePress=()=>{this.props.dispatchPreloadPIN()}}componentDidMount(){this.props.dispatchPreloadPIN()}componentDidUpdate(e){this.props.authToken!==e.authToken&&this.props.authToken&&this.props.dispatchSignInThenClaimServer({serverEntityID:this.props.serverEntityID,authToken:this.props.authToken})}componentWillUnmount(){this.props.dispatchStopPolling()}render(){const{code:e,pinID:t,isBusy:n,isDisabled:r}=this.props;return n||this.props.code?g.createElement($Ze,{component:aZe,code:e,pinID:t,isSpinning:n,isDisabled:r||!t,onPress:this.onClaimServerPress}):g.createElement(KV.Z,{message:(0,Ce.Z)("Server claiming timed out. {openLink}Try again?{closeLink}"),tags:[{open:"openLink",close:"closeLink",component:pw.Z,kind:ic._8,onPress:this.onStillTherePress}]})}}const rTe=(0,v.$j)(vwe,tTe)(nTe),iTe="UnclaimedServer-message-30oUkw",aTe="UnclaimedServer-messageHeader-EfR0fl",sTe="UnclaimedServer-messageDetails-7tuEJy",oTe=function(e){const{serverEntityID:t,isBusy:n,isAnonymousUser:r,isUserRestricted:i,ClaimServerButtonConnectorComponent:a}=e;return g.createElement("div",{className:"UnclaimedServer-container-TAJWcX"},g.createElement(zwe,{serverEntityID:t}),r?g.createElement("div",{className:iTe},g.createElement("div",{className:aTe},(0,Ce.Z)("This server is unclaimed and not secure")),g.createElement("div",{className:sTe},(0,Ce.Z)("You need to sign in to claim this server."))):null,i?g.createElement("div",{className:iTe},g.createElement("div",{className:aTe},(0,Ce.Z)("This server is unclaimed and not secure")),g.createElement("div",{className:sTe},(0,Ce.Z)("You are signed in as a managed user.")),g.createElement("div",{className:sTe},(0,Ce.Z)("Switch to a full user account to claim this server."))):null,r||i?null:g.createElement("div",{className:iTe},g.createElement("div",{className:aTe},(0,Ce.Z)("This server is unclaimed and not secure")),g.createElement("div",{className:sTe},(0,Ce.Z)("Claiming this server will associate it with your Plex account. This helps your devices find each other and helps keep your media safe."))),g.createElement(a,{serverEntityID:t,isBusy:n,isDisabled:r||i}))};var lTe=Object.defineProperty,cTe=Object.prototype.hasOwnProperty,dTe=Object.getOwnPropertySymbols,uTe=Object.prototype.propertyIsEnumerable,pTe=(e,t,n)=>t in e?lTe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const mTe="SIGNED_IN_BUTTON",hTe="SIGNED_OUT_POLL_BUTTON",gTe="SIGNED_OUT_LAUNCH_BUTTON",yTe={dispatchClaimServer:Awe},vTe={[mTe]:cZe,[hTe]:rTe,[gTe]:eTe};class fTe extends g.Component{render(){const{serverEntityID:e,componentType:t,isBusy:n,isAnonymousUser:r,isUserRestricted:i}=this.props;return g.createElement(oTe,{serverEntityID:e,isBusy:n,isAnonymousUser:r,isUserRestricted:i,ClaimServerButtonConnectorComponent:vTe[t]})}}const bTe=(0,v.$j)((function(){return(0,fe.P1)(vwe,Xt.Z,(0,wn.Z)("isSignedIn"),(0,wn.Z)("restricted"),((e,t,n,r)=>{let i;return i=n?mTe:Xwe()?hTe:gTe,((e,t)=>{for(var n in t||(t={}))cTe.call(t,n)&&pTe(e,n,t[n]);if(dTe)for(var n of dTe(t))uTe.call(t,n)&&pTe(e,n,t[n]);return e})({componentType:i,isUserRestricted:!!r,isAnonymousUser:t},e)}))}),yTe)(fTe);var ITe=Object.defineProperty,STe=Object.prototype.hasOwnProperty,MTe=Object.getOwnPropertySymbols,ETe=Object.prototype.propertyIsEnumerable,PTe=(e,t,n)=>t in e?ITe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,DTe=(e,t)=>{for(var n in t||(t={}))STe.call(t,n)&&PTe(e,n,t[n]);if(MTe)for(var n of MTe(t))ETe.call(t,n)&&PTe(e,n,t[n]);return e};const CTe=(0,v.$j)((function(){return(0,fe.P1)((0,fe.P1)((0,LT.Z)(),ywe(),((e,t)=>!!(e&&e.isClaimed&&t&&t.signedIn))),(e=>({isServerClaimed:e})))}))((function(e){const t=e,{isServerClaimed:n}=t,r=((e,t)=>{var n={};for(var r in e)STe.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&MTe)for(var r of MTe(e))t.indexOf(r)<0&&ETe.call(e,r)&&(n[r]=e[r]);return n})(t,["isServerClaimed"]);return n?g.createElement($we,DTe({},r)):g.createElement(bTe,DTe({},r))})),wTe=rle.extend({template:()=>"",mountReact(){const e=(0,b.DB)("appStore"),t=this.model.entityID();y.render(g.createElement(v.zt,{store:e},g.createElement(CTe,{serverEntityID:t})),this.el)}});var ZTe=n(70716),TTe=n(42094),NTe=n.n(TTe);function OTe(e){return e?e.split("\n"):[]}const ATe=Xpe.Z.extend({name:"releaseNotesModal",template:NTe(),serializeData:function(){var e=this.model.toJSON();return e.escapedVersion=S().escape(e.version.replace(/-.*/gi,"")),e.added=OTe(e.added),e.fixed=OTe(e.fixed),e}});var xTe=n(35549),jTe=n.n(xTe),LTe=Object.defineProperty,kTe=Object.prototype.hasOwnProperty,RTe=Object.getOwnPropertySymbols,zTe=Object.prototype.propertyIsEnumerable,UTe=(e,t,n)=>t in e?LTe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,VTe=(e,t)=>{for(var n in t||(t={}))kTe.call(t,n)&&UTe(e,n,t[n]);if(RTe)for(var n of RTe(t))zTe.call(t,n)&&UTe(e,n,t[n]);return e};const BTe=VTe(VTe({},o),{CHECKING:"checking"}),FTe=p.Z.ItemView.extend({tagName:"span",className:"check-for-updates-container",template:jTe(),ui:{checkForUpdatesBtn:".check-for-updates-btn",downloadUpdatesContainer:".downloading-updates-container",downloadProgressContainer:".downloading-progress-container",downloadProgressLabel:".downloading-progress-label",updateProgressLabel:".downloading-updates-label",updateErrorMessage:".update-error-message",installManualLink:".install-manual-link"},modelEvents:{"change:isChecking":"onIsCheckingChange","change:state":"onStateChange","change:progress":"onProgressChange"},events:{"click .check-for-updates-btn":"onCheckForUpdatesClick","click .available-updates-btn":"onDownloadUpdatesClick","click .install-updates-btn":"onInstallUpdatesClick","click .install-manual-link":"onInstallManualClick","click .release-notes-btn":"onInfoClick"},initialize:function(){b.DB("appStore").dispatch(HCe({serverEntityID:this.model.server.entityID()}))},serializeData:function(){return{canCheckForUpdate:this.canCheckForUpdate(this.model)}},checkForUpdates:function(e={}){b.DB("appStore").dispatch(QCe({serverEntityID:this.model.server.entityID(),download:e.download,initialState:e.initialState}))},dismissUpdates:function(){b.DB("appStore").dispatch(GCe({serverEntityID:this.model.server.entityID(),version:(0,ZTe.Z)(this.model.get("version"))}))},downloadUpdates:function(){b.DB("appStore").dispatch(WCe({serverEntityID:this.model.server.entityID()}))},installUpdates:function(){b.DB("appStore").dispatch(YCe({serverEntityID:this.model.server.entityID()}))},waitForInstall:function(){this.onWaitingForInstallCheck(),this.listenTo(this.model.server,"change:isConnected",this.onServerConnectedChange)},setCurrentViewState:function(e){this.$el.removeClass(this.currentViewState),this.currentViewState=e,this.$el.addClass(this.currentViewState)},showUpdateState:function(){var e=this.model.get("state");this.model.previous("state")===uPe&&this.stopListening(this.model.server,"change:isConnected",this.onServerConnectedChange);var t=e;this.model.get("canInstall")||e!==sPe?this.model.get("isChecking")&&(t=BTe.CHECKING):t=BTe.NOTIFY,this.setCurrentViewState(t);var n=!(!this.model.get("added")&&!this.model.get("fixed"));if(this.$el.toggleClass("has-release-notes",n),t===BTe.INSTALLING)this.waitForInstall();else if(t===BTe.ERROR||t===BTe.NOTIFY){var r;this.model.get("error")?(r=this.model.get("error"),this.ui.installManualLink.addClass("hidden")):this.model.get("canInstall")?(r=(0,Ce.Z)("Something went wrong."),this.ui.installManualLink.removeClass("hidden")):(r=(0,Ce.Z)("An update is available."),this.ui.installManualLink.removeClass("hidden"));var i=b.DB("appModel").get("user").server,a=this.model.get("downloadURL")||i.get("appsUrl");this.ui.installManualLink.attr("href",a),this.ui.updateErrorMessage.text(r)}},canCheckForUpdate:function(e){const t=e.get("state");return!e.get("isChecking")&&(t===oPe||t===dPe||t===pPe)},onViewStateChange:function(e){this.isRendered&&(this.showUpdateState(),this.ui.checkForUpdatesBtn.toggleClass("active",!this.canCheckForUpdate(e)))},onRender:function(){this.showUpdateState()},onIsCheckingChange:function(e){this.onViewStateChange(e)},onStateChange:function(e){this.onViewStateChange(e)},onProgressChange:function(e,t){S().isNumber(t)?(this.ui.downloadUpdatesContainer.css({"background-size":t+"% 100%"}),this.ui.downloadProgressContainer.removeClass("hidden"),this.ui.downloadProgressLabel.text(t)):this.ui.downloadProgressContainer.addClass("hidden")},onServerConnectedChange:function(e,t){t?this.checkForUpdates():this._waitingTimeoutID&&(this._waitingTimeoutID=window.clearTimeout(this._waitingTimeoutID))},onWaitingForInstallCheck:function(){var e=this.model.server;if(e.get("isConnected")&&this.model.get("state")===uPe){var t=e.getXHROptions("/updater/check",{type:"PUT"});h().ajax(t).promise().always((()=>{this._waitingTimeoutID=window.setTimeout(this.onWaitingForInstallCheck.bind(this),2e3)}))}},onCheckForUpdatesClick:function(e){e.preventDefault(),this.ui.checkForUpdatesBtn.isDisabled()||(this.ui.checkForUpdatesBtn.addClass("active"),this.checkForUpdates({download:!0}))},onDownloadUpdatesClick:function(e){e.preventDefault(),this.downloadUpdates()},onInstallUpdatesClick:function(e){e.preventDefault(),this.installUpdates()},onInstallManualClick:function(){this.dismissUpdates()},onInfoClick:function(e){e.preventDefault(),le.Z.trigger("show:modal",new ATe({model:this.model}))}});var _Te=n(93824),HTe=n.n(_Te);const QTe=hwe.extend({template:HTe(),regions:{signIn:".sign-in-region",update:".update-region"},serializeData:function(){var e=hwe.prototype.serializeData.apply(this,arguments),t=S().findWhere(e,{id:"FriendlyName"});return t&&(t.placeholder=this.model.get("friendlyName")),e},bindings:{".version":{modelAttribute:"shortVersion",formatter:function(e){return(0,Ce.Z)("Version {1}",e)}}},onRender:function(){hwe.prototype.onRender.apply(this,arguments),this.signIn.show(new wTe({model:this.model})),this.model.get("updater")&&this.update.show(new FTe({model:this.model.get("desktop").get("update"),collection:this.collection}))}}),GTe=hwe.extend({prefix:"account.",serializeData:function(){const e=this.options.account,t=[],n=Y7.MP.map((e=>({value:e,label:Y7.ZP[e]})));return t.push({id:this.prefix+"autoSelectAudio",label:(0,Ce.Z)("Automatically select audio and subtitle tracks"),summary:(0,Ce.Z)("Automatically select audio and subtitle tracks in your preferred language when possible."),default:!1,value:e.get("autoSelectAudio"),type:"bool",group:"account.language",advanced:!1,hidden:!1}),t.push({id:this.prefix+"defaultAudioLanguage",label:(0,Ce.Z)("Prefer audio tracks in"),default:"en",value:e.get("defaultAudioLanguage"),type:"text",group:"account.language",advanced:!1,hidden:!1,enumValues:n}),t.push({id:this.prefix+"subtitleMode",label:(0,Ce.Z)("Subtitle mode"),default:1,value:parseInt(e.get("subtitleMode"),10),type:"int",group:"account.language",advanced:!1,hidden:!1,enumValues:[{value:0,label:(0,Ce.Z)("Manually selected")},{value:1,label:(0,Ce.Z)("Shown with foreign audio")},{value:2,label:(0,Ce.Z)("Always enabled")}]}),t.push({id:this.prefix+"defaultSubtitleLanguage",label:(0,Ce.Z)("Prefer subtitles in"),default:"en",value:e.get("defaultSubtitleLanguage"),type:"text",group:"account.language",advanced:!1,hidden:!1,enumValues:n}),t},updateModel:function(e,t){const n=hwe.prototype.updateModel.apply(this,arguments);if(n)return n;const r=e.replace(this.prefix,""),i=this.options.account;return i.has(r)?i.set(r,t):void 0}});var WTe=n(23450),YTe=n.n(WTe);const KTe=hwe.extend({className:"remote-access-container",template:YTe(),ui:{manualPortMappingMode:"#ManualPortMappingMode",manualPortMappingPort:"#ManualPortMappingPort",wanTotalMaxUploadRate:"#WanTotalMaxUploadRate",uploadContainer:".remote-access-upload-container",submitBtn:".submit-btn",message:".form-message"},events:{"change .remote-access-error-container input[id]":"onErrorInputChange","click .sign-in-link":"onSignInClick","click .remote-access-enable-btn":"onEnableClick","click .retry-btn":"onRetryClick","click .remote-access-disable-btn":"onDisableClick","change input[name=WanTotalMaxUploadRate]":"onTotalRateChange","keyup input[name=WanTotalMaxUploadRate]":"onTotalRateChange","change select[name=WanPerStreamMaxUploadRate]":"onPerStreamRateChange","submit #remote-access-upload-form":"onUploadFormSubmit"},initialize:function(e){this.cloudAccount=e.cloudAccount,this.changes=e.changes,this.listenTo(this.cloudAccount,{"change:signInState":this.render,"change:remoteAccessState":this.render})},serializeData:function(){var e=this.collection.get("PublishServerOnPlexOnlineKey"),t=this.collection.get("ManualPortMappingMode"),n=this.collection.get("ManualPortMappingPort"),r=this.collection.get("WanTotalMaxUploadRate"),i=this.collection.get("WanPerStreamMaxUploadRate"),a=this.cloudAccount.toJSON(),s=!e.get("value"),o=!a.signedIn,l=s||o;const c=!(!a.privateAddress||null==a.privatePort),d=!(!a.publicAddress||null==a.publicPort);var u={forceAdvanced:!s&&!!a.mappingError,isDisabled:s,isSignedOut:o,isUnavailable:l,canEditPort:!l&&t&&t.get("value"),hasPrivateAddress:c,hasPublicAddress:d,cloudAccount:a,hasMappingSettings:!(!t||!n),hasUploadLimitSettings:!(!r||!i),mappingModeSetting:t?t.toJSON():null,mappingPortSetting:n?n.toJSON():null,uploadSettings:[]};return r&&(u.totalRateSettingID=r.id,u.totalRateSettingValue=r.get("value")/1e3),i&&u.uploadSettings.push(i.toJSON()),u},enable:function(){},enableUploadForm:function(){this.isDisabled=!1,this.ui.message.text(""),this.ui.message.removeClass("has-error"),this.ui.submitBtn.removeClass("disabled")},updateUploadSetting:function(e,t){e&&this.updateModel(e,t)&&(this.changes[e]=t,this.enable())},connect:function(){return vle.Z.execute("connectServer",{cloudAccount:this.cloudAccount,value:!0})},disconnect:function(){return vle.Z.execute("connectServer",{cloudAccount:this.cloudAccount,value:!1})},reconnect:function(){return vle.Z.execute("reconnectServer",{cloudAccount:this.cloudAccount})},saveChanges:function(){if(S().isEmpty(this.changes))return h().Deferred().resolve().promise();var e=this.collection.first().save(this.changes);return e.done(S().bind((function(){this.changes={}}),this)),e},onErrorInputChange:function(e){hwe.prototype.onInputChange.apply(this,arguments),this.ui.manualPortMappingPort.prop("disabled",!this.ui.manualPortMappingMode.prop("checked"))},onSignInClick:function(e){e.preventDefault(),(0,nle.Z)("serverSettings",{machineIdentifier:this.model.id,settingsSection:"settings",settingsGroup:"general"})},onEnableClick:function(e){e.preventDefault(),this.connect()},onDisableClick:function(e){e.preventDefault(),this.disconnect()},onRetryClick:function(e){e.preventDefault(),this.cloudAccount.set("remoteAccessState",lCe),this.saveChanges().always(S().bind(this.reconnect,this))},onTotalRateChange:function(e){var t=e.currentTarget,n=parseFloat(t.value,10),r=S().isNaN(n)?0:Math.max(n,0);this.updateUploadSetting(t.name,1e3*r),this.enableUploadForm()},onPerStreamRateChange:function(e){var t=e.currentTarget;this.updateUploadSetting(t.name,t.value),this.enableUploadForm()},onUploadFormSubmit:function(e){e.preventDefault(),this.trigger("save");var t=this.collection.get("WanTotalMaxUploadRate").get("value"),n=!t;this.ui.wanTotalMaxUploadRate.val(t/1e3),this.ui.uploadContainer.toggleClass("show-warning",n)}});var qTe=n(60235),$Te=n.n(qTe);const JTe=p.Z.ItemView.extend({className:"loading",template:$Te(),initialize:function(e){e&&e.inline&&this.$el.addClass("loading-inline")}});var XTe=n(38784),eNe=n.n(XTe);const tNe=p.Z.ItemView.extend({template:eNe()});var nNe=n(62779);const rNe="pending",iNe="failed",aNe="complete";var sNe=n(43108);const oNe=twe.Z.extend({background:!0,setup:function(e){this.model=e.model,e.noPlaceholder||(this.placeholderClass=ble.Z.playlist);const t=(0,sNe.Z)(),n={width:Math.round((e.width||e.height||256)*t),height:Math.round((e.height||e.width||256)*t),rows:e.rows||2,cols:e.columns||2,border:e.border||0,media:e.media||"thumb",repeat:e.unique?0:1},r=this.model.get("composite");r&&(this.url=this.model.server.resolveUrl(E.Z.join(r,n),{appendToken:!0}))}});var lNe=n(74527);const cNe=["Bytes","KB","MB","GB","TB"],dNe=function(e,t){if(e=parseInt(e,10),t=t||1,S().isNaN(e))return"";if(0===e)return"0 Bytes";const n=parseInt(Math.floor(Math.log(e)/Math.log(1024)),10);return(e/Math.pow(1024,n)).toFixed(t)+" "+cNe[n]},uNe={OK:"ok",FILE_UNAVAILABLE:"sourceFileUnavailable",METADATA_ERROR:"sourceFileMetadataError",PROFILE_ERROR:"clientProfileError",IO_ERROR:"ioError",TRANSCODER_ERROR:"transcoderError",UNKNOWN_ERROR:"unknownError",ANALYSIS_ERROR:"mediaAnalysisError",DOWNLOAD_FAILED:"downloadFailed",CANNOT_TRANSCODE:"cannotTranscode"};var pNe=n(66330),mNe=n.n(pNe);const hNe=p.Z.Layout.extend({tagName:"li",className:"striped-list-item version-generator-metadata-list-item",template:mNe(),ui:{poster:".media-poster"},regions:{statusRegion:".conversion-status-region"},events:{"click .enable-btn":"onEnableClick","click .retry-btn":"onRetryClick"},modelEvents:{"change:processingState":"onProcessingStateChange"},initialize:function(e){this.generator=e.generator,this.transcodeJobs=e.transcodeJobs,this.pausedSetting=e.pausedSetting,this.type=this.model.get("type"),this.image=new Ile.Z({model:this.model,type:"movie",height:60,modelAttribute:"episode"===this.type?"grandparentThumb":"thumb"})},bindings:{".generator-metadata-title":{modelAttribute:"title",formatter:function(e){return this.model.get("grandparentTitle")||this.model.get("parentTitle")||e}},".generator-metadata-episode-index":{modelAttribute:"index",autohide:!0,formatter:function(e){if("episode"===this.type)return(0,xo.Z)({seasonIndex:this.model.get("parentIndex"),episodeIndex:e,date:this.model.get("originallyAvailableAt"),noLeadingZero:!0,separator:"  "})}},".generator-metadata-year":{modelAttribute:"year",autohide:!0,formatter:function(e){if("movie"===this.type)return e}},".conversion-status-failed-message":{modelAttribute:"processingStateContext",formatter:function(e){return this.getErrorMessage(e)}}},getErrorMessage:function(e){var t=uNe;switch(e){case t.FILE_UNAVAILABLE:return(0,Ce.Z)("File unavailable");case t.METADATA_ERROR:return(0,Ce.Z)("Invalid metadata");case t.PROFILE_ERROR:return(0,Ce.Z)("Invalid profile");case t.ANALYSIS_ERROR:return(0,Ce.Z)("Unable to analyze")}return(0,Ce.Z)("Unable to convert")},onRender:function(){this.image.setElement(this.ui.poster),this.statusRegion.show(new Tle({model:this.model,generator:this.generator,transcodeJobs:this.transcodeJobs,pausedSetting:this.pausedSetting,initialState:this.model.get("processingState"),initialErrorMessage:this.getErrorMessage(this.model.get("processingStateContext"))}))},onClose:function(){this.image.close()},onProcessingStateChange:function(e,t){this.statusRegion.currentView&&this.statusRegion.currentView.enterState(t)},onEnableClick:function(e){e.preventDefault(),vle.Z.execute("enableVersionGenerator",{generator:this.model.generator,ratingKey:this.model.id})},onRetryClick:function(e){e.preventDefault(),vle.Z.execute("reprocessVersionGenerator",{generator:this.model.generator,ratingKey:this.model.id})}}),gNe=ile.Z.extend({tagName:"ul",className:"list version-generator-metadata-list",itemView:hNe});var yNe=n(63565),vNe=n.n(yNe);const fNe=Xpe.Z.extend({mixins:[de.Z],name:"versionGeneratorMetadataModal",className:"version-generator-metadata-modal modal fade",template:vNe(),pageSize:20,scrollThreshold:50,ui:{body:".modal-body",loading:".loading",errorMessage:".error-message"},regions:{listRegion:".list-region"},initialize:function(e){this.status=this.model.get("status"),this.listModel=e.listModel,this.collection=this.listModel.get("metadataItems"),this.transcodeJobs=e.transcodeJobs,this.pausedSetting=e.pausedSetting,this.handleScroll=S().throttle(this.whenRendered(this.onScroll),100)},states:{base:{},loading:{onEnter:function(){this.ui.loading.removeClass("hidden")},onExit:function(){this.ui.loading.addClass("hidden")}},error:{onEnter:function(){this.ui.errorMessage.removeClass("hidden")},onExit:function(){this.ui.errorMessage.addClass("hidden")}}},bindings:{".generator-title":{modelAttribute:"title"},".generator-items-count":{model:"status",modelAttribute:"itemsCount",formatter:function(e){return 1===e?(0,Ce.Z)("{1} item",e):(0,Ce.Z)("{1} items",e)}},".generator-total-size":{model:"status",modelAttribute:"totalSize",formatter:function(e){return e?dNe(e):(0,Ce.Z)("0 files")}},".generator-failure-container":{model:"status",modelAttribute:"failure",manual:!0,autohide:function(e){return!!e}},".generator-failure-message":{model:"status",modelAttribute:"failure",formatter:function(e){return e}}},populatePage:function(){this.enterState("loading");var e=this.listModel.populateRange({start:0,end:this.listModel.get("populatedRange").end+this.pageSize});return e.done(this.whenRendered((function(){this.enterState("base")}))),e.fail(this.whenRendered((function(){this.enterState("error")}))),e},onRender:function(){Xpe.Z.prototype.onRender.apply(this,arguments),this.ui.body.on("scroll",this.handleScroll),this.model.fetch(),this.populatePage(),this.listRegion.show(new gNe({collection:this.collection,itemViewOptions:{generator:this.model,transcodeJobs:this.transcodeJobs,pausedSetting:this.pausedSetting}}))},onClose:function(){this.ui.body.off("scroll",this.handleScroll),this.collection.reset()},onScroll:function(){"error"!==this.currentState&&this.ui.body.prop("scrollHeight")-this.ui.body.innerHeight()-this.ui.body.scrollTop()<this.scrollThreshold&&this.listModel.get("populatedRange").end<this.listModel.get("totalSize")&&this.populatePage()}});var bNe=n(15379),INe=n.n(bNe);const SNe=p.Z.ItemView.extend({className:"striped-list-item media-list-item playlist-item version-generator-item",tagName:"li",template:INe(),ui:{poster:".media-poster",status:".generator-status"},events:{"click .playlist-inner-item":"onClick","click .retry-btn":"onRetryClick","click .edit-btn":"onEditClick","click .delete-btn":"onDeleteClick"},attributes:function(){return{"data-generator-id":this.model.id}},initialize:function(e){this.transcodeJobs=e.transcodeJobs,this.pausedSetting=e.pausedSetting,this.status=this.model.get("status"),this.compositeImage=new oNe({model:this.model,width:nNe.Z.getPosterWidth("movie",60),height:60,rows:1,columns:1}),this.listenTo(this.transcodeJobs,"reset add remove",this.onTranscodeJobsChange)},resetState:function(){var e=["converting",rNe,aNe,iNe];this.ui.status.removeClass(e.join(" "))},getState:function(e){return this.transcodeJobs.findWhere({generatorID:this.model.id})?"converting":e.get("itemsFailedCount")>0?iNe:e.get("state")},bindings:{".generator-title":{modelAttribute:"title"},".generator-target":{modelAttribute:"target"},".generator-status":{model:"status",modelAttribute:"state",modelListeners:["state","itemsFailedCount"],manual:!0,formatter:function(e,t){this.resetState(),t.addClass(this.getState(this.status))}},".generator-status-failed-message":{model:"status",modelAttribute:"itemsFailedCount",formatter:function(e){return 1===e?(0,Ce.Z)("1 failed item"):(0,Ce.Z)("{1} failed items",e)}},".retry-btn":{model:"status",modelAttribute:"state",modelListeners:["state","itemsFailedCount"],manual:!0,autohide:function(e){return this.getState(this.status)===iNe}}},onRender:function(){this.compositeImage.setElement(this.ui.poster)},onClose:function(){this.compositeImage.close()},onTranscodeJobsChange:function(){var e=this.getState(this.status);this.resetState(),this.ui.status.addClass(e)},onClick:function(e){e.preventDefault(),le.Z.trigger("show:modal",new fNe({model:this.model,listModel:this.model.get("children"),transcodeJobs:this.transcodeJobs,pausedSetting:this.pausedSetting}))},onRetryClick:function(e){e.preventDefault(),e.stopImmediatePropagation(),vle.Z.execute("reprocessVersionGenerator",{generator:this.model})},onEditClick:function(e){e.preventDefault(),e.stopImmediatePropagation(),le.Z.trigger("show:modal",new lNe.Z({model:this.model}))},onDeleteClick:function(e){e.preventDefault(),e.stopImmediatePropagation(),vle.Z.execute("deleteVersionGenerator",{generator:this.model})}}),MNe=ile.Z.extend({tagName:"ol",className:"list media-list playlist-items",itemView:SNe,emptyView:tNe,sorted:!0,onRender:function(){this.sortable&&this.sortable.destroy(),this.sortable=new(yle())(this.el,{onUpdate:S().bind(this.onItemMove,this),handle:".sortable-handle",animation:200,scroll:!0,scrollSensitivity:100,scrollSpeed:2})},onClose:function(){this.sortable&&this.sortable.destroy()},onItemMove:function(e){var t=h()(e.item).data("generator-id"),n=h()(e.item).prev().data("generator-id");this.collection.parent.moveItem(t,n)}});var ENe=n(6160),PNe=n.n(ENe);const DNe=p.Z.ItemView.extend({template:PNe(),serializeData:function(){return{isTranscoderRequired:!this.model.get("transcoderVideo"),isUpgradeRequired:!this.model.supports("streamReady"),escapedMinServerVersion:S().escape(ib.Z.streamReady)}}});var CNe=n(77512),wNe=n.n(CNe);const ZNe=hwe.extend({mixins:[de.Z],className:"versions-container",template:wNe(),ui:{message:".versions-status-message"},regions:{listRegion:".background-processing-list-region"},events:{"click .delete-all-btn":"onDeleteAllVersionsClick","click .status-conversion-btn":"onStatusConversionClick"},initialize:function(e){this.pausedSetting=this.collection.get("BackgroundQueueIdlePaused"),this.playlists=new Yoe.Z([],{server:this.model,allowInCache:!0}),this.transcodeJobs=this.model.get("desktop").get("backgroundTranscodeJobs")},initialState:"loading",states:{loading:{nextState:"list",onEnter:function(){var e=this.model.supports("streamReady"),t=this.model.get("transcoderVideo");if(this.listRegion.show(new JTe({inline:!0})),e&&t){var n=h().when(this.playlists.populate(),this.transcodeJobs.fetch());(n=n.then(S().bind((function(){return this.playlist=this.playlists.first(),this.playlist?(this.generators=this.playlist.get("children"),this.generators.fetch()):h().Deferred().reject().promise()}),this))).done(this.whenRendered((function(){this.enterNextState()}))),n.fail(this.whenRendered((function(){this.enterState("error")})))}else this.enterState("error")}},list:{onEnter:function(){this.toggleMessage(),this.listenTo(this.generators,"reset add remove",this.toggleMessage),this.listRegion.show(new MNe({collection:this.generators,itemViewOptions:{transcodeJobs:this.transcodeJobs,pausedSetting:this.pausedSetting}}))},onExit:function(){this.stopListening(this.generators)}},error:{onEnter:function(){this.listRegion.show(new DNe({model:this.model}))}}},toggleMessage:function(){this.ui.message.toggleClass("hidden",!this.generators.length)},onRender:function(){this.enterNextState()},onDeleteAllVersionsClick:function(e){e.preventDefault(),vle.Z.execute("deleteAllVersionGenerators",{server:this.model}).then(S().bind((function(){return this.generators.fetch()}),this))},onStatusConversionClick:function(e){e.preventDefault(),(0,nle.Z)("serverSettings",{machineIdentifier:this.model.id,settingsSection:"status",settingsGroup:"conversion"})}});var TNe=n(61573),NNe=n.n(TNe);const ONe=p.Z.Layout.extend({className:"server-settings-container",template:NNe(),remoteAccessDecorators:{connecting:"unknown",disconnecting:"unknown",unreachable:"error",ok:"success"},regions:{serverDropdown:".filter-bar",nav:".nav-region",pane:".pane-region"},events:{"click .toggle-advanced-btn":"onToggleAdvancedClick"},panes:{general:{constructor:QTe,group:"general",title:"General",isVisible:!0},remoteAccess:{constructor:KTe,group:"remoteAccess",title:"Remote Access",isVisible:!0},versions:{constructor:ZNe,group:"versions",title:"Optimized Versions",isVisible:!0},agents:{constructor:uwe,group:"agents",title:"Agents",isVisible:!0},library:{constructor:hwe,group:"library",title:"Library"},channels:{constructor:gwe,group:"channels",title:"Plugins",isVisible:!0},network:{constructor:hwe,group:"network",title:"Network"},transcoder:{constructor:hwe,group:"transcoder",title:"Transcoder"},languages:{constructor:GTe,group:"account.language",title:"Languages",isVisible:!0},dlna:{constructor:hwe,group:"dlna",title:"DLNA"},butler:{constructor:hwe,group:"butler",title:"Scheduled Tasks"},extras:{constructor:hwe,group:"extras",title:"Extras"}},initialize:function(e){this.defaultGroup=e.group||"general",this.account=e.account,this.cloudAccount=e.cloudAccount,this.channelSettings=e.channelSettings,this.tempSettings=this.collection.cloneDeep(),this.tempAccount=this.account.clone(),this.tempChannelSettings=this.channelSettings.cloneDeep(),this.changes={};var t=(0,b.DB)("appModel").get("user").get("experienceSettings").get("showAdvancedSettings");if(this.$el.toggleClass("show-advanced",t),this.initGroups(),this.model.supports("reachability")){var n=S().extend(this.model.getXHROptions("/myplex/refreshReachability"),{type:"PUT"});h().ajax(n)}this.listenTo(le.Z,"shortcut:save",this.saveChanges),this.listenTo(this.collection,"change:value",this.onSettingValueChange)},initGroups:function(){var e=S().keys(this.panes);const t=S().unique(this.collection.filter((e=>e.get("group")&&!e.get("hidden"))).map((e=>e.get("group"))));this.groups=new ple.ZP.Collection,e.forEach((e=>{const n=this.panes[e],r=n.isVisible;(!0===r||!1!==r&&S().contains(t,e))&&this.addGroup(e,n)})),S().each(t,(function(t){if(!S().contains(e,t)){var n={constructor:hwe,group:t,title:t};this.panes[t]=n,this.addGroup(t,n)}}),this)},addGroup:function(e,t){var n=S().omit(t,"constructor");n.id=e,this.groups.add(n)},showPane:function(e){if(this.currentPane){if(this.currentPane.isActive)return this.currentPane;this.stopListening(this.currentPane),this.flushChanges()}var t=this.panes[e];t&&this.groups.get(e)||(0,nle.Z)("serverSettings",{machineIdentifier:this.model.id,settingsSection:"settings",settingsGroup:"general"});var n=new(0,t.constructor)({model:this.model,collection:this.tempSettings,account:this.tempAccount,cloudAccount:this.cloudAccount,channelSettings:this.tempChannelSettings,group:t.group,changes:this.changes});return this.currentPane=n,this.pane.show(n),this.listenTo(this.currentPane,"save",this.saveChanges),n},flushChanges:function(){this.currentPane.changes&&S().extend(this.changes,this.currentPane.changes)},saveChanges:function(){if(this.flushChanges(),!this.currentPane.isDisabled&&!this.currentPane.isActive){this.currentPane.triggerMethod("before:save");var e=[],t=this.getPrefixedChanges("channel."),n=this.getPrefixedChanges("account.");if(!S().isEmpty(t)){var r=this.channelSettings.first().getSaveParams(t),i=S().result(this.channelSettings,"url"),a=E.Z.join([i,"/set"],r);e.push(h().ajax(this.model.getXHROptions(a)))}S().isEmpty(n)||e.push(this.account.save(n)),S().isEmpty(this.changes)||e.push(this.collection.first().save(this.changes));var s=h().when.apply(h(),e);s.done(S().bind((function(){var e=S().keys(this.changes);S().each(e,(function(e){var t=this.tempSettings.get(e);this.collection.get(e).set("value",t.get("value")),"ButlerUpdateChannel"===e&&this.onButlerUpdateChannelChange()}),this),this.changes={},this.currentPane&&(this.currentPane.changes&&(this.currentPane.changes={}),this.currentPane.triggerMethod("after:save",!0))}),this)),s.fail(S().bind((function(){this.currentPane&&this.currentPane.triggerMethod("after:save",!1)}),this))}},getPrefixedChanges:function(e){var t={};return S().each(this.changes,(function(n,r){0===r.lastIndexOf(e,0)&&(t[r.substring(e.length)]=n,delete this.changes[r])}),this),t},onRender:function(){this.showPane(this.defaultGroup)},onClose:function(){this.currentPane=null},onSettingValueChange:function(e,t){this.tempSettings.get(e.id).set("value",t)},onServerConnectedChange:function(e,t){t&&(this.stopListening(e,"change:connected",this.onServerConnectedChange),(0,b.DB)("appModel").set("primaryServer",e))},onToggleAdvancedClick:function(e){e.preventDefault();var t=this.$el.hasClass("show-advanced");(0,b.DB)("appStore").dispatch((0,AM.LN)({showAdvancedSettings:!t})),this.$el.toggleClass("show-advanced",!t)},onButlerUpdateChannelChange:function(){var e=this.collection.get("ButlerTaskCheckForUpdates");e&&e.get("value")&&(0,b.DB)("appStore").dispatch(QCe({serverEntityID:this.model.entityID(),download:!1}))}});var ANe=n(34198),xNe=n(65531),jNe=n(81071);const LNe=(0,v.$j)((function(){return(0,fe.P1)((0,LT.Z)(),(0,fe.P1)(((e,{settingsSection:t})=>t),((e,{settingsGroup:t})=>t),((e,t)=>{const n=S().findWhere(DCe,{key:e});return S().findWhere(n.groups,{key:t}).title()})),((e,t)=>({friendlyName:e?e.friendlyName:"",sourceTitle:e?e.sourceTitle:"",isShared:!(!e||!e.isShared),settingsTitle:t})))}))((function(e){const{friendlyName:t,sourceTitle:n,settingsTitle:r,isShared:i}=e,a={friendlyName:t,sourceTitle:n,isShared:i},s=MT(a),o=ST(a),l=s&&o?`${s} (${o})`:s;return g.createElement(mae,null,l,g.createElement(rs.Z,null),r)}));var kNe=Object.defineProperty,RNe=Object.prototype.hasOwnProperty,zNe=Object.getOwnPropertySymbols,UNe=Object.prototype.propertyIsEnumerable,VNe=(e,t,n)=>t in e?kNe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,BNe=(e,t)=>{for(var n in t||(t={}))RNe.call(t,n)&&VNe(e,n,t[n]);if(zNe)for(var n of zNe(t))UNe.call(t,n)&&VNe(e,n,t[n]);return e};const FNe=(0,v.$j)((function(){return(0,fe.P1)(((e,{settingsSection:t})=>t),((e,{settingsGroup:t})=>t),wCe(),(0,LT.Z)(),ab.Z,((e,t,n,r,i)=>{const a=function(e,t,n){const r=e.find((e=>e.key===t));return r?r.groups.find((e=>e.key===n)):null}(n,e,t);return{machineIdentifier:r&&r.machineIdentifier,providerIdentifier:i&&i.identifier,isInstallingServerUpdate:!(!r||!r.isInstallingServerUpdate),isUnavailable:!(!r||!r.isUnavailable),isUnauthorized:!(!r||!r.isUnauthorized),isSettingAccessible:!!a,isSettingsPending:!(!r||!r.desktop.isSettingsPending),pageComponent:a&&a.pageComponent,paneComponent:a&&a.paneComponent}}))}))((function(e){const t=e,{serverEntityID:n,providerEntityID:r,machineIdentifier:i,providerIdentifier:a,viewDataErrorMessage:s,isViewDataPending:o,isInstallingServerUpdate:l,isUnavailable:c,isUnauthorized:d,isSettingAccessible:u,isSettingsPending:p,settingsSection:m,settingsGroup:h,pageComponent:y,paneComponent:v,contentView:f}=t,b=((e,t)=>{var n={};for(var r in e)RNe.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&zNe)for(var r of zNe(e))t.indexOf(r)<0&&UNe.call(e,r)&&(n[r]=e[r]);return n})(t,["serverEntityID","providerEntityID","machineIdentifier","providerIdentifier","viewDataErrorMessage","isViewDataPending","isInstallingServerUpdate","isUnavailable","isUnauthorized","isSettingAccessible","isSettingsPending","settingsSection","settingsGroup","pageComponent","paneComponent","contentView"]);return l?g.createElement(jNe.Z,{serverEntityID:n}):o?g.createElement(CK.Z,null,g.createElement(Mx.Z,null)):c?g.createElement(xNe.Z,{serverEntityID:e.serverEntityID}):d?g.createElement(ANe.Z,null):s?g.createElement(PK.Z,{title:s}):u?y?g.createElement(y,BNe({serverEntityID:n},ZCe(m,h))):g.createElement(uae,BNe({},ZCe(m,h)),g.createElement(LNe,{serverEntityID:n,settingsSection:m,settingsGroup:h}),v?g.createElement(v,{serverEntityID:n,providerEntityID:r,machineIdentifier:i,providerIdentifier:a}):g.createElement(hEe,{view:f||ONe,viewOptions:b})):p?g.createElement(CK.Z,null,g.createElement(Mx.Z,null)):g.createElement(PK.Z,{title:(0,Ce.Z)("There was an unexpected error loading the settings")})})),_Ne=(0,Un.Z)(xn.Z,(e=>e.filter((e=>e.isPrimaryEligible)))),HNe=(0,fe.P1)(_Ne,(0,ob.Z)(bn.PL),((e,t)=>e.reduce(((e,n)=>{const r=n.allowSync&&!t;return n.isShared&&!r||n.isOutOfDate||e.push(n.entityID),e}),[]))),QNe=(0,UA.Z)((0,fe.P1)(xn.Z,(e=>e.filter((e=>(e.isFullOwnedServer||e.isShared)&&e.isConnected)))),(e=>e));function GNe(e){const{className:t,children:n}=e;return g.createElement("div",{className:t},n)}GNe.defaultProps={className:"SidebarContainer-sidebarContainer-1vIvH_"};const WNe=GNe;var YNe=Object.defineProperty,KNe=Object.prototype.hasOwnProperty,qNe=Object.getOwnPropertySymbols,$Ne=Object.prototype.propertyIsEnumerable,JNe=(e,t,n)=>t in e?YNe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;function XNe(e){const{className:t}=e;return g.createElement(rU.Z,((e,t)=>{for(var n in t||(t={}))KNe.call(t,n)&&JNe(e,n,t[n]);if(qNe)for(var n of qNe(t))$Ne.call(t,n)&&JNe(e,n,t[n]);return e})({className:t,autoScroll:!0},e))}XNe.defaultProps={className:"SidebarScroller-scroller-2S4vok"};const eOe=XNe;function tOe(e,t){return e&&t?`${t} (${e})`:t||e}const nOe=function(e){const t=e.activeConnection;let n,r=!1;return e.isConnected&&t?n=e.isOutOfDate?(0,Ce.Z)("Needs Update"):t.relay?(0,Ce.Z)("Indirect"):t.isPrivate?(0,Ce.Z)("Nearby"):(0,Ce.Z)("Remote"):e.isRelayed?n=(0,Ce.Z)("Indirect"):e.isUnavailable?n=(0,Ce.Z)("Unavailable"):e.isUnauthorized?n=(0,Ce.Z)("Unauthorized"):(r=!0,n=(0,Ce.Z)("Connecting")),{isConnecting:r,status:n}};class rOe extends g.Component{shouldComponentUpdate(e,t){return(0,At.Z)(this,e,t)}render(){const{children:e,className:t,friendlyNameClassName:n,detailsClassName:r,to:i,isDisabled:a,isSelected:s,identifier:o,title:l,details:c,onPress:d}=this.props;return g.createElement(ec.Z,{className:Te()(t,"ServerMenuItem-serverMenuItem-2DEyv7",s&&"ServerMenuItem-selectedServerMenuItem-2adnD7"),"data-qa-id":"serverMenuItem--"+o,to:i,isDisabled:a,onPress:d},g.createElement("div",{className:"ServerMenuItem-serverMenuItemContainer-21s1QS"},g.createElement("div",{className:"ServerMenuItem-serverMenuTitle-3cCSOb"},g.createElement("div",{className:n},l),g.createElement("div",{className:r},c)),g.createElement("div",{className:"ServerMenuItem-serverMenuIconContainer-oPnm2s"},s?g.createElement(Ko.Z,{className:Te()("ServerMenuItem-serverMenuIcon-QhVrzu","ServerMenuItem-selectedIcon-g_vsnY"),"aria-label":(0,Ce.Z)("Selected")}):null,e)))}}rOe.defaultProps={friendlyNameClassName:"ServerMenuItem-serverMenuFriendlyName-TDFGhw",detailsClassName:"ServerMenuItem-serverMenuDetails-pjhSWh"};const iOe=rOe;var aOe=Object.defineProperty,sOe=Object.prototype.hasOwnProperty,oOe=Object.getOwnPropertySymbols,lOe=Object.prototype.propertyIsEnumerable,cOe=(e,t,n)=>t in e?aOe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const dOe=function(e){const{className:t,isFullOwnedServer:n,isInstallingServerUpdate:r,isUnavailable:i,isSettingsPending:a}=e;return r||n&&a&&!i?g.createElement("div",{className:t},g.createElement(Mx.Z,{className:"ServerSettingsStatusIcon-spinner-2DICL-",size:Rp.HC})):g.createElement(Gde,((e,t)=>{for(var n in t||(t={}))sOe.call(t,n)&&cOe(e,n,t[n]);if(oOe)for(var n of oOe(t))lOe.call(t,n)&&cOe(e,n,t[n]);return e})({},e))},uOe=(0,v.$j)((function(){return(0,fe.P1)((0,LT.Z)(),(e=>({machineIdentifier:e.machineIdentifier,friendlyName:e.friendlyName,sourceTitle:e.sourceTitle,activeConnection:e.activeConnection,isFullOwnedServer:e.isFullOwnedServer,isInstallingServerUpdate:e.isInstallingServerUpdate,isConnected:e.isConnected,isShared:e.isShared,isUnavailable:e.isUnavailable,isSecure:e.isSecure,isRelayed:e.isRelayed,isSettingsPending:e.desktop.isSettingsPending})))}))((function(e){const{isSelected:t,activeConnection:n,isConnected:r,isShared:i,isUnavailable:a,isSecure:s,isRelayed:o,machineIdentifier:l,friendlyName:c,sourceTitle:d,isFullOwnedServer:u,isInstallingServerUpdate:p,isSettingsPending:m,settingsSection:h,settingsGroup:y}=e,v={activeConnection:n,friendlyName:c,sourceTitle:d,isFullOwnedServer:u,isShared:i,isConnected:r,isRelayed:o,isUnavailable:a},{isConnecting:f,status:b}=nOe(v),I=tOe(ST(v),b),S=u&&m||f||a;return g.createElement(iOe,{className:Te()(S&&"ServerSettingsServerMenuItem-disabled-1ObuBp"),friendlyNameClassName:"ServerSettingsServerMenuItem-friendlyName-vaTBWs",detailsClassName:"ServerSettingsServerMenuItem-details-3iJcIe",to:(0,Nv.Z)(l,h||"settings",y||"general"),isDisabled:f,isSelected:t,identifier:l,title:MT(v),details:I},g.createElement(dOe,{className:"ServerSettingsServerMenuItem-icon-Wtwdnn",isFullOwnedServer:u,isInstallingServerUpdate:p,isSettingsPending:m,isUnavailable:a,isRelayed:o,isSecure:s,isConnected:r}))})),pOe=5*parseInt(ng.Z.serverMenuItemHeight,10),mOe={className:"ServerSettingsServerMenu-serverMenuScroller-2Pqkgc Menu-menuScroller-2QYiIo Scroller-vertical-3IY07c",scrollDirection:tZ.yZ,autoScroll:!0},hOe=function(e){const{target:t,serverEntityIDs:n,selectedServerEntityID:r,settingsSection:i,settingsGroup:a,isOpen:s,onMenuClose:o}=e;return g.createElement(Xl.Z,{className:"ServerSettingsServerMenu-serverMenu-B1afpR Menu-menu-1qURRT",target:t,isOpen:s,scrollerProps:mOe,maxHeight:pOe,onMenuClose:o},n.map((e=>g.createElement(uOe,{key:e,serverEntityID:e,isSelected:e===r,settingsSection:i,settingsGroup:a}))))};function gOe(e){const{className:t,secondaryTitleClassName:n,id:r,isLoading:i,isMenuOpen:a,isDisabled:s,isSelected:o,primaryTitle:l,secondaryTitle:c,children:d,spinnerComponent:u,onPress:p}=e;return g.createElement(pw.Z,{id:r,className:Te()(t,s&&"SidebarMenuButton-isDisabled-3uDhUC"),"aria-haspopup":!s,"data-qa-id":"serverMenuButton",isSelected:o,isDisabled:s,onPress:p},g.createElement("div",{className:"SidebarMenuButton-sidebarMenuButtonContainer-jYZOZ_"},g.createElement("span",{className:"SidebarMenuButton-sidebarMenuTitle-7MYP6E"},g.createElement("span",{className:"SidebarMenuButton-sidebarMenuPrimaryTitleContainer-2IPtYo"},g.createElement("span",{className:"SidebarMenuButton-sidebarMenuPrimaryTitle-26y45t"},l),s?null:g.createElement(Lp.Z,{direction:a?kp.UP:kp.WV,isSelected:o})),c?g.createElement("span",{className:n},c):null),i?g.createElement(u,{size:Rp.HC,className:"SidebarMenuButton-sidebarMenuSpinner-Qwy8Cx"}):d))}gOe.defaultProps={className:"SidebarMenuButton-sidebarMenuButton-VHBccN",secondaryTitleClassName:"SidebarMenuButton-sidebarMenuSecondaryTitle-iojdie",isMenuOpen:!1,isSelected:!0,isDisabled:!1,isLoading:!1,spinnerComponent:EF.Z};const yOe=gOe;var vOe=Object.defineProperty,fOe=Object.prototype.hasOwnProperty,bOe=Object.getOwnPropertySymbols,IOe=Object.prototype.propertyIsEnumerable,SOe=(e,t,n)=>t in e?vOe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const MOe=function(e){return g.createElement(yOe,((e,t)=>{for(var n in t||(t={}))fOe.call(t,n)&&SOe(e,n,t[n]);if(bOe)for(var n of bOe(t))IOe.call(t,n)&&SOe(e,n,t[n]);return e})({spinnerComponent:Mx.Z},e))},EOe=(0,v.$j)((function(){return(0,fe.P1)((0,LT.Z)(),(e=>({machineIdentifier:e.machineIdentifier,friendlyName:e.friendlyName,isFullOwnedServer:e.isFullOwnedServer,isInstallingServerUpdate:e.isInstallingServerUpdate,isShared:e.isShared,isConnected:e.isConnected,isUnavailable:e.isUnavailable,isSettingsPending:e.desktop.isSettingsPending,isSecure:e.isSecure,isRelayed:e.isRelayed,sourceTitle:e.sourceTitle})))}))((function(e){const{id:t,friendlyName:n,sourceTitle:r,isFullOwnedServer:i,isShared:a,isConnected:s,isInstallingServerUpdate:o,isSelected:l,isUnavailable:c,isSecure:d,isSettingsPending:u,isRelayed:p,isMenuOpen:m,onPress:h}=e,y={friendlyName:n,sourceTitle:r,isShared:a},v=tOe(ST(y),p?(0,Ce.Z)("Indirect"):null);return g.createElement(MOe,{className:"ServerSettingsServerMenuButton-button-156qhk SidebarMenuButton-sidebarMenuButton-VHBccN",secondaryTitleClassName:"ServerSettingsServerMenuButton-secondaryTitle-1OUi5Y SidebarMenuButton-sidebarMenuSecondaryTitle-iojdie",id:t,isMenuOpen:m,primaryTitle:MT(y),secondaryTitle:v,isSelected:l,onPress:h},g.createElement(dOe,{className:"ServerSettingsServerMenuButton-icon-3Q1tco",isFullOwnedServer:i,isInstallingServerUpdate:o,isSettingsPending:u,isUnavailable:c,isRelayed:p,isSecure:d,isConnected:s}))}));var POe=Object.defineProperty,DOe=Object.prototype.hasOwnProperty,COe=Object.getOwnPropertySymbols,wOe=Object.prototype.propertyIsEnumerable,ZOe=(e,t,n)=>t in e?POe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;function TOe(e){const t=e,{className:n,children:r,iconClassName:i,titleClassName:a,iconSrc:s,iconComponent:o,iconNode:l,title:c,showSpinner:d}=t,u=((e,t)=>{var n={};for(var r in e)DOe.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&COe)for(var r of COe(e))t.indexOf(r)<0&&wOe.call(e,r)&&(n[r]=e[r]);return n})(t,["className","children","iconClassName","titleClassName","iconSrc","iconComponent","iconNode","title","showSpinner"]);let p;return s?p=g.createElement("img",{className:"SidebarLink-iconImg-24ANZL",src:s}):o?p=g.createElement(o,null):l&&(p=l),g.createElement(pw.Z,((e,t)=>{for(var n in t||(t={}))DOe.call(t,n)&&ZOe(e,n,t[n]);if(COe)for(var n of COe(t))wOe.call(t,n)&&ZOe(e,n,t[n]);return e})({className:n},u),g.createElement("div",{className:"SidebarLink-container-1vCtY0"},g.createElement("div",{className:i},d?g.createElement(EF.Z,{className:"SidebarLink-spinner-1QWfkj"}):p),c?g.createElement("div",{className:a},c):null,function(e){const t=[];return g.Children.forEach(e,(e=>{g.isValidElement(e)&&t.push(e)})),t}(r).length?g.createElement("div",{className:"SidebarLink-children-1-mrW_"},r):null))}TOe.defaultProps={className:"SidebarLink-sidebarLink-3mZvPo Link-default-1mYhCE",iconClassName:"SidebarLink-icon-2dcOmX",titleClassName:"SidebarLink-title-lt99zB"};const NOe=TOe;function OOe({className:e,children:t}){return g.createElement("div",{className:e},t)}OOe.defaultProps={className:"SidebarListItem-sidebarListItem-1lVYvr"};const AOe=OOe;var xOe=Object.defineProperty,jOe=Object.prototype.hasOwnProperty,LOe=Object.getOwnPropertySymbols,kOe=Object.prototype.propertyIsEnumerable,ROe=(e,t,n)=>t in e?xOe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const zOe=function(e){return g.createElement(AOe,null,g.createElement(NOe,((e,t)=>{for(var n in t||(t={}))jOe.call(t,n)&&ROe(e,n,t[n]);if(LOe)for(var n of LOe(t))kOe.call(t,n)&&ROe(e,n,t[n]);return e})({},e)))},UOe=function({message:e,children:t}){return g.createElement("div",null,g.createElement("p",{className:"SidebarMessage-sidebarMessage-11THS1"},e),t)};var VOe=n(25540),BOe=n(22876);function FOe(e){var t=e["aria-label"],n=e.className,r=e.style,i={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-unlock-560"};i["aria-hidden"]=!t,i.style=r,i.className=oa.Z.plexIcon+(n?" "+n:"");var a=[g.createElement.apply(g,["path",{d:"m280 160c-.02-7.756.721-15.486 2.2-23.072 1.088-5.577 2.576-11.076 4.449-16.441 1.885-5.402 4.161-10.668 6.801-15.743 3.116-5.991 6.74-11.716 10.817-17.099 4.132-5.455 8.728-10.557 13.723-15.235 4.912-4.6 10.208-8.789 15.818-12.507 5.443-3.608 11.181-6.772 17.14-9.446 9.443-4.237 19.436-7.236 29.653-8.897 4.12-.67 8.275-1.124 12.442-1.362 2.181-.125 4.365-.187 6.55-.197.387-.001.775 0 1.163.001 2.183.018 4.365.087 6.544.218 4.164.251 8.316.718 12.431 1.401 10.208 1.693 20.188 4.721 29.615 8.986 6.059 2.742 11.888 5.99 17.409 9.697 5.686 3.818 11.044 8.122 16.001 12.848 4.953 4.722 9.504 9.866 13.587 15.358 4.103 5.519 7.732 11.389 10.831 17.527 2.581 5.113 4.794 10.411 6.615 15.841 1.769 5.278 3.167 10.68 4.182 16.154 1.342 7.242 2.012 14.609 1.987 21.968l-59.984 0 .006-.197c-.015-4.685-.564-9.366-1.661-13.92-1.309-5.431-3.394-10.668-6.165-15.518-3.266-5.718-7.478-10.89-12.403-15.261-4.517-4.009-9.633-7.341-15.137-9.831-4.624-2.092-9.514-3.584-14.518-4.43-2.184-.37-4.388-.617-6.599-.743-1.106-.063-2.212-.094-3.319-.1-.394 0-.788.002-1.183.008-1.165.02-2.329.07-3.492.155-2.199.16-4.389.441-6.558.843-4.921.912-9.722 2.451-14.257 4.57-5.472 2.557-10.548 5.95-15.017 10.012-4.873 4.429-9.022 9.651-12.219 15.408-2.715 4.888-4.736 10.156-5.979 15.608-.985 4.326-1.478 8.761-1.492 13.197l.007.199 0 80 60.012 0 0 280-360 0 0-280 240 0 0-80m-40 280l0-45.359c11.952-6.92 20-19.848 20-34.641 0-22.077-17.923-40-40-40-22.077 0-40 17.923-40 40 0 14.793 8.048 27.721 20 34.641l0 45.359 40 0"}].concat([]))];return t&&a.unshift(g.createElement("title",null,t)),g.createElement.apply(g,["svg",i].concat(a))}FOe.propTypes={"aria-label":sa().string,className:sa().string,style:sa().object};const _Oe=FOe;class HOe extends g.Component{constructor(e,t){super(e,t),this.onRemoveServerPress=e=>{this.setState({isRemoveModalOpen:!0})},this.onRemoveConfirm=()=>{this.setState({isRemoveModalOpen:!1}),this.props.onDeleteServerConfirm(this.props.machineIdentifier)},this.onRemoveCancel=()=>{this.setState({isRemoveModalOpen:!1})},this.onAllowInsecureConnectionPress=e=>{this.setState({isAllowInsecureConnectionModalOpen:!0})},this.onAllowInsecureConnectionCancel=e=>{this.setState({isAllowInsecureConnectionModalOpen:!1})},this.state={isRemoveModalOpen:!1,isAllowInsecureConnectionModalOpen:!1}}shouldComponentUpdate(e,t){return(0,At.Z)(this,e,t)}render(){const{serverEntityID:e,friendlyName:t,presence:n,isPending:r,isBundled:i,isCloudServerResourcesPending:a,isFullServer:s,isFullOwnedServer:o,isInstallingServerUpdate:l,httpsRequired:c,hasHttpsConnections:d,hasFallbackConnections:u,onTryAgainPress:p}=this.props,{isRemoveModalOpen:m,isAllowInsecureConnectionModalOpen:h}=this.state;let y,v,f,b,I;if(l)y=!1,v=!1,f=!1,b=!1,I=(0,Ce.Z)('Once the server "{serverName}" has finished installing the update, Plex will automatically try to reconnect to this server.',{serverName:t});else{const e={isFullServer:s,presence:n,httpsRequired:c,hasHttpsConnections:d,hasFallbackConnections:u};y=(0,BOe.E)(e),v=(0,BOe.P)(e)||y,f=!v,b=o&&!i,I=v?(0,Ce.Z)('Unable to connect to "{serverName}" securely.',{serverName:t}):(0,Ce.Z)('The server "{serverName}" is unreachable. Make sure it\'s running, double check your network, and try again.',{serverName:t})}const S=a||r,M=S?(0,Ce.Z)("Connecting"):(0,Ce.Z)("Try again");return g.createElement(UOe,{message:I},g.createElement(zOe,{iconComponent:pve.Z,title:M,showSpinner:S,isDisabled:S,onPress:p}),y?g.createElement(g.Fragment,null,g.createElement(zOe,{iconComponent:_Oe,title:(0,Ce.Z)("Allow insecure connection"),onPress:this.onAllowInsecureConnectionPress}),g.createElement(VOe.Z,{serverEntityID:e,isOpen:h,onModalClose:this.onAllowInsecureConnectionCancel})):null,v?g.createElement(zOe,{to:iy.pQ,target:"_blank",iconComponent:mCe,title:(0,Ce.Z)("Learn more")}):null,f?g.createElement(zOe,{to:"https://help.plex.tv/noserver",target:"_blank",iconComponent:mCe,title:(0,Ce.Z)("Where is my server?")}):null,b?g.createElement(g.Fragment,null,g.createElement(zOe,{iconComponent:cu.Z,title:(0,Ce.Z)("Remove server"),onPress:this.onRemoveServerPress}),g.createElement(yt.Z,{isOpen:m,metricsPage:pt.RN,kind:ic.T,title:(0,Ce.Z)("Remove {serverName}",{serverName:t}),message:(0,Ce.Z)("If this server is restarted, it will automatically be added to your account again."),confirmLabel:(0,Ce.Z)("Remove"),onConfirm:this.onRemoveConfirm,onCancel:this.onRemoveCancel})):null)}}const QOe=HOe,GOe=(0,oC.Z)((function(){return(0,fe.P1)(Ie,(0,LT.Z)(),((e,t)=>({machineIdentifier:t.machineIdentifier,friendlyName:t.friendlyName,presence:t.presence,isPending:t.isPending,isFullServer:t.isFullServer,isFullOwnedServer:t.isFullOwnedServer,isInstallingServerUpdate:t.isInstallingServerUpdate,isBundled:t.isBundled,isCloudServerResourcesPending:e.isResourcesPending,httpsRequired:t.httpsRequired,hasHttpsConnections:t.hasHttpsConnections,hasFallbackConnections:t.hasFallbackConnections})))}),(function(e,t){const n={serverEntityID:t.serverEntityID,metricsPage:t.metricsPage};return{onDeleteServerConfirm(){e(UT.Af(n))},onTryAgainPress(){e((0,mt.bc)()),e(wC.Vk(n))}}}))(QOe);function WOe(e){const{className:t,headerContainerClassName:n,headerClassName:r,children:i,title:a,icon:s,onRef:o}=e;return g.createElement("div",{className:t,role:"navigation",ref:o},g.createElement("div",{className:n},g.createElement("div",{className:r,role:"header"},a),s?g.createElement("div",{className:"SidebarList-sidebarListHeaderIcon-oBdFeH"},s):null),i)}WOe.defaultProps={headerContainerClassName:"SidebarList-sidebarListHeaderContainer-1GI2VK",headerClassName:"SidebarList-sidebarListHeader-h_4BGW"};const YOe=WOe;var KOe=Object.defineProperty,qOe=Object.prototype.hasOwnProperty,$Oe=Object.getOwnPropertySymbols,JOe=Object.prototype.propertyIsEnumerable,XOe=(e,t,n)=>t in e?KOe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const eAe=function(e){return g.createElement(YOe,((e,t)=>{for(var n in t||(t={}))qOe.call(t,n)&&XOe(e,n,t[n]);if($Oe)for(var n of $Oe(t))JOe.call(t,n)&&XOe(e,n,t[n]);return e})({headerClassName:"SettingsSidebarList-header-2Da_fH SidebarList-sidebarListHeader-h_4BGW"},e))},tAe=function(e){const{className:t,children:n,selectableKey:r,selectedKey:i,to:a,title:s}=e,o=i&&i===r;let l;return/^#/.test(a)||(l=Jwe()?"_blank":"_self"),g.createElement(zOe,{key:r,className:t,target:l,to:a,iconClassName:o?"SettingsSidebarListLink-selectedIcon-2HnebI SettingsSidebarListLink-icon-YbwY7p SidebarLink-icon-2dcOmX":"SettingsSidebarListLink-icon-YbwY7p SidebarLink-icon-2dcOmX",title:s,isSelected:o},n)},nAe=function(e){const{serverEntityID:t,machineIdentifier:n,selectedKey:r,isShared:i,isInstallingServerUpdate:a,isUnavailable:s,isSettingsPending:o,settingsSections:l}=e;return a||s?g.createElement(GOe,{serverEntityID:t}):o?null:l.map(((e,t)=>{if(i&&1===e.groups.length){const i=e.groups[0];return g.createElement(tAe,{key:t,selectableKey:tle(n,e.key,i.key),selectedKey:r,title:i.title,to:i.route})}return g.createElement(eAe,{key:t,title:e.title},e.groups.map(((i,a)=>g.createElement(tAe,{key:`${t}${a}`,selectableKey:tle(n,e.key,i.key),selectedKey:r,title:i.title,to:i.route},i.statusIndicator))))}))};var rAe=Object.defineProperty,iAe=Object.prototype.hasOwnProperty,aAe=Object.getOwnPropertySymbols,sAe=Object.prototype.propertyIsEnumerable,oAe=(e,t,n)=>t in e?rAe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const lAe={dispatchPopulateSettings:UT.R_};class cAe extends g.Component{componentDidMount(){this._populate()}componentDidUpdate(e){e.serverEntityID!==this.props.serverEntityID&&this._populate()}_populate(){const{serverEntityID:e,isConnected:t,isFullOwnedServer:n,dispatchPopulateSettings:r}=this.props;t&&n&&r({serverEntityID:e})}render(){const e=this.props,{isConnected:t,isFullOwnedServer:n,dispatchPopulateSettings:r}=e,i=((e,t)=>{var n={};for(var r in e)iAe.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&aAe)for(var r of aAe(e))t.indexOf(r)<0&&sAe.call(e,r)&&(n[r]=e[r]);return n})(e,["isConnected","isFullOwnedServer","dispatchPopulateSettings"]);return g.createElement(nAe,((e,t)=>{for(var n in t||(t={}))iAe.call(t,n)&&oAe(e,n,t[n]);if(aAe)for(var n of aAe(t))sAe.call(t,n)&&oAe(e,n,t[n]);return e})({},i))}}const dAe=(0,v.$j)((function(){return(0,fe.P1)((0,LT.Z)(),wCe(),((e,t)=>({machineIdentifier:e.machineIdentifier,friendlyName:e.friendlyName,isShared:e.isShared,isInstallingServerUpdate:e.isInstallingServerUpdate,isConnected:e.isConnected,isUnavailable:e.isUnavailable,isSettingsPending:e.isFullOwnedServer&&e.desktop.isSettingsPending,isFullOwnedServer:e.isFullOwnedServer,settingsSections:t})))}),lAe)(cAe);var uAe=n(77726);const pAe=(0,fe.P1)(uAe.Z,(e=>!1));var mAe=Object.defineProperty,hAe=Object.prototype.hasOwnProperty,gAe=Object.getOwnPropertySymbols,yAe=Object.prototype.propertyIsEnumerable,vAe=(e,t,n)=>t in e?mAe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const fAe=(0,fe.P1)(pAe,(e=>({shouldShowWarning:e}))),bAe=(0,v.$j)(fAe)((function(e){const t=e,{shouldShowWarning:n}=t,r=((e,t)=>{var n={};for(var r in e)hAe.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&gAe)for(var r of gAe(e))t.indexOf(r)<0&&yAe.call(e,r)&&(n[r]=e[r]);return n})(t,["shouldShowWarning"]);return g.createElement(tAe,((e,t)=>{for(var n in t||(t={}))hAe.call(t,n)&&vAe(e,n,t[n]);if(gAe)for(var n of gAe(t))yAe.call(t,n)&&vAe(e,n,t[n]);return e})({},r),n?g.createElement(we.Z,{className:"SettingsSidebar-alertIcon-2e7EKZ"}):null)})),IAe="SettingsSidebarScrollTop";class SAe extends g.Component{constructor(e,t){super(e,t),this.onMeasure=()=>{this.setState({isMeasured:!0})},this.onScrollPositionChange=({scrollTop:e})=>{this.setState({scrollTop:e},(()=>{Kn.Z.set(IAe,e)}))},this.onMenuButtonPress=()=>{this.setState({isMenuOpen:!this.state.isMenuOpen})},this.onMenuClose=()=>{this.setState({isMenuOpen:!1})};const n=Kn.Z.get(IAe);this.state={isMeasured:!1,scrollTop:n||0,isMenuOpen:!1},this._serverMenuButtonID=(0,GE.Z)()}render(){const{manageableServerEntityIDs:e,serverMenuServerEntityID:t,selectedKey:n,isUserSignedIn:r,isUserAnonymous:i,isUserUnrestricted:a,isServerMenuServerEntityIDSelected:s,showAdvancedSettings:o,showQualitySettings:l,showDownloadQualitySettings:c,userTitle:d,settingsSection:u,settingsGroup:p}=this.props,{scrollTop:m,isMenuOpen:h}=this.state,y=ele();return g.createElement(i0.Z,{page:pt.Rs,isDelegated:!0},g.createElement(bx.Z,{ignorePosition:!0,ignoreWidth:!0,onMeasure:this.onMeasure},g.createElement(WNe,null,this.state.isMeasured?g.createElement(eOe,{smoothScroll:!1,scrollTop:m,onScrollPositionChange:this.onScrollPositionChange},g.createElement("div",{className:"SettingsSidebar-sidebarContent-ir1SWJ"},r?g.createElement(eAe,{title:d||(0,Ce.Z)("Settings")},g.createElement(tAe,{selectableKey:"account",selectedKey:n,to:"#!/settings/account",title:(0,Ce.Z)("Account")}),a&&!i?g.createElement(tAe,{selectableKey:"online-media-sources",selectedKey:n,to:"#!/settings/online-media-sources",title:(0,Ce.Z)("Online Media Sources")}):null,a&&!i?g.createElement(tAe,{selectableKey:"devices",selectedKey:n,to:"#!/settings/devices",title:(0,Ce.Z)("Authorized Devices")}):null,a&&!i?g.createElement(tAe,{selectableKey:"webhooks",selectedKey:n,to:"#!/settings/webhooks",title:(0,Ce.Z)("Webhooks")}):null,r&&!i?g.createElement(tAe,{selectableKey:"users-sharing",selectedKey:n,to:"#!/settings/users-sharing",title:(0,Ce.Z)("Users & Sharing")}):null):null,g.createElement(eAe,{title:L.Z.prop("X-Plex-Product"),selectableKey:y,selectedKey:n},g.createElement(bAe,{selectableKey:ele("general"),selectedKey:n,to:"#!/settings/web/general",title:(0,Ce.Z)("General")}),l?g.createElement(tAe,{selectableKey:ele("quality"),selectedKey:n,to:"#!/settings/web/quality",title:(0,Ce.Z)("Quality")}):null,o?g.createElement(tAe,{selectableKey:ele("debug"),selectedKey:n,to:"#!/settings/web/debug",title:(0,Ce.Z)("Debug")}):null,g.createElement(tAe,{selectableKey:ele("player"),selectedKey:n,to:"#!/settings/web/player",title:(0,Ce.Z)("Player")}),c?g.createElement(tAe,{selectableKey:ele("downloads"),selectedKey:n,to:"#!/settings/web/downloads",title:(0,Ce.Z)("Downloads")}):null),t?g.createElement(g.Fragment,null,g.createElement(EOe,{id:this._serverMenuButtonID,serverEntityID:t,isMenuOpen:h,isSelected:s,onPress:this.onMenuButtonPress}),g.createElement(hOe,{target:this._serverMenuButtonID,serverEntityIDs:e,selectedServerEntityID:t,isOpen:h,settingsSection:u,settingsGroup:p,onMenuClose:this.onMenuClose}),g.createElement(dAe,{serverEntityID:t,selectedKey:n})):null)):null)))}}const MAe=SAe,EAe=(0,fe.P1)(QNe,(e=>e.length>0)),PAe=(0,v.$j)((function(){return(0,fe.P1)(((e,{selectedServerEntityID:t})=>t),(e=>e.primaryServer),(e=>e.user.experienceSettings.showAdvancedSettings),(0,ob.Z)(bn.PL),jme.Z,HNe,EAe,((e,t,n,r,i,a,s)=>{const o=function(e,t,n){return n.includes(e)?e:n.includes(t)?t:n?n[0]:null}(e,t,a);return{serverMenuServerEntityID:o,manageableServerEntityIDs:a,isUserSignedIn:i.isSignedIn,isUserAnonymous:i.anonymous,isUserUnrestricted:!i.restricted,isServerMenuServerEntityIDSelected:o===e,showAdvancedSettings:n,showQualitySettings:s,showDownloadQualitySettings:ae.Z.allowSyncDownload&&r,userTitle:i.title}}))}))(MAe);var DAe=Object.defineProperty,CAe=Object.prototype.hasOwnProperty,wAe=Object.getOwnPropertySymbols,ZAe=Object.prototype.propertyIsEnumerable,TAe=(e,t,n)=>t in e?DAe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const NAe=rle.extend({initialize(e){const{serverID:t,settingsSection:n,settingsGroup:r}=e,i=b.DB("appModel"),a=i.get("servers");this.options={settingsSection:n,settingsGroup:r,machineIdentifier:t,isViewDataPending:!0},a.findServer(t).done(this.whenRendered((t=>((0,fn.c9)(),i.set("primaryServer",t),t.get("isConnected")?!t.get("isShared")||t.get("allowSync")&&!i.get("user").get("features").get(bn.PL)?void(!t.get("isShared")||!t.get("allowSync")||"status"===n&&"sync"===r?"settings"===n||"manage"===n?this.initializeServerSettingsView(t,e):"status"===n&&"alerts"===r?this.initializeAlertsView(t):"status"===n&&"conversion"===r?this.initializeConversionView(t):"status"===n&&"sync"===r?this.initializeSyncView(t,e):"status"===n&&"server-dashboard"===r?this.initializeServerDashboardView(t):(this.options.isViewDataPending=!1,this.render()):(0,nle.Z)("serverSettingsStatusSync",{machineIdentifier:t.id})):(Object.assign(this.options,{viewDataErrorMessage:(0,Ce.Z)("You do not have access to this server"),isViewDataPending:!1}),void this.render()):(this.options.isViewDataPending=!t.get("isUnavailable")&&!t.get("isUnauthorized"),void this.render()))))).fail(this.whenRendered((()=>{Object.assign(this.options,{viewDataErrorMessage:(0,Ce.Z)("The server you're trying to access doesn't seem to exist."),isViewDataPending:!1}),this.render()})))},initializeServerSettingsView(e){const t=this.options.settingsGroup,n=e.get("desktop"),r=n.get("settings"),i=new Qoe({key:"/accounts/1"},{server:e}),a=n.get("cloudAccount"),s=new Goe.Z([],{server:e,url:"/system/:/prefs"}),o=h().when(r.fetch(),i.fetch(),a.fetch(),s.fetch());o.done(this.whenRendered((()=>{Object.assign(this.options,{model:e,collection:r,account:i,cloudAccount:a,channelSettings:s,subset:"server",group:t,isViewDataPending:!1}),this.render()}))),o.fail(this.whenRendered((()=>{Object.assign(this.options,{viewDataErrorMessage:(0,Ce.Z)("Server settings are unavailable."),isViewDataPending:!1}),this.render()})))},initializeAlertsView(e){const t=e.get("desktop");Object.assign(this.options,{model:e,collection:t.get("alerts"),subset:"alerts",contentView:ule,isViewDataPending:!1}),this.render()},initializeConversionView(e){const t=e.get("desktop");this.options.contentView=Vle;const n=new Xoe([],{server:e,allowInCache:!0}),r=t.get("backgroundTranscodeJobs"),i=new Yoe.Z([],{server:e,allowInCache:!0});let a,s;const o=h().when(n.populate(),r.fetch(),t.get("settings").fetch(),i.populate()).then((()=>{a=n.first();const e=i.first();return a&&e?(s=e.get("children"),h().when(a.fetch(),s.fetch())):h().Deferred().reject().promise()}));o.done(this.whenRendered((()=>{Object.assign(this.options,{model:e,playQueue:a,transcodeJobs:r,generators:s,subset:"conversion",isViewDataPending:!1}),this.render()}))),o.fail(this.whenRendered((()=>{Object.assign(this.options,{viewDataErrorMessage:(0,Ce.Z)("The conversion queue is unavailable."),isViewDataPending:!1}),this.render()})))},initializeSyncView(e,t){const{deviceID:n}=t;Object.assign(this.options,{contentView:xme});const r=b.DB("appModel").get("user").get("desktop").get("devices"),i=r.populate();i.done(this.whenRendered((()=>{const t=r.filterSyncDevices(),i=n?t.get(n):null;Object.assign(this.options,{model:e,collection:t,selectedDevice:i,subset:"sync",isViewDataPending:!1}),this.render()}))),i.fail(this.whenRendered((()=>{Object.assign(this.options,{viewDataErrorMessage:(0,Ce.Z)("Sync status is unavailable."),isViewDataPending:!1}),this.render()})))},initializeServerDashboardView(e){Object.assign(this.options,{server:e,subset:"server-dashboard",contentView:Fpe,isViewDataPending:!1}),this.render()},component(e){const t=e,{machineIdentifier:n,settingsSection:r,settingsGroup:i,sidebarKey:a}=t,s=((e,t)=>{var n={};for(var r in e)CAe.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&wAe)for(var r of wAe(e))t.indexOf(r)<0&&ZAe.call(e,r)&&(n[r]=e[r]);return n})(t,["machineIdentifier","settingsSection","settingsGroup","sidebarKey"]),o=(0,vn.Z)(Mn.cN,n),l=a||tle(n,r,i);return g.createElement(Pe,null,g.createElement(PAe,{selectedKey:l,settingsSection:r,settingsGroup:i,selectedServerEntityID:o}),g.createElement(FNe,((e,t)=>{for(var n in t||(t={}))CAe.call(t,n)&&TAe(e,n,t[n]);if(wAe)for(var n of wAe(t))ZAe.call(t,n)&&TAe(e,n,t[n]);return e})({serverEntityID:o,providerEntityID:Woe(o),settingsSection:r,settingsGroup:i},s)))}});function OAe(e){const{children:t,isWaitingForServers:n,isAnyServerAuthenticated:r,isWaitingForCloudServer:i,isCloudServerUnauthorized:a,isCloudServerConnected:s,isCloudServerUnavailable:o,isCloudServerDownForMaintenance:l,hasAttemptedSignIn:c,isUserLocked:d,isUserFeaturesPopulated:u,isUserFeaturesError:p,onPopulateUserFeatures:m}=e,h=(0,f.k6)(),y=!!(0,f.$B)({path:[SK.Z.account,SK.Z.announcements,SK.Z.devices,SK.Z.webhooks,SK.Z.onlineMediaSources,SK.Z.userSharingSettings,SK.Z.usersSharing,SK.Z.serverSettingsStatusSync],exact:!0}),[v,b]=(0,g.useState)(p||u),I=(c||o)&&!d,S=I&&s,M=u||p||v||o,E=!n&&!r&&!l&&!o&&I||y&&a;if((0,g.useEffect)((()=>{if(S){const e=window.setTimeout((()=>b(!0)),5e3);return()=>window.clearTimeout(e)}}),[S]),(0,g.useEffect)((()=>{S&&m()}),[S,m]),a7((()=>{h.push(SK.Z.login)}),E),r&&M&&I&&(!y||s))return t;if(!i&&(y||!n&&!r)){if(l)return g.createElement(DK,null);if(o)return g.createElement(ZK,null)}return g.createElement(Ye,null,g.createElement(lt,null))}OAe.defaultProps={isAccountRequired:!1};const AAe=OAe,xAe=(0,fe.P1)((e=>e.downloads),(e=>!!e&&!e.isSubscriptionsPopulated&&!e.subscriptionsError)),jAe=(0,fe.P1)((e=>e.downloads),(e=>!!(e&&e.subscriptions&&e.subscriptions.length>0))),LAe=(0,fe.P1)(xn.Z,(e=>e.some((e=>e.isCloud&&e.isResolved||!e.isCloud&&e.isConnected)))),kAe=(0,fe.P1)((e=>e.isWaitingForServers),xAe,LAe,jAe,jme.Z,Ie,((e,t,n,r,i,a)=>({isWaitingForServers:e||t,isAnyServerAuthenticated:n||r,isWaitingForCloudServer:!a.isResolved&&!a.isRejected,isCloudServerUnauthorized:a.isUnauthorized,isCloudServerConnected:a.isConnected,isCloudServerUnavailable:a.isUnavailable,isCloudServerDownForMaintenance:a.isDownForMaintenance,hasAttemptedSignIn:i.hasAttemptedSignIn,isUserLocked:i.isLocked,isUserFeaturesPopulated:i.isFeaturesPopulated,isUserFeaturesError:!!i.featuresError}))),RAe={onPopulateUserFeatures:AM.$Q},zAe=(0,v.$j)(kAe,RAe)(AAe);function UAe(){const{machineIdentifier:e,deviceID:t}=(0,f.UO)(),n=(0,zO.Z)("ServerSettingsSyncView",e);return g.createElement(zAe,null,g.createElement(hEe,{key:n,view:NAe,viewOptions:{settingsSection:"status",settingsGroup:"sync",serverID:e,deviceID:t}}))}function VAe(){const{machineIdentifier:e,settingsSection:t,settingsGroup:n}=(0,f.UO)(),r=(0,v.v9)(Fn(e)),i=(0,zO.Z)("ServerSettingsView",e,t,n,r.connectionTestResult);return g.createElement(zAe,null,g.createElement(hEe,{key:i,view:NAe,viewOptions:{settingsSection:t,settingsGroup:n,serverID:e}}))}var BAe=Object.defineProperty,FAe=Object.prototype.hasOwnProperty,_Ae=Object.getOwnPropertySymbols,HAe=Object.prototype.propertyIsEnumerable,QAe=(e,t,n)=>t in e?BAe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;function GAe(e){return g.createElement(Pe,((e,t)=>{for(var n in t||(t={}))FAe.call(t,n)&&QAe(e,n,t[n]);if(_Ae)for(var n of _Ae(t))HAe.call(t,n)&&QAe(e,n,t[n]);return e})({},e))}GAe.defaultProps={className:"FullPage-container-3nm6AH FullPage-container-3r7b9Z"};const WAe=GAe;var YAe=n(61682);const KAe="user/signIn/signInWithAuthToken",qAe=(0,bc.Z)(KAe),$Ae={[KAe](e,t,n){const{authToken:r,onSignInSuccess:i}=t,a=e.get("user");a.get("isSignedIn")&&a.get("authToken")!==r?vle.Z.execute("resetUser").then((()=>YAe.Z.set("myPlexAccessToken",r))).then((()=>window.location.reload())):function(e,{authToken:t,onSignInSuccess:n}){const r=e.get("cloudServer"),i=e.get("user");h().ajax(r.getXHROptions(S().result(i,"url"),{headers:{"X-Plex-Token":t}})).then((e=>i.signIn(e))).then((()=>{n&&n()})).fail((e=>{const t=fwe(e);le.Z.trigger("show:alert",{message:Ewe(t)})}))}(e,{authToken:r,onSignInSuccess:i})}},JAe=function(){return g.createElement("div",{className:"PlexHeaderImage-plexImageContainer-3dam9Y"},g.createElement("div",{className:"PlexHeaderImage-plexImage-31_H3X"}))};var XAe=Object.defineProperty,exe=Object.prototype.hasOwnProperty,txe=Object.getOwnPropertySymbols,nxe=Object.prototype.propertyIsEnumerable,rxe=(e,t,n)=>t in e?XAe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;function ixe(e){const t=e,{component:n}=t,r=((e,t)=>{var n={};for(var r in e)exe.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&txe)for(var r of txe(e))t.indexOf(r)<0&&nxe.call(e,r)&&(n[r]=e[r]);return n})(t,["component"]);return g.createElement(n,((e,t)=>{for(var n in t||(t={}))exe.call(t,n)&&rxe(e,n,t[n]);if(txe)for(var n of txe(t))nxe.call(t,n)&&rxe(e,n,t[n]);return e})({className:"SignInFormSection-section-2-kifO"},r))}ixe.defaultProps={component:"div"};const axe=ixe,sxe="SkipSignInMessage-item-3_5PNn",oxe=function(e){return g.createElement(axe,null,g.createElement("div",{className:"SkipSignInMessage-header-1L78DH"},(0,Ce.Z)("You must be signed in for Plex to work properly. If you are not signed in")),g.createElement("ul",{className:"SkipSignInMessage-list-32oqDh"},g.createElement("li",{className:sxe},(0,Ce.Z)("Any connections between your media server and players WILL NOT BE SECURE")),g.createElement("li",{className:sxe},(0,Ce.Z)("You may experience degraded streaming performance")),g.createElement("li",{className:sxe},(0,Ce.Z)("It will be more difficult, and sometimes impossible, to find your server and discover players")),g.createElement("li",{className:sxe},(0,Ce.Z)("You will not be able to access your media server from outside your home")),g.createElement("li",{className:sxe},(0,Ce.Z)("You will not be able to access content and many features provided by Plex"))))};class lxe extends g.Component{constructor(e,t){super(e,t),this.onSwitchToSkipSignInPress=()=>{this.setState({isSkipSignInVisible:!0})},this.onStillTherePress=()=>{this.setState({isSkipSignInVisible:!1}),this.props.onStillTherePress()},this.onSignInPress=()=>{this.setState({isSkipSignInVisible:!1}),this.props.onSignInPress()},this.state={isSkipSignInVisible:!1}}render(){const{to:e,code:t,signUp:n,isBusy:r,onSkipSignInPress:i}=this.props,a=!(r||t),s=!a,o=this.state.isSkipSignInVisible,l=(0,f.LX)(zZe.Z.location.pathname,{path:SK.Z.serverSetup});return g.createElement(rU.Z,{className:"SignInLaunchPagePoll-page-lL6Yfk",autoScroll:!0},l&&!o?g.createElement(pw.Z,{className:"SignInLaunchPagePoll-switchToSkipSignInLink-15y7JQ",kind:ic._8,onPress:this.onSwitchToSkipSignInPress},(0,Ce.Z)("What's this?")):null,g.createElement(JAe,null),g.createElement("div",{className:"SignInLaunchPagePoll-container-D2j_G0"},o?g.createElement(oxe,null):null,g.createElement("div",{className:"SignInLaunchPagePoll-section-HJPNUj"},s?g.createElement(FDe.Z,{className:"SignInLaunchPagePoll-button-3FSSA- SpinnerButton-button-SzW9Jq Button-button-38SEbM Link-link-CM9nxg Button-large-2XkHQ6",kind:ic._8,size:Rp.ln,to:e,target:"_blank",type:"submit",isSpinning:!t,onPress:this.onSignInPress},n?(0,Ce.Z)("Sign up"):(0,Ce.Z)("Sign in")):null,a?g.createElement(pw.Z,{kind:ic._8,onPress:this.onStillTherePress},(0,Ce.Z)("Are you still there?")):null)),o?g.createElement(pw.Z,{className:"SignInLaunchPagePoll-addendumLink-3bmML3",kind:ic._8,onPress:i},(0,Ce.Z)("Skip and accept limited functionality")):null)}}const cxe=lxe;var dxe=Object.defineProperty,uxe=Object.prototype.hasOwnProperty,pxe=Object.getOwnPropertySymbols,mxe=Object.prototype.propertyIsEnumerable,hxe=(e,t,n)=>t in e?dxe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const gxe={dispatchPreloadPIN:fZe,dispatchBeginPolling:IZe,dispatchStopPolling:SZe,dispatchSkipSignIn:MZe};class yxe extends g.Component{constructor(){super(...arguments),this.onSignInPress=()=>{this.props.dispatchBeginPolling({pinID:this.props.pinID})},this.onStillTherePress=()=>{this.props.dispatchPreloadPIN()},this.onSkipSignInPress=()=>{this.props.dispatchSkipSignIn()}}componentDidMount(){this.props.dispatchPreloadPIN()}componentWillUnmount(){this.props.dispatchStopPolling()}render(){const e=this.props,{dispatchPreloadPIN:t,dispatchBeginPolling:n,dispatchStopPolling:r,dispatchSkipSignIn:i}=e,a=((e,t)=>{var n={};for(var r in e)uxe.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&pxe)for(var r of pxe(e))t.indexOf(r)<0&&mxe.call(e,r)&&(n[r]=e[r]);return n})(e,["dispatchPreloadPIN","dispatchBeginPolling","dispatchStopPolling","dispatchSkipSignIn"]);return g.createElement($Ze,((e,t)=>{for(var n in t||(t={}))uxe.call(t,n)&&hxe(e,n,t[n]);if(pxe)for(var n of pxe(t))mxe.call(t,n)&&hxe(e,n,t[n]);return e})({component:cxe,onSignInPress:this.onSignInPress,onStillTherePress:this.onStillTherePress,onSkipSignInPress:this.onSkipSignInPress},a))}}const vxe=(0,v.$j)(vwe,gxe)(yxe);var fxe=Object.defineProperty,bxe=Object.prototype.hasOwnProperty,Ixe=Object.getOwnPropertySymbols,Sxe=Object.prototype.propertyIsEnumerable,Mxe=(e,t,n)=>t in e?fxe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const Exe={dispatchReadStoredPIN:vZe};class Pxe extends g.Component{componentDidMount(){this.props.dispatchReadStoredPIN({shouldCreatePIN:!0})}render(){const e=this.props,{pinID:t,dispatchReadStoredPIN:n}=e,r=((e,t)=>{var n={};for(var r in e)bxe.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&Ixe)for(var r of Ixe(e))t.indexOf(r)<0&&Sxe.call(e,r)&&(n[r]=e[r]);return n})(e,["pinID","dispatchReadStoredPIN"]);return t?g.createElement($Ze,((e,t)=>{for(var n in t||(t={}))bxe.call(t,n)&&Mxe(e,n,t[n]);if(Ixe)for(var n of Ixe(t))Sxe.call(t,n)&&Mxe(e,n,t[n]);return e})({component:wZe,replace:!0,pinID:t},r)):g.createElement(CK.Z,null,g.createElement(Mx.Z,null))}}const Dxe=(0,v.$j)(vwe,Exe)(Pxe);var Cxe=Object.defineProperty,wxe=Object.prototype.hasOwnProperty,Zxe=Object.getOwnPropertySymbols,Txe=Object.prototype.propertyIsEnumerable,Nxe=(e,t,n)=>t in e?Cxe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Oxe=(e,t)=>{for(var n in t||(t={}))wxe.call(t,n)&&Nxe(e,n,t[n]);if(Zxe)for(var n of Zxe(t))Txe.call(t,n)&&Nxe(e,n,t[n]);return e};const Axe={dispatchResetAuthCodeExchange:bZe,dispatchSignInWithAuthToken:qAe};class xxe extends g.Component{componentDidMount(){this.props.dispatchResetAuthCodeExchange()}componentDidUpdate(e){this.props.authToken!==e.authToken&&this.props.authToken&&this.props.dispatchSignInWithAuthToken({authToken:this.props.authToken,onSignInSuccess:this.props.signUp?()=>(0,nle.Z)("home"):null})}render(){const e=this.props,{providerID:t,errorMessage:n,fatalErrorMessage:r,signUp:i,isPollClient:a,dispatchResetAuthCodeExchange:s,dispatchSignInWithAuthToken:o}=e,l=((e,t)=>{var n={};for(var r in e)wxe.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&Zxe)for(var r of Zxe(e))t.indexOf(r)<0&&Txe.call(e,r)&&(n[r]=e[r]);return n})(e,["providerID","errorMessage","fatalErrorMessage","signUp","isPollClient","dispatchResetAuthCodeExchange","dispatchSignInWithAuthToken"]);return r?g.createElement(DK,null):t?g.createElement($Ze,Oxe({component:wZe,providerID:t,signUp:i,replace:!0},l)):a?g.createElement(vxe,Oxe({signUp:i},l)):g.createElement(Dxe,{signUp:i})}}const jxe=(0,v.$j)((function(){return(0,fe.P1)(vwe,(e=>Oxe({isPollClient:Xwe()},e)))}),Axe)(xxe),Lxe=rle.extend({component:e=>g.createElement(Pe,null,g.createElement(jxe,{signUp:e.signUp}))});var kxe=n(40856),Rxe=n.n(kxe);const zxe=p.Z.ItemView.extend({className:"setup-basic-container",template:Rxe(),ui:{modalContainer:".modal-container",connectCheckbox:"#connect",publishServerCheckbox:"#PublishServerOnPlexOnlineKey",submitBtn:".submit-btn",nextBtn:".next-btn"},collectionEvents:{reset:"render"},events:{"change input[id]":"onInputChange","submit #setup-basic-form":"onSubmit","change #PublishServerOnPlexOnlineKey":"onPublishSettingChange"},initialize:function(){S().bindAll(this,"onPlexPassModalClose"),this.collection=this.model.get("desktop").get("settings"),this.collection.populate({reset:!0}),this.model.isVersionOrNewer("0.9.15.5")?this.changes={PublishServerOnPlexOnlineKey:1}:this.changes={FirstRun:0,PublishServerOnPlexOnlineKey:1};var e=this.model.get("superToken");e&&(this.changes.PlexOnlineToken=e);var t=(0,b.DB)("appModel").get("user").get("hasPlexSubscription");this.isPlexPassModalOpen=!this.model.get("isDesktop")&&!t},serializeData:function(){var e=this.model.toJSON(),t=this.collection.get("FriendlyName"),n=this.collection.get("PublishServerOnPlexOnlineKey");return{server:e,friendlyNameSetting:t?t.toJSON():null,publishSetting:n?n.toJSON():null}},mountReact:function(){y.render(g.createElement(v.zt,{store:(0,b.DB)("appStore")},g.createElement(Hp.Z,{origin:Jve.pp,metricsProperties:{context:OC.SETUP_WIZARD,firstRun:!0},isOpen:this.isPlexPassModalOpen,onModalClose:this.onPlexPassModalClose})),this.ui.modalContainer[0])},unmountReact:function(){this.isRendered&&y.unmountComponentAtNode(this.ui.modalContainer[0])},submit:function(){var e=this.ui.submitBtn;if(!e.hasClass("active")){e.addClass("active"),(0,b.DB)("metrics").trackClick({action:ss.pg,page:pt.YB,pane:"name",firstRun:!0,value:this.ui.publishServerCheckbox.is(":checked")});var t=this.save();(t=t.done((()=>{this.ui.nextBtn.click()}))).always((function(){e.removeClass("active")}))}},save(){return this.saveChanges().then((()=>this.claimServer()))},saveChanges(){return(S().isEmpty(this.changes)?h().Deferred().resolve().promise():this.collection.first().save(this.changes)).then(null,(()=>{le.Z.trigger("show:alert",{type:"error",message:(0,Ce.Z)("There was a problem saving these settings.")})}))},claimServer(){const e=(0,b.DB)("appModel"),t=e.get("cloudServer");return!this.model.supports("claimServer")||this.model.get("isClaimed")||this.model.get("superToken")||e.get("user").get("anonymous")?h().Deferred().resolve().promise():(0,W.Z)(t.populate().then((()=>vle.Z.execute("signInServer",{claim:!0,cloudAccount:this.model.get("desktop").get("cloudAccount")}).then(null,(()=>{le.Z.trigger("show:alert",{type:"error",message:(0,Ce.Z)("There was a problem claiming this server.")})})))))},onBeforeRender:function(){this.unmountReact()},onRender:function(){this.mountReact()},onClose:function(){this.unmountReact()},onInputChange:function(e){var t=e.currentTarget,n=t.value;"checkbox"===t.type&&(n=t.checked?1:0),this.changes[t.id]=n},onSubmit:function(e){e.preventDefault(),this.submit()},onPlexPassModalClose:function(){this.isPlexPassModalOpen=!1,this.mountReact()}});var Uxe=n(68002),Vxe=n(92056),Bxe=n(83579),Fxe=n(67749),_xe=n.n(Fxe);const Hxe=p.Z.ItemView.extend({className:"setup-complete-container",template:_xe(),ui:{modalContainer:".modal-container",submitBtn:".submit-btn",doneBtn:".done-btn"},collectionEvents:{reset:"render"},events:{"change input[id]":"onInputChange","submit #setup-complete-form":"onSubmit"},initialize:function(){S().bindAll(this,"onDVRSetupModalClose"),this.collection=this.model.get("desktop").get("settings"),this.collection.populate({reset:!0}),this.changes={},this.isDVRSetupModalOpen=!1;var e=b.DB("appModel").get("user");e.get("isSignedIn")?e.fetch().done(this.whenRendered((()=>{this.ui.submitBtn.removeClass("active")}))):this.once("attached",(()=>{this.ui.submitBtn.removeClass("active")}))},serializeData:function(){var e=this.collection.get("collectUsageData");return{devicesImg:Bxe,collectUsageDataSetting:e?e.toJSON():null}},mountReact:function(){y.render(g.createElement("div",null,this.isDVRSetupModalOpen?g.createElement(v.zt,{store:b.DB("appStore")},g.createElement(uMe,{serverEntityID:this.model.entityID(),isModalOpen:this.isDVRSetupModalOpen,onModalClose:this.onDVRSetupModalClose})):null),this.ui.modalContainer[0])},unmountReact:function(){this.isRendered&&y.unmountComponentAtNode(this.ui.modalContainer[0])},fetchDVRs:function(){const e=h().Deferred();return new Vxe.Z([],{server:this.model}).fetch().then((t=>{t.filter((e=>!e.get("parentID")&&e.get("status")===iIe.vh.ALIVE)).length?e.resolve():e.reject()}),(()=>{e.reject()})),e.promise()},submit:function(){var e=this.ui.submitBtn;e.hasClass("active")||(e.addClass("active"),this.save().always(this.whenRendered((function(){this.ui.doneBtn.click(),e.removeClass("active")}))))},save:function(){this.saved=!0,S().has(this.changes,"collectUsageData")&&!this.changes.collectUsageData&&b.DB("metrics").trackClick({action:ss.mX,page:pt.YB,pane:"complete",firstRun:!0});const e=this.collection.first().save(this.changes),t=this.model.get("sections").filter((e=>e.isNew())).map((e=>e.save())),n=h().when(e,(0,Uxe.Z)(t));return n.fail((()=>{le.Z.trigger("show:alert",{type:"error",message:(0,Ce.Z)("There was a problem saving these settings.")})})),n},onBeforeRender:function(){this.unmountReact()},onRender:function(){this.mountReact()},onClose:function(){this.saved||this.save(),this.unmountReact()},onInputChange:function(e){var t=e.currentTarget,n=t.value;"checkbox"===t.type&&(n=t.checked?1:0),this.changes[t.id]=n},onSubmit:function(e){e.preventDefault(),this.submit()},onDVRSetupModalClose:function(){this.isDVRSetupModalOpen=!1,this.ui.submitBtn.removeClass("active"),this.mountReact()}});var Qxe=n(32747),Gxe=n.n(Qxe);const Wxe=p.Z.ItemView.extend({className:"setup-error-container",template:Gxe()});var Yxe=n(87414),Kxe=n(13353),qxe=n(49730),$xe=n(37648),Jxe=n.n($xe);const Xxe=p.Z.ItemView.extend({className:"setup-intro-container",template:Jxe(),serializeData:()=>({computerImg:Yxe,mediaImg:Kxe,playImg:qxe})});var eje=n(33192),tje=n(25332),nje=n.n(tje),rje={artist:"music",movie:"film",photo:"picture",show:"display"};const ije=p.Z.ItemView.extend({tagName:"li",className:"card-tile-list-single-item",template:nje(),events:{"click .edit-section-btn":"onEditClick","click .delete-section-btn":"onDeleteClick"},serializeData:function(){var e=this.model.server,t=this.model.toJSON(),n=t.locations&&t.locations[0],r=t.locations?t.locations.length:0;return{section:t,serverID:e.id,icon:rje[t.type],path:n.path,more:r-1}},bindings:{".section-title":{modelAttribute:"title"}},onEditClick:function(e){e.preventDefault();const t=this.model,n=new kC.Z({model:t,server:t.server,isDefaultSection:t.isNew()});t.isNew()&&n.promise.always((()=>{t.trigger("destroy",t,t.collection)})),le.Z.trigger("show:modal",n)},onDeleteClick:function(e){e.preventDefault();const t=this.model;t.isNew()?t.trigger("destroy",t,t.collection):vle.Z.execute("deleteSection",{section:t})}}),aje=ile.Z.extend({tagName:"ul",className:"list card-tile-list",itemView:ije});var sje=n(56167),oje=n.n(sje);const lje=p.Z.Layout.extend({className:"setup-library-container",template:oje(),regions:{list:".setup-section-list-container"},events:{"click .add-section-btn":"onAddSectionClick"},metricsValue:function(){return this.collection.size()},initialize:function(e){const t=this.model,n=t.get("sections"),r=new eje.Z([],{server:t,url:"/services/defaultLibraries"});this.collection=n,this.model.supports("defaultSections")&&e.isFirstVisitToSubset&&h().when(r.populate(),n.populate()).done((()=>{n.length||r.forEach((e=>{e.collection=n,n.add(e)}))}))},onRender:function(){this.list.show(new aje({collection:this.collection}))},onAddSectionClick:function(e){e.preventDefault(),le.Z.trigger("show:modal",new kC.Z({server:this.model}))}});var cje=n(36504),dje=n.n(cje);const uje=p.Z.ItemView.extend({className:"setup-loading-container",template:dje()});var pje=n(55978),mje=n.n(pje),hje={setupIntro:"intro",setupError:"error",setupBasic:"name",setupLibrary:"library",setupComplete:"complete"},gje=[TC.HN,TC.NV,TC.E4];const yje=p.Z.Layout.extend({className:"container",template:mje(),maxAttempts:120,ui:{header:".setup-header"},regions:{container:".setup-container"},events:{"click .segment-btn":"onNavClick","click .next-btn":"onNavClick","click .done-btn":"onDoneClick"},onlyAfterRender:["onAgentsSuccess","onAgentsFail","onUpdatesComplete"],initialize:function(e){S().bindAll(this,"start","onAgentsSuccess","onAgentsFail","onUpdatesComplete","onSkipSignInChange"),(0,(0,b.DB)("appStore").dispatch)((0,Yn.ZZ)({allowLightPreset:!1})),this.subset=e.subset||"setupIntro",this.attempts=0,this._visitedSubsets={},M.Z.info("Starting the setup wizard");const t=(0,b.DB)("appModel");this.model=(0,uC.SW)(t,e),this.listenTo(t,"change:skipSignIn",this.onSkipSignInChange)},serializeData:function(){return{subset:this.subset}},renderSubset:function(){if(this.model.get("shared"))return void this.navigate("setupError");const e=(0,b.DB)("appModel"),t=e.get("user").server,n=t.populate();n.done(this.whenRendered((()=>{this.navigate("setupIntro")}))),n.fail((()=>{e.get("primaryServer").get("desktop").get("settings").fetch().then((e=>!0===e.get("AcceptedEULA").get("value")?h().Deferred().resolve():h().Deferred().reject())).then(this.whenRendered((()=>{this.navigate("setupIntro")}))).fail(this.whenRendered((()=>{const n=e.get("skipSignIn"),r=t.get("isUnavailable");this.navigate(n||r?"setupIntro":"setupSignIn")})))}))},start:function(){if(this.attempts>=this.maxAttempts)return M.Z.error("Failed to start the setup wizard after "+this.attempts+" attempts"),void this.navigate("setupError");this.attempts++;var e=this.model.get("startState");if(e)(0,M.Z)("Waiting for server to start ("+e+")"),this.model.fetch().done(S().delay(this.start,500));else{var t=new qCe.Z([],{server:this.model}).fetch({timeout:0});t.done(this.onAgentsSuccess),t.fail(this.onAgentsFail)}},navigate:function(e){var t="setupIntro"===e,n="setupSignIn"===e,r="setupLoading"===e,i=function(e){return{setupSignIn:Lxe,setupIntro:Xxe,setupLoading:uje,setupError:Wxe,setupBasic:zxe,setupLibrary:lje,setupComplete:Hxe}[e]}(e),a=hje[e];this.previousSubset=this.subset,this.subset=e,a&&(0,b.DB)("metrics").trackView({page:pt.YB,pane:a,firstRun:!0});const s=!this._visitedSubsets[e];this._visitedSubsets[e]=!0;const o=new i({model:this.model,isFirstRun:!0,isFirstVisitToSubset:s});this.container.show(o),this.ui.header.toggleClass("hidden",t||n),this.$el.addClass(e),this.previousSubset!==e&&this.$el.removeClass(this.previousSubset),r&&this.start()},onRender:function(){this.renderSubset()},onAgentsSuccess:function(e){(0,M.Z)("Looking for a core agent");const t=gje.find((t=>e.get(t)));t?((0,M.Z)(t+" found"),this.model.get("desktop").get("settings").populate().then((e=>e.get("AcceptedEULA").save({AcceptedEULA:!0}))),vle.Z.execute("updateChannel",{server:this.model,silent:!0}).always(this.onUpdatesComplete)):(M.Z.error("No core agents found"),this.navigate("setupError"))},onAgentsFail:function(){M.Z.warn("Unable to request agents"),S().delay(this.start,500)},onUpdatesComplete:function(){this.navigate("setupBasic")},onNavClick:function(e){e.preventDefault();var t=h()(e.currentTarget),n=t.data("subset");t.hasClass("segment-btn")&&"setupBasic"===this.subset&&this.container.currentView?(e.preventDefault(),this.container.currentView.submit()):this.navigate(n)},onDoneClick:function(e){e.preventDefault(),(0,b.DB)("metrics").trackClick({page:pt.YB,action:ss.ly,firstRun:!0}),(0,nle.Z)("home")},onSkipSignInChange(){this.renderSubset()}});function vje(){return(0,fe.P1)((0,LT.Z)(),(e=>e&&e.desktop))}const fje=(0,v.$j)((function(){return(0,fe.P1)(vje(),(e=>{const t=e.settings.find((e=>"AcceptedEULA"===e.id));return{isSettingsPopulated:e.isSettingsPopulated,settingsError:e.settingsError,hasAcceptedEULA:!(!t||!t.value),isAcceptedEULASaving:!(!t||!t.isSaving)}}))}),(function(e,t){const{serverEntityID:n,forwardUrl:r}=t;return{onPopulateSettings(){e((0,UT.R_)({serverEntityID:n}))},onAcceptEULA(){e((0,UT.o1)({serverEntityID:n,setting:{id:"AcceptedEULA",value:!0}}))},onSkipSignIn(){(0,b.DB)("metrics").trackClick({page:pt.H4,action:ss.AM,firstRun:!0}),e((0,mt.nL)({url:r}))}}}))((function(e){const{isSettingsPopulated:t,settingsError:n,hasAcceptedEULA:r,isAcceptedEULASaving:i,onPopulateSettings:a,onAcceptEULA:s,onSkipSignIn:o}=e;return a7((()=>{a()})),a7((()=>{s()}),t&&!r),a7((()=>{o()}),r&&!i),n?g.createElement(PK.Z,{title:(0,Ce.Z)("Media server not found"),description:(0,Ce.Z)("The server you're trying to access doesn't seem to exist.")}):g.createElement(CK.Z,null,g.createElement(Mx.Z,null))})),bje=(0,v.$j)((function(){return(0,fe.P1)(((e,{serverEntityID:t})=>t),(e=>e.primaryServer),(e=>e.isWaitingForPrimaryServer),Ie,((e,t,n)=>({serverEntityID:e||t,isWaitingForPrimaryServer:n})))}))((function(e){const{serverEntityID:t,isWaitingForPrimaryServer:n}=e,r=(0,De.Z)(),i=(0,EK.Z)(r.forwardUrl);return t?g.createElement(RK.Z,{serverEntityID:t,hideUnclaimedPage:!0},i?g.createElement(fje,{serverEntityID:t,forwardUrl:i}):g.createElement(hEe,{key:(0,zO.Z)("SetupPage",t),className:fmt,view:yje,viewOptions:{serverEntityID:t,subset:"setupBasic"}})):n?g.createElement(CK.Z,null,g.createElement(Mx.Z,null)):g.createElement(PK.Z,{title:(0,Ce.Z)("Media server not found"),description:(0,Ce.Z)("The server you're trying to access doesn't seem to exist.")})}));function Ije(){const e=MK(),t=(0,vn.Z)(Mn.cN,e.machineIdentifier);return g.createElement(WAe,null,g.createElement(zAe,null,g.createElement(bje,{serverEntityID:t})))}function Sje(e,t){const n=t?t.split("\n"):[];return n.length>0?g.createElement(g.Fragment,null,g.createElement("div",{className:"ReleaseNotesModal-listTitle-1XMHtV"},e),g.createElement("ul",null,n.map(((e,t)=>g.createElement("li",{key:t},e))))):null}const Mje=function(e){const{version:t,added:n,fixed:r,isOpen:i,onClose:a}=e;return g.createElement(Zw.Z,{metricsPage:pt.Bc,isOpen:i,onModalClose:a},g.createElement(Tw.Z,{onModalClose:a},g.createElement(vw.Z,null,(0,Ce.Z)("{product} Release Notes",{product:"Plex Media Server"})),g.createElement(hw.Z,null,g.createElement("div",{className:"ReleaseNotesModal-version-2aVHjw"},(0,Ce.Z)("Version {version}",{version:t})),Sje((0,Ce.Z)("New"),n),Sje((0,Ce.Z)("Fixes"),r))))},Eje=function({progress:e}){return g.createElement("div",{className:"ServerDownloadProgressBar-progress-39MXqt"},g.createElement("div",{className:"ServerDownloadProgressBar-emptyBar-YQtJzO"}),g.createElement("div",{className:"ServerDownloadProgressBar-bar-3ntjnu",style:{transform:`translate3d(-${100-e}%, 0, 0)`}}))},Pje="ServerUpdatePage-actionContainer-DxyzWR EmptyPageDescription-description-Q3Qyzg",Dje=(0,v.$j)((function(){return(0,fe.P1)(sb.Z,Ie,vje(),((e,t,n)=>{const r=n.update;return{serverEntityID:e.entityID,friendlyName:e.friendlyName,state:r.state,error:r.error,progress:r.progress,availableVersion:(0,ZTe.Z)(r.version),currentVersion:(0,ZTe.Z)(e.version),downloadURL:r.downloadURL||t.appsUrl,added:r.added,fixed:r.fixed}}))}),(function(e,t){const{serverEntityID:n}=t;return{onDismissServerUpdate(t){e(GCe({serverEntityID:n,version:t}))},onInstallServerUpdate(){e(YCe({serverEntityID:n}))},onDownloadServerUpdate(){e(WCe({serverEntityID:n}))},onRedirectToHome(){e((0,mt.im)({route:"home"}))}}}))((function(e){const{serverEntityID:t,friendlyName:n,state:r,error:i,progress:a,availableVersion:s,currentVersion:o,downloadURL:l,added:c,fixed:d,onDismissServerUpdate:u,onInstallServerUpdate:p,onDownloadServerUpdate:m,onRedirectToHome:h}=e,y=r===pPe||r===oPe,v=(0,GN.Z)(),f=(0,g.useCallback)((()=>{u(s)}),[s,u]);if(a7((()=>{h()}),y),y)return null;if(r===uPe)return g.createElement(jNe.Z,{serverEntityID:t});const b=(0,Ce.Z)("Update available for {product}",{product:"Plex Media Server"});let I=(0,Ce.Z)('You are currently running version {currentVersion} on the server "{friendlyName}". Version {availableVersion} is now available.',{availableVersion:s,currentVersion:o,friendlyName:n});return r===mPe&&(I=I+" "+(0,Ce.Z)("This update will need to be installed manually after download.")),r===dPe?g.createElement(CK.Z,{iconSrc:FK,title:b,description:i||(0,Ce.Z)("Something went wrong, please try again later.")}):g.createElement(CK.Z,{iconSrc:FK,title:(0,Ce.Z)("Update available for {product}",{product:"Plex Media Server"}),description:c||d?g.createElement(KV.Z,{message:I+" "+(0,Ce.Z)("{openLink}Show release notes{closeLink}."),tags:[{open:"openLink",close:"closeLink",component:pw.Z,onPress:v.onOpen,kind:ic._8}]}):I},r===sPe?g.createElement("div",{className:Pje},g.createElement(cb.Z,{kind:ic._8,size:Rp.ln,onPress:m},(0,Ce.Z)("Download now"))):null,r===cPe?g.createElement("div",{className:Pje},g.createElement("div",null,(0,Ce.Z)("Downloading Update ({progress}%)",{progress:a})),isNaN(a)?null:g.createElement("div",{className:"ServerUpdatePage-progressContainer-1LKAfh"},g.createElement(Eje,{progress:a}))):null,r===lPe?g.createElement("div",{className:Pje},g.createElement(cb.Z,{kind:ic._8,size:Rp.ln,onPress:p},(0,Ce.Z)("Install now"))):null,r===mPe?g.createElement("div",{className:Pje},g.createElement(cb.Z,{kind:ic._8,size:Rp.ln,target:"_blank",to:l,onPress:f},(0,Ce.Z)("Download now"))):null,r!==cPe&&r!==lPe?g.createElement(qZ.Z,null,g.createElement(pw.Z,{className:"ServerUpdatePage-link-1hwFrv",kind:ic._8,size:Rp.HC,to:"#",onPress:f},(0,Ce.Z)("Skip this version"))):null,g.createElement(Mje,{isOpen:v.isOpen,version:s,added:c,fixed:d,onClose:v.onClose}))}));function Cje(){const{machineIdentifier:e}=MK(),t=(0,vn.Z)(Mn.cN,e);return g.createElement(RK.Z,{serverEntityID:t},g.createElement(Dje,{serverEntityID:t}))}const wje=(0,fe.P1)(be.Z,(e=>e.transientServer),((e,t)=>e[t]));function Zje(){const{providerIdentifier:e}=MK(),t=(0,v.v9)(wje),n=(0,De.Z)(),r=(0,EK.Z)(n.key);return(null==t?void 0:t.machineIdentifier)&&e?g.createElement(Kie,{machineIdentifier:null==t?void 0:t.machineIdentifier,providerIdentifier:e,metadataKey:r}):g.createElement(sr,null,g.createElement(et,{title:(0,Ce.Z)("No longer available"),description:(0,Ce.Z)("Details can only be mirrored temporarily while casting")},g.createElement(vr,{to:"#",kind:or.Primary},(0,Ce.Z)("Go Home"))))}var Tje=n(58499);function Nje(){return g.createElement(hEe,{key:"UserSelectModal",className:"UserSelectModal-darkModalBackdrop-3c7cEB",view:Tje.Z,viewOptions:{isForced:!0,backdrop:!1}})}var Oje=n(52581),Aje=n(2530),xje=n(48293),jje=n(75300),Lje=n(32091),kje=n(68187),Rje=n(1483),zje=n(1039),Uje=n(19378),Vje=n(6797),Bje=n(11491),Fje=Object.defineProperty,_je=Object.prototype.hasOwnProperty,Hje=Object.getOwnPropertySymbols,Qje=Object.prototype.propertyIsEnumerable,Gje=(e,t,n)=>t in e?Fje(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Wje=(e,t)=>{for(var n in t||(t={}))_je.call(t,n)&&Gje(e,n,t[n]);if(Hje)for(var n of Hje(t))Qje.call(t,n)&&Gje(e,n,t[n]);return e};const Yje="userSharingSettingsPage",Kje="ui/userSharingSettingsPage/resetUserSharingSettingsPage",qje="ui/userSharingSettingsPage/fetchFilterOptionsTags",$je="ui/userSharingSettingsPage/setFriendRestrictions",Jje="ui/userSharingSettingsPage/updateManagedUserProfile",Xje="ui/userSharingSettingsPage/dismissFriendError",eLe="ui/userSharingSettingsPage/fetchSharedSources",tLe="ui/userSharingSettingsPage/populateSharedItem",nLe="ui/userSharingSettingsPage/deleteSharedItem",rLe="ui/userSharingSettingsPage/fetchServerOverviews",iLe="ui/userSharingSettingsPage/fetchServerShares",aLe="ui/userSharingSettingsPage/saveLibraryShares",sLe="ui/userSharingSettingsPage/dismissSharingError",oLe="ui/userSharingSettingsPage/removeServerShare",lLe="ui/userSharingSettingsPage/dismissRemoveServerShareError",cLe="ui/userSharingSettingsPage/addToHome",dLe=(0,bc.Z)(Kje),uLe=(0,bc.Z)(qje),pLe=(0,bc.Z)($je),mLe=(0,bc.Z)(Jje),hLe=(0,bc.Z)(Xje),gLe=(0,bc.Z)(eLe),yLe=(0,bc.Z)(tLe),vLe=(0,bc.Z)(nLe),fLe=(0,bc.Z)(rLe),bLe=(0,bc.Z)(iLe),ILe=(0,bc.Z)(aLe),SLe=(0,bc.Z)(sLe),MLe=(0,bc.Z)(oLe),ELe=(0,bc.Z)(lLe),PLe=(0,bc.Z)(cLe);function DLe(e){return e.get("ui").get("userSharingSettingsPage")}function CLe(e,t,n){return e.map((e=>{if(e.origin!==t)return e;const r=e.sharedItems.filter((e=>e.id!==n));return Wje(Wje({},e),{sharedItems:r})}))}const wLe=(0,VT.Z)({[Kje](e){const t=DLe(e);N.Z.abortAll(Yje),t.restoreDefaults()},[qje](e,t={}){const n=DLe(e),{serverEntityIDs:r}=t,i=r.map((t=>(0,QT.SW)(e,{serverEntityID:t})));N.Z.abortAll(Yje),(0,fn.c9)((()=>{n.set({isFilterOptionsTagsPopulating:!0,isFilterOptionsTagsPopulated:!1})})),(0,Uje.Z)(i,Yje).done((e=>{n.set({filterOptionsTags:e,isFilterOptionsTagsPopulating:!1,isFilterOptionsTagsPopulated:!0})}))},[$je](e,t,n){const r=DLe(e),i=e.get("cloudServer"),{friendEntityID:a,restrictions:s}=t,{restrictionProfileIdentifier:o}=s,l=(0,QT.KC)(e,{friendEntityID:a}),c=(0,QT.bg)(e);let d;if((0,fn.c9)((()=>{r.set({isUpdatingFriend:!0,updateFriendError:null})})),o){const e={userId:l.id};o!==kje.Pq&&(e.restrictionProfile=o);const t=i.getXHROptions("/api/v2/home/users/restricted/profile",{type:"POST",contentType:"application/json",data:JSON.stringify(e),scope:Yje});d=h().ajax(t).then((()=>{const e=c.get("homeUsers").find((e=>e.id===l.id)),t=o===kje.Pq?"":o;return l.fetch().then((()=>{e.set("restrictionProfile",t)}))}))}else{const e=(0,Vje.Z)(s);d=l.save(e)}d.then((()=>{r.set({isUpdatingFriend:!1})}),(()=>{r.set({isUpdatingFriend:!1,updateFriendError:(0,Ce.Z)("Failed to update")})}))},[Jje](e,t,n){const r=DLe(e),i=e.get("cloudServer"),a=e.get("user").get("homeUsers"),{friendEntityID:s,username:o,avatar:l}=t,c=(0,QT.KC)(e,{friendEntityID:s});let d;if((0,fn.c9)((()=>{r.set({isUpdatingFriend:!0,updateFriendError:null})})),o){if(o.trim()===c.get("title"))return void r.set({isUpdatingFriend:!1});if(a.findWhere({title:o.trim()}))return void r.set({isUpdatingFriend:!1,updateFriendError:(0,Ce.Z)("A Home user already exists with this name")});const e={friendlyName:o.trim()},t=i.getXHROptions(`/api/v2/home/users/restricted/${c.id}`,{type:"POST",contentType:"application/json",data:JSON.stringify(e),scope:Yje});d=h().ajax(t)}else l&&(d=(0,Bje.Z)(l,c.id));d.then((()=>{r.set({isUpdatingFriend:!1}),a.fetch(),n((0,oN.RY)()),n((0,oN.Tp)())}),(()=>{r.set({isUpdatingFriend:!1,updateFriendError:(0,Ce.Z)("Failed to update")})}))},[Xje](e,t,n){DLe(e).set({updateFriendError:null})},[eLe](e,t,n){const r=DLe(e),i=e.get("cloudServer");(0,fn.c9)((()=>{r.set({isSharedSourcesPopulating:!0,isSharedSourcesPopulated:!1,sharedSourcesError:null})}));const a=E.Z.join("/api/v2/shared_sources/owned",{invitedId:t.userID,includeItems:!0}),s=E.Z.join("/api/v2/shared_sources/received",{ownerId:t.userID,includeItems:!0}),o=i.getXHROptions(a,{type:"GET",dataType:"json",scope:Yje}),l=i.getXHROptions(s,{type:"GET",dataType:"json",scope:Yje});h().when(h().ajax(o),h().ajax(l)).then(((e,t)=>{r.set({ownedSharedSources:e[0],receivedSharedSources:t[0],isSharedSourcesPopulating:!1,isSharedSourcesPopulated:!0})}),(()=>{r.set({isSharedSourcesPopulating:!1,sharedSourcesError:(0,Ce.Z)("Failed to fetch shared items.")})}))},[tLe](e,t,n){const{serverIdentifier:r,providerIdentifier:i,key:a}=(0,wr.Z)(t.uri),s=e.get("servers").get(r),o=s&&s.get("providers").get(i);o&&o.get("isPopulated")&&new lC.Z({key:a},{server:s,provider:o}).populate()},[nLe](e,t,n){const r=DLe(e),i=e.get("cloudServer"),{id:a,origin:s,isOwnedItem:o}=t;r.set("deleteSharedItemID",a);const l=i.getXHROptions(`/api/v2/shared_items/${a}`,{method:"DELETE",dataType:"json",scope:Yje});h().ajax(l).then((()=>{const e={deleteSharedItemID:null};if(o){const t=CLe(r.get("ownedSharedSources"),s,a);e.ownedSharedSources=t}else{const t=CLe(r.get("receivedSharedSources"),s,a);e.receivedSharedSources=t}r.set(e)}),(()=>{n((0,ZC.wp)({type:"error",message:(0,Ce.Z)("There was a problem removing this shared item.")})),r.set("deleteSharedItemID",null)}))},[rLe](e,t={}){const n=DLe(e),{serverEntityIDs:r}=t;(0,fn.c9)((()=>{n.set({isServerOverviewsPopulating:!0,isServerOverviewsPopulated:!1})})),(0,xje.Z)(r).then((e=>{n.set({isServerOverviewsPopulating:!1,isServerOverviewsPopulated:!0,serverOverviews:e})}))},[iLe](e,t={}){const n=DLe(e),r=(0,QT.KC)(e,t);N.Z.abortAll(Yje),(0,fn.c9)((()=>{n.set({isServerSharesPopulating:!0,isServerSharesPopulated:!1,serverSharesError:null})})),(0,jje.Z)(r,Yje).done((()=>{n.set({isServerSharesPopulating:!1,isServerSharesPopulated:!0})})).fail((()=>{n.set({isServerSharesPopulating:!1,serverSharesError:(0,Ce.Z)("Failed to load shares.")})}))},[aLe](e,t={},n){const r=DLe(e),i=e.get("user");(0,fn.c9)((()=>{r.set({isSharingPending:!0,isSharingCompleted:!1,sharingError:null})}));const{friendEntityID:a,machineIdentifier:s,selectedLibrarySectionIDs:o,isAllLibrariesSelected:l}=t,c=(0,QT.KC)(e,{friendEntityID:a}),d=c.get("serverShares"),u=d.findWhere({machineIdentifier:s}),p=!u,m=!l&&0===o.length,h=l?[]:o;let g;if(p){const e=new zje.Z({machineIdentifier:s});g=(0,Lje.Z)({user:i,friend:c,serverShare:e,librarySectionIDs:h,isNewFriend:!1,isNewServerShare:!0})}else g=m?u.destroy({wait:!0}):(0,Lje.Z)({user:i,friend:c,serverShare:u,librarySectionIDs:h,isNewFriend:!1,isNewServerShare:!1});g.done((e=>{p&&d.add(new zje.Z(e,{server:i.server,parse:!0})),r.set({isSharingPending:!1,isSharingCompleted:!0})})).fail((e=>{r.set({isSharingPending:!1,sharingError:(0,x7.Z)(e,null,"status")||(0,Ce.Z)("Failed to update server shares.")})})).always((()=>{(0,jje.Z)(c,Yje)}))},[sLe](e,t,n){DLe(e).set({sharingError:null})},[oLe](e,t,n){const r=DLe(e);(0,fn.c9)((()=>{r.set({isRemoveServerSharePending:!0,isRemoveServerShareCompleted:!1,removeServerShareError:null})}));const{friendEntityID:i,machineIdentifier:a}=t,s=(0,QT.KC)(e,{friendEntityID:i});s.get("serverShares").findWhere({machineIdentifier:a}).destroy({wait:!0}).done((()=>{r.set({isRemoveServerSharePending:!1,isRemoveServerShareCompleted:!0})})).fail((e=>{r.set({isRemoveServerSharePending:!1,removeServerShareError:(0,x7.Z)(e,null,"status")||(0,Ce.Z)("Failed to remove server share.")})})).always((()=>{(0,jje.Z)(s,Yje)}))},[lLe](e,t,n){DLe(e).set({removeServerShareError:null})},[cLe](e,t,n){const r=DLe(e),i=e.get("user"),a=(0,QT.KC)(e,t);(0,fn.c9)((()=>{r.set({isUpdatingFriend:!0,updateFriendError:null})})),new Rje.Z({username:a.get("username")},{server:i.server}).save().done((()=>{r.set({isUpdatingFriend:!1}),n((0,oN.RY)()),n((0,oN.bc)()),n((0,oN.Tz)())})).fail((e=>{r.set({isUpdatingFriend:!1,updateFriendError:(0,x7.Z)(e,(0,Ce.Z)("Failed to add to Plex Home"),"status")})}))}}),ZLe=function(e){return g.createElement("div",{className:"SettingsPageLoadingSpinner-spinnerContainer-1YRnNT"},g.createElement(Mx.Z,null))};function TLe(e){var t=e["aria-label"],n=e.className,r=e.style,i={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-toolbar-add-to-home-560"};i["aria-hidden"]=!t,i.style=r,i.className=oa.Z.plexIcon+(n?" "+n:"");var a=[g.createElement.apply(g,["path",{d:"M240.8 504H28V336h44.8v123.2H196V308h168v151.2h123.2V298.557L280 91.357l-66.322 66.321L182 126l98-98 252 252v224H319.2V352.8h-78.4V504zM134.4 190.4H224v44.8h-89.6v89.6H89.6v-89.6H0v-44.8h89.6v-89.6h44.8v89.6z"}].concat([]))];return t&&a.unshift(g.createElement("title",null,t)),g.createElement.apply(g,["svg",i].concat(a))}TLe.propTypes={"aria-label":sa().string,className:sa().string,style:sa().object};const NLe=TLe;function OLe(e){if(!e)return(0,Ce.Z)("Username is required")}function ALe(e){if(!e)return(0,Ce.Z)("Email address is required")}function xLe(e){if(!e)return(0,Ce.Z)("Password is required")}function jLe(e){if(!e)return(0,Ce.Z)("Password confirmation is required")}function LLe(e){if(!e)return(0,Ce.Z)("Current password is required")}function kLe(e){return e&&e.length<8?(0,Ce.Z)("Password must be at least 8 characters"):e&&e.length>128?(0,Ce.Z)("Password must be no longer than 128 characters"):void 0}function RLe(e,t){if(e!==t.password.value)return(0,Ce.Z)("Passwords must match")}function zLe(e){if(!e)return(0,Ce.Z)("Verification code is required")}function ULe(e){if(!e)return(0,Ce.Z)("URL is required")}var VLe=n(91121);function BLe(e){var t=e["aria-label"],n=e.className,r=e.style,i={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-avatar-crop-max-560"};i["aria-hidden"]=!t,i.style=r,i.className=oa.Z.plexIcon+(n?" "+n:"");var a=[g.createElement.apply(g,["path",{d:"m560 0l0 560-560 0 0-560 560 0m-420 280c0 77.268 62.732 140 140 140 77.268 0 140-62.732 140-140 0-77.268-62.732-140-140-140-77.268 0-140 62.732-140 140"}].concat([]))];return t&&a.unshift(g.createElement("title",null,t)),g.createElement.apply(g,["svg",i].concat(a))}BLe.propTypes={"aria-label":sa().string,className:sa().string,style:sa().object};const FLe=BLe;function _Le(e){var t=e["aria-label"],n=e.className,r=e.style,i={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-avatar-crop-min-560"};i["aria-hidden"]=!t,i.style=r,i.className=oa.Z.plexIcon+(n?" "+n:"");var a=[g.createElement.apply(g,["path",{d:"m476 84l0 392-392 0 0-392 392 0m-336 196c0 77.268 62.732 140 140 140 77.268 0 140-62.732 140-140 0-77.268-62.732-140-140-140-77.268 0-140 62.732-140 140"}].concat([]))];return t&&a.unshift(g.createElement("title",null,t)),g.createElement.apply(g,["svg",i].concat(a))}_Le.propTypes={"aria-label":sa().string,className:sa().string,style:sa().object};const HLe=_Le,QLe="AvatarEditor-sliderEnd-3raxBW";var GLe=Object.defineProperty,WLe=Object.prototype.hasOwnProperty,YLe=Object.getOwnPropertySymbols,KLe=Object.prototype.propertyIsEnumerable,qLe=(e,t,n)=>t in e?GLe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,$Le=(e,t)=>{for(var n in t||(t={}))WLe.call(t,n)&&qLe(e,n,t[n]);if(YLe)for(var n of YLe(t))KLe.call(t,n)&&qLe(e,n,t[n]);return e};class JLe extends g.Component{constructor(e,t){super(e,t),this.setCanvasRef=e=>{this.canvas=e},this.onMouseDown=e=>{e.preventDefault(),this.startAvatarDrag(e.clientX,e.clientY)},this.onTouchStart=e=>{e.preventDefault();const t=e.touches.item(0);t&&this.startAvatarDrag(t.clientX,t.clientY,!0)},this.onTouchMove=e=>{const t=e.touches.item(0);t&&this.dragAvatar(t.clientX,t.clientY)},this.onMouseMove=e=>{this.dragAvatar(e.clientX,e.clientY)},this.onMouseUp=()=>{this.stopAvatarDrag()},this.onTouchEnd=()=>{this.stopAvatarDrag()},this.onFileDrop=e=>{let t;if(e.preventDefault(),this.setState({isOverDropTarget:!1}),this.dropTargetEnteredCounter=0,e.dataTransfer&&e.dataTransfer.files.length?t=e.dataTransfer.files[0]:e.target.files&&e.target.files.length&&(t=e.target.files[0]),t){const e=new window.FileReader;e.onload=e=>this.loadImage(e.target.result),e.readAsDataURL(t)}},this.onDragEnter=(e=window.event)=>{e.preventDefault(),this.dropTargetEnteredCounter++,this.setOverDropTargetState()},this.onDragLeave=(e=window.event)=>{e.preventDefault(),this.dropTargetEnteredCounter--,this.setOverDropTargetState()},this.onSliderChange=({steppedValue:e})=>{this.setState((t=>{const{offsetX:n,offsetY:r}=t,i=this.initialWidth*e,a=this.initialHeight*e,s=(this.imageWidth-i)/2,o=(this.imageHeight-a)/2,l=this.props.width-i,c=this.props.height-a,d=Math.max(l,Math.min(n+s,0)),u=Math.max(c,Math.min(r+o,0));return $Le($Le({},t),{scale:e,offsetX:d,offsetY:u})}),(()=>this.props.onChange(this.getImageDataUrl())))},this.state={drag:!1,dragX:0,dragY:0,minScale:.1,maxScale:1,scale:.1,offsetX:0,offsetY:0,isOverDropTarget:!1},this.dropTargetEnteredCounter=0}componentDidMount(){window.addEventListener("dragover",this.onWindowDragOver),window.addEventListener("drop",this.onWindowDrop),this.paint(),this.loadImage(this.props.url,!0)}UNSAFE_componentWillReceiveProps(e){this.props.url!==e.url&&this.loadImage(e.url)}shouldComponentUpdate(e,t){return(0,At.Z)(this,e,t)}componentDidUpdate(){this.paint()}componentWillUnmount(){window.removeEventListener("dragover",this.onWindowDragOver),window.removeEventListener("drop",this.onWindowDrop),this.stopListeningForDrag()}listenForDrag(e){e?(document.addEventListener("touchmove",this.onTouchMove),document.addEventListener("touchcancel",this.onTouchEnd),document.addEventListener("touchend",this.onTouchEnd)):(document.addEventListener("mousemove",this.onMouseMove),document.addEventListener("mouseup",this.onMouseUp))}stopListeningForDrag(){document.removeEventListener("mousemove",this.onMouseMove),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("mouseup",this.onMouseUp),document.removeEventListener("touchcancel",this.onTouchEnd),document.removeEventListener("touchend",this.onTouchEnd)}startAvatarDrag(e,t,n){this.listenForDrag(n),this.setState({drag:!0,dragX:e,dragY:t})}dragAvatar(e,t){this.state.drag&&this.setState((n=>{const{offsetX:r,offsetY:i,dragX:a,dragY:s}=n,o=this.props.width-this.imageWidth,l=this.props.height-this.imageHeight,c=Math.max(o,Math.min(r+(e-a),0)),d=Math.max(l,Math.min(i+(t-s),0));return $Le($Le({},n),{dragX:e,dragY:t,offsetX:c,offsetY:d})}))}stopAvatarDrag(){this.stopListeningForDrag(),this.setState({drag:!1},(()=>this.props.onChange(this.getImageDataUrl())))}loadImage(e,t,n=this.props){const r=new window.Image;r.onload=()=>this.onImageLoad(r,t),/^https?:\/\//.test(e)&&r.setAttribute("crossOrigin","anonymous");let i=e;if(0!==e.indexOf("data:")){const t=(0,sNe.Z)(),r={width:Math.round(n.width*t),height:Math.round(n.height*t),minSize:1},a=e.indexOf("?");a>-1?(i=E.Z.join(e.substring(0,a),r),i+=-1===i.indexOf("?")?"?":"&",i+=e.substring(a+1)):i=E.Z.join(i,r)}r.src=i}paint(){const{width:e,height:t}=this.props,n=this.canvas.getContext("2d");n.clearRect(0,0,e,t),this.image&&this.drawImage(n);const r=document.createElement("canvas"),i=r.getContext("2d");r.width=e,r.height=t,i.fillStyle="rgba(0,0,0,0.6)",i.fillRect(0,0,r.width,r.height),i.globalCompositeOperation="destination-out",i.arc(e/2,t/2,e/2,0,2*Math.PI),i.fill(),n.drawImage(r,0,0)}drawImage(e){this.imageWidth=this.initialWidth*this.state.scale,this.imageHeight=this.initialHeight*this.state.scale,e.drawImage(this.image,this.state.offsetX,this.state.offsetY,this.imageWidth,this.imageHeight)}getImageDataUrl(){const e=document.createElement("canvas"),t=e.getContext("2d");return e.height=this.props.height,e.width=this.props.width,this.drawImage(t),e.toDataURL()}setOverDropTargetState(){this.state.isOverDropTarget||0===this.dropTargetEnteredCounter||this.setState({isOverDropTarget:!0}),this.state.isOverDropTarget&&0===this.dropTargetEnteredCounter&&this.setState({isOverDropTarget:!1})}onImageLoad(e,t){this.image=e,this.initialWidth=Math.max(this.props.width,e.width),this.initialHeight=Math.max(this.props.height,e.height);const n=e.width>e.height?e.height:e.width,r=n>this.props.width?this.props.width/n:1,i=n<=this.props.width?2:1;this.setState({drag:!1,dragX:0,dragY:0,minScale:r,maxScale:i,scale:r,offsetX:0,offsetY:0},t?null:()=>this.props.onChange(this.getImageDataUrl()))}onWindowDrop(e=window.event){e.preventDefault()}onWindowDragOver(e=window.event){e.preventDefault()}onDragStart(e=window.event){e.dataTransfer.effectAllowed="copyMove"}onDragOver(e=window.event){e.dataTransfer.dropEffect="copy"}render(){const{isOverDropTarget:e}=this.state;return g.createElement("div",{className:"AvatarEditor-avatarContainer-1zL1-r",onDrop:this.onFileDrop,onDragOver:this.onDragOver,onDragStart:this.onDragStart,onDragLeave:this.onDragLeave,onDragEnter:this.onDragEnter},g.createElement("div",{className:"AvatarEditor-avatarPane-3KGAHf"},g.createElement("canvas",{className:e?"AvatarEditor-isOverDropTarget-1CZa7W":"",width:this.props.width,height:this.props.height,ref:this.setCanvasRef,onTouchStart:this.onTouchStart,onMouseDown:this.onMouseDown}),g.createElement("div",{className:"AvatarEditor-sliderContainer-2Dbein"},g.createElement("span",{className:QLe},g.createElement(HLe,null)),g.createElement("span",{className:"AvatarEditor-sliderWrapper-3njnCy"},g.createElement(Es.Z,{className:"AvatarEditor-slider-1JYVWM Slider-slider-4zRCDI",min:this.state.minScale,max:this.state.maxScale,step:.1,value:this.state.scale,onChange:this.onSliderChange})),g.createElement("span",{className:QLe},g.createElement(FLe,null)))),g.createElement("div",{className:"AvatarEditor-avatarTextPane-1PQTuh"},g.createElement("p",null,g.createElement(Cw,{accept:"image/*",buttonText:(0,Ce.Z)("Choose Photo"),onChange:this.onFileDrop})),g.createElement("p",{className:"AvatarEditor-help-1qDdY3"},(0,Ce.Z)("You can scale your photo using the slider below, and adjust the crop by dragging it within the circle."))))}}JLe.defaultProps={height:200,width:200,onChange(){}};const XLe=(0,Pae.Z)(JLe),eke=(0,v.$j)((function(){return(0,fe.P1)((0,VLe.Z)(),(e=>({url:e})))}))(XLe);var tke=Object.defineProperty,nke=Object.prototype.hasOwnProperty,rke=Object.getOwnPropertySymbols,ike=Object.prototype.propertyIsEnumerable,ake=(e,t,n)=>t in e?tke(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ske=(e,t)=>{for(var n in t||(t={}))nke.call(t,n)&&ake(e,n,t[n]);if(rke)for(var n of rke(t))ike.call(t,n)&&ake(e,n,t[n]);return e};const oke={isUsernameOpen:!1,isPhotoOpen:!1},lke={onSubmit:mLe,onErrorDismiss:hLe},cke=(0,v.$j)((function(){return(0,fe.P1)((e=>e.ui.userSharingSettingsPage),Ie,(0,wn.Z)("isAllFriendsPending"),((e,t,n)=>({cloudServerEntityID:t.entityID,isAllFriendsPending:n,isUpdatingFriend:e.isUpdatingFriend,updateFriendError:e.updateFriendError})))}),lke)((function(e){const{cloudServerEntityID:t,friend:n,isGuest:r,isAllFriendsPending:i,isUpdatingFriend:a,updateFriendError:s,onSubmit:o,onErrorDismiss:l}=e,{entityID:c,title:d,thumb:u}=n,[p,m]=(0,g.useState)(oke),h=(0,eo.Z)(i);(0,g.useEffect)((()=>{!h||i||s||m(S().mapObject(p,(()=>!1)))}),[h,i,s,p]);const y=(0,g.useCallback)((e=>t=>{t.preventDefault(),s&&l({friendEntityID:c});const n=S().mapObject(p,((t,n)=>n===e&&!p[e]));m(n)}),[p,m,c,s,l]),v=(0,g.useCallback)(((e,t)=>({title:e,isOpen:p[t],onSubmit:e=>{o(ske(ske({},e),{friendEntityID:c}))},isUpdating:a||i,onTogglePress:y(t)})),[p,y,c,i,a,o]),f=(0,g.useCallback)((()=>{s&&l()}),[s,l]);return g.createElement(uae,{className:"UserSharingSettingsProfile-content-20Oy-o SettingsPage-content-2rYCzy PageContent-pageContent-aqfjwt",metricsPage:pt.I7,metricsPane:"profile"},r?null:g.createElement(lse,ske(ske({},v((0,Ce.Z)("Username"),"isUsernameOpen")),{closedNode:d}),g.createElement(mw.Z,{labelText:(0,Ce.Z)("Username"),name:"username",initialValue:d,errors:s?[s]:[],validations:[OLe],onChange:f})),g.createElement(lse,ske(ske({},v((0,Ce.Z)("Photo"),"isPhotoOpen")),{closedNode:g.createElement(X2.Z,{serverEntityID:t,url:u,width:80,height:80})}),g.createElement(eke,{serverEntityID:t,name:"avatar",width:180,height:180,initialValue:u,url:u})))}));var dke=n(13209);function uke(e){var t=e["aria-label"],n=e.className,r=e.style,i={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-ban-560"};i["aria-hidden"]=!t,i.style=r,i.className=oa.Z.plexIcon+(n?" "+n:"");var a=[g.createElement.apply(g,["path",{d:"M169.704 446.864C201.322 467.804 239.237 480 280 480c110.457 0 200-89.543 200-200 0-40.763-12.195-78.678-33.136-110.296l-277.16 277.16zm-56.568-56.568l277.16-277.16C358.678 92.196 320.763 80 280 80 169.543 80 80 169.543 80 280c0 40.763 12.195 78.678 33.136 110.296zM280 560C125.36 560 0 434.64 0 280S125.36 0 280 0s280 125.36 280 280-125.36 280-280 280z"}].concat([]))];return t&&a.unshift(g.createElement("title",null,t)),g.createElement.apply(g,["svg",i].concat(a))}uke.propTypes={"aria-label":sa().string,className:sa().string,style:sa().object};const pke=uke;var mke=n(96909),hke=n(32003),gke=n(86970),yke=n(40498),vke=n(79872),fke=n(38625),bke=Object.defineProperty,Ike=Object.prototype.hasOwnProperty,Ske=Object.getOwnPropertySymbols,Mke=Object.prototype.propertyIsEnumerable,Eke=(e,t,n)=>t in e?bke(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Pke=(e,t)=>{for(var n in t||(t={}))Ike.call(t,n)&&Eke(e,n,t[n]);if(Ske)for(var n of Ske(t))Mke.call(t,n)&&Eke(e,n,t[n]);return e};function Dke(e){const{[yke.ZO]:t,[yke.Jm]:n,[yke.GP]:r,[yke.Bi]:i}=e;if(!(t||n||r||i))return(0,Ce.Z)("No restrictions");const a=[t,r].reduce(((e,t)=>t?e.concat(t.split(",")):e),[]).join(", "),s=[n,i].reduce(((e,t)=>t?e.concat(t.split(",")):e),[]).join(", "),o=a.length>0,l=s.length>0;return o&&!l?(0,Ce.Z)("Allow only {tags}",{tags:a}):!o&&l?(0,Ce.Z)("Exclude only {tags}",{tags:s}):g.createElement(g.Fragment,null,g.createElement("div",null,(0,Ce.Z)("Allow only {tags}",{tags:a})),g.createElement("div",null,(0,Ce.Z)("Exclude {tags}",{tags:s})))}function Cke(e){const t=e,{label:n,metadataType:r,contentRatingsName:i,excludeContentRatingsName:a,labelsName:s,excludeLabelsName:o,filters:l,tagsProps:c}=t,d=((e,t)=>{var n={};for(var r in e)Ike.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&Ske)for(var r of Ske(e))t.indexOf(r)<0&&Mke.call(e,r)&&(n[r]=e[r]);return n})(t,["label","metadataType","contentRatingsName","excludeContentRatingsName","labelsName","excludeLabelsName","filters","tagsProps"]),u=(0,fke.Z)(l,yke.ZO,yke.Jm),p=(0,fke.Z)(l,yke.GP,yke.Bi);return g.createElement(lse,Pke(Pke({},d),{closedNode:Dke(l)}),g.createElement(Eae.Z,null,n),i?g.createElement(vke.Z,Pke(Pke({},c),{name:i,metadataType:r,tagType:yke.ZO,initialValue:u.initialAllowTags,excludedTags:u.excludeTags,onChange:u.onAllowTagsChange})):null,a?g.createElement(vke.Z,Pke(Pke({},c),{name:a,metadataType:r,tagType:yke.Jm,initialValue:u.initialExcludeTags,excludedTags:u.allowTags,onChange:u.onExcludeTagsChange})):null,g.createElement(vke.Z,Pke(Pke({},c),{name:s,metadataType:r,tagType:yke.GP,initialValue:p.initialAllowTags,excludedTags:p.excludeTags,onChange:p.onAllowTagsChange})),g.createElement(vke.Z,Pke(Pke({},c),{name:o,metadataType:r,tagType:yke.Bi,initialValue:p.initialExcludeTags,excludedTags:p.allowTags,onChange:p.onExcludeTagsChange})))}var wke=Object.defineProperty,Zke=Object.prototype.hasOwnProperty,Tke=Object.getOwnPropertySymbols,Nke=Object.prototype.propertyIsEnumerable,Oke=(e,t,n)=>t in e?wke(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Ake=(e,t)=>{for(var n in t||(t={}))Zke.call(t,n)&&Oke(e,n,t[n]);if(Tke)for(var n of Tke(t))Nke.call(t,n)&&Oke(e,n,t[n]);return e};const xke={isRestrictionProfileOpen:!1,isAllowSyncOpen:!1,isAllowCameraUploadOpen:!1,isAllowLiveTVOpen:!1,isMovieTagsOpen:!1,isTelevisionTagsOpen:!1,isMusicTagsOpen:!1};function jke(e){return kje.oL(e||kje.Pq).title}function Lke(e,t){return e?mke.Z.options[t]():t===mke.Z.TV_ONLY?(0,Ce.Z)("Enabled"):(0,Ce.Z)("Disabled")}function kke(e){return parseInt(e,10)}const Rke=function(e){const{friend:t,restrictionProfile:n,filterOptionsTags:r,isFilterOptionsTagsPopulating:i,isFilterOptionsTagsPopulated:a,isUpdatingFriend:s,updateFriendError:o,hasPlexPass:l,isGuest:c,canShowRestrictions:d,canShareTuners:u,canShareDVR:p,onSubmit:m,onErrorDismiss:h}=e,{entityID:y,restricted:v,filterMovies:f,filterTelevision:b,filterMusic:I,allowSync:M,allowCameraUpload:E,allowTuners:P}=t,[D,C]=(0,g.useState)(xke),w=(0,eo.Z)(s);(0,g.useEffect)((()=>{!w||s||o||C(S().mapObject(D,(()=>!1)))}),[w,s,o,D]);const Z=(0,g.useCallback)((e=>t=>{t.preventDefault(),o&&h({friendEntityID:y});const n=S().mapObject(D,((t,n)=>n===e&&!D[e]));C(n)}),[D,C,y,o,h]),T=(0,g.useCallback)(((e,t)=>({title:e,isOpen:D[t],onSubmit:e=>{m({friendEntityID:y,restrictions:e})},isUpdating:s,errorMessage:o,onTogglePress:Z(t)})),[D,Z,y,s,o,m]),N={filterOptionsTags:r,isFilterOptionsTagsPopulating:i,isFilterOptionsTagsPopulated:a},O=d&&!n;return g.createElement(uae,{className:"UserSharingSettingsRestrictions-content-3yssJ9 SettingsPage-content-2rYCzy PageContent-pageContent-aqfjwt",metricsPage:pt.I7,metricsPane:"restrictions"},v&&!c?g.createElement(lse,Ake(Ake({},T((0,Ce.Z)("Restriction Profile"),"isRestrictionProfileOpen")),{closedNode:jke(n)}),g.createElement(gke.Z,{name:"restrictionProfileIdentifier",initialValue:n||kje.Pq,hasPlexPass:l})):null,g.createElement(lse,Ake(Ake({},T((0,Ce.Z)("Allow Downloads"),"isAllowSyncOpen")),{closedNode:M?(0,Ce.Z)("Enabled"):(0,Ce.Z)("Disabled")}),g.createElement(fae.Z,{name:"allowSync",initialValue:M,labelText:(0,Ce.Z)("Allow Downloads"),checkboxText:(0,Ce.Z)("Allow this user to download content from your server")})),d?g.createElement(lse,Ake(Ake({},T((0,Ce.Z)("Allow Camera Upload"),"isAllowCameraUploadOpen")),{closedNode:E?(0,Ce.Z)("Enabled"):(0,Ce.Z)("Disabled")}),g.createElement(fae.Z,{name:"allowCameraUpload",initialValue:E,labelText:(0,Ce.Z)("Allow Camera Upload"),checkboxText:(0,Ce.Z)("Allow this user to upload media to your server")})):null,u?g.createElement(lse,Ake(Ake({},T(p?(0,Ce.Z)("Live TV & DVR Access"):(0,Ce.Z)("Allow access to Live TV"),"isAllowLiveTVOpen")),{closedNode:Lke(p,P)}),p?g.createElement(bae.Z,{name:"allowTuners",initialValue:P,value:mke.Z.values[P],values:mke.Z.values,transformValue:kke,labelText:(0,Ce.Z)("Live TV & DVR Access"),helpText:(0,Ce.Z)("Enabling Live TV for this user requires sharing a library with them. Enabling DVR will show all scheduled recordings, but this user will only be able to manage their own recordings")}):g.createElement(fae.Z,{name:"allowTuners",initialValue:P,checkedValue:1,uncheckedValue:0,labelText:(0,Ce.Z)("Allow access to Live TV"),checkboxText:(0,Ce.Z)("Enabling this option will allow this user to access Live TV streams.")})):null,O?g.createElement(g.Fragment,null,g.createElement(Cke,Ake(Ake({},T(hke.ZP.get(hke.MB).title,"isMovieTagsOpen")),{label:hke.ZP.get(hke.MB).title,metadataType:Ac.MOVIE,contentRatingsName:"moviesContentRatings",excludeContentRatingsName:"moviesExcludeContentRatings",labelsName:"moviesLabels",excludeLabelsName:"moviesExcludeLabels",filters:f,tagsProps:N})),g.createElement(Cke,Ake(Ake({},T(hke.ZP.get(hke.TV).title,"isTelevisionTagsOpen")),{label:hke.ZP.get(hke.TV).title,metadataType:Ac.SHOW,contentRatingsName:"televisionContentRatings",excludeContentRatingsName:"televisionExcludeContentRatings",labelsName:"televisionLabels",excludeLabelsName:"televisionExcludeLabels",filters:b,tagsProps:N})),g.createElement(Cke,Ake(Ake({},T(hke.ZP.get(hke.xF).title,"isMusicTagsOpen")),{label:hke.ZP.get(hke.xF).title,metadataType:Ac.ARTIST,labelsName:"musicLabels",excludeLabelsName:"musicExcludeLabels",filters:I,tagsProps:N}))):null,d?null:g.createElement(tfe,{iconComponent:pke,title:(0,Ce.Z)("Sharing Restrictions"),text:(0,Ce.Z)("Upgrade to a Plex Pass to get more control over the media you share."),moreInfo:g.createElement(KV.Z,{message:(0,Ce.Z)("See our {openLinkSupported}support article{closeLinkSupported} for more information."),tags:[{open:"openLinkSupported",close:"closeLinkSupported",component:pw.Z,kind:ic._8,to:iy.T4,target:"_blank"}]})},g.createElement(rfe,{origin:Jve.xq,modalMetricsProperties:{context:OC.USERS_AND_SHARING}})))};var zke=Object.defineProperty,Uke=Object.prototype.hasOwnProperty,Vke=Object.getOwnPropertySymbols,Bke=Object.prototype.propertyIsEnumerable,Fke=(e,t,n)=>t in e?zke(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const _ke=(0,ob.Z)(bn.d6),Hke=(0,ob.Z)(bn.jq),Qke=(0,ob.Z)(bn.LD),Gke={dispatchFetchFilterOptionsTags:uLe,onSubmit:pLe,onErrorDismiss:hLe},Wke=(0,v.$j)((function(){return(0,fe.P1)((e=>e.ui.userSharingSettingsPage),((e,{friend:t})=>t),dke.Z,_ke,Hke,Qke,(0,fe.P1)(((e,{friend:t})=>t),Oje.Z,((e,t)=>Object.values(t).find((t=>t.id===e.id)))),(0,wn.Z)("hasPlexPass"),((e,t,n,r,i,a,s,o)=>{const l=i||t.home;return{serverEntityIDs:n,restrictionProfile:s?s.restrictionProfile:null,filterOptionsTags:e.filterOptionsTags,isFilterOptionsTagsPopulating:e.isFilterOptionsTagsPopulating,isFilterOptionsTagsPopulated:e.isFilterOptionsTagsPopulated,isUpdatingFriend:e.isUpdatingFriend,updateFriendError:e.updateFriendError,hasPlexPass:o,isGuest:!!s&&s.guest,canShowRestrictions:r,canShareTuners:l,canShareDVR:l&&a}}))}),Gke)((function(e){const t=e,{serverEntityIDs:n,dispatchFetchFilterOptionsTags:r}=t,i=((e,t)=>{var n={};for(var r in e)Uke.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&Vke)for(var r of Vke(e))t.indexOf(r)<0&&Bke.call(e,r)&&(n[r]=e[r]);return n})(t,["serverEntityIDs","dispatchFetchFilterOptionsTags"]);return(0,g.useEffect)((()=>{r({serverEntityIDs:n})}),[n,r]),g.createElement(Rke,((e,t)=>{for(var n in t||(t={}))Uke.call(t,n)&&Fke(e,n,t[n]);if(Vke)for(var n of Vke(t))Bke.call(t,n)&&Fke(e,n,t[n]);return e})({},i))}));var Yke=n(39365);const Kke=function({serverShare:e}){const{name:t,libraries:n}=e;return g.createElement(g.Fragment,null,g.createElement(Eae.Z,null,t),n.map((e=>g.createElement("div",{key:e.id,className:"FriendSharedServerLibraries-library-2EaMRB"},e.title))))};var qke=Object.defineProperty,$ke=Object.prototype.hasOwnProperty,Jke=Object.getOwnPropertySymbols,Xke=Object.prototype.propertyIsEnumerable,eRe=(e,t,n)=>t in e?qke(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,tRe=(e,t)=>{for(var n in t||(t={}))$ke.call(t,n)&&eRe(e,n,t[n]);if(Jke)for(var n of Jke(t))Xke.call(t,n)&&eRe(e,n,t[n]);return e};function nRe(e){const{libraries:t,sharingSettings:n,allLibraries:r}=e,i=r?(0,Ce.Z)("All libraries"):t.map((e=>e.title)).join(", "),a=[];return n.allowSync&&a.push((0,Ce.Z)("Sync Allowed")),n.allowCameraUpload&&a.push((0,Ce.Z)("Camera Upload Allowed")),0!==n.allowTuners&&a.push(1===n.allowTuners?(0,Ce.Z)("Live TV Allowed"):(0,Ce.Z)("Live TV and DVR allowed")),g.createElement(g.Fragment,null,g.createElement("div",null,i),a.length>0?g.createElement("div",null,a.join(", ")):null)}const rRe=(0,fe.P1)((e=>e.ui.userSharingSettingsPage),(e=>{const{isRemoveServerSharePending:t,isRemoveServerShareCompleted:n,removeServerShareError:r}=e;return{isRemoveServerSharePending:t&&!r,isRemoveServerShareCompleted:n,removeServerShareError:r}})),iRe={onSubmit:MLe,onErrorDismiss:ELe},aRe=(0,v.$j)(rRe,iRe)((function(e){const{friend:t,serverShares:n,isRemoveServerSharePending:r,isRemoveServerShareCompleted:i,removeServerShareError:a,onSubmit:s,onErrorDismiss:o}=e,l=(0,g.useMemo)((()=>n.reduce(((e,t)=>(e[t.machineIdentifier]=!1,e)),{})),[n]),[c,d]=(0,g.useState)(l),[u,p]=(0,g.useState)(!1),[m,h]=(0,g.useState)(null),y=(0,eo.Z)(i);(0,g.useEffect)((()=>{y||!i||a||d(S().mapObject(c,(()=>!1)))}),[c,y,i,a]);const v=(0,g.useCallback)((()=>{p(!1)}),[p]),f=(0,g.useCallback)((()=>{s({friendEntityID:t.entityID,machineIdentifier:m}),p(!1)}),[t,m,p,s]),b=(0,g.useCallback)((e=>t=>{t.preventDefault(),a&&o();const n=S().mapObject(c,((t,n)=>n===e&&!c[e]));d(n)}),[c,d,a,o]),I=(0,g.useCallback)(((e,t)=>({title:e,isOpen:c[t],onSubmit:()=>{h(t),p(!0)},isUpdating:r,errorMessage:a,onTogglePress:b(t)})),[c,r,a,b]);return g.createElement(g.Fragment,null,n.map((e=>{const{machineIdentifier:t,name:n}=e;return g.createElement(lse,tRe(tRe({},I(n,t)),{key:t,closedNode:nRe(e),buttonKind:ic.T,buttonText:(0,Ce.Z)("Leave Server"),showButtonEnabled:!0}),g.createElement(Kke,{key:t,serverShare:e}))})),g.createElement(yt.Z,{isOpen:u,metricsPage:pt.I7,kind:ic.T,title:(0,Ce.Z)("Leave shared server"),message:(0,Ce.Z)("Are you sure you want to leave this shared server?"),confirmLabel:(0,Ce.Z)("Leave Server"),onConfirm:f,onCancel:v}))}));var sRe=n(15041);var oRe=Object.defineProperty,lRe=Object.prototype.hasOwnProperty,cRe=Object.getOwnPropertySymbols,dRe=Object.prototype.propertyIsEnumerable,uRe=(e,t,n)=>t in e?oRe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const pRe=(0,Pae.Z)((function(e){return g.createElement(Iae.Z,((e,t)=>{for(var n in t||(t={}))lRe.call(t,n)&&uRe(e,n,t[n]);if(cRe)for(var n of cRe(t))dRe.call(t,n)&&uRe(e,n,t[n]);return e})({className:"SharedServerLibrary-input-ye6zQv CheckInput-input-3u8_kT"},e))})),mRe=function(e){const{serverOverview:t,serverShare:n}=e,{machineIdentifier:r,name:i,sections:a}=t,[s,o]=(0,g.useState)(!(!n||!n.allLibraries)),l=(0,g.useCallback)((()=>{o(!s)}),[s]);return g.createElement(g.Fragment,null,g.createElement(Eae.Z,null,i),a.length>0?g.createElement(pRe,{name:JSON.stringify({[sRe.I]:r}),checkboxText:(0,Ce.Z)("All Libraries"),initialValue:s,onChange:l}):null,0===a.length?g.createElement("div",{className:"SharedServerLibraries-emptyMessage-5C_z61"},(0,Ce.Z)("No libraries")):null,s?null:a.map((e=>{const{id:t,title:r}=e,i=!!(n&&n.libraries&&n.libraries.find((e=>e.id===t)));return g.createElement(pRe,{key:t,name:JSON.stringify({[sRe.n]:t}),checkboxText:r,initialValue:i})})))};var hRe=Object.defineProperty,gRe=Object.prototype.hasOwnProperty,yRe=Object.getOwnPropertySymbols,vRe=Object.prototype.propertyIsEnumerable,fRe=(e,t,n)=>t in e?hRe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,bRe=(e,t)=>{for(var n in t||(t={}))gRe.call(t,n)&&fRe(e,n,t[n]);if(yRe)for(var n of yRe(t))vRe.call(t,n)&&fRe(e,n,t[n]);return e};function IRe(e){return e?e.allLibraries?(0,Ce.Z)("All libraries"):e.libraries.map((e=>e.title)).join(", "):(0,Ce.Z)("No shared libraries")}const SRe=(0,fe.P1)((e=>e.ui.userSharingSettingsPage),(e=>{const{isSharingPending:t,isSharingCompleted:n,sharingError:r}=e;return{isSharingPending:t&&!r,isSharingCompleted:n,sharingError:r}})),MRe={onSubmit:ILe,onErrorDismiss:SLe},ERe=(0,v.$j)(SRe,MRe)((function(e){const{friend:t,serverOverviews:n,isSharingPending:r,isSharingCompleted:i,sharingError:a,onSubmit:s,onErrorDismiss:o}=e,l=(0,g.useMemo)((()=>n.reduce(((e,t)=>(e[t.machineIdentifier]=!1,e)),{})),[n]),[c,d]=(0,g.useState)(l),u=(0,eo.Z)(i);(0,g.useEffect)((()=>{u||!i||a||d(S().mapObject(c,(()=>!1)))}),[c,u,i,a]);const p=(0,g.useCallback)((e=>t=>{t.preventDefault(),a&&o();const n=S().mapObject(c,((t,n)=>n===e&&!c[e]));d(n)}),[c,d,a,o]),m=(0,g.useCallback)((e=>n=>{const r=Object.keys(n).reduce(((e,t)=>{const r=n[t],i=JSON.parse(t);return r&&i.hasOwnProperty(sRe.n)&&e.selectedLibrarySectionIDs.push(i[sRe.n]),r&&i.hasOwnProperty(sRe.I)&&(e.isAllLibrariesSelected=!0),e}),{friendEntityID:t.entityID,machineIdentifier:e,selectedLibrarySectionIDs:[],isAllLibrariesSelected:!1});s(r)}),[t,s]),h=(0,g.useCallback)(((e,t)=>({title:e,isOpen:c[t],onSubmit:m(t),isUpdating:r,errorMessage:a,onTogglePress:p(t)})),[c,m,p,r,a]);return n.map((e=>{const{name:n,machineIdentifier:r}=e,i=t.serverShares.find((e=>e.machineIdentifier===r));return g.createElement(lse,bRe(bRe({},h(n,r)),{key:r,closedNode:IRe(i)}),g.createElement(mRe,{key:r,serverOverview:e,serverShare:i}))}))})),PRe=function({children:e}){return g.createElement("h2",{className:"UserSharingSettingsPageHeader-header-1qiBA2"},e)},DRe=function(e){const{friend:t,serverOverviews:n,isRestricted:r,isLoading:i,showList:a,errorMessage:s}=e,o=(0,g.useMemo)((()=>t.serverShares.filter((e=>!e.owned&&!e.pending))),[t]);return s?g.createElement(PK.Z,{title:(0,Ce.Z)("There was an unexpected error"),description:s}):g.createElement(uae,{metricsPage:pt.I7,metricsPane:"sharedLibraries"},i?g.createElement(ZLe,null):null,a?g.createElement(g.Fragment,null,r?null:g.createElement(PRe,null,(0,Ce.Z)("Shared with {username}",{username:t.title})),r?null:g.createElement(ERe,{friend:t,serverOverviews:n}),o.length>0?g.createElement(PRe,null,(0,Ce.Z)("Shared with you")):null,o.length>0?g.createElement(aRe,{friend:t,serverShares:o}):null):null)};var CRe=Object.defineProperty,wRe=Object.prototype.hasOwnProperty,ZRe=Object.getOwnPropertySymbols,TRe=Object.prototype.propertyIsEnumerable,NRe=(e,t,n)=>t in e?CRe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ORe=(e,t)=>{for(var n in t||(t={}))wRe.call(t,n)&&NRe(e,n,t[n]);if(ZRe)for(var n of ZRe(t))TRe.call(t,n)&&NRe(e,n,t[n]);return e};const ARe=(0,fe.P1)((e=>e.ui.userSharingSettingsPage),Yke.Z,(0,wn.Z)("restricted"),((e,t,n)=>{const{serverOverviews:r,isServerOverviewsPopulating:i,isServerOverviewsPopulated:a,isServerSharesPopulating:s,isServerSharesPopulated:o,serverSharesError:l}=e;return{sharingEligibleServerEntityIDs:t,serverOverviews:r,isRestricted:n,isLoading:(i||s)&&!l,showList:a&&o,errorMessage:l}})),xRe={dispatchFetchServerOverviews:fLe,dispatchFetchServerShares:bLe},jRe=(0,v.$j)(ARe,xRe)((function(e){const t=e,{friend:n,sharingEligibleServerEntityIDs:r,dispatchFetchServerOverviews:i,dispatchFetchServerShares:a}=t,s=((e,t)=>{var n={};for(var r in e)wRe.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&ZRe)for(var r of ZRe(e))t.indexOf(r)<0&&TRe.call(e,r)&&(n[r]=e[r]);return n})(t,["friend","sharingEligibleServerEntityIDs","dispatchFetchServerOverviews","dispatchFetchServerShares"]),o=n.entityID;return(0,g.useEffect)((()=>{i({serverEntityIDs:r})}),[r,i]),(0,g.useEffect)((()=>{a({friendEntityID:o})}),[o,a]),g.createElement(DRe,ORe(ORe({},s),{friend:n}))}));var LRe=n(47933),kRe=n(90087);const RRe="SharedItemCell-subtitle-1SOQ2N SharedItemCell-title-K_oI7p",zRe=function(e){const{serverEntityID:t,providerEntityID:n,cellIndex:r,id:i,origin:a,serverName:s,type:o,playlistType:l,title:c,parentTitle:d,grandparentTitle:u,leafCount:p,duration:m,imageWidth:h,imageHeight:y,imageUrl:v,isOwnedItem:f,isDeleting:b,showDelete:I,onDeleteSharedItem:S}=e,M=(0,Ax.Z)(e),[E,P]=(0,g.useState)(!1),D=(0,eo.Z)(b),C=(0,g.useCallback)((()=>{P(!0)}),[]),w=(0,g.useCallback)((()=>{S({id:i,origin:a,isOwnedItem:f})}),[i,a,f,S]),Z=(0,g.useCallback)((()=>{P(!1)}),[]);(0,g.useEffect)((()=>{D&&!b&&P(!1)}),[D,b]);const T=function(e,t,n){const r=n||t;return r?`${r}  ${e}`:e}(c,d,u),N=Ac.getMetadataType(o).title,O=f?(0,Ce.Z)("Are you sure you want to stop sharing this item? The user will no longer be able to access it on {serverName}.",{serverName:s}):(0,Ce.Z)("Are you sure you want to remove this shared item? You will no longer be able to access it on {serverName}.",{serverName:s});return g.createElement("div",{className:Te()(r%2?"SharedItemCell-alternateItem-1RdHpY SharedItemCell-item-Goz7Q7":"SharedItemCell-item-Goz7Q7",E&&"SharedItemCell-isDeleteConfirmModalOpen-l2UkFq"),style:M.style},g.createElement("div",{className:"SharedItemCell-posterContainer-32v9RI"},g.createElement("div",{className:"SharedItemCell-poster-1Xmy5y",style:{width:h,height:y}},g.createElement(zx.Z,{serverEntityID:t,providerEntityID:n,type:o,url:M.isPlaceholder?null:v,width:h,height:y}))),g.createElement("div",{className:"SharedItemCell-summaryContainer-49VIdB"},g.createElement("div",{className:"SharedItemCell-titleContainer-3O7Vq7"},g.createElement("div",{className:"SharedItemCell-title-K_oI7p"},T),g.createElement("div",{className:RRe},N,p||o===Ac.TRACK&&m?g.createElement(rs.Z,{className:"SharedItemCell-separator-3CGmeo DashSeparator-separator-3r2G27"}):null,p?function(e,t,n){if(t)return z2(t,n);let r;if(e===Ac.SHOW)r=Ac.EPISODE;else{const t=Ac.getChildType(e);t&&(r=t.typeString)}return B0(r,n)}(o,l,p):null,o===Ac.TRACK&&m?Ui(m):null),g.createElement("div",{className:RRe},s)),g.createElement("div",{className:"SharedItemCell-actions-gLmcw4"},I?g.createElement(pw.Z,{"data-qa-id":"sharedItemDeleteButton",className:"SharedItemCell-deleteButton-2C4WI9",tabIndex:"0","aria-label":(0,Ce.Z)("Remove {title}",{title:T}),onPress:C},g.createElement(cu.Z,{className:"SharedItemCell-icon-2aUsWc"})):null)),g.createElement(yt.Z,{kind:ic.T,title:(0,Ce.Z)("Remove {title}",{title:T}),message:O,confirmLabel:f?(0,Ce.Z)("Stop Sharing"):(0,Ce.Z)("Remove"),isOpen:E,isConfirmButtonSpinning:b,metricsPage:pt.I7,onConfirm:w,onCancel:Z}))};var URe=Object.defineProperty,VRe=Object.prototype.hasOwnProperty,BRe=Object.getOwnPropertySymbols,FRe=Object.prototype.propertyIsEnumerable,_Re=(e,t,n)=>t in e?URe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const HRe={dispatchPopulateSharedItem:yLe,onDeleteSharedItem:vLe},QRe=(0,v.$j)((function(){return(0,fe.P1)(((e,{id:t})=>t),((e,{type:t})=>t),((e,{title:t})=>t),(e=>e.ui.userSharingSettingsPage.deleteSharedItemID),(0,fe.P1)(((e,{uri:t})=>t),be.Z,sx.Z,((e,t,n)=>{const{key:r,serverIdentifier:i}=(0,wr.Z)(e),a=Object.keys(t).find((e=>t[e].machineIdentifier===i)),s=Object.keys(n).find((e=>{const t=n[e];return t.key===r&&t.serverEntityID===a}));return n[s]})),(0,fe.P1)(((e,{uri:t})=>t),LRe.Z,((e,t)=>{const{serverIdentifier:n}=(0,wr.Z)(e),r=t.find((e=>e.server.machineIdentifier===n));return!!(r&&r.provider&&r.provider.isPopulated)})),((e,t,n,r,i={},a)=>{const s=function(e,t){const{subtype:n}=e,r=(0,kRe.Z)(t,n,kx.Ap);return(0,o1.Z)(r,null,t,n,e,kx.Ap)}(i,t);return{serverEntityID:i.serverEntityID,providerEntityID:i.providerEntityID,isItemProviderPopulated:a,grandparentKey:i.grandparentKey,parentTitle:i.parentTitle,grandparentTitle:i.grandparentTitle,type:t,playlistType:i.playlistType,index:i.index,title:i.title||n,leafCount:i.leafCount,duration:i.duration,isDeleting:e===r,showDelete:!r,imageWidth:s.width,imageHeight:s.height,imageUrl:s.url}}))}),HRe)((function(e){const t=e,{uri:n,isItemProviderPopulated:r,dispatchPopulateSharedItem:i}=t,a=((e,t)=>{var n={};for(var r in e)VRe.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&BRe)for(var r of BRe(e))t.indexOf(r)<0&&FRe.call(e,r)&&(n[r]=e[r]);return n})(t,["uri","isItemProviderPopulated","dispatchPopulateSharedItem"]);return(0,g.useEffect)((()=>{r&&i({uri:n})}),[n,r,i]),g.createElement(zRe,((e,t)=>{for(var n in t||(t={}))VRe.call(t,n)&&_Re(e,n,t[n]);if(BRe)for(var n of BRe(t))FRe.call(t,n)&&_Re(e,n,t[n]);return e})({},a))}));var GRe=Object.defineProperty,WRe=Object.prototype.hasOwnProperty,YRe=Object.getOwnPropertySymbols,KRe=Object.prototype.propertyIsEnumerable,qRe=(e,t,n)=>t in e?GRe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,$Re=(e,t)=>{for(var n in t||(t={}))WRe.call(t,n)&&qRe(e,n,t[n]);if(YRe)for(var n of YRe(t))KRe.call(t,n)&&qRe(e,n,t[n]);return e};const JRe=(0,U2.Z)(120);function XRe(e){return t=>g.createElement(QRe,$Re({isOwnedItem:e},t))}const eze=function(e){const t=e,{isOwnedItem:n}=t,r=((e,t)=>{var n={};for(var r in e)WRe.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&YRe)for(var r of YRe(e))t.indexOf(r)<0&&KRe.call(e,r)&&(n[r]=e[r]);return n})(t,["isOwnedItem"]);return g.createElement(dQ.Z,$Re($Re({},r),{keyPropName:"id",layout:JRe,cellRenderer:XRe(n)}))},tze="UserSharingSettingsSharedMedia-message-1rMNUT";var nze=Object.defineProperty,rze=Object.prototype.hasOwnProperty,ize=Object.getOwnPropertySymbols,aze=Object.prototype.propertyIsEnumerable,sze=(e,t,n)=>t in e?nze(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,oze=(e,t)=>{for(var n in t||(t={}))rze.call(t,n)&&sze(e,n,t[n]);if(ize)for(var n of ize(t))aze.call(t,n)&&sze(e,n,t[n]);return e};function lze(e){return e.reduce(((e,t)=>[...e,...t.sharedItems.map((e=>oze(oze({},e),{origin:t.origin,serverName:t.name})))]),[])}const cze=function(e){const{userTitle:t,isRestrictedUser:n,isRestrictedFriend:r,ownedSharedSources:i,receivedSharedSources:a,isPopulated:s,isLoading:o,errorMessage:l}=e,[c,d]=(0,g.useState)(0),[u,p]=(0,g.useState)(0),[m,h]=(0,g.useState)({isContentMeasured:!1}),y=(0,g.useMemo)((()=>lze(i)),[i]),v=(0,g.useMemo)((()=>lze(a)),[a]),f=(0,g.useCallback)((e=>{d(e.scrollTop)}),[]),b=(0,g.useCallback)((({width:e,height:t})=>{h({isContentMeasured:!0,contentWidth:e,contentHeight:t})}),[]),I=(0,g.useCallback)((({height:e})=>{p(e)}),[]);if(l)return g.createElement(PK.Z,{title:(0,Ce.Z)("There was an unexpected error"),description:l});const S=!o&&m.isContentMeasured,M=s&&!n,E=s&&!r;return g.createElement(uae,{metricsPage:pt.I7,metricsPane:"sharedMedia",scrollTop:c,onScrollPositionChange:f},o?g.createElement(ZLe,null):null,g.createElement(bx.Z,{className:"UserSharingSettingsSharedMedia-container-4FcT64 Measure-container-27uNnm",onMeasure:b},S?g.createElement(g.Fragment,null,M?g.createElement(PRe,null,(0,Ce.Z)("Shared with {userTitle}",{userTitle:t})):null,M&&0===y.length?g.createElement("div",{className:tze},(0,Ce.Z)("You haven't shared anything yet.")):null,M&&y.length>0?g.createElement(bx.Z,{ignoreWidth:!1,ignorePosition:!1,onMeasure:I},g.createElement(eze,{items:y,size:y.length,viewportWidth:m.contentWidth,viewportHeight:m.contentHeight,scrollTop:c,isOwnedItem:!0})):null,E?g.createElement(PRe,null,(0,Ce.Z)("Shared with you")):null,E&&0===v.length?g.createElement("div",{className:tze},(0,Ce.Z)("This user hasn't shared anything with you yet.")):null,E&&v.length>0?g.createElement(eze,{items:v,size:v.length,viewportWidth:m.contentWidth,viewportHeight:m.contentHeight,scrollTop:c-u,isOwnedItem:!1}):null):null))};var dze=Object.defineProperty,uze=Object.prototype.hasOwnProperty,pze=Object.getOwnPropertySymbols,mze=Object.prototype.propertyIsEnumerable,hze=(e,t,n)=>t in e?dze(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,gze=(e,t)=>{for(var n in t||(t={}))uze.call(t,n)&&hze(e,n,t[n]);if(pze)for(var n of pze(t))mze.call(t,n)&&hze(e,n,t[n]);return e};const yze={dispatchFetchSharedSources:gLe},vze=(0,v.$j)((function(){return(0,fe.P1)((e=>e.ui.userSharingSettingsPage),((e,{friend:t})=>t),(0,wn.Z)("restricted"),((e,t,n)=>{const{ownedSharedSources:r,receivedSharedSources:i,isSharedSourcesPopulating:a,isSharedSourcesPopulated:s,sharedSourcesError:o}=e;return{userID:t.id,userTitle:t.title,ownedSharedSources:r,receivedSharedSources:i,isRestrictedUser:n,isRestrictedFriend:t.restricted,isPopulating:a,isPopulated:s,isLoading:a&&!o,errorMessage:o}}))}),yze)((function(e){const t=e,{userID:n,isPopulating:r,isPopulated:i,dispatchFetchSharedSources:a}=t,s=((e,t)=>{var n={};for(var r in e)uze.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&pze)for(var r of pze(e))t.indexOf(r)<0&&mze.call(e,r)&&(n[r]=e[r]);return n})(t,["userID","isPopulating","isPopulated","dispatchFetchSharedSources"]);return(0,g.useEffect)((()=>{r||i||a({userID:n})}),[n,r,i,a]),g.createElement(cze,gze(gze({},s),{isPopulated:i}))})),fze="UserSharingSettingsPage-confirmMessage-2VM2wM",bze="sharedLibraries",Ize="sharedMedia",Sze="profile",Mze="restrictions",Eze={[bze]:jRe,[Ize]:vze,[Sze]:cke,[Mze]:Wke},Pze=function(e){const{serverEntityID:t,friend:n,isGuest:r,isUpdatingFriend:i,isPending:a,isPopulated:s,showAddToHome:o,showProfile:l,showRestrictions:c,hasError:d,dispatchAddToHome:u}=e,p=(0,eo.Z)(i),[m,h]=(0,g.useState)(bze),[y,v]=(0,g.useState)(!1),f=(0,g.useCallback)((e=>{h(e)}),[]),b=(0,g.useCallback)((()=>v(!0)),[]),I=(0,g.useCallback)((()=>u({friendEntityID:n.entityID})),[n,u]),S=(0,g.useCallback)((()=>v(!1)),[]);(0,g.useEffect)((()=>{p&&!i&&v(!1)}),[p,i,v]);const M=(0,g.useMemo)((()=>function(e,t,n){const r=[{id:bze,title:(0,Ce.Z)("Shared Libraries"),isSelected:e===bze},{id:Ize,title:(0,Ce.Z)("Shared Media"),isSelected:e===Ize}];return t&&r.push({id:Sze,title:(0,Ce.Z)("Profile"),isSelected:e===Sze}),n&&r.push({id:Mze,title:(0,Ce.Z)("Restrictions"),isSelected:e===Mze}),r}(m,l,c)),[m,l,c]),E=Eze[m];return g.createElement(fx.Z,{metricsPage:pt.yV,metricsProperties:{pane:"users-sharing"},scrollDirection:tZ.Hn},!d&&a?g.createElement(ZLe,null):null,!d&&s?g.createElement(Vf,{className:"UserSharingSettingsPage-pageHeader-hkZzKx PageHeader-pageHeader-WpvbJc"},g.createElement(ZZ,{className:"UserSharingSettingsPage-pageHeaderLeft-1roQTK PageHeaderLeft-pageHeaderLeft-3u7DxT"},g.createElement(X2.Z,{className:"UserSharingSettingsPage-avatar-1ZX94P AvatarImg-avatar-3gp48Z",serverEntityID:t,url:n.thumb,width:60,height:60}),g.createElement("div",{className:"UserSharingSettingsPage-username-2e2LWN"},n.title)),g.createElement(Uz,{tabs:M,hideSingleTabs:!1,onPress:f}),g.createElement(TZ.Z,{className:"UserSharingSettingsPage-pageHeaderRight-Wa52y7 PageHeaderRight-pageHeaderRight-8bsxD4"},o?g.createElement(Lx.Z,{className:"UserSharingSettingsPage-addToHomeIcon-3UmUQ5 IconButton-button-llQ1So",iconComponent:NLe,title:(0,Ce.Z)("Add to Plex Home"),onPress:b}):null)):null,!d&&s?g.createElement(E,{friend:n,isGuest:r}):null,d?g.createElement(f0,{title:(0,Ce.Z)("An error occurred loading this user"),description:(0,Ce.Z)("Please try again")},g.createElement(pw.Z,{to:"#!/settings/users-sharing",kind:ic._8},(0,Ce.Z)("Go Back"))):null,g.createElement(yt.Z,{isOpen:y,metricsPage:pt.Bx,title:(0,Ce.Z)("Add to Plex Home"),message:g.createElement("div",{className:"UserSharingSettingsPage-confirmMessageContainer-1C49Jj"},g.createElement(db.Z,{className:"UserSharingSettingsPage-confirmWarning-1AxQ8b"}),g.createElement("div",{className:fze},(0,Ce.Z)("Inviting other users to your home is a security risk that could allow these users to access your account. You should only do this if you live in the same home and share devices.")),g.createElement("div",{className:fze},(0,Ce.Z)("Users in your Home appear on the Switch User screen. The invited user will be asked to confirm Home membership."))),confirmLabel:(0,Ce.Z)("Confirm"),kind:ic.T,isConfirmButtonSpinning:i,onConfirm:I,onCancel:S}))};var Dze=Object.defineProperty,Cze=Object.prototype.hasOwnProperty,wze=Object.getOwnPropertySymbols,Zze=Object.prototype.propertyIsEnumerable,Tze=(e,t,n)=>t in e?Dze(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const Nze=(0,fe.P1)((e=>e.ui.userSharingSettingsPage),(e=>e.cloudServer),((e,{userID:t})=>t),jme.Z,Aje.Z,$2.Z,Oje.Z,(0,wn.Z)("hasPlexPass"),((e,t,n,r,i,a,s,o)=>{const l=Object.keys(a).find((e=>a[e].id===n)),c=Object.keys(s).find((e=>s[e].id===n)),d=r.isAllFriendsPopulated,u=a[l],p=s[c],m=!!i.sentInvites.find((e=>parseInt(e.id,10)===u.id&&e.home));return{serverEntityID:t,friend:u,isGuest:!!p&&p.guest,isUpdatingFriend:e.isUpdatingFriend,isPending:r.isAllFriendsPending&&!d,isPopulated:d,hasError:!!r.allFriendsError||d&&!l,showAddToHome:o&&!(u&&u.home)&&!m,showProfile:!!p&&p.restricted,showRestrictions:!r.restricted}})),Oze={dispatchResetUserSharingSettingsPage:dLe,dispatchPopulateAllFriends:oN.Bl,dispatchPopulateHomeUsers:oN.Dg,dispatchAddToHome:PLe},Aze=(0,v.$j)(Nze,Oze)((function(e){const t=e,{dispatchResetUserSharingSettingsPage:n,dispatchPopulateAllFriends:r,dispatchPopulateHomeUsers:i}=t,a=((e,t)=>{var n={};for(var r in e)Cze.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&wze)for(var r of wze(e))t.indexOf(r)<0&&Zze.call(e,r)&&(n[r]=e[r]);return n})(t,["dispatchResetUserSharingSettingsPage","dispatchPopulateAllFriends","dispatchPopulateHomeUsers"]);return(0,g.useEffect)((()=>{(0,fn.c9)(r)}),[r]),(0,g.useEffect)((()=>{(0,fn.c9)(i)}),[i]),(0,g.useEffect)((()=>n),[n]),g.createElement(Pze,((e,t)=>{for(var n in t||(t={}))Cze.call(t,n)&&Tze(e,n,t[n]);if(wze)for(var n of wze(t))Zze.call(t,n)&&Tze(e,n,t[n]);return e})({},a))}));function xze(){const{userID:e}=(0,f.UO)();return g.createElement(Aze,{userID:parseInt(e,10)})}var jze=n(34857),Lze=n(89571),kze=n(82150);function Rze(e){(0,b.DB)("appStore").dispatch(e)}const zze=function(e){return(0,jze.RE)(Rze,e)};function Uze(e){return e((0,b.DB)("appStore").getState())}const Vze=function(e){return(0,jze.RE)(Uze,e)};var Bze=Object.defineProperty,Fze=Object.prototype.hasOwnProperty,_ze=Object.getOwnPropertySymbols,Hze=Object.prototype.propertyIsEnumerable,Qze=(e,t,n)=>t in e?Bze(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Gze=(e,t)=>{for(var n in t||(t={}))Fze.call(t,n)&&Qze(e,n,t[n]);if(_ze)for(var n of _ze(t))Hze.call(t,n)&&Qze(e,n,t[n]);return e};function*Wze({payload:e}){const{metadataKey:t,channel:n,prePlayRouteParams:r,server:i,provider:a,metricsPage:s,metricsContextTuple:o}=e;n?yield(0,jze.RE)(Yze,i,a,n,s,o):t?yield(0,jze.RE)(Kze,i,a,t,s,o,r):(0,nle.Z)("home",{},!0)}function*Yze(e,t,n,r,i){try{yield zze((0,Ol.lS)({serverEntityID:e.entityID,providerEntityID:t.entityID,metricsPage:r,metricsProperties:{setting:r7,contextTuple:i},options:{type:Al.pX,identifier:n}})),yield(0,jze.RE)(qze)}catch(e){}finally{(0,nle.Z)("home",{},!0)}}function*Kze(e,t,n,r,i,a={}){var s;const o=Gze(Gze({},a),{autoplay:void 0});let l;try{const a=(yield(0,jze.RE)(Lze.Z.get,n,{server:e,provider:t})).data.MediaContainer,{Metadata:c=[]}=a,d=((e,t)=>{var n={};for(var r in e)Fze.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&_ze)for(var r of _ze(e))t.indexOf(r)<0&&Hze.call(e,r)&&(n[r]=e[r]);return n})(a,["Metadata"]),[u]=c;if(!u)return;const p=(0,kze.Z)({server:e,provider:t,data:u,container:d});l=p.metadataItem;const m=p.metadataItemStates[l.sourceURI];yield zze((0,Nl.redispatchLegacyMetadataAction)({containerServer:e,containerProvider:t,server:e,provider:t,metadataItem:l,metadataItemState:m,metricsPage:r,legacyAction:vt.wA({metricsProperties:{setting:r7,contextTuple:i}})})),yield(0,jze.RE)(qze)}catch(e){}finally{const r=null==(s=(0,li.Z)(e,t,n,o,(null==l?void 0:l.isPlaylist)?l.playlistType:void 0))?void 0:s.replace("#!","");r?zZe.Z.replace(r):(0,nle.Z)("home",{},!0)}}function*qze(){let e=0;for(;!((yield Vze((0,ht.Z)(gt.G.AudioVideo,"isOpen")))||e>2e3);)e+=100,yield(0,jze.gw)(100)}const $ze=(0,lo.PH)("watchNowSaga/watchNow");function*Jze(){yield(0,jze.A7)($ze.type,Wze)}var Xze=Object.prototype.hasOwnProperty,eUe=Object.getOwnPropertySymbols,tUe=Object.prototype.propertyIsEnumerable;function nUe(){const e=(0,v.I0)(),{metricsPage:t,metricsContextTuple:n}=(0,Jt.Zn)(),{machineIdentifier:r,providerIdentifier:i}=MK(),a=(0,v.v9)(Fn(r)),s=(0,v.v9)(kn(r,i)),o=(0,De.Z)();return(0,g.useEffect)((()=>{const r=o,{key:i,channel:l,source:c}=r,d=((e,t)=>{var n={};for(var r in e)Xze.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&eUe)for(var r of eUe(e))t.indexOf(r)<0&&tUe.call(e,r)&&(n[r]=e[r]);return n})(r,["key","channel","source"]);e($ze({server:a,provider:s,metadataKey:i?(0,EK.Z)(i):void 0,channel:l?(0,EK.Z)(l):void 0,prePlayRouteParams:d,metricsPage:t,metricsContextTuple:n}))}),[o,e,t,s,a,n]),g.createElement(CK.Z,null,g.createElement(Mx.Z,null))}function rUe(){const{machineIdentifier:e,providerIdentifier:t}=MK(),n=(0,De.Z)();return g.createElement(zK,{machineIdentifier:e,providerIdentifier:t},g.createElement(Jt.ZP,{metricsPage:pt.sD,metricsContextParam:(0,EK.Z)(n.context)},g.createElement(nUe,null)))}const iUe=[{key:"general",title:()=>(0,Ce.Z)("General")},{key:"quality",title:()=>(0,Ce.Z)("Quality")},{key:"debug",title:()=>(0,Ce.Z)("Debug"),isAdvanced:!0},{key:"player",title:()=>(0,Ce.Z)("Player")},{key:"downloads",title:()=>(0,Ce.Z)("Downloads")}];var aUe=n(89656);const sUe={NONE:0,VAST:1};sUe.settings=[{value:sUe.NONE,title:"None"},{value:sUe.VAST,title:"Add ?debug=1 to ad requests"}];const oUe=sUe;var lUe=n(84734),cUe=n(55642);const dUe=[1,2,3,4],uUe=(sa().oneOf(dUe),KO.Z.oneOf(...dUe)),pUe={WHITE:"#ffffff",YELLOW:"#ffee00",BLACK:"#000000",CYAN:"#00ffff",BLUE:"#0000ff",GREEN:"#00ff00",MAGENTA:"#ee00ee",RED:"#ff0000",GREY:"#808080"};pUe.settings=[{value:pUe.WHITE,title:"White"},{value:pUe.YELLOW,title:"Yellow"},{value:pUe.BLACK,title:"Black"},{value:pUe.CYAN,title:"Cyan"},{value:pUe.BLUE,title:"Blue"},{value:pUe.GREEN,title:"Green"},{value:pUe.MAGENTA,title:"Magenta"},{value:pUe.RED,title:"Red"},{value:pUe.GREY,title:"Grey"}],pUe.ALL=[pUe.WHITE,pUe.YELLOW,pUe.BLACK,pUe.CYAN,pUe.BLUE,pUe.GREEN,pUe.MAGENTA,pUe.RED,pUe.GREY];const mUe=pUe,hUe={TOP:"top",MIDDLE:"middle",BOTTOM:"bottom"};hUe.settings=[{value:hUe.TOP,title:"Top"},{value:hUe.MIDDLE,title:"Middle"},{value:hUe.BOTTOM,title:"Bottom"}],hUe.ALL=[hUe.TOP,hUe.MIDDLE,hUe.BOTTOM];const gUe=hUe,yUe={TINY:50,SMALL:75,NORMAL:100,LARGE:125,HUGE:200};yUe.settings=[{value:yUe.TINY,title:"Tiny"},{value:yUe.SMALL,title:"Small"},{value:yUe.NORMAL,title:"Normal"},{value:yUe.LARGE,title:"Large"},{value:yUe.HUGE,title:"Huge"}],yUe.ALL=[yUe.TINY,yUe.SMALL,yUe.NORMAL,yUe.LARGE,yUe.HUGE];const vUe=yUe;var fUe=n(78831),bUe=n(67124),IUe=n(54304);function SUe(){return!(0,FS.Z)()}var MUe=n(16561),EUe=n(3595),PUe=n(76334);function DUe(){const e=Object.keys(EUe.Z.getLanguages()).map((e=>({value:e,title:(0,PUe.Z)(e)})));return e.sort(((e,t)=>e.title.localeCompare(t.title))),e}var CUe=Object.defineProperty,wUe=Object.prototype.hasOwnProperty,ZUe=Object.getOwnPropertySymbols,TUe=Object.prototype.propertyIsEnumerable,NUe=(e,t,n)=>t in e?CUe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,OUe=(e,t)=>{for(var n in t||(t={}))wUe.call(t,n)&&NUe(e,n,t[n]);if(ZUe)for(var n of ZUe(t))TUe.call(t,n)&&NUe(e,n,t[n]);return e};const AUe=function(e,t){const{base:n,searchParams:r,hashPath:i,hashParams:a}=Y(e),s=(0,G.Z)(r);return`${n}?${(0,NZe.Z)(OUe(OUe({},s),t))}${(i||a?"#":"")+i+a}`};var xUe=n(64033);const jUe={amp:"&",apos:"'","#x27":"'","#x2F":"/","#39":"'","#47":"/",lt:"<",gt:">",nbsp:" ",quot:'"'};function LUe(e){let t=e;return Object.keys(jUe).forEach((e=>{t=t.replace(new RegExp((0,k.Z)(`&${e};`),"g"),jUe[e])})),t}var kUe=Object.defineProperty,RUe=Object.prototype.hasOwnProperty,zUe=Object.getOwnPropertySymbols,UUe=Object.prototype.propertyIsEnumerable,VUe=(e,t,n)=>t in e?kUe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,BUe=(e,t)=>{for(var n in t||(t={}))RUe.call(t,n)&&VUe(e,n,t[n]);if(zUe)for(var n of zUe(t))UUe.call(t,n)&&VUe(e,n,t[n]);return e};const FUe=oA.Z.extend({sessionAttrs:{protocol:KO.Z.string.isRequired,protocolCapabilities:KO.Z.array.isRequired},syncedAttrs:{friendlyName:KO.Z.string.isRequired,capabilities:KO.Z.array,volume:KO.Z.integer.isRequired},defaults:{protocol:Bj.l,protocolCapabilities:["timeline","playback","mirror","playqueues","provider-playback"],volume:100},augmentResponse:e=>BUe(BUe({},e),{friendlyName:LUe(e.friendlyName)})}),_Ue="ui/player/remoteCastPlayer/changeCastApiAvailability",HUe="ui/player/remoteCastPlayer/requestCastSession",QUe="ui/player/remoteCastPlayer/changeRemoteCastPlayer",GUe=(0,bc.Z)(_Ue),WUe=(0,bc.Z)(HUe),YUe=(0,bc.Z)(QUe),KUe={[_Ue](e,t){e.set({castApiAvailability:t})},[HUe](e){(0,b.DB)("remoteCastPlayerManager").requestSession()},[QUe](e,t){const n=e.get("ui"),r=n.get("audioVideoPlayer"),i=n.get("photoPlayer"),a=n.get("romPlayer");if(a.get("isOpen")&&a.set({hasError:!0,errorMessage:(0,Ce.Z)("Games are unsupported when connected to a remote player.")}),r.get("isOpen")){const e=r.get("isWatchTogether")?{hasError:!0,errorMessage:(0,Ce.Z)("Watch Together is not currently supported when connected to a remote player.")}:{confirmLocalToRemote:2,isPaused:!0};r.set(e)}i.get("isOpen")&&i.set({confirmLocalToRemote:2,isPaused:!0}),e.set("remotePlayer",new FUe(t,{parse:!0}))}},qUe="auto",$Ue="2.0",JUe="2.1",XUe="3.1",eVe="5.1",tVe="7.1",nVe="ac3",rVe="dts",iVe="dts-hd",aVe="eac3",sVe="truehd",oVe={0:{channelLayouts:Object.values(l),passthroughCodecs:[],transcodeToAC3:!1},2:{channelLayouts:Object.values(l),passthroughCodecs:Object.values(c),transcodeToAC3:!1},1:{channelLayouts:[$Ue],passthroughCodecs:[nVe,rVe],transcodeToAC3:!0}},lVe="auto";var cVe={PRODUCTION:"9AC194DC",QA:"4289C4E0",NINJA:"EB90125F",CUSTOM:"custom"};cVe.settings=[{value:cVe.PRODUCTION,title:"Production"},{value:cVe.QA,title:"QA"},{value:cVe.NINJA,title:"Ninja"},{value:cVe.CUSTOM,title:"Custom"}];const dVe=cVe,uVe={musicSettings:[{value:lme.Z.ORIGINAL,title:()=>(0,Ce.Z)("Original")},{value:3,title:()=>(0,Ce.Z)("High (320 Kbps)")},{value:2,title:()=>(0,Ce.Z)("Medium (192 Kbps)")},{value:1,title:()=>(0,Ce.Z)("Low (128 Kbps)")}],videoSettings:[{value:lme.Z.ORIGINAL,title:()=>(0,Ce.Z)("Original")},{value:12,title:()=>(0,Ce.Z)("High (20 Mbps, 1080p)")},{value:8,title:()=>(0,Ce.Z)("Medium (4 Mbps, 720p)")},{value:5,title:()=>(0,Ce.Z)("Low (1.5 Mbps, 480p)")}]};function pVe(e){var t;const{name:n,description:r}=(null==(t=e.toJSON)?void 0:t.call(e))||e;return n===lVe?(0,Ce.Z)("Auto select device"):r}var mVe=n(10912),hVe=n.n(mVe),gVe=Object.defineProperty,yVe=Object.prototype.hasOwnProperty,vVe=Object.getOwnPropertySymbols,fVe=Object.prototype.propertyIsEnumerable,bVe=(e,t,n)=>t in e?gVe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,IVe=(e,t)=>{for(var n in t||(t={}))yVe.call(t,n)&&bVe(e,n,t[n]);if(vVe)for(var n of vVe(t))fVe.call(t,n)&&bVe(e,n,t[n]);return e},SVe=[{value:0,title:"None"},{value:1,title:"1"},{value:2,title:"2"},{value:3,title:"3"},{value:4,title:"4"},{value:5,title:"5"}];function MVe(e){const t=[{title:(0,Ce.Z)("Auto"),value:qUe},{title:(0,Ce.Z)("2.0 (Stereo)"),value:$Ue},{title:(0,Ce.Z)("2.1"),value:JUe},{title:(0,Ce.Z)("3.1"),value:XUe},{title:(0,Ce.Z)("5.1"),value:eVe},{title:(0,Ce.Z)("7.1"),value:tVe}],n=[{title:(0,Ce.Z)("Passthrough {codec}",{codec:"Dolby Digital"}),value:nVe},{title:(0,Ce.Z)("Passthrough {codec}",{codec:"Dolby Digital Plus"}),value:aVe},{title:(0,Ce.Z)("Passthrough {codec}",{codec:"DTS"}),value:rVe},{title:(0,Ce.Z)("Passthrough {codec}",{codec:"DTS-HD"}),value:iVe},{title:(0,Ce.Z)("Passthrough {codec}",{codec:"Dolby TrueHD"}),value:sVe}];return{kind:e,channelLayoutSettings:t.filter((t=>oVe[e].channelLayouts.includes(t.value))),passthroughCodecSettings:n.filter((t=>oVe[e].passthroughCodecs.includes(t.value))),transcodeToAC3Setting:{title:(0,Ce.Z)("Transcode to AC3"),value:oVe[e].transcodeToAC3}}}const EVe=p.Z.ItemView.extend({className:"web-settings-container",template:hVe(),ui:{chromecastCustomGroup:"#chromecast-custom-group",customHomeStreamingSettings:".custom-home-streaming-settings",recommendedHomeStreamingSettings:".recommended-home-streaming-settings",toggleSyncBtn:".toggle-sync-btn",resetCustomizationBtn:".reset-customization-btn",restoreBtn:".restore-btn",submitBtn:".submit-btn",message:".form-message",audioDeviceName:".audio-device-name",audioDevicesFieldSets:".audio-device-fields",audioDeviceKindSelects:".audio-device-kind",audioDeviceKindFieldSets:".audio-device-kind-fields"},events:{"click .toggle-advanced-btn":"onToggleAdvancedClick","click .reload-securely-btn":"onReloadSecurelyClick","click .settings-nav a":"onSettingsGroupClick","change .audio-device-name":"onAudioDeviceChange","change .audio-device-kind":"onAudioDeviceKindChange","change #chromecastAppID":"onChromecastAppIDChange","change #useHomeStreamingRecommendedSettings":"onUseHomeStreamingRecommendedSettingsChange","change input[id]":"onInputChange","input input[type=text]":"onInputChange","change select[id]":"onInputChange","click .toggle-sync-btn":"onToggleSync","click .reset-customization-btn":"onResetCustomization","click .restore-btn":"onRestore","click .reset-reminders-btn":"onResetReminders","submit #web-settings-form":"onSubmit"},onlyAfterRender:["saveChanges","displayHomeStreamingSettings"],initialize:function(e){this.changes={};var t=(0,b.DB)("appModel"),n=t.get("user"),r=n.get("experienceSettings");this.model=t.get("deviceSettings"),this.settingsGroup=e.settingsGroup,this.listenTo(n,"change:signedIn",this.onSignedInChange),this.listenTo(t,"change:primaryServer",this.render),this.listenTo(le.Z,"shortcut:save",this.saveChanges);const i=t.get("deviceSettings").get("audioDevices");i&&this.listenTo(i,"change",this.onAudioDevicesChange);var a=r.get("showAdvancedSettings");this.$el.toggleClass("show-advanced",a),this.displayHomeStreamingSettings(r.get("useHomeStreamingRecommendedSettings")),"general"===this.settingsGroup&&(0,b.DB)("appStore").dispatch((0,Wn.T5)({hasDismissedInsecureHostedAppWarning:!0}))},serializeData:function(){var e=[{value:"h:mma",title:(0,Ce.Z)("12 Hour")},{value:"HH:mm",title:(0,Ce.Z)("24 Hour")}],t=this.model.toJSON(),n=(0,b.DB)("appModel"),r=(0,uC.VX)(n),i=r.get("experienceSettings").toJSON(),a=r.isNinja(),s=r.get("restricted"),o=r.get("isSignedIn")&&ae.Z.allowSyncSettings&&!i.isRemoteSchemaVersionNewer,l=r.get("isSignedIn")&&ae.Z.allowSyncSettings&&i.isRemoteSchemaVersionNewer,c=SUe(),d=Pj.prop("video"),u=(0,IUe.P_)(),p=r.isNinja()?"4.57.4-320801d":"4.57.4",m=S().escape(L.Z.prop("X-Plex-Product"));return(0,IUe.P_)()&&(p=L.Z.prop("X-Plex-Version")),IVe(IVe({},this.serializePlatformData()),{deviceSettings:t,experienceSettings:i,canPlayAdaptiveBitrate:c,hasSubtitleBurnLevel:!u,canDebugAds:r.isEmployee(),canDebugAdaptiveBitrate:c&&a,isAnonymous:r.get("anonymous"),isRestricted:s,isSyncSettingsAllowed:o,isSyncSettingsRestrictedBySchemaVersion:l,isHybridPlatform:u,isNinja:a,isQtDesktop:(0,IUe.P_)(),version:p,languages:DUe(),debugLevels:lUe.Z.settings,debugAdKinds:oUe.settings,subtitlesBurnLevels:fUe.Z.settings,chromecastAppIDs:dVe.settings,availableQualities:Qj.Z.getAvailableQualities({lowestQualityIndex:d.lowestQualityIndex}).reverse(),subtitleColors:mUe.settings,subtitlePositions:gUe.settings,subtitleSizes:vUe.settings,musicDownloadQualityLevels:uVe.musicSettings,videoDownloadQualityLevels:uVe.videoSettings,httpFallbackOptions:se.Z.isHostedHttps?null:cUe.Z.settings,alertIcon:(0,MUe.Z)(we.Z),showReloadSecurely:!1,extrasPrefixCounts:SVe,timeFormats:e,generalSettingsRoute:"#!/settings/web/general",escapedProductName:m,hasV4DVRSetupFeature:r.get("features").get(bn.C1),normalizeDownmixedVolume:i.audioBoost===aUe.KH})},serializePlatformData(){if(!(0,IUe.P_)())return{};const e=this.model.get("player.audioDevice");return{audioDevices:this.model.get("audioDevices").filter((e=>e.get("present"))).map((t=>{const n=IVe(IVe({},t.toJSON()),{cid:t.cid,isSelected:t.get("name")===e,title:pVe(t)});return t.get("name")!==lVe&&(n.kinds=[{title:(0,Ce.Z)("Basic"),value:0},{title:(0,Ce.Z)("Optical S/PDIF"),value:1},{title:(0,Ce.Z)("HDMI"),value:2}],n.capabilities=[MVe(0),MVe(1),MVe(2)]),n})),keepOnTopSettings:[{title:(0,Ce.Z)("Never"),value:0},{title:(0,Ce.Z)("During playback"),value:1},{title:(0,Ce.Z)("Always"),value:2}],refreshRateSwitchingDelaySettings:[{title:"None",value:0},{title:"1 Second",value:1e3},{title:"3 Seconds",value:3e3},{title:"5 Seconds",value:5e3}]}},saveChanges:function(){const e=this.ui.toggleSyncBtn,t=this.ui.resetCustomizationBtn,n=this.ui.restoreBtn,r=this.ui.submitBtn,i=this.ui.message;if(r.isDisabled())return;i.text(""),i.removeClass("has-error"),e.addClass("disabled"),t.addClass("disabled"),n.addClass("disabled"),r.addClass("active");const a=!!this.changes.language,s=!1===this.changes.shouldSaveLastSourcePivots,o=!(!this.changes.chromecastAppID&&!this.changes.chromecastCustomAppID),l=this.tryInterceptAudioDeviceChanges(this.changes).then((e=>this.interceptNormalizedDownmixedVolumeChange(e))).then((e=>this.saveSettings(e)));l.done(S().bind((function(){const e=(0,b.DB)("appStore");this.changes={},s&&e.dispatch((0,Wn.Us)()),o&&e.dispatch(GUe(4)),a?e.dispatch(Fv.actions.languageChanged()):(r.addClass("disabled"),i.text((0,Ce.Z)("Your changes have been saved.")))}),this)),l.fail(S().bind((function(){const e=(0,b.DB)("appModel").get("user"),t=(0,xUe.Z)(e)?(0,Ce.Z)("Unable to sync these changes with other devices at this time. Plex will automatically retry later."):(0,Ce.Z)("Your changes could not be saved.");i.addClass("has-error"),i.text(t)}),this)),l.always(S().bind((function(){a||(e.removeClass("disabled"),t.removeClass("disabled"),n.removeClass("disabled"),r.removeClass("active"))}),this))},toggleSync:function(){const e=this.ui.toggleSyncBtn,t=this.ui.resetCustomizationBtn,n=this.ui.submitBtn,r=this.ui.message;if(e.isDisabled())return;r.text("");const i=this.getToggleSyncConfirmModal();i.promise.then((()=>(e.addClass("active"),t.addClass("disabled"),n.addClass("disabled"),this.toggleShouldSyncSettings().then((()=>{this.changes={},this.render(),i.hide()}),(()=>{r.text((0,Ce.Z)("An error occurred, could not load settings from your Plex profile.")),e.removeClass("active"),t.removeClass("disabled"),n.removeClass("disabled"),i.hide()}))))),le.Z.trigger("show:modal",i)},resetCustomization:function(){const e=this.ui.resetCustomizationBtn,t=this.ui.toggleSyncBtn,n=this.ui.submitBtn,r=this.ui.message;if(e.isDisabled())return;r.text("");const i=this.getResetCustomizationConfirmModal();i.promise.then((()=>{e.addClass("active"),t.addClass("disabled"),n.addClass("disabled"),(0,b.DB)("appStore").dispatch((0,oN.mo)()),i.hide()})),le.Z.trigger("show:modal",i)},restoreDefaults:function(){const e=this.ui.restoreBtn,t=this.ui.submitBtn,n=this.ui.message;if(e.isDisabled())return;n.text("");const r=this.getRestoreDefaultsConfirmModal();r.promise.then((()=>(e.addClass("active"),t.addClass("disabled"),this.restoreDefaultSettings().then((()=>{this.changes={},this.render(),r.hide()}),(()=>{n.text((0,Ce.Z)("An error occurred, defaults have not been restored.")),e.removeClass("active"),t.removeClass("disabled"),r.hide()}))))),le.Z.trigger("show:modal",r)},getToggleSyncConfirmModal:function(){const e=(0,b.DB)("appModel").get("deviceSettings").get("shouldSyncSettings"),t=e?(0,Ce.Z)("Turn off settings sync"):(0,Ce.Z)("Turn on settings sync"),n=L.Z.prop("X-Plex-Product"),r=e?(0,Ce.Z)("Changes to {productName} settings and customization will no longer synchronize with other {productName} instances.",{productName:n}):(0,Ce.Z)("{productName} settings and customization will now be used on other {productName} instances.",{productName:n});return new xle.Z({title:t,message:r,confirmLabel:t,cancelLabel:(0,Ce.Z)("Cancel"),async:!0})},getResetCustomizationConfirmModal:function(){const e=(0,Ce.Z)("Reset customization");return new xle.Z({title:e,message:(0,Ce.Z)("You are about to reset your sidebar navigation and home screen layout to the default state."),confirmLabel:e,cancelLabel:(0,Ce.Z)("Cancel"),async:!0,hasDanger:!0})},getRestoreDefaultsConfirmModal:function(){const e=(0,b.DB)("appModel").get("user"),t=(0,xUe.Z)(e),n=(0,Ce.Z)("Restore defaults"),r=L.Z.prop("X-Plex-Product"),i=t?(0,Ce.Z)("All {productName} settings and customization will be reset and restored to their default state. This will affect other {productName} instances.",{productName:r}):(0,Ce.Z)("All {productName} settings and customization will be reset and restored to their default state. Other {productName} instances will not be affected.",{productName:r});return new xle.Z({title:n,message:i,confirmLabel:n,cancelLabel:(0,Ce.Z)("Cancel"),async:!0,hasDanger:!0})},waitForAttribute:function(e,t,n){var r=h().Deferred(),i=`change:${t}`;return e.on(i,(function t(a,s){s===n&&(e.off(i,t),r.resolve())})),r.promise()},tryInterceptAudioDeviceChanges:function(e){return(0,IUe.P_)()?this.interceptAudioDeviceChanges(e):h().Deferred().resolve(e).promise()},interceptAudioDeviceChanges:function(e){const t=(0,b.DB)("appModel").get("deviceSettings"),n=t.get("audioDevices"),r=e["player.audioDevice"],i=new Set;for(const t in e)/^ignore/.test(t)&&(i.add(document.getElementById(t).dataset.cid),delete e[t]);if(i.forEach((e=>{const t=n.get(e),r=this.getAudioDeviceSettingsFromForm(e);t&&r&&((0,M.Z)(`[Settings] Updating ${t.get("description")} (${t.get("name")}): ${JSON.stringify(r)}`),t.set(r))})),i.size||r){const i=n.get(r||t.get("player.audioDevice"));if(i)if(i.get("present")){const t={"player.audioDevice":i.get("name"),"player.audioChannelLayout":i.get("channelLayout"),"player.audioPassthroughCodecs":i.get("passthroughCodecs"),"player.transcodeToAC3Enabled":i.get("transcodeToAC3")};Object.assign(e,t),(0,M.Z)(`[Settings] Audio device changes ${i.get("description")} (${i.get("name")}): ${JSON.stringify(t)}`)}else M.Z.error(`[Settings] Expected device ${i.get("description")} (${i.get("name")}) is absent. Changes saved but refusing to select absent device.`);else M.Z.error("[Settings] Expected audio device missing.")}return h().Deferred().resolve(e).promise()},getAudioDeviceFields:function(e){return this.ui.audioDevicesFieldSets.toArray().find((t=>t.dataset.cid===e))},getAudioDeviceKindSelect:function(e){return this.ui.audioDeviceKindSelects.toArray().find((t=>t.dataset.cid===e))},getAudioDeviceKindFields:function(e,t){return this.ui.audioDeviceKindFieldSets.toArray().find((n=>n.dataset.cid===e&&n.dataset.kind===t))},getAudioDeviceSettingsFromForm:function(e){const t=this.getAudioDeviceKindSelect(e);if(!t)return null;const n=this.getAudioDeviceKindFields(e,t.value),r={channelLayout:n.querySelector("[name=channelLayout]").value,kind:parseInt(t.value,10),passthroughCodecs:[],transcodeToAC3:n.querySelector("[name=transcodeToAC3]").checked};for(const e of n.querySelectorAll("[name=passthroughCodecs]"))e.checked&&r.passthroughCodecs.push(e.value);return r},interceptNormalizedDownmixedVolumeChange:function(e){const{normalizeDownmixedVolume:t}=e;return null!=t&&(delete e.normalizeDownmixedVolume,e.audioBoost=t?aUe.KH:aUe.o5),h().Deferred().resolve(e).promise()},saveSettings:function(e){var t=[],n=(0,b.DB)("appModel"),r=[{model:n.get("deviceSettings"),actionCreator:Wn.T5},{model:n.get("user").get("experienceSettings"),actionCreator:AM.LN}].reduce(((e,{model:n,actionCreator:r})=>{var i={},a={};for(var s in e){var o,l=e[s];if(n.hasAttr(s)){const e=Object.getPrototypeOf(n),t=e.syncedAttrs[s]||e.sessionAttrs[s];"string"==typeof l&&t===KO.Z.integer&&(l=(0,bUe.Z)(l)),o=i}else o=a;o[s]=l}return Object.keys(i).length&&t.push(this.saveSettingUsingActionCreator(i,n,r)),a}),e);return Object.keys(r).length&&t.push(this.model.save(r)),t.length?h().when(...t):h().Deferred().resolve().promise()},toggleShouldSyncSettings:function(){const e=(0,b.DB)("appModel").get("deviceSettings"),t=(0,b.DB)("appModel").get("user").get("experienceSettings"),n=e.get("shouldSyncSettings");return this.saveSettingUsingActionCreator({shouldSyncSettings:!n},e,Wn.T5).then((()=>this.saveSettingUsingActionCreator({},t,AM.LN)))},restoreDefaultSettings:function(){const e=[],t=(0,b.DB)("appModel");return[{model:t.get("deviceSettings"),actionCreator:mt.s7},{model:t.get("user").get("experienceSettings"),actionCreator:oN.zi}].forEach((({model:t,actionCreator:n})=>{e.push(this.saveSettingUsingActionCreator({},t,n))})),h().when(...e)},saveSettingUsingActionCreator:function(e,t,n){if(!t.has("isSaving"))return(0,b.DB)("appStore").dispatch(n(e)),h().Deferred().resolve().promise();var r=t.get("isSaving"),i=this.waitForAttribute(t,"isSaving",!1);return i=i.then((()=>r?this.saveSettingUsingActionCreator(e,t,n):t.get("saveError")?h().Deferred().reject().promise():h().Deferred().resolve().promise())),r||window.setTimeout((()=>{(0,b.DB)("appStore").dispatch(n(e))}),0),i},displayHomeStreamingSettings:function(e){this.ui.customHomeStreamingSettings.toggleClass("hidden",e),this.ui.recommendedHomeStreamingSettings.toggleClass("hidden",!e)},onRender:function(){this.$("#"+this.settingsGroup+"-web-group").addClass("active"),this.$("#"+this.settingsGroup+"-web-group-footer").addClass("active")},onSignedInChange:function(e,t){null!=t&&this.render()},onToggleAdvancedClick:function(e){e.preventDefault();var t=this.$el.hasClass("show-advanced");this.$el.toggleClass("show-advanced",!t),t&&"debug"===this.settingsGroup&&(window.location.hash="#!/settings/web/general"),(0,b.DB)("appStore").dispatch((0,AM.LN)({showAdvancedSettings:!t}))},onReloadSecurelyClick(e){window.location=AUe(window.location.href.replace(/^\w+:\/\//,"https://"),{secure:1})},onSettingsGroupClick:function(e){e.preventDefault();var t=h()(e.currentTarget),n=t.attr("href");this.$(".settings-group").removeClass("active"),this.$(n).addClass("active"),this.$(".nav a").removeClass("selected"),t.addClass("selected")},onChromecastAppIDChange:function(e){var t=e.currentTarget.value===dVe.CUSTOM;this.ui.chromecastCustomGroup.toggleClass("hidden",!t)},onUseHomeStreamingRecommendedSettingsChange:function(e){this.displayHomeStreamingSettings(!!e.currentTarget.checked)},onInputChange:function(e){var t=h()(e.currentTarget),n=e.currentTarget,r=n.value;"checkbox"===n.type&&(r=t.prop("checked")),"int"===t.data("type")&&(r=parseInt(r,10)),this.changes[n.id]=r,this.ui.submitBtn.removeClass("disabled"),this.ui.message.text(""),this.ui.message.removeClass("has-error")},onAudioDevicesChange:function(e){const t=this.ui.audioDeviceName[0],n=t.querySelector(`option[value=${e.cid}]`);n&&(n.disabled=!e.get("present"),n.disabled&&n.selected&&(t.selectedIndex=0,this.onAudioDeviceChange({target:t})))},onAudioDeviceChange:function(e){this.ui.audioDevicesFieldSets.each(((t,n)=>{n.classList.toggle("hidden",e.target.value!==n.dataset.cid)}))},onAudioDeviceKindChange:function(e){const{cid:t}=e.target.dataset,n=e.target.value;this.ui.audioDeviceKindFieldSets.each(((e,r)=>{r.classList.toggle("hidden",r.dataset.cid!==t||r.dataset.kind!==n)}))},onToggleSync:function(e){e.preventDefault(),this.toggleSync()},onResetCustomization:function(e){e.preventDefault(),this.resetCustomization()},onRestore:function(e){e.preventDefault(),this.restoreDefaults()},onResetReminders:function(e){e.preventDefault(),(0,b.DB)("appStore").dispatch((0,oN.Y2)())},onSubmit:function(e){e.preventDefault(),this.saveChanges()}}),PVe={onPopulateHomeUsers:oN.Dg},DVe=(0,v.$j)((function(){return(0,fe.P1)(((e,{settingsSubset:t})=>t),Ie,jme.Z,Aje.Z,((e,t,n,r)=>{const i=(a=e,iUe.find((e=>e.key===a)));var a;const s=i&&(n.experienceSettings.showAdvancedSettings||!i.isAdvanced),o=t.isPending&&t.connectionTestResult===_pe._r.PENDING,l=!t.isResolved&&!t.isRejected||t.isResolved&&(!r.isHomeUsersPopulated&&!r.homeUsersError||!!r.homeUsersError&&r.isHomeUsersPending);return{showSpinner:!s||o||l,settingsSubset:e,title:i&&i.title,isSettingsSubsetAllowed:s,isSignedIn:n.isSignedIn}}))}),PVe)((function(e){const{settingsSubset:t,title:n,showSpinner:r,isSettingsSubsetAllowed:i,isSignedIn:a,onPopulateHomeUsers:s}=e,o=(0,f.k6)();return(0,g.useEffect)((()=>{i||(0,nle.Z)("webSettings",{settingsSubset:"general"})}),[o,i]),(0,g.useEffect)((()=>{a&&(0,fn.c9)(s)}),[a,s]),r?g.createElement(CK.Z,null,g.createElement(Mx.Z,null)):g.createElement(g.Fragment,null,g.createElement(PAe,{selectedKey:"web-client--settings--"+t}),g.createElement(uae,{metricsPage:pt.L6,metricsPane:"web:"+t},g.createElement(mae,null,L.Z.prop("X-Plex-Product"),g.createElement(rs.Z,null),n()),g.createElement(hEe,{key:(0,zO.Z)("WebSettingsView","web",t),view:EVe,viewOptions:{subset:"web",settingsGroup:t}})))}));function CVe(){const{settingsSubset:e}=(0,f.UO)(),t=(0,v.v9)(ZZe.Z),n=(0,zO.Z)("WebClientSettingsViewPage",t);return g.createElement(DVe,{key:n,settingsSubset:e})}var wVe=n(44233),ZVe=n(15314),TVe=n.n(ZVe);const NVe=p.Z.ItemView.extend({template:TVe(),initialize:function(){var e=b.DB("appModel");this.listenTo(e,"change:primaryServer",this.render),this.listenTo(e.get("user"),"change:signedIn",this.render)},serializeData:function(){var e=b.DB("appModel"),t=e.get("user"),n=e.get("primaryServer"),r={host:window.location.host,userAgent:window.navigator.userAgent,browser:wVe.Z,user:t.toJSON(),hasPlexSubscription:t.get("hasPlexSubscription"),cloudServer:t.server.toJSON(),cloudServerUrl:t.server.url()};return n&&(r.primaryServer=n.toJSON(),r.primaryServerUrl=n.url()),r}});var OVe=n(32051),AVe=n.n(OVe);const xVe=p.Z.ItemView.extend({className:"logs-container",template:AVe(),ui:{textarea:"textarea"},collectionEvents:{add:"onAdd"},onlyAfterRender:["onAdd"],initialize:function(){this.collection=(0,b.DB)("logs")},serializeData:function(){return{logs:this.collection.toJSONString()}},onAdd:function(e,t){this.ui.textarea.text(this.collection.toJSONString())}}),jVe=(0,fe.P1)(Aje.Z,(e=>e.announcements)),LVe=(0,fe.P1)(jVe,(e=>e.filter((e=>!e.read)))),kVe=(0,fe.P1)(xn.Z,(e=>e.filter((e=>!e.isCloud&&!e.isEmbedded&&!!e.friendlyName)))),RVe=(0,fe.P1)(Aje.Z,(e=>e.invites));var zVe=n(32080);const UVe=function(e){const{isOpen:t,errorMessage:n,onModalClose:r}=e,i=[n||(0,Ce.Z)("There was an unexpected error."),(0,Ce.Z)("Please visit our forums if you continue to experience problems.")];return g.createElement(Zw.Z,{size:Rp.HC,isOpen:t,metricsPage:pt.Sd,onModalClose:r},g.createElement(Tw.Z,{onModalClose:r},g.createElement(vw.Z,null,(0,Ce.Z)("There was an unexpected error")),g.createElement(hw.Z,null,i.join(" "),g.createElement("br",null),g.createElement(pw.Z,{to:iy.bB,target:"_self",kind:ic._8,onPress:r},(0,Ce.Z)("Go to Forums"))),g.createElement(gw.Z,null,g.createElement(cb.Z,{className:zVe.Z.button,"data-autofocus":!0,kind:ic._8,onPress:r},(0,Ce.Z)("Okay")))))},VVe=function(){const e=(0,GN.Z)(),t=(0,Ce.Z)("An unexpected error is impacting the navigation bar");return g.createElement("div",{className:"ErrorNavBar-container-2UKwcq NavBar-container-1YySYJ"},g.createElement(rf.Z,{component:pw.Z,tooltip:t,tooltipAttachment:af.eO,"aria-label":t,onPress:e.onOpen},g.createElement(we.Z,{className:"ErrorNavBar-icon-Chcl6k"})),g.createElement(UVe,{isOpen:e.isOpen,errorMessage:`${t}.`,onModalClose:e.onClose}))};function BVe(){return(0,fe.P1)(Cn.Z,j1("providerEntityID"),((e,t)=>e[t]))}const FVe=function(){return(0,fe.P1)(BVe(),(e=>(0,Ho.Z)(e.identifier,e.providerIdentifier)))},_Ve=function(e){return e.castApiAvailability},HVe=function(){return(e,t)=>t.playerType?(0,fe.P1)(_Ve,FVe(),ml.Z,((e,t,n)=>(0,Gj.Z)({protocol:Bj.l,providerIdentifier:t,userFeaturesByUUID:n})?e:1))(e,t):_Ve(e)},QVe=(0,fe.P1)(Aje.Z,(({cloudCompanions:e})=>e)),GVe=(0,fe.P1)(QVe,(e=>e.reduce(((e,{cloudPlayers:t})=>e.concat(t)),[]))),WVe=(0,fe.P1)((e=>e.companionServer),be.Z,((e,t)=>t[e])),YVe=(0,fe.P1)(WVe,(e=>e?e.desktop.players:[])),KVe=(0,fe.P1)(YVe,GVe,((e,t)=>e.concat(t))),qVe=function(){return(e,t)=>t.playerType?(0,fe.P1)(FVe(),ml.Z,KVe,((e,t,n)=>n.filter((({protocol:n,protocolCapabilities:r})=>(0,Gj.Z)({protocol:n,protocolCapabilities:r,providerIdentifier:e,userFeaturesByUUID:t})))))(e,t):KVe(e,t)},$Ve=(0,fe.P1)(QVe,Ie,((e,t)=>e.filter((({identifier:e})=>e.includes("sonos"))).map((e=>{const n=E.Z.join(e.linkURL,{"X-Plex-Token":t.accessToken,next:window.location.href});return{title:e?e.title:"Sonos",state:e?e.linkState:Vj,url:n}})))),JVe=(0,fe.P1)(WVe,(e=>e?e.desktop.neighborhoodDevices:[])),XVe=(0,fe.P1)(JVe,(e=>!!e.find((({uuid:e})=>e.includes("RINCON")))));function eBe(e){var t=e["aria-label"],n=e.className,r=e.style,i={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-remote-player-off-560"};i["aria-hidden"]=!t,i.style=r,i.className=oa.Z.plexIcon+(n?" "+n:"");var a=[g.createElement.apply(g,["path",{d:"M0 84v98c14.294 0 28.252 1.372 42 3.346V126h476v308H290.654c1.974 13.748 3.346 27.706 3.346 42h266V84H0m42 392c0-23.198-18.802-42-42-42v42h42m56 0h42c0-77.322-62.678-140-140-140v42c54.04 0 98 43.96 98 98m98 0h42c0-131.446-106.554-238-238-238v42c108.08 0 196 87.92 196 196"}].concat([]))];return t&&a.unshift(g.createElement("title",null,t)),g.createElement.apply(g,["svg",i].concat(a))}eBe.propTypes={"aria-label":sa().string,className:sa().string,style:sa().object};const tBe=eBe;function nBe(e){var t=e["aria-label"],n=e.className,r=e.style,i={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-remote-player-on-560"};i["aria-hidden"]=!t,i.style=r,i.className=oa.Z.plexIcon+(n?" "+n:"");var a=[g.createElement.apply(g,["path",{d:"M0 84v98c162.372 0 294 131.628 294 294h266V84H0m42 392c0-23.198-18.802-42-42-42v42h42m56 0h42c0-77.322-62.678-140-140-140v42c54.04 0 98 43.96 98 98m98 0h42c0-131.446-106.554-238-238-238v42c108.08 0 196 87.92 196 196"}].concat([]))];return t&&a.unshift(g.createElement("title",null,t)),g.createElement.apply(g,["svg",i].concat(a))}nBe.propTypes={"aria-label":sa().string,className:sa().string,style:sa().object};const rBe=nBe,iBe=function(e){const{isOpen:t,onClose:n}=e;return g.createElement(Zw.Z,{isOpen:t,metricsPage:pt.BE,size:Rp.HC,onModalClose:n},g.createElement(Tw.Z,{onModalClose:n},g.createElement(vw.Z,null,(0,Ce.Z)("Chromecast unavailable")),g.createElement(hw.Z,null,g.createElement(KV.Z,{message:(0,Ce.Z)("Casting to Chromecast requires a secure connection to the Plex Web app. Please visit {openLink}https://app.plex.tv{closeLink} and try again."),tags:[{open:"openLink",close:"closeLink",component:pw.Z,to:`https://app.plex.tv/desktop${window.location.hash}`,kind:ic._8}]}))))};class aBe extends g.Component{constructor(){super(...arguments),this.onPress=e=>{this.props.onPlayerSelect(this.props.playerIdentifier),this.props.onPress(e)}}render(){return g.createElement(ec.Z,{onPress:this.onPress},this.props.children)}}const sBe=aBe,oBe="RemotePlayerMenuItems-menuItemSubtitle-1kaR9F";class lBe extends g.Component{constructor(e,t){super(e,t),this.onCastPress=e=>{this.props.onCastPress(e),this.props.onMenuClose(e)},this.onCastMissingPress=e=>{this.setState({isCastMissingModalOpen:!0})},this.onCastMissingModalClose=()=>{this.setState({isCastMissingModalOpen:!1},(()=>{this.props.onMenuClose()}))},this.onSonosUpsellPress=()=>{this.setState({isPlexPassModalOpen:!0})},this.onPlexPassModalClose=()=>{this.setState({isPlexPassModalOpen:!1})},this.onDisconnectPress=e=>{this.props.onDisconnectPress(e),this.props.onMenuClose(e)},this.state={isCastMissingModalOpen:!1,isPlexPassModalOpen:!1}}render(){const{castApiAvailability:e,castAppTitle:t,sonosLinks:n,isRemotePlayer:r,remotePlayerName:i,remotePlayerProduct:a,players:s,onMenuClose:o,onPlayerSelect:l}=this.props,{isCastMissingModalOpen:c,isPlexPassModalOpen:d}=this.state,u=n.filter((({state:e})=>e===zj)),p=!r&&2===e,m=!r&&3===e,h=!r&&u.length,y=!r&&n.length&&n.every((({state:e})=>e===Uj)),v=p||m||h||y,f=!r&&!!s.length,b=!(r||p||m||f);return g.createElement("div",null,r?[g.createElement("div",{key:"name",className:"RemotePlayerMenuItems-remotePlayerName-2j0yf_"},i),g.createElement("div",{key:"product",className:"RemotePlayerMenuItems-remoteProduct-3w7vsC"},a),g.createElement(ec.Z,{key:"disconnect",onPress:this.onDisconnectPress},g.createElement(pke,{className:"RemotePlayerMenuItems-disconnectIcon-1okAr3","aria-label":(0,Ce.Z)("Disconnect")}),(0,Ce.Z)("Disconnect"))]:null,p?g.createElement(ec.Z,{key:"cast",onPress:this.onCastPress},t?(0,Ce.Z)("Cast ({title})...",{title:t}):(0,Ce.Z)("Cast...")):null,m?g.createElement(g.Fragment,null,g.createElement(iBe,{isOpen:c,onClose:this.onCastMissingModalClose}),g.createElement(ec.Z,{key:"cast",onPress:this.onCastMissingPress},(0,Ce.Z)("Cast..."))):null,null,h?u.map((e=>g.createElement(ec.Z,{key:e.url,to:e.url},g.createElement("div",null,e.title,"..."),g.createElement("div",{className:oBe},(0,Ce.Z)("Link your Sonos account"))))):null,y?g.createElement(ec.Z,{key:"sonosUpsell",onPress:this.onSonosUpsellPress},g.createElement("div",null,"Sonos..."),g.createElement("div",{className:oBe},(0,Ce.Z)("Upgrade to a Plex Pass"))):null,v&&f?g.createElement(tc.Z,{key:"separator"}):null,f?s.map((({playerIdentifier:e,friendlyName:t,product:n})=>g.createElement(sBe,{key:e,playerIdentifier:e,onPress:o,onPlayerSelect:l},g.createElement("div",null,t),g.createElement("div",{className:"RemotePlayerMenuItems-remotePlayerProduct-2aeldf"},n)))):null,b?g.createElement("div",{className:"RemotePlayerMenuItems-emptyMessage-2mEm8c"},(0,Ce.Z)("No players found")):null,g.createElement(Hp.Z,{origin:Jve.ID,isOpen:d,onModalClose:this.onPlexPassModalClose}))}}const cBe=lBe;class dBe extends g.Component{constructor(e,t){super(e,t),this.onPress=()=>{this.setState(((e,t)=>({isMenuOpen:!e.isMenuOpen})),(()=>{this.props.onMenuChange&&this.props.onMenuChange(this.state.isMenuOpen)}))},this.onMenuClose=()=>{this.setState({isMenuOpen:!1},(()=>{this.props.onMenuChange&&this.props.onMenuChange(!1)}))},this.state={isMenuOpen:!1},this._menuButtonID=(0,GE.Z)()}componentDidUpdate(e,t){this.state.isMenuOpen&&!t.isMenuOpen&&this.props.onDiscoverPlayers()}render(){const{className:e,iconClassName:t,iconComponent:n,isRemotePlayer:r,castApiAvailability:i,castAppTitle:a,sonosLinks:s,hasCompanionServer:o,remotePlayerName:l,remotePlayerProduct:c,players:d,onPlayerSelect:u,onCastPress:p,onDisconnectPress:m}=this.props,h=2===i;return g.createElement(g.Fragment,null,g.createElement(n,{className:e,iconClassName:t,id:this._menuButtonID,ariaLabel:(0,Ce.Z)("Select Player"),title:this.state.isMenuOpen?null:(0,Ce.Z)("Select Player"),iconComponent:r?rBe:tBe,isDisabled:!h&&!o,isSelected:r,onPress:this.onPress}),g.createElement(Xl.Z,{target:this._menuButtonID,isOpen:this.state.isMenuOpen,size:Rp.ln,onMenuClose:this.onMenuClose},g.createElement(cBe,{castApiAvailability:i,castAppTitle:a,sonosLinks:s,isRemotePlayer:r,remotePlayerName:l,remotePlayerProduct:c,players:d,onPlayerSelect:u,onCastPress:p,onDisconnectPress:m,onMenuClose:this.onMenuClose})))}}dBe.defaultProps={iconComponent:Lx.Z};const uBe=dBe,pBe=()=>{},mBe=(0,v.$j)((function(){return(0,fe.P1)(HVe(),Sj,qVe(),$Ve,XVe,(e=>e.companionServer),pBe,((e,t,n,r,i,a,s)=>({castApiAvailability:e,castAppTitle:s,sonosLinks:i?r:[],hasCompanionServer:!!a,isRemotePlayer:!!t,remotePlayerName:t&&t.friendlyName,remotePlayerProduct:t&&t.product,players:n})))}),(function(e){return{onDiscoverPlayers(t){e(wL())},onPlayerSelect(e){(0,b.DB)("remotePlexPlayerManager").requestSession(e)},onCastPress(t){e(WUe())},onDisconnectPress(t){e(TL())}}}))(uBe);var hBe=Object.defineProperty,gBe=Object.prototype.hasOwnProperty,yBe=Object.getOwnPropertySymbols,vBe=Object.prototype.propertyIsEnumerable,fBe=(e,t,n)=>t in e?hBe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,bBe=(e,t)=>{for(var n in t||(t={}))gBe.call(t,n)&&fBe(e,n,t[n]);if(yBe)for(var n of yBe(t))vBe.call(t,n)&&fBe(e,n,t[n]);return e};function IBe(e){const t=e,{className:n,tooltipClassName:r,tooltipFocusedClassName:i,labelClassName:a,iconClassName:s,iconComponent:o,alertIconClassName:l,alertIconComponent:c,title:d,ariaLabel:u,label:p,iconProps:m}=t,h=((e,t)=>{var n={};for(var r in e)gBe.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&yBe)for(var r of yBe(e))t.indexOf(r)<0&&vBe.call(e,r)&&(n[r]=e[r]);return n})(t,["className","tooltipClassName","tooltipFocusedClassName","labelClassName","iconClassName","iconComponent","alertIconClassName","alertIconComponent","title","ariaLabel","label","iconProps"]),y=d||u;return g.createElement(rf.Z,bBe({className:n,tooltipClassName:r,tooltipFocusedClassName:i,component:pw.Z,tooltip:d,"aria-label":y},h),g.createElement(o,bBe({className:s},m)),c?g.createElement(c,{className:l}):null,p?g.createElement("span",{className:a},p):null)}IBe.defaultProps={className:"NavBarIconButton-button-3Fm-24 IconButton-button-llQ1So",iconClassName:"NavBarIconButton-icon-vxS-c-",alertIconClassName:"NavBarIconButton-alertIcon-3RbSz5",tooltipClassName:"NavBarIconButton-tooltip-11tYIE Tooltip-bottomCenter-3I-giq Tooltip-tooltip-1BlaVj Tooltip-tooltipArrow-3ocxiK Tooltip-tooltipTopArrow-1LUIRT Tooltip-tooltipCenterAlignArrow-EwxeoC",tooltipFocusedClassName:"NavBarIconButton-tooltipTriggerHasFocus-3hyJMe NavBarIconButton-tooltip-11tYIE Tooltip-bottomCenter-3I-giq Tooltip-tooltip-1BlaVj Tooltip-tooltipArrow-3ocxiK Tooltip-tooltipTopArrow-1LUIRT Tooltip-tooltipCenterAlignArrow-EwxeoC"};const SBe=IBe;function MBe(e){var t=e["aria-label"],n=e.className,r=e.style,i={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-alert-dot-560"};i["aria-hidden"]=!t,i.style=r,i.className=oa.Z.plexIcon+(n?" "+n:"");var a=[g.createElement.apply(g,["circle",{cx:"280",cy:"280",r:"196"}].concat([]))];return t&&a.unshift(g.createElement("title",null,t)),g.createElement.apply(g,["svg",i].concat(a))}MBe.propTypes={"aria-label":sa().string,className:sa().string,style:sa().object};const EBe=MBe;function PBe(e){var t=e["aria-label"],n=e.className,r=e.style,i={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-navbar-settings-560"};i["aria-hidden"]=!t,i.style=r,i.className=oa.Z.plexIcon+(n?" "+n:"");var a=[g.createElement.apply(g,["path",{d:"M294 378l56-56 142.027 116.204a14 14 0 0 1 1.034 20.735l-62.122 62.122a14.001 14.001 0 0 1-20.735-1.034L294 378zm-.589-167.411C284.832 193.57 280 174.345 280 154c0-69.541 56.459-126 126-126 35.996 0 68.486 15.127 91.456 39.365L364 103.124l30.746 114.746 134.142-35.943C516.169 238.048 465.945 280 406 280c-20.345 0-39.57-4.832-56.589-13.411L103.799 512.201c-10.935 10.935-28.663 10.935-39.598 0l-16.402-16.402c-10.935-10.935-10.935-28.663 0-39.598l245.612-245.612zM84 168L28 84l28-28 84 56v28l84 84-28 28-84-84H84z"}].concat([]))];return t&&a.unshift(g.createElement("title",null,t)),g.createElement.apply(g,["svg",i].concat(a))}PBe.propTypes={"aria-label":sa().string,className:sa().string,style:sa().object};const DBe=PBe,CBe=(0,fe.P1)(pAe,(e=>({shouldShowAlertDot:e}))),wBe=(0,v.$j)(CBe)((function(e){const{shouldShowAlertDot:t}=e;return g.createElement(SBe,{className:"SettingsButton-button-4mlrVS NavBar-button-1cThl9 NavBarIconButton-button-3Fm-24 IconButton-button-llQ1So",to:"#!/settings/web/general",iconComponent:DBe,alertIconComponent:t?EBe:null,title:(0,Ce.Z)("Settings")})}));var ZBe=Object.defineProperty,TBe=Object.prototype.hasOwnProperty,NBe=Object.getOwnPropertySymbols,OBe=Object.prototype.propertyIsEnumerable,ABe=(e,t,n)=>t in e?ZBe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,xBe=(e,t)=>{for(var n in t||(t={}))TBe.call(t,n)&&ABe(e,n,t[n]);if(NBe)for(var n of NBe(t))OBe.call(t,n)&&ABe(e,n,t[n]);return e};function jBe(e){const t=e,{children:n,className:r}=t,i=((e,t)=>{var n={};for(var r in e)TBe.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&NBe)for(var r of NBe(e))t.indexOf(r)<0&&OBe.call(e,r)&&(n[r]=e[r]);return n})(t,["children","className"]);return g.createElement(pw.Z,xBe(xBe({},i),{className:r}),n)}jBe.defaultProps={className:"NavBarButton-button-g3tE6m Link-link-CM9nxg"};const LBe=jBe,kBe=function(){const e=(0,f.k6)(),t=(0,g.useCallback)((()=>{e.push(SK.Z.login)}),[e]);return g.createElement(LBe,{className:"NavBarSignInButton-signInButton-3Ec4_a NavBarButton-button-g3tE6m Link-link-CM9nxg","data-qa-id":"signInButton",onPress:t},(0,Ce.Z)("Sign In"))},RBe=function(){const e=(0,f.k6)(),t=(0,g.useCallback)((()=>{e.push(SK.Z.signUp)}),[e]);return g.createElement(LBe,{"data-qa-id":"signUpButton",onPress:t},(0,Ce.Z)("Sign Up"))};function zBe(e,t,n){const{isCloud:r,isFullOwnedServer:i,serverFriendlyName:a,serverSourceTitle:s,providerSourceTitle:o}=e,{ownedSources:l,sharedSources:c}=t,d=Object.keys(l).length,u=Object.keys(c).length;if(r)return d>0||u>0?o:void 0;if(i)return d>1?a:void 0;const p=c[s];return(p?p.length:0)>1?n?a:`${s}  ${a}`:d>0||u>1?s:void 0}var UBe=n(56971),VBe=Object.defineProperty,BBe=Object.prototype.hasOwnProperty,FBe=Object.getOwnPropertySymbols,_Be=Object.prototype.propertyIsEnumerable,HBe=(e,t,n)=>t in e?VBe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,QBe=(e,t)=>{for(var n in t||(t={}))BBe.call(t,n)&&HBe(e,n,t[n]);if(FBe)for(var n of FBe(t))_Be.call(t,n)&&HBe(e,n,t[n]);return e};function GBe(e,t){const n=(0,sc.Z)(e);return n&&n.directories?n.directories.find((e=>e.id===t)):null}var WBe=Object.defineProperty,YBe=Object.prototype.hasOwnProperty,KBe=Object.getOwnPropertySymbols,qBe=Object.prototype.propertyIsEnumerable,$Be=(e,t,n)=>t in e?WBe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,JBe=(e,t)=>{for(var n in t||(t={}))YBe.call(t,n)&&$Be(e,n,t[n]);if(KBe)for(var n of KBe(t))qBe.call(t,n)&&$Be(e,n,t[n]);return e};function XBe(){return(0,fe.P1)(RT,jme.Z,xn.Z,Ie,Cn.Z,(e=>!e.user.isFullUser),((e,t,n,r,i,a)=>{const s=[];return e.forEach((e=>{if(e.isHidden)return;const a=function(e,t){return e.find((e=>e.machineIdentifier===t))}(n,e.machineIdentifier),o=function(e,t,n,r){if(!e)return null;const i=(e.isCloud?n:e.providers).find((e=>{const n=t[e];return n&&n.identifier===r}));return t[i]}(a,i,t.providers,e.providerIdentifier),l=GBe(o,e.directoryID),c=(0,IT.Z)(o,l);if(c)s.push(bT({sourceType:c.key,sourceServer:a,sourceProvider:o,sourceDirectory:l}));else{const n=function(e,t,n,r){return e?e.isCloud?e.connectionTestResult!==_pe._r.UNAVAILABLE&&!r.isProvidersPopulated&&!r.providersError||t&&!t.isPopulated&&!t.error:e.connectionTestResult===_pe._r.PENDING:n.isResourcesPending}(a,o,r,t);s.push(JBe(JBe({},e),{serverEntityID:a&&a.entityID,providerEntityID:o&&o.entityID,isUnavailable:!n,isProviderReady:o?o.isPopulated||null!=o.error:!n}))}})),function(e,t){const n=(0,UBe.Z)(e);return e.map((e=>QBe(QBe({},e),{titleDetail:zBe(e,n,t)})))}(s,a)}))}const eFe=(0,fe.P1)((0,wn.Z)("providers"),Cn.Z,((e,t)=>e?e.map((e=>t[e])):[])),tFe=(0,fe.P1)(Ie,(0,wn.Z)("isProvidersPopulated"),(0,wn.Z)("providersError"),eFe,((e,t,n,r)=>{if(e.isRejected)return!0;const i=(t||!!n)&&r.every((e=>e.isPopulated||!!e.error));return e.isResourcesPopulated&&i}));class nFe extends g.Component{constructor(e){super(e),this.focusInput=()=>{this._input.focus()},this.onClick=e=>{this.focusInput(),this.props.onClick()},this.onFocus=()=>{this.setState({isFocused:!0})},this.onBlur=()=>{this.setState({isFocused:!1})},this.onChange=e=>{const t=e.target.value;this.searchTimeout&&window.clearTimeout(this.searchTimeout),this.setState({query:t},(()=>{this.props.onChange(t),""!==t.trim()&&(this.searchTimeout=window.setTimeout(this.props.onSearch,200))}))},this.onClearPress=e=>{e.stopPropagation(),this.searchTimeout&&window.clearTimeout(this.searchTimeout),this.setState({query:""},(()=>{this.props.onChange(""),this.focusInput()}))},this.onRef=e=>{const{onRef:t}=this.props;this._input=e,t&&t(e)},this.state={isFocused:!1,query:e.query},this.searchTimeout=null}UNSAFE_componentWillReceiveProps(e){this.state.query!==e.query&&this.setState({query:e.query})}shouldComponentUpdate(e,t){return(0,At.Z)(this,e,t)}componentWillUnmount(){this.searchTimeout&&window.clearTimeout(this.searchTimeout)}render(){const{closeIcon:e,searchIcon:t}=this.props,{isFocused:n,query:r}=this.state;return g.createElement("div",{className:Te()("QuickSearchInput-container-3kpzkL",n&&"QuickSearchInput-focused-1elTTH"),onClick:this.onClick},g.createElement(t,{className:"QuickSearchInput-searchIcon-2JTGa7"}),g.createElement("input",{"data-qa-id":"quickSearchInput",className:"QuickSearchInput-searchInput-3cxaps",value:r,type:"text",autoComplete:"off",spellCheck:"false",ref:this.onRef,onChange:this.onChange,onFocus:this.onFocus,onBlur:this.onBlur}),r.length>0?g.createElement(pw.Z,{onPress:this.onClearPress},g.createElement(e,{className:"QuickSearchInput-closeIcon-b97dNd"})):null)}}nFe.defaultProps={query:"",onClick:sa().func};const rFe=nFe;var iFe=Object.defineProperty,aFe=Object.prototype.hasOwnProperty,sFe=Object.getOwnPropertySymbols,oFe=Object.prototype.propertyIsEnumerable,lFe=(e,t,n)=>t in e?iFe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,cFe=(e,t)=>{for(var n in t||(t={}))aFe.call(t,n)&&lFe(e,n,t[n]);if(sFe)for(var n of sFe(t))oFe.call(t,n)&&lFe(e,n,t[n]);return e};class dFe extends g.Component{constructor(){super(...arguments),this.focusInput=()=>{this._input.focus()},this.onRef=e=>{this._input=e}}componentDidMount(){le.Z.on("shortcut:search",this.focusInput)}shouldComponentUpdate(e,t){return(0,At.Z)(this,e,t)}componentWillUnmount(){le.Z.off("shortcut:search",this.focusInput)}render(){return g.createElement(rFe,cFe(cFe({},this.props),{closeIcon:DZ,searchIcon:Mh.Z,onRef:this.onRef}))}}const uFe=dFe;var pFe=Object.defineProperty,mFe=Object.prototype.hasOwnProperty,hFe=Object.getOwnPropertySymbols,gFe=Object.prototype.propertyIsEnumerable,yFe=(e,t,n)=>t in e?pFe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;function vFe(e){const t=e,{className:n,isSelected:r,text:i,url:a,onLinkPress:s,onLinkFocus:o}=t,l=((e,t)=>{var n={};for(var r in e)mFe.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&hFe)for(var r of hFe(e))t.indexOf(r)<0&&gFe.call(e,r)&&(n[r]=e[r]);return n})(t,["className","isSelected","text","url","onLinkPress","onLinkFocus"]);return g.createElement(pw.Z,((e,t)=>{for(var n in t||(t={}))mFe.call(t,n)&&yFe(e,n,t[n]);if(hFe)for(var n of hFe(t))gFe.call(t,n)&&yFe(e,n,t[n]);return e})({className:Te()(n,r&&"QuickSearchPlaceholderLink-isPlaceholderSelected-1vG0F6"),tabIndex:"1",title:i,to:a,onPress:s,onFocus:o},l),i)}vFe.defaultProps={className:"QuickSearchPlaceholderLink-placeholder-7b0xLM"};const fFe=vFe,bFe=function(e){const{query:t,isSelected:n,onLinkPress:r,onLinkFocus:i}=e,a=encodeURIComponent(t);return g.createElement(fFe,{isSelected:n,text:(0,Ce.Z)("Search all sources..."),url:`#!/search?query=${a}`,onLinkPress:r,onLinkFocus:i})};var IFe=Object.defineProperty,SFe=Object.prototype.hasOwnProperty,MFe=Object.getOwnPropertySymbols,EFe=Object.prototype.propertyIsEnumerable,PFe=(e,t,n)=>t in e?IFe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const DFe={resetQuickSearch:Sn.resetQuickSearch,selectQuickSearchResult:Sn.selectQuickSearchResult};class CFe extends g.Component{constructor(){super(...arguments),this.onLinkPress=e=>{this.props.resetQuickSearch(),Fd.Fp()},this.onLinkFocus=e=>{this.props.selectQuickSearchResult({searchResultEntityID:null})}}render(){return g.createElement(bFe,((e,t)=>{for(var n in t||(t={}))SFe.call(t,n)&&PFe(e,n,t[n]);if(MFe)for(var n of MFe(t))EFe.call(t,n)&&PFe(e,n,t[n]);return e})({onLinkPress:this.onLinkPress,onLinkFocus:this.onLinkFocus},this.props))}}const wFe=(0,v.$j)((0,fe.P1)((e=>e.ui.quickSearch),(e=>({query:e.query,isSelected:!e.selectedResultEntityID}))),DFe)(CFe),ZFe=function(e){const{children:t,title:n}=e;return g.createElement("div",null,g.createElement("h5",{className:"QuickSearchHubContainer-hubTitle-2EKUDG","data-qa-id":"quickSearchHub"},n),t)},TFe=(0,Q1.Z)(["id","typeString"],[{id:0,typeString:"tag",title:()=>(0,Ce.Z)("Tag")},{id:1,typeString:"genre",title:()=>(0,Ce.Z)("Genre")},{id:2,typeString:"collection",title:()=>(0,Ce.Z)("Collection")},{id:3,typeString:"bookmark",title:()=>(0,Ce.Z)("Bookmark")},{id:4,typeString:"director",title:()=>(0,Ce.Z)("Director"),isPerson:!0},{id:5,typeString:"writer",title:()=>(0,Ce.Z)("Writer"),isPerson:!0},{id:6,typeString:"actor",title:()=>(0,Ce.Z)("Actor"),isPerson:!0},{id:7,typeString:"producer",title:()=>(0,Ce.Z)("Producer"),isPerson:!0},{id:8,typeString:"country",title:()=>(0,Ce.Z)("Country")},{id:9,typeString:"chapter",title:()=>(0,Ce.Z)("Chapter")},{id:10,typeString:"review",title:()=>(0,Ce.Z)("Review")},{id:11,typeString:"label",title:()=>(0,Ce.Z)("Label")},{id:42,typeString:"versionBackgroundProcessingTarget",title:()=>(0,Ce.Z)("Version Background Processing Target")},{id:200,typeString:"make",title:()=>(0,Ce.Z)("Make")},{id:201,typeString:"model",title:()=>(0,Ce.Z)("Model")},{id:202,typeString:"aperture",title:()=>(0,Ce.Z)("Aperture")},{id:203,typeString:"exposure",title:()=>(0,Ce.Z)("Exposure")},{id:204,typeString:"iso",title:()=>(0,Ce.Z)("ISO")},{id:205,typeString:"lens",title:()=>(0,Ce.Z)("Lens")},{id:206,typeString:"device",title:()=>(0,Ce.Z)("Device")},{id:207,typeString:"autotag",title:()=>(0,Ce.Z)("Autotag")},{id:400,typeString:"place",title:()=>(0,Ce.Z)("Place")},{id:300,typeString:"mood",title:()=>(0,Ce.Z)("Mood")},{id:301,typeString:"bpm",title:()=>(0,Ce.Z)("BPM")},{id:302,typeString:"composer",title:()=>(0,Ce.Z)("Composer")},{id:303,typeString:"featuring",title:()=>(0,Ce.Z)("Featuring")},{id:304,typeString:"trackArtist",title:()=>(0,Ce.Z)("Track Artist")},{id:305,typeString:"similarArtist",title:()=>(0,Ce.Z)("Similar Artist")},{id:306,typeString:"concert",title:()=>(0,Ce.Z)("Concert")}]);var NFe=n(60363);const OFe=(0,v.$j)((function(){return(0,fe.P1)((0,xx.Z)(),((e={})=>({leafCount:e.leafCount})))}))($1);function AFe(e){const{className:t,playButtonClassName:n,playCircleClassName:r,serverEntityID:i,providerEntityID:a,imageWidth:s,imageHeight:o,imageUrl:l,title:c,isLiveTVItem:d,recordLink:u,onRecordPress:p,onPlayPress:m}=e;return g.createElement(Rx.Z,{className:t,serverEntityID:i,providerEntityID:a,component:zx.Z,width:s,height:o,url:l},d?g.createElement(ej.Z,{className:"MetadataPosterButtonCard-recordButton-1_o-UB RecordIcon-recordIconContainer-3wNYSz","data-qa-id":"metadataPosterRecordButton",circleClassName:"MetadataPosterButtonCard-recordCircle-3pLHPB RecordIcon-recordCircle-24nR_8 PlayButton-playCircle-2DYa77",tabIndex:"-1",title:c,to:u,onPress:p}):g.createElement(Xx.Z,{className:n,"data-qa-id":"metadataPosterPlayButton",circleClassName:r,tabIndex:"-1",title:c,onPress:m}))}AFe.defaultProps={className:"MetadataPosterButtonCard-card-3uptBn",playButtonClassName:"MetadataPosterButtonCard-playButton-3TZX1L PlayButton-playButton-2dFmuo",playCircleClassName:"MetadataPosterButtonCard-playCircle-3JXUqx PlayButton-playCircle-2DYa77",isLiveTVItem:!1};const xFe=AFe;var jFe=Object.defineProperty,LFe=Object.prototype.hasOwnProperty,kFe=Object.getOwnPropertySymbols,RFe=Object.prototype.propertyIsEnumerable,zFe=(e,t,n)=>t in e?jFe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;function UFe(e){return g.createElement(xFe,((e,t)=>{for(var n in t||(t={}))LFe.call(t,n)&&zFe(e,n,t[n]);if(kFe)for(var n of kFe(t))RFe.call(t,n)&&zFe(e,n,t[n]);return e})({},e))}UFe.defaultProps={className:"QuickSearchMetadataPosterCard-card-oRXsxj MetadataPosterButtonCard-card-3uptBn"};const VFe=UFe;var BFe=n(28868);const FFe=function(e){const{serverEntityID:t,providerEntityID:n,isOffscreen:r,tagType:i,librarySectionType:a,title:s,url:o,width:l,height:c,transitionProps:d,onLoad:u,onError:p}=e;if(r)return null;if(o)return g.createElement(lpe.Z,{serverEntityID:t,providerEntityID:n,url:o,width:l,height:c,transitionProps:d,backgroundPosition:"center center",onLoad:u,onError:p});const m=TFe.get(i);if(m&&m.isPerson)return g.createElement(Hre,{name:s,width:l,height:c});const h=hke.ZP.get(a),y=function(e){switch(e){case"artist":return"track";default:return e}}(h&&h.typeString);return g.createElement(BFe.Z,{type:y,width:l,height:c})};var _Fe=Object.defineProperty,HFe=Object.prototype.hasOwnProperty,QFe=Object.getOwnPropertySymbols,GFe=Object.prototype.propertyIsEnumerable,WFe=(e,t,n)=>t in e?_Fe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;function YFe(e){const t=e,{className:n,imageWidth:r,imageHeight:i,imageUrl:a,tag:s,tagType:o}=t,l=((e,t)=>{var n={};for(var r in e)HFe.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&QFe)for(var r of QFe(e))t.indexOf(r)<0&&GFe.call(e,r)&&(n[r]=e[r]);return n})(t,["className","imageWidth","imageHeight","imageUrl","tag","tagType"]),c=TFe.get(o),d=!!c&&c.isPerson;return g.createElement(Rx.Z,((e,t)=>{for(var n in t||(t={}))HFe.call(t,n)&&WFe(e,n,t[n]);if(QFe)for(var n of QFe(t))GFe.call(t,n)&&WFe(e,n,t[n]);return e})({key:s,className:Te()(n,d&&"TagPosterCard-isPerson-ojrvVy"),component:FFe,width:r,height:i,url:a,tagType:o},l))}YFe.defaultProps={className:"TagPosterCard-card-3VDS7c MetadataPosterCardFace-poster-11uR3N"};const KFe=YFe;var qFe=Object.defineProperty,$Fe=Object.prototype.hasOwnProperty,JFe=Object.getOwnPropertySymbols,XFe=Object.prototype.propertyIsEnumerable,e_e=(e,t,n)=>t in e?qFe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const t_e=function(e){return g.createElement(KFe,((e,t)=>{for(var n in t||(t={}))$Fe.call(t,n)&&e_e(e,n,t[n]);if(JFe)for(var n of JFe(t))XFe.call(t,n)&&e_e(e,n,t[n]);return e})({className:"QuickSearchTagPosterCard-card-3ZFqeb TagPosterCard-card-3VDS7c MetadataPosterCardFace-poster-11uR3N"},e))};var n_e=Object.defineProperty,r_e=Object.prototype.hasOwnProperty,i_e=Object.getOwnPropertySymbols,a_e=Object.prototype.propertyIsEnumerable,s_e=(e,t,n)=>t in e?n_e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const o_e=function(e){const t=e,{className:n,component:r,isSecondary:i}=t,a=((e,t)=>{var n={};for(var r in e)r_e.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&i_e)for(var r of i_e(e))t.indexOf(r)<0&&a_e.call(e,r)&&(n[r]=e[r]);return n})(t,["className","component","isSecondary"]);return g.createElement("div",{className:Te()(n,"QuickSearchTitle-title-5TWMlh",i&&"QuickSearchTitle-isSecondary-1uSsLf")},g.createElement(r,((e,t)=>{for(var n in t||(t={}))r_e.call(t,n)&&s_e(e,n,t[n]);if(i_e)for(var n of i_e(t))a_e.call(t,n)&&s_e(e,n,t[n]);return e})({tabIndex:"-1"},a)))},l_e=function({className:e,tag:t}){return g.createElement("span",{className:e},t)};var c_e=Object.defineProperty,d_e=Object.prototype.hasOwnProperty,u_e=Object.getOwnPropertySymbols,p_e=Object.prototype.propertyIsEnumerable,m_e=(e,t,n)=>t in e?c_e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const h_e=(0,v.$j)((function(){return(0,fe.P1)(r4(),((e={})=>({tag:e.tagItem&&e.tagItem.tag})))}))((function(e){return g.createElement(l_e,((e,t)=>{for(var n in t||(t={}))d_e.call(t,n)&&m_e(e,n,t[n]);if(u_e)for(var n of u_e(t))p_e.call(t,n)&&m_e(e,n,t[n]);return e})({},e))}));class g_e extends g.Component{constructor(e){super(e),this.onItemPress=e=>{e.stopPropagation(),this.state.isActionsMenuOpen&&this.props.onLinkPress()},this.onItemFocus=e=>{this.props.onResultFocus(this.props.searchResultEntityID)},this.onPlayPress=e=>{e.stopPropagation(),this.props.onPlayPress(this.props.searchResultEntityID)},this.onLinkPress=e=>{e.stopPropagation(),this.props.onLinkPress()},this.onActionsMenuOpenChange=e=>{this.setState({isActionsMenuOpen:e})},this.state={isActionsMenuOpen:!1}}shouldComponentUpdate(e,t){return(0,At.Z)(this,e,t)}UNSAFE_componentWillUpdate(e,t){if(e.isSelected!==this.props.isSelected&&e.isSelected){const e=y.findDOMNode(this);this.props.onScrollIntoView({scrollTop:e.offsetTop})}}render(){const{serverEntityID:e,providerEntityID:t,searchResultEntityID:n,metadataItemEntityID:r,server:i,provider:a,isSelected:s,isMetadataItem:o,imageWidth:l,imageHeight:c,imageUrl:d,resultRoute:u,metadataKey:p,metadataTitle:m,metadataType:h,tag:y,tagTypeString:v,librarySectionType:f,reasonTitle:b}=this.props,{isActionsMenuOpen:I}=this.state,S=o?h:v,M=a.protocols.livetv;return g.createElement(pw.Z,{component:"div","data-qa-id":"quickSearchItemButton",className:Te()("QuickSearchResult-button-1d8C2k",(s||I)&&"QuickSearchResult-selected-1xNBig"),onPress:this.onItemPress,onFocus:this.onItemFocus},g.createElement(pw.Z,{className:"QuickSearchResult-underlay-3vhZ23","data-qa-id":"quickSearchItemLink",tabIndex:"1",title:o?m:y,to:u,onPress:u?this.onLinkPress:this.onPlayPress}),g.createElement("div",{className:"QuickSearchResult-overlay-2kUQsF"},g.createElement("div",{className:"QuickSearchResult-imageContainer-SySM7x"},o?g.createElement(VFe,{serverEntityID:e,providerEntityID:t,imageWidth:l,imageHeight:c,imageUrl:d,title:m,type:h,isLiveTVItem:M,recordLink:(0,li.Z)(i,a,p,{record:1}),onRecordPress:this.onLinkPress,onPlayPress:this.onPlayPress}):g.createElement(t_e,{serverEntityID:e,providerEntityID:t,imageWidth:l,imageHeight:c,imageUrl:d,title:y,tag:y,tagType:v,librarySectionType:f})),g.createElement("div",{className:"QuickSearchResult-titles-35fL0M","data-qa-id":"quickSearchTitleContainer"},function(e,t){return t?function(e){switch(e){case"movie":return[A1.Z,$x];case"show":return[A1.Z,e4];case"episode":return[A1.Z,Gx];case"artist":return[A1.Z,P1];case"album":return[A1.Z,y1];case"track":return[A1.Z,t4];case"photo":case"photoalbum":case"clip":return[A1.Z,H1];case"playlist":return[A1.Z,OFe];case"collection":return[A1.Z,O1];default:return[A1.Z,a4]}}(e):[h_e,a4]}(S,o).map(((i,a)=>{const s=a>0,o=s&&!!b;return g.createElement(o_e,{key:a,className:s?null:"QuickSearchResult-title--_2o6Z",serverEntityID:e,providerEntityID:t,searchResultEntityID:n,metadataItemEntityID:r,component:o?a4:i,isSecondary:s,onPress:this.onLinkPress})}))),o&&!M?g.createElement(G2.Z,{"data-qa-id":"quickSearchMoreButton",className:"QuickSearchResult-moreButton-3542eA",iconClassName:"QuickSearchResult-moreIcon-2CR3mb",tabIndex:"-1",serverEntityID:e,providerEntityID:t,metadataItemEntityID:r,showPlayTrailer:!1,showPlayPlexMix:!1,showQueuePlexMix:!1,showPlayMusicVideo:!1,showEdit:!1,showRefresh:!1,showAnalyze:!1,showFixMatch:!1,showMatch:!1,showUnmatch:!1,showSplitApart:!1,showSync:!1,showOptimize:!1,showDownload:!1,showDelete:!1,showDeleteVersion:!1,isMenuOpen:I,onMenuOpenChange:this.onActionsMenuOpenChange}):null))}}g_e.defaultProps={isMetadataItem:!1};const y_e=g_e;var v_e=Object.defineProperty,f_e=Object.prototype.hasOwnProperty,b_e=Object.getOwnPropertySymbols,I_e=Object.prototype.propertyIsEnumerable,S_e=(e,t,n)=>t in e?v_e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,M_e=(e,t)=>{for(var n in t||(t={}))f_e.call(t,n)&&S_e(e,n,t[n]);if(b_e)for(var n of b_e(t))I_e.call(t,n)&&S_e(e,n,t[n]);return e};const E_e=M_e({resetQuickSearch:Sn.resetQuickSearch,selectQuickSearchResult:Sn.selectQuickSearchResult,playQuickSearchResult:Sn.playQuickSearchResult},Nl);class P_e extends g.Component{constructor(){super(...arguments),this.onLinkPress=()=>{const{serverEntityID:e}=this.props;this.props.resetQuickSearch({serverEntityID:e}),Fd.Fp()},this.onResultFocus=e=>{(0,fn.c9)((()=>{this.props.selectQuickSearchResult({searchResultEntityID:e})}))},this.onPlayPress=e=>{const{serverEntityID:t,providerEntityID:n}=this.props;this.props.playQuickSearchResult({serverEntityID:t,providerEntityID:n,searchResultEntityID:e})}}render(){return g.createElement(y_e,M_e(M_e({},this.props),{onLinkPress:this.onLinkPress,onResultFocus:this.onResultFocus,onPlayPress:this.onPlayPress}))}}const D_e=(0,v.$j)((function(){return(0,fe.P1)(((e,{metricsContext:t})=>t),sb.Z,ab.Z,r4(),(0,xx.Z)(),((e,t,n,r={},i)=>{let a={server:t,provider:n,reasonID:r.reasonID,reasonTitle:r.reasonTitle};if(i){const r=(0,Ux.n3)(i.type,i.subtype)===Ux.s4?28:36,s=(0,o1.Z)(r,null,i.type,i.subtype,i,kx.H1),o=i4(n,i.librarySectionKey);a=M_e({metadataKey:i.key,metadataTitle:i.title,metadataType:i.type,typeString:i.type,imageWidth:s.width,imageHeight:s.height,imageUrl:s.url,resultRoute:(0,NFe.Z)(t,n,i,{context:e,legacy:i.type===Ac.PHOTO_ALBUM?1:void 0},o)},a)}else{const i=r.tagItem||{},s=TFe.get(i.tagType),o=s&&s.typeString,l=(0,o1.Z)(36,null,o,null,i,kx.H1),c=i4(n,i.librarySectionID),d=(0,hI.Z)(t,n,c,{key:i.key,pageType:$t.F6.List,context:e});a=M_e({tag:i.tag,tagType:i.tagType,tagTypeString:o,librarySectionType:i.librarySectionType,imageWidth:l.width,imageHeight:l.height,imageUrl:l.url,resultRoute:d},a)}return a}))}),E_e,KG.Z)(P_e);var C_e=Object.defineProperty,w_e=Object.prototype.hasOwnProperty,Z_e=Object.getOwnPropertySymbols,T_e=Object.prototype.propertyIsEnumerable,N_e=(e,t,n)=>t in e?C_e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const O_e=(0,v.$j)((function(){return(0,fe.P1)(r4(),(({metadataItem:e})=>({metadataItemEntityID:e,isMetadataItem:!!e})))}))((function(e){var t=e,{component:n}=t,r=((e,t)=>{var n={};for(var r in e)w_e.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&Z_e)for(var r of Z_e(e))t.indexOf(r)<0&&T_e.call(e,r)&&(n[r]=e[r]);return n})(t,["component"]);return g.createElement(n,((e,t)=>{for(var n in t||(t={}))w_e.call(t,n)&&N_e(e,n,t[n]);if(Z_e)for(var n of Z_e(t))T_e.call(t,n)&&N_e(e,n,t[n]);return e})({},r))}));var A_e=Object.defineProperty,x_e=Object.prototype.hasOwnProperty,j_e=Object.getOwnPropertySymbols,L_e=Object.prototype.propertyIsEnumerable,k_e=(e,t,n)=>t in e?A_e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;class R_e extends g.Component{shouldComponentUpdate(e,t){return(0,At.Z)(this,e,t)}render(){const e=this.props,{title:t,selectedResultEntityID:n,metadataResults:r,tagResults:i}=e,a=((e,t)=>{var n={};for(var r in e)x_e.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&j_e)for(var r of j_e(e))t.indexOf(r)<0&&L_e.call(e,r)&&(n[r]=e[r]);return n})(e,["title","selectedResultEntityID","metadataResults","tagResults"]);return g.createElement(ZFe,{title:t},r.concat(i).map(((e,t)=>g.createElement(O_e,((e,t)=>{for(var n in t||(t={}))x_e.call(t,n)&&k_e(e,n,t[n]);if(j_e)for(var n of j_e(t))L_e.call(t,n)&&k_e(e,n,t[n]);return e})({key:e,searchResultEntityID:e,component:D_e,isSelected:n===e},a)))))}}const z_e=R_e;var U_e=Object.defineProperty,V_e=Object.prototype.hasOwnProperty,B_e=Object.getOwnPropertySymbols,F_e=Object.prototype.propertyIsEnumerable,__e=(e,t,n)=>t in e?U_e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,H_e=(e,t)=>{for(var n in t||(t={}))V_e.call(t,n)&&__e(e,n,t[n]);if(B_e)for(var n of B_e(t))F_e.call(t,n)&&__e(e,n,t[n]);return e},Q_e=(e,t)=>{var n={};for(var r in e)V_e.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&B_e)for(var r of B_e(e))t.indexOf(r)<0&&F_e.call(e,r)&&(n[r]=e[r]);return n};function G_e(e){const t=e,{isLoading:n,hubs:r}=t,i=Q_e(t,["isLoading","hubs"]);return n?g.createElement("div",{className:"QuickSearchProvider-spinnerContainer-Db__al"},g.createElement(Mx.Z,{className:"QuickSearchProvider-spinner-10qwcJ"})):r.length?g.createElement("div",null,r.map((e=>g.createElement(z_e,H_e({key:e.hubIdentifier,title:e.title,metadataResults:e.metadataResults,tagResults:e.tagResults,metricsContext:e.context},i))))):g.createElement("div",{className:"QuickSearchProvider-noResults-1jHH-y"},(0,Ce.Z)("No Results"))}const W_e=function(e){const t=e,{searchTitle:n,isSearchPending:r,isSearchPopulated:i}=t,a=Q_e(t,["searchTitle","isSearchPending","isSearchPopulated"]);return g.createElement(g.Fragment,null,g.createElement("div",{className:"QuickSearchProvider-title-7KgtD9","aria-label":"heading","aria-level":"4"},n),g.createElement(G_e,H_e({isLoading:r&&!e.hubs.length},a)))};var Y_e=Object.defineProperty,K_e=Object.prototype.hasOwnProperty,q_e=Object.getOwnPropertySymbols,$_e=Object.prototype.propertyIsEnumerable,J_e=(e,t,n)=>t in e?Y_e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const X_e=(0,v.$j)((function(){return(0,fe.P1)((e=>e.ui.quickSearch),(e=>({selectedResultEntityID:e.selectedResultEntityID})))}))((function(e){return g.createElement(W_e,((e,t)=>{for(var n in t||(t={}))K_e.call(t,n)&&J_e(e,n,t[n]);if(q_e)for(var n of q_e(t))$_e.call(t,n)&&J_e(e,n,t[n]);return e})({},e))}));var eHe=Object.defineProperty,tHe=Object.prototype.hasOwnProperty,nHe=Object.getOwnPropertySymbols,rHe=Object.prototype.propertyIsEnumerable,iHe=(e,t,n)=>t in e?eHe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,aHe=(e,t)=>{for(var n in t||(t={}))tHe.call(t,n)&&iHe(e,n,t[n]);if(nHe)for(var n of nHe(t))rHe.call(t,n)&&iHe(e,n,t[n]);return e};const sHe=(0,fe.P1)((e=>e.ui.quickSearch),(e=>({searches:e.searches}))),oHe=(0,v.$j)((e=>sHe(e)))((function(e){const{searches:t,onScrollIntoView:n}=e;return g.createElement(g.Fragment,null,t&&t.length?t.map((e=>g.createElement(X_e,aHe(aHe({},e),{key:e.providerEntityID,onScrollIntoView:n})))):g.createElement("div",{className:"QuickSearchProviders-noSources-1sH2lX"},(0,Ce.Z)("No pinned sources to search.")))}));var lHe=Object.defineProperty,cHe=Object.prototype.hasOwnProperty,dHe=Object.getOwnPropertySymbols,uHe=Object.prototype.propertyIsEnumerable,pHe=(e,t,n)=>t in e?lHe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,mHe=(e,t)=>{for(var n in t||(t={}))cHe.call(t,n)&&pHe(e,n,t[n]);if(dHe)for(var n of dHe(t))uHe.call(t,n)&&pHe(e,n,t[n]);return e};class hHe extends g.Component{constructor(e){super(e),this.onWindowResize=()=>{this.setState({maxHeight:this.getMaxHeight()})},this.state={maxHeight:this.getMaxHeight()}}componentDidMount(){window.addEventListener("resize",this.onWindowResize)}shouldComponentUpdate(e,t){return(0,At.Z)(this,e,t)}componentWillUnmount(){window.removeEventListener("resize",this.onWindowResize)}getMaxHeight(){return window.innerHeight-150}render(){const{forwardedRef:e,className:t,scrollTop:n,onScrollIntoView:r,onScrollPositionChange:i}=this.props;return g.createElement(i0.Z,{page:pt.xX},g.createElement(rU.Z,{className:Te()("QuickSearchResults-container-3waOeb",t),style:this.state,scrollTop:n,ref:e,onScrollPositionChange:i},g.createElement(wFe,null),g.createElement(oHe,{onScrollIntoView:r})))}}const gHe=g.forwardRef(((e,t)=>g.createElement(hHe,mHe(mHe({},e),{forwardedRef:t})))),yHe=parseInt(ng.Z.searchResultHeight,10);class vHe extends g.Component{constructor(e,t){super(e,t),this.onScrollIntoView=({scrollTop:e})=>{const t=this._resultsRef.current.clientHeight+this.state.scrollTop,n=e+yHe>t||e<this.state.scrollTop;this.setState({scrollTop:n?e:this.state.scrollTop})},this.onWindowPress=e=>{if(!this.state.isOpen)return;const t=this._searchRef.current;t&&t.contains(e.target)||this.setState({isOpen:!1})},this.onKeyDown=e=>{const{isOpen:t}=this.state;switch(e.keyCode){case Vd.JH:case Vd.LH:t&&(e.stopPropagation(),e.preventDefault(),e.keyCode===Vd.LH?this.props.selectQuickSearchResult({offset:-1}):this.props.selectQuickSearchResult({offset:1}),this.isTabScoped&&(Fd.sM(),this.isTabScoped=!1));break;case Vd.K5:if(t){const{platformID:t}=wVe.Z,n="osx"===t?e.metaKey:e.ctrlKey,r=e.shiftKey;Fd.Fp(),this.isTabScoped=!1,n?r?this.props.playQuickSearchResult({options:{shuffle:!0}}):this.props.playQuickSearchResult():this.props.navigateQuickSearchResult()}break;case Vd.hY:e.nativeEvent.stopImmediatePropagation(),this.isTabScoped&&(Fd.sM(),this.isTabScoped=!1),t?this.setState({isOpen:!1}):this.props.changeQuickSearchQuery("");break;case Vd.Mf:if(t){if(!this.isTabScoped){const e=this._resultsRef.current;Fd.LJ(e),this.isTabScoped=!0}Fd.QE(e)}}},this.onInputClick=e=>{this.isTabScoped&&(Fd.sM(),this.isTabScoped=!1),this.state.isOpen||""===this.props.query||this.setState({isOpen:!0})},this.onScrollPositionChange=({scrollTop:e})=>{this.setState({scrollTop:e})},this.onSearch=()=>{(0,fn.c9)((()=>{this.props.fetchQuickSearch()}))},this.onInputChange=e=>{(0,fn.c9)((()=>{this.props.changeQuickSearchQuery(e)}))},this._searchRef=g.createRef(),this._resultsRef=g.createRef(),this.isTabScoped=!1,this.state={scrollTop:0,isOpen:!1}}UNSAFE_componentWillMount(){this._listenForPress()}UNSAFE_componentWillReceiveProps(e,t){const{selectedResultEntityID:n,query:r}=e,i=this.props.query!==r,a=r.trim().length,s=this.state.isOpen;a&&!s&&i?this.setState({isOpen:!0}):!a&&s&&(this.setState({isOpen:!1}),this.isTabScoped&&(Fd.IB(),this.isTabScoped=!1)),null==n&&this.setState({scrollTop:0})}shouldComponentUpdate(e,t){return(0,At.Z)(this,e,t)}componentWillUnmount(){this._stopListeningForPress()}_listenForPress(){window.addEventListener("mouseup",this.onWindowPress),window.addEventListener("touchend",this.onWindowPress)}_stopListeningForPress(){window.removeEventListener("mouseup",this.onWindowPress),window.removeEventListener("touchend",this.onWindowPress)}render(){const{query:e}=this.props;return g.createElement("div",{className:Te()("QuickSearch-container-1xPq6f"),ref:this._searchRef,onKeyDown:this.onKeyDown},g.createElement(uFe,{query:e,onChange:this.onInputChange,onSearch:this.onSearch,onClick:this.onInputClick}),this.state.isOpen?g.createElement(gHe,{scrollTop:this.state.scrollTop,ref:this._resultsRef,onScrollIntoView:this.onScrollIntoView,onScrollPositionChange:this.onScrollPositionChange}):null)}}const fHe=vHe;var bHe=Object.defineProperty,IHe=Object.prototype.hasOwnProperty,SHe=Object.getOwnPropertySymbols,MHe=Object.prototype.propertyIsEnumerable,EHe=(e,t,n)=>t in e?bHe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,PHe=(e,t)=>{for(var n in t||(t={}))IHe.call(t,n)&&EHe(e,n,t[n]);if(SHe)for(var n of SHe(t))MHe.call(t,n)&&EHe(e,n,t[n]);return e};const DHe=(0,fe.P1)((e=>e.ui.quickSearch.providerEntityID),Cn.Z,((e,t)=>t[e])),CHe=(0,fe.P1)((e=>e.ui.quickSearch.serverEntityID),be.Z,((e,t)=>t[e])),wHe=(0,fe.P1)((e=>e.ui.quickSearch.directoryID),DHe,((e,t)=>{if(!t)return;if(Fo.wB(t.providerIdentifier,Fo.Ll))return(0,sc.Z)(t).directories.find((e=>!!e.hubKey));if(!e)return;const n=(0,sc.Z)(t);return n?n.directories.find((t=>t.id?t.id===e:t.key===`/library/sections/${e}`)):void 0})),ZHe=(0,fe.P1)(CHe,DHe,wHe,((e,t,n)=>{let r;if(e&&t&&n){const i=(0,IT.Z)(t,n);i&&(r=bT({sourceType:i.key,sourceServer:e,sourceProvider:t,sourceDirectory:n}))}return r})),THe=(0,Un.Z)((0,fe.P1)(XBe(),ZHe,((e,t)=>(t?[t,...e]:e).map((e=>({isCloud:e.isCloud,isFullOwnedServer:e.isFullOwnedServer,title:e.title,serverSourceTitle:e.serverSourceTitle,serverFriendlyName:e.serverFriendlyName,providerSourceTitle:e.providerSourceTitle,machineIdentifier:e.machineIdentifier,providerIdentifier:e.providerIdentifier,serverEntityID:e.serverEntityID,providerEntityID:e.providerEntityID,directoryID:e.directoryID}))))),(e=>e)),NHe=(0,fe.P1)(THe,Cn.Z,Tl.Z,((e,t,n)=>e.filter((e=>{const r=t[e.providerEntityID],i=r&&r.features.find((e=>e.type===AC.mo));return i&&(0,xc.d)(n,i)})))),OHe=PHe({},Sn);class AHe extends g.Component{UNSAFE_componentWillMount(){this._populate()}UNSAFE_componentWillReceiveProps(e){const t=e.searchSources!==this.props.searchSources,n=e.providerEntityID!==this.props.providerEntityID;(e.hasInitialSources!==this.props.hasInitialSources||t||n)&&this._populate(e)}_populate(e=this.props){const{searchSources:t,hasInitialSources:n}=e;n&&t&&t.length&&(0,fn.c9)((()=>{e.initQuickSearch({searchSources:t})}))}render(){return g.createElement(fHe,PHe({},this.props))}}const xHe=(0,v.$j)((function(){return(0,fe.P1)((e=>e.ui.quickSearch),NHe,tFe,((e,t,n)=>({hasInitialSources:n,searchSources:t,providerEntityID:e.providerEntityID,query:e.query,selectedResultEntityID:e.selectedResultEntityID})))}),OHe)(AHe);function jHe(e){var t=e["aria-label"],n=e.className,r=e.style,i={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-navbar-back-560"};i["aria-hidden"]=!t,i.style=r,i.className=oa.Z.plexIcon+(n?" "+n:"");var a=[g.createElement.apply(g,["path",{d:"M56 280l224 224V322h224v-84H280V56z"}].concat([]))];return t&&a.unshift(g.createElement("title",null,t)),g.createElement.apply(g,["svg",i].concat(a))}jHe.propTypes={"aria-label":sa().string,className:sa().string,style:sa().object};const LHe=jHe;function kHe(e){var t=e["aria-label"],n=e.className,r=e.style,i={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-navbar-fullscreen-560"};i["aria-hidden"]=!t,i.style=r,i.className=oa.Z.plexIcon+(n?" "+n:"");var a=[g.createElement.apply(g,["path",{d:"M532.011 28H346.44l76.891 76.892L310.2 218.023l31.788 31.788 113.131-113.132 76.892 76.892V28zM28 532.011h185.572L136.68 455.12l113.131-113.131-31.788-31.788-113.131 113.131L28 346.44v185.571z"}].concat([]))];return t&&a.unshift(g.createElement("title",null,t)),g.createElement.apply(g,["svg",i].concat(a))}kHe.propTypes={"aria-label":sa().string,className:sa().string,style:sa().object};const RHe=kHe;function zHe(e){var t=e["aria-label"],n=e.className,r=e.style,i={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-navbar-home-560"};i["aria-hidden"]=!t,i.style=r,i.className=oa.Z.plexIcon+(n?" "+n:"");var a=[g.createElement.apply(g,["path",{d:"M84 448V291.598a28 28 0 0 1 8.201-19.799L280 84l187.799 187.799A28 28 0 0 1 476 291.598V448c0 15.464-12.536 28-28 28H322V336h-84v140H112c-15.464 0-28-12.536-28-28z"}].concat([]))];return t&&a.unshift(g.createElement("title",null,t)),g.createElement.apply(g,["svg",i].concat(a))}zHe.propTypes={"aria-label":sa().string,className:sa().string,style:sa().object};const UHe=zHe;function VHe(e){var t=e["aria-label"],n=e.className,r=e.style,i={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-navbar-menu-560"};i["aria-hidden"]=!t,i.style=r,i.className=oa.Z.plexIcon+(n?" "+n:"");var a=[g.createElement.apply(g,["path",{d:"M28 420h504v62.222H28V420zm0-171.333h504v62.222H28v-62.222zM28 78h504v62.222H28V78z"}].concat([]))];return t&&a.unshift(g.createElement("title",null,t)),g.createElement.apply(g,["svg",i].concat(a))}VHe.propTypes={"aria-label":sa().string,className:sa().string,style:sa().object};const BHe=VHe;function FHe(e){var t=e["aria-label"],n=e.className,r=e.style,i={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-navbar-windowed-560"};i["aria-hidden"]=!t,i.style=r,i.className=oa.Z.plexIcon+(n?" "+n:"");var a=[g.createElement.apply(g,["path",{d:"M224 336H38.428l76.892 76.892L2.189 526.023l31.788 31.788L147.108 444.68 224 521.572V336zm112-112h185.572l-76.892-76.892L557.811 33.977 526.023 2.189 412.892 115.32 336 38.428V224z"}].concat([]))];return t&&a.unshift(g.createElement("title",null,t)),g.createElement.apply(g,["svg",i].concat(a))}FHe.propTypes={"aria-label":sa().string,className:sa().string,style:sa().object};const _He=FHe;var HHe=n(70460),QHe=n.n(HHe);const GHe=/^Mac/.test(window.navigator.platform);function WHe(e){return S().reduce(e,(function(e,t,n){var r=YHe(t);if(0===n)return e.concat(r);var i=r.length>1;return e.concat({plain:!0,split:i,s:"or"},r)}),[])}function YHe(e){var t=e.match(/(.+) (.+)/);if(t)return YHe(t[1]).concat({plain:!0,s:"then"}).concat(YHe(t[2]));var n=e.match(/(.+)\+(\S+)/);if(n)return YHe(n[1]).concat({plain:!0,s:"+"}).concat(YHe(n[2]));var r=[[/command/,""],[/up/,""],[/down/,""],[/left/,""],[/right/,""]];return"alt"===e&&GHe&&r.push([/alt/,"option"]),[{s:S().reduce(r,(function(e,t){return e.replace(t[0],t[1])}),e)}]}const KHe=Xpe.Z.extend({name:"keyboardShortcutsModal",className:"keyboard-shortcuts-modal modal fade",template:QHe(),orderedGroups:[{group:"navigation",label:"Navigation"},{group:"actions",label:"Actions"},{group:"player",label:"Player"}],initialize:function(e){Xpe.Z.prototype.initialize.apply(this,arguments),this.shortcuts=e.shortcuts},serializeData:function(){var e={};return S().each(this.shortcuts,(function(t){var n=t.group;("function"!=typeof t.isSupported||t.isSupported())&&(e[n]||(e[n]=[]),e[n].push(this.humanizeShortcut(t)))}),this),{groups:S().map(this.orderedGroups,(function(t){var n=S().clone(t);return n.shortcuts=e[t.group],n}),this)}},humanizeShortcut:function(e){return(e=S().clone(e)).keys=WHe(e.keys),e.label=e.label(),e}});var qHe=Object.defineProperty,$He=Object.prototype.hasOwnProperty,JHe=Object.getOwnPropertySymbols,XHe=Object.prototype.propertyIsEnumerable,eQe=(e,t,n)=>t in e?qHe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;function tQe(e){const t=e,{children:n,badgeClassName:r,badgeLabel:i,badgeKind:a}=t,s=((e,t)=>{var n={};for(var r in e)$He.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&JHe)for(var r of JHe(e))t.indexOf(r)<0&&XHe.call(e,r)&&(n[r]=e[r]);return n})(t,["children","badgeClassName","badgeLabel","badgeKind"]);return g.createElement(ec.Z,((e,t)=>{for(var n in t||(t={}))$He.call(t,n)&&eQe(e,n,t[n]);if(JHe)for(var n of JHe(t))XHe.call(t,n)&&eQe(e,n,t[n]);return e})({},s),n,g.createElement(RL.Z,{className:r,kind:a},i))}tQe.defaultProps={className:"BadgeMenuItem-badgeMenuItem-1fwAuW MenuItem-menuItem-1P5bZr",badgeClassName:"BadgeMenuItem-badge-3rUSQJ Badge-badge-waFP_r",badgeKind:ic._8};const nQe=tQe,rQe=(0,v.$j)((function(){return(0,fe.P1)(jme.Z,Ie,LVe,RVe,((e,t,n,r)=>({username:e.title,isSignedIn:e.signedIn,isRestricted:e.isRestricted,isCloudServerConnected:t.isConnected,isAnonymousUser:!!e.anonymous,isFullUser:e.isFullUser,announcementsCount:n.length,friendInvitesCount:r.length,appsURL:t?t.appsUrl:"https://plex.tv/downloads"})))}),(function(e,t){return{onSwitchUserPress(t){window.setTimeout((()=>{e((0,AM.xh)())}))},onUsersAndSharingPress(e){e.preventDefault(),(0,nle.Z)("usersSharing")},onSignInPress(e){e.preventDefault(),(0,nle.Z)("login")},onSignOutPress(e){e.preventDefault(),(0,nle.Z)("logout")},onKeyboardShortcutPress(e){e.preventDefault();const t=(0,b.DB)("keyboardShortcuts");le.Z.trigger("show:modal",new KHe({shortcuts:t.shortcuts}))}}}))((function(e){const{isOpen:t,target:n,options:r,username:i,isSignedIn:a,isAnonymousUser:s,isFullUser:o,announcementsCount:l,friendInvitesCount:c,appsURL:d,isCloudServerConnected:u,onUsersAndSharingPress:p,onSwitchUserPress:m,onSignInPress:h,onSignOutPress:y,onKeyboardShortcutPress:v,onMenuClose:f}=e,b=u&&(!a||s),I=a&&o&&!s;return g.createElement(Xl.Z,{isOpen:t,target:n,options:r,onMenuClose:f},i?g.createElement(ac.Z,null,i):null,a?g.createElement(ec.Z,{to:"#!/settings/account",onPress:f},(0,Ce.Z)("Account")):null,a&&!s?g.createElement(nQe,{badgeLabel:c>0?c:null,onPress:(0,rc.Z)(f,p)},(0,Ce.Z)("Users & Sharing")):null,a?g.createElement(tc.Z,null):null,a&&o&&!s?g.createElement(nQe,{to:"#!/announcements",badgeLabel:l>0?l:null,onPress:f},(0,Ce.Z)("Announcements")):null,u?g.createElement(ec.Z,{to:d,target:"_self",onPress:f},(0,Ce.Z)("Get Plex Apps")):null,u?g.createElement(ec.Z,{to:iy.av,target:"_self",onPress:f},(0,Ce.Z)("Help")):null,g.createElement(ec.Z,{onPress:(0,rc.Z)(f,v)},(0,Ce.Z)("Keyboard Shortcuts")),g.createElement(tc.Z,null),s?null:g.createElement(ec.Z,{onPress:(0,rc.Z)(f,m)},(0,Ce.Z)("Switch User...")),b?g.createElement(ec.Z,{onPress:(0,rc.Z)(f,h)},(0,Ce.Z)("Sign In")):null,I?g.createElement(ec.Z,{onPress:(0,rc.Z)(f,y)},(0,Ce.Z)("Sign Out")):null)}));class iQe extends g.Component{constructor(e,t){super(e,t),this.onButtonPress=e=>{this.setState({isMenuOpen:!this.state.isMenuOpen})},this.onMenuClose=e=>{this.setState({isMenuOpen:!1})},this.state={isMenuOpen:!1},this._buttonID=(0,GE.Z)()}render(){const{className:e,tooltipClassName:t,tooltipFocusedClassName:n,serverEntityID:r,userThumb:i,badgeCount:a}=this.props;return g.createElement(g.Fragment,null,g.createElement(rf.Z,{className:e,tooltipClassName:t,tooltipFocusedClassName:n,id:this._buttonID,component:Z0.Z,isSelected:!1,tooltip:this.state.isMenuOpen?null:(0,Ce.Z)("Account"),direction:this.state.isMenuOpen?kp.UP:kp.WV,onPress:this.onButtonPress},g.createElement("div",{className:"NavBarAccountButton-avatarContainer-1akg8A"},g.createElement("div",{className:Te()("NavBarAccountButton-overlay-3sFe7J",this.state.isMenuOpen&&"NavBarAccountButton-isMenuOpen-1ZeCuV")}),g.createElement(X2.Z,{serverEntityID:r,width:30,height:30,url:i})),g.createElement(RL.Z,{className:"NavBarAccountButton-badge-2pq5TE Badge-badge-waFP_r",kind:ic._8},a>0?a:null)),g.createElement(rQe,{isOpen:this.state.isMenuOpen,target:this._buttonID,onMenuClose:this.onMenuClose}))}}iQe.defaultProps={className:"NavBarAccountButton-button-3Ng0KE DisclosureArrowButton-disclosureArrowButton-17hnir Link-link-CM9nxg",tooltipClassName:"NavBarAccountButton-tooltip-2i5Nec Tooltip-bottomCenter-3I-giq Tooltip-tooltip-1BlaVj Tooltip-tooltipArrow-3ocxiK Tooltip-tooltipTopArrow-1LUIRT Tooltip-tooltipCenterAlignArrow-EwxeoC",tooltipFocusedClassName:"NavBarAccountButton-tooltipTriggerHasFocus-1YqijZ NavBarAccountButton-tooltip-2i5Nec Tooltip-bottomCenter-3I-giq Tooltip-tooltip-1BlaVj Tooltip-tooltipArrow-3ocxiK Tooltip-tooltipTopArrow-1LUIRT Tooltip-tooltipCenterAlignArrow-EwxeoC"};const aQe=iQe;var sQe=n(56733),oQe=n(36237);function lQe(e,t,n){const r=function(e){const t=e.desktop&&e.desktop.update;if(t&&(t.state===sPe||t.state===lPe||t.state===cPe||t.state===mPe))return(0,ZTe.Z)(t.version)}(e);return!!(e.isConnected&&e.isFullOwnedServer&&r&&r!==n&&r!==t[e.machineIdentifier])}var cQe=n(45992);const dQe=(0,fe.P1)(uAe.Z,(e=>e.dismissedServerUpdateVersions)),uQe=(0,fe.P1)(uAe.Z,(e=>e.serverUpdateDismissedVersion)),pQe={[gl.RG]:!0,[gl.JW]:!0,[gl.sC]:!0,[gl.t6]:!0,[gl.zL]:!0,[gl.Ts]:!0,[gl.nJ]:!0,[gl.y0]:!0,[gl.QX]:!0,[gl.Gh]:!0,[gl.TS]:!0,[gl.ZJ]:!0,[gl.K5]:!0,[gl.zN]:!0,[gl.iJ]:!0};var mQe=n(52373);const hQe=function(e){const{className:t}=e;return g.createElement("div",{className:t},g.createElement("img",{className:"AlertRoundOpaqueIcon-img-G_UGzf",src:mQe}))},gQe=function(e){const{title:t,subtitle:n,progress:r,isPostProcessing:i}=e;return g.createElement("div",{className:"ActivityMenuStatusItem-splitButton-23LKKZ MenuItem-menuItem-1P5bZr"},g.createElement("span",{className:"ActivityMenuStatusItem-activityTitleContainer-SCV06w"},g.createElement("span",{className:"ActivityMenuStatusItem-activityTitle-3Kd1d9",title:t},t,n?":":null),n?g.createElement("span",{className:"ActivityMenuStatusItem-activitySubtitle-23Mhyn",title:n},n):null),g.createElement("span",null,null==r||i?g.createElement(Mx.Z,{size:Rp.HC}):g.createElement(PF.Z,{progress:r,size:18,lineWidth:2,showProgressText:!1})))};function yQe(e){const{labelClassName:t,to:n,label:r,indicator:i,onPress:a}=e;return g.createElement(ec.Z,{className:"NavBarActivityMenuStatusItem-splitButton-1WfAm9 ActivityMenuStatusItem-splitButton-23LKKZ MenuItem-menuItem-1P5bZr",to:n,onPress:a},g.createElement("span",{className:t},r),i?g.createElement("span",{className:"NavBarActivityMenuStatusItem-statusButtonIndicator-2cc7cL"},i):null)}const vQe=(0,v.$j)((function(){return(0,fe.P1)((0,LT.Z)(),Lme(),(0,fe.P1)(vje(),(e=>e.backgroundTranscodeJobs?e.backgroundTranscodeJobs:[])),(0,fe.P1)(vje(),(e=>e.activities?e.activities:[])),dQe,uQe,((e,t,n,r,i,a)=>({friendlyName:e.friendlyName,machineIdentifier:e.machineIdentifier,sessionsCount:t,backgroundTranscodeJobs:n,activities:r,showUpdateAvailable:lQe(e,i,a)})))}))((function(e){const{friendlyName:t,machineIdentifier:n,sessionsCount:r,backgroundTranscodeJobs:i,activities:a,showUpdateAvailable:s,onMenuClose:o}=e,l=encodeURIComponent(n);return g.createElement("div",{className:"NavBarActivityMenuStatusItem-statusContainer-2pkYvK"},g.createElement("div",{className:"NavBarActivityMenuStatusItem-statusTitle-17ooF2"},t),g.createElement(yQe,{to:`#!/settings/server/${l}/status/server-dashboard`,label:(0,Ce.Z)("Dashboard"),indicator:r?`${r}`:null,onPress:o}),i.length?g.createElement(yQe,{to:`#!/settings/server/${l}/status/conversion`,label:(0,Ce.Z)("Conversions"),indicator:`${i.length}`,onPress:o}):null,a.length?a.map((e=>{const{uuid:t,type:n,title:r,subtitle:i,progress:a,Context:s={}}=e;return pQe[n]?g.createElement(gQe,{key:t,title:r,subtitle:i,progress:a,isPostProcessing:s.status===mF.jN}):null})):null,s?g.createElement(yQe,{labelClassName:"NavBarActivityMenuStatusItem-primaryLabel-2JmhHi",to:`#!/server/${l}/update`,label:(0,Ce.Z)("Server Update Available"),indicator:g.createElement(hQe,{className:"NavBarActivityMenuStatusItem-alertIndicator-RtAG8z"}),onPress:o}):null)})),fQe=(0,v.$j)((function(){return(0,fe.P1)(vje(),(e=>({activities:e&&e.activities?e.activities.filter((e=>pQe[e.type])):[]})))}))((function(e){const{activities:t,onMenuClose:n}=e;return t.length?g.createElement("div",{className:"NavBarEmbeddedServerActivityMenuStatusItem-statusContainer-1JetCv NavBarActivityMenuStatusItem-statusContainer-2pkYvK"},g.createElement("div",{className:"NavBarEmbeddedServerActivityMenuStatusItem-statusTitle-X0Io5- NavBarActivityMenuStatusItem-statusTitle-17ooF2"},g.createElement(pw.Z,{to:dO(),onPress:n},(0,Ce.Z)("Downloads"))),t.map((e=>{const{uuid:t,title:n,subtitle:r,progress:i,Context:a={}}=e;return g.createElement(gQe,{key:t,title:n,subtitle:r,progress:i,isPostProcessing:a.status===mF.jN})}))):null})),bQe={placement:"bottom-end"},IQe=function(e){const{isOpen:t,target:n,embeddedServerEntityID:r,ownedServerEntityIDs:i,onMenuClose:a}=e;return g.createElement(Xl.Z,{className:"NavBarActivityMenu-menu-3fQmRF Menu-menu-1qURRT",isOpen:t,target:n,options:bQe,onMenuClose:a},i.map((e=>g.createElement(vQe,{key:e,serverEntityID:e,onMenuClose:a}))),r?g.createElement(fQe,{key:r,serverEntityID:r,onMenuClose:a}):null)};function SQe(e){var t=e["aria-label"],n=e.className,r=e.style,i={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-navbar-activity-560"};i["aria-hidden"]=!t,i.style=r,i.className=oa.Z.plexIcon+(n?" "+n:"");var a=[g.createElement.apply(g,["path",{d:"M248.175 179.16l-61.448 163.858A20 20 0 0 1 168 355.996H84v-40h70.14l79.133-211.019c6.892-18.376 33.37-16.868 38.13 2.172l70.887 283.544 31.821-63.641A20 20 0 0 1 392 315.996h84v40h-71.64L353.89 456.938c-8.304 16.608-32.788 13.92-37.292-4.093l-68.422-273.686z"}].concat([]))];return t&&a.unshift(g.createElement("title",null,t)),g.createElement.apply(g,["svg",i].concat(a))}SQe.propTypes={"aria-label":sa().string,className:sa().string,style:sa().object};const MQe=SQe,EQe="NavBarActivityIcon-icon-1CMt1h";function PQe(e){const{className:t,iconComponent:n,isActive:r}=e;return g.createElement("span",{className:t},r?g.createElement(Mx.Z,{className:"NavBarActivityIcon-activityIndicator-3P2Xg- Spinner-spinner-1mPhN9 spin-spin-34xiUE"}):null,g.createElement(n,{className:EQe}))}PQe.defaultProps={className:"NavBarActivityIcon-iconContainer-2dJZ6E",iconClassName:EQe,iconComponent:MQe};const DQe=PQe;class CQe extends g.Component{constructor(e,t){super(e,t),this.onActivityPress=e=>{this.setState({isMenuOpen:!this.state.isMenuOpen})},this.onMenuClose=()=>{this.setState({isMenuOpen:!1})},this.state={isMenuOpen:!1},this._buttonID=(0,GE.Z)()}componentDidUpdate(e){this.props.isDisabled&&!e.isDisabled&&this.state.isMenuOpen&&this.onMenuClose()}render(){const{className:e,isDisabled:t,iconClassName:n,labelClassName:r,showActivityButton:i,embeddedServerEntityID:a,ownedServerEntityIDs:s,hasSessions:o,hasConversions:l,hasActivities:c,hasAvailableServerUpdate:d,hasLibraryRefreshing:u,activityButtonCount:p}=this.props;if(!i)return null;const m=o||l,h=c||u,y=!p&&d;return g.createElement(g.Fragment,null,g.createElement(SBe,{id:this._buttonID,isDisabled:t,className:Te()(e,m&&"NavBarActivityButton-isHighlighted-2YqjDs"),iconClassName:n,labelClassName:r,iconProps:{isActive:h},iconComponent:DQe,alertIconClassName:"NavBarActivityButton-alertIcon-1WiIj6 NavBarIconButton-alertIcon-3RbSz5",alertIconComponent:y?hQe:null,ariaLabel:(0,Ce.Z)("Activity"),title:this.state.isMenuOpen?null:(0,Ce.Z)("Activity"),label:p?String(p):null,onPress:this.onActivityPress}),g.createElement(IQe,{isOpen:this.state.isMenuOpen,target:this._buttonID,embeddedServerEntityID:a,ownedServerEntityIDs:s,onMenuClose:this.onMenuClose}))}}CQe.defaultProps={iconClassName:"NavBarActivityButton-activityIcon-3gF_TD NavBarActivityIcon-iconContainer-2dJZ6E",labelClassName:"NavBarActivityButton-label-O3mt7Y"};const wQe=CQe;var ZQe=Object.defineProperty,TQe=Object.prototype.hasOwnProperty,NQe=Object.getOwnPropertySymbols,OQe=Object.prototype.propertyIsEnumerable,AQe=(e,t,n)=>t in e?ZQe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const xQe={sessionsCount:0,backgroundTranscodeJobsCount:0,activitiesCount:0};function jQe(e,t){return e.reduce(((e,n)=>{const{backgroundTranscodeJobs:r=[],activities:i=[]}=n.desktop,a=t[n.machineIdentifier],s=null==a?void 0:a.sessionKeys.length,o=r.length,l=i.filter((e=>!!pQe[e.type])).length;return s>0&&(e.sessionsCount+=s),o>0&&(e.backgroundTranscodeJobsCount+=o),l>0&&(e.activitiesCount+=l),e}),((e,t)=>{for(var n in t||(t={}))TQe.call(t,n)&&AQe(e,n,t[n]);if(NQe)for(var n of NQe(t))OQe.call(t,n)&&AQe(e,n,t[n]);return e})({},xQe))}const LQe=(0,fe.P1)(oQe.Z,(e=>e.v4.core.serverNowPlayingSessions),((e,t)=>jQe(e,t))),kQe=(0,fe.P1)(Z4.Z,(e=>e.v4.core.serverNowPlayingSessions),((e,t)=>e?jQe([e],t):xQe)),RQe=(0,fe.P1)(LQe,kQe,((e,t)=>({activitiesCount:e.activitiesCount+t.activitiesCount,backgroundTranscodeJobsCount:e.backgroundTranscodeJobsCount+t.backgroundTranscodeJobsCount,sessionsCount:e.sessionsCount+t.sessionsCount}))),zQe=(0,fe.P1)(oQe.Z,sQe.Z,((e,t)=>e.reduce(((e,n)=>{const{libraries:r}=n.desktop;return e+r.filter((e=>{const n=t[e];return!!n&&n.refreshing})).length}),0))),UQe=(0,fe.P1)(oQe.Z,dQe,uQe,((e,t,n)=>e.some((e=>lQe(e,t,n))))),VQe=(0,v.$j)((function(){return(0,fe.P1)(((e,{isDisabled:t})=>t),cQe.Z,dke.Z,RQe,zQe,UQe,((e,t,n,r,i,a)=>{const s=n.length>0;let o=s;return t&&(o=!0,e=e||!s&&r.sessionsCount+r.backgroundTranscodeJobsCount+r.activitiesCount===0),{isDisabled:e,embeddedServerEntityID:t,ownedServerEntityIDs:n,showActivityButton:o,hasSessions:r.sessionsCount>0,hasConversions:r.backgroundTranscodeJobsCount>0,hasActivities:r.activitiesCount>0,hasAvailableServerUpdate:a,hasLibraryRefreshing:i>0,activityButtonCount:r.sessionsCount+r.backgroundTranscodeJobsCount}}))}))(wQe);class BQe extends g.Component{constructor(e,t){super(e,t),this.onButtonPress=e=>{const{shouldBypassModal:t}=this.props;(0,b.DB)("metrics").trackEvent({event:mz.Jw,interaction:!0,context:{experiments:{"upsell-experiment":t?"direct":"in-app"}}}),t||this.setState({isPlexPassModalOpen:!0})},this.onModalClose=e=>{this.setState({isPlexPassModalOpen:!1})},this.state={isPlexPassModalOpen:!1}}render(){const{shouldBypassModal:e}=this.props,t=E.Z.join(["https://www.plex.tv","/plex-pass/purchase"],{continue:window.location.href,utm_source:"app.plex.tv",utm_medium:"app",utm_campaign:"PP_in-app-upsell_01",utm_content:Jve.uh});return g.createElement(g.Fragment,null,g.createElement(LBe,{to:e?t:void 0,onPress:this.onButtonPress},(0,Ce.Z)("Go Premium")),g.createElement(Hp.Z,{origin:Jve.uh,metricsProperties:{context:OC.NAV_BAR},isOpen:this.state.isPlexPassModalOpen,onModalClose:this.onModalClose}))}}const FQe=BQe,_Qe="NavBar-button-1cThl9 NavBarIconButton-button-3Fm-24 IconButton-button-llQ1So",HQe="NavBar-buttonSeparator-2LnlnR",QQe=(0,IUe.gn)()||(0,IUe.P_)(),GQe=(0,fe.P1)((e=>e.isFullscreen),(e=>e)),WQe=(0,fe.P1)(na.Z,(e=>e.isSidebarCollapsed)),YQe=(0,fe.P1)((e=>e.downloads&&e.downloads.subscriptions),(e=>!!e&&e.length>0)),KQe=(0,fe.P1)(kVe,(e=>e.some((e=>e.isConnected)))),qQe=(0,v.$j)((function(){return(0,fe.P1)((e=>e.history),jme.Z,LVe,RVe,GQe,WQe,(0,fe.P1)(jme.Z,Ie,YQe,KQe,((e,t,n,r)=>!(e.isLocked||!t)&&(t.isResolved||n||r))),(0,ob.Z)(bn.Oo),((e,t,n,r,i,a,s,o)=>{const l=(0,vn.Z)(Mn.cN,Hj.X),c=(0,IUe.P_)()&&(0,b.DB)("fullscreenManager").hasFullscreen;return{serverEntityID:l,hasHistory:e.length>1,userThumb:t.thumb,badgeCount:n.length+r.length,isFullscreen:i,isSidebarCollapsed:a,isAnonymousUser:!!t.anonymous,canGoPremium:t.canGoPremium,shouldBypassPlexPassUpsellModal:o,canEnterFullscreen:c&&!i,canExitFullscreen:c&&i,canNavigateHistory:QQe,shouldRender:s}}))}),(function(e,t){return{onBackPress(t){e((0,Wn.n)())},onEnterFullscreen(e){(0,b.DB)("fullscreenManager").enter()},onExitFullscreen(e){(0,b.DB)("fullscreenManager").exit()},onToggleCollapsedSidebar(t){(0,fn.c9)((()=>{e((0,AM.LN)({isSidebarCollapsed:t}))}))}}}))((function(e){const{serverEntityID:t,hasHistory:n,userThumb:r,badgeCount:i,canEnterFullscreen:a,canExitFullscreen:s,isAnonymousUser:o,canGoPremium:l,shouldBypassPlexPassUpsellModal:c,canNavigateHistory:d,isSidebarCollapsed:u,shouldRender:p,onBackPress:m,onEnterFullscreen:h,onExitFullscreen:y,onToggleCollapsedSidebar:b}=e,I=(0,v.v9)(ZZe.Z),S=(0,g.useCallback)((()=>{b(!u)}),[u,b]),M=!!(0,f.$B)({path:[SK.Z.account,SK.Z.accountPlexTv,SK.Z.announcements,SK.Z.devices,SK.Z.info,SK.Z.login,SK.Z.logout,SK.Z.logs,SK.Z.onlineMediaSources,SK.Z.serverSettings,SK.Z.serverSettingsStatusSync,SK.Z.signUp,SK.Z.userSharingSettings,SK.Z.usersSharing,SK.Z.webSettings,SK.Z.webhooks],exact:!0});if(!p)return null;const E=(0,zO.Z)("NavBar",I);return g.createElement("div",{key:E,className:"NavBar-container-1YySYJ"},g.createElement("div",{className:"NavBar-left-1zHz4w NavBar-side-34QZPx"},M?g.createElement(SBe,{className:_Qe,to:"#",iconComponent:UHe,title:(0,Ce.Z)("Home")}):g.createElement(SBe,{className:_Qe,iconComponent:BHe,title:u?(0,Ce.Z)("Expand"):(0,Ce.Z)("Collapse"),onPress:S}),g.createElement(pw.Z,{to:"#",className:"NavBar-plexLogo-2adNGd NavBarIconButton-button-3Fm-24 IconButton-button-llQ1So"}),d?g.createElement(SBe,{className:_Qe,iconComponent:LHe,title:(0,Ce.Z)("Back"),isDisabled:!n,onPress:m}):null,g.createElement(xHe,null)),g.createElement("div",{className:"NavBar-right-2AlH9s NavBar-side-34QZPx"},l?g.createElement(FQe,{shouldBypassModal:c}):null,o?g.createElement(g.Fragment,null,g.createElement(kBe,null),g.createElement(RBe,null)):null,l||o?g.createElement("div",{className:HQe}):null,s?g.createElement(SBe,{className:_Qe,iconComponent:_He,title:(0,Ce.Z)("Exit Full Screen"),onPress:y}):null,a?g.createElement(SBe,{className:_Qe,iconComponent:RHe,title:(0,Ce.Z)("Enter Full Screen"),onPress:h}):null,a||s?g.createElement("div",{className:HQe}):null,g.createElement(VQe,{className:_Qe}),g.createElement(wBe,null),g.createElement(mBe,{className:_Qe,iconComponent:SBe}),g.createElement(aQe,{className:"NavBar-accountButton-1vgDr- NavBarAccountButton-button-3Ng0KE DisclosureArrowButton-disclosureArrowButton-17hnir Link-link-CM9nxg",serverEntityID:t,userThumb:o?null:r,badgeCount:i})))}));class $Qe extends g.Component{static getDerivedStateFromError(){return{hasError:!0}}constructor(e){super(e),this.state={hasError:!1}}componentDidCatch(e){M.Z.error(e)}render(){return this.state.hasError?g.createElement(VVe,null):g.createElement(qQe,null)}}const JQe=$Qe,XQe=(0,fe.P1)(Ie,Xt.Z,((e,t)=>({isWaitingForCloudServer:!e.isResolved&&!e.isRejected,isCloudServerAvailable:e.available,isCloudServerResolved:e.isResolved,isCloudServerRejected:e.isRejected,isCloudServerPending:e.isPending,isAnonymousUser:t}))),eGe={dispatchPopulateCloudServer:mt._K},tGe=(0,v.$j)(XQe,eGe)((function(e){const{isCloudServerAvailable:t,isCloudServerResolved:n,isCloudServerRejected:r,isCloudServerDownForMaintenance:i,isAnonymousUser:a,dispatchPopulateCloudServer:s}=e,o=(0,eo.Z)(t),l=!0===t||!1===t,c=!0!==o&&!1!==o;return a7((()=>{s()})),(0,g.useEffect)((()=>{c&&l&&s()}),[c,l,s]),n?a?g.createElement(jxe,null):g.createElement(f.l_,{to:SK.Z.home[0]}):r&&l?t?g.createElement(jxe,null):i?g.createElement(DK,null):g.createElement(ZK,null):g.createElement(Ye,null,g.createElement(lt,null))})),nGe=(0,fe.P1)(uAe.Z,(e=>e.hasDismissedServerDownloadMessage)),rGe=(0,fe.P1)(nGe,(e=>({hasDismissedServerDownloadMessage:e}))),iGe={dispatchSaveDeviceSettings:Wn.T5},aGe=(0,v.$j)(rGe,iGe)((function(e){const{hasDismissedServerDownloadMessage:t,dispatchSaveDeviceSettings:n}=e,r=(0,g.useCallback)((()=>{n({hasDismissedServerDownloadMessage:!0})}),[n]);return g.createElement(CK.Z,{iconSrc:FK,title:(0,Ce.Z)("Add your media to Plex"),description:(0,Ce.Z)("Organize, beautify, stream, and share your personal collection of movies, TV, music, and photos anywhere, on all your devices. To get started, download our free Plex Media Server software on the device where you store your media.")},g.createElement(cb.Z,{to:iy._N,kind:ic._8,size:Rp.ln,target:"_self"},(0,Ce.Z)("Get Plex Media Server")),t?null:g.createElement(qZ.Z,null,g.createElement(pw.Z,{kind:ic._8,size:Rp.HC,to:"#",onPress:r},(0,Ce.Z)("Don't show this in my Pinned Sources sidebar"))))})),sGe="ui/accountSettingsPage/updateUserProfile",oGe="ui/accountSettingsPage/clearUpdateUserProfileError",lGe=(0,bc.Z)(sGe),cGe=(0,bc.Z)(oGe);function dGe(e){return e.get("ui").get("accountSettingsPage")}const uGe={[sGe](e,t){const n=function(e){return e.get("user").get("profile")}(e),r=dGe(e);r.set({isUpdatingUserProfile:!0,updateUserProfileError:null}),n.save(t,{type:"PUT",wait:!0}).done((()=>{n.set(t),r.set({isUpdatingUserProfile:!1,updateUserProfileError:null})})).fail((e=>{r.set({isUpdatingUserProfile:!1,updateUserProfileError:Mwe(e)})}))},[oGe]:e=>{dGe(e).set("updateUserProfileError",null)}};var pGe=Object.create,mGe=Object.defineProperty,hGe=Object.getPrototypeOf,gGe=Object.prototype.hasOwnProperty,yGe=Object.getOwnPropertyNames,vGe=Object.getOwnPropertyDescriptor,fGe=Object.getOwnPropertySymbols,bGe=Object.prototype.propertyIsEnumerable,IGe=(e,t,n)=>t in e?mGe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const SGe={0:{color:"#ff5533",translateFn:()=>(0,Ce.Z)("Too weak")},1:{color:"#ee8833",translateFn:()=>(0,Ce.Z)("Very weak")},2:{color:"#eebb00",translateFn:()=>(0,Ce.Z)("Somewhat weak")},3:{color:"#bbbb33",translateFn:()=>(0,Ce.Z)("Somewhat Strong")},4:{color:"#66bb55",translateFn:()=>(0,Ce.Z)("Very Strong")}},MGe=bce((0,Pae.Z)((function(e){var t=e,{formGroupClassName:n,formLabelClassName:r,formInputClassName:i,name:a,value:s,labelText:o,showErrors:l,errors:c,zxcvbn:d}=t,u=((e,t)=>{var n={};for(var r in e)gGe.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&fGe)for(var r of fGe(e))t.indexOf(r)<0&&bGe.call(e,r)&&(n[r]=e[r]);return n})(t,["formGroupClassName","formLabelClassName","formInputClassName","name","value","labelText","showErrors","errors","zxcvbn"]);const p=d&&""!==s&&!c.length?SGe[d(s).score]:null,m=S().last(c);return g.createElement(Sae.Z,{className:n},g.createElement(Eae.Z,{hasError:l,name:a,className:r},o,p&&!l?g.createElement("span",null," ",""," ",g.createElement("span",{style:{color:p.color}},p.translateFn())):null,l?`  ${m}`:null),g.createElement(ree.Z,((e,t)=>{for(var n in t||(t={}))gGe.call(t,n)&&IGe(e,n,t[n]);if(fGe)for(var n of fGe(t))bGe.call(t,n)&&IGe(e,n,t[n]);return e})({className:i,name:a,type:"password",value:s,hasError:l},u)))})),{zxcvbn:()=>Promise.resolve().then((()=>{return e=n(21322),((e,t,n)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let r of yGe(t))gGe.call(e,r)||"default"===r||mGe(e,r,{get:()=>t[r],enumerable:!(n=vGe(t,r))||n.enumerable});return e})((t=mGe(null!=e?pGe(hGe(e)):{},"default",e&&e.__esModule&&"default"in e?{get:()=>e.default,enumerable:!0}:{value:e,enumerable:!0}),mGe(t,"__esModule",{value:!0})),e);var e,t})).then((e=>e.default))});MGe.defaultProps={showErrors:!1};const EGe=MGe;function PGe({children:e,className:t="FormSectionHeader-sectionHeader-7uSWld FormLabel-label-3iI4Hz"}){return g.createElement("div",{className:t},e)}const DGe=(0,fe.P1)(fo,(e=>e.twoFactorAuth)),CGe={secret:{secret:void 0,provisioningUri:void 0,isPending:!1,isPopulated:!1,error:null},toggle:{isPending:!1,isPopulated:!1,error:null},recoveryCodes:{isPending:!1,isPopulated:!1,error:null},sendRecoveryCode:{isPending:!1,isPopulated:!1,error:null},codes:[]},wGe=(0,lo.oM)({name:"twoFactorAuth",initialState:CGe,reducers:{reset:()=>CGe,resetToggle(e){e.toggle=CGe.toggle},resetSendRecoveryCode(e){e.sendRecoveryCode=CGe.sendRecoveryCode},createSecretRequested(e,t){(0,yd.er)(e.secret)},createSecretSucceeded(e,{payload:t}){(0,yd.vv)(e.secret),e.secret.provisioningUri=t.provisioningUri,e.secret.secret=t.secret},createSecretFailed(e,{payload:t}){(0,yd.VQ)(e.secret,t.error)},toggleRequested(e,t){(0,yd.er)(e.toggle)},toggleSucceeded(e,{payload:t}){(0,yd.vv)(e.toggle),t.enabled&&(e.codes=t.codes)},toggleFailed(e,{payload:t}){(0,yd.VQ)(e.toggle,t.error)},generateRecoveryCodesRequested(e,t){(0,yd.er)(e.recoveryCodes)},generateRecoveryCodesSucceeded(e,{payload:t}){(0,yd.vv)(e.recoveryCodes),e.codes=t.codes},generateRecoveryCodesFailed(e,{payload:t}){(0,yd.VQ)(e.recoveryCodes,t.error)},sendRecoveryCodeRequested(e){(0,yd.er)(e.sendRecoveryCode),e.sendRecoveryCode.isPopulated=!1},sendRecoveryCodeSucceeded(e){(0,yd.vv)(e.sendRecoveryCode)},sendRecoveryCodeFailed(e,{payload:t}){(0,yd.VQ)(e.sendRecoveryCode,t.error),e.sendRecoveryCode.isPopulated=!1}}});function ZGe(e,t){var n;if(null==(n=null==e?void 0:e.data)?void 0:n.errors){const n=Mwe(e.data.errors[0],t);if(n)return n}return(0,Ce.Z)("Something went wrong. Please try again in a few minutes.")}function TGe({isOpen:e,onModalClose:t}){var n;const r=(0,v.I0)(),[i,a]=(0,g.useState)(!1),[s,o]=(0,g.useState)(!1),l=(0,v.v9)(DGe),c=(0,v.v9)(ct).twoFactorEnabled,d=l.sendRecoveryCode.error||l.toggle.error;(0,g.useEffect)((()=>{!s&&l.sendRecoveryCode.isPopulated&&o(!0)}),[s,l.sendRecoveryCode.isPopulated]);const u=(0,g.useCallback)((()=>{r(wGe.actions.reset()),t(),a(!1)}),[r,t]);(0,g.useEffect)((()=>{c||u()}),[c,u]);const{register:p,handleSubmit:m,errors:h}=(0,Sd.cI)(),y="required"===(null==(n=h.verificationCode)?void 0:n.type),f=(0,g.useCallback)((({verificationCode:e})=>{r(wGe.actions.resetSendRecoveryCode()),r(wGe.actions.toggleRequested({enabled:!1,verificationCode:e}))}),[r]),b=(0,g.useCallback)((()=>{r(wGe.actions.reset()),a(!0)}),[r,a]),I=(0,g.useCallback)((()=>{r(wGe.actions.resetToggle()),r(wGe.actions.sendRecoveryCodeRequested())}),[r]);return g.createElement(lu,{isOpen:e,onModalClose:u},g.createElement(du,{onModalClose:u},g.createElement(mu,null,(0,Ce.Z)("Disable two-factor authentication")),d?g.createElement(uu,{message:ZGe(d,i?bwe.SendRecoveryCode:void 0)}):null,g.createElement("form",{className:"DisableTwoFactorAuthModal-modalContent-1tPIhe ModalContent-modalContent-3nQys3",onSubmit:m(f)},g.createElement(cm,{innerClassName:"DisableTwoFactorAuthModal-innerModalBody-1gHWjF ModalBody-innerModalBody-9jyEBh"},i&&!s?g.createElement("div",{className:"DisableTwoFactorAuthModal-sendCodeContainer-3EtV98"},g.createElement(Zd,{isSpinning:l.sendRecoveryCode.isPending,onPress:I},(0,Ce.Z)("Email temporary code"))):null,i&&s?g.createElement("span",{className:"DisableTwoFactorAuthModal-sendCodeMessage-11N-2E"},(0,Ce.Z)("An email containing the recovery code has been sent.")):null,!i||s?g.createElement("div",{className:"DisableTwoFactorAuthModal-inputGroup-1Acz5d"},g.createElement(mP,{name:"verificationCode",hasError:y},i?(0,Ce.Z)("Recovery code"):(0,Ce.Z)("Verification code")),g.createElement(Rd,{name:"verificationCode",defaultValue:"",autoComplete:"off",hasFocusOnMount:!0,hasError:y,ref:p({required:!0})})):null,i?null:g.createElement("div",{className:"DisableTwoFactorAuthModal-verifyAnotherWayLink-1T9m1l"},g.createElement(vr,{kind:or.Primary,onPress:b},(0,Ce.Z)("Verify another way")))),g.createElement(pu,null,g.createElement(dm,null,g.createElement(Dr,{onPress:u},(0,Ce.Z)("Cancel")),g.createElement(Zd,{isSpinning:l.toggle.isPending,type:"submit",kind:or.Primary},(0,Ce.Z)("Disable")))))))}TGe.propTypes={isOpen:sa().bool.isRequired,onModalClose:sa().func.isRequired};var NGe=n(45859);const OGe="RecoveryCodesModalContent-info-1AQW_D";function AGe({showEnabledMessage:e,codes:t,onAcknowledgeCodes:n}){const r=(0,g.useCallback)((()=>{NGe.writeText(t.join("\n"))}),[t]);return g.createElement(g.Fragment,null,g.createElement(cm,{innerClassName:"RecoveryCodesModalContent-innerModalBody-eatGuH ModalBody-innerModalBody-9jyEBh"},e?g.createElement("span",{className:Te()(OGe,"RecoveryCodesModalContent-strong-15xyIR")},(0,Ce.Z)("Two-factor authentication is enabled!")):null,g.createElement("span",{className:OGe},(0,Ce.Z)("Use the following recovery codes when you are unable to verify via your authenticator app.")," ",g.createElement("span",{className:"RecoveryCodesModalContent-importantInfo-1zngd6"},(0,Ce.Z)("Remember to store these code safely."))),g.createElement("div",{className:"RecoveryCodesModalContent-codes-2AJyTg"},t.map((e=>g.createElement("div",{key:e,className:"RecoveryCodesModalContent-code-2QE7B4"},e)))),g.createElement(Dr,{onPress:r},(0,Ce.Z)("Copy to clipboard"))),g.createElement(pu,null,g.createElement(dm,null,g.createElement(Dr,{kind:or.Primary,onPress:n},(0,Ce.Z)("Done")))))}const xGe="EnableTwoFactorAuthModal-modalContent-6yxNPJ ModalContent-modalContent-3nQys3",jGe="EnableTwoFactorAuthModal-innerModalBody-18buA7 ModalBody-innerModalBody-9jyEBh";var LGe=Object.create,kGe=Object.defineProperty,RGe=Object.getPrototypeOf,zGe=Object.prototype.hasOwnProperty,UGe=Object.getOwnPropertyNames,VGe=Object.getOwnPropertyDescriptor;function BGe({onConfirmed:e,onClose:t}){var n;const r=(0,v.I0)(),i=(0,v.v9)(DGe),a=i.secret.isPopulated,s=i.secret.error,{register:o,handleSubmit:l,errors:c}=(0,Sd.cI)(),d="required"===(null==(n=c.currentPassword)?void 0:n.type);(0,g.useEffect)((()=>{a&&e()}),[a,e]);const u=(0,g.useCallback)((({currentPassword:e})=>{r(wGe.actions.createSecretRequested({password:e}))}),[r]);return g.createElement(g.Fragment,null,s?g.createElement(uu,{message:ZGe(s)}):null,g.createElement("form",{className:xGe,onSubmit:l(u)},g.createElement(cm,{innerClassName:jGe},g.createElement("div",{className:"EnableTwoFactorAuthModal-inputGroup-1JbvUw"},g.createElement(mP,{name:"currentPassword",hasError:d},(0,Ce.Z)("Password")),g.createElement(Rd,{type:"password",name:"currentPassword",defaultValue:"",hasFocusOnMount:!0,hasError:d,ref:o({required:!0})}))),g.createElement(pu,null,g.createElement(dm,null,g.createElement(Dr,{onPress:t},(0,Ce.Z)("Cancel")),g.createElement(Zd,{isSpinning:i.secret.isPending,type:"submit",kind:or.Primary},(0,Ce.Z)("Continue"))))))}const FGe=g.lazy((()=>Promise.resolve().then((()=>{return e=n(79361),((e,t,n)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let r of UGe(t))zGe.call(e,r)||"default"===r||kGe(e,r,{get:()=>t[r],enumerable:!(n=VGe(t,r))||n.enumerable});return e})((t=kGe(null!=e?LGe(RGe(e)):{},"default",e&&e.__esModule&&"default"in e?{get:()=>e.default,enumerable:!0}:{value:e,enumerable:!0}),kGe(t,"__esModule",{value:!0})),e);var e,t}))));function _Ge({onConfirmed:e,onClose:t}){var n;const r=(0,v.I0)(),i=(0,v.v9)(DGe),a=i.secret.provisioningUri,s=i.secret.secret,o=i.toggle.isPopulated,l=i.toggle.error;(0,g.useEffect)((()=>{o&&e()}),[o,e]);const{register:c,handleSubmit:d,errors:u}=(0,Sd.cI)(),p="required"===(null==(n=u.verificationCode)?void 0:n.type),m=(0,g.useCallback)((({resetDevices:e,verificationCode:t})=>{r(wGe.actions.toggleRequested({enabled:!0,resetDevices:e,verificationCode:t}))}),[r]);return g.createElement(g.Fragment,null,l?g.createElement(uu,{message:ZGe(l)}):null,g.createElement("form",{className:xGe,onSubmit:d(m)},g.createElement(cm,{innerClassName:jGe},g.createElement("div",{className:"EnableTwoFactorAuthModal-secretContent-1yutW-"},g.createElement("div",{className:"EnableTwoFactorAuthModal-qrCodeContent-1STjMP"},g.createElement(g.Suspense,{fallback:g.createElement("div",{className:"EnableTwoFactorAuthModal-qrCodePlaceholder-W9W3tq"})},a?g.createElement(FGe,{value:a,size:200,includeMargin:!0}):null)),g.createElement("div",{className:"EnableTwoFactorAuthModal-verificationCodeContent-e_8CdE"},g.createElement("span",null,(0,Ce.Z)("Scan the image with the two-factor authentication app on your phone and enter the verification code. If you can't use a QR code use the text code instead.")," ",g.createElement("span",{className:"EnableTwoFactorAuthModal-textCode-reLUOS"},s)),g.createElement("div",{className:"EnableTwoFactorAuthModal-verificationCodeInput-2XKNnz"},g.createElement(mP,{name:"verificationCode",hasError:p},(0,Ce.Z)("Verification code")),g.createElement(Rd,{name:"verificationCode",defaultValue:"",autoComplete:"off",hasFocusOnMount:!0,hasError:p,ref:c({required:!0})})))),g.createElement("div",{className:"EnableTwoFactorAuthModal-signOutContent-1Uc-H_"},g.createElement(yN,{className:"EnableTwoFactorAuthModal-checkbox-1EqjTd Checkbox-input-3E0Vit",name:"resetDevices",ref:c}),g.createElement("span",null,(0,Ce.Z)("Sign out of all other servers and apps")),g.createElement(Mae.Z,{className:"EnableTwoFactorAuthModal-help-397OGq FormHelp-help-5U-58f"},(0,Ce.Z)("This will sign out all claimed servers and client applications. In order to sign them back in you will need to physically access to those devices.")))),g.createElement(pu,null,g.createElement(dm,null,g.createElement(Dr,{onPress:t},(0,Ce.Z)("Cancel")),g.createElement(Zd,{isSpinning:i.toggle.isPending,type:"submit",kind:or.Primary},(0,Ce.Z)("Continue"))))))}var HGe,QGe;function GGe({isOpen:e,onEnableTwoFactorAuthComplete:t,onModalClose:n}){const[r,i]=(0,g.useState)(HGe.Password),a=(0,v.I0)(),s=(0,v.v9)(DGe);(0,g.useEffect)((()=>{i(HGe.Password)}),[e]);const o=(0,g.useCallback)((()=>{a(wGe.actions.reset()),n()}),[a,n]),l=(0,g.useCallback)((()=>{i(HGe.Secret)}),[i]),c=(0,g.useCallback)((()=>{i(HGe.Codes)}),[i]),d=(0,g.useCallback)((()=>{t(),o()}),[o,t]);return g.createElement(lu,{isOpen:e,onModalClose:o},g.createElement(du,{onModalClose:o},g.createElement(mu,null,(0,Ce.Z)("Enable two-factor authentication")),r===HGe.Password?g.createElement(BGe,{onClose:o,onConfirmed:l}):null,r===HGe.Secret?g.createElement(_Ge,{onClose:o,onConfirmed:c}):null,r===HGe.Codes?g.createElement(AGe,{showEnabledMessage:!0,codes:s.codes,onAcknowledgeCodes:d}):null))}(QGe=HGe||(HGe={})).Password="Password",QGe.Secret="Secret",QGe.Codes="codes";const WGe="GenerateRecoveryCodesModal-inputGroup-2jKg2z";function YGe({isOpen:e,onModalClose:t}){var n,r;const i=(0,v.I0)(),a=(0,v.v9)(DGe),s=a.recoveryCodes.error,o=(0,g.useCallback)((()=>{i(wGe.actions.reset()),t()}),[i,t]),{register:l,handleSubmit:c,errors:d}=(0,Sd.cI)(),u="required"===(null==(n=d.currentPassword)?void 0:n.type),p="required"===(null==(r=d.verificationCode)?void 0:r.type),m=(0,g.useCallback)((({currentPassword:e,verificationCode:t})=>{i(wGe.actions.generateRecoveryCodesRequested({password:e,verificationCode:t}))}),[i]);return g.createElement(lu,{isOpen:e,onModalClose:o},g.createElement(du,{onModalClose:o},g.createElement(mu,null,(0,Ce.Z)("Generate new recovery codes")),s?g.createElement(uu,{message:ZGe(s)}):null,a.recoveryCodes.isPopulated?g.createElement(AGe,{codes:a.codes,onAcknowledgeCodes:o}):g.createElement("form",{className:"GenerateRecoveryCodesModal-modalContent-3T8bzi ModalContent-modalContent-3nQys3",onSubmit:c(m)},g.createElement(cm,{innerClassName:"GenerateRecoveryCodesModal-innerModalBody-2g9hXz ModalBody-innerModalBody-9jyEBh"},g.createElement("div",{className:WGe},g.createElement(mP,{name:"currentPassword",hasError:u},(0,Ce.Z)("Password")),g.createElement(Rd,{type:"password",name:"currentPassword",defaultValue:"",hasFocusOnMount:!0,hasError:u,ref:l({required:!0})})),g.createElement("div",{className:WGe},g.createElement(mP,{name:"verificationCode",hasError:p},(0,Ce.Z)("Verification code")),g.createElement(Rd,{name:"verificationCode",defaultValue:"",autoComplete:"off",hasError:p,ref:l({required:!0})}))),g.createElement(pu,null,g.createElement(dm,null,g.createElement(Dr,{onPress:o},(0,Ce.Z)("Cancel")),g.createElement(Zd,{isSpinning:a.recoveryCodes.isPending,type:"submit",kind:or.Primary},(0,Ce.Z)("Generate codes")))))))}const KGe="TwoFactorAuthSection-sectionWrapper-OhOrPv SettingsFormSection-section-1E12y7",qGe="TwoFactorAuthSection-description-TXkuUh",$Ge="TwoFactorAuthSection-action-zuA4pz";function JGe({onEnableTwoFactorAuthComplete:e}){const t=(0,v.v9)(ct),n=(0,gd.Z)(),r=(0,gd.Z)(),i=(0,gd.Z)();return g.createElement(g.Fragment,null,g.createElement(GGe,{isOpen:n.isOpen,onEnableTwoFactorAuthComplete:e,onModalClose:n.onClose}),g.createElement(TGe,{isOpen:r.isOpen,onModalClose:r.onClose}),g.createElement(YGe,{isOpen:i.isOpen,onModalClose:i.onClose}),g.createElement(PGe,null,(0,Ce.Z)("Two-factor authentication")),t.twoFactorEnabled?g.createElement(g.Fragment,null,g.createElement("div",{className:KGe},g.createElement("div",{className:qGe},(0,Ce.Z)("To disable two-factor authentication you will need your authenticator app or recovery codes.")),g.createElement("div",{className:$Ge},g.createElement(Dr,{kind:or.Primary,size:st.Medium,onPress:r.onOpen},(0,Ce.Z)("Disable")))),g.createElement("div",{className:KGe},g.createElement("div",{className:qGe},(0,Ce.Z)("Recovery codes are used in place of generated two-factor authentication codes. Treat them as carefully as you treat your password.")),g.createElement("div",{className:$Ge},g.createElement(Dr,{kind:or.Primary,size:st.Medium,onPress:i.onOpen},(0,Ce.Z)("Generate new recovery codes"))))):g.createElement("div",{className:KGe},g.createElement("div",{className:qGe},(0,Ce.Z)("Use an authenticator application on your phone to get two-factor authentication codes when prompted.")),g.createElement("div",{className:$Ge},g.createElement(Dr,{kind:or.Primary,size:st.Medium,onPress:n.onOpen},(0,Ce.Z)("Enable")))))}var XGe=n(21054);const eWe="AccountSummary-badgeContainer-1i-AEK",tWe="AccountSummary-textBadge-SEgM0y",nWe={path:"/subscription",title:()=>(0,Ce.Z)("Subscriptions")},rWe={path:"/users/payments",title:()=>(0,Ce.Z)("Payments")},iWe={path:iy.Zs,title:()=>(0,Ce.Z)("Other Services")};class aWe extends g.Component{constructor(e,t){super(e,t),this.onPlexPassPress=()=>{this.setState({isPlexPassModalOpen:!0})},this.onPlexPassModalClose=()=>{this.setState({isPlexPassModalOpen:!1})},this.state={isPlexPassModalOpen:!1}}render(){const{user:e}=this.props,{isPlexPassModalOpen:t}=this.state,n=Jwe()?"_blank":"_self",r=function(e){return e.isEmployee?g.createElement("span",{className:tWe},"Employee"):e.isNinja&&!e.isEmployee?g.createElement("span",{className:tWe},"Ninja"):null}(e);return e.hasPlexSubscription||e.canGoPremium||!e.restricted?g.createElement(ese,null,g.createElement("div",{className:"AccountSummary-container-19cOiE"},g.createElement("div",null,e.hasPlexSubscription?g.createElement("div",null,g.createElement("div",{className:eWe},e.hasPlexPass?g.createElement("img",{className:"AccountSummary-plexPassBadge-2o8zJK",src:XGe}):null,r),g.createElement("div",null,e.subscriptionDescription)):null,e.canGoPremium?g.createElement("div",null,r?g.createElement("div",{className:eWe},r):null,g.createElement(cb.Z,{kind:ic._8,onPress:this.onPlexPassPress},(0,Ce.Z)("Go Premium")),g.createElement(Hp.Z,{origin:Jve.yV,metricsProperties:{context:pt.yV},isOpen:t,onModalClose:this.onPlexPassModalClose})):null),e.restricted?null:g.createElement("div",{className:"AccountSummary-actionLinksContainer-ih4Hta"},g.createElement(nse,{className:"AccountSummary-actionLinks-3yLggy SettingsFormSectionActionLinks-actionLinks-27IFpO"},(i=e.hasPlexSubscription,i?[nWe,rWe,iWe]:[rWe,iWe]).map((({path:e,title:t},r)=>g.createElement(g.Fragment,{key:r},g.createElement(rs.Z,{className:"AccountSummary-linkSeparator-2188C8",separator:""}),g.createElement(pw.Z,{kind:ic._8,to:E.Z.join(["https://plex.tv",e]),target:n},t())))))))):null;var i}}const sWe=aWe;function oWe(e,t){const n=e.find((e=>e.hasOwnProperty(t)));return n?n[t]:""}const lWe=function(e){const{userProfile:t,languageOptions:n,autoSelectSubtitleOptions:r,subtitleAccessibilityOptions:i,subtitleForcedOptions:a}=e,{autoSelectAudio:s,defaultAudioLanguage:o,defaultSubtitleLanguage:l,autoSelectSubtitle:c,defaultSubtitleAccessibility:d,defaultSubtitleForced:u}=t,p=[],m=oWe(n,o);""!==o&&m&&p.push((0,Ce.Z)("{audioLanguage} audio",{audioLanguage:m}));const h=oWe(n,l);let y="";""!==l&&h&&(y=(0,Ce.Z)("{subtitleLanguage} subtitles",{subtitleLanguage:h}));const v=oWe(r,c).toLowerCase();let f;y&&v?f=y+" "+v:!y&&v?f=(0,Ce.Z)("Subtitles")+" "+v:y&&!v&&(f=y),f&&p.push(f);const b=s?p.join(", "):(0,Ce.Z)("Manually Select"),I=[oWe(i,d),oWe(a,u)].join(", ");return g.createElement("div",null,b?g.createElement("div",null,(0,Ce.Z)("Track selection")," ",g.createElement(rs.Z,null)," ",b):null,g.createElement("div",null,(0,Ce.Z)("Searches")," ",g.createElement(rs.Z,null)," ",I))};var cWe=Object.defineProperty,dWe=Object.prototype.hasOwnProperty,uWe=Object.getOwnPropertySymbols,pWe=Object.prototype.propertyIsEnumerable,mWe=(e,t,n)=>t in e?cWe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,hWe=(e,t)=>{for(var n in t||(t={}))dWe.call(t,n)&&mWe(e,n,t[n]);if(uWe)for(var n of uWe(t))pWe.call(t,n)&&mWe(e,n,t[n]);return e};class gWe extends g.Component{constructor(e,t){super(e,t),this.onSubmit=e=>{e.autoSelectSubtitle&&(e.autoSelectSubtitle=parseInt(e.autoSelectSubtitle,10)),e.defaultSubtitleAccessibility&&(e.defaultSubtitleAccessibility=parseInt(e.defaultSubtitleAccessibility,10)),e.defaultSubtitleForced&&(e.defaultSubtitleForced=parseInt(e.defaultSubtitleForced,10)),e.autoSelectAudio||(e.autoSelectSubtitle=0),this.props.onSubmit(e)},this.onFormChange=({autoSelectAudio:e})=>{e.value!==this.state.isAutoSelectAudio&&this.setState({isAutoSelectAudio:e.value})},this.state={isAutoSelectAudio:e.userProfile.autoSelectAudio},this._autoSelectSubtitleOptions=[{0:(0,Ce.Z)("Manually selected")},{1:(0,Ce.Z)("Shown with foreign audio")},{2:(0,Ce.Z)("Always enabled")}],this._subtitleAccessibilityOptions=[{0:(0,Ce.Z)("Prefer non-SDH subtitles")},{1:(0,Ce.Z)("Prefer SDH subtitles")},{2:(0,Ce.Z)("Only show SDH subtitles")},{3:(0,Ce.Z)("Only show non-SDH subtitles")}],this._subtitleForcedOptions=[{0:(0,Ce.Z)("Prefer non-forced subtitles")},{1:(0,Ce.Z)("Prefer forced subtitles")},{2:(0,Ce.Z)("Only show forced subtitles")},{3:(0,Ce.Z)("Only show non-forced subtitles")}],this._languageOptions=[{"":(0,Ce.Z)("Select Language")},...Y7.MP.filter((e=>2===e.length&&-1===Y7.WX.indexOf(e))).map((e=>({[e]:Y7.ZP[e]})))]}UNSAFE_componentWillReceiveProps(e){e.isOpen!==this.props.isOpen&&this.setState({isAutoSelectAudio:e.userProfile.autoSelectAudio})}render(){const e=this.props,{userProfile:t}=e,n=((e,t)=>{var n={};for(var r in e)dWe.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&uWe)for(var r of uWe(e))t.indexOf(r)<0&&pWe.call(e,r)&&(n[r]=e[r]);return n})(e,["userProfile"]),{isAutoSelectAudio:r}=this.state;return g.createElement(lse,hWe(hWe({},n),{title:(0,Ce.Z)("Audio & Subtitle Settings"),closedNode:g.createElement(lWe,{userProfile:t,languageOptions:this._languageOptions,autoSelectSubtitleOptions:this._autoSelectSubtitleOptions,subtitleAccessibilityOptions:this._subtitleAccessibilityOptions,subtitleForcedOptions:this._subtitleForcedOptions}),onFormChange:this.onFormChange,onSubmit:this.onSubmit}),g.createElement(Eae.Z,null,(0,Ce.Z)("Audio & Subtitle Settings")),g.createElement("p",{className:"AudioSubtitleSettingsFormSection-description-1X2Np2"},(0,Ce.Z)("These settings determine how Plex will try to select audio and subtitle tracks when playing media in a Plex app while using your account.")),g.createElement("p",null,g.createElement(pw.Z,{kind:ic._8,to:iy.yl,target:"_blank"},(0,Ce.Z)("Learn more"))),g.createElement(fae.Z,{name:"autoSelectAudio",checkboxText:(0,Ce.Z)("Automatically select audio and subtitle tracks"),initialValue:t.autoSelectAudio}),r?g.createElement(bae.Z,{labelText:(0,Ce.Z)("Preferred audio language"),name:"defaultAudioLanguage",initialValue:t.defaultAudioLanguage,values:this._languageOptions}):null,r?g.createElement(bae.Z,{labelText:(0,Ce.Z)("Preferred subtitle language"),name:"defaultSubtitleLanguage",initialValue:t.defaultSubtitleLanguage,values:this._languageOptions}):null,r?g.createElement(bae.Z,{labelText:(0,Ce.Z)("Auto-select subtitle mode"),name:"autoSelectSubtitle",initialValue:t.autoSelectSubtitle,values:this._autoSelectSubtitleOptions}):null,g.createElement(bae.Z,{labelText:(0,Ce.Z)("Subtitles for the Deaf or Hard-of-Hearing (SDH) Searches"),name:"defaultSubtitleAccessibility",initialValue:t.defaultSubtitleAccessibility,values:this._subtitleAccessibilityOptions}),g.createElement(bae.Z,{labelText:(0,Ce.Z)("Forced Subtitle Searches"),name:"defaultSubtitleForced",initialValue:t.defaultSubtitleForced,values:this._subtitleForcedOptions}))}}const yWe=gWe,vWe=(0,fe.P1)((0,wn.Z)("profile"),(e=>({userProfile:e}))),fWe={onSubmit:lGe},bWe=(0,v.$j)(vWe,fWe)(yWe),IWe=(0,fe.P1)(fo,(e=>e.verificationEmail)),SWe={isPending:!1,isPopulated:!1,error:null},MWe=(0,lo.oM)({name:"verificationEmail",initialState:SWe,reducers:{reset:()=>SWe,sendVerificationEmailRequested(e){(0,yd.er)(e),e.isPopulated=!1},sendVerificationEmailSucceeded(e){(0,yd.vv)(e)},sendVerificationEmailFailed(e,{payload:t}){(0,yd.VQ)(e,t.error),e.isPopulated=!1}}});var EWe=Object.defineProperty,PWe=Object.prototype.hasOwnProperty,DWe=Object.getOwnPropertySymbols,CWe=Object.prototype.propertyIsEnumerable,wWe=(e,t,n)=>t in e?EWe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ZWe=(e,t)=>{for(var n in t||(t={}))PWe.call(t,n)&&wWe(e,n,t[n]);if(DWe)for(var n of DWe(t))CWe.call(t,n)&&wWe(e,n,t[n]);return e};function TWe(e){const t=e,{title:n,userSettingErrors:r,isOpen:i,onSubmit:a,onTogglePress:s}=t,o=((e,t)=>{var n={};for(var r in e)PWe.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&DWe)for(var r of DWe(e))t.indexOf(r)<0&&CWe.call(e,r)&&(n[r]=e[r]);return n})(t,["title","userSettingErrors","isOpen","onSubmit","onTogglePress"]),l=(0,v.I0)(),c=(0,v.v9)(ct),d=c.confirmed,u=(0,Dp.Z)(d),p=(0,v.v9)(IWe),[m,h]=(0,g.useState)(!1);(0,g.useEffect)((()=>()=>{l(MWe.actions.reset())}),[l]);const y=(0,g.useCallback)((e=>{c.username===c.email?null==a||a(ZWe(ZWe({},e),{username:e.email})):null==a||a(e)}),[a,c]),f=(0,g.useCallback)((()=>{l(MWe.actions.sendVerificationEmailRequested())}),[l]),b=(0,g.useCallback)((()=>{h(!0)}),[]),I=(0,g.useCallback)((()=>{l(MWe.actions.reset()),h(!1)}),[l]),S=(0,g.useCallback)((()=>{s(),l(MWe.actions.reset()),h(!1)}),[l,s]);(0,g.useEffect)((()=>{d&&i&&!u&&S()}),[d,i,S,u]);const M=g.createElement("div",{className:"AccountEmailFormSection-emailClosedNode-2_K5dg"},c.email,c.confirmed?null:g.createElement("div",{className:"AccountEmailFormSection-emailUnverified-HeZyl3"},"(",(0,Ce.Z)("unverified"),")")),E=m||c.confirmed;return g.createElement(lse,ZWe(ZWe({},o),{title:n,showButton:E,closedNode:M,isOpen:i,onTogglePress:S,onSubmit:y}),E?g.createElement(g.Fragment,null,g.createElement(mw.Z,{labelText:(0,Ce.Z)("Email Address"),name:"email",initialValue:c.email,errors:r.email,validations:[ALe]}),g.createElement(mw.Z,{labelText:(0,Ce.Z)("Password"),type:"password",name:"currentPassword",initialValue:"",validations:[xLe]}),c.twoFactorEnabled?g.createElement(mw.Z,{labelText:(0,Ce.Z)("Verification code"),name:"verificationCode",autoComplete:"off",initialValue:"",validations:[zLe]}):null,c.confirmed?null:g.createElement(pw.Z,{kind:or.Primary,onPress:I},(0,Ce.Z)("Please verify your email address"))):g.createElement(g.Fragment,null,g.createElement(Eae.Z,null,n),g.createElement(ase,{className:"AccountEmailFormSection-sectionDetails-sGvSRl SettingsFormSectionDetails-sectionDetails-3c6R0T"},M),g.createElement("div",{className:"AccountEmailFormSection-verificationContainer-1B_X6S"},g.createElement("div",null,g.createElement(Zd,{kind:or.Primary,size:st.Medium,isSpinning:p.isPending,onPress:f},(0,Ce.Z)("Send verification email"))),g.createElement("div",{className:"AccountEmailFormSection-verificationEmailInfo-fDXy0n"},p.isPopulated?(0,Ce.Z)("A verification email has been sent to the address above. Please follow the instructions in the email to verify your account."):null,p.error?(0,Ce.Z)("Verification email can only be sent once every few minutes. Please try to send the verification email again later."):null)),g.createElement(pw.Z,{kind:or.Primary,onPress:b},(0,Ce.Z)("Update email address"))))}var NWe=n(28496);const OWe="oauth/fetchOauthProviders",AWe="oauth/unlinkOauthProvider",xWe=(0,bc.Z)(OWe),jWe=(0,bc.Z)(AWe),LWe={[OWe]:(0,cC.Z)({key:"oauthProviders",getModel:e=>e.get("cloudServer").get("desktop")}),[AWe](e,t,n){const r=e.get("cloudServer"),i=r.get("desktop").get("oauthProviders").findWhere(t);i.set("isUnlinking",!0);const a=r.populate().then((()=>h().ajax(r.getXHROptions(t.url,{type:"DELETE"}))));(0,NWe.Z)(a,1e3).done((()=>{i.set("unlinkError",null)})).fail((e=>{i.set("unlinkError",e)})).always((()=>{n((0,mt.bc)()),n(xWe()),i.set("isUnlinking",!1)}))}},kWe=(0,fe.P1)(Ie,(e=>{if(!e)return{};const t=e.desktop;return{oauthProviders:t.oauthProviders.filter((e=>e.usage&&e.usage.federatedAuth)),isOauthProvidersPending:t.isOauthProvidersPending,isOauthProvidersPopulated:t.isOauthProvidersPopulated,oauthProvidersError:t.oauthProvidersError}})),RWe=function(e,t){const n=RZe(window.location.href,t);return E.Z.join([e],{origin:n})},zWe={apple:"LinkedAccount-buttonApple-3Pe9PI LinkedAccount-button-1mgqse",facebook:"LinkedAccount-buttonFacebook-2AJMnq LinkedAccount-button-1mgqse",google:"LinkedAccount-buttonGoogle-1isa66 LinkedAccount-button-1mgqse"};class UWe extends g.Component{constructor(e,t){super(e,t),this.onUnlinkPress=e=>{!this.props.hasPassword&&this.props.isLastLinkedAccount?this.setState({isUnlinkOauthProviderModalOpen:!0}):this.props.onCreatePassword(e)},this.onUnlinkCancel=()=>{this.setState({isUnlinkOauthProviderModalOpen:!1})},this.state={isUnlinkOauthProviderModalOpen:!1}}UNSAFE_componentWillReceiveProps(e){this.props.isUnlinking&&!e.isUnlinking&&this.setState({isUnlinkOauthProviderModalOpen:!1})}render(){const{to:e,isPollClient:t,isBusy:n,code:r,providerID:i,metricsProperties:a,isDisabled:s,isLastLinkedAccount:o,hasPassword:l,label:c,linked:d,onUnlink:u,onLink:p,onCreatePassword:m,onStillTherePress:h}=this.props,{isUnlinkOauthProviderModalOpen:y}=this.state,v=d,f=!d&&!s,b=!(f||n||r||v),I=v||f||b,S=!l&&o,M=S?this.onUnlinkPress:u;return g.createElement("div",{className:d?"LinkedAccount-rowLinked-T9J4EG LinkedAccount-row-1BNFB5":"LinkedAccount-rowUnlinked-3PJEzO LinkedAccount-row-1BNFB5"},g.createElement(cb.Z,{className:zWe[i],isDisabled:s,to:f?e:void 0,target:f&&t?"_blank":void 0,onPress:f?p:M}),d?(0,Ce.Z)("Your {oauthProvider} account is linked",{oauthProvider:c}):(0,Ce.Z)("Your {oauthProvider} account is not linked",{oauthProvider:c}),I?g.createElement("span",{className:"LinkedAccount-separator-2_CYeV"},""):null,v?g.createElement(pw.Z,{kind:ic._8,isDisabled:s,onPress:M},(0,Ce.Z)("Unlink")):null,S?g.createElement(yt.Z,{isConfirmButtonSpinning:s,isCancelButtonDisabled:s,isOpen:y,metricsPage:pt._g,metricsProperties:a,title:(0,Ce.Z)("Unlink {oauthProvider}",{oauthProvider:c}),message:(0,Ce.Z)("To unlink, first set a password to use when signing in"),confirmLabel:(0,Ce.Z)("Set Password"),kind:ic.T,onConfirm:m,onCancel:this.onUnlinkCancel}):null,f?g.createElement(pw.Z,{kind:ic._8,to:e,target:t?"_blank":void 0,onPress:p},(0,Ce.Z)("Link")):null,b?g.createElement(KV.Z,{message:(0,Ce.Z)("Account linking timed out. {openLink}Try again?{closeLink}"),tags:[{open:"openLink",close:"closeLink",component:pw.Z,kind:ic._8,onPress:h}]}):null)}}const VWe=UWe;var BWe=Object.defineProperty,FWe=Object.prototype.hasOwnProperty,_We=Object.getOwnPropertySymbols,HWe=Object.prototype.propertyIsEnumerable,QWe=(e,t,n)=>t in e?BWe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,GWe=(e,t)=>{for(var n in t||(t={}))FWe.call(t,n)&&QWe(e,n,t[n]);if(_We)for(var n of _We(t))HWe.call(t,n)&&QWe(e,n,t[n]);return e},WWe=(e,t)=>{var n={};for(var r in e)FWe.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&_We)for(var r of _We(e))t.indexOf(r)<0&&HWe.call(e,r)&&(n[r]=e[r]);return n};const YWe={dispatchUnlinkOauthProvider:jWe,dispatchPreloadPIN:fZe};class KWe extends g.Component{constructor(){super(...arguments),this.onUnlink=()=>{this.props.dispatchUnlinkOauthProvider({url:this.props.originalUrl})},this.onStillTherePress=()=>{this.props.dispatchPreloadPIN()}}render(){const e=this.props,{dispatchUnlinkOauthProvider:t}=e,n=WWe(e,["dispatchUnlinkOauthProvider"]);return g.createElement($Ze,GWe(GWe({component:VWe},n),{onUnlink:this.onUnlink,onStillTherePress:this.onStillTherePress}))}}const qWe=(0,v.$j)((function(){const e=(0,fe.P1)(((e,{url:t})=>t),kWe,((e,t)=>t.oauthProviders.find((t=>t.url===e))));return(0,fe.P1)(((e,{url:t})=>({url:t})),((e,{returnUrl:t})=>t),(0,wn.Z)("email"),(0,wn.Z)("authToken"),e,vwe,((e,t,n,r,i,a)=>{const s=a,{authToken:o}=s,l=WWe(s,["authToken"]),c=!i.linked&&(i.isUnlinking||Xwe()&&!a.code||a.isBusy);return GWe(GWe(GWe({},i),{isPollClient:Xwe(),userAuthToken:r,email:n,providerID:i.authName,originalUrl:i.url,url:RWe(i.url,t),metricsProperties:e,isDisabled:c}),l)}))}),YWe)(KWe),$We={dispatchFetchOauthProviders:xWe,dispatchPreloadPIN:fZe,dispatchStopPolling:SZe};class JWe extends g.Component{componentDidMount(){this.props.dispatchPreloadPIN()}componentDidUpdate(e){this.props.authToken!==e.authToken&&this.props.authToken&&this.props.dispatchFetchOauthProviders()}componentWillUnmount(){this.props.dispatchStopPolling()}render(){return null}}const XWe=(0,v.$j)(vwe,$We)(JWe),eYe="LinkedAccounts-dim-2fVIfp";var tYe=Object.defineProperty,nYe=Object.prototype.hasOwnProperty,rYe=Object.getOwnPropertySymbols,iYe=Object.prototype.propertyIsEnumerable,aYe=(e,t,n)=>t in e?tYe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,sYe=(e,t)=>{for(var n in t||(t={}))nYe.call(t,n)&&aYe(e,n,t[n]);if(rYe)for(var n of rYe(t))iYe.call(t,n)&&aYe(e,n,t[n]);return e};const oYe=function(e){const t=e,{isPollClient:n,returnUrl:r,hasPassword:i,linkedOauthProviders:a,isOauthProvidersPending:s,isOauthProvidersPopulated:o,oauthProvidersError:l,lastLinkedAuthProviderID:c,onCreatePassword:d,onLink:u}=t,p=((e,t)=>{var n={};for(var r in e)nYe.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&rYe)for(var r of rYe(e))t.indexOf(r)<0&&iYe.call(e,r)&&(n[r]=e[r]);return n})(t,["isPollClient","returnUrl","hasPassword","linkedOauthProviders","isOauthProvidersPending","isOauthProvidersPopulated","oauthProvidersError","lastLinkedAuthProviderID","onCreatePassword","onLink"]);let m;return m=s?g.createElement("span",{className:eYe},(0,Ce.Z)("Loading")):l?g.createElement("span",{className:eYe},(0,Ce.Z)("Error")):a||g.createElement("span",{className:eYe},(0,Ce.Z)("None")),g.createElement(lse,sYe(sYe({},p),{closedNode:m,showButton:!1}),g.createElement(Eae.Z,null,(0,Ce.Z)("Linked Accounts")),g.createElement("div",{className:"LinkedAccounts-description-FtuInj"},(0,Ce.Z)("You can link your Google, Facebook, or Apple account to simplify signing in to Plex."),n?g.createElement(XWe,null):null),o&&e.oauthProviders?e.oauthProviders.map((e=>g.createElement(qWe,{key:e.url,isUnlinking:s,hasPassword:i,isLastLinkedAccount:c===e.authName,providerID:e.providerID,url:e.url,returnUrl:r,onCreatePassword:d,onLink:u}))):null)};var lYe=Object.defineProperty,cYe=Object.prototype.hasOwnProperty,dYe=Object.getOwnPropertySymbols,uYe=Object.prototype.propertyIsEnumerable,pYe=(e,t,n)=>t in e?lYe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,mYe=(e,t)=>{for(var n in t||(t={}))cYe.call(t,n)&&pYe(e,n,t[n]);if(dYe)for(var n of dYe(t))uYe.call(t,n)&&pYe(e,n,t[n]);return e};const hYe=(0,fe.P1)(kWe,vwe,((e,t)=>{const n=e.oauthProviders.filter((e=>e.linked)),r=1===n.length?n[0].authName:null;return mYe(mYe({linkedOauthProviders:n.map((e=>e.label)).join(", "),lastLinkedAuthProviderID:r,returnUrl:window.location.href,isPollClient:Xwe()},e),t)})),gYe={dispatchFetchOauthProviders:xWe,dispatchBeginPolling:IZe};class yYe extends g.Component{constructor(){super(...arguments),this.onLink=()=>{this.props.isPollClient&&this.props.dispatchBeginPolling({pinID:this.props.pinID})}}componentDidMount(){this.props.dispatchFetchOauthProviders()}render(){const e=this.props,{dispatchFetchOauthProviders:t}=e,n=((e,t)=>{var n={};for(var r in e)cYe.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&dYe)for(var r of dYe(e))t.indexOf(r)<0&&uYe.call(e,r)&&(n[r]=e[r]);return n})(e,["dispatchFetchOauthProviders"]);return g.createElement(oYe,mYe({onLink:this.onLink},n))}}const vYe=(0,v.$j)(hYe,gYe)(yYe);var fYe=Object.defineProperty,bYe=Object.prototype.hasOwnProperty,IYe=Object.getOwnPropertySymbols,SYe=Object.prototype.propertyIsEnumerable,MYe=(e,t,n)=>t in e?fYe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,EYe=(e,t)=>{for(var n in t||(t={}))bYe.call(t,n)&&MYe(e,n,t[n]);if(IYe)for(var n of IYe(t))SYe.call(t,n)&&MYe(e,n,t[n]);return e};class PYe extends g.Component{constructor(e,t){super(e,t),this.createToggleHandler=(e,t)=>n=>{var r,i;null==n||n.preventDefault();const a=void 0===t?!this.state[e]:t;this.props.updateUserError&&(null==(i=(r=this.props).onErrorDismiss)||i.call(r)),this.setState(S().mapObject(this.state,((t,n)=>n===e&&a)))},this.getUserFormSectionProps=(e,t)=>{const n=this.state[t];return{title:e,onTogglePress:this.createToggleHandler(t),isOpen:n,onSubmit:this.props.onSubmit,isUpdating:this.props.isUpdatingUser,errorMessage:this.props.updateUserError}},this.onVerifyEmail=e=>{this.createToggleHandler("isEmailOpen",!0)(e)},this.onCreatePassword=e=>{this.createToggleHandler("isPasswordOpen",!0)(e)},this.onEnableTwoFactorAuthComplete=e=>{this.createToggleHandler("isTwoFactorAuthenticationOpen",!1)(e)},this.onToggleAudioSubtitlesFormSection=e=>{this.createToggleHandler("isSelectAudioOpen")(e)},this.onAccountEmailSubmit=e=>{const t=this.props.user;t.username===t.email?this.props.onSubmit(EYe(EYe({},e),{username:e.email})):this.props.onSubmit(e)},this.state={isUsernameOpen:!1,isEmailOpen:!1,isPasswordOpen:!1,isTwoFactorAuthenticationOpen:!1,isLinkedAccountsOpen:!1,isLocaleOpen:!1,isPhotoOpen:!1,isNewsletterOpen:!1,isExperimentalFeaturesOpen:!1,isSelectAudioOpen:!1}}UNSAFE_componentWillReceiveProps(e){const t=this.props.isUpdatingUser&&!e.isUpdatingUser&&!e.updateUserError,n=this.state.isTwoFactorAuthenticationOpen&&this.props.user.twoFactorEnabled&&!e.user.twoFactorEnabled;(t||n)&&this.setState(S().mapObject(this.state,(()=>!1)))}render(){const{serverEntityID:e,user:t,userSettingErrors:n,hasTwoFactorAuthFeature:r}=this.props,i=(0,Ce.Z)("System Default"),a=t.anonymous,s=!t.restricted,o=t.username===t.email,l=r&&s&&!a,c=t.twoFactorEnabled||t.hasPassword&&t.confirmed,d=Y7.MP.map((e=>({[e]:Y7.ZP[e]})));return g.createElement(uae,{metricsPage:pt.yV,metricsPane:"account"},g.createElement(mae,null,(0,Ce.Z)("Account")),a?null:g.createElement(sWe,{user:t}),a?null:g.createElement(lse,EYe(EYe({},this.getUserFormSectionProps((0,Ce.Z)("Photo"),"isPhotoOpen")),{closedNode:g.createElement(X2.Z,{serverEntityID:e,url:this.props.user.thumb,width:80,height:80})}),g.createElement(Eae.Z,null,(0,Ce.Z)("Photo")),g.createElement(eke,{serverEntityID:e,name:"avatar",width:180,height:180,initialValue:this.props.user.thumb,url:this.props.user.thumb})),g.createElement(lse,EYe(EYe({},this.getUserFormSectionProps((0,Ce.Z)("Language"),"isLocaleOpen")),{closedNode:Y7.ZP[t.locale]||i}),g.createElement(bae.Z,{labelText:(0,Ce.Z)("Language"),helpText:(0,Ce.Z)("This sets the default language for Plex applications that do not provide their own language setting."),name:"locale",initialValue:t.locale,values:[{"":i},...d]})),g.createElement(bWe,{isOpen:this.state.isSelectAudioOpen,isUpdating:this.props.isUpdatingUser,errorMessage:this.props.updateUserError,onTogglePress:this.onToggleAudioSubtitlesFormSection}),s&&!a?g.createElement(lse,EYe(EYe({},this.getUserFormSectionProps((0,Ce.Z)("Username"),"isUsernameOpen")),{closedNode:o?(0,Ce.Z)("Not set"):t.username}),g.createElement(mw.Z,{labelText:(0,Ce.Z)("Username"),helpText:(0,Ce.Z)("Your username will be visible to friends with whom you have shared your server."),name:"username",initialValue:o?"":t.username,errors:n.username,validations:[OLe]}),g.createElement(fae.Z,{name:"emailOnlyAuth",checkboxText:(0,Ce.Z)("Allow username to be used when signing in"),helpText:(0,Ce.Z)("Your email address will be required to sign in when username sign-in is not allowed."),initialValue:t.emailOnlyAuth,checkedValue:!1,uncheckedValue:!0})):null,s&&!a?g.createElement(TWe,EYe(EYe({},this.getUserFormSectionProps((0,Ce.Z)("Email Address"),"isEmailOpen")),{userSettingErrors:n})):null,s&&!a?g.createElement(lse,EYe(EYe({},this.getUserFormSectionProps((0,Ce.Z)("Password"),"isPasswordOpen")),{closedNode:t.hasPassword?"**********":(0,Ce.Z)("Not set")}),g.createElement(EGe,{labelText:t.hasPassword?(0,Ce.Z)("New Password"):(0,Ce.Z)("Choose Password"),name:"password",initialValue:"",errors:n.password,validations:[xLe,kLe]}),g.createElement(mw.Z,{labelText:t.hasPassword?(0,Ce.Z)("Confirm New Password"):(0,Ce.Z)("Confirm Password"),type:"password",name:"passwordConfirmation",initialValue:"",validations:[jLe,RLe]}),t.hasPassword?g.createElement(mw.Z,{labelText:(0,Ce.Z)("Current Password"),type:"password",name:"currentPassword",initialValue:"",validations:[LLe]}):null,t.hasPassword&&t.twoFactorEnabled?g.createElement(mw.Z,{labelText:(0,Ce.Z)("Verification code"),name:"verificationCode",autoComplete:"off",initialValue:"",validations:[zLe]}):null,t.hasPassword?g.createElement(fae.Z,{checkboxText:(0,Ce.Z)("Sign out connected devices after password change"),name:"resetDevices",initialValue:!1}):null):null,l&&c?g.createElement(lse,EYe(EYe({showButton:!1},this.getUserFormSectionProps((0,Ce.Z)("Two-factor authentication"),"isTwoFactorAuthenticationOpen")),{closedNode:t.twoFactorEnabled?(0,Ce.Z)("Active"):(0,Ce.Z)("Inactive")}),g.createElement(JGe,{onEnableTwoFactorAuthComplete:this.onEnableTwoFactorAuthComplete})):null,l&&!c?g.createElement(ese,null,g.createElement(Eae.Z,null,(0,Ce.Z)("Two-factor authentication")),g.createElement(ase,{className:"AccountPage-sectionDetails--Mhtog SettingsFormSectionDetails-sectionDetails-3c6R0T"},g.createElement("div",{className:"AccountPage-twoFactorAuthInactiveClosedNode-1NimXt"},(0,Ce.Z)("Inactive"),g.createElement(rs.Z,null),t.hasPassword||t.confirmed?null:g.createElement(pw.Z,{kind:or.Primary,onPress:this.onCreatePassword},(0,Ce.Z)("To use two-factor authentication, first set a password and verify your email address")),t.hasPassword&&!t.confirmed?g.createElement(pw.Z,{kind:or.Primary,onPress:this.onVerifyEmail},(0,Ce.Z)("To use two-factor authentication, first verify your email address")):null,!t.hasPassword&&t.confirmed?g.createElement(pw.Z,{kind:or.Primary,onPress:this.onCreatePassword},(0,Ce.Z)("To use two-factor authentication, first set a password to use when signing in")):null))):null,s&&!a?g.createElement(vYe,EYe(EYe({},this.getUserFormSectionProps((0,Ce.Z)("Linked Accounts"),"isLinkedAccountsOpen")),{hasPassword:t.hasPassword,onCreatePassword:this.onCreatePassword})):null,s&&!a?g.createElement(lse,EYe(EYe({},this.getUserFormSectionProps((0,Ce.Z)("Newsletter"),"isNewsletterOpen")),{closedNode:t.mailingListActive?(0,Ce.Z)("You are currently subscribed"):(0,Ce.Z)("You are not subscribed")}),g.createElement(fae.Z,{name:"mailingListActive",initialValue:t.mailingListActive,labelText:(0,Ce.Z)("Newsletter"),checkboxText:(0,Ce.Z)("Subscribe to our amazing, but infrequent email newsletter")})):null,s&&!a?g.createElement(lse,EYe(EYe({},this.getUserFormSectionProps((0,Ce.Z)("Experimental Features"),"isExperimentalFeaturesOpen")),{closedNode:t.experimentalFeatures?(0,Ce.Z)("Enabled"):(0,Ce.Z)("Disabled")}),g.createElement(fae.Z,{name:"experimentalFeatures",initialValue:t.experimentalFeatures,labelText:(0,Ce.Z)("Experimental Features"),checkboxText:(0,Ce.Z)("Enable early access to experimental features still under development")})):null,s?g.createElement(ese,null,g.createElement(Eae.Z,null,(0,Ce.Z)("Privacy")),g.createElement(KV.Z,{className:"AccountPage-description-jBn45C",message:(0,Ce.Z)("Review our {openPolicyLink}Privacy Policy{closePolicyLink} for more information on the data that we collect, how it is used, and understand your {openAdChoicesLink}AdChoices{closeAdChoicesLink}. You can opt out of sending us certain data using your {openPreferencesLink}Privacy Preferences{closePreferencesLink} page."),tags:[{open:"openPolicyLink",close:"closePolicyLink",component:pw.Z,kind:ic._8,to:"https://www.plex.tv/about/privacy-legal/",target:"_blank"},{open:"openAdChoicesLink",close:"closeAdChoicesLink",component:pw.Z,kind:ic._8,to:"https://www.plex.tv/about/privacy-legal/#adchoices",target:"_blank"},{open:"openPreferencesLink",close:"closePreferencesLink",component:pw.Z,kind:ic._8,to:"https://www.plex.tv/about/privacy-legal/privacy-preferences/#opd",target:"_blank"}]})):null,s&&!a?g.createElement(ese,null,g.createElement(pw.Z,{kind:ic.T,to:E.Z.join(["https://plex.tv","/users/delete"]),target:"_self"},(0,Ce.Z)("Delete your account"))):null)}}const DYe=PYe;var CYe=Object.defineProperty,wYe=Object.prototype.hasOwnProperty,ZYe=Object.getOwnPropertySymbols,TYe=Object.prototype.propertyIsEnumerable,NYe=(e,t,n)=>t in e?CYe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,OYe=(e,t)=>{for(var n in t||(t={}))wYe.call(t,n)&&NYe(e,n,t[n]);if(ZYe)for(var n of ZYe(t))TYe.call(t,n)&&NYe(e,n,t[n]);return e};const AYe=(0,fe.P1)(jme.Z,Ie,(e=>e.ui.accountSettingsPage),(0,ob.Z)(bn.cU),((e,t,n,r)=>{const i=e.desktop,a=i.updateUserError?Mwe(S().last(i.updateUserError[S().first(Object.keys(i.updateUserError))])):n.updateUserProfileError,s=S().mapObject(i.updateUserError,(e=>e.map((e=>Mwe(e))))),o=S().pick(e,"username","anonymous","email","confirmed","emailOnlyAuth","subscriptionDescription","thumb","locked","locale","canGoPremium","hasPlexSubscription","hasPlexPass","hasPassword","twoFactorEnabled","isEmployee","isNinja","mailingListActive","experimentalFeatures","restricted");return{serverEntityID:t.entityID,user:o,isUpdatingUser:i.isUpdatingUser||n.isUpdatingUserProfile,updateUserError:a,userSettingErrors:s,hasTwoFactorAuthFeature:r}})),xYe={dispatchUpdateUser:oN.Nq,dispatchClearUpdateUserError:oN.Mi,dispatchClearUpdateUserProfileError:cGe};class jYe extends g.Component{constructor(){super(...arguments),this.onErrorDismiss=()=>{this.props.dispatchClearUpdateUserError(),this.props.dispatchClearUpdateUserProfileError()},this.onSubmit=e=>{this.props.dispatchUpdateUser(e)}}render(){const e=this.props,{dispatchUpdateUser:t,dispatchClearUpdateUserError:n,dispatchClearUpdateUserProfileError:r}=e,i=((e,t)=>{var n={};for(var r in e)wYe.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&ZYe)for(var r of ZYe(e))t.indexOf(r)<0&&TYe.call(e,r)&&(n[r]=e[r]);return n})(e,["dispatchUpdateUser","dispatchClearUpdateUserError","dispatchClearUpdateUserProfileError"]);return g.createElement(DYe,OYe(OYe({},i),{onErrorDismiss:this.onErrorDismiss,onSubmit:this.onSubmit,onUserProfileSubmit:this.onUserProfileSubmit}))}}const LYe=(0,v.$j)(AYe,xYe)(jYe);const kYe="PlexAccountUpsellPage-panel-3qqE8G",RYe="PlexAccountUpsellPage-panelIcon-1sPWA-",zYe="PlexAccountUpsellPage-panelTitle-1MIqAF",UYe="PlexAccountUpsellPage-panelDescription-26fG9A",VYe=function(){const e=(0,f.k6)(),t=(0,g.useCallback)((()=>{e.push(SK.Z.signUp)}),[e]);return g.createElement(CK.Z,{title:(0,Ce.Z)("Sign up for a free account to continue"),description:(0,Ce.Z)("Some benefits to a Plex account:")},g.createElement("div",{className:"PlexAccountUpsellPage-container-NJK_oG"},g.createElement("div",{className:kYe},g.createElement(JZ,{className:RYe}),g.createElement("div",{className:zYe},(0,Ce.Z)("One App, Any Device")),g.createElement("div",{className:UYe},(0,Ce.Z)("Pick up whatever you were watching exactly where you left off on any device"))),g.createElement("div",{className:kYe},g.createElement(XZ.Z,{className:RYe}),g.createElement("div",{className:zYe},(0,Ce.Z)("Save Your Favorites")),g.createElement("div",{className:UYe},(0,Ce.Z)("Save your favorite Podcasts and Web Shows. Add a TIDAL subscription to save your favorite music and playlists"))),g.createElement("div",{className:kYe},g.createElement(tT,{className:RYe}),g.createElement("div",{className:zYe},(0,Ce.Z)("Parental Controls")),g.createElement("div",{className:UYe},(0,Ce.Z)("Enable parental controls to keep things kid-friendly, or create separate accounts for your childish roommates")))),g.createElement(qZ.Z,null,g.createElement(cb.Z,{kind:ic._8,size:Rp.ln,onPress:t},(0,Ce.Z)("Sign Up"))))},BYe=function(e){const{serverEntityID:t,providerEntityID:n,pivot:r,sourceDirectory:i,directoryKey:a,isNotFound:s,showPlexAccountUpsell:o,isPending:l,children:c}=e;return l?g.createElement(CK.Z,null,g.createElement(Mx.Z,null)):s?g.createElement(eV.Z,null):o?g.createElement(KH,{serverEntityID:t,providerEntityID:n,pivot:r,sourceDirectory:i,directoryKey:a,scrollDirection:tZ.Hn},g.createElement(VYe,null)):c};function FYe(e,t){return!e&&!t||S().isEqual(e,t)}const _Ye={dispatchSavePivotParams:Wn.I$};class HYe extends g.Component{componentDidMount(){const{sourceDirectory:e,pivot:t,shouldSaveParams:n}=this.props;e&&t&&n&&this._savePivotDefaultParams(this.props)}componentDidUpdate(e){const{sourceDirectory:t,pivot:n,shouldSaveParams:r,params:i}=this.props;t&&n&&r&&!FYe(e.params,i)&&this._savePivotDefaultParams(this.props)}_savePivotDefaultParams(e){const{serverEntityID:t,providerEntityID:n,sourceDirectory:r,pivot:i,params:a,savedPivotParams:s,dispatchSavePivotParams:o}=e;i&&!FYe(a,s)&&o({serverEntityID:t,providerEntityID:n,directoryID:r.id,pivotKey:i.key,params:a})}render(){const{serverEntityID:e,providerEntityID:t,pivot:n,sourceDirectory:r,directoryKey:i,isNotFound:a,isPlexAccountRequired:s,isPending:o,children:l}=this.props;return g.createElement(BYe,{serverEntityID:e,providerEntityID:t,pivot:n,sourceDirectory:r,directoryKey:i,showPlexAccountUpsell:s,isNotFound:a,isPending:o},l)}}const QYe=(0,v.$j)((function(){return(0,fe.P1)(((e,{sourceDirectoryID:t})=>t),dx(),kH(),(0,fe.P1)((0,LT.Z)(),(0,OT.Z)(),dx(),kH(),Wz.Z,((e,t,n,r,i)=>n&&r&&i?i[function(e,t,n,r){return(0,zO.Z)(e.machineIdentifier,t.identifier,n.id,r.key)}(e,t,n,r)]:null)),(0,fe.P1)((0,LT.Z)(),(e=>e.isProvidersPending)),Xt.Z,((e,t,n,r,i,a)=>({sourceDirectoryID:e,sourceDirectory:t,pivot:n,savedPivotParams:r,isNotFound:!(!e||t),isPlexAccountRequired:!!n&&In(n.requires,a),isPending:!!i})))}),_Ye)(HYe);function GYe(){const{machineIdentifier:e,providerIdentifier:t}=MK(),n=(0,De.Z)(),r=(0,vn.Z)(Mn.cN,e),i=(0,vn.Z)(Mn.MC,t,r);return g.createElement(zK,{machineIdentifier:e,providerIdentifier:t},g.createElement(QYe,{serverEntityID:r,providerEntityID:i,sourceDirectoryID:n.source,directoryKey:lz.tk.GUIDE},g.createElement(XU,{serverEntityID:r,providerEntityID:i,sourceDirectoryID:n.source,directoryKey:lz.tk.GUIDE,activeFilters:gn(n.filters),activeFilterLabel:n.filterLabel})))}const WYe=(0,fe.P1)(xn.Z,(e=>e.filter((e=>e.isFullServer&&!!e.friendlyName)))),YYe=(0,UA.Z)((0,fe.P1)(WYe,(e=>e.reduce(((e,t)=>{const{entityID:n,machineIdentifier:r}=t;return n&&r&&e.push({entityID:n,machineIdentifier:r}),e}),[]))),(e=>e));function KYe(e){return e.user.experienceSettings.homeSettings.preferredServerID}const qYe=(0,Un.Z)(na.Z,(({homeSettings:e})=>e)),$Ye=(0,fe.P1)(qYe,(e=>e.servers),be.Z,((e,t,n)=>{const{preferredServerID:r}=e;if(r)for(let e=0,i=t.length;e<i;e++){const i=n[t[e]];if(i.machineIdentifier===r)return i}}));function JYe(e){const{sourceServer:t,sourceProvider:n,directories:r}=e;return r?r.reduce(((e,r)=>{const i=(0,IT.Z)(n,r);return i&&(t.machineIdentifier===Hj.X||i.key!==fT.Hs||r.hubKey)?e.concat(bT({sourceType:i.key,sourceServer:t,sourceProvider:n,sourceDirectory:r})):e}),[]):[]}var XYe=n(43478),eKe=Object.defineProperty,tKe=Object.prototype.hasOwnProperty,nKe=Object.getOwnPropertySymbols,rKe=Object.prototype.propertyIsEnumerable,iKe=(e,t,n)=>t in e?eKe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,aKe=(e,t)=>{for(var n in t||(t={}))tKe.call(t,n)&&iKe(e,n,t[n]);if(nKe)for(var n of nKe(t))rKe.call(t,n)&&iKe(e,n,t[n]);return e};class sKe extends g.Component{constructor(e,t){super(e,t),this.onChange=e=>{const t=this.store.getState(),n=Object.keys(t).filter((e=>this.props.names.includes(e))),r=aKe({},t);n.forEach((t=>{const n=r[t];r[t]=aKe(aKe({},n),{value:e})})),this.store.dispatch(qae.Nw.replaceState(r))},this.onFormStoreChange=()=>{const{names:e}=this.props;if(!e.length)return;const t=this.store.getState(),n=Object.keys(t).filter((e=>this.props.names.includes(e))),[r]=n,i=t[r].value,a=function(e,t,n){return e.every((e=>{const r=n[e];return!r||r.value===t}))}(n,i,t);this.setState({value:a?i:null})},this.store=this.context.formStore,this.state={value:!0}}UNSAFE_componentWillMount(){this.unsubscribe=this.store.subscribe(this.onFormStoreChange)}componentWillUnmount(){this.unsubscribe&&this.unsubscribe()}render(){const e=this.props,{names:t,onChange:n}=e,r=((e,t)=>{var n={};for(var r in e)tKe.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&nKe)for(var r of nKe(e))t.indexOf(r)<0&&rKe.call(e,r)&&(n[r]=e[r]);return n})(e,["names","onChange"]);return t.length?g.createElement(Iae.Z,aKe(aKe({},r),{value:this.state.value,onChange:(0,rc.Z)(this.onChange,n)})):null}}sKe.contextTypes={formStore:XYe.Z};const oKe=sKe;function lKe(e){const{className:t,titleBarClassName:n,titleTextClassName:r,scrollerClassName:i,title:a,rightTitle:s,children:o}=e;return g.createElement("div",{className:t},g.createElement("div",{className:n},g.createElement("span",{className:r},a),s),g.createElement(rU.Z,{className:i},o))}lKe.defaultProps={className:"FirstRunExperienceActionsContainer-container-1h1Z7A",titleBarClassName:"FirstRunExperienceActionsContainer-titleBar-1hp1JG",titleTextClassName:"FirstRunExperienceActionsContainer-titleText-1n1Ryg",scrollerClassName:"FirstRunExperienceActionsContainer-scroller-33vKc- Scroller-vertical-3IY07c"};const cKe=lKe,dKe="FirstRunExperienceStep-stepButton-XQ-EW4";var uKe=Object.defineProperty,pKe=Object.prototype.hasOwnProperty,mKe=Object.getOwnPropertySymbols,hKe=Object.prototype.propertyIsEnumerable,gKe=(e,t,n)=>t in e?uKe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,yKe=(e,t)=>{for(var n in t||(t={}))pKe.call(t,n)&&gKe(e,n,t[n]);if(mKe)for(var n of mKe(t))hKe.call(t,n)&&gKe(e,n,t[n]);return e},vKe=(e,t)=>{var n={};for(var r in e)pKe.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&mKe)for(var r of mKe(e))t.indexOf(r)<0&&hKe.call(e,r)&&(n[r]=e[r]);return n};function fKe(e){const{step:t,isActive:n,onPress:r}=e;return g.createElement(pw.Z,{className:n?"FirstRunExperienceStep-activeStepIcon-3cbK57 FirstRunExperienceStep-stepIcon-1ki49w":"FirstRunExperienceStep-stepIcon-1ki49w",onPress:function(){r(t)}},t)}function bKe(e){const t=e,{className:n,actionsClassName:r,stepContainerClassName:i,steps:a,step:s,stepHeadingText:o,stepBodyText:l,stepButtonBackText:c,stepButtonNextText:d,children:u,component:p,onButtonBackPress:m,onButtonNextPress:h,onStepPress:y}=t,v=vKe(t,["className","actionsClassName","stepContainerClassName","steps","step","stepHeadingText","stepBodyText","stepButtonBackText","stepButtonNextText","children","component","onButtonBackPress","onButtonNextPress","onStepPress"]),f=L.Z.prop("X-Plex-Product");return g.createElement(p,yKe({className:n},v),g.createElement("div",{className:r},u),g.createElement("div",{className:i},g.createElement("div",{className:"FirstRunExperienceStep-stepText-lK0KRL"},(0,Ce.Z)("{productName} Setup",{productName:f}),Array.from(Array(a),((e,t)=>t+1)).map((e=>g.createElement(fKe,{key:e,step:e,isActive:s===e,onPress:y})))),g.createElement("h3",{className:"FirstRunExperienceStep-stepHeading-3sBxXP"},o),g.createElement("p",{className:"FirstRunExperienceStep-stepBody-2NcbW1"},l),c?g.createElement(cb.Z,{className:dKe,onPress:m},c):null,g.createElement(cb.Z,{className:dKe,kind:ic._8,type:"submit",onPress:h},d)))}bKe.defaultProps={className:"FirstRunExperienceStep-container-1Yi9mw",actionsClassName:"FirstRunExperienceStep-actions-YLgeAL",stepContainerClassName:"FirstRunExperienceStep-stepContainer-2R-hBc",component:function(e){var t=e,{children:n}=t,r=vKe(t,["children"]);return g.createElement("div",yKe({},r),n)},steps:2,step:1};const IKe=bKe;function SKe(e){var t=e["aria-label"],n=e.className,r=e.style,i={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-sidebar-live-dvr-560"};i["aria-hidden"]=!t,i.style=r,i.className=oa.Z.plexIcon+(n?" "+n:"");var a=[g.createElement.apply(g,["path",{d:"M400 10h70L351.25 110H546c7.732 0 14 6.268 14 14v412c0 7.732-6.268 14-14 14H14c-7.732 0-14-6.268-14-14V124c0-7.732 6.268-14 14-14h194.75L90 10h70l120 100L400 10zm100 433V177a7 7 0 0 0-7-7H67a7 7 0 0 0-7 7v266a7 7 0 0 0 7 7h426a7 7 0 0 0 7-7z"}].concat([]))];return t&&a.unshift(g.createElement("title",null,t)),g.createElement.apply(g,["svg",i].concat(a))}SKe.propTypes={"aria-label":sa().string,className:sa().string,style:sa().object};const MKe=SKe;function EKe(e){var t=e["aria-label"],n=e.className,r=e.style,i={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-sidebar-movies-560"};i["aria-hidden"]=!t,i.style=r,i.className=oa.Z.plexIcon+(n?" "+n:"");var a=[g.createElement.apply(g,["path",{d:"M560 40c0-11.038-8.962-20-20-20H20C8.962 20 0 28.962 0 40v480c0 11.038 8.962 20 20 20h520c11.038 0 20-8.962 20-20V40zM100 468v24c0 4.415-3.585 8-8 8H68c-4.415 0-8-3.585-8-8v-24c0-4.415 3.585-8 8-8h24c4.415 0 8 3.585 8 8zm400 0v24c0 4.415-3.585 8-8 8h-24c-4.415 0-8-3.585-8-8v-24c0-4.415 3.585-8 8-8h24c4.415 0 8 3.585 8 8zM400 310v180c0 5.52-4.48 10-10 10H170c-5.52 0-10-4.48-10-10V310c0-5.52 4.48-10 10-10h220c5.52 0 10 4.48 10 10zm100 78v24c0 4.415-3.585 8-8 8h-24c-4.415 0-8-3.585-8-8v-24c0-4.415 3.585-8 8-8h24c4.415 0 8 3.585 8 8zm-400 0v24c0 4.415-3.585 8-8 8H68c-4.415 0-8-3.585-8-8v-24c0-4.415 3.585-8 8-8h24c4.415 0 8 3.585 8 8zm0-80v24c0 4.415-3.585 8-8 8H68c-4.415 0-8-3.585-8-8v-24c0-4.415 3.585-8 8-8h24c4.415 0 8 3.585 8 8zm400 0v24c0 4.415-3.585 8-8 8h-24c-4.415 0-8-3.585-8-8v-24c0-4.415 3.585-8 8-8h24c4.415 0 8 3.585 8 8zM400 70v180c0 5.52-4.48 10-10 10H170c-5.52 0-10-4.48-10-10V70c0-5.52 4.48-10 10-10h220c5.52 0 10 4.48 10 10zm100 158v24c0 4.415-3.585 8-8 8h-24c-4.415 0-8-3.585-8-8v-24c0-4.415 3.585-8 8-8h24c4.415 0 8 3.585 8 8zm-400 0v24c0 4.415-3.585 8-8 8H68c-4.415 0-8-3.585-8-8v-24c0-4.415 3.585-8 8-8h24c4.415 0 8 3.585 8 8zm0-80v24c0 4.415-3.585 8-8 8H68c-4.415 0-8-3.585-8-8v-24c0-4.415 3.585-8 8-8h24c4.415 0 8 3.585 8 8zm400 0v24c0 4.415-3.585 8-8 8h-24c-4.415 0-8-3.585-8-8v-24c0-4.415 3.585-8 8-8h24c4.415 0 8 3.585 8 8zm0-80v24c0 4.415-3.585 8-8 8h-24c-4.415 0-8-3.585-8-8V68c0-4.415 3.585-8 8-8h24c4.415 0 8 3.585 8 8zm-400 0v24c0 4.415-3.585 8-8 8H68c-4.415 0-8-3.585-8-8V68c0-4.415 3.585-8 8-8h24c4.415 0 8 3.585 8 8z"}].concat([]))];return t&&a.unshift(g.createElement("title",null,t)),g.createElement.apply(g,["svg",i].concat(a))}EKe.propTypes={"aria-label":sa().string,className:sa().string,style:sa().object};const PKe=EKe;function DKe(e){var t=e["aria-label"],n=e.className,r=e.style,i={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-sidebar-music-560"};i["aria-hidden"]=!t,i.style=r,i.className=oa.Z.plexIcon+(n?" "+n:"");var a=[g.createElement.apply(g,["path",{d:"M199.855 473.52a35.61 35.61 0 0 1 .145 3.222c0 33.115-44.809 68.962-100 80-55.191 11.039-100-6.885-100-40s44.809-68.961 100-80c22.504-4.5 43.282-4.186 60 .01V96.85c0-11.257 8.788-22.154 19.612-24.319L540.388.377C551.212-1.788 560 5.594 560 16.85V392c0 .52-.05 1.028-.145 1.52.096 1.058.145 2.132.145 3.222 0 33.115-44.808 68.962-100 80-55.192 11.039-100-6.885-100-40s44.808-68.961 100-80c22.504-4.5 43.282-4.186 60 .01V124.455l-320 64V472c0 .52-.05 1.028-.145 1.52z"}].concat([]))];return t&&a.unshift(g.createElement("title",null,t)),g.createElement.apply(g,["svg",i].concat(a))}DKe.propTypes={"aria-label":sa().string,className:sa().string,style:sa().object};const CKe=DKe;function wKe(e){var t=e["aria-label"],n=e.className,r=e.style,i={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-sidebar-photos-560"};i["aria-hidden"]=!t,i.style=r,i.className=oa.Z.plexIcon+(n?" "+n:"");var a=[g.createElement.apply(g,["path",{d:"M440 120h100c11.038 0 20 8.962 20 20v360c0 11.038-8.962 20-20 20H20c-11.038 0-20-8.962-20-20V140c0-11.038 8.962-20 20-20h100V60c0-11.038 8.962-20 20-20h280c11.038 0 20 8.962 20 20v60zm-160 40c-88.306 0-160 71.694-160 160s71.694 160 160 160 160-71.694 160-160-71.694-160-160-160zm0 80c44.153 0 80 35.847 80 80s-35.847 80-80 80-80-35.847-80-80 35.847-80 80-80z"}].concat([]))];return t&&a.unshift(g.createElement("title",null,t)),g.createElement.apply(g,["svg",i].concat(a))}wKe.propTypes={"aria-label":sa().string,className:sa().string,style:sa().object};const ZKe=wKe;function TKe(e){var t=e["aria-label"],n=e.className,r=e.style,i={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-sidebar-podcasts-560"};i["aria-hidden"]=!t,i.style=r,i.className=oa.Z.plexIcon+(n?" "+n:"");var a=[g.createElement.apply(g,["path",{d:"M240 455.992C148.757 437.44 80 356.686 80 260h60c0 77.269 62.732 140 140 140s140-62.732 140-140h60c0 96.686-68.757 177.44-160 195.992V560h-80V455.992zM360 80c0-44.153-35.847-80-80-80s-80 35.847-80 80v180c0 44.153 35.847 80 80 80s80-35.847 80-80V80z"}].concat([]))];return t&&a.unshift(g.createElement("title",null,t)),g.createElement.apply(g,["svg",i].concat(a))}TKe.propTypes={"aria-label":sa().string,className:sa().string,style:sa().object};const NKe=TKe;function OKe(e){var t=e["aria-label"],n=e.className,r=e.style,i={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-sidebar-shows-560"};i["aria-hidden"]=!t,i.style=r,i.className=oa.Z.plexIcon+(n?" "+n:"");var a=[g.createElement.apply(g,["path",{d:"M440 480c0-11.038-8.962-20-20-20H140c-11.038 0-20 8.962-20 20v20c0 11.038 8.962 20 20 20h280c11.038 0 20-8.962 20-20v-20zM540 40H20C8.962 40 0 48.962 0 60v360c0 11.038 8.962 20 20 20h520c11.038 0 20-8.962 20-20V60c0-11.038-8.962-20-20-20zm-40 70v220c0 5.52-4.48 10-10 10H70c-5.52 0-10-4.48-10-10V110c0-5.52 4.48-10 10-10h420c5.52 0 10 4.48 10 10z"}].concat([]))];return t&&a.unshift(g.createElement("title",null,t)),g.createElement.apply(g,["svg",i].concat(a))}OKe.propTypes={"aria-label":sa().string,className:sa().string,style:sa().object};const AKe=OKe;function xKe(e){var t=e["aria-label"],n=e.className,r=e.style,i={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-sidebar-videos-560"};i["aria-hidden"]=!t,i.style=r,i.className=oa.Z.plexIcon+(n?" "+n:"");var a=[g.createElement.apply(g,["path",{d:"M360 320v140c0 11.038-8.962 20-20 20H20c-11.038 0-20-8.962-20-20V100c0-11.038 8.962-20 20-20h320c11.038 0 20 8.962 20 20v140l200-120v320L360 320z"}].concat([]))];return t&&a.unshift(g.createElement("title",null,t)),g.createElement.apply(g,["svg",i].concat(a))}xKe.propTypes={"aria-label":sa().string,className:sa().string,style:sa().object};const jKe=xKe;function LKe(e){var t=e["aria-label"],n=e.className,r=e.style,i={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-sidebar-webshows-560"};i["aria-hidden"]=!t,i.style=r,i.className=oa.Z.plexIcon+(n?" "+n:"");var a=[g.createElement.apply(g,["path",{d:"M560 74v412c0 7.732-6.268 14-14 14H14c-7.732 0-14-6.268-14-14V74c0-7.732 6.268-14 14-14h532c7.732 0 14 6.268 14 14zm-360 86v240l200-120-200-120z"}].concat([]))];return t&&a.unshift(g.createElement("title",null,t)),g.createElement.apply(g,["svg",i].concat(a))}LKe.propTypes={"aria-label":sa().string,className:sa().string,style:sa().object};const kKe=LKe,RKe=function(e){switch(e.sourceType){case fT.ls:return g.createElement(Hy,null);case fT.MB:return g.createElement(PKe,null);case fT.TV:return g.createElement(AKe,null);case fT.xF:return g.createElement(CKe,null);case fT.n1:return g.createElement(ZKe,null);case fT.FM:return g.createElement(jKe,null);case fT.Ap:return g.createElement(Oy,null);case fT.Hs:return g.createElement(MKe,null);case fT.HG:return g.createElement(NKe,null);case fT.w1:return g.createElement(kKe,null);case fT.IO:return g.createElement(Fy.Z,null);case fT.lz:return g.createElement(mCe,null)}return null};var zKe=Object.defineProperty,UKe=Object.prototype.hasOwnProperty,VKe=Object.getOwnPropertySymbols,BKe=Object.prototype.propertyIsEnumerable,FKe=(e,t,n)=>t in e?zKe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const _Ke=(0,Pae.Z)((function(e){const t=e,{title:n,sourceType:r,directoryIcon:i}=t,a=((e,t)=>{var n={};for(var r in e)UKe.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&VKe)for(var r of VKe(e))t.indexOf(r)<0&&BKe.call(e,r)&&(n[r]=e[r]);return n})(t,["title","sourceType","directoryIcon"]);return g.createElement("label",{className:"SelectSourceItemInput-sourceItem-rJaNVf",htmlFor:a.name},g.createElement("span",{className:"SelectSourceItemInput-sourceTitle-2w_9FK"},g.createElement("span",{className:"SelectSourceItemInput-sourceIconContainer-3HnVhs"},i?g.createElement("img",{className:"SelectSourceItemInput-iconImg-1iktdK SourceSidebarItem-iconImg-3JkcZ2",src:i}):g.createElement(RKe,{sourceType:r})),n),g.createElement(Iae.Z,((e,t)=>{for(var n in t||(t={}))UKe.call(t,n)&&FKe(e,n,t[n]);if(VKe)for(var n of VKe(t))BKe.call(t,n)&&FKe(e,n,t[n]);return e})({inputClassName:"SelectSourceItemInput-input-ba7GNp CheckInput-input-3u8_kT"},a)))})),HKe=function(e){const{isPending:t,steps:n,sources:r,onSubmit:i,onButtonBackPress:a,onStepPress:s}=e;return t?g.createElement(Mx.Z,null):g.createElement(IKe,{stepHeadingText:(0,Ce.Z)("Customize your Media"),stepBodyText:(0,Ce.Z)("Choose what youd like to have in your sidebar navigation menu. (Youll always have easy access to everything, so you can make changes and further customize your menu later.)"),stepButtonBackText:n>1?(0,Ce.Z)("Go Back"):void 0,stepButtonNextText:(0,Ce.Z)("Finish Setup"),step:2,steps:n,component:qae.ZP,onSubmit:i,onButtonBackPress:a,onStepPress:s},g.createElement(cKe,{title:(0,Ce.Z)("Pinned Sources"),rightTitle:r.length?g.createElement(oKe,{inputClassName:"SelectNavigationStep-input-38xD42 CheckInput-input-3u8_kT",name:"allSources",names:r.map((e=>e.key))}):null},r.map((e=>g.createElement(_Ke,{key:e.key,name:e.key,title:e.title,sourceType:e.sourceType,directoryIcon:e.directoryIcon,initialValue:!0})))))};var QKe=Object.defineProperty,GKe=Object.prototype.hasOwnProperty,WKe=Object.getOwnPropertySymbols,YKe=Object.prototype.propertyIsEnumerable,KKe=(e,t,n)=>t in e?QKe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,qKe=(e,t)=>{for(var n in t||(t={}))GKe.call(t,n)&&KKe(e,n,t[n]);if(WKe)for(var n of WKe(t))YKe.call(t,n)&&KKe(e,n,t[n]);return e};const $Ke=(0,fe.P1)($Ye,Cn.Z,((e,t)=>(e?e.providers:[]).map((e=>t[e])))),JKe=(0,fe.P1)(eFe,(e=>e.filter((e=>!/.*(staging|dev)$/.test(e.identifier)))));function XKe(e,t){return t.reduce(((t,n)=>{const r=(0,sc.Z)(n),i=JYe({sourceServer:e,sourceProvider:n,directories:r&&r.directories});return t.push(...i),t}),[])}const eqe={dispatchSetupSources:oN.E8};class tqe extends g.Component{constructor(){super(...arguments),this.onSubmit=e=>{const t=this.props.sources.filter((({key:t})=>e[t]));this.props.dispatchSetupSources({sources:t})}}componentDidUpdate(){this.props.hasCompletedSetup&&this.props.onEndFirstRunExperience(),this.props.isPending||0!==this.props.sources.length||this.props.dispatchSetupSources({sources:[]})}render(){const e=this.props,{isPending:t,sources:n,onEndFirstRunExperience:r,dispatchSetupSources:i}=e,a=((e,t)=>{var n={};for(var r in e)GKe.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&WKe)for(var r of WKe(e))t.indexOf(r)<0&&YKe.call(e,r)&&(n[r]=e[r]);return n})(e,["isPending","sources","onEndFirstRunExperience","dispatchSetupSources"]);return g.createElement(HKe,qKe(qKe({sources:n,isPending:t||0===n.length},a),{onSubmit:this.onSubmit}))}}const nqe=(0,v.$j)((function(){return(0,fe.P1)($Ye,$Ke,Ie,JKe,na.Z,((e,t,n,r,i)=>{const a=XKe(e,t),s=XKe(n,r),{sidebarSettings:{hasCompletedSetup:o}}=i;return{isPending:!(!e||e.connectionTestResult!==_pe._r.PENDING),sources:[...a,...s],hasCompletedSetup:o}}))}),eqe)(tqe);function rqe(e,t){return(0,Un.Z)(e,(e=>t.reduce(((t,n)=>(e&&n in e&&(t[n]=e[n]),t)),{})))}var iqe=Object.defineProperty,aqe=Object.prototype.hasOwnProperty,sqe=Object.getOwnPropertySymbols,oqe=Object.prototype.propertyIsEnumerable,lqe=(e,t,n)=>t in e?iqe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,cqe=(e,t)=>{for(var n in t||(t={}))aqe.call(t,n)&&lqe(e,n,t[n]);if(sqe)for(var n of sqe(t))oqe.call(t,n)&&lqe(e,n,t[n]);return e};const dqe=(0,v.$j)((function(){return rqe((0,LT.Z)(),["activeConnection","friendlyName","sourceTitle","isConnected","isOutOfDate","isRelayed","isSecure","isShared","isUnavailable"])}),(function(e,t){return{onPress(){t.onPress({entityID:t.serverEntityID,machineIdentifier:t.machineIdentifier})}}}))((function(e){const{isSelected:t,isUnavailable:n,onPress:r}=e,i=tOe(ST(e),nOe(e).status);return g.createElement(pw.Z,{className:Te()("SelectPreferredServerItem-serverButton-2Mrsw0",t&&"SelectPreferredServerItem-isSelected-2AqAL7",n&&"SelectPreferredServerItem-isUnavailable-6GBm_E"),onPress:r},g.createElement("span",{className:"SelectPreferredServerItem-titles-1u39P-"},g.createElement("span",{className:"SelectPreferredServerItem-title-25u5_u"},MT(e)),g.createElement("span",{className:"SelectPreferredServerItem-details-y-SjkL"},i)),t?g.createElement(Ko.Z,{className:"SelectPreferredServerItem-serverMenuIcon-zkCVdP","aria-label":(0,Ce.Z)("Selected")}):null)}));dqe.propTypes=cqe(cqe({},dqe.propTypes),{machineIdentifier:sa().string.isRequired,serverEntityID:sa().string.isRequired});const uqe=dqe,pqe=function(e){const{preferredServerIdentifiers:t,serverIdentifiers:n,onSavePreferredServer:r,onButtonNextPress:i,onStepPress:a}=e;return g.createElement(IKe,{stepHeadingText:(0,Ce.Z)("Choose your Preferred Server"),stepBodyText:(0,Ce.Z)("It looks like you have access to more than one Plex Media Server. Choose your preferred server, and well use it to build your home screen."),stepButtonNextText:(0,Ce.Z)("Continue"),step:1,onButtonNextPress:i,onStepPress:a},g.createElement(cKe,{title:(0,Ce.Z)("Plex Media Servers")},n.map((e=>g.createElement(uqe,{key:e.entityID,serverEntityID:e.entityID,machineIdentifier:e.machineIdentifier,isSelected:t&&t.machineIdentifier===e.machineIdentifier,onPress:r})))))};var mqe=Object.defineProperty,hqe=Object.prototype.hasOwnProperty,gqe=Object.getOwnPropertySymbols,yqe=Object.prototype.propertyIsEnumerable,vqe=(e,t,n)=>t in e?mqe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,fqe=(e,t)=>{for(var n in t||(t={}))hqe.call(t,n)&&vqe(e,n,t[n]);if(gqe)for(var n of gqe(t))yqe.call(t,n)&&vqe(e,n,t[n]);return e};function bqe(e,t){return!e&&t.length>0}class Iqe extends g.Component{constructor(e,t){super(e,t),this.onNextStepPress=()=>{this.setState((e=>({step:Math.max(2,e.step+1)})))},this.onBackStepPress=()=>{this.setState((e=>({step:Math.min(1,e.step-1)})))},this.onStepPress=e=>{this.setState({step:e})},this.onEndFirstRunExperience=()=>{const{preferredServerIdentifiers:e,onEndFirstRunExperience:t}=this.props;t(e?{preferredServerEntityID:e.entityID,preferredServerInteraction:e.machineIdentifier!==this.state.initialDefaultPreferredServerIdentifier}:{})},this.state={step:1}}componentDidMount(){this.props.onChangeBackground({allowLightPreset:!0}),(0,fn.c9)((()=>{this.props.onResetCustomization()})),this._maybeCallOnSavePreferredServer(fqe(fqe({},this.props),{preferredServerIdentifiers:null}))}componentDidUpdate(){this._maybeCallOnSavePreferredServer(this.props)}componentWillUnmount(){this.props.onResetBackground()}_maybeCallOnSavePreferredServer(e){const{isPending:t,preferredServerIdentifiers:n,serverIdentifiers:r,onSavePreferredServer:i}=e;if(t)return;const a=function(e,t){return e?e.machineIdentifier:t.length>0?t[0].machineIdentifier:void 0}(n,r);!this.state.initialDefaultPreferredServerIdentifier&&a&&this.setState({initialDefaultPreferredServerIdentifier:a}),bqe(n,r)&&i({machineIdentifier:a})}render(){const{isPending:e,preferredServerIdentifiers:t,serverIdentifiers:n,onSavePreferredServer:r}=this.props,{step:i}=this.state,a=n.length<2;return e||bqe(t,n)?g.createElement(CK.Z,null,g.createElement(Mx.Z,null)):g.createElement(rU.Z,{className:"FirstRunExperiencePage-container-1yH8CD"},1!==i||a?g.createElement(nqe,{steps:a?0:2,onButtonBackPress:this.onBackStepPress,onStepPress:this.onStepPress,onEndFirstRunExperience:this.onEndFirstRunExperience}):g.createElement(pqe,{preferredServerIdentifiers:t,serverIdentifiers:n,onButtonNextPress:this.onNextStepPress,onStepPress:this.onStepPress,onSavePreferredServer:r}))}}const Sqe=Iqe,Mqe={onChangeBackground:Yn.ZZ,onResetBackground:Yn.HF,onSavePreferredServer:oN.p7,onEndFirstRunExperience:oN.G_,onResetCustomization:oN.Dy},Eqe=(0,v.$j)((function(){return(0,fe.P1)(tFe,KYe,YYe,((e,t,n)=>({isPending:!e,preferredServerIdentifiers:t?n.find((e=>e.machineIdentifier===t)):void 0,serverIdentifiers:n})))}),Mqe)(Sqe),Pqe=oA.Z.extend({name:"AvailableProviderModel",context:["server"],rootPropertyName:"MediaProvider",syncedAttrs:{identifier:KO.Z.string,title:KO.Z.string}}),Dqe=BT.Z.extend({name:"AvailableProvidersCollection",context:["server"],model:Pqe,url:"/media/providers?ignore_opt_outs=true"});var Cqe=Object.defineProperty,wqe=Object.prototype.hasOwnProperty,Zqe=Object.getOwnPropertySymbols,Tqe=Object.prototype.propertyIsEnumerable,Nqe=(e,t,n)=>t in e?Cqe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Oqe=(e,t)=>{for(var n in t||(t={}))wqe.call(t,n)&&Nqe(e,n,t[n]);if(Zqe)for(var n of Zqe(t))Tqe.call(t,n)&&Nqe(e,n,t[n]);return e};const Aqe="ui/onlineMediaSourcePage/initOnlineMediaSourcesPage",xqe="ui/onlineMediaSourcePage/fetchAvailableProviders",jqe="ui/onlineMediaSourcePage/fetchOptOutStatuses",Lqe="ui/onlineMediaSourcePage/updateOptOutStatuses",kqe="ui/onlineMediaSourcePage/clearOnlineMediaSourcesUpdateError",Rqe=(0,bc.Z)(Aqe),zqe=(0,bc.Z)(xqe),Uqe=(0,bc.Z)(jqe),Vqe=(0,bc.Z)(Lqe),Bqe=(0,bc.Z)(kqe);function Fqe(e){return e.get("ui").get("onlineMediaSourcesPage")}function _qe(e,t={},n={}){const r=e.get("cloudServer"),i=e.get("user").get("uuid"),a=E.Z.join(["/api/v2/user",i,"settings/opt_outs"],t);return r.getXHROptions(a,Oqe({dataType:"json"},n))}const Hqe={[Aqe](e,t,n){const r=Fqe(e),i=e.get("cloudServer");r.restoreDefaults({availableProviders:new Dqe([],{server:i})}),n(zqe()),n(Uqe())},[xqe]:(0,cC.Z)({key:"availableProviders",getModel:Fqe}),[jqe](e,t){const n=Fqe(e);n.set({isOptOutStatusesPending:!0,optOutStatusesError:null});const r=_qe(e);h().ajax(r).then((e=>{n.set({optOutStatuses:e,isOptOutStatusesPending:!1,optOutStatusesError:null})}),(e=>{n.set({isOptOutStatusesPending:!1,optOutStatusesError:(0,jC.Z)(e)})}))},[Lqe](e,t,n){const r=Fqe(e);r.set({isUpdatePending:!0,updateError:null});const i=Object.keys(t.optOutStatuses)[0],a=t.optOutStatuses[i],s=_qe(e,{key:i,value:a},{type:"POST"});h().ajax(s).then((()=>{const e=r.get("optOutStatuses");r.set({optOutStatuses:Oqe(Oqe({},e),{[i]:a}),isUpdatePending:!1,updateError:null}),(0,b.DB)("serviceWorker").sendMessage({type:"CLEAR_CLOUD_MEDIA_PROVIDERS"}).finally((()=>{n(MC())}))}),(e=>{r.set({isUpdatePending:!1,updateError:(0,jC.Z)(e)})}))},[kqe](e,t){Fqe(e).set("updateError",null)}};class Qqe extends g.Component{constructor(e,t){super(e,t),this.createToggleHandler=e=>t=>{t.preventDefault();const n=this.state.openProviderIdentifier===e;this.props.updateError&&this.props.onErrorDismiss(),this.setState({openProviderIdentifier:n?null:e})},this.state={openProviderIdentifier:null}}UNSAFE_componentWillReceiveProps(e){const t=this.props.showSpinner&&!e.showSpinner,n=this.props.isUpdatePending&&!e.isUpdatePending&&!e.updateError;(t||n)&&this.setState({openProviderIdentifier:null})}_getOptOutStatus(e){const t=this.props.optOutStatuses,n=Fo.wB(e,[Fo.xF,Fo.uk])?"opt_in":"opt_out_managed";return t[e]?t[e]:n}_getAvailableOptOutOptions(e,t){const n=[{opt_in:(0,Ce.Z)("Enabled")},{opt_out:(0,Ce.Z)("Disabled")}],r=[...n,{opt_out_managed:(0,Ce.Z)("Disabled for Managed Users")}],i=Fo.wB(e,Fo.xF)?n:r;return i.find((e=>e[t]))?i:[...i,{[t]:t}]}render(){const{isUnauthorized:e,loadSettingsError:t,showSpinner:n,availableProviders:r,isUpdatePending:i,updateError:a,onUpdateStatus:s}=this.props;return e?g.createElement(PK.Z,{title:(0,Ce.Z)("You're not supposed to be here"),description:(0,Ce.Z)("You don't have access to Online Media Sources")}):t?g.createElement(wK.Z,{title:(0,Ce.Z)("There was an unexpected error loading Online Media Sources")}):n?g.createElement(CK.Z,null,g.createElement(Mx.Z,null)):g.createElement(uae,{metricsPage:pt.yV,metricsPane:"onlineMediaSources"},g.createElement(mae,null,(0,Ce.Z)("Online Media Sources")),r.map((e=>{const t=this._getOptOutStatus(e.identifier),n=this._getAvailableOptOutOptions(e.identifier,t),r=n.find((e=>e[t]))[t];return g.createElement(lse,{key:e.identifier,closedNode:r,title:e.title,isOpen:this.state.openProviderIdentifier===e.identifier,isUpdating:i,errorMessage:a&&(0,Ce.Z)("Unable to save settings"),onTogglePress:this.createToggleHandler(e.identifier),onUpdateStatus:s,onSubmit:s},g.createElement(bae.Z,{labelText:e.title,helpText:(0,Ce.Z)("Disabling {onlineMediaSource} will remove it from all Plex apps signed in with your account.",{onlineMediaSource:e.title}),name:e.identifier,initialValue:t,values:n}))})))}}const Gqe=Qqe,Wqe=(0,fe.P1)((e=>e.ui.onlineMediaSourcesPage.availableProviders),Cn.Z,((e,t)=>{if(!e||!t)return;const n=Object.values(t);return e.filter((({identifier:e})=>{const t=n.find((t=>t.identifier===e));return!t||t.isPopulated&&Object.values(t.features).some((({type:e})=>e===AC.P8))}))})),Yqe=(0,fe.P1)((e=>e.ui.onlineMediaSourcesPage),jme.Z,Wqe,((e,t,n)=>({isUnauthorized:t.restricted,availableProviders:n,optOutStatuses:e.optOutStatuses,isAvailableProvidersPending:e.isAvailableProvidersPending,availableProvidersError:e.availableProvidersError,isOptOutStatusesPending:e.isOptOutStatusesPending,optOutStatusesError:e.optOutStatusesError,isUpdatePending:e.isUpdatePending,updateError:e.updateError}))),Kqe={dispatchInitOnlineMediaSourcesPage:Rqe,dispatchClearOnlineMediaSourcesUpdateError:Bqe,dispatchUpdateOptOutStatuses:Vqe};class qqe extends g.Component{constructor(){super(...arguments),this.onErrorDismiss=()=>{this.props.dispatchClearOnlineMediaSourcesUpdateError()},this.onUpdateStatus=e=>{this.props.dispatchUpdateOptOutStatuses({optOutStatuses:e})}}componentDidMount(){(0,fn.c9)((()=>{this.props.dispatchInitOnlineMediaSourcesPage()}))}render(){const{isUnauthorized:e,isAvailableProvidersPending:t,availableProvidersError:n,isOptOutStatusesPending:r,optOutStatusesError:i,availableProviders:a,optOutStatuses:s,updateError:o,isUpdatePending:l}=this.props;return g.createElement(Gqe,{isUnauthorized:e,loadSettingsError:!(!n&&!i),showSpinner:t||r,availableProviders:a,optOutStatuses:s,isUpdatePending:l,updateError:o,onErrorDismiss:this.onErrorDismiss,onUpdateStatus:this.onUpdateStatus})}}const $qe=(0,v.$j)(Yqe,Kqe)(qqe),Jqe=(0,fe.P1)((e=>e.ui.prePlayPage.metadataItem),sx.Z,((e,t)=>{const n=t[e]||{};return!(!n||!n.isPreFetched)})),Xqe=WA(h9,(function(e){const t=e.ui.prePlayPage;return{providerEntityID:t.providerEntityID,metadataKey:t.metadataKey}}),(function(e,t){e(UX({serverEntityID:t.serverEntityID,providerEntityID:t.providerEntityID,metadataKey:t.metadataKey})),e(HX()),e(QX())})),e$e=(0,v.$j)((function(){return(0,fe.P1)((e=>e.ui.prePlayPage),Jqe,FH.Z,na.Z,((e,t,n,r)=>{const{metadataItem:i,descendantList:a,isMetadataItemPending:s,metadataItemError:o}=e,l=!s&&!!o;return{metadataItemEntityID:i,metadataListEntityID:a,showSpinner:s&&!t,showError:l,showNotFoundError:l&&404===o.status,activeSelectionType:n.activeSelectionType,columnAdjustment:r.columnAdjustment}}))}))(Xqe);function t$e(){const{machineIdentifier:e,providerIdentifier:t}=MK(),n=(0,De.Z)(),r=(0,EK.Z)(n.key),i=(0,vn.Z)(Mn.cN,e),a=(0,vn.Z)(Mn.MC,t,i);return g.createElement(yx.Z,{metricsContext:(0,EK.Z)(n.context)},g.createElement(zK,{machineIdentifier:e,providerIdentifier:t},r?g.createElement(e$e,{serverEntityID:i,providerEntityID:a,metadataKey:r,record:1===parseInt((0,EK.Z)(n.record),10),allEpisodes:1===parseInt((0,EK.Z)(n.allEpisodes),10)}):g.createElement(eV.Z,null)))}const n$e=function(e){const{children:t,isPending:n}=e;return n?g.createElement(CK.Z,null,g.createElement(Mx.Z,null)):g.createElement(g.Fragment,null,t)};var r$e=Object.defineProperty,i$e=Object.prototype.hasOwnProperty,a$e=Object.getOwnPropertySymbols,s$e=Object.prototype.propertyIsEnumerable,o$e=(e,t,n)=>t in e?r$e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,l$e=(e,t)=>{for(var n in t||(t={}))i$e.call(t,n)&&o$e(e,n,t[n]);if(a$e)for(var n of a$e(t))s$e.call(t,n)&&o$e(e,n,t[n]);return e};const c$e=(0,fe.P1)((e=>e.isWaitingForServers),$Ye,((e,t)=>({preferredServerEntityID:t&&t.entityID,isWaitingForServers:e}))),d$e=(0,v.$j)(c$e)((function(e){const t=e,{isWaitingForServers:n,preferredServerEntityID:r}=t,i=((e,t)=>{var n={};for(var r in e)i$e.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&a$e)for(var r of a$e(e))t.indexOf(r)<0&&s$e.call(e,r)&&(n[r]=e[r]);return n})(t,["isWaitingForServers","preferredServerEntityID"]),a=(0,g.useRef)(n);return a.current&&!n&&(a.current=n),g.createElement(n$e,l$e(l$e({},i),{isPending:!r&&a.current}))}));var u$e=n(69273);const p$e="search/fetchSearchPage",m$e="search/clearSearchPage",h$e=(0,bc.Z)(p$e),g$e=(0,bc.Z)(m$e);function y$e(e){return e.get("ui").get("searchPage")}const v$e={[p$e](e,t,n){const r=y$e(e).get("searches"),{availableProviders:i,query:a,limit:s}=t,o=(0,MX.Z)(e,bn.Ao);Object.keys(i).forEach((t=>{const n=i[t],a=(0,QT.SW)(e,{serverEntityID:n.serverEntityID}),s=(0,QT.js)(e,{providerEntityID:t}),l=s.get("features").get(AC.mo);l&&!r.get(t)&&r.add(new u$e.Z({providerEntityID:t,key:l.get("key")},{server:a,provider:s,includeCollections:!0,includeExternalMedia:o}))})),r.each((e=>{e.populatePromise||(e.set("isSearchPending",!0),e.fetch({data:{query:a,limit:s}}).done((()=>{e.set({isSearchPending:!1,isSearchPopulated:!0,searchError:null})})).fail((t=>{e.set({isSearchPending:!1,searchError:(0,jC.Z)(t)})})))}))},[m$e](e,t,n){const r=y$e(e);r.get("searches").each((e=>{e.abortPendingPopulate()})),r.restoreDefaults()}};var f$e=n(71321);function b$e(e){const{title:t,attribution:n,route:r,sourceTitle:i}=e;return g.createElement(Q0,{className:"MetadataHubCellHeader-title-vPjgkk HubCellTitle-hubCellTitle-3JEg8R"},n?g.createElement(ma,{className:"MetadataHubCellHeader-attribution-3McSRi",attribution:n}):null,r?g.createElement(pw.Z,{to:r},t):t,i?g.createElement(rs.Z,{className:"MetadataHubCellHeader-titleSeparator-19Gt9X DashSeparator-separator-3r2G27"}):null,i?g.createElement("span",{className:"MetadataHubCellHeader-sourceTitle-MxUJmY"},i):null)}const I$e="HubCell-hubScrollButton-u6HMl5";class S$e extends g.Component{constructor(e,t){super(e,t),this.onListUpdate=e=>{const{visibleStartIndex:t,visibleEndIndex:n,renderEndIndex:r,listStyle:i}=e,{onListReady:a}=this.props,s=this._isReady?void 0:a;this._isReady=!0,this._visibleStartIndex=t,this._visibleEndIndex=n,this._pageSize=this._visibleEndIndex-this._visibleStartIndex;const o=t>0,l=r>n;this.setState({showActions:o||l,enablePrevious:o,enableNext:l,listHeight:i.height},s)},this.onListScrollIndexChange=e=>{this._setScrollIndex(e)},this.onPreviousPress=()=>{this._setScrollIndex(this._visibleStartIndex-this._pageSize-1)},this.onNextPress=()=>{this._setScrollIndex(this._visibleEndIndex+1)},this.state={showActions:!1,enablePrevious:!1,enableNext:!1,listHeight:"auto",scrollIndex:this.props.scrollIndex||0},this._isReady=!1,this._listRef=g.createRef()}static getDerivedStateFromProps(e,t){return null!=e.scrollIndex&&e.scrollIndex!==t.scrollIndex?{scrollIndex:e.scrollIndex}:null}componentDidMount(){this.props.more&&!this.props.totalSize&&this.props.onPageRequest({startIndex:0,endIndex:this.props.size||1}),this.props.more||this.props.size||this.props.totalSize||(this._isReady=!0,this.props.onListReady&&this.props.onListReady())}shouldComponentUpdate(e,t){return(0,At.Z)(this,e,t)}componentDidUpdate(e){this._isReady||!e.isPending||this.props.isPending||(this._isReady=!0,this.props.onListReady&&this.props.onListReady())}_setScrollIndex(e){this.props.onListScrollIndexChange&&this.props.onListScrollIndexChange(e),null==this.props.scrollIndex&&this.setState({scrollIndex:e})}render(){const{className:e,hubIdentifier:t,title:n,style:r,sourceTitle:i,attribution:a,route:s,scrollDirection:o,size:l,more:c,random:d,totalSize:u,keyPropName:p,itemsOffset:m,items:h,layout:y,cellRenderer:v,resizeTimeout:f,onPageRequest:b}=this.props,{showActions:I,enablePrevious:S,enableNext:M,listHeight:E}=this.state;if(!l&&!u)return null;const P=d?l:u||(c?l+1:l),D={visibility:"auto"===E?"hidden":"visible"},C={height:E,overflow:"hidden"},w=r!==f$e.VJ;return g.createElement("div",{className:e,style:D,"data-qa-id":"hub--"+t},w?g.createElement(_0,{className:"HubCell-hubCellHeader-wCcWjY HubCellHeader-hubCellHeader-G-yd6D"},g.createElement(b$e,{title:n,attribution:a,route:s,sourceTitle:i}),I?g.createElement("div",{className:"HubCell-hubActions-33h5ks"},g.createElement(Lx.Z,{className:I$e,"data-qa-id":"hubPreviousButton",iconComponent:kg,isDisabled:!S,title:(0,Ce.Z)("Previous Page"),onPress:this.onPreviousPress}),g.createElement(Lx.Z,{className:I$e,"data-qa-id":"hubNextButton",iconComponent:jg,isDisabled:!M,title:(0,Ce.Z)("Next Page"),onPress:this.onNextPress})):null):null,g.createElement("div",{style:C},g.createElement(Ix.Z,{scrollerClassName:"HubCell-hubScroller-1NdS3v VirtualListScroller-scroller-36RMyc",ignoreHeight:!0,keyPropName:p,items:h,itemsOffset:m,scrollDirection:o,scrollIndex:this.state.scrollIndex,shouldCenterScrollIndex:this.props.shouldCenterScrollIndex,size:Math.min(1e4,P),layout:y,cellRenderer:v,resizeTimeout:f,ref:this._listRef,onListUpdate:this.onListUpdate,onListScrollIndexChange:this.onListScrollIndexChange,onPageRequest:b})))}}S$e.defaultProps={className:"HubCell-hubCell-2uIdEm",shouldCenterScrollIndex:!1,scrollDirection:tZ._y};const M$e=S$e,E$e=(0,v.$j)((function(){return(0,fe.P1)((0,xx.Z)(),((e={})=>({containerKey:e.skipParent?e.grandparentKey:e.parentKey})))}))($4),P$e=function(e){const{className:t,serverEntityID:n,providerEntityID:r,searchResultEntityID:i,imageWidth:a,imageHeight:s,imageUrl:o,tag:l,tagType:c,librarySectionType:d,titleComponents:u}=e,p=(0,Ax.Z)(e),m=TFe.get(c),h=!!m&&m.isPerson;return g.createElement("div",{className:t,style:p.style},g.createElement("div",{className:"SearchTagPosterCell-imageContainer-2E5Rhb"},g.createElement(KFe,{serverEntityID:n,providerEntityID:r,imageWidth:a,imageHeight:s,imageUrl:o,title:l,tag:l,tagType:c,librarySectionType:d}),g.createElement(y4,{className:Te()("SearchTagPosterCell-imageLink-39V6bP",h&&"SearchTagPosterCell-isPerson-2NYxF-"),serverEntityID:n,providerEntityID:r,searchResultEntityID:i})),g.createElement("div",{className:"SearchTagPosterCell-titleContainer-3GwYlI"},u.map(((e,t)=>g.createElement(m1,{key:t,serverEntityID:n,providerEntityID:r,searchResultEntityID:i,component:e,isSecondary:t>0})))))};var D$e=Object.defineProperty,C$e=Object.prototype.hasOwnProperty,w$e=Object.getOwnPropertySymbols,Z$e=Object.prototype.propertyIsEnumerable,T$e=(e,t,n)=>t in e?D$e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const N$e=(0,v.$j)((function(){return(0,fe.P1)(((e,{listType:t})=>t),((e,{listSubtype:t})=>t),((e,{listContext:t})=>t),((e,{cellWidth:t})=>t),r4(),((e,t,n,r,i={})=>{const a=i.tagItem,{tag:s,tagType:o,librarySectionType:l}=a,c=(0,o1.Z)(r,null,e,t,a,n);return{tag:s,tagType:o,librarySectionType:l,imageWidth:c.width,imageHeight:c.height,imageUrl:c.url}}))}))((function(e){return g.createElement(P$e,((e,t)=>{for(var n in t||(t={}))C$e.call(t,n)&&T$e(e,n,t[n]);if(w$e)for(var n of w$e(t))Z$e.call(t,n)&&T$e(e,n,t[n]);return e})({},e))}));var O$e=Object.defineProperty,A$e=Object.prototype.hasOwnProperty,x$e=Object.getOwnPropertySymbols,j$e=Object.prototype.propertyIsEnumerable,L$e=(e,t,n)=>t in e?O$e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,k$e=(e,t)=>{for(var n in t||(t={}))A$e.call(t,n)&&L$e(e,n,t[n]);if(x$e)for(var n of x$e(t))j$e.call(t,n)&&L$e(e,n,t[n]);return e};const R$e=function(e){var t=e,{isMetadataItem:n}=t,r=((e,t)=>{var n={};for(var r in e)A$e.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&x$e)for(var r of x$e(e))t.indexOf(r)<0&&j$e.call(e,r)&&(n[r]=e[r]);return n})(t,["isMetadataItem"]);return n?g.createElement(E$e,k$e(k$e({},r),{showSelect:!1})):g.createElement(N$e,k$e({},r))};var z$e=Object.defineProperty,U$e=Object.prototype.hasOwnProperty,V$e=Object.getOwnPropertySymbols,B$e=Object.prototype.propertyIsEnumerable,F$e=(e,t,n)=>t in e?z$e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,_$e=(e,t)=>{for(var n in t||(t={}))U$e.call(t,n)&&F$e(e,n,t[n]);if(V$e)for(var n of V$e(t))B$e.call(t,n)&&F$e(e,n,t[n]);return e};const H$e={};function Q$e(e,t,n,r=0,i=0){const a=e+(t||"")+n+r+i;if(H$e.hasOwnProperty(a))return H$e[a];const s=(0,Ux.n3)(e,t,n),{titleHeight:o,minCellWidth:l,preferredCellWidth:c,minColumns:d,maxColumns:u}=n2({type:e,aspectRatio:s,titleCount:i,context:n}),p=(0,J4.ZP)({direction:J4._y,rows:1,overscan:0,innerHorizontalPadding:30,innerVerticalPadding:30,outerPaddingTop:10,outerPaddingRight:5,outerPaddingBottom:5,outerPaddingLeft:5,getCellWidth:e=>t2(_$e(_$e({},e),{preferredCellWidth:c,minCellWidth:l,minColumns:d,maxColumns:u,columnAdjustment:r})),getCellHeight:e=>X4(_$e(_$e({},e),{aspectRatio:s,titleHeight:o}))});return p.cellOptions={preferredCellWidth:c,minCellWidth:l,minColumns:d,maxColumns:u,columnAdjustment:r,aspectRatio:s,titleHeight:o},H$e[a]=p,p}var G$e=Object.defineProperty,W$e=Object.prototype.hasOwnProperty,Y$e=Object.getOwnPropertySymbols,K$e=Object.prototype.propertyIsEnumerable,q$e=(e,t,n)=>t in e?G$e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,$$e=(e,t)=>{for(var n in t||(t={}))W$e.call(t,n)&&q$e(e,n,t[n]);if(Y$e)for(var n of Y$e(t))K$e.call(t,n)&&q$e(e,n,t[n]);return e};const J$e=function(e){const{title:t,sourceTitle:n,hubs:r,columnAdjustment:i,isSearchPending:a,isSearchPopulated:s}=e,o=n?`${t} - ${n}`:t;return g.createElement("div",null,g.createElement("div",{role:"heading","aria-level":"2",className:"SearchProviderHubs-providerTitle-28j9jU"},o,a?g.createElement(Mx.Z,{className:"SearchProviderHubs-spinner-8XevJ2",size:Rp.HC}):null),!r.length&&s?g.createElement(CK.Z,{title:(0,Ce.Z)("No Results"),description:(0,Ce.Z)("Try a different query")}):r.map((e=>{const t=e.type,n=e.subtype,r=kx.mo,a=U4(t,r,{subtype:e.subtype,isSearch:!0,isSearchAll:!0});return g.createElement(M$e,$$e($$e({},e),{key:e.hubIdentifier,listType:t,listContext:r,keyPropName:"searchResultEntityID",size:e.results.length,items:e.results,itemsOffset:0,layout:Q$e(t,n,r,i,a.length),cellRenderer:(s={listType:t,listContext:r,titleComponents:a},e=>g.createElement(O_e,$$e($$e({component:R$e},s),e)))}));var s})))};var X$e=Object.defineProperty,eJe=Object.prototype.hasOwnProperty,tJe=Object.getOwnPropertySymbols,nJe=Object.prototype.propertyIsEnumerable,rJe=(e,t,n)=>t in e?X$e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const iJe=function(e){const{isSearchCapable:t,providers:n,columnAdjustment:r}=e;return t?g.createElement(rB,{innerClassName:"SearchPageContent-content-3qtLDe PageContent-innerPageContent-1ra0Xh"},n.map((e=>g.createElement(J$e,((e,t)=>{for(var n in t||(t={}))eJe.call(t,n)&&rJe(e,n,t[n]);if(tJe)for(var n of tJe(t))nJe.call(t,n)&&rJe(e,n,t[n]);return e})({key:e.providerEntityID,columnAdjustment:r},e))))):g.createElement(PK.Z,{title:(0,Ce.Z)("This server does not support search"),description:(0,Ce.Z)("Browse libraries using the sidebar")})};var aJe=Object.defineProperty,sJe=Object.prototype.hasOwnProperty,oJe=Object.getOwnPropertySymbols,lJe=Object.prototype.propertyIsEnumerable,cJe=(e,t,n)=>t in e?aJe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;function dJe(){return(0,Un.Z)((0,fe.P1)(LRe.Z,(e=>e.reduce(((e,{server:t,provider:n})=>t&&n&&t.isConnected?(e[n.entityID]={serverEntityID:t.entityID,identifier:n.identifier,title:n.title,sourceTitle:n.sourceTitle},e):e),{}))),(e=>e))}const uJe={fetchSearchPage:h$e,clearSearchPage:g$e};class pJe extends g.Component{UNSAFE_componentWillMount(){(0,fn.c9)((()=>{this._clear(),this._populate()}))}UNSAFE_componentWillReceiveProps(e){const t=e.query!==this.props.query,n=e.availableProviders!==this.props.availableProviders;(t||n)&&(0,fn.c9)((()=>{t&&this._clear(e),this._populate(e)}))}_clear(e=this.props){e.clearSearchPage()}_populate(e=this.props){e.fetchSearchPage({availableProviders:e.availableProviders,query:e.query,limit:30})}render(){return g.createElement(iJe,((e,t)=>{for(var n in t||(t={}))sJe.call(t,n)&&cJe(e,n,t[n]);if(oJe)for(var n of oJe(t))lJe.call(t,n)&&cJe(e,n,t[n]);return e})({},this.props))}}const mJe=(0,v.$j)((function(){return(0,fe.P1)(dJe(),(0,fe.P1)((e=>e.ui.searchPage.searches),dJe(),((e,t)=>{const n=e.reduce(((e,n)=>{const r=n.providerEntityID,i=t[r];if(!i)return e;let a=e[i.identifier];return a||(a=e[i.identifier]={providerEntityID:r,title:i.title,sourceTitle:i.sourceTitle,isSearchPending:!1,isSearchPopulated:!1,hubs:{}}),n.isSearchPending&&(a.isSearchPending=!0),n.isSearchPopulated&&(a.isSearchPopulated=!0),n.hubs.forEach((e=>{const t=e=>({serverEntityID:i.serverEntityID,providerEntityID:r,searchResultEntityID:e}),n=e.metadataResults.map(t),s=e.tagResults.map(t),o=a.hubs[e.hubIdentifier];o?(o.size+=e.size,o.results=o.results.concat(n,s)):a.hubs[e.hubIdentifier]={hubIdentifier:e.hubIdentifier,size:e.size,type:e.type,title:e.title,results:[].concat(n,s)}})),e}),{});return S().map(n,(e=>({providerEntityID:e.providerEntityID,title:e.title,sourceTitle:e.sourceTitle,isSearchPending:e.isSearchPending,isSearchPopulated:e.isSearchPopulated,hubs:S().values(e.hubs)})))})),na.Z,((e,t,n)=>({availableProviders:e,isSearchCapable:!!Object.keys(e).length,columnAdjustment:n.columnAdjustment,providers:t})))}),uJe)(pJe);function hJe({className:e,children:t}){return g.createElement("div",{className:e},t)}hJe.defaultProps={className:"PageHeaderCenter-pageHeaderCenter-2VRH7R"};const gJe=hJe,yJe=function(e){const{isSearchPending:t,query:n}=e;return g.createElement(Vf,null,g.createElement(sY.Z,null,(0,Ce.Z)("Search All Sources")),g.createElement(gJe,null,g.createElement("span",null,t?(0,Ce.Z)('Searching for "{query}"',{query:n}):(0,Ce.Z)('Results for "{query}"',{query:n})),t?g.createElement(Mx.Z,{className:"SearchPageHeader-spinner-2rJvIH",size:Rp.HC}):null),g.createElement(fG,null,g.createElement(HG,null)))},vJe=function(e){const{isSearchPending:t}=e,{query:n}=(0,De.Z)();return g.createElement(fx.Z,{metricsPage:pt.fP,allowBackgroundLightPreset:!0,scrollDirection:tZ.Hn},g.createElement(yJe,{isSearchPending:t,query:n}),g.createElement(mJe,{query:n}))};var fJe=Object.defineProperty,bJe=Object.prototype.hasOwnProperty,IJe=Object.getOwnPropertySymbols,SJe=Object.prototype.propertyIsEnumerable,MJe=(e,t,n)=>t in e?fJe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const EJe={clearSearchPage:g$e};class PJe extends g.Component{componentWillUnmount(){this.props.clearSearchPage()}render(){return g.createElement(vJe,((e,t)=>{for(var n in t||(t={}))bJe.call(t,n)&&MJe(e,n,t[n]);if(IJe)for(var n of IJe(t))SJe.call(t,n)&&MJe(e,n,t[n]);return e})({},this.props))}}const DJe=(0,v.$j)((function(){return(0,fe.P1)((e=>e.ui.searchPage),(e=>({isSearchPending:!!S().findWhere(e.searches,{isSearchPending:!0})})))}),EJe)(PJe);var CJe=n(96875),wJe=n.n(CJe);const ZJe=p.Z.ItemView.extend({template:wJe()}),TJe=function(e,t,n){return null==n&&(n=e+"s"),1===t?e:n};var NJe=n(29880),OJe=n.n(NJe);const AJe=p.Z.ItemView.extend({tagName:"li",className:"card-tile-list-item card-2-col-item",template:OJe(),ui:{icon:".device-icon",syncInfo:".sync-info"},events:{"click .remove-device-btn":"onRemoveClick"},isMediaServer:function(){if(null==this.isServer){var e=this.model.get("product").toLowerCase();this.isServer="plex media server"===e}return this.isServer},bindings:{".device-icon":{modelAttribute:"product",modelListeners:["product","platform"],manual:!0,formatter:function(e,t){var n=Fde(e,this.model.get("platform"));t.attr("src",n)}},".name":{modelAttribute:"name",modelListeners:["name","product"],autohide:!1,formatter:function(e){return e||this.model.get("product")}},".version":{modelAttribute:"productVersion",autohide:!1},".product":{modelAttribute:"product",autohide:!1},".platform":{modelAttribute:"platform",autohide:function(e){return e&&this.isMediaServer()}},".platform-version":{modelAttribute:"platformVersion",autohide:function(e){return e&&this.isMediaServer()}},".device":{modelAttribute:"device",autohide:!1},".last-seen":{modelAttribute:"lastSeenAt",autohide:!0,formatter:function(e,t){return(0,mi.Z)(e)}},".sync-count":{modelAttribute:"syncList",autohide:!1,formatter:function(e){if(e){var t,n=e.get("itemsCompleteCount");return n&&n>0&&(t=[n,TJe("item",n)].join(" "),this.ui.syncInfo.removeClass("hidden")),t}}},".sync-size":{modelAttribute:"syncList",autohide:!1,formatter:function(e){if(e){var t,n=e.get("totalSize");return n&&n>0&&(t=["(",dNe(n),")"].join("")),t}}}},onRemoveClick:function(e){e.preventDefault(),this.isMediaServer()?vle.Z.execute("removeServer",{device:this.model}):vle.Z.execute("removeDevice",{device:this.model})}}),xJe=ile.Z.extend({tagName:"ul",className:"list card-tile-list",itemView:AJe,emptyView:ZJe});var jJe=n(2326),LJe=n.n(jJe);const kJe=p.Z.Layout.extend({className:"devices-container",template:LJe(),regions:{list:".device-list-container"},events:{"click .dropdown-menu a":"onDeviceTypeDropdownClick","click .nav a":"onDeviceTypeClick"},ui:{filters:".nav a"},deviceTypes:[{id:"all",title:"All",ids:["all"]},{id:"web",title:"Web",ids:["Web Client","Plex Web"]},{id:"pht",title:"HTPC",ids:["Plex Home Theater","Plex for Home Theater","PlexHomeTheater","Plex Media Center","Plex Media Player"]},{id:"desktop",title:"Desktop",ids:["Plex for Mac","Plex for Windows","Plex for Linux"]},{id:"pms",title:"Server",ids:["Plex Media Server"]},{id:"android",title:"Android",ids:["Plex for Android","Android","Plex for Android (Mobile)","Plex for Android (TV)"]},{id:"ios",title:"iOS",ids:["Plex/iOS","Plex for iOS"]},{id:"samsung",title:"Samsung",ids:["Plex for Samsung"]},{id:"google-tv",title:"Google TV",ids:["Google TV"]},{id:"windows",title:"Windows",ids:["Plex for Windows"]},{id:"apple-tv",title:"Apple TV",ids:["Plex-ATV","Plex for Apple TV"]},{id:"windows-phone",title:"Windows Phone",ids:["Plex for Windows Phone"]},{id:"plexbmc",title:"PleXBMC",ids:["PleXBMC"]},{id:"roku",title:"Roku",ids:["Plex for Roku"]},{id:"popcorn-hour",title:"Popcorn Hour",ids:["Plex for Popcorn Hour"]},{id:"playstation",title:"PlayStation",ids:["Plex for PlayStation 4","Plex for PlayStation 5"],platforms:["Mystery 3"]},{id:"xbox",title:"Xbox",ids:["Plex for Xbox","Plex for Xbox One","Plex for Xbox 360"]},{id:"other",title:"Other",ids:[]}],initialize:function(e){const t=(0,b.DB)("appModel").get("user"),n=t.get("desktop").get("devices");this.model=t,this.collection=n,this.products=this.collection.products(),this.addOtherIds(),this.filteredDeviceTypes=this.getFilteredDeviceTypes(),this.selectedDeviceType=this.getDeviceType(e.deviceTypeID),this.selectedDevices=this.getSelectedDevices(),(0,nle.Z)("devices",{deviceTypeID:this.selectedDeviceType.id},!0)},serializeData:function(){return{selectedDeviceType:this.selectedDeviceType,deviceTypes:this.filteredDeviceTypes}},sortDeviceTypes:function(e){return S().sortBy(e,(function(e){return"all"===e.id?"":e.title.toLowerCase()}))},getDeviceType:function(e){const t=this.deviceTypes[0];return e&&this.filteredDeviceTypes.find((t=>t.id===e))||t},getSelectedDevices:function(){if("all"===this.selectedDeviceType.id)return this.collection;{const e=this.collection.filterByProducts(this.selectedDeviceType.ids);if(this.selectedDeviceType.platforms){const t=this.collection.filterByPlatforms(this.selectedDeviceType.platforms);e.add(t.models)}return e}},getFilteredDeviceTypes:function(){var e=this.deviceTypes.filter((function(e){return"all"===e.id||S().intersection(this.products,e.ids).length>0}),this);return this.sortDeviceTypes(e)},addOtherIds:function(){var e=S().flatten(S().map(this.deviceTypes,(function(e){return e.ids}))),t=S().difference(this.products,e),n=S().find(this.deviceTypes,(function(e){return"other"===e.id}));S().each(t,(function(e){n.ids.push(e)}))},onRender:function(){this.list.show(new xJe({collection:this.selectedDevices}))},onDeviceTypeDropdownClick:function(e){e.preventDefault();const t=h()(e.currentTarget).data("id");this.selectedDeviceType=this.getDeviceType(t),this.selectedDevices=this.getSelectedDevices(),(0,nle.Z)("devices",{deviceTypeID:this.selectedDeviceType.id},!0),this.render()},onDeviceTypeClick:function(e){e.preventDefault();var t=h()(e.currentTarget),n=t.data("id"),r=this.collection;if(this.ui.filters.removeClass("selected"),t.addClass("selected"),"all"!==n){var i=S().findWhere(this.deviceTypes,{id:n});r=this.collection.filterByProducts(i.ids)}this.list.show(new xJe({collection:r}))}}),RJe=function(){const{deviceTypeID:e}=(0,f.UO)(),[t,n]=(0,g.useState)({isDevicesPopulated:!1,devicesError:!1});a7((()=>{(0,b.DB)("appModel").get("user").get("desktop").get("devices").fetch().then((()=>{n({isDevicesPopulated:!0,devicesError:!1})}),(()=>{n({isDevicesPopulated:!1,devicesError:!0})}))}));const r=!t.isDevicesPopulated&&!t.devicesError,i=!r&&t.devicesError,a=!r&&!i;return g.createElement(g.Fragment,null,r?g.createElement(CK.Z,null,g.createElement(Mx.Z,null)):null,i?g.createElement(PK.Z,{title:(0,Ce.Z)("Your devices are unavailable. Please try again later.")}):null,a?g.createElement(uae,{metricsPage:pt.Ak},g.createElement(mae,null,(0,Ce.Z)("Authorized Devices")),g.createElement(hEe,{view:kJe,viewOptions:{deviceTypeID:e}})):null)};function zJe({component:e,selectedKey:t}){return g.createElement(Pe,null,g.createElement(zAe,null,g.createElement(PAe,{selectedKey:t}),g.createElement(e,null)))}class UJe extends g.Component{static getDerivedStateFromProps(e,t){return e.isSignedIn&&!t.isSigningOut?{isSigningOut:!0}:null}constructor(e,t){super(e,t),this.state={isSigningOut:!1}}componentDidMount(){this.state.isSigningOut&&this.props.onSignOut()}componentDidUpdate(e,t){this.state.isSigningOut&&!t.isSigningOut&&this.props.onSignOut()}render(){return g.createElement(fx.Z,{metricsPage:pt.dp},g.createElement(rB,null,g.createElement(Ex.Z,null,g.createElement(Mx.Z,null))))}}const VJe=UJe,BJe=(0,fe.P1)(jme.Z,(({isSignedIn:e})=>({isSignedIn:e}))),FJe=(0,v.$j)(BJe,(function(e){return{onSignOut(){vle.Z.execute("signOut").then((()=>{e((0,mt.im)({route:"login",replace:!0}))}))}}}))(VJe);function _Je(){const{machineIdentifier:e,providerIdentifier:t}=MK(),n=(0,De.Z)(),r=(0,vn.Z)(Mn.cN,e),i=(0,vn.Z)(Mn.MC,t,r);return g.createElement(zK,{machineIdentifier:e,providerIdentifier:t},g.createElement(QYe,{serverEntityID:r,providerEntityID:i,sourceDirectoryID:n.source,directoryKey:lz.tk.TIMELINE},g.createElement(yK,{serverEntityID:r,providerEntityID:i,sourceDirectoryID:n.source,directoryKey:lz.tk.TIMELINE,libraryKey:n.key})))}var HJe=n(87986),QJe=n.n(HJe);const GJe=p.Z.ItemView.extend({className:"announcement-list-item",template:QJe(),ui:{thumb:".thumb",unread:".unread"},initialize:function(){this.image=new twe.Z({url:this.model.get("imageUrl")})},onRender:function(){this.image.setElement(this.ui.thumb),this.model.markAsRead()},onClose:function(){this.image.close()}}),WJe=ile.Z.extend({className:"list announcement-list",itemView:GJe});var YJe=n(49682),KJe=n.n(YJe);const qJe=p.Z.Layout.extend({className:"container",template:KJe(),regions:{list:".announcements-container"},initialize:function(){const e=(0,b.DB)("appStore").dispatch,t=(0,b.DB)("appModel").get("user");this.collection=t.get("desktop").get("announcements"),e((0,Yn.ZZ)({allowLightPreset:!1}))},onRender:function(){this.list.show(new WJe({collection:this.collection}))}}),$Je=function(){const[e,t]=(0,g.useState)({isAnnouncementsPending:!0,announcementsError:!1});return a7((()=>{(0,uC.bg)((0,b.DB)("appModel")).get("announcements").fetch().then((()=>{t({isAnnouncementsPending:!1,announcementsError:!1})}),(()=>{t({isAnnouncementsPending:!1,announcementsError:!0})}))})),e.isAnnouncementsPending?g.createElement(CK.Z,null,g.createElement(Mx.Z,null)):e.announcementsError?g.createElement(PK.Z,{title:(0,Ce.Z)("Announcements are not available.")}):g.createElement(hEe,{className:fmt,view:qJe,viewOptions:{}})},JJe=(0,fe.P1)(Aje.Z,(e=>e.homeDetails));var XJe=n(32448);const eXe=function(e){const{isAccepting:t,onPress:n}=e;return t?g.createElement(EF.Z,{className:"AcceptInviteButton-spinner-1zTQxk",loadingLabel:(0,Ce.Z)("Accepting invite"),size:Rp.HC}):g.createElement(Lx.Z,{className:"AcceptInviteButton-button-3iyFr3",iconComponent:XJe.Z,title:(0,Ce.Z)("Accept Invite"),onPress:n})},tXe=function({title:e,onPress:t}){return g.createElement(Lx.Z,{className:"RemoveUserActionButton-button-1CciJy",iconComponent:cu.Z,title:e,onPress:t})};var nXe=Object.defineProperty,rXe=Object.prototype.hasOwnProperty,iXe=Object.getOwnPropertySymbols,aXe=Object.prototype.propertyIsEnumerable,sXe=(e,t,n)=>t in e?nXe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,oXe=(e,t)=>{for(var n in t||(t={}))rXe.call(t,n)&&sXe(e,n,t[n]);if(iXe)for(var n of iXe(t))aXe.call(t,n)&&sXe(e,n,t[n]);return e};const lXe=function(e){const t=e,{hasOtherHomeUsers:n,isSignedInUserAdmin:r}=t,i=((e,t)=>{var n={};for(var r in e)rXe.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&iXe)for(var r of iXe(e))t.indexOf(r)<0&&aXe.call(e,r)&&(n[r]=e[r]);return n})(t,["hasOtherHomeUsers","isSignedInUserAdmin"]);let a=(0,Ce.Z)("The admin of this home will have access to your account. Other users of this home will be able to switch to your account by entering your PIN.");return n&&(a=r?(0,Ce.Z)("You are the admin in your current home. If you leave, the remaining users will be removed and managed users will be deleted."):(0,Ce.Z)("Are you sure you want to join this home? You will leave your current home.")),g.createElement(yt.Z,oXe(oXe({},i),{kind:ic.T,title:(0,Ce.Z)("Join Home"),message:a,confirmLabel:(0,Ce.Z)("Join")}))};var cXe=Object.defineProperty,dXe=Object.prototype.hasOwnProperty,uXe=Object.getOwnPropertySymbols,pXe=Object.prototype.propertyIsEnumerable,mXe=(e,t,n)=>t in e?cXe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,hXe=(e,t)=>{for(var n in t||(t={}))dXe.call(t,n)&&mXe(e,n,t[n]);if(uXe)for(var n of uXe(t))pXe.call(t,n)&&mXe(e,n,t[n]);return e};const gXe=function(e){return g.createElement(yt.Z,hXe(hXe({},e),{title:(0,Ce.Z)("Reject Invite"),message:(0,Ce.Z)("Are you sure you want to reject this invite?"),confirmLabel:(0,Ce.Z)("Yes"),cancelLabel:(0,Ce.Z)("No")}))};function yXe(e){const{className:t,children:n,userID:r}=e;return g.createElement("div",{className:t},r?g.createElement(pw.Z,{className:"UsersSettingsRow-underlay-1uxawh",to:`#!/settings/users-sharing/${r}`}):null,n)}yXe.defaultProps={className:"UsersSettingsRow-row-2j3cyi"};const vXe=yXe;function fXe({className:e,children:t}){return g.createElement("div",{className:e},t)}fXe.defaultProps={className:"UsersSettingsRowActions-container-deXd9i"};const bXe=fXe,IXe=function(e){const{serverEntityID:t,thumb:n}=e;return g.createElement("div",{className:"UsersSettingsRowAvatar-container-1gNQz9"},g.createElement(X2.Z,{serverEntityID:t,url:n,width:50,height:50}))};function SXe(e){var t=e["aria-label"],n=e.className,r=e.style,i={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-sharing-admin-560"};i["aria-hidden"]=!t,i.style=r,i.className=oa.Z.plexIcon+(n?" "+n:"");var a=[g.createElement.apply(g,["path",{d:"M120 560h320v-80H120v80zM268.298 78.258C251.923 73.25 240 58.004 240 40c0-22.075 17.923-40 40-40s40 17.925 40 40c0 17.304-11.012 32.058-26.404 37.625L360 280l128.004-96.003A39.81 39.81 0 0 1 480 160c0-22.075 17.925-40 40-40s40 17.925 40 40c0 22.077-17.925 40-40 40a39.85 39.85 0 0 1-14.858-2.855L440 360v80H120v-80L54.858 197.145A39.845 39.845 0 0 1 40 200c-22.077 0-40-17.923-40-40 0-22.075 17.923-40 40-40s40 17.925 40 40c0 9-2.98 17.31-8.004 23.997L200 280l68.298-201.742z"}].concat([]))];return t&&a.unshift(g.createElement("title",null,t)),g.createElement.apply(g,["svg",i].concat(a))}SXe.propTypes={"aria-label":sa().string,className:sa().string,style:sa().object};const MXe=SXe,EXe="UsersSettingsRowName-status-1gMDpC",PXe=function(e){const{title:t,subtitle:n,restrictionProfile:r,isAdmin:i,isRestricted:a}=e;let s;return a&&(s=r?kje.oL(r).title:(0,Ce.Z)("Managed User")),g.createElement("div",{className:"UsersSettingsRowName-container-3t6YJ1"},g.createElement("div",{className:"UsersSettingsRowName-titleContainer-21fKGb"},g.createElement("div",{className:"UsersSettingsRowName-title-2PK5X5"},t),i?g.createElement("div",{className:"UsersSettingsRowName-statusContainer-1S9OVc"},g.createElement("div",{className:EXe},(0,Ce.Z)("Admin")),g.createElement(MXe,{className:"UsersSettingsRowName-admin-2X0s_t"})):null,s?g.createElement("div",{className:EXe},s):null),n?g.createElement("div",{className:"UsersSettingsRowName-subtitle-yak8BT"},g.createElement(rs.Z,null),n):null)},DXe="UsersSettingsRowShares-status-24GC4s";function CXe(e){const{serverShares:t}=e;let n=0,r=0;return t.forEach((e=>{e.owned?n+=e.numLibraries:r+=e.numLibraries})),g.createElement("div",{className:"UsersSettingsRowShares-container-1XBf7C"},r?g.createElement("div",{className:DXe},1===r?(0,Ce.Z)("Shares 1 library with you"):(0,Ce.Z)("Shares {libraryCount} libraries with you",{libraryCount:r})):null,n?g.createElement("div",{className:DXe},1===n?(0,Ce.Z)("Sharing 1 library with them"):(0,Ce.Z)("Sharing {libraryCount} libraries with them",{libraryCount:n})):null)}CXe.defaultProps={serverShares:[]};const wXe=CXe,ZXe=(0,v.$j)(null,(function(e,t){return{dispatchAcceptInvite(){e((0,oN.Ol)({inviteID:t.id}))},dispatchRejectInvite(){e((0,oN.jT)({inviteID:t.id}))}}}))((function(e){const{serverEntityID:t,thumb:n,friendlyName:r,home:i,serverShares:a,isAccepting:s,isRemoving:o,hasOtherHomeUsers:l,isSignedInUserAdmin:c,dispatchAcceptInvite:d,dispatchRejectInvite:u}=e,[p,m]=(0,g.useState)(!1),[h,y]=(0,g.useState)(!1),v=(0,g.useCallback)((()=>i?m(!0):d()),[i,d]),f=(0,g.useCallback)((()=>y(!0)),[]),b=(0,g.useCallback)((()=>m(!1)),[]),I=(0,g.useCallback)((()=>y(!1)),[]);return g.createElement(vXe,null,g.createElement(IXe,{serverEntityID:t,thumb:n}),g.createElement(PXe,{title:r,subtitle:i?(0,Ce.Z)("Wants you to join their home"):(0,Ce.Z)("Wants to share with you")}),i?g.createElement("div",{className:"UserSettingsInviteRow-homeInvite-3gfMZ0"},(0,Ce.Z)("Awaiting your response")):g.createElement(wXe,{serverShares:a}),g.createElement(bXe,null,g.createElement(eXe,{isAccepting:s,onPress:v}),g.createElement(tXe,{title:(0,Ce.Z)("Reject Invite"),onPress:f})),i?g.createElement(lXe,{isOpen:p,metricsPage:pt.I7,hasOtherHomeUsers:l,isSignedInUserAdmin:c,onConfirm:d,onCancel:b}):null,g.createElement(gXe,{isOpen:h,metricsPage:pt.I7,isConfirmButtonSpinning:o,onConfirm:u,onCancel:I}))}));var TXe=Object.defineProperty,NXe=Object.prototype.hasOwnProperty,OXe=Object.getOwnPropertySymbols,AXe=Object.prototype.propertyIsEnumerable,xXe=(e,t,n)=>t in e?TXe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,jXe=(e,t)=>{for(var n in t||(t={}))NXe.call(t,n)&&xXe(e,n,t[n]);if(OXe)for(var n of OXe(t))AXe.call(t,n)&&xXe(e,n,t[n]);return e};const LXe=function(e){return g.createElement(yt.Z,jXe(jXe({},e),{title:(0,Ce.Z)("Cancel Invite"),message:(0,Ce.Z)("Are you sure you want to cancel this invite?"),confirmLabel:(0,Ce.Z)("Yes"),cancelLabel:(0,Ce.Z)("No")}))},kXe=(0,v.$j)(null,(function(e,t){return{dispatchCancelInvite(){e((0,oN.Bt)({inviteID:t.id}))}}}))((function(e){const{serverEntityID:t,thumb:n,friendlyName:r,home:i,serverShares:a,isRemoving:s,dispatchCancelInvite:o}=e,[l,c]=(0,g.useState)(!1);return g.createElement(vXe,{className:"UserSettingsSentInviteRow-row-K2Zukg UsersSettingsRowFriend-row-2bfmTA UsersSettingsRow-row-2j3cyi"},g.createElement(IXe,{serverEntityID:t,thumb:n}),g.createElement(PXe,{title:r,subtitle:(0,Ce.Z)("Invite pending")}),i?g.createElement("div",{className:"UserSettingsSentInviteRow-homeInvite-1VI2FA"},g.createElement("div",{className:"UserSettingsSentInviteRow-status-4DjfHp"},(0,Ce.Z)("Awaiting their response"))):g.createElement(wXe,{serverShares:a}),g.createElement(bXe,{className:"UserSettingsSentInviteRow-actions-3LfRBX UsersSettingsRowFriend-actions-fD9qub UsersSettingsRowActions-container-deXd9i"},g.createElement(tXe,{title:(0,Ce.Z)("Cancel Invite"),onPress:(0,g.useCallback)((()=>c(!0)),[])})),g.createElement(LXe,{isOpen:l,metricsPage:pt.I7,isConfirmButtonSpinning:s,onConfirm:o,onCancel:(0,g.useCallback)((()=>c(!1)),[])}))})),RXe=function({title:e,children:t}){return g.createElement("div",{className:"UsersSettingsPageListHeader-header-BFve_7"},g.createElement("div",{className:"UsersSettingsPageListHeader-pageHeaderLeft-28wY83"},e),g.createElement("div",{className:"UsersSettingsPageListHeader-pageHeaderRight-2nnVrU"},t))};var zXe=n(90354),UXe=Object.defineProperty,VXe=Object.prototype.hasOwnProperty,BXe=Object.getOwnPropertySymbols,FXe=Object.prototype.propertyIsEnumerable,_Xe=(e,t,n)=>t in e?UXe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,HXe=(e,t)=>{for(var n in t||(t={}))VXe.call(t,n)&&_Xe(e,n,t[n]);if(BXe)for(var n of BXe(t))FXe.call(t,n)&&_Xe(e,n,t[n]);return e};function QXe(e){const t=e,{title:n,serverShares:r}=t,i=((e,t)=>{var n={};for(var r in e)VXe.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&BXe)for(var r of BXe(e))t.indexOf(r)<0&&FXe.call(e,r)&&(n[r]=e[r]);return n})(t,["title","serverShares"]);let a=(0,Ce.Z)("Are you sure you want to remove {friendName}?",{friendName:n}),s=0,o=0;r.forEach((e=>{e.owned?s+=e.numLibraries:o+=e.numLibraries}));const l=function(e,t,n){return e&&t?n>1?(0,Ce.Z)("You are sharing {libraryCount} libraries with each other",{libraryCount:n}):(0,Ce.Z)("You are sharing {libraryCount} library with each other",{libraryCount:n}):e?n>1?(0,Ce.Z)("You are sharing {libraryCount} libraries with this friend",{libraryCount:n}):(0,Ce.Z)("You are sharing {libraryCount} library with this friend",{libraryCount:n}):t?n>1?(0,Ce.Z)("This friend is sharing {libraryCount} libraries with you",{libraryCount:n}):(0,Ce.Z)("This friend is sharing {libraryCount} library with you",{libraryCount:n}):void 0}(s,o,s+o);return l&&(a+=" "+l),g.createElement(yt.Z,HXe(HXe({},i),{kind:ic.T,title:(0,Ce.Z)("Remove Friend"),message:a,confirmLabel:(0,Ce.Z)("Remove")}))}QXe.defaultProps={serverShares:[]};const GXe=QXe,WXe=(0,v.$j)((function(){return(0,fe.P1)((0,zXe.Z)(),(e=>e))}),(function(e,t){return{dispatchRemove(){e((0,oN.tJ)({friendEntityID:t.friendEntityID}))}}}))((function(e){const{serverEntityID:t,id:n,title:r,thumb:i,serverShares:a,home:s,restricted:o,isRemoving:l,dispatchRemove:c}=e,d=(0,GN.Z)(),u=(0,eo.Z)(l);return(0,g.useEffect)((()=>{u&&!l&&d.isOpen&&d.onClose()}),[u,l,d]),s||o?null:g.createElement(vXe,{className:"UsersSettingsRowFriend-row-2bfmTA UsersSettingsRow-row-2j3cyi",userID:n},g.createElement(IXe,{serverEntityID:t,thumb:i}),g.createElement(PXe,{title:r}),g.createElement(wXe,{serverShares:a}),g.createElement(bXe,{className:"UsersSettingsRowFriend-actions-fD9qub UsersSettingsRowActions-container-deXd9i"},g.createElement(tXe,{title:(0,Ce.Z)("Remove User"),onPress:d.onOpen})),g.createElement(GXe,{isOpen:d.isOpen,metricsPage:pt.I7,title:r,serverShares:a,isConfirmButtonSpinning:l,onConfirm:c,onCancel:d.onClose}))}));function YXe(){return(0,fe.P1)(Oje.Z,((e,t)=>t.homeUserEntityID),((e,t)=>e[t]))}var KXe=Object.defineProperty,qXe=Object.prototype.hasOwnProperty,$Xe=Object.getOwnPropertySymbols,JXe=Object.prototype.propertyIsEnumerable,XXe=(e,t,n)=>t in e?KXe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,e0e=(e,t)=>{for(var n in t||(t={}))qXe.call(t,n)&&XXe(e,n,t[n]);if($Xe)for(var n of $Xe(t))JXe.call(t,n)&&XXe(e,n,t[n]);return e};const t0e=function(e){const t=e,{isSignedInUser:n,isAdmin:r,isRestricted:i}=t,a=((e,t)=>{var n={};for(var r in e)qXe.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&$Xe)for(var r of $Xe(e))t.indexOf(r)<0&&JXe.call(e,r)&&(n[r]=e[r]);return n})(t,["isSignedInUser","isAdmin","isRestricted"]);let s=(0,Ce.Z)("Remove User"),o=(0,Ce.Z)("You will no longer be able to switch to this user."),l=(0,Ce.Z)("Remove");return n?(s=(0,Ce.Z)("Leave Home"),o=r?(0,Ce.Z)("You are the admin in this home. If you leave, the remaining users will be removed and managed users will be deleted."):(0,Ce.Z)("Are you sure you want to leave this home?"),l=(0,Ce.Z)("Leave")):i&&(o=(0,Ce.Z)("Removing a managed user from your home will delete the managed user. Watched status for this user will be lost. This cannot be undone.")),g.createElement(yt.Z,e0e(e0e({},a),{kind:ic.T,title:s,message:o,confirmLabel:l}))};function n0e(e){var t=e["aria-label"],n=e.className,r=e.style,i={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-sharing-locked-560"};i["aria-hidden"]=!t,i.style=r,i.className=oa.Z.plexIcon+(n?" "+n:"");var a=[g.createElement.apply(g,["path",{d:"M120 240V120h.01c-.007-.513-.01-1.025-.01-1.537C120 53.079 173.08 0 238.462 0h83.076C386.92 0 440 53.08 440 118.463c0 .512-.003 1.025-.01 1.537h.01v120h40c22.08 0 40 17.924 40 40v240c0 22.076-17.92 40-40 40H80c-22.077 0-40-17.923-40-40V280c0-22.076 17.923-40 40-40h40zm180 240v-43.42c23.294-8.244 40-30.476 40-56.58 0-33.115-26.885-60-60-60-33.115 0-60 26.885-60 60 0 26.104 16.706 48.336 40 56.58V480h40zm20-400h-80c-22.077 0-40 17.925-40 40v120h160V120c0-22.075-17.923-40-40-40z"}].concat([]))];return t&&a.unshift(g.createElement("title",null,t)),g.createElement.apply(g,["svg",i].concat(a))}n0e.propTypes={"aria-label":sa().string,className:sa().string,style:sa().object};const r0e=n0e;function i0e(e){var t=e["aria-label"],n=e.className,r=e.style,i={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-sharing-unlocked-560"};i["aria-hidden"]=!t,i.style=r,i.className=oa.Z.plexIcon+(n?" "+n:"");var a=[g.createElement.apply(g,["path",{d:"M240 80c-22.077 0-40 17.925-40 40h-80 .01c-.007-.513-.01-1.025-.01-1.537C120 53.079 173.08 0 238.462 0h83.076C386.92 0 440 53.08 440 118.463c0 .512-.003 1.025-.01 1.537h.01v120h40c22.08 0 40 17.924 40 40v240c0 22.076-17.92 40-40 40H80c-22.077 0-40-17.923-40-40V280c0-22.076 17.923-40 40-40h280V120c0-22.075-17.923-40-40-40h-80zm60 400v-43.42c23.294-8.244 40-30.476 40-56.58 0-33.115-26.885-60-60-60-33.115 0-60 26.885-60 60 0 26.104 16.706 48.336 40 56.58V480h40z"}].concat([]))];return t&&a.unshift(g.createElement("title",null,t)),g.createElement.apply(g,["svg",i].concat(a))}i0e.propTypes={"aria-label":sa().string,className:sa().string,style:sa().object};const a0e=i0e;function s0e(e){const{isProtected:t,isGuest:n}=e,r=t?r0e:a0e;return g.createElement("div",{className:"UsersSettingsRowHome-container-9rx_CJ"},g.createElement("div",{title:t?(0,Ce.Z)("Has PIN"):(0,Ce.Z)("No PIN")},n?null:g.createElement(r,{className:t?"UsersSettingsRowHome-lockedIcon-3P6PT1 UsersSettingsRowHome-icon-339A2c":"UsersSettingsRowHome-icon-339A2c"})))}s0e.defaultProps={isProtected:!1,isGuest:!1};const o0e=s0e;var l0e=Object.defineProperty,c0e=Object.prototype.hasOwnProperty,d0e=Object.getOwnPropertySymbols,u0e=Object.prototype.propertyIsEnumerable,p0e=(e,t,n)=>t in e?l0e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,m0e=(e,t)=>{for(var n in t||(t={}))c0e.call(t,n)&&p0e(e,n,t[n]);if(d0e)for(var n of d0e(t))u0e.call(t,n)&&p0e(e,n,t[n]);return e};const h0e=(0,fe.P1)(Oje.Z,(0,wn.Z)("id"),((e,t)=>{const n=Object.values(e).find((e=>e.id===t));return!(!n||!n.restricted)})),g0e=(0,v.$j)((function(){return(0,fe.P1)(((e,{signedInUserId:t})=>t),h0e,YXe(),(0,fe.P1)(YXe(),J2.Z,$2.Z,((e,t,n)=>t.find((t=>n[t].id===e.id)))),((e,t,n,r)=>m0e(m0e({},n),{serverShares:r&&r.serverShares,isSignedInUser:n.id===e,isSignedInUserRestricted:t})))}),(function(e,t){return{dispatchRemove(){e((0,oN.EN)({homeUserEntityID:t.homeUserEntityID}))},dispatchEditPIN(){e((0,oN.Nt)({homeUserEntityID:t.homeUserEntityID}))}}}))((function(e){const{serverEntityID:t,id:n,title:r,thumb:i,protected:a,restricted:s,serverShares:o,isSignedInUserAdmin:l,isSignedInUserRestricted:c,isSignedInUser:d,admin:u,guest:p,restrictionProfile:m,hasOtherHomeUsers:h,isRemoving:y,dispatchEditPIN:v,dispatchRemove:f}=e,[b,I]=(0,g.useState)(!1),S=(0,eo.Z)(y);(0,g.useEffect)((()=>{S&&!y&&b&&I(!1)}),[S,y,b]);const M=(0,g.useCallback)((()=>{I(!0)}),[]),E=(0,g.useCallback)((()=>{I(!1)}),[]);let P;P=!!l||(c?u:!s);const D=!d&&P,C=l&&!d&&!p,w=d&&!s,Z=l&&s&&!p;return g.createElement(vXe,{className:"UsersSettingsRowHomeUser-row-1rRd3t UsersSettingsRowFriend-row-2bfmTA UsersSettingsRow-row-2j3cyi",userID:D?n:null},g.createElement(IXe,{serverEntityID:t,thumb:i}),g.createElement(PXe,{title:r,restrictionProfile:m,isAdmin:u,isRestricted:s}),g.createElement(o0e,{isProtected:a,isGuest:p}),g.createElement(wXe,{serverShares:o}),g.createElement(bXe,{className:"UsersSettingsRowHomeUser-actions-38ibmc UsersSettingsRowFriend-actions-fD9qub UsersSettingsRowActions-container-deXd9i"},w||Z?g.createElement(pw.Z,{className:"UsersSettingsRowHomeUser-editPin-1RuHUY",onPress:v},a?(0,Ce.Z)("Edit PIN"):(0,Ce.Z)("Set PIN")):null,C?g.createElement(tXe,{title:(0,Ce.Z)("Remove From Plex Home"),onPress:M}):null,d&&h&&!s?g.createElement(tXe,{title:(0,Ce.Z)("Leave Home"),onPress:M}):null),g.createElement(t0e,{isOpen:b,metricsPage:pt.I7,isSignedInUser:d,isAdmin:u,isRestricted:s,isConfirmButtonSpinning:y,onConfirm:f,onCancel:E}))})),y0e="UsersSettingsPage-button-3Yjfsf";var v0e=Object.defineProperty,f0e=Object.prototype.hasOwnProperty,b0e=Object.getOwnPropertySymbols,I0e=Object.prototype.propertyIsEnumerable,S0e=(e,t,n)=>t in e?v0e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,M0e=(e,t)=>{for(var n in t||(t={}))f0e.call(t,n)&&S0e(e,n,t[n]);if(b0e)for(var n of b0e(t))I0e.call(t,n)&&S0e(e,n,t[n]);return e};function E0e(e,t){return e.filter((e=>e.home===t))}const P0e=function(e){const{serverEntityID:t,isPending:n,isPopulated:r,allFriendsError:i,allFriends:a,homeDetailsError:s,homeUsersError:o,homeUsers:l,invitesError:c,invites:d,sentInvitesError:u,sentInvites:p,signedInUserId:m,guestEnabled:h,isTogglingGuestUser:y,isSignedInUserAdmin:v,isFullUser:f,hasPlexPass:b,onToggleGuestUser:I}=e,S=E0e(d,!0),M=E0e(d,!1),E=E0e(p,!0),P=E0e(p,!1),D=(0,De.Z)(),C=qi.Z.parseBoolean(D.addManagedUser),[w,Z]=(0,g.useState)(C),[T,N]=(0,g.useState)(!1),[O,A]=(0,g.useState)(C),x=(0,g.useCallback)((()=>Z(!0)),[]),j=(0,g.useCallback)((()=>{Z(!0),N(!0)}),[]),L=(0,g.useCallback)((()=>{Z(!0),A(!0)}),[]),k=(0,g.useCallback)((()=>{Z(!1),N(!1),A(!1)}),[]);let R;if(s?R=(0,Ce.Z)("An error occurred retrieving home details. Please try again."):o?R=(0,Ce.Z)("An error occurred retrieving home users. Please try again."):i?R=(0,Ce.Z)("An error occurred retrieving friends. Please try again."):(c||u)&&(R=(0,Ce.Z)("An error occurred retrieving invites. Please try again.")),R)return g.createElement(PK.Z,{title:R});const z=r&&f;return g.createElement(uae,{metricsPage:pt.yV,metricsPane:"users-sharing"},g.createElement(mae,null,(0,Ce.Z)("Users & Sharing")),n&&!r?g.createElement(ZLe,null):null,r?g.createElement("div",{className:"UsersSettingsPage-homeUsersList-34NhZi"},g.createElement(RXe,{title:(0,Ce.Z)("Home Users")},b&&v?g.createElement(cb.Z,{className:y0e,size:Rp.HC,onPress:j},(0,Ce.Z)("Invite Home User")):null,v?g.createElement(fw.Z,{className:y0e,size:Rp.HC,onPress:L},(0,Ce.Z)("Create Managed User")):null,v?g.createElement(fw.Z,{className:y0e,size:Rp.HC,isSpinning:y,isDisabled:y,onPress:I},h?(0,Ce.Z)("Disable Guest"):(0,Ce.Z)("Enable Guest")):null),S.map((e=>g.createElement(ZXe,M0e(M0e({key:e.id},e),{serverEntityID:t,hasOtherHomeUsers:l.length>1,isSignedInUserAdmin:v})))),l.map((e=>g.createElement(g0e,{key:e,serverEntityID:t,homeUserEntityID:e,signedInUserId:m,isSignedInUserAdmin:v,hasOtherHomeUsers:l.length>1}))),v&&!b?g.createElement("div",{className:"UsersSettingsPage-upsell-1fM_YS"},g.createElement(KV.Z,{className:"UsersSettingsPage-upsellMessage-3epfNP",message:(0,Ce.Z)("Adding other Plex users to your home requires a Plex Pass. {openLink}Learn More{closeLink}"),tags:[{open:"openLink",close:"closeLink",component:pw.Z,to:"https://www.plex.tv/plex-pass/",target:"_blank",kind:ic._8}]})):null,E.map((e=>g.createElement(kXe,M0e(M0e({key:e.id},e),{serverEntityID:t}))))):null,z?g.createElement(g.Fragment,null,g.createElement(RXe,{title:(0,Ce.Z)("Friends")},g.createElement(cb.Z,{className:y0e,size:Rp.HC,onPress:x},(0,Ce.Z)("Add A Friend"))),M.map((e=>{const n=e.Server?e.Server.map((e=>M0e(M0e({},e),{owned:!1}))):void 0;return g.createElement(ZXe,M0e(M0e({key:e.id},e),{serverEntityID:t,serverShares:n}))})),a.map((e=>g.createElement(WXe,{key:e,serverEntityID:t,friendEntityID:e}))),P.map((e=>{const n=e.Server?e.Server.map((e=>M0e(M0e({},e),{owned:!0}))):[];return g.createElement(kXe,M0e(M0e({key:e.id},e),{serverEntityID:t,serverShares:n}))}))):null,g.createElement(xm.Z,{metricsProperties:{context:OC.USERS_AND_SHARING},serverEntityID:t,isAddingHomeUser:T,isCreatingManagedUser:O,isOpen:w,onModalClose:k}))};var D0e=Object.defineProperty,C0e=Object.prototype.hasOwnProperty,w0e=Object.getOwnPropertySymbols,Z0e=Object.prototype.propertyIsEnumerable,T0e=(e,t,n)=>t in e?D0e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const N0e=(0,fe.P1)(Oje.Z,jme.Z,((e,t)=>{const n=Object.values(e).find((e=>e.id===t.id));return!(!n||!n.admin)})),O0e=(0,fe.P1)((e=>e.cloudServer),jme.Z,Aje.Z,JJe,N0e,(0,wn.Z)("hasPlexPass"),((e,t,n,r,i,a)=>({serverEntityID:e,isPending:t.isAllFriendsPending||n.isHomeDetailsPending||n.isHomeUsersPending||n.isInvitesPending||n.isSentInvitesPending,isPopulated:t.isAllFriendsPopulated&&n.isHomeDetailsPopulated&&n.isHomeUsersPopulated&&n.isInvitesPopulated&&n.isSentInvitesPopulated,allFriendsError:t.allFriendsError,allFriends:t.allFriends,homeDetailsError:n.homeDetailsError,homeDetails:n.homeDetails,homeUsersError:n.homeUsersError,homeUsers:n.homeUsers,invitesError:n.invitesError,invites:n.invites,sentInvitesError:n.sentInvitesError,sentInvites:n.sentInvites,signedInUserId:t.id,guestEnabled:r.guestEnabled,isTogglingGuestUser:r.isTogglingGuestUser,isSignedInUserAdmin:i,isFullUser:t.isFullUser,hasPlexPass:a}))),A0e={dispatchFetchAllFriends:oN.Tp,dispatchFetchHomeDetails:oN.Dl,dispatchFetchHomeUsers:oN.RY,dispatchFetchInvites:oN.xP,dispatchFetchSentInvites:oN.bc,onToggleGuestUser:oN.yA};class x0e extends g.Component{componentDidMount(){(0,fn.c9)((()=>{this.props.dispatchFetchAllFriends(),this.props.dispatchFetchHomeDetails(),this.props.dispatchFetchHomeUsers(),this.props.dispatchFetchInvites(),this.props.dispatchFetchSentInvites()}))}render(){const e=this.props,{dispatchFetchAllFriends:t,dispatchFetchHomeDetails:n,dispatchFetchHomeUsers:r,dispatchFetchInvites:i,dispatchFetchSentInvites:a}=e,s=((e,t)=>{var n={};for(var r in e)C0e.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&w0e)for(var r of w0e(e))t.indexOf(r)<0&&Z0e.call(e,r)&&(n[r]=e[r]);return n})(e,["dispatchFetchAllFriends","dispatchFetchHomeDetails","dispatchFetchHomeUsers","dispatchFetchInvites","dispatchFetchSentInvites"]);return g.createElement(P0e,((e,t)=>{for(var n in t||(t={}))C0e.call(t,n)&&T0e(e,n,t[n]);if(w0e)for(var n of w0e(t))Z0e.call(t,n)&&T0e(e,n,t[n]);return e})({},s))}}const j0e=(0,v.$j)(O0e,A0e)(x0e);class L0e extends g.Component{constructor(){super(...arguments),this.onTogglePress=e=>{this.props.onToggle(this.props.index)},this.onRemovePress=e=>{this.props.onRemove(this.props.url)},this.onSubmit=e=>{this.props.onSubmit(this.props.url,e.url)}}render(){const{isDirty:e,isOpen:t,isUpdating:n,isRemoving:r,url:i,error:a,onFormChange:s}=this.props,o=n||r;return g.createElement(rse,{isOpen:t,closedNode:g.createElement("div",null,g.createElement(Eae.Z,{className:"WebhookFormSection-label-HXeFa7 FormLabel-label-lDFbdu CloseableFormSection-isPressable-2ogaVI"},(0,Ce.Z)("URL")),i),errorMessage:Mwe(a),onTogglePress:this.onTogglePress},g.createElement(qae.ZP,{onSubmit:this.onSubmit,onChange:s},g.createElement(mw.Z,{focusOnMount:!0,selectTextOnFocus:!0,labelText:(0,Ce.Z)("URL"),isDisabled:o,name:"url",initialValue:i,validations:i?[ULe]:[]}),g.createElement("div",{className:"WebhookFormSection-buttons-2rWtI_"},i?g.createElement(fw.Z,{className:"WebhookFormSection-dangerButton-1Ds8yX",kind:ic.T,isSpinning:r,isDisabled:o,onPress:this.onRemovePress},(0,Ce.Z)("Remove")):null,g.createElement(fw.Z,{className:"WebhookFormSection-button-XA-Z_9",type:"submit",kind:ic._8,isSpinning:n,isDisabled:o||!e},(0,Ce.Z)("Save Changes")))))}}const k0e=Rw(L0e,{isUpdatingPropName:"isUpdating",errorPropName:"error",clearDirtyOnChangePropName:"isOpen"});var R0e=Object.defineProperty,z0e=Object.prototype.hasOwnProperty,U0e=Object.getOwnPropertySymbols,V0e=Object.prototype.propertyIsEnumerable,B0e=(e,t,n)=>t in e?R0e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const F0e=(0,fe.P1)(jme.Z,(e=>({hasPlexSubscription:!!e&&e.hasPlexSubscription}))),_0e=(0,v.$j)(F0e)((function(e){const{hasPlexSubscription:t,origin:n,modalMetricsProperties:r}=e;return t?null:g.createElement(rfe,{origin:n,modalMetricsProperties:r})}));_0e.propTypes=((e,t)=>{for(var n in t||(t={}))z0e.call(t,n)&&B0e(e,n,t[n]);if(U0e)for(var n of U0e(t))V0e.call(t,n)&&B0e(e,n,t[n]);return e})({},_0e.propTypes);const H0e=_0e;function Q0e(e){var t=e["aria-label"],n=e.className,r=e.style,i={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 40 40",id:"plex-icon-marketing-webhooks"};i["aria-hidden"]=!t,i.style=r,i.className=oa.Z.plexIcon+(n?" "+n:"");var a=[g.createElement.apply(g,["path",{d:"M6.665 4.166a.834.834 0 1 1-1.667 0 .834.834 0 0 1 1.667 0zm3.334 0a.834.834 0 1 1-1.668 0 .834.834 0 0 1 1.668 0zm3.333 0a.834.834 0 1 1-1.667 0 .834.834 0 0 1 1.667 0zm2.5 22.498l.001-.002a.834.834 0 0 1 0 1.667H4.168a4.17 4.17 0 0 1-4.166-4.166V4.165A4.17 4.17 0 0 1 4.168-.001h26.664a4.17 4.17 0 0 1 4.166 4.166v13.333a.834.834 0 0 1-1.667 0V8.332H1.667v15.833c0 1.378 1.121 2.5 2.5 2.5h11.665zM4.165 1.666a2.502 2.502 0 0 0-2.5 2.5v2.5H33.33v-2.5c0-1.378-1.12-2.5-2.5-2.5H4.166zm35.418 30.03l.002-.002a.83.83 0 0 1 .305 1.136l-2.499 4.33a.821.821 0 0 1-.506.388.85.85 0 0 1-.633-.085l-1.324-.766a8.668 8.668 0 0 1-1.596.921v1.544c0 .46-.373.834-.834.834h-5a.834.834 0 0 1-.833-.834v-1.536a8.862 8.862 0 0 1-1.62-.924l-1.344.77a.836.836 0 0 1-1.136-.306l-2.5-4.33a.834.834 0 0 1 .305-1.138l1.327-.769a7.67 7.67 0 0 1 0-1.861l-1.325-.766a.832.832 0 0 1-.304-1.139l2.5-4.33a.836.836 0 0 1 1.137-.306l1.34.77a9.048 9.048 0 0 1 1.619-.924V20.83c0-.46.373-.834.833-.834h5c.46 0 .834.373.834.834v1.543a8.84 8.84 0 0 1 1.594.92l1.32-.766a.822.822 0 0 1 .634-.085.837.837 0 0 1 .506.389l2.5 4.33a.834.834 0 0 1-.305 1.138l-1.329.769a8.1 8.1 0 0 1 .002 1.86l1.33.768zm-3.22 3.91v.001l1.665-2.884-1.1-.635a.832.832 0 0 1-.401-.874c.075-.406.113-.815.113-1.215 0-.396-.038-.805-.115-1.215a.83.83 0 0 1 .402-.873l1.098-.635-1.666-2.885-1.085.631a.837.837 0 0 1-.96-.089 7.087 7.087 0 0 0-2.108-1.216.833.833 0 0 1-.542-.781v-1.27h-3.333v1.27a.844.844 0 0 1-.541.785c-.808.3-1.564.731-2.129 1.216a.832.832 0 0 1-.956.09l-1.105-.636-1.67 2.888 1.096.635a.835.835 0 0 1 .402.871c-.08.43-.12.83-.12 1.215.002.408.04.815.117 1.215a.832.832 0 0 1-.404.871l-1.096.635 1.669 2.889 1.11-.636a.831.831 0 0 1 .956.09c.565.486 1.321.916 2.126 1.216.327.12.544.432.544.781v1.27h3.333v-1.27c0-.348.217-.66.544-.781a6.962 6.962 0 0 0 2.106-1.216.837.837 0 0 1 .96-.09l1.09.632zm-6.39-9.774a4.17 4.17 0 0 1 4.166 4.166 4.17 4.17 0 0 1-4.166 4.166 4.17 4.17 0 0 1-4.166-4.166 4.17 4.17 0 0 1 4.166-4.166zm0 6.666c1.379 0 2.5-1.122 2.5-2.5 0-1.379-1.121-2.5-2.5-2.5a2.502 2.502 0 0 0-2.5 2.5c0 1.378 1.122 2.5 2.5 2.5z"}].concat([]))];return t&&a.unshift(g.createElement("title",null,t)),g.createElement.apply(g,["svg",i].concat(a))}Q0e.propTypes={"aria-label":sa().string,className:sa().string,style:sa().object};const G0e=Q0e,W0e=function(e){const{supportPageUrl:t,hasWebhooksFeature:n,addWebHookButton:r}=e;return g.createElement("div",{className:"WebhookSettingsPageInfo-infoContainer-2Ss2xl"},g.createElement(tfe,{iconComponent:G0e,title:(0,Ce.Z)("Webhooks"),text:(0,Ce.Z)('Hooked on home automation? With a Plex Pass, you can setup "webhooks" - Have Plex dim the lights when you start a movie, or send a tweet after you finish an episode of your favourite TV show.'),moreInfo:g.createElement(KV.Z,{message:(0,Ce.Z)("See our {openLinkDocumentation}documentation{closeLinkDocumentation} for example projects that showcase the power of webhooks."),tags:[{open:"openLinkDocumentation",close:"closeLinkDocumentation",component:pw.Z,kind:ic._8,to:t,target:"_blank"}]})},n?r:g.createElement(H0e,{origin:Jve.XA,modalMetricsProperties:{context:"webhooks"}})))};class Y0e extends g.Component{constructor(e,t){super(e,t),this.onToggle=e=>{const t=this.state.openFormSectionIndex===e;this.props.onErrorDismiss(),this.props.onToggle(),this.setState({openFormSectionIndex:t?null:e})},this.onRemove=e=>{this.setState({removeWebhookModalURL:e,isRemoveWebhookModalOpen:!0})},this.onSubmit=(e,t)=>{e===t?(this.setState({openFormSectionIndex:null}),this.props.onToggle()):this.props.onSubmit(e,t)},this.onRemoveWebhookConfirmPress=e=>{const{removeWebhookModalURL:t}=this.state;this.props.onRemove(t)},this.onRemoveWebhookCancelPress=e=>{this.setState({isRemoveWebhookModalOpen:!1})},this.state={openFormSectionIndex:null,isRemoveWebhookModalOpen:!1}}UNSAFE_componentWillReceiveProps(e){!e.isRemovingWebhooks&&this.props.isRemovingWebhooks&&this.setState({openFormSectionIndex:null,isRemoveWebhookModalOpen:!1});const t=e.webhooks===this.props.webhooks?-1:S().findIndex(e.webhooks,(e=>""===e.url)),n=-1!==t,r=!e.isUpdatingWebhooks&&!e.updateWebhooksError&&this.props.isUpdatingWebhooks;n?this.setState({openFormSectionIndex:t}):r&&this.setState({openFormSectionIndex:null})}render(){const{isUserRestricted:e,hasWebhooksFeature:t,isWebhooksPending:n,isWebhooksPopulated:r,webhooksError:i,isUpdatingWebhooks:a,isRemovingWebhooks:s,updateWebhooksError:o,webhooks:l,onAddWebhookPress:c}=this.props,{openFormSectionIndex:d,removeWebhookModalURL:u,isRemoveWebhookModalOpen:p}=this.state;if(e)return g.createElement(PK.Z,{title:(0,Ce.Z)("You're not supposed to be here"),description:(0,Ce.Z)("You don't have access to webhooks settings")});if(t&&n)return g.createElement(CK.Z,null,g.createElement(Mx.Z,null));const m=l&&l.length,h=!t||!m,y=l&&S().find(l,(e=>""===e.url)),v=r&&l&&m<5&&!y,f=g.createElement(cb.Z,{kind:ic._8,onPress:c},(0,Ce.Z)("Add webhook"));return g.createElement(uae,{metricsPage:pt.yV,metricsPane:"webhooks"},h?g.createElement(W0e,{supportPageUrl:iy.uY,hasWebhooksFeature:t,addWebHookButton:f}):g.createElement(g.Fragment,null,g.createElement(mae,null,(0,Ce.Z)("Webhooks")),g.createElement("p",null,(0,Ce.Z)("Plex Media Server will make requests to these webhooks on various media playback events.")),g.createElement("p",null,g.createElement(pw.Z,{kind:ic._8,to:iy.uY,target:"_blank"},(0,Ce.Z)("Learn more"))),l.map(((e,t)=>{const n=d===t;return g.createElement(k0e,{key:t,index:t,url:e.url,isOpen:n,isUpdating:n&&a,isRemoving:n&&s,error:n?o:null,onRemove:this.onRemove,onToggle:this.onToggle,onSubmit:this.onSubmit})})),v?g.createElement("div",{className:"WebhookSettingsPage-buttons-1e3upe"},f):null),i?g.createElement("div",{className:"WebhookSettingsPage-error-1DAgKn"},(0,Ce.Z)("An error occurred retrieving webhooks. Please try again.")):null,g.createElement(yt.Z,{isConfirmButtonSpinning:s,isCancelButtonDisabled:s,isOpen:p,metricsPage:pt.yF,title:(0,Ce.Z)("Remove Webhook"),message:(0,Ce.Z)("Plex will no longer post updates to {url}.",{url:u}),confirmLabel:(0,Ce.Z)("Remove"),kind:ic.T,onConfirm:this.onRemoveWebhookConfirmPress,onCancel:this.onRemoveWebhookCancelPress}))}}const K0e=Y0e;var q0e=Object.defineProperty,$0e=Object.prototype.hasOwnProperty,J0e=Object.getOwnPropertySymbols,X0e=Object.prototype.propertyIsEnumerable,e1e=(e,t,n)=>t in e?q0e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const t1e=(0,fe.P1)(Aje.Z,(0,ob.Z)(bn.XA),((e,t)=>({isUserRestricted:!!e.restricted,webhooks:e.webhooks,isWebhooksPending:e.isWebhooksPending,isWebhooksPopulated:e.isWebhooksPopulated,webhooksError:e.webhooksError,isUpdatingWebhooks:e.isUpdatingWebhooks,isRemovingWebhooks:e.isRemovingWebhooks,updateWebhooksError:e.updateWebhooksError,hasWebhooksFeature:t}))),n1e={dispatchFetchWebhooks:oN.HL,onAddWebhookPress:()=>(0,oN.U_)(),onErrorDismiss:oN.K2,onRemove:e=>(0,oN.dL)(e),onSubmit:(e,t)=>(0,oN.EL)({oldUrl:e,newUrl:t}),onToggle:()=>(0,oN.dL)("")};class r1e extends g.Component{componentDidMount(){this.props.hasWebhooksFeature&&(0,fn.c9)((()=>{this.props.dispatchFetchWebhooks()})),this.props.onErrorDismiss()}render(){const e=this.props,{dispatchFetchWebhooks:t}=e,n=((e,t)=>{var n={};for(var r in e)$0e.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&J0e)for(var r of J0e(e))t.indexOf(r)<0&&X0e.call(e,r)&&(n[r]=e[r]);return n})(e,["dispatchFetchWebhooks"]);return g.createElement(K0e,((e,t)=>{for(var n in t||(t={}))$0e.call(t,n)&&e1e(e,n,t[n]);if(J0e)for(var n of J0e(t))X0e.call(t,n)&&e1e(e,n,t[n]);return e})({},n))}}const i1e=(0,v.$j)(t1e,n1e)(r1e);var a1e=n(12304);const s1e=function(){return j1("playQueue")},o1e=function(e=0){return(0,fe.P1)(s1e(),XI.Z,((t,n)=>{const r=t?t.playQueueItems:[];if(r.length){const i=t.currentIndex;let a=i+e;t.repeat&&(a=function(e,t,n){return(e+t%n+n)%n}(i,e,t.length));const s=r[a];return s&&n[s]}}))},l1e=function(){return(0,fe.P1)(j1("currentDecision"),o1e(),((e,t)=>{const n=e;if(n&&n.playQueueItemID===t.playQueueItemID)return n}))},c1e="commercial",d1e="intro",u1e=function(e=0){return(0,fe.P1)(o1e(e),sx.Z,((e,t)=>{if(e&&e.metadataItem)return t[e.metadataItem]}))};const p1e=(0,fe.P1)(uAe.Z,(e=>e.debugAdKind));function m1e(e=0){return(0,fe.P1)(o1e(e),sx.Z,((e,t)=>{if(e)return t[e.metadataItem]}))}const h1e=(0,fe.P1)(BVe(),(e=>!(!e||!Fo.wB((0,Ho.Z)(e.identifier,e.providerIdentifier),[Fo.vP,Fo.Ll]))));function g1e(){return(0,fe.P1)(h1e,m1e(),B1(),l1e(),((e,t,n,r)=>{let i;return e?i=n:r&&(i=t.Media[r.mediaIndex]),i||null}))}var y1e=n(40111);const v1e=(0,g.createContext)(),f1e="UPDATE_POSITION_MILLISECONDS",b1e="RESET_POSITION_MILLISECONDS",I1e=(0,bc.Z)(f1e),S1e=(0,bc.Z)(b1e);function M1e(e,{type:t,payload:n}){switch(t){case f1e:return n;case b1e:return 0;default:return e}}var E1e=Object.defineProperty,P1e=Object.prototype.hasOwnProperty,D1e=Object.getOwnPropertySymbols,C1e=Object.prototype.propertyIsEnumerable,w1e=(e,t,n)=>t in e?E1e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Z1e=(e,t)=>{for(var n in t||(t={}))P1e.call(t,n)&&w1e(e,n,t[n]);if(D1e)for(var n of D1e(t))C1e.call(t,n)&&w1e(e,n,t[n]);return e};const T1e=function(e){var t;const n={dispatchUpdatePositionMilliseconds:I1e,dispatchResetPositionMilliseconds:S1e};return(0,v.$j)(null,n,null,{context:v1e})(((t=class extends g.Component{constructor(){super(...arguments),this.onPositionMillisecondsChange=e=>{this.props.dispatchUpdatePositionMilliseconds(e)}}shouldComponentUpdate(e,t){return(0,At.Z)(this,e,t)}componentWillUnmount(){this.props.dispatchResetPositionMilliseconds()}render(){const t=this.props,{dispatchUpdatePositionMilliseconds:n,dispatchResetPositionMilliseconds:r}=t,i=((e,t)=>{var n={};for(var r in e)P1e.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&D1e)for(var r of D1e(e))t.indexOf(r)<0&&C1e.call(e,r)&&(n[r]=e[r]);return n})(t,["dispatchUpdatePositionMilliseconds","dispatchResetPositionMilliseconds"]);return g.createElement(e,Z1e(Z1e({},i),{onPositionMillisecondsChange:this.onPositionMillisecondsChange}))}}).displayName=`PositionMillisecondsMonitor(${(0,Nw.Z)(e)})`,t.WrappedComponent=e,t.propTypes={dispatchUpdatePositionMilliseconds:sa().func.isRequired,dispatchResetPositionMilliseconds:sa().func.isRequired},t))};function N1e(){return(0,fe.P1)(Sj,j1("playbackSpeed"),u1e(),((e,t,n)=>e?1:t||n&&n.playbackSpeed||1))}function O1e(e){const t=e.remotePlayer;return t?t.volume:(0,b.DB)("selectLocalVolume")(e)}var A1e=n(70468);const x1e=function(){return(0,fe.P1)(j1("mediaIndex"),o1e(),sx.Z,((e=0,t,n)=>{if(!t||!t.metadataItem)return;const{Media:r}=n[t.metadataItem];return r[e]}))},j1e=function(){return(0,fe.P1)(j1("partIndex"),x1e(),((e=0,t)=>{if(t)return t.Part[e]}))},L1e=function(){return(0,fe.P1)(j1e(),(e=>{if(!e)return{videoStreams:[],selectedVideoStream:null,audioStreams:[],selectedAudioStream:null,subtitlesStreams:[],selectedSubtitlesStream:null};const t=Yj.Z.get("video").id,n=Yj.Z.get("audio").id,r=Yj.Z.get("subtitles").id,i=e.Stream.filter((e=>e.streamType===t)),a=e.Stream.filter((e=>e.streamType===n)),s=e.Stream.filter((e=>e.streamType===r)),o=i[0],l=a.find((e=>e.selected)),c=s.find((e=>e.selected));return{videoStreams:i,selectedVideoStream:o,audioStreams:a,selectedAudioStream:l,subtitlesStreams:s,selectedSubtitlesStream:c}}))};function k1e(){return(0,fe.P1)(h1e,m1e(),V1(),((e,t,n)=>e?n:t))}const R1e=function(){return(0,fe.P1)(j1("serverEntityID"),l1e(),be.Z,((e,t,n)=>t&&t.transcodeServerEntityID?n[t.transcodeServerEntityID]:e?n[e]:void 0))};var z1e=n(17626),U1e=n(79557);var V1e=Object.defineProperty,B1e=Object.prototype.hasOwnProperty,F1e=Object.getOwnPropertySymbols,_1e=Object.prototype.propertyIsEnumerable,H1e=(e,t,n)=>t in e?V1e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Q1e=(e,t)=>{for(var n in t||(t={}))B1e.call(t,n)&&H1e(e,n,t[n]);if(F1e)for(var n of F1e(t))_1e.call(t,n)&&H1e(e,n,t[n]);return e};class G1e extends g.Component{constructor(e,t){super(e,t),this._mediaComponent=(0,b.DB)("mediaComponent")}render(){const e=this.props,{isDecisionPending:t,isDecisionDirectPlay:n,isDecisionDirectStreamAudio:r,isDecisionDirectStreamVideo:i,isLibraryProvider:a,hasStreamProtocol:s,isPaused:o,isAdVisible:l,decisionUrl:c,decisionProtocol:d,decisionError:u,decisionDrm:p,decisionCertificate:m,decisionLicense:h,media:y,mediaType:v,mediaSubtype:f,placement:b,shouldCoverWhenDecisionPending:I}=e,S=((e,t)=>{var n={};for(var r in e)B1e.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&F1e)for(var r of F1e(e))t.indexOf(r)<0&&_1e.call(e,r)&&(n[r]=e[r]);return n})(e,["isDecisionPending","isDecisionDirectPlay","isDecisionDirectStreamAudio","isDecisionDirectStreamVideo","isLibraryProvider","hasStreamProtocol","isPaused","isAdVisible","decisionUrl","decisionProtocol","decisionError","decisionDrm","decisionCertificate","decisionLicense","media","mediaType","mediaSubtype","placement","shouldCoverWhenDecisionPending"]);if(t)return I?g.createElement("div",{className:"PlayerMedia-isDecisionPending-3Zs8mC"}):null;const M=this._mediaComponent.getComponent({drm:p,protocol:d,isDirectPlay:n,isDirectStreamAudio:r,isDirectStreamVideo:i,isLibraryProvider:a,hasStreamProtocol:s,media:y}),E=v===Al.j0?U1e.Hn:b;return g.createElement(g.Suspense,{fallback:null},g.createElement(M,Q1e(Q1e({},S),{key:c,src:c,paused:o||l,placement:E,media:y,mediaType:v,mediaSubtype:f,drm:p,license:h,certificate:m,isDecisionDirectPlay:n,isDecisionDirectStreamAudio:r,isDecisionDirectStreamVideo:i})))}}const W1e=G1e;var Y1e=Object.defineProperty,K1e=Object.prototype.hasOwnProperty,q1e=Object.getOwnPropertySymbols,$1e=Object.prototype.propertyIsEnumerable,J1e=(e,t,n)=>t in e?Y1e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,X1e=(e,t)=>{for(var n in t||(t={}))K1e.call(t,n)&&J1e(e,n,t[n]);if(q1e)for(var n of q1e(t))$1e.call(t,n)&&J1e(e,n,t[n]);return e};function e4e(e){const{playerType:t,mediaType:n,mediaSubtype:r,durationSeconds:i,minSecondsForPostPlay:a}=e;return n===Al.pX&&r!==wc.MUSIC_VIDEO&&t===Se.Se&&i>=a||e.displayPostplay}const t4e={dispatchMakeDecision:A1e.bY,dispatchMakeNextDecision:A1e.kG,dispatchRemoveDecision:A1e.Td,dispatchRetryDecision:A1e.Mf,dispatchUpdatePlayerDuration:a1e.qr,dispatchUpdatePlayerPosition:a1e.lj,dispatchUpdatePlayerSeekRange:a1e.uZ,dispatchUpdatePlayerBuffering:a1e.n9,dispatchPause:a1e.wO,dispatchPlay:a1e.hY,dispatchUpdatePlayerError:a1e.IE,dispatchSendTimeline:a1e.$E,dispatchTickPlayer:a1e.fp,dispatchShowPostPlay:Rj.HI,dispatchPlayNextItem:Rj.o1,dispatchEndPlayback:vt.Mh,dispatchSetMetricsPlayer:vt.Kq,dispatchUpdateMediaDimensions:a1e.bb,dispatchUpdateCanPlayThrough:a1e.mh};class n4e extends g.Component{constructor(e,t){super(e,t),this.onDurationMillisecondsChange=e=>{this.props.dispatchUpdatePlayerDuration({playerType:this.props.playerType,durationMilliseconds:e})},this.onPositionMillisecondsChange=e=>{const{playerType:t,dispatchUpdatePlayerPosition:n,onPositionMillisecondsChange:r}=this.props,i=Math.floor(e/1e3);r&&r(e),i!==this.props.positionSeconds&&n({playerType:t,positionSeconds:i})},this.onTick=e=>{const{metadataItemEntityID:t,liveTVSessionEntityID:n,mediaItemID:r,playerType:i,dispatchTickPlayer:a}=this.props;t&&r&&a({metadataItemEntityID:t,liveTVSessionEntityID:n,mediaItemID:r,playerType:i,secondsElapsed:e})},this.onBufferingChange=e=>{this.props.dispatchUpdatePlayerBuffering({playerType:this.props.playerType,isBuffering:e})},this.onPause=()=>{this.props.isAdVisible||this.props.dispatchPause({playerType:this.props.playerType,isApplicationInitiated:!0})},this.onPlay=()=>{this.props.isAdVisible||this.props.dispatchPlay({playerType:this.props.playerType,isApplicationInitiated:!0})},this.onStreamChange=()=>{const{playerType:e,playQueueItemEntityID:t,positionSeconds:n,liveTVPositionSeconds:r,qualityIndex:i,decisionMediaIndex:a,decisionPartIndex:s,dispatchMakeDecision:o,dispatchRemoveDecision:l}=this.props;l({playerType:e,playQueueItemEntityID:t}),o({playerType:e,playQueueItemEntityID:t,mediaIndex:a,partIndex:s,qualityIndex:i,options:{offset:null!=r?1e3*r:1e3*n}})},this.onMetricsPlayerChange=e=>{const{playerType:t,dispatchSetMetricsPlayer:n}=this.props;n({playerType:t,metricsPlayer:e})},this.onError=(e={})=>{const{code:t,category:n,message:r}=e,{playerType:i,isDecisionDirectPlay:a,isDecisionDirectStreamVideo:s,isDecisionDirectStreamAudio:o,canTranscodeServerTranscode:l,dispatchUpdatePlayerError:c}=this.props;a&&l?(M.Z.warn("[Player] Direct Play failed, but server can transcode. Attempting to fallback to either Direct Stream or transcode..."),this._itemRestarting(this.props,{allowDirectPlay:!1})):s&&l?(M.Z.warn("[Player] Direct Stream failed, but server can transcode. Attempting to fallback to video transcode..."),this._itemRestarting(this.props,{allowDirectPlay:!1,transcoderOptions:{directStream:0}})):o&&l?(M.Z.warn("[Player] Video transcode failed. Attempting to fallback to video and audio transcode..."),this._itemRestarting(this.props,{allowDirectPlay:!1,transcoderOptions:{directStream:0,directStreamAudio:0}})):(this.onPause(),c({playerType:i,errorCode:t,errorCategory:n,errorMessage:r}))},this.onEnd=()=>{const{playerType:e,playQueueItemEntityID:t,qualityIndex:n,repeatOne:r,repeatAll:i,isLastPlayQueueItem:a,totalCount:s,decisionMediaIndex:o,decisionPartIndex:l,decisionPartCount:c,dispatchMakeDecision:d,dispatchRemoveDecision:u,dispatchShowPostPlay:p,dispatchPlayNextItem:m,dispatchEndPlayback:h}=this.props,g=r||i&&1===s;l+1<c?(u({playerType:e,playQueueItemEntityID:t}),d({playerType:e,playQueueItemEntityID:t,qualityIndex:n,mediaIndex:o,partIndex:l+1,options:{offset:0}})):g?(u({playerType:e,playQueueItemEntityID:t}),d({playerType:e,playQueueItemEntityID:t,qualityIndex:n,mediaIndex:o,partIndex:0,options:{offset:0}})):!a||i?e4e(this.props)?p({playerType:e}):m({playerType:e,isApplicationInitiated:!0}):h({playerType:e})},this.onIntrinsicDimensions=({width:e,height:t})=>{const{playerType:n,dispatchUpdateMediaDimensions:r}=this.props;(0,M.Z)(`[Player] Media resized: ${e}x${t} (${e/t})`),r({playerType:n,width:e,height:t})},this.onCanPlayThrough=e=>{const{playerType:t,dispatchUpdateCanPlayThrough:n}=this.props;n({playerType:t,canPlayThrough:e})},this._hasRefreshedPlayQueue=!1,this._shouldStopOnUnmount=!1}componentDidMount(){this._itemStarting(this.props),this.props.mediaType===Al.pV&&this._itemProgressing(this.props)}componentDidUpdate(e){const{playQueueItemEntityID:t,mediaItemID:n,playerType:r,mediaType:i,isDecisionPending:a,isPaused:s,isBuffering:o,hasError:l,positionSeconds:c,durationSeconds:d,preFetchSeconds:u,qualityIndex:p,dispatchMakeNextDecision:m,liveTVPositionSeconds:h,isLiveTV:g}=this.props,y=e.mediaItemID,v=g?!(!n||!y||n===y):t!==e.playQueueItemEntityID,f=a!==e.isDecisionPending,b=p!==e.qualityIndex,I=s!==e.isPaused,S=o!==e.isBuffering,M=l!==e.hasError,E=d!==e.durationSeconds;if(!b||v||f){if(v)return this._hasRefreshedPlayQueue=!1,this._hasPreFetched=!1,this._itemStopping(e,{removeDecision:!g}),this._itemStarting(this.props),void(i===Al.pV&&(this._itemProgressing(this.props,{shouldRefreshPlayQueue:!0}),this._hasRefreshedPlayQueue=!0));!this._hasPreFetched&&d>0&&d-c<u&&!e4e(this.props)&&(this._hasPreFetched=!0,m({playerType:r})),!f&&(!this._hasRefreshedPlayQueue||I||S||M||E)&&(this._itemProgressing(this.props,{shouldRefreshPlayQueue:!this._hasRefreshedPlayQueue}),this._hasRefreshedPlayQueue=!0)}else{const e=null!=h?1e3*h:1e3*c;this._itemRestarting(this.props,{offset:e})}}componentWillUnmount(){!this.props.shouldSuppressStopOnUnmount&&this._shouldStopOnUnmount&&this._itemStopping(this.props,{continuing:!1}),this.props.onPositionMillisecondsChange&&this.props.onPositionMillisecondsChange(0)}_itemStarting(e){const{mediaType:t,playerType:n,playQueueItemEntityID:r,qualityIndex:i}=e;t!==Al.pV&&e.dispatchMakeDecision({playerType:n,playQueueItemEntityID:r,qualityIndex:i})}_itemRestarting(e,t={}){const{mediaType:n,playerType:r}=e;n!==Al.pV&&e.dispatchRetryDecision({playerType:r,decisionOptions:t})}_itemProgressing(e,{shouldRefreshPlayQueue:t=!1}={}){const{playerType:n,mediaType:r,providerEntityID:i,playQueueItemEntityID:a,metadataItemEntityID:s,mediaItemID:o,playbackTime:l,positionSeconds:c,durationSeconds:d,isPaused:u,decisionMediaIndex:p,decisionPartIndex:m,decisionPartCount:h,dispatchSendTimeline:g,liveTVSessionEntityID:y}=e,v=r===Al.pV,f=u&&!v?z1e.rf:z1e.Z$;g({playerType:n,providerEntityID:i,playQueueItemEntityID:a,metadataItemEntityID:s,liveTVSessionEntityID:y,mediaItemID:o,shouldRefreshPlayQueue:t,options:v?{state:f}:{playbackSessionID:e.playbackSessionID,playbackTime:l,positionSeconds:c,durationSeconds:d,mediaIndex:p,partIndex:m,partCount:h}}),this._shouldStopOnUnmount=!0}_itemStopping(e,{continuing:t=!0,removeDecision:n=!0}={}){e.dispatchSendTimeline({playerType:e.playerType,providerEntityID:e.providerEntityID,playQueueItemEntityID:e.playQueueItemEntityID,metadataItemEntityID:e.metadataItemEntityID,liveTVSessionEntityID:e.liveTVSessionEntityID,mediaItemID:e.mediaItemID,options:{state:z1e.il,continuing:t,playbackSessionID:e.playbackSessionID,playbackTime:e.playbackTime,positionSeconds:e.positionSeconds,durationSeconds:e.durationSeconds,mediaIndex:e.decisionMediaIndex,partIndex:e.decisionPartIndex,partCount:e.decisionPartCount}}),n&&e.mediaType!==Al.pV&&e.dispatchRemoveDecision({playerType:e.playerType,playQueueItemEntityID:e.playQueueItemEntityID}),this._shouldStopOnUnmount=!1}render(){const e=this.props,{preFetchSeconds:t,minSecondsForPostPlay:n,repeatOne:r,repeatAll:i,totalCount:a,isLastPlayQueueItem:s,isAdVisible:o,shouldSuppressStopOnUnmount:l,canTranscodeServerTranscode:c,qualityIndex:d,decisionMediaIndex:u,decisionPartIndex:p,decisionPartCount:m,dispatchMakeDecision:h,dispatchRemoveDecision:y,dispatchUpdatePlayerDuration:v,dispatchUpdatePlayerPosition:f,dispatchUpdatePlayerSeekRange:b,dispatchUpdatePlayerBuffering:I,dispatchPause:S,dispatchUpdatePlayerError:M,dispatchTickPlayer:E,dispatchShowPostPlay:P,dispatchPlayNextItem:D,dispatchEndPlayback:C,dispatchSetMetricsPlayer:w,dispatchUpdateMediaDimensions:Z,dispatchUpdateCanPlayThrough:T}=e,N=((e,t)=>{var n={};for(var r in e)K1e.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&q1e)for(var r of q1e(e))t.indexOf(r)<0&&$1e.call(e,r)&&(n[r]=e[r]);return n})(e,["preFetchSeconds","minSecondsForPostPlay","repeatOne","repeatAll","totalCount","isLastPlayQueueItem","isAdVisible","shouldSuppressStopOnUnmount","canTranscodeServerTranscode","qualityIndex","decisionMediaIndex","decisionPartIndex","decisionPartCount","dispatchMakeDecision","dispatchRemoveDecision","dispatchUpdatePlayerDuration","dispatchUpdatePlayerPosition","dispatchUpdatePlayerSeekRange","dispatchUpdatePlayerBuffering","dispatchPause","dispatchUpdatePlayerError","dispatchTickPlayer","dispatchShowPostPlay","dispatchPlayNextItem","dispatchEndPlayback","dispatchSetMetricsPlayer","dispatchUpdateMediaDimensions","dispatchUpdateCanPlayThrough"]);return o&&!ae.Z.allowAdsOverMedia?null:g.createElement(W1e,X1e(X1e({},N),{isAdVisible:o,onMetricsPlayerChange:this.onMetricsPlayerChange,onDurationMillisecondsChange:this.onDurationMillisecondsChange,onPositionMillisecondsChange:this.onPositionMillisecondsChange,onTick:this.onTick,onBufferingChange:this.onBufferingChange,onStreamChange:this.onStreamChange,onError:this.onError,onEnd:this.onEnd,onPause:this.onPause,onPlay:this.onPlay,onIntrinsicDimensions:this.onIntrinsicDimensions,onCanPlayThrough:this.onCanPlayThrough}))}}n4e.defaultProps={preFetchSeconds:10,minSecondsForPostPlay:300,shouldSuppressStopOnUnmount:!1};const r4e=(0,v.$j)((function(){return(0,fe.P1)(function(e=0){return(0,fe.P1)(o1e(e),sx.Z,Cn.Z,((e,t,n)=>{if(!e||!e.metadataItem)return;const r=t[e.metadataItem];return r&&n[r.providerEntityID]}))}(),x1(),l1e(),R1e(),o1e(),o1e(1),k1e(),g1e(),L1e(),k1(),(0,fe.P1)((0,b.DB)("selectRemoteQuality"),(e=>{let t=Qj.Z.getQualityByIndex(e).bitrate;return null==t&&(t=2e5),1e3*t})),((e,t,n,r,i,a,s,o,l,c,d)=>{const u=t.playQueue,p=u.playQueueSelectedItemOffset,m=i.entityID,h=!a||p+1===u.length,g={providerEntityID:t.providerEntityID,mediaItemID:null==o?void 0:o.id,metadataItemEntityID:null==s?void 0:s.entityID,playQueueItemEntityID:m,liveTVSessionEntityID:null==c?void 0:c.entityID,isDecisionPending:!n,isPaused:t.isPaused,isBuffering:t.isBuffering,hasError:t.hasError,repeatOne:t.repeatOne,repeatAll:t.repeatAll,totalCount:u.length,isLastPlayQueueItem:h,displayPostplay:i.displayPostPlay,playbackTime:t.itemPlaybackTime,positionSeconds:t.positionSeconds,durationSeconds:t.durationSeconds,playbackSessionID:t.playbackSessionID,lastSeekPositionSeconds:t.lastSeekPositionSeconds,videoStreams:l.videoStreams,videoStream:l.selectedVideoStream,audioStreams:l.audioStreams,audioStream:l.selectedAudioStream,subtitlesStreams:l.subtitlesStreams,subtitleStream:l.selectedSubtitlesStream,isStreamChangeInProgress:null==s?void 0:s.isStreamChangeInProgress,bufferingDetectionLimit:ae.Z.bufferingDetectionLimit};if(c){const e=3===t.confirmLocalToRemote;Object.assign(g,function(e){if(!e)return{};const t=e.captureBuffer,n={liveTVSessionSubscriptionKey:e.key,liveTVSessionChannelIdentifier:e.channelIdentifier,liveTVSessionCurrentPosition:e.currentPosition,liveTVSessionStartedAt:e.startedAt};if(t){const r=t.startedAt,i=e.startedAt,a=r||i;Object.assign(n,{liveTVPositionSeconds:e.currentPosition-a,liveTVSessionSeekRangeStartedAt:t.startedAt,liveTVSessionSeekStartSeconds:t.seekStartSeconds,liveTVSessionSeekEndSeconds:t.seekEndSeconds})}return n}(c),{shouldSuppressStopOnUnmount:e,isLiveTV:!0})}return n&&(g.decisionMediaIndex=n.mediaIndex,g.decisionPartIndex=n.partIndex,g.decisionPartCount=n.partCount,g.decisionUrl=n.url,g.decisionProtocol=n.protocol,g.decisionError=n.error,g.isDecisionDirectPlay=n.isDirectPlay,g.isDecisionDirectStreamVideo=n.canDirectStreamVideo,g.isDecisionDirectStreamAudio=n.canDirectStreamAudio,g.canTranscodeServerTranscode=!r.isCloud&&(0,lb.Z)(r.version,ib.Z.decisionEndpoint),n.playbackSessionID&&(g.playbackSessionID=n.playbackSessionID),g.hasBurnedSubtitles=l.selectedSubtitlesStream&&l.selectedSubtitlesStream.id!==_j.H&&!n.subtitlesUrl,g.decisionDrm=n.drm,g.decisionLicense=n.license,g.decisionCertificate=n.certificate),!g.isDecisionDirectPlay||"dash"!==g.decisionProtocol&&"hls"!==g.decisionProtocol||(g.bufferingGoal=10,g.defaultBandwidthEstimate=d),e&&(g.isLibraryProvider=e.isLibraryProvider,g.hasStreamProtocol=e.protocols.includes("stream")),g}))}),t4e,(function(e,t,n){const r=t;return X1e(X1e(X1e({},n),e),r)}))(n4e),i4e=(0,v.$j)((function(){return(0,fe.P1)(j1("qualityIndex"),na.Z,O1e,N1e(),(0,fe.P1)(((e,{mediaType:t})=>t),j1("openState"),((e,t)=>e===Al.pX&&t===Fj.K)),((e,t,n,r,i)=>({qualityIndex:e,subtitleSize:t.subtitleSize,volume:n,playbackSpeed:r,shouldCoverWhenDecisionPending:i})))}))(r4e);var a4e=Object.defineProperty,s4e=Object.prototype.hasOwnProperty,o4e=Object.getOwnPropertySymbols,l4e=Object.prototype.propertyIsEnumerable,c4e=(e,t,n)=>t in e?a4e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,d4e=(e,t)=>{for(var n in t||(t={}))s4e.call(t,n)&&c4e(e,n,t[n]);if(o4e)for(var n of o4e(t))l4e.call(t,n)&&c4e(e,n,t[n]);return e};const u4e=T1e((function(e){return g.createElement(i4e,d4e(d4e({},e),{type:"audio",allowRecycleElement:!0}))})),p4e=function(e,t){return(0,UA.Z)((0,fe.P1)((e=>e.ui),((e,{playerType:t})=>t),((n,r=t)=>{const i=r+"Player";return n[i]?S().pick(n[i],e):{}})),(e=>e))};function m4e(){return(0,fe.P1)(be.Z,j1("serverEntityID"),((e,t)=>e[t]))}var h4e=n(22093),g4e=n(18206);const y4e="direct",v4e="copy",f4e="transcode";var b4e=n(1997),I4e=n(66729);function S4e(e,t){let n=e/t;return n=Math.round(n),n*=t,n}function M4e(e){if(null==e)return;const t=Math.round(e/1e3);let n;return n=t>=3600?300:60,S4e(t,n)}var E4e=Object.defineProperty,P4e=Object.prototype.hasOwnProperty,D4e=Object.getOwnPropertySymbols,C4e=Object.prototype.propertyIsEnumerable,w4e=(e,t,n)=>t in e?E4e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Z4e=(e,t)=>{for(var n in t||(t={}))P4e.call(t,n)&&w4e(e,n,t[n]);if(D4e)for(var n of D4e(t))C4e.call(t,n)&&w4e(e,n,t[n]);return e};const T4e="unknown",N4e={dispatchSetPlayerItemPlaybackTime:a1e.Pn,dispatchSetPlayerSessionPlaybackTime:a1e.ZI};class O4e extends g.Component{constructor(e,t){super(e,t),this.onTickTimeout=()=>{this.flushPlaybackTimes(),this.setTickTimeout(this.props)},this.itemID=null,this.itemDecision=null,this.itemMetricsProperties=null,this.itemPlaybackTimestamp=null,this.itemPlaybackMilliseconds=0,this.sessionPlaybackMilliseconds=0,this.sessionPlaybackCount=0,this.sessionAdPlaybackStartTime=0,this.hasError=!1,this.hasEnded=!1,this.hasStopped=!1,this._tickTimeout=null}componentDidMount(){this.update()}componentDidUpdate(e){this.update(e)}componentWillUnmount(){this.hasStopped=!0,this.trackItemEnd(),this.trackSessionEnd(),this.clearTickTimeout()}clearTickTimeout(){this._tickTimeout&&(this._tickTimeout=window.clearTimeout(this._tickTimeout))}setTickTimeout(e){e.isPlaying&&(this.clearTickTimeout(),this.itemPlaybackTimestamp=Date.now(),this._tickTimeout=window.setTimeout(this.onTickTimeout,1e3))}update(e={}){const{itemID:t,decision:n,isRemotePlayer:r,isAdVisible:i,isPlaying:a,hasError:s,metricsType:o,metricsPlayer:l}=this.props,{isPlaying:c}=e;if(a&&!c?this.setTickTimeout(this.props):!a&&c&&this.clearTickTimeout(),r)return void(e.isRemotePlayer||(this.trackItemEnd(),this.trackSessionEnd()));!this.hasError&&s&&(this.hasError=!0,this.trackFailure()),this.itemID&&(this.itemID===t?this.updateCurrentItem():this.trackItemEnd());const d=!this.itemID&&!this.hasError&&t&&l&&(n||o===Ac.PHOTO);d&&i&&!a&&!this.sessionAdPlaybackStartTime&&(this.sessionAdPlaybackStartTime=Date.now()),d&&a&&this.trackItemStart()}updateCurrentItem(){const{decision:e,isPlaying:t,hasEnded:n}=this.props;if(t?(this.itemPlaybackTimestamp||(this.itemPlaybackTimestamp=Date.now()),this.hasEnded=n):this.flushPlaybackTimes(),this.itemDecision&&e&&this.itemDecision!==e){let t;if(this.itemDecision.qualityIndex!==e.qualityIndex?t="quality":this.itemDecision.partIndex===e.partIndex&&(t="streams"),t){const e=this.itemMetricsProperties.offset;this.trackItemRestart(t),this.itemMetricsProperties.offset=e}}}getItemMetricsProperties(){const e={serverType:this.props.metricsServerType,connectionType:this.props.metricsConnectionType,type:this.props.metricsType,identifier:this.props.metricsIdentifier,page:this.props.metricsPage,contextTuple:this.props.metricsContextTuple,setting:this.props.metricsSetting,auto:this.props.metricsAutoPlay,protocol:this.props.metricsProtocol,offset:this.props.metricsOffset,container:this.props.metricsContainer,duration:this.props.metricsDuration,bitrate:this.props.metricsBitrate,origin:this.props.metricsOrigin,audioCodec:this.props.metricsAudioCodec,audioDecision:this.props.metricsAudioDecision,videoCodec:this.props.metricsVideoCodec,videoDecision:this.props.metricsVideoDecision,subtitleFormat:this.props.metricsSubtitleFormat,subtitleDecision:this.props.metricsSubtitleDecision,player:this.props.metricsPlayer,mode:this.props.metricsMode};return this.props.isLiveTV&&this.props.isCloudServer&&(e.guid=this.props.metricsGUID,e.group=this.props.metricsGroup,e.title=this.props.metricsTitle,e.publishedAt=this.props.metricsPublishedAt,e.containedId=this.props.metricsContainerID),e}flushPlaybackTimes(){if(!this.itemPlaybackTimestamp)return;const e=Date.now()-this.itemPlaybackTimestamp;this.itemPlaybackTimestamp=null,this.itemPlaybackMilliseconds+=e,this.sessionPlaybackMilliseconds+=e,this.setPlayerItemPlaybackTime(),this.setPlayerSessionPlaybackTime(),(0,b.DB)("metrics").addPlaybackTime(e)}trackItemStart(){this.itemID=this.props.itemID,this.itemDecision=this.props.decision,this.itemMetricsProperties=this.getItemMetricsProperties(),this.itemPlaybackTimestamp=Date.now(),this.itemPlaybackMilliseconds=0,this.sessionPlaybackCount+=1,this.hasEnded=this.props.hasEnded,this.hasError=this.props.hasError;const e=this.props.playbackStartTime,t=Z4e({},this.itemMetricsProperties);if(e>0&&1===this.sessionPlaybackCount){const n=this.sessionAdPlaybackStartTime||Date.now();t.latency=n-e}this.props.syncplaySessionRoomID&&(t.format="watch-together",t.playbackSessionId=this.props.syncplaySessionRoomID),(0,b.DB)("metrics").trackEvent({event:mz.cn,interaction:!0,properties:t}),(0,b.DB)("metrics").incrementPlaybackCount(),this.setTickTimeout(this.props)}trackItemRestart(e){this.itemDecision=this.props.decision,this.itemMetricsProperties=this.getItemMetricsProperties(),(0,b.DB)("metrics").trackEvent({event:mz.gS,interaction:!0,properties:Z4e(Z4e({},this.itemMetricsProperties),{reason:e})})}trackItemEnd(){if(!this.itemID)return;let e;this.flushPlaybackTimes(),this.clearTickTimeout(),e=this.props.isRemotePlayer?"cast":this.hasError?"failed":this.hasEnded?"completed":this.hasStopped?"stopped":"skipped";const t=Z4e(Z4e({},this.itemMetricsProperties),{playbackTime:M4e(this.itemPlaybackMilliseconds),status:e});this.props.syncplaySessionRoomID&&(t.format="watch-together",t.playbackSessionId=this.props.syncplaySessionRoomID),(0,b.DB)("metrics").trackEvent({event:mz.C7,interaction:!0,properties:t}),this.itemID=null,this.itemDecision=null,this.itemMetricsProperties=null,this.itemPlaybackTimestamp=null,this.itemPlaybackMilliseconds=0,this.hasError=!1,this.hasEnded=!1}trackSessionEnd(){this.sessionPlaybackCount&&(this.flushPlaybackTimes(),(0,b.DB)("metrics").trackEvent({event:mz.hx,interaction:!0,properties:{serverType:this.props.metricsServerType,connectionType:this.props.metricsConnectionType,type:this.props.metricsType,playbackCount:this.sessionPlaybackCount,playbackTime:M4e(this.sessionPlaybackMilliseconds)}}),this.sessionPlaybackMilliseconds=0,this.sessionPlaybackCount=0,this.sessionAdPlaybackStartTime=0)}trackFailure(){(0,b.DB)("metrics").trackEvent({event:mz.NY,interaction:!0,properties:{serverType:this.props.metricsServerType,connectionType:this.props.metricsConnectionType,container:this.props.metricsContainer,type:this.props.metricsType,error:this.props.errorCode,mode:this.props.metricsMode}})}setPlayerItemPlaybackTime(){this.props.dispatchSetPlayerItemPlaybackTime({playbackTime:this.itemPlaybackMilliseconds,playerType:this.props.playerType})}setPlayerSessionPlaybackTime(){this.props.dispatchSetPlayerSessionPlaybackTime({playbackTime:this.sessionPlaybackMilliseconds,playerType:this.props.playerType})}render(){return null}}O4e.defaultProps={metricsPage:pt.r$};const A4e=(0,v.$j)((function(){return(0,fe.P1)(h1e,BVe(),m4e(),k1e(),g1e(),l1e(),o1e(),(0,fe.P1)(((e,{isAdVisible:t})=>t),p4e(["confirmRemoteToLocal","isPostPlayVisible","isMediaLoading","isBuffering","isPaused","hasError"]),k1e(),l1e(),((e,t,n,r)=>!(!n||n.type!==Ac.PHOTO)||!(!r||e||t.confirmRemoteToLocal||t.isPostPlayVisible||t.isMediaLoading||t.isBuffering||t.isPaused||t.hasError))),(0,fe.P1)(R1(),j1("positionSeconds"),k1e(),g1e(),l1e(),((e,t,n,r,i)=>{if(e){if(!r)return!1;const{beginsAt:t,endsAt:n}=r;return e>n-.9*(n-t)}if(n&&n.type===Ac.PHOTO)return!0;if(i){const e=r&&r.Part[i.partIndex];if(r&&r.duration&&e)return(0,g4e.Z)(r,e,1e3*t)>.9*r.duration}return!1})),j1("syncplaySessionRoomID"),j1("hasError"),j1("errorCode"),j1("metricsPage"),j1("metricsContextTuple"),j1("metricsAutoPlay"),j1("metricsPlayer"),j1("metricsSetting"),j1("playbackStartTime"),((e,t,n,r,i,a,s,o,l,c,d,u,p,m,h,g,y,v)=>{const f={decision:a,isPlaying:o,isLiveTV:e,hasEnded:l,hasError:d,errorCode:u,metricsPage:p,metricsContextTuple:m,metricsAutoPlay:h,metricsPlayer:g,metricsSetting:y,playbackStartTime:v,syncplaySessionRoomID:c};if(n&&(f.isCloudServer=n.isCloud,f.metricsServerType=(0,I4e.Z)(n),f.metricsConnectionType=(0,b4e.Z)(n.activeConnection)),r&&(f.metricsType=r.type,f.metricsIdentifier=r.identifier,e&&(f.metricsGUID=r.ratingKey,f.metricsTitle=r.type===Ac.EPISODE?r.grandparentTitle:r.title,f.metricsPublishedAt=i.beginsAt,f.metricsContainerID=i.channelIdentifier,f.metricsGroup=i.channelShortTitle),r.type===Ac.PHOTO&&(f.metricsPlayer=h4e.k9,r.Media.length&&(f.metricsContainer=r.Media[0].container)),r.type===Ac.GAME&&(f.metricsPlayer=h4e.k9)),f.itemID=e?null==i?void 0:i.id:null==s?void 0:s.playQueueItemID,t&&!f.metricsIdentifier&&(f.metricsIdentifier=t.identifier),a){const e=function(e){const t={};return e.isDirectPlay?(t.videoDecision=y4e,t.audioDecision=y4e,t.subtitleDecision=y4e):(t.videoDecision=e.canDirectStreamVideo?v4e:f4e,t.audioDecision=e.canDirectStreamAudio?v4e:f4e,t.subtitleDecision=e.useSoftSubtitles?v4e:f4e),t}(a),t=i&&i.Part[a.partIndex];let n;r&&(n=Ac.getMetadataType(r.type).mediaType);const s=Yj.Z.get("video").id,o=t&&S().findWhere(t.Stream,{streamType:s}),l=Yj.Z.get("audio").id,c=t&&S().findWhere(t.Stream,{streamType:l,selected:!0}),d=Yj.Z.get("subtitles").id,u=t&&S().findWhere(t.Stream,{streamType:d,selected:!0});f.metricsProtocol=a.protocol,f.metricsOffset=a.positionSeconds,a.drm&&(f.metricsMode=a.drm),i&&(f.metricsContainer=i.container,f.metricsDuration=M4e(i.duration||r.duration),f.metricsBitrate=function(e){if(null==e)return;let t;return t=e>=10240?512:e>=1024?256:e>=512?128:e>=256?64:32,S4e(e,t)}(i.bitrate),f.metricsOrigin=i.origin),n===Al.pX&&(f.metricsVideoCodec=o&&o.codec||T4e,f.metricsVideoDecision=e.videoDecision,u&&u.id!==_j.H&&(f.metricsSubtitleFormat=u&&u.codec||T4e,f.metricsSubtitleDecision=e.subtitleDecision)),n!==Al.pX&&n!==Al.j0||(f.metricsAudioCodec=c&&c.codec||T4e,f.metricsAudioDecision=e.audioDecision)}return r&&r.type===Ac.GAME&&r.Platform.length&&(f.metricsContainer=r.Platform[0].tag),f}))}),N4e)(O4e);class x4e extends g.Component{constructor(e,t){super(e,t),this._screenSaverManager=(0,b.s4)("screenSaverManager")?(0,b.DB)("screenSaverManager"):null}componentDidMount(){this._toggleScreenSaver(this.props.isEnabled)}componentDidUpdate(e){e.isEnabled!==this.props.isEnabled&&this._toggleScreenSaver(this.props.isEnabled)}componentWillUnmount(){this._toggleScreenSaver(!0)}_toggleScreenSaver(e){this._screenSaverManager&&this._screenSaverManager.toggle(e)}render(){return null}}const j4e=(0,v.$j)((function(){return(0,fe.P1)(p4e(["isOpen","isPaused","openState"]),(({isOpen:e,isPaused:t,openState:n})=>{const r=n===Fj.K;return{isEnabled:!e||!r||t}}))}))(x4e);class L4e extends g.Component{constructor(){super(...arguments),this.onResize=e=>{this.timeoutID=window.clearTimeout(this.timeoutID),this.timeoutID=window.setTimeout(this.onResizeTimeout,this.props.resizeDelay)},this.onResizeTimeout=()=>{this.props.onScreenSizeChange({width:window.innerWidth,height:window.innerHeight})}}componentDidMount(){window.addEventListener("resize",this.onResize),this.onResizeTimeout()}componentWillUnmount(){window.removeEventListener("resize",this.onResize),this.timeoutID=window.clearTimeout(this.timeoutID)}render(){return null}}L4e.propTypes={resizeDelay:sa().number,onScreenSizeChange:sa().func.isRequired},L4e.defaultProps={resizeDelay:100};const k4e=L4e,R4e="ui/advertisingNoticeModal/setAdConsent",z4e="ui/advertisingNoticeModal/resetAdConsent",U4e="ui/advertisingNoticeModal/trackAdConsentAction",V4e=(0,bc.Z)(R4e),B4e=(0,bc.Z)(z4e),F4e=(0,bc.Z)(U4e),_4e={[R4e](e,t){const n=e.get("user"),r=e.get("ui").get("advertisingNoticeModal");(0,fn.c9)((()=>{r.set({isSaving:!0})}));const i=E.Z.join(["/api/v2/user",n.get("uuid"),"settings/consent"]),a=n.server.getXHROptions(i,{type:"PUT",data:{consent:t.consent}});let s=h().ajax(a);s=s.then((()=>n.fetch())),s.then((()=>{r.set({isSaving:!1,isSaved:!0})}),(e=>{r.set({isSaving:!1,isSaved:!0});const i=Math.round(Date.now()/1e3);n.set({adsConsent:t.consent,adsConsentSetAt:i,adsConsentReminderAt:i+86400})}))},[z4e](e){e.get("ui").get("advertisingNoticeModal").restoreDefaults()},[U4e](e,{advertisingNoticePayload:t,action:n}){const r=uC.js(e,t),i={page:pt.LT,action:n,identifier:r.get("identifier")};if(t.metadataItemEntityID){const n=uC.$R(e,t);i.type=n.get("type")}(0,b.DB)("metrics").trackClick(i)}};var H4e=n(66322);const Q4e={message:"ConfirmAdvertisingNotice-message-2CNcG7",consentMessage:"ConfirmAdvertisingNotice-consentMessage-1ZcHPU"};var G4e=Object.defineProperty,W4e=Object.prototype.hasOwnProperty,Y4e=Object.getOwnPropertySymbols,K4e=Object.prototype.propertyIsEnumerable,q4e=(e,t,n)=>t in e?G4e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,$4e=(e,t)=>{for(var n in t||(t={}))W4e.call(t,n)&&q4e(e,n,t[n]);if(Y4e)for(var n of Y4e(t))K4e.call(t,n)&&q4e(e,n,t[n]);return e};const J4e=(0,v.$j)((function(){return(0,fe.P1)((e=>e.ui.advertisingNoticeModal),(0,fe.P1)(((e,{advertisingNoticePayload:t})=>t),sx.Z,((e,t)=>{if(e.metadataItemEntityID)return t[e.metadataItemEntityID]})),((e,t)=>$4e($4e({},e),{metadatItemType:t&&t.type})))}),(function(e,{playerType:t,advertisingNoticePayload:n}){return{onContinue(t){e(V4e({consent:t}))},onCancel(){e(F4e({advertisingNoticePayload:n,action:ss.n1})),e((0,vt.d7)({playerType:t}))},onSaveComplete(r){e(F4e({advertisingNoticePayload:n,action:r?ss.VL:ss.lJ})),e((0,vt.wA)($4e($4e({},n),{playerType:t,confirmAdvertisingNotice:!0}))),e(B4e())}}}))((function(e){const{isOpen:t,isSaving:n,isSaved:r,onContinue:i,onCancel:a,onSaveComplete:s}=e,o=n||r,[l,c]=(0,g.useState)(!1),d=(0,g.useCallback)((()=>{c(!0),i(!0)}),[i]),u=(0,g.useCallback)((()=>{c(!1),i(!1)}),[i]);return(0,g.useEffect)((()=>{r&&s(l)}),[l,r,s]),g.createElement(Zw.Z,{size:Rp.HC,isOpen:t,metricsPage:pt.c9,onModalClose:a},g.createElement(Tw.Z,{onModalClose:a},g.createElement(vw.Z,null,(0,Ce.Z)("Consent")),g.createElement(hw.Z,null,g.createElement("div",{className:Q4e.message},(0,Ce.Z)("Plex is able to provide free-to-watch movies and shows by displaying a modest number of ads before and during playback. While it is not possible to opt out of these ads, we can provide you the best and most relevant advertising experience if you agree to the terms below.")),g.createElement(KV.Z,{className:Q4e.consentMessage,component:"div",message:(0,Ce.Z)("I consent to Plex sharing the advertising identifiers on my devices with Plex's advertising partners. This data is used to deliver the advertising that supports content you may access through Plex on all devices on which you have Plex installed. To learn how to withdraw consent, visit our {openLinkPrivacyPolicyUrl}privacy policy{closeLinkPrivacyPolicyUrl}."),tags:[{open:"openLinkPrivacyPolicyUrl",close:"closeLinkPrivacyPolicyUrl",component:pw.Z,kind:ic._8,to:iy.hO,target:"_blank"}]})),g.createElement(gw.Z,null,g.createElement(yw.Z,null,g.createElement(H4e.Z,{metricsProperties:{page:pt.c9},action:ss.lJ},g.createElement(fw.Z,{className:Q4e.confirmButton,isSpinning:o&&!l,onPress:u},(0,Ce.Z)("I Do Not Agree"))),g.createElement(H4e.Z,{metricsProperties:{page:pt.c9},action:ss.VL},g.createElement(fw.Z,{className:Q4e.confirmButton,"data-autofocus":!0,kind:ic._8,isSpinning:o&&l,onPress:d},(0,Ce.Z)("I Agree")))))))}));function X4e(){return(0,fe.P1)(R1(),(0,fe.P1)(k1(),sx.Z,((e,t)=>e&&(e.timeline||e.grabOperation)?e.timeline?e.timeline.map((e=>t[e])):[t[e.grabOperation.metadataItem]]:[])),((e,t)=>{if(null!=e)for(let n=0;n<t.length;n++){const r=t[n];for(let t=0;t<r.Media.length;t++){const n=r.Media[t],{beginsAt:i,endsAt:a}=n;if(i<=e&&a>e)return r}}}))}function e2e(e,t){const n=Math.max(e,t),r=Date.now()-1e3*n;return Ri(r)}class t2e extends g.Component{constructor(e,t){super(e,t),this.updateTimeAgo=()=>{const{captureBufferStartedAt:e,mediaItemBeginsAt:t}=this.props,n=6e4-1e3*(new Date).getSeconds(),r=e2e(e,t);r!==this.state.timeAgo&&this.setState({timeAgo:r}),this._updateTimeAgoTimeout=window.setTimeout(this.updateTimeAgo,n)},this.onConfirm=e=>{const{serverEntityID:t,providerEntityID:n,onConfirm:r}=this.props;r({serverEntityID:t,providerEntityID:n,offset:e})},this._updateTimeAgoTimeout=null,this.state={timeAgo:e2e(e.captureBufferStartedAt,e.mediaItemBeginsAt)}}componentDidMount(){this.props.mediaItemBeginsAt||this.onConfirm(),this.updateTimeAgo()}componentWillUnmount(){this._updateTimeAgoTimeout&&window.clearTimeout(this._updateTimeAgoTimeout)}render(){const{isOpen:e,captureBufferStartedAt:t,mediaItemBeginsAt:n,onModalClose:r}=this.props,{timeAgo:i}=this.state;return t?g.createElement(Pc.Z,{isOpen:e,metricsPage:pt.zj,title:(0,Ce.Z)("Join Session in Progress"),onItemSelect:this.onConfirm,onCancel:r},g.createElement(Dc.Z,{value:1e3*Math.max(n-t,0)},(0,Ce.Z)("Watch from start (started {timeAgo} ago)",{timeAgo:i})),g.createElement(Dc.Z,{value:null},(0,Ce.Z)("Watch Live"))):null}}const n2e=t2e;var r2e=Object.defineProperty,i2e=Object.prototype.hasOwnProperty,a2e=Object.getOwnPropertySymbols,s2e=Object.prototype.propertyIsEnumerable,o2e=(e,t,n)=>t in e?r2e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,l2e=(e,t)=>{for(var n in t||(t={}))i2e.call(t,n)&&o2e(e,n,t[n]);if(a2e)for(var n of a2e(t))s2e.call(t,n)&&o2e(e,n,t[n]);return e};const c2e=(0,v.$j)((function(){return(0,fe.P1)(x1(),k1(),(0,fe.P1)(R1(),X4e(),k1(),((e,t,n)=>{if(null!=e&&t&&n)return t.Media.find((t=>{const{beginsAt:r,endsAt:i,channelIdentifier:a}=t;return r<=e&&i>e&&n.channelIdentifier===a}))})),((e,t,n)=>{const{serverEntityID:r,providerEntityID:i}=e,a={serverEntityID:r,providerEntityID:i};if(t&&t.captureBuffer){const e=t.captureBuffer.startedAt;a.captureBufferStartedAt=e}return n?a.mediaItemBeginsAt=n.beginsAt:t&&t.grabOperation&&(a.mediaItemBeginsAt=t.grabOperation.mediaItem.beginsAt),a}))}),(function(e,{playerType:t}){return{onConfirm(n){e((0,Ol.lO)(l2e(l2e({},n),{playerType:t})))},onModalClose(){e((0,Ol.Zh)({playerType:t}))}}}))(n2e),d2e=(0,fe.P1)(Sj,(e=>e?e.friendlyName:null)),u2e=function(e){const{isOpen:t,playerName:n,onConfirm:r,onCancel:i}=e;return g.createElement(yt.Z,{isOpen:t,metricsPage:pt.LO,title:(0,Ce.Z)("Continue Playback"),message:(0,Ce.Z)("Would you like to continue playback on {playerName}?",{playerName:n}),confirmLabel:(0,Ce.Z)("Yes"),cancelLabel:(0,Ce.Z)("No"),onConfirm:r,onCancel:i})};var p2e=Object.defineProperty,m2e=Object.prototype.hasOwnProperty,h2e=Object.getOwnPropertySymbols,g2e=Object.prototype.propertyIsEnumerable,y2e=(e,t,n)=>t in e?p2e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,v2e=(e,t)=>{for(var n in t||(t={}))m2e.call(t,n)&&y2e(e,n,t[n]);if(h2e)for(var n of h2e(t))g2e.call(t,n)&&y2e(e,n,t[n]);return e};const f2e={dispatchCancelLocalToRemote:OL,dispatchConfirmLocalToRemote:xL,dispatchCloseLocalToRemote:AL},b2e=(0,v.$j)((function(){return(0,fe.P1)(d2e,j1("confirmLocalToRemote"),((e,t)=>({playerName:e,confirmLocalToRemote:t})))}),f2e)((function(e){const t=e,{playerType:n,confirmLocalToRemote:r,dispatchCancelLocalToRemote:i,dispatchCloseLocalToRemote:a,dispatchConfirmLocalToRemote:s}=t,o=((e,t)=>{var n={};for(var r in e)m2e.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&h2e)for(var r of h2e(e))t.indexOf(r)<0&&g2e.call(e,r)&&(n[r]=e[r]);return n})(t,["playerType","confirmLocalToRemote","dispatchCancelLocalToRemote","dispatchCloseLocalToRemote","dispatchConfirmLocalToRemote"]);(0,g.useEffect)((()=>{3===r&&a({playerType:n})}),[r,n,a]);const l=(0,g.useCallback)((()=>{i({playerType:n})}),[n,i]),c=(0,g.useCallback)((()=>{s({playerType:n})}),[n,s]);return g.createElement(u2e,v2e(v2e({},o),{onCancel:l,onConfirm:c}))}));var I2e=Object.defineProperty,S2e=Object.prototype.hasOwnProperty,M2e=Object.getOwnPropertySymbols,E2e=Object.prototype.propertyIsEnumerable,P2e=(e,t,n)=>t in e?I2e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,D2e=(e,t)=>{for(var n in t||(t={}))S2e.call(t,n)&&P2e(e,n,t[n]);if(M2e)for(var n of M2e(t))E2e.call(t,n)&&P2e(e,n,t[n]);return e};const C2e=(0,v.$j)((function(){return(0,fe.P1)(((e,{confirmOffsetPayload:t})=>t),sx.Z,((e,t)=>{let n;return e&&(n=t[e.metadataItemEntityID]),n?{viewOffset:n.viewOffset,duration:n.duration}:{}}))}),(function(e,{playerType:t,confirmOffsetPayload:n}){return{onConfirm(t){e(vt.wA(D2e(D2e({},n),{confirmPlayback:!0,confirmOffset:!0,startOffsetMilliseconds:t})))},onCancel(){e(vt.d7({playerType:t}))}}}))((function(e){const{isOpen:t,viewOffset:n,duration:r,playerType:i,onConfirm:a,onCancel:s}=e,o=i===Se.eD,l=(r-n)/1e3,c=l>0;return g.createElement(Pc.Z,{isOpen:t,metricsPage:pt.Vk,title:o?(0,Ce.Z)("Resume Game"):(0,Ce.Z)("Resume Playback"),onItemSelect:a,onCancel:s},g.createElement(Dc.Z,{value:n,autoFocus:!0},o?(0,Ce.Z)("Resume (played {time})",{time:Ui(n)}):g.createElement(g.Fragment,null,(0,Ce.Z)("Resume from {time}",{time:(0,aS.Z)(n)}),c?g.createElement(rs.Z,null):null,c?Vi(l):null)),g.createElement(Dc.Z,{value:0},o?(0,Ce.Z)("Restart"):(0,Ce.Z)("Start from the beginning")))}));var w2e=Object.defineProperty,Z2e=Object.prototype.hasOwnProperty,T2e=Object.getOwnPropertySymbols,N2e=Object.prototype.propertyIsEnumerable,O2e=(e,t,n)=>t in e?w2e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,A2e=(e,t)=>{for(var n in t||(t={}))Z2e.call(t,n)&&O2e(e,n,t[n]);if(T2e)for(var n of T2e(t))N2e.call(t,n)&&O2e(e,n,t[n]);return e};const x2e=(0,v.$j)(null,(function(e,{playerType:t,confirmPlaybackPayload:n}){return{onConfirm(){e(vt.wA(A2e(A2e({},n),{confirmPlayback:!0})))},onCancel(){e(vt.xT({playerType:t}))}}}))((function(e){const{isOpen:t,onConfirm:n,onCancel:r}=e;return g.createElement(yt.Z,{isOpen:t,metricsPage:pt.o_,title:(0,Ce.Z)("Play Now"),message:(0,Ce.Z)("This will clear changes made to the queue and play the selection instead."),confirmLabel:(0,Ce.Z)("Play"),onConfirm:n,onCancel:r})}));var j2e=n(22923),L2e=n(39957),k2e=n(15730);const R2e=sa().shape({metricsContext:sa().oneOf(Object.values(OC)).isRequired,type:sa().oneOf(Object.values(k2e)).isRequired});function z2e(e){const{isOpen:t,metricsPage:n,onDismiss:r,upsellPayload:i,subscribeUrl:a,onSubscribe:s}=e,o=(0,g.useCallback)((()=>{r(),s&&s()}),[r,s]);return g.createElement(Zw.Z,{size:Rp.HC,isOpen:t,metricsPage:n,onModalClose:r},g.createElement(Tw.Z,{onModalClose:r},i.type===k2e.TONE_MAPPING?g.createElement(vw.Z,null,(0,Ce.Z)("HDR Conversion")):null,i.type===k2e.TONE_MAPPING?g.createElement(hw.Z,null,g.createElement("p",null,(0,Ce.Z)("This video needs to be converted for playback and contains High Dynamic Range (HDR) content. Colors will appear distorted on this device.")),g.createElement("p",null,(0,Ce.Z)('With a Plex Pass, you can preview the new "HDR tone mapping" feature to correct colors during conversion!'))):null,g.createElement(gw.Z,null,g.createElement(yw.Z,null,g.createElement(H4e.Z,{context:i.metricsContext,action:ss.GP},g.createElement(cb.Z,{onPress:r},(0,Ce.Z)("OK"))),g.createElement(H4e.Z,{context:i.metricsContext,action:ss.kD},g.createElement(cb.Z,{"data-autofocus":!0,to:a,target:"_blank",kind:ic._8,onPress:o},(0,Ce.Z)("Get a Plex Pass")))))))}z2e.defaultProps={metricsPage:pt.ce,subscribeUrl:E.Z.join(["https://www.plex.tv","/plex-pass"])};const U2e=z2e;var V2e=Object.defineProperty,B2e=Object.prototype.hasOwnProperty,F2e=Object.getOwnPropertySymbols,_2e=Object.prototype.propertyIsEnumerable,H2e=(e,t,n)=>t in e?V2e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Q2e=(e,t)=>{for(var n in t||(t={}))B2e.call(t,n)&&H2e(e,n,t[n]);if(F2e)for(var n of F2e(t))_2e.call(t,n)&&H2e(e,n,t[n]);return e};const G2e=(0,v.$j)(null,(function(e,t){const{upsellPayload:n,onDismiss:r}=t;return{onDismiss(){const i=(0,L2e.Z)(j2e.M,n.type);e((0,oN.JY)({id:i})),r&&r(t)}}}))(U2e);G2e.propTypes=Q2e(Q2e({},G2e.propTypes),{upsellPayload:R2e.isRequired,onDismiss:sa().func});const W2e=G2e;var Y2e=Object.defineProperty,K2e=Object.prototype.hasOwnProperty,q2e=Object.getOwnPropertySymbols,$2e=Object.prototype.propertyIsEnumerable,J2e=(e,t,n)=>t in e?Y2e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,X2e=(e,t)=>{for(var n in t||(t={}))K2e.call(t,n)&&J2e(e,n,t[n]);if(q2e)for(var n of q2e(t))$2e.call(t,n)&&J2e(e,n,t[n]);return e};const e3e=(0,v.$j)(null,(function(e,t){const{playerType:n}=t;return{onDismiss(){e((0,vt.lm)({playerType:n}))}}}))(W2e);e3e.propTypes=X2e(X2e({},e3e.propTypes),{playerType:sa().oneOf([Se.Se,Se.pV,Se.eD]).isRequired});const t3e=e3e,n3e=(0,v.$j)(null,(function(e,{playerType:t}){return{onConfirm(){e(NL({playerType:t}))},onCancel(){e((0,vt.Mh)({playerType:t}))}}}))((function(e){const{isOpen:t,onConfirm:n,onCancel:r}=e;return g.createElement(yt.Z,{isOpen:t,metricsPage:pt.cU,title:(0,Ce.Z)("Continue Playback"),message:(0,Ce.Z)("Would you like to continue playback here?"),confirmLabel:(0,Ce.Z)("Yes"),cancelLabel:(0,Ce.Z)("No"),onConfirm:n,onCancel:r})}));function r3e(e){const t=Math.floor(Date.now()/1e3);return e.reduce(((e,{mediaItem:n})=>{const{beginsAt:r,startOffsetSeconds:i=0}=n,a=r-i;return a>t&&(!e||a<e)?a:e}),0)}function i3e(e){return Math.max(0,e-Math.floor(Date.now()/1e3))}class a3e extends g.Component{constructor(e,t){super(e,t),this._tick=()=>{this.setState({endSeconds:i3e(this.state.endsAt)}),this._setTickTimeout()},this._tickTimeout=null;const n=r3e(e.conflicts);this.state={endsAt:n,endSeconds:i3e(n)}}componentDidMount(){this._setTickTimeout()}componentDidUpdate(e,t){const{conflicts:n,onModalClose:r}=this.props;e.conflicts!==n&&this._updateEndSeconds(),t.endSeconds>0&&0===this.state.endSeconds&&r({showError:!0})}componentWillUnmount(){this._tickTimeout&&window.clearTimeout(this._tickTimeout)}_setTickTimeout(){this.state.endSeconds&&(this._tickTimeout=window.setTimeout(this._tick,1e3))}_updateEndSeconds(){const e=r3e(this.props.conflicts);this.setState({endsAt:e,endSeconds:i3e(e)})}render(){const{endSeconds:e}=this.state,t=function(e){if(null==e)return"";const t=(0,ki.ZP)(e),n=24*t.days*60,r=60*t.hours,i=t.minutes+r+n,a=t.seconds;return i&&a?(0,Ce.Z)("{1} min {2} sec",i,a):i?(0,Ce.Z)("{1} min",i):a>0?(0,Ce.Z)("{1} sec",a):""}(1e3*e);return g.createElement("span",null,(0,Ce.Z)("This live TV session will end in: {formattedMinutesSeconds}",{formattedMinutesSeconds:t}))}}const s3e=a3e;function o3e(e,t,n,r){const i=e===Ac.EPISODE?n:t;return r?(0,Ce.Z)("Stop watching {openSpan}{title}{closeSpan} and continue",{title:i}):(0,Ce.Z)("Stop recording {openSpan}{title}{closeSpan} and continue",{title:i})}const l3e=(0,v.$j)((function(){return(0,fe.P1)((0,xx.Z)(),(e=>({type:e.type,title:e.title,grandparentTitle:e.grandparentTitle,thumb:e.thumb,grandparentThumb:e.grandparentThumb})))}),(function(e,t){const{playerType:n,grabOperationKey:r}=t;return{onCancelConflictPress(){e((0,Ol.pg)({playerType:n,grabOperationKey:r}))}}}))((function(e){const{serverEntityID:t,type:n,title:r,grandparentTitle:i,thumb:a,grandparentThumb:s,isRolling:o,onCancelConflictPress:l}=e;return g.createElement(pw.Z,{className:"PlayerConflictItemRow-conflict-2NwGtT",onPress:l},g.createElement(xt.Z,{className:"PlayerConflictItemRow-thumbnail-2a7vQe",serverEntityID:t,url:a||s,width:53,height:80,component:Ot.Z}),g.createElement("div",{className:"PlayerConflictItemRow-title-2u-Mps"},g.createElement(KV.Z,{message:o3e(n,r,i,o),tags:[{open:"openSpan",close:"closeSpan",component:"span",className:"PlayerConflictItemRow-titleHighlight-kni3ih"}]})))})),c3e=function(e){const{serverEntityID:t,hasSubscribeFeature:n,isPlayerOpen:r,playerType:i,isConflictCancelling:a,conflicts:s,error:o,onModalClose:l}=e,c=function(e,t){return e?t?(0,Ce.Z)("A recording is scheduled to start in a few minutes and all tuners are currently in use. Please select from one of the actions below. Selecting OK or taking no action will end this live viewing session once the recording starts."):(0,Ce.Z)("All tuners are in use. Please ask the server owner to free up a tuner to continue watching Live TV."):t?(0,Ce.Z)("Please select from one of the actions below."):(0,Ce.Z)("All tuners are in use. Please ask the server owner to free up a tuner to watch Live TV.")}(r,n);return g.createElement(Tw.Z,{onModalClose:l},g.createElement(vw.Z,{className:"PlayerConflictModalContent-modalHeader-1ws6Yj ModalHeader-modalHeader-15PhZc"},(0,Ce.Z)("All Tuners are Currently in Use")),o?g.createElement(pMe.Z,{kind:ic.T,message:(0,Ce.Z)("There was an error trying to cancel the selected item, please try again")}):null,g.createElement(hw.Z,{innerClassName:"PlayerConflictModalContent-innerModalBody-1AAJa0 ModalBody-innerModalBody-1VHRyi"},g.createElement("div",{className:"PlayerConflictModalContent-message-3hdp94"},c),n?g.createElement("div",{className:"PlayerConflictModalContent-conflicts-lE-S4x"},s.map((e=>g.createElement(l3e,{key:e.key,serverEntityID:t,grabOperationKey:e.key,metadataItemEntityID:e.metadataItem,playerType:i,isRolling:e.rolling,isPlayerOpen:r})))):null),g.createElement(gw.Z,null,g.createElement("div",{className:"PlayerConflictModalContent-footerMessage-1QvGoH"},r?g.createElement(s3e,{conflicts:s,onModalClose:l}):null),g.createElement(yw.Z,null,g.createElement(fw.Z,{isSpinning:a,kind:ic._8,onPress:l},r||!n?(0,Ce.Z)("OK"):(0,Ce.Z)("Cancel")))))},d3e=(0,v.$j)((function(){return(0,fe.P1)(x1(),BVe(),k1(),((e,t,n)=>{const r={serverEntityID:e.serverEntityID,hasSubscribeFeature:!!t.features.find((({type:e})=>"subscribe"===e)),error:e.cancelConflictError,isConflictCancelling:e.isConflictCancelling};return n&&(r.conflicts=n.grabOperation.conflicts),r}))}),(function(e,t){const{isPlayerOpen:n,playerType:r}=t;return{onModalClose({showError:t=!1}={}){e(n?(0,Ol.oW)({playerType:r,showError:t}):(0,Ol.T)({playerType:r}))}}}))((function(e){const{isOpen:t,isPlayerOpen:n,playerType:r,serverEntityID:i,hasSubscribeFeature:a,conflicts:s,isConflictCancelling:o,onModalClose:l}=e;return g.createElement(Zw.Z,{size:Rp.HC,isOpen:t,metricsPage:pt.Rh,onModalClose:l},g.createElement(c3e,{isPlayerOpen:n,playerType:r,serverEntityID:i,hasSubscribeFeature:a,conflicts:s,isConflictCancelling:o,onModalClose:l}))}));var u3e=n(51382);var p3e=Object.defineProperty,m3e=Object.prototype.hasOwnProperty,h3e=Object.getOwnPropertySymbols,g3e=Object.prototype.propertyIsEnumerable,y3e=(e,t,n)=>t in e?p3e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;function v3e(e){const{errorCode:t,errorMessage:n,title:r}=e;return t===u3e.Pe?g.createElement(KV.Z,{message:(0,Ce.Z)("This browser can not play DRM-protected content over an insecure connection. Please try {openLink}https://app.plex.tv{closeLink} instead."),tags:[{open:"openLink",close:"closeLink",component:pw.Z,kind:ic._8,to:iy.mV}]}):t===u3e.L7?(0,Ce.Z)("An error occurred trying to play this item. Please enable DRM support in your browser then try again."):n||(r?(0,Ce.Z)('An error occurred trying to play "{title}".',{title:r}):(0,Ce.Z)("An error occurred trying to play this item."))}const f3e=(0,v.$j)((function(){return(0,fe.P1)(x1(),m1e(),j1e(),l1e(),((e,{mediaType:t})=>t),((e,{isRemotePlayer:t})=>t),((e,t,n,r,i,a)=>{const{playQueue:s,repeatAll:o,errorCode:l,errorCategory:c,isWatchTogether:d}=e,u=n&&n.entityID,p=s&&s.currentIndex,m=function(e,t,n,r){if(!e||!t)return n;const i=t&&t.Media[e.mediaIndex],a=i&&i.source?i.source:t.source;if(!a)return n;const s=(0,wr.Z)(a);return Fo.wB(s.providerIdentifier,Fo.xF)&&"h4"===r?(0,Ce.Z)("An error occurred trying to play this item. Please make sure content from TIDAL is not already playing on another device."):n}(r,t,e.errorMessage,l),h={playQueueItemEntityID:u,showSkipButton:!!s&&(p<s.playQueueItems.length-1||o),showRetryButton:!!s&&i!==Al.pV&&!a&&!d,errorMessage:m,errorCode:l,errorCategory:c};return t&&(h.title=t.title),h}))}),(function(e,t){const n={playerType:t.playerType};return{onModalClose(){e((0,vt.Mh)(n))},onSkipPress(t){e((0,Rj.o1)(n))},onRetryPress(t){e((0,a1e.iu)(n)),e((0,A1e.Mf)(n))}}}))((function(e){const{isOpen:t,showSkipButton:n,showRetryButton:r,errorCode:i,errorCategory:a,onSkipPress:s,onRetryPress:o,onModalClose:l}=e;return g.createElement(Zw.Z,{isOpen:t,metricsPage:pt.hw,size:Rp.HC,onModalClose:l},g.createElement(Tw.Z,{onModalClose:l},g.createElement(vw.Z,{className:"PlayerErrorModal-modalHeader-1N1gXz ModalHeader-modalHeader-15PhZc"},(0,Ce.Z)("Playback Error")),g.createElement(hw.Z,null,g.createElement(v3e,((e,t)=>{for(var n in t||(t={}))m3e.call(t,n)&&y3e(e,n,t[n]);if(h3e)for(var n of h3e(t))g3e.call(t,n)&&y3e(e,n,t[n]);return e})({},e)),null!=i?g.createElement("p",{className:"PlayerErrorModal-errorCode-1cCXO5"},(0,Ce.Z)("Error code: {errorCode}",{errorCode:i}),a?` (${a})`:null):null),n||r?g.createElement(gw.Z,null,g.createElement(yw.Z,null,n?g.createElement(cb.Z,{onPress:s},(0,Ce.Z)("Skip")):null,r?g.createElement(cb.Z,{kind:ic._8,onPress:o},(0,Ce.Z)("Retry")):null)):null))}));function b3e(e,t){return{src:E.Z.join(e,{width:t,height:t,minSize:1}),sizes:`${t}x${t}`,type:"image/jpeg"}}function I3e({metadataItem:e,player:t,transcodeURL:n}){return(0,g.useEffect)((()=>{const r=(null==e?void 0:e.type)===Ac.GAME,i=e&&Fo.wB((0,wr.Z)(e.source).providerIdentifier,[Fo.Ll,Fo.vP]),a=!!e&&!r&&!i;window.navigator.mediaSession.playbackState=a?function(e){return(null==e?void 0:e.isPaused)||(null==e?void 0:e.isBuffering)?(null==e?void 0:e.isPaused)?"paused":"none":"playing"}(t):"none",window.navigator.mediaSession.metadata=a?new window.MediaMetadata({title:e.title,artist:e.originalTitle||e.grandparentTitle,album:e.parentTitle,artwork:n?[b3e(n,96),b3e(n,128),b3e(n,192),b3e(n,256),b3e(n,512)]:void 0}):null}),[e,t,n]),(0,g.useEffect)((()=>()=>{window.navigator.mediaSession.metadata=null,window.navigator.mediaSession.playbackState="none"}),[]),null}const S3e=(0,v.$j)((function(){return(0,fe.P1)(x1(),m1e(),((e,t)=>({metadataItem:t,player:e,url:t?(0,o1.G)(t.type,t.subtype,t):void 0,serverEntityID:e.serverEntityID,providerEntityID:e.providerEntityID})))}))((0,v.$j)((()=>(0,fe.P1)((0,VLe.Z)(),(e=>({transcodeURL:e})))))((({metadataItem:e,player:t,transcodeURL:n,url:r,serverEntityID:i,providerEntityID:a})=>g.createElement(I3e,{url:r,serverEntityID:i,providerEntityID:a,metadataItem:e,player:t,transcodeURL:n}))));const M3e={dispatchPlayPreviousItem:Rj.oA,dispatchStepBack:a1e.Hn,dispatchSkipBack:a1e.QJ,dispatchTogglePlayPause:a1e.ID,dispatchPlay:a1e.hY,dispatchPause:a1e.wO,dispatchSkipForward:a1e.wW,dispatchStepForward:a1e.oX,dispatchPlayNextItem:Rj.o1,dispatchChangeVolume:a1e.v6,dispatchEndPlayback:vt.Mh};class E3e extends g.Component{constructor(e,t){super(e,t),this.onPreviousShortcut=()=>{this.props.isCurrentMediaTypeSkippable&&this.props.dispatchPlayPreviousItem({playerType:this.props.playerType})},this.onStepBackShortcut=()=>{const e={playerType:this.props.playerType};this.props.isCurrentMediaTypeSeekable?this.props.dispatchStepBack(e):this.props.isCurrentMediaTypeSkippable&&this.props.dispatchPlayPreviousItem(e)},this.onSkipBackShortcut=()=>{const e={playerType:this.props.playerType};this.props.isCurrentMediaTypeSeekable?this.props.dispatchSkipBack(e):this.props.isCurrentMediaTypeSkippable&&this.props.dispatchPlayPreviousItem(e)},this.onPlayPauseShortcut=()=>{this.props.isCurrentMediaTypePausable&&this.props.dispatchTogglePlayPause({playerType:this.props.playerType})},this.onPlayShortcut=()=>{this.props.isCurrentMediaTypePausable&&this.props.dispatchPlay({playerType:this.props.playerType})},this.onPauseShortcut=()=>{this.props.isCurrentMediaTypePausable&&this.props.dispatchPause({playerType:this.props.playerType})},this.onSkipForwardShortcut=()=>{const e={playerType:this.props.playerType};this.props.isCurrentMediaTypeSeekable?this.props.dispatchSkipForward(e):this.props.isCurrentMediaTypeSkippable&&this.props.dispatchPlayNextItem(e)},this.onStepForwardShortcut=()=>{const e={playerType:this.props.playerType};this.props.isCurrentMediaTypeSeekable?this.props.dispatchStepForward(e):this.props.isCurrentMediaTypeSkippable&&this.props.dispatchPlayNextItem(e)},this.onNextShortcut=()=>{this.props.isCurrentMediaTypeSkippable&&this.props.dispatchPlayNextItem({playerType:this.props.playerType})},this.onVolumeChange=e=>{this.props.dispatchChangeVolume({volume:e,playerType:this.props.playerType})},this.onVolumeIncrease=()=>{this.onVolumeChange(Math.min(this.props.volume+10,100))},this.onVolumeDecrease=()=>{this.onVolumeChange(Math.max(this.props.volume-10,0))},this.onCloseShortcut=()=>{this.setState({isCloseConfirmModalOpen:!0})},this.onCloseConfirmPress=e=>{this.props.dispatchEndPlayback({playerType:this.props.playerType})},this.onCloseCancelPress=e=>{this.setState({isCloseConfirmModalOpen:!1})},this.onToggleFullscreenShortcut=()=>{this.props.onToggleFullscreenShortcut()},this.state={isCloseConfirmModalOpen:!1}}componentDidMount(){this.props.allowShortcuts&&this._startListening()}componentDidUpdate(e){const{allowShortcuts:t}=this.props;t&&!e.allowShortcuts?this._startListening():!t&&e.allowShortcuts&&this._stopListening()}componentWillUnmount(){this.props.allowShortcuts&&this._stopListening()}_startListening(){const{isCurrentMediaTypePausable:e,isCurrentMediaTypeSkippable:t}=this.props;se.Z.hasMediaSession&&(window.navigator.mediaSession.setActionHandler("play",e?this.onPlayShortcut:null),window.navigator.mediaSession.setActionHandler("pause",e?this.onPauseShortcut:null),window.navigator.mediaSession.setActionHandler("previoustrack",t?this.onPreviousShortcut:null),window.navigator.mediaSession.setActionHandler("nexttrack",t?this.onNextShortcut:null),window.navigator.mediaSession.setActionHandler("stop",this.onCloseShortcut)),le.Z.on({"shortcut:skipPrevious":this.onPreviousShortcut,"shortcut:stepBackward":this.onStepBackShortcut,"shortcut:seekBackward":this.onSkipBackShortcut,"shortcut:playPause":this.onPlayPauseShortcut,"shortcut:play":this.onPlayShortcut,"shortcut:pause":this.onPauseShortcut,"shortcut:seekForward":this.onSkipForwardShortcut,"shortcut:stepForward":this.onStepForwardShortcut,"shortcut:skipNext":this.onNextShortcut,"shortcut:increaseVolume":this.onVolumeIncrease,"shortcut:decreaseVolume":this.onVolumeDecrease,"shortcut:toggleFullScreen":this.onToggleFullscreenShortcut,"shortcut:stop":this.onCloseShortcut})}_stopListening(){se.Z.hasMediaSession&&(window.navigator.mediaSession.setActionHandler("play",null),window.navigator.mediaSession.setActionHandler("pause",null),window.navigator.mediaSession.setActionHandler("previoustrack",null),window.navigator.mediaSession.setActionHandler("nexttrack",null),window.navigator.mediaSession.setActionHandler("stop",null)),le.Z.off({"shortcut:skipPrevious":this.onPreviousShortcut,"shortcut:stepBackward":this.onStepBackShortcut,"shortcut:seekBackward":this.onSkipBackShortcut,"shortcut:playPause":this.onPlayPauseShortcut,"shortcut:play":this.onPlayShortcut,"shortcut:pause":this.onPauseShortcut,"shortcut:seekForward":this.onSkipForwardShortcut,"shortcut:stepForward":this.onStepForwardShortcut,"shortcut:skipNext":this.onNextShortcut,"shortcut:increaseVolume":this.onVolumeIncrease,"shortcut:decreaseVolume":this.onVolumeDecrease,"shortcut:toggleFullScreen":this.onToggleFullscreenShortcut,"shortcut:stop":this.onCloseShortcut})}render(){return g.createElement(yt.Z,{isOpen:this.state.isCloseConfirmModalOpen,metricsPage:pt.s0,title:(0,Ce.Z)("Stop Playback"),message:(0,Ce.Z)("Closing the player will stop playback. Any changes to the queue will be lost."),onConfirm:this.onCloseConfirmPress,onCancel:this.onCloseCancelPress})}}const P3e=(0,v.$j)((function(){return(0,fe.P1)((0,fe.P1)((e=>e.ui.audioVideoPlayer.openState),(e=>e.ui.photoPlayer.openState),(e=>e.ui.romPlayer.openState),((e,{playerType:t})=>t),((e,t,n,r)=>function(e){const{playerType:t,audioVideoOpenState:n,photoOpenState:r,romOpenState:i}=e,a=t===Se.Se&&!!n,s=t===Se.pV&&!!r;if(t===Se.eD&&i)return!1;let o=0,l=0;return n===Fj.y?o+=1:n===Fj.K&&(o+=2),r===Fj.y?l+=1:r===Fj.K&&(l+=2),a&&o>=l||s&&l>o}({audioVideoOpenState:e,photoOpenState:t,romOpenState:n,playerType:r}))),m1e(),(0,fe.P1)(o1e(),(e=>{let t;if(e){const n=(0,Ac.getMetadataType)(e.type);t=n&&n.mediaType}return t})),((e,{isAdVisible:t})=>t),O1e,((e,t,n,r,i)=>{const a=t&&Fo.wB((0,wr.Z)(t.source).providerIdentifier,[Fo.Ll,Fo.vP]),s=t&&(0,wr.Z)(t.source).serverIdentifier===Hj.X,o=a&&s;return{allowShortcuts:e,isCurrentMediaTypePausable:!o,isCurrentMediaTypeSkippable:!r&&!a,isCurrentMediaTypeSeekable:!(r||o||n!==Al.j0&&n!==Al.pX),volume:i}}))}),M3e)(E3e);class D3e extends g.Component{constructor(e,t){super(e,t),this.title=document.title}componentDidMount(){this._updateWindowTitle()}componentDidUpdate(){this._updateWindowTitle()}componentWillUnmount(){document.title=this.title}_updateWindowTitle(){const{type:e,title:t,originalTitle:n,grandparentTitle:r,index:i,parentIndex:a,originallyAvailableAt:s,isPaused:o}=this.props;if(!t||!e)return;let l;if(e===Ac.EPISODE)l=`${r} - ${(0,xo.Z)({seasonIndex:a,episodeIndex:i,date:s,noLeadingZero:!0,separator:"  "})}`;else if(e===Ac.TRACK){const e=n||r;l=e?`${e} - ${t}`:t}else l=t;o||(l=` ${l}`),document.title=l}render(){return null}}const C3e=(0,v.$j)((function(){return(0,fe.P1)(x1(),m1e(),((e,t)=>t?{type:t.type,title:t.title,originalTitle:t.originalTitle,grandparentTitle:t.grandparentTitle,index:t.index,parentIndex:t.parentIndex,originallyAvailableAt:t.originallyAvailableAt,isPaused:e.isPaused}:{}))}))(D3e);var w3e=Object.defineProperty,Z3e=Object.prototype.hasOwnProperty,T3e=Object.getOwnPropertySymbols,N3e=Object.prototype.propertyIsEnumerable,O3e=(e,t,n)=>t in e?w3e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,A3e=(e,t)=>{for(var n in t||(t={}))Z3e.call(t,n)&&O3e(e,n,t[n]);if(T3e)for(var n of T3e(t))N3e.call(t,n)&&O3e(e,n,t[n]);return e};function x3e(e){const t=e,{component:n}=t,r=((e,t)=>{var n={};for(var r in e)Z3e.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&T3e)for(var r of T3e(e))t.indexOf(r)<0&&N3e.call(e,r)&&(n[r]=e[r]);return n})(t,["component"]);return g.createElement(g.Suspense,{fallback:null},g.createElement(n,A3e(A3e({},r),{type:"video",allowRecycleElement:!0})))}x3e.defaultProps={component:i4e};const j3e=x3e,L3e=T1e(x3e);function k3e(e){const t=document.getElementById("plex").classList,n="show-video-player";e?t.add(n):t.remove(n)}var R3e=Object.defineProperty,z3e=Object.prototype.hasOwnProperty,U3e=Object.getOwnPropertySymbols,V3e=Object.prototype.propertyIsEnumerable,B3e=(e,t,n)=>t in e?R3e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,F3e=(e,t)=>{for(var n in t||(t={}))z3e.call(t,n)&&B3e(e,n,t[n]);if(U3e)for(var n of U3e(t))V3e.call(t,n)&&B3e(e,n,t[n]);return e};const _3e=parseInt(ng.Z.playerControlsPosterHeight,10),H3e=parseInt(ng.Z.playerControlsLandscapePosterWidth,10),Q3e=parseInt(ng.Z.playerControlsNarrowBreakpoint,10),G3e=parseInt(ng.Z.playerControlsPosterLeftGutter,10),W3e=parseInt(ng.Z.playerControlsPosterBottomGutter,10),Y3e=parseInt(ng.Z.playerControlsNarrowPosterBottomGutter,10);class K3e extends g.Component{constructor(e,t){super(e,t),this.updateAdState=()=>{var e;const{ad:t}=this.state,{isOpen:n,onUpdateCurrentAd:r}=this.props;r&&r(t&&n?{adDisplayIndex:t.displayIndex,adDisplayTotal:t.displayTotal,adDurationSeconds:t.duration,adPositionSeconds:Math.floor(this.state.adPositionMilliseconds/1e3),adState:z1e.Z$,adTimeOffsetSeconds:null!=(e=null==t?void 0:t.timeOffset)?e:null}:{adDisplayIndex:null,adDisplayTotal:null,adDurationSeconds:null,adPositionSeconds:null,adState:null,adTimeOffsetSeconds:null})},this.onAdPositionMillisecondsChange=e=>{this.setState({adPositionMilliseconds:e})},this.onAdChange=e=>{this.setState({ad:e,adPositionMilliseconds:0,hasRequestedAds:!0})},this.onScreenSizeChange=({width:e})=>{const t=e<=Q3e;t!==this.state.isNarrowLayout&&this.setState({isNarrowLayout:t})},this.onSeekBarInteractionStart=()=>{this.setState({isSeeking:!0})},this.onSeekBarInteractionEnd=()=>{this.setState({isSeeking:!1})},this.onUpdateBufferedRanges=e=>{const{onUpdateBufferedRanges:t}=this.props;t&&t(e)},this.state={ad:null,adPositionMilliseconds:0,isNarrowLayout:!1,seekEndMilliseconds:0,seekStartMilliseconds:0},this.positionMillisecondsStore=(0,y1e.MT)(M1e,0)}static getDerivedStateFromProps(e,t){const n={vastUrl:e.vastUrl,isRemotePlayer:e.isRemotePlayer};return t.vastUrl===n.vastUrl&&t.isRemotePlayer===n.isRemotePlayer||(n.hasRequestedAds=!1,n.ad=null,n.adPositionMilliseconds=0),n}componentDidMount(){k3e(this.props.showBackgroundVideoPlayer)}componentDidUpdate(e,t){e.showBackgroundVideoPlayer!==this.props.showBackgroundVideoPlayer&&k3e(this.props.showBackgroundVideoPlayer),(e.isOpen&&!this.props.isOpen||t.ad!==this.state.ad||t.ad===this.state.ad&&t.adPositionMilliseconds!==this.state.adPositionMilliseconds&&Math.floor(this.state.adPositionMilliseconds/1e3)!==this.props.adPositionSeconds)&&this.updateAdState()}componentWillUnmount(){k3e(!1)}render(){var e,t;const{adState:n,adPositionSeconds:r,adDurationSeconds:i,playerType:a,isOpen:s,isMiniPlayer:o,isRemotePlayer:l,isPlayQueueLoading:c,isPostPlayVisible:d,isFullscreen:u,isVideo:p,isGame:m,hasError:h,hasConflicts:y,confirmLiveTVPlayback:f,showBackgroundVideoPlayer:I,currentMediaType:S,currentMediaSubtype:M,confirmPlaybackPayload:E,confirmOffsetPayload:P,advertisingNoticePayload:D,confirmRemoteToLocal:C,confirmLocalToRemote:w,confirmPlayerUpsellPayload:Z,vastUrl:T,mediaComponent:N,mediaHeight:O,mediaPlacement:A,mediaWidth:x,playerComponent:j,bufferedRanges:L,machineIdentifier:k,providerIdentifier:R,gameInputDevices:z,gamePlatformTag:U,gamePreventDefault:V,onToggleFullscreen:B}=this.props,{ad:F,adPositionMilliseconds:_,hasRequestedAds:H,seekStartMilliseconds:Q,seekEndMilliseconds:G,isNarrowLayout:W,isSeeking:Y}=this.state;if(!s)return h?g.createElement(f3e,{isOpen:!0,isRemotePlayer:l,mediaType:S,playerType:a}):y?g.createElement(d3e,{isOpen:!0,isPlayerOpen:s,playerType:a}):f?g.createElement(c2e,{isOpen:!0,isPlayerOpen:s,playerType:a}):null;const K=(p||m)&&o?{edgeGutterX:G3e,edgeGutterY:W?Y3e:W3e,height:_3e,placement:U1e.aV,width:H3e}:{height:O,placement:A,width:x},q=n===z1e.Z$,$=!!T&&!H,J=null!=(t=null==(e=L[L.length-1])?void 0:e.endSeconds)?t:0;return g.createElement(Qn,{machineIdentifier:k,providerIdentifier:R},g.createElement(v.zt,{store:this.positionMillisecondsStore,context:v1e},g.createElement(i0.Z,{page:pt.r$},g.createElement("div",{className:Te()(o?"Player-miniPlayerContainer-Z6fOnP":"Player-fullPlayerContainer-cPN8MA",!I&&!o&&"Player-fullPlayerContainerBackground-2RW57n")},E?g.createElement(x2e,{isOpen:!0,playerType:a,confirmPlaybackPayload:E}):null,Z?g.createElement(t3e,{isOpen:!0,playerType:a,upsellPayload:Z}):null,D?g.createElement(J4e,{isOpen:!0,playerType:a,advertisingNoticePayload:D}):null,P?g.createElement(C2e,{isOpen:!0,playerType:a,confirmOffsetPayload:P}):null,C?g.createElement(n3e,{isOpen:!0,playerType:a}):null,1!==w?g.createElement(b2e,{isOpen:!0,playerType:a}):null,h?g.createElement(f3e,{isOpen:!0,isRemotePlayer:l,mediaType:S,playerType:a}):null,y?g.createElement(d3e,{isOpen:!0,isPlayerOpen:s,playerType:a}):null,$||d||c||l&&1===w||C?null:g.createElement(N,F3e(F3e({},K),{gameInputDevices:z,gamePlatformTag:U,gamePreventDefault:V,playerType:a,mediaType:S,mediaSubtype:M,isNarrowLayout:W,isStackedAbove:o,isAdVisible:q,onBufferChange:this.onUpdateBufferedRanges})),!T||l||C||h?null:g.createElement(j3e,F3e(F3e({},K),{ad:F,playerType:a,isMiniPlayer:o,isFullscreen:u,isIdle:!!Y,component:(0,b.DB)("adPlayerComponent").getComponent(),isStackedAbove:o,isNarrowLayout:W,positionSeconds:Math.round(_/1e3),url:T,statusOverlayClassName:"Player-adPlayerDisplayIndexContainer-3XqrJB",onAdChange:this.onAdChange,onPositionMillisecondsChange:this.onAdPositionMillisecondsChange})),g.createElement(j,F3e(F3e(F3e({},this.props),K),{ad:F,isAdVisible:q,isNarrowLayout:W,seekStartMilliseconds:Q,seekEndMilliseconds:G,bufferStartMilliseconds:0,bufferEndMilliseconds:1e3*J,adPositionMilliseconds:l?1e3*r:_,adDurationMilliseconds:1e3*i,onSeekBarInteractionStart:this.onSeekBarInteractionStart,onSeekBarInteractionEnd:this.onSeekBarInteractionEnd})),g.createElement(P3e,{isAdVisible:q,playerType:a,onToggleFullscreenShortcut:B}),se.Z.hasMediaSession?g.createElement(S3e,{playerType:a}):null,g.createElement(C3e,{playerType:a}),g.createElement(A4e,{playerType:a,isRemotePlayer:l,isAdVisible:q}),g.createElement(j4e,{playerType:a}),g.createElement(k4e,{onScreenSizeChange:this.onScreenSizeChange})))))}}K3e.defaultProps={bufferedRanges:[],confirmLiveTVPlayback:!1,isGame:!1,isMusic:!1,isPhoto:!1,isVideo:!1,isLiveTV:!1};const q3e=K3e;function $3e(e){return e?`${e.type}:${e.startTimeOffset}:${e.endTimeOffset}`:void 0}const J3e="north",X3e="northeast",e5e="east",t5e="southeast",n5e="south",r5e="southwest",i5e="west",a5e="northwest",s5e="center";var o5e=n(6483);const l5e=(0,v.$j)((function(){return(0,fe.P1)((0,VLe.Z)(),(e=>({url:e})))}))(o5e.ZP),c5e=Math.max(256,144),d5e={maxWidth:256/1920*100+"vw",maxHeight:144/1080*100+"vh"},u5e={maxWidth:"10vw",maxHeight:"10vh"},p5e={maxWidth:128/1920*100+"vw",maxHeight:72/1080*100+"vh"},m5e=({className:e,src:t,style:n})=>g.createElement("img",{className:e,src:t,style:n}),h5e=({className:e,providerEntityID:t,overlay:n,serverEntityID:r})=>{const[i,a]=(0,g.useState)();let s;switch(n.size){case"large":s=d5e;break;case"medium":s=u5e;break;case"small":default:s=p5e}const o=(0,g.useCallback)((()=>{a(new Error("Unable to load overlay"))}),[]);return(0,g.useEffect)((()=>{a(void 0)}),[n]),i?null:g.createElement(l5e,{component:m5e,className:e,serverEntityID:r,providerEntityID:t,url:n.key,width:c5e,height:c5e,style:s,format:"png",onError:o})},g5e={outerContainer:"MediaOverlays-outerContainer-2vLlf5",innerContainer:"MediaOverlays-innerContainer-1duI6P",horizontal:"MediaOverlays-horizontal-3HPPAS",vertical:"MediaOverlays-vertical-r7Kjh3",overlay:"MediaOverlays-overlay-2jW4eN",northwest:"MediaOverlays-northwest-3rGg6H MediaOverlays-horizontal-3HPPAS",north:"MediaOverlays-north-37pgwM MediaOverlays-horizontal-3HPPAS",northeast:"MediaOverlays-northeast-1j9Ev6 MediaOverlays-horizontal-3HPPAS",east:"MediaOverlays-east-61C0rr MediaOverlays-vertical-r7Kjh3",southeast:"MediaOverlays-southeast-2A8lw9 MediaOverlays-horizontal-3HPPAS",south:"MediaOverlays-south-guNYr4 MediaOverlays-horizontal-3HPPAS",southwest:"MediaOverlays-southwest-1h3VOX MediaOverlays-horizontal-3HPPAS",west:"MediaOverlays-west-1D5o1A MediaOverlays-vertical-r7Kjh3",center:"MediaOverlays-center-2mQ58h MediaOverlays-horizontal-3HPPAS"};var y5e=Object.defineProperty,v5e=Object.prototype.hasOwnProperty,f5e=Object.getOwnPropertySymbols,b5e=Object.prototype.propertyIsEnumerable,I5e=(e,t,n)=>t in e?y5e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,S5e=(e,t)=>{for(var n in t||(t={}))v5e.call(t,n)&&I5e(e,n,t[n]);if(f5e)for(var n of f5e(t))b5e.call(t,n)&&I5e(e,n,t[n]);return e};const M5e=(0,v.$j)((function(){return(0,fe.P1)(x1e(),B1(),k1(),p4e(["mediaHeight","mediaWidth","itemPlaybackTime","positionSeconds","providerEntityID","serverEntityID"]),((e,t,n,r)=>S5e(S5e({},r),{liveTVMediaItem:t,liveTVSession:n,playQueueMediaItem:e})))}))((({itemPlaybackTime:e,liveTVMediaItem:t,liveTVSession:n,mediaHeight:r,mediaWidth:i,playQueueMediaItem:a,positionSeconds:s,providerEntityID:o,serverEntityID:l})=>{const[c,u]=function(){const[e,t]=(0,g.useState)([window.innerWidth,window.innerHeight]);return(0,g.useEffect)((()=>{function e(){t([window.innerWidth,window.innerHeight])}return window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}}),[]),e}(),p=(0,g.useMemo)((()=>{const r=Math.floor(e/1e3);let i,o=-1;return n&&t?(i=t,o=n.currentPosition-t.beginsAt):a&&(i=a,o=s),(null==i?void 0:i.Overlay)?function(e,t){const{secondsSinceMediaItemAiringBegan:n,secondsSinceMediaItemPlaybackBegan:r}=t;return e.reduce(((e,t)=>{const i=t.startTimeOffset/1e3,a=i+(null==t.duration?Number.POSITIVE_INFINITY:t.duration/1e3);let s=!1;return"absolute"===t.startTimeOffsetType?s=r>=i&&r<a:"relative"===t.startTimeOffsetType&&(s=n>=i&&n<a),s&&(e.has(t.gravity)?e.get(t.gravity).push(t):e.set(t.gravity,[t])),e}),new Map)}(i.Overlay,{secondsSinceMediaItemAiringBegan:o,secondsSinceMediaItemPlaybackBegan:r}):void 0}),[e,n,t,a,s]);if(!(null==p?void 0:p.size)||!r||!i)return null;const m=Math.min(c/i,u/r);return g.createElement("div",{className:g5e.outerContainer},g.createElement("div",{className:g5e.innerContainer,style:{width:i*m/c*100+"vw",height:r*m/u*100+"vh"}},Object.values(d).map((e=>{var t;const n=null==(t=null==p?void 0:p.get(e))?void 0:t.map(((e,t)=>g.createElement(h5e,{key:t,className:g5e.overlay,overlay:e,providerEntityID:o,serverEntityID:l})));return n?g.createElement("div",{key:e,className:g5e[e]},n):null}))))}));var E5e=Object.defineProperty,P5e=Object.prototype.hasOwnProperty,D5e=Object.getOwnPropertySymbols,C5e=Object.prototype.propertyIsEnumerable,w5e=(e,t,n)=>t in e?E5e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const Z5e=function(e){const t=(0,fe.P1)((e=>e),(e=>({positionMilliseconds:e})));function n(t){const n=t,{positionSeconds:r,positionMilliseconds:i}=n,a=((e,t)=>{var n={};for(var r in e)P5e.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&D5e)for(var r of D5e(e))t.indexOf(r)<0&&C5e.call(e,r)&&(n[r]=e[r]);return n})(n,["positionSeconds","positionMilliseconds"]);let s=i;return null!=r&&Math.abs(r-Math.floor(i/1e3))>1&&(s=1e3*r),g.createElement(e,((e,t)=>{for(var n in t||(t={}))P5e.call(t,n)&&w5e(e,n,t[n]);if(D5e)for(var n of D5e(t))C5e.call(t,n)&&w5e(e,n,t[n]);return e})({positionSeconds:r,positionMilliseconds:s},a))}return n.displayName=`WithPositionMilliseconds(${(0,Nw.Z)(e)})`,n.WrappedComponent=e,n.propTypes={positionSeconds:sa().number,positionMilliseconds:sa().number.isRequired},(0,v.$j)(t,null,null,{context:v1e})(n)};var T5e=n(28450),N5e=n.n(T5e);class O5e extends g.Component{constructor(e,t){super(e,t),this._loadSubtitles=()=>{this._loadTimeoutID&&(this._loadTimeoutID=window.clearTimeout(this._loadTimeoutID)),this._connectionTimeoutID&&(this._connectionTimeoutID=window.clearTimeout(this._connectionTimeoutID)),this._formatTimeoutID&&(this._formatTimeoutID=window.clearTimeout(this._formatTimeoutID));const{subtitlesUrl:e,positionMilliseconds:t,decisionUseSidecarSrtSubtitles:n}=this.props;this._positionAtTimeOfRequest=t,(0,M.Z)("[Subtitles] loading subtitles. position: %s url: %s",this._positionAtTimeOfRequest,e),this._abortStream(),this._xhr=new window.XMLHttpRequest;const r=new(N5e().parser.XhrStream)(this._xhr),i=n?new(N5e().parser.SrtStreamParser)(r).ass:new(N5e().parser.StreamParser)(r).minimalASS;this._openSubtitlesConnection(),i.then(this.onSubtitlesLoad,this.onSubtitlesFail)},this._getPosition=()=>{const{positionMilliseconds:e,offset:t}=this.props,n=(e+t)/1e3;if(n%1e3){const e=this._clock.currentTime;if(Math.floor(e)===n)return e}return n},this.onMeasure=({width:e,height:t})=>{this.setState({width:e,height:t})},this.onSubtitlesLoad=e=>{if(!this._isMounted)return!1;(0,M.Z)("[Subtitles] Starting to render subtitles"),this._destroySubtitles(),this._clock=new(N5e().renderers.AutoClock)(this._getPosition,1e3),this._renderer=new(N5e().renderers.WebRenderer)(e,this._clock,document.getElementById(this._rendererID),this.props.rendererOptions),this._setSubtitleSize(),this._rerenderSubtitles(),this._setClockState(),this._formatTimeoutID=window.setTimeout((()=>{this._setSubtitleColor(),this._setSubtitlePosition(),this._rerenderSubtitles()}),0)},this.onSubtitlesConnectionTimeout=()=>{(0,M.Z)("[Subtitles] Connection inactivity timeout, reopening."),this._openSubtitlesConnection()},this.onSubtitlesFail=()=>{if(!this._isMounted)return!1;const e=this._xhr.readyState,t=this._xhr.status;this._errorCount++,M.Z.warn("[Subtitles] Request failed. statusCode:%s state:%s errorCount:%s %s",t,e,this._errorCount,this._xhr.errorString||""),this._errorCount>this.props.consecutiveErrorsTolerance?this.props.onSubtitlesError():this._loadTimeoutID=window.setTimeout(this._loadSubtitles,this.props.retryTimeout)},N5e().debugMode=!1,this.state={width:0,height:0},this._rendererID=(0,GE.Z)(),this._loadTimeoutID=null,this._connectionTimeoutID=null,this._errorCount=0,this._positionAtTimeOfRequest=null,this._isMounted=!1}componentDidMount(){this._isMounted=!0,this.props.subtitlesUrl&&this._loadSubtitles()}componentDidUpdate(e,t){const{isOpen:n,isBuffering:r,isPaused:i,hasError:a,heightOffset:s,rendererOptions:o,offset:l,color:c,position:d,size:u,sizeMultiplier:p,subtitlesUrl:m}=this.props,{width:h,height:g}=this.state;if(this._shouldResetStream(e)||o!==e.rendererOptions||m!==e.subtitlesUrl)return void this._loadSubtitles();const y=c!==e.color,v=d!==e.position,f=u!==e.size||p!==e.sizeMultiplier;y&&this._setSubtitleColor(),v&&this._setSubtitlePosition(),f&&this._setSubtitleSize(),(y||v||f||h!==t.width||g!==t.height||s!==e.heightOffset)&&this._rerenderSubtitles(),n===e.isOpen&&r===e.isBuffering&&i===e.isPaused&&a===e.hasError||this._setClockState(),l!==e.offset&&this._setPosition()}componentWillUnmount(){(0,M.Z)("[Subtitles] Closing"),this._loadTimeoutID&&(this._loadTimeoutID=window.clearTimeout(this._loadTimeoutID)),this._connectionTimeoutID&&(this._connectionTimeoutID=window.clearTimeout(this._connectionTimeoutID)),this._formatTimeoutID&&(this._formatTimeoutID=window.clearTimeout(this._formatTimeoutID)),this._isMounted=!1,this._destroySubtitles(),this._abortStream()}_openSubtitlesConnection(){const{subtitlesUrl:e,isDirectPlay:t,positionSeconds:n,connectionTimeout:r}=this.props;this._abortStream(),this._xhr.onreadystatechange=e=>{4===e.currentTarget.readyState&&(e.currentTarget.status>=200&&e.currentTarget.status<300?this._errorCount=0:this.onSubtitlesFail())},r&&(this._xhr.onprogress=e=>{(0,M.Z)("[Subtitles] Received data, restarting connection timer."),window.clearTimeout(this._connectionTimeoutID),this._connectionTimeoutID=window.setTimeout(this.onSubtitlesConnectionTimeout,r)});let i=e;if(t){const t=E.Z.parseUrl(e);t.params.offset=n,i=E.Z.join([t.origin,t.pathname],t.params)}this._xhr.open("GET",i,!0),this._xhr.send()}_destroySubtitles(){this._loadTimeoutID&&(this._loadTimeout=window.clearTimeout(this._loadTimeoutID)),this._clock&&(this._clock.disable(),this._clock=null),this._renderer&&(this._renderer.disable(),this._renderer=null);const e=document.getElementById(this._rendererID);for(;e.hasChildNodes();)e.removeChild(e.lastChild)}_abortStream(){this._xhr&&((0,M.Z)("[Subtitles] Aborting existing xhr."),this._xhr.onreadystatechange=null,this._xhr.onprogress=null,this._xhr.abort())}_setSubtitleColor(){const{color:e}=this.props;if(!this._renderer)return;const t=function(e){const t=/^#?([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})$/i.exec(e);return t?{red:parseInt(t[1],16),green:parseInt(t[2],16),blue:parseInt(t[3],16)}:null}(e),n=this._renderer.ass.styles.get("Default");t?n?((0,M.Z)("[Subtitles] Setting subtitle color to %s",e),n._primaryColor=new(N5e().parts.Color)(t.red,t.green,t.blue,1),n._outlineColor=e===mUe.BLACK?new(N5e().parts.Color)(255,255,255,1):new(N5e().parts.Color)(0,0,0,1)):M.Z.warn("[Subtitles] Unable to set subtitle color, no default style"):M.Z.warn("[Subtitles] Unable to set subtitle color, invalid color")}_setSubtitlePosition(){const{position:e}=this.props;if(!this._renderer)return;const t=this._renderer.ass.styles.get("Default");let n=2;e===gUe.MIDDLE?n=5:e===gUe.TOP&&(n=8),t?((0,M.Z)("[Subtitles] Setting subtitle position to %s",e),t._alignment=n):M.Z.warn("[Subtitles] Unable to set subtitle position, no default style")}_setSubtitleSize(){const{size:e,sizeMultiplier:t}=this.props;if(!this._renderer)return;const n=this._renderer.ass.properties,r=e*t/100;let i,a;this.state.originalResolutionX&&this.state.originalResolutionY?(i=this.state.originalResolutionX,a=this.state.originalResolutionY):(i=n.resolutionX,a=n.resolutionY,this.setState({originalResolutionX:i,originalResolutionY:a})),n.resolutionX=i/r,n.resolutionY=a/r}_rerenderSubtitles(){if(this._renderer){const{width:e,height:t}=this.state;(0,M.Z)("[Subtitles] Re-rendering subtitles"),this._renderer.resize(e,t-this.props.heightOffset)}}_setPosition(){const e=this._clock;if(!e||!e._manualClock)return;const{positionMilliseconds:t,offset:n}=this.props;e._manualClock._currentTime=(t+n)/1e3}_setClockState(){const e=this._clock;if(!e)return;const{isOpen:t,isBuffering:n,isPaused:r,hasError:i}=this.props;return n||r?((0,M.Z)("[Subtitles] Clock State: paused"),void e.pause()):!t||i?((0,M.Z)("[Subtitles] Clock State: disabled"),void e.disable()):r?void 0:((0,M.Z)("[Subtitles] Clock State: playing"),void e.play())}_shouldResetStream(e){const{isOpen:t,isMediaLoading:n,isBuffering:r,isPaused:i,hasError:a,positionMilliseconds:s,lastSeekPositionSeconds:o,decisionUseSidecarSrtSubtitles:l}=this.props;if(l)return!1;const c=this._positionAtTimeOfRequest,d=s-e.positionMilliseconds,u=d>0&&t&&!n&&!r&&!i&&!a;if(null!=o&&o!==e.lastSeekPositionSeconds)return this._resetAfterSeekStarted=!0,this._resetLater=!1,!1;if(this._resetAfterSeekStarted){const e=1e3*o<s;return!(!u||!e||(this._resetAfterSeekStarted=!1,0))}return u&&this._resetLater?(this._resetLater=!1,!0):(!this._xhr||d>1e4||s<c)&&(this._resetLater=!u,u)}render(){return g.createElement(bx.Z,{className:"Subtitles-measure-d6Tpx3",onMeasure:this.onMeasure},g.createElement("div",{id:this._rendererID,className:"Subtitles-renderer-2L1st6",role:"alert"}))}}O5e.defaultProps={offset:0,color:mUe.WHITE,position:gUe.BOTTOM,size:vUe.NORMAL,sizeMultiplier:1,heightOffset:0,consecutiveErrorsTolerance:3,connectionTimeout:null,retryTimeout:3e3,rendererOptions:{enableSvg:!1,preciseOutlines:!1}};const A5e=O5e;var x5e=Object.defineProperty,j5e=Object.prototype.hasOwnProperty,L5e=Object.getOwnPropertySymbols,k5e=Object.prototype.propertyIsEnumerable,R5e=(e,t,n)=>t in e?x5e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,z5e=(e,t)=>{for(var n in t||(t={}))j5e.call(t,n)&&R5e(e,n,t[n]);if(L5e)for(var n of L5e(t))k5e.call(t,n)&&R5e(e,n,t[n]);return e};const U5e={dispatchMakeDecision:A1e.bY,dispatchRemoveDecision:A1e.Td,dispatchShowAlert:ZC.wp};class V5e extends g.Component{constructor(e,t){super(e,t),this.onSubtitlesError=()=>{const{playQueueItemEntityID:e,playerType:t,positionMilliseconds:n,qualityIndex:r,decisionMediaIndex:i,decisionPartIndex:a,decisionUseSidecarSrtSubtitles:s,dispatchMakeDecision:o,dispatchRemoveDecision:l}=this.props;s?this.setState({hasSidecarSrtFailed:!0}):(l({playerType:t,playQueueItemEntityID:e}),o({playerType:t,playQueueItemEntityID:e,qualityIndex:r,mediaIndex:i,partIndex:a,options:{offset:n,subtitlesBurnLevel:fUe.Z.ALWAYS}}))},this.state={hasSidecarSrtFailed:!1}}componentDidUpdate(e,t){const{hasSidecarSrtFailed:n}=this.state;n&&n!==t.hasSidecarSrtFailed&&(M.Z.error("[Subtitles] Unrecoverable error processing",this.props.subtitlesUrl),this.props.dispatchShowAlert({type:"error",message:(0,Ce.Z)("There was an unexpected subtitles error")}))}render(){const e=this.props,{subtitlesUrl:t,dispatchMakeDecision:n,dispatchRemoveDecision:r}=e,i=((e,t)=>{var n={};for(var r in e)j5e.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&L5e)for(var r of L5e(e))t.indexOf(r)<0&&k5e.call(e,r)&&(n[r]=e[r]);return n})(e,["subtitlesUrl","dispatchMakeDecision","dispatchRemoveDecision"]);return!t||this.state.hasSidecarSrtFailed?null:g.createElement(A5e,z5e(z5e({subtitlesUrl:t},i),{onSubtitlesError:this.onSubtitlesError}))}}const B5e=Z5e(V5e),F5e=(0,v.$j)((function(){return(0,fe.P1)(p4e(["isOpen","isMediaLoading","isBuffering","isPaused","hasError","qualityIndex","positionSeconds","lastSeekPositionSeconds"]),l1e(),o1e(),L1e(),(0,b.DB)("selectSubtitleSettings"),((e,t,n,r,i)=>{const a=n.entityID,s=z5e(z5e(z5e({},e),i),{playQueueItemEntityID:a});return t&&(s.decisionMediaIndex=t.mediaIndex,s.decisionPartIndex=t.partIndex,s.decisionUseSidecarSrtSubtitles=t.useSidecarSrtSubtitles,s.subtitlesUrl=t.subtitlesUrl,s.isDirectPlay=t.isDirectPlay),r.selectedSubtitlesStream&&(s.offset=r.selectedSubtitlesStream.offset),s}))}),U5e)(B5e);var _5e=Object.defineProperty,H5e=Object.prototype.hasOwnProperty,Q5e=Object.getOwnPropertySymbols,G5e=Object.prototype.propertyIsEnumerable,W5e=(e,t,n)=>t in e?_5e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Y5e=(e,t)=>{for(var n in t||(t={}))H5e.call(t,n)&&W5e(e,n,t[n]);if(Q5e)for(var n of Q5e(t))G5e.call(t,n)&&W5e(e,n,t[n]);return e};function K5e(e){"Enter"===e.key&&e.nativeEvent.stopImmediatePropagation()}const q5e=(0,Bd.Z)(to.Z.defaultSpeed),$5e={enter:{opacity:1,duration:q5e},exit:{opacity:0,duration:q5e}},J5e=function(e){var t=e,{isHidden:n,isHiddenPolite:r,marker:i,positionSeconds:a,onPress:s}=t,o=((e,t)=>{var n={};for(var r in e)H5e.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&Q5e)for(var r of Q5e(e))t.indexOf(r)<0&&G5e.call(e,r)&&(n[r]=e[r]);return n})(t,["isHidden","isHiddenPolite","marker","positionSeconds","onPress"]);const l=$3e(i),[c,d]=(0,g.useState)(0),{isOpen:u,onOpen:p,onClose:m}=(0,gd.Z)(),h=(0,g.useRef)(),y=(0,g.useCallback)((e=>{K5e(e),d(a),s(Math.round(i.endTimeOffset/1e3))}),[i,a,s]);return(0,g.useEffect)((()=>{const e=1e3*a,t=!i,s=e<(null==i?void 0:i.startTimeOffset),o=e>=(null==i?void 0:i.endTimeOffset),l=c>0,d=(null==i?void 0:i.endTimeOffset)-e<500,u=r&&h.current&&a>=h.current;n||t||s||o||u||l&&d?m():r&&!h.current?h.current=a+10:t||s||o||p()}),[i,n,r,c,a,p,m]),(0,g.useEffect)((()=>()=>{h.current=0,d(0)}),[l]),g.createElement(Ud.M_,null,u&&l?g.createElement(Ud.ww.div,{key:l,initial:"exit",animate:"enter",exit:"exit",variants:$5e},g.createElement(cb.Z,Y5e(Y5e({},o),{autoFocus:"autofocus",onKeyDown:K5e,onKeyUp:K5e,onTouchEnd:K5e,onTouchStart:K5e,onPress:y}),function(e){switch(e.type){case c1e:return(0,Ce.Z)("Skip Ads");case d1e:return(0,Ce.Z)("Skip Intro");case"outro":return(0,Ce.Z)("Skip Outro");case"recaps":return(0,Ce.Z)("Skip Recaps")}}(i))):null)};var X5e=Object.defineProperty,e6e=Object.prototype.hasOwnProperty,t6e=Object.getOwnPropertySymbols,n6e=Object.prototype.propertyIsEnumerable,r6e=(e,t,n)=>t in e?X5e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const i6e=(0,v.$j)((function(){return(0,fe.zB)({positionSeconds:j1("positionSeconds")})}),(function(e,{playerType:t}){return{onPress(n){e(a1e.O7({playerType:t,positionSeconds:n}))}}}))((function(e){var t=e,{playerType:n}=t,r=((e,t)=>{var n={};for(var r in e)e6e.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&t6e)for(var r of t6e(e))t.indexOf(r)<0&&n6e.call(e,r)&&(n[r]=e[r]);return n})(t,["playerType"]);return g.createElement(J5e,((e,t)=>{for(var n in t||(t={}))e6e.call(t,n)&&r6e(e,n,t[n]);if(t6e)for(var n of t6e(t))n6e.call(t,n)&&r6e(e,n,t[n]);return e})({},r))})),a6e=parseInt(ng.Z.playerControlsHeight,10);class s6e extends g.Component{constructor(){super(...arguments),this.onMeasure=e=>{this.props.onDimensionsChange&&this.props.onDimensionsChange(e)}}render(){const{className:e,bottom:t,children:n}=this.props;return g.createElement(bx.Z,{className:e,style:{bottom:t},ignoreWidth:!0,ignorePosition:!0,onMeasure:this.onMeasure},n)}}s6e.defaultProps={className:"AudioVideoStripeContainer-container-2TIa2Q",bottom:a6e};const o6e=s6e;var l6e=Object.defineProperty,c6e=Object.prototype.hasOwnProperty,d6e=Object.getOwnPropertySymbols,u6e=Object.prototype.propertyIsEnumerable,p6e=(e,t,n)=>t in e?l6e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,m6e=(e,t)=>{for(var n in t||(t={}))c6e.call(t,n)&&p6e(e,n,t[n]);if(d6e)for(var n of d6e(t))u6e.call(t,n)&&p6e(e,n,t[n]);return e};const h6e=(0,Ux.n3)(Ac.MOVIE,null,kx.r$),g6e=2*(parseInt(ng.Z.posterTitleHeight,10)+parseInt(ng.Z.posterTitlePadding,10));function y6e(e){return e-g6e}const v6e=(0,g.memo)((function(e){const{serverEntityID:t,index:n,thumb:r,tag:i,isActive:a,startTimeOffset:s,cellWidth:o,cellHeight:l,onSeekTo:c}=e,d=(0,Ax.Z)(e),u=(0,g.useCallback)((()=>{const e=Math.round(s/1e3);c(e)}),[s,c]),p=n;return g.createElement("div",{style:d.style},g.createElement(pw.Z,{className:Te()("VideoChapterCell-thumbWrapper-1SJ4TA",a&&"VideoChapterCell-isActive-28FrlZ"),onPress:u},g.createElement(xt.Z,{key:p,serverEntityID:t,url:r,backgroundSize:"contain",width:o,height:y6e(l),component:Ot.Z})),g.createElement("div",{className:"VideoChapterCell-titleContainer-3IuaRP"},g.createElement("div",{className:"VideoChapterCell-title-2AoBsi"},function(e,t){return t||(0,Ce.Z)("Chapter {index}",{index:e})}(n,i)),g.createElement("div",{className:"VideoChapterCell-secondaryTitle-cg00sr"},(0,aS.Z)(s))))}));var f6e=Object.defineProperty,b6e=Object.prototype.hasOwnProperty,I6e=Object.getOwnPropertySymbols,S6e=Object.prototype.propertyIsEnumerable,M6e=(e,t,n)=>t in e?f6e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,E6e=(e,t)=>{for(var n in t||(t={}))b6e.call(t,n)&&M6e(e,n,t[n]);if(I6e)for(var n of I6e(t))S6e.call(t,n)&&M6e(e,n,t[n]);return e};const P6e=(0,J4.ZP)({direction:J4._y,rows:1,overscan:0,innerHorizontalPadding:30,outerPaddingTop:10,outerPaddingLeft:5,outerPaddingRight:5,getCellWidth:e=>t2(m6e(m6e({},e),{minCellWidth:135,preferredCellWidth:180,minColumns:2,maxColumns:11,aspectRatio:h6e})),getCellHeight:e=>X4(m6e(m6e({},e),{aspectRatio:h6e,titleHeight:g6e}))});class D6e extends g.Component{constructor(e,t){super(e,t),this.onHubCellScrollIndexChange=e=>{this.setState({scrollIndex:e,scrollIndexIsActiveChapter:!1})},this.state={scrollIndex:this.props.activeChapterIndex,scrollIndexIsActiveChapter:!0,activeChapterIndex:this.props.activeChapterIndex}}static getDerivedStateFromProps(e,t){return t.activeChapterIndex!==e.activeChapterIndex?{scrollIndex:e.activeChapterIndex,scrollIndexIsActiveChapter:!0,activeChapterIndex:e.activeChapterIndex}:null}render(){const{serverEntityID:e,bottom:t,activeChapterIndex:n,chapters:r,onSeekTo:i}=this.props;return g.createElement(o6e,{className:"VideoChapters-container-9F_CiL AudioVideoStripeContainer-container-2TIa2Q",bottom:t},g.createElement(M$e,{hubIdentifier:"chapters",title:(0,Ce.Z)("Chapter selection"),size:r.length,keyPropName:"index",items:r.map(((e,t)=>E6e(E6e({},e),{isActive:t===n}))),layout:P6e,cellRenderer:BQ({serverEntityID:e,onSeekTo:i},v6e),scrollIndex:this.state.scrollIndex,shouldCenterScrollIndex:this.state.scrollIndexIsActiveChapter,onListScrollIndexChange:this.onHubCellScrollIndexChange}))}}const C6e=D6e,w6e=(0,v.$j)((function(){return(0,fe.P1)(x1(),u1e(),(0,fe.P1)(j1("positionSeconds"),m1e(),((e,t)=>t&&t.chapters?t.chapters.findIndex((t=>Math.floor(t.startTimeOffset/1e3)<=e&&Math.floor(t.endTimeOffset/1e3)>e)):-1)),((e,t,n)=>({serverEntityID:e.serverEntityID,chapters:t.chapters,activeChapterIndex:n})))}),(function(e,{playerType:t}){return{onSeekTo(n){e(a1e.O7({playerType:t,positionSeconds:n}))}}}))(C6e),Z6e=function(e){const{title:t}=e;return g.createElement("div",{className:"AudioVideoFullPlayerContentHeading-heading-3mZn8Q"},t)},T6e=function(e){const{children:t}=e;return g.createElement("div",{className:"AudioVideoFullPlayerContentHeadingContainer-headingContainer-1G_G1u"},t,g.createElement("div",{className:"AudioVideoFullPlayerContentHeadingContainer-divider-2xRBwK"}))};function N6e(e){const{className:t,posterPlayButtonClassName:n,serverEntityID:r,providerEntityID:i,metadataItemEntityID:a,type:s,title:o,context:l,imageWidth:c,imageHeight:d,imageUrl:u,beginsAt:p,endsAt:m,channelTitle:h,channelShortTitle:y,timeFormat:v,onPlayPress:f}=e,b=U4(s,l,{providerEntityID:i});return g.createElement("div",{className:t},g.createElement("div",{className:"GridAlsoAiringItemMetadata-channelInfoContainer-15mj-m"},g.createElement("div",{"data-qa-id":"alsoAiringItem-channel-name",className:"GridAlsoAiringItemMetadata-channelTitle---ngm_"},y||h)),g.createElement("div",{className:"GridAlsoAiringItemMetadata-cardContainer-tqa6Be"},g.createElement(xFe,{playButtonClassName:n,playCircleClassName:"GridAlsoAiringItemMetadata-posterPlayCircle-1eQhiw MetadataPosterButtonCard-playCircle-3JXUqx PlayButton-playCircle-2DYa77",serverEntityID:r,providerEntityID:i,imageWidth:c,imageHeight:d,imageUrl:u,title:o,onPlayPress:f})),g.createElement("div",{className:"GridAlsoAiringItemMetadata-titlesContainer-2_qQ8C"},g.createElement("div",{className:"GridAlsoAiringItemMetadata-titles-24s_2d"},b.map(((e,t)=>g.createElement(m1,{key:t,serverEntityID:r,providerEntityID:i,metadataItemEntityID:a,component:e,isSecondary:t>0}))))),g.createElement("div",{className:"GridAlsoAiringItemMetadata-airTimeContainer-kkpXsi"},p&&m?Bx(p,m,{timeFormat:v,separator:"  "}):null))}N6e.defaultProps={className:"GridAlsoAiringItemMetadata-container-1J-ebV"};const O6e=N6e,A6e=(0,v.$j)((function(){return(0,fe.P1)(jx,(0,xx.Z)(),(0,S1.Z)(),((e,t,n)=>{const r=kx.UC,i=(0,Ux.n3)(t.type,t.subtype,r)===Ux.oz?64:36,a=(0,o1.Z)(i,null,t.type,t.subtype,t,r);return{type:t.type,title:t.title,context:r,imageWidth:a.width,imageHeight:a.height,imageUrl:a.url,beginsAt:n&&n.beginsAt,endsAt:n&&n.endsAt,channelTitle:n&&n.channelTitle,channelShortTitle:n&&n.channelShortTitle,timeFormat:e}}))}))(O6e),x6e=function(e){const{serverEntityID:t,providerEntityID:n,metadataItemEntityID:r,playerType:i,onPlayPress:a}=e;return g.createElement("div",{"data-qa-id":"alsoAiringItem",className:"GridAlsoAiringItem-container-5upW0n"},g.createElement(pw.Z,{className:"GridAlsoAiringItem-underlay-2e3RW7",onPress:a}),g.createElement(A6e,{className:"GridAlsoAiringItem-metadataContainer-3PUfG5 GridAlsoAiringItemMetadata-container-1J-ebV",posterPlayButtonClassName:"GridAlsoAiringItem-metadataPosterPlayButton-21vOUv MetadataPosterButtonCard-playButton-3TZX1L PlayButton-playButton-2dFmuo",serverEntityID:t,providerEntityID:n,metadataItemEntityID:r,playerType:i,onPlayPress:a}))};var j6e=Object.defineProperty,L6e=Object.prototype.hasOwnProperty,k6e=Object.getOwnPropertySymbols,R6e=Object.prototype.propertyIsEnumerable,z6e=(e,t,n)=>t in e?j6e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,U6e=(e,t)=>{for(var n in t||(t={}))L6e.call(t,n)&&z6e(e,n,t[n]);if(k6e)for(var n of k6e(t))R6e.call(t,n)&&z6e(e,n,t[n]);return e};const V6e={dispatchStartLiveTVPlayback:Ol.lS},B6e=(0,v.$j)(null,V6e)((function(e){const t=e,{dispatchStartLiveTVPlayback:n}=t,r=((e,t)=>{var n={};for(var r in e)L6e.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&k6e)for(var r of k6e(e))t.indexOf(r)<0&&R6e.call(e,r)&&(n[r]=e[r]);return n})(t,["dispatchStartLiveTVPlayback"]),{serverEntityID:i,providerEntityID:a,metadataItemEntityID:s}=e,o=(0,g.useCallback)((()=>{n({serverEntityID:i,providerEntityID:a,metadataItemEntityID:s,metricsPage:pt.r$})}),[n,i,a,s]);return g.createElement(x6e,U6e(U6e({},r),{onPlayPress:o}))})),F6e=function(e){const{serverEntityID:t,providerEntityID:n,itemEntityIDs:r,playerType:i}=e;return g.createElement("div",{className:"GridAlsoAiring-container-2g7IPX"},g.createElement(T6e,null,g.createElement(Z6e,{title:(0,Ce.Z)("Airing Now")})),g.createElement(rU.Z,{className:"GridAlsoAiring-content--RTJkj Scroller-vertical-3IY07c",autoScroll:!0},r.map((e=>g.createElement(B6e,{key:e,serverEntityID:t,providerEntityID:n,metadataItemEntityID:e,playerType:i})))))};var _6e=Object.defineProperty,H6e=Object.prototype.hasOwnProperty,Q6e=Object.getOwnPropertySymbols,G6e=Object.prototype.propertyIsEnumerable,W6e=(e,t,n)=>t in e?_6e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const Y6e={dispatchInitMetadataList:DA,dispatchPopulateChannelPrograms:AA,dispatchRepopulateChannelPrograms:xA,dispatchResetStartTime:wA,dispatchSetViewportSize:NA},K6e=(0,v.$j)((function(){return(0,fe.P1)((e=>e.ui.channelGridPage.viewportWidth),ox(),ix(),((e,t,n)=>{const r=Math.floor(Date.now()/1e3);return{containerKey:n,itemEntityIDs:t.filter((e=>e.Media[0].beginsAt<=r&&e.Media[0].endsAt>r)).map((e=>e.entityID)),shouldSetViewportSize:0===e}}))}),Y6e)((function(e){const t=e,{shouldSetViewportSize:n,dispatchInitMetadataList:r,dispatchPopulateChannelPrograms:i,dispatchRepopulateChannelPrograms:a,dispatchResetStartTime:s,dispatchSetViewportSize:o}=t,l=((e,t)=>{var n={};for(var r in e)H6e.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&Q6e)for(var r of Q6e(e))t.indexOf(r)<0&&G6e.call(e,r)&&(n[r]=e[r]);return n})(t,["shouldSetViewportSize","dispatchInitMetadataList","dispatchPopulateChannelPrograms","dispatchRepopulateChannelPrograms","dispatchResetStartTime","dispatchSetViewportSize"]),{containerKey:c,serverEntityID:d,providerEntityID:u}=e;return(0,g.useEffect)((()=>{c&&(n&&o(),s(),r({containerKey:c,serverEntityID:d,providerEntityID:u}),i())}),[c,d,u,n,r,i,s,o]),g.createElement(F6e,((e,t)=>{for(var n in t||(t={}))H6e.call(t,n)&&W6e(e,n,t[n]);if(Q6e)for(var n of Q6e(t))G6e.call(t,n)&&W6e(e,n,t[n]);return e})({},l))}));var q6e=Object.defineProperty,$6e=Object.prototype.hasOwnProperty,J6e=Object.getOwnPropertySymbols,X6e=Object.prototype.propertyIsEnumerable,e8e=(e,t,n)=>t in e?q6e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const t8e=(0,v.$j)((function(){return(0,fe.P1)((e=>e.ui.channelGridPage),x1(),((e,t)=>({serverEntityID:t.serverEntityID,providerEntityID:t.providerEntityID,metadataListEntityID:e.metadataList})))}))((function(e){return g.createElement(K6e,((e,t)=>{for(var n in t||(t={}))$6e.call(t,n)&&e8e(e,n,t[n]);if(J6e)for(var n of J6e(t))X6e.call(t,n)&&e8e(e,n,t[n]);return e})({},e))}));var n8e=Object.defineProperty,r8e=Object.prototype.hasOwnProperty,i8e=Object.getOwnPropertySymbols,a8e=Object.prototype.propertyIsEnumerable,s8e=(e,t,n)=>t in e?n8e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,o8e=(e,t)=>{for(var n in t||(t={}))r8e.call(t,n)&&s8e(e,n,t[n]);if(i8e)for(var n of i8e(t))a8e.call(t,n)&&s8e(e,n,t[n]);return e};const l8e="ui/player/playerControls/togglePlayerOpenState",c8e=((0,bc.Z)(l8e),(0,bc.Z)(l8e,(e=>o8e(o8e({},e),{openState:Fj.K})))),d8e=(0,bc.Z)(l8e,(e=>o8e(o8e({},e),{openState:Fj.y}))),u8e={[l8e](e,{playerType:t,openState:n}){const r=(0,Wj.F_)(e,t);(0,fn.c9)((()=>{r.set({previousOpenState:void 0,openState:n,isSettingsVisible:!1,isChaptersVisible:!1,isPlayQueueVisible:!1,isLyricsVisible:!1})}))}};var p8e=Object.defineProperty,m8e=Object.prototype.hasOwnProperty,h8e=Object.getOwnPropertySymbols,g8e=Object.prototype.propertyIsEnumerable,y8e=(e,t,n)=>t in e?p8e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,v8e=(e,t)=>{for(var n in t||(t={}))m8e.call(t,n)&&y8e(e,n,t[n]);if(h8e)for(var n of h8e(t))g8e.call(t,n)&&y8e(e,n,t[n]);return e};function f8e(e){const t=e,{className:n,isPrimary:r}=t,i=((e,t)=>{var n={};for(var r in e)m8e.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&h8e)for(var r of h8e(e))t.indexOf(r)<0&&g8e.call(e,r)&&(n[r]=e[r]);return n})(t,["className","isPrimary"]);return g.createElement(Lx.Z,v8e(v8e({},i),{className:Te()(n,r&&"PlayerIconButton-isPrimary-1GYXk2")}))}f8e.defaultProps={className:"PlayerIconButton-playerButton-aW9TNw IconButton-button-llQ1So"};const b8e=f8e;function I8e(e){var t=e["aria-label"],n=e.className,r=e.style,i={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-player-collapse-560"};i["aria-hidden"]=!t,i.style=r,i.className=oa.Z.plexIcon+(n?" "+n:"");var a=[g.createElement.apply(g,["path",{d:"M280 448L28 196l56-56 196 196 196-196 56 56z"}].concat([]))];return t&&a.unshift(g.createElement("title",null,t)),g.createElement.apply(g,["svg",i].concat(a))}I8e.propTypes={"aria-label":sa().string,className:sa().string,style:sa().object};const S8e=I8e;function M8e(e){var t=e["aria-label"],n=e.className,r=e.style,i={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-player-fullscreen-560"};i["aria-hidden"]=!t,i.style=r,i.className=oa.Z.plexIcon+(n?" "+n:"");var a=[g.createElement.apply(g,["path",{d:"M532.011 28H346.44l76.891 76.892L310.2 218.023l31.788 31.788 113.131-113.132 76.892 76.892V28zM28 532.011h185.572L136.68 455.12l113.131-113.131-31.788-31.788-113.131 113.131L28 346.44v185.571z"}].concat([]))];return t&&a.unshift(g.createElement("title",null,t)),g.createElement.apply(g,["svg",i].concat(a))}M8e.propTypes={"aria-label":sa().string,className:sa().string,style:sa().object};const E8e=M8e;function P8e(e){var t=e["aria-label"],n=e.className,r=e.style,i={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-player-windowed-560"};i["aria-hidden"]=!t,i.style=r,i.className=oa.Z.plexIcon+(n?" "+n:"");var a=[g.createElement.apply(g,["path",{d:"M224 336H38.428l76.892 76.892L2.189 526.023l31.788 31.788L147.108 444.68 224 521.572V336zm112-112h185.572l-76.892-76.892L557.811 33.977 526.023 2.189 412.892 115.32 336 38.428V224z"}].concat([]))];return t&&a.unshift(g.createElement("title",null,t)),g.createElement.apply(g,["svg",i].concat(a))}P8e.propTypes={"aria-label":sa().string,className:sa().string,style:sa().object};const D8e=P8e,C8e={topControls:"FullPlayerTopControls-topControls-2VIF8s",topButton:"FullPlayerTopControls-topButton-3z2b_v PlayerIconButton-playerButton-aW9TNw IconButton-button-llQ1So",castButton:"FullPlayerTopControls-castButton-1yiNbG FullPlayerTopControls-topButton-3z2b_v PlayerIconButton-playerButton-aW9TNw IconButton-button-llQ1So",remotePlayerName:"FullPlayerTopControls-remotePlayerName-1boYKp",remotePlayerProduct:"FullPlayerTopControls-remotePlayerProduct-3NjdzC"},w8e=(0,fe.P1)(Sj,(e=>e?e.product:null)),Z8e=(0,fe.P1)(d2e,w8e,(0,fe.P1)(KVe,_Ve,FVe(),j1("isWatchTogether"),(0,fe.P1)(s1e(),(e=>null==e?void 0:e.type)),ml.Z,((e,t,n,r,i,a)=>{const s=2===t&&(0,Gj.Z)({protocol:Bj.l,providerIdentifier:n,userFeaturesByUUID:a,isWatchTogether:r,playQueueType:i}),o=e.some((({protocol:e,protocolCapabilities:t})=>(0,Gj.Z)({protocol:e,protocolCapabilities:t,providerIdentifier:n,userFeaturesByUUID:a,isWatchTogether:r,playQueueType:i})));return s||o})),((e,t,n)=>({remotePlayerName:e,remotePlayerProduct:t,showRemotePlayer:n}))),T8e=(0,v.$j)(Z8e,(function(e,t){const n={playerType:t.playerType};return{onCollapsePress(t){e(d8e(n))}}}))((function(e){const{className:t=C8e.topControls,playerType:n,showRemotePlayer:r,hasFullscreen:i,isFullscreen:a,remotePlayerName:s,remotePlayerProduct:o,onCollapsePress:l,onCastMenuChange:c,onEnterFullscreenPress:d,onExitFullscreenPress:u}=e,p=(0,f.TH)(),m=(0,Dp.Z)(p);return(0,g.useEffect)((()=>{m&&p!==m&&!(0,f.LX)(m.pathname,{path:SK.Z.watchNow,exact:!0})&&l()}),[p,m,l]),g.createElement("div",{className:t},g.createElement("div",null,g.createElement(b8e,{className:C8e.topButton,"data-qa-id":"minimizePlayerButton",iconComponent:S8e,title:(0,Ce.Z)("Minimize Player"),onPress:l}),s?g.createElement("span",{className:C8e.remotePlayerName},(0,Ce.Z)("Casting to {playerName}",{playerName:s})):null,s&&o?g.createElement("span",{className:C8e.remotePlayerProduct},"(",o,")"):null),g.createElement("div",null,r?g.createElement(mBe,{className:C8e.castButton,playerType:n,onMenuChange:c}):null,i&&a?g.createElement(b8e,{className:C8e.topButton,"data-qa-id":"windowedButton",iconComponent:D8e,title:(0,Ce.Z)("Exit Fullscreen"),onPress:u}):null,i&&!a?g.createElement(b8e,{className:C8e.topButton,"data-qa-id":"fullscreenButton",iconComponent:E8e,title:(0,Ce.Z)("Enter Fullscreen"),onPress:d}):null))})),N8e="PlayPauseOverlay-hiddenCursor-3r15wl";class O8e extends g.Component{constructor(e,t){super(e,t),this.onPress=e=>{this._cancelPlayPause(),this.setState((({isPaused:e})=>({isPaused:!e}))),this._playPauseTimeoutID=window.setTimeout((()=>{this._playPauseTimeoutID=null,this.props.isPaused!==this.state.isPaused&&this.props.onTogglePlayPress(e)}),175)},this.onDoubleClick=e=>{this.props.onToggleFullscreen()},this.state={isPaused:e.isPaused},this._playPauseTimeoutID=null}UNSAFE_componentWillReceiveProps(e){e.isPaused===this.state.isPaused||this._playPauseTimeoutID||this.setState({isPaused:e.isPaused})}componentWillUnmount(){this._cancelPlayPause()}_cancelPlayPause(){this._playPauseTimeoutID&&(window.clearTimeout(this._playPauseTimeoutID),this._playPauseTimeoutID=null)}render(){const{className:e,isCursorHidden:t,isTogglePlayPressDisabled:n}=this.props,{isPaused:r}=this.state;return n?g.createElement("div",{className:Te()(e,t&&N8e,"PlayPauseOverlay-overlay-1TG2wv"),onClick:this.onPress,onDoubleClick:this.onDoubleClick}):g.createElement(Xx.Z,{className:Te()(e,t&&N8e,r?"PlayPauseOverlay-playButton-2QHNcV PlayPauseOverlay-overlay-1TG2wv PlayButton-playButton-2dFmuo":"PlayPauseOverlay-pauseButton-1xHZt- PlayPauseOverlay-playButton-2QHNcV PlayPauseOverlay-overlay-1TG2wv PlayButton-playButton-2dFmuo"),circleClassName:"PlayPauseOverlay-playCircle-1xl6BG PlayButton-playCircle-2DYa77","aria-label":r?(0,Ce.Z)("Play"):(0,Ce.Z)("Pause"),onPress:this.onPress,onDoubleClick:this.onDoubleClick})}}O8e.defaultProps={isCursorHidden:!1,isTogglePlayPressDisabled:!1};const A8e=O8e,x8e=(0,v.$j)((function(){return(0,fe.P1)(x1(),BVe(),((e,t)=>{const n=Fo.wB(t.identifier,Fo.vP);return{isPaused:e.isPaused,isTogglePlayPressDisabled:n&&!e.isPaused}}))}),(function(e,t){const n={playerType:t.playerType};return{onTogglePlayPress(t){e((0,a1e.ID)(n))}}}))(A8e),j8e=(0,fe.P1)(uAe.Z,(e=>e.audioDevices||[])),L8e=(0,fe.P1)(j8e,(e=>e.filter((e=>e.present)))),k8e=(0,fe.P1)(j8e,uAe.Z,((e,t)=>e.find((e=>e.name===t["player.audioDevice"]))));var R8e=Object.defineProperty,z8e=Object.prototype.hasOwnProperty,U8e=Object.getOwnPropertySymbols,V8e=Object.prototype.propertyIsEnumerable,B8e=(e,t,n)=>t in e?R8e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;class F8e extends g.Component{constructor(e,t){super(e,t),this.onToggleMenuPress=e=>{this.setState({isMenuOpen:!this.state.isMenuOpen})},this.onMenuClose=e=>{this.setState({isMenuOpen:!1})},this.onSelectPress=e=>t=>{this.props.onChange(e),this.onMenuClose()},this.state={isMenuOpen:!1},this._menuInputButtonID=(0,GE.Z)()}getSelectedValue(e,t){const n=S().find(e,(e=>{if(S().isString(e))return e===t;const[n]=S().keys(e);return n===t}));if(S().isString(n))return n;const[r]=S().keys(n);return null==n?void 0:n[r]}render(){const e=this.props,{name:t,size:n,kind:r,value:i,values:a,overrideSelectedValue:s}=e,o=((e,t)=>{var n={};for(var r in e)z8e.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&U8e)for(var r of U8e(e))t.indexOf(r)<0&&V8e.call(e,r)&&(n[r]=e[r]);return n})(e,["name","size","kind","value","values","overrideSelectedValue"]),l=this.getSelectedValue(a,i);return null==l?null:g.createElement(Z0.Z,{id:this._menuInputButtonID,size:n,kind:r,direction:this.state.isMenuOpen?kp.UP:kp.WV,onPress:this.onToggleMenuPress},s||l,g.createElement(Xl.Z,((e,t)=>{for(var n in t||(t={}))z8e.call(t,n)&&B8e(e,n,t[n]);if(U8e)for(var n of U8e(t))V8e.call(t,n)&&B8e(e,n,t[n]);return e})({isOpen:this.state.isMenuOpen,target:this._menuInputButtonID,onMenuClose:this.onMenuClose},o),a.map((e=>{if(S().isString(e))return g.createElement(Up.Z,{key:e,isSelected:e===i,onPress:this.onSelectPress(e)},e);const[t]=S().keys(e);return g.createElement(Up.Z,{key:t,isSelected:t===i,onPress:this.onSelectPress(t)},e[t])}))))}}const _8e=F8e,H8e=function(e){const{bottom:t,children:n,title:r=(0,Ce.Z)("Playback Settings"),onDimensionsChange:i}=e;return g.createElement(o6e,{className:"AudioVideoPlaybackSettings-container-lIjMOe AudioVideoStripeContainer-container-2TIa2Q",bottom:t,onDimensionsChange:i},g.createElement("div",{className:"AudioVideoPlaybackSettings-title--BA1sj"},r),g.createElement("div",{className:"AudioVideoPlaybackSettings-menusContainer-2DMtry","data-qa-id":"playbackSettingsContainer"},n))};function Q8e({className:e,label:t,children:n,isDisabled:r}){return g.createElement("div",{className:Te()(e,r&&"AudioVideoSettingsRow-isDisabled-3pKVt2")},g.createElement("div",{className:"AudioVideoSettingsRow-label-3jOrnl AudioVideoSettingsRow-cell-3uwnhq"},t),g.createElement("div",{className:"AudioVideoSettingsRow-cell-3uwnhq"},n))}Q8e.defaultProps={className:"AudioVideoSettingsRow-row-17UbJZ"};const G8e=Q8e;class W8e extends g.Component{constructor(e,t){super(e,t),this.onPlaybackSpeedChange=({positionValue:e})=>{this.setState({playbackSpeed:e},(()=>{this.props.onPlaybackSpeedChange(e)}))},this.state={playbackSpeed:e.playbackSpeed}}UNSAFE_componentWillReceiveProps(e){e.playbackSpeed!==this.props.playbackSpeed&&this.setState({playbackSpeed:e.playbackSpeed})}render(){const{audioDevices:e,bottom:t,canSetPlaybackSpeed:n,playbackSpeed:r,playbackSpeedSetting:i,selectedAudioDevice:a,onAudioDeviceChange:s,onDimensionsChange:o}=this.props;return g.createElement(H8e,{bottom:t,onDimensionsChange:o},n?g.createElement(G8e,{label:(0,Ce.Z)("Playback Speed")},g.createElement(Es.Z,{className:"AudioSettings-slider-ovwdsU Slider-slider-4zRCDI",min:i.min,max:i.max,stepSize:i.step,value:this.state.playbackSpeed,onChange:this.onPlaybackSpeedChange}),(0,Vae.H)(r)):null,(null==e?void 0:e.length)>1?g.createElement(G8e,{label:(0,Ce.Z)("Audio Device")},g.createElement(_8e,{name:"audioDevice",size:Rp.M2,value:a.name,values:e.map((e=>({[e.name]:pVe(e)}))),onChange:s})):null)}}W8e.defaultProps={playbackSpeedSetting:{min:.5,max:2,step:.1}};const Y8e=W8e,K8e=(0,oC.Z)((function(){return(0,fe.P1)(j1("controllable"),N1e(),(0,fe.P1)(BVe(),(e=>{if(!e)return;const t=S().findWhere(e.features,{type:AC.L6});return t&&S().findWhere(t.settings,{id:eR.Jz})||void 0})),L8e,k8e,((e,t,n,r,i)=>({audioDevices:r,selectedAudioDevice:i,canSetPlaybackSpeed:!e||!!e.playbackSpeed,playbackSpeed:t,playbackSpeedSetting:n})))}),(function(e,t){const{playerType:n}=t;return{onAudioDeviceChange(t){e((0,mt.mb)({deviceName:t}))},onPlaybackSpeedChange(t){e(a1e.ec({playerType:n,playbackSpeed:t}))}}}))(Y8e);function q8e(e){return g.createElement("div",{className:e.className},e.children)}q8e.defaultProps={className:"BottomBar-bottomBar-rwT9ad"};const $8e=q8e;function J8e(e){return g.createElement("div",{className:e.className},e.children)}J8e.defaultProps={className:"ControlsContainer-controlsContainer-2vVSNH"};const X8e=J8e;var e9e=n(79490),t9e=Object.defineProperty,n9e=Object.prototype.hasOwnProperty,r9e=Object.getOwnPropertySymbols,i9e=Object.prototype.propertyIsEnumerable,a9e=(e,t,n)=>t in e?t9e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,s9e=(e,t)=>{for(var n in t||(t={}))n9e.call(t,n)&&a9e(e,n,t[n]);if(r9e)for(var n of r9e(t))i9e.call(t,n)&&a9e(e,n,t[n]);return e};class o9e extends g.Component{constructor(e,t){super(e,t),this.onVolumeChange=e=>{const{volume:t}=this.state,n=Math.round(Math.min(100,Math.max(0,t+e)));t!==n&&this.setState({volume:n},(()=>{this.props.onVolumeChange(this.state.volume)}))},this.onVolumeIconPress=()=>{const e=this.state.volume>0;e&&(this._lastVolume=this.state.volume),this.setState({volume:e?0:this._lastVolume||100},(()=>{this.props.onVolumeChange(this.state.volume)}))},this.state={volume:e.volume}}UNSAFE_componentWillReceiveProps({volume:e}){e!==this.state.volume&&this.setState({volume:e})}render(){const{component:e}=this.props;return g.createElement(e,s9e(s9e(s9e({},this.props),this.state),{onVolumeChange:this.onVolumeChange,onVolumeIconPress:this.onVolumeIconPress}))}}const l9e=(0,v.$j)((function(){return(0,fe.P1)(((e,{isWatchTogether:t})=>t),x1(),o1e(),O1e,((e,t,n,r)=>{const i=t.controllable,a=t.playQueue,s=a.currentIndex;let o,l,c;return i?(l=!i.skipNext,o=!i.skipPrevious,c=!i.shuffle):(l=!t.repeatAll&&s>=t.playQueue.playQueueItems.length-1,o=!t.repeatAll&&s<=0&&t.positionSeconds<=e9e.Nf,c=!a.canShuffle),{metadataItemEntityID:n.metadataItem,providerEntityID:t.providerEntityID,serverEntityID:t.serverEntityID,volume:r,activateChaptersButton:t.isChaptersVisible,activateLyricsButton:t.isLyricsVisible,activateQueueButton:t.isPlayQueueVisible,activateRepeatButton:t.repeatAll,activateRepeatOneButton:t.repeatOne,activateSettingsButton:t.isSettingsVisible,activateWatchTogetherParticipantsButton:t.isWatchTogetherParticipantsVisible,activateShuffleButton:a.playQueueShuffled,disableNextButton:l,disablePauseButton:!!i&&!i.playPause,disablePlayButton:!!i&&!i.playPause,disablePreviousButton:o,disableRepeatButton:!!i&&!i.repeat,disableRepeatOneButton:!!i&&!i.repeat,disableShuffleButton:c,disableSkipBackButton:!!i&&!i.seekTo,disableSkipForwardButton:!!i&&!i.seekTo,showCloseButton:!0,showNextButton:!e,showPauseButton:!t.isPaused,showPlayButton:t.isPaused,showPreviousButton:!e,showRepeatButton:!t.repeatOne&&!e,showRepeatOneButton:t.repeatOne&&!e,showVolume:!i||i.volume}}))}),(function(e,{playerType:t}){const n={playerType:t};return{onEditPress(t){e(Nl.editMetadataItem(t))},onFavoritePress(t){e(Nl.favoriteMetadataItem(t))},onUnfavoritePress(t){e(Nl.unfavoriteMetadataItem(t))},onRepeatPress(){e(Rj.ZD(n))},onRepeatOnePress(){e(Rj.ZD(n))},onPreviousPress(){e(Rj.oA(n))},onNextPress(){e(Rj.o1(n))},onShufflePress(){e(Rj.Yj(n))},onQueuePress(){e(Rj.D5(n))},onLyricsPress(){e(Rj.Ie(n))},onSkipBackPress(){e(a1e.QJ(n))},onPlayPress(){e(a1e.hY(n))},onPausePress(){e(a1e.wO(n))},onSkipForwardPress(){e(a1e.wW(n))},onSettingsPress(){e(a1e.z5(n))},onWatchTogetherParticipantsPress(){e(a1e.$m(n))},onChaptersPress(){e(a1e.Y5(n))},onVolumeChange(t){e(a1e.v6(s9e(s9e({},n),{volume:t})))},onClosePress(){e(vt.Mh(n))}}}),(function(e,t,n){const{metadataItemEntityID:r,providerEntityID:i}=e;return s9e(s9e(s9e(s9e({},n),e),t),{onEditPress(){t.onPausePress(),t.onEditPress({metadataItemEntityID:r})},onFavoritePress(){t.onFavoritePress({metadataItemEntityID:r,providerEntityID:i})},onUnfavoritePress(){t.onUnfavoritePress({metadataItemEntityID:r,providerEntityID:i})}})}))(o9e);function c9e(e){const{className:t,children:n}=e;return g.createElement("div",{className:t},n)}c9e.defaultProps={className:"AudioVideoInfoBar-container-1L_zL_"};const d9e=c9e,u9e=function(e){const{className:t}=e;return g.createElement(d9e,{className:t},g.createElement("div",{className:"AdInfoBar-message-UWU1G6"},(0,Ce.Z)("Video will play after this advertisement")))};class p9e extends g.Component{constructor(e,t){super(e,t),this.onTogglePress=()=>{this.setState((e=>({isToggled:!e.isToggled})))},this.state={isToggled:!1}}render(){const{className:e,durationSeconds:t,positionSeconds:n}=this.props,r=1e3*n,i=1e3*t,a=i-r;return g.createElement(pw.Z,{className:e,"data-qa-id":"mediaDuration",onPress:this.onTogglePress},this.state.isToggled?`-${(0,aS.Z)(a)}`:(0,aS.Z)(r)," / ",(0,aS.Z)(i))}}p9e.defaultProps={className:"DurationRemaining-container-3zfLur"};const m9e=p9e;function h9e(e){const{isTidal:t,isPreview:n,isLossless:r}=e,i=!t||!n&&!r;return g.createElement("div",{className:Te()(e.className,i&&"MediaInfo-hidden-2KqeUN")},g.createElement("span",{className:"MediaInfo-info-ybOqZ5"},n?(0,Ce.Z)("TIDAL Preview"):"HI-FI"))}h9e.defaultProps={className:"MediaInfo-infoContainer-3sknNC"};const g9e=h9e,y9e=(0,v.$j)((function(){return(0,fe.P1)(l1e(),(0,xx.Z)(),((e,t)=>{if(!t)return{isTidal:!1,isPreview:!1,isLossless:!1};const n=t.Media[e?e.mediaIndex:0],r=!!n&&"flac"===n.audioCodec;return{isTidal:t.attribution===ua,isPreview:!!t.preview,isLossless:r}}))}))(g9e);function v9e(e){const{className:t,playerType:n,serverEntityID:r,providerEntityID:i,metadataItemEntityID:a,type:s,subtype:o,positionSeconds:l,context:c,showStarRating:d,hasUserRating:u,isUnknownAiring:p,showDuration:m,durationSeconds:h}=e;if(p)return g.createElement("div",{className:t},(0,Ce.Z)("Unknown Airing"));if(!a||!s)return null;const y=U4(s,c,{subtype:o,providerEntityID:i});return g.createElement("div",{className:Te()(t,d&&u&&"PlayerControlsMetadata-hasUserRating-1iTmtz")},y.map(((e,t)=>g.createElement(m1,{key:t,playerType:n,serverEntityID:r,providerEntityID:i,metadataItemEntityID:a,positionSeconds:l,component:e,isSecondary:t>0}))),m&&h&&null!=l?g.createElement(m9e,{className:"PlayerControlsMetadata-durationContainer-ktysVb DurationRemaining-container-3zfLur",durationSeconds:h,positionSeconds:l,"data-qa-id":"mediaDuration"}):null,g.createElement(y9e,{className:"PlayerControlsMetadata-mediaInfoContainer-iM5sqP MediaInfo-infoContainer-3sknNC",playerType:n,metadataItemEntityID:a}),d?g.createElement(k4,{className:"PlayerControlsMetadata-ratingContainer-2yKg7V",serverEntityID:r,providerEntityID:i,metadataItemEntityID:a}):null)}v9e.defaultProps={className:"PlayerControlsMetadata-container-3STsmr"};const f9e=v9e;var b9e=Object.defineProperty,I9e=Object.prototype.hasOwnProperty,S9e=Object.getOwnPropertySymbols,M9e=Object.prototype.propertyIsEnumerable,E9e=(e,t,n)=>t in e?b9e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,P9e=(e,t)=>{for(var n in t||(t={}))I9e.call(t,n)&&E9e(e,n,t[n]);if(S9e)for(var n of S9e(t))M9e.call(t,n)&&E9e(e,n,t[n]);return e};const D9e=(0,v.$j)((function(){return(0,fe.P1)(x1(),(0,xx.Z)(),((e,t={})=>({serverEntityID:t.serverEntityID||e.serverEntityID,providerEntityID:t.providerEntityID||e.providerEntityID,type:t.type,subtype:t.subtype,context:kx.r$,hasUserRating:null!=t.userRating})))}))(f9e);D9e.propTypes=P9e(P9e({},D9e.propTypes),{metadataItemEntityID:sa().string,playerType:sa().string.isRequired});const C9e=D9e;var w9e=Object.defineProperty,Z9e=Object.prototype.hasOwnProperty,T9e=Object.getOwnPropertySymbols,N9e=Object.prototype.propertyIsEnumerable,O9e=(e,t,n)=>t in e?w9e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,A9e=(e,t)=>{for(var n in t||(t={}))Z9e.call(t,n)&&O9e(e,n,t[n]);if(T9e)for(var n of T9e(t))N9e.call(t,n)&&O9e(e,n,t[n]);return e};const x9e=(0,v.$j)((function(){return(0,fe.P1)(V1(),(e=>({metadataItemEntityID:e&&e.entityID,isUnknownAiring:!e})))}))(C9e);x9e.propTypes=A9e(A9e({},x9e.propTypes),{playerType:sa().string.isRequired});const j9e=x9e;function L9e(e){var t=e["aria-label"],n=e.className,r=e.style,i={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-player-record-560"};i["aria-hidden"]=!t,i.style=r,i.className=oa.Z.plexIcon+(n?" "+n:"");var a=[g.createElement.apply(g,["circle",{cx:"280",cy:"280",r:"196"}].concat([]))];return t&&a.unshift(g.createElement("title",null,t)),g.createElement.apply(g,["svg",i].concat(a))}L9e.propTypes={"aria-label":sa().string,className:sa().string,style:sa().object};const k9e=L9e,R9e=parseInt(ng.Z.playerIconButtonSize,10),z9e=(0,v.$j)((function(){return(0,fe.P1)(pF(),(e=>({isRecording:!!e,recordingProgress:e&&e.progress})))}))((function(e){const{isRecording:t,recordingProgress:n,onPress:r}=e;return g.createElement("div",{className:"LiveTVRecordButton-recordButton-3brclf"},g.createElement(b8e,{className:Te()(t?"LiveTVRecordButton-playerButtonRecording-1ctVQw LiveTVRecordButton-playerButton-1F_umU PlayerIconButton-playerButton-aW9TNw IconButton-button-llQ1So":"LiveTVRecordButton-playerButton-1F_umU PlayerIconButton-playerButton-aW9TNw IconButton-button-llQ1So"),iconComponent:k9e,"data-qa-id":"recordButton",title:(0,Ce.Z)("Record"),onPress:r}),t?g.createElement(AF,{size:R9e,containerClassName:"LiveTVRecordButton-recordingProgressBarContainer-2q8U3B CircularProgressBar-absoluteCenterCircularProgressBarContainer-3BkZp2",backgroundClassName:"LiveTVRecordButton-recordingProgressBackground-2pkIZb CircularProgressBar-circularProgressBarBackground-18BaI- CircularProgressBar-circularProgressBarBackground-1LlpZu",lineWidth:2,progress:n,showProgressText:!1}):null)}));class U9e extends g.Component{constructor(e,t){super(e,t),this.onRecordPress=e=>{this.setState({isSubscribeModalOpen:!0})},this.onSubscribeModalClose=()=>{this.setState({isSubscribeModalOpen:!1})},this.state={isSubscribeModalOpen:!1}}render(){const{serverEntityID:e,providerEntityID:t,metadataItemEntityID:n,type:r}=this.props;return n&&r?g.createElement("div",{className:"LiveTVRecord-recordButtonContainer-zCZkzs"},g.createElement(z9e,{serverEntityID:e,metadataItemEntityID:n,type:r,onPress:this.onRecordPress}),g.createElement(km.Z,{serverEntityID:e,providerEntityID:t,metadataItemEntityID:n,isOpen:this.state.isSubscribeModalOpen,subscriptionType:r,onModalClose:this.onSubscribeModalClose})):null}}const V9e=U9e,B9e=(0,v.$j)((function(){return(0,fe.P1)(X4e(),((e={})=>{const{entityID:t,type:n}=e;return{metadataItemEntityID:t,type:n}}))}))(V9e);function F9e(e){var t=e["aria-label"],n=e.className,r=e.style,i={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-player-expand-560"};i["aria-hidden"]=!t,i.style=r,i.className=oa.Z.plexIcon+(n?" "+n:"");var a=[g.createElement.apply(g,["path",{d:"M280 140l252 252-56 56-196-196L84 448l-56-56z"}].concat([]))];return t&&a.unshift(g.createElement("title",null,t)),g.createElement.apply(g,["svg",i].concat(a))}F9e.propTypes={"aria-label":sa().string,className:sa().string,style:sa().object};const _9e=F9e;function H9e(e){const{className:t,cardClassName:n,serverEntityID:r,providerEntityID:i,metadataItemEntityID:a,metadataKey:s,type:o,disableExpandButton:l,imageWidth:c,imageHeight:d,imageUrl:u,isMusic:p,onExpandPress:m}=e,h=p?"music":s;return g.createElement("div",{className:t,style:{width:c}},g.createElement("div",{className:"MiniPlayerPoster-cardContainer-3S_5W3"},g.createElement(b8e,{className:"MiniPlayerPoster-expandButton-1VZC0w PlayerIconButton-playerButton-aW9TNw IconButton-button-llQ1So","data-qa-id":"expandPlayerButton",iconComponent:_9e,isDisabled:l,title:(0,Ce.Z)("Expand Player"),onPress:m}),g.createElement(gQ.Z,{cardClassName:n,serverEntityID:r,providerEntityID:i,metadataItemEntityID:a,metadataKey:h,type:o,imageWidth:c,imageHeight:d,imageUrl:u,showLinkOnly:!0,showOverlay:!1})))}H9e.defaultProps={className:"MiniPlayerPoster-miniPlayerPoster-3ZY-k8",cardClassName:"MiniPlayerPoster-card-Nd8Px7 MetadataPosterCard-card-72Dv8q"};const Q9e=H9e,G9e=parseInt(ng.Z.playerControlsPosterHeight,10),W9e=(0,v.$j)((function(){return(0,fe.P1)(m1e(),(e=>{const t=kx.r$,n=(0,o1.Z)(null,G9e,e.type,e.subtype,e,t);return{serverEntityID:e.serverEntityID,providerEntityID:e.providerEntityID,metadataItemEntityID:e.entityID,type:e.type,metadataKey:e.key,imageWidth:n.width,imageHeight:n.height,imageUrl:n.url}}))}),(function(e,{playerType:t}){const n={playerType:t};return{onExpandPress(t){e(c8e(n))}}}))(Q9e);var Y9e=n(3568);function K9e(e){var t=e["aria-label"],n=e.className,r=e.style,i={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-player-more-vertical-560"};i["aria-hidden"]=!t,i.style=r,i.className=oa.Z.plexIcon+(n?" "+n:"");var a=[g.createElement.apply(g,["path",{d:"M280 168c-30.897 0-56-25.103-56-56 0-30.896 25.103-56 56-56s56 25.104 56 56c-.965 31.862-25.103 56-56 56zm56 112c0 30.897-25.103 56-56 56s-56-25.103-56-56 25.103-56 56-56 56 25.103 56 56zm0 168c0 30.897-25.103 56-56 56s-56-25.103-56-56 25.103-56 56-56 56 25.103 56 56z"}].concat([]))];return t&&a.unshift(g.createElement("title",null,t)),g.createElement.apply(g,["svg",i].concat(a))}K9e.propTypes={"aria-label":sa().string,className:sa().string,style:sa().object};const q9e=K9e;var $9e=Object.defineProperty,J9e=Object.prototype.hasOwnProperty,X9e=Object.getOwnPropertySymbols,e7e=Object.prototype.propertyIsEnumerable,t7e=(e,t,n)=>t in e?$9e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,n7e=(e,t)=>{for(var n in t||(t={}))J9e.call(t,n)&&t7e(e,n,t[n]);if(X9e)for(var n of X9e(t))e7e.call(t,n)&&t7e(e,n,t[n]);return e};const r7e={showDelete:!1,showDeleteVersion:!1,showEdit:!1,showFixMatch:!1,showMarkUnplayed:!1,showMarkPlayed:!1,showMatch:!1,showOptimize:!1,showPlay:!1,showPlayAll:!1,showPlayMusicVideo:!1,showPlayPlexMix:!1,showPlayTrailer:!1,showPlayVersion:!1,showWatchTogether:!1,showQueue:!1,showRefresh:!1,showSelect:!1,showShuffle:!1,showSplitApart:!1,showSyncDownload:!1,showUnmatch:!1};class i7e extends g.Component{constructor(e,t){super(e,t),this.onPress=()=>{this.setState(((e,t)=>({isMenuOpen:!e.isMenuOpen})),(()=>{this.props.onMenuChange&&this.props.onMenuChange(this.state.isMenuOpen)}))},this.onMenuClose=()=>{this.setState({isMenuOpen:!1},(()=>{this.props.onMenuChange&&this.props.onMenuChange(!1)}))},this.state={isMenuOpen:!1},this._menuButtonID=(0,GE.Z)()}render(){const{serverEntityID:e,providerEntityID:t,metadataItemEntityID:n,metadataActionProps:r,isDisabled:i}=this.props,a=n7e(n7e({},r),r7e);return S().values(a).some((e=>e))?g.createElement("span",null,g.createElement(b8e,{id:this._menuButtonID,"data-qa-id":"moreButton",iconComponent:q9e,isDisabled:i,title:(0,Ce.Z)("More Actions"),onPress:this.onPress}),g.createElement(X6.Z,n7e(n7e({serverEntityID:e,providerEntityID:t,metadataItemEntityID:n,target:this._menuButtonID,isOpen:this.state.isMenuOpen},r7e),{onMenuClose:this.onMenuClose}))):null}}const a7e=i7e,s7e=(0,v.$j)((function(){return(0,fe.P1)((0,Y9e.Z)(),(e=>({metadataActionProps:e})))}))(a7e),o7e=250,l7e=.5;function c7e(e={}){const{callback:t,axisLockDuration:n=o7e,sensitivity:r=l7e,maxAbsDelta:i=Number.MAX_SAFE_INTEGER}=e;let a,s;return e=>{e.preventDefault(),(void 0===s||e.timeStamp-s>=n)&&(a=Math.abs(e.deltaX)>Math.abs(e.deltaY)?"deltaX":"deltaY",s=e.timeStamp);const o=e[a]*r;if(!o)return;let l=Math.max(0,Math.min(i,Math.abs(o)));l*=o>0?1:-1,l=(e.nativeEvent||e).webkitDirectionInvertedFromDevice?l:-l,t(l)}}function d7e(e){var t=e["aria-label"],n=e.className,r=e.style,i={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-player-volume-high-560"};i["aria-hidden"]=!t,i.style=r,i.className=oa.Z.plexIcon+(n?" "+n:"");var a=[g.createElement.apply(g,["path",{d:"M447.161 28.839C516.391 90.361 560 180.088 560 280s-43.609 189.639-112.839 251.161l-29.75-29.75C479.064 447.527 518 368.31 518 280S479.064 112.473 417.411 58.589l29.75-29.75zm-79.409 79.409C416.818 149.318 448 211.018 448 280c0 68.982-31.182 130.682-80.248 171.752l-29.847-29.847C379.436 388.578 406 337.391 406 280c0-57.391-26.564-108.578-68.095-141.905l29.847-29.847zM28 336V224h56l112-112v336L84 336H28zm259.936-147.936C316.989 208.268 336 241.914 336 280c0 38.086-19.011 71.732-48.064 91.936l-30.452-30.452C279.246 329.605 294 306.525 294 280s-14.754-49.605-36.516-61.484l30.452-30.452z"}].concat([]))];return t&&a.unshift(g.createElement("title",null,t)),g.createElement.apply(g,["svg",i].concat(a))}d7e.propTypes={"aria-label":sa().string,className:sa().string,style:sa().object};const u7e=d7e;function p7e(e){var t=e["aria-label"],n=e.className,r=e.style,i={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-player-volume-low-560"};i["aria-hidden"]=!t,i.style=r,i.className=oa.Z.plexIcon+(n?" "+n:"");var a=[g.createElement.apply(g,["path",{d:"M28 336V224h56l112-112v336L84 336H28zm259.936-147.936C316.989 208.268 336 241.914 336 280c0 38.086-19.011 71.732-48.064 91.936l-30.452-30.452C279.246 329.605 294 306.525 294 280s-14.754-49.605-36.516-61.484l30.452-30.452z"}].concat([]))];return t&&a.unshift(g.createElement("title",null,t)),g.createElement.apply(g,["svg",i].concat(a))}p7e.propTypes={"aria-label":sa().string,className:sa().string,style:sa().object};const m7e=p7e;function h7e(e){var t=e["aria-label"],n=e.className,r=e.style,i={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-player-volume-mid-560"};i["aria-hidden"]=!t,i.style=r,i.className=oa.Z.plexIcon+(n?" "+n:"");var a=[g.createElement.apply(g,["path",{d:"M367.752 108.248C416.818 149.318 448 211.018 448 280c0 68.982-31.182 130.682-80.248 171.752l-29.847-29.847C379.436 388.578 406 337.391 406 280c0-57.391-26.564-108.578-68.095-141.905l29.847-29.847zM28 336V224h56l112-112v336L84 336H28zm259.936-147.936C316.989 208.268 336 241.914 336 280c0 38.086-19.011 71.732-48.064 91.936l-30.452-30.452C279.246 329.605 294 306.525 294 280s-14.754-49.605-36.516-61.484l30.452-30.452z"}].concat([]))];return t&&a.unshift(g.createElement("title",null,t)),g.createElement.apply(g,["svg",i].concat(a))}h7e.propTypes={"aria-label":sa().string,className:sa().string,style:sa().object};const g7e=h7e;function y7e(e){var t=e["aria-label"],n=e.className,r=e.style,i={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-player-volume-mute-560"};i["aria-hidden"]=!t,i.style=r,i.className=oa.Z.plexIcon+(n?" "+n:"");var a=[g.createElement.apply(g,["path",{d:"M84 224l112-112v336L84 336H28V224h56zm306.302 56l-84.146 84.146 29.698 29.698L420 309.698l84.146 84.146 29.698-29.698L449.698 280l84.146-84.146-29.698-29.698L420 250.302l-84.146-84.146-29.698 29.698L390.302 280z"}].concat([]))];return t&&a.unshift(g.createElement("title",null,t)),g.createElement.apply(g,["svg",i].concat(a))}y7e.propTypes={"aria-label":sa().string,className:sa().string,style:sa().object};const v7e=y7e,f7e=parseInt(ng.Z.playerVolumeSliderHeight,10);class b7e extends g.Component{constructor(e,t){super(e,t),this.onWheelDelta=e=>{this.props.onVolumeChange(e)},this.onWheel=c7e({callback:this.onWheelDelta,maxAbsDelta:f7e/10})}render(){const{className:e,volume:t,onPress:n}=this.props;let r=v7e;return t>60?r=u7e:t>40?r=g7e:t>0&&(r=m7e),g.createElement("span",{onWheel:this.onWheel},g.createElement(b8e,{className:e,title:0===t?(0,Ce.Z)("Unmute Volume"):(0,Ce.Z)("Mute Volume"),"data-qa-id":"volumeButton",iconComponent:r,onPress:n}))}}const I7e=b7e;var S7e=Object.defineProperty,M7e=Object.prototype.hasOwnProperty,E7e=Object.getOwnPropertySymbols,P7e=Object.prototype.propertyIsEnumerable,D7e=(e,t,n)=>t in e?S7e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,C7e=(e,t)=>{for(var n in t||(t={}))M7e.call(t,n)&&D7e(e,n,t[n]);if(E7e)for(var n of E7e(t))P7e.call(t,n)&&D7e(e,n,t[n]);return e};function w7e(e){return g.createElement(Es.Z,C7e(C7e({},e),{isVertical:!0}))}w7e.defaultProps={className:"VerticalSlider-slider-3NUmKG Slider-slider-4zRCDI",fillClassName:"VerticalSlider-fill-NWqIoH Slider-fill-35z5K8",thumbClassName:"VerticalSlider-thumb-1y9RTp Slider-thumb-1ZGojQ Link-link-CM9nxg",thumbTrackClassName:"VerticalSlider-thumbTrack-17wJ5r Slider-thumbTrack-3yG9Xm",trackClassName:"VerticalSlider-track-2dpm82 Slider-track-3iUWLY"};const Z7e=w7e,T7e=parseInt(ng.Z.playerVolumeSliderHeight,10);class N7e extends g.Component{constructor(e,t){super(e,t),this.onWheelDelta=e=>{this.onChange({positionDelta:e})},this.onChange=({positionDelta:e})=>{this.props.onVolumeChange(e)},this.onWheel=c7e({callback:this.onWheelDelta,maxAbsDelta:T7e/10})}render(){const{className:e,volume:t}=this.props;return g.createElement(Z7e,{className:e,trackClassName:"VolumeSlider-track-2coT9n VerticalSlider-track-2dpm82 Slider-track-3iUWLY",fillClassName:"VolumeSlider-fill-1JmRfE VerticalSlider-fill-NWqIoH Slider-fill-35z5K8",showFill:!0,autoHideThumb:!0,stepSize:1,value:t,onChange:this.onChange,onWheel:this.onWheel})}}N7e.defaultProps={className:"VolumeSlider-slider-1EfENi VerticalSlider-slider-3NUmKG Slider-slider-4zRCDI"};const O7e=N7e;var A7e=Object.defineProperty,x7e=Object.prototype.hasOwnProperty,j7e=Object.getOwnPropertySymbols,L7e=Object.prototype.propertyIsEnumerable,k7e=(e,t,n)=>t in e?A7e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,R7e=(e,t)=>{for(var n in t||(t={}))x7e.call(t,n)&&k7e(e,n,t[n]);if(j7e)for(var n of j7e(t))L7e.call(t,n)&&k7e(e,n,t[n]);return e};const z7e=(0,v.$j)((function(){return(0,fe.P1)(s1e(),(0,xx.Z)(),((e,t)=>{const{title:n,summary:r,originallyAvailableAt:i,addedAt:a}=t;return{title:n,summary:r,index:e.playQueueSelectedItemOffset,size:e.length,dateTaken:i||(0,Mi.Z)(a,"yyyy-MM-dd")}}))}))((function(e){const{title:t,summary:n,dateTaken:r,index:i,size:a}=e;let s="";r&&(s+=(0,pi.Z)(r)),n&&(s+=s?` ${rs.U} ${n}`:` ${n}`);const o=!(!t||!t.length),l=!!s.length,c=!!a;return g.createElement("div",{className:"PhotoMetadataControls-container-21d4Lh PlayerControlsMetadata-container-3STsmr"},o?g.createElement(m1,{component:SB.Z,title:t}):null,l?g.createElement(m1,{component:SB.Z,isSecondary:o,title:s}):null,c?g.createElement(m1,{component:SB.Z,isSecondary:o||l,title:(0,Ce.Z)("{currentIndex} of {size}",{currentIndex:i+1,size:a})}):null)}));z7e.propTypes=R7e(R7e({},z7e.propTypes),{metadataItemEntityID:sa().string.isRequired,playerType:sa().string.isRequired});const U7e=z7e;function V7e(e){var t=e["aria-label"],n=e.className,r=e.style,i={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-player-chapters-560"};i["aria-hidden"]=!t,i.style=r,i.className=oa.Z.plexIcon+(n?" "+n:"");var a=[g.createElement.apply(g,["path",{d:"M392 308h140v140H392V308zm-182 0h140v140H210V308zm-182 0h140v140H28V308zm364-196h140v140H392V112zm-182 0h140v140H210V112zm-182 0h140v140H28V112z"}].concat([]))];return t&&a.unshift(g.createElement("title",null,t)),g.createElement.apply(g,["svg",i].concat(a))}V7e.propTypes={"aria-label":sa().string,className:sa().string,style:sa().object};const B7e=V7e;function F7e(e){var t=e["aria-label"],n=e.className,r=e.style,i={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-player-edit-560"};i["aria-hidden"]=!t,i.style=r,i.className=oa.Z.plexIcon+(n?" "+n:"");var a=[g.createElement.apply(g,["path",{d:"M56 504l28-84 56 56-84 28zM448 56L112 392l56 56 336-336-56-56z"}].concat([]))];return t&&a.unshift(g.createElement("title",null,t)),g.createElement.apply(g,["svg",i].concat(a))}F7e.propTypes={"aria-label":sa().string,className:sa().string,style:sa().object};const _7e=F7e;function H7e(e){var t=e["aria-label"],n=e.className,r=e.style,i={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-player-favorite-empty-560"};i["aria-hidden"]=!t,i.style=r,i.className=oa.Z.plexIcon+(n?" "+n:"");var a=[g.createElement.apply(g,["path",{d:"M280 143.859C204.068 24.463 56 102.755 56 212.363 56 297.505 185.084 369.926 280 504c94.916-134.074 224-206.495 224-291.637 0-109.608-143.322-187.9-224-68.504zm0 282.828c-29.423-35.231-59.797-65.569-86.373-92.971-48.407-48.933-90.169-91.015-90.169-121.353 0-45.995 40.813-80.249 77.83-80.249 22.78 0 42.712 12.723 57.899 37.189L280 229.979l37.966-59.697c17.085-25.445 37.966-39.147 60.746-39.147 36.068 0 75.932 34.254 75.932 80.249 0 30.339-41.763 72.42-89.221 120.375-25.626 29.359-56 59.697-85.423 94.928z"}].concat([]))];return t&&a.unshift(g.createElement("title",null,t)),g.createElement.apply(g,["svg",i].concat(a))}H7e.propTypes={"aria-label":sa().string,className:sa().string,style:sa().object};const Q7e=H7e;function G7e(e){var t=e["aria-label"],n=e.className,r=e.style,i={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-player-favorite-filled-560"};i["aria-hidden"]=!t,i.style=r,i.className=oa.Z.plexIcon+(n?" "+n:"");var a=[g.createElement.apply(g,["path",{d:"M280 143.859C204.068 24.463 56 102.755 56 212.363 56 297.505 185.084 369.926 280 504c94.916-134.074 224-206.495 224-291.637 0-109.608-143.322-187.9-224-68.504z"}].concat([]))];return t&&a.unshift(g.createElement("title",null,t)),g.createElement.apply(g,["svg",i].concat(a))}G7e.propTypes={"aria-label":sa().string,className:sa().string,style:sa().object};const W7e=G7e;function Y7e(e){var t=e["aria-label"],n=e.className,r=e.style,i={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-player-info-560"};i["aria-hidden"]=!t,i.style=r,i.className=oa.Z.plexIcon+(n?" "+n:"");var a=[g.createElement.apply(g,["path",{d:"M280 476c108.248 0 196-87.752 196-196S388.248 84 280 84 84 171.752 84 280s87.752 196 196 196zm0 42C148.556 518 42 411.444 42 280 42 148.556 148.556 42 280 42c131.444 0 238 106.556 238 238 0 131.444-106.556 238-238 238zm-21-112h42V238h-42v168zm-7-224c0-7.519 2.606-14.065 7.818-19.639S271.636 154 279.636 154c8 0 14.728 2.657 20.182 7.972C305.273 167.287 308 173.963 308 182c0 8.037-2.727 14.713-8.182 20.028-5.454 5.315-12.182 7.972-20.182 7.972-8 0-14.606-2.787-19.818-8.361C254.606 196.065 252 189.519 252 182z"}].concat([]))];return t&&a.unshift(g.createElement("title",null,t)),g.createElement.apply(g,["svg",i].concat(a))}Y7e.propTypes={"aria-label":sa().string,className:sa().string,style:sa().object};const K7e=Y7e;function q7e(e){var t=e["aria-label"],n=e.className,r=e.style,i={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-player-lyrics-560"};i["aria-hidden"]=!t,i.style=r,i.className=oa.Z.plexIcon+(n?" "+n:"");var a=[g.createElement.apply(g,["path",{d:"M280 270.66c-8.574-2.997-18.045-4.66-28-4.66-38.66 0-70 25.072-70 56s31.34 56 70 56 70-25.072 70-56V140l-42-28v158.66zM448 84c15.464 0 28 12.536 28 28v254.244a56 56 0 0 1-19.556 42.518L280 560l28-140H112c-15.464 0-28-12.536-28-28V112c0-15.464 12.536-28 28-28h336zm-126 56v56l70 49v-56l-70-49z"}].concat([]))];return t&&a.unshift(g.createElement("title",null,t)),g.createElement.apply(g,["svg",i].concat(a))}q7e.propTypes={"aria-label":sa().string,className:sa().string,style:sa().object};const $7e=q7e;function J7e(e){var t=e["aria-label"],n=e.className,r=e.style,i={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-player-next-track-560"};i["aria-hidden"]=!t,i.style=r,i.className=oa.Z.plexIcon+(n?" "+n:"");var a=[g.createElement.apply(g,["path",{d:"M140 476V84l294 182V112h42v336h-42V294L140 476z"}].concat([]))];return t&&a.unshift(g.createElement("title",null,t)),g.createElement.apply(g,["svg",i].concat(a))}J7e.propTypes={"aria-label":sa().string,className:sa().string,style:sa().object};const X7e=J7e;function eet(e){var t=e["aria-label"],n=e.className,r=e.style,i={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-player-pause-560"};i["aria-hidden"]=!t,i.style=r,i.className=oa.Z.plexIcon+(n?" "+n:"");var a=[g.createElement.apply(g,["path",{d:"M112 112h126v336H112V112zm210 0h126v336H322V112z"}].concat([]))];return t&&a.unshift(g.createElement("title",null,t)),g.createElement.apply(g,["svg",i].concat(a))}eet.propTypes={"aria-label":sa().string,className:sa().string,style:sa().object};const tet=eet;function net(e){var t=e["aria-label"],n=e.className,r=e.style,i={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-player-play-560"};i["aria-hidden"]=!t,i.style=r,i.className=oa.Z.plexIcon+(n?" "+n:"");var a=[g.createElement.apply(g,["path",{d:"M168 476V84l336 196z"}].concat([]))];return t&&a.unshift(g.createElement("title",null,t)),g.createElement.apply(g,["svg",i].concat(a))}net.propTypes={"aria-label":sa().string,className:sa().string,style:sa().object};const ret=net;function iet(e){var t=e["aria-label"],n=e.className,r=e.style,i={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-player-previous-track-560"};i["aria-hidden"]=!t,i.style=r,i.className=oa.Z.plexIcon+(n?" "+n:"");var a=[g.createElement.apply(g,["path",{d:"M420 84v392L126 294v154H84V112h42v154z"}].concat([]))];return t&&a.unshift(g.createElement("title",null,t)),g.createElement.apply(g,["svg",i].concat(a))}iet.propTypes={"aria-label":sa().string,className:sa().string,style:sa().object};const aet=iet;function set(e){var t=e["aria-label"],n=e.className,r=e.style,i={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-player-queue-560"};i["aria-hidden"]=!t,i.style=r,i.className=oa.Z.plexIcon+(n?" "+n:"");var a=[g.createElement.apply(g,["path",{d:"M157.8 504H532v-44.8H157.8V504zm0-134.4H532v-44.8H157.8v44.8zm111.734-134.4H532v-44.8H269.534v44.8zM157.8 100.8H532V56H157.8v44.8zM196 210L28 336V84l168 126z"}].concat([]))];return t&&a.unshift(g.createElement("title",null,t)),g.createElement.apply(g,["svg",i].concat(a))}set.propTypes={"aria-label":sa().string,className:sa().string,style:sa().object};const oet=set;function cet(e){var t=e["aria-label"],n=e.className,r=e.style,i={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-player-repeat-560"};i["aria-hidden"]=!t,i.style=r,i.className=oa.Z.plexIcon+(n?" "+n:"");var a=[g.createElement.apply(g,["path",{d:"M168 118.906V42l112 98-112 98v-77.014l-34.983.014a64.547 64.547 0 0 0-7.861.483 62.458 62.458 0 0 0-25.438 9.029 63.5 63.5 0 0 0-20.004 19.884 62.762 62.762 0 0 0-6.156 12.684 62.5 62.5 0 0 0-3.025 12.682 64.449 64.449 0 0 0-.532 7.828c-.178 37.606-.178 103.214 0 140.82.021 2.617.193 5.232.532 7.828a62.525 62.525 0 0 0 3.025 12.683 62.776 62.776 0 0 0 6.36 13.003 63.522 63.522 0 0 0 20.61 20.062 62.48 62.48 0 0 0 24.234 8.481c2.663.348 5.347.52 8.033.533 98.204.154 196.411.463 294.614-.001a64.451 64.451 0 0 0 7.829-.532 62.433 62.433 0 0 0 24.397-8.58 63.53 63.53 0 0 0 20.752-20.444 62.693 62.693 0 0 0 6.118-12.704 62.495 62.495 0 0 0 2.962-12.501c.348-2.663.52-5.347.533-8.033.059-37.538.176-103.077-.001-140.614a64.451 64.451 0 0 0-.532-7.829 62.449 62.449 0 0 0-8.481-24.235 63.513 63.513 0 0 0-20.062-20.609 62.497 62.497 0 0 0-25.883-9.411 64.755 64.755 0 0 0-7.836-.507L294 160.953v-42.094l133.017.141a105.444 105.444 0 0 1 12.669.762 104.583 104.583 0 0 1 20.674 4.661 104.584 104.584 0 0 1 17.251 7.576 105.23 105.23 0 0 1 16.176 10.997 105.685 105.685 0 0 1 19.724 21.511 104.87 104.87 0 0 1 12.754 25.218 104.544 104.544 0 0 1 4.973 21.588 105.444 105.444 0 0 1 .761 12.349c.06 37.672.177 103.343-.001 141.014a105.465 105.465 0 0 1-.884 12.995 104.49 104.49 0 0 1-4.955 20.909 104.874 104.874 0 0 1-11.412 23.079 105.654 105.654 0 0 1-17.856 20.68 105.357 105.357 0 0 1-17.622 12.728 104.635 104.635 0 0 1-18.602 8.406 104.54 104.54 0 0 1-20.98 4.765 105.8 105.8 0 0 1-12.011.76c-98.449.465-196.903.465-295.352 0a105.465 105.465 0 0 1-12.995-.884 104.49 104.49 0 0 1-20.909-4.955 104.833 104.833 0 0 1-22.285-10.894 105.653 105.653 0 0 1-19.99-16.746 105.468 105.468 0 0 1-13.412-17.882 104.718 104.718 0 0 1-9.207-19.971 104.576 104.576 0 0 1-4.724-20.651 105.763 105.763 0 0 1-.8-12.339c-.179-37.784-.179-103.568 0-141.352a105.666 105.666 0 0 1 .841-12.668 104.568 104.568 0 0 1 4.998-21.236 104.742 104.742 0 0 1 10.384-21.485 105.542 105.542 0 0 1 34.323-33.711 104.784 104.784 0 0 1 20.481-9.594 104.592 104.592 0 0 1 29.257-5.526 113.23 113.23 0 0 1 4.038-.102l35.676-.096"}].concat([]))];return t&&a.unshift(g.createElement("title",null,t)),g.createElement.apply(g,["svg",i].concat(a))}cet.propTypes={"aria-label":sa().string,className:sa().string,style:sa().object};const det=cet;function uet(e){var t=e["aria-label"],n=e.className,r=e.style,i={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-player-repeat-one-560"};i["aria-hidden"]=!t,i.style=r,i.className=oa.Z.plexIcon+(n?" "+n:"");var a=[g.createElement.apply(g,["path",{d:"M168 118.906V42l112 98-112 98v-77.014l-34.983.014a64.547 64.547 0 0 0-7.861.483 62.458 62.458 0 0 0-25.438 9.029 63.5 63.5 0 0 0-20.004 19.884 62.762 62.762 0 0 0-6.156 12.684 62.5 62.5 0 0 0-3.025 12.682 64.449 64.449 0 0 0-.532 7.828c-.178 37.606-.178 103.214 0 140.82.021 2.617.193 5.232.532 7.828a62.525 62.525 0 0 0 3.025 12.683 62.776 62.776 0 0 0 6.36 13.003 63.522 63.522 0 0 0 20.61 20.062 62.48 62.48 0 0 0 24.234 8.481c2.663.348 5.347.52 8.033.533 98.204.154 196.411.463 294.614-.001a64.451 64.451 0 0 0 7.829-.532 62.433 62.433 0 0 0 24.397-8.58 63.53 63.53 0 0 0 20.752-20.444 62.693 62.693 0 0 0 6.118-12.704 62.495 62.495 0 0 0 2.962-12.501c.348-2.663.52-5.347.533-8.033.059-37.538.176-103.077-.001-140.614a64.451 64.451 0 0 0-.532-7.829 62.449 62.449 0 0 0-8.481-24.235 63.513 63.513 0 0 0-20.062-20.609 62.497 62.497 0 0 0-25.883-9.411 64.755 64.755 0 0 0-7.836-.507L294 160.953v-42.094l133.017.141a105.444 105.444 0 0 1 12.669.762 104.583 104.583 0 0 1 20.674 4.661 104.584 104.584 0 0 1 17.251 7.576 105.23 105.23 0 0 1 16.176 10.997 105.685 105.685 0 0 1 19.724 21.511 104.87 104.87 0 0 1 12.754 25.218 104.544 104.544 0 0 1 4.973 21.588 105.444 105.444 0 0 1 .761 12.349c.06 37.672.177 103.343-.001 141.014a105.465 105.465 0 0 1-.884 12.995 104.49 104.49 0 0 1-4.955 20.909 104.874 104.874 0 0 1-11.412 23.079 105.654 105.654 0 0 1-17.856 20.68 105.357 105.357 0 0 1-17.622 12.728 104.635 104.635 0 0 1-18.602 8.406 104.54 104.54 0 0 1-20.98 4.765 105.8 105.8 0 0 1-12.011.76c-98.449.465-196.903.465-295.352 0a105.465 105.465 0 0 1-12.995-.884 104.49 104.49 0 0 1-20.909-4.955 104.833 104.833 0 0 1-22.285-10.894 105.653 105.653 0 0 1-19.99-16.746 105.468 105.468 0 0 1-13.412-17.882 104.718 104.718 0 0 1-9.207-19.971 104.576 104.576 0 0 1-4.724-20.651 105.763 105.763 0 0 1-.8-12.339c-.179-37.784-.179-103.568 0-141.352a105.666 105.666 0 0 1 .841-12.668 104.568 104.568 0 0 1 4.998-21.236 104.742 104.742 0 0 1 10.384-21.485 105.542 105.542 0 0 1 34.323-33.711 104.784 104.784 0 0 1 20.481-9.594 104.592 104.592 0 0 1 29.257-5.526 113.23 113.23 0 0 1 4.038-.102l35.676-.096M392.049 385h-42V268.548L326.5 289.5 300 259l64-56 28.049.009V385"}].concat([]))];return t&&a.unshift(g.createElement("title",null,t)),g.createElement.apply(g,["svg",i].concat(a))}uet.propTypes={"aria-label":sa().string,className:sa().string,style:sa().object};const pet=uet;function met(e){var t=e["aria-label"],n=e.className,r=e.style,i={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-player-settings-560"};i["aria-hidden"]=!t,i.style=r,i.className=oa.Z.plexIcon+(n?" "+n:"");var a=[g.createElement.apply(g,["path",{d:"M126 213.205A69.97 69.97 0 0 0 105 210a69.97 69.97 0 0 0-21 3.205V56h42v157.205zm0 133.59V504H84V346.795A69.97 69.97 0 0 0 105 350a69.97 69.97 0 0 0 21-3.205zm175-49.59A69.97 69.97 0 0 0 280 294a69.97 69.97 0 0 0-21 3.205V56h42v241.205zm0 133.59V504h-42v-73.205A69.97 69.97 0 0 0 280 434a69.97 69.97 0 0 0 21-3.205zm175-301.59A69.97 69.97 0 0 0 455 126a69.97 69.97 0 0 0-21 3.205V56h42v73.205zm0 133.59V504h-42V262.795A69.97 69.97 0 0 0 455 266a69.97 69.97 0 0 0 21-3.205zM280 420c-30.928 0-56-25.072-56-56s25.072-56 56-56 56 25.072 56 56-25.072 56-56 56zm175-168c-30.928 0-56-25.072-56-56s25.072-56 56-56 56 25.072 56 56-25.072 56-56 56zm-350 84c-30.928 0-56-25.072-56-56s25.072-56 56-56 56 25.072 56 56-25.072 56-56 56z"}].concat([]))];return t&&a.unshift(g.createElement("title",null,t)),g.createElement.apply(g,["svg",i].concat(a))}met.propTypes={"aria-label":sa().string,className:sa().string,style:sa().object};const het=met;function get(e){var t=e["aria-label"],n=e.className,r=e.style,i={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-player-shuffle-560"};i["aria-hidden"]=!t,i.style=r,i.className=oa.Z.plexIcon+(n?" "+n:"");var a=[g.createElement.apply(g,["path",{d:"M448 441h-44.423c-65.833 0-103.843-28.598-141.383-96.109 5.44-10.89 10.99-22.734 16.727-35.594a12267 12267 0 0 1 5.622-12.617C320.788 371.608 349.962 399 403.577 399H448v-77l112 98-112 98v-77zm0-322V42l112 98-112 98v-77h-44.423c-59.257 0-88.657 33.459-130.747 127.573-1.427 3.191-3.342 7.493-6.695 15.02C221.676 403.25 190.662 441 123.577 441H28v-42h95.577c43.602 0 66.367-27.71 104.202-112.518a10981.32 10981.32 0 0 1 6.711-15.055C282.89 163.202 321.73 119 403.577 119H448zm-324.423 0c56.809 0 87.751 27.071 122.897 95.883-7.743 14.34-15.519 30.301-23.497 48.005C187.946 186.377 165.303 161 123.577 161H28v-42h95.577z"}].concat([]))];return t&&a.unshift(g.createElement("title",null,t)),g.createElement.apply(g,["svg",i].concat(a))}get.propTypes={"aria-label":sa().string,className:sa().string,style:sa().object};const yet=get;function vet(e){var t=e["aria-label"],n=e.className,r=e.style,i={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-player-skip-back-560"};i["aria-hidden"]=!t,i.style=r,i.className=oa.Z.plexIcon+(n?" "+n:"");var a=[g.createElement.apply(g,["path",{d:"M279.931 381.653c0 29.922-4.903 52.07-14.707 66.445-9.805 14.375-24.903 21.563-45.293 21.563-19.766 0-34.668-7.422-44.707-22.266-10.039-14.844-15.059-36.758-15.059-65.742 0-30.235 4.883-52.52 14.648-66.856 9.766-14.336 24.805-21.504 45.118-21.504 19.765 0 34.707 7.5 44.824 22.5 10.117 15 15.176 36.953 15.176 65.86zm-83.789 0c0 21.015 1.816 36.074 5.449 45.175 3.633 9.102 9.746 13.653 18.34 13.653 8.437 0 14.531-4.61 18.281-13.828 3.75-9.219 5.625-24.219 5.625-45 0-21.016-1.895-36.114-5.684-45.293-3.789-9.18-9.863-13.77-18.222-13.77-8.516 0-14.61 4.59-18.282 13.77-3.671 9.179-5.507 24.277-5.507 45.293zm-56.275-262.747l259.677.096a105.788 105.788 0 0 1 12.339.8c7.126.884 14.16 2.504 20.955 4.828a104.757 104.757 0 0 1 20.481 9.594 105.509 105.509 0 0 1 34.324 33.711 104.845 104.845 0 0 1 10.384 21.485 104.566 104.566 0 0 1 5.721 29.53c.069 1.457.106 2.915.117 4.374.18 37.784.18 103.568 0 141.352a105.283 105.283 0 0 1-.8 12.339 104.576 104.576 0 0 1-4.724 20.651 104.718 104.718 0 0 1-9.207 19.971 105.468 105.468 0 0 1-13.412 17.882 105.621 105.621 0 0 1-19.99 16.746 104.839 104.839 0 0 1-22.285 10.894 104.524 104.524 0 0 1-29.196 5.705c-1.568.08-3.137.121-4.707.134-4.868.023-35.544 0-35.544 0v-41.999s30.463.008 35.073.001a64.415 64.415 0 0 0 8.033-.533 62.47 62.47 0 0 0 24.234-8.481 63.51 63.51 0 0 0 20.61-20.062 62.772 62.772 0 0 0 6.359-13.003 62.527 62.527 0 0 0 3.026-12.683 64.65 64.65 0 0 0 .531-7.828c.179-37.606.179-103.214 0-140.82a64.65 64.65 0 0 0-.531-7.828 62.502 62.502 0 0 0-9.181-25.366 63.545 63.545 0 0 0-20.004-19.884 62.443 62.443 0 0 0-25.439-9.029 64.531 64.531 0 0 0-7.86-.483l-258.984-.014V238l-112-98 112-98v76.906zm-26.225 348.41H77.431v-99.14l.351-16.289.586-17.812c-6.015 6.015-10.195 9.96-12.539 11.835l-19.687 15.821-17.461-21.797 55.195-43.945h29.766v171.328z"}].concat([]))];return t&&a.unshift(g.createElement("title",null,t)),g.createElement.apply(g,["svg",i].concat(a))}vet.propTypes={"aria-label":sa().string,className:sa().string,style:sa().object};const fet=vet;function bet(e){var t=e["aria-label"],n=e.className,r=e.style,i={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-player-skip-forward-560"};i["aria-hidden"]=!t,i.style=r,i.className=oa.Z.plexIcon+(n?" "+n:"");var a=[g.createElement.apply(g,["path",{d:"M532.03 381.68c0 29.922-4.903 52.07-14.707 66.445-9.805 14.375-24.903 21.563-45.293 21.563-19.766 0-34.668-7.422-44.707-22.266-10.039-14.844-15.059-36.758-15.059-65.742 0-30.235 4.883-52.52 14.649-66.856 9.765-14.336 24.804-21.504 45.117-21.504 19.765 0 34.707 7.5 44.824 22.5 10.117 15 15.176 36.953 15.176 65.86zm-83.789 0c0 21.015 1.816 36.074 5.449 45.175 3.633 9.102 9.746 13.653 18.34 13.653 8.437 0 14.531-4.61 18.281-13.828 3.75-9.219 5.625-24.219 5.625-45 0-21.016-1.895-36.114-5.684-45.293-3.789-9.18-9.863-13.77-18.222-13.77-8.516 0-14.61 4.59-18.282 13.77-3.671 9.179-5.507 24.277-5.507 45.293zM420 118.906V42l112 98-112 98v-77.014L161.017 161a64.547 64.547 0 0 0-7.861.483 62.458 62.458 0 0 0-25.438 9.029 63.51 63.51 0 0 0-20.004 19.884 62.488 62.488 0 0 0-9.181 25.366A64.468 64.468 0 0 0 98 223.59c-.178 37.606-.178 103.214 0 140.82.021 2.617.193 5.232.532 7.828a62.506 62.506 0 0 0 3.025 12.683 62.769 62.769 0 0 0 6.36 13.003 63.538 63.538 0 0 0 20.61 20.062 62.48 62.48 0 0 0 24.234 8.481c2.663.348 5.347.52 8.033.533 1.716.002 35.205-.001 35.205-.001v41.999s-34.008.008-35.676 0a105.32 105.32 0 0 1-12.995-.884 104.515 104.515 0 0 1-20.909-4.955 104.85 104.85 0 0 1-22.285-10.894 105.64 105.64 0 0 1-19.99-16.746 105.467 105.467 0 0 1-13.412-17.882 104.73 104.73 0 0 1-9.207-19.971 104.556 104.556 0 0 1-5.422-28.951 110.81 110.81 0 0 1-.102-4.039c-.18-37.784-.18-103.568 0-141.352a105.427 105.427 0 0 1 .841-12.668 104.553 104.553 0 0 1 4.998-21.236 104.783 104.783 0 0 1 10.384-21.485 105.55 105.55 0 0 1 34.324-33.711 104.767 104.767 0 0 1 20.48-9.594 104.59 104.59 0 0 1 29.257-5.526 113.23 113.23 0 0 1 4.038-.102L420 118.906zm-40.305 215.43c0 10.703-3.242 19.805-9.726 27.305-6.485 7.5-15.586 12.656-27.305 15.468v.703c13.828 1.719 24.297 5.918 31.406 12.598 7.11 6.68 10.664 15.684 10.664 27.012 0 16.484-5.976 29.316-17.929 38.496-11.953 9.18-29.024 13.77-51.211 13.77-18.594 0-35.078-3.086-49.453-9.258v-30.821c6.64 3.36 13.945 6.094 21.914 8.203 7.968 2.11 15.859 3.165 23.672 3.165 11.953 0 20.781-2.032 26.484-6.094 5.703-4.063 8.555-10.586 8.555-19.571 0-8.046-3.282-13.75-9.844-17.109-6.563-3.359-17.031-5.039-31.406-5.039h-13.008v-27.773h13.242c13.281 0 22.988-1.739 29.121-5.215 6.133-3.477 9.199-9.434 9.199-17.871 0-12.969-8.125-19.453-24.375-19.453-5.625 0-11.347.937-17.168 2.812-5.82 1.875-12.285 5.117-19.394 9.727l-16.758-24.961c15.625-11.25 34.258-16.875 55.898-16.875 17.735 0 31.739 3.593 42.012 10.781 10.274 7.187 15.41 17.187 15.41 30z"}].concat([]))];return t&&a.unshift(g.createElement("title",null,t)),g.createElement.apply(g,["svg",i].concat(a))}bet.propTypes={"aria-label":sa().string,className:sa().string,style:sa().object};const Iet=bet;function Met(e){var t=e["aria-label"],n=e.className,r=e.style,i={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-player-stop-560"};i["aria-hidden"]=!t,i.style=r,i.className=oa.Z.plexIcon+(n?" "+n:"");var a=[g.createElement.apply(g,["path",{d:"M84 84h392v392H84V84zm196 158.1l-84-84-37.9 37.9 84 84-84 84 37.9 37.9 84-84 84 84 37.9-37.9-84-84 84-84-37.9-37.9-84 84z"}].concat([]))];return t&&a.unshift(g.createElement("title",null,t)),g.createElement.apply(g,["svg",i].concat(a))}Met.propTypes={"aria-label":sa().string,className:sa().string,style:sa().object};const Eet=Met;function Pet(e){var t=e["aria-label"],n=e.className,r=e.style,i={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-player-thumbnails-560"};i["aria-hidden"]=!t,i.style=r,i.className=oa.Z.plexIcon+(n?" "+n:"");var a=[g.createElement.apply(g,["path",{d:"M392 392h140v112H392V392zm-182 0h140v112H210V392zm-182 0h140v112H28V392zm0-42V56h504v294h-42V98H70v252H28z"}].concat([]))];return t&&a.unshift(g.createElement("title",null,t)),g.createElement.apply(g,["svg",i].concat(a))}Pet.propTypes={"aria-label":sa().string,className:sa().string,style:sa().object};const Det=Pet;function Cet(e){const{className:t,durationSeconds:n,hasLiveTVProtocol:r,isMiniPlayer:i,isMusic:a,isVideo:s,isGame:o,metadataItemEntityID:l,playerType:c,positionSeconds:d,providerEntityID:u,serverEntityID:p,volume:m,activateChaptersButton:h,activateLyricsButton:y,activatePhotoInformationButton:v,activatePhotoStripButton:f,activateQueueButton:b,activateRepeatButton:I,activateRepeatOneButton:S,activateSettingsButton:M,activateWatchTogetherParticipantsButton:E,activateShuffleButton:P,disableCloseButton:D,disableLyricsButton:C,disableMenuButton:w,disableNextButton:Z,disablePauseButton:T,disablePlayButton:N,disablePreviousButton:O,disableQueueButton:A,disableRepeatButton:x,disableRepeatOneButton:j,disableSettingsButton:L,disableShuffleButton:k,disableSkipBackButton:R,disableSkipForwardButton:z,showChaptersButton:U,showCloseButton:V,showDuration:B,showEditButton:F,showFavoriteButton:_,showLyricsButton:H,showMenuButton:Q,showNextButton:G,showPauseButton:W,showPhotoInformationButton:Y,showPhotoStripButton:K,showPlayButton:q,showPreviousButton:$,showQueueButton:J,showRecordButton:X,showRepeatButton:ee,showRepeatOneButton:te,showSettingsButton:ne,showWatchTogetherParticipantsButton:re,showShuffleButton:ie,showSkipBackButton:ae,showSkipForwardButton:se,showUnfavoriteButton:oe,showVolume:le,onChaptersPress:ce,onClosePress:de,onControlsMenuChange:ue,onEditPress:pe,onFavoritePress:me,onLyricsPress:he,onNextPress:ge,onPausePress:ye,onPhotoInformationPress:ve,onPhotoStripPress:fe,onPlayPress:be,onPreviousPress:Ie,onQueuePress:Me,onRepeatOnePress:Ee,onRepeatPress:Pe,onSettingsPress:De,onWatchTogetherParticipantsPress:we,onShufflePress:Ze,onSkipBackPress:Ne,onSkipForwardPress:Oe,onUnfavoritePress:Ae,onVolumeChange:xe,onVolumeIconPress:je}=e;let Le;Le=c===Se.pV?U7e:r?j9e:C9e;const ke=le&&null!=m,Re=r?null:"PlayerControls-balanceLeft-3ZDFXD",ze=s||o?"PlayerControls-hasLandscapePoster-voqTZI":"PlayerControls-hasSquarePoster-3Q-1l3";return g.createElement(g.Fragment,null,g.createElement("div",{className:Te()(t,i&&ze),"data-qa-id":"playerControlsContainer"},g.createElement("div",{className:"PlayerControls-buttonGroupLeft-3OVdIj PlayerControls-buttonGroup-3bovxR"},i?g.createElement(W9e,{playerType:c,isVideo:s,isMusic:a}):null,g.createElement(Le,{metadataItemEntityID:l,playerType:c,positionSeconds:d,durationSeconds:n,showDuration:B,showStarRating:a})),g.createElement("div",{className:Te()("PlayerControls-buttonGroupCenter-3Os75p PlayerControls-buttonGroup-3bovxR",Re)},X?g.createElement(B9e,{playerType:c,"data-qa-id":"recordButton",serverEntityID:p,providerEntityID:u,positionSeconds:d}):null,$?g.createElement(b8e,{iconComponent:aet,"data-qa-id":"previousButton",isDisabled:O,title:(0,Ce.Z)("Previous"),onPress:Ie}):null,ae?g.createElement(b8e,{iconComponent:fet,"data-qa-id":"skipBackButton",isDisabled:R,title:(0,Ce.Z)("Skip Back 10 Seconds"),onPress:Ne}):null,q?g.createElement(b8e,{iconComponent:ret,"data-qa-id":"resumeButton",isPrimary:!0,isDisabled:N,title:(0,Ce.Z)("Play"),onPress:be}):null,W?g.createElement(b8e,{iconComponent:tet,"data-qa-id":"pauseButton",isPrimary:!0,isDisabled:T,title:(0,Ce.Z)("Pause"),onPress:ye}):null,se?g.createElement(b8e,{iconComponent:Iet,"data-qa-id":"skipForwardButton",isDisabled:z,title:(0,Ce.Z)("Skip Forward 30 Seconds"),onPress:Oe}):null,G?g.createElement(b8e,{iconComponent:X7e,"data-qa-id":"nextButton",isDisabled:Z,title:(0,Ce.Z)("Next"),onPress:ge}):null,V?g.createElement(b8e,{"data-qa-id":"closeButton",isDisabled:D,iconComponent:Eet,title:(0,Ce.Z)("Close Player"),onPress:de}):null),g.createElement("div",{className:"PlayerControls-buttonGroupRight-3tN_y5 PlayerControls-buttonGroup-3bovxR"},Q?g.createElement(s7e,{serverEntityID:p,"data-qa-id":"moreButton",providerEntityID:u,metadataItemEntityID:l,isDisabled:w,onMenuChange:ue}):null,ee?g.createElement(b8e,{iconComponent:det,"data-qa-id":"repeatButton",isDisabled:x,isActive:I,title:(0,Ce.Z)("Repeat"),onPress:Pe}):null,te?g.createElement(b8e,{iconComponent:pet,"data-qa-id":"repeatOneButton",isDisabled:j,isActive:S,title:(0,Ce.Z)("Repeat One"),onPress:Ee}):null,ie?g.createElement(b8e,{iconComponent:yet,"data-qa-id":"shuffleButton",isDisabled:k,isActive:P,title:(0,Ce.Z)("Shuffle"),onPress:Ze}):null,F?g.createElement(b8e,{iconComponent:_7e,"data-qa-id":"playerEditButton",title:(0,Ce.Z)("Edit"),onPress:pe}):null,_?g.createElement(b8e,{iconComponent:Q7e,"data-qa-id":"playerFavoriteButton",title:(0,Ce.Z)("Add to Favorites"),onPress:me}):null,oe?g.createElement(b8e,{iconComponent:W7e,"data-qa-id":"playerUnfavoriteButton",title:(0,Ce.Z)("Remove from Favorites"),onPress:Ae}):null,Y?g.createElement(b8e,{iconComponent:K7e,"data-qa-id":"playerPhotoInfoButton",title:(0,Ce.Z)("Information"),isActive:v,onPress:ve}):null,K?g.createElement(b8e,{iconComponent:Det,"data-qa-id":"playerPhotoStripButton",isActive:f,title:(0,Ce.Z)("Show Photo Strip"),onPress:fe}):null,H?g.createElement(b8e,{iconComponent:$7e,"data-qa-id":"lyricsButton",isDisabled:C,isSelected:y,title:(0,Ce.Z)("Lyrics"),onPress:he}):null,ne?g.createElement(b8e,{iconComponent:het,"data-qa-id":"videoSettingsButton",isDisabled:L,isActive:M,title:(0,Ce.Z)("Settings"),onPress:De}):null,U?g.createElement(b8e,{iconComponent:B7e,"data-qa-id":"chaptersButton",isActive:h,title:(0,Ce.Z)("Chapters"),onPress:ce}):null,J?g.createElement(b8e,{iconComponent:oet,"data-qa-id":"playQueueButton",isDisabled:A,isActive:b,title:(0,Ce.Z)("Play Queue"),onPress:Me}):null,re?g.createElement(b8e,{iconComponent:da.Z,"data-qa-id":"watchTogetherParticipantsButton",isActive:E,title:(0,Ce.Z)("Participants"),onPress:we}):null,ke?g.createElement(I7e,{className:"PlayerControls-volumeButton-ln33tg PlayerIconButton-playerButton-aW9TNw IconButton-button-llQ1So","data-qa-id":"volumeButton",volume:m,onPress:je,onVolumeChange:xe}):null)),ke?g.createElement(O7e,{className:"PlayerControls-volumeSlider-qbq5Ws VolumeSlider-slider-1EfENi VerticalSlider-slider-3NUmKG Slider-slider-4zRCDI",volume:m,onVolumeChange:xe}):null)}Cet.defaultProps={className:"PlayerControls-controls-32qKsv",isMusic:!1,isVideo:!1,isGame:!1,isPhoto:!1};const wet=Cet,Zet=(0,v.$j)((function(){return(0,fe.P1)(((e,{isVideo:t})=>t),((e,{isMusic:t})=>t),((e,{isAdVisible:t})=>t),((e,{isWatchTogether:t})=>t),((e,{disableNextButton:t})=>t),((e,{disablePreviousButton:t})=>t),x1(),o1e(),u1e(),BVe(),((e,t,n,r,i,a,s,o,l,c)=>{const{isPostPlayVisible:d,positionSeconds:u,durationSeconds:p,controllable:m}=s,h=p-u,g=o.subtype===wc.PODCAST,y=l&&l.chapters&&l.chapters.length>0,v=!n&&(e&&!d||g),f=!!m&&!m.playbackSpeed&&t;return{positionSeconds:u,durationSeconds:p,hasLiveTVProtocol:c.protocols.includes("livetv"),disableLyricsButton:!(o.lyricsStreams&&o.lyricsStreams.length||o.hasPremiumLyrics),disableNextButton:n||i,disablePreviousButton:n||a,disableQueueButton:n,disableSettingsButton:f,disableSkipForwardButton:h<=e9e.uS,showChaptersButton:e&&!d&&y,showDuration:!d,showLyricsButton:t&&!g,showMenuButton:!d,showQueueButton:!r,showSettingsButton:!d,showWatchTogetherParticipantsButton:r,showShuffleButton:!r,showSkipBackButton:v,showSkipForwardButton:v}}))}))(wet);var Tet=n(71575);const Net={visibleContainer:"SeekBarThumbnail-visibleContainer-3VXvIs",hiddenContainer:"SeekBarThumbnail-hiddenContainer-2EpZTF SeekBarThumbnail-visibleContainer-3VXvIs",thumbnail:"SeekBarThumbnail-thumbnail-1t9_Pe",tooltip:"SeekBarThumbnail-tooltip-2Wewq5",small:"SeekBarThumbnail-small-1Bhcbm",large:"SeekBarThumbnail-large-YO3_br"},Oet=parseInt(ng.Z.seekBarTooltipSmallWidth,10),Aet=parseInt(ng.Z.seekBarTooltipLargeWidth,10),xet={containerWidth:99,containerHeight:99};class jet extends g.Component{render(){const{tooltipClassName:e,serverEntityID:t,providerEntityID:n,size:r,position:i,hoverValue:a,mediaItems:s,mediaIndex:o,partIndex:l,formatValue:c,isVisible:d}=this.props;null!=a&&(this._formattedTime=c(a));const u=s&&s[o],p=function(e,t){if(!e||null==t)return;const n=Sde(e);return null!=n?`/library/parts/${e.id}/indexes/${n}/${Math.floor(t)}`:void 0}(u&&u.Part[l],a);p&&(this._imageUrl=p);const{containerWidth:m,containerHeight:h}=function(e){const t=(0,Mc.Z)(e);if(null==t||null==t.width||null==t.height)return xet;const{width:n,height:r}=t;let i=99,a=99;return n>r?i=Math.round(i*(n/r)):a=Math.round(a*(r/n)),{containerWidth:i,containerHeight:a}}(u),y=function(e,t,n){let r=e.x-t/2;return r<0?r=0:r+t>window.innerWidth&&(r=window.innerWidth-t),{left:r,top:e.y-n-10,height:n}}(i,m,h),v=function(e,t,n){const r=n===Rp.ln?Aet:Oet;let i=t/2-r/2;const a=e.x-t/2;if(a<0){const t=4,n=e.x-r/2;i=Math.max(n,t)}else if(a+t>window.innerWidth){const n=t-r-4,a=t-(window.innerWidth-e.x)-r/2;i=Math.min(a,n)}return{left:i}}(i,m,r);return g.createElement("div",{className:d?Net.visibleContainer:Net.hiddenContainer,style:y},this._imageUrl?g.createElement(xt.Z,{className:Net.thumbnail,serverEntityID:t,providerEntityID:n,url:this._imageUrl,width:m,height:h}):null,g.createElement("div",{className:Te()(e,Net[r]),style:v},this._formattedTime))}}jet.defaultProps={tooltipClassName:Net.tooltip,size:Rp.HC,formatValue:aS.Z};const Let=jet,ket=(0,v.$j)((function(){return(0,fe.P1)((0,xx.Z)(),(({Media:e}={})=>e&&e.length?{mediaItems:e}:{}))}))(Let),Ret="SeekBar-noFillTransition-2AdPtv";var zet=Object.defineProperty,Uet=Object.prototype.hasOwnProperty,Vet=Object.getOwnPropertySymbols,Bet=Object.prototype.propertyIsEnumerable,Fet=(e,t,n)=>t in e?zet(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,_et=(e,t)=>{for(var n in t||(t={}))Uet.call(t,n)&&Fet(e,n,t[n]);if(Vet)for(var n of Vet(t))Bet.call(t,n)&&Fet(e,n,t[n]);return e};class Het extends g.Component{constructor(e,t){super(e,t),this.onChange=({positionValue:e})=>{this.props.onSeek&&this.props.onSeek({playerType:this.props.playerType,positionSeconds:Math.floor(e/1e3)})},this.onMove=({positionValue:e,position:t})=>{this.setState({hoverValue:e,portalPosition:t})},this.onMouseLeave=()=>{this.setState({hoverValue:null})},this.state={hoverValue:null,portalPosition:{x:0,y:0}}}render(){const e=this.props,{className:t,trackClassName:n,bufferClassName:r,fillClassName:i,canSeek:a,positionMilliseconds:s,offsetMilliseconds:o,durationMilliseconds:l,bufferStartMilliseconds:c,bufferEndMilliseconds:d,showBuffer:u,noFillTransition:p,isDisabled:m,onSeekEnd:h,onSeekStart:y}=e,v=((e,t)=>{var n={};for(var r in e)Uet.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&Vet)for(var r of Vet(e))t.indexOf(r)<0&&Bet.call(e,r)&&(n[r]=e[r]);return n})(e,["className","trackClassName","bufferClassName","fillClassName","canSeek","positionMilliseconds","offsetMilliseconds","durationMilliseconds","bufferStartMilliseconds","bufferEndMilliseconds","showBuffer","noFillTransition","isDisabled","onSeekEnd","onSeekStart"]);if(!a)return null;const{hoverValue:f,portalPosition:b}=this.state;return g.createElement("div",{onMouseLeave:this.onMouseLeave},g.createElement(Es.Z,{className:t,trackClassName:n,secondaryFillClassName:Te()(r,p&&Ret),fillClassName:Te()(i,p&&Ret),value:s,min:o,max:l,secondaryMin:c,secondaryMax:d,showFill:!0,showSecondaryFill:u,autoHideThumb:!0,isDisabled:m,onChange:this.onChange,onMove:m?null:this.onMove,onDragStart:y,onDragComplete:h}),g.createElement(Tet.Z,null,g.createElement(ket,_et(_et({},v),{position:b,hoverValue:f,isVisible:null!=f}))))}}Het.defaultProps={className:"SeekBar-seekBar-1lmdAy Slider-slider-4zRCDI",trackClassName:"SeekBar-seekBarTrack-3a3mFO Slider-track-3iUWLY",fillClassName:"SeekBar-seekBarFill-1x5nN0 Slider-fill-35z5K8",bufferClassName:"SeekBar-seekBarBuffer-2Td4tP Slider-secondaryFill-30ToAR Slider-fill-35z5K8",canSeek:!0,showBuffer:!1,noFillTransition:(0,Nde.Z)()||(0,FS.Z)(),isDisabled:!1};const Qet=Het,Get={onSeek:a1e.O7},Wet=Z5e(Qet),Yet=(0,v.$j)((function(){return(0,fe.P1)(x1(),o1e(),((e,t)=>{const{serverEntityID:n,providerEntityID:r,positionSeconds:i,durationSeconds:a,mediaIndex:s,partIndex:o,controllable:l}=e,c={serverEntityID:n,providerEntityID:r,metadataItemEntityID:t.metadataItem,canSeek:!!a,positionSeconds:i,durationMilliseconds:1e3*a,mediaIndex:s,partIndex:o};return l&&!l.seekTo&&(c.canSeek=!1),c}))}),Get)(Wet);var Ket=Object.defineProperty,qet=Object.prototype.hasOwnProperty,$et=Object.getOwnPropertySymbols,Jet=Object.prototype.propertyIsEnumerable,Xet=(e,t,n)=>t in e?Ket(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const ett=function(e){const{durationMilliseconds:t}=e;return null!=t?g.createElement(Qet,((e,t)=>{for(var n in t||(t={}))qet.call(t,n)&&Xet(e,n,t[n]);if($et)for(var n of $et(t))Jet.call(t,n)&&Xet(e,n,t[n]);return e})({fillClassName:"AdSeekBar-seekBarFill-154s-i SeekBar-seekBarFill-1x5nN0 Slider-fill-35z5K8",isDisabled:!0},e)):null};function ttt(){return(0,fe.P1)(j1("seekStartSeconds"),j1("seekEndSeconds"),k1(),((e=0,t=0,n)=>{const r=n&&n.captureBuffer;let i=0;return n&&r?(i=r.startedAt,e=r.seekStartSeconds,t=r.seekEndSeconds):n&&(i=n.startedAt),{seekRangeStartedAtSeconds:i,seekStartSeconds:e,seekEndSeconds:t}}))}var ntt=Object.defineProperty,rtt=Object.prototype.hasOwnProperty,itt=Object.getOwnPropertySymbols,att=Object.prototype.propertyIsEnumerable,stt=(e,t,n)=>t in e?ntt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ott=(e,t)=>{for(var n in t||(t={}))rtt.call(t,n)&&stt(e,n,t[n]);if(itt)for(var n of itt(t))att.call(t,n)&&stt(e,n,t[n]);return e};class ltt extends g.Component{constructor(){super(...arguments),this.formatPlayerTime=e=>{const t=this.props.timeFormat;return(0,Mi.Z)(e/1e3,t)},this.onSeek=({positionSeconds:e})=>{const{seekRangeStartedAtSeconds:t,seekStartSeconds:n,seekEndSeconds:r}=this.props,i=t+n,a=t+r;e<i?e=i:e>a&&(e=a),this.props.onSeek({playerType:this.props.playerType,seekPosition:e})}}render(){const e=this.props,{isCloud:t,canSeek:n,currentPosition:r,positionMilliseconds:i,beginsAt:a,endsAt:s,durationSeconds:o,streamStartedAt:l,timeFormat:c,seekRangeStartedAtSeconds:d,seekStartSeconds:u,seekEndSeconds:p}=e,m=((e,t)=>{var n={};for(var r in e)rtt.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&itt)for(var r of itt(e))t.indexOf(r)<0&&att.call(e,r)&&(n[r]=e[r]);return n})(e,["isCloud","canSeek","currentPosition","positionMilliseconds","beginsAt","endsAt","durationSeconds","streamStartedAt","timeFormat","seekRangeStartedAtSeconds","seekStartSeconds","seekEndSeconds"]);if(!n&&!t)return g.createElement(Qet,ott(ott({},m),{positionMilliseconds:1,offsetMilliseconds:0,durationMilliseconds:2,showBuffer:!1,canSeek:!0,isDisabled:!0,formatValue:this.formatCurrentTime,size:Rp.ln,onSeek:this.onSeek}));const h=1e3*(d?d+u:r),y=1e3*(d?d+p:r),v=1e3*a,f=1e3*(s-1),b=t?v:Math.max(v,h),I=t?f:Math.min(f,y),S=function(e){const{isCloud:t,isRemotePlayer:n,currentPosition:r,positionMilliseconds:i,streamStartedAt:a,lastSeekPosition:s}=e;return s||n||t?1e3*r:1e3*a+i}(this.props);return g.createElement(Qet,ott(ott({},m),{positionMilliseconds:S,offsetMilliseconds:v,durationMilliseconds:f,bufferStartMilliseconds:b,bufferEndMilliseconds:Math.max(I,0),showBuffer:!t,canSeek:n||t,isDisabled:!n||t,formatValue:this.formatPlayerTime,size:Rp.ln,onSeek:this.onSeek}))}}ltt.defaultProps={beginsAt:0,endsAt:0,streamStartedAt:0,seekRangeStartedAtSeconds:0};const ctt=Z5e(ltt),dtt=(0,fe.P1)(jx,(e=>e.replace(":mm",":mm:ss"))),utt={onSeek:Ol.O7},ptt=(0,v.$j)((function(){return(0,fe.P1)(dtt,Mj,V1(),B1(),k1(),ttt(),x1(),m4e(),((e,t,n={},r={},i,a,s,o)=>{const{beginsAt:l,endsAt:c}=r,{serverEntityID:d,controllable:u,playbackStartTime:p}=s,{isCloud:m}=o,h=c-l,g={serverEntityID:d,metadataItemEntityID:n.entityID,isCloud:m,isRemotePlayer:t,canSeek:!(!h||!i),beginsAt:l,endsAt:c,playbackStartTime:p,durationSeconds:h,timeFormat:e,positionSeconds:s.positionSeconds};return!m&&a&&Object.assign(g,a),u&&!u.seekTo&&(g.canSeek=!1),i&&(g.streamStartedAt=i.startedAt,g.currentPosition=i.currentPosition,g.lastSeekPosition=i.lastSeekPosition),g}))}),utt)(ctt);var mtt=Object.defineProperty,htt=Object.prototype.hasOwnProperty,gtt=Object.getOwnPropertySymbols,ytt=Object.prototype.propertyIsEnumerable,vtt=(e,t,n)=>t in e?mtt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ftt=(e,t)=>{for(var n in t||(t={}))htt.call(t,n)&&vtt(e,n,t[n]);if(gtt)for(var n of gtt(t))ytt.call(t,n)&&vtt(e,n,t[n]);return e};const btt=(0,v.$j)((function(){return(0,fe.P1)(BVe(),(e=>({hasLiveTVProtocol:e.protocols.includes("livetv")})))}))((function(e){const t=e,{isAdVisible:n,hasLiveTVProtocol:r,adPositionMilliseconds:i,adDurationMilliseconds:a}=t,s=((e,t)=>{var n={};for(var r in e)htt.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&gtt)for(var r of gtt(e))t.indexOf(r)<0&&ytt.call(e,r)&&(n[r]=e[r]);return n})(t,["isAdVisible","hasLiveTVProtocol","adPositionMilliseconds","adDurationMilliseconds"]);return n?g.createElement(ett,ftt(ftt({},s),{positionMilliseconds:i,durationMilliseconds:a,showBuffer:!1})):r?g.createElement(ptt,ftt({},s)):g.createElement(Yet,ftt(ftt({},s),{showBuffer:!0}))})),Itt=(0,v.$j)((function(){return(0,fe.P1)(ab.Z,R1(),ttt(),j1("isPaused"),((e,t,n,r)=>{const i=Fo.wB(e.identifier,Fo.vP),{disablePreviousButton:a,disableSkipForwardButton:s,disableNextButton:o}=function(e,t){const{seekRangeStartedAtSeconds:n,seekStartSeconds:r,seekEndSeconds:i}=t,a=e-n;return{disablePreviousButton:a<=e9e.Nf||a-r<=e9e.Nf,disableSkipForwardButton:i-a<=15,disableNextButton:i-a<=15}}(t,n);return{showRecordButton:!!e.features.subscribe,showRepeatButton:!1,showSettingsButton:!0,showPauseButton:!r&&!i,showPreviousButton:!i,showSkipBackButton:!i,showSkipForwardButton:!i,showNextButton:!i,disablePreviousButton:a,disableSkipForwardButton:s,disableNextButton:o}}))}),(function(e,{playerType:t}){const n={playerType:t};return{onPreviousPress(t){e(Ol.oA(n))},onSkipBackPress(t){e(Ol.QJ(n))},onSkipForwardPress(t){e(Ol.wW(n))},onNextPress(t){e(Ol.o1(n))}}}))(wet);function Stt(e){var t=e["aria-label"],n=e.className,r=e.style,i={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-player-guide-560"};i["aria-hidden"]=!t,i.style=r,i.className=oa.Z.plexIcon+(n?" "+n:"");var a=[g.createElement.apply(g,["path",{d:"M28 42h112v112H28V42zm0 182h112v112H28V224zm0 182h112v112H28V406zM210 77h322v44.8H210V77zm0 182h322v44.8H210V259zm0 182h322v44.8H210V441z"}].concat([]))];return t&&a.unshift(g.createElement("title",null,t)),g.createElement.apply(g,["svg",i].concat(a))}Stt.propTypes={"aria-label":sa().string,className:sa().string,style:sa().object};const Mtt=Stt,Ett=(0,v.$j)((function(){return(0,fe.P1)(x1(),B1(),k1(),((e,t={},n)=>{const r=t.channelShortTitle||t.channelTitle||n&&n.channelIdentifier||(0,Ce.Z)("Unknown");return{isAlsoAiringVisible:e.isAlsoAiringVisible,positionSeconds:e.positionSeconds,channelTitle:r}}))}),(function(e,t){const n={playerType:t.playerType};return{onPress(t){e((0,Ol.H5)(n))}}}))((function(e){const{channelTitle:t,isAlsoAiringVisible:n,onPress:r}=e;return g.createElement(pw.Z,{"data-qa-id":"channelsList",className:n?"LiveTVCurrentChannel-isActive-ApNnwA":void 0,onPress:r},g.createElement(Mtt,{className:"LiveTVCurrentChannel-icon-1LI-qK"}),t)}));var Ptt=Object.defineProperty,Dtt=Object.prototype.hasOwnProperty,Ctt=Object.getOwnPropertySymbols,wtt=Object.prototype.propertyIsEnumerable,Ztt=(e,t,n)=>t in e?Ptt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Ttt=(e,t)=>{for(var n in t||(t={}))Dtt.call(t,n)&&Ztt(e,n,t[n]);if(Ctt)for(var n of Ctt(t))wtt.call(t,n)&&Ztt(e,n,t[n]);return e};const Ntt=function(e){const t=e,{type:n,isUnknownAiring:r}=t,i=((e,t)=>{var n={};for(var r in e)Dtt.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&Ctt)for(var r of Ctt(e))t.indexOf(r)<0&&wtt.call(e,r)&&(n[r]=e[r]);return n})(t,["type","isUnknownAiring"]);return r?(0,Ce.Z)("Unknown Airing"):n===Ac.EPISODE?g.createElement(Gx,Ttt({},i)):g.createElement(Kx,Ttt({},i))};var Ott=Object.defineProperty,Att=Object.prototype.hasOwnProperty,xtt=Object.getOwnPropertySymbols,jtt=Object.prototype.propertyIsEnumerable,Ltt=(e,t,n)=>t in e?Ott(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ktt=(e,t)=>{for(var n in t||(t={}))Att.call(t,n)&&Ltt(e,n,t[n]);if(xtt)for(var n of xtt(t))jtt.call(t,n)&&Ltt(e,n,t[n]);return e};const Rtt={dispatchInitMetadataList:DA,dispatchPopulateChannelPrograms:AA,dispatchResetStartTime:wA,dispatchSetViewportSize:NA},ztt=(0,v.$j)((function(){return(0,fe.P1)((e=>e.ui.channelGridPage.viewportWidth),x1(),ix(),(0,fe.P1)(k1(),R1(),ox(),((e,t,n)=>{if(!e||null==t)return;const r=e.channelIdentifier;let i=null,a=null;for(let e=0;e<n.length;e++){const s=n[e];for(let e=0;e<s.Media.length;e++){const n=s.Media[e],{beginsAt:o,channelIdentifier:l}=n;o>t&&l===r&&(!a||o<a.beginsAt)&&(i=s,a=n)}}return i})),((e,t,n,r)=>r?{metadataItemEntityID:r.entityID,positionSeconds:t.positionSeconds,type:r.type,shouldSetViewportSize:0===e,shouldResetChannels:!1,isUnknownAiring:!1}:{containerKey:n,shouldResetChannels:!0,shouldSetViewportSize:0===e,isUnknownAiring:!0}))}),Rtt)((function(e){const t=e,{serverEntityID:n,providerEntityID:r,containerKey:i,shouldSetViewportSize:a,shouldResetChannels:s,dispatchInitMetadataList:o,dispatchPopulateChannelPrograms:l,dispatchResetStartTime:c,dispatchSetViewportSize:d}=t,u=((e,t)=>{var n={};for(var r in e)Att.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&xtt)for(var r of xtt(e))t.indexOf(r)<0&&jtt.call(e,r)&&(n[r]=e[r]);return n})(t,["serverEntityID","providerEntityID","containerKey","shouldSetViewportSize","shouldResetChannels","dispatchInitMetadataList","dispatchPopulateChannelPrograms","dispatchResetStartTime","dispatchSetViewportSize"]);return(0,g.useEffect)((()=>{a&&d()}),[a,d]),(0,g.useEffect)((()=>{!a&&s&&i&&(c(),o({containerKey:i,serverEntityID:n,providerEntityID:r}),l())}),[s,a,l,c,i,n,r,o]),g.createElement(Ntt,ktt(ktt({},u),{serverEntityID:n,providerEntityID:r}))})),Utt=(0,v.$j)((function(){return(0,fe.P1)((e=>e.ui.channelGridPage.metadataList),x1(),((e,t)=>({metadataListEntityID:e,serverEntityID:t.serverEntityID,providerEntityID:t.providerEntityID})))}))((function(e){const{playerType:t,metadataListEntityID:n,serverEntityID:r,providerEntityID:i}=e;return g.createElement("div",{className:"LiveTVUpNext-container-2qHALy"},g.createElement(oet,{className:"LiveTVUpNext-icon-1JaqjY"}),g.createElement(KV.Z,{message:(0,Ce.Z)("{openSpan}Up Next:{closeSpan} {openTitle}{closeTitle}"),tags:[{open:"openSpan",close:"closeSpan",component:"span",className:"LiveTVUpNext-upNext-2p9C2l"},{open:"openTitle",close:"closeTitle",component:ztt,playerType:t,metadataListEntityID:n,serverEntityID:r,providerEntityID:i}]}))})),Vtt=function(e){const{playerType:t}=e;return g.createElement(d9e,null,g.createElement(Ett,{playerType:t}),g.createElement(Utt,{playerType:t}))},Btt=(0,fe.P1)(Oq,(e=>e.session));var Ftt=Object.defineProperty,_tt=Object.prototype.hasOwnProperty,Htt=Object.getOwnPropertySymbols,Qtt=Object.prototype.propertyIsEnumerable,Gtt=(e,t,n)=>t in e?Ftt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;function Wtt(e){const t=e,{className:n,iconComponent:r,title:i}=t,a=((e,t)=>{var n={};for(var r in e)_tt.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&Htt)for(var r of Htt(e))t.indexOf(r)<0&&Qtt.call(e,r)&&(n[r]=e[r]);return n})(t,["className","iconComponent","title"]);return g.createElement(cb.Z,((e,t)=>{for(var n in t||(t={}))_tt.call(t,n)&&Gtt(e,n,t[n]);if(Htt)for(var n of Htt(t))Qtt.call(t,n)&&Gtt(e,n,t[n]);return e})({className:n,"aria-label":i},a),r?g.createElement(r,{className:"WatchTogetherLobbyControlButton-icon-2uolCc"}):null,i)}Wtt.defaultProps={className:"WatchTogetherLobbyControlButton-button-kNO8_U Button-button-38SEbM Link-link-CM9nxg"};const Ytt=Wtt,Ktt="WatchTogetherLobbyControls-button-3vg70p WatchTogetherLobbyControlButton-button-kNO8_U Button-button-38SEbM Link-link-CM9nxg";function qtt(e){const{className:t,elapsedSeconds:n,hasLiveTVProtocol:r,isAnyAdPlaying:i,isAnyWatching:a,isMiniPlayer:s,metadataItemEntityID:o,playerType:l,onPlay:c,onCancel:d}=e,u=(0,g.useCallback)((()=>{d({playerType:l})}),[d,l]),p=r?j9e:C9e;let m,h;return m=i?(0,Ce.Z)("Other viewers are watching ads. Playback will resume automatically when they're done."):a?(0,Ce.Z)("Session started {duration} ago.",{duration:Ui(1e3*n)}):(0,Ce.Z)("Playback will start automatically when everyone is ready."),h=i?(0,Ce.Z)("Please Wait"):n>0?(0,Ce.Z)("Resume"):(0,Ce.Z)("Start"),g.createElement("div",{className:Te()(t,s&&"WatchTogetherLobbyControls-hasLandscapePoster-29Hq4C PlayerControls-hasLandscapePoster-voqTZI"),"data-qa-id":"watchTogetherLobbyControlsContainer"},g.createElement("div",{className:"WatchTogetherLobbyControls-buttonGroupLeft-KopJat PlayerControls-buttonGroupLeft-3OVdIj PlayerControls-buttonGroup-3bovxR"},s?g.createElement(W9e,{playerType:l,isVideo:!0,isMusic:!1}):null,g.createElement(p,{metadataItemEntityID:o,playerType:l,positionSeconds:n,showDuration:!1})),g.createElement("div",{className:Te()("WatchTogetherLobbyControls-buttonGroupCenter-1-1bNW PlayerControls-buttonGroupCenter-3Os75p PlayerControls-buttonGroup-3bovxR",!r&&"WatchTogetherLobbyControls-balanceLeft-2iCN4Y PlayerControls-balanceLeft-3ZDFXD")},g.createElement(Ytt,{className:Ktt,iconComponent:ret,isDisabled:i,title:h,kind:ic._8,onPress:c}),g.createElement(Ytt,{className:Ktt,title:(0,Ce.Z)("Cancel"),onPress:u})),g.createElement("div",{className:"WatchTogetherLobbyControls-buttonGroupRight-28tg9V PlayerControls-buttonGroupRight-3tN_y5 PlayerControls-buttonGroup-3bovxR"},m))}qtt.defaultProps={className:"WatchTogetherLobbyControls-controls-1P_aYU PlayerControls-controls-32qKsv"};const $tt=qtt,Jtt={onPlay:o$.Gu,onCancel:vt.Mh},Xtt=(0,v.$j)((function(){return(0,fe.P1)(Btt,(e=>{const{users:t}=e,n=t.filter((e=>e.isWatching));return{elapsedSeconds:n.reduce(((e,t)=>e+t.positionSeconds),0)/n.length||0,isAnyAdPlaying:t.some((e=>e.isAdPlaying)),isAnyWatching:n.length>0}}))}),Jtt)($tt);function ent(e){const{playerType:t,isAdVisible:n,isMiniPlayer:r,hasLiveTVProtocol:i,isWatchTogetherLobbyVisible:a}=e;return a?null:n?g.createElement(u9e,null):r?null:i?g.createElement(Vtt,{playerType:t}):null}function tnt(e){const{playerType:t,isPostPlayVisible:n,isWatchTogetherLobbyVisible:r,isVideo:i,isMusic:a,isAdVisible:s,isMiniPlayer:o,isWatchTogether:l,hasLiveTVProtocol:c,seekStartMilliseconds:d,seekEndMilliseconds:u,bufferStartMilliseconds:p,bufferEndMilliseconds:m,adPositionMilliseconds:h,adDurationMilliseconds:y,onControlsMenuChange:v,onSeekBarInteractionStart:f,onSeekBarInteractionEnd:b}=e;let I;return I=r?Xtt:c?Itt:Zet,g.createElement($8e,null,ent(e),g.createElement(X8e,null,n||r?null:g.createElement(btt,{playerType:t,isAdVisible:s,seekStartMilliseconds:d,seekEndMilliseconds:u,bufferStartMilliseconds:p,bufferEndMilliseconds:m,adPositionMilliseconds:h,adDurationMilliseconds:y,onSeekStart:f,onSeekEnd:b}),g.createElement(l9e,{component:I,playerType:t,hasLiveTVProtocol:c,isVideo:i,isMusic:a,isAdVisible:s,isWatchTogetherLobbyVisible:r,isMiniPlayer:o,isWatchTogether:l,onControlsMenuChange:v})))}ent.propTypes=tnt.propTypes,tnt.defaultProps={isMiniPlayer:!1};const nnt=tnt,rnt=parseInt(ng.Z.pagePadding,10),int=2*rnt,ant=rnt/2;function snt(e,t,n,r,i,a){let s,o;if(e<t){const t=e-int-n;s=Math.min(500,t),o=(0,Ux.Cr)(s,r,i,a)}else{const e=t-(int+90+n);o=Math.min(500,e),s=(0,Ux.dz)(o,r,i,a)}return{width:s,height:o}}function ont(e){const{className:t,serverEntityID:n,providerEntityID:r,metadataItemEntityID:i,type:a,subtype:s,context:o,imageUrl:l,bottom:c}=e,d=U4(a,o,{providerEntityID:r,subtype:s});return g.createElement(bx.Z,{className:"AudioVideoFullMusic-measure-2RfGtW"},(({isMeasured:e,width:u,height:p})=>{if(!e)return null;const m=c?c+ant:0,h=snt(u,p,0,a,s,o);let y;if(m){const e=snt(u,p,m,a,s,o);y=e.height>0?e.height/h.height:1,y=Math.max(y,.4)}else y=1;return g.createElement("div",{className:t,style:{transform:`translate(-50%, -50%) scale(${y})`}},g.createElement(gQ.Z,{cardClassName:"AudioVideoFullMusic-card-1-YH81 MetadataPosterCard-card-72Dv8q",serverEntityID:n,providerEntityID:r,metadataItemEntityID:i,metadataKey:"music",type:a,imageWidth:h.width,imageHeight:h.height,imageUrl:l,showLinkOnly:!0}),g.createElement("div",{className:"AudioVideoFullMusic-titlesContainer-25wEjE"},d.map(((e,t)=>g.createElement(m1,{key:t,className:t>0?"AudioVideoFullMusic-secondaryTitle-A2qA65 AudioVideoFullMusic-title-2vC3j5 MetadataPosterTitle-title-nXZNlz":"AudioVideoFullMusic-primaryTitle-yRUZMp AudioVideoFullMusic-title-2vC3j5 MetadataPosterTitle-title-nXZNlz",serverEntityID:n,providerEntityID:r,metadataItemEntityID:i,component:e})))))}))}ont.defaultProps={className:"AudioVideoFullMusic-content-YOKcDs"};const lnt=ont,cnt=(0,v.$j)((function(){return(0,fe.P1)(m1e(),(e=>({serverEntityID:e.serverEntityID,providerEntityID:e.providerEntityID,metadataItemEntityID:e.entityID,context:kx.r$,type:e.type,imageUrl:e.parentThumb||e.grandparentThumb})))}))(lnt),dnt=function(e){const{serverEntityID:t,providerEntityID:n,imageUrl:r,allowBlur:i}=e;return g.createElement("div",{className:"FullPlayerBackground-backgroundContainer-39bPLG"},g.createElement(Gt,{serverEntityID:t,providerEntityID:n,url:r,allowBlur:i}))},unt=(0,v.$j)((function(){return(0,fe.P1)(((e,{isMusic:t})=>t),x1(),o1e(),sx.Z,((e,t,n={},r)=>{const i=r[t.startMetadataItemEntityID||n.metadataItem];let a;return i&&(a=e?i.parentThumb||i.grandparentThumb:i.grandparentArt||i.art),{serverEntityID:t.serverEntityID,imageUrl:a}}))}))(dnt);function pnt(e){const{children:t,className:n}=e;return g.createElement("div",{className:n,"data-qa-id":"preplay-secondTitle"},t)}pnt.defaultProps={className:"PrePlaySecondaryTitle-secondaryTitle-9VRlQS PrePlayPrimaryTitle-primaryTitle-1Qesge"};const mnt=pnt;function hnt({className:e,children:t}){return g.createElement("div",{className:e,"data-qa-id":"preplay-thirdTitle"},t)}hnt.defaultProps={className:"PrePlayTertiaryTitle-tertiaryTitle-3FCXL5"};const gnt=hnt;function ynt(e){var t=e["aria-label"],n=e.className,r=e.style,i={strokeLinejoin:"round",strokeMiterlimit:"1.414",viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",id:"plex-icon-marketing-lyrics-560"};i["aria-hidden"]=!t,i.style=r,i.className=oa.Z.plexIcon+(n?" "+n:"");var a=[g.createElement.apply(g,["path",{d:"m152.241 116.673c5.933-65.31 60.918-116.673 127.75-116.673 66.833 0 121.818 51.363 127.75 116.673h12.268c6.44 0 11.672 5.233 11.672 11.672 0 6.441-5.232 11.673-11.672 11.673h-12.25c-3.675 40.285-26.023 75.197-58.293 96.058l-19.827 231.997c-1.908 21.892-17.5 39.06-37.958 43.82v36.452c0 6.44-5.232 11.673-11.672 11.673s-11.673-5.233-11.673-11.673v-36.592c-20.51-4.97-36.102-22.26-38.01-44.24l-19.792-231.437c-32.305-20.86-54.653-55.756-58.293-96.058h-12.25c-6.44 0-11.672-5.233-11.672-11.673 0-6.439 5.232-11.672 11.672-11.672zm154.14 349.387 18.62-217.665c-14.052 5.25-29.172 8.278-45.01 8.278-15.837 0-30.957-3.045-45.01-8.312l18.568 217.139c1.242 13.982 12.722 24.5 26.74 24.5 13.685 0 24.902-10.29 26.092-23.94zm-38.045-151.059c0-6.441 5.233-11.673 11.673-11.673s11.672 5.233 11.672 11.673v46.672c0 6.439-5.232 11.673-11.672 11.673s-11.673-5.234-11.673-11.673zm11.655-81.674c53.918 0 97.93-40.966 103.81-93.326h-207.62c5.88 52.36 49.893 93.326 103.81 93.326zm103.81-116.672c-5.88-52.36-49.892-93.328-103.81-93.328-53.917 0-97.93 40.969-103.81 93.328z"}].concat([]))];return t&&a.unshift(g.createElement("title",null,t)),g.createElement.apply(g,["svg",i].concat(a))}ynt.propTypes={"aria-label":sa().string,className:sa().string,style:sa().object};const vnt=ynt;function fnt(e){var t=e["aria-label"],n=e.className,r=e.style,i={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-player-lyrics-timed-560"};i["aria-hidden"]=!t,i.style=r,i.className=oa.Z.plexIcon+(n?" "+n:"");var a=[g.createElement.apply(g,["path",{d:"M364 84h-56v29.989a194.698 194.698 0 0 1 27.951 6.126 194.755 194.755 0 0 1 24.136 8.966 195.787 195.787 0 0 1 27.995 15.427 197.227 197.227 0 0 1 48.25 45.312A196.461 196.461 0 0 1 454 217.748a194.576 194.576 0 0 1 18.374 52.568A196.97 196.97 0 0 1 476 308c0 8.956-.604 17.911-1.818 26.785a194.966 194.966 0 0 1-6.297 29.166 194.724 194.724 0 0 1-10.968 28.456 196.15 196.15 0 0 1-17.784 29.982 197.385 197.385 0 0 1-51.543 49.428 195.734 195.734 0 0 1-31.878 17.002 194.692 194.692 0 0 1-38.028 11.555 196.89 196.89 0 0 1-37.05 3.625 197.07 197.07 0 0 1-37.117-3.394 194.66 194.66 0 0 1-38.126-11.327 195.651 195.651 0 0 1-31.993-16.815 197.378 197.378 0 0 1-51.839-49.12 196.2 196.2 0 0 1-17.96-29.865 194.83 194.83 0 0 1-11.136-28.372 194.809 194.809 0 0 1-6.473-29.101A197.463 197.463 0 0 1 84 308c0-12.028 1.091-24.054 3.283-35.881a194.544 194.544 0 0 1 17.634-52.258 196.423 196.423 0 0 1 17.69-28.628 197.522 197.522 0 0 1 22.193-25.085 197.243 197.243 0 0 1 26.136-20.985 195.922 195.922 0 0 1 28.434-15.838A194.565 194.565 0 0 1 252 113.989V84h-56V56h168v28zm-83.499 70.001h-1.002c-2.814.013-5.626.093-8.435.253-5.511.315-11.005.924-16.45 1.827a152.77 152.77 0 0 0-37.505 11.318 153.954 153.954 0 0 0-22.375 12.375 155.41 155.41 0 0 0-37.024 34.668 154.38 154.38 0 0 0-13.799 21.452 152.504 152.504 0 0 0-14.78 41.055A154.8 154.8 0 0 0 126 308c0 7.212.496 14.425 1.497 21.568a152.888 152.888 0 0 0 4.872 22.397 152.714 152.714 0 0 0 8.601 22.316 154.23 154.23 0 0 0 14.247 23.934 155.398 155.398 0 0 0 18.231 20.92 155.18 155.18 0 0 0 23.616 18.615 153.646 153.646 0 0 0 23.909 12.522 152.648 152.648 0 0 0 29.855 8.97A154.944 154.944 0 0 0 280 462c9.782 0 19.564-.915 29.172-2.758a152.648 152.648 0 0 0 29.855-8.97 153.71 153.71 0 0 0 25.464-13.533 155.34 155.34 0 0 0 40.02-38.15 154.175 154.175 0 0 0 14.519-24.308 152.67 152.67 0 0 0 8.601-22.316 152.86 152.86 0 0 0 4.872-22.397A155.47 155.47 0 0 0 434 308c0-10.421-1.039-20.841-3.131-31.052a152.544 152.544 0 0 0-14.78-41.055 154.43 154.43 0 0 0-14.366-22.185 155.298 155.298 0 0 0-37.231-34.447 153.835 153.835 0 0 0-21.601-11.862 152.77 152.77 0 0 0-37.505-11.318 154.437 154.437 0 0 0-16.45-1.827c-2.809-.16-5.621-.24-8.435-.253zM252 336V185.167c8.998-2.085 18.374-3.167 28-3.167 34.771 0 66.271 14.115 89.078 36.922L252 336z"}].concat([]))];return t&&a.unshift(g.createElement("title",null,t)),g.createElement.apply(g,["svg",i].concat(a))}fnt.propTypes={"aria-label":sa().string,className:sa().string,style:sa().object};const bnt=fnt,Int="AudioVideoLyrics-measure-U9K9GH",Snt="AudioVideoLyrics-rightInfo-1nomp0",Mnt="AudioVideoLyrics-innerContent-2wew9s";class Ent extends g.Component{constructor(e,t){super(e,t),this.setLineRef=e=>{this.lineRef=e,this.scrollToLine()},this.onContentMeasure=({width:e})=>{this.setState({isMeasured:!0,pageWidth:e})},this.onScrollerMeasure=({height:e})=>{e&&this.setState({isScrollerMeasured:!0,scrollerHeight:e},(()=>{this.scrollToLine()}))},this.onScrollPositionChange=({scrollTop:e})=>{this.setState({scrollTop:e})},this.state={isMeasured:!1,isScrollerMeasured:!1,pageWidth:0,scrollerHeight:0,scrollTop:0}}UNSAFE_componentWillReceiveProps(e){this.props.lines!==e.lines&&this.setState({scrollTop:0})}scrollToLine(){if(!this.lineRef)return;const{scrollerHeight:e,scrollTop:t}=this.state,{height:n}=this.lineRef.getBoundingClientRect(),r=this.lineRef.offsetTop;(r+n>t+e||r<t)&&this.setState({scrollTop:r})}render(){const{serverEntityID:e,providerEntityID:t,metadataItemEntityID:n,type:r,subtype:i,context:a,columnAdjustment:s,imageUrl:o,positionSeconds:l,lines:c,selectedIndex:d,lyricsStreamsCount:u,hasTimedLyrics:p,isTimedLyricsActive:m,hasLyricsError:h,hasLyricsFeature:y,isLyricFindProvider:v,onPreviousPress:f,onNextPress:b,onTimedLyricsPress:I}=this.props,{isMeasured:S,isScrollerMeasured:M,pageWidth:E,scrollTop:P}=this.state,D=A2(E,s),C=(0,Ux.Cr)(D,r,i,a);return y?g.createElement(bx.Z,{className:Int,onMeasure:this.onContentMeasure},S?g.createElement("div",{className:"AudioVideoLyrics-container-1Kqnfr"},g.createElement("div",null,g.createElement(gQ.Z,{cardClassName:"AudioVideoLyrics-card-14KqOU MetadataPosterCard-card-72Dv8q",serverEntityID:e,providerEntityID:t,metadataItemEntityID:n,metadataKey:"music",type:r,imageWidth:D,imageHeight:C,imageUrl:o,showLinkOnly:!0})),g.createElement("div",{className:"AudioVideoLyrics-content-26dz7P"},g.createElement("div",{className:"AudioVideoLyrics-titlesContainer-3eJg2j"},g.createElement(E2,null,g.createElement(Kx,{serverEntityID:e,providerEntityID:t,metadataItemEntityID:n})),g.createElement(mnt,null,g.createElement(S2,null,g.createElement(t4,{serverEntityID:e,providerEntityID:t,metadataItemEntityID:n}))),g.createElement(gnt,null,g.createElement(S2,null,v?(0,Ce.Z)("Powered by {provider}",{provider:"LyricFind"}):null),g.createElement(D2,null,g.createElement("span",{className:Snt},g.createElement(Lx.Z,{className:Te()("AudioVideoLyrics-timedLyricsButton-2og_nz IconButton-button-llQ1So",m&&"AudioVideoLyrics-isTimedLyricsActive-2BDZms"),"data-qa-id":"toggleTimedLyrics",iconComponent:bnt,title:(0,Ce.Z)("Timed Lyrics"),isDisabled:!p,onPress:I})),g.createElement("span",{className:Snt},(0,Ce.Z)("{selectedIndex} of {lyricsStreamsCount}",{selectedIndex:d+1,lyricsStreamsCount:u})),g.createElement("span",{className:Snt},g.createElement(Lx.Z,{iconComponent:R6,"data-qa-id":"previousLyricsPage",title:(0,Ce.Z)("Previous"),isDisabled:0===d,onPress:f})),g.createElement("span",{className:Snt},g.createElement(Lx.Z,{iconComponent:L6,"data-qa-id":"nextLyricsPage",title:(0,Ce.Z)("Next"),isDisabled:d===u-1,onPress:b}))))),h?g.createElement("div",{className:Mnt},g.createElement(f0,{title:(0,Ce.Z)("There was an error loading the lyrics")})):null,h?null:g.createElement("div",{className:Mnt},g.createElement(bx.Z,{className:Int,onMeasure:this.onScrollerMeasure},M?g.createElement(rU.Z,{className:"AudioVideoLyrics-scroller-HGsXz1 Scroller-vertical-3IY07c",scrollTop:P,onScrollPositionChange:this.onScrollPositionChange},c.length?c.map((({spans:e,startOffset:t,endOffset:n},r)=>{const i=Math.round(t/1e3),a=Math.round(n/1e3),s=m&&l>=i&&-1!==t&&(l<a||-1===n);return g.createElement("div",{key:r,className:Te()("AudioVideoLyrics-line-1ZbaPe",s&&"AudioVideoLyrics-isLineSelected-3eV06T"),ref:s?this.setLineRef:null},e.map((({text:e},t)=>g.createElement("span",{key:t},e))),g.createElement(bnt,{className:"AudioVideoLyrics-lineTimedIcon-q-eciz"}))})):g.createElement(Mx.Z,{className:"AudioVideoLyrics-spinner-iVgPUz Spinner-spinner-1mPhN9 spin-spin-34xiUE"})):null)))):null):g.createElement("div",{className:"AudioVideoLyrics-upsellContainer-m0YGg9"},g.createElement(efe,{iconComponent:vnt,title:(0,Ce.Z)("Song Lyrics"),text:(0,Ce.Z)("Still think Elton is saying Hold me closer, Tony Danza? With a Plex Pass, enjoy timed lyrics (when available) to your favorite songs for the ultimate sing-along with the right words!")}),g.createElement(ufe,{serverEntityID:e,origin:Jve.ap,modalMetricsProperties:{context:"lyrics"}}))}}const Pnt=Ent;var Dnt=Object.defineProperty,Cnt=Object.prototype.hasOwnProperty,wnt=Object.getOwnPropertySymbols,Znt=Object.prototype.propertyIsEnumerable,Tnt=(e,t,n)=>t in e?Dnt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;function Nnt(e){return!(!e||!e.timed)}const Ont={dispatchFetchPlayQueue:Rj.Ai,dispatchFetchPlayQueueItemLyrics:Rj.KA};class Ant extends g.Component{constructor(e,t){super(e,t),this.onPreviousPress=()=>{this.setState((e=>({selectedLyricsStreamIndex:Math.max(0,e.selectedLyricsStreamIndex-1)})))},this.onNextPress=()=>{this.setState(((e,t)=>({selectedLyricsStreamIndex:Math.min(t.lyricsStreams.length-1,e.selectedLyricsStreamIndex+1)})))},this.onTimedLyricsPress=()=>{this.setState((e=>({isTimedLyricsActive:!e.isTimedLyricsActive})))},this.state=this.getDefaultState(e)}componentDidMount(){this._populate(),this.props.hasPremiumLyrics&&this.props.hasLyricsFeature&&this.props.dispatchFetchPlayQueue({playerType:this.props.playerType})}UNSAFE_componentWillReceiveProps(e){this.props.lyricsStreams!==e.lyricsStreams&&this.setState(this.getDefaultState(e,this.state.selectedLyricsStreamIndex))}UNSAFE_componentWillUpdate(e,t){if(this.state.selectedLyricsStreamIndex!==t.selectedLyricsStreamIndex){const n=e.lyricsStreams[t.selectedLyricsStreamIndex];this.setState({isTimedLyricsActive:Nnt(n)})}}componentDidUpdate(e,t){const n=this.props.lyricsStreams[this.state.selectedLyricsStreamIndex];this.props.hasLyricsFeature!==e.hasLyricsFeature&&this.props.dispatchFetchPlayQueue({playerType:this.props.playerType}),!n||n.lyricsError||this.state.selectedLyricsStreamIndex===t.selectedLyricsStreamIndex&&this.props.lyricsStreams===e.lyricsStreams||this._populate()}getDefaultState(e,t=0){const n=e.lyricsStreams.length>0?t:null;return{isTimedLyricsActive:Nnt(e.lyricsStreams[n]),selectedLyricsStreamIndex:n}}_populate(){const{playerType:e,playQueueItemEntityID:t,lyricsStreams:n}=this.props,{selectedLyricsStreamIndex:r}=this.state;if(null==r)return;const i=n[r];i&&!i.lines.length&&this.props.dispatchFetchPlayQueueItemLyrics({playerType:e,playQueueItemEntityID:t,streamID:i.id})}render(){const e=this.props,{dispatchFetchPlayQueue:t,dispatchFetchPlayQueueItemLyrics:n,lyricsStreams:r}=e,i=((e,t)=>{var n={};for(var r in e)Cnt.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&wnt)for(var r of wnt(e))t.indexOf(r)<0&&Znt.call(e,r)&&(n[r]=e[r]);return n})(e,["dispatchFetchPlayQueue","dispatchFetchPlayQueueItemLyrics","lyricsStreams"]),{isTimedLyricsActive:a,selectedLyricsStreamIndex:s}=this.state,o=r[s];return g.createElement(Pnt,((e,t)=>{for(var n in t||(t={}))Cnt.call(t,n)&&Tnt(e,n,t[n]);if(wnt)for(var n of wnt(t))Znt.call(t,n)&&Tnt(e,n,t[n]);return e})({lines:null!=o?o.lines:[],lyricsStreamsCount:r.length,selectedIndex:s,hasTimedLyrics:Nnt(o),isTimedLyricsActive:a,isLyricFindProvider:!!o&&o.provider===TC.$Z,hasLyricsError:!!o&&!!o.lyricsError,onPreviousPress:this.onPreviousPress,onNextPress:this.onNextPress,onTimedLyricsPress:this.onTimedLyricsPress},i))}}const xnt=(0,v.$j)((function(){return(0,fe.P1)(x1(),m4e(),m1e(),o1e(),na.Z,((e,t,n,r,i)=>{const a=kx.r$;return{serverEntityID:e.serverEntityID,providerEntityID:e.providerEntityID,metadataItemEntityID:n.entityID,playQueueItemEntityID:r.entityID,positionSeconds:e.positionSeconds,context:a,type:n.type,imageUrl:n.parentThumb||n.grandparentThumb,lyricsStreams:r.lyricsStreams,columnAdjustment:i.columnAdjustment,hasLyricsFeature:!!r.lyricsStreams.length||t.ownerFeatures&&t.ownerFeatures.indexOf("lyrics")>-1,hasPremiumLyrics:r.hasPremiumLyrics}}))}),Ont)(Ant),jnt=[.2,.4,.6,.8];function Lnt(e,t,n,r){if(n+1<r){const r=n-t-e;if(r<jnt.length)return jnt[r]}return 1}function knt(){return(0,fe.P1)(((e,{playQueueItemEntityID:t})=>t),XI.Z,((e,t)=>t[e]))}function Rnt(e){const{className:t,titlesContainerClassName:n,sourceTextClassName:r,durationContainerClassName:i,serverEntityID:a,providerEntityID:s,metadataItemEntityID:o,type:l,subtype:c,metadataKey:d,title:u,duration:p,isPreview:m,context:h,imageWidth:y,imageHeight:v,imageUrl:f,onPlayPress:b}=e,I=U4(l,h,{providerEntityID:s,subtype:c});let S="";return p&&(S=m?(0,Ce.Z)("Preview"):l===Ac.TRACK?(0,aS.Z)(p):Ui(p)),g.createElement("div",{className:t},g.createElement("div",{className:"AudioVideoPlayerPlayQueueMetadata-cardContainer-1gvanC"},g.createElement(xFe,{className:"AudioVideoPlayerPlayQueueMetadata-card-1Wswtn QuickSearchMetadataPosterCard-card-oRXsxj MetadataPosterButtonCard-card-3uptBn",serverEntityID:a,providerEntityID:s,metadataItemEntityID:o,metadataKey:d,title:(0,Ce.Z)("Play {title}",{title:u}),type:l,imageWidth:y,imageHeight:v,imageUrl:f,onPlayPress:b})),g.createElement("div",{className:n,"data-qa-id":"playQueueTitleContainer"},I.map(((e,t)=>g.createElement(m1,{key:t,serverEntityID:a,providerEntityID:s,metadataItemEntityID:o,component:e,isSecondary:t>0})))),g.createElement(r3,{textClassName:r,serverEntityID:a,metadataItemEntityID:o}),S?g.createElement("div",{className:i},S):null)}Rnt.defaultProps={className:"AudioVideoPlayerPlayQueueMetadata-container-3GQbqW",titlesContainerClassName:"AudioVideoPlayerPlayQueueMetadata-titlesContainer-1hYyka",sourceTextClassName:"AudioVideoPlayerPlayQueueMetadata-sourceText-8i0tTz",durationContainerClassName:"AudioVideoPlayerPlayQueueMetadata-durationContainer-3BsiEq"};const znt=Rnt;var Unt=Object.defineProperty,Vnt=Object.prototype.hasOwnProperty,Bnt=Object.getOwnPropertySymbols,Fnt=Object.prototype.propertyIsEnumerable,_nt=(e,t,n)=>t in e?Unt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Hnt=(e,t)=>{for(var n in t||(t={}))Vnt.call(t,n)&&_nt(e,n,t[n]);if(Bnt)for(var n of Bnt(t))Fnt.call(t,n)&&_nt(e,n,t[n]);return e};const Qnt=(0,v.$j)((function(){return(0,fe.P1)((0,xx.Z)(),(e=>{const t=kx.F5,n=(0,Ux.n3)(e.type,e.subtype,t)===Ux.oz?64:36,r=(0,o1.Z)(n,null,e.type,e.subtype,e,t);return{serverEntityID:e.serverEntityID,providerEntityID:e.providerEntityID,type:e.type,subtype:e.subtype,metadataKey:e.key,duration:e.duration,title:e.title,isPreview:!!e.preview,context:t,imageWidth:r.width,imageHeight:r.height,imageUrl:r.url}}))}),(function(e,t){const n={playerType:t.playerType};return{onPlayPress(){e((0,Rj.gP)(Hnt(Hnt({},n),{index:t.sortIndex}))),t.mediaType===Al.pX&&e((0,Rj.D5)(n))}}}))((function(e){const t=e,{mediaType:n}=t,r=((e,t)=>{var n={};for(var r in e)Vnt.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&Bnt)for(var r of Bnt(e))t.indexOf(r)<0&&Fnt.call(e,r)&&(n[r]=e[r]);return n})(t,["mediaType"]);return g.createElement(znt,Hnt({},r))})),Gnt={.2:"AudioVideoPlayQueueItem-opacity20Percent-2UguL-",.4:"AudioVideoPlayQueueItem-opacity40Percent-28nUsn",.6:"AudioVideoPlayQueueItem-opacity60Percent-14EitX",.8:"AudioVideoPlayQueueItem-opacity80Percent-1KEpfE"};function Wnt(e){const{metadataItemEntityID:t,playerType:n,mediaType:r,sortIndex:i,opacity:a,isCurrentItem:s,isPlayerPaused:o,isItemDragging:l,connectDragSource:c,onRemovePress:d}=e;return g.createElement("div",{className:Te()("AudioVideoPlayQueueItem-container-ShjZae",l&&"AudioVideoPlayQueueItem-isItemDragging-4UNHTi",s&&"AudioVideoPlayQueueItem-isCurrentItem-3PA5GL",null!=a&&Gnt[a]),"data-qa-id":"playQueueItem"},g.createElement("div",{className:"AudioVideoPlayQueueItem-leftContainer-3Lec87"},s?g.createElement(aM,{isPaused:o}):null,s?null:c(g.createElement("div",{className:"AudioVideoPlayQueueItem-moveControls-ocIKxb","data-qa-id":"playQueueReorder"},g.createElement(PB,null)))),g.createElement(Qnt,{className:"AudioVideoPlayQueueItem-metadataContainer-HgfaH0 AudioVideoPlayerPlayQueueMetadata-container-3GQbqW",sourceTextClassName:"AudioVideoPlayQueueItem-sourceText-3OehMU SourceBadge-text-jMpRAu",durationContainerClassName:"AudioVideoPlayQueueItem-metadataDurationContainer-1UxW7X AudioVideoPlayerPlayQueueMetadata-durationContainer-3BsiEq",metadataItemEntityID:t,playerType:n,mediaType:r,sortIndex:i}),s?null:g.createElement("div",{className:"AudioVideoPlayQueueItem-removeControls-3ZfGFC"},g.createElement(Lx.Z,{className:"AudioVideoPlayQueueItem-removeButton-219FzW IconButton-button-llQ1So","data-qa-id":"playQueueRemove",iconComponent:cu.Z,title:(0,Ce.Z)("Remove"),kind:ic.T,onPress:d})))}Wnt.defaultProps={opacity:1,isCurrentItem:!1,isPlayerPaused:!1,isItemDragging:!1,connectDragSource:e=>e};const Ynt=Wnt,Knt=(0,v.$j)((function(){return(0,fe.P1)(knt(),(e=>{const t=(0,Ac.getMetadataType)(e.type),n=t&&t.mediaType;return{metadataItemEntityID:e.metadataItem,mediaType:n}}))}),(function(e,t){return{onRemovePress(n){e((0,Rj.yg)({playerType:t.playerType,playQueueItemEntityID:t.playQueueItemEntityID}))}}}))(Ynt),qnt=parseInt(ng.Z.playQueueSidePadding,10);class $nt extends g.Component{shouldComponentUpdate(e,t){return(0,At.Z)(this,e,t)}render(){const{playerType:e,item:t,itemType:n,currentOffset:r}=this.props;if(!r||n!==hB)return null;const{x:i,y:a}=r,s=`translate3d(${i}px, ${a}px, 0)`,o={position:"absolute",WebkitTransform:s,msTransform:s,transform:s,width:window.innerWidth-2*qnt+"px"};return g.createElement(pB,null,g.createElement("div",{className:"AudioVideoPlayQueueDragPreview-dragPreview-2_J4Ur",style:o},g.createElement(Knt,{playQueueItemEntityID:t.playQueueItemEntityID,playerType:e,isItemDragging:!0})))}}const Jnt=(0,aB.rE)((function(e){return{item:e.getItem(),itemType:e.getItemType(),currentOffset:e.getSourceClientOffset()}}))($nt);var Xnt=Object.defineProperty,ert=Object.prototype.hasOwnProperty,trt=Object.getOwnPropertySymbols,nrt=Object.prototype.propertyIsEnumerable,rrt=(e,t,n)=>t in e?Xnt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const irt={beginDrag:({playQueueItemEntityID:e})=>({playQueueItemEntityID:e}),endDrag(e,t,n){e.onPlayQueueItemDragEnd(t.getItem(),t.didDrop())}},art={hover(e,t,n){const r=(0,y.findDOMNode)(n).getBoundingClientRect(),i=(r.bottom-r.top)/2,a=t.getClientOffset().y-r.top,s=e.sortIndex,o=a>i?s+1:s;e.onPlayQueueItemDragMove(o)}};class srt extends g.Component{componentDidMount(){this.props.connectDragPreview((0,qB.rX)())}shouldComponentUpdate(e,t){return(0,At.Z)(this,e,t)}render(){const e=this.props,{isDragging:t,isDraggingBefore:n,isDraggingAfter:r,isOver:i,connectDropTarget:a,connectDragSource:s}=e,o=((e,t)=>{var n={};for(var r in e)ert.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&trt)for(var r of trt(e))t.indexOf(r)<0&&nrt.call(e,r)&&(n[r]=e[r]);return n})(e,["isDragging","isDraggingBefore","isDraggingAfter","isOver","connectDropTarget","connectDragSource"]);return a(g.createElement("div",{className:Te()("AudioVideoPlayQueueItemDragSource-container-3pUgro",t&&lr.fN,n&&i&&lr.DT,r&&i&&lr.QZ)},g.createElement(Knt,((e,t)=>{for(var n in t||(t={}))ert.call(t,n)&&rrt(e,n,t[n]);if(trt)for(var n of trt(t))nrt.call(t,n)&&rrt(e,n,t[n]);return e})({connectDragSource:s},o))))}}const ort=(0,aB.GR)(hB,art,(function(e,t){return{connectDropTarget:e.dropTarget(),isOver:t.isOver()}}))((0,aB.Ej)(hB,irt,(function(e,t){return{connectDragPreview:e.dragPreview(),connectDragSource:e.dragSource(),isDragging:t.isDragging()}}))(srt));class lrt extends g.Component{constructor(e,t){super(e,t),this.onAddToPlaylistPress=()=>{this.setState({isAddToPlaylistModalOpen:!0})},this.onAddToPlaylistClose=()=>{this.setState({isAddToPlaylistModalOpen:!1})},this.state={isAddToPlaylistModalOpen:!1}}render(){const{serverEntityID:e,providerEntityID:t,playQueueID:n,playQueueItemEntityIDs:r,playQueueSelectedItemOffset:i,playQueueLength:a,playerType:s,currentIndex:o,moveIndex:l,scrollTop:c,isPlayerPaused:d,showAddToPlaylist:u,onPlayQueueItemDragMove:p,onPlayQueueItemDragEnd:m}=this.props,{isAddToPlaylistModalOpen:h}=this.state,y=i-o,v=y+r.length-1;return g.createElement("div",{className:"AudioVideoPlayQueue-container-1mpldp"},g.createElement(T6e,null,g.createElement(Z6e,{title:(0,Ce.Z)("Play Queue")}),g.createElement("div",{className:"AudioVideoPlayQueue-topContainer-2nIbGc"},g.createElement("div",{className:"AudioVideoPlayQueue-topLeft-2WAv4O"},g.createElement("span",{className:"AudioVideoPlayQueue-count-1vL_iY"},1===a?(0,Ce.Z)("{itemCount} item",{itemCount:a}):(0,Ce.Z)("{itemCount} items",{itemCount:a}))),g.createElement("div",{className:"AudioVideoPlayQueue-topRight-2E6ew6"},u?g.createElement(rf.Z,{className:"AudioVideoPlayQueue-tooltipButton-1icY3e","data-qa-id":"queueAddPlaylist","aria-label":(0,Ce.Z)("Add to Playlist"),component:pw.Z,tooltip:(0,Ce.Z)("Add to Playlist"),onPress:this.onAddToPlaylistPress},g.createElement(Ff,null)):null))),g.createElement(rU.Z,{className:"AudioVideoPlayQueue-content-1P-OTq Scroller-vertical-3IY07c",scrollTop:c,smoothScroll:!1,autoScroll:!0},r.map(((e,t)=>{const n=null!=l,r=o===t,i=n&&l===t,c=n&&l===t+1;return g.createElement(ort,{key:e,sortIndex:t,opacity:Lnt(t,y,v,a),playQueueItemEntityID:e,playerType:s,isDraggingBefore:i,isDraggingAfter:c,isCurrentItem:r,isPlayerPaused:d,onPlayQueueItemDragMove:p,onPlayQueueItemDragEnd:m})}))),g.createElement(Jnt,{playerType:s}),u?g.createElement(qG.Z,{serverEntityID:e,providerEntityID:t,playQueueID:n,isOpen:h,onModalClose:this.onAddToPlaylistClose}):null)}}const crt=lrt;var drt=Object.defineProperty,urt=Object.prototype.hasOwnProperty,prt=Object.getOwnPropertySymbols,mrt=Object.prototype.propertyIsEnumerable,hrt=(e,t,n)=>t in e?drt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,grt=(e,t)=>{for(var n in t||(t={}))urt.call(t,n)&&hrt(e,n,t[n]);if(prt)for(var n of prt(t))mrt.call(t,n)&&hrt(e,n,t[n]);return e};const yrt=parseInt(ng.Z.playQueueItemHeight,10),vrt=(0,fe.P1)((e=>e.ui.audioVideoPlayer),m4e(),BVe(),((e,t,n)=>{const r=e.playQueue,i=Fo.wB(n.identifier,Fo.Y3),a=!r.isLocal&&i;return{serverEntityID:t.entityID,providerEntityID:n.entityID,playQueueID:r.playQueueID,isQueueRepeated:r.repeat,isQueueShuffled:r.playQueueShuffled,isPlayerPaused:e.isPaused,isUpdatePending:r.isUpdatePending,playQueueItemEntityIDs:r.playQueueItems,playQueueSelectedItemOffset:r.playQueueSelectedItemOffset,playQueueLength:r.length,currentIndex:r.currentIndex,showAddToPlaylist:a}})),frt={dispatchMovePlayQueueItem:Rj.FX};class brt extends g.Component{constructor(e,t){super(e,t),this.onPlayQueueItemDragMove=e=>{e!==this.state.moveIndex&&this.setState({moveIndex:e})},this.onPlayQueueItemDragEnd=(e,t)=>{const{playerType:n}=this.props,{moveIndex:r}=this.state;t&&null!=r&&(0,fn.c9)((()=>{this.props.dispatchMovePlayQueueItem(grt(grt({playerType:n},e),{moveIndex:r}))})),this.setState({moveIndex:null})},this.onScrollPositionChange=({scrollTop:e})=>{this.setState({scrollTop:e})},this.shouldUpdateScrollTop=!1,this.state={moveIndex:null,scrollTop:yrt*e.currentIndex}}UNSAFE_componentWillReceiveProps(e){this.props.isQueueRepeated===e.isQueueRepeated&&this.props.isQueueShuffled===e.isQueueShuffled||(this.shouldUpdateScrollTop=!0),this.shouldUpdateScrollTop&&this.props.currentIndex!==e.currentIndex&&this.setState({scrollTop:yrt*e.currentIndex}),this.props.isUpdatePending&&!e.isUpdatePending&&(this.shouldUpdateScrollTop=!1)}render(){const e=this.props,{dispatchMovePlayQueueItem:t}=e,n=((e,t)=>{var n={};for(var r in e)urt.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&prt)for(var r of prt(e))t.indexOf(r)<0&&mrt.call(e,r)&&(n[r]=e[r]);return n})(e,["dispatchMovePlayQueueItem"]),{moveIndex:r,scrollTop:i}=this.state;return g.createElement(crt,grt({moveIndex:r,scrollTop:i,onPlayQueueItemDragMove:this.onPlayQueueItemDragMove,onPlayQueueItemDragEnd:this.onPlayQueueItemDragEnd,onScrollPositionChange:this.onScrollPositionChange},n))}}const Irt=DH((0,v.$j)(vrt,frt)(brt)),Srt=(0,fe.P1)(oX.Z,(e=>e.hubs));function Mrt(){return(0,fe.P1)(((e,{hubEntityID:t})=>t),Srt,((e,t)=>t[e]))}const Ert=sa().shape({key:sa().string,hubKey:sa().string,title:sa().string,icon:sa().string,type:sa().string,subtype:sa().string,agent:sa().string,updatedAt:sa().number,scannedAt:sa().number,context:sa().string});var Prt=n(41431),Drt=Object.defineProperty,Crt=Object.prototype.hasOwnProperty,wrt=Object.getOwnPropertySymbols,Zrt=Object.prototype.propertyIsEnumerable,Trt=(e,t,n)=>t in e?Drt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Nrt=(e,t)=>{for(var n in t||(t={}))Crt.call(t,n)&&Trt(e,n,t[n]);if(wrt)for(var n of wrt(t))Zrt.call(t,n)&&Trt(e,n,t[n]);return e};const Ort=function(e){const t=e,{metadataListEntityID:n,metadataItemEntityIDs:r,metricsContext:i,containerKey:a,listType:s,listSubtype:o,listContext:l,columnAdjustment:c,populatedRange:d,displayFieldDefinitions:u,displayFields:p}=t,m=((e,t)=>{var n={};for(var r in e)Crt.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&wrt)for(var r of wrt(e))t.indexOf(r)<0&&Zrt.call(e,r)&&(n[r]=e[r]);return n})(t,["metadataListEntityID","metadataItemEntityIDs","metricsContext","containerKey","listType","listSubtype","listContext","columnAdjustment","populatedRange","displayFieldDefinitions","displayFields"]),{serverEntityID:h,providerEntityID:y,hubIdentifier:v}=m,f=U4(s,l,{providerEntityID:y,subtype:o,isExternal:v.indexOf("external")>-1,displayFields:p}),b=Q$e(s,o,l,c,f.length);return g.createElement(M$e,Nrt(Nrt({},m),{containerKey:a,keyPropName:"metadataItemEntityID",items:r,itemsOffset:d.start,layout:b,cellRenderer:BQ({serverEntityID:h,providerEntityID:y,metadataListEntityID:n,containerKey:a,listType:s,listSubtype:o,listContext:l,titleComponents:f,displayFieldDefinitions:u,displayFields:p,isCondensed:!0,metricsContext:i},$4)}))};var Art=Object.defineProperty,xrt=Object.prototype.hasOwnProperty,jrt=Object.getOwnPropertySymbols,Lrt=Object.prototype.propertyIsEnumerable,krt=(e,t,n)=>t in e?Art(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Rrt=(e,t)=>{for(var n in t||(t={}))xrt.call(t,n)&&krt(e,n,t[n]);if(jrt)for(var n of jrt(t))Lrt.call(t,n)&&krt(e,n,t[n]);return e};const zrt=(0,oC.Z)((function(){return(0,fe.P1)(((e,{sourceDirectory:t})=>t),((e,{listContext:t})=>t),((e,{allowSourceTitle:t})=>t),((e,{metricsPage:t})=>t),(0,LT.Z)(),(0,OT.Z)(),Mrt(),(0,fe.P1)(rqe((0,OT.Z)(),["identifier","title","sourceTitle"]),rqe((0,LT.Z)(),["friendlyName","sourceTitle"]),((e,t)=>function(e={},t={}){const{identifier:n,title:r,sourceTitle:i}=e,{friendlyName:a,sourceTitle:s}=t;let o;return Fo.wB(n,Fo.Y3)?o=s||a:r&&(o=i?`${r}  ${i}`:r),o}(e,t))),((e,t,n,r,i,a,s,o)=>{var l;const c=s.hubIdentifier.indexOf("music.video")>-1?mQ.nW:s.type,d=t||function(e,t=kx.Y3){switch(e){case"home.continue":return kx.wl;case"home.recommended":return kx.g$;case"home.watchTogether":return kx.Bs;default:return t}}(s.hubIdentifier),u=vx(r,s.context||s.hubIdentifier);let p;if(s.key&&d!==kx.wl){const t={key:s.key,title:s.title,pageType:gT.IY,context:u};p=e?function(e,t,n,r){const{key:i,typeKey:a,title:s,type:o,subtype:l,content:c,context:d}=r;return(0,lz.kP)(i)?(0,lz.ZP)(i,e,t,n):/\/library\/sections\/(\w+)\/cluster/.test(i)?(0,lz.ZP)(lz.tk.TIMELINE,e,t,n):/\/watchnow$/.test(i)?(0,lz.ZP)(lz.tk.GUIDE,e,t,n):c?(0,hI.Z)(e,t,n,{key:i,typeKey:a,context:d}):(0,hI.Z)(e,t,n,{key:i,type:o,subtype:l,title:s,context:d,pageType:r.pageType})}(i,a,e,t):s.source?Tr(s.source,t):(0,Prt.Z)(i,a,t)}const m={component:Ort,metadataListEntityID:s.metadataList,metricsContext:u,hubIdentifier:s.hubIdentifier,title:s.title,sourceTitle:n?o:null,attribution:s.attribution,route:p,style:s.style,size:s.size,more:s.more,random:s.random,autoAdvanceDelayMs:s.autoAdvanceDelayMs,displayFieldDefinitions:null==(l=s.Meta)?void 0:l.DisplayFields,containerKey:s.key,listType:c,listSubtype:s.subtype,listContext:d};if(s.source){const{serverEntityID:e,providerEntityID:t}=function(e){if(!e)return;let t,n;const r=e.match(/^server:\/\/(.*)\/(.*)/);if(r)t=r[1],n=r[2];else{const r=e.match(/^provider:\/\/(.*)/);if(!r)return;t=Hj.X,n=r[1]}const i=(0,vn.Z)(Mn.cN,t);return{serverEntityID:i,providerEntityID:(0,vn.Z)(Mn.MC,n,i)}}(s.source);m.serverEntityID=e,m.providerEntityID=t}return m}))}))(S0.Z);zrt.propTypes=Rrt(Rrt({},zrt.propTypes),{providerEntityID:sa().string.isRequired,serverEntityID:sa().string.isRequired,hubEntityID:sa().string.isRequired,sourceDirectory:Ert,allowSourceTitle:sa().bool});const Urt=zrt,Vrt={opacity:0,pointerEvents:"none"},Brt={opacity:1,pointerEvents:"auto"};class Frt extends g.Component{constructor(e,t){super(e,t),this.onListReady=()=>{++this._readyCount===this._initialCount&&this.setState({isReady:!0})},this.state={isReady:!1},this._readyCount=0}UNSAFE_componentWillMount(){this._initialCount=this.props.hubEntityIDs.length}UNSAFE_componentWillReceiveProps(e){const t=e.hubEntityIDs.length,n=this.props.hubEntityIDs.length;this.state.isReady||t===n||(this._initialCount=t,this._readyCount===t&&this.setState({isReady:!0}))}shouldComponentUpdate(e,t){return(0,At.Z)(this,e,t)}render(){const{allowHomeHubIndicator:e,allowPersistentHomeHubStatus:t,allowToggleHomeHub:n,allowSourceTitle:r,className:i,serverEntityID:a,providerEntityID:s,directoryKey:o,hubEntityIDs:l,sourceDirectory:c,columnAdjustment:d,listContext:u}=this.props,{isReady:p}=this.state;return g.createElement("div",{className:i,style:p?Brt:Vrt},l.map((i=>g.createElement(Urt,{key:i,serverEntityID:a,providerEntityID:s,hubEntityID:i,sourceDirectory:c,directoryKey:o,allowHomeHubIndicator:e,allowPersistentHomeHubStatus:t,allowToggleHomeHub:n,allowSourceTitle:r,listContext:u,columnAdjustment:d,onListReady:this.onListReady}))))}}const _rt=Frt,Hrt=function(e){const{title:t,summary:n}=e;return g.createElement(g.Fragment,null,g.createElement(D0,null,g.createElement(E2,null,g.createElement(S2,null,t))),g.createElement(E0,null),g.createElement(D0,null,g.createElement(V0,null,n)))};var Qrt=Object.defineProperty,Grt=Object.prototype.hasOwnProperty,Wrt=Object.getOwnPropertySymbols,Yrt=Object.prototype.propertyIsEnumerable,Krt=(e,t,n)=>t in e?Qrt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;function qrt(e){return g.createElement("div",{className:"PrePlayAttributionLogo-attributionLogo-2p8HTP"},g.createElement(Jg,((e,t)=>{for(var n in t||(t={}))Grt.call(t,n)&&Krt(e,n,t[n]);if(Wrt)for(var n of Wrt(t))Yrt.call(t,n)&&Krt(e,n,t[n]);return e})({},e)))}var $rt=n(87385);function Jrt(e){const{className:t,linkClassName:n,server:r,provider:i,sourceDirectory:a,fallbackFilterKey:s,type:o,tags:l,limit:c}=e;if(!l||!l.length)return null;const d=o&&(0,Ac.getMetadataType)(o);return g.createElement("span",{className:t},l.map(((e,t)=>{if(t>=c)return;let o;if(e.directory&&e.key&&a)o=(0,hI.Z)(r,i,a,{key:e.key,title:e.tag});else if((e.filter||e.id)&&a){const t={filters:e.filter,filterLabel:e.tag};!t.filter&&s&&e.id&&(t.filters=`${s}=${e.id}`),d&&(t.type=d.id),e.context&&(t.context=e.context),o=(0,$rt.Z)(r,i,a,t)}return g.createElement("span",{key:t},g.createElement(pw.Z,{className:n,to:o,isDisabled:!o},e.tag),t+1<c&&t+1<l.length?", ":null)})))}Jrt.defaultProps={linkClassName:"PrePlayTagList-tagsListLink-1cAxVN Link-link-CM9nxg",limit:1/0};const Xrt=Jrt;function eit(e){const{children:t,server:n,provider:r,sourceDirectory:i,type:a,Director:s,Writer:o,Studio:l,studio:c,isLibraryProvider:d}=e;return t||s.length||o.length||c||l.length?g.createElement(jF,null,t,s.length?g.createElement(kF,{label:(0,Ce.Z)("Directed by")},g.createElement(Xrt,{server:n,provider:r,sourceDirectory:i,fallbackFilterKey:"director",type:a,tags:s})):null,o.length?g.createElement(kF,{label:(0,Ce.Z)("Written by")},g.createElement(Xrt,{server:n,provider:r,sourceDirectory:i,fallbackFilterKey:"writer",type:a,tags:o})):null,l.length?g.createElement(kF,{label:(0,Ce.Z)("Studio")},g.createElement(Xrt,{server:n,provider:r,sourceDirectory:i,fallbackFilterKey:"studio",type:a,tags:l})):null,c&&!l.length?g.createElement(kF,{label:(0,Ce.Z)("Studio")},g.createElement(Xrt,{server:n,provider:r,sourceDirectory:i,type:a,tags:[{filter:d?`studio=${encodeURIComponent(encodeURIComponent(c))}`:null,tag:c}]})):null):null}eit.defaultProps={Director:[],Writer:[]};const tit=eit,nit=(0,v.$j)((function(){return(0,fe.P1)(sb.Z,ab.Z,s4(),(0,xx.Z)(),((e,t,n,r={})=>({server:e,provider:t,isLibraryProvider:Fo.wB(t.identifier,Fo.Y3),sourceDirectory:n,Director:r.Director,Writer:r.Writer,Studio:r.Studio,studio:r.studio})))}))(tit);function rit(e,t,n){return!!(e.ownerFeatures&&e.ownerFeatures.indexOf(bn.EM)>-1&&t&&t.isLibraryItem&&!t.isExtra&&function(e){return!e||e.protocol===Bj.l||parseInt(e.protocolVersion,10)>=3}(n))}function iit(e,t,n){return!!(e.ownerFeatures&&e.ownerFeatures.indexOf(bn.m9)>-1&&t&&t.isLibraryItem&&!t.isExtra&&function(e){return!e||e.protocol===Bj.l||parseInt(e.protocolVersion,10)>=3}(n))}class ait extends g.Component{constructor(){super(...arguments),this.onPress=e=>{this.props.onStreamSelect(this.props.stream.id),this.props.onMenuClose()}}render(){const{className:e,children:t,stream:n}=this.props;return g.createElement(Up.Z,{className:e,isSelected:!!n.selected,onPress:this.onPress},t)}}const sit=ait,oit=function(e){const{target:t,isOpen:n,serverEntityID:r,audioStreams:i,onMenuClose:a,onStreamSelect:s}=e;return g.createElement(Xl.Z,{target:t,isOpen:n,size:Rp.ln,onMenuClose:a},i.map((e=>g.createElement(sit,{key:e.id,stream:e,onMenuClose:a,onStreamSelect:s},g.createElement(oue,{serverEntityID:r,type:"audio",stream:e}),e.title?g.createElement("span",{className:"AudioStreamMenu-extendedTitle-2XBPeE"},e.title):null))))};class lit extends g.Component{constructor(e,t){super(e,t),this.onDeletePress=()=>{this.setState({isConfirmDeleteModalOpen:!0})},this.onDeleteConfirm=()=>{const{subtitlesStream:e,onStreamDelete:t}=this.props;this.setState({isConfirmDeleteModalOpen:!1}),t(e.key),this.props.onMenuClose()},this.onDeleteCancel=()=>{this.setState({isConfirmDeleteModalOpen:!1})},this.state={isConfirmDeleteModalOpen:!1}}render(){const{serverEntityID:e,subtitlesStream:t,isStreamDeleteInProgress:n,hasExternalSubtitlesStreams:r,canShowDeleteSubtitlesAction:i,onMenuClose:a,onStreamSelect:s}=this.props,o=!!t.key&&i;return g.createElement("div",{className:"SubtitlesStreamMenuItem-stream-36DboE"},g.createElement(sit,{className:r?"SubtitlesStreamMenuItem-menuItemContainer-4k-lGJ SelectedMenuItem-menuItemContainer-87szhD":void 0,stream:t,onMenuClose:a,onStreamSelect:s},g.createElement(oue,{serverEntityID:e,type:"subtitles",stream:t}),t.title?g.createElement("span",{className:"SubtitlesStreamMenuItem-extendedTitle-1ypKy_"},t.title):null),o?g.createElement(g.Fragment,null,g.createElement("div",{className:"SubtitlesStreamMenuItem-deleteContainer-1Lcf_H"},g.createElement(Lx.Z,{className:"SubtitlesStreamMenuItem-deleteButton-2pc4ip IconButton-button-llQ1So",iconComponent:cu.Z,ariaLabel:(0,Ce.Z)("Delete Subtitle"),onPress:this.onDeletePress})),g.createElement(yt.Z,{isConfirmButtonSpinning:n,isOpen:this.state.isConfirmDeleteModalOpen,metricsPage:pt.Yp,kind:ic.T,title:(0,Ce.Z)("Delete Subtitle File"),message:(0,Ce.Z)("Are you sure you want to delete this subtitle file?"),confirmLabel:(0,Ce.Z)("Delete"),onConfirm:this.onDeleteConfirm,onCancel:this.onDeleteCancel})):null)}}const cit=lit;class dit extends g.Component{constructor(e,t){super(e,t),this.onMoreSubtitlesPress=()=>{this.setState({isSubtitlesModalOpen:!0})},this.onSubtitlesModalClose=()=>{this.setState({isSubtitlesModalOpen:!1})},this.onUploadSubtitlesPress=()=>{this.setState({isSubtitlesUploadModalOpen:!0})},this.onSubtitlesUploadModalClose=()=>{this.setState({isSubtitlesUploadModalOpen:!1})},this.state={isSubtitlesModalOpen:!1,isSubtitlesUploadModalOpen:!1}}render(){const{target:e,isOpen:t,serverEntityID:n,metadataItemEntityID:r,subtitlesStreams:i,isStreamDeleteInProgress:a,canShowDeleteSubtitlesAction:s,canShowMoreSubtitlesAction:o,canShowUploadSubtitlesAction:l,onMenuClose:c,onStreamSelect:d,onStreamDelete:u}=this.props,{isSubtitlesModalOpen:p,isSubtitlesUploadModalOpen:m}=this.state,h=i.some((e=>!!e.key));return g.createElement(g.Fragment,null,g.createElement(Xl.Z,{target:e,isOpen:t,size:Rp.ln,onMenuClose:c},i.map((e=>g.createElement(cit,{key:e.id,serverEntityID:n,subtitlesStream:e,isStreamDeleteInProgress:a,hasExternalSubtitlesStreams:h,canShowDeleteSubtitlesAction:s,onMenuClose:c,onStreamSelect:d,onStreamDelete:u}))),o?g.createElement(ec.Z,{onPress:this.onMoreSubtitlesPress},(0,Ce.Z)("Search...")):null,l?g.createElement(ec.Z,{onPress:this.onUploadSubtitlesPress},(0,Ce.Z)("Upload...")):null),g.createElement(Iee,{metadataItemEntityID:r,isOpen:p,onModalClose:this.onSubtitlesModalClose}),g.createElement(Bee,{metadataItemEntityID:r,isOpen:m,onModalClose:this.onSubtitlesUploadModalClose}))}}const uit=dit,pit="PrePlayDetailsStreamsGroup-loadingMessage-1a0yXO";class mit extends g.Component{constructor(e,t){super(e,t),this.onAudioStreamMenuButtonPress=e=>{this.setState({isAudioStreamMenuOpen:!this.state.isAudioStreamMenuOpen})},this.onAudioStreamMenuClose=()=>{this.setState({isAudioStreamMenuOpen:!1})},this.onSubtitlesStreamMenuButtonPress=e=>{this.setState({isSubtitlesStreamMenuOpen:!this.state.isSubtitlesStreamMenuOpen})},this.onSubtitlesStreamMenuClose=()=>{this.setState({isSubtitlesStreamMenuOpen:!1})},this.state={isAudioStreamMenuOpen:!1,isSubtitlesStreamMenuOpen:!1},this._audioStreamMenuButtonID=(0,GE.Z)(),this._subtitlesStreamMenuButtonID=(0,GE.Z)()}render(){const{serverEntityID:e,metadataItemEntityID:t,mediaItem:n,isStreamDeleteInProgress:r,canShowDeleteSubtitlesAction:i,canShowMoreSubtitlesAction:a,canShowUploadSubtitlesAction:s,onAudioStreamSelect:o,onSubtitlesStreamSelect:l,onSubtitlesStreamDelete:c}=this.props,{isAudioStreamMenuOpen:d,isSubtitlesStreamMenuOpen:u}=this.state;if(!n)return g.createElement(jF,null,g.createElement(kF,{label:(0,Ce.Z)("Video")},g.createElement("span",{className:pit},(0,Ce.Z)("Loading..."))),g.createElement(kF,{label:(0,Ce.Z)("Audio")},g.createElement("span",{className:pit},(0,Ce.Z)("Loading..."))),g.createElement(kF,{label:(0,Ce.Z)("Subtitles")},g.createElement("span",{className:pit},(0,Ce.Z)("Loading..."))));const p=Yj.Z.get("audio").id,m=(0,Tde.Z)(n,{streamType:p}),h=(0,wde.Z)(n),y=Yj.Z.get("subtitles").id,v=(0,Tde.Z)(n,{streamType:y}),f=(0,Zde.Z)(n),b=a||v.length>1,I=g.createElement(oue,{serverEntityID:e,type:"audio",stream:h}),S=g.createElement(oue,{serverEntityID:e,type:"subtitles",stream:f});return g.createElement(jF,null,g.createElement(kF,{label:(0,Ce.Z)("Video")},g.createElement(oue,{serverEntityID:e,type:"video",mediaItem:n})),g.createElement(kF,{label:(0,Ce.Z)("Audio")},m.length>1?g.createElement(Z0.Z,{id:this._audioStreamMenuButtonID,direction:d?kp.UP:kp.WV,onPress:this.onAudioStreamMenuButtonPress},I):I),g.createElement(kF,{label:(0,Ce.Z)("Subtitles")},b?g.createElement(Z0.Z,{id:this._subtitlesStreamMenuButtonID,direction:u?kp.UP:kp.WV,onPress:this.onSubtitlesStreamMenuButtonPress},S):S),g.createElement(oit,{target:this._audioStreamMenuButtonID,isOpen:d,serverEntityID:e,audioStreams:m,onMenuClose:this.onAudioStreamMenuClose,onStreamSelect:o}),g.createElement(uit,{target:this._subtitlesStreamMenuButtonID,isOpen:u,serverEntityID:e,metadataItemEntityID:t,subtitlesStreams:v,isStreamDeleteInProgress:r,canShowDeleteSubtitlesAction:i,canShowMoreSubtitlesAction:a,canShowUploadSubtitlesAction:s,onMenuClose:this.onSubtitlesStreamMenuClose,onStreamSelect:l,onStreamDelete:c}))}}const hit=mit;var git=Object.defineProperty,yit=Object.prototype.hasOwnProperty,vit=Object.getOwnPropertySymbols,fit=Object.prototype.propertyIsEnumerable,bit=(e,t,n)=>t in e?git(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Iit=(e,t)=>{for(var n in t||(t={}))yit.call(t,n)&&bit(e,n,t[n]);if(vit)for(var n of vit(t))fit.call(t,n)&&bit(e,n,t[n]);return e};const Sit={dispatchMakePrePlayVideoDecision:WX,dispatchDeleteMetadataItemStream:$l.tI,dispatchSelectMetadataItemStream:$l.Bs};class Mit extends g.Component{constructor(){super(...arguments),this.onAudioStreamSelect=e=>{this.props.dispatchSelectMetadataItemStream({metadataItemEntityID:this.props.metadataItemEntityID,streamTypeString:"audio",streamID:e,allParts:!0,metricsPage:this.props.metricsPage})},this.onSubtitlesStreamSelect=e=>{this.props.dispatchSelectMetadataItemStream({metadataItemEntityID:this.props.metadataItemEntityID,streamTypeString:"subtitles",streamID:e,allParts:!0,metricsPage:this.props.metricsPage})},this.onSubtitlesStreamDelete=e=>{this.props.dispatchDeleteMetadataItemStream({metadataItemEntityID:this.props.metadataItemEntityID,streamKey:e,metricsPage:this.props.metricsPage})}}componentDidMount(){this.props.dispatchMakePrePlayVideoDecision()}componentDidUpdate(e){e.mediaItems!==this.props.mediaItems&&e.dispatchMakePrePlayVideoDecision()}render(){const e=this.props,{metricsPage:t,dispatchMakePrePlayVideoDecision:n,dispatchSelectMetadataItemStream:r}=e,i=((e,t)=>{var n={};for(var r in e)yit.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&vit)for(var r of vit(e))t.indexOf(r)<0&&fit.call(e,r)&&(n[r]=e[r]);return n})(e,["metricsPage","dispatchMakePrePlayVideoDecision","dispatchSelectMetadataItemStream"]);return g.createElement(hit,Iit(Iit({},i),{onAudioStreamSelect:this.onAudioStreamSelect,onSubtitlesStreamSelect:this.onSubtitlesStreamSelect,onSubtitlesStreamDelete:this.onSubtitlesStreamDelete}))}}const Eit=(0,oC.Z)((function(){return(0,fe.P1)((e=>e.ui.prePlayPage.decisionMediaItem),sb.Z,(0,xx.Z)(),(0,fe.P1)((0,LT.Z)(),(0,xx.Z)(),((e,t)=>rit(e,t))),(0,fe.P1)((0,LT.Z)(),(0,xx.Z)(),((e,t)=>iit(e,t))),((e,t,n,r,i)=>({mediaItem:e,mediaItems:n.Media,isStreamDeleteInProgress:n.isStreamDeleteInProgress,canShowDeleteSubtitlesAction:t.isFullOwnedServer,canShowMoreSubtitlesAction:r,canShowUploadSubtitlesAction:i})))}),Sit)(Mit),Pit=function({className:e,duration:t,viewOffset:n}){let r;if(t&&n){const e=(t-n)/1e3;e>0&&(r=Vi(e))}return g.createElement("span",{className:e},r)};function Dit({className:e,separator:t}){return g.createElement("span",{className:e},t)}Dit.defaultProps={className:"PrePlayDashSeparator-separator-2ajXZh",separator:""};const Cit=Dit,wit=function(e){const{contentRating:t}=e;return t?g.createElement(RL.Z,{className:"PrePlayContentRating-badge-1pVgMF Badge-badge-waFP_r"},Pa(t)):null};var Zit=Object.defineProperty,Tit=Object.prototype.hasOwnProperty,Nit=Object.getOwnPropertySymbols,Oit=Object.prototype.propertyIsEnumerable,Ait=(e,t,n)=>t in e?Zit(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;function xit(e){return g.createElement(cb.Z,((e,t)=>{for(var n in t||(t={}))Tit.call(t,n)&&Ait(e,n,t[n]);if(Nit)for(var n of Nit(t))Oit.call(t,n)&&Ait(e,n,t[n]);return e})({},e))}xit.defaultProps={className:"PrePlayStatusButton-statusButton-1Yti-- Button-default-1LDuq5",size:Rp.HC};const jit=xit,Lit="PrePlayRecordingStatusButton-partialButton-2IVsZi PrePlayStatusButton-statusButton-1Yti-- Button-default-1LDuq5",kit=function(e){const{mediaGrabError:t,mediaGrabPartialRecordingReason:n,onPress:r}=e;return t?g.createElement(jit,{className:"PrePlayRecordingStatusButton-failedButton-3yH-6M PrePlayStatusButton-statusButton-1Yti-- Button-default-1LDuq5",title:t,onPress:r},(0,Ce.Z)("Failed Recording")):n?g.createElement(rf.Z,{tooltip:n,"aria-label":n,component:jit,className:Lit,onPress:r},(0,Ce.Z)("Partial Recording")):g.createElement(jit,{className:Lit,onPress:r},(0,Ce.Z)("Partial Recording"))};function Rit({className:e,children:t}){return g.createElement("span",{className:e},t)}Rit.defaultProps={className:"PrePlayTertiaryTitleSpacer-tertiaryTitleSpacer-3BhSOF"};const zit=Rit;function Uit({className:e,onPress:t}){return g.createElement(jit,{className:e,onPress:t},(0,Ce.Z)("Unavailable"))}Uit.defaultProps={className:"PrePlayUnavailableButton-unavailableButton-2SdcZQ PrePlayStatusButton-statusButton-1Yti-- Button-default-1LDuq5"};const Vit=Uit;var Bit=Object.defineProperty,Fit=Object.prototype.hasOwnProperty,_it=Object.getOwnPropertySymbols,Hit=Object.prototype.propertyIsEnumerable,Qit=(e,t,n)=>t in e?Bit(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const Git=(0,v.$j)((function(){return(0,fe.P1)((0,xx.Z)(),(0,fe.P1)((0,xx.Z)(),((e={})=>{const t={isPartialMediaGrab:!1,mediaGrabError:null},n=e.Media;if(!n||!n.length)return t;for(let e=0;e<n.length;e++){const r=n[e],{mediaGrabPartialRecording:i,mediaGrabError:a,mediaGrabPartialRecordingReason:s}=r;i&&(t.isPartialMediaGrab=!0),a&&(t.mediaGrabError=r.mediaGrabError),s&&(t.mediaGrabPartialRecordingReason=s)}return t})),(0,fe.P1)((e=>e.ui.prePlayPage),(0,xx.Z)(),((e,t={})=>{if(e.isFileUnavailable)return!0;const n=t.Media;if(!n||!n.length)return!1;for(let e=0,t=n.length;e<t;e++){const t=n[e].Part;if(t&&t.length)for(let e=0,n=t.length;e<n;e++){const n=t[e];if(!1===n.exists||!1===n.accessible)return!0}}return!1})),((e={},t,n)=>((e,t)=>{for(var n in t||(t={}))Fit.call(t,n)&&Qit(e,n,t[n]);if(_it)for(var n of _it(t))Hit.call(t,n)&&Qit(e,n,t[n]);return e})({duration:e.duration,contentRating:e.contentRating,saved:e.saved,viewCount:e.viewCount,viewOffset:e.viewOffset,type:e.type,subtype:e.subtype,isFileUnavailable:n},t)))}),(function(e,t){return{onGetInfoPress(n){e((0,Nl.getMetadataItemInfo)({metadataItemEntityID:t.metadataItemEntityID}))}}}))((function(e){const{duration:t,saved:n,contentRating:r,viewCount:i,viewOffset:a,isFileUnavailable:s,isPartialMediaGrab:o,mediaGrabError:l,mediaGrabPartialRecordingReason:c,onGetInfoPress:d}=e,u=!i&&!a,p=!!a&&a<t,m=!!t||u||p,h=u&&(null==n||null!=n&&n);return g.createElement(S2,null,m?g.createElement(zit,null,g.createElement(q1,{duration:t}),u||p?g.createElement(g.Fragment,null,t&&(h||p)?g.createElement(Cit,null):null,h?(0,Ce.Z)("Unplayed"):null,p?g.createElement(Pit,{duration:t,viewOffset:a}):null):null):null,g.createElement(wit,{contentRating:r}),s?g.createElement(Vit,{onPress:d}):null,!s&&(o||l||c)?g.createElement(kit,{mediaGrabError:l,mediaGrabPartialRecordingReason:c,onPress:d}):null)})),Wit=(0,v.$j)((function(){return(0,fe.P1)((0,xx.Z)(),((e={})=>({originallyAvailableAt:e.originallyAvailableAt})))}))((function({originallyAvailableAt:e}){return g.createElement(D2,null,e?(0,Ce.Z)("{monthName} {day}, {year}",{monthName:Si((0,_i.Z)((0,Ij.Z)(e))),day:(0,pi.Z)(e,"d"),year:(0,pi.Z)(e,"yyyy")}):null)}));function Yit(e){const{serverEntityID:t,providerEntityID:n,metadataItemEntityID:r,type:i,attributionLogo:a,summary:s,showStreams:o}=e;return g.createElement(g.Fragment,null,g.createElement(D0,null,g.createElement(E2,null,g.createElement(S2,null,g.createElement(Gx,{serverEntityID:t,providerEntityID:n,metadataItemEntityID:r})),g.createElement(D2,null,g.createElement(qrt,{attributionLogo:a}))),g.createElement(mnt,null,g.createElement(S2,null,g.createElement(Wx.Z,{serverEntityID:t,providerEntityID:n,metadataItemEntityID:r})),g.createElement(C2,{serverEntityID:t,providerEntityID:n,metadataItemEntityID:r})),g.createElement(gnt,null,g.createElement(Git,{serverEntityID:t,providerEntityID:n,metadataItemEntityID:r}),g.createElement(Wit,{serverEntityID:t,providerEntityID:n,metadataItemEntityID:r}))),g.createElement(E0,null),g.createElement(D0,null,g.createElement(nit,{serverEntityID:t,providerEntityID:n,metadataItemEntityID:r,type:i}),o?g.createElement(Eit,{serverEntityID:t,providerEntityID:n,metadataItemEntityID:r}):null,g.createElement(V0,null,s)))}Yit.defaultProps={showStreams:!0};const Kit=Yit,qit=function(e){const{serverEntityID:t,providerEntityID:n,metadataItemEntityID:r,summary:i}=e;return g.createElement(g.Fragment,null,g.createElement(D0,null,g.createElement(E2,null,g.createElement(S2,null,g.createElement(Gx,{serverEntityID:t,providerEntityID:n,metadataItemEntityID:r}))),g.createElement(mnt,null,g.createElement(S2,null,g.createElement(Wx.Z,{serverEntityID:t,providerEntityID:n,metadataItemEntityID:r})),g.createElement(C2,{serverEntityID:t,providerEntityID:n,metadataItemEntityID:r})),g.createElement(gnt,null,g.createElement(Git,{serverEntityID:t,providerEntityID:n,metadataItemEntityID:r}),g.createElement(Wit,{serverEntityID:t,providerEntityID:n,metadataItemEntityID:r}))),g.createElement(E0,null),g.createElement(D0,null,g.createElement(V0,{dangerouslySetInnerHTML:{__html:i}})))},$it=function(e){const{server:t,provider:n,sourceDirectory:r,type:i,Genre:a}=e;return g.createElement(Xrt,{server:t,provider:n,sourceDirectory:r,fallbackFilterKey:"genre",type:i,tags:a,limit:2})},Jit=(0,v.$j)((function(){return(0,fe.P1)(sb.Z,ab.Z,s4(),(0,xx.Z)(),((e,t,n,r={})=>({server:e,provider:t,sourceDirectory:n,Genre:r.Genre})))}))((function(e){const{server:t,provider:n,sourceDirectory:r,Genre:i}=e,a=!(!i||!i.length);return g.createElement(D2,null,a?g.createElement($it,{server:t,provider:n,sourceDirectory:r,Genre:i}):null)}));function Xit(e){var t=e["aria-label"],n=e.className,r=e.style,i={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-watchlist-badge-560"};i["aria-hidden"]=!t,i.style=r,i.className=oa.Z.plexIcon+(n?" "+n:"");var a=[g.createElement.apply(g,["path",{d:"M73 88.729C73 72.31 86.37 59 102.918 59h356.164C475.606 59 489 72.025 489 88.729v427.508c0 16.419-10.6 21.534-23.456 11.598L304.456 403.32c-12.954-10.014-34.057-9.937-46.912 0L96.456 527.835C83.502 537.849 73 532.94 73 516.237V88.729z"}].concat([]))];return t&&a.unshift(g.createElement("title",null,t)),g.createElement.apply(g,["svg",i].concat(a))}Xit.propTypes={"aria-label":sa().string,className:sa().string,style:sa().object};const eat=Xit,tat=function(e){const{watchlistedAt:t}=e;return t?g.createElement(RL.Z,{className:"PrePlayInWatchlist-badge-18d0mZ Badge-badge-waFP_r"},g.createElement(eat,{className:"PrePlayInWatchlist-icon-2zM09e"})," ",(0,Ce.Z)("In your Watchlist")):null};function nat(e){const{serverEntityID:t,providerEntityID:n,metadataItemEntityID:r,title:i,year:a,summary:s,watchlistedAt:o,attributionLogo:l,showGenres:c,showStreams:d}=e;return g.createElement(g.Fragment,null,g.createElement(D0,null,g.createElement(E2,null,g.createElement(S2,null,i),g.createElement(D2,null,g.createElement(qrt,{attributionLogo:l}),g.createElement(tat,{watchlistedAt:o}))),g.createElement(mnt,null,g.createElement(S2,null,a),g.createElement(C2,{serverEntityID:t,providerEntityID:n,metadataItemEntityID:r})),g.createElement(gnt,null,g.createElement(Git,{serverEntityID:t,providerEntityID:n,metadataItemEntityID:r}),c?g.createElement(Jit,{serverEntityID:t,providerEntityID:n,metadataItemEntityID:r}):null)),g.createElement(E0,null),g.createElement(D0,null,g.createElement(nit,{serverEntityID:t,providerEntityID:n,metadataItemEntityID:r}),d?g.createElement(Eit,{serverEntityID:t,providerEntityID:n,metadataItemEntityID:r}):null,g.createElement(V0,null,s)))}nat.defaultProps={showGenres:!0,showStreams:!0};const rat=nat;var iat=Object.defineProperty,aat=Object.prototype.hasOwnProperty,sat=Object.getOwnPropertySymbols,oat=Object.prototype.propertyIsEnumerable,lat=(e,t,n)=>t in e?iat(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const cat=(0,v.$j)((function(){return(0,fe.P1)((0,xx.Z)(),((e={})=>({type:e.type,subtype:e.subtype,title:e.title,year:e.year,summary:e.summary,attributionLogo:e.attributionLogo})))}))((function(e){const t=function(e,t){switch(t){case wc.WEBSHOW:switch(e){case Ac.EPISODE:return qit}}switch(e){case Ac.EPISODE:return Kit;case Ac.MOVIE:return rat;case Ac.CLIP:return Hrt}return Hrt}(e.type,e.subtype);return g.createElement(t,((e,t)=>{for(var n in t||(t={}))aat.call(t,n)&&lat(e,n,t[n]);if(sat)for(var n of sat(t))oat.call(t,n)&&lat(e,n,t[n]);return e})({},e))}));var dat=Object.defineProperty,uat=Object.prototype.hasOwnProperty,pat=Object.getOwnPropertySymbols,mat=Object.prototype.propertyIsEnumerable,hat=(e,t,n)=>t in e?dat(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,gat=(e,t)=>{for(var n in t||(t={}))uat.call(t,n)&&hat(e,n,t[n]);if(pat)for(var n of pat(t))mat.call(t,n)&&hat(e,n,t[n]);return e};const yat="ui/player/playQueue/toggleAutoPlay",vat=(0,bc.Z)(yat),fat={[Rj.jB]:Rj.Yb[Rj.jB],[Rj.Qi]:Rj.Yb[Rj.Qi],[Rj._7]:Rj.Yb[Rj._7],[Rj.Q2]:Rj.Yb[Rj.Q2],[Rj.U8]:Rj.Yb[Rj.U8],[Rj.$D]:Rj.Yb[Rj.$D],[Rj.zG]:Rj.Yb[Rj.zG],[Rj.Xq]:Rj.Yb[Rj.Xq],[Rj.hl]:Rj.Yb[Rj.hl],[Rj.x8]:Rj.Yb[Rj.x8],[Rj.QS]:Rj.Yb[Rj.QS],[Rj.A0]:Rj.Yb[Rj.A0],[Rj.Er]:Rj.Yb[Rj.Er],[Rj.x7]:Rj.Yb[Rj.x7],[Rj.xJ]:Rj.Yb[Rj.xJ],[Rj.dU]:Rj.Yb[Rj.dU],[Rj.Zp]:Rj.Yb[Rj.Zp],[Rj.q$](e,{playerType:t},n){const r=e.get("user").id,i=(0,Wj.F_)(e,t),a=i.get("playQueue"),s=e.get("deviceSettings"),o=i.get("providerEntityID"),l=(0,uC.js)(e,{providerEntityID:o}),c={providerEntityID:o,serverEntityID:i.get("serverEntityID"),playQueueOffset:i.get("positionSeconds"),playQueueType:a.get("type"),playQueueRepeat:a.get("repeat"),playQueueID:a.get("playQueueID")};if(Fo.wB(l.get("identifier"),[Fo.uk]))return;if(i.get("isWatchTogether"))return;const d=s.get("restorePlayQueue");n((0,Wn.T5)({restorePlayQueue:gat(gat({},d),{[r]:c})}))},[Rj.Ux](e,t,n){const r=e.get("user").id,i=e.get("deviceSettings").get("restorePlayQueue"),a=gat({},i);delete a[r],n((0,Wn.T5)({restorePlayQueue:a}))},[yat](e,{playerType:t},n){const r=e.get("user").get("experienceSettings").get("autoPlay"),i=(0,Wj.F_)(e,t);(0,xj.Z)(e).changeAutoPlay(i,!r,n)}},bat=parseInt(ng.Z.postPlayPosterWidth,10),Iat=parseInt(ng.Z.postPlayTitleHeight,10)+parseInt(ng.Z.postPlayAutoPlayHeight,10);class Sat extends g.Component{constructor(e,t){super(e,t),this.onContentMeasure=({height:e})=>{const t=Math.min((0,Ux.Cr)(bat,this.props.type,this.props.subtype,kx.sD),e-Iat),n=(0,Ux.dz)(t,this.props.type,this.props.subtype,kx.sD);this.setState({isMeasured:!0,width:n,height:t})},this.onCountdown=()=>{const e=this.state.secondsLeft-1;e<=0?this.props.onPlay():this.setState({secondsLeft:e})},this.state={isMeasured:!1,width:0,height:0,secondsLeft:10}}componentDidMount(){this.props.autoPlayEnabled&&(this._tickIntervalID=window.setInterval(this.onCountdown,1e3))}UNSAFE_componentWillReceiveProps(e){this.props.autoPlayEnabled&&!e.autoPlayEnabled&&(window.clearInterval(this._tickIntervalID),this.setState({secondsLeft:10})),!this.props.autoPlayEnabled&&e.autoPlayEnabled&&(this._tickIntervalID=window.setInterval(this.onCountdown,1e3))}componentWillUnmount(){window.clearInterval(this._tickIntervalID)}render(){const{serverEntityID:e,providerEntityID:t,type:n,posterUrl:r,autoPlayEnabled:i,onToggleAutoPlay:a,onPlay:s}=this.props,{isMeasured:o,width:l,height:c,secondsLeft:d}=this.state,u=(10-d)/9*100;return g.createElement(bx.Z,{className:"AudioVideoUpNext-container-3ramOx",onMeasure:this.onContentMeasure},g.createElement("div",{className:"AudioVideoUpNext-title-1hJ0sd"},(0,Ce.Z)("Playing Next")),o?g.createElement("div",{className:"AudioVideoUpNext-poster-2HPnEb",style:{width:l,height:c}},g.createElement(zx.Z,{serverEntityID:e,providerEntityID:t,type:n,width:l,height:c,url:r}),i?g.createElement("div",{className:"AudioVideoUpNext-progress-39H970"},g.createElement(AF,{size:l/4,lineWidth:3,progress:u,showProgressText:!1,easing:"linear"}),g.createElement("span",{className:"AudioVideoUpNext-timeLeft-3i8yWS"},d)):null,g.createElement(Xx.Z,{className:"AudioVideoUpNext-playButton-3d-4Cs PlayButton-playButton-2dFmuo",circleClassName:"AudioVideoUpNext-playCircle-3ujMNJ PlayButton-playCircle-2DYa77","aria-label":(0,Ce.Z)("Play Next"),onPress:s})):null,g.createElement(Iae.Z,{className:i?"AudioVideoUpNext-autoPlayOn-3fTTu3 AudioVideoUpNext-autoPlay-LdzCEf":"AudioVideoUpNext-autoPlayOff-1BkAKv AudioVideoUpNext-autoPlay-LdzCEf",name:"autoPlayCheck",value:i,checkboxText:i?(0,Ce.Z)("Auto Play On"):(0,Ce.Z)("Auto Play Off"),onChange:a}))}}const Mat=Sat,Eat=(0,v.$j)((function(){return(0,fe.P1)(x1(),(0,xx.Z)(),na.Z,((e,t={},n)=>({type:t.type,posterUrl:t.thumb,autoPlayEnabled:n.autoPlay})))}),(function(e,{playerType:t}){return{onToggleAutoPlay(){e(vat({playerType:t}))},onPlay(){e((0,a1e.hY)({playerType:t}))}}}))(Mat),Pat=(0,v.$j)((function(){return(0,fe.P1)(x1(),o1e(),o1e(1),((e,t,n)=>n?{serverEntityID:e.serverEntityID,providerEntityID:e.providerEntityID,metadataItemEntityID:n.metadataItem,hubEntityIDs:t.postPlay}:{}))}))((function(e){const{serverEntityID:t,providerEntityID:n,metadataItemEntityID:r,hubEntityIDs:i,playerType:a}=e;return g.createElement("div",{className:"AudioVideoPostPlay-container-qYSeny"},g.createElement("div",{className:"AudioVideoPostPlay-poster-1-DDr-"},g.createElement(Eat,{serverEntityID:t,providerEntityID:n,metadataItemEntityID:r,playerType:a})),g.createElement(rU.Z,{className:"AudioVideoPostPlay-details-pTqUIG",smoothScroll:!1,autoScroll:!0},g.createElement(cat,{serverEntityID:t,providerEntityID:n,metadataItemEntityID:r,showStreams:!1}),g.createElement(D0,null,i&&i.length>0?g.createElement(_rt,{serverEntityID:t,providerEntityID:n,hubEntityIDs:i,columnAdjustment:1}):null)))})),Dat=(0,Bd.Z)(to.Z.defaultSpeed),Cat={enter:{opacity:1,duration:Dat},exit:{opacity:0,duration:Dat,delay:4e3}};function wat(e){const{className:t,isToastVisible:n,isControlsVisible:r,metadataItemEntityID:i,playerType:a}=e;return r?null:g.createElement(Ud.M_,null,n?g.createElement(Ud.ww.div,{key:"toast",initial:"exit",animate:"enter",exit:"exit",variants:Cat,className:t},g.createElement(C9e,{className:"AudioVideoToast-metadataContainer-2L7VCx",metadataItemEntityID:i,playerType:a})):null)}wat.defaultProps={className:"AudioVideoToast-toast-1DcGQo"};const Zat=wat,Tat=(0,v.$j)((function(){return(0,fe.P1)(x1(),o1e(),((e,{isControlsVisible:t})=>t),((e,t,n)=>{if(!t)return{isToastVisible:!1};const{positionSeconds:r,durationSeconds:i}=e,a=i-r,s=t.type===Ac.CLIP&&t.subtype===wc.MUSIC_VIDEO;return{isToastVisible:!n&&s&&(1===r||5===a),metadataItemEntityID:t.metadataItem}}))}),(function(e,t){return{}}))(Zat),Nat="SubtitlesOffsetSettings-button-ajUFhx Button-button-38SEbM Link-link-CM9nxg";class Oat extends g.Component{constructor(){super(...arguments),this.onDecreasePress=()=>{const{offset:e,dispatchChangeSubtitleOffset:t}=this.props;t(e-50)},this.onIncreasePress=()=>{const{offset:e,dispatchChangeSubtitleOffset:t}=this.props;t(e+50)},this.onResetPress=()=>{const{dispatchChangeSubtitleOffset:e}=this.props;e(0)}}render(){const{offset:e,bottom:t,dispatchCloseSubtitlesOffset:n,onDimensionsChange:r}=this.props;return g.createElement(o6e,{className:"SubtitlesOffsetSettings-container-25LnnO AudioVideoStripeContainer-container-2TIa2Q",bottom:t,onDimensionsChange:r},g.createElement(pw.Z,{className:"SubtitlesOffsetSettings-closeButton-1k6WC- Link-link-CM9nxg",onPress:n},g.createElement(cu.Z,null)),g.createElement("div",{className:"SubtitlesOffsetSettings-title-2MCFQf"},(0,Ce.Z)("Subtitle Offset: {offset}",{offset:`${e} ms`})),g.createElement("div",{className:"SubtitlesOffsetSettings-buttonContainer-Z6cgLx"},g.createElement(cb.Z,{className:Nat,kind:ic._8,size:Rp.HC,onPress:this.onDecreasePress},"-",50," ms"),g.createElement(cb.Z,{className:Nat,kind:ic._8,size:Rp.HC,onPress:this.onIncreasePress},"+",50," ms"),g.createElement(cb.Z,{className:Nat,kind:ic._8,size:Rp.HC,onPress:this.onResetPress},(0,Ce.Z)("Reset"))))}}Oat.defaultProps={offset:0};const Aat=Oat,xat=(0,v.$j)((function(){return(0,fe.P1)(L1e(),(e=>e.selectedSubtitlesStream))}),(function(e,t){return{dispatchChangeSubtitleOffset(n){e((0,a1e.Kb)({playerType:t.playerType,subtitleOffset:n}))},dispatchCloseSubtitlesOffset(){e((0,a1e.PR)({playerType:t.playerType}))}}}))(Aat);var jat=n(35406);function Lat(e){return e>2560?"8K":e>1100?"4K":e>576?"HD":""}function kat(e,t){return e<=576||e>1100||!t||t<=2e3?"":t<=3e3?(0,Ce.Z)("Medium"):t<=4e3?(0,Ce.Z)("High"):t<=8e3||t<=1e4?"":t<=12e3?(0,Ce.Z)("Medium"):(0,Ce.Z)("High")}function Rat(e){const{availableQualities:t,transcodeServer:n,currentDecision:r,currentBandwidth:i,mediaItem:a,canPlayAdaptiveBitrate:s}=e;if(!a)return[];const o=[],{maxUploadBitrate:l}=n,{bitrate:c}=a,d=!l||c&&l>c,u=r&&r.canPlayOriginalQuality;return d&&u&&o.push(function(e){const t=Vat(Uat(e.width,e.height,e.bitrate));return{index:lme.Z.ORIGINAL,explicitQuality:!1,conversionDescriptionSummary:_at([(0,Ce.Z)("Original"),Fat(t)]),conversionDescription:(0,Ce.Z)("Play Original Quality"),conversionDescriptionExtra:t}}(a)),s&&o.push(function(e,t){const n={index:lme.Z.CONVERT_AUTOMATICALLY,explicitQuality:!1,conversionDescription:(0,Ce.Z)("Convert Automatically")};if(e&&e.qualityIndex===lme.Z.CONVERT_AUTOMATICALLY&&t){const e=Vat({bitrate:(0,fa.Z)(t.bandwidth),resolution:t.resolution});n.conversionDescriptionSummary=(0,Ce.Z)("Auto (Now: {bitrateWithResolution})",{bitrateWithResolution:e}),n.conversionDescriptionExtra=(0,Ce.Z)("Now: {bitrateWithResolution}",{bitrateWithResolution:e})}else n.conversionDescriptionSummary=(0,Ce.Z)("Convert Automatically");return n}(r,i)),d&&!u&&o.push(function(e){const t=Uat(e.width,e.height,e.bitrate),n=Bat(t),r=n?(0,Ce.Z)("Convert to"):(0,Ce.Z)("Convert");return{index:lme.Z.ORIGINAL,explicitQuality:!1,conversionDescriptionSummary:(0,Ce.Z)("Convert (Maximum)"),conversionDescription:_at([r,n,Fat((0,Ce.Z)("Maximum"))]),conversionDescriptionExtra:t.bitrate}}(a)),o.push(...t.map(zat).reverse()),o}function zat(e){const t=e.videoResolution.split("x"),n=Uat(t[0],t[1],e.bitrate),r=Vat(n),i=Bat(n);return{index:e.index,explicitQuality:!0,conversionDescriptionSummary:_at([(0,Ce.Z)("Convert"),Fat(r)]),conversionDescription:_at([(0,Ce.Z)("Convert to"),i]),conversionDescriptionExtra:n.bitrate}}function Uat(e,t,n){const r=function(e,t,n){if(!e&&!t)return{resolution:"",description:"",descriptionExtra:""};const r=(0,jat.Z)(e,t);return{resolution:r+"p",description:Lat(r),descriptionExtra:kat(r,n)}}(e,t,n);return{bitrate:(0,fa.Z)(n),resolution:r.resolution,resolutionDescription:r.description,resolutionDescriptionExtra:Fat(r.descriptionExtra)}}function Vat(e){const t=_at([e.resolution,e.resolutionDescription]);return e.bitrate?_at([e.bitrate,t],", "):t}function Bat(e){return _at([e.resolution,e.resolutionDescription,e.resolutionDescriptionExtra])}function Fat(e){return e&&0!==e.length?"("+e+")":""}function _at(e,t=" "){return e.filter((e=>e)).join(t)}var Hat=n(84616);class Qat extends g.Component{constructor(){super(...arguments),this.onPress=e=>{this.props.onQualitySelect(this.props.conversionQualityIndex)}}render(){const{conversionQualityIndex:e,conversionQuality:t,isSelected:n,isHidden:r}=this.props;return g.createElement(Up.Z,{key:e,isSelected:n,isHidden:r,onPress:this.onPress},t.conversionDescription,t.conversionDescriptionExtra?g.createElement("span",{className:"AudioVideoQualityMenuItem-itemExtraDetail-1nnvTL","data-qa-id":"playbackBitrateQuality"},t.conversionDescriptionExtra):null)}}const Gat=Qat,Wat="toggleShowAll",Yat={placement:"top-start"};class Kat extends g.Component{constructor(e,t){super(e,t),this.onToggleMenuPress=e=>{this.setState({isMenuOpen:!this.state.isMenuOpen})},this.onMenuClose=e=>{this.setState({isMenuOpen:!1})},this.onQualitySelect=e=>{e!==Wat?(this.setState({isMenuOpen:!1}),this.props.onQualityChange(e)):this.setState({showAll:!0,qualities:this._getQualityMenuValues(this.props.availableQualities,this.props.qualityIndex,!0)})};const n=!this._canToggleShowAll(e.availableQualities);this.state={isMenuOpen:!1,showAll:n,qualities:this._getQualityMenuValues(e.availableQualities,e.qualityIndex,n)},this._menuInputButtonID=(0,GE.Z)()}UNSAFE_componentWillReceiveProps(e){const t=e.qualityIndex!==this.props.qualityIndex,n=e.availableQualities!==this.props.availableQualities;if(t||n){let t=this.state.showAll;!n||t||this._canToggleShowAll(e.availableQualities)||(t=!0),this.setState({showAll:t,qualities:this._getQualityMenuValues(e.availableQualities,e.qualityIndex,t)})}}_canToggleShowAll(e){const t=e.some((e=>!0===e.explicitQuality)),n=!!S().findWhere(e,{index:Qj.Z.CONVERT_AUTOMATICALLY});return t&&n}_getQualityMenuValues(e,t,n){const r=e.filter((e=>n||!e.explicitQuality||e.index===t));return r.push({index:Wat,conversionDescription:(0,Ce.Z)("Show all")}),r}render(){const e=this.props.qualityIndex,t=this.state.qualities,n=t.find((t=>t.index===e));return g.createElement(Z0.Z,{id:this._menuInputButtonID,"data-qa-id":"videoQuality",size:Rp.M2,direction:this.state.isMenuOpen?kp.UP:kp.WV,onPress:this.onToggleMenuPress},n.conversionDescriptionSummary,g.createElement(Xl.Z,{className:"AudioVideoQualityMenuInput-menu-eRQQf0 Menu-menu-1qURRT",isOpen:this.state.isMenuOpen,target:this._menuInputButtonID,options:Yat,onMenuClose:this.onMenuClose},t.map((t=>g.createElement(Gat,{key:t.index,conversionQualityIndex:t.index,conversionQuality:t,isSelected:t.index===e,isHidden:this.state.showAll&&t.index===Wat,onQualitySelect:this.onQualitySelect})))))}}const qat=Kat,$at=(0,v.$j)((function(){return(0,fe.zB)({signalStrength:(0,fe.P1)(k1(),(0,AT.Z)(),((e,t)=>{if(!e)return;const n=t.find((t=>t.uuid===e.activityUUID));return n?n.Context&&n.Context.signalStrength:void 0}))})}))((function(e){const{signalStrength:t}=e;return null==t?null:g.createElement(G8e,{label:(0,Ce.Z)("Antenna Signal Strength")},t,"%")})),Jat=function(e){const{offset:t,isDisabled:n,onPress:r}=e;return g.createElement(pw.Z,{isSelected:!n,isDisabled:n,onPress:r},t||0," ms ",g.createElement(el.Z,{className:"SubtitlesOffsetSettingsValue-icon-hjSfpS"}))},Xat="VideoSettings-extendedTitle-3xln_X",est="more",tst="upload";class nst extends g.Component{constructor(e,t){super(e,t),this.onSubtitleStreamChange=e=>{e===est?this.onMoreSubtitlesPress():e===tst?this.onUploadSubtitlesPress():this.props.onSubtitleStreamChange(e)},this.onMoreSubtitlesPress=()=>{this.setState({isSubtitlesModalOpen:!0})},this.onSubtitlesModalClose=()=>{this.setState({isSubtitlesModalOpen:!1})},this.onUploadSubtitlesPress=()=>{this.setState({isSubtitlesUploadModalOpen:!0})},this.onSubtitlesUploadModalClose=()=>{this.setState({isSubtitlesUploadModalOpen:!1})},this.state={isSubtitlesModalOpen:!1,isSubtitlesUploadModalOpen:!1}}render(){const{bottom:e,serverEntityID:t,metadataItemEntityID:n,playerType:r,availableQualities:i,audioDevices:a,audioStreams:s,selectedAudioStream:o,selectedAudioDevice:l,subtitlesStreams:c,selectedSubtitlesStream:d,selectedSubtitlesColor:u,selectedSubtitlesPosition:p,selectedSubtitlesSize:m,autoPlay:h,qualityIndex:y,canSetVideoQuality:v,canSetAudioStream:f,canSetSubtitleStream:b,canSetSubtitleColor:I,canSetSubtitlePosition:S,canSetSubtitleSize:M,canSetSubtitleOffset:E,canSetAutoPlay:P,canShowMoreSubtitlesAction:D,canShowUploadSubtitlesAction:C,canShowLiveTVSignalStrength:w,onQualityChange:Z,onAudioDeviceChange:T,onAudioStreamChange:N,onSubtitleColorChange:O,onSubtitlePositionChange:A,onSubtitleSizeChange:x,onAutoPlayChange:j,onSubtitleOffsetPress:L}=this.props,{isSubtitlesModalOpen:k,isSubtitlesUploadModalOpen:R}=this.state,z=b&&(D||C||c.length>1),U=z&&I,V=z&&S,B=z&&M,F=z&&E,_=v&&!!i.length&&null!=y&&i.findIndex((e=>e.index===y))>-1,H=!!d&&d.id!==_j.H&&!(0,Hat.Z)(d.codec),Q=B&&H,G=U&&H,W=V&&H,Y=F&&H&&!!d&&!!d.key;let K;return z&&(K=c.map((e=>{const n=g.createElement(g.Fragment,null,g.createElement(oue,{serverEntityID:t,type:"subtitles",stream:e}),e.title?g.createElement("span",{className:Xat},e.title):null);return{[e.id]:n}})),D&&K.push({[est]:(0,Ce.Z)("Search...")}),C&&K.push({[tst]:(0,Ce.Z)("Upload...")})),g.createElement(g.Fragment,null,g.createElement(H8e,{bottom:e},_?g.createElement(G8e,{label:(0,Ce.Z)("Quality")},g.createElement(qat,{qualityIndex:y,availableQualities:i,onQualityChange:Z})):null,g.createElement(G8e,{label:(0,Ce.Z)("Audio Stream")},f&&s.length>1?g.createElement(_8e,{name:"audioStream",size:Rp.M2,value:`${o.id}`,overrideSelectedValue:g.createElement(oue,{serverEntityID:t,type:"audio",stream:o}),values:s.map((e=>{const n=g.createElement(g.Fragment,null,g.createElement(oue,{serverEntityID:t,type:"audio",stream:e}),e.title?g.createElement("span",{className:Xat},e.title):null);return{[e.id]:n}})),onChange:N}):g.createElement(oue,{serverEntityID:t,type:"audio",stream:o})),a&&a.length>1?g.createElement(G8e,{label:(0,Ce.Z)("Audio Device")},g.createElement(_8e,{name:"audioDevice",size:Rp.M2,value:l.name,values:a.map((e=>({[e.name]:pVe(e)}))),onChange:T})):null,g.createElement(G8e,{label:(0,Ce.Z)("Subtitles")},z?g.createElement(_8e,{name:"subtitleStream",size:Rp.M2,value:`${d.id}`,overrideSelectedValue:g.createElement(oue,{serverEntityID:t,type:"subtitles",stream:d}),values:K,onChange:this.onSubtitleStreamChange}):g.createElement(oue,{serverEntityID:t,type:"subtitles",stream:d})),U?g.createElement(G8e,{label:(0,Ce.Z)("Subtitle Color"),isDisabled:!G},g.createElement(_8e,{name:"subtitleColor",size:Rp.M2,value:u,values:mUe.settings.map((e=>({[e.value]:e.title}))),onChange:O})):null,V?g.createElement(G8e,{label:(0,Ce.Z)("Subtitle Position"),isDisabled:!W},g.createElement(_8e,{name:"subtitlePosition",size:Rp.M2,value:p,values:gUe.settings.map((e=>({[e.value]:e.title}))),onChange:A})):null,B?g.createElement(G8e,{label:(0,Ce.Z)("Subtitle Size"),isDisabled:!Q},g.createElement(_8e,{name:"subtitleSize",size:Rp.M2,value:m.toString(),values:vUe.settings.map((e=>({[e.value]:e.title}))),onChange:x})):null,F?g.createElement(G8e,{label:(0,Ce.Z)("Subtitles Offset"),isDisabled:!Y},g.createElement(Jat,{offset:d.offset,isDisabled:!Y,onPress:L})):null,P?g.createElement(G8e,{label:(0,Ce.Z)("Auto Play")},g.createElement(Iae.Z,{name:"autoPlay",size:Rp.HC,value:h,onChange:j})):null,w?g.createElement($at,{serverEntityID:t,playerType:r}):null),g.createElement(Iee,{metadataItemEntityID:n,isOpen:k,onModalClose:this.onSubtitlesModalClose}),g.createElement(Bee,{metadataItemEntityID:n,isOpen:R,onModalClose:this.onSubtitlesUploadModalClose}))}}const rst=nst;var ist=Object.defineProperty,ast=Object.prototype.hasOwnProperty,sst=Object.getOwnPropertySymbols,ost=Object.prototype.propertyIsEnumerable,lst=(e,t,n)=>t in e?ist(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,cst=(e,t)=>{for(var n in t||(t={}))ast.call(t,n)&&lst(e,n,t[n]);if(sst)for(var n of sst(t))ost.call(t,n)&&lst(e,n,t[n]);return e};const dst={dispatchChangeQualityIndex:a1e.wv,dispatchChangeStream:a1e.mj,dispatchChangeSubtitleColor:a1e.EZ,dispatchChangeSubtitlePosition:a1e.Wj,dispatchChangeSubtitleSize:a1e.YA,dispatchSelectAudioDevice:mt.mb,dispatchSetAutoPlay:Rj.Sp,dispatchTogglePlayerSubtitlesOffsetState:a1e.PR};class ust extends g.Component{constructor(){super(...arguments),this.onQualityChange=e=>{const{playerType:t,dispatchChangeQualityIndex:n}=this.props;n({playerType:t,qualityIndex:parseInt(e,10)})},this.onAudioStreamChange=e=>{const{playerType:t,dispatchChangeStream:n}=this.props;n({playerType:t,streamTypeString:"audio",streamID:e})},this.onAudioDeviceChange=e=>{const{dispatchSelectAudioDevice:t}=this.props;t({deviceName:e})},this.onSubtitleStreamChange=e=>{const{playerType:t,dispatchChangeStream:n}=this.props;n({playerType:t,streamTypeString:"subtitles",streamID:e})},this.onSubtitleColorChange=e=>{const{playerType:t,dispatchChangeSubtitleColor:n}=this.props;n({playerType:t,subtitleColor:e})},this.onSubtitlePositionChange=e=>{const{playerType:t,dispatchChangeSubtitlePosition:n}=this.props;n({playerType:t,subtitlePosition:e})},this.onSubtitleSizeChange=e=>{const{playerType:t,dispatchChangeSubtitleSize:n}=this.props;n({playerType:t,subtitleSize:parseInt(e,10)})},this.onAutoPlayChange=e=>{const{playerType:t,dispatchSetAutoPlay:n}=this.props;n({playerType:t,autoPlay:e})},this.onSubtitleOffsetPress=()=>{const{playerType:e,dispatchTogglePlayerSubtitlesOffsetState:t}=this.props;t({playerType:e})}}render(){const e=this.props,{dispatchChangeQualityIndex:t,dispatchChangeStream:n,dispatchChangeSubtitleSize:r,dispatchSetAutoPlay:i}=e,a=((e,t)=>{var n={};for(var r in e)ast.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&sst)for(var r of sst(e))t.indexOf(r)<0&&ost.call(e,r)&&(n[r]=e[r]);return n})(e,["dispatchChangeQualityIndex","dispatchChangeStream","dispatchChangeSubtitleSize","dispatchSetAutoPlay"]);return g.createElement(rst,cst(cst({},a),{onQualityChange:this.onQualityChange,onAudioDeviceChange:this.onAudioDeviceChange,onAudioStreamChange:this.onAudioStreamChange,onSubtitleStreamChange:this.onSubtitleStreamChange,onSubtitleColorChange:this.onSubtitleColorChange,onSubtitlePositionChange:this.onSubtitlePositionChange,onSubtitleSizeChange:this.onSubtitleSizeChange,onAutoPlayChange:this.onAutoPlayChange,onSubtitleOffsetPress:this.onSubtitleOffsetPress}))}}const pst=(0,v.$j)((function(){return(0,fe.P1)(((e,{isWatchTogether:t})=>t),j1("controllable"),(0,fe.P1)((0,fe.zB)({availableQualities:j1("availableQualities"),transcodeServer:R1e(),currentDecision:l1e(),currentBandwidth:(0,fe.P1)(p4e(["bandwidthTimeline","positionSeconds"]),l1e(),((e,t)=>{const n=e.bandwidthTimeline;if(!(t&&n&&n.bandwidths&&n.transcodeSessionID&&n.transcodeSessionID===t.transcodeSessionID))return null;const r=1e3*e.positionSeconds,i=n.bandwidths.filter((e=>parseInt(e.time,10)<=r));return 0===i.length?null:S().max(i,(e=>parseInt(e.time,10)))})),mediaItem:x1e(),canPlayAdaptiveBitrate:(0,fe.P1)(Mj,R1e(),k1(),((e,t,n)=>SUe()&&t.hasAdaptiveBitrate&&!e&&!n))}),Rat),L1e(),R1e(),j1("qualityIndex"),j1("serverEntityID"),BVe(),m4e(),m1e(),(0,fe.P1)(Sj,m4e(),m1e(),((e,t,n)=>rit(t,n,e))),(0,fe.P1)(Sj,m4e(),m1e(),((e,t,n)=>iit(t,n,e))),l1e(),na.Z,L8e,k8e,((e,t,n,r,i,a,s,o,l,c,d,u,p,m,h,g)=>{const y=o.protocols.includes(sk.K),v=!y&&(!(!p||!p.subtitlesUrl)||(0,FS.Z)()),f=r.selectedSubtitlesStream;return{serverEntityID:s,metadataItemEntityID:c?c.entityID:null,availableQualities:n,audioDevices:h,audioStreams:r.audioStreams,selectedAudioStream:r.selectedAudioStream,selectedAudioDevice:g,subtitlesStreams:r.subtitlesStreams,selectedSubtitlesStream:f,selectedSubtitlesColor:m.subtitleColor,selectedSubtitlesPosition:m.subtitlePosition,selectedSubtitlesSize:m.subtitleSize,autoPlay:m.autoPlay,canSetVideoQuality:t?!!t.quality:!!i.transcoderVideo&&!i.transcoderVideoRemuxOnly,canSetAudioStream:!t||!!t.audioStream,canSetSubtitleStream:!t||!!t.subtitleStream,canSetSubtitleColor:t?!!t.subtitleColor:v,canSetSubtitlePosition:t?!!t.subtitlePosition:v,canSetSubtitleSize:t?!!t.subtitleSize:!y&&!(!f||!f.id),canSetSubtitleOffset:t?!!t.subtitleOffset:v,canSetAutoPlay:t?!!t.autoPlay:!y&&!e,canShowMoreSubtitlesAction:d,canShowUploadSubtitlesAction:u,canShowLiveTVSignalStrength:y&&!l.isCloud,qualityIndex:a}}))}),dst)(ust),mst=parseInt(ng.Z.watchTogetherLobbyPosterWidth,10),hst=parseInt(ng.Z.watchTogetherLobbyTitleHeight,10);function gst(){return{isMeasured:!1,width:0,height:0}}const yst=(0,v.$j)((function(){return(0,fe.P1)((0,xx.Z)(),((e={})=>({type:e.type,subtype:e.subtype,posterUrl:e.thumb})))}))((function(e){const{serverEntityID:t,providerEntityID:n,type:r,subtype:i,posterUrl:a}=e,[s,o]=(0,g.useState)(null),[l,c]=(0,g.useState)(gst);return(0,g.useEffect)((()=>{let e=null;if(l.isMeasured){const t=Math.min((0,Ux.Cr)(mst,r,i,kx.IN),l.height-hst);e={height:t,width:(0,Ux.dz)(t,r,i,kx.IN)}}o(e)}),[l,r,i]),g.createElement(bx.Z,{className:"WatchTogetherLobbyMetadataPoster-container-BAiD8M",onMeasure:c},g.createElement("div",{className:"WatchTogetherLobbyMetadataPoster-title-DJf6X-"},(0,Ce.Z)("Watch Together")),null!=s?g.createElement("div",{style:s},g.createElement(zx.Z,{serverEntityID:t,providerEntityID:n,type:r,width:s.width,height:s.height,url:a})):null)})),vst=function({adDisplayIndex:e,adDisplayTotal:t,className:n,isAdPlaying:r,isPresent:i,isReady:a,isWatching:s}){let o;return o=r?t>1?(0,Ce.Z)("Playing ad {index} of {total}",{index:e,total:t}):(0,Ce.Z)("Playing ad"):s?(0,Ce.Z)("Watching"):a?(0,Ce.Z)("Ready"):i?(0,Ce.Z)("Buffering..."):(0,Ce.Z)("Invited"),g.createElement("div",{className:n,title:o},o)},fst=function({className:e,title:t}){return g.createElement("div",{className:e,title:t},t)},bst=(0,g.memo)((function(e){const{serverEntityID:t,watchTogetherRoomEntityID:n,cellWidth:r}=e,i=(0,Ax.Z)(e),a=(0,GN.Z)();return g.createElement(pw.Z,{className:"WatchTogetherInviteParticipantCell-container-3lrCfW",style:i.style,onPress:a.onOpen},g.createElement("span",{className:"WatchTogetherInviteParticipantCell-posterCardContainer-1DxKY0 WatchTogetherParticipantCell-posterCardContainer-3S0EFr WatchTogetherParticipantCell-card-CfUlxW TagPosterCard-card-3VDS7c MetadataPosterCardFace-poster-11uR3N TagPosterCard-isPerson-ojrvVy",style:{width:r,height:r}},g.createElement(hP.Z,{className:"WatchTogetherInviteParticipantCell-icon-1JqTgn"})),g.createElement("div",{className:"WatchTogetherInviteParticipantCell-titleContainer-1GEBTB WatchTogetherParticipantCell-titleContainer-EchPgb"},g.createElement(m1,{title:(0,Ce.Z)("Invite..."),component:fst,isSecondary:!1})),g.createElement(Rm.Z,{serverEntityID:t,watchTogetherRoomEntityID:n,isOpen:a.isOpen,onModalClose:a.onClose}))})),Ist=(0,g.memo)((function(e){const{serverEntityID:t,providerEntityID:n,titleComponents:r,listType:i,cellWidth:a,thumb:s,title:o,adDisplayIndex:l,adDisplayTotal:c,isAdPlaying:d,isWatching:u,isPresent:p,isReady:m}=e,h=(0,Ax.Z)(e);return g.createElement("div",{style:h.style},g.createElement("span",{className:"WatchTogetherParticipantCell-posterCardContainer-3S0EFr"},g.createElement(KFe,{className:"WatchTogetherParticipantCell-card-CfUlxW TagPosterCard-card-3VDS7c MetadataPosterCardFace-poster-11uR3N TagPosterCard-isPerson-ojrvVy",serverEntityID:t,providerEntityID:n,imageWidth:a,imageHeight:a,imageUrl:s,tagType:i})),g.createElement("div",{className:"WatchTogetherParticipantCell-titleContainer-EchPgb"},r.map(((e,t)=>g.createElement(m1,{key:t,title:o,adDisplayIndex:l,adDisplayTotal:c,isAdPlaying:d,isWatching:u,isPresent:p,isReady:m,component:e,isSecondary:t>0})))))}));var Sst=Object.defineProperty,Mst=Object.prototype.hasOwnProperty,Est=Object.getOwnPropertySymbols,Pst=Object.prototype.propertyIsEnumerable,Dst=(e,t,n)=>t in e?Sst(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Cst=(e,t)=>{for(var n in t||(t={}))Mst.call(t,n)&&Dst(e,n,t[n]);if(Est)for(var n of Est(t))Pst.call(t,n)&&Dst(e,n,t[n]);return e};const wst={isInviteUser:!0};function Zst(e){const{className:t,serverEntityID:n,providerEntityID:r,watchTogetherRoomEntityID:i,users:a,shouldShowInviteUsers:s,listContext:o}=e,l=function(e){switch(e){case kx.IN:return[fst,vst];default:return[]}}(kx.IN),c="participant",d=s?[...a,wst]:a;return g.createElement(M$e,{className:t,hubIdentifier:"watchTogetherParticipants",title:(0,Ce.Z)("Participants"),size:d.length,listType:c,listContext:o,columnAdjustment:1,keyPropName:"userKey",items:d,layout:Q$e(c,null,o,1,l.length),cellRenderer:(u={serverEntityID:n,providerEntityID:r,watchTogetherRoomEntityID:i,titleComponents:l,listType:c},e=>{const t=e.isInviteUser?bst:Ist;return g.createElement(t,Cst(Cst({},u),e))})});var u}Zst.defaultProps={className:"WatchTogetherParticipantsHubCell-hubCell-y8WNmR HubCell-hubCell-2uIdEm"};const Tst=Zst;var Nst=Object.defineProperty,Ost=Object.prototype.hasOwnProperty,Ast=Object.getOwnPropertySymbols,xst=Object.prototype.propertyIsEnumerable,jst=(e,t,n)=>t in e?Nst(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Lst=(e,t)=>{for(var n in t||(t={}))Ost.call(t,n)&&jst(e,n,t[n]);if(Ast)for(var n of Ast(t))xst.call(t,n)&&jst(e,n,t[n]);return e};function kst(e,t){var n,r;const i=(null==(n=e.title)?void 0:n.toLowerCase())||"",a=(null==(r=t.title)?void 0:r.toLowerCase())||"";return i&&!a?-1:!i&&a||i>a?1:i<a?-1:0}const Rst=(0,fe.P1)(Oq,Aq,((e,t)=>t.find((t=>{var n;return t.id===(null==(n=e.session)?void 0:n.roomID)})))),zst=(0,v.$j)((function(){return(0,fe.P1)(j1("providerEntityID"),j1("serverEntityID"),(0,fe.P1)(Btt,Rst,((e,t)=>{const n=t?t.users.filter((t=>!e.users.find((e=>e.id===t.id)))):[],r=e.users.map((t=>{const n=e.users.filter((e=>e.id===t.id)).length>1,r=t.title||(0,Ce.Z)("Unknown");return Lst(Lst({},t),{title:n||!t.title?`${r} (${t.deviceName})`:r})}));return n.concat(r).sort(kst).map((e=>Lst(Lst({},e),{userKey:e.deviceIdentifier||e.id})))})),Rst,((e,t,n,r)=>({providerEntityID:e,serverEntityID:t,shouldShowInviteUsers:!!r,watchTogetherRoomEntityID:null==r?void 0:r.entityID,users:n})))}))(Tst),Ust=(0,v.$j)((function(){return(0,fe.P1)(x1(),o1e(),((e,t)=>({serverEntityID:e.serverEntityID,providerEntityID:e.providerEntityID,metadataItemEntityID:t.metadataItem})))}))((function(e){const{serverEntityID:t,providerEntityID:n,metadataItemEntityID:r,playerType:i}=e;return g.createElement("div",{className:"WatchTogetherLobby-container-3XPFco"},g.createElement("div",{className:"WatchTogetherLobby-row-3MfDiX"},g.createElement("div",{className:"WatchTogetherLobby-poster-1fofrW"},g.createElement(yst,{serverEntityID:t,providerEntityID:n,metadataItemEntityID:r,playerType:i})),g.createElement(rU.Z,{className:"WatchTogetherLobby-details-oOGtdf",smoothScroll:!1,autoScroll:!0},g.createElement(cat,{serverEntityID:t,providerEntityID:n,metadataItemEntityID:r,showStreams:!1}))),g.createElement(zst,{className:"WatchTogetherLobby-hubCell-2bmvRx WatchTogetherParticipantsHubCell-hubCell-y8WNmR HubCell-hubCell-2uIdEm",playerType:i,listContext:kx.IN}))})),Vst=function(e){const{bottom:t,playerType:n,onDimensionsChange:r}=e;return g.createElement(o6e,{className:"WatchTogetherPlayerParticipants-container-J-JV5D AudioVideoStripeContainer-container-2TIa2Q",bottom:t,onDimensionsChange:r},g.createElement(zst,{playerType:n,listContext:kx.r$}))};var Bst=n(99038);const Fst=function(e){const{serverEntityID:t,providerEntityID:n,notification:r,user:i,onRemoveToast:a}=e;return(0,g.useEffect)((()=>{const e=r.timestamp+3e3-Date.now(),t=()=>{a({uid:r.uid})};let n;return e>0?n=window.setTimeout(t,e):t(),()=>{n&&(n=window.clearTimeout(n))}}),[a,r]),g.createElement(g.Fragment,null,g.createElement("div",{className:"WatchTogetherRoomEventToastContent-posterCardContainer-2dCmjF"},g.createElement(KFe,{className:"WatchTogetherRoomEventToastContent-card-q8wQoU TagPosterCard-card-3VDS7c MetadataPosterCardFace-poster-11uR3N TagPosterCard-isPerson-ojrvVy",serverEntityID:t,providerEntityID:n,imageWidth:30,imageHeight:30,imageUrl:i.thumb,tagType:"participant"})),function(e,t){const n=t.title||(0,Ce.Z)("Unknown");let r;switch(e){case Bst.OR:r=(0,Ce.Z)("{openSpan}{username}{closeSpan} joined",{username:n});break;case Bst.In:r=(0,Ce.Z)("{openSpan}{username}{closeSpan} left",{username:n});break;case Bst.E7:r=(0,Ce.Z)("{openSpan}{username}{closeSpan} paused",{username:n});break;case Bst.gk:r=(0,Ce.Z)("{openSpan}{username}{closeSpan} resumed",{username:n});break;case Bst.tG:r=(0,Ce.Z)("{openSpan}{username}{closeSpan} seeked",{username:n})}return g.createElement(KV.Z,{message:r,tags:[{open:"openSpan",close:"closeSpan",component:"span",className:"WatchTogetherRoomEventToastContent-username-5UU2xd"}]})}(r.type,i))},_st=(0,Bd.Z)(to.Z.slowSpeed),Hst={enter:{opacity:1,duration:_st},exit:{opacity:0,duration:_st}};function Qst(e){const{className:t,serverEntityID:n,providerEntityID:r,notifications:i,users:a,isControlsVisible:s,onRemoveToast:o}=e;return s?null:g.createElement("div",{className:"WatchTogetherRoomEventToasts-container-t3uoHd"},g.createElement(Ud.M_,null,i.map((e=>g.createElement(Ud.ww.div,{key:e.uid,initial:"exit",animate:"enter",exit:"exit",variants:Hst,className:t},g.createElement(Fst,{serverEntityID:n,providerEntityID:r,notification:e,user:a.find((t=>t.id===e.userID)),onRemoveToast:o}))))))}Qst.defaultProps={className:"WatchTogetherRoomEventToasts-toast-2WC-u5"};const Gst=Qst,Wst={onRemoveToast:o$.FV},Yst=(0,v.$j)((function(){return(0,fe.P1)(Btt,j1("serverEntityID"),j1("providerEntityID"),((e,t,n)=>({notifications:e.notifications,providerEntityID:n,serverEntityID:t,users:e.users})))}),Wst)(Gst),Kst="AudioVideoFullPlayer-overlayButton-10b7vz Button-button-38SEbM Link-link-CM9nxg",qst=parseInt(ng.Z.playerControlsHeight,10),$st=parseInt(ng.Z.playerControlsNarrowHeight,10),Jst=parseInt(ng.Z.playerInfoBarHeight,10),Xst=parseInt(ng.Z.playerOverlayActionEdgeGutter,10);function eot(e,t){return e.isRemotePlayer||e.isMusic||e.isSettingsVisible||e.isChaptersVisible||e.isSubtitlesOffsetSettingsVisible||e.isWatchTogetherParticipantsVisible||e.isPlayQueueVisible||e.isPostPlayVisible||e.isAlsoAiringVisible||e.isWatchTogetherLobbyVisible||t.isControlsMenuOpen||t.isCastMenuOpen||t.disableInteractionTimer}function tot({bottom:e,children:t}){return g.createElement("div",{className:"AudioVideoFullPlayer-content-3iBzmV",style:{bottom:e}},t)}class not extends g.Component{constructor(e,t){super(e,t),this.onInteraction=e=>{const{keyCode:t}=e;t!==Vd.LH&&t!==Vd.JH&&(eot(this.props,this.state)||(this.state.hideControls&&this.setState({hideControls:!1}),this._interactionTimeoutID&&window.clearTimeout(this._interactionTimeoutID),this._interactionTimeoutID=window.setTimeout(this.onInteractionTimeout,2e3)))},this.onInteractionTimeout=()=>{this.setState((({hideControlsCount:e})=>({hideControls:!0,hideControlsCount:e+1}))),this._interactionTimeoutID&&(window.clearTimeout(this._interactionTimeoutID),this._interactionTimeoutID=null)},this.onMouseLeave=e=>{this.setState({disableInteractionTimer:!1},(()=>{eot(this.props,this.state)||this.onInteractionTimeout()}))},this.onControlsMouseEnter=e=>{this.setState({disableInteractionTimer:!0})},this.onControlsMouseLeave=e=>{this.setState({disableInteractionTimer:!1})},this.onControlsMenuChange=e=>{this.setState({isControlsMenuOpen:e})},this.onCastMenuChange=e=>{this.setState({isCastMenuOpen:e})},this.onAudioSettingsDimensionsChange=({scrollHeight:e})=>{this.setState({audioSettingsHeight:e})},this.state={hideControls:!1,hideControlsCount:0,isControlsMenuOpen:!1,isCastMenuOpen:!1,disableInteractionTimer:!1}}componentDidMount(){document.addEventListener("keyup",this.onInteraction),document.addEventListener("mousemove",this.onInteraction),document.addEventListener("mousedown",this.onInteraction),document.addEventListener("touchstart",this.onInteraction),document.addEventListener("touchend",this.onInteraction),document.addEventListener("mouseleave",this.onMouseLeave),this._bodyCursorStyleAtMount=document.body.style.cursor,eot(this.props,this.state)||this._startInteractionTimer()}UNSAFE_componentWillReceiveProps(e){eot(e,this.state)&&this.state.hideControls&&this.setState({hideControls:!1}),$3e(e.marker)!==$3e(this.props.marker)&&this.setState({hideControlsCount:0}),this.props.isFullscreen!==e.isFullscreen&&this.state.disableInteractionTimer&&this.setState({disableInteractionTimer:!1})}componentDidUpdate(e,t){eot(e,t)&&!eot(this.props,this.state)&&this._startInteractionTimer(),!eot(e,t)&&eot(this.props,this.state)&&this._stopInteractionTimer(),this.state.hideControls!==t.hideControls&&(document.body.style.cursor=this.state.hideControls?"none":this._bodyCursorStyleAtMount)}componentWillUnmount(){document.removeEventListener("keyup",this.onInteraction),document.removeEventListener("mousemove",this.onInteraction),document.removeEventListener("mousedown",this.onInteraction),document.removeEventListener("touchstart",this.onInteraction),document.removeEventListener("touchend",this.onInteraction),document.removeEventListener("mouseleave",this.onMouseLeave),document.body.style.cursor=this._bodyCursorStyleAtMount,this._interactionTimeoutID&&window.clearTimeout(this._interactionTimeoutID)}_startInteractionTimer(){this._stopInteractionTimer(),this._interactionTimeoutID=window.setTimeout(this.onInteractionTimeout,2e3)}_stopInteractionTimer(){this._interactionTimeoutID&&window.clearTimeout(this._interactionTimeoutID)}render(){const{playerType:e,hasFullscreen:t,isRemotePlayer:n,isPlayQueueLoading:r,isMediaLoading:i,isPostPlayLoading:a,isBuffering:s,isFullscreen:o,isSettingsVisible:l,isChaptersVisible:c,isSubtitlesOffsetSettingsVisible:d,isWatchTogetherParticipantsVisible:u,isPlayQueueVisible:p,isAlsoAiringVisible:m,isLyricsVisible:h,isPostPlayVisible:y,isWatchTogetherLobbyVisible:v,isAdVisible:f,isVideo:b,isMusic:I,isNarrowLayout:S,hasLiveTVProtocol:M,hasGridFeature:E,hasMediaOverlays:P,isWatchTogether:D,seekStartMilliseconds:C,seekEndMilliseconds:w,bufferStartMilliseconds:Z,bufferEndMilliseconds:T,adPositionMilliseconds:N,adDurationMilliseconds:O,ad:A,marker:x,onEnterFullscreenPress:j,onExitFullscreenPress:L,onToggleFullscreen:k,onSeekBarInteractionStart:R,onSeekBarInteractionEnd:z}=this.props,{hideControls:U,hideControlsCount:V,audioSettingsHeight:B}=this.state,F=(r||a||b&&!f&&(i||s))&&!y&&!m&&!v,_=!r&&l&&!c&&!p&&!m,H=_&&I,Q=_&&b,G=!r&&!l&&c&&!p&&!m,W=!r&&p&&!m&&!l&&!c,Y=!r&&!p&&m&&!l&&!c,K=b&&!r&&!a&&!p&&!m&&!y&&!v,q=!(0,FS.Z)()&&K&&!f&&!i,$=v||(!f||p)&&(n||I||i||p||m||a||y),J=S?$st:qst,X=v||!M&&!f?J:J+Jst,ee=U?null:`translateY(${-X}px)`,te=!(!A||!A.click),ne=!(!A||!A.clicksThrough),re={bottom:`${X+Xst}px`,right:`${Xst}px`};return g.createElement(g.Fragment,null,P&&K&&!f?g.createElement(M5e,{playerType:e}):null,$?g.createElement(unt,{playerType:e,isVideo:b,isMusic:I,allowBlur:I||p||m||y||v}):null,p||m||!F?null:g.createElement("div",{className:"AudioVideoFullPlayer-spinnerContainer-34eml_"},g.createElement(Mx.Z,{size:Rp.ln})),q?g.createElement(F5e,{playerType:e,heightOffset:U?0:X}):null,!K||f&&ne?null:g.createElement(x8e,{playerType:e,isCursorHidden:U,onToggleFullscreen:k}),f&&te&&!v?g.createElement(cb.Z,{className:Kst,size:Rp.ln,style:re,onPress:A.click},(0,Ce.Z)("Learn more")):null,K&&!f?g.createElement(i6e,{marker:x,className:Kst,size:Rp.ln,style:re,playerType:e,isHidden:U&&V>1,isHiddenPolite:U}):null,r?null:g.createElement("div",{className:Te()("AudioVideoFullPlayer-topBar-2Inl38 AudioVideoFullPlayer-bar-3p25sH",U&&"AudioVideoFullPlayer-topBarHidden-SbJJ5o",b&&"AudioVideoFullPlayer-videoTopBar-LTn8L6",p&&"AudioVideoFullPlayer-playQueueTopBar-1OocNw"),onMouseEnter:this.onControlsMouseEnter,onMouseLeave:this.onControlsMouseLeave},g.createElement(T8e,{playerType:e,isFullscreen:o,hasFullscreen:t,onCastMenuChange:this.onCastMenuChange,onEnterFullscreenPress:j,onExitFullscreenPress:L})),r||p||h||!I?null:g.createElement(tot,{bottom:X},g.createElement(cnt,{playerType:e,bottom:H?B:null})),!r&&!p&&h&&I?g.createElement(tot,{bottom:X},g.createElement(xnt,{playerType:e})):null,H?g.createElement(K8e,{playerType:e,bottom:X,onDimensionsChange:this.onAudioSettingsDimensionsChange}):null,Q?g.createElement(pst,{bottom:X,playerType:e,isWatchTogether:D}):null,d?g.createElement(xat,{bottom:X,playerType:e}):null,u?g.createElement(Vst,{bottom:X,playerType:e}):null,G?g.createElement(w6e,{bottom:X,playerType:e}):null,W?g.createElement(tot,{bottom:X},g.createElement(Irt,{playerType:e,isVideo:b,isMusic:I})):null,Y?g.createElement(tot,{bottom:X},g.createElement(t8e,{playerType:e,isVideo:b,isMusic:I,hasLiveTVProtocol:M,hasGridFeature:E})):null,r||!y||p||m?null:g.createElement(tot,{bottom:X},g.createElement(Pat,{playerType:e})),!r&&v?g.createElement(tot,{bottom:X},g.createElement(Ust,{playerType:e})):null,g.createElement(Tat,{isControlsVisible:!U,playerType:e}),D&&!v?g.createElement(Yst,{isControlsVisible:!U,playerType:e}):null,r?null:g.createElement("div",{className:Te()("AudioVideoFullPlayer-bottomBar-2iVScg AudioVideoFullPlayer-bar-3p25sH",U&&"AudioVideoFullPlayer-bottomBarHidden-19uV_c"),style:{bottom:-X,height:X,WebkitTransform:ee,msTransform:ee,transform:ee},onMouseEnter:this.onControlsMouseEnter,onMouseLeave:this.onControlsMouseLeave},g.createElement(nnt,{playerType:e,isVideo:b,isMusic:I,isAdVisible:f,isPostPlayVisible:y,isWatchTogetherLobbyVisible:v,isWatchTogether:D,hasLiveTVProtocol:M,seekStartMilliseconds:C,bufferStartMilliseconds:Z,bufferEndMilliseconds:T,seekEndMilliseconds:w,adPositionMilliseconds:N,adDurationMilliseconds:O,onControlsMenuChange:this.onControlsMenuChange,onSeekBarInteractionStart:R,onSeekBarInteractionEnd:z})))}}const rot=not,iot=function(e){const{className:t,children:n,isPlayQueueLoading:r}=e;return g.createElement("div",{className:Te()(t,r&&"MiniPlayerContainer-playQueueIsLoading-1zdi-w")},r?g.createElement(Mx.Z,null):n)};var aot=Object.defineProperty,sot=Object.prototype.hasOwnProperty,oot=Object.getOwnPropertySymbols,lot=Object.prototype.propertyIsEnumerable,cot=(e,t,n)=>t in e?aot(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const dot=function(e){return g.createElement(iot,{isPlayQueueLoading:e.isPlayQueueLoading},g.createElement(nnt,((e,t)=>{for(var n in t||(t={}))sot.call(t,n)&&cot(e,n,t[n]);if(oot)for(var n of oot(t))lot.call(t,n)&&cot(e,n,t[n]);return e})({},e)))};var uot=Object.defineProperty,pot=Object.prototype.hasOwnProperty,mot=Object.getOwnPropertySymbols,hot=Object.prototype.propertyIsEnumerable,got=(e,t,n)=>t in e?uot(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,yot=(e,t)=>{for(var n in t||(t={}))pot.call(t,n)&&got(e,n,t[n]);if(mot)for(var n of mot(t))hot.call(t,n)&&got(e,n,t[n]);return e};var vot=Object.defineProperty,fot=Object.prototype.hasOwnProperty,bot=Object.getOwnPropertySymbols,Iot=Object.prototype.propertyIsEnumerable,Sot=(e,t,n)=>t in e?vot(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Mot=(e,t)=>{for(var n in t||(t={}))fot.call(t,n)&&Sot(e,n,t[n]);if(bot)for(var n of bot(t))Iot.call(t,n)&&Sot(e,n,t[n]);return e};const Eot=(0,v.$j)((function(){return(0,fe.P1)(((e,{isMiniPlayer:t})=>t),x1(),l1e(),o1e(),BVe(),(0,fe.P1)((0,Un.Z)((0,fe.P1)((0,fe.P1)(u1e(),(e=>{var t;return null!=(t=null==e?void 0:e.Marker)?t:[]})),(0,ob.Z)(bn.Z5),(0,ob.Z)(bn._t),((e,t,n)=>e.filter((e=>t&&e.type===c1e||n&&e.type===d1e)))),(e=>e)),j1("positionSeconds"),((e,t)=>{const n=1e3*t;return e.find((e=>e.startTimeOffset<=n&&e.endTimeOffset>n))})),(0,fe.P1)(u1e(),Cn.Z,be.Z,((e,t,n)=>{let r,i;if(e){const a=n[e.serverEntityID],s=t[e.providerEntityID];r=null==a?void 0:a.machineIdentifier,i=null==s?void 0:s.identifier}return{machineIdentifier:r,providerIdentifier:i}})),g1e(),(0,fe.P1)(jme.Z,p1e,o1e(),((e,t,n)=>{const r=null==n?void 0:n.vast;if(r)return r.internal?E.Z.join(r.url,{"X-Plex-Token":e.authToken,debug:t===oUe.VAST?1:void 0}):r.url})),((e,t,n,r,i,a,s,o,l)=>{var c;let d;if(r){const e=(0,Ac.getMetadataType)(r.type);d=e&&e.mediaType}const u=d===Al.j0,p=d===Al.pX,{machineIdentifier:m,providerIdentifier:h}=s;return{marker:a,isMusic:u,isVideo:p,isPlayQueueLoading:t.isPlayQueueLoading,isMediaLoading:t.isMediaLoading,isPostPlayLoading:t.isPostPlayLoading,isBuffering:t.isBuffering,isWatchTogether:t.isWatchTogether,isSettingsVisible:t.isSettingsVisible,isChaptersVisible:t.isChaptersVisible,isSubtitlesOffsetSettingsVisible:t.isSubtitlesOffsetSettingsVisible,isWatchTogetherParticipantsVisible:t.isWatchTogetherParticipantsVisible,isPlayQueueVisible:t.isPlayQueueVisible,isAlsoAiringVisible:t.isAlsoAiringVisible,isLyricsVisible:t.isLyricsVisible,isPostPlayVisible:t.isPostPlayVisible,isWatchTogetherLobbyVisible:t.isWatchTogetherLobbyVisible,hasError:t.hasError,hasConflicts:t.hasConflicts,hasMediaOverlays:!!(null==(c=null==o?void 0:o.Overlay)?void 0:c.length),confirmLiveTVPlayback:t.confirmLiveTVPlayback,hasGridFeature:!!i&&i.features.some((e=>e.type===AC.HR)),hasLiveTVProtocol:!!i&&i.protocols.includes(sk.K),showBackgroundVideoPlayer:!(!l&&!n||e),currentMediaType:d,confirmPlaybackPayload:t.confirmPlaybackPayload,confirmOffsetPayload:t.confirmOffsetPayload,advertisingNoticePayload:t.advertisingNoticePayload,confirmRemoteToLocal:t.confirmRemoteToLocal,confirmLocalToRemote:t.confirmLocalToRemote,adState:t.adState,adPositionSeconds:t.adPositionSeconds,adDurationSeconds:t.adDurationSeconds,adDisplayIndex:t.adDisplayIndex,adDisplayTotal:t.adDisplayTotal,vastUrl:l,bufferedRanges:t.bufferedRanges,machineIdentifier:m,providerIdentifier:h}}))}),(function(e,t){const{playerType:n}=t;return{onUpdateBufferedRanges(t){e(a1e.qo({playerType:n,bufferedRanges:t}))},onUpdateCurrentAd(t){e(vt.Yd(Mot(Mot({},t),{playerType:n})))}}}))((function(e){return g.createElement(q3e,yot(yot({},e),{playerType:Se.Se,mediaComponent:e.isMusic?u4e:L3e,playerComponent:e.isMiniPlayer?dot:rot}))}));Eot.propTypes=Mot(Mot({},Eot.propTypes),{isMiniPlayer:sa().bool,playerType:sa().string.isRequired});const Pot=Eot;var Dot=Object.defineProperty,Cot=Object.prototype.hasOwnProperty,wot=Object.getOwnPropertySymbols,Zot=Object.prototype.propertyIsEnumerable,Tot=(e,t,n)=>t in e?Dot(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Not=(e,t)=>{for(var n in t||(t={}))Cot.call(t,n)&&Tot(e,n,t[n]);if(wot)for(var n of wot(t))Zot.call(t,n)&&Tot(e,n,t[n]);return e};const Oot={dispatchRestorePlayQueue:Rj.dP,dispatchEndPlayback:vt.Mh,dispatchUpdatePlayerError:a1e.IE};class Aot extends g.Component{constructor(){super(...arguments),this.onEnterFullscreen=()=>{(0,b.DB)("fullscreenManager").enter()},this.onExitFullscreen=()=>{(0,b.DB)("fullscreenManager").exit()},this.onToggleFullscreen=()=>{this.props.isFullscreen?this.onExitFullscreen():this.onEnterFullscreen()}}componentDidMount(){this._restorePlayQueue(),this.props.isServerlessPlayer&&this.props.dispatchEndPlayback({playerType:this.props.playerType})}componentWillUnmount(){this.props.isOpen&&this.props.dispatchEndPlayback({playerType:this.props.playerType,isForced:!0})}componentDidUpdate(e){const{dispatchEndPlayback:t,isFullscreen:n,isMiniPlayer:r,isOpen:i,isServerlessPlayer:a,playerType:s}=this.props;this._restorePlayQueue(),a&&!e.isServerlessPlayer&&t({playerType:s});const o=(0,b.DB)("fullscreenManager"),l=!i&&e.isOpen,c=r&&!e.isMiniPlayer;n&&(l||c)&&o.shouldExitOnPlayerClose&&this.onExitFullscreen()}componentDidCatch(e,t){M.Z.error(e),this.props.dispatchEndPlayback({playerType:this.props.playerType}),this.props.dispatchUpdatePlayerError({playerType:this.props.playerType,errorMessage:(0,Ce.Z)("There was an unexpected error during playback. Please visit our forums if you continue to experience problems.")})}_restorePlayQueue(){const{playerType:e,isOpen:t,restorePlayQueuePayload:n,dispatchRestorePlayQueue:r}=this.props;(0,f.LX)(zZe.Z.location.pathname,{path:SK.Z.watchNow,exact:!0})||t||!n||e===(0,Se.f_)(n.playQueueType)&&r(n)}render(){const e=this.props,{component:t,isServerlessPlayer:n,restorePlayQueuePayload:r,dispatchRestorePlayQueue:i,dispatchEndPlayback:a,dispatchUpdatePlayerError:s}=e,o=((e,t)=>{var n={};for(var r in e)Cot.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&wot)for(var r of wot(e))t.indexOf(r)<0&&Zot.call(e,r)&&(n[r]=e[r]);return n})(e,["component","isServerlessPlayer","restorePlayQueuePayload","dispatchRestorePlayQueue","dispatchEndPlayback","dispatchUpdatePlayerError"]);return n?null:g.createElement(t,Not(Not({},o),{onEnterFullscreenPress:this.onEnterFullscreen,onExitFullscreenPress:this.onExitFullscreen,onToggleFullscreen:this.onToggleFullscreen}))}}const xot=(0,v.$j)((function(){return(0,fe.P1)(Mj,(e=>e.isFullscreen),x1(),m4e(),BVe(),(0,fe.P1)((e=>e.user.id),(0,b.DB)("selectRestorePlayQueue"),Cn.Z,be.Z,((e,t,n,r)=>{let i;t&&t[e]&&(i=t[e]);const a=i&&n[i.providerEntityID],s=i&&r[i.serverEntityID];if(i&&i.playQueueID&&s&&s.isConnected&&a&&a.isPopulated)return i})),((e,t,n,r,i,a)=>{const{confirmPlayerUpsellPayload:s,isOpen:o,openState:l}=n;return{confirmPlayerUpsellPayload:s,isOpen:o,isServerlessPlayer:o&&(!r||!i),isMiniPlayer:l===Fj.y,isRemotePlayer:e,isFullscreen:t,hasFullscreen:(0,b.DB)("fullscreenManager").hasFullscreen,restorePlayQueuePayload:a}}))}),Oot)(Aot);var jot=Object.defineProperty,Lot=Object.prototype.hasOwnProperty,kot=Object.getOwnPropertySymbols,Rot=Object.prototype.propertyIsEnumerable,zot=(e,t,n)=>t in e?jot(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Uot=(e,t)=>{for(var n in t||(t={}))Lot.call(t,n)&&zot(e,n,t[n]);if(kot)for(var n of kot(t))Rot.call(t,n)&&zot(e,n,t[n]);return e};function Vot(e){return(0,fe.P1)((0,xx.Z)(),Hx.Z,_x.Z,Tl.Z,((t,n,r,i)=>e({server:n,provider:r,stableUser:i,metadataItem:t})))}const Bot=(0,v.$j)((function(){return(0,fe.P1)(o1e(),Vot(oY.J5),Vot(oY.y7),Vot(oY.QF),((e,{isVideo:t})=>t),((e,t,n,r,i)=>e?{playQueueItemEntityID:e.entityID,showEditButton:t,showFavoriteButton:n,showMenuButton:!0,showShuffleButton:!0,showUnfavoriteButton:r,showVolume:i}:{}))}))(wet);Bot.propTypes=Uot(Uot({},Bot.propTypes),{providerEntityID:sa().string.isRequired,metadataItemEntityID:sa().string.isRequired,serverEntityID:sa().string.isRequired,playerType:sa().string.isRequired});const Fot=Bot;var _ot=Object.defineProperty,Hot=Object.prototype.hasOwnProperty,Qot=Object.getOwnPropertySymbols,Got=Object.prototype.propertyIsEnumerable,Wot=(e,t,n)=>t in e?_ot(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const Yot=function(e){const t=e,{playerType:n,bufferStartMilliseconds:r,bufferEndMilliseconds:i,positionMilliseconds:a}=t,s=((e,t)=>{var n={};for(var r in e)Hot.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&Qot)for(var r of Qot(e))t.indexOf(r)<0&&Got.call(e,r)&&(n[r]=e[r]);return n})(t,["playerType","bufferStartMilliseconds","bufferEndMilliseconds","positionMilliseconds"]);return g.createElement($8e,null,g.createElement(X8e,null,g.createElement(Yet,{playerType:n,bufferStartMilliseconds:r,bufferEndMilliseconds:i,positionMilliseconds:a,showBuffer:!0}),g.createElement(l9e,((e,t)=>{for(var n in t||(t={}))Hot.call(t,n)&&Wot(e,n,t[n]);if(Qot)for(var n of Qot(t))Got.call(t,n)&&Wot(e,n,t[n]);return e})({component:Fot,playerType:n},s))))},Kot=(0,v.$j)((function(){return(0,fe.P1)(x1(),o1e(),sx.Z,((e,t={},n)=>{const r=t.metadataItem,{serverEntityID:i,providerEntityID:a,type:s,Media:[o]}=n[r],l=s===Ac.CLIP,c=o&&o.Part&&o.Part[0],d=c&&c.key;return{serverEntityID:i,providerEntityID:a,imageUrl:l?null:d}}))}))(dnt),qot=function(e){const{items:t,currentItem:n,size:r,firstIndex:i,renderSlide:a,width:s,height:o}=e;if(!t||!t.length)return null;const l=t.indexOf(n),c=S().range(Math.max(0,l-1),Math.min(r,l+1+1));return g.createElement("div",{className:"Carousel-magazine-1xPZBb"},c.map((e=>{const n=l===e,r=e+i,c=t[e],d={position:"absolute",width:s,height:o,transform:`translate3d(${(e-l)*s}px, 0, 0)`};return g.createElement("div",{key:r,className:n?"Carousel-currentSlide-3rGyNj Carousel-slide-2icJhk":"Carousel-slide-2icJhk",style:d},c?a(c):null)})))},$ot={width:"100%",height:"100%"};class Jot extends g.Component{constructor(){super(),this.onLoad=()=>{this.setState({loading:!1})},this.onError=()=>{this.setState({error:!0})},this.state={loading:!0,error:!1}}render(){const{serverEntityID:e,providerEntityID:t,url:n,maxWidth:r,maxHeight:i}=this.props,{width:a,height:s}=function(e,t,n=2073600){const r=e*t,i=n/Math.pow((0,sNe.Z)(),2),a=Math.sqrt(Math.max(r/i,1));return{width:Math.round(e/a),height:Math.round(t/a)}}(r,i),{loading:o,error:l}=this.state;return g.createElement("div",{className:"SlideImg-slideContainer-bYujk0"},g.createElement("div",{className:"SlideImg-statusContainer-2e76Ga fadeIn-fadeIn-1nUxg7"},o&&!l?g.createElement(Mx.Z,null):null,l?g.createElement("div",null,(0,Ce.Z)("Unable to load photo")):null),g.createElement(xt.Z,{key:n,serverEntityID:e,providerEntityID:t,url:n,width:a,height:s,containerStyle:$ot,backgroundSize:"contain",component:Ot.Z,onLoad:this.onLoad,onError:this.onError}))}}const Xot=Jot;var elt=Object.defineProperty,tlt=Object.prototype.hasOwnProperty,nlt=Object.getOwnPropertySymbols,rlt=Object.prototype.propertyIsEnumerable,ilt=(e,t,n)=>t in e?elt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const alt=(0,v.$j)((function(){return(0,fe.P1)((0,xx.Z)(),(0,fe.P1)((0,xx.Z)(),(e=>{if(!e||!e.Media)return{};const{type:t,thumb:n,Media:[r]}=e,i="clip"===t,a=r&&r.Part&&r.Part[0],s=a&&a.key;return i||!s?n:s})),((e,t)=>{if(!t||!Object.keys(t).length)return{isLoading:!0};const{serverEntityID:n,providerEntityID:r}=e;return{serverEntityID:n,providerEntityID:r,isLoading:!1,url:t}}))}))((function(e){return e.isLoading?g.createElement(Mx.Z,null):g.createElement(Xot,((e,t)=>{for(var n in t||(t={}))tlt.call(t,n)&&ilt(e,n,t[n]);if(nlt)for(var n of nlt(t))rlt.call(t,n)&&ilt(e,n,t[n]);return e})({},e))}));var slt=Object.defineProperty,olt=Object.prototype.hasOwnProperty,llt=Object.getOwnPropertySymbols,clt=Object.prototype.propertyIsEnumerable,dlt=(e,t,n)=>t in e?slt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const ult=(0,v.$j)((function(){return(0,fe.P1)(knt(),(e=>({playQueueItem:e})))}))((function(e){const{playQueueItem:t}=e;return t&&t.type===Ac.PHOTO?g.createElement(alt,((e,t)=>{for(var n in t||(t={}))olt.call(t,n)&&dlt(e,n,t[n]);if(llt)for(var n of llt(t))clt.call(t,n)&&dlt(e,n,t[n]);return e})({metadataItemEntityID:t.metadataItem},e)):null}));class plt extends g.Component{constructor(){super(...arguments),this.renderSlide=e=>{const{playQueueItemEntityID:t,width:n,height:r}=this.props,i=t===e;return g.createElement(ult,{playQueueItemEntityID:e,isCurrent:i,maxWidth:n,maxHeight:r})}}render(){const{playQueueItemEntityIDs:e,playQueueItemEntityID:t,size:n,firstIndex:r,errorMessage:i,width:a,height:s}=this.props;return g.createElement("div",{className:"PhotoCarousel-carousel-1STv6F"},i?g.createElement("div",{className:"PhotoCarousel-message-2JefCi"},g.createElement("span",null,i)):null,a&&s&&e&&!i?g.createElement(qot,{items:e,currentItem:t,size:n,firstIndex:r,width:a,height:s,renderSlide:this.renderSlide}):null)}}const mlt=plt;function hlt(e){const{hideOverlays:t,canSkipPrevious:n,canSkipNext:r,hasFullscreen:i,isFullscreen:a,isPhoto:s,onPlayNextItem:o,onPlayPreviousItem:l,onCastMenuChange:c,onEnterFullscreenPress:d,onExitFullscreenPress:u,onToggleFullscreen:p}=e;return g.createElement("div",{className:t?"PhotoFullPlayerOverlays-hideOverlays-2cCDRv":void 0},s?null:g.createElement(x8e,{className:"PhotoFullPlayerOverlays-playButton-4xtBvb",playerType:Se.pV,isFullscreen:a,onEnterFullscreenPress:d,onExitFullscreenPress:u,onToggleFullscreen:p}),g.createElement("div",{className:"PhotoFullPlayerOverlays-topBar-2x6xvw"},g.createElement(T8e,{playerType:Se.pV,isFullscreen:a,hasFullscreen:i,onCastMenuChange:c,onEnterFullscreenPress:d,onExitFullscreenPress:u})),g.createElement(Lx.Z,{className:"PhotoFullPlayerOverlays-leftButton-sfaS-J PhotoFullPlayerOverlays-button-1tQEMn",iconComponent:kg,title:(0,Ce.Z)("Previous Photo"),isDisabled:!n,onPress:l}),g.createElement(Lx.Z,{className:"PhotoFullPlayerOverlays-rightButton-1mzPsq PhotoFullPlayerOverlays-button-1tQEMn",iconComponent:jg,title:(0,Ce.Z)("Next Photo"),isDisabled:!r,onPress:o}))}hlt.defaultProps={hideOverlays:!1};const glt=hlt,ylt="ui/player/photoPlayer/fetchRelatedPhotos",vlt=(0,bc.Z)(ylt),flt=(0,VT.Z)({[ylt](e){const t=(0,Wj.F_)(e,"photo"),n=t.get("playQueue").get("currentIndex"),r=(0,Wj.bG)(t,n).get("metadataItem"),i=r.get("key"),a=E.Z.join([i.replace("/library/","/hubs/"),"related"]),s=new IX.Z([],{server:r.server,provider:r.provider,metadataItem:r,hubKey:a,hubCount:8});t.set({relatedHubs:s}),r.get("isLibraryItem")&&s.fetch()}});function blt(e){var t=e["aria-label"],n=e.className,r=e.style,i={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",id:"plex-icon-camera-560"};i["aria-hidden"]=!t,i.style=r,i.className=oa.Z.plexIcon+(n?" "+n:"");var a=[g.createElement.apply(g,["path",{d:"m0 116.61c0-15.307 12.07-27.717 26.949-27.717h95.55l64.35-81.71c3.123-3.965 9.675-7.18 14.634-7.18h157.04c4.959 0 11.512 3.216 14.634 7.18l64.35 81.71h95.55c14.884 0 26.949 12.412 26.949 27.717v335.68c0 15.307-12.06 27.717-26.945 27.717h-506.11c-14.881 0-26.945-12.413-26.945-27.717v-335.68m142.82 11.393h-102.82v36 276h480v-276-36h-102.81l-69.69-87.998h-135.16l-69.25 87.43-.261.566",transform:"translate(0 40)"}].concat([])),g.createElement.apply(g,["path",{d:"m280 385.2c66.27 0 120-53.726 120-120 0-66.27-53.726-120-120-120-66.27 0-120 53.726-120 120 0 66.27 53.726 120 120 120m-80-120c0-44.18 35.817-80 80-80 44.18 0 80 35.817 80 80 0 44.18-35.817 80-80 80-44.18 0-80-35.817-80-80",transform:"translate(0 40)"}].concat([]))];return t&&a.unshift(g.createElement("title",null,t)),g.createElement.apply(g,["svg",i].concat(a))}blt.propTypes={"aria-label":sa().string,className:sa().string,style:sa().object};const Ilt=blt;function Slt(e){var t=e["aria-label"],n=e.className,r=e.style,i={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",id:"plex-icon-tag-auto-560"};i["aria-hidden"]=!t,i.style=r,i.className=oa.Z.plexIcon+(n?" "+n:"");var a=[g.createElement.apply(g,["path",{d:"m287.75.983c-28.03 2.775-53.66 11.968-70.36 28.646-.014.014-201.52 201.63-201.52 201.63-19.19 19.2-19.18 50.3-.007 69.48l145.92 145.99c14.328 14.336 35.21 17.958 52.735 11.06l-170.85-170.94c-20.817-20.828.024-41.68.024-41.68 27.762-27.819 244.06-244.19 244.06-244.19",transform:"translate(1 50)"}].concat([])),g.createElement.apply(g,["path",{d:"m559.45 149.47l-.27-83.68c.237-16.899-5.994-33.8-18.799-46.612-12.806-12.813-29.697-19.05-46.48-18.7l-81.41-.293c-38.15-1.625-75.78 7.347-97.84 29.371-.014.014-201.52 201.63-201.52 201.63-19.19 19.2-19.18 50.3-.007 69.48l145.92 145.99c19.233 19.243 50.27 19.18 69.45-.007l201.48-201.59c21.605-21.658 30.65-58.23 29.482-95.6m-63.51-117.95c8.434-.788 17.14 2.048 23.599 8.509 6.438 6.441 9.275 15.12 8.511 23.534l-.136 109.96c-.777 20.799-8.03 39.93-22.269 54.18-.707.707-1.426 1.398-2.157 2.071-.424.482-.866.954-1.326 1.414l-187.55 187.65c-11.515 11.522-30.19 11.519-41.627.074l-132.12-132.19c-11.475-11.481-11.506-30.06.074-41.649l187.55-187.65c.458-.459.928-.899 1.408-1.321.674-.733 1.366-1.455 2.075-2.164 15.795-15.803 37.594-23 61.13-22.19l102.84-.222",transform:"translate(1 50)"}].concat([])),g.createElement.apply(g,["path",{d:"m435.92 172.81c-27.13 0-49.12-22-49.12-49.15 0-27.14 21.993-49.15 49.12-49.15 27.13 0 49.12 22 49.12 49.15 0 27.14-21.993 49.15-49.12 49.15",transform:"translate(1 50)"}].concat([]))];return t&&a.unshift(g.createElement("title",null,t)),g.createElement.apply(g,["svg",i].concat(a))}Slt.propTypes={"aria-label":sa().string,className:sa().string,style:sa().object};const Mlt=Slt,Elt=function(e){return g.createElement(xt.Z,{serverEntityID:e.serverEntityID,providerEntityID:e.providerEntityID,url:e.url,width:110,height:110,component:Ot.Z})},Plt=function(e){const{serverEntityID:t,providerEntityID:n,summary:r,totalSize:i,url:a,icon:s,onPress:o}=e;return g.createElement("div",{className:"PhotoHub-hub-1pAYOM","data-qa-id":"relatedPhotoItem"},g.createElement(pw.Z,{onPress:o},g.createElement("div",{className:"PhotoHub-container-mlhS86"},g.createElement("div",{className:"PhotoHub-overlay-1UhpOf"},g.createElement("div",{className:"PhotoHub-title-3O4mM8","data-qa-id":"relatedPhotoName"},r),g.createElement("div",{className:"PhotoHub-count-4-UpA-","data-qa-id":"relatedPhotoCount"},s?g.createElement(xt.Z,{className:"PhotoHub-icon-26e56A",serverEntityID:t,providerEntityID:n,url:s,width:14,height:14}):g.createElement(Mlt,null),g.createElement("span",null," ",i))),g.createElement("div",{className:"PhotoHub-body-NI6ETL"},g.createElement(Elt,{serverEntityID:t,url:a})))))};var Dlt=Object.defineProperty,Clt=Object.prototype.hasOwnProperty,wlt=Object.getOwnPropertySymbols,Zlt=Object.prototype.propertyIsEnumerable,Tlt=(e,t,n)=>t in e?Dlt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;class Nlt extends g.Component{constructor(){super(...arguments),this.onPress=()=>{window.location.href=this.props.hubLink,this.props.endPlayback({playerType:Se.pV})}}render(){return g.createElement(Plt,((e,t)=>{for(var n in t||(t={}))Clt.call(t,n)&&Tlt(e,n,t[n]);if(wlt)for(var n of wlt(t))Zlt.call(t,n)&&Tlt(e,n,t[n]);return e})({onPress:this.onPress},this.props))}}const Olt=(0,v.$j)((function(){return(0,fe.P1)(((e,{librarySectionKey:t})=>t),(0,LT.Z)(),(0,OT.Z)(),lx(),Mrt(),((e,t,n,r,i)=>({hubLink:(0,Prt.Z)(t,n,{key:i.key,title:i.title}),summary:i.summary,totalSize:i.totalSize,url:i.thumb,icon:i.icon})))}),{endPlayback:vt.Mh})(Nlt),Alt=function(e){const{serverEntityID:t,providerEntityID:n,librarySectionKey:r,hubEntityIDs:i}=e;return i&&i.length?g.createElement("div",{className:"PhotoHubList-container-a_W61T","data-qa-id":"relatedPhotosContainer"},g.createElement("div",{className:"PhotoHubList-title-nSrgt2"},(0,Ce.Z)("Related Photos")),g.createElement("div",{className:"PhotoHubList-list-FdxNWX"},i.map((e=>g.createElement(Olt,{key:e,serverEntityID:t,providerEntityID:n,librarySectionKey:r,hubEntityID:e}))))):g.createElement("div",null)};var xlt=n(57576);var jlt=Object.defineProperty,Llt=Object.prototype.hasOwnProperty,klt=Object.getOwnPropertySymbols,Rlt=Object.prototype.propertyIsEnumerable,zlt=(e,t,n)=>t in e?jlt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Ult=(e,t)=>{for(var n in t||(t={}))Llt.call(t,n)&&zlt(e,n,t[n]);if(klt)for(var n of klt(t))Rlt.call(t,n)&&zlt(e,n,t[n]);return e};const Vlt=function(e){const{className:t,latitude:n,longitude:r}=e,[i,a]=(0,g.useState)(!0),[s,o]=(0,g.useState)(!1),l=(0,g.useCallback)((()=>a(!1)),[]),c=(0,g.useCallback)((()=>o(!0)),[]),d=`https://www.google.com/maps/search/?api=1&query=${n},${r}`,u={key:"59a999cb8f28fb0a54eb",center:`${n},${r}`,markers:`size:small|color:orange|{${n},${r}`},p=(0,sNe.Z)();return g.createElement("div",{className:t},g.createElement(bx.Z,{className:"PhotoMap-map-3LreyH"},(({width:e,height:t})=>g.createElement(g.Fragment,null,g.createElement("div",{className:"PhotoMap-underlay-OqcVJY"},i?g.createElement(Mx.Z,null):null,s?g.createElement("span",{className:"PhotoMap-error-34r8Cw"},(0,Ce.Z)("Unable to load map.")):null),g.createElement(pw.Z,{to:d,target:"_blank","aria-label":(0,Ce.Z)("Open map in new window")},g.createElement(xlt.Z,{width:e,height:t,src:E.Z.join("https://maps.locationiq.com/v2/staticmap",Ult(Ult({},u),{size:`${e*p}x${t*p}`})),component:Ot.Z,onLoad:l,onError:c}))))))},Blt="PhotoInformation-line-2TbGmY",Flt=function(e){const{className:t,serverEntityID:n,providerEntityID:r,librarySectionKey:i,hubEntityIDs:a,type:s,model:o,width:l,height:c,container:d,iso:u,aperture:p,exposure:m,size:h,hasGeolocation:y,latitude:v,longitude:f}=e;return g.createElement("div",{className:Te()(t,"PhotoInformation-photoInformation-34DQBU")},g.createElement(rU.Z,{className:"PhotoInformation-scroller-17U82y Scroller-vertical-3IY07c",autoScroll:!0},g.createElement("div",{className:"PhotoInformation-exif-NI0DLA"},g.createElement("div",{className:Blt},o?g.createElement("div",null,o):g.createElement("div",null,"clip"===s?(0,Ce.Z)("Video"):(0,Ce.Z)("Photo")),g.createElement(Ilt,null)),g.createElement("div",{className:Blt},l&&c?g.createElement("div",null,l,"  ",c):null,h?g.createElement("div",null,(0,tce.Z)(h)):null,d?g.createElement("div",{className:"PhotoInformation-format-29hexN"},d):null),u?g.createElement("div",{className:Blt},g.createElement("div",null,(0,Ce.Z)("ISO")," ",u),g.createElement("div",null,p),g.createElement("div",null,m)):null),g.createElement(Alt,{serverEntityID:n,providerEntityID:r,librarySectionKey:i,hubEntityIDs:a})),y?g.createElement(Vlt,{className:"PhotoInformation-map-2cbO9p",latitude:v,longitude:f}):null)};var _lt=Object.defineProperty,Hlt=Object.prototype.hasOwnProperty,Qlt=Object.getOwnPropertySymbols,Glt=Object.prototype.propertyIsEnumerable,Wlt=(e,t,n)=>t in e?_lt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const Ylt={dispatchFetchRelatedPhotos:vlt};class Klt extends g.Component{componentDidMount(){this.props.dispatchFetchRelatedPhotos()}componentDidUpdate(e){e.metadataItemEntityID!==this.props.metadataItemEntityID&&this.props.dispatchFetchRelatedPhotos()}render(){const e=this.props,{dispatchFetchRelatedPhotos:t}=e,n=((e,t)=>{var n={};for(var r in e)Hlt.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&Qlt)for(var r of Qlt(e))t.indexOf(r)<0&&Glt.call(e,r)&&(n[r]=e[r]);return n})(e,["dispatchFetchRelatedPhotos"]);return g.createElement(Flt,((e,t)=>{for(var n in t||(t={}))Hlt.call(t,n)&&Wlt(e,n,t[n]);if(Qlt)for(var n of Qlt(t))Glt.call(t,n)&&Wlt(e,n,t[n]);return e})({},n))}}const qlt=(0,v.$j)((function(){return(0,fe.P1)(x1(),m1e(),((e,t)=>{const{Media:n=[],Geolocation:r={},type:i}=t,a=r.Coordinates,s={serverEntityID:e.serverEntityID,providerEntityID:e.providerEntityID,librarySectionKey:t.librarySectionKey,metadataItemEntityID:t.entityID,hubEntityIDs:e.relatedHubs||[],type:i,hasGeolocation:!!a};if(a&&(s.latitude=parseFloat(a.latitude),s.longitude=parseFloat(a.longitude)),n.length){const e=n[0],t=e.Part;s.size=t&&t[0].size,s.aperture=e.aperture,s.exposure=e.exposure,s.iso=e.iso,s.model=e.model,s.width=e.width,s.height=e.height,s.container=e.container}return s}))}),Ylt)(Klt),$lt={width:"100%",height:"100%",top:0,position:"absolute",zIndex:0};class Jlt extends g.Component{constructor(){super(...arguments),this.onPlayPress=()=>{this.props.onPlayPress&&this.props.onPlayPress(this.props.index)}}render(){const{className:e,serverEntityID:t,providerEntityID:n,url:r,dimension:i,onPlayPress:a}=this.props;return r?g.createElement(pw.Z,{className:e,isDisabled:!a,onPress:this.onPlayPress},g.createElement(xt.Z,{serverEntityID:t,providerEntityID:n,url:r,width:i,height:i,style:$lt,component:Ot.Z})):null}}const Xlt=Jlt,ect=(0,v.$j)((function(){return(0,fe.P1)((0,fe.P1)((0,xx.Z)(),(e=>{if(!e)return{};const{serverEntityID:t,providerEntityID:n,entityID:r,type:i,thumb:a}=e;return{serverEntityID:t,providerEntityID:n,entityID:r,url:a,isVideo:"clip"===i}})),(({serverEntityID:e,providerEntityID:t,url:n})=>({serverEntityID:e,providerEntityID:t,url:n})))}))(Xlt),tct=(0,v.$j)((function(){return(0,fe.P1)(knt(),(e=>({metadataItemEntityID:e.metadataItem})))}))(ect);class nct extends g.Component{constructor(e,t){super(e,t),this.onMeasure=({width:e,height:t})=>{this.setState({isMeasured:!0,width:e,height:t})},this.state={isMeasured:!1,width:null,height:null}}render(){const{className:e,playQueueItemEntityIDs:t,playQueueItemEntityID:n,firstIndex:r,size:i,onPhotoPress:a}=this.props,{isMeasured:s,width:o,height:l}=this.state,c=t.indexOf(n)+r;let d=[],u=[],p=0;if(s){p=Math.ceil(l);const e=Math.ceil(o/p),t=function({index:e,length:t,renderableWindow:n=t,cellPadding:r=0,cellWidth:i,width:a}){const s=t*i+(t-1)*r;let o=e*(i+r)-(a/2-i/2);s>a&&(o=Math.min(Math.max(o,0),s-a));const l=[],c=Math.max(0,e-n),d=Math.min(t-1,e+n);for(let e=c;e<=d;e++)l[e]=e*(i+r)-o;return{renderStartIndex:c,renderEndIndex:d,positions:l}}({index:c,renderableWindow:e,length:i,cellPadding:2,cellWidth:p,width:o});u=S().range(t.renderStartIndex,t.renderEndIndex+1),d=t.positions}return g.createElement("div",{className:Te()(e,"PhotoStrip-strip-3zu8Nq"),"data-qa-id":"photoStripContainer"},g.createElement(bx.Z,{className:"PhotoStrip-thumbs-1UW4dY",onMeasure:this.onMeasure},s?u.map((e=>{const n=d[e],i=c===e,s=t[e-r],o={position:"absolute",width:p,height:p,transform:`translate3d(${n}px, 0, 0)`};return g.createElement("div",{key:e,className:"PhotoStrip-cell-21GDlB",style:o},g.createElement("div",{className:Te()("PhotoStrip-thumbContainer-1pkpNn",i&&"PhotoStrip-isSelected-1v0FNB"),"data-qa-id":"photoStripItem"},s?g.createElement(tct,{className:"PhotoStrip-thumb-SJ5E5A",playQueueItemEntityID:s,dimension:p-4,index:e-r,onPlayPress:a}):null))})):null))}}const rct=nct,ict=parseInt(ng.Z.playerControlsHeight,10),act=parseInt(ng.Z.playerControlsNarrowHeight,10);class sct extends g.Component{constructor(e,t){super(e,t),this.onPhotoStripTogglePress=e=>{this.setState({isPhotoStripOpen:!this.state.isPhotoStripOpen})},this.onPhotoInformationTogglePress=e=>{this.setState({isInformationOpen:!this.state.isInformationOpen})},this.onInteraction=e=>{this.setState({hadRecentInteraction:!0}),this._startInteractionTimer()},this.onInteractionTimeout=()=>{this.setState({hadRecentInteraction:!1}),this._stopInteractionTimer()},this.onContentMeasure=e=>{this.props.onPlaybackDimensionsChange(e)},this.onControlsMenuChange=e=>{this.setState({isControlsMenuOpen:e})},this.onCastMenuChange=e=>{this.setState({isCastMenuOpen:e})},this.onControlsMouseEnter=e=>{this.setState({disableInteractionTimer:!0})},this.onControlsMouseLeave=e=>{this.setState({disableInteractionTimer:!1})},this.state={disableInteractionTimer:!1,isPhotoStripOpen:!1,isInformationOpen:!1,isControlsMenuOpen:!1,isCastMenuOpen:!1,hadRecentInteraction:!1}}componentDidMount(){this._startInteractionTimer()}componentDidUpdate(e,t){const{disableInteractionTimer:n}=this.state,{disableInteractionTimer:r}=t,i=!r&&n;r&&!n?this._startInteractionTimer():i&&this._stopInteractionTimer()}componentWillUnmount(){this._stopInteractionTimer()}_startInteractionTimer(){this.state.disableInteractionTimer||(this._stopInteractionTimer(),this._interactionTimeoutID=window.setTimeout(this.onInteractionTimeout,2e3))}_stopInteractionTimer(){this._interactionTimeoutID&&window.clearTimeout(this._interactionTimeoutID)}render(){const{isPhotoStripOpen:e,isInformationOpen:t,hadRecentInteraction:n}=this.state,{playQueueItemEntityIDs:r,playQueueItemEntityID:i,isPlayQueueLoading:a,isVideo:s,isPhoto:o,size:l,firstIndex:c,width:d,height:u,canSkipPrevious:p,canSkipNext:m,errorMessage:h,positionMilliseconds:y,bufferStartMilliseconds:v,bufferEndMilliseconds:f,hasFullscreen:b,isFullscreen:I,isMediaLoading:S,isBuffering:M,isNarrowLayout:E,playerType:P,onExitFullscreenPress:D,onEnterFullscreenPress:C,onToggleFullscreen:w,onPlayNextItem:Z,onPlayPreviousItem:T,onPlayItem:N}=this.props,{isControlsMenuOpen:O,isCastMenuOpen:A}=this.state,x=e||t,j=!(x||n||O||A),L=!n&&!A,k=x,R=!o&&(S||M),z=E?act:ict,U=j?null:`translateY(${-z}px)`;return g.createElement("div",{"data-qa-id":"photoPlayerContainer",className:Te()("PhotoFullPlayer-fullPlayer-2eTGU_",j&&"PhotoFullPlayer-hideControls-2F2BWH",k&&"PhotoFullPlayer-dockControls-1_HPn-"),onMouseMove:this.onInteraction,onMouseDown:this.onInteraction,onTouchStart:this.onInteraction,onTouchEnd:this.onInteraction},o?g.createElement(Kot,{playerType:P,playQueueItemEntityID:i}):null,g.createElement("div",{className:"PhotoFullPlayer-player-2-a_IV"},g.createElement("div",{className:"PhotoFullPlayer-main-f3RfFs"},g.createElement(bx.Z,{className:"PhotoFullPlayer-content-vkTaYa",onMeasure:this.onContentMeasure},R?g.createElement("div",{className:"PhotoFullPlayer-spinner-3bU32L"},g.createElement(Mx.Z,{size:Rp.ln})):null,g.createElement(mlt,{playQueueItemEntityIDs:r,playQueueItemEntityID:i,firstIndex:c,size:l,errorMessage:h,width:d,height:u}),a?null:g.createElement(glt,{hideOverlays:L,isPhoto:o,isFullscreen:I,hasFullscreen:b,canSkipNext:m,canSkipPrevious:p,onPlayNextItem:Z,onPlayPreviousItem:T,onCastMenuChange:this.onCastMenuChange,onEnterFullscreenPress:C,onExitFullscreenPress:D,onToggleFullscreen:w})),e?g.createElement(rct,{className:"PhotoFullPlayer-mainFooter-38ghhx",playQueueItemEntityIDs:r,playQueueItemEntityID:i,firstIndex:c,size:l,onPhotoPress:N}):null),t?g.createElement(qlt,{className:"PhotoFullPlayer-aside-3hNVbR",playerType:P}):null),a?null:g.createElement("div",{className:"PhotoFullPlayer-bottomBar-22s1-H PhotoFullPlayer-bar-3i1tmh",style:{bottom:-z,height:z,WebkitTransform:U,msTransform:U,transform:U},onMouseEnter:this.onControlsMouseEnter,onMouseLeave:this.onControlsMouseLeave},g.createElement(Yot,{playerType:P,isVideo:s,isPhoto:o,positionMilliseconds:y,bufferStartMilliseconds:v,bufferEndMilliseconds:f,activatePhotoInformationButton:t,activatePhotoStripButton:e,showPhotoInformationButton:!0,showPhotoStripButton:!0,onPhotoInformationPress:this.onPhotoInformationTogglePress,onPhotoStripPress:this.onPhotoStripTogglePress,onControlsMenuChange:this.onControlsMenuChange})))}}const oct=sct;var lct=Object.defineProperty,cct=Object.prototype.hasOwnProperty,dct=Object.getOwnPropertySymbols,uct=Object.prototype.propertyIsEnumerable,pct=(e,t,n)=>t in e?lct(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const mct=function(e){return g.createElement(iot,{isPlayQueueLoading:e.isPlayQueueLoading},g.createElement(Yot,((e,t)=>{for(var n in t||(t={}))cct.call(t,n)&&pct(e,n,t[n]);if(dct)for(var n of dct(t))uct.call(t,n)&&pct(e,n,t[n]);return e})({},e)))};var hct=Object.defineProperty,gct=Object.prototype.hasOwnProperty,yct=Object.getOwnPropertySymbols,vct=Object.prototype.propertyIsEnumerable,fct=(e,t,n)=>t in e?hct(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,bct=(e,t)=>{for(var n in t||(t={}))gct.call(t,n)&&fct(e,n,t[n]);if(yct)for(var n of yct(t))vct.call(t,n)&&fct(e,n,t[n]);return e};function Ict(e){return!!e.playQueueItemEntityID&&!e.isPaused&&!e.isRemotePlayer&&e.isPhoto}class Sct extends g.Component{constructor(e,t){super(e,t),this.onSlideShowAdvance=()=>{this.props.onPlayNextItem({autoPlay:!0})},this.onPlaybackDimensionsChange=({width:e,height:t})=>{this.setState({mediaWidth:e,mediaHeight:t})},this.state={mediaHeight:0,mediaWidth:0}}componentDidMount(){Ict(this.props)&&this._startSlideshow()}componentDidUpdate(e){const t=Ict(e),n=Ict(this.props),r=n!==t,i=this.props.playQueueItemEntityID!==e.playQueueItemEntityID;(r||i)&&(n?e.isPaused?this.props.onPlayNextItem({autoPlay:!0}):this._startSlideshow():this._stopSlideshow())}componentWillUnmount(){this._stopSlideshow(),this._playerTimer=window.clearTimeout(this._playerTimer)}_startSlideshow(){this._stopSlideshow(),this._slideshowTimer=window.setTimeout(this.onSlideShowAdvance,5e3)}_stopSlideshow(){this._slideshowTimer&&(this._slideshowTimer=window.clearTimeout(this._slideshowTimer))}render(){const{isMiniPlayer:e,isRemotePlayer:t}=this.props,{mediaWidth:n,mediaHeight:r}=this.state;return g.createElement(q3e,bct(bct({},this.props),{playerType:Se.pV,mediaWidth:n,mediaHeight:r,isRemotePlayer:t,isPostPlayVisible:!1,hasConflicts:!1,mediaComponent:L3e,playerComponent:e?mct:oct,onPlaybackDimensionsChange:this.onPlaybackDimensionsChange}))}}const Mct=Sct;var Ect=Object.defineProperty,Pct=Object.prototype.hasOwnProperty,Dct=Object.getOwnPropertySymbols,Cct=Object.prototype.propertyIsEnumerable,wct=(e,t,n)=>t in e?Ect(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Zct=(e,t)=>{for(var n in t||(t={}))Pct.call(t,n)&&wct(e,n,t[n]);if(Dct)for(var n of Dct(t))Cct.call(t,n)&&wct(e,n,t[n]);return e};const Tct=(0,v.$j)((function(){return(0,fe.P1)(((e,{isMiniPlayer:t})=>t),x1(),l1e(),o1e(),((e,t,n,r)=>{const i={serverEntityID:t.serverEntityID,providerEntityID:t.providerEntityID,confirmPlaybackPayload:t.confirmPlaybackPayload,confirmOffsetPayload:t.confirmOffsetPayload,confirmRemoteToLocal:t.confirmRemoteToLocal,confirmLocalToRemote:t.confirmLocalToRemote,isPlayQueueLoading:t.isPlayQueueLoading,isMediaLoading:t.isMediaLoading,isPaused:t.isPaused,isBuffering:t.isBuffering,hasError:t.hasError,errorMessage:t.errorMessage,showBackgroundVideoPlayer:!!n&&!e},a=t.playQueue;if(a&&r){const e=a.currentIndex;i.playQueueItemEntityIDs=a.playQueueItems,i.playQueueItemEntityID=r.entityID,i.canSkipPrevious=e>0,i.canSkipNext=e<a.playQueueItems.length-1,i.size=a.length,i.firstIndex=a.playQueueSelectedItemOffset-e,i.currentMediaType=(0,Ac.getMetadataType)(r.type).mediaType,i.currentMediaSubtype=r.subtype}return i.isVideo=i.currentMediaType===Al.pX,i.isPhoto=i.currentMediaType===Al.pV,i}))}),(function(e,t){const{playerType:n}=t;return{onPlayPreviousItem(){e(Rj.oA({playerType:n}))},onPlayNextItem(t={}){e(Rj.o1({playerType:n,autoPlay:t.autoPlay}))},onPlayItem(t){e(Rj.gP({playerType:n,index:t}))},onTogglePlayPause(){e(a1e.ID({playerType:n}))}}}))(Mct);Tct.propTypes=Zct(Zct({},Tct.propTypes),{playerType:sa().string.isRequired});const Nct=Tct;var Oct=n(49560),Act=Object.defineProperty,xct=Object.prototype.hasOwnProperty,jct=Object.getOwnPropertySymbols,Lct=Object.prototype.propertyIsEnumerable,kct=(e,t,n)=>t in e?Act(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Rct=(e,t)=>{for(var n in t||(t={}))xct.call(t,n)&&kct(e,n,t[n]);if(jct)for(var n of jct(t))Lct.call(t,n)&&kct(e,n,t[n]);return e};const zct=function(e){return g.createElement(i4e,Rct(Rct({},e),{type:"rom"}))};var Uct=Object.defineProperty,Vct=Object.prototype.hasOwnProperty,Bct=Object.getOwnPropertySymbols,Fct=Object.prototype.propertyIsEnumerable,_ct=(e,t,n)=>t in e?Uct(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Hct=(e,t)=>{for(var n in t||(t={}))Vct.call(t,n)&&_ct(e,n,t[n]);if(Bct)for(var n of Bct(t))Fct.call(t,n)&&_ct(e,n,t[n]);return e};const Qct=function(e){return g.createElement(wet,Hct(Hct({},e),{showRepeatButton:!1,showNextButton:!1,showPreviousButton:!1,showSettingsButton:!0}))};function Gct(e){const{isGame:t,isMiniPlayer:n,playerType:r,onControlsMenuChange:i}=e;return g.createElement($8e,null,g.createElement(X8e,null,g.createElement(l9e,{component:Qct,playerType:r,isGame:t,isMiniPlayer:n,onControlsMenuChange:i})))}Gct.defaultProps={isMiniPlayer:!1};const Wct=Gct,Yct=(0,v.$j)((function(){return(0,fe.P1)(j1("serverEntityID"),j1("startMetadataItemEntityID"),o1e(),sx.Z,((e,t,n={},r)=>{const i=r[t||n.metadataItem];let a;return i&&(a=i.grandparentArt||i.art),{serverEntityID:e,imageUrl:a}}))}))(dnt);var Kct=n(8824),qct=n(63676);const $ct=/^[^()]+/,Jct=[!1,!1,!1,!1],Xct=function({bottom:e,gameInputDevices:t}){const n=(0,g.useRef)(Jct),[r,i]=(0,g.useState)(null);return(0,g.useEffect)((()=>{const e=(0,qct.Z)(((e,r)=>{const a=t.findIndex((e=>e.type===Oct.MT.Keyboard));-1!==a&&(n.current[a]=r,i(Date.now()))})),r=(0,Kct.Z)(((e,r,a)=>{const s=t.findIndex((t=>t.index===e.index));-1!==s&&(n.current[s]=Array.from(r.changed).some((e=>r.values.get(e)))||Array.from(a.changed).some((e=>a.values.get(e))),i(e.timestamp))}));return n.current=[Jct],()=>{e(),r()}}),[t]),g.createElement(H8e,{bottom:e,title:(0,Ce.Z)("Gameplay Settings")},t.map(((e,r)=>{const{type:i}=e;let a;return a=i===Oct.MT.Gamepad?function(e,t){var n;const{id:r}=e,i=(null==(n=r.match($ct))?void 0:n[0].trim())||r,a=t.filter((e=>e.id===r));return a.length>1?`${i} (${a.indexOf(e)+1})`:i}(e,t):i===Oct.MT.Keyboard?(0,Ce.Z)("Keyboard"):(0,Ce.Z)("None"),g.createElement(G8e,{key:r,className:n.current[r]?"RomSettings-rowPressed-1rhtyg RomSettings-row-3aslFN AudioVideoSettingsRow-row-17UbJZ":"RomSettings-row-3aslFN AudioVideoSettingsRow-row-17UbJZ",label:(0,Ce.Z)("Player {index}",{index:r+1})},a)})))},edt=parseInt(ng.Z.playerControlsHeight,10),tdt=parseInt(ng.Z.playerControlsNarrowHeight,10);function ndt(e,t){return e.isSettingsVisible||t.isCastMenuOpen||t.disableInteractionTimer}class rdt extends g.Component{constructor(e,t){super(e,t),this.onInteraction=e=>{const{keyCode:t}=e;t!==Vd.LH&&t!==Vd.JH&&(t!==Vd.hY?ndt(this.props,this.state)||(this.state.hideControls&&this.setState({hideControls:!1}),this._interactionTimeoutID&&window.clearTimeout(this._interactionTimeoutID),this._interactionTimeoutID=window.setTimeout(this.onInteractionTimeout,2e3)):this.state.hideControls||this.onInteractionTimeout())},this.onInteractionTimeout=()=>{this.setState((({hideControlsCount:e})=>({hideControls:!0,hideControlsCount:e+1}))),this._interactionTimeoutID&&(window.clearTimeout(this._interactionTimeoutID),this._interactionTimeoutID=null)},this.onMouseLeave=e=>{this.setState({disableInteractionTimer:!1},(()=>{ndt(this.props,this.state)||this.onInteractionTimeout()}))},this.onControlsMouseEnter=e=>{this.setState({disableInteractionTimer:!0})},this.onControlsMouseLeave=e=>{this.setState({disableInteractionTimer:!1})},this.onControlsMenuChange=e=>{this.setState({isControlsMenuOpen:e})},this.onCastMenuChange=e=>{this.setState({isCastMenuOpen:e})},this.state={hideControls:!1,hideControlsCount:0,isControlsMenuOpen:!1,isCastMenuOpen:!1,disableInteractionTimer:!1}}componentDidMount(){document.addEventListener("keyup",this.onInteraction),document.addEventListener("mousemove",this.onInteraction),document.addEventListener("mousedown",this.onInteraction),document.addEventListener("touchstart",this.onInteraction),document.addEventListener("touchend",this.onInteraction),document.addEventListener("mouseleave",this.onMouseLeave),this._bodyCursorStyleAtMount=document.body.style.cursor,ndt(this.props,this.state)||this._startInteractionTimer()}UNSAFE_componentWillReceiveProps(e){ndt(e,this.state)&&this.state.hideControls&&this.setState({hideControls:!1}),this.props.isFullscreen!==e.isFullscreen&&this.state.disableInteractionTimer&&this.setState({disableInteractionTimer:!1})}componentDidUpdate(e,t){ndt(e,t)&&!ndt(this.props,this.state)&&this._startInteractionTimer(),!ndt(e,t)&&ndt(this.props,this.state)&&this._stopInteractionTimer(),this.state.hideControls!==t.hideControls&&(document.body.style.cursor=this.state.hideControls?"none":this._bodyCursorStyleAtMount)}componentWillUnmount(){document.removeEventListener("keyup",this.onInteraction),document.removeEventListener("mousemove",this.onInteraction),document.removeEventListener("mousedown",this.onInteraction),document.removeEventListener("touchstart",this.onInteraction),document.removeEventListener("touchend",this.onInteraction),document.removeEventListener("mouseleave",this.onMouseLeave),document.body.style.cursor=this._bodyCursorStyleAtMount,this._interactionTimeoutID&&window.clearTimeout(this._interactionTimeoutID)}_startInteractionTimer(){this._stopInteractionTimer(),this._interactionTimeoutID=window.setTimeout(this.onInteractionTimeout,2e3)}_stopInteractionTimer(){this._interactionTimeoutID&&window.clearTimeout(this._interactionTimeoutID)}render(){const{playerType:e,gameInputDevices:t,hasFullscreen:n,isGame:r,isPlayQueueLoading:i,isMediaLoading:a,isFullscreen:s,isNarrowLayout:o,isSettingsVisible:l,onEnterFullscreenPress:c,onExitFullscreenPress:d,onToggleFullscreen:u}=this.props,{hideControls:p}=this.state,m=i||a,h=i||a,y=o?tdt:edt,v=p?null:`translateY(${-y}px)`;return g.createElement(g.Fragment,null,h?g.createElement(Yct,{playerType:e,allowBlur:!1}):null,m?g.createElement("div",{className:"RomFullPlayer-spinnerContainer-2P4n-6"},g.createElement(Mx.Z,{size:Rp.ln})):null,g.createElement(x8e,{playerType:e,isCursorHidden:p,onToggleFullscreen:u}),l?g.createElement(Xct,{gameInputDevices:t,playerType:e,bottom:y}):null,i?null:g.createElement("div",{className:Te()("RomFullPlayer-topBar-2FDJXY RomFullPlayer-bar-1TUtAf",p&&"RomFullPlayer-topBarHidden-UHsD_d"),onMouseEnter:this.onControlsMouseEnter,onMouseLeave:this.onControlsMouseLeave},g.createElement(T8e,{playerType:e,isFullscreen:s,hasFullscreen:n,onCastMenuChange:this.onCastMenuChange,onEnterFullscreenPress:c,onExitFullscreenPress:d})),i?null:g.createElement("div",{className:Te()("RomFullPlayer-bottomBar-3h3vmy RomFullPlayer-bar-1TUtAf",p&&"RomFullPlayer-bottomBarHidden-1DJO4P"),style:{bottom:-y,height:y,WebkitTransform:v,msTransform:v,transform:v},onMouseEnter:this.onControlsMouseEnter,onMouseLeave:this.onControlsMouseLeave},g.createElement(Wct,{isGame:r,playerType:e,onControlsMenuChange:this.onControlsMenuChange})))}}const idt=rdt;var adt=Object.defineProperty,sdt=Object.prototype.hasOwnProperty,odt=Object.getOwnPropertySymbols,ldt=Object.prototype.propertyIsEnumerable,cdt=(e,t,n)=>t in e?adt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const ddt=function(e){return g.createElement(iot,{isPlayQueueLoading:e.isPlayQueueLoading},g.createElement(Wct,((e,t)=>{for(var n in t||(t={}))sdt.call(t,n)&&cdt(e,n,t[n]);if(odt)for(var n of odt(t))ldt.call(t,n)&&cdt(e,n,t[n]);return e})({},e)))};var udt=Object.defineProperty,pdt=Object.prototype.hasOwnProperty,mdt=Object.getOwnPropertySymbols,hdt=Object.prototype.propertyIsEnumerable,gdt=(e,t,n)=>t in e?udt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ydt=(e,t)=>{for(var n in t||(t={}))pdt.call(t,n)&&gdt(e,n,t[n]);if(mdt)for(var n of mdt(t))hdt.call(t,n)&&gdt(e,n,t[n]);return e};const vdt={type:Oct.MT.Keyboard},fdt={type:Oct.MT.None},bdt=[vdt,fdt,fdt,fdt];var Idt=Object.defineProperty,Sdt=Object.prototype.hasOwnProperty,Mdt=Object.getOwnPropertySymbols,Edt=Object.prototype.propertyIsEnumerable,Pdt=(e,t,n)=>t in e?Idt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Ddt=(e,t)=>{for(var n in t||(t={}))Sdt.call(t,n)&&Pdt(e,n,t[n]);if(Mdt)for(var n of Mdt(t))Edt.call(t,n)&&Pdt(e,n,t[n]);return e};const Cdt=(0,v.$j)((function(){return(0,fe.P1)(o1e(),(0,fe.P1)(u1e(),(e=>{var t,n;return null==(n=null==(t=null==e?void 0:e.Platform)?void 0:t[0])?void 0:n.tag})),p4e(["isMediaLoading","isPlayQueueLoading","paused","url","confirmRemoteToLocal","confirmLocalToRemote","confirmOffsetPayload","hasError","hasConflicts","isPostPlayVisible","isSettingsVisible"]),((e,t,n)=>{var r;const i=n,{paused:a,isSettingsVisible:s}=i,o=((e,t)=>{var n={};for(var r in e)Sdt.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&Mdt)for(var r of Mdt(e))t.indexOf(r)<0&&Edt.call(e,r)&&(n[r]=e[r]);return n})(i,["paused","isSettingsVisible"]);let l;return e&&(l=null==(r=(0,Ac.getMetadataType)(e.type))?void 0:r.mediaType),Ddt(Ddt({},o),{currentMediaType:l,gamePlatformTag:t,gamePreventDefault:a||s,isSettingsVisible:s,showBackgroundVideoPlayer:!1})}))}))((function(e){const[t,n]=(0,g.useState)(bdt);return(0,g.useEffect)((()=>function(e){if(!se.Z.hasGamepads)return()=>{};function t(){const e=[];for(const t of window.navigator.getGamepads())(null==t?void 0:t.connected)&&e.push(t);return e}function n(n){e(t(),n.gamepad)}window.addEventListener("gamepadconnected",n,!0),window.addEventListener("gamepaddisconnected",n,!0);const r=window.requestAnimationFrame((()=>{const n=t();n.length&&e(n)}));return()=>{window.cancelAnimationFrame(r),window.removeEventListener("gamepadconnected",n,!0),window.removeEventListener("gamepaddisconnected",n,!0)}}((e=>{const t=e.map((e=>({type:Oct.MT.Gamepad,id:e.id,index:e.index,mapping:e.mapping})));if(t.length<4){t.push(vdt);for(let e=t.length;e<4;e++)t.push(fdt)}n(t)}))),[]),g.createElement(q3e,ydt(ydt({},e),{gameInputDevices:t,mediaComponent:zct,playerComponent:e.isMiniPlayer?ddt:idt}))}));Cdt.propTypes=Ddt(Ddt({},Cdt.propTypes),{isOpen:sa().bool,playerType:sa().oneOf([Se.eD]).isRequired});const wdt=Cdt,Zdt=(0,fe.P1)(Ie,(e=>e.isResourcesPopulated)),Tdt=(0,fe.P1)(Ie,(e=>e.hasFailedResources)),Ndt=(0,fe.P1)(Zdt,Tdt,(0,wn.Z)("isProvidersPopulated"),(0,wn.Z)("providersError"),((e,t,n,r)=>t||!!r||e&&n)),Odt=(0,fe.P1)(LRe.Z,Ndt,((e,t)=>{const n=e.some((e=>!(!e.provider||!e.provider.isPopulated)&&!!(0,sc.Z)(e.provider)));return t&&!n})),Adt=(0,fe.P1)(WYe,(e=>e.length>0));var xdt=n(3967);const jdt=(0,fe.P1)(xn.Z,(e=>e.some((e=>e.connections.some((e=>e.isLoopback))&&e.connectionTestResult===_pe._r.PENDING)))),Ldt=(0,fe.P1)(Ie,jdt,QNe,(function(e){return!e.user.isFullUser}),Adt,((e,t,n,r,i)=>e.isResourcesPopulated&&!t&&!n.length&&!r&&!i)),kdt=function(e){const{children:t,isSidebarCollapsed:n}=e;return g.createElement(g.Fragment,null,n?g.createElement("div",{className:"EmptySourceSidebar-sidebarUnderlay-1At2pU SourceSidebar-sidebarUnderlay-1UOMAB"}):null,g.createElement("div",{className:n?"EmptySourceSidebar-collapsedSidebar-3J6zrZ SourceSidebar-collapsedSidebar-2U6H_u SourceSidebar-sidebar-3JchBT":"EmptySourceSidebar-openSidebar-3iWJWF SourceSidebar-openSidebar-1KW2H8 SourceSidebar-sidebar-3JchBT"},t))},Rdt=function(){const e=(0,GN.Z)(),t=(0,Ce.Z)("An unexpected error is impacting the sidebar");return g.createElement(kdt,{isSidebarCollapsed:!0},g.createElement(rf.Z,{component:pw.Z,tooltip:t,tooltipAttachment:af.ab,"aria-label":t,onPress:e.onOpen},g.createElement(we.Z,{className:"ErrorSourceSidebar-icon-3VZ-0a"})),g.createElement(UVe,{isOpen:e.isOpen,errorMessage:`${t}.`,onModalClose:e.onClose}))},zdt={button:"SourceSidebarLink-button-1mtWw3 SidebarLink-sidebarLink-3mZvPo Link-default-1mYhCE",isDim:"SourceSidebarLink-isDim-1Drgze",title:"SourceSidebarLink-title-1Ezq8H SidebarLink-title-lt99zB",iconContainer:"SourceSidebarLink-iconContainer-2v2Xu5 SidebarLink-icon-2dcOmX",isDisabled:"SourceSidebarLink-isDisabled-Zu33MY SourceSidebarLink-isDim-1Drgze",isSelected:"SourceSidebarLink-isSelected-7ttE4w",isActive:"SourceSidebarLink-isActive-1EXSwB",sourceLink:"SourceSidebarLink-sourceLink-OvtBFr",titles:"SourceSidebarLink-titles-3idRRv",detail:"SourceSidebarLink-detail-f_M36m",small:"SourceSidebarLink-small-CY_boA",medium:"SourceSidebarLink-medium-1rY0Af"};var Udt=Object.defineProperty,Vdt=Object.prototype.hasOwnProperty,Bdt=Object.getOwnPropertySymbols,Fdt=Object.prototype.propertyIsEnumerable,_dt=(e,t,n)=>t in e?Udt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Hdt=(e,t)=>{for(var n in t||(t={}))Vdt.call(t,n)&&_dt(e,n,t[n]);if(Bdt)for(var n of Bdt(t))Fdt.call(t,n)&&_dt(e,n,t[n]);return e};function Qdt(e){const{"data-qa-id":t,className:n,size:r,style:i,linkClassName:a,titleClassName:s,isActiveClassName:o,isSelectedClassName:l,icon:c,title:d,detail:u,to:p,role:m,isActive:h,isDim:y,isDisabled:v,isSelected:f,children:b,onNavigate:I,onMouseEnter:S,onMouseLeave:M,onFocus:E,onBlur:P}=e;let D,C;return p?(D=pw.Z,C={isDisabled:v,to:p,role:m,"data-qa-id":t,onPress:I}):(D="div",C={}),g.createElement("div",{className:Te()(n,zdt[r],h&&o,y&&zdt.isDim,v&&zdt.isDisabled,f&&l),"data-qa-id":"sidebarSource",style:i,onMouseEnter:S,onMouseLeave:M,onFocus:E,onBlur:P},g.createElement(D,Hdt(Hdt({className:a},C),{title:u?`${d}, ${u}`:d}),g.createElement("div",{className:zdt.iconContainer},c),g.createElement("div",{className:zdt.titles},g.createElement("div",{className:s},d),u?g.createElement("div",{className:zdt.detail},u):null)),b)}Qdt.defaultProps={className:zdt.button,size:Rp.M2,linkClassName:zdt.sourceLink,titleClassName:zdt.title,isActiveClassName:zdt.isActive,isSelectedClassName:zdt.isSelected};const Gdt=Qdt;var Wdt=Object.defineProperty,Ydt=Object.prototype.hasOwnProperty,Kdt=Object.getOwnPropertySymbols,qdt=Object.prototype.propertyIsEnumerable,$dt=(e,t,n)=>t in e?Wdt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const Jdt=function(e){const t=e,{icon:n,connectDragSource:r}=t,i=((e,t)=>{var n={};for(var r in e)Ydt.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&Kdt)for(var r of Kdt(e))t.indexOf(r)<0&&qdt.call(e,r)&&(n[r]=e[r]);return n})(t,["icon","connectDragSource"]),a=g.createElement(Gdt,((e,t)=>{for(var n in t||(t={}))Ydt.call(t,n)&&$dt(e,n,t[n]);if(Kdt)for(var n of Kdt(t))qdt.call(t,n)&&$dt(e,n,t[n]);return e})({icon:n||g.createElement(PB,{className:"ReorderSourceSidebarItem-iconReorder-32BUOJ"})},i));return r?r(g.createElement("div",{className:"ReorderSourceSidebarItem-dragSource-2EihAO"},a)):a},Xdt=parseInt(ng.Z.sourceSidebarItemHeight,10);class eut extends g.Component{render(){const{item:e,style:t}=this.props;if(!e||!t)return null;const{sourceTitle:n,sourceDetail:r}=e;return g.createElement(pB,null,g.createElement(Jdt,{style:t,title:n,detail:r}))}}const tut=(0,aB.rE)((function(e,t){const n=e.getItem(),r={item:n,style:null},i=e.getInitialSourceClientOffset(),a=e.getSourceClientOffset();if(e.getItemType()===yB&&i&&a){let e=a.y;e-n.listTop<=0?e=n.listTop:e+Xdt>=n.listBottom&&(e=n.listBottom-Xdt),r.style=F2({x:i.x,y:e},n.listWidth)}return r}))(eut),nut={beginDrag(e,t,n){const{sourceTitle:r,sourceTitleDetail:i,listIndex:a,isRemoved:s,listHeight:o,listWidth:l,listTop:c,listRight:d,listBottom:u,listLeft:p}=e;return{dragIndex:a,sourceTitle:r,sourceTitleDetail:i,isRemoved:s,listHeight:o,listWidth:l,listTop:c,listRight:d,listBottom:u,listLeft:p}},endDrag(e,t,n){e.onItemDragEnd({didDrop:t.didDrop()})}},rut={hover(e,t,n){const r=t.getClientOffset(),i=(0,y.findDOMNode)(n).getBoundingClientRect(),a=(i.bottom-i.top)/2,s=r.y-i.top,o=t.getItem().dragIndex,l=e.listIndex;let c;c=l===o?l:s>a?l+1:l,e.onItemDragMove({dragIndex:o,dropIndex:c})}};class iut extends g.Component{componentDidMount(){this.props.connectDragPreview((0,qB.rX)())}render(){const{sourceTitle:e,sourceTitleDetail:t,isOver:n,isDragging:r,isDraggingBefore:i,isDraggingAfter:a,connectDropTarget:s,connectDragSource:o}=this.props;return s(g.createElement("div",{className:Te()("SourceListItemDragSource-container-3l5oAU",n&&"SourceListItemDragSource-isOver-2dQ7dJ",r&&lr.fN,n&&i&&lr.DT,n&&a&&lr.QZ)},g.createElement(Jdt,{title:e,detail:t,connectDragSource:o})))}}const aut=(0,aB.GR)(yB,rut,(function(e,t){return{connectDropTarget:e.dropTarget(),isOver:t.isOver()}}))((0,aB.Ej)(yB,nut,(function(e,t){return{connectDragPreview:e.dragPreview(),connectDragSource:e.dragSource(),isDragging:t.isDragging()}}))(iut));var sut=Object.defineProperty,out=Object.prototype.hasOwnProperty,lut=Object.getOwnPropertySymbols,cut=Object.prototype.propertyIsEnumerable,dut=(e,t,n)=>t in e?sut(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,uut=(e,t)=>{for(var n in t||(t={}))out.call(t,n)&&dut(e,n,t[n]);if(lut)for(var n of lut(t))cut.call(t,n)&&dut(e,n,t[n]);return e};const put={dragIndex:-1,dropIndex:-1,hasValidDropTarget:!1};class mut extends g.Component{constructor(e,t){super(e,t),this.onItemDragMove=e=>{const{dragIndex:t,dropIndex:n}=e,{dragIndex:r,dropIndex:i}=this.state;let a=n!==i?n:i;const s=t!==r?t:r;if((a===s||a>s&&a-s==1)&&(a=-1),s!==r||a!==i){const e={dragIndex:s,dropIndex:a,hasValidDropTarget:-1!==a};this.setState(e)}},this.onItemDragEnd=e=>{const{dragIndex:t,dropIndex:n}=this.state;let r;e.didDrop&&-1!==n&&(r=()=>{this.props.onReorderSource({fromIndex:t,toIndex:n>t?n-1:n})}),this.setState(put,r)},this.onMeasure=e=>{const{height:t,width:n,x:r,y:i}=e;this.setState({listHeight:t,listWidth:n,listTop:i,listRight:r+n,listBottom:i+t,listLeft:r})},this.state=uut(uut({},put),{listHeight:0,listWidth:0,listTop:0,listRight:0,listBottom:0,listLeft:0})}render(){const{className:e,sources:t}=this.props,{dropIndex:n,hasValidDropTarget:r}=this.state;return g.createElement(bx.Z,{className:e,ignoreTransforms:!0,onMeasure:this.onMeasure},t.map(((e,t)=>{const i=r&&n===t,a=r&&n===t+1;return g.createElement(aut,uut(uut({},this.state),{key:e.key,sourceTitle:e.title,sourceTitleDetail:e.titleDetail,listIndex:t,hasValidDropTarget:r,isDraggingAfter:a,isDraggingBefore:i,onItemDragMove:this.onItemDragMove,onItemDragEnd:this.onItemDragEnd}))})),g.createElement(Tet.Z,null,g.createElement(tut,null)))}}mut.defaultProps={className:"SortableSources-container-tR4vQs Measure-container-27uNnm"};const hut=DH(mut);function gut(e){var t=e["aria-label"],n=e.className,r=e.style,i={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-sidebar-downloads-560"};i["aria-hidden"]=!t,i.style=r,i.className=oa.Z.plexIcon+(n?" "+n:"");var a=[g.createElement.apply(g,["path",{d:"M280 510.588c127.35 0 230.588-103.238 230.588-230.588S407.35 49.412 280 49.412 49.412 152.65 49.412 280 152.65 510.588 280 510.588zM280 560C125.36 560 0 434.64 0 280S125.36 0 280 0s280 125.36 280 280-125.36 280-280 280zm0-131.765l131.765-131.764H306.353V131.765h-52.706V296.47H148.235L280 428.235z"}].concat([]))];return t&&a.unshift(g.createElement("title",null,t)),g.createElement.apply(g,["svg",i].concat(a))}gut.propTypes={"aria-label":sa().string,className:sa().string,style:sa().object};const yut=gut;function vut(e){var t=e["aria-label"],n=e.className,r=e.style,i={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-sidebar-home-560"};i["aria-hidden"]=!t,i.style=r,i.className=oa.Z.plexIcon+(n?" "+n:"");var a=[g.createElement.apply(g,["path",{d:"M0 520V296.569a40 40 0 0 1 11.716-28.285L280 0l268.284 268.284A40 40 0 0 1 560 296.57V520c0 22.091-17.909 40-40 40H340V360H220v200H40c-22.091 0-40-17.909-40-40z"}].concat([]))];return t&&a.unshift(g.createElement("title",null,t)),g.createElement.apply(g,["svg",i].concat(a))}vut.propTypes={"aria-label":sa().string,className:sa().string,style:sa().object};const fut=vut;var but=Object.defineProperty,Iut=Object.prototype.hasOwnProperty,Sut=Object.getOwnPropertySymbols,Mut=Object.prototype.propertyIsEnumerable,Eut=(e,t,n)=>t in e?but(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;function Put(e){return g.createElement("div",((e,t)=>{for(var n in t||(t={}))Iut.call(t,n)&&Eut(e,n,t[n]);if(Sut)for(var n of Sut(t))Mut.call(t,n)&&Eut(e,n,t[n]);return e})({},e))}Put.defaultProps={className:"SourceSidebarHeader-header-3Ay5rt"};const Dut=Put;var Cut=Object.defineProperty,wut=Object.prototype.hasOwnProperty,Zut=Object.getOwnPropertySymbols,Tut=Object.prototype.propertyIsEnumerable,Nut=(e,t,n)=>t in e?Cut(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;function Out(e){const{className:t}=e;return g.createElement(rU.Z,((e,t)=>{for(var n in t||(t={}))wut.call(t,n)&&Nut(e,n,t[n]);if(Zut)for(var n of Zut(t))Tut.call(t,n)&&Nut(e,n,t[n]);return e})({className:t,autoScroll:!0},e))}Out.defaultProps={className:"SourceSidebarScroller-scroller-pA7lLb Scroller-scroller-2Rw5pG"};const Aut=Out;class xut extends g.Component{constructor(){super(...arguments),this.onReorderSource=({fromIndex:e,toIndex:t})=>{if(e===t)return;const{sources:n,hiddenSidebarSourceKeys:r,onReorderPinnedSources:i}=this.props;i({sourceKeys:Mse(n.map((e=>e.key)),e,t).concat(r)})}}render(){const{sources:e,hasDownloadsSource:t,onCloseReorderPinSources:n}=this.props;return g.createElement(g.Fragment,null,g.createElement(Dut,null,g.createElement("div",{className:"SourceSidebarReorderContent-titleContainer-1gEB2y"},g.createElement("div",{className:"SourceSidebarReorderContent-title-_Zb6aw"},(0,Ce.Z)("Reorder")),g.createElement(pw.Z,{className:"SourceSidebarReorderContent-closeButton-15-GjV","aria-label":(0,Ce.Z)("Done"),onPress:n},g.createElement(cu.Z,null)))),g.createElement(Aut,null,g.createElement("div",{className:"SourceSidebarReorderContent-expandedSidebarContent-2QMWFw SourceSidebarContent-expandedSidebarContent-3xuQnU"},g.createElement(Jdt,{icon:g.createElement(fut,null),title:(0,Ce.Z)("Home"),isDisabled:!0}),t?g.createElement(Jdt,{icon:g.createElement(yut,null),title:(0,Ce.Z)("Downloads"),isDisabled:!0}):null,g.createElement(hut,{sources:e,onReorderSource:this.onReorderSource}))))}}const jut=xut,Lut=(0,fe.P1)(RT,(e=>({hiddenSidebarSourceKeys:e.reduce(((e,t)=>(t.isHidden&&e.push(t.key),e)),[])}))),kut={onReorderPinnedSources:oN.fK},Rut=(0,v.$j)(Lut,kut)(jut),zut=parseInt(ng.Z.sourceSidebarServerHeaderIconSize,10),Uut=function(e){const{serverEntityID:t,thumb:n}=e;return g.createElement(X2.Z,{serverEntityID:t,url:n,width:zut,height:zut})},Vut=(0,v.$j)((function(){return(0,fe.P1)((0,LT.Z)(),(0,fe.P1)((0,LT.Z)(),J2.Z,$2.Z,((e,t,n)=>{const r=t.find((t=>n[t].id===e.ownerId));return r?n[r].thumb:null})),jme.Z,((e,t,n)=>({thumb:e.isShared?t:n.thumb})))}))(Uut);var But=n(83299),Fut=n(13781);const _ut="SourceSidebarBadgedIcon-image-3TewOI";function Hut({isUnavailable:e,isOutOfDate:t,isUnclaimed:n}){return e?(0,Ce.Z)("Unavailable"):t?(0,Ce.Z)("Needs update"):n?(0,Ce.Z)("Unclaimed"):void 0}function Qut(e){const{isRemote:t,isUnclaimed:n,isUnavailable:r,isOutOfDate:i}=e,a=r||n||i;return a||t?g.createElement("div",{className:"SourceSidebarBadgedIcon-badge-2MRPaV"},a?g.createElement("img",{className:_ut,src:But,"aria-label":Hut(e)}):g.createElement("img",{className:_ut,src:Fut,"aria-label":(0,Ce.Z)("Remote server")})):null}function Gut(e){const{icon:t,showBadgedIcon:n,isPending:r,isRemote:i,isUnavailable:a,isOutOfDate:s,isUnclaimed:o}=e;return n?r?g.createElement(Mx.Z,{className:"SourceSidebarBadgedIcon-spinner-XbpJ0L"}):g.createElement("div",{className:"SourceSidebarBadgedIcon-container-AwQTL-"},t,g.createElement(Qut,{isRemote:i,isUnavailable:a,isOutOfDate:s,isUnclaimed:o})):t}Gut.defaultProps={showBadgedIcon:!0};const Wut=Gut,Yut="SourceSidebarServerHeaderActionsButtons-button-2tGSOP IconButton-button-llQ1So",Kut=(0,oC.Z)(null,(function(e,t){const n={serverEntityID:t.serverEntityID,metricsPage:t.metricsPage};return{onAddLibraryPress(){e(UT.Wy(n))}}}))((function(e){const{className:t,isHovered:n,overflowMenuButtonID:r,isOverflowMenuOpen:i,onAddLibraryPress:a,onOverflowMenuToggle:s}=e,o=se.Z.hasTouchScreen||n||i;return g.createElement("div",{className:o?t:"SourceSidebarServerHeaderActionsButtons-hidden-32EQA5"},g.createElement(Lx.Z,{className:Yut,"data-qa-id":"sidebarLibrariesAddButton",iconComponent:hP.Z,title:(0,Ce.Z)("Add Library"),onPress:a}),g.createElement(Lx.Z,{id:r,className:Yut,"aria-haspopup":"true","data-qa-id":"sidebarLibrariesMoreButton",iconComponent:qm.Z,title:(0,Ce.Z)("More Actions"),onPress:s}))}));var qut=n(79498);const $ut={placement:"bottom-start",modifiers:[{name:"offset",options:{offset:[0,-10]}}]},Jut=(0,oC.Z)((function(){return(0,fe.P1)((0,fe.P1)((0,qut.Z)(),(e=>e.some((e=>e.refreshing)))),(0,jT.tk)(),(0,jT.k8)(),((e,t,n)=>({isLibraryRefreshing:e,isOptimizeDatabaseInProgress:!!t,isCleanBundlesInProgress:!!n})))}),(function(e,t){const n={serverEntityID:t.serverEntityID,metricsPage:t.metricsPage};return{onScanLibrariesPress(){e(UT.iE(n))},onCancelScanLibrariesPress(){e(UT.zl(n))},onEmptyTrashPress(){e(UT.uo(n))},onOptimizeDatabasePress(){e(UT.Q6(n))},onCleanBundlesPress(){e(UT.ll(n))}}}))((function(e){const{serverEntityID:t,machineIdentifier:n,overflowMenuButtonID:r,isLibraryRefreshing:i,isOptimizeDatabaseInProgress:a,isCleanBundlesInProgress:s,isOverflowMenuOpen:o,onScanLibrariesPress:l,onCancelScanLibrariesPress:c,onEmptyTrashPress:d,onOptimizeDatabasePress:u,onCleanBundlesPress:p,onOverflowMenuClose:m}=e,h=(0,GN.Z)(),y=(0,GN.Z)(d),v=(0,GN.Z)(u),f=(0,GN.Z)(p);return g.createElement(g.Fragment,null,g.createElement(LN,{target:r,options:$ut,isOpen:o,onMenuClose:m},g.createElement(ec.Z,{onPress:(0,rc.Z)(m,h.onOpen)},(0,Ce.Z)("Share")),i?g.createElement(ec.Z,{onPress:c},(0,Ce.Z)("Cancel Scan")):g.createElement(ec.Z,{onPress:l},(0,Ce.Z)("Scan Library Files")),g.createElement(nc.Z,{label:(0,Ce.Z)("Manage Server"),onMenuClose:m},g.createElement(ec.Z,{to:(0,Nv.Z)(n,"settings","general")},(0,Ce.Z)("Settings")),g.createElement(ec.Z,{onPress:y.onOpen},(0,Ce.Z)("Empty Trash")),g.createElement(ec.Z,{isDisabled:a,onPress:v.onOpen},(0,Ce.Z)("Optimize Database")),g.createElement(ec.Z,{isDisabled:s,onPress:f.onOpen},(0,Ce.Z)("Clean Bundles")))),g.createElement(xm.Z,{metricsProperties:{context:OC.LIST},serverEntityID:t,isOpen:h.isOpen,onModalClose:h.onClose}),g.createElement(ZN,{isOpen:y.isOpen,metricsPage:pt.cZ,title:(0,Ce.Z)("Empty Trash"),message:(0,Ce.Z)("By default the media server doesn't remove information for media right away. This helps if a drive is temporarily disconnected. When you empty the trash for a section, all information about missing media is deleted."),confirmLabel:(0,Ce.Z)("Empty"),onConfirm:y.onConfirm,onCancel:y.onClose}),g.createElement(ZN,{isOpen:v.isOpen,metricsPage:pt.tl,title:(0,Ce.Z)("Optimize Database"),message:(0,Ce.Z)("Cleans up the library database and ensures it is operating as quickly as possible. This is especially useful when you've added or removed a large amount of media from the library."),confirmLabel:(0,Ce.Z)("Optimize"),onConfirm:v.onConfirm,onCancel:v.onClose}),g.createElement(ZN,{isOpen:f.isOpen,metricsPage:pt.jB,title:(0,Ce.Z)("Clean Bundles"),message:(0,Ce.Z)("The media server stores information about your media to disk, as well as posters, artwork, and other media resources from the internet. Running this task deletes any bundles which are no longer in use."),confirmLabel:(0,Ce.Z)("Clean"),onConfirm:f.onConfirm,onCancel:f.onClose}))}));var Xut=Object.defineProperty,ept=Object.prototype.hasOwnProperty,tpt=Object.getOwnPropertySymbols,npt=Object.prototype.propertyIsEnumerable,rpt=(e,t,n)=>t in e?Xut(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ipt=(e,t)=>{for(var n in t||(t={}))ept.call(t,n)&&rpt(e,n,t[n]);if(tpt)for(var n of tpt(t))npt.call(t,n)&&rpt(e,n,t[n]);return e};const apt=function(e){const t=e,{serverEntityID:n,machineIdentifier:r,hasServerActions:i,iconNode:a,iconSrc:s,isPending:o,isRemote:l,isUnavailable:c,isOutOfDate:d,isUnclaimed:u,onToggleLockedPress:p}=t,m=((e,t)=>{var n={};for(var r in e)ept.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&tpt)for(var r of tpt(e))t.indexOf(r)<0&&npt.call(e,r)&&(n[r]=e[r]);return n})(t,["serverEntityID","machineIdentifier","hasServerActions","iconNode","iconSrc","isPending","isRemote","isUnavailable","isOutOfDate","isUnclaimed","onToggleLockedPress"]),h=(0,No.Z)(),[y,v]=(0,g.useState)(!1),[f,b]=ok(),I=(0,g.useCallback)((()=>{v(!y)}),[y]),S=(0,g.useCallback)((()=>{v(!1)}),[]);return(0,g.useEffect)((()=>{p&&p(y)}),[y,p]),g.createElement(g.Fragment,null,g.createElement(Gdt,ipt(ipt(ipt({},m),b),{isSelectedClassName:"SourceSidebarServerHeader-isSelected-vjjpax SourceSidebarLink-isSelected-7ttE4w",titleClassName:"SourceSidebarServerHeader-title-2oT9aS SourceSidebarLink-title-1Ezq8H SidebarLink-title-lt99zB",isActive:y,role:"navigation",icon:g.createElement(Wut,{icon:g.createElement("div",{className:"SourceSidebarServerHeader-iconContainer-C4mhM7 SourceSidebarItem-iconImg-3JkcZ2"},a),isPending:o,isRemote:l,isUnavailable:c,isOutOfDate:d,isUnclaimed:u})}),i?g.createElement(Kut,{serverEntityID:n,className:"SourceSidebarServerHeader-actionContainer-3DMGhR",isHovered:f,overflowMenuButtonID:h,isOverflowMenuOpen:y,onOverflowMenuToggle:I}):null),i?g.createElement(Jut,{serverEntityID:n,machineIdentifier:r,overflowMenuButtonID:h,isOverflowMenuOpen:y,onOverflowMenuToggle:I,onOverflowMenuClose:S}):null)};function spt(e){const t=window.location.hash,n=new RegExp("^"+(0,k.Z)(e)+"\\b");return!(!t||!e)&&n.test(t)}const opt=(0,v.$j)((function(){return(0,fe.P1)((e=>e.cloudServer),jme.Z,((e,t)=>({cloudServerEntityID:e,thumb:t.thumb})))}))((function(e){const{cloudServerEntityID:t,thumb:n}=e,r="#!/get-plex-media-server";return g.createElement(apt,{to:r,isSelected:spt(r),iconNode:g.createElement(Uut,{serverEntityID:t,thumb:n}),title:(0,Ce.Z)("Your Media")})})),lpt=(0,fe.P1)(RT,(e=>(0,uz.Z)(e,(e=>e.key),(e=>e))));function cpt(e){var t=e["aria-label"],n=e.className,r=e.style,i={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-source-pinned-560"};i["aria-hidden"]=!t,i.style=r,i.className=oa.Z.plexIcon+(n?" "+n:"");var a=[g.createElement.apply(g,["path",{d:"M220 40L160 0h240l-60 40 20 200 100 80H310l-30 240-30-240H100l100-80z"}].concat([]))];return t&&a.unshift(g.createElement("title",null,t)),g.createElement.apply(g,["svg",i].concat(a))}cpt.propTypes={"aria-label":sa().string,className:sa().string,style:sa().object};const dpt=cpt;var upt=Object.defineProperty,ppt=Object.prototype.hasOwnProperty,mpt=Object.getOwnPropertySymbols,hpt=Object.prototype.propertyIsEnumerable,gpt=(e,t,n)=>t in e?upt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ypt=(e,t)=>{for(var n in t||(t={}))ppt.call(t,n)&&gpt(e,n,t[n]);if(mpt)for(var n of mpt(t))hpt.call(t,n)&&gpt(e,n,t[n]);return e};const vpt={placement:"bottom-start",modifiers:[{name:"offset",options:{offset:({reference:e})=>[0,-.2*e.height]}}]};function fpt(e){const{serverEntityID:t,providerEntityID:n,source:r,dismissedUnclaimedServers:i,size:a,showDetail:s,showIcons:o,metricsOrigin:l,isReorderable:c,onToggleLockedPress:d,onReorderPinSources:u}=e,{machineIdentifier:p,providerIdentifier:m}=MK(),h=(0,De.Z)(),y=(0,EK.Z)(h.source),v=(0,No.Z)(),[f,I]=(0,g.useState)(!1),[S,M]=ok(),E=(0,g.useCallback)((()=>{I(!f)}),[f]),P=(0,g.useCallback)((()=>{I(!1)}),[]);(0,g.useEffect)((()=>{d&&d(f)}),[f,d]);const D=(0,g.useCallback)((()=>{(0,b.DB)("metrics").trackEvent({event:mz.Ip,interaction:!0,properties:{page:pt.jy,identifier:r.providerMetricsIdentifier,action:ss.wP,origin:l}})}),[r,l]),C=r.sourceType===fT.lz,w=f||S,Z=r.isPinned&&!w,T=!1===r.isLocal&&!1===r.isCloud&&!1===r.isUnavailable,N=r.directoryIcon?g.createElement("img",{className:"SourceSidebarItem-iconImg-3JkcZ2",src:r.directoryIcon}):g.createElement(RKe,{sourceType:r.sourceType});return g.createElement(g.Fragment,null,g.createElement(Gdt,ypt(ypt({},M),{className:"SourceSidebarItem-button-3JdHac SourceSidebarLink-button-1mtWw3 SidebarLink-sidebarLink-3mZvPo Link-default-1mYhCE",size:s?a:Rp.HC,isActiveClassName:"SourceSidebarItem-isActive-g82InD SourceSidebarLink-isActive-1EXSwB",isSelectedClassName:"SourceSidebarItem-isSelected-17i-oh SourceSidebarLink-isSelected-7ttE4w",isActive:f,isDim:r.isUnavailable||r.isOutOfDate||C,isSelected:p===r.machineIdentifier&&m===r.providerIdentifier&&y===r.directoryID,to:C?null:(0,Zr.Z)(r.isCloud,r.machineIdentifier,r.providerIdentifier,{source:r.directoryID}),icon:g.createElement(Wut,{icon:N,showBadgedIcon:o,isRemote:T,isUnavailable:r.isUnavailable||C,isOutOfDate:r.isOutOfDate,isUnclaimed:r.isUnclaimedServer&&i&&!i[r.machineIdentifier]}),title:r.title,detail:s?r.titleDetail:void 0,onNavigate:D}),g.createElement("span",{className:"SourceSidebarItem-actionContainer-1hLqJz"},Z?g.createElement(dpt,{className:"SourceSidebarItem-pinnedIcon-3u0m0h"}):null,g.createElement(Lx.Z,{className:w?"SourceSidebarItem-overflowButton-2OZJwQ":"SourceSidebarItem-hiddenOverflowButton-2O2YM2","data-qa-id":"sidebarSourceOverflow",id:v,iconComponent:qm.Z,title:(0,Ce.Z)("Actions"),onPress:E}))),g.createElement(cO,{serverEntityID:t,providerEntityID:n,source:r,target:v,menuOptions:vpt,isReorderable:c,isOverflowMenuOpen:f,onOverflowMenuClose:P,onReorderPinSources:u}))}fpt.defaultProps={showDetail:!0,showIcons:!0};const bpt=fpt;var Ipt=Object.defineProperty,Spt=Object.prototype.hasOwnProperty,Mpt=Object.getOwnPropertySymbols,Ept=Object.prototype.propertyIsEnumerable,Ppt=(e,t,n)=>t in e?Ipt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Dpt=(e,t)=>{for(var n in t||(t={}))Spt.call(t,n)&&Ppt(e,n,t[n]);if(Mpt)for(var n of Mpt(t))Ept.call(t,n)&&Ppt(e,n,t[n]);return e};const Cpt=(0,v.$j)((function(){return(0,fe.P1)((0,fe.P1)(((e,{providerEntityIDs:t})=>t),Cn.Z,((e,t)=>e.map((e=>t[e])))),(0,LT.Z)(),lpt,((e,t,n)=>{const r=e.reduce(((e,r)=>{const i=(0,sc.Z)(r);return JYe({sourceServer:t,sourceProvider:r,directories:i&&i.directories}).forEach((t=>{e.push(Dpt(Dpt({},t),{isPinned:!!n[t.key]}))})),e}),[]);return r.sort(((e,t)=>e.title.localeCompare(t.title))),{sources:r}}))}),(function(e,t){return{}}))((function(e){const{sources:t,onToggleLockedPress:n}=e;return g.createElement(g.Fragment,null,t.map((e=>g.createElement(bpt,{key:e.key,serverEntityID:e.serverEntityID,providerEntityID:e.providerEntityID,source:e,metricsOrigin:"moreSidebar",showDetail:!1,showIcons:!1,onToggleLockedPress:n}))))}));var wpt=Object.defineProperty,Zpt=Object.prototype.hasOwnProperty,Tpt=Object.getOwnPropertySymbols,Npt=Object.prototype.propertyIsEnumerable,Opt=(e,t,n)=>t in e?wpt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;function Apt(e){const t=e,{showTitle:n,showUnclaimed:r,isAllSources:i}=t,a=((e,t)=>{var n={};for(var r in e)Zpt.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&Tpt)for(var r of Tpt(e))t.indexOf(r)<0&&Npt.call(e,r)&&(n[r]=e[r]);return n})(t,["showTitle","showUnclaimed","isAllSources"]);return g.createElement(pw.Z,((e,t)=>{for(var n in t||(t={}))Zpt.call(t,n)&&Opt(e,n,t[n]);if(Tpt)for(var n of Tpt(t))Npt.call(t,n)&&Opt(e,n,t[n]);return e})({className:Te()("SourcesToggleButton-link-3Yuz0j",i?"SourcesToggleButton-bottomBorder-2UI0Rk":"SourcesToggleButton-topBorder-3Tixcu"),"data-qa-id":"sidebarMore"},a),i?g.createElement(g.Fragment,null,g.createElement(kg,{className:"SourcesToggleButton-pinnedIcon-1X7xs5 SourcesToggleButton-icon-36D3p0"}),n?(0,Ce.Z)("Pinned"):null):g.createElement(g.Fragment,null,n?g.createElement(g.Fragment,null,r?g.createElement("img",{className:"SourcesToggleButton-unclaimedImage-GKR_cx",src:But,"aria-label":(0,Ce.Z)("Unclaimed")}):null,(0,Ce.Z)("More")):null,g.createElement(jg,{className:"SourcesToggleButton-icon-36D3p0"})))}Apt.defaultProps={showTitle:!0};const xpt=Apt,jpt=(0,fe.P1)(jme.Z,(e=>({providers:e.providers,isPending:e.isProvidersPending,isPopulated:e.isProvidersPopulated,providersError:e.providersError}))),Lpt=(0,v.$j)((function(){return(0,fe.P1)(kVe,jpt,(e=>e.cloudServer),xdt.Z,((e,t,n,r)=>({servers:e,cloudProviders:t,cloudServerEntityID:n,dismissedUnclaimedServers:r})))}),(function(e,t){return{}}))((function(e){const{isExpanded:t,servers:n,cloudProviders:r,cloudServerEntityID:i,dismissedUnclaimedServers:a,showServerDownloadMessage:s,onToggleAllSourcesPress:o,onToggleLockedPress:l}=e,{machineIdentifier:c,providerIdentifier:d}=MK(),u=(0,De.Z)(),p=(0,f.$B)({path:SK.Z.prePlay,exact:!0});return g.createElement(g.Fragment,null,g.createElement(Dut,null,g.createElement(xpt,{isAllSources:!0,showTitle:t,onPress:o})),g.createElement(Aut,null,g.createElement("div",{className:"AllSourcesSidebarContent-container-3w3jdB"},n.map((e=>{const t=c===e.machineIdentifier&&d===Fo.Y3&&!u.source&&!p;return g.createElement("div",{key:e.machineIdentifier,className:"AllSourcesSidebarContent-serverContainer-99lqaG"},g.createElement(apt,{serverEntityID:e.entityID,machineIdentifier:e.machineIdentifier,title:MT(e),detail:ST(e),iconNode:g.createElement(Vut,{serverEntityID:e.entityID}),isPending:e.isPending,isRemote:!e.isPrivateConnection&&!e.isUnavailable,isUnavailable:e.isUnavailable,isOutOfDate:e.isOutOfDate,isUnclaimed:e.isConnected&&!e.isClaimed&&!a[e.machineIdentifier],to:(0,hI.Z)(e,{identifier:Fo.Y3},null,{key:yT.D,pageType:gT.km}),isSelected:t,hasServerActions:e.isFullOwnedServer&&e.isConnected&&!e.isOutOfDate,onToggleLockedPress:l}),g.createElement(Cpt,{serverEntityID:e.entityID,providerEntityIDs:e.providers,onToggleLockedPress:l}))})),r.providers.length?g.createElement(g.Fragment,null,g.createElement(apt,{title:(0,Ce.Z)("Plex"),iconNode:g.createElement("img",{className:"AllSourcesSidebarContent-iconImg-3TK0MY",src:FK}),isPending:r.isPending,isUnavailable:r.providersError}),g.createElement(Cpt,{serverEntityID:i,providerEntityIDs:r.providers,onToggleLockedPress:l})):null,s?g.createElement("div",{className:"AllSourcesSidebarContent-extrasContainer-2h8baR"},g.createElement(opt,null)):null)))})),kpt=(0,fe.P1)(kVe,xdt.Z,((e,t)=>({showUnclaimed:e.some((e=>e.isConnected&&!e.isClaimed&&!t[e.machineIdentifier]))}))),Rpt=(0,v.$j)(kpt,(function(e,t){return{}}))(xpt),zpt="#!/get-plex-media-server",Upt=function(e){const{size:t}=e;return g.createElement(Gdt,{size:t,to:zpt,isSelected:spt(zpt),icon:g.createElement(hP.Z,null),title:(0,Ce.Z)("Your Media")})},Vpt=(0,v.$j)((function(){return(0,fe.P1)(Wz.Z,Z4.Z,((e,t)=>({route:dO(e.downloads),isUnavailable:!t||t.isUnavailable})))}),(function(e,t){return{}}))((function(e){const{size:t,route:n,isUnavailable:r}=e,i=!!(0,f.$B)({path:SK.Z.downloads,exact:!0});return g.createElement(Gdt,{size:t,to:n,isSelected:i,icon:g.createElement(Wut,{icon:g.createElement(yut,null),isUnavailable:r}),title:(0,Ce.Z)("Downloads"),isDim:r})})),Bpt=function(e){const{size:t}=e,n=(0,f.$B)({path:SK.Z.home,exact:!0});return g.createElement(Gdt,{linkClassName:"HomeSourceLink-sourceLink-25rvLd SourceSidebarLink-sourceLink-OvtBFr",size:t,"data-qa-id":"sidebarHome",to:"#",icon:g.createElement(fut,null),title:(0,Ce.Z)("Home"),isSelected:!!n})};class Fpt extends g.Component{shouldComponentUpdate(e,t){return(0,At.Z)(this,e,t)}render(){const{sources:e,hasSourceDetail:t,hasDownloadsSource:n,dismissedUnclaimedServers:r,isExpanded:i,hasNoProviders:a,isMoreMenuRequired:s,showServerDownloadMessage:o,onToggleAllSourcesPress:l,onToggleLockedPress:c,onReorderPinSources:d}=this.props,u=t?void 0:Rp.HC;return g.createElement(Aut,null,g.createElement("div",{className:i?"SourceSidebarContent-expandedSidebarContent-3xuQnU":void 0},g.createElement(Bpt,{size:u}),e.length?e.map((e=>g.createElement(bpt,{key:e.key,serverEntityID:e.serverEntityID,providerEntityID:e.providerEntityID,source:e,dismissedUnclaimedServers:r,size:u,isReorderable:!0,onToggleLockedPress:c,onReorderPinSources:d}))):g.createElement("div",{className:"SourceSidebarContent-zeroState-1xuszU"},(0,Ce.Z)("Your favorite sources will appear here. Any source in the MORE menu below can be saved here for quick access.")),o?g.createElement(Upt,{size:u}):null,n?g.createElement(Vpt,{size:u}):null,i&&s&&!a?g.createElement(Rpt,{isAllSources:!1,onPress:l}):null))}}const _pt=Fpt,Hpt="SourceSidebar-pane-3A8XLL";var Qpt,Gpt;(Gpt=Qpt||(Qpt={})).Left="left",Gpt.Right="right";const Wpt=(0,Bd.Z)(Ps.Z.defaultSpeed),Ypt={opacity:{duration:Wpt},x:{duration:Wpt,ease:"easeInOut"}},Kpt={appear:e=>({opacity:0,scale:1,x:e===Qpt.Left?"100%":"-100%",transition:Ypt}),enter:{opacity:1,scale:1,x:"0%",transition:Ypt},exit:e=>({opacity:0,scale:1,x:e===Qpt.Left?"100%":"-100%",transition:Ypt})};function qpt(e,t){return t?e?"SourceSidebar-expandedSidebar-2nQ2kA SourceSidebar-sidebar-3JchBT":"SourceSidebar-collapsedSidebar-2U6H_u SourceSidebar-sidebar-3JchBT":"SourceSidebar-openSidebar-1KW2H8 SourceSidebar-sidebar-3JchBT"}class $pt extends g.Component{constructor(e,t){super(e,t),this.onMouseEnter=()=>{this.props.isSidebarCollapsed&&(this.resetExpandTimeout(),this.setState({isMouseOver:!0}))},this.onMouseLeave=()=>{this.clearSetExpandedTimeout(),this.setState((e=>({isExpanded:!!e.isLocked&&e.isExpanded,isMouseOver:!1})))},this.onMouseMove=()=>{this.props.isSidebarCollapsed&&!this.state.isLocked&&this.resetExpandTimeout()},this.onToggleAllSourcesPress=()=>{const e=!this.props.isSidebarAllSources;this.props.onToggleAllSourcesSidebar(e)},this.onToggleLockedPress=e=>{this.setState((t=>{const n=null!=e?e:!t.isLocked;return{isLocked:n,isExpanded:!(!t.isMouseOver&&!n)&&t.isExpanded}}))},this.onReorderPinSources=()=>{this.setState({isReordering:!0,isLocked:!0})},this.onCloseReorderPinSources=()=>{this.setState({isReordering:!1,isLocked:!1})},this.state={isMouseOver:!1,isLocked:!1,isExpanded:!1,isSidebarCollapsed:e.isSidebarCollapsed,isAllSources:!1,isReordering:!1}}static getDerivedStateFromProps(e,t){return t.isSidebarCollapsed!==e.isSidebarCollapsed?{isSidebarCollapsed:e.isSidebarCollapsed}:null}componentWillUnmount(){this.clearSetExpandedTimeout()}clearSetExpandedTimeout(){this._setExpandedTimeoutID&&(window.clearTimeout(this._setExpandedTimeoutID),this._setExpandedTimeoutID=null)}resetExpandTimeout(){this.clearSetExpandedTimeout(),this._setExpandedTimeoutID=window.setTimeout((()=>this.setState({isExpanded:!0})),250)}render(){const{sources:e,hasSourceDetail:t,hasDownloadsSource:n,hasDismissedServerDownloadMessage:r,shouldShowServerDownloadMessage:i,dismissedUnclaimedServers:a,isPending:s,hasNoProviders:o,isMoreMenuRequired:l,isSidebarCollapsed:c,isSidebarAllSources:d}=this.props,{isExpanded:u,isReordering:p}=this.state,m=!c||u||p;return s?g.createElement(kdt,{isSidebarCollapsed:c},g.createElement(Mx.Z,null)):g.createElement(g.Fragment,null,c?g.createElement("div",{className:"SourceSidebar-sidebarUnderlay-1UOMAB"}):null,g.createElement("div",{className:qpt(u||p,c),onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave,onMouseMove:this.onMouseMove},p?g.createElement("div",{className:Hpt},g.createElement(Rut,{sources:e,hasDownloadsSource:n,onCloseReorderPinSources:this.onCloseReorderPinSources})):g.createElement(Ud.M_,{initial:!1},g.createElement(Ud.ww.div,{key:d?Qpt.Right:Qpt.Left,initial:"appear",animate:"enter",exit:"exit",variants:Kpt,custom:d?Qpt.Right:Qpt.Left,className:Hpt},d?g.createElement(Lpt,{isExpanded:m,showServerDownloadMessage:i,onToggleAllSourcesPress:this.onToggleAllSourcesPress,onToggleLockedPress:this.onToggleLockedPress}):g.createElement(_pt,{sources:e,isExpanded:m,hasSourceDetail:t,hasDownloadsSource:n,showServerDownloadMessage:i&&!r,dismissedUnclaimedServers:a,hasNoProviders:o,isMoreMenuRequired:l,onToggleAllSourcesPress:this.onToggleAllSourcesPress,onToggleLockedPress:this.onToggleLockedPress,onReorderPinSources:this.onReorderPinSources})))))}}const Jpt=$pt;var Xpt=Object.defineProperty,emt=Object.prototype.hasOwnProperty,tmt=Object.getOwnPropertySymbols,nmt=Object.prototype.propertyIsEnumerable,rmt=(e,t,n)=>t in e?Xpt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,imt=(e,t)=>{for(var n in t||(t={}))emt.call(t,n)&&rmt(e,n,t[n]);if(tmt)for(var n of tmt(t))nmt.call(t,n)&&rmt(e,n,t[n]);return e};const amt={dispatchSaveExperienceSettings:AM.LN,dispatchSetupSources:oN.E8,dispatchStartFirstRunExperience:oN.mo},smt=(0,v.$j)((function(){return(0,fe.P1)(Xt.Z,tFe,Adt,(0,fe.P1)(Ie,eFe,((e,t)=>t.reduce(((t,n)=>{const r=(0,sc.Z)(n),i=JYe({sourceServer:e,sourceProvider:n,directories:r&&r.directories});return t.push(...i),t}),[]))),XBe(),xdt.Z,nGe,Ldt,na.Z,Odt,(0,fe.P1)(LRe.Z,XBe(),Ndt,((e,t,n)=>{if(!n)return!1;for(let n=0;n<e.length;n++){const{server:r,provider:i}=e[n];if(!r.isCloud&&r.friendlyName&&!r.isUnauthorized&&!r.isPending)return!0;if(r.isEmbedded)continue;if(!i)continue;const a=(0,sc.Z)(i);if(!a)continue;const{directories:s}=a;if(!t.find((e=>s.find((t=>t.id===e.directoryID))&&e.providerIdentifier===i.identifier)))return!0}return!1})),((e,t,n,r,i,a,s,o,l,c,d)=>{const{isSidebarCollapsed:u,isSidebarAllSources:p,sidebarSettings:{hasCompletedSetup:m}}=l;return{isAnonymousUser:e,hasInitialSources:t,hasPreferredEligibleServers:n,dismissedUnclaimedServers:a,defaultSources:r,sources:i,hasSourceDetail:i.some((e=>!!e.titleDetail)),hasDownloadsSource:ae.Z.allowSyncDownload,hasDismissedServerDownloadMessage:s,shouldShowServerDownloadMessage:o,hasCompletedSetup:m,isSidebarCollapsed:u,isSidebarAllSources:p,hasNoProviders:c,isMoreMenuRequired:d}}))}),amt)((function(e){const t=e,{isAnonymousUser:n,hasPreferredEligibleServers:r,hasInitialSources:i,hasCompletedSetup:a,defaultSources:s,dispatchSaveExperienceSettings:o,dispatchStartFirstRunExperience:l,dispatchSetupSources:c}=t,d=((e,t)=>{var n={};for(var r in e)emt.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&tmt)for(var r of tmt(e))t.indexOf(r)<0&&nmt.call(e,r)&&(n[r]=e[r]);return n})(t,["isAnonymousUser","hasPreferredEligibleServers","hasInitialSources","hasCompletedSetup","defaultSources","dispatchSaveExperienceSettings","dispatchStartFirstRunExperience","dispatchSetupSources"]),[u,p]=(0,g.useState)(!1);(0,g.useEffect)((()=>{n||!r||a||u?i&&!a&&c({sources:s}):(p(!0),l())}),[l,c,n,r,a,i,s,u,p]);const m=(0,g.useCallback)((e=>{o({isSidebarAllSources:e})}),[o]);return g.createElement(i0.Z,{page:pt.jy,isDelegated:!0},g.createElement(Jpt,imt(imt({},d),{isPending:!a,onToggleAllSourcesSidebar:m})))}));class omt extends g.Component{static getDerivedStateFromError(){return{hasError:!0}}constructor(e){super(e),this.state={hasError:!1}}componentDidCatch(e){M.Z.error(e)}render(){return this.state.hasError?g.createElement(Rdt,null):g.createElement(smt,null)}}const lmt=omt;var cmt=Object.create,dmt=Object.defineProperty,umt=Object.getPrototypeOf,pmt=Object.prototype.hasOwnProperty,mmt=Object.getOwnPropertyNames,hmt=Object.getOwnPropertyDescriptor,gmt=e=>{return((e,t,n)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let r of mmt(t))pmt.call(e,r)||"default"===r||dmt(e,r,{get:()=>t[r],enumerable:!(n=hmt(t,r))||n.enumerable});return e})((t=dmt(null!=e?cmt(umt(e)):{},"default",e&&e.__esModule&&"default"in e?{get:()=>e.default,enumerable:!0}:{value:e,enumerable:!0}),dmt(t,"__esModule",{value:!0})),e);var t};const ymt=g.lazy((()=>Promise.resolve().then((()=>gmt(n(87067)))))),vmt=g.lazy((()=>Promise.resolve().then((()=>gmt(n(48927)))))),fmt="scroll-container dark-scrollbar",bmt=(0,fe.P1)(ct,(e=>e.hasAttemptedSignIn)),Imt=(0,fe.P1)(Ie,(e=>e.isUnavailable));function Smt(){!function(){const e=(0,v.I0)(),t=(0,f.k6)();(0,g.useEffect)((()=>(e((0,mt.xM)({location:{pathname:t.location.pathname,search:t.location.search}})),t.listen((t=>{e((0,mt.xM)({location:{pathname:t.pathname,search:t.search}}))})))),[e,t])}();const e=(0,v.v9)(Imt),t=(0,v.v9)(bmt),n=(0,v.v9)(dt)===ut.Ik.Locked,r=(t||e)&&!n,i=(0,De.Z)(),a=(0,Me.Z)(i.legacy);return g.createElement(g.Fragment,null,n?null:g.createElement(qt,null),g.createElement(f.rs,null,g.createElement(f.AW,{exact:!0,path:SK.Z.firstRunExperience},g.createElement("div",{className:fmt},g.createElement(WAe,null,g.createElement(Eqe,null)))),g.createElement(f.AW,{exact:!0,path:SK.Z.serverSetup,component:Ije}),g.createElement(f.AW,{exact:!0,path:SK.Z.watchNow},g.createElement(WAe,null,g.createElement(zAe,null,g.createElement(rUe,null)))),g.createElement(f.AW,null,g.createElement("div",null,g.createElement(JQe,null)),g.createElement("div",{className:fmt},g.createElement(f.rs,null,g.createElement(f.AW,{exact:!0,path:SK.Z.logout},g.createElement(WAe,null,g.createElement(FJe,null))),g.createElement(f.AW,{exact:!0,path:SK.Z.login},g.createElement(WAe,null,g.createElement(tGe,null))),g.createElement(f.AW,{exact:!0,path:SK.Z.signUp},g.createElement(WAe,null,g.createElement(jxe,{signUp:!0}))),g.createElement(f.AW,{exact:!0,path:SK.Z.announcements},g.createElement(WAe,null,g.createElement(zAe,null,g.createElement($Je,null)))),g.createElement(f.AW,{exact:!0,path:SK.Z.info},g.createElement(hEe,{key:"InfoView",view:NVe})),g.createElement(f.AW,{exact:!0,path:SK.Z.logs},g.createElement(hEe,{key:"LogsView",view:xVe})),g.createElement(f.l_,{exact:!0,from:SK.Z.serverSettingsPMS,to:(0,f.Gn)(SK.Z.serverSettings,{machineIdentifier:":machineIdentifier",settingsSection:"settings",settingsGroup:"general"})}),g.createElement(f.AW,{exact:!0,path:SK.Z.serverSettingsStatusSync,component:UAe}),g.createElement(f.AW,{exact:!0,path:SK.Z.serverSettings,component:VAe}),g.createElement(f.l_,{exact:!0,from:SK.Z.accountPlexTv,to:SK.Z.account}),g.createElement(f.AW,{exact:!0,path:SK.Z.account},g.createElement(zJe,{component:LYe,selectedKey:"account"})),g.createElement(f.AW,{exact:!0,path:SK.Z.webhooks},g.createElement(zJe,{component:i1e,selectedKey:"webhooks"})),g.createElement(f.AW,{exact:!0,path:SK.Z.usersSharing},g.createElement(zJe,{component:j0e,selectedKey:"users-sharing"})),g.createElement(f.AW,{exact:!0,path:SK.Z.userSharingSettings},g.createElement(zJe,{component:xze,selectedKey:"users-sharing"})),g.createElement(f.AW,{exact:!0,path:SK.Z.onlineMediaSources},g.createElement(zJe,{component:$qe,selectedKey:"online-media-sources"})),g.createElement(f.AW,{exact:!0,path:SK.Z.webSettings},g.createElement(Pe,null,g.createElement(zAe,null,g.createElement(CVe,null)))),g.createElement(f.AW,{exact:!0,path:SK.Z.devices},g.createElement(zJe,{component:RJe,selectedKey:"devices"})),g.createElement(f.AW,null,g.createElement(WAe,null,g.createElement(zAe,null,g.createElement(lmt,null),g.createElement(f.rs,null,ae.Z.allowSyncDownload?g.createElement(f.AW,{exact:!0,path:SK.Z.downloads},g.createElement(rt,null,g.createElement(g.Suspense,{fallback:g.createElement(Ye,null,g.createElement(lt,null))},g.createElement(ymt,null)))):null,g.createElement(f.AW,{exact:!0,path:SK.Z.home,component:x$}),g.createElement(f.AW,{exact:!0,path:SK.Z.mediaGuideV3,component:GYe}),g.createElement(f.AW,{exact:!0,path:SK.Z.mediaTimelineV3,component:_Je}),g.createElement(f.AW,{exact:!0,path:SK.Z.media,component:UK}),g.createElement(f.AW,{exact:!0,path:SK.Z.playHistory,component:aX}),g.createElement(f.AW,{exact:!0,path:SK.Z.playlist,component:w9}),g.createElement(f.AW,{exact:!0,path:SK.Z.prePlay,component:a?t$e:qie}),g.createElement(f.AW,{exact:!0,path:SK.Z.providerSettings,component:Foe}),g.createElement(f.AW,{exact:!0,path:SK.Z.search},g.createElement(d$e,null,g.createElement(DJe,null))),g.createElement(f.AW,{exact:!0,path:SK.Z.serverDownloadMessage,component:aGe}),g.createElement(f.AW,{exact:!0,path:SK.Z.serverUpdate,component:Cje}),g.createElement(f.AW,{exact:!0,path:SK.Z.transientPrePlay,component:Zje}),g.createElement(f.AW,{component:eV.Z})))),(se.Z.hasServiceWorker,null)))))),n?g.createElement(Nje,null):null,r?g.createElement(g.Fragment,null,g.createElement(sX,null,g.createElement(xot,{component:Pot,playerType:Se.Se})),g.createElement(sX,null,g.createElement(xot,{component:Nct,playerType:Se.pV})),g.createElement(sX,null,g.createElement(xot,{isGame:!0,component:wdt,playerType:Se.eD}))):null,ae.Z.allowSyncDownload?g.createElement(g.Suspense,{fallback:null},g.createElement(vmt,null)):null)}var Mmt=n(16013);const Emt=function(){if(!se.Z.hasReplaceState)return h().Deferred().resolve().promise();const e=h().Deferred(),t=window.location,n=qi.Z.parseQueryString(t.search);let r;try{r=JSON.parse(n.alerts),delete n.alerts}catch(e){}if(r){Mmt.Z.push(...r);const e=`${E.Z.join([`${t.origin}${t.pathname}`],n)}${t.hash}`;window.history.replaceState({},"",e)}return e.resolve().promise()};function Pmt(e){return S().isString(e)&&e.trim().length>0}function Dmt(e,t){const n=(0,$me.Z)();return(0,M.Z)("[appModelInitializer] Generating new %s [%s]",t,n),e.set(t,n),YAe.Z.set(t,n)}function Cmt(e,t){let n;const r=e.get(t);return Pmt(r)?n=YAe.Z.set(t,r):(n=YAe.Z.get(t),n=n.then((n=>{if(!Pmt(n))return M.Z.error("[appModelInitializer] Invalid %s found in storage [%s]",t,r),Dmt(e,t);e.set(t,n)}),(()=>((0,M.Z)("[appModelInitializer] Failed to read %s from storage",t),Dmt(e,t))))),n}function wmt(){const e=(0,b.DB)("appModel");return(0,Uxe.Z)(Cmt(e,"clientID"),Cmt(e,"anonymousClientID"),function(e){const t=YAe.Z.get("skipSignIn");return t.always((t=>{e.set("skipSignIn","1"===t)})),t}(e))}const Zmt=oe.Z.extend({lastModified:null,eTag:null,mixins:ce.Z,url:function(){const e=b.DB("appModel"),t=e.get("user"),n="/sub/"+this.requestType+"/"+t.id+"/"+e.get("clientID"),r=new aPe.Z({scheme:"websockets"===this.requestType?"wss":"https",address:"pubsub.plex.tv"});return this.server.resolveUrl(n,{connection:r,appendToken:!0})},initialize:function(e){S().bindAll(this,"onSocketOpen","onSocketClose","onSocketError","onSocketMessage","onPingTimeout","onPollSuccess","onPollError"),this.server=e.server},open:function(){return(this.socket||this.pollRequest)&&this.close(),se.Z.hasWebSocket?(this._deferred=h().Deferred(),this.requestType="websockets",this.socket=new window.WebSocket(S().result(this,"url")),this.socket.onopen=this.onSocketOpen,this.socket.onclose=this.onSocketClose,this.socket.onerror=this.onSocketError,this.socket.onmessage=this.onSocketMessage,this._deferred.promise()):this.poll()},close:function(){this.pollRequest&&(N.Z.abort(this.pollRequest.rid),this.pollRequest=null),this._deferred&&"pending"===this._deferred.state()&&this._deferred.reject(),this.socket&&(this.cancelPing(),this.socket.onopen=null,this.socket.onclose=null,this.socket.onerror=null,this.socket.onmessage=null,this.socket.close(),this.socket=null)},schedulePing:function(){this.cancelPing(),this._pingTimeoutID=window.setTimeout(this.onPingTimeout,3e4)},cancelPing:function(){this._pingTimeoutID&&(window.clearTimeout(this._pingTimeoutID),this._pingTimeoutID=null)},poll:function(){this.requestType="longpolling",this.pollUrl=E.Z.join(S().result(this,"url"),{ttl:String(30)+"s"});const e=this.server.getXHROptions(this.pollUrl,{timeout:35e3});return e.headers["If-Modified-Since"]=this.lastModified?this.lastModified:"Thu, 01 Jan 1970 00:00:00 GMT",this.eTag&&(e.headers["If-None-Match"]=this.eTag),this.pollRequest=h().ajax(e).done(this.onPollSuccess).fail(this.onPollError),this.pollRequest.promise()},handleResponse:function(e){if(!e)return;const t=Hoe.Z.parseXML(e);if(S().isObject(t)){const e=t.command;le.Z.trigger(`cloudServer:${e}`,t)}},onSocketOpen:function(e){this.server.set("hasEventConnection",!0),this.trigger("open",this.server,e),this._deferred.resolve(this.server,e),this.schedulePing()},onSocketClose:function(e){this.close(),this.server.set("hasEventConnection",!1),this.trigger("close",this.server,e),this._deferred.reject(this.server,e)},onSocketError:function(e){this.close(),this.trigger("error",this.server,e),this._deferred.reject(this.server,e)},onSocketMessage:function(e){this.handleResponse(e.data)},onPingTimeout:function(){this._pingTimeoutID=null,this.socket.send("hello"),this.schedulePing()},onPollSuccess:function(e,t,n){this.trigger("open",this.server,e),this.lastModified=n.getResponseHeader("Last-Modified"),this.eTag=n.getResponseHeader("ETag"),this.handleResponse(e),this.poll()},onPollError:function(e,t){"abort"===t?this.poll():this.pollRequest.aborting||this.trigger("error",this.server,e)}}),Tmt=gEe.extend({supportsRetry:e=>e.get("isCloud")});function Nmt(e){return e.get("isCloud")}const Omt=function(e){return(0,b.DB)("serverConnectionTestManager").queueConnectionTest(e)},Amt=function(e){return(0,b.DB)("serverConnectionTestManager").abortConnectionTest(e)},xmt=function(e){const{server:t,connection:n}=e;if(t.id)return h().Deferred().resolve(t.id).promise();const r=t.resolveUrl("/identity",{connection:n}),i=S().extend(t.getXHROptions(r),{timeout:t.connectionTestTimeout});(0,M.Z)(`[Identity] Requesting the machine identifier of ${t.get("debugName")} at ${r}`);let a=h().ajax(i).promise();return a=a.then((e=>{const n=h().Deferred(),r=qi.Z.parseXML(e),i=r&&r.machineIdentifier;return i?((0,M.Z)(`[Identity] Machine identifier found for ${t.get("debugName")}: ${i}`),!t.collection||t.collection.get(i)?n.resolve(i):(t.collection.populateServer({isCloud:!0}).done((e=>{e.get("resources").populate().always((()=>{n.resolve(i)}))})),t.collection.findServer({isCloud:!0}).done((e=>{e.populate().fail((()=>{n.resolve(i)}))})).fail((()=>{n.resolve(i)})))):n.reject(),n.promise()})),a.fail((()=>{M.Z.warn(`[Identity] Machine identifier not found for ${t.get("debugName")} at ${r}`)})),a};var jmt=n(35424);const Lmt=function(e){var t,n;return e.item?n=[t=e.item]:(n=e.items,t=n[0]),h().when.apply(h(),S().map(n,(function(e){var n="/library/metadata/"+e.id+"/refresh",r=S().extend(t.server.getXHROptions(n),{type:"PUT"});return h().ajax(r).promise()}))).fail((function(e){503===e.status?le.Z.trigger("show:modal",new jmt.Z({model:t.server})):le.Z.trigger("show:alert",{type:"error",message:(0,Ce.Z)("There was a problem refreshing.")})}))},kmt=function(e){var t=e.items;return h().when.apply(h(),S().map(t,(function(e){var t="/library/metadata/"+e.id+"/analyze",n=S().extend(e.server.getXHROptions(t),{type:"PUT"});return h().ajax(n).promise()})))},Rmt=function(e){var t=h().Deferred(),n=e.section,r="/library/sections/"+n.id+"/analyze",i=S().extend(n.server.getXHROptions(r),{type:"PUT"}),a=new xle.Z({title:(0,Ce.Z)("Analyze Library"),message:(0,Ce.Z)("Analyzes all the media files in the library. The analysis captures information about the media which helps Plex decide how to optimally play back the media."),confirmLabel:(0,Ce.Z)("Analyze"),cancelLabel:(0,Ce.Z)("Cancel"),async:!0}),s=a.promise;return s.done((function(){var e=h().ajax(i);e.done((function(){t.resolve()})),e.fail((function(e){le.Z.trigger("show:alert",{type:"error",message:(0,Ce.Z)("There was a problem analyzing the library.")}),t.reject(e)})),e.always((function(e){a.hide()}))})),s.fail((function(){t.reject()})),le.Z.trigger("show:modal",a),t.promise()},zmt=function(e){var t=e.item,n="/library/metadata/"+t.id+"/unmatch",r=S().extend(t.server.getXHROptions(n),{type:"PUT"}),i=h().ajax(r);return i.fail((function(){le.Z.trigger("show:alert",{type:"error",message:(0,Ce.Z)("There was a problem unmatching this item.")})})),i.promise()},Umt=function(e){var t=h().Deferred(),n=e.item,r="/library/metadata/"+n.id+"/split",i=new xle.Z({title:(0,Ce.Z)("Split Apart"),message:(0,Ce.Z)("Are you sure you want to split this item apart?"),async:!0}),a=i.promise;return a.done((function(){var a=S().extend(n.server.getXHROptions(r),{type:"PUT"}),s=h().ajax(a);s.done((function(){var r,i=n.get("type");r="show"===i||"artist"===i||"album"===i?"Location":"Media",n.set(r,n.get(r).slice(0,1)),e.skipNavigate||(0,b.DB)("appStore").dispatch((0,Wn.n)()),t.resolve()})),s.fail((function(e){le.Z.trigger("show:alert",{type:"error",message:(0,Ce.Z)("There was a problem splitting this item apart.")}),t.reject(e)})),s.always((function(e){i.hide()}))})),a.fail((function(){t.reject()})),le.Z.trigger("show:modal",i),t.promise()},Vmt=function(e){var t=h().Deferred(),n=e.item,r=S().pluck(e.items,"id").join(","),i="/library/metadata/"+n.id+"/merge?ids="+r,a=S().extend(n.server.getXHROptions(i),{type:"PUT"}),s=new xle.Z({title:(0,Ce.Z)("Merge"),message:(0,Ce.Z)("Are you sure you want to merge these items together?"),async:!0}),o=s.promise;return o.done((function(){var e=h().ajax(a);e.done((function(){t.resolve()})),e.fail((function(e){le.Z.trigger("show:alert",{type:"error",message:(0,Ce.Z)("There was a problem merging these items.")}),t.reject(e)})),e.always((function(e){s.hide()}))})),o.fail((function(){t.reject()})),le.Z.trigger("show:modal",s),t.promise()};function Bmt(e,t){return S().map(e,(function(e){return vle.Z.execute("deleteItem",{item:e,skipRedirect:t})}))}const Fmt=function(e){var t=e.items,n=e.item,r=e.skipConfirmation,i=e.skipRedirect;t||(t=[n]),n||(n=S().first(t));var a,s=n.get("Media");if(1===t.length&&s.length>1&&!n.get("remoteMedia")&&n.server.supports("specificMediaDeletion"))return vle.Z.execute("deleteMediaItem",{item:n});if(r)a=h().when.apply(h(),Bmt(t,i));else{var o=function(e){var t,n,r=e.item,i=e.items,a=i.length>1,s=r.get("remoteMedia"),o=r.get("type"),l=Ac.getMetadataType(o);s&&!a?(t=l.title,n=(0,Ce.Z)("Are you sure you want to remove {1}?",r.get("title"))):a&&i.every((e=>e.get("remoteMedia")))?(t=l.plural,n=(0,Ce.Z)("Are you sure you want to remove {1} items?",i.length)):o===Ac.COLLECTION?(t=l.title,n=(0,Ce.Z)("Are you sure you want to delete {1}? This cannot be undone.",r.get("title"))):a?(t=l.plural,n=(0,Ce.Z)("Are you sure you want to delete {1} items from your filesystem?",i.length)):(t=l.title,n=(0,Ce.Z)("Are you sure you want to delete this item from your filesystem?"));var c={title:s?(0,Ce.Z)("Remove {typeLabel}",{typeLabel:t}):(0,Ce.Z)("Delete {typeLabel}",{typeLabel:t}),message:n,confirmLabel:s?(0,Ce.Z)("Remove"):(0,Ce.Z)("Delete"),cancelLabel:(0,Ce.Z)("Cancel"),async:!0,hasDanger:!0};(a||Ac.isParentType(o))&&(c.requireDoubleConfirm=!0,c.doubleConfirmMessage=s?(0,Ce.Z)("Multiple files may be removed."):(0,Ce.Z)("Multiple items may be deleted."),c.doubleConfirmLabel=(0,Ce.Z)("Yes, I'm sure"));var d=new xle.Z(c);return le.Z.trigger("show:modal",d),d}({item:n,items:t});a=o.promise.then((function(){return h().when.apply(h(),Bmt(t,i)).always((function(){o.hide()}))}))}return a};var _mt=n(38892),Hmt=n(83278),Qmt=n.n(Hmt);const Gmt=_mt.Z.extend({name:"SelectMediaFileModal",template:Qmt(),serializeData:function(){return{medias:this.model.get("Media")}}}),Wmt=function(e){var t=function(e){var t=h().Deferred(),n=e.item,r=n.get("Media");if(e.index in r)return t.resolve(r[e.index]).promise();var i=new Gmt({model:n}),a=i.promise;return a.done((function(e){t.resolve(r[e])})),a.fail((function(){t.reject()})),le.Z.trigger("show:modal",i),t.promise()}(e);return t.then((function(t){var n=function(){var e=new xle.Z({title:(0,Ce.Z)("Delete File"),message:(0,Ce.Z)("Are you sure you want to delete this file from your filesystem?"),confirmLabel:(0,Ce.Z)("Delete"),cancelLabel:(0,Ce.Z)("Cancel"),async:!0,hasDanger:!0});return le.Z.trigger("show:modal",e),e}();return n.promise.then((function(){return vle.Z.execute("deleteFile",{item:e.item,media:t}).always((function(){n.hide()}))}))}))},Ymt=function(e){var t=e.item,n=t.server,r=t.get("Media"),i=S().filter(r,(function(e){return!!e.proxyType})),a=function(e){var t,n=e.item,r=e.versions,i=r.length>1;if(i)t=(0,Ce.Z)("Are you sure you want to delete {1} versions of {2}?",r.length,n.get("title"));else{var a=S().first(r);t=(0,Ce.Z)("Are you sure you want to delete the {1} version of {2}?",a.title,n.get("title"))}var s=new xle.Z({title:i?(0,Ce.Z)("Delete Versions"):(0,Ce.Z)("Delete Version"),message:t,confirmLabel:(0,Ce.Z)("Delete"),cancelLabel:(0,Ce.Z)("Cancel"),async:!0,hasDanger:!0});return le.Z.trigger("show:modal",s),s}({item:t,versions:i});return a.promise.then((function(){var e=E.Z.join(["/library/metadata/",t.id],{proxy:1}),s=S().extend(n.getXHROptions(e),{type:"DELETE"}),o=h().ajax(s);return o.done((function(){S().each(i,(function(e){r.splice(S().indexOf(r,e),1)})),t.trigger("change:Media",t,t.get("Media"))})),o.fail((function(e){var t=403===e.status?(0,Ce.Z)("Ensure that media deletion is enabled for library content in your server settings."):(0,Ce.Z)("There was a problem deleting these versions.");le.Z.trigger("show:alert",{type:"error",message:t})})),o.always((function(){a.hide()})),o.promise()}))},Kmt=function(e){var t=h().Deferred(),n=e.section,r=new xle.Z({title:(0,Ce.Z)("Delete Library"),message:(0,Ce.Z)("Are you sure you want to delete {1}?",n.get("title")),confirmLabel:(0,Ce.Z)("Delete"),cancelLabel:(0,Ce.Z)("Cancel"),requireDoubleConfirm:!0,doubleConfirmMessage:(0,Ce.Z)("This cannot be undone."),doubleConfirmLabel:(0,Ce.Z)("Yes, I'm sure"),async:!0,hasDanger:!0}),i=r.promise;return i.done((function(){var e=n.destroy({wait:!0});e?(e.done((function(){var e=b.DB("appStore").dispatch,r=n.server.entityID();r&&e((0,ZC.jR)({serverEntityID:r})),t.resolve()})),e.fail((function(e){le.Z.trigger("show:alert",{type:"error",message:(0,Ce.Z)("There was a problem deleting the library.")}),t.reject(e)}))):t.resolve()})),i.fail((function(){t.reject()})),le.Z.trigger("show:modal",r),t.promise().always((()=>{r.hide()})),t.promise()},qmt=function(e){var t=e.section,n="/library/sections/"+t.id+"/indexes",r=S().extend(t.server.getXHROptions(n),{type:"DELETE"}),i=new xle.Z({title:(0,Ce.Z)("Delete Preview Thumbnails"),message:(0,Ce.Z)("Are you sure you want to delete the preview thumbnails for items in this library? This cannot be undone."),confirmLabel:(0,Ce.Z)("Delete"),cancelLabel:(0,Ce.Z)("Cancel"),async:!0,hasDanger:!0}),a=i.promise;return a=a.then((function(){return(e=h().ajax(r)).done((function(e){le.Z.trigger("show:alert",{type:"success",message:(0,Ce.Z)("The preview thumbnails for items in this library were deleted.")})})),e.fail((function(e){le.Z.trigger("show:alert",{type:"error",message:(0,Ce.Z)("There was a problem deleting the preview thumbnails for items in this library.")})})),e.always((function(e){i.hide()})),e;var e})),le.Z.trigger("show:modal",i),a},$mt=function(e){var t=h().Deferred(),n="photo"===e.item.get("playlistType"),r=new xle.Z({title:n?(0,Ce.Z)("Delete Album"):(0,Ce.Z)("Delete Playlist"),message:(0,Ce.Z)("Are you sure you want to delete {1}? This cannot be undone.",e.item.get("title")),confirmLabel:(0,Ce.Z)("Delete"),cancelLabel:(0,Ce.Z)("Cancel"),async:!0,hasDanger:!0}),i=r.promise;return i.done((function(){var i=e.item.destroy();i.done((function(){e.skipRedirect||(0,b.DB)("appStore").dispatch((0,Wn.n)()),t.resolve()})),i.fail((function(e){le.Z.trigger("show:alert",{type:"error",message:n?(0,Ce.Z)("There was a problem deleting the album."):(0,Ce.Z)("There was a problem deleting the playlist.")}),t.reject(e)})),i.always((function(e){r.hide()}))})),i.fail((function(){t.reject()})),le.Z.trigger("show:modal",r),t.promise()},Jmt=function(e){var t=h().Deferred(),n=e.section,r=n?n.id:"all",i=e.cancel,a=n?n.server:e.server,s={};(e.params||{}).force&&(s.force=1);var o="/library/sections/"+r+"/refresh",l=S().extend(a.getXHROptions(o),{data:s});function c(){var e=h().ajax(l);e.done((function(){t.resolve()})),e.fail((function(e){if(503===e.status)le.Z.trigger("show:modal",new jmt.Z({model:a}));else{var n=i?(0,Ce.Z)("There was a problem canceling the update."):(0,Ce.Z)("There was a problem updating the library.");le.Z.trigger("show:alert",{type:"error",message:n})}t.reject(e)}))}if(i&&(l.type="DELETE",n&&n.set("refreshing",!1)),s.force){var d=new xle.Z({title:(0,Ce.Z)("Refresh All"),message:(0,Ce.Z)("Forces a download of fresh media information from the internet. This can take a long time. Any locked fields are not modified."),confirmLabel:(0,Ce.Z)("Refresh"),cancelLabel:(0,Ce.Z)("Cancel")}),u=d.promise;u.done(c),u.fail((function(){t.reject()})),le.Z.trigger("show:modal",d)}else c();return t.promise()},Xmt=function(e){var t=h().Deferred(),n=e.server,r=S().extend(n.getXHROptions("/library/optimize"),{type:"PUT"}),i=new xle.Z({title:(0,Ce.Z)("Optimize Database"),message:(0,Ce.Z)("Cleans up the library database and ensures it is operating as quickly as possible. This is especially useful when you've added or removed a large amount of media from the library."),confirmLabel:(0,Ce.Z)("Optimize"),cancelLabel:(0,Ce.Z)("Cancel"),async:!0}),a=i.promise;return a.done((function(){var e=h().ajax(r);e.done((function(){le.Z.trigger("show:alert",{type:"success",message:(0,Ce.Z)("The database was optimized.")}),t.resolve()})),e.fail((function(e){le.Z.trigger("show:alert",{type:"error",message:(0,Ce.Z)("There was a problem optimizing this database.")}),t.reject(e)})),e.always((function(e){i.hide()}))})),a.fail((function(){t.reject()})),le.Z.trigger("show:modal",i),t.promise()},eht=function(e){var t=h().Deferred(),n=e.server,r=S().extend(n.getXHROptions("/library/clean/bundles"),{type:"PUT"}),i=new xle.Z({title:(0,Ce.Z)("Clean Bundles"),message:(0,Ce.Z)("The media server stores information about your media to disk, as well as posters, artwork, and other media resources from the internet. Running this task deletes any bundles which are no longer in use."),confirmLabel:(0,Ce.Z)("Clean"),cancelLabel:(0,Ce.Z)("Cancel"),async:!0}),a=i.promise;return a.done((function(){var e=h().ajax(r);e.done((function(){le.Z.trigger("show:alert",{type:"success",message:(0,Ce.Z)("Unused bundles are being removed.")}),t.resolve()})),e.fail((function(e){le.Z.trigger("show:alert",{type:"error",message:(0,Ce.Z)("There was a problem removing unused bundles.")}),t.reject(e)})),e.always((function(e){i.hide()}))})),a.fail((function(){t.reject()})),le.Z.trigger("show:modal",i),t.promise()},tht=function(e){var t=h().Deferred(),n=e.section,r=n?n.server:e.server,i=[],a=[];n?i.push(n.id):r.get("sections").each((function(e){i.push(e.id)}));var s=new xle.Z({title:(0,Ce.Z)("Empty Trash"),message:(0,Ce.Z)("By default the media server doesn't remove information for media right away. This helps if a drive is temporarily disconnected. When you empty the trash for a section, all information about missing media is deleted."),confirmLabel:(0,Ce.Z)("Empty"),cancelLabel:(0,Ce.Z)("Cancel"),async:!0}),o=s.promise;return o.done((function(){S().each(i,(function(e){var t="/library/sections/"+e+"/emptyTrash",n=S().extend(r.getXHROptions(t),{type:"PUT"});a.push(h().ajax(n))}));var e=h().when.apply(h(),a);e.done((function(){le.Z.trigger("show:alert",{type:"success",message:(0,Ce.Z)("The trash was emptied.")}),t.resolve()})),e.fail((function(e){le.Z.trigger("show:alert",{type:"error",message:(0,Ce.Z)("There was a problem emptying the trash.")}),t.reject(e)})),e.always((function(e){s.hide()}))})),o.fail((function(){t.reject()})),le.Z.trigger("show:modal",s),t.promise()},nht=function(e){var t=e.item,n={guid:e.guid,name:e.name,year:e.year};"album"===t.get("type")&&e.children&&e.children.reduce((function(e,t){var n=t.get("id");return n&&(e["guid["+n+"]"]=t.get("guid")),e}),n);var r=E.Z.join(["/library/metadata/",t.id,"/match"],n),i=S().extend(t.server.getXHROptions(r),{type:"PUT"});return h().ajax(i).promise()},rht=function(e){var t=h().Deferred(),n=e.item,r={agent:e.agent.id,manual:0},i=E.Z.join(["/library/metadata/",n.id,"/matches"],r),a=S().extend(n.server.getXHROptions(i)),s=h().ajax(a);return s.done((function(e){var i=S().isObject(e)?e:Hoe.Z.parseXML(e);if(i.SearchResult){var a=i.SearchResult;Array.isArray(i.SearchResult)&&(a=i.SearchResult[0]),r={guid:a.guid,name:a.name};var s=E.Z.join(["/library/metadata/",n.id,"/match"],r),o=S().extend(n.server.getXHROptions(s),{type:"PUT"}),l=h().ajax(o);l.done((function(){t.resolve()})),l.fail((function(){le.Z.trigger("show:alert",{type:"error",message:(0,Ce.Z)("There was a problem matching this item.")}),t.reject()}))}else le.Z.trigger("show:alert",{type:"error",message:(0,Ce.Z)("No matches were found using this agent.")}),t.reject()})),s.fail((function(e){le.Z.trigger("show:alert",{type:"error",message:(0,Ce.Z)("There was a problem searching for matches.")}),t.reject(e)})),t.promise()};var iht={poster:"thumb",art:"art",banner:"banner"};const aht=function(e){var t=e.item,n={url:e.artworkRatingKey},r=E.Z.join(["/library/metadata/",t.id,e.artworkType],n),i=S().extend(t.server.getXHROptions(r),{type:"PUT"}),a=h().ajax(i);return a.done((function(n){t.set(iht[e.artworkType],n)})),a.promise()},sht=function(e){var t=e.item,n=e.rating,r=t.get("userRating");if(-1===n?t.unset("userRating"):t.set("userRating",n),e.passive)return h().Deferred().resolve().promise();var i={key:t.get("ratingKey"),identifier:t.get("identifier"),rating:n},a=E.Z.join("/:/rate",i),s=h().ajax(t.server.getXHROptions(a));return s.fail((function(){t.set("userRating",r),le.Z.trigger("show:alert",{type:"error",message:(0,Ce.Z)("There was a problem rating this item.")})})),s.promise()},oht=function(e){var t=h().Deferred(),n=e.item,r=n.server,i=e.media||S().first(n.get("Media")),a=e.part||i&&S().first(i.Part),s=e.streamType,o=e.streamID;if(!i||!a)return t.reject().promise();var l={};l[s.key]=o,!e.media&&r.supports("allPartsStreamSelection")&&(l.allParts=1);var c=E.Z.join(["/library/parts/",a.id],l),d=S().extend(r.getXHROptions(c),{type:"PUT"}),u=h().ajax(d);return u.done((function(){(function(e,t,n){if(e){const r=(0,Tde.Z)(e,{streamType:t.id});S().each(r,(e=>{e.selected=e.id===n}))}})(i,s,o),n.trigger("change:streams"),t.resolve()})),u.fail((function(e){le.Z.trigger("show:alert",{type:"error",message:(0,Ce.Z)("There was a problem selecting the stream for this item.")}),t.reject(e)})),t.promise()},lht=function(e){var t,n=e.item,r=e.media,i=n.server;if(r){var a="/library/metadata/"+n.id+"/media/"+r.id,s=S().extend(i.getXHROptions(a),{type:"DELETE"});(t=h().ajax(s)).done((function(){var t=e.item.get("Media");t.splice(S().indexOf(t,r),1),n.trigger("change:Media",n,n.get("Media"))}))}else t=n.destroy({wait:!0});return t.fail((function(e){var t=403===e.status?(0,Ce.Z)("Ensure that media deletion is enabled for library content in your server settings."):(0,Ce.Z)("There was a problem deleting this item.");le.Z.trigger("show:alert",{type:"error",message:t})})),t};var cht=n(24079),dht=Object.defineProperty,uht=Object.prototype.hasOwnProperty,pht=Object.getOwnPropertySymbols,mht=Object.prototype.propertyIsEnumerable,hht=(e,t,n)=>t in e?dht(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ght=(e,t)=>{for(var n in t||(t={}))uht.call(t,n)&&hht(e,n,t[n]);if(pht)for(var n of pht(t))mht.call(t,n)&&hht(e,n,t[n]);return e};function yht(e,t){if(!e)return!1;var n=new lC.Z({key:e},{server:t.item.server,onlyIfCached:!0});return!S().isEmpty(n)&&n}function vht(e){if(e.skipRedirect)return;const t=e.item,n=t.get("isLibraryItem")&&t.parent,r=t.get("librarySectionKey")||n&&n.get("librarySectionKey");if(!r)return void(0,b.DB)("appStore").dispatch((0,Wn.n)());const i=(0,cht.Z)(t.provider,r),a=(0,hI.Z)(t.server.toJSON(),t.provider.toJSON(),i);a?(0,b.DB)("appStore").dispatch((0,Wn.c4)({pathname:a,replace:!0})):(0,b.DB)("appStore").dispatch((0,Wn.n)())}function fht(e,t){t.skipRedirect||(0,b.DB)("appStore").dispatch((0,Wn.yB)({serverEntityID:e.server.entityID(),providerEntityID:e.provider.entityID(),key:e.get("key"),replace:!0}))}const bht=function(e){var t=vle.Z.execute("deleteFile",e);return t.done((function(){var t=e.item,n=yht(t.get("parentKey"),e);if(n){var r=new qO.Z({containerKey:n.get("childrenKey")},{server:n.server,provider:n.provider,skipCache:!0});r.fetchRange({size:1}).then((()=>{if(r.getCollection().length>0)fht(n,e);else{n.trigger("destroy",n,n.collection);var i=yht(t.get("grandparentKey"),e);if(i){var a=new qO.Z({containerKey:i.get("childrenKey")},{server:i.server,provider:i.provider,skipCache:!0});a.fetchRange({size:1}).then((()=>{a.getCollection().length>0?fht(i,ght(ght({},e),{skipRedirect:!1})):vht(e)}))}else vht(ght(ght({},e),{skipRedirect:!1}))}}))}else vht(e)})),t},Iht=function(e){var t=e.generator,n=S().result(t,"url")+"/"+e.ratingKey+"/enable",r=S().extend(t.server.getXHROptions(n),{type:"PUT"}),i=h().ajax(r).promise();return i.fail((function(e){le.Z.trigger("show:alert",{type:"error",message:(0,Ce.Z)("There was a problem enabling this version.")})})),i},Sht=function(e){var t=e.generator,n=S().result(t,"url")+"/"+e.ratingKey+"/disable",r=function(){var e=new xle.Z({title:(0,Ce.Z)("Remove Version"),message:(0,Ce.Z)("Are you sure you want to delete this version? You can enable it again in Optimized Versions Settings."),confirmLabel:(0,Ce.Z)("Remove"),cancelLabel:(0,Ce.Z)("Cancel"),async:!0,hasDanger:!0});return le.Z.trigger("show:modal",e),e}();return r.promise.then((function(){var e=S().extend(t.server.getXHROptions(n),{type:"PUT"}),i=h().ajax(e).promise();return i.fail((function(e){le.Z.trigger("show:alert",{type:"error",message:(0,Ce.Z)("There was a problem disabling this version.")})})),i.always((function(){r.hide()})),i}))},Mht=function(e){var t=e.generator,n=e.ratingKey,r=S().result(t,"url");n&&(r+="/"+n),r+="/reprocess";var i=S().extend(t.server.getXHROptions(r),{type:"PUT"}),a=h().ajax(i).promise();return a.fail((function(e){var t=n?(0,Ce.Z)("There was a problem processing this item."):(0,Ce.Z)("There was a problem processing these items.");le.Z.trigger("show:alert",{type:"error",message:t})})),a},Eht=function(e){var t=e.generator,n=function(e){var t=e.generator.get("title"),n=t?(0,Ce.Z)("Removing this item will delete all versions created by {1}. Are you sure you want to continue?",t):(0,Ce.Z)("Removing this item will delete all related versions. Are you sure you want to continue?"),r=new xle.Z({title:(0,Ce.Z)("Delete Versions"),message:n,confirmLabel:(0,Ce.Z)("Remove"),cancelLabel:(0,Ce.Z)("Cancel"),async:!0,hasDanger:!0});return le.Z.trigger("show:modal",r),r}(e);return n.promise.then((function(){var e=t.destroy();return e.fail((function(e){le.Z.trigger("show:alert",{type:"error",message:(0,Ce.Z)("Unable to stop generating these versions.")})})),e.always((function(){n.hide()})),e}))},Pht=function(e){var t=function(){var e=new xle.Z({title:(0,Ce.Z)("Delete All Versions"),message:(0,Ce.Z)("Are you sure you want to delete all versions? This cannot be undone."),confirmLabel:(0,Ce.Z)("Delete"),cancelLabel:(0,Ce.Z)("Cancel"),async:!0,hasDanger:!0});return le.Z.trigger("show:modal",e),e}(),n=t.promise;return n.then((function(){var n="/playlists/generators?type="+qoe.Z.LOCAL,r=S().extend(e.server.getXHROptions(n),{type:"DELETE"}),i=h().ajax(r).promise();return i.fail((function(e){le.Z.trigger("show:alert",{type:"error",message:(0,Ce.Z)("There was a problem deleting all versions.")})})),i.always((function(){t.hide()})),i.promise()}))},Dht=function(e){var t,n=h().Deferred(),r=e.channel,i=r?r.server:e.server,a=e.silent;if(r){var s=r.get("identifier");t=(s?"/system/appstore/apps/"+s:r.get("key"))+"/update"}else t="/system/appstore/updates";var o=h().ajax(i.getXHROptions(t));function l(e){a||le.Z.trigger("show:alert",{type:"error",message:(0,Ce.Z)("There was a problem checking for updates.")}),n.reject(e)}return o.done((function e(t){var r=S().isObject(t)?t:Hoe.Z.parseXML(t);if(r&&(r.message||r.Directory))if(r.message)a||le.Z.trigger("show:alert",{type:"success",message:r.message}),n.resolve();else{Hoe.Z.parseArray(r,"Directory");var s=r.Directory[0].key,o=h().ajax(i.getXHROptions(s));o.done(e),o.fail(l)}else l()})),o.fail(l),n.promise()},Cht=function(e){var t=h().Deferred(),n=e.channel,r=n.get("identifier"),i=(r?"/system/appstore/apps/"+r:n.get("key"))+"/uninstall",a=n.server.getXHROptions(i);function s(){var r=h().ajax(a);r.done((function(r){var i=S().isObject(r)?r:Hoe.Z.parseXML(r);n.set("installed",!1),i.message&&!e.skipConfirmation&&le.Z.trigger("show:alert",{type:"success",message:i.message}),t.resolve()})),r.fail((function(e){if(400===e.status){var r=new xle.Z({title:(0,Ce.Z)("Unable to Uninstall Plugin"),message:(0,Ce.Z)("This plugin could not be uninstalled, but you can disable it in the server settings."),confirmLabel:(0,Ce.Z)("OK"),cancelLabel:(0,Ce.Z)("Ignore")});r.promise.done((function(){(0,nle.Z)("serverSettings",{machineIdentifier:n.server.id,settingsSection:"settings",settingsGroup:"channels"})})),le.Z.trigger("show:modal",r)}else le.Z.trigger("show:alert",{type:"error",message:(0,Ce.Z)("This plugin could not be uninstalled.")});t.reject(e)}))}if(e.skipConfirmation)s();else{var o=new xle.Z({title:(0,Ce.Z)("Uninstall Plugin"),message:(0,Ce.Z)("Are you sure you want to uninstall this plugin?")}),l=o.promise;l.done(s),l.fail((function(){t.reject()})),le.Z.trigger("show:modal",o)}return t.promise()},wht=function(e){var t,n=e.cloudAccount,r=n.server.get("desktop").get("settings").get("PublishServerOnPlexOnlineKey"),i=h().Deferred();if(!n.get("isWaiting")){var a=e.value?lCe:cCe;n.set("remoteAccessState",a)}var s=n.previous("remoteAccessState"),o=r.save({PublishServerOnPlexOnlineKey:e.value},{timeout:0});return o.done((function r(){n.fetch().done((function(){var a=n.get("mappingState"),s=e.value&&a===iCe,o=!e.value&&a===sCe;a===aCe||s||o?t||(t=window.setInterval(r,500)):(t=window.clearInterval(t),n.get("isWaiting")&&n.set("remoteAccessState",""),i.resolve())}))})),o.fail((function(t){var r;r=e.value?(0,Ce.Z)("There was a problem connecting your server."):(0,Ce.Z)("There was a problem disconnecting your server."),le.Z.trigger("show:alert",{type:"error",message:r}),n.set("remoteAccessState",s),i.reject(t)})),i.promise()},Zht=function(e){var t=e.cloudAccount,n={cloudAccount:t,value:!1},r=vle.Z.execute("connectServer",n);return(r=r.then((function(){return n.value=!0,vle.Z.execute("connectServer",n)}))).then((function(){if(t.get("mappingError"))return h().Deferred().reject().promise()}))},Tht=function(e){const{cloudAccount:t,username:n,password:r,claim:i=!1}=e,a=h().Deferred(),s=t.server,o=(0,b.DB)("appModel"),l=o.get("user"),c=o.get("cloudServer"),d=s.get("accessToken");s.set("accessToken",l.get("authToken"));const u=i?function(e,t){const n=t.getXHROptions("/api/claim/token");let r=h().ajax(n).promise();return r=r.then((t=>{const{token:n}=qi.Z.parseXML(t),r=E.Z.join("/myplex/claim",{token:n}),i=e.getXHROptions(r,{type:"POST"});return h().ajax(i).promise()})),r}(s,c):function(e,t,n){const r=E.Z.join("/myplex/account",{username:e,password:t}),i=n.getXHROptions(r,{type:"PUT"});return h().ajax(i).promise()}(n,r,s);return u.done((e=>{const n=S().isObject(e)?e:qi.Z.parseXML(e);n&&"invalid"===n.signInState?(le.Z.trigger("show:alert",{type:"error",message:(0,Ce.Z)("The username or password is incorrect.")}),a.reject()):(s.set({myPlexSigninState:_pe.Hq,myPlexUsername:l.get("email")}),t.set({signedIn:!0,username:l.get("email")}),a.resolve())})),u.fail((e=>{let n;s.set("accessToken",d),!0===t.get("signedIn")&&t.set("signedIn",!1),n=401===e.status?(0,Ce.Z)("The username or password is incorrect."):(0,Ce.Z)("There was a problem signing in to Plex."),le.Z.trigger("show:alert",{type:"error",message:n}),a.reject(e)})),a.promise()};function Nht(e){e.trigger("destroy",e,e.collection),e.cache.remove(e)}const Oht=function(e){var t,n=b.DB("appModel").get("user"),r=e.device,i=e.server||function(e){var t=new _pe.ZP({machineIdentifier:e},{onlyIfCached:!0});if(!S().isEmpty(t))return t}(r.get("clientIdentifier"));t=r?(0,Ce.Z)("If you remove the server, all syncs and shares associated with the server will be lost and you will need to sign the server in again to restore access to Plex."):(0,Ce.Z)("Are you sure you want to remove this server?");var a={title:(0,Ce.Z)("Remove Server"),message:t,confirmLabel:(0,Ce.Z)("Remove"),cancelLabel:(0,Ce.Z)("Cancel"),async:!0,hasDanger:!0};r&&(a.requireDoubleConfirm=!0,a.doubleConfirmMessage=(0,Ce.Z)("Are you sure you want to remove this server?"),a.doubleConfirmLabel=(0,Ce.Z)("Yes, I'm sure"));var s=new xle.Z(a),o=s.promise;return o=o.then((function(){return function(){var e;if(r)e=r.destroy({wait:!0});else{var t="/api/servers/"+i.id,a=S().extend(n.server.getXHROptions(t),{type:"DELETE"});e=h().ajax(a)}if(i){if(i.get("connected")&&i.get("myPlexSigninState")===_pe.Hq){var o=i.get("desktop").get("cloudAccount");e=(e=e.then((function(){return o.fetch()}))).then((function(){return function(e){var t=e.get("desktop").get("cloudAccount").destroy();return t.done((function(){e.set({accessToken:void 0,myPlexSigninState:_pe.Ar,myPlexSubscription:!1})})),t}(i)}))}!1===i.get("connected")?Nht(i):e.always((function(){le.Z.trigger("test:server",i),i.populate().fail((function(){Nht(i)}))}))}return e.always((function(){s.hide()})),e.promise()}()})),le.Z.trigger("show:modal",s),o};var Aht=n(83105);const xht=(0,Aht.UY)({metadataItemState:os.Z.reducer,metadataLists:xr.Z.reducer,metadataTimelineState:hd.reducer,user:Fv.reducer,serverAccounts:F$.reducer,serverActivities:vl.reducer,serverDevices:K$.reducer,serverNowPlayingSessions:Bv.reducer,servers:yl.reducer}),jht=(0,Aht.UY)({bandwidth:Gle.reducer,playHistory:Oue.reducer,resources:Que.reducer,topPlayed:spe.reducer,topUsers:ype.reducer}),Lht=(0,Aht.UY)({dvrSetup:dhe.reducer,epgSettings:She.reducer}),kht=(0,Aht.UY)({advancedFilters:fd.reducer,curatedLists:sp.reducer,dashboard:jht,directory:Jv.reducer,downloads:El.reducer,dvrManagement:Lht,home:Dq.reducer,importPlaylists:fN.reducer,libraryManagement:ym.reducer,livetv:Sye.reducer,metadataMultiselect:vo.reducer,players:_v.reducer,playHistory:iJ.reducer,prePlay:xte.reducer,twoFactorAuth:wGe.reducer,verificationEmail:MWe.reducer}),Rht=(0,Aht.UY)({core:xht,features:kht}),zht=(0,lo.PH)("v4/reset"),Uht=function(){const e=(0,b.DB)("appStore"),t=(0,b.DB)("appModel"),n=t.get("ui"),r=t.get("user"),i=t.get("fakeRouter"),a=r.server;let s=r.clearAccessToken();return s=s.fail((()=>{M.Z.warn("Failed to clear the access token and user storage")})).always((()=>{t.set("history",[]),e.dispatch(zht()),n&&n.restoreDefaults(),i&&i.restoreDefaults(),N.Z.abortAll(),r.signOut(),r.uninitialize(),r.initialize(),le.Z.trigger("clear:servers"),e.dispatch((0,Wn.$e)({budget:1/0})),le.Z.trigger("clearAll:cache"),a.cache.store(a)})),s=s.then((()=>function(e){const t=h().Deferred();return e&&e.then?e.then(t.resolve,t.reject):t.resolve(e),t.promise()}((0,b.DB)("serviceWorker").sendMessage({type:"SIGN_OUT"})))),(0,W.Z)(s)};var Vht=n(23593);const Bht=function(e={}){const t=(0,b.DB)("appModel").get("user"),n=t.get("signedIn"),r=t.id!==e.homeUser.id,i=e.allowGuestLock,a=!!e.isRemoteUser,s=r||i,o=!1!==e.shouldUnlock;let l=n?vle.Z.execute("authenticateWithServer",e):vle.Z.execute("authenticateWithHash",e);return n&&s?l=l.then((t=>function(e,t){const n=(0,b.DB)("appModel").get("user");let r=vle.Z.execute("resetUser");return r=r.then((()=>{n.activateStoredUser(t.homeUser.id);const r=Vht.Z.getActiveUser();r&&r.copyToModel(n),le.Z.trigger("init:servers");const i={};return!1!==t.shouldUnlock&&(i.lockState=ut.Ik.Unlocked),n.signIn(e,i)})),r.done((()=>{(0,b.DB)("metrics").trackEvent({event:mz.PS,interaction:!0})})),r}(t,e))):l.done((()=>{const e={isRemote:a};o&&(e.lockState=ut.Ik.Unlocked),t.set(e)})),l};var Fht=Object.defineProperty,_ht=Object.prototype.hasOwnProperty,Hht=Object.getOwnPropertySymbols,Qht=Object.prototype.propertyIsEnumerable,Ght=(e,t,n)=>t in e?Fht(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;function Wht(e,t={}){return((e,t)=>{for(var n in t||(t={}))_ht.call(t,n)&&Ght(e,n,t[n]);if(Hht)for(var n of Hht(t))Qht.call(t,n)&&Ght(e,n,t[n]);return e})({includeSubscriptions:1,includeProviders:1,includeSettings:ae.Z.allowSyncSettings?1:0,includeSharedSettings:(0,xUe.Z)(e)?1:0},t)}var Yht=Object.defineProperty,Kht=Object.prototype.hasOwnProperty,qht=Object.getOwnPropertySymbols,$ht=Object.prototype.propertyIsEnumerable,Jht=(e,t,n)=>t in e?Yht(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Xht=(e,t)=>{for(var n in t||(t={}))Kht.call(t,n)&&Jht(e,n,t[n]);if(qht)for(var n of qht(t))$ht.call(t,n)&&Jht(e,n,t[n]);return e};const egt=function(e){return e.headers=Xht(Xht({},L.Z.getInstance()),e.headers||{}),h().ajax(e)},tgt=function(e){var t=e.homeUser,n=b.DB("appModel").get("user"),r=t.get("uuid")||n.get("uuid"),i=Wht(n,{pin:e.pin}),a=E.Z.join(["/api/v2/home/users/",r,"/switch"],i),s=t.server.getXHROptions(a,{type:"POST",xhrFields:{withCredentials:ae.Z.allowSSO}});return egt(s)},ngt=function(e){const t=h().Deferred().resolve().promise(),n=h().Deferred().reject().promise(),r=Vht.Z.getActiveUser();if(!r)return n;const i=r.get("pin"),a=r.get("authToken");return i||e.pin?i===(0,b.DB)("appModel").get("user").hashPIN(e.pin,a)?t:n:t};var rgt=n(82642),igt=n(69009),agt=n.n(igt);const sgt=_mt.Z.extend({name:"selectDeviceModal",template:agt(),serializeData:function(){return{devices:this.collection.toJSON()}}}),ogt=function(e){var t=b.DB("appModel").get("user"),n=e.item.server;if(n.get("myPlexSigninState")===_pe.Hq)if(n.get("allowSync")){var r=t.get("desktop").get("devices").filterSyncDevices(e.item),i=S().clone(e);if(r.length){var a=new sgt({collection:r});a.promise.done((function(e){i.device=r.get(e),le.Z.trigger("show:modal",new Eme(i))})),le.Z.trigger("show:modal",a)}else le.Z.trigger("show:alert",{type:"error",message:(0,Ce.Z)("You are not signed in to any sync capable devices.")})}else le.Z.trigger("show:modal",new rgt.Z({model:n}));else{var s=(0,Ce.Z)("This server needs to be connected to Plex to sync its content.");le.Z.trigger("show:alert",{type:"error",message:s})}},lgt=function(e){var t=e.syncItem,n=e.server;if(!t.server.get("connected"))return le.Z.trigger("show:alert",{type:"error",message:(0,Ce.Z)("Please sign in to remove sync items.")}),h().Deferred().reject().promise();var r=function(){var e=new xle.Z({title:(0,Ce.Z)("Stop Syncing"),message:(0,Ce.Z)("Are you sure you want to stop syncing this item? All files created by this job will be removed from the device."),confirmLabel:(0,Ce.Z)("Remove"),cancelLabel:(0,Ce.Z)("Cancel"),async:!0,hasDanger:!0});return le.Z.trigger("show:modal",e),e}(),i=r.promise.then((function(){var e=t.destroy();return e.fail((function(e){le.Z.trigger("show:alert",{type:"error",message:(0,Ce.Z)("There was a problem removing this sync item.")})})),e.always((function(){r.hide()})),e}));return i.then((function(){return vle.Z.execute("refreshSyncLists",{server:n,silent:!0,skipContent:!0})}))},cgt=function(e){var t=e.server,n=S().extend(t.getXHROptions("/sync/refreshSynclists"),{type:"PUT"}),r=h().ajax(n);return e.skipContent||(r=r.then((function(e){var n=S().extend(t.getXHROptions("/sync/refreshContent"),{type:"PUT"});return h().ajax(n)}))),r.done((function(){e.silent||le.Z.trigger("show:alert",{type:"success",message:(0,Ce.Z)("Synced items were refreshed.")})})),r.promise()},dgt=function(e){var t=e.device,n=(0,Ce.Z)("If you remove this device, you will need to sign in again on the device to restore access to Plex."),r=new xle.Z({title:(0,Ce.Z)("Remove Device"),message:n,confirmLabel:(0,Ce.Z)("Remove"),cancelLabel:(0,Ce.Z)("Cancel"),async:!0,hasDanger:!0}),i=r.promise;return i=i.then((function(){return(e=t.destroy({wait:!0})).fail((function(){le.Z.trigger("show:alert",{type:"error",message:(0,Ce.Z)("There was a problem removing this device.")})})),e.always((function(){r.hide()})),e.promise();var e})),le.Z.trigger("show:modal",r),i},ugt=function(e){return(0,W.Z)(egt({url:"https://plex.tv/api/v2/users/signout",headers:{"X-Plex-Token":e.accessToken},type:"DELETE",xhrFields:{withCredentials:!1}}))},pgt=function(){(0,b.DB)("metrics").trackEvent({event:mz.CM,interaction:!0});const e=ae.Z.allowSSO,t=(0,b.DB)("appModel").get("user").get("authToken");return(0,W.Z)(e?ugt({accessToken:t}):h().Deferred().resolve().promise()).then((()=>vle.Z.execute("resetUser"))).then((()=>(Vht.Z.restoreDefaults(),Vht.Z.save()))).then((()=>{e&&ugt({accessToken:t}),le.Z.trigger("init:servers")}))},mgt=function(){const e=h().Deferred();return(0,b.DB)("appModel").get("user").get("isLocked")?e.reject():e.resolve(),e.promise()};function hgt(){return vle.Z.registerAll(u),h().Deferred().resolve().promise()}const ggt="leaderStatusChanged",ygt={subscribe(){le.Z.on("cloudServer:processRemoteControlCommand",this.onCloudServerCommand,this)},unsubscribe(){le.Z.off("cloudServer:processRemoteControlCommand",this.onCloudServerCommand,this)},onCloudServerCommand(e){const t=e.Command,n={supportsTimeline:!1,path:t.path,commandID:t.commandID,query:{key:[t.queryKey],offset:[t.queryOffset],mediaIndex:[t.queryMediaIndex],containerKey:[t.queryContainerKey],playQueueID:[t.queryPlayqueueid],type:[t.queryType],volume:[t.queryVolume],repeat:[t.queryRepeat],autoPlay:[t.queryAutoPlay],subtitleSize:[t.querySubtitleSize],audioStreamID:[t.queryAudioStreamID],subtitleStreamID:[t.querySubtitleStreamID],token:[t.queryToken],machineIdentifier:[t.queryMachineIdentifier],protocol:[t.queryProtocol],address:[t.queryAddress],port:[t.queryPort],text:[t.queryText],field:[t.queryField]}};(0,b.DB)("localCompanionCommandHandler")(n)}};let vgt=null,fgt=null;function bgt(){const e=Sgt();return!(e&&!e.isLeader())&&(0,b.DB)("settingFinder").find("companion")}function Igt(){if(!bgt())return;const e=(0,b.DB)("appModel"),t=e.get("cloudServer"),n=e.get("clientID");t&&t.get("authorized")&&n&&n!==vgt&&(vgt=n,M.Z.info('[Companion] Registering player with plex.tv, clientID="%s"',n),(0,b.DB)("companionProxy").registerPlayer(t,n).done((()=>{M.Z.info('[Companion] Registered player with plex.tv, clientID="%s"',n)})).fail((e=>{e||(e={}),vgt=null,M.Z.warn('[Companion] Couldn\'t register player with plex.tv, status="%s", response="%s"',e.status,e.responseText&&e.responseText.substr(0,100))})))}function Sgt(){return(0,b.s4)("companionVote")?(0,b.DB)("companionVote"):null}function Mgt(){const e=(0,b.DB)("companionProxy"),t=bgt();return fgt===t?h().Deferred().resolve().promise():(fgt=t,t?(ygt.subscribe(),h().when(e.subscribe((0,b.DB)("localCompanionCommandHandler")))):(ygt.unsubscribe(),h().when(e.unsubscribe(),function(){const e=(0,b.DB)("appModel"),t=e.get("cloudServer"),n=e.get("clientID");if(t.get("authorized")&&n)return M.Z.info('[Companion] Unregistering player with plex.tv, clientID="%s"',n),(0,b.DB)("companionProxy").unregisterPlayer(t,n).done((()=>M.Z.info('[Companion] Unregistered player with plex.tv, clientID="%s"',n))).fail(((e={})=>M.Z.warn('[Companion] Couldn\'t unregister player with plex.tv, status="%s", response="%s"',e.status,e.responseText&&e.responseText.substr(0,100))))}())))}function Egt(){const e=(0,b.DB)("appModel"),t=e.get("cloudServer");Igt(),e.on("change:clientID",Igt),t.on("change:authorized",Igt),(0,b.DB)("settingFinder").addCompanionChangeListener(Mgt);const n=Sgt();let r;return n&&n.on(ggt,(e=>{M.Z.info(e?"[Companion] Elected to poll leader role":"[Companion] Lost poll leader role"),Mgt()})),r=bgt()?Mgt().then((()=>{const e=(0,b.DB)("companionProxy").getDeepLink();return e.fail((()=>{M.Z.warn("[Companion] Ignoring error getting deep link")})),(0,W.Z)(e)})):h().Deferred().resolve().promise(),r}function Pgt(){const e=(0,b.DB)("appModel");return(0,Uxe.Z)(e.get("settings").populate(),e.get("deviceSettings").populate())}const Dgt=oe.Z.extend({getStorage(){},get(e){return this._catchStorageError((t=>{const n=window.PLEXWEB,r=n&&e in n?n[e]:t.getItem(e);if(null==r)throw new Error(`${e} is not in ${this.name}`);return r}))},set(e,t){return this._catchStorageError((n=>{if(!e)throw new Error(`Unable to set value in ${this.name} without a key`);if(null==t)throw new Error(`Unable to set null or undefined value for ${e} in ${this.name}. Use the remove function.`);return n.setItem(e,t)}))},remove(e){return this._catchStorageError((t=>t.removeItem(e)))},clear(){return this._catchStorageError((e=>e.clear()))},_catchStorageError(e){const t=h().Deferred();try{t.resolve(e(this.getStorage()))}catch(e){M.Z.warn(e.message),t.reject(e)}return t.promise()}}),Cgt=Dgt.extend({name:"BasicVolatileStorage",initialize(){const e={};this.api={getItem:t=>e[t],setItem(t,n){e[t]=n},removeItem(t){delete e[t]},clear(){for(const t in e)e.hasOwnProperty(t)&&delete e[t]}}},getStorage(){return this.api}}),wgt=new Ej.Z({interface:["get","set","remove","clear"]});var Zgt=n(85022);function Tgt(e,t){return YAe.Z.get(e).then((e=>(0,Zgt.Z)(e,t)),(()=>{if(t)return h().Deferred().resolve(t).promise()}))}function Ngt(e,t){return YAe.Z.set(e,JSON.stringify(t))}var Ogt=Object.defineProperty,Agt=Object.prototype.hasOwnProperty,xgt=Object.getOwnPropertySymbols,jgt=Object.prototype.propertyIsEnumerable,Lgt=(e,t,n)=>t in e?Ogt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,kgt=(e,t)=>{for(var n in t||(t={}))Agt.call(t,n)&&Lgt(e,n,t[n]);if(xgt)for(var n of xgt(t))jgt.call(t,n)&&Lgt(e,n,t[n]);return e};const Rgt=function(e){return e.isDirty=!0,Tgt(Vht.Z.storageKey).then((t=>{if(t.users)return t.users.forEach((t=>{t.experienceSettings=kgt(kgt({},t.experienceSettings),e)})),Ngt(Vht.Z.storageKey,t)}))};var zgt=Object.defineProperty,Ugt=Object.prototype.hasOwnProperty,Vgt=Object.getOwnPropertySymbols,Bgt=Object.prototype.propertyIsEnumerable,Fgt=(e,t,n)=>t in e?zgt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,_gt=(e,t)=>{for(var n in t||(t={}))Ugt.call(t,n)&&Fgt(e,n,t[n]);if(Vgt)for(var n of Vgt(t))Bgt.call(t,n)&&Fgt(e,n,t[n]);return e};const Hgt=["homeSettings"],Qgt=function(){const e=(0,b.DB)("StoredUserExperienceSettingsModel"),t=Object.keys(_gt(_gt({},e.prototype.syncedAttrs),e.prototype.syncedRelations)),n=S().without(t,...Hgt),r=Tgt("experience").then((e=>{const t=S().pick(e,n);return Rgt(t).then((()=>YAe.Z.remove("experience")))}));return(0,W.Z)(r)};var Ggt=n(60214);const Wgt=Ggt.Z.extend({name:"DeviceSettingsModel",storageKey:"deviceSettings",sessionAttrs:{isSaving:KO.Z.boolean,saveError:KO.Z.object},syncedAttrs:{autoLogin:KO.Z.boolean,chromecastAppID:KO.Z.string,chromecastCustomAppID:KO.Z.string,sonosCustomBaseURL:KO.Z.string,debugAdKind:KO.Z.integer,debugLevel:KO.Z.integer,debugVideoQualityOverlay:KO.Z.boolean,directPlay:KO.Z.boolean,directStream:KO.Z.boolean,rejectDirectConnections:KO.Z.boolean,restorePlayQueue:KO.Z.object,shouldSyncSettings:KO.Z.boolean,hasDismissedInsecureHostedAppWarning:KO.Z.boolean,hasDismissedServerDownloadMessage:KO.Z.boolean,dismissedUnclaimedServers:KO.Z.object,dismissedServerUpdateVersions:KO.Z.object,volume:KO.Z.integer,serverUpdateDismissedVersion:KO.Z.string},defaults:()=>({isSaving:!1,saveError:null,autoLogin:!1,chromecastAppID:dVe.PRODUCTION,debugAdKind:oUe.NONE,debugLevel:lUe.Z.DISABLED,debugVideoQualityOverlay:!1,directPlay:!0,directStream:!0,rejectDirectConnections:!1,restorePlayQueue:null,shouldSyncSettings:ae.Z.allowSyncSettings,hasDismissedInsecureHostedAppWarning:!1,hasDismissedServerDownloadMessage:!1,dismissedUnclaimedServers:{},dismissedServerUpdateVersions:{},volume:90})});var Ygt=Object.defineProperty,Kgt=Object.prototype.hasOwnProperty,qgt=Object.getOwnPropertySymbols,$gt=Object.prototype.propertyIsEnumerable,Jgt=(e,t,n)=>t in e?Ygt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Xgt=(e,t)=>{for(var n in t||(t={}))Kgt.call(t,n)&&Jgt(e,n,t[n]);if(qgt)for(var n of qgt(t))$gt.call(t,n)&&Jgt(e,n,t[n]);return e};const eyt=["debugVideoQualityOverlay","restorePlayQueue","volume"],tyt=function(){const e=Wgt.prototype.storageKey,t=Tgt("experience").then((t=>{const n=S().pick(t,eyt);if(0!==Object.keys(n).length)return Tgt(e,{}).then((t=>{const r=Xgt(Xgt({},t),n);return Ngt(e,r)}))}));return(0,W.Z)(t)},nyt={"home.continue":[/^(movie|tv)\.inprogress\.([0-9]+)/],"home.movies.recent":[/^movie\.recentlyadded\.([0-9]+)/],"home.music.recent":[/^music\.recent\.added\.([0-9]+)/],"home.photos.recent":[/^photo\.recent\.([0-9]+)/],"home.ondeck":[/^tv\.ondeck\.([0-9]+)/],"home.television.recent":[/^tv\.recentlyadded\.([0-9]+)/],"home.videos.recent":[/^video\.recent\.([0-9]+)/]};function ryt(e,t){return t.some((t=>t.test(e)))}function iyt(e){const t=window.navigator;let n;return e?n=[e]:t.languages?n=t.languages:t.language?n=[t.language]:t.userLanguage&&(n=[t.userLanguage]),q7(n)||"en"}const ayt=oA.Z.extend({name:"ReminderModel",syncedAttrs:{data:KO.Z.object,id:KO.Z.string.isRequired,remindAfter:KO.Z.string.isRequired,times:KO.Z.integer.isRequired}}),syt=BT.Z.extend({name:"ReminderCollection",model:ayt});var oyt=n(43451),lyt=Object.defineProperty,cyt=Object.prototype.hasOwnProperty,dyt=Object.getOwnPropertySymbols,uyt=Object.prototype.propertyIsEnumerable,pyt=(e,t,n)=>t in e?lyt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,myt=(e,t)=>{for(var n in t||(t={}))cyt.call(t,n)&&pyt(e,n,t[n]);if(dyt)for(var n of dyt(t))uyt.call(t,n)&&pyt(e,n,t[n]);return e};const hyt=lme.Z.ORIGINAL,gyt=Ggt.Z.extend({name:"UserExperienceSettingsModel",sessionAttrs:myt(myt({},oyt.Z.sessionAttrs),{isRemoteSchemaVersionNewer:KO.Z.boolean}),syncedAttrs:myt(myt({},oyt.Z.syncedAttrs),{schemaVersion:KO.Z.integer,language:KO.Z.string,playThemeMusic:KO.Z.boolean,companion:KO.Z.boolean,allowHttpFallback:KO.Z.string,timeFormat:KO.Z.string,autoAdjustQuality:KO.Z.boolean,remoteSmallVideoAtOriginalQuality:KO.Z.boolean,useHomeStreamingRecommendedSettings:KO.Z.boolean,localQuality:KO.Z.integer,remoteQuality:KO.Z.integer,audioBoost:KO.Z.integer,subtitleColor:KO.Z.string,subtitlePosition:KO.Z.string,subtitleSize:KO.Z.integer,subtitlesBurnLevel:KO.Z.string,extrasPrefixCount:KO.Z.integer,audioForceMultiChannel:KO.Z.boolean,forceTranscodeProtocolHLS:KO.Z.boolean,autoPlay:KO.Z.boolean,calendarViewType:KO.Z.string,columnAdjustment:KO.Z.integer,columnWidthMultiplier:KO.Z.float,dashboardNowPlayingShowDetails:KO.Z.boolean,hasDismissedDVRUpsell:KO.Z.boolean,hasDismissedServerDashboardUpsell:KO.Z.boolean,hasDismissedHubPromotionWarning:KO.Z.boolean,hasDismissedCustomHomeSunset:KO.Z.boolean,isSidebarCollapsed:KO.Z.boolean,libraryTableColumns:KO.Z.object,listStyles:KO.Z.object,prePlayListStyles:KO.Z.object,directoryListStyles:KO.Z.object,directoryTableColumns:KO.Z.object,savedDirectoryListKeys:KO.Z.object,relayReminders:KO.Z.object,showAdvancedSettings:KO.Z.boolean,showPrePlayArtwork:KO.Z.boolean,musicDownloadQuality:KO.Z.integer,videoDownloadQuality:KO.Z.integer,searchAllServers:KO.Z.boolean,libraryRoutes:KO.Z.object,hasDismissedNewsSunsetBanner:KO.Z.boolean}),syncedRelations:myt(myt({},oyt.Z.syncedRelations),{reminders:{relationClass:syt}}),defaults:()=>myt(myt({},oyt.Z.defaults),{isRemoteSchemaVersionNewer:!1,language:iyt(),playThemeMusic:!1,companion:!0,allowHttpFallback:cUe.Z.NEVER,timeFormat:"h:mma",autoAdjustQuality:!1,remoteSmallVideoAtOriginalQuality:!0,useHomeStreamingRecommendedSettings:!0,localQuality:hyt,remoteQuality:6,audioBoost:aUe.KH,subtitleColor:mUe.WHITE,subtitlePosition:gUe.BOTTOM,subtitleSize:100,subtitlesBurnLevel:fUe.Z.AUTO,extrasPrefixCount:0,audioForceMultiChannel:!1,forceTranscodeProtocolHLS:!1,autoPlay:!0,calendarViewType:vH,columnAdjustment:0,columnWidthMultiplier:1.5,dashboardNowPlayingShowDetails:!1,hasDismissedServerDashboardUpsell:!1,hasDismissedCustomHomeSunset:!1,isSidebarCollapsed:!1,libraryTableColumns:{},listStyles:{[kx.Y3]:{episode:MG,track:MG},[kx.sD]:{track:MG}},prePlayListStyles:{},directoryListStyles:{},directoryTableColumns:{},savedDirectoryListKeys:{},relayReminders:{},showAdvancedSettings:!1,showPrePlayArtwork:!1,musicDownloadQuality:lme.Z.ORIGINAL,videoDownloadQuality:lme.Z.ORIGINAL,searchAllServers:!1,libraryRoutes:{},hasDismissedNewsSunsetBanner:!1}),initialize(){this.set({schemaVersion:gyt.schemaVersion})},augmentResponse(e){if(e.schemaVersion>gyt.schemaVersion)return M.Z.warn(`[Settings] Received settings with schemaVersion of ${e.schemaVersion}; expected ${gyt.schemaVersion} or less.  Settings sharing is now disabled.`),myt(myt({},this.toJSON()),{isRemoteSchemaVersionNewer:!0});e=Pyt(e);const t=this.get("isDirty"),n=this.get("updatedAt"),r=(0,bUe.Z)(e.updatedAt),i=n&&r&&n<r;return t&&n===r||n&&r&&n>r?this.toJSON():(t&&i&&(e.isDirty=!1),e.isRemoteSchemaVersionNewer=!1,e)}},{schemaVersion:4}),yyt=gyt;var vyt=n(81463);function fyt(e){if(e)return e.split("--")}function byt(e){Object.keys(e).forEach((t=>{const n=function(e){const t=fyt(e);if(t.length<3)return e;const[n,r,i,a]=t,s=(0,vyt.Z)(i);return(0,zO.Z)(n,r,s,a)}(t);if(n!==t){const r=e[t];e[n]=r,delete e[t]}}))}function Iyt(e){e.isHidden&&!e.hiddenAt&&(e.hiddenAt=Date.now())}const Syt={1:Eyt,2:function(e){const{lastSourcePivots:t,savedPivotParams:n,sidebarSettings:{pinnedSources:r}={}}=e;return t&&byt(t),n&&byt(n),r&&r.forEach((e=>{const t=fyt(e.key);if(!t)return;const n=t.pop(),r=(0,vyt.Z)(n);if(r!==n){const n=(0,zO.Z)(...t,r);e.directoryID||(e.directoryID=r),e.key=n}})),e},3:Eyt,4:function(e){if(!e.relayReminders)return e;e.reminders=e.reminders||[];for(const t in e.relayReminders){const n=(0,L2e.Z)(j2e.K,t);if(e.reminders.some((e=>e.id===n)))continue;const r=e.relayReminders[t],i={id:n,remindAfter:(0,ui.Z)(r.remindAfter).toISOString(),times:Math.max(0,r.times-1)};e.reminders.push(new ayt(i).toJSON())}return delete e.relayReminders,e}},Myt=[function(e){if(null!=e.autoHomeHubsEnabled)return e;const t=e.homeSettings;return t&&t.hasCustomizations?e.autoHomeHubsEnabled=!1:e.autoHomeHubsEnabled=!0,e},function(e){const t=e.sidebarSettings;t&&t.pinnedSources&&t.pinnedSources.forEach(Iyt);const n=e.homeSettings;return n&&n.hubs&&n.hubs.forEach(Iyt),e},function(e){const{audioBoost:t}=e;if(null!=t){const n=t===aUe.Yq?aUe.KH:aUe.o5,r=yyt.prototype.defaults().audioBoost;n!==t&&n!==r&&(e.audioBoost=n)}return e},function(e){var t;const n=e.homeSettings;return n&&!e.autoHomeHubsEnabled&&(n.hubs=null==(t=n.hubs)?void 0:t.reduce(((e,t)=>{const n=function(e){for(const t in nyt)if(ryt(e,nyt[t]))return t;return e}(t.hubIdentifier);return"/hubs/promoted"===t.directoryKey&&t.provider.identifier===Fo.Y3?e.find((e=>{var r,i,a,s;return e.hubIdentifier===n&&(null==(r=e.provider)?void 0:r.identifier)===(null==(i=t.provider)?void 0:i.identifier)&&(null==(a=e.server)?void 0:a.machineIdentifier)===(null==(s=t.server)?void 0:s.machineIdentifier)}))||(t.directoryKey="/hubs",t.hubIdentifier=n,e.push(t)):e.push(t),e}),[])),e}];function Eyt(e){return e}function Pyt(e={}){let t=e.schemaVersion||0;for(;t<yyt.schemaVersion;)e.schemaVersion=++t,Syt[t](e);return Myt.forEach(((t,n)=>{try{t(e)}catch(e){M.Z.error("[User] Setting migration[%d] error",n,e)}})),e}function Dyt(){const e=Tgt(Vht.Z.storageKey).then((e=>{if(e.users&&e.users.some((e=>e.experienceSettings&&e.experienceSettings.schemaVersion!==yyt.schemaVersion)))return e.users.forEach((e=>{e.experienceSettings=Pyt(e.experienceSettings)})),Ngt(Vht.Z.storageKey,e)}));return(0,W.Z)(e)}const Cyt="samenetwork",wyt=Ggt.Z.extend({name:"DesktopSettingsModel",storageKey:"settingsv2",syncedAttrs:{preferInsecureConnections:KO.Z.string,"syncQuality!video":KO.Z.integer,"syncQuality!music":KO.Z.integer,"syncQuality!photo":KO.Z.integer,viewedUnclaimedServers:KO.Z.list,dismissedUnclaimedServers:KO.Z.list},defaults:()=>({preferInsecureConnections:ae.Z.shouldPreferInsecureLocalConnections?Cyt:"never","syncQuality!video":8,"syncQuality!music":2,"syncQuality!photo":2,viewedUnclaimedServers:[],dismissedUnclaimedServers:[]})});var Zyt=Object.defineProperty,Tyt=Object.prototype.hasOwnProperty,Nyt=Object.getOwnPropertySymbols,Oyt=Object.prototype.propertyIsEnumerable,Ayt=(e,t,n)=>t in e?Zyt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,xyt=(e,t)=>{for(var n in t||(t={}))Tyt.call(t,n)&&Ayt(e,n,t[n]);if(Nyt)for(var n of Nyt(t))Oyt.call(t,n)&&Ayt(e,n,t[n]);return e};const jyt=["autoLogin","chromecastAppID","chromecastCustomAppID","debugLevel","directPlay","directStream","rejectDirectConnections","serverUpdateDismissedVersion"],Lyt=function(){const e=wyt.prototype.storageKey,t=Wgt.prototype.storageKey,n=Tgt(e).then((n=>{const r=S().pick(n,jyt);if(0!==Object.keys(r).length)return Tgt(t,{}).then((e=>{const n=xyt(xyt({},e),r);return Ngt(t,n)})).then((()=>Ngt(e,S().omit(n,jyt))))}));return(0,W.Z)(n)},kyt=["allowHttpFallback","audioBoost","companion","language"],Ryt=function(){const e=Tgt(wyt.prototype.storageKey).then((e=>{const t=S().pick(e,kyt);if(0!==Object.keys(t).length)return Rgt(t).then((()=>Ngt(wyt.prototype.storageKey,S().omit(e,kyt))))}));return(0,W.Z)(e)},zyt="plexTestToken";function Uyt(){const e=h().Deferred(),t=YAe.Z.set(zyt,1);return t.done((()=>{YAe.Z.remove(zyt),e.resolve()})),t.fail((t=>{const n=new Cgt;M.Z.warn(`Storage module swapped for ${n.name} due to exception: "${t}"`),wgt.register(n),YAe.Z.register(n,{ignorePrevious:!0}),e.resolve()})),e.promise()}function Vyt(){return function(){const e=h().Deferred(),t=wgt.get("myPlexAccessToken");return t.done((()=>{window.PLEXWEB&&window.PLEXWEB.myPlexAccessToken||YAe.Z.register(wgt.getInstance())})),t.always((()=>{e.resolve()})),e.promise()}().then(Uyt).then(Lyt).then(tyt).then(Qgt).then(Ryt).then(Dyt)}var Byt=n(96242),Fyt=n(32377);const _yt={[Fyt.FAIRPLAY]:Byt.FAIRPLAY,[Fyt.PLAYREADY]:Byt.PLAYREADY,[Fyt.WIDEVINE]:Byt.WIDEVINE};function Hyt(e,t){return window.navigator.requestMediaKeySystemAccess?window.navigator.requestMediaKeySystemAccess(e,t):Promise.reject(new Error("NotSupportedError"))}function Qyt(e,t,n){return window.MediaKeys||window.WebKitMediaKeys||window.MSMediaKeys?new Promise(((r,i)=>{const{audioCapabilities:a=[],videoCapabilities:s=[]}=n[0],o=a.concat(s).map((e=>e.contentType));o&&o.length&&o.every((n=>e.isTypeSupported(t,n)))?r({keySystem:t}):i(new Error("NotSupportedError"))})):Promise.reject(new Error("NotSupportedError"))}const Gyt=function(e,t=Object.values(Fyt)){const{audioCapabilities:n,videoCapabilities:r}=e,i=[{initDataTypes:["cenc"],audioCapabilities:n,videoCapabilities:r}],a=h().Deferred(),s=window.WebKitMediaKeys,o=s?Qyt.bind(null,s):Hyt,l=t.map((e=>o(e,i)));return Promise.allSettled(l).then((e=>{const n=e.reduce(((e,n,r)=>{const{status:i,reason:a,value:s}=n;return"fulfilled"===i?((0,M.Z)("[Player] %s is available",s.keySystem),e.push(s.keySystem)):(0,M.Z)("[Player] %s is unavailable: %s",t[r],a.message),e}),[]);n.length?a.resolve(n):a.reject()})),a.promise()},Wyt=function(){return Gyt({videoCapabilities:[{contentType:'video/mp4; codecs="avc1.42E01E"'}]}).then((e=>{const t=function(e){let t;for(const n of e)if(t=_yt[n],t)break;return t}(e);return(0,M.Z)("[Player] Supported key systems:",e),(0,M.Z)("[Player] Selected DRM type:",t),t}))};function Yyt(){const e=(0,b.DB)("appModel"),t=ae.Z.drmType;return(t!==Byt.NONE?h().Deferred().resolve(t).promise():(0,W.Z)(Wyt())).then((t=>{e.set("drmType",t),Lze.Z.setOption("drmType",t)}),(()=>{e.unset("drmType"),Lze.Z.setOption("drmType",Byt.NONE)}))}var Kyt=n(80129),qyt=n.n(Kyt);const $yt=function(){const{hashParams:e}=Y(window.location.href),t=qyt().parse(e.substr(1)),n=(0,bUe.Z)(t.pinID);if(n){const e=(0,b.DB)("appModel");Cwe(e).set({pinIDInitial:n}),(0,fn.c9)(),window.history.replaceState(null,null,i7(window.location.href,"pinID"))}return h().Deferred().resolve().promise()};function Jyt(){const e=(0,b.DB)("fullscreenManager").initialize({dispatchEnterFullscreen(){(0,b.DB)("appStore").dispatch((0,mt.rM)())},dispatchExitFullscreen(){(0,b.DB)("appStore").dispatch((0,mt.Qg)())}});return(0,W.Z)(e)}var Xyt=n(42441),evt=n.n(Xyt);function tvt(){const e=(0,b.DB)("keyboardShortcuts");let t=!0;function n(n,r,i){if(t||r instanceof window.KeyboardEvent&&"esc"===i)return e[n.fn](e,r,i)}return le.Z.on("anyModalOpen",(()=>{t=!1})),le.Z.on("allModalsClosed",(()=>{t=!0})),e.shortcuts.forEach((e=>{evt().bind(e.keys,n.bind(null,e))})),h().Deferred().resolve().promise()}function nvt(){const e=(0,b.DB)("settingFinder").find("language");return Lze.Z.setOption("language",e),(0,W.Z)(EUe.Z.load(e))}var rvt=n(37201);const ivt=["touchstart","mousedown","click","keydown","keypress"];function avt(){function e(){ivt.forEach((t=>{document.body.removeEventListener(t,e,!0)}));const t=(0,rvt.Vq)("audio",!0);function n(){t.removeEventListener("playing",n),t.removeEventListener("error",n),t.src="",t.removeAttribute("src"),(0,rvt.u$)(t)}t.addEventListener("playing",n),t.addEventListener("error",n),t.src="data:audio/mpeg;base64,//uQxAAAAAAAAAAAAAAAAAAAAAAASW5mbwAAAA8AAAADAAAGhgBVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVWqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqr///////////////////////////////////////////8AAAA5TEFNRTMuOThyAc0AAAAAAAAAABSAJAiqQgAAgAAABobxtI73AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA//uQxAACFEII9ACZ/sJZwWEoEb8w/////N//////JcxjHjf+7/v/H2PzCCFAiDtGeyBCIx7bJJ1mmEEMy6g8mm2c8nrGABB4h2Mkmn//4z/73u773R5qHHu/j/w7Kxkzh5lWRWdsifCkNAnY9Zc1HvDAhjhSHdFkHFzLmabt/AQxSg2wwzLhHIJOBnAWwVY4zrhIYhhc2kvhYDfQ4hDi2Gmh5KyFn8EcGIrHAngNgIwVIEMf5bzbAiTRoAD///8z/KVhkkWEle6IX+d/z4fvH3BShK1e5kmjkCMoxVmXhd4ROlTKo3iipasvTilY21q19ta30/v/0/idPX1v8PNxJL6ramnOVsdvMv2akO0iSYIzdJFirtzWXCZicS9vHqvSKyqm5XJBdqBwPxyfJdykhWTZ0G0ZyTZGpLKxsNwwoRhsx3tZfhwmeOBVISm3impAC/IT/8hP/EKEM1KMdVdVKM2rHV4x7HVXZvbVVKN/qq8CiV9VL9jjH/6l6qf7MBCjZmOqsAibjcP+qqqv0oxqpa/NVW286hPo1nz2L/h8+jXt//uSxCmDU2IK/ECN98KKtE5IYzNoCfbw+u9i5r8PoadUMFPKqWL4LK3T/LCraMSHGkW4bpLXR/E6LlHOVQxmslKVJ8IULktMN06N0FKCpHCoYsjC4F+Z0NVqdNFoGSTjSiyjzLdnZ2fNqTi2eHKONONKLMPMKLONKLMPQRJGlFxZRoKcJFAYEeIFiRQkUWUeYfef//Ko04soswso40UJAgMw8wosososy0EalnZyjQUGBRQGIFggOWUacWUeYmuadrZziQKKEgQsQLAhQkUJAgMQDghltLO1onp0cpkNInSFMqlYeSEJ5AHsqFdOwy1DA2sRmRJKxdKRfLhfLw5BzUxBTUUzLjk4LjJVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUxBTUUzLjk4LjJVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVf/7ksRRA8AAAaQAAAAgAAA0gAAABFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVU=";const r=t.play();r&&r.then&&r.catch((()=>{}))}return(0,IUe.P_)()||ivt.forEach((t=>{document.body.addEventListener(t,e,!0)})),h().Deferred().resolve().promise()}function svt(e){return e.get("isFullOwnedServer")||e.get("isFullServer")}function ovt(){let e;return se.Z.hasWebSocket&&(e=new vEe({name:"MediaServerEventManager",appModel:(0,b.DB)("appModel"),isValidServer:svt,supportsLongPolling:!1,allowMultipleConnections:ae.Z.allowMultipleWebSocketConnections,ServerEventConnection:(0,b.DB)("mediaServerEventConnection"),ServerRetryManager:yEe}),e.start()),h().Deferred().resolve().promise()}const lvt=oe.Z.extend({mixins:ce.Z,name:"AbstractReporter",enabled:!1,destroyed:!1,_suspended:!1,initialize(e={}){!1!==e.enabled&&this.enable()},hasSupport:()=>!0,enable(){this.enabled||this.destroyed||!this.hasSupport()||(this.enabled=!0,this.listenTo(le.Z,{"log:message":this.onLog,"log:group":this.onLog,"log:groupCollapsed":this.onLog,"log:groupEnd":this.onLog}),this.onEnabled())},disable(){this.enabled&&(this.enabled=!1,this.stopListening(),this.onDisabled())},destroy(){this.destroyed||(this.disable(),this.destroyed=!0,this.onDestroyed())},_suspend(){this._suspended||(this._suspended=!0,this.onSuspended())},_resume(){this._suspended&&(this._suspended=!1,this.onResumed())},onLog(e){if(this._suspended)se.Z.hasConsole&&window.console.warn("[Logging] Ignored log reentrancy:",JSON.stringify(e));else{switch(this._suspend(),e.type){case"log:message":this.onLogMessage(e);break;case"log:group":this.onLogGroup(e);break;case"log:groupCollapsed":this.onLogGroupCollapsed(e);break;case"log:groupEnd":this.onLogGroupEnd(e)}this._resume()}},onLogMessage(){},onLogGroup(){},onLogGroupCollapsed(){this.onLogGroup.apply(this,arguments)},onLogGroupEnd(){},onEnabled(){},onDisabled(){},onResumed(){},onSuspended(){},onDestroyed(){}}),cvt={[M.Z.LEVEL_LOG]:"log",[M.Z.LEVEL_DEBUG]:"debug",[M.Z.LEVEL_INFO]:"info",[M.Z.LEVEL_WARN]:"warn",[M.Z.LEVEL_ERROR]:"error"},dvt=lvt.extend({name:"ConsoleReporter",hasSupport:()=>se.Z.hasConsole,onLogMessage(e){const t=e.message,n=cvt[e.level];(window.console[n]||window.console.log).call(window.console,t)},onLogGroup(e){(window.console.group||window.console.log).call(window.console,e.message)},onLogGroupCollapsed(e){(window.console.groupCollapsed||window.console.log).call(window.console,e.message)},onLogGroupEnd(){window.console.groupEnd&&window.console.groupEnd()}});function uvt(){return new dvt,h().Deferred().resolve().promise()}var pvt=n(62367);function mvt(){(0,M.Z)("[Servers] Initializing..."),function(){const e=(0,b.DB)("appModel"),t=e.get("servers"),n=e.get("cloudServer");n.addConnection((0,pvt.Z)()),t.add(n)}(),function(e){const t=(0,b.DB)("appModel"),n=t.get("servers"),r=Vht.Z.getActiveServers();r&&r.each((e=>{if(e.get("connections").length)try{const r=new _pe.ZP(e.toJSON(),{parent:t}),i=r.get("connections");i.reset(i.filter((e=>!e.get("relay")))),!r.get("isMobileServer")&&i.length>0&&(gvt(r),n.add(r))}catch(e){M.Z.warn(e)}}))}(),function(){const e=(0,b.DB)("appModel"),t=e.get("servers"),n=ae.Z.primaryServer;if(!n)return;const r=new _pe.ZP({machineIdentifier:n.machineIdentifier,friendlyName:n.name,isShared:n.shared,superToken:n.superToken,accessToken:n.accessToken,sourceTitle:n.sourceTitle},{parent:e});r.addConnection({scheme:n.scheme,address:n.address,port:n.port}),t.add(r)}(),function(){const e=(0,b.DB)("appModel"),t=e.get("servers"),n=new _pe.ZP({isBundled:!0},{parent:e});n.addConnection({scheme:window.location.protocol.replace(":",""),address:window.location.hostname,port:window.location.port,isBundled:!0}),gvt(n),t.add(n)}(),function(){if(!ae.Z.allowLoopbackDiscovery)return;const e=(0,b.DB)("appModel"),t=e.get("servers"),n=new _pe.ZP({},{parent:e});n.addConnection({scheme:"http",address:"127.0.0.1",port:"32400"}),gvt(n),t.add(n)}(),(0,b.DB)("serverManager").start(),(0,b.DB)("primaryServerManager").start(),(0,b.DB)("serverConnectionManager").start(),(0,b.DB)("companionServerManager").start(),(0,b.DB)("providerManager").start(),(0,b.DB)("serverUpdateManager").start(),(0,M.Z)("[Servers] Finished initialization")}function hvt(){(0,M.Z)("[Servers] Clearing...");const e=(0,b.DB)("appModel"),t=e.get("servers");(0,b.DB)("serverManager").stop(),(0,b.DB)("primaryServerManager").stop(),(0,b.DB)("serverConnectionManager").stop(),(0,b.DB)("serverConnectionTestManager").reset(),(0,b.DB)("companionServerManager").stop(),(0,b.DB)("providerManager").stop(),(0,b.DB)("serverUpdateManager").stop(),t.uninitialize(),t.reset(),t.initialize(),e.unset("primaryServer"),e.unset("companionServer"),e.unset("transientServer")}function gvt(e){const t=e.get("connections").map((e=>e.get("uri")));(0,M.Z)("[Servers]","Initialize server",e.get("accessToken")?"with token,":"without token,",S().compact([e.get("debugName"),e.get("machineIdentifier"),...t]).join(", "))}function yvt(){return mvt(),le.Z.on("clear:servers",hvt),le.Z.on("init:servers",mvt),h().Deferred().resolve().promise()}var vvt=n(64529),fvt=n(18340),bvt=n.n(fvt);const Ivt=vvt.Z.extend({className:"alert-bar notify",template:bvt(),events:S().extend({"click .info-link":"onInfoClick"},vvt.Z.prototype.events),initialize(){this.listenTo(this.model,"change:read",this.hide)},serializeData(){const e=this.model.get("content");return{content:mne(e),url:this.model.get("url")}},onInfoClick(e){this.hide(),this.model.markAsRead()},onCloseClick(e){vvt.Z.prototype.onCloseClick.apply(this,arguments),this.model.markAsRead()}}),Svt=oe.Z.extend({mixins:ce.Z,announcementsUpdateDelay:36e5,initialize(){this.user=(0,b.DB)("appModel").get("user"),S().bindAll(this,"updateAnnouncements","onSignedInChange")},start(){const e=S().debounce(this.onAnnouncementsChange),t=S().debounce(this.onSignedInChange);this.listenTo(this.user,"change:signedIn",t),this.listenTo(this.user.get("desktop"),{"change:announcements":e,"change:announcements.reset":e,"change:announcements.update":e,"change:announcements.change:read":e,"change:announcements.change:priority":e}),this.user.populate().fail(t)},stop(){window.clearTimeout(this.announcementsUpdateTimeout),this.user.get("desktop").get("announcements").clear(),this.stopListening()},updateAnnouncements(){this.user.get("restricted")||this.user.get("anonymous")||!this.user.server.get("isConnected")||(this.user.get("desktop").get("announcements").fetch(),this.announcementsUpdateTimeout&&window.clearTimeout(this.announcementsUpdateTimeout),this.announcementsUpdateTimeout=window.setTimeout(this.updateAnnouncements,this.announcementsUpdateDelay))},onSignedInChange(){this.user.get("desktop").get("announcements").clear(),this.updateAnnouncements()},onAnnouncementsChange(){if(this.user.get("isSignedIn")&&!this.user.get("restricted")){const e=this.user.get("desktop").get("announcements").findWhere({style:"priority",read:!1});e&&le.Z.trigger("show:bar","alertbar",new Ivt({model:e}))}}}),Mvt=["plex_tv_auth","plex_tv_lang"];var Evt=Object.defineProperty,Pvt=Object.prototype.hasOwnProperty,Dvt=Object.getOwnPropertySymbols,Cvt=Object.prototype.propertyIsEnumerable,wvt=(e,t,n)=>t in e?Evt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Zvt=(e,t)=>{for(var n in t||(t={}))Pvt.call(t,n)&&wvt(e,n,t[n]);if(Dvt)for(var n of Dvt(t))Cvt.call(t,n)&&wvt(e,n,t[n]);return e};const Tvt=oe.Z.extend({mixins:ce.Z,initialize(e){this.user=e,this.debouncedChangeTimeout=null},start(){const e=this.user;this.previousUserID=e.id,this.listenTo(e,{change:this.onUserChange,"change:isLocked":this.onIsLockedChange,"change:hasInvalidToken":this.onHasInvalidTokenChange,"change:isSignedIn":this.onIsSignedInChange}),this.listenTo(le.Z,{"cloudServer:notifyAccountChange":this.onNotifyAccountChange});const t=e.get("isLocked"),n=e.get("hasInvalidToken"),r=e.get("isSignedIn");t&&this.onIsLockedChange(e,t),n&&this.onHasInvalidTokenChange(e,n),r&&this.onIsSignedInChangeHandleToken(e,r);const i=(0,b.DB)("settingFinder").find("autoLogin")||e.get("isUnlocked");(0,M.Z)("[UserManager] autoLogin",i),i||this._lockIfInHome()},handleInvalidToken(){var e=new xle.Z({title:(0,Ce.Z)("Invalid Credentials"),message:(0,Ce.Z)("Your credentials have expired. Please sign in again."),confirmLabel:(0,Ce.Z)("OK"),cancelLabel:(0,Ce.Z)("Ignore")});e.promise.done((()=>{(0,nle.Z)("login")})),le.Z.trigger("show:modal",e)},_lockIfInHome(){const e=Vht.Z.getActiveUser();e&&e.get("home")&&this.user.set("lockState",ut.Ik.Locked)},_updateUser(e,t){if(t){const n={};t.id!==e.id&&(n.included=["experienceSettings"]),t.copyFromModel(e,n)}else Vht.Z.get("users").add(e.toJSON(),{parse:!0});Vht.Z.debouncedSave()},onHasInvalidTokenChange(e,t){t&&this.handleInvalidToken()},onUserChange(e){this.debouncedChangeTimeout&&window.clearTimeout(this.debouncedChangeTimeout);const t=Vht.Z.getActiveUser();this.debouncedChangeTimeout=window.setTimeout(this._updateUser.bind(this,e,t),0)},onIsSignedInChange(e,t){this.onIsSignedInChangeHandleToken(e,t),this.onIsSignedInChangeHandleSyncSettings(e,t),this.onIsSignedInChangeHandlePopulateUser(e,t)},onIsSignedInChangeHandleToken(e,t){if(this.stopListening(e,"change:hasInvalidToken",this.onHasInvalidTokenChange),t){if(t&&e.get("isLocked")&&(this.previousUserID=e.id),t&&e.get("restricted")&&document.cookie.split(";").forEach((e=>{const[t]=e.trim().split("=");t&&!Mvt.includes(t)&&(document.cookie=`${t}=; Domain=plex.tv; Path=/; Expires=Thu, 01 Jan 1970 00:00:01 GMT;`,document.cookie=`${t}=; Domain=.plex.tv; Path=/; Expires=Thu, 01 Jan 1970 00:00:01 GMT;`,document.cookie=`${t}=; Domain=.app.plex.tv; Path=/; Expires=Thu, 01 Jan 1970 00:00:01 GMT;`)})),e.get("isFullUser")&&t){const t=e.server.getXHROptions("/api/claim/subscribe");h().ajax(Zvt(Zvt({},t),{type:"POST"}))}}else e.get("hasInvalidToken")&&this.handleInvalidToken()},onIsSignedInChangeHandleSyncSettings(e,t){if(!t)return;const n=(0,b.DB)("appStore").dispatch,r=e.get("settings"),i=e.get("experienceSettings"),a=r.reduce(((e,t)=>(t.get("isDirty")&&e.push(t.get("id")),e)),[]);i.get("isDirty")&&n((0,oN.Xe)()),a.length&&n((0,oN.Z$)(a))},onIsSignedInChangeHandlePopulateUser(e,t){if(!t)return void e.get("features").clear();const n=(0,b.DB)("appStore").dispatch,r={reset:!0};e.get("homeDetails").populate(r),e.get("homeUsers").populate(r);const i=e.get("desktop");i.get("cloudCompanions").populate(r),i.get("devices").populate(r),i.get("invites").populate(r),i.get("socialNetworks").populate(r),n(EC()),n((0,oN.Bl)())},onIsLockedChange(e,t){t&&(this.previousUserID=e.id,this.isPreviousUserRemote=e.get("isRemote"),this.listenTo(e,"change:isUnlocked",this.onNextIsUnlockedChange))},onNextIsUnlockedChange(e,t){t&&(this.stopListening(e,"change:isUnlocked",this.onNextIsUnlockedChange),window.setTimeout((()=>{const e=this.previousUserID;e&&e===this.user.id||(0,nle.Z)("home")}),0))},onNotifyAccountChange(){this.user.fetch().then((()=>{(0,M.Z)("[User] updated account following account change notification")}),(e=>{M.Z.error("[User] Unable to update account following account change notification",e)}))}});function Nvt(){let e=(0,W.Z)(Vht.Z.populate());return e=e.then((()=>YAe.Z.get("myPlexAccessToken"))),e=e.then((e=>{const t=(0,b.DB)("appModel").get("user"),n=Vht.Z.get("users").findWhere({authToken:e});n&&(t.activateStoredUser(n.id),n.copyToModel(t))}),(()=>{const e=(0,b.DB)("appModel").get("user");e.activateStoredUser(0);const t=Vht.Z.getActiveUser();t&&t.copyToModel(e)})),(0,W.Z)(e).then((()=>{const e=(0,b.DB)("appModel").get("user");new Tvt(e).start(),(new Svt).start()}))}function Ovt(){return(0,b.DB)("watchTogetherRoomsManager").start(),(0,b.DB)("syncplaySessionManager").start(),h().Deferred().resolve().promise()}function Avt(){return y.render(g.createElement(v.zt,{store:(0,b.DB)("appStore")},g.createElement(f.F0,{history:zZe.Z},g.createElement(Smt,null))),document.getElementById("plex")),h().Deferred().resolve().promise()}function xvt(){let e=function(e={},t={}){const n=((e,t)=>{for(var n in t||(t={}))z.call(t,n)&&B(e,n,t[n]);if(U)for(var n of U(t))V.call(t,n)&&B(e,n,t[n]);return e})({allowUrls:[new RegExp((0,k.Z)("-plex-4.57.4-320801d"))],debug:!1,dsn:"https://54c24aee6403406294dd6094728f20e0@o17675.ingest.sentry.io/5594889",environment:"public",ignoreErrors:["ResizeObserver","songId",/^Non-Error promise rejection captured/],integrations:[new A.jK.Breadcrumbs({fetch:!1,xhr:!1})],release:"desktop-desktop@4.57.4-320801d",sampleRate:.05,version:"4.57.4"},e),r=F.reduce(((e,t)=>(e.hasOwnProperty(t)||(e[t]=L.Z.prop(t)),e)),t);return x.S1(n),Object.entries(r).forEach((([e,t])=>{j.YA(e,t)})),h().Deferred().resolve().promise()}();return e=e.then(uvt),e=e.then(hgt),e=e.then(Vyt),e=e.then(Emt),se.Z.hasServiceWorker&&(e=e.then(function(){(0,M.Z)("[Workers] Initializing...");const e=h().Deferred();return(0,b.DB)("serviceWorker").register().then((t=>{(0,M.Z)("[Workers] Finished initialization"),e.resolve()})).catch((t=>{(0,M.Z)("[Workers] Failed initialization: ",t),e.resolve()})),e.promise()}())),e=e.then(wmt),e=e.then(Yyt),e=e.then(O),e=e.then(Pgt),e=e.then(Nvt),e=e.then(nvt),ae.Z.allowCloudPubSub&&(e=e.then((()=>function(){let e;return se.Z.hasWebSocket&&(e=new vEe({name:"CloudServerEventManager",appModel:(0,b.DB)("appModel"),isValidServer:Nmt,supportsLongPolling:!0,allowMultipleConnections:!0,ServerEventConnection:Zmt,ServerRetryManager:Tmt}),e.start()),h().Deferred().resolve().promise()}()))),e=e.then(ovt),e=e.then(ie),e=e.then(yvt),e=e.then(avt),e=e.then(Egt),e=e.then(tvt),e=e.then($yt),e=e.then(re),e=e.then(Jyt),e=e.then(ve),e=e.then(ge),e=e.then(Avt),e=e.then(Ovt),e}var jvt=n(40202),Lvt=n.n(jvt),kvt=n(10371),Rvt=n.n(kvt),zvt=n(30320),Uvt=n.n(zvt),Vvt=n(2397),Bvt=n.n(Vvt),Fvt=n(14118),_vt=n.n(Fvt),Hvt=n(71743),Qvt=n.n(Hvt),Gvt=n(28792),Wvt=n.n(Gvt),Yvt=n(45768),Kvt=n.n(Yvt);Lvt().registerPartial("setting",Wvt()),Lvt().registerPartial("lockableTagInput",_vt()),Lvt().registerPartial("lockableTextInput",Qvt()),Lvt().registerPartial("lockableNumericInput",Bvt()),Lvt().registerPartial("textInput",Kvt()),Lvt().registerPartial("autocompleteTextInput",Rvt()),Lvt().registerPartial("connectError",Uvt());var qvt=n(27098),$vt=n.n(qvt);const Jvt=new($vt())({attributePrefix:"_",emptyNodeForm:{},ignoreRoot:!0}),Xvt=function(e){return'<?xml version="1.0"?>'+Jvt.js2xml(e)};function eft(e){e.forEach((e=>{e.resolve()})),e.length=0}function tft(e){e.forEach((e=>{e.reject()})),e.length=0}const nft=oe.Z.extend({mixins:[ce.Z],name:"MediaServerCompanionProxy",commandID:0,initialize(){S().bindAll(this,"_checkPollRequestStatus","_pickProxyServer","_poll","_repoll","_sendResponse","_unregisterPlayer","onPollSuccess","onPollError"),this._debounceUnregisterPlayer=S().debounce(this._unregisterPlayer,2e3),this._debouncePickProxyServer=S().debounce(this._pickProxyServer,2e3),this._deepLinkDeferred=h().Deferred().resolve(),this._playerRegistrationDeferreds=[],this._playerUnregistrationDeferreds=[],this._pollRetryDelay=1e3},getDeepLink(){return this._deepLinkDeferred.promise()},publish(e){if(!this.proxyServer)return;if(this.timelineInflight)return void(this._pendingTimeline=e);this.timelineInflight=!0;const t=Xvt(e),n=S().result(this.proxyServer,"url"),r=this.proxyServer.getXHROptions(`${n}player/proxy/timeline?commandID=${this.commandID}`);r.data=`timeline=${encodeURIComponent(t)}`,r.method="POST",r.contentType="application/x-www-form-urlencoded",h().ajax(r).always((()=>{this.timelineInflight=!1;const e=this._pendingTimeline;e&&(delete this._pendingTimeline,this.publish(e))}))},subscribe(e){this.started||(this.callback=e,this.started=!0,this.appModel=(0,b.DB)("appModel"),this.listenTo(this.appModel,"change:companionServer",this._debouncePickProxyServer),this._debouncePickProxyServer(this.appModel,this.appModel.get("companionServer")))},unsubscribe(){if(!this.started)return;const e=this.proxyServer;this.started=!1,this.stopListening(this.servers,"change:connected",this._debouncePickProxyServer),this.callback=null,this.proxyServer=null,e&&this._debounceUnregisterPlayer(e),this._clearPollRequestStatusCheck(),this.pollRequest&&(this.pollRequest.abort(),this.pollRequest=null)},unregisterPlayer(e,t){this.cloudServer=e,this.clientID=t;const n=h().Deferred();return this._playerUnregistrationDeferreds.push(n),n.promise()},registerPlayer(e,t){this.cloudServer=e,this.clientID=t;const n=h().Deferred();return this._playerRegistrationDeferreds.push(n),n.promise()},debugStatus(){const e=this.proxyServer;return e?`Proxied: ${e.get("debugName")}`:void 0},_pickProxyServer(e,t){this.started&&(this.proxyServer=t,this.proxyServer&&(this._registerServer(),this._poll()))},_registerServer(){if(!this.proxyServer||!this.cloudServer||!this.clientID)return;const e=this.cloudServer.getXHROptions(`devices/${this.clientID}`,{method:"POST",headers:{"X-Plex-Provides":ae.Z.allowCloudPubSub?"client,player,pubsub-player":"client,player"},data:{_method:"PUT",proxiedBy:this.proxyServer.id}});h().ajax(e).done((()=>{eft(this._playerRegistrationDeferreds)})).fail((()=>{tft(this._playerRegistrationDeferreds)}))},_unregisterPlayer(e){if(!e||!this.cloudServer||!this.clientID)return;const t=this.cloudServer.getXHROptions(`/devices/${this.clientID}`,{method:"POST",headers:{"X-Plex-Provides":"client"},data:{_method:"PUT"}});h().ajax(t).done((()=>{eft(this._playerUnregistrationDeferreds)})).fail((()=>{tft(this._playerUnregistrationDeferreds)}))},_poll(){if(!this.started)return;const e=this.proxyServer;if(!e)return void M.Z.info("[Companion] No proxy server available to long poll");if(this._isPollRequestPending())return void M.Z.info("[Companion] Long poll already open to ",e.get("debugName"));this._clearPollRequestStatusCheck(),this._checkPollRequestStatusLater(),this._clearRepollLater();const t=e.getXHROptions("/player/proxy/poll",{data:{deviceClass:"pc",protocolVersion:"3",protocolCapabilities:"timeline,playback,navigation,mirror,playqueues",timeout:1}});M.Z.info("[Companion] Opening long poll to %s at %s",e.get("debugName"),t.url),this.pollRequest=h().ajax(t).done(this.onPollSuccess).fail(this.onPollError)},_repoll(){this._clearPollRequestStatusCheck(),this._clearRepollLater(),this._poll()},_isPollRequestPending(){return!!this.pollRequest&&"pending"===this.pollRequest.state()},_checkPollRequestStatus(){this._isPollRequestPending()&&this.proxyServer&&(M.Z.info("[Companion] Poll connection successfully opened with %s",this.proxyServer.get("debugName")),this._pollRetryDelay=1e3)},_checkPollRequestStatusLater(){this._pollRequestStatusCheckTimeout=window.setTimeout(this._checkPollRequestStatus,5e3)},_clearPollRequestStatusCheck(){this._pollRequestStatusCheckTimeout=window.clearTimeout(this._pollRequestStatusCheckTimeout)},_repollLater(){this._pollRetryTimeout=window.setTimeout(this._repoll,this._pollRetryDelay)},_clearRepollLater(){this._pollRetryTimeout=window.clearTimeout(this._pollRetryTimeout)},_processCommand(e){if(!this.started)return;const t={path:e.path,commandID:e.commandID,supportsTimeline:!0,query:{key:[e.queryKey],providerIdentifier:[e.queryProviderIdentifier],offset:[e.queryOffset],mediaIndex:[e.queryMediaIndex],containerKey:[e.queryContainerKey],playQueueID:[e.queryPlayqueueid],type:[e.queryType],volume:[e.queryVolume],repeat:[e.queryRepeat],shuffle:[e.queryShuffle],autoPlay:[e.queryAutoPlay],subtitleColor:[e.querySubtitleColor],subtitlePosition:[e.querySubtitlePosition],subtitleSize:[e.querySubtitleSize],subtitleOffset:[e.querySubtitleOffset],audioStreamID:[e.queryAudioStreamID],subtitleStreamID:[e.querySubtitleStreamID],token:[e.queryToken],machineIdentifier:[e.queryMachineIdentifier],protocol:[e.queryProtocol],address:[e.queryAddress],port:[e.queryPort],text:[e.queryText],field:[e.queryField]}},n="resolved"!==this._deepLinkDeferred.state();this.callback(t,n).always((e=>{n&&e&&e.deferredAction&&this._deepLinkDeferred.resolve(e.deferredAction),this._sendResponse(e.controllerResponse)}))},_sendResponse(e){if(!this.proxyServer)return;const t=parseInt(e.commandID,10);this.commandID<t&&(this.commandID=t);const n=`/player/proxy/response?commandID=${e.commandID}`,r=this.proxyServer.getXHROptions(n,{method:"POST",contentType:"application/x-www-form-urlencoded",data:{response:e.body}});h().ajax(r)},onPollSuccess(e){const t=e&&qi.Z.parseXML(e),n=t&&t.Command;e?(t?n||M.Z.warn("[Companion] Poll succeeded without a Command response",t):M.Z.warn("[Companion] Poll succeeded without a parseable response",e),n?(this._repoll(),(Array.isArray(n)?n:[n]).forEach((e=>{try{M.Z.info("[Companion] Received %s from %s",e.path,e.deviceName),this._processCommand(e)}catch(t){M.Z.warn("[Companion] encountered %s while processing %s",t.message,e)}}),this)):this.onPollError()):this._repoll()},onPollError(e={}){const t=this.proxyServer;if(!this.started||!t)return;this._clearPollRequestStatusCheck(),this._clearRepollLater(),this._repollLater(),this._pollRetryDelay*=2;const n=t.get("debugName");M.Z.warn("[Companion] Poll failed to %s",n)}}),rft=Ggt.Z.extend({name:"SessionStatsModel",storageKey:"sessionstats",syncedAttrs:{heartbeatTime:KO.Z.integer,lastPlayingHeartbeatTime:KO.Z.integer,playbackCount:KO.Z.integer,playbackTime:KO.Z.integer,sessionId:KO.Z.string,anonymousSessionId:KO.Z.string,startTime:KO.Z.integer,lastInteractionTime:KO.Z.integer},defaults:{playbackCount:0,playbackTime:0}});var ift=n(27978),aft=n(27903),sft=Object.prototype.hasOwnProperty,oft=Object.getOwnPropertySymbols,lft=Object.prototype.propertyIsEnumerable;const cft=(0,aft.Z)((function(e={},t){const n=function(e){const t=e,{mimeType:n,codecs:r}=t,i=((e,t)=>{var n={};for(var r in e)sft.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&oft)for(var r of oft(e))t.indexOf(r)<0&&lft.call(e,r)&&(n[r]=e[r]);return n})(t,["mimeType","codecs"]);if(!n)return"";const a=[n];if(r&&a.push(`codecs="${r}"`),i)for(const e in i)a.push(`${e}="${i[e]}"`);return a.join("; ")}(e),r=(0,rvt.Vq)("video",!0),i=r.canPlayType(n);return(0,rvt.u$)(r),e.codecs?"probably"===i:"probably"===i||"maybe"===i}));var dft=n(16143),uft=Object.defineProperty,pft=Object.prototype.hasOwnProperty,mft=Object.getOwnPropertySymbols,hft=Object.prototype.propertyIsEnumerable,gft=(e,t,n)=>t in e?uft(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,yft=(e,t)=>{for(var n in t||(t={}))pft.call(t,n)&&gft(e,n,t[n]);if(mft)for(var n of mft(t))hft.call(t,n)&&gft(e,n,t[n]);return e};const vft=(0,FS.Z)()?100:0;function fft(e){return!!(0,FS.Z)()||"progressive"===e.deliveryType&&cft(e)}class bft extends g.Component{constructor(e,t){super(e,t),this._onLoadTimeout=()=>{this._isAdLoaded||this.onError(ift.SM.VAST_MEDIA_FILE_TIMEOUT)},this._onPlaybackTimeout=()=>{this.onError(ift.SM.VAST_MEDIA_FILE_TIMEOUT)},this.onMediaError=()=>{this.onError(ift.SM.VAST_PROBLEM_DISPLAYING_MEDIA)},this.onEnd=()=>{this._lastPositionMilliseconds=null,this._lastOnPositionMillisecondsChange=null,this._clearPlaybackTimeout(),this._playNextAdOrResume()},this.onError=(e=ift.SM.UNDEFINED_ERROR)=>{this._adPod&&this._adPod.error(e),this._playNextAdOrResume()},this.onPositionMillisecondsChange=e=>{this._isAdLoaded||(this._isAdLoaded=!0),e!==this._lastPositionMilliseconds&&(this._setPlaybackTimeout(),this._lastPositionMilliseconds=e),this._adPod?this._adPod.progress(e):M.Z.error("[AdPlayer] Unexpected position update without an adPod"),(!this._lastOnPositionMillisecondsChange||e>=this._lastOnPositionMillisecondsChange+vft)&&(this._lastOnPositionMillisecondsChange=e,this.props.onPositionMillisecondsChange(e))},this._vmapClient=null,this._adPod=null,this._adPodPromise=null,this._isAdLoaded=!1,this._loadTimeoutID=null,this._playbackTimeoutID=null,this._lastPositionMilliseconds=null,this._lastOnPositionMillisecondsChange=null,this._mediaComponent=(0,b.DB)("mediaComponent"),this.bufferingDetectionLimit=ae.Z.bufferingDetectionLimit}componentDidMount(){const{url:e,playerPositionSeconds:t,followsManualRedirect:n}=this.props;this._vmapClient=new ift.KU({url:new window.URL(e),canPlayMedia:fft,followsManualRedirect:n}),this._handlePositionUpdate(1e3*t,!0)}componentDidUpdate(e,t){const{ad:n,playerPositionSeconds:r,isMiniPlayer:i,isFullscreen:a,isPaused:s,isIdle:o,url:l,followsManualRedirect:c,volume:d}=this.props;l!==e.url&&(this.onEnd(),delete this._adPodPromise,this._adPod&&(this._adPod.dispose(),delete this._adPod),this._vmapClient&&this._vmapClient.dispose(),this._vmapClient=new ift.KU({url:new window.URL(l),canPlayMedia:fft,followsManualRedirect:c}));const u=!o&&e.isIdle;if(u||r!==e.playerPositionSeconds){const t=r-e.playerPositionSeconds,n=t<0||t>1;this._handlePositionUpdate(1e3*r,n||u)}this._adPod&&n&&(i!==e.isMiniPlayer&&(this._adPod.expanded=!i),a!==e.isFullscreen&&(this._adPod.fullscreen=a),d!==e.volume&&(this._adPod.muted=0===d),s!==e.isPaused&&(this._adPod.paused=s,s?this._clearPlaybackTimeout():this._setPlaybackTimeout()))}componentWillUnmount(){this._loadTimeoutID&&(this._loadTimeoutID=window.clearTimeout(this._loadTimeoutID)),this._playbackTimeoutID&&(this._playbackTimeoutID=window.clearTimeout(this._playbackTimeoutID)),delete this._adPodPromise,this._adPod&&(this.props.ad&&!this._isAdLoaded&&this._adPod.error(ift.SM.VAST_MEDIA_FILE_TIMEOUT),this._adPod.dispose(),delete this._adPod),this._vmapClient&&this._vmapClient.dispose()}_handlePositionUpdate(e,t){const{isIdle:n}=this.props;if(!n)if(t&&this._vmapClient&&!this._adPodPromise&&!this.props.ad){const t=this._vmapClient.resolveAdPod(e);this._adPodPromise=t,t.then((e=>{let n;t===this._adPodPromise&&e&&(this._adPod=e,n=e.next()),n?this._playAd(n,e):(this._adPod&&(this._adPod.dispose(),delete this._adPod),delete this._adPodPromise,this.onEnd())}),(()=>{delete this._adPodPromise,this.onEnd()}))}else if(this._adPod){if(this._adPod.timeOffset>e)return;const t=this._adPod.next();t?this._playAd(t,this._adPod):(this._adPod.dispose(),delete this._adPod,delete this._adPodPromise)}else if(!this._adPodPromise&&this._vmapClient){const t=this._vmapClient.resolveNextAdPod(e);this._adPodPromise=t,t.then((e=>{t===this._adPodPromise&&(this._adPod=e,e||delete this._adPodPromise)}),(()=>{t===this._adPodPromise&&delete this._adPodPromise}))}}_playAd(e,t){const{volume:n,isMiniPlayer:r,isFullscreen:i,isPaused:a}=this.props;t.expanded=r,t.fullscreen=i,t.muted=0===n,t.paused=a,this._isAdLoaded=!1,this._loadTimeoutID=window.setTimeout(this._onLoadTimeout,8e3),this.props.onAdChange(e)}_playNextAdOrResume(){const e=this._adPod?this._adPod.next():null;e?this._playAd(e,this._adPod):(this._adPod&&this._adPod.dispose(),delete this._adPod,delete this._adPodPromise,this.props.onAdChange(e))}_setPlaybackTimeout(){this._clearPlaybackTimeout(),this.props.isPaused||(this._playbackTimeoutID=window.setTimeout(this._onPlaybackTimeout,8e3))}_clearPlaybackTimeout(){this._playbackTimeoutID=window.clearTimeout(this._playbackTimeoutID)}render(){var e,t,n,r;const i=this.props,{ad:a,url:s,isMiniPlayer:o,isPaused:l,positionSeconds:c,playerPositionSeconds:d,statusOverlayClassName:u}=i,p=((e,t)=>{var n={};for(var r in e)pft.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&mft)for(var r of mft(e))t.indexOf(r)<0&&hft.call(e,r)&&(n[r]=e[r]);return n})(i,["ad","url","isMiniPlayer","isPaused","positionSeconds","playerPositionSeconds","statusOverlayClassName"]),m=this._adPod?Math.round((this._adPod.timeOffset-1e3*d)/1e3):dft.pN,h=!!a,y=null!=(t=null==(e=this._adPod)?void 0:e.hasAnyCreative)&&t&&!o,v=h?this._mediaComponent.getComponent({protocol:"http",isDirectPlay:!0}):null;return g.createElement(g.Fragment,null,h?g.createElement(v,yft(yft({},p),{key:a.url.href,bufferingDetectionLimit:this.bufferingDetectionLimit,positionSeconds:c,paused:l,src:a.url.href,mediaType:Al.pX,onPositionMillisecondsChange:this.onPositionMillisecondsChange,onEnd:this.onEnd,onError:this.onMediaError})):null,y?g.createElement(dft.ZP,{className:u,displayIndex:null!=(n=null==a?void 0:a.displayIndex)?n:dft.Ho,displayTotal:null!=(r=null==a?void 0:a.displayTotal)?r:dft.Mf,secondsUntilAd:m}):null)}}bft.defaultProps={isIdle:!1,followsManualRedirect:!1};const Ift=bft,Sft=(0,v.$j)((function(){return(0,fe.P1)(p4e(["isPaused","positionSeconds","durationSeconds"]),O1e,((e,{volume:t})=>t),((e,t,n)=>({volume:t||n||0,isPaused:e.isPaused,playerPositionSeconds:e.positionSeconds,playerDurationSeconds:e.durationSeconds})))}),(function(e,t){const{playerType:n}=t;return{onBufferingChange(t){e((0,a1e.n9)({playerType:n,isBuffering:t}))},onPause(){e((0,a1e.wO)({playerType:n,isApplicationInitiated:!0}))},onPlay(){e((0,a1e.hY)({playerType:n,isApplicationInitiated:!0}))},onMetricsPlayerChange(t){e((0,vt.Kq)({playerType:n,metricsPlayer:t}))}}}))(Ift);var Mft=n(14540),Eft=Object.create,Pft=Object.defineProperty,Dft=Object.getPrototypeOf,Cft=Object.prototype.hasOwnProperty,wft=Object.getOwnPropertyNames,Zft=Object.getOwnPropertyDescriptor;const Tft={default:Sft},Nft=g.lazy((()=>{return void 0,null,e=function*(){try{const e=(0,Mft.Z)()?"//imasdk.googleapis.com/js/sdkloader/ima3_debug.js":"//imasdk.googleapis.com/js/sdkloader/ima3.js";(0,Mft.Z)()&&(0,M.Z)("[IMA] SDK loading from",e),yield function(e){return new Promise(((t,n)=>{function r(e){var t;e&&(null==(t=s.parentNode)||t.removeChild(s)),s.removeEventListener("load",i),s.removeEventListener("error",a)}function i(){r(!1),t()}function a(){r(!0),n(new Error(`Unable to load: ${e}`))}const s=document.createElement("script");try{!function(e){const t=document.getElementsByTagName("SCRIPT");return Array.from(t).some((t=>t.src===e))}(e)?(s.addEventListener("error",a),s.addEventListener("load",i),s.type="text/javascript",s.src=e,document.body.appendChild(s)):t()}catch(e){r(!0),n(e)}}))}(e)}catch(e){return M.Z.error("[IMA] SDK load failed",e),Tft}try{return(0,Mft.Z)()&&(0,M.Z)("[IMA] SDK %s loaded",window.google.ima.VERSION),(0,Mft.Z)()&&(0,M.Z)("[IMA] Enabling VPAID"),window.google.ima.settings.setVpaidMode(window.google.ima.ImaSdkSettings.VpaidMode.ENABLED),(0,Mft.Z)()&&(0,M.Z)("[IMA] Loading ImaPlayer"),yield Promise.resolve().then((()=>{return e=n(77255),((e,t,n)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let r of wft(t))Cft.call(e,r)||"default"===r||Pft(e,r,{get:()=>t[r],enumerable:!(n=Zft(t,r))||n.enumerable});return e})((t=Pft(null!=e?Eft(Dft(e)):{},"default",e&&e.__esModule&&"default"in e?{get:()=>e.default,enumerable:!0}:{value:e,enumerable:!0}),Pft(t,"__esModule",{value:!0})),e);var e,t}))}catch(e){return M.Z.error("[IMA] Player failed to initialize",e),Tft}},new Promise(((t,n)=>{var r=t=>{try{a(e.next(t))}catch(e){n(e)}},i=t=>{try{a(e.throw(t))}catch(e){n(e)}},a=e=>e.done?t(e.value):Promise.resolve(e.value).then(r,i);a((e=e.apply(undefined,null)).next())}));var e})),Oft={getComponent:()=>(0,MX.Z)((0,b.DB)("appModel"),bn.CG)?Nft:Sft},Aft="audioStream",xft="playPause",jft="repeat",Lft="seekTo",kft="shuffle",Rft="skipNext",zft="skipPrevious",Uft="stop",Vft="subtitleStream",Bft="volume",Fft=(...e)=>e.reduce(((e,t)=>e.concat("string"==typeof t?t.split(","):t)),[]).sort().join(","),_ft=Fft(Uft,Aft,Vft,Bft),Hft=Fft(Aft,"autoPlay",xft,jft,Lft,kft,Rft,zft,"stepBack","stepForward",Uft,Vft,Bft),Qft={videoCloudLiveTV:_ft,video:Fft(Hft,"subtitleColor","subtitleOffset","subtitlePosition","subtitleSize"),music:Fft(xft,jft,Lft,kft,Rft,zft,Uft,Bft),photo:Fft(xft,Lft,Rft,zft,Uft)};function Gft(){return cft({mimeType:"application/x-mpegURL"})}var Wft=n(54611),Yft=Object.create,Kft=Object.defineProperty,qft=Object.getPrototypeOf,$ft=Object.prototype.hasOwnProperty,Jft=Object.getOwnPropertyNames,Xft=Object.getOwnPropertyDescriptor,ebt=e=>{return((e,t,n)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let r of Jft(t))$ft.call(e,r)||"default"===r||Kft(e,r,{get:()=>t[r],enumerable:!(n=Xft(t,r))||n.enumerable});return e})((t=Kft(null!=e?Yft(qft(e)):{},"default",e&&e.__esModule&&"default"in e?{get:()=>e.default,enumerable:!0}:{value:e,enumerable:!0}),Kft(t,"__esModule",{value:!0})),e);var t};const tbt=g.lazy((()=>Promise.resolve().then((()=>ebt(n(83076)))))),nbt=g.lazy((()=>Promise.resolve().then((()=>ebt(n(63686)))))),rbt=g.lazy((()=>Promise.resolve().then((()=>ebt(n(51630)))))),ibt={getComponent:e=>e?"parsec"===e.protocol?rbt:"dash"===e.protocol||e.drm===Byt.FAIRPLAY&&"hls"===e.protocol&&Gft()?nbt:"hls"===e.protocol&&Gft()?Wft.Z:"hls"===e.protocol?tbt:Wft.Z:Wft.Z},abt=function(){const e=window.MediaSource||window.WebkitMediaSource,t=window.SourceBuffer||window.WebKitSourceBuffer;return!(!e||"function"!=typeof e.isTypeSupported||t&&(!t.prototype||"function"!=typeof t.prototype.appendBuffer||"function"!=typeof t.prototype.remove))};var sbt=Object.prototype.hasOwnProperty,obt=Object.getOwnPropertySymbols,lbt=Object.prototype.propertyIsEnumerable;var cbt=Object.defineProperty,dbt=Object.prototype.hasOwnProperty,ubt=Object.getOwnPropertySymbols,pbt=Object.prototype.propertyIsEnumerable,mbt=(e,t,n)=>t in e?cbt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,hbt=(e,t)=>{for(var n in t||(t={}))dbt.call(t,n)&&mbt(e,n,t[n]);if(ubt)for(var n of ubt(t))pbt.call(t,n)&&mbt(e,n,t[n]);return e};const gbt={videoResolution:!0},ybt={width:1920,height:1080,bitDepth:8,frameRate:30};function vbt(e,t){return S().pick(e,((e,n)=>0===n.indexOf(t)))}function fbt(e,t,n,r){const i=hbt(hbt({},vbt(e,r)),vbt(t,r));return S().map(i,((e,i)=>{return{codec:S().has(t,i)?n:null,name:(a=i.slice(r.length),a?a.charAt(0).toLowerCase()+a.slice(1):""),value:e};var a}))}var bbt=n(16551);function Ibt(e=Pj.prop("video")){var t,n,r,i,a,s,o;const l=(null==(i=null==(r=null==(n=null==(t=e.directPlay)?void 0:t.mp4)?void 0:n.video)?void 0:r.codecs)?void 0:i.hevc)||(null==(o=null==(s=null==(a=e.directStream)?void 0:a.video)?void 0:s.codecs)?void 0:o.hevc);return(null==l?void 0:l.maxBitDepth)>=10}var Sbt=n(79270),Mbt=n(62638);function Ebt(e,t){return!e||!!t&&e>=t}var Pbt=Object.defineProperty,Dbt=Object.prototype.hasOwnProperty,Cbt=Object.getOwnPropertySymbols,wbt=Object.prototype.propertyIsEnumerable,Zbt=(e,t,n)=>t in e?Pbt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Tbt=(e,t)=>{for(var n in t||(t={}))Dbt.call(t,n)&&Zbt(e,n,t[n]);if(Cbt)for(var n of Cbt(t))wbt.call(t,n)&&Zbt(e,n,t[n]);return e};const Nbt=function e(t,n,r,i={},a){const s=(0,b.DB)("appModel"),o=s.get("user").get("experienceSettings"),l=s.get("deviceSettings"),c=Pj.prop("video"),d=function(e,t){return!(!SUe()||!t.server.get("hasAdaptiveBitrate")||e.get("remotePlayer"))}(s,t),u=function(e){const{profile:t,metadataItem:n,mediaItem:r,canPlayAdaptiveBitrate:i,settings:a}=e;let{qualityIndex:s}=e;const o=r?[r]:n.get("Media"),l=Qj.Z.getAvailableQualitiesFor(o,n.server,{lowestQualityIndex:t.lowestQualityIndex,highestQualityIndex:t.highestQualityIndex});return null==s?s=function(e){const{mediaItems:t,transcodeServer:n,metadataItem:r,canPlayAdaptiveBitrate:i,settings:a,availableQualities:s}=e,o=function(e){return Math.max.apply(Math,e.map((e=>e.bitrate)))}(t),l=n.get("maxUploadBitrate"),c=n.get("isPrivateConnection"),d=i&&a.get("autoAdjustQuality");let{localQualityDefault:u}=a;void 0===u&&(u=Qj.Z.ORIGINAL);const p=(0,Mbt.Z)(r,c),m=(0,Sbt.Z)(r,c),h=Qj.Z.getQualityByIndex(a.get(m));if(p){const e=a.get("useHomeStreamingRecommendedSettings")?u:h.index,t=Qj.Z.getQualityByIndex(e),n=Qj.Z.isExplicitQuality(t.index)&&Ebt(t.bitrate,o);return t.index===Qj.Z.ORIGINAL||n?Qj.Z.ORIGINAL:d?Qj.Z.CONVERT_AUTOMATICALLY:Qj.Z.getBestAvailableQuality(t,s)}const g=Ebt(l,o),y=h.index===Qj.Z.ORIGINAL,v=Ebt(h.bitrate,o);return a.get("remoteSmallVideoAtOriginalQuality")&&g&&(y||v)?Qj.Z.ORIGINAL:d?Qj.Z.CONVERT_AUTOMATICALLY:y&&g?Qj.Z.ORIGINAL:Qj.Z.getBestAvailableQuality(h,s)}({mediaItems:o,transcodeServer:n.server,metadataItem:n,canPlayAdaptiveBitrate:i,settings:a,availableQualities:l}):Qj.Z.isExplicitQuality(s)&&!l.find((e=>e.index===s))&&(s=Qj.Z.ORIGINAL),{availableQualities:l,quality:Qj.Z.getQualityByIndex(s),qualityIndex:s}}({profile:c,metadataItem:t,qualityIndex:n,mediaItem:a,canPlayAdaptiveBitrate:d,settings:o}),p=u.qualityIndex,m=p===Qj.Z.CONVERT_AUTOMATICALLY&&d,h=l.get("directPlay")&&!m,g=l.get("directStream")&&!m?1:0,y=d&&o.get("autoAdjustQuality")&&!Qj.Z.isExplicitQuality(p);let v,f=u.quality;return m&&(f=function(e,t){const n=e.server.get("isPrivateConnection");if((0,Mbt.Z)(e,n)&&t.get("useHomeStreamingRecommendedSettings")){const e=t.defaults().localQuality;return Qj.Z.getQualityByIndex(e)}const r=(0,Sbt.Z)(e,n),i=t.get(r);return Qj.Z.getQualityByIndex(i)}(t,o)),p!==Qj.Z.ORIGINAL&&(v=e(t,Qj.Z.ORIGINAL,r,i,a)),Tbt({type:Mde.Z.types.VIDEO,profile:c,allowDirectPlay:h,allowDirectStreamVideoWithSoftSubtitles:!0,allowIncompleteSegments:!0,subtitlesBurnLevel:o.get("subtitlesBurnLevel"),availableQualities:u.availableQualities,qualityIndex:p,quality:f,transcoderOptions:Tbt({addDebugOverlay:l.get("debugVideoQualityOverlay")?1:0,autoAdjustQuality:y||m?1:0,directStream:g,directStreamAudio:g,audioBoost:o.get("audioBoost")},i),originalQualityDecisionOptions:v},r)},Obt=abt(),Abt=abt()||Gft(),xbt=Obt?"dash":"hls",jbt=function(e,t,n){const r=Ac.getMetadataType(e.get("type"));return(null==r?void 0:r.mediaType)===Al.j0?function(){const e=[];return Obt&&e.push("add-transcode-target(type=musicProfile&context=streaming&protocol=dash&container=mp4&audioCodec=aac)"),Abt&&e.push("add-transcode-target(type=musicProfile&context=streaming&protocol=hls&container=mpegts&audioCodec=aac,mp3)"),{type:Mde.Z.types.MUSIC,profile:Pj.prop("music"),allowDirectPlay:!0,hasNativeHLS:Abt,hasDASH:Obt,transcoder:bbt.Z,transcodeProtocol:xbt,preferredDirectPlayProtocol:xbt,transcoderOptions:{directStreamAudio:1,mediaBufferSize:12288},profileExtra:e.length?e.join("+"):null}}():(null==r?void 0:r.mediaType)===Al.eD?{type:Mde.Z.types.ROM,profile:{},allowDirectPlay:!1,allowDirectStream:!1,transcoder:bbt.Z,transcoderOptions:{}}:function(e,t,n){const r=(0,b.DB)("appModel").get("user").get("experienceSettings"),i={hasNativeHLS:Abt,hasDASH:Obt,hasStreamingMKV:!1,canDisplayHDR:Ibt(),canDisplayDolbyVision:!1,subtitlesBurnLevel:r.get("subtitlesBurnLevel"),transcoder:bbt.Z,transcodeProtocol:xbt,preferredDirectPlayProtocol:xbt,profileExtra(e){const t=function(e){const t=e.finalProfile.directStream.video,n=(0,Mc.Z)(e.media),r=n&&n.codec,i=t.codecs&&t.codecs[r],a=fbt(t,i,r,"min");let s=fbt(t,i,r,"max");if(!n)return[];const o={width:n.width<=ybt.width,height:n.height<=ybt.height,bitDepth:n.bitDepth<=ybt.bitDepth,frameRate:n.frameRate<=ybt.frameRate};s=s.filter((e=>{return!0!==o[e.name]&&!0!==gbt[e.name]&&(t=e.name,n=e.value,!ybt[t]||ybt[t]<n);var t,n}));const l=[...a.map((({codec:e,name:t,value:n})=>function({codec:e,name:t,value:n}){return`add-limitation(scope=videoCodec&scopeName=${encodeURIComponent(e||"*")}&type=lowerBound&name=video.${encodeURIComponent(t)}&value=${encodeURIComponent(n)}&replace=true)`}({codec:e,name:t,value:n}))),...s.map((({codec:e,name:t,value:n})=>function({codec:e,name:t,value:n}){return`add-limitation(scope=videoCodec&scopeName=${encodeURIComponent(e||"*")}&type=upperBound&name=video.${encodeURIComponent(t)}&value=${encodeURIComponent(n)}&replace=true)`}({codec:e,name:t,value:n})))];return i&&"h264"!==r&&l.push(function(e){const{protocol:t,codec:n}=e;return`append-transcode-target-codec(type=videoProfile&context=streaming&protocol=${encodeURIComponent(t)}&videoCodec=${encodeURIComponent(n)})`}({protocol:e.protocol,codec:r})),l}(e),n=e.finalProfile.directStream.video.codecs.hevc;if("hevc"===e.media.videoCodec&&n){const{maxBitDepth:r}=n;t.push(function(e={}){const{maxBitDepth:t=8,protocol:n,supportsHDR:r=!1,supportsDolbyVision:i=!1}=e,a=["bt709","bt470m","bt470bg","smpte170m","smpte240m"];return t>=10&&a.push("bt2020-10"),t>=12&&a.push("bt2020-12"),t>=10&&(r||i)&&a.push("smpte2084"),`add-limitation(scope=videoTranscodeTarget&scopeName=hevc&scopeType=videoCodec&context=streaming&protocol=${n}&type=match&name=video.colorTrc&list=${a.join("|")}&isRequired=false)`}({protocol:e.protocol,maxBitDepth:r,supportsHDR:e.canDisplayHDR,supportsDolbyVision:e.canDisplayDolbyVision}))}let r=Object.keys(e.finalProfile.directStream.audio.codecs);return"dash"===e.protocol&&(r=r.filter((e=>!1===/^e?ac3$/.test(e)))),t.push(function(e){const t=e,{type:n="videoProfile",context:r="streaming",videoCodec:i,audioCodec:a,subtitleCodec:s}=t,o=((e,t)=>{var n={};for(var r in e)sbt.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&obt)for(var r of obt(e))t.indexOf(r)<0&&lbt.call(e,r)&&(n[r]=e[r]);return n})(t,["type","context","videoCodec","audioCodec","subtitleCodec"]),l={type:n,context:r};return i&&(l.videoCodec=Array.isArray(i)?i.join(","):i),a&&(l.audioCodec=Array.isArray(a)?a.join(","):a),s&&(l.subtitleCodec=Array.isArray(s)?s.join(","):s),Object.assign(l,o),`append-transcode-target-codec(${E.Z.stringifyParams(l)})`}({protocol:e.protocol,audioCodec:r.join(",")})),t.join("+")}},a=(0,b.DB)("appModel").get("user").get("experienceSettings");a.get("forceTranscodeProtocolHLS")&&"dash"===i.transcodeProtocol&&(Abt?a.get("autoAdjustQuality")?M.Z.warn("[Player] Experimental alternate streaming protocol for video playback is disabled because automatic quality adjustment is enabled"):(M.Z.warn("[Player] Experimental alternate streaming protocol for video playback is enabled"),i.transcodeProtocol="hls"):M.Z.warn("[Player] Experimental alternate streaming protocol for video playback is unsupported by this browser"));const s={subtitleSize:r.get("subtitleSize"),mediaBufferSize:102400},o=n||e.get("Media")[0];return o&&"livetv"===o.origin&&(i.allowDirectPlay=!1),Nbt(e,t,i,s,n)}(e,t,n)},Lbt=oe.Z.extend({mixins:[ce.Z],name:"AjaxQueue",queue:null,request:null,enabled:!1,destroyed:!1,initialize(e={}){this.queue=[],!1!==e.enabled&&this.enable()},enable(){this.enabled||this.destroyed||(this.enabled=!0,this.onEnabled())},disable(){this.enabled&&(this.enabled=!1,this.request=null,this.onDisabled())},destroy(){this.destroyed||(this.disable(),this.queue.length=0,this.destroyed=!0,this.onDestroyed())},send(e){e&&(this.queue.push(e),this._next())},_next(){if(!this._canNext())return;const e=this.queue.shift(),t=e&&this._getAjaxOptions(e);if(t){const e=h().ajax(t);e.always(this.onAjaxAlways.bind(this,e)),this.request=e}},_canNext(){return this.enabled&&!this.request},_getAjaxOptions:e=>e,onAjaxAlways(e){this.enabled&&e===this.request&&(this.request=null,this._next())},onEnabled(){this._next()},onDisabled(){},onDestroyed(){}});function kbt(){const e=new Lbt;let t=null;return{setBaseUrl(e){t=e},trackEvent(n){if(!t)return void(0,_.Z)(!1,"Network metrics reporters requires a base URL to be set before tracking events");const r=E.Z.join([t,"collect/event"]),i=JSON.stringify(n);window.navigator.sendBeacon?window.navigator.sendBeacon(r,i):e.send({type:"POST",url:r,contentType:"text/plain",data:i})}}}const Rbt=["enable","disable","set","start","trackClick","trackEvent","trackView","incrementPlaybackCount","addPlaybackTime","toJSON"],zbt=["setBaseUrl","trackEvent"];var Ubt=n(89410),Vbt=n(78636),Bbt=n(14640),Fbt=Object.defineProperty,_bt=Object.prototype.hasOwnProperty,Hbt=Object.getOwnPropertySymbols,Qbt=Object.prototype.propertyIsEnumerable,Gbt=(e,t,n)=>t in e?Fbt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Wbt=(e,t)=>{for(var n in t||(t={}))_bt.call(t,n)&&Gbt(e,n,t[n]);if(Hbt)for(var n of Hbt(t))Qbt.call(t,n)&&Gbt(e,n,t[n]);return e};function Ybt(e,t){const{server:n}=t,r=n.get("debugName");return M.Z.warn("[Connections] Aborting connection test for %s at %s because secure connections are disallowed",r,e),Kbt(0,t)}function Kbt(e,t){const{connection:n}=t,r=h().Deferred();return S().defer((()=>{n.set({currentTest:null,testState:Ubt.nZ}),r.reject(n)})),r.promise()}function qbt(e){const{server:t,connection:n}=e,r=t.resolveUrl(e.url||"/media/providers",{connection:n}),i=(0,b.DB)("appModel"),a=i.get("settings"),s=i.get("deviceSettings");if(!ae.Z.allowHttpsMediaServerConnections&&n.get("isHttps")&&!t.get("isCloud"))return Ybt(r,e);const o=a&&a.get("preferInsecureConnections");if(!t.get("httpsRequired")&&!t.get("isCloud")&&n.get("isHttps")&&"always"===o)return Ybt(r,e);if(!t.get("httpsRequired")&&n.get("isHttps")&&o===Cyt&&n.get("isPrivate")&&t.get("publicAddressMatches"))return function(e,t){const{server:n}=t,r=n.get("debugName");return M.Z.warn("[Connections] Aborting connection test for %s at %s because insecure connections are preferred",r,e),Kbt(0,t)}(r,e);if(!ae.Z.allowMixedContent&&se.Z.isHostedHttps&&!n.get("isHttps"))return function(e,t){const{server:n}=t,r=n.get("debugName");return M.Z.warn("[Connections] Aborting connection test for %s at %s due to mixed content prevention",r,e),Kbt(0,t)}(r,e);const l=s&&s.get("rejectDirectConnections");return t.get("isCloud")||n.get("relay")||!l&&!ae.Z.rejectDirectConnections?function(e,t){const{server:n,connection:r}=t,i=h().Deferred(),a=n.get("debugName"),s=(0,Vbt.Z)(n),o=Date.now();(0,M.Z)("[Connections] Testing connection for %s at %s",a,e);const l=[],c={dataType:"text",headers:{Accept:s.accept},timeout:n.connectionTestTimeout};l.push(n.getXHROptions(e,c));const d=!Pwe(n);if(null==t.url&&d){const e=n.resolveUrl("/",{connection:r});(0,M.Z)("[Connections] Testing legacy connection for %s at %s",a,e),l.push(n.getXHROptions(e,c))}if(ae.Z.emulateBrokenHTTPS){const e=r.get("isHttps")&&!n.get("isCloud"),t="private"!==ae.Z.emulateBrokenHTTPS||r.get("isPrivate");e&&t&&function(e){e.forEach((e=>{e.url="fail"+e.url}))}(l)}const u=l.map((e=>h().ajax(e))),p=(0,Uxe.Z)(...u);function m(e){r.get("relay")&&(0,b.DB)("metrics").trackEvent(Wbt(Wbt({},e),{event:mz.EE,interaction:!1,reason:1===r.server.get("connections").length?101:102,serverType:r.server.get("isShared")?"shared":"owned",latency:Date.now()-o}))}function g(t){(0,M.Z)("[Connections] %s connected at %s",a,e),r.set({currentTest:null,testState:Ubt.nm}),m({status:"success"}),i.resolve(r,t)}function y(t,n){const s={currentTest:null};if(t.some((e=>e.aborting)))(0,M.Z)("[Connections] Aborted pending connection test for %s at %s",a,e),s.testState=Ubt.c9;else{const r=function(e){return 401===e||403===e||406===e}(n)?Ubt.WY:Ubt.nZ;m({status:"failure",error:n}),t.forEach((t=>{M.Z.warn("[Connections] %s is %s at %s (Status %s)",a,r,e,t.status)})),s.testState=r}r.set(s),i.reject(r,t)}return r.set({currentTest:u,testState:Ubt.hA}),p.done((()=>{const[t,r]=u;let i;if(200!==t.status&&404!==t.status?i=t.status:r&&200!==r.status&&(i=r.status),void 0!==i)return void y(u,i);if(n.get("isCloud"))return void g();const o=s.parse(t.responseText),l=r?s.parse(r.responseText):void 0,c=n.parseResponse(h().extend(!0,{},o,l)),d=c.machineIdentifier,p=n.get("isTransient")?n.get("originalMachineIdentifier"):n.get("machineIdentifier");if(!d||p&&d!==p)M.Z.warn("[Connections] %s has an unexpected machine identifier at %s",a,e),y(u);else{!0===c.mediaProviders?c.mediaProviders=1:!1===c.mediaProviders?c.mediaProviders=0:r||(c.mediaProviders=1);const e=n.parse(c);n.get("isTransient")&&(e.machineIdentifier=n.get("machineIdentifier")),e.isInstallingServerUpdate=!1,e.isProvidersPending=!1,e.isProvidersPopulated=!0,(0,Bbt.Z)(e.providers,n),g(e)}})),i.promise()}(r,e):function(e,t){const{server:n}=t,r=n.get("debugName");return M.Z.warn("[Connections] Aborting connection test for %s at %s due to reject direct connection debug setting",r,e),Kbt(0,t)}(r,e)}var $bt=n(18305);const Jbt=function(){const e=(0,b.DB)("appModel").get("ui"),t=e.get("audioVideoPlayer"),n=e.get("photoPlayer"),r=e.get("romPlayer"),i=(0,$bt.Z)(t),a=(0,$bt.Z)(n);return i===z1e.Z$||a===z1e.Z$||!!r&&(0,$bt.Z)(r)===z1e.Z$},Xbt=(0,fe.P1)(uAe.Z,(e=>e.volume));var eIt=n(56669),tIt=Object.defineProperty,nIt=Object.prototype.hasOwnProperty,rIt=Object.getOwnPropertySymbols,iIt=Object.prototype.propertyIsEnumerable,aIt=(e,t,n)=>t in e?tIt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,sIt=(e,t)=>{for(var n in t||(t={}))nIt.call(t,n)&&aIt(e,n,t[n]);if(rIt)for(var n of rIt(t))iIt.call(t,n)&&aIt(e,n,t[n]);return e};const oIt=_pe.ZP.prototype.sessionAttrs,{isCloud:lIt}=oIt,cIt=((e,t)=>{var n={};for(var r in e)nIt.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&rIt)for(var r of rIt(e))t.indexOf(r)<0&&iIt.call(e,r)&&(n[r]=e[r]);return n})(oIt,["isCloud"]),dIt=_pe.ZP.extend({name:"TransientServerModel",cache:null,persistInCache:!1,sessionAttrs:sIt(sIt({},cIt),{isTransient:KO.Z.boolean,originalMachineIdentifier:KO.Z.string}),derivedAttrs:sIt(sIt({},_pe.ZP.prototype.derivedAttrs),{isCloud(){return this.get("originalMachineIdentifier")===Hj.X}}),defaults(){const e=_pe.ZP.prototype.defaults.apply(this,arguments);return sIt(sIt({},e),{friendlyName:"Transient Server",isTransient:!0})},updateCacheKey(){},testConnection(e){if(this.get("originalMachineIdentifier")!==Hj.X)return _pe.ZP.prototype.testConnection.apply(this,arguments);e.set({testState:Ubt.nm}),this.onConnectionTestSuccess(e)}});var uIt=n(70871),pIt=Object.defineProperty,mIt=Object.prototype.hasOwnProperty,hIt=Object.getOwnPropertySymbols,gIt=Object.prototype.propertyIsEnumerable,yIt=(e,t,n)=>t in e?pIt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,vIt=(e,t)=>{for(var n in t||(t={}))mIt.call(t,n)&&yIt(e,n,t[n]);if(hIt)for(var n of hIt(t))gIt.call(t,n)&&yIt(e,n,t[n]);return e};const fIt="ui/player/localCompanionPlayer/runLocalCompanionPlaybackAction",bIt="ui/player/localCompanionPlayer/setTransientServer",IIt="ui/player/localCompanionPlayer/mirrorLocalDetails",SIt=(0,bc.Z)(fIt),MIt=(0,bc.Z)(bIt),EIt=(0,bc.Z)(IIt),PIt={[fIt](e,{type:t,action:n},r){const{type:i,payload:a={}}=n,s=e.get("ui"),o=t===uIt.pV?Se.pV:Se.Se,l=s.get(o+"Player");l.get("isOpen")&&l.get("playQueue")&&r({type:i,payload:vIt(vIt({},a),{playerType:o})})},[bIt](e,t){e.set("transientServer",t)},[IIt](e,t){}};var DIt=n(43149),CIt=n(74183),wIt=Object.defineProperty,ZIt=Object.prototype.hasOwnProperty,TIt=Object.getOwnPropertySymbols,NIt=Object.prototype.propertyIsEnumerable,OIt=(e,t,n)=>t in e?wIt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const AIt={"/player/timeline/subscribe":function(){(0,b.DB)("localCompanionTimelineManager").start()},"/player/timeline/unsubscribe":function(){BIt(),(0,b.DB)("localCompanionTimelineManager").stop()},"/player/mirror/details":function(e){const t=e.providerIdentifier&&e.providerIdentifier[0];let n,r;return VIt().then((()=>zIt(e))).then((e=>(n=e,UIt(n)))).then((e=>(r=e.get(t||Fo.Y3),r?r.populate({merge:!0}):h().Deferred().reject().promise()))).then((()=>function(e,t,n){const r=(n.key&&n.key[0]).replace("/children",""),i=new lC.Z({key:r},{server:e,provider:t});return jIt=r,i.populate().then((()=>jIt!==r?h().Deferred().reject().promise():{metadataItemModel:i}))}(n,r,e))).then((({metadataItemModel:e})=>{kIt(EIt({serverEntityID:n.entityID(),providerEntityID:r.entityID(),key:e.get("key"),parentKey:e.get("parentKey"),type:e.get("type"),subtype:e.get("subtype")}))}))},"/player/playback/playMedia":function(e){const t=e.providerIdentifier&&e.providerIdentifier[0],n=e.type&&e.type[0],r=e.offset&&e.offset[0],i=e.mediaIndex&&e.mediaIndex[0],a=e.containerKey&&e.containerKey[0];let s,o;return vle.Z.execute("remotePlaybackUnlock").then((()=>zIt(e))).then((e=>(s=e,UIt(s)))).then((e=>{const n=wj(a);return n&&(o=e.get(t||Fo.Y3),o)?o.populate().then((()=>({playQueueID:n}))):h().Deferred().reject().promise()})).then((({metadataItemModel:e,playQueueID:t})=>{const l=s.entityID(),c=o.entityID(),d=uIt.d2(n),u=null==r?null:parseInt(r,10),p=null==i?null:parseInt(i,10);if(e){const t=e.entityID();kIt(vt.wA({serverEntityID:l,providerEntityID:c,metadataItemEntityID:t,startMetadataItemEntityID:t,startOffsetMilliseconds:u,startMediaIndex:p,confirmPlayback:!0,confirmOffset:!0,options:{type:d,containerKey:a}}))}else kIt(vt.lh({serverEntityID:l,providerEntityID:c,playQueueType:d,playQueueID:t,startOffsetMilliseconds:u,startMediaIndex:p}))}))},"/player/playback/pause":e=>RIt(e,a1e.wO()),"/player/playback/play":e=>RIt(e,a1e.hY()),"/player/playback/stop":e=>RIt(e,vt.Mh()),"/player/playback/skipNext":e=>RIt(e,Rj.o1()),"/player/playback/skipPrevious":e=>RIt(e,Rj.oA()),"/player/playback/stepForward":e=>RIt(e,a1e.wW()),"/player/playback/stepBack":e=>RIt(e,a1e.QJ()),"/player/playback/skipTo":function(e){const t=decodeURIComponent(e.key[0]);RIt(e,Rj.$Y({key:t}))},"/player/playback/seekTo":function(e){const t=parseInt(e.offset[0],10);RIt(e,a1e.O7({positionSeconds:Math.floor(t/1e3)}))},"/player/playback/refreshPlayQueue":function(e){RIt(e,Rj.Ai())},"/player/playback/refreshStreams":function(e){RIt(e,a1e.km())},"/player/playback/setParameters":function(e){const t=e.volume&&e.volume[0],n=e.repeat&&e.repeat[0],r=e.shuffle&&e.shuffle[0],i=e.autoPlay&&e.autoPlay[0],a=e.subtitleColor&&e.subtitleColor[0],s=e.subtitlePosition&&e.subtitlePosition[0],o=e.subtitleSize&&e.subtitleSize[0],l=e.subtitleOffset&&e.subtitleOffset[0];if(null!=t){const n=parseInt(t,10);RIt(e,a1e.v6({volume:n}))}if(null!=n){const t=parseInt(n,10);RIt(e,Rj.ul({repeatAll:t===DIt.QN,repeatOne:t===DIt.ry}))}null!=r&&RIt(e,Rj.Yj()),null!=i&&RIt(e,Rj.Sp({autoPlay:1===parseInt(e.autoPlay,10)})),null!=a&&RIt(e,a1e.EZ({subtitleColor:a})),null!=s&&RIt(e,a1e.Wj({subtitlePosition:s})),null!=o&&RIt(e,a1e.YA({subtitleSize:parseInt(o,10)})),null!=l&&RIt(e,a1e.Kb({subtitleOffset:parseInt(l,10),localUpdateOnly:!0}))},"/player/playback/setStreams":function(e){const t=e.audioStreamID&&e.audioStreamID[0],n=e.subtitleStreamID&&e.subtitleStreamID[0];null!=t&&RIt(e,a1e.mj({streamTypeString:"audio",streamID:t.toString()})),null!=n&&RIt(e,a1e.mj({streamTypeString:"subtitles",streamID:n.toString()}))},"/player/navigation/moveLeft":()=>FIt("moveLeft"),"/player/navigation/moveRight":()=>FIt("moveRight"),"/player/navigation/moveUp":()=>FIt("moveUp"),"/player/navigation/moveDown":()=>FIt("moveDown"),"/player/navigation/select":()=>FIt("select"),"/player/navigation/back":()=>FIt("back"),"/player/navigation/home":function(){VIt().then((()=>{kIt((0,Wn.EP)())}))}};let xIt,jIt;function LIt(e,t,n){return{commandID:e,body:Xvt({Response:{_code:t,_status:n}}),responseCode:t}}function kIt(e){(0,b.DB)("appStore").dispatch(e)}function RIt(e,t){const n=e.type&&e.type[0];n?(t.type===vt.qG&&BIt(),kIt(SIt({type:n,action:t}))):M.Z.warn("[Companion] Ignored playback action due to missing type")}function zIt(e){const t=e.machineIdentifier[0],n=(0,b.DB)("appModel"),r=n.get("servers").get(t),i=n.get("transientServer");let a;xIt=t;const s={originalMachineIdentifier:t,accessToken:e.token&&e.token[0],mediaProviders:1};r&&(s.serverClass=r.get("serverClass"),s.publicAddressMatches=r.get("publicAddressMatches"),s.version=r.get("version")),i&&i.get("originalMachineIdentifier")===t?(a=i,a.set(s)):a=new dIt(((e,t)=>{for(var n in t||(t={}))ZIt.call(t,n)&&OIt(e,n,t[n]);if(TIt)for(var n of TIt(t))NIt.call(t,n)&&OIt(e,n,t[n]);return e})({machineIdentifier:`transient-${t}-${(0,GE.Z)()}`},s),{parent:n});const o=r&&r.get("isConnected")&&r.get("activeConnection");let l;if(o)l={scheme:o.get("scheme"),address:o.get("address"),port:o.get("port"),uri:o.get("uri")};else{const t=e.port&&e.port[0];let n,r=e.protocol&&e.protocol[0],i=e.address&&e.address[0],a=i;if(!r&&!i)return M.Z.warn("[Companion] Unable to create a transient server without a protocol or address"),h().Deferred().reject().promise();"https"===r&&(i=(0,CIt.Z)(i),ae.Z.allowHttpsMediaServerConnections||(r="http",a=i)),n=`${r}://${a}`,t&&(n+=":"+t),l={scheme:r,address:i,port:t,uri:n}}return a.addConnection(l),a.testOnlyUntestedConnections().then((()=>xIt!==t?h().Deferred().reject().promise():(a.get("isTransient")&&kIt(MIt(a)),a)))}function UIt(e,t){const n=(0,b.DB)("appModel").get("user"),r=e.get("isCloud")&&!e.get("isTransient")?n.get("providers"):e.get("providers");e.set({isProvidersPending:!0,isProvidersPopulated:!1,providersError:null});const i=r.populate();return i.then((()=>(e.set({isProvidersPending:!1,isProvidersPopulated:!0}),i)),(()=>(e.set({isProvidersPending:!1,providersError:{}}),i)))}function VIt(){const e=h().Deferred();return(0,b.DB)("appModel").get("user").get("isLocked")?e.reject():e.resolve(),e.promise()}function BIt(){(0,b.DB)("appModel").get("user").get("isRemote")&&kIt((0,AM.xh)())}function FIt(e){le.Z.trigger("companion:"+e),le.Z.trigger("companion:key",e)}function _It(e){const{path:t,query:n,commandID:r,supportsTimeline:i}=e,a=h().Deferred(),s=AIt[t];if(function(){const e=(0,b.DB)("appModel").get("inputActivity");e&&e.notice()}(),!1!==i&&(0,b.DB)("localCompanionTimelineManager").start(),s)(s(n)||h().Deferred().resolve().promise()).done((()=>{(0,M.Z)(`[Companion] Successfully processed command from path "${t}"`);const e=LIt(r,200,"OK");a.resolve({controllerResponse:e})})).fail((()=>{M.Z.warn(`[Companion] Failed to process command from path "${t}"`);const e=LIt(r,400,"Bad Request");a.resolve({controllerResponse:e})}));else{M.Z.warn(`[Companion] Unable to handle command from unknown path "${t}"`);const e=LIt(r,400,"Bad Request");a.resolve({controllerResponse:e})}return a.promise()}function HIt(e){const t=()=>e.get("deviceSettings"),n=()=>e.get("user").get("experienceSettings"),r={autoPlay:n,autoLogin:t,companion:n,language:n,shouldSyncSettings:t,subtitleColor:n,subtitlePosition:n,subtitleSize:n,volume:t};return{find:e=>r[e]().get(e),addCompanionChangeListener(t){e.on("change:user.change:experienceSettings.change:companion",t)}}}function QIt(e){return!!(function(e){return!(!e||e.get("isCloud")||"iOS"===e.get("platform")||!e.supports("companionProxy"))}(e)&&(t=e.get("activeConnection"),t&&t.get("isPrivate")&&t.get("isConnected")));var t}function GIt(e){return!(!QIt(e)||e.get("isShared"))}const WIt=oe.Z.extend({mixins:[ce.Z],name:"CompanionServerManager",initialize(e){this.appModel=e.appModel,this.servers=this.appModel.get("servers"),this._throttlePickCompanionServer=S().throttle(this._pickCompanionServer,2e3)},start(e){this.stop(),this.listenTo(this.servers,"change:connected change:activeConnection update",this._throttlePickCompanionServer),this.started=!0,this._pickCompanionServer()},stop(){this.stopListening(),this.started=!1},_pickCompanionServer(){this.started&&(this.companionServer&&QIt(this.companionServer)&&this.servers.contains(this.companionServer)||(this.companionServer=this.servers.find(GIt)||this.servers.find(QIt),this.companionServer?((0,b.DB)("appStore").dispatch((0,Wn.a7)({serverEntityID:this.companionServer.entityID()})),M.Z.info("[Companion] Found companion",this.companionServer.get("debugName"))):((0,b.DB)("appStore").dispatch((0,Wn.yy)()),M.Z.warn("[Companion] No companion found"))))}}),YIt=oe.Z.extend({mixins:[ce.Z],browserConnectionChangeDelay:2e3,initialize(e){S().bindAll(this,"onBrowserConnectionChange"),this.appModel=e.appModel,this.servers=this.appModel.get("servers"),this.settings=this.appModel.get("settings")},start(){this.stop();const e=h()(window);e.on("online",this.onBrowserConnectionChange),e.on("offline",this.onBrowserConnectionChange),this.listenTo(le.Z,{"test:servers":this.onTestAllServers,"test:server":this.onTestServer}),this.listenTo(this.servers,{add:this.onServerAdd,remove:this.onServerRemove,reset:this.onServersReset,"error:connection":this.onServerConnectionError,"change:connections.add":this.onServerConnectionAdd,"change:connections.remove":this.onServerConnectionRemove,"change:connections.reset":this.onServerConnectionsReset,"change:connections.change:isConnected":this.onServerConnectionConnectedChange,"change:connections.change:sources.change":this.onServerConnectionSourcesChange,"change:accessToken":this.onServerAccessTokenChange,"change:isConnected":this.onServerConnectedChange,"change:isUnavailable":this.onServerUnavailableChange,"change:publicAddressMatches":this.onServerPublicAddressMatchesChange}),this.listenTo(this.settings,"sync",this.onSettingsSave),this.servers.invoke("testOnlyUntestedConnections")},stop(){this.stopListening();const e=h()(window);e.off("online",this.onBrowserConnectionChange),e.off("offline",this.onBrowserConnectionChange)},retryServerConnections:function(e){e.testAllConnections()},startFailedServerRetries(e){},stopFailedServerRetries(e){},_removeConnection(e){const{server:t}=e,n=Vht.Z.getActiveServers();if((0,M.Z)("[Connections] Removed connection %s from %s",e.id,t.get("debugName")),t.abortConnectionTest(e),n){const r=n.get(t.id),i=r&&r.get("connections");i&&i.get(e.id)&&(i.remove(e.id),i.length||n.remove(t.id),Vht.Z.debouncedSave())}},onBrowserConnectionChange(e){(0,M.Z)("[Connections] Browser online status changed to",window.navigator.onLine),window.clearTimeout(this.browserConnectionChangeTimeout),this.browserConnectionChangeTimeout=window.setTimeout((()=>{this.servers.invoke("testAllConnections")}),this.browserConnectionChangeDelay)},onTestAllServers(){this.servers.invoke("testAllConnections")},onTestServer(e){e.testAllConnections()},onServerAdd(e){e.testOnlyUntestedConnections()},onServerRemove(e){const t=Vht.Z.getActiveServers();let n;if(e.abortAllConnectionTests(),this.stopFailedServerRetries(e),t)if(e.get("isMerged")){const r=e.previous("machineIdentifier");r&&(n=t.get(r),n&&(n.set("machineIdentifier",e.id),Vht.Z.debouncedSave()))}else n=t.get(e.id),n&&(t.remove(e.id),Vht.Z.debouncedSave())},onServersReset(e,t){const n=t.previousModels;S().each(n,(t=>{e.contains(t)||(t.abortAllConnectionTests(),this.stopFailedServerRetries(t))}))},onServerConnectionError(e){M.Z.warn("[Connections] Possible connection error for %s, retrying connection tests",e.get("debugName")),e.get("isCloud")?this.appModel.get("user").signInUnsupervised():e.testAllConnections()},onServerConnectionAdd(e){const{server:t}=e;(0,M.Z)("[Connections] Added connection %s for %s",e.id,t.get("debugName")),e.get("relay")?t.get("connections").hasFailedEveryDirectConnection()&&t.testAllConnections():t.testConnection(e)},onServerConnectionRemove(e){this._removeConnection(e)},onServerConnectionsReset(e,t){const n=t.previousModels;S().each(n,(t=>{e.contains(t)||this._removeConnection(t)}))},onServerConnectionConnectedChange(e,t){const{server:n}=e,r=e.get("isBundled"),i=e.get("isFallback"),a=e.get("relay"),s=t&&!r&&!i&&!a,o=Vht.Z.getActiveServers();if(n.id&&!n.get("isCloud")&&s&&o){let t=o.get(n.id);if(t)t.copyFromModel(n);else{const e=S().omit(n.toJSON(),"connections");t=o.add(e,{merge:!0,parse:!0})}t.get("connections").add(e.toJSON(),{merge:!0,parse:!0}),Vht.Z.debouncedSave()}},onServerConnectionSourcesChange(e,t){const{server:n}=e,r=Vht.Z.getActiveServers(),i=r&&r.get(n.id);if(i){const n=i.get("connections").get(e.id);n&&(n.get("sources").set(t.toJSON()),Vht.Z.debouncedSave())}},onServerAccessTokenChange(e,t){if(!e.get("isCloud")){(0,M.Z)("[Connections] Access token for %s changed to %s",e.get("debugName"),t);const n=Vht.Z.getActiveServers(),r=n&&n.get(e.id);r&&(r.set("accessToken",t),Vht.Z.debouncedSave()),e.get("isUnauthorized")&&e.set("connectionTestResult",_pe.ZP.connectionTestResults.PENDING),e.testAllConnections()}},onServerConnectedChange(e,t){t&&this.stopFailedServerRetries(e)},onServerUnavailableChange(e,t){t&&this.startFailedServerRetries(e)},onServerPublicAddressMatchesChange(e,t){void 0!==t&&e.testAllConnections()},onSettingsSave(e){e.changed.hasOwnProperty("preferInsecureConnections")&&this.servers.invoke("testAllConnections")}}),KIt=YIt.extend({initialize(e){YIt.prototype.initialize.apply(this,arguments),this._serverRetryManager=new gEe({callback:this.retryServerConnections.bind(this),logFormat:"[Connections] Retrying connection tests for %s in %s seconds"})},stop(){YIt.prototype.stop.apply(this,arguments),this._serverRetryManager.stopAll()},startFailedServerRetries(e){this._serverRetryManager.start(e)},stopFailedServerRetries(e){this._serverRetryManager.stop(e)}});Object.prototype.hasOwnProperty,Object.getOwnPropertySymbols,Object.prototype.propertyIsEnumerable;const qIt=["page","type","style","mode"];var $It=n(58698);const JIt=/0/g,XIt=()=>(0|16*Math.random()).toString(16),eSt=function(){return"00000000-0000-4000-8000-000000000000".replace(JIt,XIt)};var tSt=Object.defineProperty,nSt=Object.prototype.hasOwnProperty,rSt=Object.getOwnPropertySymbols,iSt=Object.prototype.propertyIsEnumerable,aSt=(e,t,n)=>t in e?tSt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,sSt=(e,t)=>{for(var n in t||(t={}))nSt.call(t,n)&&aSt(e,n,t[n]);if(rSt)for(var n of rSt(t))iSt.call(t,n)&&aSt(e,n,t[n]);return e};const oSt=oe.Z.extend({mixins:ce.Z,initialize(e){this.privacySettings=null,this.defaults={},this._pendingPrivacyRequest=null,this._pendingEvents=[],this.debouncedFetchPrivacySettings=S().debounce(this.fetchPrivacySettings,250),this.isPlaybackActive=e.isPlaybackActive,this.enable()},enable(){this.enabled=!0},disable(){this.enabled=!1},set(e){this.defaults=sSt(sSt({},this.defaults),e)},setUser(e){this.set({userId:e.id}),this.defaults.context||(this.defaults.context={}),this.defaults.context.user=e.get("subscriptions").reduce(((e,t)=>(e[t.get("type")]=t.get("mode"),e)),{anonymous:e.get("anonymous")})},fetchPrivacySettings(){this.privacySettings=null,this._pendingPrivacyRequest&&(this._pendingPrivacyRequest.abort(),this._pendingPrivacyRequest=null);const e=(0,b.DB)("appModel").get("user");if(!e.server.get("isConnected"))return h().Deferred().reject().promise();const t=e.server.getXHROptions("/api/v2/user/privacy",{dataType:"json"});return this._pendingPrivacyRequest=h().ajax(t),this._pendingPrivacyRequest.promise().done((t=>{this.setUser(e),this.setPrivacySettings(t),this.trackPendingEvents()})).always((()=>{this._pendingPrivacyRequest=null}))},setPrivacySettings(e){e&&e.metrics&&(this.privacySettings=sSt(sSt({},e),{metrics:e.metrics.reduce(((e,t)=>(e[t.event]=t.status,e)),{})}),(0,b.DB)("metricsReporter").setBaseUrl(e.baseUrl))},incrementPlaybackCount(){const e="playbackCount",t=(0,b.DB)("sessionStats");t.save(e,t.get(e)+1)},addPlaybackTime(e){const t="playbackTime",n=(0,b.DB)("sessionStats");n.save(t,n.get(t)+e)},trackView(e,t){const n=mz.fB,r=sSt({event:n,interaction:!0,properties:e},t),i=Hd.Z.measure(function(e,t){let n=e;for(let e=0;e<qIt.length;e++){const r=t[qIt[e]];null!=r&&(n=`${n}:${r}`)}return n}(n,e),`${n}:${e.page}-start`);i&&(r.properties=sSt(sSt({},r.properties),{latency:Math.round(i.duration)})),this.trackEvent(r)},trackClick(e,t){this.trackEvent(sSt({event:mz.Ip,interaction:!0,properties:e},t))},trackEvent(e){var t;if(!this.enabled)return;const n=null==(t=e.properties)?void 0:t.contextTuple;n&&(delete e.properties.contextTuple,Object.assign(e.properties,(0,Jt.IF)(n)));const r=(0,b.DB)("sessionStats"),i=r.get("sessionId"),a=r.get("anonymousSessionId");if(!this.privacySettings)return void this._pendingEvents.push(sSt(sSt({},e),{sessionIdentifier:i,anonymousSessionIdentifier:a}));const s=h().extend(!0,{},this.defaults,e);s.sessionIdentifier||(s.sessionIdentifier=i),s.anonymousSessionIdentifier||(s.anonymousSessionIdentifier=a);const o=Date.now();if(e.event!==mz.$R&&e.event!==mz.o$){const t=r.get("lastInteractionTime"),n=r.get("lastPlayingHeartbeatTime");if(o-Math.max(t,n)>18e5)return void this.flushSession().then((()=>{this.trackEvent(e)}))}const l=this.privacySettings.metrics[s.event];l&&("off"===l||(s.interaction&&(0,$It.Z)(),"anonymous"===l&&(delete s.userId,s.deviceIdentifier=(0,b.DB)("appModel").get("anonymousClientID"),s.sessionIdentifier=s.anonymousSessionIdentifier),delete s.anonymousSessionIdentifier,(0,b.DB)("metricsReporter").trackEvent(s)))},trackPendingEvents(){const e=this._pendingEvents;let t=0;for(;t<e.length;)this.trackEvent(e[t]),t++;this._pendingEvents=[]},start(){const e=(0,b.DB)("appModel").get("user");return this.flushSession().then((()=>(0,W.Z)(e.server.populate()))).then((()=>this.fetchPrivacySettings())).always((()=>{this.listenTo(e.server,"change:isConnected",this.onCloudServerChange),this.listenTo(e,"change:id",this.onUserIDChange)})),h().Deferred().resolve().promise()},flushSession(){const e=(0,b.DB)("sessionStats").populate().then((()=>{this.stopSession(),this.startSession()}),(()=>{this.startSession()}));return(0,W.Z)(e)},startSession(){const e=Date.now(),t=(0,b.DB)("sessionStats");if(!this.interval){const e=ae.Z.heartbeatInterval;this.interval=window.setInterval((()=>{const e=Date.now(),n={heartbeatTime:e};this.isPlaybackActive()&&(n.lastPlayingHeartbeatTime=e),t.set(n)}),e)}t.save({sessionId:eSt(),anonymousSessionId:eSt(),startTime:e,lastInteractionTime:e,heartbeatTime:e,lastPlayingHeartbeatTime:null,playbackCount:0,playbackTime:0});const n=mz.o$,r=Hd.Z.endPeriod(n),i={event:n,interaction:!0,properties:{mode:"uno"}};r&&(i.properties.latency=Math.round(r.duration)),this.trackEvent(i)},stopSession(){const e=(0,b.DB)("sessionStats"),t=e.get("heartbeatTime"),n=e.get("playbackCount"),r=e.get("playbackTime"),i=e.get("startTime");this.trackEvent({event:mz.$R,interaction:!1,properties:{sessionLength:Math.floor((t-i)/1e3),playbackCount:n,playbackTime:M4e(r)}})},toJSON(){return sSt({},this.defaults)},onCloudServerChange(e,t){t?this.fetchPrivacySettings():this.privacySettings=null},onUserIDChange(){this.privacySettings=null,this.debouncedFetchPrivacySettings()}}),lSt=oe.Z.extend({mixins:[ce.Z],initialize(e){this.appModel=e.appModel,this.servers=this.appModel.get("servers")},start(e){this.stop(),this.listenTo(this.appModel,{"change:primaryServer":this.onPrimaryServerChange,"change:primaryServer.change:isPrimaryEligible":this.onPrimaryServerEligibleChange,"change:primaryServer.change:isOutOfDate":this.onPrimaryServerOutOfDateChange,"change:isWaitingForServers":this.onWaitingForServersChange,"change:primaryServer.change:isRelayed":this.onPrimaryServerIsRelayedChange}),this.listenTo(this.servers,{"update reset":this.onServersUpdate}),this._setPrimaryServer(OC.STARTUP)},stop(){this.stopListening(),this._primaryServerPromise=null},_setPrimaryServer(e){if(this._primaryServerPromise)return this._primaryServerPromise;const t=(0,b.DB)("appStore");t.dispatch((0,Wn.I2)());const n=this._waitForPrimaryServer();return this._primaryServerPromise=n,n.done((r=>{if(n===this._primaryServerPromise){if(this._primaryServerPromise=null,this.appModel.get("primaryServer"))return;const n=!r.get("version")&&!r.get("isRejected");r.get("isOutOfDate")||n?((0,M.Z)("[Primary Server] The server, %s, is waiting for a version",r.get("debugName")),this._setPrimaryServer(e)):t.dispatch((0,Wn.h9)({machineIdentifier:r.id,metricsProperties:{context:e}}))}})).fail((()=>{n===this._primaryServerPromise&&(this._primaryServerPromise=null,this.appModel.set("isWaitingForPrimaryServer",!1))})),n},_waitForPrimaryServer(){const e=this.appModel.get("user").get("lastPrimaryServerID");let t;return e?((0,M.Z)("[Primary Server] Waiting for the last primary server, %s, to connect",e),t=this.servers.populateServer({machineIdentifier:e,isPrimaryEligible:!0,isOutOfDate:!1})):t=h().Deferred().reject().promise(),t=t.then(null,(()=>((0,M.Z)("[Primary Server] Waiting for any owned server to connect"),this.servers.populateServer({isFullOwnedServer:!0,isPrimaryEligible:!0,isOutOfDate:!1})))),t=t.then(null,(()=>((0,M.Z)("[Primary Server] Waiting for any eligible server to connect"),this.servers.populateServer({isPrimaryEligible:!0,isOutOfDate:!1})))),t=t.then(null,(()=>((0,M.Z)("[Primary Server] Waiting for any eligible server"),this.servers.findServer({isPrimaryEligible:!0,isOutOfDate:!1})))),t},onPrimaryServerChange(e,t){Vht.Z.flushDebouncedSave();const n=e.previous("primaryServer");n&&this.stopListening(n),t?(M.Z.info("[Primary Server] %s is now the primary server",t.get("debugName")),e.get("user").set("lastPrimaryServerID",t.id),t.get("isRelayed")&&(0,b.DB)("appStore").dispatch((0,wC.J3)({machineIdentifier:t.id,serverName:t.get("friendlyName")}))):e.get("isWaitingForPrimaryServer")?(0,M.Z)("[Primary Server] Waiting to set the primary server"):M.Z.warn("[Primary Server] No primary server found")},onPrimaryServerEligibleChange(e,t){const n=this.appModel.get("user");t||((0,M.Z)("[Primary Server] The previous primary server, %s, is unauthorized",e.get("debugName")),n.unset("lastPrimaryServerID"),this._setPrimaryServer(OC.FALLBACK))},onPrimaryServerOutOfDateChange(e,t){const n=this.appModel.get("user");t&&((0,M.Z)("[Primary Server] The previous primary server, %s, is out of date",e.get("debugName")),n.unset("lastPrimaryServerID"),this._setPrimaryServer(OC.FALLBACK))},onWaitingForServersChange(e,t){if(t){const t=e.get("primaryServer"),n=!t||!this.servers.get(t.id),r=e.get("isWaitingForPrimaryServer");n&&!r&&this._setPrimaryServer(OC.FALLBACK)}},onPrimaryServerIsRelayedChange(e,t){t&&(0,b.DB)("appStore").dispatch((0,wC.J3)({machineIdentifier:e.id,serverName:e.get("friendlyName")}))},onServersUpdate(){const e=this.appModel.get("user"),t=this.appModel.get("primaryServer");t?t&&!this.servers.get(t.id)&&((0,M.Z)("[Primary Server] The previous primary server, %s, was removed",t.get("debugName")),e.unset("lastPrimaryServerID"),this._setPrimaryServer(OC.FALLBACK)):this._setPrimaryServer(OC.STARTUP)}}),cSt=oe.Z.extend({mixins:[ce.Z],initialize(e){this.appModel=e.appModel},start(){const e=this.appModel.get("user");this.populateCloudProviders(e.get("providers")),this.listenTo(this.appModel,{"change:user.change:providers.add":this.onProviderAdd})},stop(){this.stopListening()},populateCloudProviders(e){e.each((e=>{this.populateCloudProvider(e)}))},populateCloudProvider(e){e.get("isPopulated")||(0,b.DB)("appStore").dispatch(DC({providerEntityID:e.entityID(),options:{merge:!0}}))},onProviderAdd(e){this.populateCloudProvider(e)}});function dSt(e,t,n){return function(r){return r.server===e&&r.connection.id===t.id&&r.url===n}}const uSt=oe.Z.extend({initialize(e){this.appModel=e.appModel,this.queued=[],this.executing=[],this.maximumConcurrent=ae.Z.maximumConcurrentConnectionTests,this.throttledStartProcessing=S().throttle(this._startProcessing.bind(this),50,{leading:!1})},queueConnectionTest({server:e,connection:t,url:n}){const r=this._queuedOrExecuting(e,t,n);if(r)return r.deferred.promise();const i=h().Deferred();return this.queued.push({server:e,connection:t,url:n,deferred:i}),this._sortQueue(),this.throttledStartProcessing(),i.promise()},abortConnectionTest({server:e,connection:t,url:n}){return this._abortCurrentTest(e,t,n),this._removeQueuedOrExecuting(e,t,n),h().Deferred().resolve().promise()},reset(){for(this.queued.length=0;this.executing.length>0;)this.abortConnectionTest(this.executing[0])},_sortQueue(){const e=this.appModel.get("user").get("lastPrimaryServerID");this.queued.sort(((t,n)=>{const r=t.server,i=n.server,a=t.connection,s=n.connection,o=this._isManualConnection(a),l=this._isManualConnection(s),c=this._isMatchingLocation(r,a),d=this._isMatchingLocation(i,s);return r.id===e&&i.id!==e?-1:i.id===e&&r.id!==e?1:r.get("isCloud")&&!i.get("isCloud")?-1:i.get("isCloud")&&!r.get("isCloud")?1:!a.get("relay")&&s.get("relay")?-1:!s.get("relay")&&a.get("relay")?1:!a.get("isConnected")&&s.get("isConnected")?-1:!s.get("isConnected")&&a.get("isConnected")?1:!r.get("isShared")&&i.get("isShared")?-1:!i.get("isShared")&&r.get("isShared")?1:r.get("isFullServer")&&!i.get("isFullServer")?-1:i.get("isFullServer")&&!r.get("isFullServer")?1:o&&!l?-1:l&&!o?1:a.get("isBundled")&&!s.get("isBundled")?-1:s.get("isBundled")&&!a.get("isBundled")?1:c&&!d?-1:d&&!c?1:0}))},_startProcessing(){S().times(this.maximumConcurrent-this.executing.length,this._process.bind(this))},_process(){if(this.executing.length>=this.maximumConcurrent)return;if(!this.queued.length)return;const e=this.queued.shift(),{server:t,connection:n,url:r}=e;this._abortCurrentTest(t,n,r);const i=(0,b.DB)("testServerConnection")({server:t,connection:n,url:r});this.executing.push(e),i.done(((t,n)=>{e.deferred.resolve(t,n)})),i.fail(((t,n)=>{e.deferred.reject(t,n)})),i.always((()=>{const t=this.executing.indexOf(e);this.executing.splice(t,1),this._process()}))},_abortCurrentTest(e,t,n){t.get("currentTest")&&t.get("currentTest").forEach((r=>{const i=e.resolveUrl(n||r.url,{connection:t});r&&"pending"===r.state()&&((0,M.Z)("[Connections] Aborting pending connection test for %s at %s",e.get("debugName"),i),N.Z.abort(r.rid),r.abort())}))},_isManualConnection:e=>e.get("sources").some((e=>0===e.id.indexOf("manualServer"))),_isMatchingLocation(e,t){const n=e.get("publicAddressMatches"),r=t.get("isPrivate");return n&&r||!n&&!r},_queuedOrExecuting(e,t,n){const r=dSt(e,t,n);return S().find(this.executing,r)||S().find(this.queued,r)},_removeQueuedOrExecuting(e,t,n){const r=dSt(e,t,n),i=S().findIndex(this.executing,r),a=S().findIndex(this.queued,r);i>=0&&this.executing.splice(i,1),a>=0&&this.queued.splice(a,1)}});var pSt=n(6272),mSt=n(319),hSt=n(99340),gSt=Object.defineProperty,ySt=Object.prototype.hasOwnProperty,vSt=Object.getOwnPropertySymbols,fSt=Object.prototype.propertyIsEnumerable,bSt=(e,t,n)=>t in e?gSt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;function ISt(e){return Vn(((e,t)=>{for(var n in t||(t={}))ySt.call(t,n)&&bSt(e,n,t[n]);if(vSt)for(var n of vSt(t))fSt.call(t,n)&&bSt(e,n,t[n]);return e})({entityID:e.entityID()},e.toJSON()))}const SSt=Object.keys(hSt.Z.prototype.syncedAttrs),MSt=oe.Z.extend({mixins:[ce.Z],initialize(e){this.appModel=e.appModel,this.servers=this.appModel.get("servers")},start(){this.stop(),this.listenTo(this.servers,{"change:promiseState":this.onServerPromiseStateChange,remove:this.onServerRemove,"update reset":this.onServersUpdateReset,"change:resources.add":this.onResourceAdd,"change:resources.remove":this.onResourceRemove,"change:resources.update":this.onResourcesUpdate,"change:resources.reset":this.onResourcesReset,"change:resources.change:presence":this.onResourcesPresenceChange,"change:resources.change:connections.update":this.onResourceConnectionsUpdate,"change:isConnected":this.onConnectedChange,"change:desktop.change:isSettingsPopulated":this.onSettingsPopulatedChange}),SSt.forEach((e=>{this.listenTo(this.servers,"change:"+e,this.onStoredServerAttributeChange.bind(this,e))})),this.listenTo(le.Z,"discover:servers",this.onDiscoverServers),this._setAuthorized(),this._checkFoundAllServers()},stop(){this.stopListening()},_checkFoundAllServers(){this.servers.shouldWaitForInitialServers()||this.servers.shouldWaitForResources()||this.servers.shouldWaitForPendingServers()?this._waitForServers():this._foundAllServers()},_waitForServers(){this.servers.waitForServers(),(0,fn.c9)((()=>{this.appModel.set("isWaitingForServers",!0)}))},_foundAllServers(){this.servers.foundAllServers(),(0,fn.c9)((()=>{this.appModel.set("isWaitingForServers",!1)}))},_fetchResources(e){if(e.get("isRejected"))return M.Z.warn("[Servers] Failed to request resources through %s",e.get("debugName")),e.set({isResourcesPending:!1,hasFailedResources:!0,isDownForMaintenance:!1}),h().Deferred().reject().promise();if(!e.get("isResolved"))return(0,M.Z)("[Servers] Finding resources through unresolved cloud server %o, resolving",e.get("debugName")),e.populate().then((()=>this._fetchResources(e)));(0,M.Z)("[Servers] Finding resources through %s",e.get("debugName")),this._waitForServers(),e.set("isResourcesPending",!0);const t=e.get("resources");return t.fetch().done((()=>{(0,M.Z)("[Servers] Found %s resources through %s",t.length,e.get("debugName")),e.set({isResourcesPending:!1,isResourcesPopulated:!0,hasFailedResources:!1,isDownForMaintenance:!1})})).fail(((t,n)=>{M.Z.warn("[Servers] Failed to request resources through %s",e.get("debugName")),e.set({isResourcesPending:!1,hasFailedResources:!0,isDownForMaintenance:503===n.status})})).always((()=>{this._checkFoundAllServers()}))},_convertResourceToServer:e=>((0,M.Z)("[Servers] %s was found through %s",e.get("name"),e.server.get("debugName")),(0,pSt.Z)(e)),_removeResource(e){(0,M.Z)("[Servers] %s was removed as a resource from %s",e.get("name"),e.server.id);const t=this.servers.get(e.id);t&&t.removeSource(e.server.id)},_pruneStaleSources(e){const t=e.get("resources");let n=this.servers.length-1;for(;n>=0;){const r=this.servers.at(n),i=t.get(r.id);if(i){const t=r.get("connections");let n=t.length-1;for(;n>=0;){const r=t.at(n);r.get("sources").get(e.id)&&(i.get("connections").get(r.id)||r.get("sources").remove(e.id)),n--}}else r.removeSource(e.id);n--}},_setAuthorized(){const e=!!this.servers.findWhere({isConnected:!0,isCloud:!1}),t=!!this.servers.findWhere({isResolved:!0,isCloud:!0});this.appModel.set("authorized",e||t)},onServerPromiseStateChange(e,t){e.get("resources")&&this._fetchResources(e),this._setAuthorized(),this._checkFoundAllServers()},onStoredServerAttributeChange(e,t,n){const r=Vht.Z.getActiveServers(),i=r&&r.get(t.id);i&&null!=n&&i.get(e)!==n&&(i.set(e,n),Vht.Z.debouncedSave())},onServerRemove(e){M.Z.warn("[Servers] %s was removed",e.get("debugName")),e.cache.remove(e),le.Z.trigger("clearWhere:cache",{server:e})},onServersUpdateReset(){this._setAuthorized(),this._checkFoundAllServers()},onDiscoverServers(){const e=this.appModel.get("cloudServer");this._fetchResources(e)},onResourceAdd(e){if(S().contains(e.get("provides"),"server")){const t=this._convertResourceToServer(e);t.get("isMobileServer")||this.servers.add(t)}},onResourceRemove(e){this._removeResource(e)},onResourcesUpdate(e){this._pruneStaleSources(e.server),this._checkFoundAllServers()},onResourcesReset(e,t){const n=t.previousModels;S().each(n,(t=>{e.contains(t)||this._removeResource(t)})),this._checkFoundAllServers()},onResourcesPresenceChange(e){const t=this.servers.get(e.id);t&&t.set("presence",e.get("presence"))},onResourceConnectionsUpdate(e){const t=e.parent,n=this.servers.get(t.id);n&&((0,mSt.Z)(n,t),this._pruneStaleSources(e.server),this._checkFoundAllServers())},onConnectedChange(e,t){if(!t)return;const n=(0,b.DB)("appStore"),r=ISt(e);n.dispatch(yl.actions.connected({server:r})),e.get("isFullOwnedServer")&&(n.dispatch(Bv.actions.fetchRequested({server:r})),n.dispatch((0,UT.R_)({serverEntityID:e.entityID()})))},onSettingsPopulatedChange(e,t){if(t){const t=e.get("settings"),n=t.get("AcceptedEULA");n&&!1===n.get("value")&&!window.location.hash.includes("/setup")&&(0,nle.Z)("serverSetup",{machineIdentifier:t.server.id})}}}),ESt=oe.Z.extend({mixins:[ce.Z],initialize(e){this.appModel=e.appModel},start(){this.stop(),this.listenTo(this.appModel.get("servers"),{"change:isConnected":this.onServerIsConnectedChange,"change:isInstallingServerUpdate":this.onIsInstallingServerUpdateChange})},stop(){this.stopListening()},onServerIsConnectedChange(e,t){t&&b.DB("appStore").dispatch(HCe({serverEntityID:e.entityID()}))},onIsInstallingServerUpdateChange(e,t){t||b.DB("appStore").dispatch(HCe({serverEntityID:e.entityID()}))}});var PSt=n(29065);const DSt=oe.Z.extend({mixins:[ce.Z],initialize(e){this.appModel=e.appModel,this.debouncedSaveTimeout=null},start(){this.listenTo(this.appModel,{"change:user.change:providers.add":this.onCloudProviderAdd,"change:user.change:providers.change:isPending":this.onCloudProviderIsPendingChange,"change:user.change:isProvidersPending":this.onCloudProvidersIsPendingChange}),this.listenTo(this.appModel.get("servers"),{"change:isConnected":this.onServerIsConnectedChange,"change:isProvidersPending":this.onServerIsProvidersPendingChange,add:this.onServerAdd,"change:friendlyName":this.onServerAttrChanged,"change:sourceTitle":this.onServerAttrChanged}),this.listenTo(this.appModel.get("cloudServer"),{"change:isResourcesPending":this.onCloudReadyChange,"change:hasFailedResources":this.onCloudReadyChange})},_getPinnedSources(){return this.appModel.get("user").get("experienceSettings").get("sidebarSettings").get("pinnedSources")},_shouldRemoveHiddenSource(e){const t=e.get("hiddenAt");return t>0&&Date.now()-t>604800},_hideCustomHomeHubs(e){e.forEach((e=>{e.get("isHidden")?this._shouldRemoveHiddenSource(e)&&(e.trigger("destroy",e,e.collection),this._debouncedSaveExperienceSettings()):(e.set({isHidden:!0,hiddenAt:Date.now()}),this._debouncedSaveExperienceSettings())}))},_hidePinnedSources(e){e.forEach((e=>{e.get("isHidden")?this._shouldRemoveHiddenSource(e)&&(e.trigger("destroy",e,e.collection),this._debouncedSaveExperienceSettings()):(e.set({isHidden:!0,hiddenAt:Date.now()}),this._debouncedSaveExperienceSettings())}))},_hideSourcesWithNoServer(){const e=this.appModel.get("servers"),t=this._getPinnedSources().filter((t=>!e.get(t.get("machineIdentifier"))));this._hidePinnedSources(t)},_hideSourcesWithNoProvider(e,t,n,r){if(e.get("isConnected")&&n&&!r){const n=e.get("machineIdentifier"),r=this._getPinnedSources().filter((e=>{const r=e.get("machineIdentifier"),i=e.get("providerIdentifier");return r===n&&!t.get(i)}));this._hidePinnedSources(r)}},_hideCloudSourcesWithNoProvider(e){const t=this.appModel.get("cloudServer");this._hideSourcesWithNoProvider(t,e.get("providers"),e.get("isProvidersPopulated"),e.get("providersError"))},_hideServerSourcesWithNoProvider(e){this._hideSourcesWithNoProvider(e,e.get("providers"),e.get("isProvidersPopulated"),e.get("providersError"))},_updateStoredPinnedSources(e,t){const n=[];this._getPinnedSources().forEach((r=>{const i=(0,PSt.Z)(r.toJSON());if(i.machineIdentifier!==e.machineIdentifier||i.providerIdentifier!==t.identifier)return;const a=GBe(t,i.directoryID);if(!a)return void(e.isConnected&&t.isPopulated&&n.push(r));const s=(0,IT.Z)(t,a),o=(0,PSt.Z)(bT({sourceType:s?s.key:null,sourceServer:e,sourceProvider:t,sourceDirectory:a}));r.get("isHidden")&&(o.isHidden=!1,o.hiddenAt=null),(0,mx.Z)(i,o)||(r.set(o),this._debouncedSaveExperienceSettings())})),this._hidePinnedSources(n)},_autoPinSources(e,t){const n=this.appModel.get("user").get("experienceSettings"),r=n.get("autoPinnedProviders"),i=n.get("sidebarSettings"),a=i.get("pinnedSources"),s=(0,zO.Z)(e.machineIdentifier,t.identifier);if(!Fo.wB(t.identifier,[Fo.uk,Fo.vP])||r.includes(s))return;n.set({autoPinnedProviders:[...r,s]}),this._debouncedSaveExperienceSettings();const o=(0,sc.Z)(t);if(!i.get("hasCompletedSetup")||!o||!o.directories)return;const l=o.directories.reduce(((n,r)=>{const i=(0,IT.Z)(t,r),s=(0,vT.Z)(i?i.key:null,e.machineIdentifier,t.identifier,r.id);if(i&&!a.get(s)){const a=bT({sourceType:i?i.key:null,sourceServer:e,sourceProvider:t,sourceDirectory:r});n.push((0,PSt.Z)(a))}return n}),[]);l.length>0&&(0,b.DB)("appStore").dispatch((0,oN.W1)({sources:l,interaction:!1}))},_processSources(e,t){t.isPopulated&&(this._updateStoredPinnedSources(e,t),this._autoPinSources(e,t))},_debouncedSaveExperienceSettings(){const e=this.appModel.get("user").get("experienceSettings");e.set({isDirty:!0}),this.debouncedSaveTimeout&&window.clearTimeout(this.debouncedSaveTimeout),this.debouncedSaveTimeout=window.setTimeout((()=>{e.get("isDirty")&&(0,b.DB)("appStore").dispatch((0,AM.LN)())}),1e3)},_processCloudProviderChange(e){const t=this.appModel.get("cloudServer").toJSON(),n=e.toJSON();this._processSources(t,n)},_processServerChange(e){if(!e.get("isConnected")||!e.get("isProvidersPopulated"))return;const t=e.toJSON();t.providers.forEach((e=>this._processSources(t,e)))},onCloudProviderAdd(e){this._processCloudProviderChange(e)},onCloudProviderIsPendingChange(e,t){t||this._processCloudProviderChange(e)},onCloudProvidersIsPendingChange(e,t){t||this._hideCloudSourcesWithNoProvider(e)},onServerAttrChanged(e){this._processServerChange(e)},onServerIsConnectedChange(e,t){t||this._processServerChange(e)},onServerIsProvidersPendingChange(e,t){t||(this._hideServerSourcesWithNoProvider(e),this._processServerChange(e))},onServerAdd(e){this._processServerChange(e)},onCloudReadyChange(e){e.get("isResourcesPending")||e.get("hasFailedResources")||this._hideSourcesWithNoServer()}});function CSt(e,t){const n=e.get("user"),r=()=>{i&&(i=window.clearTimeout(i)),t(n,n.get("isSignedIn"))};let i=window.setTimeout(r,0);return n.on("change:isSignedIn",r),()=>{i&&(i=window.clearTimeout(i)),n.off("change:isSignedIn",r)}}const wSt=window.console.error.bind(window.console,"[Events]");class ZSt{constructor(){this.listeners=new Map}destroy(){this.removeAllListeners()}addListener(e,t){const n=this.listeners.get(e)||new Set;this.listeners.has(e)||this.listeners.set(e,n),n.add(t)}emit(e,...t){var n;null==(n=this.listeners.get(e))||n.forEach((e=>{try{e(...t)}catch(e){wSt(e)}}))}removeListener(e,t){var n;null==(n=this.listeners.get(e))||n.delete(t)}removeAllListeners(){this.listeners.forEach((e=>e.clear()))}}class TSt{static fromJSON(e){const{playing:t,index:n,count:r,breakPosition:i}=e;return new TSt(t,n,r,i)}constructor(e,t,n,r){this.breakPositionSeconds=null!=r?r:null,this.displayIndex=null!=t?t:null,this.displayTotal=null!=n?n:null,this.isPlaying=e}toJSON(){const e={playing:this.isPlaying};return null!=this.breakPositionSeconds&&(e.breakPosition=this.breakPositionSeconds),null!=this.displayIndex&&(e.index=this.displayIndex),null!=this.displayTotal&&(e.count=this.displayTotal),e}toString(){return JSON.stringify(this.toJSON())}}class NSt{static fromJSON(e){if(!e.name)return;const t=JSON.parse(e.name);return new NSt(t.uri,TSt.fromJSON(t.ads))}constructor(e,t){this.ad=t||new TSt(!1),this.sourceUri=e}toJSON(){const e={ads:this.ad.toJSON(),uri:this.sourceUri};return{name:JSON.stringify(e)}}}const OSt=/_+$/;class ASt{static fromJSON(e){const{deviceIdentifier:t,deviceName:n,userID:r}=e;return new ASt(r,t,n)}static fromString(e){const t=e.replace(OSt,"");return ASt.fromJSON(JSON.parse(t))}constructor(e,t,n){this.id="number"==typeof e?e:parseInt(e,10),this.deviceIdentifier=t,this.deviceName=n}toJSON(){const{deviceIdentifier:e,deviceName:t,id:n}=this;return{deviceIdentifier:e,deviceName:t,userID:String(n)}}toString(){return JSON.stringify(this.toJSON())}}class xSt{constructor(e,t){this.type="Hello",this.roomID=t,this.user=e}static fromJSON(e){return new xSt(ASt.fromString(e.username),e.room.name)}toJSON(){return{[this.type]:{room:{name:this.roomID},username:this.user.toString(),version:"1.6.4"}}}}class jSt{static fromJSON(e,t){return new jSt(ASt.fromString(e),t.isReady||!1,t.position,NSt.fromJSON(t.file))}constructor(e,t,n,r){this.file=r||null,this.isReady=t,this.position=n,this.user=e}}class LSt{constructor(e){this.type="List",this.users=e||[]}static fromJSON(e,t){const n=e[t],r=[];for(const e in n){const t=jSt.fromJSON(e,n[e]);r.push(t)}return new LSt(r)}toJSON(){return{[this.type]:{}}}}class kSt{constructor(e,t,n,r){this.type="Set",this.file=null,this.hasJoined=null,this.hasLeft=null,this.isReady=null,this.user=e,"boolean"==typeof t||null===t?this.isReady=t:(this.file=null!=t?t:null,this.hasJoined=null!=n?n:this.hasJoined,this.hasLeft=null!=r?r:this.hasLeft)}static fromJSON(e,t){if(e.ready){const{isReady:t,username:n}=e.ready,r=ASt.fromString(n);return new kSt(r,t)}if(e.user){const[n,r]=Object.entries(e.user)[0];if(r.room.name===t){const e=ASt.fromString(n),t=r.file&&NSt.fromJSON(r.file),{joined:i=!1,left:a=!1}=r.event||{};return new kSt(e,t,i,a)}}}toJSON(){const{file:e,isReady:t}=this;return e?{[this.type]:{file:e.toJSON()}}:null!=t?{[this.type]:{ready:{isReady:t}}}:void 0}}class RSt{constructor(e,t,n){this.type="State",this.ignoringOnTheFly=n,this.ping=e,this.playstate=t,this.setBy=t.setBy?ASt.fromString(t.setBy):null}static fromJSON(e){const{ping:t,playstate:n,ignoringOnTheFly:r}=e;return new RSt(t,n,r)}toJSON(){const{ignoringOnTheFly:e,ping:t,playstate:n}=this,r={ping:t,playstate:n};return null!=(null==e?void 0:e.client)&&null!=(null==e?void 0:e.server)?r.ignoringOnTheFly={client:e.client,server:e.server}:null!=(null==e?void 0:e.client)?r.ignoringOnTheFly={client:e.client}:null!=(null==e?void 0:e.server)&&(r.ignoringOnTheFly={server:e.server}),{[this.type]:r}}}const zSt=window.console.error.bind(window.console,"[WebSocketConnection]");class USt extends ZSt{destroy(){super.destroy()}}class VSt extends USt{constructor(e){super(),this.onHelloInterval=()=>{try{this.isOpen&&this.send("hello")}catch(e){zSt(`WebSocketConnection hello exception: ${e.message}`)}},this.isPingEnabled=!1!==e.isPingEnabled,this.url=e.url}get isConnecting(){var e;return 0===(null==(e=this.socket)?void 0:e.readyState)}get isOpen(){var e;return 1===(null==(e=this.socket)?void 0:e.readyState)}open(){return new Promise(((e,t)=>{if(this.isConnecting||this.isOpen)return void t(new Error("Refusing to open multiple connections"));const n=new window.WebSocket(this.url);this.socket=n,n.onerror=()=>{t(new Error("Connection error"))},n.onopen=()=>{this.isPingEnabled&&(this.pingIntervalID=window.setInterval(this.onHelloInterval,3e4)),n.onerror=null,n.onclose=e=>{this.pingIntervalID&&(window.clearInterval(this.pingIntervalID),delete this.pingIntervalID),this.emit("close",e)},n.onmessage=e=>{try{this.emit("message",this.parseMessage(e.data))}catch(e){zSt("Parse failure",e)}},this.emit("open"),e()}}))}close(e=1e3){if((this.isOpen||this.isConnecting)&&this.socket){const{socket:t}=this;delete this.socket,t.close(e),t.onopen=null,t.onclose=null,t.onerror=null,t.onmessage=null}}destroy(){super.destroy(),this.close()}send(e){var t,n;if(!this.isOpen)throw new Error(`Cannot send to socket in state ${null==(n=this.socket)?void 0:n.readyState}`);null==(t=this.socket)||t.send(e)}parseMessage(e){return JSON.parse(e)}}Object.defineProperty,Object.prototype.hasOwnProperty,Object.getOwnPropertySymbols,Object.prototype.propertyIsEnumerable,new($vt())({attributePrefix:"",ignoreRoot:!0});const BSt="[SyncplaySession]",FSt=window.console.debug.bind(window.console,BSt),_St=window.console.warn.bind(window.console,BSt);class HSt extends ZSt{constructor(e){super(),this.onSocketClose=e=>{this.emit("close",e)},this.onSocketMessage=e=>{let t;FSt(`Message (${Date.now()}) <<`,e),e.Error?this.close(1011):e.Hello?t=xSt.fromJSON(e.Hello):e.List?t=LSt.fromJSON(e.List,this.roomID):e.Set?t=kSt.fromJSON(e.Set,this.roomID):e.State&&(t=RSt.fromJSON(e.State)),t&&this.emit("message",t)};const{roomID:t,roomSyncplayHost:n,roomSyncplayPort:r}=e,i=`wss://${n}:${r}/ws`;this.connection=new VSt({url:i,isPingEnabled:!1}),this.connection.addListener("close",this.onSocketClose),this.connection.addListener("message",this.onSocketMessage),this.roomID=t}destroy(){super.destroy(),this.connection.destroy()}open(){return e=this,null,t=function*(){yield this.connection.open()},new Promise(((n,r)=>{var i=e=>{try{s(t.next(e))}catch(e){r(e)}},a=e=>{try{s(t.throw(e))}catch(e){r(e)}},s=e=>e.done?n(e.value):Promise.resolve(e.value).then(i,a);s((t=t.apply(e,null)).next())}));var e,t}close(e=1e3){this.connection.close(e)}send(e){const t=e.toJSON();t&&this.connection.send(JSON.stringify(t)),(t?FSt:_St)(`Message (${Date.now()}) >>`,t||e)}}function QSt(){return window.performance.now()/1e3}class GSt{constructor(){this._lastForwardDelay=0,this.averageRtt=0,this.clientRtt=0}get lastForwardDelaySeconds(){return this._lastForwardDelay}get state(){var e,t;return{clientLatencyCalculation:QSt(),clientRtt:this.clientRtt,serverRtt:(null==(e=this.lastPing)?void 0:e.serverRtt)||0,latencyCalculation:(null==(t=this.lastPing)?void 0:t.latencyCalculation)||0}}update(e){const{clientLatencyCalculation:t,serverRtt:n}=e;this.lastPing=e,null!=t&&(this.clientRtt=QSt()-t,this.clientRtt<0||n<0||(0===this.averageRtt&&(this.averageRtt=n),this.averageRtt=.85*this.averageRtt+this.clientRtt*(1-.85),this._lastForwardDelay=this.averageRtt/2,n<this.clientRtt&&(this._lastForwardDelay+=this.clientRtt-n)))}}var WSt=Object.defineProperty,YSt=Object.prototype.hasOwnProperty,KSt=Object.getOwnPropertySymbols,qSt=Object.prototype.propertyIsEnumerable,$St=(e,t,n)=>t in e?WSt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,JSt=(e,t)=>{for(var n in t||(t={}))YSt.call(t,n)&&$St(e,n,t[n]);if(KSt)for(var n of KSt(t))qSt.call(t,n)&&$St(e,n,t[n]);return e};const XSt=window.console.debug.bind(window.console,"[SyncplayClient]");function eMt(e){return["User",e.id,`(${e.deviceName})`]}class tMt extends ZSt{constructor(e){super(),this.onSessionClose=e=>{this.emit("close",e)},this.onSessionMessage=e=>{e instanceof xSt?this.onHelloMessage(e):e instanceof LSt?this.onListMessage(e):e instanceof kSt?this.onSetMessage(e):e instanceof RSt&&this.onStateMessage(e)},this.onHelloMessage=e=>{this.session.send(new LSt)},this.onListMessage=e=>{e.users.forEach((e=>{this.tryEmitUserState(!0,e.isReady,e.user)})),e.users.forEach((e=>{this.tryEmitAdState(e.file,e.user)}))},this.onSetMessage=e=>{const{user:t}=e,n=null!=e.hasJoined||null!=e.hasLeft?e.hasJoined||!e.hasLeft:null;this.tryEmitUserState(n,e.isReady,t),this.tryEmitAdState(e.file,t)},this.onStateMessage=e=>{const t=this.lastSentFile!==this.file;this.pingHelper.update(e.ping),this.tryUpdateIgnoringOnTheFly(e),this.tryEmitPlaybackState(e);const n=this.shouldEchoSessionState()?{doSeek:!1,paused:e.playstate.paused,position:e.playstate.position,setBy:null}:{doSeek:this.playerBridge.hasPendingSeek,paused:this.playerBridge.isPaused,position:this.playerBridge.positionSeconds,setBy:null};t&&this.playerBridge.hasPendingSeek&&(n.doSeek=this.playerBridge.hasPendingSeek,n.position=this.playerBridge.positionSeconds);const r=this.isReady;this.playerBridge.hasPendingPlayPause=!1,this.playerBridge.hasPendingSeek=!1,this.session.send(new RSt(this.pingHelper.state,n,this.ignoringOnTheFly)),t&&(this.lastSentFile=this.file,this.session.send(new kSt(this.user,this.lastSentFile))),this.lastIsReady!==r&&(XSt("Setting isReady",{isReady:r,isAdPlaying:this.file.ad.isPlaying,hasInitialBuffer:this.playerBridge.hasInitialBuffer}),this.lastIsReady=r,this.session.send(new kSt(this.user,this.lastIsReady)))};const{deviceIdentifier:t,deviceName:n,userID:r,playerBridge:i,roomID:a,roomSourceUri:s,roomSyncplayHost:o,roomSyncplayPort:l}=e;this.eventFields={roomID:a},this.file=new NSt(s),this.ignoringOnTheFly={client:0,server:0},this.pingHelper=new GSt,this.playerBridge=i,this.roomID=a,this.roomSourceUri=s,this.user=new ASt(r,t,n),this.session=new HSt({roomID:a,roomSyncplayHost:o,roomSyncplayPort:l}),this.session.addListener("close",this.onSessionClose),this.session.addListener("message",this.onSessionMessage)}get isReady(){return!this.file.ad.isPlaying&&this.playerBridge.hasInitialBuffer}destroy(){super.destroy(),this.leave(),this.session.destroy()}join(){return e=this,null,t=function*(){yield this.session.open(),this.session.send(new xSt(this.user,this.roomID))},new Promise(((n,r)=>{var i=e=>{try{s(t.next(e))}catch(e){r(e)}},a=e=>{try{s(t.throw(e))}catch(e){r(e)}},s=e=>e.done?n(e.value):Promise.resolve(e.value).then(i,a);s((t=t.apply(e,null)).next())}));var e,t}leave(){this.session.close(),this.file=new NSt(this.roomSourceUri)}setAdState(e,t,n){var r;const i=null==(r=this.file)?void 0:r.ad;(null==i?void 0:i.isPlaying)!==e||(null==i?void 0:i.displayIndex)!==t||(null==i?void 0:i.displayTotal)!==n?this.file=new NSt(this.roomSourceUri,e?new TSt(e,t,n):void 0):XSt("Will not Set redundant session ad state",{isPlaying:e,displayIndex:t,displayTotal:n})}tryEmitAdState(e,t){if(!e)return;const{ad:n}=e,r=JSt(JSt({},this.eventFields),{ad:n,user:t});XSt(...eMt(t),"ad state",n),this.emit("session",r)}tryEmitUserState(e,t,n){const r=JSt(JSt({},this.eventFields),{user:n});null!=e&&(XSt(...eMt(n),"present?",e),r.isPresent=e),null!=t?(XSt(...eMt(n),"ready?",t),r.isReady=t):!1===e&&(r.isReady=!1),null==e&&null==t||this.emit("session",r)}tryEmitPlaybackState(e){var t;if((null==(t=e.setBy)?void 0:t.deviceIdentifier)===this.user.deviceIdentifier||this.ignoringOnTheFly.client>0)return;const{playstate:n,setBy:r}=e,i=n.position+(n.paused?0:this.pingHelper.lastForwardDelaySeconds),a={isPaused:n.paused,positionSeconds:i,shouldSeek:n.doSeek},s=JSt(JSt({},this.eventFields),a);r?(XSt(...eMt(r),"playback state",a),s.user=r):XSt("Server playback state",a),this.emit("session",s)}tryUpdateIgnoringOnTheFly(e){var t,n;const{ignoringOnTheFly:r}=this,i=null!=(null==(t=e.ignoringOnTheFly)?void 0:t.client)&&e.ignoringOnTheFly.client>0?e.ignoringOnTheFly.client:0;r.server=null!=(null==(n=e.ignoringOnTheFly)?void 0:n.server)&&e.ignoringOnTheFly.server>0?e.ignoringOnTheFly.server:0,(this.shouldEchoSessionState()||i===r.client)&&(r.client=0),this.shouldEchoSessionState()||!this.playerBridge.hasPendingPlayPause&&!this.playerBridge.hasPendingSeek||r.client++}shouldEchoSessionState(){return!this.playerBridge.isPlayerForeground||this.file.ad.isPlaying||this.ignoringOnTheFly.server>0}}let nMt;function rMt(){const e=!!nMt;return e||M.Z.warn("[Watch Together] Syncplay client is unavailable"),e}const iMt=class{constructor({appModel:e,appStore:t}){this.appModel=e,this.appStore=t}start(){const{appModel:e,appStore:t}=this,n=t.dispatch;CSt(e,((e,t)=>{!t&&nMt&&n(o$.j3())}))}update({hasPendingSeek:e,hasPendingPlayPause:t,isAdPlaying:n,adDisplayIndex:r,adDisplayTotal:i}){rMt()&&(void 0!==n&&nMt.setAdState(n,null!=r?r:void 0,null!=i?i:void 0),void 0!==t&&(nMt.playerBridge.hasPendingPlayPause=t),void 0!==e&&(nMt.playerBridge.hasPendingSeek=e))}leave(){rMt()&&(nMt.destroy(),nMt=void 0)}join({roomID:e,roomSourceUri:t,roomSyncplayHost:n,roomSyncplayPort:r}){const{appModel:i,appStore:a}=this;nMt=new tMt({deviceIdentifier:L.Z.prop("X-Plex-Client-Identifier"),deviceName:L.Z.prop("X-Plex-Device-Name"),playerBridge:{get hasInitialBuffer(){const e=(0,b.DB)("appModel"),t=(0,Wj.F_)(e,Se.Se);if(t.get("canPlayThrough"))return!0;const n=t.get("bufferedRanges"),r=t.get("positionSeconds")+5;for(let e=0;e<n.length;e++){const t=n[e];if(r>=t.startSeconds&&r<=t.endSeconds)return!0}return!1},hasPendingPlayPause:!1,hasPendingSeek:!1,get isPaused(){const e=(0,b.DB)("appModel");return(0,Wj.F_)(e,Se.Se).get("isPaused")},get isPlayerForeground(){const e=(0,b.DB)("appModel");return!1===(0,Wj.F_)(e,Se.Se).get("isWatchTogetherLobbyVisible")},get positionSeconds(){const e=(0,b.DB)("appModel"),t=(0,Wj.F_)(e,Se.Se);return null!=t.get("lastSeekPositionSeconds")?t.get("lastSeekPositionSeconds"):t.get("positionSeconds")}},roomID:e,roomSourceUri:t,roomSyncplayHost:n,roomSyncplayPort:r,userID:i.get("user").id}),(0,M.Z)("[Watch Together] Joining session for room:",e),nMt.join().then((()=>{(0,M.Z)("[Watch Together] Joined session for room:",e),(0,b.DB)("metrics").trackEvent({event:mz.l8,interaction:!0,properties:{playbackSessionId:e}}),nMt.addListener("session",(t=>{const n={roomID:e,event:t};M.Z.groupCollapsed("[Watch Together] Session event"),M.Z.debug("[Watch Together] Event:",t),a.dispatch(o$.xg(n)),a.dispatch(o$.eA(n)),a.dispatch(o$.os(n)),M.Z.groupEnd()})),nMt.addListener("close",(t=>{M.Z.warn("[Watch Together] Session closed unexpectedly:",t),a.dispatch(o$.o6({roomID:e,sessionError:(0,Ce.Z)("Lost connection to the Watch Together session.")}))}))})).catch((t=>{M.Z.error("[Watch Together] Error joining session for room:",e,t),a.dispatch(o$.o6({roomID:e,sessionError:(0,Ce.Z)("Could not join at this time.")}))}))}};class aMt extends USt{constructor(){super(),this.onDispatcherMessage=e=>{this.emit("message",e)},this.onHasEventConnectionChange=()=>{this.cloudServerModel.get("hasEventConnection")?this.emit("open"):this.emit("close")};const e=(0,b.DB)("appModel");this.cloudServerModel=e.get("cloudServer"),this.cloudServerModel.on({"change:hasEventConnection":this.onHasEventConnectionChange}),le.Z.on({"cloudServer:notifyWatchTogetherExpire":this.onDispatcherMessage,"cloudServer:notifyWatchTogetherInvite":this.onDispatcherMessage}),this.cloudServerModel.get("hasEventConnection")&&this.onHasEventConnectionChange()}get isConnecting(){return!1}get isOpen(){return this.cloudServerModel.get("hasEventConnection")}open(){return Promise.reject(new Error("Cannot open directly"))}close(){throw new Error("Cannot close directly")}send(){throw new Error("Cannot send directly")}destroy(){super.destroy(),le.Z.off({"cloudServer:notifyWatchTogetherExpire":this.onDispatcherMessage,"cloudServer:notifyWatchTogetherInvite":this.onDispatcherMessage}),this.cloudServerModel.off({"change:hasEventConnection":this.onHasEventConnectionChange})}}var sMt=n(9669),oMt=n.n(sMt),lMt=Object.defineProperty,cMt=Object.prototype.hasOwnProperty,dMt=Object.getOwnPropertySymbols,uMt=Object.prototype.propertyIsEnumerable,pMt=(e,t,n)=>t in e?lMt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,mMt=(e,t)=>{for(var n in t||(t={}))cMt.call(t,n)&&pMt(e,n,t[n]);if(dMt)for(var n of dMt(t))uMt.call(t,n)&&pMt(e,n,t[n]);return e},hMt=(e,t,n)=>new Promise(((r,i)=>{var a=e=>{try{o(n.next(e))}catch(e){i(e)}},s=e=>{try{o(n.throw(e))}catch(e){i(e)}},o=e=>e.done?r(e.value):Promise.resolve(e.value).then(a,s);o((n=n.apply(e,t)).next())}));function gMt(e){return e}function yMt(...e){return e.filter((e=>!!(null==e?void 0:e.trim()))).map((e=>null==e?void 0:e.replace(/^\/+|\/+$/g,""))).join("/")}const vMt="json";class fMt{constructor(e){this.endpoint="https://together.plex.tv/rooms",this.accessToken=e.accessToken}create(e,t,n){return hMt(this,null,(function*(){return(yield oMt().post(this.endpoint,{sourceUri:e,title:t,users:n||null},{params:{"X-Plex-Token":this.accessToken},responseType:vMt})).data}))}createInvites(e,t){return hMt(this,null,(function*(){return(yield oMt().post(yMt(this.endpoint,e,"invite"),{users:t},{params:{"X-Plex-Token":this.accessToken},responseType:vMt})).data}))}delete(e){return hMt(this,null,(function*(){yield oMt().delete(yMt(this.endpoint,e),{params:{"X-Plex-Token":this.accessToken},responseType:vMt})}))}get(e){return hMt(this,null,(function*(){const t=yield oMt().get(yMt(this.endpoint,e),{params:{"X-Plex-Token":this.accessToken},responseType:vMt});return e?t.data:function(e){return e.rooms.map(gMt)}(t.data)}))}patch(e,t){return hMt(this,null,(function*(){return(yield oMt().patch(yMt(this.endpoint,e),{params:mMt(mMt({},t),{"X-Plex-Token":this.accessToken}),responseType:vMt})).data}))}}var bMt=(e,t,n)=>new Promise(((r,i)=>{var a=e=>{try{o(n.next(e))}catch(e){i(e)}},s=e=>{try{o(n.throw(e))}catch(e){i(e)}},o=e=>e.done?r(e.value):Promise.resolve(e.value).then(a,s);o((n=n.apply(e,t)).next())}));class IMt extends ZSt{constructor(e){super(),this.onPubSubMessage=e=>{const{command:t}=e;"notifyWatchTogetherInvite"!==t&&"notifyWatchTogetherExpire"!==t||this.rooms()},this.onPubSubClose=e=>{this.emit("close",e)};const{accessToken:t,pubsub:n}=e;this.pubsub=n,this.pubsub.addListener("close",this.onPubSubClose),this.pubsub.addListener("message",this.onPubSubMessage),this.service=new fMt({accessToken:t})}get isOpen(){return this.pubsub.isOpen}open(){return this.pubsub.open()}destroy(){super.destroy(),this.pubsub.destroy()}rooms(){return bMt(this,null,(function*(){const e=yield this.service.get();return this.emit("rooms",e),e}))}createRoom(e,t,n){return bMt(this,null,(function*(){const r=yield this.service.create(e,t,n);return yield this.rooms(),r.id}))}deleteRoom(e){return bMt(this,null,(function*(){var t;try{yield this.service.delete(e)}catch(e){if(404!==(null==(t=null==e?void 0:e.response)?void 0:t.status))throw e}yield this.rooms()}))}inviteUsers(e,t){return bMt(this,null,(function*(){yield this.service.createInvites(e,t),yield this.rooms()}))}}var SMt=n(63178);let MMt;const EMt=class{constructor({appModel:e,appStore:t}){this.appModel=e,this.appStore=t}start(){const{appModel:e,appStore:t}=this;CSt(e,((n,r)=>{if(MMt&&(MMt.destroy(),MMt=null,(0,M.Z)("[Watch Together] stopped rooms client")),r){const r=n.id;(0,SMt.Z)(n.get("features").populate({timeout:5e3})).then((()=>{if(e.get("user").id!==r)return Promise.reject(new Error("User has changed"));if(!(0,MX.Z)(e,bn.Bs))return Promise.reject(new Error("User missing feature access"));const i=n.get("authToken");MMt=new IMt({accessToken:i,pubsub:new aMt}),MMt.addListener("rooms",(e=>{t.dispatch(_K.Yl({rooms:e}))})),t.dispatch(_K.Uw())})).catch((e=>{M.Z.warn("[Watch Together] cannot start",e)}))}}))}getRoomsClient(){return MMt}};var PMt=n(21256);const DMt={[uIt.pX]:"fullScreenVideo",[uIt.xF]:"fullScreenMusic",[uIt.pV]:"fullScreenPhoto"},CMt="stopped";var wMt=n(75358);function ZMt(e,t){const n=e.get("connections").filter((e=>e.get("isConnected")&&!e.get("isLoopback"))),r=n.length?n.reduce(wMt.y):null;if(r)return{machineIdentifier:e.get("originalMachineIdentifier")||e.get("machineIdentifier"),protocol:r.get("scheme"),address:r.getAddressFromUri(),port:r.get("port")}}var TMt=Object.defineProperty,NMt=Object.prototype.hasOwnProperty,OMt=Object.getOwnPropertySymbols,AMt=Object.prototype.propertyIsEnumerable,xMt=(e,t,n)=>t in e?TMt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,jMt=(e,t)=>{for(var n in t||(t={}))NMt.call(t,n)&&xMt(e,n,t[n]);if(OMt)for(var n of OMt(t))AMt.call(t,n)&&xMt(e,n,t[n]);return e};function LMt(e,t,n){const{getPlayerModels:r,getVolume:i}=n;let a,s=!1,o=!1;function l(t={}){if(a)return void(o=!0);if(o=!1,r(e).some((e=>e.get("isPlayQueueLoading"))))return;const n=c(uIt.pX),i=c(uIt.xF),s=c(uIt.pV),l={MediaContainer:{_location:n._location||s._location||i._location||"navigation",Timeline:[n,i,s]}};t.requestDisconnect&&(l.MediaContainer._disconnected=1),(0,M.Z)(l),(0,b.DB)("companionProxy").publish(l),a=window.setTimeout(d,1e3)}function c(t){const n={_type:t,_state:CMt,_volume:i(e),_autoPlay:(0,b.DB)("settingFinder").find("autoPlay")?1:0,_subtitleColor:(0,b.DB)("settingFinder").find("subtitleColor"),_subtitlePosition:(0,b.DB)("settingFinder").find("subtitlePosition"),_subtitleSize:(0,b.DB)("settingFinder").find("subtitleSize"),_controllable:(0,b.DB)("companionPlayerProfile")[t]},a=function(t){const n=uIt.d2(t);return r(e).find((e=>{const t=e.get("playQueue");if(t&&t.get("type")===n)return e}))}(t);if(!a)return n;const s=a.get("serverEntityID"),o=a.get("providerEntityID"),l=(0,uC.SW)(e,{serverEntityID:s}),c=(0,uC.js)(e,{providerEntityID:o}),d=ZMt(l);c&&Fo.wB(c.get("identifier"),Fo.vP)&&(n._controllable=(0,b.DB)("companionPlayerProfile").videoCloudLiveTV);const u=a.get("decisions"),p=a.get("playQueue"),m=p.get("playQueueItems"),h=p.get("playQueueSelectedItemID"),g=m.get(h),y=g.get("metadataItem"),v=(0,PMt.Z)({metadataItemModel:y}),f=uIt.ED(v),I=1e3*a.get("positionSeconds"),M=1e3*a.get("durationSeconds");let E=DIt.Hn;return a.get("repeatOne")?E=DIt.ry:a.get("repeatAll")&&(E=DIt.QN),d?(n._machineIdentifier=d.machineIdentifier,n._protocol=d.protocol,n._address=d.address,n._port=d.port):n._machineIdentifier=l.get("originalMachineIdentifier")||l.get("machineIdentifier"),n._providerIdentifier=c.get("identifier"),n._itemType=f,n._key=y.get("key"),n._ratingKey=y.get("ratingKey"),n._containerKey=S().result(p,"url"),p.get("isLocal")||(n._playQueueID=p.get("playQueueID"),n._playQueueItemID=h,n._playQueueVersion=p.get("playQueueVersion")),n._state=(0,$bt.Z)(a),n._time=I,n._duration=M,n._seekRange=`0-${M}`,n._shuffle=p.get("playQueueShuffled")?1:0,n._repeat=E,a.get("openState")===Fj.K&&(n._location=function(e){return DMt[e]}(t)),jMt(jMt({},n),function(e,t){const n=e.get("metadataItem"),r=t[e.entityID()];if(!r)return{};const i={_mediaIndex:r.mediaIndex,_partIndex:r.partIndex,_partCount:r.partCount},a=n.get("Media")[r.mediaIndex],s=a&&a.Part,o=s&&s[r.partIndex];return(o?o.Stream:[]).reduce(((e,{id:t,streamType:n,selected:r})=>t?(n===Yj.Z.get("video").id?e._videoStreamID=t:r&&(n===Yj.Z.get("audio").id?e._audioStreamID=t:n===Yj.Z.get("subtitles").id&&(e._subtitleStreamID=t)),e):e),i)}(g,u))}function d(){a=null,o&&l()}function u(){l()}return{start:function(){s||(s=!0,((0,b.s4)("remoteCastPlayerManager")||(0,b.s4)("remotePlexPlayerManager"))&&t.dispatch(TL()),r(e).forEach((e=>{e.on("change",u)})))},stop:function(t){s=!1,a&&(window.clearTimeout(a),a=null),r(e).forEach((e=>{e.off("change",u)})),t&&l({requestDisconnect:t})}}}var kMt=n(88551),RMt=n(99862),zMt=n(25474);function UMt(e,t){const n=ZMt(e);return n?(n.transcoderVideo=e.get("transcoderVideo")||!1,n.transcoderVideoRemuxOnly=e.get("transcoderVideoRemuxOnly")||!1,n.transcoderAudio=e.get("transcoderAudio")||!1,n.version=e.get("shortVersion"),n.myPlexSubscription=e.get("myPlexSubscription"),n.isVerifiedHostname="https"===n.protocol&&!H.At(n.address),function(e,t={}){const n=e.get("accessToken");return!e.supports("transientToken")||e.get("isCloud")||/^transient-/.test(n)?h().Deferred().resolve(n).promise():h().ajax(e.getXHROptions("/security/token",{data:{type:t.type||"delegation",scope:t.scope||"all"}})).promise().then((e=>(0,zMt.Z)(e).token||h().Deferred().reject().promise()))}(e).then((e=>(n.accessToken=e,n)))):h().Deferred().reject().promise()}var VMt=Object.defineProperty,BMt=Object.prototype.hasOwnProperty,FMt=Object.getOwnPropertySymbols,_Mt=Object.prototype.propertyIsEnumerable,HMt=(e,t,n)=>t in e?VMt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,QMt=(e,t)=>{for(var n in t||(t={}))BMt.call(t,n)&&HMt(e,n,t[n]);if(FMt)for(var n of FMt(t))_Mt.call(t,n)&&HMt(e,n,t[n]);return e};const GMt="remoteCastPlayerManager";function WMt(e,t){const n=t.dispatch;let r,i,a,s,o,l=0,c=0,d=!1,u={},p={};function m(e,t={},n={}){if(!r)return h().Deferred().reject().promise();const i=E.Z.join([r.baseURL,e],QMt(QMt({},t),{commandID:l})),a=r.server.getXHROptions(i,QMt(QMt({},n),{scope:GMt,headers:{"X-Plex-Target-Client-Identifier":r.get("machineIdentifier")}}));return h().ajax(a)}function g(e={}){r&&m("/player/timeline/poll",e,{timeout:2e4}).done(((t,i,a)=>{c=0;const s=(0,zMt.Z)(t);if((0,Me.Z)(s.disconnected)&&e.wait)return void n(TL());const o=r.get("machineIdentifier"),u=a.getResponseHeader("X-Plex-Client-Identifier"),p=(0,bUe.Z)(s.commandID),m=o===u||r.baseURL;if(!d&&m&&p>=l){const e=(0,RMt.Z)(s.Timeline),t=S().findWhere(e,{type:"video"}),n=S().findWhere(e,{type:"music"}),r=S().findWhere(e,{type:"photo"});!t||n&&n.state&&n.state!==CMt?n&&y(n):y(t),r&&y(r),l=p}g({wait:1})})).fail(((t,r)=>{t&&t.aborting||("error"===r?(c++,e.wait&&c<=3?(M.Z.warn("[Companion] Poll request failed; retrying..."),g({wait:1})):(M.Z.warn("[Companion] Poll request failed 3 times in a row; giving up"),n(TL()))):g({wait:1}))}))}function y(e){const{type:t,state:r,providerIdentifier:i,machineIdentifier:a,containerKey:s,key:o}=e,l=e.playQueueItemID||e.playQueueItemId,c=uIt.d2(t),d=(0,Me.Z)(e.continuing);if(r===CMt&&!d)return u[t]=null,p[t]=null,void n(ZL({playQueueType:c}));const m=(0,bUe.Z)(e.playQueueVersion),h=(0,bUe.Z)(e.time),g=(0,bUe.Z)(e.duration),y=(0,bUe.Z)(e.mediaIndex),v=(0,bUe.Z)(e.partIndex),f=e.audioStreamID?(0,bUe.Z)(e.audioStreamID):null,b=e.subtitleStreamID?(0,bUe.Z)(e.subtitleStreamID):null,I=(0,bUe.Z)(e.volume),S=(0,bUe.Z)(e.repeat),M=(e.controllable||"").split(","),E={positionSeconds:Math.floor(h/1e3),durationSeconds:Math.floor(g/1e3),mediaIndex:y,partIndex:v,isPaused:"paused"===r,isBuffering:"buffering"===r,hasError:"error"===r,controllable:M.reduce(((e,t)=>(e[t]=!0,e)),{})},P=u[t],D=p[t],C=l!==P||m!==D;u[t]=l,p[t]=m,n(fL({playQueueType:c,options:{providerIdentifier:i,machineIdentifier:a,containerKey:s,key:o,playQueueItemID:l,shouldRefreshPlayQueue:C,initialState:E}})),n(bL({playQueueType:c,playerState:E,providerIdentifier:i,machineIdentifier:a})),function(e){const t={};null!=e.autoPlay&&(t.autoPlay="1"===e.autoPlay),null!=e.subtitleColor&&(t.subtitleColor=e.subtitleColor),null!=e.subtitlePosition&&(t.subtitlePosition=e.subtitlePosition),null!=e.subtitleSize&&(t.subtitleSize=(0,bUe.Z)(e.subtitleSize,10)),n(EL(t))}(e),n(IL({playQueueType:c,playQueueVersion:m,repeatAll:S===DIt.QN||S===DIt.ry,repeatOne:S===DIt.ry})),n(ML({playQueueType:c,key:o,mediaIndex:y,partIndex:v,audioStreamID:f,subtitleStreamID:b})),null!=e.volume&&n(PL(I))}function v(){i=null,null!=a&&(I(a),a=null)}function f(){s=null,null!=o&&(P(o),o=null)}function b(e,t){return r?(l++,m(e,t)):(M.Z.warn(`[Companion] Command for ${e} ignored; no current player`),h().Deferred().reject().promise())}function I(e){i?(window.clearTimeout(i),a=e):b("/player/playback/seekTo",e),i=window.setTimeout(v,200)}function P(e){s?(window.clearTimeout(s),o=e):b("/player/playback/setParameters",e),s=window.setTimeout(f,200)}return{requestSession:function(t){r=(0,QT.cX)(e,{playerIdentifier:t}),r?(n(vL(t)),l=0,c=0,g()):M.Z.warn(`[Companion] Request session ignored; no player with identifier "${t}"`)},endSession:function(){r?(i&&(window.clearTimeout(i),i=null),s&&(window.clearTimeout(s),s=null),N.Z.abortAll(GMt),m("/player/timeline/unsubscribe"),r=null,a=null,o=null,u={},p={}):M.Z.warn("[Companion] End session ignored; no current player")},startPlayback:function(e){if(!r)return void M.Z.warn("[Companion] Start playback ignored; no current player");const t=e.get("playQueue"),i=t.get("type"),a=t.get("playQueueItems").get(t.get("playQueueSelectedItemID")).get("metadataItem"),s=t.server,o=t.provider;if("speaker"===r.get("deviceClass")&&t.get("type")!==Ja.j0)return void n(DL({playQueueType:i,errorMessage:(0,Ce.Z)("The connected player only supports audio playback.")}));const l=1e3*e.get("positionSeconds")||Math.floor((0,kMt.Z)(e,a));d=!0,UMt(s).done((e=>{const r=e.machineIdentifier,s=o.get("identifier"),c={type:uIt.ED(t.get("type")),providerIdentifier:s,containerKey:E.Z.join([S().result(t,"url")],{own:1}),key:a.get("key"),offset:l,machineIdentifier:r,protocol:e.protocol,address:e.address,port:e.port,token:e.accessToken};(0,M.Z)("[Companion] Sending play media request"),b("/player/playback/playMedia",c).done((()=>{d=!1,(0,M.Z)("[Companion] Play media success"),n(bL({playQueueType:i,playerState:{isMediaLoading:!1},providerIdentifier:s,machineIdentifier:r}))})).fail((e=>{d=!1,M.Z.warn(`[Companion] Failed to play media with error "${e.status}"`),n(DL({playQueueType:i}))}))})).fail((()=>{d=!1,n(DL({playQueueType:i,errorMessage:(0,Ce.Z)('The server "{serverName}" does not have a valid connection for casting. Check that the server is claimed in server settings.',{serverName:s.get("friendlyName")})}))}))},mirrorDetails:function(e){if(!r)return void M.Z.warn("[Companion] Mirror details ignored; no current player");const t=r.get("protocolCapabilities");if(!t||-1===t.indexOf("mirror"))return void M.Z.warn("[Companion] Mirror details ignored; player does not advertise support for the `mirror` capability");const n=e.server,i=e.provider;UMt(n).done((t=>{m("/player/mirror/details",{key:e.get("key"),providerIdentifier:i.get("identifier"),machineIdentifier:t.machineIdentifier,protocol:t.protocol,address:t.address,port:t.port,token:t.accessToken})}))},sendCommand:b,seek:I,changeVolume:P}}const YMt=ple.ZP.Model.extend({initialize:function(e,t){this.set("time",new Date)}}),KMt=new(ple.ZP.Model.extend({initialize:function(e,t){this.set("host",window.location.host),this.set("userAgent",window.navigator.userAgent),this.set("browser",wVe.Z)},toJSON:function(){const e=this.parent,t=e.get("primaryServer"),n=e.get("user");return this.set("version","4.57.4"),t&&(t.get("activeConnection")&&this.set("primaryServerUrl",t.url()),this.set("primaryServerAuthToken",!!t.get("accessToken")),this.set("primaryServerVersion",t.get("versionFull"))),this.set("username",n.get("username")),this.set("cloudUrl",n.server.get("connections")),ple.ZP.Model.prototype.toJSON.apply(this,arguments)}})),qMt=/("?(auth_token|accessToken|X-Plex-Token|authToken|token)"?[:=].*?)("?[-\w]+"?)/g,$Mt=/("?(email)"?[:=]([\s]+)?)("(.*)")/g,JMt=/("?(address|host|uri)"?[:=].*?)(".*")/g;function XMt(e){if(e)return e.replace(qMt,'$1"TOKEN"').replace($Mt,'$1"EMAIL"').replace(JMt,'$1"IP ADDRESS"')}var eEt=/(password=)([^&]+)/;function tEt(e){return e.replace(qMt,"$1TOKEN").replace(eEt,"$1PASSWORD")}const nEt=ple.ZP.Collection.extend({model:YMt,initialize:function(e,t){S().bindAll(this,"onAjaxComplete","onAppModelRegistered"),this.parent=t.parent,KMt.parent=t.parent,(0,b.X_)("appModel").done(this.onAppModelRegistered)},reconfigure(){(0,b.DB)("appModel").get("deviceSettings").get("debugLevel")?this.start():this.stop()},start:function(){this.enabled||(this.enabled=!0,this.reset(),this.listenTo(le.Z,"log:message",this.onLogMessage),ple.ZP.history.on("route",this.onRoute,this),h()(document).on("ajaxComplete",this.onAjaxComplete))},stop:function(){this.enabled&&(this.enabled=!1,this.reset(),this.stopListening(le.Z),ple.ZP.history.off("route",this.onRoute,this),h()(document).off("ajaxComplete",this.onAjaxComplete))},destroy:function(){this.stop(),this.stopListening()},add:function(){this.length>1e3&&this.shift(),ple.ZP.Collection.prototype.add.apply(this,arguments)},toJSON:function(){var e=ple.ZP.Collection.prototype.toJSON.apply(this,arguments);return e.unshift(S().extend({type:"info"},KMt.toJSON())),e},toJSONString:function(){return JSON.stringify(this.toJSON(),null,2)},onAppModelRegistered:function(e){const t=e.get("deviceSettings");this.listenTo(t,"change:debugLevel",this.reconfigure),this.reconfigure()},onLogMessage:function(e){this.add(e)},onRoute:function(e,t,n){var r={type:"navigation",route:t,args:n,fragment:window.location.hash};this.add(r)},onAjaxComplete:function(e,t,n){const r=(0,b.DB)("appModel").get("deviceSettings").get("debugLevel"),i={type:"ajax",url:tEt(n.url),status:t.status};var a;S().isEmpty(n.headers)||(i.headers=((a=n.headers)&&a.hasOwnProperty("X-Plex-Token")&&(a["X-Plex-Token"]="TOKEN"),a&&a.hasOwnProperty("Authorization")&&(a.Authorization="BASIC AUTHORIZATION"),a)),S().isEmpty(n.data)||(i.params=tEt(n.data)),200===t.status?2===r?i.response=XMt(t.responseText):i.responseLength=t.responseText?t.responseText.length:0:(i.statusText=t.statusText,i.response=XMt(t.responseText)),this.add(i)}}),rEt=(0,fe.P1)(na.Z,(e=>e.remoteQuality)),iEt=(0,fe.P1)(uAe.Z,(e=>e.restorePlayQueue)),aEt=(0,fe.P1)(na.Z,(e=>({color:e.subtitleColor,position:e.subtitlePosition,size:e.subtitleSize}))),sEt=0,oEt=5,lEt=9,cEt=S().reduce(sV.l,((e,t)=>(e[t]="Metadata",e)),{}),dEt=function e(t){if(!t||!t._children)return t;const n=S().clone(t),r=n._children;return Array.isArray(r)&&(r.forEach((t=>{const r=t._elementType;if(t._elementType=null,t.elementName=r,r){const i=cEt[r]||r,a=n[i],s=e(t);a?Array.isArray(a)?a.push(s):n[i]=[a,s]:n[i]=s}})),n._children=null),n};var uEt=Object.defineProperty,pEt=Object.prototype.hasOwnProperty,mEt=Object.getOwnPropertySymbols,hEt=Object.prototype.propertyIsEnumerable,gEt=(e,t,n)=>t in e?uEt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,yEt=(e,t)=>{for(var n in t||(t={}))pEt.call(t,n)&&gEt(e,n,t[n]);if(mEt)for(var n of mEt(t))hEt.call(t,n)&&gEt(e,n,t[n]);return e};const vEt=oA.Z.extend({context:["server"],url:"/updater/status",sessionAttrs:{isChecking:KO.Z.boolean.isRequired},syncedAttrs:{status:KO.Z.integer,canInstall:KO.Z.boolean,downloadURL:KO.Z.string,state:KO.Z.string,progress:KO.Z.integer,version:KO.Z.string,error:KO.Z.string,added:KO.Z.string,fixed:KO.Z.string},defaults:{state:pPe,status:0,progress:0,version:null,error:"",added:null,fixed:null,isChecking:!1},augmentResponse(e){const t=e,{Release:n}=t,r=((e,t)=>{var n={};for(var r in e)pEt.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&mEt)for(var r of mEt(e))t.indexOf(r)<0&&hEt.call(e,r)&&(n[r]=e[r]);return n})(t,["Release"]);return n&&(e=yEt(yEt({},r),n)),"0"!==e.status&&(e.state=dPe),e}});var fEt=Object.defineProperty,bEt=Object.prototype.hasOwnProperty,IEt=Object.getOwnPropertySymbols,SEt=Object.prototype.propertyIsEnumerable,MEt=(e,t,n)=>t in e?fEt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,EEt=(e,t)=>{for(var n in t||(t={}))bEt.call(t,n)&&MEt(e,n,t[n]);if(IEt)for(var n of IEt(t))SEt.call(t,n)&&MEt(e,n,t[n]);return e};const PEt={started:wC.TV,updated:wC.UU,ended:wC.uq},DEt={started:vl.actions.activityStarted,updated:vl.actions.activityUpdated,ended:vl.actions.activityFinished},CEt=[hPe,gPe,yPe,vPe,fPe,IPe,SPe,MPe,EPe,PPe,DPe,CPe,wPe,ZPe,TPe,NPe,OPe,APe,xPe,jPe],wEt=5e3;function ZEt(e){const t=b.DB("appStore");t.dispatch(Ol.NO({serverEntityID:e,playerType:Se.Se})),Fo.wB(window.location.hash,Fo.Ll)&&t.dispatch((0,ZC.jR)({serverEntityID:e}))}const TEt=LPe.extend({initialize(e){LPe.prototype.initialize.apply(this,arguments),this.throttledRepopulates={}},repopulateNow(e,t){this.throttledRepopulates[e]={timestamp:Date.now()},t()},repopulateWithThrottle(e,t,n){const r=this.throttledRepopulates[e];if(r)if(r.hasTimeout);else{const i=Date.now()-r.timestamp;i<n?(window.setTimeout((()=>{this.repopulateNow(e,t)}),n-i),this.throttledRepopulates[e]={hasTimeout:!0}):this.repopulateNow(e,t)}else this.repopulateNow(e,t)},getMessageTypes:()=>CEt,[SPe](e){e.key=e.id,e.server=this.server,this.server.trigger("socket:setting",e),(0,b.DB("appStore").dispatch)((0,UT.m7)({serverEntityID:this.server.entityID(),setting:e}))},[TPe](e){if(Fo.wB(e.identifier,Fo.Ll))return;const{state:t,mediaProviderID:n,sectionID:r,rootItemID:i,parentItemID:a,itemID:s,metadataState:o,mediaState:l,type:c}=e,d=b.DB("appStore").dispatch,u=this.server.entityID(),p=Ac.getMetadataType(c),m=null==p?void 0:p.typeString,h=`${function(e){switch(e){case Ac.PLAYLIST:return"/playlists";case Ac.COLLECTION:return"/library/collections";default:return"/library/metadata"}}(m)}/${s}`,g=a?`/library/metadata/${a}`:null,y=i?`/library/metadata/${i}`:null,v=(0,vn.Z)(Mn.TY,h,u),f=(0,yn.Z)({serverIdentifier:this.server.get("machineIdentifier"),providerIdentifier:Fo.Y3,key:h}),I=g?(0,yn.Z)({serverIdentifier:this.server.get("machineIdentifier"),providerIdentifier:Fo.Y3,key:g}):void 0,S=y?(0,yn.Z)({serverIdentifier:this.server.get("machineIdentifier"),providerIdentifier:Fo.Y3,key:y}):void 0;d(hd.actions.timelineStatesChanged({sourceURI:f,metadataState:o,mediaState:l})),d((0,Nl.updateMetadataItemRefreshingState)({serverEntityID:u,metadataItemEntityID:v,metadataState:o,mediaState:l})),t===oEt&&(d(os.Z.actions.metadataProcessed({sourceURI:f,parentSourceURI:I,rootSourceURI:S})),d((0,$l.dk)({serverEntityID:u,metadataItemEntityID:v})),m===Ac.ALBUM&&d(YX({serverEntityID:u,albumMetadataItemEntityID:v}))),t===lEt&&(d(os.Z.actions.deleted({mediaProviderID:n,sourceURI:f,parentSourceURI:I,rootSourceURI:S})),d((0,$l.W6)({serverEntityID:u,metadataItemEntityID:v}))),t===sEt&&d(os.Z.actions.created({mediaProviderID:n,sourceURI:f,parentSourceURI:I,rootSourceURI:S})),t!==sEt&&t!==lEt||(r>0&&this.repopulateWithThrottle("section-"+r,(()=>{d((0,ZC.jR)({serverEntityID:u,containerKeyPattern:new RegExp("^"+(0,k.Z)(`/library/sections/${r}`)+"\\b")}))}),wEt),i>0&&this.repopulateWithThrottle("metadata-"+i,(()=>{const e=`/library/metadata/${i}`,t=(0,vn.Z)(Mn.TY,e,u);d((0,ZC.jR)({serverEntityID:u,metadataItemEntityID:t,rootMetadataKey:e}))}),wEt),a>0&&this.repopulateWithThrottle("metadata-"+a,(()=>{const e=`/library/metadata/${a}`,t=(0,vn.Z)(Mn.TY,e,u);d((0,ZC.jR)({serverEntityID:u,metadataItemEntityID:t,parentMetadataKey:e}))}),wEt),m===Ac.PLAYLIST&&d((0,ZC.jR)({serverEntityID:u,containerKeyPattern:new RegExp("^/playlists")}))),e.server=this.server,this.server.trigger("socket:timeline",e),le.Z.trigger("timeline",e)},[wPe](e){if(this.server.trigger("socket:status",e),"LIBRARY_UPDATE"===e.notificationName){const e=b.DB("appStore").dispatch,t=this.server.entityID();t&&(e(yl.actions.libraryScanUpdated({server:ISt(this.server)})),e((0,wC.Vk)({serverEntityID:t})),e((0,wC.tU)({serverEntityID:t})),e((0,ZC.jR)({serverEntityID:t})))}},[MPe](e){this.server.trigger("socket:status",e)},[IPe](e){if(!e.sessionKey||!this.server.get("isFullOwnedServer"))return;const t=b.DB("appStore").dispatch;e.state===Mde.Z.states.STOPPED?(t(Bv.actions.sessionStopped({server:ISt(this.server),sessionKey:e.sessionKey})),t((0,ZC.jR)({serverEntityID:this.server.entityID()}))):t(Bv.actions.sessionChanged({server:ISt(this.server),message:e}))},[ZPe](e){const t=new Wpe({key:e.key},{server:this.server,syncItemId:e.syncItemId,onlyIfCached:!0});S().isEmpty(t)||t.get("Media").forEach((n=>{n.Part.forEach((n=>{n.transcodeState=e.syncFileState,n.transcodeStateContext=e.syncFileStateContext,n.syncState=e.syncState,n.syncStateContext=e.syncStateContext;const r=Mle.Z.getSyncStateFromPart(n);Mle.Z.waitingRegex.test(r)&&(n.key="placeholder"),t.trigger("change:Media",t,t.get("Media"))}))}))},[yPe](e){const t={server:this.server,onlyIfCached:!0},n=new Sle.Z({id:e.generatorID},t);S().isEmpty(n)||n.fetch()},[jPe](e){const t={server:this.server,onlyIfCached:!0},n=new Sle.Z({id:e.generatorID},t);if(!S().isEmpty(n)){const t=n.get("children").getCollection().get(e.metadataItemID);t&&t.set({processingState:e.state,processingStateContext:e.stateContext})}},[vPe](e){const t=new Xoe([],{server:this.server,allowInCache:!0,onlyIfCached:!0});if(!S().isEmpty(t)){const e=t.first();e&&e.fetch()}},[OPe](e){const t=b.DB("appStore").dispatch;this.server.get("isShared")||("static"===e.context?this.server.get("desktop").get("backgroundTranscodeJobs").fetch():t(Bv.actions.fetchRequested({server:ISt(this.server)})))},[APe](e){if(!this.server.get("isShared")&&"static"===e.context){const t=this.server.get("desktop").get("backgroundTranscodeJobs"),n=t.get(e.key);n?n.set(n.parse(e)):t.fetch()}},[NPe](e){this.server.get("isShared")||this["transcodeSession.start"].apply(this,arguments)},[xPe](e){const t=this.server.get("desktop").get("update"),n=S().pick(e,Object.keys(vEt.prototype.syncedAttrs));S().defaults(n,S().result(t,"defaults")),t.get("state")===cPe&&n.state===sPe&&(n.state=cPe),t.set(EEt(EEt({},n),{isChecking:!1}))},[CPe](e){this.server.get("desktop").get("cloudAccount").fetch()},[hPe](e){this.server.set("myPlexSubscription",e.hasPlexPass),b.DB("appModel").get("user").get("isSignedIn")&&le.Z.trigger("discover:servers")},[gPe](e){const t=dEt(e),n=b.DB("appStore"),r=this.server.entityID(),i=t.Activity||t;if(i.Context=i.Context||{},i.Response=i.Response||{},r){const e=PEt[t.event],a=DEt[t.event];e&&n.dispatch(e({serverEntityID:r,activity:i})),a&&n.dispatch(a({server:ISt(this.server),activity:i}))}},[fPe](e){const t=b.DB("appStore"),n=this.server.entityID();n&&"appeared"===e.event&&t.dispatch((0,UT.Hz)({serverEntityID:n,device:e.Device}))},[PPe](){ZEt(this.server.entityID())},[DPe](){ZEt(this.server.entityID())},[EPe](){b.DB("appStore").dispatch((0,wC.lm)({serverEntityID:this.server.entityID()}))}}),NEt=oA.Z.extend({name:"BaseAppModel",isStateTreeRoot:!0,constructor:function(){this._pendingEntities=[],this.listenTo(le.Z,"change:entity",this.onEntityChange),oA.Z.prototype.constructor.apply(this,arguments)},initialize(){this._pendingEntities.forEach(this._addEntity.bind(this))},_addEntity({type:e,id:t,model:n}){this.get("entities").get(e).add({id:t,model:n},{merge:!0})},onEntityChange(e){this.has("entities")?this._addEntity(e):this._pendingEntities.push(e)}});var OEt=n(28058),AEt=n(12186);function xEt(e){return e.length?S().map(e,(e=>e.get("debugName"))).join(", "):"(none)"}const jEt=BT.Z.extend({mixins:[AEt.Z],name:"ServerCollection",model:_pe.ZP,initialize(){this._resetPopulate()},comparator(e){const t=e.get("isShared"),n=e.get("friendlyName")||"",r=e.get("sourceTitle")||"",i=t?r+n:n;return e.get("isCloud")?"9":(t?"1":"0")+i.toLowerCase()},shouldWaitForInitialServers(){const e=this.filter((e=>(!e.id||!!e.get("resources"))&&e.isPopulating()));return!!e.length&&((0,M.Z)("[Servers] Waiting for initial servers =",xEt(e)),!0)},shouldWaitForResources(){const e=this.reduce(((e,t)=>{const n=t.get("isResolved"),r=t.get("resources"),i=r&&r.isPopulating();return n&&i&&e.push(t),e}),[]);return!!e.length&&((0,M.Z)("[Servers] Waiting for additional resources from",xEt(e)),!0)},shouldWaitForPendingServers(){if(this.findWhere({isConnected:!0}))return!1;const e=this.filter((e=>e.isPopulating()));return!!e.length&&((0,M.Z)("[Servers] Waiting for pending servers =",xEt(e)),!0)},waitForServers(){this._resetPopulate()},foundAllServers(){const e=this.where({isConnected:!0}),t=xEt(e);(0,M.Z)("[Servers] Found all servers =",t),e.length?this._resolvePopulate():this._rejectPopulate()},populateAnyServer(e=this.models){const t=h().Deferred(),n=e.slice(0),r=S().find(n,(e=>e.get("isCloud")?e.get("isResolved"):e.get("isConnected")));if(r)return(0,M.Z)("[Servers] Populate any server chose %s where servers = %s",r.get("debugName"),xEt(n)),t.resolve(r).promise();if(this.hasOnlyRejectedServers(n))return t.reject().promise();function i(e,r){S().contains(n,e)&&r&&t.resolve(e)}function a(e,r){S().contains(n,e)&&r&&this.hasOnlyRejectedServers(n)&&t.reject()}return this.on({remove:function(e){const r=n.indexOf(e);r>-1&&(n.splice(r,1),this.hasOnlyRejectedServers(n)&&t.reject())},"change:isResolved":i,"change:isRejected":a},this),t.always((()=>{this.off("change:isResolved",i,this),this.off("change:isRejected",a,this)})),t.promise()},populateServer(e){return this.findServer(e,!0).then((e=>e.get("isConnected")&&!e.get("isCloud")?h().Deferred().resolve(e):e.populate()))},findServer(e,t){const n=S().isString(e),r=n?{machineIdentifier:e}:e,i=h().Deferred();if(n){const e=this.get(r.machineIdentifier);if(e&&e.get("isResolved"))return window.setTimeout(i.resolve.bind(i,e),0),i.promise()}const a=S().has(r,"machineIdentifier"),s="add "+S().map(S().keys(r),(e=>"change:"+e)).join(" ");let o;function l(){const e=this.filterServers(r,t);e?(o=e,e.done((t=>{o===e&&i.resolve(t)})),e.fail((()=>{o===e&&(a||!this.isPopulating()?i.reject():this.populate().always(l.bind(this)))}))):this.isPopulating()||i.reject()}return l.call(this),this.on(s,l,this),this.populate().always((()=>{o||i.reject()})),i.always((()=>{this.off(s,l,this)})),i.promise()},filterServers(e,t){const n=this.where(e);if(n.length)return t?this.populateAnyServer(n):h().Deferred().resolve(n[0]).promise()},hasOnlyRejectedServers(e=this.models){return S().every(e,(e=>e.get("isRejected")))},hasLoopbackServer(e=this.models){return!!S().find(e,(e=>{const t=e.get("activeConnection");return!!t&&t.get("isLoopback")}))}});var LEt=Object.defineProperty,kEt=Object.prototype.hasOwnProperty,REt=Object.getOwnPropertySymbols,zEt=Object.prototype.propertyIsEnumerable,UEt=(e,t,n)=>t in e?LEt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const VEt=oA.Z.extend({name:"EntityModel",sessionAttrs:{id:KO.Z.string.isRequired},sessionRelations:{model:{relationClass:oA.Z,deferred:!0}},toState(){const e=this.get("model"),t=((e,t)=>{for(var n in t||(t={}))kEt.call(t,n)&&UEt(e,n,t[n]);if(REt)for(var n of REt(t))zEt.call(t,n)&&UEt(e,n,t[n]);return e})({entityID:this.id},e.state);return Object.defineProperty(t,"possibleEntityContainers",{value:e.state.possibleEntityContainers,enumerable:!1}),t},shouldUpdateRelationState:function(){return!0}}),BEt=BT.Z.extend({name:"EntityCollection",model:VEt,toState(){const e=this.reduce(this.reduceState,{possibleEntityContainers:[]});return Object.defineProperty(e,"possibleEntityContainers",{enumerable:!1}),e},reduceState:(e,t)=>(e.possibleEntityContainers.push(t.id),e[t.id]=t.getState(),e)}),FEt=oA.Z.extend({name:"SubtitlesModalModel",sessionAttrs:{serverEntityID:KO.Z.string,metadataItemEntityID:KO.Z.string,isSubtitlesPending:KO.Z.boolean,isSubtitlesPopulated:KO.Z.boolean,subtitlesError:KO.Z.string,subtitlesDownloadActivityID:KO.Z.string,subtitlesDownloadKey:KO.Z.string,subtitlesDownloadStartTime:KO.Z.integer,isSubtitlesDownloaded:KO.Z.boolean,subtitlesDownloadError:KO.Z.string},sessionRelations:{subtitles:{relationClass:A7,deferred:!0}},defaults:{serverEntityID:null,metadataItemEntityID:null,isSubtitlesPending:!1,isSubtitlesPopulated:!1,subtitlesError:null,subtitlesDownloadActivityID:null,subtitlesDownloadKey:null,subtitlesDownloadStartTime:null,isSubtitlesDownloaded:!1,subtitlesDownloadError:null}}),_Et=oA.Z.extend({name:"ProviderIntegrationModel",context:["server","provider"],rootPropertyName:"Integration",syncedAttrs:{id:KO.Z.string.isRequired,status:KO.Z.string.isRequired}}),HEt=BT.Z.extend({name:"ProviderIntegrationCollection",context:["server","provider"],url:"/integrations",responseType:iV.AV,model:_Et}),QEt=oA.Z.extend({name:"ProviderIntegrationsModel",sessionAttrs:{isIntegrationsOnboarding:KO.Z.boolean.isRequired,isIntegrationsPending:KO.Z.boolean.isRequired,isIntegrationsPopulated:KO.Z.boolean.isRequired,integrationsError:KO.Z.object},sessionRelations:{integrations:{relationClass:HEt,deferred:!0}},defaults:{isIntegrationsOnboarding:!1,isIntegrationsPending:!0,isIntegrationsPopulated:!1}}),GEt=oA.Z.extend({name:"AdvertisingNoticeModalModel",sessionAttrs:{isSaving:KO.Z.boolean,isSaved:KO.Z.boolean},defaults:{isSaving:!1,isSaved:!1}}),WEt=oA.Z.extend({name:"ChannelGridPageModel",sessionAttrs:{serverEntityID:KO.Z.string,providerEntityID:KO.Z.string,containerKey:KO.Z.string,directoryKey:KO.Z.string,startTime:KO.Z.integer,visibleColumns:KO.Z.integer,columnTimes:KO.Z.array,columnWidth:KO.Z.float,viewportWidth:KO.Z.integer,viewportHeight:KO.Z.integer,airedProgress:KO.Z.float,isChannelsListPending:KO.Z.boolean,isChannelsListPopulated:KO.Z.boolean,channelsListError:KO.Z.object},sessionRelations:{metadataList:{relationClass:aA,deferred:!0},channelsList:{relationClass:cA,deferred:!0}},defaults:()=>({startTime:0,visibleColumns:1,columnTimes:[],columnWidth:0,viewportWidth:0,viewportHeight:0,airedProgress:0,isChannelsListPending:!0,isChannelsListPopulated:!1,channelsListError:null})});var YEt=n(66390);const KEt=oA.Z.extend({name:"MediaSubscriptionModalModel",sessionAttrs:{isMediaSubscriptionPending:KO.Z.boolean,isMediaSubscriptionPopulated:KO.Z.boolean,mediaSubscriptionError:KO.Z.string,isMediaSubscriptionSaving:KO.Z.boolean,mediaSubscriptionSaveError:KO.Z.string,isMediaSubscriptionMoving:KO.Z.boolean,mediaSubscriptionMoveError:KO.Z.string,isMediaSubscriptionDeleting:KO.Z.boolean,mediaSubscriptionDeleteError:KO.Z.string},sessionRelations:{templates:{relationClass:YEt.Z,deferred:!0},mediaSubscription:{relationClass:yV.Z,deferred:!0}},defaults:{isMediaSubscriptionPending:!0,isMediaSubscriptionPopulated:!1,mediaSubscriptionError:null,isMediaSubscriptionSaving:!1,mediaSubscriptionSaveError:null,isMediaSubscriptionMoving:!1,mediaSubscriptionMoveError:null,isMediaSubscriptionDeleting:!1,mediaSubscriptionDeleteError:null}}),qEt=(0,$me.Z)(),$Et=oA.Z.extend({name:"PlayerModel",sessionAttrs:{serverEntityID:KO.Z.string,providerEntityID:KO.Z.string,playbackSessionID:KO.Z.string,syncplaySessionRoomID:KO.Z.string,isOpen:KO.Z.boolean,previousOpenState:KO.Z.oneOf(Fj.K,Fj.y),openState:KO.Z.oneOf(Fj.K,Fj.y),isPlayQueueVisible:KO.Z.boolean,isAlsoAiringVisible:KO.Z.boolean,isLyricsVisible:KO.Z.boolean,isPostPlayVisible:KO.Z.boolean,isSettingsVisible:KO.Z.boolean,isChaptersVisible:KO.Z.boolean,isSubtitlesOffsetSettingsVisible:KO.Z.boolean,isWatchTogetherLobbyVisible:KO.Z.boolean,isWatchTogetherParticipantsVisible:KO.Z.boolean,confirmPlayerUpsellPayload:KO.Z.object,confirmPlaybackPayload:KO.Z.object,confirmOffsetPayload:KO.Z.object,confirmRemoteToLocal:KO.Z.boolean,confirmLocalToRemote:KO.Z.oneOf(1,3,2).isRequired,decisions:KO.Z.object.isRequired,currentDecision:KO.Z.object,startMetadataItemEntityID:KO.Z.string,startOffsetMilliseconds:KO.Z.integer,startMediaIndex:KO.Z.integer,positionSeconds:KO.Z.integer,nextPositionSeconds:KO.Z.integer,lastSeekPositionSeconds:KO.Z.integer,durationSeconds:KO.Z.integer,seekStartSeconds:KO.Z.integer,seekEndSeconds:KO.Z.integer,bandwidthTimeline:KO.Z.object,lastInteractedAt:KO.Z.integer,itemPlaybackTime:KO.Z.integer,sessionPlaybackTime:KO.Z.integer,playbackSpeed:KO.Z.float,isPlayQueueLoading:KO.Z.boolean.isRequired,isLiveTVTuning:KO.Z.boolean.isRequired,isMediaLoading:KO.Z.boolean.isRequired,isPostPlayLoading:KO.Z.boolean.isRequired,isPaused:KO.Z.boolean.isRequired,isBuffering:KO.Z.boolean.isRequired,repeatAll:KO.Z.boolean.isRequired,repeatOne:KO.Z.boolean.isRequired,mediaIndex:KO.Z.integer,partIndex:KO.Z.integer,qualityIndex:KO.Z.integer,availableQualities:KO.Z.array.isRequired,controllable:KO.Z.object,metricsPage:KO.Z.string,metricsContextTuple:KO.Z.array,metricsSetting:KO.Z.string,metricsAutoPlay:KO.Z.boolean,metricsPlayer:KO.Z.oneOf(...h4e.QN),hasError:KO.Z.boolean.isRequired,errorMessage:KO.Z.string,errorCode:KO.Z.string,errorCategory:KO.Z.string,playbackStartTime:KO.Z.integer,hasConflicts:KO.Z.boolean.isRequired,isConflictCancelling:KO.Z.boolean,cancelConflictError:KO.Z.object,confirmLiveTVPlayback:KO.Z.boolean.isRequired,adState:KO.Z.string,adPositionSeconds:KO.Z.integer,adDurationSeconds:KO.Z.integer,adDisplayIndex:KO.Z.integer,adDisplayTotal:KO.Z.integer,adTimeOffsetSeconds:KO.Z.oneOfType(KO.Z.integer,KO.Z.float),advertisingNoticePayload:KO.Z.object,bufferedRanges:KO.Z.array,canPlayThrough:KO.Z.boolean,mediaWidth:KO.Z.integer,mediaHeight:KO.Z.integer},derivedAttrs:{isWatchTogether(){return!!this.get("syncplaySessionRoomID")}},sessionRelations:{playQueue:{relationClass:oA.Z,deferred:!0},relatedHubs:{relationClass:IX.Z,deferred:!0},liveTVSession:{relationClass:Dj.Z,deferred:!0}},defaults:()=>({playbackSessionID:qEt,playbackSpeed:1,isOpen:!1,isPlayQueueVisible:!1,isAlsoAiringVisible:!1,isLyricsVisible:!1,isPostPlayVisible:!1,isSettingsVisible:!1,isChaptersVisible:!1,isSubtitlesOffsetSettingsVisible:!1,isWatchTogetherLobbyVisible:!1,isWatchTogetherParticipantsVisible:!1,confirmPlaybackPayload:null,confirmOffsetPayload:null,confirmRemoteToLocal:!1,confirmLocalToRemote:1,decisions:{},startMetadataItemEntityID:null,startOffsetMilliseconds:null,startMediaIndex:null,positionSeconds:0,nextPositionSeconds:null,lastSeekPositionSeconds:null,durationSeconds:0,seekStartSeconds:0,seekEndSeconds:0,itemPlaybackTime:0,sessionPlaybackTime:0,isPlayQueueLoading:!1,isLiveTVTuning:!1,isMediaLoading:!1,isPostPlayLoading:!1,isPaused:!1,isBuffering:!1,repeatAll:!1,repeatOne:!1,availableQualities:[],metricsAutoPlay:!1,hasError:!1,errorMessage:null,errorCode:null,errorCategory:null,playbackStartTime:null,hasConflicts:!1,isConflictCancelling:!1,cancelConflictError:null,confirmLiveTVPlayback:!1,adState:null,adPositionSeconds:null,adDurationSeconds:null,adDisplayIndex:null,adDisplayTotal:null,adTimeOffsetSeconds:null,advertisingNoticePayload:null,bufferedRanges:[],canPlayThrough:!1,mediaWidth:null,mediaHeight:null})}),JEt=oA.Z.extend({name:"ProviderSettingsPageModel",context:["server","provider"],sessionAttrs:{isUpdatePending:KO.Z.boolean,updateError:KO.Z.object},defaults:{isUpdatePending:!1,updateError:null}}),XEt=oA.Z.extend({name:"RecordingSchedulePageModel",sessionAttrs:{isPagePopulated:KO.Z.boolean,isMediaSubscriptionsPending:KO.Z.boolean,isMediaSubscriptionsPopulated:KO.Z.boolean,mediaSubscriptionsError:KO.Z.object,isCalendarPending:KO.Z.boolean,isCalendarPopulated:KO.Z.boolean,calendarError:KO.Z.object,mediaSubscriptionMoveError:KO.Z.string},sessionRelations:{mediaSubscriptions:{relationClass:vV,deferred:!0},calendar:{relationClass:oV,deferred:!0}},defaults:{isPagePopulated:!1,isMediaSubscriptionsPending:!1,isMediaSubscriptionsPopulated:!1,mediaSubscriptionsError:null,isCalendarPending:!1,isCalendarPopulated:!1,calendarError:null,mediaSubscriptionMoveError:null}}),ePt=BT.Z.extend({name:"SearchCollection",context:["server","provider"],model:u$e.Z}),tPt=oA.Z.extend({name:"SearchPageModel",sessionRelations:{searches:{relationClass:ePt}}});var nPt=n(66357),rPt=n(64297);const iPt=oA.Z.extend({name:"WatchTogetherRoomUserModel",syncedAttrs:{id:KO.Z.integer.isRequired,subscription:KO.Z.boolean.isRequired,thumb:KO.Z.string.isRequired,title:KO.Z.string.isRequired,uuid:KO.Z.string.isRequired}}),aPt=BT.Z.extend({name:"WatchTogetherRoomUserCollection",model:iPt}),sPt=oA.Z.extend({name:"WatchTogetherRoomModel",entityType:Mn.r8,entityID(e=this.state){return(0,vn.Z)(this.entityType,e.id)},mergeStrategy:rPt.Z,sessionAttrs:{isMetadataItemPending:KO.Z.boolean,isMetadataItemPopulated:KO.Z.boolean,metadataItemError:KO.Z.string},syncedAttrs:{id:KO.Z.string.isRequired,title:KO.Z.string.isRequired,sourceUri:KO.Z.string.isRequired,startsAt:KO.Z.integer.isRequired,endsAt:KO.Z.integer.isRequired,updatedAt:KO.Z.integer.isRequired,syncplayHost:KO.Z.string.isRequired,syncplayPort:KO.Z.integer.isRequired},syncedRelations:{metadataItem:{relationClass:lC.Z,deferred:!0},users:{relationClass:aPt}},defaults:{isMetadataItemPending:!0,isMetadataItemPopulated:!1,metadataItemError:null}}),oPt=BT.Z.extend({name:"WatchTogetherRoomCollection",model:sPt}),lPt=oA.Z.extend({name:"WatchTogetherModel",sessionAttrs:{isRoomsPending:KO.Z.boolean,isRoomsPopulated:KO.Z.boolean,roomsError:KO.Z.string,isInvitePending:KO.Z.boolean,isInviteCompleted:KO.Z.boolean,inviteError:KO.Z.string,sessionError:KO.Z.string},sessionRelations:{session:{relationClass:nPt.Z,deferred:!0},rooms:{relationClass:oPt}},defaults:()=>({isRoomsPending:!0,isRoomsPopulated:!1,roomsError:void 0,isInvitePending:!1,isInviteCompleted:!1,inviteError:void 0,sessionError:void 0})}),cPt=oA.Z.extend({name:"MultiSelectItemModel",sessionAttrs:{id:KO.Z.any.isRequired,type:KO.Z.string.isRequired},sessionRelations:{model:{relationClass:oA.Z,deferred:!0}}}),dPt=BT.Z.extend({name:"MultiSelectItemCollection",model:cPt}),uPt=oA.Z.extend({name:"MultiSelectModel",sessionAttrs:{activeSelectionRange:KO.Z.object},sessionRelations:{activeSelectionItems:{relationClass:dPt}},derivedAttrs:{activeSelectionType(){const e=this.get("activeSelectionItems").first();if(e)return e.get("type")}},initialize(){this.listenTo(this.get("activeSelectionItems"),{remove:this.resetSelectionRange,reset:this.resetSelectionRange})},listenToCollection(e){this.stopListening(e),this.listenTo(e,{reset:this.onCollectionReset,remove:this.onCollectionRemove})},resetSelectionRange(){this.set("activeSelectionRange",null)},onCollectionReset(e,t){const n=this.get("activeSelectionItems"),r=t.previousModels;S().each(r,(t=>{e.contains(t)||n.remove(t.id)}))},onCollectionRemove(e){this.get("activeSelectionItems").remove(e.id)}}),pPt=oA.Z.extend({name:"AddToPlaylistMenuModel",sessionAttrs:{uri:KO.Z.string},sessionRelations:{recentPlaylists:{relationClass:qO.Z,deferred:!0}}});var mPt=n(72149);const hPt=oA.Z.extend({name:"AddToPlaylistModalModel",sessionAttrs:{providerEntityID:KO.Z.string,containerKey:KO.Z.string,type:KO.Z.string,title:KO.Z.string,uri:KO.Z.string,smart:KO.Z.boolean,readOnly:KO.Z.boolean,isUpdating:KO.Z.boolean,error:KO.Z.object},sessionRelations:{server:{relationClass:_pe.ZP,deferred:!0},provider:{relationClass:KK.Z,deferred:!0},metadataItem:{relationClass:lC.Z,deferred:!0},metadataList:{relationClass:qO.Z,deferred:!0},multiSelect:{relationClass:uPt,deferred:!0},playQueue:{relationClass:mPt.Z,deferred:!0},playlists:{relationClass:qO.Z,deferred:!0}},defaults:{title:"",smart:!1,readOnly:!1,isUpdating:!1}}),gPt=oA.Z.extend({name:"SubtitlesUploadModalModel",sessionAttrs:{isUploading:KO.Z.boolean,isUploaded:KO.Z.boolean,error:KO.Z.string},defaults:{isUploading:!1,isUploaded:!1,error:null}}),yPt=oA.Z.extend({name:"ServerLogPageModel",sessionAttrs:{logLines:KO.Z.array.isRequired,unfilteredLogLinesCount:KO.Z.integer.isRequired,filter:KO.Z.string.isRequired,logLevels:KO.Z.array.isRequired,highlightedLineIndex:KO.Z.integer,timeFilterStart:KO.Z.string.isRequired,timeFilterEnd:KO.Z.string.isRequired,isTimeFilterStartValid:KO.Z.boolean.isRequired,isTimeFilterEndValid:KO.Z.boolean.isRequired,showTimeFilter:KO.Z.boolean.isRequired,showRawText:KO.Z.boolean.isRequired},defaults:()=>({logLines:[],unfilteredLogLinesCount:0,filter:"",logLevels:[],timeFilterStart:"",timeFilterEnd:"",isTimeFilterStartValid:!0,isTimeFilterEndValid:!0,showRawText:!1,showTimeFilter:!1})}),vPt=oA.Z.extend({name:"AccountSettingsPageModel",sessionAttrs:{isUpdatingUserProfile:KO.Z.boolean.isRequired,updateUserProfileError:KO.Z.string},defaults:{isUpdatingUserProfile:!1,updateUserProfileError:null}}),fPt=oA.Z.extend({name:"AddToCatalogModalModel",sessionAttrs:{isUpdating:KO.Z.boolean.isRequired,error:KO.Z.object},defaults:{isUpdating:!1,error:null}}),bPt=oA.Z.extend({name:"AuthCodeExchangeModel",sessionAttrs:{code:KO.Z.string,pinID:KO.Z.integer,pinIDInitial:KO.Z.integer,pinTimeout:KO.Z.integer,authToken:KO.Z.string,isBusy:KO.Z.boolean.isRequired,errorMessage:KO.Z.string,fatalErrorMessage:KO.Z.string},defaults:{code:null,pinID:null,pinIDInitial:null,pinTimeout:null,authToken:null,isBusy:!1,errorMessage:null,fatalErrorMessage:null}}),IPt=oA.Z.extend({name:"BackgroundModel",sessionAttrs:{imageUrl:KO.Z.string,themeMusicUrl:KO.Z.string,allowLightPreset:KO.Z.boolean,allowBlur:KO.Z.boolean,isBackgroundPending:KO.Z.boolean},sessionRelations:{server:{relationClass:_pe.ZP,deferred:!0},provider:{relationClass:KK.Z,deferred:!0}},defaults:{allowLightPreset:!1,allowBlur:!0,isBackgroundPending:!1}}),SPt=oA.Z.extend({name:"DVRSettingsUIModel",sessionAttrs:{isDvrsPending:KO.Z.boolean,isDvrsPopulated:KO.Z.boolean,dvrsError:KO.Z.object,isUIPopulated:KO.Z.boolean},sessionRelations:{dvrs:{relationClass:_T,deferred:!0},dvrSetup:{relationClass:HT.Z,deferred:!0}},defaults:{isDvrsPending:!1,isDvrsPopulated:!1,dvrsError:null,isUIPopulated:!1}}),MPt=oA.Z.extend({name:"DiscoverPageModel",sessionAttrs:{providerEntityID:KO.Z.string,hubKey:KO.Z.string,isHubsPending:KO.Z.boolean.isRequired,isHubsPopulated:KO.Z.boolean.isRequired,hubsError:KO.Z.object,hubsTitle:KO.Z.string,isPromotedHubsPending:KO.Z.boolean.isRequired,isPromotedHubsPopulated:KO.Z.boolean.isRequired,promotedHubsError:KO.Z.object,knownPromotedHubCloudProviderIDs:KO.Z.array.isRequired},sessionRelations:{hubs:{relationClass:IX.Z,deferred:!0},promotedHubs:{relationClass:IX.Z,deferred:!0}},defaults:()=>({isHubsPending:!0,isHubsPopulated:!1,hubsError:null,hubsTitle:null,isPromotedHubsPending:!0,isPromotedHubsPopulated:!1,promotedHubsError:null,knownPromotedHubCloudProviderIDs:[]})}),EPt=oA.Z.extend({name:"OnlineMediaSourcesPageModel",sessionAttrs:{optOutStatuses:KO.Z.object,isOptOutStatusesPending:KO.Z.boolean,optOutStatusesError:KO.Z.object,isAvailableProvidersPending:KO.Z.boolean,isAvailableProvidersPopulated:KO.Z.boolean,availableProvidersError:KO.Z.object,isUpdatePending:KO.Z.boolean,updateError:KO.Z.object},sessionRelations:{availableProviders:{relationClass:Dqe,deferred:!0}},defaults:{isOptOutStatusesPending:!0,optOutStatusesError:null,isAvailableProvidersPending:!0,isAvailableProvidersPopulated:!1,availableProvidersError:null,isUpdatePending:!1,updateError:null}});var PPt=n(81318);const DPt=oA.Z.extend({name:"PlaylistPageModel",sessionAttrs:{serverEntityID:KO.Z.string,providerEntityID:KO.Z.string,metadataKey:KO.Z.string,isPlaylistPending:KO.Z.boolean.isRequired,isPlaylistPopulated:KO.Z.boolean.isRequired,playlistError:KO.Z.object,isPlaylistItemListPending:KO.Z.boolean.isRequired,isPlaylistItemListPopulated:KO.Z.boolean.isRequired,playlistItemListError:KO.Z.object},sessionRelations:{playlist:{relationClass:lC.Z,deferred:!0},playlistItemList:{relationClass:PPt.Z,deferred:!0}},defaults:{isPlaylistPending:!0,isPlaylistPopulated:!1,playlistError:null,isPlaylistItemListPending:!0,isPlaylistItemListPopulated:!1,playlistItemListError:null}});var CPt=n(94053),wPt=n(32919);const ZPt=oA.Z.extend({name:"PlaylistsPageModel",sessionAttrs:{serverEntityID:KO.Z.string,libraryKey:KO.Z.string,containerKey:KO.Z.string,isLibraryDetailsPending:KO.Z.boolean.isRequired,isLibraryDetailsPopulated:KO.Z.boolean.isRequired,libraryDetailsError:KO.Z.object,isSortsPending:KO.Z.boolean.isRequired,isSortsPopulated:KO.Z.boolean.isRequired,sortsError:KO.Z.object},sessionRelations:{libraryDetails:{relationClass:CPt.Z,deferred:!0},playlists:{relationClass:qO.Z,deferred:!0},sorts:{relationClass:wPt.Z,deferred:!0}},defaults:{isLibraryDetailsPending:!0,isLibraryDetailsPopulated:!1,libraryDetailsError:null,isSortsPending:!0,isSortsPopulated:!1,sortsError:null}}),TPt=oA.Z.extend({name:"PrePlayPageModel",sessionAttrs:{providerEntityID:KO.Z.string,metadataKey:KO.Z.string,descendantKey:KO.Z.string,siblingKey:KO.Z.string,isMetadataItemPending:KO.Z.boolean.isRequired,isMetadataItemPopulated:KO.Z.boolean.isRequired,metadataItemError:KO.Z.object,isRelatedHubsPending:KO.Z.boolean.isRequired,isRelatedHubsPopulated:KO.Z.boolean.isRequired,relatedHubsError:KO.Z.object,isAugmentedHubsPending:KO.Z.boolean.isRequired,isAugmentedHubsPopulated:KO.Z.boolean.isRequired,augmentedHubsError:KO.Z.object,isFileUnavailable:KO.Z.boolean,decisionMediaItem:KO.Z.object},sessionRelations:{metadataItem:{relationClass:lC.Z,deferred:!0},descendantList:{relationClass:qO.Z,deferred:!0},siblingList:{relationClass:qO.Z,deferred:!0},relatedHubs:{relationClass:IX.Z,deferred:!0},augmentedHubs:{relationClass:IX.Z,deferred:!0}},defaults:{isMetadataItemPending:!0,isMetadataItemPopulated:!1,metadataItemError:null,isRelatedHubsPending:!0,isRelatedHubsPopulated:!1,relatedHubsError:null,isAugmentedHubsPending:!0,isAugmentedHubsPopulated:!1,augmentedHubsError:null,isFileUnavailable:!1}}),NPt=oA.Z.extend({name:"QuickSearchModel",sessionAttrs:{query:KO.Z.string,serverEntityID:KO.Z.string,providerEntityID:KO.Z.string,providerIdentifier:KO.Z.string,directoryID:KO.Z.string,selectedResultEntityID:KO.Z.string},sessionRelations:{searches:{relationClass:ePt}},defaults:{query:"",selectedResultEntityID:null}});var OPt=n(24781);const APt=oA.Z.extend({name:"MomentModel",context:["server","provider"],idAttribute:"id",rootPropertyName:"Directory",syncedAttrs:{id:KO.Z.string,title:KO.Z.string,size:KO.Z.integer,avgAR:KO.Z.float,startsAt:KO.Z.integer,endsAt:KO.Z.integer}}),xPt=BT.Z.extend({name:"MomentCollection",context:["server","provider"],model:APt}),jPt=oA.Z.extend({name:"MomentListModel",context:["server","provider"],url(){return this.get("momentKey")},sessionAttrs:{momentKey:KO.Z.string},syncedAttrs:{key:KO.Z.string},syncedRelations:{moments:{relationClass:xPt,rootPropertyName:"Directory"}}}),LPt=oA.Z.extend({name:"TimelinePageModel",sessionAttrs:{serverEntityID:KO.Z.string,providerEntityID:KO.Z.string,momentKey:KO.Z.string,isDetailsPending:KO.Z.boolean.isRequired,isDetailsPopulated:KO.Z.boolean.isRequired,detailsError:KO.Z.object,isMomentListPending:KO.Z.boolean.isRequired,isMomentListPopulated:KO.Z.boolean.isRequired,momentListError:KO.Z.object},sessionRelations:{metadataList:{relationClass:qO.Z,deferred:!0},details:{relationClass:CPt.Z,deferred:!0},momentList:{relationClass:jPt,deferred:!0}},defaults:{isDetailsPending:!0,isDetailsPopulated:!1,detailsError:null,isMomentListPending:!0,isMomentListPopulated:!1,momentListError:null}});var kPt=n(47985);const RPt=oA.Z.extend({name:"UserSharingSettingsPageModel",sessionAttrs:{filterOptionsTags:KO.Z.object,isFilterOptionsTagsPopulating:KO.Z.boolean,isFilterOptionsTagsPopulated:KO.Z.boolean,isUpdatingFriend:KO.Z.boolean,updateFriendError:KO.Z.string,ownedSharedSources:KO.Z.array,receivedSharedSources:KO.Z.array,isSharedSourcesPopulating:KO.Z.boolean,isSharedSourcesPopulated:KO.Z.boolean,sharedSourcesError:KO.Z.string,deleteSharedItemID:KO.Z.integer,isServerOverviewsPopulating:KO.Z.boolean,isServerOverviewsPopulated:KO.Z.boolean,isServerSharesPopulating:KO.Z.boolean,isServerSharesPopulated:KO.Z.boolean,serverSharesError:KO.Z.string,isSharingPending:KO.Z.boolean,isSharingCompleted:KO.Z.boolean,sharingError:KO.Z.string,isRemoveServerSharePending:KO.Z.boolean,isRemoveServerShareCompleted:KO.Z.boolean,removeServerShareError:KO.Z.string},sessionRelations:{serverOverviews:{relationClass:kPt.Z,deferred:!0}},defaults:()=>({filterOptionsTags:{},isFilterOptionsTagsPopulating:!1,isFilterOptionsTagsPopulated:!1,isUpdatingFriend:!1,updateFriendError:null,ownedSharedSources:[],receivedSharedSources:[],isSharedSourcesPopulating:!1,isSharedSourcesPopulated:!1,sharedSourcesError:null,deleteSharedItemID:null,isServerOverviewsPopulating:!1,isServerOverviewsPopulated:!1,isServerSharesPopulating:!1,isServerSharesPopulated:!1,serverSharesError:null,isSharingPending:!1,isSharingCompleted:!1,sharingError:null,isRemoveServerSharePending:!1,isRemoveServerShareCompleted:!1,removeServerShareError:null})}),zPt=oA.Z.extend({name:"DesktopUIModel",sessionRelations:{background:{relationClass:IPt},authCodeExchange:{relationClass:bPt},discoverPage:{relationClass:MPt},prePlayPage:{relationClass:TPt},timelinePage:{relationClass:LPt},playlistsPage:{relationClass:ZPt},dvrSettingsUI:{relationClass:SPt},recordingSchedulePage:{relationClass:XEt},channelGridPage:{relationClass:WEt},mediaSubscriptionModal:{relationClass:KEt},searchPage:{relationClass:tPt},quickSearch:{relationClass:NPt},photoPlayer:{relationClass:$Et},audioVideoPlayer:{relationClass:$Et},romPlayer:{relationClass:$Et},onlineMediaSourcesPage:{relationClass:EPt},accountSettingsPage:{relationClass:vPt},playlistPage:{relationClass:DPt},providerSettingsPage:{relationClass:JEt},addToCatalogModal:{relationClass:fPt},multiSelect:{relationClass:uPt},serverLogPage:{relationClass:yPt},subtitlesModal:{relationClass:FEt},subtitlesUploadModal:{relationClass:gPt},addToPlaylistMenu:{relationClass:pPt},addToPlaylistModal:{relationClass:hPt},shareModal:{relationClass:OPt.Z},userSharingSettingsPage:{relationClass:RPt},providerIntegrations:{relationClass:QEt},advertisingNoticeModal:{relationClass:GEt},watchTogether:{relationClass:lPt}}});var UPt=n(2418),VPt=n.n(UPt),BPt=n(56529),FPt=n(52039),_Pt=n(86278),HPt=n(12610),QPt=n(1547),GPt=n(22724);const WPt=BT.Z.extend({name:"FriendCollection2",context:["server"],model:GPt.Z,url:"/api/users"}),YPt=oA.Z.extend({name:"HomeDetailsModel",context:["server"],url:"/api/v2/home",responseType:iV.AV,sessionAttrs:{isTogglingGuestUser:KO.Z.boolean},syncedAttrs:{id:KO.Z.integer,guestUserID:KO.Z.integer,guestEnabled:KO.Z.boolean,subscription:KO.Z.boolean,name:KO.Z.string},defaults:{isTogglingGuestUser:!1}});var KPt=n(92216),qPt=n(85667);const $Pt=oA.Z.extend({name:"UserProfileModel",context:["server"],url:"/api/v2/user/profile",syncedAttrs:{autoSelectAudio:KO.Z.boolean,autoSelectSubtitle:KO.Z.integer,defaultAudioLanguage:KO.Z.string,defaultSubtitleLanguage:KO.Z.string,defaultSubtitleAccessibility:KO.Z.integer,defaultSubtitleForced:KO.Z.integer}});var JPt=n(69790),XPt=n(57578),eDt=n(19375);const tDt=BT.Z.extend({name:"UserSettingCollection",context:["server"],model:eDt.Z});var nDt=n(77727),rDt=Object.defineProperty,iDt=Object.prototype.hasOwnProperty,aDt=Object.getOwnPropertySymbols,sDt=Object.prototype.propertyIsEnumerable,oDt=(e,t,n)=>t in e?rDt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,lDt=(e,t)=>{for(var n in t||(t={}))iDt.call(t,n)&&oDt(e,n,t[n]);if(aDt)for(var n of aDt(t))sDt.call(t,n)&&oDt(e,n,t[n]);return e};const cDt=oA.Z.extend({mixins:[AEt.Z],name:"UserModel",context:["server"],url(){return E.Z.join("/api/v2/user",Wht(this))},sessionAttrs:{isRemote:KO.Z.boolean,isSignedIn:KO.Z.boolean.isRequired,hasAttemptedSignIn:KO.Z.boolean.isRequired,hasInvalidToken:KO.Z.boolean.isRequired,hasInvalidAnonymousUserToken:KO.Z.boolean.isRequired,lastPrimaryServerID:KO.Z.string,lockState:KO.Z.oneOf(ut.Ik.Pending,ut.Ik.Locked,ut.Ik.Unlocked).isRequired,homeUsers:KO.Z.instanceOf(KPt.Z).isRequired,isFeaturesPending:KO.Z.boolean.isRequired,isFeaturesPopulated:KO.Z.boolean.isRequired,featuresError:KO.Z.object,isAllFriendsPending:KO.Z.boolean.isRequired,isAllFriendsPopulated:KO.Z.boolean.isRequired,allFriendsError:KO.Z.object,isProvidersPending:KO.Z.boolean.isRequired,isProvidersPopulated:KO.Z.boolean.isRequired,providersError:KO.Z.object},syncedAttrs:{id:KO.Z.integer,uuid:KO.Z.string,authToken:KO.Z.string,anonymous:KO.Z.boolean,username:KO.Z.string,email:KO.Z.string,confirmed:KO.Z.boolean,emailOnlyAuth:KO.Z.boolean,title:KO.Z.string,subscriptionDescription:KO.Z.string,locale:KO.Z.string,country:KO.Z.string,thumb:KO.Z.string,pin:KO.Z.string,home:KO.Z.boolean,restricted:KO.Z.boolean,guest:KO.Z.boolean,homeSize:KO.Z.integer,maxHomeSize:KO.Z.integer,queueUid:KO.Z.string,queueEmail:KO.Z.string,hasAllEntitlements:KO.Z.boolean,mailingListActive:KO.Z.boolean,experimentalFeatures:KO.Z.boolean,hasPassword:KO.Z.boolean,twoFactorEnabled:KO.Z.boolean,mailingListStatus:KO.Z.oneOf(ut.dK.Empty,ut.dK.Unsubscribed,ut.dK.Active,ut.dK.Error,ut.dK.Removed),adsConsent:KO.Z.boolean,adsConsentSetAt:KO.Z.integer,adsConsentReminderAt:KO.Z.integer},sessionRelations:{features:{relationClass:_Pt.Z},allFriends:{relationClass:WPt},providers:{relationClass:FPt.Z},homeDetails:{relationClass:YPt}},syncedRelations:{subscriptions:{relationClass:nDt.Z},pastSubscriptions:{relationClass:nDt.Z},roles:{relationClass:JPt.Z},entitlements:{relationClass:qPt.Z},settings:{relationClass:tDt},experienceSettings:()=>({relationClass:(0,b.DB)("UserExperienceSettingsModel")}),services:{relationClass:XPt.Z},profile:{relationClass:$Pt}},derivedAttrs:{isLocked(){return this.get("lockState")===ut.Ik.Locked},isUnlocked(){return this.get("lockState")===ut.Ik.Unlocked},isFullUser(){return!!this.get("username")||!!this.get("anonymous")},isEmployee(){return!!this.get("roles").get("employee")},isNinja(){return this.get("isEmployee")||!!this.get("roles").get("ninja")},hasPlexSubscription(){return this.get("subscriptions").some((e=>{const t=e.get("state");return t===HPt.iN||t===HPt.j5}))},hasPlexPass(){return this.get("subscriptions").some((e=>{const t=e.get("type"),n=e.get("state");return t===QPt.G5&&(n===HPt.iN||n===HPt.j5)}))},canGoPremium(){const e=this.get("homeSize")>1,t=!1===this.get("homeDetails").get("subscription");return this.get("signedIn")&&!this.get("anonymous")&&!this.get("restricted")&&!this.get("hasPlexSubscription")&&(!e||t)},signedIn(){return this.get("isSignedIn")},locked(){const e=this.get("lockState");return e===ut.Ik.Locked||e!==ut.Ik.Unlocked&&null}},defaults(){const e={server:this.server,parent:this};return{id:0,isRemote:!1,isSignedIn:!1,hasAttemptedSignIn:!1,hasInvalidToken:!1,hasInvalidAnonymousUserToken:!1,hasPassword:!0,lockState:ut.Ik.Pending,homeUsers:new KPt.Z([],e),twoFactorEnabled:!1,isFeaturesPending:!0,isFeaturesPopulated:!1,featuresError:null,isAllFriendsPending:!0,isAllFriendsPopulated:!1,allFriendsError:null,isProvidersPending:!0,isProvidersPopulated:!1,providersError:null}},initialize(e,t){this._resetPopulate(),this.onHomeUsersChange(this,this.get("homeUsers")),this.on("change:homeUsers",this.onHomeUsersChange,this),this.listenTo(this.server,{"change:isConnected":this.onServerConnectedChange,"change:isUnavailable":this.onServerUnavailableChange})},uninitialize(){this.off("change:homeUsers",this.onHomeUsersChange,this),this.stopListening()},fetch(){return ple.ZP.Model.prototype.fetch.apply(this,arguments)},augmentResponse(e={}){const t=e,{roles:n,entitlements:r,settings:i,providers:a,subscriptions:s,pastSubscriptions:o}=t,l=((e,t)=>{var n={};for(var r in e)iDt.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&aDt)for(var r of aDt(e))t.indexOf(r)<0&&sDt.call(e,r)&&(n[r]=e[r]);return n})(t,["roles","entitlements","settings","providers","subscriptions","pastSubscriptions"]);let c=i&&i.setting?i.setting:[];c=Array.isArray(c)?c:[c];const d=this.get("experienceSettings");let u=!1;const p=c.reduce(((e,t)=>(t.id===oyt.U?(u=!0,e.experienceSettings=lDt(lDt({},(0,Zgt.Z)(t.value)),{updatedAt:t.updatedAt})):e.settings.push(t),e)),{settings:[],experienceSettings:{}});return!u&&d&&(p.experienceSettings=d.toJSON({syncedOnly:!0})),l.gdprConsent&&(l.adsConsent=l.gdprConsent),l.gdprSetAt&&(l.adsConsentSetAt=l.gdprSetAt),l.gdprReminderAt&&(l.adsConsentReminderAt=l.gdprReminderAt),lDt(lDt(lDt({},l),p),{roles:n&&n.role,hasAllEntitlements:r&&r.all,entitlements:r&&r.entitlement,services:a&&a.provider,subscriptions:s&&s.subscription,pastSubscriptions:o&&o.pastSubscription})},_getTokenPromise(){var e,t;return null==(t=null==(e=(0,b.DB)("appModel").get("ui"))?void 0:e.get("authCodeExchange"))||t.get("pinIDInitial"),(ae.Z.allowSSO?this._getSSOThenStorageTokenPromise():this._getStorageTokenPromise()).then(null,(()=>(this.get("hasInvalidAnonymousUserToken"),this._getSkipAnonymousTokenPromise())))},_getSSOThenStorageTokenPromise(){const e=this._getStorageTokenPromise(),t=this._getSSOTokenPromise(),n=()=>this.get("anonymous")?((0,M.Z)("[User] SSO status is not available, try stored anonymous token"),e):((0,M.Z)("[User] SSO status is signed-out"),e.then((()=>(0,W.Z)(this.signOutDueToInvalidToken()))));return t.then((t=>t?(t=>e.then((e=>t===e?((0,M.Z)("[User] SSO status is signed-in, storage token matches SSO token"),t):((0,M.Z)("[User] SSO status is signed-in, storage token and SSO token differ"),vle.Z.execute("resetUser").then((()=>{window.location.reload()})))),(()=>((0,M.Z)("[User] SSO status is signed-in, storage token is not present"),(0,W.Z)(t)))))(t):n()),(()=>((0,M.Z)("[User] SSO status is not available"),e)))},_getStorageTokenPromise:()=>YAe.Z.get("myPlexAccessToken"),_getSSOTokenPromise(){return egt(this.server.getXHROptions("/api/v2/users/signin",{method:"POST",xhrFields:{withCredentials:!0},data:{skipAuthentication:!0},dataType:"json"})).then((e=>e.authToken),(e=>e&&400===e.status?h().Deferred().resolve(null).promise():h().Deferred().reject().promise()))},_getSkipAnonymousTokenPromise:()=>((0,M.Z)("[User] Not attempting to create an anonymous token."),h().Deferred().reject().promise()),_getAnonymousTokenPromise(){const e=function(e,t){if(!t||!t.campaign)return e;const n=Object.keys(t.campaign).reduce(((e,n)=>(e[`utm_${n}`]=t.campaign[n],e)),{});return AUe(e,n)}("/api/v2/users/anonymous",(0,b.DB)("metrics").toJSON().context);return egt(this.server.getXHROptions(e,{method:"POST",dataType:"json"})).then((({authToken:e})=>((0,M.Z)("[User] Anonymous token promise succeeded, accessToken="+e),e)))},_getManualUserPromise(e){return h().ajax(this.server.getXHROptions(S().result(this,"url"),{headers:{"X-Plex-Token":e}}))},signInUnsupervised(){if(this._isSigningIn)return;this._isSigningIn=!0;const e=this._getTokenPromise();e.done((e=>{(0,M.Z)("[User] Token promise succeeded, accessToken="+e);const t=e?this._getManualUserPromise(e):h().Deferred().reject().promise();t.done((t=>{(0,M.Z)("[User] userPromise succeeded");const n=this.get("homeDetails");n.fetch({headers:{"X-Plex-Token":e}}).always((()=>{const e=this.parse(t);let r=this.get("lockState");if(r!==ut.Ik.Unlocked){const t=(0,b.DB)("settingFinder").find("autoLogin"),i=!!e.guest&&!n.get("guestEnabled");r=!e.home||t&&!i?ut.Ik.Unlocked:ut.Ik.Locked}this.signIn(e,{lockState:r}),this._isSigningIn=!1}))})),t.fail((e=>{if((0,M.Z)("[User] userPromise failed"),e&&e.aborting)return this.set({hasAttemptedSignIn:!0}),void(this._isSigningIn=!1);!e||401!==e.status&&422!==e.status?this.signOut({hasAttemptedSignIn:!0,hasInvalidToken:!1,features:this.get("features"),allFriends:this.get("allFriends"),settings:this.get("settings"),experienceSettings:this.get("experienceSettings")}):this.get("anonymous")?((0,M.Z)("[User] userPromise failed for anonymous user due to invalid token."),this.signOutAnonymousUser()):((0,M.Z)("[User] userPromise failed due to invalid token."),this.signOutDueToInvalidToken()),this.server.testAllConnections(),this._isSigningIn=!1}))})),e.fail((()=>{(0,M.Z)("[User] tokenPromise failed"),this.signOut({hasAttemptedSignIn:!0,hasInvalidAnonymousUserToken:this.get("hasInvalidAnonymousUserToken"),features:this.get("features"),allFriends:this.get("allFriends"),settings:this.get("settings"),experienceSettings:this.get("experienceSettings")}),this._isSigningIn=!1}))},signIn(e,t={},n={}){const r=S().isString(e)?this.parse(e):e,i=r.authToken,a=lDt(lDt({hasAttemptedSignIn:!0,isSignedIn:!0},r),t);return this._resolve(a,n),YAe.Z.set("myPlexAccessToken",i)},signOut(e={}){return this._reject(e),h().Deferred().resolve().promise()},signOutAnonymousUser(){return(0,Uxe.Z)(this.signOut({hasAttemptedSignIn:!0,hasInvalidAnonymousUserToken:!0}),this.clearAccessToken())},signOutDueToInvalidToken(){return(0,Uxe.Z)(this.signOut({hasAttemptedSignIn:!0,hasInvalidToken:!0}),this.clearAccessToken())},activateStoredUser(e){Vht.Z.set("activeUserID",e)},clearAccessToken(){window.PLEXWEB&&window.PLEXWEB.myPlexAccessToken&&delete window.PLEXWEB.myPlexAccessToken;let e=YAe.Z.remove("myPlexAccessToken");return e=e.then((()=>Vht.Z.clearActiveUser())),e},hashPIN(e,t=this.get("authToken")){return VPt().SHA256_hash(e+t)},hasEntitlement(e){const t=this.get("hasAllEntitlements"),n=this.get("entitlements");return!(!t&&!n.get(e))},hasHome(){return!!this.get("pin")||this.get("homeUsers").length>1},isFullUser(){return this.get("isFullUser")},isEmployee(){return this.get("isEmployee")},isNinja(){return this.get("isNinja")},_resolve(e,t={}){this.startCapturingChangeEvents(),this.activateStoredUser(e.id),this.set(e),this._resolvePopulate(),this.server.authenticate(e.authToken),t.silent?this.discardCapturedChangeEvents():this.releaseCapturedChangeEvents()},_reject(e,t={}){this.startCapturingChangeEvents(),this.restoreDefaults(e),this._rejectPopulate(),this.server.deauthenticate(),t.silent?this.discardCapturedChangeEvents():this.releaseCapturedChangeEvents()},onHomeUsersChange(e,t){const n=e.previous("homeUsers");n&&this.stopListening(n),this.listenTo(this.get("homeUsers"),"reset add remove",this.onHomeUsersUpdate)},onHomeUsersUpdate(){this.set("homeSize",this.get("homeUsers").length),this.get("homeDetails").fetch()},onServerConnectedChange(e,t){t&&this.signInUnsupervised()},onServerUnavailableChange(e,t){t&&this.signOut({lockState:this.get("lockState"),features:this.get("features"),allFriends:this.get("allFriends"),settings:this.get("settings"),experienceSettings:this.get("experienceSettings")})}});(0,BPt.Z)(cDt,(function(){return{relationClass:(0,b.DB)("UserFlexModel")}}));const dDt=cDt;var uDt=n(28654);function pDt(e,t,n,...r){return(0,jze.rM)((function*(){const i={};yield(0,jze.ib)(e,(function*(e){const a=n(e);i[a]&&(yield(0,jze.al)(i[a])),i[a]=yield(0,jze.rM)(t,e,...r),yield(0,jze.v_)(i[a]),i[a]&&!i[a].isRunning()&&delete i[a]}))}))}function mDt(e,t,n,...r){return(0,jze.rM)((function*(){const i={};yield(0,jze.ib)(e,(function*(e){var a;const s=n(e);(null==(a=i[s])?void 0:a.isRunning())||(i[s]=yield(0,jze.rM)(t,e,...r),yield(0,jze.v_)(i[s]),i[s]&&!i[s].isRunning()&&delete i[s])}))}))}var hDt=Object.defineProperty,gDt=Object.prototype.hasOwnProperty,yDt=Object.getOwnPropertySymbols,vDt=Object.prototype.propertyIsEnumerable,fDt=(e,t,n)=>t in e?hDt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,bDt=(e,t)=>{for(var n in t||(t={}))gDt.call(t,n)&&fDt(e,n,t[n]);if(yDt)for(var n of yDt(t))vDt.call(t,n)&&fDt(e,n,t[n]);return e};function*IDt({payload:e}){try{const{server:t,provider:n,metadataKey:r,sourceURI:i}=e,a=yield(0,jze.RE)(Lze.Z.get,E.Z.join([r,"userState"]),{server:t,provider:n}),s=bDt(bDt({},a.data.MediaContainer.UserState),{tempState:{}});yield(0,jze.gz)(os.Z.actions.fetchSucceeded({sourceURI:i,metadataItemState:s}))}catch(t){yield(0,jze.gz)(os.Z.actions.fetchFailed({sourceURI:e.sourceURI,error:t}))}finally{(yield(0,jze.By)())&&(yield(0,jze.gz)(os.Z.actions.fetchCancelled({sourceURI:e.sourceURI})))}}function*SDt({payload:e}){const{server:t,provider:n,sourceURI:r,ratingKey:i,played:a}=e;try{const e=jc(n,$t.rf.Scrobble);if(!e)throw new Error("No scrobble action found on provider");const s=a?e.key:e.reverseKey;if(!s)throw new Error("The scrobble action is missing a `key` or `reverseKey`");yield(0,jze.RE)(Lze.Z.get,s,{server:t,provider:n,params:{identifier:n.identifier,key:i}}),yield(0,jze.gz)(os.Z.actions.playedStatusUpdateSucceeded({server:t,provider:n,sourceURI:r,ratingKey:i,played:a}))}catch(e){yield(0,jze.gz)(os.Z.actions.playedStatusUpdateFailed({sourceURI:r,error:Lze.Z.toPlainErrorObject(e)}))}}function*MDt({payload:e}){const{server:t,provider:n,sourceURI:r,ratingKey:i,rating:a}=e;try{const e=jc(n,$t.rf.Rate);if(!e)throw new Error("No rate action found on provider");if(!e.key)throw new Error("The rate action is missing a `key`");yield(0,jze.RE)(Lze.Z.put,e.key,{server:t,provider:n,params:{identifier:n.identifier,key:i,rating:a}}),yield(0,jze.gz)(os.Z.actions.rateSucceeded({server:t,provider:n,sourceURI:r,ratingKey:i,rating:a}))}catch(e){yield(0,jze.gz)(os.Z.actions.rateFailed({sourceURI:r,error:Lze.Z.toPlainErrorObject(e)}))}}function*EDt({payload:e}){const{server:t,provider:n,sourceURI:r,ratingKey:i,added:a}=e;try{const e=jc(n,$t.rf.AddToWatchlist);if(!e)throw new Error("No watchlist action found on provider");const s=a?e.key:e.reverseKey;if(!s)throw new Error("The watchlist action is missing a `key` or `reverseKey`");yield(0,jze.RE)(Lze.Z.put,s,{server:t,provider:n,params:{ratingKey:i}}),yield(0,jze.gz)(os.Z.actions.toggleWatchlistSucceeded({server:t,provider:n,sourceURI:r,ratingKey:i,added:a}))}catch(e){yield(0,jze.gz)(os.Z.actions.toggleWatchlistFailed({sourceURI:r,error:Lze.Z.toPlainErrorObject(e)}))}}function*PDt({payload:e}){const{server:t,provider:n,sourceURI:r,ratingKey:i,saved:a}=e;try{const e=jc(n,$t.rf.Save);if(!e)throw new Error("No save action found on provider");const s=a?e.key:e.reverseKey;if(!s)throw new Error("The save action is missing a `key` or `reverseKey`");yield(0,jze.RE)(Lze.Z.put,s,{server:t,provider:n,params:{ratingKey:i}}),yield(0,jze.gz)(os.Z.actions.toggleSavedSucceeded({server:t,provider:n,sourceURI:r,ratingKey:i,saved:a}))}catch(e){yield(0,jze.gz)(os.Z.actions.toggleSavedFailed({sourceURI:r,error:Lze.Z.toPlainErrorObject(e)}))}}function*DDt({payload:e}){const{server:t,provider:n,sourceURI:r,part:i,streamIDParam:a,streamID:s,allParts:o}=e;try{const e=i.key.match(new RegExp(`^(.*/parts/${i.id})/`)),l=E.Z.join(e?e[1]:["/library/parts",i.id]);yield(0,jze.RE)(Lze.Z.put,l,{server:t,provider:n,params:{[a]:s,allParts:o?1:0}}),yield(0,jze.gz)(os.Z.actions.streamSelectSucceeded({sourceURI:r}))}catch(e){yield(0,jze.gz)(os.Z.actions.streamSelectFailed({sourceURI:r,error:Lze.Z.toPlainErrorObject(e)}))}}function*CDt({payload:e}){const{server:t,provider:n,sourceURI:r,streamKey:i}=e;try{yield(0,jze.RE)(Lze.Z.del,i,{server:t,provider:n}),yield(0,jze.gz)(os.Z.actions.streamDeleteSucceeded({sourceURI:r}))}catch(e){yield(0,jze.gz)(os.Z.actions.streamDeleteFailed({sourceURI:r,error:Lze.Z.toPlainErrorObject(e)}))}}function*wDt({payload:e}){const{targetServer:t,targetProvider:n,targetLibrarySectionID:r,targetLibraryType:i,server:a,provider:s,metadataItem:o}=e;try{yield(0,jze.RE)(Lze.Z.post,"/media/subscriptions",{server:t,provider:n,params:{providers:(0,yn.Z)({serverIdentifier:a.machineIdentifier,providerIdentifier:s.identifier}),prefs:{oneShot:1,remoteMedia:1},params:{libraryType:bp(i)},targetLibrarySectionID:r,hints:{guid:o.guid,ratingKey:o.ratingKey,title:o.title,parentTitle:o.parentTitle},type:bp(o.type)}})}catch(e){}}function*ZDt({payload:e}){const{ratingKey:t,server:n,provider:r,sourceURI:i}=e;try{const e=jc(r,$t.rf.RemoveFromContinueWatching);if(!(null==e?void 0:e.key))throw new Error(`removeFromContinueWatching action not found on ${r.identifier}`);yield(0,jze.RE)(Lze.Z.put,e.key,{server:n,provider:r,params:{ratingKey:t}}),yield(0,jze.gz)(os.Z.actions.removeFromContinueWatchingSucceeded({sourceURI:i}))}catch(e){}}function*TDt(){yield(0,jze.Fm)(os.Z.actions.fetchRequested,IDt)}function*NDt(){yield pDt(os.Z.actions.playedStatusUpdateRequested,SDt,(({payload:e})=>e.sourceURI))}function*ODt(){yield pDt(os.Z.actions.rateRequested,MDt,(({payload:e})=>e.sourceURI))}function*ADt(){yield pDt(os.Z.actions.toggleWatchlistRequested,EDt,(({payload:e})=>e.sourceURI))}function*xDt(){yield pDt(os.Z.actions.toggleSavedRequested,PDt,(({payload:e})=>e.sourceURI))}function*jDt(){yield pDt(os.Z.actions.streamSelectRequested,DDt,(({payload:e})=>e.sourceURI))}function*LDt(){yield mDt(os.Z.actions.streamDeleteRequested,CDt,(({payload:e})=>e.streamKey))}function*kDt(){yield mDt(os.Z.actions.addToLibraryRequested,wDt,(({payload:e})=>e.metadataItem.sourceURI))}function*RDt(){yield mDt(os.Z.actions.removeFromContinueWatchingRequested,ZDt,(({payload:e})=>e.sourceURI))}function*zDt(){yield(0,jze.$6)([(0,jze.rM)(TDt),(0,jze.rM)(RDt),(0,jze.rM)(NDt),(0,jze.rM)(ODt),(0,jze.rM)(ADt),(0,jze.rM)(xDt),(0,jze.rM)(jDt),(0,jze.rM)(LDt),(0,jze.rM)(kDt)])}var UDt=Object.defineProperty,VDt=Object.prototype.hasOwnProperty,BDt=Object.getOwnPropertySymbols,FDt=Object.prototype.propertyIsEnumerable,_Dt=(e,t,n)=>t in e?UDt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;function*HDt({payload:e}){const{server:t,provider:n,sourceURI:r,params:i}=e;try{const{key:e}=(0,wr.Z)(r),a=yield(0,jze.RE)(xr.g.fetchAll,e,{server:t,provider:n,params:i});yield(0,jze.gz)(xr.Z.actions.fetchAllSucceeded({sourceURI:r,data:a}))}catch(e){yield(0,jze.gz)(xr.Z.actions.fetchAllFailed({sourceURI:r,error:Lze.Z.toPlainErrorObject(e)}))}}function*QDt({payload:e}){const{server:t,provider:n,sourceURI:r,params:i,startIndex:a,size:s,isPrepend:o}=e;try{const{key:e}=(0,wr.Z)(r),l=yield(0,jze.RE)(xr.g.fetchRange,e,{server:t,provider:n,params:i,startIndex:a,size:s,isPrepend:o});yield(0,jze.gz)(xr.Z.actions.fetchRangeSucceeded({sourceURI:r,data:l}))}catch(e){yield(0,jze.gz)(xr.Z.actions.fetchRangeFailed({sourceURI:r,error:Lze.Z.toPlainErrorObject(e)}))}}function*GDt({payload:e}){const{server:t,provider:n,sourceURI:r,params:i}=e;try{const e=yield(0,jze.Ys)(Ip(r)),a=xr.g.getRepopulateRangeOptions(e),{key:s}=(0,wr.Z)(r),o=yield(0,jze.RE)(xr.g.fetchRange,s,((e,t)=>{for(var n in t||(t={}))VDt.call(t,n)&&_Dt(e,n,t[n]);if(BDt)for(var n of BDt(t))FDt.call(t,n)&&_Dt(e,n,t[n]);return e})({server:t,provider:n,params:i},a));yield(0,jze.gz)(xr.Z.actions.repopulateRangeSucceeded({sourceURI:r,data:o}))}catch(e){yield(0,jze.gz)(xr.Z.actions.repopulateRangeFailed({sourceURI:r,error:Lze.Z.toPlainErrorObject(e)}))}}function*WDt(e){const{sourceURI:t}=e.payload;null!=(yield(0,jze.Ys)(Ip(t))).pageSize?yield(0,jze.RE)(GDt,e):yield(0,jze.RE)(HDt,e)}function*YDt(){yield mDt(xr.Z.actions.fetchAllRequested,HDt,(({payload:e})=>e.sourceURI))}function*KDt(){yield pDt(xr.Z.actions.fetchRangeRequested,QDt,(({payload:e})=>e.sourceURI))}function*qDt(){yield pDt(xr.Z.actions.repopulateRangeRequested,GDt,(({payload:e})=>e.sourceURI))}function*$Dt(){yield function(e,t,n,r,i={leading:!0,trailing:!0},...a){return(0,jze.rM)((function*(){const s={};function*o(e,t,n){s[e]={timestamp:Date.now()},yield(0,jze.gw)(n),yield(0,jze.RE)(l,e,t)}function*l(e,t){s[e]={timestamp:Date.now(),task:yield(0,jze.rM)(n,t,...a)}}yield(0,jze.ib)(t,(function*(t){const n=r(t),a=s[n];if(a){if((null==i?void 0:i.trailing)&&a.task&&!a.task.isRunning()){const r=e-(Date.now()-a.timestamp);yield(0,jze.RE)(o,n,t,r)}}else(null==i?void 0:i.leading)?yield(0,jze.RE)(l,n,t):(null==i?void 0:i.trailing)&&(yield(0,jze.RE)(o,n,t,e));const c=s[n];yield(0,jze.gw)(e),c===s[n]&&delete s[n]}))}))}(5e3,xr.Z.actions.throttledRepopulateRequested,WDt,(({payload:e})=>e.sourceURI))}function*JDt(){yield(0,jze.$6)([(0,jze.rM)(YDt),(0,jze.rM)(KDt),(0,jze.rM)(qDt),(0,jze.rM)($Dt)])}function*XDt({payload:e}){const{server:t,provider:n,sourceURI:r}=e;try{const{key:e}=(0,wr.Z)(r);yield(0,jze.RE)(Lze.Z.put,E.Z.join([e,"refresh"]),{server:t,provider:n})}catch(e){yield(0,jze.gz)(hd.actions.metadataRefreshFailed({sourceURI:r,error:Lze.Z.toPlainErrorObject(e)}))}}function*eCt({payload:e}){const{server:t,provider:n,sourceURI:r}=e;try{const{key:e}=(0,wr.Z)(r);yield(0,jze.RE)(Lze.Z.put,E.Z.join([e,"analyze"]),{server:t,provider:n})}catch(e){yield(0,jze.gz)(hd.actions.mediaAnalysisFailed({sourceURI:r,error:Lze.Z.toPlainErrorObject(e)}))}}function*tCt(){yield(0,jze.ib)(hd.actions.metadataRefreshRequested,XDt)}function*nCt(){yield(0,jze.ib)(hd.actions.mediaAnalysisRequested,eCt)}function*rCt(){yield(0,jze.$6)([(0,jze.rM)(tCt),(0,jze.rM)(nCt)])}function*iCt({payload:e}){const{server:t}=e;try{(yield(0,jze.Ys)(sJ(t.machineIdentifier))).isPopulated||(yield(0,jze.gz)(F$.actions.fetchRequested(e)))}catch(e){yield(0,jze.gz)(F$.actions.fetchFailed({server:t,error:Lze.Z.toPlainErrorObject(e)}))}}function*aCt({payload:e}){var t,n;const{server:r}=e;try{const e=null!=(n=null==(t=(yield(0,jze.RE)(Lze.Z.get,"/accounts",{server:r})).data.MediaContainer)?void 0:t.Account)?n:[];yield(0,jze.gz)(F$.actions.fetchSucceeded({server:r,data:e.filter((e=>e.name))}))}catch(e){yield(0,jze.gz)(F$.actions.fetchFailed({server:r,error:Lze.Z.toPlainErrorObject(e)}))}}function*sCt(){yield mDt(F$.actions.populateRequested,iCt,(({payload:e})=>e.server.machineIdentifier))}function*oCt(){yield mDt(F$.actions.fetchRequested,aCt,(({payload:e})=>e.server.machineIdentifier))}function*lCt(){yield(0,jze.$6)([(0,jze.rM)(sCt),(0,jze.rM)(oCt)])}function*cCt({payload:e}){const{server:t}=e;try{(yield(0,jze.Ys)(oJ(t.machineIdentifier))).isPopulated||(yield(0,jze.gz)(K$.actions.fetchRequested(e)))}catch(e){yield(0,jze.gz)(K$.actions.fetchFailed({server:t,error:Lze.Z.toPlainErrorObject(e)}))}}function*dCt({payload:e}){var t,n;const{server:r}=e;try{const e=yield(0,jze.RE)(Lze.Z.get,"/devices",{server:r});yield(0,jze.gz)(K$.actions.fetchSucceeded({server:r,data:null!=(n=null==(t=e.data.MediaContainer)?void 0:t.Device)?n:[]}))}catch(e){yield(0,jze.gz)(K$.actions.fetchFailed({server:r,error:Lze.Z.toPlainErrorObject(e)}))}}function*uCt(){yield mDt(K$.actions.populateRequested,cCt,(({payload:e})=>e.server.machineIdentifier))}function*pCt(){yield mDt(K$.actions.fetchRequested,dCt,(({payload:e})=>e.server.machineIdentifier))}function*mCt(){yield(0,jze.$6)([(0,jze.rM)(uCt),(0,jze.rM)(pCt)])}var hCt=n(50361),gCt=n.n(hCt),yCt=n(65661);function vCt(e){var t,n;const{data:r}=e;return(null!=(n=null==(t=r.MediaContainer)?void 0:t.Metadata)?n:[]).map((e=>{var t;const n=gCt()(e);return(0,yCt.dL)(n,"viewOffset"),(0,yCt.dL)(n,"duration"),null==(t=n.Media)||t.forEach((e=>{var t;null==(t=e.Part)||t.forEach((e=>{var t;null==(t=e.Stream)||t.forEach((e=>{(0,yCt.ZX)(e,"selected"),(0,yCt.dL)(e,"streamType")}))}))})),n}))}function*fCt({payload:e}){const{server:t}=e;try{const e=yield(0,jze.RE)(Lze.Z.get,"/status/sessions",{server:t});yield(0,jze.gz)(Bv.actions.fetchSucceeded({server:t,data:vCt(e)}))}catch(e){yield(0,jze.gz)(Bv.actions.fetchFailed({server:t,error:Lze.Z.toPlainErrorObject(e)}))}}function*bCt({payload:e}){const{server:t,message:n}=e;try{const e=(yield(0,jze.Ys)(gde(t.machineIdentifier))).sessionsByKey[n.sessionKey];e&&e.key===n.key||(yield(0,jze.gz)(Bv.actions.fetchRequested({server:t})))}catch(e){yield(0,jze.gz)(Bv.actions.stopFailed({server:t,error:Lze.Z.toPlainErrorObject(e)}))}}function*ICt({payload:e}){const{server:t,session:n,reason:r}=e;try{yield(0,jze.RE)(Lze.Z.get,"/status/sessions/terminate",{server:t,params:{sessionId:n.Session.id,reason:r}})}catch(e){yield(0,jze.gz)(Bv.actions.stopFailed({server:t,error:Lze.Z.toPlainErrorObject(e)}))}}function*SCt(){yield mDt(Bv.actions.fetchRequested,fCt,(({payload:e})=>e.server.machineIdentifier))}function*MCt(){yield mDt(Bv.actions.sessionChanged,bCt,(({payload:e})=>e.server.machineIdentifier))}function*ECt(){yield(0,jze.ib)(Bv.actions.stopRequested,ICt)}function*PCt(){yield(0,jze.$6)([(0,jze.rM)(SCt),(0,jze.rM)(MCt),(0,jze.rM)(ECt)])}function*DCt(){yield(0,jze.$6)([(0,jze.rM)(zDt),(0,jze.rM)(JDt),(0,jze.rM)(rCt),(0,jze.rM)(lCt),(0,jze.rM)(mCt),(0,jze.rM)(PCt)])}const CCt=function(e,t){return t?t.map((t=>{var n;let r;return r="field"in t?{key:t.key,field:t.field,value:String(t.value),type:t.type,title:String(t.title)}:"fastKey"in t?{key:t.fastKey,field:null!=(n=t.type)?n:e.filter,value:t.key,title:String(t.title)}:{field:e.filter,key:t.key,value:t.key,title:String(t.title)},r})):[]};function wCt(e,t){const n=function(e){switch(e){case ni.A.Movie:return ni.pG.Movie;case ni.A.Show:return ni.pG.Show;case ni.A.Season:return ni.pG.Season;case ni.A.Episode:return ni.pG.Episode;case ni.A.Person:return ni.pG.Person;case ni.A.Artist:return ni.pG.Artist;case ni.A.Album:return ni.pG.Album;case ni.A.Track:return ni.pG.Track;case ni.A.Clip:return ni.pG.Clip;case ni.A.Photo:return ni.pG.Photo;case ni.A.PhotoAlbum:return ni.pG.PhotoAlbum;case ni.A.Playlist:return ni.pG.Playlist;case ni.A.Collection:return ni.pG.Collection;case ni.A.Game:return ni.pG.Game}}(t);if(!e)return e;"composite"===e.type?e.Rule.forEach((e=>{wCt(e,t)})):e.type&&!e.field.includes(".")?(e.field=`${e.type}.${e.field}`,delete e.type):e.type||e.field.includes(".")||n===ni.pG.Movie||n===ni.pG.Photo||(e.field=`${n}.${e.field}`),e.type||!e.value||e.valueTitle||(e.valueTitle=e.value,e.value=encodeURIComponent(e.value))}function*ZCt({payload:e}){const{server:t,provider:n,key:r}=e;try{const e=yield(0,jze.RE)(Lze.Z.get,r,{server:t,provider:n});wCt((i=e.data.Query).Rule,i.type),yield(0,jze.gz)(fd.actions.fetchQuerySucceeded({query:e.data.Query}))}catch(e){yield(0,jze.gz)(fd.actions.fetchQueryFailed({error:Lze.Z.toPlainErrorObject(e)}))}var i}function*TCt({payload:e}){const{server:t,provider:n,filter:r}=e;try{const e=yield(0,jze.RE)(Lze.Z.get,r.key,{server:t,provider:n}),i=CCt(r,e.data.MediaContainer.Directory);yield(0,jze.gz)(fd.actions.fetchFilterOptionsSucceeded({filter:r,filterOptions:i}))}catch(e){yield(0,jze.gz)(fd.actions.fetchFilterOptionsFailed({filter:r,error:Lze.Z.toPlainErrorObject(e)}))}}function*NCt({payload:e}){var t;const{server:n,provider:r,key:i}=e;try{const e=yield(0,jze.RE)(Lze.Z.get,i,{server:n,provider:r}),a=null==(t=e.data.MediaContainer.Metadata)?void 0:t[0];if(!a)throw new Error("Could not find metadata item in response");yield(0,jze.gz)(fd.actions.fetchCuratedSucceeded({curatedItem:(0,kze.Z)({server:n,provider:r,data:a,container:e.data.MediaContainer}).metadataItem}))}catch(e){yield(0,jze.gz)(fd.actions.fetchCuratedFailed({error:Lze.Z.toPlainErrorObject(e)}))}}function*OCt({payload:e}){var t;try{const{server:n,provider:r,key:i}=e,a=null==(t=(yield(0,jze.RE)(Lze.Z.get,i,{server:n,provider:r})).data.MediaContainer.Metadata)?void 0:t[0];if(!a)throw new Error("Could not find metadata item in response");const s=Id(n,r,i,a.content);if(!s)throw new Error("Could not find route to edit filters");(0,nle.Z)(...s)}catch(e){yield zze((0,ZC.wp)((0,Ce.Z)("There was a problem editing the filters for this item.")))}}function*ACt(){for(;;){const e=yield(0,jze.A7)(fd.actions.fetchQueryRequested,ZCt);yield(0,jze.qn)(fd.actions.reset),yield(0,jze.al)(e)}}function*xCt(){for(;;){const e=yield(0,jze.A7)(fd.actions.fetchFilterOptionsRequested,TCt);yield(0,jze.qn)(fd.actions.reset),yield(0,jze.al)(e)}}function*jCt(){for(;;){const e=yield(0,jze.A7)(fd.actions.fetchCuratedRequested,NCt);yield(0,jze.qn)(fd.actions.reset),yield(0,jze.al)(e)}}function*LCt(){yield(0,jze.Fm)(fd.actions.editFiltersRequested,OCt)}function*kCt(){yield(0,jze.$6)([(0,jze.rM)(ACt),(0,jze.rM)(xCt),(0,jze.rM)(jCt),(0,jze.rM)(LCt)])}function*RCt({payload:e}){var t;const{server:n,provider:r,sourceURI:i,isSmart:a}=e;try{const s=(0,Pn.Z)(r,$t.zW.Playlist),o=(0,Pn.Z)(r,$t.zW.Collection);let l,c,d=Lze.Z.post;if("key"in e?(d=Lze.Z.put,l=E.Z.join([e.key,"items"]),c={uri:i}):"mediaType"in e?(l=null==s?void 0:s.key,c={type:e.mediaType,title:e.title,smart:a?1:0,uri:i}):(l=null==o?void 0:o.key,c={type:bp(e.metadataType),title:e.title,smart:a?1:0,uri:i,sectionId:e.contentDirectoryID}),!l)throw new Error("No key available to update curated item");const u=yield(0,jze.RE)(d,l,{server:n,provider:r,params:c}),p=null==(t=u.data.MediaContainer.Metadata)?void 0:t[0];if(!p)throw new Error("Unable to find Metadata in playlist save response");const{metadataItem:m}=(0,kze.Z)({server:n,provider:r,data:p,container:u.data.MediaContainer});yield(0,jze.gz)(sp.actions.saveSucceeded({sourceURI:i,metadataItem:m}))}catch(t){yield(0,jze.gz)(sp.actions.saveFailed({sourceURI:i,error:Lze.Z.toPlainErrorObject(t)})),"key"in e&&(yield zze((0,ZC.wp)((0,Ce.Z)("There was a problem updating this item."))))}}function*zCt({payload:e}){const{server:t,provider:n,sourceURI:r,containerKey:i,ratingKey:a}=e;try{yield(0,jze.RE)(Lze.Z.del,E.Z.join([i,a]),{server:t,provider:n}),yield(0,jze.gz)(os.Z.actions.repopulateRequested({sourceURI:r}))}catch(e){yield zze((0,ZC.wp)((0,Ce.Z)("There was a problem removing this item.")))}}function*UCt(){yield(0,jze.Fm)(sp.actions.saveRequested,RCt)}function*VCt(){yield(0,jze.ib)(sp.actions.removeItemRequested,zCt)}function*BCt(){yield(0,jze.$6)([(0,jze.rM)(UCt),(0,jze.rM)(VCt)])}function*FCt({payload:e}){var t;try{const n=Date.now(),r=yield(0,jze.RE)(Lze.Z.get,"/statistics/bandwidth",{server:e.server,params:{timespan:e.timespan,"at>":e.after}}),i=r.data.MediaContainer,a=r.headers.Date,s=a?function(e){const t=(0,IEe.Z)(e,"EEE, dd MMM yyyy HH:mm:ss 'GMT'",new Date);return t.getTime()-60*t.getTimezoneOffset()*1e3}(a):n;yield(0,jze.gz)(Gle.actions.bandwidthFetchSucceeded({data:null!=(t=null==i?void 0:i.StatisticsBandwidth)?t:[],requestTimestampMilliseconds:n,responseTimestampMilliseconds:s}))}catch(e){yield(0,jze.gz)(Gle.actions.bandwidthFetchFailed({error:Lze.Z.toPlainErrorObject(e)}))}}function*_Ct({payload:e}){var t;try{const n=Date.now(),r=(yield(0,jze.RE)(Lze.Z.get,"/statistics/resources",{server:e.server,params:{timespan:(0,vJ.rG)(vJ.XH.RealTime)}})).data.MediaContainer;yield(0,jze.gz)(Que.actions.resourcesFetchSucceeded({data:null!=(t=null==r?void 0:r.StatisticsResources)?t:[],requestTimestampMilliseconds:n}))}catch(e){yield(0,jze.gz)(Que.actions.resourcesFetchFailed({error:Lze.Z.toPlainErrorObject(e)}))}}function*HCt({payload:e}){var t,n;try{const r=(yield(0,jze.RE)(WCt,e)).data.MediaContainer;yield(0,jze.gz)(ype.actions.topUsersFetchSucceeded({data:{statistics:null!=(t=null==r?void 0:r.StatisticsMedia)?t:[],accounts:null!=(n=null==r?void 0:r.Account)?n:[]}}))}catch(e){yield(0,jze.gz)(ype.actions.topUsersFetchFailed({error:Lze.Z.toPlainErrorObject(e)}))}}function*QCt({payload:e}){var t,n;try{const r=(yield(0,jze.RE)(WCt,e)).data.MediaContainer;yield(0,jze.gz)(Oue.actions.playHistoryFetchSucceeded({data:{statistics:null!=(t=null==r?void 0:r.StatisticsMedia)?t:[],accounts:null!=(n=null==r?void 0:r.Account)?n:[]}}))}catch(e){yield(0,jze.gz)(Oue.actions.playHistoryFetchFailed({error:Lze.Z.toPlainErrorObject(e)}))}}function*GCt({payload:e}){var t,n,r,i,a,s,o,l;try{const[c,d,u,p]=yield(0,jze.$6)([(0,jze.RE)(YCt,e,ni.pG.Movie),(0,jze.RE)(YCt,e,ni.pG.Show),(0,jze.RE)(YCt,e,ni.pG.Artist),(0,jze.RE)(YCt,e,ni.pG.Game)]);yield(0,jze.gz)(spe.actions.topPlayedFetchSucceeded({data:{moviesStatistics:null!=(n=null==(t=c.data.MediaContainer)?void 0:t.Metadata)?n:[],tvStatistics:null!=(i=null==(r=d.data.MediaContainer)?void 0:r.Metadata)?i:[],musicStatistics:null!=(s=null==(a=u.data.MediaContainer)?void 0:a.Metadata)?s:[],gameStatistics:null!=(l=null==(o=p.data.MediaContainer)?void 0:o.Metadata)?l:[]}}))}catch(e){yield(0,jze.gz)(spe.actions.topPlayedFetchFailed({error:Lze.Z.toPlainErrorObject(e)}))}}function*WCt(e){return yield(0,jze.RE)(Lze.Z.get,"/statistics/media",{server:e.server,params:{timespan:e.timespan,"at>":e.after}})}function*YCt(e,t){return yield(0,jze.RE)(Lze.Z.get,"/library/all/top",{server:e.server,params:{accountID:e.accountID,type:Ac.getMetadataType(t).id,"viewedAt>":e.viewedAt,limit:e.limit}})}function*KCt(){for(;;){const e=yield(0,jze.Fm)(Gle.actions.bandwidthFetchRequested,FCt);yield(0,jze.qn)([Gle.actions.reset,Gle.actions.bandwidthAbortRequested]),yield(0,jze.al)(e)}}function*qCt(){for(;;){const e=yield(0,jze.Fm)(Que.actions.resourcesFetchRequested,_Ct);yield(0,jze.qn)(Que.actions.reset),yield(0,jze.al)(e)}}function*$Ct(){for(;;){const e=yield(0,jze.A7)(ype.actions.topUsersFetchRequested,HCt);yield(0,jze.qn)(ype.actions.reset),yield(0,jze.al)(e)}}function*JCt(){for(;;){const e=yield(0,jze.A7)(Oue.actions.playHistoryFetchRequested,QCt);yield(0,jze.qn)(Oue.actions.reset),yield(0,jze.al)(e)}}function*XCt(){for(;;){const e=yield(0,jze.A7)(spe.actions.topPlayedFetchRequested,GCt);yield(0,jze.qn)(spe.actions.reset),yield(0,jze.al)(e)}}function*ewt(){yield(0,jze.$6)([(0,jze.rM)(KCt),(0,jze.rM)(qCt),(0,jze.rM)($Ct),(0,jze.rM)(JCt),(0,jze.rM)(XCt)])}var twt=n(60679),nwt=n(20019),rwt=Object.defineProperty,iwt=Object.prototype.hasOwnProperty,awt=Object.getOwnPropertySymbols,swt=Object.prototype.propertyIsEnumerable,owt=(e,t,n)=>t in e?rwt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,lwt=(e,t)=>{for(var n in t||(t={}))iwt.call(t,n)&&owt(e,n,t[n]);if(awt)for(var n of awt(t))swt.call(t,n)&&owt(e,n,t[n]);return e};function cwt(e,t){if(null==t?void 0:t.DisplayFields)return t;const n=(0,_h.Z)(e.type);if(!n)return t;const r=(0,twt.P)(e.type,e.subtype);return e.style===En.n.Shelf&&e.hubIdentifier&&e.hubIdentifier.startsWith("external.")&&r.push(ri.PD.SourceTitle),lwt(lwt({},t),{DisplayFields:[{type:n,subtype:e.subtype,fields:r}]})}function dwt(e){return"relatedAlbums"===e.hubIdentifier&&e.size>1?En.n.WideShelf:e.style}function uwt({server:e,provider:t,contentDirectoryID:n,pinnedContentDirectoryID:r,excludedHubIdentifiers:i,data:a}){var s;const o=null!=(s=null==a?void 0:a.MediaContainer)?s:{},l=o,{Hub:c=[]}=l,d=((e,t)=>{var n={};for(var r in e)iwt.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&awt)for(var r of awt(e))t.indexOf(r)<0&&swt.call(e,r)&&(n[r]=e[r]);return n})(l,["Hub"]);return c.reduce(((a,s)=>{var l,c,u;if((null==i?void 0:i.length)&&(null==i?void 0:i.some((e=>e===s.hubIdentifier))))return a;const p=s.key?E.Z.join(s.key,{contentDirectoryID:null==n?void 0:n.join(","),pinnedContentDirectoryID:null==r?void 0:r.join(",")}):void 0,m=null!=(l=s.source)?l:(0,yn.Z)({serverIdentifier:e.machineIdentifier,providerIdentifier:null==t?void 0:t.identifier}),h=p?`${m}${p}`:`${m}/${s.hubIdentifier}`;let g=s.totalSize;null==g&&(g=s.more?void 0:s.size),a.hubs.push({source:m,sourceURI:h,key:p,isStale:!1,initialSize:s.size,style:dwt(s),attribution:s.attribution,autoAdvanceDelayMs:s.autoAdvanceDelayMs,context:s.context,hubIdentifier:s.hubIdentifier,Meta:cwt(s,s.Meta||o.Meta),more:s.more,placeholder:s.placeholder,random:s.random,subtype:s.subtype,title:s.title,type:s.type});const y=null!=(u=null!=(c=s.Metadata)?c:s.Directory)?u:[],{metadataItems:v,metadataItemStates:f}=(0,nwt.Z)({server:e,provider:t,data:y,container:d});return a.metadataLists.push({sourceURI:h,items:v,totalSize:g,offset:0,isPending:!1,isPopulated:!0,error:null}),Object.assign(a.metadataItemStates,f),a}),{title:d.title,meta:d.Meta,hubs:[],metadataLists:[],metadataItemStates:{}})}var pwt=Object.defineProperty,mwt=Object.prototype.hasOwnProperty,hwt=Object.getOwnPropertySymbols,gwt=Object.prototype.propertyIsEnumerable,ywt=(e,t,n)=>t in e?pwt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,vwt=(e,t)=>{for(var n in t||(t={}))mwt.call(t,n)&&ywt(e,n,t[n]);if(hwt)for(var n of hwt(t))gwt.call(t,n)&&ywt(e,n,t[n]);return e};function*fwt({payload:e}){const{server:t,provider:n,sourceURI:r,metadataListSourceURI:i,params:a}=e;r!==i&&(yield(0,jze.gz)(xr.Z.actions.added({metadataLists:[{sourceURI:r,items:[],offset:0}],metadataItemStates:{}}))),yield(0,jze.gz)(xr.Z.actions.fetchRangeRequested({server:t,provider:n,sourceURI:r,params:vwt(vwt({},a),{includeAdvanced:1,includeMeta:1}),startIndex:0,size:50}))}function*bwt({payload:e}){const{server:t,provider:n,sourceURI:r}=e,{key:i}=(0,wr.Z)(r);try{const e=uwt({server:t,provider:n,data:(yield(0,jze.RE)(Lze.Z.get,i,{server:t,provider:n,params:{count:wu.HE,includeLibraryPlaylists:1,includeStations:1,includeRecentChannels:1,includeMeta:1,excludeFields:"summary"}})).data});yield(0,jze.$6)([(0,jze.gz)(xr.Z.actions.added({metadataLists:e.metadataLists,metadataItemStates:e.metadataItemStates})),(0,jze.gz)(Jv.actions.fetchHubsSucceeded({sourceURI:r,data:e}))])}catch(e){yield(0,jze.gz)(Jv.actions.fetchHubsFailed({error:Lze.Z.toPlainErrorObject(e)}))}}function*Iwt(){yield(0,jze.gw)(6e4),yield(0,jze.gz)(Jv.actions.markHubsStale())}function*Swt({payload:e}){const{server:t,provider:n,filter:r}=e;try{const e=yield(0,jze.RE)(Lze.Z.get,r.key,{server:t,provider:n}),i=CCt(r,e.data.MediaContainer.Directory);yield(0,jze.gz)(Jv.actions.fetchFilterOptionsSucceeded({filter:r,filterOptions:i}))}catch(e){yield(0,jze.gz)(Jv.actions.fetchFilterOptionsFailed({filter:r,error:Lze.Z.toPlainErrorObject(e)}))}}function*Mwt({payload:e}){var t;const{server:n,provider:r,key:i}=e;try{const e=yield(0,jze.RE)(Lze.Z.get,i,{server:n,provider:r});yield(0,jze.gz)(Jv.actions.fetchFirstCharactersSucceeded({key:i,firstCharacters:null!=(t=e.data.MediaContainer.Directory)?t:[]}))}catch(e){yield(0,jze.gz)(Jv.actions.fetchFirstCharactersFailed({key:i,error:Lze.Z.toPlainErrorObject(e)}))}}function*Ewt(){for(;;){const e=yield(0,jze.A7)(Jv.actions.initializeListRequested,fwt);yield(0,jze.qn)(Jv.actions.reset),yield(0,jze.al)(e)}}function*Pwt(){for(;;){const e=yield(0,jze.A7)(Jv.actions.fetchHubsRequested,bwt);yield(0,jze.qn)([Jv.actions.reset,Jv.actions.resetHubs,Jv.actions.markHubsStaleRequested]),yield(0,jze.al)(e)}}function*Dwt(){for(;;){yield(0,jze.qn)(Jv.actions.markHubsStaleRequested);const e=yield(0,jze.RE)(Iwt);yield(0,jze.qn)(Jv.actions.markHubsStaleCanceled),yield(0,jze.al)(e)}}function*Cwt(){for(;;){const e=yield(0,jze.A7)(Jv.actions.fetchFilterOptionsRequested,Swt);yield(0,jze.qn)(Jv.actions.reset),yield(0,jze.al)(e)}}function*wwt(){for(;;){const e=yield(0,jze.A7)(Jv.actions.fetchFirstCharactersRequested,Mwt);yield(0,jze.qn)(Jv.actions.reset),yield(0,jze.al)(e)}}function*Zwt(){yield(0,jze.$6)([(0,jze.rM)(Ewt),(0,jze.rM)(Pwt),(0,jze.rM)(Dwt),(0,jze.rM)(Cwt),(0,jze.rM)(wwt)])}const Twt=(0,Un.Z)((0,fe.P1)(be.Z,(e=>e.embeddedServer),((e,t)=>Vn(e[t]))),(e=>e));var Nwt=Object.defineProperty,Owt=Object.prototype.hasOwnProperty,Awt=Object.getOwnPropertySymbols,xwt=Object.prototype.propertyIsEnumerable,jwt=(e,t,n)=>t in e?Nwt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Lwt=(e,t)=>{for(var n in t||(t={}))Owt.call(t,n)&&jwt(e,n,t[n]);if(Awt)for(var n of Awt(t))xwt.call(t,n)&&jwt(e,n,t[n]);return e};function*kwt({payload:e}){yield(0,jze.RE)(_wt,[e.metadataItem])}function*Rwt({payload:e}){const t=e.metadataLists.reduce(((e,{items:t})=>e.concat(t)),[]);yield(0,jze.RE)(_wt,t)}function*zwt({payload:e}){yield(0,jze.RE)(_wt,e.data.items)}function*Uwt({payload:e}){var t,n;const{sourceURI:r,guid:i,useSelected:a}=e;try{const e=yield Vze(Twt),{providerIdentifier:s,serverIdentifier:o,ratingKey:l}=(0,wr.Z)(r),c=(0,yn.Z)({serverIdentifier:o,providerIdentifier:s});if(!l||!c)throw new Error("Unable to create a subscription for this item");yield(0,jze.RE)(Lze.Z.post,"media/providers",{server:e,params:{url:c}});const d=(null==(n=null==(t=(yield(0,jze.RE)(Lze.Z.get,"media/subscriptions/template",{server:e,params:{source:c,ratingKey:l,guid:i}})).data.MediaContainer.SubscriptionTemplate)?void 0:t[0])?void 0:n.MediaSubscription)||[],u=a?d.find((({selected:e})=>e)):d[0];if(!u)throw new Error("Unable to create a subscription for this item");u.Setting.some((({hidden:e})=>!e))?yield(0,jze.gz)(El.actions.subscriptionTemplateChanged({sourceURI:r,template:u})):yield(0,jze.gz)(El.actions.subscriptionCreateRequested({sourceURI:r,template:u}))}catch(e){yield(0,jze.gz)(El.actions.subscriptionCreateFailed({sourceURI:r,error:Lze.Z.toPlainErrorObject(e)}))}}function*Vwt({payload:e}){var t,n,r;const{sourceURI:i,template:{type:a,targetLibrarySectionID:s,parameters:o,Setting:l},settings:c={}}=e;try{const e=yield Vze(Twt),d={};for(const{id:e,value:n}of l)d[e]="oneShot"===e?"false":null!=(t=c[e])?t:n;const u=E.Z.parseParams(o),p=null==(r=null==(n=(yield(0,jze.RE)(Lze.Z.post,"media/subscriptions",{server:e,params:Lwt(Lwt({},u),{type:a,targetLibrarySectionID:s,prefs:d})})).data.MediaContainer)?void 0:n.MediaSubscription)?void 0:r[0].key;if(!p)throw new Error("The new subscription did not contain an identifier");yield(0,jze.gz)(El.actions.subscriptionCreateSucceeded({id:p,sourceURI:i,type:a}))}catch(e){yield(0,jze.gz)(El.actions.subscriptionCreateFailed({sourceURI:i,error:Lze.Z.toPlainErrorObject(e)}))}}function*Bwt({payload:e}){const{id:t,sourceURI:n}=e;try{const e=yield Vze(Twt);yield(0,jze.RE)(Lze.Z.del,E.Z.join(["media/subscriptions",t]),{server:e}),yield(0,jze.gz)(El.actions.subscriptionDeleteSucceeded({sourceURI:n}))}catch(e){yield(0,jze.gz)(El.actions.subscriptionDeleteFailed({sourceURI:n,error:Lze.Z.toPlainErrorObject(e)}))}}function*Fwt({payload:e}){const{type:t,Context:n}=e.activity;if(!(null==n?void 0:n.source)||t!==gl.EW)return;const{ratingKey:r,source:i}=n,{serverIdentifier:a,providerIdentifier:s}=(0,wr.Z)(i),o=(0,yn.Z)({serverIdentifier:a,providerIdentifier:s,key:`/library/metadata/${r}`});try{yield(0,jze.gz)(os.Z.actions.repopulateRequested({sourceURI:o}))}catch(e){yield(0,jze.gz)(El.actions.subscriptionCreateFailed({sourceURI:o,error:Lze.Z.toPlainErrorObject(e)}))}}function*_wt(e){try{const r=yield Vze(Twt),i=((yield(0,jze.RE)(Lze.Z.get,"media/providers",{server:r,params:{includeStorage:1}})).data.MediaContainer.MediaProvider||[]).map((e=>({id:String(e.id),source:e.source})));yield(0,jze.gz)(El.actions.providersFetchSucceeded({providerSections:i}));const a={};for(const{source:e,id:t}of i)e&&(a[e]=t);const s={};e.forEach((e=>{s[e.source]?s[e.source].push(e):s[e.source]=[e]}));const o=[];for(const[e,i]of Object.entries(s)){const s=a[e];if(!s)break;const l={},c=[];for(const e of i)c.push(e.ratingKey),l[e.ratingKey]=e;const d=c.join(","),u=E.Z.join(["media/providers",s,"media/subscriptions/mapping",d]),p=(yield(0,jze.RE)(Lze.Z.get,u,{server:r,params:{includeStorage:1}})).data.MediaContainer.MediaSubscription||[];for(const{id:e,itemRatingKey:r,type:i}of p){const a=l[r];o.push({id:e,sourceURI:a.sourceURI,subscription:fl.Saved,type:i,relation:(t=i,n=bp(a.type),t===n?Il.Self:t<n?Il.Ancestors:Il.Descendants),progress:100})}}yield(0,jze.gz)(El.actions.downloadsFetchSucceeded({items:e,downloads:o}))}catch(e){yield(0,jze.gz)(El.actions.downloadsFetchFailed({error:Lze.Z.toPlainErrorObject(e)}))}var t,n}function*Hwt(){yield(0,jze.ib)(xte.actions.metadataItemFetchSucceeded,kwt)}function*Qwt(){yield(0,jze.ib)(xr.Z.actions.added,Rwt)}function*Gwt(){yield(0,jze.ib)(xr.Z.actions.repopulateRangeSucceeded,zwt)}function*Wwt(){yield(0,jze.ib)(xr.Z.actions.fetchRangeSucceeded,zwt)}function*Ywt(){yield(0,jze.ib)(xr.Z.actions.fetchAllSucceeded,zwt)}function*Kwt(){yield(0,jze.Fm)(El.actions.subscriptionTemplatesFetchRequested,Uwt)}function*qwt(){yield(0,jze.Fm)(El.actions.subscriptionCreateRequested,Vwt)}function*$wt(){yield(0,jze.Fm)(El.actions.subscriptionDeleteRequested,Bwt)}function*Jwt(){yield(0,jze.ib)(vl.actions.activityFinished,Fwt)}function*Xwt(){yield(0,jze.$6)(ae.Z.allowSyncDownload?[(0,jze.rM)(Hwt),(0,jze.rM)(Qwt),(0,jze.rM)(Wwt),(0,jze.rM)(Ywt),(0,jze.rM)(Gwt),(0,jze.rM)(Kwt),(0,jze.rM)(qwt),(0,jze.rM)($wt),(0,jze.rM)(Jwt)]:[])}var eZt=Object.defineProperty,tZt=Object.prototype.hasOwnProperty,nZt=Object.getOwnPropertySymbols,rZt=Object.prototype.propertyIsEnumerable,iZt=(e,t,n)=>t in e?eZt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,aZt=(e,t)=>{for(var n in t||(t={}))tZt.call(t,n)&&iZt(e,n,t[n]);if(nZt)for(var n of nZt(t))rZt.call(t,n)&&iZt(e,n,t[n]);return e};function sZt(e){return(null!=e?e:[]).map((e=>e.enabled?((0,yCt.ZX)(e,"enabled"),e):aZt(aZt({},e),{enabled:!!e.lineupIdentifier})))}function oZt(e){var t,n;const r=gCt()(e);return(0,yCt.Dq)(r,"key"),(0,yCt.Dq)(r,"source"),(0,yCt.dL)(r,"tuners"),r.sources=null==(n=null==(t=e.sources)?void 0:t.split(","))?void 0:n.map((e=>{const t=(0,av.su)(Wme).find((t=>t===e));return Zl(t,`Unknown Media Grabber Device Source Type ${e}`),t})),r.ChannelMapping=sZt(r.ChannelMapping),r}function lZt({data:e}){var t;return(null!=(t=e.Device)?t:[]).map(oZt)}function cZt({data:e}){var t,n;const r=null==(t=e.Dvr)?void 0:t[0];if(!r)return;const i=gCt()(r);return(0,yCt.Dq)(i,"key"),i.Device=null==(n=null==r?void 0:r.Device)?void 0:n.map(oZt),i}var dZt=Object.defineProperty,uZt=Object.prototype.hasOwnProperty,pZt=Object.getOwnPropertySymbols,mZt=Object.prototype.propertyIsEnumerable,hZt=(e,t,n)=>t in e?dZt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,gZt=(e,t)=>{for(var n in t||(t={}))uZt.call(t,n)&&hZt(e,n,t[n]);if(pZt)for(var n of pZt(t))mZt.call(t,n)&&hZt(e,n,t[n]);return e};function*yZt({payload:e}){var t;const{server:n}=e;try{const e=yield(0,jze.RE)(Lze.Z.post,"/media/grabbers/devices/discover",{server:n,timeout:0});yield(0,jze.gz)(dhe.actions.devicesDiscoverSucceeded({server:n,data:lZt({server:n,data:null==(t=e.data)?void 0:t.MediaContainer})}))}catch(e){yield(0,jze.gz)(dhe.actions.setupErrorMessageAdded({message:(0,Ce.Z)("There was a problem discovering devices")})),yield(0,jze.gz)(dhe.actions.devicesDiscoverFailed({server:n,error:Lze.Z.toPlainErrorObject(e)}))}}function*vZt({payload:e}){var t;const{server:n}=e;try{const e=yield(0,jze.RE)(Lze.Z.get,"/media/grabbers/devices",{server:n});yield(0,jze.gz)(dhe.actions.devicesFetchSucceeded({server:n,data:lZt({server:n,data:null==(t=e.data)?void 0:t.MediaContainer})}))}catch(e){yield(0,jze.gz)(dhe.actions.devicesFetchFailed({server:n,error:Lze.Z.toPlainErrorObject(e)}))}}function*fZt({payload:e}){var t,n;const{server:r,deviceKey:i}=e;try{const e=yield(0,jze.RE)(Lze.Z.get,E.Z.join(["/media/grabbers/devices",i,"channels"]),{server:r});yield(0,jze.gz)(dhe.actions.deviceChannelsFetchSucceeded({server:r,deviceKey:i,data:null!=(n=null==(t=e.data.MediaContainer)?void 0:t.DeviceChannel)?n:[]}))}catch(e){yield(0,jze.gz)(dhe.actions.setupErrorMessageAdded({message:(0,Ce.Z)("There was a problem getting the channels for your device")})),yield(0,jze.gz)(dhe.actions.deviceChannelsFetchFailed({deviceKey:i,error:Lze.Z.toPlainErrorObject(e)}))}}function*bZt({payload:e}){var t;const{server:n,deviceKey:r,source:i}=e;try{yield(0,jze.RE)(Lze.Z.post,E.Z.join(["/media/grabbers/devices",r,"scan"]),{server:n,params:{source:i}})}catch(e){const n=Lze.Z.toPlainErrorObject(e);yield(0,jze.gz)(dhe.actions.setupErrorMessageAdded({message:null!=(t=null==n?void 0:n.message)?t:(0,Ce.Z)("There was a problem scanning channels")})),yield(0,jze.gz)(dhe.actions.deviceChannelsScanFailed())}}function*IZt({payload:e}){const{server:t,deviceKey:n}=e;try{yield(0,jze.RE)(Lze.Z.del,E.Z.join(["/media/grabbers/devices",n,"scan"]),{server:t})}catch(e){yield(0,jze.gz)(dhe.actions.setupErrorMessageAdded({message:(0,Ce.Z)("There was a problem canceling the current channel scan")})),yield(0,jze.gz)(dhe.actions.deviceChannelsCancelScanFailed())}}function*SZt({payload:e}){const{server:t,deviceKey:n,mappings:r}=e;try{const e=yield(0,jze.Ys)(Khe(n)),i=[],a={};Object.values(r).forEach((({key:t,channelKey:n,lineupIdentifier:r,enabled:s})=>{const o=e.channels.find((e=>e.identifier===t)),l=null==o?void 0:o.drm;s&&n&&r&&!l&&(i.push(t),a[`channelMappingByKey[${t}]`]=n,a[`channelMapping[${t}]`]=r)})),yield(0,jze.RE)(Lze.Z.put,E.Z.join(["/media/grabbers/devices",n,"channelmap"]),{server:t,params:gZt({channelsEnabled:i.toString()},a)}),yield(0,jze.gz)(dhe.actions.deviceChannelMappingsSaveSucceeded())}catch(e){yield(0,jze.gz)(dhe.actions.deviceChannelMappingsSaveFailed({error:Lze.Z.toPlainErrorObject(e)}))}}function*MZt({payload:e}){const{server:t,deviceKey:n,enabled:r,title:i}=e;try{yield(0,jze.RE)(Lze.Z.put,E.Z.join(["/media/grabbers/devices",n]),{server:t,params:{title:i,enabled:r?1:0}}),yield(0,jze.gz)(dhe.actions.deviceEnableSucceeded({deviceKey:n,enabled:r}))}catch(e){yield(0,jze.gz)(dhe.actions.deviceEnableFailed())}}function*EZt({payload:e}){var t;const{server:n,uri:r}=e;let i=(0,Ce.Z)("There was a problem adding the device: {1}",r);try{const e=lZt({server:n,data:null==(t=(yield(0,jze.RE)(Lze.Z.post,"/media/grabbers/tv.plex.grabbers.hdhomerun/devices",{server:n,params:{uri:r}})).data)?void 0:t.MediaContainer});if(0===e.length)throw i=(0,Ce.Z)("No device found at {1}",r),new Error;yield(0,jze.gz)(dhe.actions.deviceAddSucceeded({server:n,data:e[0]}))}catch(e){yield(0,jze.gz)(dhe.actions.setupErrorMessageAdded({message:i})),yield(0,jze.gz)(dhe.actions.deviceAddFailed({server:n,error:Lze.Z.toPlainErrorObject(e)}))}}function*PZt({payload:e}){var t;const{server:n,dvrID:r}=e;try{const e=r?E.Z.join(["/livetv/dvrs",r]):"/livetv/dvrs",i=yield(0,jze.RE)(Lze.Z.get,e,{server:n});yield(0,jze.gz)(dhe.actions.dvrFetchSucceeded({dvr:cZt({server:n,data:null==(t=i.data)?void 0:t.MediaContainer})}))}catch(e){yield(0,jze.gz)(dhe.actions.dvrFetchFailed({error:Lze.Z.toPlainErrorObject(e)}))}}function*DZt({payload:e}){var t;const{server:n,device:r,channelMappings:i}=e,a=yield(0,jze.Ys)(Ahe);try{const{success:e,failure:s}=yield(0,jze.RE)(NZt,n,r.key,i,a);if(s)throw new Error;if(e){const{selectedCountry:e,selectedLanguage:i}=yield(0,jze.Ys)(Ehe),s=yield(0,jze.RE)(Lze.Z.post,"/livetv/dvrs",{server:n,params:{device:r.uuid,lineup:null==a?void 0:a.map((e=>e.uuid)),language:i.code,country:e.code}});yield(0,jze.gz)(dhe.actions.dvrSaveSucceeded({activityUUID:s.headers["x-plex-activity"],dvr:cZt({server:n,data:null==(t=s.data)?void 0:t.MediaContainer})})),yield(0,jze.gz)(dhe.actions.devicesFetchRequested({server:n})),yield zze(eN({serverEntityID:n.entityID}))}}catch(e){yield(0,jze.gz)(dhe.actions.setupErrorMessageAdded({message:(0,Ce.Z)("There was a problem saving your DVR. Please try again.")})),yield(0,jze.gz)(dhe.actions.dvrSaveFailed({error:Lze.Z.toPlainErrorObject(e)}))}}function*CZt({payload:e}){const{server:t,dvrID:n}=e;try{yield(0,jze.RE)(Lze.Z.del,E.Z.join(["/livetv/dvrs",n]),{server:t,timeout:0}),yield(0,jze.gz)(dhe.actions.dvrDeleteSucceeded())}catch(e){yield zze((0,ZC.wp)((0,Ce.Z)("There was a problem removing your DVR")))}}function*wZt({payload:e}){var t;const{server:n,dvrID:r,deviceKey:i,channelMappings:a}=e,s=yield(0,jze.Ys)(Ahe);try{const{success:e,failure:o}=yield(0,jze.RE)(NZt,n,i,a,s);if(o)throw new Error;if(e){yield(0,jze.RE)(TZt,n,r,s);const e=yield(0,jze.RE)(Lze.Z.put,E.Z.join(["/livetv/dvrs",r,"devices",i]),{server:n});yield(0,jze.gz)(dhe.actions.addDVRDeviceSucceeded({activityUUID:e.headers["x-plex-activity"],dvr:cZt({server:n,data:null==(t=e.data)?void 0:t.MediaContainer})})),yield(0,jze.gz)(dhe.actions.devicesFetchRequested({server:n})),yield zze(eN({serverEntityID:n.entityID}))}}catch(e){yield(0,jze.gz)(dhe.actions.setupErrorMessageAdded({message:(0,Ce.Z)("There was a problem adding a new device to your DVR. Please try again.")})),yield(0,jze.gz)(dhe.actions.addDVRDeviceFailed({error:Lze.Z.toPlainErrorObject(e)}))}}function*ZZt({payload:e}){const{server:t,dvrID:n,deviceKey:r}=e;try{yield(0,jze.RE)(Lze.Z.del,E.Z.join(["/livetv/dvrs",n,"devices",r]),{server:t}),yield(0,jze.gz)(dhe.actions.removeDVRDeviceSucceeded({deviceKey:r}))}catch(e){yield zze((0,ZC.wp)((0,Ce.Z)("There was a problem removing a DVR device"))),yield(0,jze.gz)(dhe.actions.removeDVRDeviceFailed())}}function*TZt(e,t,n){var r;const{selectedDVR:i}=yield(0,jze.Ys)(The);let a=n;(null==(r=i.dvr)?void 0:r.Lineup)&&(a=a.filter((e=>{var t,n;return!(null==(n=null==(t=i.dvr)?void 0:t.Lineup)?void 0:n.find((t=>t.id===e.uuid)))}))),yield(0,jze.$6)(a.map((n=>(0,jze.RE)(Lze.Z.put,E.Z.join(["/livetv/dvrs",t,"lineups"]),{server:e,params:{lineup:n.uuid}}))))}function*NZt(e,t,n,r){var i;return yield(0,jze.gz)(dhe.actions.deviceChannelMappingsSaveRequested({server:e,deviceKey:t,mappings:n})),yield(0,jze.gz)(dhe.actions.deviceEnableRequested({server:e,deviceKey:t,enabled:!0,title:null==(i=null==r?void 0:r[0])?void 0:i.title})),yield(0,jze.S3)({success:(0,jze.$6)([(0,jze.qn)(dhe.actions.deviceChannelMappingsSaveSucceeded),(0,jze.qn)(dhe.actions.deviceEnableSucceeded)]),failure:(0,jze.S3)([(0,jze.qn)(dhe.actions.deviceChannelMappingsSaveFailed),(0,jze.qn)(dhe.actions.deviceEnableFailed)])})}function*OZt(){for(;;){const e=yield(0,jze.A7)(dhe.actions.devicesDiscoverRequested,yZt);yield(0,jze.qn)(dhe.actions.reset),yield(0,jze.al)(e)}}function*AZt(){for(;;){const e=yield(0,jze.A7)(dhe.actions.devicesFetchRequested,vZt);yield(0,jze.qn)(dhe.actions.reset),yield(0,jze.al)(e)}}function*xZt(){for(;;){const e=yield mDt(dhe.actions.deviceChannelsFetchRequested,fZt,(({payload:e})=>e.deviceKey));yield(0,jze.qn)(dhe.actions.reset),yield(0,jze.al)(e)}}function*jZt(){for(;;){const e=yield mDt(dhe.actions.deviceChannelsScanRequested,bZt,(({payload:e})=>e.deviceKey));yield(0,jze.qn)(dhe.actions.reset),yield(0,jze.al)(e)}}function*LZt(){for(;;){const e=yield mDt(dhe.actions.deviceChannelsCancelScanRequested,IZt,(({payload:e})=>e.deviceKey));yield(0,jze.qn)(dhe.actions.reset),yield(0,jze.al)(e)}}function*kZt(){for(;;){const e=yield mDt(dhe.actions.deviceChannelMappingsSaveRequested,SZt,(({payload:e})=>e.deviceKey));yield(0,jze.qn)(dhe.actions.reset),yield(0,jze.al)(e)}}function*RZt(){for(;;){const e=yield mDt(dhe.actions.deviceEnableRequested,MZt,(({payload:e})=>e.deviceKey));yield(0,jze.qn)(dhe.actions.reset),yield(0,jze.al)(e)}}function*zZt(){for(;;){const e=yield(0,jze.A7)(dhe.actions.dvrFetchRequested,PZt);yield(0,jze.qn)(dhe.actions.reset),yield(0,jze.al)(e)}}function*UZt(){for(;;){const e=yield(0,jze.A7)(dhe.actions.deviceAddRequested,EZt);yield(0,jze.qn)(dhe.actions.reset),yield(0,jze.al)(e)}}function*VZt(){for(;;){const e=yield(0,jze.A7)(dhe.actions.dvrSaveRequested,DZt);yield(0,jze.qn)(dhe.actions.reset),yield(0,jze.al)(e)}}function*BZt(){for(;;){const e=yield(0,jze.A7)(dhe.actions.dvrDeleteRequested,CZt);yield(0,jze.qn)(dhe.actions.reset),yield(0,jze.al)(e)}}function*FZt(){for(;;){const e=yield(0,jze.A7)(dhe.actions.addDVRDeviceRequested,wZt);yield(0,jze.qn)(dhe.actions.reset),yield(0,jze.al)(e)}}function*_Zt(){for(;;){const e=yield(0,jze.A7)(dhe.actions.removeDVRDeviceRequested,ZZt);yield(0,jze.qn)(dhe.actions.reset),yield(0,jze.al)(e)}}function*HZt(){yield(0,jze.$6)([(0,jze.rM)(OZt),(0,jze.rM)(AZt),(0,jze.rM)(xZt),(0,jze.rM)(jZt),(0,jze.rM)(LZt),(0,jze.rM)(kZt),(0,jze.rM)(RZt),(0,jze.rM)(UZt),(0,jze.rM)(zZt),(0,jze.rM)(VZt),(0,jze.rM)(BZt),(0,jze.rM)(FZt),(0,jze.rM)(_Zt)])}var QZt=Object.defineProperty,GZt=Object.prototype.hasOwnProperty,WZt=Object.getOwnPropertySymbols,YZt=Object.prototype.propertyIsEnumerable,KZt=(e,t,n)=>t in e?QZt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,qZt=(e,t)=>{for(var n in t||(t={}))GZt.call(t,n)&&KZt(e,n,t[n]);if(WZt)for(var n of WZt(t))YZt.call(t,n)&&KZt(e,n,t[n]);return e};function*$Zt({payload:e}){var t,n,r;const{server:i,device:a,lineups:s}=e,o=s.map((e=>e.uuid));try{const e=yield(0,jze.RE)(aTt,i,o),t=sZt((yield(0,jze.RE)(Lze.Z.get,"/livetv/epg/channelmap",{server:i,params:{device:a.uuid,lineup:o}})).data.MediaContainer.ChannelMapping);yield(0,jze.gz)(She.actions.channelMappingsFetchSucceeded({channelMappings:t,lineupChannels:e}))}catch(e){yield(0,jze.gz)(She.actions.channelMappingsFetchFailed({error:Lze.Z.toPlainErrorObject(e)}));let i=(0,Ce.Z)("There was a problem fetching channel mappings. Please try again later.");(null==(r=null==(n=null==(t=e.response)?void 0:t.data)?void 0:n.MediaContainer)?void 0:r.message)&&(i=e.response.data.MediaContainer.message),yield(0,jze.gz)(dhe.actions.setupErrorMessageAdded({message:i}))}}function*JZt({payload:e}){const{server:t,device:n,lineupGroup:r}=e;try{yield(0,jze.gz)(dhe.actions.setupErrorMessageRemoved());const e=yield(0,jze.RE)(Lze.Z.get,E.Z.join("/livetv/epg/lineup",{device:n.uuid,lineupGroup:r.uuid}),{server:t});yield(0,jze.gz)(She.actions.bestEPGLineupSearchSucceeded({lineupGroup:r,data:e.headers["x-plex-activity"]}))}catch(e){yield(0,jze.gz)(dhe.actions.setupErrorMessageAdded({message:(0,Ce.Z)("There was a problem mapping channels")}))}}function*XZt({payload:e}){var t,n;const{server:r}=e;try{const e=yield(0,jze.RE)(Lze.Z.get,"/livetv/epg/countries",{server:r});yield(0,jze.gz)(She.actions.epgCountriesFetchSucceeded({server:r,data:null!=(n=null==(t=e.data.MediaContainer)?void 0:t.Country)?n:[]}))}catch(e){yield(0,jze.gz)(She.actions.epgCountriesFetchFailed({error:Lze.Z.toPlainErrorObject(e)}))}}function*eTt({payload:e}){var t,n;const{server:r,country:i}=e;try{const e=yield(0,jze.RE)(Lze.Z.get,E.Z.join(["/livetv/epg/countries",i.key,"regions"]),{server:r});yield(0,jze.gz)(She.actions.epgCountryRegionsFetchSucceeded({data:null!=(n=null==(t=e.data.MediaContainer)?void 0:t.Region)?n:[]}))}catch(e){yield(0,jze.gz)(She.actions.epgCountryRegionsFetchFailed({error:Lze.Z.toPlainErrorObject(e)}))}}function*tTt({payload:e}){var t,n;const{server:r}=e;try{const e=yield(0,jze.RE)(Lze.Z.get,"/livetv/epg/languages",{server:r});yield(0,jze.gz)(She.actions.epgLanguagesFetchSucceeded({data:null!=(n=null==(t=e.data.MediaContainer)?void 0:t.Language)?n:[]}))}catch(e){yield(0,jze.gz)(She.actions.epgLanguagesFetchFailed({error:Lze.Z.toPlainErrorObject(e)}))}}function*nTt({payload:e}){var t,n;const{server:r,country:i,region:a,postalCode:s}=e,o=["/livetv/epg/countries",i.key],l={};i.flavor===Bme.Regions&&a?o.push(a.key):l.postalCode=s;const c=E.Z.join(o,l);try{const e=yield(0,jze.RE)(Lze.Z.get,c,{server:r}),{MediaContainer:i}=e.data;yield(0,jze.gz)(She.actions.epgLineupGroupFetchSucceeded({data:{uuid:null!=(t=null==i?void 0:i.uuid)?t:"",epgLineups:null!=(n=null==i?void 0:i.Lineup)?n:[]}}))}catch(e){yield(0,jze.gz)(She.actions.epgLineupGroupFetchFailed({error:Lze.Z.toPlainErrorObject(e)}))}}function*rTt({payload:e}){(yield(0,jze.Ys)(Ehe)).selectedLineupGroups.find((t=>t.uuid===e.lineupGroup.uuid))?yield(0,jze.gz)(dhe.actions.setupErrorMessageAdded({message:(0,Ce.Z)("It looks like you have already set up a lineup for this location.")})):yield(0,jze.gz)(She.actions.selectedEPGLineupGroupAddSucceeded({lineupGroup:e.lineupGroup}))}function*iTt({payload:e}){var t;const{server:n}=e;try{const{selectedDVR:e}=yield(0,jze.Ys)(The);if(!(null==(t=null==e?void 0:e.dvr)?void 0:t.Lineup))throw new Error("No available DVR lineups to fetch");const r=e.dvr.Lineup.map((e=>e.id)),i=yield(0,jze.RE)(aTt,n,r);yield(0,jze.gz)(She.actions.selectedDVRLineupChannelsFetchSucceeded({lineupChannels:i}))}catch(e){yield(0,jze.gz)(She.actions.selectedDVRLineupChannelsFetchFailed({error:Lze.Z.toPlainErrorObject(e)}))}}function*aTt(e,t){return function({data:e}){var t;const n=null!=(t=e.Lineup)?t:[];return n.forEach((e=>{var t;e.Channel=null==(t=e.Channel)?void 0:t.map((t=>qZt(qZt({},t),{lineupUUID:e.uuid})))})),n}({server:e,data:(yield(0,jze.RE)(Lze.Z.get,"/livetv/epg/lineupchannels",{server:e,params:{lineup:t}})).data.MediaContainer})}function*sTt(){for(;;){const e=yield(0,jze.A7)(She.actions.channelMappingsFetchRequested,$Zt);yield(0,jze.qn)(She.actions.reset),yield(0,jze.al)(e)}}function*oTt(){for(;;){const e=yield(0,jze.A7)(She.actions.bestEPGLineupSearchRequested,JZt);yield(0,jze.qn)(She.actions.reset),yield(0,jze.al)(e)}}function*lTt(){for(;;){const e=yield(0,jze.A7)(She.actions.epgCountriesFetchRequested,XZt);yield(0,jze.qn)(She.actions.reset),yield(0,jze.al)(e)}}function*cTt(){for(;;){const e=yield(0,jze.A7)(She.actions.epgCountryRegionsFetchRequested,eTt);yield(0,jze.qn)(She.actions.reset),yield(0,jze.al)(e)}}function*dTt(){for(;;){const e=yield(0,jze.A7)(She.actions.epgLanguagesFetchRequested,tTt);yield(0,jze.qn)(She.actions.reset),yield(0,jze.al)(e)}}function*uTt(){for(;;){const e=yield(0,jze.A7)(She.actions.epgLineupGroupFetchRequested,nTt);yield(0,jze.qn)(She.actions.reset),yield(0,jze.al)(e)}}function*pTt(){for(;;){const e=yield(0,jze.A7)(She.actions.selectedEPGLineupGroupAddRequested,rTt);yield(0,jze.qn)(She.actions.reset),yield(0,jze.al)(e)}}function*mTt(){for(;;){const e=yield(0,jze.A7)(She.actions.selectedDVRLineupChannelsFetchRequested,iTt);yield(0,jze.qn)(She.actions.reset),yield(0,jze.al)(e)}}function*hTt(){yield(0,jze.$6)([(0,jze.rM)(sTt),(0,jze.rM)(oTt),(0,jze.rM)(lTt),(0,jze.rM)(cTt),(0,jze.rM)(dTt),(0,jze.rM)(uTt),(0,jze.rM)(pTt),(0,jze.rM)(mTt)])}function*gTt(){yield(0,jze.$6)([(0,jze.rM)(HZt),(0,jze.rM)(hTt)])}var yTt=n(50468);function*vTt({payload:e}){const{hubsSources:t,hubsStates:n,userServices:r}=e;yield(0,jze.$6)(t.reduce(((e,t)=>{const i=n.find((e=>e.key===t.key));return i&&e.push((0,jze.RE)(ITt,t,i,r)),e}),[]))}function*fTt({payload:e}){const{hubsSource:t,userServices:n}=e,{key:r,source:i,contentDirectoryID:a,pinnedContentDirectoryID:s,server:o,provider:l,feature:c}=t;try{if(!o||!l||!(null==c?void 0:c.key))throw new Error("Missing server, provider, or a provider feature with a key that can be used to fetch hubs");if((0,yTt.Z)(n,c.requires)){const e={contentDirectoryID:a.join(","),pinnedContentDirectoryID:null==s?void 0:s.join(","),includeMeta:1,excludeFields:"summary"};c.type===$t.zW.Promoted&&Object.assign(e,{count:wu.HE,includeGames:1,includeStations:1,includeLibraryPlaylists:1,includeRecentChannels:1,excludeContinueWatching:1});const t=yield(0,jze.RE)(Lze.Z.get,c.key,{server:o,provider:l,params:e}),n=uwt({server:o,provider:l,contentDirectoryID:a,pinnedContentDirectoryID:s,excludedHubIdentifiers:c.type===$t.zW.Promoted?[WK.ContinueWatching,WK.OnDeck]:[],data:t.data});yield(0,jze.$6)([(0,jze.gz)(xr.Z.actions.added({metadataLists:n.metadataLists,metadataItemStates:n.metadataItemStates})),(0,jze.gz)(Dq.actions.fetchSucceeded({key:r,data:n.hubs}))])}else yield(0,jze.gz)(Dq.actions.fetchSucceeded({key:r,data:[]}))}catch(e){yield(0,jze.gz)(Dq.actions.fetchFailed({key:r,source:i,contentDirectoryID:a,error:Lze.Z.toPlainErrorObject(e)}))}}function*bTt(){yield(0,jze.gw)(6e4),yield(0,jze.gz)(Dq.actions.markStale())}function*ITt(e,t,n){var r;const{key:i,source:a,contentDirectoryID:s,pinnedContentDirectoryID:o}=e;try{const i=t.isSourceReady&&!t.isListPending&&!t.isListPopulated&&!t.isListError,a=!!t.contentDirectoryID.length&&!(0,mx.Z)(t.contentDirectoryID,s),l=!!(null==(r=t.pinnedContentDirectoryID)?void 0:r.length)&&o&&!(0,mx.Z)(t.pinnedContentDirectoryID,o);(i||a||l)&&(yield(0,jze.gz)(Dq.actions.fetchRequested({hubsSource:e,userServices:n})))}catch(e){yield(0,jze.gz)(Dq.actions.fetchFailed({key:i,source:a,contentDirectoryID:s,error:Lze.Z.toPlainErrorObject(e)}))}}function*STt(){yield(0,jze.ib)(Dq.actions.populateAllRequested,vTt)}function*MTt(){for(;;){const e=yield pDt(Dq.actions.fetchRequested,fTt,(({payload:e})=>e.hubsSource.key));yield(0,jze.qn)(Dq.actions.markStaleRequested),yield(0,jze.al)(e)}}function*ETt(){for(;;)yield(0,jze.qn)(Dq.actions.markStaleRequested),yield(0,jze.S3)({task:(0,jze.RE)(bTt),cancel:(0,jze.qn)(Dq.actions.populateAllRequested)})}function*PTt(){yield(0,jze.$6)([(0,jze.rM)(STt),(0,jze.rM)(MTt),(0,jze.rM)(ETt)])}function*DTt({payload:e}){const{server:t,importAll:n,sectionID:r}=e;try{yield(0,jze.RE)(Lze.Z.put,"/playlists/import/itunes",{server:t,params:{sectionID:r,force:n?1:0}}),yield(0,jze.gz)(fN.actions.importSucceeded())}catch(e){yield(0,jze.gz)(fN.actions.importFailed({error:Lze.Z.toPlainErrorObject(e)}))}}function*CTt(){yield(0,jze.Fm)(fN.actions.importRequested.type,DTt)}function*wTt(){yield(0,jze.$6)([(0,jze.rM)(CTt)])}var ZTt=n(70762),TTt=Object.defineProperty,NTt=Object.prototype.hasOwnProperty,OTt=Object.getOwnPropertySymbols,ATt=Object.prototype.propertyIsEnumerable,xTt=(e,t,n)=>t in e?TTt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,jTt=(e,t)=>{for(var n in t||(t={}))NTt.call(t,n)&&xTt(e,n,t[n]);if(OTt)for(var n of OTt(t))ATt.call(t,n)&&xTt(e,n,t[n]);return e};const LTt="MergedRecentlyAdded";function*kTt({payload:e}){var t,n;const{server:r}=e;try{const e=null==(n=null==(t=(yield(0,jze.RE)(Lze.Z.get,":/prefs/get",{server:r,params:{id:LTt}})).data.MediaContainer.Setting)?void 0:t[0])?void 0:n.value;yield(0,jze.gz)(ym.actions.settingsFetchSucceeded({server:r,isMergeRecentlyAddedEnabled:e}))}catch(e){yield(0,jze.gz)(ym.actions.settingsFetchFailed({server:r,error:Lze.Z.toPlainErrorObject(e)}))}}function*RTt({payload:e}){const{server:t,isMergeRecentlyAddedEnabled:n}=e;try{yield(0,jze.RE)(Lze.Z.put,":/prefs",{server:t,params:{[LTt]:n}}),yield(0,jze.gz)(ym.actions.settingsUpdateSucceeded({server:t,isMergeRecentlyAddedEnabled:n})),yield(0,jze.gz)(ym.actions.resetHubs())}catch(e){yield(0,jze.gz)(ym.actions.settingsUpdateFailed({server:t,error:Lze.Z.toPlainErrorObject(e)}))}}function*zTt(){yield(0,jze.gz)(Dq.actions.reset()),yield(0,jze.gz)(Jv.actions.resetHubs())}function*UTt({payload:e}){const{server:t,sourceURI:n}=e;try{const e=yield(0,jze.RE)(GTt,t,n);yield(0,jze.gz)(ym.actions.hubsFetchSucceeded({sourceURI:n,options:e}))}catch(e){yield(0,jze.gz)(ym.actions.hubsFetchFailed({sourceURI:n,error:Lze.Z.toPlainErrorObject(e)}))}}function*VTt({payload:e}){var t;const{server:n,sourceURI:r,options:i,fromIndex:a,toIndex:s}=e;try{const e=i[s].identifier,a=null==(t=i.find(((e,t)=>t===s-1)))?void 0:t.identifier,{key:o}=(0,wr.Z)(r);yield(0,jze.RE)(Lze.Z.put,E.Z.join([o,e,"move"]),{server:n,params:{after:a}}),yield(0,jze.gz)(ym.actions.reorderSucceeded({sourceURI:r})),yield(0,jze.gz)(ym.actions.resetHubs())}catch(e){const t=Array.from(i),[n]=t.splice(s,1);t.splice(a,0,n),yield(0,jze.gz)(ym.actions.reorderFailed({sourceURI:r,options:t,error:Lze.Z.toPlainErrorObject(e)}))}}function*BTt({payload:e}){const{server:t,sourceURI:n,options:r,removed:i,index:a}=e;try{const e=i.identifier,{key:r}=(0,wr.Z)(n);yield(0,jze.RE)(Lze.Z.del,E.Z.join([r,e]),{server:t}),yield(0,jze.gz)(ym.actions.removeSucceeded({sourceURI:n})),yield(0,jze.gz)(ym.actions.resetHubs())}catch(e){const t=Array.from(r);t.splice(a,0,i),yield(0,jze.gz)(ym.actions.removeFailed({sourceURI:n,options:t,error:Lze.Z.toPlainErrorObject(e)}))}}function*FTt({payload:e}){const{server:t,sourceURI:n}=e;try{const{key:e}=(0,wr.Z)(n);yield(0,jze.RE)(Lze.Z.del,e,{server:t});const r=yield(0,jze.RE)(GTt,t,n);yield(0,jze.gz)(ym.actions.resetSucceeded({sourceURI:n,options:r})),yield(0,jze.gz)(ym.actions.resetHubs())}catch(e){yield(0,jze.gz)(ym.actions.resetFailed({sourceURI:n,error:Lze.Z.toPlainErrorObject(e)}))}}function*_Tt({payload:e}){const{server:t,sourceURI:n,options:r,promoted:i}=e;try{const e=jTt(jTt({},r),i);yield(0,jze.gz)(ym.actions.promoteChanged({sourceURI:n,options:e}));const{key:a}=(0,wr.Z)(n);yield(0,jze.RE)(Lze.Z.put,E.Z.join([a,e.identifier]),{server:t,params:{promotedToRecommended:(0,ZTt.Z)(e.promotedToRecommended),promotedToOwnHome:(0,ZTt.Z)(e.promotedToOwnHome),promotedToSharedHome:(0,ZTt.Z)(e.promotedToSharedHome)}}),yield(0,jze.gz)(ym.actions.resetHubs())}catch(e){yield(0,jze.gz)(ym.actions.promoteChanged({sourceURI:n,options:r}))}}function*HTt({payload:e}){var t;const{server:n,sourceURI:r,contentDirectoryID:i}=e;try{const{ratingKey:e}=(0,wr.Z)(r),a=yield(0,jze.RE)(Lze.Z.get,zfe(i),{server:n,params:{metadataItemId:e}});yield(0,jze.gz)(ym.actions.publishedFetchSucceeded({sourceURI:r,hub:null==(t=a.data.MediaContainer.Hub)?void 0:t[0]}))}catch(e){yield(0,jze.gz)(ym.actions.publishedFetchFailed({sourceURI:r,error:Lze.Z.toPlainErrorObject(e)}))}}function*QTt({payload:e}){var t;const{server:n,sourceURI:r,contentDirectoryID:i,hub:a}=e;try{const{ratingKey:e}=(0,wr.Z)(r),s=yield(0,jze.RE)(Lze.Z.post,zfe(i),{server:n,params:{metadataItemId:e,promotedToRecommended:(0,ZTt.Z)(a.promotedToRecommended),promotedToOwnHome:(0,ZTt.Z)(a.promotedToOwnHome),promotedToSharedHome:(0,ZTt.Z)(a.promotedToSharedHome)}});yield(0,jze.gz)(ym.actions.publishedUpdateSucceeded({sourceURI:r,hub:null==(t=s.data.MediaContainer.Hub)?void 0:t[0]})),yield(0,jze.gz)(ym.actions.resetHubs())}catch(e){yield(0,jze.gz)(ym.actions.publishedUpdateFailed({sourceURI:r,error:Lze.Z.toPlainErrorObject(e)}))}}function*GTt(e,t){const{key:n}=(0,wr.Z)(t);return(yield(0,jze.RE)(Lze.Z.get,n,{server:e})).data.MediaContainer.Hub}function*WTt(){yield(0,jze.Fm)(ym.actions.settingsFetchRequested,kTt)}function*YTt(){yield(0,jze.Fm)(ym.actions.settingsUpdateRequested,RTt)}function*KTt(){yield(0,jze.Fm)(ym.actions.resetHubs,zTt)}function*qTt(){yield(0,jze.Fm)(ym.actions.hubsFetchRequested,UTt)}function*$Tt(){yield(0,jze.ib)(ym.actions.reorderRequested,VTt)}function*JTt(){yield(0,jze.ib)(ym.actions.removeRequested,BTt)}function*XTt(){yield(0,jze.Fm)(ym.actions.resetRequested,FTt)}function*eNt(){yield(0,jze.ib)(ym.actions.promoteRequested,_Tt)}function*tNt(){yield(0,jze.Fm)(ym.actions.publishedFetchRequested,HTt)}function*nNt(){yield(0,jze.ib)(ym.actions.publishedUpdateRequested,QTt)}function*rNt(){yield(0,jze.$6)([(0,jze.rM)(WTt),(0,jze.rM)(YTt),(0,jze.rM)(KTt),(0,jze.rM)(qTt),(0,jze.rM)($Tt),(0,jze.rM)(JTt),(0,jze.rM)(XTt),(0,jze.rM)(eNt),(0,jze.rM)(tNt),(0,jze.rM)(nNt)])}function iNt({data:e}){var t,n;const r=null==(t=e.Directory)?void 0:t.map((e=>({title:e.tag,thumb:e.thumb,callSign:e.channelCallSign,identifier:e.channelIdentifier,vcn:e.channelIdentifier,hd:!!e.tagValue})));return null!=(n=null==r?void 0:r.sort(((e,t)=>(0,px.Z)(e.vcn,t.vcn))))?n:[]}var aNt,sNt;function*oNt({payload:e}){var t;const{server:n,provider:r}=e;try{const e=yield(0,jze.RE)(Lze.Z.get,E.Z.join([r.identifier,"/tags"]),{server:n,params:{type:aNt.Channel}});yield(0,jze.gz)(Sye.actions.guideChannelsFetchSucceeded({data:iNt({server:n,data:null==(t=e.data)?void 0:t.MediaContainer})}))}catch(e){yield(0,jze.gz)(Sye.actions.guideChannelsFetchFailed({error:Lze.Z.toPlainErrorObject(e)}))}}function*lNt(){for(;;){const e=yield(0,jze.A7)(Sye.actions.guideChannelsFetchRequested,oNt);yield(0,jze.qn)(Sye.actions.reset),yield(0,jze.al)(e)}}function*cNt(){yield(0,jze.$6)([(0,jze.rM)(lNt)])}(sNt=aNt||(aNt={}))[sNt.Channel=310]="Channel";var dNt=Object.defineProperty,uNt=Object.prototype.hasOwnProperty,pNt=Object.getOwnPropertySymbols,mNt=Object.prototype.propertyIsEnumerable,hNt=(e,t,n)=>t in e?dNt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,gNt=(e,t)=>{for(var n in t||(t={}))uNt.call(t,n)&&hNt(e,n,t[n]);if(pNt)for(var n of pNt(t))mNt.call(t,n)&&hNt(e,n,t[n]);return e};function yNt(e=[]){return e.reduce(((e,t)=>(t.key===lJ.ViewedAt?e["viewedAt>"]=t.value:e[t.key]=t.value,e)),{})}function*vNt({payload:e}){try{const{server:t,provider:n,sort:r,filters:i,startIndex:a,size:s,isPrepend:o}=e,l=yield(0,jze.RE)(nJ.fetchRange,"/status/sessions/history/all",{server:t,provider:n,params:gNt({sort:r},yNt(i)),startIndex:a,size:s,isPrepend:o});yield(0,jze.gz)(iJ.actions.fetchRangeSucceeded({data:l}))}catch(e){yield(0,jze.gz)(iJ.actions.fetchRangeFailed({error:Lze.Z.toPlainErrorObject(e)}))}}function*fNt(){for(;;){const e=yield(0,jze.Fm)(iJ.actions.fetchRangeRequested,vNt);yield(0,jze.qn)(iJ.actions.reset),yield(0,jze.al)(e)}}function*bNt(){yield(0,jze.$6)([(0,jze.rM)(fNt)])}var INt=Object.prototype.hasOwnProperty,SNt=Object.getOwnPropertySymbols,MNt=Object.prototype.propertyIsEnumerable;function ENt(e){return e.subtype!==ni.y_.Webshow&&e.subtype!==ni.y_.Podcast&&!_o(e)}function*PNt({payload:e}){const t=yield(0,jze.Ys)(x9);try{const n=yield(0,jze.RE)(ZNt,e.server,e.provider,e.metadataKey);yield(0,jze.RE)(TNt,e.server,e.provider,n,t)}catch(e){yield(0,jze.gz)(xte.actions.metadataItemFetchFailed({error:Lze.Z.toPlainErrorObject(e)}))}}function*DNt({payload:e}){var t;try{const n=yield(0,jze.Ys)(x9),r=null==(t=n.metadata.metadataItem)?void 0:t.key;if(!r)return;const i=yield(0,jze.RE)(ZNt,e.server,e.provider,r);yield(0,jze.RE)(TNt,e.server,e.provider,i,n)}catch(e){}}function*CNt({payload:e}){const{server:t,provider:n,metadataKey:r}=e,i=!t.version||(0,lb.Z)(t.version,ib.Z.simpleRelatedKey)?E.Z.join([r,"related"]):E.Z.join([r.replace(/(\/library)?\/metadata/,"/hubs/metadata"),"related"]);try{const e=uwt({server:t,provider:n,data:(yield(0,jze.RE)(Lze.Z.get,i,{server:t,provider:n,params:{includeAugmentations:!t.version||(0,lb.Z)(t.version,ib.Z.augmentedHubsInRelatedHubs)?1:0,includeExternalMetadata:1,includeMeta:1}})).data});yield(0,jze.$6)([(0,jze.gz)(xr.Z.actions.added({metadataLists:e.metadataLists,metadataItemStates:e.metadataItemStates})),(0,jze.gz)(xte.actions.relatedHubsFetchSucceeded({hubs:e.hubs}))])}catch(e){yield(0,jze.gz)(xte.actions.relatedHubsFetchFailed({error:Lze.Z.toPlainErrorObject(e)}))}}function*wNt({payload:e}){const{server:t,provider:n,augmentationKey:r}=e;try{const e=uwt({server:t,provider:n,data:(yield(0,jze.RE)(Lze.Z.get,r,{server:t,provider:n,params:{wait:1}})).data});yield(0,jze.$6)([(0,jze.gz)(xr.Z.actions.added({metadataLists:e.metadataLists,metadataItemStates:e.metadataItemStates})),(0,jze.gz)(xte.actions.augmentedHubsFetchSucceeded({hubs:e.hubs}))])}catch(e){yield(0,jze.gz)(xte.actions.augmentedHubsFetchFailed({error:Lze.Z.toPlainErrorObject(e)}))}}function*ZNt(e,t,n){const r=(yield(0,jze.RE)(Lze.Z.get,n,{server:e,provider:t,params:{includeConcerts:1,includeExtras:1,includeOnDeck:1,includePopularLeaves:1,includePreferences:1,includeReviews:1,includeChapters:1,includeStations:1,includeExternalMedia:1,asyncAugmentMetadata:1,asyncCheckFiles:1,asyncRefreshAnalysis:1,asyncRefreshLocalMediaAgent:1}})).data.MediaContainer,{Metadata:i=[]}=r,a=((e,t)=>{var n={};for(var r in e)INt.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&SNt)for(var r of SNt(e))t.indexOf(r)<0&&MNt.call(e,r)&&(n[r]=e[r]);return n})(r,["Metadata"]),[s]=i;if(!s)throw new Error("The response did not contain a metadata item");const o=(0,kze.Z)({server:e,provider:t,data:s,container:a}),{descendantListSourceURI:l,siblingListSourceURI:c,popularLeavesSourceURI:d,extrasSourceURI:u}=function(e){const{source:t,childrenKey:n,popularLeaves:r,extras:i}=e,a=function(e){const{skipParent:t,parentKey:n,grandparentKey:r}=e,i=t?r:n,a=t?"grandchildren":"children";if(i)return E.Z.join([i,a],{excludeAllLeaves:1})}(e),s=null==r?void 0:r.key,o=i?E.Z.join([e.key,"extras"]):void 0;return{descendantListSourceURI:n?E.Z.join([t,n]):void 0,siblingListSourceURI:ENt(e)&&a?E.Z.join([t,a]):void 0,popularLeavesSourceURI:s?E.Z.join([t,s]):void 0,extrasSourceURI:o?E.Z.join([t,o]):void 0}}(o.metadataItem),p={metadataItem:o.metadataItem,metadataItemStates:o.metadataItemStates,descendantListSourceURI:l,siblingListSourceURI:c,popularLeavesSourceURI:d,extrasSourceURI:u};return yield(0,jze.gz)(xte.actions.metadataItemFetchSucceeded(p)),yield(0,jze.gz)(os.Z.actions.metadataItemStatesNormalized({metadataItemStates:o.metadataItemStates})),p}function*TNt(e,t,n,r){var i,a;const{descendantListSourceURI:s,siblingListSourceURI:o,popularLeavesSourceURI:l,extrasSourceURI:c}=r,{metadataItem:d,descendantListSourceURI:u,siblingListSourceURI:p,popularLeavesSourceURI:m,extrasSourceURI:h}=n,g=[];u&&(u===s?yield(0,jze.gz)((null==d||d.type,ni.pG.Album,xr.Z.actions.throttledRepopulateRequested({server:e,provider:t,sourceURI:u}))):g.push((0,jze.RE)(NNt,{server:e,provider:t,sourceURI:u,fetchAll:d.type===ni.pG.Album}))),p&&(p===o?yield(0,jze.gz)(xr.Z.actions.throttledRepopulateRequested({server:e,provider:t,sourceURI:p})):g.push((0,jze.RE)(NNt,{server:e,provider:t,sourceURI:p,fetchAll:!0}))),m&&(m===l?yield(0,jze.gz)(xr.Z.actions.throttledRepopulateRequested({server:e,provider:t,sourceURI:m})):g.push((0,jze.RE)(NNt,{server:e,provider:t,sourceURI:m,items:null==(i=d.popularLeaves)?void 0:i.items}))),h&&(h===c?yield(0,jze.gz)(xr.Z.actions.throttledRepopulateRequested({server:e,provider:t,sourceURI:h})):g.push((0,jze.RE)(NNt,{server:e,provider:t,sourceURI:h,items:d.extras,totalSize:null==(a=d.extras)?void 0:a.length}))),yield(0,jze.$6)(g)}function*NNt({server:e,provider:t,sourceURI:n,items:r=[],totalSize:i,fetchAll:a}){if(yield(0,jze.gz)(xr.Z.actions.added({metadataLists:[{sourceURI:n,items:r,totalSize:i,offset:0}],metadataItemStates:{}})),null==i)if(a)try{yield(0,jze.gz)(xr.Z.actions.fetchAllRequested({server:e,provider:t,sourceURI:n}))}catch(e){yield(0,jze.gz)(xr.Z.actions.fetchAllFailed({error:Lze.Z.toPlainErrorObject(e),sourceURI:n}))}else try{yield(0,jze.gz)(xr.Z.actions.fetchRangeRequested({server:e,provider:t,sourceURI:n,startIndex:0,size:20}))}catch(e){yield(0,jze.gz)(xr.Z.actions.fetchRangeFailed({error:Lze.Z.toPlainErrorObject(e),sourceURI:n}))}}function*ONt(){for(;;){const e=yield(0,jze.A7)(xte.actions.metadataItemFetchRequested,PNt);yield(0,jze.qn)(xte.actions.reset),yield(0,jze.al)(e)}}function*ANt(){for(;;){const e=yield(0,jze.A7)(xte.actions.relatedHubsFetchRequested,CNt);yield(0,jze.qn)(xte.actions.reset),yield(0,jze.al)(e)}}function*xNt(){for(;;){const e=yield(0,jze.A7)(xte.actions.augmentedHubsFetchRequested,wNt);yield(0,jze.qn)(xte.actions.reset),yield(0,jze.al)(e)}}function*jNt(){for(;;){const e=yield(0,jze.A7)(xte.actions.metadataItemRepopulateRequested,DNt),t=yield(0,jze.qn)([xte.actions.reset,os.Z.actions.playedStatusUpdateRequested,os.Z.actions.toggleWatchlistRequested,os.Z.actions.toggleSavedRequested,os.Z.actions.streamSelectRequested,os.Z.actions.streamDeleteRequested,os.Z.actions.preferenceChanged]);t.type!==xte.actions.reset&&(yield(0,jze.Ys)(x9)).metadata.isPending&&(yield(0,jze.gz)(os.Z.actions.repopulateCanceled({sourceURI:t.payload.sourceURI}))),yield(0,jze.al)(e)}}function*LNt(){yield(0,jze.$6)([(0,jze.rM)(ONt),(0,jze.rM)(jNt),(0,jze.rM)(ANt),(0,jze.rM)(xNt)])}const kNt=Fn(Hj.X);function*RNt({payload:e}){const{password:t}=e,n=yield Vze(kNt);try{const e=yield(0,jze.RE)(Lze.Z.post,"/api/v2/user/two_factor",{server:n},{password:t});yield(0,jze.gz)(wGe.actions.createSecretSucceeded({provisioningUri:e.data.provisioningUri,secret:e.data.secret}))}catch(e){yield(0,jze.gz)(wGe.actions.createSecretFailed({error:Lze.Z.toPlainErrorObject(e)}))}}function*zNt({payload:e}){const{enabled:t,resetDevices:n,verificationCode:r}=e,i=yield Vze(kNt);try{if(t){const e=yield(0,jze.RE)(Lze.Z.put,"/api/v2/user/two_factor",{server:i},{resetDevices:n,verificationCode:r});yield(0,jze.gz)(wGe.actions.toggleSucceeded({enabled:!0,codes:e.data.codes}))}else yield(0,jze.RE)(Lze.Z.del,"/api/v2/user/two_factor",{server:i,params:{verificationCode:r}}),yield(0,jze.gz)(wGe.actions.toggleSucceeded({enabled:!1}));yield zze((0,oN.ay)({twoFactorEnabled:t}))}catch(e){yield(0,jze.gz)(wGe.actions.toggleFailed({error:Lze.Z.toPlainErrorObject(e)}))}}function*UNt({payload:e}){const{password:t,verificationCode:n}=e,r=yield Vze(kNt);try{const e=yield(0,jze.RE)(Lze.Z.post,"/api/v2/user/two_factor/backup_codes",{server:r},{password:t,verificationCode:n});yield(0,jze.gz)(wGe.actions.generateRecoveryCodesSucceeded({codes:e.data.codes}))}catch(e){yield(0,jze.gz)(wGe.actions.generateRecoveryCodesFailed({error:Lze.Z.toPlainErrorObject(e)}))}}function*VNt(){const e=yield Vze(kNt);try{yield(0,jze.RE)(Lze.Z.post,"/api/v2/user/two_factor/send_recovery_code",{server:e}),yield(0,jze.gz)(wGe.actions.sendRecoveryCodeSucceeded())}catch(e){yield(0,jze.gz)(wGe.actions.sendRecoveryCodeFailed({error:Lze.Z.toPlainErrorObject(e)}))}}function*BNt(){for(;;){const e=yield(0,jze.Fm)(wGe.actions.createSecretRequested,RNt);yield(0,jze.qn)(wGe.actions.reset),yield(0,jze.al)(e)}}function*FNt(){for(;;){const e=yield(0,jze.Fm)(wGe.actions.toggleRequested,zNt);yield(0,jze.qn)(wGe.actions.reset),yield(0,jze.al)(e)}}function*_Nt(){for(;;){const e=yield(0,jze.Fm)(wGe.actions.generateRecoveryCodesRequested,UNt);yield(0,jze.qn)(wGe.actions.reset),yield(0,jze.al)(e)}}function*HNt(){for(;;){const e=yield(0,jze.Fm)(wGe.actions.sendRecoveryCodeRequested,VNt);yield(0,jze.qn)(wGe.actions.reset),yield(0,jze.al)(e)}}function*QNt(){yield(0,jze.$6)([(0,jze.rM)(BNt),(0,jze.rM)(FNt),(0,jze.rM)(_Nt),(0,jze.rM)(HNt)])}function*GNt(){const e=yield Vze(kNt);try{yield(0,jze.RE)(Lze.Z.post,"/api/v2/user/send_confirmation",{server:e}),yield(0,jze.gz)(MWe.actions.sendVerificationEmailSucceeded())}catch(e){yield(0,jze.gz)(MWe.actions.sendVerificationEmailFailed({error:Lze.Z.toPlainErrorObject(e)}))}}function*WNt(){for(;;){const e=yield(0,jze.Fm)(MWe.actions.sendVerificationEmailRequested,GNt);yield(0,jze.qn)(MWe.actions.reset),yield(0,jze.al)(e)}}function*YNt(){yield(0,jze.$6)([(0,jze.rM)(WNt)])}function*KNt(){yield(0,jze.$6)([(0,jze.rM)(kCt),(0,jze.rM)(BCt),(0,jze.rM)(ewt),(0,jze.rM)(Zwt),(0,jze.rM)(Xwt),(0,jze.rM)(gTt),(0,jze.rM)(PTt),(0,jze.rM)(wTt),(0,jze.rM)(rNt),(0,jze.rM)(cNt),(0,jze.rM)(bNt),(0,jze.rM)(LNt),(0,jze.rM)(QNt),(0,jze.rM)(YNt),(0,jze.rM)(Jze)])}const qNt=(0,uDt.ZP)(),$Nt=(0,lo.xC)({reducer:(e,t)=>(t.type===zht.type&&(e=void 0),Rht(e,t)),middleware:[qNt]});qNt.run((function*(){yield(0,jze.$6)([(0,jze.rM)(DCt),(0,jze.rM)(KNt)])}));const JNt=$Nt,XNt=oA.Z.extend({name:"StoreModel",initialize(){this._currentState=JNt.getState(),JNt.subscribe((()=>{const e=JNt.getState();this.trigger("statechange",this,e,this._currentState),this._currentState=e}))},getState:()=>JNt.getState(),toJSON:()=>JNt.getState(),dispatch(e){JNt.dispatch(e)}}),eOt=NEt.extend({name:"DesktopAppModel",sessionAttrs:{clientID:KO.Z.string,anonymousClientID:KO.Z.string,authorized:KO.Z.boolean.isRequired,skipSignIn:KO.Z.boolean.isRequired,isWaitingForServers:KO.Z.boolean.isRequired,isWaitingForPrimaryServer:KO.Z.boolean.isRequired,history:KO.Z.array.isRequired,drmType:KO.Z.oneOf(...Object.values(Byt)),isFullscreen:KO.Z.boolean.isRequired,isUpdateAvailable:KO.Z.boolean.isRequired,castApiAvailability:uUe.isRequired,settings:KO.Z.instanceOf(wyt)},sessionRelations:{entities:{relationClass:function(e){const t={};for(const n in e)t[e[n]]={relationClass:BEt};return oA.Z.extend({name:"EntitiesModel",sessionRelations:t})}(a)},servers:{relationClass:jEt},cloudServer:{relationClass:OEt.Z,deferred:!0},primaryServer:{relationClass:_pe.ZP,deferred:!0},companionServer:{relationClass:_pe.ZP,deferred:!0},transientServer:{relationClass:dIt,deferred:!0},user:{relationClass:dDt,deferred:!0},remotePlayer:{relationClass:oA.Z,deferred:!0},deviceSettings:{relationClass:Wgt},ui:{relationClass:zPt},v4:{relationClass:XNt}},defaults(){const e=new OEt.Z({machineIdentifier:Hj.X},{parent:this});return{authorized:!1,skipSignIn:!1,isWaitingForServers:!1,isWaitingForPrimaryServer:!1,isUpdateAvailable:!1,history:[],cloudServer:e,user:new dDt({},{server:e,parent:this}),isFullscreen:!1,castApiAvailability:1,settings:new wyt}},dispatch(e){this.get("v4").dispatch(e)}}),tOt=oA.Z.extend({name:"OauthProviderUsageModel",syncedAttrs:{federatedAuth:KO.Z.boolean,other:KO.Z.boolean}}),nOt=oA.Z.extend({name:"OauthProviderModel",rootPropertyName:"provider",sessionAttrs:{isUnlinking:KO.Z.boolean.isRequired,unlinkError:KO.Z.object},syncedAttrs:{authName:KO.Z.string,image:KO.Z.string,label:KO.Z.string.isRequired,linked:KO.Z.boolean.isRequired,nickname:KO.Z.string,url:KO.Z.string.isRequired},syncedRelations:{usage:{relationClass:tOt}},defaults:{isUnlinking:!1}}),rOt=BT.Z.extend({name:"OauthProviderCollection",model:nOt,context:["server"],url:"/api/v2/authentications/providers",responseType:iV.AV}),iOt=oA.Z.extend({name:"CloudServerFlexModel",context:["server"],sessionAttrs:{isOauthProvidersPending:KO.Z.boolean,isOauthProvidersPopulated:KO.Z.boolean,oauthProvidersError:KO.Z.object},sessionRelations:{oauthProviders:{relationClass:rOt}},defaults:{isOauthProvidersPending:!1,isOauthProvidersPopulated:!1,oauthProvidersError:null}}),aOt=oA.Z.extend({name:"PlexPlayerModel",context:["server","baseURL"],rootPropertyName:"Server",sessionAttrs:{volume:KO.Z.integer},syncedAttrs:{machineIdentifier:KO.Z.string,name:KO.Z.string,title:KO.Z.string,address:KO.Z.string,port:KO.Z.string,deviceClass:KO.Z.string,version:KO.Z.string,product:KO.Z.string,protocol:KO.Z.string,protocolVersion:KO.Z.string,protocolCapabilities:KO.Z.list},derivedAttrs:{friendlyName(){return this.get("title")||this.get("name")||this.get("product")},playerIdentifier(){return`${this.baseURL}:${this.get("machineIdentifier")}`}},defaults:{volume:100}}),sOt=BT.Z.extend({name:"PlexPlayerCollection",context:["server"],model:aOt,url:"/clients",augmentResponse(e){const t=(0,b.DB)("appModel").get("clientID"),n=parseInt(e.size,10);return 1===n&&e.Server.machineIdentifier===t?(delete e.Server,e.size="0"):n>1&&(e.Server=e.Server.filter((e=>e.machineIdentifier!==t)),e.size=e.Server.length.toString()),e}}),oOt=oA.Z.extend({name:"ActivityModel",context:["server"],idAttribute:"uuid",rootPropertyName:"Activity",responseType(){return(0,Vbt.Z)(this.server)},sessionAttrs:{synthetic:KO.Z.boolean},syncedAttrs:{uuid:KO.Z.string,userID:KO.Z.integer,title:KO.Z.string,subtitle:KO.Z.string,progress:KO.Z.integer,event:KO.Z.string,cancellable:KO.Z.boolean,type:KO.Z.string,Context:KO.Z.object,Response:KO.Z.object},defaults:()=>({Context:{},Response:{}})}),lOt=BT.Z.extend({name:"ActivityCollection",context:["server"],model:oOt,url:"/activities",responseType(){return(0,Vbt.Z)(this.server)}}),cOt=Koe.Z.extend({pageSize:10,pages:function(){return Math.max(Math.ceil(this.length/this.pageSize),1)},page:function(e,t){t||(t={});let n,r=0;return n=t.reverse?this.length-e*this.pageSize:e*this.pageSize-this.pageSize,n<0&&(r=n,n=0),this.models.slice(n,n+this.pageSize+r)}});let dOt=0;const uOt=_oe.Z.extend({idAttribute:"id",parse:function(e){const t=e;return t.time=new Date,t.id="evt"+dOt++,"preference"===t._type&&(t.value=String(t.value)),t}}),pOt=cOt.extend({model:uOt,url:"/servers",pageSize:20,limit:1e3,initialize:function(){this.startTime=new Date,this.listenTo(this.server,"socket:setting",this.onSettingChange),this.listenTo(this.server,"socket:timeline",this.onTimeline),this.listenTo(this.server,"socket:status",this.onStatus),this.listenTo(this.server,"socket:playing",this.onPlaying),this.listenTo(this.server,"socket:websocket",this.onWebSocket)},add:function(e){this.length+1>this.limit&&this.remove(this.at(0)),cOt.prototype.add.apply(this,arguments)},onSettingChange:function(e){e.label&&this.add(S().extend({_type:"setting"},e),{parse:!0})},onTimeline:function(e){1===e.state||e.sectionID<0||this.add(S().extend({_type:"timeline"},e),{parse:!0})},onStatus:function(e){"ProgressNotification"!==e._elementType&&this.add(S().extend({_type:"status"},e),{parse:!0})},onPlaying:function(e){this.add(S().extend({_type:"playing"},e),{parse:!0})},onWebSocket:function(e){this.add(S().extend({_type:"websocket"},e),{parse:!0})}}),mOt=oA.Z.extend({name:"TranscodeJobModel",context:["server"],entityType:Mn.PC,entityID(e=this.state){return(0,vn.Z)(this.entityType,e.syncItemId,this.server.entityID())},idAttribute:"syncItemId",rootPropertyName:"TranscodeJob",syncedAttrs:{syncItemId:KO.Z.integer,syncItemTitle:KO.Z.string,key:KO.Z.string,type:KO.Z.string,progress:KO.Z.float,speed:KO.Z.float,remaining:KO.Z.string,size:KO.Z.string,title:KO.Z.string,thumb:KO.Z.string},responseType(){return(0,Vbt.Z)(this.server)}}),hOt=BT.Z.extend({name:"TranscodeJobCollection",context:["server"],model:mOt,cache:new sA.Z,url:"/sync/transcodeQueue"}),gOt=oA.Z.extend({name:"BackgroundTranscodeJobModel",context:["server"],entityType:Qpe,entityID(e=this.state){return(0,vn.Z)(this.entityType,e.key,this.server.entityID())},idAttribute:"key",rootPropertyName:"TranscodeJob",syncedAttrs:{queueItemID:KO.Z.integer,generatorID:KO.Z.integer,targetTagID:KO.Z.integer,syncItemId:KO.Z.integer,syncItemTitle:KO.Z.string,key:KO.Z.string,type:KO.Z.string,progress:KO.Z.float,speed:KO.Z.float,remaining:KO.Z.integer,size:KO.Z.integer,ratingKey:KO.Z.string,title:KO.Z.string,thumb:KO.Z.string}}),yOt=BT.Z.extend({name:"BackgroundTranscodeJobCollection",model:gOt,context:["server"],url:"/status/sessions/background"}),vOt=oA.Z.extend({name:"NeighborhoodDeviceModel",context:["server"],idAttribute:"uuid",rootPropertyName:"Device",syncedAttrs:{uuid:KO.Z.string.isRequired,address:KO.Z.string.isRequired,title:KO.Z.string,manufacturer:KO.Z.string,model:KO.Z.string,modelNumber:KO.Z.string,serialNumber:KO.Z.string}}),fOt=BT.Z.extend({name:"NeighborhoodDeviceCollection",context:["server"],model:vOt,url:"neighborhood/devices"}),bOt=oA.Z.extend({name:"ServerFlexModel",context:["server"],sessionAttrs:{alerts:KO.Z.instanceOf(pOt).isRequired,hasiTunes:KO.Z.boolean,isHasiTunesPopulated:KO.Z.boolean,isSettingsPending:KO.Z.boolean,isSettingsPopulated:KO.Z.boolean,settingsError:KO.Z.object,isLibrariesPending:KO.Z.boolean.isRequired,isLibrariesPopulated:KO.Z.boolean.isRequired,librariesError:KO.Z.object,cleanBundlesError:KO.Z.string,optimizeDatabaseError:KO.Z.string},sessionRelations:{settings:{relationClass:Goe.Z,rootPropertyName:"Setting"},cloudAccount:{relationClass:uCe},libraries:{relationClass:eje.Z},activities:{relationClass:lOt},transcodeJobs:{relationClass:hOt},backgroundTranscodeJobs:{relationClass:yOt},players:{relationClass:sOt},neighborhoodDevices:{relationClass:fOt},update:{relationClass:vEt}},defaults(){return{alerts:new pOt([],{server:this.server}),hasiTunes:!1,isHasiTunesPopulated:!1,isSettingsPending:!0,isSettingsPopulated:!1,settingsError:null,isLibrariesPending:!0,isLibrariesPopulated:!1,librariesError:null,cleanBundlesError:null,optimizeDatabaseError:null}}});var IOt=Object.defineProperty,SOt=Object.prototype.hasOwnProperty,MOt=Object.getOwnPropertySymbols,EOt=Object.prototype.propertyIsEnumerable,POt=(e,t,n)=>t in e?IOt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,DOt=(e,t)=>{for(var n in t||(t={}))SOt.call(t,n)&&POt(e,n,t[n]);if(MOt)for(var n of MOt(t))EOt.call(t,n)&&POt(e,n,t[n]);return e};const COt=Ggt.Z.extend({name:"StoredUserExperienceSettingsModel",syncedAttrs:DOt(DOt({},yyt.prototype.syncedAttrs),{isDirty:KO.Z.boolean}),syncedRelations:DOt({},yyt.prototype.syncedRelations)}),wOt=BT.Z.extend({name:"CloudPlayerCollection",context:["server","baseURL"],model:aOt,augmentResponse:e=>(e.Server||(e.Server=e.Player,delete e.Player),e)}),ZOt=oA.Z.extend({name:"CloudCompanionModel",context:["server"],idAttribute:"identifier",rootPropertyName:"Companion",syncedAttrs:{identifier:KO.Z.string,title:KO.Z.string,baseURL:KO.Z.string,linkURL:KO.Z.string,provides:KO.Z.list},sessionAttrs:{linkState:KO.Z.string},sessionRelations:{cloudPlayers:{relationClass:wOt,options(){return{url:`${this.get("baseURL")}/resources`,baseURL:this.get("baseURL")}}}},defaults:{linkState:Vj}}),TOt=BT.Z.extend({name:"CloudCompanionCollection",context:["server"],model:ZOt,url:"/api/v2/companions",responseType:iV.AV,augmentResponse(e){const t=e,n=(0,b.DB)("appModel"),r=(n&&n.get("deviceSettings")).get("sonosCustomBaseURL");if(r&&t&&t.length){const e=t.find((({identifier:e})=>"tv.plex.sonos"===e));e&&t.push({identifier:"tv.plex.sonos-custom",title:"Sonos (Custom)",baseURL:r,linkURL:E.Z.join([r,"link"]),provides:e.provides,token:e.token})}return e}}),NOt=oA.Z.extend({name:"AnnouncementModel",context:["server"],rootPropertyName:"Announcement",syncedAttrs:{id:KO.Z.integer,title:KO.Z.string,content:KO.Z.string,imageUrl:KO.Z.string,style:KO.Z.string,url:KO.Z.string,expireAt:KO.Z.string,notifyAt:KO.Z.string,read:{type:KO.Z.boolean,save:!0}},markAsRead(){this.get("read")||this.save("read",!0)}}),OOt=BT.Z.extend({name:"AnnouncementCollection",model:NOt,context:["server"],url:"api/announcements"}),AOt=BT.Z.extend({name:"SyncItemCollection",context:["server","device"],model:Ele}),xOt="active",jOt="snoozed",LOt="dead",kOt={ACTIVE:xOt,SNOOZED:jOt,DEAD:LOt},ROt=oA.Z.extend({name:"SyncListModel",context:["server","device"],url(){return this.device?`/devices/${this.device.get("clientIdentifier")}/sync_items`:`/servers/${this.server.id}/sync_lists`},syncedAttrs:{status:KO.Z.oneOf(xOt,jOt,LOt),clientIdentifier:KO.Z.string,version:KO.Z.integer,itemsCompleteCount:KO.Z.integer,totalSize:KO.Z.integer},syncedRelations:{syncItems:{relationClass:AOt,rootPropertyName:"SyncItems"}},derivedAttrs:{isActive(){return this.get("status")===xOt}},augmentResponse:e=>(e.SyncItems&&(e.SyncItems=e.SyncItems.SyncItem),e),sync(e,t,n){const r=Mle.Z.addVersionHeaderForDevice(this.get("device"),n);return oA.Z.prototype.sync.call(this,e,t,r)},getCollection(){return this.get("syncItems")},resetToServer(e){const t=this.getCollection(),n=t.filter((function(t){const n=t.get("Server");return n&&n.machineIdentifier===e}));t.reset(t.clone(n).models)}},{statuses:kOt}),zOt=oA.Z.extend({name:"DeviceModel",context:["server"],rootPropertyName:"Device",url(){return"/devices/"+this.id+".xml"},syncedAttrs:{id:KO.Z.string,clientIdentifier:KO.Z.string,name:KO.Z.string,product:KO.Z.string,productVersion:KO.Z.string,platform:KO.Z.string,platformVersion:KO.Z.string,device:KO.Z.string,model:KO.Z.string,provides:KO.Z.list,screenResolution:KO.Z.string,screenDensity:KO.Z.string,lastSeenAt:KO.Z.integer},syncedRelations:{syncList:{relationClass:ROt,rootPropertyName:"SyncList",deferred:!0,options(){return{device:this}}}},supports(e){return-1!==this.get("provides").indexOf(e)}}),UOt=BT.Z.extend({name:"DeviceCollection",context:["server"],model:zOt,url:"/devices.xml",filterSyncDevices(e){const t=!!e&&e.get("isPlaylist"),n=this.filter((e=>{const n=e.get("syncList"),r=n&&n.get("version")>=2,i=t&&!r;return e.supports("sync-target")&&!i}));return this.clone(n)},filterByProducts(e){const t=this.filter((t=>S().contains(e,t.get("product"))));return this.clone(t)},filterByPlatforms(e){const t=this.filter((t=>S().contains(e,t.get("platform"))));return this.clone(t)},products(){const e=this.map((e=>e.get("product")));return S().uniq(e)}}),VOt=BT.Z.extend({name:"HomeUserCollection2",context:["server"],model:Rje.Z,url:"/api/home/users",parse(e){return this.convert(e,"User")}});var BOt=n(12152),FOt=n.n(BOt);const _Ot=oA.Z.extend({name:"InviteModel",context:["server"],rootPropertyName:"Invite",sessionAttrs:{isAccepting:KO.Z.boolean,isRemoving:KO.Z.boolean},syncedAttrs:{id:{type:KO.Z.string,save:!0},friend:KO.Z.boolean,home:KO.Z.boolean,server:KO.Z.boolean,friendlyName:KO.Z.string,username:KO.Z.string,email:KO.Z.string,thumb:KO.Z.string,createdAt:KO.Z.integer,Server:KO.Z.array},urlRoot:"/api/invites/requests",url(){let e;if(this.isNew())e=S().result(this,"urlRoot");else{const t=this.pick("friend","server","home");S().each(S().keys(t),(function(e){t[e]=t[e]?"1":"0"})),e=this.collection?S().result(this.collection,"url"):S().result(this,"urlRoot"),e=e.replace(/([^/])$/,"$1/")+encodeURIComponent(this.get("id")),e=E.Z.join(e,t)}return e},augmentResponse:e=>e.Server?((Array.isArray(e.Server)?e.Server:[e.Server]).forEach((e=>{e.numLibraries=(0,bUe.Z)(e.numLibraries)})),e):e,defaults:{isAccepting:!1,isRemoving:!1}}),HOt=BT.Z.extend({name:"InviteCollection",context:["server","subset"],model:_Ot,url(){return"/api/invites/"+this.subset},initialize(e,t){t||(t={}),this.subset=t.subset||"requests"},filterByHome(){const e=new(FOt())(this);return e.filterBy((e=>e.get("home"))),e},filterByFriends(){const e=new(FOt())(this);return e.filterBy((e=>!e.get("home"))),e}}),QOt=_oe.Z.extend({idAttribute:"key",whitelistedAttrs:["key","title","linked","maxLength"],convert:function(e){var t=S().isObject(e)?e:Hoe.Z.parseXML(e);return Hoe.Z.parseBoolean(t,["linked","maxLength"]),t},parse:function(e){var t=this.convert(e);return S().pick(t,this.whitelistedAttrs)}}),GOt=Koe.Z.extend({model:QOt,url:"/pms/social/networks",parse:function(e){return this.convert(e,"Directory")}}),WOt=oA.Z.extend({name:"SubscriptionPlanModel",context:["server"],rootPropertyName:"plan",syncedAttrs:{id:KO.Z.string,name:KO.Z.string,price:KO.Z.float,formattedPrice:KO.Z.string,currency:KO.Z.string}}),YOt=BT.Z.extend({name:"SubscriptionPlanCollection",context:["server"],model:WOt,url:"/api/subscriptions/plans"}),KOt=oA.Z.extend({name:"WebhookModel",syncedAttrs:{url:KO.Z.string},defaults:{url:""}}),qOt=BT.Z.extend({name:"WebhookCollection",context:["server"],model:KOt,url:"/api/v2/user/webhooks",responseType:iV.AV}),$Ot=oA.Z.extend({name:"UserFlexModel",context:["server"],sessionAttrs:{isHomeUsersPending:KO.Z.boolean.isRequired,isHomeUsersPopulated:KO.Z.boolean.isRequired,homeUsersError:KO.Z.object,socialNetworks:KO.Z.instanceOf(GOt).isRequired,isPlansPending:KO.Z.boolean.isRequired,isPlansPopulated:KO.Z.boolean.isRequired,plansError:KO.Z.object,isUpdatingUser:KO.Z.boolean.isRequired,updateUserError:KO.Z.object,isHomeDetailsPending:KO.Z.boolean,isHomeDetailsPopulated:KO.Z.boolean,homeDetailsError:KO.Z.object,isInvitesPending:KO.Z.boolean,isInvitesPopulated:KO.Z.boolean,invitesError:KO.Z.object,isSentInvitesPending:KO.Z.boolean,isSentInvitesPopulated:KO.Z.boolean,sentInvitesError:KO.Z.object,isWebhooksPending:KO.Z.boolean,isWebhooksPopulated:KO.Z.boolean,webhooksError:KO.Z.object,isUpdatingWebhooks:KO.Z.boolean,isRemovingWebhooks:KO.Z.boolean,updateWebhooksError:KO.Z.object},sessionRelations:{homeUsers:{relationClass:VOt},devices:{relationClass:UOt},cloudCompanions:{relationClass:TOt},announcements:{relationClass:OOt},homeDetails:{relationClass:YPt},invites:{relationClass:HOt},sentInvites:{relationClass:HOt,options:{subset:"requested"}},plans:{relationClass:YOt},webhooks:{relationClass:qOt}},defaults(){const e={server:this.server,parent:this};return{isHomeUsersPending:!1,isHomeUsersPopulated:!1,homeUsersError:null,socialNetworks:new GOt([],e),isPlansPending:!0,isPlansPopulated:!1,plansError:null,isUpdatingUser:!1,updateUserError:null,isHomeDetailsPending:!1,isHomeDetailsPopulated:!1,homeDetailsError:null,isInvitesPending:!1,isInvitesPopulated:!1,invitesError:null,isSentInvitesPending:!1,isSentInvitesPopulated:!1,sentInvitesError:null,isWebhooksPending:!1,isWebhooksPopulated:!1,webhooksError:null,isUpdatingWebhooks:!1,isRemovingWebhooks:!1,updateWebhooksError:null}}});const JOt="provider/providerIntegrations/initProviderIntegrations",XOt="provider/providerIntegrations/fetchProviderIntegrations",eAt="provider/providerIntegrations/pollProviderIntegrations",tAt="provider/providerIntegrations/integrationsOnboardingComplete",nAt="provider/providerIntegrations/createLocastAccount",rAt=((0,bc.Z)(JOt),(0,bc.Z)(XOt)),iAt=(0,bc.Z)(eAt);function aAt(e){return e.get("ui").get("providerIntegrations")}(0,bc.Z)(tAt),(0,bc.Z)(nAt);const sAt={[JOt](e,t,n){aAt(e).set({isIntegrationsOnboarding:!1,isIntegrationsPending:!1,isIntegrationsPopulated:!1,integrationsError:null,integrations:new HEt([],{server:(0,uC.SW)(e,t),provider:(0,uC.js)(e,t)})}),n(rAt())},[XOt]:(0,cC.Z)({key:"integrations",getModel:aAt}),[eAt](e,t,n){aAt(e).set("isIntegrationsOnboarding",!0),window.setTimeout((()=>{(0,fn.c9)((()=>{n(rAt())}))}),3e3)},[tAt](e){aAt(e).set("isIntegrationsOnboarding",!1)},[nAt](e,t,n){aAt(e).set("isIntegrationsOnboarding",!0),function(){const e=h().Deferred();return window.setTimeout((()=>{e.resolve()}),3e3),e}().then((()=>{n(iAt())}))}};var oAt=n(44693),lAt=n(92857),cAt=n(84656),dAt=n(87048),uAt=Object.defineProperty,pAt=Object.prototype.hasOwnProperty,mAt=Object.getOwnPropertySymbols,hAt=Object.prototype.propertyIsEnumerable,gAt=(e,t,n)=>t in e?uAt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,yAt=(e,t)=>{for(var n in t||(t={}))pAt.call(t,n)&&gAt(e,n,t[n]);if(mAt)for(var n of mAt(t))hAt.call(t,n)&&gAt(e,n,t[n]);return e};function vAt(e){return e.get("ui").get("dvrSettingsUI").get("dvrSetup")}function fAt(e){return vAt(e).get("epgSettings")}function bAt(e,t,n={}){const r=vAt(e),i=fAt(e),a=i.get(t);return a.abortPendingPopulate(),r.get("setupErrorMessages").remove("programGuideSettings"),i.set("isFetching",!0),a.fetch(n).done((()=>{i.set({isFetching:!1,isPopulated:!0})})).fail((()=>{i.set({isFetching:!1,isPopulated:!1}),r.get("setupErrorMessages").add({id:"programGuideSettings",message:(0,Ce.Z)("Unable to fetch Guide settings")})}))}const IAt=(0,VT.Z)({[RH.Mo](e){fAt(e).restoreDefaults()},[RH.Xx](e,t,n){const r=function(e,{serverEntityID:t}){return(0,dAt.Z)(e,Mn.cN,t)}(e,t);bAt(e,"countries").done((()=>{const e=r.get("countryCode");e&&n($fe(yAt(yAt({},t),{countryCode:e})))}))},[RH.W](e,t,n){const r=fAt(e);bAt(e,"languages").done((()=>{const e=r.get("selectedCountry");e&&n(Jfe(yAt(yAt({},t),{languageCode:e.get("language")})))}))},[RH.ei](e,t,n){const r=fAt(e),i=r.get("countries").get(t.countryCode);if(r.set({selectedCountry:i,postalCode:""}),r.get("regions").reset(),r.get("lineupGroup").get("lineups").reset(),i){const a=i.get("flavor"),s=E.Z.join([r.get("baseUrl"),i.get("key")]);n(qfe(yAt(yAt({},t),{languageCode:i.get("language")}))),0===a?bAt(e,"regions",{url:s}):2===a&&(r.set("postalCode",i.get("example")),n(tbe(t)))}},[RH.$F](e,t){const n=fAt(e),r=n.get("languages").get(t.languageCode);n.set("selectedLanguage",r)},[RH.SJ](e,t,n){const r=fAt(e),i=r.get("regions").get(t.regionKey);r.set("selectedRegion",i),r.get("lineupGroup").get("lineups").reset(),i&&n(tbe(t))},[RH.Hj](e,t){const n=fAt(e),r=t.postalCode;n.set("postalCode",r),n.get("lineupGroup").get("lineups").reset()},[RH.w](e){const t=fAt(e),n=t.get("selectedCountry"),r=[t.get("baseUrl"),n.get("key")],i={};0===n.get("flavor")?r.push(t.get("selectedRegion").get("key")):i.postalCode=t.get("postalCode"),bAt(e,"lineupGroup",{url:E.Z.join(r,i)})}});function SAt(e){return e.get("ui").get("background")}const MAt=(0,VT.Z)({[RH.Op](e,t){const{serverEntityID:n,providerEntityID:r,imageUrl:i,allowBlur:a=!0,allowLightPreset:s=!1}=t,o=SAt(e),l=n?(0,QT.SW)(e,t):void 0,c=r?(0,QT.js)(e,t):void 0;o.set({server:l,provider:c,imageUrl:i,allowLightPreset:s,allowBlur:a,isBackgroundPending:!1})},[RH.tL](e,t){const{serverEntityID:n,theme:r}=t,i=SAt(e),a=n?(0,QT.SW)(e,t):void 0,s=a&&r?a.resolveUrl(r,{appendHeaders:!0}):void 0;i.set("themeMusicUrl",s)},[RH.k4](e){SAt(e).restoreDefaults({isBackgroundPending:!0})}});var EAt=n(99051);const PAt={[fIt]:PIt[fIt],[bIt]:PIt[bIt],[IIt](e,t){const n=(0,uC.SW)(e,t),r=(0,uC.js)(e,t);let i;if(n.get("isTransient"))i=`#!/transient/provider/${encodeURIComponent(r.get("identifier"))}/details?key=${encodeURIComponent(t.key)}`;else{const e={machineIdentifier:n.get("machineIdentifier")},a={identifier:r.get("identifier"),isLibraryProvider:r.get("isLibraryProvider")};i=(0,li.Z)(e,a,t.key)}/\/transient\//.test(window.location.hash)?window.location.replace(i):window.location.hash=i}};var DAt=n(86526),CAt=n(7165);var wAt=Object.defineProperty,ZAt=Object.prototype.hasOwnProperty,TAt=Object.getOwnPropertySymbols,NAt=Object.prototype.propertyIsEnumerable,OAt=(e,t,n)=>t in e?wAt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,AAt=(e,t)=>{for(var n in t||(t={}))ZAt.call(t,n)&&OAt(e,n,t[n]);if(TAt)for(var n of TAt(t))NAt.call(t,n)&&OAt(e,n,t[n]);return e};const xAt={[vt.$y]:vt.gv[vt.$y],[vt.xd]:vt.gv[vt.xd],[vt.bj]:vt.gv[vt.bj],[vt.e4]:vt.gv[vt.e4],[vt.tf]:vt.gv[vt.tf],[vt.Rt]:vt.gv[vt.Rt],[vt.Si]:vt.gv[vt.Si],[vt.yt]:vt.gv[vt.yt],[vt.N9]:vt.gv[vt.N9],[vt.Bw]:vt.gv[vt.Bw],[vt.EJ](e,t,n){const r=(0,DAt.Z)(e,t),i=(0,PMt.Z)(r),a=t.playerType||Se.f_(i),s=(0,Wj.F_)(e,a),o=(0,uC.js)(e,t),l=(0,uC.SW)(e,t),c=(0,uC.$R)(e,t),d=e.get("user").get("experienceSettings"),u=(0,Ho.Z)(o.get("identifier"),o.get("providerIdentifier")),p=e.get("remotePlayer"),m=p&&!(0,Gj.Z)({protocol:p.get("protocol"),protocolCapabilities:p.get("protocolCapabilities"),providerIdentifier:u,userFeaturesByUUID:(0,kj.Z)(e),isWatchTogether:!!t.syncplaySessionRoomID,playQueueType:i}),h=e.get("user"),g=a===Se.eD&&(y=h.get("features").toJSON(),v=h.get("services").toJSON(),function(e,t){if(!t)return!0;const n=e.find((e=>e.type===t));return(null==n?void 0:n.state)===ut.GB.Active||(null==n?void 0:n.state)===ut.GB.PendingCancellation}(h.get("subscriptions").toJSON(),ut.A5.Arcade)?(0,yTt.Z)(v,"parsec")?/\bChrome\b/.test(window.navigator.userAgent)||Object.values(window.navigator.plugins).some((e=>/\bChromium\b/.test(e.name)))?y.find((({uuid:e})=>e===bn.ZM))?void 0:(0,Ce.Z)("Sorry, game playback is unavailable."):(0,Ce.Z)("Please use a Chromium-based browser for game playback."):(0,Ce.Z)("Please link your Plex and Parsec accounts then try again."):(0,Ce.Z)("An active Plex Arcade subscription is required for game playback."));var y,v;let f,I;if(m?f=(0,Ce.Z)("This content is not currently supported when connected to this remote player."):g&&(f=g),f)return void(0,fn.c9)((()=>{s.set({hasError:!0,errorMessage:f})}));I=s.get("isOpen")?s.get("openState"):i===Ja.j0?Fj.y:Fj.K,(0,CAt.Z)()&&Fo.wB(u,[Fo.uk])&&(I=Fj.K);let S=!1;i===Ja.pV&&t.metadataItemEntityID&&(S=c.get("type")===Ac.PHOTO);let M=t.metricsProperties||{};(function(e){const t=(0,b.DB)("appModel").get("embeddedServer");return!!e&&!!t&&e.get("machineIdentifier")===t.get("machineIdentifier")})(l)&&(M=AAt(AAt({},M),{origin:"sync"})),M.identifier||(M.identifier=o.get("metricsIdentifier")),vt.gv[vt.EJ](e,AAt(AAt({extrasPrefixCount:d.get("extrasPrefixCount"),openState:I,isPaused:S},t),{metricsProperties:M}),n)},[vt.l5](e,t,n){vt.gv[vt.l5](e,AAt({openState:Fj.y},t),n)},[vt.qG](e,t,n){const r=(0,Wj.F_)(e,t.playerType),i=r.get("serverEntityID"),a=r.get("providerEntityID"),s=(0,uC.SW)(e,{serverEntityID:i}),o=(0,uC.js)(e,{providerEntityID:a});vt.gv[vt.qG](e,t,n),s&&o&&n(_v.actions.ended({source:(0,yn.Z)({serverIdentifier:s.get("machineIdentifier"),providerIdentifier:o.get("identifier")})}))}};var jAt=n(58042),LAt=n(73054);function kAt(e){return e.get("ui").get("playlistPage")}const RAt=(0,VT.Z)({[RH.KG](e,t){const n=kAt(e),r=(0,QT.SW)(e,t),i=(0,uC.js)(e,t),{serverEntityID:a,providerEntityID:s,metadataKey:o}=t;if(a===n.get("serverEntityID")&&s===n.get("providerEntityID")&&o===n.get("metadataKey"))return;const l=new lC.Z({key:o,type:Ac.PLAYLIST},{server:r,provider:i});n.restoreDefaults({serverEntityID:a,providerEntityID:s,metadataKey:o,playlist:l})},[RH.Yx](e,t){const n=kAt(e),r=(0,QT.SW)(e,t),i=(0,uC.js)(e,t),a=n.get("playlist"),{serverEntityID:s,metadataKey:o}=t;if(s===n.get("serverEntityID")&&o===n.get("metadataKey")&&n.get("playlistItemList"))return;const l=(0,MX.Z)(e,bn.Ao),c=a.get("childrenKey"),d=new PPt.Z({containerKey:c},{server:r,provider:i,includeExternalMedia:l});n.set({playlistItemList:d})},[RH.zx](e,t){const n=kAt(e),r=n.get("playlistItemList");r&&(r.restoreDefaults(),n.unset("playlistItemList"))},[RH.PL]:(0,cC.Z)({key:"playlist",getModel:kAt}),[RH.yc]:(0,jAt.Z)({key:"playlistItemList",getModel:kAt}),[RH.pQ]:(0,LAt.Z)({key:"playlistItemList",getModel:kAt}),[RH.N2](e,t,n){const{id:r,type:i,isRangeSelect:a=!1}=t,s=(0,QT.Tp)(e,{playlistItemEntityID:r}),o=kAt(e).get("playlistItemList").getCollection();s&&n((0,nf.Gh)({type:i,model:s,collection:o,isRangeSelect:a}))},[RH.Dn](e,t,n){const r=(0,QT.Tp)(e,{playlistItemEntityID:t.id});r&&n((0,nf.Ib)([r.id]))},[RH.gS](e,t){const n=(0,QT.Tp)(e,t),r=kAt(e).get("playlistItemList"),i=r.getCollection(),a=i.indexOf(n),s=t.moveIndex,o=s-1;if(a===s||a===o)return;const l=s>a?s-1:s,c=E.Z.join([r.get("containerKey"),n.get("playlistItemID"),"move"],o>=0?`after=${i.at(o).id}`:void 0),d=n.provider.getXHROptions(c,{type:"PUT"});(0,fn.c9)((()=>{i.remove(n),i.add(n,{at:l}),h().ajax(d).fail((()=>{i.indexOf(n)===l&&(i.remove(n),i.add(n,{at:a}))}))}))},[RH.fu](e,t,n){const r=(0,QT.Tp)(e,t),i=kAt(e).get("playlistItemList"),a=E.Z.join([i.get("containerKey"),r.get("playlistItemID")]);r.destroy({url:a}).fail((()=>{n((0,ZC.wp)((0,Ce.Z)("There was an unexpected error removing this item.")))}))},[RH.GN](e,t,n){const r=kAt(e).get("playlistItemList"),i=r.get("containerKey"),a=r.getCollection(),s=e.get("ui").get("multiSelect").get("activeSelectionItems").pluck("id");let o=h().Deferred().resolve().promise();s.forEach((e=>{const t=a.get(e),n=E.Z.join([i,e]);o=o.then((()=>t.destroy({url:n,wait:!0})))})),o.fail((()=>{n((0,ZC.wp)((0,Ce.Z)("There was an unexpected error removing an item.")))}))},[Nl.RATE_METADATA_ITEM](e,t,n){const{providerEntityID:r,rating:i}=t,a=kAt(e),s=a.get("playlist");if(!s)return;const o=a.get("playlistItemList");"favorites"===s.get("specialPlaylistType")&&r===a.get("providerEntityID")&&(i!==Oc.jt&&i!==Oc.LX||n(hX({count:o.get("currentPageSize")})))}}),zAt="ui/playlistsPage/initPlaylistPage",UAt="ui/playlistsPage/fetchSorts",VAt="ui/playlistsPage/populateSorts",BAt="ui/playlistsPage/fetchLibraryDetails",FAt="ui/playlistsPage/populateLibraryDetails",_At=((0,bc.Z)(zAt),(0,bc.Z)(UAt)),HAt=((0,bc.Z)(VAt),(0,bc.Z)(BAt));function QAt(e){return e.get("ui").get("playlistsPage")}(0,bc.Z)(FAt);const GAt={[zAt](e,t){const n=QAt(e),r=(0,QT.SW)(e,t),i=(0,uC.js)(e,t),{serverEntityID:a,libraryKey:s,containerKey:o}=t,l=a===n.get("serverEntityID"),c=s===n.get("libraryKey"),d=o===n.get("containerKey");if(l&&c&&d)return;const u=new qO.Z({containerKey:o},{server:r,provider:i});let p=n.get("libraryDetails"),m=n.get("sorts");l&&c||(p=s&&new CPt.Z({key:s},{server:r,provider:i}),m=new wPt.Z([],{url:"/playlists/sorts",server:r})),n.restoreDefaults({serverEntityID:a,libraryKey:s,containerKey:o,playlists:u,libraryDetails:p,sorts:m})},[BAt]:(0,cC.Z)({key:"libraryDetails",getModel:QAt}),[FAt]:(0,dC.Z)({key:"libraryDetails",fetchActionCreator:HAt,getModel:QAt}),[UAt]:(0,cC.Z)({key:"sorts",getModel:QAt}),[VAt]:(0,dC.Z)({key:"sorts",fetchActionCreator:_At,getModel:QAt}),[ZC._z](e,t,n){const{metadataItemEntityID:r,containerKeyPattern:i}=t,a=(0,QT.SW)(e,t),s=QAt(e).get("playlists");r||s&&s.server===a&&i&&s.get("containerKey").match(i)&&n((0,iC.u6)({metadataListEntityID:s.entityID()}))}};var WAt=n(35871);function YAt(e){return e.get("ui").get("timelinePage")}function KAt(e,t){const n=YAt(e),r=(0,QT.SW)(e,t),i=(0,QT.js)(e,t),a=n.get("momentList");a.fetch().done((()=>{const e=a.get("key")||"empty",t=n.get("metadataList");let s;s=t&&t.server===r&&t.get("containerKey")===e?t:new qO.Z({containerKey:e},{server:r,provider:i}),n.set({isMomentListPending:!1,isMomentListPopulated:!0,momentListError:null,metadataList:s})})).fail(((e,t)=>{n.set({isMomentListPending:!1,momentListError:t})}))}const qAt=(0,VT.Z)({[RH.Mv](e,t){const n=YAt(e),r=(0,QT.SW)(e,t),i=(0,QT.js)(e,t),{serverEntityID:a,providerEntityID:s,libraryKey:o,momentKey:l}=t;if(a===n.get("serverEntityID")&&s===n.get("providerEntityID")&&l===n.get("momentKey"))return;const c=new CPt.Z({key:o},{server:r,provider:i}),d=new jPt({momentKey:l},{server:r,provider:i});n.restoreDefaults({serverEntityID:a,providerEntityID:s,details:c,momentKey:l,momentList:d}),KAt(e,t)},[RH.TA](e){YAt(e).set({momentKey:""})},[RH.cW]:(0,cC.Z)({key:"details",getModel:YAt}),[RH.PG]:(0,dC.Z)({key:"details",fetchActionCreator:VH,getModel:YAt}),[ZC._z](e,t){const{metadataItemEntityID:n,containerKeyPattern:r}=t,i=(0,QT.$w)(e,t),a=(0,QT.lp)(e,t),s=YAt(e),o=s.get("metadataList"),l=s.get("momentKey");if(n)return;if(!l||!o||o.server!==i||o.provider!==a)return;const c=o.get("containerKey");c&&(r&&!c.match(r)||KAt(e,t))}});var $At=Object.defineProperty,JAt=Object.prototype.hasOwnProperty,XAt=Object.getOwnPropertySymbols,ext=Object.prototype.propertyIsEnumerable,txt=(e,t,n)=>t in e?$At(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,nxt=(e,t)=>{for(var n in t||(t={}))JAt.call(t,n)&&txt(e,n,t[n]);if(XAt)for(var n of XAt(t))ext.call(t,n)&&txt(e,n,t[n]);return e};const rxt=nxt(nxt({},ZC.J0),{[ZC.Rw](e,t){le.Z.trigger("show:alert",t)}}),ixt=[$Ae,Rwe,PZe,mt.CC,oN.Kq,UT.Iy,KCe,Nl.metadataActionHandlers,iC.q9,nf.tv,LWe,uw,sAt,LR,Hqe,_K.VV,o$.fv,rxt,MAt,XX,qAt,GAt,uGe,RAt,zA,iPe,Q7,oAt.b4,lAt.zr,wee,WAt.lo,wLe,EAt.W7,Sn.quickSearchActionHandlers,v$e,sN,Fye.on,IAt,HV,cAt.yd,u8e,A1e.wy,a1e.ek,Ol.Wm,xAt,fat,flt,kL,KUe,PAt,_4e];n(75580);const axt="vote/leader";function sxt(e){try{return window.localStorage.getItem(e)}catch(t){M.Z.debug(`[Vote] Unable to get ${e} from storage due to error:`,t.message)}}function oxt(e,t){try{return window.localStorage.setItem(e,t)}catch(n){M.Z.debug(`[Vote] Unable to set ${e}: ${t} in storage due to error:`,n.message)}}function lxt(e){try{return window.localStorage.removeItem(e)}catch(t){M.Z.debug(`[Vote] Unable to remove ${e} from storage due to error:`,t.message)}}const cxt={id:null,time:null},dxt=function(){const e=function({id:e=(0,$me.Z)(),getItem:t=sxt,setItem:n=oxt,remove:r=lxt,electionDuration:i=500,maxLeaderAge:a=9e4,minLeaderRefreshDuration:s=1e4}){function o(t=Date.now()){return l(t).id===e}function l(e){try{const{id:n,time:r}=JSON.parse(t(axt));return e-r<a?{id:n,time:r}:cxt}catch(e){return cxt}}let c,d=!1;function u(){window.clearTimeout(c),c=window.setTimeout((()=>{const t=Date.now(),{id:n}=l(t);if(n){const t=n===e;t!==d&&(M.Z.debug(t?`[Vote:${e}] Elected`:`[Vote:${e}] Unelected`),m.leaderStatusChanged.forEach((e=>e(t)))),d=t}else M.Z.debug(`[Vote:${e}] Election ended with no leader found`),p(t)}),i)}function p(t=Date.now()){const{id:r,time:i}=l(t);r===e&&t-i>s?(M.Z.debug(`[Vote:${e}] Upvote, refreshing my leader time`),n(axt,JSON.stringify({time:t,id:e}))):r===e?M.Z.debug(`[Vote:${e}] Upvote, chilling since leader time is fresh`):r?M.Z.debug(`[Vote:${e}] Upvote, someone else is leader`):(M.Z.debug(`[Vote:${e}] Upvote, becoming leader`),n(axt,JSON.stringify({time:t,id:e}))),u()}const m={[ggt]:[]};return{on:function(e,t){m[e].push(t)},off:function(e,t){m[e]=m[e].filter((e=>e!==t))},isLeader:o,up:p,down:function(t=Date.now()){o(t)?(M.Z.debug(`[Vote:${e}] Downvote, stepping down as leader`),r(axt)):M.Z.debug(`[Vote:${e}] Downvote, chilling since someone else is leader`),u()}}}({maxLeaderAge:9e4});return window.addEventListener("storage",(t=>{t.key===axt&&e.up()})),window.addEventListener("beforeunload",(()=>{e.down()})),e.up(),window.setInterval(e.up,6e4),e},uxt=Dgt.extend({name:"PersistentWebStorage",getStorage:()=>window.localStorage}),pxt=Dgt.extend({name:"VolatileWebStorage",getStorage:()=>window.sessionStorage});var mxt=n(16475);const hxt={};function gxt(e){return null==e?"":e}function yxt(e,...t){let n,r=1;const i=t.length;for(;r<=i;)n=hxt[r],n||(n=new RegExp((0,k.Z)(`{${r}}`),"g"),hxt[r]=n),e=e.replace(n,gxt(t[r-1])),r++;return e}const vxt={languages:{en:"en.json","en-GB":"en-GB.json",af:"af.json",my:"my.json",ca:"ca.json",cs:"cs.json",sr:"sr.json",da:"da.json",de:"de.json",et:"et.json",es:"es.json","es-419":"es-419.json",el:"el.json",fr:"fr.json","fr-CA":"fr-CA.json",hr:"hr.json",is:"is.json",it:"it.json",lt:"lt.json",hu:"hu.json",nl:"nl.json",no:"no.json",pl:"pl.json",pt:"pt.json","pt-BR":"pt-BR.json",ru:"ru.json",ro:"ro.json",sk:"sk.json",sl:"sl.json",fi:"fi.json",sv:"sv.json",vi:"vi.json",tr:"tr.json",uk:"uk.json",bg:"bg.json",zh:"zh.json","zh-TW":"zh-TW.json",ja:"ja.json",ko:"ko.json",th:"th.json",fa:"fa.json",ar:"ar.json",he:"he.json"},loadingPromise:null,loadingLanguage:null,getLanguages:function(){return this.languages},getTranslation:function(e){if(this.translations[this.language])return this.translations[this.language][e]},t:(fxt=function(e,...t){return this.getTranslation(e,...t)},function(e,...t){return function(e,...t){return S().isObject(t[0])?function(e,t){return e.replace(/\{([a-z0-9]+?)\}/gi,((e,n)=>t.hasOwnProperty(n)?gxt(t[n]):e))}(e,t[0]):S().isObject(t[t.length-1])?(t.pop(),yxt(e,...t)):yxt(e,...t)}(function(e,...t){if(!e)return"";const n=t[t.length-1];return S().isObject(n)&&n&&n.escape?S().escape(e):e}(fxt.call(this,e)||e,e,...t),...t)}),load:function(e){if(this.loadingLanguage&&this.loadingLanguage===e)return this.loadingPromise;const t=this.getLanguages();let n;return n=S().has(t,e)?S().has(this.translations,e)?h().Deferred().resolve().promise():h().ajax({dataType:"json",url:E.Z.join([this.basePath,t[e]])}):h().Deferred().reject().promise(),this.loadingLanguage=e,this.loadingPromise=n,n.done(S().bind(this.onLoadSuccess,this,n)),n.fail(S().bind(this.onLoadError,this,n)),n},onLoadSuccess:function(e,t){const n=this.loadingLanguage;e===this.loadingPromise&&(this.loadingPromise=null,this.loadingLanguage=null,this.language=n,t&&(this.translations[n]=t))},onLoadError:function(e){e===this.loadingPromise&&(this.loadingPromise=null,this.loadingLanguage=null)}};var fxt,bxt=n(16487);const Ixt=oe.Z.extend({mixins:vxt,constructor:function(){this.basePath=E.Z.join(["/web/","translations"]),this.translations={},(0,b.X_)("appModel").done(this.onAppModelRegistered.bind(this))},_repopulateProviders(){const e=(0,b.DB)("appModel"),t=e.get("servers").map((t=>{if(t.get("isCloud")){const t=e.get("user").get("providers");return(0,Uxe.Z)(t.map((e=>((0,b.DB)("appStore").dispatch(PC({providerEntityID:e.entityID(),options:{merge:!0}})),(0,bxt.Z)(e)))))}if(t.get("isConnected"))return(0,b.DB)("appStore").dispatch((0,wC.lm)({serverEntityID:t.entityID(),options:{merge:!0}})),(0,bxt.Z)(t)}));return(0,Uxe.Z)(t)},onAppModelRegistered(){}}).extend({onAppModelRegistered(e){e.on("change:user.change:experienceSettings.change:language",((e,t)=>{this.load(t).done((()=>{Lze.Z.setOption("language",t),this._repopulateProviders()}))}))}}),Sxt=function(){EUe.Z.register(new Ixt)},Mxt={init(){const e=(0,b.DB)("appModel"),t=`${window.innerWidth}x${window.innerHeight}`,n=`${window.screen.width}x${window.screen.height}`,r={"X-Plex-Product":"Plex Web","X-Plex-Version":"4.57.4","X-Plex-Client-Identifier":e.get("clientID"),"X-Plex-Platform":wVe.Z.name,"X-Plex-Platform-Version":wVe.Z.version,"X-Plex-Sync-Version":2,"X-Plex-Features":"external-media,indirect-media","X-Plex-Model":"bundled","X-Plex-Device":wVe.Z.platform,"X-Plex-Device-Name":wVe.Z.name,"X-Plex-Device-Screen-Resolution":`${t},${n}`};return e.on("change:clientID",((e,t)=>{r["X-Plex-Client-Identifier"]=t})),h().Deferred().resolve(r).promise()}};var Ext=n(30236),Pxt=n.n(Ext),Dxt=n(60495),Cxt=Object.defineProperty,wxt=Object.prototype.hasOwnProperty,Zxt=Object.getOwnPropertySymbols,Txt=Object.prototype.propertyIsEnumerable,Nxt=(e,t,n)=>t in e?Cxt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Oxt=(e,t)=>{for(var n in t||(t={}))wxt.call(t,n)&&Nxt(e,n,t[n]);if(Zxt)for(var n of Zxt(t))Txt.call(t,n)&&Nxt(e,n,t[n]);return e};const Axt={maxWidth:1920,maxHeight:1080,maxBitDepth:10},xxt={maxWidth:4096,maxHeight:2160,maxBitDepth:10},jxt=`width="${Axt.maxWidth}"; height="${Axt.maxHeight}"`,Lxt=`width="${xxt.maxWidth}"; height="${xxt.maxHeight}"`;function kxt(e){if(!Dxt.Z)return!1;const t=(0,rvt.Vq)("video",!0),n=t.canPlayType(e);return(0,rvt.u$)(t),"probably"===n}function Rxt(e){var t,n,r;return!!Dxt.Z&&null!=(r=null==(n=null==(t=window.MediaSource)?void 0:t.isTypeSupported)?void 0:n.call(t,e))&&r}function zxt(e,t){if(Array.isArray(e))return Array.from(new Set(e.concat(t)))}function Uxt(e,t){return(n,r)=>{e(n)&&Pxt()(t,r,zxt)}}function Vxt({canDirectPlay:e,canDirectStream:t}={canDirectPlay:kxt,canDirectStream:Rxt}){const n={video:{directPlay:{},directStream:{}}},r=Uxt(e,n),i=Uxt(t,n);return r(`video/mp4; codecs="hvc1"; ${jxt}`,{video:{directPlay:{mp4:{video:{codecs:{hevc:Oxt(Oxt({},Axt),{codecID:["hvc1"]})}}}}}}),r(`video/mp4; codecs="hev1"; ${jxt}`,{video:{directPlay:{mp4:{video:{codecs:{hevc:Oxt(Oxt({},Axt),{codecID:["hev1"]})}}}}}}),r(`video/mp4; codecs="hvc1"; ${Lxt}`,{video:{directPlay:{mp4:{video:{codecs:{hevc:Oxt(Oxt({},xxt),{codecID:["hvc1"]})}}}}}}),r(`video/mp4; codecs="hev1"; ${Lxt}`,{video:{directPlay:{mp4:{video:{codecs:{hevc:Oxt(Oxt({},xxt),{codecID:["hev1"]})}}}}}}),i(`video/mp4; codecs="hvc1"; ${jxt}`,{video:{directStream:{video:{codecs:{hevc:Axt}}}}}),i(`video/mp4; codecs="hev1"; ${jxt}`,{video:{directStream:{video:{codecs:{hevc:Axt}}}}}),i(`video/mp4; codecs="dvhe"; ${jxt}`,{video:{directStream:{video:{codecs:{hevc:Axt}}}}}),i(`video/mp4; codecs="hvc1"; ${Lxt}`,{video:{directStream:{video:{codecs:{hevc:xxt}}}}}),i(`video/mp4; codecs="hev1"; ${Lxt}`,{video:{directStream:{video:{codecs:{hevc:xxt}}}}}),i(`video/mp4; codecs="dvhe"; ${Lxt}`,{video:{directStream:{video:{codecs:{hevc:xxt}}}}}),n}var Bxt=Object.defineProperty,Fxt=Object.prototype.hasOwnProperty,_xt=Object.getOwnPropertySymbols,Hxt=Object.prototype.propertyIsEnumerable,Qxt=(e,t,n)=>t in e?Bxt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Gxt=(e,t)=>{for(var n in t||(t={}))Fxt.call(t,n)&&Qxt(e,n,t[n]);if(_xt)for(var n of _xt(t))Hxt.call(t,n)&&Qxt(e,n,t[n]);return e};const Wxt={registerAll(){const e=Mxt.init();e.done((e=>L.Z.register(e)));const t=new uxt;YAe.Z.register(t),wgt.register(new pxt),Sxt();const n=function(){const e={maxWidth:1920,maxHeight:1280},t={maxWidth:4096,maxHeight:2160},n=`width="${e.maxWidth}"; height="${e.maxHeight}"`,r=`width="${t.maxWidth}"; height="${t.maxHeight}"`,i=Gxt(Gxt({},e),{maxFrameRate:60}),a={capabilities:{embed:!0,redirect:!0},video:{lowestQualityIndex:2,protocols:{hls:{mimeType:"application/x-mpegURL"}},directPlay:{generic:{video:Gxt({},i)},mp4:{mimeType:'video/mp4; codecs="avc1.42E01E"',video:{codecs:{h264:{}}},audio:{codecs:{aac:{}}}},ogg:{mimeType:"video/ogg"},mpegts:{protocol:"hls"},flv:{}},directStream:{video:Gxt(Gxt({},i),{maxBitDepth:8,codecs:{h264:{}}}),audio:{codecs:{aac:{}},maxBitrate:192,maxChannels:2}}},music:{directPlay:{mp4:{mimeType:'audio/mp4; codecs="mp4a.40.5"',audio:{codecs:{aac:{}}}},mp3:{audio:{codecs:{mp3:{}}}},ogg:{mimeType:'audio/ogg; codecs="vorbis"',audio:{codecs:{vorbis:{}}}},wav:{mimeType:"audio/wav",audio:{codecs:{pcm:{}}}},flac:{mimeType:"audio/flac",audio:{codecs:{flac:{}}}}},directStream:{audio:{codecs:{aac:{}},maxBitrate:320,maxChannels:2}}}},s=[{types:[`video/mp4; codecs="avc1.42E01E"; ${r}`],fragment:{video:{directPlay:{mp4:{video:{codecs:{h264:t}}}},directStream:{video:{codecs:{h264:t}}}}}},{types:[`video/webm; codecs="vp8, opus"; ${n}`],fragment:{video:{directPlay:{mkv:{mimeType:"video/webm",video:{codecs:{vp8:e}},audio:{codecs:{opus:{}}}}}}}},{types:[`video/webm; codecs="vp8, vorbis"; ${n}`],fragment:{video:{directPlay:{mkv:{mimeType:"video/webm",video:{codecs:{vp8:e}},audio:{codecs:{vorbis:{}}}}}}}},{types:[`video/webm; codecs="vp9, opus"; ${n}`],fragment:{video:{directPlay:{mkv:{mimeType:"video/webm",video:{codecs:{vp9:e}},audio:{codecs:{opus:{}}}}}}}},{types:[`video/webm; codecs="vp9, vorbis"; ${n}`],fragment:{video:{directPlay:{mkv:{mimeType:"video/webm",video:{codecs:{vp9:e}},audio:{codecs:{vorbis:{}}}}}}}},{types:[`video/webm; codecs="vp8, opus"; ${r}`],fragment:{video:{directPlay:{mkv:{mimeType:"video/webm",video:{codecs:{vp8:t}},audio:{codecs:{opus:{}}}}}}}},{types:[`video/webm; codecs="vp8, vorbis"; ${r}`],fragment:{video:{directPlay:{mkv:{mimeType:"video/webm",video:{codecs:{vp8:t}},audio:{codecs:{vorbis:{}}}}}}}},{types:[`video/webm; codecs="vp9, opus"; ${r}`],fragment:{video:{directPlay:{mkv:{mimeType:"video/webm",video:{codecs:{vp9:t}},audio:{codecs:{opus:{}}}}}}}},{types:[`video/webm; codecs="vp9, vorbis"; ${r}`],fragment:{video:{directPlay:{mkv:{mimeType:"video/webm",video:{codecs:{vp9:t}},audio:{codecs:{vorbis:{}}}}}}}},{types:['audio/mp4; codecs="alac"'],predicate:o,fragment:{music:{directPlay:{mp4:{audio:{codecs:{alac:{}}}}}}}}];function o(e){const t=(0,rvt.Vq)("video",!0),n=t.canPlayType(e);return(0,rvt.u$)(t),"probably"===n}const l=window.MediaSource&&window.MediaSource.isTypeSupported?window.MediaSource.isTypeSupported:o;if(s.forEach((e=>{const t=e.predicate||l;e.types.some(t)?(M.Z.debug("[Player] Types %o provided %o",e.types,e.fragment),h().extend(!0,a,e.fragment)):M.Z.debug("[Player] Types %o are unsupported",e.types)})),"safari"===wVe.Z.id&&(0,lb.Z)(wVe.Z.platformVersion,"10.11")){const e={codecs:{ac3:{},eac3:{}}};h().extend(!0,a.video,{directPlay:{mp4:{audio:e}},directStream:{audio:e}})}return h().extend(!0,a,Vxt()),M.Z.debug("[Player] Final player profile %o",a),a}(),r={audioCapabilities:[{contentType:'audio/mp4; codecs="flac"'}]},i=Wyt().then((e=>{const t=mxt.Z[e];return Gyt(r,[t])})).then((()=>{Pj.register(h().extend(!0,{},n,{music:{directPlay:{mp4:{audio:{codecs:{flac:{}}}}}}}))}),(()=>{Pj.register(n)}));return(0,Uxe.Z)([e,i])}};function Yxt(){const e=document.documentElement,t=e.requestFullScreen||e.webkitRequestFullScreen||e.mozRequestFullScreen||e.msRequestFullscreen,n=document.cancelFullScreen||document.webkitCancelFullScreen||document.mozCancelFullScreen||document.msExitFullscreen,r=!(!t||!n);return{hasFullscreen:r,shouldExitOnPlayerClose:!0,initialize(e){const{dispatchEnterFullscreen:t,dispatchExitFullscreen:n}=e;function r(){document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement?t():n()}return r(),document.addEventListener("fullscreenchange",r),document.addEventListener("webkitfullscreenchange",r),document.addEventListener("mozfullscreenchange",r),document.addEventListener("MSFullscreenChange",r),h().Deferred().resolve().promise()},enter(){r&&t.call(e)},exit(){r&&n.call(document)}}}var Kxt=n(66747),qxt=n(18547),$xt=n(67470),Jxt=n(66822),Xxt=Object.defineProperty,ejt=Object.prototype.hasOwnProperty,tjt=Object.getOwnPropertySymbols,njt=Object.prototype.propertyIsEnumerable,rjt=(e,t,n)=>t in e?Xxt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ijt=(e,t)=>{for(var n in t||(t={}))ejt.call(t,n)&&rjt(e,n,t[n]);if(tjt)for(var n of tjt(t))njt.call(t,n)&&rjt(e,n,t[n]);return e};const ajt={volume:!0,shuffle:!0,quality:!0,audioStream:!0,videoStream:!0,subtitleStream:!0,subtitleColor:!0,subtitlePosition:!0,subtitleSize:!0,subtitleOffset:!0,skipPrevious:!0,skipNext:!0,autoPlay:!0,seekTo:!0,stepBack:!0,stepForward:!0,stop:!0,playPause:!0,repeat:!0},sjt=ijt(ijt({},ajt),{seekTo:!1});function ojt(e,t){const n=t.dispatch;let r,i,a,s=!1,o=0,l=0,c=null,d={},u={};window.__onGCastApiAvailable=function(e){const t=!!(e&&window.cast&&window.chrome&&window.chrome.cast);if(n(GUe((t?2:(0,Jxt.Z)()&&3)||1)),!t)return void M.Z.warn("[Cast] API is not available");const r=window.cast.framework,i=h();i.setOptions({receiverApplicationId:m(),autoJoinPolicy:window.chrome.cast.AutoJoinPolicy.ORIGIN_SCOPED}),i.addEventListener(r.CastContextEventType.SESSION_STATE_CHANGED,D)},(0,Jxt.Z)()&&n(GUe(3));const p=document.createElement("script");function m(){const t=e.get("deviceSettings"),n=t.get("chromecastAppID"),r=t.get("chromecastCustomAppID");return n===dVe.CUSTOM&&r?r:n||dVe.PRODUCTION}function h(){if(2===e.get("castApiAvailability"))return window.cast.framework.CastContext.getInstance()}function g(){if(i)return i.customData}function y(e){return e.isMute()?0:Math.round(100*e.getVolume())}function v(e){if(!e)return;const{customData:t,media:n}=e;if(t&&t.playQueueType)return t.playQueueType;if(n&&n.metadata&&n.metadata.metadataType){const e=window.chrome.cast.media.MetadataType;switch(n.metadata.metadataType){case e.MOVIE:case e.TV_SHOW:return Ja.pX;case e.MUSIC_TRACK:return Ja.j0;case e.PHOTO:return Ja.pV}}}function f(e){if(!e)return;const{customData:t}=e;return t.playbackSessionID}function b(e){const t=g();if(t){const{mediaIndex:r,partIndex:a,adState:s,adTime:o,adDuration:l,liveTVSessionSubscriptionKey:c,liveTVSessionStartedAt:d,liveTVSessionSeekRangeStartedAt:u,liveTVSessionSeekStartSeconds:p,liveTVSessionSeekEndSeconds:m,liveTVSessionCurrentPosition:h,liveTVSessionChannelIdentifier:g,server:y,providerIdentifier:f,isPostPlay:b}=t,I=ijt({},b?sjt:ajt);y.machineIdentifier===Hj.X&&delete I.quality,f&&Fo.wB(f,[Fo.Ll,Fo.vP])&&(delete I.autoPlay,delete I.subtitleColor,delete I.subtitlePosition,delete I.subtitleSize,delete I.subtitleOffset),n(bL({playQueueType:v(i),playerState:ijt(ijt({},e),{mediaIndex:r,partIndex:a,adState:s,adPositionSeconds:Math.round(o/1e3||0),adDurationSeconds:Math.round(l/1e3||0),controllable:I}),liveTVSessionSubscriptionKey:c,liveTVSessionStartedAt:d,liveTVSessionSeekRangeStartedAt:u,liveTVSessionSeekStartSeconds:p,liveTVSessionSeekEndSeconds:m,liveTVSessionCurrentPosition:h,liveTVSessionChannelIdentifier:g,providerIdentifier:f,machineIdentifier:y.machineIdentifier}))}}function I(){l&&l--}function P(){o&&o--}function D(e){const t=window.cast.framework,{session:i,sessionState:a,errorCode:s}=e;switch(a){case t.SessionState.NO_SESSION:(0,M.Z)("[Cast] Session is not established");break;case t.SessionState.SESSION_STARTED:(0,M.Z)("[Cast] Session is established");break;case t.SessionState.SESSION_START_FAILED:(0,M.Z)(`[Cast] Session failed to start with code "${s}"`);break;case t.SessionState.SESSION_RESUMED:(0,M.Z)("[Cast] Connection to an already existing session is established");break;case t.SessionState.SESSION_ENDED:M.Z.warn("[Cast] Session has disconnected")}switch(r&&(r.removeEventListener(t.SessionEventType.MEDIA_SESSION,C),i.removeEventListener(t.SessionEventType.VOLUME_CHANGED,T)),d={},u={},a){case t.SessionState.NO_SESSION:case t.SessionState.SESSION_START_FAILED:case t.SessionState.SESSION_ENDED:w(!1),r=null,n(TL());break;case t.SessionState.SESSION_STARTED:case t.SessionState.SESSION_RESUMED:{r=i,i.addEventListener(t.SessionEventType.MEDIA_SESSION,C),i.addEventListener(t.SessionEventType.VOLUME_CHANGED,T),n(YUe(ijt(ijt({},i.getCastDevice()),{volume:y(i)})));const e=i.getMediaSession();e&&C({mediaSession:e});break}}}function C({mediaSession:e}){i&&i.removeUpdateListener(w),i=e,e.addUpdateListener(w),d={},u={}}function w(e){const t=window.chrome.cast.media.PlayerState,r=v(i);if(r!==c&&c&&((0,M.Z)("[Cast] play queue type changed from %o to %o, idling old player",c,r),d[c]=null,u[c]=null,n(ZL({playQueueType:c}))),c=r,i&&e&&!s){const{playerState:e,currentTime:r,media:s}=i;b({isPaused:e===t.PAUSED,isBuffering:e===t.BUFFERING,positionSeconds:Math.round(r||0),durationSeconds:Math.round(s.duration||0),playbackSessionID:f(i)}),function(){const e=window.chrome.cast.media.PlayerState,t=g();if(!t)return;const{containerKey:r,key:a,playQueueItemID:s,playQueueVersion:o,mediaIndex:l,partIndex:c,bitrate:p,server:m,providerIdentifier:h}=t,y=v(i),f=d[y],b=u[y],I=s!==f||o!==b;d[y]=s,u[y]=o,n(fL({playQueueType:v(i),options:{machineIdentifier:m.machineIdentifier,providerIdentifier:h,containerKey:r,key:a,mediaIndex:l,shouldRefreshPlayQueue:I,playQueueItemID:s,bitrate:p,initialState:{isPaused:i.playerState===e.PAUSED,isBuffering:i.playerState===e.BUFFERING,positionSeconds:Math.round(i.currentTime||0),durationSeconds:Math.round(i.media.duration||0),mediaIndex:l,partIndex:c}}}))}(),function(){const e=g();if(!e)return;const{mediaIndex:t,bitrate:r}=e;n(SL({playQueueType:v(i),mediaIndex:t,bitrate:r}))}(),function(){const e=g();if(!e)return;const{playQueueType:t,playQueueVersion:r,repeat:i}=e;n(IL({playQueueType:t,playQueueVersion:r,repeatAll:i===DIt.QN||i===DIt.ry,repeatOne:i===DIt.ry}))}(),function(){const e=g();if(!e)return;const{key:t,mediaIndex:r,partIndex:a,audioStreamID:s,subtitleStreamID:o}=e;null==s&&null==o||n(ML({playQueueType:v(i),key:t,mediaIndex:r,partIndex:a,audioStreamID:s,subtitleStreamID:o}))}(),e===t.PLAYING?a||(a=window.setTimeout(Z,1e3)):a&&(window.clearTimeout(a),a=null)}else M.Z.warn("[Cast] Update ignored; no alive media session"),a&&(window.clearTimeout(a),a=null),i&&r&&i.playerState===t.IDLE&&(d[r]=null,u[r]=null,n(ZL({playQueueType:r})))}function Z(){if(i){const e=Math.round(i.getEstimatedTime()||0);e&&b({positionSeconds:e}),a=window.setTimeout(Z,1e3)}else M.Z.warn("[Cast] Position update ignored; no media session")}function T(){l||o||r&&n(PL(y(r)))}function N(e){r?((0,M.Z)(`[Cast] Sending custom message with type "${e.type}"`),r.sendMessage("urn:x-cast:plex",e,null,(e=>{M.Z.warn(`[Cast] Failed to send custom message with error "${e}"`)}))):M.Z.warn(`[Cast] Custom message "${e.type}" ignored; no cast session`)}return p.src="//www.gstatic.com/cv/js/sender/v1/cast_sender.js?loadCastFramework=1",document.head.appendChild(p),{requestSession:function(){const e=h();e?((0,M.Z)("[Cast] Requesting session"),e.requestSession()):M.Z.warn("[Cast] Request session ignored; no cast context")},endSession:function(){const e=h();e?((0,M.Z)("[Cast] Ending session"),e.endCurrentSession()):M.Z.warn("[Cast] End session ignored; no cast context"),d={},u={}},startPlayback:function(t){if(!r)return void M.Z.warn("[Cast] Start playback ignored; no cast session");const i=e.get("user"),a=e.get("deviceSettings"),o=i.get("experienceSettings"),l=t.get("playQueue"),c=l.get("type"),d=l.get("playQueueItems").get(l.get("playQueueSelectedItemID")),u=d.get("metadataItem"),p=t.get("startMediaIndex"),m=l.server,h=t.get("providerEntityID"),g=(0,QT.js)(e,{providerEntityID:h}),y=(0,Ac.getMetadataType)(d.get("type"));let v;if((y&&y.mediaType===Al.j0?Al.j0:Al.pX)===Al.pX){const e=function(e,t,n){const r=t.get("qualityIndex");if(null!=r)return r;const i=e.server.get("isPrivateConnection");if(i&&n.get("useHomeStreamingRecommendedSettings"))return n.defaults().localQuality;const a=(0,Sbt.Z)(e,i);return n.get(a)}(u,t,o),n=Qj.Z.getQualityByIndex(e);v=n.bitrate}s=!0,UMt(m).done((e=>{const d=t.get("liveTVSession"),m=d?(0,Kxt.$h)(d):Math.floor((0,kMt.Z)(t,u)/1e3),h={playQueueType:c,providerIdentifier:g.get("identifier"),containerKey:E.Z.join([S().result(l,"url")],{own:1}),offset:m,directPlay:a.get("directPlay"),directStream:a.get("directStream"),mediaIndex:p,bitrate:v,playbackSessionID:t.get("playbackSessionID"),audioBoost:o.get("audioBoost"),subtitleColor:o.get("subtitleColor"),subtitlePosition:o.get("subtitlePosition"),subtitleSize:o.get("subtitleSize"),autoPlay:o.get("autoPlay"),repeat:(0,$xt.Z)({repeatOne:t.get("repeatOne"),repeatAll:t.get("repeatAll")}),audioForceMultiChannel:o.get("audioForceMultiChannel"),server:e,user:{username:i.get("username")},liveTVSessionSubscriptionKey:d?d.get("key"):null,liveTVSessionChannelIdentifier:d?d.get("channelIdentifier"):null,debugAdKind:a.get("debugAdKind")||oUe.NONE},y=window.chrome.cast.media,f=new y.MediaInfo(u.get("key"));f.customData=h;const I=new y.LoadRequest(f);I.currentTime=m,I.autoplay=!0,(0,M.Z)("[Cast] Sending load media request"),r.loadMedia(I).then((()=>{(0,M.Z)("[Cast] Load media success"),s=!1,b({isMediaLoading:!1})}),(e=>{M.Z.warn(`[Cast] Failed to load media with error "${e}"`),s=!1,n(DL({playQueueType:c}))}))})).fail((()=>{s=!1,n(DL({playQueueType:c,errorMessage:(0,Ce.Z)('The server "{serverName}" does not have a valid connection for casting. Check that the server is claimed in server settings.',{serverName:m.get("friendlyName")})}))}))},mirrorDetails:function(t){if(!r)return void M.Z.warn("[Cast] Mirror details ignored; no cast session");const n=e.get("user"),i=t.server,a=t.provider;UMt(i).done((e=>{const r={server:e,providerIdentifier:a.get("identifier"),user:{username:n.get("username")}},i=new window.chrome.cast.media.MediaInfo(t.get("key"));i.customData=r,N({type:qxt.HE,media:i})}))},sendMessage:N,setVolume:function(e){r?((0,M.Z)(`[Cast] Setting volume to "${e}"`),n(PL(e)),e?(r.isMute()&&(o++,r.setMute(!1).then(P,P)),l++,r.setVolume(e/100).then(I,I)):(o++,r.setMute(!0).then(P,P))):M.Z.warn("[Cast] Set volume ignored; no cast session")}}}function ljt(){(0,b.Cq)({CloudServerFlexModel:iOt,ServerFlexModel:bOt,UserFlexModel:$Ot}),(0,b.Cq)({UserExperienceSettingsModel:yyt,StoredUserExperienceSettingsModel:COt});const e=new eOt,t=function(e){return function(e,t){let n,r=[],i=r;function a(){i===r&&(i=r.slice())}function s(e){n=function(e){const t={};for(let n=0,r=e.length;n<r;n++){const r=e[n];for(const e in r){const n=t[e],i=r[e];n?Array.isArray(n)?n.push(i):t[e]=[n,i]:t[e]=i}}return t}(e)}return s(e),t.on("statechange",(function(){const e=r=i;for(let t=0,n=e.length;t<n;t++)e[t]()})),{dispatch:function e(r){const{payload:i,type:a}=r,s=a&&n[a];if(Array.isArray(s))for(let n=0,r=s.length;n<r;n++)s[n](t,i,e);else s?s(t,i,e):t.dispatch(r);return r},subscribe:function(e){let t=!0;return a(),i.push(e),function(){if(!t)return;t=!1,a();const n=i.indexOf(e);i.splice(n,1)}},getState:function(){return t.getState()},replaceActionHandlers:s}}(ixt,e)}(e);return(0,b.Cq)({appModel:e,appStore:t}),(0,b.Cq)({adPlayerComponent:Oft,companionPlayerProfile:Qft,companionProxy:new nft,companionVote:dxt(),fullscreenManager:Yxt(),remoteCastPlayerManager:ojt(e,t),getDecisionOptions:jbt,mediaComponent:ibt,serviceWorker:(se.Z.hasServiceWorker,{register:()=>(se.Z.hasServiceWorker&&window.navigator.serviceWorker.getRegistrations().then((e=>{e.forEach((e=>{e.unregister()}))})),(0,M.Z)("[Workers] Registered mock service worker"),Promise.resolve()),checkUpdate(){(0,M.Z)("[Workers] Mock worker checking for updates")},skipWaiting(){(0,M.Z)("[Workers] Mock worker installing")},sendMessage:e=>(M.Z.debug("[Workers] Mock worker sending message %o",e),Promise.resolve())}),sessionStats:new rft}),function(){const e=(0,b.DB)("appModel"),t=(0,b.DB)("appStore");return(0,b.Cq)({settingFinder:HIt(e),selectRemoteQuality:rEt,selectRestorePlayQueue:iEt,selectSubtitleSettings:aEt,selectLocalVolume:Xbt}),(0,b.Cq)({metricsReporter:[kbt(),zbt],logs:new nEt([],{parent:e}),testServerConnection:qbt}),(0,b.Cq)({companionServerManager:new WIt({appModel:e}),keyboardShortcuts:{shortcuts:[{keys:["?"],fn:"help",group:"navigation",label:()=>(0,Ce.Z)("Open Keyboard Shortcuts")},{keys:["esc"],fn:"escape",group:"navigation",label:()=>(0,Ce.Z)("Close Modal or Menu")},{keys:["g h"],fn:"home",group:"navigation",label:()=>(0,Ce.Z)("Navigate to Home")},{keys:["g s"],fn:"settings",group:"navigation",label:()=>(0,Ce.Z)("Navigate to Settings")},{keys:["g d"],fn:"activity",group:"navigation",label:()=>(0,Ce.Z)("Navigate to Dashboard")},{keys:["g u"],fn:"usersSharing",group:"navigation",label:()=>(0,Ce.Z)("Navigate to Users & Sharing")},{keys:["/"],fn:"search",group:"actions",label:()=>(0,Ce.Z)("Focus Search")},{keys:["p"],fn:"playSelected",group:"actions",label:()=>(0,Ce.Z)("Open Player")},{keys:["w"],fn:"togglePlayed",group:"actions",label:()=>(0,Ce.Z)("Toggle as Played/Unplayed")},{keys:["e"],fn:"edit",group:"actions",label:()=>(0,Ce.Z)("Edit Metadata")},{keys:["i"],fn:"info",group:"actions",label:()=>(0,Ce.Z)("Get Info")},{keys:["shift+s"],fn:"save",group:"actions",label:()=>(0,Ce.Z)("Save Changes")},{keys:["space"],fn:"playPause",group:"player",label:()=>(0,Ce.Z)("Play or Pause")},{keys:["play"],fn:"play",group:"player",label:()=>(0,Ce.Z)("Play")},{keys:["pause"],fn:"pause",group:"player",label:()=>(0,Ce.Z)("Pause")},{keys:["\\"],fn:"toggleFullScreen",group:"player",label:()=>(0,Ce.Z)("Toggle FullScreen")},{keys:["down"],fn:"decreaseVolume",group:"player",label:()=>(0,Ce.Z)("Decrease Volume")},{keys:["up"],fn:"increaseVolume",group:"player",label:()=>(0,Ce.Z)("Increase Volume")},{keys:[",","left"],fn:"seekBackward",group:"player",label:()=>(0,Ce.Z)("Seek Backward (10 seconds)")},{keys:[".","right"],fn:"seekForward",group:"player",label:()=>(0,Ce.Z)("Seek Forward (30 seconds)")},{keys:["[","alt+left"],fn:"stepBackward",group:"player",label:()=>(0,Ce.Z)("Step Backward (10 minutes)")},{keys:["]","alt+right"],fn:"stepForward",group:"player",label:()=>(0,Ce.Z)("Step Forward (10 minutes)")},{keys:["shift+left"],fn:"skipPrevious",group:"player",label:()=>(0,Ce.Z)("Skip to Previous Item")},{keys:["shift+right"],fn:"skipNext",group:"player",label:()=>(0,Ce.Z)("Skip to Next Item")},{keys:["x"],fn:"stop",group:"player",label:()=>(0,Ce.Z)("Close Player")}],triggerShortcut(e){const t="shortcut:"+e;if(le.Z.hasListener(t))return le.Z.trigger(t),!1},help(e){le.Z.trigger("show:modal",new KHe({shortcuts:this.shortcuts}))},escape(e){le.Z.trigger("shortcut:escape")},home(e){(0,nle.Z)("home")},settings(e){(0,nle.Z)("webSettings",{settingsSubset:"general"})},activity(e){const t=b.DB("appModel").get("primaryServer");t&&!t.get("isShared")&&(0,nle.Z)("serverSettings",{machineIdentifier:t.id,settingsSection:"status",settingsGroup:"server-dashboard"})},usersSharing(e){(0,nle.Z)("usersSharing")},search(e){return this.triggerShortcut("search")},playSelected(e){return this.triggerShortcut("playSelected")},togglePlayed(e){return this.triggerShortcut("togglePlayed")},edit(e){return this.triggerShortcut("edit")},info(e){return this.triggerShortcut("info")},save(e){return this.triggerShortcut("save")},playPause(e){return this.triggerShortcut("playPause")},play(e){return this.triggerShortcut("play")},pause(e){return this.triggerShortcut("pause")},toggleFullScreen(e){return this.triggerShortcut("toggleFullScreen")},decreaseVolume(e){return this.triggerShortcut("decreaseVolume")},increaseVolume(e){return this.triggerShortcut("increaseVolume")},seekBackward(e){return this.triggerShortcut("seekBackward")},seekForward(e){return this.triggerShortcut("seekForward")},stepBackward(e){return this.triggerShortcut("stepBackward")},stepForward(e){return this.triggerShortcut("stepForward")},skipPrevious(e){return this.triggerShortcut("skipPrevious")},skipNext(e){return this.triggerShortcut("skipNext")},stop(e){return this.triggerShortcut("stop")}},localCompanionTimelineManager:LMt(e,t,{getPlayerModels(e){const t=e.get("ui");return[t.get("audioVideoPlayer"),t.get("photoPlayer")]},getVolume:eIt.Z}),localCompanionCommandHandler:_It,mediaServerEventConnection:TEt,metrics:[new oSt({isPlaybackActive:Jbt}),Rbt],primaryServerManager:new lSt({appModel:e}),providerManager:new cSt({appModel:e}),remotePlexPlayerManager:WMt(e,t),serverConnectionManager:new KIt({appModel:e}),serverConnectionTestManager:new uSt({appModel:e}),serverManager:new MSt({appModel:e}),serverUpdateManager:new ESt({appModel:e}),sourceManager:new DSt({appModel:e}),syncplaySessionManager:new iMt({appModel:e,appStore:t}),watchTogetherRoomsManager:new EMt({appModel:e,appStore:t})}),h().Deferred().resolve().promise()}().then(Wxt.registerAll)}const cjt=new p.Z.Application;cjt.addInitializer((()=>ljt().then(xvt))),cjt.start()},2418:e=>{function t(e){for(var t=e.length,n=new Array(t),r=0;r<t;r++)n[r]=e.charCodeAt(r);return n}function n(){SHA256_H=new Array(1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225),SHA256_buf=new Array,SHA256_len=0}function r(e){SHA256_buf="string"==typeof e?SHA256_buf.concat(t(e)):SHA256_buf.concat(e);for(var n=0;n+64<=SHA256_buf.length;n+=64)p(SHA256_H,SHA256_buf.slice(n,n+64));SHA256_buf=SHA256_buf.slice(n),SHA256_len+=e.length}function i(){if(SHA256_buf[SHA256_buf.length]=128,SHA256_buf.length>56){for(var e=SHA256_buf.length;e<64;e++)SHA256_buf[e]=0;p(SHA256_H,SHA256_buf),SHA256_buf.length=0}for(e=SHA256_buf.length;e<59;e++)SHA256_buf[e]=0;SHA256_buf[59]=SHA256_len>>>29&255,SHA256_buf[60]=SHA256_len>>>21&255,SHA256_buf[61]=SHA256_len>>>13&255,SHA256_buf[62]=SHA256_len>>>5&255,SHA256_buf[63]=SHA256_len<<3&255,p(SHA256_H,SHA256_buf);var t=new Array(32);for(e=0;e<8;e++)t[4*e+0]=SHA256_H[e]>>>24,t[4*e+1]=SHA256_H[e]>>16&255,t[4*e+2]=SHA256_H[e]>>8&255,t[4*e+3]=255&SHA256_H[e];return SHA256_H=null,SHA256_buf=null,SHA256_len=null,t}var a=new Array("0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"),s=new Array(1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298);function o(e){return(e>>>7|e<<25)^(e>>>18|e<<14)^e>>>3}function l(e){return(e>>>2|e<<30)^(e>>>13|e<<19)^(e>>>22|e<<10)}function c(e){return(e>>>6|e<<26)^(e>>>11|e<<21)^(e>>>25|e<<7)}function d(e,t,n){return n^e&(t^n)}function u(e,t,n){return e&t^n&(e^t)}function p(e,t){for(var n=new Array(16),r=0;r<16;r++)n[r]=t[4*r+0]<<24|t[4*r+1]<<16|t[4*r+2]<<8|t[4*r+3];!function(e,t){for(var n=16;n<64;n++)t[n]=4294967295&(((r=t[n-2])>>>17|r<<15)^(r>>>19|r<<13)^r>>>10)+t[n-7]+o(t[n-15])+t[n-16];var r,i=(new Array).concat(e);for(n=0;n<64;n++){var a=i[7]+c(i[4])+d(i[4],i[5],i[6])+s[n]+t[n],p=l(i[0])+u(i[0],i[1],i[2]);i.pop(),i.unshift(a+p&4294967295),i[4]=i[4]+a&4294967295}for(n=0;n<8;n++)e[n]=e[n]+i[n]&4294967295}(e,n)}e.exports={SHA256_hash:function(e){return n(),r(e),function(e){for(var t="",n=0;n<e.length;n++)t+=a[e[n]>>4]+a[15&e[n]];return t}(i())},HMAC_SHA256_init:function(e){HMAC_SHA256_key="string"==typeof e?t(e):(new Array).concat(e),HMAC_SHA256_key.length>64&&(n(),r(HMAC_SHA256_key),HMAC_SHA256_key=i());for(var a=HMAC_SHA256_key.length;a<64;a++)HMAC_SHA256_key[a]=0;for(a=0;a<64;a++)HMAC_SHA256_key[a]^=54;n(),r(HMAC_SHA256_key)},HMAC_SHA256_write:function(e){r(e)},HMAC_SHA256_finalize:function(){for(var e=i(),t=0;t<64;t++)HMAC_SHA256_key[t]^=106;for(n(),r(HMAC_SHA256_key),r(e),t=0;t<64;t++)HMAC_SHA256_key[t]=0;return HMAC_SHA256_key=null,i()}}},48143:(e,t,n)=>{var r=n(40202);e.exports=(r.default||r).template((function(e,t,n,r,i){return this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),i=i||{},'<svg class="circle-progress-bar" version="1.1" xmlns="http://www.w3.org/2000/svg"> <circle fill="transparent"></circle> </svg> <div class="circle-progress-text"></div> '}))},40277:(e,t,n)=>{var r=n(40202);e.exports=(r.default||r).template((function(e,t,n,r,i){return this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),i=i||{},'<ul class="js-file-list-items list browse-directory-list"></ul> <div class="js-file-list-truncated-message css-file-list-truncated-message"></div> '}))},56022:(e,t,n)=>{var r=n(40202);function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(r.default||r).template((function(e,t,r,a,s){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),s=s||{};var o,l="",c=this.escapeExpression,d="function",u=this;function p(e,t,n,i){var a,s="";return s+=' <li><a href="'+c(typeof(a=e&&e.url)===d?a.apply(e):a)+'" ',((a=r.if.call(e,i&&i.shouldUseDownload,{hash:{},inverse:u.noop,fn:u.program(7,m,t),data:t}))||0===a)&&(s+=a),s+=" ",((a=r.if.call(e,i&&i.target,{hash:{},inverse:u.noop,fn:u.programWithDepth(9,h,t,n),data:t}))||0===a)&&(s+=a),s+' class="download-btn">'+c(typeof(a=e&&e.label)===d?a.apply(e):a)+"</a></li> "}function m(e,t){return"download"}function h(e,t,n){var r;return""+'target="'+c(typeof(r=n&&n.target)===d?r.apply(e):r)+'"'}function g(e,t,n,i){var a,s="";return s+=' <a href="'+c(typeof(a=e&&e.url)===d?a.apply(e):a)+'" ',((a=r.if.call(e,i&&i.shouldUseDownload,{hash:{},inverse:u.noop,fn:u.program(7,m,t),data:t}))||0===a)&&(s+=a),s+=" ",((a=r.if.call(e,i&&i.target,{hash:{},inverse:u.noop,fn:u.programWithDepth(9,h,t,n),data:t}))||0===a)&&(s+=a),s+' class="btn btn-primary download-btn">'+c(typeof(a=e&&e.label)===d?a.apply(e):a)+"</a> "}return l+='<div class="type-'+c(typeof(o=t&&t.type)===d?o.apply(t):o)+" platform-logo platform-"+c(typeof(o=t&&t.id)===d?o.apply(t):o)+'"></div> <h2><strong>'+c(typeof(o=t&&t.name)===d?o.apply(t):o)+"</strong> "+c(i(n(76273)).call(t,"Download",{hash:{},data:s}))+"</h2> <h5>"+c(i(n(76273)).call(t,"Version",{hash:{},data:s}))+" "+c(typeof(o=t&&t.version)===d?o.apply(t):o)+"</h5> <h5>"+c(i(n(16014)).call(t,t&&t.date,{hash:{},data:s}))+'</h5> <div class="more-info"> ',((o=r.if.call(t,t&&t.requirements,{hash:{},inverse:u.noop,fn:u.program(1,(function(e,t){var r,a="";return a+="<p>"+c(i(n(76273)).call(e,"Requirements",{hash:{},data:t}))+": ",((r=typeof(r=e&&e.requirements)===d?r.apply(e):r)||0===r)&&(a+=r),a+"</p>"}),s),data:s}))||0===o)&&(l+=o),l+=" ",((o=r.if.call(t,t&&t.info,{hash:{},inverse:u.noop,fn:u.program(3,(function(e,t){var n,r="";return r+="<p>",((n=typeof(n=e&&e.info)===d?n.apply(e):n)||0===n)&&(r+=n),r+"</p>"}),s),data:s}))||0===o)&&(l+=o),l+=" </div> ",((o=r.if.call(t,t&&t.shouldUseDropup,{hash:{},inverse:u.programWithDepth(11,(function(e,t,n){var i,a="";return a+=' <div class="download-server-btn-group"> ',((i=r.each.call(e,e&&e.releases,{hash:{},inverse:u.noop,fn:u.programWithDepth(12,g,t,e,n),data:t}))||0===i)&&(a+=i),a+" </div> "}),s,t),fn:u.programWithDepth(5,(function(e,t,a){var s,o="";return o+=' <div class="btn-group dropup download-server-btn-group"> <button type="button" class="btn btn-primary dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"> '+c(i(n(76273)).call(e,"Download",{hash:{},data:t}))+' <span class="caret"></span> </button> <ul class="dropdown-menu"> ',((s=r.each.call(e,e&&e.releases,{hash:{},inverse:u.noop,fn:u.programWithDepth(6,p,t,e,a),data:t}))||0===s)&&(o+=s),o+" </ul> </div> "}),s,t),data:s}))||0===o)&&(l+=o),l+" "}))},15314:(e,t,n)=>{var r=n(40202);function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(r.default||r).template((function(e,t,r,a,s){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),s=s||{};var o,l="",c="function",d=this.escapeExpression,u=this;return l+='<h3>Browser</h3> <p><span class="text-muted">Host:</span> '+d(typeof(o=t&&t.host)===c?o.apply(t):o)+'</p> <p><span class="text-muted">User Agent:</span> '+d(typeof(o=t&&t.userAgent)===c?o.apply(t):o)+'</p> <p><span class="text-muted">Name:</span> '+d(typeof(o=null==(o=t&&t.browser)||!1===o?o:o.name)===c?o.apply(t):o)+'</p> <p><span class="text-muted">Version:</span> '+d(typeof(o=null==(o=t&&t.browser)||!1===o?o:o.version)===c?o.apply(t):o)+'</p> <p><span class="text-muted">Platform:</span> '+d(typeof(o=null==(o=t&&t.browser)||!1===o?o:o.platform)===c?o.apply(t):o)+'</p> <p><span class="text-muted">Mobile:</span> '+d(i(n(1780)).call(t,null==(o=t&&t.browser)||!1===o?o:o.mobile,{hash:{},data:s}))+'</p> <h3>User</h3> <p><span class="text-muted">Username:</span> '+d(typeof(o=null==(o=t&&t.user)||!1===o?o:o.username)===c?o.apply(t):o)+" ",((o=r.if.call(t,t&&t.hasPlexPass,{hash:{},inverse:u.noop,fn:u.program(1,(function(e,t){return"(Plex Pass)"}),s),data:s}))||0===o)&&(l+=o),l+='</p> <p><span class="text-muted">Email:</span> '+d(typeof(o=null==(o=t&&t.user)||!1===o?o:o.email)===c?o.apply(t):o)+'</p> <p><span class="text-muted">Token:</span> '+d(typeof(o=null==(o=t&&t.user)||!1===o?o:o.accessToken)===c?o.apply(t):o)+'</p> <h3>plex.tv</h3> <p><span class="text-muted">URL:</span> '+d(typeof(o=t&&t.cloudServerUrl)===c?o.apply(t):o)+'</p> <p><span class="text-muted">Available:</span> '+d(i(n(1780)).call(t,null==(o=t&&t.cloudServer)||!1===o?o:o.available,{hash:{},data:s}))+'</p> <p><span class="text-muted">Authorized:</span> '+d(i(n(1780)).call(t,null==(o=t&&t.cloudServer)||!1===o?o:o.authorized,{hash:{},data:s}))+"</p> <h3>Primary Server</h3> ",((o=r.if.call(t,t&&t.primaryServer,{hash:{},inverse:u.program(5,(function(e,t){return' <p><span class="text-muted">none</span></p> '}),s),fn:u.program(3,(function(e,t){var n;return""+' <p><span class="text-muted">Name:</span> '+d(typeof(n=null==(n=e&&e.primaryServer)||!1===n?n:n.friendlyName)===c?n.apply(e):n)+'</p> <p><span class="text-muted">URL:</span> '+d(typeof(n=e&&e.primaryServerUrl)===c?n.apply(e):n)+'</p> <p><span class="text-muted">Version:</span> '+d(typeof(n=null==(n=e&&e.primaryServer)||!1===n?n:n.version)===c?n.apply(e):n)+'</p> <p><span class="text-muted">Token:</span> '+d(typeof(n=null==(n=e&&e.primaryServer)||!1===n?n:n.accessToken)===c?n.apply(e):n)+"</p> "}),s),data:s}))||0===o)&&(l+=o),l+" "}))},60235:e=>{e.exports=function(){return""}},32051:(e,t,n)=>{var r=n(40202);e.exports=(r.default||r).template((function(e,t,n,r,i){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),i=i||{};var a,s="";return(s+='<textarea class="form-control">')+((0,this.escapeExpression)((a=n.logs)||"function"==typeof(a=t&&t.logs)?a.call(t,{hash:{},data:i}):a)+"</textarea> ")}))},17487:(e,t,n)=>{var r=n(40202);e.exports=(r.default||r).template((function(e,t,n,r,i){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),i=i||{};var a,s="",o=this;function l(e,t){return"star"}function c(e,t){return"dislikes"}return((a=n.each.call(t,t&&t.stars,{hash:{},inverse:o.noop,fn:o.program(1,(function(e,t){var r,i="";return i+='<span class="star"><i class="star-icon glyphicon ',((r=n.if.call(e,e,{hash:{},inverse:o.program(4,c,t),fn:o.program(2,l,t),data:t}))||0===r)&&(i+=r),i+'"></i><span class="empty-icon"></span></span>'}),i),data:i}))||0===a)&&(s+=a),s+" "}))},98149:(e,t,n)=>{var r=n(40202);function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(r.default||r).template((function(e,t,r,a,s){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),s=s||{};var o,l="",c=this,d=this.escapeExpression;function u(e,t){return"disabled"}return l+='<div class="filter-bar"> <span class="page-count">'+d(i(n(76273)).call(t,"Page {1} of {2}",t&&t.escapedPage,t&&t.escapedPages,{hash:{},data:s}))+"</span> ",((o=r.unless.call(t,t&&t.shared,{hash:{},inverse:c.noop,fn:c.program(1,(function(e,t){var n,i="";return i+=' <div class="filter-bar-right"> <a class="previous-btn btn-gray ',((n=r.unless.call(e,e&&e.enablePrevious,{hash:{},inverse:c.noop,fn:c.program(2,u,t),data:t}))||0===n)&&(i+=n),i+='" href="#"> <i class="glyphicon chevron-left"></i> </a> <a class="next-btn btn-gray ',((n=r.unless.call(e,e&&e.enableNext,{hash:{},inverse:c.noop,fn:c.program(2,u,t),data:t}))||0===n)&&(i+=n),i+'" href="#"> <i class="glyphicon chevron-right"></i> </a> </div> '}),s),data:s}))||0===o)&&(l+=o),l+=" </div> ",((o=r.if.call(t,t&&t.shared,{hash:{},inverse:c.program(6,(function(e,t){return' <div class="alert-list-container"></div> '}),s),fn:c.program(4,(function(e,t){return""+' <div class="row row-padded"> <div class="col-md-8 col-md-offset-2"> <h4 class="text-muted text-center">'+d(i(n(76273)).call(e,"Alerts are restricted from shared users.",{hash:{},data:t}))+"</h4> </div> </div> "}),s),data:s}))||0===o)&&(l+=o),l+" "}))},77210:(e,t,n)=>{var r=n(40202);function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(r.default||r).template((function(e,t,r,a,s){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),s=s||{};var o,l="",c=this,d=this.escapeExpression;function u(e,t){return"hidden"}return l+='<div class="conversion-filter-bar filter-bar"> ',((o=r.if.call(t,t&&t.hasPausedSetting,{hash:{},inverse:c.noop,fn:c.program(1,(function(e,t){var a,s="";return s+=' <div class="filter-bar-right"> <button class="pause-btn btn btn-sm btn-default ',((a=r.if.call(e,e&&e.isPaused,{hash:{},inverse:c.noop,fn:c.program(2,u,t),data:t}))||0===a)&&(s+=a),s+='">'+d(i(n(76273)).call(e,"Pause",{hash:{},data:t}))+'</button> <button class="resume-btn btn btn-sm btn-primary ',((a=r.unless.call(e,e&&e.isPaused,{hash:{},inverse:c.noop,fn:c.program(2,u,t),data:t}))||0===a)&&(s+=a),s+'">'+d(i(n(76273)).call(e,"Resume",{hash:{},data:t}))+"</button> </div> "}),s),data:s}))||0===o)&&(l+=o),l+=" </div> ",((o=r.if.call(t,t&&t.errorMessage,{hash:{},inverse:c.program(6,(function(e,t){return""+' <p class="conversion-status-message">'+d(i(n(76273)).call(e,"Manage your completed conversions in {1}Optimized Versions Settings{2}.",'<a href="{3}">',"</a>",e&&e.manageVersionsRoute,{hash:{},data:t}))+"</p> "}),s),fn:c.program(4,(function(e,t){var r;return""+' <p class="conversion-error-message"><i class="conversion-error-icon glyphicon circle-exclamation-mark text-danger"></i> '+d("function"==typeof(r=e&&e.errorMessage)?r.apply(e):r)+" "+d(i(n(76273)).call(e,"Check the status in {1}Optimized Versions Settings{2}.",'<a href="{3}">',"</a>",e&&e.manageVersionsRoute,{hash:{},data:t}))+"</p> "}),s),data:s}))||0===o)&&(l+=o),l+=" ",((o=r.if.call(t,t&&t.shouldShowList,{hash:{},inverse:c.program(10,(function(e,t){return""+' <div class="row row-padded"> <h4 class="text-muted text-center"> '+d(i(n(76273)).call(e,"This requires Plex Media Server {1} or later.",e&&e.escapedMinServerVersion,{hash:{},data:t}))+" </h4> </div> "}),s),fn:c.program(8,(function(e,t){var n,i="";return i+=' <div class="conversion-queue-empty-region"></div> <div class="conversion-queue-up-next-list-region"></div> <hr class="conversion-queue-divider ',((n=r.unless.call(e,e&&e.shouldShowDivider,{hash:{},inverse:c.noop,fn:c.program(2,u,t),data:t}))||0===n)&&(i+=n),i+'"> <div class="conversion-queue-after-up-next-list-region"></div> '}),s),data:s}))||0===o)&&(l+=o),l+" "}))},10129:(e,t,n)=>{var r=n(40202);e.exports=(r.default||r).template((function(e,t,r,i,a){var s;return this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),a=a||{},""+'<div class="row row-loading"> <div class="loading loading-inline"></div> </div> <div class="sync-empty-message row row-padded hidden"> <h4 class="text-muted text-center"> '+(0,this.escapeExpression)((s=n(76273),s&&(s.__esModule?s.default:s)).call(t,"Nothing is synced to this device.",{hash:{},data:a}))+' </h4> </div> <div class="sync-device-message row hidden"> <h4 class="sync-device-message-text text-muted text-center"></h4> </div> <div class="sync-item-list-container"></div> '}))},33588:(e,t,n)=>{var r=n(40202);function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(r.default||r).template((function(e,t,r,a,s){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),s=s||{};var o,l="",c="function",d=this.escapeExpression,u=this;function p(e,t,r){var a,s="";return s+=' <li><a data-id="'+d(typeof(a=e&&e.id)===c?a.apply(e):a)+'" href="#"><span class="dropdown-truncated-label">'+d(typeof(a=e&&e.name)===c?a.apply(e):a)+"</span>",((a=i(n(78356)).call(e,null==(a=r&&r.selectedDevice)||!1===a?a:a.id,e&&e.id,{hash:{},inverse:u.noop,fn:u.program(3,m,t),data:t}))||0===a)&&(s+=a),s+"</a></li> "}function m(e,t){return'<i class="dropdown-selected-icon glyphicon ok-2"></i>'}function h(e,t){return' <div class="row"> <div class="sync-device-container col-sm-12 col-md-12"></div> </div> '}function g(e,t){return""+' <div class="row row-padded"> <h4 class="text-muted text-center">'+d(i(n(76273)).call(e,"You have no sync capable devices.",{hash:{},data:t}))+"</h4> </div> "}function y(e,t){var n,i="";return i+=' <div class="row row-padded"> <h4 class="text-muted text-center">'+d(typeof(n=null==(n=e&&e.plexPassInfo)||!1===n?n:n.message)===c?n.apply(e):n)+'</h4> <p class="text-center ',((n=r.unless.call(e,null==(n=e&&e.plexPassInfo)||!1===n?n:n.showButton,{hash:{},inverse:u.noop,fn:u.program(14,v,t),data:t}))||0===n)&&(i+=n),i+'"> <a class="btn btn-sm btn-primary" href="'+d(typeof(n=null==(n=e&&e.plexPassInfo)||!1===n?n:n.url)===c?n.apply(e):n)+'" target="'+d(typeof(n=null==(n=e&&e.plexPassInfo)||!1===n?n:n.target)===c?n.apply(e):n)+'">'+d(typeof(n=null==(n=e&&e.plexPassInfo)||!1===n?n:n.buttonText)===c?n.apply(e):n)+"</a> </p> </div> "}function v(e,t){return"hidden"}function f(e,t){return""+' <div class="row row-padded"> <h4 class="text-muted text-center">'+d(i(n(76273)).call(e,"This server does not support sync.",{hash:{},data:t}))+"</h4> </div> "}return l+='<div class="filter-bar"> ',((o=r.if.call(t,t&&t.showDeviceDropdown,{hash:{},inverse:u.noop,fn:u.program(1,(function(e,t){var n,i="";return i+=' <span class="dropdown"> <a class="dropdown-toggle" href="#device-dropdown" data-toggle="dropdown"> <span class="dropdown-friendly-name">'+d(typeof(n=null==(n=e&&e.selectedDevice)||!1===n?n:n.name)===c?n.apply(e):n)+'</span> <i class="caret-icon"></i> </a> <ul class="dropdown-menu"> ',((n=r.each.call(e,e&&e.devices,{hash:{},inverse:u.noop,fn:u.programWithDepth(2,p,t,e),data:t}))||0===n)&&(i+=n),i+" </ul> </span> "}),s),data:s}))||0===o)&&(l+=o),l+=' <div class="filter-bar-right"> ',((o=r.if.call(t,t&&t.hasTouchScreen,{hash:{},inverse:u.noop,fn:u.program(5,(function(e,t){return'<a class="edit-btn btn-gray" href="#"><i class="glyphicon pencil"></i></a>'}),s),data:s}))||0===o)&&(l+=o),l+=' <a class="refresh-btn btn-gray" href="#"><i class="glyphicon repeat"></i></a> </div> </div> ',((o=r.if.call(t,t&&t.allowSync,{hash:{},inverse:u.program(12,(function(e,t){var n,i="";return i+=" ",((n=r.if.call(e,e&&e.sync,{hash:{},inverse:u.program(16,f,t),fn:u.program(13,y,t),data:t}))||0===n)&&(i+=n),i+" "}),s),fn:u.program(7,(function(e,t){var n,i="";return i+=" ",((n=r.if.call(e,e&&e.devices,{hash:{},inverse:u.program(10,g,t),fn:u.program(8,h,t),data:t}))||0===n)&&(i+=n),i+" "}),s),data:s}))||0===o)&&(l+=o),l+" "}))},17786:(e,t,n)=>{var r=n(40202);e.exports=(r.default||r).template((function(e,t,n,r,i){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),i=i||{};var a,s="";return(s+='<button type="button" class="close-btn btn-link"><i class="glyphicon remove-2"></i></button> <span class="message">')+((0,this.escapeExpression)((a=n.message)||"function"==typeof(a=t&&t.message)?a.call(t,{hash:{},data:i}):a)+"</span> ")}))},66127:(e,t,n)=>{var r=n(40202);e.exports=(r.default||r).template((function(e,t,r,i,a){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),a=a||{};var s,o,l="";return l+='<button class="close-btn btn-link"><i class="glyphicon remove-2"></i></button> <i class="alert-icon glyphicon ',((s=(o=n(78356),o&&(o.__esModule?o.default:o)).call(t,t&&t.type,"success",{hash:{},inverse:this.program(3,(function(e,t){return"circle-exclamation-mark"}),a),fn:this.program(1,(function(e,t){return"circle-ok"}),a),data:a}))||0===s)&&(l+=s),l+='"></i> <h4>',((s="function"==typeof(s=t&&t.message)?s.apply(t):s)||0===s)&&(l+=s),l+"</h4> "}))},18340:(e,t,n)=>{var r=n(40202);e.exports=(r.default||r).template((function(e,t,r,i,a){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),a=a||{};var s,o="",l="function",c=this.escapeExpression;return o+='<button type="button" class="close-btn btn-link"><i class="glyphicon remove-2"></i></button> <span class="message">'+c(typeof(s=t&&t.content)===l?s.apply(t):s)+"</span> ",((s=r.if.call(t,t&&t.url,{hash:{},inverse:this.noop,fn:this.program(1,(function(e,t){var r,i;return""+' <a class="info-link link" href="'+c(typeof(r=e&&e.url)===l?r.apply(e):r)+'" target="_blank">'+c((i=n(76273),i&&(i.__esModule?i.default:i)).call(e,"More Info",{hash:{},data:t}))+"</a> "}),a),data:a}))||0===s)&&(o+=s),o+" "}))},22016:(e,t,n)=>{var r=n(40202);function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(r.default||r).template((function(e,t,r,a,s){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),s=s||{};var o,l="",c=this.escapeExpression;return l+'<button type="button" class="close-btn btn-link"><i class="glyphicon remove-2"></i></button> <span class="message">'+c(i(n(76273)).call(t,"A new TV tuner ({tunerMake} {tunerModel}) has been found! Plex DVR is the easiest way to record your favorite shows!",{hash:{tunerModel:t&&t.model,tunerMake:t&&t.make},data:s}))+'</span> <a class="setup-link link" href="'+c("function"==typeof(o=t&&t.dvrSettingsRoute)?o.apply(t):o)+'">'+c(i(n(76273)).call(t,"Learn more",{hash:{},data:s}))+"</a> "}))},12935:(e,t,n)=>{var r=n(40202);function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(r.default||r).template((function(e,t,r,a,s){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),s=s||{};var o,l="",c=this.escapeExpression,d=this;return l+='<div class="modal-dialog"> <div class="modal-content"> <div class="modal-header"> <button type="button" class="close" data-dismiss="modal"><i class="glyphicon remove-2"></i></button> <h4 class="modal-title"> <i class="modal-icon glyphicon cogwheel"></i> ',((o=i(n(78356)).call(t,t&&t.title,"Preferences...",{hash:{},inverse:d.program(3,(function(e,t){return""+" "+c(i(n(76273)).call(e,"{1} Settings",e&&e.escapedTitle,{hash:{},data:t}))+" "}),s),fn:d.program(1,(function(e,t){return""+" "+c(i(n(76273)).call(e,"Directory Settings",{hash:{},data:t}))+" "}),s),data:s}))||0===o)&&(l+=o),l+=' </h4> </div> <form id="channel-settings-form"> <div class="modal-body settings-container"> ',((o=r.each.call(t,t&&t.settings,{hash:{},inverse:d.noop,fn:d.program(5,(function(e,t){return""+" "+c(i(n(46178)).call(e,"setting",{hash:{idSuffix:"_c"},data:t}))+" "}),s),data:s}))||0===o)&&(l+=o),l+' </div> <div class="modal-footer"> <button type="button" class="cancel-btn btn btn-lg btn-default" data-dismiss="modal">'+c(i(n(76273)).call(t,"Cancel",{hash:{},data:s}))+'</button> <button type="submit" class="submit-btn btn btn-lg btn-primary btn-loading"> <div class="loading loading-sm"></div> <span class="btn-label">'+c(i(n(76273)).call(t,"Save",{hash:{},data:s}))+"</span> </button> </div> </form> </div> </div> "}))},20611:(e,t,n)=>{var r=n(40202);e.exports=(r.default||r).template((function(e,t,n,r,i){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),i=i||{};var a,s="",o=this;function l(e,t){return' <button class="settings-btn media-poster-btn btn-link" tabindex="-1"><i class="glyphicon cogwheel"></i></button> '}return s+='<div class="media-poster-container"> <div class="media-poster"> ',((a=n.unless.call(t,t&&t.shared,{hash:{},inverse:o.noop,fn:o.program(1,(function(e,t){var r,i="";return i+=' <div class="media-poster-overlay"></div> <div class="media-poster-actions"> ',((r=n.if.call(e,null==(r=e&&e.item)||!1===r?r:r.hasPrefs,{hash:{},inverse:o.noop,fn:o.program(2,l,t),data:t}))||0===r)&&(i+=r),i+' <button class="uninstall-btn media-poster-btn btn-link btn-danger" tabindex="-1"><i class="glyphicon remove-2"></i></button> </div> '}),i),data:i}))||0===a)&&(s+=a),s+' <div class="loading loading-inline"></div> </div> <div class="media-title media-heading"></div> <div class="media-subtitle-1 media-heading secondary"></div> </div> '}))},62250:(e,t,n)=>{var r=n(40202);function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(r.default||r).template((function(e,t,r,a,s){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),s=s||{};var o,l="",c="function",d=this.escapeExpression,u=this;return l+='<ul class="nav nav-header pull-right"> <li><a class="all-btn btn-gray selected" href="#">'+d(i(n(76273)).call(t,"All",{hash:{},data:s})),((o=r.if.call(t,t&&t.allCount,{hash:{},inverse:u.noop,fn:u.program(1,(function(e,t){var n;return""+'<span class="badge">'+d(typeof(n=e&&e.allCount)===c?n.apply(e):n)+"</span>"}),s),data:s}))||0===o)&&(l+=o),l+='</a></li> <li><a class="video-btn btn-gray" href="#">'+d(i(n(76273)).call(t,"Video",{hash:{},data:s})),((o=r.if.call(t,t&&t.videoCount,{hash:{},inverse:u.noop,fn:u.program(3,(function(e,t){var n;return""+'<span class="badge">'+d(typeof(n=e&&e.videoCount)===c?n.apply(e):n)+"</span>"}),s),data:s}))||0===o)&&(l+=o),l+='</a></li> <li><a class="music-btn btn-gray" href="#">'+d(i(n(76273)).call(t,"Music",{hash:{},data:s})),((o=r.if.call(t,t&&t.musicCount,{hash:{},inverse:u.noop,fn:u.program(5,(function(e,t){var n;return""+'<span class="badge">'+d(typeof(n=e&&e.musicCount)===c?n.apply(e):n)+"</span>"}),s),data:s}))||0===o)&&(l+=o),l+='</a></li> <li><a class="photo-btn btn-gray" href="#">'+d(i(n(76273)).call(t,"Photo",{hash:{},data:s})),((o=r.if.call(t,t&&t.photoCount,{hash:{},inverse:u.noop,fn:u.program(7,(function(e,t){var n;return""+'<span class="badge">'+d(typeof(n=e&&e.photoCount)===c?n.apply(e):n)+"</span>"}),s),data:s}))||0===o)&&(l+=o),l+="</a></li> </ul> <h2>"+d(i(n(76273)).call(t,"Plugins",{hash:{},data:s}))+"</h2> ",((o=r.unless.call(t,t&&t.hasInstalledChannels,{hash:{},inverse:u.noop,fn:u.program(9,(function(e,t){return""+' <p style="padding:20px">'+d(i(n(76273)).call(e,"No plugins installed.",{hash:{},data:t}))+"</p> "}),s),data:s}))||0===o)&&(l+=o),l+' <div class="channels-container"></div> '}))},85213:(e,t,n)=>{var r=n(40202);e.exports=(r.default||r).template((function(e,t,r,i,a){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),a=a||{};var s,o,l="",c="function",d=this.escapeExpression;return l+='<a class="dropdown-toggle" href="#auto-match-dropdown" data-toggle="dropdown">'+d((o=n(76273),o&&(o.__esModule?o.default:o)).call(t,"Auto Match",{hash:{},data:a}))+' <i class="caret-icon caret-icon-sm"></i></a> <ul class="dropdown-menu"> ',((s=r.each.call(t,t&&t.agents,{hash:{},inverse:this.noop,fn:this.program(1,(function(e,t){var n;return""+' <li><a class="auto-match-agent" href="#" data-id="'+d(typeof(n=e&&e.identifier)===c?n.apply(e):n)+'">'+d(typeof(n=e&&e.name)===c?n.apply(e):n)+"</a></li> "}),a),data:a}))||0===s)&&(l+=s),l+" </ul> "}))},46140:(e,t,n)=>{var r=n(40202);e.exports=(r.default||r).template((function(e,t,r,i,a){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),a=a||{};var s,o="",l=this.escapeExpression;return o+='<form class="edit-metadata-form"> ',((s=r.each.call(t,t,{hash:{},inverse:this.noop,fn:this.program(1,(function(e,t){var r;return""+" "+l((r=n(46178),r&&(r.__esModule?r.default:r)).call(e,"setting",{hash:{idSuffix:"_c"},data:t}))+" "}),a),data:a}))||0===s)&&(o+=s),o+" </form> "}))},10719:(e,t,n)=>{var r=n(40202);function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(r.default||r).template((function(e,t,r,a,s){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),s=s||{};var o,l="",c=this.escapeExpression,d=this;return l+='<form class="edit-metadata-form"> ',((o=r.if.call(t,t&&t.canReparent,{hash:{},inverse:d.noop,fn:d.program(1,(function(e,t){var r;return""+' <div class="row"> <div class="col-md-12 selectize"> '+c(i(n(46178)).call(e,"autocompleteTextInput",{hash:{label:"Artist",name:"parentTitle",placeholder:(r=e&&e.placeholders,null==r||!1===r?r:r.parentTitle),ratingKey:(r=e&&e.item,null==r||!1===r?r:r.parentRatingKey),title:(r=e&&e.item,null==r||!1===r?r:r.parentTitle)},data:t}))+" </div> </div> "}),s),data:s}))||0===o)&&(l+=o),l+=' <div class="row"> <div class="col-md-12 selectize"> '+c(i(n(46178)).call(t,"lockableTextInput",{hash:{label:"Album",name:"title",value:(o=t&&t.item,null==o||!1===o?o:o.title),placeholder:(o=t&&t.placeholders,null==o||!1===o?o:o.title),locked:(o=t&&t.locked,null==o||!1===o?o:o.title),ratingKey:(o=t&&t.item,null==o||!1===o?o:o.ratingKey),scopeToAttr:"parentRatingKey",scopeToParam:"artist.id"},data:s}))+' </div> </div> <div class="row"> <div class="col-md-12 selectize"> '+c(i(n(46178)).call(t,"lockableTextInput",{hash:{label:"Sort Album",name:"titleSort",value:(o=t&&t.item,null==o||!1===o?o:o.titleSort),placeholder:(o=t&&t.placeholders,null==o||!1===o?o:o.titleSort),locked:(o=t&&t.locked,null==o||!1===o?o:o.titleSort),ratingKey:(o=t&&t.item,null==o||!1===o?o:o.ratingKey)},data:s}))+' </div> </div> <div class="row"> <div class="col-md-3"> <label>'+c(i(n(76273)).call(t,"Rating",{hash:{},data:s}))+'</label> <div class="rating-region"></div> </div> ',((o=r.unless.call(t,t&&t.supportsLinkedYears,{hash:{},inverse:d.noop,fn:d.program(3,(function(e,t){var r;return""+' <div class="col-md-4"> '+c(i(n(46178)).call(e,"lockableTextInput",{hash:{label:"Year",name:"year",value:(r=e&&e.item,null==r||!1===r?r:r.year),placeholder:(r=e&&e.placeholders,null==r||!1===r?r:r.year),locked:(r=e&&e.locked,null==r||!1===r?r:r.year),ratingKey:(r=e&&e.item,null==r||!1===r?r:r.ratingKey)},data:t}))+" </div> "}),s),data:s}))||0===o)&&(l+=o),l+=' <div class="col-md-',((o=r.if.call(t,t&&t.supportsLinkedYears,{hash:{},inverse:d.program(7,(function(e,t){return"5"}),s),fn:d.program(5,(function(e,t){return"9"}),s),data:s}))||0===o)&&(l+=o),l+' "> '+c(i(n(46178)).call(t,"lockableTextInput",{hash:{label:"Originally Available",name:"originallyAvailableAt",value:(o=t&&t.item,null==o||!1===o?o:o.originallyAvailableAt),placeholder:(o=t&&t.placeholders,null==o||!1===o?o:o.originallyAvailableAt),locked:(o=t&&t.locked,null==o||!1===o?o:o.originallyAvailableAt)},data:s}))+' </div> </div> <div class="row"> <div class="col-md-12 selectize"> '+c(i(n(46178)).call(t,"lockableTextInput",{hash:{label:"Record Label",name:"studio",value:(o=t&&t.item,null==o||!1===o?o:o.studio),placeholder:(o=t&&t.placeholders,null==o||!1===o?o:o.studio),locked:(o=t&&t.locked,null==o||!1===o?o:o.studio),ratingKey:(o=t&&t.item,null==o||!1===o?o:o.ratingKey)},data:s}))+' </div> </div> <div class="row"> <div class="col-md-12"> '+c(i(n(46178)).call(t,"lockableTextInput",{hash:{label:"Review",name:"summary",value:(o=t&&t.item,null==o||!1===o?o:o.summary),placeholder:(o=t&&t.placeholders,null==o||!1===o?o:o.summary),type:"textarea",rows:"5",locked:(o=t&&t.locked,null==o||!1===o?o:o.summary),ratingKey:(o=t&&t.item,null==o||!1===o?o:o.ratingKey)},data:s}))+" </div> </div> </form> "}))},18866:(e,t,n)=>{var r=n(40202);function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(r.default||r).template((function(e,t,r,a,s){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),s=s||{};var o,l="",c=this.escapeExpression,d=this;return l+='<form class="edit-metadata-form"> <div class="row"> <div class="col-md-12"> '+c(i(n(46178)).call(t,"lockableTagInput",{hash:{label:"Genres",name:"genre",attribute:"genres",locked:(o=t&&t.locked,null==o||!1===o?o:o.genre)},data:s}))+" </div> </div> ",((o=r.if.call(t,null==(o=t&&t.editableTags)||!1===o?o:o["album.style"],{hash:{},inverse:d.noop,fn:d.program(1,(function(e,t){var r;return""+' <div class="row"> <div class="col-md-12"> '+c(i(n(46178)).call(e,"lockableTagInput",{hash:{label:"Styles",name:"style",attribute:"styles",locked:(r=e&&e.locked,null==r||!1===r?r:r.style)},data:t}))+" </div> </div> "}),s),data:s}))||0===o)&&(l+=o),l+=" ",((o=r.if.call(t,null==(o=t&&t.editableTags)||!1===o?o:o["album.mood"],{hash:{},inverse:d.noop,fn:d.program(3,(function(e,t){var r;return""+' <div class="row"> <div class="col-md-12"> '+c(i(n(46178)).call(e,"lockableTagInput",{hash:{label:"Moods",name:"mood",attribute:"moods",locked:(r=e&&e.locked,null==r||!1===r?r:r.mood)},data:t}))+" </div> </div> "}),s),data:s}))||0===o)&&(l+=o),l+' <div class="row"> <div class="col-md-12"> '+c(i(n(46178)).call(t,"lockableTagInput",{hash:{label:"Collections",name:"collection",attribute:"collections",locked:(o=t&&t.locked,null==o||!1===o?o:o.collection)},data:s}))+" </div> </div> </form> "}))},34512:(e,t,n)=>{var r=n(40202);function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(r.default||r).template((function(e,t,r,a,s){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),s=s||{};var o,l="",c=this.escapeExpression;return l+'<form class="edit-metadata-form"> <div class="row"> <div class="col-md-12 selectize"> '+c(i(n(46178)).call(t,"lockableTextInput",{hash:{label:"Artist",name:"title",value:(o=t&&t.item,null==o||!1===o?o:o.title),placeholder:(o=t&&t.placeholders,null==o||!1===o?o:o.title),locked:(o=t&&t.locked,null==o||!1===o?o:o.title),ratingKey:(o=t&&t.item,null==o||!1===o?o:o.ratingKey)},data:s}))+' </div> </div> <div class="row"> <div class="col-md-12 selectize"> '+c(i(n(46178)).call(t,"lockableTextInput",{hash:{label:"Sort Artist",name:"titleSort",value:(o=t&&t.item,null==o||!1===o?o:o.titleSort),placeholder:(o=t&&t.placeholders,null==o||!1===o?o:o.titleSort),locked:(o=t&&t.locked,null==o||!1===o?o:o.titleSort),ratingKey:(o=t&&t.item,null==o||!1===o?o:o.ratingKey)},data:s}))+' </div> </div> <div class="row"> <div class="col-md-12"> '+c(i(n(46178)).call(t,"lockableTextInput",{hash:{label:"Biography",name:"summary",value:(o=t&&t.item,null==o||!1===o?o:o.summary),placeholder:(o=t&&t.placeholders,null==o||!1===o?o:o.summary),type:"textarea",rows:"5",locked:(o=t&&t.locked,null==o||!1===o?o:o.summary)},data:s}))+" </div> </div> </form> "}))},81570:(e,t,n)=>{var r=n(40202);function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(r.default||r).template((function(e,t,r,a,s){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),s=s||{};var o,l="",c=this.escapeExpression,d=this;return l+='<form class="edit-metadata-form"> <div class="row"> <div class="col-md-12"> '+c(i(n(46178)).call(t,"lockableTagInput",{hash:{label:"Genres",name:"genre",attribute:"genres",locked:(o=t&&t.locked,null==o||!1===o?o:o.genre)},data:s}))+" </div> </div> ",((o=r.if.call(t,null==(o=t&&t.editableTags)||!1===o?o:o["artist.style"],{hash:{},inverse:d.noop,fn:d.program(1,(function(e,t){var r;return""+' <div class="row"> <div class="col-md-12"> '+c(i(n(46178)).call(e,"lockableTagInput",{hash:{label:"Styles",name:"style",attribute:"styles",locked:(r=e&&e.locked,null==r||!1===r?r:r.style)},data:t}))+" </div> </div> "}),s),data:s}))||0===o)&&(l+=o),l+=" ",((o=r.if.call(t,null==(o=t&&t.editableTags)||!1===o?o:o["artist.mood"],{hash:{},inverse:d.noop,fn:d.program(3,(function(e,t){var r;return""+' <div class="row"> <div class="col-md-12"> '+c(i(n(46178)).call(e,"lockableTagInput",{hash:{label:"Moods",name:"mood",attribute:"moods",locked:(r=e&&e.locked,null==r||!1===r?r:r.mood)},data:t}))+" </div> </div> "}),s),data:s}))||0===o)&&(l+=o),l+=' <div class="row"> <div class="col-md-12"> '+c(i(n(46178)).call(t,"lockableTagInput",{hash:{label:"Country",name:"country",attribute:"countries",locked:(o=t&&t.locked,null==o||!1===o?o:o.country)},data:s}))+' </div> </div> <div class="row"> <div class="col-md-12"> '+c(i(n(46178)).call(t,"lockableTagInput",{hash:{label:"Collections",name:"collection",attribute:"collections",locked:(o=t&&t.locked,null==o||!1===o?o:o.collection)},data:s}))+" </div> </div> ",((o=r.if.call(t,t&&t.canEditSimilarArtists,{hash:{},inverse:d.noop,fn:d.program(5,(function(e,t){var r;return""+' <div class="row"> <div class="col-md-12"> '+c(i(n(46178)).call(e,"lockableTagInput",{hash:{label:"Similar Artists",name:"similar",attribute:"similar",query:"title",locked:(r=e&&e.locked,null==r||!1===r?r:r.similar)},data:t}))+" </div> </div> "}),s),data:s}))||0===o)&&(l+=o),l+" </form> "}))},13990:(e,t,n)=>{var r=n(40202);function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(r.default||r).template((function(e,t,r,a,s){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),s=s||{};var o,l="",c=this.escapeExpression,d=this;function u(e,t){return""+' <span class="artwork-file-container"> <input type="file" class="artwork-file-control" multiple> <a href="#">'+c(i(n(76273)).call(e,"choose an image",{hash:{},data:t}))+'</a> </span> <span class="upload-prompt-divider">&middot;</span> '+c(i(n(76273)).call(e,"drag and drop",{hash:{},data:t}))+' <span class="upload-prompt-divider">&middot;</span> '}return((o=r.if.call(t,t&&t.showUpload,{hash:{},inverse:d.noop,fn:d.program(1,(function(e,t){var a,s="";return s+=' <div class="upload-artwork-container"> <div class="upload-prompt"> ',((a=r.if.call(e,e&&e.showFileUpload,{hash:{},inverse:d.noop,fn:d.program(2,u,t),data:t}))||0===a)&&(s+=a),s+' <a class="upload-url-btn" href="#">'+c(i(n(76273)).call(e,"enter a url",{hash:{},data:t}))+'</a> </div> <div class="upload-progress"> '+c(i(n(76273)).call(e,"Uploading artwork...",{hash:{},data:t}))+' </div> <div class="upload-success"> '+c(i(n(76273)).call(e,"this artwork was uploaded successfully",{hash:{},data:t}))+' <span class="upload-prompt-divider">&middot;</span> '+c(i(n(76273)).call(e,"{1}upload another{2}",'<a class="upload-back-btn" href="#">',"</a>",{hash:{},data:t}))+' </div> <div class="upload-error"> '+c(i(n(76273)).call(e,"there was an error uploading this artwork",{hash:{},data:t}))+' <span class="upload-prompt-divider">&middot;</span> '+c(i(n(76273)).call(e,"{1}try again{2}",'<a class="upload-back-btn" href="#">',"</a>",{hash:{},data:t}))+' </div> <form id="upload-form" class="upload-form"> <input type="text" class="form-control" name="url" placeholder="'+c(i(n(76273)).call(e,"Enter a url to upload an image from the web",{hash:{},data:t}))+'"> <div class="upload-form-help"> <div class="pull-right">'+c(i(n(76273)).call(e,"enter to {1}upload{2}",'<a class="submit-url-btn" href="#">',"</a>",{hash:{},data:t}))+'</div> <div class="pull-left">'+c(i(n(76273)).call(e,"esc to {1}cancel{2}",'<a class="cancel-url-btn" href="#">',"</a>",{hash:{},data:t}))+"</div> </div> </form> </div> "}),s),data:s}))||0===o)&&(l+=o),l+' <div class="artwork-list-container"></div> '}))},70830:(e,t,n)=>{var r=n(40202);function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(r.default||r).template((function(e,t,r,a,s){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),s=s||{};var o,l="",c=this.escapeExpression;return l+'<form class="edit-metadata-form"> <div class="row"> <div class="col-md-12 selectize"> '+c(i(n(46178)).call(t,"lockableTextInput",{hash:{label:"Title",name:"title",value:(o=t&&t.item,null==o||!1===o?o:o.title),placeholder:(o=t&&t.placeholders,null==o||!1===o?o:o.title),locked:(o=t&&t.locked,null==o||!1===o?o:o.title),ratingKey:(o=t&&t.item,null==o||!1===o?o:o.ratingKey)},data:s}))+' </div> </div> <div class="row"> <div class="col-md-8 selectize"> '+c(i(n(46178)).call(t,"lockableTextInput",{hash:{label:"Sort Title",name:"titleSort",value:(o=t&&t.item,null==o||!1===o?o:o.titleSort),placeholder:(o=t&&t.placeholders,null==o||!1===o?o:o.titleSort),locked:(o=t&&t.locked,null==o||!1===o?o:o.titleSort),ratingKey:(o=t&&t.item,null==o||!1===o?o:o.ratingKey)},data:s}))+' </div> <div class="col-md-4 selectize"> '+c(i(n(46178)).call(t,"lockableTextInput",{hash:{label:"Content Rating",name:"contentRating",value:(o=t&&t.item,null==o||!1===o?o:o.contentRating),placeholder:(o=t&&t.placeholders,null==o||!1===o?o:o.contentRating),locked:(o=t&&t.locked,null==o||!1===o?o:o.contentRating),ratingKey:(o=t&&t.item,null==o||!1===o?o:o.ratingKey)},data:s}))+' </div> </div> <div class="row"> <div class="col-md-12"> '+c(i(n(46178)).call(t,"lockableTextInput",{hash:{label:"Summary",name:"summary",value:(o=t&&t.item,null==o||!1===o?o:o.summary),placeholder:(o=t&&t.placeholders,null==o||!1===o?o:o.summary),type:"textarea",rows:"5",locked:(o=t&&t.locked,null==o||!1===o?o:o.summary)},data:s}))+" </div> </div> </form> "}))},26726:(e,t,n)=>{var r=n(40202);function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(r.default||r).template((function(e,t,r,a,s){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),s=s||{};var o,l="",c=this.escapeExpression;return l+'<form class="edit-metadata-form"> <div class="row"> <div class="col-md-12"> '+c(i(n(46178)).call(t,"lockableTextInput",{hash:{label:"Title",name:"title",value:(o=t&&t.item,null==o||!1===o?o:o.title),placeholder:(o=t&&t.placeholders,null==o||!1===o?o:o.title),locked:(o=t&&t.locked,null==o||!1===o?o:o.title)},data:s}))+' </div> </div> <div class="row"> <div class="col-md-12"> '+c(i(n(46178)).call(t,"lockableTextInput",{hash:{label:"Sort Title",name:"titleSort",value:(o=t&&t.item,null==o||!1===o?o:o.titleSort),placeholder:(o=t&&t.placeholders,null==o||!1===o?o:o.titleSort),locked:(o=t&&t.locked,null==o||!1===o?o:o.titleSort)},data:s}))+' </div> </div> <div class="row"> <div class="col-md-4"> '+c(i(n(46178)).call(t,"lockableTextInput",{hash:{label:"Originally Available",name:"originallyAvailableAt",value:(o=t&&t.item,null==o||!1===o?o:o.originallyAvailableAt),placeholder:(o=t&&t.placeholders,null==o||!1===o?o:o.originallyAvailableAt),locked:(o=t&&t.locked,null==o||!1===o?o:o.originallyAvailableAt)},data:s}))+' </div> <div class="col-md-4 selectize"> '+c(i(n(46178)).call(t,"lockableTextInput",{hash:{label:"Content Rating",name:"contentRating",value:(o=t&&t.item,null==o||!1===o?o:o.contentRating),placeholder:(o=t&&t.placeholders,null==o||!1===o?o:o.contentRating),locked:(o=t&&t.locked,null==o||!1===o?o:o.contentRating),ratingKey:(o=t&&t.item,null==o||!1===o?o:o.ratingKey)},data:s}))+' </div> <div class="col-md-4"> <label>'+c(i(n(76273)).call(t,"Rating",{hash:{},data:s}))+'</label> <div class="rating-region"></div> </div> </div> <div class="row"> <div class="col-md-12"> '+c(i(n(46178)).call(t,"lockableTextInput",{hash:{label:"Summary",name:"summary",value:(o=t&&t.item,null==o||!1===o?o:o.summary),placeholder:(o=t&&t.placeholders,null==o||!1===o?o:o.summary),type:"textarea",rows:"5",locked:(o=t&&t.locked,null==o||!1===o?o:o.summary)},data:s}))+" </div> </div> </form> "}))},29800:(e,t,n)=>{var r=n(40202);function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(r.default||r).template((function(e,t,r,a,s){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),s=s||{};var o,l="",c=this.escapeExpression;return l+'<form class="edit-metadata-form"> <div class="row"> <div class="col-md-12"> '+c(i(n(46178)).call(t,"lockableTagInput",{hash:{label:"Writers",name:"writer",attribute:"writers",locked:(o=t&&t.locked,null==o||!1===o?o:o.writer)},data:s}))+' </div> </div> <div class="row"> <div class="col-md-12"> '+c(i(n(46178)).call(t,"lockableTagInput",{hash:{label:"Directors",name:"director",attribute:"directors",locked:(o=t&&t.locked,null==o||!1===o?o:o.director)},data:s}))+" </div> </div> </form> "}))},39706:(e,t,n)=>{var r=n(40202);e.exports=(r.default||r).template((function(e,t,r,i,a){var s;return this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),a=a||{},""+"<h4>"+(0,this.escapeExpression)((s=n(76273),s&&(s.__esModule?s.default:s)).call(t,"Files",{hash:{},data:a}))+'</h4> <ul class="media-info-file-list"></ul> <div class="loading-container"><div class="loading"></div></div> '}))},17441:(e,t,n)=>{var r=n(40202);e.exports=(r.default||r).template((function(e,t,n,r,i){var a;return this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),i=i||{},""+((0,this.escapeExpression)((a=n.file)||"function"==typeof(a=t&&t.file)?a.call(t,{hash:{},data:i}):a)+" ")}))},8982:(e,t,n)=>{var r=n(40202);function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(r.default||r).template((function(e,t,r,a,s){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),s=s||{};var o,l="",c=this.escapeExpression,d=this;return l+='<form class="edit-metadata-form"> <div class="row"> <div class="col-md-12 selectize"> '+c(i(n(46178)).call(t,"lockableTextInput",{hash:{label:"Title",name:"title",value:(o=t&&t.item,null==o||!1===o?o:o.title),placeholder:(o=t&&t.placeholders,null==o||!1===o?o:o.title),locked:(o=t&&t.locked,null==o||!1===o?o:o.title),ratingKey:(o=t&&t.item,null==o||!1===o?o:o.ratingKey)},data:s}))+' </div> </div> <div class="row"> <div class="col-md-12 selectize"> '+c(i(n(46178)).call(t,"lockableTextInput",{hash:{label:"Sort Title",name:"titleSort",value:(o=t&&t.item,null==o||!1===o?o:o.titleSort),placeholder:(o=t&&t.placeholders,null==o||!1===o?o:o.titleSort),locked:(o=t&&t.locked,null==o||!1===o?o:o.titleSort),ratingKey:(o=t&&t.item,null==o||!1===o?o:o.ratingKey)},data:s}))+' </div> </div> <div class="row"> <div class="col-md-12 selectize"> '+c(i(n(46178)).call(t,"lockableTextInput",{hash:{label:"Original Title",name:"originalTitle",value:(o=t&&t.item,null==o||!1===o?o:o.originalTitle),placeholder:(o=t&&t.placeholders,null==o||!1===o?o:o.originalTitle),locked:(o=t&&t.locked,null==o||!1===o?o:o.originalTitle),ratingKey:(o=t&&t.item,null==o||!1===o?o:o.ratingKey)},data:s}))+' </div> </div> <div class="row"> <div class="col-md-4"> ',((o=r.if.call(t,t&&t.supportsLinkedYears,{hash:{},inverse:d.program(3,(function(e,t){var r;return""+" "+c(i(n(46178)).call(e,"lockableTextInput",{hash:{label:"Year",name:"year",value:(r=e&&e.item,null==r||!1===r?r:r.year),placeholder:(r=e&&e.placeholders,null==r||!1===r?r:r.year),locked:(r=e&&e.locked,null==r||!1===r?r:r.year)},data:t}))+" "}),s),fn:d.program(1,(function(e,t){var r;return""+" "+c(i(n(46178)).call(e,"lockableTextInput",{hash:{label:"Originally Available",name:"originallyAvailableAt",value:(r=e&&e.item,null==r||!1===r?r:r.originallyAvailableAt),placeholder:(r=e&&e.placeholders,null==r||!1===r?r:r.originallyAvailableAt),locked:(r=e&&e.locked,null==r||!1===r?r:r.originallyAvailableAt)},data:t}))+" "}),s),data:s}))||0===o)&&(l+=o),l+=' </div> <div class="col-md-4 selectize"> '+c(i(n(46178)).call(t,"lockableTextInput",{hash:{label:"Content Rating",name:"contentRating",value:(o=t&&t.item,null==o||!1===o?o:o.contentRating),placeholder:(o=t&&t.placeholders,null==o||!1===o?o:o.contentRating),locked:(o=t&&t.locked,null==o||!1===o?o:o.contentRating),ratingKey:(o=t&&t.item,null==o||!1===o?o:o.ratingKey)},data:s}))+' </div> <div class="col-md-4"> <label>'+c(i(n(76273)).call(t,"Rating",{hash:{},data:s}))+'</label> <div class="rating-region"></div> </div> </div> <div class="row"> <div class="col-md-',((o=r.if.call(t,t&&t.supportsLinkedYears,{hash:{},inverse:d.program(7,(function(e,t){return"6"}),s),fn:d.program(5,(function(e,t){return"12"}),s),data:s}))||0===o)&&(l+=o),l+=' selectize"> '+c(i(n(46178)).call(t,"lockableTextInput",{hash:{label:"Studio",name:"studio",value:(o=t&&t.item,null==o||!1===o?o:o.studio),placeholder:(o=t&&t.placeholders,null==o||!1===o?o:o.studio),locked:(o=t&&t.locked,null==o||!1===o?o:o.studio),ratingKey:(o=t&&t.item,null==o||!1===o?o:o.ratingKey)},data:s}))+" </div> ",((o=r.unless.call(t,t&&t.supportsLinkedYears,{hash:{},inverse:d.noop,fn:d.program(9,(function(e,t){var r;return""+' <div class="col-md-6"> '+c(i(n(46178)).call(e,"lockableTextInput",{hash:{label:"Originally Available",name:"originallyAvailableAt",value:(r=e&&e.item,null==r||!1===r?r:r.originallyAvailableAt),placeholder:(r=e&&e.placeholders,null==r||!1===r?r:r.originallyAvailableAt),locked:(r=e&&e.locked,null==r||!1===r?r:r.originallyAvailableAt)},data:t}))+" </div> "}),s),data:s}))||0===o)&&(l+=o),l+' </div> <div class="row"> <div class="col-md-12"> '+c(i(n(46178)).call(t,"lockableTextInput",{hash:{label:"Tagline",name:"tagline",value:(o=t&&t.item,null==o||!1===o?o:o.tagline),placeholder:(o=t&&t.placeholders,null==o||!1===o?o:o.tagline),locked:(o=t&&t.locked,null==o||!1===o?o:o.tagline)},data:s}))+' </div> </div> <div class="row"> <div class="col-md-12"> '+c(i(n(46178)).call(t,"lockableTextInput",{hash:{label:"Summary",name:"summary",value:(o=t&&t.item,null==o||!1===o?o:o.summary),placeholder:(o=t&&t.placeholders,null==o||!1===o?o:o.summary),type:"textarea",rows:"5",locked:(o=t&&t.locked,null==o||!1===o?o:o.summary)},data:s}))+" </div> </div> </form> "}))},4922:(e,t,n)=>{var r=n(40202);function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(r.default||r).template((function(e,t,r,a,s){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),s=s||{};var o,l="",c=this.escapeExpression;return l+'<form class="edit-metadata-form"> <div class="row"> <div class="col-md-6"> '+c(i(n(46178)).call(t,"lockableTagInput",{hash:{label:"Directors",name:"director",attribute:"directors",locked:(o=t&&t.locked,null==o||!1===o?o:o.director)},data:s}))+' </div> <div class="col-md-6"> '+c(i(n(46178)).call(t,"lockableTagInput",{hash:{label:"Country",name:"country",attribute:"countries",locked:(o=t&&t.locked,null==o||!1===o?o:o.country)},data:s}))+' </div> </div> <div class="row"> <div class="col-md-12"> '+c(i(n(46178)).call(t,"lockableTagInput",{hash:{label:"Genres",name:"genre",attribute:"genres",locked:(o=t&&t.locked,null==o||!1===o?o:o.genre)},data:s}))+' </div> </div> <div class="row"> <div class="col-md-12"> '+c(i(n(46178)).call(t,"lockableTagInput",{hash:{label:"Writers",name:"writer",attribute:"writers",locked:(o=t&&t.locked,null==o||!1===o?o:o.writer)},data:s}))+' </div> </div> <div class="row"> <div class="col-md-12"> '+c(i(n(46178)).call(t,"lockableTagInput",{hash:{label:"Producers",name:"producer",attribute:"producers",locked:(o=t&&t.locked,null==o||!1===o?o:o.producer)},data:s}))+' </div> </div> <div class="row"> <div class="col-md-12"> '+c(i(n(46178)).call(t,"lockableTagInput",{hash:{label:"Collections",name:"collection",attribute:"collections",locked:(o=t&&t.locked,null==o||!1===o?o:o.collection)},data:s}))+" </div> </div> </form> "}))},3657:(e,t,n)=>{var r=n(40202);function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(r.default||r).template((function(e,t,r,a,s){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),s=s||{};var o,l="",c=this.escapeExpression;return l+'<form class="edit-metadata-form"> <div class="row"> <div class="col-md-6"> '+c(i(n(46178)).call(t,"lockableTextInput",{hash:{label:"Title",name:"title",value:(o=t&&t.item,null==o||!1===o?o:o.title),placeholder:(o=t&&t.placeholders,null==o||!1===o?o:o.title),locked:(o=t&&t.locked,null==o||!1===o?o:o.title)},data:s}))+' </div> <div class="col-md-6"> '+c(i(n(46178)).call(t,"lockableTextInput",{hash:{label:"Sort Title",name:"titleSort",value:(o=t&&t.item,null==o||!1===o?o:o.titleSort),placeholder:(o=t&&t.placeholders,null==o||!1===o?o:o.titleSort),locked:(o=t&&t.locked,null==o||!1===o?o:o.titleSort)},data:s}))+' </div> </div> <div class="row"> <div class="col-md-12"> '+c(i(n(46178)).call(t,"lockableTextInput",{hash:{label:"Summary",name:"summary",value:(o=t&&t.item,null==o||!1===o?o:o.summary),placeholder:(o=t&&t.placeholders,null==o||!1===o?o:o.summary),type:"textarea",rows:"5",locked:(o=t&&t.locked,null==o||!1===o?o:o.summary)},data:s}))+" </div> </div> </form> "}))},18704:(e,t,n)=>{var r=n(40202);function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(r.default||r).template((function(e,t,r,a,s){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),s=s||{};var o,l="",c=this.escapeExpression;return l+'<form class="edit-metadata-form"> <div class="row"> <div class="col-md-12"> '+c(i(n(46178)).call(t,"lockableTextInput",{hash:{label:"Title",name:"title",value:(o=t&&t.item,null==o||!1===o?o:o.title),placeholder:(o=t&&t.placeholders,null==o||!1===o?o:o.title),locked:(o=t&&t.locked,null==o||!1===o?o:o.title)},data:s}))+' </div> </div> <div class="row"> <div class="col-md-12"> '+c(i(n(46178)).call(t,"lockableTextInput",{hash:{label:"Sort Title",name:"titleSort",value:(o=t&&t.item,null==o||!1===o?o:o.titleSort),placeholder:(o=t&&t.placeholders,null==o||!1===o?o:o.titleSort),locked:(o=t&&t.locked,null==o||!1===o?o:o.titleSort)},data:s}))+' </div> </div> <div class="row"> <div class="col-md-9"> '+c(i(n(46178)).call(t,"lockableTextInput",{hash:{label:"Captured Time",name:"originallyAvailableAt",value:(o=t&&t.item,null==o||!1===o?o:o.originallyAvailableAt),placeholder:(o=t&&t.placeholders,null==o||!1===o?o:o.capturedTime),locked:(o=t&&t.locked,null==o||!1===o?o:o.originallyAvailableAt)},data:s}))+' </div> </div> <div class="row"> <div class="col-md-12"> '+c(i(n(46178)).call(t,"lockableTextInput",{hash:{label:"Summary",name:"summary",value:(o=t&&t.item,null==o||!1===o?o:o.summary),placeholder:(o=t&&t.placeholders,null==o||!1===o?o:o.summary),type:"textarea",rows:"5",locked:(o=t&&t.locked,null==o||!1===o?o:o.summary)},data:s}))+" </div> </div> </form> "}))},2362:(e,t,n)=>{var r=n(40202);function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(r.default||r).template((function(e,t,r,a,s){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),s=s||{};var o,l="",c=this.escapeExpression;return l+'<form class="edit-metadata-form"> <div class="row"> <div class="col-md-12"> '+c(i(n(46178)).call(t,"lockableTagInput",{hash:{label:"Tags",name:"tag",attribute:"tags",locked:(o=t&&t.locked,null==o||!1===o?o:o.tag)},data:s}))+' </div> </div> <div class="row"> <div class="col-md-12"> '+c(i(n(46178)).call(t,"lockableTagInput",{hash:{onlyDelete:!0,label:"Autotags",name:"autotag",attribute:"autotags",locked:(o=t&&t.locked,null==o||!1===o?o:o.autotag)},data:s}))+" </div> </div> </form> "}))},88949:(e,t,n)=>{var r=n(40202);function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(r.default||r).template((function(e,t,r,a,s){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),s=s||{};var o,l="",c=this.escapeExpression;return l+'<form class="edit-metadata-form"> <div class="row"> <div class="col-md-12"> '+c(i(n(46178)).call(t,"textInput",{hash:{label:"Title",name:"title",value:(o=t&&t.item,null==o||!1===o?o:o.title)},data:s}))+' </div> </div> <div class="row"> <div class="col-md-12"> '+c(i(n(46178)).call(t,"textInput",{hash:{label:"Summary",name:"summary",value:(o=t&&t.item,null==o||!1===o?o:o.summary),placeholder:(o=t&&t.placeholders,null==o||!1===o?o:o.summary),type:"textarea",rows:"5"},data:s}))+" </div> </div> </form> "}))},88311:(e,t,n)=>{var r=n(40202);function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(r.default||r).template((function(e,t,r,a,s){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),s=s||{};var o,l="",c=this.escapeExpression;return l+'<form class="edit-metadata-form"> <div class="row"> <div class="col-md-12"> '+c(i(n(46178)).call(t,"lockableTextInput",{hash:{label:"Title",name:"title",value:(o=t&&t.item,null==o||!1===o?o:o.title),placeholder:(o=t&&t.placeholders,null==o||!1===o?o:o.title),locked:(o=t&&t.locked,null==o||!1===o?o:o.title)},data:s}))+' </div> </div> <div class="row"> <div class="col-md-12"> '+c(i(n(46178)).call(t,"lockableTextInput",{hash:{label:"Summary",name:"summary",value:(o=t&&t.item,null==o||!1===o?o:o.summary),placeholder:(o=t&&t.placeholders,null==o||!1===o?o:o.summary),type:"textarea",rows:"5",locked:(o=t&&t.locked,null==o||!1===o?o:o.summary)},data:s}))+" </div> </div> </form> "}))},52223:(e,t,n)=>{var r=n(40202);function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(r.default||r).template((function(e,t,r,a,s){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),s=s||{};var o,l="",c=this.escapeExpression,d=this;function u(e,t){var r;return""+" "+c(i(n(46178)).call(e,"lockableTagInput",{hash:{label:"Labels",name:"label",attribute:"labels",locked:(r=e&&e.locked,null==r||!1===r?r:r.label)},data:t}))+" "}function p(e,t){return""+' <div class="form-group"> <label>'+c(i(n(76273)).call(e,"Labels",{hash:{},data:t}))+"</label> <p>"+c(i(n(76273)).call(e,"Labels require Plex Media Server {1} or later.",e&&e.escapedLabelsMinVersion,{hash:{},data:t}))+"</p> </div> "}return((o=r.if.call(t,t&&t.hasContentFilterFeature,{hash:{},inverse:d.program(6,(function(e,t){var r;return""+' <div class="row row-padded"> <h4 class="text-muted text-center">'+c(i(n(76273)).call(e,"You need a Plex Pass to use restrictions.",{hash:{},data:t}))+'</h4> <p class="text-center"> <a class="btn btn-sm btn-primary" href="'+c("function"==typeof(r=e&&e.plexPassUrl)?r.apply(e):r)+'" target="_blank">'+c(i(n(76273)).call(e,"Learn More",{hash:{},data:t}))+"</a> </p> </div> "}),s),fn:d.program(1,(function(e,t){var n,i="";return i+=' <form class="edit-metadata-form"> <div class="row"> <div class="col-md-12"> ',((n=r.if.call(e,e&&e.showLabels,{hash:{},inverse:d.program(4,p,t),fn:d.program(2,u,t),data:t}))||0===n)&&(i+=n),i+" </div> </div> </form> "}),s),data:s}))||0===o)&&(l+=o),l+" "}))},48526:(e,t,n)=>{var r=n(40202);function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(r.default||r).template((function(e,t,r,a,s){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),s=s||{};var o,l="",c=this.escapeExpression,d=this;return l+='<form class="edit-metadata-form"> <div class="row"> <div class="col-md-12 selectize"> '+c(i(n(46178)).call(t,"lockableTextInput",{hash:{label:"Title",name:"title",value:(o=t&&t.item,null==o||!1===o?o:o.title),placeholder:(o=t&&t.placeholders,null==o||!1===o?o:o.title),locked:(o=t&&t.locked,null==o||!1===o?o:o.title),ratingKey:(o=t&&t.item,null==o||!1===o?o:o.ratingKey)},data:s}))+' </div> </div> <div class="row"> <div class="col-md-12 selectize"> '+c(i(n(46178)).call(t,"lockableTextInput",{hash:{label:"Sort Title",name:"titleSort",value:(o=t&&t.item,null==o||!1===o?o:o.titleSort),placeholder:(o=t&&t.placeholders,null==o||!1===o?o:o.titleSort),locked:(o=t&&t.locked,null==o||!1===o?o:o.titleSort),ratingKey:(o=t&&t.item,null==o||!1===o?o:o.ratingKey)},data:s}))+' </div> </div> <div class="row"> <div class="col-md-12 selectize"> '+c(i(n(46178)).call(t,"lockableTextInput",{hash:{label:"Original Title",name:"originalTitle",value:(o=t&&t.item,null==o||!1===o?o:o.originalTitle),placeholder:(o=t&&t.placeholders,null==o||!1===o?o:o.originalTitle),locked:(o=t&&t.locked,null==o||!1===o?o:o.originalTitle),ratingKey:(o=t&&t.item,null==o||!1===o?o:o.ratingKey)},data:s}))+' </div> </div> <div class="row"> <div class="col-md-4"> ',((o=r.if.call(t,t&&t.supportsLinkedYears,{hash:{},inverse:d.program(3,(function(e,t){var r;return""+" "+c(i(n(46178)).call(e,"lockableTextInput",{hash:{label:"Year",name:"year",value:(r=e&&e.item,null==r||!1===r?r:r.year),placeholder:(r=e&&e.placeholders,null==r||!1===r?r:r.year),locked:(r=e&&e.locked,null==r||!1===r?r:r.year)},data:t}))+" "}),s),fn:d.program(1,(function(e,t){var r;return""+" "+c(i(n(46178)).call(e,"lockableTextInput",{hash:{label:"Originally Available",name:"originallyAvailableAt",value:(r=e&&e.item,null==r||!1===r?r:r.originallyAvailableAt),placeholder:(r=e&&e.placeholders,null==r||!1===r?r:r.originallyAvailableAt),locked:(r=e&&e.locked,null==r||!1===r?r:r.originallyAvailableAt)},data:t}))+" "}),s),data:s}))||0===o)&&(l+=o),l+=' </div> <div class="col-md-4 selectize"> '+c(i(n(46178)).call(t,"lockableTextInput",{hash:{label:"Content Rating",name:"contentRating",value:(o=t&&t.item,null==o||!1===o?o:o.contentRating),placeholder:(o=t&&t.placeholders,null==o||!1===o?o:o.contentRating),locked:(o=t&&t.locked,null==o||!1===o?o:o.contentRating),ratingKey:(o=t&&t.item,null==o||!1===o?o:o.ratingKey)},data:s}))+' </div> <div class="col-md-4"> <label>'+c(i(n(76273)).call(t,"Rating",{hash:{},data:s}))+'</label> <div class="rating-region"></div> </div> </div> <div class="row"> <div class="col-md-',((o=r.if.call(t,t&&t.supportsLinkedYears,{hash:{},inverse:d.program(7,(function(e,t){return"6"}),s),fn:d.program(5,(function(e,t){return"12"}),s),data:s}))||0===o)&&(l+=o),l+=' selectize"> '+c(i(n(46178)).call(t,"lockableTextInput",{hash:{label:"Studio",name:"studio",value:(o=t&&t.item,null==o||!1===o?o:o.studio),placeholder:(o=t&&t.placeholders,null==o||!1===o?o:o.studio),locked:(o=t&&t.locked,null==o||!1===o?o:o.studio),ratingKey:(o=t&&t.item,null==o||!1===o?o:o.ratingKey)},data:s}))+" </div> ",((o=r.unless.call(t,t&&t.supportsLinkedYears,{hash:{},inverse:d.noop,fn:d.program(9,(function(e,t){var r;return""+' <div class="col-md-6"> '+c(i(n(46178)).call(e,"lockableTextInput",{hash:{label:"Originally Available",name:"originallyAvailableAt",value:(r=e&&e.item,null==r||!1===r?r:r.originallyAvailableAt),placeholder:(r=e&&e.placeholders,null==r||!1===r?r:r.originallyAvailableAt),locked:(r=e&&e.locked,null==r||!1===r?r:r.originallyAvailableAt)},data:t}))+" </div> "}),s),data:s}))||0===o)&&(l+=o),l+' </div> <div class="row"> <div class="col-md-12"> '+c(i(n(46178)).call(t,"lockableTextInput",{hash:{label:"Tagline",name:"tagline",value:(o=t&&t.item,null==o||!1===o?o:o.tagline),placeholder:(o=t&&t.placeholders,null==o||!1===o?o:o.tagline),locked:(o=t&&t.locked,null==o||!1===o?o:o.tagline)},data:s}))+' </div> </div> <div class="row"> <div class="col-md-12"> '+c(i(n(46178)).call(t,"lockableTextInput",{hash:{label:"Summary",name:"summary",value:(o=t&&t.item,null==o||!1===o?o:o.summary),placeholder:(o=t&&t.placeholders,null==o||!1===o?o:o.summary),type:"textarea",rows:"5",locked:(o=t&&t.locked,null==o||!1===o?o:o.summary)},data:s}))+" </div> </div> </form> "}))},79988:(e,t,n)=>{var r=n(40202);function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(r.default||r).template((function(e,t,r,a,s){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),s=s||{};var o,l="",c=this.escapeExpression;return l+'<form class="edit-metadata-form"> <div class="row"> <div class="col-md-12"> '+c(i(n(46178)).call(t,"lockableTagInput",{hash:{label:"Genres",name:"genre",attribute:"genres",locked:(o=t&&t.locked,null==o||!1===o?o:o.genre)},data:s}))+' </div> </div> <div class="row"> <div class="col-md-12"> '+c(i(n(46178)).call(t,"lockableTagInput",{hash:{label:"Collections",name:"collection",attribute:"collections",locked:(o=t&&t.locked,null==o||!1===o?o:o.collection)},data:s}))+" </div> </div> </form> "}))},52030:(e,t,n)=>{var r=n(40202);function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(r.default||r).template((function(e,t,r,a,s){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),s=s||{};var o,l="",c=this.escapeExpression;return l+='<form class="edit-metadata-form"> ',((o=r.if.call(t,t&&t.canReparent,{hash:{},inverse:this.noop,fn:this.program(1,(function(e,t){var r;return""+' <div class="row"> <div class="col-md-12 selectize"> '+c(i(n(46178)).call(e,"autocompleteTextInput",{hash:{label:"Album Artist",name:"grandparentTitle",placeholder:(r=e&&e.placeholders,null==r||!1===r?r:r.grandparentTitle),ratingKey:(r=e&&e.item,null==r||!1===r?r:r.grandparentRatingKey),title:(r=e&&e.item,null==r||!1===r?r:r.grandparentTitle)},data:t}))+' </div> </div> <div class="row"> <div class="col-md-12 selectize"> '+c(i(n(46178)).call(e,"autocompleteTextInput",{hash:{label:"Album",name:"parentTitle",placeholder:(r=e&&e.placeholders,null==r||!1===r?r:r.parentTitle),ratingKey:(r=e&&e.item,null==r||!1===r?r:r.parentRatingKey),title:(r=e&&e.item,null==r||!1===r?r:r.parentTitle),scopeToAttr:"grandparentRatingKey",scopeToParam:"artist.id"},data:t}))+" </div> </div> "}),s),data:s}))||0===o)&&(l+=o),l+' <div class="row"> <div class="col-md-12"> '+c(i(n(46178)).call(t,"lockableTextInput",{hash:{label:"Title",name:"title",value:(o=t&&t.item,null==o||!1===o?o:o.title),placeholder:(o=t&&t.placeholders,null==o||!1===o?o:o.title),locked:(o=t&&t.locked,null==o||!1===o?o:o.title)},data:s}))+' </div> </div> <div class="row"> <div class="col-md-4"> <label>'+c(i(n(76273)).call(t,"Rating",{hash:{},data:s}))+'</label> <div class="rating-region"></div> </div> <div class="col-md-4"> '+c(i(n(46178)).call(t,"lockableNumericInput",{hash:{label:"Track",name:"index",value:(o=t&&t.item,null==o||!1===o?o:o.index),placeholder:(o=t&&t.placeholders,null==o||!1===o?o:o.index),locked:(o=t&&t.locked,null==o||!1===o?o:o.index),disabled:t&&t.disableIndices},data:s}))+' </div> <div class="col-md-4"> '+c(i(n(46178)).call(t,"lockableNumericInput",{hash:{label:"Disc",name:"parentIndex",value:(o=t&&t.item,null==o||!1===o?o:o.parentIndex),placeholder:(o=t&&t.placeholders,null==o||!1===o?o:o.parentIndex),locked:(o=t&&t.locked,null==o||!1===o?o:o.parentIndex),disabled:t&&t.disableIndices},data:s}))+' </div> </div> <div class="row"> <div class="col-md-12 selectize"> '+c(i(n(46178)).call(t,"lockableTextInput",{hash:{label:"Artist",name:"originalTitle",value:(o=t&&t.item,null==o||!1===o?o:o.originalTitle),placeholder:(o=t&&t.placeholders,null==o||!1===o?o:o.originalTitle),locked:(o=t&&t.locked,null==o||!1===o?o:o.originalTitle),ratingKey:(o=t&&t.item,null==o||!1===o?o:o.ratingKey)},data:s}))+" </div> </div> </form> "}))},58830:(e,t,n)=>{var r=n(40202);function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(r.default||r).template((function(e,t,r,a,s){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),s=s||{};var o,l="",c=this.escapeExpression,d=this;return l+='<form class="edit-metadata-form"> ',((o=r.if.call(t,null==(o=t&&t.editableTags)||!1===o?o:o["track.style"],{hash:{},inverse:d.noop,fn:d.program(1,(function(e,t){var r;return""+' <div class="row"> <div class="col-md-12"> '+c(i(n(46178)).call(e,"lockableTagInput",{hash:{label:"Styles",name:"style",attribute:"styles",locked:(r=e&&e.locked,null==r||!1===r?r:r.style)},data:t}))+" </div> </div> "}),s),data:s}))||0===o)&&(l+=o),l+=" ",((o=r.if.call(t,null==(o=t&&t.editableTags)||!1===o?o:o["track.mood"],{hash:{},inverse:d.noop,fn:d.program(3,(function(e,t){var r;return""+' <div class="row"> <div class="col-md-12"> '+c(i(n(46178)).call(e,"lockableTagInput",{hash:{label:"Moods",name:"mood",attribute:"moods",locked:(r=e&&e.locked,null==r||!1===r?r:r.mood)},data:t}))+" </div> </div> "}),s),data:s}))||0===o)&&(l+=o),l+" </form> "}))},72988:(e,t,n)=>{var r=n(40202);function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(r.default||r).template((function(e,t,r,a,s){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),s=s||{};var o,l="",c=this.escapeExpression,d=this;function u(e,t){return""+" "+c(i(n(46178)).call(e,"setting",{hash:{idSuffix:"_c"},data:t}))+" "}return((o=r.if.call(t,t&&t.settings,{hash:{},inverse:d.noop,fn:d.program(1,(function(e,t){var a,s="";return s+=' <div class="setup-agent-section"> <div class="setup-agent-title">'+c(i(n(76273)).call(e,"{1} Settings",e&&e.escapedAgentName,{hash:{},data:t}))+'</div> <p class="setup-agent-disclaimer">'+c(i(n(76273)).call(e,"Note: These settings will take effect for all libraries using the {1} agent.",e&&e.escapedAgentName,{hash:{},data:t}))+'</p> <div class="setup-agent-settings"> ',((a=r.each.call(e,e&&e.settings,{hash:{},inverse:d.noop,fn:d.program(2,u,t),data:t}))||0===a)&&(s+=a),s+" </div> </div> "}),s),data:s}))||0===o)&&(l+=o),l+" "}))},43298:(e,t,n)=>{var r=n(40202);function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(r.default||r).template((function(e,t,r,a,s){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),s=s||{};var o="",l=this.escapeExpression;return o+'<form class="edit-section-type-form settings-container"> <p>'+l(i(n(76273)).call(t,"There was an error adding this library.",{hash:{},data:s}))+"</p> <p>"+l(i(n(76273)).call(t,"Please visit the {1}forums{2} and provide your logs, as described {3}here{4}.",'<a href="https://forums.plex.tv" target="_blank">',"</a>",'<a href="http://support.plex.tv/hc/en-us/articles/200250417-Log-File-Locations/?utm_source=Plex%20Apps&utm_medium=Plex%20Web&utm_campaign=Plex%20Apps" target="_blank">',"</a>",{hash:{},data:s}))+"</p> </form> "}))},1922:(e,t,n)=>{var r=n(40202);function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(r.default||r).template((function(e,t,r,a,s){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),s=s||{};var o,l="",c=this,d=this.escapeExpression;function u(e,t){return' <i class="server-alert-icon glyphicon bullhorn"></i> '}function p(e,t){var r;return(r=i(n(78356)).call(e,null==(r=e&&e.event)||!1===r?r:r._type,"playing",{hash:{},inverse:c.program(9,h,t),fn:c.program(7,m,t),data:t}))||0===r?r:""}function m(e,t){return' <i class="server-alert-icon glyphicon imac"></i> '}function h(e,t){var r;return(r=i(n(78356)).call(e,null==(r=e&&e.event)||!1===r?r:r._type,"websocket",{hash:{},inverse:c.program(13,v,t),fn:c.program(10,g,t),data:t}))||0===r?r:""}function g(e,t){var n,i="";return i+=" ",((n=r.if.call(e,null==(n=e&&e.event)||!1===n?n:n.opened,{hash:{},inverse:c.program(11,y,t),fn:c.program(4,u,t),data:t}))||0===n)&&(i+=n),i+" "}function y(e,t){return' <i class="server-alert-icon glyphicon warning-sign"></i> '}function v(e,t){var r;return(r=i(n(78356)).call(e,null==(r=e&&e.event)||!1===r?r:r.state,0,{hash:{},inverse:c.program(16,b,t),fn:c.program(14,f,t),data:t}))||0===r?r:""}function f(e,t){return' <i class="server-alert-icon glyphicon plus"></i> '}function b(e,t){var r;return(r=i(n(78356)).call(e,null==(r=e&&e.event)||!1===r?r:r.state,5,{hash:{},inverse:c.program(19,S,t),fn:c.program(17,I,t),data:t}))||0===r?r:""}function I(e,t){return' <i class="server-alert-icon glyphicon ok-2"></i> '}function S(e,t){var r;return(r=i(n(78356)).call(e,null==(r=e&&e.event)||!1===r?r:r.state,6,{hash:{},inverse:c.program(22,E,t),fn:c.program(20,M,t),data:t}))||0===r?r:""}function M(e,t){return' <i class="server-alert-icon glyphicon magic"></i> '}function E(e,t){var r;return(r=i(n(78356)).call(e,null==(r=e&&e.event)||!1===r?r:r.state,9,{hash:{},inverse:c.program(25,D,t),fn:c.program(23,P,t),data:t}))||0===r?r:""}function P(e,t){return' <i class="server-alert-icon glyphicon bin"></i> '}function D(e,t){return' <i class="server-alert-icon glyphicon tags"></i> '}function C(e,t){var n,i="";return i+=" ",((n=r.if.call(e,null==(n=e&&e.event)||!1===n?n:n.message,{hash:{},inverse:c.program(33,Z,t),fn:c.program(31,w,t),data:t}))||0===n)&&(i+=n),i+" "}function w(e,t){var r;return""+" "+d(i(n(76273)).call(e,null==(r=e&&e.event)||!1===r?r:r.message,{hash:{},data:t}))+" "}function Z(e,t){var a,s="";return s+=" "+d(i(n(76273)).call(e,null==(a=e&&e.event)||!1===a?a:a.title,{hash:{},data:t})),((a=r.if.call(e,null==(a=e&&e.event)||!1===a?a:a.description,{hash:{},inverse:c.noop,fn:c.program(34,T,t),data:t}))||0===a)&&(s+=a),s+" "}function T(e,t){var r;return""+": "+d(i(n(76273)).call(e,null==(r=e&&e.event)||!1===r?r:r.description,{hash:{},data:t}))}function N(e,t){var r;return(r=i(n(78356)).call(e,null==(r=e&&e.event)||!1===r?r:r._type,"timeline",{hash:{},inverse:c.program(39,A,t),fn:c.program(37,O,t),data:t}))||0===r?r:""}function O(e,t){var r;return""+" "+d(i(n(76273)).call(e,null==(r=e&&e.event)||!1===r?r:r.stateString,{hash:{},data:t}))+' <a href="#!/server/'+d(i(n(34018)).call(e,e&&e.serverID,{hash:{},data:t}))+"/details?key="+d(i(n(34018)).call(e,e&&e.itemKey,{hash:{},data:t}))+'">'+d("function"==typeof(r=null==(r=e&&e.event)||!1===r?r:r.mediaTitle)?r.apply(e):r)+"</a> "}function A(e,t){var r;return(r=i(n(78356)).call(e,null==(r=e&&e.event)||!1===r?r:r._type,"playing",{hash:{},inverse:c.program(45,k,t),fn:c.program(40,x,t),data:t}))||0===r?r:""}function x(e,t){var n,i="";return i+=" ",((n=r.if.call(e,null==(n=e&&e.event)||!1===n?n:n.player,{hash:{},inverse:c.program(43,L,t),fn:c.program(41,j,t),data:t}))||0===n)&&(i+=n),i+" "}function j(e,t){return""+" "+d(i(n(76273)).call(e,"{1} started playing {2} on {3}.",e&&e.escapedEventUsername,e&&e.escapedEventTitle,e&&e.escapedEventPlayer,{hash:{},data:t}))+" "}function L(e,t){return""+" "+d(i(n(76273)).call(e,"{1} started playing {2}.",e&&e.escapedEventUsername,e&&e.escapedEventTitle,{hash:{},data:t}))+" "}function k(e,t){var r;return(r=i(n(78356)).call(e,null==(r=e&&e.event)||!1===r?r:r._type,"websocket",{hash:{},inverse:c.noop,fn:c.program(46,R,t),data:t}))||0===r?r:""}function R(e,t){var n,i="";return i+=" ",((n=r.if.call(e,null==(n=e&&e.event)||!1===n?n:n.opened,{hash:{},inverse:c.program(49,U,t),fn:c.program(47,z,t),data:t}))||0===n)&&(i+=n),i+" "}function z(e,t){return""+" "+d(i(n(76273)).call(e,"Opened connection to {1}, listening for events.",e&&e.escapedServerName,{hash:{},data:t}))+" "}function U(e,t){var n;return(n=r.if.call(e,null==(n=e&&e.event)||!1===n?n:n.closed,{hash:{},inverse:c.program(52,B,t),fn:c.program(50,V,t),data:t}))||0===n?n:""}function V(e,t){return""+" "+d(i(n(76273)).call(e,"Connection to {1} closed.",e&&e.escapedServerName,{hash:{},data:t}))+" "}function B(e,t){return""+" "+d(i(n(76273)).call(e,"Unable to listen for events on {1}.",e&&e.escapedServerName,{hash:{},data:t}))+" "}return l+='<div class="striped-list-inner-item alert-list-inner-item"> ',((o=i(n(78356)).call(t,null==(o=t&&t.event)||!1===o?o:o._type,"setting",{hash:{},inverse:c.program(3,(function(e,t){var r;return(r=i(n(78356)).call(e,null==(r=e&&e.event)||!1===r?r:r._type,"status",{hash:{},inverse:c.program(6,p,t),fn:c.program(4,u,t),data:t}))||0===r?r:""}),s),fn:c.program(1,(function(e,t){return' <i class="server-alert-icon glyphicon cogwheel"></i> '}),s),data:s}))||0===o)&&(l+=o),l+=' <div class="server-alert-details"> <span class="server-alert-time">'+d(i(n(16014)).call(t,null==(o=t&&t.event)||!1===o?o:o.time,t&&t.timeFormat,{hash:{},data:s}))+"</span> ",((o=i(n(78356)).call(t,null==(o=t&&t.event)||!1===o?o:o._type,"setting",{hash:{},inverse:c.program(29,(function(e,t){var r;return(r=i(n(78356)).call(e,null==(r=e&&e.event)||!1===r?r:r._type,"status",{hash:{},inverse:c.program(36,N,t),fn:c.program(30,C,t),data:t}))||0===r?r:""}),s),fn:c.program(27,(function(e,t){return""+" "+d(i(n(76273)).call(e,"{1} set to {2}.",e&&e.escapedEventLabel,e&&e.escapedEventValue,{hash:{},data:t}))+" "}),s),data:s}))||0===o)&&(l+=o),l+" </div> </div> "}))},68070:(e,t,n)=>{var r=n(40202);e.exports=(r.default||r).template((function(e,t,n,r,i){this.compilerInfo=[4,">= 1.0.0"],i=i||{};var a,s="",o=this;function l(e,t){return"hidden"}return s+='<a class="media-poster-container" href="#"> <div class="media-poster"> <div class="media-poster-overlay"></div> <div class="sync-status"> <div class="sync-status-transcode hidden"></div> <i class="sync-status-icon sync-complete-icon glyphicon ok-2 hidden"></i> <i class="sync-status-icon sync-processing-icon glyphicon more hidden"></i> <i class="sync-status-icon sync-failed-icon glyphicon warning-sign ',((a=(n=this.merge(n,e.helpers)).unless.call(t,t&&t.isFailure,{hash:{},inverse:o.noop,fn:o.program(1,l,i),data:i}))||0===a)&&(s+=a),s+='"></i> <i class="sync-status-icon sync-unknown-icon glyphicon circle-question-mark ',((a=n.if.call(t,t&&t.isFailure,{hash:{},inverse:o.noop,fn:o.program(1,l,i),data:i}))||0===a)&&(s+=a),s+'"></i> </div> <div class="media-poster-actions"> <button class="edit-btn media-poster-btn btn-link" tabindex="-1"><i class="glyphicon pencil"></i></button> <button class="delete-btn media-poster-btn btn-link btn-danger" tabindex="-1"><i class="glyphicon remove-2"></i></button> </div> </div> <div class="media-title media-heading"></div> <div class="media-subtitle-1 media-heading secondary"></div> <div class="media-context media-heading secondary"></div> </a> '}))},14205:(e,t,n)=>{var r=n(40202);function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(r.default||r).template((function(e,t,r,a,s){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),s=s||{};var o="",l=this.escapeExpression;return o+'<div class="media-poster"></div> <p class="title"></p> <p class="complete-subtitle subtitle hidden"> <i class="glyphicon ok-2"></i> '+l(i(n(76273)).call(t,"Synced",{hash:{},data:s}))+' </p> <p class="waiting-subtitle subtitle hidden"> <i class="glyphicon circle-arrow-down"></i> '+l(i(n(76273)).call(t,"Waiting to be downloaded",{hash:{},data:s}))+' </p> <p class="downloading-subtitle subtitle hidden"> <i class="glyphicon more"></i> '+l(i(n(76273)).call(t,"Downloading",{hash:{},data:s}))+' &middot; <span class="transcode-progress"></span>% </p> <p class="converting-subtitle subtitle hidden"> <i class="glyphicon more"></i> '+l(i(n(76273)).call(t,"Converting",{hash:{},data:s}))+' &middot; <span class="transcode-progress"></span>% &middot; <span class="transcode-remaining"></span> </p> <p class="processing-subtitle subtitle hidden"> <i class="glyphicon more"></i> '+l(i(n(76273)).call(t,"Waiting to be converted",{hash:{},data:s}))+' </p> <p class="unknown-subtitle subtitle hidden"> <i class="glyphicon circle-question-mark"></i> '+l(i(n(76273)).call(t,"Unknown",{hash:{},data:s}))+' </p> <p class="failed-subtitle subtitle hidden"> <i class="glyphicon warning-sign"></i> <span class="error-message"></span> </p> '}))},55224:(e,t,n)=>{var r=n(40202);function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(r.default||r).template((function(e,t,r,a,s){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),s=s||{};var o="",l=this.escapeExpression;return o+'<div class="row row-padded"> <h4 class="text-muted text-center"> <p>'+l(i(n(76273)).call(t,"Conversions for sync and media optimization will appear here.",{hash:{},data:s}))+"</p> <p>"+l(i(n(76273)).call(t,"Manage your optimized versions in {1}Optimized Versions Settings{2}.",'<a href="{3}">',"</a>",t&&t.manageVersionsRoute,{hash:{},data:s}))+"</p> </h4> </div> "}))},7029:(e,t,n)=>{var r=n(40202);e.exports=(r.default||r).template((function(e,t,n,r,i){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),i=i||{};var a,s,o="";return o+='<div class="show-actions striped-list-inner-item playlist-inner-item ',o+=(0,this.escapeExpression)((s=n.type)||"function"==typeof(s=t&&t.type)?s.call(t,{hash:{},data:i}):s)+'"> <div class="media-actions media-reorder"> ',((a=n.unless.call(t,t&&t.hideDragHandle,{hash:{},inverse:this.noop,fn:this.program(1,(function(e,t){return' <div class="sortable-handle btn-gray-link"><i class="glyphicon show-lines"></i></div> '}),i),data:i}))||0===a)&&(o+=a),o+' </div> <div class="generator-poster-container"> <div class="media-poster"></div> </div> <div class="media-actions generator-actions"> <button class="promote-btn media-action-btn btn-gray-link" tabindex="-1"><i class="glyphicon up-arrow"></i></button> <button class="delete-btn media-action-btn btn-gray-link btn-danger" tabindex="-1"><i class="glyphicon remove-2"></i></button> </div> <div class="media-item"> <div class="media-details"> <div class="generator-title col-lg"></div> <div class="generator-target col-md col-secondary"></div> <div class="conversion-status-region col-md col-secondary"></div> </div> </div> </div> '}))},50034:(e,t,n)=>{var r=n(40202);function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(r.default||r).template((function(e,t,r,a,s){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),s=s||{};var o,l="",c=this.escapeExpression;return l+'<div class="conversion-status-container conversion-status-converting"> <div class="progress-bar-region"></div> <div class="conversion-status-converting-label-container"> <span class="conversion-status-converting-label">'+c(i(n(76273)).call(t,"Converting",{hash:{},data:s}))+'</span> <span class="conversion-status-converting-speed"></span> <div class="conversion-status-converting-progress"> <span class="conversion-status-converting-percentage"></span> <span class="conversion-status-converting-progress-separator">&middot;</span> <span class="conversion-status-converting-remaining"></span> </div> </div> </div> <div class="conversion-status-container conversion-status-processed"> <i class="conversion-status-icon glyphicon ok-2 text-success"></i> '+c(i(n(76273)).call(t,"Complete",{hash:{},data:s}))+' </div> <div class="conversion-status-container conversion-status-disabled"> <i class="conversion-status-icon glyphicon circle-exclamation-mark text-danger"></i> '+c(i(n(76273)).call(t,"Deleted",{hash:{},data:s}))+' <button class="enable-btn media-action-btn btn-gray-link" tabindex="-1"><i class="glyphicon repeat"></i></button> </div> <div class="conversion-status-container conversion-status-error"> <i class="conversion-status-icon glyphicon circle-exclamation-mark text-danger"></i> <span class="conversion-status-failed-message">'+c("function"==typeof(o=t&&t.initialErrorMessage)?o.apply(t):o)+'</span> <button class="retry-btn media-action-btn btn-gray-link" tabindex="-1"><i class="glyphicon repeat"></i></button> </div> <div class="conversion-status-container conversion-status-pending"> <i class="conversion-status-icon glyphicon clock"></i> <span class="conversion-status-pending-label">'+c(i(n(76273)).call(t,"Waiting",{hash:{},data:s}))+"</span> </div> "}))},71539:(e,t,n)=>{var r=n(40202);e.exports=(r.default||r).template((function(e,t,n,r,i){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),i=i||{};var a,s="";return(s+='<a class="artwork-option media-poster-container" data-rating-key="')+((0,this.escapeExpression)((a=n.ratingKey)||"function"==typeof(a=t&&t.ratingKey)?a.call(t,{hash:{},data:i}):a)+'" href="#"> <div class="media-poster"></div> </a> ')}))},87507:(e,t,n)=>{var r=n(40202);e.exports=(r.default||r).template((function(e,t,r,i,a){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),a=a||{};var s,o,l="",c=this.escapeExpression,d="function";return l+='<div class="row disc-number hidden"> '+c((o=n(76273),o&&(o.__esModule?o.default:o)).call(t,"Disc {1}",t&&t.escapedParentIndex,{hash:{},data:a}))+' </div> <div class="row striped-list-inner-item"> <span class="col-xs-1 match-index"> '+c(typeof(s=t&&t.index)===d?s.apply(t):s)+'. </span> <span class="col-xs-11 match-track-name ',((s=r.unless.call(t,t&&t.matched,{hash:{},inverse:this.noop,fn:this.program(1,(function(e,t){return"missing"}),a),data:a}))||0===s)&&(l+=s),l+'"> '+c(typeof(s=t&&t.name)===d?s.apply(t):s)+" </span> </div> "}))},66440:(e,t,n)=>{var r=n(40202);e.exports=(r.default||r).template((function(e,t,r,i,a){var s;return this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),a=a||{},""+'<div class="match-empty-message">'+(0,this.escapeExpression)((s=n(76273),s&&(s.__esModule?s.default:s)).call(t,"No matches found.",{hash:{},data:a}))+"</div> "}))},54536:(e,t,n)=>{var r=n(40202);e.exports=(r.default||r).template((function(e,t,r,i,a){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),a=a||{};var s,o="",l="function",c=this.escapeExpression,d=this;function u(e,t){var n;return""+' <span class="match-year">'+c(typeof(n=e&&e.year)===l?n.apply(e):n)+'</span> <span class="match-separator">&middot;</span> '}return o+='<a class="match-result col-xs-12" href="#"> <div class="row"> <div class="col-xs-9 match-title-info"> ',((s=r.if.call(t,t&&t.parentName,{hash:{},inverse:d.program(3,(function(e,t){var n;return""+' <span class="match-name">'+c(typeof(n=e&&e.name)===l?n.apply(e):n)+"</span> "}),a),fn:d.program(1,(function(e,t){var n;return""+' <span class="match-name">'+c(typeof(n=e&&e.parentName)===l?n.apply(e):n)+'</span> &ndash; <span class="match-name">'+c(typeof(n=e&&e.name)===l?n.apply(e):n)+"</span> "}),a),data:a}))||0===s)&&(o+=s),o+=" ",((s=r.if.call(t,t&&t.disambiguationInfo,{hash:{},inverse:d.noop,fn:d.program(5,(function(e,t){var n;return""+'  <span class="match-disambiguation-info">'+c(typeof(n=e&&e.disambiguationInfo)===l?n.apply(e):n)+"</span> "}),a),data:a}))||0===s)&&(o+=s),o+=" </div> ",((s=r.if.call(t,t&&t.normalizedScore,{hash:{},inverse:d.program(10,(function(e,t){var n;return""+' <div class="col-xs-3 match-score-info"> <span class="match-year">'+c(typeof(n=e&&e.year)===l?n.apply(e):n)+"</span> </div> "}),a),fn:d.program(7,(function(e,t){var i,a,s="";return s+=' <div class="col-xs-3 match-score-info" title="'+c((a=n(76273),a&&(a.__esModule?a.default:a)).call(e,"Score {1}",e&&e.escapedNormalizedScore,{hash:{},data:t}))+'"> ',((i=r.if.call(e,e&&e.year,{hash:{},inverse:d.noop,fn:d.program(8,u,t),data:t}))||0===i)&&(s+=i),s+' <span class="match-score"><i class="match-score-icon glyphicon certificate"></i>'+c(typeof(i=e&&e.normalizedScore)===l?i.apply(e):i)+"</span> </div> "}),a),data:a}))||0===s)&&(o+=s),o+=' </div> <div class="row match-extended-info hidden"> ',((s=r.if.call(t,t&&t.summary,{hash:{},inverse:d.program(14,(function(e,t){return' <div class="col-xs-9 children-region"></div> '}),a),fn:d.program(12,(function(e,t){var n;return""+' <div class="col-xs-9 match-summary">'+c(typeof(n=e&&e.summary)===l?n.apply(e):n)+"</div> "}),a),data:a}))||0===s)&&(o+=s),o+' <div class="col-xs-3"> <img class="match-art" src="'+c(typeof(s=t&&t.thumb)===l?s.apply(t):s)+'"/> </div> </div> </a> '}))},38784:(e,t,n)=>{var r=n(40202);function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(r.default||r).template((function(e,t,r,a,s){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),s=s||{};var o="",l=this.escapeExpression;return o+'<div class="row row-padded"> <h4 class="text-muted text-center"> <p>'+l(i(n(76273)).call(t,'Choose "Optimize..." on items in your library and optimized versions will appear here.',{hash:{},data:s}))+"</p> <p>"+l(i(n(76273)).call(t,"Monitor conversion progress in {1}Conversion Activity{2}.",'<a class="status-conversion-btn" href="#">',"</a>",{hash:{},data:s}))+"</p> </h4> </div> "}))},15379:(e,t,n)=>{var r=n(40202);function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(r.default||r).template((function(e,t,r,a,s){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),s=s||{};var o,l="",c=this.escapeExpression;return l+'<a class="show-actions playlist-inner-item '+c("function"==typeof(o=t&&t.type)?o.apply(t):o)+'" href="#"> <div class="media-actions media-reorder"> <div class="sortable-handle btn-gray-link"><i class="glyphicon show-lines"></i></div> </div> <div class="generator-poster-container"> <div class="media-poster"></div> </div> <div class="media-actions generator-actions"> <button class="retry-btn media-action-btn btn-gray-link" tabindex="-1"><i class="glyphicon repeat"></i></button> <button class="edit-btn media-action-btn btn-gray-link" tabindex="-1"><i class="glyphicon pencil"></i></button> <button class="delete-btn media-action-btn btn-gray-link btn-danger" tabindex="-1"><i class="glyphicon remove-2"></i></button> </div> <div class="media-item"> <div class="media-details"> <div class="generator-title col-lg"></div> <div class="generator-target col-md col-secondary"></div> <div class="generator-status col-md col-secondary"> <div class="generator-status-container generator-status-complete"> <i class="generator-status-icon glyphicon ok-2 text-success"></i> '+c(i(n(76273)).call(t,"Complete",{hash:{},data:s}))+' </div> <div class="generator-status-container generator-status-failed"> <i class="generator-status-icon glyphicon circle-exclamation-mark text-danger"></i> <span class="generator-status-failed-message">'+c(i(n(76273)).call(t,"Failed",{hash:{},data:s}))+'</span> </div> <div class="generator-status-container generator-status-converting"> <i class="generator-status-icon glyphicon restart"></i> '+c(i(n(76273)).call(t,"Converting",{hash:{},data:s}))+' </div> <div class="generator-status-container generator-status-pending"> <i class="generator-status-icon glyphicon clock"></i> '+c(i(n(76273)).call(t,"Waiting",{hash:{},data:s}))+" </div> </div> </div> </div> </a> "}))},66330:(e,t,n)=>{var r=n(40202);e.exports=(r.default||r).template((function(e,t,n,r,i){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),i=i||{};var a,s="",o="function",l=this.escapeExpression;return s+='<div class="striped-list-inner-item"> <div class="generator-poster-container"> <div class="media-poster"></div> </div> <div class="conversion-status-region"></div> <div class="generator-metadata-title">',(s+=l((a=n.title)||typeof(a=t&&t.title)===o?a.call(t,{hash:{},data:i}):a)+'</div> <div class="generator-metadata-episode-index generator-metadata-subtitle"></div> <div class="generator-metadata-year generator-metadata-subtitle">')+(l((a=n.year)||typeof(a=t&&t.year)===o?a.call(t,{hash:{},data:i}):a)+"</div> </div> ")}))},6153:(e,t,n)=>{var r=n(40202);e.exports=(r.default||r).template((function(e,t,n,r,i){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),i=i||{};var a,s="",o="function",l=this.escapeExpression;return s+'<a class="striped-list-item" href="#" data-key="'+l(typeof(a=null==(a=t&&t.filePath)||!1===a?a:a.key)===o?a.apply(t):a)+'"> <i class="glyphicon file"></i> '+l(typeof(a=null==(a=t&&t.filePath)||!1===a?a:a.title)===o?a.apply(t):a)+" </a> "}))},48966:(e,t,n)=>{var r=n(40202);e.exports=(r.default||r).template((function(e,t,n,r,i){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),i=i||{};var a,s="",o=this,l="function",c=this.escapeExpression;function d(e,t){return"home"}function u(e,t){var r;return(r=n.if.call(e,null==(r=e&&e.filePath)||!1===r?r:r.network,{hash:{},inverse:o.program(9,m,t),fn:o.program(7,p,t),data:t}))||0===r?r:""}function p(e,t){return"globe"}function m(e,t){var r;return(r=n.if.call(e,e&&e.isRoot,{hash:{},inverse:o.program(12,g,t),fn:o.program(10,h,t),data:t}))||0===r?r:""}function h(e,t){return"hdd"}function g(e,t){return"folder-open"}return s+='<a class="striped-list-item" href="#" data-key="'+c(typeof(a=null==(a=t&&t.filePath)||!1===a?a:a.key)===l?a.apply(t):a)+'" title="'+c(typeof(a=null==(a=t&&t.filePath)||!1===a?a:a.title)===l?a.apply(t):a)+'" aria-label="'+c(typeof(a=null==(a=t&&t.filePath)||!1===a?a:a.title)===l?a.apply(t):a)+'"> <i class="folder-icon glyphicon ',((a=n.if.call(t,null==(a=t&&t.filePath)||!1===a?a:a.isBackShortcut,{hash:{},inverse:o.program(3,(function(e,t){var r;return(r=n.if.call(e,null==(r=e&&e.filePath)||!1===r?r:r.home,{hash:{},inverse:o.program(6,u,t),fn:o.program(4,d,t),data:t}))||0===r?r:""}),i),fn:o.program(1,(function(e,t){return"left-arrow"}),i),data:i}))||0===a)&&(s+=a),s+'"></i>&nbsp;'+c(typeof(a=null==(a=t&&t.filePath)||!1===a?a:a.title)===l?a.apply(t):a)+' <div class="loading loading-sm loading-inline hidden"></div> </a> '}))},28257:(e,t,n)=>{var r=n(40202);e.exports=(r.default||r).template((function(e,t,n,r,i){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),i=i||{};var a,s="",o="function",l=this.escapeExpression;return s+='<a class="btn-gray" data-identifier="',(s+=l((a=n.identifier)||typeof(a=t&&t.identifier)===o?a.call(t,{hash:{},data:i}):a)+'" href="#">')+(l((a=n.name)||typeof(a=t&&t.name)===o?a.call(t,{hash:{},data:i}):a)+"</a> ")}))},97174:(e,t,n)=>{var r=n(40202);e.exports=(r.default||r).template((function(e,t,r,i,a){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),a=a||{};var s,o,l="",c="function",d=this.escapeExpression,u=this;return l+='<div class="card-actions"> <button class="info-btn card-action-btn"><i class="glyphicon circle-info"></i></button> <button class="settings-btn card-action-btn"><i class="glyphicon cogwheel"></i></button> </div> <div class="card-handle"><i class="glyphicon show-lines"></i></div> <label for="'+d(typeof(s=t&&t.identifier)===c?s.apply(t):s)+'"> <input id="'+d(typeof(s=t&&t.identifier)===c?s.apply(t):s)+'" name="'+d(typeof(s=t&&t.identifier)===c?s.apply(t):s)+'" type="checkbox" ',((s=r.if.call(t,t&&t.enabled,{hash:{},inverse:u.noop,fn:u.program(1,(function(e,t){return"checked"}),a),data:a}))||0===s)&&(l+=s),l+=" ",((s=r.if.call(t,t&&t.isPrimary,{hash:{},inverse:u.noop,fn:u.program(3,(function(e,t){return"disabled"}),a),data:a}))||0===s)&&(l+=s),l+"> "+d((o=n(76273),o&&(o.__esModule?o.default:o)).call(t,t&&t.name,{hash:{},data:a}))+" </label> "}))},96875:(e,t,n)=>{var r=n(40202);e.exports=(r.default||r).template((function(e,t,r,i,a){var s;return this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),a=a||{},""+'<div class="row-padded"> <h4 class="text-muted text-center">'+(0,this.escapeExpression)((s=n(76273),s&&(s.__esModule?s.default:s)).call(t,"No devices found",{hash:{},data:a}))+"</h4> </div> "}))},29880:(e,t,n)=>{var r=n(40202);e.exports=(r.default||r).template((function(e,t,n,r,i){return this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),i=i||{},'<div class="card card-device"> <img class="card-poster device-icon"> <div class="card-actions"> <button class="remove-device-btn card-action-btn btn-danger"><i class="glyphicon remove-2"></i></button> </div> <h4 class="name"></h4> <div class="card-details"> <div class="pull-right"> <div class="last-seen text-muted"></div> <span class="sync-info hidden"> <span class="glyphicon circle-arrow-down sync-icon"></span> <span class="sync-count"></span> <span class="sync-size"></span> </span> </div> <span class="version text-muted"></span> <div class="device-info-container"> <div class="product"></div> <div class="device text-muted"></div> <div class="platform-info text-muted"> <span class="platform"></span> <span class="platform-version"></span> </div> </div> </div> </div> '}))},25332:(e,t,n)=>{var r=n(40202);e.exports=(r.default||r).template((function(e,t,r,i,a){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),a=a||{};var s,o="",l="function",c=this.escapeExpression,d=this;return o+='<div class="card card-section"> <div class="card-actions"> <button class="edit-section-btn card-action-btn"><i class="glyphicon pencil"></i></button> <button class="delete-section-btn card-action-btn btn-danger"><i class="glyphicon remove-2"></i></button> </div> <i class="section-icon glyphicon '+c(typeof(s=t&&t.icon)===l?s.apply(t):s)+'"></i> <span class="section-title"></span> ',((s=r.if.call(t,t&&t.path,{hash:{},inverse:d.noop,fn:d.program(1,(function(e,t){var n;return""+'<span class="section-path">'+c(typeof(n=e&&e.path)===l?n.apply(e):n)+"</span>"}),a),data:a}))||0===s)&&(o+=s),o+=" ",((s=r.if.call(t,t&&t.more,{hash:{},inverse:d.noop,fn:d.program(3,(function(e,t){var r;return""+'<span class="section-count">'+c((r=n(76273),r&&(r.__esModule?r.default:r)).call(e,"and {count} more",{hash:{count:e&&e.more},data:t}))+"</span>"}),a),data:a}))||0===s)&&(o+=s),o+" </div> "}))},87986:(e,t,n)=>{var r=n(40202);e.exports=(r.default||r).template((function(e,t,r,i,a){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),a=a||{};var s,o,l="",c="function",d=this.escapeExpression,u=this;return l+='<div class="card card-announcement"> <div class="unread ',((s=r.if.call(t,t&&t.read,{hash:{},inverse:u.noop,fn:u.program(1,(function(e,t){return"hidden"}),a),data:a}))||0===s)&&(l+=s),l+='"></div> ',((s=r.if.call(t,t&&t.url,{hash:{},inverse:u.program(5,(function(e,t){var n;return""+" <h4>"+d(typeof(n=e&&e.title)===c?n.apply(e):n)+'</h4> <img class="thumb"/> '}),a),fn:u.program(3,(function(e,t){var n;return""+' <h4><a href="'+d(typeof(n=e&&e.url)===c?n.apply(e):n)+'" target="_blank">'+d(typeof(n=e&&e.title)===c?n.apply(e):n)+'</a></h4> <a href="'+d(typeof(n=e&&e.url)===c?n.apply(e):n)+'" target="_blank"> <img class="thumb"/> </a> '}),a),data:a}))||0===s)&&(l+=s),l+=' <div class="date">'+d((o=n(32115),o&&(o.__esModule?o.default:o)).call(t,t&&t.notifyAt,{hash:{},data:a}))+'</div> <div class="description">',((s=typeof(s=t&&t.content)===c?s.apply(t):s)||0===s)&&(l+=s),l+"</div> </div> "}))},68505:(e,t,n)=>{var r=n(40202);function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(r.default||r).template((function(e,t,r,a,s){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),s=s||{};var o="",l=this.escapeExpression;return o+'<div class="modal-dialog"> <div class="modal-content"> <form name="add-folder-form"> <div class="modal-header"> <button type="button" class="close" data-dismiss="modal"><i class="glyphicon remove-2"></i></button> <h4 class="modal-title"><i class="modal-icon glyphicon folder-plus"></i> '+l(i(n(76273)).call(t,"Add Folder",{hash:{},data:s}))+'</h4> </div> <div class="modal-body modal-body-scroll dark-scrollbar"> <div class="row"> <div class="col-md-12"> <input type="text" name="path" class="form-control" value=""> </div> </div> <div class="row directory-container-row"> <div class="home-directory-container col-md-5"></div> <div class="col-md-7"> <div class="path-container"></div> <div class="file-container"></div> </div> </div> </div> <div class="modal-footer"> <button type="button" class="cancel-btn btn btn-default" data-dismiss="modal">'+l(i(n(76273)).call(t,"Cancel",{hash:{},data:s}))+'</button> <button type="submit" class="add-btn btn btn-primary">'+l(i(n(76273)).call(t,"Add",{hash:{},data:s}))+"</button> </div> </form> </div> </div> "}))},46341:(e,t,n)=>{var r=n(40202);e.exports=(r.default||r).template((function(e,t,n,r,i){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),i=i||{};var a,s,o="",l="function";return o+='<div class="modal-dialog"> <div class="modal-content"> <div class="modal-header"> <button type="button" class="close" data-dismiss="modal"><i class="glyphicon remove-2"></i></button> <h4 class="modal-title"> <i class="modal-icon glyphicon circle-info"></i> '+(0,this.escapeExpression)(typeof(a=null==(a=t&&t.agent)||!1===a?a:a.name)===l?a.apply(t):a)+' </h4> </div> <div class="modal-body"> <p class="agent-icon-container"></p> <p>',((a=(s=n.attribution)||typeof(s=t&&t.attribution)===l?s.call(t,{hash:{},data:i}):s)||0===a)&&(o+=a),o+"</p> </div> </div> </div> "}))},55722:(e,t,n)=>{var r=n(40202);function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(r.default||r).template((function(e,t,r,a,s){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),s=s||{};var o,l="",c=this.escapeExpression,d="function",u=this;return l+='<div class="modal-dialog"> <div class="modal-content"> <div class="modal-header"> <button type="button" class="close" data-dismiss="modal"><i class="glyphicon remove-2"></i></button> <h4 class="modal-title"><i class="modal-icon glyphicon circle-exclamation-mark"></i> '+c(typeof(o=t&&t.title)===d?o.apply(t):o)+'</h4> </div> <div class="modal-body"> <p class="confirm-message">'+c(typeof(o=t&&t.message)===d?o.apply(t):o)+'</p> <p class="double-confirm-message text-warning"></p> </div> <div class="modal-footer"> ',((o=r.unless.call(t,t&&t.hideCancel,{hash:{},inverse:u.noop,fn:u.program(1,(function(e,t){return""+' <button type="button" class="cancel-btn btn btn-lg btn-default" data-dismiss="modal">'+c(i(n(76273)).call(e,e&&e.cancelLabel,{hash:{},data:t}))+"</button> "}),s),data:s}))||0===o)&&(l+=o),l+=' <button type="button" class="confirm-btn btn btn-lg ',((o=r.if.call(t,t&&t.hasDanger,{hash:{},inverse:u.program(5,(function(e,t){return"btn-primary"}),s),fn:u.program(3,(function(e,t){return"btn-danger"}),s),data:s}))||0===o)&&(l+=o),l+' btn-loading"> <div class="loading loading-sm"></div> <span class="btn-label">'+c(i(n(76273)).call(t,t&&t.confirmLabel,{hash:{},data:s}))+"</span> </button> </div> </div> </div> "}))},43614:(e,t,n)=>{var r=n(40202);function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(r.default||r).template((function(e,t,r,a,s){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),s=s||{};var o,l="",c="function",d=this.escapeExpression,u=this;function p(e,t){var n;return""+'download="'+d(typeof(n=e&&e.downloadName)===c?n.apply(e):n)+'"'}function m(e,t){var n;return""+" "+d(typeof(n=e&&e.title)===c?n.apply(e):n)+' <span class="title-separator"></span> '}function h(e,t){var a,s="";return s+=" "+d(i(n(62782)).call(e,e&&e.videoResolution,{hash:{},data:t})),((a=r.if.call(e,e&&e.bitrate,{hash:{},inverse:u.noop,fn:u.program(7,g,t),data:t}))||0===a)&&(s+=a),s+" "}function g(e,t){return","}function y(e,t){return""+" "+d(i(n(63208)).call(e,e&&e.bitrate,{hash:{},data:t}))+" "}return l+='<div class="modal-dialog"> <div class="modal-content"> <div class="modal-header"> <button type="button" class="close" data-dismiss="modal"><i class="glyphicon remove-2"></i></button> <h4 class="modal-title"><i class="modal-icon glyphicon download-alt"></i> '+d(i(n(76273)).call(t,"Download a Version",{hash:{},data:s}))+'</h4> </div> <div class="modal-body modal-body-scroll dark-scrollbar"> <ul class="list select-list download-list"> ',((o=r.each.call(t,t&&t.mediaItems,{hash:{},inverse:u.noop,fn:u.programWithDepth(1,(function(e,t,a){var s,o="";return o+=' <li class="striped-list-item select-list-item download-list-item"> <a class="media" data-value="'+d(typeof(s=null==t||!1===t?t:t.index)===c?s.apply(e):s)+'" href="'+d(typeof(s=e&&e.downloadUrl)===c?s.apply(e):s)+'" target="'+d(typeof(s=a&&a.defaultLinkTarget)===c?s.apply(e):s)+'" ',((s=i(n(84772)).call(e,a&&a.defaultLinkTarget,"_blank",{hash:{},inverse:u.noop,fn:u.program(2,p,t),data:t}))||0===s)&&(o+=s),o+="> ",((s=r.if.call(e,e&&e.title,{hash:{},inverse:u.noop,fn:u.program(4,m,t),data:t}))||0===s)&&(o+=s),o+=" ",((s=r.if.call(e,e&&e.videoResolution,{hash:{},inverse:u.noop,fn:u.program(6,h,t),data:t}))||0===s)&&(o+=s),o+=" ",((s=r.if.call(e,e&&e.bitrate,{hash:{},inverse:u.noop,fn:u.program(9,y,t),data:t}))||0===s)&&(o+=s),o+" </a> </li> "}),s,t),data:s}))||0===o)&&(l+=o),l+" </ul> </div> </div> </div> "}))},68121:(e,t,n)=>{var r=n(40202);function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(r.default||r).template((function(e,t,r,a,s){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),s=s||{};var o,l="",c=this.escapeExpression,d=this;return l+='<div class="modal-dialog"> <div class="modal-content"> <div class="modal-header"> <button type="button" class="close" data-dismiss="modal"><i class="glyphicon remove-2"></i></button> <h4 class="modal-title"><i class="modal-icon glyphicon pencil"></i> '+c("function"==typeof(o=t&&t.paneTitle)?o.apply(t):o)+'</h4> </div> <div class="modal-body modal-body-scroll modal-body-with-panes"> <div class="modal-nav-pane dark-scrollbar hidden"> <ul class="list modal-nav-list"> ',((o=r.if.call(t,null==(o=t&&t.panes)||!1===o?o:o.general,{hash:{},inverse:d.noop,fn:d.program(1,(function(e,t){return""+' <li><a class="btn-gray change-pane-btn general-btn" data-pane="general" href="#"> <i class="modal-nav-icon glyphicon align-center"></i> '+c(i(n(76273)).call(e,"General",{hash:{},data:t}))+" </a></li> "}),s),data:s}))||0===o)&&(l+=o),l+=" ",((o=r.if.call(t,null==(o=t&&t.panes)||!1===o?o:o.tags,{hash:{},inverse:d.noop,fn:d.program(3,(function(e,t){return""+' <li><a class="btn-gray change-pane-btn tags-btn" data-pane="tags" href="#"> <i class="modal-nav-icon glyphicon tags"></i> '+c(i(n(76273)).call(e,"Tags",{hash:{},data:t}))+" </a></li> "}),s),data:s}))||0===o)&&(l+=o),l+=" ",((o=r.if.call(t,null==(o=t&&t.panes)||!1===o?o:o.sharing,{hash:{},inverse:d.noop,fn:d.program(5,(function(e,t){return""+' <li><a class="btn-gray change-pane-btn sharing-btn" data-pane="sharing" href="#"> <i class="modal-nav-icon glyphicon parents"></i> '+c(i(n(76273)).call(e,"Sharing",{hash:{},data:t}))+" </a></li> "}),s),data:s}))||0===o)&&(l+=o),l+=" ",((o=r.if.call(t,null==(o=t&&t.panes)||!1===o?o:o.poster,{hash:{},inverse:d.noop,fn:d.program(7,(function(e,t){return""+' <li><a class="btn-gray change-pane-btn poster-btn" data-pane="poster" href="#"> <i class="modal-nav-icon glyphicon picture"></i> '+c(i(n(76273)).call(e,"Poster",{hash:{},data:t}))+" </a></li> "}),s),data:s}))||0===o)&&(l+=o),l+=" ",((o=r.if.call(t,null==(o=t&&t.panes)||!1===o?o:o.banner,{hash:{},inverse:d.noop,fn:d.program(9,(function(e,t){return""+' <li><a class="btn-gray change-pane-btn banner-btn" data-pane="banner" href="#"> <i class="modal-nav-icon glyphicon picture"></i> '+c(i(n(76273)).call(e,"Banner",{hash:{},data:t}))+" </a></li> "}),s),data:s}))||0===o)&&(l+=o),l+=" ",((o=r.if.call(t,null==(o=t&&t.panes)||!1===o?o:o.art,{hash:{},inverse:d.noop,fn:d.program(11,(function(e,t){return""+' <li><a class="btn-gray change-pane-btn art-btn" data-pane="art" href="#"> <i class="modal-nav-icon glyphicon picture"></i> '+c(i(n(76273)).call(e,"Background",{hash:{},data:t}))+" </a></li> "}),s),data:s}))||0===o)&&(l+=o),l+=" ",((o=r.if.call(t,null==(o=t&&t.panes)||!1===o?o:o.info,{hash:{},inverse:d.noop,fn:d.program(13,(function(e,t){return""+' <li><a class="btn-gray change-pane-btn info-btn" data-pane="info" href="#"> <i class="modal-nav-icon glyphicon circle-info"></i> '+c(i(n(76273)).call(e,"Info",{hash:{},data:t}))+" </a></li> "}),s),data:s}))||0===o)&&(l+=o),l+=" ",((o=r.if.call(t,null==(o=t&&t.panes)||!1===o?o:o.advanced,{hash:{},inverse:d.noop,fn:d.program(15,(function(e,t){return""+' <li><a class="btn-gray change-pane-btn advanced-btn" data-pane="advanced" href="#"> <i class="modal-nav-icon glyphicon cogwheel"></i> '+c(i(n(76273)).call(e,"Advanced",{hash:{},data:t}))+" </a></li> "}),s),data:s}))||0===o)&&(l+=o),l+' </ul> </div> <div class="modal-body-pane pane-region dark-scrollbar"> <div class="loading loading-inline"></div> </div> </div> <div class="modal-footer"> <span class="form-message"></span> <button type="button" class="cancel-btn btn btn-default" data-dismiss="modal">'+c(i(n(76273)).call(t,"Cancel",{hash:{},data:s}))+'</button> <button type="button" class="save-btn btn btn-primary btn-loading"> <div class="loading loading-sm"></div> <span class="btn-label">'+c(i(n(76273)).call(t,"Save Changes",{hash:{},data:s}))+"</span> </button> </div> </div> </div> "}))},19380:(e,t,n)=>{var r=n(40202);function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(r.default||r).template((function(e,t,r,a,s){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),s=s||{};var o,l="",c=this.escapeExpression,d=this;function u(e,t){return" selected"}function p(e,t){return""+" "+c(i(n(76273)).call(e,"Select type",{hash:{},data:t}))+" "}function m(e,t){return""+" "+c(i(n(76273)).call(e,"General",{hash:{},data:t}))+" "}function h(e,t){return"disabled"}function g(e,t){return"hidden"}return l+='<div class="modal-dialog"> <div class="modal-content"> <div class="modal-header"> <button type="button" class="close" data-dismiss="modal"><i class="glyphicon remove-2"></i></button> <h4 class="modal-title"> ',((o=r.if.call(t,t&&t.add,{hash:{},inverse:d.program(3,(function(e,t){var n;return""+' <i class="modal-icon glyphicon pencil"></i> '+c("function"==typeof(n=e&&e.paneTitle)?n.apply(e):n)+" "}),s),fn:d.program(1,(function(e,t){return""+' <i class="modal-icon glyphicon plus"></i> '+c(i(n(76273)).call(e,"Add {1} Library",'<span class="section-type-title"></span>',{hash:{},data:t}))+" "}),s),data:s}))||0===o)&&(l+=o),l+=' </h4> </div> <div class="modal-body modal-body-scroll modal-body-with-panes"> ',((o=r.if.call(t,t&&t.isLoading,{hash:{},inverse:d.program(7,(function(e,t){var a,s="";return s+=' <div class="modal-nav-pane dark-scrollbar"> <ul class="list modal-nav-list"> <li> <a class="btn-gray change-pane-btn type-btn',((a=i(n(78356)).call(e,e&&e.selectedPane,"type",{hash:{},inverse:d.noop,fn:d.program(8,u,t),data:t}))||0===a)&&(s+=a),s+='" data-pane="type" href="#"> <i class="modal-nav-icon glyphicon align-center"></i> ',((a=r.if.call(e,e&&e.add,{hash:{},inverse:d.program(12,m,t),fn:d.program(10,p,t),data:t}))||0===a)&&(s+=a),s+=' </a> </li> <li> <a class="btn-gray change-pane-btn folders-btn',((a=i(n(78356)).call(e,e&&e.selectedPane,"folders",{hash:{},inverse:d.noop,fn:d.program(8,u,t),data:t}))||0===a)&&(s+=a),s+=" ",((a=r.if.call(e,e&&e.add,{hash:{},inverse:d.noop,fn:d.program(14,h,t),data:t}))||0===a)&&(s+=a),s+=" ",((a=r.unless.call(e,e&&e.showFolders,{hash:{},inverse:d.noop,fn:d.program(16,g,t),data:t}))||0===a)&&(s+=a),s+='" data-pane="folders" href="#"> <i class="modal-nav-icon glyphicon folder-open"></i> '+c(i(n(76273)).call(e,"Add folders",{hash:{},data:t}))+' </a> </li> <li> <a class="btn-gray change-pane-btn options-btn',((a=i(n(78356)).call(e,e&&e.selectedPane,"options",{hash:{},inverse:d.noop,fn:d.program(8,u,t),data:t}))||0===a)&&(s+=a),s+=" ",((a=r.if.call(e,e&&e.add,{hash:{},inverse:d.noop,fn:d.program(14,h,t),data:t}))||0===a)&&(s+=a),s+=' hidden" data-pane="options" href="#"> <i class="modal-nav-icon glyphicon magic"></i> '+c(i(n(76273)).call(e,"Options",{hash:{},data:t}))+' </a> </li> <li> <a class="btn-gray change-pane-btn advanced-btn',((a=i(n(78356)).call(e,e&&e.selectedPane,"advanced",{hash:{},inverse:d.noop,fn:d.program(8,u,t),data:t}))||0===a)&&(s+=a),s+=" ",((a=r.if.call(e,e&&e.add,{hash:{},inverse:d.noop,fn:d.program(14,h,t),data:t}))||0===a)&&(s+=a),s+'" data-pane="advanced" href="#"> <i class="modal-nav-icon glyphicon cogwheel"></i> '+c(i(n(76273)).call(e,"Advanced",{hash:{},data:t}))+' </a> </li> </ul> </div> <div class="modal-body-pane pane-region dark-scrollbar"> </div> '}),s),fn:d.program(5,(function(e,t){return' <div class="modal-body-pane pane-region dark-scrollbar"> <div class="loading loading-inline"></div> </div> '}),s),data:s}))||0===o)&&(l+=o),l+=' </div> <div class="modal-footer"> <span class="form-message"></span> <button type="button" class="cancel-btn btn btn-default" data-dismiss="modal">'+c(i(n(76273)).call(t,"Cancel",{hash:{},data:s}))+'</button> <button type="button" class="save-btn btn btn-primary btn-loading ',((o=r.if.call(t,t&&t.add,{hash:{},inverse:d.noop,fn:d.program(14,h,s),data:s}))||0===o)&&(l+=o),l+='"> <div class="loading loading-sm"></div> <span class="btn-label"> <span class="save-btn-label-next">'+c(i(n(76273)).call(t,"Next",{hash:{},data:s}))+'</span> <span class="save-btn-label-save"> ',((o=r.if.call(t,t&&t.add,{hash:{},inverse:d.program(20,(function(e,t){return""+" "+c(i(n(76273)).call(e,"Save Changes",{hash:{},data:t}))+" "}),s),fn:d.program(18,(function(e,t){return""+" "+c(i(n(76273)).call(e,"Add Library",{hash:{},data:t}))+" "}),s),data:s}))||0===o)&&(l+=o),l+" </span> </span> </button> </div> </div> </div> "}))},56294:(e,t,n)=>{var r=n(40202);function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(r.default||r).template((function(e,t,r,a,s){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),s=s||{};var o,l="",c=this.escapeExpression,d=this;return l+='<div class="modal-dialog"> <div class="modal-content"> <form id="fix-incorrect-match-form"> <div class="modal-header"> <button type="button" class="close" data-dismiss="modal"><i class="glyphicon remove-2"></i></button> <h4 class="modal-title"><i class="modal-icon glyphicon nameplate"></i> <span class="modal-title-text"></span></h4> ',((o=r.if.call(t,t&&t.location,{hash:{},inverse:d.noop,fn:d.program(1,(function(e,t){return""+' <div class="match-location"> '+c(i(n(76273)).call(e,"Location",{hash:{},data:t}))+": "+c(i(n(12498)).call(e,e&&e.location,60,12,{hash:{},data:t}))+" </div> "}),s),data:s}))||0===o)&&(l+=o),l+=' </div> <div class="modal-body modal-body-scroll dark-scrollbar"> ',((o=r.if.call(t,t&&t.showNavigation,{hash:{},inverse:d.noop,fn:d.program(3,(function(e,t){return""+' <ul class="list modal-list"> <li class="modal-list-item"><a class="search-options-btn" href="#">'+c(i(n(76273)).call(e,"Search Options",{hash:{},data:t}))+'</a></li> <li class="auto-match-dropdown-region modal-list-item"></li> </ul> '}),s),data:s}))||0===o)&&(l+=o),l+=' <div class="pane-region"></div> </div> <div class="modal-footer"> <div class="match-search-actions"> <button type="button" class="cancel-btn btn btn-default">'+c(i(n(76273)).call(t,"Cancel",{hash:{},data:s}))+"</button> ",((o=r.if.call(t,t&&t.showNavigation,{hash:{},inverse:d.noop,fn:d.program(5,(function(e,t){return""+' <button type="submit" class="search-btn btn btn-primary btn-loading"> <div class="loading loading-sm"></div> <span class="btn-label">'+c(i(n(76273)).call(e,"Search",{hash:{},data:t}))+"</span> </button> "}),s),data:s}))||0===o)&&(l+=o),l+" </div> </div> </form> </div> </div> "}))},70460:(e,t,n)=>{var r=n(40202);e.exports=(r.default||r).template((function(e,t,r,i,a){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),a=a||{};var s,o,l="",c="function",d=this.escapeExpression,u=this;function p(e,t){var n,i="";return i+=' <li> <span class="keyboard-shortcuts-keys"> ',((n=r.each.call(e,e&&e.keys,{hash:{},inverse:u.noop,fn:u.program(3,m,t),data:t}))||0===n)&&(i+=n),i+' </span> <span class="keyboard-shortcuts-label text-muted">'+d(typeof(n=e&&e.label)===c?n.apply(e):n)+"</span> </li> "}function m(e,t){var n,i="";return i+=" ",((n=r.if.call(e,e&&e.plain,{hash:{},inverse:u.noop,fn:u.program(4,h,t),data:t}))||0===n)&&(i+=n),i+=" ",((n=r.unless.call(e,e&&e.plain,{hash:{},inverse:u.noop,fn:u.program(6,g,t),data:t}))||0===n)&&(i+=n),i+=" ",((n=r.if.call(e,e&&e.split,{hash:{},inverse:u.noop,fn:u.program(8,y,t),data:t}))||0===n)&&(i+=n),i+" "}function h(e,t){var n;return""+' <span class="keyboard-shortcuts-keys-plain">'+d(typeof(n=e&&e.s)===c?n.apply(e):n)+"</span> "}function g(e,t){var n;return""+' <span class="keyboard-shortcuts-keys-key">'+d(typeof(n=e&&e.s)===c?n.apply(e):n)+"</span> "}function y(e,t){return" <br> "}return l+='<div class="modal-dialog"> <div class="modal-content"> <div class="modal-header"> <button type="button" class="close" data-dismiss="modal"><i class="glyphicon remove-2"></i></button> <h4 class="modal-title"> <i class="modal-icon glyphicon keyboard-wireless"></i> '+d((o=n(76273),o&&(o.__esModule?o.default:o)).call(t,"Keyboard Shortcuts",{hash:{},data:a}))+' </h4> </div> <div class="modal-body modal-body-scroll dark-scrollbar"> ',((s=r.each.call(t,t&&t.groups,{hash:{},inverse:u.noop,fn:u.program(1,(function(e,t){var n,i="";return i+=' <h5 class="keyboard-shortcuts-header">'+d(typeof(n=e&&e.label)===c?n.apply(e):n)+'</h5> <ul class="list keyboard-shortcuts-list"> ',((n=r.each.call(e,e&&e.shortcuts,{hash:{},inverse:u.noop,fn:u.program(2,p,t),data:t}))||0===n)&&(i+=n),i+" </ul> "}),a),data:a}))||0===s)&&(l+=s),l+" </div> </div> </div> "}))},60862:(e,t,n)=>{var r=n(40202);function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(r.default||r).template((function(e,t,r,a,s){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),s=s||{};var o,l="",c=this.escapeExpression,d=this;function u(e,t){return""+" "+c(i(n(76273)).call(e,"Settings",{hash:{},data:t}))+" "}function p(e,t){return""+" "+c(i(n(76273)).call(e,"Sign In",{hash:{},data:t}))+" "}return l+='<div class="modal-dialog"> <div class="modal-content"> <div class="modal-header"> <button type="button" class="close" data-dismiss="modal"><i class="glyphicon remove-2"></i></button> <h4 class="modal-title"> <i class="modal-icon glyphicon circle-exclamation-mark"></i> ',((o=r.if.call(t,t&&t.hasPlexSubscription,{hash:{},inverse:d.program(3,(function(e,t){return""+" "+c(i(n(76273)).call(e,"Plex Pass Required",{hash:{},data:t}))+" "}),s),fn:d.program(1,(function(e,t){return""+" "+c(i(n(76273)).call(e,"Internet Required",{hash:{},data:t}))+" "}),s),data:s}))||0===o)&&(l+=o),l+=' </h4> </div> <div class="modal-body"> <p class="confirm-message"> ',((o=r.if.call(t,t&&t.hasPlexSubscription,{hash:{},inverse:d.program(7,(function(e,t){return""+" "+c(i(n(76273)).call(e,"This library requires your server be signed in to a Plex Pass account.",{hash:{},data:t}))+" "}),s),fn:d.program(5,(function(e,t){return""+" "+c(i(n(76273)).call(e,"This server cannot reach the Internet. Please verify connectivity and try again.",{hash:{},data:t}))+" "}),s),data:s}))||0===o)&&(l+=o),l+=' </p> </div> <div class="modal-footer"> <button type="button" class="cancel-btn btn btn-lg btn-default" data-dismiss="modal">'+c(i(n(76273)).call(t,"Ignore",{hash:{},data:s}))+"</button> ",((o=r.if.call(t,t&&t.hasPlexSubscription,{hash:{},inverse:d.program(11,(function(e,t){var n,i="";return i+=' <a class="confirm-btn btn btn-lg btn-primary" href="'+c("function"==typeof(n=e&&e.serverSettingsRoute)?n.apply(e):n)+'"> ',((n=r.if.call(e,e&&e.isSignedIn,{hash:{},inverse:d.program(14,p,t),fn:d.program(12,u,t),data:t}))||0===n)&&(i+=n),i+" </a> "}),s),fn:d.program(9,(function(e,t){return""+' <button type="button" class="confirm-btn btn btn-lg btn-primary">'+c(i(n(76273)).call(e,"OK",{hash:{},data:t}))+"</button> "}),s),data:s}))||0===o)&&(l+=o),l+" </div> </div> </div> "}))},82941:(e,t,n)=>{var r=n(40202);function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(r.default||r).template((function(e,t,r,a,s){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),s=s||{};var o,l="",c=this.escapeExpression,d="function",u=this;function p(e,t,n){var i,a="";return a+=' <ul class="media-info-file-list well"> ',((i=r.if.call(e,n&&n.showDeleteFile,{hash:{},inverse:u.noop,fn:u.program(5,m,t),data:t}))||0===i)&&(a+=i),a+=" ",((i=r.each.call(e,e&&e.Part,{hash:{},inverse:u.noop,fn:u.programWithDepth(10,y,t,n),data:t}))||0===i)&&(a+=i),a+" </ul> "}function m(e,t){var r,a="";return a+=' <a href="#" data-media-item="'+c(typeof(r=null==t||!1===t?t:t.index)===d?r.apply(e):r)+'" class="delete-btn text-danger pull-right"> <i class="glyphicon bin"></i> ',((r=i(n(78356)).call(e,null==(r=e&&e.Part)||!1===r?r:r.length,"1",{hash:{},inverse:u.program(8,g,t),fn:u.program(6,h,t),data:t}))||0===r)&&(a+=r),a+" </a> "}function h(e,t){return""+" "+c(i(n(76273)).call(e,"Delete File",{hash:{},data:t}))+" "}function g(e,t){return""+" "+c(i(n(76273)).call(e,"Delete Files",{hash:{},data:t}))+" "}function y(e,t,n){var i,a="";return a+=" <li> ",((i=r.if.call(e,n&&n.showFilepath,{hash:{},inverse:u.program(13,f,t),fn:u.program(11,v,t),data:t}))||0===i)&&(a+=i),a+=" ",((i=r.unless.call(e,e&&e.accessible,{hash:{},inverse:u.noop,fn:u.program(15,b,t),data:t}))||0===i)&&(a+=i),a+" </li> "}function v(e,t){var n;return""+" "+c(typeof(n=e&&e.file)===d?n.apply(e):n)+" "}function f(e,t){return""+" "+c(i(n(51447)).call(e,e&&e.file,{hash:{},data:t}))+" "}function b(e,t){var n,i="";return i+=" ",((n=r.if.call(e,e&&e.exists,{hash:{},inverse:u.program(18,S,t),fn:u.program(16,I,t),data:t}))||0===n)&&(i+=n),i+" "}function I(e,t){return""+' <span class="label label-danger" data-toggle="tooltip" title="'+c(i(n(76273)).call(e,"Please check the permissions for this file.",{hash:{},data:t}))+'">'+c(i(n(76273)).call(e,"Inaccessible",{hash:{},data:t}))+"</span> "}function S(e,t){return""+' <span class="label label-danger" data-toggle="tooltip" title="'+c(i(n(76273)).call(e,"Please check that this file exists and the necessary drive is mounted.",{hash:{},data:t}))+'">'+c(i(n(76273)).call(e,"Unavailable",{hash:{},data:t}))+"</span> "}function M(e,t){var r;return""+' <li> <span class="detail-label">'+c(i(n(76273)).call(e,e&&e.name,{hash:{},data:t}))+'</span> <span class="detail">'+c(typeof(r=e&&e.value)===d?r.apply(e):r)+"</span> </li> "}function E(e,t,a){var s,o="";return o+=' <div class="part"> <div class="props"> <h4>'+c(i(n(76273)).call(e,"Part",{hash:{},data:t}))+"</h4> <ul> ",((s=r.each.call(e,e&&e.properties,{hash:{},inverse:u.noop,fn:u.program(21,M,t),data:t}))||0===s)&&(o+=s),o+=' </ul> </div> <div class="streams"> ',((s=r.each.call(e,e&&e.Stream,{hash:{},inverse:u.noop,fn:u.program(24,P,t),data:t}))||0===s)&&(o+=s),o+=" ",((s=r.if.call(e,a&&a.loading,{hash:{},inverse:u.noop,fn:u.program(33,N,t),data:t}))||0===s)&&(o+=s),o+" </div> </div> "}function P(e,t){var a,s="";return s+=' <div class="props"> ',((a=i(n(78356)).call(e,e&&e.streamType,"1",{hash:{},inverse:u.program(27,C,t),fn:u.program(25,D,t),data:t}))||0===a)&&(s+=a),s+=" <ul> ",((a=r.each.call(e,e&&e.properties,{hash:{},inverse:u.noop,fn:u.program(21,M,t),data:t}))||0===a)&&(s+=a),s+" </ul> </div> "}function D(e,t){return""+" <h4>"+c(i(n(76273)).call(e,"Video",{hash:{},data:t}))+"</h4> "}function C(e,t){var r;return(r=i(n(78356)).call(e,e&&e.streamType,"2",{hash:{},inverse:u.program(30,Z,t),fn:u.program(28,w,t),data:t}))||0===r?r:""}function w(e,t){return""+" <h4>"+c(i(n(76273)).call(e,"Audio",{hash:{},data:t}))+"</h4> "}function Z(e,t){var r;return(r=i(n(78356)).call(e,e&&e.streamType,"3",{hash:{},inverse:u.noop,fn:u.program(31,T,t),data:t}))||0===r?r:""}function T(e,t){return""+" <h4>"+c(i(n(76273)).call(e,"Subtitles",{hash:{},data:t}))+"</h4> "}function N(e,t){return""+' <div class="props"> <h4>'+c(i(n(76273)).call(e,"Loading",{hash:{},data:t}))+"...</h4> </div> "}function O(e,t){var r;return""+' <div class="modal-footer"> <div class="pull-left"> <a href="'+c(typeof(r=e&&e.url)===d?r.apply(e):r)+'" target="_blank">'+c(i(n(76273)).call(e,"View XML",{hash:{},data:t}))+"</a> </div> </div> "}return l+='<div class="modal-dialog"> <div class="modal-content"> <div class="modal-header"> <button type="button" class="close" data-dismiss="modal"><i class="glyphicon remove-2"></i></button> <h4 class="modal-title"><i class="modal-icon glyphicon circle-info"></i> '+c(i(n(76273)).call(t,"Media Info",{hash:{},data:s}))+'</h4> </div> <div class="modal-body modal-body-scroll dark-scrollbar"> <div class="position-ref ',((o=r.unless.call(t,t&&t.hasStreams,{hash:{},inverse:u.noop,fn:u.program(1,(function(e,t){return"hide-streams-column"}),s),data:s}))||0===o)&&(l+=o),l+='"> ',((o=r.if.call(t,t&&t.hasFiles,{hash:{},inverse:u.noop,fn:u.program(3,(function(e,t){var a,s="";return s+=' <div class="files"> <h4>'+c(i(n(76273)).call(e,"Files",{hash:{},data:t}))+"</h4> ",((a=r.each.call(e,e&&e.media,{hash:{},inverse:u.noop,fn:u.programWithDepth(4,p,t,e),data:t}))||0===a)&&(s+=a),s+" </div> "}),s),data:s}))||0===o)&&(l+=o),l+=" ",((o=r.each.call(t,t&&t.media,{hash:{},inverse:u.noop,fn:u.programWithDepth(20,(function(e,t,a){var s,o="";return o+=' <div class="media"> <div class="props"> <h4>'+c(i(n(76273)).call(e,"Media",{hash:{},data:t}))+"</h4> <ul> ",((s=r.each.call(e,e&&e.properties,{hash:{},inverse:u.noop,fn:u.program(21,M,t),data:t}))||0===s)&&(o+=s),o+=" </ul> </div> ",((s=r.each.call(e,e&&e.Part,{hash:{},inverse:u.noop,fn:u.programWithDepth(23,E,t,a),data:t}))||0===s)&&(o+=s),o+" </div> "}),s,t),data:s}))||0===o)&&(l+=o),l+=" </div> </div> ",((o=r.if.call(t,t&&t.key,{hash:{},inverse:u.noop,fn:u.programWithDepth(35,(function(e,t,n){var i;return(i=r.if.call(e,n&&n.showFilepath,{hash:{},inverse:u.noop,fn:u.program(36,O,t),data:t}))||0===i?i:""}),s,t),data:s}))||0===o)&&(l+=o),l+" </div> </div> "}))},27556:(e,t,n)=>{var r=n(40202);function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(r.default||r).template((function(e,t,r,a,s){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),s=s||{};var o,l="",c=this.escapeExpression;return l+='<div class="modal-dialog"> <div class="modal-content"> <div class="modal-header"> <button type="button" class="close" data-dismiss="modal"><i class="glyphicon remove-2"></i></button> <h4 class="modal-title"> <i class="modal-icon glyphicon circle-arrow-right"></i> '+c(i(n(76273)).call(t,"Go Premium",{hash:{},data:s}))+' </h4> </div> <div class="modal-body"> <p class="text-center"><i class="plex-image plex-pass"></i></p> <h4 class="text-center">'+c(i(n(76273)).call(t,"This feature requires a Plex Pass subscription.",{hash:{},data:s}))+"</h4> ",((o=r.if.call(t,t&&t.isClaimed,{hash:{},inverse:this.program(3,(function(e,t){return""+' <p class="text-muted">'+c(i(n(76273)).call(e,'The server "{1}" has not been claimed. This server must be claimed by an account with a Plex Pass subscription.',e&&e.escapedFriendlyName,{hash:{},data:t}))+"</p> "}),s),fn:this.program(1,(function(e,t){return""+' <p class="text-muted">'+c(i(n(76273)).call(e,"Everything you need to experience the best of Plex. Your subscription gives you premium features and exclusive access to new ones.",{hash:{},data:t}))+"</p> "}),s),data:s}))||0===o)&&(l+=o),l+' <p class="text-center"> <a class="btn btn-sm btn-primary" href="'+c("function"==typeof(o=t&&t.plexPassUrl)?o.apply(t):o)+'" target="_blank">'+c(i(n(76273)).call(t,"Learn More",{hash:{},data:s}))+"</a> </p> </div> </div> </div> "}))},90308:(e,t,n)=>{var r=n(40202);function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(r.default||r).template((function(e,t,r,a,s){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),s=s||{};var o,l="",c=this.escapeExpression;return l+'<div class="modal-dialog"> <div class="modal-content"> <div class="modal-header"> <button type="button" class="close" data-dismiss="modal"><i class="glyphicon remove-2"></i></button> <h4 class="modal-title"> <i class="modal-icon glyphicon circle-exclamation-mark"></i> '+c(i(n(76273)).call(t,"Limited Connection",{hash:{},data:s}))+" - "+c("function"==typeof(o=t&&t.serverName)?o.apply(t):o)+' </h4> </div> <div class="modal-body"> <p> '+c(i(n(76273)).call(t,"You are not connected directly to {1} so streaming quality may be limited. You may be able to connect directly to this server by changing your home network settings. {2}Learn more{3}",t&&t.escapedServerName,'<a href="https://help.plex.tv/relay" target="_blank" class="learn-more">',"</a>",{hash:{},data:s}))+' </p> </div> <div class="modal-footer"> <button type="button" class="confirm-btn btn btn-lg btn-primary">'+c(i(n(76273)).call(t,"OK",{hash:{},data:s}))+"</button> </div> </div> </div> "}))},42094:(e,t,n)=>{var r=n(40202);function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(r.default||r).template((function(e,t,r,a,s){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),s=s||{};var o,l="",c=this.escapeExpression,d=this;function u(e,t){return""+" <li>"+c("function"==typeof e?e.apply(e):e)+"</li> "}return l+='<div class="modal-dialog"> <div class="modal-content"> <div class="modal-header"> <button type="button" class="close" data-dismiss="modal"><i class="glyphicon remove-2"></i></button> <h4 class="modal-title"><i class="modal-icon glyphicon circle-info"></i> '+c(i(n(76273)).call(t,"Plex Media Server Release Notes",{hash:{},data:s}))+'</h4> </div> <div class="modal-body modal-body-scroll dark-scrollbar"> <span class="text-muted">'+c(i(n(76273)).call(t,"Version {1}",t&&t.escapedVersion,{hash:{},data:s}))+"</span> ",((o=r.if.call(t,t&&t.added,{hash:{},inverse:d.noop,fn:d.programWithDepth(1,(function(e,t,a){var s,o="";return o+=' <h4 class="update-list-title">'+c(i(n(76273)).call(e,"New",{hash:{},data:t}))+"</h4> <ul> ",((s=r.each.call(e,a&&a.added,{hash:{},inverse:d.noop,fn:d.program(2,u,t),data:t}))||0===s)&&(o+=s),o+" </ul> "}),s,t),data:s}))||0===o)&&(l+=o),l+=" ",((o=r.if.call(t,t&&t.fixed,{hash:{},inverse:d.noop,fn:d.programWithDepth(4,(function(e,t,a){var s,o="";return o+=' <h4 class="update-list-title">'+c(i(n(76273)).call(e,"Fixes",{hash:{},data:t}))+"</h4> <ul> ",((s=r.each.call(e,a&&a.fixed,{hash:{},inverse:d.noop,fn:d.program(2,u,t),data:t}))||0===s)&&(o+=s),o+" </ul> "}),s,t),data:s}))||0===o)&&(l+=o),l+" </div> </div> </div> "}))},69009:(e,t,n)=>{var r=n(40202);function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(r.default||r).template((function(e,t,r,a,s){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),s=s||{};var o,l="",c=this.escapeExpression,d=this;function u(e,t){return""+" "+c(i(n(11178)).call(e,e&&e.name,25,{hash:{},data:t}))+" "}function p(e,t){return""+" "+c(i(n(11178)).call(e,e&&e.device,25,{hash:{},data:t}))+" "}return l+='<div class="modal-dialog"> <div class="modal-content"> <div class="modal-header"> <button type="button" class="close" data-dismiss="modal"><i class="glyphicon remove-2"></i></button> <h4 class="modal-title"><i class="modal-icon glyphicon iphone"></i> '+c(i(n(76273)).call(t,"Choose Destination",{hash:{},data:s}))+'</h4> </div> <div class="modal-body modal-body-scroll dark-scrollbar"> <ul class="list select-list"> ',((o=r.each.call(t,t&&t.devices,{hash:{},inverse:d.noop,fn:d.program(1,(function(e,t){var n,i="";return i+=' <li class="striped-list-item select-list-item"> <a class="media" data-value="'+c("function"==typeof(n=e&&e.id)?n.apply(e):n)+'" href="#"> ',((n=r.if.call(e,e&&e.name,{hash:{},inverse:d.program(4,p,t),fn:d.program(2,u,t),data:t}))||0===n)&&(i+=n),i+" </a> </li> "}),s),data:s}))||0===o)&&(l+=o),l+" </ul> </div> </div> </div> "}))},83278:(e,t,n)=>{var r=n(40202);function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(r.default||r).template((function(e,t,r,a,s){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),s=s||{};var o,l="",c=this.escapeExpression;return l+='<div class="modal-dialog"> <div class="modal-content"> <div class="modal-header"> <button type="button" class="close" data-dismiss="modal"><i class="glyphicon remove-2"></i></button> <h4 class="modal-title"><i class="modal-icon glyphicon file"></i> '+c(i(n(76273)).call(t,"Select a File",{hash:{},data:s}))+'</h4> </div> <div class="modal-body modal-body-scroll dark-scrollbar"> <ul class="list select-list"> ',((o=r.each.call(t,t&&t.medias,{hash:{},inverse:this.noop,fn:this.program(1,(function(e,t){var r,a="";return a+=' <li class="striped-list-item select-list-item"> <a class="media" data-value="'+c("function"==typeof(r=null==t||!1===t?t:t.index)?r.apply(e):r)+'" href="#"> ',((r=i(n(36433)).call(e,null==(r=null==(r=e&&e.Part)||!1===r?r:r[0])||!1===r?r:r.file,35,{hash:{},data:t}))||0===r)&&(a+=r),a+" </a> </li> "}),s),data:s}))||0===o)&&(l+=o),l+" </ul> </div> </div> </div> "}))},96717:(e,t,n)=>{var r=n(40202);function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(r.default||r).template((function(e,t,r,a,s){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),s=s||{};var o,l="",c=this,d="function",u=this.escapeExpression;function p(e,t){return" selected"}return l+='<div class="modal-dialog"> <div class="modal-content"> <div class="modal-header"> <button type="button" class="close" data-dismiss="modal"><i class="glyphicon remove-2"></i></button> <h4 class="modal-title"> ',((o=typeof(o=t&&t.iconPlexChevron)===d?o.apply(t):o)||0===o)&&(l+=o),l+=" "+u(i(n(76273)).call(t,"Plex Media Server Downloads",{hash:{},data:s}))+' </h4> </div> <div class="modal-body modal-body-scroll modal-body-with-panes"> <div class="modal-nav-pane dark-scrollbar"> <ul class="list modal-nav-list"> ',((o=r.each.call(t,t&&t.items,{hash:{},inverse:c.noop,fn:c.program(1,(function(e,t){var r,a="";return a+=' <li><a class="btn-gray show-pane-btn type-btn',((r=i(n(78356)).call(e,e&&e.selectedPane,e&&e.id,{hash:{},inverse:c.noop,fn:c.program(2,p,t),data:t}))||0===r)&&(a+=r),a+'" href="#" data-pane="'+u(typeof(r=e&&e.id)===d?r.apply(e):r)+'">'+u(typeof(r=e&&e.name)===d?r.apply(e):r)+"</a></li> "}),s),data:s}))||0===o)&&(l+=o),l+' </ul> </div> <div class="modal-body-pane pane-region dark-scrollbar"> </div> </div> <div class="server-download-loading loading loading-inline"></div> </div> </div> '}))},83273:(e,t,n)=>{var r=n(40202);e.exports=(r.default||r).template((function(e,t,r,i,a){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),a=a||{};var s,o,l="",c="function",d=this.escapeExpression;return l+='<div class="modal-dialog"> <div class="modal-content"> <div class="modal-header"> <button type="button" class="close" data-dismiss="modal"><i class="glyphicon remove-2"></i></button> <h4 class="modal-title"><i class="modal-icon glyphicon download"></i> '+d((o=n(76273),o&&(o.__esModule?o.default:o)).call(t,"Sync Status",{hash:{},data:a}))+'</h4> </div> <div class="modal-body modal-body-scroll dark-scrollbar"> <h4 class="sync-item-title">'+d(typeof(s=t&&t.rootTitle)===c?s.apply(t):s)+" &middot; "+d(typeof(s=t&&t.title)===c?s.apply(t):s)+"</h4> ",((s=r.if.call(t,null==(s=t&&t.Status)||!1===s?s:s.failure,{hash:{},inverse:this.noop,fn:this.program(1,(function(e,t){var n;return""+' <p class="text-muted"><i class="glyphicon warning-sign"></i> '+d(typeof(n=null==(n=e&&e.Status)||!1===n?n:n.failure)===c?n.apply(e):n)+"</p> "}),a),data:a}))||0===s)&&(l+=s),l+' <div class="sync-status-list-container"></div> </div> </div> </div> '}))},22110:(e,t,n)=>{var r=n(40202);function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(r.default||r).template((function(e,t,r,a,s){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),s=s||{};var o,l="",c=this.escapeExpression;return l+='<div class="convert-message-container row"> <div class="col-sm-3 text-center"> <p class="convert-error-icon"><i class="glyphicon circle-exclamation-mark"></i></p> </div> <div class="col-sm-8"> <h4> ',((o=r.if.call(t,t&&t.status,{hash:{},inverse:this.program(3,(function(e,t){return""+" "+c(i(n(76273)).call(e,"There was a problem preparing for optimization.",{hash:{},data:t}))+" "}),s),fn:this.program(1,(function(e,t){var n;return""+" "+c("function"==typeof(n=e&&e.status)?n.apply(e):n)+" "}),s),data:s}))||0===o)&&(l+=o),l+' </h4> <h4><a class="try-again-link" href="#">'+c(i(n(76273)).call(t,"Try again",{hash:{},data:s}))+"</a></h4> </div> </div> "}))},82295:(e,t,n)=>{var r=n(40202);function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(r.default||r).template((function(e,t,r,a,s){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),s=s||{};var o,l="",c=this.escapeExpression,d=this;function u(e,t){return"selected"}return l+='<label class="control-label" for="convert-storage-location">'+c(i(n(76273)).call(t,"Version storage location",{hash:{},data:s}))+'</label> <select id="convert-storage-location" class="storage-location-select" name="storageLocation" ',((o=r.if.call(t,t&&t.disableLocation,{hash:{},inverse:d.noop,fn:d.program(1,(function(e,t){return"disabled"}),s),data:s}))||0===o)&&(l+=o),l+='> <option value="-1" ',((o=i(n(78356)).call(t,t&&t.selectedLocationID,-1,{hash:{},inverse:d.noop,fn:d.program(3,u,s),data:s}))||0===o)&&(l+=o),l+=">"+c(i(n(76273)).call(t,"In folders with original items",{hash:{},data:s}))+"</option> ",((o=r.each.call(t,t&&t.locations,{hash:{},inverse:d.noop,fn:d.programWithDepth(5,(function(e,t,r){var a,s="";return s+=' <option value="'+c("function"==typeof(a=e&&e.id)?a.apply(e):a)+'" ',((a=i(n(78356)).call(e,r&&r.selectedLocationID,e&&e.id,{hash:{},inverse:d.noop,fn:d.program(3,u,t),data:t}))||0===a)&&(s+=a),s+">"+c(i(n(12498)).call(e,e&&e.path,50,20,{hash:{},data:t}))+"</option> "}),s,t),data:s}))||0===o)&&(l+=o),l+' </select> <p class="help-block">'+c(i(n(76273)).call(t,'A "Plex Versions" folder will be created in your chosen location.',{hash:{},data:s}))+"</p> "}))},60603:(e,t,n)=>{var r=n(40202);function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(r.default||r).template((function(e,t,r,a,s){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),s=s||{};var o,l="",c=this.escapeExpression,d=this;function u(e,t){return"hidden"}function p(e,t){return"checked"}return l+='<div class="form-group ',((o=r.unless.call(t,t&&t.showUnwatched,{hash:{},inverse:d.noop,fn:d.program(1,u,s),data:s}))||0===o)&&(l+=o),l+='"> <label class="control-label"> <input type="checkbox" id="convert-policy-unwatched" name="policyUnwatched" ',((o=r.if.call(t,null==(o=t&&t.policy)||!1===o?o:o.unwatched,{hash:{},inverse:d.noop,fn:d.program(3,p,s),data:s}))||0===o)&&(l+=o),l+="> "+c(i(n(76273)).call(t,"Unwatched only",{hash:{},data:s}))+' </label> </div> <div class="form-group ',((o=r.unless.call(t,t&&t.isDirectory,{hash:{},inverse:d.noop,fn:d.program(1,u,s),data:s}))||0===o)&&(l+=o),l+='"> <label class="control-label"> <input type="checkbox" id="convert-policy-scope" name="policyScope" value="count" ',((o=i(n(78356)).call(t,null==(o=t&&t.policy)||!1===o?o:o.scope,"count",{hash:{},inverse:d.noop,fn:d.program(3,p,s),data:s}))||0===o)&&(l+=o),l+="> "+c(i(n(76273)).call(t,"Limit to",{hash:{},data:s}))+' <input type="number" id="convert-policy-value" name="policyValue" class="policy-value-control form-control" ',((o=r.if.call(t,null==(o=t&&t.policy)||!1===o?o:o.value,{hash:{},inverse:d.noop,fn:d.program(5,(function(e,t){var n;return""+'value="'+c("function"==typeof(n=null==(n=e&&e.policy)||!1===n?n:n.value)?n.apply(e):n)+'"'}),s),data:s}))||0===o)&&(l+=o),l+="> "+c(i(n(76273)).call(t,"items",{hash:{},data:s}))+' </label> <p class="convert-warning help-block ',((o=r.unless.call(t,t&&t.showLimitWarning,{hash:{},inverse:d.noop,fn:d.program(1,u,s),data:s}))||0===o)&&(l+=o),l+='"> <i class="convert-warning-icon glyphicon circle-exclamation-mark"></i> <span class="convert-warning-text"> ',((o=r.if.call(t,t&&t.isSync,{hash:{},inverse:d.program(9,(function(e,t){return""+" "+c(i(n(76273)).call(e,"A large number of items may be time-consuming to convert. If you have trouble, try reducing the number of items.",{hash:{},data:t}))+" "}),s),fn:d.program(7,(function(e,t){return""+" "+c(i(n(76273)).call(e,"A large number of sync items may be time-consuming to convert and transfer to your device. If you have trouble, try reducing the number of items.",{hash:{},data:t}))+" "}),s),data:s}))||0===o)&&(l+=o),l+" </span> </p> </div> "}))},32433:(e,t,n)=>{var r=n(40202);function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(r.default||r).template((function(e,t,r,a,s){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),s=s||{};var o,l="",c=this.escapeExpression,d="function",u=this;function p(e,t){return"selected"}function m(e,t){return""+" - "+c(i(n(54614)).call(e,e&&e.mediaSettings,{hash:{},data:t}))}return l+='<select class="convert-target-select" name="target" ',((o=r.if.call(t,t&&t.disableTarget,{hash:{},inverse:u.noop,fn:u.program(1,(function(e,t){return"disabled"}),s),data:s}))||0===o)&&(l+=o),l+="> ",((o=r.each.call(t,t&&t.targets,{hash:{},inverse:u.noop,fn:u.programWithDepth(3,(function(e,t,a){var s,o="";return o+=' <option value="'+c(typeof(s=e&&e.id)===d?s.apply(e):s)+'" ',((s=i(n(78356)).call(e,null==(s=a&&a.item)||!1===s?s:s.targetTagID,e&&e.id,{hash:{},inverse:u.noop,fn:u.program(4,p,t),data:t}))||0===s)&&(o+=s),o+="> "+c(typeof(s=e&&e.tag)===d?s.apply(e):s),((s=r.if.call(e,null==(s=e&&e.mediaSettings)||!1===s?s:s.videoResolution,{hash:{},inverse:u.noop,fn:u.program(6,m,t),data:t}))||0===s)&&(o+=s),o+" </option> "}),s,t),data:s}))||0===o)&&(l+=o),l+=' <option value="-1" ',((o=r.unless.call(t,null==(o=t&&t.item)||!1===o?o:o.targetTagID,{hash:{},inverse:u.noop,fn:u.program(4,p,s),data:s}))||0===o)&&(l+=o),l+=">"+c(i(n(76273)).call(t,"Custom",{hash:{},data:s}))+'</option> </select> <div class="convert-custom-target-container"> <input type="text" class="convert-target-title form-control" name="targetTitle" class="form-control" value="'+c(typeof(o=null==(o=t&&t.item)||!1===o?o:o.target)===d?o.apply(t):o)+'" placeholder="'+c(i(n(76273)).call(t,"Quality Name",{hash:{},data:s}))+'"> <select class="convert-target-profile-select" name="targetProfile"> ',((o=r.each.call(t,t&&t.profiles,{hash:{},inverse:u.noop,fn:u.programWithDepth(8,(function(e,t,r){var a,s="";return s+=' <option value="'+c(typeof(a=e&&e.title)===d?a.apply(e):a)+'" ',((a=i(n(78356)).call(e,null==(a=r&&r.selectedProfile)||!1===a?a:a.title,e&&e.title,{hash:{},inverse:u.noop,fn:u.program(4,p,t),data:t}))||0===a)&&(s+=a),s+"> "+c(typeof(a=e&&e.title)===d?a.apply(e):a)+" </option> "}),s,t),data:s}))||0===o)&&(l+=o),l+=' </select> <select class="convert-target-quality-select" name="targetQuality"> ',((o=r.each.call(t,t&&t.availableCustomQualities,{hash:{},inverse:u.noop,fn:u.programWithDepth(10,(function(e,t,r){var a,s="";return s+=' <option value="'+c(typeof(a=e&&e.index)===d?a.apply(e):a)+'" ',((a=i(n(78356)).call(e,null==(a=r&&r.selectedCustomQuality)||!1===a?a:a.index,e&&e.index,{hash:{},inverse:u.noop,fn:u.program(4,p,t),data:t}))||0===a)&&(s+=a),s+"> "+c(i(n(54614)).call(e,e,{hash:{},data:t}))+" </option> "}),s,t),data:s}))||0===o)&&(l+=o),l+' </select> </div> <p class="help-block">'+c(i(n(76273)).call(t,"Plex will convert your media to this quality. Each version will be stored in a separate file.",{hash:{},data:s}))+"</p> "}))},7580:(e,t,n)=>{var r=n(40202);function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(r.default||r).template((function(e,t,r,a,s){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),s=s||{};var o,l="",c=this.escapeExpression,d=this,u="function";return l+='<form id="convert-form" class="settings-container"> <div class="modal-body"> <div class="form-group ',((o=r.unless.call(t,t&&t.showRemuxOnlyWarning,{hash:{},inverse:d.noop,fn:d.program(1,(function(e,t){return"hidden"}),s),data:s}))||0===o)&&(l+=o),l+='"> <p class="convert-warning help-block"> <i class="convert-warning-icon glyphicon circle-exclamation-mark"></i> <span class="convert-warning-text"> '+c(i(n(76273)).call(t,"Video optimization may take a long time to complete on this server. You'll be able to use Plex normally while you wait.",{hash:{},data:s}))+' </span> </p> </div> <div class="form-group"> <label class="control-label" for="convert-title">'+c(i(n(76273)).call(t,"Title",{hash:{},data:s}))+'</label> <input type="text" id="convert-title" name="title" class="form-control" value="'+c(typeof(o=null==(o=t&&t.conversionItem)||!1===o?o:o.title)===u?o.apply(t):o)+'" placeholder="'+c(typeof(o=null==(o=t&&t.conversionItem)||!1===o?o:o.title)===u?o.apply(t):o)+'"> </div> <div class="policy-region"></div> <div class="targets-region"></div> <div class="location-region"></div> </div> <div class="modal-footer"> <button type="button" class="btn btn-default" data-dismiss="modal">'+c(i(n(76273)).call(t,"Cancel",{hash:{},data:s}))+'</button> <button type="submit" class="submit-btn btn btn-primary btn-loading"> <div class="loading loading-sm"></div> <span class="btn-label">',((o=r.if.call(t,t&&t.isNew,{hash:{},inverse:d.program(5,(function(e,t){return c(i(n(76273)).call(e,"Save",{hash:{},data:t}))}),s),fn:d.program(3,(function(e,t){return c(i(n(76273)).call(e,"Optimize",{hash:{},data:t}))}),s),data:s}))||0===o)&&(l+=o),l+"</span> </button> </div> </form> "}))},21967:(e,t,n)=>{var r=n(40202);e.exports=(r.default||r).template((function(e,t,n,r,i){return this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),i=i||{},'<div class="loading loading-inline"></div> '}))},63768:(e,t,n)=>{var r=n(40202);e.exports=(r.default||r).template((function(e,t,r,i,a){var s;return this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),a=a||{},""+'<div class="modal-dialog"> <div class="modal-content"> <div class="modal-header"> <button type="button" class="close" data-dismiss="modal"><i class="glyphicon remove-2"></i></button> <h4 class="modal-title"><i class="modal-icon glyphicon restart"></i> '+(0,this.escapeExpression)((s=n(76273),s&&(s.__esModule?s.default:s)).call(t,"Optimize",{hash:{},data:a}))+'</h4> </div> <div class="modal-body-region"></div> </div> </div> '}))},7369:(e,t,n)=>{var r=n(40202);function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(r.default||r).template((function(e,t,r,a,s){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),s=s||{};var o="",l=this.escapeExpression;return o+'<div class="convert-message-container row"> <div class="col-sm-3 text-center"> <p class="convert-success-icon"><i class="glyphicon ok-2"></i></p> </div> <div class="col-sm-8"> <h4>'+l(i(n(76273)).call(t,"This media is being converted.",{hash:{},data:s}))+"</h4> <h4>"+l(i(n(76273)).call(t,"Watch the status of the conversion {1}here{2}.",'<a class="status-link" href="#">',"</a>",{hash:{},data:s}))+"</h4> </div> </div> "}))},91939:(e,t,n)=>{var r=n(40202);function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(r.default||r).template((function(e,t,r,a,s){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),s=s||{};var o="",l=this.escapeExpression;return o+'<div class="convert-message-container row"> <div class="col-sm-3 text-center"> <p class="convert-error-icon"><i class="glyphicon circle-exclamation-mark"></i></p> </div> <div class="col-sm-8"> <h4>'+l(i(n(76273)).call(t,"There was a problem syncing this media.",{hash:{},data:s}))+'</h4> <h4><a class="try-again-link" href="#">'+l(i(n(76273)).call(t,"Try again",{hash:{},data:s}))+"</a></h4> </div> </div> "}))},16902:(e,t,n)=>{var r=n(40202);function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(r.default||r).template((function(e,t,r,a,s){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),s=s||{};var o,l="",c=this,d=this.escapeExpression,u="function";function p(e,t){var r,a="";return a+=' <option value="-1" ',((r=i(n(78356)).call(e,null==(r=e&&e.selectedVideoQuality)||!1===r?r:r.index,-1,{hash:{},inverse:c.noop,fn:c.program(3,m,t),data:t}))||0===r)&&(a+=r),a+"> "+d(i(n(76273)).call(e,"Original",{hash:{},data:t}))+" </option> "}function m(e,t){return"selected"}function h(e,t,r){var a,s="";return s+=' <option value="'+d(typeof(a=e&&e.index)===u?a.apply(e):a)+'" ',((a=i(n(78356)).call(e,null==(a=r&&r.selectedVideoQuality)||!1===a?a:a.index,e&&e.index,{hash:{},inverse:c.noop,fn:c.program(3,m,t),data:t}))||0===a)&&(s+=a),s+"> "+d(i(n(54614)).call(e,e,{hash:{},data:t}))+" </option> "}function g(e,t,r){var a,s="";return s+=' <option value="'+d(typeof(a=e&&e.index)===u?a.apply(e):a)+'" ',((a=i(n(78356)).call(e,null==(a=r&&r.selectedMusicQuality)||!1===a?a:a.index,e&&e.index,{hash:{},inverse:c.noop,fn:c.program(3,m,t),data:t}))||0===a)&&(s+=a),s+"> "+d(i(n(51030)).call(e,e,{hash:{},data:t}))+" </option> "}function y(e,t,r){var a,s="";return s+=' <option value="'+d(typeof(a=e&&e.index)===u?a.apply(e):a)+'" ',((a=i(n(78356)).call(e,null==(a=r&&r.selectedPhotoQuality)||!1===a?a:a.index,e&&e.index,{hash:{},inverse:c.noop,fn:c.program(3,m,t),data:t}))||0===a)&&(s+=a),s+"> "+d(typeof(a=e&&e.title)===u?a.apply(e):a)+" </option> "}return((o=i(n(78356)).call(t,t&&t.typeElement,"video",{hash:{},inverse:c.noop,fn:c.program(1,(function(e,t){var n,i="";return i+=' <select class="sync-quality-select" name="videoQuality"> ',((n=r.if.call(e,e&&e.supportsOriginalQuality,{hash:{},inverse:c.noop,fn:c.program(2,p,t),data:t}))||0===n)&&(i+=n),i+=" ",((n=r.each.call(e,e&&e.availableVideoQualities,{hash:{},inverse:c.noop,fn:c.programWithDepth(5,h,t,e),data:t}))||0===n)&&(i+=n),i+" </select> "}),s),data:s}))||0===o)&&(l+=o),l+=" ",((o=i(n(78356)).call(t,t&&t.typeElement,"audio",{hash:{},inverse:c.noop,fn:c.program(7,(function(e,t){var n,i="";return i+=' <select class="sync-quality-select" name="musicQuality"> ',((n=r.each.call(e,e&&e.availableMusicQualities,{hash:{},inverse:c.noop,fn:c.programWithDepth(8,g,t,e),data:t}))||0===n)&&(i+=n),i+" </select> "}),s),data:s}))||0===o)&&(l+=o),l+=" ",((o=i(n(78356)).call(t,t&&t.typeElement,"photo",{hash:{},inverse:c.noop,fn:c.program(10,(function(e,t){var n,i="";return i+=' <select class="sync-quality-select" name="photoQuality"> ',((n=r.each.call(e,e&&e.availablePhotoQualities,{hash:{},inverse:c.noop,fn:c.programWithDepth(11,y,t,e),data:t}))||0===n)&&(i+=n),i+" </select> "}),s),data:s}))||0===o)&&(l+=o),l+' <p class="help-block">'+d(i(n(76273)).call(t,"Plex will convert your media to this quality and transfer the converted media to your device.",{hash:{},data:s}))+"</p> "}))},20166:(e,t,n)=>{var r=n(40202);function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(r.default||r).template((function(e,t,r,a,s){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),s=s||{};var o,l="",c=this.escapeExpression,d="function";return l+='<form id="sync-form" class="settings-container"> <div class="modal-body"> <div class="form-group"> <label class="control-label" for="sync-title">'+c(i(n(76273)).call(t,"Title",{hash:{},data:s}))+'</label> <input type="text" id="sync-title" name="title" class="form-control" value="'+c(typeof(o=null==(o=t&&t.syncItem)||!1===o?o:o.title)===d?o.apply(t):o)+'" placeholder="'+c(typeof(o=null==(o=t&&t.syncItem)||!1===o?o:o.title)===d?o.apply(t):o)+'"> </div> <div class="policy-region"></div> <div class="quality-region"></div> </div> <div class="modal-footer"> <button type="button" class="btn btn-default" data-dismiss="modal">'+c(i(n(76273)).call(t,"Cancel",{hash:{},data:s}))+'</button> <button type="submit" class="submit-btn btn btn-primary btn-loading"> <div class="loading loading-sm"></div> <span class="btn-label">',((o=r.if.call(t,t&&t.isNew,{hash:{},inverse:this.program(3,(function(e,t){return c(i(n(76273)).call(e,"Save",{hash:{},data:t}))}),s),fn:this.program(1,(function(e,t){return c(i(n(76273)).call(e,"Sync",{hash:{},data:t}))}),s),data:s}))||0===o)&&(l+=o),l+"</span> </button> </div> </form> "}))},24740:(e,t,n)=>{var r=n(40202);e.exports=(r.default||r).template((function(e,t,r,i,a){var s;return this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),a=a||{},""+'<div class="modal-dialog"> <div class="modal-content"> <div class="modal-header"> <button type="button" class="close" data-dismiss="modal"><i class="glyphicon remove-2"></i></button> <h4 class="modal-title"><i class="modal-icon glyphicon download"></i> '+(0,this.escapeExpression)((s=n(76273),s&&(s.__esModule?s.default:s)).call(t,"Sync",{hash:{},data:a}))+'</h4> </div> <div class="modal-body-region"></div> </div> </div> '}))},98915:(e,t,n)=>{var r=n(40202);function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(r.default||r).template((function(e,t,r,a,s){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),s=s||{};var o="",l=this.escapeExpression;return o+'<div class="convert-message-container row"> <div class="col-sm-3 text-center"> <p class="convert-success-icon"><i class="glyphicon ok-2"></i></p> </div> <div class="col-sm-8"> <h4>'+l(i(n(76273)).call(t,"This media is being synced.",{hash:{},data:s}))+"</h4> <h4>"+l(i(n(76273)).call(t,"Watch the status of the sync {1}here{2}.",'<a class="status-link" href="#">',"</a>",{hash:{},data:s}))+"</h4> </div> </div> "}))},63565:(e,t,n)=>{var r=n(40202);e.exports=(r.default||r).template((function(e,t,r,i,a){var s;return this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),a=a||{},""+'<div class="modal-dialog"> <div class="modal-content"> <div class="modal-header"> <button type="button" class="close" data-dismiss="modal"><i class="glyphicon remove-2"></i></button> <h4 class="modal-title"><i class="modal-icon glyphicon restart"></i> <span class="generator-title"></span></h4> </div> <div class="modal-body modal-body-scroll dark-scrollbar"> <h4> <span class="generator-failure-container pull-right"> <i class="generator-failure-icon glyphicon circle-exclamation-mark text-danger"></i> <span class="generator-failure-message text-muted"></span> </span> <span class="generator-items-count"></span> &middot; <span class="generator-total-size"></span> </h4> <div class="list-region"></div> <div class="list-feedback-container"> <span class="loading hidden"></span> <span class="error-message text-muted hidden"> '+(0,this.escapeExpression)((s=n(76273),s&&(s.__esModule?s.default:s)).call(t,"There was a problem loading these items.",{hash:{},data:a}))+" </span> </div> </div> </div> </div> "}))},30290:(e,t,n)=>{var r=n(40202);e.exports=(r.default||r).template((function(e,t,n,r,i){return this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),i=i||{},'<div class="modal-dialog"> <div class="modal-alert"></div> <div class="modal-content"></div> </div> '}))},49883:(e,t,n)=>{var r=n(40202);e.exports=(r.default||r).template((function(e,t,r,i,a){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),a=a||{};var s,o,l="",c=this,d=this.escapeExpression;return((s=r.if.call(t,t&&t.disabled,{hash:{},inverse:c.program(3,(function(e,t){return' <a class="user-select-container" href="#"> '}),a),fn:c.program(1,(function(e,t){return' <div class="user-select-container"> '}),a),data:a}))||0===s)&&(l+=s),l+=' <div class="user-select-top"> <div class="user-poster img-circle"> <span class="add-icon">',((s="function"==typeof(s=t&&t.iconAdd)?s.apply(t):s)||0===s)&&(l+=s),l+='</span> </div> </div> <div class="caption"> <div class="username">'+d((o=n(76273),o&&(o.__esModule?o.default:o)).call(t,"Add User",{hash:{},data:a}))+"</div> </div> ",((s=r.if.call(t,t&&t.disabled,{hash:{},inverse:c.program(7,(function(e,t){return" </a> "}),a),fn:c.program(5,(function(e,t){return" </div> "}),a),data:a}))||0===s)&&(l+=s),l+" "}))},20367:(e,t,n)=>{var r=n(40202);e.exports=(r.default||r).template((function(e,t,n,r,i){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),i=i||{};var a,s="";return(s+='<span class="message">')+((0,this.escapeExpression)((a=n.message)||"function"==typeof(a=t&&t.message)?a.call(t,{hash:{},data:i}):a)+"</span> ")}))},91159:(e,t,n)=>{var r=n(40202);function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(r.default||r).template((function(e,t,r,a,s){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),s=s||{};var o,l="",c=this.escapeExpression,d=this;function u(e,t){return""+" "+c(i(n(76273)).call(e,"Confirm Current PIN",{hash:{},data:t}))+" "}function p(e,t){var n;return(n=r.if.call(e,e&&e.isOpeningAddManagedUser,{hash:{},inverse:d.program(11,h,t),fn:d.program(9,m,t),data:t}))||0===n?n:""}function m(e,t){return""+" "+c(i(n(76273)).call(e,"Enter Admin PIN",{hash:{},data:t}))+" "}function h(e,t){return""+" "+c(i(n(76273)).call(e,"Enter PIN",{hash:{},data:t}))+" "}function g(e,t){return""+' <button type="button" class="remove-btn btn-gray pull-left">'+c(i(n(76273)).call(e,"Remove",{hash:{},data:t}))+"</button> "}function y(e,t){return""+' <button type="button" class="skip-btn btn-gray" data-dismiss="modal">'+c(i(n(76273)).call(e,"Skip",{hash:{},data:t}))+"</button> "}function v(e,t){return""+' <button type="button" class="cancel-btn btn-gray" data-dismiss="modal">'+c(i(n(76273)).call(e,"Cancel",{hash:{},data:t}))+"</button> "}return l+='<div class="modal-header"> <div class="home-user-dropdown-container pull-right"></div> <h4 class="modal-title"> ',((o=r.if.call(t,t&&t.showBackButton,{hash:{},inverse:d.noop,fn:d.program(1,(function(e,t){return' <a class="back-btn btn-gray" href="#"><i class="glyphicon chevron-left"></i></a> '}),s),data:s}))||0===o)&&(l+=o),l+=" ",((o=r.if.call(t,t&&t.isEditing,{hash:{},inverse:d.program(5,(function(e,t){var n;return(n=r.if.call(e,e&&e.isEditConfirmation,{hash:{},inverse:d.program(8,p,t),fn:d.program(6,u,t),data:t}))||0===n?n:""}),s),fn:d.program(3,(function(e,t){return""+' <i class="modal-icon glyphicon pencil"></i> '+c(i(n(76273)).call(e,"Edit PIN",{hash:{},data:t}))+" "}),s),data:s}))||0===o)&&(l+=o),l+=' <span class="loading loading-sm hidden"></span> </h4> </div> <form id="pin-form"> <div class="modal-body"> <ul class="tile-list user-select-list disabled"></ul> <input type="number" pattern="[0-9]*" class="pin-input"> <a class="pin-forgot-link btn-gray hidden" href="https://www.plex.tv/pin-reset/" target="_blank">'+c(i(n(76273)).call(t,"Forgot?",{hash:{},data:s}))+'</a> <div class="pin-digit-container" aria-hidden="true"> <div class="pin-digit"></div> <div class="pin-digit"></div> <div class="pin-digit"></div> <div class="pin-digit"></div> </div> ',((o=r.if.call(t,t&&t.isEditWarning,{hash:{},inverse:d.noop,fn:d.program(13,(function(e,t){return""+' <p class="help-block"> '+c(i(n(76273)).call(e,"You do not currently have a PIN. This will allow any users in this home to switch to your account.",{hash:{},data:t}))+" </p> "}),s),data:s}))||0===o)&&(l+=o),l+=" </div> ",((o=r.if.call(t,t&&t.isEditing,{hash:{},inverse:d.noop,fn:d.program(15,(function(e,t){var a,s="";return s+=' <div class="modal-footer"> ',((a=r.if.call(e,e&&e.hasCurrentPIN,{hash:{},inverse:d.noop,fn:d.program(16,g,t),data:t}))||0===a)&&(s+=a),s+=" ",((a=r.if.call(e,e&&e.isEditWarning,{hash:{},inverse:d.program(20,v,t),fn:d.program(18,y,t),data:t}))||0===a)&&(s+=a),s+' <button type="submit" class="save-btn btn-link">'+c(i(n(76273)).call(e,"Save",{hash:{},data:t}))+"</button> </div> "}),s),data:s}))||0===o)&&(l+=o),l+" </form> "}))},74237:(e,t,n)=>{var r=n(40202);e.exports=(r.default||r).template((function(e,t,n,r,i){this.compilerInfo=[4,">= 1.0.0"],i=i||{};var a,s="",o=this;return((a=(n=this.merge(n,e.helpers)).if.call(t,t&&t.disabled,{hash:{},inverse:o.program(3,(function(e,t){return' <a class="user-select-container" href="#"> '}),i),fn:o.program(1,(function(e,t){return' <div class="user-select-container"> '}),i),data:i}))||0===a)&&(s+=a),s+=' <div class="user-select-top"> <div class="user-poster img-circle"></div> <i class="protected-icon user-icon glyphicon lock"></i> <i class="admin-icon user-icon glyphicon crown"></i> </div> <div class="caption"> <div class="username"></div> <div class="managed-title"></div> </div> ',((a=n.if.call(t,t&&t.disabled,{hash:{},inverse:o.program(7,(function(e,t){return" </a> "}),i),fn:o.program(5,(function(e,t){return" </div> "}),i),data:i}))||0===a)&&(s+=a),s+" "}))},99590:(e,t,n)=>{var r=n(40202);e.exports=(r.default||r).template((function(e,t,r,i,a){var s;return this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),a=a||{},""+'<div class="modal-header"> <h4 class="modal-title"> '+(0,this.escapeExpression)((s=n(76273),s&&(s.__esModule?s.default:s)).call(t,"Select User",{hash:{},data:a}))+' <span class="loading loading-sm"></span> </h4> </div> <div class="modal-body"></div> '}))},10371:(e,t,n)=>{var r=n(40202);e.exports=(r.default||r).template((function(e,t,r,i,a){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),a=a||{};var s,o,l="",c="function",d=this.escapeExpression;return l+='<div class="form-group" data-attr="'+d(typeof(s=t&&t.name)===c?s.apply(t):s)+'"> <label for="text-'+d(typeof(s=t&&t.name)===c?s.apply(t):s)+'" class="control-label">'+d((o=n(76273),o&&(o.__esModule?o.default:o)).call(t,t&&t.label,{hash:{},data:a}))+'<span class="control-error"></span></label> <div class="input-group selectize-group"> <input type="text" id="text-'+d(typeof(s=t&&t.name)===c?s.apply(t):s)+'" class="form-control text-field" name="'+d(typeof(s=t&&t.name)===c?s.apply(t):s)+'" placeholder="'+d(typeof(s=t&&t.placeholder)===c?s.apply(t):s)+'" data-rating-key="'+d(typeof(s=t&&t.ratingKey)===c?s.apply(t):s)+'" data-title="'+d(typeof(s=t&&t.title)===c?s.apply(t):s)+'" ',((s=r.if.call(t,t&&t.scopeToAttr,{hash:{},inverse:this.noop,fn:this.program(1,(function(e,t){var n;return""+'data-scope-to-attr="'+d(typeof(n=e&&e.scopeToAttr)===c?n.apply(e):n)+'" data-scope-to-param="'+d(typeof(n=e&&e.scopeToParam)===c?n.apply(e):n)+'"'}),a),data:a}))||0===s)&&(l+=s),l+"> </div> </div> "}))},30320:(e,t,n)=>{var r=n(40202);function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(r.default||r).template((function(e,t,r,a,s){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),s=s||{};var o,l="",c=this.escapeExpression,d=this;function u(e,t){return""+' <h4 class="server-connect-error-header">'+c(i(n(76273)).call(e,"Problem Connecting to Plex",{hash:{},data:t}))+'</h4> <p class="text-muted">'+c(i(n(76273)).call(e,"Your server was unable to reach Plex. Please ensure that the computer or device running your server can access the internet.",{hash:{},data:t}))+"</p> "}function p(e,t){return""+' <h4 class="server-connect-error-header">'+c(i(n(76273)).call(e,"Signed in to Plex",{hash:{},data:t}))+'</h4> <p class="text-muted">'+c(i(n(76273)).call(e,"You have successfully signed your server in to Plex, but we were unable to reach it from outside your network.",{hash:{},data:t}))+"</p> "}return((o=i(n(78356)).call(t,t&&t.mappingError,"badauth",{hash:{},inverse:d.program(3,(function(e,t){var r,a="";return((r=i(n(78356)).call(e,e&&e.mappingError,"myplexgone",{hash:{},inverse:d.program(6,p,t),fn:d.program(4,u,t),data:t}))||0===r)&&(a+=r),a+" "}),s),fn:d.program(1,(function(e,t){return""+' <h4 class="server-connect-error-header">'+c(i(n(76273)).call(e,"Problem Connecting to Plex",{hash:{},data:t}))+'</h4> <p class="text-muted">'+c(i(n(76273)).call(e,"Plex was unable to authenticate your server. Please sign your server out and try again.",{hash:{},data:t}))+"</p> "}),s),data:s}))||0===o)&&(l+=o),l+=" ",((o=i(n(84772)).call(t,t&&t.context,"settings",{hash:{},inverse:d.noop,fn:d.program(8,(function(e,t){return""+' <p class="text-muted">'+c(i(n(76273)).call(e,"If you skip this step you will not be able to share or stream media outside your home. If you change your mind later, you can adjust this in Settings.",{hash:{},data:t}))+"</p> "}),s),data:s}))||0===o)&&(l+=o),l+' <p class="text-muted">'+c(i(n(76273)).call(t,"If you would like to enable this now, you will need to configure your router or firewall to allow Plex to contact your server. Please refer to our {1}Connecting a Server{2} article for more information.",'<a href="http://support.plex.tv/hc/en-us/articles/200484543-Connecting-a-Server/?utm_source=Plex%20Apps&utm_medium=Plex%20Web&utm_campaign=Plex%20Apps" target="_blank">',"</a>",{hash:{},data:s}))+"</p> "}))},2397:(e,t,n)=>{var r=n(40202);e.exports=(r.default||r).template((function(e,t,r,i,a){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),a=a||{};var s,o,l="",c="function",d=this.escapeExpression,u=this;function p(e,t){return"disabled"}return l+='<div class="form-group"> <label for="lockable-'+d(typeof(s=t&&t.name)===c?s.apply(t):s)+'">'+d((o=n(76273),o&&(o.__esModule?o.default:o)).call(t,t&&t.label,{hash:{},data:a}))+'</label> <div class="input-group"> <a href="#" data-field="'+d(typeof(s=t&&t.name)===c?s.apply(t):s)+'" class="input-group-addon edit-lock-addon ',((s=r.if.call(t,t&&t.locked,{hash:{},inverse:u.noop,fn:u.program(1,(function(e,t){return"locked"}),a),data:a}))||0===s)&&(l+=s),l+=" ",((s=r.if.call(t,t&&t.disabled,{hash:{},inverse:u.noop,fn:u.program(3,p,a),data:a}))||0===s)&&(l+=s),l+='" tabindex="-1"><i class="glyphicon lock"></i></a> <input type="number" id="lockable-'+d(typeof(s=t&&t.name)===c?s.apply(t):s)+'" class="form-control lockable-field" name="'+d(typeof(s=t&&t.name)===c?s.apply(t):s)+'" value="'+d(typeof(s=t&&t.value)===c?s.apply(t):s)+'" placeholder="'+d(typeof(s=t&&t.placeholder)===c?s.apply(t):s)+'" ',((s=r.if.call(t,t&&t.disabled,{hash:{},inverse:u.noop,fn:u.program(3,p,a),data:a}))||0===s)&&(l+=s),l+"> </div> </div> "}))},14118:(e,t,n)=>{var r=n(40202);e.exports=(r.default||r).template((function(e,t,r,i,a){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),a=a||{};var s,o,l="",c="function",d=this.escapeExpression,u=this;return l+='<div class="form-group"> <label for="lockable-'+d(typeof(s=t&&t.name)===c?s.apply(t):s)+'">'+d((o=n(76273),o&&(o.__esModule?o.default:o)).call(t,t&&t.label,{hash:{},data:a}))+'</label> <div class="input-group selectize-group"> <a href="#" data-field="'+d(typeof(s=t&&t.name)===c?s.apply(t):s)+'" class="input-group-addon edit-lock-addon',((s=r.if.call(t,t&&t.locked,{hash:{},inverse:u.noop,fn:u.program(1,(function(e,t){return" locked"}),a),data:a}))||0===s)&&(l+=s),l+='"><i class="glyphicon lock"></i></a> <input type="text" id="lockable-'+d(typeof(s=t&&t.name)===c?s.apply(t):s)+'" class="form-control lockable-field tag-input-hidden" data-name="'+d(typeof(s=t&&t.name)===c?s.apply(t):s)+'" data-attr="'+d(typeof(s=t&&t.attribute)===c?s.apply(t):s)+'" data-only-delete="'+d(typeof(s=t&&t.onlyDelete)===c?s.apply(t):s)+'" ',((s=r.if.call(t,t&&t.query,{hash:{},inverse:u.noop,fn:u.program(3,(function(e,t){var n;return""+'data-query="'+d(typeof(n=e&&e.query)===c?n.apply(e):n)+'"'}),a),data:a}))||0===s)&&(l+=s),l+"> </div> </div> "}))},71743:(e,t,n)=>{var r=n(40202);function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(r.default||r).template((function(e,t,r,a,s){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),s=s||{};var o,l="",c="function",d=this.escapeExpression,u=this;function p(e,t){var n;return""+' rows="'+d(typeof(n=e&&e.rows)===c?n.apply(e):n)+'"'}function m(e,t){var n;return""+'data-scope-to-attr="'+d(typeof(n=e&&e.scopeToAttr)===c?n.apply(e):n)+'" data-scope-to-param="'+d(typeof(n=e&&e.scopeToParam)===c?n.apply(e):n)+'"'}function h(e,t){var n;return""+'data-rating-key="'+d(typeof(n=e&&e.ratingKey)===c?n.apply(e):n)+'"'}return l+='<div class="form-group selectize-group" data-attr="'+d(typeof(o=t&&t.name)===c?o.apply(t):o)+'"> <label for="lockable-'+d(typeof(o=t&&t.name)===c?o.apply(t):o)+'">'+d(i(n(76273)).call(t,t&&t.label,{hash:{},data:s}))+'</label> <div class="input-group"> <a href="#" data-field="'+d(typeof(o=t&&t.name)===c?o.apply(t):o)+'" class="input-group-addon edit-lock-addon',((o=r.if.call(t,t&&t.locked,{hash:{},inverse:u.noop,fn:u.program(1,(function(e,t){return" locked"}),s),data:s}))||0===o)&&(l+=o),l+='" tabindex="-1"><i class="glyphicon lock"></i></a> ',((o=i(n(78356)).call(t,t&&t.type,"textarea",{hash:{},inverse:u.program(6,(function(e,t){var n,i="";return i+=' <input type="text" id="lockable-'+d(typeof(n=e&&e.name)===c?n.apply(e):n)+'" class="form-control lockable-field" name="'+d(typeof(n=e&&e.name)===c?n.apply(e):n)+'" value="'+d(typeof(n=e&&e.value)===c?n.apply(e):n)+'" placeholder="'+d(typeof(n=e&&e.placeholder)===c?n.apply(e):n)+'" ',((n=r.if.call(e,e&&e.scopeToAttr,{hash:{},inverse:u.noop,fn:u.program(7,m,t),data:t}))||0===n)&&(i+=n),i+=" ",((n=r.if.call(e,e&&e.ratingKey,{hash:{},inverse:u.noop,fn:u.program(9,h,t),data:t}))||0===n)&&(i+=n),i+"> "}),s),fn:u.program(3,(function(e,t){var n,i="";return i+=' <textarea class="form-control lockable-field" id="lockable-'+d(typeof(n=e&&e.name)===c?n.apply(e):n)+'" name="'+d(typeof(n=e&&e.name)===c?n.apply(e):n)+'"',((n=r.if.call(e,e&&e.rows,{hash:{},inverse:u.noop,fn:u.program(4,p,t),data:t}))||0===n)&&(i+=n),i+' placeholder="'+d(typeof(n=e&&e.placeholder)===c?n.apply(e):n)+'">'+d(typeof(n=e&&e.value)===c?n.apply(e):n)+"</textarea> "}),s),data:s}))||0===o)&&(l+=o),l+" </div> </div> "}))},28792:(e,t,n)=>{var r=n(40202);function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(r.default||r).template((function(e,t,r,a,s){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),s=s||{};var o,l="",c="function",d=this.escapeExpression,u=this;function p(e,t){return"checked"}function m(e,t){var n;return""+' <p class="help-block">'+d(typeof(n=e&&e.summary)===c?n.apply(e):n)+"</p> "}function h(e,t){var n,i="";return i+=' <select id="input_'+d(typeof(n=e&&e.id)===c?n.apply(e):n)+d(typeof(n=e&&e.idSuffix)===c?n.apply(e):n)+'" name="'+d(typeof(n=e&&e.id)===c?n.apply(e):n)+'"> ',((n=r.each.call(e,e&&e.enumValues,{hash:{},inverse:u.noop,fn:u.programWithDepth(10,g,t,e),data:t}))||0===n)&&(i+=n),i+" </select> "}function g(e,t,r){var a,s="";return s+=' <option value="'+d(typeof(a=e&&e.value)===c?a.apply(e):a)+'" ',((a=i(n(78356)).call(e,e&&e.value,r&&r.value,{hash:{},inverse:u.noop,fn:u.program(11,y,t),data:t}))||0===a)&&(s+=a),s+">"+d(typeof(a=e&&e.label)===c?a.apply(e):a)+"</option> "}function y(e,t){return'selected="selected"'}function v(e,t){var a,s="";return s+=' <input type="',((a=i(n(78356)).call(e,e&&e.option,"hidden",{hash:{},inverse:u.program(16,b,t),fn:u.program(14,f,t),data:t}))||0===a)&&(s+=a),s+='" id="input_'+d(typeof(a=e&&e.id)===c?a.apply(e):a)+d(typeof(a=e&&e.idSuffix)===c?a.apply(e):a)+'" class="form-control" name="'+d(typeof(a=e&&e.id)===c?a.apply(e):a)+'" value="'+d(typeof(a=e&&e.value)===c?a.apply(e):a)+'" ',((a=r.if.call(e,e&&e.placeholder,{hash:{},inverse:u.noop,fn:u.program(18,I,t),data:t}))||0===a)&&(s+=a),s+"> "}function f(e,t){return"password"}function b(e,t){return"text"}function I(e,t){var n;return""+'placeholder="'+d(typeof(n=e&&e.placeholder)===c?n.apply(e):n)+'"'}return l+='<div class="form-group ',((o=r.if.call(t,t&&t.advanced,{hash:{},inverse:u.noop,fn:u.program(1,(function(e,t){return"advanced-setting"}),s),data:s}))||0===o)&&(l+=o),l+='"> ',((o=i(n(78356)).call(t,t&&t.type,"bool",{hash:{},inverse:u.program(8,(function(e,t){var n,i="";return i+=' <label class="control-label" for="input_'+d(typeof(n=e&&e.id)===c?n.apply(e):n)+d(typeof(n=e&&e.idSuffix)===c?n.apply(e):n)+'">'+d(typeof(n=e&&e.label)===c?n.apply(e):n)+"</label> ",((n=r.if.call(e,e&&e.enumValues,{hash:{},inverse:u.program(13,v,t),fn:u.program(9,h,t),data:t}))||0===n)&&(i+=n),i+=" ",((n=r.if.call(e,e&&e.summary,{hash:{},inverse:u.noop,fn:u.program(6,m,t),data:t}))||0===n)&&(i+=n),i+" "}),s),fn:u.program(3,(function(e,t){var n,i="";return i+=' <label class="control-label" for="input_'+d(typeof(n=e&&e.id)===c?n.apply(e):n)+d(typeof(n=e&&e.idSuffix)===c?n.apply(e):n)+'"> <input type="checkbox" id="input_'+d(typeof(n=e&&e.id)===c?n.apply(e):n)+d(typeof(n=e&&e.idSuffix)===c?n.apply(e):n)+'" name="'+d(typeof(n=e&&e.id)===c?n.apply(e):n)+'" value="1" ',((n=r.if.call(e,e&&e.value,{hash:{},inverse:u.noop,fn:u.program(4,p,t),data:t}))||0===n)&&(i+=n),i+="> "+d(typeof(n=e&&e.label)===c?n.apply(e):n)+" </label> ",((n=r.if.call(e,e&&e.summary,{hash:{},inverse:u.noop,fn:u.program(6,m,t),data:t}))||0===n)&&(i+=n),i+" "}),s),data:s}))||0===o)&&(l+=o),l+" </div> "}))},45768:(e,t,n)=>{var r=n(40202);function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(r.default||r).template((function(e,t,r,a,s){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),s=s||{};var o,l="",c="function",d=this.escapeExpression,u=this;function p(e,t){var n;return""+' rows="'+d(typeof(n=e&&e.rows)===c?n.apply(e):n)+'"'}function m(e,t){var n;return""+'data-exclude-param="'+d(typeof(n=e&&e.excludeParam)===c?n.apply(e):n)+'" data-exclude-value="'+d(typeof(n=e&&e.excludeValue)===c?n.apply(e):n)+'"'}return l+='<div class="form-group"> <label for="text-'+d(typeof(o=t&&t.name)===c?o.apply(t):o)+'">'+d(i(n(76273)).call(t,t&&t.label,{hash:{},data:s}))+"</label> ",((o=i(n(78356)).call(t,t&&t.type,"textarea",{hash:{},inverse:u.program(4,(function(e,t){var n,i="";return i+=' <input type="text" id="text-'+d(typeof(n=e&&e.name)===c?n.apply(e):n)+'" class="form-control text-field" name="'+d(typeof(n=e&&e.name)===c?n.apply(e):n)+'" value="'+d(typeof(n=e&&e.value)===c?n.apply(e):n)+'" placeholder="'+d(typeof(n=e&&e.placeholder)===c?n.apply(e):n)+'" ',((n=r.if.call(e,e&&e.excludeParam,{hash:{},inverse:u.noop,fn:u.program(5,m,t),data:t}))||0===n)&&(i+=n),i+"> "}),s),fn:u.program(1,(function(e,t){var n,i="";return i+=' <textarea class="form-control text-field" id="text-'+d(typeof(n=e&&e.name)===c?n.apply(e):n)+'" name="'+d(typeof(n=e&&e.name)===c?n.apply(e):n)+'"',((n=r.if.call(e,e&&e.rows,{hash:{},inverse:u.noop,fn:u.program(2,p,t),data:t}))||0===n)&&(i+=n),i+' placeholder="'+d(typeof(n=e&&e.placeholder)===c?n.apply(e):n)+'">'+d(typeof(n=e&&e.value)===c?n.apply(e):n)+"</textarea> "}),s),data:s}))||0===o)&&(l+=o),l+" </div> "}))},33207:(e,t,n)=>{var r=n(40202);e.exports=(r.default||r).template((function(e,t,n,r,i){return this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),i=i||{},'<div class="player-slider-track"> <div class="player-slider-progress"></div> </div> <div class="player-slider-thumb"></div> '}))},62288:(e,t,n)=>{var r=n(40202);function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(r.default||r).template((function(e,t,r,a,s){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),s=s||{};var o,l="",c=this.escapeExpression;return l+'<form class="edit-section-advanced-form settings-container"> <div class="language-group"> <input type="hidden" name="language" value="'+c("function"==typeof(o=null==(o=t&&t.section)||!1===o?o:o.language)?o.apply(t):o)+'"> </div> <div class="row"> <div class="col-md-12"> <div class="form-group scanner-group hidden"> <label for="edit-section-scanner" class="control-label"> '+c(i(n(76273)).call(t,"Scanner",{hash:{},data:s}))+' <span class="control-error">'+c(i(n(76273)).call(t,"A scanner is required.",{hash:{},data:s}))+'</span> </label> <select id="edit-section-scanner" name="scanner"></select> </div> </div> </div> <div class="row"> <div class="col-md-12"> <div class="form-group agent-group hidden"> <label for="edit-section-agent" class="control-label"> '+c(i(n(76273)).call(t,"Agent",{hash:{},data:s}))+' <span class="control-error">'+c(i(n(76273)).call(t,"An agent is required.",{hash:{},data:s}))+'</span> </label> <select id="edit-section-agent" name="agent"></select> </div> </div> </div> <div class="row"> <div class="col-md-12 section-agent-settings-region"></div> </div> <div class="row"> <div class="col-md-12 section-settings-region"></div> </div> </form> '}))},81185:(e,t,n)=>{var r=n(40202);function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(r.default||r).template((function(e,t,r,a,s){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),s=s||{};var o,l="",c=this,d=this.escapeExpression;function u(e,t){return"hidden"}function p(e,t){return"checked"}function m(e,t){return"disabled"}return l+='<form class="edit-section-folders-form settings-container"> <div id="arcade-upsell" class="',((o=r.if.call(t,t&&t.hideArcadeUpsell,{hash:{},inverse:c.noop,fn:c.program(1,u,s),data:s}))||0===o)&&(l+=o),l+='"> <p>'+d(i(n(76273)).call(t,"Introducing retro gaming in Plex, brought to you by Plex Labs!",{hash:{},data:s}))+'</p> <p class="help-block">'+d(i(n(76273)).call(t,"With a Plex Arcade subscription, you can play and stream many of your favorite retro games on Google Chrome, Microsoft Edge, Android, iOS or Apple TV devices! Try it for free for 7 days!",{hash:{},data:s}))+'</p> <p class="button-container"> <a type="button" href='+d("function"==typeof(o=t&&t.subscribeURL)?o.apply(t):o)+' target="_blank" class="subscribe-btn btn btn-primary">'+d(i(n(76273)).call(t,"Subscribe Now",{hash:{},data:s}))+'</a> </p> </div> <p id="arcade-required" class="',((o=r.if.call(t,t&&t.hideArcadeRequired,{hash:{},inverse:c.noop,fn:c.program(1,u,s),data:s}))||0===o)&&(l+=o),l+='">'+d(i(n(76273)).call(t,"Sorry, a {1}Plex Arcade subscription{2} is required to create a new Games library.",'<a href="https://www.plex.tv/subscription" target="_blank">',"</a>",{hash:{},data:s}))+'</p> <p id="arcade-greeting" class="',((o=r.if.call(t,t&&t.hideArcadeGreeting,{hash:{},inverse:c.noop,fn:c.program(1,u,s),data:s}))||0===o)&&(l+=o),l+='">'+d(i(n(76273)).call(t,"Thanks! You've got an active {1}Plex Arcade subscription{2}.",'<a href="https://www.plex.tv/subscription" target="_blank">',"</a>",{hash:{},data:s}))+'</p> <p id="parsec-required" class="',((o=r.if.call(t,t&&t.hideParsecRequired,{hash:{},inverse:c.noop,fn:c.program(1,u,s),data:s}))||0===o)&&(l+=o),l+='">'+d(i(n(76273)).call(t,"Playing games requires that you {1}create a Parsec account{2}, respond to their email confirmation, and then {3}link your Parsec account{4}.",'<a href="https://parsec.app" target="_blank">',"</a>",'<a href="https://plex.tv/users/other-services" target="_blank">',"</a>",{hash:{},data:s}))+"</p> ",((o=r.if.call(t,t&&t.isNewGamesSection,{hash:{},inverse:c.noop,fn:c.program(3,(function(e,t){var a,s="";return s+=' <div class="download-media-container"> <label> <input id="arcade-download-media" type="checkbox" name="downloadMedia" ',((a=r.if.call(e,null==(a=e&&e.section)||!1===a?a:a.downloadMedia,{hash:{},inverse:c.noop,fn:c.program(4,p,t),data:t}))||0===a)&&(s+=a),s+=" ",((a=r.if.call(e,e&&e.isDisabled,{hash:{},inverse:c.noop,fn:c.program(6,m,t),data:t}))||0===a)&&(s+=a),s+"/>"+d(i(n(76273)).call(e,"Include dozens of classic games from Atari like Asteroids, Centipede, Missile Command and more!",{hash:{},data:t}))+" </label> </div> "}),s),data:s}))||0===o)&&(l+=o),l+=" <p>"+d(i(n(76273)).call(t,"Add folders to your library",{hash:{},data:s}))+'</p> <div class="form-group Location-group"> <div class="paths-region"></div> <p class="button-container"> <button type="button" class="add-folder-btn btn btn-icon-label btn-default" ',((o=r.if.call(t,t&&t.isDisabled,{hash:{},inverse:c.noop,fn:c.program(6,m,s),data:s}))||0===o)&&(l+=o),l+="> ",((o=r.if.call(t,t&&t.isGamesSection,{hash:{},inverse:c.noop,fn:c.program(8,(function(e,t){return""+' <i class="glyphicon folder-plus"></i> '+d(i(n(76273)).call(e,"Browse for games folder",{hash:{},data:t}))+" "}),s),data:s}))||0===o)&&(l+=o),l+=" ",((o=r.unless.call(t,t&&t.isGamesSection,{hash:{},inverse:c.noop,fn:c.program(10,(function(e,t){return""+' <i class="glyphicon folder-plus"></i> '+d(i(n(76273)).call(e,"Browse for media folder",{hash:{},data:t}))+" "}),s),data:s}))||0===o)&&(l+=o),l+=' </button> </p> <p class="control-error">'+d(i(n(76273)).call(t,"At least one folder is required.",{hash:{},data:s}))+"</p> </div> ",((o=r.if.call(t,t&&t.isGamesSection,{hash:{},inverse:c.noop,fn:c.program(12,(function(e,t){return""+' <p class="help-block">'+d(i(n(76273)).call(e,"Help us out by following {1}our guide{2} to naming and organizing your games.",'<a href="https://support.plex.tv/articles/naming-and-organizing-game-files-and-cores/?utm_source=Plex%20Apps&utm_medium=Plex%20Web&utm_campaign=Plex%20Apps" target="_blank">',"</a>",{hash:{},data:t}))+'</p> <p class="help-block">'+d(i(n(76273)).call(e,"Looking for more information? Check out our {1}Plex Arcade support articles{2}.",'<a href="https://support.plex.tv/articles/categories/features/arcade/" target="_blank">',"</a>",{hash:{},data:t}))+"</p> "}),s),data:s}))||0===o)&&(l+=o),l+=" ",((o=r.unless.call(t,t&&t.isGamesSection,{hash:{},inverse:c.noop,fn:c.program(14,(function(e,t){return""+' <p class="help-block">'+d(i(n(76273)).call(e,"Help us out by following {1}our guide{2} to naming and organizing your media.",'<a href="https://support.plex.tv/articles/naming-and-organizing-your-movie-media-files/?utm_source=Plex%20Apps&utm_medium=Plex%20Web&utm_campaign=Plex%20Apps" target="_blank">',"</a>",{hash:{},data:t}))+"</p> "}),s),data:s}))||0===o)&&(l+=o),l+" </form> "}))},79931:(e,t,n)=>{var r=n(40202);e.exports=(r.default||r).template((function(e,t,n,r,i){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),i=i||{};var a,s="";return(s+='<div class="col-md-12"> <div class="form-group path-group"> <input type="text" name="path" class="form-control" value="')+((0,this.escapeExpression)((a=n.path)||"function"==typeof(a=t&&t.path)?a.call(t,{hash:{},data:i}):a)+'"> <div class="path-actions"> <a href="#" class="remove-path-btn btn-link btn-gray"><i class="glyphicon remove-2"></i></a> </div> </div> </div> ')}))},27749:(e,t,n)=>{var r=n(40202);function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(r.default||r).template((function(e,t,r,a,s){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),s=s||{};var o,l="",c=this.escapeExpression,d=this;return l+='<div class="choose-library use-premium-library" data-agent="com.plexapp.agents.plexmusic" data-scanner="Plex Premium Music Scanner"> <div class="row"> <div class="col-xs-12"> <div class="row use-library-header"> <div class="col-xs-12"> <input type="radio"> <span class="header-text"> '+c(i(n(76273)).call(t,"Create a premium Plex music library!",{hash:{},data:s}))+' </span> </div> </div> <div class="row use-premium-library-body"> <div class="col-xs-8"> <ul> <li>'+c(i(n(76273)).call(t,"Access to the best artwork, artist bios, album reviews, and more",{hash:{},data:s}))+"</li> <li>"+c(i(n(76273)).call(t,"Smart mixes based on track or mood",{hash:{},data:s}))+"</li> <li>"+c(i(n(76273)).call(t,"Improved music recognition and matching",{hash:{},data:s}))+"</li> </ul> ",((o=r.unless.call(t,t&&t.hasPremiumMusic,{hash:{},inverse:d.noop,fn:d.program(1,(function(e,t){return""+' <p class="help-block"> '+c(i(n(76273)).call(e,"Note: An active Plex Pass is required for this service. Don't have a Plex Pass? {1}Subscribe here{2}",'<a href="{3}" target="_blank">',"</a>",e&&e.plexPassUrl,{hash:{},data:t}))+" </p> "}),s),data:s}))||0===o)&&(l+=o),l+=' </div> <div class="col-xs-4 vendor-logos"> ',((o=r.if.call(t,t&&t.hasLyrics,{hash:{},inverse:d.noop,fn:d.program(3,(function(e,t){return'<div class="vendor-logo vendor-logo-lyricfind"></div>'}),s),data:s}))||0===o)&&(l+=o),l+' <div class="vendor-logo vendor-logo-gracenote"></div> <div class="vendor-logo vendor-logo-plex-pass"></div> </div> </div> </div> </div> </div> <div class="choose-library use-basic-library"> <div class="row use-library-header"> <div class="col-xs-12"> <input type="radio"> '+c(i(n(76273)).call(t,"Create a basic music library",{hash:{},data:s}))+" </div> </div> </div> "}))},68799:(e,t,n)=>{var r=n(40202);function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(r.default||r).template((function(e,t,r,a,s){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),s=s||{};var o,l="",c=this.escapeExpression,d=this;function u(e,t){var r,a="";return a+=" ",((r=i(n(78356)).call(e,e&&e.id,"enableBIFGeneration",{hash:{},inverse:d.noop,fn:d.program(3,p,t),data:t}))||0===r)&&(a+=r),a+" "}function p(e,t){return""+' <div class="form-group"> <button type="button" class="delete-thumbnails-btn btn btn-sm btn-danger">'+c(i(n(76273)).call(e,"Delete Preview Thumbnails",{hash:{},data:t}))+"</button> </div> "}return((o=r.each.call(t,t&&t.settings,{hash:{},inverse:d.noop,fn:d.programWithDepth(1,(function(e,t,a){var s,o="";return o+=" "+c(i(n(46178)).call(e,"setting",{hash:{idSuffix:"_c"},data:t}))+" ",((s=r.if.call(e,a&&a.edit,{hash:{},inverse:d.noop,fn:d.program(2,u,t),data:t}))||0===s)&&(o+=s),o+" "}),s,t),data:s}))||0===o)&&(l+=o),l+" "}))},458:(e,t,n)=>{var r=n(40202);function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(r.default||r).template((function(e,t,r,a,s){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),s=s||{};var o,l="",c=this.escapeExpression,d=this,u="function";function p(e,t){return"selectable"}function m(e,t){return"selected"}return l+='<form class="edit-section-type-form settings-container ',((o=r.if.call(t,null==(o=t&&t.section)||!1===o?o:o.type,{hash:{},inverse:d.noop,fn:d.program(1,(function(e,t){return"section-type-chosen"}),s),data:s}))||0===o)&&(l+=o),l+=" ",((o=r.unless.call(t,t&&t.isInitialTypeSupported,{hash:{},inverse:d.noop,fn:d.program(3,(function(e,t){return"is-type-unsupported"}),s),data:s}))||0===o)&&(l+=o),l+='"> ',((o=r.if.call(t,t&&t.add,{hash:{},inverse:d.program(7,(function(e,t){return""+" <label>"+c(i(n(76273)).call(e,"Library type",{hash:{},data:t}))+"</label> "}),s),fn:d.program(5,(function(e,t){return""+' <p class="prompt">'+c(i(n(76273)).call(e,"Select your library type",{hash:{},data:t}))+"</p> "}),s),data:s}))||0===o)&&(l+=o),l+=' <div class="wizard-blocks-group form-group type-group"> ',((o=r.each.call(t,t&&t.sectionTypes,{hash:{},inverse:d.noop,fn:d.programWithDepth(9,(function(e,t,a){var s,o="";return o+='<a class="wizard-block section-type ',((s=r.if.call(e,a&&a.canChangeType,{hash:{},inverse:d.noop,fn:d.program(10,p,t),data:t}))||0===s)&&(o+=s),o+=" ",((s=i(n(78356)).call(e,a&&a.currentSectionKey,e&&e.key,{hash:{},inverse:d.noop,fn:d.program(12,m,t),data:t}))||0===s)&&(o+=s),o+='" data-key="'+c(typeof(s=e&&e.key)===u?s.apply(e):s)+'" href="#">',((s=typeof(s=e&&e.typeIcon)===u?s.apply(e):s)||0===s)&&(o+=s),o+" "+c(typeof(s=e&&e.title)===u?s.apply(e):s)+"</a>"}),s,t),data:s}))||0===o)&&(l+=o),l+=' <label class="control-label"> <span class="control-error">'+c(i(n(76273)).call(t,"You must select a media type.",{hash:{},data:s}))+'</span> </label> </div> <div class="visible-once-section-type-chosen"> ',((o=r.if.call(t,t&&t.hasType,{hash:{},inverse:d.noop,fn:d.program(14,(function(e,t){return""+' <div class="row"> <div class="col-xs-12"> <p class="prompt">'+c(i(n(76273)).call(e,"Name your library and choose language.",{hash:{},data:t}))+"</p> </div> </div> "}),s),data:s}))||0===o)&&(l+=o),l+=' <div class="row section-type-unsupported"> <div class="col-md-7"> <label>'+c(i(n(76273)).call(t,"Sorry, this library type is unsupported by this server.",{hash:{},data:s}))+'</label> </div> </div> <div class="row section-type-supported"> <div class="col-md-7"> <div class="form-group title-group"> <div> <label for="edit-section-title" class="control-label"> '+c(i(n(76273)).call(t,"Name",{hash:{},data:s}))+' <span class="control-error">'+c(i(n(76273)).call(t,"A library name is required.",{hash:{},data:s}))+'</span> </label> </div> <input type="text" id="edit-section-title" name="title" class="form-control" value="'+c(typeof(o=null==(o=t&&t.section)||!1===o?o:o.title)===u?o.apply(t):o)+'"> </div> </div> <div class="col-md-5"> <div class="form-group language-group"> <div> <label for="edit-section-language" class="control-label"> '+c(i(n(76273)).call(t,"Language",{hash:{},data:s}))+' <span class="control-error">'+c(i(n(76273)).call(t,"A language is required.",{hash:{},data:s}))+'</span> </label> </div> <select id="edit-section-language" name="language"></select> </div> </div> </div> <div class="row section-type-supported"> <div class="col-md-12"> <span class="text-muted"> ',((o=r.if.call(t,t&&t.updatedAt,{hash:{},inverse:d.noop,fn:d.program(16,(function(e,t){return""+" "+c(i(n(76273)).call(e,"Last updated {1}",e&&e.escapedUpdatedAt,{hash:{},data:t}))+" "}),s),data:s}))||0===o)&&(l+=o),l+" </span> </div> </div> </div> </form> "}))},93470:(e,t,n)=>{var r=n(40202);function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(r.default||r).template((function(e,t,r,a,s){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),s=s||{};var o,l="",c="function",d=this.escapeExpression,u=this;function p(e,t){return"selected"}function m(e,t){return""+' <option value="">'+d(i(n(76273)).call(e,"Loading...",{hash:{},data:t}))+"</option> "}return l+='<div class="row"> <div class="col-md-6"> <div class="form-group"> <label class="control-label" for="match-search-title">'+d(i(n(76273)).call(t,"Artist",{hash:{},data:s}))+'</label> <input type="text" id="match-search-parentTitle" name="parentTitle" class="form-control" value="'+d(typeof(o=null==(o=t&&t.item)||!1===o?o:o.parentTitle)===c?o.apply(t):o)+'"> </div> </div> <div class="col-md-6"> <div class="form-group"> <label class="control-label" for="match-search-agent">'+d(i(n(76273)).call(t,"Agent",{hash:{},data:s}))+'</label> <select id="match-search-agent" name="agent"> ',((o=r.each.call(t,t&&t.agents,{hash:{},inverse:u.program(4,m,s),fn:u.program(1,(function(e,t){var n,i="";return i+=' <option value="'+d(typeof(n=e&&e.value)===c?n.apply(e):n)+'" ',((n=r.if.call(e,e&&e.selected,{hash:{},inverse:u.noop,fn:u.program(2,p,t),data:t}))||0===n)&&(i+=n),i+">"+d(typeof(n=e&&e.label)===c?n.apply(e):n)+"</option> "}),s),data:s}))||0===o)&&(l+=o),l+=' </select> </div> </div> </div> <div class="row"> <div class="col-md-6"> <div class="form-group"> <label class="control-label" for="match-search-title">'+d(i(n(76273)).call(t,"Album",{hash:{},data:s}))+'</label> <input type="text" id="match-search-title" name="title" class="form-control" value="'+d(typeof(o=null==(o=t&&t.item)||!1===o?o:o.title)===c?o.apply(t):o)+'"> </div> </div> <div class="col-md-6"> <div class="form-group"> <label class="control-label" for="match-search-language">'+d(i(n(76273)).call(t,"Language",{hash:{},data:s}))+'</label> <select id="match-search-language" name="language"> ',((o=r.each.call(t,t&&t.languages,{hash:{},inverse:u.program(4,m,s),fn:u.program(6,(function(e,t){var n;return""+' <option value="'+d(typeof(n=e&&e.value)===c?n.apply(e):n)+'">'+d(typeof(n=e&&e.label)===c?n.apply(e):n)+"</option> "}),s),data:s}))||0===o)&&(l+=o),l+' </select> </div> </div> </div> <div class="row"> <div class="col-md-6"> <div class="form-group"> <label class="control-label" for="match-search-year">'+d(i(n(76273)).call(t,"Year",{hash:{},data:s}))+'</label> <input type="text" id="match-search-year" name="year" class="form-control" value="'+d(typeof(o=null==(o=t&&t.item)||!1===o?o:o.year)===c?o.apply(t):o)+'"> </div> </div> </div> '}))},36e3:(e,t,n)=>{var r=n(40202);function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(r.default||r).template((function(e,t,r,a,s){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),s=s||{};var o,l="",c="function",d=this.escapeExpression,u=this;function p(e,t){return"selected"}function m(e,t){return""+' <option value="">'+d(i(n(76273)).call(e,"Loading...",{hash:{},data:t}))+"</option> "}return l+='<div class="row"> <div class="col-md-6"> <div class="form-group"> <label class="control-label" for="match-search-title">'+d(i(n(76273)).call(t,"Title",{hash:{},data:s}))+'</label> <input type="text" id="match-search-title" name="title" class="form-control" value="'+d(typeof(o=null==(o=t&&t.item)||!1===o?o:o.title)===c?o.apply(t):o)+'"> </div> </div> <div class="col-md-6"> <div class="form-group"> <label class="control-label" for="match-search-agent">'+d(i(n(76273)).call(t,"Agent",{hash:{},data:s}))+'</label> <select id="match-search-agent" name="agent"> ',((o=r.each.call(t,t&&t.agents,{hash:{},inverse:u.program(4,m,s),fn:u.program(1,(function(e,t){var n,i="";return i+=' <option value="'+d(typeof(n=e&&e.value)===c?n.apply(e):n)+'" ',((n=r.if.call(e,e&&e.selected,{hash:{},inverse:u.noop,fn:u.program(2,p,t),data:t}))||0===n)&&(i+=n),i+">"+d(typeof(n=e&&e.label)===c?n.apply(e):n)+"</option> "}),s),data:s}))||0===o)&&(l+=o),l+=' </select> </div> </div> </div> <div class="row"> <div class="col-md-6"> <div class="form-group"> <label class="control-label" for="match-search-year">'+d(i(n(76273)).call(t,"Year",{hash:{},data:s}))+'</label> <input type="text" id="match-search-year" name="year" class="form-control" value="'+d(typeof(o=null==(o=t&&t.item)||!1===o?o:o.year)===c?o.apply(t):o)+'"> </div> </div> <div class="col-md-6"> <div class="form-group"> <label class="control-label" for="match-search-language">'+d(i(n(76273)).call(t,"Language",{hash:{},data:s}))+'</label> <select id="match-search-language" name="language"> ',((o=r.each.call(t,t&&t.languages,{hash:{},inverse:u.program(4,m,s),fn:u.program(6,(function(e,t){var n;return""+' <option value="'+d(typeof(n=e&&e.value)===c?n.apply(e):n)+'">'+d(typeof(n=e&&e.label)===c?n.apply(e):n)+"</option> "}),s),data:s}))||0===o)&&(l+=o),l+" </select> </div> </div> </div> "}))},77410:(e,t,n)=>{var r=n(40202);e.exports=(r.default||r).template((function(e,t,n,r,i){return this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),i=i||{},'<div class="result-region"> <div class="loading loading-inline"></div> </div> '}))},2326:(e,t,n)=>{var r=n(40202);e.exports=(r.default||r).template((function(e,t,r,i,a){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),a=a||{};var s,o="",l="function",c=this.escapeExpression,d=this;function u(e,t){return'<i class="dropdown-selected-icon glyphicon ok-2"></i>'}return o+='<div class="filter-bar"> <span class="dropdown"> <a class="dropdown-toggle" href="#device-type-dropdown" data-toggle="dropdown"> <span class="dropdown-friendly-name">'+c(typeof(s=null==(s=t&&t.selectedDeviceType)||!1===s?s:s.title)===l?s.apply(t):s)+'</span> <i class="caret-icon"></i> </a> <ul class="dropdown-menu"> ',((s=r.each.call(t,t&&t.deviceTypes,{hash:{},inverse:d.noop,fn:d.programWithDepth(1,(function(e,t,r){var i,a,s="";return s+=' <li><a data-id="'+c(typeof(i=e&&e.id)===l?i.apply(e):i)+'" href="#"><span class="dropdown-truncated-label">'+c(typeof(i=e&&e.title)===l?i.apply(e):i)+"</span>",((i=(a=n(78356),a&&(a.__esModule?a.default:a)).call(e,null==(i=r&&r.selectedDeviceType)||!1===i?i:i.id,e&&e.id,{hash:{},inverse:d.noop,fn:d.program(2,u,t),data:t}))||0===i)&&(s+=i),s+"</a></li> "}),a,t),data:a}))||0===s)&&(o+=s),o+' </ul> </span> </div> <div class="device-list-container col-sm-12 col-md-12"></div> '}))},10912:(e,t,n)=>{var r=n(40202);function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(r.default||r).template((function(e,t,r,a,s){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),s=s||{};var o,l="",c="function",d=this.escapeExpression,u=this;function p(e,t){return"selected"}function m(e,t){return"checked"}function h(e,t,r){var a,s="";return s+=' <option value="'+d(typeof(a=e&&e.value)===c?a.apply(e):a)+'" ',((a=i(n(78356)).call(e,e&&e.value,null==(a=r&&r.experienceSettings)||!1===a?a:a.allowHttpFallback,{hash:{},inverse:u.noop,fn:u.program(4,p,t),data:t}))||0===a)&&(s+=a),s+">"+d(i(n(76273)).call(e,e&&e.title,{hash:{},data:t}))+"</option> "}function g(e,t,r){var a,s="";return s+=' <option value="'+d(typeof(a=e&&e.value)===c?a.apply(e):a)+'" ',((a=i(n(78356)).call(e,e&&e.value,null==(a=r&&r.deviceSettings)||!1===a?a:a["settings.keepOnTop"],{hash:{},inverse:u.noop,fn:u.program(4,p,t),data:t}))||0===a)&&(s+=a),s+">"+d(typeof(a=e&&e.title)===c?a.apply(e):a)+"</option> "}function y(e,t){var n,i="";return i+=' <div class="form-group advanced-setting" > <button type="button" class="toggle-sync-btn btn btn-sm btn-default btn-loading form-control-btn"> <div class="loading loading-sm"></div> <span class="btn-label">',((n=r.if.call(e,null==(n=e&&e.deviceSettings)||!1===n?n:n.shouldSyncSettings,{hash:{},inverse:u.program(23,f,t),fn:u.program(21,v,t),data:t}))||0===n)&&(i+=n),i+='</span> </button> <p class="help-block"> ',((n=r.if.call(e,null==(n=e&&e.deviceSettings)||!1===n?n:n.shouldSyncSettings,{hash:{},inverse:u.program(27,I,t),fn:u.program(25,b,t),data:t}))||0===n)&&(i+=n),i+" </p> </div> "}function v(e,t){return d(i(n(76273)).call(e,"Turn off settings sync",{hash:{},data:t}))}function f(e,t){return d(i(n(76273)).call(e,"Turn on settings sync",{hash:{},data:t}))}function b(e,t){return""+" "+d(i(n(76273)).call(e,"Currently all {1} settings and customization are synchronized with other {1} instances.",e&&e.escapedProductName,{hash:{},data:t}))+" "}function I(e,t){return""+" "+d(i(n(76273)).call(e,"Currently all {1} settings and customization apply to this {1} instance only.",e&&e.escapedProductName,{hash:{},data:t}))+" "}function S(e,t){var a,s="";return s+=' <div class="form-group"> <label for="chromecastAppID"> Chromecast Receiver</label> <select id="chromecastAppID"> ',((a=r.each.call(e,e&&e.chromecastAppIDs,{hash:{},inverse:u.noop,fn:u.programWithDepth(47,M,t,e),data:t}))||0===a)&&(s+=a),s+=' </select> <p class="help-block">Refresh after saving this setting for it to take effect.</p> </div> <div id="chromecast-custom-group" class="form-group ',((a=i(n(84772)).call(e,null==(a=e&&e.deviceSettings)||!1===a?a:a.chromecastAppID,"custom",{hash:{},inverse:u.noop,fn:u.program(49,E,t),data:t}))||0===a)&&(s+=a),s+'"> <label for="chromecastCustomAppID">Custom Chromecast Application ID</label> <input type="text" id="chromecastCustomAppID" class="form-control" placeholder="Application ID" value="'+d(typeof(a=null==(a=e&&e.deviceSettings)||!1===a?a:a.chromecastCustomAppID)===c?a.apply(e):a)+'"> <p class="help-block">Refresh after saving this setting for it to take effect.</p> </div> '}function M(e,t,r){var a,s="";return s+=' <option value="'+d(typeof(a=e&&e.value)===c?a.apply(e):a)+'" ',((a=i(n(78356)).call(e,e&&e.value,null==(a=r&&r.deviceSettings)||!1===a?a:a.chromecastAppID,{hash:{},inverse:u.noop,fn:u.program(4,p,t),data:t}))||0===a)&&(s+=a),s+">"+d(i(n(76273)).call(e,e&&e.title,{hash:{},data:t}))+"</option> "}function E(e,t){return"hidden"}function P(e,t){var r,a="";return a+=' <div class="form-group"> <label for=""> Report Inspector Port</label> <select id="settings.webInspectorPort" data-type="int"> <option value="0" ',((r=i(n(78356)).call(e,null==(r=e&&e.deviceSettings)||!1===r?r:r["settings.webInspectorPort"],0,{hash:{},inverse:u.noop,fn:u.program(4,p,t),data:t}))||0===r)&&(a+=r),a+='>Disabled</option> <option value="9222" ',((r=i(n(78356)).call(e,null==(r=e&&e.deviceSettings)||!1===r?r:r["settings.webInspectorPort"],9222,{hash:{},inverse:u.noop,fn:u.program(4,p,t),data:t}))||0===r)&&(a+=r),a+='>9222</option> <option value="9229" ',((r=i(n(78356)).call(e,null==(r=e&&e.deviceSettings)||!1===r?r:r["settings.webInspectorPort"],9229,{hash:{},inverse:u.noop,fn:u.program(4,p,t),data:t}))||0===r)&&(a+=r),a+='>9229</option> <option value="9992" ',((r=i(n(78356)).call(e,null==(r=e&&e.deviceSettings)||!1===r?r:r["settings.webInspectorPort"],9992,{hash:{},inverse:u.noop,fn:u.program(4,p,t),data:t}))||0===r)&&(a+=r),a+'>9992</option> </select> <p class="help-block">Save then restart to take effect. Afterwards use Chrome to select Plex from chrome://inspect/#devices.</p> </div> '}function D(e,t,r){var a,s="";return s+=' <option value="'+d(typeof(a=e&&e.value)===c?a.apply(e):a)+'" ',((a=i(n(78356)).call(e,e&&e.value,null==(a=r&&r.deviceSettings)||!1===a?a:a.debugAdKind,{hash:{},inverse:u.noop,fn:u.program(4,p,t),data:t}))||0===a)&&(s+=a),s+">"+d(i(n(76273)).call(e,e&&e.title,{hash:{},data:t}))+"</option> "}function C(e,t){var n,i="";return i+=' <option value="'+d(typeof(n=e&&e.cid)===c?n.apply(e):n)+'" ',((n=r.if.call(e,e&&e.isSelected,{hash:{},inverse:u.noop,fn:u.program(4,p,t),data:t}))||0===n)&&(i+=n),i+">"+d(typeof(n=e&&e.title)===c?n.apply(e):n)+"</option> "}function w(e,t){var n,i="";return i+=' <fieldset class="audio-device-fields',((n=r.unless.call(e,e&&e.isSelected,{hash:{},inverse:u.noop,fn:u.program(68,Z,t),data:t}))||0===n)&&(i+=n),i+='" data-cid="'+d(typeof(n=e&&e.cid)===c?n.apply(e):n)+'"> ',((n=r.if.call(e,e&&e.kinds,{hash:{},inverse:u.noop,fn:u.program(70,T,t),data:t}))||0===n)&&(i+=n),i+" </fieldset> "}function Z(e,t){return" hidden"}function T(e,t){var a,s="";return s+=' <div class="form-group advanced-setting"> <label> '+d(i(n(76273)).call(e,"Audio Device Kind",{hash:{},data:t}))+' <select id="'+d(i(n(49412)).call(e,"ignore",{hash:{},data:t}))+'" class="audio-device-kind" data-cid="'+d(typeof(a=e&&e.cid)===c?a.apply(e):a)+'"> ',((a=r.each.call(e,e&&e.kinds,{hash:{},inverse:u.noop,fn:u.programWithDepth(71,N,t,e),data:t}))||0===a)&&(s+=a),s+=" </select> </label> </div> ",((a=r.each.call(e,e&&e.capabilities,{hash:{},inverse:u.noop,fn:u.programWithDepth(73,O,t,e),data:t}))||0===a)&&(s+=a),s+" "}function N(e,t,r){var a,s="";return s+=' <option value="'+d(typeof(a=e&&e.value)===c?a.apply(e):a)+'" ',((a=i(n(78356)).call(e,e&&e.value,r&&r.kind,{hash:{},inverse:u.noop,fn:u.program(4,p,t),data:t}))||0===a)&&(s+=a),s+">"+d(typeof(a=e&&e.title)===c?a.apply(e):a)+"</option> "}function O(e,t,a){var s,o="";return o+=' <fieldset class="audio-device-kind-fields',((s=i(n(84772)).call(e,e&&e.kind,a&&a.kind,{hash:{},inverse:u.noop,fn:u.program(68,Z,t),data:t}))||0===s)&&(o+=s),o+='" data-cid="'+d(typeof(s=a&&a.cid)===c?s.apply(e):s)+'" data-kind="'+d(typeof(s=e&&e.kind)===c?s.apply(e):s)+'"> <div class="form-group advanced-setting"> <label> '+d(i(n(76273)).call(e,"Audio Channels",{hash:{},data:t}))+' <select name="channelLayout" id="'+d(i(n(49412)).call(e,"ignore",{hash:{},data:t}))+'" data-cid="'+d(typeof(s=a&&a.cid)===c?s.apply(e):s)+'"> ',((s=r.each.call(e,e&&e.channelLayoutSettings,{hash:{},inverse:u.noop,fn:u.programWithDepth(74,A,t,a),data:t}))||0===s)&&(o+=s),o+=' </select> </label> </div> <div class="form-group advanced-setting hidden"> <label class="control-label"> <input name="transcodeToAC3" type="checkbox" id="'+d(i(n(49412)).call(e,"ignore",{hash:{},data:t}))+'" ',((s=r.if.call(e,null==(s=e&&e.transcodeToAC3Setting)||!1===s?s:s.value,{hash:{},inverse:u.noop,fn:u.program(7,m,t),data:t}))||0===s)&&(o+=s),o+=' disabled data-cid="'+d(typeof(s=a&&a.cid)===c?s.apply(e):s)+'" /> '+d(i(n(76273)).call(e,null==(s=e&&e.transcodeToAC3Setting)||!1===s?s:s.title,{hash:{},data:t}))+" </label> </div> ",((s=r.each.call(e,e&&e.passthroughCodecSettings,{hash:{},inverse:u.noop,fn:u.programWithDepth(76,x,t,a),data:t}))||0===s)&&(o+=s),o+" </fieldset> "}function A(e,t,r){var a,s="";return s+=' <option value="'+d(typeof(a=e&&e.value)===c?a.apply(e):a)+'" ',((a=i(n(78356)).call(e,e&&e.value,r&&r.channelLayout,{hash:{},inverse:u.noop,fn:u.program(4,p,t),data:t}))||0===a)&&(s+=a),s+">"+d(typeof(a=e&&e.title)===c?a.apply(e):a)+"</option> "}function x(e,t,r){var a,s="";return s+=' <div class="form-group advanced-setting audio-passthrough-codec"> <label class="control-label"> <input name="passthroughCodecs" type="checkbox" id="'+d(i(n(49412)).call(e,"ignore",{hash:{},data:t}))+'" value="'+d(typeof(a=e&&e.value)===c?a.apply(e):a)+'" ',((a=i(n(94271)).call(e,r&&r.passthroughCodecs,e&&e.value,{hash:{},inverse:u.noop,fn:u.program(77,j,t),data:t}))||0===a)&&(s+=a),s+' data-cid="'+d(typeof(a=r&&r.cid)===c?a.apply(e):a)+'"> '+d(typeof(a=e&&e.title)===c?a.apply(e):a)+" </label> </div> "}function j(e,t){return" checked"}function L(e,t,r){var a,s="";return s+=' <option value="'+d(typeof(a=e&&e.value)===c?a.apply(e):a)+'" ',((a=i(n(78356)).call(e,e&&e.value,null==(a=r&&r.experienceSettings)||!1===a?a:a.subtitlesBurnLevel,{hash:{},inverse:u.noop,fn:u.program(4,p,t),data:t}))||0===a)&&(s+=a),s+">"+d(i(n(76273)).call(e,e&&e.title,{hash:{},data:t}))+"</option> "}function k(e,t){var n,i="";return i+=' <div class="form-group advanced-setting"> <label class="control-label"> <input type="checkbox" id="player.refreshRateSwitchingEnabled" ',((n=r.if.call(e,null==(n=e&&e.deviceSettings)||!1===n?n:n["player.refreshRateSwitchingEnabled"],{hash:{},inverse:u.noop,fn:u.program(7,m,t),data:t}))||0===n)&&(i+=n),i+='>  Refresh Rate Switching Enabled </label> <p class="help-block">Change refresh rate of display to match video when playing in fullscreen.</p> </div> <div class="form-group advanced-setting"> <label for="player.refreshRateSwitchingDelayMilliseconds"> Refresh Rate Switching Delay</label> <select id="player.refreshRateSwitchingDelayMilliseconds"> ',((n=r.each.call(e,e&&e.refreshRateSwitchingDelaySettings,{hash:{},inverse:u.noop,fn:u.programWithDepth(90,R,t,e),data:t}))||0===n)&&(i+=n),i+' </select> <p class="help-block">Delay to briefly pause playback after a refresh rate switch.</p> </div> '}function R(e,t,r){var a,s="";return s+=' <option value="'+d(typeof(a=e&&e.value)===c?a.apply(e):a)+'" ',((a=i(n(78356)).call(e,e&&e.value,null==(a=r&&r.deviceSettings)||!1===a?a:a["player.refreshRateSwitchingDelayMilliseconds"],{hash:{},inverse:u.noop,fn:u.program(4,p,t),data:t}))||0===a)&&(s+=a),s+">"+d(i(n(76273)).call(e,e&&e.title,{hash:{},data:t}))+"</option> "}function z(e,t,r){var a,s="";return s+=' <option value="'+d(typeof(a=e&&e.value)===c?a.apply(e):a)+'" ',((a=i(n(78356)).call(e,e&&e.value,null==(a=r&&r.experienceSettings)||!1===a?a:a.musicDownloadQuality,{hash:{},inverse:u.noop,fn:u.program(4,p,t),data:t}))||0===a)&&(s+=a),s+">"+d(typeof(a=e&&e.title)===c?a.apply(e):a)+"</option> "}function U(e,t,r){var a,s="";return s+=' <option value="'+d(typeof(a=e&&e.value)===c?a.apply(e):a)+'" ',((a=i(n(78356)).call(e,e&&e.value,null==(a=r&&r.experienceSettings)||!1===a?a:a.videoDownloadQuality,{hash:{},inverse:u.noop,fn:u.program(4,p,t),data:t}))||0===a)&&(s+=a),s+">"+d(typeof(a=e&&e.title)===c?a.apply(e):a)+"</option> "}function V(e,t){return' <hr /> <div class="form-group advanced-setting"> <button type="button" class="reset-reminders-btn btn btn-sm btn-primary form-control-btn"> <span class="btn-label">  Reset reminders</span> </button> <p class="help-block">Reset all Plex Web reminders for this user. Reload to take effect.</p> </div> '}function B(e,t){return""+" "+d(i(n(76273)).call(e,"NOTE: If {1}settings sync{2} is also turned on, settings on other {4} instances may also be reset. Use with caution.",'<a href="{3}">',"</a>",e&&e.generalSettingsRoute,e&&e.escapedProductName,{hash:{},data:t}))+" "}return l+='<div class="filter-bar"> <button class="toggle-advanced-btn btn btn-sm btn-default pull-right basic-setting">'+d(i(n(76273)).call(t,"Show Advanced",{hash:{},data:s}))+'</button> <button class="toggle-advanced-btn btn btn-sm btn-default pull-right advanced-setting">'+d(i(n(76273)).call(t,"Hide Advanced",{hash:{},data:s}))+"</button> </div> ",((o=r.if.call(t,t&&t.showReloadSecurely,{hash:{},inverse:u.noop,fn:u.program(1,(function(e,t){var r,a="";return a+=' <div class="filter-bar-warning"> <span class="filter-bar-warning-text"> <span class="filter-bar-warning-alert-icon"> ',((r=typeof(r=e&&e.alertIcon)===c?r.apply(e):r)||0===r)&&(a+=r),a+" </span> "+d(i(n(76273)).call(e,"Your connection to the web app is not secure.",{hash:{},data:t}))+' </span> <button class="reload-securely-btn btn btn-sm btn-primary"> '+d(i(n(76273)).call(e,"Reload Securely",{hash:{},data:t}))+" </button> </div> "}),s),data:s}))||0===o)&&(l+=o),l+=' <div class="row"> <div class="col-sm-12 col-md-12"> <form id="web-settings-form"> <div id="general-web-group" class="settings-group"> <h4 class="version-title"> '+d(i(n(76273)).call(t,"Version",{hash:{},data:s}))+" "+d(typeof(o=t&&t.version)===c?o.apply(t):o)+' </h4> <div class="form-group"> <label for="language">'+d(i(n(76273)).call(t,"Language",{hash:{},data:s}))+'</label> <select id="language"> ',((o=r.each.call(t,t&&t.languages,{hash:{},inverse:u.noop,fn:u.programWithDepth(3,(function(e,t,r){var a,s="";return s+=' <option value="'+d(typeof(a=e&&e.value)===c?a.apply(e):a)+'" ',((a=i(n(78356)).call(e,e&&e.value,null==(a=r&&r.experienceSettings)||!1===a?a:a.language,{hash:{},inverse:u.noop,fn:u.program(4,p,t),data:t}))||0===a)&&(s+=a),s+"> "+d(typeof(a=e&&e.title)===c?a.apply(e):a)+" </option> "}),s,t),data:s}))||0===o)&&(l+=o),l+=' </select> <p class="help-block">'+d(i(n(76273)).call(t,"Help us translate this app into your language {1}here{2}.",'<a href="https://transifex.com/plex-1/plex-web" target="_blank">',"</a>",{hash:{},data:s}))+"</p> </div> ",((o=r.unless.call(t,t&&t.isRestricted,{hash:{},inverse:u.noop,fn:u.program(6,(function(e,t){var a,s="";return s+=' <div class="form-group"> <label class="control-label"> <input type="checkbox" id="autoLogin" ',((a=r.if.call(e,null==(a=e&&e.deviceSettings)||!1===a?a:a.autoLogin,{hash:{},inverse:u.noop,fn:u.program(7,m,t),data:t}))||0===a)&&(s+=a),s+"> "+d(i(n(76273)).call(e,"Automatically Sign In",{hash:{},data:t}))+' </label> <p class="help-block">'+d(i(n(76273)).call(e,"Do not prompt to select a user or enter a PIN during startup on this device.",{hash:{},data:t}))+"</p> </div> "}),s),data:s}))||0===o)&&(l+=o),l+=' <div class="form-group"> <label class="control-label"> <input type="checkbox" id="shouldSaveLastSourcePivots" ',((o=r.if.call(t,null==(o=t&&t.experienceSettings)||!1===o?o:o.shouldSaveLastSourcePivots,{hash:{},inverse:u.noop,fn:u.program(7,m,s),data:s}))||0===o)&&(l+=o),l+="> "+d(i(n(76273)).call(t,"Remember selected tab",{hash:{},data:s}))+' </label> <p class="help-block">'+d(i(n(76273)).call(t,"Default to the last selected tab for a media source.",{hash:{},data:s}))+'</p> </div> <div class="form-group"> <label class="control-label"> <input type="checkbox" id="playThemeMusic" ',((o=r.if.call(t,null==(o=t&&t.experienceSettings)||!1===o?o:o.playThemeMusic,{hash:{},inverse:u.noop,fn:u.program(7,m,s),data:s}))||0===o)&&(l+=o),l+="> "+d(i(n(76273)).call(t,"Play Theme Music",{hash:{},data:s}))+' </label> <p class="help-block">'+d(i(n(76273)).call(t,"Automatically play theme music in the background when available.",{hash:{},data:s}))+"</p> </div> ",((o=r.unless.call(t,t&&t.isAnonymous,{hash:{},inverse:u.noop,fn:u.program(9,(function(e,t){var a,s="";return s+=' <div class="form-group advanced-setting"> <label class="control-label"> <input type="checkbox" id="companion" ',((a=r.if.call(e,null==(a=e&&e.experienceSettings)||!1===a?a:a.companion,{hash:{},inverse:u.noop,fn:u.program(7,m,t),data:t}))||0===a)&&(s+=a),s+"> "+d(i(n(76273)).call(e,"Advertise as player",{hash:{},data:t}))+' </label> <p class="help-block">'+d(i(n(76273)).call(e,"Allow other Plex apps to fling content to this device and control it remotely.",{hash:{},data:t}))+"</p> </div> "}),s),data:s}))||0===o)&&(l+=o),l+=" ",((o=r.if.call(t,t&&t.httpFallbackOptions,{hash:{},inverse:u.noop,fn:u.program(11,(function(e,t){var a,s="";return s+=' <div class="form-group advanced-setting"> <label for="allowHttpFallback">'+d(i(n(76273)).call(e,"Allow Fallback to Insecure Connections",{hash:{},data:t}))+'</label> <select id="allowHttpFallback"> ',((a=r.each.call(e,e&&e.httpFallbackOptions,{hash:{},inverse:u.noop,fn:u.programWithDepth(12,h,t,e),data:t}))||0===a)&&(s+=a),s+' </select> <p class="help-block">'+d(i(n(76273)).call(e,"Allow this app to make insecure connections to Plex Media Server if secure connections fail.",{hash:{},data:t}))+"</p> </div> "}),s),data:s}))||0===o)&&(l+=o),l+=' <div class="form-group"> <label for="timeFormat">'+d(i(n(76273)).call(t,"Time Format",{hash:{},data:s}))+'</label> <select id="timeFormat"> ',((o=r.each.call(t,t&&t.timeFormats,{hash:{},inverse:u.noop,fn:u.programWithDepth(14,(function(e,t,r){var a,s="";return s+=' <option value="'+d(typeof(a=e&&e.value)===c?a.apply(e):a)+'" ',((a=i(n(78356)).call(e,e&&e.value,null==(a=r&&r.experienceSettings)||!1===a?a:a.timeFormat,{hash:{},inverse:u.noop,fn:u.program(4,p,t),data:t}))||0===a)&&(s+=a),s+">"+d(i(n(76273)).call(e,e&&e.title,{hash:{},data:t}))+"</option> "}),s,t),data:s}))||0===o)&&(l+=o),l+=" </select> </div> ",((o=r.if.call(t,t&&t.isQtDesktop,{hash:{},inverse:u.noop,fn:u.program(16,(function(e,t){var a,s="";return s+=' <div class="form-group"> <label for="settings.keepOnTop">'+d(i(n(76273)).call(e,"Keep Plex on top of windows",{hash:{},data:t}))+'</label> <select id="settings.keepOnTop"> ',((a=r.each.call(e,e&&e.keepOnTopSettings,{hash:{},inverse:u.noop,fn:u.programWithDepth(17,g,t,e),data:t}))||0===a)&&(s+=a),s+" </select> </div> "}),s),data:s}))||0===o)&&(l+=o),l+=" ",((o=r.unless.call(t,t&&t.isAnonymous,{hash:{},inverse:u.noop,fn:u.program(19,(function(e,t){var a,s="";return s+=' <hr class="advanced-setting" /> ',((a=r.if.call(e,e&&e.isSyncSettingsAllowed,{hash:{},inverse:u.noop,fn:u.program(20,y,t),data:t}))||0===a)&&(s+=a),s+' <div class="form-group advanced-setting" > <button type="button" class="reset-customization-btn btn btn-sm btn-default btn-loading form-control-btn"> <div class="loading loading-sm"></div> <span class="btn-label">'+d(i(n(76273)).call(e,"Reset customization",{hash:{},data:t}))+'</span> </button> <p class="help-block"> '+d(i(n(76273)).call(e,"Reset sidebar navigation and home screen layout to the default state. Youll be redirected to the {1} Setup screen, where you can choose a server (if you have access to more than one) and other media providers from which to build your navigation and home screen content.",e&&e.escapedProducttName,{hash:{},data:t}))+" </p> </div> "}),s),data:s}))||0===o)&&(l+=o),l+=' <hr class="advanced-setting" /> ',((o=r.if.call(t,t&&t.isSyncSettingsRestrictedBySchemaVersion,{hash:{},inverse:u.noop,fn:u.program(29,(function(e,t){var r,a="";return a+=' <p class="help-block"> <span class="inline-icon">',((r=typeof(r=e&&e.alertIcon)===c?r.apply(e):r)||0===r)&&(a+=r),a+"</span> "+d(i(n(76273)).call(e,"Any {1} settings and customization made in this {1} instance will not be synchronized with other {1} instances. This is because we have detected you have previously saved settings from a newer version of {1}.",e&&e.escapedProductName,{hash:{},data:t}))+" </p> "}),s),data:s}))||0===o)&&(l+=o),l+=' </div> <div id="quality-web-group" class="settings-group"> ',((o=r.if.call(t,t&&t.canPlayAdaptiveBitrate,{hash:{},inverse:u.noop,fn:u.program(31,(function(e,t){var a,s="";return s+=' <div class="form-group"> <label class="control-label"> <input type="checkbox" id="autoAdjustQuality" ',((a=r.if.call(e,null==(a=e&&e.experienceSettings)||!1===a?a:a.autoAdjustQuality,{hash:{},inverse:u.noop,fn:u.program(7,m,t),data:t}))||0===a)&&(s+=a),s+"> "+d(i(n(76273)).call(e,"Automatically adjust quality (Beta)",{hash:{},data:t}))+' </label> <p class="help-block">'+d(i(n(76273)).call(e,"Plex will increase or decrease quality based on connection speed. Requires latest Plex Media Server.",{hash:{},data:t}))+"</p> </div> "}),s),data:s}))||0===o)&&(l+=o),l+=' <h4 class="',((o=r.if.call(t,t&&t.canPlayAdaptiveBitrate,{hash:{},inverse:u.program(35,(function(e,t){return"settings-header-first"}),s),fn:u.program(33,(function(e,t){return"settings-header"}),s),data:s}))||0===o)&&(l+=o),l+='">'+d(i(n(76273)).call(t,"Internet Streaming",{hash:{},data:s}))+'</h4> <div class="form-group"> <label for="remoteQuality">'+d(i(n(76273)).call(t,"Video quality",{hash:{},data:s}))+'</label> <select id="remoteQuality" data-type="int"> <option value="-1">'+d(i(n(76273)).call(t,"Maximum",{hash:{},data:s}))+"</option> ",((o=r.each.call(t,t&&t.availableQualities,{hash:{},inverse:u.noop,fn:u.programWithDepth(37,(function(e,t,r){var a,s="";return s+=' <option value="'+d(typeof(a=e&&e.index)===c?a.apply(e):a)+'" ',((a=i(n(78356)).call(e,e&&e.index,null==(a=r&&r.experienceSettings)||!1===a?a:a.remoteQuality,{hash:{},inverse:u.noop,fn:u.program(4,p,t),data:t}))||0===a)&&(s+=a),s+"> "+d(i(n(54614)).call(e,e,{hash:{},data:t}))+" </option> "}),s,t),data:s}))||0===o)&&(l+=o),l+=' </select> <p class="help-block">'+d(i(n(76273)).call(t,"Set the default quality for streaming video over the internet. If quality is set too high, videos will start slowly and pause frequently.",{hash:{},data:s}))+'</p> </div> <div class="form-group"> <label class="control-label"> <input type="checkbox" id="remoteSmallVideoAtOriginalQuality" ',((o=r.if.call(t,null==(o=t&&t.experienceSettings)||!1===o?o:o.remoteSmallVideoAtOriginalQuality,{hash:{},inverse:u.noop,fn:u.program(7,m,s),data:s}))||0===o)&&(l+=o),l+="> "+d(i(n(76273)).call(t,"Play smaller videos at original quality",{hash:{},data:s}))+' </label> <p class="help-block"> '+d(i(n(76273)).call(t,"When a video file is smaller than the quality above, try playing the original video without converting. This preserves full quality, but playback may pause frequently.",{hash:{},data:s}))+" ",((o=r.if.call(t,t&&t.canPlayAdaptiveBitrate,{hash:{},inverse:u.noop,fn:u.program(39,(function(e,t){return d(i(n(76273)).call(e,'"Automatically adjust quality" will be disabled for these videos.',{hash:{},data:t}))}),s),data:s}))||0===o)&&(l+=o),l+=' </p> </div> <h4 class="settings-header">'+d(i(n(76273)).call(t,"Home Streaming",{hash:{},data:s}))+'</h4> <div class="form-group"> <label class="control-label"> <input type="checkbox" id="useHomeStreamingRecommendedSettings" ',((o=r.if.call(t,null==(o=t&&t.experienceSettings)||!1===o?o:o.useHomeStreamingRecommendedSettings,{hash:{},inverse:u.noop,fn:u.program(7,m,s),data:s}))||0===o)&&(l+=o),l+="> "+d(i(n(76273)).call(t,"Use recommended settings",{hash:{},data:s}))+' </label> <p class="help-block recommended-home-streaming-settings">'+d(i(n(76273)).call(t,"All compatible videos will play at original quality. Incompatible videos will be converted at maximum quality.",{hash:{},data:s}))+'</p> </div> <div class="form-group custom-home-streaming-settings"> <label for="localQuality">'+d(i(n(76273)).call(t,"Video quality",{hash:{},data:s}))+'</label> <select id="localQuality" data-type="int"> <option value="-1">'+d(i(n(76273)).call(t,"Maximum",{hash:{},data:s}))+"</option> ",((o=r.each.call(t,t&&t.availableQualities,{hash:{},inverse:u.noop,fn:u.programWithDepth(41,(function(e,t,r){var a,s="";return s+=' <option value="'+d(typeof(a=e&&e.index)===c?a.apply(e):a)+'" ',((a=i(n(78356)).call(e,e&&e.index,null==(a=r&&r.experienceSettings)||!1===a?a:a.localQuality,{hash:{},inverse:u.noop,fn:u.program(4,p,t),data:t}))||0===a)&&(s+=a),s+"> "+d(i(n(54614)).call(e,e,{hash:{},data:t}))+" </option> "}),s,t),data:s}))||0===o)&&(l+=o),l+=' </select> <p class="help-block">'+d(i(n(76273)).call(t,"Choose the default video quality to use for local Wi-Fi streaming on home networks. If quality is set too high, videos will start slowly and pause frequently.",{hash:{},data:s}))+'</p> </div> </div> <div id="debug-web-group" class="settings-group"> <div class="form-group"> <label for="debugLevel">'+d(i(n(76273)).call(t,"Debug Level",{hash:{},data:s}))+'</label> <select id="debugLevel" data-type="int"> ',((o=r.each.call(t,t&&t.debugLevels,{hash:{},inverse:u.noop,fn:u.programWithDepth(43,(function(e,t,r){var a,s="";return s+=' <option value="'+d(typeof(a=e&&e.value)===c?a.apply(e):a)+'" ',((a=i(n(78356)).call(e,e&&e.value,null==(a=r&&r.deviceSettings)||!1===a?a:a.debugLevel,{hash:{},inverse:u.noop,fn:u.program(4,p,t),data:t}))||0===a)&&(s+=a),s+">"+d(i(n(76273)).call(e,e&&e.title,{hash:{},data:t}))+"</option> "}),s,t),data:s}))||0===o)&&(l+=o),l+=' </select> <p class="help-block">'+d(i(n(76273)).call(t,"You can view the debug logs {1}here{2}.",'<a href="#!/logs">',"</a>",{hash:{},data:s}))+"</p> </div> ",((o=r.if.call(t,t&&t.isNinja,{hash:{},inverse:u.noop,fn:u.program(45,(function(e,t){var n,i="";return i+=" ",((n=r.unless.call(e,e&&e.isHybridPlatform,{hash:{},inverse:u.noop,fn:u.program(46,S,t),data:t}))||0===n)&&(i+=n),i+=' <div class="form-group"> <label for="sonosCustomBaseURL"> Custom Sonos Environment</label> <input type="text" id="sonosCustomBaseURL" class="form-control" placeholder="Base URL" value="'+d(typeof(n=null==(n=e&&e.deviceSettings)||!1===n?n:n.sonosCustomBaseURL)===c?n.apply(e):n)+'"> </div> <div class="form-group"> <label class="control-label"> <input type="checkbox" id="rejectDirectConnections" ',((n=r.if.call(e,null==(n=e&&e.deviceSettings)||!1===n?n:n.rejectDirectConnections,{hash:{},inverse:u.noop,fn:u.program(7,m,t),data:t}))||0===n)&&(i+=n),i+='>  Reject direct connections </label> <p class="help-block">Forces relayed connections if available. Refresh after saving this setting for it to take effect.</p> </div> ',((n=r.if.call(e,e&&e.isQtDesktop,{hash:{},inverse:u.noop,fn:u.program(51,P,t),data:t}))||0===n)&&(i+=n),i+" "}),s),data:s}))||0===o)&&(l+=o),l+=' <div class="form-group"> <label class="control-label"> <input type="checkbox" id="directPlay" ',((o=r.if.call(t,null==(o=t&&t.deviceSettings)||!1===o?o:o.directPlay,{hash:{},inverse:u.noop,fn:u.program(7,m,s),data:s}))||0===o)&&(l+=o),l+="> "+d(i(n(76273)).call(t,"Direct Play",{hash:{},data:s}))+' </label> <p class="help-block"> ',((o=r.if.call(t,t&&t.isHybridPlatform,{hash:{},inverse:u.program(55,(function(e,t){return""+" "+d(i(n(76273)).call(e,"Allows the player to play compatible media without any conversion. In most browsers, direct play supports MP4 videos with h264 video and AAC audio. Videos with subtitles cannot be played directly.",{hash:{},data:t}))+" "}),s),fn:u.program(53,(function(e,t){return""+" "+d(i(n(76273)).call(e,"Allows the player to play compatible media without any conversion.",{hash:{},data:t}))+" "}),s),data:s}))||0===o)&&(l+=o),l+=' </p> </div> <div class="form-group"> <label class="control-label"> <input type="checkbox" id="directStream" ',((o=r.if.call(t,null==(o=t&&t.deviceSettings)||!1===o?o:o.directStream,{hash:{},inverse:u.noop,fn:u.program(7,m,s),data:s}))||0===o)&&(l+=o),l+="> "+d(i(n(76273)).call(t,"Direct Stream",{hash:{},data:s}))+' </label> <p class="help-block">'+d(i(n(76273)).call(t,"Allows the server to copy compatible audio and video streams without converting them.",{hash:{},data:s}))+"</p> </div> ",((o=r.unless.call(t,t&&t.isHybridPlatform,{hash:{},inverse:u.noop,fn:u.program(57,(function(e,t){var a,s="";return s+=' <div class="form-group advanced-setting"> <label class="control-label"> <input type="checkbox" id="forceTranscodeProtocolHLS" ',((a=r.if.call(e,null==(a=e&&e.experienceSettings)||!1===a?a:a.forceTranscodeProtocolHLS,{hash:{},inverse:u.noop,fn:u.program(7,m,t),data:t}))||0===a)&&(s+=a),s+"> "+d(i(n(76273)).call(e,"Use alternate streaming protocol for video playback",{hash:{},data:t}))+' </label> <p class="help-block">'+d(i(n(76273)).call(e,"Experimental workaround for Chrome, Edge, and other Chromium based browsers which may avoid unexpected skipping during video playback. The workaround will not be used if automatic quality adjusting is enabled.",{hash:{},data:t}))+"</p> </div> "}),s),data:s}))||0===o)&&(l+=o),l+=" ",((o=r.if.call(t,t&&t.canDebugAdaptiveBitrate,{hash:{},inverse:u.noop,fn:u.program(59,(function(e,t){var n,i="";return i+=' <div class="form-group"> <label class="control-label"> <input type="checkbox" id="debugVideoQualityOverlay" ',((n=r.if.call(e,null==(n=e&&e.deviceSettings)||!1===n?n:n.debugVideoQualityOverlay,{hash:{},inverse:u.noop,fn:u.program(7,m,t),data:t}))||0===n)&&(i+=n),i+'> Video quality overlay </label> <p class="help-block">Burns a quality information overlay on video when automatically adjusting quality.</p> </div> '}),s),data:s}))||0===o)&&(l+=o),l+=" ",((o=r.if.call(t,t&&t.canDebugAds,{hash:{},inverse:u.noop,fn:u.program(61,(function(e,t){var n,i="";return i+=' <div class="form-group"> <label for="debugAdKind"> Debug advertisements</label> <select id="debugAdKind" data-type="int"> ',((n=r.each.call(e,e&&e.debugAdKinds,{hash:{},inverse:u.noop,fn:u.programWithDepth(62,D,t,e),data:t}))||0===n)&&(i+=n),i+' </select> <p class="help-block">Instructs ad supporting providers to return one or more advertisements. Remember to disable any ad blockers.</p> </div> '}),s),data:s}))||0===o)&&(l+=o),l+=' </div> <div id="player-web-group" class="settings-group"> <h4 class="settings-header-first">'+d(i(n(76273)).call(t,"Audio & Subtitles",{hash:{},data:s}))+'</h4> <div class="form-group advanced-setting"> <label class="control-label"> <input type="checkbox" id="normalizeDownmixedVolume" ',((o=r.if.call(t,t&&t.normalizeDownmixedVolume,{hash:{},inverse:u.noop,fn:u.program(7,m,s),data:s}))||0===o)&&(l+=o),l+="> "+d(i(n(76273)).call(t,"Normalize Multi-channel Audio",{hash:{},data:s}))+' </label> <p class="help-block">'+d(i(n(76273)).call(t,"Reduce volume to avoid clipping when converting from multi-channel audio formats.",{hash:{},data:s}))+"</p> </div> ",((o=r.if.call(t,t&&t.isQtDesktop,{hash:{},inverse:u.noop,fn:u.program(64,(function(e,t){var a,s="";return s+=' <div class="form-group advanced-setting"> <label class="control-label"> <input type="checkbox" id="player.exclusiveAudioEnabled" ',((a=r.if.call(e,null==(a=e&&e.deviceSettings)||!1===a?a:a["player.exclusiveAudioEnabled"],{hash:{},inverse:u.noop,fn:u.program(7,m,t),data:t}))||0===a)&&(s+=a),s+="> "+d(i(n(76273)).call(e,"Exclusive Audio",{hash:{},data:t}))+' </label> <p class="help-block">'+d(i(n(76273)).call(e,"Bypasses the system audio mixer, ensuring that only the media's audio is sent unchanged to the output device. This prevents sounds from other applications on the selected device.",{hash:{},data:t}))+'</p> </div> <div class="form-group advanced-setting"> <label> '+d(i(n(76273)).call(e,"Audio Device",{hash:{},data:t}))+' <select id="player.audioDevice" class="audio-device-name"> ',((a=r.each.call(e,e&&e.audioDevices,{hash:{},inverse:u.noop,fn:u.program(65,C,t),data:t}))||0===a)&&(s+=a),s+=" </select> </label> </div> ",((a=r.each.call(e,e&&e.audioDevices,{hash:{},inverse:u.noop,fn:u.program(67,w,t),data:t}))||0===a)&&(s+=a),s+" "}),s),data:s}))||0===o)&&(l+=o),l+=' <div class="form-group"> <label for="subtitleColor">'+d(i(n(76273)).call(t,"Subtitle Color",{hash:{},data:s}))+'</label> <select id="subtitleColor"> ',((o=r.each.call(t,t&&t.subtitleColors,{hash:{},inverse:u.noop,fn:u.programWithDepth(79,(function(e,t,r){var a,s="";return s+=' <option value="'+d(typeof(a=e&&e.value)===c?a.apply(e):a)+'" ',((a=i(n(78356)).call(e,e&&e.value,null==(a=r&&r.experienceSettings)||!1===a?a:a.subtitleColor,{hash:{},inverse:u.noop,fn:u.program(4,p,t),data:t}))||0===a)&&(s+=a),s+">"+d(i(n(76273)).call(e,e&&e.title,{hash:{},data:t}))+"</option> "}),s,t),data:s}))||0===o)&&(l+=o),l+=' </select> </div> <div class="form-group"> <label for="subtitlePosition">'+d(i(n(76273)).call(t,"Subtitle Position",{hash:{},data:s}))+'</label> <select id="subtitlePosition"> ',((o=r.each.call(t,t&&t.subtitlePositions,{hash:{},inverse:u.noop,fn:u.programWithDepth(81,(function(e,t,r){var a,s="";return s+=' <option value="'+d(typeof(a=e&&e.value)===c?a.apply(e):a)+'" ',((a=i(n(78356)).call(e,e&&e.value,null==(a=r&&r.experienceSettings)||!1===a?a:a.subtitlePosition,{hash:{},inverse:u.noop,fn:u.program(4,p,t),data:t}))||0===a)&&(s+=a),s+">"+d(i(n(76273)).call(e,e&&e.title,{hash:{},data:t}))+"</option> "}),s,t),data:s}))||0===o)&&(l+=o),l+=' </select> </div> <div class="form-group"> <label for="subtitleSize">'+d(i(n(76273)).call(t,"Subtitle Size",{hash:{},data:s}))+'</label> <select id="subtitleSize" data-type="int"> ',((o=r.each.call(t,t&&t.subtitleSizes,{hash:{},inverse:u.noop,fn:u.programWithDepth(83,(function(e,t,r){var a,s="";return s+=' <option value="'+d(typeof(a=e&&e.value)===c?a.apply(e):a)+'" ',((a=i(n(78356)).call(e,e&&e.value,null==(a=r&&r.experienceSettings)||!1===a?a:a.subtitleSize,{hash:{},inverse:u.noop,fn:u.program(4,p,t),data:t}))||0===a)&&(s+=a),s+">"+d(i(n(76273)).call(e,e&&e.title,{hash:{},data:t}))+"</option> "}),s,t),data:s}))||0===o)&&(l+=o),l+=" </select> </div> ",((o=r.if.call(t,t&&t.hasSubtitleBurnLevel,{hash:{},inverse:u.noop,fn:u.program(85,(function(e,t){var a,s="";return s+=' <div class="form-group advanced-setting"> <label for="subtitlesBurnLevel">'+d(i(n(76273)).call(e,"Burn Subtitles",{hash:{},data:t}))+'</label> <select id="subtitlesBurnLevel"> ',((a=r.each.call(e,e&&e.subtitlesBurnLevels,{hash:{},inverse:u.noop,fn:u.programWithDepth(86,L,t,e),data:t}))||0===a)&&(s+=a),s+' </select> <p class="help-block">'+d(i(n(76273)).call(e,"Determines if the server should burn in subtitles when converting video depending on the subtitles format. Avoiding burn in improves server performance and is only supported by the HTML5 player.",{hash:{},data:t}))+"</p> </div> "}),s),data:s}))||0===o)&&(l+=o),l+=" ",((o=r.if.call(t,t&&t.isQtDesktop,{hash:{},inverse:u.noop,fn:u.program(88,(function(e,t){var a,s="";return s+=' <h4 class="settings-header advanced-setting">'+d(i(n(76273)).call(e,"Video",{hash:{},data:t}))+'</h4> <div class="form-group advanced-setting"> <label class="control-label"> <input type="checkbox" id="player.hardwareDecodingEnabled" ',((a=r.if.call(e,null==(a=e&&e.deviceSettings)||!1===a?a:a["player.hardwareDecodingEnabled"],{hash:{},inverse:u.noop,fn:u.program(7,m,t),data:t}))||0===a)&&(s+=a),s+="> "+d(i(n(76273)).call(e,"Use Hardware Decoding",{hash:{},data:t}))+' </label> <p class="help-block">'+d(i(n(76273)).call(e,"Hardware decoding may improve video playback performance. Disable this setting if you encounter unexpected playback problems.",{hash:{},data:t}))+"</p> </div> ",((a=r.if.call(e,e&&e.isNinja,{hash:{},inverse:u.noop,fn:u.program(89,k,t),data:t}))||0===a)&&(s+=a),s+" "}),s),data:s}))||0===o)&&(l+=o),l+=' <h4 class="settings-header">'+d(i(n(76273)).call(t,"Extras",{hash:{},data:s}))+'</h4> <div class="form-group"> <label for="extrasPrefixCount">'+d(i(n(76273)).call(t,"Cinema Trailers to Play Before Movies",{hash:{},data:s}))+'</label> <select id="extrasPrefixCount" data-type="int"> ',((o=r.each.call(t,t&&t.extrasPrefixCounts,{hash:{},inverse:u.noop,fn:u.programWithDepth(92,(function(e,t,r){var a,s="";return s+=' <option value="'+d(typeof(a=e&&e.value)===c?a.apply(e):a)+'" ',((a=i(n(78356)).call(e,e&&e.value,null==(a=r&&r.experienceSettings)||!1===a?a:a.extrasPrefixCount,{hash:{},inverse:u.noop,fn:u.program(4,p,t),data:t}))||0===a)&&(s+=a),s+">"+d(i(n(76273)).call(e,e&&e.title,{hash:{},data:t}))+"</option> "}),s,t),data:s}))||0===o)&&(l+=o),l+=" </select> </div> ",((o=r.unless.call(t,t&&t.isHybridPlatform,{hash:{},inverse:u.noop,fn:u.program(94,(function(e,t){var a,s="";return s+=' <h4 class="settings-header advanced-setting">'+d(i(n(76273)).call(e,"Chromecast",{hash:{},data:t}))+'</h4> <div class="form-group advanced-setting"> <label class="control-label"> <input type="checkbox" id="audioForceMultiChannel" ',((a=r.if.call(e,null==(a=e&&e.experienceSettings)||!1===a?a:a.audioForceMultiChannel,{hash:{},inverse:u.noop,fn:u.program(7,m,t),data:t}))||0===a)&&(s+=a),s+"> "+d(i(n(76273)).call(e,"Force multi-channel audio support",{hash:{},data:t}))+' </label> <p class="help-block">'+d(i(n(76273)).call(e,"Forces Chromecast to allow six channel surround sound whether or not the device reports support.",{hash:{},data:t}))+"</p> </div> "}),s),data:s}))||0===o)&&(l+=o),l+=" </div> ",((o=r.if.call(t,t&&t.isQtDesktop,{hash:{},inverse:u.noop,fn:u.program(96,(function(e,t){var a,s="";return s+=' <div id="downloads-web-group" class="settings-group"> <div class="form-group"> <label for="musicDownloadQuality">'+d(i(n(76273)).call(e,"Music Quality",{hash:{},data:t}))+'</label> <select id="musicDownloadQuality" data-type="int"> ',((a=r.each.call(e,e&&e.musicDownloadQualityLevels,{hash:{},inverse:u.noop,fn:u.programWithDepth(97,z,t,e),data:t}))||0===a)&&(s+=a),s+=' </select> </div> <div class="form-group"> <label for="videoDownloadQuality">'+d(i(n(76273)).call(e,"Video Quality",{hash:{},data:t}))+'</label> <select id="videoDownloadQuality" data-type="int"> ',((a=r.each.call(e,e&&e.videoDownloadQualityLevels,{hash:{},inverse:u.noop,fn:u.programWithDepth(99,U,t,e),data:t}))||0===a)&&(s+=a),s+' </select> </div> <p class="help-block">'+d(i(n(76273)).call(e,"Lower quality downloads use less disk space. Media will be converted on the server.",{hash:{},data:t}))+"</p> </div> "}),s),data:s}))||0===o)&&(l+=o),l+=' <div class="form-footer"> <button type="submit" class="submit-btn btn btn-lg btn-primary btn-loading disabled"> <div class="loading loading-sm"></div> <span class="btn-label">'+d(i(n(76273)).call(t,"Save Changes",{hash:{},data:s}))+'</span> </button> <span class="form-message"></span> </div> ',((o=r.unless.call(t,t&&t.isAnonymous,{hash:{},inverse:u.noop,fn:u.program(101,(function(e,t){var a,s="";return s+=' <div id="debug-web-group-footer" class="settings-group"> ',((a=r.if.call(e,e&&e.isNinja,{hash:{},inverse:u.noop,fn:u.program(102,V,t),data:t}))||0===a)&&(s+=a),s+=' <hr /> <div class="form-group"> <button type="button" class="restore-btn btn btn-sm btn-danger btn-loading form-control-btn"> <div class="loading loading-sm"></div> <span class="btn-label">'+d(i(n(76273)).call(e,"Restore defaults",{hash:{},data:t}))+'</span> </button> <p class="help-block"> '+d(i(n(76273)).call(e,"All {1} settings and customization will be reset and restored to their default state.",e&&e.escapedProductName,{hash:{},data:t}))+" ",((a=r.if.call(e,e&&e.isSyncSettingsAllowed,{hash:{},inverse:u.noop,fn:u.program(104,B,t),data:t}))||0===a)&&(s+=a),s+" </p> </div> <hr /> </div> "}),s),data:s}))||0===o)&&(l+=o),l+" </form> </div> </div> "}))},39390:(e,t,n)=>{var r=n(40202);function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(r.default||r).template((function(e,t,r,a,s){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),s=s||{};var o,l="",c=this,d=this.escapeExpression;function u(e,t){return"active"}return l+='<ul class="agent-types-nav nav nav-pills"> ',((o=r.each.call(t,t&&t.agentTypes,{hash:{},inverse:c.noop,fn:c.programWithDepth(1,(function(e,t,r){var a,s="";return s+=' <li class="',((a=i(n(78356)).call(e,null==(a=r&&r.currentType)||!1===a?a:a.id,e&&e.id,{hash:{},inverse:c.noop,fn:c.program(2,u,t),data:t}))||0===a)&&(s+=a),s+'"> <a class="btn-gray" data-type="'+d("function"==typeof(a=e&&e.typeString)?a.apply(e):a)+'" href="#">'+d(i(n(76273)).call(e,e&&e.plural,{hash:{},data:t}))+"</a> </li> "}),s,t),data:s}))||0===o)&&(l+=o),l+' </ul> <div class="agents-list-container"></div> <p class="help-block sortable-help-block">'+d(i(n(76273)).call(t,"Select which additional agents should contribute to metadata from {1}, and drag them to change the order of preference.",'<span class="agent-label"></span>',{hash:{},data:s}))+'</p> <div class="contributors-list-container"></div> '}))},93824:(e,t,n)=>{var r=n(40202);function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(r.default||r).template((function(e,t,r,a,s){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),s=s||{};var o,l="",c=this.escapeExpression;return l+='<div class="sign-in-region"></div> <form id="server-settings-form"> <div class="form-group"> <h4 class="version-header"><span class="version"></span> <span class="update-region"></span></h4> </div> ',((o=r.each.call(t,t,{hash:{},inverse:this.noop,fn:this.program(1,(function(e,t){return""+" "+c(i(n(46178)).call(e,"setting",{hash:{idSuffix:"_c"},data:t}))+" "}),s),data:s}))||0===o)&&(l+=o),l+' <div class="form-footer"> <button type="submit" class="submit-btn btn btn-lg btn-primary btn-loading disabled"> <div class="loading loading-sm"></div> <span class="btn-label">'+c(i(n(76273)).call(t,"Save Changes",{hash:{},data:s}))+'</span> </button> <span class="form-message"></span> </div> </form> '}))},44942:(e,t,n)=>{var r=n(40202);function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(r.default||r).template((function(e,t,r,a,s){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),s=s||{};var o,l="",c=this.escapeExpression;return l+='<form id="server-settings-form"> ',((o=r.each.call(t,t,{hash:{},inverse:this.noop,fn:this.program(1,(function(e,t){return""+" "+c(i(n(46178)).call(e,"setting",{hash:{idSuffix:"_c"},data:t}))+" "}),s),data:s}))||0===o)&&(l+=o),l+' <div class="form-footer"> <button type="submit" class="submit-btn btn btn-lg btn-primary btn-loading disabled"> <div class="loading loading-sm"></div> <span class="btn-label">'+c(i(n(76273)).call(t,"Save Changes",{hash:{},data:s}))+'</span> </button> <span class="form-message"></span> </div> </form> '}))},23450:(e,t,n)=>{var r=n(40202);function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(r.default||r).template((function(e,t,r,a,s){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),s=s||{};var o,l="",c=this.escapeExpression,d=this,u="function";function p(e,t){return""+' <h4 class="status-header status-header-single"> <span class="loading loading-sm"></span> '+c(i(n(76273)).call(e,"Disconnecting server...",{hash:{},data:t}))+" </h4> "}function m(e,t){var n;return(n=r.if.call(e,e&&e.isUnavailable,{hash:{},inverse:d.program(12,v,t),fn:d.program(7,h,t),data:t}))||0===n?n:""}function h(e,t){var a,s="";return s+=' <h4 class="status-header text-danger">'+c(i(n(76273)).call(e,"Not available outside your network",{hash:{},data:t}))+"</h4> ",((a=r.if.call(e,e&&e.isSignedOut,{hash:{},inverse:d.program(10,y,t),fn:d.program(8,g,t),data:t}))||0===a)&&(s+=a),s+" "}function g(e,t){return""+' <span class="status-description help-block">'+c(i(n(76273)).call(e,"First {1}sign in{2} to access your server from anywhere.",'<a class="sign-in-link" href="#">',"</a>",{hash:{},data:t}))+"</span> "}function y(e,t){return""+' <span class="status-description help-block">'+c(i(n(76273)).call(e,"Enable to access your server from anywhere.",{hash:{},data:t}))+'</span> <button class="remote-access-enable-btn btn btn-sm btn-primary">'+c(i(n(76273)).call(e,"Enable Remote Access",{hash:{},data:t}))+"</button> "}function v(e,t){var a,s="";return s+=" ",((a=i(n(78356)).call(e,null==(a=e&&e.cloudAccount)||!1===a?a:a.remoteAccessState,"unreachable",{hash:{},inverse:d.program(19,M,t),fn:d.program(13,f,t),data:t}))||0===a)&&(s+=a),s+=' <button class="remote-access-disable-btn btn btn-sm btn-default">'+c(i(n(76273)).call(e,"Disable Remote Access",{hash:{},data:t}))+"</button> ",((a=r.if.call(e,null==(a=e&&e.mappingModeSetting)||!1===a?a:a.value,{hash:{},inverse:d.noop,fn:d.program(21,E,t),data:t}))||0===a)&&(s+=a),s+" "}function f(e,t){var r,a="";return a+=' <h4 class="status-header text-danger">'+c(i(n(76273)).call(e,"Not available outside your network",{hash:{},data:t}))+'</h4> <span class="unreachable-description status-description help-block">'+c(i(n(76273)).call(e,"Your server is signed in to Plex, but is not reachable from outside your network. {1}Learn more{2}",'<a href="https://support.plex.tv/articles/200289506/?utm_source=Plex%20Apps&utm_medium=Plex%20Web&utm_campaign=Plex%20Apps" target="_blank">',"</a>",{hash:{},data:t}))+"</span> ",((r=i(n(78356)).call(e,null==(r=e&&e.cloudAccount)||!1===r?r:r.mappingError,"jumboframes",{hash:{},inverse:d.program(16,I,t),fn:d.program(14,b,t),data:t}))||0===r)&&(a+=r),a+" "}function b(e,t){return""+' <span class="jumbo-frames-description status-details help-block"> <span class="help-tip">'+c(i(n(76273)).call(e,"Tip:",{hash:{},data:t}))+"</span> "+c(i(n(76273)).call(e,'It looks like the devices between your server and the internet have "jumbo frames" enabled which can cause issues with remote access. Disable jumbo frames on at least one device and try again.',{hash:{},data:t}))+" </span> "}function I(e,t){var r;return(r=i(n(78356)).call(e,null==(r=e&&e.cloudAccount)||!1===r?r:r.mappingError,"doublenat",{hash:{},inverse:d.noop,fn:d.program(17,S,t),data:t}))||0===r?r:""}function S(e,t){return""+' <span class="double-nat-description status-details help-block"> <span class="help-tip">'+c(i(n(76273)).call(e,"Tip:",{hash:{},data:t}))+"</span> "+c(i(n(76273)).call(e,'It looks like your server may be connected to the internet through multiple routers or other network devices. Try connecting it directly to your primary device, or visit our support site for more information about troubleshooting this "Double-NAT" scenario. {1}Learn more{2}','<a href="https://support.plex.tv/articles/200931138/?utm_source=Plex%20Apps&utm_medium=Plex%20Web&utm_campaign=Plex%20Apps" target="_blank">',"</a>",{hash:{},data:t}))+" </span> "}function M(e,t){return""+' <h4 class="status-header text-success">'+c(i(n(76273)).call(e,"Fully accessible outside your network",{hash:{},data:t}))+'</h4> <span class="status-description help-block"> '+c(i(n(76273)).call(e,"You can access this server from signed-in Plex apps or in a browser at {1}.",'<a href="https://plex.tv/web" target="_blank">https://plex.tv/web</a>',{hash:{},data:t}))+" </span> "}function E(e,t){return""+' <p class="remote-access-disable-message help-block"> <i class="remote-access-disable-warning-icon glyphicon circle-exclamation-mark"></i> '+c(i(n(76273)).call(e,"You currently have Remote Access enabled through a manually-specified port. If you wish to disable Remote Access, you will need to remove your manual port forwarding from your router.",{hash:{},data:t}))+" </p> "}function P(e,t){var a,s="";return s+=' <div class="remote-access-advanced"> <div class="remote-access-mapping-container ',((a=r.unless.call(e,e&&e.forceAdvanced,{hash:{},inverse:d.noop,fn:d.program(25,D,t),data:t}))||0===a)&&(s+=a),s+='"> <hr> <i class="plex-image server server-xs server-logo"></i> <div class="remote-access-mapping"> <span class="mapping-label text-muted">'+c(i(n(76273)).call(e,"Private",{hash:{},data:t}))+'</span> <span class="mapping-address"> ',((a=r.if.call(e,e&&e.hasPrivateAddress,{hash:{},inverse:d.program(29,w,t),fn:d.program(27,C,t),data:t}))||0===a)&&(s+=a),s+=" </span> ",((a=r.if.call(e,e&&e.hasPublicAddress,{hash:{},inverse:d.program(33,T,t),fn:d.program(31,Z,t),data:t}))||0===a)&&(s+=a),s+=' <span class="mapping-label text-muted">'+c(i(n(76273)).call(e,"Public",{hash:{},data:t}))+'</span> <span class="mapping-address"> ',((a=r.if.call(e,e&&e.hasPublicAddress,{hash:{},inverse:d.program(29,w,t),fn:d.program(35,N,t),data:t}))||0===a)&&(s+=a),s+=" </span> ",((a=i(n(78356)).call(e,null==(a=e&&e.cloudAccount)||!1===a?a:a.remoteAccessState,"ok",{hash:{},inverse:d.program(33,T,t),fn:d.program(31,Z,t),data:t}))||0===a)&&(s+=a),s+=' <span class="mapping-internet ',((a=i(n(84772)).call(e,null==(a=e&&e.cloudAccount)||!1===a?a:a.remoteAccessState,"ok",{hash:{},inverse:d.noop,fn:d.program(37,O,t),data:t}))||0===a)&&(s+=a),s+='"> <i class="mapping-internet-icon glyphicon globe text-muted"></i> '+c(i(n(76273)).call(e,"Internet",{hash:{},data:t}))+" </span> </div> </div> ",((a=r.if.call(e,e&&e.hasMappingSettings,{hash:{},inverse:d.noop,fn:d.program(39,A,t),data:t}))||0===a)&&(s+=a),s+" </div> "}function D(e,t){return"advanced-setting"}function C(e,t){var n;return""+' <span class="mapping-value">'+c(typeof(n=null==(n=e&&e.cloudAccount)||!1===n?n:n.privateAddress)===u?n.apply(e):n)+'</span> <span class="mapping-separator text-muted">:</span> <span class="mapping-value">'+c(typeof(n=null==(n=e&&e.cloudAccount)||!1===n?n:n.privatePort)===u?n.apply(e):n)+"</span> "}function w(e,t){return""+' <span class="mapping-empty-value">'+c(i(n(76273)).call(e,"Unknown IP",{hash:{},data:t}))+"</span> "}function Z(e,t){return' <i class="mapping-icon glyphicon left-arrow text-success"></i> '}function T(e,t){return' <i class="mapping-icon glyphicon remove-2 text-danger"></i> '}function N(e,t){var n;return""+' <span class="mapping-value">'+c(typeof(n=null==(n=e&&e.cloudAccount)||!1===n?n:n.publicAddress)===u?n.apply(e):n)+'</span> <span class="mapping-separator text-muted">:</span> <span class="mapping-value">'+c(typeof(n=null==(n=e&&e.cloudAccount)||!1===n?n:n.publicPort)===u?n.apply(e):n)+"</span> "}function O(e,t){return"unreachable"}function A(e,t){var a,s="";return s+=' <div class="remote-access-error-container ',((a=r.unless.call(e,e&&e.forceAdvanced,{hash:{},inverse:d.noop,fn:d.program(25,D,t),data:t}))||0===a)&&(s+=a),s+='"> <div class="form-inline"> <div class="checkbox"> <label class="',((a=r.if.call(e,e&&e.isUnavailable,{hash:{},inverse:d.noop,fn:d.program(40,x,t),data:t}))||0===a)&&(s+=a),s+='"> <input type="checkbox" id="'+c(typeof(a=null==(a=e&&e.mappingModeSetting)||!1===a?a:a.id)===u?a.apply(e):a)+'" name="'+c(typeof(a=null==(a=e&&e.mappingModeSetting)||!1===a?a:a.id)===u?a.apply(e):a)+'" value="1" ',((a=r.if.call(e,e&&e.isUnavailable,{hash:{},inverse:d.noop,fn:d.program(40,x,t),data:t}))||0===a)&&(s+=a),s+=" ",((a=r.if.call(e,null==(a=e&&e.mappingModeSetting)||!1===a?a:a.value,{hash:{},inverse:d.noop,fn:d.program(42,j,t),data:t}))||0===a)&&(s+=a),s+="> "+c(i(n(76273)).call(e,"Manually specify public port",{hash:{},data:t}))+' </label> </div> <div class="form-group"> <input type="text" id="'+c(typeof(a=null==(a=e&&e.mappingPortSetting)||!1===a?a:a.id)===u?a.apply(e):a)+'" name="'+c(typeof(a=null==(a=e&&e.mappingPortSetting)||!1===a?a:a.id)===u?a.apply(e):a)+'" class="form-control" value="'+c(typeof(a=null==(a=e&&e.mappingPortSetting)||!1===a?a:a.value)===u?a.apply(e):a)+'" ',((a=r.unless.call(e,e&&e.canEditPort,{hash:{},inverse:d.noop,fn:d.program(40,x,t),data:t}))||0===a)&&(s+=a),s+='> </div> <button class="retry-btn btn btn-primary btn-loading" ',((a=r.if.call(e,e&&e.isUnavailable,{hash:{},inverse:d.noop,fn:d.program(40,x,t),data:t}))||0===a)&&(s+=a),s+='> <div class="loading loading-sm"></div> <span class="btn-label">',((a=i(n(78356)).call(e,null==(a=e&&e.cloudAccount)||!1===a?a:a.remoteAccessState,"unreachable",{hash:{},inverse:d.program(46,k,t),fn:d.program(44,L,t),data:t}))||0===a)&&(s+=a),s+'</span> </button> </div> <p class="help-block">'+c(i(n(76273)).call(e,"You may need to enable this to establish a direct connection from outside your network. You may also need to configure your router. Detailed instructions are available {1}here{2}.",'<a href="https://support.plex.tv/articles/200931138/?utm_source=Plex%20Apps&utm_medium=Plex%20Web&utm_campaign=Plex%20Apps" target="_blank">',"</a>",{hash:{},data:t}))+"</p> </div> "}function x(e,t){return"disabled"}function j(e,t){return"checked"}function L(e,t){return c(i(n(76273)).call(e,"Retry",{hash:{},data:t}))}function k(e,t){return c(i(n(76273)).call(e,"Apply",{hash:{},data:t}))}function R(e,t){return"show-warning"}function z(e,t){var n;return c(typeof(n=e&&e.totalRateSettingValue)===u?n.apply(e):n)}function U(e,t){return""+" "+c(i(n(46178)).call(e,"setting",{hash:{idSuffix:"_c"},data:t}))+" "}return l+='<i class="remote-access-status-icon glyphicon globe"></i> <div class="remote-access-status-message"> ',((o=i(n(78356)).call(t,null==(o=t&&t.cloudAccount)||!1===o?o:o.remoteAccessState,"connecting",{hash:{},inverse:d.program(3,(function(e,t){var r;return(r=i(n(78356)).call(e,null==(r=e&&e.cloudAccount)||!1===r?r:r.remoteAccessState,"disconnecting",{hash:{},inverse:d.program(6,m,t),fn:d.program(4,p,t),data:t}))||0===r?r:""}),s),fn:d.program(1,(function(e,t){return""+' <h4 class="status-header status-header-single"> <span class="loading loading-sm"></span> '+c(i(n(76273)).call(e,"Connecting server...",{hash:{},data:t}))+" </h4> "}),s),data:s}))||0===o)&&(l+=o),l+=" </div> ",((o=i(n(84772)).call(t,null==(o=t&&t.cloudAccount)||!1===o?o:o.remoteAccessState,"connecting",{hash:{},inverse:d.noop,fn:d.program(23,(function(e,t){var r,a="";return a+=" ",((r=i(n(84772)).call(e,null==(r=e&&e.cloudAccount)||!1===r?r:r.remoteAccessState,"disconnecting",{hash:{},inverse:d.noop,fn:d.program(24,P,t),data:t}))||0===r)&&(a+=r),a+" "}),s),data:s}))||0===o)&&(l+=o),l+=" ",((o=r.if.call(t,t&&t.hasUploadLimitSettings,{hash:{},inverse:d.noop,fn:d.program(48,(function(e,t){var a,s="";return s+=' <div class="remote-access-upload-container ',((a=r.unless.call(e,e&&e.totalRateSettingValue,{hash:{},inverse:d.noop,fn:d.program(49,R,t),data:t}))||0===a)&&(s+=a),s+='"> <hr> <div class="remote-access-upload-icon-container"> <i class="remote-access-upload-icon glyphicon circle-arrow-top"></i> <i class="remote-access-upload-warning-icon glyphicon circle-exclamation-mark"></i> </div> <form id="remote-access-upload-form" class="remote-access-upload-form"> <div class="remote-access-upload-speed-header">'+c(i(n(76273)).call(e,"No upload speed set",{hash:{},data:t}))+'</div> <div class="form-group"> <div class="form-inline"> <div class="form-group"> '+c(i(n(76273)).call(e,"Internet upload speed",{hash:{},data:t}))+' <input type="text" id="'+c(typeof(a=e&&e.totalRateSettingID)===u?a.apply(e):a)+'" name="'+c(typeof(a=e&&e.totalRateSettingID)===u?a.apply(e):a)+'" class="remote-access-upload-speed-control form-control" value="',((a=r.if.call(e,e&&e.totalRateSettingValue,{hash:{},inverse:d.noop,fn:d.program(51,z,t),data:t}))||0===a)&&(s+=a),s+='" > '+c(i(n(76273)).call(e,"Mbps",{hash:{},data:t}))+' </div> <p class="help-block"> '+c(i(n(76273)).call(e,"You can use {1}speedtest.net{2} to determine your internet upload capacity.",'<a href="http://speedtest.net" target="_blank" rel="noopener noreferrer">',"</a>",{hash:{},data:t}))+" <br> "+c(i(n(76273)).call(e,"Enter an upload speed here and Plex can ensure it operates within this boundary.",{hash:{},data:t}))+" </p> </div> </div> ",((a=r.each.call(e,e&&e.uploadSettings,{hash:{},inverse:d.noop,fn:d.program(53,U,t),data:t}))||0===a)&&(s+=a),s+' <div class="form-footer"> <button type="submit" class="submit-btn btn btn-lg btn-primary btn-loading disabled"> <div class="loading loading-sm"></div> <span class="btn-label">'+c(i(n(76273)).call(e,"Save Changes",{hash:{},data:t}))+'</span> </button> <span class="form-message"></span> </div> </form> </div> '}),s),data:s}))||0===o)&&(l+=o),l+" "}))},35549:(e,t,n)=>{var r=n(40202);function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(r.default||r).template((function(e,t,r,a,s){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),s=s||{};var o,l="",c=this.escapeExpression;return l+='<a href="#" class="check-for-updates-btn label label-btn label-primary ',((o=r.unless.call(t,t&&t.canCheckForUpdate,{hash:{},inverse:this.noop,fn:this.program(1,(function(e,t){return"active"}),s),data:s}))||0===o)&&(l+=o),l+'"> <i class="label-icon glyphicon upload"></i> '+c(i(n(76273)).call(t,"Check for Updates",{hash:{},data:s}))+' </a> <a href="#" class="checking-for-updates-btn label label-btn label-primary active"> <i class="label-icon glyphicon upload"></i> '+c(i(n(76273)).call(t,"Checking for Updates",{hash:{},data:s}))+' </a> <a href="#" class="available-updates-btn label label-btn label-primary"> <i class="label-icon glyphicon download"></i> '+c(i(n(76273)).call(t,"Download Updates",{hash:{},data:s}))+' </a> <span class="downloading-updates-container label label-btn label-progress active"> <i class="label-icon glyphicon download"></i> '+c(i(n(76273)).call(t,"Downloading Update",{hash:{},data:s}))+' <span class="downloading-progress-container hidden">(<span class="downloading-progress-label"></span>%)</span ></span> <a href="#" class="install-updates-btn label label-btn label-primary"> <i class="label-icon glyphicon download"></i> '+c(i(n(76273)).call(t,"Install Update",{hash:{},data:s}))+' </a> <a href="#" class="installing-updates-btn label label-btn label-primary active"> <i class="label-icon glyphicon upload"></i> '+c(i(n(76273)).call(t,"Installing",{hash:{},data:s}))+' </a> <span class="install-info-label up-to-date-label"> <i class="success-icon glyphicon ok-2"></i> '+c(i(n(76273)).call(t,"Up to date",{hash:{},data:s}))+' </span> <span class="install-info-label install-error-label"> <i class="failure-icon glyphicon circle-exclamation-mark"></i> <span class="update-error-message"></span> <a class="install-manual-link" href="https://plex.tv/downloads" target="_blank">'+c(i(n(76273)).call(t,"Please install manually.",{hash:{},data:s}))+'</a> </span> <a href="#" class="release-notes-btn label label-btn label-default"> <i class="label-icon glyphicon circle-info"></i> '+c(i(n(76273)).call(t,"What's New",{hash:{},data:s}))+" </a> "}))},6160:(e,t,n)=>{var r=n(40202);function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(r.default||r).template((function(e,t,r,a,s){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),s=s||{};var o,l="",c=this.escapeExpression,d=this;function u(e,t){return""+" "+c(i(n(76273)).call(e,"This Plex Media Server platform is not capable of converting video.",{hash:{},data:t}))+" "}function p(e,t){return""+" "+c(i(n(76273)).call(e,"There was a problem requesting media versions from this server.",{hash:{},data:t}))+" "}return l+='<div class="row row-padded"> <h4 class="text-muted text-center"> ',((o=r.if.call(t,t&&t.isUpgradeRequired,{hash:{},inverse:d.program(3,(function(e,t){var n;return(n=r.if.call(e,e&&e.isTranscoderRequired,{hash:{},inverse:d.program(6,p,t),fn:d.program(4,u,t),data:t}))||0===n?n:""}),s),fn:d.program(1,(function(e,t){return""+" "+c(i(n(76273)).call(e,"Optimized Versions requires Plex Media Server {1} or later.",e&&e.escapedMinServerVersion,{hash:{},data:t}))+" "}),s),data:s}))||0===o)&&(l+=o),l+" </h4> </div> "}))},77512:(e,t,n)=>{var r=n(40202);function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(r.default||r).template((function(e,t,r,a,s){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),s=s||{};var o="",l=this.escapeExpression;return o+'<p class="versions-status-message hidden"> <button class="delete-all-btn btn btn-sm btn-danger pull-right">'+l(i(n(76273)).call(t,"Delete All Versions",{hash:{},data:s}))+"</button> "+l(i(n(76273)).call(t,"Monitor conversion progress in {1}Conversion Activity{2}.",'<a class="status-conversion-btn" href="#">',"</a>",{hash:{},data:s}))+' </p> <div class="background-processing-list-region"></div> '}))},61573:(e,t,n)=>{var r=n(40202);function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(r.default||r).template((function(e,t,r,a,s){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),s=s||{};var o,l="",c=this.escapeExpression;return l+='<div class="filter-bar"> ',((o=r.unless.call(t,t&&t.shared,{hash:{},inverse:this.noop,fn:this.program(1,(function(e,t){return""+' <div class="filter-bar-right"> <button class="toggle-advanced-btn btn btn-sm btn-default basic-setting">'+c(i(n(76273)).call(e,"Show Advanced",{hash:{},data:t}))+'</button> <button class="toggle-advanced-btn btn btn-sm btn-default advanced-setting">'+c(i(n(76273)).call(e,"Hide Advanced",{hash:{},data:t}))+"</button> </div> "}),s),data:s}))||0===o)&&(l+=o),l+' </div> <div class="settings-row row"> <div class="pane-region col-sm-12 col-md-12"></div> </div> '}))},40856:(e,t,n)=>{var r=n(40202);function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(r.default||r).template((function(e,t,r,a,s){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),s=s||{};var o,l="",c="function",d=this.escapeExpression,u=this;function p(e,t){var n;return d(typeof(n=null==(n=e&&e.friendlyNameSetting)||!1===n?n:n.value)===c?n.apply(e):n)}function m(e,t){var n;return d(typeof(n=null==(n=e&&e.server)||!1===n?n:n.friendlyName)===c?n.apply(e):n)}return l+='<div class="row"> <div class="col-sm-6 col-sm-offset-3"> <form id="setup-basic-form" class="settings-container"> ',((o=r.if.call(t,t&&t.friendlyNameSetting,{hash:{},inverse:u.noop,fn:u.program(1,(function(e,t){var a,s="";return s+=' <div class="setup-basic-form-group form-group"> <p class="text-muted"> '+d(i(n(76273)).call(e,"Give your server a friendly name to help identify it in Plex apps and on your network.",{hash:{},data:t}))+' </p> <input type="text" id="'+d(typeof(a=null==(a=e&&e.friendlyNameSetting)||!1===a?a:a.id)===c?a.apply(e):a)+'" class="form-control" value="',((a=r.if.call(e,null==(a=e&&e.friendlyNameSetting)||!1===a?a:a.value,{hash:{},inverse:u.program(4,m,t),fn:u.program(2,p,t),data:t}))||0===a)&&(s+=a),s+'" placeholder="'+d(typeof(a=null==(a=e&&e.server)||!1===a?a:a.friendlyName)===c?a.apply(e):a)+'"> </div> '}),s),data:s}))||0===o)&&(l+=o),l+=" ",((o=r.if.call(t,t&&t.publishSetting,{hash:{},inverse:u.noop,fn:u.program(6,(function(e,t){var r;return""+' <div class="setup-basic-form-group form-group"> <div class="publish-checkbox checkbox"> <label for="'+d(typeof(r=null==(r=e&&e.publishSetting)||!1===r?r:r.id)===c?r.apply(e):r)+'"> <input type="checkbox" id="'+d(typeof(r=null==(r=e&&e.publishSetting)||!1===r?r:r.id)===c?r.apply(e):r)+'" checked> '+d(i(n(76273)).call(e,"Allow me to access my media outside my home",{hash:{},data:t}))+' </label> </div> <p class="text-muted"> '+d(i(n(76273)).call(e,"Plex will attempt to automatically configure your network to allow Plex apps outside your home to access Plex Media Server on this computer. Remember this computer will need to be turned on to access your media.",{hash:{},data:t}))+" </p> </div> "}),s),data:s}))||0===o)&&(l+=o),l+' <div class="setup-footer"> <button type="submit" class="submit-btn btn btn-primary btn-loading btn-lg"> <div class="loading loading-sm"></div> <span class="btn-label">'+d(i(n(76273)).call(t,"Next",{hash:{},data:s}))+'</span> </button> <button class="next-btn hidden" data-subset="setupLibrary"></button> </div> </form> </div> </div> <div class="modal-container"></div> '}))},67749:(e,t,n)=>{var r=n(40202);function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(r.default||r).template((function(e,t,r,a,s){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),s=s||{};var o,l="",c="function",d=this.escapeExpression,u=this;function p(e,t){return"checked"}return l+='<div class="row"> <div class="col-sm-6 col-sm-offset-3"> <div class="setup-apps-container"> <img class="setup-apps-image" src="'+d(typeof(o=t&&t.devicesImg)===c?o.apply(t):o)+'"> <a href="https://plex.tv/downloads" target="_blank" class="btn btn-default btn-lg">'+d(i(n(76273)).call(t,"Get Plex Apps",{hash:{},data:s}))+'</a> </div> <p class="text-muted">'+d(i(n(76273)).call(t,"All set! Your Plex Media Server is working hard to find your media and make it beautiful. Grab the Plex app for all your favorite devices to get the most out of Plex and start streaming everywhere!",{hash:{},data:s}))+'</p> <form id="setup-complete-form" class="settings-container"> ',((o=r.if.call(t,t&&t.collectUsageDataSetting,{hash:{},inverse:u.noop,fn:u.program(1,(function(e,t){var a,s="";return s+=' <div class="checkbox"> <label for="'+d(typeof(a=null==(a=e&&e.collectUsageDataSetting)||!1===a?a:a.id)===c?a.apply(e):a)+'"> <input type="checkbox" id="'+d(typeof(a=null==(a=e&&e.collectUsageDataSetting)||!1===a?a:a.id)===c?a.apply(e):a)+'" name="'+d(typeof(a=null==(a=e&&e.collectUsageDataSetting)||!1===a?a:a.id)===c?a.apply(e):a)+'" value="1" ',((a=r.if.call(e,null==(a=e&&e.collectUsageDataSetting)||!1===a?a:a.value,{hash:{},inverse:u.noop,fn:u.program(2,p,t),data:t}))||0===a)&&(s+=a),s+"> "+d(i(n(76273)).call(e,"Send anonymous usage data to Plex",{hash:{},data:t}))+' </label> </div> <p class="setup-complete-help text-muted"> '+d(i(n(76273)).call(e,"Help us improve everyone's Plex experience by sending anonymous usage data.",{hash:{},data:t}))+" </p> "}),s),data:s}))||0===o)&&(l+=o),l+' <div class="setup-footer setup-done-footer"> <button class="next-btn btn btn-default btn-lg" data-subset="setupLibrary">'+d(i(n(76273)).call(t,"Back",{hash:{},data:s}))+'</button> <button type="submit" class="submit-btn btn btn-primary btn-loading btn-lg active"> <div class="loading loading-sm"></div> <span class="btn-label">'+d(i(n(76273)).call(t,"Done",{hash:{},data:s}))+'</span> </button> <button class="done-btn btn btn-primary btn-lg hidden"></button> </div> </form> </div> </div> <div class="modal-container"></div> '}))},32747:(e,t,n)=>{var r=n(40202);function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(r.default||r).template((function(e,t,r,a,s){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),s=s||{};var o,l="",c=this.escapeExpression;return l+='<div class="row row-padded"> <div class="col-md-8 col-md-offset-2"> ',((o=r.if.call(t,t&&t.shared,{hash:{},inverse:this.program(3,(function(e,t){return""+" <h1>"+c(i(n(76273)).call(e,"A problem has been detected with a core component of Plex Media Server.",{hash:{},data:t}))+'</h1> <h2 class="text-muted">'+c(i(n(76273)).call(e,"Please visit the {1}forums{2} and provide your logs, as described {3}here{4}.",'<a href="https://forums.plex.tv" target="_blank">',"</a>",'<a href="http://support.plex.tv/hc/en-us/articles/200250417-Log-File-Locations/?utm_source=Plex%20Apps&utm_medium=Plex%20Web&utm_campaign=Plex%20Apps" target="_blank">',"</a>",{hash:{},data:t}))+"</h2> "}),s),fn:this.program(1,(function(e,t){return""+" <h1>"+c(i(n(76273)).call(e,"Setup is not allowed for shared servers.",{hash:{},data:t}))+"</h1> "}),s),data:s}))||0===o)&&(l+=o),l+" </div> </div> "}))},37648:(e,t,n)=>{var r=n(40202);function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(r.default||r).template((function(e,t,r,a,s){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),s=s||{};var o,l="",c=this.escapeExpression,d="function";return l+'<h2 class="setup-intro-header">'+c(i(n(76273)).call(t,"How Plex Works",{hash:{},data:s}))+"</h2> <h4>"+c(i(n(76273)).call(t,"Plex Media Server runs on the computer where you keep your media",{hash:{},data:s}))+'</h4> <img class="setup-intro-img setup-intro-computer-img" src='+c(typeof(o=t&&t.computerImg)===d?o.apply(t):o)+"> <h4>"+c(i(n(76273)).call(t,"Plex scans your media, automatically organizes it, and makes it beautiful",{hash:{},data:s}))+'</h4> <img class="setup-intro-img setup-intro-media-img" src='+c(typeof(o=t&&t.mediaImg)===d?o.apply(t):o)+"> <h4>"+c(i(n(76273)).call(t,"Play your media on any screen with your favorite Plex app",{hash:{},data:s}))+'</h4> <img class="setup-intro-img setup-intro-play-img" src='+c(typeof(o=t&&t.playImg)===d?o.apply(t):o)+'> <p> <button class="next-btn btn btn-primary btn-lg" data-subset="setupLoading">'+c(i(n(76273)).call(t,"Got it!",{hash:{},data:s}))+"</button> </p> "}))},56167:(e,t,n)=>{var r=n(40202);function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(r.default||r).template((function(e,t,r,a,s){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),s=s||{};var o="",l=this.escapeExpression;return o+'<div class="row"> <div class="col-sm-6 col-sm-offset-3"> <h4>'+l(i(n(76273)).call(t,"Organize Your Media",{hash:{},data:s}))+'</h4> <p class="text-muted">'+l(i(n(76273)).call(t,"Plex organizes your media into libraries. You can add as many libraries as you want, and you can have multiple libraries with the same type.",{hash:{},data:s}))+'</p> <p class="setup-add-section-container"> <button class="add-section-btn btn btn-default">'+l(i(n(76273)).call(t,"Add Library",{hash:{},data:s}))+'</button> </p> <div class="setup-section-list-container"></div> <div class="setup-footer"> <button class="next-btn btn btn-default btn-lg" data-subset="setupBasic">'+l(i(n(76273)).call(t,"Back",{hash:{},data:s}))+'</button> <button class="next-btn btn btn-primary btn-lg" data-subset="setupComplete">'+l(i(n(76273)).call(t,"Next",{hash:{},data:s}))+"</button> </div> </div> </div> "}))},36504:(e,t,n)=>{var r=n(40202);e.exports=(r.default||r).template((function(e,t,r,i,a){var s;return this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),a=a||{},""+'<div class="loading loading-inline"></div> <p class="loading-title">'+(0,this.escapeExpression)((s=n(76273),s&&(s.__esModule?s.default:s)).call(t,"Please wait a moment while Plex starts.",{hash:{},data:a}))+"</p> "}))},55978:(e,t,n)=>{var r=n(40202);function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(r.default||r).template((function(e,t,r,a,s){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),s=s||{};var o="",l=this.escapeExpression;return o+'<div class="setup-header row hidden"> <div class="col-sm-6 col-sm-offset-3"> <div class="sign-in-logo text-center"> <i class="plex-image plex-logo"></i> </div> <h2>'+l(i(n(76273)).call(t,"Server Setup",{hash:{},data:s}))+'</h2> <div class="setup-progress"> <div class="basic-segment setup-progress-segment"> <a class="segment-btn btn-gray" data-subset="setupBasic" href="#">'+l(i(n(76273)).call(t,"Name",{hash:{},data:s}))+'</a> </div> <div class="library-segment setup-progress-segment"> <a class="segment-btn btn-gray" data-subset="setupLibrary" href="#">'+l(i(n(76273)).call(t,"Media Library",{hash:{},data:s}))+'</a> </div> <div class="complete-segment setup-progress-segment"> <a class="segment-btn btn-gray" data-subset="setupComplete" href="#">'+l(i(n(76273)).call(t,"Finish",{hash:{},data:s}))+'</a> </div> </div> </div> </div> <div class="setup-container"></div> '}))},49682:(e,t,n)=>{var r=n(40202);e.exports=(r.default||r).template((function(e,t,r,i,a){var s;return this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),a=a||{},""+"<h2>"+(0,this.escapeExpression)((s=n(76273),s&&(s.__esModule?s.default:s)).call(t,"Announcements",{hash:{},data:a}))+'</h2> <div class="announcements-container"></div> '}))},17845:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r={plexIcon:"PlexIcon-plexIcon-2sd7AW"}},32080:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r={modalFooter:"ModalFooter-modalFooter-1Q0cxs",button:"ModalFooter-button-3LN3ry Button-button-38SEbM Link-link-CM9nxg",splitButton:"ModalFooter-splitButton-3lSHF4 ModalFooter-button-3LN3ry Button-button-38SEbM Link-link-CM9nxg"}},716:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r={page:"Page-page-8FUkWi"}},58967:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r={innerEmptyPage:"InnerEmptyPage-innerEmptyPage-4wvQ0- EmptyPage-emptyPage-DjF6N1",innerEmptyPageContent:"InnerEmptyPage-innerEmptyPageContent-2cbr3y EmptyPage-content-3lx94H"}},38170:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(45697),i=n.n(r),a=n(67294),s=n(17845);function o(e){var t=e["aria-label"],n=e.className,r=e.style,i={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-add-560"};i["aria-hidden"]=!t,i.style=r,i.className=s.Z.plexIcon+(n?" "+n:"");var o=[a.createElement.apply(a,["path",{d:"m320 320l0 200-80 0 0-200-200 0 0-80 200 0 0-200 80 0 0 200 200 0 0 80-200 0"}].concat([]))];return t&&o.unshift(a.createElement("title",null,t)),a.createElement.apply(a,["svg",i].concat(o))}o.propTypes={"aria-label":i().string,className:i().string,style:i().object};const l=o},41927:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(45697),i=n.n(r),a=n(67294),s=n(17845);function o(e){var t=e["aria-label"],n=e.className,r=e.style,i={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-artist-560"};i["aria-hidden"]=!t,i.style=r,i.className=s.Z.plexIcon+(n?" "+n:"");var o=[a.createElement.apply(a,["path",{d:"m250 306.694l-157.846 67.947-40-69.282 258.305-192.603 77.647 134.488-78.106 33.622 0 279.134-60 0 0-253.306m88.09-226.08c7.93-10.767 18.16-20.107 30.474-27.217 47.797-27.595 109.007-11.194 136.603 36.603 27.595 47.797 11.194 109.007-36.603 136.603-12.314 7.109-25.518 11.298-38.808 12.783l-91.666-158.772"}].concat([]))];return t&&o.unshift(a.createElement("title",null,t)),a.createElement.apply(a,["svg",i].concat(o))}o.propTypes={"aria-label":i().string,className:i().string,style:i().object};const l=o},32448:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(45697),i=n.n(r),a=n(67294),s=n(17845);function o(e){var t=e["aria-label"],n=e.className,r=e.style,i={viewBox:"0 0 129 100",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-check"};i["aria-hidden"]=!t,i.style=r,i.className=s.Z.plexIcon+(n?" "+n:"");var o=[a.createElement.apply(a,["path",{d:"m111.162 0l17.838 17.227-79.928 82.773-49.072-52.714 18.136-16.912 31.292 33.558 61.734-63.932"}].concat([]))];return t&&o.unshift(a.createElement("title",null,t)),a.createElement.apply(a,["svg",i].concat(o))}o.propTypes={"aria-label":i().string,className:i().string,style:i().object};const l=o},5450:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(45697),i=n.n(r),a=n(67294),s=n(17845);function o(e){var t=e["aria-label"],n=e.className,r=e.style,i={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-clips-560"};i["aria-hidden"]=!t,i.style=r,i.className=s.Z.plexIcon+(n?" "+n:"");var o=[a.createElement.apply(a,["path",{d:"m360 520l-360 0 0-400 360 0 0 160 200-120 0 320-200-120 0 160"}].concat([]))];return t&&o.unshift(a.createElement("title",null,t)),a.createElement.apply(a,["svg",i].concat(o))}o.propTypes={"aria-label":i().string,className:i().string,style:i().object};const l=o},28670:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(45697),i=n.n(r),a=n(67294),s=n(17845);function o(e){var t=e["aria-label"],n=e.className,r=e.style,i={viewBox:"0 0 1040 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-dvr-series-560"};i["aria-hidden"]=!t,i.style=r,i.className=s.Z.plexIcon+(n?" "+n:"");var o=[a.createElement.apply(a,["path",{d:"m692.44 113.13c20.864-8.465 43.67-13.13 67.56-13.13 99.35 0 180 80.66 180 180 0 99.35-80.65 180-180 180-23.887 0-46.693-4.663-67.56-13.13 8.427-8.706 16.197-18.05 23.22-27.921 7.981-11.218 14.995-23.12 20.937-35.54 5.493-11.483 10.07-23.405 13.662-35.616 3.45-11.718 5.996-23.7 7.615-35.808 3.366-25.18 2.733-50.894-1.896-75.872-2.033-10.968-4.835-21.794-8.381-32.37-3.723-11.11-8.266-21.937-13.577-32.378-6.233-12.253-13.523-23.967-21.757-34.975-6.107-8.164-12.733-15.939-19.823-23.264m-412.44-13.13c99.35 0 180 80.66 180 180 0 99.35-80.65 180-180 180-99.34 0-180-80.65-180-180 0-99.34 80.66-180 180-180m172.44 13.13c20.864-8.465 43.67-13.13 67.56-13.13 99.35 0 180 80.66 180 180 0 99.35-80.65 180-180 180-23.887 0-46.693-4.663-67.56-13.13 8.26-8.534 15.889-17.677 22.802-27.334 8.154-11.39 15.31-23.492 21.355-36.13 5.494-11.482 10.07-23.403 13.662-35.614 3.45-11.718 5.997-23.701 7.615-35.809 3.366-25.18 2.732-50.893-1.896-75.871-2.033-10.968-4.835-21.793-8.38-32.369-3.724-11.11-8.267-21.937-13.578-32.379-6.233-12.253-13.523-23.967-21.757-34.975-6.107-8.164-12.733-15.939-19.823-23.264"}].concat([]))];return t&&o.unshift(a.createElement("title",null,t)),a.createElement.apply(a,["svg",i].concat(o))}o.propTypes={"aria-label":i().string,className:i().string,style:i().object};const l=o},51343:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(45697),i=n.n(r),a=n(67294),s=n(17845);function o(e){var t=e["aria-label"],n=e.className,r=e.style,i={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-dvr-single-560"};i["aria-hidden"]=!t,i.style=r,i.className=s.Z.plexIcon+(n?" "+n:"");var o=[a.createElement.apply(a,["path",{d:"m280 100c99.35 0 180 80.66 180 180 0 99.35-80.65 180-180 180-99.34 0-180-80.65-180-180 0-99.34 80.66-180 180-180"}].concat([]))];return t&&o.unshift(a.createElement("title",null,t)),a.createElement.apply(a,["svg",i].concat(o))}o.propTypes={"aria-label":i().string,className:i().string,style:i().object};const l=o},82223:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(45697),i=n.n(r),a=n(67294),s=n(17845);function o(e){var t=e["aria-label"],n=e.className,r=e.style,i={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-folder-560"};i["aria-hidden"]=!t,i.style=r,i.className=s.Z.plexIcon+(n?" "+n:"");var o=[a.createElement.apply(a,["path",{d:"m80 160l480 0-80 360-480 0 80-360m400-80l-10 39.838c-127.207-.297-430 .162-430 .162l-40 200 0-260c0-11.038 8.961-20 20-20l200 0c11.039 0 20 8.962 20 20l0 20 240 0"}].concat([]))];return t&&o.unshift(a.createElement("title",null,t)),a.createElement.apply(a,["svg",i].concat(o))}o.propTypes={"aria-label":i().string,className:i().string,style:i().object};const l=o},80080:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(45697),i=n.n(r),a=n(67294),s=n(17845);function o(e){var t=e["aria-label"],n=e.className,r=e.style,i={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-movies-560"};i["aria-hidden"]=!t,i.style=r,i.className=s.Z.plexIcon+(n?" "+n:"");var o=[a.createElement.apply(a,["path",{d:"m0 560l560 0 0-520-560 0 0 520m120-40l-60 0 0-40 60 0 0 40m380 0l-60 0 0-40 60 0 0 40m-100 0l-240 0 0-200 240 0 0 200m100-80l-60 0 0-40 60 0 0 40m-380 0l-60 0 0-40 60 0 0 40m0-80l-60 0 0-40 60 0 0 40m380 0l-60 0 0-40 60 0 0 40m-100-80l-240 0 0-200 240 0 0 200m100 0l-60 0 0-40 60 0 0 40m-380 0l-60 0 0-40 60 0 0 40m0-80l-60 0 0-40 60 0 0 40m380 0l-60 0 0-40 60 0 0 40m0-80l-60 0 0-40 60 0 0 40m-380 0l-60 0 0-40 60 0 0 40"}].concat([]))];return t&&o.unshift(a.createElement("title",null,t)),a.createElement.apply(a,["svg",i].concat(o))}o.propTypes={"aria-label":i().string,className:i().string,style:i().object};const l=o},47323:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(45697),i=n.n(r),a=n(67294),s=n(17845);function o(e){var t=e["aria-label"],n=e.className,r=e.style,i={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-music-560"};i["aria-hidden"]=!t,i.style=r,i.className=s.Z.plexIcon+(n?" "+n:"");var o=[a.createElement.apply(a,["path",{d:"m199.855 473.521c.096 1.057.145 2.131.145 3.221 0 33.115-44.808 68.962-100 80-55.192 11.039-100-6.885-100-40 0-33.115 44.808-68.961 100-80 22.504-4.501 43.282-4.186 60 .01l0-356.752 400-80 0 392c0 .52-.05 1.028-.145 1.521.096 1.057.145 2.131.145 3.221 0 33.115-44.808 68.962-100 80-55.192 11.039-100-6.885-100-40 0-33.115 44.808-68.961 100-80 22.504-4.501 43.282-4.186 60 .01l0-232.852-320 64.2 0 283.9c0 .52-.05 1.028-.145 1.521"}].concat([]))];return t&&o.unshift(a.createElement("title",null,t)),a.createElement.apply(a,["svg",i].concat(o))}o.propTypes={"aria-label":i().string,className:i().string,style:i().object};const l=o},61309:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(45697),i=n.n(r),a=n(67294),s=n(17845);function o(e){var t=e["aria-label"],n=e.className,r=e.style,i={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-photos-560"};i["aria-hidden"]=!t,i.style=r,i.className=s.Z.plexIcon+(n?" "+n:"");var o=[a.createElement.apply(a,["path",{d:"m440 120l120 0 0 400-560 0 0-400 120 0 0-80 320 0 0 80m-320 200c0 88.306 71.694 160 160 160 88.306 0 160-71.694 160-160 0-88.306-71.694-160-160-160-88.306 0-160 71.694-160 160m80 0c0 44.153 35.847 80 80 80 44.153 0 80-35.847 80-80 0-44.153-35.847-80-80-80-44.153 0-80 35.847-80 80"}].concat([]))];return t&&o.unshift(a.createElement("title",null,t)),a.createElement.apply(a,["svg",i].concat(o))}o.propTypes={"aria-label":i().string,className:i().string,style:i().object};const l=o},7947:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(45697),i=n.n(r),a=n(67294),s=n(17845);function o(e){var t=e["aria-label"],n=e.className,r=e.style,i={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",id:"plex-icon-radio-560"};i["aria-hidden"]=!t,i.style=r,i.className=s.Z.plexIcon+(n?" "+n:"");var o=[a.createElement.apply(a,["path",{d:"M67.585 105.999c13.653-12.146 29.63-2.91 34.582 2.12 7.857 7.98 7.27 15.873 5.452 19.688-1.351 2.836-3.028 5.453-6.664 9.996-17.568 20.597-29.986 42.405-39.073 67.243-14.538 39.982-16.356 85.112-5.451 126.912 8.48 30.895 23.321 59.064 44.222 83.903 4.846 5.45 6.057 7.268 7.269 11.205.606 2.122.606 8.179-.303 10.905-1.817 5.755-6.058 10.299-12.116 12.418-1.515.606-17.907 5.469-28.827-3.028-1.818-1.211-8.482-8.785-13.327-15.145-28.17-36.044-46.04-79.056-51.493-124.792-2.422-19.082-2.422-40.588-.302-59.671 5.755-49.371 25.745-95.714 57.852-133.575 4.847-5.756 5.8-6.063 8.179-8.179zm80.238 77.238c8.986-10.49 24.838-16.15 37.2-5.61 12.362 10.538 8.589 23.784 3.439 30.447-13.63 16.356-21.505 34.228-24.534 55.43-.605 4.846-.908 16.356-.303 21.808 1.817 23.323 10.602 43.92 25.746 61.791 3.938 4.544 5.754 7.875 6.058 13.024.605 8.785-5.474 16.513-13.933 19.386-17.87 6.067-29.13-3.332-35.49-10.904-25.747-32.107-36.652-72.998-30.593-114.192 3.938-26.049 15.03-50.896 32.41-71.18zm128.276 149.264c-14.384-.7-26.663-6.3-36.837-16.1-10.876-11.2-16.138-24.15-16.138-39.55 0-15.398 5.262-28.35 16.138-39.549 11.225-10.85 24.207-16.1 39.643-16.1 15.437 0 28.416 5.25 39.644 16.1 10.874 11.199 16.137 24.15 16.137 39.55 0 15.4-5.263 28.349-16.137 39.55-10.526 10.15-22.804 15.75-37.54 16.1-1.753.349-4.209.349-4.91 0zm214.318-226.503c2.379 2.117 3.332 2.423 8.179 8.178 32.107 37.862 52.097 84.205 57.852 133.576 2.12 19.084 2.12 40.588-.302 59.671-5.453 45.736-23.324 88.748-51.492 124.792-4.846 6.36-11.51 13.933-13.328 15.145-10.92 8.496-27.312 3.635-28.827 3.029-6.058-2.12-10.299-6.664-12.116-12.419-.909-2.726-.909-8.785-.303-10.904 1.212-3.938 2.423-5.755 7.269-11.207 20.9-24.837 35.742-53.007 44.222-83.901 10.905-41.8 9.087-86.932-5.45-126.913-9.088-24.837-21.506-46.647-39.075-67.243-3.635-4.543-5.312-7.16-6.663-9.996-1.817-3.815-2.405-11.709 5.452-19.688 4.952-5.028 20.928-14.266 34.582-2.12zm-80.431 77.238c17.379 20.284 28.473 45.131 32.41 71.18 6.058 41.194-4.846 82.084-30.592 114.191-6.36 7.573-17.62 16.972-35.49 10.905-8.46-2.873-14.54-10.601-13.934-19.386.303-5.15 2.12-8.481 6.057-13.024 15.145-17.87 23.93-38.468 25.746-61.79.606-5.453.303-16.963-.302-21.809-3.028-21.202-10.905-39.073-24.534-55.43-5.15-6.664-8.923-19.909 3.438-30.447 12.363-10.54 28.214-4.88 37.2 5.61z"}].concat([]))];return t&&o.unshift(a.createElement("title",null,t)),a.createElement.apply(a,["svg",i].concat(o))}o.propTypes={"aria-label":i().string,className:i().string,style:i().object};const l=o},99131:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(45697),i=n.n(r),a=n(67294),s=n(17845);function o(e){var t=e["aria-label"],n=e.className,r=e.style,i={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-shows-560"};i["aria-hidden"]=!t,i.style=r,i.className=s.Z.plexIcon+(n?" "+n:"");var o=[a.createElement.apply(a,["path",{d:"m440 520l0 40-320 0 0-40 320 0m120-40l-560 0 0-440 560 0 0 440m-60-380l-440 0 0 280 440 0 0-280"}].concat([]))];return t&&o.unshift(a.createElement("title",null,t)),a.createElement.apply(a,["svg",i].concat(o))}o.propTypes={"aria-label":i().string,className:i().string,style:i().object};const l=o},91608:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(45697),i=n.n(r),a=n(67294),s=n(17845);function o(e){var t=e["aria-label"],n=e.className,r=e.style,i={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",id:"plex-icon-watch-together"};i["aria-hidden"]=!t,i.style=r,i.className=s.Z.plexIcon+(n?" "+n:"");var o=[a.createElement.apply(a,["path",{clipRule:"evenodd",d:"M32 21c3.32 0 5.98-2.68 5.98-6S35.32 9 32 9c-3.32 0-6 2.68-6 6s2.68 6 6 6zm-15.999 0c3.32 0 5.979-2.68 5.979-6s-2.659-6-5.979-6c-3.32 0-6 2.68-6 6s2.68 6 6 6zm0 4C11.341 25 2 27.73 2 33.167V39h28v-5.833C30 27.73 20.66 25 16.001 25zM32 25c-.58 0-1.24.047-1.94.117 2.32 1.96 3.94 4.596 3.94 8.05V39h12v-5.833C46 27.73 36.66 25 32 25z"}].concat([]))];return t&&o.unshift(a.createElement("title",null,t)),a.createElement.apply(a,["svg",i].concat(o))}o.propTypes={"aria-label":i().string,className:i().string,style:i().object};const l=o},39611:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(45697),i=n.n(r),a=n(67294),s=n(17845);function o(e){var t=e["aria-label"],n=e.className,r=e.style,i={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-alert-560"};i["aria-hidden"]=!t,i.style=r,i.className=s.Z.plexIcon+(n?" "+n:"");var o=[a.createElement.apply(a,["path",{d:"m280 0l-280 520 560 0-280-520m0 400c22.077 0 40 17.923 40 40 0 22.077-17.923 40-40 40-22.077 0-40-17.923-40-40 0-22.077 17.923-40 40-40m-30-40l0-220 60 0 0 220-60 0"}].concat([]))];return t&&o.unshift(a.createElement("title",null,t)),a.createElement.apply(a,["svg",i].concat(o))}o.propTypes={"aria-label":i().string,className:i().string,style:i().object};const l=o},44352:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(45697),i=n.n(r),a=n(67294),s=n(17845);function o(e){var t=e["aria-label"],n=e.className,r=e.style,i={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-alert-round-560"};i["aria-hidden"]=!t,i.style=r,i.className=s.Z.plexIcon+(n?" "+n:"");var o=[a.createElement.apply(a,["path",{d:"m280 0c154.536 0 280 125.464 280 280 0 154.536-125.464 280-280 280-154.536 0-280-125.464-280-280 0-154.536 125.464-280 280-280m-40 420c0 22.077 17.923 40 40 40 22.077 0 40-17.923 40-40 0-22.077-17.923-40-40-40-22.077 0-40 17.923-40 40m60-320l-40 0c-11.038 0-20 8.962-20 20l0 200c0 11.038 8.962 20 20 20l40 0c11.038 0 20-8.962 20-20l0-200c0-11.038-8.962-20-20-20"}].concat([]))];return t&&o.unshift(a.createElement("title",null,t)),a.createElement.apply(a,["svg",i].concat(o))}o.propTypes={"aria-label":i().string,className:i().string,style:i().object};const l=o},11969:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(45697),i=n.n(r),a=n(67294),s=n(17845);function o(e){var t=e["aria-label"],n=e.className,r=e.style,i={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-analyzing-560"};i["aria-hidden"]=!t,i.style=r,i.className=s.Z.plexIcon+(n?" "+n:"");var o=[a.createElement.apply(a,["path",{d:"m336 364l15.027 67.524c.858 3.854 2.685 7.18 5.477 9.972 2.792 2.792 6.118 4.619 9.972 5.477l67.524 15.027-67.524 15.027c-3.854.858-7.18 2.685-9.972 5.477-2.792 2.792-4.619 6.118-5.477 9.972l-15.027 67.524-15.027-67.524c-.858-3.854-2.685-7.18-5.477-9.972-2.792-2.792-6.118-4.619-9.972-5.477l-67.524-15.027 67.524-15.027c3.854-.858 7.18-2.685 9.972-5.477 2.792-2.792 4.619-6.118 5.477-9.972l15.027-67.524m-315 140l343-343 35 35-343 343-35-35m441-266l15.027 67.523c.858 3.855 2.685 7.181 5.477 9.973 2.792 2.792 6.118 4.619 9.972 5.476l67.524 15.028-67.524 15.027c-3.854.858-7.18 2.685-9.972 5.477-2.792 2.792-4.619 6.118-5.477 9.972l-15.027 67.524-15.027-67.524c-.858-3.854-2.685-7.18-5.477-9.972-2.792-2.792-6.118-4.619-9.972-5.477l-67.524-15.027 67.524-15.028c3.854-.857 7.18-2.684 9.972-5.476 2.792-2.792 4.619-6.118 5.477-9.973l15.027-67.523m-322-238l21.468 96.462c1.2 5.396 3.914 10.338 7.823 14.247 3.909 3.909 8.851 6.623 14.247 7.823l96.462 21.468-96.462 21.468c-5.396 1.2-10.338 3.914-14.247 7.823-3.909 3.909-6.623 8.851-7.823 14.247l-21.468 96.462-21.468-96.462c-1.2-5.396-3.914-10.338-7.823-14.247-3.909-3.909-8.851-6.623-14.247-7.823l-96.462-21.468 96.462-21.468c5.396-1.2 10.338-3.914 14.247-7.823 3.909-3.909 6.623-8.851 7.823-14.247l21.468-96.462m252 133l35 35 112-112-35-35-112 112"}].concat([]))];return t&&o.unshift(a.createElement("title",null,t)),a.createElement.apply(a,["svg",i].concat(o))}o.propTypes={"aria-label":i().string,className:i().string,style:i().object};const l=o},52410:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(45697),i=n.n(r),a=n(67294),s=n(17845);function o(e){var t=e["aria-label"],n=e.className,r=e.style,i={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-edit-560"};i["aria-hidden"]=!t,i.style=r,i.className=s.Z.plexIcon+(n?" "+n:"");var o=[a.createElement.apply(a,["path",{d:"m0 560l40-120 80 80-120 40m480-560l-400 400 80 80 400-400-80-80"}].concat([]))];return t&&o.unshift(a.createElement("title",null,t)),a.createElement.apply(a,["svg",i].concat(o))}o.propTypes={"aria-label":i().string,className:i().string,style:i().object};const l=o},54183:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(45697),i=n.n(r),a=n(67294),s=n(17845);function o(e){var t=e["aria-label"],n=e.className,r=e.style,i={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-favorite-empty-560"};i["aria-hidden"]=!t,i.style=r,i.className=s.Z.plexIcon+(n?" "+n:"");var o=[a.createElement.apply(a,["path",{d:"M280.409154,516 L40.4101704,278.317013 C-13.4700568,224.772577 -13.4700568,137.681549 40.4101704,84.1371127 C94.2619347,30.6209624 181.927598,30.6209624 235.807825,84.1371127 L280.010674,128.064481 L324.18506,84.1371127 C378.065287,30.6209624 465.73095,30.6209624 519.611177,84.1371127 C573.462941,137.681549 573.462941,224.772577 519.611177,278.317013 L280.409154,516 Z M279.611348,451.652619 L479.792832,260.692492 C518.735723,223.398694 525.522119,157.229004 486.579229,119.960019 C448.828204,83.7828011 390.389111,76.569777 338.530931,131.136016 L280,187.188371 L221.443159,131.136016 C165.95959,82.5852498 112.168614,83.7828011 74.4175887,119.960019 C35.4746985,157.229004 41.2642774,223.398694 80.2071677,260.692492 L279.611348,451.652619 Z"}].concat([]))];return t&&o.unshift(a.createElement("title",null,t)),a.createElement.apply(a,["svg",i].concat(o))}o.propTypes={"aria-label":i().string,className:i().string,style:i().object};const l=o},53191:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(45697),i=n.n(r),a=n(67294),s=n(17845);function o(e){var t=e["aria-label"],n=e.className,r=e.style,i={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-favorite-full-560"};i["aria-hidden"]=!t,i.style=r,i.className=s.Z.plexIcon+(n?" "+n:"");var o=[a.createElement.apply(a,["path",{d:"M280.409154,516 L40.4101704,278.317013 C-13.4700568,224.772577 -13.4700568,137.681549 40.4101704,84.1371127 C94.2619347,30.6209624 181.927598,30.6209624 235.807825,84.1371127 L280.010674,128.064481 L324.18506,84.1371127 C378.065287,30.6209624 465.73095,30.6209624 519.611177,84.1371127 C573.462941,137.681549 573.462941,224.772577 519.611177,278.317013 L280.409154,516 Z"}].concat([]))];return t&&o.unshift(a.createElement("title",null,t)),a.createElement.apply(a,["svg",i].concat(o))}o.propTypes={"aria-label":i().string,className:i().string,style:i().object};const l=o},85669:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(45697),i=n.n(r),a=n(67294),s=n(17845);function o(e){var t=e["aria-label"],n=e.className,r=e.style,i={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",id:"plex-icon-games-24px"};i["aria-hidden"]=!t,i.style=r,i.className=s.Z.plexIcon+(n?" "+n:"");var o=[a.createElement.apply(a,["path",{d:"M15 7.5V2H9v5.5l3 3 3-3zM7.5 9H2v6h5.5l3-3-3-3zM9 16.5V22h6v-5.5l-3-3-3 3zM16.5 9l-3 3 3 3H22V9h-5.5z"}].concat([]))];return t&&o.unshift(a.createElement("title",null,t)),a.createElement.apply(a,["svg",i].concat(o))}o.propTypes={"aria-label":i().string,className:i().string,style:i().object};const l=o},46391:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(45697),i=n.n(r),a=n(67294),s=n(17845);function o(e){var t=e["aria-label"],n=e.className,r=e.style,i={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-more-vertical-560"};i["aria-hidden"]=!t,i.style=r,i.className=s.Z.plexIcon+(n?" "+n:"");var o=[a.createElement.apply(a,["path",{d:"M350 280c0 38.634-31.366 70-70 70s-70-31.366-70-70 31.366-70 70-70 70 31.366 70 70m0-210c0 38.634-31.366 70-70 70s-70-31.366-70-70 31.366-70 70-70 70 31.366 70 70m0 420c0 38.634-31.366 70-70 70s-70-31.366-70-70 31.366-70 70-70 70 31.366 70 70"}].concat([]))];return t&&o.unshift(a.createElement("title",null,t)),a.createElement.apply(a,["svg",i].concat(o))}o.propTypes={"aria-label":i().string,className:i().string,style:i().object};const l=o},34272:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(45697),i=n.n(r),a=n(67294),s=n(17845);function o(e){var t=e["aria-label"],n=e.className,r=e.style,i={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-reload-560"};i["aria-hidden"]=!t,i.style=r,i.className=s.Z.plexIcon+(n?" "+n:"");var o=[a.createElement.apply(a,["path",{d:"m280 560c-1.807-.003-3.614-.017-5.421-.052-3.292-.062-6.584-.182-9.873-.359-9.731-.525-19.435-1.554-29.059-3.089-11.735-1.871-23.35-4.493-34.75-7.849-11.774-3.466-23.317-7.714-34.53-12.705-13.924-6.197-27.338-13.54-40.067-21.922-13.116-8.636-25.504-18.374-36.998-29.074-11.686-10.88-22.446-22.753-32.124-35.451-9.55-12.53-18.044-25.862-25.357-39.816-6.195-11.822-11.541-24.088-15.978-36.676-4.407-12.5-7.916-25.316-10.495-38.317-3.569-17.998-5.348-36.343-5.348-54.69 0-12.5.823-25 2.48-37.39 1.885-14.104 4.851-28.063 8.869-41.713 4.106-13.949 9.311-27.574 15.547-40.711 7.129-15.019 15.603-29.397 25.281-42.915 9.786-13.67 20.8-26.46 32.864-38.17 12.674-12.302 26.506-23.411 41.259-33.125 14.39-9.476 29.653-17.622 45.541-24.289 17.483-7.337 35.716-12.877 54.325-16.507 17.427-3.4 35.175-5.122 52.929-5.179 17.775-.056 35.554 1.556 53.023 4.85 18.646 3.516 36.926 8.946 54.466 16.181 15.934 6.572 31.253 14.628 45.705 24.02 14.578 9.474 28.271 20.305 40.854 32.302 1.622 1.546 3.224 3.111 4.808 4.695l82.049-82.049 0 220-220 0 81.382-81.382c-.709-.71-1.423-1.413-2.142-2.112-9.074-8.807-18.975-16.76-29.536-23.715-10.101-6.651-20.804-12.386-31.942-17.1-12.43-5.261-25.396-9.245-38.635-11.871-12.45-2.469-25.133-3.735-37.825-3.816-12.729-.08-25.466 1.027-37.984 3.347-13.29 2.463-26.324 6.29-38.836 11.406-11.386 4.656-22.336 10.374-32.671 17.047-10.456 6.75-20.28 14.475-29.313 23.036-8.883 8.419-17 17.646-24.213 27.534-6.997 9.59-13.143 19.801-18.331 30.479-4.523 9.309-8.318 18.972-11.333 28.873-2.889 9.484-5.061 19.185-6.498 28.995-1.42 9.691-2.123 19.485-2.123 29.279 0 13.333 1.307 26.665 3.942 39.736 1.824 9.049 4.281 17.969 7.35 26.674 3.163 8.971 6.973 17.713 11.389 26.139 5.226 9.973 11.299 19.501 18.124 28.456 6.932 9.096 14.639 17.599 23.009 25.392 7.933 7.385 16.461 14.131 25.477 20.146 8.881 5.924 18.236 11.138 27.949 15.569 7.946 3.624 16.131 6.723 24.485 9.267 8.087 2.463 16.331 4.405 24.666 5.815 6.853 1.159 13.767 1.958 20.704 2.398 2.353.149 4.708.257 7.065.325 1.296.037 2.592.059 3.889.074.65.005 1.301.008 1.951.009l.259 79.999-.259.001"}].concat([]))];return t&&o.unshift(a.createElement("title",null,t)),a.createElement.apply(a,["svg",i].concat(o))}o.propTypes={"aria-label":i().string,className:i().string,style:i().object};const l=o},53863:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(45697),i=n.n(r),a=n(67294),s=n(17845);function o(e){var t=e["aria-label"],n=e.className,r=e.style,i={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-remove-560"};i["aria-hidden"]=!t,i.style=r,i.className=s.Z.plexIcon+(n?" "+n:"");var o=[a.createElement.apply(a,["path",{d:"m120 70l-50 50 160 160-160 160 50 50 160-160 160 160 50-50-160-160 160-160-50-50-160 160-160-160"}].concat([]))];return t&&o.unshift(a.createElement("title",null,t)),a.createElement.apply(a,["svg",i].concat(o))}o.propTypes={"aria-label":i().string,className:i().string,style:i().object};const l=o},39869:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(45697),i=n.n(r),a=n(67294),s=n(17845);function o(e){var t=e["aria-label"],n=e.className,r=e.style,i={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-search-560"};i["aria-hidden"]=!t,i.style=r,i.className=s.Z.plexIcon+(n?" "+n:"");var o=[a.createElement.apply(a,["path",{d:"M351.883,407.883C315.613,433.168 271.525,448 224,448C100.371,448 0,347.629 0,224C0,100.371 100.371,0 224,0C347.629,0 448,100.371 448,224C448,271.525 433.168,315.613 407.883,351.883L560,504L504,560L351.883,407.883ZM56,224C56,316.722 131.278,392 224,392C316.722,392 392,316.722 392,224C392,131.278 316.722,56 224,56C131.278,56 56,131.278 56,224Z"}].concat([]))];return t&&o.unshift(a.createElement("title",null,t)),a.createElement.apply(a,["svg",i].concat(o))}o.propTypes={"aria-label":i().string,className:i().string,style:i().object};const l=o},35771:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(45697),i=n.n(r),a=n(67294),s=n(17845);function o(e){var t=e["aria-label"],n=e.className,r=e.style,i={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-selected-560"};i["aria-hidden"]=!t,i.style=r,i.className=s.Z.plexIcon+(n?" "+n:"");var o=[a.createElement.apply(a,["path",{d:"m78.756 298.564l-40 69.282 242.488 140 240-415.692-69.282-40-200 346.41-173.206-100"}].concat([]))];return t&&o.unshift(a.createElement("title",null,t)),a.createElement.apply(a,["svg",i].concat(o))}o.propTypes={"aria-label":i().string,className:i().string,style:i().object};const l=o},79501:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(45697),i=n.n(r),a=n(67294),s=n(17845);function o(e){var t=e["aria-label"],n=e.className,r=e.style,i={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-settings-560"};i["aria-hidden"]=!t,i.style=r,i.className=s.Z.plexIcon+(n?" "+n:"");var o=[a.createElement.apply(a,["path",{d:"m200 280c0 44.153 35.847 80 80 80 44.153 0 80-35.847 80-80 0-44.153-35.847-80-80-80-44.153 0-80 35.847-80 80m-115.992-40c5.189-25.52 15.244-49.281 29.153-70.271l-61.151-61.15 56.569-56.569 61.15 61.151c20.99-13.909 44.751-23.964 70.271-29.153l0-84.008 80 0 0 84.008c25.52 5.189 49.281 15.244 70.271 29.153l61.15-61.151 56.569 56.569-61.151 61.15c13.909 20.99 23.964 44.751 29.153 70.271l84.008 0 0 80-84.008 0c-5.189 25.52-15.244 49.282-29.153 70.271l61.151 61.15-56.569 56.569-61.15-61.151c-20.99 13.909-44.751 23.964-70.271 29.153l0 84.008-80 0 0-84.008c-25.52-5.189-49.281-15.244-70.271-29.153l-61.15 61.151-56.569-56.569 61.151-61.15c-13.909-20.989-23.964-44.751-29.153-70.271l-84.008 0 0-80 84.008 0"}].concat([]))];return t&&o.unshift(a.createElement("title",null,t)),a.createElement.apply(a,["svg",i].concat(o))}o.propTypes={"aria-label":i().string,className:i().string,style:i().object};const l=o},26253:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(45697),i=n.n(r),a=n(67294),s=n(17845);function o(e){var t=e["aria-label"],n=e.className,r=e.style,i={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-sort-ascending-560"};i["aria-hidden"]=!t,i.style=r,i.className=s.Z.plexIcon+(n?" "+n:"");var o=[a.createElement.apply(a,["path",{d:"m280 80l-200 200h160v200h80v-200h160l-200-200"}].concat([]))];return t&&o.unshift(a.createElement("title",null,t)),a.createElement.apply(a,["svg",i].concat(o))}o.propTypes={"aria-label":i().string,className:i().string,style:i().object};const l=o},72373:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(45697),i=n.n(r),a=n(67294),s=n(17845);function o(e){var t=e["aria-label"],n=e.className,r=e.style,i={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-sort-descending-560"};i["aria-hidden"]=!t,i.style=r,i.className=s.Z.plexIcon+(n?" "+n:"");var o=[a.createElement.apply(a,["path",{d:"m80 280h160v-200h80v200h160l-200 200-200-200"}].concat([]))];return t&&o.unshift(a.createElement("title",null,t)),a.createElement.apply(a,["svg",i].concat(o))}o.propTypes={"aria-label":i().string,className:i().string,style:i().object};const l=o},62020:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(45697),i=n.n(r),a=n(67294),s=n(17845);function o(e){var t=e["aria-label"],n=e.className,r=e.style,i={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-tagging-560"};i["aria-hidden"]=!t,i.style=r,i.className=s.Z.plexIcon+(n?" "+n:"");var o=[a.createElement.apply(a,["path",{d:"m252 56l308 308-196 196-308-308 0-196 196 0m-21 42l-133 0 0 133 266 266 133-133-266-266m-49 42c23.18 0 42 18.82 42 42 0 23.18-18.82 42-42 42-23.18 0-42-18.82-42-42 0-23.18 18.82-42 42-42"}].concat([]))];return t&&o.unshift(a.createElement("title",null,t)),a.createElement.apply(a,["svg",i].concat(o))}o.propTypes={"aria-label":i().string,className:i().string,style:i().object};const l=o},74739:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(45697),i=n.n(r),a=n(67294),s=n(17845);function o(e){var t=e["aria-label"],n=e.className,r=e.style,i={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-trash-560"};i["aria-hidden"]=!t,i.style=r,i.className=s.Z.plexIcon+(n?" "+n:"");var o=[a.createElement.apply(a,["path",{d:"m238 42c0-23.181 18.82-42 42-42 23.18 0 42 18.82 42 42l182 0 0 42-28 0 0 476-392 0 0-476-28 0 0-42 182 0m196 42l-308 0 0 434 308 0 0-434m-217 56l0 322-42 0 0-322 42 0m84 0l0 322-42 0 0-322 42 0m84 0l0 322-42 0 0-322 42 0"}].concat([]))];return t&&o.unshift(a.createElement("title",null,t)),a.createElement.apply(a,["svg",i].concat(o))}o.propTypes={"aria-label":i().string,className:i().string,style:i().object};const l=o}},e=>{"use strict";var t=t=>e(e.s=t);e.O(0,[843],(()=>(t(73611),t(10914)))),e.O()}]);