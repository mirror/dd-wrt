"use strict";(self.webpackChunkplex_web_client=self.webpackChunkplex_web_client||[]).push([[272],{42437:(e,t,n)=>{n.d(t,{Z:()=>o});var r=n(22222),a=n(15997),i=n(83395);function o(){return(0,r.P1)((0,a.Z)(),((e,{sourceDirectoryID:t})=>t),((e,t)=>(0,i.Z)(e,t)))}},35343:(e,t,n)=>{n.d(t,{Z:()=>i});var r=n(22222),a=n(89186);function i(){return(0,r.P1)(((e,{mediaSubscriptionEntityID:t})=>t),a.Z,((e,t)=>t[e]))}},38792:(e,t,n)=>{n.d(t,{Z:()=>s});var r=n(13469),a=n.n(r),i=n(32903),o=n(56792);function s(e){const{getCellHeights:t,overscan:n=0,outerPaddingTop:r=0,outerPaddingRight:s=0,outerPaddingBottom:l=0,outerPaddingLeft:c=0}=e;let d,u,m,p,h,y,g,v,b;function E(e){const t=a().findIndex(h,(t=>t>e)),n=h.length-1;return-1===t?n:Math.min(Math.max(0,t-1),n)}return{getListStyle:function(e){const n=`${e.viewportHeight}:${e.viewportWidth}`;if(n===y)return g;d=e.viewportHeight,u=e.viewportWidth-(c+s),m=t(u),h=[];let a=r;return m.forEach((e=>{h.push(a),a+=e})),p=m.reduce(((e,t)=>e+t),r+l),y=n,g={height:p,width:u},g},getLandmarks:function(){(0,i.Z)(void 0!==d,"`getListStyle` must be called before `getLandmarks`");const e=`${d}:${p}`;return e===v||(v=e,b=h.map(((e,t)=>({index:t,position:e/p})))),b},getPositionForIndex:function(e){return(0,i.Z)(void 0!==d,"`getListStyle` must be called before `getPositionForIndex`"),{cellX:c,cellY:h[e],cellWidth:u,cellHeight:m[e]}},getRelativeIndex:function(){(0,i.Z)(!1,"Stacked layouts do not support relative indexing")},getRangesForPosition:function(e,t,r){(0,i.Z)(void 0!==d,"`getListStyle` must be called before `getPositionForIndex`");const a=e+d-1,s=E(e-n*d),l=E(e),c=E(a),u=E(a+n*d);return{visibleStartIndex:(0,o.Z)(l,r),visibleEndIndex:(0,o.Z)(c,r),partiallyVisibleStartIndex:(0,o.Z)(l,r),partiallyVisibleEndIndex:(0,o.Z)(c,r),renderStartIndex:(0,o.Z)(s,r),renderEndIndex:(0,o.Z)(u,r)}}}}},33265:(e,t,n)=>{function r(e,t){if(e&&e.pivots)return e.pivots.find((e=>e.key===t))}n.d(t,{Z:()=>r})},10977:(e,t,n)=>{n.d(t,{Z:()=>k});var r=n(67294),a=n(28216),i=n(73788),o=n(93055),s=n(3395),l=n(51662),c=n(12587),d=n(44811),u=n(4681),m=n(62376),p=n(72188),h=n(91085),y=n(74861),g=n(42149),v=n(50439),b=n(48579),E=n(63797),f=n(62286),P=n(83700),Z=n(32395),C=n(37485),I=n(73278),D=n(22222),w=n(18585);const O=(0,D.P1)(w.Z,(e=>e.directory.hubsList));var S=n(90106),T=n(96436),M=n(39680);function N(e){return!!e&&e<=Date.now()-864e5}function R({children:e,hub:t}){const[,,n]=(0,d.c9)(),{metricsContextTuple:a}=(0,h.Zn)(),i=n&&t.key?(0,o.Z)(t.source,{key:t.key,pageType:c.F6.List,source:n.id,context:(0,h.VJ)(a)}):void 0;return r.createElement(l.Z,{hub:t},i?r.createElement(m.Z,{to:i},e):e)}function k({sourceURI:e}){const t=(0,a.I0)(),[n,o]=(0,d.c9)(),{lastFetchedAt:l,sourceURI:c,hubs:m,isPopulated:h,error:D}=(0,a.v9)(O),w=(0,a.v9)(T.Z),k=(0,r.useMemo)((()=>m.every((e=>!e.initialSize&&!e.more))),[m]),x=(0,r.useCallback)((()=>{t(C.Z.actions.fetchHubsRequested({server:n,provider:o,sourceURI:e}))}),[t,o,n,e]);if((0,y.Z)({},h),(0,I.Z)(x),(0,r.useEffect)((()=>{h&&(N(l)||e!==c)&&t(C.Z.actions.resetHubs())}),[t,l,c,e,h]),(0,r.useEffect)((()=>{e!==c&&t(C.Z.actions.fetchHubsRequested({server:n,provider:o,sourceURI:e}))}),[t,c,n,e]),(0,r.useEffect)((()=>(t(C.Z.actions.markHubsStaleCanceled()),()=>{t(C.Z.actions.markHubsStaleRequested())})),[t]),N(l)||e!==c||!h&&!D)return r.createElement(v.Z,null,r.createElement(f.Z,null));if(D){const{status:e}=D;return 404===e?r.createElement(b.Z,null):r.createElement(E.Z,null,r.createElement(u.Z,{kind:P.Z.Primary,onPress:x},(0,i.Z)("Retry")))}return h&&k?r.createElement(Z.Z,null):r.createElement(r.Fragment,null,w?r.createElement(S.Z,null):null,r.createElement(g.Z,{className:"DirectoryHubsPageContent-pageContentScroller-jceJrG PageContent-pageContentScroller-dvaH3C Scroller-scroller-S6_dko"},r.createElement(M.Z,{className:"DirectoryHubsPageContent-banner-FcMafX ProgramGuideGracenoteMigrationBanner-container-NePMOu",providerEntityID:o.entityID,serverEntityID:n.entityID}),r.createElement(p.Z,{hubComponent:s.Z,hubTitleComponent:R,hubs:m})))}},72039:(e,t,n)=>{n.d(t,{Z:()=>l});var r=n(67294),a=n(94788),i=n(24107);const o=parseInt(i.Z.channelGridChannelIconWidth,10),s=parseInt(i.Z.channelGridRowHeight,10);function l({channel:e}){return r.createElement("div",{className:"ChannelLogo-background-wDzGT9"},e.thumb?r.createElement(a.Z,{key:e.thumb,className:"ChannelLogo-thumbnail-I0yeAY",fit:a.k.Contain,height:s,src:e.thumb,width:o}):r.createElement("div",{className:"ChannelLogo-channelCallSign-robgnM",title:e.callSign},e.callSign))}},19171:(e,t,n)=>{n.d(t,{Z:()=>Yt});var r=n(67294),a=n(28216),i=n(62704),o=n(35846),s=n(74236),l=n(22222),c=n(50713);const d=(0,l.P1)(c.Z,(e=>e.channelsGrid));var u=n(61740),m=n(4027),p=n(24107),h=n(8089),y=n(53635),g=n(38792),v=n(37920),b=n(44811),E=n(65714),f=n(53072),P=n(52183),Z=n(73788),C=n(99318),I=n(37350);function D({server:e,provider:t,channel:n,beginsAt:r,endsAt:a}){const i=function(e,t,n){return`synthetic.${e}.${t}.${n}`}(n.id||"",r,a),{metadataItem:o}=(0,I.Z)({server:e,provider:t,data:{key:`/${i}`,ratingKey:i,guid:i,title:(0,Z.Z)("Unknown Airing"),type:C.pG.Episode,Media:[{id:i,beginsAt:r,endsAt:a}]},container:{}});return{beginsAt:r,endsAt:a,mediaIndex:0,metadataItem:o,isSynthetic:!0}}const w=function(e){const t=(null==e?void 0:e.source)?(0,h.Z)(e.source):{serverIdentifier:"",providerIdentifier:""};return(0,l.P1)((0,f.Z)(t.serverIdentifier),(0,E.Z)(t.providerIdentifier),d,(0,P.Z)(null==e?void 0:e.gridKey),((t,n,{columnTimes:r},a)=>{if(!e||!a)return[];const i=r[0],o=r[r.length-1];return function({server:e,provider:t,channelAirings:n,channel:r,startTime:a,endTime:i}){let o=a;const s=[];for(let a=0;a<n.length;a++){const i=n[a];if(i.beginsAt>o){const n=D({server:e,provider:t,channel:r,beginsAt:o,endsAt:i.beginsAt});s.push(n)}s.push(i),o=i.endsAt}if(o<i){const n=D({server:e,provider:t,channel:r,beginsAt:o,endsAt:i});s.push(n)}return s}({server:t,provider:n,channelAirings:a.filter((e=>e.beginsAt<o&&e.endsAt>i)),channel:e,startTime:i,endTime:o})}))};var O=n(62248),S=n(47435),T=n(12587),M=n(93644),N=n(94852),R=n(33593),k=n(71078),x=n(26900),A=n(84520),j=n(17633),G=n(34219),H=n(88638),B=n(40621),V=n(99027),L=n(39041),F=n(57538),W=n(94685),_=n(86023),U=n(84419);const $=function({beginsAt:e,endsAt:t,timeFormat:n,channelTitle:a,contentRating:i}){const{airTime:o,duration:s}=function(e,t,n,r){var a;const i=Math.floor(Date.now()/1e3);let o="",s="";if(i>=e&&i<=t)o=(0,Z.Z)("Now on {channel}",{channel:r}),s=(0,F.Z)(t-i);else{const i=(0,W.Z)(e,t,{timeFormat:n,separator:" - "});o=(0,Z.Z)("{timeRange} on {channel}",{timeRange:i,channel:r}),s=null!=(a=(0,L.Z)(1e3*(t-e)))?a:""}return{airTime:o,duration:s}}(e,t,n,a);return r.createElement("div",{className:"ChannelsGridDetailRowAirTime-container-IcY5Hx"},o,r.createElement(U.Z,null),s,r.createElement("div",{className:"ChannelsGridDetailRowAirTime-contentRating-CuClWA"},(0,_.Z)(i)))};var z=n(71124),K=n(16690);const q=function({className:e,tabIndex:t,allowLink:n=!0,metadataItem:a}){return r.createElement("span",{className:e},r.createElement(K.Z,{allowLink:!!a.title,metadataItem:a,tabIndex:t}),a.title?r.createElement(U.Z,null):null,a.title?r.createElement(z.Z,{allowLink:n,metadataItem:a,tabIndex:t}):null)};var X=n(90113),Y=n(99088);function Q({metadataItem:e}){const t=(0,r.useMemo)((()=>{let t;switch(e.type){case C.pG.Movie:t=[z.Z,Y.Z];break;case C.pG.Show:t=[z.Z,q];break;case C.pG.Episode:t=[X.Z,q];break;default:t=[z.Z]}return t}),[e]);return r.createElement("div",{className:"ChannelsGridDetailRowTitle-titleContainer-CGNsqY"},t.map(((t,n)=>{const a=0===n?"ChannelsGridDetailRowTitle-primaryTitle-IfdbmJ":"ChannelsGridDetailRowTitle-secondaryTitle-w6lRtt";return r.createElement(t,{key:n,className:a,metadataItem:e})})))}var J=n(45191),ee=n(51146),te=n(75404),ne=n(54834),re=n(70894),ae=n(66012),ie=n(91085),oe=n(89536),se=n(9913),le=n(25432);const ce=function({title:e,showPlay:t,showRecord:n,onPlayPress:a,onRecordPress:i}){return r.createElement("div",{className:"ChannelsGridMetadataCellButtons-actions-jTwMAv"},t?r.createElement(se.Z,{className:"ChannelsGridMetadataCellButtons-playButton-aDkT5y PlayButton-playButton-vS1WII ChannelsGridMetadataCellButtons-button-FukmZ8","data-testid":"guide-row-item-play",tabIndex:"-1",title:e,onPress:a}):null,n?r.createElement(le.Z,{className:"ChannelsGridMetadataCellButtons-recordButton-atIGJa RecordButton-recordButton-Rn40ir PlayButton-playButton-vS1WII RecordIcon-recordIconContainer-iZKuO3 ChannelsGridMetadataCellButtons-button-FukmZ8","data-testid":"guide-row-item-record",tabIndex:"-1",title:e,onPress:i}):null)};var de=n(18222),ue=n(11113),me=n(25555),pe=n(69281),he=n(45697),ye=n.n(he),ge=n(90558);function ve(e){const t=e["aria-label"],n=e.className,a=e.style,i={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-play-560"};i["aria-hidden"]=!t,i.style=a,i.className=ge.Z.plexIcon+(n?" "+n:"");const o=[r.createElement.apply(r,["path",{d:"M80,0L560,280L80,560L80,0Z"}].concat([]))];return t&&o.unshift(r.createElement("title",null,t)),r.createElement.apply(r,["svg",i].concat(o))}ve.propTypes={"aria-label":ye().string,className:ye().string,style:ye().object};const be=ve,Ee="ChannelsGridMetadataDetailButtons-icon-kcrUoI",fe=function({subscriptionType:e,isSubscribed:t,isOnAir:n,showRecord:a,onPlayPress:i,onRecordPress:o}){const s=n?(0,Z.Z)("Watch Now"):(0,Z.Z)("Watch Channel"),l=t?(0,Z.Z)("Recording Scheduled"):(0,Z.Z)("Record");return r.createElement("span",null,r.createElement(de.Z,{className:"ChannelsGridMetadataDetailButtons-playButton-rT11Sm",kind:me.Py,size:pe.HC,onPress:i},r.createElement(be,{className:Ee}),s),a?r.createElement(de.Z,{className:"ChannelsGridMetadataDetailButtons-recordButton-VPyOC1 ChannelsGridMetadataDetailButtons-playButton-rT11Sm",kind:me.Py,size:pe.HC,onPress:o},r.createElement(ue.Z,{className:Ee,type:e}),l):null)};function Pe({className:e,airing:t,channel:n,isCompact:i=!1,showPlay:o,showRecord:s,onRecordPress:l}){const{metadataItem:c,beginsAt:d,endsAt:u}=t,m=(0,a.I0)(),p=(0,ae.Z)(c.sourceURI),{metricsPage:h,metricsContextTuple:y}=(0,ie.Zn)(),g=(0,oe.Z)(c),[v,E]=(0,b.c9)(),f=c.grandparentTitle||c.title,P=Math.floor(Date.now()/1e3),Z=P>=d&&P<=u,C=!(!p.grandparentSubscriptionID&&!p.subscriptionID),I=p.grandparentSubscriptionType||p.subscriptionType||c.type,D=(0,r.useCallback)((()=>{g({action:te.NH}),m(ee.lS({serverEntityID:v.entityID,providerEntityID:E.entityID,metricsPage:h,metricsContext:y,options:{type:ne.pX,identifier:n.id}}))}),[m,v,E,n,h,y,g]),w=(0,r.useCallback)((()=>{const e=(0,J.DB)("appModel"),{metadataItemModel:t}=(0,re.Z)(e,{server:v,provider:E,metadataItem:c,metadataItemState:p}),r={serverEntityID:v.entityID,providerEntityID:E.entityID,metadataItemEntityID:t.entityID(),channelGridKey:n.gridKey,subscriptionType:I};l(r)}),[v,E,c,p,n.gridKey,I,l]),O=i?ce:fe;return r.createElement("span",{className:e},r.createElement(O,{isOnAir:Z,isSubscribed:C,showPlay:o,showRecord:s,subscriptionType:I,title:f,onPlayPress:D,onRecordPress:w}))}function Ze({className:e="ChannelsGridDetailRow-container-bKvwYU",channel:t,airing:n,showRecord:i,onRecordPress:o,onNextPress:s,onPrevPress:l}){const[c,d]=(0,b.c9)(),u=(0,a.v9)((0,G.Z)("timeFormat")),{metadataItem:m,beginsAt:p,endsAt:h}=null!=n?n:{};return m?r.createElement("div",{className:e},r.createElement(H.Z,{className:"ChannelsGridDetailRow-poster-xcQMxa PosterCard-card-B3tGLl",component:B.Z,height:(0,V.Cr)(80,m.type,j.lD),providerEntityID:d.entityID,serverEntityID:c.entityID,type:m.type,url:m.grandparentThumb||m.thumb,width:80}),r.createElement("div",{className:"ChannelsGridDetailRow-preplayContainer-ikWSGp"},r.createElement(Q,{metadataItem:m}),r.createElement($,{beginsAt:p,channelTitle:t.shortTitle||t.title,contentRating:m.contentRating,endsAt:h,timeFormat:u}),r.createElement(Pe,{airing:n,channel:t,showPlay:!0,showRecord:i,onRecordPress:o}),r.createElement("p",null,m.summary),r.createElement("div",{className:"ChannelsGridDetailRow-navigationContainer-dWyc0H"},r.createElement(A.Z,{iconComponent:k.e,title:(0,Z.Z)("Previous"),onPress:l}),r.createElement(A.Z,{iconComponent:x.V,title:(0,Z.Z)("Next"),onPress:s})))):null}var Ce=n(94184),Ie=n.n(Ce),De=n(19013),we=n(35877),Oe=n(34513),Se=n(85448),Te=n(93888),Me=n(37334),Ne=n(34261);const Re=parseInt(p.Z.channelGridChannelColumnWidth,10),ke=.3*Re;function xe(){const e=(0,r.useMemo)((()=>ke+Math.random()*(Re-ke)),[]);return r.createElement("div",{className:"ChannelsGridPlaceholder-container-ko49qI",style:{width:`${e}px`}},r.createElement("div",{className:"ChannelsGridPlaceholder-bar-XhI4_Q"}))}function Ae({airing:e,width:t,className:n="ChannelsGridMetadataItemCell-container-xVCt_C",channel:i,cellIndex:o,isSelected:s,showLoader:l,showRecord:c,onPress:d,onRecordPress:u}){var m;const{metadataItem:p,mediaIndex:h,beginsAt:y,endsAt:g,isSynthetic:v}=e,E=(0,a.I0)(),[f,P]=(0,b.c9)(),Z=(0,ae.Z)(null==p?void 0:p.sourceURI),I=(0,a.v9)(we.Z),D=null!=h?null==(m=null==p?void 0:p.Media)?void 0:m[h]:void 0,w=null==D?void 0:D.premiere,O=null!=Z.subscriptionType||null!=Z.grandparentSubscriptionType,S=p&&null==p.index&&!!p.originallyAvailableAt;let T=!0;if(S&&(null==p?void 0:p.originallyAvailableAt)){const e=new Date,t=(0,De.Z)(p.originallyAvailableAt);T=e.getDate()!==t.getDate()||e.getMonth()!==t.getMonth()||e.getFullYear()!==t.getFullYear()}const M=(null==p?void 0:p.grandparentTitle)||(null==p?void 0:p.title),N=(0,r.useMemo)((()=>p?p.type===C.pG.Movie?Y.Z:p.type!==C.pG.Show&&p.type!==C.pG.Episode||!T?null:K.Z:null),[p,T]),R=Math.floor(Date.now()/1e3),k=!!(R>=y&&R<=g),x=!!(g&&R>=g);(0,r.useEffect)((()=>{p&&I&&s&&E((0,Te.vr)({server:f,provider:P,metadataItem:p,metadataItemState:Z,legacyAction:(0,Me.yU)()}))}),[E,I,s,p,Z,P,f]);const A=(0,r.useCallback)((()=>{p&&null!=h&&d(p.key,h,o)}),[p,h,o,d]);if(l)return r.createElement("div",{className:n,style:{width:`${t}px`}},r.createElement("div",{className:"ChannelsGridMetadataItemCell-placeholderContainer-Q26PrA"},r.createElement(xe,null),r.createElement(xe,null)));const j=Z.subscriptionType||Z.grandparentSubscriptionType;return r.createElement("div",{className:Ie()(n,k&&"ChannelsGridMetadataItemCell-onAir-_S74si",s&&"ChannelsGridMetadataItemCell-selected-n9mkZM",!v&&(k||c)&&"ChannelsGridMetadataItemCell-hoverable-n1ukCX",x&&"ChannelsGridMetadataItemCell-finishedAiring-a_lne0"),"data-qa-id":"guide-row-item",style:{width:`${t}px`}},r.createElement("div",{className:"ChannelsGridMetadataItemCell-content-b1g5DE"},r.createElement(Se.Z,{className:"ChannelsGridMetadataItemCell-underlay-xmF4hL",isDisabled:v,onPress:v?void 0:A}),r.createElement("div",null,M),v?null:r.createElement("div",{className:"ChannelsGridMetadataItemCell-actionsContainer-HHiGHl"},r.createElement("div",{className:"ChannelsGridMetadataItemCell-subTitleContainer-s17s2L"},N?r.createElement(N,{className:"ChannelsGridMetadataItemCell-subTitle-OVHYsl",metadataItem:p}):null,w?r.createElement(Ne.Z,{className:"ChannelsGridMetadataItemCell-premiereBadge-_Aeyya PremiereAiringBadge-badge-fAyt5M"}):null,O?r.createElement(Oe.Z,{className:"ChannelsGridMetadataItemCell-subscriptionBadge-NcZbev"},r.createElement(ue.Z,{type:j})):null),r.createElement(Pe,{airing:e,channel:i,className:"ChannelsGridMetadataItemCell-actions-knQ3w3",isCompact:!0,showPlay:k,showRecord:c,onRecordPress:u}))))}function je({className:e}){const{airedProgress:t,columnWidth:n,visibleColumns:i}=(0,a.v9)(d),o={width:`${(0,r.useMemo)((()=>t/100*i*n),[t,n,i])}px`};return r.createElement("div",{className:e},r.createElement("div",{className:"ChannelsGridProgress-fill-j9uTq8",style:o}))}var Ge=n(1802),He=n(13688);const Be=(0,r.forwardRef)((function({align:e="none","aria-label":t,color:n="inherit",size:a="inherit",testID:i},o){return r.createElement("svg",{ref:o,"aria-hidden":!t,"aria-label":t,className:(0,He.J)({align:e,color:n,size:a}),"data-testid":i,fill:"currentColor",height:48,viewBox:"0 0 48 48",width:48,xmlns:"http://www.w3.org/2000/svg"},r.createElement("path",{d:"M12 27C13.6569 27 15 25.6569 15 24C15 22.3431 13.6569 21 12 21C10.3431 21 9 22.3431 9 24C9 25.6569 10.3431 27 12 27Z",fill:"currentColor"}),r.createElement("path",{d:"M24 27C25.6569 27 27 25.6569 27 24C27 22.3431 25.6569 21 24 21C22.3431 21 21 22.3431 21 24C21 25.6569 22.3431 27 24 27Z",fill:"currentColor"}),r.createElement("path",{d:"M39 24C39 25.6569 37.6569 27 36 27C34.3431 27 33 25.6569 33 24C33 22.3431 34.3431 21 36 21C37.6569 21 39 22.3431 39 24Z",fill:"currentColor"}))}));var Ve=n(27469),Le=n(61438),Fe=n(37903),We=n(56422),_e=n(54320),Ue=n(37703),$e=n(181),ze=n(16879),Ke=n(28247),qe=n(72039);function Xe({channel:e,onReorderPress:t}){const n=(0,a.I0)(),{metricsPage:i,metricsContextTuple:o}=(0,ie.Zn)(),[l,d]=(0,b.c9)(),u=(0,a.v9)($e.Z),{favoriteChannels:m}=(0,a.v9)(c.Z),[p,h]=(0,Ke.Z)(),y=(0,Ue.b)(),g=(0,r.useMemo)((()=>m.channels.some((({uid:t})=>t===e.uid))),[e.uid,m.channels]),v=(0,r.useCallback)((()=>{n((0,ee.lS)({serverEntityID:l.entityID,providerEntityID:d.entityID,metricsPage:i,metricsContextTuple:o,options:{type:ne.pX,identifier:e.id}}))}),[n,e,l,d,i,o]),E=(0,r.useCallback)((()=>{const t=[...m.channels,e];n(s.ZP.actions.favoriteChannelsUpdateRequested({cloudServer:u,channels:m.channels,updatedChannels:t}))}),[e,u,n,m.channels]),f=(0,r.useCallback)((()=>{const t=m.channels.filter((({uid:t})=>e.uid!==t));n(s.ZP.actions.favoriteChannelsUpdateRequested({cloudServer:u,channels:m.channels,updatedChannels:t}))}),[e.uid,u,n,m.channels]),P=(0,r.useMemo)((()=>{if(t){if(p||y.isOpen){const e=1!==m.channels.length;return r.createElement(Fe.v2,{isOpen:y.isOpen,onOpenChange:y.onOpenChange},r.createElement(Fe.bF,null,r.createElement(Ge.hU,{"aria-label":(0,Z.Z)("Actions"),color:"transparent",icon:Be,size:_e.$u.S})),r.createElement(Fe.Dv,null,r.createElement(Fe.j2,{onPress:f},r.createElement(We.x,null,(0,Z.Z)("Remove from favorites"))),r.createElement(Fe.j2,{isDisabled:!e,onPress:t},r.createElement(We.x,{color:e?_e.Il.Default:_e.Il.Muted},(0,Z.Z)("Reorder")))))}return null}return g?r.createElement(Ge.hU,{"aria-label":(0,Z.Z)("Remove from Favorites"),color:"transparent",icon:Ve.g,isDisabled:m.isPending,size:_e.$u.S,onPress:f}):!g&&p?r.createElement(Ge.hU,{"aria-label":(0,Z.Z)("Add to Favorites"),color:"transparent",icon:Le.A,isDisabled:m.isPending,size:_e.$u.S,onPress:E}):null}),[m.channels.length,m.isPending,g,p,y.isOpen,y.onOpenChange,E,f,t]);return r.createElement("div",{ref:h,className:"ChannelsGridRowTitle-container-Erzlnn"},r.createElement(qe.Z,{channel:e}),p&&e.gridKey?r.createElement(ze.Z,{className:"ChannelsGridRowTitle-playButton-seG4KN PlayButton-playButton-HS0MKv Link-link-vSsQW1",tabIndex:-1,title:(0,Z.Z)("Play Channel {channel}",{channel:e.callSign}),onPress:v}):null,r.createElement("div",{className:"ChannelsGridRowTitle-overlay-egQk0I"},r.createElement("div",{className:"ChannelsGridRowTitle-channelVcn-xSmtXU"},!l.isCloud&&p?e.vcn:null),r.createElement("div",{className:"ChannelsGridRowTitle-action-JdolXH"},P)))}var Ye=Object.getOwnPropertySymbols,Qe=Object.prototype.hasOwnProperty,Je=Object.prototype.propertyIsEnumerable;function et(e){var t=e,{channel:n,className:o,rowClassName:l,selectedMetadataItemKey:c,selectedMediaIndex:u,selectedMediaItemRow:m,onMetadataItemPress:p,onNextPress:h,onPrevPress:y,onDetailRowMeasure:g,onRecordPress:v,onReorderPress:E}=t,f=((e,t)=>{var n={};for(var r in e)Qe.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&Ye)for(var r of Ye(e))t.indexOf(r)<0&&Je.call(e,r)&&(n[r]=e[r]);return n})(t,["channel","className","rowClassName","selectedMetadataItemKey","selectedMediaIndex","selectedMediaItemRow","onMetadataItemPress","onNextPress","onPrevPress","onDetailRowMeasure","onRecordPress","onReorderPress"]);const{gridKey:P}=n,Z=(0,S.Z)(f),C=(0,a.I0)(),[I,D]=(0,b.c9)(),{columnTimes:k,columnWidth:x}=(0,a.v9)(d),{cachedDates:A,isPending:j,isPopulated:G}=(0,a.v9)((0,N.Z)(P)),H=(0,a.v9)(w(n)),B=(0,r.useMemo)((()=>H.find((e=>{var t;return(null==(t=e.metadataItem)?void 0:t.key)&&e.metadataItem.key===c&&e.mediaIndex===u}))),[H,c,u]),V=k[1]-k[0],L=k[0],F=k[k.length-1],W=!!(0,M.Z)(D,T.zW.Subscribe);return(0,r.useEffect)((()=>{B||m!==f.cellIndex||p(null,0,-1)}),[f,B,m,p]),(0,r.useEffect)((()=>{!P||j||G||C(s.ZP.actions.channelAiringsFetchRequested({server:I,provider:D,channelGridKey:P,date:(0,O.Z)(new Date(1e3*L)).toString()}))}),[C,I,D,P,L,j,G]),(0,r.useEffect)((()=>{const e=function(e,t,n){let r=null;const a=(0,O.Z)(new Date(1e3*e)),i=(0,O.Z)(new Date(1e3*t)),o=(0,R.Z)(a,"yyyy-MM-dd"),s=(0,R.Z)(i,"yyyy-MM-dd");return n.includes(o)?n.includes(s)||(r=i):r=a,r}(L,F,A);P&&e&&!j&&C(s.ZP.actions.channelAiringsFetchRequested({server:I,provider:D,channelGridKey:P,date:e.toString()}))}),[C,I,D,P,L,F,j,A]),r.createElement("div",{className:o,"data-qa-id":"guide-row",style:Z.style},r.createElement("div",{className:l},r.createElement(Xe,{channel:n,onReorderPress:E}),r.createElement("div",{className:"ChannelsGridRow-programsContainer-d1DNfp"},r.createElement(je,{className:"ChannelsGridRow-progress-wroL29"}),H.map(((e,t)=>{const{metadataItem:a,mediaIndex:i,beginsAt:o,endsAt:s,isSynthetic:l}=e,d=Math.max(o,L),h=(Math.min(s,F)-d)/V*x,y=!(!a||f.cellIndex!==m||c!==a.key||u!==i);return r.createElement(Ae,{key:t,airing:e,cellIndex:f.cellIndex,channel:n,className:"ChannelsGridRow-program-BuOodw ChannelsGridMetadataItemCell-container-xVCt_C",isSelected:y,showLoader:l&&(j||!j&&!G),showRecord:W,width:h,onPress:p,onRecordPress:v})})))),B&&f.cellIndex===m?r.createElement(i.Z,{key:c,onMeasure:g},r.createElement(Ze,{airing:B,channel:n,showRecord:W,onNextPress:h,onPrevPress:y,onRecordPress:v})):null)}var tt=n(41319),nt=n(83782),rt=n(45731),at=n(25814),it=n(55319),ot=n(20622),st=n(77349),lt=n(42227),ct=n(42902),dt=n(3151),ut=n(10125),mt=n(14580),pt=n(8067),ht=n(31889),yt=n(84332);class gt extends r.Component{constructor(){super(...arguments),this.onPress=()=>{const{option:e,onPress:t}=this.props;t(e)}}render(){const{className:e,option:t,isDisabled:n,isSelected:a}=this.props;return r.createElement(yt.Z,{className:e,isDisabled:n,isSelected:a,onPress:this.onPress},t.title)}}const vt=gt,bt=function(e){const{className:t,dateOptions:n,onSelectDate:a,onSelectNow:i}=e;return r.createElement(pt.Z,{autoScroll:!0,className:t},r.createElement(yt.Z,{onPress:i},(0,Z.Z)("Now")),r.createElement(ht.Z,null),n.map(((e,t)=>r.createElement(vt,{key:t,isSelected:e.isSelected,option:e,onPress:a},e.title))))};function Et(e,t,n){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var r=(0,De.Z)(e,n),a=(0,De.Z)(t,n);return r.getTime()-a.getTime()}var ft=n(313),Pt=n(83946);function Zt(e,t){return function(e,t){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var n=(0,De.Z)(e,t);return n.setMinutes(0,0,0),n}(function(e,t,n){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var r=(0,De.Z)(e,n),a=(0,Pt.Z)(t);return r.setHours(a),r}(new Date(e),t))}const Ct=(0,a.$j)((function(){const e=[{startHour:0,title:(0,Z.Z)("Midnight")},{startHour:2,title:(0,Z.Z)("Overnight")},{startHour:6,title:(0,Z.Z)("Morning")},{startHour:10,title:(0,Z.Z)("Daytime")},{startHour:17,title:(0,Z.Z)("Evening")},{startHour:23,title:(0,Z.Z)("Late Night")}];return(0,l.P1)(((e,{startTime:t})=>t),((e,{selectedDateOption:t})=>t),((t,n={})=>{if(!n)return{timeOptions:[]};const r=(0,lt.Z)(t),a=(0,lt.Z)(n.value),i=new Date;return{timeOptions:e.map(((t,n)=>{const o=e[n+1],s=Zt(a,t.startHour),l=Zt(a,o?o.startHour:24),c=(0,ft.Z)(i,l),d=Et(r,s)>=0&&Et(r,l)<0,u=(0,ft.Z)(s,i)?(0,ct.Z)(i):(0,ct.Z)(s);return{title:Et(i,s)>=0&&Et(i,l)<0?(0,Z.Z)("Now ({timeSlotTitle})",{timeSlotTitle:t.title}):t.title,value:u,isEnabled:c,isSelected:d}}))}}))}))((function(e){const{className:t,timeOptions:n,selectedDateOption:a,onDeselectDateOption:i,onSelectTime:o}=e;return r.createElement("div",{className:t},r.createElement("div",{className:"DatePickerTimeList-header-iPpAe9"},r.createElement(Se.Z,{onPress:i},r.createElement(k.e,{align:"baseline","aria-label":(0,Z.Z)("Back")})),r.createElement("span",{className:"DatePickerTimeList-headerText-PKhOP3"},a.title)),r.createElement(ht.Z,null),n.map(((e,t)=>r.createElement(vt,{key:t,isDisabled:!e.isEnabled,isSelected:e.isSelected,option:e,onPress:o},e.title))))})),It={scrollDirection:v.Hn,className:"DatePickerMenu-listContainer-RqqY4m"};class Dt extends r.Component{constructor(e,t){super(e,t),this.onSelectDate=e=>{this.setState({showTimeOptions:!0,activeDateOption:e})},this.onSelectNow=()=>{const e=Math.floor(Date.now()/1e3);this.onSelectTime({value:e})},this.onSelectTime=e=>{this.setState({showTimeOptions:!1}),this.props.dispatchSetStartTime(e.value),this.props.onMenuClose()},this.onHideOptions=e=>{this.setState({showTimeOptions:!1})},this.state={showTimeOptions:!1,activeDateOption:e.dateOptions.find((e=>e.isSelected))}}render(){const{startTime:e,target:t,isOpen:n,dateOptions:a,onMenuClose:i}=this.props,{showTimeOptions:o,activeDateOption:s}=this.state,l=Ie()("DatePickerMenu-list-Fl3DfX",!!o&&"DatePickerMenu-showTimeOptions-jezpxz");return r.createElement(ut.Z,{isOpen:n,scrollerProps:It,size:pe.M2,target:t,onMenuClose:(0,mt.Z)(this.onHideOptions,i)},r.createElement(bt,{className:l,dateOptions:a,onSelectDate:this.onSelectDate,onSelectNow:this.onSelectNow}),r.createElement(Ct,{className:l,selectedDateOption:s,startTime:e,onDeselectDateOption:this.onHideOptions,onSelectTime:this.onSelectTime}))}}const wt=Dt;var Ot=n(9362);function St(e){if(!e)return"";const t=e instanceof Date?e:new Date(e),n=(0,ct.Z)(t);return(0,dt.Z)(t,new Date)?(0,Z.Z)("Today"):(0,Ot.Z)(n)}function Tt({target:e,isOpen:t,onMenuClose:n}){const i=(0,a.I0)(),o=(0,r.useCallback)((e=>i(s.ZP.actions.channelsGridSetStartTime({startTime:e}))),[i]),{channelsGrid:{startTime:l}}=(0,a.v9)(c.Z),d=(0,r.useMemo)((()=>function(e){const t=[],n=(0,lt.Z)(e);for(let e=0;e<8;e++){const r=(0,st.Z)(new Date,e),a=St(r),i=(0,dt.Z)(r,n);t.push({title:a,value:(0,ct.Z)(r),isSelected:i})}return t}(l)),[l]);return 0!==l&&d.length?r.createElement(wt,{dateOptions:d,dispatchSetStartTime:o,isOpen:t,startTime:l,target:e,onMenuClose:n}):null}function Mt(){const e=(0,a.I0)(),t=(0,nt.Z)(),n=(0,it.Z)(),i=(0,a.v9)(rt.Z),{columnTimes:o,columnWidth:l,startTime:c}=(0,a.v9)(d),u=(new Date).getTime()-108e5,m=new Date(1e3*c).getTime(),p=m>u,h=(0,r.useCallback)((()=>{e(s.ZP.actions.channelsGridNavigateTimeBack())}),[e]),y=(0,r.useCallback)((()=>{e(s.ZP.actions.channelsGridNavigateTimeForward())}),[e]);return(0,r.useEffect)((()=>{e(s.ZP.actions.channelsGridResetStartTime())}),[e]),r.createElement("div",{className:"ChannelsGridTimeline-container-UNZEHK"},r.createElement("div",{className:"ChannelsGridTimeline-dayContainer-sAgNKq"},r.createElement(at.Z,{direction:n.isOpen?ot.Z.Up:ot.Z.Down,id:t,onPress:n.onToggle},St(m)),r.createElement(Tt,{isOpen:n.isOpen,target:t,onMenuClose:n.onClose})),r.createElement("div",{className:"ChannelsGridTimeline-labelContainer-jDEp80"},o.map(((e,t)=>r.createElement("div",{key:t,className:"ChannelsGridTimeline-label-zIgOwN",style:{width:`${l}px`}},(0,tt.Z)(1e3*e,i))))),r.createElement("div",{className:"ChannelsGridTimeline-navigationButtons-Qh5wA_"},r.createElement(Ge.hU,{"aria-label":(0,Z.Z)("Previous"),color:"transparent",icon:k.e,isDisabled:!p,size:_e.$u.XS,onPress:h}),r.createElement(Ge.hU,{"aria-label":(0,Z.Z)("Next"),color:"transparent",icon:x.V,size:_e.$u.XS,onPress:y})))}const Nt="ChannelsGrid-container-YAx6Rj";var Rt=Object.defineProperty,kt=Object.defineProperties,xt=Object.getOwnPropertyDescriptors,At=Object.getOwnPropertySymbols,jt=Object.prototype.hasOwnProperty,Gt=Object.prototype.propertyIsEnumerable,Ht=(e,t,n)=>t in e?Rt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const Bt=parseInt(p.Z.channelGridRowHeight,10);function Vt({className:e=Nt,channels:t,onRecordPress:n,onReorderPress:i}){var o;const l=(0,a.I0)(),{columnTimes:c,viewportWidth:u,viewportHeight:m}=(0,a.v9)(d),[p,E]=(0,r.useState)(null),[f,P]=(0,r.useState)(null),[Z,C]=(0,r.useState)(-1),[I,D]=(0,r.useState)(0),O=null!=(o=t[Z])?o:{},S=(0,a.v9)(w(O));(0,r.useEffect)((()=>{l(s.ZP.actions.channelsGridUpdateAiredProgress());const e=6e4-Date.now()%6e4,t=window.setInterval((()=>l(s.ZP.actions.channelsGridUpdateAiredProgress())),e);return()=>{window.clearInterval(t)}}),[l,c]);const T=(0,r.useCallback)(((e,t,n)=>{const r=f!==e||p!==t||Z!==n;P(r?e:null),E(r?t:null),C(r?n:-1),D(r?140:0)}),[p,E,f,P,Z,C,D]),M=(0,r.useCallback)((({height:e})=>{D(e)}),[D]),N=(0,r.useCallback)((()=>{var e;const t=S.findIndex((e=>e.metadataItem.key===f&&e.mediaIndex===p))-1,{metadataItem:n,mediaIndex:r}=null!=(e=S[t])?e:{};n&&(P(n.key),E(r)),t<=1&&l(s.ZP.actions.channelsGridNavigateTimeBack())}),[l,S,f,p,P,E]),R=(0,r.useCallback)((()=>{var e;const t=S.findIndex((e=>e.metadataItem.key===f&&e.mediaIndex===p))+1,{metadataItem:n,mediaIndex:r}=null!=(e=S[t])?e:{};n&&(P(n.key),E(r)),t>=S.length-1&&l(s.ZP.actions.channelsGridNavigateTimeForward())}),[l,S,f,p,P,E]),k=(0,r.useCallback)((()=>t.map(((e,t)=>{let n=Bt;return t===Z&&(n+=I||140),n}))),[t,Z,I]),x=(0,r.useCallback)((e=>{const a=t[e.cellIndex];if(!a)return null;const{serverIdentifier:o,providerIdentifier:s}=(0,h.Z)(a.source);return r.createElement(b.ZP,{key:e.key,machineIdentifier:o,providerIdentifier:s},r.createElement(et,(l=((e,t)=>{for(var n in t||(t={}))jt.call(t,n)&&Ht(e,n,t[n]);if(At)for(var n of At(t))Gt.call(t,n)&&Ht(e,n,t[n]);return e})({},e),kt(l,xt({channel:a,className:Nt,rowClassName:"ChannelsGrid-gridRow-u3ZfbX ChannelsGridRow-container-VtBi1I",selectedMediaIndex:p,selectedMediaItemRow:Z,selectedMetadataItemKey:f,onDetailRowMeasure:M,onMetadataItemPress:T,onNextPress:R,onPrevPress:N,onRecordPress:n,onReorderPress:i})))));var l}),[t,p,Z,f,M,T,R,N,n,i]);return r.createElement("div",{className:e},r.createElement(Mt,null),r.createElement(y.Z,{cellRenderer:x,className:"ChannelsGrid-gridContent-PFz1fn",items:t,keyPropName:"uid",layout:(0,g.Z)({getCellHeights:k}),scrollDirection:v.yZ,scrollerClassName:"ChannelsGrid-gridInnerContent-mdG22x VirtualListScroller-scroller-eDZkq_",size:t.length,viewportHeight:m,viewportWidth:u}))}var Lt=Object.defineProperty,Ft=Object.defineProperties,Wt=Object.getOwnPropertyDescriptors,_t=Object.getOwnPropertySymbols,Ut=Object.prototype.hasOwnProperty,$t=Object.prototype.propertyIsEnumerable,zt=(e,t,n)=>t in e?Lt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const Kt=parseInt(p.Z.channelGridChannelOverflowWidth,10),qt=parseInt(p.Z.channelGridChannelColumnWidth,10),Xt=parseInt(p.Z.channelGridTitleColumnWidth,10);function Yt({channels:e,onReorderPress:t}){const n=(0,a.I0)(),l=(0,m.Z)(),[c,p]=(0,r.useState)(!1),[h,y]=(0,r.useState)(null),[g,v]=(0,r.useState)(),{columnTimes:b}=(0,a.v9)(d);(0,r.useEffect)((()=>{const e=Math.floor(Date.now()/1e3);let t=7200;if(b[0]<=e&&b[1]>=e){const n=b.find((t=>e<t));n&&(t=n-e)}const r=window.setTimeout((()=>n(s.ZP.actions.channelsGridResetStartTime())),1e3*t);return()=>window.clearTimeout(r)}),[b,n]);const E=(0,r.useCallback)((e=>{c&&(0,o.Z)(h,e)||(p(!0),y(e),n(s.ZP.actions.channelsGridSetViewportSize({width:e.width,height:e.height,overflowWidth:Kt,channelWidth:qt,channelTitleWidth:Xt})))}),[c,h,p,y,n]),f=(0,r.useCallback)((e=>{v(e),l.onOpen()}),[l,v]);return r.createElement(r.Fragment,null,r.createElement(u.Z,(P=((e,t)=>{for(var n in t||(t={}))Ut.call(t,n)&&zt(e,n,t[n]);if(_t)for(var n of _t(t))$t.call(t,n)&&zt(e,n,t[n]);return e})({},g),Z={isOpen:l.isOpen,onModalClose:l.onClose},Ft(P,Wt(Z)))),r.createElement(i.Z,{className:"ChannelsGridPageContent-measureContainer-Dg0e0X",onMeasure:E},r.createElement(Vt,{channels:e,className:"ChannelsGridPageContent-gridContent-D4FVHi",onRecordPress:f,onReorderPress:t})));var P,Z}},75969:(e,t,n)=>{n.d(t,{Z:()=>o});var r=n(67294),a=n(28216),i=n(10033);const o=function(e){const{tab:t,component:n,onPress:o}=e,s=(0,a.I0)(),l=(0,r.useCallback)((e=>{const n=e.currentTarget.getAttribute("href");n&&(0===e.button||e.touches)&&(e.stopPropagation(),s((0,i.c4)({pathname:n,replace:!0}))),o(t.id)}),[t,o,s]);return r.createElement(n,{isDisabled:t.isDisabled,isSelected:t.isSelected,to:t.route,onPress:l},t.title)}},1522:(e,t,n)=>{n.d(t,{Z:()=>d});var r=n(67294),a=Object.defineProperty,i=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable,l=(e,t,n)=>t in e?a(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;function c(e){var t=e,{children:n}=t,a=((e,t)=>{var n={};for(var r in e)o.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&i)for(var r of i(e))t.indexOf(r)<0&&s.call(e,r)&&(n[r]=e[r]);return n})(t,["children"]);return r.createElement("div",((e,t)=>{for(var n in t||(t={}))o.call(t,n)&&l(e,n,t[n]);if(i)for(var n of i(t))s.call(t,n)&&l(e,n,t[n]);return e})({},a),n)}c.defaultProps={className:"PrimaryPageHeader-pageHeader-SBemrw PageHeader-pageHeader-e2k66t"};const d=c},35567:(e,t,n)=>{n.d(t,{Z:()=>i});var r=n(67294),a=n(70513);const i=function({children:e}){return r.createElement(a.Z,{className:"PrimaryPageHeaderRight-pageHeaderRight-PLi1N6 PageHeaderRight-pageHeaderRight-hBWIio"},e)}},66380:(e,t,n)=>{n.d(t,{Z:()=>N});var r=n(67294),a=n(22222),i=n(73701),o=n(36475),s=n(53461),l=n(87880),c=n(69022),d=n(33265),u=n(41863),m=n(23954);const p=(0,a.P1)((0,u.Z)("features"),(e=>(0,m.Z)(e,(e=>e.id),(()=>!0))));var h=n(13508),y=n(28216),g=n(45191),v=n(10033),b=n(75404),E=n(17197),f=n(24348),P=n(75969);const Z=(0,y.$j)(null,(function(e,t){const{serverEntityID:n,providerEntityID:r,providerMetricsIdentifier:a,sourceDirectory:i,tab:o,metricsPage:s}=t;return{onPress(t,l){l||e((0,v.zt)({serverEntityID:n,providerEntityID:r,directoryID:i.id,pivotKey:o.pivotKey})),(0,g.DB)("metrics").trackEvent({event:E.Ip,interaction:!0,properties:{page:s,identifier:a,action:b.oG,context:o.context,origin:f.zQ}})}}}))(P.Z);var C=n(78236),I=Object.defineProperty,D=Object.defineProperties,w=Object.getOwnPropertyDescriptors,O=Object.getOwnPropertySymbols,S=Object.prototype.hasOwnProperty,T=Object.prototype.propertyIsEnumerable,M=(e,t,n)=>t in e?I(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const N=(0,o.Z)((function(){return(0,a.P1)(i.Z,(0,a.P1)(((e,{sourceDirectory:t})=>t),((e,{directoryKey:t})=>t),(0,l.Z)(),(0,s.Z)(),p,((e,t,n,r,a)=>{const i=(0,d.Z)(e,t);return e.pivots.reduce(((t,o)=>{if(o.id===c.Ig&&o.requires&&!a[o.requires])return t;const s=(0,h.Z)(n,r,e,o);return s?(t.push({pivotKey:o.key,title:o.title,route:s,isSelected:!(!i||o.key!==i.key),isDisabled:!o.key,context:o.context}),t):t}),[])})),((e,t)=>({providerMetricsIdentifier:e.metricsIdentifier,tabs:t})))}))((function(e){return r.createElement(C.Z,(t=((e,t)=>{for(var n in t||(t={}))S.call(t,n)&&M(e,n,t[n]);if(O)for(var n of O(t))T.call(t,n)&&M(e,n,t[n]);return e})({},e),D(t,w({component:Z}))));var t}))},78236:(e,t,n)=>{n.d(t,{Z:()=>F});var r=n(67294),a=n(62704),i=n(94184),o=n.n(i),s=n(18222),l=n(69281);var c=Object.defineProperty,d=Object.getOwnPropertySymbols,u=Object.prototype.hasOwnProperty,m=Object.prototype.propertyIsEnumerable,p=(e,t,n)=>t in e?c(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;function h(e){const t=e,{className:n,children:a,isSelected:i}=t,c=((e,t)=>{var n={};for(var r in e)u.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&d)for(var r of d(e))t.indexOf(r)<0&&m.call(e,r)&&(n[r]=e[r]);return n})(t,["className","children","isSelected"]);return r.createElement(s.Z,((e,t)=>{for(var n in t||(t={}))u.call(t,n)&&p(e,n,t[n]);if(d)for(var n of d(t))m.call(t,n)&&p(e,n,t[n]);return e})({className:o()(n,i&&"PageHeaderTabButton-isSelected-gqt8tL"),"data-testid":"tabButton",size:l.ln},c),a)}h.defaultProps={className:"PageHeaderTabButton-button-aP9Avj Button-button-TxWeuE Link-link-SxPFpG"};const y=h;var g=n(87264),v=n(10125),b=n(8059),E=n(84332),f=n(94659),P=n(24107);var Z=Object.defineProperty,C=Object.defineProperties,I=Object.getOwnPropertyDescriptors,D=Object.getOwnPropertySymbols,w=Object.prototype.hasOwnProperty,O=Object.prototype.propertyIsEnumerable,S=(e,t,n)=>t in e?Z(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const T={placement:"bottom-start",modifiers:[{name:"offset",options:{offset:[parseInt(P.Z.pageHeaderTabButtonLeftRightMargin,10)]}}]},M=function(e){const t=e,{tabs:n,component:a,onPress:i}=t,s=((e,t)=>{var n={};for(var r in e)w.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&D)for(var r of D(e))t.indexOf(r)<0&&O.call(e,r)&&(n[r]=e[r]);return n})(t,["tabs","component","onPress"]),{menuButtonID:l,isMenuOpen:c,onMenuButtonPress:d,onMenuClose:u}=(0,f.Z)(),m=(0,r.useCallback)((e=>{u(),i&&i(e)}),[i,u]),p=n.find((e=>e.isSelected))||n[0];return r.createElement("div",{className:"PageHeaderTabDropdown-container-s6_y_K","data-testid":"tabDropDown",id:l},r.createElement(y,{className:"PageHeaderTabDropdown-button-HKmBUj PageHeaderTabButton-button-aP9Avj Button-button-TxWeuE Link-link-SxPFpG",isSelected:p.isSelected,onPress:d},r.createElement("div",{className:"PageHeaderTabDropdown-buttonContents-X2SPy2"},r.createElement("div",{className:"PageHeaderTabDropdown-title-eSs4os"},p.title),r.createElement(g.Z,{className:o()("PageHeaderTabDropdown-disclosureArrow-mFj1jP DisclosureArrow-disclosureArrow-NTDkGd",p.isSelected&&"PageHeaderTabDropdown-isSelected-SvXSbi"),direction:c?b.UP:b.WV}))),r.createElement(v.Z,{isOpen:c,options:T,target:l,onMenuClose:u},n.map(((e,t)=>{return r.createElement(a,(n=((e,t)=>{for(var n in t||(t={}))w.call(t,n)&&S(e,n,t[n]);if(D)for(var n of D(t))O.call(t,n)&&S(e,n,t[n]);return e})({},s),i={key:t,component:E.Z,tab:e,onPress:m},C(n,I(i))));var n,i}))))};var N=n(75969);var R=Object.defineProperty,k=Object.defineProperties,x=Object.getOwnPropertyDescriptors,A=Object.getOwnPropertySymbols,j=Object.prototype.hasOwnProperty,G=Object.prototype.propertyIsEnumerable,H=(e,t,n)=>t in e?R(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,B=(e,t)=>{for(var n in t||(t={}))j.call(t,n)&&H(e,n,t[n]);if(A)for(var n of A(t))G.call(t,n)&&H(e,n,t[n]);return e},V=(e,t)=>k(e,x(t));function L(e){const t=e,{tabs:n,component:i,hideSingleTabs:o}=t,s=((e,t)=>{var n={};for(var r in e)j.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&A)for(var r of A(e))t.indexOf(r)<0&&G.call(e,r)&&(n[r]=e[r]);return n})(t,["tabs","component","hideSingleTabs"]),[l,c]=(0,r.useState)(0),d=(0,r.useCallback)((e=>{c(e.width)}),[]),[u,m]=(0,r.useState)(0),p=(0,r.useCallback)((e=>{m(e.width)}),[]),h=n.length<2,g=n.length>1&&u>l;return h&&o?null:r.createElement(a.Z,{className:"TabsPageHeaderCenter-pageHeaderCenter-FVRU4z PageHeaderCenter-pageHeaderCenter-mMF86x",ignoreHeight:!0,onMeasure:d},g?r.createElement(M,V(B({},s),{component:i,tabs:n})):r.createElement(a.Z,{ignoreHeight:!0,onMeasure:p},n.map(((e,t)=>r.createElement(i,V(B({},s),{key:t,component:y,tab:e}))))))}L.defaultProps={component:N.Z,hideSingleTabs:!0};const F=L},94173:(e,t,n)=>{n.d(t,{Z:()=>c});var r=n(28216),a=n(22222),i=n(3881),o=n(67294),s=n(69281),l=n(42985);const c=(0,r.$j)((function(){return(0,a.P1)((0,i.Z)(),(e=>({isEPGRefreshing:!!e,epgActivityProgress:e?e.progress:0,epgActivityTitle:e?e.title:""})))}))((function(e){const{className:t,isEPGRefreshing:n,epgActivityProgress:r,epgActivityTitle:a}=e;return n?o.createElement("span",{className:t},a," (",r,"%)",o.createElement(l.Z,{className:"ProgramGuideActivityStatus-refreshingSpinner-S0GTX1",size:s.HC})):null}))},10067:(e,t,n)=>{n.d(t,{Z:()=>m});var r=n(67294),a=n(37920),i=n(56791),o=n(24141),s=Object.defineProperty,l=Object.getOwnPropertySymbols,c=Object.prototype.hasOwnProperty,d=Object.prototype.propertyIsEnumerable,u=(e,t,n)=>t in e?s(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const m=function(e){const t=e,{children:n}=t,s=((e,t)=>{var n={};for(var r in e)c.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&l)for(var r of l(e))t.indexOf(r)<0&&d.call(e,r)&&(n[r]=e[r]);return n})(t,["children"]);return r.createElement(i.Z,((e,t)=>{for(var n in t||(t={}))c.call(t,n)&&u(e,n,t[n]);if(l)for(var n of l(t))d.call(t,n)&&u(e,n,t[n]);return e})({className:o.Z.innerEmptyPage,contentClassName:o.Z.innerEmptyPageContent,scrollDirection:a.Hn},s),n)}},34261:(e,t,n)=>{n.d(t,{Z:()=>s});var r=n(67294),a=n(73788),i=n(34513);function o(e){const{className:t}=e;return r.createElement(i.Z,{className:t},(0,a.Z)("New"))}o.defaultProps={className:"PremiereAiringBadge-badge-fAyt5M"};const s=o},23569:(e,t,n)=>{n.d(t,{Z:()=>pa});var r=n(67294),a=n(28216),i=n(22222),o=n(7574),s=n(84503),l=n(13469),c=n.n(l),d=n(87242),u=n(87880);function m(){return(0,i.P1)((0,u.Z)(),(e=>e?e.providers:void 0))}var p=n(46898);function h(e){return!0}var y=n(42437),g=n(53461),v=n(235),b=n(86418),E=n(87442),f=n(87999),P=n(62291),Z=n(99912),C=n(61661),I=n(37920),D=n(20533),w=n(39680),O=n(97257),S=n(71667),T=n(13688);const M=(0,r.forwardRef)((function({align:e="none","aria-label":t,color:n="inherit",size:a="inherit",testID:i},o){return r.createElement("svg",{ref:o,"aria-hidden":!t,"aria-label":t,className:(0,T.J)({align:e,color:n,size:a}),"data-testid":i,fill:"currentColor",height:48,viewBox:"0 0 48 48",width:48,xmlns:"http://www.w3.org/2000/svg"},r.createElement("path",{d:"M41.1213 6.87868C41.6839 7.44129 42 8.20435 42 9V18H39V9H33V12H30V9H18V12H15V9H9V39H15V42H9C8.20435 42 7.44129 41.6839 6.87868 41.1213C6.31607 40.5587 6 39.7957 6 39V9C6 8.20435 6.31607 7.44129 6.87868 6.87868C7.44129 6.31607 8.20435 6 9 6H15V3H18V6H30V3H33V6H39C39.7957 6 40.5587 6.31607 41.1213 6.87868Z",fill:"currentColor"}),r.createElement("path",{d:"M33.885 37.5L30 33.615V27H33V32.385L36 35.385L33.885 37.5Z",fill:"currentColor"}),r.createElement("path",{clipRule:"evenodd",d:"M31.5 45C29.1266 45 26.8066 44.2962 24.8332 42.9776C22.8598 41.6591 21.3217 39.7849 20.4135 37.5922C19.5052 35.3995 19.2676 32.9867 19.7306 30.6589C20.1936 28.3312 21.3365 26.193 23.0147 24.5147C24.693 22.8365 26.8312 21.6936 29.1589 21.2306C31.4867 20.7676 33.8995 21.0052 36.0922 21.9135C38.2849 22.8217 40.1591 24.3598 41.4776 26.3332C42.7962 28.3066 43.5 30.6266 43.5 33C43.5 36.1826 42.2357 39.2349 39.9853 41.4853C37.7349 43.7357 34.6826 45 31.5 45ZM31.5 24C29.72 24 27.9799 24.5278 26.4999 25.5168C25.0198 26.5057 23.8663 27.9113 23.1851 29.5559C22.5039 31.2004 22.3257 33.01 22.6729 34.7558C23.0202 36.5016 23.8774 38.1053 25.136 39.364C26.3947 40.6226 27.9984 41.4798 29.7442 41.8271C31.49 42.1743 33.2996 41.9961 34.9442 41.3149C36.5887 40.6337 37.9943 39.4802 38.9832 38.0001C39.9722 36.5201 40.5 34.78 40.5 33C40.5 30.6131 39.5518 28.3239 37.864 26.636C36.1761 24.9482 33.887 24 31.5 24Z",fill:"currentColor",fillRule:"evenodd"}))}));var N=n(73788),R=n(29012),k=n(85448),x=n(25555),A=n(42985),j=n(30471),G=n(58176),H=n(43508);function B(){return(0,i.P1)(((e,{providerID:t})=>t),m(),p.Z,((e,t,n)=>{if(e)return t.find((t=>{const r=n[t];return r&&r.identifier===e}))}))}var V=n(8067),L=n(993),F=n(31489),W=n(54139),_=n(24107),U=n(42227),$=n(42699),z=n(35343),K=n(45731),q=n(88638),X=n(61740),Y=n(40621),Q=n(30750),J=n(99184),ee=n(77613),te=n(8135),ne=n(99027),re=n(55550),ae=n(16983),ie=n(21411);const oe=function(e){const{className:t,beginsAt:n,endsAt:a,timeFormat:i}=e,o=function(e,t,n){return e?(0,ie.Z)(e,t)?(0,N.Z)("Airing now"):(0,ae.Z)(e,null,{timeFormat:n}):(0,N.Z)("No upcoming airings")}(n,a,i);return r.createElement("span",{className:t},o)};var se=n(37188);const le=function({className:e,type:t}){return r.createElement("span",{className:e},r.createElement(se.Z,{className:"RecordingPrioritySubscriptionSeriesTitle-seriesIcon-lEyOSY"}),function(e){return"show"===e?(0,N.Z)("Series"):void 0}(t))};var ce=Object.defineProperty,de=Object.getOwnPropertySymbols,ue=Object.prototype.hasOwnProperty,me=Object.prototype.propertyIsEnumerable,pe=(e,t,n)=>t in e?ce(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const he=function(e){const t=e,{component:n,isSecondary:a}=t,i=((e,t)=>{var n={};for(var r in e)ue.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&de)for(var r of de(e))t.indexOf(r)<0&&me.call(e,r)&&(n[r]=e[r]);return n})(t,["component","isSecondary"]);return r.createElement(n,((e,t)=>{for(var n in t||(t={}))ue.call(t,n)&&pe(e,n,t[n]);if(de)for(var n of de(t))me.call(t,n)&&pe(e,n,t[n]);return e})({className:a?"RecordingPrioritySubscriptionTitle-secondaryTitle-X8aUVa":"RecordingPrioritySubscriptionTitle-title-TmkOtz"},i))};var ye=Object.defineProperty,ge=Object.getOwnPropertySymbols,ve=Object.prototype.hasOwnProperty,be=Object.prototype.propertyIsEnumerable,Ee=(e,t,n)=>t in e?ye(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;class fe extends r.Component{constructor(e,t){super(e,t),this.onLinkPress=e=>{this.setState({isSubscribeModalOpen:!0})},this.onSubscribeModalClose=()=>{this.setState({isSubscribeModalOpen:!1})},this.state={isSubscribeModalOpen:!1}}shouldComponentUpdate(e,t){return(0,D.Z)(this,e,t)}render(){const e=this.props,{serverEntityID:t,providerEntityID:n,mediaSubscriptionEntityID:a,type:i,subtype:o,thumb:s,grandparentThumb:l,connectDragSource:c}=e,d=((e,t)=>{var n={};for(var r in e)ve.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&ge)for(var r of ge(e))t.indexOf(r)<0&&be.call(e,r)&&(n[r]=e[r]);return n})(e,["serverEntityID","providerEntityID","mediaSubscriptionEntityID","type","subtype","thumb","grandparentThumb","connectDragSource"]),{isSubscribeModalOpen:u}=this.state,m="playlist"===i?"show":i;return r.createElement("div",{className:"RecordingPrioritySubscription-subscription-NeXVO4"},r.createElement(k.Z,{className:"RecordingPrioritySubscription-link-ok3R9D",onPress:this.onLinkPress},r.createElement("div",{className:"RecordingPrioritySubscription-linkContainer-upGJfE"},r.createElement(q.Z,{className:"RecordingPrioritySubscription-posterContainer-skXft_",component:Y.Z,height:(0,ne.Cr)(48,m),providerEntityID:n,serverEntityID:t,type:m,url:l||s,width:48}),r.createElement("div",{className:"RecordingPrioritySubscription-titleContainer-SYZcaT"},function(e){let t;switch(e){case"movie":t=[J.Z,te.Z];break;case"show":t=[J.Z,le];break;case"episode":t=[Q.Z,ee.Z];break;case"playlist":t=[J.Z,le];break;default:t=[J.Z]}return t.push(oe),t}(i).map(((e,t)=>r.createElement(he,((e,t)=>{for(var n in t||(t={}))ve.call(t,n)&&Ee(e,n,t[n]);if(ge)for(var n of ge(t))be.call(t,n)&&Ee(e,n,t[n]);return e})({key:t,component:e,isSecondary:t>0,type:i},d))))))),c(r.createElement("div",{className:"RecordingPrioritySubscription-dragHandle-asEk9k Link-link-SxPFpG"},r.createElement(re.Z,{className:"RecordingPrioritySubscription-dragIcon-BPd81u"})),{dropEffect:"copy"}),r.createElement(X.Z,{isOpen:u,mediaSubscriptionEntityID:a,providerEntityID:n,serverEntityID:t,subscriptionType:i,onModalClose:this.onSubscribeModalClose}))}}fe.defaultProps={connectDragSource:e=>e};const Pe=fe;var Ze=Object.defineProperty,Ce=Object.getOwnPropertySymbols,Ie=Object.prototype.hasOwnProperty,De=Object.prototype.propertyIsEnumerable,we=(e,t,n)=>t in e?Ze(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const Oe=(0,a.$j)((function(){return(0,i.P1)(K.Z,(0,z.Z)(),(0,i.P1)((e=>e.ui.recordingSchedulePage.calendar.scheduled),(0,z.Z)(),((e,t)=>c().find(e,(e=>(0,$.Z)((0,U.Z)(e.beginsAt),new Date)&&e.mediaSubscriptionID===t.key)))),((e,t,n)=>{const r=c().pick(t.hint,"title","grandparentTitle","type","year","index","parentIndex","originallyAvailableAt","thumb","grandparentThumb");return n&&(r.beginsAt=n.beginsAt,r.endsAt=n.endsAt),r.timeFormat=e,r}))}))((function(e){return r.createElement(Pe,((e,t)=>{for(var n in t||(t={}))Ie.call(t,n)&&we(e,n,t[n]);if(Ce)for(var n of Ce(t))De.call(t,n)&&we(e,n,t[n]);return e})({},e))})),Se=parseInt(_.Z.recordingPriorityPaneWidth,10),Te=parseInt(_.Z.recordingPriorityDragHandleWidth,10);class Me extends r.Component{shouldComponentUpdate(e,t){return(0,D.Z)(this,e,t)}render(){const{serverEntityID:e,providerEntityID:t,item:n,itemType:a,currentOffset:i}=this.props;if(!i||a!==W.OT)return null;const{x:o,y:s}=i,l=`translate3d(${o-(Se-Te)}px, ${s}px, 0)`,c={position:"absolute",WebkitTransform:l,msTransform:l,transform:l};return r.createElement(F.Z,null,r.createElement("div",{className:"RecordingPrioritySubscriptionDragPreview-dragPreview-quuADK",style:c},r.createElement(Oe,{mediaSubscriptionEntityID:n.mediaSubscriptionEntityID,providerEntityID:t,serverEntityID:e})))}}const Ne=(0,L.r)((function(e){return{item:e.getItem(),itemType:e.getItemType(),currentOffset:e.getSourceClientOffset()}}))(Me);var Re=n(94184),ke=n.n(Re),xe=n(93712),Ae=n(90625),je=n(46408),Ge=n(73935),He=n(50774);const Be={beginDrag:({mediaSubscriptionEntityID:e})=>({mediaSubscriptionEntityID:e}),endDrag(e,t,n){e.onSubscriptionDragEnd(t.getItem(),t.didDrop())}},Ve={hover(e,t,n){const r=(0,Ge.findDOMNode)(n).getBoundingClientRect(),a=(r.bottom-r.top)/2,i=t.getClientOffset().y-r.top,o=e.sortIndex,s=i>a?o+1:o;e.onSubscriptionDragMove(s)}};class Le extends r.Component{componentDidMount(){this.props.connectDragPreview((0,je.r)())}shouldComponentUpdate(e,t){return(0,D.Z)(this,e,t)}render(){const{serverEntityID:e,providerEntityID:t,mediaSubscriptionEntityID:n,isDragging:a,isDraggingBefore:i,isDraggingAfter:o,isOver:s,connectDropTarget:l,connectDragSource:c}=this.props;return l(r.createElement("div",{className:ke()("RecordingPrioritySubscriptionDragSource-dragSource-ua3EiL",a&&He.fN,i&&s&&He.DT,o&&s&&He.QZ)},r.createElement(Oe,{connectDragSource:c,mediaSubscriptionEntityID:n,providerEntityID:t,serverEntityID:e})))}}const Fe=(0,xe.G)(W.OT,Ve,(function(e,t){return{connectDropTarget:e.dropTarget(),isOver:t.isOver()}}))((0,Ae.E)(W.OT,Be,(function(e,t){return{connectDragPreview:e.dragPreview(),connectDragSource:e.dragSource(),isDragging:t.isDragging()}}))(Le)),We=function(e){const{serverEntityID:t,providerEntityID:n,mediaSubscriptionEntityIDs:a,guideRoute:i,showError:o,showEmptyState:s,moveIndex:l,onSubscriptionDragMove:c,onSubscriptionDragEnd:d}=e;return r.createElement("div",{className:"RecordingPriorityPane-pane-dq4cLL"},r.createElement("div",{className:"RecordingPriorityPane-paneHeader-pEIfIi"},(0,N.Z)("Recording Priority")),r.createElement(V.Z,{autoScroll:!0,className:"RecordingPriorityPane-paneScroller-WG2FtX Scroller-vertical-nKq0Q8"},o?r.createElement("div",{className:"RecordingPriorityPane-error-VObeAc"},r.createElement("div",null,(0,N.Z)("There was an error loading recordings.")),r.createElement("div",null,(0,N.Z)("Please try again."))):null,s?r.createElement("div",{className:"RecordingPriorityPane-empty-iwDsd9"},r.createElement("div",null,(0,N.Z)("You have no recordings scheduled.")),r.createElement("div",null,r.createElement(R.Z,{message:(0,N.Z)("Check out the {openLink}Guide{closeLink} to browse available programming."),tags:[{open:"openLink",close:"closeLink",component:k.Z,kind:x._8,to:i}]}))):null,o||s?null:a.map(((e,a)=>{const i=null!=l,o=i&&l===a,s=i&&l===a+1;return r.createElement(Fe,{key:e,isDraggingAfter:s,isDraggingBefore:o,mediaSubscriptionEntityID:e,providerEntityID:n,serverEntityID:t,sortIndex:a,onSubscriptionDragEnd:d,onSubscriptionDragMove:c})}))),r.createElement(Ne,{providerEntityID:n,serverEntityID:t}))};var _e=Object.defineProperty,Ue=Object.defineProperties,$e=Object.getOwnPropertyDescriptors,ze=Object.getOwnPropertySymbols,Ke=Object.prototype.hasOwnProperty,qe=Object.prototype.propertyIsEnumerable,Xe=(e,t,n)=>t in e?_e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Ye=(e,t)=>{for(var n in t||(t={}))Ke.call(t,n)&&Xe(e,n,t[n]);if(ze)for(var n of ze(t))qe.call(t,n)&&Xe(e,n,t[n]);return e};const Qe={dispatchMoveMediaSubscription:o.moveMediaSubscription,dispatchClearMoveError:o.clearMoveError,dispatchShowAlert:H.wp};class Je extends r.Component{constructor(e,t){super(e,t),this.onSubscriptionDragMove=e=>{this.setState({moveIndex:e})},this.onSubscriptionDragEnd=(e,t)=>{const{moveIndex:n}=this.state;t&&null!=n&&(0,E.c9)((()=>{var t;this.props.dispatchMoveMediaSubscription((t=Ye({},e),Ue(t,$e({moveIndex:n}))))})),this.setState({moveIndex:null})},this.state={moveIndex:null}}componentDidUpdate(e){const{mediaSubscriptionMoveError:t,dispatchShowAlert:n,dispatchClearMoveError:r}=this.props,{mediaSubscriptionMoveError:a}=e;!a&&t&&(n(t),r())}render(){return r.createElement(We,Ye({moveIndex:this.state.moveIndex,onSubscriptionDragEnd:this.onSubscriptionDragEnd,onSubscriptionDragMove:this.onSubscriptionDragMove},this.props))}}const et=(0,a.$j)((function(){return(0,i.P1)((e=>e.ui.recordingSchedulePage),B(),((e,t)=>{const{mediaSubscriptions:n,isMediaSubscriptionsPopulated:r,mediaSubscriptionsError:a,mediaSubscriptionMoveError:i}=e;return{providerEntityID:t,mediaSubscriptionEntityIDs:n,mediaSubscriptionMoveError:i,showError:!r&&!!a,showEmptyState:r&&!a&&!n.length}}))}),Qe)(Je);var tt=n(10067);const nt=function({subscriptionCount:e}){return r.createElement(G.Z,{description:1===e?(0,N.Z)("There are no upcoming airings of the item in your list"):(0,N.Z)("There are no upcoming airings of the {subscriptionCount} items in your list",{subscriptionCount:e}),iconComponent:M,title:(0,N.Z)("You have no recordings scheduled")})};var rt=n(3151),at=n(82650),it=n(35387),ot=n(75165),st=n(86555),lt=n(62934),ct=n(26180),dt=n(36475),ut=n(30547),mt=Object.defineProperty,pt=Object.defineProperties,ht=Object.getOwnPropertyDescriptors,yt=Object.getOwnPropertySymbols,gt=Object.prototype.hasOwnProperty,vt=Object.prototype.propertyIsEnumerable,bt=(e,t,n)=>t in e?mt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Et=(e,t)=>{for(var n in t||(t={}))gt.call(t,n)&&bt(e,n,t[n]);if(yt)for(var n of yt(t))vt.call(t,n)&&bt(e,n,t[n]);return e};const ft={dispatchPlayRecording:o.playRecording};class Pt extends r.Component{constructor(){super(...arguments),this.onPlayPress=e=>{const{serverEntityID:t,providerEntityID:n,linkedKey:r,metricsContext:a,dispatchPlayRecording:i}=this.props;i({serverEntityID:t,providerEntityID:n,linkedKey:r,metricsContext:a})}}render(){const e=this.props,{component:t,mediaSubscriptionID:n,status:a,linkedKey:i,metricsContext:o}=e,s=((e,t)=>{var n={};for(var r in e)gt.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&yt)for(var r of yt(e))t.indexOf(r)<0&&vt.call(e,r)&&(n[r]=e[r]);return n})(e,["component","mediaSubscriptionID","status","linkedKey","metricsContext"]);return r.createElement(t,(l=Et({},s),c={onPlayPress:this.onPlayPress},pt(l,ht(c))));var l,c}}const Zt=(0,dt.Z)((function(){return(0,i.P1)(((e,{mediaSubscriptionID:t})=>t),((e,{status:t})=>t),K.Z,(0,i.P1)(((e,{linkedKey:t})=>t),((e,{metricsContext:t})=>t),lt.Z,((e,t,n)=>{const r={};return t&&(r.context=t),(0,ut.Z)(n,{isLibraryProvider:!0},e,r)})),(0,st.Z)(),(0,ot.Z)(),B(),((e,t,n,r,a,i,o)=>{const s=t===ct.ly,l=t===ct.pn,d=c().pick(a,"type","title","grandparentTitle","index","parentIndex","originallyAvailableAt"),u=Et({providerEntityID:o,prePlayRoute:r,isComplete:s,hasError:l,hasSubscription:!!e,showPlay:s&&!!r,timeFormat:n},d);return i?(u.isRecording=!0,u.isPostProcessing=i.Context.status===ct.jN,u.recordingProgress=i.progress):(u.isRecording=!1,u.isPostProcessing=!1),u}))}),ft)(Pt);var Ct=n(55855),It=n(9362),Dt=n(10829),wt=n(94685),Ot=n(74372),St=n(16950),Tt=n(3510),Mt=n(86192),Nt=n(76651),Rt=n(9913),kt=n(55949),xt=n(99539),At=n(84419),jt=n(18222),Gt=n(63135),Ht=n(74249),Bt=n(45181),Vt=n(17516),Lt=n(69281),Ft=n(88140),Wt=n(95352),_t=n(20946);const Ut=function({children:e,mediaItem:t}){const n=t&&t.videoResolution;let a,i=!1;if(n){const e=parseInt(n,10);i=!0,a=e>=720||4===e||8===e}return e||i?r.createElement(Wt.Z,null,e,i?r.createElement(_t.Z,{label:(0,N.Z)("Video")},a?(0,N.Z)("HD"):(0,N.Z)("SD")):null):null};var $t=n(23944);const zt=function(e){const{children:t,beginsAt:n,endsAt:a,channel:i,timeFormat:o}=e;if(!n||!a)return null;const s=Date.now()/1e3;let l;return l=a<s?(0,N.Z)("Aired"):n<=s&&a>=s?(0,N.Z)("Airing"):(0,N.Z)("Airs"),r.createElement(_t.Z,{label:l},r.createElement($t.Z,{beginsAt:n,channel:i,endsAt:a,showChannel:!0,showFullTime:!0,timeFormat:o}),t)};var Kt=n(26397),qt=n(14522),Xt=n(64303);const Yt="AiringDetailsModalContent-separator-aVukP8 DashSeparator-separator-_3fMys";var Qt=Object.getOwnPropertySymbols,Jt=Object.prototype.hasOwnProperty,en=Object.prototype.propertyIsEnumerable;const tn=function(e){const t=e,{serverEntityID:n,providerEntityID:a,summary:i,error:o,mediaItem:s,isComplete:l,hasError:c,isRecording:d,recordingProgress:u,timeFormat:m,onRecordingModify:p,onModalClose:h}=t,y=((e,t)=>{var n={};for(var r in e)Jt.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&Qt)for(var r of Qt(e))t.indexOf(r)<0&&en.call(e,r)&&(n[r]=e[r]);return n})(t,["serverEntityID","providerEntityID","summary","error","mediaItem","isComplete","hasError","isRecording","recordingProgress","timeFormat","onRecordingModify","onModalClose"]),{beginsAt:g,endsAt:v,startOffsetSeconds:b,endOffsetSeconds:E,channelTitle:f,channelShortTitle:P}=s,Z=!(!b&&!E),C=b&&Math.round(b/60),I=E&&Math.round(E/60);return r.createElement(Ft.Z,{onModalClose:h},r.createElement(Vt.Z,null,(0,N.Z)("Airing Details")),r.createElement(Gt.Z,null,r.createElement(Xt.Z,{hint:y,providerEntityID:a,serverEntityID:n},r.createElement(Ut,{mediaItem:s},r.createElement(zt,{beginsAt:g,channel:P||f,endsAt:v,showChannel:!0,showFullTime:!0,timeFormat:m},r.createElement("div",null,l?r.createElement("span",null,r.createElement(qt.Z,{className:"AiringDetailsModalContent-completeIcon-hiEuv0"}),(0,N.Z)("Recorded successfully")):null,d?r.createElement("span",null,r.createElement(xt.Z,{className:"AiringDetailsModalContent-recordingIcon-Jd0qzc"}),(0,N.Z)("Recording"),r.createElement(At.Z,{className:Yt}),(0,N.Z)("{recordingProgress}% complete",{recordingProgress:u})):null,c?r.createElement("span",null,r.createElement(Kt.Z,{className:"AiringDetailsModalContent-errorIcon-d1zdOh"}),o):null,l||d||c||!Z?null:r.createElement("span",null,C?r.createElement("span",null,(0,N.Z)("Recording starts {minuteOffset} min early",{minuteOffset:C}),I?r.createElement("span",null,r.createElement(At.Z,{className:Yt}),(0,N.Z)("Ends {minuteOffset} min late",{minuteOffset:I})):null):r.createElement("span",null,(0,N.Z)("Recording ends {minuteOffset} min late",{minuteOffset:I})))))),r.createElement("div",{className:"AiringDetailsModalContent-summary-miy4_v"},i))),r.createElement(Ht.Z,null,r.createElement(Bt.Z,null,r.createElement(jt.Z,{kind:x.TP,size:Lt.M2,onPress:p},(0,N.Z)("Modify Recording")),r.createElement(jt.Z,{kind:x._8,size:Lt.M2,onPress:h},(0,N.Z)("Close")))))};var nn=Object.defineProperty,rn=Object.getOwnPropertySymbols,an=Object.prototype.hasOwnProperty,on=Object.prototype.propertyIsEnumerable,sn=(e,t,n)=>t in e?nn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const ln=(0,a.$j)((function(){return(0,i.P1)(K.Z,(0,st.Z)(),((e,t)=>{const n=c().pick(t,"type","title","parentTitle","grandparentTitle","thumb","parentThumb","grandparentThumb","index","parentIndex","originallyAvailableAt","summary");return n.timeFormat=e,n}))}))((function(e){return r.createElement(tn,((e,t)=>{for(var n in t||(t={}))an.call(t,n)&&sn(e,n,t[n]);if(rn)for(var n of rn(t))on.call(t,n)&&sn(e,n,t[n]);return e})({},e))}));var cn=Object.defineProperty,dn=Object.getOwnPropertySymbols,un=Object.prototype.hasOwnProperty,mn=Object.prototype.propertyIsEnumerable,pn=(e,t,n)=>t in e?cn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const hn=function(e){const t=e,{isOpen:n,metricsProperties:a,metadataItemEntityID:i,onRecordingModify:o,onModalClose:s}=t,l=((e,t)=>{var n={};for(var r in e)un.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&dn)for(var r of dn(e))t.indexOf(r)<0&&mn.call(e,r)&&(n[r]=e[r]);return n})(t,["isOpen","metricsProperties","metadataItemEntityID","onRecordingModify","onModalClose"]);return r.createElement(kt.Z,{isOpen:n,metricsPage:P.go,metricsProperties:a,onModalClose:s},r.createElement(ln,((e,t)=>{for(var n in t||(t={}))un.call(t,n)&&pn(e,n,t[n]);if(dn)for(var n of dn(t))mn.call(t,n)&&pn(e,n,t[n]);return e})({metadataItemEntityID:i,onModalClose:s,onRecordingModify:o},l)))};var yn=n(57557),gn=n(15928),vn=n(34261),bn=n(86979),En=n(31722);const fn=function({error:e,onPress:t}){return r.createElement(bn.Z,{className:"CalendarErrorButton-errorButton-LLLvop",component:k.Z,tooltip:e,tooltipAttachment:En.eO,tooltipClassName:"CalendarErrorButton-errorTooltip-QfnyWQ Tooltip-bottomCenter-kGnBM4 Tooltip-tooltip-VFBXza Tooltip-tooltipArrow-rrJjO7 Tooltip-tooltipTopArrow-zHVo6b Tooltip-tooltipCenterAlignArrow-Y8ToMu",onPress:t},r.createElement(Kt.Z,{"aria-label":e}))},Pn={context:f.AGENDA};class Zn extends r.Component{constructor(e,t){super(e,t),this.onLinkPress=e=>{this.setState({isAiringDetailsModalOpen:!0})},this.onConflictIconPress=e=>{this.setState({isConflictsModalOpen:!0})},this.onRecordingModify=()=>{this.setState({isAiringDetailsModalOpen:!1,isSubscribeModalOpen:!0})},this.onAiringDetailsModalClose=()=>{this.setState({isAiringDetailsModalOpen:!1})},this.onSubscribeModalClose=()=>{this.setState({isSubscribeModalOpen:!1,isConflictsModalOpen:!1})},this.state={isAiringDetailsModalOpen:!1,isSubscribeModalOpen:!1,isConflictsModalOpen:!1}}shouldComponentUpdate(e,t){return(0,D.Z)(this,e,t)}render(){const{serverEntityID:e,providerEntityID:t,mediaSubscriptionEntityID:n,metadataItemEntityID:a,prePlayRoute:i,type:o,title:s,grandparentTitle:l,index:c,parentIndex:d,originallyAvailableAt:u,error:m,mediaItem:p,isRecording:h,isPostProcessing:y,recordingProgress:g,isComplete:v,hasError:b,hasSubscription:E,hasConflicts:f,showPlay:P,showDate:Z,timeFormat:C,onPlayPress:I}=this.props,{isAiringDetailsModalOpen:D,isSubscribeModalOpen:w,isConflictsModalOpen:O}=this.state,{beginsAt:S,endsAt:T,startOffsetSeconds:M=0,endOffsetSeconds:R=0,premiere:x}=p,A=(0,U.Z)(S),j=(0,wt.Z)(S-M,T+R,{timeFormat:C}),G=(0,Ot.Z)(S);let H;H=(0,St.Z)(S)?(0,N.Z)("Yesterday"):G?(0,N.Z)("Today"):(0,N.Z)("{dayOfWeek}, {monthNumber} {dayNumber}",{dayOfWeek:(0,It.Z)(S,{abbreviate:!0}),monthNumber:(0,Dt.Z)(S,{abbreviate:!0}),dayNumber:(0,Ct.Z)(A)});const B=l||s,V=function(e,t,n,r,a,i){return"episode"!==e?n:`${t} - ${(0,Tt.Z)({seasonIndex:r,episodeIndex:a,date:i})} - ${n}`}(o,l,s,d,c,u);return r.createElement("div",{className:ke()("AgendaEvent-event-PenYYt",v&&"AgendaEvent-isComplete-lSFdtc",b&&"AgendaEvent-hasError-_jwzDV")},r.createElement(k.Z,{className:"AgendaEvent-underlay-XmZL0H",to:i,onPress:i?void 0:this.onLinkPress}),r.createElement("div",{className:"AgendaEvent-overlay-SXWjq8"},r.createElement("div",{className:ke()("AgendaEvent-date-tMiZ9l",G&&"AgendaEvent-isToday-TIKGCt")},Z?H:null),r.createElement("div",{className:"AgendaEvent-time-Vr9Pcu"},j),r.createElement("div",{className:"AgendaEvent-title-thgBZY",title:V},x?r.createElement(vn.Z,null):null,B,r.createElement("div",{className:"AgendaEvent-titleDetails-NjjPEO"},"movie"===o?r.createElement(gn.Z,{metadataItemEntityID:a}):null,"episode"===o?r.createElement(yn.Z,{metadataItemEntityID:a}):null)),r.createElement("div",{className:"AgendaEvent-status-ra3bni"},!h||y||b?null:r.createElement("div",{className:"AgendaEvent-recording-a_P8Pj"},r.createElement(Nt.Z,{backgroundClassName:"AgendaEvent-recordingProgressBackground-sPplXa CircularProgressBar-circularProgressBarBackground-BcC4L1 CircularProgressBar-circularProgressBarBackground-Bw4kwM",lineWidth:2,progress:g,showProgressText:!1,size:24}),r.createElement("span",{className:"AgendaEvent-recordingIcon-MvSNog"})),h&&y&&!b?r.createElement(Mt.Z,null):null,P?r.createElement(Rt.Z,{title:s,onPress:I}):null,b?r.createElement(fn,{error:m,onPress:f?this.onConflictIconPress:this.onLinkPress}):null)),E?r.createElement(hn,{error:m,hasError:b,hasSubscription:E,isComplete:v,isOpen:D,isRecording:h,mediaItem:p,metadataItemEntityID:a,metricsProperties:Pn,providerEntityID:t,recordingProgress:g,serverEntityID:e,onModalClose:this.onAiringDetailsModalClose,onRecordingModify:this.onRecordingModify}):null,E?r.createElement(X.Z,{isOpen:w||O,isRecordingSchedule:!0,mediaSubscriptionEntityID:n,metadataItemEntityID:a,metricsProperties:Pn,providerEntityID:t,serverEntityID:e,showConflicts:O,subscriptionType:o,onModalClose:this.onSubscribeModalClose}):null)}}const Cn=Zn,In=(0,a.$j)((function(){return(0,i.P1)((e=>e.ui.recordingSchedulePage.calendar),(e=>({events:e.scheduled})))}))((function({serverEntityID:e,events:t}){return r.createElement("div",null,t.map(((n,a)=>{const i=(0,U.Z)(n.beginsAt),o=0===a||!(0,rt.Z)((0,U.Z)(t[a-1].beginsAt),i),s=(0,at.Z)(it.PK,n.mediaSubscriptionID,e);return r.createElement(Zt,{key:a,component:Cn,error:n.error,eventID:n.metadataItem.key,hasConflicts:!(!n.conflicts||!n.conflicts.length),linkedKey:n.linkedKey,mediaItem:n.mediaItem,mediaSubscriptionEntityID:s,mediaSubscriptionID:n.mediaSubscriptionID,metadataItemEntityID:n.metadataItem,providerID:n.identifier||n.provider,serverEntityID:e,showDate:o,status:n.status})})))}));var Dn=n(19013);function wn(e,t){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var n=(0,Dn.Z)(e,t),r=n.getFullYear();return r}function On(e){const t=(0,U.Z)(e);return(0,N.Z)("{month} {dayNumber}, {year}",{month:(0,Dt.Z)(e),dayNumber:(0,Ct.Z)(t),year:wn(t)})}const Sn=function({startTime:e,endTime:t}){const n=(0,U.Z)(e),a=(0,U.Z)(t),i=(0,rt.Z)(n,a)?On(e):`${function(e){const t=(0,U.Z)(e);return(0,N.Z)("{month} {dayNumber}",{month:(0,Dt.Z)(e),dayNumber:(0,Ct.Z)(t)})}(e)}  ${On(t)}`;return r.createElement("span",{className:"CalendarHeaderTitle-title-yhCQ8X"},i)};var Tn=Object.defineProperty,Mn=Object.getOwnPropertySymbols,Nn=Object.prototype.hasOwnProperty,Rn=Object.prototype.propertyIsEnumerable,kn=(e,t,n)=>t in e?Tn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const xn=(0,a.$j)((function(){return(0,i.P1)((e=>e.ui.recordingSchedulePage),(e=>{const{firstEvent:t,lastEvent:n}=e.calendar;return{startTime:t?t.beginsAt:void 0,endTime:n?n.beginsAt:void 0}}))}))((function(e){return r.createElement("div",{className:"AgendaHeader-agendaHeader-Y2wvE3"},r.createElement(Sn,((e,t)=>{for(var n in t||(t={}))Nn.call(t,n)&&kn(e,n,t[n]);if(Mn)for(var n of Mn(t))Rn.call(t,n)&&kn(e,n,t[n]);return e})({},e)))})),An=(0,a.$j)((function(){return(0,i.P1)((e=>e.ui.recordingSchedulePage),(e=>{const{mediaSubscriptions:t,calendar:n,isCalendarPopulated:r,calendarError:a}=e;return{showError:!r&&!!a,isEmpty:!n.scheduled.length,subscriptionCount:t.length}}))}))((function(e){const{serverEntityID:t,showError:n,isEmpty:a,subscriptionCount:i}=e;return n?r.createElement(tt.Z,{title:(0,N.Z)("There was an error loading the agenda")}):a?r.createElement(nt,{subscriptionCount:i}):r.createElement("div",null,r.createElement(xn,null),r.createElement(In,{serverEntityID:t}))}));var jn=n(62704),Gn=n(45697),Hn=n.n(Gn);const Bn={context:f.CALENDAR};class Vn extends r.Component{constructor(e,t){super(e,t),this.onLinkPress=e=>{this.setState({isAiringDetailsModalOpen:!0})},this.onConflictIconPress=e=>{this.setState({isConflictsModalOpen:!0})},this.onRecordingModify=()=>{this.setState({isAiringDetailsModalOpen:!1,isSubscribeModalOpen:!0})},this.onAiringDetailsModalClose=()=>{this.setState({isAiringDetailsModalOpen:!1})},this.onSubscribeModalClose=()=>{this.setState({isSubscribeModalOpen:!1,isConflictsModalOpen:!1})},this.state={isAiringDetailsModalOpen:!1,isSubscribeModalOpen:!1,isConflictsModalOpen:!1}}shouldComponentUpdate(e,t){return(0,D.Z)(this,e,t)}render(){const{serverEntityID:e,providerEntityID:t,mediaSubscriptionEntityID:n,metadataItemEntityID:a,prePlayRoute:i,type:o,grandparentTitle:s,title:l,error:c,mediaItem:d,isRecording:u,isPostProcessing:m,recordingProgress:p,isComplete:h,hasError:y,hasSubscription:g,hasConflicts:v,showPlay:b,timeFormat:E,onPlayPress:f}=this.props,{isAiringDetailsModalOpen:P,isSubscribeModalOpen:Z,isConflictsModalOpen:C}=this.state,{beginsAt:I,endsAt:D,startOffsetSeconds:w=0,endOffsetSeconds:O=0,premiere:S}=d,T=(0,wt.Z)(I-w,D+O,{includeMinuteZero:!1,timeFormat:E}),M=s||l;return r.createElement("div",{className:ke()("CalendarEvent-event-KjyEXP",h&&"CalendarEvent-isComplete-yvCO2_",y&&"CalendarEvent-hasError-W97ZeH")},r.createElement(k.Z,{className:"CalendarEvent-underlay-NibxML",to:i,onPress:i?void 0:this.onLinkPress}),r.createElement("div",{className:"CalendarEvent-overlay-NaT7di"},r.createElement("div",{className:"CalendarEvent-title-_SlooU",title:M},M),r.createElement("div",{className:"CalendarEvent-secondaryInfo-ZR7At4"},r.createElement("div",{className:"CalendarEvent-time-ebPM1y"},T),S?r.createElement(vn.Z,null):null),r.createElement("div",{className:"CalendarEvent-status-PzG0OH"},!u||m||y?null:r.createElement("div",{className:"CalendarEvent-recording-DGNhNq"},r.createElement(Nt.Z,{backgroundClassName:"CalendarEvent-recordingProgressBackground-yCB7KR CircularProgressBar-circularProgressBarBackground-BcC4L1 CircularProgressBar-circularProgressBarBackground-Bw4kwM",lineWidth:2,progress:p,showProgressText:!1,size:24}),r.createElement("span",{className:"CalendarEvent-recordingIcon-pbWdc5"})),u&&m&&!y?r.createElement(Mt.Z,null):null,b?r.createElement(Rt.Z,{title:l,onPress:f}):null,y?r.createElement(fn,{error:c,onPress:v?this.onConflictIconPress:this.onLinkPress}):null)),g?r.createElement(hn,{error:c,hasError:y,isComplete:h,isOpen:P,isRecording:u,mediaItem:d,metadataItemEntityID:a,metricsProperties:Bn,providerEntityID:t,recordingProgress:p,serverEntityID:e,onModalClose:this.onAiringDetailsModalClose,onRecordingModify:this.onRecordingModify}):null,g?r.createElement(X.Z,{isOpen:Z||C,isRecordingSchedule:!0,mediaSubscriptionEntityID:n,metadataItemEntityID:a,metricsProperties:Bn,providerEntityID:t,serverEntityID:e,showConflicts:C,subscriptionType:o,onModalClose:this.onSubscribeModalClose}):null)}}const Ln=Vn;var Fn=Object.defineProperty,Wn=Object.getOwnPropertySymbols,_n=Object.prototype.hasOwnProperty,Un=Object.prototype.propertyIsEnumerable,$n=(e,t,n)=>t in e?Fn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const zn=(0,a.$j)((function(){return(0,i.P1)((e=>e.ui.recordingSchedulePage.calendar),((e,{date:t})=>t),((e,t)=>({events:e.scheduled.filter((({beginsAt:e})=>(0,rt.Z)((0,U.Z)(e),(0,U.Z)(t))))})))}))((function({serverEntityID:e,events:t}){return r.createElement("div",null,t.map(((t,n)=>{const a=(0,at.Z)(it.PK,t.mediaSubscriptionID,e);return r.createElement(Zt,{key:n,component:Ln,error:t.error,eventID:t.metadataItem.key,hasConflicts:!(!t.conflicts||!t.conflicts.length),linkedKey:t.linkedKey,mediaItem:t.mediaItem,mediaSubscriptionEntityID:a,mediaSubscriptionID:t.mediaSubscriptionID,metadataItemEntityID:t.metadataItem,providerID:t.identifier||t.provider,serverEntityID:e,status:t.status})})))}));zn.propTypes=((e,t)=>{for(var n in t||(t={}))_n.call(t,n)&&$n(e,n,t[n]);if(Wn)for(var n of Wn(t))Un.call(t,n)&&$n(e,n,t[n]);return e})({date:Hn().number.isRequired},zn.propTypes);const Kn=zn,qn=function({serverEntityID:e,date:t}){return r.createElement("div",{className:"CalendarDay-day-CG2muM"},r.createElement(Kn,{date:t,serverEntityID:e}))};var Xn=Object.defineProperty,Yn=Object.getOwnPropertySymbols,Qn=Object.prototype.hasOwnProperty,Jn=Object.prototype.propertyIsEnumerable,er=(e,t,n)=>t in e?Xn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const tr=(0,a.$j)((function(){return(0,i.P1)((e=>e.ui.recordingSchedulePage),(e=>({days:e.calendar.days})))}))((function(e){var t=e,{days:n}=t,a=((e,t)=>{var n={};for(var r in e)Qn.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&Yn)for(var r of Yn(e))t.indexOf(r)<0&&Jn.call(e,r)&&(n[r]=e[r]);return n})(t,["days"]);return r.createElement("div",{className:"CalendarDays-calendarDays-YaP3Tf"},n.map((e=>r.createElement(qn,((e,t)=>{for(var n in t||(t={}))Qn.call(t,n)&&er(e,n,t[n]);if(Yn)for(var n of Yn(t))Jn.call(t,n)&&er(e,n,t[n]);return e})({key:e,date:e},a)))))}));var nr=n(78966);const rr=function({date:e}){const t=(0,Ot.Z)(e);let n;if((0,St.Z)(e))n=(0,N.Z)("Yesterday");else if(t)n=(0,N.Z)("Today");else{const t=(0,U.Z)(e);n=(0,N.Z)("{dayOfWeek} {monthNumber}/{dayNumber}",{dayOfWeek:(0,It.Z)(e,{abbreviate:!0}),monthNumber:(0,nr.Z)(t)+1,dayNumber:(0,Ct.Z)(t)})}return r.createElement("div",{className:ke()("CalendarDayOfWeek-dayOfWeek-zDLtCd",t&&"CalendarDayOfWeek-isToday-FhWrT0"),title:n},n)};var ar=Object.defineProperty,ir=Object.getOwnPropertySymbols,or=Object.prototype.hasOwnProperty,sr=Object.prototype.propertyIsEnumerable,lr=(e,t,n)=>t in e?ar(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const cr=(0,a.$j)((function(){return(0,i.P1)((e=>e.ui.recordingSchedulePage.calendar),(e=>({daysOfWeek:e.daysOfWeek})))}))((function(e){var t=e,{daysOfWeek:n}=t,a=((e,t)=>{var n={};for(var r in e)or.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&ir)for(var r of ir(e))t.indexOf(r)<0&&sr.call(e,r)&&(n[r]=e[r]);return n})(t,["daysOfWeek"]);return r.createElement("div",{className:"CalendarDaysOfWeek-container-ljeoIn"},n.map((e=>r.createElement(rr,((e,t)=>{for(var n in t||(t={}))or.call(t,n)&&lr(e,n,t[n]);if(ir)for(var n of ir(t))sr.call(t,n)&&lr(e,n,t[n]);return e})({key:e,date:e},a)))))}));var dr=n(71078),ur=n(26900);const mr="CalendarHeader-calendarHeader-RDW2rW",pr="CalendarHeader-calendarNav-kzSOqn Link-link-SxPFpG",hr="CalendarHeader-calendarNavDisabled-Rs4dGm";var yr=Object.defineProperty,gr=Object.getOwnPropertySymbols,vr=Object.prototype.hasOwnProperty,br=Object.prototype.propertyIsEnumerable,Er=(e,t,n)=>t in e?yr(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const fr=function(e){const{hasPastEvents:t,hasFutureEvents:n,onGoToPreviousRangePress:a,onGoToNextRangePress:i}=e;return r.createElement("div",{className:mr},r.createElement("div",{className:mr},r.createElement(k.Z,{className:ke()(pr,!t&&hr),isDisabled:!t,kind:x.TP,size:Lt.M2,onPress:a},r.createElement(dr.e,{"aria-label":(0,N.Z)("Previous Page")})),r.createElement(Sn,((e,t)=>{for(var n in t||(t={}))vr.call(t,n)&&Er(e,n,t[n]);if(gr)for(var n of gr(t))br.call(t,n)&&Er(e,n,t[n]);return e})({},e)),r.createElement(k.Z,{className:ke()(pr,!n&&hr),isDisabled:!n,kind:x.TP,size:Lt.M2,onPress:i},r.createElement(ur.V,{"aria-label":(0,N.Z)("Next Page")}))))};var Pr=Object.defineProperty,Zr=Object.getOwnPropertySymbols,Cr=Object.prototype.hasOwnProperty,Ir=Object.prototype.propertyIsEnumerable,Dr=(e,t,n)=>t in e?Pr(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,wr=(e,t)=>{for(var n in t||(t={}))Cr.call(t,n)&&Dr(e,n,t[n]);if(Zr)for(var n of Zr(t))Ir.call(t,n)&&Dr(e,n,t[n]);return e};const Or=(0,a.$j)((function(){return(0,i.P1)((e=>e.ui.recordingSchedulePage),(e=>{const t=c().pick(e.calendar,"time","startTime","endTime","hasPastEvents","hasFutureEvents");return wr({},t)}))}))((function(e){return r.createElement(fr,wr({},e))}));class Sr extends r.Component{constructor(e,t){super(e,t),this.onMeasure=({width:e})=>{const t=this.state.visibleDays,n=Math.min(Math.floor(e/120),7);n!==t&&this.props.onVisibleDaysChange(n),this.setState({width:e,visibleDays:n})},this.state={width:null,visibleDays:0}}render(){const{serverEntityID:e,showError:t,isEmpty:n,subscriptionCount:a,visibleDays:i,onGoToPreviousRangePress:o,onGoToNextRangePress:s}=this.props;return t?r.createElement(tt.Z,{title:(0,N.Z)("There was an error loading the calendar")}):n?r.createElement(nt,{subscriptionCount:a}):r.createElement(jn.Z,{className:"Calendar-calendar-DdlxLx",ignoreHeight:!0,onMeasure:this.onMeasure},i===this.state.visibleDays?r.createElement("div",null,r.createElement(Or,{onGoToNextRangePress:s,onGoToPreviousRangePress:o}),r.createElement(cr,null),r.createElement(tr,{serverEntityID:e})):null)}}const Tr=Sr;var Mr=Object.defineProperty,Nr=Object.getOwnPropertySymbols,Rr=Object.prototype.hasOwnProperty,kr=Object.prototype.propertyIsEnumerable,xr=(e,t,n)=>t in e?Mr(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;class Ar extends r.Component{constructor(){super(...arguments),this.onVisibleDaysChange=e=>{(0,E.c9)((()=>{this.props.setVisibleDays({visibleDays:e})}))},this.onGoToPreviousRangePress=()=>{this.props.goToPreviousRange()},this.onGoToNextRangePress=()=>{this.props.goToNextRange()}}render(){return r.createElement(Tr,((e,t)=>{for(var n in t||(t={}))Rr.call(t,n)&&xr(e,n,t[n]);if(Nr)for(var n of Nr(t))kr.call(t,n)&&xr(e,n,t[n]);return e})({onGoToNextRangePress:this.onGoToNextRangePress,onGoToPreviousRangePress:this.onGoToPreviousRangePress,onVisibleDaysChange:this.onVisibleDaysChange},this.props))}}const jr=(0,a.$j)((function(){return(0,i.P1)((e=>e.ui.recordingSchedulePage),(e=>{const{mediaSubscriptions:t,calendar:n,isCalendarPopulated:r,calendarError:a}=e;return{showError:!r&&!!a,isEmpty:!n.scheduled.length,subscriptionCount:t.length,visibleDays:n.visibleDays}}))}),o)(Ar);var Gr=n(27586);const Hr=(0,a.$j)((function(){return(0,i.P1)(((e,{sourceDirectory:t})=>t),(0,u.Z)(),(0,g.Z)(),((e,t,n)=>({guideRoute:(0,S.ZP)(S.tk.GUIDE,t,n,e)})))}))((function(e){const{serverEntityID:t,showSpinner:n,showEmptyState:a,programGuideIdentifier:i,selectedViewType:o,guideRoute:s}=e;return n?r.createElement(j.Z,null,r.createElement(G.Z,null,r.createElement(A.Z,null))):a&&i?r.createElement(j.Z,null,r.createElement(G.Z,{description:r.createElement(R.Z,{message:(0,N.Z)("Check out the {openLink}Guide{closeLink} to browse available programming"),tags:[{open:"openLink",close:"closeLink",component:k.Z,kind:x._8,to:s}]}),iconComponent:M,title:(0,N.Z)("You have no recordings scheduled")})):a&&!i?r.createElement(j.Z,null,r.createElement(G.Z,{description:(0,N.Z)("You need a DVR before you can schedule recordings"),iconComponent:M,title:(0,N.Z)("You have no recordings scheduled")})):r.createElement("div",{className:"RecordingSchedulePageContent-schedulePageContent-ep1GkU PageContent-pageContent-rk0p0C"},r.createElement(j.Z,{innerClassName:"RecordingSchedulePageContent-schedulePageInnerContent-hL2b2b PageContent-innerPageContent-m6ARXd"},o===Gr.XN?r.createElement(jr,{serverEntityID:t}):null,o===Gr.JF?r.createElement(An,{serverEntityID:t}):null),r.createElement(et,{guideRoute:s,providerID:i,serverEntityID:t}))}));var Br=n(3881),Vr=n(17282),Lr=n(10125),Fr=n(28201),Wr=n(863),_r=n(84332),Ur=n(23574),$r=n(78891),zr=n(70513),Kr=n(1522),qr=n(35567),Xr=n(66380),Yr=n(91192),Qr=n(94173);function Jr(e){return e===Gr.JF?(0,N.Z)("Agenda View"):(0,N.Z)("Calendar View")}class ea extends r.Component{constructor(e,t){super(e,t),this.onViewsMenuButtonPress=e=>{this.setState({isViewsMenuOpen:!this.state.isViewsMenuOpen})},this.onViewsMenuClose=()=>{this.setState({isViewsMenuOpen:!1})},this.state={isViewsMenuOpen:!1},this._viewsMenuButtonID=(0,Fr.Z)()}shouldComponentUpdate(e,t){return(0,D.Z)(this,e,t)}render(){const{serverEntityID:e,providerEntityID:t,sourceDirectory:n,selectedViewType:a,showEPGActivity:i}=this.props,{isViewsMenuOpen:o}=this.state;return r.createElement(r.Fragment,null,n?r.createElement(Kr.Z,null,r.createElement(Yr.Z,{providerEntityID:t,serverEntityID:e,sourceDirectory:n}),r.createElement(Xr.Z,{directoryKey:S.tk.RECORDING_SCHEDULE,providerEntityID:t,serverEntityID:e,sourceDirectory:n}),r.createElement(qr.Z,null)):null,r.createElement(Ur.Z,null,r.createElement(zr.Z,null,r.createElement(Vr.Z,{hasMenu:!0,id:this._viewsMenuButtonID,isMenuOpen:o,onPress:this.onViewsMenuButtonPress},Jr(a)),r.createElement(Lr.Z,{isOpen:o,target:this._viewsMenuButtonID,onMenuClose:this.onViewsMenuClose},Gr.$6.map((e=>r.createElement(_r.Z,{key:e,isSelected:a===e,to:(0,Wr.Z)({view:e}),onPress:this.onViewsMenuClose},Jr(e)))))),i?r.createElement($r.Z,null,r.createElement(Qr.Z,{providerEntityID:t,serverEntityID:e})):null))}}const ta=ea,na=(0,a.$j)((function(){return(0,i.P1)((0,Br.Z)(),(e=>({showEPGActivity:!!e})))}))(ta);var ra=Object.defineProperty,aa=Object.getOwnPropertySymbols,ia=Object.prototype.hasOwnProperty,oa=Object.prototype.propertyIsEnumerable,sa=(e,t,n)=>t in e?ra(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,la=(e,t)=>{for(var n in t||(t={}))ia.call(t,n)&&sa(e,n,t[n]);if(aa)for(var n of aa(t))oa.call(t,n)&&sa(e,n,t[n]);return e};class ca extends r.Component{shouldComponentUpdate(e,t){return(0,D.Z)(this,e,t)}render(){const{serverEntityID:e,providerEntityID:t,sourceDirectory:n,selectedViewType:a}=this.props;return n||(r.Fragment,la({},this.props)),r.createElement(Z.Z,{metricsContext:(0,C.Z)(P.WT,f.DVR_SCHEDULE_PIVOT)},r.createElement(O.Z,{metricsPage:P.WT,metricsProperties:{pane:a},scrollDirection:I.Hn},r.createElement(na,{providerEntityID:t,selectedViewType:a,serverEntityID:e,sourceDirectory:n}),r.createElement(w.Z,{providerEntityID:t,serverEntityID:e}),r.createElement(Hr,la({},this.props))))}}const da=ca,ua={initRecordingSchedulePage:o.initRecordingSchedulePage,clearRecordingSchedulePage:o.clearRecordingSchedulePage,goToToday:o.goToToday,fetchCalendar:o.fetchCalendar,fetchMediaSubscriptions:o.fetchMediaSubscriptions,saveExperienceSettings:s.LN};class ma extends r.Component{constructor(e,t){super(e,t),this._updateCalendar=()=>{this.props.goToToday(),this.props.fetchCalendar(),this._resetUpdateTimeout()},this._updateTimeoutID=null}UNSAFE_componentWillMount(){this._populate(),this._resetUpdateTimeout(),this._saveViewType()}UNSAFE_componentWillReceiveProps(e){const{serverEntityID:t,time:n,selectedViewType:r}=e;t!==this.props.serverEntityID&&this._populate(e),this._updateTimeoutID&&n!==this.props.time&&this._resetUpdateTimeout(),r!==this.props.selectedViewType&&this._saveViewType(e)}componentWillUnmount(){this._updateTimeoutID&&window.clearTimeout(this._updateTimeoutID),this.props.clearRecordingSchedulePage()}_populate(e=this.props){(0,E.c9)((()=>{e.initRecordingSchedulePage({serverEntityID:e.serverEntityID}),e.fetchCalendar(),e.fetchMediaSubscriptions()}))}_resetUpdateTimeout(){this._updateTimeoutID&&window.clearTimeout(this._updateTimeoutID),this._updateTimeoutID=window.setTimeout(this._updateCalendar,36e5)}_saveViewType(e=this.props){e.saveExperienceSettings({calendarViewType:e.selectedViewType})}render(){const{serverEntityID:e,providerEntityID:t,sourceDirectory:n,selectedViewType:a,showSpinner:i,showEmptyState:o,programGuideIdentifier:s}=this.props;return this.props.isPagePopulated?r.createElement(da,{programGuideIdentifier:s,providerEntityID:t,selectedViewType:a,serverEntityID:e,showEmptyState:o,showSpinner:i,sourceDirectory:n}):null}}const pa=(0,a.$j)((function(){return(0,i.P1)((e=>e.ui.recordingSchedulePage),((e,{selectedViewType:t})=>t),(0,g.Z)(),(0,y.Z)(),(0,i.P1)(p.Z,function(e,t=h){return(0,d.Z)(function(e,t){return(0,i.P1)(p.Z,m(),((n,r)=>r?r.reduce(((r,a)=>{const i=n[a];return i&&t(i)&&c().findWhere(i.features,{type:e})&&r.push(a),r}),[]):[]))}(e,t),(e=>e))}(b.Z.SUBSCRIBE),((e,t)=>{const n=t[0];if(n){const t=e[n];return t&&t.identifier}})),v.Z,((e,t,n,r,a,i)=>{const{isPagePopulated:o,isCalendarPopulated:s,calendarError:l,isMediaSubscriptionsPopulated:c,mediaSubscriptionsError:d,calendar:u}=e,m=!s&&!l||!c&&!d,p=!m&&c&&!e.mediaSubscriptions.length&&s&&!u.scheduled.length;return{sourceDirectory:r,providerIdentifier:n.identifier,isPagePopulated:o,showSpinner:m,showEmptyState:p,programGuideIdentifier:a,time:u?u.time:void 0,selectedViewType:t||i.calendarViewType}}))}),ua)(ma)}}]);