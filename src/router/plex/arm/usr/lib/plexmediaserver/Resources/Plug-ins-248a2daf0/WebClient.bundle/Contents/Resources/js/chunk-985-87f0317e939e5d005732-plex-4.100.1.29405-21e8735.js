(self.webpackChunkplex_web_client=self.webpackChunkplex_web_client||[]).push([[985],{80040:(e,t,r)=>{"use strict";r.d(t,{O:()=>s});var n=r(67294),i=r(24305);const s=(0,n.forwardRef)((function({align:e="none","aria-label":t,color:r="inherit",size:s="inherit",testID:o},a){return n.createElement("svg",{ref:a,"aria-hidden":!t,"aria-label":t,className:(0,i.J)({align:e,color:r,size:s}),"data-testid":o,fill:"currentColor",height:48,viewBox:"0 0 48 48",width:48,xmlns:"http://www.w3.org/2000/svg"},n.createElement("path",{d:"M9 6H12V42H9V6Z",fill:"currentColor"}),n.createElement("path",{clipRule:"evenodd",d:"M27 6H21C20.2044 6 19.4413 6.31607 18.8787 6.87868C18.3161 7.44129 18 8.20435 18 9V39C18 39.7957 18.3161 40.5587 18.8787 41.1213C19.4413 41.6839 20.2044 42 21 42H27C27.7956 42 28.5587 41.6839 29.1213 41.1213C29.6839 40.5587 30 39.7957 30 39V9C30 8.20435 29.6839 7.44129 29.1213 6.87868C28.5587 6.31607 27.7956 6 27 6ZM27 9V39H21V9H27Z",fill:"currentColor",fillRule:"evenodd"}),n.createElement("path",{d:"M39 6H36V42H39V6Z",fill:"currentColor"}))}))},68047:(e,t,r)=>{"use strict";r.d(t,{U:()=>s});var n=r(67294),i=r(24305);const s=(0,n.forwardRef)((function({align:e="none","aria-label":t,color:r="inherit",size:s="inherit",testID:o},a){return n.createElement("svg",{ref:a,"aria-hidden":!t,"aria-label":t,className:(0,i.J)({align:e,color:r,size:s}),"data-testid":o,fill:"currentColor",height:48,viewBox:"0 0 48 48",width:48,xmlns:"http://www.w3.org/2000/svg"},n.createElement("path",{d:"M40.5 22.5H7.5V25.5H40.5V22.5Z",fill:"currentColor"}))}))},11801:(e,t,r)=>{"use strict";r.d(t,{J:()=>s});var n=r(67294),i=r(24305);const s=(0,n.forwardRef)((function({align:e="none","aria-label":t,color:r="inherit",size:s="inherit",testID:o},a){return n.createElement("svg",{ref:a,"aria-hidden":!t,"aria-label":t,className:(0,i.J)({align:e,color:r,size:s}),"data-testid":o,fill:"currentColor",height:48,viewBox:"0 0 48 48",width:48,xmlns:"http://www.w3.org/2000/svg"},n.createElement("path",{clipRule:"evenodd",d:"M24 4.5C24.8284 4.5 25.5 5.17157 25.5 6V37.3787L29.4393 33.4393C30.0251 32.8536 30.9749 32.8536 31.5607 33.4393C32.1464 34.0251 32.1464 34.9749 31.5607 35.5607L25.0607 42.0607C24.4749 42.6464 23.5251 42.6464 22.9393 42.0607L16.4393 35.5607C15.8536 34.9749 15.8536 34.0251 16.4393 33.4393C17.0251 32.8536 17.9749 32.8536 18.5607 33.4393L22.5 37.3787V6C22.5 5.17157 23.1716 4.5 24 4.5Z",fill:"currentColor",fillRule:"evenodd"}))}))},41779:(e,t,r)=>{"use strict";r.d(t,{O:()=>s});var n=r(67294),i=r(24305);const s=(0,n.forwardRef)((function({align:e="none","aria-label":t,color:r="inherit",size:s="inherit",testID:o},a){return n.createElement("svg",{ref:a,"aria-hidden":!t,"aria-label":t,className:(0,i.J)({align:e,color:r,size:s}),"data-testid":o,fill:"currentColor",height:48,viewBox:"0 0 48 48",width:48,xmlns:"http://www.w3.org/2000/svg"},n.createElement("path",{clipRule:"evenodd",d:"M24 42.5C24.8284 42.5 25.5 41.8284 25.5 41V9.62132L29.4393 13.5607C30.0251 14.1464 30.9749 14.1464 31.5607 13.5607C32.1464 12.9749 32.1464 12.0251 31.5607 11.4393L25.0607 4.93934C24.4749 4.35355 23.5251 4.35355 22.9393 4.93934L16.4393 11.4393C15.8536 12.0251 15.8536 12.9749 16.4393 13.5607C17.0251 14.1464 17.9749 14.1464 18.5607 13.5607L22.5 9.62132V41C22.5 41.8284 23.1716 42.5 24 42.5Z",fill:"currentColor",fillRule:"evenodd"}))}))},59314:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>Jn});var n=r(67294),i=r(69605),s=r(26636),o=r(74309),a=r(2200),l=r(28216),c=r(81079),d=r(47486),u=r(86953),p=r(27082),m=r(84936),y=r(45399),h=r(41538),v=r(87803),f=r(31235),P=r(24546),E=r(56077),g=r(76714),w=r(18778),I=r(23201),b=r(287),Z=r(5562),D=r(96937),O=r(13517),S=r(47124),M=r(89328),T=r(58593),A=r(45697),C=r.n(A),L=r(74570);function k(e){const t=e["aria-label"],r=e.className,i=e.style,s={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 361.506",id:"plex-icon-devices"};s["aria-hidden"]=!t,s.style=i,s.className=L.Z.plexIcon+(r?" "+r:"");const o=[n.createElement.apply(n,["g",{stroke:"#e5a00d",strokeWidth:"2.95"}].concat([n.createElement.apply(n,["path",{d:"M429.683 360.028h-128.55c-3.944 0-7.606-1.77-10.045-4.86a12.609 12.609 0 01-2.384-10.87l12.32-50.859h128.774l12.322 50.86c.929 3.818.059 7.783-2.384 10.87a12.729 12.729 0 01-10.053 4.859zm-121.35-57.343l-10.607 43.78c-.345 1.436.263 2.484.655 2.988a3.448 3.448 0 002.753 1.328h128.55c1.483 0 2.366-.83 2.758-1.337.392-.495 1-1.543.655-2.98l-10.607-43.779z"}].concat([])),n.createElement.apply(n,["path",{d:"M304.68 302.685h-38.937c-2.566 0-4.642-2.068-4.642-4.623s2.076-4.623 4.642-4.623h38.937c2.564 0 4.641 2.068 4.641 4.623s-2.077 4.623-4.64 4.623zM541.294 302.685H426.146c-2.567 0-4.644-2.065-4.644-4.62s2.077-4.625 4.644-4.625h115.148c4.384 0 7.949-3.548 7.949-7.918v-26.599H265.929c-2.566 0-4.642-2.067-4.642-4.622 0-2.556 2.076-4.623 4.642-4.623h292.596v35.844c0 9.462-7.728 17.163-17.231 17.163z"}].concat([])),n.createElement.apply(n,["path",{d:"M553.884 258.922a4.628 4.628 0 01-4.641-4.622V18.63c0-4.361-3.565-7.91-7.949-7.91H189.53c-4.384 0-7.947 3.549-7.947 7.91v58.967c0 2.555-2.076 4.623-4.642 4.623-2.566 0-4.642-2.068-4.642-4.623V18.63c0-9.462 7.729-17.155 17.23-17.155h351.765c9.503 0 17.23 7.693 17.23 17.155V254.3a4.628 4.628 0 01-4.64 4.622zM100.935 360.028H18.04c-9.135 0-16.565-7.403-16.565-16.496v-154.33c0-9.092 7.43-16.495 16.565-16.495h82.895c9.135 0 16.565 7.403 16.565 16.495v154.33c0 9.093-7.43 16.496-16.565 16.496zM18.04 181.952c-4.017 0-7.28 3.25-7.28 7.25v154.33c0 4 3.263 7.249 7.28 7.249h82.895c4.017 0 7.281-3.249 7.281-7.25V189.203c0-4-3.264-7.25-7.28-7.25z"}].concat([])),n.createElement.apply(n,["path",{d:"M112.088 206.735H7.777c-2.566 0-4.642-2.068-4.642-4.623s2.076-4.623 4.642-4.623h104.311c2.566 0 4.642 2.068 4.642 4.623s-2.076 4.623-4.642 4.623zM112.088 323.353H7.777c-2.566 0-4.642-2.068-4.642-4.623s2.076-4.624 4.642-4.624h104.311c2.566 0 4.642 2.069 4.642 4.624 0 2.555-2.076 4.623-4.642 4.623zM67.384 194.348H55.462c-2.566 0-4.642-2.067-4.642-4.623 0-2.555 2.076-4.622 4.642-4.622h11.922c2.566 0 4.642 2.067 4.642 4.622 0 2.556-2.076 4.623-4.642 4.623zM59.488 349.359c-6.56 0-11.9-5.32-11.9-11.855 0-6.53 5.34-11.846 11.9-11.846 6.56 0 11.9 5.316 11.9 11.846 0 6.535-5.34 11.855-11.9 11.855zm0-14.458a2.611 2.611 0 00-2.616 2.603 2.618 2.618 0 002.616 2.608 2.618 2.618 0 002.616-2.608 2.611 2.611 0 00-2.616-2.603z"}].concat([])),n.createElement.apply(n,["path",{d:"M226.172 360.03h-91.097c-2.566 0-4.642-2.068-4.642-4.623s2.076-4.623 4.642-4.623h91.097c6.85 0 12.42-5.553 12.42-12.369V117.552c0-6.817-5.57-12.37-12.42-12.37H107.536c-6.846 0-12.417 5.553-12.417 12.37v40.277c0 2.555-2.076 4.623-4.642 4.623-2.566 0-4.642-2.068-4.642-4.623v-40.277c0-11.918 9.733-21.615 21.7-21.615h118.637c11.967 0 21.705 9.697 21.705 21.615v220.863c0 11.917-9.738 21.616-21.705 21.616z"}].concat([])),n.createElement.apply(n,["path",{d:"M242.129 136.557H92.848c-2.566 0-4.642-2.068-4.642-4.623s2.076-4.623 4.642-4.623h149.28c2.567 0 4.643 2.068 4.643 4.623s-2.076 4.623-4.642 4.623zM242.129 315.593h-106.46c-2.566 0-4.642-2.068-4.642-4.623s2.076-4.623 4.642-4.623h106.46c2.566 0 4.642 2.068 4.642 4.623s-2.076 4.623-4.642 4.623zM178.151 122.94h-17.059c-2.566 0-4.642-2.067-4.642-4.622 0-2.555 2.076-4.623 4.642-4.623h17.06c2.565 0 4.641 2.068 4.641 4.623s-2.076 4.623-4.642 4.623zM166.854 348.158c-8.287 0-15.028-6.715-15.028-14.968 0-8.252 6.741-14.97 15.028-14.97s15.028 6.718 15.028 14.97c0 8.253-6.741 14.968-15.028 14.968zm0-20.695c-3.169 0-5.744 2.567-5.744 5.727s2.575 5.724 5.744 5.724c3.169 0 5.744-2.564 5.744-5.724s-2.575-5.727-5.744-5.727zM380.652 30.415h-30.481a4.628 4.628 0 01-4.641-4.623 4.628 4.628 0 014.64-4.623h30.482a4.628 4.628 0 014.641 4.623 4.628 4.628 0 01-4.64 4.623z"}].concat([]))]))];return t&&o.unshift(n.createElement("title",null,t)),n.createElement.apply(n,["svg",s].concat(o))}k.propTypes={"aria-label":C().string,className:C().string,style:C().object};const x=k;var j=r(83126);function H(e){const t=e["aria-label"],r=e.className,i=e.style,s={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-parental-controls"};s["aria-hidden"]=!t,s.style=i,s.className=L.Z.plexIcon+(r?" "+r:"");const o=[n.createElement.apply(n,["g",void 0].concat([n.createElement.apply(n,["path",{d:"M548.3 559.273H361.152c-6.456 0-11.696-5.22-11.696-11.657V407.73c0-6.435 5.24-11.657 11.696-11.657H548.3c6.457 0 11.7 5.222 11.7 11.657v139.885c0 6.437-5.243 11.657-11.7 11.657zm-175.451-23.315h163.756v-116.57H372.849z"}].concat([])),n.createElement.apply(n,["path",{d:"M454.726 512.644c-6.457 0-11.697-5.22-11.697-11.657v-34.97c0-6.435 5.24-11.657 11.697-11.657 6.457 0 11.697 5.222 11.697 11.657v34.97c0 6.438-5.24 11.657-11.697 11.657z"}].concat([])),n.createElement.apply(n,["path",{d:"M454.727 489.33c12.92 0 23.392-10.44 23.392-23.314 0-12.876-10.472-23.314-23.392-23.314s-23.394 10.438-23.394 23.314c0 12.875 10.474 23.314 23.394 23.314zM524.905 419.388c-6.457 0-11.695-5.223-11.695-11.658v-23.314c0-32.127-26.222-58.286-58.484-58.286-32.26 0-58.484 26.159-58.484 58.286v23.314c0 6.435-5.24 11.658-11.697 11.658-6.457 0-11.697-5.223-11.697-11.658v-23.314c0-44.997 36.728-81.6 81.878-81.6 45.152 0 81.879 36.603 81.879 81.6v23.314c0 6.435-5.244 11.658-11.7 11.658zM11.7 559.772c-.936 0-1.872-.114-2.831-.347-6.293-1.565-10.083-7.884-8.516-14.131l14.06-56.002c6.854-27.23 26.856-48.773 53.548-57.632l103.821-34.482c24.4-10.165 35.816-50.429 38.272-65.7-17.919-16.367-34.599-40.987-34.599-63.135 0-8.253-2.456-11.657-3.743-12.287-3.65-.91-5.708-3.217-7.112-6.691-1.286-3.194-12.539-31.778-12.539-50.965 0-.956.117-1.912.352-2.821 1.286-5.106 4.865-12.59 11.345-16.973v-61.807C163.758 68.12 208.253.228 280.727.228c71.584 0 91.048 36.58 93.317 54.672 12.141 8.93 23.65 24.34 23.65 61.9v61.806c6.48 4.383 10.084 11.844 11.347 16.973.234.932.35 1.865.35 2.82 0 19.188-11.228 47.772-12.538 50.966-1.404 3.474-4.375 6.085-8.024 6.97-.351.35-2.83 3.755-2.83 12.008 0 21.1-8.353 32.034-13.358 38.562l-1.755 2.401c-3.603 5.362-10.878 6.761-16.212 3.218-5.38-3.59-6.83-10.818-3.252-16.18.749-1.096 1.638-2.285 2.62-3.591 4.024-5.246 8.562-11.19 8.562-24.41 0-17.416 7.23-27.091 14.083-31.638 3.369-9.139 8.726-25.715 9.264-36.533-.421-.933-.959-1.866-1.333-2.192-6.457 0-10.317-4.78-10.317-11.214v-69.967c0-34.318-11.065-41.313-15.79-44.297-2.831-1.795-7.603-4.803-8.282-11.214-.163-1.376.048-2.961.491-4.546-1.637-9.233-15.673-33.2-69.993-33.2-57.104 0-93.575 55.232-93.575 93.257v69.944c0 6.434-5.24 11.657-11.697 11.657.562 0 .35.792.048 1.678.515 10.842 5.918 27.488 9.264 36.604 6.854 4.57 14.083 14.222 14.083 31.638 0 15.69 15.51 36.673 30.833 49.31a11.633 11.633 0 014.257 8.975c0 14.805-13.498 75.539-53.992 92.349L75.33 453.739c-19.065 6.318-33.383 21.729-38.249 41.172l-14.06 56.002c-1.286 5.339-6.058 8.86-11.322 8.86z"}].concat([]))]))];return t&&o.unshift(n.createElement("title",null,t)),n.createElement.apply(n,["svg",s].concat(o))}H.propTypes={"aria-label":C().string,className:C().string,style:C().object};const N=H,R="PlexAccountUpsellPageContent-panel-odlXDa",z="PlexAccountUpsellPageContent-panelIcon-BWl9px",U="PlexAccountUpsellPageContent-panelTitle-b4qHxx",G="PlexAccountUpsellPageContent-panelDescription-m5JOVh";function K(){return n.createElement(O.Z,{description:(0,Z.Z)("Some benefits to a Plex account:"),title:(0,Z.Z)("Sign up for a free account to continue")},n.createElement("div",{className:"PlexAccountUpsellPageContent-container-P2gjsS"},n.createElement("div",{className:R},n.createElement(x,{className:z}),n.createElement("div",{className:U},(0,Z.Z)("One App, Any Device")),n.createElement("div",{className:G},(0,Z.Z)("Pick up whatever you were watching exactly where you left off on any device"))),n.createElement("div",{className:R},n.createElement(j.Z,{className:z}),n.createElement("div",{className:U},(0,Z.Z)("Save Your Favorites")),n.createElement("div",{className:G},(0,Z.Z)("Add a TIDAL subscription to save your favorite music and playlists"))),n.createElement("div",{className:R},n.createElement(N,{className:z}),n.createElement("div",{className:U},(0,Z.Z)("Parental Controls")),n.createElement("div",{className:G},(0,Z.Z)("Enable parental controls to keep things kid-friendly, or create separate accounts for your childish roommates")))),n.createElement(T.Z,null,n.createElement(D.Z,{kind:S.Z.Primary,size:M.Z.Large,to:"#!/signUp"},(0,Z.Z)("Sign Up"))))}var V=r(4134),B=r(29039),_=r(35154),F=r(77927),Q=r(88050),W=r(93474),q=r(63098),J=r(26021),$=r(72071),Y=r(45593),X=r(94184),ee=r.n(X),te=r(7400),re=r(94372),ne=r(9119),ie=r(75534),se=r(21914),oe=r(46905),ae=r(64780),le=r(12038),ce=r(7796);const de="PivotTabDropdown-isSelected-UQdIdh",ue={placement:"bottom-start",modifiers:[{name:"offset",options:{offset:[parseInt(ce.Z.pageHeaderTabButtonLeftRightMargin,10)]}}]};function pe({pivots:e,selectedPivot:t,onPivotPress:r}){var i;const[s,o,a]=(0,f.c9)(),l=(0,ie.Z)(),c=(0,oe.Z)();return n.createElement("div",{className:"PivotTabDropdown-container-KCsIVr","data-testid":"tabDropDown",id:l},n.createElement(q.Z,{className:ee()("PivotTabDropdown-button-ktD72U TabButton-button-KPkGEB Button-button-Eu0WcX Link-link-vSsQW1",!!t&&de),isSelected:!!t,onPress:c.onToggle},n.createElement("div",{className:"PivotTabDropdown-buttonContents-dK9CFT"},n.createElement("div",{className:"PivotTabDropdown-title-wqZjjy"},null!=(i=null==t?void 0:t.title)?i:e[0].title),n.createElement(te.Z,{className:ee()("PivotTabDropdown-disclosureArrow-z_MOta DisclosureArrow-disclosureArrow-NTDkGd",!!t&&de),direction:c.isOpen?se.UP:se.WV}))),n.createElement(re.Z,{isOpen:c.isOpen,options:ue,target:l,onMenuClose:c.onClose},e.map(((e,i)=>{const l=(0,ae.Z)(s,o,a,e);return l?n.createElement(le.Z,{key:i,isSelected:e===t,to:l,value:e.key,onPress:(0,ne.Z)(r,c.onClose)},e.title):null}))))}var me=r(67586);function ye(e=[],t){return e.filter((e=>!(0,me.Z)(e)&&function(e,t){return!t||!!e.features.find((e=>e.uuid===t||e.id===t))}(t,e.requires)))}var he=r(59398);function ve({pivots:e,selectedPivot:t}){const[r,i,s]=(0,f.c9)(),[o,{width:a}]=(0,J.Z)(),[c,{width:d}]=(0,J.Z)(),u=(0,l.v9)(Y.Z),[p,m]=(0,n.useState)(d),y=d||p,h=(0,n.useMemo)((()=>ye(e,u)),[e,u]),v=h.length<2,P=h.length>1&&y>a,E=(0,$.Z)({identifier:i.metricsIdentifier,origin:W.zQ}),g=(0,he.Z)((0,n.useCallback)((()=>{E({action:Q.oG})}),[E]));return(0,n.useEffect)((()=>{d&&m(d)}),[d]),v?null:n.createElement("div",{ref:o,className:"PivotTabsPageHeaderCenter-pageHeaderCenter-HE9JcN PageHeaderCenter-pageHeaderCenter-mMF86x"},P?n.createElement(pe,{pivots:h,selectedPivot:t,onPivotPress:g}):n.createElement("div",{ref:c},h.map(((e,o)=>{const a=(0,ae.Z)(r,i,s,e);return a?n.createElement(q.Z,{key:o,isSelected:e===t,to:a,onPress:g},e.title):null}))))}var fe=r(38825),Pe=r(79440),Ee=r(31247),ge=r(36656),we=r(26606),Ie=r(42934);var be=Object.defineProperty,Ze=Object.defineProperties,De=Object.getOwnPropertyDescriptors,Oe=Object.getOwnPropertySymbols,Se=Object.prototype.hasOwnProperty,Me=Object.prototype.propertyIsEnumerable,Te=(e,t,r)=>t in e?be(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;function Ae({sourceURI:e,selectedPivot:t}){var r;const i=(0,l.I0)(),[,,o]=(0,f.c9)(),{meta:a,metadataListSourceURI:c,hubsList:{sourceURI:d}}=(0,l.v9)(Ee.Z),u=null!=(r=null==a?void 0:a.Pivot)?r:null==o?void 0:o.pivots,m=(0,l.v9)((0,F.Z)("directoryListStyles")),y=(0,n.useMemo)((()=>(0,fe.Z)(e)),[e]),h=(0,l.v9)(y),v=(0,n.useMemo)((()=>(0,Pe.Z)(e)),[e]),P=(0,l.v9)(v),E=(0,n.useCallback)((t=>{if(!e)return;const r=(n=((e,t)=>{for(var r in t||(t={}))Se.call(t,r)&&Te(e,r,t[r]);if(Oe)for(var r of Oe(t))Me.call(t,r)&&Te(e,r,t[r]);return e})({},m),Ze(n,De({[e]:t})));var n;(0,p.c9)((()=>{i((0,V.LN)({directoryListStyles:r}))}))}),[i,m,e]);return n.createElement(Ie.Z,{className:"DirectoryPageHeader-pageHeader-FgozlU PrimaryPageHeader-pageHeader-SBemrw PageHeader-pageHeader-e2k66t"},n.createElement(ge.Z,null,n.createElement(_.Z,{hubsListSourceURI:d,metadataListSourceURI:c})),u&&t?n.createElement(ve,{pivots:u,selectedPivot:t}):null,n.createElement(we.Z,null,n.createElement(B.Z,{listStyles:P,selectedListStyle:t&&!(0,me.Z)(t)&&(g=t.key,g!==s.GG.SharedItems&&g!==s.GG.DiscoverFriends&&g!==s.GG.DiscoverProfile&&g!==s.GG.DiscoverActivity)?h:void 0,onListStyleSelect:E})));var g}var Ce=r(88346),Le=r(44823),ke=r(52372),xe=r(22222);const je=(0,F.Z)("lastSourcePivots"),He=(0,F.Z)("shouldSaveLastSourcePivots"),Ne=(0,r(70617).Z)((function(e,t,r){return(0,xe.P1)(je,He,((n,i)=>{if(i)return n[(0,Le.Z)(e,t,r)]}))}));var Re=r(92767);const ze=function(e=[],t){return e.find((e=>e.id?e.id===t||e.key===t:!!e.key&&e.key===t))};var Ue=Object.defineProperty,Ge=Object.defineProperties,Ke=Object.getOwnPropertyDescriptors,Ve=Object.getOwnPropertySymbols,Be=Object.prototype.hasOwnProperty,_e=Object.prototype.propertyIsEnumerable,Fe=(e,t,r)=>t in e?Ue(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Qe=(e,t)=>{for(var r in t||(t={}))Be.call(t,r)&&Fe(e,r,t[r]);if(Ve)for(var r of Ve(t))_e.call(t,r)&&Fe(e,r,t[r]);return e};var We=r(24453),qe=r(69719),Je=r(69243),$e=r(99434),Ye=r(68672),Xe=r(92129),et=r(77909),tt=r(74253),rt=r(59468),nt=r(7420),it=r(89028),st=r(53181),ot=r(52354),at=r(90653),lt=r(89197),ct=r(58801),dt=r(95815),ut=r(78958),pt=r(48285),mt=r(10241),yt=r(56990),ht=r(90066),vt=r(22699),ft=r(71273),Pt=Object.defineProperty,Et=Object.getOwnPropertySymbols,gt=Object.prototype.hasOwnProperty,wt=Object.prototype.propertyIsEnumerable,It=(e,t,r)=>t in e?Pt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;const bt=function(e){const t=e,{serverEntityID:r,providerEntityID:i,pivot:s,sourceDirectory:o,directoryKey:a,showSecondHeader:l,children:c}=t,d=((e,t)=>{var r={};for(var n in e)gt.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&Et)for(var n of Et(e))t.indexOf(n)<0&&wt.call(e,n)&&(r[n]=e[n]);return r})(t,["serverEntityID","providerEntityID","pivot","sourceDirectory","directoryKey","showSecondHeader","children"]);return n.createElement(vt.Z,((e,t)=>{for(var r in t||(t={}))gt.call(t,r)&&It(e,r,t[r]);if(Et)for(var r of Et(t))wt.call(t,r)&&It(e,r,t[r]);return e})({className:ft.Z.page},d),n.createElement(Ie.Z,null,n.createElement(yt.Z,{providerEntityID:i,serverEntityID:r,sourceDirectory:o}),s?n.createElement(mt.Z,{directoryKey:a,providerEntityID:i,serverEntityID:r,sourceDirectory:o}):null,n.createElement(pt.Z,null)),l?n.createElement(ut.Z,null):null,n.createElement(ht.Z,null,c))};var Zt=r(82598),Dt=r(14838),Ot=r(13469),St=r.n(Ot),Mt=r(63233);function Tt({items:e,gap:t=0,existingItems:r=[]}){const n=St().sortBy(r,"position"),i=St().sortBy(e,"position");let s=-1/0;return i.forEach((e=>{const i=St().sortedIndex(r,e,"position"),o=r[i-1],a=r[i],l=e.position>s+t,c=!o||e.position>o.position+t,d=!a||e.position<a.position-t;l&&c&&d&&(n.push(e),s=e.position)})),St().sortBy(n,"position")}const At="minor",Ct="major",Lt={container:"TickMarks-container-frZO0i",ticks:"TickMarks-ticks-qo5YPE",tick:"TickMarks-tick-A3yNkp",minor:"TickMarks-minor-ChSTCs TickMarks-tick-A3yNkp",major:"TickMarks-major-4a9f2K TickMarks-tick-A3yNkp",label:"TickMarks-label-PYLVQK"};function kt(e){const{ticks:t,pixelProportion:r,majorTickGap:n,minorTickGap:i}=e,s=St().where(t,{type:Ct}),o=St().where(t,{type:At}),a=Tt({items:s,gap:r*n});return Tt({items:o,existingItems:a,gap:r*i})}class xt extends n.Component{constructor(e,t){super(e,t),this.state={ticks:kt(e)}}UNSAFE_componentWillReceiveProps(e){const{ticks:t,pixelProportion:r,majorTickGap:n,minorTickGap:i}=e,s=this.props.ticks!==t,o=this.props.pixelProportion!==r,a=this.props.majorTickGap!==n,l=this.props.minorTickGap!==i;(s||o||a||l)&&this.setState({ticks:kt(e)})}render(){return n.createElement("div",{className:Lt.container},n.createElement("div",{className:Lt.ticks},this.state.ticks.map((({type:e,position:t,label:r})=>n.createElement("div",{key:t,className:Lt[e],style:{top:100*t+"%"}},r&&"major"===e?n.createElement("div",{className:Lt.label},r):null)))))}}xt.defaultProps={majorTickGap:20,minorTickGap:5};const jt=xt;var Ht=r(50091),Nt=r(50362),Rt=r(69881),zt=r(27911),Ut=r(29414),Gt=r(55175),Kt=r(98313),Vt=r(24935),Bt=r(14570),_t=r(79808),Ft=r(62050),Qt=r(3414),Wt=r(66567),qt=r(11956);const Jt=function(e){const t=(0,qt.Z)(e);return n.createElement("div",{style:t.style},e.children)};class $t extends n.Component{constructor(e,t){super(e,t),this.onSelectPress=()=>{const{isSelected:e,items:t,onSelectItems:r,onDeselectItems:n}=this.props;e?n(t):r(t)},this.state={layout:this._createLayout(e),cellRenderer:this._createCellRenderer(e)}}UNSAFE_componentWillReceiveProps(e){const t=e.aspectRatios!==this.props.aspectRatios,r=e.columns!==this.props.columns,n=e.viewportWidth!==this.props.viewportWidth,i=e.viewportHeight!==this.props.viewportHeight,s=e.serverEntityID!==this.props.serverEntityID,o=e.providerEntityID!==this.props.providerEntityID,a=e.metadataListEntityID!==this.props.metadataListEntityID,l=t||r||i||n,c=s||o||a;if(l||c){const t={};l&&(t.layout=this._createLayout(e)),c&&(t.cellRenderer=this._createCellRenderer(e)),this.setState(t)}}_createLayout(e){const t=(0,Qt.Z)({aspectRatios:e.aspectRatios,columns:e.columns});return(0,Ft.Z)({columns:e.columns,rows:t,maximumHeight:e.cellHeight-(e.footerHeight+e.headerHeight)})}_createCellRenderer(e){const{serverEntityID:t,providerEntityID:r,metadataListEntityID:n,containerKey:i,listType:s}=e;return(0,Wt.Z)({serverEntityID:t,providerEntityID:r,metadataListEntityID:n,containerKey:i,listType:s},_t.Z)}render(){const{cellIndex:e,cellX:t,cellY:r,cellWidth:i,cellHeight:s,isVirtual:o,title:a,items:l,size:c,viewportHeight:d,scrollTop:u,isSelected:p,hasSelection:m}=this.props,{layout:y,cellRenderer:h}=this.state;return n.createElement(Jt,{cellHeight:s,cellIndex:e,cellWidth:i,cellX:t,cellY:r,isVirtual:o},n.createElement("div",{className:ee()(m&&"MetadataMomentCell-hasSelection-pp54EB","MetadataMomentCell-header-oKQGsr")},n.createElement("div",{className:"MetadataMomentCell-actions-L_WAU3"},n.createElement(Bt.Z,{className:"MetadataMomentCell-selectButton-sHo8jO SelectButton-selectButton-_goGWp",isSelected:p,title:a,onPress:this.onSelectPress})),n.createElement("div",{className:"MetadataMomentCell-title-spuo5n"},a)),n.createElement(Vt.Z,{cellRenderer:h,items:l,keyPropName:"metadataItemEntityID",layout:y,scrollTop:u-r,size:c,viewportHeight:d,viewportWidth:i}))}}$t.defaultProps={headerHeight:0,footerHeight:0};const Yt=$t;function Xt(){return(0,xe.P1)(((e,{start:t})=>t),((e,{end:t})=>t),(0,Ht.Z)(),((e,t,r)=>{const{populatedRange:n,metadataItems:i}=r;return e<n.start||t>n.end?St().times(t-e,(()=>null)):i.slice(e-n.start,t-n.start)}))}function er(){return(0,xe.P1)(Xt(),Nt.Z,((e,t)=>e.map((e=>t[e]))))}const tr=(0,l.$j)((function(){return(0,xe.P1)((0,Ht.Z)(),Xt(),(0,xe.P1)(((e,{avgAR:t})=>t),er(),((e,t)=>t.map((t=>t?(0,zt.Z)(t,e):e)))),(0,xe.P1)(er(),Gt.Z,((e,t)=>e.every((e=>e&&(0,Kt.Z)(t,e.ratingKey))))),st.Z,((e,t,r,n,i)=>({containerKey:e.containerKey,listType:"photo",aspectRatios:r,items:t,isSelected:n,hasSelection:i.activeSelectionItems.length>0})))}),(function(e,t){return{onSelectItems(t){e((0,Ut.Kn)({type:Rt.PHOTO,ids:t}))},onDeselectItems(t){e((0,Ut.XX)({ids:t}))}}}))(Yt);var rr=r(89053),nr=r(37368),ir=Object.defineProperty,sr=Object.getOwnPropertySymbols,or=Object.prototype.hasOwnProperty,ar=Object.prototype.propertyIsEnumerable,lr=(e,t,r)=>t in e?ir(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var cr=Object.defineProperty,dr=Object.getOwnPropertySymbols,ur=Object.prototype.hasOwnProperty,pr=Object.prototype.propertyIsEnumerable,mr=(e,t,r)=>t in e?cr(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;class yr extends n.Component{constructor(e,t){super(e,t),this.state={layout:this._createLayout(e)}}UNSAFE_componentWillReceiveProps(e){const t=e.items!==this.props.items,r=e.columns!==this.props.columns;(t||r)&&this.setState({layout:this._createLayout(e)})}_createLayout(e){return function(e){const t=e,{columns:r=1,areas:n=[],innerPaddingTop:i=0,innerPaddingBottom:s=0}=t,o=((e,t)=>{var r={};for(var n in e)or.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&sr)for(var n of sr(e))t.indexOf(n)<0&&ar.call(e,n)&&(r[n]=e[n]);return r})(t,["columns","areas","innerPaddingTop","innerPaddingBottom"]);return(0,nr.Z)(((e,t)=>{for(var r in t||(t={}))or.call(t,r)&&lr(e,r,t[r]);if(sr)for(var r of sr(t))ar.call(t,r)&&lr(e,r,t[r]);return e})({getCellHeights:function(e){return n.map((t=>function(e,t){return Math.max(1,Math.round(e/r))*t+(i+s)}(t,e/r)))}},o))}({columns:e.columns,areas:e.items.map((e=>e.area)),innerPaddingTop:e.headerHeight,innerPaddingBottom:e.footerHeight,outerPaddingTop:e.listPadding,outerPaddingRight:e.listPadding-e.listGutter,outerPaddingBottom:e.listPadding,outerPaddingLeft:e.listPadding})}render(){const{serverEntityID:e,providerEntityID:t,metadataListEntityID:r,columns:i,headerHeight:s,footerHeight:o,cellComponent:a}=this.props;return n.createElement(rr.Z,((e,t)=>{for(var r in t||(t={}))ur.call(t,r)&&mr(e,r,t[r]);if(dr)for(var r of dr(t))pr.call(t,r)&&mr(e,r,t[r]);return e})({cellRenderer:(0,Wt.Z)({serverEntityID:e,providerEntityID:t,metadataListEntityID:r,columns:i,headerHeight:s,footerHeight:o},a),layout:this.state.layout},this.props))}}const hr=yr;var vr=Object.defineProperty,fr=Object.getOwnPropertySymbols,Pr=Object.prototype.hasOwnProperty,Er=Object.prototype.propertyIsEnumerable,gr=(e,t,r)=>t in e?vr(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;const wr={dispatchPopulateMetadataListRange:Ut.vp,dispatchDeselectAllMetadataListItems:Ut.m8,dispatchResetMetadataList:Ut.wZ};class Ir extends n.Component{constructor(){super(...arguments),this.onPageRequest=({startIndex:e,endIndex:t})=>{const{metadataListEntityID:r,disableReloadThreshold:n,items:i,dispatchPopulateMetadataListRange:s}=this.props;s({metadataListEntityID:r,disableReloadThreshold:n,startIndex:i[e].start,endIndex:i[t].end-1,pages:1})}}componentWillUnmount(){const{metadataListEntityID:e}=this.props;this.props.dispatchDeselectAllMetadataListItems({metadataListEntityID:e}),this.props.dispatchResetMetadataList({metadataListEntityID:e})}render(){const e=this.props,{dispatchPopulateMetadataListRange:t,dispatchDeselectAllMetadataListItems:r,dispatchResetMetadataList:i}=e,s=((e,t)=>{var r={};for(var n in e)Pr.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&fr)for(var n of fr(e))t.indexOf(n)<0&&Er.call(e,n)&&(r[n]=e[n]);return r})(e,["dispatchPopulateMetadataListRange","dispatchDeselectAllMetadataListItems","dispatchResetMetadataList"]);return n.createElement(hr,((e,t)=>{for(var r in t||(t={}))Pr.call(t,r)&&gr(e,r,t[r]);if(fr)for(var r of fr(t))Er.call(t,r)&&gr(e,r,t[r]);return e})({onPageRequest:this.onPageRequest},s))}}const br=(0,l.$j)((function(){return(0,xe.P1)(st.Z,(e=>({disableReloadThreshold:!!e.activeSelectionType})))}),wr)(Ir);var Zr=r(31212);const Dr=Math.max(0,parseInt(ce.Z.timelineGutter,10)-40);class Or extends n.Component{constructor(e,t){super(e,t),this.onListUpdate=e=>{const t=e.landmarks,r=e.listStyle&&e.listStyle.height;if(t!==this._landmarks){this._landmarks=t;const e=function(e,t){const r={},n={};return e.reduce(((e,{index:i,position:s})=>{const o=(0,Zr.Z)(1e3*t[i],"yyyy MM"),a=o.slice(0,4);return r[a]?n[o]||(n[o]=!0,e.push({position:s,type:At})):(r[a]=!0,n[o]=!0,e.push({position:s,type:Ct,label:a})),e}),[])}(t,St().pluck(this.props.moments,"startsAt"));this.setState({ticks:e,listHeight:r})}},this.state={ticks:null,listHeight:null}}render(){const{serverEntityID:e,providerEntityID:t,metadataListEntityID:r,moments:i,columns:s,height:o,onMomentScrollIndexChange:a}=this.props,{ticks:l,listHeight:c}=this.state,d=1/o,u=c&&c>o;return i.length?n.createElement("div",{className:"TimelinePageContent-container-mvQDHr"},n.createElement(br,{cellComponent:tr,className:"TimelinePageContent-stack-vNqxhP PageContent-pageContent-rk0p0C",columns:s,footerHeight:59,hasNestedList:!0,items:i,keyPropName:"id",listGutter:Dr,listPadding:55,metadataListEntityID:r,providerEntityID:t,scrollPositionStorageKey:"TimelinePageContent",scrollerClassName:"TimelinePageContent-scroller-Kg90e8",serverEntityID:e,size:i.length,onListScrollIndexChange:a,onListUpdate:this.onListUpdate}),n.createElement("div",{className:"TimelinePageContent-adornment-QvGJVk"},l&&u?n.createElement(jt,{pixelProportion:d,ticks:l}):null)):n.createElement(ht.Z,null,n.createElement(Zt.Z,{iconComponent:Mt.Z.photo,title:(0,Z.Z)("There are no events in this library")}))}}const Sr=Or;var Mr=r(48022),Tr=r(91569),Ar=r(868),Cr=r(28277),Lr=r(97175),kr=r(79932),xr=r(70488),jr=r(57358),Hr=r(87691),Nr=r(11133),Rr=r(2078);const zr={showPlayAll:Gr,showShuffle:function({server:e,provider:t,stableUser:r,metadataList:n}){return Gr({server:e,provider:t,stableUser:r,metadataList:n})&&!!t.features.playqueue},showQueue:function({server:e,provider:t,stableUser:r,metadataList:n}){return Gr({server:e,provider:t,stableUser:r,metadataList:n})},showAddToPlaylist:function({server:e,provider:t,stableUser:r,metadataList:n}){return!(!e.isFullServer||!n.isFirstItemLibraryItem)},showOptimize:function({server:e,provider:t,stableUser:r,metadataList:n}){return!!(e.isFullOwnedServer&&e.transcoderVideo&&n.isFirstItemLibraryItem)}},Ur={mixed:[],movie:["showPlayAll","showShuffle","showQueue","showAddToPlaylist","showOptimize"],show:["showPlayAll","showShuffle","showQueue","showAddToPlaylist","showOptimize"],season:["showPlayAll","showShuffle","showQueue","showAddToPlaylist","showOptimize"],episode:["showPlayAll","showShuffle","showQueue","showAddToPlaylist","showOptimize"],artist:["showPlayAll","showShuffle","showQueue","showAddToPlaylist"],album:["showPlayAll","showShuffle","showQueue","showAddToPlaylist"],track:["showPlayAll","showShuffle","showQueue","showAddToPlaylist"],photoalbum:["showPlayAll","showShuffle","showAddToPlaylist"],photo:["showPlayAll","showShuffle","showAddToPlaylist"],clip:["showPlayAll","showShuffle","showAddToPlaylist","showOptimize"],genre:[]};function Gr({server:e,provider:t,stableUser:r,metadataList:n}){return(0,Rr.Z)(e,t,r.features,n)}var Kr=r(27154),Vr=r(32846),Br=r(53851),_r=r(24464),Fr=r(38044);class Qr extends n.Component{constructor(e,t){super(e,t),this.onAddToPlaylistPress=()=>{this.setState({isAddToPlaylistModalOpen:!0})},this.onAddToPlaylistClose=()=>{this.setState({isAddToPlaylistModalOpen:!1}),this.props.onMenuClose()},this.state={isAddToPlaylistModalOpen:!1}}createOnPress(e){return()=>{e(),this.props.onMenuClose()}}render(){const e=this.props,{isAddToPlaylistModalOpen:t}=this.state;return n.createElement("div",null,e.showPlayAll?n.createElement(_r.Z,{onPress:this.createOnPress(e.onPlayAllPress)},(0,Z.Z)("Play All")):null,e.showShuffle?n.createElement(_r.Z,{onPress:this.createOnPress(e.onShufflePress)},(0,Z.Z)("Shuffle")):null,e.showQueue?n.createElement(_r.Z,{onPress:this.createOnPress(e.onPlayNextPress)},(0,Z.Z)("Play Next")):null,e.showQueue?n.createElement(_r.Z,{onPress:this.createOnPress(e.onAddToQueuePress)},(0,Z.Z)("Add to Queue")):null,e.showAddToPlaylist?n.createElement(_r.Z,{onPress:this.createOnPress(this.onAddToPlaylistPress)},(0,Z.Z)("Add to Playlist...")):null,e.showOptimize?n.createElement(_r.Z,{onPress:this.createOnPress(e.onOptimizePress)},(0,Z.Z)("Optimize...")):null,e.showAddToPlaylist?n.createElement(Fr.Z,{isOpen:t,metadataListEntityID:e.metadataListEntityID,providerEntityID:e.providerEntityID,serverEntityID:e.serverEntityID,onModalClose:this.onAddToPlaylistClose}):null)}}const Wr=Qr;var qr=Object.defineProperty,Jr=Object.getOwnPropertySymbols,$r=Object.prototype.hasOwnProperty,Yr=Object.prototype.propertyIsEnumerable,Xr=(e,t,r)=>t in e?qr(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;const en=function(e){const t=e,{target:r,isOpen:i}=t,s=((e,t)=>{var r={};for(var n in e)$r.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&Jr)for(var n of Jr(e))t.indexOf(n)<0&&Yr.call(e,n)&&(r[n]=e[n]);return r})(t,["target","isOpen"]);return n.createElement(re.Z,{isOpen:e.isOpen,target:e.target,onMenuClose:e.onMenuClose},n.createElement(Wr,((e,t)=>{for(var r in t||(t={}))$r.call(t,r)&&Xr(e,r,t[r]);if(Jr)for(var r of Jr(t))Yr.call(t,r)&&Xr(e,r,t[r]);return e})({},s)))};var tn=r(52542),rn=r(13014),nn=r(66952),sn=r(70007),on=r(97499),an=r(12856),ln=Object.defineProperty,cn=Object.defineProperties,dn=Object.getOwnPropertyDescriptors,un=Object.getOwnPropertySymbols,pn=Object.prototype.hasOwnProperty,mn=Object.prototype.propertyIsEnumerable,yn=(e,t,r)=>t in e?ln(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;class hn extends n.Component{constructor(e,t){super(e,t),this.onPlayShortcut=()=>{this.props.showPlayAll&&this.props.onPlayAllPress()},this.onAddToPlaylistPress=()=>{this.setState({isAddToPlaylistModalOpen:!0,isSmartPlaylist:!1})},this.onAddToSmartPlaylistPress=()=>{this.setState({isAddToPlaylistModalOpen:!0,isSmartPlaylist:!0})},this.onAddToPlaylistClose=()=>{this.setState({isAddToPlaylistModalOpen:!1})},this.onActionsPress=e=>{this.setState({isActionsMenuOpen:!this.state.isActionsMenuOpen})},this.onActionsMenuClose=()=>{this.setState({isActionsMenuOpen:!1})},this.state={isActionsMenuOpen:!1,isAddToPlaylistModalOpen:!1,isSmartPlaylist:!1},this._moreButtonID=(0,Br.Z)()}componentDidMount(){Vr.Z.on("shortcut:playSelected",this.onPlayShortcut)}componentWillUnmount(){Vr.Z.off("shortcut:playSelected",this.onPlayShortcut)}render(){const{className:e,serverEntityID:t,providerEntityID:r,metadataListEntityID:i,customFilterRoute:s,showPlayAll:o,showPlayAllOverflow:a,showShuffle:l,showShuffleOverflow:c,showAddToPlaylist:d,showAddToPlaylistOverflow:u,showAddToSmartPlaylist:p,showOverflow:m,onPlayAllPress:y,onShufflePress:h}=this.props,{isActionsMenuOpen:v,isAddToPlaylistModalOpen:f,isSmartPlaylist:P}=this.state;return n.createElement("div",{className:e},o?n.createElement(on.Z,{playLabel:(0,Z.Z)("Play All"),onPress:y}):null,l?n.createElement(an.Z,{onPress:h}):null,d?n.createElement(nn.Z,{customFilterRoute:s,metadataListEntityID:i,providerEntityID:r,serverEntityID:t,showAddToSmartPlaylist:p,onAddToPlaylistPress:this.onAddToPlaylistPress,onAddToSmartPlaylistPress:this.onAddToSmartPlaylistPress}):null,m?n.createElement(sn.Z,{iconComponent:rn.Z,id:this._moreButtonID,isMenuOpen:v,label:(0,Z.Z)("More..."),onPress:this.onActionsPress}):null,n.createElement(en,(E=((e,t)=>{for(var r in t||(t={}))pn.call(t,r)&&yn(e,r,t[r]);if(un)for(var r of un(t))mn.call(t,r)&&yn(e,r,t[r]);return e})({},this.props),g={isOpen:v,showAddToPlaylist:u,showPlayAll:a,showShuffle:c,target:this._moreButtonID,onMenuClose:this.onActionsMenuClose},cn(E,dn(g)))),d?n.createElement(Fr.Z,{isOpen:f,metadataListEntityID:i,providerEntityID:r,serverEntityID:t,smart:P,onModalClose:this.onAddToPlaylistClose}):null);var E,g}}const vn=(0,tn.ZP)(hn,["showPlayAll","showShuffle","showAddToPlaylist"],["showOptimize","showQueue"]);var fn=Object.defineProperty,Pn=Object.defineProperties,En=Object.getOwnPropertyDescriptors,gn=Object.getOwnPropertySymbols,wn=Object.prototype.hasOwnProperty,In=Object.prototype.propertyIsEnumerable,bn=(e,t,r)=>t in e?fn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Zn=(e,t)=>{for(var r in t||(t={}))wn.call(t,r)&&bn(e,r,t[r]);if(gn)for(var r of gn(t))In.call(t,r)&&bn(e,r,t[r]);return e},Dn=(e,t)=>Pn(e,En(t));const On=(0,Hr.Z)((function(){return(0,xe.P1)(((e,{listType:t})=>t),tt.Z,xr.Z,jr.Z,(0,Ht.Z)(),((e,t,r,n,i)=>function({server:e,provider:t,stableUser:r,metadataList:n,listType:i}){const s=i||n.firstItemType||"mixed",o=Ur[s];return o?o.reduce(((i,o)=>{const a=zr[o];return(0,Nr.Z)(St().isFunction(a),`getMetadataListActionProps: Invalid action, ${o}, for ${s}`),i[o]=!!(e&&t&&n)&&a({server:e,provider:t,stableUser:r,metadataList:n}),i}),{}):{}}({server:t,provider:r,stableUser:n,metadataList:i,listType:e})))}),(function(e,t){const r={serverEntityID:t.serverEntityID,providerEntityID:t.providerEntityID,metadataListEntityID:t.metadataListEntityID,listType:t.listType,metricsPage:t.metricsPage,metricsProperties:{context:t.metricsContext||d.LIST}};return{onPlayAllPress(){e(kr.wA(r))},onShufflePress(){e(kr.Em(r))},onPlayNextPress(){e(kr.tP(Dn(Zn({},r),{options:{playAll:!0,next:!0}})))},onAddToQueuePress(){e(kr.tP(Dn(Zn({},r),{options:{playAll:!0,next:!1}})))},onOptimizePress(){e(Ut.$5(r))}}}),Kr.Z)(vn);var Sn=r(37274);const Mn=(0,l.$j)((function(){return(0,xe.P1)((0,Ht.Z)(),(e=>({totalSize:e.totalSize,listType:Mr.pV,listStyle:Sn.MOSAIC,allListStyles:[Sn.MOSAIC]})))}))((function(e){const{serverEntityID:t,providerEntityID:r,metadataListEntityID:i,sourceDirectory:s,title:o,totalSize:a,listType:l,listStyle:c,allListStyles:d}=e;return n.createElement(n.Fragment,null,n.createElement(Ie.Z,null,n.createElement(yt.Z,{providerEntityID:r,serverEntityID:t,sourceDirectory:s}),n.createElement(mt.Z,{directoryKey:lt.tk.TIMELINE,providerEntityID:r,serverEntityID:t,sourceDirectory:s}),n.createElement(pt.Z,null,n.createElement(Lr.Z,{allListStyles:d,selectedListStyle:c}))),n.createElement(ut.Z,null,n.createElement(ge.Z,null,n.createElement(Ar.Z,null,o),n.createElement(Tr.Z,null,a)),n.createElement(Cr.Z,null,n.createElement(On,{listType:l,metadataListEntityID:i,providerEntityID:r,serverEntityID:t}))))}));var Tn=r(59560);var An=Object.defineProperty,Cn=Object.defineProperties,Ln=Object.getOwnPropertyDescriptors,kn=Object.getOwnPropertySymbols,xn=Object.prototype.hasOwnProperty,jn=Object.prototype.propertyIsEnumerable,Hn=(e,t,r)=>t in e?An(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Nn=(e,t)=>{for(var r in t||(t={}))xn.call(t,r)&&Hn(e,r,t[r]);if(kn)for(var r of kn(t))jn.call(t,r)&&Hn(e,r,t[r]);return e};class Rn extends n.Component{constructor(e,t){super(e,t),this.onMeasure=({width:e,height:t})=>{this.setState({isMeasured:!0,width:e,height:t})},this.onMomentScrollIndexChange=e=>{this.setState({currentMomentTitle:this.props.moments[e].title})},this.state={isMeasured:!1,currentMomentTitle:"",width:0,height:0}}componentWillUnmount(){this.props.onCloseTimelinePage()}render(){const{serverEntityID:e,providerEntityID:t,providerMetricsIdentifier:r,metadataListEntityID:s,sourceDirectory:o,pivot:a,isMomentListPending:l,isMomentListPopulated:c,moments:d,activeSelectionType:u,columnAdjustment:p}=this.props,{isMeasured:m,width:y,height:h,currentMomentTitle:v}=this.state,f=200-100*p,P=12+p,E=Math.min(Math.ceil(y/f),P);if(c)return n.createElement(dt.Z,{metricsPage:i.WJ,metricsProperties:{identifier:r,mode:"timeline",type:"photo",style:Sn.MOSAIC},scrollDirection:at.Hn},u?n.createElement(Tn.Z,{providerEntityID:t,serverEntityID:e}):n.createElement(Mn,{metadataListEntityID:s,providerEntityID:t,serverEntityID:e,sourceDirectory:o,title:v}),n.createElement(ot.Z,{className:"TimelinePage-measured-KwtybV",ignorePosition:!0,onMeasure:this.onMeasure},m?n.createElement(Sr,{columns:E,height:h,metadataListEntityID:s,moments:d,providerEntityID:t,serverEntityID:e,onMomentScrollIndexChange:this.onMomentScrollIndexChange}):null));const g={serverEntityID:e,providerEntityID:t,sourceDirectory:o,pivot:a,directoryKey:lt.tk.TIMELINE,scrollDirection:at.Hn};if(l)return n.createElement(bt,(w=Nn({},g),Cn(w,Ln({showSecondHeader:!0}))),n.createElement(Zt.Z,null,n.createElement(ct.Z,null)));var w;const I={title:(0,Z.Z)("There was an error loading the timeline for this library")};return n.createElement(bt,Nn({},g),n.createElement(Dt.Z,Nn({},I)))}}const zn=Rn,Un=(0,xe.P1)((e=>e.ui.timelinePage.momentList),(e=>{if(!e)return[];let t=0;return e.moments.map((e=>{const r=t;t+=e.size;const{id:n,title:i,size:s,avgAR:o,startsAt:a}=e,l=e.size*(e.avgAR||1);return{start:r,end:t,area:l,id:n,title:i,size:s,avgAR:o,startsAt:a}}))})),Gn=(0,nt.Z)(zn,(function(e){const t=e.ui.timelinePage;return{serverEntityID:t.serverEntityID,providerEntityID:t.providerEntityID,momentKey:t.momentKey}}),(function(e,t){e(it.h8({serverEntityID:t.serverEntityID,providerEntityID:t.providerEntityID,libraryKey:t.libraryKey,momentKey:t.momentKey})),e(it.Ql())})),Kn=(0,l.$j)((function(){return(0,xe.P1)(((e,{libraryKey:t})=>t),(e=>e.ui.timelinePage),Un,tt.Z,(0,et.Z)(),(0,Ye.Z)(),(0,xe.P1)(((e,{directoryKey:t})=>t),(0,Ye.Z)(),((e,t)=>(0,Xe.Z)(t,e))),st.Z,rt.Z,((e,t,r,n,i,s,o,a,l)=>{const{containerKey:c,isMomentListPending:d,isMomentListPopulated:u}=t;return{metadataListEntityID:t.metadataList,providerMetricsIdentifier:i.metricsIdentifier,sourceDirectory:s,pivot:o,moments:r,isMomentListPending:d,isMomentListPopulated:u,containerKey:c,momentKey:m.Z.join(e,"cluster?clusterZoomLevel=1"),activeSelectionType:a.activeSelectionType,disableReloadThreshold:!!a.activeSelectionType,columnAdjustment:l.columnAdjustment,serverVersion:n.version}}))}),(function(e){return{onCloseTimelinePage(){e(it.qd({}))}}}))(Gn);function Vn({pivotType:e,directorySourceURI:t,directoryKey:r,selectedPivot:o}){const[u,p,P]=(0,f.c9)(),E=(0,l.v9)(c.Z);if(function(e,t){return e===y.sy&&t}(null==o?void 0:o.requires,E))return n.createElement(K,null);switch(e){case s.F6.Hub:return n.createElement(a.ZP,{name:null==o?void 0:o.context},n.createElement(I.Z,{sourceURI:t}));case s.F6.List:return n.createElement(a.ZP,{name:null==o?void 0:o.context},n.createElement(b.Z,{directoryKey:r,directorySourceURI:t,selectedPivot:o}));case s.F6.View:switch(null==o?void 0:o.key){case s.GG.SharedItems:return n.createElement(a.ZP,{name:null==o?void 0:o.context},n.createElement(b.Z,{directoryKey:r,directorySourceURI:t,listStyle:h.n.SharedItems,selectedPivot:o}));case s.GG.Timeline:{const e=(0,v.Z)(p,s.zW.Content);return n.createElement(Kn,{directoryKey:s.GG.Timeline,libraryKey:m.Z.join([null==e?void 0:e.key,null==P?void 0:P.id,"cluster"],{clusterZoomLevel:1}),providerEntityID:p.entityID,serverEntityID:u.entityID,sourceDirectoryID:null==P?void 0:P.id})}case s.GG.DiscoverProfile:return n.createElement(Je.Z,{showHeader:!1});case s.GG.DiscoverFriends:return n.createElement(qe.Z,{showHeader:!1});case s.GG.DiscoverActivity:return n.createElement(a.ZP,{metricsContextParam:d.DISCOVER,metricsPage:i.dY},n.createElement(w.Z,null))}}return n.createElement($e.Z,null)}const Bn=[s.GG.Guide,s.GG.RecordingSchedule,s.GG.Timeline];function _n({className:e,directoryKey:t,pageType:r,machineIdentifier:i,providerIdentifier:o,contentDirectoryID:a,pivotID:c}){const d=(0,l.I0)(),m=function({machineIdentifier:e,providerIdentifier:t,contentDirectoryID:r,pageType:i,pivotID:s,directoryKey:o,ignoreShouldSaveLastSourcePivotsSetting:a}){var c;const d=(0,l.I0)(),u=(0,l.v9)(Re.Z),p=(0,l.v9)((0,ke.Z)(e,t,r)),m=(0,l.v9)(He),y=(0,l.v9)(je),h=(0,l.v9)(Ne(e,t,r)),v=(0,l.v9)(Y.Z);let f;if(i)f=null==(c=null==u?void 0:u.Pivot)?void 0:c.find((e=>e.active&&(!o||e.key===o)));else{const e=ye(null==p?void 0:p.pivots,v);f=ze(e,s),!f&&h&&!a&&(null==e?void 0:e.find((e=>e.key===h)))&&(f=ze(null==p?void 0:p.pivots,h)),f||(f=null==e?void 0:e[0])}const P=r?(0,Le.Z)(e,t,r):void 0;return(0,n.useEffect)((()=>{var e,t;m&&!a&&P&&f&&h!==f.key&&null==i&&d((0,V.LN)({lastSourcePivots:(e=Qe({},y),t={[P]:f.key},Ge(e,Ke(t)))}))}),[d,a,h,y,s,i,f,m,P]),f}({machineIdentifier:i,providerIdentifier:o,contentDirectoryID:a,pageType:r,pivotID:c,directoryKey:t}),y=m?m.type:null!=r?r:s.F6.List,h=(0,We.Z)(m),v=function(e,t){return(null==e?void 0:e.key)===s.GG.SharedItems?null!=t?t:(0,We.Z)(e):t}(m,t),w=null!=h?h:t,I=w?(0,u.Z)({serverIdentifier:i,providerIdentifier:o,key:w}):void 0;return(0,n.useEffect)((()=>()=>{(0,p.c9)((()=>{d(Ce.Z.actions.resetMeta())}))}),[d]),I?n.createElement(f.ZP,{contentDirectoryID:a,machineIdentifier:i,providerIdentifier:o},n.createElement(P.Z,{className:e,scrollDirection:g.I.None},m&&y===s.F6.View&&Bn.includes(m.key)?null:n.createElement(Ae,{selectedPivot:m,sourceURI:I}),n.createElement(Vn,{directoryKey:v,directorySourceURI:I,pivotType:y,selectedPivot:m}))):n.createElement(P.Z,{className:e},n.createElement(E.Z,null))}var Fn=r(1346),Qn=r(20272),Wn=r(75989),qn=r(31446);function Jn(){const e=(0,o.Z)(),t=e.key?(0,Wn.Z)(e.key):void 0,{machineIdentifier:r,providerIdentifier:l}=(0,Fn.Z)(),c=e.pageType?(0,Wn.Z)(e.pageType):void 0,d=(0,Qn.su)(s.F6).find((e=>e===c));return n.createElement(a.ZP,{metricsContextParam:(0,Wn.Z)(e.context),metricsPage:i.Y3},n.createElement(qn.Z,{machineIdentifier:r,providerIdentifier:l},t||(0,Wn.Z)(e.source)?n.createElement(_n,{contentDirectoryID:(0,Wn.Z)(e.source),directoryKey:t,machineIdentifier:r,pageType:d,pivotID:(0,Wn.Z)(e.pivot),providerIdentifier:l}):n.createElement($e.Z,null)))}},69590:e=>{var t="undefined"!=typeof Element,r="function"==typeof Map,n="function"==typeof Set,i="function"==typeof ArrayBuffer&&!!ArrayBuffer.isView;function s(e,o){if(e===o)return!0;if(e&&o&&"object"==typeof e&&"object"==typeof o){if(e.constructor!==o.constructor)return!1;var a,l,c,d;if(Array.isArray(e)){if((a=e.length)!=o.length)return!1;for(l=a;0!=l--;)if(!s(e[l],o[l]))return!1;return!0}if(r&&e instanceof Map&&o instanceof Map){if(e.size!==o.size)return!1;for(d=e.entries();!(l=d.next()).done;)if(!o.has(l.value[0]))return!1;for(d=e.entries();!(l=d.next()).done;)if(!s(l.value[1],o.get(l.value[0])))return!1;return!0}if(n&&e instanceof Set&&o instanceof Set){if(e.size!==o.size)return!1;for(d=e.entries();!(l=d.next()).done;)if(!o.has(l.value[0]))return!1;return!0}if(i&&ArrayBuffer.isView(e)&&ArrayBuffer.isView(o)){if((a=e.length)!=o.length)return!1;for(l=a;0!=l--;)if(e[l]!==o[l])return!1;return!0}if(e.constructor===RegExp)return e.source===o.source&&e.flags===o.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===o.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===o.toString();if((a=(c=Object.keys(e)).length)!==Object.keys(o).length)return!1;for(l=a;0!=l--;)if(!Object.prototype.hasOwnProperty.call(o,c[l]))return!1;if(t&&e instanceof Element)return!1;for(l=a;0!=l--;)if(("_owner"!==c[l]&&"__v"!==c[l]&&"__o"!==c[l]||!e.$$typeof)&&!s(e[c[l]],o[c[l]]))return!1;return!0}return e!=e&&o!=o}e.exports=function(e,t){try{return s(e,t)}catch(e){if((e.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw e}}},61935:(e,t,r)=>{"use strict";r.d(t,{D:()=>d});var n=r(67294),i=r(73433),s=r(69590),o=r.n(s),a=function(e){return e.reduce((function(e,t){var r=t[0],n=t[1];return e[r]=n,e}),{})},l="undefined"!=typeof window&&window.document&&window.document.createElement?n.useLayoutEffect:n.useEffect,c=[],d=function(e,t,r){void 0===r&&(r={});var s=n.useRef(null),d={onFirstUpdate:r.onFirstUpdate,placement:r.placement||"bottom",strategy:r.strategy||"absolute",modifiers:r.modifiers||c},u=n.useState({styles:{popper:{position:d.strategy,left:"0",top:"0"}},attributes:{}}),p=u[0],m=u[1],y=n.useMemo((function(){return{name:"updateState",enabled:!0,phase:"write",fn:function(e){var t=e.state,r=Object.keys(t.elements);m({styles:a(r.map((function(e){return[e,t.styles[e]||{}]}))),attributes:a(r.map((function(e){return[e,t.attributes[e]]})))})},requires:["computeStyles"]}}),[]),h=n.useMemo((function(){var e={onFirstUpdate:d.onFirstUpdate,placement:d.placement,strategy:d.strategy,modifiers:[].concat(d.modifiers,[y,{name:"applyStyles",enabled:!1}])};return o()(s.current,e)?s.current||e:(s.current=e,e)}),[d.onFirstUpdate,d.placement,d.strategy,d.modifiers,y]),v=n.useRef();return l((function(){v.current&&v.current.setOptions(h)}),[h]),l((function(){if(null!=e&&null!=t){var n=(r.createPopper||i.fi)(e,t,h);return v.current=n,function(){n.destroy(),v.current=null}}}),[e,t,r.createPopper]),{state:v.current?v.current.state:null,styles:p.styles,attributes:p.attributes,update:v.current?v.current.update:null,forceUpdate:v.current?v.current.forceUpdate:null}}}}]);