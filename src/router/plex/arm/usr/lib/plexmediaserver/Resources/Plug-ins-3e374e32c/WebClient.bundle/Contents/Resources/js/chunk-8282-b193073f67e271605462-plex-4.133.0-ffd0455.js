"use strict";(self.webpackChunkplex_web_client=self.webpackChunkplex_web_client||[]).push([[8282],{24461:(e,t,l)=>{l.d(t,{A:()=>i});var r=l(1081),a=l(26286),n=l(70787);function i(){return(0,r.Mz)((0,a.A)(),((e,{sourceDirectoryID:t})=>t),((e,t)=>(0,n.A)(e,t)))}},57956:(e,t,l)=>{l.d(t,{A:()=>d});var r=l(96540),a=l(85243),n=Object.defineProperty,i=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable,c=(e,t,l)=>t in e?n(e,t,{enumerable:!0,configurable:!0,writable:!0,value:l}):e[t]=l;function u(e){return r.createElement(a.A,((e,t)=>{for(var l in t||(t={}))o.call(t,l)&&c(e,l,t[l]);if(i)for(var l of i(t))s.call(t,l)&&c(e,l,t[l]);return e})({},e))}u.defaultProps={className:"PageHeaderBadge-badge-Odac7M"};const d=u},93949:(e,t,l)=>{l.d(t,{A:()=>o});var r=l(74125),a=l.n(r),n=l(99383),i=l(88920);function o(e){const{getCellHeights:t,overscan:l=0,outerPaddingTop:r=0,outerPaddingRight:o=0,outerPaddingBottom:s=0,outerPaddingLeft:c=0}=e;let u,d,m,p,y,v,f,b,A;function g(e){const t=a().findIndex(y,(t=>t>e)),l=y.length-1;return-1===t?l:Math.min(Math.max(0,t-1),l)}return{getListStyle:function(e){const l=`${e.viewportHeight}:${e.viewportWidth}`;if(l===v)return f;u=e.viewportHeight,d=e.viewportWidth-(c+o),m=t(d),y=[];let a=r;return m.forEach((e=>{y.push(a),a+=e})),p=m.reduce(((e,t)=>e+t),r+s),v=l,f={height:p,width:d},f},getLandmarks:function(){(0,n.A)(void 0!==u,"`getListStyle` must be called before `getLandmarks`");const e=`${u}:${p}`;return e===b||(b=e,A=y.map(((e,t)=>({index:t,position:e/p})))),A},getPositionForIndex:function(e){return(0,n.A)(void 0!==u,"`getListStyle` must be called before `getPositionForIndex`"),{cellX:c,cellY:y[e],cellWidth:d,cellHeight:m[e]}},getRelativeIndex:function(){(0,n.A)(!1,"Stacked layouts do not support relative indexing")},getRangesForPosition:function(e,t,r){(0,n.A)(void 0!==u,"`getListStyle` must be called before `getPositionForIndex`");const a=e+u-1,o=g(e-l*u),s=g(e),c=g(a),d=g(a+l*u);return{visibleStartIndex:(0,i.A)(s,r),visibleEndIndex:(0,i.A)(c,r),partiallyVisibleStartIndex:(0,i.A)(s,r),partiallyVisibleEndIndex:(0,i.A)(c,r),renderStartIndex:(0,i.A)(o,r),renderEndIndex:(0,i.A)(d,r)}}}}},33152:(e,t,l)=>{function r(e,t){if(e&&e.pivots)return e.pivots.find((e=>e.key===t))}l.d(t,{A:()=>r})},93558:(e,t,l)=>{l.d(t,{A:()=>s});var r=l(96540),a=l(8083),n=l(40261),i=l(46772);const o={sortDirectionIcon:"IconTableHeaderSortDirection-sortDirectionIcon-lpcD5T"};function s({isAscending:e=!0}){const t=e?a.default:n.default;return r.createElement("div",{className:o.sortDirectionIcon},r.createElement(t,{accessibilityLabel:e?(0,i.A)("Ascending"):(0,i.A)("Descending")}))}},30142:(e,t,l)=>{l.d(t,{A:()=>v});var r=l(96540);const a={tableHeader:"TableHeader-tableHeader-DV7Uvw"};var n=Object.defineProperty,i=Object.defineProperties,o=Object.getOwnPropertyDescriptors,s=Object.getOwnPropertySymbols,c=Object.prototype.hasOwnProperty,u=Object.prototype.propertyIsEnumerable,d=(e,t,l)=>t in e?n(e,t,{enumerable:!0,configurable:!0,writable:!0,value:l}):e[t]=l,m=(e,t)=>{for(var l in t||(t={}))c.call(t,l)&&d(e,l,t[l]);if(s)for(var l of s(t))u.call(t,l)&&d(e,l,t[l]);return e},p=(e,t)=>i(e,o(t)),y=(e,t)=>{var l={};for(var r in e)c.call(e,r)&&t.indexOf(r)<0&&(l[r]=e[r]);if(null!=e&&s)for(var r of s(e))t.indexOf(r)<0&&u.call(e,r)&&(l[r]=e[r]);return l};function v(e){var t=e,{className:l=a.tableHeader}=t,n=y(t,["className"]);return r.createElement("div",p(m({},n),{className:l}))}},94382:(e,t,l)=>{l.d(t,{A:()=>v});var r=l(96540);const a={tableHeaderCell:"TableHeaderCell-tableHeaderCell-LXfAh8 TableCell-tableCell-eytlAB",activeTableHeaderCell:"TableHeaderCell-activeTableHeaderCell-jjqwYB TableHeaderCell-tableHeaderCell-LXfAh8 TableCell-tableCell-eytlAB"};var n=Object.defineProperty,i=Object.defineProperties,o=Object.getOwnPropertyDescriptors,s=Object.getOwnPropertySymbols,c=Object.prototype.hasOwnProperty,u=Object.prototype.propertyIsEnumerable,d=(e,t,l)=>t in e?n(e,t,{enumerable:!0,configurable:!0,writable:!0,value:l}):e[t]=l,m=(e,t)=>{for(var l in t||(t={}))c.call(t,l)&&d(e,l,t[l]);if(s)for(var l of s(t))u.call(t,l)&&d(e,l,t[l]);return e},p=(e,t)=>i(e,o(t)),y=(e,t)=>{var l={};for(var r in e)c.call(e,r)&&t.indexOf(r)<0&&(l[r]=e[r]);if(null!=e&&s)for(var r of s(e))t.indexOf(r)<0&&u.call(e,r)&&(l[r]=e[r]);return l};function v(e){var t=e,{className:l=a.tableHeaderCell,activeClassName:n=a.activeTableHeaderCell,children:i,isActive:o=!1}=t,s=y(t,["className","activeClassName","children","isActive"]);const c=o?n:l;return r.createElement("span",p(m({},s),{className:c}),i)}},3253:(e,t,l)=>{l.d(t,{A:()=>f});var r=l(96540),a=l(19542);const n={tableHeaderLink:"TableHeaderLink-tableHeaderLink-ZM1qnf Link-link-vSsQW1"};var i=Object.defineProperty,o=Object.defineProperties,s=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,u=Object.prototype.hasOwnProperty,d=Object.prototype.propertyIsEnumerable,m=(e,t,l)=>t in e?i(e,t,{enumerable:!0,configurable:!0,writable:!0,value:l}):e[t]=l,p=(e,t)=>{for(var l in t||(t={}))u.call(t,l)&&m(e,l,t[l]);if(c)for(var l of c(t))d.call(t,l)&&m(e,l,t[l]);return e},y=(e,t)=>o(e,s(t)),v=(e,t)=>{var l={};for(var r in e)u.call(e,r)&&t.indexOf(r)<0&&(l[r]=e[r]);if(null!=e&&c)for(var r of c(e))t.indexOf(r)<0&&d.call(e,r)&&(l[r]=e[r]);return l};function f(e){var t=e,{className:l=n.tableHeaderLink,children:i}=t,o=v(t,["className","children"]);return r.createElement(a.A,y(p({},o),{className:l}),i)}},87714:(e,t,l)=>{l.d(t,{A:()=>v});var r=l(96540);const a={tableHeaderTitle:"TableHeaderTitle-tableHeaderTitle-YBbHuP"};var n=Object.defineProperty,i=Object.defineProperties,o=Object.getOwnPropertyDescriptors,s=Object.getOwnPropertySymbols,c=Object.prototype.hasOwnProperty,u=Object.prototype.propertyIsEnumerable,d=(e,t,l)=>t in e?n(e,t,{enumerable:!0,configurable:!0,writable:!0,value:l}):e[t]=l,m=(e,t)=>{for(var l in t||(t={}))c.call(t,l)&&d(e,l,t[l]);if(s)for(var l of s(t))u.call(t,l)&&d(e,l,t[l]);return e},p=(e,t)=>i(e,o(t)),y=(e,t)=>{var l={};for(var r in e)c.call(e,r)&&t.indexOf(r)<0&&(l[r]=e[r]);if(null!=e&&s)for(var r of s(e))t.indexOf(r)<0&&u.call(e,r)&&(l[r]=e[r]);return l};function v(e){var t=e,{className:l=a.tableHeaderTitle,children:n}=t,i=y(t,["className","children"]);return r.createElement("span",p(m({},i),{className:l}),n)}},46579:(e,t,l)=>{l.d(t,{A:()=>ji});var r=l(96540),a=l(71468),n=l(59154),i=l(20163),o=l(29943),s=l(53690),c=l(95924),u=l(59753),d=l(93915),m=l(85419),p=l(93764),y=l(50228),v=l(78592),f=l(43280),b=l(6164),A=l(40317),g=l(43875),h=l(9219),E=l(73325),P=l(67687),C=l(20020),O=l(41084),S=l(67056),I=l(50326),T=l(63606),w=l(32649),k=l(95989),D=l(84230),M=Object.defineProperty,N=Object.getOwnPropertySymbols,R=Object.prototype.hasOwnProperty,j=Object.prototype.propertyIsEnumerable,L=(e,t,l)=>t in e?M(e,t,{enumerable:!0,configurable:!0,writable:!0,value:l}):e[t]=l,F=(e,t)=>{for(var l in t||(t={}))R.call(t,l)&&L(e,l,t[l]);if(N)for(var l of N(t))j.call(t,l)&&L(e,l,t[l]);return e};const x=parseInt(D.A.v4PagePadding,10);function H({className:e,items:t,totalSize:l,scrollerKey:a,smoothScroll:n,targetScrollIndex:i,onPageRequest:o,onListReady:s}){const c=(0,r.useMemo)((()=>(0,T.A)({outerPaddingLeft:x})),[]),u=(0,r.useCallback)((e=>r.createElement(w.Ay,{key:e.key,row:e.row},r.createElement(I.A,F({},e)))),[]);return r.createElement(k.A,{autoScroll:!1,cellComponentFactory:u,className:e,items:t,keyPropName:"listItemKey",layout:c,scrollerKey:a,smoothScroll:n,targetScrollIndex:i,totalSize:l,onListReady:s,onPageRequest:o})}var V=l(46335),z=l(66231),B=l(52562),K=l(32996),q=l(47578),U=l(954),G=l(51171),Q=l(77981),W=l(8178);const $=function(e){switch(e){case Q.S3:return 114;case Q.Yc:return 64;case Q.mH:return 74}(0,W.A)(!1,`Unknown aspectRatio ${e}`)};var _=l(85325),X=l(19542),Y=l(91067),Z=l(62608),J=l(80125),ee=l(18477),te=l(57242);const le={overlay:"MetadataFolderDetailsRow-overlay-J69mWx",underlay:"MetadataFolderDetailsRow-underlay-aDQzWl Link-link-vSsQW1",posterContainer:"MetadataFolderDetailsRow-posterContainer-ebw5Z5",titlesContainer:"MetadataFolderDetailsRow-titlesContainer-QAN0LS",doubleTitle:"MetadataFolderDetailsRow-doubleTitle-SdFwBk"};function re({metadataItem:e,style:t,cellIndex:l}){const a=(0,te.A)({key:e.key}),[n,i]=(0,J.A)(),o=(0,Q.Ay)(f.A.Folder),s=(0,_.A)({width:$(o),aspectRatio:o});return r.createElement(ee.A,{ref:i,isAlternate:!!(l%2),isHovered:n,style:t},r.createElement(X.A,{"aria-label":(0,G.A)(e),className:le.underlay,to:a}),r.createElement("div",{className:le.overlay},r.createElement("div",{className:le.posterContainer},r.createElement(Y.A,{style:s},r.createElement(Z.A,{height:s.height,width:s.width},r.createElement(q.default,null)))),r.createElement("div",{className:le.titlesContainer},r.createElement(U.A,{allowLink:!1,className:le.doubleTitle,metadataItem:e}))))}var ae=Object.getOwnPropertySymbols,ne=Object.prototype.hasOwnProperty,ie=Object.prototype.propertyIsEnumerable,oe=(e,t)=>{var l={};for(var r in e)ne.call(e,r)&&t.indexOf(r)<0&&(l[r]=e[r]);if(null!=e&&ae)for(var r of ae(e))t.indexOf(r)<0&&ie.call(e,r)&&(l[r]=e[r]);return l};function se(e){var t=e,{item:l}=t,a=oe(t,["item"]);const n=(0,z.A)(null==l?void 0:l.sourceURI),i=(0,K.A)(a),{cellIndex:o}=a;return l?r.createElement(V.A,{metadataItem:l,metadataItemState:n},r.createElement(re,{cellIndex:o,metadataItem:l,style:i.style})):r.createElement(B.A,{index:o,style:i.style})}var ce=Object.defineProperty,ue=Object.getOwnPropertySymbols,de=Object.prototype.hasOwnProperty,me=Object.prototype.propertyIsEnumerable,pe=(e,t,l)=>t in e?ce(e,t,{enumerable:!0,configurable:!0,writable:!0,value:l}):e[t]=l,ye=(e,t)=>{for(var l in t||(t={}))de.call(t,l)&&pe(e,l,t[l]);if(ue)for(var l of ue(t))me.call(t,l)&&pe(e,l,t[l]);return e};const ve=parseInt(D.A.v4PagePadding,10);function fe({className:e,items:t,totalSize:l,scrollerKey:a,smoothScroll:n,targetScrollIndex:i,onPageRequest:o,onListReady:s}){const c=(0,r.useMemo)((()=>(0,T.A)({outerPaddingLeft:ve})),[]),u=(0,r.useCallback)((e=>{var t;return r.createElement(w.Ay,{key:e.key,row:e.row},(null==(t=e.item)?void 0:t.isFolder)?r.createElement(se,ye({},e)):r.createElement(I.A,ye({},e)))}),[]);return r.createElement(k.A,{autoScroll:!1,cellComponentFactory:u,className:e,items:t,keyPropName:"listItemKey",layout:c,scrollerKey:a,smoothScroll:n,targetScrollIndex:i,totalSize:l,onListReady:s,onPageRequest:o})}var be=l(79456),Ae=l(72712),ge=l(34066),he=l(56513),Ee=l(95342),Pe=l(58137),Ce=Object.defineProperty,Oe=Object.getOwnPropertySymbols,Se=Object.prototype.hasOwnProperty,Ie=Object.prototype.propertyIsEnumerable,Te=(e,t,l)=>t in e?Ce(e,t,{enumerable:!0,configurable:!0,writable:!0,value:l}):e[t]=l,we=(e,t)=>{for(var l in t||(t={}))Se.call(t,l)&&Te(e,l,t[l]);if(Oe)for(var l of Oe(t))Ie.call(t,l)&&Te(e,l,t[l]);return e};const ke=parseInt(D.A.v4PagePadding,10),De=parseInt(D.A.v4PagePaddingAlt,10),Me=parseInt(D.A.jumpBarGutter,10);function Ne({className:e,listType:t,subtype:l,items:n,totalSize:i,scrollerKey:o,smoothScroll:s,targetScrollIndex:c,emptyIndices:u,onPageRequest:d,onListReady:m}){const v=(0,a.d4)(Ee.A),{containerKey:f,containerMeta:b,listStyle:A}=(0,y.Xw)(),g=(0,r.useMemo)((()=>(0,Pe.A)(f)),[f]),h=(0,a.d4)(g),E=(0,r.useMemo)((()=>(0,ge.A)({activeFilterRules:null==h?void 0:h.filterRules,listType:t,subtype:l,columnWidth:v,listStyle:A,displayFields:null==b?void 0:b.DisplayFields,displayImages:null==b?void 0:b.DisplayImage,outerPaddingTop:De,outerPaddingBottom:De,outerPaddingRight:ke-Me})),[null==h?void 0:h.filterRules,t,l,v,A,null==b?void 0:b.DisplayFields,null==b?void 0:b.DisplayImage]),P=(0,r.useCallback)((e=>{var l;return(null==(l=e.item)?void 0:l.type)===p.QD.UnresolvedAd?r.createElement(r.Fragment,null):r.createElement(w.Ay,{key:e.key,column:e.column,row:e.row},(0,he.A)(t)?r.createElement(be.A,we({},e)):r.createElement(Ae.A,we({},e)))}),[t]);return r.createElement(k.A,{autoScroll:!1,cellComponentFactory:P,className:e,emptyIndices:u,items:n,keyPropName:"listItemKey",layout:E,scrollerKey:o,smoothScroll:s,targetScrollIndex:c,totalSize:i,onListReady:m,onPageRequest:d})}var Re=l(46772),je=l(5292),Le=l(19396),Fe=l(97464),xe=l(32952),He=l(84518),Ve=l(48188);function ze({className:e,metadataItem:t}){const l=(0,Ve.A)(t);return l?r.createElement("span",{className:e,title:l},l):null}var Be=l(174),Ke=l(44427),qe=l(66438),Ue=l(44434),Ge=l(10810);const Qe={overlay:"MetadataSharedItemRow-overlay-pr_MeS",underlay:"MetadataSharedItemRow-underlay-Tqhyu4 Link-link-vSsQW1",summaryContainer:"MetadataSharedItemRow-summaryContainer-ZBZI2f",posterContainer:"MetadataSharedItemRow-posterContainer-EGv3A4",playPosterContainer:"MetadataSharedItemRow-playPosterContainer-EXeRJG MetadataSharedItemRow-posterContainer-EGv3A4",playCircle:"MetadataSharedItemRow-playCircle-nS3hcH MetadataPosterCardActions-playCircle-rOnuVA PlayButton-playCircle-fK1f_v MetadataPosterCardCircle-cardCircle-gBHNQG",titlesContainer:"MetadataSharedItemRow-titlesContainer-jAtkbB",titleContainer:"MetadataSharedItemRow-titleContainer-LulCGZ",title:"MetadataSharedItemRow-title-v21y4N",doubleTitle:"MetadataSharedItemRow-doubleTitle-wTKbOt MetadataSharedItemRow-title-v21y4N",subtitle:"MetadataSharedItemRow-subtitle-Cb0Qkn MetadataSharedItemRow-titleContainer-LulCGZ MetadataSharedItemRow-title-v21y4N",actions:"MetadataSharedItemRow-actions-s5Cg3A",actionsButton:"MetadataSharedItemRow-actionsButton-M0no3e Link-link-vSsQW1"};function We({metadataItem:e,metadataItemState:t,style:l,cellIndex:a}){const[n,i]=(0,A.Ss)(),o=(0,Ke.A)(null==e?void 0:e.sourceURI),s=(0,qe.A)(e,"key"),c=(0,Le.A)(n,i,null,{key:e.key}),{hoverRef:u,actionsMenuButtonID:d,isHovered:m,isActionsPending:y,isActionsVisible:v,isActionsMenuOpen:f,onActionsMenuClose:b,onActionsMenuCloseComplete:g,onActionsMenuToggle:h}=(0,Be.A)({server:n,provider:i,metadataItem:e,metadataItemState:t}),{type:E,subtype:P}=e,C=(0,Q.Ay)(E,P),O=(0,_.A)({width:$(C),aspectRatio:C});return r.createElement(ee.A,{ref:u,isAlternate:!!(a%2),isHovered:m,style:l},!e.directory&&s||e.directory?r.createElement(X.A,{"aria-label":(0,G.A)(e),className:Qe.underlay,to:e.directory?c:s}):null,r.createElement("div",{className:Qe.overlay},r.createElement("div",{className:Qe.summaryContainer},e.directory?r.createElement("div",{className:Qe.posterContainer},r.createElement(Y.A,{style:O},r.createElement(Z.A,{height:O.height,width:O.width},r.createElement(xe.A,{type:e.type})))):r.createElement("div",{className:Qe.playPosterContainer},r.createElement(Fe.A,{aspectRatio:C,height:O.height,isPlayButtonCard:!0,isSelectHidden:!0,metadataItem:e,metadataItemState:t,metadataTimelineState:o,playCircleClassName:Qe.playCircle,width:O.width})),r.createElement("div",{className:Qe.titlesContainer},r.createElement("div",{className:Qe.titleContainer},r.createElement(ze,{className:Qe.doubleTitle,metadataItem:e})),r.createElement("div",{className:Qe.subtitle},r.createElement("span",null,function(e){if(e.directory)switch(e.type){case p.QD.Movie:return(0,Re.A)("Movie Library");case p.QD.Show:return(0,Re.A)("Show Library");case p.QD.Artist:return(0,Re.A)("Music Library");case p.QD.Photo:return(0,Re.A)("Photo Library")}return(0,Ue.A)({metadataType:e.type,metadataSubtype:e.subtype})}(e)),e.editionTitle?r.createElement(r.Fragment,null,r.createElement(je.A,null),r.createElement("span",null,e.editionTitle)):null)),v&&!e.directory?r.createElement("div",{className:Qe.actions},r.createElement(Ge.A,{className:Qe.actionsButton,"data-testid":"sharedItemMoreButton",id:d,isPending:y,onPress:h})):null)),r.createElement(He.A,{actionsOverride:{isPlayVisible:!1,isEditVisible:!1},isOpen:f,metadataItem:e,target:d,onMenuClose:b,onMenuCloseComplete:g}))}var $e=Object.getOwnPropertySymbols,_e=Object.prototype.hasOwnProperty,Xe=Object.prototype.propertyIsEnumerable,Ye=(e,t)=>{var l={};for(var r in e)_e.call(e,r)&&t.indexOf(r)<0&&(l[r]=e[r]);if(null!=e&&$e)for(var r of $e(e))t.indexOf(r)<0&&Xe.call(e,r)&&(l[r]=e[r]);return l};function Ze(e){var t=e,{item:l}=t,a=Ye(t,["item"]);const n=(0,z.A)(null==l?void 0:l.sourceURI),i=(0,K.A)(a),{cellIndex:o}=a;return l?r.createElement(V.A,{metadataItem:l,metadataItemState:n},r.createElement(We,{cellIndex:o,metadataItem:l,metadataItemState:n,style:i.style})):r.createElement(B.A,{index:o,style:i.style})}var Je=Object.defineProperty,et=Object.getOwnPropertySymbols,tt=Object.prototype.hasOwnProperty,lt=Object.prototype.propertyIsEnumerable,rt=(e,t,l)=>t in e?Je(e,t,{enumerable:!0,configurable:!0,writable:!0,value:l}):e[t]=l,at=(e,t)=>{for(var l in t||(t={}))tt.call(t,l)&&rt(e,l,t[l]);if(et)for(var l of et(t))lt.call(t,l)&&rt(e,l,t[l]);return e};const nt=parseInt(D.A.v4PagePadding,10);function it({className:e,items:t,totalSize:l,scrollerKey:a,smoothScroll:n,targetScrollIndex:i,onPageRequest:o,onListReady:s}){const c=(0,r.useMemo)((()=>(0,T.A)({outerPaddingLeft:nt})),[]),u=(0,r.useCallback)((e=>r.createElement(w.Ay,{key:e.key,row:e.row},r.createElement(Ze,at({},e)))),[]);return r.createElement(k.A,{autoScroll:!1,cellComponentFactory:u,className:e,items:t,keyPropName:"listItemKey",layout:c,scrollerKey:a,smoothScroll:n,targetScrollIndex:i,totalSize:l,onListReady:s,onPageRequest:o})}var ot=l(10544),st=l(53356),ct=l(12166),ut=l(40500),dt=l(46520),mt=l(79947),pt=l(60710),yt=l(62321),vt=l(2532),ft=l(3184),bt=l(93558),At=l(30142),gt=l(94382),ht=l(3253),Et=l(87714),Pt=l(90313),Ct=l(49202);const Ot=function(e,t){return e?e.reduce(((e,l)=>{const r=Ct.Ay.find((e=>l.key===e.ascKey&&l.descKey===e.descKey));return!r||t&&!t.includes(r.key)||e.push({sort:l,tableColumn:r}),e}),[]):[]},St=function(e){return e.active?e.activeDirection===vt.UE.Ascending?e.descKey:e.key:e.defaultDirection===vt.UE.Ascending?e.key:e.descKey};var It=l(14890);const Tt={tableHeader:"DirectoryListTableHeader-tableHeader-X1Ukmo TableHeader-tableHeader-DV7Uvw",tableHeaderLink:"DirectoryListTableHeader-tableHeaderLink-Ya6pOb TableHeaderLink-tableHeaderLink-ZM1qnf Link-link-vSsQW1",tableHeaderCell:"DirectoryListTableHeader-tableHeaderCell-sXoDne TableHeaderCell-tableHeaderCell-LXfAh8 TableCell-tableCell-eytlAB",activeTableHeaderCell:"DirectoryListTableHeader-activeTableHeaderCell-w4MUZL DirectoryListTableHeader-tableHeaderCell-sXoDne TableHeaderCell-tableHeaderCell-LXfAh8 TableCell-tableCell-eytlAB",firstTableHeaderCell:"DirectoryListTableHeader-firstTableHeaderCell-spztMG DirectoryListTableHeader-tableHeaderCell-sXoDne TableHeaderCell-tableHeaderCell-LXfAh8 TableCell-tableCell-eytlAB",firstActiveTableHeaderCell:"DirectoryListTableHeader-firstActiveTableHeaderCell-JngMPB DirectoryListTableHeader-firstTableHeaderCell-spztMG DirectoryListTableHeader-tableHeaderCell-sXoDne TableHeaderCell-tableHeaderCell-LXfAh8 TableCell-tableCell-eytlAB DirectoryListTableHeader-activeTableHeaderCell-w4MUZL DirectoryListTableHeader-tableHeaderCell-sXoDne TableHeaderCell-tableHeaderCell-LXfAh8 TableCell-tableCell-eytlAB",columnMenuButtonContainer:"DirectoryListTableHeader-columnMenuButtonContainer-Rcrlrc",actionsTableHeaderCell:"DirectoryListTableHeader-actionsTableHeaderCell-yaC9UL DirectoryListTableHeader-tableHeaderCell-sXoDne TableHeaderCell-tableHeaderCell-LXfAh8 TableCell-tableCell-eytlAB"};var wt=Object.defineProperty,kt=Object.defineProperties,Dt=Object.getOwnPropertyDescriptors,Mt=Object.getOwnPropertySymbols,Nt=Object.prototype.hasOwnProperty,Rt=Object.prototype.propertyIsEnumerable,jt=(e,t,l)=>t in e?wt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:l}):e[t]=l,Lt=(e,t)=>{for(var l in t||(t={}))Nt.call(t,l)&&jt(e,l,t[l]);if(Mt)for(var l of Mt(t))Rt.call(t,l)&&jt(e,l,t[l]);return e},Ft=(e,t)=>kt(e,Dt(t));const xt={placement:"top-start",modifiers:[{name:"offset",options:{offset:[5]}}]};function Ht({className:e=Tt.tableHeader,width:t,activeTableColumnSorts:l,typeKeySourceURI:n,sorts:i}){const o=(0,a.wA)(),s=(0,yt.A)(),c=(0,ft.A)(),{containerKey:m}=(0,y.Xw)(),p=(0,r.useMemo)((()=>Ot(i)),[i]),v=(0,r.useMemo)((()=>(0,Pt.A)("directoryTableColumns")),[]),f=(0,a.d4)(v),b=(0,r.useCallback)((e=>{const t=function(e,t){const l=new Set(t.map((({tableColumn:e})=>e.key)));return l.has(e)?l.delete(e):l.add(e),Array.from(l)}(e,l);if(t.length<1)return;const r=Ft(Lt({},f),{[n]:t});(0,u.Cc)((()=>{o((0,mt.hg)({directoryTableColumns:r}))}))}),[l,f,n,o]);return r.createElement(At.A,{className:e,style:{width:t}},r.createElement("div",{className:Tt.columnMenuButtonContainer},r.createElement(ut._q,{accessibilityLabel:(0,Re.A)("Change Columns"),id:s,isOpen:c.isOpen,onPress:c.onToggle},r.createElement(dt.default,null))),l.map((({tableColumn:e,sort:t},l)=>r.createElement(ht.A,{key:e.key,style:e.style,to:(0,te.A)({key:d.A.join(null!=m?m:"",{sort:St(t)},{parseParams:!0})})},r.createElement(gt.A,{activeClassName:0===l?Tt.firstActiveTableHeaderCell:Tt.activeTableHeaderCell,className:0===l?Tt.firstTableHeaderCell:Tt.tableHeaderCell,isActive:t.active},r.createElement(Et.A,{title:t.title},t.title),t.active?r.createElement(bt.A,{isAscending:t.activeDirection===vt.UE.Ascending}):null)))),r.createElement(gt.A,{className:Tt.actionsTableHeaderCell}),r.createElement(pt.A,{isOpen:c.isOpen,options:xt,target:s,onMenuClose:c.onClose},p.map((({sort:e,tableColumn:t})=>{const a=l.find((({tableColumn:e})=>e===t));return r.createElement(It.A,{key:t.key,isSelected:!!a,value:t.key,onSelect:b},e.title)}))))}var Vt=l(1081);const zt=function(e,t){return(0,Vt.Mz)(function(e,t){return(0,Vt.Mz)((0,Pt.A)("directoryTableColumns"),(l=>{if(!e)return[];const r=l[e];if(r)return r;switch(t){case f.A.Movie:return[Ct.DD.key,Ct.Ok.key];case f.A.Show:return[Ct.DD.key];case f.A.Season:return[Ct.q8.key,Ct.dO.key];case f.A.Episode:return[Ct.DD.key,Ct.D0.key];case f.A.Artist:return[Ct.DD.key];case f.A.Album:return[Ct.DD.key,Ct.Di.key,Ct.Ok.key];case f.A.Track:return[Ct.DD.key,Ct.mW.key,Ct.P8.key,Ct.p0.key]}return[Ct.DD.key]}))}(e,null==t?void 0:t.type),(e=>(null==t?void 0:t.Sort)?Ot(t.Sort,e):[]))};var Bt=Object.defineProperty,Kt=Object.getOwnPropertySymbols,qt=Object.prototype.hasOwnProperty,Ut=Object.prototype.propertyIsEnumerable,Gt=(e,t,l)=>t in e?Bt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:l}):e[t]=l,Qt=(e,t)=>{for(var l in t||(t={}))qt.call(t,l)&&Gt(e,l,t[l]);if(Kt)for(var l of Kt(t))Ut.call(t,l)&&Gt(e,l,t[l]);return e};const Wt=parseInt(D.A.v4PagePadding,10),$t=parseInt(D.A.actionsCellWidth,10),_t=parseInt(D.A.playCellWidth,10);function Xt({className:e,activeType:t,items:l,totalSize:n,smoothScroll:i,scrollerKey:s,targetScrollIndex:c,onPageRequest:u,onListReady:d}){const[m,p]=(0,A.Ss)(),y=(0,o.A)({serverIdentifier:m.machineIdentifier,providerIdentifier:null==p?void 0:p.identifier}),v=t?`${y}${t.key}`:void 0,f=(0,r.useMemo)((()=>zt(v,t)),[t,v]),b=(0,a.d4)(f),g=(0,r.useMemo)((()=>b.reduce(((e,{tableColumn:t})=>e+t.style.width),_t+$t)),[b]),h=(0,r.useMemo)((()=>(0,st.A)({overscan:1,outerPaddingRight:0,rowWidth:g})),[g]),E=(0,r.useCallback)((e=>(null==t?void 0:t.Sort)&&v?r.createElement(Ht,{activeTableColumnSorts:b,sorts:t.Sort,typeKeySourceURI:v,width:Math.max(Wt+g,e.width)}):null),[g,t,v,b]),P=(0,r.useCallback)((e=>r.createElement(w.Ay,{key:e.key,row:e.row},r.createElement(ot.A,Qt({tableColumns:b.map((({tableColumn:e})=>e))},e)))),[b]);return r.createElement(k.A,{autoScroll:!1,cellComponentFactory:P,className:e,items:l,keyPropName:"listItemKey",layout:h,renderAboveList:E,scrollDirection:ct.D.Omni,scrollerKey:s,smoothScroll:i,targetScrollIndex:c,totalSize:n,onListReady:d,onPageRequest:u})}var Yt=l(38837);function Zt({className:e,listType:t,subtype:l,activeType:a,items:n,totalSize:i,scrollerKey:o,smoothScroll:s,targetScrollIndex:c,emptyIndices:u,onPageRequest:d,onListReady:m}){const{listStyle:p}=(0,y.Xw)(),v=function(e){switch(e){case f.T.Grid:return Ne;case f.T.Details:return H;case f.T.Table:return Xt;case f.T.SharedItems:return it;case f.T.Folder:return fe}throw new Error("Failed to  map the directory list style to a list component. Check `selectDirectoryListStyle` for list style options")}(p);return r.createElement(Yt.Ay,{items:n},r.createElement(v,{activeType:a,className:e,emptyIndices:u,items:n,listType:t,scrollerKey:o,smoothScroll:s,subtype:l,targetScrollIndex:c,totalSize:i,onListReady:m,onPageRequest:d}))}var Jt=l(42019),el=l(19594),tl=l(39530),ll=l(57053),rl=l(37423);const al={button:"SplitButton-button-TtyUe6",mainButton:"SplitButton-mainButton-isrwsp",menuButton:"SplitButton-menuButton-VOH5gW"};var nl=Object.defineProperty,il=Object.getOwnPropertySymbols,ol=Object.prototype.hasOwnProperty,sl=Object.prototype.propertyIsEnumerable,cl=(e,t,l)=>t in e?nl(e,t,{enumerable:!0,configurable:!0,writable:!0,value:l}):e[t]=l,ul=(e,t)=>{for(var l in t||(t={}))ol.call(t,l)&&cl(e,l,t[l]);if(il)for(var l of il(t))sl.call(t,l)&&cl(e,l,t[l]);return e};const dl=function(e){const t=e,{className:l=al.button,ariaLabel:a,label:n,menuSize:i,children:o,onPress:s}=t,c=((e,t)=>{var l={};for(var r in e)ol.call(e,r)&&t.indexOf(r)<0&&(l[r]=e[r]);if(null!=e&&il)for(var r of il(e))t.indexOf(r)<0&&sl.call(e,r)&&(l[r]=e[r]);return l})(t,["className","ariaLabel","label","menuSize","children","onPress"]),u=a||n,[d]=(0,r.useState)((0,ll.A)()),[m,p]=(0,r.useState)(!1),y=(0,r.useCallback)((()=>p(!m)),[m]),v=r.Children.only(o);return r.createElement("div",{className:l,id:d},r.createElement(rl.A,ul({"aria-label":u,className:al.mainButton,onPress:s},c),n),r.createElement(rl.A,ul({className:al.menuButton,onPress:y},c),r.createElement(tl.A,null)),r.createElement(pt.A,{isOpen:m,size:i,target:d,onMenuClose:y},r.cloneElement(v,{onMenuClose:y,onMenuOpen:y})))};var ml=l(97694),pl=l(95853);function yl(e){const t=(0,pl.A)(e.type);return t?(0,ml.A)(t,e.subtype):void 0}var vl=l(34041),fl=l(74332),bl=l(46144),Al=l(35123);const gl={[f.A.Movie]:["isAddToCollectionVisible","isAddToPlaylistVisible","isAddToQueueVisible","isOptimizeVisible","isPlayVisible","isShuffleVisible"],[f.A.Show]:["isAddToCollectionVisible","isAddToPlaylistVisible","isAddToQueueVisible","isOptimizeVisible","isPlayVisible","isShuffleVisible"],[f.A.Season]:["isAddToCollectionVisible","isAddToPlaylistVisible","isAddToQueueVisible","isOptimizeVisible","isPlayVisible","isShuffleVisible"],[f.A.Episode]:["isAddToCollectionVisible","isAddToPlaylistVisible","isAddToQueueVisible","isOptimizeVisible","isPlayVisible","isShuffleVisible"],[f.A.Artist]:["isAddToCollectionVisible","isAddToPlaylistVisible","isAddToQueueVisible","isPlayVisible","isShuffleVisible"],[f.A.Album]:["isAddToCollectionVisible","isAddToPlaylistVisible","isAddToQueueVisible","isPlayVisible","isShuffleVisible"],[f.A.Track]:["isAddToCollectionVisible","isAddToPlaylistVisible","isAddToQueueVisible","isPlayVisible","isShuffleVisible"],[f.A.PhotoAlbum]:["isAddToPlaylistVisible","isPlayVisible","isShuffleVisible"],[f.A.Photo]:["isAddToPlaylistVisible","isPlayVisible","isShuffleVisible"],[f.A.Author]:["isAddToCollectionVisible","isAddToPlaylistVisible","isAddToQueueVisible","isPlayVisible","isShuffleVisible"],[f.A.Audiobook]:["isAddToCollectionVisible","isAddToPlaylistVisible","isAddToQueueVisible","isPlayVisible","isShuffleVisible"],[f.A.Chapter]:["isAddToCollectionVisible","isAddToPlaylistVisible","isAddToQueueVisible","isPlayVisible","isShuffleVisible"]},hl=({provider:e})=>!vl.cK(e.identifier,vl.OB)&&!!(0,bl.A)(e,fl.Mm.PlayQueue),El=({provider:e})=>!!(0,bl.A)(e,fl.Mm.Playlist),Pl=({provider:e,activeType:t})=>!!(0,bl.A)(e,fl.Mm.Collection)&&!!(0,bl.A)(e,fl.Mm.Manage)&&(null==t?void 0:t.type)!==f.A.Photo,Cl={isAddToCollectionVisible:Pl,isAddToPlaylistVisible:El,isAddToQueueVisible:hl,isPlayVisible:hl,isShuffleVisible:hl,isOptimizeVisible:({server:e,provider:t})=>(0,Al.A)(t)&&e.isFullOwnedServer&&e.transcoderVideo};var Ol=l(47401),Sl=l(70009),Il=l(60966),Tl=l(80893),wl=l(55227),kl=l(69462),Dl=l(20140),Ml=l(31585),Nl=l(92658),Rl=l(19584),jl=l(12376),Ll=l(66556),Fl=l(83131);const xl=function({className:e="FieldRatingInput-inputContainer-pvLUkv",value:t,onChange:l}){var a;const n=(0,r.useCallback)((e=>{l(0===e?"-1":String(e))}),[l]);return r.createElement("div",{className:e},r.createElement(Fl.J,{accessibilityLabel:(0,Re.A)("Rate"),value:null!=(a=parseInt(t,10))?a:0,onChange:n}))};var Hl=l(75473),Vl=l(15258);const zl={select:"FilterSelectInput-select-uFKoMy Select-select-cgne0H"};var Bl=Object.defineProperty,Kl=Object.getOwnPropertySymbols,ql=Object.prototype.hasOwnProperty,Ul=Object.prototype.propertyIsEnumerable,Gl=(e,t,l)=>t in e?Bl(e,t,{enumerable:!0,configurable:!0,writable:!0,value:l}):e[t]=l;const Ql=function(e){var t=e,{selectClassName:l=zl.select,size:a=Vl.A.Small}=t,n=((e,t)=>{var l={};for(var r in e)ql.call(e,r)&&t.indexOf(r)<0&&(l[r]=e[r]);if(null!=e&&Kl)for(var r of Kl(e))t.indexOf(r)<0&&Ul.call(e,r)&&(l[r]=e[r]);return l})(t,["selectClassName","size"]);return r.createElement(Hl.A,((e,t)=>{for(var l in t||(t={}))ql.call(t,l)&&Gl(e,l,t[l]);if(Kl)for(var l of Kl(t))Ul.call(t,l)&&Gl(e,l,t[l]);return e})({selectClassName:l,size:a},n))};var Wl=l(60237);const $l={input:"FilterTextInput-input-a_vZGU TextInput-input-vbygwE"};var _l=Object.defineProperty,Xl=Object.defineProperties,Yl=Object.getOwnPropertyDescriptors,Zl=Object.getOwnPropertySymbols,Jl=Object.prototype.hasOwnProperty,er=Object.prototype.propertyIsEnumerable,tr=(e,t,l)=>t in e?_l(e,t,{enumerable:!0,configurable:!0,writable:!0,value:l}):e[t]=l,lr=(e,t)=>{for(var l in t||(t={}))Jl.call(t,l)&&tr(e,l,t[l]);if(Zl)for(var l of Zl(t))er.call(t,l)&&tr(e,l,t[l]);return e};function rr(e){var t=e,{className:l=$l.input,size:a=Vl.A.Small,initialValue:n,forwardedRef:i,onChange:o,onDebouncedChange:s}=t,c=((e,t)=>{var l={};for(var r in e)Jl.call(e,r)&&t.indexOf(r)<0&&(l[r]=e[r]);if(null!=e&&Zl)for(var r of Zl(e))t.indexOf(r)<0&&er.call(e,r)&&(l[r]=e[r]);return l})(t,["className","size","initialValue","forwardedRef","onChange","onDebouncedChange"]);const[u,d]=(0,r.useState)(n),m=(0,Wl.A)(u,250),p=(0,r.useCallback)((e=>{null==o||o(e),d(e.target.value)}),[o,d]);return(0,r.useEffect)((()=>{null==s||s(m)}),[m]),r.createElement(Sl.A,lr({ref:i,className:l,size:a,value:u,onChange:p},c))}const ar=r.forwardRef(((e,t)=>{return r.createElement(rr,(l=lr({},e),Xl(l,Yl({forwardedRef:t}))));var l})),nr=/^-?(\d+)([a-z]{1,3})$/,ir=function(e=""){const t=e.match(nr);if(t){const[,e,l]=t;return{value:e,suffix:l}}return t},or=function({className:e="FieldRelativeDateInput-inputContainer-pSVay7",value:t,onChange:l}){var a,n;const i=(0,r.useMemo)((()=>ir(t)),[t]),o=null!=(a=null==i?void 0:i.value)?a:"0",s=null!=(n=null==i?void 0:i.suffix)?n:"s",c=(0,r.useCallback)((e=>{l(`-${e||"0"}${s}`)}),[l,s]),u=(0,r.useCallback)((e=>{l(`-${o}${e.target.value}`)}),[l,o]);return r.createElement("div",{className:e},r.createElement(ar,{className:"FieldRelativeDateInput-textInput-YS80gt FilterTextInput-input-a_vZGU TextInput-input-vbygwE",initialValue:"0"===o?"":o,min:"0",name:"dateInput",required:!0,step:"1",type:"number",onDebouncedChange:c}),r.createElement(Ql,{className:"FieldRelativeDateInput-selectInput-SfDGml Select-input-HK74_E",name:"suffixInput",value:s,onChange:u},r.createElement("option",{value:"s"},(0,Re.A)("Seconds")),r.createElement("option",{value:"m"},(0,Re.A)("Minutes")),r.createElement("option",{value:"h"},(0,Re.A)("Hours")),r.createElement("option",{value:"d"},(0,Re.A)("Days")),r.createElement("option",{value:"w"},(0,Re.A)("Weeks")),r.createElement("option",{value:"mon"},(0,Re.A)("Months")),r.createElement("option",{value:"y"},(0,Re.A)("Years"))))};var sr=l(32485),cr=l.n(sr),ur=l(27648),dr=l(67482),mr=l(40961),pr=l(626),yr=l(99557),vr=l(82810),fr=l(47271),br=l(35691),Ar=l(30006);const gr={name:"applyMaxHeight",enabled:!0,phase:"beforeWrite",requires:["maxSize"],fn({state:e,options:t}){var l;const r=null!=(l=t.offset)?l:0,{height:a}=e.modifiersData.maxSize;e.styles.popper.maxHeight=a-r+"px"}};var hr=l(46397);const Er={name:"maxSize",enabled:!0,phase:"main",requiresIfExists:["offset","preventOverflow","flip"],fn({state:e,name:t,options:l}){const r=(0,hr.A)(e,l),{x:a,y:n}=e.modifiersData.preventOverflow||{x:0,y:0},{width:i,height:o}=e.rects.popper,[s]=e.placement.split("-"),c="left"===s?"left":"right",u="top"===s?"top":"bottom";e.modifiersData[t]={width:i-r[c]-a,height:o-r[u]-n}}},Pr={name:"sameWidth",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn({state:e}){e.styles.popper.width=`${e.rects.reference.width}px`},effect({state:e}){e.elements.popper.style.width=`${e.elements.reference.offsetWidth}px`}};var Cr=l(89267);const Or=(0,Vt.Mz)(Cr.A,(e=>e.advancedFilters)),Sr={searchInputContainer:"FilterOptionInput-searchInputContainer-_9NzP_",button:"FilterOptionInput-button-_W0z52 Link-link-vSsQW1",small:"FilterOptionInput-small-s38pCP",medium:"FilterOptionInput-medium-yAzjl5",large:"FilterOptionInput-large-YAHTkc",isDisabled:"FilterOptionInput-isDisabled-uC1BoB",hasError:"FilterOptionInput-hasError-hvyG03",menuContainer:"FilterOptionInput-menuContainer-jhrBof",menu:"FilterOptionInput-menu-z6FMuR",loadingMenu:"FilterOptionInput-loadingMenu-lTfcWf FilterOptionInput-menu-z6FMuR",scroller:"FilterOptionInput-scroller-kH_tOx Scroller-scroller-S6_dko",input:"FilterOptionInput-input-AUT_hB FilterTextInput-input-a_vZGU TextInput-input-vbygwE",list:"FilterOptionInput-list-VHWEC0",listItem:"FilterOptionInput-listItem-LSwdMk",listItemHighlighted:"FilterOptionInput-listItemHighlighted-tGuS82 FilterOptionInput-listItem-LSwdMk"};var Ir=Object.defineProperty,Tr=Object.defineProperties,wr=Object.getOwnPropertyDescriptors,kr=Object.getOwnPropertySymbols,Dr=Object.prototype.hasOwnProperty,Mr=Object.prototype.propertyIsEnumerable,Nr=(e,t,l)=>t in e?Ir(e,t,{enumerable:!0,configurable:!0,writable:!0,value:l}):e[t]=l,Rr=(e,t)=>{for(var l in t||(t={}))Dr.call(t,l)&&Nr(e,l,t[l]);if(kr)for(var l of kr(t))Mr.call(t,l)&&Nr(e,l,t[l]);return e},jr=(e,t)=>Tr(e,wr(t));const Lr=(0,yr.A)(vr.A.menuSpeed)/1e3,Fr={ease:"easeOut",duration:Lr},xr={ease:fr.A.motionEasing,duration:Lr},Hr={opacity:Fr,y:xr,scale:xr},Vr={initial:{opacity:0,y:-10,scale:.95,transition:Hr},animate:{opacity:1,y:0,scale:1,transition:Hr},exit:{opacity:0,y:10,scale:.95,transition:Hr}},zr=function({containerClassName:e=Sr.searchInputContainer,disabledClassName:t=Sr.isDisabled,errorClassName:l=Sr.hasError,buttonClassName:n=Sr.button,rule:i,size:o=Vl.A.Small,filter:s,isDisabled:c,hasError:u,onChange:d}){var m,p,y;const v=(0,a.wA)(),[f,b]=(0,A.Ss)(),g=null!=(m=i.valueTitle)?m:i.value,h=(0,r.useMemo)((()=>{return e=s.key,(0,Vt.Mz)(Or,(t=>t.filterOptions[e]));var e}),[s.key]),E=(0,a.d4)(h),[P,C]=(0,r.useState)(null==E?void 0:E.options),O=null!=(p=null!=P?P:null==E?void 0:E.options)?p:[],I=(0,r.useRef)(null),T=(0,r.useRef)(null),w=(0,br.A)(),{styles:k,attributes:D,state:M}=(0,pr.E)(I.current,T.current,{placement:"bottom-start",modifiers:(0,r.useMemo)((()=>[{name:"offset",options:{offset:[0,5]}},Pr,Er,gr,{name:"applyMaxHeight",options:{offset:15}}]),[])}),N=(0,r.useCallback)((e=>{var t;return null!=(t=null==e?void 0:e.title)?t:""}),[]),{isOpen:R,highlightedIndex:j,getToggleButtonProps:L,getMenuProps:F,getComboboxProps:x,getInputProps:H,getItemProps:V,closeMenu:z}=(0,ur.Bp)({defaultHighlightedIndex:0,items:O,itemToString:N,initialInputValue:g,onSelectedItemChange:(0,r.useCallback)((({selectedItem:e})=>{e&&d(e.value,e.title)}),[d]),onInputValueChange:(0,r.useCallback)((({inputValue:e})=>{e&&(null==E?void 0:E.options)&&C(E.options.filter((t=>N(t).toLowerCase().includes(null==e?void 0:e.toLocaleLowerCase()))))}),[null==E?void 0:E.options,N]),stateReducer:(0,r.useCallback)(((e,{changes:t})=>{var l,r,a;return e.isOpen&&!t.isOpen&&(null==(l=t.selectedItem)?void 0:l.title)!==e.inputValue?jr(Rr({},t),{inputValue:null!=(a=null==(r=t.selectedItem)?void 0:r.title)?a:g}):t}),[g])});return(0,r.useEffect)((()=>{(null==E?void 0:E.isPopulated)||v(wl.A.actions.fetchFilterOptionsRequested({server:f,provider:b,filter:s}))}),[v,s,null==E?void 0:E.isPopulated,R,b,f]),(0,r.useEffect)((()=>{var e;(null==(e=null==M?void 0:M.modifiersData.hide)?void 0:e.isReferenceHidden)&&R&&z()}),[z,R,null==(y=null==M?void 0:M.modifiersData.hide)?void 0:y.isReferenceHidden]),(0,r.useEffect)((()=>{(null==E?void 0:E.options.length)&&C(E.options)}),[null==E?void 0:E.options]),r.createElement(r.Fragment,null,r.createElement("div",Rr({},x({ref:I,className:cr()(e,c&&t,u&&l)})),r.createElement(ar,jr(Rr({},H({className:Sr.input,onFocus:w,disabled:c})),{size:o})),r.createElement(X.A,jr(Rr(Rr({},L({className:cr()(n,Sr[o]),disabled:c})),D.reference),{isDisabled:c}),r.createElement(tl.A,{direction:R?Ar.A.Up:Ar.A.Down,size:o}))),mr.createPortal(r.createElement("div",Rr(Rr({},F({className:Sr.menuContainer,style:k.popper,ref:T})),D.popper),r.createElement(dr.Ny,null,R?r.createElement(dr.PY.div,{key:"container",animate:Vr.animate,className:(null==E?void 0:E.isPopulated)?Sr.menu:Sr.loadingMenu,exit:Vr.exit,initial:Vr.initial},(null==E?void 0:E.isPopulated)?r.createElement(ct.A,{className:Sr.scroller},r.createElement("ul",{className:Sr.list},O.length?O.map(((e,t)=>r.createElement("li",Rr({key:e.key},V({className:j===t?Sr.listItemHighlighted:Sr.listItem,index:t,item:e})),e.title))):r.createElement("li",{className:Sr.listItem},(0,Re.A)("No options")))):r.createElement(S.A,null)):null)),document.body))};var Br=l(4633);const Kr=[Br.A.DoubleEqual,Br.A.NotDoubleEqual],qr=[Br.A.Equal,Br.A.NotEqual],Ur=function({rule:e,fieldType:t,fieldSubtype:l,filter:a,onChange:n}){var i;const o=(0,r.useCallback)((e=>{n(encodeURIComponent(e),e)}),[n]);if(l===vt.F3.Rating)return r.createElement(xl,{value:e.value,onChange:n});if(a&&function(e,t){return e===vt.PU.String?Kr.includes(t.operator):qr.includes(t.operator)}(t,e))return r.createElement(zr,{filter:a,rule:e,onChange:n});switch(t){case vt.PU.String:return r.createElement(ar,{initialValue:null!=(i=e.valueTitle)?i:e.value,name:"input",required:!0,type:"text",onDebouncedChange:o});case vt.PU.Integer:return r.createElement(ar,{initialValue:e.value,min:"0",name:"input",required:!0,type:"number",onDebouncedChange:o});case vt.PU.Date:return ir(e.value)?r.createElement(or,{value:e.value,onChange:n}):r.createElement(ar,{initialValue:e.value,max:"2999-12-31",name:"input",pattern:"[0-9]{4}-(0[1-9]|1[012])-(0[1-9]|1[0-9]|2[0-9]|3[01])",placeholder:"YYYY-MM-DD",required:!0,type:"date",onDebouncedChange:o})}return null};function Gr(e,t,l=""){return{operator:e,title:t,defaultValue:l}}const Qr=function(e){switch(e){case vt.PU.Tag:case vt.PU.AudioLanguage:case vt.PU.SubtitleLanguage:return[Gr(Br.A.Equal,(0,Re.A)("is")),Gr(Br.A.NotEqual,(0,Re.A)("is not"))];case vt.PU.Resolution:return[Gr(Br.A.Equal,(0,Re.A)("is"))];case vt.PU.Boolean:return[Gr(Br.A.Equal,(0,Re.A)("is true")),Gr(Br.A.NotEqual,(0,Re.A)("is false"))];case vt.PU.Integer:return[Gr(Br.A.Equal,(0,Re.A)("is")),Gr(Br.A.NotEqual,(0,Re.A)("is not")),Gr(Br.A.GreaterThanGreaterThanOrEqual,(0,Re.A)("is greater than")),Gr(Br.A.LessThanLessThanOrEqual,(0,Re.A)("is less than"))];case vt.PU.String:return[Gr(Br.A.Equal,(0,Re.A)("contains")),Gr(Br.A.NotEqual,(0,Re.A)("does not contain")),Gr(Br.A.DoubleEqual,(0,Re.A)("is")),Gr(Br.A.NotDoubleEqual,(0,Re.A)("is not")),Gr(Br.A.LessThanOrEqual,(0,Re.A)("begins with")),Gr(Br.A.GreaterThanOrEqual,(0,Re.A)("ends with"))];case vt.PU.Date:return[Gr(Br.A.LessThanLessThanOrEqual,(0,Re.A)("is before")),Gr(Br.A.GreaterThanGreaterThanOrEqual,(0,Re.A)("is after")),Gr(Br.A.GreaterThanGreaterThanOrEqual,(0,Re.A)("is in the last"),"-0s"),Gr(Br.A.LessThanLessThanOrEqual,(0,Re.A)("is not in the last"),"-0s")]}},Wr="AdvancedFilterOption-inputContainer-h4Ng07";var $r=Object.defineProperty,_r=Object.defineProperties,Xr=Object.getOwnPropertyDescriptors,Yr=Object.getOwnPropertySymbols,Zr=Object.prototype.hasOwnProperty,Jr=Object.prototype.propertyIsEnumerable,ea=(e,t,l)=>t in e?$r(e,t,{enumerable:!0,configurable:!0,writable:!0,value:l}):e[t]=l,ta=(e,t)=>{for(var l in t||(t={}))Zr.call(t,l)&&ea(e,l,t[l]);if(Yr)for(var l of Yr(t))Jr.call(t,l)&&ea(e,l,t[l]);return e},la=(e,t)=>_r(e,Xr(t));const ra=function({rowState:e,rule:t,isRemoveDisabled:l,onChange:a,onRemoveRule:n}){const{type:i,subtype:o}=e.fieldTypesByFieldKey[t.field],s=e.filterKeysByFieldKey[t.field],c=!!ir(t.value),u=(0,r.useMemo)((()=>Qr(i)),[i]),d=(0,r.useMemo)((()=>e.allTypeFilters.find((({key:e})=>e===s))),[s,e.allTypeFilters]),m=(0,r.useMemo)((()=>{if(i===vt.PU.Date){const e=u.find((e=>e.operator===t.operator&&c&&e.defaultValue));if(e)return e}return u.find((e=>e.operator===t.operator))||u[0]}),[u,t.operator,c,i]),p=(0,r.useMemo)((()=>u.indexOf(m)),[u,m]),y=(0,r.useCallback)((l=>{const r=l.target.value,n=e.allTypeFields.find((e=>e.key===r));if(!n)throw new Error(`${r} did not match to any type field`);const i=e.fieldTypesByFieldKey[n.key],[o]=Qr(i.type);a(la(ta({},t),{field:n.key,fieldTitle:n.title,operator:o.operator,value:i.type===vt.PU.Boolean?"1":"",valueTitle:void 0}))}),[a,e.allTypeFields,e.fieldTypesByFieldKey,t]),v=(0,r.useCallback)((e=>{const l=parseInt(e.target.value,10),r=u[l];i===vt.PU.Date?a(la(ta({},t),{operator:r.operator,value:r.defaultValue,valueTitle:void 0})):a(la(ta({},t),{operator:r.operator}))}),[a,u,t,i]),f=(0,r.useCallback)(((e,l)=>{a(la(ta({},t),{value:e,valueTitle:l}))}),[a,t]);return r.createElement(Dl.I1,{align:"left",gap:"xs",verticalAlign:"center"},r.createElement("div",{className:Wr},r.createElement(Ql,{name:"field",value:t.field,onChange:y},e.allTypeFields.map(((e,t)=>r.createElement("option",{key:`${e.key}-${t}`,value:e.key},e.title))))),r.createElement("div",{className:Wr},r.createElement(Ql,{name:"operator",value:String(p),onChange:v},u.map(((e,t)=>r.createElement("option",{key:t,value:t},e.title))))),i!==vt.PU.Boolean?r.createElement("div",{className:Wr},r.createElement(Ur,{fieldSubtype:o,fieldType:i,filter:d,rule:t,onChange:f})):null,r.createElement(Rl.A,{icon:Ll.default,isDisabled:l,size:"xs",title:(0,Re.A)("Remove Rule"),onPress:n}))};var aa=l(36683);const na=function(e){const[t]=e.allTypeFields,[l]=Qr(t.type);return{field:t.key,fieldTitle:t.title,value:"",operator:l.operator}};var ia=l(58686),oa=l(83842);var sa=Object.defineProperty,ca=Object.defineProperties,ua=Object.getOwnPropertyDescriptors,da=Object.getOwnPropertySymbols,ma=Object.prototype.hasOwnProperty,pa=Object.prototype.propertyIsEnumerable,ya=(e,t,l)=>t in e?sa(e,t,{enumerable:!0,configurable:!0,writable:!0,value:l}):e[t]=l,va=(e,t)=>{for(var l in t||(t={}))ma.call(t,l)&&ya(e,l,t[l]);if(da)for(var l of da(t))pa.call(t,l)&&ya(e,l,t[l]);return e},fa=(e,t)=>ca(e,ua(t));function ba(e){const t=(0,ia.ie)(jl.u).find((t=>t===e));if(t)return t;throw new Error(`'getOperatorValue' received an unknown value '${e}'`)}const Aa=function e({rowState:t,compositeRule:l,onRemoveGroup:a,onChange:n}){const i=(0,yt.A)(),o=(0,ft.A)(),s=l.Rule.length,c=(0,r.useCallback)((e=>{n(fa(va({},l),{operator:ba(e.target.value)}))}),[l,n]),u=(0,r.useCallback)((e=>()=>{const t=Array.from(l.Rule),[r]=t.splice(e,1);t.length<1&&"composite"!==r.type||n(fa(va({},l),{Rule:t}))}),[l,n]),d=(0,r.useCallback)((()=>{const e=Array.from(l.Rule);e.unshift(na(t)),n(fa(va({},l),{Rule:e}))}),[l,n,t]),m=(0,r.useCallback)((()=>{const e=Array.from(l.Rule);e.unshift((0,aa.zP)([na(t)])),n(fa(va({},l),{Rule:e}))}),[l,n,t]),p=(0,r.useCallback)((e=>t=>{const r=Array.from(l.Rule);r.splice(e,1,t),n(fa(va({},l),{Rule:r}))}),[l,n]);return r.createElement("div",{className:"AdvancedFilterGroup-container-y0pz6J"},r.createElement(Dl.BJ,{gap:"xs"},r.createElement(Dl.I1,{align:"left",gap:"s",verticalAlign:"center"},r.createElement("div",{className:"AdvancedFilterGroup-inputContainer-saNbmR"},r.createElement(Ql,{name:"group",value:l.operator,onChange:c},r.createElement("option",{value:"and"},(0,Re.A)("Match all of the following")),r.createElement("option",{value:"or"},(0,Re.A)("Match any of the following")))),r.createElement(Rl.A,{icon:kl.default,size:"xs",title:(0,Re.A)("Add Rule"),onPress:d}),r.createElement(X.A,{"aria-label":(0,Re.A)("More Actions"),id:i,onPress:o.onToggle},r.createElement(oa.A,null)),r.createElement(pt.A,{isOpen:o.isOpen,target:i,onMenuClose:o.onClose},r.createElement(Ml.A,{onPress:(0,Nl.A)(m,o.onClose)},(0,Re.A)("Add Rule Group")),a?r.createElement(Ml.A,{onPress:(0,Nl.A)(a,o.onClose)},(0,Re.A)("Remove Rule Group")):null)),r.createElement("div",{className:"AdvancedFilterGroup-rules-RFRfqs"},r.createElement(Dl.BJ,{gap:"xs"},l.Rule.map(((a,n)=>"composite"===a.type?r.createElement(e,{key:`${a.operator}-${n}`,compositeRule:a,rowState:t,onChange:p(n),onRemoveGroup:u(n)}):r.createElement(ra,{key:`${a.field}-${s}-${n}`,isRemoveDisabled:1===l.Rule.length,rowState:t,rule:a,onChange:p(n),onRemoveRule:u(n)})))))))},ga=new RegExp(`(${["duration","mediaSize","mediaBitrate","show.writer","show.producer","show.director"].join("|")})$`),ha=function({meta:e,rules:t,onChange:l}){const a=(0,r.useMemo)((()=>{var t;return(null!=(t=e.Type)?t:[]).reduce(((e,t)=>(t.Field&&e.push(...t.Field.filter((e=>!ga.test(e.key)))),e)),[])}),[e.Type]),n=(0,r.useMemo)((()=>{var t;return(null!=(t=e.Type)?t:[]).reduce(((e,t)=>(t.Filter&&e.push(...t.Filter),e)),[])}),[e.Type]),i=(0,r.useMemo)((()=>{var t;const l=null!=(t=e.Type)?t:[],r=l.filter((e=>e.type!==f.A.Folder)).length>1;return l.reduce(((e,t)=>(t.Filter&&t.Filter.forEach((l=>{if(l.filterType!==vt.pH.Boolean){const a=r?`${t.type}.${l.filter}`:l.filter;e[a]=l.key}})),e)),{})}),[e.Type]),o=(0,r.useMemo)((()=>a.reduce(((e,t)=>(e[t.key]={type:t.type,subtype:t.subType},e)),{})),[a]),s=(0,r.useMemo)((()=>({allTypeFilters:n,allTypeFields:a,fieldTypesByFieldKey:o,filterKeysByFieldKey:i})),[a,n,o,i]),c=(0,r.useMemo)((()=>t?"composite"!==t.type?(0,aa.zP)([t]):t:(0,aa.zP)([na(s)])),[t,s]);return r.createElement(Aa,{compositeRule:c,rowState:s,onChange:l})},Ea=(0,Vt.Mz)(Or,(e=>e.curatedItem)),Pa=(0,Vt.Mz)(Or,(e=>e.queryParse));var Ca=l(14056),Oa=l(82798),Sa=l(45780),Ia=l(80397),Ta=l(3047),wa=l(62385),ka=l(34251),Da=l(99049),Ma=l(48403),Na=l(89663);const Ra=function({className:e="DirectoryListAdvancedFilters-container-Wr05rs",directoryKey:t,totalSize:l,meta:n}){var i,c,m,y,v,f;const b=(0,a.wA)(),[h,E,P]=(0,A.Ss)(),C=(0,o.A)({serverIdentifier:h.machineIdentifier,providerIdentifier:E.identifier}),O=(0,r.useMemo)((()=>d.A.parseUri(t)),[t]),I=`${C}${t}`,T=(0,a.d4)(Da.A),{query:w,isPopulated:k}=(0,a.d4)(Pa),D=(0,a.d4)(Ea),M=(0,r.useMemo)((()=>(0,wa.A)(I)),[I]),N=(0,a.d4)(M),R=null!=(i=null==N?void 0:N.isSaving)&&i,j=(0,Ma.A)(R),L=(0,ka.A)(n),F=(0,g.A)(),x=F.curatedKey?s.A.parseString(F.curatedKey):void 0,H=(0,Il.A)({identifier:E.metricsIdentifier,mode:"list",type:null==L?void 0:L.type,itemCount:l}),[V,z]=(0,r.useState)(null!=(c=s.A.parseString(O.params.limit))?c:""),B=(0,Wl.A)(V,250),K=(0,ft.A)(),q=(0,ft.A)(),U=(0,ft.A)(),[G,Q]=(0,r.useState)(!1),W=L?(0,pl.A)(L.type):void 0,$=L?yl(L):void 0,_=El({server:h,provider:E,activeType:L}),X=Pl({server:h,provider:E,activeType:L}),Y=X&&$===p.zu.Video,Z=(0,r.useCallback)((()=>{H({action:el.jR,mode:"shortcut"})}),[H]),J=(0,r.useCallback)((()=>{H({action:el.HS,mode:"shortcut"})}),[H]),ee=(0,r.useCallback)((()=>{Q(!0),K.onOpen()}),[K]),le=(0,r.useCallback)((()=>{Q(!1),K.onClose()}),[K]),re=(0,r.useCallback)((()=>{Q(!0),q.onOpen()}),[q]),ae=(0,r.useCallback)((()=>{Q(!1),q.onClose()}),[q]),ne=(0,r.useCallback)((()=>{x&&(0,u.Cc)((()=>{b(Ta.A.actions.saveRequested({server:h,provider:E,key:x,sourceURI:I,isSmart:!0}))}))}),[x,b,E,h,I]),ie=(0,r.useCallback)((e=>{const t=e.target.value;z(t)}),[]),oe=(0,r.useCallback)((e=>{b(wl.A.actions.updateQuery({rules:e}))}),[b]);(0,r.useEffect)((()=>{var e;if(!(null==w?void 0:w.Rule)||"composite"===(null==(e=null==w?void 0:w.Rule)?void 0:e.type)&&w.Rule.Rule.length<1)return;const{type:l,sort:r,group:a,having:n}=O.params,i={type:l,sort:r,group:a,having:n,limit:B||void 0},o=d.A.join(O.pathname,i),s=(0,Ca.l)(w.Rule),c=d.A.join(o,s,{parseParams:!1});c!==t&&b((0,Jt.oo)({pathname:(0,te.A)({key:c}),replace:!0}))}),[t,O.params,O.pathname,b,B,w]),(0,r.useEffect)((()=>{w||b(wl.A.actions.fetchQueryRequested({server:h,provider:E,key:t.replace("/all","/query/parse")})),x&&b(wl.A.actions.fetchCuratedRequested({server:h,provider:E,key:x}))}),[w,t,x,b,h]),(0,r.useEffect)((()=>()=>{b(wl.A.actions.reset())}),[b]),(0,r.useEffect)((()=>{var e;if((null==(e=null==N?void 0:N.metadataItem)?void 0:e.key)&&j&&!R&&!(null==N?void 0:N.saveError)){const e=N.metadataItem.type===p.QD.Playlist;b((0,Jt.oo)({pathname:(0,Na.A)(h,E,N.metadataItem.key,void 0,e?$:void 0),replace:!0}))}}),[b,R,j,$,E,h,null==(m=null==N?void 0:N.metadataItem)?void 0:m.key,null==(y=null==N?void 0:N.metadataItem)?void 0:y.type,null==N?void 0:N.saveError]);let se=(0,Re.A)("Save As..."),ce=Y?re:ee;return D.item&&(se=D.item.isPlaylist?(0,Re.A)("Update Playlist"):(0,Re.A)("Update Collection"),ce=ne),k&&w?r.createElement("form",{className:e},r.createElement(ct.A,{autoScroll:!0,className:"DirectoryListAdvancedFilters-scroller-dxJx7G Scroller-scroller-S6_dko",scrollDirection:ct.D.Omni},D.item?r.createElement("div",{className:"DirectoryListAdvancedFilters-editHeading-KUrieG"},D.item.title):null,r.createElement(ha,{meta:n,rules:w.Rule,onChange:oe})),r.createElement("div",{className:"DirectoryListAdvancedFilters-buttonBar-j_0tp0"},r.createElement("div",null,r.createElement(Ol.A,{className:"DirectoryListAdvancedFilters-formLabel-IGJ0qU FormLabel-label-jjY3xI",name:"labelValue"},(0,Re.A)("Limit to")),r.createElement(Sl.A,{className:"DirectoryListAdvancedFilters-textInput-h7yuRR TextInput-input-vbygwE",min:0,name:"labelValue",type:"number",value:V,onChange:ie})),r.createElement("div",{className:"DirectoryListAdvancedFilters-buttonCluster-E3LvYL"},$&&W&&P&&(X||_)?r.createElement(r.Fragment,null,r.createElement(dl,{isDisabled:T,kind:Tl.A.Primary,label:se,onPress:ce},r.createElement(Sa.A,{contentDirectoryID:P.id,mediaType:$,metadataType:W,provider:E,server:h,sourceURI:I,onAddToCollectionPress:X?q.onOpen:void 0,onAddToPlaylistPress:_?K.onOpen:void 0,onAddToSmartCollectionPress:re,onAddToSmartPlaylistPress:ee,onMenuClose:U.onClose,onSaveCollectionPress:Z,onSavePlaylistPress:J})),r.createElement(Ia.A,{defaultDestinationSource:C,defaultTitle:null!=(v=P.title)?v:(0,Re.A)("New Playlist"),isOpen:K.isOpen,isSmart:G,mediaType:$,sourceURI:I,onModalClose:le,onSaveSuccess:J}),r.createElement(Oa.A,{contentDirectoryID:P.id,defaultTitle:null!=(f=P.title)?f:(0,Re.A)("New Collection"),isOpen:q.isOpen,isSmart:G,metadataType:W,sourceURI:I,onModalClose:ae,onSaveSuccess:Z})):null))):r.createElement("div",{className:"DirectoryListAdvancedFilters-loadingContainer-skqjtB DirectoryListAdvancedFilters-container-Wr05rs"},r.createElement(S.A,null))};var ja=l(43380);const La=function(e){var t;return null!=(t=null==e?void 0:e.find((e=>e.active)))?t:null==e?void 0:e[0]};var Fa=Object.defineProperty,xa=Object.defineProperties,Ha=Object.getOwnPropertyDescriptors,Va=Object.getOwnPropertySymbols,za=Object.prototype.hasOwnProperty,Ba=Object.prototype.propertyIsEnumerable,Ka=(e,t,l)=>t in e?Fa(e,t,{enumerable:!0,configurable:!0,writable:!0,value:l}):e[t]=l;const qa=function(e,t){if(t<1||!e.length)return[];const{characters:l}=e.reduce(((e,t,l)=>{var r,a;return e.characters.push((r=((e,t)=>{for(var l in t||(t={}))za.call(t,l)&&Ka(e,l,t[l]);if(Va)for(var l of Va(t))Ba.call(t,l)&&Ka(e,l,t[l]);return e})({},t),a={position:l,scrollIndex:e.scrollIndex},xa(r,Ha(a)))),e.scrollIndex+=t.size,e}),{characters:[],scrollIndex:0}),r=[l[0],l[l.length-1]],a=Array.from(l).sort(((e,t)=>t.size-e.size));return Array.from(new Set([...r,...a])).slice(0,t).sort(((e,t)=>e.position-t.position))},Ua={jumpBar:"DirectoryListJumpBar-jumpBar-herK_R",character:"DirectoryListJumpBar-character-S1KzDO Link-link-vSsQW1"},Ga=parseInt(D.A.jumpBarCharacterHeight,10),Qa=parseInt(D.A.jumpBarMargin,10),Wa=5,$a=75;function _a({className:e=Ua.character,scrollIndex:t,children:l,onCharacterPress:a}){const n=(0,r.useCallback)((()=>{a(t)}),[t,a]);return r.createElement(X.A,{className:e,onPress:n},l)}function Xa({className:e=Ua.jumpBar,activeType:t,viewportHeight:l,listTotalSize:n,onFirstCharacterScroll:i}){const o=La(null==t?void 0:t.Sort),{firstCharacters:{items:s}}=(0,a.d4)(ja.A),c=(0,r.useMemo)((()=>s?qa(s,Math.floor((l-2*Qa)/Ga)):[]),[s,l]),u=!!(null==o?void 0:o.firstCharacterKey),d=c.length>=Wa;return o&&s&&u&&d&&n>=$a?r.createElement("div",{className:e},c.map((e=>r.createElement(_a,{key:e.key,scrollIndex:e.scrollIndex,onCharacterPress:i},e.title)))):null}var Ya=l(29771),Za=l(37895),Ja=l(21630),en=l(18697),tn=l(5556),ln=l.n(tn),rn=l(31182);function an(e){const t=e["aria-label"],l=e.className,a=e.style,n={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-tidal-logo-560"};n["aria-hidden"]=!t,n.style=a,n.className=rn.A.plexIcon+(l?" "+l:"");const i=[r.createElement.apply(r,["path",{d:"M373.331 186.32l-93.324 93.332-93.337-93.341L280.007 93l93.332 93.309L466.67 93 560 186.318l-93.33 93.341-93.339-93.339zm.01 186.669l-93.334 93.34-93.337-93.34 93.337-93.337 93.334 93.337zm-186.67-186.67l-93.338 93.34L0 186.32 93.333 93l93.337 93.318z"}].concat([]))];return t&&i.unshift(r.createElement("title",null,t)),r.createElement.apply(r,["svg",n].concat(i))}an.propTypes={"aria-label":ln().string,className:ln().string,style:ln().object};const nn=an;function on(e){var t,l;return(null==(t=null==e?void 0:e.id)?void 0:t.includes("saved"))?(0,Re.A)("With a TIDAL subscription you can add Albums, artists, tracks and videos to My TIDAL to keep track of your favorite music."):(null==(l=null==e?void 0:e.id)?void 0:l.includes("playlists"))?(0,Re.A)("Once you have a TIDAL subscription you can add music to My TIDAL Playlists and keep the party going."):(0,Re.A)("Once you have a TIDAL subscription you can browse TIDAL content in Plex.")}function sn({className:e,pivot:t}){const l=(0,Il.A)(),a=(0,r.useCallback)((()=>{l({action:el.Lq})}),[l]);return r.createElement(en.A,{className:e,description:on(t),icon:r.createElement(nn,null),title:(0,Re.A)("TIDAL + Plex = music to your ears!")},r.createElement(Ja.A,{rel:"noopener noreferrer",target:"_blank",to:Za.RQ,onPress:a},(0,Re.A)("Learn More")))}var cn=l(57956),un=l(95456),dn=l(99641),mn=l(92041),pn=l(35416),yn=l(34171),vn=l(55936);const fn={bar:"ActionButtonBar-bar-_jwC59"};function bn({className:e=fn.bar,children:t}){return r.createElement("div",{className:e},t)}var An=l(2744);const gn=function(e){return d.A.stringifyParams(e,{encoder:(e,t,l,r)=>"value"===r&&"boolean"==typeof e?e?"1":"0":e})},hn=function(e,t){const{strippedKey:l,filterRules:r}=(0,An.A)(e,t),a=r.reduce(((e,{filter:l,value:r})=>{var a;const{type:n}=t,i=null==(a=t.Field)?void 0:a.find((e=>e.key===l.filter||e.key===`${n}.${l.filter}`));return i&&(e[i.key]=r),e}),{});return d.A.join(l,gn(a))},En={menu:"DirectoryListActions-menu-oIx0KC Menu-menu-OCzudL"};function Pn({className:e,activeType:t,selectedPivot:l,totalSize:n,listActions:i,directoryKey:s,advancedFilters:c}){var u,d;const m=(0,a.wA)(),[p,f,b]=(0,A.Ss)(),{containerServer:g,containerProvider:h,containerKey:E,containerSourceURI:P}=(0,y.Xw)(),{metricsPage:C,metricsContextTuple:O}=(0,w.Mp)(),S=(0,Il.A)({identifier:f.metricsIdentifier,mode:"list",type:null==t?void 0:t.type,itemCount:n}),I=(0,yt.A)(),T=(0,ft.A)(),k=(0,yt.A)(),D=(0,ft.A)(),M=(0,ft.A)(),N=(0,ft.A)(),R=(0,o.A)({serverIdentifier:p.machineIdentifier,providerIdentifier:f.identifier}),j=`${R}${E}`,L=t?yl(t):void 0,F=t?(0,pl.A)(t.type):void 0,x=(0,r.useMemo)((()=>t?hn(s,t):s),[t,s]),H=(0,r.useCallback)((e=>{m(vn.G7({server:g,provider:h,containerKey:E,metricsPage:C,metricsProperties:{contextTuple:O},legacyAction:e}))}),[m,g,h,E,C,O]),V=(0,r.useCallback)((()=>{S({action:el.MO}),H(yn.CZ({options:{type:L}}))}),[S,L,H]),z=(0,r.useCallback)((()=>{H(yn.hI({options:{type:L}})),S({action:el.ki})}),[S,L,H]),B=(0,r.useCallback)((()=>{S({action:el.YT}),H(yn.b3({options:{playAll:!0,next:!1,type:L}})),T.onClose()}),[S,T,L,H]),K=(0,r.useCallback)((()=>{S({action:el.lQ}),H(yn.b3({options:{playAll:!0,next:!0,type:L}})),T.onClose()}),[S,T,L,H]),q=(0,r.useCallback)((()=>{S({action:el.Gh}),H(vn.xB()),T.onClose()}),[S,T,H]),U=(0,r.useCallback)((()=>{P&&m(v.A.actions.throttledRepopulateRequested({server:g,provider:h,sourceURI:P})),S({action:el.jR,mode:"shortcut"})}),[h,g,P,m,S]),G=(0,r.useCallback)((()=>{S({action:el.HS,mode:"shortcut"})}),[S]);return r.createElement(bn,{className:e},i.isPlayVisible?r.createElement(Rl.A,{icon:un.default,title:(0,Re.A)("Play"),tooltipPlacement:"bottom",onPress:V}):null,i.isShuffleVisible?r.createElement(Rl.A,{icon:dn.default,title:(0,Re.A)("Shuffle"),tooltipPlacement:"bottom",onPress:z}):null,i.isAddToPlaylistVisible||i.isAddToCollectionVisible?r.createElement(Rl.A,{icon:mn.default,id:k,title:(0,Re.A)("Add to..."),tooltipPlacement:"bottom",onPress:D.onToggle}):null,i.isAddToQueueVisible||i.isOptimizeVisible?r.createElement(Rl.A,{icon:pn.default,id:I,title:(0,Re.A)("More"),tooltipPlacement:"bottom",onPress:T.onToggle}):null,r.createElement(pt.A,{className:En.menu,isOpen:T.isOpen,target:I,onMenuClose:T.onClose},i.isAddToQueueVisible?r.createElement(Ml.A,{onPress:K},(0,Re.A)("Play Next")):null,i.isAddToQueueVisible?r.createElement(Ml.A,{onPress:B},(0,Re.A)("Add to Queue")):null,i.isOptimizeVisible?r.createElement(Ml.A,{onPress:q},(0,Re.A)("Optimize...")):null),(i.isAddToPlaylistVisible||i.isAddToCollectionVisible)&&L&&F?r.createElement(pt.A,{className:En.menu,isOpen:D.isOpen,target:k,onMenuClose:D.onClose},r.createElement(Sa.A,{advancedFiltersRoute:l&&!c?(0,te.A)({key:x,advancedFilters:1}):void 0,contentDirectoryID:null==b?void 0:b.id,mediaType:L,metadataType:F,provider:f,server:p,sourceURI:j,onAddToCollectionPress:i.isAddToCollectionVisible?M.onOpen:void 0,onAddToPlaylistPress:N.onOpen,onMenuClose:D.onClose,onSaveCollectionPress:U,onSavePlaylistPress:G})):null,i.isAddToPlaylistVisible&&L?r.createElement(Ia.A,{defaultDestinationSource:R,defaultTitle:null!=(u=null==b?void 0:b.title)?u:(0,Re.A)("New Playlist"),isOpen:N.isOpen,mediaType:L,sourceURI:j,onModalClose:N.onClose,onSaveSuccess:G}):null,i.isAddToCollectionVisible&&F&&(null==b?void 0:b.id)?r.createElement(Oa.A,{contentDirectoryID:b.id,defaultTitle:null!=(d=b.title)?d:(0,Re.A)("New Collection"),isOpen:M.isOpen,metadataType:F,sourceURI:j,onModalClose:M.onClose,onSaveSuccess:U}):null)}var Cn=l(98661),On=l(88008),Sn=l(90817),In=l(89302),Tn=l(58451),wn=l(24139);const kn={menuItemContainer:"DisclosureFilterMenuItem-menuItemContainer-EMRm02 SelectedMenuItem-menuItemContainer-PNDPtO",menuLabel:"DisclosureFilterMenuItem-menuLabel-_c64di SelectedMenuItem-menuLabel-nQZtur",spinner:"DisclosureFilterMenuItem-spinner-NIkM5c Spinner-spinner-Q4B7Qw spin-spin-H8VRGl",selectedIcon:"DisclosureFilterMenuItem-selectedIcon-iv3_Sg SelectedMenuItem-selectedIcon-FVHL6f",isSelected:"DisclosureFilterMenuItem-isSelected-zP_Oat"};function Dn({children:e,filter:t,isPending:l,isSelected:a,onFilterSelect:n}){const i=(0,r.useCallback)((()=>{n(t)}),[t,n]);return r.createElement(Ml.A,{className:a?kn.isSelected:void 0,onPress:i},r.createElement("span",{className:kn.menuItemContainer},r.createElement("span",{className:kn.menuLabel},e),l?r.createElement(S.A,{className:kn.spinner,size:Vl.A.Small}):null,!l&&a?r.createElement("span",{className:kn.selectedIcon},r.createElement(wn.A,{"aria-label":(0,Re.A)("Selected")})):null))}var Mn=l(40715);const Nn=(0,Vt.Mz)(ja.A,(e=>e.filterOptions));var Rn=l(23462);const jn=function(e,t,l){const r=[...e];for(let l=0;l<e.length;l++)e[l].filter.filterType===vt.pH.Boolean==(t.filterType===vt.pH.Boolean)&&r.splice(l,1);return(0,Rn.A)(r,{filter:t,operator:Br.A.Equal,value:l})},Ln=function(e,t,l){return!!e.find((e=>e.filter.filter===t.filter&&(null==l||e.value===l)))},Fn=function(e,t,l){return e.filter((e=>!(e.filter.filter===t.filter&&(null==l||e.value===l))))},xn=function(e,t){const l=t.reduce(((e,t)=>(e[t.filter.filter]=t.value,e)),{});return d.A.join(e,gn(l))};var Hn=l(5068);const Vn={measureContainer:"DirectoryListFilterMenu-measureContainer-HEql3l",menuScroller:"DirectoryListFilterMenu-menuScroller-MYVyYd Scroller-scroller-S6_dko",headerContainer:"DirectoryListFilterMenu-headerContainer-vKpGq3",header:"DirectoryListFilterMenu-header-aeGx3M",filterOptionsContainer:"DirectoryListFilterMenu-filterOptionsContainer-kDSrDz",headerTitle:"DirectoryListFilterMenu-headerTitle-ZZOh4J",filterOptionsScroller:"DirectoryListFilterMenu-filterOptionsScroller-GAH_7y DirectoryListFilterMenu-menuScroller-MYVyYd Scroller-scroller-S6_dko",filterText:"DirectoryListFilterMenu-filterText-GAp8r5",searchInput:"DirectoryListFilterMenu-searchInput-Oqorls TextInput-input-NqTdW3 input-input-XAtklw",selectedMenuItem:"DirectoryListFilterMenu-selectedMenuItem-ix56Fq SelectedMenuItem-menuItemContainer-PNDPtO",emptyText:"DirectoryListFilterMenu-emptyText-VvAuTq"};function zn({typeKey:e,directoryKey:t,pendingFilterKey:l,filters:a,activeFilterRules:n,advancedFiltersKey:i,isAdvancedFiltersVisible:o,onClose:s,onFilterSelect:c}){const[u,d]=function(e){return e.reduce(((e,t)=>(t.filterType===vt.pH.Boolean?e[0].push(t):e[1].push(t),e)),[[],[]])}(a),m=(0,Hn.A)(s);return r.createElement(ct.A,{autoScroll:!0,className:Vn.menuScroller},r.createElement(It.A,{key:"all",isSelected:!n.length,to:(0,te.A)({key:e}),onPress:m},(0,Re.A)("All")),u.map((e=>{const l=Ln(n,e);return r.createElement(It.A,{key:e.key,isSelected:l,to:(0,te.A)({key:xn(t,l?Fn(n,e):jn(n,e,!0))}),onPress:m},e.title)})),u.length&&d.length?r.createElement(On.A,null):null,d.map((e=>r.createElement(Dn,{key:e.key,filter:e,isPending:l===e.key,isSelected:Ln(n,e),onFilterSelect:c},e.title))),o?r.createElement(r.Fragment,null,r.createElement(On.A,null),r.createElement(It.A,{to:(0,te.A)({key:i,advancedFilters:1}),onPress:m},(0,Re.A)("Advanced Filters"))):null)}function Bn({directoryKey:e,selectedFilter:t,filterOptions:l,activeFilterRules:a,height:n,onFilterDeselect:i,onMenuClose:o}){const[s,c]=(0,r.useState)(""),u=l.find((e=>Ln(a,t,e.value))),d=(0,Hn.A)(o),m=(0,r.useCallback)((e=>{c(e.target.value)}),[]);return r.createElement("div",{className:Vn.filterOptionsContainer,"data-testid":"secondFiltersList",style:{height:Math.max(n,356)}},r.createElement("div",{className:Vn.headerContainer},r.createElement("div",{className:Vn.header,"data-testid":"filterHeader"},r.createElement("div",{className:Vn.headerTitle},r.createElement(X.A,{"data-testid":"previousFilters",onPress:i},r.createElement(Cn.default,{accessibilityLabel:(0,Re.A)("Back"),align:"baseline"}),r.createElement("span",{className:Vn.filterText},t.title))),l.length>12?r.createElement(Sl.A,{className:Vn.searchInput,name:"filterOptionQuery",placeholder:(0,Re.A)("Filter {filterTitle}",{filterTitle:t.title}),value:s,onChange:m}):null),r.createElement(On.A,null)),l.length?r.createElement(ct.A,{autoScroll:!0,className:Vn.filterOptionsScroller},u?r.createElement(It.A,{key:u.key,className:Vn.selectedMenuItem,isSelected:!0,to:(0,te.A)({key:xn(e,Fn(a,t))}),onPress:d},u.title):null,l.map((l=>{if(l===u||!l.title.toLowerCase().includes(s.toLowerCase()))return null;const n=Ln(a,t,l.value);return r.createElement(It.A,{key:l.key,className:Vn.selectedMenuItem,isSelected:n,to:(0,te.A)({key:xn(e,jn(a,t,l.value))}),onPress:d},l.title)}))):r.createElement("div",{className:Vn.emptyText},(0,Re.A)("No options")))}function Kn({className:e,directoryKey:t,selectedPivot:l,type:i}){const[o,s]=(0,A.Ss)(),c=(0,a.wA)(),[u,d]=(0,r.useState)(),[m,{height:p}]=(0,n.A)(),y=(0,yt.A)(),{isOpen:v,onToggle:f,onClose:b}=(0,ft.A)(),g=null==i?void 0:i.Filter,h=(0,r.useMemo)((()=>(0,Pe.A)(t)),[t]),E=(0,a.d4)(h),P=(0,a.d4)(Nn),C=(0,r.useMemo)((()=>u?P[u]:void 0),[u,P]),O=(0,r.useMemo)((()=>null==g?void 0:g.find((e=>e.key===u))),[u,g]),S=(0,r.useMemo)((()=>({scrollDirection:Sn.x3})),[]),I=(0,r.useMemo)((()=>null==E?void 0:E.filterRules.find((({filter:e})=>e.filterType!==vt.pH.Boolean))),[null==E?void 0:E.filterRules]),T=(0,r.useMemo)((()=>I?P[I.filter.key]:void 0),[I,P]),w=(0,r.useMemo)((()=>null==E?void 0:E.filterRules.map((e=>{var t;const l=I&&I.filter.filter===e.filter.filter?null==(t=P[I.filter.key])?void 0:t.options.find((e=>e.value===(null==I?void 0:I.value))):void 0;return l&&l.field===(null==I?void 0:I.filter.filter)?l.title:e.filter.title})).join(", ")),[null==E?void 0:E.filterRules,P,I]),k=!!(0,bl.A)(s,fl.Mm.QueryParser),D=(0,r.useMemo)((()=>i?hn(t,i):t),[i,t]),M=(0,r.useCallback)((e=>{c(Mn.A.actions.fetchFilterOptionsRequested({server:o,provider:s,filter:e}))}),[c,s,o]),N=(0,r.useCallback)((e=>{d(e.key),M(e)}),[M]),R=(0,r.useCallback)((()=>{d(void 0)}),[]),j=(0,r.useCallback)((()=>{b()}),[b]);if((0,r.useEffect)((()=>{!I||(null==T?void 0:T.isPopulated)||(null==T?void 0:T.isPending)||M(I.filter)}),[T,M,I]),!i||!g||!E)return null;const{strippedKey:L,filterRules:F}=E;return r.createElement(r.Fragment,null,r.createElement(Tn.A,{className:e,direction:v?Ar.A.Up:Ar.A.Down,id:y,onPress:f},w||(0,Re.A)("All")),r.createElement(pt.A,{isOpen:v,scrollerProps:S,size:In.I$,target:y,onMenuClose:j},r.createElement("div",{ref:m,className:Vn.measureContainer},(null==C?void 0:C.isPopulated)&&O?r.createElement(Bn,{activeFilterRules:F,directoryKey:L,filterOptions:C.options,height:p,selectedFilter:O,onFilterDeselect:R,onMenuClose:j}):r.createElement(zn,{activeFilterRules:F,advancedFiltersKey:D,directoryKey:L,filters:g,isAdvancedFiltersVisible:k&&!!l,pendingFilterKey:(null==C?void 0:C.isPending)?u:void 0,typeKey:i.key,onClose:j,onFilterSelect:N}))))}var qn=l(14422),Un=l(57567);function Gn({className:e,directoryKey:t,sorts:l}){const a=(0,yt.A)(),{isOpen:n,onToggle:i,onClose:o}=(0,ft.A)(),s=La(l),c=(0,Hn.A)(o);return!l||!s||l.length<2?null:r.createElement(r.Fragment,null,r.createElement(Tn.A,{className:e,direction:n?Ar.A.Up:Ar.A.Down,id:a,onPress:i},(0,Re.A)("By {sortTitle}",{sortTitle:s.title})),r.createElement(pt.A,{isOpen:n,target:a,onMenuClose:o},l.map((e=>r.createElement(It.A,{key:e.key,iconComponent:e.activeDirection===vt.UE.Ascending?qn.A:Un.A,isSelected:e.active,to:(0,te.A)({key:d.A.join(t,{sort:St(e)},{parseParams:!0})}),onPress:c},e.title)))))}var Qn=l(31070);function Wn({className:e,activeType:t,types:l,advancedFilters:a,directoryKey:n}){const i=(0,yt.A)(),{isOpen:o,onToggle:s,onClose:c}=(0,ft.A)(),u=(0,Hn.A)(c);return!l||!t||l.length<2?null:r.createElement(r.Fragment,null,r.createElement(Tn.A,{className:e,direction:o?Ar.A.Up:Ar.A.Down,id:i,onPress:s},t.title),r.createElement(pt.A,{isOpen:o,target:i,onMenuClose:c},l.map((e=>{const l=(0,pl.A)(e.type);return r.createElement(It.A,{key:e.key,isSelected:t===e&&e.active,to:e.type===f.A.Folder?(0,te.A)({key:e.key,advancedFilters:void 0}):(0,te.A)({key:a&&l?n.replace(/type=\w+/,`type=${(0,Qn.A)(l)}`):e.key}),onPress:u},e.title)}))))}var $n=l(56686),_n=l(55574),Xn=l(66035);const Yn=(0,Vt.Mz)(Xn.A,(e=>e?La(e.Sort):void 0)),Zn=function({className:e="PageHeaderLeftGutter-container-OCV3jt",innerClassName:t="PageHeaderLeftGutter-innerContainer-IRyE9_",children:l}){return r.createElement("div",{className:e},r.createElement("div",{className:t},l))},Jn={gutter:"DirectoryToolbarClearFiltersButton-gutter-II6uw0 PageHeaderLeftGutter-container-OCV3jt"};function ei({advancedFilters:e}){const{containerKey:t}=(0,y.Xw)(),l=(0,r.useMemo)((()=>(0,Pe.A)(t)),[t]),n=(0,a.d4)(l),i=(0,a.d4)(Xn.A),o=(0,a.d4)(Yn),s=(0,Hn.A)();return(null==n?void 0:n.filterRules.length)||e?r.createElement(Zn,{className:Jn.gutter},r.createElement(Dl.BJ,{verticalAlign:"center"},r.createElement(_n.m,{tooltip:(0,Re.A)("Clear Filter")},r.createElement(ut.AR,{accessibilityLabel:(0,Re.A)("Clear Filter"),href:(0,te.A)({key:i?d.A.join(i.key,o?{sort:o.activeDirection===vt.UE.Ascending?o.key:o.descKey}:{},{parseParams:!0}):"",advancedFilters:void 0}),icon:$n.default,iconSize:"m",insetFocus:!0,size:"s",transparent:!0,onPress:s})))):null}var ti=l(81863),li=l(54514),ri=l(75086);const ai={pageHeader:"DirectoryListToolbar-pageHeader-DBpQaA PageHeader-pageHeader-e2k66t",disclosureArrowLink:"DirectoryListToolbar-disclosureArrowLink-Gy3s4r DisclosureArrowLink-disclosureArrowLink-BTB_kg Link-link-vSsQW1",infoText:"DirectoryListToolbar-infoText-CVhmMp",listTitle:"DirectoryListToolbar-listTitle-jEDBZl"};function ni({className:e=ai.pageHeader,directoryKey:t,meta:l,activeType:a,selectedPivot:n,advancedFilters:i,totalSize:o}){var s,c,u,d,m,p;const[v,b]=(0,A.Ss)(),{listStyle:g}=(0,y.Xw)(),h=(0,r.useMemo)((()=>function({server:e,provider:t,activeType:l}){const r=l?gl[l.type]:void 0;return r?r.reduce(((r,a)=>{const n=Cl[a];return r[a]=!!(e&&t&&l)&&n({server:e,provider:t,activeType:l}),r}),{}):{}}({server:v,provider:b,activeType:a})),[a,b,v]),E=(0,r.useMemo)((()=>(0,ia.ie)(h).some((e=>e))),[h]),P=null!=(c=null==(s=null==l?void 0:l.Type)?void 0:s.length)?c:0,C=null!=(d=null==(u=null==a?void 0:a.Filter)?void 0:u.length)?d:0,O=null!=(p=null==(m=null==a?void 0:a.Sort)?void 0:m.length)?p:0;return!l||P<=1&&C<1&&O<=1?null:r.createElement(ti.A,{className:e},r.createElement(li.A,null,r.createElement(ei,{advancedFilters:i}),i?r.createElement("span",{className:ai.infoText},(0,Re.A)("Advanced Filters")):r.createElement(Kn,{className:ai.disclosureArrowLink,directoryKey:t,selectedPivot:n,type:a}),r.createElement(Wn,{activeType:a,advancedFilters:i,className:ai.disclosureArrowLink,directoryKey:t,types:null==l?void 0:l.Type}),g!==f.T.Table?r.createElement(Gn,{className:ai.disclosureArrowLink,directoryKey:t,sorts:null==a?void 0:a.Sort}):null,null!=o?r.createElement(cn.A,null,o):null),E?r.createElement(ri.A,null,r.createElement(Pn,{activeType:a,advancedFilters:i,directoryKey:t,listActions:h,selectedPivot:n,totalSize:o})):null)}var ii=l(22276),oi=l(31719),si=l(28369),ci=Object.defineProperty,ui=Object.defineProperties,di=Object.getOwnPropertyDescriptors,mi=Object.getOwnPropertySymbols,pi=Object.prototype.hasOwnProperty,yi=Object.prototype.propertyIsEnumerable,vi=(e,t,l)=>t in e?ci(e,t,{enumerable:!0,configurable:!0,writable:!0,value:l}):e[t]=l,fi=(e,t)=>{for(var l in t||(t={}))pi.call(t,l)&&vi(e,l,t[l]);if(mi)for(var l of mi(t))yi.call(t,l)&&vi(e,l,t[l]);return e};const bi=function({machineIdentifier:e,providerIdentifier:t,directoryKey:l,meta:n,activeType:i,selectedPivot:s,metadataList:c,advancedFilters:u}){const d=(0,a.wA)(),m=(0,a.d4)(si.A),p=(0,a.d4)((0,oi.A)(e,t,null==s?void 0:s.key)),y=(null==s?void 0:s.key)?(0,o.A)({serverIdentifier:e,providerIdentifier:t,key:null==s?void 0:s.key}):void 0;return(0,r.useEffect)((()=>{var e,t;!(y&&l&&s&&s.type===fl.ZN.List&&p!==l)||s.key===l&&null==p||!(null==c?void 0:c.isPopulated)||(null==n?void 0:n.Pivot)||(null==i?void 0:i.type)===f.A.Folder&&(null==i?void 0:i.key)!==l||u||d((0,mt.hg)({savedDirectoryListKeys:(e=fi({},m),t={[y]:l},ui(e,di(t)))}))}),[null==c?void 0:c.isPopulated,l,d,y,p,m,s,null==n?void 0:n.Pivot,null==i?void 0:i.type,null==i?void 0:i.key,u]),l};var Ai=l(31796),gi=l(73242);const hi=(0,l(5634).A)((function(e){return(0,Vt.Mz)(Yn,(0,Pe.A)(e),((e,t)=>t&&(null==e?void 0:e.firstCharacterKey)?d.A.join(xn(e.firstCharacterKey,t.filterRules),{sort:e.activeDirection===vt.UE.Ascending?e.key:e.descKey,includeCollections:1,includeExternalMedia:1},{parseParams:!0}):void 0))}));var Ei=l(68615),Pi=l(48071),Ci=l(87863);const Oi={listContainer:"DirectoryListPageContent-listContainer-gWP4ft",pageContentScroller:"DirectoryListPageContent-pageContentScroller-O3oHlt PageContent-pageContentScroller-dvaH3C Scroller-scroller-S6_dko"};var Si=Object.defineProperty,Ii=Object.defineProperties,Ti=Object.getOwnPropertyDescriptors,wi=Object.getOwnPropertySymbols,ki=Object.prototype.hasOwnProperty,Di=Object.prototype.propertyIsEnumerable,Mi=(e,t,l)=>t in e?Si(e,t,{enumerable:!0,configurable:!0,writable:!0,value:l}):e[t]=l,Ni=(e,t)=>{for(var l in t||(t={}))ki.call(t,l)&&Mi(e,l,t[l]);if(wi)for(var l of wi(t))Di.call(t,l)&&Mi(e,l,t[l]);return e},Ri=(e,t)=>Ii(e,Ti(t));function ji({directorySourceURI:e,directoryKey:t,selectedPivot:l,listStyle:I}){var T,w,k,D,M,N,R;const j=(0,a.wA)(),[L,F,x]=(0,A.Ss)(),H=(0,g.A)(),V=s.A.parseBoolean(H.advancedFilters),[z,{height:B}]=(0,n.A)(),{meta:K,metadataListSourceURI:q,directorySourceURI:U,firstCharacters:G}=(0,a.d4)(ja.A),Q=(0,ii.A)({machineIdentifier:L.machineIdentifier,providerIdentifier:null!=(T=F.providerIdentifier)?T:F.identifier,directoryKey:t,selectedPivot:l,contentDirectory:x}),W=(0,r.useMemo)((()=>{if(Q)return L.isCloud?Q:d.A.join(Q,{includeCollections:1,includeExternalMedia:1})}),[Q,L.isCloud]),$=(0,r.useMemo)((()=>{var e;return(0,o.A)({serverIdentifier:L.machineIdentifier,providerIdentifier:null!=(e=F.providerIdentifier)?e:F.identifier,key:W})}),[W,F.identifier,F.providerIdentifier,L.machineIdentifier]),_=(0,r.useMemo)((()=>(0,b.A)($)),[$]),X=(0,a.d4)(_),Y=null!=K?K:null==X?void 0:X.meta,Z=null==X?void 0:X.items[0],J=Y?(0,ka.A)(Y):void 0,ee=null!=(D=null!=(k=null==J?void 0:J.type)?k:null==(w=null==Y?void 0:Y.Type)?void 0:w[0].type)?D:f.A.Mixed,te=null!=(M=null==J?void 0:J.subtype)?M:null==Z?void 0:Z.subtype,le=Q?(0,An.A)(Q,J):void 0,re=(0,a.d4)(hi(W)),[ae,ne]=(0,r.useState)(),ie=(0,r.useMemo)((()=>(0,gi.A)(U)),[U]),oe=(0,a.d4)(ie),se=null!=I?I:oe,ce=(0,a.d4)(Da.A),ue=null!=re&&!(null==G?void 0:G.isPopulated)&&!(null==G?void 0:G.error)||!(null==X?void 0:X.isPopulated)&&!(null==X?void 0:X.error),de=(0,h.A)(ue,!0,250),me=(0,r.useMemo)((()=>null==X?void 0:X.items.reduce(((e,t,l)=>((null==t?void 0:t.type)===p.QD.UnresolvedAd&&e.push(l),e)),[])),[null==X?void 0:X.items]),pe=(0,r.useCallback)((e=>{(q||$)&&j(v.A.actions.fetchRangeRequested(Ri(Ni({},e),{server:L,provider:F,sourceURI:null!=q?q:$})))}),[q,$,j,L,F]),ye=(0,r.useCallback)((()=>{(q||$)&&j(v.A.actions.repopulateRangeRequested({server:L,provider:F,sourceURI:null!=q?q:$}))}),[j,q,F,L,$]),ve=(0,r.useCallback)((e=>{ne(e)}),[]);if((0,E.A)({},!!(null==X?void 0:X.isPopulated)),(0,Ai.A)(ye),bi({machineIdentifier:L.machineIdentifier,providerIdentifier:null!=(N=F.providerIdentifier)?N:F.identifier,directoryKey:Q,meta:Y,activeType:J,selectedPivot:l,metadataList:X,advancedFilters:V}),(0,r.useEffect)((()=>{U!==e&&(0,u.Cc)((()=>{j(Mn.A.actions.resetList())}))}),[U,e,j]),(0,r.useEffect)((()=>{U!==e&&(0,u.Cc)((()=>{j(Mn.A.actions.resetMeta())}))}),[j,e,U]),(0,r.useEffect)((()=>(!W||L.isCloud&&(null==X?void 0:X.isPopulated)&&Y||(0,u.Cc)((()=>{j(Mn.A.actions.initializeListRequested({server:L,provider:F,sourceURI:$,metadataListSourceURI:q,directorySourceURI:e}))})),()=>{(0,u.Cc)((()=>{q&&q!==$&&j(v.A.actions.reset({sourceURI:q}))}))})),[j,W,q,e,$]),(0,r.useEffect)((()=>{re&&null!=(null==X?void 0:X.totalSize)&&j(Mn.A.actions.fetchFirstCharactersRequested({server:L,provider:F,key:re}))}),[j,L,F,re,null==X?void 0:X.totalSize]),(0,r.useEffect)((()=>{null!=ae&&ne(void 0)}),[ae]),!Q)return r.createElement(C.A,null);if(null==X?void 0:X.error){const{status:e}=X.error;return 404===e?r.createElement(C.A,null):406===e?r.createElement(sn,{pivot:l}):r.createElement(O.A,null)}return(null==x?void 0:x.id)!==i.Ou||0!==(null==X?void 0:X.totalSize)||ee!==f.A.Mixed||(null==(R=null==le?void 0:le.filterRules)?void 0:R.length)?r.createElement(m.Ay,null,r.createElement(y.Ay,{containerKey:W,containerMeta:Y,containerProvider:F,containerServer:L,containerSourceURI:$,containerSubtype:te,containerType:ee,listStyle:se},ce?r.createElement(Ei.A,null):r.createElement(ni,{activeType:J,advancedFilters:V,directoryKey:Q,meta:Y,selectedPivot:l,totalSize:null==X?void 0:X.totalSize}),r.createElement(Ci.A,{providerEntityID:F.entityID,serverEntityID:L.entityID}),V&&Y&&U===e?r.createElement(Ra,{directoryKey:Q,meta:Y,totalSize:null==X?void 0:X.totalSize}):null,null==(null==X?void 0:X.totalSize)||de?r.createElement(P.A,null,r.createElement(S.A,null)):r.createElement("div",{ref:z,className:Oi.listContainer},B?r.createElement(r.Fragment,null,0===(null==X?void 0:X.totalSize)?r.createElement(Ya.A,{directoryKey:Q,selectedPivot:l}):r.createElement(Zt,{activeType:J,className:Oi.pageContentScroller,emptyIndices:me,items:X.items,listType:ee,scrollerKey:"DirectoryListPage",smoothScroll:!(0,c.nr)(),subtype:te,targetScrollIndex:ae,totalSize:X.totalSize,onPageRequest:pe})):null,J&&B&&null!=X.totalSize?r.createElement(Xa,{activeType:J,listTotalSize:X.totalSize,viewportHeight:B,onFirstCharacterScroll:ve}):null))):r.createElement(Pi.A,{onDone:ye})}},66479:(e,t,l)=>{l.d(t,{A:()=>i});var r=l(96540),a=l(71468),n=l(42019);const i=function(e){const{tab:t,component:l,onPress:i}=e,o=(0,a.wA)(),s=(0,r.useCallback)((e=>{const l=e.currentTarget.getAttribute("href");l&&(0===e.button||e.touches)&&(e.stopPropagation(),o((0,n.oo)({pathname:l,replace:!0}))),i(t.id)}),[t,i,o]);return r.createElement(l,{isDisabled:t.isDisabled,isSelected:t.isSelected,to:t.route,onPress:s},t.title)}},44874:(e,t,l)=>{l.d(t,{A:()=>n});var r=l(96540),a=l(75086);const n=function({children:e}){return r.createElement(a.A,{className:"PrimaryPageHeaderRight-pageHeaderRight-PLi1N6 PageHeaderRight-pageHeaderRight-hBWIio"},e)}},61211:(e,t,l)=>{l.d(t,{A:()=>M});var r=l(96540),a=l(1081),n=l(72688),i=l(26109),o=l(59514),s=l(55826),c=l(75960),u=l(33152),d=l(67654),m=l(35094);const p=(0,a.Mz)((0,d.A)("features"),(e=>(0,m.A)(e,(e=>e.id),(()=>!0))));var y=l(87485),v=l(71468),f=l(3467),b=l(42019),A=l(19594),g=l(86592),h=l(63042),E=l(66479);const P=(0,v.Ng)(null,(function(e,t){const{serverEntityID:l,providerEntityID:r,providerMetricsIdentifier:a,sourceDirectory:n,tab:i,metricsPage:o}=t;return{onPress(t,s){s||e((0,b.Hk)({serverEntityID:l,providerEntityID:r,directoryID:n.id,pivotKey:i.pivotKey})),(0,f.hd)("metrics").trackEvent({event:g.jj,interaction:!0,properties:{page:o,identifier:a,action:A.fV,context:i.context,origin:h.fr}})}}}))(E.A);var C=l(98467),O=Object.defineProperty,S=Object.defineProperties,I=Object.getOwnPropertyDescriptors,T=Object.getOwnPropertySymbols,w=Object.prototype.hasOwnProperty,k=Object.prototype.propertyIsEnumerable,D=(e,t,l)=>t in e?O(e,t,{enumerable:!0,configurable:!0,writable:!0,value:l}):e[t]=l;const M=(0,i.A)((function(){return(0,a.Mz)(n.A,(0,a.Mz)(((e,{sourceDirectory:t})=>t),((e,{directoryKey:t})=>t),(0,s.A)(),(0,o.A)(),p,((e,t,l,r,a)=>{const n=(0,u.A)(e,t);return e.pivots.reduce(((t,i)=>{if(i.id===c.Hk&&i.requires&&!a[i.requires])return t;const o=(0,y.A)(l,r,e,i);return o?(t.push({pivotKey:i.key,title:i.title,route:o,isSelected:!(!n||i.key!==n.key),isDisabled:!i.key,context:i.context}),t):t}),[])})),((e,t)=>({providerMetricsIdentifier:e.metricsIdentifier,tabs:t})))}))((function(e){return r.createElement(C.A,(t=((e,t)=>{for(var l in t||(t={}))w.call(t,l)&&D(e,l,t[l]);if(T)for(var l of T(t))k.call(t,l)&&D(e,l,t[l]);return e})({},e),S(t,I({component:P}))));var t}))},98467:(e,t,l)=>{l.d(t,{A:()=>K});var r=l(96540),a=l(98920),n=l(32485),i=l.n(n),o=l(37423),s=l(89302);var c=Object.defineProperty,u=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,m=Object.prototype.propertyIsEnumerable,p=(e,t,l)=>t in e?c(e,t,{enumerable:!0,configurable:!0,writable:!0,value:l}):e[t]=l;function y(e){const t=e,{className:l,children:a,isSelected:n}=t,c=((e,t)=>{var l={};for(var r in e)d.call(e,r)&&t.indexOf(r)<0&&(l[r]=e[r]);if(null!=e&&u)for(var r of u(e))t.indexOf(r)<0&&m.call(e,r)&&(l[r]=e[r]);return l})(t,["className","children","isSelected"]);return r.createElement(o.A,((e,t)=>{for(var l in t||(t={}))d.call(t,l)&&p(e,l,t[l]);if(u)for(var l of u(t))m.call(t,l)&&p(e,l,t[l]);return e})({className:i()(l,n&&"PageHeaderTabButton-isSelected-gqt8tL"),"data-testid":"tabButton",size:s.o5},c),a)}y.defaultProps={className:"PageHeaderTabButton-button-aP9Avj Button-button-TxWeuE Link-link-SxPFpG"};const v=y;var f=l(39530),b=l(60710),A=l(89512),g=l(14890),h=l(45498),E=l(84230);var P=Object.defineProperty,C=Object.defineProperties,O=Object.getOwnPropertyDescriptors,S=Object.getOwnPropertySymbols,I=Object.prototype.hasOwnProperty,T=Object.prototype.propertyIsEnumerable,w=(e,t,l)=>t in e?P(e,t,{enumerable:!0,configurable:!0,writable:!0,value:l}):e[t]=l;const k={placement:"bottom-start",modifiers:[{name:"offset",options:{offset:[parseInt(E.A.pageHeaderTabButtonLeftRightMargin,10)]}}]},D=function(e){const t=e,{tabs:l,component:a,onPress:n}=t,o=((e,t)=>{var l={};for(var r in e)I.call(e,r)&&t.indexOf(r)<0&&(l[r]=e[r]);if(null!=e&&S)for(var r of S(e))t.indexOf(r)<0&&T.call(e,r)&&(l[r]=e[r]);return l})(t,["tabs","component","onPress"]),{menuButtonID:s,isMenuOpen:c,onMenuButtonPress:u,onMenuClose:d}=(0,h.A)(),m=(0,r.useCallback)((e=>{d(),n&&n(e)}),[n,d]),p=l.find((e=>e.isSelected))||l[0];return r.createElement("div",{className:"PageHeaderTabDropdown-container-s6_y_K","data-testid":"tabDropDown",id:s},r.createElement(v,{className:"PageHeaderTabDropdown-button-HKmBUj PageHeaderTabButton-button-aP9Avj Button-button-TxWeuE Link-link-SxPFpG",isSelected:p.isSelected,onPress:u},r.createElement("div",{className:"PageHeaderTabDropdown-buttonContents-X2SPy2"},r.createElement("div",{className:"PageHeaderTabDropdown-title-eSs4os"},p.title),r.createElement(f.A,{className:i()("PageHeaderTabDropdown-disclosureArrow-mFj1jP DisclosureArrow-disclosureArrow-NTDkGd",p.isSelected&&"PageHeaderTabDropdown-isSelected-SvXSbi"),direction:c?A.UP:A.PX}))),r.createElement(b.A,{isOpen:c,options:k,target:s,onMenuClose:d},l.map(((e,t)=>{return r.createElement(a,(l=((e,t)=>{for(var l in t||(t={}))I.call(t,l)&&w(e,l,t[l]);if(S)for(var l of S(t))T.call(t,l)&&w(e,l,t[l]);return e})({},o),n={key:t,component:g.A,tab:e,onPress:m},C(l,O(n))));var l,n}))))};var M=l(66479);var N=Object.defineProperty,R=Object.defineProperties,j=Object.getOwnPropertyDescriptors,L=Object.getOwnPropertySymbols,F=Object.prototype.hasOwnProperty,x=Object.prototype.propertyIsEnumerable,H=(e,t,l)=>t in e?N(e,t,{enumerable:!0,configurable:!0,writable:!0,value:l}):e[t]=l,V=(e,t)=>{for(var l in t||(t={}))F.call(t,l)&&H(e,l,t[l]);if(L)for(var l of L(t))x.call(t,l)&&H(e,l,t[l]);return e},z=(e,t)=>R(e,j(t));function B(e){const t=e,{tabs:l,component:n,hideSingleTabs:i}=t,o=((e,t)=>{var l={};for(var r in e)F.call(e,r)&&t.indexOf(r)<0&&(l[r]=e[r]);if(null!=e&&L)for(var r of L(e))t.indexOf(r)<0&&x.call(e,r)&&(l[r]=e[r]);return l})(t,["tabs","component","hideSingleTabs"]),[s,c]=(0,r.useState)(0),u=(0,r.useCallback)((e=>{c(e.width)}),[]),[d,m]=(0,r.useState)(0),p=(0,r.useCallback)((e=>{m(e.width)}),[]),y=l.length<2,f=l.length>1&&d>s;return y&&i?null:r.createElement(a.A,{className:"TabsPageHeaderCenter-pageHeaderCenter-FVRU4z PageHeaderCenter-pageHeaderCenter-mMF86x",ignoreHeight:!0,onMeasure:u},f?r.createElement(D,z(V({},o),{component:n,tabs:l})):r.createElement(a.A,{ignoreHeight:!0,onMeasure:p},l.map(((e,t)=>r.createElement(n,z(V({},o),{key:t,component:v,tab:e}))))))}B.defaultProps={component:M.A,hideSingleTabs:!0};const K=B},51208:(e,t,l)=>{l.d(t,{A:()=>m});var r=l(96540),a=l(90817),n=l(25378),i=l(17812),o=Object.defineProperty,s=Object.getOwnPropertySymbols,c=Object.prototype.hasOwnProperty,u=Object.prototype.propertyIsEnumerable,d=(e,t,l)=>t in e?o(e,t,{enumerable:!0,configurable:!0,writable:!0,value:l}):e[t]=l;const m=function(e){const t=e,{children:l}=t,o=((e,t)=>{var l={};for(var r in e)c.call(e,r)&&t.indexOf(r)<0&&(l[r]=e[r]);if(null!=e&&s)for(var r of s(e))t.indexOf(r)<0&&u.call(e,r)&&(l[r]=e[r]);return l})(t,["children"]);return r.createElement(n.A,((e,t)=>{for(var l in t||(t={}))c.call(t,l)&&d(e,l,t[l]);if(s)for(var l of s(t))u.call(t,l)&&d(e,l,t[l]);return e})({className:i.A.innerEmptyPage,contentClassName:i.A.innerEmptyPageContent,scrollDirection:a.x3},o),l)}},14422:(e,t,l)=>{l.d(t,{A:()=>s});var r=l(5556),a=l.n(r),n=l(96540),i=l(31182);function o(e){const t=e["aria-label"],l=e.className,r=e.style,a={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-sort-ascending-560"};a["aria-hidden"]=!t,a.style=r,a.className=i.A.plexIcon+(l?" "+l:"");const o=[n.createElement.apply(n,["path",{d:"m280 80l-200 200h160v200h80v-200h160l-200-200"}].concat([]))];return t&&o.unshift(n.createElement("title",null,t)),n.createElement.apply(n,["svg",a].concat(o))}o.propTypes={"aria-label":a().string,className:a().string,style:a().object};const s=o},57567:(e,t,l)=>{l.d(t,{A:()=>s});var r=l(5556),a=l.n(r),n=l(96540),i=l(31182);function o(e){const t=e["aria-label"],l=e.className,r=e.style,a={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-sort-descending-560"};a["aria-hidden"]=!t,a.style=r,a.className=i.A.plexIcon+(l?" "+l:"");const o=[n.createElement.apply(n,["path",{d:"m80 280h160v-200h80v200h160l-200 200-200-200"}].concat([]))];return t&&o.unshift(n.createElement("title",null,t)),n.createElement.apply(n,["svg",a].concat(o))}o.propTypes={"aria-label":a().string,className:a().string,style:a().object};const s=o}}]);