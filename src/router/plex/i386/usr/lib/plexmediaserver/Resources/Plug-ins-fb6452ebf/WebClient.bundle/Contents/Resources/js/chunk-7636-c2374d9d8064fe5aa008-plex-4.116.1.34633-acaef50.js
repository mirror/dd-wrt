"use strict";(self.webpackChunkplex_web_client=self.webpackChunkplex_web_client||[]).push([[7636],{4792:(e,t,n)=>{n.d(t,{Z:()=>s});var r=n(22222),i=n(13469),a=n.n(i),o=n(77909);function s(e){return(0,r.P1)((0,o.Z)(),(t=>{if(t)return a().findWhere(t.features,{type:e})}))}},14699:(e,t,n)=>{n.d(t,{Z:()=>a});var r=n(22222),i=n(90934);function a(){return(0,r.P1)(((e,{mediaSubscriptionEntityID:t})=>t),i.Z,((e,t)=>t[e]))}},44863:(e,t,n)=>{n.d(t,{Z:()=>h});var r=n(67294),i=n(85479),a=n(56866),o=n(66088);const s={toolbarButton:"ToolbarButton-toolbarButton-PCjB_g",bottomLeft:"ToolbarButton-bottomLeft-V3a71x Tooltip-bottomLeft-ZA9QOY Tooltip-tooltip-VFBXza Tooltip-tooltipArrow-rrJjO7 Tooltip-tooltipTopArrow-zHVo6b Tooltip-tooltipLeftAlignArrow-SYYsix",bottomCenter:"ToolbarButton-bottomCenter-PX024r Tooltip-bottomCenter-kGnBM4 Tooltip-tooltip-VFBXza Tooltip-tooltipArrow-rrJjO7 Tooltip-tooltipTopArrow-zHVo6b Tooltip-tooltipCenterAlignArrow-Y8ToMu",bottomRight:"ToolbarButton-bottomRight-FvoCX0 Tooltip-bottomRight-wLkq3G Tooltip-tooltip-VFBXza Tooltip-tooltipArrow-rrJjO7 Tooltip-tooltipTopArrow-zHVo6b Tooltip-tooltipRightAlignArrow-jFr4_J",hasFocus:"ToolbarButton-hasFocus-A6zj9p"};var l=Object.defineProperty,c=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,u=Object.prototype.propertyIsEnumerable,m=(e,t,n)=>t in e?l(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;class p extends r.Component{render(){const e=this.props,{children:t,tooltip:n,className:o,hasLabel:l,tooltipAttachment:p,hideOnPress:h,onPress:v}=e,y=((e,t)=>{var n={};for(var r in e)d.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&c)for(var r of c(e))t.indexOf(r)<0&&u.call(e,r)&&(n[r]=e[r]);return n})(e,["children","tooltip","className","hasLabel","tooltipAttachment","hideOnPress","onPress"]),g=s[p],E=`${g} ${s.hasFocus}`;return r.createElement(a.Z,((e,t)=>{for(var n in t||(t={}))d.call(t,n)&&m(e,n,t[n]);if(c)for(var n of c(t))u.call(t,n)&&m(e,n,t[n]);return e})({"aria-label":n,className:o,component:i.Z,hideOnPress:h,tooltip:n,tooltipClassName:g,tooltipFocusedClassName:E,onPress:v},y),t)}}p.defaultProps={className:s.toolbarButton,tooltipAttachment:o.eO};const h=p},27929:(e,t,n)=>{n.d(t,{Z:()=>s});var r=n(45697),i=n.n(r),a=n(67294);class o extends a.Component{constructor(e,t){super(e,t),this.metricsContext=e.metricsContext}getChildContext(){return{metricsContext:this.metricsContext}}render(){return this.props.children?a.Children.only(this.props.children):null}}o.propTypes={children:i().node,metricsContext:i().string},o.childContextTypes={metricsContext:i().string};const s=o},17636:(e,t,n)=>{n.r(t),n.d(t,{default:()=>Xs});var r=n(67294),i=n(28216),a=n(57051),o=n(69605),s=n(5562),l=n(26636),c=n(87803),d=n(31235),u=n(22222),m=n(90217),p=n(90613);const h=(0,u.P1)(m.Z,(e=>e.some((e=>e.connectionTestResult===p.Y.Pending))));var v=n(63098),y=n(2200),g=n(24546),E=n(13517),f=n(55669),b=n(73460),P=n(41542),Z=n(35166),I=n(28648),C=n(76714);const D=function({children:e}){const[t,n]=(0,b.Z)(),i=(0,r.useRef)(null),[a,o]=(0,r.useState)(0),l=(0,r.useCallback)((()=>{i.current&&o(Math.max(i.current.scrollLeft-.9*i.current.clientWidth,0))}),[]),c=(0,r.useCallback)((()=>{i.current&&o(Math.min(i.current.scrollLeft+.9*i.current.clientWidth,i.current.scrollWidth-i.current.clientWidth))}),[]),d=(0,r.useMemo)((()=>i.current&&i.current.scrollWidth>i.current.clientWidth),[n.width]);return r.createElement("div",{ref:t,className:"HorizontalPagedScroller-container-Zy91xR"},r.createElement(C.Z,{ref:i,className:"HorizontalPagedScroller-scroller-nrfGbL",scrollDirection:C.I.Horizontal,smoothScroll:!0,targetScrollLeft:a},e),d&&i.current?r.createElement("div",{className:"HorizontalPagedScroller-buttons-PcDxJJ"},r.createElement(P.hU,{"aria-label":(0,s.Z)("Previous"),icon:Z.default,isDisabled:0===a,size:"xs",transparent:!0,onPress:l}),r.createElement(P.hU,{"aria-label":(0,s.Z)("Next"),icon:I.default,isDisabled:a>=i.current.scrollWidth-i.current.clientWidth,size:"xs",transparent:!0,onPress:c})):null)};var w=n(74309),O=n(31764),S=n(86953);function N(e,t,n,i){return(0,r.useMemo)((()=>{var r,a,o;const s=null==(a=null==(r=(0,c.Z)(t,l.zW.Content))?void 0:r.directories)?void 0:a[0].pivots,d=n||(null==(o=null==s?void 0:s.find((({id:e})=>e===i)))?void 0:o.key);return{key:d,sourceURI:d?(0,S.Z)({serverIdentifier:e.machineIdentifier,providerIdentifier:t.identifier,key:d}):void 0}}),[t,n,e.machineIdentifier,i])}var T=n(13471),M=n(98890);function R(){const e=(0,w.Z)(),[t,n]=(0,d.c9)(),i=N(t,n,e.key,T.C.Browse);return t.isConnected&&i.sourceURI?r.createElement(O.Z,{directoryKey:i.key,directorySourceURI:i.sourceURI}):r.createElement(M.Z,{serverEntityID:t.entityID})}var k=n(17524),x=n(45399),A=n(51493),G=n(52354),j=n(81324),B=n(27726),W=n(29260);const L=(0,u.P1)(W.Z,(e=>e.channelsGrid));var F=n(60170),V=n(92885),K=n(7796),H=n(60316),z=n(89053),_=n(37368),U=n(90653),$=n(81858),Y=n(94177),q=n(31496),X=n(39537),J=n(82150);function Q({server:e,provider:t,channel:n,beginsAt:r,endsAt:i}){const a=function(e,t,n){return`synthetic.${e}.${t}.${n}`}(n.id||"",r,i),{metadataItem:o}=(0,J.Z)({server:e,provider:t,data:{key:`/${a}`,ratingKey:a,guid:a,title:(0,s.Z)("Unknown Airing"),type:X.pG.Episode,Media:[{id:a,beginsAt:r,endsAt:i}]},container:{}});return{id:a,beginsAt:r,endsAt:i,mediaIndex:0,metadataItem:o,isSynthetic:!0}}const ee=function(e){const t=(null==e?void 0:e.source)?(0,H.Z)(e.source):{serverIdentifier:"",providerIdentifier:""};return(0,u.P1)((0,Y.Z)(t.serverIdentifier),(0,$.Z)(t.providerIdentifier),L,(0,q.Z)(null==e?void 0:e.gridKey),((t,n,{columnTimes:r},i)=>{if(!e||!i)return[];const a=r[0],o=r[r.length-1];return function({server:e,provider:t,channelAirings:n,channel:r,startTime:i,endTime:a}){let o=i;const s=[];for(let i=0;i<n.length;i++){const a=n[i];if(a.beginsAt>o){const n=Q({server:e,provider:t,channel:r,beginsAt:o,endsAt:a.beginsAt});s.push(n)}s.push(a),o=a.endsAt}if(o<a){const n=Q({server:e,provider:t,channel:r,beginsAt:o,endsAt:a});s.push(n)}return s}({server:t,provider:n,channelAirings:i.filter((e=>e.beginsAt<o&&e.endsAt>a)),channel:e,startTime:a,endTime:o})}))};var te=n(64706),ne=n(11956),re=n(62813),ie=n(31212),ae=n(17034),oe=n(9220),se=n(77927),le=n(103),ce=n(5148),de=n(80126),ue=n(39776),me=n(9903),pe=n(26229),he=n(98582),ve=n(63696);const ye=function({beginsAt:e,endsAt:t,timeFormat:n,channelTitle:i,contentRating:a}){const{airTime:o,duration:l}=function(e,t,n,r){var i;const a=Math.floor(Date.now()/1e3);let o="",l="";if(a>=e&&a<=t)o=(0,s.Z)("Now on {channel}",{channel:r}),l=(0,me.Z)(t-a);else{const a=(0,pe.Z)(e,t,{timeFormat:n,separator:" - "});o=(0,s.Z)("{timeRange} on {channel}",{timeRange:a,channel:r}),l=null!=(i=(0,ue.Z)(1e3*(t-e)))?i:""}return{airTime:o,duration:l}}(e,t,n,i);return r.createElement("div",{className:"ChannelsGridDetailRowAirTime-container-IcY5Hx"},o,r.createElement(ve.Z,null),l,r.createElement("div",{className:"ChannelsGridDetailRowAirTime-contentRating-CuClWA"},(0,he.Z)(a)))};var ge=n(50327),Ee=n(77981);const fe=function({className:e,tabIndex:t,allowLink:n=!0,metadataItem:i}){return r.createElement("span",{className:e},r.createElement(Ee.Z,{allowLink:!!i.title,metadataItem:i,tabIndex:t}),i.title?r.createElement(ve.Z,null):null,i.title?r.createElement(ge.Z,{allowLink:n,metadataItem:i,tabIndex:t}):null)};var be=n(87534),Pe=n(48571);function Ze({metadataItem:e}){const t=(0,r.useMemo)((()=>{let t;switch(e.type){case X.pG.Movie:t=[ge.Z,Pe.Z];break;case X.pG.Show:t=[ge.Z,fe];break;case X.pG.Episode:t=[be.Z,fe];break;default:t=[ge.Z]}return t}),[e]);return r.createElement("div",{className:"ChannelsGridDetailRowTitle-titleContainer-CGNsqY"},t.map(((t,n)=>{const i=0===n?"ChannelsGridDetailRowTitle-primaryTitle-IfdbmJ":"ChannelsGridDetailRowTitle-secondaryTitle-w6lRtt";return r.createElement(t,{key:n,className:i,metadataItem:e})})))}var Ie=n(93966),Ce=n(34007),De=n(88050),we=n(91135),Oe=n(32827),Se=n(26098),Ne=n(59861),Te=n(66770),Me=n(70045);const Re=function({title:e,showPlay:t,showRecord:n,onPlayPress:i,onRecordPress:a}){return r.createElement("div",{className:"ChannelsGridMetadataCellButtons-actions-jTwMAv"},t?r.createElement(Te.Z,{className:"ChannelsGridMetadataCellButtons-playButton-aDkT5y PlayButton-playButton-vS1WII ChannelsGridMetadataCellButtons-button-FukmZ8","data-testid":"guide-row-item-play",tabIndex:"-1",title:e,onPress:i}):null,n?r.createElement(Me.Z,{className:"ChannelsGridMetadataCellButtons-recordButton-atIGJa RecordButton-recordButton-Rn40ir PlayButton-playButton-vS1WII RecordIcon-recordIconContainer-iZKuO3 ChannelsGridMetadataCellButtons-button-FukmZ8","data-testid":"guide-row-item-record",tabIndex:"-1",title:e,onPress:a}):null)};var ke=n(91008),xe=n(5011),Ae=n(60528),Ge=n(82378),je=n(45697),Be=n.n(je),We=n(74570);function Le(e){const t=e["aria-label"],n=e.className,i=e.style,a={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-play-560"};a["aria-hidden"]=!t,a.style=i,a.className=We.Z.plexIcon+(n?" "+n:"");const o=[r.createElement.apply(r,["path",{d:"M80,0L560,280L80,560L80,0Z"}].concat([]))];return t&&o.unshift(r.createElement("title",null,t)),r.createElement.apply(r,["svg",a].concat(o))}Le.propTypes={"aria-label":Be().string,className:Be().string,style:Be().object};const Fe=Le,Ve="ChannelsGridMetadataDetailButtons-icon-kcrUoI",Ke=function({subscriptionType:e,isSubscribed:t,isOnAir:n,showRecord:i,onPlayPress:a,onRecordPress:o}){const l=n?(0,s.Z)("Watch Now"):(0,s.Z)("Watch Channel"),c=t?(0,s.Z)("Recording Scheduled"):(0,s.Z)("Record");return r.createElement("span",null,r.createElement(ke.Z,{className:"ChannelsGridMetadataDetailButtons-playButton-rT11Sm",kind:Ae.Py,size:Ge.HC,onPress:a},r.createElement(Fe,{className:Ve}),l),i?r.createElement(ke.Z,{className:"ChannelsGridMetadataDetailButtons-recordButton-VPyOC1 ChannelsGridMetadataDetailButtons-playButton-rT11Sm",kind:Ae.Py,size:Ge.HC,onPress:o},r.createElement(xe.Z,{className:Ve,type:e}),c):null)};function He({className:e,airing:t,channel:n,isCompact:a=!1,showPlay:o,showRecord:s,onRecordPress:l}){const{metadataItem:c,beginsAt:u,endsAt:m}=t,p=(0,i.I0)(),h=(0,Se.Z)(c.sourceURI),{metricsPage:v,metricsContextTuple:g}=(0,y.Zn)(),E=(0,Ne.Z)(c),[f,b]=(0,d.c9)(),P=c.grandparentTitle||c.title,Z=Math.floor(Date.now()/1e3),I=Z>=u&&Z<=m,C=!(!h.grandparentSubscriptionID&&!h.subscriptionID),D=h.grandparentSubscriptionType||h.subscriptionType||c.type,w=(0,r.useCallback)((()=>{E({action:De.NH}),p(Ce.lS({serverEntityID:f.entityID,providerEntityID:b.entityID,metricsPage:v,metricsContext:g,options:{type:we.pX,identifier:n.id}}))}),[p,f,b,n,v,g,E]),O=(0,r.useCallback)((()=>{const e=(0,Ie.DB)("appModel"),{metadataItemModel:t}=(0,Oe.Z)(e,{server:f,provider:b,metadataItem:c,metadataItemState:h}),r={serverEntityID:f.entityID,providerEntityID:b.entityID,metadataItemEntityID:t.entityID(),channelGridKey:n.gridKey,subscriptionType:D};l(r)}),[f,b,c,h,n.gridKey,D,l]),S=a?Re:Ke;return r.createElement("span",{className:e},r.createElement(S,{isOnAir:I,isSubscribed:C,showPlay:o,showRecord:s,subscriptionType:D,title:P,onPlayPress:w,onRecordPress:O}))}function ze({className:e="ChannelsGridDetailRow-container-bKvwYU",channel:t,airing:n,showRecord:a,onRecordPress:o,onNextPress:l,onPrevPress:c}){const[u,m]=(0,d.c9)(),p=(0,i.v9)((0,se.Z)("timeFormat")),{metadataItem:h,beginsAt:v,endsAt:y}=null!=n?n:{};return h?r.createElement("div",{className:e},r.createElement(le.Z,{className:"ChannelsGridDetailRow-poster-xcQMxa PosterCard-card-B3tGLl",component:ce.Z,height:(0,de.Cr)(80,h.type,oe.lD),providerEntityID:m.entityID,serverEntityID:u.entityID,type:h.type,url:h.grandparentThumb||h.thumb,width:80}),r.createElement("div",{className:"ChannelsGridDetailRow-preplayContainer-ikWSGp"},r.createElement(Ze,{metadataItem:h}),r.createElement(ye,{beginsAt:v,channelTitle:t.shortTitle||t.title,contentRating:h.contentRating,endsAt:y,timeFormat:p}),r.createElement(He,{airing:n,channel:t,showPlay:!0,showRecord:a,onRecordPress:o}),r.createElement("p",null,h.summary),r.createElement("div",{className:"ChannelsGridDetailRow-navigationContainer-dWyc0H"},r.createElement(ae.Z,{iconComponent:Z.default,title:(0,s.Z)("Previous"),onPress:c}),r.createElement(ae.Z,{iconComponent:I.default,title:(0,s.Z)("Next"),onPress:l})))):null}var _e=n(94184),Ue=n.n(_e),$e=n(19013),Ye=n(18878),qe=n(71968),Xe=n(85479),Je=n(73862),Qe=n(29152);function et(e){const{className:t}=e;return r.createElement(qe.Z,{className:t},(0,s.Z)("New"))}et.defaultProps={className:"PremiereAiringBadge-badge-fAyt5M"};const tt=et,nt=parseInt(K.Z.channelGridChannelColumnWidth,10),rt=.3*nt;function it(){const e=(0,r.useMemo)((()=>rt+Math.random()*(nt-rt)),[]);return r.createElement("div",{className:"ChannelsGridPlaceholder-container-ko49qI",style:{width:`${e}px`}},r.createElement("div",{className:"ChannelsGridPlaceholder-bar-XhI4_Q"}))}function at({airing:e,width:t,className:n="ChannelsGridMetadataItemCell-container-xVCt_C",channel:a,cellIndex:o,isSelected:s,showLoader:l,showRecord:c,onPress:u,onRecordPress:m}){var p;const{metadataItem:h,mediaIndex:v,beginsAt:y,endsAt:g,isSynthetic:E}=e,f=(0,i.I0)(),[b,P]=(0,d.c9)(),Z=(0,Se.Z)(null==h?void 0:h.sourceURI),I=(0,i.v9)(Ye.Z),C=null!=v?null==(p=null==h?void 0:h.Media)?void 0:p[v]:void 0,D=null==C?void 0:C.premiere,w=null!=Z.subscriptionType||null!=Z.grandparentSubscriptionType,O=h&&null==h.index&&!!h.originallyAvailableAt;let S=!0;if(O&&(null==h?void 0:h.originallyAvailableAt)){const e=new Date,t=(0,$e.Z)(h.originallyAvailableAt);S=e.getDate()!==t.getDate()||e.getMonth()!==t.getMonth()||e.getFullYear()!==t.getFullYear()}const N=(null==h?void 0:h.grandparentTitle)||(null==h?void 0:h.title),T=(0,r.useMemo)((()=>h?h.type===X.pG.Movie?Pe.Z:h.type!==X.pG.Show&&h.type!==X.pG.Episode||!S?null:Ee.Z:null),[h,S]),M=Math.floor(Date.now()/1e3),R=!!(M>=y&&M<=g),k=!!(g&&M>=g);(0,r.useEffect)((()=>{h&&I&&s&&f((0,Je.vr)({server:b,provider:P,metadataItem:h,metadataItemState:Z,legacyAction:(0,Qe.yU)()}))}),[f,I,s,h,Z,P,b]);const x=(0,r.useCallback)((()=>{h&&null!=v&&u(h.key,v,o)}),[h,v,o,u]);if(l)return r.createElement("div",{className:n,style:{width:`${t}px`}},r.createElement("div",{className:"ChannelsGridMetadataItemCell-placeholderContainer-Q26PrA"},r.createElement(it,null),r.createElement(it,null)));const A=Z.subscriptionType||Z.grandparentSubscriptionType;return r.createElement("div",{className:Ue()(n,R&&"ChannelsGridMetadataItemCell-onAir-_S74si",s&&"ChannelsGridMetadataItemCell-selected-n9mkZM",!E&&(R||c)&&"ChannelsGridMetadataItemCell-hoverable-n1ukCX",k&&"ChannelsGridMetadataItemCell-finishedAiring-a_lne0"),"data-qa-id":"guide-row-item",style:{width:`${t}px`}},r.createElement("div",{className:"ChannelsGridMetadataItemCell-content-b1g5DE"},r.createElement(Xe.Z,{className:"ChannelsGridMetadataItemCell-underlay-xmF4hL",isDisabled:E,onPress:E?void 0:x}),r.createElement("div",null,N),E?null:r.createElement("div",{className:"ChannelsGridMetadataItemCell-actionsContainer-HHiGHl"},r.createElement("div",{className:"ChannelsGridMetadataItemCell-subTitleContainer-s17s2L"},T?r.createElement(T,{className:"ChannelsGridMetadataItemCell-subTitle-OVHYsl",metadataItem:h}):null,D?r.createElement(tt,{className:"ChannelsGridMetadataItemCell-premiereBadge-_Aeyya PremiereAiringBadge-badge-fAyt5M"}):null,w?r.createElement(qe.Z,{className:"ChannelsGridMetadataItemCell-subscriptionBadge-NcZbev"},r.createElement(xe.Z,{type:A})):null),r.createElement(He,{airing:e,channel:a,className:"ChannelsGridMetadataItemCell-actions-knQ3w3",isCompact:!0,showPlay:R,showRecord:c,onRecordPress:m}))))}function ot({className:e}){const{airedProgress:t,columnWidth:n,visibleColumns:a}=(0,i.v9)(L),o={width:`${(0,r.useMemo)((()=>t/100*a*n),[t,n,a])}px`};return r.createElement("div",{className:e},r.createElement("div",{className:"ChannelsGridProgress-fill-j9uTq8",style:o}))}var st=n(60930),lt=n(85565),ct=n(55831),dt=n(31085),ut=n(71594),mt=n(75549),pt=n(91859),ht=n(3360),vt=n(77045),yt=n(72071),gt=n(65233);const Et=parseInt(K.Z.channelGridChannelIconWidth,10),ft=parseInt(K.Z.channelGridRowHeight,10);function bt({channel:e}){return r.createElement("div",{className:"ChannelLogo-background-wDzGT9"},e.thumb?r.createElement(gt.Z,{key:e.thumb,className:"ChannelLogo-thumbnail-I0yeAY",fit:gt.k.Contain,height:ft,src:e.thumb,width:Et}):r.createElement("div",{className:"ChannelLogo-channelCallSign-robgnM",title:e.callSign},e.callSign))}function Pt({channel:e,onReorderPress:t}){const n=(0,i.I0)(),{metricsPage:a,metricsContextTuple:o}=(0,y.Zn)(),l=(0,yt.Z)(),[c,u]=(0,d.c9)(),m=(0,i.v9)(pt.Z),{favoriteChannels:p}=(0,i.v9)(W.Z),[h,v]=(0,vt.Z)(),g=(0,mt.b)(),E=(0,r.useMemo)((()=>p.channels.some((({uid:t})=>t===e.uid))),[e.uid,p.channels]),f=(0,r.useCallback)((()=>{n((0,Ce.lS)({serverEntityID:c.entityID,providerEntityID:u.entityID,metricsPage:a,metricsContextTuple:o,options:{type:we.pX,identifier:e.id}}))}),[n,e,c,u,a,o]),b=(0,r.useCallback)((()=>{l({action:De.lI});const t=[...p.channels,e];n(B.ZP.actions.favoriteChannelsUpdateRequested({cloudServer:m,channels:p.channels,updatedChannels:t}))}),[e,m,n,p.channels,l]),Z=(0,r.useCallback)((()=>{l({action:De.FD});const t=p.channels.filter((({uid:t})=>e.uid!==t));n(B.ZP.actions.favoriteChannelsUpdateRequested({cloudServer:m,channels:p.channels,updatedChannels:t}))}),[e.uid,m,n,p.channels,l]),I=(0,r.useMemo)((()=>{if(t){if(h||g.isOpen){const e=1!==p.channels.length;return r.createElement(dt.v2,{isOpen:g.isOpen,onOpenChange:g.onOpenChange},r.createElement(dt.bF,null,r.createElement(P.hU,{"aria-label":(0,s.Z)("Actions"),icon:st.default,size:"s",transparent:!0})),r.createElement(dt.Dv,null,r.createElement(dt.j2,{onPress:Z},r.createElement(ut.x,null,(0,s.Z)("Remove from favorites"))),r.createElement(dt.j2,{isDisabled:!e,onPress:t},r.createElement(ut.x,{color:e?"default":"muted",level:"inherit"},(0,s.Z)("Reorder")))))}return null}return E?r.createElement(P.hU,{"aria-label":(0,s.Z)("Remove from Favorites"),icon:lt.default,isDisabled:p.isPending,size:"s",transparent:!0,onPress:Z}):!E&&h?r.createElement(P.hU,{"aria-label":(0,s.Z)("Add to Favorites"),icon:ct.default,isDisabled:p.isPending,size:"s",transparent:!0,onPress:b}):null}),[p.channels.length,p.isPending,E,h,g.isOpen,g.onOpenChange,b,Z,t]);return r.createElement("div",{ref:v,className:"ChannelsGridRowTitle-container-Erzlnn"},r.createElement(bt,{channel:e}),h&&e.gridKey?r.createElement(ht.Z,{className:"ChannelsGridRowTitle-playButton-seG4KN PlayButton-playButton-HS0MKv Link-link-vSsQW1",tabIndex:-1,title:(0,s.Z)("Play Channel {channel}",{channel:e.callSign}),onPress:f}):null,r.createElement("div",{className:"ChannelsGridRowTitle-overlay-egQk0I"},r.createElement("div",{className:"ChannelsGridRowTitle-channelVcn-xSmtXU"},!c.isCloud&&h?e.vcn:null),r.createElement("div",{className:"ChannelsGridRowTitle-action-JdolXH"},I)))}var Zt=Object.getOwnPropertySymbols,It=Object.prototype.hasOwnProperty,Ct=Object.prototype.propertyIsEnumerable;function Dt(e){var t=e,{channel:n,className:a,rowClassName:o,selectedMetadataItemKey:s,selectedMediaIndex:u,selectedMediaItemRow:m,onMetadataItemPress:p,onNextPress:h,onPrevPress:v,onDetailRowMeasure:y,onRecordPress:g,onReorderPress:E}=t,f=((e,t)=>{var n={};for(var r in e)It.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&Zt)for(var r of Zt(e))t.indexOf(r)<0&&Ct.call(e,r)&&(n[r]=e[r]);return n})(t,["channel","className","rowClassName","selectedMetadataItemKey","selectedMediaIndex","selectedMediaItemRow","onMetadataItemPress","onNextPress","onPrevPress","onDetailRowMeasure","onRecordPress","onReorderPress"]);const{gridKey:b}=n,P=(0,ne.Z)(f),Z=(0,i.I0)(),[I,C]=(0,d.c9)(),{columnTimes:D,columnWidth:w}=(0,i.v9)(L),{cachedDates:O,isPending:S,isPopulated:N}=(0,i.v9)((0,re.Z)(b)),T=(0,i.v9)(ee(n)),M=(0,r.useMemo)((()=>T.find((e=>{var t;return(null==(t=e.metadataItem)?void 0:t.key)&&e.metadataItem.key===s&&e.mediaIndex===u}))),[T,s,u]),R=D[1]-D[0],k=D[0],x=D[D.length-1],A=!!(0,c.Z)(C,l.zW.Subscribe);return(0,r.useEffect)((()=>{M||m!==f.cellIndex||p(null,0,-1)}),[f,M,m,p]),(0,r.useEffect)((()=>{!b||S||N||Z(B.ZP.actions.channelAiringsFetchRequested({server:I,provider:C,channelGridKey:b,date:(0,te.Z)(new Date(1e3*k)).toString()}))}),[Z,I,C,b,k,S,N]),(0,r.useEffect)((()=>{const e=function(e,t,n){let r=null;const i=(0,te.Z)(new Date(1e3*e)),a=(0,te.Z)(new Date(1e3*t)),o=(0,ie.Z)(i,"yyyy-MM-dd"),s=(0,ie.Z)(a,"yyyy-MM-dd");return n.includes(o)?n.includes(s)||(r=a):r=i,r}(k,x,O);b&&e&&!S&&Z(B.ZP.actions.channelAiringsFetchRequested({server:I,provider:C,channelGridKey:b,date:e.toString()}))}),[Z,I,C,b,k,x,S,O]),r.createElement("div",{className:a,"data-qa-id":"guide-row",style:P.style},r.createElement("div",{className:o},r.createElement(Pt,{channel:n,onReorderPress:E}),r.createElement("div",{className:"ChannelsGridRow-programsContainer-d1DNfp"},r.createElement(ot,{className:"ChannelsGridRow-progress-wroL29"}),T.map((e=>{const{metadataItem:t,mediaIndex:i,beginsAt:a,endsAt:o,isSynthetic:l}=e,c=Math.max(a,k),d=(Math.min(o,x)-c)/R*w,h=!(!t||f.cellIndex!==m||s!==t.key||u!==i);return r.createElement(at,{key:e.id,airing:e,cellIndex:f.cellIndex,channel:n,className:"ChannelsGridRow-program-BuOodw ChannelsGridMetadataItemCell-container-xVCt_C",isSelected:h,showLoader:l&&(S||!S&&!N),showRecord:A,width:d,onPress:p,onRecordPress:g})})))),M&&f.cellIndex===m?r.createElement(G.Z,{key:s,onMeasure:y},r.createElement(ze,{airing:M,channel:n,showRecord:A,onNextPress:h,onPrevPress:v,onRecordPress:g})):null)}var wt=n(40506),Ot=n(75534),St=n(48903),Nt=n(79456),Tt=n(46905),Mt=n(91169),Rt=n(77349),kt=n(42227),xt=n(42902),At=n(3151),Gt=n(94372),jt=n(9119),Bt=n(79344),Wt=n(53397),Lt=n(12038);class Ft extends r.Component{constructor(){super(...arguments),this.onPress=()=>{const{option:e,onPress:t}=this.props;t(e)}}render(){const{className:e,option:t,isDisabled:n,isSelected:i}=this.props;return r.createElement(Lt.Z,{className:e,isDisabled:n,isSelected:i,onPress:this.onPress},t.title)}}const Vt=Ft,Kt=function(e){const{className:t,dateOptions:n,onSelectDate:i,onSelectNow:a}=e;return r.createElement(Bt.Z,{autoScroll:!0,className:t},r.createElement(Lt.Z,{onPress:a},(0,s.Z)("Now")),r.createElement(Wt.Z,null),n.map(((e,t)=>r.createElement(Vt,{key:t,isSelected:e.isSelected,option:e,onPress:i},e.title))))};var Ht=n(59910),zt=n(313),_t=n(37042),Ut=n(12383);function $t(e,t){return(0,Ut.Z)((0,_t.Z)(new Date(e),t))}const Yt=(0,i.$j)((function(){const e=[{startHour:0,title:(0,s.Z)("Midnight")},{startHour:2,title:(0,s.Z)("Overnight")},{startHour:6,title:(0,s.Z)("Morning")},{startHour:10,title:(0,s.Z)("Daytime")},{startHour:17,title:(0,s.Z)("Evening")},{startHour:23,title:(0,s.Z)("Late Night")}];return(0,u.P1)(((e,{startTime:t})=>t),((e,{selectedDateOption:t})=>t),((t,n={})=>{if(!n)return{timeOptions:[]};const r=(0,kt.Z)(t),i=(0,kt.Z)(n.value),a=new Date;return{timeOptions:e.map(((t,n)=>{const o=e[n+1],l=$t(i,t.startHour),c=$t(i,o?o.startHour:24),d=(0,zt.Z)(a,c),u=(0,Ht.Z)(r,l)>=0&&(0,Ht.Z)(r,c)<0,m=(0,zt.Z)(l,a)?(0,xt.Z)(a):(0,xt.Z)(l);return{title:(0,Ht.Z)(a,l)>=0&&(0,Ht.Z)(a,c)<0?(0,s.Z)("Now ({timeSlotTitle})",{timeSlotTitle:t.title}):t.title,value:m,isEnabled:d,isSelected:u}}))}}))}))((function(e){const{className:t,timeOptions:n,selectedDateOption:i,onDeselectDateOption:a,onSelectTime:o}=e;return r.createElement("div",{className:t},r.createElement("div",{className:"DatePickerTimeList-header-iPpAe9"},r.createElement(Xe.Z,{onPress:a},r.createElement(Z.default,{align:"baseline","aria-label":(0,s.Z)("Back")})),r.createElement("span",{className:"DatePickerTimeList-headerText-PKhOP3"},i.title)),r.createElement(Wt.Z,null),n.map(((e,t)=>r.createElement(Vt,{key:t,isDisabled:!e.isEnabled,isSelected:e.isSelected,option:e,onPress:o},e.title))))})),qt={scrollDirection:U.Hn,className:"DatePickerMenu-listContainer-RqqY4m"};class Xt extends r.Component{constructor(e,t){super(e,t),this.onSelectDate=e=>{this.setState({showTimeOptions:!0,activeDateOption:e})},this.onSelectNow=()=>{const e=Math.floor(Date.now()/1e3);this.onSelectTime({value:e})},this.onSelectTime=e=>{this.setState({showTimeOptions:!1}),this.props.dispatchSetStartTime(e.value),this.props.onMenuClose()},this.onHideOptions=e=>{this.setState({showTimeOptions:!1})},this.state={showTimeOptions:!1,activeDateOption:e.dateOptions.find((e=>e.isSelected))}}render(){const{startTime:e,target:t,isOpen:n,dateOptions:i,onMenuClose:a}=this.props,{showTimeOptions:o,activeDateOption:s}=this.state,l=Ue()("DatePickerMenu-list-Fl3DfX",!!o&&"DatePickerMenu-showTimeOptions-jezpxz");return r.createElement(Gt.Z,{isOpen:n,scrollerProps:qt,size:Ge.M2,target:t,onMenuClose:(0,jt.Z)(this.onHideOptions,a)},r.createElement(Kt,{className:l,dateOptions:i,onSelectDate:this.onSelectDate,onSelectNow:this.onSelectNow}),r.createElement(Yt,{className:l,selectedDateOption:s,startTime:e,onDeselectDateOption:this.onHideOptions,onSelectTime:this.onSelectTime}))}}const Jt=Xt;var Qt=n(74336);function en(e){if(!e)return"";const t=e instanceof Date?e:new Date(e),n=(0,xt.Z)(t);return(0,At.Z)(t,new Date)?(0,s.Z)("Today"):(0,Qt.Z)(n)}function tn({target:e,isOpen:t,onMenuClose:n}){const a=(0,i.I0)(),o=(0,r.useCallback)((e=>a(B.ZP.actions.channelsGridSetStartTime({startTime:e}))),[a]),{channelsGrid:{startTime:s}}=(0,i.v9)(W.Z),l=(0,r.useMemo)((()=>function(e){const t=[],n=(0,kt.Z)(e);for(let e=0;e<8;e++){const r=(0,Rt.Z)(new Date,e),i=en(r),a=(0,At.Z)(r,n);t.push({title:i,value:(0,xt.Z)(r),isSelected:a})}return t}(s)),[s]);return 0!==s&&l.length?r.createElement(Jt,{dateOptions:l,dispatchSetStartTime:o,isOpen:t,startTime:s,target:e,onMenuClose:n}):null}function nn(){const e=(0,i.I0)(),t=(0,Ot.Z)(),n=(0,Tt.Z)(),a=(0,i.v9)(St.Z),{columnTimes:o,columnWidth:l,startTime:c}=(0,i.v9)(L),d=(new Date).getTime()-108e5,u=new Date(1e3*c).getTime(),m=u>d,p=(0,r.useCallback)((()=>{e(B.ZP.actions.channelsGridNavigateTimeBack())}),[e]),h=(0,r.useCallback)((()=>{e(B.ZP.actions.channelsGridNavigateTimeForward())}),[e]);return(0,r.useEffect)((()=>{e(B.ZP.actions.channelsGridResetStartTime())}),[e]),r.createElement("div",{className:"ChannelsGridTimeline-container-UNZEHK"},r.createElement("div",{className:"ChannelsGridTimeline-dayContainer-sAgNKq"},r.createElement(Nt.Z,{direction:n.isOpen?Mt.Z.Up:Mt.Z.Down,id:t,onPress:n.onToggle},en(u)),r.createElement(tn,{isOpen:n.isOpen,target:t,onMenuClose:n.onClose})),r.createElement("div",{className:"ChannelsGridTimeline-labelContainer-jDEp80"},o.map(((e,t)=>r.createElement("div",{key:t,className:"ChannelsGridTimeline-label-zIgOwN",style:{width:`${l}px`}},(0,wt.Z)(1e3*e,a))))),r.createElement("div",{className:"ChannelsGridTimeline-navigationButtons-Qh5wA_"},r.createElement(P.hU,{"aria-label":(0,s.Z)("Previous"),icon:Z.default,isDisabled:!m,size:"xs",transparent:!0,onPress:p}),r.createElement(P.hU,{"aria-label":(0,s.Z)("Next"),icon:I.default,size:"xs",transparent:!0,onPress:h})))}const rn="ChannelsGrid-container-YAx6Rj";var an=Object.defineProperty,on=Object.defineProperties,sn=Object.getOwnPropertyDescriptors,ln=Object.getOwnPropertySymbols,cn=Object.prototype.hasOwnProperty,dn=Object.prototype.propertyIsEnumerable,un=(e,t,n)=>t in e?an(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const mn=parseInt(K.Z.channelGridRowHeight,10);function pn({className:e=rn,channels:t,onRecordPress:n,onReorderPress:a}){var o;const s=(0,i.I0)(),{columnTimes:l,viewportWidth:c,viewportHeight:u}=(0,i.v9)(L),[m,p]=(0,r.useState)(null),[h,v]=(0,r.useState)(null),[y,g]=(0,r.useState)(-1),[E,f]=(0,r.useState)(0),b=null!=(o=t[y])?o:{},P=(0,i.v9)(ee(b));(0,r.useEffect)((()=>{s(B.ZP.actions.channelsGridUpdateAiredProgress());const e=6e4-Date.now()%6e4,t=window.setInterval((()=>s(B.ZP.actions.channelsGridUpdateAiredProgress())),e);return()=>{window.clearInterval(t)}}),[s,l]);const Z=(0,r.useCallback)(((e,t,n)=>{const r=h!==e||m!==t||y!==n;v(r?e:null),p(r?t:null),g(r?n:-1),f(r?140:0)}),[m,p,h,v,y,g,f]),I=(0,r.useCallback)((({height:e})=>{f(e)}),[f]),C=(0,r.useCallback)((()=>{var e;const t=P.findIndex((e=>e.metadataItem.key===h&&e.mediaIndex===m))-1,{metadataItem:n,mediaIndex:r}=null!=(e=P[t])?e:{};n&&(v(n.key),p(r)),t<=1&&s(B.ZP.actions.channelsGridNavigateTimeBack())}),[s,P,h,m,v,p]),D=(0,r.useCallback)((()=>{var e;const t=P.findIndex((e=>e.metadataItem.key===h&&e.mediaIndex===m))+1,{metadataItem:n,mediaIndex:r}=null!=(e=P[t])?e:{};n&&(v(n.key),p(r)),t>=P.length-1&&s(B.ZP.actions.channelsGridNavigateTimeForward())}),[s,P,h,m,v,p]),w=(0,r.useCallback)((()=>t.map(((e,t)=>{let n=mn;return t===y&&(n+=E||140),n}))),[t,y,E]),O=(0,r.useCallback)((e=>{const i=t[e.cellIndex];if(!i)return null;const{serverIdentifier:o,providerIdentifier:s}=(0,H.Z)(i.source);return r.createElement(d.ZP,{key:e.key,machineIdentifier:o,providerIdentifier:s},r.createElement(Dt,(l=((e,t)=>{for(var n in t||(t={}))cn.call(t,n)&&un(e,n,t[n]);if(ln)for(var n of ln(t))dn.call(t,n)&&un(e,n,t[n]);return e})({},e),on(l,sn({channel:i,className:rn,rowClassName:"ChannelsGrid-gridRow-u3ZfbX ChannelsGridRow-container-VtBi1I",selectedMediaIndex:m,selectedMediaItemRow:y,selectedMetadataItemKey:h,onDetailRowMeasure:I,onMetadataItemPress:Z,onNextPress:D,onPrevPress:C,onRecordPress:n,onReorderPress:a})))));var l}),[t,m,y,h,I,Z,D,C,n,a]);return r.createElement("div",{className:e},r.createElement(nn,null),r.createElement(z.Z,{cellRenderer:O,className:"ChannelsGrid-gridContent-PFz1fn",items:t,keyPropName:"uid",layout:(0,_.Z)({getCellHeights:w}),scrollDirection:U.yZ,scrollerClassName:"ChannelsGrid-gridInnerContent-mdG22x VirtualListScroller-scroller-eDZkq_",size:t.length,viewportHeight:u,viewportWidth:c}))}var hn=Object.defineProperty,vn=Object.defineProperties,yn=Object.getOwnPropertyDescriptors,gn=Object.getOwnPropertySymbols,En=Object.prototype.hasOwnProperty,fn=Object.prototype.propertyIsEnumerable,bn=(e,t,n)=>t in e?hn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const Pn=parseInt(K.Z.channelGridChannelOverflowWidth,10),Zn=parseInt(K.Z.channelGridChannelColumnWidth,10),In=parseInt(K.Z.channelGridTitleColumnWidth,10);function Cn({channels:e,onReorderPress:t}){const n=(0,i.I0)(),a=(0,V.Z)(),[o,s]=(0,r.useState)(!1),[l,c]=(0,r.useState)(null),[d,u]=(0,r.useState)(),{columnTimes:m}=(0,i.v9)(L);(0,r.useEffect)((()=>{const e=Math.floor(Date.now()/1e3);let t=7200;if(m[0]<=e&&m[1]>=e){const n=m.find((t=>e<t));n&&(t=n-e)}const r=window.setTimeout((()=>n(B.ZP.actions.channelsGridResetStartTime())),1e3*t);return()=>window.clearTimeout(r)}),[m,n]);const p=(0,r.useCallback)((e=>{o&&(0,j.Z)(l,e)||(s(!0),c(e),n(B.ZP.actions.channelsGridSetViewportSize({width:e.width,height:e.height,overflowWidth:Pn,channelWidth:Zn,channelTitleWidth:In})))}),[o,l,s,c,n]),h=(0,r.useCallback)((e=>{u(e),a.onOpen()}),[a,u]);return r.createElement(r.Fragment,null,r.createElement(F.Z,(v=((e,t)=>{for(var n in t||(t={}))En.call(t,n)&&bn(e,n,t[n]);if(gn)for(var n of gn(t))fn.call(t,n)&&bn(e,n,t[n]);return e})({},d),y={isOpen:a.isOpen,onModalClose:a.onClose},vn(v,yn(y)))),r.createElement(G.Z,{className:"ChannelsGridPageContent-measureContainer-Dg0e0X",onMeasure:p},r.createElement(pn,{channels:e,className:"ChannelsGridPageContent-gridContent-D4FVHi",onRecordPress:h,onReorderPress:t})));var v,y}var Dn=n(78254),wn=n(53162),On=n(27082),Sn=n(92111),Nn=n(32550),Tn=n(31298),Mn=n(80730);var Rn=Object.defineProperty,kn=Object.defineProperties,xn=Object.getOwnPropertyDescriptors,An=Object.getOwnPropertySymbols,Gn=Object.prototype.hasOwnProperty,jn=Object.prototype.propertyIsEnumerable,Bn=(e,t,n)=>t in e?Rn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Wn=(e,t)=>{for(var n in t||(t={}))Gn.call(t,n)&&Bn(e,n,t[n]);if(An)for(var n of An(t))jn.call(t,n)&&Bn(e,n,t[n]);return e};function Ln({channel:e,index:t}){const[n,a,o]=(0,Nn.Z)(),[s,l]=(0,vt.Z)(),{serverIdentifier:c,providerIdentifier:d}=(0,H.Z)(e.source),u=(0,i.v9)((0,Y.Z)(c)),m=(0,i.v9)((0,$.Z)(c,d)),p=(0,Mn.Z)(u,m);return r.createElement(Dn._l,{draggableId:e.uid,index:t},((t,i)=>{return r.createElement("div",(c=Wn(Wn({ref:(0,Tn.Z)(t.innerRef,l),className:s||n?"ReorderableChannelItem-hoveredChannel-PxYppB ReorderableChannelItem-channel-SWsKoQ":"ReorderableChannelItem-channel-SWsKoQ"},t.draggableProps),t.dragHandleProps),kn(c,xn({onBlur:o,onFocus:a}))),r.createElement(wn.gI,{gap:"xxs",verticalAlign:"center"},r.createElement("div",{className:"ReorderableChannelItem-handle-N1HyAG"},r.createElement(Sn.default,null)),r.createElement(bt,{channel:e}),r.createElement(wn.Kq,null,r.createElement(ut.x,{color:"primary",level:"body-2",numberOfLines:1},e.title||e.callSign),p?r.createElement(ut.x,{color:"muted",level:"body-2",numberOfLines:1},p):null)));var c}))}var Fn=Object.defineProperty,Vn=Object.getOwnPropertySymbols,Kn=Object.prototype.hasOwnProperty,Hn=Object.prototype.propertyIsEnumerable,zn=(e,t,n)=>t in e?Fn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;function _n({channels:e,onCancelPress:t}){const n=(0,i.I0)(),a=(0,i.v9)(pt.Z),o=(0,r.useCallback)((t=>{if(!t.destination)return;const r=e.findIndex((({uid:e})=>e===t.draggableId)),i=t.destination.index,o=Array.from(e),[s]=o.splice(r,1);o.splice(i,0,s),(0,On.c9)((()=>n(B.ZP.actions.favoriteChannelsUpdateRequested({cloudServer:a,channels:e,updatedChannels:o}))))}),[e,a,n]);return r.createElement(wn.yY,{justifyContent:"stretch",orientation:"vertical"},r.createElement(P.Av,{onPress:t},r.createElement("div",{className:"ReorderableChannels-header-LFCoME"},r.createElement(Z.default,null),r.createElement("span",{className:"ReorderableChannels-reorderHeader-jo9_sm"},(0,s.Z)("Back to Guide")))),r.createElement(Dn.Z5,{onDragEnd:o},r.createElement(Dn.bK,{droppableId:"channel_drop"},((t,n)=>r.createElement("div",((e,t)=>{for(var n in t||(t={}))Kn.call(t,n)&&zn(e,n,t[n]);if(Vn)for(var n of Vn(t))Hn.call(t,n)&&zn(e,n,t[n]);return e})({ref:t.innerRef},t.droppableProps),e.map(((e,t)=>r.createElement(Ln,{key:e.uid,channel:e,index:t}))),t.placeholder)))))}var Un=n(37375);function $n(){const e=(0,i.I0)(),t=(0,i.v9)(Un.Z),n=(0,i.v9)(W.Z).favoriteChannels.channels,[a,o]=(0,r.useState)(!1),s=(0,r.useCallback)((()=>o(!0)),[]),l=(0,r.useCallback)((()=>o(!1)),[]);return(0,r.useEffect)((()=>{e(B.ZP.actions.favoriteChannelsPopulateRequested({serverProviders:t}))}),[e,t]),a?r.createElement(_n,{channels:n,onCancelPress:l}):r.createElement(Cn,{channels:n,onReorderPress:s})}var Yn=n(41768);function qn({showSpinner:e=!1,title:t,description:n}){return r.createElement("div",{className:"EmptyChannelsContent-container-n4aRFn"},e?r.createElement(Yn.Z,null):r.createElement(wn.Kq,{align:"center",gap:"xs"},r.createElement(ut.x,{color:"inherit",level:"heading-3"},t),r.createElement(ut.x,{color:"muted",level:"inherit"},n)))}function Xn({noChannelsMessage:e}){const{guideChannels:{channels:t,isPending:n,isPopulated:a}}=(0,i.v9)(W.Z);if(!a&&n)return r.createElement(qn,{showSpinner:!0});if(a&&0===t.length){const t=null!=e?e:(0,s.Z)("No channels currently available");return r.createElement(qn,{title:t})}return r.createElement(Cn,{channels:t})}var Jn=n(99230);function Qn({genreRatingKey:e}){const t=(0,i.I0)(),n=(0,i.v9)(Jn.Z),a=(0,r.useMemo)((()=>n.reduce(((t,{server:n,provider:r})=>{var i;const a=(0,c.Z)(r,l.zW.Grid),o=null==(i=null==a?void 0:a.gridChannelFilters)?void 0:i.find((t=>t.genreRatingKey===e));return o&&t.push({server:n,provider:r,key:o.key}),t}),[])),[n,e]);return(0,r.useEffect)((()=>{t(B.ZP.actions.guideChannelsFetchRequested({sourceKeys:a}))}),[t,a]),r.createElement(Xn,{noChannelsMessage:(0,s.Z)("No upcoming airings.")})}var er=n(78228);function tr({label:e,hasWarning:t}){return r.createElement(wn.gI,{gap:"xxs",verticalAlign:"center"},t?r.createElement(er.default,null):null,r.createElement(ut.x,{color:"inherit",level:"inherit",numberOfLines:1},e))}var nr=n(76249),rr=n(48523);function ir(e){return e.isConnected&&(e.isCloud||(0,rr.Z)(e.version,nr.Z.gridPagination))}function ar({machineIdentifier:e,providerIdentifier:t,sourceKey:n}){const a=(0,i.v9)((0,Y.Z)(e)),o=(0,i.v9)((0,$.Z)(e,t)),l=(0,i.I0)(),c=ir(a);return(0,r.useEffect)((()=>{l(B.ZP.actions.guideChannelsClear()),c&&l(B.ZP.actions.guideChannelsFetchRequested({sourceKeys:[{server:a,provider:o,key:n}]}))}),[c,l,o,a,n]),a.isConnected?c?r.createElement(Xn,null):r.createElement(qn,{description:(0,s.Z)("Live TV requires Plex Media Server version {minimumVersion} or higher. {serverName} is currently running {currentVersion}.",{minimumVersion:nr.Z.gridPagination,serverName:a.friendlyName,currentVersion:a.version}),title:(0,s.Z)("Error Loading Content")}):r.createElement(qn,{description:(0,s.Z)("Check your network connection and verify that the media server is online."),title:(0,s.Z)("Unable to connect to {serverName}",{serverName:a.friendlyName})})}var or=n(32204);function sr({machineIdentifier:e,providerIdentifier:t,promotedKey:n,genreRatingKey:o,showFavorites:d}){const u=(0,i.v9)(Jn.Z),{favoriteChannels:m}=(0,i.v9)(W.Z),p=(0,i.v9)((0,A.Z)(x.kj)),h=(0,r.useMemo)((()=>e&&t&&(0,S.Z)({serverIdentifier:e,providerIdentifier:t})),[e,t]),y=(0,r.useMemo)((()=>{const e=[],t=[],n=[];return u.forEach((({server:r,provider:i})=>{var a,o;const s=(0,S.Z)({serverIdentifier:r.machineIdentifier,providerIdentifier:i.identifier});e.push({source:s,title:(0,Mn.Z)(r,i),route:(0,or.Z)({pivotID:T.C.Guide,machineIdentifier:r.machineIdentifier,providerIdentifier:i.identifier}),isAvailable:ir(r)});const d=(0,c.Z)(i,l.zW.Grid);p&&(null==(a=null==d?void 0:d.promotedGridChannelFilters)||a.forEach((e=>{const n=k.yv(i.identifier)?e.title:`${e.title} (${i.title})`;t.push({source:s,title:n,promotedKey:e.key,route:(0,or.Z)({pivotID:T.C.Guide,machineIdentifier:r.machineIdentifier,providerIdentifier:i.identifier,promotedKey:e.key})})}))),null==(o=null==d?void 0:d.gridChannelFilters)||o.forEach((e=>{e.genreRatingKey&&!n.find((t=>e.genreRatingKey===t.genreRatingKey))&&n.push({title:e.title,genreRatingKey:e.genreRatingKey,route:(0,or.Z)({pivotID:T.C.Guide,genreRatingKey:e.genreRatingKey})})}))})),{sources:e,promoted:t,filters:n}}),[p,u]);if(!m.isPopulated)return r.createElement(E.Z,null,r.createElement(a.$,null));const g=m.channels.length>0,f=d&&g,b=!(f||o||!e||!t),P=b&&!n,Z=b&&!!n,I=!f&&!!o,C=Number(g)+y.sources.length+y.filters.length>1;return r.createElement("div",{className:"GuideTab-container-D2MNi6"},C?r.createElement("div",{className:"GuideTab-tabs-yxlkRQ"},r.createElement(D,null,g?r.createElement(v.Z,{isSecondary:!0,isSelected:f,to:(0,or.Z)({pivotID:T.C.Guide,showFavorites:!0})},(0,s.Z)("Favorites")):null,y.sources.map((e=>r.createElement(v.Z,{key:e.source,isSecondary:!0,isSelected:e.source===h&&P,to:e.route},r.createElement(tr,{hasWarning:!e.isAvailable,label:e.title})))),y.filters.length+y.promoted.length?r.createElement("div",{className:"GuideTab-divider-cbdMO4"}):null,y.promoted.map((e=>r.createElement(v.Z,{key:`${e.source}-${e.promotedKey}`,isSecondary:!0,isSelected:Z&&e.source===h&&n===e.promotedKey,to:e.route},e.title))),y.filters.map((e=>r.createElement(v.Z,{key:e.genreRatingKey,isSecondary:!0,isSelected:I&&o===e.genreRatingKey,to:e.route},e.title))))):null,f?r.createElement($n,null):null,b?r.createElement(ar,{machineIdentifier:e,providerIdentifier:t,sourceKey:n}):null,I?r.createElement(Qn,{genreRatingKey:o}):null)}var lr=n(8941),cr=n(76331),dr=n(4134),ur=n(13469),mr=n.n(ur),pr=n(96516),hr=n(74995);function vr(){return(0,u.P1)((0,hr.Z)(),(e=>e?e.providers:void 0))}var yr=n(98727);function gr(e){return!0}var Er=n(68672),fr=n(77909),br=n(59468),Pr=n(67006),Zr=n(47486),Ir=n(27929),Cr=n(66247),Dr=n(47636),wr=n(65625),Or=n(95815),Sr=n(8952),Nr=n(65671),Tr=n(58801),Mr=n(90066),Rr=n(82598),kr=n(32901);function xr(){return(0,u.P1)(((e,{providerID:t})=>t),vr(),yr.Z,((e,t,n)=>{if(e)return t.find((t=>{const r=n[t];return r&&r.identifier===e}))}))}var Ar=n(993),Gr=n(58906),jr=n(36793),Br=n(42699),Wr=n(14699),Lr=n(65732),Fr=n(36475),Vr=n(97784),Kr=n(15145),Hr=n(29653),zr=n(76604),_r=n(98422);const Ur=function(e){const{className:t,beginsAt:n,endsAt:i,timeFormat:a}=e,o=function(e,t,n){return e?(0,_r.Z)(e,t)?(0,s.Z)("Airing now"):(0,zr.Z)(e,null,{timeFormat:n}):(0,s.Z)("No upcoming airings")}(n,i,a);return r.createElement("span",{className:t},o)};var $r=n(55437);const Yr=function({className:e,type:t}){return r.createElement("span",{className:e},r.createElement($r.Z,{className:"RecordingPrioritySubscriptionSeriesTitle-seriesIcon-lEyOSY"}),function(e){return"show"===e?(0,s.Z)("Series"):void 0}(t))};var qr=Object.defineProperty,Xr=Object.getOwnPropertySymbols,Jr=Object.prototype.hasOwnProperty,Qr=Object.prototype.propertyIsEnumerable,ei=(e,t,n)=>t in e?qr(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const ti=function(e){const t=e,{component:n,isSecondary:i}=t,a=((e,t)=>{var n={};for(var r in e)Jr.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&Xr)for(var r of Xr(e))t.indexOf(r)<0&&Qr.call(e,r)&&(n[r]=e[r]);return n})(t,["component","isSecondary"]);return r.createElement(n,((e,t)=>{for(var n in t||(t={}))Jr.call(t,n)&&ei(e,n,t[n]);if(Xr)for(var n of Xr(t))Qr.call(t,n)&&ei(e,n,t[n]);return e})({className:i?"RecordingPrioritySubscriptionTitle-secondaryTitle-X8aUVa":"RecordingPrioritySubscriptionTitle-title-TmkOtz"},a))};var ni=Object.defineProperty,ri=Object.getOwnPropertySymbols,ii=Object.prototype.hasOwnProperty,ai=Object.prototype.propertyIsEnumerable,oi=(e,t,n)=>t in e?ni(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;class si extends r.Component{constructor(e,t){super(e,t),this.onLinkPress=e=>{this.setState({isSubscribeModalOpen:!0})},this.onSubscribeModalClose=()=>{this.setState({isSubscribeModalOpen:!1})},this.state={isSubscribeModalOpen:!1}}shouldComponentUpdate(e,t){return(0,Dr.Z)(this,e,t)}render(){const e=this.props,{serverEntityID:t,providerEntityID:n,mediaSubscriptionEntityID:i,type:a,subtype:o,thumb:s,grandparentThumb:l,connectDragSource:c}=e,d=((e,t)=>{var n={};for(var r in e)ii.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&ri)for(var r of ri(e))t.indexOf(r)<0&&ai.call(e,r)&&(n[r]=e[r]);return n})(e,["serverEntityID","providerEntityID","mediaSubscriptionEntityID","type","subtype","thumb","grandparentThumb","connectDragSource"]),{isSubscribeModalOpen:u}=this.state,m="playlist"===a?"show":a;return r.createElement("div",{className:"RecordingPrioritySubscription-subscription-NeXVO4"},r.createElement(Xe.Z,{className:"RecordingPrioritySubscription-link-ok3R9D",onPress:this.onLinkPress},r.createElement("div",{className:"RecordingPrioritySubscription-linkContainer-upGJfE"},r.createElement(le.Z,{className:"RecordingPrioritySubscription-posterContainer-skXft_",component:ce.Z,height:(0,de.Cr)(48,m),providerEntityID:n,serverEntityID:t,type:m,url:l||s,width:48}),r.createElement("div",{className:"RecordingPrioritySubscription-titleContainer-SYZcaT"},function(e){let t;switch(e){case"movie":t=[Fr.Z,Kr.Z];break;case"show":case"playlist":t=[Fr.Z,Yr];break;case"episode":t=[Lr.Z,Vr.Z];break;default:t=[Fr.Z]}return t.push(Ur),t}(a).map(((e,t)=>r.createElement(ti,((e,t)=>{for(var n in t||(t={}))ii.call(t,n)&&oi(e,n,t[n]);if(ri)for(var n of ri(t))ai.call(t,n)&&oi(e,n,t[n]);return e})({key:t,component:e,isSecondary:t>0,type:a},d))))))),c(r.createElement("div",{className:"RecordingPrioritySubscription-dragHandle-asEk9k Link-link-SxPFpG"},r.createElement(Hr.Z,{className:"RecordingPrioritySubscription-dragIcon-BPd81u"})),{dropEffect:"copy"}),r.createElement(F.Z,{isOpen:u,mediaSubscriptionEntityID:i,providerEntityID:n,serverEntityID:t,subscriptionType:a,onModalClose:this.onSubscribeModalClose}))}}si.defaultProps={connectDragSource:e=>e};const li=si;var ci=Object.defineProperty,di=Object.getOwnPropertySymbols,ui=Object.prototype.hasOwnProperty,mi=Object.prototype.propertyIsEnumerable,pi=(e,t,n)=>t in e?ci(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const hi=(0,i.$j)((function(){return(0,u.P1)(St.Z,(0,Wr.Z)(),(0,u.P1)((e=>e.ui.recordingSchedulePage.calendar.scheduled),(0,Wr.Z)(),((e,t)=>mr().find(e,(e=>(0,Br.Z)((0,kt.Z)(e.beginsAt),new Date)&&e.mediaSubscriptionID===t.key)))),((e,t,n)=>{const r=mr().pick(t.hint,"title","grandparentTitle","type","year","index","parentIndex","originallyAvailableAt","thumb","grandparentThumb");return n&&(r.beginsAt=n.beginsAt,r.endsAt=n.endsAt),r.timeFormat=e,r}))}))((function(e){return r.createElement(li,((e,t)=>{for(var n in t||(t={}))ui.call(t,n)&&pi(e,n,t[n]);if(di)for(var n of di(t))mi.call(t,n)&&pi(e,n,t[n]);return e})({},e))})),vi=parseInt(K.Z.recordingPriorityPaneWidth,10),yi=parseInt(K.Z.recordingPriorityDragHandleWidth,10);class gi extends r.Component{shouldComponentUpdate(e,t){return(0,Dr.Z)(this,e,t)}render(){const{serverEntityID:e,providerEntityID:t,item:n,itemType:i,currentOffset:a}=this.props;if(!a||i!==jr.OT)return null;const{x:o,y:s}=a,l=`translate3d(${o-(vi-yi)}px, ${s}px, 0)`,c={position:"absolute",WebkitTransform:l,msTransform:l,transform:l};return r.createElement(Gr.Z,null,r.createElement("div",{className:"RecordingPrioritySubscriptionDragPreview-dragPreview-quuADK",style:c},r.createElement(hi,{mediaSubscriptionEntityID:n.mediaSubscriptionEntityID,providerEntityID:t,serverEntityID:e})))}}const Ei=(0,Ar.r)((function(e){return{item:e.getItem(),itemType:e.getItemType(),currentOffset:e.getSourceClientOffset()}}))(gi);var fi=n(93712),bi=n(90625),Pi=n(46408),Zi=n(73935),Ii=n(86382);const Ci={beginDrag:({mediaSubscriptionEntityID:e})=>({mediaSubscriptionEntityID:e}),endDrag(e,t,n){e.onSubscriptionDragEnd(t.getItem(),t.didDrop())}},Di={hover(e,t,n){const r=(0,Zi.findDOMNode)(n).getBoundingClientRect(),i=(r.bottom-r.top)/2,a=t.getClientOffset().y-r.top,o=e.sortIndex,s=a>i?o+1:o;e.onSubscriptionDragMove(s)}};class wi extends r.Component{componentDidMount(){this.props.connectDragPreview((0,Pi.r)())}shouldComponentUpdate(e,t){return(0,Dr.Z)(this,e,t)}render(){const{serverEntityID:e,providerEntityID:t,mediaSubscriptionEntityID:n,isDragging:i,isDraggingBefore:a,isDraggingAfter:o,isOver:s,connectDropTarget:l,connectDragSource:c}=this.props;return l(r.createElement("div",{className:Ue()("RecordingPrioritySubscriptionDragSource-dragSource-ua3EiL",i&&Ii.fN,a&&s&&Ii.DT,o&&s&&Ii.QZ)},r.createElement(hi,{connectDragSource:c,mediaSubscriptionEntityID:n,providerEntityID:t,serverEntityID:e})))}}const Oi=(0,fi.G)(jr.OT,Di,(function(e,t){return{connectDropTarget:e.dropTarget(),isOver:t.isOver()}}))((0,bi.E)(jr.OT,Ci,(function(e,t){return{connectDragPreview:e.dragPreview(),connectDragSource:e.dragSource(),isDragging:t.isDragging()}}))(wi)),Si=function(e){const{serverEntityID:t,providerEntityID:n,mediaSubscriptionEntityIDs:i,guideRoute:a,showError:o,showEmptyState:l,moveIndex:c,onSubscriptionDragMove:d,onSubscriptionDragEnd:u}=e;return r.createElement("div",{className:"RecordingPriorityPane-pane-dq4cLL"},r.createElement("div",{className:"RecordingPriorityPane-paneHeader-pEIfIi"},(0,s.Z)("Recording Priority")),r.createElement(Bt.Z,{autoScroll:!0,className:"RecordingPriorityPane-paneScroller-WG2FtX Scroller-vertical-nKq0Q8"},o?r.createElement("div",{className:"RecordingPriorityPane-error-VObeAc"},r.createElement("div",null,(0,s.Z)("There was an error loading recordings.")),r.createElement("div",null,(0,s.Z)("Please try again."))):null,l?r.createElement("div",{className:"RecordingPriorityPane-empty-iwDsd9"},r.createElement("div",null,(0,s.Z)("You have no recordings scheduled.")),r.createElement("div",null,r.createElement(Nr.Z,{message:(0,s.Z)("Check out the {openLink}Guide{closeLink} to browse available programming."),tags:[{open:"openLink",close:"closeLink",component:Xe.Z,kind:Ae._8,to:a}]}))):null,o||l?null:i.map(((e,i)=>{const a=null!=c,o=a&&c===i,s=a&&c===i+1;return r.createElement(Oi,{key:e,isDraggingAfter:s,isDraggingBefore:o,mediaSubscriptionEntityID:e,providerEntityID:n,serverEntityID:t,sortIndex:i,onSubscriptionDragEnd:u,onSubscriptionDragMove:d})}))),r.createElement(Ei,{providerEntityID:n,serverEntityID:t}))};var Ni=Object.defineProperty,Ti=Object.defineProperties,Mi=Object.getOwnPropertyDescriptors,Ri=Object.getOwnPropertySymbols,ki=Object.prototype.hasOwnProperty,xi=Object.prototype.propertyIsEnumerable,Ai=(e,t,n)=>t in e?Ni(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Gi=(e,t)=>{for(var n in t||(t={}))ki.call(t,n)&&Ai(e,n,t[n]);if(Ri)for(var n of Ri(t))xi.call(t,n)&&Ai(e,n,t[n]);return e};const ji={dispatchMoveMediaSubscription:cr.moveMediaSubscription,dispatchClearMoveError:cr.clearMoveError,dispatchShowAlert:kr.wp};class Bi extends r.Component{constructor(e,t){super(e,t),this.onSubscriptionDragMove=e=>{this.setState({moveIndex:e})},this.onSubscriptionDragEnd=(e,t)=>{const{moveIndex:n}=this.state;t&&null!=n&&(0,On.c9)((()=>{var t;this.props.dispatchMoveMediaSubscription((t=Gi({},e),Ti(t,Mi({moveIndex:n}))))})),this.setState({moveIndex:null})},this.state={moveIndex:null}}componentDidUpdate(e){const{mediaSubscriptionMoveError:t,dispatchShowAlert:n,dispatchClearMoveError:r}=this.props,{mediaSubscriptionMoveError:i}=e;!i&&t&&(n(t),r())}render(){return r.createElement(Si,Gi({moveIndex:this.state.moveIndex,onSubscriptionDragEnd:this.onSubscriptionDragEnd,onSubscriptionDragMove:this.onSubscriptionDragMove},this.props))}}const Wi=(0,i.$j)((function(){return(0,u.P1)((e=>e.ui.recordingSchedulePage),xr(),((e,t)=>{const{mediaSubscriptions:n,isMediaSubscriptionsPopulated:r,mediaSubscriptionsError:i,mediaSubscriptionMoveError:a}=e;return{providerEntityID:t,mediaSubscriptionEntityIDs:n,mediaSubscriptionMoveError:a,showError:!r&&!!i,showEmptyState:r&&!i&&!n.length}}))}),ji)(Bi);var Li=n(14838);const Fi=function({subscriptionCount:e}){return r.createElement(Rr.Z,{description:1===e?(0,s.Z)("There are no upcoming airings of the item in your list"):(0,s.Z)("There are no upcoming airings of the {subscriptionCount} items in your list",{subscriptionCount:e}),iconComponent:Sr.default,title:(0,s.Z)("You have no recordings scheduled")})};var Vi=n(4844),Ki=n(15042),Hi=n(93957),zi=n(81017),_i=n(74253),Ui=n(80962),$i=n(87691),Yi=n(99045),qi=Object.defineProperty,Xi=Object.defineProperties,Ji=Object.getOwnPropertyDescriptors,Qi=Object.getOwnPropertySymbols,ea=Object.prototype.hasOwnProperty,ta=Object.prototype.propertyIsEnumerable,na=(e,t,n)=>t in e?qi(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ra=(e,t)=>{for(var n in t||(t={}))ea.call(t,n)&&na(e,n,t[n]);if(Qi)for(var n of Qi(t))ta.call(t,n)&&na(e,n,t[n]);return e};const ia={dispatchPlayRecording:cr.playRecording};class aa extends r.Component{constructor(){super(...arguments),this.onPlayPress=e=>{const{serverEntityID:t,providerEntityID:n,linkedKey:r,metricsContext:i,dispatchPlayRecording:a}=this.props;a({serverEntityID:t,providerEntityID:n,linkedKey:r,metricsContext:i})}}render(){const e=this.props,{component:t,mediaSubscriptionID:n,status:i,linkedKey:a,metricsContext:o}=e,s=((e,t)=>{var n={};for(var r in e)ea.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&Qi)for(var r of Qi(e))t.indexOf(r)<0&&ta.call(e,r)&&(n[r]=e[r]);return n})(e,["component","mediaSubscriptionID","status","linkedKey","metricsContext"]);return r.createElement(t,(l=ra({},s),c={onPlayPress:this.onPlayPress},Xi(l,Ji(c))));var l,c}}const oa=(0,$i.Z)((function(){return(0,u.P1)(((e,{mediaSubscriptionID:t})=>t),((e,{status:t})=>t),St.Z,(0,u.P1)(((e,{linkedKey:t})=>t),((e,{metricsContext:t})=>t),_i.Z,((e,t,n)=>{const r={};return t&&(r.context=t),(0,Yi.Z)(n,{isLibraryProvider:!0},e,r)})),(0,zi.Z)(),(0,Hi.Z)(),xr(),((e,t,n,r,i,a,o)=>{const s=t===Ui.ly,l=t===Ui.pn,c=mr().pick(i,"type","title","grandparentTitle","index","parentIndex","originallyAvailableAt"),d=ra({providerEntityID:o,prePlayRoute:r,isComplete:s,hasError:l,hasSubscription:!!e,showPlay:s&&!!r,timeFormat:n},c);return a?(d.isRecording=!0,d.isPostProcessing=a.Context.status===Ui.jN,d.recordingProgress=a.progress):(d.isRecording=!1,d.isPostProcessing=!1),d}))}),ia)(aa);var sa=n(55855),la=n(11558),ca=n(41232),da=n(91715),ua=n(46277),ma=n(85291),pa=n(15453),ha=n(46013),va=n(60410),ya=n(73363),ga=n(27275),Ea=n(26759),fa=n(2675),ba=n(38506),Pa=n(25232),Za=n(7419);const Ia=function({children:e,mediaItem:t}){const n=t&&t.videoResolution;let i,a=!1;if(n){const e=parseInt(n,10);a=!0,i=e>=720||4===e||8===e}return e||a?r.createElement(Pa.Z,null,e,a?r.createElement(Za.Z,{label:(0,s.Z)("Video")},i?(0,s.Z)("HD"):(0,s.Z)("SD")):null):null};var Ca=n(4496);const Da=function(e){const{children:t,beginsAt:n,endsAt:i,channel:a,timeFormat:o}=e;if(!n||!i)return null;const l=Date.now()/1e3;let c;return c=i<l?(0,s.Z)("Aired"):n<=l&&i>=l?(0,s.Z)("Airing"):(0,s.Z)("Airs"),r.createElement(Za.Z,{label:c},r.createElement(Ca.Z,{beginsAt:n,channel:a,endsAt:i,showChannel:!0,showFullTime:!0,timeFormat:o}),t)};var wa=n(78495),Oa=n(60483),Sa=n(89624);const Na="AiringDetailsModalContent-separator-aVukP8 DashSeparator-separator-_3fMys";var Ta=Object.getOwnPropertySymbols,Ma=Object.prototype.hasOwnProperty,Ra=Object.prototype.propertyIsEnumerable;const ka=function(e){const t=e,{serverEntityID:n,providerEntityID:i,summary:a,error:o,mediaItem:l,isComplete:c,hasError:d,isRecording:u,recordingProgress:m,timeFormat:p,onRecordingModify:h,onModalClose:v}=t,y=((e,t)=>{var n={};for(var r in e)Ma.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&Ta)for(var r of Ta(e))t.indexOf(r)<0&&Ra.call(e,r)&&(n[r]=e[r]);return n})(t,["serverEntityID","providerEntityID","summary","error","mediaItem","isComplete","hasError","isRecording","recordingProgress","timeFormat","onRecordingModify","onModalClose"]),{beginsAt:g,endsAt:E,startOffsetSeconds:f,endOffsetSeconds:b,channelTitle:P,channelShortTitle:Z}=l,I=!(!f&&!b),C=f&&Math.round(f/60),D=b&&Math.round(b/60);return r.createElement(ba.Z,{onModalClose:v},r.createElement(fa.Z,null,(0,s.Z)("Airing Details")),r.createElement(ya.Z,null,r.createElement(Sa.Z,{hint:y,providerEntityID:i,serverEntityID:n},r.createElement(Ia,{mediaItem:l},r.createElement(Da,{beginsAt:g,channel:Z||P,endsAt:E,showChannel:!0,showFullTime:!0,timeFormat:p},r.createElement("div",null,c?r.createElement("span",null,r.createElement(Oa.Z,{className:"AiringDetailsModalContent-completeIcon-hiEuv0"}),(0,s.Z)("Recorded successfully")):null,u?r.createElement("span",null,r.createElement(va.Z,{className:"AiringDetailsModalContent-recordingIcon-Jd0qzc"}),(0,s.Z)("Recording"),r.createElement(ve.Z,{className:Na}),(0,s.Z)("{recordingProgress}% complete",{recordingProgress:m})):null,d?r.createElement("span",null,r.createElement(wa.Z,{className:"AiringDetailsModalContent-errorIcon-d1zdOh"}),o):null,c||u||d||!I?null:r.createElement("span",null,C?r.createElement("span",null,(0,s.Z)("Recording starts {minuteOffset} min early",{minuteOffset:C}),D?r.createElement("span",null,r.createElement(ve.Z,{className:Na}),(0,s.Z)("Ends {minuteOffset} min late",{minuteOffset:D})):null):r.createElement("span",null,(0,s.Z)("Recording ends {minuteOffset} min late",{minuteOffset:D})))))),r.createElement("div",{className:"AiringDetailsModalContent-summary-miy4_v"},a))),r.createElement(ga.Z,null,r.createElement(Ea.Z,null,r.createElement(ke.Z,{kind:Ae.TP,size:Ge.M2,onPress:h},(0,s.Z)("Modify Recording")),r.createElement(ke.Z,{kind:Ae._8,size:Ge.M2,onPress:v},(0,s.Z)("Close")))))};var xa=Object.defineProperty,Aa=Object.getOwnPropertySymbols,Ga=Object.prototype.hasOwnProperty,ja=Object.prototype.propertyIsEnumerable,Ba=(e,t,n)=>t in e?xa(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const Wa=(0,i.$j)((function(){return(0,u.P1)(St.Z,(0,zi.Z)(),((e,t)=>{const n=mr().pick(t,"type","title","parentTitle","grandparentTitle","thumb","parentThumb","grandparentThumb","index","parentIndex","originallyAvailableAt","summary");return n.timeFormat=e,n}))}))((function(e){return r.createElement(ka,((e,t)=>{for(var n in t||(t={}))Ga.call(t,n)&&Ba(e,n,t[n]);if(Aa)for(var n of Aa(t))ja.call(t,n)&&Ba(e,n,t[n]);return e})({},e))}));var La=Object.defineProperty,Fa=Object.getOwnPropertySymbols,Va=Object.prototype.hasOwnProperty,Ka=Object.prototype.propertyIsEnumerable,Ha=(e,t,n)=>t in e?La(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const za=function(e){const t=e,{isOpen:n,metricsProperties:i,metadataItemEntityID:a,onRecordingModify:s,onModalClose:l}=t,c=((e,t)=>{var n={};for(var r in e)Va.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&Fa)for(var r of Fa(e))t.indexOf(r)<0&&Ka.call(e,r)&&(n[r]=e[r]);return n})(t,["isOpen","metricsProperties","metadataItemEntityID","onRecordingModify","onModalClose"]);return r.createElement(ha.Z,{isOpen:n,metricsPage:o.go,metricsProperties:i,onModalClose:l},r.createElement(Wa,((e,t)=>{for(var n in t||(t={}))Va.call(t,n)&&Ha(e,n,t[n]);if(Fa)for(var n of Fa(t))Ka.call(t,n)&&Ha(e,n,t[n]);return e})({metadataItemEntityID:a,onModalClose:l,onRecordingModify:s},c)))};var _a=n(92797),Ua=n(18095),$a=n(78385),Ya=n(92664);function qa({error:e,onPress:t}){return r.createElement(Ya.u,{tooltip:e||(0,s.Z)("An error occurred")},r.createElement(P.hU,{"aria-label":(0,s.Z)("An error occurred"),color:"accent",icon:$a.default,iconSize:"l",size:"xs",transparent:!0,onPress:t}))}const Xa={context:Zr.AGENDA};class Ja extends r.Component{constructor(e,t){super(e,t),this.onLinkPress=e=>{this.setState({isAiringDetailsModalOpen:!0})},this.onConflictIconPress=e=>{this.setState({isConflictsModalOpen:!0})},this.onRecordingModify=()=>{this.setState({isAiringDetailsModalOpen:!1,isSubscribeModalOpen:!0})},this.onAiringDetailsModalClose=()=>{this.setState({isAiringDetailsModalOpen:!1})},this.onSubscribeModalClose=()=>{this.setState({isSubscribeModalOpen:!1,isConflictsModalOpen:!1})},this.state={isAiringDetailsModalOpen:!1,isSubscribeModalOpen:!1,isConflictsModalOpen:!1}}shouldComponentUpdate(e,t){return(0,Dr.Z)(this,e,t)}render(){const{serverEntityID:e,providerEntityID:t,mediaSubscriptionEntityID:n,metadataItemEntityID:i,prePlayRoute:a,type:o,title:l,grandparentTitle:c,index:d,parentIndex:u,originallyAvailableAt:m,error:p,mediaItem:h,isRecording:v,isPostProcessing:y,recordingProgress:g,isComplete:E,hasError:f,hasSubscription:b,hasConflicts:P,showPlay:Z,showDate:I,timeFormat:C,onPlayPress:D}=this.props,{isAiringDetailsModalOpen:w,isSubscribeModalOpen:O,isConflictsModalOpen:S}=this.state,{beginsAt:N,endsAt:T,startOffsetSeconds:M=0,endOffsetSeconds:R=0,premiere:k}=h,x=(0,kt.Z)(N),A=(0,pe.Z)(N-M,T+R,{timeFormat:C}),G=(0,ca.Z)(N);let j;j=(0,da.Z)(N)?(0,s.Z)("Yesterday"):G?(0,s.Z)("Today"):(0,s.Z)("{dayOfWeek}, {monthNumber} {dayNumber}",{dayOfWeek:(0,Qt.Z)(N,{abbreviate:!0}),monthNumber:(0,la.Z)(N,{abbreviate:!0}),dayNumber:(0,sa.Z)(x)});const B=c||l,W=function(e,t,n,r,i,a){return"episode"!==e?n:`${t} - ${(0,ua.Z)({seasonIndex:r,episodeIndex:i,date:a})} - ${n}`}(o,c,l,u,d,m);return r.createElement("div",{className:Ue()("AgendaEvent-event-PenYYt",E&&"AgendaEvent-isComplete-lSFdtc",f&&"AgendaEvent-hasError-_jwzDV")},r.createElement(Xe.Z,{className:"AgendaEvent-underlay-XmZL0H",to:a,onPress:a?void 0:this.onLinkPress}),r.createElement("div",{className:"AgendaEvent-overlay-SXWjq8"},r.createElement("div",{className:Ue()("AgendaEvent-date-tMiZ9l",G&&"AgendaEvent-isToday-TIKGCt")},I?j:null),r.createElement("div",{className:"AgendaEvent-time-Vr9Pcu"},A),r.createElement("div",{className:"AgendaEvent-title-thgBZY",title:W},k?r.createElement(tt,null):null,B,r.createElement("div",{className:"AgendaEvent-titleDetails-NjjPEO"},"movie"===o?r.createElement(Ua.Z,{metadataItemEntityID:i}):null,"episode"===o?r.createElement(_a.Z,{metadataItemEntityID:i}):null)),r.createElement("div",{className:"AgendaEvent-status-ra3bni"},!v||y||f?null:r.createElement("div",{className:"AgendaEvent-recording-a_P8Pj"},r.createElement(pa.Z,{backgroundClassName:"AgendaEvent-recordingProgressBackground-sPplXa CircularProgressBar-circularProgressBarBackground-BcC4L1 CircularProgressBar-circularProgressBarBackground-Bw4kwM",lineWidth:2,progress:g,showProgressText:!1,size:24}),r.createElement("span",{className:"AgendaEvent-recordingIcon-MvSNog"})),v&&y&&!f?r.createElement(ma.Z,null):null,Z?r.createElement(Te.Z,{title:l,onPress:D}):null,f?r.createElement(qa,{error:p,onPress:P?this.onConflictIconPress:this.onLinkPress}):null)),b?r.createElement(za,{error:p,hasError:f,hasSubscription:b,isComplete:E,isOpen:w,isRecording:v,mediaItem:h,metadataItemEntityID:i,metricsProperties:Xa,providerEntityID:t,recordingProgress:g,serverEntityID:e,onModalClose:this.onAiringDetailsModalClose,onRecordingModify:this.onRecordingModify}):null,b?r.createElement(F.Z,{isOpen:O||S,isRecordingSchedule:!0,mediaSubscriptionEntityID:n,metadataItemEntityID:i,metricsProperties:Xa,providerEntityID:t,serverEntityID:e,showConflicts:S,subscriptionType:o,onModalClose:this.onSubscribeModalClose}):null)}}const Qa=Ja,eo=(0,i.$j)((function(){return(0,u.P1)((e=>e.ui.recordingSchedulePage.calendar),(e=>({events:e.scheduled})))}))((function({serverEntityID:e,events:t}){return r.createElement("div",null,t.map(((n,i)=>{const a=(0,kt.Z)(n.beginsAt),o=0===i||!(0,At.Z)((0,kt.Z)(t[i-1].beginsAt),a),s=(0,Vi.Z)(Ki.PK,n.mediaSubscriptionID,e);return r.createElement(oa,{key:i,component:Qa,error:n.error,eventID:n.metadataItem.key,hasConflicts:!(!n.conflicts||!n.conflicts.length),linkedKey:n.linkedKey,mediaItem:n.mediaItem,mediaSubscriptionEntityID:s,mediaSubscriptionID:n.mediaSubscriptionID,metadataItemEntityID:n.metadataItem,providerID:n.identifier||n.provider,serverEntityID:e,showDate:o,status:n.status})})))}));var to=n(95570);function no(e){const t=(0,kt.Z)(e);return(0,s.Z)("{month} {dayNumber}, {year}",{month:(0,la.Z)(e),dayNumber:(0,sa.Z)(t),year:(0,to.Z)(t)})}const ro=function({startTime:e,endTime:t}){const n=(0,kt.Z)(e),i=(0,kt.Z)(t),a=(0,At.Z)(n,i)?no(e):`${function(e){const t=(0,kt.Z)(e);return(0,s.Z)("{month} {dayNumber}",{month:(0,la.Z)(e),dayNumber:(0,sa.Z)(t)})}(e)}  ${no(t)}`;return r.createElement("span",{className:"CalendarHeaderTitle-title-yhCQ8X"},a)};var io=Object.defineProperty,ao=Object.getOwnPropertySymbols,oo=Object.prototype.hasOwnProperty,so=Object.prototype.propertyIsEnumerable,lo=(e,t,n)=>t in e?io(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const co=(0,i.$j)((function(){return(0,u.P1)((e=>e.ui.recordingSchedulePage),(e=>{const{firstEvent:t,lastEvent:n}=e.calendar;return{startTime:t?t.beginsAt:void 0,endTime:n?n.beginsAt:void 0}}))}))((function(e){return r.createElement("div",{className:"AgendaHeader-agendaHeader-Y2wvE3"},r.createElement(ro,((e,t)=>{for(var n in t||(t={}))oo.call(t,n)&&lo(e,n,t[n]);if(ao)for(var n of ao(t))so.call(t,n)&&lo(e,n,t[n]);return e})({},e)))})),uo=(0,i.$j)((function(){return(0,u.P1)((e=>e.ui.recordingSchedulePage),(e=>{const{mediaSubscriptions:t,calendar:n,isCalendarPopulated:r,calendarError:i}=e;return{showError:!r&&!!i,isEmpty:!n.scheduled.length,subscriptionCount:t.length}}))}))((function(e){const{serverEntityID:t,showError:n,isEmpty:i,subscriptionCount:a}=e;return n?r.createElement(Li.Z,{title:(0,s.Z)("There was an error loading the agenda")}):i?r.createElement(Fi,{subscriptionCount:a}):r.createElement("div",null,r.createElement(co,null),r.createElement(eo,{serverEntityID:t}))})),mo={context:Zr.CALENDAR};class po extends r.Component{constructor(e,t){super(e,t),this.onLinkPress=e=>{this.setState({isAiringDetailsModalOpen:!0})},this.onConflictIconPress=e=>{this.setState({isConflictsModalOpen:!0})},this.onRecordingModify=()=>{this.setState({isAiringDetailsModalOpen:!1,isSubscribeModalOpen:!0})},this.onAiringDetailsModalClose=()=>{this.setState({isAiringDetailsModalOpen:!1})},this.onSubscribeModalClose=()=>{this.setState({isSubscribeModalOpen:!1,isConflictsModalOpen:!1})},this.state={isAiringDetailsModalOpen:!1,isSubscribeModalOpen:!1,isConflictsModalOpen:!1}}shouldComponentUpdate(e,t){return(0,Dr.Z)(this,e,t)}render(){const{serverEntityID:e,providerEntityID:t,mediaSubscriptionEntityID:n,metadataItemEntityID:i,prePlayRoute:a,type:o,grandparentTitle:s,title:l,error:c,mediaItem:d,isRecording:u,isPostProcessing:m,recordingProgress:p,isComplete:h,hasError:v,hasSubscription:y,hasConflicts:g,showPlay:E,timeFormat:f,onPlayPress:b}=this.props,{isAiringDetailsModalOpen:P,isSubscribeModalOpen:Z,isConflictsModalOpen:I}=this.state,{beginsAt:C,endsAt:D,startOffsetSeconds:w=0,endOffsetSeconds:O=0,premiere:S}=d,N=(0,pe.Z)(C-w,D+O,{includeMinuteZero:!1,timeFormat:f}),T=s||l;return r.createElement("div",{className:Ue()("CalendarEvent-event-KjyEXP",h&&"CalendarEvent-isComplete-yvCO2_",v&&"CalendarEvent-hasError-W97ZeH")},r.createElement(Xe.Z,{className:"CalendarEvent-underlay-NibxML",to:a,onPress:a?void 0:this.onLinkPress}),r.createElement("div",{className:"CalendarEvent-overlay-NaT7di"},r.createElement("div",{className:"CalendarEvent-title-_SlooU",title:T},T),r.createElement("div",{className:"CalendarEvent-secondaryInfo-ZR7At4"},r.createElement("div",{className:"CalendarEvent-time-ebPM1y"},N),S?r.createElement(tt,null):null),r.createElement("div",{className:"CalendarEvent-status-PzG0OH"},!u||m||v?null:r.createElement("div",{className:"CalendarEvent-recording-DGNhNq"},r.createElement(pa.Z,{backgroundClassName:"CalendarEvent-recordingProgressBackground-yCB7KR CircularProgressBar-circularProgressBarBackground-BcC4L1 CircularProgressBar-circularProgressBarBackground-Bw4kwM",lineWidth:2,progress:p,showProgressText:!1,size:24}),r.createElement("span",{className:"CalendarEvent-recordingIcon-pbWdc5"})),u&&m&&!v?r.createElement(ma.Z,null):null,E?r.createElement(Te.Z,{title:l,onPress:b}):null,v?r.createElement(qa,{error:c,onPress:g?this.onConflictIconPress:this.onLinkPress}):null)),y?r.createElement(za,{error:c,hasError:v,isComplete:h,isOpen:P,isRecording:u,mediaItem:d,metadataItemEntityID:i,metricsProperties:mo,providerEntityID:t,recordingProgress:p,serverEntityID:e,onModalClose:this.onAiringDetailsModalClose,onRecordingModify:this.onRecordingModify}):null,y?r.createElement(F.Z,{isOpen:Z||I,isRecordingSchedule:!0,mediaSubscriptionEntityID:n,metadataItemEntityID:i,metricsProperties:mo,providerEntityID:t,serverEntityID:e,showConflicts:I,subscriptionType:o,onModalClose:this.onSubscribeModalClose}):null)}}const ho=po;var vo=Object.defineProperty,yo=Object.getOwnPropertySymbols,go=Object.prototype.hasOwnProperty,Eo=Object.prototype.propertyIsEnumerable,fo=(e,t,n)=>t in e?vo(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const bo=(0,i.$j)((function(){return(0,u.P1)((e=>e.ui.recordingSchedulePage.calendar),((e,{date:t})=>t),((e,t)=>({events:e.scheduled.filter((({beginsAt:e})=>(0,At.Z)((0,kt.Z)(e),(0,kt.Z)(t))))})))}))((function({serverEntityID:e,events:t}){return r.createElement("div",null,t.map(((t,n)=>{const i=(0,Vi.Z)(Ki.PK,t.mediaSubscriptionID,e);return r.createElement(oa,{key:n,component:ho,error:t.error,eventID:t.metadataItem.key,hasConflicts:!(!t.conflicts||!t.conflicts.length),linkedKey:t.linkedKey,mediaItem:t.mediaItem,mediaSubscriptionEntityID:i,mediaSubscriptionID:t.mediaSubscriptionID,metadataItemEntityID:t.metadataItem,providerID:t.identifier||t.provider,serverEntityID:e,status:t.status})})))}));bo.propTypes=((e,t)=>{for(var n in t||(t={}))go.call(t,n)&&fo(e,n,t[n]);if(yo)for(var n of yo(t))Eo.call(t,n)&&fo(e,n,t[n]);return e})({date:Be().number.isRequired},bo.propTypes);const Po=bo,Zo=function({serverEntityID:e,date:t}){return r.createElement("div",{className:"CalendarDay-day-CG2muM"},r.createElement(Po,{date:t,serverEntityID:e}))};var Io=Object.defineProperty,Co=Object.getOwnPropertySymbols,Do=Object.prototype.hasOwnProperty,wo=Object.prototype.propertyIsEnumerable,Oo=(e,t,n)=>t in e?Io(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const So=(0,i.$j)((function(){return(0,u.P1)((e=>e.ui.recordingSchedulePage),(e=>({days:e.calendar.days})))}))((function(e){var t=e,{days:n}=t,i=((e,t)=>{var n={};for(var r in e)Do.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&Co)for(var r of Co(e))t.indexOf(r)<0&&wo.call(e,r)&&(n[r]=e[r]);return n})(t,["days"]);return r.createElement("div",{className:"CalendarDays-calendarDays-YaP3Tf"},n.map((e=>r.createElement(Zo,((e,t)=>{for(var n in t||(t={}))Do.call(t,n)&&Oo(e,n,t[n]);if(Co)for(var n of Co(t))wo.call(t,n)&&Oo(e,n,t[n]);return e})({key:e,date:e},i)))))}));var No=n(78966);const To=function({date:e}){const t=(0,ca.Z)(e);let n;if((0,da.Z)(e))n=(0,s.Z)("Yesterday");else if(t)n=(0,s.Z)("Today");else{const t=(0,kt.Z)(e);n=(0,s.Z)("{dayOfWeek} {monthNumber}/{dayNumber}",{dayOfWeek:(0,Qt.Z)(e,{abbreviate:!0}),monthNumber:(0,No.Z)(t)+1,dayNumber:(0,sa.Z)(t)})}return r.createElement("div",{className:Ue()("CalendarDayOfWeek-dayOfWeek-zDLtCd",t&&"CalendarDayOfWeek-isToday-FhWrT0"),title:n},n)};var Mo=Object.defineProperty,Ro=Object.getOwnPropertySymbols,ko=Object.prototype.hasOwnProperty,xo=Object.prototype.propertyIsEnumerable,Ao=(e,t,n)=>t in e?Mo(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const Go=(0,i.$j)((function(){return(0,u.P1)((e=>e.ui.recordingSchedulePage.calendar),(e=>({daysOfWeek:e.daysOfWeek})))}))((function(e){var t=e,{daysOfWeek:n}=t,i=((e,t)=>{var n={};for(var r in e)ko.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&Ro)for(var r of Ro(e))t.indexOf(r)<0&&xo.call(e,r)&&(n[r]=e[r]);return n})(t,["daysOfWeek"]);return r.createElement("div",{className:"CalendarDaysOfWeek-container-ljeoIn"},n.map((e=>r.createElement(To,((e,t)=>{for(var n in t||(t={}))ko.call(t,n)&&Ao(e,n,t[n]);if(Ro)for(var n of Ro(t))xo.call(t,n)&&Ao(e,n,t[n]);return e})({key:e,date:e},i)))))})),jo="CalendarHeader-calendarHeader-RDW2rW",Bo="CalendarHeader-calendarNav-kzSOqn Link-link-SxPFpG",Wo="CalendarHeader-calendarNavDisabled-Rs4dGm";var Lo=Object.defineProperty,Fo=Object.getOwnPropertySymbols,Vo=Object.prototype.hasOwnProperty,Ko=Object.prototype.propertyIsEnumerable,Ho=(e,t,n)=>t in e?Lo(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const zo=function(e){const{hasPastEvents:t,hasFutureEvents:n,onGoToPreviousRangePress:i,onGoToNextRangePress:a}=e;return r.createElement("div",{className:jo},r.createElement("div",{className:jo},r.createElement(Xe.Z,{className:Ue()(Bo,!t&&Wo),isDisabled:!t,kind:Ae.TP,size:Ge.M2,onPress:i},r.createElement(Z.default,{"aria-label":(0,s.Z)("Previous Page")})),r.createElement(ro,((e,t)=>{for(var n in t||(t={}))Vo.call(t,n)&&Ho(e,n,t[n]);if(Fo)for(var n of Fo(t))Ko.call(t,n)&&Ho(e,n,t[n]);return e})({},e)),r.createElement(Xe.Z,{className:Ue()(Bo,!n&&Wo),isDisabled:!n,kind:Ae.TP,size:Ge.M2,onPress:a},r.createElement(I.default,{"aria-label":(0,s.Z)("Next Page")}))))};var _o=Object.defineProperty,Uo=Object.getOwnPropertySymbols,$o=Object.prototype.hasOwnProperty,Yo=Object.prototype.propertyIsEnumerable,qo=(e,t,n)=>t in e?_o(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Xo=(e,t)=>{for(var n in t||(t={}))$o.call(t,n)&&qo(e,n,t[n]);if(Uo)for(var n of Uo(t))Yo.call(t,n)&&qo(e,n,t[n]);return e};const Jo=(0,i.$j)((function(){return(0,u.P1)((e=>e.ui.recordingSchedulePage),(e=>{const t=mr().pick(e.calendar,"time","startTime","endTime","hasPastEvents","hasFutureEvents");return Xo({},t)}))}))((function(e){return r.createElement(zo,Xo({},e))}));class Qo extends r.Component{constructor(e,t){super(e,t),this.onMeasure=({width:e})=>{const t=this.state.visibleDays,n=Math.min(Math.floor(e/120),7);n!==t&&this.props.onVisibleDaysChange(n),this.setState({width:e,visibleDays:n})},this.state={width:null,visibleDays:0}}render(){const{serverEntityID:e,showError:t,isEmpty:n,subscriptionCount:i,visibleDays:a,onGoToPreviousRangePress:o,onGoToNextRangePress:l}=this.props;return t?r.createElement(Li.Z,{title:(0,s.Z)("There was an error loading the calendar")}):n?r.createElement(Fi,{subscriptionCount:i}):r.createElement(G.Z,{className:"Calendar-calendar-DdlxLx",ignoreHeight:!0,onMeasure:this.onMeasure},a===this.state.visibleDays?r.createElement("div",null,r.createElement(Jo,{onGoToNextRangePress:l,onGoToPreviousRangePress:o}),r.createElement(Go,null),r.createElement(So,{serverEntityID:e})):null)}}const es=Qo;var ts=Object.defineProperty,ns=Object.getOwnPropertySymbols,rs=Object.prototype.hasOwnProperty,is=Object.prototype.propertyIsEnumerable,as=(e,t,n)=>t in e?ts(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;class os extends r.Component{constructor(){super(...arguments),this.onVisibleDaysChange=e=>{(0,On.c9)((()=>{this.props.setVisibleDays({visibleDays:e})}))},this.onGoToPreviousRangePress=()=>{this.props.goToPreviousRange()},this.onGoToNextRangePress=()=>{this.props.goToNextRange()}}render(){return r.createElement(es,((e,t)=>{for(var n in t||(t={}))rs.call(t,n)&&as(e,n,t[n]);if(ns)for(var n of ns(t))is.call(t,n)&&as(e,n,t[n]);return e})({onGoToNextRangePress:this.onGoToNextRangePress,onGoToPreviousRangePress:this.onGoToPreviousRangePress,onVisibleDaysChange:this.onVisibleDaysChange},this.props))}}const ss=(0,i.$j)((function(){return(0,u.P1)((e=>e.ui.recordingSchedulePage),(e=>{const{mediaSubscriptions:t,calendar:n,isCalendarPopulated:r,calendarError:i}=e;return{showError:!r&&!!i,isEmpty:!n.scheduled.length,subscriptionCount:t.length,visibleDays:n.visibleDays}}))}),cr)(os);var ls=n(77854);const cs=(0,i.$j)((function(){return(0,u.P1)((0,hr.Z)(),(0,fr.Z)(),((e,t)=>({guideRoute:(0,or.Z)({pivotID:T.C.Guide,machineIdentifier:e.machineIdentifier,providerIdentifier:t.identifier})})))}))((function(e){const{serverEntityID:t,showSpinner:n,showEmptyState:i,programGuideIdentifier:a,selectedViewType:o,guideRoute:l}=e;return n?r.createElement(Mr.Z,null,r.createElement(Rr.Z,null,r.createElement(Tr.Z,null))):i&&a?r.createElement(Mr.Z,null,r.createElement(Rr.Z,{description:r.createElement(Nr.Z,{message:(0,s.Z)("Check out the {openLink}Guide{closeLink} to browse available programming"),tags:[{open:"openLink",close:"closeLink",component:Xe.Z,kind:Ae._8,to:l}]}),iconComponent:Sr.default,title:(0,s.Z)("You have no recordings scheduled")})):i&&!a?r.createElement(Mr.Z,null,r.createElement(Rr.Z,{description:(0,s.Z)("You need a DVR before you can schedule recordings"),iconComponent:Sr.default,title:(0,s.Z)("You have no recordings scheduled")})):r.createElement("div",{className:"RecordingSchedulePageContent-schedulePageContent-ep1GkU PageContent-pageContent-rk0p0C"},r.createElement(Mr.Z,{innerClassName:"RecordingSchedulePageContent-schedulePageInnerContent-hL2b2b PageContent-innerPageContent-m6ARXd"},o===ls.XN?r.createElement(ss,{serverEntityID:t}):null,o===ls.JF?r.createElement(uo,{serverEntityID:t}):null),r.createElement(Wi,{guideRoute:l,providerID:a,serverEntityID:t}))}));var ds=n(69907),us=n(868),ms=n(53851),ps=n(89197),hs=n(79024),vs=n(78958),ys=n(36656),gs=n(26606),Es=n(42934),fs=n(48285),bs=n(10241),Ps=n(56990);const Zs=(0,i.$j)((function(){return(0,u.P1)((0,ds.Z)(),(e=>({isEPGRefreshing:!!e,epgActivityProgress:e?e.progress:0,epgActivityTitle:e?e.title:""})))}))((function(e){const{className:t,isEPGRefreshing:n,epgActivityProgress:i,epgActivityTitle:a}=e;return n?r.createElement("span",{className:t},a," (",i,"%)",r.createElement(Tr.Z,{className:"ProgramGuideActivityStatus-refreshingSpinner-S0GTX1",size:Ge.HC})):null}));function Is(e){return e===ls.JF?(0,s.Z)("Agenda View"):(0,s.Z)("Calendar View")}class Cs extends r.Component{constructor(e,t){super(e,t),this.onViewsMenuButtonPress=e=>{this.setState({isViewsMenuOpen:!this.state.isViewsMenuOpen})},this.onViewsMenuClose=()=>{this.setState({isViewsMenuOpen:!1})},this.state={isViewsMenuOpen:!1},this._viewsMenuButtonID=(0,ms.Z)()}shouldComponentUpdate(e,t){return(0,Dr.Z)(this,e,t)}render(){const{serverEntityID:e,providerEntityID:t,sourceDirectory:n,selectedViewType:i,showEPGActivity:a}=this.props,{isViewsMenuOpen:o}=this.state;return r.createElement(r.Fragment,null,n?r.createElement(Es.Z,null,r.createElement(Ps.Z,{providerEntityID:t,serverEntityID:e,sourceDirectory:n}),r.createElement(bs.Z,{directoryKey:ps.tk.RECORDING_SCHEDULE,providerEntityID:t,serverEntityID:e,sourceDirectory:n}),r.createElement(fs.Z,null)):null,r.createElement(vs.Z,null,r.createElement(gs.Z,null,r.createElement(us.Z,{hasMenu:!0,id:this._viewsMenuButtonID,isMenuOpen:o,onPress:this.onViewsMenuButtonPress},Is(i)),r.createElement(Gt.Z,{isOpen:o,target:this._viewsMenuButtonID,onMenuClose:this.onViewsMenuClose},ls.$6.map((e=>r.createElement(Lt.Z,{key:e,isSelected:i===e,to:(0,hs.Z)({view:e}),onPress:this.onViewsMenuClose},Is(e)))))),a?r.createElement(ys.Z,null,r.createElement(Zs,{providerEntityID:t,serverEntityID:e})):null))}}const Ds=Cs,ws=(0,i.$j)((function(){return(0,u.P1)((0,ds.Z)(),(e=>({showEPGActivity:!!e})))}))(Ds);var Os=Object.defineProperty,Ss=Object.getOwnPropertySymbols,Ns=Object.prototype.hasOwnProperty,Ts=Object.prototype.propertyIsEnumerable,Ms=(e,t,n)=>t in e?Os(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Rs=(e,t)=>{for(var n in t||(t={}))Ns.call(t,n)&&Ms(e,n,t[n]);if(Ss)for(var n of Ss(t))Ts.call(t,n)&&Ms(e,n,t[n]);return e};class ks extends r.Component{shouldComponentUpdate(e,t){return(0,Dr.Z)(this,e,t)}render(){const{serverEntityID:e,providerEntityID:t,sourceDirectory:n,selectedViewType:i}=this.props;return n||(r.Fragment,Rs({},this.props)),r.createElement(Ir.Z,{metricsContext:(0,Cr.Z)(o.WT,Zr.DVR_SCHEDULE_PIVOT)},r.createElement(Or.Z,{metricsPage:o.WT,metricsProperties:{pane:i},scrollDirection:U.Hn},r.createElement(ws,{providerEntityID:t,selectedViewType:i,serverEntityID:e,sourceDirectory:n}),r.createElement(wr.Z,{providerEntityID:t,serverEntityID:e}),r.createElement(cs,Rs({},this.props))))}}const xs=ks,As={initRecordingSchedulePage:cr.initRecordingSchedulePage,clearRecordingSchedulePage:cr.clearRecordingSchedulePage,goToToday:cr.goToToday,fetchCalendar:cr.fetchCalendar,fetchMediaSubscriptions:cr.fetchMediaSubscriptions,saveExperienceSettings:dr.LN};class Gs extends r.Component{constructor(e,t){super(e,t),this._updateCalendar=()=>{this.props.goToToday(),this.props.fetchCalendar(),this._resetUpdateTimeout()},this._updateTimeoutID=null}UNSAFE_componentWillMount(){this._populate(),this._resetUpdateTimeout(),this._saveViewType()}UNSAFE_componentWillReceiveProps(e){const{serverEntityID:t,time:n,selectedViewType:r}=e;t!==this.props.serverEntityID&&this._populate(e),this._updateTimeoutID&&n!==this.props.time&&this._resetUpdateTimeout(),r!==this.props.selectedViewType&&this._saveViewType(e)}componentWillUnmount(){this._updateTimeoutID&&window.clearTimeout(this._updateTimeoutID),this.props.clearRecordingSchedulePage()}_populate(e=this.props){(0,On.c9)((()=>{e.initRecordingSchedulePage({serverEntityID:e.serverEntityID}),e.fetchCalendar(),e.fetchMediaSubscriptions()}))}_resetUpdateTimeout(){this._updateTimeoutID&&window.clearTimeout(this._updateTimeoutID),this._updateTimeoutID=window.setTimeout(this._updateCalendar,36e5)}_saveViewType(e=this.props){e.saveExperienceSettings({calendarViewType:e.selectedViewType})}render(){const{serverEntityID:e,providerEntityID:t,sourceDirectory:n,selectedViewType:i,showSpinner:a,showEmptyState:o,programGuideIdentifier:s}=this.props;return this.props.isPagePopulated?r.createElement(xs,{programGuideIdentifier:s,providerEntityID:t,selectedViewType:i,serverEntityID:e,showEmptyState:o,showSpinner:a,sourceDirectory:n}):null}}const js=(0,i.$j)((function(){return(0,u.P1)((e=>e.ui.recordingSchedulePage),((e,{selectedViewType:t})=>t),(0,fr.Z)(),(0,Er.Z)(),(0,u.P1)(yr.Z,function(e,t=gr){return(0,pr.Z)(function(e,t){return(0,u.P1)(yr.Z,vr(),((n,r)=>r?r.reduce(((r,i)=>{const a=n[i];return a&&t(a)&&mr().findWhere(a.features,{type:e})&&r.push(i),r}),[]):[]))}(e,t),(e=>e))}(Pr.Z.SUBSCRIBE),((e,t)=>{const n=t[0];if(n){const t=e[n];return t&&t.identifier}})),br.Z,((e,t,n,r,i,a)=>{const{isPagePopulated:o,isCalendarPopulated:s,calendarError:l,isMediaSubscriptionsPopulated:c,mediaSubscriptionsError:d,calendar:u}=e,m=!s&&!l||!c&&!d,p=!m&&c&&!e.mediaSubscriptions.length&&s&&!u.scheduled.length;return{sourceDirectory:r,providerIdentifier:n.identifier,isPagePopulated:o,showSpinner:m,showEmptyState:p,programGuideIdentifier:i,time:u?u.time:void 0,selectedViewType:t||a.calendarViewType}}))}),As)(Gs);function Bs(){const e=(0,w.Z)(),[t,n]=(0,d.c9)(),i=e.view?(0,lr.Z)(e.view):"";return t.isConnected?r.createElement(js,{isPageContent:!0,providerEntityID:n.entityID,selectedViewType:i,serverEntityID:t.entityID}):r.createElement(M.Z,{serverEntityID:t.entityID})}var Ws=n(23201);function Ls(){const e=(0,w.Z)(),[t,n]=(0,d.c9)(),i=N(t,n,e.key,e.pivotID);return t.isConnected&&i.sourceURI?r.createElement(Ws.Z,{sourceURI:i.sourceURI}):r.createElement(M.Z,{serverEntityID:t.entityID})}var Fs=n(34384);function Vs({server:e,provider:t}){return r.createElement(dt.GY,{href:`#!/provider/${encodeURIComponent(t.identifier)}/settings`},(0,s.Z)("{source} Settings",{source:(0,Mn.Z)(e,t)}))}function Ks({isChecked:e,source:t,title:n,onPress:i}){const a=(0,r.useCallback)((()=>i(t)),[i,t]);return r.createElement(dt.CG,{isChecked:e,onCheckedChanged:a},n)}var Hs=n(31649),zs=n(52026);function _s({showName:e,server:t,provider:n}){const a=(0,i.I0)(),o=(0,i.v9)((0,zs.Z)(t,n)),l=(0,r.useCallback)((()=>{const e=n.identifier.split(":")[1];a(o?Hs.Pv({serverEntityID:t.entityID,dvrID:e}):Hs.fh({serverEntityID:t.entityID,dvrID:e}))}),[a,o,n,t.entityID]);return r.createElement(dt.j2,{onPress:l},o?(0,s.Z)("Cancel Refresh"):(0,s.Z)("Refresh Guide"),e?` (${(0,Mn.Z)(t,n)})`:"")}var Us=n(2436);function $s(){const e=(0,i.I0)(),t=(0,i.v9)((0,se.Z)("disabledEpgSources")),n=(0,mt.b)(),a=(0,i.v9)(Un.Z),o=(0,r.useMemo)((()=>a.filter((({server:e})=>e.isFullOwnedServer&&e.isConnected))),[a]),c=(0,r.useMemo)((()=>a.filter((({provider:e})=>!k.yv(e.identifier)&&e.features.some((({type:e})=>e===l.zW.Settings))))),[a]),d=(0,r.useCallback)((r=>{const i=t.includes(r)?t.filter((e=>e!==r)):t.concat(r);(0,On.c9)((()=>{e((0,dr.LN)({disabledEpgSources:i}))})),n.onClose()}),[t,e,n]),u=(0,r.useMemo)((()=>{const e=a.filter((({server:e,provider:n})=>{const r=(0,S.Z)({serverIdentifier:e.machineIdentifier,providerIdentifier:n.identifier});return!t.includes(r)}));if(0===e.length)return(0,s.Z)("No Sources");if(1===e.length){const{server:t,provider:n}=e[0];return(0,Mn.Z)(t,n)}return(0,s.Z)("{count} Sources",{count:e.length})}),[t,a]);return r.createElement("div",{className:"SourcesMenuButton-container-gBw1c7"},r.createElement(Us.Z,{title:(0,s.Z)("Live TV")}),r.createElement("div",{className:"SourcesMenuButton-sourcesText-xAKHak"}," ",u),r.createElement(dt.v2,{isOpen:n.isOpen,onOpenChange:n.onOpenChange},r.createElement(dt.bF,null,r.createElement(P.hU,{"aria-label":(0,s.Z)("Sources"),icon:Fs.default,size:"xs",transparent:!0})),r.createElement(dt.Dv,null,a.map((({server:e,provider:n})=>{const i=(0,S.Z)({serverIdentifier:e.machineIdentifier,providerIdentifier:n.identifier});return r.createElement(Ks,{key:i,isChecked:!t.includes(i),source:i,title:(0,Mn.Z)(e,n),onPress:d})})),o.length+c.length>0?r.createElement(dt.Cl,null):null,o.map((({server:e,provider:t},n)=>r.createElement(_s,{key:n,provider:t,server:e,showName:o.length>1}))),c.map((({server:e,provider:t},n)=>r.createElement(Vs,{key:n,provider:t,server:e}))))))}var Ys=n(1346);function qs(e){switch(e){case T.C.Guide:return(0,s.Z)("Guide");case T.C.WhatsOnDvr:case T.C.WhatsOnEpg:return(0,s.Z)("What's On");case T.C.Browse:return(0,s.Z)("Browse");case T.C.Schedule:return(0,s.Z)("DVR Schedule")}}function Xs(){const e=function(){const e=(0,i.I0)(),t=(0,w.Z)(),n=(0,Ys.Z)(),a=(0,i.v9)(pt.Z),o=(0,i.v9)(Jn.Z),{favoriteChannels:s}=(0,i.v9)(W.Z);(0,r.useEffect)((()=>{s.isPopulated||s.isPending||e(B.ZP.actions.favoriteChannelsFetchRequested({cloudServer:a}))}),[e,a,s.isPopulated,s.isPending]);const l=!o.some((({server:e,provider:t})=>e.machineIdentifier===n.machineIdentifier&&t.identifier===n.providerIdentifier)),c=l&&!!o[0],d=c?o[0].server.machineIdentifier:n.machineIdentifier,u=c?o[0].provider.identifier:n.providerIdentifier,m=t.pivotID,p=l||!m?T.C.Guide:m,h=s.channels.length>0,v=t.genreRatingKey||"";return{pivotID:p,machineIdentifier:d,providerIdentifier:u,promotedKey:t.promotedKey||"",genreRatingKey:v,showFavorites:t.showFavorites||l&&!v&&h}}(),t=(0,i.v9)(Jn.Z),n=(0,i.v9)(h),u=(0,r.useMemo)((()=>t.reduce(((e,{server:t,provider:n})=>{var r,i,a;const o=null==(i=null==(r=(0,c.Z)(n,l.zW.Content))?void 0:r.directories)?void 0:i[0].pivots,s=null!=(a=null==o?void 0:o.filter((({id:e})=>e===T.C.WhatsOnDvr||e===T.C.WhatsOnEpg||e===T.C.Browse||e===T.C.Schedule)))?a:[];return s.length?e.concat({server:t,provider:n,pivots:s}):e}),[])),[t]),m=(0,r.useMemo)((()=>u.reduce(((t,{server:n,provider:r,pivots:i})=>{const a=i.map((t=>{const i=t.id;return{label:qs(i)+(u.length>1?` (${(0,Mn.Z)(n,r)})`:""),route:(0,or.Z)({pivotID:i,machineIdentifier:n.machineIdentifier,providerIdentifier:r.identifier}),isConnected:n.isConnected,isSelected:n.machineIdentifier===e.machineIdentifier&&r.identifier===e.providerIdentifier&&i===e.pivotID}}));return t.concat(a)}),[])),[u,e]),p=function(e){switch(e){case T.C.Guide:return o._e;case T.C.WhatsOnDvr:case T.C.WhatsOnEpg:case T.C.Browse:return o.Y3;case T.C.Schedule:return o.WT}}(e.pivotID),b=(0,r.useMemo)((()=>0===t.length?n?r.createElement(E.Z,null,r.createElement(a.$,null)):r.createElement(f.Z,{description:(0,s.Z)("Please enable any Live TV sources you want to browse."),title:(0,s.Z)("No Live TV sources enabled")}):e.pivotID===T.C.Guide?r.createElement(sr,{genreRatingKey:e.genreRatingKey,machineIdentifier:e.machineIdentifier,promotedKey:e.promotedKey,providerIdentifier:e.providerIdentifier,showFavorites:e.showFavorites}):r.createElement(d.ZP,{machineIdentifier:e.machineIdentifier,providerIdentifier:e.providerIdentifier},function(e){switch(e){case T.C.WhatsOnDvr:case T.C.WhatsOnEpg:return r.createElement(Ls,null);case T.C.Browse:return r.createElement(R,null);case T.C.Schedule:return r.createElement(Bs,null)}}(e.pivotID))),[n,e,t.length]);return r.createElement(y.ZP,{metricsPage:p},r.createElement(g.Z,{className:"LiveTVViewPage-page-Dl5gzG"},r.createElement("div",{className:"LiveTVViewPage-header-vSGElc"},r.createElement("div",{className:"LiveTVViewPage-sourcesMenu-eKSJF_"},r.createElement($s,null)),u.length?r.createElement("div",{className:"LiveTVViewPage-tabs-AGeX5Z"},r.createElement(D,null,r.createElement(v.Z,{isSelected:e.pivotID===T.C.Guide,to:(0,or.Z)({pivotID:T.C.Guide})},qs(T.C.Guide)),m.map((({label:e,route:t,isSelected:n,isConnected:i},a)=>r.createElement(v.Z,{key:a,isSelected:n,to:t},r.createElement(tr,{hasWarning:!i,label:e})))))):null),b))}},56990:(e,t,n)=>{n.d(t,{Z:()=>M});var r=n(67294),i=n(36656),a=n(28216),o=n(22222),s=n(4792),l=n(77909),c=n(74995),d=n(76892),u=n(98862),m=n(67006),p=n(83154),h=n(11354),v=n(5562),y=n(94716),g=n(41324),E=n(26512),f=n(12272),b=n(2436),P=n(70007),Z=n(17848),I=n(24334),C=n(13014);var D=n(98378),w=n(66137);function O(e,t,n,r){return r?(0,v.Z)("Downloads"):e?e.title:t.isCloud?n.title:(0,g.Z)(t)}const S=(0,o.P1)(((e,{sourceDirectory:t})=>t),d.Z,(0,c.Z)(),(0,l.Z)(),(0,f.Z)(),(0,s.Z)(m.Z.CONTENT),((e,t,n,r,i,a)=>{if(!a)return{};const o=(0,y.Z)(r,e),s=e?(0,h.Z)({sourceType:o?o.key:null,sourceServer:n,sourceProvider:r,sourceDirectory:e}):null,l=i?(0,w.Z)(t.downloads):(0,E.Z)(n,r,e,e?void 0:{key:p.D,pageType:u.km});return{isEmbeddedServer:i,source:s,title:O(s,n,r,i),detail:(0,D.Z)(s||void 0,n),route:l}})),N=(0,a.$j)(S)((function(e){const{serverEntityID:t,providerEntityID:n,isEmbeddedServer:i,source:a,title:o,detail:s,route:l}=e,c=(0,I.Z)();return r.createElement("div",{className:"CurrentSource-headerContainer-MyYMhv"},r.createElement(b.Z,{detail:s,route:l,title:o}),a&&!i?r.createElement(r.Fragment,null,r.createElement(P.Z,{iconComponent:C.Z,id:c.menuButtonID,isMenuOpen:c.isMenuOpen,label:(0,v.Z)("Actions"),onPress:c.onMenuButtonPress}),r.createElement(Z.Z,{isOverflowMenuOpen:c.isMenuOpen,providerEntityID:n,serverEntityID:t,source:a,target:c.menuButtonID,onOverflowMenuClose:c.onMenuClose})):null)}));function T(e){const{containerComponent:t,serverEntityID:n,providerEntityID:i,sourceDirectory:a,children:o}=e;return r.createElement(t,null,r.createElement(N,{providerEntityID:i,serverEntityID:n,sourceDirectory:a}),o?r.createElement("div",{className:"CurrentSourcePageHeaderLeft-childrenContainer-e3uyPC"},o):null)}T.defaultProps={containerComponent:i.Z};const M=T},70007:(e,t,n)=>{n.d(t,{Z:()=>m});var r=n(67294),i=n(44863),a=n(47636),o=Object.defineProperty,s=Object.getOwnPropertySymbols,l=Object.prototype.hasOwnProperty,c=Object.prototype.propertyIsEnumerable,d=(e,t,n)=>t in e?o(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;class u extends r.Component{shouldComponentUpdate(e,t){return(0,a.Z)(this,e,t)}render(){const e=this.props,{children:t,iconComponent:n,label:a,isMenuOpen:o}=e,u=((e,t)=>{var n={};for(var r in e)l.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&s)for(var r of s(e))t.indexOf(r)<0&&c.call(e,r)&&(n[r]=e[r]);return n})(e,["children","iconComponent","label","isMenuOpen"]);return r.createElement(i.Z,((e,t)=>{for(var n in t||(t={}))l.call(t,n)&&d(e,n,t[n]);if(s)for(var n of s(t))c.call(t,n)&&d(e,n,t[n]);return e})({"aria-haspopup":!0,"data-testid":"toolbarMore",hideOnPress:!1,tooltip:o?void 0:a},u),r.createElement(n,null),t)}}const m=u},13014:(e,t,n)=>{n.d(t,{Z:()=>l});var r=n(45697),i=n.n(r),a=n(67294),o=n(74570);function s(e){const t=e["aria-label"],n=e.className,r=e.style,i={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-toolbar-more-vertical-560"};i["aria-hidden"]=!t,i.style=r,i.className=o.Z.plexIcon+(n?" "+n:"");const s=[a.createElement.apply(a,["path",{d:"M280 168c-30.897 0-56-25.103-56-56 0-30.896 25.103-56 56-56s56 25.104 56 56c-.965 31.862-25.103 56-56 56zm56 112c0 30.897-25.103 56-56 56s-56-25.103-56-56 25.103-56 56-56 56 25.103 56 56zm0 168c0 30.897-25.103 56-56 56s-56-25.103-56-56 25.103-56 56-56 56 25.103 56 56z"}].concat([]))];return t&&s.unshift(a.createElement("title",null,t)),a.createElement.apply(a,["svg",i].concat(s))}s.propTypes={"aria-label":i().string,className:i().string,style:i().object};const l=s}}]);