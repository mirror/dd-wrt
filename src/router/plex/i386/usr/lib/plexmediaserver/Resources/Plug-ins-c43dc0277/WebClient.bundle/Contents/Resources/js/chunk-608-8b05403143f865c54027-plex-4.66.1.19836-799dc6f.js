(self.webpackChunkplex_web_client=self.webpackChunkplex_web_client||[]).push([[608],{14699:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});var n=r(22222),i=r(90934);function a(){return(0,n.P1)(((e,{mediaSubscriptionEntityID:t})=>t),i.Z,((e,t)=>t[e]))}},58730:(e,t,r)=>{"use strict";r.d(t,{I:()=>n,w:()=>i});const n="boolean",i="other"},52331:(e,t,r)=>{"use strict";r.d(t,{Z:()=>E});var n=r(13469),i=r.n(n),a=r(96638),l=(r(11133),r(58730)),s=Object.defineProperty,o=Object.prototype.hasOwnProperty,c=Object.getOwnPropertySymbols,d=Object.prototype.propertyIsEnumerable,u=(e,t,r)=>t in e?s(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,m=(e,t)=>{for(var r in t||(t={}))o.call(t,r)&&u(e,r,t[r]);if(c)for(var r of c(t))d.call(t,r)&&u(e,r,t[r]);return e},p=r(70560),y=r(23736);const h=`([^&!=<>]+)(${p.ZP.sort(((e,t)=>t.length-e.length)).map(a.Z).join("|")})([^&]+)?`,v=new RegExp(h,"g"),f=new RegExp(h),b={unwatched:!0,unwatchedLeaves:!0,unmatched:!0,duplicate:!0,inProgress:!0,hdonly:!0,hdr:!0};function E(e){if(!e)return[];const t=decodeURIComponent(e).match(v);return t?t.reduce(((e,t)=>{const r=t.match(f),[,n,a,s]=r||[];let o=s?i().uniq(s.split(y.OR)):"";return 1===o.length&&(o=o[0]),function(e,t,r){const n=[...e];if(r.type===l.I){const e=i().findIndex(n,(e=>e.key===t)),a=-1===e?0:e,l=m({key:t},r);-1===e?n.push(l):n.splice(a,1,l)}else i().findWhere(n,{key:t,value:r.value})||n.push(m({key:t},r));return n}(e,n,{value:o,type:b[n]?l.I:l.w,operator:a})}),[]):[]}},96015:(e,t,r)=>{"use strict";r.d(t,{Z:()=>c}),r(13469),r(11133);var n=Object.defineProperty,i=Object.prototype.hasOwnProperty,a=Object.getOwnPropertySymbols,l=Object.prototype.propertyIsEnumerable,s=(e,t,r)=>t in e?n(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,o=(e,t)=>{for(var r in t||(t={}))i.call(t,r)&&s(e,r,t[r]);if(a)for(var r of a(t))l.call(t,r)&&s(e,r,t[r]);return e};function c(e,t,r){if(null==r)return e.filter((e=>e.key!==t));const n=[...e];let i=n.length;for(;i-- >0;){const e=n[i],a=e.key,l=e.value;if(t===a&&r===l)n.splice(i,1);else if(t===a&&Array.isArray(l)){const t=l.indexOf(r);t>-1&&(l.splice(t,1),1===l.length?n.splice(i,1,o(o({},e),{value:l[0]})):l.length||n.splice(i,1))}}return n}},45318:(e,t,r)=>{"use strict";r.d(t,{Z:()=>u});var n=r(67294),i=r(39409),a=Object.defineProperty,l=Object.prototype.hasOwnProperty,s=Object.getOwnPropertySymbols,o=Object.prototype.propertyIsEnumerable,c=(e,t,r)=>t in e?a(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;function d(e){return n.createElement(i.Z,((e,t)=>{for(var r in t||(t={}))l.call(t,r)&&c(e,r,t[r]);if(s)for(var r of s(t))o.call(t,r)&&c(e,r,t[r]);return e})({},e))}d.defaultProps={className:"PageHeaderBadge-badge-1St9OR"};const u=d},30544:(e,t,r)=>{"use strict";r.d(t,{Z:()=>l});var n=r(67294),i=r(4704);const a=Symbol("NO_VALUE"),l=function(e,t,r=500){const[l,s]=(0,n.useState)(a),o=(0,i.Z)(e),c=(0,n.useRef)(0);return e===t&&o!==t&&c.current++,(0,n.useEffect)((()=>{const e=window.setTimeout((()=>{s(a)}),r);return s(t),()=>{window.clearTimeout(e)}}),[c.current,t,r]),l===a?e:l}},70449:(e,t,r)=>{"use strict";r.d(t,{Z:()=>p});var n=r(67294),i=r(5562),a=r(26253),l=r(72373);const s={sortDirectionIcon:"IconTableHeaderSortDirection-sortDirectionIcon-2M6Vgj"};var o=Object.defineProperty,c=Object.prototype.hasOwnProperty,d=Object.getOwnPropertySymbols,u=Object.prototype.propertyIsEnumerable,m=(e,t,r)=>t in e?o(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;function p(e){var t=e,{className:r=s.sortDirectionIcon,isAscending:o=!0}=t,p=((e,t)=>{var r={};for(var n in e)c.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&d)for(var n of d(e))t.indexOf(n)<0&&u.call(e,n)&&(r[n]=e[n]);return r})(t,["className","isAscending"]);const y=o?a.Z:l.Z;return n.createElement(y,((e,t)=>{for(var r in t||(t={}))c.call(t,r)&&m(e,r,t[r]);if(d)for(var r of d(t))u.call(t,r)&&m(e,r,t[r]);return e})({"aria-label":o?(0,i.Z)("Ascending"):(0,i.Z)("Descending"),className:r},p))}},71716:(e,t,r)=>{"use strict";r.d(t,{Z:()=>u});var n=r(67294);const i={tableHeader:"TableHeader-tableHeader-1uylmm"};var a=Object.defineProperty,l=Object.prototype.hasOwnProperty,s=Object.getOwnPropertySymbols,o=Object.prototype.propertyIsEnumerable,c=(e,t,r)=>t in e?a(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,d=(e,t)=>{for(var r in t||(t={}))l.call(t,r)&&c(e,r,t[r]);if(s)for(var r of s(t))o.call(t,r)&&c(e,r,t[r]);return e};function u(e){var t=e,{className:r=i.tableHeader}=t,a=((e,t)=>{var r={};for(var n in e)l.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&s)for(var n of s(e))t.indexOf(n)<0&&o.call(e,n)&&(r[n]=e[n]);return r})(t,["className"]);return n.createElement("div",d(d({},a),{className:r}))}},76764:(e,t,r)=>{"use strict";r.d(t,{Z:()=>u});var n=r(67294);const i={tableHeaderCell:"TableHeaderCell-tableHeaderCell-36KGxp TableCell-tableCell-3eVBRq",activeTableHeaderCell:"TableHeaderCell-activeTableHeaderCell-3TbDPT TableHeaderCell-tableHeaderCell-36KGxp TableCell-tableCell-3eVBRq"};var a=Object.defineProperty,l=Object.prototype.hasOwnProperty,s=Object.getOwnPropertySymbols,o=Object.prototype.propertyIsEnumerable,c=(e,t,r)=>t in e?a(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,d=(e,t)=>{for(var r in t||(t={}))l.call(t,r)&&c(e,r,t[r]);if(s)for(var r of s(t))o.call(t,r)&&c(e,r,t[r]);return e};function u(e){var t=e,{className:r=i.tableHeaderCell,activeClassName:a=i.activeTableHeaderCell,children:c,isActive:u=!1}=t,m=((e,t)=>{var r={};for(var n in e)l.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&s)for(var n of s(e))t.indexOf(n)<0&&o.call(e,n)&&(r[n]=e[n]);return r})(t,["className","activeClassName","children","isActive"]);const p=u?a:r;return n.createElement("span",d(d({},m),{className:p}),c)}},5718:(e,t,r)=>{"use strict";r.d(t,{Z:()=>m});var n=r(67294),i=r(17331);const a={tableHeaderLink:"TableHeaderLink-tableHeaderLink-3yiPl7 Link-link-1Kt-hA"};var l=Object.defineProperty,s=Object.prototype.hasOwnProperty,o=Object.getOwnPropertySymbols,c=Object.prototype.propertyIsEnumerable,d=(e,t,r)=>t in e?l(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,u=(e,t)=>{for(var r in t||(t={}))s.call(t,r)&&d(e,r,t[r]);if(o)for(var r of o(t))c.call(t,r)&&d(e,r,t[r]);return e};function m(e){var t=e,{className:r=a.tableHeaderLink,children:l}=t,d=((e,t)=>{var r={};for(var n in e)s.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&o)for(var n of o(e))t.indexOf(n)<0&&c.call(e,n)&&(r[n]=e[n]);return r})(t,["className","children"]);return n.createElement(i.Z,u(u({},d),{className:r}),l)}},90317:(e,t,r)=>{"use strict";r.d(t,{Z:()=>u});var n=r(67294);const i={tableHeaderTitle:"TableHeaderTitle-tableHeaderTitle-2qvD3G"};var a=Object.defineProperty,l=Object.prototype.hasOwnProperty,s=Object.getOwnPropertySymbols,o=Object.prototype.propertyIsEnumerable,c=(e,t,r)=>t in e?a(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,d=(e,t)=>{for(var r in t||(t={}))l.call(t,r)&&c(e,r,t[r]);if(s)for(var r of s(t))o.call(t,r)&&c(e,r,t[r]);return e};function u(e){var t=e,{className:r=i.tableHeaderTitle,children:a}=t,c=((e,t)=>{var r={};for(var n in e)l.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&s)for(var n of s(e))t.indexOf(n)<0&&o.call(e,n)&&(r[n]=e[n]);return r})(t,["className","children"]);return n.createElement("span",d(d({},c),{className:r}),a)}},9153:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>fP});var n=r(67294),i=r(69605),a=r(26636),l=r(74309),s=r(2200),o=r(37703),c=r(76249),d=r(81079),u=r(45399),m=r(52331),p=r(48523),y=r(86953),h=r(4844),v=r(27082),f=r(84936),b=r(40875),E=r(15042),g=r(41538),P=r(87803),I=r(31235);const Z=function(){const e=window.location.hash.replace("#!","");return(0,n.useMemo)((()=>{const{params:t}=f.Z.parseUri(e);return t}),[e])};var w=r(24906),C=r(5562),D=r(87684),S=r(55669);function O({className:e}){return n.createElement(S.Z,{className:e,description:(0,C.Z)("We're having trouble finding this page. It might have been deleted"),title:(0,C.Z)("Not found")},n.createElement(D.Z,{to:"#"},(0,C.Z)("Go Home")))}var T,M,N=r(57138),k=r(45593),R=r(19698),A=r(6339),x=r(48420),L=r(17331),j=r(76512),F=r(19595),G=r(25221),H=r(68809),U=r(80367),V=r(7203),B=r(47124),K=r(50710),z=r(17524),W=r(37280),_=r(76950),q=r(52026),$=r(22222);(M=T||(T={})).Equal="=",M.NotEqual="!=",M.DoubleEqual="==",M.NotDoubleEqual="!==",M.GreaterThanOrEqual=">=",M.LessThanOrEqual="<=",M.GreaterThanGreaterThanOrEqual=">>=",M.LessThanLessThanOrEqual="<<=";const Q=T;var Y=r(20272),X=r(2098),J=Object.defineProperty,ee=Object.prototype.hasOwnProperty,te=Object.getOwnPropertySymbols,re=Object.prototype.propertyIsEnumerable,ne=(e,t,r)=>t in e?J(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,ie=(e,t)=>{for(var r in t||(t={}))ee.call(t,r)&&ne(e,r,t[r]);if(te)for(var r of te(t))re.call(t,r)&&ne(e,r,t[r]);return e};const ae=function(e,t){const r=[...e];if(t.filter.filterType===X.H_.Boolean){const e=r.findIndex((e=>e.filter.filter===t.filter.filter)),n=-1===e?0:e,i=ie(ie({},t),{value:"string"==typeof t.value?"1"===t.value:t.value});-1===e?r.push(i):r.splice(n,1,i)}else r.find((e=>e.filter.filter===t.filter.filter&&e.value===t.value))||r.push(t);return r};function le(e){const t=(0,Y._2)(Q).find((t=>Q[t]===e));return t?Q[t]:void 0}const se=function(e,t){if(!(null==t?void 0:t.Filter))return{strippedKey:e,filterRules:[]};const r=t.Filter,{params:n,pathname:i}=f.Z.parseUri(e,{decoder:e=>e});let a=[];for(const e in n)if(n.hasOwnProperty(e)){let t=a;const i=n[e],l=r.find((t=>e.startsWith(t.filter)));if(!l)continue;const s=le(`${e.substr(l.filter.length)}=`);if(!s)continue;"string"==typeof i?t=ae(t,{filter:l,operator:s,value:i}):Array.isArray(i)&&(t=i.reduce(((e,t)=>"string"!=typeof t?e:ae(e,{filter:l,operator:s,value:t})),t)),a!==t&&(a=t,delete n[e])}return{strippedKey:f.Z.join(i,n,{stringifyOptions:{encode:!1}}),filterRules:a}};var oe=r(84893),ce=r(49228);const de=(0,$.P1)(ce.Z,(e=>e.directory)),ue=(0,$.P1)(de,(e=>e.meta)),me=(0,$.P1)(ue,(e=>e?(0,oe.Z)(e):void 0)),pe=function(e){return(0,$.P1)(me,(t=>e?se(e,t):void 0))};var ye=Object.defineProperty,he=Object.prototype.hasOwnProperty,ve=Object.getOwnPropertySymbols,fe=Object.prototype.propertyIsEnumerable,be=(e,t,r)=>t in e?ye(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Ee=(e,t)=>{for(var r in t||(t={}))he.call(t,r)&&be(e,r,t[r]);if(ve)for(var r of ve(t))fe.call(t,r)&&be(e,r,t[r]);return e};let ge,Pe;function Ie(e,t=window.location.hash){const r=function(e){if(ge===e)return Pe;const t=e.split("?"),r=t.length>1?t[1]:void 0,n=r?f.Z.parseParams(r):{};return ge=e,Pe={url:t[0],params:n},Pe}(t);return f.Z.join(r.url,Ee(Ee({},r.params),e))}var Ze=r(5513);const we=function(e){const t=(0,o.I0)();return(0,n.useCallback)((r=>{const n=r.currentTarget.getAttribute("href");n&&(0===r.button||r.touches)&&(r.stopPropagation(),t((0,Ze.c4)({pathname:n,replace:!0}))),null==e||e(r)}),[t,e])};var Ce=r(18039);function De({className:e,directoryKey:t,selectedPivot:r}){const[i,a,l]=(0,I.c9)(),s=z.wB(a.identifier,z.Ll),c=(0,n.useMemo)((()=>(0,q.Z)(i,a)),[a,i]),d=!!(0,o.v9)(c),u=(0,_.Z)(i,l),m=(0,n.useMemo)((()=>pe(t)),[t]),p=(0,o.v9)(me),y=(0,o.v9)(m),h=we();return"vod.watchlist"===(null==r?void 0:r.id)?n.createElement(H.Z,{className:e,description:(0,C.Z)("You can add movies and shows to your Watchlist to catch up on later. Once you finish watching an item in the list, or mark it as watched it will automatically be removed from the list."),icon:n.createElement("div",{className:"EmptyDirectoryPageContent-watchlistIcon-29XH5H"},n.createElement(K.KPC,null)),title:(0,C.Z)("Watchlist")}):"shared.items"===(null==r?void 0:r.id)?n.createElement(H.Z,{className:e,icon:n.createElement(K._93,null),title:(0,C.Z)("There are no shared items of this type")}):(null==y?void 0:y.filterRules.length)?n.createElement(H.Z,{description:(0,C.Z)("Use the menu above to change the active filter"),icon:(null==l?void 0:l.type)?n.createElement(W.Z,{type:l.type}):void 0,title:(0,C.Z)("The active filter has no matches")},n.createElement(D.Z,{kind:B.Z.Primary,to:Ie({key:y.strippedKey}),onPress:h},(0,C.Z)("Clear filter"))):s?d?n.createElement(H.Z,{className:e,description:(0,C.Z)("Hang tight while we download all the data for what's on"),icon:n.createElement(K.UUM,null),title:(0,C.Z)("We're now building your Guide")}):n.createElement(H.Z,{className:e,description:(0,C.Z)("Please verify your channel mappings and refresh the Guide"),icon:n.createElement(K.UUM,null),title:(0,C.Z)("Your Guide is empty")},n.createElement(D.Z,{kind:B.Z.Primary,to:(0,Ce.Z)(i.machineIdentifier,"manage","dvr")},(0,C.Z)("Go to DVR Settings"))):u?n.createElement(H.Z,{className:e,description:(0,C.Z)("Hang tight while we look for content"),icon:(null==l?void 0:l.type)?n.createElement(W.Z,{type:l.type}):void 0,title:l?(0,C.Z)('"{directoryTitle}" is currently being updated',{directoryTitle:l.title}):(0,C.Z)("This page is currently being updated")}):(null==p?void 0:p.type)===g.U.Folder?n.createElement(H.Z,{className:e,description:(0,C.Z)("There are no items in this folder"),icon:(null==l?void 0:l.type)?n.createElement(W.Z,{type:l.type}):void 0,title:(0,C.Z)("Empty Folder")}):n.createElement(H.Z,{className:e,description:i.isFullOwnedServer?(0,C.Z)("Expecting more? Visit the Manage Libraries page to add folders and scan library files."):null,icon:(null==l?void 0:l.type)?n.createElement(W.Z,{type:l.type}):void 0,title:l?(0,C.Z)('"{directoryTitle}" is empty',{directoryTitle:i.isCloud?null==r?void 0:r.title:l.title}):(0,C.Z)("This page is empty")},i.isFullOwnedServer?n.createElement(D.Z,{kind:B.Z.Primary,to:(0,Ce.Z)(i.machineIdentifier,"manage","libraries")},(0,C.Z)("Manage Libraries")):null)}var Se=r(88346),Oe=r(93788),Te=r(4704);const Me=function(e){const[t,r,i]=(0,I.c9)(),a=(0,n.useMemo)((()=>function(e,t,r){return z.wB(t.identifier,z.Y3)?r?(0,Oe.Z)(e,r):()=>{}:z.wB(t.identifier,z.Ll)?(0,q.Z)(e,t):()=>{}}(t,r,i)),[i,r,t]),l=!(!(0,o.v9)(a)&&!(null==i?void 0:i.refreshing)),s=(0,Te.Z)(l);(0,n.useEffect)((()=>{let t;return l?t=window.setInterval((()=>{null==e||e()}),1e4):!l&&s&&(null==e||e()),()=>{window.clearInterval(t)}}),[e,l,s])},Ne=(0,$.P1)(ce.Z,(e=>e.directory.hubsList));var ke=r(65805),Re=r(17867),Ae=r(70488),xe=r(74253),Le=r(55885),je=r(22745),Fe=r(60528),Ge=r(44352);function He(e){const{className:t,machineIdentifier:r,shouldRender:i,showButton:a}=e;return i?n.createElement("div",{className:t},n.createElement("div",{className:"ProgramGuideGracenoteMigrationBanner-messageContainer-3SDcOm"},n.createElement(Ge.Z,{className:"ProgramGuideGracenoteMigrationBanner-icon-2ofGHv"}),n.createElement("div",{className:"ProgramGuideGracenoteMigrationBanner-message-1t0IPw"},(0,C.Z)("Guide data for this DVR will no longer be updated after January 1, 2021. Please delete and recreate a new DVR and reschedule your recordings to ensure continued coverage."))),a?n.createElement(je.Z,{className:"ProgramGuideGracenoteMigrationBanner-button-2uZp-5 Button-button-2eWELt Link-link-3cHWtJ",kind:Fe.Py,to:(0,Ce.Z)(r,"manage","dvr")},(0,C.Z)("Get Started")):null):null}He.defaultProps={className:"ProgramGuideGracenoteMigrationBanner-container-3KhZOk",showButton:!0};const Ue=He,Ve=(0,o.$j)((function(){return(0,$.P1)(xe.Z,Ae.Z,(0,Le.Z)(u.lY),((e,t,r)=>{const n=z.wB(t.identifier,z.Ll),i=e.version&&(0,p.Z)(e.version,c.Z.gracenoteAttribution);return{machineIdentifier:e.machineIdentifier,shouldRender:n&&i&&r&&"Plex"===t.epgSource&&e.isFullOwnedServer}}))}))(Ue);function Be(e){return!!e&&e<=Date.now()-864e5}function Ke({children:e,hub:t}){const[,,r]=(0,I.c9)(),{metricsContextTuple:i}=(0,s.Zn)(),l=r&&t.key?(0,R.Z)(t.source,{key:t.key,pageType:a.F6.List,source:r.id,context:(0,s.VJ)(i)}):void 0;return n.createElement(x.Z,{hub:t},l?n.createElement(L.Z,{to:l},e):e)}function ze({sourceURI:e}){const t=(0,o.I0)(),[r,i]=(0,I.c9)(),{lastFetchedAt:a,sourceURI:l,hubs:s,isPopulated:c,error:d}=(0,o.v9)(Ne),u=(0,o.v9)(Re.Z),m=(0,n.useMemo)((()=>s.every((e=>!e.initialSize&&!e.more))),[s]),p=(0,n.useCallback)((()=>{t(Se.Z.actions.fetchHubsRequested({server:r,provider:i,sourceURI:e}))}),[t,i,r,e]);if((0,F.Z)({},c),Me(p),(0,n.useEffect)((()=>{c&&(Be(a)||e!==l)&&t(Se.Z.actions.resetHubs())}),[t,a,l,e,c]),(0,n.useEffect)((()=>{e!==l&&t(Se.Z.actions.fetchHubsRequested({server:r,provider:i,sourceURI:e}))}),[t,l,r,e]),(0,n.useEffect)((()=>(t(Se.Z.actions.markHubsStaleCanceled()),()=>{t(Se.Z.actions.markHubsStaleRequested())})),[t]),Be(a)||e!==l||!c&&!d)return n.createElement(H.Z,null,n.createElement(V.Z,null));if(d){const{status:e}=d;return 404===e?n.createElement(O,null):n.createElement(U.Z,null,n.createElement(D.Z,{kind:B.Z.Primary,onPress:p},(0,C.Z)("Retry")))}return c&&m?n.createElement(De,null):n.createElement(n.Fragment,null,u?n.createElement(ke.Z,null):null,n.createElement(G.Z,{className:"DirectoryHubsPageContent-pageContentScroller-PVSuQ2 PageContent-pageContentScroller-2dar0i Scroller-scroller-HAUFpl"},n.createElement(Ve,{className:"DirectoryHubsPageContent-banner-2BowCt ProgramGuideGracenoteMigrationBanner-container-3KhZOk",providerEntityID:i.entityID,serverEntityID:r.entityID}),n.createElement(j.Z,{hubComponent:A.Z,hubTitleComponent:Ke,hubs:s})))}var We=r(97838),_e=r(54304),qe=r(12415),$e=r(10692),Qe=r(76033),Ye=r(26021),Xe=r(30544),Je=r(89333),et=r(85002),tt=r(63919),rt=r(7796),nt=Object.defineProperty,it=Object.prototype.hasOwnProperty,at=Object.getOwnPropertySymbols,lt=Object.prototype.propertyIsEnumerable,st=(e,t,r)=>t in e?nt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;const ot=parseInt(rt.Z.v4PagePadding,10);function ct({className:e,items:t,totalSize:r,scrollerKey:i,smoothScroll:a,targetScrollIndex:l,onPageRequest:o,onListReady:c}){const d=(0,n.useMemo)((()=>(0,et.Z)({outerPaddingLeft:ot})),[]),u=(0,n.useCallback)((e=>n.createElement(s.ZP,{key:e.key,row:e.row},n.createElement(Je.Z,((e,t)=>{for(var r in t||(t={}))it.call(t,r)&&st(e,r,t[r]);if(at)for(var r of at(t))lt.call(t,r)&&st(e,r,t[r]);return e})({},e)))),[]);return n.createElement(tt.Z,{autoScroll:!1,cellComponentFactory:u,className:e,items:t,keyPropName:"listItemKey",layout:d,scrollerKey:i,smoothScroll:a,targetScrollIndex:l,totalSize:r,onListReady:c,onPageRequest:o})}var dt=r(39597),ut=r(26098),mt=r(47326),pt=r(54778),yt=r(82223),ht=r(50327),vt=r(46396),ft=r(94173),bt=r(52924);const Et=function(e){switch(e){case ft.oz:return 114;case ft.s4:return 64;case ft.Zp:return 74}(0,bt.Z)(!1,`Unknown aspectRatio ${e}`)};var gt=r(85180),Pt=r(11756),It=r(74901),Zt=r(77045),wt=r(11347);function Ct({metadataItem:e,style:t,cellIndex:r}){const i=Ie({key:e.key}),[a,l]=(0,Zt.Z)(),s=(0,ft.ZP)(g.U.Folder),o=(0,gt.Z)({width:Et(s),aspectRatio:s});return n.createElement(wt.Z,{ref:l,isAlternate:!!(r%2),isHovered:a,style:t},n.createElement(L.Z,{"aria-label":(0,vt.Z)(e),className:"MetadataFolderDetailsRow-underlay-NrrT8r Link-link-1Kt-hA",to:i}),n.createElement("div",{className:"MetadataFolderDetailsRow-overlay-1rpwPg"},n.createElement("div",{className:"MetadataFolderDetailsRow-posterContainer-2qxCGE"},n.createElement(Pt.Z,{style:o},n.createElement(It.Z,{height:o.height,width:o.width},n.createElement(yt.Z,null)))),n.createElement("div",{className:"MetadataFolderDetailsRow-titlesContainer-y_03JV"},n.createElement(ht.Z,{allowLink:!1,className:"MetadataFolderDetailsRow-doubleTitle-1bonfb",metadataItem:e}))))}var Dt=Object.prototype.hasOwnProperty,St=Object.getOwnPropertySymbols,Ot=Object.prototype.propertyIsEnumerable;function Tt(e){var t=e,{item:r}=t,i=((e,t)=>{var r={};for(var n in e)Dt.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&St)for(var n of St(e))t.indexOf(n)<0&&Ot.call(e,n)&&(r[n]=e[n]);return r})(t,["item"]);const a=(0,ut.Z)(null==r?void 0:r.sourceURI),l=(0,pt.Z)(i),{cellIndex:s}=i;return r?n.createElement(dt.Z,{metadataItem:r,metadataItemState:a},n.createElement(Ct,{cellIndex:s,metadataItem:r,style:l.style})):n.createElement(mt.Z,{index:s,style:l.style})}var Mt=Object.defineProperty,Nt=Object.prototype.hasOwnProperty,kt=Object.getOwnPropertySymbols,Rt=Object.prototype.propertyIsEnumerable,At=(e,t,r)=>t in e?Mt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,xt=(e,t)=>{for(var r in t||(t={}))Nt.call(t,r)&&At(e,r,t[r]);if(kt)for(var r of kt(t))Rt.call(t,r)&&At(e,r,t[r]);return e};const Lt=parseInt(rt.Z.v4PagePadding,10);function jt({className:e,items:t,totalSize:r,scrollerKey:i,smoothScroll:a,targetScrollIndex:l,onPageRequest:o,onListReady:c}){const d=(0,n.useMemo)((()=>(0,et.Z)({outerPaddingLeft:Lt})),[]),u=(0,n.useCallback)((e=>{var t;return n.createElement(s.ZP,{key:e.key,row:e.row},(null==(t=e.item)?void 0:t.isFolder)?n.createElement(Tt,xt({},e)):n.createElement(Je.Z,xt({},e)))}),[]);return n.createElement(tt.Z,{autoScroll:!1,cellComponentFactory:u,className:e,items:t,keyPropName:"listItemKey",layout:d,scrollerKey:i,smoothScroll:a,targetScrollIndex:l,totalSize:r,onListReady:c,onPageRequest:o})}var Ft=r(26512),Gt=r(41336),Ht=r(39537),Ut=r(46598),Vt=r(83701),Bt=r(65233),Kt=r(31298);var zt=Object.defineProperty,Wt=Object.prototype.hasOwnProperty,_t=Object.getOwnPropertySymbols,qt=Object.prototype.propertyIsEnumerable,$t=(e,t,r)=>t in e?zt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Qt=(e,t)=>{for(var r in t||(t={}))Wt.call(t,r)&&$t(e,r,t[r]);if(_t)for(var r of _t(t))qt.call(t,r)&&$t(e,r,t[r]);return e};const Yt=n.forwardRef(((e,t)=>{var r=e,{item:i}=r,l=((e,t)=>{var r={};for(var n in e)Wt.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&_t)for(var n of _t(e))t.indexOf(n)<0&&qt.call(e,n)&&(r[n]=e[n]);return r})(r,["item"]);const{metricsContextTuple:o}=(0,s.Zn)(),[c,d,u]=(0,I.c9)(),{containerType:m,containerSubtype:p,listStyle:y}=(0,qe.U)(),h=(0,ut.Z)(null==i?void 0:i.sourceURI),[v,f]=(0,Zt.Z)(),b=(0,pt.Z)(l),E=(0,n.useMemo)((()=>(0,ft.ZP)(m,p,{listStyle:y})),[p,m,y]),g=(0,n.useMemo)((()=>(0,gt.Z)({width:l.cellWidth,aspectRatio:E})),[E,l.cellWidth]),P=(0,Ut.Z)(Qt(Qt({},g),{server:c,provider:d,url:(null==i?void 0:i.icon)||(null==i?void 0:i.thumb)}));if(!i)return n.createElement("div",{ref:(0,Kt.Z)(t,b.cellRef),style:b.style},n.createElement(Gt.Z,{index:l.cellIndex,style:g}));const Z=(0,Ft.Z)(c,d,u,{pageType:i.type===Ht.pG.Hub?a.F6.Hub:a.F6.List,key:i.key,context:(0,s.VJ)(o)});return n.createElement(dt.Z,{metadataItem:i,metadataItemState:h},n.createElement("div",{ref:(0,Kt.Z)(t,b.cellRef),style:b.style},n.createElement(Pt.Z,{ref:f,style:g},n.createElement(Bt.Z,Qt({className:"MetadataDirectoryListItem-image-mTRNdW",fit:i.icon?Bt.k.Contain:Bt.k.Cover,src:P},g)),n.createElement(Vt.Z,{"aria-label":(0,vt.Z)(i),isHovered:v,to:Z}),i.type===Ht.pG.Directory?n.createElement("div",{className:"MetadataDirectoryListItem-titleContainer-1LwNz5"},n.createElement("span",{className:"MetadataDirectoryListItem-title-lXtaMQ"},i.title)):null)))}));var Xt=r(1392),Jt=r(87892);var er=r(75212),tr=Object.defineProperty,rr=Object.prototype.hasOwnProperty,nr=Object.getOwnPropertySymbols,ir=Object.prototype.propertyIsEnumerable,ar=(e,t,r)=>t in e?tr(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,lr=(e,t)=>{for(var r in t||(t={}))rr.call(t,r)&&ar(e,r,t[r]);if(nr)for(var r of nr(t))ir.call(t,r)&&ar(e,r,t[r]);return e};const sr=parseInt(rt.Z.v4PagePadding,10),or=parseInt(rt.Z.v4PagePaddingAlt,10),cr=parseInt(rt.Z.jumpBarGutter,10);function dr({className:e,listType:t,subtype:r,items:i,totalSize:a,scrollerKey:l,smoothScroll:c,targetScrollIndex:d,onPageRequest:u,onListReady:m}){const p=(0,o.v9)(er.Z),{containerMeta:y,listStyle:h}=(0,qe.U)(),v=(0,n.useMemo)((()=>(0,Jt.Z)({listType:t,subtype:r,columnWidth:p,listStyle:h,displayFields:null==y?void 0:y.DisplayFields,displayImages:null==y?void 0:y.DisplayImage,outerPaddingTop:or,outerPaddingBottom:or,outerPaddingRight:sr-cr})),[t,r,p,h,null==y?void 0:y.DisplayFields,null==y?void 0:y.DisplayImage]),f=(0,n.useCallback)((e=>n.createElement(s.ZP,{key:e.key,column:e.column,row:e.row},function(e){switch(e){case g.U.Directory:case g.U.Content:case g.U.Channel:return!0;default:return!1}}(t)?n.createElement(Yt,lr({},e)):n.createElement(Xt.Z,lr({},e)))),[t]);return n.createElement(tt.Z,{autoScroll:!1,cellComponentFactory:f,className:e,items:i,keyPropName:"listItemKey",layout:v,scrollerKey:l,smoothScroll:c,targetScrollIndex:d,totalSize:a,onListReady:m,onPageRequest:u})}var ur=r(52562),mr=r(69001),pr=r(13550);function yr({className:e,metadataItem:t}){const r=(0,pr.Z)(t);return r?n.createElement("span",{className:e,title:r},r):null}var hr=r(99111),vr=r(97541),fr=r(35472),br=r(1811),Er=r(96768);function gr({metadataItem:e,metadataItemState:t,style:r,cellIndex:i}){const[a,l]=(0,I.c9)(),s=(0,vr.Z)(null==e?void 0:e.sourceURI),o=(0,fr.Z)(e,"key"),c=(0,Ft.Z)(a,l,null,{key:e.key}),{hoverRef:d,actionsMenuButtonID:u,isHovered:m,isActionsPending:p,isActionsVisible:y,isActionsMenuOpen:h,onActionsMenuClose:v,onActionsMenuCloseComplete:f,onActionsMenuToggle:b}=(0,hr.Z)({server:a,provider:l,metadataItem:e,metadataItemState:t}),{type:E,subtype:g}=e,P=(0,ft.ZP)(E,g),Z=(0,gt.Z)({width:Et(P),aspectRatio:P});return n.createElement(wt.Z,{ref:d,isAlternate:!!(i%2),isHovered:m,style:r},!e.directory&&o||e.directory?n.createElement(L.Z,{"aria-label":(0,vt.Z)(e),className:"MetadataSharedItemRow-underlay-QiJf1j Link-link-1Kt-hA",to:e.directory?c:o}):null,n.createElement("div",{className:"MetadataSharedItemRow-overlay-3EdLeq"},n.createElement("div",{className:"MetadataSharedItemRow-summaryContainer-3rDPBW"},e.directory?n.createElement("div",{className:"MetadataSharedItemRow-posterContainer-32CoPK"},n.createElement(Pt.Z,{style:Z},n.createElement(It.Z,{height:Z.height,width:Z.width},n.createElement(W.Z,{type:e.type})))):n.createElement("div",{className:"MetadataSharedItemRow-playPosterContainer-qvc6kh MetadataSharedItemRow-posterContainer-32CoPK"},n.createElement(ur.Z,{aspectRatio:P,height:Z.height,isPlayButtonCard:!0,isSelectHidden:!0,metadataItem:e,metadataItemState:t,metadataTimelineState:s,playCircleClassName:"MetadataSharedItemRow-playCircle-2cnihg MetadataPosterCardActions-playCircle-IG0dwG PlayButton-playCircle-1SP-7u MetadataPosterCardCircle-cardCircle-1Qf61g",width:Z.width})),n.createElement("div",{className:"MetadataSharedItemRow-titlesContainer-2L-rwO"},n.createElement("div",{className:"MetadataSharedItemRow-titleContainer-2mrRbD"},n.createElement(yr,{className:"MetadataSharedItemRow-doubleTitle-1wLvfi MetadataSharedItemRow-title-23tq-v",metadataItem:e})),n.createElement("div",{className:"MetadataSharedItemRow-subtitle-3lDleq MetadataSharedItemRow-titleContainer-2mrRbD MetadataSharedItemRow-title-23tq-v"},function(e){if(e.directory)switch(e.type){case Ht.pG.Movie:return(0,C.Z)("Movie Library");case Ht.pG.Show:return(0,C.Z)("Show Library");case Ht.pG.Artist:return(0,C.Z)("Music Library");case Ht.pG.Photo:return(0,C.Z)("Photo Library")}return(0,br.Z)(e.type)}(e))),y&&!e.directory?n.createElement("div",{className:"MetadataSharedItemRow-actions-1ao3sV"},n.createElement(Er.Z,{className:"MetadataSharedItemRow-actionsButton-2ifXEt Link-link-1Kt-hA","data-testid":"sharedItemMoreButton",id:u,isPending:p,onPress:b})):null)),n.createElement(mr.Z,{actionsOverride:{isPlayVisible:!1,isEditVisible:!1},isOpen:h,metadataItem:e,target:u,onMenuClose:v,onMenuCloseComplete:f}))}var Pr=Object.prototype.hasOwnProperty,Ir=Object.getOwnPropertySymbols,Zr=Object.prototype.propertyIsEnumerable;function wr(e){var t=e,{item:r}=t,i=((e,t)=>{var r={};for(var n in e)Pr.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&Ir)for(var n of Ir(e))t.indexOf(n)<0&&Zr.call(e,n)&&(r[n]=e[n]);return r})(t,["item"]);const a=(0,ut.Z)(null==r?void 0:r.sourceURI),l=(0,pt.Z)(i),{cellIndex:s}=i;return r?n.createElement(dt.Z,{metadataItem:r,metadataItemState:a},n.createElement(gr,{cellIndex:s,metadataItem:r,metadataItemState:a,style:l.style})):n.createElement(mt.Z,{index:s,style:l.style})}var Cr=Object.defineProperty,Dr=Object.prototype.hasOwnProperty,Sr=Object.getOwnPropertySymbols,Or=Object.prototype.propertyIsEnumerable,Tr=(e,t,r)=>t in e?Cr(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;const Mr=parseInt(rt.Z.v4PagePadding,10);function Nr({className:e,items:t,totalSize:r,scrollerKey:i,smoothScroll:a,targetScrollIndex:l,onPageRequest:o,onListReady:c}){const d=(0,n.useMemo)((()=>(0,et.Z)({outerPaddingLeft:Mr})),[]),u=(0,n.useCallback)((e=>n.createElement(s.ZP,{key:e.key,row:e.row},n.createElement(wr,((e,t)=>{for(var r in t||(t={}))Dr.call(t,r)&&Tr(e,r,t[r]);if(Sr)for(var r of Sr(t))Or.call(t,r)&&Tr(e,r,t[r]);return e})({},e)))),[]);return n.createElement(tt.Z,{autoScroll:!1,cellComponentFactory:u,className:e,items:t,keyPropName:"listItemKey",layout:d,scrollerKey:i,smoothScroll:a,targetScrollIndex:l,totalSize:r,onListReady:c,onPageRequest:o})}var kr=r(57067),Rr=r(21480),Ar=r(4134),xr=r(91995),Lr=r(74287),jr=r(75534),Fr=r(46905),Gr=r(70449),Hr=r(71716),Ur=r(76764),Vr=r(5718),Br=r(90317),Kr=r(91169),zr=r(89328),Wr=r(77927),_r=r(83514);const qr=function(e,t){return e?e.reduce(((e,r)=>{const n=_r.ZP.find((e=>r.key===e.ascKey&&r.descKey===e.descKey));return!n||t&&!t.includes(n.key)||e.push({sort:r,tableColumn:n}),e}),[]):[]},$r=function(e){return e.active?e.activeDirection===X.Sr.Ascending?e.descKey:e.key:e.defaultDirection===X.Sr.Ascending?e.key:e.descKey};var Qr=r(55278),Yr=r(45697),Xr=r.n(Yr),Jr=r(17845);function en(e){const t=e["aria-label"],r=e.className,i=e.style,a={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",id:"plex-icon-table-columns"};a["aria-hidden"]=!t,a.style=i,a.className=Jr.Z.plexIcon+(r?" "+r:"");const l=[n.createElement.apply(n,["path",{clipRule:"evenodd",d:"M0 0H14V48H0V0ZM25 0H31V48H25V0ZM48 0H42V48H48V0Z"}].concat([]))];return t&&l.unshift(n.createElement("title",null,t)),n.createElement.apply(n,["svg",a].concat(l))}en.propTypes={"aria-label":Xr().string,className:Xr().string,style:Xr().object};const tn=en;var rn=Object.defineProperty,nn=Object.prototype.hasOwnProperty,an=Object.getOwnPropertySymbols,ln=Object.prototype.propertyIsEnumerable,sn=(e,t,r)=>t in e?rn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,on=(e,t)=>{for(var r in t||(t={}))nn.call(t,r)&&sn(e,r,t[r]);if(an)for(var r of an(t))ln.call(t,r)&&sn(e,r,t[r]);return e};const cn={placement:"top-start",modifiers:[{name:"offset",options:{offset:[5]}}]};function dn({className:e="DirectoryListTableHeader-tableHeader-3NIHYz TableHeader-tableHeader-1uylmm",width:t,activeTableColumnSorts:r,typeKeySourceURI:i,sorts:a}){const l=(0,o.I0)(),s=(0,jr.Z)(),c=(0,Fr.Z)(),{containerKey:d}=(0,qe.U)(),u=(0,n.useMemo)((()=>qr(a)),[a]),m=(0,n.useMemo)((()=>(0,Wr.Z)("directoryTableColumns")),[]),p=(0,o.v9)(m),y=(0,n.useCallback)((e=>{const t=function(e,t){const r=new Set(t.map((({tableColumn:e})=>e.key)));return r.has(e)?r.delete(e):r.add(e),Array.from(r)}(e,r);if(t.length<1)return;const n=on(on({},p),{[i]:t});(0,v.c9)((()=>{l((0,Ar.LN)({directoryTableColumns:n}))}))}),[r,p,i,l]);return n.createElement(Hr.Z,{className:e,style:{width:t}},n.createElement(L.Z,{"aria-label":(0,C.Z)("Change Columns"),className:"DirectoryListTableHeader-columnMenuButton-5Zq8AZ Link-link-1Kt-hA",id:s,size:zr.Z.Medium,onPress:c.onToggle},n.createElement(tn,null),n.createElement(xr.Z,{direction:c.isOpen?Kr.Z.Up:Kr.Z.Down,size:zr.Z.Medium})),r.map((({tableColumn:e,sort:t},r)=>n.createElement(Vr.Z,{key:e.key,style:e.style,to:Ie({key:f.Z.join(d,{sort:$r(t)},{parseParams:!0})})},n.createElement(Ur.Z,{activeClassName:0===r?"DirectoryListTableHeader-firstActiveTableHeaderCell-ju73Bk DirectoryListTableHeader-firstTableHeaderCell-2CPLdo DirectoryListTableHeader-tableHeaderCell-2am2RM TableHeaderCell-tableHeaderCell-36KGxp TableCell-tableCell-3eVBRq DirectoryListTableHeader-activeTableHeaderCell-2ygdf0 DirectoryListTableHeader-tableHeaderCell-2am2RM TableHeaderCell-tableHeaderCell-36KGxp TableCell-tableCell-3eVBRq":"DirectoryListTableHeader-activeTableHeaderCell-2ygdf0 DirectoryListTableHeader-tableHeaderCell-2am2RM TableHeaderCell-tableHeaderCell-36KGxp TableCell-tableCell-3eVBRq",className:0===r?"DirectoryListTableHeader-firstTableHeaderCell-2CPLdo DirectoryListTableHeader-tableHeaderCell-2am2RM TableHeaderCell-tableHeaderCell-36KGxp TableCell-tableCell-3eVBRq":"DirectoryListTableHeader-tableHeaderCell-2am2RM TableHeaderCell-tableHeaderCell-36KGxp TableCell-tableCell-3eVBRq",isActive:t.active},n.createElement(Br.Z,{title:t.title},t.title),t.active?n.createElement(Gr.Z,{isAscending:t.activeDirection===X.Sr.Ascending}):null)))),n.createElement(Ur.Z,{className:"DirectoryListTableHeader-actionsTableHeaderCell-2XEWrm DirectoryListTableHeader-tableHeaderCell-2am2RM TableHeaderCell-tableHeaderCell-36KGxp TableCell-tableCell-3eVBRq"}),n.createElement(Lr.Z,{isOpen:c.isOpen,options:cn,target:s,onMenuClose:c.onClose},u.map((({sort:e,tableColumn:t})=>{const i=r.find((({tableColumn:e})=>e===t));return n.createElement(Qr.Z,{key:t.key,isSelected:!!i,value:t.key,onSelect:y},e.title)}))))}const un=function(e,t){return(0,$.P1)(function(e,t,r){return(0,$.P1)((0,Wr.Z)("directoryTableColumns"),(r=>{if(!e)return[];const n=r[e];if(n)return n;switch(t){case g.U.Movie:return[_r.TN.key,_r.ty.key];case g.U.Show:return[_r.TN.key];case g.U.Season:return[_r.D0.key,_r.Zv.key];case g.U.Episode:return[_r.TN.key,_r.i4.key];case g.U.Artist:return[_r.TN.key];case g.U.Album:return[_r.TN.key,_r.c9.key,_r.ty.key];case g.U.Track:return[_r.TN.key,_r.Dk.key,_r.vy.key,_r.x9.key]}return[_r.TN.key]}))}(e,null==t?void 0:t.type,null==t||t.subtype),(e=>(null==t?void 0:t.Sort)?qr(t.Sort,e):[]))};var mn=Object.defineProperty,pn=Object.prototype.hasOwnProperty,yn=Object.getOwnPropertySymbols,hn=Object.prototype.propertyIsEnumerable,vn=(e,t,r)=>t in e?mn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;const fn=parseInt(rt.Z.v4PagePadding,10),bn=parseInt(rt.Z.actionsCellWidth,10),En=parseInt(rt.Z.playCellWidth,10);function gn({className:e,activeType:t,items:r,totalSize:i,smoothScroll:a,scrollerKey:l,targetScrollIndex:c,onPageRequest:d,onListReady:u}){const[m,p]=(0,I.c9)(),h=(0,y.Z)({serverIdentifier:m.machineIdentifier,providerIdentifier:null==p?void 0:p.identifier}),v=t?`${h}${t.key}`:void 0,f=(0,n.useMemo)((()=>un(v,t)),[t,v]),b=(0,o.v9)(f),E=(0,n.useMemo)((()=>b.reduce(((e,{tableColumn:t})=>e+t.style.width),En+bn)),[b]),g=(0,n.useMemo)((()=>(0,Rr.Z)({overscan:1,outerPaddingRight:0,rowWidth:E})),[E]),P=(0,n.useCallback)((e=>(null==t?void 0:t.Sort)&&v?n.createElement(dn,{activeTableColumnSorts:b,sorts:t.Sort,typeKeySourceURI:v,width:Math.max(fn+E,e.width)}):null),[E,t,v,b]),Z=(0,n.useCallback)((e=>n.createElement(s.ZP,{key:e.key,row:e.row},n.createElement(kr.Z,((e,t)=>{for(var r in t||(t={}))pn.call(t,r)&&vn(e,r,t[r]);if(yn)for(var r of yn(t))hn.call(t,r)&&vn(e,r,t[r]);return e})({tableColumns:b.map((({tableColumn:e})=>e))},e)))),[b]);return n.createElement(tt.Z,{autoScroll:!1,cellComponentFactory:Z,className:e,items:r,keyPropName:"listItemKey",layout:g,renderAboveList:P,scrollDirection:N.I.Omni,scrollerKey:l,smoothScroll:a,targetScrollIndex:c,totalSize:i,onListReady:u,onPageRequest:d})}var Pn=r(32765);function In({className:e,listType:t,subtype:r,activeType:i,items:a,totalSize:l,scrollerKey:s,smoothScroll:o,targetScrollIndex:c,onPageRequest:d,onListReady:u}){const{listStyle:m}=(0,qe.U)(),p=function(e){switch(e){case g.n.Grid:return dr;case g.n.Details:return ct;case g.n.Table:return gn;case g.n.SharedItems:return Nr;case g.n.Folder:return jt}throw new Error("Failed to  map the directory list style to a list component. Check `selectDirectoryListStyle` for list style options")}(m);return n.createElement(Pn.ZP,{items:a},n.createElement(p,{activeType:i,className:e,items:a,listType:t,scrollerKey:s,smoothScroll:o,subtype:r,targetScrollIndex:c,totalSize:l,onListReady:u,onPageRequest:d}))}var Zn=r(88050),wn=r(53851);const Cn={button:"SplitButton-button-3eRVuA",mainButton:"SplitButton-mainButton-31TPzq",menuButton:"SplitButton-menuButton-3-6qjW"};var Dn=Object.defineProperty,Sn=Object.prototype.hasOwnProperty,On=Object.getOwnPropertySymbols,Tn=Object.prototype.propertyIsEnumerable,Mn=(e,t,r)=>t in e?Dn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Nn=(e,t)=>{for(var r in t||(t={}))Sn.call(t,r)&&Mn(e,r,t[r]);if(On)for(var r of On(t))Tn.call(t,r)&&Mn(e,r,t[r]);return e};const kn=function(e){const t=e,{className:r=Cn.button,ariaLabel:i,label:a,menuSize:l,children:s,onPress:o}=t,c=((e,t)=>{var r={};for(var n in e)Sn.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&On)for(var n of On(e))t.indexOf(n)<0&&Tn.call(e,n)&&(r[n]=e[n]);return r})(t,["className","ariaLabel","label","menuSize","children","onPress"]),d=i||a,[u]=(0,n.useState)((0,wn.Z)()),[m,p]=(0,n.useState)(!1),y=(0,n.useCallback)((()=>p(!m)),[m]),h=n.Children.only(s);return n.createElement("div",{className:r,id:u},n.createElement(je.Z,Nn({"aria-label":d,className:Cn.mainButton,onPress:o},c),a),n.createElement(je.Z,Nn({className:Cn.menuButton,onPress:y},c),n.createElement(xr.Z,null)),n.createElement(Lr.Z,{isOpen:m,size:l,target:u,onMenuClose:y},n.cloneElement(h,{onMenuClose:y,onMenuOpen:y})))};var Rn=r(19376),An=r(56724);function xn(e){const t=(0,An.Z)(e.type);return t?(0,Rn.Z)(t,e.subtype):void 0}var Ln=r(79687);const jn={[g.U.Movie]:["isAddToCollectionVisible","isAddToPlaylistVisible","isAddToQueueVisible","isOptimizeVisible","isPlayVisible","isShuffleVisible"],[g.U.Show]:["isAddToCatalogVisible","isAddToCollectionVisible","isAddToPlaylistVisible","isAddToQueueVisible","isOptimizeVisible","isPlayVisible","isShuffleVisible"],[g.U.Season]:["isAddToCollectionVisible","isAddToPlaylistVisible","isAddToQueueVisible","isOptimizeVisible","isPlayVisible","isShuffleVisible"],[g.U.Episode]:["isAddToCollectionVisible","isAddToPlaylistVisible","isAddToQueueVisible","isOptimizeVisible","isPlayVisible","isShuffleVisible"],[g.U.Artist]:["isAddToCollectionVisible","isAddToPlaylistVisible","isAddToQueueVisible","isPlayVisible","isShuffleVisible"],[g.U.Album]:["isAddToCollectionVisible","isAddToPlaylistVisible","isAddToQueueVisible","isPlayVisible","isShuffleVisible"],[g.U.Track]:["isAddToCatalogVisible","isAddToCollectionVisible","isAddToPlaylistVisible","isAddToQueueVisible","isPlayVisible","isShuffleVisible"],[g.U.PhotoAlbum]:["isAddToPlaylistVisible","isPlayVisible","isShuffleVisible"],[g.U.Photo]:["isAddToPlaylistVisible","isPlayVisible","isShuffleVisible"],[g.U.Author]:["isAddToCollectionVisible","isAddToPlaylistVisible","isAddToQueueVisible","isPlayVisible","isShuffleVisible"],[g.U.Audiobook]:["isAddToCollectionVisible","isAddToPlaylistVisible","isAddToQueueVisible","isPlayVisible","isShuffleVisible"],[g.U.Chapter]:["isAddToCatalogVisible","isAddToCollectionVisible","isAddToPlaylistVisible","isAddToQueueVisible","isPlayVisible","isShuffleVisible"]},Fn=({provider:e})=>!!(0,P.Z)(e,a.zW.PlayQueue),Gn=({provider:e,activeType:t})=>!!(0,P.Z)(e,a.zW.Playlist)&&(null==t?void 0:t.type)!==g.U.Game,Hn=({provider:e,activeType:t})=>!!(0,P.Z)(e,a.zW.Collection)&&!!(0,P.Z)(e,a.zW.Manage)&&(null==t?void 0:t.type)!==g.U.Game&&(null==t?void 0:t.type)!==g.U.Photo,Un={isAddToCollectionVisible:Hn,isAddToPlaylistVisible:Gn,isAddToQueueVisible:Fn,isPlayVisible:Fn,isShuffleVisible:Fn,isOptimizeVisible:({server:e,provider:t})=>(0,Ln.Z)(t)&&e.isFullOwnedServer&&e.transcoderVideo,isAddToCatalogVisible:({provider:e})=>z.wB(e.identifier,z.HG)};var Vn,Bn,Kn=r(76418),zn=r(8727),Wn=r(72071),_n=r(84320),qn=r(38170),$n=r(14700),Qn=r(9119),Yn=r(92747),Xn=r(37791);(Bn=Vn||(Vn={})).Or="or",Bn.And="and";var Jn=r(11412);const ei=function({className:e="FieldRatingInput-inputContainer-21X4K5",value:t,onChange:r}){const i=(0,n.useCallback)((e=>{r(0===e?"-1":String(2*e))}),[r]);return n.createElement("div",{className:e},n.createElement(Jn.Z,{value:""===t?-1:parseInt(t,10)/2,onRatingChange:i}))};var ti=r(82367);const ri={select:"FilterSelectInput-select-jUlJSH Select-select-_CcenL"};var ni=Object.defineProperty,ii=Object.prototype.hasOwnProperty,ai=Object.getOwnPropertySymbols,li=Object.prototype.propertyIsEnumerable,si=(e,t,r)=>t in e?ni(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;const oi=function(e){var t=e,{selectClassName:r=ri.select,size:i=zr.Z.Small}=t,a=((e,t)=>{var r={};for(var n in e)ii.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&ai)for(var n of ai(e))t.indexOf(n)<0&&li.call(e,n)&&(r[n]=e[n]);return r})(t,["selectClassName","size"]);return n.createElement(ti.Z,((e,t)=>{for(var r in t||(t={}))ii.call(t,r)&&si(e,r,t[r]);if(ai)for(var r of ai(t))li.call(t,r)&&si(e,r,t[r]);return e})({selectClassName:r,size:i},a))};var ci=r(77437);const di={input:"FilterTextInput-input-1w6FdB TextInput-input-2H3p8z"};var ui=Object.defineProperty,mi=Object.prototype.hasOwnProperty,pi=Object.getOwnPropertySymbols,yi=Object.prototype.propertyIsEnumerable,hi=(e,t,r)=>t in e?ui(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,vi=(e,t)=>{for(var r in t||(t={}))mi.call(t,r)&&hi(e,r,t[r]);if(pi)for(var r of pi(t))yi.call(t,r)&&hi(e,r,t[r]);return e};function fi(e){var t=e,{className:r=di.input,size:i=zr.Z.Small,initialValue:a,forwardedRef:l,onChange:s,onDebouncedChange:o}=t,c=((e,t)=>{var r={};for(var n in e)mi.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&pi)for(var n of pi(e))t.indexOf(n)<0&&yi.call(e,n)&&(r[n]=e[n]);return r})(t,["className","size","initialValue","forwardedRef","onChange","onDebouncedChange"]);const[d,u]=(0,n.useState)(a),m=(0,ci.Z)(d,250),p=(0,n.useCallback)((e=>{null==s||s(e),u(e.target.value)}),[s,u]);return(0,n.useEffect)((()=>{null==o||o(m)}),[m]),n.createElement(zn.Z,vi({ref:l,className:r,size:i,value:d,onChange:p},c))}const bi=n.forwardRef(((e,t)=>n.createElement(fi,vi(vi({},e),{forwardedRef:t})))),Ei=/^-?(\d+)([a-z]{1,3})$/,gi=function(e=""){const t=e.match(Ei);if(t){const[,e,r]=t;return{value:e,suffix:r}}return t},Pi=function({className:e="FieldRelativeDateInput-inputContainer-2JvFDP",value:t,onChange:r}){var i,a;const l=(0,n.useMemo)((()=>gi(t)),[t]),s=null!=(i=null==l?void 0:l.value)?i:"0",o=null!=(a=null==l?void 0:l.suffix)?a:"s",c=(0,n.useCallback)((e=>{r(`-${e||"0"}${o}`)}),[r,o]),d=(0,n.useCallback)((e=>{r(`-${s}${e.target.value}`)}),[r,s]);return n.createElement("div",{className:e},n.createElement(bi,{className:"FieldRelativeDateInput-textInput-13IprF FilterTextInput-input-1w6FdB TextInput-input-2H3p8z",initialValue:"0"===s?"":s,min:"0",name:"dateInput",required:!0,step:"1",type:"number",onDebouncedChange:c}),n.createElement(oi,{className:"FieldRelativeDateInput-selectInput-1dci1u Select-input-1EpAho",name:"suffixInput",value:o,onChange:d},n.createElement("option",{value:"s"},(0,C.Z)("Seconds")),n.createElement("option",{value:"m"},(0,C.Z)("Minutes")),n.createElement("option",{value:"h"},(0,C.Z)("Hours")),n.createElement("option",{value:"d"},(0,C.Z)("Days")),n.createElement("option",{value:"w"},(0,C.Z)("Weeks")),n.createElement("option",{value:"mon"},(0,C.Z)("Months")),n.createElement("option",{value:"y"},(0,C.Z)("Years"))))};var Ii=r(94184),Zi=r.n(Ii),wi=r(75277),Ci=r(82777),Di=r(73935),Si=r(73433),Oi=r(69590),Ti=r.n(Oi),Mi=function(e){return e.reduce((function(e,t){var r=t[0],n=t[1];return e[r]=n,e}),{})},Ni="undefined"!=typeof window&&window.document&&window.document.createElement?n.useLayoutEffect:n.useEffect,ki=[],Ri=r(19210),Ai=r(32129),xi=r(93502),Li=r(50875);const ji={name:"applyMaxHeight",enabled:!0,phase:"beforeWrite",requires:["maxSize"],fn({state:e,options:t}){var r;const n=null!=(r=t.offset)?r:0,{height:i}=e.modifiersData.maxSize;e.styles.popper.maxHeight=i-n+"px"}};var Fi=r(9966);const Gi={name:"maxSize",enabled:!0,phase:"main",requiresIfExists:["offset","preventOverflow","flip"],fn({state:e,name:t,options:r}){const n=(0,Fi.Z)(e,r),{x:i,y:a}=e.modifiersData.preventOverflow||{x:0,y:0},{width:l,height:s}=e.rects.popper,[o]=e.placement.split("-"),c="left"===o?"left":"right",d="top"===o?"top":"bottom";e.modifiersData[t]={width:l-n[c]-i,height:s-n[d]-a}}},Hi={name:"sameWidth",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn({state:e}){e.styles.popper.width=`${e.rects.reference.width}px`},effect({state:e}){e.elements.popper.style.width=`${e.elements.reference.offsetWidth}px`}},Ui=(0,$.P1)(ce.Z,(e=>e.advancedFilters)),Vi={searchInputContainer:"FilterOptionInput-searchInputContainer-eF2JDs",button:"FilterOptionInput-button-3f_m5y Link-link-1Kt-hA",small:"FilterOptionInput-small-2HW5NM",medium:"FilterOptionInput-medium-dTqdfU",large:"FilterOptionInput-large-1nxen7",isDisabled:"FilterOptionInput-isDisabled-8-sx3E",hasError:"FilterOptionInput-hasError-3Pk8du",menuContainer:"FilterOptionInput-menuContainer-1Dg3Vj",menu:"FilterOptionInput-menu-3x484C",loadingMenu:"FilterOptionInput-loadingMenu-2t-x_i FilterOptionInput-menu-3x484C",scroller:"FilterOptionInput-scroller-Kcf_GK Scroller-scroller-HAUFpl",input:"FilterOptionInput-input-35Cc0H FilterTextInput-input-1w6FdB TextInput-input-2H3p8z",list:"FilterOptionInput-list-1JDmpZ",listItem:"FilterOptionInput-listItem-1BUchS",listItemHighlighted:"FilterOptionInput-listItemHighlighted-1FbL5v FilterOptionInput-listItem-1BUchS"};var Bi=Object.defineProperty,Ki=Object.prototype.hasOwnProperty,zi=Object.getOwnPropertySymbols,Wi=Object.prototype.propertyIsEnumerable,_i=(e,t,r)=>t in e?Bi(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,qi=(e,t)=>{for(var r in t||(t={}))Ki.call(t,r)&&_i(e,r,t[r]);if(zi)for(var r of zi(t))Wi.call(t,r)&&_i(e,r,t[r]);return e};const $i=(0,Ri.Z)(Ai.Z.menuSpeed)/1e3,Qi={ease:"easeOut",duration:$i},Yi={ease:xi.Z.motionEasing,duration:$i},Xi={opacity:Qi,y:Yi,scale:Yi},Ji={initial:{opacity:0,y:-10,scale:.95,transition:Xi},animate:{opacity:1,y:0,scale:1,transition:Xi},exit:{opacity:0,y:10,scale:.95,transition:Xi}},ea=function({containerClassName:e=Vi.searchInputContainer,disabledClassName:t=Vi.isDisabled,errorClassName:r=Vi.hasError,buttonClassName:i=Vi.button,rule:a,size:l=zr.Z.Small,filter:s,isDisabled:c,hasError:d,onChange:u}){var m,p,y;const h=(0,o.I0)(),[v,f]=(0,I.c9)(),b=null!=(m=a.valueTitle)?m:a.value,E=(0,n.useMemo)((()=>{return e=s.key,(0,$.P1)(Ui,(t=>t.filterOptions[e]));var e}),[s.key]),g=(0,o.v9)(E),[P,Z]=(0,n.useState)(null==g?void 0:g.options),w=null!=(p=null!=P?P:null==g?void 0:g.options)?p:[],D=(0,n.useRef)(null),S=(0,n.useRef)(null),O=(0,Li.Z)(),{styles:T,attributes:M,state:k}=function(e,t,r){void 0===r&&(r={});var i=n.useRef(null),a={onFirstUpdate:r.onFirstUpdate,placement:r.placement||"bottom",strategy:r.strategy||"absolute",modifiers:r.modifiers||ki},l=n.useState({styles:{popper:{position:a.strategy,left:"0",top:"0"}},attributes:{}}),s=l[0],o=l[1],c=n.useMemo((function(){return{name:"updateState",enabled:!0,phase:"write",fn:function(e){var t=e.state,r=Object.keys(t.elements);o({styles:Mi(r.map((function(e){return[e,t.styles[e]||{}]}))),attributes:Mi(r.map((function(e){return[e,t.attributes[e]]})))})},requires:["computeStyles"]}}),[]),d=n.useMemo((function(){var e={onFirstUpdate:a.onFirstUpdate,placement:a.placement,strategy:a.strategy,modifiers:[].concat(a.modifiers,[c,{name:"applyStyles",enabled:!1}])};return Ti()(i.current,e)?i.current||e:(i.current=e,e)}),[a.onFirstUpdate,a.placement,a.strategy,a.modifiers,c]),u=n.useRef();return Ni((function(){u.current&&u.current.setOptions(d)}),[d]),Ni((function(){if(null!=e&&null!=t){var n=(r.createPopper||Si.fi)(e,t,d);return u.current=n,function(){n.destroy(),u.current=null}}}),[e,t,r.createPopper]),{state:u.current?u.current.state:null,styles:s.styles,attributes:s.attributes,update:u.current?u.current.update:null,forceUpdate:u.current?u.current.forceUpdate:null}}(D.current,S.current,{placement:"bottom-start",modifiers:(0,n.useMemo)((()=>[{name:"offset",options:{offset:[0,5]}},Hi,Gi,ji,{name:"applyMaxHeight",options:{offset:15}}]),[])}),R=(0,n.useCallback)((e=>{var t;return null!=(t=null==e?void 0:e.title)?t:""}),[]),{isOpen:A,highlightedIndex:x,getToggleButtonProps:j,getMenuProps:F,getComboboxProps:G,getInputProps:H,getItemProps:U,closeMenu:B}=(0,wi.Kb)({defaultHighlightedIndex:0,items:w,itemToString:R,initialInputValue:b,onSelectedItemChange:(0,n.useCallback)((({selectedItem:e})=>{e&&u(e.value,e.title)}),[u]),onInputValueChange:(0,n.useCallback)((({inputValue:e})=>{(null==g?void 0:g.options)&&Z(g.options.filter((t=>R(t).toLowerCase().includes(null==e?void 0:e.toLocaleLowerCase()))))}),[null==g?void 0:g.options,R]),stateReducer:(0,n.useCallback)(((e,{changes:t})=>{var r,n,i;return e.isOpen&&!t.isOpen&&(null==(r=t.selectedItem)?void 0:r.title)!==e.inputValue?qi(qi({},t),{inputValue:null!=(i=null==(n=t.selectedItem)?void 0:n.title)?i:b}):t}),[b])});return(0,n.useEffect)((()=>{(null==g?void 0:g.isPopulated)||h(_n.Z.actions.fetchFilterOptionsRequested({server:v,provider:f,filter:s}))}),[h,s,null==g?void 0:g.isPopulated,A,f,v]),(0,n.useEffect)((()=>{var e;(null==(e=null==k?void 0:k.modifiersData.hide)?void 0:e.isReferenceHidden)&&A&&B()}),[B,A,null==(y=null==k?void 0:k.modifiersData.hide)?void 0:y.isReferenceHidden]),(0,n.useEffect)((()=>{(null==g?void 0:g.options.length)&&Z(g.options)}),[null==g?void 0:g.options]),n.createElement(n.Fragment,null,n.createElement("div",qi({},G({ref:D,className:Zi()(e,c&&t,d&&r)})),n.createElement(bi,qi(qi({},H({className:Vi.input,onFocus:O,disabled:c})),{size:l})),n.createElement(L.Z,qi(qi(qi({},j({className:Zi()(i,Vi[l]),disabled:c})),M.reference),{isDisabled:c}),n.createElement(xr.Z,{direction:A?Kr.Z.Up:Kr.Z.Down,size:l}))),Di.createPortal(n.createElement("div",qi(qi({},F({className:Vi.menuContainer,style:T.popper,ref:S})),M.popper),n.createElement(Ci.M_,null,A?n.createElement(Ci.ww.div,{key:"container",animate:Ji.animate,className:(null==g?void 0:g.isPopulated)?Vi.menu:Vi.loadingMenu,exit:Ji.exit,initial:Ji.initial},(null==g?void 0:g.isPopulated)?n.createElement(N.Z,{className:Vi.scroller},n.createElement("ul",{className:Vi.list},w.length?w.map(((e,t)=>n.createElement("li",qi({key:e.key},U({className:x===t?Vi.listItemHighlighted:Vi.listItem,index:t,item:e})),e.title))):n.createElement("li",{className:Vi.listItem},(0,C.Z)("No options")))):n.createElement(V.Z,null)):null)),document.body))},ta=[Q.DoubleEqual,Q.NotDoubleEqual],ra=[Q.Equal,Q.NotEqual],na=function({rule:e,fieldType:t,fieldSubtype:r,filter:i,onChange:a}){var l;const s=(0,n.useCallback)((e=>{a(encodeURIComponent(e),e)}),[a]);if(i&&function(e,t){switch(e){case X.fS.String:return ta.includes(t.operator);default:return ra.includes(t.operator)}}(t,e))return n.createElement(ea,{filter:i,rule:e,onChange:a});switch(t){case X.fS.String:return n.createElement(bi,{initialValue:null!=(l=e.valueTitle)?l:e.value,name:"input",required:!0,type:"text",onDebouncedChange:s});case X.fS.Integer:switch(r){case X.Pi.Rating:return n.createElement(ei,{value:e.value,onChange:a})}return n.createElement(bi,{initialValue:e.value,min:"0",name:"input",required:!0,type:"number",onDebouncedChange:s});case X.fS.Date:return gi(e.value)?n.createElement(Pi,{value:e.value,onChange:a}):n.createElement(bi,{initialValue:e.value,max:"2999-12-31",name:"input",pattern:"[0-9]{4}-(0[1-9]|1[012])-(0[1-9]|1[0-9]|2[0-9]|3[01])",placeholder:"YYYY-MM-DD",required:!0,type:"date",onDebouncedChange:s})}return null};function ia(e,t,r=""){return{operator:e,title:t,defaultValue:r}}const aa=function(e){switch(e){case X.fS.Tag:case X.fS.AudioLanguage:case X.fS.SubtitleLanguage:return[ia(Q.Equal,(0,C.Z)("is")),ia(Q.NotEqual,(0,C.Z)("is not"))];case X.fS.Resolution:return[ia(Q.Equal,(0,C.Z)("is"))];case X.fS.Boolean:return[ia(Q.Equal,(0,C.Z)("is true")),ia(Q.NotEqual,(0,C.Z)("is false"))];case X.fS.Integer:return[ia(Q.Equal,(0,C.Z)("is")),ia(Q.NotEqual,(0,C.Z)("is not")),ia(Q.GreaterThanGreaterThanOrEqual,(0,C.Z)("is greater than")),ia(Q.LessThanLessThanOrEqual,(0,C.Z)("is less than"))];case X.fS.String:return[ia(Q.Equal,(0,C.Z)("contains")),ia(Q.NotEqual,(0,C.Z)("does not contain")),ia(Q.DoubleEqual,(0,C.Z)("is")),ia(Q.NotDoubleEqual,(0,C.Z)("is not")),ia(Q.LessThanOrEqual,(0,C.Z)("begins with")),ia(Q.GreaterThanOrEqual,(0,C.Z)("ends with"))];case X.fS.Date:return[ia(Q.LessThanLessThanOrEqual,(0,C.Z)("is before")),ia(Q.GreaterThanGreaterThanOrEqual,(0,C.Z)("is after")),ia(Q.GreaterThanGreaterThanOrEqual,(0,C.Z)("is in the last"),"-0s"),ia(Q.LessThanLessThanOrEqual,(0,C.Z)("is not in the last"),"-0s")]}};function la(e){const t=e["aria-label"],r=e.className,i=e.style,a={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",id:"plex-icon-subtract"};a["aria-hidden"]=!t,a.style=i,a.className=Jr.Z.plexIcon+(r?" "+r:"");const l=[n.createElement.apply(n,["path",{clipRule:"evenodd",d:"M3.42847 27.4286V20.5714H44.5713V27.4286H3.42847Z"}].concat([]))];return t&&l.unshift(n.createElement("title",null,t)),n.createElement.apply(n,["svg",a].concat(l))}la.propTypes={"aria-label":Xr().string,className:Xr().string,style:Xr().object};const sa=la,oa="AdvancedFilterOption-inputContainer-2UiVjE";var ca=Object.defineProperty,da=Object.prototype.hasOwnProperty,ua=Object.getOwnPropertySymbols,ma=Object.prototype.propertyIsEnumerable,pa=(e,t,r)=>t in e?ca(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,ya=(e,t)=>{for(var r in t||(t={}))da.call(t,r)&&pa(e,r,t[r]);if(ua)for(var r of ua(t))ma.call(t,r)&&pa(e,r,t[r]);return e};const ha=function({className:e="AdvancedFilterOption-container-2ImoTr",rowState:t,rule:r,isRemoveDisabled:i,onChange:a,onRemoveRule:l}){const{type:s,subtype:o}=t.fieldTypesByFieldKey[r.field],c=t.filterKeysByFieldKey[r.field],d=!!gi(r.value),u=(0,n.useMemo)((()=>aa(s)),[s]),m=(0,n.useMemo)((()=>t.allTypeFilters.find((({key:e})=>e===c))),[c,t.allTypeFilters]),p=(0,n.useMemo)((()=>{if(s===X.fS.Date){const e=u.find((e=>e.operator===r.operator&&d&&e.defaultValue));if(e)return e}return u.find((e=>e.operator===r.operator))||u[0]}),[u,r.operator,d,s]),y=(0,n.useMemo)((()=>u.indexOf(p)),[u,p]),h=(0,n.useCallback)((e=>{const n=e.target.value,i=t.allTypeFields.find((e=>e.key===n));if(!i)throw new Error(`${n} did not match to any type field`);const l=t.fieldTypesByFieldKey[i.key],[s]=aa(l.type);a(ya(ya({},r),{field:i.key,fieldTitle:i.title,operator:s.operator,value:l.type===X.fS.Boolean?"1":"",valueTitle:void 0}))}),[a,t.allTypeFields,t.fieldTypesByFieldKey,r]),v=(0,n.useCallback)((e=>{const t=parseInt(e.target.value,10),n=u[t];s===X.fS.Date?a(ya(ya({},r),{operator:n.operator,value:n.defaultValue,valueTitle:void 0})):a(ya(ya({},r),{operator:n.operator}))}),[a,u,r,s]),f=(0,n.useCallback)(((e,t)=>{a(ya(ya({},r),{value:e,valueTitle:t}))}),[a,r]);return n.createElement("div",{className:e},n.createElement("div",{className:oa},n.createElement(oi,{name:"field",value:r.field,onChange:h},t.allTypeFields.map(((e,t)=>n.createElement("option",{key:`${e.key}-${t}`,value:e.key},e.title))))),n.createElement("div",{className:oa},n.createElement(oi,{name:"operator",value:String(y),onChange:v},u.map(((e,t)=>n.createElement("option",{key:t,value:t},e.title))))),s!==X.fS.Boolean?n.createElement("div",{className:oa},n.createElement(na,{fieldSubtype:o,fieldType:s,filter:m,rule:r,onChange:f})):null,n.createElement(Yn.Z,{icon:sa,isDisabled:i,size:zr.Z.Small,title:(0,C.Z)("Remove Rule"),onPress:l}))};var va=Object.defineProperty,fa=Object.prototype.hasOwnProperty,ba=Object.getOwnPropertySymbols,Ea=Object.prototype.propertyIsEnumerable,ga=(e,t,r)=>t in e?va(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Pa=(e,t)=>{for(var r in t||(t={}))fa.call(t,r)&&ga(e,r,t[r]);if(ba)for(var r of ba(t))Ea.call(t,r)&&ga(e,r,t[r]);return e};function Ia(e,t=function(e,t=[]){return{type:"composite",operator:e,Rule:t}}(Vn.And)){return Pa(Pa({},t),{Rule:[...t.Rule,...e]})}const Za=function(e){const[t]=e.allTypeFields,[r]=aa(t.type);return{field:t.key,fieldTitle:t.title,value:"",operator:r.operator}};var wa=r(46391);var Ca=Object.defineProperty,Da=Object.prototype.hasOwnProperty,Sa=Object.getOwnPropertySymbols,Oa=Object.prototype.propertyIsEnumerable,Ta=(e,t,r)=>t in e?Ca(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Ma=(e,t)=>{for(var r in t||(t={}))Da.call(t,r)&&Ta(e,r,t[r]);if(Sa)for(var r of Sa(t))Oa.call(t,r)&&Ta(e,r,t[r]);return e};function Na(e){const t=(0,Y.su)(Vn).find((t=>t===e));if(t)return t;throw new Error(`'getOperatorValue' received an unknown value '${e}'`)}const ka=function e({className:t="AdvancedFilterGroup-container-Umsl0L",rowState:r,compositeRule:i,onRemoveGroup:a,onChange:l}){const s=(0,jr.Z)(),o=(0,Fr.Z)(),c=i.Rule.length,d=(0,n.useCallback)((e=>{l(Ma(Ma({},i),{operator:Na(e.target.value)}))}),[i,l]),u=(0,n.useCallback)((e=>()=>{const t=Array.from(i.Rule),[r]=t.splice(e,1);t.length<1&&"composite"!==r.type||l(Ma(Ma({},i),{Rule:t}))}),[i,l]),m=(0,n.useCallback)((()=>{const e=Array.from(i.Rule);e.unshift(Za(r)),l(Ma(Ma({},i),{Rule:e}))}),[i,l,r]),p=(0,n.useCallback)((()=>{const e=Array.from(i.Rule);e.unshift(Ia([Za(r)])),l(Ma(Ma({},i),{Rule:e}))}),[i,l,r]),y=(0,n.useCallback)((e=>t=>{const r=Array.from(i.Rule);r.splice(e,1,t),l(Ma(Ma({},i),{Rule:r}))}),[i,l]);return n.createElement("div",{className:t},n.createElement("div",{className:"AdvancedFilterGroup-inputContainer-TwjUbL"},n.createElement(oi,{name:"group",value:i.operator,onChange:d},n.createElement("option",{value:"and"},(0,C.Z)("Match all of the following")),n.createElement("option",{value:"or"},(0,C.Z)("Match any of the following")))),n.createElement(Xn.Z,{className:"AdvancedFilterGroup-buttons-2oiWm_ ActionButtonBar-bar-28zTmt"},n.createElement(Yn.Z,{icon:qn.Z,size:zr.Z.Small,title:(0,C.Z)("Add Rule"),onPress:m}),n.createElement(L.Z,{"aria-label":(0,C.Z)("More Actions"),id:s,onPress:o.onToggle},n.createElement(wa.Z,null)),n.createElement(Lr.Z,{isOpen:o.isOpen,target:s,onMenuClose:o.onClose},n.createElement($n.Z,{onPress:(0,Qn.Z)(p,o.onClose)},(0,C.Z)("Add Rule Group")),a?n.createElement($n.Z,{onPress:(0,Qn.Z)(a,o.onClose)},(0,C.Z)("Remove Rule Group")):null)),n.createElement("div",{className:"AdvancedFilterGroup-rules-1oFOJN"},i.Rule.map(((t,a)=>"composite"===t.type?n.createElement(e,{key:`${t.operator}-${a}`,compositeRule:t,rowState:r,onChange:y(a),onRemoveGroup:u(a)}):n.createElement(ha,{key:`${t.field}-${c}-${a}`,isRemoveDisabled:1===i.Rule.length,rowState:r,rule:t,onChange:y(a),onRemoveRule:u(a)})))))},Ra=new RegExp(`(${["duration","mediaSize","mediaBitrate","show.writer","show.producer","show.director"].join("|")})$`),Aa=function({meta:e,rules:t,onChange:r}){const i=(0,n.useMemo)((()=>{var t;return(null!=(t=e.Type)?t:[]).reduce(((e,t)=>(t.Field&&e.push(...t.Field.filter((e=>!Ra.test(e.key)))),e)),[])}),[e.Type]),a=(0,n.useMemo)((()=>{var t;return(null!=(t=e.Type)?t:[]).reduce(((e,t)=>(t.Filter&&e.push(...t.Filter),e)),[])}),[e.Type]),l=(0,n.useMemo)((()=>{var t;const r=null!=(t=e.Type)?t:[],n=r.filter((e=>e.type!==g.U.Folder)).length>1;return r.reduce(((e,t)=>(t.Filter&&t.Filter.forEach((r=>{if(r.filterType!==X.H_.Boolean){const i=n?`${t.type}.${r.filter}`:r.filter;e[i]=r.key}})),e)),{})}),[e.Type]),s=(0,n.useMemo)((()=>i.reduce(((e,t)=>(e[t.key]={type:t.type,subtype:t.subType},e)),{})),[i]),o=(0,n.useMemo)((()=>({allTypeFilters:a,allTypeFields:i,fieldTypesByFieldKey:s,filterKeysByFieldKey:l})),[i,a,s,l]),c=(0,n.useMemo)((()=>t?"composite"!==t.type?Ia([t]):t:Ia([Za(o)])),[t,o]);return n.createElement(ka,{compositeRule:c,rowState:o,onChange:r})},xa=(0,$.P1)(Ui,(e=>e.curatedItem)),La=(0,$.P1)(Ui,(e=>e.queryParse));function ja(e,t=!1){const r=[];if("composite"===e.type){const n=e.Rule;for(let e=0,t=n.length;e<t;e++){const t=n[e];(t.type||""!==t.value)&&(ja(t,!0).length&&r.push(ja(t,!0)))}const i=r.length;let a=i-1;for(;a>0;)r.splice(a,0,`${e.operator}=1`),a-=1;r.length&&(t||i>1&&e.operator===Vn.Or)&&(r.unshift("push=1"),r.push("pop=1"))}else{if(""===e.value)throw new Error("Tried to encode an empty value");const t=e.operator.slice(0,-1);r.push(`${e.field}${encodeURIComponent(t)}=${e.value}`)}return r.flat(2)}function Fa(e){return ja(e).join("&")}var Ga=r(86945),Ha=r(60179),Ua=r(83492),Va=r(96338),Ba=r(94848),Ka=r(6638);const za=function({className:e="DirectoryListAdvancedFilters-container-1ZUPk0",directoryKey:t,totalSize:r,meta:i}){var a,l,s,c,d,u;const m=(0,o.I0)(),[p,h,b]=(0,I.c9)(),E=(0,y.Z)({serverIdentifier:p.machineIdentifier,providerIdentifier:h.identifier}),g=(0,n.useMemo)((()=>f.Z.parseUri(t)),[t]),P=`${E}${t}`,w=(0,o.v9)(Re.Z),{query:D,isPopulated:S}=(0,o.v9)(La),O=(0,o.v9)(xa),T=(0,n.useMemo)((()=>(0,Ba.Z)(P)),[P]),M=(0,o.v9)(T),k=null!=(a=null==M?void 0:M.isSaving)&&a,R=(0,Te.Z)(k),A=(0,oe.Z)(i),x=Z(),L=x.curatedKey?We.Z.parseString(x.curatedKey):void 0,j=(0,Wn.Z)({identifier:h.metricsIdentifier,mode:"list",type:null==A?void 0:A.type,itemCount:r}),[F,G]=(0,n.useState)(null!=(l=We.Z.parseString(g.params.limit))?l:""),H=(0,ci.Z)(F,250),U=(0,Fr.Z)(),K=(0,Fr.Z)(),z=(0,Fr.Z)(),[W,_]=(0,n.useState)(!1),q=A?(0,An.Z)(A.type):void 0,$=A?xn(A):void 0,Q=Gn({server:p,provider:h,activeType:A}),Y=Hn({server:p,provider:h,activeType:A}),X=Y&&$===Ht.DD.Video,J=(0,n.useCallback)((()=>{j({action:Zn.DK,mode:"shortcut"})}),[j]),ee=(0,n.useCallback)((()=>{j({action:Zn.uf,mode:"shortcut"})}),[j]),te=(0,n.useCallback)((()=>{_(!0),U.onOpen()}),[U]),re=(0,n.useCallback)((()=>{_(!1),U.onClose()}),[U]),ne=(0,n.useCallback)((()=>{_(!0),K.onOpen()}),[K]),ie=(0,n.useCallback)((()=>{_(!1),K.onClose()}),[K]),ae=(0,n.useCallback)((()=>{L&&(0,v.c9)((()=>{m(Va.Z.actions.saveRequested({server:p,provider:h,key:L,sourceURI:P,isSmart:!0}))}))}),[L,m,h,p,P]),le=(0,n.useCallback)((e=>{const t=e.target.value;G(t)}),[]),se=(0,n.useCallback)((e=>{m(_n.Z.actions.updateQuery({rules:e}))}),[m]);(0,n.useEffect)((()=>{var e;if(!(null==D?void 0:D.Rule)||"composite"===(null==(e=null==D?void 0:D.Rule)?void 0:e.type)&&D.Rule.Rule.length<1)return;const{type:r,sort:n,group:i,having:a}=g.params,l={type:r,sort:n,group:i,having:a,limit:H||void 0},s=f.Z.join(g.pathname,l),o=Fa(D.Rule),c=f.Z.join(s,o,{parseParams:!1});c!==t&&m((0,Ze.c4)({pathname:Ie({key:c}),replace:!0}))}),[t,g.params,g.pathname,m,H,D]),(0,n.useEffect)((()=>{D||m(_n.Z.actions.fetchQueryRequested({server:p,provider:h,key:t.replace("/all","/query/parse")})),L&&m(_n.Z.actions.fetchCuratedRequested({server:p,provider:h,key:L}))}),[D,t,L,m,p]),(0,n.useEffect)((()=>()=>{m(_n.Z.actions.reset())}),[m]),(0,n.useEffect)((()=>{var e;if((null==(e=null==M?void 0:M.metadataItem)?void 0:e.key)&&R&&!k&&!(null==M?void 0:M.saveError)){const e=M.metadataItem.type===Ht.pG.Playlist;m((0,Ze.c4)({pathname:(0,Ka.Z)(p,h,M.metadataItem.key,void 0,e?$:void 0),replace:!0}))}}),[m,k,R,$,h,p,null==(s=null==M?void 0:M.metadataItem)?void 0:s.key,null==(c=null==M?void 0:M.metadataItem)?void 0:c.type,null==M?void 0:M.saveError]);let ce=(0,C.Z)("Save As..."),de=X?ne:te;return O.item&&(ce=O.item.isPlaylist?(0,C.Z)("Update Playlist"):(0,C.Z)("Update Collection"),de=ae),S&&D?n.createElement("form",{className:e},n.createElement(N.Z,{autoScroll:!0,className:"DirectoryListAdvancedFilters-scroller-1SjwDO Scroller-scroller-HAUFpl",scrollDirection:N.I.Omni},O.item?n.createElement("div",{className:"DirectoryListAdvancedFilters-editHeading-3Llbd3"},O.item.title):null,n.createElement(Aa,{meta:i,rules:D.Rule,onChange:se})),n.createElement("div",{className:"DirectoryListAdvancedFilters-buttonBar-az0usI"},n.createElement("div",null,n.createElement(Kn.Z,{className:"DirectoryListAdvancedFilters-formLabel-19I6Ln FormLabel-label-OhVY4K",name:"labelValue"},(0,C.Z)("Limit to")),n.createElement(zn.Z,{className:"DirectoryListAdvancedFilters-textInput-IomayO TextInput-input-2H3p8z",min:0,name:"labelValue",type:"number",value:F,onChange:le})),n.createElement("div",{className:"DirectoryListAdvancedFilters-buttonCluster-1j4DLU"},$&&q&&b&&(Y||Q)?n.createElement(n.Fragment,null,n.createElement(kn,{isDisabled:w,kind:B.Z.Primary,label:ce,onPress:de},n.createElement(Ha.Z,{contentDirectoryID:b.id,mediaType:$,metadataType:q,provider:h,server:p,sourceURI:P,onAddToCollectionPress:Y?K.onOpen:void 0,onAddToPlaylistPress:Q?U.onOpen:void 0,onAddToSmartCollectionPress:ne,onAddToSmartPlaylistPress:te,onMenuClose:z.onClose,onSaveCollectionPress:J,onSavePlaylistPress:ee})),n.createElement(Ua.Z,{defaultDestinationSource:E,defaultTitle:null!=(d=b.title)?d:(0,C.Z)("New Playlist"),isOpen:U.isOpen,isSmart:W,mediaType:$,sourceURI:P,onModalClose:re,onSaveSuccess:ee}),n.createElement(Ga.Z,{contentDirectoryID:b.id,defaultTitle:null!=(u=b.title)?u:(0,C.Z)("New Collection"),isOpen:K.isOpen,isSmart:W,metadataType:q,sourceURI:P,onModalClose:ie,onSaveSuccess:J})):null))):n.createElement("div",{className:"DirectoryListAdvancedFilters-loadingContainer-1NBSKW DirectoryListAdvancedFilters-container-1ZUPk0"},n.createElement(V.Z,null))},Wa=function(e){var t;return null!=(t=null==e?void 0:e.find((e=>e.active)))?t:null==e?void 0:e[0]};var _a=Object.defineProperty,qa=Object.prototype.hasOwnProperty,$a=Object.getOwnPropertySymbols,Qa=Object.prototype.propertyIsEnumerable,Ya=(e,t,r)=>t in e?_a(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Xa=(e,t)=>{for(var r in t||(t={}))qa.call(t,r)&&Ya(e,r,t[r]);if($a)for(var r of $a(t))Qa.call(t,r)&&Ya(e,r,t[r]);return e};const Ja=parseInt(rt.Z.jumpBarCharacterHeight,10),el=parseInt(rt.Z.jumpBarMargin,10);function tl({className:e="DirectoryListJumpBar-character-3U8oKc Link-link-1Kt-hA",scrollIndex:t,children:r,onCharacterPress:i}){const a=(0,n.useCallback)((()=>{i(t)}),[t,i]);return n.createElement(L.Z,{className:e,onPress:a},r)}function rl({className:e="DirectoryListJumpBar-jumpBar-U6n8im",activeType:t,viewportHeight:r,listTotalSize:i,onFirstCharacterScroll:a}){const l=Wa(null==t?void 0:t.Sort),{firstCharacters:{items:s}}=(0,o.v9)(de),c=(0,n.useMemo)((()=>s?function(e,t){if(t<1||!e.length)return[];const{characters:r}=e.reduce(((e,t,r)=>(e.characters.push(Xa(Xa({},t),{position:r,scrollIndex:e.scrollIndex})),e.scrollIndex+=t.size,e)),{characters:[],scrollIndex:0}),n=[r[0],r[r.length-1]],i=Array.from(r).sort(((e,t)=>t.size-e.size));return Array.from(new Set([...n,...i])).slice(0,t).sort(((e,t)=>e.position-t.position))}(s,Math.floor((r-2*el)/Ja)):[]),[s,r]),d=!!(null==l?void 0:l.firstCharacterKey),u=c.length>=5;return l&&s&&d&&u&&i>=75?n.createElement("div",{className:e},c.map((e=>n.createElement(tl,{key:e.key,scrollIndex:e.scrollIndex,onCharacterPress:a},e.title)))):null}var nl=r(39374);function il(e){const t=e["aria-label"],r=e.className,i=e.style,a={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-tidal-logo-560"};a["aria-hidden"]=!t,a.style=i,a.className=Jr.Z.plexIcon+(r?" "+r:"");const l=[n.createElement.apply(n,["path",{d:"M373.331 186.32l-93.324 93.332-93.337-93.341L280.007 93l93.332 93.309L466.67 93 560 186.318l-93.33 93.341-93.339-93.339zm.01 186.669l-93.334 93.34-93.337-93.34 93.337-93.337 93.334 93.337zm-186.67-186.67l-93.338 93.34L0 186.32 93.333 93l93.337 93.318z"}].concat([]))];return t&&l.unshift(n.createElement("title",null,t)),n.createElement.apply(n,["svg",a].concat(l))}il.propTypes={"aria-label":Xr().string,className:Xr().string,style:Xr().object};const al=il;function ll(e){var t,r;return(null==(t=null==e?void 0:e.id)?void 0:t.includes("saved"))?(0,C.Z)("With a TIDAL subscription you can add Albums, artists, tracks and videos to My TIDAL to keep track of your favorite music."):(null==(r=null==e?void 0:e.id)?void 0:r.includes("playlists"))?(0,C.Z)("Once you have a TIDAL subscription you can add music to My TIDAL Playlists and keep the party going."):(0,C.Z)("Once you have a TIDAL subscription you can browse TIDAL content in Plex.")}function sl({className:e,pivot:t}){const r=(0,Wn.Z)(),i=(0,n.useCallback)((()=>{r({action:Zn.J9})}),[r]);return n.createElement(S.Z,{className:e,description:ll(t),icon:n.createElement(al,null),title:(0,C.Z)("TIDAL + Plex = music to your ears!")},n.createElement(D.Z,{rel:"noopener noreferrer",target:"_blank",to:nl.YC,onPress:i},(0,C.Z)("Learn More")))}var ol=r(45318),cl=r(79932),dl=r(66088),ul=r(29414);const ml=function(e){return f.Z.stringifyParams(e,{encoder:(e,t,r,n)=>"value"===n&&"boolean"==typeof e?e?"1":"0":e})},pl=function(e,t){const{strippedKey:r,filterRules:n}=se(e,t),i=n.reduce(((e,{filter:r,value:n})=>{var i;const{type:a}=t,l=null==(i=t.Field)?void 0:i.find((e=>e.key===r.filter||e.key===`${a}.${r.filter}`));return l&&(e[l.key]=n),e}),{});return f.Z.join(r,ml(i))};var yl=r(87691),hl=r(15768),vl=r(6103),fl=r(8030),bl=r(70182),El=r(79849),gl=r(56510),Pl=r(89460),Il=r(58300),Zl=r(80708),wl=r(40691),Cl=r(2424),Dl=r(64795),Sl=r(45122);var Ol=Object.defineProperty,Tl=Object.prototype.hasOwnProperty,Ml=Object.getOwnPropertySymbols,Nl=Object.prototype.propertyIsEnumerable,kl=(e,t,r)=>t in e?Ol(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;function Rl(e={}){return((e,t)=>{for(var r in t||(t={}))Tl.call(t,r)&&kl(e,r,t[r]);if(Ml)for(var r of Ml(t))Nl.call(t,r)&&kl(e,r,t[r]);return e})({isFileImport:!1,channelURL:"",fileURL:null},e)}class Al extends n.Component{constructor(e,t){super(e,t),this.onModalClose=()=>{this.props.onClearError(),this.props.onModalClose()},this.onFileImportTogglePress=()=>{this.setState(Rl({isFileImport:!this.state.isFileImport}))},this.onFileChange=e=>{let t;if(e.target.files&&e.target.files.length&&(t=e.target.files[0]),t){const e=window.URL.createObjectURL(t);this.setState({fileURL:e})}},this.onURLChange=e=>{this.setState({channelURL:e})},this.onSubmit=e=>{e.preventDefault(),this.props.onSubmit({channelURL:this.state.channelURL,fileURL:this.state.fileURL})},this.state=Rl()}static getDerivedStateFromProps(e,t){return t.isOpen!==!e.isOpen?Rl({isOpen:e.isOpen}):null}componentDidUpdate(e,t){this.props.isUpdating||!e.isUpdating||this.props.hasError||this.props.onModalClose()}render(){const{isOpen:e,title:t,message:r,hasError:i,hasFileImportFeature:a,textInputLabel:l,fileInputButtonLabel:s,fileImportLabel:o,urlImportLabel:c,confirmLabel:d,confirmKind:u,isUpdating:m,isDirty:p,metricsPage:y,metricsProperties:h,onFormChange:v}=this.props;return n.createElement(Cl.Z,{isOpen:e,metricsPage:y,metricsProperties:h,onModalClose:this.onModalClose},n.createElement("form",{className:"AddToCatalogModal-form-1SEV0M",onChange:v,onSubmit:this.onSubmit},n.createElement(Dl.Z,{onModalClose:this.onModalClose},n.createElement(Pl.Z,null,t),i?n.createElement(wl.Z,{errorMessage:(0,C.Z)("Something went wrong. Make sure the URL is correct and try again.")}):null,n.createElement(bl.Z,null,n.createElement("p",null,r),a?n.createElement("p",null,n.createElement(vl.Z,{kind:Fe._8,onPress:this.onFileImportTogglePress},this.state.isFileImport?c||(0,C.Z)("Import from a URL instead"):o||(0,C.Z)("Import from a file instead"))):null,n.createElement("div",{className:"AddToCatalogModal-inputContainer-3Kn6No"},this.state.isFileImport?n.createElement(Zl.Z,{accept:".xml, .opml",buttonText:s||(0,C.Z)("Choose File"),name:"file",showFilename:!0,onChange:this.onFileChange}):n.createElement(fl.W,{"data-autofocus":!0,labelText:l,name:"channelURL",value:this.state.URLValue,onChange:this.onURLChange})),this.state.fileURL?n.createElement("p",{className:"AddToCatalogModal-fileNote-3UiX-C"},(0,C.Z)("NOTE: Podcasts will appear as they're processed. This may take some time to complete")):null),n.createElement(El.Z,null,n.createElement(gl.Z,null,n.createElement(Il.Z,{isDisabled:!p,isSpinning:m,kind:u,type:"submit"},d||(0,C.Z)("Continue")))))))}}Al.defaultProps={confirmKind:Fe._8,hasFileImportFeature:!1};const xl=(0,Sl.Z)(Al,{isUpdatingPropName:"isUpdating",errorPropName:"error",clearDirtyOnChangePropName:"isOpen"}),Ll=(0,yl.Z)((function(){return(0,$.P1)((e=>e.ui.addToCatalogModal),(e=>({isUpdating:e.isUpdating,hasError:!!e.error})))}),(function(e,t){return{onClearError(){e((0,hl.RA)())},onSubmit(r){e((0,hl.c9)({providerEntityID:t.providerEntityID,data:r}))}}}))(xl),jl=function(e){const{providerEntityID:t,isOpen:r,onModalClose:i}=e;return n.createElement(Ll,{fileImportLabel:(0,C.Z)("Import podcasts from an OPML file instead"),fileInputButtonLabel:(0,C.Z)("Choose OPML File"),hasFileImportFeature:!0,isOpen:r,message:(0,C.Z)("Want to add a podcast we havent listed? If you know the URL for the podcast, you can enter it below."),providerEntityID:t,textInputLabel:(0,C.Z)("Podcast Feed"),title:(0,C.Z)("Add a Podcast"),urlImportLabel:(0,C.Z)("Import podcasts from a URL instead"),onModalClose:i})};function Fl(e){const t=e["aria-label"],r=e.className,i=e.style,a={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-toolbar-add-podcast-560"};a["aria-hidden"]=!t,a.style=i,a.className=Jr.Z.plexIcon+(r?" "+r:"");const l=[n.createElement.apply(n,["path",{d:"M434,504 L378,504 L378,417.4558 C306.354,404.2735 252,341.435 252,266 L294,266 C294,327.815 344.186,378 406,378 C467.814,378 518,327.815 518,266 L560,266 C560,341.435 505.646,404.2735 434,417.4558 L434,504 Z M476,126 C476,87.366 444.634,56 406,56 C367.366,56 336,87.366 336,126 L336,266 C336,304.634 367.366,336 406,336 C444.634,336 476,304.634 476,266 L476,126 Z M134.4,100.8 L134.4,190.4 L224,190.4 L224,235.2 L134.4,235.2 L134.4,324.8 L89.6,324.8 L89.6,235.2 L0,235.2 L0,190.4 L89.6,190.4 L89.6,100.8 L134.4,100.8 Z"}].concat([]))];return t&&l.unshift(n.createElement("title",null,t)),n.createElement.apply(n,["svg",a].concat(l))}Fl.propTypes={"aria-label":Xr().string,className:Xr().string,style:Xr().object};const Gl=Fl;var Hl=r(84977),Ul=r(82832),Vl=r(19486),Bl=r(26984);const Kl="DirectoryListActions-tooltip-3PZjEb Tooltip-bottomCenter-XGNe9E Tooltip-tooltip-3mpwtQ Tooltip-tooltipArrow-2SOf0S Tooltip-tooltipTopArrow-3fp6qd Tooltip-tooltipCenterAlignArrow-1EoXo6",zl="DirectoryListActions-menu-1PSfwm Menu-menu-3iOTrU";function Wl({className:e,activeType:t,selectedPivot:r,totalSize:i,listActions:a,directoryKey:l,advancedFilters:c}){var d,u;const m=(0,o.I0)(),[p,h,v]=(0,I.c9)(),{containerServer:f,containerProvider:b,containerKey:E,containerSourceURI:g}=(0,qe.U)(),{metricsPage:P,metricsContextTuple:Z}=(0,s.Zn)(),w=(0,Wn.Z)({identifier:h.metricsIdentifier,mode:"list",type:null==t?void 0:t.type,itemCount:i}),D=(0,jr.Z)(),S=(0,Fr.Z)(),O=(0,jr.Z)(),T=(0,Fr.Z)(),M=(0,Fr.Z)(),N=(0,Fr.Z)(),k=(0,Fr.Z)(),R=(0,y.Z)({serverIdentifier:p.machineIdentifier,providerIdentifier:h.identifier}),A=`${R}${E}`,x=t?xn(t):void 0,L=t?(0,An.Z)(t.type):void 0,j=(0,n.useMemo)((()=>t?pl(l,t):l),[t,l]),F=(0,n.useCallback)((e=>{m(ul.rr({server:f,provider:b,containerKey:E,metricsPage:P,metricsProperties:{contextTuple:Z},legacyAction:e}))}),[m,f,b,E,P,Z]),G=(0,n.useCallback)((()=>{w({action:Zn.NH}),F(cl.wA({options:{type:x}}))}),[w,x,F]),H=(0,n.useCallback)((()=>{F(cl.Em({options:{type:x}})),w({action:Zn.cO})}),[w,x,F]),U=(0,n.useCallback)((()=>{w({action:Zn.PR}),F(cl.tP({options:{playAll:!0,next:!1,type:x}})),S.onClose()}),[w,S,x,F]),V=(0,n.useCallback)((()=>{w({action:Zn.pe}),F(cl.tP({options:{playAll:!0,next:!0,type:x}})),S.onClose()}),[w,S,x,F]),B=(0,n.useCallback)((()=>{w({action:Zn.FH}),F(ul.$5()),S.onClose()}),[w,S,F]),K=(0,n.useCallback)((()=>{m($e.Z.actions.throttledRepopulateRequested({server:f,provider:b,sourceURI:g})),w({action:Zn.DK,mode:"shortcut"})}),[b,f,g,m,w]),z=(0,n.useCallback)((()=>{w({action:Zn.uf,mode:"shortcut"})}),[w]);return n.createElement(Xn.Z,{className:e},a.isPlayVisible?n.createElement(Yn.Z,{icon:Vl.Z,title:(0,C.Z)("Play"),tooltipAttachment:dl.eO,tooltipClassName:Kl,onPress:G}):null,a.isShuffleVisible?n.createElement(Yn.Z,{icon:Bl.Z,title:(0,C.Z)("Shuffle"),tooltipAttachment:dl.eO,tooltipClassName:Kl,onPress:H}):null,a.isAddToPlaylistVisible||a.isAddToCollectionVisible?n.createElement(Yn.Z,{icon:Hl.Z,id:O,title:(0,C.Z)("Add to..."),tooltipAttachment:dl.eO,tooltipClassName:Kl,onPress:T.onToggle}):null,a.isAddToCatalogVisible?n.createElement(Yn.Z,{icon:Gl,title:(0,C.Z)("Add Podcast by URL"),tooltipAttachment:dl.eO,tooltipClassName:Kl,onPress:k.onToggle}):null,a.isAddToQueueVisible||a.isOptimizeVisible?n.createElement(Yn.Z,{icon:Ul.Z,id:D,title:(0,C.Z)("More"),tooltipAttachment:dl.eO,tooltipClassName:Kl,onPress:S.onToggle}):null,n.createElement(Lr.Z,{className:zl,isOpen:S.isOpen,target:D,onMenuClose:S.onClose},a.isAddToQueueVisible?n.createElement($n.Z,{onPress:V},(0,C.Z)("Play Next")):null,a.isAddToQueueVisible?n.createElement($n.Z,{onPress:U},(0,C.Z)("Add to Queue")):null,a.isOptimizeVisible?n.createElement($n.Z,{onPress:B},(0,C.Z)("Optimize...")):null),(a.isAddToPlaylistVisible||a.isAddToCollectionVisible)&&x&&L?n.createElement(Lr.Z,{className:zl,isOpen:T.isOpen,target:O,onMenuClose:T.onClose},n.createElement(Ha.Z,{advancedFiltersRoute:r&&!c?Ie({key:j,advancedFilters:1}):void 0,contentDirectoryID:null==v?void 0:v.id,mediaType:x,metadataType:L,provider:h,server:p,sourceURI:A,onAddToCollectionPress:a.isAddToCollectionVisible?M.onOpen:void 0,onAddToPlaylistPress:N.onOpen,onMenuClose:T.onClose,onSaveCollectionPress:K,onSavePlaylistPress:z})):null,a.isAddToPlaylistVisible&&x?n.createElement(Ua.Z,{defaultDestinationSource:R,defaultTitle:null!=(d=null==v?void 0:v.title)?d:(0,C.Z)("New Playlist"),isOpen:N.isOpen,mediaType:x,sourceURI:A,onModalClose:N.onClose,onSaveSuccess:z}):null,a.isAddToCollectionVisible&&L&&(null==v?void 0:v.id)?n.createElement(Ga.Z,{contentDirectoryID:v.id,defaultTitle:null!=(u=v.title)?u:(0,C.Z)("New Collection"),isOpen:M.isOpen,metadataType:L,sourceURI:A,onModalClose:M.onClose,onSaveSuccess:K}):null,a.isAddToCatalogVisible?n.createElement(jl,{isOpen:k.isOpen,providerEntityID:h.entityID,onModalClose:k.onClose}):null)}var _l=r(68105),ql=r(90653),$l=r(82378);const Ql={disclosureArrowLink:"DisclosureArrowLink-disclosureArrowLink-3joxcC Link-link-1Kt-hA",isSelected:"DisclosureArrowLink-isSelected-2y312N",small:"DisclosureArrowLink-small-3gIQHu",medium:"DisclosureArrowLink-medium-2Bjjl7",large:"DisclosureArrowLink-large-2dFQv-",disclosureArrow:"DisclosureArrowLink-disclosureArrow-Ym60tN DisclosureArrow-disclosureArrow-2gjcXC",down:"DisclosureArrowLink-down-2yCbT8",left:"DisclosureArrowLink-left-1xbptX",up:"DisclosureArrowLink-up-3wADoB",right:"DisclosureArrowLink-right-aMBg7N"};var Yl=Object.defineProperty,Xl=Object.prototype.hasOwnProperty,Jl=Object.getOwnPropertySymbols,es=Object.prototype.propertyIsEnumerable,ts=(e,t,r)=>t in e?Yl(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;function rs(e){var t=e,{className:r=Ql.disclosureArrowLink,arrowClassName:i=Ql.disclosureArrow,direction:a=Kr.Z.Down,size:l=zr.Z.Large,kind:s,children:o}=t,c=((e,t)=>{var r={};for(var n in e)Xl.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&Jl)for(var n of Jl(e))t.indexOf(n)<0&&es.call(e,n)&&(r[n]=e[n]);return r})(t,["className","arrowClassName","direction","size","kind","children"]);return n.createElement(L.Z,((e,t)=>{for(var r in t||(t={}))Xl.call(t,r)&&ts(e,r,t[r]);if(Jl)for(var r of Jl(t))es.call(t,r)&&ts(e,r,t[r]);return e})({"aria-haspopup":!0,className:Zi()(r,Ql[l]),kind:s,size:l},c),o,n.createElement(xr.Z,{className:Zi()(i,Ql[a],Ql[l]),direction:a,kind:s,size:l}))}var ns=r(35771);function is({children:e,filter:t,isPending:r,isSelected:i,onFilterSelect:a}){const l=(0,n.useCallback)((()=>{a(t)}),[t,a]);return n.createElement($n.Z,{className:i?"DisclosureFilterMenuItem-isSelected-_duMQd":void 0,onPress:l},n.createElement("span",{className:"DisclosureFilterMenuItem-menuItemContainer-2Ni_Be SelectedMenuItem-menuItemContainer-2sjh6G"},n.createElement("span",{className:"DisclosureFilterMenuItem-menuLabel-SEpqnK SelectedMenuItem-menuLabel-1VXIKp"},e),r?n.createElement(V.Z,{className:"DisclosureFilterMenuItem-spinner-3q5VbD Spinner-spinner-2t07PI spin-spin-34xiUE",size:zr.Z.Small}):null,!r&&i?n.createElement("span",{className:"DisclosureFilterMenuItem-selectedIcon-KN-bD0 SelectedMenuItem-selectedIcon-VTo2dZ"},n.createElement(ns.Z,{"aria-label":(0,C.Z)("Selected")})):null))}const as=(0,$.P1)(de,(e=>e.filterOptions)),ls=function(e,t,r){const n=[...e];for(let r=0;r<e.length;r++)e[r].filter.filterType===X.H_.Boolean==(t.filterType===X.H_.Boolean)&&n.splice(r,1);return ae(n,{filter:t,operator:Q.Equal,value:r})},ss=function(e,t,r){return!!e.find((e=>e.filter.filter===t.filter&&(null==r||e.value===r)))},os=function(e,t,r){return e.filter((e=>!(e.filter.filter===t.filter&&(null==r||e.value===r))))},cs=function(e,t){const r=t.reduce(((e,t)=>(e[t.filter.filter]=t.value,e)),{});return f.Z.join(e,ml(r))},ds="DirectoryListFilterMenu-selectedMenuItem-3t2Ns9 SelectedMenuItem-menuItemContainer-2sjh6G";function us({typeKey:e,directoryKey:t,pendingFilterKey:r,filters:i,activeFilterRules:a,advancedFiltersKey:l,isAdvancedFiltersVisible:s,onClose:o,onFilterSelect:c}){const[d,u]=function(e){return e.reduce(((e,t)=>(t.filterType===X.H_.Boolean?e[0].push(t):e[1].push(t),e)),[[],[]])}(i),m=we(o);return n.createElement(N.Z,{autoScroll:!0,className:"DirectoryListFilterMenu-menuScroller-2S6I17 Scroller-scroller-HAUFpl"},n.createElement(Qr.Z,{key:"all",isSelected:!a.length,to:Ie({key:e}),onPress:m},(0,C.Z)("All")),d.map((e=>{const r=ss(a,e);return n.createElement(Qr.Z,{key:e.key,isSelected:r,to:Ie({key:cs(t,r?os(a,e):ls(a,e,!0))}),onPress:m},e.title)})),d.length?n.createElement(_l.Z,null):null,u.map((e=>n.createElement(is,{key:e.key,filter:e,isPending:r===e.key,isSelected:ss(a,e),onFilterSelect:c},e.title))),s?n.createElement(n.Fragment,null,n.createElement(_l.Z,null),n.createElement(Qr.Z,{to:Ie({key:l,advancedFilters:1}),onPress:m},(0,C.Z)("Advanced Filters"))):null)}function ms({directoryKey:e,selectedFilter:t,filterOptions:r,activeFilterRules:i,height:a,onFilterDeselect:l,onMenuClose:s}){const[o,c]=(0,n.useState)(""),d=r.find((e=>ss(i,t,e.value))),u=we(s),m=(0,n.useCallback)((e=>{c(e.target.value)}),[]);return n.createElement("div",{className:"DirectoryListFilterMenu-filterOptionsContainer-1R62nw","data-testid":"secondFiltersList",style:{height:Math.max(a,356)}},n.createElement("div",{className:"DirectoryListFilterMenu-headerContainer-27Otn5"},n.createElement("div",{className:"DirectoryListFilterMenu-header-2Wgx0j","data-testid":"filterHeader"},n.createElement("div",{className:"DirectoryListFilterMenu-headerTitle-IRIKoy"},n.createElement(L.Z,{"data-testid":"previousFilters",onPress:l},n.createElement(K.ed9,{align:"baseline","aria-label":(0,C.Z)("Back")}),n.createElement("span",{className:"DirectoryListFilterMenu-filterText-Fn9Jsm"},t.title))),r.length>12?n.createElement(zn.Z,{className:"DirectoryListFilterMenu-searchInput-1-h1gu TextInput-input-3Pw62h input-input-3msd1_",name:"filterOptionQuery",placeholder:(0,C.Z)("Filter {filterTitle}",{filterTitle:t.title}),value:o,onChange:m}):null),n.createElement(_l.Z,null)),r.length?n.createElement(N.Z,{autoScroll:!0,className:"DirectoryListFilterMenu-filterOptionsScroller-1gHIwI DirectoryListFilterMenu-menuScroller-2S6I17 Scroller-scroller-HAUFpl"},d?n.createElement(Qr.Z,{key:d.key,className:ds,isSelected:!0,to:Ie({key:cs(e,os(i,t))}),onPress:u},d.title):null,r.map((r=>{if(r===d||!r.title.toLowerCase().includes(o.toLowerCase()))return null;const a=ss(i,t,r.value);return n.createElement(Qr.Z,{key:r.key,className:ds,isSelected:a,to:Ie({key:cs(e,ls(i,t,r.value))}),onPress:u},r.title)}))):n.createElement("div",{className:"DirectoryListFilterMenu-emptyText-2iD7Kx"},(0,C.Z)("No options")))}function ps({className:e,directoryKey:t,selectedPivot:r,type:i}){const[l,s]=(0,I.c9)(),c=(0,o.I0)(),[d,u]=(0,n.useState)(),[m,{height:p}]=(0,Ye.Z)(),y=(0,jr.Z)(),{isOpen:h,onToggle:v,onClose:f}=(0,Fr.Z)(),b=null==i?void 0:i.Filter,E=(0,n.useMemo)((()=>pe(t)),[t]),g=(0,o.v9)(E),Z=(0,o.v9)(as),w=(0,n.useMemo)((()=>d?Z[d]:void 0),[d,Z]),D=(0,n.useMemo)((()=>null==b?void 0:b.find((e=>e.key===d))),[d,b]),S=(0,n.useMemo)((()=>({scrollDirection:ql.Hn})),[]),O=(0,n.useMemo)((()=>null==g?void 0:g.filterRules.find((({filter:e})=>e.filterType!==X.H_.Boolean))),[null==g?void 0:g.filterRules]),T=(0,n.useMemo)((()=>O?Z[O.filter.key]:void 0),[O,Z]),M=(0,n.useMemo)((()=>null==g?void 0:g.filterRules.map((e=>{var t;const r=O&&O.filter.filter===e.filter.filter?null==(t=Z[O.filter.key])?void 0:t.options.find((e=>e.value===(null==O?void 0:O.value))):void 0;return r&&r.field===(null==O?void 0:O.filter.filter)?r.title:e.filter.title})).join(", ")),[null==g?void 0:g.filterRules,Z,O]),N=!!(0,P.Z)(s,a.zW.QueryParser),k=(0,n.useMemo)((()=>i?pl(t,i):t),[i,t]),R=(0,n.useCallback)((e=>{c(Se.Z.actions.fetchFilterOptionsRequested({server:l,provider:s,filter:e}))}),[c,s,l]),A=(0,n.useCallback)((e=>{u(e.key),R(e)}),[R]),x=(0,n.useCallback)((()=>{u(void 0)}),[]),L=(0,n.useCallback)((()=>{f()}),[f]);if((0,n.useEffect)((()=>{!O||(null==T?void 0:T.isPopulated)||(null==T?void 0:T.isPending)||R(O.filter)}),[T,R,O]),!i||!b||!g)return null;const{strippedKey:j,filterRules:F}=g;return n.createElement(n.Fragment,null,n.createElement(rs,{className:e,direction:h?Kr.Z.Up:Kr.Z.Down,id:y,onPress:v},M||(0,C.Z)("All")),n.createElement(Lr.Z,{isOpen:h,scrollerProps:S,size:$l.ln,target:y,onMenuClose:L},n.createElement("div",{ref:m,className:"DirectoryListFilterMenu-measureContainer-3XSFWf"},(null==w?void 0:w.isPopulated)&&D?n.createElement(ms,{activeFilterRules:F,directoryKey:j,filterOptions:w.options,height:p,selectedFilter:D,onFilterDeselect:x,onMenuClose:L}):n.createElement(us,{activeFilterRules:F,advancedFiltersKey:k,directoryKey:j,filters:b,isAdvancedFiltersVisible:N&&!!r,pendingFilterKey:(null==w?void 0:w.isPending)?d:void 0,typeKey:i.key,onClose:L,onFilterSelect:A}))))}var ys=r(26253),hs=r(72373);function vs({className:e,directoryKey:t,sorts:r}){const i=(0,jr.Z)(),{isOpen:a,onToggle:l,onClose:s}=(0,Fr.Z)(),o=Wa(r),c=we(s);return!r||!o||r.length<2?null:n.createElement(n.Fragment,null,n.createElement(rs,{className:e,direction:a?Kr.Z.Up:Kr.Z.Down,id:i,onPress:l},(0,C.Z)("By {sortTitle}",{sortTitle:o.title})),n.createElement(Lr.Z,{isOpen:a,target:i,onMenuClose:s},r.map((e=>n.createElement(Qr.Z,{key:e.key,iconComponent:e.activeDirection===X.Sr.Ascending?ys.Z:hs.Z,isSelected:e.active,to:Ie({key:f.Z.join(t,{sort:$r(e)},{parseParams:!0})}),onPress:c},e.title)))))}var fs=r(48505);function bs({className:e,activeType:t,types:r,advancedFilters:i,directoryKey:a}){const l=(0,jr.Z)(),{isOpen:s,onToggle:o,onClose:c}=(0,Fr.Z)(),d=we(c);return!r||!t||r.length<2?null:n.createElement(n.Fragment,null,n.createElement(rs,{className:e,direction:s?Kr.Z.Up:Kr.Z.Down,id:l,onPress:o},t.title),n.createElement(Lr.Z,{isOpen:s,target:l,onMenuClose:c},r.map((e=>{const r=(0,An.Z)(e.type);return n.createElement(Qr.Z,{key:e.key,isSelected:t===e&&e.active,to:e.type===g.U.Folder?Ie({key:e.key,advancedFilters:void 0}):Ie({key:i&&r?a.replace(/type=\w+/,`type=${(0,fs.Z)(r)}`):e.key}),onPress:d},e.title)}))))}var Es=r(63312);const gs=(0,$.P1)(me,(e=>e?Wa(e.Sort):void 0)),Ps=function({className:e="PageHeaderLeftGutter-container-26Yp3E",innerClassName:t="PageHeaderLeftGutter-innerContainer-3gR4Nm",children:r}){return n.createElement("div",{className:e},n.createElement("div",{className:t},r))};function Is(e){const t=e["aria-label"],r=e.className,i=e.style,a={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-close-560"};a["aria-hidden"]=!t,a.style=i,a.className=Jr.Z.plexIcon+(r?" "+r:"");const l=[n.createElement.apply(n,["path",{d:"M280,0C434.536,0 560,125.464 560,280C560,434.536 434.536,560 280,560C125.464,560 0,434.536 0,280C0,125.464 125.464,0 280,0ZM435.563,171.005L388.995,124.437L280,233.431L171.005,124.437L124.436,171.005L233.431,280L124.436,388.995L171.005,435.564L280,326.569L388.995,435.564L435.564,388.995L326.569,280L435.563,171.005Z"}].concat([]))];return t&&l.unshift(n.createElement("title",null,t)),n.createElement.apply(n,["svg",a].concat(l))}Is.propTypes={"aria-label":Xr().string,className:Xr().string,style:Xr().object};const Zs=Is;function ws({advancedFilters:e}){const{containerKey:t}=(0,qe.U)(),r=(0,n.useMemo)((()=>pe(t)),[t]),i=(0,o.v9)(r),a=(0,o.v9)(me),l=(0,o.v9)(gs),s=we();return(null==i?void 0:i.filterRules.length)||e?n.createElement(Ps,{className:"DirectoryToolbarClearFiltersButton-gutter-2Ba_MX PageHeaderLeftGutter-container-26Yp3E"},n.createElement(Es.Z,{className:"DirectoryToolbarClearFiltersButton-resetButton-1SX3CW ToolbarButton-toolbarButton-2dJJTj",to:Ie({key:a?f.Z.join(a.key,l?{sort:l.activeDirection===X.Sr.Ascending?l.key:l.descKey}:{},{parseParams:!0}):"",advancedFilters:void 0}),tooltip:(0,C.Z)("Clear Filter"),onPress:s},n.createElement(Zs,null))):null}var Cs=r(24754),Ds=r(86118),Ss=r(12813);const Os="DirectoryListToolbar-disclosureArrowLink-1Xo2Ae DisclosureArrowLink-disclosureArrowLink-3joxcC Link-link-1Kt-hA";function Ts({className:e="DirectoryListToolbar-pageHeader-2hQcMv PageHeader-pageHeader-277zuU",directoryKey:t,meta:r,activeType:i,selectedPivot:a,advancedFilters:l,totalSize:s}){var o,c,d,u,m,p;const[y,h]=(0,I.c9)(),{listStyle:v}=(0,qe.U)(),f=(0,n.useMemo)((()=>function({server:e,provider:t,activeType:r}){const n=r?jn[r.type]:void 0;return n?n.reduce(((n,i)=>{const a=Un[i];return n[i]=!!(e&&t&&r)&&a({server:e,provider:t,activeType:r}),n}),{}):{}}({server:y,provider:h,activeType:i})),[i,h,y]),b=(0,n.useMemo)((()=>(0,Y.su)(f).some((e=>e))),[f]),E=null!=(c=null==(o=null==r?void 0:r.Type)?void 0:o.length)?c:0,P=null!=(u=null==(d=null==i?void 0:i.Filter)?void 0:d.length)?u:0,Z=null!=(p=null==(m=null==i?void 0:i.Sort)?void 0:m.length)?p:0;return!r||E<=1&&P<1&&Z<=1?null:n.createElement(Cs.Z,{className:e},n.createElement(Ds.Z,null,n.createElement(ws,{advancedFilters:l}),l?n.createElement("span",{className:"DirectoryListToolbar-infoText-KwUhw6"},(0,C.Z)("Advanced Filters")):n.createElement(ps,{className:Os,directoryKey:t,selectedPivot:a,type:i}),n.createElement(bs,{activeType:i,advancedFilters:l,className:Os,directoryKey:t,types:null==r?void 0:r.Type}),v!==g.n.Table?n.createElement(vs,{className:Os,directoryKey:t,sorts:null==i?void 0:i.Sort}):null,null!=s?n.createElement(ol.Z,null,s):null),b?n.createElement(Ss.Z,null,n.createElement(Wl,{activeType:i,advancedFilters:l,directoryKey:t,listActions:f,selectedPivot:a,totalSize:s})):null)}const Ms=(0,Wr.Z)("savedDirectoryListKeys");var Ns=r(70617);const ks=(0,Ns.Z)((function(e,t,r){return(0,$.P1)(Ms,(n=>{const i=r?(0,y.Z)({serverIdentifier:e,providerIdentifier:t,key:r}):void 0;return i?n[i]:void 0}))}));var Rs=Object.defineProperty,As=Object.prototype.hasOwnProperty,xs=Object.getOwnPropertySymbols,Ls=Object.prototype.propertyIsEnumerable,js=(e,t,r)=>t in e?Rs(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Fs=(e,t)=>{for(var r in t||(t={}))As.call(t,r)&&js(e,r,t[r]);if(xs)for(var r of xs(t))Ls.call(t,r)&&js(e,r,t[r]);return e};var Gs=r(60316);const Hs=function(e){return(0,$.P1)(ue,(t=>{const r=t?(0,oe.Z)(t):void 0;if(!r||!e)return[g.n.Grid];if(function(e){const{providerIdentifier:t}=(0,Gs.Z)(e);return z.wB(t,[z.Ll,z.vP])}(e))return[g.n.Grid];if(r.type===g.U.Folder)return[g.n.Folder];switch(r.subtype){case Ht.y_.Webshow:switch(r.type){case g.U.Show:case g.U.Episode:return[g.n.Grid]}break;case Ht.y_.Podcast:switch(r.type){case g.U.Show:case g.U.Track:return[g.n.Grid]}}switch(r.type){case g.U.Movie:case g.U.Show:case g.U.Album:case g.U.Episode:return[g.n.Grid,g.n.Details,g.n.Table];case g.U.Artist:case g.U.Season:return[g.n.Grid,g.n.Table];case g.U.Track:return[r.Sort?g.n.Table:g.n.Grid];default:return[g.n.Grid]}}))},Us=function(e){return(0,$.P1)((0,Wr.Z)("directoryListStyles"),Hs(e),((t,r)=>{if(!e||!r.length)return;const n=t[e];return n&&r.includes(n)?n:r[0]}))},Vs=(0,Ns.Z)((function(e){return(0,$.P1)(gs,pe(e),((e,t)=>t&&(null==e?void 0:e.firstCharacterKey)?f.Z.join(cs(e.firstCharacterKey,t.filterRules),{sort:e.activeDirection===X.Sr.Ascending?e.key:e.descKey,includeCollections:1,includeExternalMedia:1},{parseParams:!0}):void 0))}));var Bs=Object.defineProperty,Ks=Object.prototype.hasOwnProperty,zs=Object.getOwnPropertySymbols,Ws=Object.prototype.propertyIsEnumerable,_s=(e,t,r)=>t in e?Bs(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,qs=(e,t)=>{for(var r in t||(t={}))Ks.call(t,r)&&_s(e,r,t[r]);if(zs)for(var r of zs(t))Ws.call(t,r)&&_s(e,r,t[r]);return e};function $s({directorySourceURI:e,directoryKey:t,selectedPivot:r,listStyle:i}){var l,s,c;const d=(0,o.I0)(),[u,m]=(0,I.c9)(),p=Z(),h=We.Z.parseBoolean(p.advancedFilters),[b,{height:E}]=(0,Ye.Z)(),{meta:P,metadataListSourceURI:w,directorySourceURI:C,firstCharacters:D}=(0,o.v9)(de),S=P?(0,oe.Z)(P):void 0,T=null!=(l=null==S?void 0:S.type)?l:g.U.Mixed,M=null==S?void 0:S.subtype,N=function({machineIdentifier:e,providerIdentifier:t,directoryKey:r,selectedPivot:n}){const i=(0,o.v9)(ks(e,t,null==n?void 0:n.key));return r||(null!=i?i:null==n?void 0:n.key)}({machineIdentifier:u.machineIdentifier,providerIdentifier:null!=(s=m.providerIdentifier)?s:m.identifier,directoryKey:t,selectedPivot:r}),k=(0,n.useMemo)((()=>N?f.Z.join(N,{includeCollections:1,includeExternalMedia:1}):void 0),[N]),R=(0,n.useMemo)((()=>(0,y.Z)({serverIdentifier:u.machineIdentifier,providerIdentifier:m.providerIdentifier,key:k})),[k,m.providerIdentifier,u.machineIdentifier]),A=(0,n.useMemo)((()=>(0,Qe.Z)(R)),[R]),x=(0,o.v9)(A),L=(0,o.v9)(Vs(k)),[j,G]=(0,n.useState)(),B=(0,n.useMemo)((()=>Us(C)),[C]),K=(0,o.v9)(B),z=null!=i?i:K,W=(0,o.v9)(Re.Z),_=null!=L&&!(null==D?void 0:D.isPopulated)&&!(null==D?void 0:D.error)||!(null==x?void 0:x.isPopulated)&&!(null==x?void 0:x.error),q=(0,Xe.Z)(_,!0,250),$=(0,n.useCallback)((e=>{w&&d($e.Z.actions.fetchRangeRequested(qs(qs({},e),{server:u,provider:m,sourceURI:w})))}),[d,u,m,w]),Q=(0,n.useCallback)((()=>{w&&d($e.Z.actions.repopulateRangeRequested({server:u,provider:m,sourceURI:w}))}),[d,w,m,u]),Y=(0,n.useCallback)((e=>{G(e)}),[]);if((0,F.Z)({},!!(null==x?void 0:x.isPopulated)),Me(Q),function({machineIdentifier:e,providerIdentifier:t,directoryKey:r,meta:i,activeType:l,selectedPivot:s,metadataList:c,advancedFilters:d}){const u=(0,o.I0)(),m=(0,o.v9)(Ms),p=(0,o.v9)(ks(e,t,null==s?void 0:s.key)),h=(null==s?void 0:s.key)?(0,y.Z)({serverIdentifier:e,providerIdentifier:t,key:null==s?void 0:s.key}):void 0;(0,n.useEffect)((()=>{!(h&&r&&s&&s.type===a.F6.List&&p!==r)||s.key===r&&null==p||!(null==c?void 0:c.isPopulated)||(null==i?void 0:i.Pivot)||(null==l?void 0:l.type)===g.U.Folder&&(null==l?void 0:l.key)!==r||d||u((0,Ar.LN)({savedDirectoryListKeys:Fs(Fs({},m),{[h]:r})}))}),[null==c?void 0:c.isPopulated,r,u,h,p,m,s,null==i?void 0:i.Pivot,null==l?void 0:l.type,null==l?void 0:l.key,d])}({machineIdentifier:u.machineIdentifier,providerIdentifier:null!=(c=m.providerIdentifier)?c:m.identifier,directoryKey:N,meta:P,activeType:S,selectedPivot:r,metadataList:x,advancedFilters:h}),(0,n.useEffect)((()=>{(0,v.c9)((()=>{d(Se.Z.actions.resetMeta())}))}),[d,e]),(0,n.useEffect)((()=>(k&&(0,v.c9)((()=>{d(Se.Z.actions.initializeListRequested({server:u,provider:m,sourceURI:R,metadataListSourceURI:w,directorySourceURI:e}))})),()=>{(0,v.c9)((()=>{w&&d($e.Z.actions.reset({sourceURI:w}))}))})),[d,k,w,e,R]),(0,n.useEffect)((()=>{L&&null!=(null==x?void 0:x.totalSize)&&d(Se.Z.actions.fetchFirstCharactersRequested({server:u,provider:m,key:L}))}),[d,u,m,L,null==x?void 0:x.totalSize]),(0,n.useEffect)((()=>{null!=j&&G(void 0)}),[j]),!N)return n.createElement(O,null);if(null==x?void 0:x.error){const{status:e}=x.error;return 404===e?n.createElement(O,null):406===e?n.createElement(sl,{pivot:r}):n.createElement(U.Z,null)}return C!==e?n.createElement(H.Z,null,n.createElement(V.Z,null)):n.createElement(qe.ZP,{containerKey:k,containerMeta:P,containerProvider:m,containerServer:u,containerSourceURI:R,containerSubtype:M,containerType:T,listStyle:z},W?n.createElement(ke.Z,null):n.createElement(Ts,{activeType:S,advancedFilters:h,directoryKey:N,meta:P,selectedPivot:r,totalSize:null==x?void 0:x.totalSize}),n.createElement(Ve,{providerEntityID:m.entityID,serverEntityID:u.entityID}),h&&P?n.createElement(za,{directoryKey:N,meta:P,totalSize:null==x?void 0:x.totalSize}):null,null==(null==x?void 0:x.totalSize)||q?n.createElement(H.Z,null,n.createElement(V.Z,null)):n.createElement("div",{ref:b,className:"DirectoryListPageContent-listContainer-2Dlm9w"},E?n.createElement(n.Fragment,null,0===x.totalSize?n.createElement(De,{directoryKey:N,selectedPivot:r}):n.createElement(In,{activeType:S,className:"DirectoryListPageContent-pageContentScroller-Ibzoyk PageContent-pageContentScroller-2dar0i Scroller-scroller-HAUFpl",items:x.items,listType:T,scrollerKey:"DirectoryListPage",smoothScroll:!(0,_e.G6)(),subtype:M,targetScrollIndex:j,totalSize:x.totalSize,onPageRequest:$})):null,S&&E&&null!=x.totalSize?n.createElement(rl,{activeType:S,listTotalSize:x.totalSize,viewportHeight:E,onFirstCharacterScroll:Y}):null))}var Qs=r(21508);function Ys(e){const t=e["aria-label"],r=e.className,i=e.style,a={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 361.506",id:"plex-icon-devices"};a["aria-hidden"]=!t,a.style=i,a.className=Jr.Z.plexIcon+(r?" "+r:"");const l=[n.createElement.apply(n,["g",{stroke:"#e5a00d",strokeWidth:"2.95"}].concat([n.createElement.apply(n,["path",{d:"M429.683 360.028h-128.55c-3.944 0-7.606-1.77-10.045-4.86a12.609 12.609 0 01-2.384-10.87l12.32-50.859h128.774l12.322 50.86c.929 3.818.059 7.783-2.384 10.87a12.729 12.729 0 01-10.053 4.859zm-121.35-57.343l-10.607 43.78c-.345 1.436.263 2.484.655 2.988a3.448 3.448 0 002.753 1.328h128.55c1.483 0 2.366-.83 2.758-1.337.392-.495 1-1.543.655-2.98l-10.607-43.779z"}].concat([])),n.createElement.apply(n,["path",{d:"M304.68 302.685h-38.937c-2.566 0-4.642-2.068-4.642-4.623s2.076-4.623 4.642-4.623h38.937c2.564 0 4.641 2.068 4.641 4.623s-2.077 4.623-4.64 4.623zM541.294 302.685H426.146c-2.567 0-4.644-2.065-4.644-4.62s2.077-4.625 4.644-4.625h115.148c4.384 0 7.949-3.548 7.949-7.918v-26.599H265.929c-2.566 0-4.642-2.067-4.642-4.622 0-2.556 2.076-4.623 4.642-4.623h292.596v35.844c0 9.462-7.728 17.163-17.231 17.163z"}].concat([])),n.createElement.apply(n,["path",{d:"M553.884 258.922a4.628 4.628 0 01-4.641-4.622V18.63c0-4.361-3.565-7.91-7.949-7.91H189.53c-4.384 0-7.947 3.549-7.947 7.91v58.967c0 2.555-2.076 4.623-4.642 4.623-2.566 0-4.642-2.068-4.642-4.623V18.63c0-9.462 7.729-17.155 17.23-17.155h351.765c9.503 0 17.23 7.693 17.23 17.155V254.3a4.628 4.628 0 01-4.64 4.622zM100.935 360.028H18.04c-9.135 0-16.565-7.403-16.565-16.496v-154.33c0-9.092 7.43-16.495 16.565-16.495h82.895c9.135 0 16.565 7.403 16.565 16.495v154.33c0 9.093-7.43 16.496-16.565 16.496zM18.04 181.952c-4.017 0-7.28 3.25-7.28 7.25v154.33c0 4 3.263 7.249 7.28 7.249h82.895c4.017 0 7.281-3.249 7.281-7.25V189.203c0-4-3.264-7.25-7.28-7.25z"}].concat([])),n.createElement.apply(n,["path",{d:"M112.088 206.735H7.777c-2.566 0-4.642-2.068-4.642-4.623s2.076-4.623 4.642-4.623h104.311c2.566 0 4.642 2.068 4.642 4.623s-2.076 4.623-4.642 4.623zM112.088 323.353H7.777c-2.566 0-4.642-2.068-4.642-4.623s2.076-4.624 4.642-4.624h104.311c2.566 0 4.642 2.069 4.642 4.624 0 2.555-2.076 4.623-4.642 4.623zM67.384 194.348H55.462c-2.566 0-4.642-2.067-4.642-4.623 0-2.555 2.076-4.622 4.642-4.622h11.922c2.566 0 4.642 2.067 4.642 4.622 0 2.556-2.076 4.623-4.642 4.623zM59.488 349.359c-6.56 0-11.9-5.32-11.9-11.855 0-6.53 5.34-11.846 11.9-11.846 6.56 0 11.9 5.316 11.9 11.846 0 6.535-5.34 11.855-11.9 11.855zm0-14.458a2.611 2.611 0 00-2.616 2.603 2.618 2.618 0 002.616 2.608 2.618 2.618 0 002.616-2.608 2.611 2.611 0 00-2.616-2.603z"}].concat([])),n.createElement.apply(n,["path",{d:"M226.172 360.03h-91.097c-2.566 0-4.642-2.068-4.642-4.623s2.076-4.623 4.642-4.623h91.097c6.85 0 12.42-5.553 12.42-12.369V117.552c0-6.817-5.57-12.37-12.42-12.37H107.536c-6.846 0-12.417 5.553-12.417 12.37v40.277c0 2.555-2.076 4.623-4.642 4.623-2.566 0-4.642-2.068-4.642-4.623v-40.277c0-11.918 9.733-21.615 21.7-21.615h118.637c11.967 0 21.705 9.697 21.705 21.615v220.863c0 11.917-9.738 21.616-21.705 21.616z"}].concat([])),n.createElement.apply(n,["path",{d:"M242.129 136.557H92.848c-2.566 0-4.642-2.068-4.642-4.623s2.076-4.623 4.642-4.623h149.28c2.567 0 4.643 2.068 4.643 4.623s-2.076 4.623-4.642 4.623zM242.129 315.593h-106.46c-2.566 0-4.642-2.068-4.642-4.623s2.076-4.623 4.642-4.623h106.46c2.566 0 4.642 2.068 4.642 4.623s-2.076 4.623-4.642 4.623zM178.151 122.94h-17.059c-2.566 0-4.642-2.067-4.642-4.622 0-2.555 2.076-4.623 4.642-4.623h17.06c2.565 0 4.641 2.068 4.641 4.623s-2.076 4.623-4.642 4.623zM166.854 348.158c-8.287 0-15.028-6.715-15.028-14.968 0-8.252 6.741-14.97 15.028-14.97s15.028 6.718 15.028 14.97c0 8.253-6.741 14.968-15.028 14.968zm0-20.695c-3.169 0-5.744 2.567-5.744 5.727s2.575 5.724 5.744 5.724c3.169 0 5.744-2.564 5.744-5.724s-2.575-5.727-5.744-5.727zM380.652 30.415h-30.481a4.628 4.628 0 01-4.641-4.623 4.628 4.628 0 014.64-4.623h30.482a4.628 4.628 0 014.641 4.623 4.628 4.628 0 01-4.64 4.623z"}].concat([]))]))];return t&&l.unshift(n.createElement("title",null,t)),n.createElement.apply(n,["svg",a].concat(l))}Ys.propTypes={"aria-label":Xr().string,className:Xr().string,style:Xr().object};const Xs=Ys;var Js=r(54183);function eo(e){const t=e["aria-label"],r=e.className,i=e.style,a={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-parental-controls"};a["aria-hidden"]=!t,a.style=i,a.className=Jr.Z.plexIcon+(r?" "+r:"");const l=[n.createElement.apply(n,["g",void 0].concat([n.createElement.apply(n,["path",{d:"M548.3 559.273H361.152c-6.456 0-11.696-5.22-11.696-11.657V407.73c0-6.435 5.24-11.657 11.696-11.657H548.3c6.457 0 11.7 5.222 11.7 11.657v139.885c0 6.437-5.243 11.657-11.7 11.657zm-175.451-23.315h163.756v-116.57H372.849z"}].concat([])),n.createElement.apply(n,["path",{d:"M454.726 512.644c-6.457 0-11.697-5.22-11.697-11.657v-34.97c0-6.435 5.24-11.657 11.697-11.657 6.457 0 11.697 5.222 11.697 11.657v34.97c0 6.438-5.24 11.657-11.697 11.657z"}].concat([])),n.createElement.apply(n,["path",{d:"M454.727 489.33c12.92 0 23.392-10.44 23.392-23.314 0-12.876-10.472-23.314-23.392-23.314s-23.394 10.438-23.394 23.314c0 12.875 10.474 23.314 23.394 23.314zM524.905 419.388c-6.457 0-11.695-5.223-11.695-11.658v-23.314c0-32.127-26.222-58.286-58.484-58.286-32.26 0-58.484 26.159-58.484 58.286v23.314c0 6.435-5.24 11.658-11.697 11.658-6.457 0-11.697-5.223-11.697-11.658v-23.314c0-44.997 36.728-81.6 81.878-81.6 45.152 0 81.879 36.603 81.879 81.6v23.314c0 6.435-5.244 11.658-11.7 11.658zM11.7 559.772c-.936 0-1.872-.114-2.831-.347-6.293-1.565-10.083-7.884-8.516-14.131l14.06-56.002c6.854-27.23 26.856-48.773 53.548-57.632l103.821-34.482c24.4-10.165 35.816-50.429 38.272-65.7-17.919-16.367-34.599-40.987-34.599-63.135 0-8.253-2.456-11.657-3.743-12.287-3.65-.91-5.708-3.217-7.112-6.691-1.286-3.194-12.539-31.778-12.539-50.965 0-.956.117-1.912.352-2.821 1.286-5.106 4.865-12.59 11.345-16.973v-61.807C163.758 68.12 208.253.228 280.727.228c71.584 0 91.048 36.58 93.317 54.672 12.141 8.93 23.65 24.34 23.65 61.9v61.806c6.48 4.383 10.084 11.844 11.347 16.973.234.932.35 1.865.35 2.82 0 19.188-11.228 47.772-12.538 50.966-1.404 3.474-4.375 6.085-8.024 6.97-.351.35-2.83 3.755-2.83 12.008 0 21.1-8.353 32.034-13.358 38.562l-1.755 2.401c-3.603 5.362-10.878 6.761-16.212 3.218-5.38-3.59-6.83-10.818-3.252-16.18.749-1.096 1.638-2.285 2.62-3.591 4.024-5.246 8.562-11.19 8.562-24.41 0-17.416 7.23-27.091 14.083-31.638 3.369-9.139 8.726-25.715 9.264-36.533-.421-.933-.959-1.866-1.333-2.192-6.457 0-10.317-4.78-10.317-11.214v-69.967c0-34.318-11.065-41.313-15.79-44.297-2.831-1.795-7.603-4.803-8.282-11.214-.163-1.376.048-2.961.491-4.546-1.637-9.233-15.673-33.2-69.993-33.2-57.104 0-93.575 55.232-93.575 93.257v69.944c0 6.434-5.24 11.657-11.697 11.657.562 0 .35.792.048 1.678.515 10.842 5.918 27.488 9.264 36.604 6.854 4.57 14.083 14.222 14.083 31.638 0 15.69 15.51 36.673 30.833 49.31a11.633 11.633 0 014.257 8.975c0 14.805-13.498 75.539-53.992 92.349L75.33 453.739c-19.065 6.318-33.383 21.729-38.249 41.172l-14.06 56.002c-1.286 5.339-6.058 8.86-11.322 8.86z"}].concat([]))]))];return t&&l.unshift(n.createElement("title",null,t)),n.createElement.apply(n,["svg",a].concat(l))}eo.propTypes={"aria-label":Xr().string,className:Xr().string,style:Xr().object};const to=eo,ro="PlexAccountUpsellPageContent-panel-EncPgd",no="PlexAccountUpsellPageContent-panelIcon-2r82rE",io="PlexAccountUpsellPageContent-panelTitle-7HFN8f",ao="PlexAccountUpsellPageContent-panelDescription-335Imv";function lo(){return n.createElement(H.Z,{description:(0,C.Z)("Some benefits to a Plex account:"),title:(0,C.Z)("Sign up for a free account to continue")},n.createElement("div",{className:"PlexAccountUpsellPageContent-container-9aXYLs"},n.createElement("div",{className:ro},n.createElement(Xs,{className:no}),n.createElement("div",{className:io},(0,C.Z)("One App, Any Device")),n.createElement("div",{className:ao},(0,C.Z)("Pick up whatever you were watching exactly where you left off on any device"))),n.createElement("div",{className:ro},n.createElement(Js.Z,{className:no}),n.createElement("div",{className:io},(0,C.Z)("Save Your Favorites")),n.createElement("div",{className:ao},(0,C.Z)("Save your favorite Podcasts and Web Shows. Add a TIDAL subscription to save your favorite music and playlists"))),n.createElement("div",{className:ro},n.createElement(to,{className:no}),n.createElement("div",{className:io},(0,C.Z)("Parental Controls")),n.createElement("div",{className:ao},(0,C.Z)("Enable parental controls to keep things kid-friendly, or create separate accounts for your childish roommates")))),n.createElement(Qs.Z,null,n.createElement(D.Z,{kind:B.Z.Primary,size:zr.Z.Large,to:"#!/signUp"},(0,C.Z)("Sign Up"))))}var so=r(26091),oo=r(42102),co=r(93474);const uo={button:"PivotTab-button-OeEtvt Button-button-16qRwa Link-link-1Kt-hA",selectedButton:"PivotTab-selectedButton-3p13j3 PivotTab-button-OeEtvt Button-button-16qRwa Link-link-1Kt-hA"};var mo=Object.defineProperty,po=Object.prototype.hasOwnProperty,yo=Object.getOwnPropertySymbols,ho=Object.prototype.propertyIsEnumerable,vo=(e,t,r)=>t in e?mo(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;function fo(e){var t=e,{className:r=uo.button,selectedClassName:i=uo.selectedButton,isSelected:a,children:l}=t,s=((e,t)=>{var r={};for(var n in e)po.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&yo)for(var n of yo(e))t.indexOf(n)<0&&ho.call(e,n)&&(r[n]=e[n]);return r})(t,["className","selectedClassName","isSelected","children"]);return n.createElement(D.Z,((e,t)=>{for(var r in t||(t={}))po.call(t,r)&&vo(e,r,t[r]);if(yo)for(var r of yo(t))ho.call(t,r)&&vo(e,r,t[r]);return e})({className:a?i:r,size:zr.Z.Large},s),l)}var bo=r(21914),Eo=r(64780);const go={placement:"bottom-start",modifiers:[{name:"offset",options:{offset:[parseInt(rt.Z.pageHeaderTabButtonLeftRightMargin,10)]}}]};function Po({pivots:e,selectedPivot:t,onPivotPress:r}){var i;const[a,l,s]=(0,I.c9)(),o=(0,jr.Z)(),c=(0,Fr.Z)();return n.createElement("div",{className:"PivotTabDropdown-container-13QMH2","data-testid":"tabDropDown",id:o},n.createElement(fo,{className:"PivotTabDropdown-button-18whk6 PageHeaderTabButton-button-2_0YGs Button-button-2eWELt Link-link-3cHWtJ",isSelected:!!t,onPress:c.onToggle},n.createElement("div",{className:"PivotTabDropdown-buttonContents-2Qd0sC"},n.createElement("div",{className:"PivotTabDropdown-title-3iDu8S"},null!=(i=null==t?void 0:t.title)?i:e[0].title),n.createElement(xr.Z,{className:Zi()("PivotTabDropdown-disclosureArrow-YWqUim DisclosureArrow-disclosureArrow-2gjcXC",!!t&&"PivotTabDropdown-isSelected-3UhsEE"),direction:c.isOpen?bo.UP:bo.WV}))),n.createElement(Lr.Z,{isOpen:c.isOpen,options:go,target:o,onMenuClose:c.onClose},e.map(((e,i)=>{const o=(0,Eo.Z)(a,l,s,e);return o?n.createElement(Qr.Z,{key:i,isSelected:e===t,to:o,value:e.key,onPress:(0,Qn.Z)(r,c.onClose)},e.title):null}))))}var Io=r(67586);function Zo({pivots:e,selectedPivot:t}){const[r,i,a]=(0,I.c9)(),[l,{width:s}]=(0,Ye.Z)(),[o,{width:c}]=(0,Ye.Z)(),[d,u]=(0,n.useState)(c),m=c||d,p=(0,n.useMemo)((()=>e.filter((e=>!(0,Io.Z)(e)))),[e]),y=p.length<2,h=p.length>1&&m>s,v=(0,Wn.Z)({identifier:i.metricsIdentifier,origin:co.zQ}),f=we((0,n.useCallback)((()=>{v({action:Zn.oG})}),[v]));return(0,n.useEffect)((()=>{c&&u(c)}),[c]),y?null:n.createElement("div",{ref:l,className:"PivotTabsPageHeaderCenter-pageHeaderCenter-1KUcqB PageHeaderCenter-pageHeaderCenter-jzV214"},h?n.createElement(Po,{pivots:p,selectedPivot:t,onPivotPress:f}):n.createElement("div",{ref:o},p.map(((e,l)=>{const s=(0,Eo.Z)(r,i,a,e);return s?n.createElement(fo,{key:l,isSelected:e===t,to:s,onPress:f},e.title):null}))))}const wo=(0,$.P1)(de,(e=>e.title));var Co=r(83427);var Do=Object.defineProperty,So=Object.prototype.hasOwnProperty,Oo=Object.getOwnPropertySymbols,To=Object.prototype.propertyIsEnumerable,Mo=(e,t,r)=>t in e?Do(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,No=(e,t)=>{for(var r in t||(t={}))So.call(t,r)&&Mo(e,r,t[r]);if(Oo)for(var r of Oo(t))To.call(t,r)&&Mo(e,r,t[r]);return e};function ko({sourceURI:e,selectedPivot:t}){var r,i;const l=(0,o.I0)(),[,,s]=(0,I.c9)(),c=(0,o.v9)(ue),d=null!=(r=null==c?void 0:c.Pivot)?r:null==s?void 0:s.pivots,u=(0,o.v9)(wo),m=(0,o.v9)((0,Wr.Z)("directoryListStyles")),p=(0,n.useMemo)((()=>Us(e)),[e]),y=(0,o.v9)(p),h=(0,n.useMemo)((()=>Hs(e)),[e]),f=(0,o.v9)(h),b=(0,n.useCallback)((t=>{if(!e)return;const r=No(No({},m),{[e]:t});(0,v.c9)((()=>{l((0,Ar.LN)({directoryListStyles:r}))}))}),[l,m,e]);return n.createElement(Co.Z,{className:"DirectoryPageHeader-pageHeader-1BrjVv PrimaryPageHeader-pageHeader-ADN5t_ PageHeader-pageHeader-277zuU"},n.createElement(Ds.Z,null,n.createElement(oo.Z,{overrideTitle:u})),d&&t?n.createElement(Zo,{pivots:d,selectedPivot:t}):null,n.createElement(Ss.Z,null,n.createElement(so.Z,{listStyles:f,selectedListStyle:(null==t?void 0:t.key)===(null==(i=a.GG)?void 0:i.SharedItems)?void 0:y,onListStyleSelect:b})))}var Ro=r(44823),Ao=r(52372);const xo=(0,Wr.Z)("lastSourcePivots"),Lo=(0,Wr.Z)("shouldSaveLastSourcePivots"),jo=(0,Ns.Z)((function(e,t,r){return(0,$.P1)(xo,Lo,((n,i)=>{if(i)return n[(0,Ro.Z)(e,t,r)]}))})),Fo=function(e=[],t){return e.find((e=>e.id?e.id===t||e.key===t:!!e.key&&e.key===t))};var Go=Object.defineProperty,Ho=Object.prototype.hasOwnProperty,Uo=Object.getOwnPropertySymbols,Vo=Object.prototype.propertyIsEnumerable,Bo=(e,t,r)=>t in e?Go(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Ko=(e,t)=>{for(var r in t||(t={}))Ho.call(t,r)&&Bo(e,r,t[r]);if(Uo)for(var r of Uo(t))Vo.call(t,r)&&Bo(e,r,t[r]);return e};var zo=r(11736),Wo=r(47486),_o=r(72021),qo=r(27929),$o=r(66247),Qo=r(27726),Yo=r(69908),Xo=r(95815),Jo=r(80967),ec=r(81324),tc=r(70821),rc=r(75696),nc=r(92885);const ic="ChannelsGridPageContent-measureContainer-1q4fVC",ac="ChannelsGridPageContent-gridContent-2GTCHF ChannelsGrid-gridContainer-1GRWQh";var lc=r(55255),sc=r(13469),oc=r.n(sc),cc=r(11133),dc=r(20361);function uc(e){const{getCellHeights:t,overscan:r=0,outerPaddingTop:n=0,outerPaddingRight:i=0,outerPaddingBottom:a=0,outerPaddingLeft:l=0}=e;let s,o,c,d,u,m,p,y,h;function v(e){const t=oc().findIndex(u,(t=>t>e)),r=u.length-1;return-1===t?r:Math.min(Math.max(0,t-1),r)}return{getListStyle:function(e){const r=`${e.viewportHeight}:${e.viewportWidth}`;if(r===m)return p;s=e.viewportHeight,o=e.viewportWidth-(l+i),c=t(o),u=[];let y=n;return c.forEach((e=>{u.push(y),y+=e})),d=c.reduce(((e,t)=>e+t),n+a),m=r,p={height:d,width:o},p},getLandmarks:function(){(0,cc.Z)(void 0!==s,"`getListStyle` must be called before `getLandmarks`");const e=`${s}:${d}`;return e===y||(y=e,h=u.map(((e,t)=>({index:t,position:e/d})))),h},getPositionForIndex:function(e){return(0,cc.Z)(void 0!==s,"`getListStyle` must be called before `getPositionForIndex`"),{cellX:l,cellY:u[e],cellWidth:o,cellHeight:c[e]}},getRelativeIndex:function(){(0,cc.Z)(!1,"Stacked layouts do not support relative indexing")},getRangesForPosition:function(e,t,n){(0,cc.Z)(void 0!==s,"`getListStyle` must be called before `getPositionForIndex`");const i=e+s-1,a=v(e-r*s),l=v(e),o=v(i),c=v(i+r*s);return{visibleStartIndex:(0,dc.Z)(l,n),visibleEndIndex:(0,dc.Z)(o,n),partiallyVisibleStartIndex:(0,dc.Z)(l,n),partiallyVisibleEndIndex:(0,dc.Z)(o,n),renderStartIndex:(0,dc.Z)(a,n),renderEndIndex:(0,dc.Z)(c,n)}}}}var mc=r(96443);const pc="ChannelsGrid-gridContainer-1GRWQh",yc="ChannelsGrid-gridRowCell-22ob33 ChannelsGrid-gridContainer-1GRWQh",hc="ChannelsGrid-gridRow-WGWRTF ChannelsGridRow-container-1GpikV",vc="ChannelsGrid-gridContent-2pMjZT",fc="ChannelsGrid-gridInnerContent-3jrFpi VirtualListScroller-scroller-1a3KwJ",bc="ChannelsGrid-timeline-2GX11n ChannelsGridTimeline-container-1M5T9M",Ec="ChannelsGrid-innerEmptyPage-3gWJ85 InnerEmptyPage-innerEmptyPage-1_dJY8 EmptyPage-emptyPage-1x0rNX";var gc=r(31212),Pc=r(11956),Ic=r(62813);const Zc="ChannelsGridRow-title-3KeQ91 ChannelsGridRowTitle-container-1DnP0p",wc="ChannelsGridRow-programsContainer-31OUMU",Cc="ChannelsGridRow-program-3it3bC ChannelsGridMetadataItemCell-container-3iqjsS",Dc="ChannelsGridRow-progress-39EAhb";var Sc=r(27028),Oc=r(9220),Tc=r(84699),Mc=r(5148),Nc=r(80126),kc=r(39776),Rc=r(9903),Ac=r(26229),xc=r(98582),Lc=r(84807);const jc=function(e){const{beginsAt:t,endsAt:r,timeFormat:i,channelTitle:a,contentRating:l}=e,{airTime:s,duration:o}=function(e,t,r,n){const i=Math.floor(Date.now()/1e3);let a="",l="";if(i>=e&&i<=t)a=(0,C.Z)("Now on {channel}",{channel:n}),l=(0,Rc.Z)(t-i);else{const i=(0,Ac.Z)(e,t,{timeFormat:r,separator:" - "});a=(0,C.Z)("{timeRange} on {channel}",{timeRange:i,channel:n}),l=(0,kc.Z)(1e3*(t-e))}return{airTime:a,duration:l}}(t,r,i,a);return n.createElement("div",{className:"ChannelsGridDetailRowAirTime-container-g49w9_"},s,n.createElement(Lc.Z,null),o,n.createElement("div",{className:"ChannelsGridDetailRowAirTime-contentRating-3daytz"},(0,xc.Z)(l)))};var Fc=r(69881),Gc=r(33894),Hc=r(92797),Uc=r(96121),Vc=r(18095);const Bc="ChannelsGridDetailRowTitle-titleContainer-MtlKIZ",Kc="ChannelsGridDetailRowTitle-primaryTitle-EytXj8",zc="ChannelsGridDetailRowTitle-secondaryTitle-1da8x7",Wc=function(e){const{type:t,metadataItemEntityID:r,serverEntityID:i,providerEntityID:a}=e,l=function(e){let t;switch(e){case Fc.MOVIE:t=[Uc.Z,Vc.Z];break;case Fc.SHOW:t=[Uc.Z,Hc.Z];break;case Fc.EPISODE:t=[Gc.Z,Hc.Z];break;default:t=[Uc.Z]}return t}(t);return n.createElement("div",{className:Bc},l.map(((e,t)=>{const l=0===t?Kc:zc;return n.createElement(e,{key:t,className:l,metadataItemEntityID:r,providerEntityID:a,serverEntityID:i})})))};var _c=r(34007),qc=r(81017),$c=r(91135),Qc=r(52097),Yc=r(10128);const Xc=function(e){const{title:t,showPlay:r,showRecord:i,onPlayPress:a,onRecordPress:l}=e;return n.createElement("div",{className:"ChannelsGridMetadataCellButtons-actions-2LaFmL"},r?n.createElement(Qc.Z,{className:"ChannelsGridMetadataCellButtons-playButton-1msY09 PlayButton-playButton-3Thb8u ChannelsGridMetadataCellButtons-button-2F2UU1","data-testid":"guide-row-item-play",tabIndex:"-1",title:t,onPress:a}):null,i?n.createElement(Yc.Z,{className:"ChannelsGridMetadataCellButtons-recordButton-2aHDUW RecordButton-recordButton-2D-jbP PlayButton-playButton-3Thb8u RecordIcon-recordIconContainer-2eYssT ChannelsGridMetadataCellButtons-button-2F2UU1","data-testid":"guide-row-item-record",tabIndex:"-1",title:t,onPress:l}):null)};var Jc=r(5011);function ed(e){const t=e["aria-label"],r=e.className,i=e.style,a={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-play-560"};a["aria-hidden"]=!t,a.style=i,a.className=Jr.Z.plexIcon+(r?" "+r:"");const l=[n.createElement.apply(n,["path",{d:"M80,0L560,280L80,560L80,0Z"}].concat([]))];return t&&l.unshift(n.createElement("title",null,t)),n.createElement.apply(n,["svg",a].concat(l))}ed.propTypes={"aria-label":Xr().string,className:Xr().string,style:Xr().object};const td=ed,rd="ChannelsGridMetadataDetailButtons-icon-3au-Z5",nd=function(e){const{subscriptionType:t,isSubscribed:r,isOnAir:i,showRecord:a,onPlayPress:l,onRecordPress:s}=e,o=i?(0,C.Z)("Watch Now"):(0,C.Z)("Watch Channel"),c=r?(0,C.Z)("Recording Scheduled"):(0,C.Z)("Record");return n.createElement("span",null,n.createElement(je.Z,{className:"ChannelsGridMetadataDetailButtons-playButton-17jkhw",kind:Fe.Py,size:$l.HC,onPress:l},n.createElement(td,{className:rd}),o),a?n.createElement(je.Z,{className:"ChannelsGridMetadataDetailButtons-recordButton-1y2Uyt ChannelsGridMetadataDetailButtons-playButton-17jkhw",kind:Fe.Py,size:$l.HC,onPress:s},n.createElement(Jc.Z,{className:rd,type:t}),c):null)};class id extends n.Component{constructor(){super(...arguments),this.onRecordPress=e=>{const{serverEntityID:t,providerEntityID:r,metadataItemEntityID:n,type:i,onRecordPress:a}=this.props;a({serverEntityID:t,providerEntityID:r,metadataItemEntityID:n,subscriptionType:i})}}render(){const{className:e,title:t,subscriptionType:r,isCompact:i,isOnAir:a,isSubscribed:l,showPlay:s,showRecord:o,onPlayPress:c}=this.props,d=i?Xc:nd;return n.createElement("span",{className:e},n.createElement(d,{isOnAir:a,isSubscribed:l,showPlay:s,showRecord:o,subscriptionType:r,title:t,onPlayPress:c,onRecordPress:this.onRecordPress}))}}const ad=id;var ld=Object.defineProperty,sd=Object.prototype.hasOwnProperty,od=Object.getOwnPropertySymbols,cd=Object.prototype.propertyIsEnumerable,dd=(e,t,r)=>t in e?ld(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,ud=(e,t)=>{for(var r in t||(t={}))sd.call(t,r)&&dd(e,r,t[r]);if(od)for(var r of od(t))cd.call(t,r)&&dd(e,r,t[r]);return e};const md={dispatchStartLiveTVPlayback:_c.lS},pd=(0,yl.Z)((function(){return(0,$.P1)((0,qc.Z)(),(0,$.P1)(((e,{beginsAt:t})=>t),((e,{endsAt:t})=>t),((e,t)=>{const r=Math.floor(Date.now()/1e3);return r>=e&&r<=t})),((e={},t)=>{const{type:r,title:n,grandparentTitle:i,subscriptionID:a,grandparentSubscriptionID:l,subscriptionType:s,grandparentSubscriptionType:o}=e;return{type:r,title:i||n,subscriptionType:o||s||r,isSubscribed:!(!l&&!a),isOnAir:t}}))}),md)((function(e){const t=e,{dispatchStartLiveTVPlayback:r}=t,i=((e,t)=>{var r={};for(var n in e)sd.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&od)for(var n of od(e))t.indexOf(n)<0&&cd.call(e,n)&&(r[n]=e[n]);return r})(t,["dispatchStartLiveTVPlayback"]),{serverEntityID:a,providerEntityID:l,channelIdentifier:s,metricsPage:o,metricsContext:c}=e,d=(0,n.useCallback)((()=>{r(ud(ud({},{serverEntityID:a,providerEntityID:l,metricsPage:o,metricsContext:c}),{options:{type:$c.pX,identifier:s}}))}),[a,l,o,c,r,s]);return n.createElement(ad,ud(ud({},i),{onPlayPress:d}))})),yd="ChannelsGridDetailRow-container-17UrLF",hd="ChannelsGridDetailRow-preplayContainer-2PALO6",vd="ChannelsGridDetailRow-poster-30YJ65 PosterCard-card-1Y_ADe",fd="ChannelsGridDetailRow-navigationContainer-1EfNVz";function bd(e){const{className:t,metadataItemEntityID:r,serverEntityID:i,providerEntityID:a,mediaIndex:l,type:s,summary:o,thumb:c,contentRating:d,beginsAt:u,endsAt:m,timeFormat:p,channelIdentifier:y,channelTitle:h,channelShortTitle:v,showRecord:f,onRecordPress:b,onNextPress:E,onPrevPress:g}=e;return n.createElement("div",{className:t},n.createElement(Tc.Z,{className:vd,component:Mc.Z,height:(0,Nc.Cr)(80,s,null,Oc.lD),providerEntityID:a,serverEntityID:i,type:s,url:c,width:80}),n.createElement("div",{className:hd},n.createElement(Wc,{metadataItemEntityID:r,providerEntityID:a,serverEntityID:i,type:s}),n.createElement(jc,{beginsAt:u,channelTitle:v||h,contentRating:d,endsAt:m,timeFormat:p}),n.createElement(pd,{beginsAt:u,channelIdentifier:y,endsAt:m,mediaIndex:l,metadataItemEntityID:r,providerEntityID:a,serverEntityID:i,showPlay:!0,showRecord:f,onRecordPress:b}),n.createElement("p",null,o),n.createElement("div",{className:fd},n.createElement(Sc.Z,{iconComponent:K.ed9,title:(0,C.Z)("Previous"),onPress:g}),n.createElement(Sc.Z,{iconComponent:K.VG8,title:(0,C.Z)("Next"),onPress:E}))))}bd.defaultProps={className:yd};const Ed=bd;var gd=r(77981);const Pd=function({className:e,tabIndex:t,allowLink:r=!0,metadataItem:i}){return n.createElement("span",{className:e},n.createElement(gd.Z,{allowLink:!!i.title,metadataItem:i,tabIndex:t}),i.title?n.createElement(Lc.Z,null):null,i.title?n.createElement(ht.Z,{allowLink:r,metadataItem:i,tabIndex:t}):null)};var Id=r(87534),Zd=r(48571);function wd({metadataItem:e}){const t=(0,n.useMemo)((()=>{let t;switch(e.type){case Ht.pG.Movie:t=[ht.Z,Zd.Z];break;case Ht.pG.Show:t=[ht.Z,Pd];break;case Ht.pG.Episode:t=[Id.Z,Pd];break;default:t=[ht.Z]}return t}),[e]);return n.createElement("div",{className:Bc},t.map(((t,r)=>{const i=0===r?Kc:zc;return n.createElement(t,{key:r,className:i,metadataItem:e})})))}var Cd=r(93966),Dd=r(32827),Sd=r(59861);function Od({className:e,airing:t,channel:r,isCompact:i=!1,showPlay:a,showRecord:l,onRecordPress:c}){const{metadataItem:d,beginsAt:u,endsAt:m}=t,p=(0,o.I0)(),y=(0,ut.Z)(d.sourceURI),{metricsPage:h,metricsContextTuple:v}=(0,s.Zn)(),f=(0,Sd.Z)(d),[b,E]=(0,I.c9)(),g=d.grandparentTitle||d.title,P=Math.floor(Date.now()/1e3),Z=P>=u&&P<=m,w=!(!y.grandparentSubscriptionID&&!y.subscriptionID),C=y.grandparentSubscriptionType||y.subscriptionType||d.type,D=(0,n.useCallback)((()=>{f({action:Zn.NH}),p(_c.lS({serverEntityID:b.entityID,providerEntityID:E.entityID,metricsPage:h,metricsContext:v,options:{type:$c.pX,identifier:r.id}}))}),[p,b,E,r,h,v,f]),S=(0,n.useCallback)((()=>{const e=(0,Cd.DB)("appModel"),{metadataItemModel:t}=(0,Dd.Z)(e,{server:b,provider:E,metadataItem:d,metadataItemState:y}),n={serverEntityID:b.entityID,providerEntityID:E.entityID,metadataItemEntityID:t.entityID(),channelGridKey:r.gridKey,subscriptionType:C};c(n)}),[b,E,d,y,r.gridKey,C,c]),O=i?Xc:nd;return n.createElement("span",{className:e},n.createElement(O,{isOnAir:Z,isSubscribed:w,showPlay:a,showRecord:l,subscriptionType:C,title:g,onPlayPress:D,onRecordPress:S}))}function Td({className:e=yd,channel:t,airing:r,showRecord:i,onRecordPress:a,onNextPress:l,onPrevPress:s}){const[c,d]=(0,I.c9)(),u=(0,o.v9)((0,Wr.Z)("timeFormat")),{metadataItem:m,beginsAt:p,endsAt:y}=null!=r?r:{};return m?n.createElement("div",{className:e},n.createElement(Tc.Z,{className:vd,component:Mc.Z,height:(0,Nc.Cr)(80,m.type,null,Oc.lD),providerEntityID:d.entityID,serverEntityID:c.entityID,type:m.type,url:m.grandparentThumb||m.thumb,width:80}),n.createElement("div",{className:hd},n.createElement(wd,{metadataItem:m}),n.createElement(jc,{beginsAt:p,channelTitle:t.shortTitle||t.title,contentRating:m.contentRating,endsAt:y,timeFormat:u}),n.createElement(Od,{airing:r,channel:t,showPlay:!0,showRecord:i,onRecordPress:a}),n.createElement("p",null,m.summary),n.createElement("div",{className:fd},n.createElement(Sc.Z,{iconComponent:K.ed9,title:(0,C.Z)("Previous"),onPress:s}),n.createElement(Sc.Z,{iconComponent:K.VG8,title:(0,C.Z)("Next"),onPress:l})))):null}var Md=r(19013),Nd=r(18878),kd=r(39409),Rd=r(73862),Ad=r(38853);const xd=parseInt(rt.Z.channelGridChannelColumnWidth,10),Ld=.3*xd;class jd extends n.Component{constructor(e,t){super(e,t),this.state={placeholderWidth:Ld+Math.random()*(xd-Ld)}}render(){const{className:e,children:t}=this.props,{placeholderWidth:r}=this.state;return n.createElement("div",{className:e,style:{width:`${r}px`}},n.createElement("div",{className:"ChannelsGridPlaceholder-bar-3TpmR4"},t))}}jd.defaultProps={className:"ChannelsGridPlaceholder-container-3XqcQD"};const Fd=jd;function Gd(e){const{className:t}=e;return n.createElement(kd.Z,{className:t},(0,C.Z)("New"))}Gd.defaultProps={className:"PremiereAiringBadge-badge-3YV_NL"};const Hd=Gd,Ud="ChannelsGridMetadataItemCell-container-3iqjsS",Vd="ChannelsGridMetadataItemCell-selected-2VzYEm",Bd="ChannelsGridMetadataItemCell-hoverable-1A9d5M",Kd="ChannelsGridMetadataItemCell-subTitleContainer-18VB6r",zd="ChannelsGridMetadataItemCell-actions-pEA9gW",Wd="ChannelsGridMetadataItemCell-onAir-1F-pce",_d="ChannelsGridMetadataItemCell-finishedAiring-1D_0w6",qd="ChannelsGridMetadataItemCell-underlay-iuBejY",$d="ChannelsGridMetadataItemCell-content-jqa_ik",Qd="ChannelsGridMetadataItemCell-actionsContainer-1lSfc_",Yd="ChannelsGridMetadataItemCell-subTitle-2pS_DR",Xd="ChannelsGridMetadataItemCell-premiereBadge-3o8Msn PremiereAiringBadge-badge-3YV_NL",Jd="ChannelsGridMetadataItemCell-subscriptionBadge-3avjgf",eu="ChannelsGridMetadataItemCell-placeholderContainer-3YToDK";function tu({airing:e,width:t,className:r=Ud,channel:i,cellIndex:a,isSelected:l,showLoader:s,showRecord:c,onPress:d,onRecordPress:u}){var m;const{metadataItem:p,mediaIndex:y,beginsAt:h,endsAt:v,isSynthetic:f}=e,b=(0,o.I0)(),[E,g]=(0,I.c9)(),P=(0,ut.Z)(null==p?void 0:p.sourceURI),Z=(0,o.v9)(Nd.Z),w=null!=y?null==(m=null==p?void 0:p.Media)?void 0:m[y]:void 0,C=null==w?void 0:w.premiere,D=null!=P.subscriptionType||null!=P.grandparentSubscriptionType,S=p&&null==p.index&&!!p.originallyAvailableAt;let O=!0;if(S&&(null==p?void 0:p.originallyAvailableAt)){const e=new Date,t=(0,Md.Z)(p.originallyAvailableAt);O=e.getDate()!==t.getDate()||e.getMonth()!==t.getMonth()||e.getFullYear()!==t.getFullYear()}const T=(0,n.useMemo)((()=>p?p.type===Ht.pG.Movie?Zd.Z:p.type!==Ht.pG.Show&&p.type!==Ht.pG.Episode||!O?null:gd.Z:null),[p,O]),M=Math.floor(Date.now()/1e3),N=!!(M>=h&&M<=v),k=!!(v&&M>=v);(0,n.useEffect)((()=>{p&&Z&&b((0,Rd.redispatchLegacyMetadataAction)({server:E,provider:g,metadataItem:p,metadataItemState:P,legacyAction:(0,Ad.yU)()}))}),[b,Z,p,P,g,E]);const R=(0,n.useCallback)((()=>{p&&null!=y&&d(p.key,y,a)}),[p,y,a,d]);if(s)return n.createElement("div",{className:r,style:{width:`${t}px`}},n.createElement("div",{className:eu},n.createElement(Fd,null),n.createElement(Fd,null)));const A=P.subscriptionType||P.grandparentSubscriptionType;return n.createElement("div",{className:Zi()(r,N&&Wd,l&&Vd,!f&&(N||c)&&Bd,k&&_d),"data-qa-id":"guide-row-item",style:{width:`${t}px`}},n.createElement("div",{className:$d},n.createElement(vl.Z,{className:qd,isDisabled:f,onPress:f?void 0:R}),n.createElement("div",null,p.title),f?null:n.createElement("div",{className:Qd},n.createElement("div",{className:Kd},T?n.createElement(T,{className:Yd,metadataItem:p}):null,C?n.createElement(Hd,{className:Xd}):null,D?n.createElement(kd.Z,{className:Jd},n.createElement(Jc.Z,{type:A})):null),n.createElement(Od,{airing:e,channel:i,className:zd,isCompact:!0,showPlay:N,showRecord:c,onRecordPress:u}))))}const ru=function(e){const{className:t,width:r,isActive:i}=e,a={width:`${r}px`};return n.createElement("div",{className:t},n.createElement("div",{className:Zi()("ChannelsGridProgress-fill-2JQfsQ",i&&"ChannelsGridProgress-active-3Hf8u6"),style:a}))};function nu({className:e}){const{airedProgress:t,columnWidth:r,visibleColumns:i}=(0,o.v9)(tc.Z),a=(0,n.useMemo)((()=>t/100*i*r),[t,r,i]);return n.createElement(ru,{className:e,width:a})}var iu=r(59466);function au(e){const t=e["aria-label"],r=e.className,i=e.style,a={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-recent-channel-560"};a["aria-hidden"]=!t,a.style=i,a.className=Jr.Z.plexIcon+(r?" "+r:"");const l=[n.createElement.apply(n,["path",{d:"M317.1429 42C185.7926 42 79.2857 148.5712 79.2857 280H0l99.6533 99.713c3.3475 3.35 8.7746 3.35 12.1219 0L211.428 280h-79.2852c0-102.34 82.7223-185.1112 185-185.1112 102.2778 0 185.0006 82.7712 185.0006 185.1112 0 102.3391-82.7228 185.1117-185.0005 185.1117-51.0069 0-97.2566-20.8926-130.5566-54.4767l-37.5292 37.5517C192.1354 491.2908 251.3366 518 317.143 518 448.493 518 555 411.4292 555 280c0-131.4288-106.5069-238-237.8571-238zm-37.1435 132.2208v132.2225l112.32 66.1117 19.8223-33.0559-92.4994-52.89V174.2208h-39.6429z"}].concat([]))];return t&&l.unshift(n.createElement("title",null,t)),n.createElement.apply(n,["svg",a].concat(l))}au.propTypes={"aria-label":Xr().string,className:Xr().string,style:Xr().object};const lu=au,su=parseInt(rt.Z.channelGridChannelIconWidth,10),ou=parseInt(rt.Z.channelGridRowHeight,10);function cu({className:e="ChannelsGridRowTitle-container-f0U95b",channel:t}){const r=(0,o.I0)(),{metricsPage:i,metricsContextTuple:a}=(0,s.Zn)(),[l,c]=(0,I.c9)(),[d,u]=(0,Zt.Z)(),m=(0,n.useCallback)((()=>{r((0,_c.lS)({serverEntityID:l.entityID,providerEntityID:c.entityID,metricsPage:i,metricsContextTuple:a,options:{type:$c.pX,identifier:t.id}}))}),[r,t,l,c,i,a]),p=t.vcn||t.id;return n.createElement("div",{ref:u,className:e,"data-qa-id":"guide-channel-name"},l.isCloud?null:n.createElement("div",{className:"ChannelsGridRowTitle-numberContainer-XGwIim"},d?n.createElement(iu.Z,{className:"ChannelsGridRowTitle-playButton-2NHmCs PlayButton-playButton-1cP4uX Link-link-1Kt-hA","data-qa-id":"guide-channel-play",tabIndex:"-1",title:(0,C.Z)("Play Channel {channel}",{channel:p}),onPress:m}):n.createElement("span",null,p)),n.createElement("div",{className:Zi()("ChannelsGridRowTitle-thumbnailContainer-c2YDgj",l.isCloud&&"ChannelsGridRowTitle-fullWidth-2u7FpO",t.isRecent&&"ChannelsGridRowTitle-isRecent-1fqshc")},t.thumb?n.createElement(Bt.Z,{key:t.thumb,className:"ChannelsGridRowTitle-thumbnail-3o29zU",fit:Bt.k.Contain,height:ou,src:t.thumb,width:su}):n.createElement("div",{className:"ChannelsGridRowTitle-channelCallSignText-2eVyf7",title:t.callSign},t.callSign),t.isRecent?n.createElement(lu,{className:"ChannelsGridRowTitle-icon-3yRoNK"}):null,l.isCloud&&d?n.createElement(iu.Z,{className:"ChannelsGridRowTitle-fullWidthPlayButton-H1nDo7 ChannelsGridRowTitle-playButton-2NHmCs PlayButton-playButton-1cP4uX Link-link-1Kt-hA","data-qa-id":"guide-channel-play",tabIndex:-1,title:(0,C.Z)("Play Channel {channel}",{channel:t.callSign}),onPress:m}):null))}var du=Object.prototype.hasOwnProperty,uu=Object.getOwnPropertySymbols,mu=Object.prototype.propertyIsEnumerable;function pu(e){var t=e,{channel:r,className:i,rowClassName:l,selectedMetadataItemKey:s,selectedMediaIndex:c,selectedMediaItemRow:d,onMetadataItemPress:u,onNextPress:m,onPrevPress:p,onDetailRowMeasure:y,onRecordPress:h}=t,v=((e,t)=>{var r={};for(var n in e)du.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&uu)for(var n of uu(e))t.indexOf(n)<0&&mu.call(e,n)&&(r[n]=e[n]);return r})(t,["channel","className","rowClassName","selectedMetadataItemKey","selectedMediaIndex","selectedMediaItemRow","onMetadataItemPress","onNextPress","onPrevPress","onDetailRowMeasure","onRecordPress"]);const{gridKey:f}=r,b=(0,Pc.Z)(v),E=(0,o.I0)(),[g,Z]=(0,I.c9)(),{columnTimes:w,columnWidth:C}=(0,o.v9)(tc.Z),{cachedDates:D,isPending:S,isPopulated:O}=(0,o.v9)((0,Ic.Z)(f)),T=(0,o.v9)((0,mc.Z)(g,Z,r)),M=(0,n.useMemo)((()=>T.find((e=>{var t;return(null==(t=e.metadataItem)?void 0:t.key)&&e.metadataItem.key===s&&e.mediaIndex===c}))),[T,s,c]),N=w[1]-w[0],k=w[0],R=w[w.length-1],A=!!(0,P.Z)(Z,a.zW.Subscribe);return(0,n.useEffect)((()=>{M||d!==v.cellIndex||u(null,0,-1)}),[v,M,d,u]),(0,n.useEffect)((()=>{!f||S||O||E(Qo.ZP.actions.channelAiringsFetchRequested({server:g,provider:Z,channelGridKey:f,date:1e3*k}))}),[E,g,Z,f,k,S,O]),(0,n.useEffect)((()=>{let e=null;const t=(0,gc.Z)(1e3*k,"yyyy-MM-dd"),r=(0,gc.Z)(1e3*R,"yyyy-MM-dd");D.includes(t)?D.includes(r)||(e=R):e=k,f&&e&&!S&&E(Qo.ZP.actions.channelAiringsFetchRequested({server:g,provider:Z,channelGridKey:f,date:1e3*e}))}),[E,g,Z,f,k,R,S,D]),n.createElement("div",{className:i,"data-qa-id":"guide-row",style:b.style},n.createElement("div",{className:l},n.createElement(cu,{channel:r,className:Zc}),n.createElement("div",{className:wc},n.createElement(nu,{className:Dc}),T.map(((e,t)=>{const{metadataItem:i,mediaIndex:a,beginsAt:l,endsAt:o,isSynthetic:m}=e,p=Math.max(l,k),y=(Math.min(o,R)-p)/N*C,f=!(!i||v.cellIndex!==d||s!==i.key||c!==a);return n.createElement(tu,{key:t,airing:e,cellIndex:v.cellIndex,channel:r,className:Cc,isSelected:f,showLoader:m&&(S||!S&&!O),showRecord:A,width:y,onPress:u,onRecordPress:h})})))),M&&v.cellIndex===d?n.createElement(Jo.Z,{key:s,onMeasure:y},n.createElement(Td,{airing:M,channel:r,showRecord:A,onNextPress:m,onPrevPress:p,onRecordPress:h})):null)}var yu=r(41232),hu=r(48903),vu=r(64381);const fu="ChannelsGridTimeline-navigationButton-3qQUEd";function bu(e){const{className:t,enablePrevious:r,enableNext:i,startDate:a,columnTimes:l,timeFormat:s,columnWidth:o,dispatchPrevious:c,dispatchNext:d}=e;return n.createElement("div",{className:t},n.createElement("div",{className:"ChannelsGridTimeline-dayContainer-2UPaJl"},a?(0,gc.Z)(a,"EEEE, LLL dd"):null),n.createElement("div",{className:"ChannelsGridTimeline-labelContainer-DE-gBH"},l.map(((e,t)=>n.createElement("div",{key:t,className:"ChannelsGridTimeline-label-1MPGxp",style:{width:`${o}px`}},function(e,t="HH:mm:ss"){return e?(0,vu.Z)(e,t):""}(1e3*e,s))))),n.createElement("div",{className:"ChannelsGridTimeline-navigationButtons-2GChH5"},n.createElement(Sc.Z,{className:fu,iconComponent:K.ed9,isDisabled:!r,title:(0,C.Z)("Previous"),onPress:c}),n.createElement(Sc.Z,{className:fu,iconComponent:K.VG8,isDisabled:!i,title:(0,C.Z)("Next"),onPress:d})))}bu.defaultProps={className:"ChannelsGridTimeline-container-1M5T9M"};const Eu=bu;function gu({className:e}){const t=(0,o.I0)(),r=(0,o.v9)(hu.Z),{columnTimes:i,columnWidth:a,startTime:l}=(0,o.v9)(tc.Z),s=(new Date).getTime()-108e5;let c=new Date(1e3*l).getTime();const d=c>s;(0,yu.Z)(l)&&(c=null);const u=(0,n.useCallback)((()=>{t(Qo.ZP.actions.channelsGridNavigateTimeBack())}),[t]),m=(0,n.useCallback)((()=>{t(Qo.ZP.actions.channelsGridNavigateTimeForward())}),[t]);return n.createElement(Eu,{className:e,columnTimes:i,columnWidth:a,dispatchNext:m,dispatchPrevious:u,enableNext:!0,enablePrevious:d,startDate:c,timeFormat:r})}var Pu=Object.defineProperty,Iu=Object.prototype.hasOwnProperty,Zu=Object.getOwnPropertySymbols,wu=Object.prototype.propertyIsEnumerable,Cu=(e,t,r)=>t in e?Pu(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Du=(e,t)=>{for(var r in t||(t={}))Iu.call(t,r)&&Cu(e,r,t[r]);if(Zu)for(var r of Zu(t))wu.call(t,r)&&Cu(e,r,t[r]);return e};const Su=parseInt(rt.Z.channelGridRowHeight,10)-1;function Ou({className:e=pc,channels:t,onRecordPress:r}){var i;const a=(0,o.I0)(),[l,s]=(0,I.c9)(),{columnTimes:c,viewportWidth:d,viewportHeight:u}=(0,o.v9)(tc.Z),[m,p]=(0,n.useState)(null),[y,h]=(0,n.useState)(null),[v,f]=(0,n.useState)(-1),[b,E]=(0,n.useState)(0),g=null!=(i=t[v])?i:{},P=(0,o.v9)((0,mc.Z)(l,s,g));(0,n.useEffect)((()=>{a(Qo.ZP.actions.channelsGridUpdateAiredProgress());const e=6e4-Date.now()%6e4,t=window.setInterval((()=>a(Qo.ZP.actions.channelsGridUpdateAiredProgress())),e);return()=>{window.clearInterval(t)}}),[a,c]);const Z=(0,n.useCallback)(((e,t,r)=>{const n=y!==e||m!==t||v!==r;h(n?e:null),p(n?t:null),f(n?r:-1),E(n?140:0)}),[m,p,y,h,v,f,E]),w=(0,n.useCallback)((({height:e})=>{E(e)}),[E]),C=(0,n.useCallback)((()=>{var e;const t=P.findIndex((e=>e.metadataItem.key===y&&e.mediaIndex===m))-1,{metadataItem:r,mediaIndex:n}=null!=(e=P[t])?e:{};r&&(h(r.key),p(n)),t<=1&&a(Qo.ZP.actions.channelsGridNavigateTimeBack())}),[a,P,y,m,h,p]),D=(0,n.useCallback)((()=>{var e;const t=P.findIndex((e=>e.metadataItem.key===y&&e.mediaIndex===m))+1,{metadataItem:r,mediaIndex:n}=null!=(e=P[t])?e:{};r&&(h(r.key),p(n)),t>=P.length-1&&a(Qo.ZP.actions.channelsGridNavigateTimeForward())}),[a,P,y,m,h,p]),S=(0,n.useCallback)((()=>t.map(((e,t)=>{let r=Su;return t===v&&(r+=b||140),r}))),[t,v,b]),O=(0,n.useCallback)((e=>{const i=t[e.cellIndex];return i?n.createElement(pu,Du(Du({},e),{channel:i,className:yc,rowClassName:hc,selectedMediaIndex:m,selectedMediaItemRow:v,selectedMetadataItemKey:y,onDetailRowMeasure:w,onMetadataItemPress:Z,onNextPress:D,onPrevPress:C,onRecordPress:r})):null}),[m,v,y,t,Z,D,C,w,r]),T=l.isCloud?"uniqueID":"gridKey";return n.createElement("div",{className:e},n.createElement(gu,{className:bc}),n.createElement(lc.Z,{cellRenderer:O,className:vc,items:t,keyPropName:T,layout:uc({getCellHeights:S}),scrollDirection:ql.yZ,scrollerClassName:fc,size:t.length,viewportHeight:u,viewportWidth:d}))}var Tu=Object.defineProperty,Mu=Object.prototype.hasOwnProperty,Nu=Object.getOwnPropertySymbols,ku=Object.prototype.propertyIsEnumerable,Ru=(e,t,r)=>t in e?Tu(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Au=(e,t)=>{for(var r in t||(t={}))Mu.call(t,r)&&Ru(e,r,t[r]);if(Nu)for(var r of Nu(t))ku.call(t,r)&&Ru(e,r,t[r]);return e};const xu=parseInt(rt.Z.channelGridChannelOverflowWidth,10),Lu=parseInt(rt.Z.channelGridChannelColumnWidth,10),ju=parseInt(rt.Z.channelGridTitleColumnWidth,10);function Fu({channels:e}){const t=(0,o.I0)(),r=(0,nc.Z)(),[i,a]=(0,n.useState)(!1),[l,s]=(0,n.useState)(null),[c,d]=(0,n.useState)(),{columnTimes:u}=(0,o.v9)(tc.Z);(0,n.useEffect)((()=>{const e=Math.floor(Date.now()/1e3);let r=7200;if(u[0]<=e&&u[1]>=e){const t=u.find((t=>e<t));t&&(r=t-e)}const n=window.setTimeout((()=>t(Qo.ZP.actions.channelsGridResetStartTime())),1e3*r);return()=>window.clearTimeout(n)}),[u,t]);const m=(0,n.useCallback)((e=>{i&&(0,ec.Z)(l,e)||(a(!0),s(e),t(Qo.ZP.actions.channelsGridSetViewportSize({width:e.width,height:e.height,overflowWidth:xu,channelWidth:Lu,channelTitleWidth:ju})))}),[i,l,a,s,t]),p=(0,n.useCallback)((e=>{d(e),r.onOpen()}),[r,d]);return n.createElement(n.Fragment,null,n.createElement(rc.Z,Au(Au({},c),{isOpen:r.isOpen,onModalClose:r.onClose})),n.createElement(Jo.Z,{className:ic,onMeasure:m},n.createElement(Ou,{channels:e,className:ac,onRecordPress:p})))}var Gu=r(41859),Hu=r(89197),Uu=r(58730),Vu=r(81858);const Bu=function(e,t,r,n){return(0,$.P1)(((e,t)=>(0,$.P1)((0,Vu.Z)(e,t),(e=>[{key:`/${e.identifier}/grid?channel.value=1`,filter:_o.T,filterKey:"channel.value",filterType:Uu.I,title:(0,C.Z)("HD Channels Only")}])))(r,n),(r=>{if(!e||!e.length)return(0,C.Z)("All Channels");if(e&&1===e.length){const t=e[0],n=r.find((e=>e.filter===t.key));if(n)return n.title}return t||(0,C.Z)("Filtered")}))};var Ku=r(91061),zu=r(77909),Wu=r(74995);function _u(e,t){if(e&&e.pivots)return e.pivots.find((e=>e.key===t))}var qu=r(59701),$u=r(32553);const Qu=(0,$.P1)((0,qu.Z)("features"),(e=>(0,$u.Z)(e,(e=>e.id),(()=>!0))));var Yu=r(96335),Xu=r(8732);const Ju=(0,o.$j)(null,(function(e,t){const{serverEntityID:r,providerEntityID:n,providerMetricsIdentifier:i,sourceDirectory:a,tab:l,metricsPage:s}=t;return{onPress(t,o){o||e((0,Ze.zt)({serverEntityID:r,providerEntityID:n,directoryID:a.id,pivotKey:l.pivotKey})),(0,Cd.DB)("metrics").trackEvent({event:Yu.Ip,interaction:!0,properties:{page:s,identifier:i,action:Zn.oG,context:l.context,origin:co.zQ}})}}}))(Xu.Z);var em=r(94915),tm=Object.defineProperty,rm=Object.prototype.hasOwnProperty,nm=Object.getOwnPropertySymbols,im=Object.prototype.propertyIsEnumerable,am=(e,t,r)=>t in e?tm(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,lm=(e,t)=>{for(var r in t||(t={}))rm.call(t,r)&&am(e,r,t[r]);if(nm)for(var r of nm(t))im.call(t,r)&&am(e,r,t[r]);return e};const sm=(0,yl.Z)((function(){return(0,$.P1)(Ae.Z,(0,$.P1)(((e,{sourceDirectory:t})=>t),((e,{directoryKey:t})=>t),(0,Wu.Z)(),(0,zu.Z)(),Qu,((e,t,r,n,i)=>{const a=_u(e,t);return e.pivots.reduce(((t,l)=>{if("vod.channels"===l.id&&l.requires&&!i[l.requires])return t;const s=(0,Eo.Z)(r,n,e,l);return s?(t.push({pivotKey:l.key,title:l.title,route:s,isSelected:!(!a||l.key!==a.key),isDisabled:!l.key,context:l.context}),t):t}),[])})),((e,t)=>({providerMetricsIdentifier:e.metricsIdentifier,tabs:t})))}))((function(e){return n.createElement(em.Z,lm(lm({},e),{component:Ju}))}));var om=r(4516),cm=r(69907),dm=r(58801);const um=(0,o.$j)((function(){return(0,$.P1)((0,cm.Z)(),(e=>({isEPGRefreshing:!!e,epgActivityProgress:e?e.progress:0,epgActivityTitle:e?e.title:""})))}))((function(e){const{className:t,isEPGRefreshing:r,epgActivityProgress:i,epgActivityTitle:a}=e;return r?n.createElement("span",{className:t},a," (",i,"%)",n.createElement(dm.Z,{className:"ProgramGuideActivityStatus-refreshingSpinner-3-mFGo",size:$l.HC})):null}));function mm(){return(0,$.P1)((0,zu.Z)(),((e={})=>[{key:`/${e.identifier}/grid?channel.value=1`,filter:_o.T,filterKey:"channel.value",filterType:Uu.I,title:(0,C.Z)("HD Channels Only")}]))}var pm=r(45428),ym=r(52601),hm=Object.defineProperty,vm=Object.prototype.hasOwnProperty,fm=Object.getOwnPropertySymbols,bm=Object.prototype.propertyIsEnumerable,Em=(e,t,r)=>t in e?hm(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;function gm(e,t,r){const n=[...e];for(let e=n.length-1;e>=0;e--){const t=n[e],i=t.type===Uu.I,a=r.type===Uu.I;t&&i!==a||n.splice(e,1)}return n.push(((e,t)=>{for(var r in t||(t={}))vm.call(t,r)&&Em(e,r,t[r]);if(fm)for(var r of fm(t))bm.call(t,r)&&Em(e,r,t[r]);return e})({key:t},r)),n}var Pm=r(96015);const Im=function(e){const{typeKey:t,activeFilters:r,activeFilterLabel:i,activeSort:a,filter:l,title:s,onMenuClose:o}=e,c=we(o),d=function(e,t){if(!e)return!1;const r=decodeURIComponent("1");return!!oc().find(e,(({value:e})=>Array.isArray(e)?e.indexOf(r)>-1:e===r))}(r.filter((({key:e})=>e===l)));return n.createElement(Qr.Z,{isSelected:d,to:(0,ym.Z)({typeKey:t,filters:d?(0,Pm.Z)(r,l):gm(r,l,{value:"1",type:Uu.I}),filterLabel:i,sort:a}),onPress:c},s)};var Zm=r(47636);class wm extends n.Component{constructor(){super(...arguments),this.onPress=e=>{this.props.onFilterSelect(this.props.filterKey)}}shouldComponentUpdate(e,t){return(0,Zm.Z)(this,e,t)}render(){const{activeFilters:e,filter:t,title:r,showSpinner:i}=this.props,a=!i&&!!oc().find(e,(({key:e})=>e===t));return n.createElement($n.Z,{className:a?"DisclosureFilterMenuItem-isSelected-RQJudJ":void 0,onPress:this.onPress},n.createElement("div",{className:"DisclosureFilterMenuItem-menuItemContainer-1Doqa4 SelectedMenuItem-menuItemContainer-2sjh6G"},n.createElement("div",{className:"DisclosureFilterMenuItem-menuLabel-fQoG-0 SelectedMenuItem-menuLabel-1VXIKp"},r),i?n.createElement(dm.Z,{className:"DisclosureFilterMenuItem-spinner-1Ez09s Spinner-spinner-2WXqVZ spin-spin-34xiUE",size:$l.HC}):null,!i&&a?n.createElement("div",{className:"DisclosureFilterMenuItem-selectedIcon-1Mdsdk SelectedMenuItem-selectedIcon-VTo2dZ"},n.createElement(ns.Z,{"aria-label":(0,C.Z)("Selected")})):null))}}const Cm=wm,Dm=function(e){const{className:t,typeKey:r,activeFilters:i,activeFilterLabel:a,activeSort:l,filters:s,selectedFilter:o,showSpinner:c,showCustomFilter:d,onFilterSelect:u,onMenuClose:m}=e,p=we(m),y=oc().groupBy(s,(({filterType:e})=>e===Uu.I?e:Uu.w)),h=y[Uu.I],v=y[Uu.w];return n.createElement(pm.Z,{autoScroll:!0,className:Zi()(t,"LibraryFiltersList-filtersScroller-2lnT9f Scroller-vertical-3bAxBf")},n.createElement(Qr.Z,{key:"all",isSelected:oc().isEmpty(i),to:(0,ym.Z)({typeKey:r,sort:l}),onPress:p},(0,C.Z)("All")),h?h.map((e=>n.createElement(Im,{key:e.filter,activeFilterLabel:a,activeFilters:i,activeSort:l,filter:e.filter,title:e.title,typeKey:r,onMenuClose:m}))):null,v?n.createElement(_l.Z,null):null,v?v.map((e=>{const t=!(!o||o.filter!==e.filter);return n.createElement(Cm,{key:e.filter,activeFilters:i,activeSort:l,filter:e.filter,filterKey:e.key,showSpinner:c&&t,title:e.title,typeKey:r,onFilterSelect:u})})):null,d?n.createElement(_l.Z,null):null,d?n.createElement(Qr.Z,{key:"customFilter",to:(0,ym.Z)({typeKey:r,customFilter:!0})},(0,C.Z)("Custom Filter...")):null)},Sm=(0,$.zB)({filters:mm()}),Om=(0,o.$j)(Sm)((function(e){const{filters:t,target:r,isOpen:i,activeFilters:a,activeFilterLabel:l,onMenuClose:s}=e;return n.createElement(Lr.Z,{isOpen:i,size:$l.ln,target:r,onMenuClose:s},n.createElement(Dm,{activeFilterLabel:l,activeFilters:a,filters:t,showCustomFilter:!1,showSpinner:!1,onMenuClose:s}))}));var Tm=r(42902),Mm=r(3151),Nm=r(74336);function km(e){if(!e)return"";const t=e instanceof Date?e:new Date(e),r=(0,Tm.Z)(t);return(0,Mm.Z)(t,new Date)?(0,C.Z)("Today"):(0,Nm.Z)(r)}var Rm=r(77349),Am=r(42227),xm=r(29260);class Lm extends n.Component{constructor(){super(...arguments),this.onPress=()=>{const{option:e,onPress:t}=this.props;t(e)}}render(){const{className:e,option:t,isDisabled:r,isSelected:i}=this.props;return n.createElement(Qr.Z,{className:e,isDisabled:r,isSelected:i,onPress:this.onPress},t.title)}}const jm=Lm,Fm=function(e){const{className:t,dateOptions:r,onSelectDate:i,onSelectNow:a}=e;return n.createElement(pm.Z,{autoScroll:!0,className:t},n.createElement(Qr.Z,{onPress:a},(0,C.Z)("Now")),n.createElement(_l.Z,null),r.map(((e,t)=>n.createElement(jm,{key:t,isSelected:e.isSelected,option:e,onPress:i},e.title))))};function Gm(e,t,r){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var n=(0,Md.Z)(e,r),i=(0,Md.Z)(t,r);return n.getTime()-i.getTime()}var Hm=r(313),Um=r(83946);function Vm(e,t){return function(e,t){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var r=(0,Md.Z)(e,t);return r.setMinutes(0,0,0),r}(function(e,t,r){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var n=(0,Md.Z)(e,r),i=(0,Um.Z)(t);return n.setHours(i),n}(new Date(e),t))}const Bm=(0,o.$j)((function(){const e=[{startHour:0,title:(0,C.Z)("Midnight")},{startHour:2,title:(0,C.Z)("Overnight")},{startHour:6,title:(0,C.Z)("Morning")},{startHour:10,title:(0,C.Z)("Daytime")},{startHour:17,title:(0,C.Z)("Evening")},{startHour:23,title:(0,C.Z)("Late Night")}];return(0,$.P1)(((e,{startTime:t})=>t),((e,{selectedDateOption:t})=>t),((t,r={})=>{if(!r)return{timeOptions:[]};const n=(0,Am.Z)(t),i=(0,Am.Z)(r.value),a=new Date;return{timeOptions:e.map(((t,r)=>{const l=e[r+1],s=Vm(i,t.startHour),o=Vm(i,l?l.startHour:24),c=(0,Hm.Z)(a,o),d=Gm(n,s)>=0&&Gm(n,o)<0,u=(0,Hm.Z)(s,a)?(0,Tm.Z)(a):(0,Tm.Z)(s);return{title:Gm(a,s)>=0&&Gm(a,o)<0?(0,C.Z)("Now ({timeSlotTitle})",{timeSlotTitle:t.title}):t.title,value:u,isEnabled:c,isSelected:d}}))}}))}))((function(e){const{className:t,timeOptions:r,selectedDateOption:i,onDeselectDateOption:a,onSelectTime:l}=e;return n.createElement("div",{className:t},n.createElement("div",{className:"DatePickerTimeList-header-3XzI5K"},n.createElement(vl.Z,{onPress:a},n.createElement(K.ed9,{align:"baseline","aria-label":(0,C.Z)("Back")})),n.createElement("span",{className:"DatePickerTimeList-headerText-qTwYzB"},i.title)),n.createElement(_l.Z,null),r.map(((e,t)=>n.createElement(jm,{key:t,isDisabled:!e.isEnabled,isSelected:e.isSelected,option:e,onPress:l},e.title))))})),Km={scrollDirection:ql.Hn,className:"DatePickerMenu-listContainer-1cPk3m"};class zm extends n.Component{constructor(e,t){super(e,t),this.onSelectDate=e=>{this.setState({showTimeOptions:!0,activeDateOption:e})},this.onSelectNow=()=>{const e=Math.floor(Date.now()/1e3);this.onSelectTime({value:e})},this.onSelectTime=e=>{this.setState({showTimeOptions:!1}),this.props.dispatchSetStartTime(e.value),this.props.onMenuClose()},this.onHideOptions=e=>{this.setState({showTimeOptions:!1})},this.state={showTimeOptions:!1,activeDateOption:e.dateOptions.find((e=>e.isSelected))}}render(){const{startTime:e,target:t,isOpen:r,dateOptions:i,onMenuClose:a}=this.props,{showTimeOptions:l,activeDateOption:s}=this.state,o=Zi()("DatePickerMenu-list-2VgzfG",!!l&&"DatePickerMenu-showTimeOptions-26sjXw");return n.createElement(Lr.Z,{isOpen:r,scrollerProps:Km,size:$l.M2,target:t,onMenuClose:(0,Qn.Z)(this.onHideOptions,a)},n.createElement(Fm,{className:o,dateOptions:i,onSelectDate:this.onSelectDate,onSelectNow:this.onSelectNow}),n.createElement(Bm,{className:o,selectedDateOption:s,startTime:e,onDeselectDateOption:this.onHideOptions,onSelectTime:this.onSelectTime}))}}const Wm=zm;function _m({target:e,isOpen:t,onMenuClose:r}){const i=(0,o.I0)(),a=(0,n.useCallback)((e=>i(Qo.ZP.actions.channelsGridSetStartTime({startTime:e}))),[i]),{channelsGrid:{startTime:l}}=(0,o.v9)(xm.Z),s=(0,n.useMemo)((()=>function(e){const t=[],r=(0,Am.Z)(e);for(let e=0;e<8;e++){const n=(0,Rm.Z)(new Date,e),i=km(n),a=(0,Mm.Z)(n,r);t.push({title:i,value:(0,Tm.Z)(n),isSelected:a})}return t}(l)),[l]);return 0!==l&&s.length?n.createElement(Wm,{dateOptions:s,dispatchSetStartTime:a,isOpen:t,startTime:l,target:e,onMenuClose:r}):null}function qm({activeFilters:e,activeFilterLabel:t,totalSize:r}){const[i,a,l]=(0,I.c9)(),s=(0,n.useMemo)((()=>(0,q.Z)(i,a)),[a,i]),c=(0,n.useMemo)((()=>Bu(e,t,i.machineIdentifier,a.identifier)),[e,t,i,a]),[d]=(0,n.useState)((0,wn.Z)()),[u]=(0,n.useState)((0,wn.Z)()),[m,p]=(0,n.useState)(!1),[y,h]=(0,n.useState)(!1),{startTime:v}=(0,o.v9)(tc.Z),f=km(1e3*v),b=!!(0,o.v9)(s),E=(0,o.v9)(c),g=(0,n.useCallback)((()=>{p(!m)}),[m,p]),P=(0,n.useCallback)((()=>{p(!1)}),[p]),Z=(0,n.useCallback)((()=>{h(!y)}),[y,h]),w=(0,n.useCallback)((()=>{h(!1)}),[h]);return n.createElement(n.Fragment,null,n.createElement(Co.Z,null,n.createElement(om.Z,{providerEntityID:a.entityID,serverEntityID:i.entityID,sourceDirectory:l}),n.createElement(sm,{directoryKey:Hu.tk.GUIDE,providerEntityID:a.entityID,serverEntityID:i.entityID,sourceDirectory:l}),n.createElement(Ku.Z,null)),n.createElement(Cs.Z,null,n.createElement(Ds.Z,null,n.createElement(Gu.Z,{hasMenu:!0,id:d,isMenuOpen:m,onPress:g},f),n.createElement(_m,{isOpen:m,target:d,onMenuClose:P}),n.createElement(Gu.Z,{hasMenu:!0,id:u,isMenuOpen:y,onPress:Z},E),n.createElement(Om,{activeFilterLabel:t,activeFilters:e,isOpen:y,target:u,onMenuClose:w}),n.createElement(ol.Z,null,r)),b?n.createElement(Ss.Z,null,n.createElement(um,{providerEntityID:a.entityID,serverEntityID:i.entityID})):null))}var $m=Object.defineProperty,Qm=Object.prototype.hasOwnProperty,Ym=Object.getOwnPropertySymbols,Xm=Object.prototype.propertyIsEnumerable,Jm=(e,t,r)=>t in e?$m(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,ep=(e,t)=>{for(var r in t||(t={}))Qm.call(t,r)&&Jm(e,r,t[r]);if(Ym)for(var r of Ym(t))Xm.call(t,r)&&Jm(e,r,t[r]);return e};function tp(e,t){return e.find((({id:e})=>e===t))}function rp({activeFilters:e,activeFilterLabel:t}){var r;const l=(0,o.I0)(),[s,c]=(0,I.c9)(),d=(0,o.v9)(Yo.Z),u=e.some((e=>e.key===_o.T)),{settings:m,isSettingsPopulated:p}=null!=(r=(0,P.Z)(c,a.zW.Settings))?r:{},y=m&&tp(m,a.Fk.RecentChannelsInGrid),h=m&&tp(m,a.Fk.NumRecentChannelsInGrid),v=h?h.value:0,f=(0,n.useMemo)((()=>{let e=[...d];const t=y?y.recentChannelsInGrid:[];if(v>0&&(null==t?void 0:t.length)){const r=t.reduce(((e,t)=>{const r=d.find((e=>e.id===t.id));return r&&e.push(ep(ep({},r),{isRecent:!0})),e}),[]);e.unshift(...r)}return s.isCloud&&(e=e.map(((e,t)=>ep(ep({},e),{uniqueID:String(t)})))),u?e.filter((e=>e.isHd)):e}),[d,u,v,y,s.isCloud]);return(0,n.useEffect)((()=>(l((0,b.changeQuickSearchSettings)({serverEntityID:s.entityID,providerEntityID:c.entityID,providerIdentifier:c.identifier,directoryID:null})),l(Qo.ZP.actions.guideChannelsFetchRequested({server:s,provider:c})),()=>{l((0,b.changeQuickSearchSettings)({serverEntityID:s.entityID,providerEntityID:c.entityID,providerIdentifier:null,directoryID:null}))})),[s,c,l]),(0,n.useEffect)((()=>{l(Qo.ZP.actions.channelsGridResetStartTime())}),[l,u]),(0,n.useEffect)((()=>{s.isCloud&&!p&&l((0,zo.VH)({providerEntityID:c.entityID}))}),[l,c,s.isCloud,p]),(0,n.useEffect)((()=>{s.isCloud&&p&&v>0&&!(null==y?void 0:y.isRecentChannelsInGridPopulated)&&!(null==y?void 0:y.recentChannelsInGridError)&&l((0,zo.Fq)({providerEntityID:c.entityID,settingID:a.Fk.RecentChannelsInGrid}))}),[l,p,v,c,null==y?void 0:y.isRecentChannelsInGridPopulated,null==y?void 0:y.recentChannelsInGridError,s.isCloud]),n.createElement(qo.Z,{metricsContext:(0,$o.Z)(i._e,Wo.DVR_GUIDE_PIVOT)},n.createElement(Xo.Z,{metricsPage:i._e,scrollDirection:ql.Hn},n.createElement(qm,{activeFilterLabel:t,activeFilters:e,totalSize:f.length}),n.createElement(Fu,{channels:f})))}var np=r(75989),ip=r(28018),ap=r(7420),lp=r(96181),sp=r(15945),op=r(92645),cp=r(1998);function dp(){return(0,$.P1)((0,op.Z)(),((e,{sourceDirectoryID:t})=>t),((e,t)=>(0,cp.Z)(e,t)))}function up(){return(0,$.P1)((0,Wu.Z)(),(e=>e.isCloud))}var mp=r(9481);const pp=e=>e.key===_o.T,yp=()=>(e,{activeFilters:t})=>t.some(pp);var hp=r(50091);function vp(e){const t=e["aria-label"],r=e.className,i=e.style,a={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-shows-broadcast-560"};a["aria-hidden"]=!t,a.style=i,a.className=Jr.Z.plexIcon+(r?" "+r:"");const l=[n.createElement.apply(n,["path",{d:"m280 120l120-100h70l-118.75 100h208.75v440h-560v-440h208.75l-118.75-100h70l120 100m-220 340h440v-280h-440v280"}].concat([]))];return t&&l.unshift(n.createElement("title",null,t)),n.createElement.apply(n,["svg",a].concat(l))}vp.propTypes={"aria-label":Xr().string,className:Xr().string,style:Xr().object};const fp=vp;var bp=r(82598);const Ep=function(e){const{machineIdentifier:t,isRefreshing:r}=e;if(r)return n.createElement(bp.Z,{description:(0,C.Z)("Hang tight while we download all the data for what's on"),iconComponent:fp,title:(0,C.Z)("We're now building your Guide")});const i=(0,Ce.Z)(t,"manage","dvr");return n.createElement(bp.Z,{description:(0,C.Z)("Please verify your channel mappings and refresh the Guide"),iconComponent:fp,title:(0,C.Z)("The Guide is empty")},n.createElement(vl.Z,{kind:Fe._8,to:i},(0,C.Z)("Go to DVR Settings")))};var gp=Object.defineProperty,Pp=Object.prototype.hasOwnProperty,Ip=Object.getOwnPropertySymbols,Zp=Object.prototype.propertyIsEnumerable,wp=(e,t,r)=>t in e?gp(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;const Cp=(0,o.$j)((function(){return(0,$.P1)((0,Wu.Z)(),(0,cm.Z)(),((e,t)=>({machineIdentifier:e.machineIdentifier,isRefreshing:!!t})))}))((function(e){return n.createElement(Ep,((e,t)=>{for(var r in t||(t={}))Pp.call(t,r)&&wp(e,r,t[r]);if(Ip)for(var r of Ip(t))Zp.call(t,r)&&wp(e,r,t[r]);return e})({},e))}));var Dp=r(14838),Sp=r(4792),Op=r(67006);const Tp=(0,o.$j)((function(){return(0,$.P1)(((e,{mediaIndex:t})=>t),(0,qc.Z)(),(0,Sp.Z)(Op.Z.SUBSCRIBE),hu.Z,((e,t,r,n)=>{const{type:i,summary:a,grandparentThumb:l,thumb:s,contentRating:o}=t,c=t.Media[e],{beginsAt:d,endsAt:u,channelTitle:m,channelShortTitle:p,channelIdentifier:y}=c;return{type:i,summary:a,thumb:l||s,contentRating:o,beginsAt:d,endsAt:u,timeFormat:n,channelIdentifier:y,channelTitle:m,channelShortTitle:p,showRecord:!!r}}))}))(Ed);var Mp=r(45362);class Np extends n.Component{constructor(){super(...arguments),this.onCellPress=()=>{const{metadataItemEntityID:e,mediaIndex:t,cellIndex:r,onPress:n}=this.props;n(e,t,r)}}render(){const{className:e,metadataItemEntityID:t,serverEntityID:r,providerEntityID:i,channelIdentifier:a,mediaIndex:l,width:s,type:o,subscriptionType:c,title:d,premiere:u,canRecord:m,showEpisodeTitle:p,showLoader:y,isOnAir:h,isFinishedAiring:v,isSelected:f,isSubscribed:b,onRecordPress:E}=this.props;if(!t)return n.createElement("div",{className:Zi()(e,h&&Wd,v&&_d),style:{width:`${s}px`}},y?n.createElement("div",{className:eu},n.createElement(Fd,null),n.createElement(Fd,null)):n.createElement("div",{className:$d},(0,C.Z)("Unknown Airing")));const g=function(e,t){let r=null;switch(e){case Fc.MOVIE:r=Vc.Z;break;case Fc.SHOW:case Fc.EPISODE:t&&(r=Mp.Z)}return r}(o,p);return n.createElement("div",{className:Zi()(e,h&&Wd,f&&Vd,(h||m)&&Bd,v&&_d),"data-testid":"guide-row-item",style:{width:`${s}px`}},n.createElement("div",{className:$d},n.createElement(vl.Z,{className:qd,onPress:this.onCellPress}),n.createElement("div",null,d),n.createElement("div",{className:Qd},n.createElement("div",{className:Kd},g?n.createElement(g,{className:Yd,metadataItemEntityID:t,providerEntityID:i,serverEntityID:r}):null,u?n.createElement(Hd,{className:Xd}):null,b?n.createElement(kd.Z,{className:Jd},n.createElement(Jc.Z,{type:c})):null),n.createElement(pd,{channelIdentifier:a,className:zd,isCompact:!0,mediaIndex:l,metadataItemEntityID:t,providerEntityID:i,serverEntityID:r,showPlay:h,showRecord:m,onRecordPress:E}))))}}Np.defaultProps={className:Ud};const kp=Np;var Rp=Object.defineProperty,Ap=Object.prototype.hasOwnProperty,xp=Object.getOwnPropertySymbols,Lp=Object.prototype.propertyIsEnumerable,jp=(e,t,r)=>t in e?Rp(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Fp=(e,t)=>{for(var r in t||(t={}))Ap.call(t,r)&&jp(e,r,t[r]);if(xp)for(var r of xp(t))Lp.call(t,r)&&jp(e,r,t[r]);return e};const Gp={dispatchMirrorDetails:Ad.yU},Hp=(0,o.$j)((function(){return(0,$.P1)(Nd.Z,(0,qc.Z)(),(0,$.P1)(((e,{mediaIndex:t})=>t),(0,qc.Z)(),((e,t)=>t?t.Media[e]:null)),(0,$.P1)(((e,{beginsAt:t})=>t),((e,{endsAt:t})=>t),((e,t)=>{const r=Math.floor(Date.now()/1e3);return{isOnAir:r>=e&&r<=t,isFinishedAiring:r>=t}})),(0,Sp.Z)(Op.Z.SUBSCRIBE),((e,t={},r,n,i)=>{const{type:a,grandparentTitle:l,title:s,subscriptionID:o,subscriptionType:c,grandparentSubscriptionID:d,grandparentSubscriptionType:u,index:m,originallyAvailableAt:p}=t,y=!!r&&r.premiere,h=null!=o||null!=d;let v=!0;if(null==m&&p){const e=new Date,t=(0,Md.Z)(p);v=e.getDate()!==t.getDate()||e.getMonth()!==t.getMonth()||e.getFullYear()!==t.getFullYear()}return Fp(Fp({},n),{type:a,title:l||s,subscriptionType:c||u,showEpisodeTitle:v,isRemotePlayer:e,isSubscribed:h,premiere:y,canRecord:!!i})}))}),Gp)((function(e){const t=e,{dispatchMirrorDetails:r}=t,i=((e,t)=>{var r={};for(var n in e)Ap.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&xp)for(var n of xp(e))t.indexOf(n)<0&&Lp.call(e,n)&&(r[n]=e[n]);return r})(t,["dispatchMirrorDetails"]),{serverEntityID:a,providerEntityID:l,metadataItemEntityID:s,isRemotePlayer:o,isSelected:c}=e;return(0,n.useEffect)((()=>{c&&o&&r({serverEntityID:a,providerEntityID:l,metadataItemEntityID:s})}),[o,c,a,l,s,r]),n.createElement(kp,Fp({},i))})),Up=(0,o.$j)((function(){return(0,$.P1)((e=>e.ui.channelGridPage),(e=>{const{airedProgress:t,columnWidth:r,visibleColumns:n}=e;return{width:t/100*n*r}}))}))(ru);var Vp=r(34470),Bp=r(64378),Kp=r(57614);var zp=Object.defineProperty,Wp=Object.prototype.hasOwnProperty,_p=Object.getOwnPropertySymbols,qp=Object.prototype.propertyIsEnumerable,$p=(e,t,r)=>t in e?zp(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;const Qp=parseInt(rt.Z.channelGridChannelIconWidth,10),Yp=parseInt(rt.Z.channelGridRowHeight,10);function Xp(e){const{className:t,serverEntityID:r,providerEntityID:i,channel:a,isCloudServer:l,onPlayPress:s}=e,[o,c]=(0,Bp.Z)(),d=a.vcn||a.identifier;return n.createElement("div",((e,t)=>{for(var r in t||(t={}))Wp.call(t,r)&&$p(e,r,t[r]);if(_p)for(var r of _p(t))qp.call(t,r)&&$p(e,r,t[r]);return e})({className:t,"data-testid":"guide-channel-name"},c),l?null:n.createElement("div",{className:"ChannelsGridRowTitle-numberContainer-19w63A"},o?n.createElement(Qc.Z,{className:"ChannelsGridRowTitle-playButton-i1gROw PlayButton-playButton-3Thb8u","data-testid":"guide-channel-play",tabIndex:"-1",title:(0,C.Z)("Play Channel {channel}",{channel:d}),onPress:s}):n.createElement("span",null,d)),n.createElement("div",{className:Zi()("ChannelsGridRowTitle-thumbnailContainer-2MPlKU",l&&"ChannelsGridRowTitle-fullWidth-2GU8xP",a.isRecent&&"ChannelsGridRowTitle-isRecent-MgKH9o")},l&&o?n.createElement(Qc.Z,{className:"ChannelsGridRowTitle-fullWidthPlayButton-24eHBc ChannelsGridRowTitle-playButton-i1gROw PlayButton-playButton-3Thb8u","data-testid":"guide-channel-play",tabIndex:"-1",title:(0,C.Z)("Play Channel {channel}",{channel:a.callSign}),onPress:s}):null,a.thumb?n.createElement(Kp.Z,{key:a.thumb,backgroundSize:"contain",className:"ChannelsGridRowTitle-thumbnail-23YXnB",height:Yp,providerEntityID:i,serverEntityID:r,url:a.thumb,width:Qp}):n.createElement("div",{className:"ChannelsGridRowTitle-channelCallSignText-2gWrKL",title:a.callSign},a.callSign)),a.isRecent?n.createElement(lu,{className:"ChannelsGridRowTitle-icon-1EBT3l"}):null)}Xp.defaultProps={className:"ChannelsGridRowTitle-container-1DnP0p"};const Jp=Xp;var ey=Object.defineProperty,ty=Object.prototype.hasOwnProperty,ry=Object.getOwnPropertySymbols,ny=Object.prototype.propertyIsEnumerable,iy=(e,t,r)=>t in e?ey(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,ay=(e,t)=>{for(var r in t||(t={}))ty.call(t,r)&&iy(e,r,t[r]);if(ry)for(var r of ry(t))ny.call(t,r)&&iy(e,r,t[r]);return e};const ly={dispatchStartPlayback:cl.wA,dispatchStartLiveTVPlayback:_c.lS},sy=(0,yl.Z)((function(){return(0,$.P1)(up(),(e=Vp.K,(0,$.P1)((0,zu.Z)(e),(t=>t.protocols.includes(e)))),((e,t)=>({isCloudServer:e,hasLiveTVProtocol:t})));var e}),ly)((function(e){const t=e,{dispatchStartPlayback:r,dispatchStartLiveTVPlayback:i}=t,a=((e,t)=>{var r={};for(var n in e)ty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&ry)for(var n of ry(e))t.indexOf(n)<0&&ny.call(e,n)&&(r[n]=e[n]);return r})(t,["dispatchStartPlayback","dispatchStartLiveTVPlayback"]),{serverEntityID:l,providerEntityID:s,channel:o,metricsPage:c,metricsContext:d,isCloudServer:u,hasLiveTVProtocol:m}=e,{identifier:p,id:y}=o,h=(0,n.useCallback)((()=>{const e={serverEntityID:l,providerEntityID:s,metricsPage:c,metricsContext:d};u||m?i(ay(ay({},e),{options:{type:$c.pX,identifier:p||y}})):r(e)}),[l,s,c,d,u,m,i,p,y,r]);return n.createElement(Jp,ay(ay({},a),{channel:o,isCloudServer:u,onPlayPress:h}))}));function oy(e){const{className:t,rowClassName:r,serverEntityID:i,providerEntityID:a,selectedMetadataItemEntityID:l,selectedMediaIndex:s,selectedMediaItemRow:o,channel:c,cellIndex:d,columnWidth:u,columnTimes:m,isFetching:p,onMetadataItemPress:y,onRecordPress:h,onNextPress:v,onPrevPress:f,onDetailRowMeasure:b}=e,E=(0,Pc.Z)(e),g=m[0],P=m[m.length-1],I=m[1]-m[0];return n.createElement("div",{className:t,"data-testid":"guide-row",style:E.style},n.createElement("div",{className:r},n.createElement(sy,{channel:c,className:Zc,providerEntityID:a,serverEntityID:i}),n.createElement("div",{className:wc},n.createElement(Up,{className:Dc}),c.programs.map(((e,t)=>{const r=Math.max(e.beginsAt,g),m=(Math.min(e.endsAt,P)-r)/I*u,v=d===o&&l===e.metadataItemEntityID&&s===e.mediaIndex;return n.createElement(Hp,{key:t,beginsAt:e.beginsAt,cellIndex:d,channelIdentifier:c.identifier,className:Cc,endsAt:e.endsAt,isSelected:v,mediaIndex:e.mediaIndex,metadataItemEntityID:e.metadataItemEntityID,providerEntityID:a,serverEntityID:i,showLoader:p&&!e.metadataItemEntityID,width:m,onPress:y,onRecordPress:h})})))),d===o?n.createElement(Jo.Z,{key:l,onMeasure:b},n.createElement(Tp,{mediaIndex:s,metadataItemEntityID:l,providerEntityID:a,serverEntityID:i,onNextPress:v,onPrevPress:f,onRecordPress:h})):null)}oy.defaultProps={rowClassName:"ChannelsGridRow-container-1GpikV"};const cy=(0,n.memo)(oy),dy={dispatchNext:ip.uF,dispatchPrevious:ip.mo},uy=(0,o.$j)((function(){return(0,$.P1)((e=>e.ui.channelGridPage),hu.Z,((e,t)=>{const{startTime:r,columnWidth:n}=e,i=new Date-108e5;let a=new Date(1e3*r);const l=a>i;return(0,yu.Z)(r)&&(a=null),{timeFormat:t,startDate:a,columnWidth:n,enablePrevious:l,enableNext:!0}}))}),dy)(Eu);var my=Object.defineProperty,py=Object.prototype.hasOwnProperty,yy=Object.getOwnPropertySymbols,hy=Object.prototype.propertyIsEnumerable,vy=(e,t,r)=>t in e?my(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,fy=(e,t)=>{for(var r in t||(t={}))py.call(t,r)&&vy(e,r,t[r]);if(yy)for(var r of yy(t))hy.call(t,r)&&vy(e,r,t[r]);return e};const by=parseInt(rt.Z.channelGridRowHeight,10)-1,Ey={selectedMetadataItemEntityID:null,selectedMediaIndex:null,selectedMediaItemRow:-1,selectedMediaItemHeight:0};class gy extends n.Component{constructor(e,t){super(e,t),this.getCellHeights=()=>{const{selectedMediaItemRow:e,selectedMediaItemHeight:t}=this.state;return this.props.channels.map(((r,n)=>{let i=by;return n===e&&(i+=t||140),i}))},this._updateProgress=()=>{this.props.dispatchUpdateAiredProgress(),this._resetUpdateTimeout()},this.onMetadataItemPress=(e,t,r)=>{this.state.selectedMetadataItemEntityID!==e||this.state.selectedMediaIndex!==t||this.state.selectedMediaItemRow!==r?this.setState({selectedMetadataItemEntityID:e,selectedMediaIndex:t,selectedMediaItemRow:r,selectedMediaItemHeight:140}):this.setState(Ey)},this.onDetailRowMeasure=({height:e})=>{this.setState({selectedMediaItemHeight:e})},this.onPrevPress=()=>{var e;const{selectedMetadataItemEntityID:t,selectedMediaIndex:r,selectedMediaItemRow:n}=this.state,{programs:i}=this.props.channels[n],a=i.findIndex((e=>e.metadataItemEntityID===t&&e.mediaIndex===r))-1,{metadataItemEntityID:l,mediaIndex:s}=null!=(e=i[a])?e:{};l&&this.setState({selectedMetadataItemEntityID:l,selectedMediaIndex:s}),a<=1&&this.props.dispatchNavigateTimeBack()},this.onNextPress=()=>{var e;const{selectedMetadataItemEntityID:t,selectedMediaIndex:r,selectedMediaItemRow:n}=this.state,{programs:i}=this.props.channels[n],a=i.findIndex((e=>e.metadataItemEntityID===t&&e.mediaIndex===r))+1,{metadataItemEntityID:l,mediaIndex:s}=null!=(e=i[a])?e:{};l&&this.setState({selectedMetadataItemEntityID:l,selectedMediaIndex:s}),a>=i.length-1&&this.props.dispatchNavigateTimeForward()},this.onDetailRowMeasure=({height:e})=>{this.setState({selectedMediaItemHeight:e})},this.renderCell=e=>{const{serverEntityID:t,providerEntityID:r,columnTimes:i,columnWidth:a,channels:l,isPending:s,onRecordPress:o}=this.props,{selectedMetadataItemEntityID:c,selectedMediaIndex:d,selectedMediaItemRow:u}=this.state,m=l[e.cellIndex];return m?n.createElement(cy,fy(fy({},e),{channel:m,className:yc,columnTimes:i,columnWidth:a,isFetching:s,providerEntityID:r,rowClassName:hc,selectedMediaIndex:d,selectedMediaItemRow:u,selectedMetadataItemEntityID:c,serverEntityID:t,onDetailRowMeasure:this.onDetailRowMeasure,onMetadataItemPress:this.onMetadataItemPress,onNextPress:this.onNextPress,onPrevPress:this.onPrevPress,onRecordPress:o})):null},this._updateTimeout=null,this.state=Ey}static getDerivedStateFromProps(e,t){const{selectedMediaIndex:r,selectedMetadataItemEntityID:n,selectedMediaItemRow:i}=t,a=e.channels[i];return a&&0!==a.programs.length?a.programs.find((e=>e.mediaIndex===r&&e.metadataItemEntityID===n))?null:Ey:null}componentDidMount(){this._updateProgress()}shouldComponentUpdate(e,t){return(0,Zm.Z)(this,e,t)}componentDidUpdate(e){(0,ec.Z)(this.props.columnTimes,e.columnTimes)||this._updateProgress()}_resetUpdateTimeout(){this._updateTimeout&&window.clearTimeout(this._updateTimeout);const e=6e4-Date.now()%6e4;this._updateTimeout=window.setTimeout(this._updateProgress,e)}render(){const{className:e,serverEntityID:t,providerEntityID:r,viewportWidth:i,viewportHeight:a,columnTimes:l,channels:s,isCloudServer:o,isEmpty:c,showSpinner:d,showError:u}=this.props,m=o?"uniqueId":"identifier";return n.createElement("div",{className:e},d||u||c?null:n.createElement(Ve,{className:"ChannelsGrid-banner-vsNn0x ProgramGuideGracenoteMigrationBanner-container-3KhZOk",providerEntityID:r,serverEntityID:t}),d||u||c?null:n.createElement(uy,{className:bc,columnTimes:l}),u?n.createElement(Dp.Z,{className:Ec,title:(0,C.Z)("There was an error loading channels")}):null,d?n.createElement(bp.Z,{className:Ec},n.createElement(dm.Z,{label:(0,C.Z)("Loading channels")})):null,d||u||!c?null:n.createElement(Cp,{providerEntityID:r,serverEntityID:t}),d||u||c?null:n.createElement(lc.Z,{cellRenderer:this.renderCell,className:vc,items:s,keyPropName:m,layout:uc({getCellHeights:this.getCellHeights}),scrollDirection:ql.yZ,scrollerClassName:fc,size:s.length,viewportHeight:a,viewportWidth:i,onMeasure:this.onScrollerMeasure}))}}gy.defaultProps={className:pc,columnTimes:[],isCloudServer:!1};const Py=gy;var Iy=Object.defineProperty,Zy=Object.prototype.hasOwnProperty,wy=Object.getOwnPropertySymbols,Cy=Object.prototype.propertyIsEnumerable,Dy=(e,t,r)=>t in e?Iy(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Sy=(e,t)=>{for(var r in t||(t={}))Zy.call(t,r)&&Dy(e,r,t[r]);if(wy)for(var r of wy(t))Cy.call(t,r)&&Dy(e,r,t[r]);return e};const Oy={dispatchUpdateAiredProgress:ip.bZ,dispatchNavigateTimeForward:ip.uF,dispatchNavigateTimeBack:ip.mo},Ty=(0,o.$j)((function(){return(0,$.P1)((e=>e.ui.channelGridPage),(0,hp.Z)(),((e,t={})=>{const{isPending:r=!0,isPopulated:n=!1,metadataItems:i=[],error:a}=t,l=!!r&&!n&&!a,s=!!a,o=n&&!r&&!a&&0===i.length;return Sy(Sy({},e),{isPending:r,isEmpty:o,showSpinner:l,showError:s})}))}),Oy)(Py);var My=r(40822),Ny=Object.defineProperty,ky=Object.prototype.hasOwnProperty,Ry=Object.getOwnPropertySymbols,Ay=Object.prototype.propertyIsEnumerable,xy=(e,t,r)=>t in e?Ny(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Ly=(e,t)=>{for(var r in t||(t={}))ky.call(t,r)&&xy(e,r,t[r]);if(Ry)for(var r of Ry(t))Ay.call(t,r)&&xy(e,r,t[r]);return e};function jy(e,t){return e.find((({id:e})=>e===t))||{}}const Fy={dispatchFetchProviderSettings:zo.VH,dispatchFetchProviderSettingRecentChannelsInGrid:zo.Fq,dispatchUpdateAiredProgress:ip.bZ,dispatchNavigateTimeForward:ip.uF,dispatchNavigateTimeBack:ip.mo};function Gy(e){const t=e,{providerEntityID:r,numRecentChannelsInGrid:i,isSettingsPending:a,dispatchFetchProviderSettings:l,dispatchFetchProviderSettingRecentChannelsInGrid:s}=t,o=((e,t)=>{var r={};for(var n in e)ky.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&Ry)for(var n of Ry(e))t.indexOf(n)<0&&Ay.call(e,n)&&(r[n]=e[n]);return r})(t,["providerEntityID","numRecentChannelsInGrid","isSettingsPending","dispatchFetchProviderSettings","dispatchFetchProviderSettingRecentChannelsInGrid"]);return(0,n.useEffect)((()=>{l({providerEntityID:r})}),[l,r]),(0,n.useEffect)((()=>{!a&&i>0&&s({providerEntityID:r,settingID:My.x8})}),[s,a,i,r]),n.createElement("div",null,n.createElement(Py,Ly(Ly({},o),{providerEntityID:r})))}Gy.defaultProps={numRecentChannelsInGrid:0};const Hy=(0,o.$j)((function(){return(0,$.P1)((e=>e.ui.channelGridPage),((e,{channels:t})=>t),(0,hp.Z)(),(0,Sp.Z)(Op.Z.SETTINGS),((e,t,r={},n)=>{const{isPending:i=!0,isPopulated:a=!1,metadataItems:l=[],error:s}=r,{settings:o,isSettingsPending:c=!0,isSettingsPopulated:d=!1,settingsError:u}=n,m=jy(o,My.x8),p=jy(o,My.xy),y=p?p.value:0,{recentChannelsInGrid:h=[],isRecentChannelsInGridPending:v=!0,isRecentChannelsInGridPopulated:f=!1,recentChannelsInGridError:b}=m,E=i&&!a&&!s||c&&!d&&!u||y>0&&v&&!f&&!b,g=!!b||!!u||!!s,P=a&&!i&&!s&&0===l.length,I=[...t];if(y>0&&f){const e=h.reduce(((e,r)=>{const n=t.find((e=>e.identifier===r.id));return n&&e.push(Ly(Ly({},n),{isRecent:!0})),e}),[]);I.unshift(...e)}return I.forEach(((e,t)=>(e.uniqueId=t,e))),Ly(Ly({},e),{channels:I,numRecentChannelsInGrid:y,isCloudServer:!0,isPending:i,isSettingsPending:c,isEmpty:P,showSpinner:E,showError:g})}))}),Fy)(Gy);var Uy=Object.defineProperty,Vy=Object.prototype.hasOwnProperty,By=Object.getOwnPropertySymbols,Ky=Object.prototype.propertyIsEnumerable,zy=(e,t,r)=>t in e?Uy(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Wy=(e,t)=>{for(var r in t||(t={}))Vy.call(t,r)&&zy(e,r,t[r]);if(By)for(var r of By(t))Ky.call(t,r)&&zy(e,r,t[r]);return e};const _y=function(e){const{metadataListEntityID:t,serverEntityID:r,providerEntityID:i,channels:a,isCloudServer:l,onMeasure:s}=e,[o,c]=(0,n.useState)({}),d=(0,nc.Z)(),u=(0,n.useCallback)((e=>{c(e),d.onOpen()}),[d,c]),m=l?Hy:Ty;return n.createElement(n.Fragment,null,n.createElement(rc.Z,Wy(Wy({},o),{isOpen:d.isOpen,onModalClose:d.onClose})),n.createElement(Jo.Z,{className:ic,onMeasure:s},n.createElement(m,{channels:a,className:ac,metadataListEntityID:t,providerEntityID:i,serverEntityID:r,onRecordPress:u})))},qy=parseInt(rt.Z.channelGridChannelOverflowWidth,10),$y=parseInt(rt.Z.channelGridChannelColumnWidth,10),Qy=parseInt(rt.Z.channelGridTitleColumnWidth,10),Yy=(0,$.P1)((e=>e.ui.channelGridPage),up(),((e,t)=>{const{columnTimes:r}=e;return{columnTimes:r,isCloudServer:t}})),Xy={dispatchSetViewportSize:ip.Sg,dispatchResetStartTime:ip.FL};class Jy extends n.Component{constructor(e,t){super(e,t),this._updateGrid=()=>{const{dispatchResetStartTime:e}=this.props;e(),this._resetTimeout()},this.onMeasure=e=>{const{isMeasured:t,measuredSize:r}=this.state;t&&(0,ec.Z)(r,e)||this.setState({isMeasured:!0,measuredSize:e},(()=>{this.setViewportSize(e)}))},this._updateTimeout=null,this.state={isMeasured:!1,measuredSize:null}}componentDidMount(){this._resetTimeout()}componentDidUpdate(e){const{metadataListEntityID:t,columnTimes:r}=this.props;t===e.metadataListEntityID&&(0,ec.Z)(r,e.columnTimes)||this._resetTimeout()}componentWillUnmount(){this._updateTimeout&&window.clearTimeout(this._updateTimeout)}_resetTimeout(e=this.props){const{columnTimes:t}=e;if(!t.length)return;this._updateTimeout&&(window.clearTimeout(this._updateTimeout),this._updateTimeout=null);const r=Math.floor(Date.now()/1e3);let n=7200;t[0]<=r&&t[1]>=r&&(n=t.find((e=>r<e))-r),this._updateTimeout=window.setTimeout(this._updateGrid,1e3*n)}setViewportSize(e){const{dispatchSetViewportSize:t}=this.props;t({width:e.width,height:e.height,overflowWidth:qy,channelWidth:$y,channelTitleWidth:Qy}),this._resetTimeout()}render(){const{serverEntityID:e,providerEntityID:t,metadataListEntityID:r,channels:i,isCloudServer:a}=this.props;return n.createElement(_y,{channels:i,isCloudServer:a,metadataListEntityID:r,providerEntityID:t,serverEntityID:e,onMeasure:this.onMeasure})}}const eh=(0,o.$j)(Yy,Xy)(Jy),th={dispatchSetStartTime:ip.qv},rh=(0,o.$j)((function(){return(0,$.P1)((e=>e.ui.channelGridPage),(({startTime:e})=>({startTime:e,dateOptions:function(e){const t=[],r=(0,Am.Z)(e);for(let e=0;e<8;e++){const n=(0,Rm.Z)(new Date,e),i=km(n),a=(0,Mm.Z)(n,r);t.push({title:i,value:(0,Tm.Z)(n),isSelected:a})}return t}(e)})))}),th)(Wm);class nh extends n.Component{constructor(e,t){super(e,t),this.onDatePickerMenuButtonPress=e=>{this.setState({isDatePickerMenuOpen:!this.state.isDatePickerMenuOpen})},this.onDatePickerMenuClose=()=>{this.setState({isDatePickerMenuOpen:!1})},this.onFilterMenuButtonPress=e=>{this.setState({isFilterMenuOpen:!this.state.isFilterMenuOpen})},this.onFilterMenuClose=()=>{this.setState({isFilterMenuOpen:!1})},this.state={isDatePickerMenuOpen:!1,isFilterMenuOpen:!1},this._datePickerMenuButtonID=(0,wn.Z)(),this._filterMenuButtonID=(0,wn.Z)()}shouldComponentUpdate(e,t){return(0,Zm.Z)(this,e,t)}render(){const{serverEntityID:e,providerEntityID:t,sourceDirectory:r,selectedFilterTitle:i,datePickerTitle:a,showEPGActivity:l,activeFilters:s,activeFilterLabel:o,totalSize:c}=this.props,{isDatePickerMenuOpen:d,isFilterMenuOpen:u}=this.state;return n.createElement(n.Fragment,null,n.createElement(Co.Z,null,n.createElement(om.Z,{providerEntityID:t,serverEntityID:e,sourceDirectory:r}),n.createElement(sm,{directoryKey:Hu.tk.GUIDE,providerEntityID:t,serverEntityID:e,sourceDirectory:r}),n.createElement(Ku.Z,null)),n.createElement(Cs.Z,null,n.createElement(Ds.Z,null,n.createElement(Gu.Z,{hasMenu:!0,id:this._datePickerMenuButtonID,isMenuOpen:d,onPress:this.onDatePickerMenuButtonPress},a),n.createElement(rh,{isOpen:d,target:this._datePickerMenuButtonID,onMenuClose:this.onDatePickerMenuClose}),n.createElement(Gu.Z,{hasMenu:!0,id:this._filterMenuButtonID,isMenuOpen:u,onPress:this.onFilterMenuButtonPress},i),n.createElement(Om,{activeFilterLabel:o,activeFilters:s,isOpen:u,target:this._filterMenuButtonID,onMenuClose:this.onFilterMenuClose}),n.createElement(ol.Z,null,c)),l?n.createElement(Ss.Z,null,n.createElement(um,{providerEntityID:t,serverEntityID:e})):null))}}const ih=nh,ah=(0,o.$j)((function(){return(0,$.P1)((e=>e.ui.channelGridPage),(0,cm.Z)(),(0,$.P1)(((e,{activeFilters:t})=>t),((e,{activeFilterLabel:t})=>t),mm(),((e,t,r)=>{if(!e||!e.length)return(0,C.Z)("All Channels");if(e&&1===e.length){const t=e[0],n=r.find((e=>e.filter===t.key));if(n)return n.title}return t||(0,C.Z)("Filtered")})),((e,t,r)=>({datePickerTitle:km(1e3*e.startTime),showEPGActivity:!!t,selectedFilterTitle:r})))}))(ih),lh=function(e){const{serverEntityID:t,providerEntityID:r,metadataListEntityID:a,sourceDirectory:l,activeFilters:s,activeFilterLabel:o,channels:c}=e;return n.createElement(qo.Z,{metricsContext:(0,$o.Z)(i._e,Wo.DVR_GUIDE_PIVOT)},n.createElement(Xo.Z,{metricsPage:i._e,scrollDirection:ql.Hn},n.createElement(ah,{activeFilterLabel:o,activeFilters:s,providerEntityID:r,serverEntityID:t,sourceDirectory:l,totalSize:c.length}),n.createElement(eh,{channels:c,metadataListEntityID:a,providerEntityID:r,serverEntityID:t})))};var sh=Object.defineProperty,oh=Object.prototype.hasOwnProperty,ch=Object.getOwnPropertySymbols,dh=Object.prototype.propertyIsEnumerable,uh=(e,t,r)=>t in e?sh(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;const mh={dispatchInitMetadataList:ip.EG,dispatchResetStartTime:ip.FL,dispatchResetMetadataList:ul.wZ,dispatchFetchChannelsList:ip.z2,dispatchPopulateChannelPrograms:ip.Vg,dispatchChangeQuickSearchSettings:b.changeQuickSearchSettings};class ph extends n.Component{componentDidMount(){this.props.containerKey&&this._populate(),this.props.providerIdentifier&&this._setSearchProviderIdentifier(this.props.providerIdentifier)}componentDidUpdate(e){const{providerIdentifier:t,containerKey:r,columnTimes:n,isRefreshing:i}=this.props;r&&r!==e.containerKey||i!==e.isRefreshing?this._populate(e):(0,ec.Z)(n,e.columnTimes)||this.props.dispatchPopulateChannelPrograms(),t&&t!==e.providerIdentifier&&this._setSearchProviderIdentifier(t)}componentWillUnmount(){const{metadataListEntityID:e}=this.props;e&&this.props.dispatchResetMetadataList({metadataListEntityID:e}),this._setSearchProviderIdentifier(null)}_populate(e){const{serverEntityID:t,providerEntityID:r,metadataListEntityID:n,containerKey:i,dispatchInitMetadataList:a,dispatchResetMetadataList:l,dispatchResetStartTime:s,dispatchFetchChannelsList:o,dispatchPopulateChannelPrograms:c,isHDFilterActive:d}=this.props;n&&l({metadataListEntityID:n}),o(),e&&e.isHDFilterActive!==d||s(),a({containerKey:i,serverEntityID:t,providerEntityID:r}),c()}_setSearchProviderIdentifier(e){const{dispatchChangeQuickSearchSettings:t,serverEntityID:r,providerEntityID:n}=this.props;t({serverEntityID:r,providerEntityID:n,providerIdentifier:e,directoryID:null})}render(){const e=this.props,{dispatchInitMetadataList:t}=e,r=((e,t)=>{var r={};for(var n in e)oh.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&ch)for(var n of ch(e))t.indexOf(n)<0&&dh.call(e,n)&&(r[n]=e[n]);return r})(e,["dispatchInitMetadataList"]);return n.createElement(lh,((e,t)=>{for(var r in t||(t={}))oh.call(t,r)&&uh(e,r,t[r]);if(ch)for(var r of ch(t))dh.call(t,r)&&uh(e,r,t[r]);return e})({},r))}}const yh=(0,o.$j)((function(){return(0,$.P1)((e=>e.ui.channelGridPage),(0,sp.Z)(),(0,lp.Z)(),(0,zu.Z)(),dp(),(0,cm.Z)(),(0,$.P1)((e=>e.ui.channelGridPage),yp(),((e,t)=>{const{channelsList:r,isChannelsListPopulated:n,isChannelsListPending:i,channelsListError:a}=e;return!n||i||a?[]:t?r.filter((e=>!!e.tagValue)):r})),up(),yp(),((e,t,r,n,i,a,l,s,o)=>{let c=function(e,t,r=[]){const n=e[0],i=e[e.length-1],a=function(e,t,r,n){return t.reduce(((t,i)=>i&&i.Media?(i.Media.forEach(((a,l)=>{const{channelIdentifier:s,channelThumb:o,channelTitle:c,channelShortTitle:d,channelVcn:u,channelCallSign:m,beginsAt:p,endsAt:y}=a;var h;if((!(e.length>0)||e.some((e=>e.channelIdentifier===s)))&&(t[s]||(t[s]={identifier:s,thumb:o,title:d||c,vcn:u,callSign:m||(h=c,h?h.split(" ")[1]:""),programs:[]}),p<n&&y>r)){const e={beginsAt:Math.max(p,r),endsAt:Math.min(y,n),metadataItemEntityID:i.entityID,mediaIndex:l};t[s].programs.push(e)}})),t):t),{})}(r,t,n,i);return r.forEach((e=>{a[e.channelIdentifier]||(a[e.channelIdentifier]={identifier:e.channelIdentifier,thumb:e.thumb,title:e.tag,vcn:e.channelVcn,callSign:e.channelCallSign,programs:[]})})),function(e,t,r,n){return Object.values(e).map((e=>(e.programs=function(e,t,r){let n=t;const i=[];e.sort(((e,t)=>e.beginsAt>t.beginsAt?1:e.beginsAt<t.beginsAt?-1:0));for(let t=0;t<e.length;t++){const r=e[t];if(r.beginsAt>n){const e={beginsAt:n,endsAt:r.beginsAt};i.push(e)}i.push(r),n=r.endsAt}if(n<r){const e={beginsAt:n,endsAt:r};i.push(e)}return i}(e.programs,t,r),e)))}(a,n,i)}(e.columnTimes,t,l);return s||(c=c.sort(((e,t)=>(0,mp.Z)(e.vcn||e.identifier,t.vcn||t.identifier)))),{metadataListEntityID:e.metadataList,containerKey:r,sourceDirectory:i,channels:c,columnTimes:e.columnTimes,providerIdentifier:n.identifier,isRefreshing:!!a,isHDFilterActive:o}}))}),mh)(ph),hh=(0,$.zB)({metadataListEntityID:e=>e.ui.channelGridPage.metadataList,directoryKey:(0,$.P1)(((e,{selectedDirectory:t})=>t),(e=>{if(!e)return;const t=e.key;return"/"===t.charAt(0)?t:"/library/sections/"+t}))}),vh=(0,ap.Z)(yh,(function(e){const t=e.ui.channelGridPage;return{providerEntityID:t.providerEntityID,serverEntityID:t.serverEntityID,metadataListEntityID:t.metadataList,directoryKey:t.directoryKey}}),(function(e,t){e((0,ip.v3)({serverEntityID:t.serverEntityID,providerEntityID:t.providerEntityID,directoryKey:t.directoryKey})),e((0,ip.Li)())})),fh=(0,o.$j)(hh)(vh);var bh=r(99434),Eh=r(76331),gh=r(96516);function Ph(){return(0,$.P1)((0,Wu.Z)(),(e=>e?e.providers:void 0))}var Ih=r(98727);function Zh(e){return!0}var wh=r(59468);function Ch(e){const t=e["aria-label"],r=e.className,i=e.style,a={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-calendar-560"};a["aria-hidden"]=!t,a.style=i,a.className=Jr.Z.plexIcon+(r?" "+r:"");const l=[n.createElement.apply(n,["path",{d:"m0 560v-480h120v-80h80v80h160v-80h80v80h120v480h-560m300-60h80v-80h-80v80m-120 0h80v-80h-80v80m-40-80h-80v80h80v-80m360-40v-80h-80v80h80m-360-80h-80v80h80v-80m120 80v-80h-80v80h80m120 0v-80h-80v80h80m120-120v-80h-80v80h80m-360-80h-80v80h80v-80m240 0h-80v80h80v-80m-120 0h-80v80h80v-80m240 240h-80v80h80v-80"}].concat([]))];return t&&l.unshift(n.createElement("title",null,t)),n.createElement.apply(n,["svg",a].concat(l))}Ch.propTypes={"aria-label":Xr().string,className:Xr().string,style:Xr().object};const Dh=Ch;var Sh=r(65671),Oh=r(68966),Th=r(32901);function Mh(){return(0,$.P1)(((e,{providerID:t})=>t),Ph(),Ih.Z,((e,t,r)=>{if(e)return t.find((t=>{const n=r[t];return n&&n.identifier===e}))}))}var Nh=r(993),kh=r(10079),Rh=r(36793),Ah=r(42699),xh=r(14699),Lh=r(65732),jh=r(36475),Fh=r(97784),Gh=r(15145),Hh=r(81914),Uh=r(76604),Vh=r(98422);const Bh=function(e){const{className:t,beginsAt:r,endsAt:i,timeFormat:a}=e,l=function(e,t,r){return e?(0,Vh.Z)(e,t)?(0,C.Z)("Airing now"):(0,Uh.Z)(e,null,{timeFormat:r}):(0,C.Z)("No upcoming airings")}(r,i,a);return n.createElement("span",{className:t},l)};var Kh=r(28670);const zh=function({className:e,type:t}){return n.createElement("span",{className:e},n.createElement(Kh.Z,{className:"RecordingPrioritySubscriptionSeriesTitle-seriesIcon-1gx7si"}),function(e){return"show"===e?(0,C.Z)("Series"):void 0}(t))};var Wh=Object.defineProperty,_h=Object.prototype.hasOwnProperty,qh=Object.getOwnPropertySymbols,$h=Object.prototype.propertyIsEnumerable,Qh=(e,t,r)=>t in e?Wh(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;const Yh=function(e){const t=e,{component:r,isSecondary:i}=t,a=((e,t)=>{var r={};for(var n in e)_h.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&qh)for(var n of qh(e))t.indexOf(n)<0&&$h.call(e,n)&&(r[n]=e[n]);return r})(t,["component","isSecondary"]);return n.createElement(r,((e,t)=>{for(var r in t||(t={}))_h.call(t,r)&&Qh(e,r,t[r]);if(qh)for(var r of qh(t))$h.call(t,r)&&Qh(e,r,t[r]);return e})({className:i?"RecordingPrioritySubscriptionTitle-secondaryTitle-3_ljYB":"RecordingPrioritySubscriptionTitle-title-1tyuhY"},a))};var Xh=Object.defineProperty,Jh=Object.prototype.hasOwnProperty,ev=Object.getOwnPropertySymbols,tv=Object.prototype.propertyIsEnumerable,rv=(e,t,r)=>t in e?Xh(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;class nv extends n.Component{constructor(e,t){super(e,t),this.onLinkPress=e=>{this.setState({isSubscribeModalOpen:!0})},this.onSubscribeModalClose=()=>{this.setState({isSubscribeModalOpen:!1})},this.state={isSubscribeModalOpen:!1}}shouldComponentUpdate(e,t){return(0,Zm.Z)(this,e,t)}render(){const e=this.props,{serverEntityID:t,providerEntityID:r,mediaSubscriptionEntityID:i,type:a,subtype:l,thumb:s,grandparentThumb:o,connectDragSource:c}=e,d=((e,t)=>{var r={};for(var n in e)Jh.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&ev)for(var n of ev(e))t.indexOf(n)<0&&tv.call(e,n)&&(r[n]=e[n]);return r})(e,["serverEntityID","providerEntityID","mediaSubscriptionEntityID","type","subtype","thumb","grandparentThumb","connectDragSource"]),{isSubscribeModalOpen:u}=this.state,m="playlist"===a?"show":a;return n.createElement("div",{className:"RecordingPrioritySubscription-subscription-sMrrcv"},n.createElement(vl.Z,{className:"RecordingPrioritySubscription-link-2YAydw",onPress:this.onLinkPress},n.createElement("div",{className:"RecordingPrioritySubscription-linkContainer-2HQeI0"},n.createElement(Tc.Z,{className:"RecordingPrioritySubscription-posterContainer-24PHNd",component:Mc.Z,height:(0,Nc.Cr)(48,m,l),providerEntityID:r,serverEntityID:t,type:m,url:o||s,width:48}),n.createElement("div",{className:"RecordingPrioritySubscription-titleContainer-3oP97e"},function(e){let t;switch(e){case"movie":t=[jh.Z,Gh.Z];break;case"show":t=[jh.Z,zh];break;case"episode":t=[Lh.Z,Fh.Z];break;case"playlist":t=[jh.Z,zh];break;default:t=[jh.Z]}return t.push(Bh),t}(a).map(((e,t)=>n.createElement(Yh,((e,t)=>{for(var r in t||(t={}))Jh.call(t,r)&&rv(e,r,t[r]);if(ev)for(var r of ev(t))tv.call(t,r)&&rv(e,r,t[r]);return e})({key:t,component:e,isSecondary:t>0,type:a},d))))))),c(n.createElement("div",{className:"RecordingPrioritySubscription-dragHandle-3eu23D Link-link-3cHWtJ"},n.createElement(Hh.Z,{className:"RecordingPrioritySubscription-dragIcon-MXgHzk"})),{dropEffect:"copy"}),n.createElement(rc.Z,{isOpen:u,mediaSubscriptionEntityID:i,providerEntityID:r,serverEntityID:t,subscriptionType:a,onModalClose:this.onSubscribeModalClose}))}}nv.defaultProps={connectDragSource:e=>e};const iv=nv;var av=Object.defineProperty,lv=Object.prototype.hasOwnProperty,sv=Object.getOwnPropertySymbols,ov=Object.prototype.propertyIsEnumerable,cv=(e,t,r)=>t in e?av(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;const dv=(0,o.$j)((function(){return(0,$.P1)(hu.Z,(0,xh.Z)(),(0,$.P1)((e=>e.ui.recordingSchedulePage.calendar.scheduled),(0,xh.Z)(),((e,t)=>oc().find(e,(e=>(0,Ah.Z)((0,Am.Z)(e.beginsAt),new Date)&&e.mediaSubscriptionID===t.key)))),((e,t,r)=>{const n=oc().pick(t.hint,"title","grandparentTitle","type","year","index","parentIndex","originallyAvailableAt","thumb","grandparentThumb");return r&&(n.beginsAt=r.beginsAt,n.endsAt=r.endsAt),n.timeFormat=e,n}))}))((function(e){return n.createElement(iv,((e,t)=>{for(var r in t||(t={}))lv.call(t,r)&&cv(e,r,t[r]);if(sv)for(var r of sv(t))ov.call(t,r)&&cv(e,r,t[r]);return e})({},e))})),uv=parseInt(rt.Z.recordingPriorityPaneWidth,10),mv=parseInt(rt.Z.recordingPriorityDragHandleWidth,10);class pv extends n.Component{shouldComponentUpdate(e,t){return(0,Zm.Z)(this,e,t)}render(){const{serverEntityID:e,providerEntityID:t,item:r,itemType:i,currentOffset:a}=this.props;if(!a||i!==Rh.OT)return null;const{x:l,y:s}=a,o=`translate3d(${l-(uv-mv)}px, ${s}px, 0)`,c={position:"absolute",WebkitTransform:o,msTransform:o,transform:o};return n.createElement(kh.Z,null,n.createElement("div",{className:"RecordingPrioritySubscriptionDragPreview-dragPreview-2i9B3v",style:c},n.createElement(dv,{mediaSubscriptionEntityID:r.mediaSubscriptionEntityID,providerEntityID:t,serverEntityID:e})))}}const yv=(0,Nh.r)((function(e){return{item:e.getItem(),itemType:e.getItemType(),currentOffset:e.getSourceClientOffset()}}))(pv);var hv=r(93712),vv=r(90625),fv=r(46408),bv=r(86382);const Ev={beginDrag:({mediaSubscriptionEntityID:e})=>({mediaSubscriptionEntityID:e}),endDrag(e,t,r){e.onSubscriptionDragEnd(t.getItem(),t.didDrop())}},gv={hover(e,t,r){const n=(0,Di.findDOMNode)(r).getBoundingClientRect(),i=(n.bottom-n.top)/2,a=t.getClientOffset().y-n.top,l=e.sortIndex,s=a>i?l+1:l;e.onSubscriptionDragMove(s)}};class Pv extends n.Component{componentDidMount(){this.props.connectDragPreview((0,fv.r)())}shouldComponentUpdate(e,t){return(0,Zm.Z)(this,e,t)}render(){const{serverEntityID:e,providerEntityID:t,mediaSubscriptionEntityID:r,isDragging:i,isDraggingBefore:a,isDraggingAfter:l,isOver:s,connectDropTarget:o,connectDragSource:c}=this.props;return o(n.createElement("div",{className:Zi()("RecordingPrioritySubscriptionDragSource-dragSource-3tMsps",i&&bv.fN,a&&s&&bv.DT,l&&s&&bv.QZ)},n.createElement(dv,{connectDragSource:c,mediaSubscriptionEntityID:r,providerEntityID:t,serverEntityID:e})))}}const Iv=(0,hv.G)(Rh.OT,gv,(function(e,t){return{connectDropTarget:e.dropTarget(),isOver:t.isOver()}}))((0,vv.E)(Rh.OT,Ev,(function(e,t){return{connectDragPreview:e.dragPreview(),connectDragSource:e.dragSource(),isDragging:t.isDragging()}}))(Pv)),Zv=function(e){const{serverEntityID:t,providerEntityID:r,mediaSubscriptionEntityIDs:i,guideRoute:a,showError:l,showEmptyState:s,moveIndex:o,onSubscriptionDragMove:c,onSubscriptionDragEnd:d}=e;return n.createElement("div",{className:"RecordingPriorityPane-pane-10DMCx"},n.createElement("div",{className:"RecordingPriorityPane-paneHeader-3ooJHe"},(0,C.Z)("Recording Priority")),n.createElement(pm.Z,{autoScroll:!0,className:"RecordingPriorityPane-paneScroller-3HiniD Scroller-vertical-3bAxBf"},l?n.createElement("div",{className:"RecordingPriorityPane-error-1QukwT"},n.createElement("div",null,(0,C.Z)("There was an error loading recordings.")),n.createElement("div",null,(0,C.Z)("Please try again."))):null,s?n.createElement("div",{className:"RecordingPriorityPane-empty-240vsl"},n.createElement("div",null,(0,C.Z)("You have no recordings scheduled.")),n.createElement("div",null,n.createElement(Sh.Z,{message:(0,C.Z)("Check out the {openLink}Guide{closeLink} to browse available programming."),tags:[{open:"openLink",close:"closeLink",component:vl.Z,kind:Fe._8,to:a}]}))):null,l||s?null:i.map(((e,i)=>{const a=null!=o,l=a&&o===i,s=a&&o===i+1;return n.createElement(Iv,{key:e,isDraggingAfter:s,isDraggingBefore:l,mediaSubscriptionEntityID:e,providerEntityID:r,serverEntityID:t,sortIndex:i,onSubscriptionDragEnd:d,onSubscriptionDragMove:c})}))),n.createElement(yv,{providerEntityID:r,serverEntityID:t}))};var wv=Object.defineProperty,Cv=Object.prototype.hasOwnProperty,Dv=Object.getOwnPropertySymbols,Sv=Object.prototype.propertyIsEnumerable,Ov=(e,t,r)=>t in e?wv(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Tv=(e,t)=>{for(var r in t||(t={}))Cv.call(t,r)&&Ov(e,r,t[r]);if(Dv)for(var r of Dv(t))Sv.call(t,r)&&Ov(e,r,t[r]);return e};const Mv={dispatchMoveMediaSubscription:Eh.moveMediaSubscription,dispatchClearMoveError:Eh.clearMoveError,dispatchShowAlert:Th.wp};class Nv extends n.Component{constructor(e,t){super(e,t),this.onSubscriptionDragMove=e=>{this.setState({moveIndex:e})},this.onSubscriptionDragEnd=(e,t)=>{const{moveIndex:r}=this.state;t&&null!=r&&(0,v.c9)((()=>{this.props.dispatchMoveMediaSubscription(Tv(Tv({},e),{moveIndex:r}))})),this.setState({moveIndex:null})},this.state={moveIndex:null}}componentDidUpdate(e){const{mediaSubscriptionMoveError:t,dispatchShowAlert:r,dispatchClearMoveError:n}=this.props,{mediaSubscriptionMoveError:i}=e;!i&&t&&(r(t),n())}render(){return n.createElement(Zv,Tv({moveIndex:this.state.moveIndex,onSubscriptionDragEnd:this.onSubscriptionDragEnd,onSubscriptionDragMove:this.onSubscriptionDragMove},this.props))}}const kv=(0,o.$j)((function(){return(0,$.P1)((e=>e.ui.recordingSchedulePage),Mh(),((e,t)=>{const{mediaSubscriptions:r,isMediaSubscriptionsPopulated:n,mediaSubscriptionsError:i,mediaSubscriptionMoveError:a}=e;return{providerEntityID:t,mediaSubscriptionEntityIDs:r,mediaSubscriptionMoveError:a,showError:!n&&!!i,showEmptyState:n&&!i&&!r.length}}))}),Mv)(Nv),Rv=function({subscriptionCount:e}){return n.createElement(bp.Z,{description:1===e?(0,C.Z)("There are no upcoming airings of the item in your list"):(0,C.Z)("There are no upcoming airings of the {subscriptionCount} items in your list",{subscriptionCount:e}),iconComponent:Dh,title:(0,C.Z)("You have no recordings scheduled")})};var Av=r(93957),xv=r(80962),Lv=Object.defineProperty,jv=Object.prototype.hasOwnProperty,Fv=Object.getOwnPropertySymbols,Gv=Object.prototype.propertyIsEnumerable,Hv=(e,t,r)=>t in e?Lv(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Uv=(e,t)=>{for(var r in t||(t={}))jv.call(t,r)&&Hv(e,r,t[r]);if(Fv)for(var r of Fv(t))Gv.call(t,r)&&Hv(e,r,t[r]);return e};const Vv={dispatchPlayRecording:Eh.playRecording};class Bv extends n.Component{constructor(){super(...arguments),this.onPlayPress=e=>{const{serverEntityID:t,providerEntityID:r,linkedKey:n,metricsContext:i,dispatchPlayRecording:a}=this.props;a({serverEntityID:t,providerEntityID:r,linkedKey:n,metricsContext:i})}}render(){const e=this.props,{component:t,mediaSubscriptionID:r,status:i,linkedKey:a,metricsContext:l}=e,s=((e,t)=>{var r={};for(var n in e)jv.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&Fv)for(var n of Fv(e))t.indexOf(n)<0&&Gv.call(e,n)&&(r[n]=e[n]);return r})(e,["component","mediaSubscriptionID","status","linkedKey","metricsContext"]);return n.createElement(t,Uv(Uv({},s),{onPlayPress:this.onPlayPress}))}}const Kv=(0,yl.Z)((function(){return(0,$.P1)(((e,{mediaSubscriptionID:t})=>t),((e,{status:t})=>t),hu.Z,(0,$.P1)(((e,{linkedKey:t})=>t),((e,{metricsContext:t})=>t),xe.Z,((e,t,r)=>{const n={};return t&&(n.context=t),(0,Ka.Z)(r,{isLibraryProvider:!0},e,n)})),(0,qc.Z)(),(0,Av.Z)(),Mh(),((e,t,r,n,i,a,l)=>{const s=t===xv.ly,o=t===xv.pn,c=oc().pick(i,"type","title","grandparentTitle","index","parentIndex","originallyAvailableAt"),d=Uv({providerEntityID:l,prePlayRoute:n,isComplete:s,hasError:o,hasSubscription:!!e,showPlay:s&&!!n,timeFormat:r},c);return a?(d.isRecording=!0,d.isPostProcessing=a.Context.status===xv.jN,d.recordingProgress=a.progress):(d.isRecording=!1,d.isPostProcessing=!1),d}))}),Vv)(Bv);var zv=r(55855),Wv=r(11558),_v=r(91715),qv=r(46277),$v=r(53757),Qv=r(78434),Yv=r(51343),Xv=r(99062),Jv=r(13995);const ef=function({children:e,mediaItem:t}){const r=t&&t.videoResolution;let i,a=!1;if(r){const e=parseInt(r,10);a=!0,i=e>=720||4===e||8===e}return e||a?n.createElement(Xv.Z,null,e,a?n.createElement(Jv.Z,{label:(0,C.Z)("Video")},i?(0,C.Z)("HD"):(0,C.Z)("SD")):null):null};var tf=r(21849);const rf=function(e){const{children:t,beginsAt:r,endsAt:i,channel:a,timeFormat:l}=e;if(!r||!i)return null;const s=Date.now()/1e3;let o;return o=i<s?(0,C.Z)("Aired"):r<=s&&i>=s?(0,C.Z)("Airing"):(0,C.Z)("Airs"),n.createElement(Jv.Z,{label:o},n.createElement(tf.Z,{beginsAt:r,channel:a,endsAt:i,showChannel:!0,showFullTime:!0,timeFormat:l}),t)};var nf=r(39611),af=r(3664);const lf="AiringDetailsModalContent-separator-oz-Yqf DashSeparator-separator-373hcj";var sf=Object.prototype.hasOwnProperty,of=Object.getOwnPropertySymbols,cf=Object.prototype.propertyIsEnumerable;const df=function(e){const t=e,{serverEntityID:r,providerEntityID:i,summary:a,error:l,mediaItem:s,isComplete:o,hasError:c,isRecording:d,recordingProgress:u,timeFormat:m,onRecordingModify:p,onModalClose:y}=t,h=((e,t)=>{var r={};for(var n in e)sf.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&of)for(var n of of(e))t.indexOf(n)<0&&cf.call(e,n)&&(r[n]=e[n]);return r})(t,["serverEntityID","providerEntityID","summary","error","mediaItem","isComplete","hasError","isRecording","recordingProgress","timeFormat","onRecordingModify","onModalClose"]),{beginsAt:v,endsAt:f,startOffsetSeconds:b,endOffsetSeconds:E,channelTitle:g,channelShortTitle:P}=s,I=!(!b&&!E),Z=b&&Math.round(b/60),w=E&&Math.round(E/60);return n.createElement(Dl.Z,{onModalClose:y},n.createElement(Pl.Z,null,(0,C.Z)("Airing Details")),n.createElement(bl.Z,null,n.createElement(af.Z,{hint:h,providerEntityID:i,serverEntityID:r},n.createElement(ef,{mediaItem:s},n.createElement(rf,{beginsAt:v,channel:P||g,endsAt:f,showChannel:!0,showFullTime:!0,timeFormat:m},n.createElement("div",null,o?n.createElement("span",null,n.createElement(ns.Z,{className:"AiringDetailsModalContent-completeIcon-3B0CJT"}),(0,C.Z)("Recorded successfully")):null,d?n.createElement("span",null,n.createElement(Yv.Z,{className:"AiringDetailsModalContent-recordingIcon-3kBLea"}),(0,C.Z)("Recording"),n.createElement(Lc.Z,{className:lf}),(0,C.Z)("{recordingProgress}% complete",{recordingProgress:u})):null,c?n.createElement("span",null,n.createElement(nf.Z,{className:"AiringDetailsModalContent-errorIcon-2Sic1O"}),l):null,o||d||c||!I?null:n.createElement("span",null,Z?n.createElement("span",null,(0,C.Z)("Recording starts {minuteOffset} min early",{minuteOffset:Z}),w?n.createElement("span",null,n.createElement(Lc.Z,{className:lf}),(0,C.Z)("Ends {minuteOffset} min late",{minuteOffset:w})):null):n.createElement("span",null,(0,C.Z)("Recording ends {minuteOffset} min late",{minuteOffset:w})))))),n.createElement("div",{className:"AiringDetailsModalContent-summary-VaLeTf"},a))),n.createElement(El.Z,null,n.createElement(gl.Z,null,n.createElement(je.Z,{kind:Fe.TP,size:$l.M2,onPress:p},(0,C.Z)("Modify Recording")),n.createElement(je.Z,{kind:Fe._8,size:$l.M2,onPress:y},(0,C.Z)("Close")))))};var uf=Object.defineProperty,mf=Object.prototype.hasOwnProperty,pf=Object.getOwnPropertySymbols,yf=Object.prototype.propertyIsEnumerable,hf=(e,t,r)=>t in e?uf(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;const vf=(0,o.$j)((function(){return(0,$.P1)(hu.Z,(0,qc.Z)(),((e,t)=>{const r=oc().pick(t,"type","title","parentTitle","grandparentTitle","thumb","parentThumb","grandparentThumb","index","parentIndex","originallyAvailableAt","summary");return r.timeFormat=e,r}))}))((function(e){return n.createElement(df,((e,t)=>{for(var r in t||(t={}))mf.call(t,r)&&hf(e,r,t[r]);if(pf)for(var r of pf(t))yf.call(t,r)&&hf(e,r,t[r]);return e})({},e))}));var ff=Object.defineProperty,bf=Object.prototype.hasOwnProperty,Ef=Object.getOwnPropertySymbols,gf=Object.prototype.propertyIsEnumerable,Pf=(e,t,r)=>t in e?ff(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;const If=function(e){const t=e,{isOpen:r,metricsProperties:a,metadataItemEntityID:l,onRecordingModify:s,onModalClose:o}=t,c=((e,t)=>{var r={};for(var n in e)bf.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&Ef)for(var n of Ef(e))t.indexOf(n)<0&&gf.call(e,n)&&(r[n]=e[n]);return r})(t,["isOpen","metricsProperties","metadataItemEntityID","onRecordingModify","onModalClose"]);return n.createElement(Cl.Z,{isOpen:r,metricsPage:i.go,metricsProperties:a,onModalClose:o},n.createElement(vf,((e,t)=>{for(var r in t||(t={}))bf.call(t,r)&&Pf(e,r,t[r]);if(Ef)for(var r of Ef(t))gf.call(t,r)&&Pf(e,r,t[r]);return e})({metadataItemEntityID:l,onModalClose:o,onRecordingModify:s},c)))};var Zf=r(27271);const wf=function({error:e,onPress:t}){return n.createElement(Zf.Z,{className:"CalendarErrorButton-errorButton-38fNDz",component:vl.Z,tooltip:e,tooltipAttachment:dl.eO,tooltipClassName:"CalendarErrorButton-errorTooltip-2a3zCC Tooltip-bottomCenter-XGNe9E Tooltip-tooltip-3mpwtQ Tooltip-tooltipArrow-2SOf0S Tooltip-tooltipTopArrow-3fp6qd Tooltip-tooltipCenterAlignArrow-1EoXo6",onPress:t},n.createElement(nf.Z,{"aria-label":e}))},Cf={context:Wo.AGENDA};class Df extends n.Component{constructor(e,t){super(e,t),this.onLinkPress=e=>{this.setState({isAiringDetailsModalOpen:!0})},this.onConflictIconPress=e=>{this.setState({isConflictsModalOpen:!0})},this.onRecordingModify=()=>{this.setState({isAiringDetailsModalOpen:!1,isSubscribeModalOpen:!0})},this.onAiringDetailsModalClose=()=>{this.setState({isAiringDetailsModalOpen:!1})},this.onSubscribeModalClose=()=>{this.setState({isSubscribeModalOpen:!1,isConflictsModalOpen:!1})},this.state={isAiringDetailsModalOpen:!1,isSubscribeModalOpen:!1,isConflictsModalOpen:!1}}shouldComponentUpdate(e,t){return(0,Zm.Z)(this,e,t)}render(){const{serverEntityID:e,providerEntityID:t,mediaSubscriptionEntityID:r,metadataItemEntityID:i,prePlayRoute:a,type:l,title:s,grandparentTitle:o,index:c,parentIndex:d,originallyAvailableAt:u,error:m,mediaItem:p,isRecording:y,isPostProcessing:h,recordingProgress:v,isComplete:f,hasError:b,hasSubscription:E,hasConflicts:g,showPlay:P,showDate:I,timeFormat:Z,onPlayPress:w}=this.props,{isAiringDetailsModalOpen:D,isSubscribeModalOpen:S,isConflictsModalOpen:O}=this.state,{beginsAt:T,endsAt:M,startOffsetSeconds:N=0,endOffsetSeconds:k=0,premiere:R}=p,A=(0,Am.Z)(T),x=(0,Ac.Z)(T-N,M+k,{timeFormat:Z}),L=(0,yu.Z)(T);let j;j=(0,_v.Z)(T)?(0,C.Z)("Yesterday"):L?(0,C.Z)("Today"):(0,C.Z)("{dayOfWeek}, {monthNumber} {dayNumber}",{dayOfWeek:(0,Nm.Z)(T,{abbreviate:!0}),monthNumber:(0,Wv.Z)(T,{abbreviate:!0}),dayNumber:(0,zv.Z)(A)});const F=o||s,G=function(e,t,r,n,i,a){return"episode"!==e?r:`${t} - ${(0,qv.Z)({seasonIndex:n,episodeIndex:i,date:a})} - ${r}`}(l,o,s,d,c,u);return n.createElement("div",{className:Zi()("AgendaEvent-event-2R1JeU",f&&"AgendaEvent-isComplete-1Uhqkq",b&&"AgendaEvent-hasError-3XXxcN")},n.createElement(vl.Z,{className:"AgendaEvent-underlay-2Mbwmn",to:a,onPress:a?void 0:this.onLinkPress}),n.createElement("div",{className:"AgendaEvent-overlay-2JXztN"},n.createElement("div",{className:Zi()("AgendaEvent-date-gkYzTp",L&&"AgendaEvent-isToday-1eYC5D")},I?j:null),n.createElement("div",{className:"AgendaEvent-time-3221rQ"},x),n.createElement("div",{className:"AgendaEvent-title-3_QGaU",title:G},R?n.createElement(Hd,null):null,F,n.createElement("div",{className:"AgendaEvent-titleDetails-2BZrnu"},"movie"===l?n.createElement(Vc.Z,{metadataItemEntityID:i}):null,"episode"===l?n.createElement(Hc.Z,{metadataItemEntityID:i}):null)),n.createElement("div",{className:"AgendaEvent-status-SvHW68"},!y||h||b?null:n.createElement("div",{className:"AgendaEvent-recording-3yCyey"},n.createElement(Qv.Z,{backgroundClassName:"AgendaEvent-recordingProgressBackground-16ak1G CircularProgressBar-circularProgressBarBackground-3kQp4k CircularProgressBar-circularProgressBarBackground-vbk6kx",lineWidth:2,progress:v,showProgressText:!1,size:24}),n.createElement("span",{className:"AgendaEvent-recordingIcon-2BfxPy"})),y&&h&&!b?n.createElement($v.Z,null):null,P?n.createElement(Qc.Z,{title:s,onPress:w}):null,b?n.createElement(wf,{error:m,onPress:g?this.onConflictIconPress:this.onLinkPress}):null)),E?n.createElement(If,{error:m,hasError:b,hasSubscription:E,isComplete:f,isOpen:D,isRecording:y,mediaItem:p,metadataItemEntityID:i,metricsProperties:Cf,providerEntityID:t,recordingProgress:v,serverEntityID:e,onModalClose:this.onAiringDetailsModalClose,onRecordingModify:this.onRecordingModify}):null,E?n.createElement(rc.Z,{isOpen:S||O,isRecordingSchedule:!0,mediaSubscriptionEntityID:r,metadataItemEntityID:i,metricsProperties:Cf,providerEntityID:t,serverEntityID:e,showConflicts:O,subscriptionType:l,onModalClose:this.onSubscribeModalClose}):null)}}const Sf=Df,Of=(0,o.$j)((function(){return(0,$.P1)((e=>e.ui.recordingSchedulePage.calendar),(e=>({events:e.scheduled})))}))((function({serverEntityID:e,events:t}){return n.createElement("div",null,t.map(((r,i)=>{const a=(0,Am.Z)(r.beginsAt),l=0===i||!(0,Mm.Z)((0,Am.Z)(t[i-1].beginsAt),a),s=(0,h.Z)(E.PK,r.mediaSubscriptionID,e);return n.createElement(Kv,{key:i,component:Sf,error:r.error,eventID:r.metadataItem.key,hasConflicts:!(!r.conflicts||!r.conflicts.length),linkedKey:r.linkedKey,mediaItem:r.mediaItem,mediaSubscriptionEntityID:s,mediaSubscriptionID:r.mediaSubscriptionID,metadataItemEntityID:r.metadataItem,providerID:r.identifier||r.provider,serverEntityID:e,showDate:l,status:r.status})})))}));function Tf(e,t){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var r=(0,Md.Z)(e,t),n=r.getFullYear();return n}function Mf(e){const t=(0,Am.Z)(e);return(0,C.Z)("{month} {dayNumber}, {year}",{month:(0,Wv.Z)(e),dayNumber:(0,zv.Z)(t),year:Tf(t)})}const Nf=function({startTime:e,endTime:t}){const r=(0,Am.Z)(e),i=(0,Am.Z)(t),a=(0,Mm.Z)(r,i)?Mf(e):`${function(e){const t=(0,Am.Z)(e);return(0,C.Z)("{month} {dayNumber}",{month:(0,Wv.Z)(e),dayNumber:(0,zv.Z)(t)})}(e)}  ${Mf(t)}`;return n.createElement("span",{className:"CalendarHeaderTitle-title-3efSbh"},a)};var kf=Object.defineProperty,Rf=Object.prototype.hasOwnProperty,Af=Object.getOwnPropertySymbols,xf=Object.prototype.propertyIsEnumerable,Lf=(e,t,r)=>t in e?kf(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;const jf=(0,o.$j)((function(){return(0,$.P1)((e=>e.ui.recordingSchedulePage),(e=>{const{firstEvent:t,lastEvent:r}=e.calendar;return{startTime:t?t.beginsAt:void 0,endTime:r?r.beginsAt:void 0}}))}))((function(e){return n.createElement("div",{className:"AgendaHeader-agendaHeader-8ie7Nj"},n.createElement(Nf,((e,t)=>{for(var r in t||(t={}))Rf.call(t,r)&&Lf(e,r,t[r]);if(Af)for(var r of Af(t))xf.call(t,r)&&Lf(e,r,t[r]);return e})({},e)))})),Ff=(0,o.$j)((function(){return(0,$.P1)((e=>e.ui.recordingSchedulePage),(e=>{const{mediaSubscriptions:t,calendar:r,isCalendarPopulated:n,calendarError:i}=e;return{showError:!n&&!!i,isEmpty:!r.scheduled.length,subscriptionCount:t.length}}))}))((function(e){const{serverEntityID:t,showError:r,isEmpty:i,subscriptionCount:a}=e;return r?n.createElement(Dp.Z,{title:(0,C.Z)("There was an error loading the agenda")}):i?n.createElement(Rv,{subscriptionCount:a}):n.createElement("div",null,n.createElement(jf,null),n.createElement(Of,{serverEntityID:t}))})),Gf={context:Wo.CALENDAR};class Hf extends n.Component{constructor(e,t){super(e,t),this.onLinkPress=e=>{this.setState({isAiringDetailsModalOpen:!0})},this.onConflictIconPress=e=>{this.setState({isConflictsModalOpen:!0})},this.onRecordingModify=()=>{this.setState({isAiringDetailsModalOpen:!1,isSubscribeModalOpen:!0})},this.onAiringDetailsModalClose=()=>{this.setState({isAiringDetailsModalOpen:!1})},this.onSubscribeModalClose=()=>{this.setState({isSubscribeModalOpen:!1,isConflictsModalOpen:!1})},this.state={isAiringDetailsModalOpen:!1,isSubscribeModalOpen:!1,isConflictsModalOpen:!1}}shouldComponentUpdate(e,t){return(0,Zm.Z)(this,e,t)}render(){const{serverEntityID:e,providerEntityID:t,mediaSubscriptionEntityID:r,metadataItemEntityID:i,prePlayRoute:a,type:l,grandparentTitle:s,title:o,error:c,mediaItem:d,isRecording:u,isPostProcessing:m,recordingProgress:p,isComplete:y,hasError:h,hasSubscription:v,hasConflicts:f,showPlay:b,timeFormat:E,onPlayPress:g}=this.props,{isAiringDetailsModalOpen:P,isSubscribeModalOpen:I,isConflictsModalOpen:Z}=this.state,{beginsAt:w,endsAt:C,startOffsetSeconds:D=0,endOffsetSeconds:S=0,premiere:O}=d,T=(0,Ac.Z)(w-D,C+S,{includeMinuteZero:!1,timeFormat:E}),M=s||o;return n.createElement("div",{className:Zi()("CalendarEvent-event-ZMMHQe",y&&"CalendarEvent-isComplete-3jBw4v",h&&"CalendarEvent-hasError-1OZTU7")},n.createElement(vl.Z,{className:"CalendarEvent-underlay-WpmoPY",to:a,onPress:a?void 0:this.onLinkPress}),n.createElement("div",{className:"CalendarEvent-overlay-3MQeEX"},n.createElement("div",{className:"CalendarEvent-title-1tmtid",title:M},M),n.createElement("div",{className:"CalendarEvent-secondaryInfo-2_IjqI"},n.createElement("div",{className:"CalendarEvent-time-3d-zIb"},T),O?n.createElement(Hd,null):null),n.createElement("div",{className:"CalendarEvent-status-owGOZK"},!u||m||h?null:n.createElement("div",{className:"CalendarEvent-recording-37oeHu"},n.createElement(Qv.Z,{backgroundClassName:"CalendarEvent-recordingProgressBackground-3QHO9w CircularProgressBar-circularProgressBarBackground-3kQp4k CircularProgressBar-circularProgressBarBackground-vbk6kx",lineWidth:2,progress:p,showProgressText:!1,size:24}),n.createElement("span",{className:"CalendarEvent-recordingIcon-1Zl1eJ"})),u&&m&&!h?n.createElement($v.Z,null):null,b?n.createElement(Qc.Z,{title:o,onPress:g}):null,h?n.createElement(wf,{error:c,onPress:f?this.onConflictIconPress:this.onLinkPress}):null)),v?n.createElement(If,{error:c,hasError:h,isComplete:y,isOpen:P,isRecording:u,mediaItem:d,metadataItemEntityID:i,metricsProperties:Gf,providerEntityID:t,recordingProgress:p,serverEntityID:e,onModalClose:this.onAiringDetailsModalClose,onRecordingModify:this.onRecordingModify}):null,v?n.createElement(rc.Z,{isOpen:I||Z,isRecordingSchedule:!0,mediaSubscriptionEntityID:r,metadataItemEntityID:i,metricsProperties:Gf,providerEntityID:t,serverEntityID:e,showConflicts:Z,subscriptionType:l,onModalClose:this.onSubscribeModalClose}):null)}}const Uf=Hf;var Vf=Object.defineProperty,Bf=Object.prototype.hasOwnProperty,Kf=Object.getOwnPropertySymbols,zf=Object.prototype.propertyIsEnumerable,Wf=(e,t,r)=>t in e?Vf(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;const _f=(0,o.$j)((function(){return(0,$.P1)((e=>e.ui.recordingSchedulePage.calendar),((e,{date:t})=>t),((e,t)=>({events:e.scheduled.filter((({beginsAt:e})=>(0,Mm.Z)((0,Am.Z)(e),(0,Am.Z)(t))))})))}))((function({serverEntityID:e,events:t}){return n.createElement("div",null,t.map(((t,r)=>{const i=(0,h.Z)(E.PK,t.mediaSubscriptionID,e);return n.createElement(Kv,{key:r,component:Uf,error:t.error,eventID:t.metadataItem.key,hasConflicts:!(!t.conflicts||!t.conflicts.length),linkedKey:t.linkedKey,mediaItem:t.mediaItem,mediaSubscriptionEntityID:i,mediaSubscriptionID:t.mediaSubscriptionID,metadataItemEntityID:t.metadataItem,providerID:t.identifier||t.provider,serverEntityID:e,status:t.status})})))}));_f.propTypes=((e,t)=>{for(var r in t||(t={}))Bf.call(t,r)&&Wf(e,r,t[r]);if(Kf)for(var r of Kf(t))zf.call(t,r)&&Wf(e,r,t[r]);return e})({date:Xr().number.isRequired},_f.propTypes);const qf=_f,$f=function({serverEntityID:e,date:t}){return n.createElement("div",{className:"CalendarDay-day-2hkXjC"},n.createElement(qf,{date:t,serverEntityID:e}))};var Qf=Object.defineProperty,Yf=Object.prototype.hasOwnProperty,Xf=Object.getOwnPropertySymbols,Jf=Object.prototype.propertyIsEnumerable,eb=(e,t,r)=>t in e?Qf(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;const tb=(0,o.$j)((function(){return(0,$.P1)((e=>e.ui.recordingSchedulePage),(e=>({days:e.calendar.days})))}))((function(e){var t=e,{days:r}=t,i=((e,t)=>{var r={};for(var n in e)Yf.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&Xf)for(var n of Xf(e))t.indexOf(n)<0&&Jf.call(e,n)&&(r[n]=e[n]);return r})(t,["days"]);return n.createElement("div",{className:"CalendarDays-calendarDays-3Tc6ET"},r.map((e=>n.createElement($f,((e,t)=>{for(var r in t||(t={}))Yf.call(t,r)&&eb(e,r,t[r]);if(Xf)for(var r of Xf(t))Jf.call(t,r)&&eb(e,r,t[r]);return e})({key:e,date:e},i)))))}));var rb=r(78966);const nb=function({date:e}){const t=(0,yu.Z)(e);let r;if((0,_v.Z)(e))r=(0,C.Z)("Yesterday");else if(t)r=(0,C.Z)("Today");else{const t=(0,Am.Z)(e);r=(0,C.Z)("{dayOfWeek} {monthNumber}/{dayNumber}",{dayOfWeek:(0,Nm.Z)(e,{abbreviate:!0}),monthNumber:(0,rb.Z)(t)+1,dayNumber:(0,zv.Z)(t)})}return n.createElement("div",{className:Zi()("CalendarDayOfWeek-dayOfWeek-C1FDuU",t&&"CalendarDayOfWeek-isToday-fW6GmQ"),title:r},r)};var ib=Object.defineProperty,ab=Object.prototype.hasOwnProperty,lb=Object.getOwnPropertySymbols,sb=Object.prototype.propertyIsEnumerable,ob=(e,t,r)=>t in e?ib(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;const cb=(0,o.$j)((function(){return(0,$.P1)((e=>e.ui.recordingSchedulePage.calendar),(e=>({daysOfWeek:e.daysOfWeek})))}))((function(e){var t=e,{daysOfWeek:r}=t,i=((e,t)=>{var r={};for(var n in e)ab.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&lb)for(var n of lb(e))t.indexOf(n)<0&&sb.call(e,n)&&(r[n]=e[n]);return r})(t,["daysOfWeek"]);return n.createElement("div",{className:"CalendarDaysOfWeek-container-3kJ2a4"},r.map((e=>n.createElement(nb,((e,t)=>{for(var r in t||(t={}))ab.call(t,r)&&ob(e,r,t[r]);if(lb)for(var r of lb(t))sb.call(t,r)&&ob(e,r,t[r]);return e})({key:e,date:e},i)))))})),db="CalendarHeader-calendarHeader-3BDGm7",ub="CalendarHeader-calendarNav-29m-J0 Link-link-3cHWtJ",mb="CalendarHeader-calendarNavDisabled-3FtY_F";var pb=Object.defineProperty,yb=Object.prototype.hasOwnProperty,hb=Object.getOwnPropertySymbols,vb=Object.prototype.propertyIsEnumerable,fb=(e,t,r)=>t in e?pb(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;const bb=function(e){const{hasPastEvents:t,hasFutureEvents:r,onGoToPreviousRangePress:i,onGoToNextRangePress:a}=e;return n.createElement("div",{className:db},n.createElement("div",{className:db},n.createElement(vl.Z,{className:Zi()(ub,!t&&mb),isDisabled:!t,kind:Fe.TP,size:$l.M2,onPress:i},n.createElement(K.ed9,{"aria-label":(0,C.Z)("Previous Page")})),n.createElement(Nf,((e,t)=>{for(var r in t||(t={}))yb.call(t,r)&&fb(e,r,t[r]);if(hb)for(var r of hb(t))vb.call(t,r)&&fb(e,r,t[r]);return e})({},e)),n.createElement(vl.Z,{className:Zi()(ub,!r&&mb),isDisabled:!r,kind:Fe.TP,size:$l.M2,onPress:a},n.createElement(K.VG8,{"aria-label":(0,C.Z)("Next Page")}))))};var Eb=Object.defineProperty,gb=Object.prototype.hasOwnProperty,Pb=Object.getOwnPropertySymbols,Ib=Object.prototype.propertyIsEnumerable,Zb=(e,t,r)=>t in e?Eb(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,wb=(e,t)=>{for(var r in t||(t={}))gb.call(t,r)&&Zb(e,r,t[r]);if(Pb)for(var r of Pb(t))Ib.call(t,r)&&Zb(e,r,t[r]);return e};const Cb=(0,o.$j)((function(){return(0,$.P1)((e=>e.ui.recordingSchedulePage),(e=>{const t=oc().pick(e.calendar,"time","startTime","endTime","hasPastEvents","hasFutureEvents");return wb({},t)}))}))((function(e){return n.createElement(bb,wb({},e))}));class Db extends n.Component{constructor(e,t){super(e,t),this.onMeasure=({width:e})=>{const t=this.state.visibleDays,r=Math.min(Math.floor(e/120),7);r!==t&&this.props.onVisibleDaysChange(r),this.setState({width:e,visibleDays:r})},this.state={width:null,visibleDays:0}}render(){const{serverEntityID:e,showError:t,isEmpty:r,subscriptionCount:i,visibleDays:a,onGoToPreviousRangePress:l,onGoToNextRangePress:s}=this.props;return t?n.createElement(Dp.Z,{title:(0,C.Z)("There was an error loading the calendar")}):r?n.createElement(Rv,{subscriptionCount:i}):n.createElement(Jo.Z,{className:"Calendar-calendar-1l3WZQ",ignoreHeight:!0,onMeasure:this.onMeasure},a===this.state.visibleDays?n.createElement("div",null,n.createElement(Cb,{onGoToNextRangePress:s,onGoToPreviousRangePress:l}),n.createElement(cb,null),n.createElement(tb,{serverEntityID:e})):null)}}const Sb=Db;var Ob=Object.defineProperty,Tb=Object.prototype.hasOwnProperty,Mb=Object.getOwnPropertySymbols,Nb=Object.prototype.propertyIsEnumerable,kb=(e,t,r)=>t in e?Ob(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;class Rb extends n.Component{constructor(){super(...arguments),this.onVisibleDaysChange=e=>{(0,v.c9)((()=>{this.props.setVisibleDays({visibleDays:e})}))},this.onGoToPreviousRangePress=()=>{this.props.goToPreviousRange()},this.onGoToNextRangePress=()=>{this.props.goToNextRange()}}render(){return n.createElement(Sb,((e,t)=>{for(var r in t||(t={}))Tb.call(t,r)&&kb(e,r,t[r]);if(Mb)for(var r of Mb(t))Nb.call(t,r)&&kb(e,r,t[r]);return e})({onGoToNextRangePress:this.onGoToNextRangePress,onGoToPreviousRangePress:this.onGoToPreviousRangePress,onVisibleDaysChange:this.onVisibleDaysChange},this.props))}}const Ab=(0,o.$j)((function(){return(0,$.P1)((e=>e.ui.recordingSchedulePage),(e=>{const{mediaSubscriptions:t,calendar:r,isCalendarPopulated:n,calendarError:i}=e;return{showError:!n&&!!i,isEmpty:!r.scheduled.length,subscriptionCount:t.length,visibleDays:r.visibleDays}}))}),Eh)(Rb);var xb=r(77854);const Lb=(0,o.$j)((function(){return(0,$.P1)(((e,{sourceDirectory:t})=>t),(0,Wu.Z)(),(0,zu.Z)(),((e,t,r)=>({guideRoute:(0,Hu.ZP)(Hu.tk.GUIDE,t,r,e)})))}))((function(e){const{serverEntityID:t,showSpinner:r,showEmptyState:i,programGuideIdentifier:a,selectedViewType:l,guideRoute:s}=e;return r?n.createElement(Oh.Z,null,n.createElement(bp.Z,null,n.createElement(dm.Z,null))):i&&a?n.createElement(Oh.Z,null,n.createElement(bp.Z,{description:n.createElement(Sh.Z,{message:(0,C.Z)("Check out the {openLink}Guide{closeLink} to browse available programming"),tags:[{open:"openLink",close:"closeLink",component:vl.Z,kind:Fe._8,to:s}]}),iconComponent:Dh,title:(0,C.Z)("You have no recordings scheduled")})):i&&!a?n.createElement(Oh.Z,null,n.createElement(bp.Z,{description:(0,C.Z)("You need a DVR before you can schedule recordings"),iconComponent:Dh,title:(0,C.Z)("You have no recordings scheduled")})):n.createElement("div",{className:"RecordingSchedulePageContent-schedulePageContent-1gNGa4 PageContent-pageContent-B-tWZn"},n.createElement(Oh.Z,{innerClassName:"RecordingSchedulePageContent-schedulePageInnerContent-XYIB65 PageContent-innerPageContent-pPKWzL"},l===xb.XN?n.createElement(Ab,{serverEntityID:t}):null,l===xb.JF?n.createElement(Ff,{serverEntityID:t}):null),n.createElement(kv,{guideRoute:s,providerID:a,serverEntityID:t}))}));function jb(e){return e===xb.JF?(0,C.Z)("Agenda View"):(0,C.Z)("Calendar View")}class Fb extends n.Component{constructor(e,t){super(e,t),this.onViewsMenuButtonPress=e=>{this.setState({isViewsMenuOpen:!this.state.isViewsMenuOpen})},this.onViewsMenuClose=()=>{this.setState({isViewsMenuOpen:!1})},this.state={isViewsMenuOpen:!1},this._viewsMenuButtonID=(0,wn.Z)()}shouldComponentUpdate(e,t){return(0,Zm.Z)(this,e,t)}render(){const{serverEntityID:e,providerEntityID:t,sourceDirectory:r,selectedViewType:i,showEPGActivity:a}=this.props,{isViewsMenuOpen:l}=this.state;return n.createElement(n.Fragment,null,n.createElement(Co.Z,null,n.createElement(om.Z,{providerEntityID:t,serverEntityID:e,sourceDirectory:r}),n.createElement(sm,{directoryKey:Hu.tk.RECORDING_SCHEDULE,providerEntityID:t,serverEntityID:e,sourceDirectory:r}),n.createElement(Ku.Z,null)),n.createElement(Cs.Z,null,n.createElement(Ss.Z,null,n.createElement(Gu.Z,{hasMenu:!0,id:this._viewsMenuButtonID,isMenuOpen:l,onPress:this.onViewsMenuButtonPress},jb(i)),n.createElement(Lr.Z,{isOpen:l,target:this._viewsMenuButtonID,onMenuClose:this.onViewsMenuClose},xb.$6.map((e=>n.createElement(Qr.Z,{key:e,isSelected:i===e,to:Ie({view:e}),onPress:this.onViewsMenuClose},jb(e)))))),a?n.createElement(Ds.Z,null,n.createElement(um,{providerEntityID:t,serverEntityID:e})):null))}}const Gb=Fb,Hb=(0,o.$j)((function(){return(0,$.P1)((0,cm.Z)(),(e=>({showEPGActivity:!!e})))}))(Gb);var Ub=Object.defineProperty,Vb=Object.prototype.hasOwnProperty,Bb=Object.getOwnPropertySymbols,Kb=Object.prototype.propertyIsEnumerable,zb=(e,t,r)=>t in e?Ub(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;class Wb extends n.Component{shouldComponentUpdate(e,t){return(0,Zm.Z)(this,e,t)}render(){const{serverEntityID:e,providerEntityID:t,sourceDirectory:r,selectedViewType:a}=this.props;return n.createElement(qo.Z,{metricsContext:(0,$o.Z)(i.WT,Wo.DVR_SCHEDULE_PIVOT)},n.createElement(Xo.Z,{metricsPage:i.WT,metricsProperties:{pane:a},scrollDirection:ql.Hn},n.createElement(Hb,{providerEntityID:t,selectedViewType:a,serverEntityID:e,sourceDirectory:r}),n.createElement(Ve,{providerEntityID:t,serverEntityID:e}),n.createElement(Lb,((e,t)=>{for(var r in t||(t={}))Vb.call(t,r)&&zb(e,r,t[r]);if(Bb)for(var r of Bb(t))Kb.call(t,r)&&zb(e,r,t[r]);return e})({},this.props))))}}const _b=Wb,qb={initRecordingSchedulePage:Eh.initRecordingSchedulePage,clearRecordingSchedulePage:Eh.clearRecordingSchedulePage,goToToday:Eh.goToToday,fetchCalendar:Eh.fetchCalendar,fetchMediaSubscriptions:Eh.fetchMediaSubscriptions,saveExperienceSettings:Ar.LN,changeQuickSearchSettings:b.changeQuickSearchSettings};class $b extends n.Component{constructor(e,t){super(e,t),this._updateCalendar=()=>{this.props.goToToday(),this.props.fetchCalendar(),this._resetUpdateTimeout()},this._updateTimeoutID=null}UNSAFE_componentWillMount(){this._populate(),this._resetUpdateTimeout(),this._saveViewType(),this.props.providerIdentifier&&this._setSearchProviderIdentifier(this.props.providerIdentifier)}UNSAFE_componentWillReceiveProps(e){const{serverEntityID:t,time:r,selectedViewType:n}=e;t!==this.props.serverEntityID&&this._populate(e),this._updateTimeoutID&&r!==this.props.time&&this._resetUpdateTimeout(),n!==this.props.selectedViewType&&this._saveViewType(e)}componentDidUpdate(e){const{providerIdentifier:t}=this.props;t&&t!==e.providerIdentifier&&this._setSearchProviderIdentifier(t)}componentWillUnmount(){this._updateTimeoutID&&window.clearTimeout(this._updateTimeoutID),this.props.clearRecordingSchedulePage(),this._setSearchProviderIdentifier(null)}_populate(e=this.props){(0,v.c9)((()=>{e.initRecordingSchedulePage({serverEntityID:e.serverEntityID}),e.fetchCalendar(),e.fetchMediaSubscriptions()}))}_setSearchProviderIdentifier(e){const{changeQuickSearchSettings:t,serverEntityID:r,providerEntityID:n,sourceDirectory:i}=this.props;let a;i&&(a=i.id),t({serverEntityID:r,providerEntityID:n,providerIdentifier:e,directoryID:a})}_resetUpdateTimeout(){this._updateTimeoutID&&window.clearTimeout(this._updateTimeoutID),this._updateTimeoutID=window.setTimeout(this._updateCalendar,36e5)}_saveViewType(e=this.props){e.saveExperienceSettings({calendarViewType:e.selectedViewType})}render(){const{serverEntityID:e,providerEntityID:t,sourceDirectory:r,selectedViewType:i,showSpinner:a,showEmptyState:l,programGuideIdentifier:s}=this.props;return this.props.isPagePopulated?n.createElement(_b,{programGuideIdentifier:s,providerEntityID:t,selectedViewType:i,serverEntityID:e,showEmptyState:l,showSpinner:a,sourceDirectory:r}):null}}const Qb=(0,o.$j)((function(){return(0,$.P1)((e=>e.ui.recordingSchedulePage),((e,{selectedViewType:t})=>t),(0,zu.Z)(),dp(),(0,$.P1)(Ih.Z,function(e,t=Zh){return(0,gh.Z)(function(e,t){return(0,$.P1)(Ih.Z,Ph(),((r,n)=>n?n.reduce(((n,i)=>{const a=r[i];return a&&t(a)&&oc().findWhere(a.features,{type:e})&&n.push(i),n}),[]):[]))}(e,t),(e=>e))}(Op.Z.SUBSCRIBE),((e,t)=>{const r=t[0];if(r){const t=e[r];return t&&t.identifier}})),wh.Z,((e,t,r,n,i,a)=>{const{isPagePopulated:l,isCalendarPopulated:s,calendarError:o,isMediaSubscriptionsPopulated:c,mediaSubscriptionsError:d,calendar:u}=e,m=!s&&!o||!c&&!d,p=!m&&c&&!e.mediaSubscriptions.length&&s&&!u.scheduled.length;return{sourceDirectory:n,providerIdentifier:r.identifier,isPagePopulated:l,showSpinner:m,showEmptyState:p,programGuideIdentifier:i,time:u?u.time:void 0,selectedViewType:t||a.calendarViewType}}))}),qb)($b);var Yb=r(89028),Xb=r(53181),Jb=r(22699),eE=r(716),tE=Object.defineProperty,rE=Object.prototype.hasOwnProperty,nE=Object.getOwnPropertySymbols,iE=Object.prototype.propertyIsEnumerable,aE=(e,t,r)=>t in e?tE(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;const lE=function(e){const t=e,{serverEntityID:r,providerEntityID:i,pivot:a,sourceDirectory:l,directoryKey:s,showSecondHeader:o,children:c}=t,d=((e,t)=>{var r={};for(var n in e)rE.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&nE)for(var n of nE(e))t.indexOf(n)<0&&iE.call(e,n)&&(r[n]=e[n]);return r})(t,["serverEntityID","providerEntityID","pivot","sourceDirectory","directoryKey","showSecondHeader","children"]);return n.createElement(Jb.Z,((e,t)=>{for(var r in t||(t={}))rE.call(t,r)&&aE(e,r,t[r]);if(nE)for(var r of nE(t))iE.call(t,r)&&aE(e,r,t[r]);return e})({className:eE.Z.page},d),n.createElement(Co.Z,null,n.createElement(om.Z,{providerEntityID:i,serverEntityID:r,sourceDirectory:l}),a?n.createElement(sm,{directoryKey:s,providerEntityID:i,serverEntityID:r,sourceDirectory:l}):null,n.createElement(Ku.Z,null)),o?n.createElement(Cs.Z,null):null,n.createElement(Oh.Z,null,c))};var sE=r(60285);function oE({items:e,gap:t=0,existingItems:r=[]}){const n=oc().sortBy(r,"position"),i=oc().sortBy(e,"position");let a=-1/0;return i.forEach((e=>{const i=oc().sortedIndex(r,e,"position"),l=r[i-1],s=r[i],o=e.position>a+t,c=!l||e.position>l.position+t,d=!s||e.position<s.position-t;o&&c&&d&&(n.push(e),a=e.position)})),oc().sortBy(n,"position")}const cE="minor",dE="major",uE={container:"TickMarks-container-19nFXT",ticks:"TickMarks-ticks-16UEKH",tick:"TickMarks-tick-2uVcM8",minor:"TickMarks-minor-2o5ifl TickMarks-tick-2uVcM8",major:"TickMarks-major-2GvU2q TickMarks-tick-2uVcM8",label:"TickMarks-label-3Go_Ju"};function mE(e){const{ticks:t,pixelProportion:r,majorTickGap:n,minorTickGap:i}=e,a=oc().where(t,{type:dE}),l=oc().where(t,{type:cE}),s=oE({items:a,gap:r*n});return oE({items:l,existingItems:s,gap:r*i})}class pE extends n.Component{constructor(e,t){super(e,t),this.state={ticks:mE(e)}}UNSAFE_componentWillReceiveProps(e){const{ticks:t,pixelProportion:r,majorTickGap:n,minorTickGap:i}=e,a=this.props.ticks!==t,l=this.props.pixelProportion!==r,s=this.props.majorTickGap!==n,o=this.props.minorTickGap!==i;(a||l||s||o)&&this.setState({ticks:mE(e)})}render(){return n.createElement("div",{className:uE.container},n.createElement("div",{className:uE.ticks},this.state.ticks.map((({type:e,position:t,label:r})=>n.createElement("div",{key:t,className:uE[e],style:{top:100*t+"%"}},r&&"major"===e?n.createElement("div",{className:uE.label},r):null)))))}}pE.defaultProps={majorTickGap:20,minorTickGap:5};const yE=pE;var hE=r(50362),vE=r(27911),fE=r(55175),bE=r(98313),EE=r(24935),gE=r(41523),PE=r(32453),IE=r(62050),ZE=r(3414),wE=r(66567);const CE=function(e){const t=(0,Pc.Z)(e);return n.createElement("div",{style:t.style},e.children)};class DE extends n.Component{constructor(e,t){super(e,t),this.onSelectPress=()=>{const{isSelected:e,items:t,onSelectItems:r,onDeselectItems:n}=this.props;e?n(t):r(t)},this.state={layout:this._createLayout(e),cellRenderer:this._createCellRenderer(e)}}UNSAFE_componentWillReceiveProps(e){const t=e.aspectRatios!==this.props.aspectRatios,r=e.columns!==this.props.columns,n=e.viewportWidth!==this.props.viewportWidth,i=e.viewportHeight!==this.props.viewportHeight,a=e.serverEntityID!==this.props.serverEntityID,l=e.providerEntityID!==this.props.providerEntityID,s=e.metadataListEntityID!==this.props.metadataListEntityID,o=t||r||i||n,c=a||l||s;if(o||c){const t={};o&&(t.layout=this._createLayout(e)),c&&(t.cellRenderer=this._createCellRenderer(e)),this.setState(t)}}_createLayout(e){const t=(0,ZE.Z)({aspectRatios:e.aspectRatios,columns:e.columns});return(0,IE.Z)({columns:e.columns,rows:t,maximumHeight:e.cellHeight-(e.footerHeight+e.headerHeight)})}_createCellRenderer(e){const{serverEntityID:t,providerEntityID:r,metadataListEntityID:n,containerKey:i,listType:a}=e;return(0,wE.Z)({serverEntityID:t,providerEntityID:r,metadataListEntityID:n,containerKey:i,listType:a},PE.Z)}render(){const{cellIndex:e,cellX:t,cellY:r,cellWidth:i,cellHeight:a,isVirtual:l,title:s,items:o,size:c,viewportHeight:d,scrollTop:u,isSelected:m,hasSelection:p}=this.props,{layout:y,cellRenderer:h}=this.state;return n.createElement(CE,{cellHeight:a,cellIndex:e,cellWidth:i,cellX:t,cellY:r,isVirtual:l},n.createElement("div",{className:Zi()(p&&"MetadataMomentCell-hasSelection-2ydlRR","MetadataMomentCell-header-2xcRkS")},n.createElement("div",{className:"MetadataMomentCell-actions-f9gmv5"},n.createElement(gE.Z,{className:"MetadataMomentCell-selectButton-36evse SelectButton-selectButton-Ax1DZ1",isSelected:m,title:s,onPress:this.onSelectPress})),n.createElement("div",{className:"MetadataMomentCell-title-jcCGaI"},s)),n.createElement(EE.Z,{cellRenderer:h,items:o,keyPropName:"metadataItemEntityID",layout:y,scrollTop:u-r,size:c,viewportHeight:d,viewportWidth:i}))}}DE.defaultProps={headerHeight:0,footerHeight:0};const SE=DE;function OE(){return(0,$.P1)(((e,{start:t})=>t),((e,{end:t})=>t),(0,hp.Z)(),((e,t,r)=>{const{populatedRange:n,metadataItems:i}=r;return e<n.start||t>n.end?oc().times(t-e,(()=>null)):i.slice(e-n.start,t-n.start)}))}function TE(){return(0,$.P1)(OE(),hE.Z,((e,t)=>e.map((e=>t[e]))))}const ME=(0,o.$j)((function(){return(0,$.P1)((0,hp.Z)(),OE(),(0,$.P1)(((e,{avgAR:t})=>t),TE(),((e,t)=>t.map((t=>t?(0,vE.Z)(t,e):e)))),(0,$.P1)(TE(),fE.Z,((e,t)=>e.every((e=>e&&(0,bE.Z)(t,e.ratingKey))))),Xb.Z,((e,t,r,n,i)=>({containerKey:e.containerKey,listType:"photo",aspectRatios:r,items:t,isSelected:n,hasSelection:i.activeSelectionItems.length>0})))}),(function(e,t){return{onSelectItems(t){e((0,ul.Kn)({type:Fc.PHOTO,ids:t}))},onDeselectItems(t){e((0,ul.XX)({ids:t}))}}}))(SE);var NE=Object.defineProperty,kE=Object.prototype.hasOwnProperty,RE=Object.getOwnPropertySymbols,AE=Object.prototype.propertyIsEnumerable,xE=(e,t,r)=>t in e?NE(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var LE=Object.defineProperty,jE=Object.prototype.hasOwnProperty,FE=Object.getOwnPropertySymbols,GE=Object.prototype.propertyIsEnumerable,HE=(e,t,r)=>t in e?LE(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;class UE extends n.Component{constructor(e,t){super(e,t),this.state={layout:this._createLayout(e)}}UNSAFE_componentWillReceiveProps(e){const t=e.items!==this.props.items,r=e.columns!==this.props.columns;(t||r)&&this.setState({layout:this._createLayout(e)})}_createLayout(e){return function(e){const t=e,{columns:r=1,areas:n=[],innerPaddingTop:i=0,innerPaddingBottom:a=0}=t;return uc(((e,t)=>{for(var r in t||(t={}))kE.call(t,r)&&xE(e,r,t[r]);if(RE)for(var r of RE(t))AE.call(t,r)&&xE(e,r,t[r]);return e})({getCellHeights:function(e){return n.map((t=>function(e,t){return Math.max(1,Math.round(e/r))*t+(i+a)}(t,e/r)))}},((e,t)=>{var r={};for(var n in e)kE.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&RE)for(var n of RE(e))t.indexOf(n)<0&&AE.call(e,n)&&(r[n]=e[n]);return r})(t,["columns","areas","innerPaddingTop","innerPaddingBottom"])))}({columns:e.columns,areas:e.items.map((e=>e.area)),innerPaddingTop:e.headerHeight,innerPaddingBottom:e.footerHeight,outerPaddingTop:e.listPadding,outerPaddingRight:e.listPadding-e.listGutter,outerPaddingBottom:e.listPadding,outerPaddingLeft:e.listPadding})}render(){const{serverEntityID:e,providerEntityID:t,metadataListEntityID:r,columns:i,headerHeight:a,footerHeight:l,cellComponent:s}=this.props;return n.createElement(lc.Z,((e,t)=>{for(var r in t||(t={}))jE.call(t,r)&&HE(e,r,t[r]);if(FE)for(var r of FE(t))GE.call(t,r)&&HE(e,r,t[r]);return e})({cellRenderer:(0,wE.Z)({serverEntityID:e,providerEntityID:t,metadataListEntityID:r,columns:i,headerHeight:a,footerHeight:l},s),layout:this.state.layout},this.props))}}const VE=UE;var BE=Object.defineProperty,KE=Object.prototype.hasOwnProperty,zE=Object.getOwnPropertySymbols,WE=Object.prototype.propertyIsEnumerable,_E=(e,t,r)=>t in e?BE(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;const qE={dispatchPopulateMetadataListRange:ul.vp,dispatchDeselectAllMetadataListItems:ul.m8,dispatchResetMetadataList:ul.wZ};class $E extends n.Component{constructor(){super(...arguments),this.onPageRequest=({startIndex:e,endIndex:t})=>{const{metadataListEntityID:r,disableReloadThreshold:n,items:i,dispatchPopulateMetadataListRange:a}=this.props;a({metadataListEntityID:r,disableReloadThreshold:n,startIndex:i[e].start,endIndex:i[t].end-1,pages:1})}}componentWillUnmount(){const{metadataListEntityID:e}=this.props;this.props.dispatchDeselectAllMetadataListItems({metadataListEntityID:e}),this.props.dispatchResetMetadataList({metadataListEntityID:e})}render(){const e=this.props,{dispatchPopulateMetadataListRange:t,dispatchDeselectAllMetadataListItems:r,dispatchResetMetadataList:i}=e,a=((e,t)=>{var r={};for(var n in e)KE.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&zE)for(var n of zE(e))t.indexOf(n)<0&&WE.call(e,n)&&(r[n]=e[n]);return r})(e,["dispatchPopulateMetadataListRange","dispatchDeselectAllMetadataListItems","dispatchResetMetadataList"]);return n.createElement(VE,((e,t)=>{for(var r in t||(t={}))KE.call(t,r)&&_E(e,r,t[r]);if(zE)for(var r of zE(t))WE.call(t,r)&&_E(e,r,t[r]);return e})({onPageRequest:this.onPageRequest},a))}}const QE=(0,o.$j)((function(){return(0,$.P1)(Xb.Z,(e=>({disableReloadThreshold:!!e.activeSelectionType})))}),qE)($E),YE=Math.max(0,parseInt(rt.Z.timelineGutter,10)-40);class XE extends n.Component{constructor(e,t){super(e,t),this.onListUpdate=e=>{const t=e.landmarks,r=e.listStyle&&e.listStyle.height;if(t!==this._landmarks){this._landmarks=t;const e=function(e,t){const r={},n={};return e.reduce(((e,{index:i,position:a})=>{const l=(0,gc.Z)(1e3*t[i],"yyyy MM"),s=l.slice(0,4);return r[s]?n[l]||(n[l]=!0,e.push({position:a,type:cE})):(r[s]=!0,n[l]=!0,e.push({position:a,type:dE,label:s})),e}),[])}(t,oc().pluck(this.props.moments,"startsAt"));this.setState({ticks:e,listHeight:r})}},this.state={ticks:null,listHeight:null}}render(){const{serverEntityID:e,providerEntityID:t,metadataListEntityID:r,moments:i,columns:a,height:l,onMomentScrollIndexChange:s}=this.props,{ticks:o,listHeight:c}=this.state,d=1/l,u=c&&c>l;return i.length?n.createElement("div",{className:"TimelinePageContent-container-2xEsJV"},n.createElement(QE,{cellComponent:ME,className:"TimelinePageContent-stack-nqVXMJ PageContent-pageContent-B-tWZn",columns:a,footerHeight:59,hasNestedList:!0,items:i,keyPropName:"id",listGutter:YE,listPadding:55,metadataListEntityID:r,providerEntityID:t,scrollPositionStorageKey:"TimelinePageContent",scrollerClassName:"TimelinePageContent-scroller-p4q0-D",serverEntityID:e,size:i.length,onListScrollIndexChange:s,onListUpdate:this.onListUpdate}),n.createElement("div",{className:"TimelinePageContent-adornment-1y8m-G"},o&&u?n.createElement(yE,{pixelProportion:d,ticks:o}):null)):n.createElement(Oh.Z,null,n.createElement(bp.Z,{iconComponent:sE.Z.photo,title:(0,C.Z)("There are no events in this library")}))}}const JE=XE;var eg=r(48022),tg=r(50948),rg=r(9564),ng=r(57358),ig=r(59756),ag=r(57721),lg=r(2078);const sg={showPlayAll:cg,showShuffle:function({server:e,provider:t,stableUser:r,metadataList:n}){return cg({server:e,provider:t,stableUser:r,metadataList:n})&&!!t.features.playqueue},showQueue:function({server:e,provider:t,stableUser:r,metadataList:n}){return cg({server:e,provider:t,stableUser:r,metadataList:n})},showAddToPlaylist:function({server:e,provider:t,stableUser:r,metadataList:n}){return!(!e.isFullServer||!n.isFirstItemLibraryItem)},showAddToCatalog:function({server:e,provider:t,stableUser:r,metadataList:n}){return!!(t.features.actions&&t.features.actions.addToCatalog&&(0,ag.d)(r,t.features.actions.addToCatalog))},showSync:function({server:e,provider:t,stableUser:r,metadataList:n}){return!!ig.Z.allowSync&&(!r.features[u.PL]&&!!(e.isFullServer&&e.allowSync&&n.isFirstItemLibraryItem&&n.allowSync))},showOptimize:function({server:e,provider:t,stableUser:r,metadataList:n}){return!!(e.isFullOwnedServer&&e.transcoderVideo&&n.isFirstItemLibraryItem)}},og={mixed:[],movie:["showPlayAll","showShuffle","showQueue","showAddToPlaylist","showSync","showOptimize"],show:["showPlayAll","showShuffle","showQueue","showAddToPlaylist","showAddToCatalog","showSync","showOptimize"],season:["showPlayAll","showShuffle","showQueue","showAddToPlaylist","showSync","showOptimize"],episode:["showPlayAll","showShuffle","showQueue","showAddToPlaylist","showSync","showOptimize"],artist:["showPlayAll","showShuffle","showQueue","showAddToPlaylist","showSync"],album:["showPlayAll","showShuffle","showQueue","showAddToPlaylist","showSync"],track:["showPlayAll","showShuffle","showAddToCatalog","showQueue","showAddToPlaylist","showSync"],photoalbum:["showPlayAll","showShuffle","showAddToPlaylist","showSync"],photo:["showPlayAll","showShuffle","showAddToPlaylist","showSync"],clip:["showPlayAll","showShuffle","showAddToPlaylist","showSync","showOptimize"],genre:["showAddToCatalog"]};function cg({server:e,provider:t,stableUser:r,metadataList:n}){return(0,lg.Z)(e,t,r.features,n)}var dg=r(27154),ug=r(32846),mg=r(61478),pg=r(22103);class yg extends n.Component{constructor(e,t){super(e,t),this.onAddToCatalogPress=()=>{this.setState({isAddToCatalogModalOpen:!0})},this.onAddToCatalogClose=()=>{this.setState({isAddToCatalogModalOpen:!1})},this.onAddToPlaylistPress=()=>{this.setState({isAddToPlaylistModalOpen:!0})},this.onAddToPlaylistClose=()=>{this.setState({isAddToPlaylistModalOpen:!1}),this.props.onMenuClose()},this.state={isAddToCatalogModalOpen:!1,isAddToPlaylistModalOpen:!1}}createOnPress(e){return()=>{e(),this.props.onMenuClose()}}render(){const e=this.props,{isAddToCatalogModalOpen:t,isAddToPlaylistModalOpen:r}=this.state;return n.createElement("div",null,e.showPlayAll?n.createElement($n.Z,{onPress:this.createOnPress(e.onPlayAllPress)},(0,C.Z)("Play All")):null,e.showShuffle?n.createElement($n.Z,{onPress:this.createOnPress(e.onShufflePress)},(0,C.Z)("Shuffle")):null,e.showQueue?n.createElement($n.Z,{onPress:this.createOnPress(e.onPlayNextPress)},(0,C.Z)("Play Next")):null,e.showQueue?n.createElement($n.Z,{onPress:this.createOnPress(e.onAddToQueuePress)},(0,C.Z)("Add to Queue")):null,e.showAddToPlaylist?n.createElement($n.Z,{onPress:this.createOnPress(this.onAddToPlaylistPress)},(0,C.Z)("Add to Playlist...")):null,e.showAddToCatalog?n.createElement($n.Z,{onPress:this.onAddToCatalogPress},(e.listType,e.listSubtype===mg.PODCAST?(0,C.Z)("Add Podcast by URL"):(0,C.Z)("Add to Catalog by URL"))):null,e.showSync?n.createElement($n.Z,{onPress:this.createOnPress(e.onSyncPress)},(0,C.Z)("Sync...")):null,e.showOptimize?n.createElement($n.Z,{onPress:this.createOnPress(e.onOptimizePress)},(0,C.Z)("Optimize...")):null,n.createElement(jl,{isOpen:t,providerEntityID:e.providerEntityID,onModalClose:this.onAddToCatalogClose}),e.showAddToPlaylist?n.createElement(pg.Z,{isOpen:r,metadataListEntityID:e.metadataListEntityID,providerEntityID:e.providerEntityID,serverEntityID:e.serverEntityID,onModalClose:this.onAddToPlaylistClose}):null)}}const hg=yg;var vg=Object.defineProperty,fg=Object.prototype.hasOwnProperty,bg=Object.getOwnPropertySymbols,Eg=Object.prototype.propertyIsEnumerable,gg=(e,t,r)=>t in e?vg(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;const Pg=function(e){const t=e,{target:r,isOpen:i}=t,a=((e,t)=>{var r={};for(var n in e)fg.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&bg)for(var n of bg(e))t.indexOf(n)<0&&Eg.call(e,n)&&(r[n]=e[n]);return r})(t,["target","isOpen"]);return n.createElement(Lr.Z,{isOpen:e.isOpen,target:e.target,onMenuClose:e.onMenuClose},n.createElement(hg,((e,t)=>{for(var r in t||(t={}))fg.call(t,r)&&gg(e,r,t[r]);if(bg)for(var r of bg(t))Eg.call(t,r)&&gg(e,r,t[r]);return e})({},a)))};var Ig=r(32539),Zg=r(67633),wg=Object.defineProperty,Cg=Object.prototype.hasOwnProperty,Dg=Object.getOwnPropertySymbols,Sg=Object.prototype.propertyIsEnumerable,Og=(e,t,r)=>t in e?wg(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;class Tg extends n.Component{constructor(e,t){super(e,t),this.onButtonPress=()=>{this.setState({isModalOpen:!0})},this.onModalClose=()=>{this.setState({isModalOpen:!1})},this.state={isModalOpen:!1}}render(){const e=this.props,{providerEntityID:t}=e,r=((e,t)=>{var r={};for(var n in e)Cg.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&Dg)for(var n of Dg(e))t.indexOf(n)<0&&Sg.call(e,n)&&(r[n]=e[n]);return r})(e,["providerEntityID"]);return n.createElement(Es.Z,((e,t)=>{for(var r in t||(t={}))Cg.call(t,r)&&Og(e,r,t[r]);if(Dg)for(var r of Dg(t))Sg.call(t,r)&&Og(e,r,t[r]);return e})({"data-testid":"toolbarAddCustomPodcast",tooltip:(0,C.Z)("Add Podcast by URL"),onPress:this.onButtonPress},r),n.createElement(Gl,null),n.createElement(jl,{isOpen:this.state.isModalOpen,providerEntityID:t,onModalClose:this.onModalClose}))}}const Mg=Tg;var Ng=r(49354),kg=r(70007),Rg=r(61525),Ag=r(37723),xg=r(11353),Lg=Object.defineProperty,jg=Object.prototype.hasOwnProperty,Fg=Object.getOwnPropertySymbols,Gg=Object.prototype.propertyIsEnumerable,Hg=(e,t,r)=>t in e?Lg(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Ug=(e,t)=>{for(var r in t||(t={}))jg.call(t,r)&&Hg(e,r,t[r]);if(Fg)for(var r of Fg(t))Gg.call(t,r)&&Hg(e,r,t[r]);return e};class Vg extends n.Component{constructor(e,t){super(e,t),this.onPlayShortcut=()=>{this.props.showPlayAll&&this.props.onPlayAllPress()},this.onAddToPlaylistPress=()=>{this.setState({isAddToPlaylistModalOpen:!0,isSmartPlaylist:!1})},this.onAddToSmartPlaylistPress=()=>{this.setState({isAddToPlaylistModalOpen:!0,isSmartPlaylist:!0})},this.onAddToPlaylistClose=()=>{this.setState({isAddToPlaylistModalOpen:!1})},this.onActionsPress=e=>{this.setState({isActionsMenuOpen:!this.state.isActionsMenuOpen})},this.onActionsMenuClose=()=>{this.setState({isActionsMenuOpen:!1})},this.state={isActionsMenuOpen:!1,isAddToPlaylistModalOpen:!1,isSmartPlaylist:!1},this._moreButtonID=(0,wn.Z)()}componentDidMount(){ug.Z.on("shortcut:playSelected",this.onPlayShortcut)}componentWillUnmount(){ug.Z.off("shortcut:playSelected",this.onPlayShortcut)}render(){const{className:e,serverEntityID:t,providerEntityID:r,metadataListEntityID:i,customFilterRoute:a,showPlayAll:l,showPlayAllOverflow:s,showShuffle:o,showShuffleOverflow:c,showAddToPlaylist:d,showAddToPlaylistOverflow:u,showAddToSmartPlaylist:m,showAddToCatalog:p,showAddToCatalogOverflow:y,showSync:h,showSyncOverflow:v,showOverflow:f,onPlayAllPress:b,onShufflePress:E,onSyncPress:g}=this.props,{isActionsMenuOpen:P,isAddToPlaylistModalOpen:I,isSmartPlaylist:Z}=this.state;return n.createElement("div",{className:e},l?n.createElement(Rg.Z,{playLabel:(0,C.Z)("Play All"),onPress:b}):null,o?n.createElement(Ag.Z,{onPress:E}):null,d?n.createElement(Ng.Z,{customFilterRoute:a,metadataListEntityID:i,providerEntityID:r,serverEntityID:t,showAddToSmartPlaylist:m,onAddToPlaylistPress:this.onAddToPlaylistPress,onAddToSmartPlaylistPress:this.onAddToSmartPlaylistPress}):null,p?n.createElement(Mg,{providerEntityID:r}):null,h?n.createElement(xg.Z,{onPress:g}):null,f?n.createElement(kg.Z,{iconComponent:Zg.Z,id:this._moreButtonID,isMenuOpen:P,label:(0,C.Z)("More..."),onPress:this.onActionsPress}):null,n.createElement(Pg,Ug(Ug({},this.props),{isOpen:P,showAddToCatalog:y,showAddToPlaylist:u,showPlayAll:s,showShuffle:c,showSync:v,target:this._moreButtonID,onMenuClose:this.onActionsMenuClose})),d?n.createElement(pg.Z,{isOpen:I,metadataListEntityID:i,providerEntityID:r,serverEntityID:t,smart:Z,onModalClose:this.onAddToPlaylistClose}):null)}}const Bg=(0,Ig.ZP)(Vg,["showPlayAll","showShuffle","showAddToPlaylist","showAddToCatalog","showSync"],["showOptimize","showQueue"]);var Kg=Object.defineProperty,zg=Object.prototype.hasOwnProperty,Wg=Object.getOwnPropertySymbols,_g=Object.prototype.propertyIsEnumerable,qg=(e,t,r)=>t in e?Kg(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,$g=(e,t)=>{for(var r in t||(t={}))zg.call(t,r)&&qg(e,r,t[r]);if(Wg)for(var r of Wg(t))_g.call(t,r)&&qg(e,r,t[r]);return e};const Qg=(0,yl.Z)((function(){return(0,$.P1)(((e,{listType:t})=>t),xe.Z,Ae.Z,ng.Z,(0,hp.Z)(),((e,t,r,n,i)=>function({server:e,provider:t,stableUser:r,metadataList:n,listType:i}){const a=i||n.firstItemType||"mixed",l=og[a];return l?l.reduce(((i,l)=>{const s=sg[l];return(0,cc.Z)(oc().isFunction(s),`getMetadataListActionProps: Invalid action, ${l}, for ${a}`),i[l]=!!(e&&t&&n)&&s({server:e,provider:t,stableUser:r,metadataList:n}),i}),{}):{}}({server:t,provider:r,stableUser:n,metadataList:i,listType:e})))}),(function(e,t){const r={serverEntityID:t.serverEntityID,providerEntityID:t.providerEntityID,metadataListEntityID:t.metadataListEntityID,listType:t.listType,metricsPage:t.metricsPage,metricsProperties:{context:t.metricsContext||Wo.LIST}};return{onPlayAllPress(){e(cl.wA(r))},onShufflePress(){e(cl.Em(r))},onPlayNextPress(){e(cl.tP($g($g({},r),{options:{playAll:!0,next:!0}})))},onAddToQueuePress(){e(cl.tP($g($g({},r),{options:{playAll:!0,next:!1}})))},onSyncPress(){e(ul.vm(r))},onOptimizePress(){e(ul.$5(r))}}}),dg.Z)(Bg);var Yg=r(37274);const Xg=(0,o.$j)((function(){return(0,$.P1)((0,hp.Z)(),(e=>({totalSize:e.totalSize,listType:eg.pV,listStyle:Yg.MOSAIC,allListStyles:[Yg.MOSAIC]})))}))((function(e){const{serverEntityID:t,providerEntityID:r,metadataListEntityID:i,sourceDirectory:a,title:l,totalSize:s,listType:o,listStyle:c,allListStyles:d}=e;return n.createElement(n.Fragment,null,n.createElement(Co.Z,null,n.createElement(om.Z,{providerEntityID:r,serverEntityID:t,sourceDirectory:a}),n.createElement(sm,{directoryKey:Hu.tk.TIMELINE,providerEntityID:r,serverEntityID:t,sourceDirectory:a}),n.createElement(Ku.Z,null,n.createElement(rg.Z,{allListStyles:d,selectedListStyle:c}))),n.createElement(Cs.Z,null,n.createElement(Ds.Z,null,n.createElement(Gu.Z,null,l),n.createElement(ol.Z,null,s)),n.createElement(tg.Z,null,n.createElement(Qg,{listType:o,metadataListEntityID:i,providerEntityID:r,serverEntityID:t}))))}));var Jg=r(22134);var eP=Object.defineProperty,tP=Object.prototype.hasOwnProperty,rP=Object.getOwnPropertySymbols,nP=Object.prototype.propertyIsEnumerable,iP=(e,t,r)=>t in e?eP(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,aP=(e,t)=>{for(var r in t||(t={}))tP.call(t,r)&&iP(e,r,t[r]);if(rP)for(var r of rP(t))nP.call(t,r)&&iP(e,r,t[r]);return e};class lP extends n.Component{constructor(e,t){super(e,t),this.onMeasure=({width:e,height:t})=>{this.setState({isMeasured:!0,width:e,height:t})},this.onMomentScrollIndexChange=e=>{this.setState({currentMomentTitle:this.props.moments[e].title})},this.state={isMeasured:!1,currentMomentTitle:"",width:0,height:0}}componentDidMount(){const{librarySectionID:e,providerIdentifier:t,onLibraryChange:r}=this.props;e&&r(t,e)}componentDidUpdate(e){const{librarySectionID:t,providerIdentifier:r,onLibraryChange:n}=this.props;t&&t!==e.librarySectionID&&n(r,t)}componentWillUnmount(){this.props.onLibraryChange(null,null),this.props.onCloseTimelinePage()}render(){const{serverEntityID:e,providerEntityID:t,providerMetricsIdentifier:r,metadataListEntityID:a,sourceDirectory:l,pivot:s,isMomentListPending:o,isMomentListPopulated:c,moments:d,activeSelectionType:u,columnAdjustment:m}=this.props,{isMeasured:p,width:y,height:h,currentMomentTitle:v}=this.state,f=200-100*m,b=12+m,E=Math.min(Math.ceil(y/f),b);if(c)return n.createElement(Xo.Z,{metricsPage:i.WJ,metricsProperties:{identifier:r,mode:"timeline",type:"photo",style:Yg.MOSAIC},scrollDirection:ql.Hn},u?n.createElement(Jg.Z,{providerEntityID:t,serverEntityID:e}):n.createElement(Xg,{metadataListEntityID:a,providerEntityID:t,serverEntityID:e,sourceDirectory:l,title:v}),n.createElement(Jo.Z,{className:"TimelinePage-measured-ozEMO6",ignorePosition:!0,onMeasure:this.onMeasure},p?n.createElement(JE,{columns:E,height:h,metadataListEntityID:a,moments:d,providerEntityID:t,serverEntityID:e,onMomentScrollIndexChange:this.onMomentScrollIndexChange}):null));const g={serverEntityID:e,providerEntityID:t,sourceDirectory:l,pivot:s,directoryKey:Hu.tk.TIMELINE,scrollDirection:ql.Hn};if(o)return n.createElement(lE,aP(aP({},g),{showSecondHeader:!0}),n.createElement(bp.Z,null,n.createElement(dm.Z,null)));const P={title:(0,C.Z)("There was an error loading the timeline for this library")};return n.createElement(lE,aP({},g),n.createElement(Dp.Z,aP({},P)))}}const sP=lP,oP=(0,$.P1)((e=>e.ui.timelinePage.momentList),(e=>{if(!e)return[];let t=0;return e.moments.map((e=>{const r=t;t+=e.size;const{id:n,title:i,size:a,avgAR:l,startsAt:s}=e,o=e.size*(e.avgAR||1);return{start:r,end:t,area:o,id:n,title:i,size:a,avgAR:l,startsAt:s}}))})),cP=(0,ap.Z)(sP,(function(e){const t=e.ui.timelinePage;return{serverEntityID:t.serverEntityID,providerEntityID:t.providerEntityID,momentKey:t.momentKey}}),(function(e,t){e(Yb.h8({serverEntityID:t.serverEntityID,providerEntityID:t.providerEntityID,libraryKey:t.libraryKey,momentKey:t.momentKey})),e(Yb.Ql())})),dP=(0,o.$j)((function(){return(0,$.P1)(((e,{libraryKey:t})=>t),(e=>e.ui.timelinePage),oP,xe.Z,(0,zu.Z)(),dp(),(0,$.P1)(((e,{directoryKey:t})=>t),dp(),((e,t)=>_u(t,e))),Xb.Z,wh.Z,((e,t,r,n,i,a,l,s,o)=>{const{details:c,containerKey:d,isMomentListPending:u,isMomentListPopulated:m}=t;return{metadataListEntityID:t.metadataList,providerIdentifier:i.identifier,providerMetricsIdentifier:i.metricsIdentifier,librarySectionID:c&&c.librarySectionID,sourceDirectory:a,pivot:l,moments:r,isMomentListPending:u,isMomentListPopulated:m,containerKey:d,momentKey:f.Z.join(e,"cluster?clusterZoomLevel=1"),activeSelectionType:s.activeSelectionType,disableReloadThreshold:!!s.activeSelectionType,columnAdjustment:o.columnAdjustment,serverVersion:n.version}}))}),(function(e,t){return{onLibraryChange(r,n){e((0,b.changeQuickSearchSettings)({serverEntityID:t.serverEntityID,providerEntityID:t.providerEntityID,providerIdentifier:r,directoryID:n}))},onCloseTimelinePage(){e(Yb.qd({}))}}}))(cP);function uP({pivotType:e,directorySourceURI:t,directoryKey:r,selectedPivot:i}){const[l,y,h]=(0,I.c9)(),v=Z(),b=(0,o.v9)(d.Z),E=(0,o.v9)(k.Z),w=null==E?void 0:E.features.find((({uuid:e})=>e===u.rq));if(function(e,t){return e===u.sy&&t}(null==i?void 0:i.requires,b))return n.createElement(lo,null);switch(e){case a.F6.Hub:return n.createElement(s.ZP,{name:null==i?void 0:i.context},n.createElement(ze,{sourceURI:t}));case a.F6.List:return n.createElement(s.ZP,{name:null==i?void 0:i.context},n.createElement($s,{directoryKey:r,directorySourceURI:t,selectedPivot:i}));case a.F6.View:switch(null==i?void 0:i.key){case a.GG.SharedItems:return n.createElement(s.ZP,{name:null==i?void 0:i.context},n.createElement($s,{directoryKey:r,directorySourceURI:t,listStyle:g.n.SharedItems,selectedPivot:i}));case a.GG.Guide:return(l.isCloud||(0,p.Z)(l.version,c.Z.gridPagination))&&w?n.createElement(rp,{activeFilterLabel:(0,np.Z)(v.filterLabel),activeFilters:(0,m.Z)(v.filters)}):n.createElement(fh,{activeFilterLabel:v.filterLabel,activeFilters:(0,m.Z)(v.filters),directoryKey:a.GG.Guide,providerEntityID:y.entityID,serverEntityID:l.entityID,sourceDirectoryID:null==h?void 0:h.id});case a.GG.RecordingSchedule:return n.createElement(Qb,{providerEntityID:y.entityID,selectedViewType:v.view,serverEntityID:l.entityID,sourceDirectoryID:null==h?void 0:h.id});case a.GG.Timeline:{const e=(0,P.Z)(y,a.zW.Content);return n.createElement(dP,{directoryKey:a.GG.Timeline,libraryKey:f.Z.join([null==e?void 0:e.key,null==h?void 0:h.id,"cluster"],{clusterZoomLevel:1}),providerEntityID:y.entityID,serverEntityID:l.entityID,sourceDirectoryID:null==h?void 0:h.id})}}}return n.createElement(bh.Z,null)}function mP(e){switch(null==e?void 0:e.key){case a.GG.SharedItems:return"/library/shared/all";default:return null==e?void 0:e.key}}const pP=[a.GG.Guide,a.GG.RecordingSchedule,a.GG.Timeline];function yP({className:e,directoryKey:t,pageType:r,machineIdentifier:i,providerIdentifier:l,contentDirectoryID:s,pivotID:c}){const d=(0,o.I0)(),u=function({machineIdentifier:e,providerIdentifier:t,contentDirectoryID:r,pageType:i,pivotID:a}){var l,s;const c=(0,o.I0)(),d=(0,o.v9)(ue),u=(0,o.v9)((0,Ao.Z)(e,t,r)),m=(0,o.v9)(Lo),p=(0,o.v9)(xo),y=(0,o.v9)(jo(e,t,r));let h;i?h=null==(l=null==d?void 0:d.Pivot)?void 0:l.find((e=>e.active)):(h=Fo(null==u?void 0:u.pivots,a),!h&&y&&(h=Fo(null==u?void 0:u.pivots,y)),h||(h=null==(s=null==u?void 0:u.pivots)?void 0:s[0]));const v=r?(0,Ro.Z)(e,t,r):void 0;return(0,n.useEffect)((()=>{m&&v&&h&&y!==h.key&&null==i&&c((0,Ar.LN)({lastSourcePivots:Ko(Ko({},p),{[v]:h.key})}))}),[c,y,p,a,i,h,m,v]),h}({machineIdentifier:i,providerIdentifier:l,contentDirectoryID:s,pageType:r,pivotID:c}),m=u?u.type:null!=r?r:a.F6.List,p=mP(u),f=function(e,t){switch(null==e?void 0:e.key){case a.GG.SharedItems:return null!=t?t:mP(e);default:return t}}(u,t),g=null!=p?p:t,P=g?(0,y.Z)({serverIdentifier:i,providerIdentifier:l,key:g}):void 0;return(0,n.useEffect)((()=>{if(!s)return;const e=(0,h.Z)(E.cN,i),t=(0,h.Z)(E.MC,l,e);return d((0,b.changeQuickSearchSettings)({serverEntityID:e,providerEntityID:t,providerIdentifier:l,directoryID:s})),()=>{d((0,b.changeQuickSearchSettings)({serverEntityID:null,providerEntityID:null,providerIdentifier:null,directoryID:null}))}}),[s,d,i,l]),(0,n.useEffect)((()=>()=>{(0,v.c9)((()=>{d(Se.Z.actions.resetMeta())}))}),[d]),P?n.createElement(I.ZP,{contentDirectoryID:s,machineIdentifier:i,providerIdentifier:l},n.createElement(w.Z,{className:e,scrollDirection:N.I.None},u&&m===a.F6.View&&pP.includes(u.key)?null:n.createElement(ko,{selectedPivot:u,sourceURI:P}),n.createElement(uP,{directoryKey:f,directorySourceURI:P,pivotType:m,selectedPivot:u}))):n.createElement(w.Z,{className:e},n.createElement(O,null))}var hP=r(1346),vP=r(31446);function fP(){const e=(0,l.Z)(),t=e.key?(0,np.Z)(e.key):void 0,{machineIdentifier:r,providerIdentifier:o}=(0,hP.Z)(),c=e.pageType?(0,np.Z)(e.pageType):void 0,d=(0,Y.su)(a.F6).find((e=>e===c));return n.createElement(s.ZP,{metricsContextParam:(0,np.Z)(e.context),metricsPage:i.Y3},n.createElement(vP.Z,{machineIdentifier:r,providerIdentifier:o},t||(0,np.Z)(e.source)?n.createElement(yP,{contentDirectoryID:(0,np.Z)(e.source),directoryKey:t,machineIdentifier:r,pageType:d,pivotID:(0,np.Z)(e.pivot),providerIdentifier:o}):n.createElement(bh.Z,null)))}},59370:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});var n=r(67294),i=r(6103);const a=function(e){const{title:t,detail:r,route:a}=e,l=a?i.Z:"div";return n.createElement(l,{className:a?"PageHeaderTitle-containerWithRoute-3Xp7hf PageHeaderTitle-container-F5IPwS":"PageHeaderTitle-container-F5IPwS",to:a},n.createElement("div",{className:"PageHeaderTitle-title-1aJsbX"},t),r?n.createElement("div",{className:"PageHeaderTitle-detail-2X3UHB"},r):null)}},83427:(e,t,r)=>{"use strict";r.d(t,{Z:()=>d});var n=r(67294),i=Object.defineProperty,a=Object.prototype.hasOwnProperty,l=Object.getOwnPropertySymbols,s=Object.prototype.propertyIsEnumerable,o=(e,t,r)=>t in e?i(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;function c(e){var t=e,{children:r}=t,i=((e,t)=>{var r={};for(var n in e)a.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&l)for(var n of l(e))t.indexOf(n)<0&&s.call(e,n)&&(r[n]=e[n]);return r})(t,["children"]);return n.createElement("div",((e,t)=>{for(var r in t||(t={}))a.call(t,r)&&o(e,r,t[r]);if(l)for(var r of l(t))s.call(t,r)&&o(e,r,t[r]);return e})({},i),r)}c.defaultProps={className:"PrimaryPageHeader-pageHeader-ADN5t_ PageHeader-pageHeader-277zuU"};const d=c},91061:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});var n=r(67294),i=r(12813);const a=function({children:e}){return n.createElement(i.Z,{className:"PrimaryPageHeaderRight-pageHeaderRight-2W4k2x PageHeaderRight-pageHeaderRight-3cWitX"},e)}},70007:(e,t,r)=>{"use strict";r.d(t,{Z:()=>m});var n=r(67294),i=r(63312),a=r(47636),l=Object.defineProperty,s=Object.prototype.hasOwnProperty,o=Object.getOwnPropertySymbols,c=Object.prototype.propertyIsEnumerable,d=(e,t,r)=>t in e?l(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;class u extends n.Component{shouldComponentUpdate(e,t){return(0,a.Z)(this,e,t)}render(){const e=this.props,{children:t,iconComponent:r,label:a,isMenuOpen:l}=e,u=((e,t)=>{var r={};for(var n in e)s.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&o)for(var n of o(e))t.indexOf(n)<0&&c.call(e,n)&&(r[n]=e[n]);return r})(e,["children","iconComponent","label","isMenuOpen"]);return n.createElement(i.Z,((e,t)=>{for(var r in t||(t={}))s.call(t,r)&&d(e,r,t[r]);if(o)for(var r of o(t))c.call(t,r)&&d(e,r,t[r]);return e})({"aria-haspopup":!0,"data-testid":"toolbarMore",hideOnPress:!1,tooltip:l?void 0:a},u),n.createElement(r,null),t)}}const m=u},14838:(e,t,r)=>{"use strict";r.d(t,{Z:()=>m});var n=r(67294),i=r(90653),a=r(68576),l=r(58967),s=Object.defineProperty,o=Object.prototype.hasOwnProperty,c=Object.getOwnPropertySymbols,d=Object.prototype.propertyIsEnumerable,u=(e,t,r)=>t in e?s(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;const m=function(e){const t=e,{children:r}=t,s=((e,t)=>{var r={};for(var n in e)o.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&c)for(var n of c(e))t.indexOf(n)<0&&d.call(e,n)&&(r[n]=e[n]);return r})(t,["children"]);return n.createElement(a.Z,((e,t)=>{for(var r in t||(t={}))o.call(t,r)&&u(e,r,t[r]);if(c)for(var r of c(t))d.call(t,r)&&u(e,r,t[r]);return e})({className:l.Z.innerEmptyPage,contentClassName:l.Z.innerEmptyPageContent,scrollDirection:i.Hn},s),r)}},98378:(e,t,r)=>{"use strict";r.d(t,{Z:()=>l});var n,i,a=r(30492);function l(e,t){return t.isCloud?null==e?void 0:e.providerSourceTitle:t.isEmbedded?void 0:t.isFullOwnedServer?e?e.serverFriendlyName:void 0:e?`${e.serverSourceTitle}  ${e.serverFriendlyName}`:(0,a.Z)(t)}(i=n||(n={})).Dvr="dvr",i.Episode="episode",i.Home="home",i.Movies="movies",i.Music="music",i.Photos="photos",i.Playlists="playlists",i.Podcasts="podcasts",i.Tv="tv",i.Videos="videos",i.Webshows="webShows",i.Shared="shared"},69590:e=>{var t="undefined"!=typeof Element,r="function"==typeof Map,n="function"==typeof Set,i="function"==typeof ArrayBuffer&&!!ArrayBuffer.isView;function a(e,l){if(e===l)return!0;if(e&&l&&"object"==typeof e&&"object"==typeof l){if(e.constructor!==l.constructor)return!1;var s,o,c,d;if(Array.isArray(e)){if((s=e.length)!=l.length)return!1;for(o=s;0!=o--;)if(!a(e[o],l[o]))return!1;return!0}if(r&&e instanceof Map&&l instanceof Map){if(e.size!==l.size)return!1;for(d=e.entries();!(o=d.next()).done;)if(!l.has(o.value[0]))return!1;for(d=e.entries();!(o=d.next()).done;)if(!a(o.value[1],l.get(o.value[0])))return!1;return!0}if(n&&e instanceof Set&&l instanceof Set){if(e.size!==l.size)return!1;for(d=e.entries();!(o=d.next()).done;)if(!l.has(o.value[0]))return!1;return!0}if(i&&ArrayBuffer.isView(e)&&ArrayBuffer.isView(l)){if((s=e.length)!=l.length)return!1;for(o=s;0!=o--;)if(e[o]!==l[o])return!1;return!0}if(e.constructor===RegExp)return e.source===l.source&&e.flags===l.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===l.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===l.toString();if((s=(c=Object.keys(e)).length)!==Object.keys(l).length)return!1;for(o=s;0!=o--;)if(!Object.prototype.hasOwnProperty.call(l,c[o]))return!1;if(t&&e instanceof Element)return!1;for(o=s;0!=o--;)if(("_owner"!==c[o]&&"__v"!==c[o]&&"__o"!==c[o]||!e.$$typeof)&&!a(e[c[o]],l[c[o]]))return!1;return!0}return e!=e&&l!=l}e.exports=function(e,t){try{return a(e,t)}catch(e){if((e.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw e}}},26253:(e,t,r)=>{"use strict";r.d(t,{Z:()=>o});var n=r(45697),i=r.n(n),a=r(67294),l=r(17845);function s(e){const t=e["aria-label"],r=e.className,n=e.style,i={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-sort-ascending-560"};i["aria-hidden"]=!t,i.style=n,i.className=l.Z.plexIcon+(r?" "+r:"");const s=[a.createElement.apply(a,["path",{d:"m280 80l-200 200h160v200h80v-200h160l-200-200"}].concat([]))];return t&&s.unshift(a.createElement("title",null,t)),a.createElement.apply(a,["svg",i].concat(s))}s.propTypes={"aria-label":i().string,className:i().string,style:i().object};const o=s},72373:(e,t,r)=>{"use strict";r.d(t,{Z:()=>o});var n=r(45697),i=r.n(n),a=r(67294),l=r(17845);function s(e){const t=e["aria-label"],r=e.className,n=e.style,i={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-sort-descending-560"};i["aria-hidden"]=!t,i.style=n,i.className=l.Z.plexIcon+(r?" "+r:"");const s=[a.createElement.apply(a,["path",{d:"m80 280h160v-200h80v200h160l-200 200-200-200"}].concat([]))];return t&&s.unshift(a.createElement("title",null,t)),a.createElement.apply(a,["svg",i].concat(s))}s.propTypes={"aria-label":i().string,className:i().string,style:i().object};const o=s},67633:(e,t,r)=>{"use strict";r.d(t,{Z:()=>o});var n=r(45697),i=r.n(n),a=r(67294),l=r(17845);function s(e){const t=e["aria-label"],r=e.className,n=e.style,i={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-toolbar-more-vertical-560"};i["aria-hidden"]=!t,i.style=n,i.className=l.Z.plexIcon+(r?" "+r:"");const s=[a.createElement.apply(a,["path",{d:"M280 168c-30.897 0-56-25.103-56-56 0-30.896 25.103-56 56-56s56 25.104 56 56c-.965 31.862-25.103 56-56 56zm56 112c0 30.897-25.103 56-56 56s-56-25.103-56-56 25.103-56 56-56 56 25.103 56 56zm0 168c0 30.897-25.103 56-56 56s-56-25.103-56-56 25.103-56 56-56 56 25.103 56 56z"}].concat([]))];return t&&s.unshift(a.createElement("title",null,t)),a.createElement.apply(a,["svg",i].concat(s))}s.propTypes={"aria-label":i().string,className:i().string,style:i().object};const o=s},26984:(e,t,r)=>{"use strict";r.d(t,{Z:()=>o});var n=r(45697),i=r.n(n),a=r(67294),l=r(17845);function s(e){const t=e["aria-label"],r=e.className,n=e.style,i={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-toolbar-shuffle-560"};i["aria-hidden"]=!t,i.style=n,i.className=l.Z.plexIcon+(r?" "+r:"");const s=[a.createElement.apply(a,["path",{d:"m448 441l-44.423 0c-65.833 0-103.843-28.598-141.383-96.109 5.44-10.89 10.99-22.734 16.727-35.594 3.556-7.986 4.181-9.387 5.622-12.617 36.245 74.928 65.419 102.32 119.034 102.32l44.423 0 0-77 112 98-112 98 0-77m0-322l0-77 112 98-112 98 0-77-44.423 0c-59.257 0-88.657 33.459-130.747 127.573-1.427 3.191-3.342 7.493-6.695 15.02-44.459 99.657-75.473 137.407-142.558 137.407l-95.577 0 0-42 95.577 0c43.602 0 66.367-27.71 104.202-112.518 3.333-7.485 5.267-11.827 6.711-15.055 48.4-108.225 87.24-152.427 169.087-152.427l44.423 0m-324.423 0c56.809 0 87.751 27.071 122.897 95.883-7.743 14.34-15.519 30.301-23.497 48.005-35.031-76.511-57.674-101.888-99.4-101.888l-95.577 0 0-42 95.577 0"}].concat([]))];return t&&s.unshift(a.createElement("title",null,t)),a.createElement.apply(a,["svg",i].concat(s))}s.propTypes={"aria-label":i().string,className:i().string,style:i().object};const o=s}}]);