(self.webpackChunkplex_web_client=self.webpackChunkplex_web_client||[]).push([[3580,3681,1313,8923,255,5847,465,8763],{63681:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>o});var n=r(67294),i=r(12208);const o=(0,n.forwardRef)((function({align:e="none","aria-label":t,color:r="inherit",size:o="inherit",testID:a},l){return n.createElement("svg",{ref:l,"aria-hidden":!t,"aria-label":t,className:(0,i.J)({align:e,color:r,size:o}),"data-testid":a,fill:"currentColor",height:48,viewBox:"0 0 48 48",width:48,xmlns:"http://www.w3.org/2000/svg"},n.createElement("path",{d:"M3 12C3 10.3431 4.34315 9 6 9H42C43.6569 9 45 10.3431 45 12V14.4542L24 25.7586L3 14.4419V12Z",fill:"currentColor"}),n.createElement("path",{d:"M3 18.533V36C3 37.6569 4.34315 39 6 39H42C43.6569 39 45 37.6569 45 36V18.5454L24 30L3 18.533Z",fill:"currentColor"}))}))},61313:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>o});var n=r(67294),i=r(12208);const o=(0,n.forwardRef)((function({align:e="none","aria-label":t,color:r="inherit",size:o="inherit",testID:a},l){return n.createElement("svg",{ref:l,"aria-hidden":!t,"aria-label":t,className:(0,i.J)({align:e,color:r,size:o}),"data-testid":a,fill:"currentColor",height:48,viewBox:"0 0 48 48",width:48,xmlns:"http://www.w3.org/2000/svg"},n.createElement("path",{d:"M9 6H12V42H9V6Z",fill:"currentColor"}),n.createElement("path",{clipRule:"evenodd",d:"M27 6H21C20.2044 6 19.4413 6.31607 18.8787 6.87868C18.3161 7.44129 18 8.20435 18 9V39C18 39.7957 18.3161 40.5587 18.8787 41.1213C19.4413 41.6839 20.2044 42 21 42H27C27.7956 42 28.5587 41.6839 29.1213 41.1213C29.6839 40.5587 30 39.7957 30 39V9C30 8.20435 29.6839 7.44129 29.1213 6.87868C28.5587 6.31607 27.7956 6 27 6ZM27 9V39H21V9H27Z",fill:"currentColor",fillRule:"evenodd"}),n.createElement("path",{d:"M39 6H36V42H39V6Z",fill:"currentColor"}))}))},98923:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>o});var n=r(67294),i=r(12208);const o=(0,n.forwardRef)((function({align:e="none","aria-label":t,color:r="inherit",size:o="inherit",testID:a},l){return n.createElement("svg",{ref:l,"aria-hidden":!t,"aria-label":t,className:(0,i.J)({align:e,color:r,size:o}),"data-testid":a,fill:"currentColor",height:48,viewBox:"0 0 48 48",width:48,xmlns:"http://www.w3.org/2000/svg"},n.createElement("path",{d:"M40.5 22.5H7.5V25.5H40.5V22.5Z",fill:"currentColor"}))}))},255:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>o});var n=r(67294),i=r(12208);const o=(0,n.forwardRef)((function({align:e="none","aria-label":t,color:r="inherit",size:o="inherit",testID:a},l){return n.createElement("svg",{ref:l,"aria-hidden":!t,"aria-label":t,className:(0,i.J)({align:e,color:r,size:o}),"data-testid":a,fill:"currentColor",height:48,viewBox:"0 0 48 48",width:48,xmlns:"http://www.w3.org/2000/svg"},n.createElement("path",{d:"M7 3C4.79086 3 3 4.79086 3 7V41C3 43.2091 4.79086 45 7 45H18.9876V28.4985H15V21.7779H18.9876V17.7429C18.9876 12.2602 21.2393 9 27.6365 9H32.9623V15.7214H29.6333C27.143 15.7214 26.9783 16.6606 26.9783 18.4134L26.9692 21.7771H33L32.2943 28.4977H26.9692V45H41C43.2091 45 45 43.2091 45 41V7C45 4.79086 43.2091 3 41 3H7Z",fill:"currentColor"}))}))},55847:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>o});var n=r(67294),i=r(12208);const o=(0,n.forwardRef)((function({align:e="none","aria-label":t,color:r="inherit",size:o="inherit",testID:a},l){return n.createElement("svg",{ref:l,"aria-hidden":!t,"aria-label":t,className:(0,i.J)({align:e,color:r,size:o}),"data-testid":a,fill:"currentColor",height:48,viewBox:"0 0 48 48",width:48,xmlns:"http://www.w3.org/2000/svg"},n.createElement("path",{clipRule:"evenodd",d:"M23.3934 16.7785L23.4844 18.2059L21.9671 18.0311C16.4439 17.3611 11.6186 15.089 7.52175 11.2731L5.51883 9.37964L5.00292 10.7779C3.91042 13.8947 4.60841 17.1863 6.88446 19.4002C8.09835 20.6236 7.82522 20.7984 5.73126 20.0701C5.00292 19.8371 4.36563 19.6623 4.30493 19.7497C4.0925 19.9536 4.82084 22.6044 5.39744 23.6531C6.18647 25.1095 7.79488 26.5369 9.55502 27.3816L11.042 28.0516L9.28189 28.0807C7.58244 28.0807 7.52175 28.1099 7.70383 28.7216C8.31078 30.615 10.7082 32.6249 13.3788 33.4988L15.2603 34.1105L13.6216 35.0427C11.1938 36.3826 8.34113 37.14 5.48848 37.1983C4.12285 37.2274 3 37.3439 3 37.4313C3 37.7226 6.70237 39.3538 8.85703 39.9947C15.321 41.8881 22.9989 41.0725 28.7649 37.8391C32.8618 35.5379 36.9586 30.9646 38.8705 26.5369C39.9023 24.1774 40.9341 19.8662 40.9341 17.798C40.9341 16.4581 41.0252 16.2833 42.7246 14.6812C43.7261 13.7491 44.6669 12.7295 44.8489 12.4382C45.1524 11.8848 45.1221 11.8848 43.5744 12.38C40.9948 13.2539 40.6307 13.1373 41.9053 11.8265C42.846 10.8944 43.9689 9.20486 43.9689 8.70966C43.9689 8.62227 43.5137 8.76792 42.9978 9.03008C42.4515 9.32138 41.2376 9.75832 40.3272 10.0205L38.6884 10.5157L37.2014 9.55441C36.382 9.03008 35.2288 8.44749 34.6219 8.27272C33.0742 7.8649 30.7071 7.92316 29.3111 8.38924C25.5177 9.70006 23.1203 13.0791 23.3934 16.7785Z",fill:"currentColor",fillRule:"evenodd"}))}))},50465:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>o});var n=r(67294),i=r(12208);const o=(0,n.forwardRef)((function({align:e="none","aria-label":t,color:r="inherit",size:o="inherit",testID:a},l){return n.createElement("svg",{ref:l,"aria-hidden":!t,"aria-label":t,className:(0,i.J)({align:e,color:r,size:o}),"data-testid":a,fill:"currentColor",height:48,viewBox:"0 0 48 48",width:48,xmlns:"http://www.w3.org/2000/svg"},n.createElement("path",{clipRule:"evenodd",d:"M24 4.5C24.8284 4.5 25.5 5.17157 25.5 6V37.3787L29.4393 33.4393C30.0251 32.8536 30.9749 32.8536 31.5607 33.4393C32.1464 34.0251 32.1464 34.9749 31.5607 35.5607L25.0607 42.0607C24.4749 42.6464 23.5251 42.6464 22.9393 42.0607L16.4393 35.5607C15.8536 34.9749 15.8536 34.0251 16.4393 33.4393C17.0251 32.8536 17.9749 32.8536 18.5607 33.4393L22.5 37.3787V6C22.5 5.17157 23.1716 4.5 24 4.5Z",fill:"currentColor",fillRule:"evenodd"}))}))},18763:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>o});var n=r(67294),i=r(12208);const o=(0,n.forwardRef)((function({align:e="none","aria-label":t,color:r="inherit",size:o="inherit",testID:a},l){return n.createElement("svg",{ref:l,"aria-hidden":!t,"aria-label":t,className:(0,i.J)({align:e,color:r,size:o}),"data-testid":a,fill:"currentColor",height:48,viewBox:"0 0 48 48",width:48,xmlns:"http://www.w3.org/2000/svg"},n.createElement("path",{clipRule:"evenodd",d:"M24 42.5C24.8284 42.5 25.5 41.8284 25.5 41V9.62132L29.4393 13.5607C30.0251 14.1464 30.9749 14.1464 31.5607 13.5607C32.1464 12.9749 32.1464 12.0251 31.5607 11.4393L25.0607 4.93934C24.4749 4.35355 23.5251 4.35355 22.9393 4.93934L16.4393 11.4393C15.8536 12.0251 15.8536 12.9749 16.4393 13.5607C17.0251 14.1464 17.9749 14.1464 18.5607 13.5607L22.5 9.62132V41C22.5 41.8284 23.1716 42.5 24 42.5Z",fill:"currentColor",fillRule:"evenodd"}))}))},71469:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>Ao});var n=r(67294),i=r(69605),o=r(26636),a=r(74309),l=r(2200),s=r(28216),c=r(81079),u=r(47486),d=r(86953),p=r(27082),m=r(84936),h=r(45399),y=r(41538),f=r(87803),v=r(31235),g=r(24546),E=r(56077),P=r(76714),b=r(52654),w=r(23201),I=r(31764),Z=r(15397),O=r(32868),C=r(88346),S=r(8389),D=r(24453),x=r(5977),A=r(73154),T=r(71594),L=r(93474),M=r(5562),k=r(61999),R=r(89186),j=r(93966),H=r(68095),K=r(24418),q=r(28582),z=r(87212),N=r(96940),U=r(88050),F=r(30566),V=r(91859),G=r(49005),B=r(54778),_=r(72071),W=r(70972),Q=r(58836),$=r(29298),J=Object.getOwnPropertySymbols,X=Object.prototype.hasOwnProperty,Y=Object.prototype.propertyIsEnumerable;function ee(e){var t=e,{item:r}=t,i=((e,t)=>{var r={};for(var n in e)X.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&J)for(var n of J(e))t.indexOf(n)<0&&Y.call(e,n)&&(r[n]=e[n]);return r})(t,["item"]);const o=(0,s.I0)(),a=(0,_.Z)(),l=(0,B.Z)(i),c=(0,s.v9)(V.Z),u=(0,n.useCallback)((()=>{o((0,F.e_)({origin:L.nc})),a({action:U.W1})}),[o,a]);if(!r)return n.createElement("div",{style:l.style},n.createElement(A.Kq,{height:"100%"},n.createElement(N.Wf,{posterStyle:"landscape",width:i.cellWidth},n.createElement(n.Fragment,null))));const d=(0,$.Z)("userProfile",{id:r.id});return n.createElement("div",{style:l.style},n.createElement(A.Kq,{height:"100%"},n.createElement(N.Wf,{posterStyle:"landscape",width:i.cellWidth},n.createElement(A.Kq,{gap:"m",height:i.cellHeight,orientation:"horizontal",paddingX:"m",paddingY:"s",verticalAlign:"center"},n.createElement(N.Wf,{posterStyle:"circle",width:88},n.createElement(G.Z,{server:c,size:88,url:r.avatar}),n.createElement(N.JB,{href:d,posterStyle:"circle",onPress:u})),n.createElement(A.Kq,{gap:"m",height:"100%",verticalAlign:"space-between"},n.createElement(A.Kq,{gap:"xxs",height:"100%"},n.createElement(A.Kq,{height:"100%",verticalAlign:"center"},n.createElement(T.x,{color:"default",level:"body-1",numberOfLines:1},n.createElement(z.rU,{href:d,onPress:u},r.displayName||r.username)),r.displayName?n.createElement(T.x,{color:"muted",level:"body-3",numberOfLines:1},r.username):null),n.createElement(Q.Z,{mutualFriends:r.mutualFriends})),n.createElement(A.Kq,{gap:"s",orientation:"horizontal",verticalAlign:"center"},n.createElement(W.Z,{user:r})))))))}var te=r(80656),re=r(12669),ne=r(7796);function ie(){return(0,te.Z)({columnWidth:320,rowHeight:127,outerPaddingLeft:parseInt(ne.Z.v4PagePadding,10),innerHorizontalPadding:(0,re.Z)("m"),outerPaddingRight:(0,re.Z)("m"),outerPaddingBottom:(0,re.Z)("m")})}var oe=r(82387);const ae="Hub-header-e9sVK9 VirtualHubScroller-hubHeader-vSW06t",le="Hub-hub-LVoiQu",se="Hub-title-QASvxx";var ce=Object.defineProperty,ue=Object.getOwnPropertySymbols,de=Object.prototype.hasOwnProperty,pe=Object.prototype.propertyIsEnumerable,me=(e,t,r)=>t in e?ce(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;const he=ie(),ye="friendSuggestionsHub";function fe(){var e;const{data:t}=(0,oe.Bq)(),r=(0,n.useMemo)((()=>e=>n.createElement(ee,((e,t)=>{for(var r in t||(t={}))de.call(t,r)&&me(e,r,t[r]);if(ue)for(var r of ue(t))pe.call(t,r)&&me(e,r,t[r]);return e})({},e))),[]);return n.createElement(l.ZP,{metricsPane:H.nc},n.createElement(q.Z,{cellComponentFactory:r,className:le,hub:{sourceURI:ye,title:(0,M.Z)("Friend Suggestions")},hubHeaderClassName:ae,hubTitleComponent:K.Z,items:null!=(e=null==t?void 0:t.suggestedUsers)?e:[],keyPropName:"username",layout:he,scrollerKey:ye,totalSize:t?t.suggestedUsers.length:5}))}var ve=r(41921),ge=r(48918),Ee=r(29690),Pe=r(39822),be=r(65233),we=r(12239),Ie=r(94184),Ze=r.n(Ie),Oe=r(255),Ce=r(55847),Se=r(63681),De=r(68178),xe=r(57051),Ae=r(66217),Te=r(75549),Le=r(94372),Me=r(96937),ke=r(74257),Re=r(76265),je=r(22222),He=r(94590);const Ke=(0,je.P1)(He.Z,(e=>e.core.user.invite));var qe=r(42455);const ze="UserSearchInvitePopover-option-oGp8iU";function Ne({icon:e,title:t,href:r,onPress:i}){const o=n.createElement(A.Kq,{align:"space-between",orientation:"horizontal",verticalAlign:"center",width:"100%"},n.createElement(T.x,{color:"default",level:"body-2"},t),n.createElement(e,null));return r?n.createElement(ke.Z,{className:ze,rel:"noopener noreferrer",role:"menuitem",target:"_blank",to:r},o):n.createElement(Me.Z,{className:ze,role:"menuitem",onPress:i},o)}const Ue=[0,(0,re.Z)("l")];function Fe({id:e,isHighlighted:t,title:r,pane:i,color:o="accent",icon:a}){const l=(0,s.I0)(),c=(0,_.Z)(),{addToast:u}=(0,Ae.pm)(),d=(0,n.useRef)(!1),{url:p,isPopulated:m,isPending:h}=(0,s.v9)(Ke),y=encodeURIComponent(null!=p?p:""),f=encodeURIComponent((0,M.Z)("Let's be friends on Plex")),{copyToClipboard:v,copyState:g,resetCopyState:E}=(0,Re.Z)(p),P=(0,Te.b)(),b=(0,n.useCallback)((()=>{if(c({action:U.bx,pane:i}),!p&&!d.current)return l(qe.Z.actions.getInviteUrl()),void(d.current=!0);p&&P.onToggle()}),[l,p,i,P,c]);return(0,n.useEffect)((()=>{m&&d.current&&(P.onToggle(),d.current=!1)}),[m,P]),(0,n.useEffect)((()=>{if(g!==Re.B.Done)return;u({color:"confirm",description:(0,M.Z)("Link copied to your clipboard"),type:"foreground"});const e=window.setTimeout((()=>{E(),P.onClose()}),250);return()=>{window.clearTimeout(e)}}),[u,g,P,E]),n.createElement(n.Fragment,null,n.createElement(Me.Z,{"aria-haspopup":!0,"aria-label":r,className:Ze()("UserSearchInvitePopover-button-w5obtJ","accent"===o&&"UserSearchInvitePopover-accent-PgsQfC","default"===o&&"UserSearchInvitePopover-default-y5ucdD"),id:e,style:t?{backgroundColor:`var(--color-background-${o}-focus)`}:{},onPress:b},n.createElement(A.Kq,{align:"center",gap:"s",orientation:"horizontal",verticalAlign:"center"},a?n.createElement(A.Kq,{align:"center",gap:"xs",orientation:"horizontal",verticalAlign:"center"},n.createElement(a,null),n.createElement(T.x,{color:"inherit",level:"button-2"},r)):n.createElement(T.x,{color:"inherit",level:"button-2"},r),h&&d.current?n.createElement(xe.$,{color:"inherit",size:"xxs"}):null)),n.createElement(Le.Z,{className:"UserSearchInvitePopover-menu-okrOYZ Menu-menu-OCzudL",isOpen:P.isOpen,options:{placement:"right",modifiers:[{name:"offset",options:{offset:Ue}}]},target:e,onMenuClose:P.onClose},n.createElement(A.Kq,{gap:"xs",paddingY:"xs",width:"100%"},n.createElement(A.Kq,{paddingX:"s"},n.createElement(T.x,{color:"muted",level:"heading-3"},(0,M.Z)("Invite to Plex"))),n.createElement(ve.i,null),n.createElement(A.Kq,{align:"center",width:"100%"},n.createElement(Ne,{href:`https://www.facebook.com/sharer.php?u=${y}`,icon:Oe.default,title:(0,M.Z)("Facebook")}),n.createElement(Ne,{href:`https://twitter.com/share?url=${y}&text=${f}`,icon:Ce.default,title:(0,M.Z)("Twitter")}),n.createElement(Ne,{href:`mailto:?subject=${f}&body=${y}`,icon:Se.default,title:(0,M.Z)("Email")}),n.createElement(Ne,{icon:De.default,title:(0,M.Z)("Copy Link"),onPress:v})))))}var Ve=r(4570),Ge=r(4823),Be=r(66828);function _e(){const{friends:e,isPopulated:t}=(0,Ge.Z)(Pe.Z,Ee.Z.actions.fetchCommunityFriends,!0),[r,i]=(0,n.useState)(),{data:o}=oe.hi.endpoints.GetPendingRequestsCount.useQuery({type:Ve.ay.Sent}),{data:a}=oe.hi.endpoints.GetPendingRequestsCount.useQuery({type:Ve.ay.Received}),{data:l}=Be.hi.endpoints.getBlockedUsers.useQuery((0,we.Z)());if((0,n.useEffect)((()=>{i((e=>{var t,r;if(!o||!a)return e;let n=0;return o&&(n=null!=(t=o.friendRequestsCount)?t:0),a&&(n+=null!=(r=a.friendRequestsCount)?r:0),n}))}),[a,o]),!t||void 0===r||!l)return null;const s=!r&&!e.length&&!l.blockedUsers.nodes.length;return n.createElement(A.Kq,{align:s?"center":"left",width:"100%"},n.createElement(A.Kq,{maxWidth:s?626:void 0,paddingTop:s?"xxl":"none",width:"100%"},n.createElement(ve.i,null),n.createElement(A.Kq,{gap:"s",orientation:"horizontal",padding:"xs",verticalAlign:"center",wrap:!0},n.createElement(be.Z,{durationMilliseconds:0,height:130,src:ge,width:130}),n.createElement(A.Kq,{align:"left",gap:"s",verticalAlign:"center",width:"75%"},n.createElement(A.Kq,{gap:"xxs",verticalAlign:"center"},n.createElement(T.x,{color:"inherit",level:"heading-3"},(0,M.Z)("Plex is better with friends")),n.createElement(T.x,{color:"muted",numberOfLines:2},(0,M.Z)("Invite friends and family to Plex. Discover what theyâ€˜re watching, their ratings and watchlist items."))),n.createElement(Fe,{color:"default",id:"user-search-zero-state-invite",pane:"zeroState",title:(0,M.Z)("Invite people to Plex")})))))}var We=r(41542),Qe=r(34193),$e=r(79801),Je=r(38484),Xe=r(10106),Ye=r(42902),et=r(61429),tt=Object.getOwnPropertySymbols,rt=Object.prototype.hasOwnProperty,nt=Object.prototype.propertyIsEnumerable;function it(e){var t=e,{type:r}=t,i=((e,t)=>{var r={};for(var n in e)rt.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&tt)for(var n of tt(e))t.indexOf(n)<0&&nt.call(e,n)&&(r[n]=e[n]);return r})(t,["type"]);const{item:o}=i,a=(0,s.I0)(),l=(0,_.Z)(),c=(0,B.Z)(i),u=(0,s.v9)(V.Z),d=(0,n.useCallback)((()=>{a((0,F.e_)({origin:r===Ve.ay.Received?L.vs:L.dC})),l({action:U.W1})}),[a,l,r]);if(!o)return n.createElement("div",{style:c.style},n.createElement(A.Kq,{height:"100%"},n.createElement(N.Wf,{posterStyle:"landscape",width:i.cellWidth},n.createElement(n.Fragment,null))));const p=(0,$.Z)("userProfile",{id:o.user.id});return n.createElement("div",{style:c.style},n.createElement(A.Kq,{height:"100%"},n.createElement(N.Wf,{posterStyle:"landscape",width:i.cellWidth},n.createElement(A.Kq,{gap:"m",height:i.cellHeight,orientation:"horizontal",paddingX:"m",paddingY:"s",verticalAlign:"center"},n.createElement(N.Wf,{posterStyle:"circle",width:88},n.createElement(G.Z,{server:u,size:88,url:o.user.avatar}),n.createElement(N.JB,{href:p,posterStyle:"circle",onPress:d})),n.createElement(A.Kq,{gap:"m",height:"100%",verticalAlign:"space-between"},n.createElement(A.Kq,{gap:"xxs",height:"100%"},n.createElement(A.Kq,{height:"100%",verticalAlign:"center"},n.createElement(T.x,{color:"default",level:"body-1",numberOfLines:1},n.createElement(z.rU,{href:p,onPress:d},o.user.displayName||o.user.username)),o.user.displayName?n.createElement(T.x,{color:"muted",level:"body-3",numberOfLines:1},o.user.username):null),r===Ve.ay.Sent?n.createElement(A.Kq,{orientation:"horizontal",verticalAlign:"center"},n.createElement(T.x,{color:"muted",level:"body-3"},(0,et.Z)((0,Ye.Z)(new Date(o.createdAt)),{limit:"past",includeAgoSuffix:!0,shorthand:!1,roundDays:"floor"}))):null,r===Ve.ay.Received?n.createElement(Q.Z,{mutualFriends:o.user.mutualFriends}):null),n.createElement(A.Kq,{gap:"s",orientation:"horizontal",verticalAlign:"center"},n.createElement(W.Z,{user:o.user})))))))}var ot=r(24854),at=r(90605),lt=Object.defineProperty,st=Object.defineProperties,ct=Object.getOwnPropertyDescriptors,ut=Object.getOwnPropertySymbols,dt=Object.prototype.hasOwnProperty,pt=Object.prototype.propertyIsEnumerable,mt=(e,t,r)=>t in e?lt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;const ht=ie(),yt="receivedFriendRequestsHub";function ft(){const e=(0,s.I0)(),t=(0,_.Z)(),{count:r}=(0,Xe.Z)(Ve.ay.Received),{data:i,isPopulated:o,getNextPage:a,remove:c}=(0,Je.Z)(oe.hi.endpoints.friendRequests,{key:"received-friend-requests",args:{type:Ve.ay.Received},fetchSize:at.a,transformResponse:Qe.Z,selector:oe.hi.endpoints.friendRequests.select((0,at.Z)(Ve.ay.Received))}),u=(0,s.v9)($e.Z);(0,n.useEffect)((()=>{u&&(c(u,(e=>e.user.id)),e(Ee.Z.actions.clearReceivedFriendRequests()))}),[e,c,u]);const d=(0,n.useCallback)((()=>{t({pane:H.vs,action:U.Uq})}),[t]),p=(0,n.useCallback)((()=>n.createElement(ot.Z,null,n.createElement(We.Av,{onPress:d},n.createElement("span",{className:se},n.createElement(T.x,{color:"primary",level:"heading-2"},o?(0,M.Z)("Friend Requests ({count})",{count:r}):(0,M.Z)("Friend Requests")))))),[r,o,d]),m=(0,n.useMemo)((()=>e=>{return n.createElement(it,(t=((e,t)=>{for(var r in t||(t={}))dt.call(t,r)&&mt(e,r,t[r]);if(ut)for(var r of ut(t))pt.call(t,r)&&mt(e,r,t[r]);return e})({},e),r={type:Ve.ay.Received},st(t,ct(r))));var t,r}),[]);return n.createElement(l.ZP,{metricsOrigin:L.vs,metricsPane:H.vs},n.createElement(q.Z,{cellComponentFactory:m,className:le,hub:{sourceURI:yt},hubHeaderClassName:ae,hubTitleComponent:p,items:null!=i?i:[],keyPropName:"createdAt",layout:ht,scrollerKey:yt,totalSize:o?r:5,onPageRequest:a}))}var vt=r(60749),gt=Object.defineProperty,Et=Object.defineProperties,Pt=Object.getOwnPropertyDescriptors,bt=Object.getOwnPropertySymbols,wt=Object.prototype.hasOwnProperty,It=Object.prototype.propertyIsEnumerable,Zt=(e,t,r)=>t in e?gt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;const Ot=ie(),Ct="sentFriendRequestsHub";function St(){const e=(0,s.I0)(),t=(0,_.Z)(),{count:r}=(0,Xe.Z)(Ve.ay.Sent),{data:i,isPopulated:o,getNextPage:a,remove:c}=(0,Je.Z)(oe.hi.endpoints.friendRequests,{key:"sent-friend-requests",args:{type:Ve.ay.Sent},fetchSize:at.a,transformResponse:Qe.Z,selector:oe.hi.endpoints.friendRequests.select((0,at.Z)(Ve.ay.Sent))}),u=(0,s.v9)(vt.Z);(0,n.useEffect)((()=>{u&&(c(u,(e=>e.user.id)),e(Ee.Z.actions.clearSentFriendRequests()))}),[e,c,u]);const d=(0,n.useCallback)((()=>{t({pane:H.dC,action:U.Uq})}),[t]),p=(0,n.useCallback)((()=>n.createElement(ot.Z,null,n.createElement(We.Av,{onPress:d},n.createElement("span",{className:se},n.createElement(T.x,{color:"primary",level:"heading-2"},o?(0,M.Z)("Requests Sent ({count})",{count:r}):(0,M.Z)("Requests Sent")))))),[r,o,d]),m=(0,n.useMemo)((()=>e=>{return n.createElement(it,(t=((e,t)=>{for(var r in t||(t={}))wt.call(t,r)&&Zt(e,r,t[r]);if(bt)for(var r of bt(t))It.call(t,r)&&Zt(e,r,t[r]);return e})({},e),r={type:Ve.ay.Sent},Et(t,Pt(r))));var t,r}),[]);return n.createElement(l.ZP,{metricsOrigin:L.dC,metricsPane:H.dC},n.createElement(q.Z,{cellComponentFactory:m,className:le,hub:{sourceURI:Ct},hubHeaderClassName:ae,hubTitleComponent:p,items:null!=i?i:[],keyPropName:"createdAt",layout:Ot,scrollerKey:Ct,totalSize:o?r:5,onPageRequest:a}))}var Dt=r(18798),xt=r(66011),At=r(9683),Tt=r(95555),Lt=r(52560),Mt=r(49111),kt=r(5513),Rt=r(96335),jt=r(19427),Ht=r(25824),Kt=r(77610),qt=r(32354),zt=r(77045),Nt=Object.defineProperty,Ut=Object.defineProperties,Ft=Object.getOwnPropertyDescriptors,Vt=Object.getOwnPropertySymbols,Gt=Object.prototype.hasOwnProperty,Bt=Object.prototype.propertyIsEnumerable,_t=(e,t,r)=>t in e?Nt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;function Wt(e){var t=e,{id:r,setHighlightedIndex:i}=t,o=((e,t)=>{var r={};for(var n in e)Gt.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&Vt)for(var n of Vt(e))t.indexOf(n)<0&&Bt.call(e,n)&&(r[n]=e[n]);return r})(t,["id","setHighlightedIndex"]);const[a,l]=(0,zt.Z)();return(0,n.useEffect)((()=>{a&&i(-1)}),[a,i]),n.createElement(A.Kq,{ref:l,align:"space-between",gap:"xs",grow:!1,height:64,orientation:"horizontal",padding:"l",verticalAlign:"center",width:"100%"},n.createElement(A.Kq,{gap:"l",orientation:"horizontal",verticalAlign:"center",width:"70%"},n.createElement(Kt.default,{color:"muted",size:"xl"}),n.createElement(T.x,{color:"primary",level:"body-3"},(0,M.Z)("Can't find who you're looking for? Invite them to join Plex"))),n.createElement(Fe,(s=((e,t)=>{for(var r in t||(t={}))Gt.call(t,r)&&_t(e,r,t[r]);if(Vt)for(var r of Vt(t))Bt.call(t,r)&&_t(e,r,t[r]);return e})({},o),c={icon:qt.default,id:r,pane:"search",title:(0,M.Z)("Invite")},Ut(s,Ft(c)))));var s,c}var Qt=r(49666),$t=r(86258),Jt=r(14146),Xt=r(8980),Yt=r(81195);var er=Object.defineProperty,tr=Object.defineProperties,rr=Object.getOwnPropertyDescriptors,nr=Object.getOwnPropertySymbols,ir=Object.prototype.hasOwnProperty,or=Object.prototype.propertyIsEnumerable,ar=(e,t,r)=>t in e?er(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;const lr=(0,Jt.Z)({rowHeight:parseInt(Qt.Z.searchResultHeight,10),overscan:1});function sr({users:e,errorMessage:t,query:r,highlightedIndex:i,getItemProps:o}){const a=(0,s.I0)(),c=(0,n.useCallback)((()=>{a((0,F.e_)({origin:L.Kn}))}),[a]),u=(0,n.useMemo)((()=>e=>{return n.createElement($t.Z,(t=((e,t)=>{for(var r in t||(t={}))ir.call(t,r)&&ar(e,r,t[r]);if(nr)for(var r of nr(t))or.call(t,r)&&ar(e,r,t[r]);return e})({},e),tr(t,rr({getItemProps:o,highlightedIndex:i,isHoverable:!0,onPress:c}))));var t}),[o,i,c]);return n.createElement(l.ZP,{metricsPane:H.mo},n.createElement("div",{className:"UserSearchResults-list-Q5zcAg"},0===e.length||t?n.createElement(A.Kq,{padding:"s"},n.createElement(Yt.Z,{query:r})):n.createElement(Xt.Z,{cellComponentFactory:u,className:"UserSearchResults-scroller-lUJmgj VirtualListScroller-scroller-QR8ROA Scroller-scroller-S6_dko UserSearchResults-list-Q5zcAg",items:e,keyPropName:"id",layout:lr,scrollerKey:r,totalSize:e.length})))}var cr=r(34608),ur=r(77437),dr=r(97327);var pr=Object.defineProperty,mr=Object.defineProperties,hr=Object.getOwnPropertyDescriptors,yr=Object.getOwnPropertySymbols,fr=Object.prototype.hasOwnProperty,vr=Object.prototype.propertyIsEnumerable,gr=(e,t,r)=>t in e?pr(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Er=(e,t)=>{for(var r in t||(t={}))fr.call(t,r)&&gr(e,r,t[r]);if(yr)for(var r of yr(t))vr.call(t,r)&&gr(e,r,t[r]);return e},Pr=(e,t)=>mr(e,hr(t));function br(e){return e&&"type"in e&&"Invite"===e.type}const wr="user-search-invite";function Ir(){const e=(0,_.Z)(),{metricsPage:t,metricsContextTuple:r,metricsPane:i}=(0,l.Zn)(),o=(0,s.I0)(),{anchorRef:a,maxHeight:c,width:u,onInteractOutside:d}=(0,Ht.Z)({heightOffset:400}),{users:p,query:m,isFetching:h,isUninitialized:y,error:f,search:v,reset:g}=function(){var e;const[t,r]=(0,n.useState)(""),{addToast:i}=(0,Ae.pm)(),o=(0,s.I0)(),[a,l]=(0,n.useState)(),{data:c,isFetching:u,isUninitialized:d,error:p,originalArgs:m}=(0,dr.X4)({query:t,limit:50},{skip:!t}),h=(0,n.useCallback)((()=>{r(""),l(void 0)}),[]),y=(0,n.useCallback)((e=>{r(e)}),[]);return(0,n.useEffect)((()=>{t||o(dr.hi.util.invalidateTags([cr.U.UserSearch]))}),[o,t]),(0,n.useEffect)((()=>{l(null==c?void 0:c.searchUsers)}),[null==c?void 0:c.searchUsers]),(0,n.useEffect)((()=>{(null==p?void 0:p.message)&&i({color:"alert",description:p.message,type:"foreground",testID:"error"})}),[i,null==p?void 0:p.message]),{users:a,query:null!=(e=null==m?void 0:m.query)?e:t,isFetching:u,isUninitialized:d,error:p,search:y,reset:h}}(),E=(0,n.useMemo)((()=>p?[...p,{type:"Invite"}]:[]),[p]),{isOpen:P,highlightedIndex:b,inputValue:w,setHighlightedIndex:I,getComboboxProps:Z,getMenuProps:O,getInputProps:C,setInputValue:S,getItemProps:D,openMenu:x,closeMenu:T}=(0,At.Kb)({items:E,onSelectedItemChange:({selectedItem:e})=>{if(!e)return;if(br(e))return;const t=(0,$.Z)("userProfile",{id:e.id});o((0,kt.c4)({pathname:t}))},stateReducer:(0,n.useCallback)(((e,{changes:t,type:r})=>{switch(r){case At.Kb.stateChangeTypes.ItemClick:case At.Kb.stateChangeTypes.InputKeyDownEnter:case At.Kb.stateChangeTypes.FunctionSelectItem:return Pr(Er({},t),{inputValue:e.inputValue,isOpen:e.isOpen});case At.Kb.stateChangeTypes.InputBlur:return Pr(Er({},t),{inputValue:e.inputValue,selectedItem:null})}return t}),[]),itemToString:e=>e&&!br(e)?e.displayName||e.username:""}),L=(0,ur.Z)(w,jt.x),k=(0,n.useCallback)((e=>{e?x():T()}),[T,x]),R=(0,n.useCallback)((()=>{S(""),T(),e({action:U.V4})}),[S,T,e]),H=(0,n.useCallback)((e=>{if("Home"!==e.key&&"End"!==e.key||(e.nativeEvent.preventDownshiftDefault=!0),b>-1&&b===E.length-1&&"Enter"===e.key){e.nativeEvent.preventDownshiftDefault=!0;const t=document.getElementById(wr);null==t||t.focus()}}),[b,E.length]);(0,n.useEffect)((()=>{L&&(v(L),(0,j.DB)("metrics").trackEvent({event:Rt.VV,interaction:!0,properties:{value:L,page:t,contextTuple:r,pane:i}}))}),[L,r,t,i,v]),(0,n.useEffect)((()=>{w?w===L&&v(w):(S(""),T(),g())}),[T,L,w,g,v,S]);const K=(0,n.useCallback)((()=>{!P&&w&&x(),e({action:U.qH})}),[w,P,x,e]),q=(0,n.useCallback)((t=>{var r,n;(null==(r=t.relatedTarget)?void 0:r.id)===wr||"dialog"===(null==(n=t.relatedTarget)?void 0:n.getAttribute("role"))?t.nativeEvent.preventDownshiftDefault=!0:w&&h&&e({action:U.yh})}),[w,h,e]),z=h||P&&y&&w!==L;return n.createElement("div",Er({},Z({className:"UserSearchInput-comboBox-NVOicb"})),n.createElement(Tt.J2,{isOpen:P,onOpenChange:k},n.createElement(Tt.tW,null,n.createElement(Mt.M,{ref:a,inputProps:C({placeholder:(0,M.Z)("Search by name, location, or interest"),onKeyDown:H,onFocus:K,onBlur:q,maxLength:cr.t}),onClearPress:R})),n.createElement("div",Er({},O()),n.createElement(Tt.yk,{arrow:!1,autoFocus:!1,maxHeight:c,portalled:!1,width:u,onInteractOutside:d},n.createElement(A.Kq,{shrink:!1,width:"100%"},z?n.createElement(A.Kq,{align:"center",orientation:"horizontal",padding:"s",width:"100%"},n.createElement(xe.$,{size:"s"})):null,!p||h&&!p.length?null:n.createElement(n.Fragment,null,n.createElement(Lt.Tt,{scrollShadow:!1},n.createElement(sr,{errorMessage:null==f?void 0:f.message,getItemProps:D,highlightedIndex:b,query:m,users:p})),n.createElement(ve.i,null),n.createElement("div",{id:"user-search-results"},n.createElement(Wt,{id:wr,isHighlighted:b===p.length,setHighlightedIndex:I}))))))))}var Zr=r(36996);function Or(){const e=(0,k.Z)();return(0,n.useEffect)((()=>{const t=function(){const e=(0,j.DB)("appModel").get("history"),t=e[e.length-1];return t?`${t.pathname}${t.search}`:void 0}();let r;r=t&&(0,x.LX)(t,{path:Zr.Z.profile,exact:!0})?L.Ft:t&&(0,x.LX)(t,{path:Zr.Z.userProfile,exact:!0})?L.ih:L.c0,e({origin:r})}),[e]),n.createElement(g.Z,null,n.createElement(R.Z,{className:"PeoplePage-content-qQuwaG PageContent-pageContentScroller-dvaH3C Scroller-scroller-S6_dko"},n.createElement(A.Kq,{gap:"l",paddingTop:"l"},n.createElement(A.Kq,{align:"center",gap:"l"},n.createElement(T.x,{level:"heading-1"},(0,M.Z)("Connect with Friends")),n.createElement(Ir,null)),n.createElement(ft,null),n.createElement(fe,null),n.createElement(Dt.Z,{hideNotificationBadge:!0,useGetFriends:xt.Z}),n.createElement(St,null),n.createElement(_e,null))))}var Cr=r(56500),Sr=r(66162),Dr=r(99434),xr=r(68672),Ar=r(92129),Tr=r(77909),Lr=r(74253),Mr=r(59468),kr=r(7420),Rr=r(89028),jr=r(53181),Hr=r(52354),Kr=r(90653),qr=r(89197),zr=r(58801),Nr=r(95815),Ur=r(78958),Fr=r(42934),Vr=r(48285),Gr=r(10241),Br=r(56990),_r=r(90066),Wr=r(22699),Qr=r(71273),$r=Object.defineProperty,Jr=Object.getOwnPropertySymbols,Xr=Object.prototype.hasOwnProperty,Yr=Object.prototype.propertyIsEnumerable,en=(e,t,r)=>t in e?$r(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;const tn=function(e){const t=e,{serverEntityID:r,providerEntityID:i,pivot:o,sourceDirectory:a,directoryKey:l,showSecondHeader:s,children:c}=t,u=((e,t)=>{var r={};for(var n in e)Xr.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&Jr)for(var n of Jr(e))t.indexOf(n)<0&&Yr.call(e,n)&&(r[n]=e[n]);return r})(t,["serverEntityID","providerEntityID","pivot","sourceDirectory","directoryKey","showSecondHeader","children"]);return n.createElement(Wr.Z,((e,t)=>{for(var r in t||(t={}))Xr.call(t,r)&&en(e,r,t[r]);if(Jr)for(var r of Jr(t))Yr.call(t,r)&&en(e,r,t[r]);return e})({className:Qr.Z.page},u),n.createElement(Fr.Z,null,n.createElement(Br.Z,{providerEntityID:i,serverEntityID:r,sourceDirectory:a}),o?n.createElement(Gr.Z,{directoryKey:l,providerEntityID:i,serverEntityID:r,sourceDirectory:a}):null,n.createElement(Vr.Z,null)),s?n.createElement(Ur.Z,null):null,n.createElement(_r.Z,null,c))};var rn=r(82598),nn=r(14838),on=r(13469),an=r.n(on),ln=r(63233);function sn({items:e,gap:t=0,existingItems:r=[]}){const n=an().sortBy(r,"position"),i=an().sortBy(e,"position");let o=-1/0;return i.forEach((e=>{const i=an().sortedIndex(r,e,"position"),a=r[i-1],l=r[i],s=e.position>o+t,c=!a||e.position>a.position+t,u=!l||e.position<l.position-t;s&&c&&u&&(n.push(e),o=e.position)})),an().sortBy(n,"position")}const cn="minor",un="major",dn={container:"TickMarks-container-frZO0i",ticks:"TickMarks-ticks-qo5YPE",tick:"TickMarks-tick-A3yNkp",minor:"TickMarks-minor-ChSTCs TickMarks-tick-A3yNkp",major:"TickMarks-major-4a9f2K TickMarks-tick-A3yNkp",label:"TickMarks-label-PYLVQK"};function pn(e){const{ticks:t,pixelProportion:r,majorTickGap:n,minorTickGap:i}=e,o=an().where(t,{type:un}),a=an().where(t,{type:cn}),l=sn({items:o,gap:r*n});return sn({items:a,existingItems:l,gap:r*i})}class mn extends n.Component{constructor(e,t){super(e,t),this.state={ticks:pn(e)}}UNSAFE_componentWillReceiveProps(e){const{ticks:t,pixelProportion:r,majorTickGap:n,minorTickGap:i}=e,o=this.props.ticks!==t,a=this.props.pixelProportion!==r,l=this.props.majorTickGap!==n,s=this.props.minorTickGap!==i;(o||a||l||s)&&this.setState({ticks:pn(e)})}render(){return n.createElement("div",{className:dn.container},n.createElement("div",{className:dn.ticks},this.state.ticks.map((({type:e,position:t,label:r})=>n.createElement("div",{key:t,className:dn[e],style:{top:100*t+"%"}},r&&"major"===e?n.createElement("div",{className:dn.label},r):null)))))}}mn.defaultProps={majorTickGap:20,minorTickGap:5};const hn=mn;var yn=r(50091),fn=r(50362),vn=r(69881),gn=r(27911),En=r(29414),Pn=r(55175),bn=r(98313),wn=r(24935),In=r(14570),Zn=r(79808),On=r(62050),Cn=r(3414),Sn=r(66567),Dn=r(11956);const xn=function(e){const t=(0,Dn.Z)(e);return n.createElement("div",{style:t.style},e.children)};class An extends n.Component{constructor(e,t){super(e,t),this.onSelectPress=()=>{const{isSelected:e,items:t,onSelectItems:r,onDeselectItems:n}=this.props;e?n(t):r(t)},this.state={layout:this._createLayout(e),cellRenderer:this._createCellRenderer(e)}}UNSAFE_componentWillReceiveProps(e){const t=e.aspectRatios!==this.props.aspectRatios,r=e.columns!==this.props.columns,n=e.viewportWidth!==this.props.viewportWidth,i=e.viewportHeight!==this.props.viewportHeight,o=e.serverEntityID!==this.props.serverEntityID,a=e.providerEntityID!==this.props.providerEntityID,l=e.metadataListEntityID!==this.props.metadataListEntityID,s=t||r||i||n,c=o||a||l;if(s||c){const t={};s&&(t.layout=this._createLayout(e)),c&&(t.cellRenderer=this._createCellRenderer(e)),this.setState(t)}}_createLayout(e){const t=(0,Cn.Z)({aspectRatios:e.aspectRatios,columns:e.columns});return(0,On.Z)({columns:e.columns,rows:t,maximumHeight:e.cellHeight-(e.footerHeight+e.headerHeight)})}_createCellRenderer(e){const{serverEntityID:t,providerEntityID:r,metadataListEntityID:n,containerKey:i,listType:o}=e;return(0,Sn.Z)({serverEntityID:t,providerEntityID:r,metadataListEntityID:n,containerKey:i,listType:o},Zn.Z)}render(){const{cellIndex:e,cellX:t,cellY:r,cellWidth:i,cellHeight:o,isVirtual:a,title:l,items:s,size:c,viewportHeight:u,scrollTop:d,isSelected:p,hasSelection:m}=this.props,{layout:h,cellRenderer:y}=this.state;return n.createElement(xn,{cellHeight:o,cellIndex:e,cellWidth:i,cellX:t,cellY:r,isVirtual:a},n.createElement("div",{className:Ze()(m&&"MetadataMomentCell-hasSelection-pp54EB","MetadataMomentCell-header-oKQGsr")},n.createElement("div",{className:"MetadataMomentCell-actions-L_WAU3"},n.createElement(In.Z,{className:"MetadataMomentCell-selectButton-sHo8jO SelectButton-selectButton-_goGWp",isSelected:p,title:l,onPress:this.onSelectPress})),n.createElement("div",{className:"MetadataMomentCell-title-spuo5n"},l)),n.createElement(wn.Z,{cellRenderer:y,items:s,keyPropName:"metadataItemEntityID",layout:h,scrollTop:d-r,size:c,viewportHeight:u,viewportWidth:i}))}}An.defaultProps={headerHeight:0,footerHeight:0};const Tn=An;function Ln(){return(0,je.P1)(((e,{start:t})=>t),((e,{end:t})=>t),(0,yn.Z)(),((e,t,r)=>{const{populatedRange:n,metadataItems:i}=r;return e<n.start||t>n.end?an().times(t-e,(()=>null)):i.slice(e-n.start,t-n.start)}))}function Mn(){return(0,je.P1)(Ln(),fn.Z,((e,t)=>e.map((e=>t[e]))))}const kn=(0,s.$j)((function(){return(0,je.P1)((0,yn.Z)(),Ln(),(0,je.P1)(((e,{avgAR:t})=>t),Mn(),((e,t)=>t.map((t=>t?(0,gn.Z)(t,e):e)))),(0,je.P1)(Mn(),Pn.Z,((e,t)=>e.every((e=>e&&(0,bn.Z)(t,e.ratingKey))))),jr.Z,((e,t,r,n,i)=>({containerKey:e.containerKey,listType:"photo",aspectRatios:r,items:t,isSelected:n,hasSelection:i.activeSelectionItems.length>0})))}),(function(e,t){return{onSelectItems(t){e((0,En.Kn)({type:vn.PHOTO,ids:t}))},onDeselectItems(t){e((0,En.XX)({ids:t}))}}}))(Tn);var Rn=r(89053),jn=r(37368),Hn=Object.defineProperty,Kn=Object.getOwnPropertySymbols,qn=Object.prototype.hasOwnProperty,zn=Object.prototype.propertyIsEnumerable,Nn=(e,t,r)=>t in e?Hn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var Un=Object.defineProperty,Fn=Object.getOwnPropertySymbols,Vn=Object.prototype.hasOwnProperty,Gn=Object.prototype.propertyIsEnumerable,Bn=(e,t,r)=>t in e?Un(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;class _n extends n.Component{constructor(e,t){super(e,t),this.state={layout:this._createLayout(e)}}UNSAFE_componentWillReceiveProps(e){const t=e.items!==this.props.items,r=e.columns!==this.props.columns;(t||r)&&this.setState({layout:this._createLayout(e)})}_createLayout(e){return function(e){const t=e,{columns:r=1,areas:n=[],innerPaddingTop:i=0,innerPaddingBottom:o=0}=t,a=((e,t)=>{var r={};for(var n in e)qn.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&Kn)for(var n of Kn(e))t.indexOf(n)<0&&zn.call(e,n)&&(r[n]=e[n]);return r})(t,["columns","areas","innerPaddingTop","innerPaddingBottom"]);return(0,jn.Z)(((e,t)=>{for(var r in t||(t={}))qn.call(t,r)&&Nn(e,r,t[r]);if(Kn)for(var r of Kn(t))zn.call(t,r)&&Nn(e,r,t[r]);return e})({getCellHeights:function(e){return n.map((t=>function(e,t){return Math.max(1,Math.round(e/r))*t+(i+o)}(t,e/r)))}},a))}({columns:e.columns,areas:e.items.map((e=>e.area)),innerPaddingTop:e.headerHeight,innerPaddingBottom:e.footerHeight,outerPaddingTop:e.listPadding,outerPaddingRight:e.listPadding-e.listGutter,outerPaddingBottom:e.listPadding,outerPaddingLeft:e.listPadding})}render(){const{serverEntityID:e,providerEntityID:t,metadataListEntityID:r,columns:i,headerHeight:o,footerHeight:a,cellComponent:l}=this.props;return n.createElement(Rn.Z,((e,t)=>{for(var r in t||(t={}))Vn.call(t,r)&&Bn(e,r,t[r]);if(Fn)for(var r of Fn(t))Gn.call(t,r)&&Bn(e,r,t[r]);return e})({cellRenderer:(0,Sn.Z)({serverEntityID:e,providerEntityID:t,metadataListEntityID:r,columns:i,headerHeight:o,footerHeight:a},l),layout:this.state.layout},this.props))}}const Wn=_n;var Qn=Object.defineProperty,$n=Object.getOwnPropertySymbols,Jn=Object.prototype.hasOwnProperty,Xn=Object.prototype.propertyIsEnumerable,Yn=(e,t,r)=>t in e?Qn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;const ei={dispatchPopulateMetadataListRange:En.vp,dispatchDeselectAllMetadataListItems:En.m8,dispatchResetMetadataList:En.wZ};class ti extends n.Component{constructor(){super(...arguments),this.onPageRequest=({startIndex:e,endIndex:t})=>{const{metadataListEntityID:r,disableReloadThreshold:n,items:i,dispatchPopulateMetadataListRange:o}=this.props;o({metadataListEntityID:r,disableReloadThreshold:n,startIndex:i[e].start,endIndex:i[t].end-1,pages:1})}}componentWillUnmount(){const{metadataListEntityID:e}=this.props;this.props.dispatchDeselectAllMetadataListItems({metadataListEntityID:e}),this.props.dispatchResetMetadataList({metadataListEntityID:e})}render(){const e=this.props,{dispatchPopulateMetadataListRange:t,dispatchDeselectAllMetadataListItems:r,dispatchResetMetadataList:i}=e,o=((e,t)=>{var r={};for(var n in e)Jn.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&$n)for(var n of $n(e))t.indexOf(n)<0&&Xn.call(e,n)&&(r[n]=e[n]);return r})(e,["dispatchPopulateMetadataListRange","dispatchDeselectAllMetadataListItems","dispatchResetMetadataList"]);return n.createElement(Wn,((e,t)=>{for(var r in t||(t={}))Jn.call(t,r)&&Yn(e,r,t[r]);if($n)for(var r of $n(t))Xn.call(t,r)&&Yn(e,r,t[r]);return e})({onPageRequest:this.onPageRequest},o))}}const ri=(0,s.$j)((function(){return(0,je.P1)(jr.Z,(e=>({disableReloadThreshold:!!e.activeSelectionType})))}),ei)(ti);var ni=r(31212);const ii=Math.max(0,parseInt(ne.Z.timelineGutter,10)-40);class oi extends n.Component{constructor(e,t){super(e,t),this.onListUpdate=e=>{const t=e.landmarks,r=e.listStyle&&e.listStyle.height;if(t!==this._landmarks){this._landmarks=t;const e=function(e,t){const r={},n={};return e.reduce(((e,{index:i,position:o})=>{const a=(0,ni.Z)(1e3*t[i],"yyyy MM"),l=a.slice(0,4);return r[l]?n[a]||(n[a]=!0,e.push({position:o,type:cn})):(r[l]=!0,n[a]=!0,e.push({position:o,type:un,label:l})),e}),[])}(t,an().pluck(this.props.moments,"startsAt"));this.setState({ticks:e,listHeight:r})}},this.state={ticks:null,listHeight:null}}render(){const{serverEntityID:e,providerEntityID:t,metadataListEntityID:r,moments:i,columns:o,height:a,onMomentScrollIndexChange:l}=this.props,{ticks:s,listHeight:c}=this.state,u=1/a,d=c&&c>a;return i.length?n.createElement("div",{className:"TimelinePageContent-container-mvQDHr"},n.createElement(ri,{cellComponent:kn,className:"TimelinePageContent-stack-vNqxhP PageContent-pageContent-rk0p0C",columns:o,footerHeight:59,hasNestedList:!0,items:i,keyPropName:"id",listGutter:ii,listPadding:55,metadataListEntityID:r,providerEntityID:t,scrollPositionStorageKey:"TimelinePageContent",scrollerClassName:"TimelinePageContent-scroller-Kg90e8",serverEntityID:e,size:i.length,onListScrollIndexChange:l,onListUpdate:this.onListUpdate}),n.createElement("div",{className:"TimelinePageContent-adornment-QvGJVk"},s&&d?n.createElement(hn,{pixelProportion:u,ticks:s}):null)):n.createElement(_r.Z,null,n.createElement(rn.Z,{iconComponent:ln.Z.photo,title:(0,M.Z)("There are no events in this library")}))}}const ai=oi;var li=r(48022),si=r(91569),ci=r(868),ui=r(28277),di=r(36656),pi=r(97175),mi=r(79932),hi=r(70488),yi=r(57358),fi=r(87691),vi=r(11133),gi=r(2078);const Ei={showPlayAll:bi,showShuffle:function({server:e,provider:t,stableUser:r,metadataList:n}){return bi({server:e,provider:t,stableUser:r,metadataList:n})&&!!t.features.playqueue},showQueue:function({server:e,provider:t,stableUser:r,metadataList:n}){return bi({server:e,provider:t,stableUser:r,metadataList:n})},showAddToPlaylist:function({server:e,provider:t,stableUser:r,metadataList:n}){return!(!e.isFullServer||!n.isFirstItemLibraryItem)},showOptimize:function({server:e,provider:t,stableUser:r,metadataList:n}){return!!(e.isFullOwnedServer&&e.transcoderVideo&&n.isFirstItemLibraryItem)}},Pi={mixed:[],movie:["showPlayAll","showShuffle","showQueue","showAddToPlaylist","showOptimize"],show:["showPlayAll","showShuffle","showQueue","showAddToPlaylist","showOptimize"],season:["showPlayAll","showShuffle","showQueue","showAddToPlaylist","showOptimize"],episode:["showPlayAll","showShuffle","showQueue","showAddToPlaylist","showOptimize"],artist:["showPlayAll","showShuffle","showQueue","showAddToPlaylist"],album:["showPlayAll","showShuffle","showQueue","showAddToPlaylist"],track:["showPlayAll","showShuffle","showQueue","showAddToPlaylist"],photoalbum:["showPlayAll","showShuffle","showAddToPlaylist"],photo:["showPlayAll","showShuffle","showAddToPlaylist"],clip:["showPlayAll","showShuffle","showAddToPlaylist","showOptimize"],genre:[]};function bi({server:e,provider:t,stableUser:r,metadataList:n}){return(0,gi.Z)(e,t,r.features,n)}var wi=r(27154),Ii=r(32846),Zi=r(53851),Oi=r(24464),Ci=r(38044);class Si extends n.Component{constructor(e,t){super(e,t),this.onAddToPlaylistPress=()=>{this.setState({isAddToPlaylistModalOpen:!0})},this.onAddToPlaylistClose=()=>{this.setState({isAddToPlaylistModalOpen:!1}),this.props.onMenuClose()},this.state={isAddToPlaylistModalOpen:!1}}createOnPress(e){return()=>{e(),this.props.onMenuClose()}}render(){const e=this.props,{isAddToPlaylistModalOpen:t}=this.state;return n.createElement("div",null,e.showPlayAll?n.createElement(Oi.Z,{onPress:this.createOnPress(e.onPlayAllPress)},(0,M.Z)("Play All")):null,e.showShuffle?n.createElement(Oi.Z,{onPress:this.createOnPress(e.onShufflePress)},(0,M.Z)("Shuffle")):null,e.showQueue?n.createElement(Oi.Z,{onPress:this.createOnPress(e.onPlayNextPress)},(0,M.Z)("Play Next")):null,e.showQueue?n.createElement(Oi.Z,{onPress:this.createOnPress(e.onAddToQueuePress)},(0,M.Z)("Add to Queue")):null,e.showAddToPlaylist?n.createElement(Oi.Z,{onPress:this.createOnPress(this.onAddToPlaylistPress)},(0,M.Z)("Add to Playlist...")):null,e.showOptimize?n.createElement(Oi.Z,{onPress:this.createOnPress(e.onOptimizePress)},(0,M.Z)("Optimize...")):null,e.showAddToPlaylist?n.createElement(Ci.Z,{isOpen:t,metadataListEntityID:e.metadataListEntityID,providerEntityID:e.providerEntityID,serverEntityID:e.serverEntityID,onModalClose:this.onAddToPlaylistClose}):null)}}const Di=Si;var xi=Object.defineProperty,Ai=Object.getOwnPropertySymbols,Ti=Object.prototype.hasOwnProperty,Li=Object.prototype.propertyIsEnumerable,Mi=(e,t,r)=>t in e?xi(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;const ki=function(e){const t=e,{target:r,isOpen:i}=t,o=((e,t)=>{var r={};for(var n in e)Ti.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&Ai)for(var n of Ai(e))t.indexOf(n)<0&&Li.call(e,n)&&(r[n]=e[n]);return r})(t,["target","isOpen"]);return n.createElement(Le.Z,{isOpen:e.isOpen,target:e.target,onMenuClose:e.onMenuClose},n.createElement(Di,((e,t)=>{for(var r in t||(t={}))Ti.call(t,r)&&Mi(e,r,t[r]);if(Ai)for(var r of Ai(t))Li.call(t,r)&&Mi(e,r,t[r]);return e})({},o)))};var Ri=r(52542),ji=r(13014),Hi=r(66952),Ki=r(70007),qi=r(97499),zi=r(12856),Ni=Object.defineProperty,Ui=Object.defineProperties,Fi=Object.getOwnPropertyDescriptors,Vi=Object.getOwnPropertySymbols,Gi=Object.prototype.hasOwnProperty,Bi=Object.prototype.propertyIsEnumerable,_i=(e,t,r)=>t in e?Ni(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;class Wi extends n.Component{constructor(e,t){super(e,t),this.onPlayShortcut=()=>{this.props.showPlayAll&&this.props.onPlayAllPress()},this.onAddToPlaylistPress=()=>{this.setState({isAddToPlaylistModalOpen:!0,isSmartPlaylist:!1})},this.onAddToSmartPlaylistPress=()=>{this.setState({isAddToPlaylistModalOpen:!0,isSmartPlaylist:!0})},this.onAddToPlaylistClose=()=>{this.setState({isAddToPlaylistModalOpen:!1})},this.onActionsPress=e=>{this.setState({isActionsMenuOpen:!this.state.isActionsMenuOpen})},this.onActionsMenuClose=()=>{this.setState({isActionsMenuOpen:!1})},this.state={isActionsMenuOpen:!1,isAddToPlaylistModalOpen:!1,isSmartPlaylist:!1},this._moreButtonID=(0,Zi.Z)()}componentDidMount(){Ii.Z.on("shortcut:playSelected",this.onPlayShortcut)}componentWillUnmount(){Ii.Z.off("shortcut:playSelected",this.onPlayShortcut)}render(){const{className:e,serverEntityID:t,providerEntityID:r,metadataListEntityID:i,customFilterRoute:o,showPlayAll:a,showPlayAllOverflow:l,showShuffle:s,showShuffleOverflow:c,showAddToPlaylist:u,showAddToPlaylistOverflow:d,showAddToSmartPlaylist:p,showOverflow:m,onPlayAllPress:h,onShufflePress:y}=this.props,{isActionsMenuOpen:f,isAddToPlaylistModalOpen:v,isSmartPlaylist:g}=this.state;return n.createElement("div",{className:e},a?n.createElement(qi.Z,{playLabel:(0,M.Z)("Play All"),onPress:h}):null,s?n.createElement(zi.Z,{onPress:y}):null,u?n.createElement(Hi.Z,{customFilterRoute:o,metadataListEntityID:i,providerEntityID:r,serverEntityID:t,showAddToSmartPlaylist:p,onAddToPlaylistPress:this.onAddToPlaylistPress,onAddToSmartPlaylistPress:this.onAddToSmartPlaylistPress}):null,m?n.createElement(Ki.Z,{iconComponent:ji.Z,id:this._moreButtonID,isMenuOpen:f,label:(0,M.Z)("More..."),onPress:this.onActionsPress}):null,n.createElement(ki,(E=((e,t)=>{for(var r in t||(t={}))Gi.call(t,r)&&_i(e,r,t[r]);if(Vi)for(var r of Vi(t))Bi.call(t,r)&&_i(e,r,t[r]);return e})({},this.props),P={isOpen:f,showAddToPlaylist:d,showPlayAll:l,showShuffle:c,target:this._moreButtonID,onMenuClose:this.onActionsMenuClose},Ui(E,Fi(P)))),u?n.createElement(Ci.Z,{isOpen:v,metadataListEntityID:i,providerEntityID:r,serverEntityID:t,smart:g,onModalClose:this.onAddToPlaylistClose}):null);var E,P}}const Qi=(0,Ri.ZP)(Wi,["showPlayAll","showShuffle","showAddToPlaylist"],["showOptimize","showQueue"]);var $i=Object.defineProperty,Ji=Object.defineProperties,Xi=Object.getOwnPropertyDescriptors,Yi=Object.getOwnPropertySymbols,eo=Object.prototype.hasOwnProperty,to=Object.prototype.propertyIsEnumerable,ro=(e,t,r)=>t in e?$i(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,no=(e,t)=>{for(var r in t||(t={}))eo.call(t,r)&&ro(e,r,t[r]);if(Yi)for(var r of Yi(t))to.call(t,r)&&ro(e,r,t[r]);return e},io=(e,t)=>Ji(e,Xi(t));const oo=(0,fi.Z)((function(){return(0,je.P1)(((e,{listType:t})=>t),Lr.Z,hi.Z,yi.Z,(0,yn.Z)(),((e,t,r,n,i)=>function({server:e,provider:t,stableUser:r,metadataList:n,listType:i}){const o=i||n.firstItemType||"mixed",a=Pi[o];return a?a.reduce(((i,a)=>{const l=Ei[a];return(0,vi.Z)(an().isFunction(l),`getMetadataListActionProps: Invalid action, ${a}, for ${o}`),i[a]=!!(e&&t&&n)&&l({server:e,provider:t,stableUser:r,metadataList:n}),i}),{}):{}}({server:t,provider:r,stableUser:n,metadataList:i,listType:e})))}),(function(e,t){const r={serverEntityID:t.serverEntityID,providerEntityID:t.providerEntityID,metadataListEntityID:t.metadataListEntityID,listType:t.listType,metricsPage:t.metricsPage,metricsProperties:{context:t.metricsContext||u.LIST}};return{onPlayAllPress(){e(mi.wA(r))},onShufflePress(){e(mi.Em(r))},onPlayNextPress(){e(mi.tP(io(no({},r),{options:{playAll:!0,next:!0}})))},onAddToQueuePress(){e(mi.tP(io(no({},r),{options:{playAll:!0,next:!1}})))},onOptimizePress(){e(En.$5(r))}}}),wi.Z)(Qi);var ao=r(37274);const lo=(0,s.$j)((function(){return(0,je.P1)((0,yn.Z)(),(e=>({totalSize:e.totalSize,listType:li.pV,listStyle:ao.MOSAIC,allListStyles:[ao.MOSAIC]})))}))((function(e){const{serverEntityID:t,providerEntityID:r,metadataListEntityID:i,sourceDirectory:o,title:a,totalSize:l,listType:s,listStyle:c,allListStyles:u}=e;return n.createElement(n.Fragment,null,n.createElement(Fr.Z,null,n.createElement(Br.Z,{providerEntityID:r,serverEntityID:t,sourceDirectory:o}),n.createElement(Gr.Z,{directoryKey:qr.tk.TIMELINE,providerEntityID:r,serverEntityID:t,sourceDirectory:o}),n.createElement(Vr.Z,null,n.createElement(pi.Z,{allListStyles:u,selectedListStyle:c}))),n.createElement(Ur.Z,null,n.createElement(di.Z,null,n.createElement(ci.Z,null,a),n.createElement(si.Z,null,l)),n.createElement(ui.Z,null,n.createElement(oo,{listType:s,metadataListEntityID:i,providerEntityID:r,serverEntityID:t}))))}));var so=r(59560);var co=Object.defineProperty,uo=Object.defineProperties,po=Object.getOwnPropertyDescriptors,mo=Object.getOwnPropertySymbols,ho=Object.prototype.hasOwnProperty,yo=Object.prototype.propertyIsEnumerable,fo=(e,t,r)=>t in e?co(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,vo=(e,t)=>{for(var r in t||(t={}))ho.call(t,r)&&fo(e,r,t[r]);if(mo)for(var r of mo(t))yo.call(t,r)&&fo(e,r,t[r]);return e};class go extends n.Component{constructor(e,t){super(e,t),this.onMeasure=({width:e,height:t})=>{this.setState({isMeasured:!0,width:e,height:t})},this.onMomentScrollIndexChange=e=>{this.setState({currentMomentTitle:this.props.moments[e].title})},this.state={isMeasured:!1,currentMomentTitle:"",width:0,height:0}}componentWillUnmount(){this.props.onCloseTimelinePage()}render(){const{serverEntityID:e,providerEntityID:t,providerMetricsIdentifier:r,metadataListEntityID:o,sourceDirectory:a,pivot:l,isMomentListPending:s,isMomentListPopulated:c,moments:u,activeSelectionType:d,columnAdjustment:p}=this.props,{isMeasured:m,width:h,height:y,currentMomentTitle:f}=this.state,v=200-100*p,g=12+p,E=Math.min(Math.ceil(h/v),g);if(c)return n.createElement(Nr.Z,{metricsPage:i.WJ,metricsProperties:{identifier:r,mode:"timeline",type:"photo",style:ao.MOSAIC},scrollDirection:Kr.Hn},d?n.createElement(so.Z,{providerEntityID:t,serverEntityID:e}):n.createElement(lo,{metadataListEntityID:o,providerEntityID:t,serverEntityID:e,sourceDirectory:a,title:f}),n.createElement(Hr.Z,{className:"TimelinePage-measured-KwtybV",ignorePosition:!0,onMeasure:this.onMeasure},m?n.createElement(ai,{columns:E,height:y,metadataListEntityID:o,moments:u,providerEntityID:t,serverEntityID:e,onMomentScrollIndexChange:this.onMomentScrollIndexChange}):null));const P={serverEntityID:e,providerEntityID:t,sourceDirectory:a,pivot:l,directoryKey:qr.tk.TIMELINE,scrollDirection:Kr.Hn};if(s)return n.createElement(tn,(b=vo({},P),uo(b,po({showSecondHeader:!0}))),n.createElement(rn.Z,null,n.createElement(zr.Z,null)));var b;const w={title:(0,M.Z)("There was an error loading the timeline for this library")};return n.createElement(tn,vo({},P),n.createElement(nn.Z,vo({},w)))}}const Eo=go,Po=(0,je.P1)((e=>e.ui.timelinePage.momentList),(e=>{if(!e)return[];let t=0;return e.moments.map((e=>{const r=t;t+=e.size;const{id:n,title:i,size:o,avgAR:a,startsAt:l}=e,s=e.size*(e.avgAR||1);return{start:r,end:t,area:s,id:n,title:i,size:o,avgAR:a,startsAt:l}}))})),bo=(0,kr.Z)(Eo,(function(e){const t=e.ui.timelinePage;return{serverEntityID:t.serverEntityID,providerEntityID:t.providerEntityID,momentKey:t.momentKey}}),(function(e,t){e(Rr.h8({serverEntityID:t.serverEntityID,providerEntityID:t.providerEntityID,libraryKey:t.libraryKey,momentKey:t.momentKey})),e(Rr.Ql())})),wo=(0,s.$j)((function(){return(0,je.P1)(((e,{libraryKey:t})=>t),(e=>e.ui.timelinePage),Po,Lr.Z,(0,Tr.Z)(),(0,xr.Z)(),(0,je.P1)(((e,{directoryKey:t})=>t),(0,xr.Z)(),((e,t)=>(0,Ar.Z)(t,e))),jr.Z,Mr.Z,((e,t,r,n,i,o,a,l,s)=>{const{containerKey:c,isMomentListPending:u,isMomentListPopulated:d}=t;return{metadataListEntityID:t.metadataList,providerMetricsIdentifier:i.metricsIdentifier,sourceDirectory:o,pivot:a,moments:r,isMomentListPending:u,isMomentListPopulated:d,containerKey:c,momentKey:m.Z.join(e,"cluster?clusterZoomLevel=1"),activeSelectionType:l.activeSelectionType,disableReloadThreshold:!!l.activeSelectionType,columnAdjustment:s.columnAdjustment,serverVersion:n.version}}))}),(function(e){return{onCloseTimelinePage(){e(Rr.qd({}))}}}))(bo);function Io({pivotType:e,directorySourceURI:t,directoryKey:r,selectedPivot:a}){const[d,p,g]=(0,v.c9)(),E=(0,s.v9)(c.Z);if(function(e,t){return e===h.sy&&t}(null==a?void 0:a.requires,E))return n.createElement(Z.Z,null);switch(e){case o.F6.Hub:return n.createElement(l.ZP,{name:null==a?void 0:a.context},n.createElement(w.Z,{sourceURI:t}));case o.F6.List:return n.createElement(l.ZP,{name:null==a?void 0:a.context},n.createElement(I.Z,{directoryKey:r,directorySourceURI:t,selectedPivot:a}));case o.F6.View:switch(null==a?void 0:a.key){case o.GG.SharedItems:return n.createElement(l.ZP,{name:null==a?void 0:a.context},n.createElement(I.Z,{directoryKey:r,directorySourceURI:t,listStyle:y.n.SharedItems,selectedPivot:a}));case o.GG.Timeline:{const e=(0,f.Z)(p,o.zW.Content);return n.createElement(wo,{directoryKey:o.GG.Timeline,libraryKey:m.Z.join([null==e?void 0:e.key,null==g?void 0:g.id,"cluster"],{clusterZoomLevel:1}),providerEntityID:p.entityID,serverEntityID:d.entityID,sourceDirectoryID:null==g?void 0:g.id})}case o.GG.DiscoverProfile:return n.createElement(l.ZP,{metricsContextParam:u.SELF,metricsPage:i.ih},n.createElement(Sr.Z,{showHeader:!1}));case o.GG.DiscoverFriends:return n.createElement(l.ZP,{metricsContextParam:u.FRIEND,metricsPage:i.ih},n.createElement(Cr.Z,{showHeader:!1}));case o.GG.DiscoverActivity:return n.createElement(l.ZP,{metricsContextParam:u.DISCOVER,metricsPage:i.dY},n.createElement(b.Z,null));case o.GG.DiscoverPeople:return n.createElement(l.ZP,{metricsContextParam:u.DISCOVER,metricsPage:i.mR},n.createElement(Or,null))}}return n.createElement(Dr.Z,null)}const Zo=[o.GG.Guide,o.GG.RecordingSchedule,o.GG.Timeline];function Oo({className:e,directoryKey:t,pageType:r,machineIdentifier:i,providerIdentifier:a,contentDirectoryID:l,pivotID:c}){const u=(0,s.I0)(),m=(0,S.Z)({machineIdentifier:i,providerIdentifier:a,contentDirectoryID:l,pageType:r,pivotID:c,directoryKey:t}),h=m?m.type:null!=r?r:o.F6.List,y=(0,D.Z)(m),f=function(e,t){return(null==e?void 0:e.key)===o.GG.SharedItems?null!=t?t:(0,D.Z)(e):t}(m,t),b=null!=y?y:t,w=b?(0,d.Z)({serverIdentifier:i,providerIdentifier:a,key:b}):void 0;return(0,n.useEffect)((()=>()=>{(0,p.c9)((()=>{u(C.Z.actions.resetMeta())}))}),[u]),w?n.createElement(v.ZP,{contentDirectoryID:l,machineIdentifier:i,providerIdentifier:a},n.createElement(g.Z,{className:e,scrollDirection:P.I.None},m&&h===o.F6.View&&Zo.includes(m.key)?null:n.createElement(O.Z,{selectedPivot:m,sourceURI:w}),n.createElement(Io,{directoryKey:f,directorySourceURI:w,pivotType:h,selectedPivot:m}))):n.createElement(g.Z,{className:e},n.createElement(E.Z,null))}var Co=r(1346),So=r(20272),Do=r(75989),xo=r(31446);function Ao(){const e=(0,a.Z)(),t=e.key?(0,Do.Z)(e.key):void 0,{machineIdentifier:r,providerIdentifier:s}=(0,Co.Z)(),c=e.pageType?(0,Do.Z)(e.pageType):void 0,u=(0,So.su)(o.F6).find((e=>e===c));return n.createElement(l.ZP,{metricsContextParam:(0,Do.Z)(e.context),metricsPage:i.Hx},n.createElement(xo.Z,{machineIdentifier:r,providerIdentifier:s},t||(0,Do.Z)(e.source)?n.createElement(Oo,{contentDirectoryID:(0,Do.Z)(e.source),directoryKey:t,machineIdentifier:r,pageType:u,pivotID:(0,Do.Z)(e.pivot),providerIdentifier:s}):n.createElement(Dr.Z,null)))}},69590:e=>{var t="undefined"!=typeof Element,r="function"==typeof Map,n="function"==typeof Set,i="function"==typeof ArrayBuffer&&!!ArrayBuffer.isView;function o(e,a){if(e===a)return!0;if(e&&a&&"object"==typeof e&&"object"==typeof a){if(e.constructor!==a.constructor)return!1;var l,s,c,u;if(Array.isArray(e)){if((l=e.length)!=a.length)return!1;for(s=l;0!=s--;)if(!o(e[s],a[s]))return!1;return!0}if(r&&e instanceof Map&&a instanceof Map){if(e.size!==a.size)return!1;for(u=e.entries();!(s=u.next()).done;)if(!a.has(s.value[0]))return!1;for(u=e.entries();!(s=u.next()).done;)if(!o(s.value[1],a.get(s.value[0])))return!1;return!0}if(n&&e instanceof Set&&a instanceof Set){if(e.size!==a.size)return!1;for(u=e.entries();!(s=u.next()).done;)if(!a.has(s.value[0]))return!1;return!0}if(i&&ArrayBuffer.isView(e)&&ArrayBuffer.isView(a)){if((l=e.length)!=a.length)return!1;for(s=l;0!=s--;)if(e[s]!==a[s])return!1;return!0}if(e.constructor===RegExp)return e.source===a.source&&e.flags===a.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===a.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===a.toString();if((l=(c=Object.keys(e)).length)!==Object.keys(a).length)return!1;for(s=l;0!=s--;)if(!Object.prototype.hasOwnProperty.call(a,c[s]))return!1;if(t&&e instanceof Element)return!1;for(s=l;0!=s--;)if(("_owner"!==c[s]&&"__v"!==c[s]&&"__o"!==c[s]||!e.$$typeof)&&!o(e[c[s]],a[c[s]]))return!1;return!0}return e!=e&&a!=a}e.exports=function(e,t){try{return o(e,t)}catch(e){if((e.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw e}}},61935:(e,t,r)=>{"use strict";r.d(t,{D:()=>u});var n=r(67294),i=r(73433),o=r(69590),a=r.n(o),l=function(e){return e.reduce((function(e,t){var r=t[0],n=t[1];return e[r]=n,e}),{})},s="undefined"!=typeof window&&window.document&&window.document.createElement?n.useLayoutEffect:n.useEffect,c=[],u=function(e,t,r){void 0===r&&(r={});var o=n.useRef(null),u={onFirstUpdate:r.onFirstUpdate,placement:r.placement||"bottom",strategy:r.strategy||"absolute",modifiers:r.modifiers||c},d=n.useState({styles:{popper:{position:u.strategy,left:"0",top:"0"}},attributes:{}}),p=d[0],m=d[1],h=n.useMemo((function(){return{name:"updateState",enabled:!0,phase:"write",fn:function(e){var t=e.state,r=Object.keys(t.elements);m({styles:l(r.map((function(e){return[e,t.styles[e]||{}]}))),attributes:l(r.map((function(e){return[e,t.attributes[e]]})))})},requires:["computeStyles"]}}),[]),y=n.useMemo((function(){var e={onFirstUpdate:u.onFirstUpdate,placement:u.placement,strategy:u.strategy,modifiers:[].concat(u.modifiers,[h,{name:"applyStyles",enabled:!1}])};return a()(o.current,e)?o.current||e:(o.current=e,e)}),[u.onFirstUpdate,u.placement,u.strategy,u.modifiers,h]),f=n.useRef();return s((function(){f.current&&f.current.setOptions(y)}),[y]),s((function(){if(null!=e&&null!=t){var n=(r.createPopper||i.fi)(e,t,y);return f.current=n,function(){n.destroy(),f.current=null}}}),[e,t,r.createPopper]),{state:f.current?f.current.state:null,styles:p.styles,attributes:p.attributes,update:f.current?f.current.update:null,forceUpdate:f.current?f.current.forceUpdate:null}}}}]);