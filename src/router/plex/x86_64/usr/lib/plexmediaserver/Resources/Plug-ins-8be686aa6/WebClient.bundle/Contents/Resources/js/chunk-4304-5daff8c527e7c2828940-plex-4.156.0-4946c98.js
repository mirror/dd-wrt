"use strict";(self.webpackChunkplex_web_client=self.webpackChunkplex_web_client||[]).push([[4304],{25251:(e,t,a)=>{a.r(t),a.d(t,{default:()=>fu});var n=a(96540),r=a(84593),i=a(94772),l=a(32649),o=a(71468),s=a(24180),c=a(98713),m=a(10933),d=a(93915),u=a(54552),y=a(74e3),p=a(77130),v=a(93764),f=a(66900),A=a(43581),b=a(40317),g=a(59051),E=a(73325),h=a(37806),I=a(43597),P=a(67687),S=a(20020),w=a(41084),O=a(12166),R=a(67056),C=a(90313),M=a(63078),T=a(58489),D=a(59154),k=a(50228),x=a(52312),L=a(31216),j=a(46772),N=a(53364),F=a(18697),U=a(14386),V=a(42464),B=a(98341),H=a(16726),W=a(92942),z=a(74486);const K=(0,n.createContext)({width:0,height:0,contentHeight:0,scrollTop:0,scrollLeft:0,onRequestScrollPosition(){}});function Q(){return(0,n.useContext)(K)}function q({children:e,width:t,height:a,contentHeight:r,scrollTop:i,scrollLeft:l,onRequestScrollPosition:o}){const s=(0,n.useMemo)(()=>({width:t,height:a,contentHeight:r,scrollTop:i,scrollLeft:l,onRequestScrollPosition:o}),[t,a,r,i,l,o]);return n.createElement(K.Provider,{value:s},e)}var $=a(2697);var G=Object.defineProperty,J=Object.defineProperties,X=Object.getOwnPropertyDescriptors,_=Object.getOwnPropertySymbols,Y=Object.prototype.hasOwnProperty,Z=Object.prototype.propertyIsEnumerable,ee=(e,t,a)=>t in e?G(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a;function te(e){const{attribution:t,attributionLogo:a}=e;return a?n.createElement("img",{className:"PrePlayMetadata-attributionLogo-_fLKOF",src:a}):t?n.createElement(z.A,{attribution:t}):null}function ae(e){const t=e,{metadataItem:a,showAttributionLogo:r,poster:i}=t,l=((e,t)=>{var a={};for(var n in e)Y.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&_)for(var n of _(e))t.indexOf(n)<0&&Z.call(e,n)&&(a[n]=e[n]);return a})(t,["metadataItem","showAttributionLogo","poster"]),o=Q(),s=(0,$.A)()||o.width>=800;return n.createElement("div",{className:"PrePlayMetadata-container-ud0cxN"},n.createElement(U.OS,(c=((e,t)=>{for(var a in t||(t={}))Y.call(t,a)&&ee(e,a,t[a]);if(_)for(var a of _(t))Z.call(t,a)&&ee(e,a,t[a]);return e})({},l),m={attributionLogo:r?te(a):null,poster:s?i:null,summaryLabelLess:(0,j.A)("Less"),summaryLabelMore:(0,j.A)("More")},J(c,X(m)))));var c,m}function ne(e,t){switch(t){case v.QD.Movie:return 1===e?(0,j.A)("1 Movie"):(0,j.A)("{movieCount} Movies",{movieCount:e});case v.QD.Show:return 1===e?(0,j.A)("1 Show"):(0,j.A)("{showCount} Shows",{showCount:e});case v.QD.Season:return(0,j.A)("Seasons");case v.QD.Episode:return 1===e?(0,j.A)("1 Episode"):(0,j.A)("{episodeCount} Episodes",{episodeCount:e});case v.QD.Album:return 1===e?(0,j.A)("1 Album"):(0,j.A)("{albumCount} Albums",{albumCount:e});case v.QD.Track:return 1===e?(0,j.A)("1 Track"):(0,j.A)("{trackCount} Tracks",{trackCount:e});default:return 1===e?(0,j.A)("1 Item"):(0,j.A)("{itemCount} Items",{itemCount:e})}}var re=a(43280),ie=a(60180),le=a(88920);const oe=function(e){const[t,a]=(0,n.useState)(0),r=(0,n.useRef)(null),i=(0,n.useCallback)(e=>{r.current=e,r.current&&a(r.current.offsetTop)},[]);return(0,n.useEffect)(()=>{r.current&&a(r.current.offsetTop)},[e]),[t,i]};var se=a(91561),ce=a(22020),me=a(38837),de=a(84230);const ue=Object.assign({},{defaultFontFamily:'-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif',boldFontFamily:'"PlexCircular","Open Sans", -apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif',smallFontSize:"12px",smallIconFontSize:"12px",defaultFontSize:"13px",defaultIconFontSize:"14px",largeFontSize:"15px",headerFontSize:"24px",lineHeightComputed:"1.71428571"},{hubTitleLineHeight:"24px"});var ye=a(10544),pe=a(49202),ve=a(32996),fe=a(7339),Ae=a(35260);function be(e){const t=(0,o.wA)(),a=(0,o.d4)(Ae.A),r=(0,n.useMemo)(()=>e.every(e=>a.items[fe.R.getIdentity(e)]),[e,a]),i=(0,n.useCallback)(()=>{t(fe.A.actions.selectItems({items:e}))},[t,e]),l=(0,n.useCallback)(()=>{t(fe.A.actions.deselectItems({items:e}))},[t,e]),s=(0,n.useCallback)(()=>{r?l():i()},[r,l,i]);return{isSelectionActive:!!a.count,isSelected:r,onSelect:i,onDeselect:l,onToggleSelect:s}}var ge=a(50304),Ee=a(70687);function he({className:e="PrePlayListTitle-titleContainer-aRl8Fh",selectedClassName:t="PrePlayListTitle-selectedTitleContainer-CyMOyk PrePlayListTitle-titleContainer-aRl8Fh",selectButtonClassName:a="PrePlayListTitle-selectButton-HQwiGj SelectButton-selectButton-_goGWp",isSelected:r=!1,isSelectable:i,onSelectPress:l,title:o}){return n.createElement("div",{className:r?t:e},i?n.createElement(Ee.A,{className:a,isSelected:r,title:o,onPress:l}):null,n.createElement(ge.A,null,o))}var Ie=Object.getOwnPropertySymbols,Pe=Object.prototype.hasOwnProperty,Se=Object.prototype.propertyIsEnumerable;const we={height:parseInt(de.A.tableRowHeight,10)};function Oe(e){var t,a=e,{item:r,title:i}=a,l=((e,t)=>{var a={};for(var n in e)Pe.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&Ie)for(var n of Ie(e))t.indexOf(n)<0&&Se.call(e,n)&&(a[n]=e[n]);return a})(a,["item","title"]);const o=(0,ve.A)(l),s=(0,n.useMemo)(()=>[pe.Ej,pe.sH,pe.p0],[]),{onToggleSelect:c,isSelected:m}=be(null!=(t=null==r?void 0:r.items)?t:[]);if(!r)return null;const d=i||(0,j.A)("Disc {discNumber}",{discNumber:r.index});return n.createElement("div",{ref:o.cellRef,style:o.style},n.createElement(he,{className:"AlbumDisc-titleContainer-V4dLGw PrePlayListTitle-titleContainer-aRl8Fh",isSelectable:!0,isSelected:m,selectButtonClassName:"AlbumDisc-selectButton-XNlWa_ PrePlayListTitle-selectButton-HQwiGj SelectButton-selectButton-_goGWp",selectedClassName:"AlbumDisc-selectedTitleContainer-vragGm PrePlayListTitle-selectedTitleContainer-CyMOyk PrePlayListTitle-titleContainer-aRl8Fh",title:d,onSelectPress:c}),n.createElement("div",{className:"AlbumDisc-trackList-uHEYNk"},r.items.map((e,t)=>{var a;return n.createElement(ye.A,{key:e.key,cellIndex:t,hasTransientActionsCell:!0,index:null!=(a=e.index)?a:t,isVirtual:!1,item:e,style:we,tableColumns:s})})))}var Re=Object.defineProperty,Ce=Object.defineProperties,Me=Object.getOwnPropertyDescriptors,Te=Object.getOwnPropertySymbols,De=Object.prototype.hasOwnProperty,ke=Object.prototype.propertyIsEnumerable,xe=(e,t,a)=>t in e?Re(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a;const Le=parseInt(de.A.v4PagePadding,10),je=parseInt(de.A.v4ListSpacing,10),Ne=parseInt(de.A.v4PrePlayListTitleGap,10),Fe=parseInt(de.A.v4PrePlayDividerHeight,10),Ue=parseInt(ue.hubTitleLineHeight,10),Ve=parseInt(de.A.tableRowHeight,10),Be=Ue+Ne+2*Fe;function He({className:e="AlbumDiscList-container-tHRsGb",metadataItem:t}){var a;const{type:r,subtype:i}=t,[l,s]=(0,b.Ss)(),c=Q(),{descendantListSourceURI:m}=(0,o.d4)(ce.A),{totalSize:d,items:u=[]}=null!=(a=(0,se.A)())?a:{},y=(0,n.useMemo)(()=>{var e;return null!=(e=u.reduce((e,t)=>{const{parentIndex:a=1}=t,n=e[a];return n?n.items.push(t):e[a]={index:a,items:[t]},e},[]).filter(()=>!0))?e:[]},[u]),p=1===y.length?ne(null!=d?d:0,v.QD.Track):void 0,f=(0,n.useMemo)(()=>function(e){const{overscan:t=0,outerPaddingTop:a=0,outerPaddingRight:n=0,outerPaddingBottom:r=0,outerPaddingLeft:i=0,getCellHeights:l}=e;let o,s;function c(e){const t=s.findIndex(t=>t>e),a=s.length-1;return-1===t?a:Math.min(Math.max(0,t-1),a)}return{getListMeasurements(e,t){const{viewportWidth:c,viewportHeight:m}=e,d=c-(i+n);o=l(d),s=[];let u=a;return o.forEach(e=>{s.push(u),u+=e}),{width:d,height:o.reduce((e,t)=>e+t,a+r),outerPaddingTop:a,outerPaddingRight:n,outerPaddingBottom:r,outerPaddingLeft:i,listTop:e.listTop,listLeft:e.listLeft,viewportWidth:c,viewportHeight:m}},getPositionForIndex(e,t){const{width:a}=t;return{column:1,row:e,cellX:i,cellY:s[e],cellWidth:a,cellHeight:o[e]}},getRangesForPosition(e,a,n,r){const{viewportHeight:i}=r,l=e+i-1,o=c(e-t*i),s=c(e),m=c(l),d=c(l+t*i);return{visibleStartIndex:(0,le.A)(s,n),visibleEndIndex:(0,le.A)(m,n),renderStartIndex:(0,le.A)(o,n),renderEndIndex:(0,le.A)(d,n)}}}}({overscan:1,getCellHeights:e=>y.map(e=>Be+e.items.length*Ve+je),outerPaddingRight:Le,outerPaddingLeft:Le}),[y]),[A,g]=oe(c.contentHeight),E=(0,n.useCallback)(e=>{return n.createElement(Oe,(t=((e,t)=>{for(var a in t||(t={}))De.call(t,a)&&xe(e,a,t[a]);if(Te)for(var a of Te(t))ke.call(t,a)&&xe(e,a,t[a]);return e})({},e),Ce(t,Me({title:p}))));var t},[p]);return m&&d?n.createElement("div",{ref:g,className:e},n.createElement(k.Ay,{containerKey:t.childrenKey,containerProvider:s,containerServer:l,containerSourceURI:m,containerSubtype:i,containerType:r,listStyle:re.T.Table},n.createElement(me.Ay,{items:u},n.createElement(ie.A,{cellComponentFactory:E,items:y,layout:f,scrollLeft:c.scrollLeft,scrollTop:c.scrollTop-A,totalSize:d,viewportHeight:c.height,viewportWidth:c.width})))):null}var We=a(88182);function ze({children:e}){return n.createElement(We.BJ,{gap:"xl",orientation:["vertical","horizontal"],wrap:!0},e)}function Ke({children:e}){return n.createElement(We.BJ,{gap:"xs"},e)}var Qe=a(46047),qe=a(30203),$e=a(66438);function Ge({metadataItem:e}){const{parentTitle:t}=e,a=(0,$e.A)(e,"parentKey");return a?n.createElement(qe.N,{color:"inherit",font:"inherit",href:a},t):n.createElement(n.Fragment,null,t)}var Je=a(33260),Xe=a(94693),_e=a(62686),Ye=a(19367),Ze=a(8065),et=a(70187),tt=a(40853),at=a(48326),nt=a(50326),rt=a(46335),it=a(94396),lt=a(23406),ot=a(18356),st=a(84518),ct=a(954),mt=a(11129),dt=a(5292),ut=a(11650),yt=a(71178);function pt({className:e,allowLink:t,metadataItem:a}){const{parentTitle:r}=a;return n.createElement("div",{className:e},n.createElement(ut.A,{allowLink:t,metadataItem:a}),r?n.createElement(dt.A,null):null,n.createElement(yt.A,{allowLink:t,metadataItem:a}))}var vt=a(174),ft=a(93738),At=a(51171),bt=a(69249),gt=a(77981),Et=a(85325),ht=a(39579),It=a(78920),Pt=a(10810),St=a(19542),wt=a(14187),Ot=a(18477),Rt=a(61435),Ct=a(88941),Mt=a(19336),Tt=a(40650),Dt=a(45);var kt=Object.defineProperty,xt=Object.defineProperties,Lt=Object.getOwnPropertyDescriptors,jt=Object.getOwnPropertySymbols,Nt=Object.prototype.hasOwnProperty,Ft=Object.prototype.propertyIsEnumerable,Ut=(e,t,a)=>t in e?kt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a,Vt=(e,t)=>{for(var a in t||(t={}))Nt.call(t,a)&&Ut(e,a,t[a]);if(jt)for(var a of jt(t))Ft.call(t,a)&&Ut(e,a,t[a]);return e};const Bt=parseInt(de.A.trackCellPadding,10),Ht=n.forwardRef(({style:e,index:t,isSortable:a,cellIndex:r,cellHeight:i,metadataItem:l,metadataItemState:s},c)=>{const[m,d]=(0,b.Ss)(),u=(0,o.d4)(it.A),y=(0,o.d4)((0,ft.A)(l,m)),p=(0,o.d4)((0,Rt.A)(Mt.C.AudioVideo,"isPaused")),{hoverRef:v,actionsMenuButtonID:f,isHovered:A,isActionsPending:g,isActionsVisible:E,isActionsMenuOpen:h,onActionsMenuClose:I,onActionsMenuCloseComplete:P,onActionsMenuToggle:S}=(0,vt.A)({server:m,provider:d,metadataItem:l,metadataItemState:s}),w=(0,n.useCallback)(e=>{e.preventDefault()},[]),{type:O,subtype:R}=l,C=(0,gt.Ay)(O,R),M=(0,Et.A)({height:i-2*Bt,aspectRatio:C}),T=(0,It.Ay)((D=Vt({},M),k={server:m,provider:d,url:(0,ht.A)(l,{aspectRatio:C})},xt(D,Lt(k))));var D,k;const x=E&&(0,bt.v_)({server:m,provider:d,stableUser:u,metadataItem:l,metadataItemState:s});return n.createElement(Ot.A,{ref:(0,Ct.A)(c,v),isAlternate:!!(r%2),isHovered:A,style:e},n.createElement(ot.A,{"aria-label":(0,At.A)(l),keyAttribute:"parentKey",metadataItem:l}),n.createElement("div",{className:"MetadataTrackDetailsRow-overlay-y7n1HE"},n.createElement("div",{className:"MetadataTrackDetailsRow-container-eP8Y7k"},n.createElement("div",{className:"MetadataTrackDetailsRow-indexPlayContainer-pVuRb6"},y||x?null:t,n.createElement(lt.A,{isVisible:!y&&x,metadataItem:l}),y?n.createElement(Tt.A,{isPaused:p}):null),n.createElement("div",{className:"MetadataTrackDetailsRow-posterContainer-JEFWFf"},n.createElement(wt.A,Vt({src:T},M))),n.createElement("div",{className:"MetadataTrackDetailsRow-titleContainer-kjcaLc"},n.createElement(ct.A,{className:"MetadataTrackDetailsRow-title-Qri1K_",metadataItem:l}),n.createElement(pt,{className:"MetadataTrackDetailsRow-subtitle-qdwCkB MetadataTrackDetailsRow-title-Qri1K_",metadataItem:l})),E?n.createElement("div",{className:"MetadataTrackDetailsRow-actions-gVyfG7"},a?n.createElement(St.A,{className:"MetadataTrackDetailsRow-reorderButton-ixmPF8 Link-link-vSsQW1",tabIndex:-1,title:(0,j.A)("Reorder"),onPress:w},n.createElement(Dt.A,null)):null,n.createElement(Pt.A,{className:"MetadataTrackDetailsRow-actionsMenuButton-c6f58C Link-link-vSsQW1","data-testid":"metadataTrackMoreButton",id:f,isPending:g,onPress:S})):n.createElement(mt.A,{className:"MetadataTrackDetailsRow-duration-JeUj57",metadataItem:l}))),n.createElement(st.A,{actionsOverride:{isPlayVisible:!1},isOpen:h,metadataItem:l,target:f,onMenuClose:I,onMenuCloseComplete:P}))});var Wt=a(66231),zt=a(52562),Kt=Object.getOwnPropertySymbols,Qt=Object.prototype.hasOwnProperty,qt=Object.prototype.propertyIsEnumerable;const $t=n.forwardRef((e,t)=>{var a=e,{index:r,isSortable:i,item:l}=a,o=((e,t)=>{var a={};for(var n in e)Qt.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&Kt)for(var n of Kt(e))t.indexOf(n)<0&&qt.call(e,n)&&(a[n]=e[n]);return a})(a,["index","isSortable","item"]);const s=(0,Wt.A)(null==l?void 0:l.sourceURI),c=(0,ve.A)(o),{cellIndex:m,cellHeight:d}=o;return l?n.createElement(T.A,{metadataItem:l},n.createElement(rt.A,{metadataItem:l,metadataItemState:s},n.createElement(Ht,{ref:(0,Ct.A)(t,c.cellRef),cellHeight:d,cellIndex:m,index:r,isSortable:i,metadataItem:l,metadataItemState:s,style:c.style}))):n.createElement(zt.A,{ref:(0,Ct.A)(t,c.cellRef),index:m,style:c.style})});var Gt=a(78592),Jt=a(6164),Xt=a(63606),_t=a(62865),Yt=Object.defineProperty,Zt=Object.getOwnPropertySymbols,ea=Object.prototype.hasOwnProperty,ta=Object.prototype.propertyIsEnumerable,aa=(e,t,a)=>t in e?Yt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a;const na=parseInt(de.A.trackCellHeight,10),ra=function(e){return(0,_t.A)(((e,t)=>{for(var a in t||(t={}))ea.call(t,a)&&aa(e,a,t[a]);if(Zt)for(var a of Zt(t))ta.call(t,a)&&aa(e,a,t[a]);return e})({rowHeight:na,overscan:2},e))};var ia=a(4659);function la({className:e="PrePlayListDivider-divider-GDRaZg"}){return n.createElement("div",{className:e})}var oa=Object.defineProperty,sa=Object.defineProperties,ca=Object.getOwnPropertyDescriptors,ma=Object.getOwnPropertySymbols,da=Object.prototype.hasOwnProperty,ua=Object.prototype.propertyIsEnumerable,ya=(e,t,a)=>t in e?oa(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a,pa=(e,t)=>{for(var a in t||(t={}))da.call(t,a)&&ya(e,a,t[a]);if(ma)for(var a of ma(t))ua.call(t,a)&&ya(e,a,t[a]);return e};const va=parseInt(de.A.v4PagePadding,10);function fa({hub:e}){const{title:t,sourceURI:a,key:r,type:i,subtype:s,initialSize:c,random:m,style:d=re.T.List,context:u,isStale:y}=e,p=(0,o.wA)(),[v,f]=(0,b.Ss)(),A=Q(),[g,E]=oe(A.contentHeight),[h,I]=(0,n.useState)(c<3?c:3),P=(0,n.useMemo)(()=>i===re.A.Track?ra({outerPaddingRight:va,outerPaddingLeft:va}):(0,Xt.A)({outerPaddingRight:va,outerPaddingLeft:va}),[i]),S=(0,n.useMemo)(()=>(0,Jt.A)(a),[a]),w=(0,o.d4)(S),O=null==w?void 0:w.items.length,R=null==w?void 0:w.totalSize,C=null==R||m?c:R,M=(0,n.useCallback)(e=>{var t;p(Gt.A.actions.fetchRangeRequested((t=pa({},e),sa(t,ca({server:v,provider:f,sourceURI:a})))))},[p,v,f,a]),T=(0,n.useCallback)(()=>{I(C)},[C]),{isPlaceholder:D,placeholderItems:x}=(0,ia.A)({hub:e,size:O,totalSize:R,initialPageSize:3,onPageRequest:M});(0,n.useEffect)(()=>{!h&&O&&I(O<3?O:3)},[O,h]),(0,n.useEffect)(()=>{y&&!m&&p(Gt.A.actions.throttledRepopulateRequested({server:v,provider:f,sourceURI:a}))},[p,y,f,m,v,a]);const L=(0,n.useCallback)(t=>i===re.A.Track?n.createElement(l.Ay,{key:t.key,column:t.column,row:t.row},n.createElement($t,pa({index:t.cellIndex+1},t))):n.createElement(nt.A,pa({isSummaryHidden:e.hubIdentifier===at.P.OtherEditions},t)),[e.hubIdentifier,i]);return(D||C)&&w?n.createElement(l.Ay,{name:u},n.createElement(k.Ay,{containerKey:r,containerProvider:f,containerServer:v,containerSourceURI:w.sourceURI,containerSubtype:s,containerType:i,listStyle:d},n.createElement("div",{className:"PrePlayVerticalHub-hubHeader-TP8gZk VirtualHubScroller-hubHeader-vSW06t"},n.createElement(et.A,{hub:e},t)),n.createElement(la,null),n.createElement("div",{ref:E},n.createElement(ie.A,{cellComponentFactory:L,items:D?x:w.items,keyPropName:"listItemKey",layout:P,scrollLeft:A.scrollLeft,scrollTop:A.scrollTop-g,totalSize:D?x.length:h,viewportHeight:A.height,viewportWidth:A.width,onPageRequest:D?void 0:M})),n.createElement(la,null),!D&&h<C?n.createElement("div",{className:"PrePlayVerticalHub-showAllContainer-yNQlC8"},n.createElement(St.A,{onPress:T},(0,j.A)("Show All"))):null,n.createElement("div",{className:"PrePlayVerticalHub-belowHub-kuKDV6"}))):null}var Aa=a(35467),ba=a(69182);function ga({hub:e}){const t=e.style===re.T.List?fa:Ze.A,{serverIdentifier:a,providerIdentifier:r}=(0,Ye.A)(e.sourceURI);return n.createElement(b.Ay,{machineIdentifier:a,providerIdentifier:r},n.createElement(t,{hub:e,hubTitleComponent:et.A}))}function Ea({metadataItem:e}){const{augmentationKey:t}=e,a=(0,o.wA)(),[r,i]=(0,b.Ss)(),{augmented:{hubs:l,isPending:s,isPopulated:c}}=(0,o.d4)(ce.A);return(0,n.useEffect)(()=>{t&&a(Aa.A.actions.augmentedHubsFetchRequested({server:r,provider:i,augmentationKey:t}))},[a,t,i,r]),t?!c&&s?n.createElement("div",{className:"PrePlayAugmentedHubsList-spinnerContainer-gT9hz_"},n.createElement(ba.A,null)):n.createElement(tt.A,{hubComponent:ga,hubs:l}):null}var ha=a(3339),Ia=a(34041);function Pa({hub:e}){const t=e.style===re.T.List?fa:Ze.A,{serverIdentifier:a,providerIdentifier:r}=(0,Ye.A)(e.sourceURI),i=e.hubIdentifier===at.P.PlexCredits?2:void 0;return n.createElement(b.Ay,{machineIdentifier:a,providerIdentifier:r},n.createElement(t,{hub:e,hubTitleComponent:et.A,titleCount:i}))}const Sa=(0,n.memo)(function({metadataItem:e,onScrollPositionReady:t}){const{key:a}=e,r=(0,o.wA)(),[i,l]=(0,b.Ss)(),{related:{hubs:s,isPopulated:c,error:m}}=(0,o.d4)(ce.A),d=(0,o.d4)(ha.A),{isEmbedded:u}=i,y=(0,n.useMemo)(()=>s.filter(e=>{if(!(null==e?void 0:e.source))return!0;const{providerIdentifier:t}=(0,Ye.A)(e.source);return t===Ia.oB||d.find(({identifier:e})=>e===t)}),[s,d]);return(0,n.useEffect)(()=>{u||c||m||r(Aa.A.actions.relatedHubsFetchRequested({server:i,provider:l,metadataKey:a}))},[r,m,u,c,a,l,i]),(0,n.useEffect)(()=>{(u||c||m)&&t()},[m,u,c,t]),u||m?null:c?n.createElement(tt.A,{hubComponent:Pa,hubs:y}):n.createElement("div",{className:"PrePlayRelatedHubsList-spinnerContainer-W_NQ13"},n.createElement(ba.A,null))});var wa=a(95088),Oa=a(19396),Ra=a(31070),Ca=a(56556),Ma=a(3632),Ta=a(7537);function Da({metadataItem:e,tag:t}){const{metricsContextTuple:a}=(0,l.Mp)(),[r,i]=(0,b.Ss)(),s=(0,o.d4)((0,Ca.A)(r.machineIdentifier,i.identifier,e.librarySectionID)),c=(0,Ra.A)(e.type),m=(0,n.useMemo)(()=>t.role?(0,Ma.Ay)({tag:t,contentDirectory:s,server:r,provider:i,metadataItem:e}):Ia.cK(i.identifier,Ia.OB)?(0,Oa.A)(r,i,s,{key:t.key,pageType:v.QD.Hub,context:(0,l.qq)(a)}):(0,Ta.A)({tag:t,contentDirectory:s,server:r,provider:i,metadataNumericType:c}),[t,r,s,i,c,e,a]);return m?n.createElement(qe.N,{color:"inherit",font:"inherit",href:m},t.tag):n.createElement(wa.E,{color:"inherit",font:"inherit"},t.tag)}function ka(e,t,a=3){const{[t]:r=[]}=e;return r.length?n.createElement(U.wl,{limit:a,showAllButtonFont:"inherit",showAllLabel:(0,j.A)("and more"),tags:r.map(t=>n.createElement(Da,{key:t.tag,metadataItem:e,tag:t}))}):null}var xa=a(5977),La=a(60710),ja=a(92658),Na=a(62321),Fa=a(89512),Ua=a(89302),Va=a(76557),Ba=a(45045),Ha=a(3184);function Wa({type:e,stream:t}){return n.createElement("span",null,t?t.displayTitle:n.createElement(n.Fragment,null,e===v.PT.Subtitles?(0,j.A)("Off"):(0,j.A)("None")))}var za=a(14890);function Ka({metadataItem:e,part:t,onSelect:a}){const r=(0,Na.A)(),i=(0,Ha.A)(),l=(0,Wt.A)(e.sourceURI),[o,s]=(0,n.useState)((0,Ba.A)(l.Stream,t,v.PT.Audio)),c=(0,Va.A)(t,v.PT.Audio),m=(0,n.useCallback)(e=>{const t=c.find(t=>t.id===e);s(t),a(v.Tj.Audio,e)},[c,a]);return(0,n.useEffect)(()=>{l.isPending||s((0,Ba.A)(l.Stream,t,v.PT.Audio))},[l.Stream,l.isPending,t]),n.createElement(n.Fragment,null,c.length>1?n.createElement(xa.A,{direction:i.isOpen?Fa.UP:Fa.PX,id:r,isSelected:!0,onPress:i.onToggle},n.createElement(Wa,{stream:o,type:v.PT.Audio})):n.createElement(Wa,{stream:o,type:v.PT.Audio}),n.createElement(La.A,{isOpen:i.isOpen,size:Ua.I$,target:r,onMenuClose:i.onClose},c.map(e=>n.createElement(za.A,{key:e.id,isSelected:e===o,menuLabelClassName:"AudioStreamsMenu-menuLabelClassName-fLobh8 SelectedMenuItem-menuLabel-nQZtur",value:e.id,onSelect:(0,ja.A)(m,i.onClose)},n.createElement(Wa,{stream:e,type:v.PT.Audio}),e.title?n.createElement("span",{className:"AudioStreamsMenu-extendedTitle-IoIJir"},e.title):null))))}var Qa=a(20976),qa=a(22701),$a=a(31585),Ga=a(94507),Ja=a(69380),Xa=a(72630),_a=a(35123),Ya=a(6678),Za=a(28008),en=a(55513),tn=a(56688),an=a(42508);function nn({metadataItem:e,part:t,onSelect:a,onDelete:i}){var l;const[o,s]=(0,b.Ss)(),c=(0,Wt.A)(e.sourceURI),m=(0,Ha.A)(),d=(0,Ha.A)(),u=!!(0,_a.A)(s),y=!(!(null==(l=o.ownerFeatures)?void 0:l.some(e=>[qa.AS,qa.iy].includes(e)))||o.isShared||!(0,_a.A)(s)),p=(0,Na.A)(),f=(0,Ha.A)(),A=(0,Ha.A)(),[g,E]=(0,n.useState)(),[h,I]=(0,n.useState)((0,Ba.A)(c.Stream,t,v.PT.Subtitles)),P=(0,Va.A)(t,v.PT.Subtitles),S=(0,n.useCallback)(e=>{const t=P.find(t=>t.id===e);I(t),a(v.Tj.Subtitles,e)},[a,P]),w=(0,n.useCallback)(()=>{g&&i(g)},[i,g]);return(0,n.useEffect)(()=>{c.isPending||I((0,Ba.A)(c.Stream,t,v.PT.Subtitles))},[c.Stream,c.isPending,t]),(0,n.useEffect)(()=>{!c.isStreamDeletePending&&A.isOpen&&A.onClose()},[c.isStreamDeletePending]),e.rentalPrice&&!(0,Xa.A)(e,c)||e.purchasePrice&&!c.purchased?P.length?n.createElement(n.Fragment,null,P.filter(e=>!!e.displayTitle).map(e=>e.displayTitle).join(", ")):n.createElement(n.Fragment,null,(0,j.A)("None")):n.createElement(n.Fragment,null,P.length||u||y?n.createElement(xa.A,{direction:f.isOpen?Fa.UP:Fa.PX,id:p,isSelected:!0,onPress:f.onToggle},P.length?n.createElement(Wa,{stream:h,type:v.PT.Subtitles}):(0,j.A)("None")):(0,j.A)("None"),n.createElement(La.A,{isAutoCloseDisabled:A.isOpen,isOpen:f.isOpen,size:Ua.I$,target:p,onMenuClose:f.onClose},P.length?n.createElement(za.A,{key:Qa.x,isSelected:!h,value:Qa.x,onSelect:(0,ja.A)(S,f.onClose)},n.createElement(Wa,{type:v.PT.Subtitles})):null,P.map(e=>{const t=!!e.key&&o.isFullOwnedServer;return n.createElement("div",{key:e.id,className:t?"SubtitlesStreamsMenu-externalMenuItemContainer-BgIZ1t":void 0},n.createElement(za.A,{className:t?"SubtitlesStreamsMenu-externalMenuItem-qXHqYr SelectedMenuItem-menuItemContainer-PNDPtO":void 0,isSelected:e===h,menuLabelClassName:"SubtitlesStreamsMenu-menuLabelClassName-v0ylMa SelectedMenuItem-menuLabel-nQZtur",value:e.id,onSelect:(0,ja.A)(S,f.onClose)},n.createElement(Wa,{stream:e,type:v.PT.Subtitles}),e.title?n.createElement("span",{className:"SubtitlesStreamsMenu-extendedTitle-PiynUL"},e.title):null),t?n.createElement(n.Fragment,null,n.createElement(Ya.A,{ariaLabel:(0,j.A)("Delete Subtitle"),className:"SubtitlesStreamsMenu-externalDeleteButton-YytHSz IconButton-iconButton-ebkqws Link-link-vSsQW1",iconComponent:an.A,onPress:(0,ja.A)(A.onOpen,()=>E(e.key))}),n.createElement(Za.A,{confirmLabel:(0,j.A)("Delete"),isConfirmButtonSpinning:c.isStreamDeletePending,isOpen:A.isOpen,kind:Ga.Ol,message:(0,j.A)("Are you sure you want to delete this subtitle file?"),metricsPage:r.jb,title:(0,j.A)("Delete Subtitle File"),onCancel:A.onClose,onConfirm:w})):null)}),u?n.createElement($a.A,{onPress:(0,ja.A)(m.onOpen,f.onClose)},(0,j.A)("Search...")):null,y?n.createElement($a.A,{onPress:(0,ja.A)(d.onOpen,f.onClose)},(0,j.A)("Upload...")):null),n.createElement(Ja.A,{metadataItem:e,metadataItemState:c},({metadataItemEntityID:e,onMarkStale:t})=>n.createElement(n.Fragment,null,n.createElement(en.A,{isOpen:m.isOpen,metadataItemEntityID:e,onModalClose:(0,ja.A)(m.onClose,t)}),n.createElement(tn.A,{isOpen:d.isOpen,metadataItemEntityID:e,onModalClose:(0,ja.A)(d.onClose,t)}))))}var rn=a(86587),ln=a(92919),on=a(74927),sn=a(8178);function cn(e){const t=(0,o.wA)(),[a,r]=(0,b.Ss)(),{items:i}=(0,T.B)(),l=(0,o.d4)((0,on.A)(Ia.IU,Ia.uc(r.identifier))),s=Ia.cK(r.identifier,Ia.OB),c=(0,n.useMemo)(()=>!(!s||!e.playableKey||1!==i.length),[s,i.length,e.playableKey]),m=c&&i?i[0]:e,d=(0,Wt.A)(m.sourceURI),u=d.Stream,y=function(e){const t=e.Media;if(null==t?void 0:t.length)return 1===t.length?t[0]:Array.from(t).sort((e,t)=>{var a,n,r,i;return(null!=(a=t.width)?a:0)-(null!=(n=e.width)?n:0)||(null!=(r=t.bitrate)?r:0)-(null!=(i=e.bitrate)?i:0)})[0]}(m),p=(null==y?void 0:y.Part)&&y.Part[0],f=p?(0,Ba.A)(u,p,v.PT.Video):void 0,A=!s||c;(0,n.useEffect)(()=>{if(p&&!u&&a.isCloud&&A){const e=c?l:r;if(!e)return;t(ln.A.actions.fetchRequested({server:a,provider:e,metadataItem:m}))}},[t,A,p,r,u,a,c,m,l]);const g=(0,n.useCallback)((e,n)=>{(0,sn.A)(null!=p,"A part is required to select a stream");const i=c&&l;t(ln.A.actions.streamSelectRequested({server:a,provider:i?l:r,sourceURI:m.sourceURI,part:p,streamIDParam:e,streamID:n,allParts:!0}))},[p,l,t,a,c,r,m.sourceURI]),E=(0,n.useCallback)(e=>{t(ln.A.actions.streamDeleteRequested({server:a,provider:r,sourceURI:m.sourceURI,streamKey:e}))},[t,m.sourceURI,r,a]),h=m.Media&&m.Media.length>1&&(0,_a.A)(r)?m.Media.map(e=>{const{info:t,title:a}=(0,rn.A)(e),n=!!(null==t?void 0:t.length);return a?n?`${a} (${t})`:a:n?t:(0,j.A)("Unknown")}):[];return p?A&&d.isPending&&!d.isPopulated?n.createElement(Ke,null,n.createElement(U.nT,{label:(0,j.A)("Video")},n.createElement(wa.E,{color:"muted",font:"body-2"},(0,j.A)("Loading..."))),n.createElement(U.nT,{label:(0,j.A)("Audio")},n.createElement(wa.E,{color:"muted",font:"body-2"},(0,j.A)("Loading..."))),n.createElement(U.nT,{label:(0,j.A)("Subtitles")},n.createElement(wa.E,{color:"muted",font:"body-2"},(0,j.A)("Loading...")))):n.createElement(Ke,null,h.length?n.createElement(U.nT,{label:(0,j.A)("Versions")},n.createElement(U.wl,{limit:1,showAllLabel:(0,j.A)("and more"),tags:h})):null,n.createElement(U.nT,{label:(0,j.A)("Video")},n.createElement(Wa,{stream:f,type:v.PT.Video})),n.createElement(U.nT,{label:(0,j.A)("Audio")},n.createElement(Ka,{metadataItem:m,part:p,onSelect:g})),n.createElement(U.nT,{label:(0,j.A)("Subtitles")},n.createElement(nn,{metadataItem:m,part:p,onDelete:E,onSelect:g}))):null}function mn({metadataItem:e,onScrollPositionReady:t}){const{audienceRating:a,contentRating:r,duration:i,rating:l,summary:o,studio:s,year:c}=e,m=(0,W.A)(e),d=ka(e,"Genre"),u=ka(e,"Style"),y=cn(e),p=!(!u&&!s);return n.createElement(n.Fragment,null,n.createElement(ae,{buttonBar:n.createElement(Qe.A,{isChromaMetadata:!0,metadataItem:e,promotedActions:["isPlayVisible","isShuffleVisible","isAddToPlaylistVisible","isSyncDownloadVisible","isEditVisible"]}),facts:[c,i?(0,V.A)(i):void 0,r?(0,B.A)(r):void 0],genres:d,metadataItem:e,poster:n.createElement(Xe.A,{isChromaMetadata:!0,metadataItem:e}),ratings:[l||a?n.createElement(H.A,{metadataItem:e}):null],showAttributionLogo:!0,starRating:m?n.createElement(Je.p,{metadataItem:e}):void 0,subtitle:(0,_e.A)(e),summary:o,title:n.createElement(Ge,{metadataItem:e})},p||y?n.createElement(ze,null,p?n.createElement(Ke,null,s?n.createElement(U.nT,{label:(0,j.A)("Record Label")},s):null,u?n.createElement(U.nT,{label:(0,j.A)("Style")},u):null):null,y):null),n.createElement(He,{metadataItem:e}),n.createElement(Ea,{metadataItem:e}),n.createElement(Sa,{metadataItem:e,onScrollPositionReady:t}))}var dn=a(88055),un=a.n(dn),yn=a(1081),pn=a(35907),vn=a(27020);var fn=a(78546),An=a(92464),bn=a(77985);function gn({metadataList:e,metadataItem:t}){var a,r;const i=(0,o.wA)(),[l,s]=(0,b.Ss)(),{type:c,subtype:m,skipChildren:d}=t,u=d?(0,An.C)(c,m):(0,An.o)(c,m),[y,p]=(0,n.useState)(!1),v=null!=(a=e.totalSize)?a:0,f=e.items.length,{onSelect:A,onToggleSelect:g,isSelected:E}=be(e.items);(0,n.useEffect)(()=>{y&&(f<v?i(Gt.A.actions.fetchAllRequested({server:l,provider:s,sourceURI:e.sourceURI,includePaginationHeaders:(0,fn.A)(s)})):A())},[i,y,f,e.sourceURI,A,s,l,v]),(0,n.useEffect)(()=>{E&&p(!1)},[E]);const h=(0,n.useCallback)(()=>{f<v?p(!y):g()},[y,f,g,v]),I=ne(null!=(r=e.totalSize)?r:0,null!=u?u:c);return n.createElement(he,{isSelectable:(0,bn.A)(s),isSelected:E||y,title:I,onSelectPress:h})}var En=Object.defineProperty,hn=Object.defineProperties,In=Object.getOwnPropertyDescriptors,Pn=Object.getOwnPropertySymbols,Sn=Object.prototype.hasOwnProperty,wn=Object.prototype.propertyIsEnumerable,On=(e,t,a)=>t in e?En(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a;const Rn=parseInt(de.A.v4PagePadding,10);function Cn({items:e,totalSize:t,viewportWidth:a,viewportHeight:r,scrollTop:i,scrollLeft:l,onPageRequest:o}){const s=(0,n.useMemo)(()=>(0,Xt.A)({outerPaddingRight:Rn,outerPaddingLeft:Rn}),[]),c=(0,n.useCallback)(e=>{return n.createElement(nt.A,(t=((e,t)=>{for(var a in t||(t={}))Sn.call(t,a)&&On(e,a,t[a]);if(Pn)for(var a of Pn(t))wn.call(t,a)&&On(e,a,t[a]);return e})({},e),hn(t,In({isParentDetailHidden:!0}))));var t},[]);return n.createElement(n.Fragment,null,n.createElement(la,null),n.createElement(ie.A,{cellComponentFactory:c,items:e,keyPropName:"listItemKey",layout:s,scrollLeft:l,scrollTop:i,totalSize:t,viewportHeight:r,viewportWidth:a,onPageRequest:o}),n.createElement(la,null))}var Mn=a(80010);function Tn({metadataList:e,metadataItem:t}){const{type:a,subtype:r,skipChildren:i}=t,l=i?(0,An.C)(a,r):(0,An.o)(a,r),o=ne((0,n.useMemo)(()=>e.items.filter(e=>!!(0,Mn.A)(e.Media)).length,[e.items]),null!=l?l:a);return n.createElement(he,{title:o})}var Dn=a(32042),kn=a(34066),xn=a(95342),Ln=Object.defineProperty,jn=Object.getOwnPropertySymbols,Nn=Object.prototype.hasOwnProperty,Fn=Object.prototype.propertyIsEnumerable,Un=(e,t,a)=>t in e?Ln(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a;function Vn({type:e,subtype:t,items:a,totalSize:r,viewportWidth:i,viewportHeight:l,scrollTop:s,scrollLeft:c,onPageRequest:m}){const d=(0,o.d4)(xn.A),{containerMeta:u}=(0,k.Xw)(),y=(0,n.useMemo)(()=>(0,kn.A)({listType:e,subtype:t,columnWidth:d,listStyle:re.T.PrePlayGrid,displayFields:null==u?void 0:u.DisplayFields,displayImages:null==u?void 0:u.DisplayImage}),[d,null==u?void 0:u.DisplayFields,null==u?void 0:u.DisplayImage,t,e]),p=(0,n.useCallback)(e=>n.createElement(Dn.A,((e,t)=>{for(var a in t||(t={}))Nn.call(t,a)&&Un(e,a,t[a]);if(jn)for(var a of jn(t))Fn.call(t,a)&&Un(e,a,t[a]);return e})({},e)),[]);return n.createElement(ie.A,{cellComponentFactory:p,items:a,keyPropName:"listItemKey",layout:y,scrollLeft:c,scrollTop:s,totalSize:r,viewportHeight:l,viewportWidth:i,onPageRequest:m})}var Bn=a(32485),Hn=a.n(Bn),Wn=a(27780),zn=a(26927);let Kn;var Qn=a(76887),qn=a(93189);var $n=a(18360),Gn=a(60939);const Jn="MetadataSimpleDetailsRow-unwatchedCircle-S_NEKn",Xn=n.forwardRef(({style:e,cellIndex:t,metadataItem:a,metadataItemState:r},i)=>{const[l,s]=(0,b.Ss)(),c=(0,o.d4)(it.A),m=(0,o.d4)((0,ft.A)(a,l)),d=(0,o.d4)((0,Rt.A)(Mt.C.AudioVideo,"isPaused")),{hoverRef:u,actionsMenuButtonID:y,isHovered:p,isActionsPending:f,isActionsVisible:A,isActionsMenuOpen:g,onActionsMenuClose:E,onActionsMenuCloseComplete:h,onActionsMenuToggle:I}=(0,vt.A)({server:l,provider:s,metadataItem:a,metadataItemState:r}),{isSelected:P,isInSelectionRange:S,isSelectionActive:w,onToggleSelect:O}=(0,Gn.A)({isHovered:p,metadataItem:a,metadataItemState:r}),R=(0,n.useMemo)(()=>S?"MetadataSimpleDetailsRow-rangeListRow-wZqarV ListRow-row-oh5MTV":P?"MetadataSimpleDetailsRow-selectedListRow-b7NijL ListRow-row-oh5MTV":void 0,[S,P]),C=!w&&A,M=(0,n.useCallback)(()=>{O()},[O]),T=C&&(0,bt.v_)({server:l,provider:s,stableUser:c,metadataItem:a,metadataItemState:r});return n.createElement(Ot.A,{ref:(0,Ct.A)(i,u),alternateClassName:R,className:R,isAlternate:!!(t%2),isHovered:p,style:e},(0,bn.A)(s)?n.createElement($n.A,{isInSelectionRange:S,isSelected:P,isVisible:P||S||p,title:(0,At.A)(a),onPress:M}):null,w?n.createElement(St.A,{className:"MetadataSimpleDetailsRow-selectOverlay-oQLfat Link-link-vSsQW1",onPress:M}):n.createElement(ot.A,{"aria-label":(0,At.A)(a),keyAttribute:"key",metadataItem:a}),n.createElement("div",{className:"MetadataSimpleDetailsRow-overlay-i6axK7"},n.createElement("div",{className:"MetadataSimpleDetailsRow-simpleSummaryContainer-HfmzEQ"},n.createElement("div",{className:"MetadataSimpleDetailsRow-indexPlayContainer-Vgsmos"},m||T?null:n.createElement(Qn.A,{className:"MetadataSimpleDetailsRow-titleEpisodeIndex-zzDjti",metadataItem:a}),n.createElement(lt.A,{isVisible:!m&&T,metadataItem:a}),m?n.createElement(Tt.A,{isPaused:d}):null,function(e,t,a){return!function(e){return Ia.cK((0,qn.A)(e.identifier,e.providerIdentifier),Ia.IU)}(a)&&!(0,N.A)(e)&&(e.type===v.QD.Movie||e.type===v.QD.Episode)&&t.isPopulated&&!1!==t.saved}(a,r,s)?n.createElement(n.Fragment,null,r.viewOffset||r.viewCount?null:n.createElement("div",{className:Jn}),r.viewOffset?n.createElement("div",{className:Hn()(Jn,"MetadataSimpleDetailsRow-isPartiallyWatched-Du016G")}):null):null),n.createElement("div",{className:"MetadataSimpleDetailsRow-titleAndSummaryContainer-jjqqtZ"},n.createElement("div",{className:"MetadataSimpleDetailsRow-titleContainer-m9y2F0"},n.createElement("div",{className:"MetadataSimpleDetailsRow-title-inM8GI"},a.title),C?n.createElement("div",{className:"MetadataSimpleDetailsRow-actions-tPG7hS"},n.createElement(Pt.A,{"data-testid":"metadataRowMoreButton",id:y,isPending:f,onPress:I})):null),n.createElement("div",{className:"MetadataSimpleDetailsRow-summary-yMvPIn"},function(e,t){const{tagline:a,summary:n}=t;return a||((0,Wn.A)(e.identifier)===zn.g3?function(e){if(!e)return"";Kn||(Kn=document.createElement("P")),Kn.innerHTML=e;const t=Kn.textContent;return Kn.innerHTML="",t}(n):n)}(s,a))))),n.createElement(st.A,{actionsOverride:{isPlayVisible:!1},isOpen:g,metadataItem:a,target:y,onMenuClose:E,onMenuCloseComplete:h}))});var _n=Object.getOwnPropertySymbols,Yn=Object.prototype.hasOwnProperty,Zn=Object.prototype.propertyIsEnumerable;function er(e){var t=e,{item:a}=t,r=((e,t)=>{var a={};for(var n in e)Yn.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&_n)for(var n of _n(e))t.indexOf(n)<0&&Zn.call(e,n)&&(a[n]=e[n]);return a})(t,["item"]);const i=(0,Wt.A)(null==a?void 0:a.sourceURI),l=(0,ve.A)(r),{cellIndex:o}=r;return a?n.createElement(rt.A,{metadataItem:a,metadataItemState:i},n.createElement(Xn,{ref:l.cellRef,cellIndex:o,metadataItem:a,metadataItemState:i,style:l.style})):n.createElement(zt.A,{index:o,style:l.style})}var tr=Object.defineProperty,ar=Object.getOwnPropertySymbols,nr=Object.prototype.hasOwnProperty,rr=Object.prototype.propertyIsEnumerable,ir=(e,t,a)=>t in e?tr(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a;const lr=parseInt(de.A.simpleSummaryCellHeight,10),or=parseInt(de.A.v4PagePadding,10),sr=function(e){return(0,_t.A)(((e,t)=>{for(var a in t||(t={}))nr.call(t,a)&&ir(e,a,t[a]);if(ar)for(var a of ar(t))rr.call(t,a)&&ir(e,a,t[a]);return e})({rowHeight:lr,outerPaddingRight:or,outerPaddingLeft:or,overscan:2},e))};var cr=Object.defineProperty,mr=Object.getOwnPropertySymbols,dr=Object.prototype.hasOwnProperty,ur=Object.prototype.propertyIsEnumerable,yr=(e,t,a)=>t in e?cr(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a;function pr({items:e,totalSize:t,type:a,viewportWidth:r,viewportHeight:i,scrollTop:l,scrollLeft:o,onPageRequest:s}){const c=a===re.A.Episode,[m,d]=(0,n.useState)(c&&t>=3?3:t),u=(0,n.useMemo)(()=>sr(),[]),y=(0,n.useCallback)(()=>{d(t)},[t]),p=(0,n.useCallback)(e=>n.createElement(er,((e,t)=>{for(var a in t||(t={}))dr.call(t,a)&&yr(e,a,t[a]);if(mr)for(var a of mr(t))ur.call(t,a)&&yr(e,a,t[a]);return e})({},e)),[]);return n.createElement(n.Fragment,null,n.createElement(la,null),n.createElement(ie.A,{cellComponentFactory:p,items:e,keyPropName:"listItemKey",layout:u,scrollLeft:o,scrollTop:l,totalSize:m,viewportHeight:i,viewportWidth:r,onPageRequest:s}),n.createElement(la,null),n.createElement("div",{className:"PrePlaySimpleDetailsVirtualList-allEpisodesContainer-LsdVgo"},m<t?n.createElement(St.A,{onPress:y},(0,j.A)("Show All Episodes")):null))}var vr=Object.defineProperty,fr=Object.getOwnPropertySymbols,Ar=Object.prototype.hasOwnProperty,br=Object.prototype.propertyIsEnumerable,gr=(e,t,a)=>t in e?vr(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a;const Er=parseInt(de.A.v4PagePadding,10);function hr({items:e,totalSize:t,viewportWidth:a,viewportHeight:r,scrollTop:i,scrollLeft:l,onPageRequest:o}){const s=(0,n.useMemo)(()=>ra({outerPaddingRight:Er,outerPaddingLeft:Er}),[]),c=(0,n.useCallback)(e=>n.createElement($t,((e,t)=>{for(var a in t||(t={}))Ar.call(t,a)&&gr(e,a,t[a]);if(fr)for(var a of fr(t))br.call(t,a)&&gr(e,a,t[a]);return e})({index:e.cellIndex+1},e)),[]);return n.createElement(n.Fragment,null,n.createElement(la,null),n.createElement(ie.A,{cellComponentFactory:c,items:e,keyPropName:"listItemKey",layout:s,scrollLeft:l,scrollTop:i,totalSize:t,viewportHeight:r,viewportWidth:a,onPageRequest:o}),n.createElement(la,null))}var Ir=a(20466),Pr=a(98564),Sr=a(31012);const wr={recordIconContainer:"RecordButton-recordIconContainer-j3gVTg PlayButton-playCircle-mkZ5qi",recordIcon:"RecordButton-recordIcon-Z04HyR"};var Or=Object.defineProperty,Rr=Object.getOwnPropertySymbols,Cr=Object.prototype.hasOwnProperty,Mr=Object.prototype.propertyIsEnumerable,Tr=(e,t,a)=>t in e?Or(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a;function Dr(e){var t=e,{iconContainerClassName:a=wr.recordIconContainer,iconClassName:r=wr.recordIcon}=t,i=((e,t)=>{var a={};for(var n in e)Cr.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&Rr)for(var n of Rr(e))t.indexOf(n)<0&&Mr.call(e,n)&&(a[n]=e[n]);return a})(t,["iconContainerClassName","iconClassName"]);return n.createElement(St.A,((e,t)=>{for(var a in t||(t={}))Cr.call(t,a)&&Tr(e,a,t[a]);if(Rr)for(var a of Rr(t))Mr.call(t,a)&&Tr(e,a,t[a]);return e})({"aria-label":(0,j.A)("Record")},i),n.createElement("span",{className:a},n.createElement("span",{className:r})))}var kr=a(80125),xr=a(97943);const Lr={overlay:"EPGSimpleSummaryRow-overlay-u9kSRm",titleContainer:"EPGSimpleSummaryRow-titleContainer-kQW9pa",primaryTitle:"EPGSimpleSummaryRow-primaryTitle-AX_CUS",secondaryTitle:"EPGSimpleSummaryRow-secondaryTitle-NFTD7k",nextAiringDate:"EPGSimpleSummaryRow-nextAiringDate-yU4LcE",separator:"EPGSimpleSummaryRow-separator-zxEoiC DashSeparator-separator-_3fMys",subscriptionIcon:"EPGSimpleSummaryRow-subscriptionIcon-KSQf2Z"},jr=n.forwardRef(({style:e,cellIndex:t,metadataItem:a,metadataItemState:r},i)=>{const{metricsPage:s,metricsContextTuple:c}=(0,l.Mp)(),[m,d]=(0,b.Ss)(),u=(0,o.d4)(it.A),y=(0,Ha.A)(),[p,v]=(0,kr.A)(),f=a&&(0,bt.m8)({provider:d,server:m,stableUser:u,metadataItem:a,metadataItemState:r}),{summary:A}=a,{subscriptionID:g}=r;return n.createElement(Ot.A,{ref:(0,Ct.A)(i,v),isAlternate:!!(t%2),isHovered:p,style:e},n.createElement(ot.A,{"aria-label":(0,At.A)(a),keyAttribute:"key",metadataItem:a}),n.createElement("div",{className:Lr.overlay},n.createElement("div",{className:Lr.titleContainer},n.createElement("div",{className:Lr.primaryTitle},n.createElement(Sr.A,{className:Lr.titleEpisodeIndex,metadataItem:a}),n.createElement(dt.A,null),n.createElement(ct.A,{allowLink:!1,metadataItem:a})),n.createElement("div",{className:Lr.secondaryTitle},g?n.createElement(Ir.A,{"aria-label":(0,j.A)("Recording Scheduled"),className:Lr.subscriptionIcon}):null,n.createElement(Pr.A,{className:Lr.nextAiringDate,metadataItem:a}),A?n.createElement(dt.A,{className:Lr.separator}):null,A)),p&&f?n.createElement(Dr,{tabIndex:-1,onPress:y.onOpen}):null),n.createElement(Ja.A,{metadataItem:a,metadataItemState:r},({serverEntityID:e,providerEntityID:t,metadataItemEntityID:i,onMarkStale:l})=>n.createElement(xr.A,{isOpen:y.isOpen,metadataItemEntityID:i,metricsProperties:{page:s,contextTuple:c},providerEntityID:t,serverEntityID:e,subscriptionType:r.grandparentSubscriptionType||r.subscriptionType||a.type,onModalClose:(0,ja.A)(l,y.onClose)})))});var Nr=Object.getOwnPropertySymbols,Fr=Object.prototype.hasOwnProperty,Ur=Object.prototype.propertyIsEnumerable;function Vr(e){var t=e,{item:a}=t,r=((e,t)=>{var a={};for(var n in e)Fr.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&Nr)for(var n of Nr(e))t.indexOf(n)<0&&Ur.call(e,n)&&(a[n]=e[n]);return a})(t,["item"]);const i=(0,Wt.A)(null==a?void 0:a.sourceURI),l=(0,ve.A)(r),{cellIndex:o}=r;return a?n.createElement(rt.A,{metadataItem:a,metadataItemState:i},n.createElement(jr,{ref:l.cellRef,cellIndex:o,metadataItem:a,metadataItemState:i,style:l.style})):n.createElement(zt.A,{index:o,style:l.style})}var Br=Object.defineProperty,Hr=Object.getOwnPropertySymbols,Wr=Object.prototype.hasOwnProperty,zr=Object.prototype.propertyIsEnumerable,Kr=(e,t,a)=>t in e?Br(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a;function Qr({items:e,viewportWidth:t,viewportHeight:a,scrollTop:r,scrollLeft:i,onPageRequest:l}){const o=(0,n.useMemo)(()=>sr({rowHeight:96}),[]),s=(0,n.useCallback)(e=>n.createElement(Vr,((e,t)=>{for(var a in t||(t={}))Wr.call(t,a)&&Kr(e,a,t[a]);if(Hr)for(var a of Hr(t))zr.call(t,a)&&Kr(e,a,t[a]);return e})({},e)),[]),c=(0,n.useMemo)(()=>{const t=e.filter(e=>!!(0,Mn.A)(e.Media));return t.sort((e,t)=>{const a=(0,Mn.A)(e.Media),n=(0,Mn.A)(t.Media);return(null==a?void 0:a.endsAt)&&(null==n?void 0:n.endsAt)?a.endsAt>n.endsAt?1:-1:0}),t},[e]),m=(0,n.useMemo)(()=>c.length,[c]);return n.createElement(n.Fragment,null,n.createElement(la,null),n.createElement(ie.A,{cellComponentFactory:s,items:c,keyPropName:"listItemKey",layout:o,scrollLeft:i,scrollTop:r,totalSize:m,viewportHeight:a,viewportWidth:t,onPageRequest:l}),n.createElement(la,null))}var qr=a(2230),$r=a(3104);var Gr=Object.defineProperty,Jr=Object.defineProperties,Xr=Object.getOwnPropertyDescriptors,_r=Object.getOwnPropertySymbols,Yr=Object.prototype.hasOwnProperty,Zr=Object.prototype.propertyIsEnumerable,ei=(e,t,a)=>t in e?Gr(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a;function ti({className:e="PrePlayDescendantList-listContainer-RJzpLn",metadataItem:t}){const a=(0,o.wA)(),[r,i]=(0,b.Ss)(),l=Q(),{descendantListSourceURI:s}=(0,o.d4)(ce.A),c=(0,o.d4)($r.A),m=(0,o.d4)(qr.A),d=(0,se.A)(),u=(0,n.useMemo)(()=>(null==d?void 0:d.items.map(e=>e.sourceURI))||[],[d]),y=(0,o.d4)(function(e){return(0,yn.Mz)(vn.A,t=>{var a;const n={};for(const r of e)n[r]=null!=(a=t[r])?a:un()(pn.A);return n})}(u)),p=(0,n.useMemo)(()=>null==d?void 0:d.items.filter(({sourceURI:e})=>{var t;return!(null==(t=y[e])?void 0:t.isPopulated)}),[y,d]),[v,f]=oe(l.contentHeight);(0,n.useEffect)(()=>{r.isCloud&&(null==p?void 0:p.length)&&a(ln.A.actions.batchFetchRequested({server:r,provider:i,metadataItems:p}))},[a,i,r,p]);const A=(0,n.useCallback)(e=>{var t;s&&a(Gt.A.actions.fetchRangeRequested((t=((e,t)=>{for(var a in t||(t={}))Yr.call(t,a)&&ei(e,a,t[a]);if(_r)for(var a of _r(t))Zr.call(t,a)&&ei(e,a,t[a]);return e})({},e),Jr(t,Xr({server:r,provider:i,sourceURI:s})))))},[s,a,i,r]),g=function(e,t){switch(t){case re.T.PrePlayGrid:return Vn;case re.T.Details:return Cn;case re.T.SimpleDetails:return(0,N.A)(e)?Qr:pr;case re.T.TrackDetails:return hr}throw new Error("Failed to map the preplay descendant list style to a list component. Check `selectPrePlayDescendantListStyles` for list style options.")}(t,m);return s&&c&&d&&d.totalSize?n.createElement("div",{ref:f,className:e},n.createElement(k.Ay,{containerKey:t.childrenKey,containerProvider:i,containerServer:r,containerSourceURI:s,containerSubtype:t.subtype,containerType:c,listStyle:m},(0,fn.A)(i)?n.createElement(Tn,{metadataItem:t,metadataList:d}):n.createElement(gn,{metadataItem:t,metadataList:d}),n.createElement(me.Ay,{items:d.items},n.createElement(g,{items:d.items,scrollLeft:l.scrollLeft,scrollTop:l.scrollTop-v,subtype:t.subtype,totalSize:d.totalSize,type:c,viewportHeight:l.height,viewportWidth:l.width,onPageRequest:A})))):null}var ai=a(58459),ni=a(7447),ri=Object.defineProperty,ii=Object.defineProperties,li=Object.getOwnPropertyDescriptors,oi=Object.getOwnPropertySymbols,si=Object.prototype.hasOwnProperty,ci=Object.prototype.propertyIsEnumerable,mi=(e,t,a)=>t in e?ri(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a;function di(){const[e,t]=(0,b.Ss)(),{extrasSourceURI:a}=(0,o.d4)(ce.A),r=(0,n.useMemo)(()=>a?(0,Jt.A)(a):()=>{},[a]),i=(0,o.d4)(r),l=(0,o.d4)(xn.A),s=(0,n.useMemo)(()=>(0,ai.A)({listType:re.A.Clip,subtype:v.i9.Trailer,columnWidth:l}),[l]),c=(0,n.useCallback)(e=>{var t,a=e,{item:r}=a,i=((e,t)=>{var a={};for(var n in e)si.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&oi)for(var n of oi(e))t.indexOf(n)<0&&ci.call(e,n)&&(a[n]=e[n]);return a})(a,["item"]);return n.createElement(Dn.A,(t=((e,t)=>{for(var a in t||(t={}))si.call(t,a)&&mi(e,a,t[a]);if(oi)for(var a of oi(t))ci.call(t,a)&&mi(e,a,t[a]);return e})({},i),ii(t,li({isPlayButtonCard:!0,item:r}))))},[]);return i?n.createElement(k.Ay,{containerProvider:t,containerServer:e,containerSourceURI:i.sourceURI,containerSubtype:v.i9.Trailer,containerType:re.A.Clip},n.createElement(ni.A,{cellComponentFactory:c,hub:{title:(0,j.A)("Extras"),sourceURI:i.sourceURI},items:i.items,keyPropName:"listItemKey",layout:s,totalSize:i.totalSize})):null}var ui=a(53356);var yi=Object.defineProperty,pi=Object.defineProperties,vi=Object.getOwnPropertyDescriptors,fi=Object.getOwnPropertySymbols,Ai=Object.prototype.hasOwnProperty,bi=Object.prototype.propertyIsEnumerable,gi=(e,t,a)=>t in e?yi(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a,Ei=(e,t)=>{for(var a in t||(t={}))Ai.call(t,a)&&gi(e,a,t[a]);if(fi)for(var a of fi(t))bi.call(t,a)&&gi(e,a,t[a]);return e};function hi({className:e="PrePlayPopularList-container-EuBOh2"}){var t,a;const r=(0,o.wA)(),{popularLeavesSourceURI:i}=(0,o.d4)(ce.A),l=(0,n.useMemo)(()=>i?(0,Jt.A)(i):()=>{},[i]),s=(0,o.d4)(l),c=Q(),[m,d]=oe(c.contentHeight),[u,y]=(0,b.Ss)(),p=null!=(t=null==s?void 0:s.items.length)?t:0,f=null!=(a=null==s?void 0:s.totalSize)?a:p,A=null==s?void 0:s.sourceURI,[g,E]=(0,n.useState)(p<5?p:5),h=(0,n.useMemo)(()=>[pe.DD,pe.P8,pe.sH,pe.p0],[]),I=(0,n.useMemo)(()=>(0,ui.A)(),[]),P=(0,n.useCallback)(e=>{var t;A&&r(Gt.A.actions.fetchRangeRequested((t=Ei({},e),pi(t,vi({server:u,provider:y,sourceURI:A})))))},[A,r,u,y]),S=(0,n.useCallback)(()=>{const e=g+10;E(e>f?f:e)},[f,g]),w=(0,n.useCallback)(e=>n.createElement(ye.A,Ei({hasTransientActionsCell:!0,index:e.cellIndex+1,tableColumns:h},e)),[h]);return s?n.createElement("div",{className:e},n.createElement(k.Ay,{containerProvider:y,containerServer:u,containerSourceURI:s.sourceURI,containerType:v.QD.Track},n.createElement(he,{title:(0,j.A)("Popular Tracks")}),n.createElement(la,null),n.createElement("div",{ref:d},n.createElement(me.Ay,{items:s.items},n.createElement(ie.A,{cellComponentFactory:w,items:s.items,keyPropName:"listItemKey",layout:I,scrollLeft:c.scrollLeft,scrollTop:c.scrollTop-m,totalSize:g,viewportHeight:c.height,viewportWidth:c.width,onPageRequest:P}))),n.createElement(la,null),n.createElement("div",{className:"PrePlayPopularList-moreContainer-iQ4y2H"},g<f?n.createElement(St.A,{onPress:S},(0,j.A)("Show More")):null))):null}function Ii({metadataItem:e,onScrollPositionReady:t}){const{summary:a}=e,r=(0,W.A)(e),i=ka(e,"Country"),l=ka(e,"Genre"),o=ka(e,"Style"),s=cn(e);return n.createElement(n.Fragment,null,n.createElement(ae,{buttonBar:n.createElement(Qe.A,{isChromaMetadata:!0,metadataItem:e,promotedActions:["isPlayVisible","isPlayRadioVisible","isAddToPlaylistVisible","isSyncDownloadVisible","isEditVisible"]}),facts:i,genres:l,metadataItem:e,poster:n.createElement(Xe.A,{isChromaMetadata:!0,metadataItem:e}),showAttributionLogo:!0,starRating:r?n.createElement(Je.p,{metadataItem:e}):void 0,summary:a,title:(0,_e.A)(e)},o||s?n.createElement(ze,null,o?n.createElement(Ke,null,n.createElement(U.nT,{label:(0,j.A)("Style")},o)):null,s):null),n.createElement(hi,null),n.createElement(ti,{metadataItem:e}),n.createElement(di,null),n.createElement(Ea,{metadataItem:e}),n.createElement(Sa,{metadataItem:e,onScrollPositionReady:t}))}function Pi(e){return e.duration?(0,V.A)(e.duration):void 0}function Si({metadataItem:e,onScrollPositionReady:t}){const{contentRating:a,summary:r}=e,i=(0,W.A)(e),l=cn(e);return n.createElement(n.Fragment,null,n.createElement(ae,{buttonBar:n.createElement(Qe.A,{isChromaMetadata:!0,metadataItem:e,promotedActions:["isPlayVisible","isMarkPlayedVisible","isMarkUnplayedVisible","isSyncDownloadVisible","isEditVisible"]}),facts:[Pi(e),a?(0,B.A)(a):void 0],metadataItem:e,poster:n.createElement(Xe.A,{isChromaMetadata:!0,metadataItem:e}),showAttributionLogo:!0,starRating:i?n.createElement(Je.p,{metadataItem:e}):void 0,summary:r,title:(0,_e.A)(e)},l),n.createElement(Sa,{metadataItem:e,onScrollPositionReady:t}))}var wi=a(5079),Oi=a(58410),Ri=a(57978),Ci=a(47091),Mi=a(40961),Ti=a(4152),Di=a(3047),ki=a(48403);var xi=Object.defineProperty,Li=Object.defineProperties,ji=Object.getOwnPropertyDescriptors,Ni=Object.getOwnPropertySymbols,Fi=Object.prototype.hasOwnProperty,Ui=Object.prototype.propertyIsEnumerable,Vi=(e,t,a)=>t in e?xi(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a,Bi=(e,t)=>{for(var a in t||(t={}))Fi.call(t,a)&&Vi(e,a,t[a]);if(Ni)for(var a of Ni(t))Ui.call(t,a)&&Vi(e,a,t[a]);return e},Hi=(e,t)=>Li(e,ji(t));const Wi=parseInt(de.A.v4PagePadding,10);function zi(e){return e===re.T.TrackDetails?$t:Dn.A}const Ki="ListItem";function Qi(e){var t=e,{isScrolling:a,listStyle:r,onDragMove:i,onDragEnd:l}=t,o=((e,t)=>{var a={};for(var n in e)Fi.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&Ni)for(var n of Ni(e))t.indexOf(n)<0&&Ui.call(e,n)&&(a[n]=e[n]);return a})(t,["isScrolling","listStyle","onDragMove","onDragEnd"]);const s=(0,n.useRef)(null),[,c]=(0,wi.H)({accept:Ki,hover(e,t){const n=e.metadataItem,r=o.item;!a&&n!==r&&r&&t.isOver()&&i({moveItem:n,moveIndex:e.index,toIndex:o.cellIndex})},collect:e=>({isOver:e.isOver()})}),[{isDragging:m},d,u]=(0,Oi.i)({type:Ki,item(){var e;return{index:o.cellIndex,metadataItem:null!=(e=o.item)?e:Ti.A,size:{width:o.cellWidth,height:o.cellHeight}}},isDragging(e){var t;return(null==(t=o.item)?void 0:t.sourceURI)===e.getItem().metadataItem.sourceURI},collect:e=>({isDragging:e.isDragging()}),end(e){l({moveItem:e.metadataItem,moveIndex:e.index,toIndex:o.cellIndex})}});u((0,Ci.n)()),d(c(s));const y=zi(r);return n.createElement(y,Bi({ref:s,index:o.cellIndex+1,isSortable:!0,style:{opacity:m?0:1}},o))}function qi({className:e="PrePlayCuratedItemsList-listContainer-dkVFmY",metadataItem:t}){var a;const r=(0,o.wA)(),[i,l]=(0,b.Ss)(),{containerMeta:s}=(0,k.Xw)(),c=Q(),{descendantListSourceURI:m}=(0,o.d4)(ce.A),d=(0,o.d4)($r.A),u=(0,o.d4)(qr.A),y=(0,o.d4)(xn.A),p=(0,ki.A)(c.scrollTop)!==c.scrollTop,v=(0,se.A)(),[f,A]=(0,n.useState)(null!=(a=null==v?void 0:v.items)?a:[]);(0,n.useEffect)(()=>{var e;A(null!=(e=null==v?void 0:v.items)?e:[])},[null==v?void 0:v.items]);const[g,E]=oe(c.contentHeight),h=(0,n.useCallback)(e=>{m&&r(Gt.A.actions.fetchRangeRequested(Hi(Bi({},e),{server:i,provider:l,sourceURI:m})))},[m,r,l,i]),I=(0,n.useMemo)(()=>u===re.T.TrackDetails?ra({outerPaddingRight:Wi,outerPaddingLeft:Wi}):d?(0,kn.A)({listType:d,subtype:t.subtype,columnWidth:y,listStyle:re.T.PrePlayGrid,displayFields:null==s?void 0:s.DisplayFields,displayImages:null==s?void 0:s.DisplayImage}):void 0,[u,d,t.subtype,y,null==s?void 0:s.DisplayFields,null==s?void 0:s.DisplayImage]),P=(0,n.useCallback)(({moveItem:e,toIndex:t})=>{A(a=>{const n=a.findIndex(t=>t.sourceURI===e.sourceURI);if(n<0||t<0)return a;const r=Array.from(a),[i]=r.splice(n,1);return r.splice(t,0,i),r})},[]),S=(0,n.useCallback)(({moveItem:e,moveIndex:a,toIndex:n})=>{if(a<0||a===n)return;const o=f[n-1];r(Di.A.actions.moveItemRequested({server:i,provider:l,sourceURI:e.sourceURI,containerKey:t.key,ratingKey:e.ratingKey,afterID:o?o.ratingKey:void 0}))},[r,t.key,f,l,i]),{currentOffset:w,dragItem:O}=(0,Ri.V)(e=>e.getItemType()!==Ki?{}:{currentOffset:e.getSourceClientOffset(),dragItem:e.getItem()});(0,n.useEffect)(()=>{const{height:e,scrollTop:t,onRequestScrollPosition:a}=c;if(!w)return;const n=.05*e,r=n,i=e-n;let l=0;w.y>i?l=50:w.y<r&&(l=-50),t+l!==t&&a({targetScrollTop:t+l})},[w,c]);const R=(0,n.useCallback)(e=>n.createElement(Qi,Bi({isScrolling:p,listStyle:u,onDragEnd:S,onDragMove:P},e)),[p,u,P,S]);if(!(m&&d&&I&&v&&v.totalSize))return null;const C=zi(u);return n.createElement("div",{ref:E,className:e},n.createElement(k.Ay,{containerKey:t.childrenKey,containerProvider:l,containerServer:i,containerSourceURI:m,containerSubtype:t.subtype,containerType:d,listStyle:u},n.createElement(gn,{metadataItem:t,metadataList:v}),n.createElement(me.Ay,{items:f},u===re.T.TrackDetails?n.createElement(la,null):null,n.createElement(ie.A,{cellComponentFactory:R,items:f,keyPropName:"listItemKey",layout:I,scrollLeft:c.scrollLeft,scrollTop:c.scrollTop-g,totalSize:v.totalSize,viewportHeight:c.height,viewportWidth:c.width,onPageRequest:h}),u===re.T.TrackDetails?n.createElement(la,null):null),w&&O?Mi.createPortal(n.createElement("div",{className:"PrePlayCuratedItemsList-dragLayer-e6SIlz"},n.createElement(C,{key:"dragItem",cellHeight:O.size.height,cellIndex:0,cellWidth:O.size.width,index:0,isVirtual:!1,item:O.metadataItem,style:Hi(Bi({},O.size),{transform:`translate(${w.x}px, ${w.y}px)`})})),document.body):null))}function $i({minYear:e,maxYear:t}){const a=!(!e||!t||e===t);return a||t&&e===t?a?`${e}  ${t}`:t:void 0}function Gi({metadataItem:e,onScrollPositionReady:t}){const{audienceRating:a,contentRating:r,rating:i,smart:l,summary:o,title:s}=e,[c]=(0,b.Ss)(),m=(0,W.A)(e),d=cn(e);return n.createElement(n.Fragment,null,n.createElement(ae,{buttonBar:n.createElement(Qe.A,{isChromaMetadata:!0,metadataItem:e,promotedActions:["isPlayVisible","isPlayTrailerVisible","isShuffleVisible","isSyncDownloadVisible","isEditVisible"]}),facts:$i(e),metadataItem:e,poster:n.createElement(Xe.A,{isChromaMetadata:!0,metadataItem:e}),ratings:[r?(0,B.A)(r):void 0,i||a?n.createElement(H.A,{key:"criticRating",metadataItem:e}):null],starRating:m?n.createElement(Je.p,{key:"userRating",metadataItem:e}):void 0,summary:o,title:s},d),l||!c.isFullOwnedServer?n.createElement(ti,{metadataItem:e}):n.createElement(qi,{metadataItem:e}),n.createElement(Sa,{metadataItem:e,onScrollPositionReady:t}))}var Ji=a(37548),Xi=a(15348);function _i({allowLink:e=!0,metadataItem:t}){const a=(0,$e.A)(t,"key"),r=(0,$e.A)(t,"parentKey"),i=(0,Xi.A)({seasonIndex:t.parentIndex,noLeadingZero:!0}),l=(0,Ji.A)({episodeIndex:t.index,date:t.originallyAvailableAt,noLeadingZero:!0});return e&&a&&r?n.createElement(We.I1,null,t.index&&i?n.createElement(qe.N,{href:r,title:t.parentTitle},i):null,t.index&&i?n.createElement(dt.A,{separator:""}):null,n.createElement(qe.N,{href:a,title:t.title},l)):n.createElement(We.I1,null,t.index&&i?n.createElement(wa.E,{color:"primary",font:"body-1",title:t.parentTitle},i):null,t.index&&i?n.createElement(dt.A,{separator:""}):null,n.createElement(wa.E,{color:"primary",font:"body-1",title:t.title},l))}var Yi=a(5274),Zi=a(52478),el=a(60437),tl=a(57055),al=a(93788),nl=a(21267),rl=a(79393),il=a(54021),ll=a(24957),ol=a(11348),sl=a(46256),cl=a(19584),ml=a(95841),dl=a(45418),ul=a(61641),yl=a(86156),pl=a(99049),vl=a(28518),fl=a(76465),Al=a(34398);const bl=["isRecordVisible","isPlayVisible","isShareVisible"];function gl({isPrimary:e,isDisabled:t,metadataItem:a,remoteWatchPassModalState:r}){const i=(0,o.wA)(),[s,c]=(0,b.Ss)(),m=(0,Wt.A)(a.sourceURI),d=(0,Mn.A)(a.Media),{metricsPage:u,metricsContextTuple:y}=(0,l.Mp)(),p=(0,ll.A)(a.source,{type:a.type}),v=(0,n.useCallback)(()=>{p?r.onOpen():i(tl.gC({serverEntityID:s.entityID,providerEntityID:c.entityID,metricsPage:u,metricsContext:y,options:{type:rl.G_,identifier:null==d?void 0:d.channelIdentifier}}))},[i,null==d?void 0:d.channelIdentifier,y,u,c.entityID,r,p,s.entityID]);return(0,n.useEffect)(()=>(nl.A.on("shortcut:playSelected",v),()=>{nl.A.off("shortcut:playSelected",v)})),n.createElement(cl.A,{icon:Yi.default,isDisabled:t,isLabeled:e,isPrimary:e,testID:"preplay-play",title:(0,ol.A)(a,m),onPress:v})}function El({metadataItem:e}){const t=(0,o.wA)(),a=(0,Na.A)(),r=(0,el.E)(),[i,l]=(0,b.Ss)(),s=(0,o.d4)(al.A),c=(0,o.d4)(it.A),m=(0,o.d4)(pl.A),d=(0,se.A)(),u=null==d?void 0:d.items.find(e=>!!(0,Mn.A)(e.Media)),{favoriteChannels:y}=(0,o.d4)(yl.A),p=(0,n.useMemo)(()=>!y.isPending&&!y.isPopulated&&!y.error,[y.error,y.isPending,y.isPopulated]),f=(0,vl.A)(il.v.IncludeSocialProof),A=(0,n.useRef)(null),g=(0,o.d4)(sl.A),E=(0,Wt.A)(e.sourceURI),h=(0,el.E)(),I=(0,n.useMemo)(()=>{var t;const a=(0,bt.Ay)({server:i,provider:l,stableUser:c,metadataItem:e,metadataItemState:E,deviceSettings:g});if(!f&&a.isShareVisible&&delete a.isShareVisible,e.type===v.QD.Show)a.isPlayVisible=!0;else if(u){const{beginsAt:e,endsAt:n}=null!=(t=(0,Mn.A)(u.Media))?t:{},r=Math.floor(Date.now()/1e3);e&&n&&r>=e&&r<n&&(a.isPlayVisible=!0)}return a},[g,f,e,E,u,l,i,c]);(0,n.useEffect)(()=>{p&&t(ul.Ay.actions.favoriteChannelsFetchRequested({cloudServer:s}))},[s,t,p]);const P=function(e){return Object.keys(e).reduce((t,a)=>{const n=a;return t[n]=!bl.includes(n)&&e[n],t},{})}(I),S=Object.keys(P).some(e=>"isShareVisible"!==e&&P[e]);return 0===Object.keys(I).filter(e=>I[e]).length?null:n.createElement(We.BJ,{ref:A,align:["center","left"],gap:"xs",minHeight:40,orientation:"horizontal",wrap:!0},bl.filter(e=>I[e]).map((t,a)=>n.createElement(ml.A,{key:t,errorComponent:Al.A},"isPlayVisible"===t?n.createElement(gl,{isDisabled:m,isPrimary:0===a,metadataItem:null!=u?u:e,remoteWatchPassModalState:h}):null,"isPlayVisible"!==t?n.createElement(fl.A,{action:t,isDisabled:m,isPrimary:0===a,metadataItem:e,metadataItemState:E,remoteWatchPassModalState:h}):null)),S?n.createElement(cl.A,{icon:Zi.default,id:a,isDisabled:m,isWaiting:y.isPending,testID:"preplay-more",title:(0,j.A)("More"),onPress:r.onOpen}):null,n.createElement(st.A,{actionsOverride:P,className:"EPGShowPrePlayActionBar-menu-B2nhRi PrePlayActionBar-menu-xDrJti Menu-menu-OCzudL",isOpen:r.isOpen,metadataItem:e,target:a,onMenuClose:r.onClose}),n.createElement(dl.A,{modalState:h}))}var hl=a(85206),Il=a(5965);function Pl(e,t,a){const n=e/1e3;return a<n?(0,j.A)("Aired"):t<=n&&a>=n?(0,j.A)("Airing"):(0,j.A)("Airs")}function Sl({metadataItem:e}){const t=(0,o.d4)((0,C.A)("timeFormat")),a=(0,Il.A)(),r=(0,Mn.A)(e.Media);if(!r)return null;const{Channel:i}=e,{videoResolution:l,beginsAt:s,endsAt:c,channelID:m}=r,d=null==i?void 0:i.find(e=>e.id===m);return n.createElement(Ke,null,l?n.createElement(U.nT,{label:(0,j.A)("Video")},function(e){const t=parseInt(e,10);return t>=720||4===t||8===t}(l)?(0,j.A)("HD"):(0,j.A)("SD")):null,null!=s&&null!=c?n.createElement(U.nT,{label:Pl(a,s,c)},(0,hl.A)({now:a,beginsAt:s,endsAt:c,channel:null==d?void 0:d.tag,timeFormat:t,showFullTime:!0,showChannel:!0})):null)}function wl({metadataItem:e,onScrollPositionReady:t}){const{audienceRating:a,contentRating:r,rating:i,summary:l}=e,o=(0,$e.A)(e,"grandparentKey");return n.createElement(n.Fragment,null,n.createElement(ae,{buttonBar:n.createElement(El,{metadataItem:e}),facts:n.createElement(_i,{metadataItem:e}),genres:[Pi(e),r?(0,B.A)(r):void 0],metadataItem:e,poster:n.createElement(Xe.A,{aspectRatio:gt.Yc,isChromaMetadata:!0,metadataItem:e}),ratings:[i||a?n.createElement(H.A,{metadataItem:e}):null],subtitle:(0,_e.A)(e),summary:l,title:o?n.createElement(qe.N,{color:"inherit",font:"inherit",href:o},e.grandparentTitle):e.grandparentTitle},n.createElement(Sl,{metadataItem:e})),n.createElement(Sa,{metadataItem:e,onScrollPositionReady:t}))}var Ol=a(42498),Rl=a(4511),Cl=a(76440),Ml=a(21686),Tl=a(28829),Dl=a(12063),kl=a(20846),xl=a(56642),Ll=a(91858);var jl=Object.defineProperty,Nl=Object.defineProperties,Fl=Object.getOwnPropertyDescriptors,Ul=Object.getOwnPropertySymbols,Vl=Object.prototype.hasOwnProperty,Bl=Object.prototype.propertyIsEnumerable,Hl=(e,t,a)=>t in e?jl(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a,Wl=(e,t)=>{for(var a in t||(t={}))Vl.call(t,a)&&Hl(e,a,t[a]);if(Ul)for(var a of Ul(t))Bl.call(t,a)&&Hl(e,a,t[a]);return e},zl=(e,t)=>Nl(e,Fl(t));const Kl="viewAll";function Ql(){const[e,t]=(0,b.Ss)(),a=(0,o.d4)(kl.A),r=a?(0,Ll.A)(e.machineIdentifier,t.identifier,{key:a.key,metadataType:a.type}):void 0;return n.createElement(ge.A,{href:r},(0,j.A)("Cast & Crew"))}function ql(e){var t=((e,t)=>{var a={};for(var n in e)Vl.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&Ul)for(var n of Ul(e))t.indexOf(n)<0&&Bl.call(e,n)&&(a[n]=e[n]);return a})(e,[]);const a=(0,ve.A)(t),{cellIndex:r}=t,i=(0,n.useMemo)(()=>(0,Et.A)({width:t.cellWidth,aspectRatio:gt.mH}),[t.cellWidth]);return n.createElement(zt.A,{className:"PrePlayCastList-placeholder-Bnia6W ListRowPlaceholder-placeholder-g75gnX",index:r,style:Wl(Wl({},a.style),i)})}function $l({metadataItem:e}){const[t,a,r]=(0,b.Ss)(),i=(0,o.wA)(),l=(0,o.d4)(xn.A),{settings:s,isPending:c,isPopulated:m,error:u}=(0,o.d4)((0,Ol.A)(t.machineIdentifier,e.librarySectionID)),{credits:{isPending:y}}=(0,o.d4)(ce.A),p=(0,o.d4)(Dl.A),{librarySectionID:v}=e,f=(0,n.useMemo)(()=>(0,ai.A)({listType:re.A.Person,columnWidth:l,titleCount:2}),[l]);(0,Tl.A)(),(0,n.useEffect)(()=>{t.isCloud||!v||c||m||u||i(Rl.Ay.actions.fetchServerSectionSettings({server:t,librarySectionID:v}))},[i,u,c,m,v,t]);const A=(0,n.useMemo)(()=>{if(y)return new Array(25);const e=(0,xl.Ay)(p),a=t.isCloud||!v||m||u?e:new Array(25);return a.length>25?[...a.slice(0,25),{tagKey:Kl}]:a},[p,u,y,m,v,t.isCloud]),g=(0,n.useCallback)(i=>{if(!i.item)return n.createElement(ql,Wl({},i));if(i.item.tagKey===Kl){const r=e?(0,Ll.A)(t.machineIdentifier,a.identifier,{key:e.key,metadataType:e.type}):void 0;return n.createElement(Cl.A,zl(Wl({},i),{href:r}))}return n.createElement(Ml.A,zl(Wl({},i),{contentDirectory:r,metadataItem:e,provider:a,server:t,serverSettings:s}))},[r,e,a,t,s]);return n.createElement(ni.A,{cellComponentFactory:g,hub:{sourceURI:d.A.join([e.sourceURI,"castList"])},hubTitleComponent:Ql,items:A,layout:f,totalSize:A.length})}function Gl({metadataItem:e,onScrollPositionReady:t}){const{audienceRating:a,contentRating:r,rating:i,summary:l,year:o}=e,s=ka(e,"Genre");return n.createElement(n.Fragment,null,n.createElement(ae,{buttonBar:n.createElement(El,{metadataItem:e}),facts:[o,Pi(e),r?(0,B.A)(r):void 0],genres:s,metadataItem:e,poster:n.createElement(Xe.A,{isChromaMetadata:!0,metadataItem:e}),ratings:[i||a?n.createElement(H.A,{key:"criticRating",metadataItem:e}):null],summary:l,title:(0,_e.A)(e)},n.createElement(Sl,{metadataItem:e})),n.createElement($l,{metadataItem:e}),n.createElement(Sa,{metadataItem:e,onScrollPositionReady:t}))}function Jl({metadataItem:e,onScrollPositionReady:t}){const{audienceRating:a,contentRating:r,rating:i,summary:l,title:o}=e,s=ka(e,"Genre"),c=cn(e);return n.createElement(n.Fragment,null,n.createElement(ae,{buttonBar:n.createElement(El,{metadataItem:e}),genres:s,metadataItem:e,poster:n.createElement(Xe.A,{isChromaMetadata:!0,metadataItem:e}),ratings:[r?(0,B.A)(r):void 0,i||a?n.createElement(H.A,{key:"criticRating",metadataItem:e}):null],summary:l,title:o},c),n.createElement(ti,{metadataItem:e}),n.createElement($l,{metadataItem:e}),n.createElement(Sa,{metadataItem:e,onScrollPositionReady:t}))}var Xl=a(60137);function _l(e){const[t,a]=(0,b.Ss)(),n=(0,o.d4)(it.A),r=(0,Wt.A)(null==e?void 0:e.sourceURI);return(0,bt.zk)({server:t,provider:a,stableUser:n,metadataItem:e,metadataItemState:r})}var Yl=a(64739),Zl=a(37885),eo=a(93455),to=a(99686),ao=a(11084),no=a(38815),ro=a(83566),io=a(14282),lo=a(86134),oo=a(54495),so=a(25634),co=a(68435),mo=a(66193),uo=a(62663),yo=a(76528);function po(){const e=(0,j.A)("An unexpected error is impacting the Rate & Review action");return n.createElement(yo.A,{errorMessage:`${e}.`,iconSize:"s",tooltipPlacement:"right"})}var vo=a(19781),fo=a(97875),Ao=a(68436);const bo=function({metadataItem:e}){const t=(0,el.E)(),a=(0,Wt.A)(e.sourceURI),r=(0,n.useMemo)(()=>{var t;return null!=(t=(0,no.A)(e.guid))?t:""},[e.guid]),{data:i,isLoading:l,error:o,refetch:s}=(0,Ao.Ks)({metadataID:r},{skip:!r,refetchOnMountOrArgChange:!0}),c=(0,n.useMemo)(()=>{var e;return(null==i?void 0:i.metadataReviewV2)?(0,fo.A)(i.metadataReviewV2):null!=(e=a.userRating)?e:0},[null==i?void 0:i.metadataReviewV2,a.userRating]),m=(0,n.useCallback)(()=>{s()},[s]),d=(0,n.useCallback)(()=>{t.onClose(),s()},[s,t]);return l?null:o?a.userRating?n.createElement(Je.p,{key:"userRating",metadataItem:e}):n.createElement(po,null):n.createElement(We.BJ,{minHeight:40,verticalAlign:"center"},(null==i?void 0:i.metadataReviewV2)&&"message"in i.metadataReviewV2||c?n.createElement(We.BJ,{gap:"none",orientation:"horizontal",verticalAlign:"center"},n.createElement(so.$n,{font:"button-2",label:n.createElement(We.BJ,{gap:"xs",orientation:"horizontal",verticalAlign:"center"},n.createElement(co.G,{accessibilityLabel:(0,j.A)("Rated {rating} out of 10",{rating:c}),iconSize:"m",value:c}),(null==i?void 0:i.metadataReviewV2)&&"message"in i.metadataReviewV2?(0,j.A)("Reviewed {date}",{date:(0,mo.a)(i.metadataReviewV2.date,!0)}):(0,j.A)("Add a review")),pill:!0,size:"xs",onPress:t.onToggle}),(null==i?void 0:i.metadataReviewV2)?n.createElement(uo.A,{activity:null==i?void 0:i.metadataReviewV2}):null):n.createElement(so.K0,{icon:"rate-review-filled",label:(0,j.A)("Rate & Review"),pill:!0,size:"xs",onPress:t.onToggle}),n.createElement(vo.A,{metadataItem:e,metadataItemState:a,modalState:t,onRemoveSuccess:d,onSaveSuccess:m}))},go=function({metadataItem:e}){const t=(0,o.wA)(),a=(0,o.d4)(oo.A),r=(0,o.d4)(ao.A),i=(0,n.useMemo)(()=>`library/metadata/${(0,no.A)(e.guid)}`,[e.guid]),{isPending:l,isPopulated:s,error:c,item:{publicPagesURL:m}}=(0,o.d4)((0,lo.A)(i)),d=(0,W.A)(e),u=function(e){const[t,a]=(0,b.Ss)(),n=(0,o.d4)(it.A),r=(0,Wt.A)(null==e?void 0:e.sourceURI),i=(0,vl.A)(il.v.IncludeDiscoverSource),{viewStateSync:{consent:l}}=(0,o.d4)(ro.A),s=(0,Yl.A)(e);return!!(t.isCloud||"given"===l&&i)&&(0,bt.TX)({server:t,provider:a,stableUser:n,metadataItem:e,metadataItemState:r,isAdultLibrary:s})}(e);return(0,n.useEffect)(()=>{!u||!r||e.publicPagesURL||l||s||c||t(io.A.actions.fetchMetadataItem({server:a,provider:r,key:i}))},[t,l,s,u,e.publicPagesURL,c,r,i,a]),u&&!e.publicPagesURL&&l?null:u&&(e.publicPagesURL||s&&m)?n.createElement(bo,{key:"userReview",metadataItem:e}):d?n.createElement(Je.p,{key:"userRating",metadataItem:e}):null};var Eo=a(42019),ho=a(19594),Io=a(60966),Po=a(41455),So=a(76414),wo=a(19927);function Oo({plexStats:e,metadataItem:t,height:a}){const r=(0,o.d4)((0,wo.A)(qa.eR)),i=function(e,t){if(t)return!e.isUnreleased||e.isUnreleased&&(e.type===v.QD.Episode||e.type===v.QD.Season)?{amount:null==t?void 0:t.watchedAmount,suffix:null==t?void 0:t.watchedSuffix,type:"watched"}:{amount:null==t?void 0:t.watchlistedAmount,suffix:null==t?void 0:t.watchlistedSuffix,type:"watchlisted"}}(t,e);if(!i||!r)return null;const{amount:l,suffix:s,type:c}=i;return l&&"0"!==l?n.createElement(We.BJ,{gap:"xs",height:a,orientation:"horizontal",verticalAlign:"center"},n.createElement(wa.E,{color:"primary",font:"heading-2",numberOfLines:1},`${l}${s}`),"watched"===c?n.createElement(wa.E,{color:"default",font:"body-2"},"1"!==l||s?(0,j.A)("people on Plex have watched this"):(0,j.A)("person on Plex has watched this")):null,"watchlisted"===c?n.createElement(wa.E,{color:"default",font:"body-2"},"1"!==l||s?(0,j.A)("people on Plex have watchlisted this"):(0,j.A)("person on Plex has watchlisted this")):null):n.createElement(We.BJ,{gap:"xs",height:a,orientation:"horizontal",verticalAlign:"center"},n.createElement(So.default,{size:"m"}),"watched"===c?n.createElement(wa.E,{color:"default",font:"body-2"},(0,j.A)("Be the first person to watch this!")):null,"watchlisted"===c?n.createElement(wa.E,{color:"default",font:"body-2"},(0,j.A)("Be the first person to watchlist this!")):null)}var Ro=a(58240);function Co(e,t,a){const n=null==t?void 0:t.length,r=t.map(({displayName:t,username:a,id:n})=>n===e?(0,j.A)("You"):t||a);return t&&n?n>3?(0,j.A)("Activity by {firstMention}, {secondMention} and {usersLeft} others",{firstMention:r[0],secondMention:r[1],usersLeft:a-2}):3===n?(0,j.A)("Activity by {firstMention}, {secondMention} and 1 other",{firstMention:r[0],secondMention:r[1]}):2===n?(0,j.A)("Activity by {firstMention} and {secondMention}",{firstMention:r[0],secondMention:r[1]}):(0,j.A)("Activity by {firstMention}",{firstMention:r[0]}):""}var Mo=a(91389),To=a(15635),Do=a(86112);const ko=function(e,t,a){const n=(0,To.A)(e,t,Mo.A.prePlayActivityFeed),r=(0,Do.A)(e,t);return"#!"+d.A.join((0,s.tW)(n,r),a)};var xo=a(53059),Lo=a(59485),jo=a(66963);const No=(0,Lo.A)("xxl");function Fo({metadataItem:e}){const t=(0,Io.A)(),a=(0,vl.A)(il.v.IncludeSocialProof),[r,i]=(0,b.Ss)(),l=(0,o.wA)(),{details:s}=(0,o.d4)(ro.A),c=(0,xo.o)(qa.p6),m=(0,n.useMemo)(()=>{var t;return null!=(t=(0,no.A)(e.guid))?t:""},[e.guid]),{data:d,isLoading:u,error:y}=(0,jo.WZ)({metadataID:m,includeDescendants:!0,types:c?Ro.G:Ro.s},{skip:!m||!a||!!e.Channel,refetchOnMountOrArgChange:!0}),p=(0,n.useMemo)(()=>d?d.activityMentionsV2.recentUsers.flatMap(e=>e.avatar||[]):[],[d]),v=(0,n.useCallback)(()=>{l((0,Eo.oo)({pathname:ko(r.machineIdentifier,i.identifier,{key:e.key})})),t({action:ho.pT})},[l,e.key,i.identifier,r.machineIdentifier,t]);return e.guid&&a?u||y?n.createElement("div",{style:{height:No}}):p.length&&(null==d?void 0:d.activityMentionsV2.recentUsers.length)?n.createElement(Po.A,{avatars:p,label:Co(s.uuid,d.activityMentionsV2.recentUsers,d.activityMentionsV2.uniqueUsersCount),numberOfLines:2,onPress:v}):n.createElement(Oo,{height:No,metadataItem:e,plexStats:null==d?void 0:d.activityMentionsV2.plexStats}):null}function Uo({children:e}){return n.createElement("div",{className:"StreamDetailPropertiesTable-container-vnpzQ6"},n.createElement(ze,null,e))}var Vo=a(95598),Bo=a(19534),Ho=a(26308),Wo=a(3467),zo=a(86592),Ko=Object.defineProperty,Qo=Object.defineProperties,qo=Object.getOwnPropertyDescriptors,$o=Object.getOwnPropertySymbols,Go=Object.prototype.hasOwnProperty,Jo=Object.prototype.propertyIsEnumerable,Xo=(e,t,a)=>t in e?Ko(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a,_o=(e,t)=>{for(var a in t||(t={}))Go.call(t,a)&&Xo(e,a,t[a]);if($o)for(var a of $o(t))Jo.call(t,a)&&Xo(e,a,t[a]);return e};function Yo(e){const{metricsPage:t,metricsContextTuple:a}=(0,l.Mp)(),r=(0,n.useMemo)(()=>(0,h.A)(e),[e]);return(0,n.useCallback)(e=>{var n,i;(0,Wo.hd)("metrics").trackEvent({event:zo.pM,page:t,interaction:!0,properties:{contextTuple:a,metadataItem:(n=_o({},r),i={service:e.title,serviceId:e.platform},Qo(n,qo(i)))}})},[a,r,t])}var Zo=a(18225),es=a(4326);const ts="PrePlayAvailabilityItem-badge-OsI5kO";var as=Object.defineProperty,ns=Object.defineProperties,rs=Object.getOwnPropertyDescriptors,is=Object.getOwnPropertySymbols,ls=Object.prototype.hasOwnProperty,os=Object.prototype.propertyIsEnumerable,ss=(e,t,a)=>t in e?as(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a,cs=(e,t)=>{for(var a in t||(t={}))ls.call(t,a)&&ss(e,a,t[a]);if(is)for(var a of is(t))os.call(t,a)&&ss(e,a,t[a]);return e},ms=(e,t)=>ns(e,rs(t));const ds=parseInt(de.A.v4PrePlayAvailabilityWidth,10);function us({title:e,numberOfLines:t=1}){const a=Array.isArray(e)?e:[e];return n.createElement(n.Fragment,null,a.map((e,a)=>n.createElement(wa.E,{key:a,color:"muted",font:"body-3",numberOfLines:t},e)))}function ys({thumb:e,primaryTitle:t,secondaryTitle:a,tertiaryTitle:r}){return n.createElement(We.BJ,{gap:"m",orientation:"horizontal",verticalAlign:"center",width:ds},n.createElement(We.BJ,{shrink:!1},e),n.createElement(We.BJ,null,t?n.createElement(wa.E,{color:"primary",font:"body-3",numberOfLines:a?1:2},t):null,a?n.createElement(us,{numberOfLines:r?1:2,title:a}):null,r?n.createElement(wa.E,{color:"muted",font:"body-3",numberOfLines:1},r):null))}const ps=(0,n.forwardRef)(function(e,t){const{thumb:a,badge:r,primaryTitle:i,secondaryTitle:l,href:o,target:s,onPress:c}=e,[m,d]=(0,n.useState)(!1),u=(0,n.useCallback)(()=>d(!0),[]),y=(0,n.useCallback)(()=>d(!1),[]),p={className:Hn()("PrePlayAvailabilityItem-availabilityCell-KTf3LB Link-link-vSsQW1",m&&es.V),onBlur:y,onFocus:u},v=`${i||""}${i&&l?"  ":""}${l||""}`;return o?n.createElement(Zo.s8,ms(cs({},p),{href:o,target:s,title:v,onPress:c}),r?n.createElement("div",{className:ts},r):null,n.createElement(ys,{primaryTitle:i,secondaryTitle:l,tertiaryTitle:e.tertiaryTitle,thumb:a})):n.createElement(Zo.al,ms(cs({},p),{ref:t,title:v,onPress:c}),r?n.createElement("div",{className:ts},r):null,n.createElement(ys,{primaryTitle:i,secondaryTitle:l,tertiaryTitle:e.tertiaryTitle,thumb:a}))});var vs=a(42136);function fs(e,t,a){return e.platform!==vs.yy&&a.isPopulated&&!a.watchlistedAt&&t.type===v.QD.Show}var As=a(63737);function bs(e){switch(e.availability.offerType){case vs.cX.Free:return e.platform!==vs.yy?[(0,j.A)("Free")]:void 0;case vs.cX.Subscription:return[(0,j.A)("Subscription")];case vs.cX.Buy:case vs.cX.Rent:return[e.availability.buyPriceDescription?(0,j.A)("Buy {price}",{price:e.availability.buyPriceDescription}):void 0,e.availability.rentPriceDescription?(0,j.A)("Rent {price}",{price:e.availability.rentPriceDescription}):void 0].filter(Boolean);default:return}}const gs=function(e){return!!e&&"availabilities"in e};function Es(e){return gs(e)||e.availability.channelTitle?(0,j.A)("Free Live TV"):e.platform===vs.yy?e.availability.offerType===vs.cX.Free?(0,j.A)("Free On Demand"):(0,j.A)("On Demand"):e.title}var hs=a(14044);function Is(e){const t=gs(e)?e.availabilities[0]:e.availability;return(null==t?void 0:t.serverIdentifier)&&(null==t?void 0:t.providerIdentifier)&&(null==t?void 0:t.key)?(0,hs.A)(t.serverIdentifier,t.providerIdentifier,{key:t.key}):t.platformInfo.web.url}var Ps=a(29943),Ss=a(2043);const ws=function({className:e="LiveBadge-badge-ak80zJ"}){return n.createElement("div",{className:e},(0,j.A)("Live"))};var Os=a(36727),Rs=a(90037),Cs=a(38309),Ms=a(19514),Ts=a(95989),Ds=Object.defineProperty,ks=Object.defineProperties,xs=Object.getOwnPropertyDescriptors,Ls=Object.getOwnPropertySymbols,js=Object.prototype.hasOwnProperty,Ns=Object.prototype.propertyIsEnumerable,Fs=(e,t,a)=>t in e?Ds(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a;function Us(e){var t,a=e,{item:r,metadataType:i}=a,l=((e,t)=>{var a={};for(var n in e)js.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&Ls)for(var n of Ls(e))t.indexOf(n)<0&&Ns.call(e,n)&&(a[n]=e[n]);return a})(a,["item","metadataType"]);const s=(0,Il.A)(),c=(0,Ms.A)(l),m=(0,o.d4)((0,C.A)("timeFormat"));return(null==(t=null==r?void 0:r.Media)?void 0:t.length)?n.createElement(Ot.A,{style:c.style},n.createElement(We.BJ,{gap:"s",paddingBottom:"s",width:"100%"},n.createElement(We.BJ,{gap:"none",paddingX:"m"},null!=r.index&&null!=r.parentIndex&&i!==v.QD.Episode?n.createElement(wa.E,{font:"heading-4"},(0,Cs.A)({seasonIndex:r.parentIndex,episodeIndex:r.index,noLeadingZero:!0,separator:"  ",includeSpecials:!0})):null,n.createElement(wa.E,{color:"muted",font:"body-2"},(0,hl.A)({now:s,beginsAt:r.Media[0].beginsAt,endsAt:r.Media[0].endsAt,timeFormat:m})),n.createElement(wa.E,{color:"muted",font:"body-2"},r.channelTitle)),n.createElement(Os.c,{size:"s"}))):null}const Vs=function({modalState:e,metadataItem:t,availabilities:a}){const r=(0,n.useMemo)(()=>e=>{return n.createElement(Us,(a=((e,t)=>{for(var a in t||(t={}))js.call(t,a)&&Fs(e,a,t[a]);if(Ls)for(var a of Ls(t))Ns.call(t,a)&&Fs(e,a,t[a]);return e})({},e),r={metadataType:t.type},ks(a,xs(r))));var a,r},[t.type]),i=(0,n.useMemo)(()=>(0,_t.A)({rowHeight:t.type===v.QD.Show||t.type===v.QD.Season?89:65}),[t.type]),l=(0,n.useMemo)(()=>{switch(t.type){case v.QD.Episode:return`${t.grandparentTitle} - ${(0,Cs.A)({seasonIndex:t.parentIndex,episodeIndex:t.index,noLeadingZero:!0,separator:"  ",includeSpecials:!0})}`;case v.QD.Season:return`${t.parentTitle} - ${t.title}`;default:return t.title}},[t.type,t.grandparentTitle,t.parentIndex,t.index,t.parentTitle,t.title]);return n.createElement(Rs.aF,{isOpen:e.isOpen,onOpenChange:e.onOpenChange},n.createElement(Rs.$m,{closeButtonAccessibilityLabel:(0,j.A)("Close Upcoming Airings Modal"),title:(0,j.A)("Upcoming Airings of {title}",{title:l})},n.createElement(Rs.cw,null,n.createElement(Ts.A,{cellComponentFactory:r,items:a,layout:i,scrollDirection:O.D.Vertical,totalSize:a.length})),n.createElement(Rs.jl,null,n.createElement(Rs.Xd,null,n.createElement(Rs.s_,null,n.createElement(so.$n,{label:(0,j.A)("Close")}))))))},Bs=function(e,t){const a=e.availabilities.length;return a>1?e.isPlayable?(0,j.A)("{airingsCount} airings",{airingsCount:a}):(0,j.A)("{airingsCount} upcoming airings",{airingsCount:a}):1===a&&e.availabilities[0].index&&e.availabilities[0].parentIndex&&t.type!==v.QD.Episode?(0,Cs.A)({seasonIndex:e.availabilities[0].parentIndex,episodeIndex:e.availabilities[0].index,noLeadingZero:!0,separator:"  ",includeSpecials:!0}):void 0},Hs="ProviderAvailabilityItem-thumb-x9MXZE";var Ws=Object.defineProperty,zs=Object.defineProperties,Ks=Object.getOwnPropertyDescriptors,Qs=Object.getOwnPropertySymbols,qs=Object.prototype.hasOwnProperty,$s=Object.prototype.propertyIsEnumerable,Gs=(e,t,a)=>t in e?Ws(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a,Js=(e,t)=>{for(var a in t||(t={}))qs.call(t,a)&&Gs(e,a,t[a]);if(Qs)for(var a of Qs(t))$s.call(t,a)&&Gs(e,a,t[a]);return e};const Xs=parseInt(de.A.v4PrePlayAvailabilityThumbSize,10);function _s(e){var t=e,{item:a,metadataItem:r}=t,i=((e,t)=>{var a={};for(var n in e)qs.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&Qs)for(var n of Qs(e))t.indexOf(n)<0&&$s.call(e,n)&&(a[n]=e[n]);return a})(t,["item","metadataItem"]);const[l,o]=(0,b.Ss)(),s=(0,ve.A)(i),c=(0,el.E)(),m=(0,It.Ay)({width:Xs,height:Xs,server:l,provider:o,url:a.thumb}),{onPlayPress:d,playModal:u}=(0,Ss.A)(r),y=(0,n.useCallback)(()=>{a.isPlayable?d():c.onOpen()},[c,a.isPlayable,d]);return n.createElement("div",{ref:s.cellRef,style:s.style},n.createElement(ps,{badge:a.isPlayable?n.createElement(ws,{className:"ProviderAvailabilityItem-badge-g4cD5o LiveBadge-badge-ak80zJ"}):null,primaryTitle:Es(a),secondaryTitle:a.isPlayable&&1===a.availabilities.length?a.availabilities[0].channelTitle:void 0,tertiaryTitle:Bs(a,r),thumb:n.createElement(wt.A,{className:Hs,height:Xs,src:m,width:Xs}),onPress:y}),a.isPlayable?null:n.createElement(Vs,{availabilities:a.availabilities,metadataItem:r,modalState:c}),u)}const Ys=function(e){if(!e.item.isPlayable)return n.createElement(_s,Js({},e));const t=e.item.availabilities.reduce((t,a)=>{if(a.playableKey){const i=(0,Ye.A)(a.playableKey);t.push((n=Js({},Ti.A),r={type:e.metadataItem.type===v.QD.Show?v.QD.Episode:e.metadataItem.type,title:a.title,index:a.index,parentIndex:a.parentIndex,Media:a.Media,playableKey:a.playableKey,sourceURI:(0,Ps.A)({serverIdentifier:i.serverIdentifier,providerIdentifier:i.providerIdentifier})},zs(n,Ks(r))))}var n,r;return t},[]);return n.createElement(T.A,{metadataItem:e.metadataItem,playableItems:t},n.createElement(_s,Js({},e)))};var Zs=Object.defineProperty,ec=Object.defineProperties,tc=Object.getOwnPropertyDescriptors,ac=Object.getOwnPropertySymbols,nc=Object.prototype.hasOwnProperty,rc=Object.prototype.propertyIsEnumerable,ic=(e,t,a)=>t in e?Zs(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a,lc=(e,t)=>{for(var a in t||(t={}))nc.call(t,a)&&ic(e,a,t[a]);if(ac)for(var a of ac(t))rc.call(t,a)&&ic(e,a,t[a]);return e},oc=(e,t)=>ec(e,tc(t)),sc=(e,t)=>{var a={};for(var n in e)nc.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&ac)for(var n of ac(e))t.indexOf(n)<0&&rc.call(e,n)&&(a[n]=e[n]);return a};const cc=parseInt(de.A.v4PrePlayAvailabilityThumbSize,10);function mc(e){var t=e,{addToWatchlistModalState:a,item:r,metadataItem:i,isAnonymousUser:l}=t,s=sc(t,["addToWatchlistModalState","item","metadataItem","isAnonymousUser"]);const c=(0,o.wA)(),[m,d]=(0,b.Ss)(),u=(0,ve.A)(s),y=Yo(i),p=(0,Wt.A)(i.sourceURI),v=(0,el.E)(),f=(0,o.d4)(Ho.A),A=(0,n.useMemo)(()=>!r.availability.providerIdentifier||f.includes(r.availability.providerIdentifier),[r.availability.providerIdentifier,f]),g=(0,It.Ay)({width:cc,height:cc,server:m,provider:d,url:r.thumb}),E=Is(r),h=(0,n.useCallback)(()=>{c((0,Eo.oo)({pathname:E,replace:!1}))},[c,E]),I=(0,n.useCallback)(()=>{A?(!l&&fs(r.availability,i,p)&&a.onOpen(),y(r.availability)):v.onOpen()},[A,l,r.availability,i,p,y,v,a]),P=Es(r),S=bs(r);return n.createElement("div",{ref:u.cellRef,style:u.style},n.createElement(ps,{href:A?E:void 0,primaryTitle:P,secondaryTitle:S,target:r.platform!==vs.yy?"_blank":void 0,thumb:n.createElement(wt.A,{className:Hs,height:cc,src:g,width:cc}),onPress:I}),r.availability.providerIdentifier?n.createElement(As.A,{modalState:v,providerIdentifier:r.availability.providerIdentifier,onOptInFinished:h}):null)}const dc=function(e){const t=e,{addToWatchlistModalState:a,item:r,metadataItem:i,isAnonymousUser:l}=t,o=sc(t,["addToWatchlistModalState","item","metadataItem","isAnonymousUser"]);return gs(r)?n.createElement(Ys,oc(lc({},o),{item:r,metadataItem:i})):n.createElement(mc,oc(lc({},o),{addToWatchlistModalState:a,isAnonymousUser:l,item:r,metadataItem:i}))};var uc=a(55212),yc=a(91894);const pc=parseInt(de.A.v4PrePlayAvailabilityThumbSize,10),vc=function(){const[e,t]=(0,b.Ss)(),a=(0,o.d4)((0,yc.A)(e.machineIdentifier)),r=(0,It.Ay)({server:e,width:pc,height:pc,url:a,provider:t});return n.createElement(wt.A,{className:"PrePlayServerAvailabilityThumb-circle-NTjGL9",durationMilliseconds:0,height:pc,src:r,width:pc})};var fc=Object.getOwnPropertySymbols,Ac=Object.prototype.hasOwnProperty,bc=Object.prototype.propertyIsEnumerable;const gc=function(e){var t,a=e,{metadataItem:r}=a,i=((e,t)=>{var a={};for(var n in e)Ac.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&fc)for(var n of fc(e))t.indexOf(n)<0&&bc.call(e,n)&&(a[n]=e[n]);return a})(a,["metadataItem"]);const l=(0,ve.A)(i),[o]=(0,b.Ss)(),s=(0,$e.A)(r,"key"),c=(0,uc.A)(o,null==(t=r.Media)?void 0:t[0]),m=(0,n.useMemo)(()=>{if(r.type===v.QD.Show)switch(r.childCount){case null:return;case 1:return(0,j.A)("{seasonCount} season",{seasonCount:r.childCount});default:return(0,j.A)("{seasonCount} seasons",{seasonCount:r.childCount})}if(c||r.editionTitle)return c&&r.editionTitle?`${c}  ${r.editionTitle}`:c||r.editionTitle},[r,c]);return s?n.createElement("div",{ref:l.cellRef,style:l.style},n.createElement(ps,{href:s,primaryTitle:o.friendlyName,secondaryTitle:m,thumb:n.createElement(vc,null)})):null};var Ec=a(27705),hc=a(75443);function Ic({metadataItem:e,modalState:t}){const[a,r]=(0,b.Ss)(),i=(0,o.wA)(),l=(0,o.d4)(it.A),s=(0,hc.A)(e,Ec.PRE_PLAY),c=(0,n.useCallback)(()=>{i(ln.A.actions.toggleWatchlistRequested({server:a,provider:r,stableUser:l,sourceURI:e.sourceURI,ratingKey:e.ratingKey,added:!0})),s(!0),t.onClose()},[i,e.ratingKey,e.sourceURI,t,r,a,l,s]);return n.createElement(Rs.aF,{isOpen:t.isOpen,onOpenChange:t.onOpenChange},n.createElement(Rs.$m,{closeButtonAccessibilityLabel:(0,j.A)("Close"),size:"s",title:(0,j.A)("Add {title} To Your Watchlist?",{title:e.title}),onClose:t.onClose},n.createElement(Rs.cw,null,n.createElement(We.BJ,{gap:"m"},n.createElement(wa.E,null,(0,j.A)("By adding a title to your Watchlist you can quickly access it anytime.")),n.createElement(wa.E,null,(0,j.A)("You can also easily remove items from your Watchlist on the details page or via the context menu on the poster in content rows.")))),n.createElement(Rs.jl,null,n.createElement(Rs.Xd,null,n.createElement(so.$n,{label:(0,j.A)("No thanks"),onPress:t.onClose}),n.createElement(so.$n,{color:"accent",label:(0,j.A)("Add to Watchlist"),onPress:c})))))}var Pc=a(63565),Sc=a(40442),wc=a(88310);function Oc({item:e,metadataItem:t}){var a,r;if(!gs(e))return n.createElement(We.BJ,{align:"right",shrink:!1},null==(a=bs(e))?void 0:a.map((e,t)=>n.createElement(wa.E,{key:t,font:"body-3"},e)));let i;if(!e.isPlayable||e.availabilities.length>1)i=n.createElement(wa.E,{font:"body-3"},Bs(e,t));else{const t=e.availabilities[0],{beginsAt:a,endsAt:l}=null!=(r=(0,Mn.A)(t.Media))?r:{},o=Math.floor(Date.now()/1e3),s=a&&l&&o>=a&&o<l;i=n.createElement(n.Fragment,null,s?n.createElement(ws,{className:"ProviderMetadataAvailabilitiesModal-badge-n2L9BS LiveBadge-badge-ak80zJ"}):null,n.createElement(wa.E,{font:"body-3"},t.channelTitle),n.createElement(wa.E,{font:"body-3"},(0,Cs.A)({seasonIndex:t.parentIndex,episodeIndex:t.index,noLeadingZero:!0,separator:"  ",includeSpecials:!0})))}return n.createElement(We.BJ,{align:"right",gap:"xxs",shrink:!1},i)}function Rc({modalState:e,metadataItem:t,availabilities:a}){const i=(0,o.wA)(),l=(0,el.E)(),s=(0,el.E)(),c=(0,el.E)(),m=Yo(t),d=(0,Wt.A)(t.sourceURI),u=(0,o.d4)(M.A),y=(0,o.d4)(Ho.A),[p,v]=(0,n.useState)(),A=(0,n.useMemo)(()=>{var e;const t=gs(p)?null==(e=null==p?void 0:p.availabilities[0])?void 0:e.playableKey:null==p?void 0:p.availability.playableKey;return t?(0,Ye.A)(t):{serverIdentifier:"",providerIdentifier:""}},[p]),b=!!A.providerIdentifier.length&&y.includes(A.providerIdentifier),E=(0,o.d4)((0,g.A)(A.serverIdentifier)),h=(0,o.d4)((0,f.A)(A.serverIdentifier,A.providerIdentifier)),I=(0,n.useMemo)(()=>function(e){const t={title:"Available to Stream",items:[]},a={title:"Buy / Rent",items:[]};return e.forEach(e=>{gs(e)||e.availability.offerType===vs.cX.Free||e.availability.offerType===vs.cX.Subscription?t.items.push(e):a.items.push(e)}),[t,a]}(a),[a]),P=(0,n.useMemo)(()=>{if(p)return Is(p)},[p]),S=(0,n.useCallback)(()=>{var e;if(!p||!P)return;const t=gs(p)?null==(e=p.availabilities[0])?void 0:e.Media:p.availability.Media;(null==t?void 0:t.length)?i(tl.gC({serverEntityID:E.entityID,providerEntityID:h.entityID,metricsPage:r.Xt,options:{type:rl.G_,identifier:t[0].channelIdentifier}})):i((0,Eo.oo)({pathname:P,replace:!1}))},[i,p,h.entityID,E.entityID,P]),w=(0,n.useCallback)(()=>{s.onOpen()},[s]);return(0,n.useEffect)(()=>{c.isOpen||v(void 0)},[c.isOpen]),(0,n.useEffect)(()=>{var a;if(!p)return;let n;if(p.platform===vs.yy&&!b)return void c.onOpen();const o=Is(p),s=gs(p)?p.availabilities[0]:p;return m(s),p.platform===vs.yy?(null==(a=s.Media)?void 0:a.length)?i(tl.gC({serverEntityID:E.entityID,providerEntityID:h.entityID,metricsPage:r.Xt,options:{type:rl.G_,identifier:s.Media[0].channelIdentifier}})):i((0,Eo.oo)({pathname:o})):n=window.setTimeout(()=>{e.onClose(),window.open(o,"_blank","noopener,noreferrer"),v(void 0),!u.anonymous&&fs(s,t,d)&&l.onOpen()},0),()=>{n&&window.clearTimeout(n)}},[p]),n.createElement(n.Fragment,null,p?null:n.createElement(Rs.aF,{isOpen:e.isOpen,onOpenChange:e.onOpenChange},n.createElement(Rs.$m,{closeButtonAccessibilityLabel:(0,j.A)("Close Availabilities modal"),title:t.title},n.createElement(Rs.$8,null,I.map(({title:e,items:a},r)=>a.length>0?n.createElement(n.Fragment,{key:r},n.createElement("div",{className:"ProviderMetadataAvailabilitiesModal-sectionTitle-EB0bHL"},n.createElement(wa.E,null,e)),a.filter(e=>!gs(e)||e.isPlayable).map((e,a)=>n.createElement("div",{key:a,className:"ProviderMetadataAvailabilitiesModal-availabilityContainer-iPr_4x"},n.createElement(Rs.Ud,{item:e,onChooseItem:v},n.createElement("div",{className:"ProviderMetadataAvailabilitiesModal-availabilityItemContent-bdwXeu"},n.createElement(We.BJ,{align:"space-between",orientation:"horizontal",verticalAlign:"center"},n.createElement(We.BJ,{key:a,gap:"s",grow:!0,orientation:"horizontal",verticalAlign:"center"},n.createElement(wt.A,{className:"ProviderMetadataAvailabilitiesModal-platformThumb-KuaxL4",height:50,src:e.thumb,width:50}),n.createElement(wa.E,{color:"primary",numberOfLines:2},Es(e))),n.createElement(Oc,{item:e,metadataItem:t}))))))):null)),n.createElement(Rs.jl,null,n.createElement(Sc.M,{leftButton:n.createElement(so.K0,{icon:Pc.default,label:(0,j.A)("Choose your preferred services"),transparent:!0,onPress:w}),primaryButton:n.createElement(Rs.s_,null,n.createElement(so.$n,{color:"accent",label:(0,j.A)("Done")}))})))),u.anonymous?null:n.createElement(Ic,{metadataItem:t,modalState:l}),n.createElement(wc.A,{isOpen:s.isOpen,onClose:s.onClose}),A.providerIdentifier.length?n.createElement(As.A,{modalState:c,providerIdentifier:A.providerIdentifier,onOptInFinished:S}):null)}var Cc=a(13055),Mc=a(26235),Tc=a(77459);const Dc=parseInt(de.A.v4PagePadding,10);function kc(){return(0,Tc.A)({columnWidth:parseInt(de.A.v4PrePlayAvailabilityWidth,10),rowHeight:parseInt(de.A.v4PrePlayAvailabilityHeight,10),innerHorizontalPadding:parseInt(de.A.v4PrePlayAvailabilityGap,10),outerPaddingLeft:Dc,outerPaddingRight:Dc})}var xc=a(14200),Lc=a(97741),jc=a(68635);const Nc="PrePlayAvailabilityList-hub-lEPTuG VirtualHubScroller-hub-EpgwMo",Fc="PrePlayAvailabilityList-hubHeader-Byc4ks VirtualHubScroller-hubHeader-vSW06t";var Uc=Object.defineProperty,Vc=Object.defineProperties,Bc=Object.getOwnPropertyDescriptors,Hc=Object.getOwnPropertySymbols,Wc=Object.prototype.hasOwnProperty,zc=Object.prototype.propertyIsEnumerable,Kc=(e,t,a)=>t in e?Uc(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a,Qc=(e,t)=>{for(var a in t||(t={}))Wc.call(t,a)&&Kc(e,a,t[a]);if(Hc)for(var a of Hc(t))zc.call(t,a)&&Kc(e,a,t[a]);return e},qc=(e,t)=>Vc(e,Bc(t)),$c=(e,t)=>{var a={};for(var n in e)Wc.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&Hc)for(var n of Hc(e))t.indexOf(n)<0&&zc.call(e,n)&&(a[n]=e[n]);return a};const Gc=kc();function Jc(e){var t=e,{title:a,onPress:r}=t,i=$c(t,["title","onPress"]);const l=(0,ve.A)(i);return n.createElement("div",{ref:l.cellRef,style:l.style},n.createElement(Xc,{title:a,onPress:r}))}function Xc({className:e="PrePlayAvailabilityList-moreItemContainer-BAkOYq",title:t,onPress:a}){return n.createElement("div",{className:e},n.createElement(ps,{secondaryTitle:t,thumb:n.createElement("span",{className:"PrePlayAvailabilityList-iconPlaylist-xoEK8T"},n.createElement(Vo.default,{color:"inherit"})),onPress:a}))}function _c(e){var t=$c(e,[]);const a=(0,ve.A)(t),{cellIndex:r}=t;return n.createElement(zt.A,{className:"PrePlayAvailabilityList-placeholderCell-Hy0NXK ListRowPlaceholder-placeholder-g75gnX",index:r,style:a.style})}function Yc({metadataItem:e}){const t=(0,o.wA)(),a=(0,vl.A)(il.v.IncludeAvailabilities),r=(0,el.E)(),i=(0,el.E)(),[s,c]=(0,b.Ss)(),m=(0,o.d4)((0,on.A)(Ia.OB,Ia.uc(c.identifier))),d=(0,o.d4)(M.A),{availabilities:u,isPending:y,isPopulated:p,error:v}=(0,o.d4)((0,Cc.A)(m,e.sourceURI)),f=(0,o.d4)(Ho.A),{services:A,isPopulated:g,isPending:E,error:h}=(0,o.d4)((0,Mc.A)(m)),I=(0,n.useMemo)(()=>{return u.providerAvailabilities.filter(e=>!(e.availability.includeIfPreferred&&!A.includes(e.platform)||e.platform!==vs.yy&&!a||e.platform===vs.yy&&e.availability.playableKey&&!f.includes((0,Ye.A)(e.availability.playableKey).providerIdentifier)&&!d.isFullUser)).sort((e=A,function(t,a){if(t.availability.Media&&a.availability.Media)return(0,xc.A)(t.availability.Media,a.availability.Media);if(t.availability.platform===vs.yy&&a.availability.platform===vs.yy){if(t.availability.Media)return 1;if(a.availability.Media)return-1}else{if(a.availability.platform===vs.yy)return 1;if(t.availability.platform===vs.yy)return-1}if(t.availability.platform===a.availability.platform){if((0,Lc.A)(t.availability))return 1;if((0,Lc.A)(a.availability))return-1}const n=e.includes(a.availability.platform)?-1:1,r=e.includes(t.availability.platform)?-1:1;return r<n?-1:r>n?1:0})).reduce((e,t)=>{if(t.availability.Media){if(t.availability.Media[0].onAir){const a=e.find(e=>gs(e)&&e.isPlayable);a?a.availabilities.push(t.availability):e.push({type:vs.Am.Provider,title:t.title,platform:t.platform,thumb:t.thumb,availabilities:[t.availability],isPlayable:!0})}else if(t.availability.Media){const a=e.find(e=>gs(e)&&!e.isPlayable);a?a.availabilities.push(t.availability):e.push({type:vs.Am.Provider,title:t.title,platform:t.platform,thumb:t.thumb,availabilities:[t.availability],isPlayable:!1})}}else e.push(t);return e},[]);var e},[u.providerAvailabilities,A,a,f,d.isFullUser]),P=(0,n.useMemo)(()=>{const e=Ia.uc(c.identifier),t=e!==Ia.p8.Production?`-${e}`:"";return I.filter(e=>gs(e)||e.availability.Media?f.includes(`${Ia.px}${t}`):e.platform===vs.yy?f.includes(`${Ia.IU}${t}`):A.includes(e.platform))},[I,c.identifier,A,f]),S=(0,n.useMemo)(()=>(A.length?P:I).slice(0,3),[I,P,A.length]),w=(0,n.useMemo)(()=>I.filter(e=>!S.includes(e)),[I,S]),O=(0,n.useMemo)(()=>{const e=[...u.serverAvailabilities,...S];if(w.length){const t=w.length,a=1===t;((null==A?void 0:A.length)?a&&P.length===I.length:a)?e.push(I[3]):0===e.length?e.push({type:vs.Am.More,title:t>1?(0,j.A)("Available on {count} other services",{count:t}):(0,j.A)("Available on 1 other service")}):e.push({type:vs.Am.More,title:(0,j.A)("+ {count} more",{count:t})})}return e},[I,u.serverAvailabilities,w.length,P.length,S,null==A?void 0:A.length]);(0,n.useEffect)(()=>{!m||!a||E||g||h||t(jc.Ay.actions.preferredServicesFetchRequested({server:s,provider:m}))},[t,E,g,h,m,s,a]),(0,n.useEffect)(()=>{!m||a&&!g||y||p||v||t(jc.Ay.actions.metadataItemAvailabilitiesFetchRequested({server:s,provider:m,metadataItem:e}))},[t,v,y,p,g,e,m,s,a]),(0,n.useEffect)(()=>()=>{m&&(null==e?void 0:e.sourceURI)&&t(jc.Ay.actions.metadataItemAvailabilitiesReset({provider:m,sourceURI:e.sourceURI}))},[]);const R=(0,n.useCallback)(()=>{r.onOpen()},[r]),C=(0,n.useCallback)(t=>{if(!t.item)return n.createElement(_c,Qc({},t));if((a=t.item)&&a.type===vs.Am.More)return n.createElement(Jc,qc(Qc({},t),{title:t.item.title,onPress:R}));var a;if(function(e){return!!e&&e.type===vs.Am.Server}(t.item)){const e=(0,Ye.A)(t.item.availability.source);return n.createElement(l.Ay,{column:t.cellIndex},n.createElement(b.Ay,{key:t.key,machineIdentifier:e.serverIdentifier,providerIdentifier:e.providerIdentifier},n.createElement(gc,qc(Qc({},t),{metadataItem:t.item.availability}))))}return n.createElement(dc,qc(Qc({},t),{addToWatchlistModalState:i,isAnonymousUser:d.anonymous,item:t.item,metadataItem:e}))},[i,e,R,d.anonymous]),T=(0,n.useMemo)(()=>y?new Array(6):O,[y,O]),D=(0,n.useMemo)(()=>(0,Bo.A)({items:T,title:s.isCloud?(0,j.A)("Watch from these locations"):(0,j.A)("More Ways to Watch"),type:re.A.Availability,context:`hub.${e.type}.moreWaysToWatch`}),[T,e.type,s.isCloud]);return!e.isUnreleased||p&&T.length?p&&!T.length?n.createElement("div",{className:Nc},n.createElement("div",{className:Fc},n.createElement(ge.A,null,D.title)),n.createElement("div",{className:"PrePlayAvailabilityList-zeroStateContainer-JdTuhU"},n.createElement(wa.E,{color:"muted",font:"inherit"},(0,j.A)("There are no locations currently available for this title.")))):n.createElement(n.Fragment,null,1===T.length&&T[0].type===vs.Am.More?n.createElement("div",{className:Nc},n.createElement("div",{className:Fc},n.createElement(ge.A,null,D.title)),n.createElement("div",{className:"PrePlayAvailabilityList-noSelectedServicesContainer-Yjn3ki"},n.createElement(Xc,{className:"PrePlayAvailabilityList-noSelectedServicesMoreItemContainer-qBKfnd",title:T[0].title,onPress:R}),n.createElement(We.BJ,{grow:!0,orientation:"horizontal",width:"100%"},n.createElement("div",{className:"PrePlayAvailabilityList-noSelectedServicesTextContainer-k87pYu"},n.createElement(wa.E,{color:"muted",font:"inherit"},(0,j.A)("This item is not available on any of your selected services")))))):n.createElement(l.Ay,{name:D.context},n.createElement(ni.A,{cellComponentFactory:C,className:Nc,hub:D,items:T,layout:Gc,totalSize:T.length})),d.anonymous?null:n.createElement(Ic,{metadataItem:e,modalState:i}),n.createElement(Rc,{availabilities:w,metadataItem:e,modalState:r})):null}var Zc=a(31576),em=a(41218),tm=a(89582),am=a(961),nm=a(27728),rm=a(89267);const im=(0,yn.Mz)(rm.A,e=>e.activity.staleReactions),lm=im;var om=a(83348),sm=a(48397),cm=a(83),mm=a(91529),dm=a(72005),um=a(58383),ym=a(27799);const pm=`\n    query getRatingsAndReviewsHubData($metadataID: ID!, $skipUserState: Boolean = false) {\n  userReview: metadataReviewV2(\n    metadata: {id: $metadataID}\n    ignoreFutureMetadata: true\n  ) {\n    ... on ActivityRating {\n      ...ActivityRatingFragment\n    }\n    ... on ActivityWatchRating {\n      ...ActivityWatchRatingFragment\n    }\n    ... on ActivityReview {\n      ...ActivityReviewFragment\n    }\n    ... on ActivityWatchReview {\n      ...ActivityWatchReviewFragment\n    }\n  }\n  friendReviews: metadataReviewsV2(\n    metadata: {id: $metadataID}\n    type: FRIENDS\n    first: 25\n    after: null\n    last: null\n    before: null\n  ) {\n    nodes {\n      ... on ActivityRating {\n        ...ActivityRatingFragment\n      }\n      ... on ActivityReview {\n        ...ActivityReviewFragment\n      }\n      ... on ActivityWatchRating {\n        ...ActivityWatchRatingFragment\n      }\n      ... on ActivityWatchReview {\n        ...ActivityWatchReviewFragment\n      }\n    }\n  }\n  topReviews: metadataReviewsV2(\n    metadata: {id: $metadataID}\n    type: TOP\n    first: 25\n    after: null\n    last: null\n    before: null\n  ) {\n    nodes {\n      ... on ActivityRating {\n        ...ActivityRatingFragment\n      }\n      ... on ActivityReview {\n        ...ActivityReviewFragment\n      }\n      ... on ActivityWatchRating {\n        ...ActivityWatchRatingFragment\n      }\n      ... on ActivityWatchReview {\n        ...ActivityWatchReviewFragment\n      }\n    }\n  }\n}\n    ${Ao.f9}\n${Ao.MO}\n${jo.RV}\n${jo.sI}\n${Ao.Yf}\n${Ao.Mw}\n${Ao.hB}`,vm=ym.F.injectEndpoints({endpoints:e=>({getRatingsAndReviewsHubData:e.query({query:e=>({document:pm,variables:e})})})}),{useGetRatingsAndReviewsHubDataQuery:fm,useLazyGetRatingsAndReviewsHubDataQuery:Am}=vm;var bm=Object.defineProperty,gm=Object.defineProperties,Em=Object.getOwnPropertyDescriptors,hm=Object.getOwnPropertySymbols,Im=Object.prototype.hasOwnProperty,Pm=Object.prototype.propertyIsEnumerable,Sm=(e,t,a)=>t in e?bm(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a,wm=(e,t)=>{for(var a in t||(t={}))Im.call(t,a)&&Sm(e,a,t[a]);if(hm)for(var a of hm(t))Pm.call(t,a)&&Sm(e,a,t[a]);return e},Om=(e,t)=>gm(e,Em(t));function Rm(e){return!!e&&("tag"in e||"tagKey"in e)}function Cm({metadataItem:e}){var t,a,i,l,s;const[c,m]=(0,b.Ss)(),d=(0,Io.A)(),{Review:u}=e,y=(0,o.d4)(lm),p=(0,n.useMemo)(()=>{var t;return null!=(t=(0,no.A)(e.guid))?t:""},[e.guid]),{setting:v,isPending:f}=(0,mm.A)(),{data:A,isLoading:g,isSuccess:E,refetch:h}=fm({metadataID:p},{refetchOnMountOrArgChange:!0}),I=(0,n.useMemo)(()=>{var e,t,a,n;if(g||f)return new Array(25).fill(null);if(E){const r=[...null!=(t=null==(e=null==A?void 0:A.friendReviews)?void 0:e.nodes)?t:[]];(null==A?void 0:A.userReview)&&r.unshift(null==A?void 0:A.userReview);const i=[...null!=(n=null==(a=null==A?void 0:A.topReviews)?void 0:a.nodes)?n:[]],l=v!==Zc.Fg.Users?[...null!=u?u:[]]:[],o=function(e){const[t,a,n]=e,r=[],i=(e,...t)=>{for(const a of t){for(;r.length<e&&a.length>0;){const e=a.shift();e&&r.push(e)}if(r.length>=e)break}};return i(10,t),i(15,a),i(15,t),i(25,n),i(25,t,a),r.filter(Boolean)}([r,i,l]);return r.length+i.length+l.length>25?[...o,{tagKey:am.R}]:o}return null!=u?u:[]},[u,f,g,E,v,null==(t=null==A?void 0:A.friendReviews)?void 0:t.nodes,null==(a=null==A?void 0:A.topReviews)?void 0:a.nodes,null==A?void 0:A.userReview]),P=(0,n.useMemo)(()=>(0,Bo.A)({items:I}),[I]),S=(0,n.useMemo)(nm.A,[]),w=(0,n.useCallback)(()=>{d({action:ho.qY,page:r.Xt,pane:tm.pc})},[d]);(0,n.useEffect)(()=>{var e,t,a,n,r;const i=[null==(e=null==A?void 0:A.userReview)?void 0:e.id,...(null!=(a=null==(t=null==A?void 0:A.friendReviews)?void 0:t.nodes)?a:[]).map(e=>e.id),...(null!=(r=null==(n=null==A?void 0:A.topReviews)?void 0:n.nodes)?r:[]).map(e=>e.id)];y.find(e=>i.includes(e))&&h()},[null==(i=null==A?void 0:A.userReview)?void 0:i.id,null==(l=null==A?void 0:A.friendReviews)?void 0:l.nodes,null==(s=null==A?void 0:A.topReviews)?void 0:s.nodes,y,h]);const O=(0,n.useCallback)(t=>t.item?Rm(t.item)&&t.item.tagKey===am.R?n.createElement(am.A,Om(wm({},t),{href:(0,um.A)(c.machineIdentifier,m.identifier,{key:e.key}),onPress:w})):!Rm(t.item)&&(0,dm.A)(t.item)?n.createElement(cm.A,Om(wm({},t),{item:t.item})):n.createElement(sm.A,Om(wm({},t),{item:t.item})):n.createElement(Mm,wm({},t)),[e.key,w,m.identifier,c.machineIdentifier]);return n.createElement(om.Ay,{onEditSuccess:h,onRemoveSuccess:h},n.createElement(ni.A,{cellComponentFactory:O,hub:P,hubTitleComponent:Tm,items:I,layout:S,totalSize:I.length}))}function Mm(e){var t=((e,t)=>{var a={};for(var n in e)Im.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&hm)for(var n of hm(e))t.indexOf(n)<0&&Pm.call(e,n)&&(a[n]=e[n]);return a})(e,[]);const a=(0,ve.A)(t),{cellIndex:r}=t;return n.createElement(zt.A,{index:r,style:wm({},a.style)})}function Tm(){const[e,t]=(0,b.Ss)(),a=(0,Io.A)(),i=(0,o.d4)(kl.A),l=(0,n.useCallback)(()=>{a({action:ho.qY,page:r.Xt,pane:tm.pc})},[a]),s=i?(0,um.A)(e.machineIdentifier,t.identifier,{key:i.key}):void 0;return n.createElement(ge.A,{href:s,onPress:l},(0,j.A)("Ratings & Reviews"))}const Dm=function({metadataItem:e}){const t=(0,xo.o)(qa.p6),{setting:a,isPending:r}=(0,mm.A)();return t&&(r||a===Zc.Fg.None)?null:t&&a!==Zc.Fg.Critics?n.createElement(Cm,{metadataItem:e}):n.createElement(em.A,{metadataItem:e})};var km=a(55507);function xm({metadataItem:e,onScrollPositionReady:t}){const[a]=(0,b.Ss)(),{audienceRating:r,contentRating:i,duration:l,originallyAvailableAt:o,rating:s,summary:c}=e,m=(0,$e.A)(e,"grandparentKey"),d=(0,$e.A)(e,"parentKey"),u=(0,Ji.A)({useLongName:!0,episodeIndex:e.index,date:e.originallyAvailableAt,noLeadingZero:!0}),y=_l(e),p=(0,Wt.A)(null==e?void 0:e.sourceURI),v=ka(e,"Director",2),f=ka(e,"Writer",2),A=(0,Zl.A)(e,p),g=(0,km.A)(e),E=cn(e),h=!!v||!!f,I=(0,vl.A)(il.v.IncludeDiscoverSource),P=(0,Yl.A)(e);return n.createElement(n.Fragment,null,n.createElement(ae,{buttonBar:n.createElement(Qe.A,{isChromaMetadata:!0,metadataItem:e,promotedActions:["isPlayVisible","isAddToWatchlistVisible","isRemoveFromWatchlistVisible","isMarkPlayedVisible","isMarkUnplayedVisible","isSyncDownloadVisible","isEditVisible","isShareVisible"]}),facts:[d?n.createElement(qe.N,{key:"parentTitle",color:"inherit",font:"inherit",href:d},e.parentTitle):e.parentTitle,u,A,g?n.createElement(wa.E,{color:"accent",font:"inherit"},g):void 0],genres:[o?(0,Xl.A)(o):void 0,l?(0,V.A)(l):void 0,i?(0,B.A)(i):void 0],metadataItem:e,poster:n.createElement(Xe.A,{isChromaMetadata:!0,metadataItem:e}),ratings:[s||r?n.createElement(H.A,{metadataItem:e}):null],showAttributionLogo:!0,socialProof:y?n.createElement(Fo,{metadataItem:e}):null,starRating:n.createElement(go,{metadataItem:e}),subtitle:(0,_e.A)(e),summary:c,title:m?n.createElement(qe.N,{color:"inherit",font:"inherit",href:m},e.grandparentTitle):e.grandparentTitle},h||E?n.createElement(Uo,null,h?n.createElement(Ke,null,v?n.createElement(U.nT,{key:"directorTags",label:(0,j.A)("Directed by")},v):null,f?n.createElement(U.nT,{key:"writerTags",label:(0,j.A)("Written by")},f):null):null,E):null),(0,eo.A)(e)?n.createElement(Yc,{metadataItem:e}):null,n.createElement($l,{metadataItem:e}),n.createElement(Dm,{metadataItem:e}),n.createElement(Ea,{metadataItem:e}),a.isCloud||!I||P||e.Channel||!(0,to.A)(e.guid)?null:n.createElement(Yc,{metadataItem:e}),n.createElement(Sa,{metadataItem:e,onScrollPositionReady:t}))}var Lm=a(32962),jm=a(44018),Nm=a(68800);function Fm({editionTitle:e}){return e?[n.createElement(Lm.E,{key:"editionTitleBadge",accessibilityLabel:(0,j.A)("Edition {editionTitle}",{editionTitle:e}),label:e})]:[]}function Um({metadataItem:e,onScrollPositionReady:t}){const[a]=(0,b.Ss)(),{audienceRating:r,contentRating:i,isUnreleased:l,rating:o,summary:s,year:c}=e,m=(0,km.A)(e),d=_l(e),u=ka(e,"Genre"),y=ka(e,"Director",3),p=cn(e),v=function(e){const t=(0,Wt.A)(e.sourceURI);return(null==t?void 0:t.playableUntil)&&(0,Xa.A)(e,t)?n.createElement(Lm.E,{color:"accent",label:(0,Nm.A)(t.playableUntil)}):null}(e),f=function(e){return(0,Wt.A)(e.sourceURI).purchased?n.createElement(Lm.E,{color:"accent",label:(0,j.A)("Purchased")}):null}(e),A=(0,vl.A)(il.v.IncludeDiscoverSource),g=(0,Yl.A)(e);return n.createElement(n.Fragment,null,n.createElement(ae,{badges:Fm(e),buttonBar:n.createElement(Qe.A,{isChromaMetadata:!0,metadataItem:e,promotedActions:["isPlayVisible","isBuyRentVisible","isBuyVisible","isRentVisible","isAddToWatchlistVisible","isRemoveFromWatchlistVisible","isPlayTrailerVisible","isMarkPlayedVisible","isMarkUnplayedVisible","isSyncDownloadVisible","isEditVisible","isShareVisible"]}),facts:[m?n.createElement(wa.E,{color:"accent",font:"inherit"},m):void 0,!l&&c?c:void 0,Pi(e),i?(0,B.A)(i):void 0,v,f],genres:u,metadataItem:e,poster:n.createElement(Xe.A,{isChromaMetadata:!0,metadataItem:e}),ratings:[o||r?n.createElement(H.A,{key:"criticRating",metadataItem:e}):null],showAttributionLogo:!0,socialProof:d?n.createElement(Fo,{metadataItem:e}):null,starRating:n.createElement(go,{metadataItem:e}),subtitle:y?n.createElement(wa.E,{as:"div",color:"muted",font:"body-3"},n.createElement(jm.A,{message:(0,j.A)("Directed by {director}"),tags:[{unpaired:"director",children:y}]})):null,summary:s,title:(0,_e.A)(e)},p?n.createElement(Uo,null,p):null),(0,eo.A)(e)?n.createElement(Yc,{metadataItem:e}):null,n.createElement($l,{metadataItem:e}),n.createElement(Dm,{metadataItem:e}),n.createElement(di,null),n.createElement(Ea,{metadataItem:e}),a.isCloud||!A||g||e.Channel||!(0,to.A)(e.guid)?null:n.createElement(Yc,{metadataItem:e}),n.createElement(Sa,{metadataItem:e,onScrollPositionReady:t}))}var Vm=a(79823),Bm=a(87311),Hm=a(66296),Wm=a(11972),zm=a(54499),Km=a(13574),Qm=a(51721);function qm(e,t){const a=e,n=t||Date.now(),r=(0,Qm.A)(n,a);if(1===r)return(0,j.A)("{ageInYears} year",{ageInYears:r});if(r>1)return(0,j.A)("{ageInYears} years",{ageInYears:r});const i=(0,Km.A)(n,a);if(1===i)return(0,j.A)("{ageInMonths} month",{ageInMonths:i});if(i>1)return(0,j.A)("{ageInMonths} months",{ageInMonths:i});const l=(0,zm.A)(n,a);return 1===l?(0,j.A)("{ageInDays} day",{ageInDays:l}):(0,j.A)("{ageInDays} days",{ageInDays:l})}var $m=a(57802),Gm=a(43034),Jm=a(72379),Xm=a(78880);const _m=(0,yn.Mz)(ce.A,e=>e.credits.groups.reduce((e,t)=>(t.credits.forEach(t=>{(0,Xm.jH)(t)&&(e.find(e=>e.type===t.item.type&&e.ratingKey===t.item.ratingKey)||e.push(t.item))}),e),[]).sort((e,t)=>{let a=e.year||0,n=t.year||0;return!a&&e.originallyAvailableAt&&(a=(0,Jm.A)(new Date(e.originallyAvailableAt))),!n&&t.originallyAvailableAt&&(n=(0,Jm.A)(new Date(t.originallyAvailableAt))),n-a}));function Ym(){const e=(0,o.wA)(),{credits:{isPopulated:t,error:a},creditSources:{sourcesByGUID:r,isPending:i,isPopulated:l,error:s}}=(0,o.d4)(ce.A),c=(0,o.d4)(_m),m=(0,n.useMemo)(()=>c.map(Gm.A).filter(e=>!(e in r)),[c,r]);return(0,n.useEffect)(()=>{!m.length||!t||a||i||l||s||e(Aa.A.actions.creditSourcesFetchRequested({guids:m}))},[s,a,e,m,i,l,t]),t&&l?c.filter(e=>(0,Gm.A)(e)in r):[]}var Zm=a(41731),ed=Object.defineProperty,td=Object.defineProperties,ad=Object.getOwnPropertyDescriptors,nd=Object.getOwnPropertySymbols,rd=Object.prototype.hasOwnProperty,id=Object.prototype.propertyIsEnumerable,ld=(e,t,a)=>t in e?ed(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a,od=(e,t)=>{for(var a in t||(t={}))rd.call(t,a)&&ld(e,a,t[a]);if(nd)for(var a of nd(t))id.call(t,a)&&ld(e,a,t[a]);return e},sd=(e,t)=>{var a={};for(var n in e)rd.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&nd)for(var n of nd(e))t.indexOf(n)<0&&id.call(e,n)&&(a[n]=e[n]);return a};function cd(e){var t=sd(e,[]);const a=(0,ve.A)(t),{cellIndex:r}=t,i=(0,n.useMemo)(()=>(0,Et.A)({width:t.cellWidth,aspectRatio:gt.Yc}),[t.cellWidth]);return n.createElement(zt.A,{index:r,style:od(od({},a.style),i)})}function md({metadataItem:e,onScrollPositionReady:t}){const[a,r]=(0,b.Ss)(),i=(0,o.wA)(),{credits:{isPending:l,isPopulated:s,error:c},creditSources:{sourcesByGUID:m,isPending:d,isPopulated:u,error:y}}=(0,o.d4)(ce.A),p=(0,o.d4)(xn.A),v=Ym(),f=(0,n.useMemo)(()=>l||d?new Array(6):v.reduce((t,a)=>{const n=(0,Gm.A)(a),r=(n?m[n]:null)||[],i=(0,Zm.A)(e,r);return i.length&&t.push(i),t},[]),[v,d,l,e,m]);(0,n.useEffect)(()=>{l||s||c||i(Aa.A.actions.creditsFetchRequested({server:a,provider:r,metadataKey:e.key}))},[c,i,l,s,e.key,r,a]),(0,n.useEffect)(()=>{(u||y)&&t()},[y,u,t]);const A=(0,n.useCallback)(e=>{var t,a,r=e,{item:i}=r,l=sd(r,["item"]);return i?n.createElement(Dn.A,(t=od({},l),a={item:i[0]},td(t,ad(a)))):n.createElement(cd,od({},l))},[]),g=(0,n.useMemo)(()=>(0,Bo.A)({items:f,title:(0,j.A)("Movies & Shows in Media Libraries")}),[f]),E=(0,n.useMemo)(()=>(0,ai.A)({columnWidth:p,listType:re.A.Mixed}),[p]);return c||y||s&&u&&0===v.length?null:n.createElement(k.Ay,{containerProvider:r,containerServer:a,containerSourceURI:e.sourceURI,containerType:re.A.Mixed,listStyle:re.T.CreditSource},n.createElement(ni.A,{cellComponentFactory:A,hub:g,items:f,layout:E,totalSize:f.length}))}var dd=a(50014),ud=a.n(dd);function yd(e,t){return t.filter(t=>(null==t?void 0:t.tagKey)===e.ratingKey||t.tag===e.title)}var pd=a(82405),vd=a(29264);var fd=Object.defineProperty,Ad=Object.defineProperties,bd=Object.getOwnPropertyDescriptors,gd=Object.getOwnPropertySymbols,Ed=Object.prototype.hasOwnProperty,hd=Object.prototype.propertyIsEnumerable,Id=(e,t,a)=>t in e?fd(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a,Pd=(e,t)=>{for(var a in t||(t={}))Ed.call(t,a)&&Id(e,a,t[a]);if(gd)for(var a of gd(t))hd.call(t,a)&&Id(e,a,t[a]);return e},Sd=(e,t)=>{var a={};for(var n in e)Ed.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&gd)for(var n of gd(e))t.indexOf(n)<0&&hd.call(e,n)&&(a[n]=e[n]);return a};const wd=kc();function Od(e){var t=e,{person:a,item:r}=t,i=Sd(t,["person","item"]);const[l,o]=(0,b.Ss)(),s=(0,ve.A)(i),c=(0,n.useMemo)(()=>{const e=yd(a,(null==r?void 0:r.tags)||[]);return(0,vd.A)(l,o,e,String(null==r?void 0:r.librarySectionID))},[null==r?void 0:r.librarySectionID,null==r?void 0:r.tags,a,o,l]);return n.createElement("div",{ref:s.cellRef,style:s.style},n.createElement(ps,{href:c,primaryTitle:l.friendlyName,secondaryTitle:null==r?void 0:r.librarySectionTitle,thumb:n.createElement(vc,null)}))}function Rd(e){var t=Sd(e,[]);const a=(0,ve.A)(t),{cellIndex:r}=t;return n.createElement(zt.A,{className:"PrePlayPersonMediaLibrariesHub-placeholderCell-QgGwce ListRowPlaceholder-placeholder-g75gnX",index:r,style:a.style})}function Cd({metadataItem:e,onScrollPositionReady:t}){const[a,r]=(0,b.Ss)(),i=Ym(),{credits:{isPending:l,isPopulated:s,error:c},creditSources:{sourcesByGUID:m,isPending:d,isPopulated:u,error:y}}=(0,o.d4)(ce.A),p=(0,o.d4)(pd.A),v=(0,n.useMemo)(()=>l||d?new Array(6):i.map(Gm.A).flatMap(e=>m[e]).filter(Boolean).reduce((t,a)=>{const n=(0,Ye.A)(a.source),r=function(e,t){return yd(e,[...t.Director||[],...t.Producer||[],...t.Role||[],...t.Writer||[]])}(e,a);if(!(a.librarySectionID&&a.librarySectionTitle&&n.isServer&&r.length))return t;const i=t.find(e=>e.librarySectionID===a.librarySectionID&&e.source===a.source);return i?i.tags=ud()([...i.tags,...r],"filter"):t.push({source:a.source,librarySectionID:a.librarySectionID,librarySectionTitle:a.librarySectionTitle,tags:r}),t},[]).sort(function(e){return(t,a)=>{var n;const r=e.find(e=>e.machineIdentifier===(0,Ye.A)(t.source).serverIdentifier),i=e.find(e=>e.machineIdentifier===(0,Ye.A)(a.source).serverIdentifier);return r&&i?r.isFullOwnedServer&&!i.isFullOwnedServer?-1:!r.isFullOwnedServer&&i.isFullOwnedServer?1:r.friendlyName===i.friendlyName?null==(n=t.librarySectionTitle)?void 0:n.localeCompare(a.librarySectionTitle||""):r.friendlyName.localeCompare(i.friendlyName):0}}(p)),[i,d,l,e,p,m]);(0,n.useEffect)(()=>{(u||y)&&t()},[y,u,t]);const f=(0,n.useCallback)(t=>{var a=t,{item:r}=a,i=Sd(a,["item"]);if(!r)return n.createElement(Rd,Pd({},i));const l=(0,Ye.A)(r.source);return n.createElement(b.Ay,{key:i.key,machineIdentifier:l.serverIdentifier,providerIdentifier:l.providerIdentifier},n.createElement(Od,(o=Pd({},i),Ad(o,bd({item:r,person:e})))));var o},[e]),A=(0,n.useMemo)(()=>(0,Bo.A)({items:v,title:(0,j.A)("Media Libraries")}),[v]);return c||y||s&&u&&0===i.length?null:n.createElement(k.Ay,{containerProvider:r,containerServer:a,containerSourceURI:e.sourceURI,containerType:re.A.Mixed,listStyle:re.T.CreditSource},n.createElement(ni.A,{cellComponentFactory:f,hub:A,items:v,layout:wd,totalSize:v.length}))}var Md=a(6552),Td=a(6184),Dd=a(20761),kd=a(54433),xd=a(69331);function Ld({metadataItem:e}){const t=(0,o.wA)(),[a,r]=(0,b.Ss)(),i=(0,el.E)(),l=(0,o.d4)(xd.A),s=(0,o.d4)(Ho.A),{creditSources:{sourcesByGUID:c}}=(0,o.d4)(ce.A),m=s.includes(Ia.IU),d=c[(0,Gm.A)(e)],u=(null==d?void 0:d.length)?(0,Ye.A)(d[0].source):null,y=(0,o.d4)((0,g.A)((null==u?void 0:u.serverIdentifier)||""));let p=null,v=null;if(null==d?void 0:d.length)p=(0,j.A)("On {sourceName}",{sourceName:y.friendlyName}),d.length>1&&(p+=" +"+(d.length-1)),v=(0,hs.A)(a.machineIdentifier,r.identifier,{key:e.key});else if(e.playableKey){const t=(0,Ye.A)(e.playableKey);p=(0,j.A)("On Plex"),v=(0,hs.A)(Dd.Q,Ia.IU,{key:t.key})}const f=(0,n.useCallback)(()=>{v&&t((0,Eo.oo)({pathname:v,replace:!1}))},[t,v]);return p&&v&&((null==d?void 0:d.length)||m||!l)?n.createElement(We.BJ,{shrink:!1},(null==d?void 0:d.length)||!e.playableKey||m?n.createElement(qe.N,{color:"accent",font:"body-2",href:v},p):n.createElement(so.QW,{color:"accent",font:"body-2",onPress:i.onOpen},p),n.createElement(As.A,{modalState:i,providerIdentifier:Ia.IU,onOptInFinished:f})):null}function jd({metadataItem:e,role:t,type:a}){return n.createElement(We.BJ,{gap:"m",orientation:"horizontal",verticalAlign:"top"},n.createElement(wa.E,{color:"muted",font:"body-2",shrink:!1},n.createElement(kd.A,{className:"PersonCredits-year-OKLD9R",metadataItem:e})),n.createElement(wa.E,{color:"muted",font:"body-2"},n.createElement(ct.A,{className:"PersonCredits-link-goFy2o Link-link-vSsQW1",metadataItem:e}),t?n.createElement(n.Fragment,null,n.createElement(dt.A,{separator:""}),a===v.Tq.Actor||a===v.Tq.Appeared?(0,j.A)("as {role}",{role:t}):t):null),n.createElement(Ld,{metadataItem:e}))}function Nd({metadataItem:e}){const[t,a]=(0,b.Ss)(),{key:r}=e,i=(0,o.wA)(),l=(0,o.d4)(xd.A),{credits:{groups:s,isPopulated:c,error:m}}=(0,o.d4)(ce.A);return Ym(),(0,n.useEffect)(()=>{l||c||m||!t||!a||i(Aa.A.actions.creditsFetchRequested({server:t,provider:a,metadataKey:r}))},[m,i,c,l,r,a,t]),l||m||0===s.length?null:n.createElement("div",{className:"PersonCredits-container-t2aTHW"},n.createElement(We.BJ,{gap:"l"},n.createElement(ge.A,null,(0,j.A)("Filmography")),c?n.createElement(Td.tU,{defaultValue:s[0].type},n.createElement(Td.j7,{align:"left",tabStyle:"primary"},s.map(({type:e,title:t,credits:a})=>n.createElement(Td.KM,{key:e,value:e},`${t} (${a.length})`))),s.map(({type:e,credits:t})=>n.createElement(Td.av,{key:e,value:e},n.createElement(We.BJ,{gap:"s"},t.map(t=>(0,Xm.jH)(t)?n.createElement(jd,{key:t.item.key,metadataItem:t.item,role:t.role,type:e}):null))))):n.createElement(We.BJ,{align:"center",height:(0,Lo.A)("xxxl"),orientation:"horizontal",verticalAlign:"center"},n.createElement(Md.y,null))))}var Fd=a(91390);function Ud(e){const{bornAt:t,diedAt:a}=e;if(!t)return null;const n=a?void 0:qm(t,Date.now()),r=(0,Xl.A)(t);return n?`${r} (${n})`:r}function Vd(e){const{bornAt:t,diedAt:a}=e;if(!a)return null;const n=t?qm(t,a):void 0,r=(0,Xl.A)(a);return n?`${r} (${n})`:r}function Bd(e){switch(e){case v.bs.Facebook:return Vm.default;case v.bs.Instagram:return Bm.default;case v.bs.Twitter:return Hm.default}}function Hd({metadataItem:e,onScrollPositionReady:t}){const{summary:a,bornAt:r,diedAt:i,External:l,CreditType:o}=e,s=(0,Fd.A)(),c=null==o?void 0:o.slice(0,2).map(({title:e})=>e).join(", ");return n.createElement(n.Fragment,null,n.createElement(ae,{buttonBar:n.createElement(We.BJ,{align:["center","left"],gap:"m",orientation:"horizontal",wrap:!1},null==l?void 0:l.map(e=>n.createElement(Wm.m,{key:`${e.source}${e.id}`,tooltip:n.createElement(We.BJ,{align:"center"},n.createElement(wa.E,{color:"primary",font:"body-2"},e.sourceTitle),n.createElement(wa.E,{color:"muted",font:"body-2"},"@",e.id))},n.createElement(so.AR,{accessibilityLabel:e.sourceTitle,href:e.url,icon:Bd(e.source),rel:"noopener noreferrer nofollow",size:"s",target:"_blank"})))),facts:r?[(0,j.A)("Born"),Ud(e)]:void 0,genres:i?[(0,j.A)("Died"),Vd(e)]:void 0,metadataItem:e,poster:n.createElement($m.A,{metadataItem:e,width:s}),subtitle:c,summary:a,title:(0,_e.A)(e)}),n.createElement(md,{metadataItem:e,onScrollPositionReady:t}),n.createElement(Cd,{metadataItem:e,onScrollPositionReady:t}),n.createElement(Sa,{metadataItem:e,onScrollPositionReady:t}),n.createElement(Nd,{metadataItem:e}))}function Wd({metadataItem:e,onScrollPositionReady:t}){const[a]=(0,b.Ss)(),{audienceRating:r,rating:i,summary:l}=e,o=_l(e),s=(0,km.A)(e),c=cn(e),m=(0,vl.A)(il.v.IncludeDiscoverSource),d=(0,Yl.A)(e);return n.createElement(n.Fragment,null,n.createElement(ae,{buttonBar:n.createElement(Qe.A,{isChromaMetadata:!0,metadataItem:e,promotedActions:["isPlayVisible","isAddToWatchlistVisible","isRemoveFromWatchlistVisible","isMarkPlayedVisible","isMarkUnplayedVisible","isSyncDownloadVisible","isEditVisible","isShareVisible"]}),facts:[s?n.createElement(wa.E,{color:"accent",font:"inherit"},s):void 0],metadataItem:e,poster:n.createElement(Xe.A,{isChromaMetadata:!0,metadataItem:e}),ratings:[i||r?n.createElement(H.A,{metadataItem:e}):null],showAttributionLogo:!0,socialProof:o?n.createElement(Fo,{metadataItem:e}):null,starRating:n.createElement(go,{metadataItem:e}),subtitle:(0,_e.A)(e),summary:l,title:n.createElement(Ge,{metadataItem:e})},c),(0,eo.A)(e)?n.createElement(Yc,{metadataItem:e}):null,n.createElement($l,{metadataItem:e}),n.createElement(Dm,{metadataItem:e}),n.createElement(ti,{metadataItem:e}),!a.isCloud&&m&&!d&&(0,to.A)(e.guid)?n.createElement(Yc,{metadataItem:e}):null,n.createElement(Sa,{metadataItem:e,onScrollPositionReady:t}))}function zd({metadataItem:e,onScrollPositionReady:t}){const[a]=(0,b.Ss)(),{audienceRating:r,contentRating:i,isUnreleased:l,rating:o,summary:s,year:c}=e,m=_l(e),d=(0,km.A)(e),u=ka(e,"Genre"),y=(0,vl.A)(il.v.IncludeDiscoverSource),p=(0,Yl.A)(e);return n.createElement(n.Fragment,null,n.createElement(ae,{buttonBar:n.createElement(Qe.A,{isChromaMetadata:!0,metadataItem:e,promotedActions:["isPlayVisible","isAddToWatchlistVisible","isRemoveFromWatchlistVisible","isPlayTrailerVisible","isMarkPlayedVisible","isMarkUnplayedVisible","isSyncDownloadVisible","isEditVisible","isShareVisible"]}),facts:[d?n.createElement(wa.E,{color:"accent",font:"inherit"},d):void 0,!l&&c?c:void 0],genres:u,metadataItem:e,poster:n.createElement(Xe.A,{isChromaMetadata:!0,metadataItem:e}),ratings:[i?(0,B.A)(i):void 0,o||r?n.createElement(H.A,{key:"criticRating",metadataItem:e}):null],showAttributionLogo:!0,socialProof:m?n.createElement(Fo,{metadataItem:e}):null,starRating:n.createElement(go,{metadataItem:e}),summary:s,title:(0,_e.A)(e)}),(0,eo.A)(e)?n.createElement(Yc,{metadataItem:e}):null,n.createElement(ti,{metadataItem:e}),n.createElement($l,{metadataItem:e}),n.createElement(Dm,{metadataItem:e}),n.createElement(di,null),a.isCloud||!y||p||e.Channel||!(0,to.A)(e.guid)?null:n.createElement(Yc,{metadataItem:e}),n.createElement(Sa,{metadataItem:e,onScrollPositionReady:t}))}const Kd=(0,n.memo)(function({metadataItem:e,onScrollPositionReady:t}){const a=function(e){const{type:t,subtype:a}=e;if((0,N.A)(e))switch(t){case v.QD.Movie:return Gl;case v.QD.Show:return Jl;case v.QD.Episode:return wl}if(a===v.i9.Clip&&t===v.QD.Movie)return Si;switch(t){case v.QD.Movie:return Um;case v.QD.Show:return zd;case v.QD.Season:return Wd;case v.QD.Episode:return xm;case v.QD.Artist:case v.QD.Author:return Ii;case v.QD.Album:case v.QD.Audiobook:return mn;case v.QD.Collection:return Gi;case v.QD.Person:return Hd}}(e);return a?n.createElement(a,{metadataItem:e,onScrollPositionReady:t}):n.createElement(F.A,{description:(0,j.A)("Pardon our dust. This item is lacking a details page."),title:(0,j.A)("Missing details")})}),Qd={prePlayContentWrapper:"PrePlayPageContent-prePlayContentWrapper-Zi1xEP"};var qd=Object.defineProperty,$d=Object.getOwnPropertySymbols,Gd=Object.prototype.hasOwnProperty,Jd=Object.prototype.propertyIsEnumerable,Xd=(e,t,a)=>t in e?qd(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a,_d=(e,t)=>{for(var a in t||(t={}))Gd.call(t,a)&&Xd(e,a,t[a]);if($d)for(var a of $d(t))Jd.call(t,a)&&Xd(e,a,t[a]);return e};function Yd({metadataItem:e}){const[t,a]=(0,b.Ss)(),[r,{height:i}]=(0,D.A)(),[l,{width:o,height:s}]=(0,D.A)(),[c,m]=(0,n.useState)({scrollTop:0,scrollLeft:0}),[d,u]=(0,n.useState)(),y=(0,n.useCallback)(e=>{m(e)},[]),p=(0,n.useCallback)(e=>{u(e)},[]),{scrollRestoreProps:v,onScrollPositionReady:f}=(0,L.A)({key:"PrePlayPageContent",onScrollPositionChange:y});return(0,n.useEffect)(()=>{null!=d&&u(void 0)},[d]),n.createElement(k.Ay,{containerProvider:a,containerServer:t,containerSourceURI:e.sourceURI,containerSubtype:e.subtype,containerType:e.type},n.createElement(x.A,_d(_d({ref:r,skipScrollRestore:!0},v),d),n.createElement("div",{ref:l,className:Qd.prePlayContentWrapper},n.createElement(q,{contentHeight:s,height:i,scrollLeft:c.scrollLeft,scrollTop:c.scrollTop,width:o,onRequestScrollPosition:p},n.createElement(Kd,{metadataItem:e,onScrollPositionReady:f})))))}var Zd=a(25364),eu=a(35456),tu=a(26340);function au({machineIdentifier:e,providerIdentifier:t,metadataKey:a}){const r=(0,o.wA)(),l=(0,s.W6)(),D=(0,i.A)(),k=(0,m.A)(D.wl),x=(0,o.d4)(M.A),L=(0,o.d4)((0,g.A)(e)),j=(0,o.d4)((0,f.A)(e,t)),{metadata:{metadataItem:N,error:F,isPopulated:U}}=(0,o.d4)(ce.A),V=(0,se.A)(),B=N?(0,A.A)({provider:j,librarySectionID:N.librarySectionID,isPlaylist:N.isPlaylist}):void 0,H=(0,tu.A)(L,j,a),W=(0,o.d4)((0,C.A)("playThemeMusic")),z=(0,o.d4)(c.A),K=a===(null==N?void 0:N.key)&&(!V||V.isPopulated),Q=!(!F&&!(null==V?void 0:V.error));return(0,eu.A)(e,t),(0,E.A)({identifier:j.metricsIdentifier,type:null==N?void 0:N.type,metadataItem:(0,h.A)(N)},U),(0,n.useEffect)(()=>{x.anonymous&&k&&l.push(d.A.join(Mo.A.login,{redirectUrl:window.location.hash.replace("#!","")}))},[l,x.anonymous,k]),(0,n.useEffect)(()=>{if(!N||!W)return;const e=N.grandparentTheme||N.parentTheme||N.theme;r((0,y.pk)({serverEntityID:L.entityID,providerEntityID:j.entityID,theme:e}))},[r,N,W,j.entityID,L.entityID]),(0,n.useEffect)(()=>{N&&z&&r((0,u.iZ)({server:L,provider:j,metadataItem:N,metadataItemState:H,legacyAction:(0,p.g$)()}))},[r,z,N,H,j,L]),L.isCloud&&(null==N?void 0:N.isAdult)&&(null==N?void 0:N.type)!==v.QD.Person?n.createElement(I.A,null,n.createElement(S.A,null)):n.createElement(b.Ay,{contentDirectoryID:null==B?void 0:B.id,machineIdentifier:e,providerIdentifier:t},n.createElement(I.A,{scrollDirection:O.D.None},n.createElement(Zd.A,null),N&&K?n.createElement(T.A,{metadataItem:N,skipFetch:!1},n.createElement(Yd,{metadataItem:N})):null,N&&K||!Q?null:n.createElement(w.A,null),N&&K||Q?null:n.createElement(P.A,null,n.createElement(R.A,null))))}var nu=a(4627),ru=a(57122),iu=a(54863),lu=a(4370),ou=Object.defineProperty,su=Object.defineProperties,cu=Object.getOwnPropertyDescriptors,mu=Object.getOwnPropertySymbols,du=Object.prototype.hasOwnProperty,uu=Object.prototype.propertyIsEnumerable,yu=(e,t,a)=>t in e?ou(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a,pu=(e,t)=>{for(var a in t||(t={}))du.call(t,a)&&yu(e,a,t[a]);if(mu)for(var a of mu(t))uu.call(t,a)&&yu(e,a,t[a]);return e},vu=(e,t)=>su(e,cu(t));function fu({page:e=au}){const{machineIdentifier:t,providerIdentifier:a}=(0,nu.A)(),o=(0,i.A)(),s=(0,ru.A)(o.key);return n.createElement(iu.A,{machineIdentifier:t,providerIdentifier:a},s?n.createElement(l.Ay,{metricsContextParam:(0,ru.A)(o.context),metricsPage:r.Xt},n.createElement(e,vu(pu({},o),{machineIdentifier:t,metadataKey:s,providerIdentifier:a}))):n.createElement(lu.A,null))}}}]);