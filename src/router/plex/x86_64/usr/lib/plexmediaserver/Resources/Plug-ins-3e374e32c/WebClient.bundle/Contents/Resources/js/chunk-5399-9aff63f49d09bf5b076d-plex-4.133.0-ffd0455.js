(self.webpackChunkplex_web_client=self.webpackChunkplex_web_client||[]).push([[5399],{97764:(e,t,n)=>{const a=n(60137).A,r=n(70261);e.exports=r(a)},7982:e=>{e.exports=function(e){return encodeURIComponent(e||"")}},39656:e=>{e.exports=function(e,t,n){return Array.isArray(e)&&e.includes(t)?n.fn(this):n.inverse(this)}},15455:e=>{const t=`id${Date.now()}`;let n=0;e.exports=function(e){return`${e||t}${n++}`}},16856:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var a=n(46772),r=n(79393);function i(e,t){switch(e){case r.G_:return 1===t?(0,a.A)("1 Video"):(0,a.A)("{count} Videos",{count:t});case r.FY:return 1===t?(0,a.A)("1 Track"):(0,a.A)("{count} Tracks",{count:t});default:return 1===t?(0,a.A)("1 Item"):(0,a.A)("{count} Items",{count:t})}}},95674:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var a=n(46772),r=n(38176);function i(e,t){switch(e){case r.SEASON:return(0,a.A)("Seasons");case r.EPISODE:return 1===t?(0,a.A)("1 Episode"):(0,a.A)("{episodeCount} Episodes",{episodeCount:t});case r.G_:return 1===t?(0,a.A)("1 Album"):(0,a.A)("{albumCount} Albums",{albumCount:t});case r.Kq:return 1===t?(0,a.A)("1 Track"):(0,a.A)("{trackCount} Tracks",{trackCount:t});default:return 1===t?(0,a.A)("1 Item"):(0,a.A)("{trackCount} Items",{trackCount:t})}}},35518:(e,t,n)=>{"use strict";n.d(t,{A:()=>f});var a=n(96540),r=n(4590),i=n(20934),s=n(54409);const l={toolbarButton:"ToolbarButton-toolbarButton-PCjB_g",bottomLeft:"ToolbarButton-bottomLeft-V3a71x Tooltip-bottomLeft-ZA9QOY Tooltip-tooltip-VFBXza Tooltip-tooltipArrow-rrJjO7 Tooltip-tooltipTopArrow-zHVo6b Tooltip-tooltipLeftAlignArrow-SYYsix",bottomCenter:"ToolbarButton-bottomCenter-PX024r Tooltip-bottomCenter-kGnBM4 Tooltip-tooltip-VFBXza Tooltip-tooltipArrow-rrJjO7 Tooltip-tooltipTopArrow-zHVo6b Tooltip-tooltipCenterAlignArrow-Y8ToMu",bottomRight:"ToolbarButton-bottomRight-FvoCX0 Tooltip-bottomRight-wLkq3G Tooltip-tooltip-VFBXza Tooltip-tooltipArrow-rrJjO7 Tooltip-tooltipTopArrow-zHVo6b Tooltip-tooltipRightAlignArrow-jFr4_J",hasFocus:"ToolbarButton-hasFocus-A6zj9p"};var o,c,d,u=Object.defineProperty,m=Object.getOwnPropertySymbols,p=Object.prototype.hasOwnProperty,h=Object.prototype.propertyIsEnumerable,g=(e,t,n)=>t in e?u(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;class v extends a.Component{render(){const e=this.props,{children:t,tooltip:n,className:s,hasLabel:o,tooltipAttachment:c,hideOnPress:d,onPress:u}=e,v=((e,t)=>{var n={};for(var a in e)p.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&m)for(var a of m(e))t.indexOf(a)<0&&h.call(e,a)&&(n[a]=e[a]);return n})(e,["children","tooltip","className","hasLabel","tooltipAttachment","hideOnPress","onPress"]),f=l[c],b=`${f} ${l.hasFocus}`;return a.createElement(i.A,((e,t)=>{for(var n in t||(t={}))p.call(t,n)&&g(e,n,t[n]);if(m)for(var n of m(t))h.call(t,n)&&g(e,n,t[n]);return e})({"aria-label":n,className:s,component:r.A,hideOnPress:d,tooltip:n,tooltipClassName:f,tooltipFocusedClassName:b,onPress:u},v),t)}}o=v,c="defaultProps",d={className:l.toolbarButton,tooltipAttachment:s.Kl},g(o,c+"",d);const f=v},88201:(e,t,n)=>{"use strict";function a(e,t){return e&&t?`${t} (${e})`:t||e}n.d(t,{A:()=>a})},98618:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});var a=n(46772);const r=function(e){const t=e.activeConnection;let n,r=!1;return e.isConnected&&t?n=e.isOutOfDate?(0,a.A)("Needs Update"):t.relay?(0,a.A)("Indirect"):t.isPrivate?(0,a.A)("Nearby"):(0,a.A)("Remote"):e.isRelayed?n=(0,a.A)("Indirect"):e.isUnavailable?n=(0,a.A)("Unavailable"):e.isUnauthorized?n=(0,a.A)("Unauthorized"):(r=!0,n=(0,a.A)("Connecting")),{isConnecting:r,status:n}}},7466:(e,t,n)=>{"use strict";n.d(t,{A:()=>l});var a=n(1081),r=n(38380),i=n(5634),s=n(30519);const l=(0,i.A)((function(e){return(0,a.Mz)((0,s.A)(e),(e=>e.accounts.slice().sort(r.A)))}))},38380:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const a=1;function r(e,t){if(e.id===a)return-1;if(t.id===a)return 1;const n=e.name.trim().toUpperCase(),r=t.name.trim().toUpperCase();return n<r?-1:n>r?1:0}},82476:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>hj});var a={};n.r(a),n.d(a,{AUTO:()=>TM,CHANNELS_2_0:()=>MM,CHANNELS_2_1:()=>NM,CHANNELS_3_1:()=>LM,CHANNELS_5_1:()=>RM,CHANNELS_7_1:()=>FM});var r={};n.r(r),n.d(r,{AC3:()=>UM,DTS:()=>VM,DTS_HD:()=>jM,EAC3:()=>BM,TRUEHD:()=>HM});var i=n(96540),s=n(24180),l=n(84593),o=n(91884),c=n(32649),d=n(65291),u=n(20140),m=n(3986),p=n(46910),h=n(22701),g=n(93869),v=n(91389),f=n(53059),b=n(28602),y=n(15088),A=n(44117);function E({name:e}){const t=(0,d.useGate)(e);return i.createElement(u.BJ,{gap:"xs"},i.createElement(u.BJ,{gap:"m",orientation:"horizontal",verticalAlign:"center"},i.createElement(p.E,{font:"heading-3"},e,":"),i.createElement(p.E,{font:"body-2"},t.value.toString()),t.isLoading?i.createElement(m.y,{size:"xs"}):null))}function S({name:e}){const t=(0,d.useExperiment)(e);return i.createElement(u.BJ,{gap:"xs"},i.createElement(u.BJ,{gap:"m",orientation:"horizontal",verticalAlign:"center"},i.createElement(p.E,{font:"heading-3"},e,":"),t.isLoading?i.createElement(m.y,{size:"xs"}):null),i.createElement(p.E,{font:"body-2"},i.createElement("pre",null,JSON.stringify(t.config,null,2))))}function w(){const e=(0,f.o)(h.qc),t=(0,g.c)();return e?i.createElement(b.A,{metricsPage:l.eu,metricsPane:"settings"},i.createElement(u.BJ,{gap:"xl"},i.createElement(y.A,null,"Experiments"),i.createElement(u.BJ,{gap:"m"},i.createElement(p.E,{font:"heading-2"},"Gates"),i.createElement(u.BJ,{gap:"s"},A.VF.map((e=>i.createElement(E,{key:e,name:e}))))),i.createElement(u.BJ,{gap:"m"},i.createElement(p.E,{font:"heading-2"},"User"),i.createElement(p.E,{font:"body-2"},i.createElement("pre",null,JSON.stringify(t,null,2)))),i.createElement(u.BJ,{gap:"m"},i.createElement(p.E,{font:"heading-2"},"Experiments"),i.createElement(u.BJ,{gap:"s"},A.rC.map((e=>i.createElement(S,{key:e,name:e}))))))):i.createElement(s.rd,{to:v.A.webSettings})}var C=n(71468),P=n(33382),D=n(59051),x=n(74692),k=n.n(x),O=n(3467),I=n(74125),T=n.n(I),M=n(62623),N=n(36213);const L=M.A.extend({idAttribute:"key",whitelistedAttrs:["key","name","defaultAudioLanguage","autoSelectAudio","defaultSubtitleLanguage","subtitleMode","watchedIndicator"],url:function(){return this.get("key")},convert:function(e){let t=T().isObject(e)?e:N.A.parseXML(e);return t.Account&&(t=t.Account),N.A.parseBoolean(t,"autoSelectAudio"),t},parse:function(e){let t=this.convert(e);return t=T().pick(t,this.whitelistedAttrs),t}});var R=n(106),F=n(34041),U=n(89342);function V(e){return(0,R.A)(U.Su,F.oB,e)}var j=n(59753),B=n(46772),H=n(13615),z=n(58090);function _(e){return(0,P.A)("web-client","settings",e)}function W(e,t,n){return(0,P.A)("server",e,t,n)}var G=n(44072),K=n(59632),q=n(53185),$=n(26179),J=n.n($);const Q=K.A.ItemView.extend({tagName:"li",className:"card-collapsed striped-list-item alert-list-item",template:J(),serializeData:function(){const e=(0,O.hd)("appModel").get("user").get("experienceSettings"),t=this.model.toJSON(),n={serverID:this.model.server.id,itemKey:"/library/metadata/"+this.model.get("itemID"),event:t,escapedServerName:T().escape(this.model.server.get("friendlyName")),escapedEventLabel:T().escape(t.label),escapedEventValue:T().escape(t.value),escapedEventUsername:T().escape(t.username),escapedEventTitle:T().escape(t.title),escapedEventPlayer:T().escape(t.player),timeFormat:e.get("timeFormat")};if(t.label=T().escape(t.label),t.value=T().escape(t.value),"playing"===t._type&&(t.username=T().escape(t.username),t.title=T().escape(t.title),t.player=T().escape(t.player)),"timeline"===t._type)switch(t.mediaTitle=this.model.get("title")||"an item",this.model.get("state")){case 0:t.stateString=(0,B.A)("Created");break;case 1:t.stateString=(0,B.A)("Progress for");break;case 2:t.stateString=(0,B.A)("Matching");break;case 3:t.stateString=(0,B.A)("Downloading metadata for");break;case 4:t.stateString=(0,B.A)("Loading metadata for");break;case 5:t.stateString=(0,B.A)("Finished processing");break;case 6:t.stateString=(0,B.A)("Analyzing");break;case 9:t.stateString=(0,B.A)("Deleted")}return n}}),Y=q.A.extend({tagName:"ul",className:"list card-list alert-list",itemView:Q,reversed:!0});var X=n(59272),Z=n.n(X);const ee=K.A.Layout.extend({className:"alerts-container",template:Z(),ui:{pageCount:".page-count",previousBtn:".previous-btn",nextBtn:".next-btn"},regions:{serverDropdown:".filter-bar",list:".alert-list-container"},modelEvents:{"change:shared":"onSharedChange"},collectionEvents:{add:"onAlertAdd"},events:{"click .previous-btn":"onPreviousClick","click .next-btn":"onNextClick"},onlyAfterRender:["onAlertAdd"],initialize:function(){this.shared=this.model.get("shared"),this.page=1,this.listCollection=this.collection.clone(this.collection.page(this.page,{reverse:!0})),this.listCollection.stopListening()},serializeData:function(){const e=this.collection.pages();return{shared:this.shared,escapedPage:T().escape(this.page),escapedPages:T().escape(e),enablePrevious:this.page>1,enableNext:this.page<e}},updatePages:function(){const e=this.collection.pages();this.ui.pageCount.text((0,B.A)("{1} of {2}",this.page,e)),this.ui.previousBtn.toggleClass("disabled",this.page<2),this.ui.nextBtn.toggleClass("disabled",this.page>=e)},updateList:function(){this.listCollection.reset(this.collection.page(this.page,{reverse:!0}))},onRender:function(){this.shared||this.list.append(new Y({collection:this.listCollection}))},onSharedChange:function(e,t){this.shared=t,this.render()},onAlertAdd:function(){this.shared||(this.updatePages(),this.updateList())},onPreviousClick:function(e){e.preventDefault(),this.ui.previousBtn.isDisabled()||(this.page--,this.updatePages(),this.updateList())},onNextClick:function(e){e.preventDefault(),this.ui.nextBtn.isDisabled()||(this.page++,this.updatePages(),this.updateList())}});var te=n(80413),ne=n(46127),ae=n(92950);const re=ne.A.extend({mixins:[ae.A],defaultFilterName:"__default",whitelistedEvents:["add","remove","reset","sort","destroy","sync","request","error"],blacklistedMethods:["_onModelEvent","_prepareModel","_removeReference","_reset","add","initialize","sync","remove","reset","set","push","pop","unshift","shift","sort","parse","fetch","create","model","off","on","listenTo","listenToOnce","bind","trigger","once","stopListening"],constructor:function(e,t){this.superset=e,this._collection=new te.Ay.Collection(e.toArray()),this._proxyCollection(this._collection),this.resetFilters(),this.listenTo(e,{add:this.onSupersetAdd,remove:this.onSupersetRemove,reset:this.onSupersetReset}),this.initialize(t)},_proxyCollection:function(e){this.models=e.models,this._proxyCollectionMethods(e),this._proxyCollectionLength(e),this._proxyCollectionEvents(e)},_proxyCollectionMethods:function(e){const t={};T().each(T().functions(te.Ay.Collection.prototype),(function(n){T().contains(this.blacklistedMethods,n)||(t[n]=function(){return e[n].apply(e,arguments)})}),this),T().extend(this,t)},_proxyCollectionLength:function(e){const t=function(){this.length=e.length};this.listenTo(e,"all",t),t.call(this)},_proxyCollectionEvents:function(e){this.listenTo(e,"all",(function(t){const n=T().toArray(arguments),a="change"===t||"change:"===t.slice(0,7);"reset"===t&&(this.models=e.models),T().contains(this.whitelistedEvents,t)?(T().contains(["add","remove","destroy"],t)?n[2]=this:T().contains(["reset","sort"],t)&&(n[1]=this),this.trigger.apply(this,n)):a&&this.contains(n[1])&&this.trigger.apply(this,n)}))},addFilter:function(e,t){return t||(t=e,e=this.defaultFilterName),T().has(this._filters,e)&&this._invalidateCacheForFilter(e),this._filters[e]=this._createFilter(t),this._execFilters(),this.trigger("filtered:add",e),this},removeFilter:function(e){return e||(e=this.defaultFilterName),delete this._filters[e],this._invalidateCacheForFilter(e),this._execFilters(),this.trigger("filtered:remove",e),this},resetFilters:function(){return this._filters={},this._invalidateCache(),this._execFilters(),this.trigger("filtered:reset"),this},getFilters:function(){return T().keys(this._filters)},hasFilter:function(e){return T().contains(this.getFilters(),e)},refilter:function(e){return T().isObject(e)&&e.cid?this.onSupersetAdd(e):(this._invalidateCache(),this._execFilters()),this},destroy:function(){return this.stopListening(),this.superset=null,this._collection.reset([]),this.length=0,this.trigger("filtered:destroy"),this},_createFilter:function(e,t){if(T().isFunction(e))return e;throw new Error("Unsupported filter type")},_execFilters:function(e){e||(e={});let t=[];this.superset&&(t=this.superset.filter(T().bind(this._execFiltersOnModel,this))),e.reset?this._collection.reset(t):this._collection.set(t),this.length=this._collection.length},_execFiltersOnModel:function(e){this._filterResultCache[e.cid]||(this._filterResultCache[e.cid]={});const t=this._filterResultCache[e.cid];for(const n in this._filters)if(T().has(this._filters,n)&&(T().has(t,n)||(t[n]=this._filters[n](e)),!t[n]))return!1;return!0},_invalidateCache:function(){this._filterResultCache={}},_invalidateCacheForFilter:function(e){for(const t in this._filterResultCache)T().has(this._filterResultCache,t)&&delete this._filterResultCache[t][e]},onSupersetAdd:function(e){if(this._filterResultCache[e.cid]={},this._execFiltersOnModel(e)){if(!this._collection.get(e.cid)){let t=0;for(let n=this.superset.indexOf(e)-1;n>=0;n-=1)if(this.contains(this.superset.at(n))){t=this.indexOf(this.superset.at(n))+1;break}this._collection.add(e,{at:t})}}else this._collection.get(e.cid)&&this._collection.remove(e);this.length=this._collection.length},onSupersetRemove:function(e){this.contains(e)&&this._collection.remove(e),this.length=this._collection.length},onSupersetReset:function(){this._execFilters({reset:!0})}}),ie=re.extend({initialize:function(e){this.playQueue=e.playQueue,this.includeSelectedItem=e.includeSelectedItem,this.addFilter(T().bind(this.filterUpNext,this)),this.listenForUpNextChanges()},listenForUpNextChanges:function(){const e=T().debounce(this.onPlayQueueChange);this.listenTo(this.playQueue,["change:playQueueSelectedItemID","change:playQueueLastAddedItemID"].join(" "),e),this.listenTo(this.playQueue.get("collection"),"change:queueIndex",e)},filterUpNext:function(e){const t=this.superset.indexOf(e),n=this.playQueue.getUpNextRange();let a=n.start;const r=n.end;return this.includeSelectedItem||(a+=1),t>=a&&t<=r},onPlayQueueChange:function(){this.refilter()}}),se=ie,le=se.extend({initialize:function(e){this.playQueue=e.playQueue,this.addFilter(T().bind(this.filterAfterUpNext,this)),this.listenForUpNextChanges()},filterAfterUpNext:function(e){return this.superset.indexOf(e)>this.playQueue.getUpNextRange().end}}),oe=le;var ce=n(29165),de=n(76183),ue=n.n(de),me=n(21267),pe=n(41915),he=n(48977),ge=n(24889),ve=n(1022),fe=n(76573),be=n(48965),ye=n(96998),Ae=n(27132),Ee=n.n(Ae);const Se=K.A.ItemView.extend({className:"circle-progress",template:Ee(),size:30,lineWidth:5,strokeColor:"#cc7b19",hasSize:!1,ui:{svg:".circle-progress-bar",svgCircle:".circle-progress-bar circle"},bindings:{".circle-progress-text":{modelAttribute:"text"}},modelEvents:{"change:progress":"onProgressChange"},initialize:function(e){this.size=e.size||this.size,this.lineWidth=e.lineWidth||this.lineWidth,this.strokeColor=e.strokeColor||this.strokeColor,this.size&&(this.$el.width(this.size),this.$el.height(this.size))},drawProgressBar:function(){const e=this.size,t=e/2,n=t-this.lineWidth,a=Math.PI*(2*n);this.hasSize||(this.ui.svg.attr("width",e),this.ui.svg.attr("height",e),this.ui.svgCircle.attr("r",n),this.ui.svgCircle.attr("cx",t),this.ui.svgCircle.attr("cy",t),this.ui.svgCircle.attr("stroke-dasharray",a),this.ui.svgCircle.css("stroke-width",this.lineWidth),this.ui.svgCircle.css("stroke",this.strokeColor),this.hasSize=!0);const r=(100-this.model.get("progress"))/100*a;this.ui.svgCircle.css("stroke-dashoffset",r)},onRender:function(){this.drawProgressBar()},onProgressChange:function(){this.drawProgressBar()}}),we=Se;var Ce=n(35649),Pe=n.n(Ce);const De=K.A.Layout.extend({mixins:[ye.A],className:"conversion-status",template:Pe(),regions:{progressBarRegion:".progress-bar-region"},initialize:function(e){this.initialState=e.initialState,this.initialErrorMessage=e.initialErrorMessage,this.generator=e.generator,this.transcodeJobs=e.transcodeJobs,this.pausedSetting=e.pausedSetting,this.progressModel=new te.Ay.Model({progress:0,remaining:0,speed:0})},states:{pending:{onEnter:function(){this.$el.addClass("pending")},onExit:function(){this.$el.removeClass("pending")}},converting:{onEnter:function(){this.$el.addClass("converting")},onExit:function(){this.$el.removeClass("converting")}},processed:{onEnter:function(){this.$el.addClass("processed")},onExit:function(){this.$el.removeClass("processed")}},disabled:{onEnter:function(){this.$el.addClass("disabled")},onExit:function(){this.$el.removeClass("disabled")}},error:{onEnter:function(){this.$el.addClass("error")},onExit:function(){this.$el.removeClass("error")}}},bindingsModel:"progressModel",bindings:{".conversion-status-converting-label":{model:"pausedSetting",modelAttribute:"value",formatter:function(e){return e?(0,B.A)("Paused"):(0,B.A)("Converting")}},".conversion-status-pending-label":{model:"pausedSetting",modelAttribute:"value",formatter:function(e){return e?(0,B.A)("Paused"):(0,B.A)("Waiting")}},".conversion-status-converting-speed":{modelAttribute:"speed",autohide:!0,formatter:function(e){if(e){let t=Math.round(10*e)/10;return t>10&&(t=Math.round(t)),"("+t+"x)"}}},".conversion-status-converting-percentage":{modelAttribute:"progress",formatter:function(e){return Math.round(e)+"%"}},".conversion-status-converting-progress-separator":{modelAttribute:"remaining",manual:!0,autohide:function(e){return e&&this.progressModel.get("speed")}},".conversion-status-converting-remaining":{modelAttribute:"remaining",autohide:!0,formatter:function(e){if(this.progressModel.get("speed"))return(0,be.A)(e)}}},serializeData:function(){return{initialErrorMessage:this.initialErrorMessage}},findTranscodeJob:function(){return this.transcodeJob=this.transcodeJobs.find((function(e){const t=this.model.get("ratingKey"),n=this.generator?this.generator.id:this.model.get("generatorID"),a=t&&t===e.get("ratingKey"),r=n&&n===e.get("generatorID");return a&&r}),this),this.transcodeJob&&(this.stopListening(this.transcodeJobs),this.enterState("converting"),this.progressModel.set({progress:this.transcodeJob.get("progress"),speed:this.transcodeJob.get("speed"),remaining:this.transcodeJob.get("remaining")}),this.listenTo(this.transcodeJob,{remove:this.onTranscodeJobRemove,"change:progress":this.onTranscodeProgressChange,"change:speed":this.onTranscodeSpeedChange,"change:remaining":this.onTranscodeRemainingChange})),this.transcodeJob},onRender:function(){this.enterState(this.initialState||"pending"),this.findTranscodeJob()||this.listenTo(this.transcodeJobs,"reset add",this.findTranscodeJob),this.progressBarRegion.append(new we({model:this.progressModel,size:30,lineWidth:3}))},onTranscodeJobRemove:function(){this.enterState("pending")},onTranscodeProgressChange:function(e,t){this.progressModel.set("progress",t)},onTranscodeSpeedChange:function(e,t){this.progressModel.set("speed",t)},onTranscodeRemainingChange:function(e,t){this.progressModel.set("remaining",t)}}),xe=De;var ke=n(42348),Oe=n.n(ke);const Ie=K.A.Layout.extend({className:"striped-list-item media-list-item playlist-item version-generator-item",tagName:"li",template:Oe(),ui:{poster:".media-poster"},events:{"click .promote-btn":"onPromoteClick","click .delete-btn":"onDeleteClick"},regions:{statusRegion:".conversion-status-region"},attributes:function(){return{"data-queue-item-id":this.model.id}},initialize:function(e){this.metadataItem=e.model.get("metadataItem"),this.playQueue=e.playQueue,this.transcodeJobs=e.transcodeJobs,this.pausedSetting=e.pausedSetting,this.hideDragHandle=e.hideDragHandle,this.type=this.metadataItem.get("type");let t=ge.A[this.type];"movie"===this.type&&(t=ge.A.art);const n="episode"===this.type?"show":this.type;this.image=new ve.A({model:this.metadataItem,type:n,placeholderClass:t,height:60,modelAttribute:"thumb",getUrl:this.getPosterUrl})},bindings:{".generator-title":{model:"metadataItem",modelAttribute:"title",formatter:function(){return he.A.title(this.metadataItem)}},".generator-target":{modelAttribute:"target",formatter:function(e){return e}},".sortable-handle":{model:"playQueue",modelAttribute:"playQueueSelectedItemID",manual:!0,autohide:function(e){return this.model.get("playQueueItemID")!==e}},".promote-btn":{modelAttribute:"queueIndex",manual:!0,autohide:function(e){const t=this.playQueue.getCurrentItem();return this.hideDragHandle||e-t.get("queueIndex")>1}}},serializeData:function(){return{hideDragHandle:this.hideDragHandle}},getPosterUrl:function(e){return"episode"===this.model.get("type")&&(this.model.get("grandparentThumb")||this.model.get("parentThumb"))||e},deleteGenerator:function(){const e=new fe.A({id:this.model.get("generatorID")},{server:this.model.server,playlistID:this.metadataItem.get("playlistID")});return pe.A.execute("disableVersionGenerator",{generator:e,ratingKey:this.metadataItem.get("ratingKey")})},onRender:function(){this.image.setElement(this.ui.poster),this.statusRegion.show(new xe({model:this.model,transcodeJobs:this.transcodeJobs,pausedSetting:this.pausedSetting}))},onClose:function(){this.image.close()},onCollectionSort:function(){this.trigger("sort")},onPromoteClick:function(e){e.preventDefault();const t=this.playQueue.get("collection");this.listenToOnce(t,"sort",T().debounce(this.onCollectionSort));const n=this.model.get("playQueueItemID"),a=this.playQueue.get("playQueueSelectedItemID");this.playQueue.moveItem(n,a)},onDeleteClick:function(e){e.preventDefault(),this.deleteGenerator()}}),Te=Ie;var Me=n(41481);const Ne=q.A.extend({tagName:"ol",className:"list media-list playlist-items",itemView:Te,sorted:!0,itemEvents:{sort:"onSort"},initialize:function(){T().bindAll(this,"onItemMove")},onRender:function(){this.sortable&&this.sortable.destroy(),this.sortable=new(ue())(this.el,T().extend({onAdd:this.onItemMove,onUpdate:this.onItemMove,handle:".sortable-handle",animation:200,scroll:!0,scrollSensitivity:100,scrollSpeed:2},this.options.sortableOptions))},onClose:function(){this.sortable&&this.sortable.destroy()},onSort:function(){this.render()},onItemMove:function(e){const t=k()(e.item).data("queue-item-id"),n=k()(e.item).prev().data("queue-item-id"),a=this.options.playQueue;if(n)return void a.moveItem(t,n);const r=a.get("selectedItem").get("metadataItem").get("title"),i=new Me.A({title:(0,B.A)("Convert Immediately"),message:(0,B.A)("Do you want to start converting this item immediately? Any conversion progress for '{1}' will be lost.",r)}),s=i.promise;s.done((function(){a.moveItem(t)})),s.fail(T().bind(this.render,this)),me.A.trigger("show:modal",i)}});var Le=n(26472),Re=n(52900),Fe=n.n(Re);const Ue=K.A.ItemView.extend({template:Fe(),serializeData(){return{manageVersionsRoute:(0,Le.A)(this.model.id,"manage","versions")}}});var Ve=n(94417),je=n.n(Ve);const Be=K.A.Layout.extend({className:"conversion-container",template:je(),ui:{filterBar:".filter-bar",pauseBtn:".pause-btn",resumeBtn:".resume-btn",divider:".conversion-queue-divider"},regions:{filterBar:".filter-bar",upNextList:".conversion-queue-up-next-list-region",afterUpNextList:".conversion-queue-after-up-next-list-region",emptyRegion:".conversion-queue-empty-region"},events:{"click .pause-btn":"onTogglePauseClick","click .resume-btn":"onTogglePauseClick"},initialize:function(e){this.playQueue=e.playQueue,this.transcodeJobs=e.transcodeJobs,this.generators=e.generators,this.items=this.playQueue.get("collection"),this.upNextItems=new se(this.items,{playQueue:this.playQueue,includeSelectedItem:!0}),this.afterUpNextItems=new oe(this.items,{playQueue:this.playQueue}),this.settings=this.model.get("desktop").get("settings"),this.pausedSetting=this.settings.get("BackgroundQueueIdlePaused"),this.listenTo(this.upNextItems,"reset add remove",this.onUpNextChange),this.listenTo(this.afterUpNextItems,"reset add remove",this.onAfterUpNextChange)},serializeData:function(){var e;return{shouldShowList:this.model.supports("streamReady"),shouldShowDivider:!!this.afterUpNextItems.length,escapedMinServerVersion:T().escape(ce.A.streamReady),hasPausedSetting:!!this.pausedSetting,isPaused:null==(e=this.pausedSetting)?void 0:e.get("value"),errorMessage:this.getErrorMessage(),manageVersionsRoute:(0,Le.A)(this.model.id,"manage","versions")}},toggleEmptyView:function(){const e=this.upNextItems.length+this.afterUpNextItems.length>0;e?this.emptyRegion.close():this.emptyRegion.show(new Ue({model:this.model})),this.$el.toggleClass("is-empty",!e),this.ui.filterBar.toggleClass("hide-actions",!e)},getErrorMessage:function(){const e=this.generators.reduce((function(e,t){const n=t.get("status");return"failed"===n.get("state")?e+=Math.max(n.get("itemsCount"),1):n.get("itemsFailedCount")&&(e+=n.get("itemsFailedCount")),e}),0);if(e)return 1===e?(0,B.A)("There was a problem converting 1 item."):(0,B.A)("There were problems converting {1} items.",e)},onRender:function(){const e={playQueue:this.playQueue},t={playQueue:this.playQueue,transcodeJobs:this.transcodeJobs,pausedSetting:this.pausedSetting};this.upNextList.show(new Ne(T().extend({},e,{collection:this.upNextItems,itemViewOptions:t,sortableOptions:{sort:!0,group:{name:"upNext",pull:!1,put:["afterUpNext"]}}}))),this.afterUpNextList.show(new Ne(T().extend({},e,{collection:this.afterUpNextItems,itemViewOptions:T().extend({},t,{hideDragHandle:!0}),sortableOptions:{sort:!1,group:{name:"afterUpNext",pull:!0,put:!1}}}))),this.toggleEmptyView()},onClose:function(){this.upNextItems.destroy(),this.afterUpNextItems.destroy()},onUpNextChange:function(){this.toggleEmptyView()},onAfterUpNextChange:function(){this.ui.divider.toggleClass("hidden",!this.afterUpNextItems.length),this.toggleEmptyView()},onTogglePauseClick:function(e){e.preventDefault();const t=this.pausedSetting.get("value");this.ui.pauseBtn.toggleClass("hidden",!t),this.ui.resumeBtn.toggleClass("hidden",t),this.pausedSetting.set("value",!t),this.settings.first().save(this.pausedSetting.id,t?0:1)}}),He=Be;var ze=n(74669),_e=n(40317),We=n(90313);const Ge=function(e,t,n=500){const[a,r]=(0,i.useState)(e);return(0,i.useEffect)((()=>{let a;return e===t?a=window.setTimeout((()=>{r(e)}),n):r(e),()=>window.clearTimeout(a)}),[e,t,n]),a},Ke={header:"ServerDashboardPageHeader-header-op5OCz",headerTitle:"ServerDashboardPageHeader-headerTitle-uvx3J1"};function qe({children:e,title:t}){return i.createElement("div",{className:Ke.header},i.createElement("div",{className:Ke.headerTitle},t),e)}var $e=n(60710),Je=n(14890),Qe=n(45498),Ye=n(5977),Xe=n(89512),Ze=n(89302);const et={menuButton:"ServerDashboardMenuButton-menuButton-UUJAhJ DisclosureArrowButton-disclosureArrowButton-x_5Y9W Link-link-SxPFpG"};function tt({children:e,id:t,className:n=et.menuButton,isMenuOpen:a,onPress:r}){return i.createElement(Ye.A,{className:n,direction:a?Xe.UP:Xe.PX,id:t,isSelected:!1,size:Ze.I$,onPress:r},e)}function nt({className:e,values:t,activeValue:n,formatter:a,onSelect:r}){const{menuButtonID:s,isMenuOpen:l,onMenuButtonPress:o,onMenuClose:c}=(0,Qe.A)(),d=(0,i.useCallback)((e=>{c(),r(e)}),[c,r]);return i.createElement(i.Fragment,null,i.createElement(tt,{className:e,id:s,isMenuOpen:l,onPress:o},a(n)),i.createElement($e.A,{isOpen:l,target:s,onMenuClose:c},t.map((e=>i.createElement(Je.A,{key:String(e),isSelected:n===e,value:e,onSelect:d},a(e))))))}var at=n(59812),rt=(e=>(e.All="all",e.Remote="remote",e.Local="local",e))(rt||{}),it=n(1081),st=n(89267);const lt=(0,it.Mz)(st.A,(e=>e.dashboard)),ot=lt,ct=(0,it.Mz)(ot,(e=>e.bandwidth));function dt(e){switch(e){case rt.All:return(0,B.A)("All");case rt.Remote:return(0,B.A)("Remote");case rt.Local:return(0,B.A)("Local");default:return""}}var ut=n(68003),mt=n(82238),pt=n(86677),ht=n(40001),gt=n(22278),vt=n(31127),ft=n(55233);const bt=["bps","Kbps","Mbps","Gbps","Tbps"],yt=function(e,t=2){if(0===e)return`${(0).toFixed(t)} ${bt[0]}`;const n=parseInt(Math.floor(Math.log(e)/Math.log(1024)),10);return`${(e/Math.pow(1024,n)).toFixed(t)} ${bt[n]}`};var At=n(25886),Et=n(5292),St=n(67056),wt=n(15258);const Ct={container:"ServerDashboardPageMessage-container-Oaj21s",message:"ServerDashboardPageMessage-message-kdz3Sr"};function Pt({children:e,className:t=Ct.container}){return i.createElement("div",{className:t},i.createElement("div",{className:Ct.message},e))}const Dt={container:"ServerDashboardSectionContent-container-MpA8nO",spinner:"ServerDashboardSectionContent-spinner-xYR9TN Spinner-spinner-Q4B7Qw spin-spin-H8VRGl",errorMessage:"ServerDashboardSectionContent-errorMessage-fnCd_D ServerDashboardPageMessage-container-Oaj21s"};function xt({children:e,className:t=Dt.container,errorClassName:n=Dt.errorMessage,isSpinnerVisible:a,errorMessage:r}){return i.createElement("div",{className:t},r?i.createElement(Pt,{className:n},r):i.createElement(i.Fragment,null,a?i.createElement(St.A,{className:Dt.spinner,size:wt.A.Large}):null,e))}const kt={container:"ServerDashboardGraph-container-x3wY6a ServerDashboardSectionContent-container-MpA8nO",errorMessage:"ServerDashboardGraph-errorMessage-o7rb8r ServerDashboardSectionContent-errorMessage-fnCd_D ServerDashboardPageMessage-container-Oaj21s"};var Ot=Object.defineProperty,It=Object.defineProperties,Tt=Object.getOwnPropertyDescriptors,Mt=Object.getOwnPropertySymbols,Nt=Object.prototype.hasOwnProperty,Lt=Object.prototype.propertyIsEnumerable,Rt=(e,t,n)=>t in e?Ot(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Ft=(e,t)=>{for(var n in t||(t={}))Nt.call(t,n)&&Rt(e,n,t[n]);if(Mt)for(var n of Mt(t))Lt.call(t,n)&&Rt(e,n,t[n]);return e},Ut=(e,t)=>It(e,Tt(t));function Vt(e){return i.createElement(xt,Ut(Ft({},e),{className:kt.container,errorClassName:kt.errorMessage}))}function jt(e){return null==e?"":0===e?(0,B.A)("Now").toUpperCase():e%60==0?`${Math.floor(e/60)}m`:e>60?`${Math.floor(e/60)}m ${e%60}s`:`${e}s`}var Bt=n(52448),Ht=n(78660),zt=Object.defineProperty,_t=Object.getOwnPropertySymbols,Wt=Object.prototype.hasOwnProperty,Gt=Object.prototype.propertyIsEnumerable,Kt=(e,t,n)=>t in e?zt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,qt=(e,t)=>{for(var n in t||(t={}))Wt.call(t,n)&&Kt(e,n,t[n]);if(_t)for(var n of _t(t))Gt.call(t,n)&&Kt(e,n,t[n]);return e},$t=(e,t,n)=>(Kt(e,"symbol"!=typeof t?t+"":t,n),n);const Jt=function(e,t){var n;const a=Object.keys(t);return n=class extends i.Component{constructor(e,t){super(e,t),$t(this,"_pairs"),this.state=a.reduce(((e,t)=>(e[t]=null,e)),{})}componentDidMount(){this._pairs=a.map((e=>[e,(0,Bt.A)(t[e]())])),this._pairs.forEach((([e,t])=>{t.promise.then((t=>{this.setState({[e]:t})}))}))}componentWillUnmount(){this._pairs.forEach((([e,t])=>{t.cancel()}))}render(){return i.createElement(e,qt(qt({},this.props),this.state))}},$t(n,"displayName",`AsyncProps(${(0,Ht.A)(e)}:${a.join(",")})`),$t(n,"WrappedComponent",e),n};function Qt(e,t,n,a,r,i){const s=t-i,l=a>=0?1:-1,o=a>=0?1:0,c=Math.min(Math.abs(n)/2,Math.abs(a)/2),d=Math.min(c,r);return`M ${e},${s+l*d}\n    A ${d},${d},0,0,${o},${e+d},${s}\n    L ${e+n-d},${s}\n    A ${d},${d},0,0,${o},${e+n},${s+l*d}\n    L ${e+n},${s+a-l*d}\n    A ${d},${d},0,0,${o},${e+n-d},${s+a}\n    L ${e+d},${s+a}\n    A ${d},${d},0,0,${o},${e},${s+a-l*d} Z`}const Yt=function(e){const{x:t,y:n,width:a,height:r,radius:s,fill:l,barGap:o,data:c,dataKey:d,seriesOrdering:u,seriesIndex:m}=e,p=u.slice(0,m),h=c.find((t=>t[d]===e[d])),g=p.reduce(((e,t)=>(0!==h[t]&&e++,e)),0)*o;return i.createElement("path",{d:Qt(t,n,a,r,s,g),fill:l})};var Xt=n(4590);var Zt=Object.defineProperty,en=(e,t,n)=>(((e,t,n)=>{t in e?Zt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);class tn extends i.Component{constructor(){super(...arguments),en(this,"onPress",(()=>{const{dataKey:e,onPress:t}=this.props;t&&t(e)})),en(this,"onMouseEnter",(()=>{const{dataKey:e,onMouseEnter:t}=this.props;t&&t(e)}))}render(){const{className:e,title:t,labelColor:n,onMouseLeave:a}=this.props;return i.createElement(Xt.A,{className:e,onMouseEnter:this.onMouseEnter,onMouseLeave:a,onPress:this.onPress},i.createElement("span",{className:"LegendLabel-dot-SnTwpb",style:{backgroundColor:n}}),t)}}en(tn,"defaultProps",{className:"LegendLabel-legendLabel-mVpxGP Link-link-SxPFpG"});const nn=tn,an="ChartTooltip-separator-ELNF48";var rn,sn=Object.defineProperty;class ln extends i.Component{componentDidUpdate(e,t){const{active:n,onActive:a,onInactive:r}=this.props,{active:i}=e;!i&&n&&a?a():i&&!n&&r&&r()}render(){const{active:e,label:t,payload:n,series:a,showTotal:r,labelFormatter:s,valueFormatter:l}=this.props;if(!e||!n)return null;const o=s?s(t):t,c=r?n.reduce(((e,t)=>e+t.value),0):null;return i.createElement("div",{className:"ChartTooltip-container-UjozeR"},i.createElement("div",{className:"ChartTooltip-label-lz4OCe"},o),i.createElement("div",{className:an}),i.createElement("div",null,i.createElement("div",{className:"ChartTooltip-values-SyT1p1"},n.map((e=>{const t=a.find((t=>t.dataKey===e.dataKey)).title;return i.createElement("div",{key:e.dataKey,className:"ChartTooltip-valueRow-jNurPX"},i.createElement(nn,{className:"ChartTooltip-LegendLabel-xex9ho LegendLabel-legendLabel-mVpxGP Link-link-SxPFpG",labelColor:e.color,title:t}),i.createElement(Et.A,null),l(e.value))}))),r?i.createElement(i.Fragment,null,i.createElement("div",{className:an}),i.createElement("div",{className:"ChartTooltip-total-JZLPHF"},(0,B.A)("Total"),i.createElement(Et.A,null),l(c))):null))}}((e,t,n)=>{t in e?sn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(ln,"symbol"!=typeof(rn="defaultProps")?rn+"":rn,{showTotal:!0});const on=ln;var cn=Object.defineProperty,dn=Object.getOwnPropertySymbols,un=Object.prototype.hasOwnProperty,mn=Object.prototype.propertyIsEnumerable,pn=(e,t,n)=>t in e?cn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,hn=(e,t)=>{for(var n in t||(t={}))un.call(t,n)&&pn(e,n,t[n]);if(dn)for(var n of dn(t))mn.call(t,n)&&pn(e,n,t[n]);return e},gn=(e,t,n)=>(pn(e,"symbol"!=typeof t?t+"":t,n),n);function vn(e){return e.every((e=>e.visible))}function fn(e){return function(t){return i.createElement(Yt,hn(hn({},t),e))}}class bn extends i.Component{constructor(e,t){super(e,t),gn(this,"onMouseEnter",(e=>{this.setState({hoveredDataKey:e})})),gn(this,"onMouseLeave",(()=>{this.setState({hoveredDataKey:null})})),gn(this,"renderLegend",(()=>{const{series:e,legendSummary:t,onLegendPress:n}=this.props,{hoveredDataKey:a}=this.state;return i.createElement("div",{className:"BarChart-legendContainer-moE8Ro"},i.createElement("div",{className:"BarChart-legendLabels-COddVH"},e.map((e=>{const t=!e.visible||a&&a!==e.dataKey&&!e.selected;return i.createElement(nn,{key:e.dataKey,className:t?"BarChart-translucentLegendLabel-d0pAci BarChart-legendLabel-mgKPfI LegendLabel-legendLabel-mVpxGP Link-link-SxPFpG":"BarChart-legendLabel-mgKPfI LegendLabel-legendLabel-mVpxGP Link-link-SxPFpG",dataKey:e.dataKey,labelColor:e.color,title:e.title,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave,onPress:n})}))),t?i.createElement("div",{className:"BarChart-legendSummary-Bb_Xwh"},t):null)})),this.state={hoveredDataKey:null}}componentDidUpdate(e,t){const{recharts:n,onChartReady:a}=this.props;!e.recharts&&n&&a&&a()}render(){const{className:e,recharts:t,width:n,height:a,series:r,data:s,xAxisKey:l,stacked:o,isAnimationActive:c,showTooltipTotal:d,chartMargin:u,gridLinesStyles:m,barGap:p,legendHeight:h,tooltipLabelFormatter:g,tooltipValueFormatter:v,xAxisDomain:f,xAxisStyle:b,xAxisPadding:y,xAxisTick:A,xAxisTickMargin:E,xAxisTickLineStyle:S,xAxisTickFormatter:w,yAxisDomain:C,yAxisWidth:P,yAxisStyle:D,yAxisPadding:x,yAxisTick:k,yAxisTickMargin:O,yAxisTickLineStyle:I,yAxisTickFormatter:T}=this.props,{hoveredDataKey:M}=this.state;if(!t)return null;const{CartesianGrid:N,Legend:L,BarChart:R,Bar:F,ResponsiveContainer:U,Tooltip:V,XAxis:j,YAxis:B}=t,H=r.map((e=>e.dataKey));return i.createElement(U,{className:e,height:a,width:n},i.createElement(R,{data:s,margin:u},i.createElement(N,hn({},m)),i.createElement(j,{axisLine:b,dataKey:l,domain:f,minTickGap:0,padding:y,tick:A,tickFormatter:w,tickLine:S,tickMargin:E}),i.createElement(B,{axisLine:D,domain:C,padding:x,tick:k,tickCount:6,tickFormatter:T,tickLine:I,tickMargin:O,width:P}),i.createElement(V,{content:(z={series:r,showTotal:d,labelFormatter:g,valueFormatter:v},function(e){return i.createElement(on,hn(hn({},e),z))}),cursor:!1,isAnimationActive:!1}),r.map(((e,t)=>i.createElement(F,{key:e.dataKey,className:M&&M!==e.dataKey&&vn(r)?"BarChart-translucentBar-LrdYPr BarChart-bar-OzOhnS":"BarChart-bar-OzOhnS",dataKey:e.dataKey,fill:e.color,isAnimationActive:c,radius:2,shape:fn({barGap:o?p:0,data:s,dataKey:l,seriesOrdering:H,seriesIndex:t}),stackId:o?"stacked":null,onMouseEnter:this.onMouseEnter.bind(null,e.dataKey),onMouseLeave:this.onMouseLeave}))),i.createElement(L,{content:this.renderLegend,height:h,wrapperStyle:{paddingLeft:`${P}px`}})));var z}}gn(bn,"defaultProps",{xAxisKey:"date",stacked:!0,isAnimationActive:!0,chartMargin:{top:15,right:20,bottom:10,left:0},gridLinesStyles:{horizontal:!0,vertical:!1,stroke:"rgba(255, 255, 255, 0.1)"},barGap:2,legendHeight:20,xAxisStyle:!1,xAxisPadding:{left:0,right:0},xAxisTick:{fill:"rgba(255, 255, 255, 0.45)",fontSize:"10px"},xAxisTickMargin:15,xAxisTickLineStyle:{fill:"rgba(255, 255, 255, 0.1)",strokeWidth:5},yAxisWidth:60,yAxisStyle:!1,yAxisPadding:{top:0,bottom:0},yAxisTick:{fill:"rgba(255, 255, 255, 0.45)",fontSize:"10px"},yAxisTickMargin:5,yAxisTickLineStyle:!1});const yn=Jt(bn,{recharts:()=>n.e(9684).then(n.bind(n,99684))}),An=function(e){const{x:t,y:n,margin:a,fill:r,fontSize:s,index:l,visibleTicksCount:o,payload:c,tickFormatter:d}=e;let u="middle";0===l?u="start":l+1===o&&(u="end");const m=d?d(c.value):c.value;return i.createElement("g",{transform:`translate(${t},${n})`},i.createElement("text",{dy:a,fill:r,fontSize:s,textAnchor:u},m))};var En=Object.defineProperty,Sn=Object.defineProperties,wn=Object.getOwnPropertyDescriptors,Cn=Object.getOwnPropertySymbols,Pn=Object.prototype.hasOwnProperty,Dn=Object.prototype.propertyIsEnumerable,xn=(e,t,n)=>t in e?En(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,kn=(e,t)=>{for(var n in t||(t={}))Pn.call(t,n)&&xn(e,n,t[n]);if(Cn)for(var n of Cn(t))Dn.call(t,n)&&xn(e,n,t[n]);return e},On=(e,t,n)=>(xn(e,"symbol"!=typeof t?t+"":t,n),n);function In(e){return e.every((e=>e.visible))}function Tn(e){return function(t){return i.createElement(on,kn(kn({},t),e))}}class Mn extends i.Component{constructor(e,t){super(e,t),On(this,"onMouseEnter",(e=>{this.setState({hoveredDataKey:e})})),On(this,"onMouseLeave",(()=>{this.setState({hoveredDataKey:null})})),On(this,"renderLegend",(()=>{const{series:e,legendSummary:t,onLegendPress:n}=this.props,{hoveredDataKey:a}=this.state;return i.createElement("div",{className:"LineChart-legendContainer-P8C6_5"},i.createElement("div",{className:"LineChart-legendLabels-F4HHyy"},e.map((e=>{const t=!e.visible||a&&a!==e.dataKey&&!e.selected;return i.createElement(nn,{key:e.dataKey,className:t?"LineChart-translucentLegendLabel-OM6cnC LineChart-legendLabel-TBSKAt LegendLabel-legendLabel-mVpxGP Link-link-SxPFpG":"LineChart-legendLabel-TBSKAt LegendLabel-legendLabel-mVpxGP Link-link-SxPFpG",dataKey:e.dataKey,labelColor:e.color,title:e.title,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave,onPress:n})}))),t?i.createElement("div",{className:"LineChart-legendSummary-RI0G2W"},t):null)})),this.state={hoveredDataKey:null}}componentDidUpdate(e,t){const{recharts:n,onChartReady:a}=this.props;!e.recharts&&n&&a&&a()}render(){const{className:e,recharts:t,width:n,height:a,series:r,data:s,xAxisKey:l,connectNulls:o,lineType:c,lineStrokeWidth:d,isAnimationActive:u,showTooltipTotal:m,chartMargin:p,gridLinesStyles:h,legendHeight:g,tooltipLabelFormatter:v,tooltipValueFormatter:f,dot:b,xAxisDomain:y,xAxisStyle:A,xAxisPadding:E,xAxisTick:S,xAxisTickInterval:w,xAxisTickMargin:C,xAxisTickLineStyle:P,xAxisTickFormatter:D,yAxisDomain:x,yAxisWidth:k,yAxisStyle:O,yAxisPadding:I,yAxisTick:T,yAxisTickMargin:M,yAxisTickLineStyle:N,yAxisTickFormatter:L,onTooltipActive:R,onTooltipInactive:F}=this.props,{hoveredDataKey:U}=this.state;if(!t)return null;const{CartesianGrid:V,Legend:j,LineChart:B,Line:H,ResponsiveContainer:z,Tooltip:_,XAxis:W,YAxis:G}=t,K=[...r].reverse();return i.createElement(z,{className:e,height:a,width:n},i.createElement(B,{data:s,margin:p},i.createElement(V,kn({},h)),i.createElement(W,{axisLine:A,dataKey:l,domain:y,interval:w,minTickGap:0,padding:E,tick:($=kn({},S),J={margin:C,tickFormatter:D},q=Sn($,wn(J)),function(e){return i.createElement(An,kn(kn({},e),q))}),tickLine:P}),i.createElement(G,{axisLine:O,domain:x,padding:I,tick:T,tickCount:6,tickFormatter:L,tickLine:N,tickMargin:M,width:k}),i.createElement(_,{content:Tn({series:r,showTotal:m,labelFormatter:v,valueFormatter:f,onActive:R,onInactive:F}),cursor:!1,isAnimationActive:!1}),K.map((e=>i.createElement(H,{key:e.dataKey,className:U&&U!==e.dataKey&&In(r)?"LineChart-translucentLine-bHHydJ LineChart-line-PwRyDn":"LineChart-line-PwRyDn",connectNulls:o,dataKey:e.dataKey,dot:b,isAnimationActive:u,stroke:e.color,strokeWidth:d,type:c,onMouseEnter:this.onMouseEnter.bind(null,e.dataKey),onMouseLeave:this.onMouseLeave}))),i.createElement(j,{content:this.renderLegend,height:g,wrapperStyle:{paddingLeft:`${k}px`}})));var q,$,J}}On(Mn,"defaultProps",{xAxisKey:"date",connectNulls:!1,lineType:"monotone",lineStrokeWidth:3,isAnimationActive:!0,chartMargin:{top:15,right:20,bottom:10,left:0},gridLinesStyles:{horizontal:!0,vertical:!1,stroke:"rgba(255, 255, 255, 0.1)"},legendHeight:20,dot:!1,xAxisStyle:!1,xAxisPadding:{left:0,right:0},xAxisTick:{fill:"rgba(255, 255, 255, 0.45)",fontSize:"10px"},xAxisTickMargin:20,xAxisTickLineStyle:{fill:"rgba(255, 255, 255, 0.1)",strokeWidth:5},yAxisWidth:75,yAxisStyle:!1,yAxisPadding:{top:0,bottom:0},yAxisTick:{fill:"rgba(255, 255, 255, 0.45)",fontSize:"10px"},yAxisTickMargin:5,yAxisTickLineStyle:!1});const Nn=Jt(Mn,{recharts:()=>n.e(9684).then(n.bind(n,99684))});var Ln=Object.defineProperty,Rn=Object.defineProperties,Fn=Object.getOwnPropertyDescriptors,Un=Object.getOwnPropertySymbols,Vn=Object.prototype.hasOwnProperty,jn=Object.prototype.propertyIsEnumerable,Bn=(e,t,n)=>t in e?Ln(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Hn=(e,t)=>{for(var n in t||(t={}))Vn.call(t,n)&&Bn(e,n,t[n]);if(Un)for(var n of Un(t))jn.call(t,n)&&Bn(e,n,t[n]);return e},zn=(e,t)=>Rn(e,Fn(t));const _n=120;function Wn(e){return(0,ft.A)(e)||(0,gt.A)((0,vt.A)(new Date))<=e}function Gn(e,t,n,a=!1){if((0,ut.Ug)(t)===ut.aw.Day&&(0,ft.A)(e)){const e=(0,B.A)("Today");return a?e.toUpperCase():e}return(0,pt.A)((0,ht.A)(e),n)}function Kn({isRemoteVisible:e,isLocalVisible:t,summedData:n}){const a=e&&t;return i.createElement(i.Fragment,null,a?(0,B.A)("Averages"):(0,B.A)("Average"),": ",a?i.createElement(i.Fragment,null,dt(rt.Remote),i.createElement(Et.A,null)):null,e?yt(8*(n[rt.Remote]||0)/_n,0):null,a?i.createElement(i.Fragment,null," | ",dt(rt.Local),i.createElement(Et.A,null)):null,t?yt(8*(n[rt.Local]||0)/_n,0):null)}function qn({isRemoteVisible:e,isLocalVisible:t,summedData:n}){const a=e&&t;return i.createElement(i.Fragment,null,a?(0,B.A)("Totals"):(0,B.A)("Total"),": ",a?i.createElement(i.Fragment,null,dt(rt.Remote),i.createElement(Et.A,null)):null,e?(0,At.A)(n[rt.Remote],0):null,a?i.createElement(i.Fragment,null," | ",dt(rt.Local),i.createElement(Et.A,null)):null,t?(0,At.A)(n[rt.Local],0):null)}function $n({statistics:e,activeBandwidthSourceType:t,responseTimestampMilliseconds:n,activeTimePeriod:a,isPending:r,isPopulated:s,errorMessage:l,onGraphBandwidthSourceTypeSelect:o,onGraphTooltipActive:c,onGraphTooltipInactive:d}){const[u,m]=(0,i.useState)(!1),p=a===ut.Hr.RealTime,{data:h,summedData:g}=(0,i.useMemo)((()=>p?function(e,t,n){if(null==n)return{data:[],summedData:{}};const a=t===rt.All||t===rt.Remote,r=t===rt.All||t===rt.Local,i=Math.floor(n/1e3)-_n-1,s=Array.from(new Array(_n+1),((e,t)=>({at:i+t,date:_n-t,[rt.Remote]:a?0:void 0,[rt.Local]:r?0:void 0}))),l={};return e.forEach((e=>{const{at:t,lan:n,bytes:i}=e,o=s.findIndex((e=>e.at===Number(t)));if(-1===o)return;const c=s[o];!n&&a&&(c[rt.Remote]=(c[rt.Remote]||0)+i,l[rt.Remote]=(l[rt.Remote]||0)+i),n&&r&&(c[rt.Local]=(c[rt.Local]||0)+i,l[rt.Local]=(l[rt.Local]||0)+i),s[o]=c})),{data:s,summedData:l}}(e,t,n):function(e,t){const n=t===rt.All||t===rt.Remote,a=t===rt.All||t===rt.Local,r={},i={};return e.forEach((e=>{const{at:t,lan:s,bytes:l}=e,o=String(t);r[o]||(r[o]={}),!s&&n&&(r[o][rt.Remote]=(r[o][rt.Remote]||0)+l,i[rt.Remote]=(i[rt.Remote]||0)+l),s&&a&&(r[o][rt.Local]=(r[o][rt.Local]||0)+l,i[rt.Local]=(i[rt.Local]||0)+l)})),{data:Object.keys(r).sort().map((e=>{const t=r[e],n=parseInt(e,10);return zn(Hn({},t),{at:n,date:n})})),summedData:i}}(e,t)),[t,p,n,e]),v=t===rt.All||t===rt.Remote,f=t===rt.All||t===rt.Local,b=[{dataKey:rt.Remote,title:dt(rt.Remote),visible:v,selected:t===rt.Remote,color:"#366dfc"},{dataKey:rt.Local,title:dt(rt.Local),visible:f,selected:t===rt.Local,color:"#e69f23"}],y=p?Nn:yn,A=p?Kn:qn,E=!u||(p?!s:r),S=(p||!r)&&s,w=(0,i.useCallback)((e=>0===e?(0,B.A)("Now"):(0,B.A)("{unitOfTime} ago",{unitOfTime:jt(e)})),[]),C=(0,i.useCallback)((e=>{if((0,ut.Ug)(a)===ut.aw.Week){const t=Gn(e,a,(0,ut.Ql)(a,!0)),n=(0,gt.A)((0,mt.A)((0,ht.A)(e),1));return(0,ft.A)(e)&&Wn(n)?(0,B.A)("Today"):`${t} - ${Gn(n,a,(0,ut.Ql)(a,!0))}`}return Gn(e,a,(0,ut.Ql)(a,!0))}),[a]),P=(0,i.useCallback)((e=>yt(8*e,0)),[]),D=(0,i.useCallback)((e=>(0,At.A)(e,0)),[]),x=(0,i.useCallback)((e=>jt(e)),[]),k=(0,i.useCallback)((e=>{if(a===ut.Hr.Month){const t=Gn(e,a,(0,ut.Ql)(a)),n=(0,gt.A)((0,mt.A)((0,ht.A)(e),1));return(0,ft.A)(e)&&Wn(n)?(0,B.A)("Today").toUpperCase():`${t} - ${Gn(n,a,(0,ut.Ql)(a))}`}return Gn(e,a,(0,ut.Ql)(a),!0)}),[a]),O=(0,i.useCallback)((e=>0===e?"":p?yt(8*e,0):(0,At.A)(e,0)),[p]),I=(0,i.useCallback)((()=>{m(!0)}),[]);return i.createElement(Vt,{errorMessage:l,isSpinnerVisible:E},S?i.createElement(y,{data:h,height:280,isAnimationActive:!p,legendSummary:i.createElement(A,{isLocalVisible:f,isRemoteVisible:v,summedData:g}),series:b,tooltipLabelFormatter:p?w:C,tooltipValueFormatter:p?P:D,width:"100%",xAxisTickFormatter:p?x:k,xAxisTickInterval:p?9:null,yAxisTickFormatter:O,onChartReady:I,onLegendPress:o,onTooltipActive:c,onTooltipInactive:d}):null)}const Jn={container:"Bandwidth-container-Z8prQJ",graph:"Bandwidth-graph-dBbeRW"},Qn=1e3;function Yn(){const e=(0,C.wA)(),[t]=(0,_e.Ss)(),n=(0,i.useRef)(null),[a,r]=(0,i.useState)(rt.All),s=(0,i.useMemo)((()=>[rt.All,rt.Remote,rt.Local]),[]),[l,o]=(0,i.useState)(ut.Hr.RealTime),[c,d]=(0,i.useState)(l),u=(0,i.useMemo)((()=>[ut.Hr.RealTime,ut.Hr.TwelveHours,ut.Hr.Day,ut.Hr.Week,ut.Hr.Month,ut.Hr.NinetyDays,ut.Hr.Year,ut.Hr.AllTime]),[]),{statistics:m,isPending:p,isPopulated:h,error:g,requestTimestampMilliseconds:v,responseTimestampMilliseconds:f}=(0,C.d4)(ct),b=Ge(p,!0),y=(0,i.useCallback)((()=>{e(at.A.actions.bandwidthFetchRequested({server:t,timespan:(0,ut.Ug)(l),after:(0,ut.$i)(l)}))}),[l,e,t]),A=(0,i.useCallback)((()=>{e(at.A.actions.bandwidthAbortRequested())}),[e]),E=(0,i.useCallback)((e=>{r(e)}),[]),S=(0,i.useCallback)((e=>{o(e)}),[]),w=(0,i.useCallback)((e=>{const t=e===a?rt.All:e;r(t)}),[a]),P=(0,i.useCallback)((()=>{l===ut.Hr.RealTime&&(n.current&&window.clearTimeout(n.current),A())}),[l,A]),D=(0,i.useCallback)((()=>{l===ut.Hr.RealTime&&y()}),[l,y]);return(0,i.useEffect)((()=>(y(),A)),[y,A]),(0,i.useEffect)((()=>{if(l===ut.Hr.RealTime&&v){const e=Date.now()-v,t=Math.max(Qn-e,0);n.current=window.setTimeout(y,t)}return()=>{n.current&&window.clearTimeout(n.current)}}),[v,y,l]),(0,i.useEffect)((()=>{d(l)}),[m]),(0,i.useEffect)((()=>()=>{e(at.A.actions.reset())}),[e]),i.createElement("div",{className:Jn.container},i.createElement(qe,{title:(0,B.A)("Bandwidth")},i.createElement("div",null,i.createElement(nt,{activeValue:a,formatter:dt,values:s,onSelect:E}),i.createElement(nt,{activeValue:l,formatter:ut.lV,values:u,onSelect:S}))),i.createElement("div",{className:Jn.graph},i.createElement($n,{activeBandwidthSourceType:a,activeTimePeriod:c,errorMessage:g?(0,B.A)("Unable to load statistics"):void 0,isPending:b,isPopulated:h,responseTimestampMilliseconds:f,statistics:m,onGraphBandwidthSourceTypeSelect:w,onGraphTooltipActive:P,onGraphTooltipInactive:D})))}var Xn=n(59154),Zn=n(40500),ea=n(36516),ta=n(55574),na=n(79947),aa=n(18977),ra=n(15525),ia=n(40153),sa=n(2910),la=n(31965),oa=n(39220);const ca={modalHeader:"NowPlayingErrorModal-modalHeader-nBWtGO ModalHeader-modalHeader-nb9ueN"};function da({isOpen:e,errorMessage:t,metricsPage:n,onModalClose:a}){return i.createElement(c.Ay,{metricsPage:n},i.createElement(ia.A,{isOpen:e,size:wt.A.Small,onModalClose:a},i.createElement(la.A,{onModalClose:a},i.createElement(oa.A,{className:ca.modalHeader},(0,B.A)("Error")),i.createElement(sa.A,null,t))))}var ua=n(32485),ma=n.n(ua),pa=n(85596),ha=n(42464),ga=n(46241),va=n(92645),fa=n(72044),ba=n(18227);var ya=n(38309),Aa=n(19367),Ea=n(86663),Sa=n(74486),wa=n(80292);const Ca=[/alexa/i,/sonos/i],Pa={};var Da=n(93764),xa=n(78920),ka=n(19542),Oa=n(80125),Ia=n(14187),Ta=n(14044),Ma=n(82979),Na=n(54867),La=n(42731),Ra=n(28249),Fa=n(96542),Ua=n(39773),Va=n(18786),ja=n(60071),Ba=n(63361);var Ha=n(57990),za=n(80299);const _a="data:image/svg+xml,%3csvg width='110' height='110' xmlns='http://www.w3.org/2000/svg'%3e %3cg fill='none' fill-rule='nonzero'%3e %3cpath fill='%23191A1C' d='M0 0h110v110H0z'/%3e %3cpath fill-opacity='.3' fill='white' d='M38 25h17.434l19.238 30-19.238 30H38l19.238-30L38 25'/%3e %3c/g%3e %3c/svg%3e",Wa={"data:image/svg+xml,%3csvg width='110' height='110' xmlns='http://www.w3.org/2000/svg'%3e %3cg fill='none' fill-rule='nonzero'%3e %3cpath fill='%23191A1C' d='M0 0h110v110H0z'/%3e %3cpath d='M50.138 85.61v-6.146c0-2.185-1.338-4.133-3.366-4.994-7.595-3.224-12.91-10.765-12.91-19.47 0-11.603 9.443-21.139 21.138-21.139 11.695 0 21.139 9.536 21.139 21.139 0 13.69-10.59 26.634-26 30.61zM55 24c-17.151 0-31 13.985-31 31s13.849 31 31 31 31-13.985 31-31-13.849-31-31-31z' fill='%2331C4F3'/%3e %3c/g%3e %3c/svg%3e":/alexa/i,"data:image/svg+xml,%3csvg width='110' height='110' xmlns='http://www.w3.org/2000/svg'%3e %3cg fill='none' fill-rule='nonzero'%3e %3cpath fill='%23191A1C' d='M0 0h110v110H0z'/%3e %3cpath d='M43.891 23.479l3.005 5.183c-5.469 2.661-9.175 7.873-9.175 13.852h34.994c0-5.979-3.707-11.19-9.177-13.852l3.005-5.183s.143-.275-.127-.43c-.27-.155-.451.109-.451.109l-3.05 5.229a19.03 19.03 0 0 0-7.698-1.606c-2.763 0-5.376.58-7.697 1.606l-3.05-5.229s-.171-.264-.442-.11c-.272.154-.137.43-.137.43m3.005 10.04a1.66 1.66 0 0 1 1.664 1.65c0 .91-.747 1.628-1.664 1.628-.916 0-1.664-.719-1.664-1.627 0-.91.748-1.652 1.664-1.652m16.642 0a1.66 1.66 0 0 1 1.664 1.652c0 .91-.747 1.627-1.664 1.627-.916 0-1.664-.719-1.664-1.627 0-.91.748-1.652 1.664-1.652m-25.96 11.017v26.34c0 1.307 1.593 3.018 2.91 3.018h4.163v8.98c0 2.286 1.679 4.128 3.768 4.128 2.089 0 3.768-1.842 3.768-4.128v-8.98h6.056v8.98c0 2.286 1.68 4.128 3.768 4.128s3.79-1.842 3.79-4.128v-8.98h4.14c1.318 0 2.91-1.711 2.91-3.018v-26.34H37.577m-5.805-.552c2.083 0 3.77 1.849 3.77 4.128v15.628c0 2.279-1.688 4.128-3.77 4.128-2.083 0-3.772-1.848-3.772-4.128V48.11c0-2.279 1.689-4.128 3.772-4.128m46.886 0c2.083 0 3.772 1.849 3.772 4.128v15.628c0 2.279-1.688 4.128-3.772 4.128-2.082 0-3.77-1.848-3.77-4.128V48.11c0-2.279 1.687-4.128 3.77-4.128' fill='%23A4C639'/%3e %3c/g%3e %3c/svg%3e":/android/i,"data:image/svg+xml,%3csvg width='110' height='110' xmlns='http://www.w3.org/2000/svg'%3e %3cg fill='none' fill-rule='nonzero'%3e %3cpath fill='%23191A1C' d='M0 0h110v110H0z'/%3e %3cpath d='M56.55 39.145h5.114v5.776h4.924v4.048h-4.924v14.369c0 2.225.994 3.266 3.148 3.266.545 0 1.42-.07 1.752-.118v4.048c-.568.142-1.775.26-2.888.26-5.137 0-7.125-1.964-7.125-6.935v-14.89H53V44.92h3.55v-5.776zm36.203 5.776l-9.255 25.708h-5.469L68.75 44.92h5.42l6.558 20.642h.118l6.581-20.642h5.326zm-50.471 9.54c-.04-4.398 3.538-6.511 3.699-6.613-2.012-2.987-5.144-3.397-6.261-3.446-2.667-.274-5.203 1.594-6.554 1.594s-3.44-1.553-5.65-1.51c-2.907.042-5.585 1.714-7.084 4.354-3.017 5.318-.771 13.195 2.171 17.51 1.439 2.108 3.153 4.482 5.404 4.397 2.17-.086 2.988-1.423 5.608-1.423 2.62 0 3.358 1.423 5.652 1.378 2.334-.042 3.811-2.15 5.239-4.267 1.65-2.45 2.33-4.82 2.371-4.942-.05-.024-4.55-1.773-4.595-7.031m-4.308-12.913c1.196-1.47 2.001-3.513 1.78-5.549-1.72.072-3.806 1.165-5.043 2.633-1.107 1.301-2.078 3.379-1.815 5.375 1.92.151 3.882-.99 5.078-2.46' fill='white'/%3e %3c/g%3e %3c/svg%3e":/plex.*atv|tvos/i,"data:image/svg+xml,%3csvg width='110' height='110' viewBox='0 0 110 110' fill='none' xmlns='http://www.w3.org/2000/svg'%3e %3cg clip-path='url(%23clip0_6660_155)'%3e %3crect width='110' height='110' fill='white'/%3e %3crect width='110' height='110' fill='%23191A1C'/%3e %3cpath d='M55.0006 70.4681C63.5443 70.4681 70.47 63.542 70.47 54.9984C70.47 46.4547 63.5443 39.5286 55.0006 39.5286C46.457 39.5286 39.5312 46.4547 39.5312 54.9984C39.5312 63.542 46.457 70.4681 55.0006 70.4681Z' fill='white'/%3e %3cpath d='M41.6035 62.7368L28.2086 39.5361C25.4926 44.2389 24.0625 49.5738 24.0625 55.0049C24.0625 60.4359 25.492 65.7708 28.2076 70.4736C30.9233 75.1764 34.8294 79.0819 39.5329 81.7963C44.2363 84.5106 49.5719 85.9391 55.0026 85.9375L68.3975 62.7368V62.7332C67.0408 65.0861 65.0884 67.0401 62.7368 68.3988C60.3852 69.7574 57.7174 70.4728 55.0016 70.4732C52.2858 70.4736 49.6177 69.759 47.2658 68.4011C44.9139 67.043 42.961 65.0897 41.6035 62.7375V62.7368Z' fill='%23229342'/%3e %3cpath d='M68.3965 62.7358L55.002 85.9365C60.4327 85.9375 65.7679 84.508 70.4711 81.793C75.1742 79.078 79.0796 75.1722 81.7947 70.4688C84.5096 65.7653 85.9384 60.4301 85.9375 54.9993C85.9366 49.5686 84.5058 44.2338 81.7891 39.5312H54.9997L54.9965 39.5335C57.7123 39.5322 60.3805 40.2461 62.7329 41.6032C65.0855 42.9605 67.0389 44.9129 68.3972 47.2648C69.7554 49.6166 70.4705 52.2847 70.4704 55.0005C70.4704 57.7164 69.7552 60.3844 68.3969 62.7362L68.3965 62.7358Z' fill='%23FBC116'/%3e %3cpath d='M55.0006 67.2486C61.7643 67.2486 67.2473 61.7656 67.2473 55.0016C67.2473 48.2376 61.7643 42.7549 55.0006 42.7549C48.2369 42.7549 42.7539 48.2379 42.7539 55.0016C42.7539 61.7653 48.2369 67.2486 55.0006 67.2486Z' fill='%231A73E8'/%3e %3cpath d='M55.0007 39.5322H81.7901C79.0754 34.8287 75.1703 30.9227 70.4672 28.207C65.7642 25.4915 60.4291 24.0621 54.9984 24.0625C49.5677 24.0628 44.2328 25.4929 39.5303 28.2093C34.8277 30.9254 30.923 34.8319 28.209 39.5358L41.6039 62.7365L41.6074 62.7384C40.2484 60.3871 39.5324 57.7193 39.5316 55.0034C39.5307 52.2875 40.245 49.6193 41.6026 47.2671C42.9599 44.9149 44.9133 42.9615 47.2652 41.6038C49.6171 40.2461 52.2853 39.5313 55.0013 39.5319L55.0007 39.5322Z' fill='%23E33B2E'/%3e %3c/g%3e %3cdefs%3e %3cclipPath id='clip0_6660_155'%3e %3crect width='110' height='110' fill='white'/%3e %3c/clipPath%3e %3c/defs%3e %3c/svg%3e":/chrome/i,"data:image/svg+xml,%3csvg width='110' height='110' viewBox='0 0 110 110' fill='none' xmlns='http://www.w3.org/2000/svg'%3e %3cpath d='M110 0H0V110H110V0Z' fill='%23191A1C'/%3e %3cpath opacity='0.85' fill-rule='evenodd' clip-rule='evenodd' d='M40.2299 84L64.8357 41.3821L72.7435 55.0765L56.0434 84H40.2299ZM55.9718 26L60.8163 34.2636L52.8648 48.0355L40.059 26H55.9718Z' fill='url(%23paint0_radial)'/%3e %3cpath fill-rule='evenodd' clip-rule='evenodd' d='M64.7965 31.0318L76.7237 51.6897H90.7143V55.0035H74.8114L64.7965 37.6593L42.9299 75.5322L32.9906 58.3173H19V55.0035H34.9029L42.9299 68.9066C50.2195 56.2817 57.507 43.6567 64.7965 31.0318Z' fill='url(%23paint1_linear)'/%3e %3cdefs%3e %3cradialGradient id='paint0_radial' cx='0' cy='0' r='1' gradientUnits='userSpaceOnUse' gradientTransform='translate(72.8037 54.0284) scale(28.9448 47.0775)'%3e %3cstop stop-color='%23737E87'/%3e %3cstop offset='1' stop-color='%2351595E' stop-opacity='0.75'/%3e %3c/radialGradient%3e %3clinearGradient id='paint1_linear' x1='18.1191' y1='53.2822' x2='91.5953' y2='53.2822' gradientUnits='userSpaceOnUse'%3e %3cstop stop-color='%23CC7B19'/%3e %3cstop offset='1' stop-color='%23F4CE1E'/%3e %3c/linearGradient%3e %3c/defs%3e %3c/svg%3e":/plex.*dash/i,"data:image/svg+xml,%3csvg width='110' height='110' xmlns='http://www.w3.org/2000/svg'%3e %3cg fill='none' fill-rule='nonzero'%3e %3cpath fill='%23191A1C' d='M0 0h110v110H0z'/%3e %3cpath d='M55.184 27.253c15.548 0 28.52 9.512 31.529 22.16.28 1.174.47 2.362-.072 3.157-.765 1.124-2.516.912-3.724.912h-22.99c-2.322 0-4.007.03-6.198-1.06-1.691-.841-2.279-1.547-3.43-2.876a8.461 8.461 0 0 0-6.411-2.94c-4.704 0-8.52 3.853-8.52 8.606s3.815 8.606 8.52 8.606a8.425 8.425 0 0 0 5.361-1.92c.765-.625 1.765-1.794 2.472-2.539 1.73-1.821 4.443-2.403 7.531-2.284h24.56c2.606-.064 3.556.453 3.062 2.852-2.68 13.003-15.848 22.876-31.687 22.876-9.577 0-18.178-3.61-24.073-9.342-.711-.691-1-1.577.006-2.142.373-.209.925-.326 1.69-.328h16.508c1.768.1 3.343.562 4.747 1.387 1.639.964 1.934 1.63 3.1 2.852a8.452 8.452 0 0 0 6.136 2.635c4.703 0 8.519-3.852 8.519-8.605 0-4.754-3.815-8.606-8.52-8.606a8.425 8.425 0 0 0-5.36 1.919c-.765.626-1.766 1.794-2.472 2.54-2.642 2.78-7.018 2.284-10.515 2.284H32.484c-1.938 0-4.09.201-5.77-.913-1.058-.703-1.79-1.83-2.356-3.457a24.247 24.247 0 0 1-.384-14.803c.943-3.154 2.498-5.647 7.091-5.523h17.076c2.492-.095 4.742.266 6.426 1.368.923.603 1.282 1.159 1.995 1.942.525.577 1.096 1.152 1.58 1.514 1.516 1.135 3.33 1.92 5.362 1.92 4.704 0 8.518-3.853 8.518-8.606 0-4.754-3.813-8.606-8.518-8.606a8.464 8.464 0 0 0-6.488 3.03c-1.51 1.792-3.077 2.929-5.11 3.478-1.39.375-2.524.366-3.93.366h-14.96c-2.953-.008-2.833-1.707-1.073-3.29 5.858-5.28 14.11-8.567 23.249-8.567' fill='%2345AA42'/%3e %3c/g%3e %3c/svg%3e":/dlna/i,"data:image/svg+xml,%3csvg width='110' height='110' viewBox='0 0 110 110' fill='none' xmlns='http://www.w3.org/2000/svg'%3e %3cg clip-path='url(%23clip0_6660_110)'%3e %3crect width='110' height='110' fill='white'/%3e %3cpath d='M0 0H110V110H0V0Z' fill='%23191A1C'/%3e %3cpath d='M79.907 70.1158C79.082 70.5473 78.2312 70.9275 77.3595 71.2542C74.5846 72.2925 71.6452 72.8214 68.6825 72.8156C57.2453 72.8156 47.2824 64.9483 47.2824 54.8525C47.2971 53.4984 47.6728 52.1728 48.3709 51.0124C49.069 49.8521 50.0641 48.899 51.2535 48.2517C40.9088 48.6868 38.2501 59.4666 38.2501 65.7822C38.2501 83.6389 54.7074 85.4492 58.2532 85.4492C60.165 85.4492 63.0485 84.8933 64.779 84.3471L65.0957 84.2407C71.7551 81.9385 77.4322 77.4377 81.1928 71.479C81.308 71.2975 81.3594 71.0829 81.339 70.8689C81.3185 70.6549 81.2273 70.4539 81.0799 70.2975C80.9324 70.1412 80.737 70.0384 80.5246 70.0055C80.3122 69.9726 80.0949 70.0114 79.907 70.1158V70.1158Z' fill='url(%23paint0_linear_6660_110)'/%3e %3cpath opacity='0.35' d='M79.907 70.1158C79.082 70.5473 78.2312 70.9275 77.3595 71.2542C74.5846 72.2925 71.6452 72.8214 68.6825 72.8156C57.2453 72.8156 47.2824 64.9483 47.2824 54.8525C47.2971 53.4984 47.6728 52.1728 48.3709 51.0124C49.069 49.8521 50.0641 48.899 51.2535 48.2517C40.9088 48.6868 38.2501 59.4666 38.2501 65.7822C38.2501 83.6389 54.7074 85.4492 58.2532 85.4492C60.165 85.4492 63.0485 84.8933 64.779 84.3471L65.0957 84.2407C71.7551 81.9385 77.4322 77.4377 81.1928 71.479C81.308 71.2975 81.3594 71.0829 81.339 70.8689C81.3185 70.6549 81.2273 70.4539 81.0799 70.2975C80.9324 70.1412 80.737 70.0384 80.5246 70.0055C80.3122 69.9726 80.0949 70.0114 79.907 70.1158V70.1158Z' fill='url(%23paint1_radial_6660_110)'/%3e %3cpath d='M49.6124 82.4135C47.4566 81.0755 45.5883 79.3222 44.1162 77.2557C42.4383 74.9568 41.2836 72.3187 40.7333 69.5264C40.1829 66.7341 40.2501 63.8551 40.9302 61.0915C41.6102 58.3279 42.8867 55.7465 44.6701 53.5285C46.4534 51.3104 48.7005 49.5094 51.2536 48.2518C52.0077 47.8965 53.2959 47.2535 55.0096 47.285C56.2169 47.2938 57.4058 47.582 58.483 48.1272C59.5603 48.6723 60.4967 49.4595 61.2188 50.4271C62.1949 51.7303 62.733 53.3091 62.756 54.9372C62.756 54.8864 68.668 35.6979 43.4201 35.6979C32.8095 35.6979 24.0841 45.7671 24.0841 54.6012C24.0423 59.2743 25.0422 63.8981 27.0111 68.1364C30.2289 75.002 35.856 80.4469 42.8238 83.4371C49.7916 86.4273 57.6149 86.7546 64.8081 84.3568C62.2894 85.1509 59.6285 85.3893 57.0089 85.0555C54.3892 84.7216 51.8732 83.8236 49.6342 82.4232L49.6124 82.4135Z' fill='url(%23paint2_linear_6660_110)'/%3e %3cpath opacity='0.41' d='M49.6124 82.4135C47.4566 81.0755 45.5883 79.3222 44.1162 77.2557C42.4383 74.9568 41.2836 72.3187 40.7333 69.5264C40.1829 66.7341 40.2501 63.8551 40.9302 61.0915C41.6102 58.3279 42.8867 55.7465 44.6701 53.5285C46.4534 51.3104 48.7005 49.5094 51.2536 48.2518C52.0077 47.8965 53.2959 47.2535 55.0096 47.285C56.2169 47.2938 57.4058 47.582 58.483 48.1272C59.5603 48.6723 60.4967 49.4595 61.2188 50.4271C62.1949 51.7303 62.733 53.3091 62.756 54.9372C62.756 54.8864 68.668 35.6979 43.4201 35.6979C32.8095 35.6979 24.0841 45.7671 24.0841 54.6012C24.0423 59.2743 25.0422 63.8981 27.0111 68.1364C30.2289 75.002 35.856 80.4469 42.8238 83.4371C49.7916 86.4273 57.6149 86.7546 64.8081 84.3568C62.2894 85.1509 59.6285 85.3893 57.0089 85.0555C54.3892 84.7216 51.8732 83.8236 49.6342 82.4232L49.6124 82.4135Z' fill='url(%23paint3_radial_6660_110)'/%3e %3cpath d='M60.8757 60.0418C60.6799 60.2956 60.0781 60.6461 60.0781 61.4099C60.0781 62.0407 60.4889 62.6474 61.2189 63.1573C64.6945 65.5743 71.247 65.2553 71.2639 65.2553C73.8393 65.2491 76.3658 64.5522 78.5801 63.2371C80.8139 61.9328 82.6679 60.0671 83.958 57.8251C85.2482 55.5831 85.9297 53.0428 85.935 50.4561C85.9979 45.0396 84.0014 41.4383 83.1942 39.843C78.0726 29.8246 67.0172 24.0625 54.9951 24.0625C46.8648 24.0617 39.061 27.2614 33.2714 32.9695C27.4818 38.6777 24.1719 46.4354 24.0576 54.5649C24.1736 45.7333 32.9521 38.6007 43.3936 38.6007C44.2395 38.6007 49.0638 38.6829 53.5449 41.0346C57.4943 43.1084 59.5632 45.6124 61.0013 48.0947C62.4951 50.6736 62.7609 53.9317 62.7609 55.2296C62.7609 56.5275 62.0987 58.4515 60.8757 60.0418V60.0418Z' fill='url(%23paint4_radial_6660_110)'/%3e %3cpath d='M60.8757 60.0418C60.6799 60.2956 60.0781 60.6461 60.0781 61.4099C60.0781 62.0407 60.4889 62.6474 61.2189 63.1573C64.6945 65.5743 71.247 65.2553 71.2639 65.2553C73.8393 65.2491 76.3658 64.5522 78.5801 63.2371C80.8139 61.9328 82.6679 60.0671 83.958 57.8251C85.2482 55.5831 85.9297 53.0428 85.935 50.4561C85.9979 45.0396 84.0014 41.4383 83.1942 39.843C78.0726 29.8246 67.0172 24.0625 54.9951 24.0625C46.8648 24.0617 39.061 27.2614 33.2714 32.9695C27.4818 38.6777 24.1719 46.4354 24.0576 54.5649C24.1736 45.7333 32.9521 38.6007 43.3936 38.6007C44.2395 38.6007 49.0638 38.6829 53.5449 41.0346C57.4943 43.1084 59.5632 45.6124 61.0013 48.0947C62.4951 50.6736 62.7609 53.9317 62.7609 55.2296C62.7609 56.5275 62.0987 58.4515 60.8757 60.0418V60.0418Z' fill='url(%23paint5_radial_6660_110)'/%3e %3c/g%3e %3cdefs%3e %3clinearGradient id='paint0_linear_6660_110' x1='38.2501' y1='66.8553' x2='81.3548' y2='66.8553' gradientUnits='userSpaceOnUse'%3e %3cstop stop-color='%230C59A4'/%3e %3cstop offset='1' stop-color='%23114A8B'/%3e %3c/linearGradient%3e %3cradialGradient id='paint1_radial_6660_110' cx='0' cy='0' r='1' gradientUnits='userSpaceOnUse' gradientTransform='translate(62.0575 67.195) scale(23.0533 21.9006)'%3e %3cstop offset='0.72' stop-opacity='0'/%3e %3cstop offset='0.95' stop-opacity='0.53'/%3e %3cstop offset='1'/%3e %3c/radialGradient%3e %3clinearGradient id='paint2_linear_6660_110' x1='60.9747' y1='48.1575' x2='34.0518' y2='77.4829' gradientUnits='userSpaceOnUse'%3e %3cstop stop-color='%231B9DE2'/%3e %3cstop offset='0.16' stop-color='%231595DF'/%3e %3cstop offset='0.67' stop-color='%230680D7'/%3e %3cstop offset='1' stop-color='%230078D4'/%3e %3c/linearGradient%3e %3cradialGradient id='paint3_radial_6660_110' cx='0' cy='0' r='1' gradientUnits='userSpaceOnUse' gradientTransform='translate(41.1202 72.1627) rotate(-81.3844) scale(34.666 28.0066)'%3e %3cstop offset='0.76' stop-opacity='0'/%3e %3cstop offset='0.95' stop-opacity='0.5'/%3e %3cstop offset='1'/%3e %3c/radialGradient%3e %3cradialGradient id='paint4_radial_6660_110' cx='0' cy='0' r='1' gradientUnits='userSpaceOnUse' gradientTransform='translate(30.3086 35.5134) rotate(92.2906) scale(48.9663 104.288)'%3e %3cstop stop-color='%2335C1F1'/%3e %3cstop offset='0.11' stop-color='%2334C1ED'/%3e %3cstop offset='0.23' stop-color='%232FC2DF'/%3e %3cstop offset='0.31' stop-color='%232BC3D2'/%3e %3cstop offset='0.67' stop-color='%2336C752'/%3e %3c/radialGradient%3e %3cradialGradient id='paint5_radial_6660_110' cx='0' cy='0' r='1' gradientUnits='userSpaceOnUse' gradientTransform='translate(82.0829 42.7715) rotate(73.7398) scale(23.527 19.1322)'%3e %3cstop stop-color='%2366EB6E'/%3e %3cstop offset='1' stop-color='%2366EB6E' stop-opacity='0'/%3e %3c/radialGradient%3e %3cclipPath id='clip0_6660_110'%3e %3crect width='110' height='110' fill='white'/%3e %3c/clipPath%3e %3c/defs%3e %3c/svg%3e":/edge/i,[n.p+"static/88969b29713bf045f089.svg"]:/firefox/i,[n.p+"static/b27f5dff79b3f1898b1c.svg"]:/google.*tv/i,"data:image/svg+xml,%3csvg width='110' height='110' xmlns='http://www.w3.org/2000/svg'%3e %3cg fill='none' fill-rule='nonzero'%3e %3cpath fill='%23191A1C' d='M0 0h110v110H0z'/%3e %3cpath d='M83.999 55.87c0-4.902-1.267-9.506-3.49-13.507C89.982 20.926 70.36 24.066 69.269 24.28a49.897 49.897 0 0 0-11.55 3.774c-.523-.03-1.05-.045-1.58-.045-13.239 0-24.32 9.234-27.157 21.612 6.978-7.828 11.861-10.986 14.786-12.25-.467.417-.924.838-1.373 1.263-.15.142-.294.285-.442.427-.296.285-.592.57-.88.858-.173.172-.34.344-.51.517-.255.26-.511.521-.761.784-.178.186-.351.373-.526.56a69.376 69.376 0 0 0-2.38 2.675 80.365 80.365 0 0 0-1.65 2.012c-.172.218-.346.437-.515.655-.161.207-.318.414-.475.621-.178.234-.358.468-.531.701-.124.167-.243.332-.365.498a86.421 86.421 0 0 0-3.717 5.504l-.037.06c-.227.365-.445.724-.659 1.08l-.022.037a89.494 89.494 0 0 0-1.584 2.746c-2.509 4.547-3.73 7.724-3.783 7.913-7.924 28.328 16.806 16.365 20.257 14.58a27.747 27.747 0 0 0 12.324 2.868c12.115 0 22.422-7.732 26.258-18.531H67.757c-2.166 3.66-6.336 6.138-11.127 6.138-7.02 0-12.71-5.318-12.71-11.88h39.85A28.13 28.13 0 0 0 84 55.87h-.001zm-5.205-27.417c2.4 1.62 4.324 4.162 1.02 12.726a27.954 27.954 0 0 0-13.607-11.293c2.578-1.246 8.963-3.88 12.587-1.433zM27.806 80.804c-1.954-2.004-2.3-6.885 2.013-15.78A27.942 27.942 0 0 0 41.95 79.853c-2.791 1.536-10.202 4.995-14.144.952zm16.052-28.966c.223-6.376 5.772-11.482 12.59-11.482 6.819 0 12.368 5.106 12.59 11.482h-25.18z' fill='%231EBBEE'/%3e %3c/g%3e %3c/svg%3e":/internet.*explorer|explorer.*windows/i,"data:image/svg+xml,%3csvg width='110' height='110' xmlns='http://www.w3.org/2000/svg'%3e %3cg fill='none' fill-rule='evenodd'%3e %3cpath fill='%23191A1C' fill-rule='nonzero' d='M0 0h110v110H0z'/%3e %3cpath d='M22.39 71.338V47.784h4.707v23.554H22.39zm2.365-26.916c-1.519 0-2.755-1.214-2.755-2.71C22 40.171 23.236 39 24.755 39c1.518 0 2.754 1.171 2.754 2.711 0 1.497-1.236 2.711-2.754 2.711zm21.342-4.901c9 0 14.661 6.224 14.661 16.18 0 9.955-5.66 16.158-14.661 16.158-9.023 0-14.662-6.203-14.662-16.158 0-9.956 5.639-16.18 14.662-16.18zm0 4.272c-5.943 0-9.695 4.598-9.695 11.908 0 7.287 3.752 11.885 9.695 11.885 5.942 0 9.673-4.598 9.673-11.885 0-7.31-3.73-11.908-9.673-11.908zM63.99 62.62h4.793c.347 3.102 3.362 5.14 7.483 5.14 3.948 0 6.789-2.038 6.789-4.836 0-2.43-1.714-3.882-5.77-4.88l-4.055-.976c-5.748-1.388-8.416-4.078-8.416-8.437 0-5.4 4.707-9.11 11.387-9.11 6.615 0 11.148 3.71 11.3 9.11h-4.728c-.282-3.123-2.863-5.01-6.637-5.01-3.774 0-6.355 1.908-6.355 4.685 0 2.212 1.649 3.513 5.683 4.511l3.448.846c6.42 1.518 9.088 4.1 9.088 8.675 0 5.857-4.663 9.522-12.08 9.522-6.941 0-11.626-3.579-11.93-9.24z' fill='white'/%3e %3c/g%3e %3c/svg%3e":/ios/i,[n.p+"static/88a90a622da7571f29bd.svg"]:/linux/i,"data:image/svg+xml,%3csvg width='110' height='110' xmlns='http://www.w3.org/2000/svg'%3e %3cdefs%3e %3clinearGradient x1='49.994%25' y1='1.631%25' x2='49.994%25' y2='98.543%25' id='a'%3e %3cstop stop-color='%23FF1B2D' offset='0%25'/%3e %3cstop stop-color='%23FF1B2D' offset='30%25'/%3e %3cstop stop-color='%23FF1B2D' offset='61%25'/%3e %3cstop stop-color='%23A70014' offset='100%25'/%3e %3c/linearGradient%3e %3clinearGradient x1='50.005%25' y1='.848%25' x2='50.005%25' y2='99.602%25' id='b'%3e %3cstop stop-color='%239C0000' offset='0%25'/%3e %3cstop stop-color='%23FF4B4B' offset='70%25'/%3e %3cstop stop-color='%23FF4B4B' offset='100%25'/%3e %3c/linearGradient%3e %3c/defs%3e %3cg fill='none' fill-rule='nonzero'%3e %3cpath fill='%23191A1C' d='M0 0h110v110H0z'/%3e %3cpath d='M30.84 0C13.806 0 0 13.812 0 30.847c0 16.543 13.026 30.042 29.38 30.81a30.734 30.734 0 0 0 22.025-7.814c-3.616 2.399-7.845 3.774-12.363 3.774-7.348 0-13.923-3.646-18.349-9.392-3.413-4.02-5.623-9.975-5.77-16.654v-1.455c.147-6.673 2.357-12.627 5.764-16.654 4.426-5.746 11.007-9.386 18.355-9.386 4.518 0 8.747 1.381 12.363 3.781A30.733 30.733 0 0 0 30.957 0h-.117z' fill='url(%23a)' transform='translate(24 24)'/%3e %3cpath d='M20.687 13.462c2.836-3.34 6.489-5.353 10.485-5.353 8.98 0 16.261 10.184 16.261 22.738 0 12.56-7.28 22.737-16.261 22.737-3.996 0-7.649-2.014-10.479-5.353 4.426 5.746 11 9.392 18.349 9.392 4.518 0 8.747-1.381 12.363-3.775 6.31-5.654 10.282-13.861 10.282-23.001 0-9.135-3.972-17.348-10.288-22.996-3.616-2.4-7.84-3.775-12.357-3.775-7.348 0-13.923 3.646-18.349 9.392' fill='url(%23b)' transform='translate(24 24)'/%3e %3c/g%3e %3c/svg%3e":/opera/i,"data:image/svg+xml,%3csvg width='110' height='110' xmlns='http://www.w3.org/2000/svg'%3e %3cg fill='none' fill-rule='nonzero'%3e %3cpath fill='%23191A1C' d='M0 0h110v110H0z'/%3e %3cpath d='M71.76 54.994c-.074-7.74 6.344-11.46 6.635-11.64-3.61-5.257-9.224-5.978-11.232-6.064-4.783-.482-9.332 2.804-11.755 2.804-2.424 0-6.166-2.731-10.133-2.657-5.215.075-10.018 3.017-12.706 7.664-5.412 9.36-1.384 23.222 3.893 30.81 2.58 3.711 5.653 7.889 9.693 7.737 3.89-.151 5.36-2.503 10.059-2.503 4.7 0 6.023 2.503 10.136 2.425 4.186-.073 6.836-3.784 9.397-7.51 2.962-4.31 4.18-8.483 4.253-8.697-.092-.042-8.164-3.12-8.245-12.373m-7.728-22.725c2.146-2.587 3.589-6.187 3.193-9.765-3.088.125-6.827 2.049-9.045 4.634-1.987 2.29-3.726 5.948-3.255 9.46 3.442.265 6.962-1.745 9.107-4.33' fill='white'/%3e %3c/g%3e %3c/svg%3e":/mac/i,"data:image/svg+xml,%3csvg width='110' height='110' xmlns='http://www.w3.org/2000/svg'%3e %3cdefs%3e %3cradialGradient cx='89.267%25' cy='49.713%25' fx='89.267%25' fy='49.713%25' r='92.5%25' gradientTransform='matrix(1 0 0 .6112 0 .193)' id='a'%3e %3cstop stop-color='%23F9BE03' offset='0%25'/%3e %3cstop stop-color='%23CC7C19' offset='100%25'/%3e %3c/radialGradient%3e %3c/defs%3e %3cg fill='none' fill-rule='nonzero'%3e %3cpath fill='%23191A1C' d='M0 0h110v110H0z'/%3e %3cpath fill='url(%23a)' d='M38 25h17.434l19.238 30-19.238 30H38l19.238-30L38 25'/%3e %3c/g%3e %3c/svg%3e":/konvergo|plex.*home.*theater|plex.*media.*center/i,"data:image/svg+xml,%3csvg width='110' height='110' xmlns='http://www.w3.org/2000/svg'%3e %3cdefs%3e %3clinearGradient x1='100%25' y1='50%25' x2='0%25' y2='50%25' id='a'%3e %3cstop stop-color='%23F4CE1E' offset='0%25'/%3e %3cstop stop-color='%23CC7C19' offset='100%25'/%3e %3c/linearGradient%3e %3c/defs%3e %3cg fill='none' fill-rule='nonzero'%3e %3cpath fill='%23191A1C' d='M0 0h110v110H0z'/%3e %3cpath fill='url(%23a)' d='M78.473 55l-20.3-28.986L51.728 26l-3.222.014L68.806 55 50.76 80.777h-3.222L65.584 55l-20.3-28.986L38.84 26l-3.223.014 18.061 25.764H19V55h40.14L41.084 29.222h3.223L62.361 55l-20.3 29h9.667l20.3-29-18.054-25.778h3.223L75.25 55l-20.3 29h9.667l18.01-25.778h8.706V55h-9.639L63.65 80.777h-3.222z'/%3e %3c/g%3e %3c/svg%3e":/plexamp/i,"data:image/svg+xml,%3csvg width='110' height='110' xmlns='http://www.w3.org/2000/svg'%3e %3cdefs%3e %3clinearGradient x1='100%25' y1='50%25' x2='0%25' y2='50%25' id='a'%3e %3cstop stop-color='%23F9BE03' offset='0%25'/%3e %3cstop stop-color='%23E5A00D' offset='47.738%25'/%3e %3cstop stop-color='%23CC7C19' offset='100%25'/%3e %3c/linearGradient%3e %3cradialGradient cx='89.267%25' cy='49.713%25' fx='89.267%25' fy='49.713%25' r='92.5%25' gradientTransform='matrix(1 0 0 .6112 0 .193)' id='b'%3e %3cstop stop-color='%23F9BE03' offset='0%25'/%3e %3cstop stop-color='%23CC7C19' offset='100%25'/%3e %3c/radialGradient%3e %3c/defs%3e %3cg fill='none' fill-rule='nonzero'%3e %3cpath fill='%23191A1C' d='M0 0h110v110H0z'/%3e %3cpath d='M31 62C13.879 62 0 48.121 0 31 0 13.879 13.879 0 31 0c17.121 0 31 13.879 31 31 0 17.121-13.879 31-31 31zm0-1.86c16.093 0 29.14-13.047 29.14-29.14S47.093 1.86 31 1.86 1.86 14.907 1.86 31 14.907 60.14 31 60.14z' fill='url(%23a)' transform='translate(24 24)'/%3e %3cpath fill='url(%23b)' d='M20.398 11.656h11.26l12.424 19.375-12.425 19.375H20.398l12.425-19.375-12.425-19.375' transform='translate(24 24)'/%3e %3c/g%3e %3c/svg%3e":/plex.*media.*server/i,"data:image/svg+xml,%3csvg width='110' height='110' xmlns='http://www.w3.org/2000/svg'%3e %3cdefs%3e %3clinearGradient x1='50%25' y1='0%25' x2='50%25' y2='100%25' id='a'%3e %3cstop stop-color='%231A80D3' offset='0%25'/%3e %3cstop stop-color='%231A4593' offset='100%25'/%3e %3c/linearGradient%3e %3c/defs%3e %3cg fill='none' fill-rule='nonzero'%3e %3cpath fill='%23191A1C' d='M0 0h110v110H0z'/%3e %3cpath d='M89.911 69.86c-1.417 1.788-4.89 3.064-4.89 3.064l-25.83 9.278V75.36l19.01-6.774c2.156-.773 2.488-1.865.734-2.439-1.75-.575-4.92-.41-7.078.366L59.19 70.974v-7.101l.73-.247s3.66-1.296 8.807-1.866c5.147-.567 11.45.078 16.397 1.953 5.575 1.762 6.203 4.36 4.787 6.147zM61.65 58.21v-17.5c0-2.054-.379-3.946-2.307-4.482-1.477-.473-2.393.898-2.393 2.952V83L45.13 79.25V27c5.025.933 12.345 3.138 16.28 4.465 10.01 3.436 13.403 7.712 13.403 17.348 0 9.392-5.798 12.952-13.165 9.396zM23.446 74.644c-5.723-1.611-6.676-4.97-4.067-6.905 2.41-1.786 6.511-3.131 6.511-3.131l16.945-6.025v6.869l-12.194 4.364c-2.154.773-2.485 1.867-.735 2.44 1.752.574 4.923.41 7.08-.364l5.85-2.122v6.145c-.372.066-.785.132-1.168.196-5.85.956-12.081.557-18.222-1.467z' fill='url(%23a)'/%3e %3c/g%3e %3c/svg%3e":/WebMAF|playstation|mystery.*3/i,"data:image/svg+xml,%3csvg width='110' height='110' xmlns='http://www.w3.org/2000/svg'%3e %3cg fill='none' fill-rule='evenodd'%3e %3cpath fill='%23191A1C' fill-rule='nonzero' d='M0 0h110v110H0z'/%3e %3cpath fill='%23662D91' d='M11 32h88v46H11z'/%3e %3cpath d='M66.927 54.388l-6.196 6.21v-6.231h-5.378v15.835h5.378v-6.424l6.469 6.424h6.77l-8.221-8.242 6.809-6.823v9.398c0 3.12 1.872 6 6.586 6 2.238 0 4.292-1.272 5.29-2.424l2.418 2.09H88V54.384h-5.378v10.24c-.605 1.06-1.45 1.726-2.754 1.726-1.323 0-1.93-.787-1.93-3.301v-8.665h-11.01m-33.073 15.84l-4.846-6.74h-1.63v6.726H22V50h7.706c4.443 0 8.069 3.029 8.069 6.754 0 2.273-1.39 4.302-3.51 5.544l5.69 7.927-6.1-.002zm-1.464-13.467c0-1.88-1.509-3.393-3.353-3.393h-1.663v6.756h1.663c1.845 0 3.353-1.515 3.353-3.363zm21.917 5.54c0 4.578-3.714 8.244-8.28 8.244a8.226 8.226 0 0 1-8.251-8.243 8.226 8.226 0 0 1 8.25-8.241c4.566 0 8.28 3.667 8.28 8.24zm-8.28-4.33c-1.421 0-2.631 1.935-2.631 4.33 0 2.397 1.208 4.335 2.63 4.335 1.453 0 2.66-1.938 2.66-4.334 0-2.397-1.206-4.331-2.66-4.331z' fill='white' fill-rule='nonzero'/%3e %3c/g%3e %3c/svg%3e":/roku/i,[n.p+"static/d35160fffeea81c08373.svg"]:/safari/i,"data:image/svg+xml,%3csvg width='110' height='110' xmlns='http://www.w3.org/2000/svg'%3e %3cg fill='none' fill-rule='nonzero'%3e %3cpath fill='%23191A1C' d='M0 0h110v110H0z'/%3e %3cpath d='M100.943 47.369c1.253 7.276-18.299 16.806-43.676 21.284-25.373 4.478-46.959 2.205-48.21-5.074-1.25-7.278 18.307-16.804 43.68-21.281 25.375-4.48 46.957-2.208 48.206 5.07z' fill='%23034EA2'/%3e %3cpath d='M77.061 58.17l-.13-7.566h2.355v9.537H75.9l-2.35-7.826h-.05l.13 7.826h-2.34v-9.537h3.532l2.186 7.567h.053zm-42.806-6.673l-1.303 8.744h-2.568l1.763-9.637h4.231l1.756 9.637h-2.558l-1.268-8.744h-.053zm11.092 6.474l1.176-7.367h3.879l.206 9.637H48.23l-.063-8.664h-.05l-1.59 8.664h-2.413l-1.59-8.664h-.052l-.06 8.664h-2.382l.21-9.637h3.881l1.175 7.367h.05zm-18.969-.448c-.489-1.248-3.868-1.818-4.283-3.787-.1-.483-.09-.87-.021-1.303.252-1.569 1.635-2.135 3.327-2.135 1.347 0 3.207.328 3.207 2.427v.677h-2.372v-.595c0-.526-.329-.874-.885-.874-.595 0-.803.338-.869.646-.022.11-.035.314.01.508.27 1.128 3.88 1.73 4.28 3.748.04.205.126.75.01 1.583-.225 1.605-1.642 2.201-3.362 2.201-1.789 0-3.459-.648-3.459-2.796l.002-.747h2.551v.933c0 .53.362.876.959.876.632 0 .847-.327.926-.648.044-.18.072-.48-.02-.714zm30.93-.018c-.484-1.235-3.83-1.801-4.24-3.75a3.36 3.36 0 0 1-.021-1.287c.247-1.557 1.619-2.117 3.292-2.117 1.334 0 3.178.326 3.178 2.403v.67h-2.354v-.59c0-.522-.321-.862-.872-.862-.59 0-.793.331-.861.64-.023.104-.036.307.009.5.266 1.116 3.84 1.712 4.239 3.711.041.202.123.74.008 1.566-.221 1.591-1.625 2.18-3.327 2.18-1.771 0-3.426-.643-3.426-2.77l.004-.736h2.524l.002.925c0 .517.36.863.947.863.629 0 .841-.322.919-.641.042-.181.073-.473-.021-.705zm7.99 1.295c.66 0 .866-.463.911-.7a2.03 2.03 0 0 0 .022-.368V50.6h2.406v6.913c.005.178-.012.542-.02.633-.17 1.8-1.573 2.383-3.32 2.383-1.75 0-3.155-.584-3.322-2.383a8.333 8.333 0 0 1-.02-.633V50.6h2.403v7.132c0 .124.005.265.023.368.051.237.251.7.916.7zm19.842-.102c.689 0 .93-.441.974-.698.017-.11.022-.245.021-.367v-1.399h-.976v-1.407h3.373v2.587c-.003.18-.007.313-.035.635-.159 1.753-1.66 2.379-3.345 2.379-1.69 0-3.188-.626-3.349-2.379a7.9 7.9 0 0 1-.034-.635l.002-4.058c0-.171.021-.474.04-.635.21-1.801 1.652-2.38 3.34-2.38s3.164.576 3.34 2.38c.03.307.02.635.02.635v.321h-2.398v-.54c.002.002-.003-.229-.031-.366-.04-.213-.224-.702-.948-.702-.694 0-.897.463-.948.702a2.19 2.19 0 0 0-.04.455v4.407c-.002.122.005.256.024.367.042.258.281.698.97.698z' fill='white'/%3e %3c/g%3e %3c/svg%3e":/samsung/i,"data:image/svg+xml,%3csvg width='110' height='110' xmlns='http://www.w3.org/2000/svg'%3e %3cg fill='none' fill-rule='nonzero'%3e %3cpath fill='%23191A1C' d='M0 0h110v110H0z'/%3e %3cpath d='M34.25 46c-4.875 0-8.842 3.966-8.842 8.842 0 4.874 3.967 8.84 8.842 8.84s8.841-3.966 8.841-8.84c0-4.876-3.966-8.842-8.84-8.842zm0 14.506c-3.092 0-5.605-2.54-5.605-5.664 0-3.124 2.513-5.664 5.605-5.664 3.091 0 5.607 2.54 5.607 5.664 0 3.123-2.516 5.664-5.607 5.664zm-14.219-5.518c1.25.953 1.883 2.174 1.883 3.625 0 1.352-.625 2.671-1.717 3.62-1.097.949-2.602 1.473-4.24 1.473-3.406 0-5.364-2.283-5.445-2.378l-.278-.33 2.547-1.72.221.165c.41.307 1.52 1.022 2.956 1.022 1.7 0 2.716-.941 2.716-1.852 0-.388 0-1.195-3.201-2.213-1.646-.522-2.75-1.04-3.588-1.68-1.25-.952-1.885-2.172-1.885-3.624 0-1.352.626-2.671 1.719-3.619 1.096-.95 2.6-1.474 4.238-1.474 3.406 0 5.364 2.28 5.447 2.378l.276.33-2.545 1.72-.22-.165c-.413-.308-1.526-1.023-2.958-1.023-1.7 0-2.715.943-2.715 1.853 0 .388 0 1.195 3.201 2.213 1.646.522 2.75 1.04 3.588 1.68zm38.72 1.11v-9.465h3.159V63.52l-10.659-9.92v9.406h-3.158V46.16l10.658 9.936zm17-10.033c4.876 0 8.842 3.966 8.842 8.841 0 4.875-3.966 8.841-8.842 8.841-4.874 0-8.84-3.966-8.84-8.84 0-4.876 3.966-8.842 8.84-8.842zm0 14.505c3.09 0 5.606-2.541 5.606-5.664 0-3.122-2.515-5.663-5.606-5.663-3.092 0-5.605 2.54-5.605 5.663s2.513 5.664 5.605 5.664zm14.219-5.81c-1.25-.954-1.882-2.173-1.882-3.625 0-1.352.625-2.67 1.717-3.62 1.096-.95 2.601-1.474 4.239-1.474 3.406 0 5.364 2.283 5.445 2.379l.278.33-2.546 1.72-.222-.165c-.41-.307-1.52-1.022-2.955-1.022-1.7 0-2.717.941-2.717 1.852 0 .388 0 1.195 3.202 2.213 1.646.522 2.75 1.04 3.588 1.68C99.367 55.98 100 57.2 100 58.65c0 1.354-.626 2.672-1.718 3.62-1.096.95-2.6 1.474-4.238 1.474-3.407 0-5.364-2.281-5.445-2.378l-.279-.33 2.547-1.72.22.165c.412.307 1.525 1.022 2.957 1.022 1.7 0 2.716-.942 2.716-1.853 0-.388 0-1.195-3.202-2.211-1.646-.523-2.75-1.04-3.588-1.68z' fill='white'/%3e %3c/g%3e %3c/svg%3e":/sonos/i,"data:image/svg+xml,%3csvg width='110' height='110' xmlns='http://www.w3.org/2000/svg'%3e %3cdefs%3e %3clinearGradient x1='50%25' y1='0%25' x2='50%25' y2='100%25' id='a'%3e %3cstop stop-color='white' stop-opacity='0' offset='0%25'/%3e %3cstop stop-color='white' stop-opacity='.45' offset='100%25'/%3e %3c/linearGradient%3e %3cradialGradient cx='82.862%25' fx='82.862%25' fy='50%25' r='91.159%25' gradientTransform='matrix(-1 0 0 -.851 1.657 .926)' id='b'%3e %3cstop stop-color='%23F9BE03' offset='0%25'/%3e %3cstop stop-color='%23CC7C19' offset='100%25'/%3e %3c/radialGradient%3e %3c/defs%3e %3cg fill='none' fill-rule='evenodd'%3e %3cpath fill='%23191A1C' fill-rule='nonzero' d='M0 0h110v110H0z'/%3e %3cpath d='M0 10.604h6.856L9.09 7.8h1.01l-2.186 2.804h9.523L19.18 7.8h1.01l-1.695 2.804h9.523L29.27 7.8h1.01l-1.204 2.804h9.523L39.36 7.8h1.01l-.713 2.804h9.523l.27-2.804h1.01l-.221 2.804h9.523L59.54 7.8h1.009l.27 2.804h9.523L69.63 7.8h1.009l.76 2.804h9.524L79.721 7.8h1.009l1.252 2.804h9.523L89.811 7.8h1.009l1.743 2.804h9.523L99.901 7.8h1.009l2.234 2.804H110v.792h-6.224l2.557 3.208H110v.792h-3.035l2.875 3.608h.16v1.751l-.748-.959H98.28l2.492 4.008H110v.792h-8.735l2.989 4.808H110v.792h-5.253l3.985 6.408H110v.792h-.775l.775 1.247v2.563l-2.303-3.81H93.95l3.577 8.008H110v.792H97.881l4.292 9.608H110v.792h-7.473l5.721 12.808H110v.792h-1.398l1.398 3.13v5.026l-3.5-8.156H87.582L91.602 85H89.24l-3.76-14.804H66.56L67.987 85h-2.36l-1.168-14.804H45.541L44.374 85h-2.361l1.426-14.804H24.52L20.76 85H18.4l4.02-14.804H3.5L0 78.352v-5.026l1.398-3.13H0v-.792h1.752l5.721-12.808H0v-.792h7.827l4.292-9.608H0v-.792h12.473l3.577-8.008H2.302L0 41.206v-2.563l.775-1.247H0v-.792h1.268l3.985-6.408H0v-.792h5.745l2.99-4.808H0v-.792h9.228l2.492-4.008H.748l-.748.96v-1.752h.16l2.875-3.608H0v-.792h3.667l2.557-3.208H0v-.792zm26.111 45.992H9.337L3.84 69.404h18.794l3.477-12.808zm18.638 0H27.975l-3.253 12.808h18.793l1.234-12.808zm18.638 0H46.613l-1.01 12.808h18.794l-1.01-12.808zm18.638 0H65.251l1.234 12.808h18.793l-3.253-12.808zm18.638 0H83.889l3.477 12.808h18.794l-5.497-12.808zm-71.728-10.4H13.8l-4.123 9.608h16.65l2.608-9.608zm16.816 0H30.617l-2.44 9.608h16.648l.926-9.608zm16.816 0H47.433l-.758 9.608h16.65l-.758-9.608zm16.816 0H64.25l.925 9.608h16.65l-2.44-9.608zm16.817 0H81.065l2.609 9.608h16.649L96.2 46.196zm-64.876-8.8H17.577l-3.436 8.008h15.01l2.173-8.008zm15.275 0H32.852l-2.034 8.008h15.01l.77-8.008zm15.275 0H48.126l-.63 8.008h15.009l-.631-8.008zm15.274 0H63.401l.771 8.008h15.01l-2.034-8.008zm15.275 0H78.676l2.174 8.008h15.01l-3.437-8.008zm-17.104-7.2H62.707l.618 6.408h13.622l-1.628-6.408zm-56.053 0H6.654l-3.872 6.408h13.622l2.862-6.408zm14.013 0H20.667l-2.75 6.408H31.54l1.74-6.408zm14.014 0H34.68l-1.628 6.408h13.622l.618-6.408zm14.013 0H48.694l-.505 6.408H61.81l-.505-6.408zm28.027 0H76.72l1.74 6.408h13.622l-2.75-6.408zm14.013 0H90.734l2.862 6.408h13.622l-3.872-6.408zm-81.579-5.6H10.038l-2.905 4.808H19.62l2.147-4.808zm13.033 0H23.07l-2.063 4.808h12.488l1.305-4.808zm13.032 0H36.103l-1.221 4.808h12.487l.463-4.808zm13.033 0h-11.73l-.378 4.808h12.486l-.378-4.808zm26.064 0H75.2l1.305 4.808h12.488l-2.064-4.808zm-13.032 0h-11.73l.464 4.808h12.487l-1.221-4.808zm26.065 0h-11.73l2.148 4.808h12.487l-2.905-4.808zm-76.05-4.8H12.939l-2.422 4.008h11.605l1.79-4.008zm12.191 0H25.131l-1.72 4.008h11.604l1.088-4.008zm12.192 0H37.322l-1.018 4.008H47.91l.386-4.008zm12.191 0H49.514l-.316 4.008h11.604l-.316-4.008zm12.192 0H61.705l.386 4.008h11.605l-1.018-4.008zm12.191 0H73.897l1.088 4.008h11.604l-1.72-4.008zm12.192 0H86.088l1.79 4.008h11.605l-2.422-4.008zm-25.5-4.4H61.28l.348 3.608h10.847l-.916-3.608zm-57.105 0H4.178l-2.812 3.608h10.847l2.243-3.608zm11.421 0H15.598l-2.18 3.608h10.848l1.611-3.608zm11.42 0H27.02l-1.548 3.608h10.847l.98-3.608zm11.422 0h-10.28l-.915 3.608H48.37l.348-3.608zm11.42 0H49.861l-.285 3.608h10.848l-.285-3.608zm22.842 0H72.702l.98 3.608h10.847l-1.548-3.608zm11.42 0H84.124l1.611 3.608h10.848l-2.18-3.608zm11.422 0h-10.28l2.244 3.608h10.847l-2.811-3.608zm-35.279-4h-9.648l.309 3.208h10.154l-.815-3.208zm-53.6 0H7.296l-2.5 3.208h10.153l1.995-3.208zm10.72 0h-9.648l-1.939 3.208h10.154l1.433-3.208zm10.72 0h-9.648l-1.377 3.208h10.154l.87-3.208zm10.72 0h-9.648l-.815 3.208h10.154l.309-3.208zm10.72 0h-9.648l-.253 3.208h10.154l-.253-3.208zm21.44 0h-9.648l.871 3.208h10.154l-1.377-3.208zm10.72 0h-9.648l1.433 3.208h10.154l-1.939-3.208zm10.72 0h-9.648l1.995 3.208h10.153l-2.5-3.208zM0 7.792V7h110v.81l-.017-.018H0zm0 .018V7.8h.009L0 7.81z' fill='url(%23a)' transform='translate(0 25)'/%3e %3cpath d='M39.58 25.496l19.11 26.267-3.157 3.089-16.211-22.917.259-6.439zm-6.24 52.71h22.686L77.93 51.858l-.248 6.432-21.919 26.347-22.678.017.255-6.448z' fill='%23995C12'/%3e %3cpath fill='url(%23b)' d='M39.584.503h16.748l21.602 26.353-21.91 26.353H33.342l24.877-26.353z' transform='translate(0 25)'/%3e %3c/g%3e %3c/svg%3e":/plex.*vr/i,"data:image/svg+xml,%3csvg width='110' height='110' xmlns='http://www.w3.org/2000/svg'%3e %3cg fill='none' fill-rule='evenodd'%3e %3cpath fill='%23191A1C' fill-rule='nonzero' d='M0 0h110v110H0z'/%3e %3cpath d='M80.26 51.463v-8.37h6.608v9.251c0 3.909-6.608 4.708-6.608-.88zm-9.104 5.874V46.03c0-1.786 1.56-2.937 3.377-2.937h2.79v9.839c0 7.046 12.629 7.102 12.629-.147V43.24h3.67c1.3 0 2.35 1.528 2.35 2.937v11.6c0 2.339-1.903 3.965-4.258 3.965h-15.86c-2.79 0-4.698-1.644-4.698-4.405z' fill='%23009AC7'/%3e %3cpath d='M64.556 67.256h-4.919V51.35h4.919v15.907zm-5.395-21.42c0-1.548 1.31-2.777 2.896-2.777 1.626 0 2.935 1.23 2.935 2.776 0 1.547-1.309 2.777-2.935 2.777-1.587 0-2.896-1.27-2.896-2.777zm-4.562 21.42H49.68V51.35h4.92v15.907zm-5.395-21.42c0-1.548 1.27-2.777 2.857-2.777 1.666 0 2.975 1.23 2.975 2.776 0 1.547-1.31 2.777-2.975 2.777-1.587 0-2.857-1.27-2.857-2.777zm-7.338-1.429h5.196s-4.958 17.97-5.632 20.072c-.556 1.627-1.786 2.936-3.65 2.936-2.102 0-3.094-1.547-3.57-2.936-.436-1.428-3.65-13.288-3.65-13.288s-3.213 11.86-3.689 13.288c-.436 1.389-1.428 2.936-3.57 2.936-1.824 0-3.094-1.31-3.61-2.936-.674-2.102-5.632-20.072-5.632-20.072h5.157l4.323 16.86s3.293-12.655 3.808-14.48c.556-1.785 1.627-2.578 3.214-2.578 1.547 0 2.657.793 3.173 2.578.555 1.825 3.848 14.48 3.848 14.48l4.284-16.86z' fill='white' fill-rule='nonzero'/%3e %3c/g%3e %3c/svg%3e":/wii.*u/i,"data:image/svg+xml,%3csvg width='110' height='110' xmlns='http://www.w3.org/2000/svg'%3e %3cg fill='none' fill-rule='nonzero'%3e %3cpath fill='%23191A1C' d='M0 0h110v110H0z'/%3e %3cpath d='M27 34.929l22.885-3.107.01 22.006-22.874.13L27 34.928zm22.875 21.435l.017 22.026-22.874-3.135-.002-19.039 22.859.148zm2.774-24.949L82.993 27v26.548l-30.344.24V31.416zM83 56.571L82.993 83l-30.344-4.27-.043-22.208 30.394.05z' fill='%230DADEA'/%3e %3c/g%3e %3c/svg%3e":/windows/i,"data:image/svg+xml,%3csvg width='110' height='110' xmlns='http://www.w3.org/2000/svg'%3e %3cg fill='none' fill-rule='nonzero'%3e %3cpath fill='%23191A1C' d='M0 0h110v110H0z'/%3e %3cpath d='M27 34.929l22.885-3.107.01 22.006-22.874.13L27 34.928zm22.875 21.435l.017 22.026-22.874-3.135-.002-19.039 22.859.148zm2.774-24.949L82.993 27v26.548l-30.344.24V31.416zM83 56.571L82.993 83l-30.344-4.27-.043-22.208 30.394.05z' fill='%23E81123'/%3e %3c/g%3e %3c/svg%3e":/windows.*phone|wince/i,"data:image/svg+xml,%3csvg width='110' height='110' xmlns='http://www.w3.org/2000/svg'%3e %3cdefs%3e %3cradialGradient cx='43.541%25' cy='34.436%25' fx='43.541%25' fy='34.436%25' r='65.564%25' gradientTransform='matrix(0 1 -1.0562 0 .8 -.091)' id='a'%3e %3cstop stop-color='white' offset='0%25'/%3e %3cstop stop-color='%23F9F9F9' offset='27.44%25'/%3e %3cstop stop-color='%23666' offset='100%25'/%3e %3c/radialGradient%3e %3cradialGradient cx='45.084%25' cy='39.389%25' fx='45.084%25' fy='39.389%25' r='72.04%25' id='b'%3e %3cstop stop-color='white' stop-opacity='0' offset='0%25'/%3e %3cstop stop-color='white' stop-opacity='0' offset='55.787%25'/%3e %3cstop stop-color='white' stop-opacity='.6' offset='74.653%25'/%3e %3cstop stop-color='white' stop-opacity='.6' offset='88.443%25'/%3e %3cstop stop-color='white' stop-opacity='.5' offset='100%25'/%3e %3c/radialGradient%3e %3clinearGradient x1='68.935%25' y1='8.544%25' x2='35.104%25' y2='47.055%25' id='c'%3e %3cstop stop-color='%231E7E01' offset='0%25'/%3e %3cstop stop-color='%2372C028' offset='60.399%25'/%3e %3cstop stop-color='%23A4D056' offset='100%25'/%3e %3c/linearGradient%3e %3clinearGradient x1='27.347%25' y1='50.898%25' x2='77.938%25' y2='65.198%25' id='d'%3e %3cstop stop-color='%231E7E01' offset='0%25'/%3e %3cstop stop-color='%2372C028' offset='60.399%25'/%3e %3cstop stop-color='%23A4D056' offset='100%25'/%3e %3c/linearGradient%3e %3clinearGradient x1='27.347%25' y1='50.898%25' x2='77.938%25' y2='65.198%25' id='e'%3e %3cstop stop-color='%231E7E01' offset='0%25'/%3e %3cstop stop-color='%2372C028' offset='60.399%25'/%3e %3cstop stop-color='%23A4D056' offset='100%25'/%3e %3c/linearGradient%3e %3c/defs%3e %3cg fill='none' fill-rule='nonzero'%3e %3cpath fill='%23191A1C' d='M0 0h110v110H0z'/%3e %3cpath d='M61.895 30.98c0 17.088-13.852 30.94-30.938 30.94C13.87 61.92.019 48.067.019 30.98.019 13.896 13.87.044 30.957.044c17.086 0 30.938 13.85 30.938 30.938z' fill='url(%23a)' transform='translate(24 24)'/%3e %3cpath d='M61.895 30.981c0 17.088-13.852 30.939-30.938 30.939C13.87 61.92.019 48.069.019 30.98.019 13.896 13.87.043 30.957.043c17.086 0 30.938 13.851 30.938 30.938z' fill-opacity='.45' fill='url(%23b)' transform='translate(24 24)'/%3e %3cpath d='M9.735 8.458c4.893.942 10.622 5.415 13.314 9.028 1.485 3.837 2.797 6.997 4.452 10.506a168.44 168.44 0 0 1 3.493-2.94L30.987 9.81c-3.647-2.294-9.674-5.312-16.244-5.115a29.083 29.083 0 0 0-5.008 3.762z' fill='url(%23c)' transform='translate(24 24)'/%3e %3cpath d='M6.648 50.086a31.299 31.299 0 0 0 2.879 3.184c-.15-8.793 10.044-18.202 18-25.306l-4.468-10.533C19.653 21.611 5.383 38.6 6.649 50.086z' fill='url(%23d)' transform='translate(24 24)'/%3e %3cpath d='M30.913 8.458c4.894.942 10.622 5.415 13.314 9.028 1.485 3.837 2.797 6.997 4.452 10.506a168.44 168.44 0 0 1 3.493-2.94L52.165 9.81c-3.646-2.294-9.673-5.312-16.244-5.115a29.083 29.083 0 0 0-5.008 3.762z' fill='url(%23c)' transform='matrix(-1 0 0 1 107.086 24)'/%3e %3cpath d='M34.46 50.086a31.299 31.299 0 0 0 2.878 3.184c-.15-8.793 10.045-18.202 18-25.306L50.87 17.431c-3.405 4.18-17.676 21.169-16.41 32.655z' fill='url(%23e)' transform='matrix(-1 0 0 1 113.719 24)'/%3e %3c/g%3e %3c/svg%3e":/xbox|mystery.*5/i},Ga=T().pairs(Wa),Ka={};function qa(e){for(let t=0,n=Ga.length;t<n;t++){const[n,a]=Ga[t];if(a.test(e))return n}}function $a(e,t){let n=Ka[e]||Ka[t];return n||(n=e&&qa(e),n?(Ka[e]=n,n):(n=t&&qa(t),n?(Ka[t]=n,n):_a))}var Ja=n(7525),Qa=n(7828),Ya=n(40339),Xa=n(49908);const Za="ServerConnectionStatusIcon-circleBadge-iXs1yI";class er extends i.Component{shouldComponentUpdate(e,t){return(0,Xa.A)(this,e,t)}render(){const{className:e,isBadge:t,isConnected:n,isUnavailable:a,isSecure:r,isRelayed:s}=this.props;return s?i.createElement("div",{className:ma()(e,"ServerConnectionStatusIcon-warningIcon-mPGmIF",t&&Za),title:(0,B.A)("Indirect")},i.createElement(Ja.default,{accessibilityLabel:(0,B.A)("Indirect")})):a?i.createElement("div",{className:ma()(e,"ServerConnectionStatusIcon-alertIcon-wY1AVL",t&&"ServerConnectionStatusIcon-triangleBadge-xEUZj3"),title:(0,B.A)("Unavailable")},i.createElement(Qa.default,{accessibilityLabel:(0,B.A)("Unavailable")})):r&&n?i.createElement("div",{className:ma()(e,"ServerConnectionStatusIcon-secureIcon-ge2rd0",t&&Za),title:(0,B.A)("Secure")},i.createElement(Ya.default,{accessibilityLabel:(0,B.A)("Secure")})):null}}const tr=er;var nr=n(53616);const ar={playerContainer:"SessionTileDetails-playerContainer-X3NsI4",playerIcon:"SessionTileDetails-playerIcon-YpDcnp",productLogo:"SessionTileDetails-productLogo-CUX2Xn",statusIcon:"SessionTileDetails-statusIcon-DyyfUb",playerInformation:"SessionTileDetails-playerInformation-NYQwZe",title:"SessionTileDetails-title-vRYDeW",subtitle:"SessionTileDetails-subtitle-zxV_EL",streamInformation:"SessionTileDetails-streamInformation-wRW4jb",videoStreamInformation:"SessionTileDetails-videoStreamInformation-zFjddG SessionTileDetails-streamInformation-wRW4jb",audioStreamInformation:"SessionTileDetails-audioStreamInformation-gYUJkg SessionTileDetails-streamInformation-wRW4jb",subtitlesStreamInformation:"SessionTileDetails-subtitlesStreamInformation-QGODvh SessionTileDetails-streamInformation-wRW4jb",streamType:"SessionTileDetails-streamType-cs6idI",streams:"SessionTileDetails-streams-c427gP",rightArrow:"SessionTileDetails-rightArrow-u2pHo7",rightArrowForEdge:"SessionTileDetails-rightArrowForEdge-F1s9xN SessionTileDetails-rightArrow-u2pHo7"};function rr({children:e}){return i.createElement("span",null,i.createElement("span",{className:(0,Ba.A)()?ar.rightArrowForEdge:ar.rightArrow}),e)}function ir({local:e,relayed:t}){let n;return n=t?(0,B.A)("Indirect"):e?"Local":(0,B.A)("Remote"),i.createElement("span",null,n)}function sr({className:e,server:t,session:n,internalViewOffset:a}){const{duration:r,Media:s,Player:l,Session:o,TranscodeSession:c}=n,d=s?s.find((e=>e.selected))||s[0]:void 0,u=(0,Ua.A)(d);let m=(0,Fa.A)(d);if(!m){const e=za.A.get("audio").id;m=(0,Va.A)(d,{streamType:e})[0]}const p=!!(null==d?void 0:d.videoCodec),h=!!(null==d?void 0:d.audioCodec)||F.cK(n.source,F.on),g=!!u;return i.createElement("div",{className:e},i.createElement("div",{className:ar.playerContainer},i.createElement("div",{className:ar.playerIcon},i.createElement("img",{className:ar.productLogo,height:44,src:$a(l.product,l.platform),width:44}),i.createElement(tr,{className:ar.statusIcon,isBadge:!0,isConnected:!0,isRelayed:l.relayed,isSecure:l.secure})),i.createElement("div",{className:ar.playerInformation},i.createElement("div",{className:ar.title,title:`${l.product} ${Et.w} ${l.title}`},l.product," ",i.createElement(Et.A,null)," ",l.title),i.createElement("div",{className:ar.subtitle},(v=l.state)?v.replace(/\w\S*/g,(function(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()})):"",r?i.createElement(i.Fragment,null,i.createElement(Et.A,null),`${(0,Ra.A)(a)} / ${(0,Ra.A)(r)}`):null),i.createElement("div",{className:ar.subtitle},i.createElement(ir,{local:l.local,relayed:l.relayed}),l.relayed?null:` (${l.address})`,o?i.createElement(i.Fragment,null,i.createElement(Et.A,null),i.createElement("span",{title:(0,B.A)("The amount of outgoing bandwidth reserved for this playback session")},yt(1024*n.Session.bandwidth,0))):null))),p?i.createElement("div",{className:ar.videoStreamInformation},i.createElement("div",{className:ar.streamType},(0,B.A)("Video")),i.createElement("div",{className:ar.streams},i.createElement("div",{className:ar.title},i.createElement(nr.A,{mediaItem:d,serverEntityID:t.entityID,type:"video"}),(null==c?void 0:c.transcodeHwDecoding)?" (hw)":null),i.createElement("div",{className:ar.title},!o||c&&null!=c.videoDecision?null:i.createElement(rr,null,(0,B.A)("Direct Play")),c&&"copy"===c.videoDecision?i.createElement(rr,null,(0,B.A)("Direct Stream")):null,c&&"transcode"===c.videoDecision?i.createElement(rr,null,`${(0,ja.A)(d.videoResolution,c.scanType)||(0,B.A)("Unknown")} `,"(",(0,Ha.A)(c.videoCodec),")",i.createElement(Et.A,null),(0,B.A)("Transcode"),c.transcodeHwEncoding?" (hw)":null):null))):null,h?i.createElement("div",{className:ar.audioStreamInformation},i.createElement("div",{className:ar.streamType},(0,B.A)("Audio")),i.createElement("div",{className:ar.streams},m?i.createElement("div",{className:ar.title},i.createElement(nr.A,{serverEntityID:t.entityID,stream:m,type:"audio"})):null,i.createElement("div",{className:ar.title},!o||c&&null!=c.audioDecision?null:i.createElement(rr,null,(0,B.A)("Direct Play")),c&&"copy"===c.audioDecision?i.createElement(rr,null,(0,B.A)("Direct Stream")):null,c&&"transcode"===c.audioDecision?i.createElement(rr,null,(0,Ha.A)(c.audioCodec),i.createElement(Et.A,null),(0,B.A)("Transcode")):null))):null,g?i.createElement("div",{className:ar.subtitlesStreamInformation},i.createElement("div",{className:ar.streamType},(0,B.A)("Subtitles")),i.createElement("div",{className:ar.streams},i.createElement("div",{className:ar.title},i.createElement(nr.A,{serverEntityID:t.entityID,stream:(0,Ua.A)(d),type:"subtitles"})),i.createElement("div",{className:ar.title},!o||c&&null!=c.subtitleDecision?null:i.createElement(rr,null,(0,B.A)("Direct Play")),c&&"copy"===c.subtitleDecision?i.createElement(rr,null,(0,B.A)("Direct Stream")):null,c&&"burn"===c.subtitleDecision?i.createElement(rr,null,(0,B.A)("Burn in")):null,c&&"transcode"===c.subtitleDecision?i.createElement(rr,null,(0,Ha.A)(u.codec),i.createElement(Et.A,null),(0,B.A)("Transcode")):null))):null);var v}var lr=n(38176),or=n(8282),cr=n(50078);const dr={textArea:"TextArea-textArea-DX3dyp input-input-XAtklw",small:"TextArea-small-S32XrG",large:"TextArea-large-szr4sr",isDisabled:"TextArea-isDisabled-ehf4w5 input-isDisabled-NZu29w",hasError:"TextArea-hasError-tgGUEH input-hasError-GqupwL"};var ur=Object.defineProperty,mr=Object.defineProperties,pr=Object.getOwnPropertyDescriptors,hr=Object.getOwnPropertySymbols,gr=Object.prototype.hasOwnProperty,vr=Object.prototype.propertyIsEnumerable,fr=(e,t,n)=>t in e?ur(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,br=(e,t,n)=>(fr(e,"symbol"!=typeof t?t+"":t,n),n);class yr extends i.Component{constructor(){super(...arguments),br(this,"onChange",(e=>{this.props.onChange(e.target.value)}))}render(){const e=this.props,{className:t,errorClassName:n,disabledClassName:a,initialValue:r,isDisabled:s,size:l,name:o,hasError:c}=e,d=((e,t)=>{var n={};for(var a in e)gr.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&hr)for(var a of hr(e))t.indexOf(a)<0&&vr.call(e,a)&&(n[a]=e[a]);return n})(e,["className","errorClassName","disabledClassName","initialValue","isDisabled","size","name","hasError"]);return i.createElement("textarea",(u=((e,t)=>{for(var n in t||(t={}))gr.call(t,n)&&fr(e,n,t[n]);if(hr)for(var n of hr(t))vr.call(t,n)&&fr(e,n,t[n]);return e})({},d),m={className:ma()(t,dr[l],s&&a,c&&n),disabled:s,id:o,name:o,onChange:this.onChange},mr(u,pr(m))));var u,m}}br(yr,"defaultProps",{className:dr.textArea,errorClassName:dr.hasError,disabledClassName:dr.isDisabled,isDisabled:!1,size:Ze.I$,hasError:!1,rows:2});const Ar=yr;var Er=n(21630),Sr=n(36989),wr=n(50271),Cr=n(80893);const Pr="StopServerSessionModal-topContainer-ovAzk8",Dr="StopServerSessionModal-avatarImg-Ss18pB AvatarImg-avatar-dvpNLl",xr="StopServerSessionModal-description-vehLck",kr="StopServerSessionModal-modalFooter-k7yung ModalFooter-modalFooter-LfeJsh",Or="StopServerSessionModal-formLabel-oDaP1b FormLabel-label-KQvmHO",Ir="StopServerSessionModal-form-KWGnMU",Tr="StopServerSessionModal-textArea-ixgccA TextArea-textArea-DX3dyp input-input-XAtklw",Mr="StopServerSessionModal-buttonBar-ST8HLo ModalFooterButtonBar-buttonBar-xxZyHc";function Nr({session:e,isOpen:t,onModalClose:n}){const a=(0,C.wA)(),[r]=(0,_e.Ss)(),[s,o]=(0,i.useState)(""),{type:d,grandparentTitle:u,parentTitle:m,title:p,parentIndex:h,index:g,originallyAvailableAt:v,User:f}=e,b=d===lr.EPISODE?(0,ya.A)({seasonIndex:h,episodeIndex:g,date:v,noLeadingZero:!0,separator:"  "}):null,y=(0,i.useCallback)((()=>{a(ra.A.actions.stopRequested({server:r,session:e,reason:s})),n()}),[a,s,r,e,n]),A=(0,i.useCallback)((e=>{e.preventDefault(),e.stopPropagation(),y()}),[y]);return i.createElement(c.Ay,{metricsPage:l.qR},i.createElement(ia.A,{isOpen:t,size:wt.A.Small,onModalClose:n},i.createElement(la.A,{onModalClose:n},i.createElement(oa.A,null,(0,B.A)("Stop {title}",{title:u||m||p}),b?i.createElement(i.Fragment,null,i.createElement(Et.A,null),b):null),i.createElement(sa.A,null,i.createElement("div",{className:Pr},i.createElement(Ma.A,{className:Dr,height:76,serverEntityID:r.entityID,url:f.thumb,width:76}),i.createElement("div",{className:xr},i.createElement("p",null,(0,B.A)("Do you wish to stop this item's playback?")),i.createElement("p",null,(0,B.A)("You may supply a message that will be displayed to {username}.",{username:f.title}))))),i.createElement(Sr.A,{className:kr},i.createElement(cr.A,{className:Or,name:"message"},(0,B.A)("Message")),i.createElement(or.Ay,{className:Ir,onSubmit:A},i.createElement(Ar,{className:Tr,"data-autofocus":!0,name:"message",rows:4,value:s,onChange:o})),i.createElement(wr.A,{className:Mr},i.createElement(Er.A,{onPress:n},(0,B.A)("Cancel")),i.createElement(Er.A,{kind:Cr.A.Primary,onPress:y},(0,B.A)("Stop")))))))}const Lr="SessionTile-subtitle-GOukZy";function Rr(e){return!!e.Media&&"livetv"===(e.Media.find((e=>e.selected))||e.Media[0]).origin}const Fr=(0,i.memo)((function({sessionKey:e,isDetailsExpanded:t,canStopSessions:n}){const[a,r]=(0,_e.Ss)(),s=(0,i.useMemo)((()=>function(e,t){return(0,it.Mz)((0,aa.A)(e),(e=>e.sessionsByKey[t]))}(a.machineIdentifier,e)),[a.machineIdentifier,e]),l=(0,C.d4)(s),o=l.Player.state===Ea.A.states.PLAYING,[c,d]=(0,Oa.A)(),[m,p]=(0,i.useState)(l.viewOffset||0),[h,g]=(0,i.useState)(!1),{type:v,duration:f,attribution:b,Media:y,User:A,Session:E,TranscodeSession:S,Player:w}=l,P=null!=l.viewOffset;let D;y&&(D=function(e,t,n){const a=(0,va.A)(e,t);if(!(n=(0,ba.A)(a,n)))return;const r=(0,fa.A)(e,a,t);return"/library/parts/"+a.id+"/indexes/"+n+"/"+r}(y[0],m,"hd"));const x=c&&D,k=function(e,t,n){const{key:a,parentKey:r,grandparentKey:i,type:s,skipDetails:l,skipParent:o,source:c,extraType:d}=n;if(d||l||s===Da.QD.Photo||Rr(n))return;let u=a;if(s===Da.QD.Track&&(u=o?i:r),!u)return;const{serverIdentifier:m,providerIdentifier:p}=c?(0,Aa.A)(c):{serverIdentifier:e.machineIdentifier,providerIdentifier:t.identifier};return(0,Ta.A)(m,p,{key:u})}(a,r,l),O=k?ka.A:"div",I=!(!n||!E||function(e){const{product:t}=e;return Pa.hasOwnProperty(t)||(Pa[t]=Ca.some((e=>e.test(t)))),Pa[t]}(w)),T=function(e){const{type:t,grandparentTitle:n,parentTitle:a,title:r}=e;return Rr(e)?(0,B.A)("Live TV"):t===Da.QD.Track||t===Da.QD.Photo?r:n||a||r}(l),M=function(e){const{type:t,index:n,parentIndex:a,originallyAvailableAt:r,grandparentTitle:i,parentTitle:s,title:l,year:o}=e;if(t===Da.QD.Track||t===Da.QD.Photo)return s;const c=[];return t===Da.QD.Episode&&c.push((0,ya.A)({seasonIndex:a,episodeIndex:n,date:r,noLeadingZero:!0,separator:"  "})),i||s?c.push(l):o&&c.push(String(o)),c.join(" ")}(l),N=function(e){const{type:t,grandparentTitle:n,parentTitle:a,year:r,duration:i}=e;return t===Da.QD.Movie||t===Da.QD.Episode?(0,ha.A)(i):t===Da.QD.Album||t===Da.QD.Track?n||a:t===Da.QD.Photo?String(r):void 0}(l),L=function(e){return e.type===Da.QD.Track?e.parentThumb:e.type===Da.QD.Photo?e.thumb:e.grandparentThumb||e.parentThumb||e.thumb}(l),R=P?100:104,F=(0,La.RG)(R,v,wa.ad),U=(0,xa.Ay)({server:a,provider:r,width:214,height:R,url:D}),V=(0,i.useCallback)((e=>{e.preventDefault(),e.stopPropagation(),g(!0)}),[]),j=(0,i.useCallback)((()=>{g(!1)}),[]);return(0,i.useEffect)((()=>{let e;if(p(l.viewOffset||0),o){const t=Date.now();e=window.setInterval((()=>{p((l.viewOffset||0)+(Date.now()-t))}),1e3)}return()=>window.clearInterval(e)}),[o,l.viewOffset]),i.createElement("div",{ref:d,className:"SessionTile-listItem-eRiHkL"},i.createElement(O,{className:"SessionTile-mediaInformationContainer-PL6MJT",to:k},i.createElement("div",{className:"SessionTile-posterContainer-zhjf_G",style:{width:F}},i.createElement(Na.A,{height:R,serverEntityID:a.entityID,type:v,url:L,width:F}),b?i.createElement(Sa.A,{attribution:b,className:"SessionTile-attribution-uCsfW4"}):null),i.createElement("div",{className:ma()("SessionTile-infoContainer-u98OOE",P?"SessionTile-visibleProgressBar-nmYYWt":void 0)},x?i.createElement("div",{className:"SessionTile-previewThumbnailContainer-DSLPAf"},i.createElement(Ia.A,{fit:Ia.N.Cover,height:R,src:U,width:214})):i.createElement("div",{className:"SessionTile-metadataText-AvpRzN"},i.createElement("div",{className:"SessionTile-title-pZZhCm",title:T},T),i.createElement("div",{className:Lr,title:M},M),i.createElement("div",{className:Lr,title:N},N))),P?i.createElement("div",{className:"SessionTile-progressTrack-a7bAUN"},i.createElement("div",{className:"SessionTile-playProgressPercent-uMeDu5 SessionTile-progressPercent-M3uBmT",style:{width:`${(0,ga.A)(m,f)}%`}}),(null==S?void 0:S.progress)?i.createElement("div",{className:"SessionTile-transcodeProgressPercent-q_H9xE SessionTile-progressPercent-M3uBmT",style:{width:`${S.progress}%`}}):null):null),i.createElement(sr,{className:ma()("SessionTile-detailsContainer-WtPZyn",t?"SessionTile-detailsContainerExpanded-wMiD01":void 0),internalViewOffset:m,server:a,session:l}),i.createElement("div",{className:"SessionTile-userContainer-Qdav26"},i.createElement(Ma.A,{className:"SessionTile-avatarImg-Y8sfY2 AvatarImg-avatar-dvpNLl",height:40,serverEntityID:a.entityID,url:A.thumb,width:40}),i.createElement("div",{className:"SessionTile-username-gKJCVh"},A.title),I?i.createElement(ka.A,{className:"SessionTile-stopButton-mlLWNk Link-link-vSsQW1",onPress:V},i.createElement(u.I1,{align:"space-between",gap:"l",verticalAlign:"center"},i.createElement("div",{className:"SessionTile-stopIcon-gnfsYV"},i.createElement(pa.default,{accessibilityLabel:(0,B.A)("Stop playback")})),(0,B.A)("Stop playback"))):null),i.createElement(Nr,{isOpen:h,session:l,onModalClose:j}))})),Ur={tilesContainer:"NowPlaying-tilesContainer-zwhzW9",nowPlayingList:"NowPlaying-nowPlayingList-DprJ5P",column:"NowPlaying-column-NaWoqK",emptyMessage:"NowPlaying-emptyMessage-DKJCSc ServerDashboardPageMessage-container-Oaj21s"},Vr=280,jr=40,Br=5e3;function Hr(){var e;const t=(0,C.wA)(),[n]=(0,_e.Ss)(),[a,{width:r}]=(0,Xn.A)(),s=(0,i.useMemo)((()=>{return e=n.machineIdentifier,(0,it.Mz)((0,aa.A)(e),(e=>e.sessionKeys));var e}),[n.machineIdentifier]),o=(0,C.d4)(s),c=(0,i.useMemo)((()=>{return e=n.machineIdentifier,(0,it.Mz)((0,aa.A)(e),(e=>e.stopSessionError));var e}),[n.machineIdentifier]),d=(0,C.d4)(c),u=(0,C.d4)((0,We.A)("dashboardNowPlayingShowDetails")),m=!!(null==(e=n.ownerFeatures)?void 0:e.includes("session_kick")),p=o.length>0,h=(0,i.useCallback)((()=>{(0,j.Cc)((()=>{t(ra.A.actions.stopErrorDismissed({server:n}))}))}),[t,n]),g=(0,i.useCallback)((()=>{(0,j.Cc)((()=>{t((0,na.hg)({dashboardNowPlayingShowDetails:!u}))}))}),[t,u]);(0,i.useEffect)((()=>{let e;return p&&(e=window.setInterval((()=>t(ra.A.actions.fetchRequested({server:n}))),Br)),()=>window.clearInterval(e)}),[t,p,n]);const v=u?(0,B.A)("Hide Details"):(0,B.A)("Show Details");return i.createElement("div",{ref:a},i.createElement(da,{errorMessage:(0,B.A)("There was a problem stopping playback"),isOpen:!!d,metricsPage:l._d,onModalClose:h}),i.createElement(qe,{title:(0,B.A)("Now Playing")},p?i.createElement(ta.m,{tooltip:v},i.createElement(Zn.K0,{accessibilityLabel:v,icon:ea.default,iconSize:"l",size:"s",testID:"toolbarToggleNowPlayingDetails",transparent:!0,onPress:g})):null),i.createElement("div",{className:Ur.tilesContainer},p&&null!=r?i.createElement("div",{className:Ur.nowPlayingList},function(e,t){const n=Math.max(Math.floor((t+jr)/(Vr+jr)),1),a=Array.from(new Array(n),(()=>[]));return e.reduce(((e,t,a)=>(e[a%n].push(t),e)),a)}(o,r).map(((e,t)=>i.createElement("div",{key:t,className:Ur.column,style:{width:`${Vr}px`}},e.map((e=>i.createElement(Fr,{key:e,canStopSessions:m,isDetailsExpanded:u,sessionKey:e}))))))):null,p?null:i.createElement(Pt,{className:Ur.emptyMessage},(0,B.A)("Nothing is currently being played"))))}var zr=n(38380);function _r({className:e,accounts:t,activeAccount:n,onAccountSelect:a}){const{menuButtonID:r,isMenuOpen:s,onMenuButtonPress:l,onMenuClose:o}=(0,Qe.A)(),c=(0,i.useCallback)((e=>{const n=t.find((t=>t.id===e));o(),a(n)}),[t,o,a]);return i.createElement(i.Fragment,null,i.createElement(tt,{className:e,id:r,isMenuOpen:s,onPress:l},n?n.name:(0,B.A)("All Users")),i.createElement($e.A,{isOpen:s,target:r,onMenuClose:o},i.createElement(Je.A,{isSelected:!n,value:void 0,onSelect:c},(0,B.A)("All Users")),t.map((e=>i.createElement(Je.A,{key:e.id,isSelected:(null==n?void 0:n.id)===e.id,value:e.id,onSelect:c},e.name)))))}var Wr=n(35889),Gr=(e=>(e[e.All=0]="All",e[e.Movie=1]="Movie",e[e.TV=4]="TV",e[e.Music=10]="Music",e[e.Photo=13]="Photo",e))(Gr||{});const Kr=(0,it.Mz)(ot,(e=>e.playHistory));function qr(e){switch(e){case Gr.All:return(0,B.A)("All Media");case Gr.Movie:return(0,B.A)("Movies");case Gr.TV:return(0,B.A)("TV");case Gr.Music:return(0,B.A)("Music");case Gr.Photo:return(0,B.A)("Photos");default:return""}}var $r=n(77924);function Jr(e,t){return e.date-t.date}function Qr(e){return(0,ft.A)(e)||(0,gt.A)((0,vt.A)(new Date))<=e}function Yr(e,t,n,a=!1){if((0,ut.Ug)(t)===ut.aw.Day&&(0,ft.A)(e)){const e=(0,B.A)("Today");return a?e.toUpperCase():e}return(0,pt.A)((0,ht.A)(e),n)}function Xr(e){const t=e/60,n=t/60,a=n/24,r=a/365;let i,s;return t<1?(i=e.toFixed(),s="s"):n<1?(i=t.toFixed(),s="m"):a<1?(i=n.toFixed(1),s="h"):r<1?(i=a.toFixed(1),s="d"):(i=r.toFixed(1),s="y"),`${i}${s}`}function Zr({isMoviesVisible:e,isTVVisible:t,isMusicVisible:n,isPhotosVisible:a,summedData:r}){if(!r)return null;const s=e&&t&&n&&a;return i.createElement(i.Fragment,null,s?(0,B.A)("Totals"):(0,B.A)("Total"),": ",s?i.createElement(i.Fragment,null,qr(Gr.Movie),i.createElement(Et.A,null)):null,e?Xr(r[Gr.Movie]||0):null,s?i.createElement(i.Fragment,null," | ",qr(Gr.TV),i.createElement(Et.A,null)):null,t?Xr(r[Gr.TV]||0):null,s?i.createElement(i.Fragment,null," | ",qr(Gr.Music),i.createElement(Et.A,null)):null,n?Xr(r[Gr.Music]||0):null,s?i.createElement(i.Fragment,null," | ",qr(Gr.Photo),i.createElement(Et.A,null)):null,a?Xr(r[Gr.Photo]||0):null)}function ei({statistics:e,activeStatisticsMetadataType:t,activeAccount:n,activeTimePeriod:a,isPending:r,isPopulated:s,errorMessage:l,onGraphMetadataTypeSelect:o}){const[c,d]=(0,i.useState)(!1),{data:u,summedData:m}=(0,i.useMemo)((()=>function(e,t,n){const a={};return{data:e.reduce(((e,r)=>{const{accountID:i,at:s,metadataType:l,duration:o}=r;if(!(l in Gr))return e;const c=e.findIndex((e=>e.date===s)),d=-1!==c;let u;return u=d?e[c]:{date:s},n&&n.id!==i?(d||e.push(u),e):(t!==Gr.All&&t!==l||(u[l]=(u[l]||0)+o,a[l]=(a[l]||0)+o,u[Gr.All]=(u[Gr.All]||0)+o,a[Gr.All]=(a[Gr.All]||0)+o),d?e[c]=u:e.push(u),e)}),[]).sort(Jr),summedData:a}}(e,t,n)),[n,t,e]),p=t===Gr.Movie,h=p||t===Gr.All,g=t===Gr.TV,v=g||t===Gr.All,f=t===Gr.Music,b=f||t===Gr.All,y=t===Gr.Photo,A=y||t===Gr.All,E=[{dataKey:String(Gr.Movie),title:qr(Gr.Movie),visible:h,selected:p,color:"#9ad186"},{dataKey:String(Gr.TV),title:qr(Gr.TV),visible:v,selected:g,color:"#f1335e"},{dataKey:String(Gr.Music),title:qr(Gr.Music),visible:b,selected:f,color:"#366dfc"},{dataKey:String(Gr.Photo),title:qr(Gr.Photo),visible:A,selected:y,color:"#e69f23"}],S=(0,i.useCallback)((e=>{if((0,ut.Ug)(a)===ut.aw.Week){const t=Yr(e,a,(0,ut.Ql)(a,!0)),n=(0,gt.A)((0,mt.A)((0,ht.A)(e),1));return(0,ft.A)(e)&&Qr(n)?(0,B.A)("Today"):`${t} - ${Yr(n,a,(0,ut.Ql)(a,!0))}`}return Yr(e,a,(0,ut.Ql)(a,!0))}),[a]),w=(0,i.useCallback)((e=>Xr(e)),[]),C=(0,i.useCallback)((e=>{if(a===ut.Hr.Month){const t=Yr(e,a,(0,ut.Ql)(a)),n=(0,gt.A)((0,mt.A)((0,ht.A)(e),1));return(0,ft.A)(e)&&Qr(n)?(0,B.A)("Today").toUpperCase():`${t} - ${Yr(n,a,(0,ut.Ql)(a))}`}return Yr(e,a,(0,ut.Ql)(a),!0)}),[a]),P=(0,i.useCallback)((e=>0===e?"":Xr(e)),[]),D=(0,i.useCallback)((()=>{d(!0)}),[]);return i.createElement(Vt,{errorMessage:l,isSpinnerVisible:r||!c},!r&&s?i.createElement(yn,{data:u,height:280,legendSummary:i.createElement(Zr,{isMoviesVisible:h,isMusicVisible:b,isPhotosVisible:A,isTVVisible:v,summedData:m}),series:E,tooltipLabelFormatter:S,tooltipValueFormatter:w,width:"100%",xAxisTickFormatter:C,yAxisTickFormatter:P,onChartReady:D,onLegendPress:o}):null)}const ti={container:"PlayHistory-container-jjXBLA",link:"PlayHistory-link-A5wBcf"};function ni(){const e=(0,C.wA)(),[t]=(0,_e.Ss)(),[n,a]=(0,i.useState)(null),[r,s]=(0,i.useState)(ut.Hr.Month),[l,o]=(0,i.useState)(r),c=(0,i.useMemo)((()=>[ut.Hr.Week,ut.Hr.Month,ut.Hr.NinetyDays,ut.Hr.Year,ut.Hr.AllTime]),[]),[d,u]=(0,i.useState)(Gr.All),{accounts:m,statistics:p,isPending:h,isPopulated:g,error:v}=(0,C.d4)(Kr),f=(0,i.useMemo)((()=>[Gr.All,Gr.Movie,Gr.TV,Gr.Music,Gr.Photo]),[]),b=(0,i.useMemo)((()=>m.slice().sort(zr.A)),[m]),y=Ge(h,!0),A=(0,i.useCallback)((e=>{u(e)}),[]),E=(0,i.useCallback)((e=>{a(e)}),[]),S=(0,i.useCallback)((e=>{s(e)}),[]),w=(0,i.useCallback)((e=>{const t=parseInt(e,10),n=t===d?Gr.All:t;u(n)}),[d]);return(0,i.useEffect)((()=>{e(Wr.A.actions.playHistoryFetchRequested({server:t,timespan:(0,ut.Ug)(r),after:(0,ut.$i)(r)}))}),[r,e,t]),(0,i.useEffect)((()=>{o(r)}),[p]),(0,i.useEffect)((()=>()=>{e(Wr.A.actions.reset())}),[e]),i.createElement("div",{className:ti.container},i.createElement(qe,{title:(0,B.A)("Play History")},i.createElement("div",{className:ti.link},i.createElement(Et.A,null),i.createElement(ka.A,{to:(0,$r.A)(t.machineIdentifier)},(0,B.A)("View Full History"))),i.createElement("div",null,i.createElement(nt,{activeValue:d,formatter:qr,values:f,onSelect:A}),i.createElement(_r,{accounts:b,activeAccount:n,onAccountSelect:E}),i.createElement(nt,{activeValue:r,formatter:ut.lV,values:c,onSelect:S}))),i.createElement(ei,{activeAccount:n,activeStatisticsMetadataType:d,activeTimePeriod:l,errorMessage:v?(0,B.A)("Unable to load history"):void 0,isPending:y,isPopulated:g,statistics:p,onGraphMetadataTypeSelect:w}))}const ai={section:"ServerDashboardPageSection-section-PFxTJu"};function ri({children:e}){return i.createElement("div",{className:ai.section},e)}var ii=n(1104),si=(e=>(e.All="all",e.System="system",e.PlexMediaServer="plex-media-server",e))(si||{});const li=(0,it.Mz)(ot,(e=>e.resources));function oi(e){switch(e){case si.All:return(0,B.A)("All");case si.PlexMediaServer:return"Plex Media Server";case si.System:return(0,B.A)("System");default:return""}}const ci=120,di=5,ui=ci/di+1;function mi(e){return 0===e?(0,B.A)("Now"):(0,B.A)("{timeAgo} ago",{timeAgo:jt(e)})}function pi(e){return`${e.toFixed(2)}%`}function hi(e){return jt(e)}function gi(e){return 0===e?"":`${Math.round(e)}%`}function vi({isPlexMediaServerVisible:e,isSystemVisible:t,summedData:n}){if(!n)return null;const a=e&&t;return i.createElement(i.Fragment,null,a?(0,B.A)("Averages"):(0,B.A)("Average"),": ",a?i.createElement(i.Fragment,null,oi(si.PlexMediaServer),i.createElement(Et.A,null)):null,e?`${(n[si.PlexMediaServer]/ui).toFixed(2)}%`:null,a?i.createElement(i.Fragment,null," | ",oi(si.System),i.createElement(Et.A,null)):null,t?`${(n[si.System]/ui).toFixed(2)}%`:null)}function fi({statistics:e,activeResourceType:t,hostKey:n,processKey:a,hostColor:r,processColor:s,isPopulated:l,errorMessage:o,onGraphResourceTypeSelect:c,onGraphTooltipActive:d,onGraphTooltipInactive:u}){const[m,p]=(0,i.useState)(!1),{data:h,summedData:g}=(0,i.useMemo)((()=>function(e,t,n,a){const r=a===si.All||a===si.System,i=a===si.All||a===si.PlexMediaServer,s={[si.System]:0,[si.PlexMediaServer]:0};return{data:e.slice(-ui).map(((e,a)=>(s[si.PlexMediaServer]=s[si.PlexMediaServer]+(e[n]||0),s[si.System]=s[si.System]+(e[t]||0),{at:e.at,date:ci-di*a,[si.PlexMediaServer]:i?e[n]:null,[si.System]:r?e[t]:null}))),summedData:s}}(e,n,a,t)),[t,n,a,e]),v=t===si.All||t===si.PlexMediaServer,f=t===si.All||t===si.System,b=[{dataKey:si.PlexMediaServer,title:oi(si.PlexMediaServer),visible:v,selected:t===si.PlexMediaServer,color:r},{dataKey:si.System,title:oi(si.System),visible:f,selected:t===si.System,color:s}],y=(0,i.useCallback)((()=>{p(!0)}),[]);return i.createElement(Vt,{errorMessage:o,isSpinnerVisible:!l||!m},l?i.createElement(Nn,{data:h,height:280,isAnimationActive:!1,legendSummary:i.createElement(vi,{isPlexMediaServerVisible:v,isSystemVisible:f,summedData:g}),series:b,showTooltipTotal:!1,tooltipLabelFormatter:mi,tooltipValueFormatter:pi,width:"100%",xAxisTickFormatter:hi,xAxisTickInterval:1,yAxisDomain:[0,100],yAxisTickFormatter:gi,onChartReady:y,onLegendPress:c,onTooltipActive:d,onTooltipInactive:u}):null)}const bi={container:"ServerResources-container-AXhhOt",graph:"ServerResources-graph-hoinZc"},yi=5e3;function Ai(){const e=(0,C.wA)(),[t]=(0,_e.Ss)(),n=(0,i.useRef)(null),[a,r]=(0,i.useState)(si.All),[s,l]=(0,i.useState)(si.All),o=(0,i.useMemo)((()=>[si.All,si.PlexMediaServer,si.System]),[]),{statistics:c,isPopulated:d,isUnsupported:u,error:m,requestTimestampMilliseconds:p}=(0,C.d4)(li),h=(0,i.useCallback)((()=>{e(ii.A.actions.resourcesFetchRequested({server:t}))}),[e,t]),g=(0,i.useCallback)((e=>{r(e)}),[]),v=(0,i.useCallback)((e=>{l(e)}),[]),f=(0,i.useCallback)((e=>{const t=e===a?si.All:e;r(t)}),[a]),b=(0,i.useCallback)((e=>{const t=e===s?si.All:e;l(t)}),[s]),y=(0,i.useCallback)((()=>{n.current&&window.clearTimeout(n.current)}),[]);return(0,i.useEffect)((()=>{h()}),[h]),(0,i.useEffect)((()=>{if(p){const e=Date.now()-p,t=Math.max(yi-e,0);n.current=window.setTimeout(h,t)}return()=>{n.current&&window.clearTimeout(n.current)}}),[p,h]),(0,i.useEffect)((()=>()=>{e(ii.A.actions.reset())}),[e]),u?null:i.createElement(i.Fragment,null,i.createElement(ri,null,i.createElement("div",{className:bi.container},i.createElement(qe,{title:(0,B.A)("CPU")},i.createElement("div",null,i.createElement(nt,{activeValue:a,formatter:oi,values:o,onSelect:g}))),i.createElement("div",{className:bi.graph},i.createElement(fi,{activeResourceType:a,errorMessage:m?(0,B.A)("Unable to load statistics"):void 0,hostColor:"#9ad186",hostKey:"hostCpuUtilization",isPopulated:d,processColor:"#f1335e",processKey:"processCpuUtilization",statistics:c,onGraphResourceTypeSelect:f,onGraphTooltipActive:y,onGraphTooltipInactive:h})))),i.createElement(ri,null,i.createElement("div",{className:bi.container},i.createElement(qe,{title:(0,B.A)("RAM")},i.createElement("div",null,i.createElement(nt,{activeValue:s,formatter:oi,values:o,onSelect:v}))),i.createElement("div",{className:bi.graph},i.createElement(fi,{activeResourceType:s,errorMessage:m?(0,B.A)("Unable to load statistics"):void 0,hostColor:"#33f1c5",hostKey:"hostMemoryUtilization",isPopulated:d,processColor:"#bd86d1",processKey:"processMemoryUtilization",statistics:c,onGraphResourceTypeSelect:b,onGraphTooltipActive:y,onGraphTooltipInactive:h})))))}var Ei=n(7466),Si=n(21351),wi=n(23595);const Ci=(0,it.Mz)(ot,(e=>e.topPlayed));var Pi=n(5644);const Di={header:"TopPlayedColumnHeader-header-OBvH3f",tintedHeader:"TopPlayedColumnHeader-tintedHeader-iCuMx8 TopPlayedColumnHeader-header-OBvH3f",titleBackground:"TopPlayedColumnHeader-titleBackground-v7cfDl",emptyTitleBackground:"TopPlayedColumnHeader-emptyTitleBackground-ZJAvAs TopPlayedColumnHeader-titleBackground-v7cfDl",imageContainer:"TopPlayedColumnHeader-imageContainer-IkUTYz",titleText:"TopPlayedColumnHeader-titleText-Hi1_wp"};function xi({title:e,isEmpty:t,metadataItem:n}){const[a]=(0,_e.Ss)();return i.createElement("div",{className:t?Di.header:Di.tintedHeader},!t&&n?i.createElement("div",{className:Di.imageContainer},i.createElement(Pi.A,{backgroundPosition:"center top",height:100,serverEntityID:a.entityID,url:n.art||n.thumb,width:200})):null,i.createElement("div",{className:t?Di.emptyTitleBackground:Di.titleBackground},i.createElement("div",{className:Di.titleText},e)))}var ki=n(66438),Oi=n(40534);const Ii={poster:"TopPlayedColumnRow-poster-QL2cSd Link-link-vSsQW1",artistPoster:"TopPlayedColumnRow-artistPoster-dVLx6b Link-link-vSsQW1",summary:"TopPlayedColumnRow-summary-ZeJY3y",itemTitle:"TopPlayedColumnRow-itemTitle-BEQibg Link-link-vSsQW1"};function Ti({className:e,style:t,metadataItem:n,activeTimePeriod:a}){const[r]=(0,_e.Ss)(),{type:s,title:l,thumb:o,globalViewCount:c,userCount:d}=n,u=(0,ki.A)(n,"key"),m=s===lr.Ot;return i.createElement("div",{className:e,style:t},i.createElement(ka.A,{className:m?Ii.artistPoster:Ii.poster,to:u},i.createElement(Na.A,{height:m?60:80,serverEntityID:r.entityID,type:s,url:o,width:m?60:53})),i.createElement("div",{className:Ii.summary},i.createElement(ka.A,{className:Ii.itemTitle,title:l,to:u},l),i.createElement(ka.A,{to:(0,Oi.A)(r.machineIdentifier,n,a)},1===c?(0,B.A)("{count} play",{count:1}):(0,B.A)("{count} plays",{count:c})),i.createElement("div",null,1===d?(0,B.A)("{count} user",{count:1}):(0,B.A)("{count} users",{count:d}))))}const Mi={title:"TopPlayedColumn-title-efAevt",item:"TopPlayedColumn-item-RRzEII",emptyItem:"TopPlayedColumn-emptyItem-O8XgJD TopPlayedColumn-item-RRzEII"},Ni=[.5,.4,.3,.2,.1,.05];function Li({className:e,type:t,title:n,items:a=[],activeTimePeriod:r}){const s=0===a.length;return i.createElement("div",{className:e},i.createElement(xi,{isEmpty:s,metadataItem:a[0],title:n}),s?i.createElement("div",{className:Mi.emptyItem},function(e){switch(e){case Da.QD.Movie:return(0,B.A)("No Movies Watched");case Da.QD.Show:return(0,B.A)("No TV Watched");case Da.QD.Artist:return(0,B.A)("No Artists Played");default:return""}}(t)):a.map(((e,t)=>i.createElement(Ti,{key:e.key,activeTimePeriod:r,className:Mi.item,metadataItem:e,style:{backgroundColor:`rgba(0, 0, 0, ${Ni[t]})`}}))))}const Ri={container:"TopPlayedList-container-u2RYI0 ServerDashboardSectionContent-container-MpA8nO",spinnerContainer:"TopPlayedList-spinnerContainer-YJADBx TopPlayedList-container-u2RYI0 ServerDashboardSectionContent-container-MpA8nO",column:"TopPlayedList-column-fXZrcK"};function Fi({moviesStatistics:e,tvStatistics:t,musicStatistics:n,activeTimePeriod:a,isSpinnerVisible:r,showList:s,errorMessage:l}){const o=s&&!l,c=function(e,t,n){return[{type:Da.QD.Movie,title:(0,B.A)("Movies"),items:e},{type:Da.QD.Show,title:(0,B.A)("TV"),items:t},{type:Da.QD.Artist,title:(0,B.A)("Artists"),items:n}]}(e,t,n);return i.createElement(xt,{className:r?Ri.spinnerContainer:Ri.container,errorMessage:l,isSpinnerVisible:r},o?c.map((e=>i.createElement(Li,{key:e.type,activeTimePeriod:a,className:Ri.column,items:e.items,title:e.title,type:e.type}))):null)}function Ui(){const e=(0,C.wA)(),[t]=(0,_e.Ss)(),[n,a]=(0,i.useState)(null),[r,s]=(0,i.useState)(ut.Hr.Month),l=(0,i.useMemo)((()=>[ut.Hr.Week,ut.Hr.Month,ut.Hr.NinetyDays,ut.Hr.Year,ut.Hr.AllTime]),[]),{moviesStatistics:o,tvStatistics:c,musicStatistics:d,isPending:u,isPopulated:m,error:p}=(0,C.d4)(Ci),h=Ge(u,!0),g=(0,C.d4)((0,Ei.A)(t.machineIdentifier)),v=(0,i.useCallback)((e=>{a(e)}),[]),f=(0,i.useCallback)((e=>{s(e)}),[]);return(0,i.useEffect)((()=>{e(Si.A.actions.populateRequested({server:t}))}),[e,t]),(0,i.useEffect)((()=>{e(wi.A.actions.topPlayedFetchRequested({server:t,accountID:n?n.id:void 0,viewedAt:(0,ut.$i)(r),limit:6}))}),[r,n,e,t]),(0,i.useEffect)((()=>()=>{e(wi.A.actions.reset())}),[e]),i.createElement(i.Fragment,null,i.createElement(qe,{title:(0,B.A)("Top Played")},i.createElement("div",null,i.createElement(_r,{accounts:g,activeAccount:n,onAccountSelect:v}),i.createElement(nt,{activeValue:r,formatter:ut.lV,values:l,onSelect:f}))),i.createElement(Fi,{activeTimePeriod:r,errorMessage:p?(0,B.A)("Unable to load statistics"):void 0,isSpinnerVisible:h,moviesStatistics:o,musicStatistics:d,showList:!h&&m,tvStatistics:c}))}var Vi=n(98661),ji=n(54613),Bi=n(6678),Hi=n(72516);const zi=(0,it.Mz)(ot,(e=>e.topUsers));var _i=n(77459),Wi=n(12166),Gi=n(95989),Ki=n(32996),qi=n(78375);var $i=Object.defineProperty,Ji=Object.defineProperties,Qi=Object.getOwnPropertyDescriptors,Yi=Object.getOwnPropertySymbols,Xi=Object.prototype.hasOwnProperty,Zi=Object.prototype.propertyIsEnumerable,es=(e,t,n)=>t in e?$i(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const ts=[qi.A.serverDashboardTileRowBackgroundPrimaryColor,qi.A.serverDashboardTileRowBackgroundSecondaryColor,qi.A.serverDashboardTileRowBackgroundTertiaryColor,qi.A.serverDashboardTileRowBackgroundQuaternaryColor];function ns(e){return(0,ha.A)(1e3*e)||(0,B.A)("{1} min",0)}const as=(0,i.memo)((function(e){var t=e,{activeTimePeriod:n,item:a}=t,r=((e,t)=>{var n={};for(var a in e)Xi.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&Yi)for(var a of Yi(e))t.indexOf(a)<0&&Zi.call(e,a)&&(n[a]=e[a]);return n})(t,["activeTimePeriod","item"]);const[s]=(0,_e.Ss)(),l=(0,Ki.A)((o=((e,t)=>{for(var n in t||(t={}))Xi.call(t,n)&&es(e,n,t[n]);if(Yi)for(var n of Yi(t))Zi.call(t,n)&&es(e,n,t[n]);return e})({},r),Ji(o,Qi({moveDurationMilliseconds:0}))));var o;if(!a)return null;const{accountID:c,username:d,thumb:u,playCount:m,totalDuration:p,durations:h}=a,g=Object.keys(h).sort(((e,t)=>h[e]>h[t]?-1:h[e]<h[t]?1:0));return i.createElement("div",{ref:l.cellRef,style:l.style},i.createElement("div",{className:"TopUsersCell-summaryContainer-G7Iy3J"},i.createElement(Ma.A,{className:"TopUsersCell-avatar-ezPqKQ AvatarImg-avatar-dvpNLl",height:50,serverEntityID:s.entityID,url:u,width:50}),i.createElement("div",{className:"TopUsersCell-summary-rf2rYM"},i.createElement("div",null,1===m?(0,B.A)("{playCount} play",{playCount:m}):(0,B.A)("{playCount} plays",{playCount:m})),i.createElement("div",null,ns(p))),i.createElement(ka.A,{className:"TopUsersCell-playHistoryLink-E3KAFP Link-link-vSsQW1",to:(0,$r.A)(s.machineIdentifier,{filters:`accountID=${c}&viewedAt=${(0,ut.$i)(n)}`,activeTimePeriod:n})},(0,B.A)("View Play History"))),i.createElement("div",{className:"TopUsersCell-username-bcIPZt TopUsersCell-row-fSmhM0",title:d},d),g.map(((e,t)=>i.createElement("div",{key:e,className:"TopUsersCell-metadataRow-BssqUK TopUsersCell-row-fSmhM0",style:{backgroundColor:ts[t]}},i.createElement("div",{className:"TopUsersCell-metadataTitle-zrwWL_"},qr(parseInt(e,10))),i.createElement("div",{className:"TopUsersCell-duration-yv2Vl6"},ns(h[e]))))))})),rs={container:"TopUsersList-container-Dgkajo ServerDashboardSectionContent-container-MpA8nO",spinnerContainer:"TopUsersList-spinnerContainer-MF599O TopUsersList-container-Dgkajo ServerDashboardSectionContent-container-MpA8nO",listContainer:"TopUsersList-listContainer-vjGKoi VirtualListScroller-scroller-QR8ROA Scroller-scroller-S6_dko"};var is=Object.defineProperty,ss=Object.defineProperties,ls=Object.getOwnPropertyDescriptors,os=Object.getOwnPropertySymbols,cs=Object.prototype.hasOwnProperty,ds=Object.prototype.propertyIsEnumerable,us=(e,t,n)=>t in e?is(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ms=(e,t)=>{for(var n in t||(t={}))cs.call(t,n)&&us(e,n,t[n]);if(os)for(var n of os(t))ds.call(t,n)&&us(e,n,t[n]);return e},ps=(e,t)=>ss(e,ls(t));const hs=(0,_i.A)({columnWidth:200,rowHeight:290,innerHorizontalPadding:40});function gs({activeTimePeriod:e,accounts:t,statistics:n,isSpinnerVisible:a,showList:r,errorMessage:s,targetScrollIndex:l,smoothScroll:o,onListUpdate:c}){const d=(0,i.useMemo)((()=>function(e,t){return t?t.reduce(((t,n)=>{const{accountID:a,metadataType:r,count:i,duration:s}=n;if(!(r in Gr)||-1===a)return t;const l=t.findIndex((e=>e.accountID===a)),o=-1!==l;let c;if(o)c=t[l];else{const t=e.find((e=>e.id===a));c={accountID:a,username:null==t?void 0:t.name,thumb:null==t?void 0:t.thumb,playCount:0,totalDuration:0,durations:{[Gr.Movie]:0,[Gr.TV]:0,[Gr.Music]:0,[Gr.Photo]:0}}}return c.playCount=c.playCount+i,c.totalDuration=c.totalDuration+s,c.durations[r]=c.durations[r]+s,o?t[l]=c:t.push(c),t}),[]).sort(((e,t)=>e.totalDuration>t.totalDuration?-1:e.totalDuration<t.totalDuration?1:0)):[]}(t,n)),[t,n]),u=r&&0===d.length?(0,B.A)("No data"):void 0,m=s||u,p=r&&!m,h=(0,i.useMemo)((()=>t=>i.createElement(as,ps(ms({},t),{activeTimePeriod:e}))),[e]);return i.createElement(xt,{className:a?rs.spinnerContainer:rs.container,errorMessage:m,isSpinnerVisible:a},p?i.createElement(Gi.A,{cellComponentFactory:h,className:rs.listContainer,items:d,keyPropName:"accountID",layout:hs,scrollDirection:Wi.D.Horizontal,smoothScroll:o,targetScrollIndex:l,totalSize:d.length,onListUpdate:c}):null)}const vs={container:"TopUsers-container-ZaCjkZ",listActions:"TopUsers-listActions-ycQ3MN",listScrollButton:"TopUsers-listScrollButton-GNh99v IconButton-iconButton-ebkqws Link-link-vSsQW1"};function fs(){const e=(0,C.wA)(),[t]=(0,_e.Ss)(),n=(0,i.useRef)(null),[a,r]=(0,i.useState)(!1),[s,l]=(0,i.useState)(!1),[o,c]=(0,i.useState)(0),[d,m]=(0,i.useState)(!1),[p,h]=(0,i.useState)(ut.Hr.Week),{accounts:g,statistics:v,isPending:f,isPopulated:b,error:y}=(0,C.d4)(zi),A=Ge(f,!0),E=(0,i.useMemo)((()=>[ut.Hr.Day,ut.Hr.Week,ut.Hr.Month,ut.Hr.NinetyDays,ut.Hr.Year,ut.Hr.AllTime]),[]),S=(0,i.useCallback)((e=>{h(e)}),[]),w=(0,i.useCallback)((e=>{const{visibleStartIndex:t,visibleEndIndex:a,renderEndIndex:i}=e;n.current=e,r(t>0),l(i>a)}),[]),P=(0,i.useCallback)((()=>{const e=n.current;if(e){const t=e.visibleEndIndex-e.visibleStartIndex;c(Math.max(e.visibleStartIndex-t-1,0)),m(!0)}}),[]),D=(0,i.useCallback)((()=>{const e=n.current;e&&(c(e.visibleEndIndex+1),m(!0))}),[]);return(0,i.useEffect)((()=>{e(Hi.A.actions.topUsersFetchRequested({server:t,timespan:(0,ut.Ug)(p),after:(0,ut.$i)(p)}))}),[p,e,t]),(0,i.useEffect)((()=>{c(0),m(!1)}),[v]),(0,i.useEffect)((()=>()=>{e(Hi.A.actions.reset())}),[e]),i.createElement("div",{className:vs.container},i.createElement(qe,{title:(0,B.A)("Top Users")},i.createElement(u.I1,{gap:"xl",verticalAlign:"center"},i.createElement(nt,{activeValue:p,formatter:ut.lV,values:E,onSelect:S}),i.createElement("div",{className:vs.listActions},i.createElement(Bi.A,{className:vs.listScrollButton,iconComponent:Vi.default,isDisabled:!a,title:(0,B.A)("Previous Page"),onPress:P}),i.createElement(Bi.A,{className:vs.listScrollButton,iconComponent:ji.default,isDisabled:!s,title:(0,B.A)("Next Page"),onPress:D})))),i.createElement(gs,{accounts:g,activeTimePeriod:p,errorMessage:y?(0,B.A)("Unable to load statistics"):void 0,isSpinnerVisible:A,showList:!A&&b,smoothScroll:d,statistics:v,targetScrollIndex:o,onListUpdate:w}))}var bs=n(42508);const ys="data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 276 80'%3e %3cg fill='none' fill-rule='evenodd'%3e %3crect width='275.965' height='80' fill='black' opacity='.25'/%3e %3cg transform='translate(16.198 6.005)'%3e %3cg fill='white' opacity='.05'%3e %3crect width='255.568' height='1' y='60.049'/%3e %3crect width='255.568' height='1' y='48.039'/%3e %3crect width='255.568' height='1' y='36.029'/%3e %3crect width='255.568' height='1' y='24.02'/%3e %3crect width='255.568' height='1' y='12.01'/%3e %3crect width='255.568' height='1'/%3e %3c/g%3e %3cg transform='translate(0 8.707)'%3e %3cg transform='translate(0 10.809)'%3e %3crect width='28.796' height='2.402' x='226.771' y='30.625' fill='%23E69F23' rx='.6'/%3e %3crect width='28.796' height='6.906' x='188.976' y='20.717' fill='%23F1335E' rx='.6'/%3e %3crect width='28.796' height='9.608' x='151.181' fill='%23F1335E' rx='.6'/%3e %3crect width='28.796' height='1.201' x='113.386' y='37.23' fill='%23E69F23' rx='.6'/%3e %3crect width='28.796' height='5.104' x='75.59' y='31.526' fill='%23366DFC' rx='.6'/%3e %3crect width='28.796' height='10.509' x='37.795' y='24.62' fill='%23366DFC' rx='.6'/%3e %3crect width='28.796' height='2.402' y='35.729' fill='%23366DFC' rx='.6'/%3e %3c/g%3e %3cg transform='translate(0 21.017)'%3e %3crect width='28.796' height='6.906' x='226.771' y='23.419' fill='%23F1335E' rx='.6'/%3e %3crect width='28.796' height='12.31' x='188.976' y='18.015' fill='%239AD186' rx='.6'/%3e %3crect width='28.796' height='30.325' x='151.181' fill='%239AD186' rx='.6'/%3e %3crect width='28.796' height='1.501' x='113.386' y='28.823' fill='%23366DFC' rx='.6'/%3e %3crect width='28.796' height='3.303' x='75.59' y='27.022' fill='%23F1335E' rx='.6'/%3e %3crect width='28.796' height='4.804' x='37.795' y='25.521' fill='%23F1335E' rx='.6'/%3e %3crect width='28.796' height='1.801' y='28.523' fill='%23F1335E' rx='.6'/%3e %3c/g%3e %3cg transform='translate(0 3.903)'%3e %3crect width='28.796' height='6.305' x='151.181' fill='%23366DFC' rx='.6'/%3e %3crect width='28.796' height='3.303' x='75.59' y='34.528' fill='%23E69F23' rx='.6'/%3e %3crect width='28.796' height='8.407' x='37.795' y='22.518' fill='%23E69F23' rx='.6'/%3e %3crect width='28.796' height='1.801' y='40.233' fill='%23E69F23' rx='.6'/%3e %3c/g%3e %3crect width='28.796' height='3.303' fill='%23E69F23' rx='.6' transform='translate(151.18)'/%3e %3c/g%3e %3crect width='1.5' height='1.501' x='240.57' y='60.349' fill='white' opacity='.1'/%3e %3crect width='1.5' height='1.501' x='164.979' y='60.349' fill='white' opacity='.1'/%3e %3crect width='1.5' height='1.501' x='202.774' y='60.349' fill='white' opacity='.1'/%3e %3crect width='1.5' height='1.501' x='89.389' y='60.349' fill='white' opacity='.1'/%3e %3crect width='1.5' height='1.501' x='127.184' y='60.349' fill='white' opacity='.1'/%3e %3crect width='1.5' height='1.501' x='51.593' y='60.349' fill='white' opacity='.1'/%3e %3crect width='1.5' height='1.501' x='13.798' y='60.349' fill='white' opacity='.1'/%3e %3c/g%3e %3cg fill='white' opacity='.1' transform='translate(5.474 5.575)'%3e %3crect width='10.949' height='2.192' x='19.708' y='66.753' rx='1.096'/%3e %3crect width='10.949' height='2.192' x='57.636' y='66.753' rx='1.096'/%3e %3crect width='10.949' height='2.192' x='95.158' y='66.753' rx='1.096'/%3e %3crect width='10.949' height='2.192' x='133.383' y='66.753' rx='1.096'/%3e %3crect width='10.949' height='2.192' x='171.026' y='66.753' rx='1.096'/%3e %3crect width='10.949' height='2.192' x='208.834' y='66.753' rx='1.096'/%3e %3crect width='11.949' height='2.192' x='246.059' y='66.753' rx='1.096'/%3e %3crect width='6.569' height='2.192' rx='1.096'/%3e %3crect width='6.569' height='2.192' y='11.725' rx='1.096'/%3e %3crect width='6.569' height='2.192' y='23.925' rx='1.096'/%3e %3crect width='6.569' height='2.192' y='35.825' rx='1.096'/%3e %3crect width='6.569' height='2.192' y='47.925' rx='1.096'/%3e %3c/g%3e %3c/g%3e %3c/svg%3e",As=n.p+"static/7a5c5fc090835f292a8f.svg",Es={upsell:"ServerDashboardPageUpsell-upsell-dC7iUf",description:"ServerDashboardPageUpsell-description-GHK6xL",chartImageContainer:"ServerDashboardPageUpsell-chartImageContainer-l8Ty00",listImageContainer:"ServerDashboardPageUpsell-listImageContainer-gCTlBy",image:"ServerDashboardPageUpsell-image-vqqVhZ",button:"ServerDashboardPageUpsell-button-xgg1TG Link-link-vSsQW1"};function Ss(){const e=(0,C.wA)(),t=(0,i.useCallback)((()=>{(0,j.Cc)((()=>{e((0,na.hg)({hasDismissedServerDashboardUpsell:!0}))}))}),[e]);return i.createElement("div",{className:Es.upsell},i.createElement("div",{className:Es.description},`${(0,B.A)("Want more data? Get stats like top users, what's popular, and bandwidth usage with the new server Dashboard for Plex Pass holders!")} `,i.createElement(ka.A,{kind:Cr.A.Primary,target:"_blank",to:"https://www.plex.tv/plex-pass"},(0,B.A)("Learn more"))),i.createElement("div",{className:Es.chartImageContainer},i.createElement("img",{className:Es.image,src:String(ys)})),i.createElement("div",{className:Es.listImageContainer},i.createElement("img",{className:Es.image,src:String(As)})),i.createElement(ka.A,{className:Es.button,onPress:t},i.createElement(bs.A,null)))}function ws(){var e;const[t]=(0,_e.Ss)(),n=!!(null==(e=t.ownerFeatures)?void 0:e.includes(h.hv)),a=(0,C.d4)((0,We.A)("hasDismissedServerDashboardUpsell"));return i.createElement(i.Fragment,null,n||a?null:i.createElement(Ss,null),i.createElement(ri,null,i.createElement(Hr,null)),n?i.createElement(i.Fragment,null,i.createElement(ri,null,i.createElement(Yn,null)),i.createElement(Ai,null),i.createElement(ri,null,i.createElement(fs,null)),i.createElement(ri,null,i.createElement(ni,null)),i.createElement(ri,null,i.createElement(Ui,null))):null)}const Cs=G.A.extend({component(e){const t=e.server;return i.createElement(ze.Y,null,i.createElement(_e.Ay,{machineIdentifier:t.get("machineIdentifier"),providerIdentifier:F.oB},i.createElement(ws,null)))}}),Ps=Cs;var Ds=n(72688),xs=n(55826),ks=n(51439),Os=n(92551),Is=n(70856),Ts=n(25473),Ms=n(56502),Ns=n(21324),Ls=n(5634);const Rs=(0,Ls.A)((function(e){return(0,it.Mz)(Ts.A,(0,Ns.A)(e),((e,t)=>{const n=t.providers.find((t=>F.cK(e[t].providerIdentifier,F.fo)));return n?e[n]:Ms.A}))}));var Fs=n(67687),Us=n(18697),Vs=n(37263),js=n(45619),Bs=n(14082),Hs=n(30851),zs=n(37660),_s=n(47673),Ws=n(6183),Gs=(e=>(e[e.PlexHome=0]="PlexHome",e[e.SharedUsers=1]="SharedUsers",e[e.NoOne=2]="NoOne",e))(Gs||{}),Ks=(e=>(e[e.Home=0]="Home",e[e.WhatsOn=1]="WhatsOn",e[e.FriendsHome=2]="FriendsHome",e))(Ks||{}),qs=(e=>(e.None="None",e["TV-Y"]="TV-Y",e["TV-Y7"]="TV-Y7",e["TV-G"]="TV-G",e["TV-PG"]="TV-PG",e["TV-14"]="TV-14",e["TV-MA"]="TV-MA",e))(qs||{});const $s={fieldset:"CustomChannelForm-fieldset-arARTH",fieldsetLegend:"CustomChannelForm-fieldsetLegend-LMlfve"};function Js({disabled:e}){const{register:t,errors:n}=(0,js.xW)(),a=(0,i.useMemo)((()=>[{value:`${Gs.PlexHome}`,displayText:(0,B.A)("Plex Home")},{value:`${Gs.SharedUsers}`,displayText:(0,B.A)("Shared Users")},{value:`${Gs.NoOne}`,displayText:(0,B.A)("No One")}]),[]),r=(0,i.useMemo)((()=>[{value:Ks.Home,displayText:(0,B.A)("Home")},{value:Ks.FriendsHome,displayText:(0,B.A)("Friends Home")},{value:Ks.WhatsOn,displayText:(0,B.A)("Whats On")}]),[]),s=(0,i.useMemo)((()=>[{value:qs.None,displayText:(0,B.A)("None")},{value:qs["TV-Y"],displayText:(0,B.A)("TV-Y")},{value:qs["TV-Y7"],displayText:(0,B.A)("TV-Y7")},{value:qs["TV-G"],displayText:(0,B.A)("TV-G")},{value:qs["TV-PG"],displayText:(0,B.A)("TV-PG")},{value:qs["TV-14"],displayText:(0,B.A)("TV-14")},{value:qs["TV-MA"],displayText:(0,B.A)("TV-MA")}]),[]);return i.createElement(u.BJ,{align:["center","center","space-between"],gap:["xxl","xxl","none"],orientation:["vertical","vertical","horizontal"],wrap:[!0,!0,!1]},i.createElement(u.BJ,{align:"center",gap:"m",grow:!0,maxWidth:240},i.createElement(u.BJ,{gap:"xs"},i.createElement(p.E,{color:"primary",font:"heading-3",grow:!0},(0,B.A)("Channel Logo")),i.createElement(u.BJ,{align:"center",gap:"xs"},i.createElement(Ws.O6,{posterStyle:"landscape",width:240},i.createElement(u.BJ,{height:"100%",verticalAlign:"center"},i.createElement(_s.default,{size:"xxxl"}))),i.createElement(Zn.QW,{color:"accent",disabled:e,font:"body-2"},(0,B.A)("Create logo")))),i.createElement(u.BJ,{gap:"xs"},i.createElement(p.E,{color:"primary",font:"caption"},(0,B.A)("Rating Restriction:")),i.createElement(p.E,{color:"primary",font:"body-3"},(0,B.A)("Set your Rating Restriction to make sure your younger managed users arent able to access a channel with more sensitive content.")))),i.createElement(u.BJ,{gap:"m",grow:!0,maxWidth:280,width:"100%"},i.createElement(zs.G6,{ref:t({required:!0,validate:e=>!!e.trim()}),"aria-invalid":!!n.name,disabled:e,id:"name",label:(0,B.A)("Channel Name"),name:"name",placeholder:(0,B.A)("Enter Channel Name")}),i.createElement(zs.hg,{ref:t,"aria-invalid":!!n.description,disabled:e,id:"description",label:(0,B.A)("Description (optional)"),name:"description",placeholder:(0,B.A)("Add an optional description")}),i.createElement(zs.wJ,{ref:t({required:!0}),"aria-invalid":!!n.visibility,defaultValue:`${Gs.PlexHome}`,disabled:e,id:"visibility",label:(0,B.A)("User Visibility"),name:"visibility",options:a}),i.createElement("fieldset",{className:$s.fieldset},i.createElement("legend",{className:$s.fieldsetLegend},i.createElement(p.E,{font:"body-2"},(0,B.A)("Displayed On"))),i.createElement(u.BJ,{gap:"xs"},r.map((({value:a,displayText:r})=>i.createElement(zs.Xq,{key:a,ref:t,"aria-invalid":!!n.displayedOn,disabled:e,id:`displayedOn-${a}`,label:r,name:"displayedOn",value:a}))))),i.createElement(zs.wJ,{ref:t({required:!0}),"aria-invalid":!!n.contentRating,defaultValue:qs.None,disabled:e,id:"contentRating",label:(0,B.A)("Rating Restriction"),name:"contentRating",options:s})))}var Qs=n(4987);const Ys=e=>(0,it.Mz)(st.A,(t=>t.customChannels.operations[e]));var Xs=Object.defineProperty,Zs=Object.getOwnPropertySymbols,el=Object.prototype.hasOwnProperty,tl=Object.prototype.propertyIsEnumerable,nl=(e,t,n)=>t in e?Xs(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,al=(e,t)=>{for(var n in t||(t={}))el.call(t,n)&&nl(e,n,t[n]);if(Zs)for(var n of Zs(t))tl.call(t,n)&&nl(e,n,t[n]);return e};function rl({children:e,modalState:{isOpen:t,onOpenChange:n,onClose:a}}){const r=(0,C.wA)(),[s]=(0,_e.Ss)(),{error:l,isPending:o,isPopulated:c}=(0,C.d4)(Ys("createChannel")),d=(0,js.mN)(),{handleSubmit:u}=d,m=(0,i.useCallback)((e=>{r(Qs.A.actions.customChannelCreateRequested(al({server:s},e)))}),[r,s]);return(0,i.useEffect)((()=>{c&&a()}),[c,a]),(0,i.useEffect)((()=>()=>{t&&r(Qs.A.actions.resetOperation({operation:"createChannel"}))}),[r,t]),i.createElement(Bs.aF,{isOpen:t,onOpenChange:n},i.createElement(Bs.g6,null,e),i.createElement(Bs.$m,{as:"form",closeButtonAccessibilityLabel:(0,B.A)("Close Modal"),title:(0,B.A)("Create a Live TV Channel"),onSubmit:u(m)},i.createElement(Bs.cw,{paddingBottom:"xxl",paddingLeft:"xxl",paddingRight:"xxl",paddingTop:"xxl"},i.createElement(js.Op,al({},d),i.createElement(Js,{disabled:o}))),i.createElement(Bs.jl,null,l?i.createElement(p.E,{align:"right",color:"alert",font:"body-2"},(0,Hs.A)(l)):null,i.createElement(Bs.Xd,null,i.createElement(Zn.$n,{disabled:o,label:(0,B.A)("Cancel"),onPress:a}),i.createElement(Zn.$n,{color:"accent",label:(0,B.A)("Create"),type:"submit",waiting:o})))))}var il=n(72909),sl=n(86357),ll=n(34040),ol=n(37638),cl=n(99184),dl=n(96563),ul=n(51776);function ml(e,t){return`${(0,Le.A)(e,"manage","custom-channels")}?id=${t}`}function pl({channel:e,isWaiting:t,isHovered:n}){const[a]=(0,_e.Ss)(),r=(0,C.wA)(),s=(0,Vs.E)(),l=(0,Vs.E)(),o=(0,i.useCallback)((()=>{r(Qs.A.actions.customChannelDeleteRequested({server:a,channelId:e.id}))}),[e.id,r,a]);return i.createElement(i.Fragment,null,i.createElement(cl.W1,{isOpen:s.isOpen,onOpenChange:s.onOpenChange},i.createElement(cl.cQ,null,s.isOpen||n?i.createElement(dl.al,{accessibilityLabel:(0,B.A)("Actions"),disabled:t},i.createElement(ol.default,{size:"l"})):null),i.createElement(cl.rm,null,i.createElement(cl.eh,{href:ml(a.machineIdentifier,e.id)},(0,B.A)("Manage")),i.createElement(cl.bX,null),i.createElement(cl.IU,{onPress:l.onOpen},(0,B.A)("Delete Channel")))),i.createElement(ul.A,{children:null,description:(0,B.A)('Are you sure you want to delete the "{title}" custom channel?',{title:e.name}),isWaiting:!!t,modalState:l,title:(0,B.A)("Delete Custom Channel"),onSuccess:o}))}var hl=n(56966);const gl={container:"CustomChannelLogo-container-Am_NPP",overlay:"CustomChannelLogo-overlay-JsPN8b"},vl=parseInt(ll.A.customChannelsPosterWidth,10),fl=parseInt(ll.A.customChannelsPosterHeight,10);function bl({isHovered:e,logoUrl:t,name:n}){const[a]=(0,_e.Ss)();return i.createElement("div",{className:gl.container},t?i.createElement(hl.R,{height:fl,posterStyle:"landscape",server:a,url:t,width:vl}):i.createElement(p.E,{align:"center",as:"span",color:"inherit",font:"heading-2",numberOfLines:2},n),e?i.createElement("div",{className:gl.overlay}):null)}const yl=(0,it.Mz)(st.A,(e=>Object.values(e.customChannels.operations).some((e=>e.isPending)))),Al=yl,El={menu:"CustomChannelItem-menu-Thv9n8"},Sl=parseInt(ll.A.customChannelsPosterWidth,10);function wl({channel:e}){const[t]=(0,_e.Ss)(),n=(0,C.d4)(Al),[a,r]=(0,Oa.A)();return i.createElement(Ws.uR,{width:Sl},i.createElement(Ws.O6,{ref:r,posterStyle:"landscape",width:Sl},i.createElement(bl,{isHovered:a,logoUrl:e.logoUrl,name:e.name}),i.createElement(Ws.EH,{disabled:n,href:ml(t.machineIdentifier,e.id),posterStyle:"landscape"}),i.createElement("div",{className:El.menu},i.createElement(pl,{channel:e,isHovered:a,isWaiting:n}))),i.createElement(Ws.nd,{posterStyle:"portrait"},i.createElement(sl.N,{font:"body-2",href:"/"},e.name)))}function Cl({channels:e}){return i.createElement(il.HO,{scrollDirection:"vertical"},i.createElement(u.BJ,{gap:"xl",orientation:"horizontal",wrap:!0},e.map((e=>i.createElement(wl,{key:e.id,channel:e})))))}function Pl({channels:e}){const t=(0,Vs.E)();return i.createElement(u.BJ,{gap:"xxl"},i.createElement(u.BJ,{align:"space-between",orientation:"horizontal",verticalAlign:"center"},i.createElement(p.E,{color:"primary",font:"body-1"},(0,B.A)("My Channels ({channels})",{channels:e.length})),i.createElement(rl,{modalState:t},i.createElement(Zn.$n,{color:"accent",label:(0,B.A)("Create New Channel"),size:"xs",onPress:t.onOpen}))),i.createElement(Cl,{channels:e}))}const Dl="CustomChannelsZeroState-backgroundContainer-Mgm2YL",xl="CustomChannelsZeroState-backgroundGradient-MPaf1r";function kl({allowChannelCreation:e}){const t=(0,Vs.E)();return i.createElement(u.BJ,{gap:"m"},i.createElement(p.E,{color:"primary",font:"body-2"},(0,B.A)("My Channels (0)")),i.createElement("div",{className:Dl},i.createElement("div",{className:xl}),i.createElement(u.BJ,{align:"center",gap:"l",padding:"l"},i.createElement(u.BJ,{align:"center",gap:"xs",maxWidth:646},i.createElement(p.E,{color:"primary",font:"heading-2"},(0,B.A)("Create your own channel")),i.createElement(p.E,{align:"center",font:"body-3"},(0,B.A)("With Plex Pass, you can create your channels your way with our custom channel feature. Just add content from your collections and youre on your way to watching a live channel with everything you love and nothing you dont."))),e?i.createElement(rl,{modalState:t},i.createElement(Zn.$n,{color:"accent",label:(0,B.A)("Create your channel"),onPress:t.onOpen})):null)))}const Ol=(0,it.Mz)(st.A,(e=>e.customChannels.channels)),Il=Ol;var Tl=n(27705),Ml=n(36293),Nl=n(78546);const Ll=(0,Ls.A)((function(e){return(0,it.Mz)(Ts.A,(0,Ns.A)(e),((e,t)=>{const n=t.providers.find((t=>(0,Nl.A)(e[t])&&!F.cK(e[t].providerIdentifier,F.fo)));return n?e[n]:Ms.A}))}));var Rl=n(3184),Fl=n(19927),Ul=n(7672),Vl=n(30410);const jl={sectionError:"FormSectionError-sectionError-U8RZAk",sectionErrorIcon:"FormSectionError-sectionErrorIcon-Cf7S1z"};function Bl({errorMessage:e}){return i.createElement("div",{className:jl.sectionError},i.createElement(Vl.A,{className:jl.sectionErrorIcon}),e||(0,B.A)("There was a problem saving your changes."))}var Hl=n(4396),zl=n(47401),_l=n(75473),Wl=n(46235),Gl=n(12244);const Kl={label:"DVRSetupCountryRegionSelectInput-label-ZaD2UR FormLabel-label-KQvmHO"};function ql({isDisabled:e,hasError:t}){const n=(0,C.wA)(),{selectedRegion:a,regions:{epgCountryRegions:r}}=(0,C.d4)(Gl.A),s=r.length>0,l=(0,i.useMemo)((()=>r.map((e=>({value:e.key,label:e.title})))),[r]),o=(0,i.useCallback)((e=>{n(Wl.Ay.actions.epgCountryRegionSelected({regionKey:e.currentTarget.value}))}),[n]);return s?i.createElement(i.Fragment,null,i.createElement(zl.A,{className:Kl.label,hasError:t},(0,B.A)("Region")),i.createElement(_l.A,{hasError:t,isDisabled:e,name:"regionSelect",value:null==a?void 0:a.key,onChange:o},i.createElement("option",{value:""},(0,B.A)("Select Region")),l.map((({value:e,label:t})=>i.createElement("option",{key:e,value:e},t))))):null}var $l=n(56536);const Jl={label:"DVRSetupCountrySelectInput-label-vIk6cX FormLabel-label-KQvmHO",edit:"DVRSetupCountrySelectInput-edit-WK319u"};function Ql({deviceKey:e,isActive:t,isDisabled:n,hasError:a,onEdit:r}){var s;const l=(0,C.wA)(),[o]=(0,_e.Ss)(),{selectedCountry:c,countries:{epgCountries:d,isPending:u,isPopulated:m,error:p}}=(0,C.d4)(Gl.A),[h,g]=(0,i.useState)(!1),v=null!=(s=null==c?void 0:c.code)?s:"",f=(0,i.useMemo)((()=>d.map((e=>({value:e.code,label:e.title})))),[d]),b=(0,i.useCallback)((e=>{l(Wl.Ay.actions.epgCountrySelected({countryCode:e.currentTarget.value}))}),[l]),y=(0,i.useCallback)((()=>{null==r||r(e)}),[e,r]);(0,i.useEffect)((()=>{const{countryCode:e}=o;if(!m)return;const t=!!f.find((({value:t})=>t===e));!v&&e&&t?l(Wl.Ay.actions.epgCountrySelected({countryCode:e})):g(!0)}),[o,v,m,g,l,f]),(0,i.useEffect)((()=>{v&&!h&&g(!0)}),[v,h,g]),(0,i.useEffect)((()=>{if(c){const{flavor:e}=c;e===$l.D7.Regions?l(Wl.Ay.actions.epgCountryRegionsFetchRequested({server:o,country:c})):e===$l.D7.SinglePostalCode&&l(Wl.Ay.actions.epgPostalCodeChanged({postalCode:c.example}))}}),[l,c,o]),(0,i.useEffect)((()=>{m||l(Wl.Ay.actions.epgCountriesFetchRequested({server:o}))}),[l,m,o]);const A=t||!v?i.createElement(_l.A,{hasError:a,isDisabled:n,name:"countrySelect",value:v,onChange:b},i.createElement("option",{value:""},(0,B.A)("Select Country")),f.map((({value:e,label:t},n)=>i.createElement("option",{key:n,value:e},t)))):i.createElement("div",{className:Jl.edit},null==c?void 0:c.title,n?null:i.createElement(ka.A,{kind:Cr.A.Primary,onPress:y},(0,B.A)("Edit")));return i.createElement(i.Fragment,null,i.createElement(zl.A,{className:Jl.label,hasError:a},(0,B.A)("Country")),u||!h?(0,B.A)("Loading countries..."):null,p?(0,B.A)("We couldn't fetch countries at this moment."):null,m&&h?A:null)}var Yl=n(70009);const Xl=(0,it.Mz)(Gl.A,(({selectedCountry:e})=>e&&1===e.flavor?e.example:void 0));var Zl=n(48403);const eo={label:"DVRSetupPostalCodeInput-label-goMh40 FormLabel-label-KQvmHO"};let to;function no({isDisabled:e,hasError:t}){const n=(0,C.wA)(),{selectedCountry:a}=(0,C.d4)(Gl.A),r=(0,Zl.A)(a),s=(0,C.d4)(Xl),[l,o]=(0,i.useState)(""),c=(0,i.useCallback)((e=>{o(e.currentTarget.value)}),[o]);return(0,i.useEffect)((()=>{r&&r.key!==(null==a?void 0:a.key)&&o("")}),[a,r]),(0,i.useEffect)((()=>{to&&window.clearTimeout(to),to=window.setTimeout((()=>{n(Wl.Ay.actions.epgPostalCodeChanged({postalCode:l}))}),300)}),[n,l]),s?i.createElement(i.Fragment,null,i.createElement(zl.A,{className:eo.label,hasError:t},(0,B.A)("Postal Code")),i.createElement(Yl.A,{hasError:t,isDisabled:e,name:"postalCodeInput",placeholder:(0,B.A)("e.g. {postalCodeExample}",{postalCodeExample:s}),size:wt.A.Medium,value:l,onChange:c})):null}var ao=n(28495),ro=n(7158);const io=(0,it.Mz)(Gl.A,(({lineupGroups:e})=>{const{epgLineupGroups:t,isPending:n,isPopulated:a}=e;return n||!a||0===t.length?null:t[t.length-1]})),so=(0,it.Mz)(ro.A,(({selectedDVR:e})=>{var t,n;return null==(n=null==(t=null==e?void 0:e.dvr)?void 0:t.Lineup)?void 0:n.map((e=>({uuid:e.id,title:e.title,lineupType:$l.s_.Unknown})))}));var lo=n(68719);const oo={innerModalBody:"DVRSetupAddLineup-innerModalBody-ANeoOI ModalBody-innerModalBody-P8kk_7",header:"DVRSetupAddLineup-header-BbaRt5",formContainer:"DVRSetupAddLineup-formContainer-ginZUJ",formElements:"DVRSetupAddLineup-formElements-JOyvpg",formError:"DVRSetupAddLineup-formError-w_rBUD",section:"DVRSetupAddLineup-section-qDVDuW",buttonBar:"DVRSetupAddLineup-buttonBar-XtmRXt ModalFooterButtonBar-buttonBar-xxZyHc",form:"DVRSetupAddLineup-form-DsS910"};function co({onSetStep:e}){const t=(0,C.wA)(),[n]=(0,_e.Ss)(),{selectedDevice:a}=(0,C.d4)(ro.A),{selectedCountry:r,selectedRegion:s,selectedLineupGroups:l,postalCode:o,channelMappings:{isPending:c},lineupGroups:{isPending:d}}=(0,C.d4)(Gl.A),u=(0,C.d4)(io),m=(0,C.d4)(lo.A),p=(0,C.d4)(so),h=(0,C.d4)(Xl),[g,v]=(0,i.useState)(!1),f=(0,Zl.A)(r),b=(0,Zl.A)(s),y=(0,Zl.A)(o),A=!(null==p?void 0:p.length)&&!(null==m?void 0:m.length),E=l.every((e=>e.isSelectedLineupPopulated)),S=l.every((e=>e.isChannelMappingsFetched)),w=!(!r||!o&&!s&&r.flavor!==$l.D7.SinglePostalCode),P=!!(void 0!==f&&f!==r||void 0!==b&&b!==s||void 0!==y&&y!==o),D=(0,i.useCallback)((()=>{l.length>0?e(kd.Mapping):(t(ao.Ay.actions.reset()),t(Wl.Ay.actions.reset()))}),[t,l.length,e]),x=(0,i.useCallback)((()=>{u&&t(Wl.Ay.actions.selectedEPGLineupGroupAddRequested({lineupGroup:u}))}),[t,u]),k=(0,i.useCallback)((()=>{e(kd.XMLTV)}),[e]);(0,i.useEffect)((()=>{a||e(kd.Device)}),[a,e]),(0,i.useEffect)((()=>{P&&w&&r&&t(Wl.Ay.actions.epgLineupGroupFetchRequested({server:n,country:r,region:s,postalCode:o}))}),[P,w,s,o,n,r,t]),(0,i.useEffect)((()=>{u&&a&&l&&!g&&!E&&(t(Wl.Ay.actions.bestEPGLineupSearchRequested({server:n,device:a,lineupGroup:l[l.length-1]})),v(!0))}),[t,u,a,l,g,E,n]),(0,i.useEffect)((()=>{g&&u&&a&&(!E||!S&&(null==m?void 0:m.length)?!c&&(null==m?void 0:m.length)&&t(Wl.Ay.actions.channelMappingsFetchRequested({server:n,device:a,lineups:m})):e(kd.Mapping))}),[t,g,c,E,S,u,e,a,m,n]);const O=(!u||u.epgLineups.length>0)&&w,I=g||d||c||!E,T=w&&!d&&0===(null==u?void 0:u.epgLineups.length);return i.createElement(i.Fragment,null,i.createElement(sa.A,{innerClassName:oo.innerModalBody},i.createElement("p",{className:oo.header},(null==m?void 0:m.length)?(0,B.A)("Add another EPG data lineup or location"):(0,B.A)("Add EPG data lineup or location")),i.createElement("p",null,(0,B.A)("If your tuner device can receive channels that are not present in your initial lineup, you can specify additional locations or lineups to fulfill your EPG.")),i.createElement("p",null,(0,B.A)("Remember, your device will need to be able to tune these channels to be able to function.")),i.createElement("p",null,(0,B.A)("Any unsaved changes to channel mappings will be lost when you add a new lineup.")),i.createElement("div",{className:oo.formContainer},i.createElement("div",{className:oo.formElements},a?i.createElement("div",{className:oo.section},i.createElement(Ql,{deviceKey:a.key,hasError:T,isActive:!0,isDisabled:I})):null,(null==r?void 0:r.flavor)===$l.D7.Regions?i.createElement("div",{className:oo.section},i.createElement(ql,{hasError:T,isDisabled:I})):null,h?i.createElement("div",{className:oo.section},i.createElement(no,{hasError:T,isDisabled:I})):null),T?i.createElement("p",{className:oo.formError},(0,B.A)("We couldn't find Plex DVR guide data for your location at this time. Please select a different location or use an XMLTV guide.")):null),A?i.createElement(Xt.A,{kind:Cr.A.Primary,onPress:k},(0,B.A)("Have an XMLTV guide on your server? Click here to use that instead.")):null),i.createElement(Sr.A,null,i.createElement(wr.A,{className:oo.buttonBar},i.createElement(Er.A,{isDisabled:c,onPress:D},(0,B.A)("Back")),i.createElement(Hl.A,{isDisabled:!O,isSpinning:I,kind:Cr.A.Primary,onPress:x},(0,B.A)("Continue")))))}var uo=n(36588),mo=n(72817);const po=function(e){return(0,it.Mz)((0,mo.A)(e),(e=>e.find((e=>e.type===uo.iT))))},ho=(0,it.Mz)(ro.A,(({devices:e})=>e.mediaGrabberDevices.filter((e=>!e.parentID&&e.status===$l.EE.Alive)))),go="data:image/svg+xml,%3csvg viewBox='0 0 560 560' xmlns='http://www.w3.org/2000/svg'%3e%3cg fill='none' fill-rule='evenodd'%3e%3cpath fill='%233A4958' d='M0 0h560v560H0z'/%3e%3cpath d='M420 238c0-7.726-6.275-14-14-14H154c-7.727 0-14 6.274-14 14v84c0 7.727 6.273 14 14 14h252c7.726 0 14-6.273 14-14v-84' fill-opacity='.149' fill='black'/%3e%3cpath d='M406.18 224s.952.036 1.426.09c1.036.119 2.059.354 3.043.701 1.916.675 3.675 1.774 5.128 3.192 1.492 1.458 2.654 3.246 3.372 5.204.358.978.606 1.997.737 3.03.068.532.112 1.601.112 1.601v84.36s-.044 1.069-.112 1.601a13.9214 13.9214 0 01-.737 3.03c-.718 1.958-1.88 3.746-3.372 5.204-1.453 1.418-3.212 2.517-5.128 3.192-.984.347-2.01.582-3.043.701-.474.054-1.426.09-1.426.09H153.82s-.952-.036-1.426-.09a13.9432 13.9432 0 01-3.043-.701c-1.916-.675-3.675-1.774-5.128-3.192-1.492-1.458-2.654-3.246-3.372-5.204-.358-.978-.606-1.997-.737-3.03-.068-.532-.112-1.601-.112-1.601v-84.36s.044-1.069.112-1.601c.131-1.033.379-2.052.737-3.03.718-1.958 1.88-3.746 3.372-5.204 1.453-1.418 3.212-2.517 5.128-3.192.984-.347 2.01-.582 3.043-.701.474-.054 1.426-.09 1.426-.09h252.36m-252.15 8.999s-.408.01-.611.033c-.406.047-.806.144-1.188.289-1.344.511-2.434 1.614-2.928 2.963-.194.529-.3 1.648-.3 1.648l.001 84.2s.112 1.074.299 1.582c.494 1.349 1.584 2.452 2.928 2.963.524.2 1.638.32 1.638.32h252.27s1.114-.12 1.639-.32c1.343-.511 2.433-1.614 2.927-2.963.186-.508.299-1.582.299-1.582v-84.27s-.12-1.114-.32-1.638c-.511-1.344-1.614-2.434-2.963-2.928-.508-.187-1.582-.299-1.582-.299l-252.1-.002M219.333 296h-6.9629v-27.043h-8.917v-5.7949H228.25v5.795h-8.917V296zm40.6992-32.8379v21.248c0 2.4259-.5428 4.5521-1.6284 6.379-1.0856 1.8268-2.6541 3.2268-4.7056 4.2002-2.0514.9733-4.4772 1.46-7.2773 1.46-4.2227 0-7.502-1.082-9.8379-3.2457-2.336-2.1637-3.5039-5.1248-3.5039-8.8833v-21.1582h6.9404v20.1025c0 2.5307.5091 4.3874 1.5274 5.5704 1.0182 1.183 2.7028 1.7744 5.0537 1.7744 2.276 0 3.9269-.5952 4.9526-1.7857 1.0257-1.1904 1.5386-3.0584 1.5386-5.604v-20.0576h6.9404zM297.2051 296h-8.8496l-14.2852-24.8418h-.2021c.2845 4.3874.4267 7.517.4267 9.3887V296h-6.2217v-32.8379h8.7823l14.2627 24.5947h.1572c-.2246-4.2676-.337-7.2848-.337-9.0517v-15.543h6.2667V296zm27.1777 0h-18.9121v-32.8379h18.9121v5.705h-11.9492v7.21h11.1182v5.7051h-11.1182v8.4678h11.9492V296zm13.8135-18.2607h2.246c2.2013 0 3.826-.3669 4.8741-1.1006 1.0482-.7338 1.5723-1.8867 1.5723-3.459 0-1.5573-.5353-2.6654-1.606-3.3242-1.0706-.6589-2.729-.9883-4.975-.9883h-2.1114v8.872zm0 5.6601V296h-6.9629v-32.8379h9.5684c4.4622 0 7.764.8123 9.9052 2.437 2.1413 1.6247 3.212 4.0916 3.212 7.4009 0 1.9316-.5316 3.6499-1.5948 5.1548-1.0631 1.5049-2.568 2.684-4.5146 3.5376 4.9414 7.3822 8.1608 12.1513 9.6582 14.3076h-7.7266l-7.8389-12.6006h-3.706z' fill='%23CFCFCF'/%3e%3c/g%3e%3c/svg%3e",vo="data:image/svg+xml,%3csvg viewBox='0 0 560 560' version='1.1' xmlns='http://www.w3.org/2000/svg' style='stroke-miterlimit:1.41421%3bclip-rule:evenodd%3bfill-rule:evenodd%3bstroke-linejoin:round'%3e %3crect width='560' height='560' style='fill:%232f4741'/%3e %3cpath d='m140 244c0-8.243 5.832-15.347 14-16.516l28-3.483h196l28 3.483c8.183 1.169 14 8.281 14 16.516v72c0 8.243-5.832 15.347-14 16.516l-28 3.483h-196l-28-3.483c-8.183-1.169-14-8.281-14-16.516v-72' style='fill-opacity:.14902'/%3e %3cpath d='m378 336h-196l-28-3.483c-.506-.075-1.01-.168-1.506-.288-1.089-.261-2.149-.637-3.159-1.12-2.132-1.018-4.02-2.514-5.52-4.34-1.231-1.502-2.194-3.22-2.841-5.05-.434-1.232-.726-2.513-.869-3.811-.063-.569-.104-1.714-.104-1.714v-72.39c0 0 .041-1.146.104-1.716.144-1.299.436-2.581.871-3.812.648-1.832 1.612-3.551 2.845-5.05 1.498-1.825 3.389-3.32 5.519-4.338 1.01-.482 2.069-.857 3.156-1.119.497-.119.999-.212 1.504-.287l28-3.483h196c0 0 18.667 2.322 28 3.483.506.075 1.01.168 1.506.288 1.089.261 2.149.637 3.159 1.12 2.132 1.018 4.02 2.514 5.52 4.34 1.231 1.502 2.194 3.22 2.841 5.05.434 1.232.726 2.513.869 3.811.063.569.104 1.714.104 1.714v72.39c0 0-.041 1.146-.104 1.716-.144 1.299-.436 2.581-.871 3.812-.648 1.832-1.612 3.551-2.845 5.05-1.498 1.825-3.389 3.32-5.519 4.338-1.01.482-2.069.857-3.156 1.119-.497.119-.999.212-1.504.287l-28 3.483m-.558-103h-194.88c-9.124 1.135-18.278 2.052-27.372 3.405-.113.019-.226.039-.338.061-.641.134-1.26.348-1.841.65-.931.486-1.745 1.183-2.384 2.01-.497.648-.889 1.376-1.161 2.146-.299.846-.461 2.629-.461 2.629l.001 72.28c0 0 .193 1.834.519 2.697.287.762.692 1.479 1.202 2.114.671.837 1.524 1.528 2.493 1.991.598.286 1.232.479 1.884.592l.087.014.032.004 27.339 3.401h194.88c0 0 18.278-2.052 27.371-3.405.681-.11 1.343-.307 1.966-.604 1.02-.488 1.91-1.226 2.598-2.122.48-.625.861-1.325 1.132-2.065.317-.869.49-2.71.49-2.71l-.001-72.28c0 0-.193-1.834-.519-2.698-.287-.761-.692-1.478-1.201-2.113-.655-.816-1.482-1.494-2.422-1.956-.619-.305-1.278-.509-1.956-.627l-.086-.013-.032-.005-27.34-3.401m-13.442 38c4.967 0 9 4.03 9 9 0 4.967-4.03 9-9 9-4.967 0-9-4.03-9-9 0-4.967 4.03-9 9-9m-42 0c4.967 0 9 4.03 9 9 0 4.967-4.03 9-9 9-4.967 0-9-4.03-9-9 0-4.967 4.03-9 9-9m-126 0c4.967 0 9 4.03 9 9 0 4.967-4.03 9-9 9-4.967 0-9-4.03-9-9 0-4.967 4.03-9 9-9' style='fill:%2391c53b'/%3e %3c/svg%3e",fo="data:image/svg+xml,%3csvg viewBox='0 0 560 560' version='1.1' xmlns='http://www.w3.org/2000/svg' style='stroke-miterlimit:1.41421%3bclip-rule:evenodd%3bfill-rule:evenodd%3bstroke-linejoin:round'%3e %3crect width='560' height='560' style='fill:%2341413e'/%3e %3cpath d='m84 244c0-8.243 5.832-15.347 14-16.516l56-3.483h252l56 3.483c8.183 1.169 14 8.281 14 16.516v72c0 8.243-5.832 15.347-14 16.516l-56 3.483h-252l-56-3.483c-8.183-1.169-14-8.281-14-16.516v-72' style='fill-opacity:.14902'/%3e %3cpath d='m406 336h-252l-56-3.483c-.506-.075-1.01-.168-1.506-.288-1.089-.261-2.149-.637-3.159-1.12-2.132-1.018-4.02-2.514-5.52-4.34-1.231-1.502-2.194-3.22-2.841-5.05-.434-1.232-.726-2.513-.869-3.811-.063-.569-.104-1.714-.104-1.714v-72.39c0 0 .041-1.146.104-1.716.144-1.299.436-2.581.871-3.812.648-1.832 1.612-3.551 2.845-5.05 1.498-1.825 3.389-3.32 5.519-4.338 1.01-.482 2.069-.857 3.156-1.119.497-.119.999-.212 1.504-.287l56-3.483h252c0 0 37.33 2.322 56 3.483.506.075 1.01.168 1.506.288 1.089.261 2.149.637 3.159 1.12 2.132 1.018 4.02 2.514 5.52 4.34 1.231 1.502 2.194 3.22 2.841 5.05.434 1.232.726 2.513.869 3.811.063.569.104 1.714.104 1.714v72.39c0 0-.041 1.146-.104 1.716-.144 1.299-.436 2.581-.871 3.812-.648 1.832-1.612 3.551-2.845 5.05-1.498 1.825-3.389 3.32-5.519 4.338-1.01.482-2.069.857-3.156 1.119-.497.119-.999.212-1.504.287l-56 3.483m-.28-103h-251.44l-55.29 3.439c-.103.019-.206.04-.308.063-.608.142-1.195.356-1.745.651-.951.51-1.776 1.241-2.413 2.111-.451.614-.808 1.295-1.062 2.01-.299.845-.461 2.628-.461 2.628v72.28c0 0 .193 1.834.519 2.698.287.761.692 1.478 1.202 2.113.671.838 1.524 1.528 2.493 1.991.563.269 1.16.459 1.774.572l55.29 3.439h251.44l55.29-3.439c.612-.113 1.207-.302 1.769-.57 1.02-.488 1.91-1.226 2.598-2.122.48-.625.861-1.325 1.132-2.065.317-.869.49-2.71.49-2.71l-.001-72.28c0 0-.193-1.834-.519-2.698-.287-.761-.692-1.478-1.201-2.113-.672-.838-1.525-1.528-2.495-1.992-.563-.269-1.16-.458-1.773-.571l-55.29-3.439m-41.72 38c4.967 0 9 4.03 9 9 0 4.967-4.03 9-9 9-4.967 0-9-4.03-9-9 0-4.967 4.03-9 9-9m-42 0c4.967 0 9 4.03 9 9 0 4.967-4.03 9-9 9-4.967 0-9-4.03-9-9 0-4.967 4.03-9 9-9m-42 0c4.967 0 9 4.03 9 9 0 4.967-4.03 9-9 9-4.967 0-9-4.03-9-9 0-4.967 4.03-9 9-9m-84 0c4.967 0 9 4.03 9 9 0 4.967-4.03 9-9 9-4.967 0-9-4.03-9-9 0-4.967 4.03-9 9-9m-42 0c4.967 0 9 4.03 9 9 0 4.967-4.03 9-9 9-4.967 0-9-4.03-9-9 0-4.967 4.03-9 9-9' style='fill:%23f7941e'/%3e %3c/svg%3e",bo="data:image/svg+xml,%3csvg viewBox='0 0 560 560' version='1.1' xmlns='http://www.w3.org/2000/svg' style='stroke-miterlimit:1.41421%3bclip-rule:evenodd%3bfill-rule:evenodd%3bstroke-linejoin:round'%3e %3crect width='560' height='560' style='fill:%231e4254'/%3e %3cpath d='m420 238c0-7.726-6.275-14-14-14h-252c-7.727 0-14 6.274-14 14v84c0 7.727 6.273 14 14 14h252c7.726 0 14-6.273 14-14v-84' style='fill-opacity:.14902'/%3e %3cpath d='m406.18 224c0 0 .952.036 1.426.09 1.036.119 2.059.354 3.043.701 1.916.675 3.675 1.774 5.128 3.192 1.492 1.458 2.654 3.246 3.372 5.204.358.978.606 1.997.737 3.03.068.532.112 1.601.112 1.601v84.36c0 0-.044 1.069-.112 1.601-.131 1.033-.379 2.052-.737 3.03-.718 1.958-1.88 3.746-3.372 5.204-1.453 1.418-3.212 2.517-5.128 3.192-.984.347-2.01.582-3.043.701-.474.054-1.426.09-1.426.09h-252.36c0 0-.952-.036-1.426-.09-1.036-.119-2.059-.354-3.043-.701-1.916-.675-3.675-1.774-5.128-3.192-1.492-1.458-2.654-3.246-3.372-5.204-.358-.978-.606-1.997-.737-3.03-.068-.532-.112-1.601-.112-1.601v-84.36c0 0 .044-1.069.112-1.601.131-1.033.379-2.052.737-3.03.718-1.958 1.88-3.746 3.372-5.204 1.453-1.418 3.212-2.517 5.128-3.192.984-.347 2.01-.582 3.043-.701.474-.054 1.426-.09 1.426-.09h252.36m-252.15 8.999c0 0-.408.01-.611.033-.406.047-.806.144-1.188.289-1.344.511-2.434 1.614-2.928 2.963-.194.529-.3 1.648-.3 1.648l.001 84.2c0 0 .112 1.074.299 1.582.494 1.349 1.584 2.452 2.928 2.963.524.2 1.638.32 1.638.32h252.27c0 0 1.114-.12 1.639-.32 1.343-.511 2.433-1.614 2.927-2.963.186-.508.299-1.582.299-1.582v-84.27c0 0-.12-1.114-.32-1.638-.511-1.344-1.614-2.434-2.963-2.928-.508-.187-1.582-.299-1.582-.299l-252.1-.002m101.71 63.42h-6.963v-32.838h6.963v12.87h13.01v-12.87h6.941v32.838h-6.941v-14.173h-13.01v14.173m37.532 0h-9.298v-32.838h10.309c5.361 0 9.524 1.415 12.488 4.245 2.965 2.83 4.448 6.783 4.448 11.86 0 5.405-1.539 9.545-4.616 12.42-3.077 2.875-7.52 4.313-13.331 4.313m1.371-27.13h-3.707v21.383h2.988c6.708 0 10.06-3.601 10.06-10.804 0-7.05-3.114-10.579-9.343-10.579' style='fill:%2331afc0'/%3e %3c/svg%3e",yo="data:image/svg+xml,%3csvg viewBox='0 0 560 560' version='1.1' xmlns='http://www.w3.org/2000/svg' style='stroke-miterlimit:1.41421%3bclip-rule:evenodd%3bfill-rule:evenodd%3bstroke-linejoin:round'%3e %3crect width='560' height='560' style='fill:%232f334d'/%3e %3cpath d='m84 244c0-8.243 5.832-15.347 14-16.516l56-3.483h252l56 3.483c8.183 1.169 14 8.281 14 16.516v72c0 8.243-5.832 15.347-14 16.516l-56 3.483h-252l-56-3.483c-8.183-1.169-14-8.281-14-16.516v-72' style='fill-opacity:.14902'/%3e %3cpath d='m406 336h-252l-56-3.483c-.506-.075-1.01-.168-1.506-.288-1.089-.261-2.149-.637-3.159-1.12-2.132-1.018-4.02-2.514-5.52-4.34-1.231-1.502-2.194-3.22-2.841-5.05-.434-1.232-.726-2.513-.869-3.811-.063-.569-.104-1.714-.104-1.714v-72.39c0 0 .041-1.146.104-1.716.144-1.299.436-2.581.871-3.812.648-1.832 1.612-3.551 2.845-5.05 1.498-1.825 3.389-3.32 5.519-4.338 1.01-.482 2.069-.857 3.156-1.119.497-.119.999-.212 1.504-.287l56-3.483h252c0 0 37.33 2.322 56 3.483.506.075 1.01.168 1.506.288 1.089.261 2.149.637 3.159 1.12 2.132 1.018 4.02 2.514 5.52 4.34 1.231 1.502 2.194 3.22 2.841 5.05.434 1.232.726 2.513.869 3.811.063.569.104 1.714.104 1.714v72.39c0 0-.041 1.146-.104 1.716-.144 1.299-.436 2.581-.871 3.812-.648 1.832-1.612 3.551-2.845 5.05-1.498 1.825-3.389 3.32-5.519 4.338-1.01.482-2.069.857-3.156 1.119-.497.119-.999.212-1.504.287l-56 3.483m-.28-103h-251.44l-55.29 3.439c-.103.019-.206.04-.308.063-.608.142-1.195.356-1.745.651-.951.51-1.776 1.241-2.413 2.111-.451.614-.808 1.295-1.062 2.01-.299.845-.461 2.628-.461 2.628v72.28c0 0 .193 1.834.519 2.698.287.761.692 1.478 1.202 2.113.671.838 1.524 1.528 2.493 1.991.563.269 1.16.459 1.774.572l55.29 3.439h251.44l55.29-3.439c.612-.113 1.207-.302 1.769-.57 1.02-.488 1.91-1.226 2.598-2.122.48-.625.861-1.325 1.132-2.065.317-.869.49-2.71.49-2.71l-.001-72.28c0 0-.193-1.834-.519-2.698-.287-.761-.692-1.478-1.201-2.113-.672-.838-1.525-1.528-2.495-1.992-.563-.269-1.16-.458-1.773-.571l-55.29-3.439m-41.72 38c4.967 0 9 4.03 9 9 0 4.967-4.03 9-9 9-4.967 0-9-4.03-9-9 0-4.967 4.03-9 9-9m-42 0c4.967 0 9 4.03 9 9 0 4.967-4.03 9-9 9-4.967 0-9-4.03-9-9 0-4.967 4.03-9 9-9m-42 0c4.967 0 9 4.03 9 9 0 4.967-4.03 9-9 9-4.967 0-9-4.03-9-9 0-4.967 4.03-9 9-9m-84 0c4.967 0 9 4.03 9 9 0 4.967-4.03 9-9 9-4.967 0-9-4.03-9-9 0-4.967 4.03-9 9-9m-42 0c4.967 0 9 4.03 9 9 0 4.967-4.03 9-9 9-4.967 0-9-4.03-9-9 0-4.967 4.03-9 9-9' style='fill:%2394508d'/%3e %3c/svg%3e",Ao={image:"DVRDeviceImage-image-iudPuI"},Eo={"HDHomeRun CONNECT":vo,"HDHomeRun EXPAND":fo,"HDHomeRun EXTEND":bo,"HDHomeRun PRIME":yo};function So({className:e=Ao.image,thumb:t,model:n,width:a,height:r}){const[s,l]=(0,_e.Ss)(),o=Eo[n]||go,c=(0,xa.Ay)({server:s,provider:l,width:a,height:r,url:t});return i.createElement(Ia.A,{className:e,fit:Ia.N.Cover,height:r,src:null!=c?c:o,width:a})}var wo=n(61852);function Co(e){switch(e){case $l.b7.Unknown:return(0,B.A)("Unknown");case $l.b7.Antenna:return(0,B.A)("Antenna");case $l.b7.Cable:return(0,B.A)("Cable");case $l.b7.Satellite:return(0,B.A)("Satellite")}}function Po({device:e,isDisabled:t}){const n=(0,C.wA)(),{key:a,source:r,sources:s}=e,l=(0,i.useMemo)((()=>function(e,t){return e?e.map((e=>({value:e,label:Co(e)}))):[{value:t,label:Co(t)}]}(s,r)),[s,r]),o=(0,i.useCallback)((e=>{n(ao.Ay.actions.deviceSourceSelected({deviceKey:a,source:e.currentTarget.value}))}),[n,a]);return(0,i.useEffect)((()=>{s&&void 0===r&&n(ao.Ay.actions.deviceSourceSelected({deviceKey:a,source:s[0]}))}),[n,a,s,r]),i.createElement(_l.A,{isDisabled:t||1===l.length,name:"deviceSource",value:r,onChange:o},l.map((({value:e,label:t},n)=>i.createElement("option",{key:n,value:e},t))))}const Do={container:"DVRSetupDevice-container-SiBaD_",section:"DVRSetupDevice-section-Q1003X",make:"DVRSetupDevice-make-NKyU_x",model:"DVRSetupDevice-model-jvRu7M",moreInfo:"DVRSetupDevice-moreInfo-lqIF_M",channelsMessage:"DVRSetupDevice-channelsMessage-dIoElE",button:"DVRSetupDevice-button-PCLYYK SpinnerButton-button-brFEgo Button-button-Eu0WcX Link-link-vSsQW1",disabledText:"DVRSetupDevice-disabledText-hnlwca"};function xo({device:e,activeDeviceKey:t,onSetupStart:n,onSetStep:a}){const r=(0,C.wA)(),[s]=(0,_e.Ss)(),l=(0,i.useMemo)((()=>(0,wo.A)(e.key)),[e]),o=(0,C.d4)(Xl),c=(0,C.d4)(l),{lineupGroups:{isPending:d},selectedCountry:u,selectedRegion:m,postalCode:p}=(0,C.d4)(Gl.A),h=(0,C.d4)(io),g=(0,C.d4)(so),v=null==g?void 0:g.find((({uuid:e})=>e.includes(F.sf))),f=!g||v,{key:b,make:y,model:A,tuners:E,thumb:S,uri:w}=e,P=!(!u||!(p||m||u.flavor===$l.D7.SinglePostalCode||v)),D=!(!t||t!==b),x=!(!t||t===b),k=!!t&&P,O=(0,i.useCallback)((()=>{D&&k&&((0,j.Cc)((()=>{r(ao.Ay.actions.deviceSelected({deviceKey:e.key})),!v&&h&&h.epgLineups.length>0&&r(Wl.Ay.actions.selectedEPGLineupGroupAddRequested({lineupGroup:h}))})),h&&h.epgLineups.length>0&&!v?a(kd.Info):a(kd.XMLTV))}),[r,e,h,v,D,k,a]),I=(0,i.useCallback)((()=>{(0,j.Cc)((()=>{r(ao.Ay.actions.deviceSelected({deviceKey:e.key}))})),a(kd.XMLTV)}),[r,e,a]),T=(0,i.useCallback)((()=>{n(b)}),[b,n]);(0,i.useEffect)((()=>{r(ao.Ay.actions.deviceChannelsFetchRequested({server:s,deviceKey:b}))}),[s,b,r]),(0,i.useEffect)((()=>{P&&u&&r(Wl.Ay.actions.epgLineupGroupFetchRequested({server:s,country:u,region:m,postalCode:p}))}),[m,p,s,u,P,r]);const M=function(e){if(!e||e.isPending)return(0,B.A)("Loading channels...");const{channels:t,error:n}=e,a=t.length;return n||0===a?(0,B.A)("0 Channels (scan required)"):1===a?(0,B.A)("1 channel"):(0,B.A)("{channelCount} channels",{channelCount:a})}(c);return i.createElement("form",{className:Do.container,onSubmit:O},i.createElement(So,{height:110,model:A,thumb:S,width:200}),i.createElement("div",{className:Do.section},i.createElement("div",{className:Do.make},y),i.createElement("div",{className:Do.model},A),i.createElement("div",{className:Do.moreInfo},w,w&&E?i.createElement(Et.A,null):null,E>1?(0,B.A)("{tunersCount} tuners",{tunersCount:E}):(0,B.A)("1 tuner"))),i.createElement("div",{className:Do.section},i.createElement(Po,{device:e,isDisabled:x}),i.createElement("div",{className:Do.channelsMessage},M)),x?null:i.createElement("div",{className:Do.section},i.createElement(Ql,{deviceKey:e.key,isActive:D,onEdit:T})),D&&(null==u?void 0:u.flavor)===$l.D7.Regions&&!v?i.createElement("div",{className:Do.section},i.createElement(ql,null)):null,D&&o&&!v?i.createElement("div",{className:Do.section},i.createElement(no,null)):null,D&&f&&!v?i.createElement("div",{className:Do.section},i.createElement(ka.A,{kind:Cr.A.Primary,onPress:I},(0,B.A)("Have an XMLTV guide on your server? Click here to use it."))):null,D||x?null:i.createElement(Er.A,{className:Do.button,kind:Cr.A.Primary,onPress:T},(0,B.A)("Setup Device")),D?i.createElement(Hl.A,{className:Do.button,isDisabled:!k,isSpinning:d,kind:Cr.A.Primary,type:"submit"},(0,B.A)("Next")):null,x?i.createElement("div",{className:Do.disabledText},(0,B.A)("You can add this device later.")):null)}var ko=n(30006);const Oo={manualDeviceButtonContainer:"DVRSetupManualDevice-manualDeviceButtonContainer-ovDKsY",manualDeviceContainer:"DVRSetupManualDevice-manualDeviceContainer-HTVcsz",manualDeviceInput:"DVRSetupManualDevice-manualDeviceInput-MurtFw TextInput-input-vbygwE"};function Io(){const e=(0,C.wA)(),[t]=(0,_e.Ss)(),{setupErrorMessage:n,isAddingDevice:a}=(0,C.d4)(ro.A),[r,s]=(0,i.useState)(!1),l=(0,Zl.A)(a),{register:o,handleSubmit:c}=(0,js.mN)(),d=(0,i.useCallback)((()=>{s(!r)}),[r,s]),u=c((({address:n})=>{e(ao.Ay.actions.deviceAddRequested({server:t,uri:n}))}));return(0,i.useEffect)((()=>{r&&l&&!a&&!n&&s(!1)}),[a,l,s,n,r]),i.createElement(i.Fragment,null,i.createElement("div",{className:Oo.manualDeviceButtonContainer},i.createElement(Ye.A,{direction:r?ko.A.Up:ko.A.Down,isSelected:!1,kind:Cr.A.Primary,onPress:d},(0,B.A)("Don't see your HDHomeRun device? Enter its network address manually"))),r?i.createElement("div",{className:Oo.manualDeviceContainer},i.createElement("form",{onSubmit:u},i.createElement(zl.A,null,(0,B.A)("HDHomeRun Device Address")),i.createElement(Yl.A,{ref:o({required:!0}),className:Oo.manualDeviceInput,name:"address",placeholder:(0,B.A)("IP address or hostname"),type:"text"}),i.createElement(Hl.A,{isSpinning:a,kind:Cr.A.Primary,type:"submit"},(0,B.A)("Connect")))):null)}const To={devicesContainer:"DVRSetupDeviceList-devicesContainer-VoTl5q",modalBody:"DVRSetupDeviceList-modalBody-yRu847 ModalBody-modalScroller-W8q7m0 ModalBody-modalBody-_vZ7B0",innerModalBody:"DVRSetupDeviceList-innerModalBody-QA8T2a ModalBody-innerModalBody-P8kk_7",spinnerContainer:"DVRSetupDeviceList-spinnerContainer-gm6TeX"};function Mo({onSetStep:e}){const t=(0,C.wA)(),[n]=(0,_e.Ss)(),[a,r]=(0,i.useState)(void 0),{devices:{isPending:s,isPopulated:l},isDiscoveringDevices:o,isCancellingChannelScan:c}=(0,C.d4)(ro.A),d=(0,C.d4)(ho),u=(0,i.useMemo)((()=>po(n)),[n]),m=(0,C.d4)(u),p=(0,i.useCallback)((e=>{r(e)}),[r]);(0,i.useEffect)((()=>{(0,j.Cc)((()=>{t(ao.Ay.actions.setupReset())}))}),[t]),(0,i.useEffect)((()=>{c||(m?t(ao.Ay.actions.deviceChannelsCancelScanRequested({server:n,deviceKey:m.Context.deviceID})):l||t(ao.Ay.actions.devicesFetchRequested({server:n})))}),[t,n,m,c,l]),(0,i.useEffect)((()=>{a&&!d.some((e=>e.key===a))?r(void 0):1!==d.length||a||r(d[0].key)}),[d,a,r]),(0,i.useEffect)((()=>{let e;return o||c||(e=window.setTimeout((()=>{t(ao.Ay.actions.devicesDiscoverRequested({server:n}))}),2e3)),()=>{e&&window.clearTimeout(e)}}),[t,n,o,c]);const h=(g=d,v=l,s||c?(0,B.A)("Looking for compatible devices..."):v&&g.length>0?(0,B.A)("We found hardware we recognize!"):v&&0===g.length?(0,B.A)("We couldn't find any hardware we recognize, but will continue to look for available devices."):(0,B.A)("Something went wrong. Please try again later."));var g,v;const f=c||s||!d.length||1===d.length&&!a;return i.createElement(sa.A,{className:To.modalBody,innerClassName:To.innerModalBody},i.createElement("p",null,h),i.createElement(Io,null),f?i.createElement("div",{className:To.spinnerContainer},i.createElement(St.A,null)):i.createElement(Wi.A,{className:To.devicesContainer,scrollDirection:Wi.D.Horizontal},d.map((t=>i.createElement(xo,{key:t.key,activeDeviceKey:a,device:t,onSetStep:e,onSetupStart:p})))))}var No=n(74332),Lo=n(46144),Ro=n(84126);const Fo={container:"AdditionalDevice-container-KNedzB",info:"AdditionalDevice-info-UQPvuE",make:"AdditionalDevice-make-WPKq69",model:"AdditionalDevice-model-l0BT9y"};function Uo({device:e,onSetupPress:t}){const{make:n,model:a,thumb:r}=e;return i.createElement("div",{className:Fo.container},i.createElement(So,{height:73,model:a,thumb:r,width:130}),i.createElement("div",{className:Fo.info},i.createElement("div",{className:Fo.make},n),i.createElement("div",{className:Fo.model},a),i.createElement(Er.A,{className:Fo.button,kind:Cr.A.Primary,size:wt.A.Small,onPress:t},(0,B.A)("Setup Device"))))}const Vo={innerModalBody:"DVRSetupDownload-innerModalBody-OV4qtx ModalBody-innerModalBody-P8kk_7",text:"DVRSetupDownload-text-v_uDZS",accentText:"DVRSetupDownload-accentText-LeHhqC",additionalDevices:"DVRSetupDownload-additionalDevices-HNOl2Z",spinnerContainer:"DVRSetupDownload-spinnerContainer-BLVOd3",spinner:"DVRSetupDownload-spinner-B1Gr0m Spinner-spinner-Q4B7Qw spin-spin-H8VRGl"};function jo({onModalClose:e,onSetStep:t}){var n,a;const[r,s]=(0,_e.Ss)(),{devices:{isPending:l}}=(0,C.d4)(ro.A),{epgDownloadActivityID:o}=(0,C.d4)(ro.A),c=(0,C.d4)(ho),d=(0,Lo.A)(s,No.Mm.Content),u=null==(n=null==d?void 0:d.directories)?void 0:n.find((e=>e.hubKey&&!e.key)),m=(null==(a=null==u?void 0:u.pivots)?void 0:a.find((e=>e.key===No.Sx.Guide)))&&(0,Ro.A)("hybridGuide",{machineIdentifier:r.machineIdentifier,providerIdentifier:s.identifier}),p=(0,i.useCallback)((()=>{t(kd.Device)}),[t]);return i.createElement(i.Fragment,null,i.createElement(sa.A,{innerClassName:Vo.innerModalBody},!l&&c.length>0?i.createElement("div",{className:Vo.additionalDevices},i.createElement("p",{className:Vo.accentText},(0,B.A)("Setup another device?")),c.map((e=>i.createElement(Uo,{key:e.key,device:e,onSetupPress:p})))):null,i.createElement("p",{className:Vo.text},(0,B.A)('You can now find your Guide and Channels in the sidebar under "Live TV". While we\'re grabbing the guide data, you can start browsing; it will update automatically as we download whats on.')),o?i.createElement("div",{className:Vo.spinnerContainer},i.createElement(St.A,{className:Vo.spinner}),i.createElement("p",null,(0,B.A)("Downloading EPG data"))):null),i.createElement(Sr.A,null,i.createElement(wr.A,null,i.createElement(Er.A,{onPress:e},(0,B.A)("Close")),i.createElement(Er.A,{isDisabled:!m,kind:Cr.A.Primary,to:m,onPress:e},(0,B.A)("View Guide")))))}const Bo={badge:"Badge-badge-JyhtjI",icon:"Badge-icon-_hYllR"};function Ho({className:e=Bo.badge,style:t,iconClassName:n=Bo.icon,iconComponent:a}){return i.createElement("div",{className:e,style:t},i.createElement(a,{className:n}))}var zo=n(24139);const _o={container:"DVRSetupInfoStep-container-mYfvUA",step:"DVRSetupInfoStep-step-XquoYR",done:"DVRSetupInfoStep-done-DANMsQ Badge-badge-JyhtjI DVRSetupInfoStep-step-XquoYR",active:"DVRSetupInfoStep-active-r1DAt7 Spinner-spinner-Q4B7Qw spin-spin-H8VRGl DVRSetupInfoStep-step-XquoYR",waiting:"DVRSetupInfoStep-waiting-cknWzv Badge-badge-JyhtjI DVRSetupInfoStep-step-XquoYR"};function Wo({activeStep:e,step:t,title:n}){const a=e===t,r=e>t,s=e<t;return i.createElement("div",{className:_o.container},r?i.createElement(Ho,{className:_o.done,iconComponent:zo.A}):null,a?i.createElement(St.A,{className:_o.active}):null,s?i.createElement("div",{className:_o.waiting}):null,n)}const Go={modalBody:"DVRSetupInfo-modalBody-SaQoLd ModalBody-modalScroller-W8q7m0 ModalBody-modalBody-_vZ7B0",innerModalBody:"DVRSetupInfo-innerModalBody-ZfrEhs ModalBody-innerModalBody-P8kk_7",container:"DVRSetupInfo-container-YEBg3B",spinner:"DVRSetupInfo-spinner-ofdDdR Spinner-spinner-Q4B7Qw spin-spin-H8VRGl",steps:"DVRSetupInfo-steps-DRahlB",buttonBar:"DVRSetupInfo-buttonBar-Yp409s ModalFooterButtonBar-buttonBar-xxZyHc"};function Ko({onSetStep:e}){const t=(0,C.wA)(),[n]=(0,_e.Ss)(),[a,r]=(0,i.useState)(1),s=(0,C.d4)(lo.A),{selectedDevice:l}=(0,C.d4)(ro.A),o=(0,i.useMemo)((()=>(0,wo.A)(null==l?void 0:l.key)),[l]),{channels:c,isPending:d,isPopulated:u}=(0,C.d4)(o),{postalCode:m,selectedCountry:p,selectedLanguage:h,selectedLineupGroups:g,selectedRegion:v,languages:{epgLanguages:f},channelMappings:{isPopulated:b}}=(0,C.d4)(Gl.A),y=g[0],A=(0,i.useCallback)((()=>{e(kd.Device)}),[e]);return(0,i.useEffect)((()=>{0===f.length&&t(Wl.Ay.actions.epgLanguagesFetchRequested({server:n}))}),[t,n,f,e]),(0,i.useEffect)((()=>{1===a&&(p&&h?r(2):f&&p&&!h&&t(Wl.Ay.actions.epgLanguageSelected({languageCode:p.language})))}),[t,f,a,p,h]),(0,i.useEffect)((()=>{2===a&&(u?r(3):!l||c&&d||t(ao.Ay.actions.deviceChannelsFetchRequested({server:n,deviceKey:l.key})))}),[c,t,d,u,a,l,n]),(0,i.useEffect)((()=>{3!==a||!p||s||y||t(Wl.Ay.actions.epgLineupGroupFetchRequested({server:n,country:p,region:v,postalCode:m}))}),[t,y,a,m,p,s,v,n]),(0,i.useEffect)((()=>{3!==a||!l||(null==y?void 0:y.activityUUID)||(null==y?void 0:y.isSelectedLineupPopulated)||(null==s?void 0:s.length)||t(Wl.Ay.actions.bestEPGLineupSearchRequested({server:n,device:l,lineupGroup:y}))}),[t,y,a,l,s,n]),(0,i.useEffect)((()=>{3===a&&(null==y?void 0:y.isSelectedLineupPopulated)&&e(kd.Mapping)}),[b,y,a,e,s]),i.createElement(i.Fragment,null,i.createElement(sa.A,{className:Go.modalBody,innerClassName:Go.innerModalBody},i.createElement("p",null,(0,B.A)("Setting up your tuner and channels...")),i.createElement("div",{className:Go.container},i.createElement(St.A,{className:Go.spinner}),i.createElement("div",{className:Go.steps},i.createElement(Wo,{activeStep:a,step:1,title:(0,B.A)("Gathering data")}),i.createElement(Wo,{activeStep:a,step:2,title:(0,B.A)("Scanning channels")}),i.createElement(Wo,{activeStep:a,step:3,title:(0,B.A)("Finding the best guide")})))),i.createElement(Sr.A,null,i.createElement(wr.A,{className:Go.buttonBar},i.createElement(Er.A,{onPress:A},(0,B.A)("Back")))))}var qo=n(94342),$o=n(11590);const Jo=function(e){return(0,it.Mz)((0,mo.A)(e),(e=>e.find((e=>e.type===$o.f.ProviderEpgLineupScan))))};var Qo=n(38906),Yo=n(5556),Xo=n.n(Yo),Zo=n(31182);function ec(e){const t=e["aria-label"],n=e.className,a=e.style,r={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-dvr-clock-hour-560"};r["aria-hidden"]=!t,r.style=a,r.className=Zo.A.plexIcon+(n?" "+n:"");const s=[i.createElement.apply(i,["path",{d:"m179.45 378h-106.62l29.821-29.12h51.725l25.07 29.12m-148.31-81.48l-6.069 75.88-25.07-29.12 3.167-39.48 18.737-18.2 9.236 10.92m69.934 7.28l-3.166 39.48-29.821 29.12 6.069-75.88 11.348-10.92 15.57 18.2m61.23-9.24h-58.59l-12.403-14.56 14.779-14.56h58.59l12.667 14.56-15.04 14.56m-155.18-38.36l3.167-39.48 29.821-29.12-6.07 75.88-11.347 11.2-15.571-18.48m159.93 0l3.167-39.48 29.821-29.12-6.07 75.88-11.348 11.2-15.57-18.48m-1.32-44.8h-51.724l-25.07-29.4h106.62l-29.821 29.4"}].concat([]))];return t&&s.unshift(i.createElement("title",null,t)),i.createElement.apply(i,["svg",r].concat(s))}ec.propTypes={"aria-label":Xo().string,className:Xo().string,style:Xo().object};const tc=ec;function nc(e){const t=e["aria-label"],n=e.className,a=e.style,r={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-dvr-clock-minutes-560"};r["aria-hidden"]=!t,r.style=a,r.className=Zo.A.plexIcon+(n?" "+n:"");const s=[i.createElement.apply(i,["path",{d:"m391.63 378h-106.62l29.821-29.12h51.725l25.07 29.12m147.79 0h-106.62l29.821-29.12h51.725l25.07 29.12m-226.16-74.2l-3.167 39.48-29.821 29.12 6.07-75.88 11.347-10.92 15.571 18.2m89.99-7.28l-6.07 75.88-25.07-29.12 3.167-39.48 18.737-18.2 9.236 10.92m57.795 7.28l-3.167 39.48-29.821 29.12 6.07-75.88 11.348-10.92 15.57 18.2m89.99-7.28l-6.069 75.88-25.07-29.12 3.167-39.48 18.737-18.2 9.236 10.92m-261.79-33.04l6.069-75.88 25.07 29.12-3.167 39.48-18.737 18.48-9.236-11.2m89.99-7.28l3.167-39.48 29.821-29.12-6.07 75.88-11.348 11.2-15.57-18.48m57.795 7.28l6.069-75.88 25.07 29.12-3.167 39.48-18.737 18.48-9.236-11.2m89.99-7.28l3.167-39.48 29.821-29.12-6.07 75.88-11.348 11.2-15.57-18.48m-149.1-44.8h-51.725l-25.07-29.4h106.62l-29.821 29.4m177.61-29.4l-29.821 29.4h-51.725l-25.07-29.4h106.62"}].concat([]))];return t&&s.unshift(i.createElement("title",null,t)),i.createElement.apply(i,["svg",r].concat(s))}nc.propTypes={"aria-label":Xo().string,className:Xo().string,style:Xo().object};const ac=nc;function rc(e){const t=e["aria-label"],n=e.className,a=e.style,r={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-dvr-clock-separator-560"};r["aria-hidden"]=!t,r.style=a,r.className=Zo.A.plexIcon+(n?" "+n:"");const s=[i.createElement.apply(i,["path",{d:"m218.51 378l2.375-29.12h27.71l-2.375 29.12h-27.71m11.08-134.12l2.376-29.12h27.709l-2.375 29.12h-27.71"}].concat([]))];return t&&s.unshift(i.createElement("title",null,t)),i.createElement.apply(i,["svg",r].concat(s))}rc.propTypes={"aria-label":Xo().string,className:Xo().string,style:Xo().object};const ic=rc,sc={message:"ChannelScanActivity-message-xw5A4q",iconContainer:"ChannelScanActivity-iconContainer-PVLsTA",icon:"ChannelScanActivity-icon-nj4DBR",clock:"ChannelScanActivity-clock-LnnqDR ChannelScanActivity-icon-nj4DBR",clockTime:"ChannelScanActivity-clockTime-pAPSnH ChannelScanActivity-clock-LnnqDR ChannelScanActivity-icon-nj4DBR",blink:"ChannelScanActivity-blink-pAdQpM"};function lc({className:e}){const t=(0,C.wA)(),[n]=(0,_e.Ss)(),{selectedDevice:a,hasScannedChannels:r,isCancellingChannelScan:s}=(0,C.d4)(ro.A),{selectedCountry:l}=(0,C.d4)(Gl.A),o=(0,i.useMemo)((()=>po(n)),[n]),c=(0,i.useMemo)((()=>(0,wo.A)(null==a?void 0:a.key)),[a]),d=(0,C.d4)(o),{channels:u,isPopulated:m}=(0,C.d4)(c),p=(0,i.useCallback)((()=>{a&&t(ao.Ay.actions.deviceChannelsScanRequested({server:n,deviceKey:a.key,source:a.source,country:null==l?void 0:l.code}))}),[t,n,a,l]),h=(0,i.useCallback)((()=>{a&&!s&&t(ao.Ay.actions.deviceChannelsCancelScanRequested({server:n,deviceKey:a.key}))}),[t,n,a,s]);return d?i.createElement("div",{className:e},i.createElement(Qo.A,{progress:null==d?void 0:d.progress,size:90}),i.createElement("div",{className:sc.message},(0,B.A)("Scanning channels")),i.createElement(Hl.A,{isDisabled:s,isSpinning:s,onPress:h},(0,B.A)("Stop scanning"))):m&&0===u.length?i.createElement("div",{className:e},i.createElement("div",{className:sc.iconContainer},r?i.createElement(Vl.A,{className:sc.icon}):i.createElement(i.Fragment,null,i.createElement(tc,{className:sc.clockTime}),i.createElement(ic,{className:sc.clock}),i.createElement(ac,{className:sc.clockTime}))),i.createElement("div",{className:sc.message},r?(0,B.A)("No channels found. Make sure your device has a signal from your antenna and try scanning again."):(0,B.A)("Awaiting channel scan")),i.createElement(Hl.A,{isDisabled:!!d,isSpinning:!!d,kind:Cr.A.Primary,onPress:p},(0,B.A)("Scan channels"))):null}var oc=n(87574),cc=n(39446);const dc={container:"ChannelScanPrefs-container-gcOP_b",titleContainer:"ChannelScanPrefs-titleContainer-KnNm7r",title:"ChannelScanPrefs-title-Bi1NBd"};var uc=Object.defineProperty,mc=Object.defineProperties,pc=Object.getOwnPropertyDescriptors,hc=Object.getOwnPropertySymbols,gc=Object.prototype.hasOwnProperty,vc=Object.prototype.propertyIsEnumerable,fc=(e,t,n)=>t in e?uc(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,bc=(e,t)=>{for(var n in t||(t={}))gc.call(t,n)&&fc(e,n,t[n]);if(hc)for(var n of hc(t))vc.call(t,n)&&fc(e,n,t[n]);return e},yc=(e,t)=>mc(e,pc(t));function Ac(){const e=(0,C.wA)(),[t]=(0,_e.Ss)(),{selectedDevice:n,scanPrefs:a,scanNetworks:r}=(0,C.d4)(ro.A),{selectedCountry:s}=(0,C.d4)(Gl.A),l=(0,i.useCallback)((r=>{const i=(null==a?void 0:a.length)?{prefs:r}:r;n&&e(ao.Ay.actions.deviceChannelsScanRequested(bc({server:t,deviceKey:n.key,source:n.source,country:null==s?void 0:s.code},i)))}),[e,t,n,s,a]),o=(null==a?void 0:a.length)?(0,B.A)("We need some more information before proceeding with the channel scan."):(0,B.A)("Please select a network before proceeding with the channel scan."),c=(null==a?void 0:a.length)?void 0:r.reduce(((e,t)=>(e.push({[t.key]:t.title}),e)),[{"":(0,B.A)("Select Network")}]);return i.createElement("div",{className:dc.container},i.createElement(or.Ay,{onSubmit:l},i.createElement("div",{className:dc.titleContainer},i.createElement("div",{className:dc.title},o),i.createElement(Er.A,{className:dc.scanButton,kind:Cr.A.Primary,type:"submit"},(0,B.A)("Scan Channels"))),null==a?void 0:a.map((e=>{const{id:t,value:n,enumValues:a,label:r}=e,s=Array.isArray(a)?[{label:(0,B.A)("Select {label}",{label:r}),value:""},...a]:void 0;return i.createElement(cc.A,yc(bc({key:t},e),{enumValues:s,value:null==n?"":n}))})),c?i.createElement(oc.A,{initialValue:"",labelText:(0,B.A)("Network"),name:"network",values:c}):null))}var Ec=n(60180),Sc=n(62865),wc=n(84230),Cc=n(85243),Pc=n(72739);function Dc(e){return e.title?`${e.identifier} ${e.title} (${e.callSign})`:`${e.identifier} ${e.callSign}`}var xc=n(28031);const kc=(0,it.Mz)(so,lo.A,((e,t)=>{var n;return null!=(n=null!=t?t:e)?n:[]})),Oc=(0,xc.A)(kc,(e=>e)),Ic=(0,it.Mz)(Gl.A,Oc,(({lineupChannels:e},t)=>t.reduce(((t,n)=>{var a;const r=null!=(a=e.channelsByLineupUUID[n.uuid])?a:[];return t[n.title]=r.map((e=>({value:`${e.key}:${e.identifier}`,label:Dc(e)}))),t}),{})));var Tc=Object.defineProperty,Mc=Object.defineProperties,Nc=Object.getOwnPropertyDescriptors,Lc=Object.getOwnPropertySymbols,Rc=Object.prototype.hasOwnProperty,Fc=Object.prototype.propertyIsEnumerable,Uc=(e,t,n)=>t in e?Tc(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const Vc=(0,it.Mz)(Gl.A,Oc,(({lineupChannels:e},t)=>t.reduce(((t,n)=>{var a;const r=null!=(a=e.channelsByLineupUUID[n.uuid])?a:[];return t.concat(r.map((e=>{return t=((e,t)=>{for(var n in t||(t={}))Rc.call(t,n)&&Uc(e,n,t[n]);if(Lc)for(var n of Lc(t))Fc.call(t,n)&&Uc(e,n,t[n]);return e})({},e),a={lineupUUID:n.uuid},Mc(t,Nc(a));var t,a})))}),[]))),jc=Vc;function Bc({className:e,index:t,selectedChannelKey:n,selectedLineupIdentifier:a,onChange:r,isDisabled:s}){const l=(0,C.d4)(jc),o=(0,C.d4)(Ic),[c,d]=(0,i.useState)(!1),u=(0,i.useMemo)((()=>null==l?void 0:l.find((e=>e.key===n&&e.identifier===a))),[l,n,a]),m=(0,i.useCallback)((()=>{d(!0)}),[d]),p=(0,i.useCallback)((e=>{const[n,a]=e.target.value.split(":");l.find((e=>e.key===n&&e.identifier===a))&&r(n,a,t)}),[t,l,r]),h=`${n}:${a}`;return i.createElement(_l.A,{className:e,isDisabled:s,name:`[${t}].channelKey`,value:h,onChange:p,onMouseDown:m,onTouchStart:m},i.createElement("option",{key:"",value:""},(0,B.A)("Select Channel")),c?Object.keys(o).map(((e,t)=>i.createElement("optgroup",{key:t,label:e},o[e].map((({value:e,label:t},n)=>i.createElement("option",{key:n,value:e},t)))))):i.createElement("option",{key:"computed",value:h},u?Dc(u):null))}function Hc({className:e,quality:t}){if(void 0===t)return null;const n=(a=t)<=25?"data:image/svg+xml,%3csvg width='18' height='16' fill='none' xmlns='http://www.w3.org/2000/svg'%3e%3crect x='15' width='3' height='16' rx='1' fill='%23444F56'/%3e%3crect x='10' y='3' width='3' height='13' rx='1' fill='%23444F56'/%3e%3crect x='5' y='7' width='3' height='9' rx='1' fill='%23444F56'/%3e%3crect y='10' width='3' height='6' rx='1' fill='%23E75B61'/%3e%3c/svg%3e":a<=50?"data:image/svg+xml,%3csvg width='18' height='16' fill='none' xmlns='http://www.w3.org/2000/svg'%3e%3crect x='15' width='3' height='16' rx='1' fill='%23444F56'/%3e%3crect x='10' y='3' width='3' height='13' rx='1' fill='%23444F56'/%3e%3crect x='5' y='7' width='3' height='9' rx='1' fill='%23E5A00D'/%3e%3crect y='10' width='3' height='6' rx='1' fill='%23E5A00D'/%3e%3c/svg%3e":a<=75?"data:image/svg+xml,%3csvg width='18' height='16' fill='none' xmlns='http://www.w3.org/2000/svg'%3e%3crect x='15' width='3' height='16' rx='1' fill='%23444F56'/%3e%3crect x='10' y='3' width='3' height='13' rx='1' fill='%23E5A00D'/%3e%3crect x='5' y='7' width='3' height='9' rx='1' fill='%23E5A00D'/%3e%3crect y='10' width='3' height='6' rx='1' fill='%23E5A00D'/%3e%3c/svg%3e":"data:image/svg+xml,%3csvg width='18' height='16' fill='none' xmlns='http://www.w3.org/2000/svg'%3e%3crect x='15' width='3' height='16' rx='1' fill='%2375AE94'/%3e%3crect x='10' y='3' width='3' height='13' rx='1' fill='%2375AE94'/%3e%3crect x='5' y='7' width='3' height='9' rx='1' fill='%2375AE94'/%3e%3crect y='10' width='3' height='6' rx='1' fill='%2375AE94'/%3e%3c/svg%3e";var a;return i.createElement("img",{className:e,height:16,src:String(n),width:18})}var zc=Object.getOwnPropertySymbols,_c=Object.prototype.hasOwnProperty,Wc=Object.prototype.propertyIsEnumerable;const Gc=(0,i.memo)((function(e){var t=e,{item:n,enabled:a,channelKey:r,lineupIdentifier:s,onEnabledChange:l,onChannelKeyChange:o}=t,c=((e,t)=>{var n={};for(var a in e)_c.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&zc)for(var a of zc(e))t.indexOf(a)<0&&Wc.call(e,a)&&(n[a]=e[a]);return n})(t,["item","enabled","channelKey","lineupIdentifier","onEnabledChange","onChannelKeyChange"]);const d=(0,Ki.A)(c),u=c.row,{name:m,deviceIdentifier:p,signalStrength:h,signalQuality:g,drm:v,isDeviceChannelHD:f,isLineupChannelHD:b}=n||{},y=(0,i.useCallback)((e=>{l(e.currentTarget.checked,u)}),[u,l]);return n?i.createElement("div",{ref:d.cellRef,className:"DeviceChannelMapping-container-LE8eLw",style:d.style},i.createElement("label",{className:"DeviceChannelMapping-deviceChannel-BpnLRf"},i.createElement("div",{className:"DeviceChannelMapping-channelEnabled-oVyyV6"},v?null:i.createElement(Pc.A,{checked:a,className:"DeviceChannelMapping-channelEnabledCheckbox-oVyiuQ Checkbox-input-L3AVrU",name:`[${c.row}].enabled`,onChange:y})),i.createElement("div",{className:ma()("DeviceChannelMapping-deviceChannelInfo-OmGNE7",!a&&"DeviceChannelMapping-mappingDisabled-wMAsvr")},i.createElement("div",{className:"DeviceChannelMapping-deviceChannelIdentifier-vOMtgu"},p),i.createElement("div",{className:"DeviceChannelMapping-deviceChannelName-fEWOct"},m)),i.createElement(Hc,{className:"DeviceChannelMapping-signalQuality-f33hS5",quality:g||h})),v?i.createElement("div",{className:"DeviceChannelMapping-drmChannel-RPs9l1"},i.createElement(Cc.A,{className:"DeviceChannelMapping-drmChannelBadge-fTH9kW"},(0,B.A)("Protected"))):i.createElement("div",{className:"DeviceChannelMapping-lineupChannel-j24XMD"},i.createElement(Bc,{className:"DeviceChannelMapping-lineupChannelSelect-k8M7ED Select-input-HK74_E",index:u,isDisabled:!a,selectedChannelKey:r,selectedLineupIdentifier:s,onChange:o}),f||b?i.createElement(Cc.A,{className:"DeviceChannelMapping-hdBadge-lAHzf3"},(0,B.A)("HD")):null)):null})),Kc={container:"DeviceChannelMappingsHeader-container-_P9YfP",checkbox:"DeviceChannelMappingsHeader-checkbox-E4z8HK Checkbox-input-L3AVrU",titleContainer:"DeviceChannelMappingsHeader-titleContainer-FLt_Ba",title:"DeviceChannelMappingsHeader-title-FJyeTz",count:"DeviceChannelMappingsHeader-count-iiOH2N",rescanButton:"DeviceChannelMappingsHeader-rescanButton-GA7XTi Link-link-vSsQW1",device:"DeviceChannelMappingsHeader-device-H_cXWF",lineup:"DeviceChannelMappingsHeader-lineup-s6MKAx"};function qc({allChannelMappingsEnabled:e,allChannelMappingsDisabled:t,onAllChannelMappingsEnabledChange:n}){const a=(0,C.wA)(),[r]=(0,_e.Ss)(),{selectedDevice:s,selectedDVR:l}=(0,C.d4)(ro.A),o=(0,i.useMemo)((()=>(0,wo.A)(null==s?void 0:s.key)),[s]),c=(0,C.d4)(jc),{channels:d}=(0,C.d4)(o),u=(0,i.useCallback)((n=>{n&&(n.indeterminate=!e&&!t)}),[e,t]),m=(0,i.useCallback)((()=>{var e;s&&a(ao.Ay.actions.deviceChannelsScanRequested({server:r,deviceKey:s.key,source:s.source,country:null==(e=null==l?void 0:l.dvr)?void 0:e.country}))}),[a,r,s,l]);return i.createElement("div",{className:Kc.container},i.createElement("div",{className:Kc.device},i.createElement(Pc.A,{ref:u,checked:e,className:Kc.checkbox,name:"toggleAll",onChange:n}),i.createElement("div",{className:Kc.titleContainer},i.createElement("div",{className:Kc.title},(0,B.A)("Tuner Channels")),i.createElement("div",{className:Kc.count},(0,B.A)("({count} Channels)",{count:d.length})),i.createElement(ka.A,{className:Kc.rescanButton,kind:Cr.A.Primary,onPress:m},(0,B.A)("Rescan")))),i.createElement("div",{className:Kc.lineup},i.createElement("div",{className:Kc.titleContainer},i.createElement("div",{className:Kc.title},(0,B.A)("EPG Channels")),i.createElement("div",{className:Kc.count},(0,B.A)("({count} Channels)",{count:c.length})))))}const $c={container:"DeviceChannelMappingsForm-container-ZQvCik",scroller:"DeviceChannelMappingsForm-scroller-mVTtzO VirtualListScroller-scroller-QR8ROA Scroller-scroller-S6_dko"};var Jc=Object.defineProperty,Qc=Object.defineProperties,Yc=Object.getOwnPropertyDescriptors,Xc=Object.getOwnPropertySymbols,Zc=Object.prototype.hasOwnProperty,ed=Object.prototype.propertyIsEnumerable,td=(e,t,n)=>t in e?Jc(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,nd=(e,t)=>{for(var n in t||(t={}))Zc.call(t,n)&&td(e,n,t[n]);if(Xc)for(var n of Xc(t))ed.call(t,n)&&td(e,n,t[n]);return e},ad=(e,t)=>Qc(e,Yc(t));const rd=(0,Sc.A)({rowHeight:parseInt(wc.A.dvrSetupChannelMappingItemHeight,10),overscan:1});function id({id:e,height:t,scrollTop:n,scrollLeft:a,channelMappings:r,onChannelMappingChange:s,onSubmit:l}){const[o,c]=(0,i.useState)(!1),[d,u]=(0,i.useState)(!1),[m,{width:p}]=(0,Xn.A)(),h=(0,js.mN)({defaultValues:r}),{handleSubmit:g,register:v,setValue:f,watch:b}=h,y=b();(0,i.useEffect)((()=>{let e=!0,t=!0;Object.values(y).forEach((({drm:n,enabled:a})=>{a?e=!1:n||(t=!1)})),u(e),c(t)}),[y,u,c]),(0,i.useEffect)((()=>{r.forEach(((e,t)=>{v(`[${t}].enabled`),v(`[${t}].channelKey`),v(`[${t}].key`),v(`[${t}].lineupIdentifier`),v(`[${t}].drm`)}))}),[r,v]);const A=(0,i.useCallback)((e=>{r.forEach(((t,n)=>{const a=e.currentTarget.checked;t.drm||(f(`[${n}]`,{enabled:a}),null==s||s({index:n,enabled:a}))}))}),[r,f,s]),E=(0,i.useCallback)(((e,t)=>{f(`[${t}]`,{enabled:e}),null==s||s({index:t,enabled:e})}),[f,s]),S=(0,i.useCallback)(((e,t,n)=>{f(`[${n}]`,{channelKey:e,lineupIdentifier:t}),null==s||s({index:n,channelKey:e,lineupIdentifier:t})}),[f,s]),w=g((e=>{const t=Object.values(e).map((({key:e,lineupIdentifier:t,channelKey:n,enabled:a})=>({key:e,lineupIdentifier:t,channelKey:n,enabled:a})));l(t)})),C=(0,i.useMemo)((()=>e=>{if(!e.item)return i.createElement(i.Fragment,null);const t=b(`[${e.row}].enabled`),n=b(`[${e.row}].channelKey`),a=b(`[${e.row}].lineupIdentifier`);return i.createElement(Gc,ad(nd({},e),{channelKey:n,enabled:t,lineupIdentifier:a,onChannelKeyChange:S,onEnabledChange:E}))}),[b,E,S]);return i.createElement(js.Op,nd({},h),i.createElement("form",{ref:m,className:$c.container,id:e,onSubmit:w},i.createElement(qc,{allChannelMappingsDisabled:d,allChannelMappingsEnabled:o,onAllChannelMappingsEnabledChange:A}),i.createElement(Ec.A,{cellComponentFactory:C,className:$c.scroller,items:r,layout:rd,scrollLeft:a,scrollTop:n,totalSize:r.length,viewportHeight:t,viewportWidth:p})))}const sd=(0,Ls.A)((function(e){return(0,it.Mz)((0,wo.A)(e),Gl.A,jc,function(e){return(0,it.Mz)(ro.A,(({selectedDVR:t})=>{var n,a;const{dvr:r}=t;if(null==(n=null==r?void 0:r.Device)?void 0:n.length)return null==(a=r.Device)?void 0:a.find((t=>t.key===e))}))}(e),((e,t,n,a)=>{const r=(null==a?void 0:a.ChannelMapping)?a.ChannelMapping:t.channelMappings.mappings;if(!(null==e?void 0:e.isPopulated)||0===r.length)return[];const i=e.channels.map((e=>e.key)),s=r.map((e=>e.deviceIdentifier)),l=i.concat(s),o=Array.from(new Set(l)).map((t=>{var a;const i=e.channels.find((e=>e.key===t)),s=r.find((e=>e.deviceIdentifier===t)),l=n.find((e=>(null==e?void 0:e.key)===(null==s?void 0:s.channelKey)||(null==e?void 0:e.identifier)===(null==s?void 0:s.lineupIdentifier))),{name:o="",identifier:c="",drm:d=!1,signalStrength:u,signalQuality:m,hd:p=!1}=i||{},h=!(!i||d||!(null==s?void 0:s.enabled));return{key:t,name:o,deviceIdentifier:c,channelKey:(null==s?void 0:s.channelKey)||(null==l?void 0:l.key),lineupIdentifier:(null==s?void 0:s.lineupIdentifier)||(null==l?void 0:l.identifier),signalStrength:u,signalQuality:m,enabled:h,drm:d,isChannelMissing:!i,isDeviceChannelHD:p,isLineupChannelHD:null!=(a=null==l?void 0:l.hd)&&a}}));return o.sort(((e,t)=>function(e,t){if(e===t)return 0;const n=e.split("."),a=t.split("."),r=Math.max(n.length,a.length);for(let e=0;e<r;e++){if(!a[e])return 1;if(!n[e])return-1;const t=parseInt(n[e],10),r=parseInt(a[e],10);if(t>r)return 1;if(t<r)return-1}return 0}(e.deviceIdentifier,t.deviceIdentifier)))}))}));function ld(e,t,n){const a=null==n?void 0:n.reduce(((e,{uuid:t})=>(e[t]=0,e)),{});return e.reduce(((e,{enabled:n,channelKey:a})=>{if(n&&a){const n=t.find((({key:e})=>e===a));(null==n?void 0:n.lineupUUID)&&e[n.lineupUUID]++}return e}),null!=a?a:{})}function od({lineupGroup:e,isDisabled:t}){const n=(0,C.wA)(),{epgLineups:a,selectedLineup:r,uuid:s}=e,l=(0,i.useMemo)((()=>a.map((e=>({value:e.uuid,label:e.title})))),[a]),o=(0,i.useCallback)((e=>{const t=e.currentTarget.value;t&&n(Wl.Ay.actions.selectedLineupSelected({lineupGroupUUID:s,selectedLineupUUID:t}))}),[n,s]);return i.createElement(_l.A,{className:"EPGLineupSelect-input-QJcY2o Select-input-HK74_E",isDisabled:t||1===l.length,name:s,value:null==r?void 0:r.uuid,onChange:o},i.createElement("option",{value:""},(0,B.A)("Select Guide")),l.map((({value:e,label:t},n)=>i.createElement("option",{key:n,value:e},t))))}function cd({lineupGroupUUID:e,isDisabled:t,onDeletePress:n}){const a=(0,i.useCallback)((()=>{n(e)}),[e,n]);return i.createElement(Bi.A,{ariaLabel:(0,B.A)("Delete Guide"),className:"EPGLineups-deleteButton-OnWemU IconButton-iconButton-ebkqws Link-link-vSsQW1",iconComponent:bs.A,isDisabled:t,kind:Cr.A.Danger,onPress:a})}const dd=i.forwardRef((({onSetStep:e},t)=>{const n=(0,C.wA)(),[a]=(0,_e.Ss)(),{selectedLineupGroups:r,channelMappings:{isPending:s}}=(0,C.d4)(Gl.A),{hasScannedChannels:l,selectedDevice:o}=(0,C.d4)(ro.A),c=(0,C.d4)(jc),d=(0,C.d4)(lo.A),u=(0,i.useMemo)((()=>sd(null==o?void 0:o.key)),[o]),m=(0,i.useMemo)((()=>po(a)),[a]),p=(0,i.useMemo)((()=>Jo(a)),[a]),h=(0,i.useMemo)((()=>(0,wo.A)(null==o?void 0:o.key)),[o]),g=(0,C.d4)(p),v=(0,C.d4)(m),{isPending:f}=(0,C.d4)(h),b=(0,C.d4)(u),y=(0,i.useMemo)((()=>ld(b,c,d)),[b,c,d]),A=(0,i.useCallback)((()=>{const t=null==d?void 0:d.find((({uuid:e})=>e.includes(F.sf)));e(t?kd.XMLTV:kd.AddLineup)}),[d,e]),E=(0,i.useCallback)((e=>{n(Wl.Ay.actions.selectedEPGLineupGroupRemoved({lineupGroupUUID:e}))}),[n]);return(0,i.useEffect)((()=>{const e=r[0];l&&o&&(null==d?void 0:d.length)&&!(null==e?void 0:e.activityUUID)&&!(null==e?void 0:e.isSelectedLineupPopulated)&&n(Wl.Ay.actions.bestEPGLineupSearchRequested({server:a,device:o,lineupGroup:e}))}),[n,o,d,r,l,a]),g?null:i.createElement("div",{ref:t,className:"EPGLineups-container-PoYPvk"},i.createElement("div",{className:"EPGLineups-label-KUai0U"},(0,B.A)("EPG Location")),i.createElement("div",{className:"EPGLineups-lineups-Vn15M1"},r.map(((e,t)=>{const{selectedLineup:n,uuid:a}=e;return i.createElement("div",{key:t,className:"EPGLineups-lineup-J7QBz5"},i.createElement("div",{className:"EPGLineups-lineupSelect-tCN7rz"},i.createElement(od,{isDisabled:!!v,lineupGroup:e}),r.length>1?i.createElement(cd,{isDisabled:!!v,lineupGroupUUID:a,onDeletePress:E}):null),!n||s||f||v?null:(0,B.A)("{count} channels matched",{count:y[n.uuid]}))})),i.createElement(ka.A,{className:"EPGLineups-addLineup-VZxKBB Link-link-vSsQW1",isDisabled:!!v,onPress:A},i.createElement("span",{className:"EPGLineups-addLineupCircle-y85NBa"},"+"),(0,B.A)("Add channels from another lineup/location"))))})),ud={container:"DVRSetupMapping-container-SOVrXK",modalBody:"DVRSetupMapping-modalBody-K4XluX ModalBody-modalBody-_vZ7B0",innerModalBody:"DVRSetupMapping-innerModalBody-ujJCEb",scroller:"DVRSetupMapping-scroller-V0TULP VirtualListScroller-scroller-QR8ROA Scroller-scroller-S6_dko",buttonBar:"DVRSetupMapping-buttonBar-KNTt7j ModalFooterButtonBar-buttonBar-xxZyHc"};var md=Object.defineProperty,pd=Object.getOwnPropertySymbols,hd=Object.prototype.hasOwnProperty,gd=Object.prototype.propertyIsEnumerable,vd=(e,t,n)=>t in e?md(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,fd=(e,t)=>{for(var n in t||(t={}))hd.call(t,n)&&vd(e,n,t[n]);if(pd)for(var n of pd(t))gd.call(t,n)&&vd(e,n,t[n]);return e},bd=(e,t)=>{var n={};for(var a in e)hd.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&pd)for(var a of pd(e))t.indexOf(a)<0&&gd.call(e,a)&&(n[a]=e[a]);return n};const yd="channel-mappings-form",Ad=parseInt(wc.A.dvrSetupChannelMappingItemHeight,10);function Ed({dvrID:e,onSetStep:t}){const n=(0,C.wA)(),[a]=(0,_e.Ss)(),[r,{height:s}]=(0,Xn.A)(),[l,{height:o}]=(0,Xn.A)(),{selectedDevice:c,selectedDVR:{error:d},scanPrefs:u,scanNetworks:m,hasScannedChannels:p,isSavingDVR:h}=(0,C.d4)(ro.A),{channelMappings:{isPending:g}}=(0,C.d4)(Gl.A),v=(0,i.useMemo)((()=>po(a)),[a]),f=(0,i.useMemo)((()=>Jo(a)),[a]),b=(0,i.useMemo)((()=>(0,wo.A)(null==c?void 0:c.key)),[c]),y=(0,i.useMemo)((()=>sd(null==c?void 0:c.key)),[c]),A=(0,C.d4)(v),E=(0,C.d4)(f),{channels:S,isPending:w}=(0,C.d4)(b),P=(0,C.d4)(lo.A),D=(0,C.d4)(y),x=(0,Zl.A)(h),k=(0,Zl.A)(P),[O,I]=(0,i.useState)({scrollTop:0,scrollLeft:0});(0,i.useEffect)((()=>{!x||h||d||t(kd.Download)}),[x,h,d,t]),(0,i.useEffect)((()=>{c&&p&&(0,j.Cc)((()=>{n(ao.Ay.actions.deviceChannelsFetchRequested({server:a,deviceKey:c.key}))}))}),[n,a,c,p]),(0,i.useEffect)((()=>{!(c&&P&&(null==P?void 0:P.length))||k&&(0,qo.A)(k,P)||n(Wl.Ay.actions.channelMappingsFetchRequested({server:a,device:c,lineups:P}))}),[n,c,P,k,a]);const T=(0,i.useCallback)((e=>{var t=e,{index:a}=t,r=bd(t,["index"]);n(Wl.Ay.actions.channelMappingChanged(fd({index:a},r)))}),[n]),M=(0,i.useCallback)((()=>{t(kd.Device)}),[t]),N=(0,i.useCallback)((t=>{c&&(0,j.Cc)((()=>{n(e?ao.Ay.actions.addDVRDeviceRequested({server:a,dvrID:e,deviceKey:c.key,channelMappings:t}):ao.Ay.actions.dvrSaveRequested({server:a,device:c,channelMappings:t}))}))}),[n,c,e,a]),L=(0,i.useCallback)((e=>{I(e)}),[]);return i.createElement(i.Fragment,null,i.createElement(sa.A,{ref:l,className:ud.modalBody,innerClassName:ud.innerModalBody,onScrollPositionChange:L},!A&&!E&&!g&&S.length>0?i.createElement(dd,{ref:r,onSetStep:t}):null,!A&&!E&&!w&&!g&&D.length>0&&S.length>0&&P&&P.length>0?i.createElement(id,{channelMappings:D,height:o,id:yd,scrollLeft:O.scrollLeft,scrollTop:O.scrollTop-s-2*Ad,onChannelMappingChange:T,onSubmit:N}):null,A||E||w||g||!(S.length>0)||(null==P?void 0:P.length)?null:i.createElement("div",{className:ud.container},(0,B.A)("Please select a guide to begin mapping your device channels.")),!A&&(E||w||g)?i.createElement("div",{className:ud.container},i.createElement(St.A,null)):null,A||!u.length&&!m.length?null:i.createElement(Ac,null),(null==u?void 0:u.length)||(null==m?void 0:m.length)||E||w||g?null:i.createElement(lc,{className:ud.container})),i.createElement(Sr.A,null,i.createElement(wr.A,{className:ud.buttonBar},i.createElement(Er.A,{onPress:M},(0,B.A)("Back")),i.createElement(Hl.A,{form:yd,isDisabled:!!A||g||0===D.length,isSpinning:h,kind:Cr.A.Primary,type:"submit"},(0,B.A)("Continue")))))}var Sd=n(96087),wd=n(83456);function Cd(){var e;const t=(0,C.wA)(),{selectedCountry:n,selectedLanguage:a,languages:{epgLanguages:r,isPending:s,isPopulated:l,error:o}}=(0,C.d4)(Gl.A),c=null!=(e=null==a?void 0:a.code)?e:"",d=(0,i.useMemo)((()=>r.map((e=>({value:e.code,label:e.title})))),[r]),u=(0,i.useCallback)((e=>{t(Wl.Ay.actions.epgLanguageSelected({languageCode:e.currentTarget.value}))}),[t]);return(0,i.useEffect)((()=>{l&&n&&!a&&t(Wl.Ay.actions.epgLanguageSelected({languageCode:n.language}))}),[t,l,n,a]),i.createElement(i.Fragment,null,i.createElement(zl.A,null,(0,B.A)("Language")),s?(0,B.A)("Loading languages..."):null,o?(0,B.A)("We couldn't fetch languages at this moment."):null,l?i.createElement(_l.A,{name:"languageSelect",value:c,onChange:u},i.createElement("option",{value:""},(0,B.A)("Select Language")),d.map((({value:e,label:t},n)=>i.createElement("option",{key:n,value:e},t)))):null)}const Pd={innerModalBody:"DVRSetupUseXMLTV-innerModalBody-hK2QxH ModalBody-innerModalBody-P8kk_7",form:"DVRSetupUseXMLTV-form-t_ybTZ",title:"DVRSetupUseXMLTV-title-rcVzj8",buttonBar:"DVRSetupUseXMLTV-buttonBar-tCxYPd ModalFooterButtonBar-buttonBar-xxZyHc"};function Dd({onSetStep:e}){const t=(0,C.wA)(),[n]=(0,_e.Ss)(),{selectedDevice:a}=(0,C.d4)(ro.A),{selectedLineupGroups:r,languages:{isPopulated:s},channelMappings:{isPending:l,error:o},selectedLanguage:c}=(0,C.d4)(Gl.A),d=(0,C.d4)(lo.A),u=(0,C.d4)(so),[m,p]=(0,i.useState)(!1),h=!(null==u?void 0:u.length)&&!(null==d?void 0:d.length),g=!u||(null==u?void 0:u.find((({uuid:e})=>e.includes(F.sf)))),v=!!c,f=r.every((e=>e.isChannelMappingsFetched)),{register:b,errors:y,handleSubmit:A}=(0,js.mN)({defaultValues:{programGuideTitle:(0,B.A)("My Guide")}}),E=(0,i.useCallback)((()=>{e(r.length>0?kd.Mapping:kd.Device)}),[r.length,e]),S=A((({xmltvPath:e,programGuideTitle:n})=>{t(ao.Ay.actions.setupErrorMessageRemoved()),t(Wl.Ay.actions.xmltvSelectedEPGLineupGroupAdded({path:e,title:n}))})),w=(0,i.useCallback)((()=>{e(kd.AddLineup)}),[e]);(0,i.useEffect)((()=>{p(l)}),[l,p]),(0,i.useEffect)((()=>{if(m&&o&&r.length>0){const e=r[r.length-1];(0,j.Cc)((()=>{t(Wl.Ay.actions.selectedEPGLineupGroupRemoved({lineupGroupUUID:e.uuid}))}))}}),[t,o,r,m,p]),(0,i.useEffect)((()=>{a&&d&&!m&&!f&&t(Wl.Ay.actions.channelMappingsFetchRequested({server:n,device:a,lineups:d}))}),[t,a,d,m,f,n]),(0,i.useEffect)((()=>{s||t(Wl.Ay.actions.epgLanguagesFetchRequested({server:n}))}),[t,n,s]),(0,i.useEffect)((()=>{l||o||!m||e(kd.Mapping)}),[o,l,m,e]),(0,i.useEffect)((()=>{a||e(kd.Device)}),[a,e]);const P=n.platform===wd.D.Windows?"C:\\path\\to\\your\\xmltv_file.xml":"/path/to/your/xmltv_file.xml";return i.createElement(i.Fragment,null,i.createElement(sa.A,{innerClassName:Pd.innerModalBody},g?i.createElement("div",{className:Pd.form},i.createElement("p",{className:Pd.title},(0,B.A)("Use an XMLTV guide")),i.createElement("p",null,h?(0,B.A)("If you are located somewhere that isn't covered by Plex DVR guide data, you can specify a location to an XMLTV service to provide your guide data."):(0,B.A)("Please specify a location to an XMLTV service to provide your guide data.")),i.createElement(Sd.A,null,i.createElement(Cd,null)),i.createElement(Sd.A,null,i.createElement(zl.A,{name:"xmltvPath"},(0,B.A)("XMLTV Guide")),i.createElement(Yl.A,{ref:b({required:!0}),hasError:!!y.xmltvPath,name:"xmltvPath",placeholder:P})),i.createElement(Sd.A,null,i.createElement(zl.A,{name:"programGuideTitle"},(0,B.A)("Guide Title")),i.createElement(Yl.A,{ref:b({required:!0}),hasError:!!y.programGuideTitle,name:"programGuideTitle"}))):i.createElement("div",{className:Pd.form},i.createElement("p",{className:Pd.title},(0,B.A)("Unsupported location")),i.createElement("p",null,(0,B.A)("This location isn't covered by Plex DVR guide data. Because you already set up a tuner using Plex DVR guide data, we are unable to offer the option to use a XMLTV guide. Please select a different location."))),h?i.createElement(ka.A,{kind:Cr.A.Primary,onPress:w},(0,B.A)("Don't use XMLTV? Click here to select your location instead.")):null),i.createElement(Sr.A,null,i.createElement(wr.A,{className:Pd.buttonBar},i.createElement(Er.A,{onPress:E},(0,B.A)("Back")),i.createElement(Hl.A,{isDisabled:!g||!v,isSpinning:l,kind:Cr.A.Primary,onPress:S},(0,B.A)("Continue")))))}const xd="DVRSetupModal-modal-m6ZCfB Modal-medium-tDj6qd Modal-modal-SlW5fl";var kd=(e=>(e.Device="device",e.XMLTV="xmltv",e.Info="info",e.Mapping="mapping",e.Download="download",e.AddLineup="addLineup",e))(kd||{});function Od({machineIdentifier:e,providerIdentifier:t,dvrID:n,metricsContext:a,isOpen:r,onModalClose:s}){var o;const[d,u]=(0,i.useState)("device"),m=(0,C.wA)(),p=(0,Ul.A)(r),{selectedDVR:{dvr:h},setupErrorMessage:g}=(0,C.d4)(ro.A),v=(0,i.useCallback)((e=>{m(ao.Ay.actions.setupErrorMessageRemoved()),u(e)}),[m,u]),f=(0,i.useCallback)((()=>{m(ao.Ay.actions.setupReset()),s()}),[m,s]);(0,i.useEffect)((()=>{p&&!r&&u("device")}),[u,r,p]);const b=function(e){switch(e){case"device":return Mo;case"xmltv":return Dd;case"info":return Ko;case"mapping":return Ed;case"download":return jo;case"addLineup":return co;default:throw new Error("Unmatched DVR setup modal step: "+e)}}(d);return i.createElement(c.Ay,{metricsPage:l.dY,name:a},i.createElement(_e.Ay,{machineIdentifier:e,providerIdentifier:null!=(o=null==h?void 0:h.epgIdentifier)?o:t},i.createElement(ia.A,{className:xd,isOpen:r,shouldTrackOnClose:!0,onModalClose:f},i.createElement(la.A,{onModalClose:f},i.createElement(oa.A,null,"download"===d?(0,B.A)("Setup complete"):(0,B.A)("Tuner Setup")),g?i.createElement(Bl,{errorMessage:g}):null,i.createElement(b,{dvrID:n,onModalClose:f,onSetStep:v})))))}const Id=e=>e.ui.dvrSettingsUI;var Td=n(70416);const Md=(0,it.Mz)(Td.A,(e=>{var t,n;return null!=(n=null==(t=e.dvrSetup.selectedDVR.dvr)?void 0:t.Device)?n:[]}));var Nd=n(57628);const Ld=(0,it.Mz)(Nd.A,Md,((e,t)=>{const n=t.reduce(((e,t)=>(t.ChannelMapping&&e.push(...t.ChannelMapping),e)),[]);return e.filter((e=>n.find((t=>t.enabled&&t.lineupIdentifier===e.vcn))))})),Rd=Ld;var Fd=n(46118),Ud=n(61641),Vd=n(86156);var jd=Object.getOwnPropertySymbols,Bd=Object.prototype.hasOwnProperty,Hd=Object.prototype.propertyIsEnumerable;const zd=parseInt(wc.A.liveTVSettingsChannelThumbWidth,10),_d=parseInt(wc.A.liveTVSettingsChannelThumbHeight,10),Wd=[qi.A.liveTVSettingsTuner1Color,qi.A.liveTVSettingsTuner2Color,qi.A.liveTVSettingsTuner3Color,qi.A.liveTVSettingsTuner4Color,qi.A.liveTVSettingsTuner5Color],Gd=(0,i.memo)((function(e){var t=e,{item:n}=t,a=((e,t)=>{var n={};for(var a in e)Bd.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&jd)for(var a of jd(e))t.indexOf(a)<0&&Hd.call(e,a)&&(n[a]=e[a]);return n})(t,["item"]);const[r,s]=(0,_e.Ss)(),l=(0,Ki.A)(a),o=(0,i.useMemo)((()=>function(e){return(0,it.Mz)(Md,(t=>e?t.reduce(((t,n,a)=>{const{ChannelMapping:r}=n;return(null==r?void 0:r.find((t=>t.enabled&&t.lineupIdentifier===e)))&&t.push(a),t}),[]):[]))}(null==n?void 0:n.vcn)),[n]),c=(0,C.d4)(o),d=(0,xa.Ay)({server:r,provider:s,width:zd,height:zd,url:null==n?void 0:n.thumb});if(!n||0===c.length)return null;const{callSign:u,thumb:m,vcn:p,isHd:h}=n;return i.createElement("div",{ref:l.cellRef,className:"LiveTVSettingsChannel-container-rPMtkz",style:l.style},i.createElement("div",{className:"LiveTVSettingsChannel-channelSourceContainer-LIxRBb"},c.map((e=>{const t=(Wd.length+e)%Wd.length;return i.createElement("div",{key:e,className:"LiveTVSettingsChannel-channelSource-_QoLIG",style:{backgroundColor:Wd[t]}})}))),m?i.createElement(Ia.A,{key:m,className:"LiveTVSettingsChannel-thumb-pT6vwT",fit:Ia.N.Contain,height:_d,src:d,width:zd}):null,i.createElement("div",{className:ma()("LiveTVSettingsChannel-vcn-Dyv7Od",!m&&"LiveTVSettingsChannel-vcnGap-hhwoVe")},p),i.createElement("div",{className:"LiveTVSettingsChannel-title-Mkco2Y"},u),h?i.createElement(Cc.A,{className:"LiveTVSettingsChannel-hdBadge-WJrOIt"},(0,B.A)("HD")):null)})),Kd="LiveTVSettingsChannelList-container-S_DAg8",qd="LiveTVSettingsChannelList-emptyContainer-MtaPr8",$d="LiveTVSettingsChannelList-emptyMessage-Ybh_yo",Jd="LiveTVSettingsChannelList-scroller-Fc9ZMX VirtualListScroller-scroller-QR8ROA Scroller-scroller-S6_dko";var Qd=Object.defineProperty,Yd=Object.getOwnPropertySymbols,Xd=Object.prototype.hasOwnProperty,Zd=Object.prototype.propertyIsEnumerable,eu=(e,t,n)=>t in e?Qd(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;function tu(){const e=(0,C.wA)(),[t,n]=(0,_e.Ss)(),a=(0,i.useMemo)((()=>(0,Fd.A)(t,n)),[n,t]),{guideChannels:{isPending:r,isPopulated:s}}=(0,C.d4)(Vd.A),{lineupChannels:{error:l}}=(0,C.d4)(Gl.A),o=(0,C.d4)(Rd),c=!!(0,C.d4)(a);(0,i.useEffect)((()=>{c||e(Ud.Ay.actions.guideChannelsFetchRequested({sourceKeys:[{server:t,provider:n}]}))}),[e,t,n,c]);const d=(0,i.useMemo)((()=>(0,Sc.A)({rowHeight:parseInt(wc.A.liveTVSettingsChannelItemHeight,10),innerVerticalPadding:2,overscan:1})),[]),u=(0,i.useMemo)((()=>e=>e.item?i.createElement(Gd,((e,t)=>{for(var n in t||(t={}))Xd.call(t,n)&&eu(e,n,t[n]);if(Yd)for(var n of Yd(t))Zd.call(t,n)&&eu(e,n,t[n]);return e})({},e)):i.createElement(i.Fragment,null)),[]),m=c||r||!s;return i.createElement("div",{className:Kd},m?i.createElement("div",{className:qd},i.createElement(St.A,null),c?i.createElement(i.Fragment,null,i.createElement("div",{className:$d},(0,B.A)("We're now building your Guide")),i.createElement("div",{className:$d},(0,B.A)("Hang tight while we download all the data for what's on"))):null):null,!m&&o.length>0?i.createElement(Gi.A,{cellComponentFactory:u,className:Jd,items:o,layout:d,totalSize:o.length}):null,m||0!==o.length?null:i.createElement("div",{className:qd},i.createElement("div",{className:$d},(0,B.A)("Your Guide is empty")),i.createElement("div",{className:$d},l?(0,B.A)("No channels were found. Delete the DVR and recreate it with a new lineup."):(0,B.A)("Please verify your channel mappings and refresh the Guide"))))}var nu=n(67676);function au({server:e,provider:t}){const n=(0,C.wA)();return(0,i.useCallback)((a=>{n((0,nu.Wc)({server:e,provider:t,legacyAction:a}))}),[n,t,e])}var ru=n(28008),iu=n(49809),su=n(71523);const lu=function(){return(0,it.Mz)((e=>e.ui.dvrSettingsUI),((e,{dvrID:t})=>t),((e,t)=>{const n=e.dvrs;return T().find(n,{key:t})}))};var ou=n(51687),cu=n(37423),du=n(48511),uu=n(32467),mu=n(84358),pu=n(22935),hu=n(94507),gu=n(96140),vu=n(2346),fu=n(88896);var bu=Object.defineProperty,yu=Object.getOwnPropertySymbols,Au=Object.prototype.hasOwnProperty,Eu=Object.prototype.propertyIsEnumerable,Su=(e,t,n)=>t in e?bu(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;class wu extends i.Component{componentDidUpdate(e,t){e.isSaving&&!this.props.isSaving&&null==this.props.saveError&&this.props.onModalClose()}render(){const{prefs:e,isSaving:t,saveError:n,onSubmit:a,onModalClose:r}=this.props;return i.createElement(or.Ay,{className:"DVRSettingsModalContent-form-PLyi6F",onSubmit:a},i.createElement(fu.A,{onModalClose:r},i.createElement(pu.A,null,(0,B.A)("DVR Settings")),n?i.createElement(vu.A,{errorMessage:(0,ou.A)(n,(0,B.A)("There was a problem saving your changes. Please try again."))}):null,i.createElement(du.A,null,e.map((e=>{const{id:t}=e;return i.createElement(cc.A,((e,t)=>{for(var n in t||(t={}))Au.call(t,n)&&Su(e,n,t[n]);if(yu)for(var n of yu(t))Eu.call(t,n)&&Su(e,n,t[n]);return e})({key:t},e))}))),i.createElement(uu.A,null,i.createElement(mu.A,null,i.createElement(cu.A,{kind:hu.qN,size:Ze.E_,onPress:r},(0,B.A)("Cancel")),i.createElement(gu.A,{isSpinning:t,kind:hu.jd,size:Ze.E_,type:"submit"},(0,B.A)("Save"))))))}}const Cu=wu;var Pu=Object.defineProperty,Du=Object.defineProperties,xu=Object.getOwnPropertyDescriptors,ku=Object.getOwnPropertySymbols,Ou=Object.prototype.hasOwnProperty,Iu=Object.prototype.propertyIsEnumerable,Tu=(e,t,n)=>t in e?Pu(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Mu=(e,t,n)=>(Tu(e,"symbol"!=typeof t?t+"":t,n),n);class Nu extends i.Component{constructor(){super(...arguments),Mu(this,"onSubmit",(e=>{const{serverEntityID:t,dvrID:n}=this.props;(0,j.Cc)((()=>{this.props.saveDVRSettings({serverEntityID:t,dvrID:n,prefs:e})}))})),Mu(this,"onModalClose",(()=>{this.props.clearDVRSettingsSaveError({dvrID:this.props.dvrID}),this.props.onModalClose()}))}render(){return i.createElement(Cu,(e=((e,t)=>{for(var n in t||(t={}))Ou.call(t,n)&&Tu(e,n,t[n]);if(ku)for(var n of ku(t))Iu.call(t,n)&&Tu(e,n,t[n]);return e})({},this.props),t={onModalClose:this.onModalClose,onSubmit:this.onSubmit},Du(e,xu(t))));var e,t}}const Lu=(0,C.Ng)((function(){return(0,it.Mz)(lu(),(e=>{const{prefs:t,isSaving:n,saveError:a}=e;return{prefs:t.filter((e=>!e.hidden)),isSaving:n,saveError:a}}))}),{saveDVRSettings:su.Be,clearDVRSettingsSaveError:su.u})(Nu);var Ru=Object.defineProperty,Fu=Object.getOwnPropertySymbols,Uu=Object.prototype.hasOwnProperty,Vu=Object.prototype.propertyIsEnumerable,ju=(e,t,n)=>t in e?Ru(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const Bu=function(e){const t=e,{isOpen:n,metricsProperties:a,onModalClose:r}=t,s=((e,t)=>{var n={};for(var a in e)Uu.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&Fu)for(var a of Fu(e))t.indexOf(a)<0&&Vu.call(e,a)&&(n[a]=e[a]);return n})(t,["isOpen","metricsProperties","onModalClose"]);return i.createElement(iu.A,{isOpen:n,metricsPage:l.hC,metricsProperties:a,onModalClose:r},i.createElement(Lu,((e,t)=>{for(var n in t||(t={}))Uu.call(t,n)&&ju(e,n,t[n]);if(Fu)for(var n of Fu(t))Vu.call(t,n)&&ju(e,n,t[n]);return e})({onModalClose:r},s)))};function Hu(e){const t=e["aria-label"],n=e.className,a=e.style,r={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-reload-560"};r["aria-hidden"]=!t,r.style=a,r.className=Zo.A.plexIcon+(n?" "+n:"");const s=[i.createElement.apply(i,["path",{d:"m280 560c-1.807-.003-3.614-.017-5.421-.052-3.292-.062-6.584-.182-9.873-.359-9.731-.525-19.435-1.554-29.059-3.089-11.735-1.871-23.35-4.493-34.75-7.849-11.774-3.466-23.317-7.714-34.53-12.705-13.924-6.197-27.338-13.54-40.067-21.922-13.116-8.636-25.504-18.374-36.998-29.074-11.686-10.88-22.446-22.753-32.124-35.451-9.55-12.53-18.044-25.862-25.357-39.816-6.195-11.822-11.541-24.088-15.978-36.676-4.407-12.5-7.916-25.316-10.495-38.317-3.569-17.998-5.348-36.343-5.348-54.69 0-12.5.823-25 2.48-37.39 1.885-14.104 4.851-28.063 8.869-41.713 4.106-13.949 9.311-27.574 15.547-40.711 7.129-15.019 15.603-29.397 25.281-42.915 9.786-13.67 20.8-26.46 32.864-38.17 12.674-12.302 26.506-23.411 41.259-33.125 14.39-9.476 29.653-17.622 45.541-24.289 17.483-7.337 35.716-12.877 54.325-16.507 17.427-3.4 35.175-5.122 52.929-5.179 17.775-.056 35.554 1.556 53.023 4.85 18.646 3.516 36.926 8.946 54.466 16.181 15.934 6.572 31.253 14.628 45.705 24.02 14.578 9.474 28.271 20.305 40.854 32.302 1.622 1.546 3.224 3.111 4.808 4.695l82.049-82.049 0 220-220 0 81.382-81.382c-.709-.71-1.423-1.413-2.142-2.112-9.074-8.807-18.975-16.76-29.536-23.715-10.101-6.651-20.804-12.386-31.942-17.1-12.43-5.261-25.396-9.245-38.635-11.871-12.45-2.469-25.133-3.735-37.825-3.816-12.729-.08-25.466 1.027-37.984 3.347-13.29 2.463-26.324 6.29-38.836 11.406-11.386 4.656-22.336 10.374-32.671 17.047-10.456 6.75-20.28 14.475-29.313 23.036-8.883 8.419-17 17.646-24.213 27.534-6.997 9.59-13.143 19.801-18.331 30.479-4.523 9.309-8.318 18.972-11.333 28.873-2.889 9.484-5.061 19.185-6.498 28.995-1.42 9.691-2.123 19.485-2.123 29.279 0 13.333 1.307 26.665 3.942 39.736 1.824 9.049 4.281 17.969 7.35 26.674 3.163 8.971 6.973 17.713 11.389 26.139 5.226 9.973 11.299 19.501 18.124 28.456 6.932 9.096 14.639 17.599 23.009 25.392 7.933 7.385 16.461 14.131 25.477 20.146 8.881 5.924 18.236 11.138 27.949 15.569 7.946 3.624 16.131 6.723 24.485 9.267 8.087 2.463 16.331 4.405 24.666 5.815 6.853 1.159 13.767 1.958 20.704 2.398 2.353.149 4.708.257 7.065.325 1.296.037 2.592.059 3.889.074.65.005 1.301.008 1.951.009l.259 79.999-.259.001"}].concat([]))];return t&&s.unshift(i.createElement("title",null,t)),i.createElement.apply(i,["svg",r].concat(s))}Hu.propTypes={"aria-label":Xo().string,className:Xo().string,style:Xo().object};const zu=Hu;var _u=n(92511);const Wu={container:"LiveTVSettingsDVR-container-HkJFJA",action:"LiveTVSettingsDVR-action-EqRXT9 Link-link-vSsQW1",spinner:"LiveTVSettingsDVR-spinner-oywA3W Spinner-spinner-Q4B7Qw spin-spin-H8VRGl",spinnerContainer:"LiveTVSettingsDVR-spinnerContainer-eGueow",actionIcon:"LiveTVSettingsDVR-actionIcon-sMvkhy"},Gu={context:Tl.SETTINGS};function Ku({dvr:e,hasDVRFeature:t,hasLiveTVSetupFeature:n}){const a=(0,C.wA)(),[r,s]=(0,_e.Ss)(),o=(0,Rl.A)(),c=(0,Rl.A)(),d=(0,i.useMemo)((()=>(0,Fd.A)(r,s)),[s,r]),u=(0,C.d4)(d),{isCancellingReloadGuide:m,isDeletingDVR:p}=(0,C.d4)(ro.A),h=au({server:r,provider:s}),g=(0,i.useCallback)((()=>{a(ao.Ay.actions.dvrDeleteRequested({server:r,dvrID:e.key})),o.onClose()}),[e,r,a,o]),v=(0,i.useCallback)((()=>{h((0,Ml.G_)({dvrID:Number(e.key)}))}),[e,h]),f=(0,i.useCallback)((()=>{a(ao.Ay.actions.cancelReloadGuide()),h((0,Ml.SN)({dvrID:Number(e.key)}))}),[a,h,e]),b=!!e.Setting,y=(0,Is.A)(r.version,ce.A.freeLiveTVDVRSettings),A=(t||n&&y)&&b;return i.createElement("div",{className:Wu.container},A?i.createElement(ka.A,{className:Wu.action,kind:Cr.A.Primary,onPress:c.onOpen},i.createElement(_u.A,{className:Wu.actionIcon}),(0,B.A)("DVR Settings")):null,m?i.createElement("div",{className:Wu.spinnerContainer},i.createElement(St.A,{className:Wu.spinner,size:wt.A.Small}),(0,B.A)("Cancelling guide refresh...")):null,!m&&u?i.createElement(ka.A,{className:Wu.action,isDisabled:p,kind:Cr.A.Default,title:(0,B.A)("Cancel refresh"),onPress:f},i.createElement(bs.A,{className:Wu.actionIcon}),u.title," (",u.progress,"%)",i.createElement(Et.A,{className:Wu.separator}),u.subtitle):null,m||u?null:i.createElement(ka.A,{className:Wu.action,isDisabled:p,kind:Cr.A.Primary,onPress:v},i.createElement(zu,{className:Wu.actionIcon}),(0,B.A)("Refresh Guide")),p?i.createElement("div",{className:Wu.spinnerContainer},i.createElement(St.A,{className:Wu.spinner,size:wt.A.Small}),(0,B.A)("Deleting DVR...")):i.createElement(ka.A,{kind:Cr.A.Primary,onPress:o.onOpen},(0,B.A)("Delete DVR")),i.createElement(ru.A,{confirmLabel:(0,B.A)("Delete"),isOpen:o.isOpen,kind:Cr.A.Danger,message:(0,B.A)("Deleting your DVR will remove the Guide, and all scheduled recordings will be suspended. Programming you've previously recorded will remain in your library."),metricsPage:l.Rx,title:(0,B.A)("Delete DVR"),onCancel:o.onClose,onConfirm:g}),i.createElement(Bu,{dvrID:Number(e.key),isOpen:c.isOpen,metricsProperties:Gu,serverEntityID:r.entityID,onModalClose:c.onClose}))}function qu(e){const t=e["aria-label"],n=e.className,a=e.style,r={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-toolbar-filter-add-560"};r["aria-hidden"]=!t,r.style=a,r.className=Zo.A.plexIcon+(n?" "+n:"");const s=[i.createElement.apply(i,["path",{d:"m280 518c-131.44 0-238-106.56-238-238 0-131.44 106.56-238 238-238 131.44 0 238 106.56 238 238 0 131.44-106.56 238-238 238m0-42c108.25 0 196-87.75 196-196 0-108.25-87.75-196-196-196-108.25 0-196 87.75-196 196 0 108.25 87.75 196 196 196m-126-218.4h103.6v-103.6h44.8v103.6h103.6v44.8h-103.6v103.6h-44.8v-103.6h-103.6v-44.8"}].concat([]))];return t&&s.unshift(i.createElement("title",null,t)),i.createElement.apply(i,["svg",r].concat(s))}qu.propTypes={"aria-label":Xo().string,className:Xo().string,style:Xo().object};const $u=qu;var Ju=n(23575);const Qu={modal:"DVRManageChannelsModal-modal-lQudqf Modal-medium-tDj6qd Modal-modal-SlW5fl",modalBody:"DVRManageChannelsModal-modalBody-hk9o80 ModalBody-modalBody-_vZ7B0",innerModalBody:"DVRManageChannelsModal-innerModalBody-Q9xVR7",scroller:"DVRManageChannelsModal-scroller-tOYKKH VirtualListScroller-scroller-QR8ROA Scroller-scroller-S6_dko",innerContainer:"DVRManageChannelsModal-innerContainer-y5Aubo",lineupsContainer:"DVRManageChannelsModal-lineupsContainer-aBhbY4 EPGLineups-container-PoYPvk",lineupsLabel:"DVRManageChannelsModal-lineupsLabel-U2tXke",lineups:"DVRManageChannelsModal-lineups-Tio6rp EPGLineups-lineups-Vn15M1",lineup:"DVRManageChannelsModal-lineup-pKITXB EPGLineups-lineup-J7QBz5",buttonBar:"DVRManageChannelsModal-buttonBar-kcX53P ModalFooterButtonBar-buttonBar-xxZyHc"},Yu="channel-mappings-form",Xu=parseInt(wc.A.dvrSetupChannelMappingItemHeight,10);function Zu({deviceKey:e,isOpen:t,onClose:n}){const a=(0,C.wA)(),[r]=(0,_e.Ss)(),[s,{height:o}]=(0,Xn.A)(),[d,{height:u}]=(0,Xn.A)(),{hasScannedChannels:m,isSavingChannelMappings:p,channelMappingsSaveError:h,scanPrefs:g,scanNetworks:v,setupErrorMessage:f}=(0,C.d4)(ro.A),{lineupChannels:{isPending:b,isPopulated:y,error:A}}=(0,C.d4)(Gl.A),E=(0,i.useMemo)((()=>po(r)),[r]),S=(0,i.useMemo)((()=>(0,wo.A)(e)),[e]),w=(0,i.useMemo)((()=>sd(e)),[e]),P=(0,C.d4)(w),D=(0,C.d4)(E),x=(0,C.d4)(jc),k=(0,C.d4)(so),{channels:O,isPending:I}=(0,C.d4)(S),T=(0,Ul.A)(p),M=(0,i.useMemo)((()=>ld(P,x,k)),[P,x,k]),[N,L]=(0,i.useState)({scrollTop:0,scrollLeft:0}),R=(0,i.useRef)(!1),F=(0,Vs.E)();(0,i.useEffect)((()=>{a(ao.Ay.actions.deviceSelected({deviceKey:e}))}),[a,e]),(0,i.useEffect)((()=>{m&&(0,j.Cc)((()=>{a(ao.Ay.actions.deviceChannelsFetchRequested({server:r,deviceKey:e}))}))}),[a,r,e,m]),(0,i.useEffect)((()=>{b||y||A||a(Wl.Ay.actions.selectedDVRLineupChannelsFetchRequested({server:r}))}),[a,r,b,y,A]),(0,i.useEffect)((()=>{!T||p||h||(R.current=!1,n())}),[p,T,h,n,a,r]);const U=(0,i.useCallback)((t=>{(0,j.Cc)((()=>{a(ao.Ay.actions.deviceChannelMappingsSaveRequested({server:r,deviceKey:e,mappings:t}))}))}),[a,r,e]),V=(0,i.useCallback)((e=>{L(e)}),[]),H=(0,i.useCallback)((()=>{R.current=!0}),[]),z=(0,i.useCallback)((()=>{R.current?F.onOpen():n()}),[F,n]),_=(0,i.useCallback)((()=>{R.current=!1,F.onClose(),n()}),[F,n]);return i.createElement(i.Fragment,null,i.createElement(c.Ay,{metricsPage:l.dY,name:Tl.SETTINGS},i.createElement(ia.A,{className:Qu.modal,isOpen:t,onModalClose:z},i.createElement(la.A,{onModalClose:z},i.createElement(oa.A,null,(0,B.A)("Channel Matching")),f?i.createElement(Bl,{errorMessage:f}):null,i.createElement(sa.A,{ref:d,className:Qu.modalBody,innerClassName:Qu.innerModalBody,onScrollPositionChange:V},!D&&!I&&!b&&O.length>0?i.createElement("div",{ref:s,className:Qu.lineupsContainer},i.createElement("div",{className:Qu.lineupsLabel},(0,B.A)("EPG Location")),i.createElement("div",{className:Qu.lineups},Object.keys(M).map((e=>{const t=M[e],n=null==k?void 0:k.find((t=>t.uuid===e));if(0!==t&&n)return i.createElement("div",{key:e,className:Qu.lineup},n.title)})))):null,!D&&!b&&!I&&O.length>0?i.createElement(id,{channelMappings:P,height:u,id:Yu,scrollLeft:N.scrollLeft,scrollTop:N.scrollTop-o-2*Xu,onChannelMappingChange:H,onSubmit:U}):null,D||!I&&!b?null:i.createElement("div",{className:Qu.innerContainer},i.createElement(St.A,null)),D||!g.length&&!v.length?null:i.createElement(Ac,null),(null==g?void 0:g.length)||(null==v?void 0:v.length)||I||b?null:i.createElement(lc,{className:Qu.innerContainer})),i.createElement(Sr.A,null,i.createElement(wr.A,{className:Qu.buttonBar},i.createElement(Er.A,{onPress:z},(0,B.A)("Cancel")),i.createElement(Hl.A,{form:Yu,isDisabled:p||!!D||0===P.length,isSpinning:p,kind:Cr.A.Primary,type:"submit"},(0,B.A)("Save"))))))),i.createElement(ul.A,{description:(0,B.A)("Are you sure? Any unsaved changes to channel mappings will be lost."),isWaiting:!1,modalState:F,title:(0,B.A)("Leave Channel Matching"),zIndex:Ju.A.highZIndex,onSuccess:_}))}const em=(e,t)=>(0,it.Mz)((0,mo.A)(e),(e=>e.reduce(((e,n)=>(n.type===$o.f.GrabberGrab&&(null==n?void 0:n.Context.deviceID)===t&&e++,e)),0)));var tm=n(82445);function nm(e){const{className:t,serverEntityID:n,providerEntityID:a,model:r,thumb:s,width:l,height:o}=e;let c;switch(r){case"HDHomeRun CONNECT":c=vo;break;case"HDHomeRun EXPAND":c=fo;break;case"HDHomeRun EXTEND":c=bo;break;case"HDHomeRun PRIME":c=yo}return i.createElement(tm.A,{className:t,emptySrc:c,height:o,providerEntityID:a,serverEntityID:n,url:s,width:l})}nm.defaultProps={className:"DVRDeviceImage-image-ujEvxZ"};const am=nm;var rm=Object.defineProperty,im=Object.getOwnPropertySymbols,sm=Object.prototype.hasOwnProperty,lm=Object.prototype.propertyIsEnumerable,om=(e,t,n)=>t in e?rm(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;class cm extends i.Component{constructor(e,t){super(e,t),((e,t,n)=>{om(this,t+"",n)})(0,"onDeviceTitleChange",(e=>{this.setState({deviceTitle:e})})),this.state={deviceTitle:e.title||""}}componentDidUpdate(e,t){e.isSaving&&!this.props.isSaving&&null==this.props.saveError&&this.props.onModalClose()}render(){const{serverEntityID:e,model:t,uri:n,thumb:a,prefs:r,isSaving:s,saveError:l,onSubmit:o,onModalClose:c}=this.props;return i.createElement(or.Ay,{className:"DVRDeviceSettingsModalContent-form-Woxixx",onSubmit:o},i.createElement(fu.A,{onModalClose:c},i.createElement(pu.A,null,(0,B.A)("Device Settings")),l?i.createElement(vu.A,{errorMessage:(0,ou.A)(l,(0,B.A)("There was a problem saving your changes. Please try again."))}):null,i.createElement(du.A,null,i.createElement("div",{className:"DVRDeviceSettingsModalContent-container-Iddu3b"},i.createElement(am,{className:"DVRDeviceSettingsModalContent-deviceImage-M05l3n",height:150,model:t,serverEntityID:e,thumb:a,width:150}),i.createElement("div",{className:"DVRDeviceSettingsModalContent-info-kcyik8"},i.createElement("div",{className:"DVRDeviceSettingsModalContent-model-KfEEqV"},t),i.createElement("div",null,n),i.createElement("div",{className:"DVRDeviceSettingsModalContent-settings-HgjW8X"},i.createElement(cc.A,{id:"deviceTitle",label:(0,B.A)("Device Name"),type:"text",value:this.state.deviceTitle}),r.map((e=>{const{id:t}=e;return i.createElement(cc.A,((e,t)=>{for(var n in t||(t={}))sm.call(t,n)&&om(e,n,t[n]);if(im)for(var n of im(t))lm.call(t,n)&&om(e,n,t[n]);return e})({key:t},e))})))))),i.createElement(uu.A,null,i.createElement(mu.A,null,i.createElement(cu.A,{kind:hu.qN,size:Ze.E_,onPress:c},(0,B.A)("Cancel")),i.createElement(gu.A,{isSpinning:s,kind:hu.jd,size:Ze.E_,type:"submit"},(0,B.A)("Save"))))))}}const dm=cm;var um=Object.defineProperty,mm=Object.defineProperties,pm=Object.getOwnPropertyDescriptors,hm=Object.getOwnPropertySymbols,gm=Object.prototype.hasOwnProperty,vm=Object.prototype.propertyIsEnumerable,fm=(e,t,n)=>t in e?um(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,bm=(e,t,n)=>(fm(e,"symbol"!=typeof t?t+"":t,n),n);class ym extends i.Component{constructor(){super(...arguments),bm(this,"onSubmit",(e=>{const{serverEntityID:t,dvrID:n,deviceID:a}=this.props,r=e,{deviceTitle:i}=r,s=((e,t)=>{var n={};for(var a in e)gm.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&hm)for(var a of hm(e))t.indexOf(a)<0&&vm.call(e,a)&&(n[a]=e[a]);return n})(r,["deviceTitle"]);(0,j.Cc)((()=>{this.props.saveDeviceSettings({serverEntityID:t,dvrID:n,deviceID:a,prefs:s}),this.props.saveDeviceTitle({serverEntityID:t,dvrID:n,deviceID:a,title:i})}))})),bm(this,"onModalClose",(()=>{const{dvrID:e,deviceID:t}=this.props;this.props.clearDeviceSettingsSaveError({dvrID:e,deviceID:t}),this.props.onModalClose()}))}render(){return i.createElement(dm,(e=((e,t)=>{for(var n in t||(t={}))gm.call(t,n)&&fm(e,n,t[n]);if(hm)for(var n of hm(t))vm.call(t,n)&&fm(e,n,t[n]);return e})({},this.props),t={onModalClose:this.onModalClose,onSubmit:this.onSubmit},mm(e,pm(t))));var e,t}}const Am=(0,C.Ng)((function(){return(0,it.Mz)(((e,{dvrID:t})=>t),(0,it.Mz)(((e,{deviceID:t})=>t),lu(),((e,t)=>{if(t)return T().find(t.devices,{key:e})})),((e,t)=>{const{key:n,model:a,uri:r,prefs:i,title:s,thumb:l,isSaving:o,saveError:c}=t;return{dvrID:e,deviceID:n,model:a,uri:r,prefs:i,title:s,thumb:l,isSaving:o,saveError:c}}))}),{saveDeviceSettings:su.jY,saveDeviceTitle:su._S,clearDeviceSettingsSaveError:su.MC})(ym);var Em=Object.defineProperty,Sm=Object.getOwnPropertySymbols,wm=Object.prototype.hasOwnProperty,Cm=Object.prototype.propertyIsEnumerable,Pm=(e,t,n)=>t in e?Em(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const Dm=function(e){const t=e,{isOpen:n,metricsProperties:a,onModalClose:r}=t,s=((e,t)=>{var n={};for(var a in e)wm.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&Sm)for(var a of Sm(e))t.indexOf(a)<0&&Cm.call(e,a)&&(n[a]=e[a]);return n})(t,["isOpen","metricsProperties","onModalClose"]);return i.createElement(iu.A,{isOpen:n,metricsPage:l.E4,metricsProperties:a,onModalClose:r},i.createElement(Am,((e,t)=>{for(var n in t||(t={}))wm.call(t,n)&&Pm(e,n,t[n]);if(Sm)for(var n of Sm(t))Cm.call(t,n)&&Pm(e,n,t[n]);return e})({onModalClose:r},s)))},xm={container:"LiveTVSettingsDevice-container-r8dvqC",modelContainer:"LiveTVSettingsDevice-modelContainer-yQYQYu",title:"LiveTVSettingsDevice-title-OjlkSO",deviceActionButton:"LiveTVSettingsDevice-deviceActionButton-SVL808 IconButton-iconButton-ebkqws Link-link-vSsQW1",attribute:"LiveTVSettingsDevice-attribute-oOtApC",attributeTitle:"LiveTVSettingsDevice-attributeTitle-N61j_U",attributeValue:"LiveTVSettingsDevice-attributeValue-QaQcnD",enabledChannelsCount:"LiveTVSettingsDevice-enabledChannelsCount-kqLYIA Link-link-vSsQW1",tuner:"LiveTVSettingsDevice-tuner-HSRcNs",activeTuner:"LiveTVSettingsDevice-activeTuner-UQD7hz",deviceWarning:"LiveTVSettingsDevice-deviceWarning-ZgUUmB",deviceWarningIconContainer:"LiveTVSettingsDevice-deviceWarningIconContainer-oWBa5u"},km={context:Tl.SETTINGS};function Om({dvrID:e,deviceKey:t,model:n,title:a,status:r,uri:s,tunerCount:l,channelMappings:o,canRemoveDevice:c,hasPrefs:d}){var u;const m=(0,C.wA)(),[p]=(0,_e.Ss)(),h=(0,Rl.A)(),g=(0,Rl.A)(),v=(0,i.useMemo)((()=>em(p,t)),[p,t]),f=(0,i.useMemo)((()=>(0,wo.A)(t)),[t]),b=(0,C.d4)(v),{channels:y,isPending:A}=(0,C.d4)(f),E=(0,i.useMemo)((()=>function(e,t){return Array.from({length:e}).map(((e,n)=>({active:n<t})))}(l,b)),[l,b]),S=r===$l.EE.Dead,w=null!=(u=null==o?void 0:o.filter((e=>e.enabled)).length)?u:0,P=(0,i.useCallback)((()=>{m(ao.Ay.actions.removeDVRDeviceRequested({server:p,dvrID:e,deviceKey:t}))}),[m,p,e,t]),D=(0,i.useCallback)((()=>{g.onClose(),m(ao.Ay.actions.dvrFetchRequested({server:p}))}),[m,p,g]),x=(0,i.useCallback)((()=>{h.onClose(),m(ao.Ay.actions.dvrFetchRequested({server:p}))}),[m,p,h]);return(0,i.useEffect)((()=>{m(ao.Ay.actions.deviceChannelsFetchRequested({server:p,deviceKey:t}))}),[m,p,t]),i.createElement("div",{className:xm.container},i.createElement("div",{className:xm.modelContainer},i.createElement("div",{className:xm.title},null!=a?a:n),d?i.createElement(Bi.A,{className:xm.deviceActionButton,iconComponent:_u.A,title:(0,B.A)("Device Settings"),onPress:h.onOpen}):null,c?i.createElement(Bi.A,{className:xm.deviceActionButton,iconComponent:bs.A,kind:Cr.A.Danger,title:(0,B.A)("Remove Device"),onPress:P}):null),S?i.createElement("div",{className:xm.deviceWarning},i.createElement("div",{className:xm.deviceWarningIconContainer},i.createElement(Vl.A,null)),(0,B.A)("Device not found. Ensure your device is powered on and connected to your network.")):i.createElement(i.Fragment,null,i.createElement("div",{className:xm.attribute},i.createElement("div",{className:xm.attributeTitle},(0,B.A)("Tuner status")),i.createElement("div",{className:xm.attributeValue},E.map(((e,t)=>i.createElement("div",{key:t,className:ma()(xm.tuner,e.active&&xm.activeTuner)}))))),i.createElement("div",{className:xm.attribute},i.createElement("div",{className:xm.attributeTitle},(0,B.A)("Channels")),i.createElement("div",{className:xm.attributeValue},A?(0,B.A)("Loading channels..."):i.createElement(i.Fragment,null,"(",y.length,")",i.createElement(ka.A,{className:xm.enabledChannelsCount,kind:Cr.A.Primary,onPress:g.onOpen},(0,B.A)("{enabledChannelsCount} enabled",{enabledChannelsCount:w}))))),s?i.createElement("div",{className:xm.attribute},i.createElement("div",{className:xm.attributeTitle},(0,B.A)("IP address")),i.createElement("div",{className:xm.attributeValue},s)):null,a?i.createElement("div",{className:xm.attribute},i.createElement("div",{className:xm.attributeTitle},(0,B.A)("Model")),i.createElement("div",{className:xm.attributeValue},n)):null),S?null:i.createElement(Zu,{deviceKey:t,isOpen:g.isOpen,onClose:D}),S?null:i.createElement(Dm,{deviceID:Number(t),dvrID:Number(e),isOpen:h.isOpen,metricsProperties:km,serverEntityID:p.entityID,onModalClose:x}))}const Im="LiveTVSettingsDeviceList-addDeviceButton-fby1Uh",Tm="LiveTVSettingsDeviceList-addDeviceButtonIcon-HELhfg";function Mm({dvrID:e,onAddDevicePress:t}){const[n]=(0,_e.Ss)(),a=(0,C.d4)(Md),r=!(0,Is.A)(n.version,ce.A.v4DVRSetup);return i.createElement("div",null,null==a?void 0:a.map((t=>{var n;return i.createElement(Om,{key:t.key,canRemoveDevice:a.length>1,channelMappings:t.ChannelMapping,deviceKey:t.key,dvrID:e,hasPrefs:!!(null==(n=t.Setting)?void 0:n.length),model:t.model,status:t.status,title:t.title,tunerCount:t.tuners,uri:t.uri})})),i.createElement(Er.A,{className:Im,isDisabled:r,onPress:t},i.createElement($u,{className:Tm}),(0,B.A)("Add another device")))}var Nm=n(37895),Lm=n(44018),Rm=n(41149),Fm=n(82485);const Um={info:"PlexPassUpsellInfo-info-ORvWaH",moreInfo:"PlexPassUpsellInfo-moreInfo-MthBYL",upsell:"PlexPassUpsellInfo-upsell-JOE4QE PlexPassUpsell-upsell-RSLUlW"};function Vm(e){const{className:t,moreInfoClassName:n,iconComponent:a,title:r,text:s,moreInfo:l,children:o}=e;return i.createElement("div",{className:t},i.createElement(Fm.A,{className:Um.upsell,iconComponent:a,text:s,title:r}),l?i.createElement("div",{className:n},l):null,o)}Vm.defaultProps={className:Um.info,moreInfoClassName:Um.moreInfo};var jm=n(75405);function Bm(e){const t=e["aria-label"],n=e.className,a=e.style,r={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-marketing-dvr-560"};r["aria-hidden"]=!t,r.style=a,r.className=Zo.A.plexIcon+(n?" "+n:"");const s=[i.createElement.apply(i,["path",{d:"m420 280c-77.21 0-140 62.79-140 140 0 77.21 62.79 140 140 140 77.21 0 140-62.79 140-140 0-77.21-62.79-140-140-140m0 256.67c-64.33 0-116.67-52.34-116.67-116.67 0-64.33 52.34-116.67 116.67-116.67 64.33 0 116.67 52.34 116.67 116.67 0 64.33-52.34 116.67-116.67 116.67m128.33-373.35h-.035c6.44 0 11.672 5.232 11.672 11.672v104.88h-23.328v-93.22h-513.33v282.36c0 11.584 9.8 20.982 21.892 20.982h188.11v23.328h-188.11c-24.937 0-45.22-19.88-45.22-44.31v-294.02c0-6.44 5.233-11.672 11.673-11.672h536.67m-128.33 186.67c-38.587 0-70 31.413-70 70 0 38.587 31.413 70 70 70 38.587 0 70-31.413 70-70 0-38.587-31.413-70-70-70m0 116.67c-25.742 0-46.672-20.93-46.672-46.673 0-25.742 20.93-46.672 46.672-46.672 25.743 0 46.673 20.93 46.673 46.672 0 25.743-20.93 46.673-46.673 46.673m105-466.67h.018c19.302 0 35 15.698 35 35.02v93.31c0 6.439-5.233 11.672-11.673 11.672h-536.67c-6.44 0-11.673-5.232-11.673-11.672v-93.31c0-19.32 15.697-35.02 35-35.02h490m10.833 31.03c-1.629-4.462-5.828-7.682-10.85-7.682h-41.808l-93.33 93.33h60.34l85.64-85.65m-458.97 85.65l93.33-93.33h-48.668l-93.33 93.33h48.667m459.81 0v-53.48l-53.48 53.48h53.48m-366.47-.018l93.33-93.33h-60.34l-93.33 93.33h60.34m93.33 0l93.33-93.33h-60.34l-93.33 93.33h60.34m93.33 0l93.33-93.33h-60.34l-93.33 93.33h60.34m-321.86-93.33h.017c-6.44 0-11.672 5.25-11.672 11.69v53.5l65.19-65.19h-53.52-.017"}].concat([]))];return t&&s.unshift(i.createElement("title",null,t)),i.createElement.apply(i,["svg",r].concat(s))}Bm.propTypes={"aria-label":Xo().string,className:Xo().string,style:Xo().object};const Hm=Bm,zm="LiveTVSettingsZeroState-button-ZnKYfg Button-button-TxWeuE Link-link-SxPFpG",_m="LiveTVSettingsZeroState-moreInfo-H6ftyW PlexPassUpsellInfo-moreInfo-MthBYL";function Wm({hasDVRFeature:e,hasLiveTVSetupFeature:t,hasUnsupportedServer:n,onSetupPress:a}){const[r]=(0,_e.Ss)(),s=e||t;return i.createElement(Vm,{iconComponent:Hm,moreInfo:i.createElement(Lm.A,{message:(0,B.A)("To get started recording TV, connect a tuner device to your network. Here's a {openLinkSupported}list of supported devices{closeLinkSupported}. However, some tuners not officially supported {openLinkUnsupported}work as well{closeLinkUnsupported}!"),tags:[{open:"openLinkSupported",close:"closeLinkSupported",component:Xt.A,kind:hu.jd,to:Nm.tE,target:"_blank"},{open:"openLinkUnsupported",close:"closeLinkUnsupported",component:Xt.A,kind:hu.jd,to:Nm.GC,target:"_blank"}]}),moreInfoClassName:_m,text:(0,B.A)("With Plex Pass and a digital tuner, you can record over-the-air broadcast TV and watch your favorite shows, movies, news, and sports on any device, anywhere in the world. Cut the cord and love TV again."),title:(0,B.A)("Live TV & DVR")},s?i.createElement(cu.A,{className:zm,isDisabled:n,kind:hu.jd,size:Ze.I$,onPress:a},(0,B.A)("Set Up Plex DVR")):i.createElement(jm.A,{className:zm,modalMetricsProperties:{context:Tl.DVR_SETUP},origin:Rm.dY,serverEntityID:r.entityID}))}const Gm="LiveTVSettingsPage-sectionTitle-NTAJZp";var Km=n(35832),qm=n(66900);var $m=n(29943),Jm=n(8103),Qm=n(84156);const Ym="LibrarySettings-container-Jy3IzH",Xm="LibrarySettings-label-SChBN8",Zm="LibrarySettings-info-PQt1yJ";function ep(){var e;const t=(0,C.wA)(),[n]=(0,_e.Ss)(),a=null==(e=n.ownerFeatures)?void 0:e.includes(h.Be),r=(0,C.d4)((o=n.machineIdentifier,(0,it.Mz)(Qm.A,(e=>e.settings[o])))),s=(0,i.useMemo)((()=>null!=(null==r?void 0:r.isMergeRecentlyAddedEnabled)),[r]),l=(0,i.useMemo)((()=>!r||r.isUpdating||r.isPending||!s),[s,r]);var o;(0,i.useEffect)((()=>{t(Jm.A.actions.settingsFetchRequested({server:n}))}),[t,n]);const c=(0,i.useCallback)((()=>{a&&!l&&t(Jm.A.actions.settingsUpdateRequested({server:n,sourceURI:(0,$m.A)({serverIdentifier:n.machineIdentifier,providerIdentifier:F.oB}),isMergeRecentlyAddedEnabled:!(null==r?void 0:r.isMergeRecentlyAddedEnabled)}))}),[a,t,l,n,null==r?void 0:r.isMergeRecentlyAddedEnabled]);return a&&s?i.createElement("div",{className:Ym},i.createElement("label",{htmlFor:"recentlyAddedMerged"},i.createElement(Pc.A,{checked:null==r?void 0:r.isMergeRecentlyAddedEnabled,disabled:l,name:"recentlyAddedMerged",onChange:c}),i.createElement("span",{className:Xm},(0,B.A)("Merge Recently Added items"))),i.createElement("div",{className:Zm},(0,B.A)("Recently Added items from the same media type will be combined together on Home for libraries Recommended to Home. Only content from libraries pinned to the app sidebar will appear in Merged Recently Added recommendations."))):null}var tp=n(82974),np=n(84843),ap=n(11127),rp=n(39530),ip=n(62321),sp=n(19396),lp=n(2364),op=n(66334),cp=n(32952),dp=n(92464),up=n(15744),mp=n(75520),pp=n(18477),hp=n(31585),gp=n(92658),vp=n(18412),fp=n(84961),bp=n(31402),yp=n(85176),Ap=n(90817),Ep=n(48188);const Sp=function(e){const{children:t,metadataItem:n,sharingReason:a,isSharingSingleLibrary:r,errorMessage:s,onModalClose:l}=e;let o;return o=n?(0,B.A)("Grant Access to {metadataTitle}",{metadataTitle:(0,Ep.A)(n,Et.w)}):a===Tg.AddingUser?(0,B.A)("Invite Plex User"):a===Tg.CreatingUser?(0,B.A)("Create Managed Account"):(0,B.A)("Grant Library Access"),i.createElement(fu.A,{onModalClose:l},i.createElement(pu.A,null,o),s?i.createElement(vu.A,{errorMessage:s}):null,t)};var wp=n(48097);var Cp=Object.defineProperty,Pp=Object.getOwnPropertySymbols,Dp=Object.prototype.hasOwnProperty,xp=Object.prototype.propertyIsEnumerable,kp=(e,t,n)=>t in e?Cp(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const Op={onNext:yp.Zj},Ip=(0,C.Ng)(null,Op)((function(e){const t=e,{onNext:n,onModalClose:a}=t,r=((e,t)=>{var n={};for(var a in e)Dp.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&Pp)for(var a of Pp(e))t.indexOf(a)<0&&xp.call(e,a)&&(n[a]=e[a]);return n})(t,["onNext","onModalClose"]);return i.createElement(or.Ay,{className:"InviteHomeUserWarning-form-D5Rfdd",onSubmit:n},i.createElement(Sp,((e,t)=>{for(var n in t||(t={}))Dp.call(t,n)&&kp(e,n,t[n]);if(Pp)for(var n of Pp(t))xp.call(t,n)&&kp(e,n,t[n]);return e})({sharingReason:Tg.AddingUser,onModalClose:a},r),i.createElement(du.A,{className:"InviteHomeUserWarning-modalBody-PkmcsQ ModalBody-modalBody-Me4Hwy",scrollDirection:Ap.x3},i.createElement(wp.A,{className:"InviteHomeUserWarning-warning-OPOZWz"}),i.createElement("div",null,(0,B.A)("Inviting other users to your home is a security risk that could allow these users to access your account. You should only do this if you live in the same home and share devices."))),i.createElement(uu.A,null,i.createElement(mu.A,null,i.createElement(cu.A,{onPress:a},(0,B.A)("Cancel")),i.createElement(gu.A,{kind:hu.jd,type:"submit"},(0,B.A)("Continue"))))))}));var Tp=n(68022);const Mp=(0,xc.A)((0,it.Mz)(Tp.A,(e=>e.reduce(((e,t)=>(t.isFullOwnedServer&&t.isClaimed&&t.friendlyName&&e.push(t.entityID),e)),[]))),(e=>e));var Np=n(36836),Lp=n(57178);function Rp(){return(0,it.Mz)(Lp.A,((e,t)=>t.friendEntityID),((e,t)=>e[t]))}const Fp="machineIdentifier",Up="sectionID";var Vp=n(99844),jp=n(69182),Bp=n(20761),Hp=n(55730),zp=n(48724);var _p=Object.defineProperty,Wp=Object.getOwnPropertySymbols,Gp=Object.prototype.hasOwnProperty,Kp=Object.prototype.propertyIsEnumerable,qp=(e,t,n)=>t in e?_p(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const $p=(0,zp.A)((function(e){return i.createElement(Hp.A,((e,t)=>{for(var n in t||(t={}))Gp.call(t,n)&&qp(e,n,t[n]);if(Wp)for(var n of Wp(t))Kp.call(t,n)&&qp(e,n,t[n]);return e})({className:"ShareServerLibrariesServerTitle-input-Tpn1mR CheckInput-label-E9ov4s"},e))}));var Jp=Object.defineProperty,Qp=Object.getOwnPropertySymbols,Yp=Object.prototype.hasOwnProperty,Xp=Object.prototype.propertyIsEnumerable,Zp=(e,t,n)=>t in e?Jp(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;function eh(e){return i.createElement(Hp.A,((e,t)=>{for(var n in t||(t={}))Yp.call(t,n)&&Zp(e,n,t[n]);if(Qp)for(var n of Qp(t))Xp.call(t,n)&&Zp(e,n,t[n]);return e})({},e))}eh.defaultProps={className:"ShareServerLibrary-input-nuRhJd CheckInput-input-dUDRsF"};const th=(0,zp.A)(eh);var nh=Object.defineProperty,ah=(e,t,n)=>(((e,t,n)=>{t in e?nh(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);const rh=parseInt(wc.A.serverShareListRowHeight,10);class ih extends i.Component{constructor(e,t){super(e,t),ah(this,"onTogglePress",(()=>{this.setState({isCollapsed:!this.state.isCollapsed})})),ah(this,"onAllLibrariesToggle",(()=>{this.setState({isAllLibrariesChecked:!this.state.isAllLibrariesChecked})}));const{sourceServer:n,serverOverview:a,serverShare:r,selectedAllLibrariesMachineIdentifiers:i}=e;this.state={isCollapsed:n.machineIdentifier!==Bp.Q&&n.machineIdentifier!==a.machineIdentifier,isAllLibrariesChecked:null!=i?i.includes(a.machineIdentifier):!(!r||!r.allLibraries)}}render(){const{sourceDirectory:e,sourceServer:t,serverOverview:n,serverShare:a,selectedLibrarySectionIDs:r}=this.props,{isAllLibrariesChecked:s,isCollapsed:l}=this.state,{machineIdentifier:o,name:c,sections:d}=n,u={maxHeight:l?0:(d.length||1)*rh},m=e&&e.id;let p=c;return s&&(p+=` (${(0,B.A)("All Libraries")})`),i.createElement(i.Fragment,null,i.createElement("div",{className:"ShareServerLibraries-header-ZVwVX4"},i.createElement(Xt.A,{className:s?"ShareServerLibraries-toggleButtonHidden-OJy5Q6 ShareServerLibraries-toggleButton-tvGIDH Link-link-SxPFpG":"ShareServerLibraries-toggleButton-tvGIDH Link-link-SxPFpG",onPress:this.onTogglePress},i.createElement(rp.A,{direction:l?Xe.NS:Xe.PX})),i.createElement($p,{checkboxText:p,initialValue:s,name:JSON.stringify({[Fp]:o}),onChange:this.onAllLibrariesToggle})),i.createElement("div",{className:"ShareServerLibraries-libraries-ubmXzX",style:u},s||0!==d.length?null:i.createElement("div",{className:"ShareServerLibraries-emptyMessage-lh0jdY"},(0,B.A)("No libraries")),d.map((e=>{const{id:n,key:l,title:c}=e;let d;if(null!=r)d=r.includes(n);else{const e=t.machineIdentifier===o&&m===l,r=!!(a&&a.libraries&&a.libraries.find((e=>e.id===n)));d=e||r}return i.createElement(th,{key:n,checkboxText:c,className:s?"ShareServerLibraries-hidden-vNS85A":void 0,initialValue:d,name:JSON.stringify({[Up]:n})})}))))}}const sh=ih,lh=function(e){const{sourceDirectory:t,sourceServer:n,serverOverviews:a,serverShares:r,selectedAllLibrariesMachineIdentifiers:s,selectedLibrarySectionIDs:l,hasNextStep:o,isPopulating:c,showList:d,isNewFriend:u,sharingReason:m,isSharingPending:p,errorMessage:h,onPreviousStep:g,onSubmit:v,onModalClose:f}=e;let b;return b=o?(0,B.A)("Continue"):m===Tg.CreatingUser?(0,B.A)("Add"):u?(0,B.A)("Send"):(0,B.A)("Save"),i.createElement(or.Ay,{className:"ShareLibraries-form-JWwhI9",onSubmit:v},i.createElement(Sp,{errorMessage:h,isSharingSingleLibrary:!!t,sharingReason:m,onModalClose:f},i.createElement(du.A,{className:"ShareLibraries-modalBody-ozsHNK ModalBody-modalBody-Me4Hwy",scrollDirection:Ap.x3},i.createElement("div",{className:"ShareLibraries-message-U9RVHT"},(0,B.A)("Choose libraries to grant access to.")),c?i.createElement("div",{className:"ShareLibraries-spinnerContainer-p8JT0d"},i.createElement(jp.A,null)):null,d?i.createElement(Vp.A,{autoScroll:!0,className:"ShareLibraries-scroller-lBXCcM Scroller-vertical-nKq0Q8"},a.map((e=>{const{machineIdentifier:a}=e,o=r.find((e=>e.machineIdentifier===a));return i.createElement(sh,{key:a,selectedAllLibrariesMachineIdentifiers:s,selectedLibrarySectionIDs:l,serverOverview:e,serverShare:o,sourceDirectory:t,sourceServer:n})}))):null),i.createElement(uu.A,{className:"ShareLibraries-modalFooter-WU0eck ModalFooter-modalFooter-IDP5sZ"},i.createElement(cu.A,{onPress:f},(0,B.A)("Cancel")),i.createElement(mu.A,null,i.createElement(cu.A,{onPress:g},(0,B.A)("Previous")),i.createElement(gu.A,{isDisabled:c||p,isSpinning:p,kind:hu.jd,type:"submit"},b)))))};var oh=Object.defineProperty,ch=Object.defineProperties,dh=Object.getOwnPropertyDescriptors,uh=Object.getOwnPropertySymbols,mh=Object.prototype.hasOwnProperty,ph=Object.prototype.propertyIsEnumerable,hh=(e,t,n)=>t in e?oh(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const gh={dispatchFetchServerOverviews:yp.i0,dispatchFetchServerShares:yp.E$,dispatchSetLibraryShares:yp._3,onPreviousStep:yp.X2};class vh extends i.Component{constructor(){super(...arguments),((e,t,n)=>{hh(this,t+"",n)})(0,"onSubmit",(e=>{const t=Object.keys(e).reduce(((t,n)=>{if(!e[n])return t;const a=JSON.parse(n);return a.hasOwnProperty(Up)&&t.selectedLibrarySectionIDs.push(a[Up]),a.hasOwnProperty(Fp)&&t.selectedAllLibrariesMachineIdentifiers.push(a[Fp]),t}),{selectedAllLibrariesMachineIdentifiers:[],selectedLibrarySectionIDs:[]});this.props.dispatchSetLibraryShares(t)}))}componentDidMount(){const{friendEntityID:e,sharingEligibleServerEntityIDs:t,dispatchFetchServerOverviews:n,dispatchFetchServerShares:a}=this.props;n({serverEntityIDs:t}),a({friendEntityID:e})}render(){const e=this.props,{sharingEligibleServerEntityIDs:t,dispatchFetchServerOverviews:n,dispatchFetchServerShares:a}=e,r=((e,t)=>{var n={};for(var a in e)mh.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&uh)for(var a of uh(e))t.indexOf(a)<0&&ph.call(e,a)&&(n[a]=e[a]);return n})(e,["sharingEligibleServerEntityIDs","dispatchFetchServerOverviews","dispatchFetchServerShares"]);return i.createElement(lh,(s=((e,t)=>{for(var n in t||(t={}))mh.call(t,n)&&hh(e,n,t[n]);if(uh)for(var n of uh(t))ph.call(t,n)&&hh(e,n,t[n]);return e})({},r),l={onSubmit:this.onSubmit},ch(s,dh(l))));var s,l}}const fh=(0,C.Ng)((function(){return(0,it.Mz)((e=>e.ui.shareModal),Np.A,Mp,Rp(),((e,t,n,a)=>{const{steps:r,serverOverviews:i,selectedAllLibrariesMachineIdentifiers:s,selectedLibrarySectionIDs:l,isNewFriend:o,isServerOverviewsPopulating:c,isServerOverviewsPopulated:d,isServerSharesPopulating:u,isServerSharesPopulated:m,isSharingPending:p,sharingError:h,serverSharesError:g}=e,v=c||u,f=d&&m,b=g||h;return{sharingEligibleServerEntityIDs:n,sourceServer:t,serverOverviews:i,selectedAllLibrariesMachineIdentifiers:s,selectedLibrarySectionIDs:l,serverShares:a?a.serverShares:[],hasNextStep:(0,yp.m7)(r,bp.B.LIBRARIES),isPopulating:v&&!b,isSharingPending:p&&!b,showList:f,isNewFriend:o,errorMessage:b}}))}),gh)(vh);var bh=n(68536),yh=n(67654),Ah=n(55567),Eh=n(25762),Sh=n(32327),wh=n(54495),Ch=n(52367);const Ph=e=>{switch(e){case Tg.CreatingUser:return(0,B.A)("This will allow this account to download content from your server");case Tg.SharingLibrary:return(0,B.A)("This will allow this friend to download content from your server");default:return(0,B.A)("This will allow this user to download content from your server")}},Dh=e=>{const t=[{open:"openLink",close:"closeLink",component:ka.A,kind:hu.jd,to:"https://www.plex.tv/plex-pass",target:"__blank"}];switch(e){case Tg.CreatingUser:return i.createElement(Lm.A,{message:(0,B.A)("Enabling this option will allow this account to access Live TV streams if a tuner is available. This requires a library on the Plex Media Server to be shared with the account. DVR functionality is a Plex Pass feature, find out {openLink}more{closeLink}."),tags:t});case Tg.SharingLibrary:return i.createElement(Lm.A,{message:(0,B.A)("Enabling this option will allow this friend to access Live TV streams if a tuner is available. This requires a library on the Plex Media Server to be shared with the friend. DVR functionality is a Plex Pass feature, find out {openLink}more{closeLink}."),tags:t});default:return i.createElement(Lm.A,{message:(0,B.A)("Enabling this option will allow this user to access Live TV streams if a tuner is available. This requires a library on the Plex Media Server to be shared with the user. DVR functionality is a Plex Pass feature, find out {openLink}more{closeLink}."),tags:t})}},xh=e=>{switch(e){case Tg.CreatingUser:return(0,B.A)("Enabling Live TV for this account requires access to a library. Enabling DVR will show all scheduled recordings, but this account will only be able to manage their own recordings");case Tg.SharingLibrary:return(0,B.A)("Enabling Live TV for this friend requires sharing a library with them. Enabling DVR will show all scheduled recordings, but this friend will only be able to manage their own recordings");default:return(0,B.A)("Enabling Live TV for this user requires sharing a library with them. Enabling DVR will show all scheduled recordings, but this user will only be able to manage their own recordings")}};var kh=n(22758),Oh=n(11686),Ih=n(26702);const Th="ShareRestrictions-message-QEnoSn",Mh="ShareRestrictions-section-TN7zc3";function Nh(e){return parseInt(e,10)}const Lh=function(e){const{friend:t,sourceDirectory:n,filterOptionsTags:a,isFilterOptionsTagsPopulating:r,isFilterOptionsTagsPopulated:s,canAddToHome:l,canShareTunersWithFriends:o,canShareDVR:c,canShowRestrictions:d,canShowRestrictionsFilters:u,sharingReason:m,isSharingPending:p,errorMessage:h,onPreviousPress:g,onSubmit:v,onModalClose:f,username:b}=e,y=(0,Zl.A)(p),A=(0,C.wA)(),E=(0,C.d4)(wh.A),S=!!t&&t.home,w=!t||t.allowSync,P=t?t.allowTuners:0,D=t?{filterMovies:t.filterMovies,filterTelevision:t.filterTelevision,filterMusic:t.filterMusic}:{},[x,k]=(0,i.useState)(S||m===Tg.AddingUser||m===Tg.CreatingUser),O=x||o;return(0,i.useEffect)((()=>{y&&!p&&m===Tg.CreatingUser&&A(Ch.A.actions.fetchAcceptedOwnedInvites({server:E}))}),[E,A,y,p,m]),i.createElement(or.Ay,{className:"ShareRestrictions-form-yQdj56",onSubmit:v},i.createElement(Sp,{errorMessage:h,isSharingSingleLibrary:!!n,sharingReason:m,onModalClose:f},i.createElement(du.A,{className:"ShareRestrictions-modalBody-c93nMv ModalBody-modalBody-Me4Hwy",scrollDirection:Ap.x3},i.createElement(Vp.A,{autoScroll:!0,className:"ShareRestrictions-scroller-h3N_wF Scroller-vertical-nKq0Q8"},l?i.createElement("div",{className:Th},i.createElement("p",null,(0,B.A)("If you share devices with another Plex user, you can invite them into your Plex Home allowing them to easily switch accounts on devices youre signed into. The invited user will be asked to confirm Home membership. This is not required to allow access to your library.")),i.createElement("p",null,(0,B.A)("This will also add {username} as a friend.",{username:b}))):null,l?i.createElement("div",{className:Mh},i.createElement(kh.A,{checkboxText:(0,B.A)("Add to Plex Home"),initialValue:S,isDisabled:S,name:"addToHome",onChange:k})):null,x&&m!==Tg.CreatingUser?i.createElement("div",{className:"ShareRestrictions-warningMessage-IMH2Gj ShareRestrictions-message-QEnoSn"},i.createElement(wp.A,{className:"ShareRestrictions-warningIcon-PuV3RY"}),m===Tg.SharingLibrary?(0,B.A)("Inviting other friends to your home is a security risk that could allow these friends to access your account. You should only do this if you live in the same home and share devices."):(0,B.A)("Inviting other users to your home is a security risk that could allow these users to access your account. You should only do this if you live in the same home and share devices.")):null,i.createElement("div",{className:Th},(e=>{switch(e){case Tg.AddingUser:return(0,B.A)("You can restrict this user's access to certain features and content. These restrictions apply to all items shared with this user. You can change them at any time in the Manage Library Access settings.");case Tg.CreatingUser:return(0,B.A)("You can restrict this account's access to certain features and content. These restrictions apply to all items the account has access to. You can change these restrictions at any time by visiting the Manage Library Access page.");case Tg.SharingLibrary:return(0,B.A)("You can restrict this friend's access to certain features and content. These restrictions apply to all items shared with this friend. You can change them at any time in the Manage Library Access settings.");default:return(0,B.A)("You can restrict this user's access to certain features and content. These restrictions apply to all items shared with this user. You can change them at any time in the Users & Sharing settings.")}})(m)),i.createElement("div",{className:Mh},i.createElement(kh.A,{checkboxText:(0,B.A)("Allow Downloads"),initialValue:w,name:"allowSync",subtitle:Ph(m)}),O&&!c?i.createElement(kh.A,{checkboxText:(0,B.A)("Allow access to Live TV"),initialValue:!!P,name:"allowTuners",subtitle:Dh(m)}):null,O&&c?i.createElement(Ih.A,{initialValue:P,name:"allowTuners",subtitle:xh(m),title:(0,B.A)("Live TV & DVR Access"),transformValue:Nh,value:Sh.A.values[P],values:Sh.A.values}):null),d&&u?i.createElement(Oh.A,{className:"ShareRestrictions-list-_QUh6m",filterOptionsTags:a,friendFilterOptions:D,isFilterOptionsTagsPopulated:s,isFilterOptionsTagsPopulating:r}):null)),i.createElement(uu.A,{className:"ShareRestrictions-modalFooter-hD0xXo ModalFooter-modalFooter-IDP5sZ"},i.createElement(cu.A,{onPress:f},(0,B.A)("Cancel")),i.createElement(mu.A,null,i.createElement(cu.A,{onPress:g},(0,B.A)("Previous")),i.createElement(gu.A,{isDisabled:p,isSpinning:p,kind:hu.jd,type:"submit"},m===Tg.CreatingUser?(0,B.A)("Add"):(0,B.A)("Send"))))))};var Rh=Object.defineProperty,Fh=Object.getOwnPropertySymbols,Uh=Object.prototype.hasOwnProperty,Vh=Object.prototype.propertyIsEnumerable,jh=(e,t,n)=>t in e?Rh(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Bh=(e,t)=>{var n={};for(var a in e)Uh.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&Fh)for(var a of Fh(e))t.indexOf(a)<0&&Vh.call(e,a)&&(n[a]=e[a]);return n};class Hh extends i.Component{componentDidMount(){const{serverEntityIDs:e,dispatchFetchFilterOptionsTags:t}=this.props;t(e)}render(){const e=this.props,{serverEntityIDs:t,dispatchFetchFilterOptionsTags:n}=e,a=Bh(e,["serverEntityIDs","dispatchFetchFilterOptionsTags"]);return i.createElement(Lh,((e,t)=>{for(var n in t||(t={}))Uh.call(t,n)&&jh(e,n,t[n]);if(Fh)for(var n of Fh(t))Vh.call(t,n)&&jh(e,n,t[n]);return e})({},a))}}const zh=(0,C.Ng)((function(){return(0,it.Mz)((e=>e.ui.shareModal),bh.A,Rp(),(0,yh.A)("hasPlexPass"),(0,Ah.A)(h.X_),(0,Ah.A)(h.Yq),(0,Ah.A)(h.Px),((e,t,n,a,r,i,s)=>{const{restrictionProfileIdentifier:l,filterOptionsTags:o,isFilterOptionsTagsPopulating:c,isFilterOptionsTagsPopulated:d,isSharingPending:u,sharingError:m,isAddingHomeUser:p,isCreatingManagedUser:h,username:g}=e;return{serverEntityIDs:t,friend:n,filterOptionsTags:o,isFilterOptionsTagsPopulating:c,isFilterOptionsTagsPopulated:d,canAddToHome:a&&!p&&!h,canShareTunersWithFriends:r,canShareDVR:i,canShowRestrictions:s,canShowRestrictionsFilters:!l||l===Eh.Tc,isSharingPending:u&&!m,errorMessage:m,username:g}}))}),(function(e){return{dispatchFetchFilterOptionsTags(t){e((0,yp.eo)({serverEntityIDs:t}))},onPreviousPress(){e((0,yp.X2)())},onSubmit(t){const n=t,{addToHome:a}=n,r=Bh(n,["addToHome"]);e((0,yp.r4)({addToHome:a,restrictions:r}))}}}))(Hh);var _h=n(24077),Wh=n(93915),Gh=n(62907),Kh=n(95535);const qh=()=>{},$h=(0,C.Ng)((function(){return(0,it.Mz)((e=>e.ui.shareModal),(0,Ah.A)(h.IP),((e,t)=>{const{username:n,metadataItemEntityID:a,serverOverviews:r,selectedAllLibrariesMachineIdentifiers:i,selectedLibrarySectionIDs:s,inviteToken:l,inviteTokenError:o}=e;return{username:n,inviteToken:l,inviteTokenError:o,libraryCount:i?i.reduce(((e,t)=>e+r.find((e=>e.machineIdentifier===t)).sections.length),s.length):null,isSharingSingleItem:!!a,hasNewSharingInvitationFeature:t}}))}))((function(e){const{sourceDirectory:t,metadataItem:n,username:a,inviteToken:r,inviteTokenError:s,libraryCount:l,isSharingSingleItem:o,sharingReason:c,hasNewSharingInvitationFeature:d,onModalClose:u}=e,m=(0,i.useRef)(null),p=function(e,t,n){if(n){const n={inviteToken:e};return t?n.sharedItems=1:n.sharedServers=1,Wh.A.join([(0,_h.zN)(!0),"#!"],n,{trailingSlash:!0})}return Wh.A.join((0,_h.VK)("servers/shared_servers/accept"),{invite_token:e})}(r,o,d),{copyToClipboard:h,copyState:g,resetCopyState:v}=(0,Kh.A)(p);let f;(0,i.useEffect)((()=>(g===Kh.T.Done&&(m.current=window.setTimeout((()=>{v(),window.clearTimeout(m.current)}),2e3)),()=>{window.clearTimeout(m.current)})),[v,g]),f=n?(0,B.A)("You shared {metadataTitle} with {username}.",{metadataTitle:(0,Ep.A)(n,Et.w),username:a}):0===l||c===Tg.AddingUser?(0,B.A)("We've sent an invite to {username}.",{username:a}):1===l?(0,B.A)("You shared a library with {username}.",{username:a}):(0,B.A)("You shared {libraryCount} libraries with {username}.",{libraryCount:l,username:a});const b=(n||l)&&!s;return i.createElement("div",{className:"ShareSummary-container-LUhNGZ"},i.createElement(Sp,{isSharingSingleLibrary:!!t,metadataItem:n,sharingReason:c,onModalClose:u},i.createElement(du.A,{className:"ShareSummary-modalBody-BfoCK_ ModalBody-modalBody-Me4Hwy",scrollDirection:Ap.x3},i.createElement("div",{className:"ShareSummary-content-iJjXeF"},i.createElement("p",null,f),b?i.createElement("p",null,(0,B.A)("We've sent an email asking them to confirm, or they can use this link to accept the invitation"),":"):null,s?i.createElement("div",null,s):null,b?i.createElement("div",{className:"ShareSummary-inviteLink-nkl9Nf"},i.createElement(Gh.A,{className:"ShareSummary-input-VXN0Js TextInput-input-NqTdW3 input-input-XAtklw",name:"inviteLink",readOnly:"readonly",value:p,onChange:qh}),i.createElement(Xt.A,{className:"ShareSummary-copyLink-QFToBy Link-link-SxPFpG",isDisabled:g===Kh.T.Done||!!s,kind:hu.jd,onPress:h},g===Kh.T.Done?(0,B.A)("Copied!"):(0,B.A)("Copy link"))):null)),i.createElement(uu.A,null,i.createElement(mu.A,null,i.createElement(cu.A,{kind:hu.jd,onPress:u},(0,B.A)("Finish"))))))}));var Jh=n(3752);const Qh={};var Yh=n(47601),Xh=n(17279),Zh=n(65468);function eg(e){const t=e["aria-label"],n=e.className,a=e.style,r={viewBox:"0 0 129 100",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-check"};r["aria-hidden"]=!t,r.style=a,r.className=Zo.A.plexIcon+(n?" "+n:"");const s=[i.createElement.apply(i,["path",{d:"m111.162 0l17.838 17.227-79.928 82.773-49.072-52.714 18.136-16.912 31.292 33.558 61.734-63.932"}].concat([]))];return t&&s.unshift(i.createElement("title",null,t)),i.createElement.apply(i,["svg",r].concat(s))}eg.propTypes={"aria-label":Xo().string,className:Xo().string,style:Xo().object};const tg=eg;var ng=n(22559);function ag(){return Eh.DI().map((e=>({[e.identifier]:e.title})))}function rg(e){const{className:t,name:n,value:a,hasPlexPass:r,onChange:s}=e,l=(0,i.useMemo)(ag,[]);return i.createElement("div",null,i.createElement(cr.A,null,(0,B.A)("Restriction Profile")),i.createElement(ng.A,{className:t,name:n,size:Ze.o5,value:a,values:l,onChange:s}),i.createElement("div",{className:"RestrictionProfilesInput-subtitle-y4vSql"},r?(0,B.A)("Younger Kid allows TV-Y, G, TV-G and equivalent; Older Kid allows TV-PG, PG and equivalent; Teen allows TV-14, PG-13 and equivalent. Pick None to choose your own ratings and manage other Media Server permissions."):(0,B.A)("Younger Kid allows TV-Y, G, TV-G and equivalent; Older Kid allows TV-PG, PG and equivalent; Teen allows TV-14, PG-13 and equivalent. With a Plex Pass, you can choose your own ratings and manage other Media Server permissions.")))}rg.defaultProps={className:"RestrictionProfilesInput-input-qqR0eD SelectInput-input-EWuFb5 input-input-XAtklw"};const ig=(0,zp.A)(rg);var sg=n(40802);var lg=Object.defineProperty,og=(e,t,n)=>(((e,t,n)=>{t in e?lg(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);function cg(e){return e.includes("@")}function dg(e,t){return!e.home&&t.home?1:e.home&&!t.home?-1:0}function ug(e){return{id:-1,title:e.trim(),thumb:(0,_h.VK)(`/users/${encodeURIComponent(e)}/avatar`)}}class mg extends i.Component{constructor(e,t){super(e,t),og(this,"_timeoutID"),og(this,"isUserSelected",(e=>this.state.selectedFriendID===e.id||!this.state.selectedFriendID&&this.state.username===e.title)),og(this,"onUsernameChange",(e=>{this._clearOnUsernameChangeTimeout(),this.setState({username:e,selectedFriendID:null,isChangingUsername:!0},(()=>{this.props.sharingReason!==Tg.CreatingUser&&(this._timeoutID=window.setTimeout((()=>{this._timeoutID=null,this.props.onValidateUsername({username:e})}),500))}))})),og(this,"onUserSelect",(e=>{this.setState({selectedFriendID:e===this.state.selectedFriendID?null:e})})),og(this,"onRestrictionProfileSelect",(e=>{this.setState({restrictionProfileIdentifier:e})})),og(this,"onSubmit",(({restrictionProfileIdentifier:e})=>{const{metadataItemEntityID:t,users:n,sharingReason:a,onSetUsername:r,onSetUser:i}=this.props,{username:s,selectedFriendID:l}=this.state;l&&-1!==l?i({metadataItemEntityID:t,friendEntityID:n.find((e=>e.id===l)).entityID,isAddingHomeUser:a===Tg.AddingUser}):r({metadataItemEntityID:t,username:s.trim(),restrictionProfileIdentifier:e,isAddingHomeUser:a===Tg.AddingUser,isCreatingManagedUser:a===Tg.CreatingUser})})),this.state={username:e.username,selectedFriendID:null,isChangingUsername:!1,restrictionProfileIdentifier:e.restrictionProfileIdentifier}}static getDerivedStateFromProps(e,t){return t.isChangingUsername&&e.isUsernameValidating?{isChangingUsername:!1}:null}componentWillUnmount(){this._clearOnUsernameChangeTimeout()}_clearOnUsernameChangeTimeout(){this._timeoutID&&window.clearTimeout(this._timeoutID)}render(){const{serverEntityID:e,sourceDirectory:t,metadataItem:n,users:a,existingHomeUsernames:r,hasNextStep:s,hasPlexPass:l,sharingReason:o,isUsernameValidating:c,isUsernameValidated:d,isSharingPending:u,sharingError:m,onModalClose:p}=this.props,{username:h,selectedFriendID:g,isChangingUsername:v,restrictionProfileIdentifier:f}=this.state,b=function(e,t,n){const{sourceDirectory:a,metadataItem:r,sharingReason:i}=n,s=t.trim().toUpperCase(),l=e.filter((e=>(i!==Tg.AddingUser||!e.home)&&!(!a&&!r&&i!==Tg.AddingUser&&i!==Tg.CreatingUser)&&(e.username&&e.username.toUpperCase().includes(s)||e.title&&e.title.toUpperCase().includes(s)||e.email&&e.email.toUpperCase().includes(s))));return l.sort(dg),l}(a,h,this.props),y=!d||v||function(e,t){return!!e.find((e=>e.username===t||e.title===t||e.email===t))}(b,h)?b:[ug(h),...b],A=!c&&!d,E=!!a.find((e=>e.username===h||e.email===h)),S=v||c||A&&!cg(h),w=""!==h.trim()&&o!==Tg.CreatingUser&&0===y.length&&A&&!v,C=o===Tg.CreatingUser&&r.includes(h.trim()),P=E&&!t&&!n&&o!==Tg.AddingUser&&o!==Tg.CreatingUser;let D;var x;let k;w?D=cg(x=h)?(0,B.A)("An invite will be sent to {emailAddress}",{emailAddress:x.trim()}):(0,B.A)("No Plex users found. Enter a valid email address to invite someone new"):C?D=(0,B.A)("A Home user already exists with this name"):P&&(D=(0,B.A)("{username} is already a friend",{username:h})),k=!n&&s?(0,B.A)("Continue"):o===Tg.CreatingUser?(0,B.A)("Add"):(0,B.A)("Send");let O=(0,B.A)("Name");o!==Tg.CreatingUser&&(O="Username or email");const I=P||!g&&(u||""===h.trim()||o!==Tg.CreatingUser&&S||C);return i.createElement(or.Ay,{className:"ShareUsers-form-ASvZyT",onSubmit:this.onSubmit},i.createElement(Sp,{errorMessage:m,isSharingSingleLibrary:!!t,metadataItem:n,sharingReason:o,onModalClose:p},i.createElement(du.A,{className:"ShareUsers-modalBody-wUd1lu ModalBody-modalBody-Me4Hwy",scrollDirection:Ap.x3},i.createElement("div",{className:"ShareUsers-messages-Heuigp"},i.createElement("div",null,function(e,t){switch(e){case Tg.AddingUser:return(0,B.A)("Users in your Plex Home appear on the Switch User screen. The invited user will be asked to confirm Home membership.");case Tg.CreatingUser:return(0,B.A)("Managed family accounts are only available when signed in with an account in your home. You can choose any name you like and you'll be able to set restrictions on accessible media.");case Tg.SharingLibrary:return(0,B.A)("Choose a user to grant library access to. You can enter their Plex username or email. New users will be asked to accept the invitation. After doing this, you may grant access to your Plex Media Server libraries and media items.");case Tg.SharingItem:return t?(0,B.A)("Give access to {title} by selecting a friend or entering the email of a new user and inviting them to Plex. New users will be asked to accept the invitation. ",{title:(0,Ep.A)(t,Et.w)}):"";case Tg.None:return""}}(o,n))),i.createElement("div",{className:"ShareUsers-inputContainer-Dl0Vrc"},i.createElement(Gh.A,{autoComplete:"off",focusOnMount:!0,name:"username",placeholder:O,value:h,onChange:this.onUsernameChange}),c?i.createElement(jp.A,{className:"ShareUsers-icon-qJgu9o",size:Ze.o5}):null,d?i.createElement(tg,{className:"ShareUsers-checkIcon-YT4uL4 ShareUsers-icon-qJgu9o"}):null),i.createElement("div",{className:"ShareUsers-warningMessage-iZoyPT"},D),o===Tg.CreatingUser?i.createElement(ig,{className:"ShareUsers-restrictionsInput-ZR8ogN RestrictionProfilesInput-input-qqR0eD SelectInput-input-EWuFb5 input-input-XAtklw",hasPlexPass:l,initialValue:f,name:"restrictionProfileIdentifier",onChange:this.onRestrictionProfileSelect}):null,o!==Tg.CreatingUser&&y.length>0?i.createElement(i.Fragment,null,i.createElement(cr.A,null,(0,B.A)("Friends")),i.createElement(sg.A,{className:"ShareUsers-list-O6EmUJ UserList-list-eprPYu Scroller-vertical-nKq0Q8",isUserSelected:this.isUserSelected,serverEntityID:e,users:y,onUserSelect:this.onUserSelect})):null),i.createElement(uu.A,null,i.createElement(mu.A,null,i.createElement(cu.A,{onPress:p},(0,B.A)("Cancel")),i.createElement(gu.A,{isDisabled:I,isSpinning:u,kind:hu.jd,type:"submit"},k)))))}}const pg=mg;var hg=Object.defineProperty,gg=Object.getOwnPropertySymbols,vg=Object.prototype.hasOwnProperty,fg=Object.prototype.propertyIsEnumerable,bg=(e,t,n)=>t in e?hg(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const yg=(0,it.Mz)(Yh.A,function(e){if(Qh[e])return Qh[e];const t=(0,it.Mz)(Jh.A,(t=>t[e]));return Qh[e]=t,t}("homeUsers"),((e,t)=>t.map((t=>e[t].title)))),Ag={dispatchFetchAllFriends:Zh.tX,onValidateUsername:yp.TU,onSetUsername:yp.P,onSetUser:yp.gV},Eg=(0,C.Ng)((function(){return(0,it.Mz)((e=>e.ui.shareModal),Xh.A,Lp.A,yg,(0,yh.A)("hasPlexPass"),((e,t,n,a,r)=>{const{steps:i,username:s,restrictionProfileIdentifier:l,isNewFriend:o,isUsernameValidating:c,isUsernameValidated:d,isSharingPending:u,sharingError:m}=e;return{username:s,restrictionProfileIdentifier:l,users:t.map((e=>n[e])),existingHomeUsernames:a,hasNextStep:(0,yp.m7)(i,bp.B.USER),hasPlexPass:r,isNewFriend:o,isUsernameValidating:c,isUsernameValidated:d,isSharingPending:u&&!m,sharingError:m}}))}),Ag)((function(e){const t=e,{dispatchFetchAllFriends:n}=t,a=((e,t)=>{var n={};for(var a in e)vg.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&gg)for(var a of gg(e))t.indexOf(a)<0&&fg.call(e,a)&&(n[a]=e[a]);return n})(t,["dispatchFetchAllFriends"]);return(0,i.useEffect)((()=>{n()}),[n]),i.createElement(pg,((e,t)=>{for(var n in t||(t={}))vg.call(t,n)&&bg(e,n,t[n]);if(gg)for(var n of gg(t))fg.call(t,n)&&bg(e,n,t[n]);return e})({},a))}));var Sg=Object.defineProperty,wg=Object.getOwnPropertySymbols,Cg=Object.prototype.hasOwnProperty,Pg=Object.prototype.propertyIsEnumerable,Dg=(e,t,n)=>t in e?Sg(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,xg=(e,t)=>{for(var n in t||(t={}))Cg.call(t,n)&&Dg(e,n,t[n]);if(wg)for(var n of wg(t))Pg.call(t,n)&&Dg(e,n,t[n]);return e};const kg={dispatchInitShareModal:yp.x7,dispatchResetShareModal:yp.oz};class Og extends i.Component{componentDidMount(){const{metadataItemEntityID:e,sharingReason:t,dispatchInitShareModal:n}=this.props;n({metadataItemEntityID:e,isAddingHomeUser:t===Tg.AddingUser,isCreatingManagedUser:t===Tg.CreatingUser})}componentDidUpdate(e,t){const{steps:n,step:a,isSharingCompleted:r,onModalClose:i}=this.props,s=!e.isSharingCompleted&&r,l=(0,yp.kR)(n,a);s&&a!==bp.B.SUMMARY&&!l&&i()}componentWillUnmount(){this.props.dispatchResetShareModal()}render(){const e=this.props,{step:t,dispatchResetShareModal:n}=e,a=((e,t)=>{var n={};for(var a in e)Cg.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&wg)for(var a of wg(e))t.indexOf(a)<0&&Pg.call(e,a)&&(n[a]=e[a]);return n})(e,["step","dispatchResetShareModal"]);switch(t){case bp.B.WARNING:return i.createElement(Ip,xg({},a));case bp.B.USER:return i.createElement(Eg,xg({},a));case bp.B.LIBRARIES:return i.createElement(fh,xg({},a));case bp.B.RESTRICTIONS:return i.createElement(zh,xg({},a));case bp.B.SUMMARY:return i.createElement($h,xg({},a));default:return null}}}const Ig=(0,C.Ng)((function(){return(0,it.Mz)((e=>e.ui.shareModal),(0,fp.A)(),((e,t)=>({steps:e.steps,step:e.step,friendEntityID:e.friendEntityID,isSharingCompleted:e.isSharingCompleted,metadataItem:t})))}),kg)(Og);var Tg=(e=>(e[e.None=0]="None",e[e.AddingUser=1]="AddingUser",e[e.CreatingUser=2]="CreatingUser",e[e.SharingLibrary=3]="SharingLibrary",e[e.SharingItem=4]="SharingItem",e))(Tg||{});const Mg=function(e){const{serverEntityID:t,metadataItemEntityID:n,sourceDirectory:a,metricsProperties:r,sharingReason:s,isOpen:o,onModalClose:c}=e;return i.createElement(iu.A,{isOpen:o,metricsPage:l.F3,metricsProperties:r,onModalClose:c},i.createElement(Ig,{metadataItemEntityID:n,serverEntityID:t,sharingReason:s,sourceDirectory:a,onModalClose:c}))};function Ng(e){const{target:t,isOpen:n,contentDirectory:a,onMenuClose:r,onMenuCloseComplete:s}=e,[o,d]=(0,_e.Ss)(),{metricsPage:u,metricsContextTuple:m}=(0,c.Mp)(),p=(0,Rl.A)(),h=(0,Rl.A)(),g=(0,Rl.A)(),v=(0,Rl.A)(),f=(0,Rl.A)(),b=au({server:o,provider:d}),y=(0,i.useMemo)((()=>({page:u,contextTuple:m})),[m,u]),A=(0,i.useCallback)((()=>{b(lp.Mm({contentDirectory:a}))}),[a,b]),E=(0,i.useCallback)((()=>{b(lp.gA({contentDirectory:a}))}),[a,b]),S=(0,i.useCallback)((()=>{b(lp.z6({contentDirectory:a}))}),[a,b]),w=(0,i.useCallback)((()=>{b(lp.Ht({contentDirectory:a}))}),[a,b]),C=(0,i.useCallback)((()=>{b(lp.P9({contentDirectory:a}))}),[a,b]);return i.createElement(i.Fragment,null,i.createElement($e.A,{isOpen:n,target:t,onMenuClose:r,onMenuCloseComplete:s},i.createElement(vp.A,{machineIdentifier:e.machineIdentifier,server:o,sourceDirectory:e.contentDirectory,onMenuClose:r}),i.createElement(hp.A,{onPress:(0,gp.A)(r,p.onOpen)},(0,B.A)("Grant Access")),i.createElement(hp.A,{onPress:(0,gp.A)(r,A)},(0,B.A)("Scan Library Files")),i.createElement(hp.A,{onPress:(0,gp.A)(r,h.onOpen)},(0,B.A)("Analyze")),i.createElement(hp.A,{onPress:(0,gp.A)(r,g.onOpen)},(0,B.A)("Refresh All Metadata")),i.createElement(hp.A,{onPress:(0,gp.A)(r,v.onOpen)},(0,B.A)("Empty Trash")),i.createElement(hp.A,{kind:hu.Ol,onPress:(0,gp.A)(r,f.onOpen)},(0,B.A)("Delete"))),i.createElement(Mg,{isOpen:p.isOpen,metricsProperties:y,serverEntityID:o.entityID,sharingReason:Tg.SharingLibrary,onModalClose:p.onClose}),i.createElement(ru.A,{confirmLabel:(0,B.A)("Analyze"),isOpen:h.isOpen,message:(0,B.A)("Analyzes all the media files in the library. The analysis captures information about the media which helps Plex decide how to optimally play back the media."),metricsPage:l.uW,title:(0,B.A)("Analyze Library"),onCancel:h.onClose,onConfirm:(0,gp.A)(h.onClose,E)}),i.createElement(ru.A,{confirmLabel:(0,B.A)("Refresh"),isOpen:g.isOpen,message:(0,B.A)("Forces a download of fresh media information from the internet. This can take a long time. Any locked fields are not modified."),metricsPage:l.b4,title:(0,B.A)("Refresh All Metadata"),onCancel:g.onClose,onConfirm:(0,gp.A)(g.onClose,S)}),i.createElement(ru.A,{confirmLabel:(0,B.A)("Empty"),isOpen:v.isOpen,message:(0,B.A)("By default the media server doesn't remove information for media right away. This helps if a drive is temporarily disconnected. When you empty the trash for a section, all information about missing media is deleted."),metricsPage:l.C6,title:(0,B.A)("Empty Trash"),onCancel:v.onClose,onConfirm:(0,gp.A)(v.onClose,w)}),i.createElement(ru.A,{accordMessage:(0,B.A)('Yes, delete the library "{libraryName}"',{libraryName:a.title}),confirmLabel:(0,B.A)("Delete"),isOpen:f.isOpen,kind:hu.Ol,message:(0,B.A)('The library "{libraryName}" will be removed from this server. Your media files will not be affected. This can\'t be undone. Continue?',{libraryName:a.title}),metricsPage:l.zA,title:(0,B.A)("Delete Library"),onCancel:f.onClose,onConfirm:(0,gp.A)(f.onClose,C)}))}var Lg=n(61201);const Rg={dismiss:"PromotionWarningModal-dismiss-ExKYqG"},Fg="hasDismissedHubPromotionWarning";function Ug({isOpen:e,onClose:t,onAccept:n}){const a=(0,C.wA)(),[r,s]=(0,i.useState)(!1),l=(0,C.d4)((0,We.A)(Fg));(0,i.useEffect)((()=>{e&&l&&n()}),[e,l,n,t]);const o=(0,i.useCallback)((()=>s(!r)),[r]),c=(0,i.useCallback)((()=>{r&&(0,j.Cc)((()=>{a((0,na.hg)({[Fg]:!0}))})),n()}),[a,r,n]);return l?null:i.createElement(ia.A,{isOpen:e,size:wt.A.Small,onModalClose:t},i.createElement(la.A,{onModalClose:t},i.createElement(oa.A,null,(0,B.A)("Add to Friends' Home?")),i.createElement(sa.A,null,(0,B.A)("Matching items from this library will appear on your friends Home screens as long as they have this library pinned to the sidebar. Be nice.")),i.createElement(Sr.A,null,i.createElement("label",{key:"dismiss",className:Rg.dismiss},i.createElement(Pc.A,{checked:r,name:"dismiss",onChange:o}),i.createElement("span",null,(0,B.A)("Don't show again"))),i.createElement(wr.A,null,i.createElement(Er.A,{onPress:t},(0,B.A)("Cancel")),i.createElement(Er.A,{kind:Cr.A.Primary,onPress:c},(0,B.A)("Accept"))))))}var Vg=n(45);const jg={row:"LibraryHubListItem-row-TUQ_nm",delete:"LibraryHubListItem-delete-gjWZs0",draggingRow:"LibraryHubListItem-draggingRow-_HLf1d LibraryHubListItem-row-TUQ_nm",isActive:"LibraryHubListItem-isActive-RK_9Ff",handle:"LibraryHubListItem-handle-FUudvC",title:"LibraryHubListItem-title-I8jtgE",titleText:"LibraryHubListItem-titleText-mx6RNU",inputs:"LibraryHubListItem-inputs-BPbzw4",input:"LibraryHubListItem-input-xUh9sN"};var Bg=Object.defineProperty,Hg=Object.defineProperties,zg=Object.getOwnPropertyDescriptors,_g=Object.getOwnPropertySymbols,Wg=Object.prototype.hasOwnProperty,Gg=Object.prototype.propertyIsEnumerable,Kg=(e,t,n)=>t in e?Bg(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,qg=(e,t)=>{for(var n in t||(t={}))Wg.call(t,n)&&Kg(e,n,t[n]);if(_g)for(var n of _g(t))Gg.call(t,n)&&Kg(e,n,t[n]);return e},$g=(e,t)=>Hg(e,zg(t));function Jg({sourceURI:e,index:t,options:n,isDragging:a,onRemoveItem:r}){const s=(0,C.wA)(),[l]=(0,_e.Ss)(),o=(0,Rl.A)(),[c,d,u]=(0,mp.A)(),m=(0,i.useCallback)((t=>{s(Jm.A.actions.promoteRequested({server:l,sourceURI:e,options:n,promoted:t}))}),[s,n,l,e]),p=(0,i.useCallback)((e=>{m({promotedToRecommended:e.target.checked})}),[m]),h=(0,i.useCallback)((e=>{m({promotedToOwnHome:e.target.checked})}),[m]),g=(0,i.useCallback)((e=>{m({promotedToSharedHome:e.target.checked})}),[m]),v=(0,i.useCallback)((()=>r(t)),[t,r]),f=(0,i.useCallback)((()=>{o.isOpen&&o.onClose(),m({promotedToSharedHome:!0})}),[o,m]),b=`${e}-${n.identifier}`,y=`${b}-recommended`,A=`${b}-ownHome`,E=`${b}-sharedHome`;return i.createElement(Lg.sx,{draggableId:n.identifier,index:t},((e,r)=>i.createElement("div",$g(qg(qg({ref:e.innerRef},e.draggableProps),e.dragHandleProps),{onBlur:u,onFocus:d}),i.createElement(pp.A,{isAlternate:!a&&t%2==0},i.createElement("div",{className:ma()(r.isDragging?jg.draggingRow:jg.row,c&&jg.isActive)},i.createElement("div",{className:jg.handle},i.createElement(Vg.A,null)),i.createElement("div",{className:jg.title},i.createElement("div",{className:jg.titleText},n.title)),i.createElement("div",{className:jg.inputs},i.createElement("label",{className:jg.input,htmlFor:y},i.createElement(Pc.A,{checked:n.promotedToRecommended,name:y,onChange:p})),i.createElement("label",{className:jg.input,htmlFor:A},i.createElement(Pc.A,{checked:n.promotedToOwnHome,name:A,onChange:h})),i.createElement("label",{className:jg.input,htmlFor:E},i.createElement(Pc.A,{checked:n.promotedToSharedHome,name:E,onChange:n.promotedToSharedHome?g:o.onOpen})),i.createElement("div",{className:jg.delete},n.deletable?i.createElement(ka.A,{"aria-label":(0,B.A)("Remove Hub"),className:jg.remove,onPress:v},i.createElement(bs.A,null)):null)))),i.createElement(Ug,{isOpen:o.isOpen,onAccept:f,onClose:o.onClose}))))}const Qg=function(e){return(0,it.Mz)(Qm.A,(t=>t.hubs[e]))},Yg={footer:"LibraryHubList-footer-i4CeY1",info:"LibraryHubList-info-nNjqwj",action:"LibraryHubList-action-XRV1f5 Link-link-vSsQW1",reset:"LibraryHubList-reset-VSCvcb",resetIcon:"LibraryHubList-resetIcon-_ZMBMT"};var Xg=Object.defineProperty,Zg=Object.getOwnPropertySymbols,ev=Object.prototype.hasOwnProperty,tv=Object.prototype.propertyIsEnumerable,nv=(e,t,n)=>t in e?Xg(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,av=(e,t)=>{for(var n in t||(t={}))ev.call(t,n)&&nv(e,n,t[n]);if(Zg)for(var n of Zg(t))tv.call(t,n)&&nv(e,n,t[n]);return e};function rv({sourceURI:e}){const t=(0,C.wA)(),[n]=(0,_e.Ss)(),a=(0,C.d4)(Qg(e)),r=(0,i.useMemo)((()=>{var e;return null!=(e=null==a?void 0:a.options)?e:[]}),[null==a?void 0:a.options]),s=(0,i.useCallback)((a=>{var i;const s=r.findIndex((({identifier:e})=>e===a.draggableId)),l=null==(i=a.destination)?void 0:i.index;if(!l||l===s)return;const o=Array.from(r),[c]=o.splice(s,1);o.splice(l,0,c),(0,j.Cc)((()=>t(Jm.A.actions.reorderRequested({server:n,sourceURI:e,options:o,fromIndex:s,toIndex:l}))))}),[t,r,n,e]),l=(0,i.useCallback)((a=>{const i=Array.from(r),[s]=i.splice(a,1);t(Jm.A.actions.removeRequested({server:n,sourceURI:e,options:i,removed:s,index:a}))}),[t,r,n,e]),o=(0,i.useCallback)((()=>{t(Jm.A.actions.resetRequested({server:n,sourceURI:e}))}),[t,n,e]);return(0,i.useEffect)((()=>{t(Jm.A.actions.hubsFetchRequested({server:n,sourceURI:e}))}),[t,n,e]),i.createElement("div",null,i.createElement(Lg.JY,{onDragEnd:s},i.createElement(Lg.gL,{droppableId:e},((t,n)=>i.createElement("div",av({ref:t.innerRef},t.droppableProps),r.map(((t,a)=>i.createElement(Jg,{key:t.identifier,index:a,isDragging:n.isDraggingOver,options:t,sourceURI:e,onRemoveItem:l}))),t.placeholder)))),r.length?i.createElement("div",{className:Yg.footer},i.createElement("div",{className:Yg.info},(0,B.A)("Sources need to be pinned to the apps sidebar for selected recommendations to display on the Home screen")),i.createElement("div",{className:Yg.reset},i.createElement(ka.A,{className:Yg.action,onPress:o},i.createElement(zu,{className:Yg.resetIcon}),(0,B.A)("Reset Customization")))):null)}var iv=n(57900),sv=n(70622);const lv="ManageLibrarySummary-row-iojAcf",ov="ManageLibrarySummary-alternateRow-Rgiub1 ManageLibrarySummary-row-iojAcf",cv="ManageLibrarySummary-underlay-xMV7ze Link-link-vSsQW1",dv="ManageLibrarySummary-overlay-x3e43N",uv="ManageLibrarySummary-iconContainer-HTkIxP",mv="ManageLibrarySummary-title-ItguOF",pv="ManageLibrarySummary-actions-q7ay8e",hv="ManageLibrarySummary-action-hSqGTp Link-link-vSsQW1",gv="ManageLibrarySummary-visible-HgkSKI",vv="ManageLibrarySummary-header-KGx8zc",fv="ManageLibrarySummary-columnHeader-hvnXE9",bv="ManageLibrarySummary-headerIcon-rxc40B",yv="ManageLibrarySummary-upgradeText-YKuIeo",Av="ManageLibrarySummary-upgradeTextHovered-pH9kcs ManageLibrarySummary-upgradeText-YKuIeo";function Ev(e){var t;const{index:n,contentDirectory:a}=e,[r,s]=(0,_e.Ss)(),l=(0,ip.A)(),[o,c,d]=(0,mp.A)(),[m,p]=(0,Oa.A)(),g=(0,Rl.A)(),v=(0,Rl.A)(),f=(0,$m.A)({serverIdentifier:r.machineIdentifier,key:(0,iv.A)(a.id)}),b=o||m||g.isOpen||v.isOpen,y=(0,sp.A)(r,s,a),{title:A}=a,E=au({server:r,provider:s}),S=(0,up.A)(r,a),w=(0,C.d4)(Qg(f)),P=Ge(null==w?void 0:w.isPending,!0),D=null==(t=r.ownerFeatures)?void 0:t.includes(h.$g),{Modal:x,onOpen:k}=(0,sv.j)(e.machineIdentifier,e.contentDirectory),O=(0,i.useCallback)((()=>{E(lp.a2({contentDirectory:a}))}),[a,E]),I=a.type?(0,dp.o)(a.type):null,T=a.type!==Da.QD.Movie||a.agent!==ap.x3&&a.agent!==ap.qE?a.type:Da.QD.Clip,M=null!=I?I:T,N=M?i.createElement(cp.A,{type:M}):null,{hasPlexMusicUpgrade:L,hasPlexMovieUpgrade:R,hasPlexSeriesUpgrade:F}=(0,op.A)(r,a),U=L||R||F;return i.createElement(i.Fragment,null,i.createElement(pp.A,{ref:p,alternateClassName:ov,className:lv,isAlternate:!!(n%2),isHovered:m||o,onBlur:d,onFocus:c},i.createElement(ka.A,{"aria-label":(0,B.A)("Manage {libraryTitle}",{libraryTitle:A}),className:cv,onPress:D?v.onToggle:O}),i.createElement("div",{className:dv},i.createElement("div",{className:uv},S?i.createElement(St.A,{size:wt.A.Small}):N),i.createElement(ka.A,{className:mv,title:A,to:y},A),U&&!v.isOpen?i.createElement(ka.A,{className:hv,kind:Cr.A.Primary,onPress:k},i.createElement(u.I1,{gap:"xs",verticalAlign:"center"},i.createElement(Ja.default,{color:"alert"}),i.createElement("span",{className:m||b?Av:yv},(0,B.A)("Library Upgrade Required")))):null,i.createElement("div",{className:ma()(pv,b&&gv)},v.isOpen?i.createElement("div",{className:vv},(null==w?void 0:w.options.length)?i.createElement(i.Fragment,null,i.createElement("span",{className:fv,title:(0,B.A)("Library Recommended")},(0,B.A)("Library Recommended")),i.createElement("span",{className:fv,title:(0,B.A)("Home")},(0,B.A)("Home")),i.createElement("span",{className:fv,title:(0,B.A)("Friends' Home")},(0,B.A)("Friends' Home"))):null,i.createElement(ka.A,{className:hv,onPress:v.onClose},i.createElement("span",{className:bv},P?i.createElement(St.A,{size:wt.A.Small}):i.createElement(rp.A,{direction:Xe.UP})))):i.createElement("div",{className:vv},D?i.createElement(ka.A,{className:hv,onPress:v.onOpen},i.createElement(rp.A,{direction:Xe.PX}),(0,B.A)("Manage Recommendations")):null,i.createElement(ka.A,{className:hv,onPress:O},i.createElement(u.I1,{gap:"xxs",verticalAlign:"center"},i.createElement(tp.default,null),(0,B.A)("Edit Library"))),i.createElement(ka.A,{"aria-label":(0,B.A)("More Actions"),className:hv,"data-testid":"metadataRowMoreButton",id:l,onPress:g.onToggle},i.createElement("span",{className:bv},i.createElement(np.default,null)))))),i.createElement(Ng,{contentDirectory:a,isOpen:g.isOpen,machineIdentifier:e.machineIdentifier,providerEntityID:e.providerEntityID,target:l,onMenuClose:g.onClose})),v.isOpen?i.createElement(rv,{sourceURI:f}):null,i.createElement(x,null))}const Sv="ManageLibrariesPane-button-kgL9Jd";var wv=n(7632),Cv=n(50421),Pv=n(89093),Dv=n(90755),xv=n(78181),kv=n(14345),Ov=n(87152),Iv=n(53690);const Tv=wv.A.extend({name:"DeprecatedPluginModel",context:["server","channel"],idAttribute:"key",url(){return this.id?this.id:this.identifierUrl(this.get("identifier"))},identifierUrl:e=>`/:/plugins/${e}/root`,syncedAttrs:{key:Cv.A.string,identifier:Cv.A.string,type:Cv.A.string,name:Cv.A.string,title1:Cv.A.string,title2:Cv.A.string,message:Cv.A.string,summary:Cv.A.string,thumb:Cv.A.string,art:Cv.A.string,prefsKey:Cv.A.string,searchKey:Cv.A.string,installed:Cv.A.boolean,noCache:Cv.A.boolean,allowSync:Cv.A.boolean,hasPrefs:Cv.A.boolean,hasStoreServices:Cv.A.boolean,share:Cv.A.boolean,lastAccessedAt:Cv.A.integer},syncedRelations:{metadataList:{relationClass:xv.A,attrs(e){return{containerKey:e.key?e.key:this.identifierUrl(e.identifier)}},options(e){return{channel:this,skipCache:!0}}}},derivedAttrs:{title(){return this.get("name")||this.get("title2")||this.get("title1")}},augmentResponseText:(e,t)=>t===kv._n?(0,Ov.A)(e,{includeDirectories:!0}):e,augmentResponse(e){if(this.has("key")&&(e.key=this.get("key")),"none"===e.key&&delete e.key,e.key){const t=e.key.match(/^\/(\w+)\//);t&&(e.type=t[1])}e.title&&(e.name=e.title);const t=Iv.A.parseArray(e.Metadata);for(let n=t.length-1;n>=0;n--){const a=t[n];(a.settings||a.search)&&(e[a.settings?"prefsKey":"searchKey"]=a.key,t.splice(n,1))}return e.Metadata=t,e.metadataList=e,e}}),Mv=Dv.A.extend({name:"DeprecatedPluginCollection",context:["server","channel"],model:Tv,url(){return this.containerKey},comparator:e=>e.get("title").toLowerCase(),filterByType(e){const t=this.filter((t=>t.get("type")===e));return this.clone(t)}}),Nv=wv.A.extend({mixins:[Pv.A],name:"DeprecatedPluginListModel",context:["server"],idAttribute:"key",collectionName:"channels",url(){const e=this.get("key")||Wh.A.join(["/channels",this.get("subset")]);return this.getPaginatedUrl(e)},sessionAttrs:{key:Cv.A.string,subset:Cv.A.oneOf("all","recentlyViewed"),currentPageStart:Cv.A.integer,currentPageSize:Cv.A.integer,populatedRange:Cv.A.object},syncedAttrs:{totalSize:Cv.A.integer,viewGroup:Cv.A.string,title1:Cv.A.string,title2:Cv.A.string},syncedRelations:{channels:{relationClass:Mv,rootPropertyName:"Directory",setOptions:e=>({remove:e.remove,at:e.at})}},defaults:()=>({subset:"all",populatedRange:{start:0,end:0,size:0}}),initialize(){this.startPopulatedRangeMonitor()}});var Lv=n(86213),Rv=n(64485),Fv=n.n(Rv),Uv=n(27865),Vv=n(23829),jv=n(18587),Bv=n.n(jv);const Hv=Vv.A.extend({name:"DeprecatedPluginSettingsModal",className:"channel-settings-modal modal fade",template:Bv(),ui:{submitBtn:".submit-btn"},events:T().extend({"change input[name]":"onInputChange","change select[name]":"onInputChange","submit #channel-settings-form":"onSubmit"},Vv.A.prototype.events),initialize:function(){Vv.A.prototype.initialize.apply(this,arguments),this.changes={}},serializeData:function(){const e=this.model.get("title")||this.model.get("name");return{escapedTitle:T().escape(e||"Preferences..."),settings:this.collection.toJSON()}},onInputChange:function(e){const t=e.currentTarget;let n=t.value;"checkbox"===t.type&&(n=t.checked),this.changes[t.name]=n},onSubmit:function(e){if(e.preventDefault(),T().isEmpty(this.changes))return void this.hide();const t=this.ui.submitBtn;if(t.hasClass("active"))return;t.addClass("active");const n=this.collection.first(),a=n.getSaveParams(this.changes),r=T().result(this.collection,"url"),i=Wh.A.join([r,"/set"],a),s=k().ajax(n.server.getXHROptions(i));s.done((()=>{this.hide()})),s.fail((()=>{me.A.trigger("show:alert",{type:"error",message:(0,B.A)("There was a problem saving these settings.")})})),s.always((()=>{t.removeClass("active")}))}});var zv=n(1306),_v=n.n(zv);const Wv=K.A.ItemView.extend({tagName:"li",className:"poster-item media-tile-list-item channel",template:_v(),ui:{poster:".media-poster"},events:{"click .settings-btn":"onSettingsClick","click .uninstall-btn":"onUninstallClick"},initialize:function(e){this.image=new ve.A({model:this.model,type:"channel",width:150}),this.shared=this.model.server.get("shared")},serializeData:function(){return{item:this.model.toJSON(),shared:this.shared}},bindings:{".media-title":{modelAttribute:"title"},".media-subtitle-1":{modelAttribute:"type",autohide:!0,formatter:e=>"video"===e?(0,B.A)("Video"):"music"===e?(0,B.A)("Music"):"photos"===e?(0,B.A)("Photo"):(0,B.A)("Utility")}},onRender:function(){this.image.setElement(this.ui.poster)},onClose:function(){this.image.close()},onSettingsClick:function(e){if(e.preventDefault(),this.$el.hasClass("active"))return;this.$el.addClass("active");const t=new Uv.A([],{server:this.model.server,url:this.model.id+"/:/prefs"}),n=t.fetch();n.done((()=>{me.A.trigger("show:modal",new Hv({model:this.model,collection:t}))})),n.always((()=>{this.$el.removeClass("active")}))},onUninstallClick:function(e){if(e.preventDefault(),this.$el.hasClass("active"))return;this.$el.addClass("active");const t=pe.A.execute("uninstallChannel",{channel:this.model});t.done((()=>{this.model.trigger("destroy",this.model,this.model.collection)})),t.always((()=>{this.$el.removeClass("active")}))}}),Gv=q.A.extend({tagName:"ul",className:"tile-list media-tile-list channel-tile-list",itemView:Wv}),Kv=K.A.Layout.extend({className:"container",template:Fv(),ui:{navLinks:".nav a"},regions:{list:".channels-container"},events:{"click .nav a":"onNavClick","click .all-btn":"onAllClick","click .video-btn":"onVideoClick","click .music-btn":"onMusicClick","click .photo-btn":"onPhotoClick"},initialize:function({deprecatedPlugins:e}){this.collection=e.get("channels"),this.videoCollection=this.collection.filterByType("video"),this.musicCollection=this.collection.filterByType("music"),this.photoCollection=this.collection.filterByType("photos")},serializeData:function(){return{serverID:this.collection.server.id,allCount:this.collection.length,hasInstalledChannels:this.collection.length>0,videoCount:this.videoCollection.length,musicCount:this.musicCollection.length,photoCount:this.photoCollection.length}},onRender:function(){this.list.show(new Gv({collection:this.collection}))},onNavClick:function(e){this.ui.navLinks.removeClass("selected"),k()(e.currentTarget).addClass("selected")},onAllClick:function(e){e.preventDefault(),this.list.show(new Gv({collection:this.collection}))},onVideoClick:function(e){e.preventDefault(),this.list.show(new Gv({collection:this.videoCollection}))},onMusicClick:function(e){e.preventDefault(),this.list.show(new Gv({collection:this.musicCollection}))},onPhotoClick:function(e){e.preventDefault(),this.list.show(new Gv({collection:this.photoCollection}))}});var qv=n(6236),$v=n(75732),Jv=n(65293);var Qv=n(548),Yv=n(92008),Xv=n(26268),Zv=n(70392),ef=n(19520),tf=n(90612);const nf=[tf.$9],af=ef.A.extend({name:"MediaServerLogEventConnection",url(){const e=this.server.get("activeConnection").id.replace(/^http/,"ws");return this.server.resolveUrl("/:/websockets/notifications",{params:{filters:"log"},connection:new Zv.A({uri:e}),appendToken:!0})},getMessageTypes:()=>nf,[tf.$9](e){(0,O.hd)("appStore").dispatch((0,Xv.EH)({message:e,serverEntityID:this.server.entityID()}))}});var rf=n(49184),sf=n(35518);var lf=Object.defineProperty,of=Object.getOwnPropertySymbols,cf=Object.prototype.hasOwnProperty,df=Object.prototype.propertyIsEnumerable,uf=(e,t,n)=>t in e?lf(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const mf=function(e){var t=e,{children:n}=t,a=((e,t)=>{var n={};for(var a in e)cf.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&of)for(var a of of(e))t.indexOf(a)<0&&df.call(e,a)&&(n[a]=e[a]);return n})(t,["children"]);return i.createElement("div",((e,t)=>{for(var n in t||(t={}))cf.call(t,n)&&uf(e,n,t[n]);if(of)for(var n of of(t))df.call(t,n)&&uf(e,n,t[n]);return e})({className:"PageHeader-pageHeader-rQ56YZ"},a),n)};var pf=n(75331),hf=n(69457),gf=n(45091),vf=n(88008),ff=n(57053);const bf=[4,3,2,1,0],yf=function(e){switch(e){case 0:return(0,B.A)("Error");case 1:return(0,B.A)("Warning");case 2:return(0,B.A)("Info");case 3:return(0,B.A)("Debug");case 4:return(0,B.A)("Verbose");default:return(0,B.A)("Unknown")}};var Af=Object.defineProperty,Ef=(e,t,n)=>(((e,t,n)=>{t in e?Af(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);class Sf extends i.Component{constructor(e,t){super(e,t),Ef(this,"_buttonID"),Ef(this,"onMenuPress",(()=>{this.setState((e=>({isMenuOpen:!e.isMenuOpen})))})),Ef(this,"onMenuClose",(()=>{this.setState({isMenuOpen:!1})})),Ef(this,"onAllPress",(()=>{this.props.onResetLogLevels()})),Ef(this,"onLogLevelSelect",(e=>{this.props.onToggleLogLevel(e)})),this._buttonID=(0,ff.A)(),this.state={isMenuOpen:!1}}render(){const{logLevels:e}=this.props,{isMenuOpen:t}=this.state;let n;return n=e.length?1===e.length?yf(e[0]):(0,B.A)("Custom"):(0,B.A)("All"),i.createElement(i.Fragment,null,i.createElement(gf.A,{hasMenu:!0,id:this._buttonID,isMenuOpen:t,onPress:this.onMenuPress},n),i.createElement($e.A,{isOpen:t,size:Ze.I$,target:this._buttonID,onMenuClose:this.onMenuClose},i.createElement(Je.A,{key:"all",isSelected:!e.length,onPress:this.onAllPress},(0,B.A)("All")),i.createElement(vf.A,null),bf.map(((t,n)=>i.createElement(Je.A,{key:n,isSelected:-1!==e.indexOf(t),value:t,onSelect:this.onLogLevelSelect},yf(t))))))}}const wf=Sf,Cf=(0,it.Mz)((e=>e.ui.serverLogPage.logLevels),(e=>({logLevels:e}))),Pf=(0,C.Ng)(Cf,(function(e,t){const{serverEntityID:n}=t;return{onResetLogLevels(){e((0,Xv.J8)({serverEntityID:n}))},onToggleLogLevel(t){e((0,Xv.Xh)({serverEntityID:n,logLevel:t}))}}}))(wf);function Df(e){const t=e["aria-label"],n=e.className,a=e.style,r={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-circle-backslash-560"};r["aria-hidden"]=!t,r.style=a,r.className=Zo.A.plexIcon+(n?" "+n:"");const s=[i.createElement.apply(i,["g",{fillRule:"evenodd"}].concat([i.createElement.apply(i,["path",{d:"M280 518C148.56 518 42 411.44 42 280S148.56 42 280 42s238 106.56 238 238-106.56 238-238 238m0-42c108.25 0 196-87.75 196-196S388.25 84 280 84 84 171.75 84 280s87.75 196 196 196"}].concat([])),i.createElement.apply(i,["path",{d:"M157.246 125.568l277.186 277.186-31.678 31.678-277.186-277.186"}].concat([]))]))];return t&&s.unshift(i.createElement("title",null,t)),i.createElement.apply(i,["svg",r].concat(s))}Df.propTypes={"aria-label":Xo().string,className:Xo().string,style:Xo().object};const xf=Df;function kf(e){const t=e["aria-label"],n=e.className,a=e.style,r={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",fillRule:"evenodd",strokeLinejoin:"round",id:"plex-icon-timer-560"};r["aria-hidden"]=!t,r.style=a,r.className=Zo.A.plexIcon+(n?" "+n:"");const s=[i.createElement.apply(i,["path",{d:"M364 84h-56v29.99c1.22.173 2.437.36 3.653.558 8.207 1.334 16.33 3.195 24.298 5.567 8.232 2.452 16.3 5.45 24.137 8.966 9.732 4.368 19.104 9.535 27.995 15.428 9.163 6.073 17.813 12.915 25.836 20.428 8.158 7.64 15.666 15.974 22.414 24.884 6.66 8.792 12.578 18.144 17.668 27.928 4.312 8.29 8.03 16.89 11.11 25.713 3.058 8.765 5.487 17.747 7.264 26.856C474.794 282.723 476 295.36 476 308c0 8.956-.604 17.91-1.818 26.785-1.35 9.864-3.456 19.624-6.297 29.166-2.904 9.754-6.576 19.277-10.968 28.457-5.02 10.496-10.983 20.54-17.784 29.982-6.88 9.547-14.615 18.477-23.084 26.648-8.758 8.45-18.297 16.087-28.46 22.78-10.073 6.632-20.757 12.334-31.878 17-12.24 5.137-25.002 9.015-38.028 11.556-12.2 2.38-24.622 3.586-37.05 3.625-12.443.038-24.89-1.09-37.117-3.395-13.052-2.462-25.848-6.263-38.126-11.327-11.153-4.6-21.876-10.24-31.992-16.815-10.205-6.63-19.79-14.213-28.598-22.61-8.517-8.12-16.305-17.003-23.24-26.51-6.857-9.397-12.877-19.403-17.96-29.865-4.446-9.148-8.174-18.643-11.137-28.372-2.897-9.516-5.062-19.254-6.474-29.1C84.66 326.732 84 317.365 84 308c0-12.028 1.09-24.054 3.283-35.88 1.657-8.94 3.94-17.765 6.83-26.385 2.974-8.87 6.59-17.524 10.804-25.874 5.062-10.025 10.99-19.613 17.69-28.627 6.67-8.97 14.103-17.37 22.193-25.085 8.096-7.72 16.85-14.75 26.136-20.985 9.017-6.055 18.538-11.36 28.434-15.838 7.823-3.54 15.88-6.56 24.102-9.036 7.958-2.398 16.07-4.283 24.27-5.643 1.416-.235 2.836-.455 4.258-.658V84h-56V56h168v28m-83.5 70h-1c-2.815.014-5.627.094-8.436.254-5.51.315-11.005.924-16.45 1.827-12.92 2.144-25.556 5.957-37.505 11.32-7.786 3.493-15.277 7.64-22.376 12.374-6.938 4.628-13.5 9.82-19.604 15.502-6.326 5.89-12.16 12.307-17.42 19.166-5.18 6.754-9.802 13.936-13.8 21.452-3.513 6.607-6.542 13.47-9.052 20.52-2.385 6.7-4.3 13.568-5.727 20.535-2.09 10.21-3.13 20.63-3.13 31.05 0 7.212.496 14.425 1.497 21.568 1.06 7.573 2.69 15.067 4.872 22.397 2.276 7.648 5.156 15.117 8.6 22.316 4.013 8.388 8.79 16.407 14.247 23.935 5.436 7.5 11.547 14.508 18.23 20.92 7.247 6.95 15.167 13.195 23.617 18.615 7.583 4.864 15.592 9.06 23.91 12.522 9.61 4 19.63 7.01 29.854 8.97C260.436 461.085 270.218 462 280 462s19.564-.915 29.172-2.758c10.223-1.96 20.243-4.97 29.855-8.97 8.888-3.7 17.424-8.238 25.464-13.533 7.87-5.182 15.263-11.084 22.062-17.606 6.573-6.304 12.59-13.187 17.96-20.545 5.57-7.636 10.44-15.783 14.518-24.31 3.444-7.198 6.324-14.666 8.6-22.315 2.183-7.33 3.812-14.823 4.873-22.397 1-7.143 1.497-14.356 1.497-21.568 0-10.42-1.04-20.84-3.13-31.052-1.46-7.12-3.428-14.136-5.886-20.976-2.48-6.895-5.455-13.61-8.895-20.08-4.143-7.787-8.957-15.217-14.367-22.184-5.016-6.46-10.544-12.525-16.515-18.116-6.425-6.018-13.363-11.49-20.716-16.33-6.868-4.523-14.098-8.496-21.6-11.863-11.95-5.363-24.585-9.176-37.506-11.32-5.445-.902-10.94-1.51-16.45-1.826-2.81-.16-5.62-.24-8.435-.253M252 336V185.167c8.998-2.085 18.374-3.167 28-3.167 34.77 0 66.27 14.115 89.078 36.922L252 336"}].concat([]))];return t&&s.unshift(i.createElement("title",null,t)),i.createElement.apply(i,["svg",r].concat(s))}kf.propTypes={"aria-label":Xo().string,className:Xo().string,style:Xo().object};const Of=kf;var If=Object.defineProperty,Tf=(e,t,n)=>(((e,t,n)=>{t in e?If(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);class Mf extends i.Component{constructor(e,t){super(e,t),Tf(this,"_timeoutID"),Tf(this,"onTextFilterChange",(e=>{this._clearOnTextFilterChangeTimeout(),this.setState({filter:e},(()=>{this._timeoutID=window.setTimeout((()=>{this._timeoutID=null,this.props.onTextFilterChange(this.state.filter)}),200)}))})),this.state={filter:e.filter,filterFromStore:e.filter}}static getDerivedStateFromProps(e,t){return e.filter!==t.filterFromStore?{filter:e.filter,filterFromStore:e.filter}:null}componentWillUnmount(){this._clearOnTextFilterChangeTimeout()}_clearOnTextFilterChangeTimeout(){this._timeoutID&&window.clearTimeout(this._timeoutID)}render(){const{filter:e}=this.state;return i.createElement(Gh.A,{className:"ServerLogFilterInput-input-MVFhpF TextInput-input-NqTdW3 input-input-XAtklw",initialValue:e,name:"filter",placeholder:(0,B.A)("Filter logs"),size:Ze.I$,value:e,onChange:this.onTextFilterChange})}}const Nf=Mf,Lf="ServerLogTimeFilterInputs-input-bN52Rr TextInput-input-NqTdW3 input-input-XAtklw";var Rf=Object.defineProperty,Ff=(e,t,n)=>(((e,t,n)=>{t in e?Rf(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);class Uf extends i.Component{constructor(e,t){super(e,t),Ff(this,"_timeoutID"),Ff(this,"_flushValues",(()=>{this._timeoutID=window.setTimeout((()=>{this._timeoutID=null,this.props.onTimeFilterChange(this.state.timeFilterStart,this.state.timeFilterEnd)}),200)})),Ff(this,"onFilterStartChange",(e=>{this._clearOnTextFilterChangeTimeout(),this.setState({timeFilterStart:e},this._flushValues)})),Ff(this,"onFilterEndChange",(e=>{this._clearOnTextFilterChangeTimeout(),this.setState({timeFilterEnd:e},this._flushValues)})),this.state={timeFilterStart:e.timeFilterStart,timeFilterStartFromStore:e.timeFilterStart,timeFilterEnd:e.timeFilterEnd,timeFilterEndFromStore:e.timeFilterEnd}}static getDerivedStateFromProps(e,t){return e.timeFilterStart!==t.timeFilterStartFromStore||e.timeFilterEnd!==t.timeFilterEndFromStore?{timeFilterStart:e.timeFilterStart,timeFilterStartFromStore:e.timeFilterStart,timeFilterEnd:e.timeFilterEnd,timeFilterEndFromStore:e.timeFilterEnd}:null}componentWillUnmount(){this._clearOnTextFilterChangeTimeout()}_clearOnTextFilterChangeTimeout(){this._timeoutID&&window.clearTimeout(this._timeoutID)}render(){const{isTimeFilterStartValid:e,isTimeFilterEndValid:t}=this.props,{timeFilterStart:n,timeFilterEnd:a}=this.state;return i.createElement("div",{className:"ServerLogTimeFilterInputs-container-UAwLez"},i.createElement(Gh.A,{className:Lf,hasError:!e,initialValue:n,name:"timeFilterStart",placeholder:"Jun 15, 2018 09:00:00",size:Ze.I$,value:n,onChange:this.onFilterStartChange}),i.createElement("span",{className:"ServerLogTimeFilterInputs-separator-YH7HZo"},(0,B.A)("to")),i.createElement(Gh.A,{className:Lf,hasError:!t,initialValue:a,name:"timeFilterEnd",placeholder:"Jun 15, 2018 09:01:00",size:Ze.I$,value:a,onChange:this.onFilterEndChange}))}}const Vf=Uf;class jf extends i.Component{render(){const{filter:e,timeFilterStart:t,timeFilterEnd:n,isTimeFilterStartValid:a,isTimeFilterEndValid:r,showTimeFilter:s,showRawText:l,title:o,unfilteredLogLinesCount:c,logLines:d,onTextFilterChange:u,onTimeFilterChange:m,onToggleTimeFilter:p,onToggleRaw:h,onClearLog:g}=this.props,v=c-d.length;return i.createElement(i.Fragment,null,i.createElement(mf,null,i.createElement(pf.A,null,o,i.createElement(Et.A,null),(0,B.A)("Plex Media Server Logs"),v>0?i.createElement("span",{className:"ServerLogPageHeader-controlsHiddenLinesCount-ikNr39"},i.createElement(Et.A,null),(0,B.A)("{hiddenLinesCount} items hidden by filters",{hiddenLinesCount:v})):null),i.createElement(hf.A,null,i.createElement(Pf,null),i.createElement(Nf,{filter:e,onTextFilterChange:u}),i.createElement(sf.A,{isSelected:s,tooltip:(0,B.A)("Time Filter"),onPress:p},i.createElement(Of,null)),i.createElement(Xt.A,{className:"ServerLogPageHeader-rawButton-sZX8b6",isSelected:l,onPress:h},(0,B.A)("Raw")),i.createElement(sf.A,{tooltip:(0,B.A)("Clear Logs"),onPress:g},i.createElement(xf,null)))),s?i.createElement(Vf,{isTimeFilterEndValid:r,isTimeFilterStartValid:a,timeFilterEnd:n,timeFilterStart:t,onTimeFilterChange:m}):null)}}const Bf=jf,Hf=(0,it.Mz)((e=>e.ui.serverLogPage),(e=>({filter:e.filter,timeFilterStart:e.timeFilterStart,timeFilterEnd:e.timeFilterEnd,isTimeFilterStartValid:e.isTimeFilterStartValid,isTimeFilterEndValid:e.isTimeFilterEndValid,showTimeFilter:e.showTimeFilter,showRawText:e.showRawText,logLines:e.logLines,unfilteredLogLinesCount:e.unfilteredLogLinesCount}))),zf=(0,C.Ng)(Hf,(function(e,t){const{serverEntityID:n}=t;return{onTextFilterChange(t){(0,j.Cc)((()=>{e(Xv.gp({serverEntityID:n,filter:t}))}))},onTimeFilterChange(t,a){(0,j.Cc)((()=>{e(Xv.mn({serverEntityID:n,timeFilterStart:t,timeFilterEnd:a}))}))},onToggleTimeFilter(){e(Xv.WB({serverEntityID:n}))},onToggleRaw(){e(Xv.T5())},onClearLog(){e(Xv.Ux({serverEntityID:n}))}}}))(Bf);var _f=n(48127),Wf=n(33742),Gf=n(19514);const Kf="ServerLogLine-fieldTime-O0ikNg ServerLogLine-field-t8xorW",qf="ServerLogLine-fieldThread-XEQInF ServerLogLine-field-t8xorW",$f="ServerLogLine-fieldMessage-kaEzWu ServerLogLine-field-t8xorW",Jf="ServerLogLine-levelError-v_ANLa ServerLogLine-line-CRK_1t",Qf="ServerLogLine-levelWarning-cQ6INv ServerLogLine-line-CRK_1t",Yf="ServerLogLine-levelInfo-IIVc3Q ServerLogLine-line-CRK_1t",Xf="ServerLogLine-levelDebug-B45Hk1 ServerLogLine-line-CRK_1t",Zf="ServerLogLine-levelVerbose-H5yMht ServerLogLine-line-CRK_1t",eb="ServerLogLine-levelUnknown-GmNyor ServerLogLine-line-CRK_1t",tb="ServerLogLine-isHighlighted-YSKT81",nb=(0,C.Ng)((function(){return(0,it.Mz)((e=>e.ui.serverLogPage.highlightedLineIndex),((e,{index:t})=>t),((e,t)=>({isHighlighted:e===t})))}))((function(e){const{index:t,level:n,message:a,thread:r,time:s,isHighlighted:l,onLogLinePress:o}=e,c=(0,Gf.A)(e),d=(0,i.useCallback)((e=>{o({index:t,time:s,thread:r,level:n,message:a})}),[t,s,r,n,a,o]),u=function(e){return[Jf,Qf,Yf,Xf,Zf][e]||eb}(n);return i.createElement("div",{style:c.style},i.createElement(Xt.A,{className:ma()(u,l&&tb),tabIndex:t,onPress:d},i.createElement("span",{className:Kf},s),i.createElement("span",{className:qf},"[",r,"]"),i.createElement("span",{className:$f},a)))}));var ab=n(35619),rb=n(13600);const ib=function(e,t){const n=e.replace(new RegExp(`\\s?${(0,rb.A)(t)}`),"").trim();return n.length?`${t} ${n}`:t},sb="ServerLogLineModal-label-sGdtV9";var lb=Object.defineProperty,ob=(e,t,n)=>(((e,t,n)=>{t in e?lb(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);function cb(e){return["ServerLogLineModal-containerError-fOb6DG ServerLogLineModal-container-X8TJ9y","ServerLogLineModal-containerWarning-iIRT4t ServerLogLineModal-container-X8TJ9y","ServerLogLineModal-containerInfo-ZZhV0u ServerLogLineModal-container-X8TJ9y","ServerLogLineModal-containerDebug-wPOSaE ServerLogLineModal-container-X8TJ9y","ServerLogLineModal-containerVerbose-lL2nJ5 ServerLogLineModal-container-X8TJ9y"][e]||"ServerLogLineModal-containerUnknown-vBKZ2d ServerLogLineModal-container-X8TJ9y"}function db(e){return["ServerLogLineModal-levelError-tjrOoM","ServerLogLineModal-levelWarning-Y3fKzs","ServerLogLineModal-levelInfo-Pev6Sy"][e]}class ub extends i.Component{constructor(e,t){super(e,t),ob(this,"_timeMenuButtonID"),ob(this,"onClosePress",(e=>{this.props.onClose()})),ob(this,"onShowContextPress",(e=>{this.props.onJumpToContext(Math.max(this.props.index-10,0))})),ob(this,"onFilterFromPress",(()=>{this.props.onTimeFilterChange({timeFilterStart:this.props.time,timeFilterEnd:this.props.timeFilterEnd})})),ob(this,"onFilterToPress",(()=>{this.props.onTimeFilterChange({timeFilterStart:this.props.timeFilterStart,timeFilterEnd:this.props.time})})),ob(this,"onThreadPress",(()=>{this.props.onTextFilterChange({filter:ib(this.props.filter,this.props.thread)})})),ob(this,"onTimeMenuPress",(()=>{this.setState({isTimeMenuOpen:!this.state.isTimeMenuOpen})})),ob(this,"onTimeMenuClose",(()=>{this.setState({isTimeMenuOpen:!1})})),ob(this,"onKeyDown",(e=>{e.keyCode===ab._f&&(e.preventDefault(),e.stopPropagation(),this.props.onClose())})),this._timeMenuButtonID=(0,ff.A)(),this.state={isTimeMenuOpen:!1}}componentDidMount(){document.addEventListener("keydown",this.onKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.onKeyDown)}render(){const{level:e,time:t,thread:n,message:a}=this.props,{isTimeMenuOpen:r}=this.state;return i.createElement(Vp.A,{autoScroll:!0,className:cb(e)},i.createElement(Xt.A,{"aria-label":(0,B.A)("Close"),className:"ServerLogLineModal-closeButton-UQa3YN Link-link-SxPFpG",onPress:this.onClosePress},i.createElement(bs.A,null)),i.createElement("p",null,i.createElement("span",{className:sb},(0,B.A)("Time")),i.createElement(Xt.A,{id:this._timeMenuButtonID,kind:hu.jd,onPress:this.onTimeMenuPress},t,i.createElement(rp.A,{direction:r?Xe.UP:Xe.PX,kind:hu.jd})),i.createElement($e.A,{isOpen:r,size:Ze.I$,target:this._timeMenuButtonID,onMenuClose:this.onTimeMenuClose},i.createElement(hp.A,{onPress:this.onFilterFromPress},(0,B.A)("Filter from this time")),i.createElement(hp.A,{onPress:this.onFilterToPress},(0,B.A)("Filter to this time")))),i.createElement("p",null,i.createElement("span",{className:sb},(0,B.A)("Level")),i.createElement("span",{className:db(e)},yf(e))),i.createElement("p",null,i.createElement("span",{className:sb},(0,B.A)("Thread")),i.createElement(Xt.A,{kind:hu.jd,onPress:this.onThreadPress},n)),i.createElement("p",null,i.createElement("span",{className:sb},(0,B.A)("Message")),a),i.createElement("div",{className:"ServerLogLineModal-action-R26cVr"},i.createElement(cu.A,{onPress:this.onShowContextPress},(0,B.A)("Clear Filters and Jump to Context"))))}}const mb=ub;class pb extends i.Component{shouldComponentUpdate(e){return e.filter!==this.props.filter||e.logLevels!==this.props.logLevels}render(){const{className:e,lines:t}=this.props;return i.createElement(Vp.A,{className:e},i.createElement("pre",null,t.reduce(((e,t)=>e+`${t.time} [${t.thread}] ${yf(t.level)}  ${t.message}\n`),"")))}}const hb=pb;var gb=Object.defineProperty,vb=Object.defineProperties,fb=Object.getOwnPropertyDescriptors,bb=Object.getOwnPropertySymbols,yb=Object.prototype.hasOwnProperty,Ab=Object.prototype.propertyIsEnumerable,Eb=(e,t,n)=>t in e?gb(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Sb=(e,t)=>{for(var n in t||(t={}))yb.call(t,n)&&Eb(e,n,t[n]);if(bb)for(var n of bb(t))Ab.call(t,n)&&Eb(e,n,t[n]);return e},wb=(e,t)=>vb(e,fb(t)),Cb=(e,t,n)=>(Eb(e,"symbol"!=typeof t?t+"":t,n),n);const Pb=(0,Wf.A)(26,10,{outerPaddingTop:10,outerPaddingBottom:10});function Db(e){return!!(e.filter||e.timeFilterStart||e.timeFilterEnd||e.logLevels.length)}class xb extends i.Component{constructor(e,t){super(e,t),Cb(this,"_lastScrollTop"),Cb(this,"_scrollerRef"),Cb(this,"onScroll",(()=>{const e=this._scrollerRef.current;e.scrollTop+e.clientHeight>=e.scrollHeight?this.setState({isSticky:!0,scrollIndex:null}):e.scrollTop<this._lastScrollTop&&this.setState({isSticky:!1}),this._lastScrollTop=e.scrollTop})),Cb(this,"onJumpToContext",(e=>{Db(this.props)?this.setState({isSticky:!1,scrollIndexAfterFilterChange:e,selectedLogLine:null},(()=>{this.props.onClearFilter()})):this.setState({isSticky:!1,scrollIndex:e,selectedLogLine:null})})),Cb(this,"onTextFilterChange",((...e)=>{this.setState({scrollIndex:0,selectedLogLine:null}),this.props.onTextFilterChange(...e)})),Cb(this,"onTimeFilterChange",((...e)=>{this.setState({scrollIndex:0,selectedLogLine:null}),this.props.onTimeFilterChange(...e)})),Cb(this,"onLogLinePress",(e=>{this.setState({selectedLogLine:e}),this.props.onHighlightLine(e)})),Cb(this,"onModalClose",(e=>{this.setState({selectedLogLine:null})})),Cb(this,"onJumpToLatestPress",(()=>{this.setState({isSticky:!0})})),Cb(this,"renderLogLine",(e=>i.createElement(nb,wb(Sb({},e),{onLogLinePress:this.onLogLinePress})))),this.state={isSticky:!0,scrollIndex:0,scrollIndexAfterFilterChange:null,selectedLogLine:null},this._scrollerRef=i.createRef()}static getDerivedStateFromProps(e,t){return null==t.scrollIndexAfterFilterChange||Db(e)?e.showRawText&&(!t.isSticky||t.scrollIndex||t.selectedLogLine)?{isSticky:!0,scrollIndex:0,scrollIndexAfterFilterChange:null,selectedLogLine:null}:null:{isSticky:!1,scrollIndex:t.scrollIndexAfterFilterChange,scrollIndexAfterFilterChange:null}}render(){const{filter:e,timeFilterStart:t,timeFilterEnd:n,logLevels:a,showRawText:r,logLines:s}=this.props,{isSticky:l,scrollIndex:o,selectedLogLine:c}=this.state,d=!!c,u=d||r;return i.createElement(i.Fragment,null,r?i.createElement(hb,{className:"ServerLog-rawTextScroller-ZaE7pT",filter:e,lines:s,logLevels:a}):null,i.createElement(_f.A,{ref:this._scrollerRef,cellRenderer:this.renderLogLine,className:u?"ServerLog-hiddenPageContent-tWCp5p":"ServerLog-pageContent-UTRbrO PageContent-pageContent-rk0p0C",items:s,keyPropName:"index",layout:Pb,scrollIndex:l?s.length-1:o,scrollerClassName:"ServerLog-pageContentScroller-soee31",size:s.length,smoothScroll:!1,onScroll:this.onScroll}),i.createElement(Xt.A,{className:l?"ServerLog-jumpLinkHidden-MKZSyo ServerLog-jumpLinkVisible-XKXrbF Link-link-SxPFpG":"ServerLog-jumpLinkVisible-XKXrbF Link-link-SxPFpG",onPress:this.onJumpToLatestPress},(0,B.A)("Jump to latest")),d?i.createElement(mb,wb(Sb({},c),{filter:e,timeFilterEnd:n,timeFilterStart:t,onClose:this.onModalClose,onJumpToContext:this.onJumpToContext,onTextFilterChange:this.onTextFilterChange,onTimeFilterChange:this.onTimeFilterChange})):null)}}const kb=xb,Ob=(0,it.Mz)((e=>e.ui.serverLogPage),(e=>({filter:e.filter,timeFilterStart:e.timeFilterStart,timeFilterEnd:e.timeFilterEnd,logLevels:e.logLevels,showRawText:e.showRawText,logLines:e.logLines}))),Ib=(0,C.Ng)(Ob,(function(e,t){const{serverEntityID:n}=t;return{onTextFilterChange(...t){e((0,Xv.gp)(...t))},onTimeFilterChange(...t){e((0,Xv.mn)(...t))},onHighlightLine(t){e((0,Xv.NK)(t))},onClearFilter(){e((0,Xv.Se)({serverEntityID:n}))}}}))(kb);var Tb=Object.defineProperty,Mb=(e,t,n)=>(((e,t,n)=>{t in e?Tb(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);function Nb(e){const t=e.dataTransfer.items,n=t[0];return""!==n.type||"file"!==n.kind?2:t.length>1?1:void 0}class Lb extends i.Component{constructor(e,t){super(e,t),Mb(this,"onDragOver",(e=>{this.setState({isDraggingFile:!0,fileDragError:Nb(e)}),e.preventDefault()})),Mb(this,"onDragLeave",(()=>{this.setState({isDraggingFile:!1,fileDragError:null})})),Mb(this,"onDrop",(e=>{if(e.preventDefault(),Nb(e))return void this.setState({isDraggingFile:!1,fileDragError:null});this.setState({isDroppingFile:!0});const t=e.dataTransfer.files[0],n=new window.FileReader;n.onload=()=>{this.setState({title:t.name,isDraggingFile:!1,isDroppingFile:!1}),this.props.onDrop({result:n.result})},n.readAsText(t)})),this.state={title:e.title,isDraggingFile:!1,isDroppingFile:!1,fileDragError:null}}render(){const{metricsPage:e,metricsPane:t}=this.props,{title:n,isDraggingFile:a,isDroppingFile:r,fileDragError:s}=this.state,l=a&&!r&&(1===s&&(0,B.A)("Only one file at a time")||2===s&&(0,B.A)("Only log files are allowed")||(0,B.A)("Load log file"));return i.createElement(rf.A,{metricsPage:e,metricsProperties:{pane:t},scrollDirection:Ap.x3,onDragLeave:this.onDragLeave,onDragOver:this.onDragOver,onDrop:this.onDrop},i.createElement(zf,{title:n}),i.createElement(Ib,null),a?i.createElement("div",{className:"ServerLogPage-dropFileOverlay-Ijwsdx"},s?i.createElement(xf,{className:"ServerLogPage-icon-vsQHON"}):null,l,r?i.createElement(jp.A,null):null):null)}}const Rb=Lb;var Fb=Object.defineProperty,Ub=Object.getOwnPropertySymbols,Vb=Object.prototype.hasOwnProperty,jb=Object.prototype.propertyIsEnumerable,Bb=(e,t,n)=>t in e?Fb(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Hb=(e,t,n)=>(Bb(e,"symbol"!=typeof t?t+"":t,n),n);const zb={dispatchClearLog:Xv.Ux,dispatchLoadLogFile:Xv.NB};class _b extends i.Component{constructor(e,t){super(e,t),Hb(this,"_isServerEventManagerStopped"),Hb(this,"_serverEventManager"),Hb(this,"onDrop",((...e)=>{this._stopServerEventManager(),this.props.dispatchLoadLogFile(...e)}));const n=(0,O.hd)("appModel");this._serverEventManager=new Yv.A({name:"MediaServerLogEventManager",appModel:n,isValidServer:t=>t.entityID()===e.serverEntityID,supportsLongPolling:!1,ServerEventConnection:af,ServerRetryManager:Qv.A})}componentDidMount(){this.props.dispatchClearLog(),this._serverEventManager.start(),(0,O.hd)("appModel").get("servers").forEach((e=>{const t=e.get("isResolved");t&&this._serverEventManager.onServerResolvedChange(e,t)}))}componentWillUnmount(){this._stopServerEventManager()}_stopServerEventManager(){this._isServerEventManagerStopped||(this._serverEventManager.stop(),this.props.dispatchClearLog(),this._isServerEventManagerStopped=!0)}render(){return i.createElement(Rb,((e,t)=>{for(var n in t||(t={}))Vb.call(t,n)&&Bb(e,n,t[n]);if(Ub)for(var n of Ub(t))jb.call(t,n)&&Bb(e,n,t[n]);return e})({onDrop:this.onDrop},this.props))}}const Wb=(0,C.Ng)((function(){return(0,it.Mz)((0,xs.A)(),(e=>({title:e.friendlyName})))}),zb)(_b);var Gb=n(58315);function Kb(e){return(0,it.Mz)((0,xs.A)(),(t=>{if(!t||!t.activeConnection)return null;const n=t.activeConnection.uri,a=t.accessToken?{"X-Plex-Token":t.accessToken}:{};return Wh.A.join([n,e],a)}))}var qb=n(54726);const $b={troubleshootingSection:"ServerTroubleshootingPane-troubleshootingSection-E0oRni",buttonContainer:"ServerTroubleshootingPane-buttonContainer-L0JAsf",buttonStatus:"ServerTroubleshootingPane-buttonStatus-AK1pM7",buttonStatusSuccess:"ServerTroubleshootingPane-buttonStatusSuccess-F6mIqm ServerTroubleshootingPane-buttonStatus-AK1pM7",buttonStatusError:"ServerTroubleshootingPane-buttonStatusError-jNzesL ServerTroubleshootingPane-buttonStatus-AK1pM7",button:"ServerTroubleshootingPane-button-WA6OvM",description:"ServerTroubleshootingPane-description-_7jEYO"};class Jb extends i.Component{static getDerivedStateFromProps(e,t){const n=e.isCleanBundlesInProgress!==t.isCleanBundlesInProgress,a=e.isOptimizeDatabaseInProgress!==t.isOptimizeDatabaseInProgress;if(!n&&!a)return null;const r={};return n&&(r.isCleanBundlesInProgress=e.isCleanBundlesInProgress,r.isCleanBundlesComplete=t.isCleanBundlesInProgress&&!e.isCleanBundlesInProgress),a&&(r.isOptimizeDatabaseInProgress=e.isOptimizeDatabaseInProgress,r.isOptimizeDatabaseComplete=t.isOptimizeDatabaseInProgress&&!e.isOptimizeDatabaseInProgress),r}constructor(e,t){super(e,t),this.state={isCleanBundlesInProgress:!1,isOptimizeDatabaseInProgress:!1,isCleanBundlesComplete:!1,isOptimizeDatabaseComplete:!1}}render(){const{machineIdentifier:e,downloadDatabasesUrl:t,downloadLogsUrl:n,cleanBundlesError:a,optimizeDatabaseError:r,isCleanBundlesInProgress:s,isOptimizeDatabaseInProgress:l,showDownloadDatabases:o,showDownloadLogs:c,onCleanBundlesPress:d,onOptimizeDatabasePress:u}=this.props,{isCleanBundlesComplete:m,isOptimizeDatabaseComplete:p}=this.state;return i.createElement("div",null,i.createElement("div",{className:$b.troubleshootingSection},i.createElement("div",{className:$b.buttonContainer},i.createElement(qb.A,{className:$b.button,isSpinning:l,onPress:u},(0,B.A)("Optimize Database")),p&&!r?i.createElement("div",{className:$b.buttonStatusSuccess},i.createElement(zo.A,null),i.createElement("div",{className:$b.textStatus},(0,B.A)("Optimize database complete"))):null,p&&r?i.createElement("div",{className:$b.buttonStatusError},i.createElement(bs.A,null),i.createElement("div",{className:$b.textStatus},r)):null),i.createElement("div",{className:$b.description},(0,B.A)("Cleans up the library database and ensures it is operating as quickly as possible. This is especially useful when you've added or removed a large amount of media from the library."))),i.createElement("div",{className:$b.troubleshootingSection},i.createElement("div",{className:$b.buttonContainer},i.createElement(qb.A,{className:$b.button,isSpinning:s,onPress:d},(0,B.A)("Clean Bundles")),m&&!a?i.createElement("div",{className:$b.buttonStatusSuccess},i.createElement(zo.A,null),i.createElement("div",null,(0,B.A)("Bundles cleaned"))):null,m&&a?i.createElement("div",{className:$b.buttonStatusError},i.createElement(bs.A,null),i.createElement("div",null,a)):null),i.createElement("div",{className:$b.description},i.createElement(Lm.A,{className:$b.description,message:(0,B.A)('Poster images and other metadata for items in your library are kept in "bundle" packages. When you remove items from your library, these bundles arent immediately removed. Removing them can reduce the size of your install. By default, your server will automatically clean up old bundles once a week as part of {openScheduledTass}Scheduled Tasks{closeScheduledTass}.'),tags:[{open:"openScheduledTass",close:"closeScheduledTass",component:Xt.A,kind:hu.jd,to:(0,Le.A)(e,"settings","butler")}]}))),c||o?i.createElement("div",{className:$b.troubleshootingSection},i.createElement("div",{className:$b.buttonContainer},c?i.createElement(cu.A,{className:$b.button,target:"_self",to:n},(0,B.A)("Download Logs")):null,o?i.createElement(cu.A,{className:$b.button,target:"_self",to:t},(0,B.A)("Download Database")):null),i.createElement("div",{className:$b.description},(0,B.A)("The Plex Media Server logs and database can be helpful to developers and forum community members in diagnosing server issues."))):null,i.createElement("div",{className:$b.description},i.createElement(Lm.A,{className:$b.description,message:(0,B.A)("You can find additional documentation, guides and FAQs as well as our friendly Community Forums among our {openSupportLink}support resources{closeSupportLink}."),tags:[{open:"openSupportLink",close:"closeSupportLink",component:Xt.A,kind:hu.jd,to:Nm.cK,target:"_blank"}]})))}}const Qb=Jb;var Yb=Object.defineProperty,Xb=Object.getOwnPropertySymbols,Zb=Object.prototype.hasOwnProperty,ey=Object.prototype.propertyIsEnumerable,ty=(e,t,n)=>t in e?Yb(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ny=(e,t,n)=>(ty(e,"symbol"!=typeof t?t+"":t,n),n);const ay={dispatchCleanBundles:nu.Lq,dispatchOptimizeDatabase:nu.Py};class ry extends i.Component{constructor(){super(...arguments),ny(this,"onCleanBundlesPress",(()=>{this.props.dispatchCleanBundles({serverEntityID:this.props.serverEntityID,hideAlerts:!0})})),ny(this,"onOptimizeDatabasePress",(()=>{this.props.dispatchOptimizeDatabase({serverEntityID:this.props.serverEntityID,hideAlerts:!0})}))}render(){const e=this.props,{dispatchCleanBundles:t,dispatchOptimizeDatabase:n}=e,a=((e,t)=>{var n={};for(var a in e)Zb.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&Xb)for(var a of Xb(e))t.indexOf(a)<0&&ey.call(e,a)&&(n[a]=e[a]);return n})(e,["dispatchCleanBundles","dispatchOptimizeDatabase"]);return i.createElement(Qb,((e,t)=>{for(var n in t||(t={}))Zb.call(t,n)&&ty(e,n,t[n]);if(Xb)for(var n of Xb(t))ey.call(t,n)&&ty(e,n,t[n]);return e})({onCleanBundlesPress:this.onCleanBundlesPress,onOptimizeDatabasePress:this.onOptimizeDatabasePress},a))}}const iy=(0,C.Ng)((function(){return(0,it.Mz)((0,xs.A)(),Kb("/diagnostics/databases"),Kb("/diagnostics/logs"),Gb.WC(),Gb.SQ(),((e,t,n,a,r)=>{const i=e.diagnostics;return{machineIdentifier:e.machineIdentifier,downloadDatabasesUrl:t,downloadLogsUrl:n,cleanBundlesError:e.desktop.cleanBundlesError,optimizeDatabaseError:e.desktop.optimizeDatabaseError,isCleanBundlesInProgress:!!a,isOptimizeDatabaseInProgress:!!r,showDownloadDatabases:!(!t||!i||-1===i.indexOf("databases")),showDownloadLogs:!(!n||!i||-1===i.indexOf("logs"))}}))}),ay)(ry);var sy=n(44187);const ly=function(e){const{isActive:t}=e;return t?i.createElement(sy.default,null):null};var oy=n(7836),cy=n(31414),dy=n(36581);const uy="RemoteAccessStateIcon-unknown-U2cHos RemoteAccessStateIcon-iconContainer-lED4YK",my={[dy.N3]:i.createElement("div",{className:uy},i.createElement(oy.default,null)),[dy.Px]:i.createElement("div",{className:uy},i.createElement(oy.default,null)),[dy.Xj]:i.createElement("div",{className:"RemoteAccessStateIcon-error-wltOkJ RemoteAccessStateIcon-iconContainer-lED4YK"},i.createElement(Ja.default,null)),[dy.B9]:i.createElement("div",{className:"RemoteAccessStateIcon-ok-pklMtU RemoteAccessStateIcon-iconContainer-lED4YK"},i.createElement(cy.default,null))},py=function(e){const{remoteAccessState:t}=e;return t&&my[t]||null};var hy=n(76817);const gy=function(e){const{isClaimed:t}=e;return t?null:i.createElement("div",{className:"ServerIsClaimedIcon-icon-C6QRor"},i.createElement(hy.default,null))};function vy(e){return!e.isShared}function fy(e){return!!e.desktop.isSettingsPopulated}function by(e,t){return t>0}function yy(e){return e.desktop.backgroundTranscodeJobs.length>0}function Ay(e){const t=e.desktop.cloudAccount;return t&&t.remoteAccessState}const Ey=[{key:"status",title:()=>(0,B.A)("Status"),isVisible:!0,metricsPage:l.XQ,metricsPanePrefix:"",groups:[{key:"server-dashboard",title:()=>(0,B.A)("Dashboard"),isVisible:vy,createStatusIndicator:(e,t)=>i.createElement(ly,{isActive:by(0,t)})},{key:"alerts",title:()=>(0,B.A)("Alerts"),isVisible:vy},{key:"conversion",title:()=>(0,B.A)("Conversions"),isVisible:vy,createStatusIndicator:e=>i.createElement(ly,{isActive:yy(e)})}]},{key:"settings",title:()=>(0,B.A)("Settings"),isVisible:vy,metricsPage:l.yy,metricsPanePrefix:"server:",groups:[{key:"general",title:()=>(0,B.A)("General"),isVisible:fy,createStatusIndicator:e=>i.createElement(gy,{isClaimed:!!e.isClaimed})},{key:"remoteAccess",title:()=>(0,B.A)("Remote Access"),isVisible:e=>fy(e),createStatusIndicator:e=>i.createElement(py,{remoteAccessState:Ay(e)})},{key:"agents",title:()=>(0,B.A)("Agents"),isVisible:fy},{key:"library",title:()=>(0,B.A)("Library")},{key:"network",title:()=>(0,B.A)("Network")},{key:"transcoder",title:()=>(0,B.A)("Transcoder")},{key:"languages",title:()=>(0,B.A)("Languages"),isVisible:fy},{key:"dlna",title:()=>(0,B.A)("DLNA")},{key:"butler",title:()=>(0,B.A)("Scheduled Tasks")},{key:"extras",title:()=>(0,B.A)("Extras")}]},{key:"manage",title:()=>(0,B.A)("Manage"),isVisible:!0,groups:[{key:"libraries",title:()=>(0,B.A)("Libraries"),isVisible:vy,metricsPage:l.yy,metricsPane:"server:libraries",paneComponent:function({machineIdentifier:e,providerIdentifier:t}){const n=(0,C.d4)((0,Km.A)(e,t)),a=(0,C.d4)((0,D.A)(e)),r=(0,C.d4)((0,qm.A)(e,t)),s=(0,i.useMemo)((()=>n.filter((({key:e,hubKey:t,type:n})=>e&&t&&n))),[n]),l=au({server:a,provider:r}),o=(0,C.d4)(function(e){return(0,it.Mz)((0,mo.A)(e),(e=>e.some((({type:e})=>e===uo.qK))))}(a)),c=(0,i.useCallback)((()=>{l(nu.d3({redirect:!1}))}),[l]),d=(0,i.useCallback)((()=>{l(nu.pY())}),[l]),u=(0,i.useCallback)((()=>{l(nu.Ni())}),[l]);return i.createElement(_e.Ay,{machineIdentifier:e,providerIdentifier:t},i.createElement("div",{className:"ManageLibrariesPane-header-YluwkN"},i.createElement("div",{className:"ManageLibrariesPane-libraryCount-eoicwy"},1===s.length?(0,B.A)("1 library"):(0,B.A)("{1} libraries",s.length)),i.createElement(Er.A,{className:Sv,size:wt.A.Small,onPress:c},(0,B.A)("Add Library")),o?i.createElement(Er.A,{className:Sv,size:wt.A.Small,onPress:u},(0,B.A)("Cancel Scan")):i.createElement(Er.A,{className:Sv,size:wt.A.Small,onPress:d},(0,B.A)("Scan Library Files"))),s.map(((t,n)=>i.createElement(Ev,{key:n,contentDirectory:t,index:n,machineIdentifier:e,providerEntityID:r.entityID}))),i.createElement(ep,null))}},{key:"versions",title:()=>(0,B.A)("Optimized Versions"),isVisible:e=>vy(e)&&fy(e),metricsPage:l.XQ,metricsPane:"versions"},{key:"custom-channels",title:()=>(0,B.A)("Custom Channels"),isVisible:e=>vy(e)&&fy(e)&&function(e){return e.ownerFeatures.includes(h.HW)}(e),metricsPage:l.yy,metricsPane:"server:custom-channels",paneComponent:function({machineIdentifier:e}){const t=(0,C.wA)(),n=(0,C.d4)((0,D.A)(e)),a=(0,C.d4)(Rs(e)),{error:r,isPending:s,isPopulated:l}=(0,C.d4)(Ys("fetchChannels")),o=(0,C.d4)(Il),c=!!n.ownerFeatures&&n.ownerFeatures.includes(h.HW),d=(0,Is.A)(n.version,ce.A.customChannels),u=!s&&!!r,m=!s&&l&&!o.length&&!r;return(0,i.useEffect)((()=>{t(Qs.A.actions.customChannelsFetchRequested({server:n}))}),[n,t]),(0,i.useEffect)((()=>()=>{t(Qs.A.actions.reset())}),[n,t]),i.createElement(_e.Ay,{machineIdentifier:e,providerIdentifier:a.identifier},s?i.createElement(Fs.A,null,i.createElement(St.A,null)):null,u?i.createElement(Us.A,{title:(0,B.A)("Unable to load custom channels")}):null,m?i.createElement(kl,{allowChannelCreation:c&&d}):i.createElement(Pl,{channels:o}))}},{key:"dvr",title:()=>(0,B.A)("Live TV & DVR"),isVisible:e=>vy(e)&&e.livetv>=1&&fy(e),metricsPage:l.yy,metricsPane:"server:dvr",paneComponent:function({machineIdentifier:e}){const t=(0,C.wA)(),n=(0,Rl.A)(),a=(0,C.d4)((0,D.A)(e)),r=(0,C.d4)(Ll(e)),s=(0,C.d4)((0,Fl.A)(h.of)),l=(0,C.d4)(Rd),{selectedDVR:{dvr:o,isPending:c,error:d,isPopulated:u}}=(0,C.d4)(ro.A),m=!!a.ownerFeatures&&a.ownerFeatures.indexOf("dvr")>-1,p=!(0,Is.A)(a.version,ce.A.v4DVRSetup),{isUIPopulated:g,isDvrsPending:v}=(0,C.d4)(Id),f=!g||v||c||!u;return(0,i.useEffect)((()=>(t((0,Ml.GJ)({serverEntityID:a.entityID})),()=>{t(ao.Ay.actions.reset()),t(Wl.Ay.actions.reset()),t((0,Ml.B2)())})),[a,t]),(0,i.useEffect)((()=>{!g||v||u||t(ao.Ay.actions.dvrFetchRequested({server:a}))}),[a,t,g,v,u]),i.createElement(_e.Ay,{machineIdentifier:e,providerIdentifier:r.identifier},f?i.createElement(Fs.A,null,i.createElement(St.A,null)):null,f||o||d?null:i.createElement(Wm,{hasDVRFeature:m,hasLiveTVSetupFeature:s,hasUnsupportedServer:p,onSetupPress:n.onOpen}),!f&&d?i.createElement(Us.A,{title:(0,B.A)("Unable to load DVRs")}):null,f||d||!o?null:i.createElement("div",{className:"LiveTVSettingsPage-container-xzybMh"},i.createElement("div",{className:"LiveTVSettingsPage-deviceListContainer-hdDQww"},i.createElement("div",{className:Gm},(0,B.A)("Channel Sources")),i.createElement(Mm,{dvrID:o.key,onAddDevicePress:n.onOpen})),i.createElement("div",{className:"LiveTVSettingsPage-channelsListContainer-fV6UIu"},i.createElement("div",{className:Gm},(0,B.A)("My Channels")," (",l.length,")"),i.createElement(tu,null)),i.createElement("div",{className:"LiveTVSettingsPage-dvrContainer-GRM5hg"},i.createElement("div",{className:Gm},(0,B.A)("DVR")),i.createElement(Ku,{dvr:o,hasDVRFeature:m,hasLiveTVSetupFeature:s}))),i.createElement(Od,{dvrID:null==o?void 0:o.key,isOpen:n.isOpen,machineIdentifier:e,metricsContext:Tl.SETTINGS,providerIdentifier:r.identifier,onModalClose:n.onClose}))}},{key:"help",title:()=>(0,B.A)("Troubleshooting"),isVisible:e=>vy(e)&&fy(e),metricsPage:l.yy,metricsPane:"server:help",paneComponent:iy},{key:"console",title:()=>(0,B.A)("Console"),isVisible:e=>vy(e)&&function(e){const t=e.diagnostics;return!(!t||-1===t.indexOf("streaminglogs"))}(e),metricsPage:l.yy,metricsPane:"server:console",pageComponent:Wb},{key:"plugins",title:()=>(0,B.A)("Plugins"),isVisible:function(e){return e.allowChannelAccess},metricsPage:l.yy,metricsPane:"server:plugins",paneComponent:function(e){const{serverEntityID:t}=e,[n,a]=(0,i.useState)({deprecatedPlugins:null,isDeprecatedPluginsPending:!0,deprecatedPluginsError:!1});return(0,Lv.A)((()=>{var e;const n=null==(e=(0,O.hd)("appModel").get("entities").get("servers").get(t))?void 0:e.get("model"),r=new Nv({},{server:n});r.fetch().then((()=>{a({deprecatedPlugins:r,isDeprecatedPluginsPending:!1,deprecatedPluginsError:!1})}),(()=>{a({deprecatedPlugins:null,isDeprecatedPluginsPending:!1,deprecatedPluginsError:!0})}))})),n.isDeprecatedPluginsPending?i.createElement($v.A,null,i.createElement(jp.A,null)):n.deprecatedPluginsError?i.createElement(Jv.A,{title:(0,B.A)("Plugins are not available.")}):i.createElement(qv.A,{view:Kv,viewOptions:{deprecatedPlugins:n.deprecatedPlugins}})}}]}],Sy=Ey;function wy(e,t,n){return!0===e||T().isFunction(e)&&e(t,n)}function Cy(){return(0,it.Mz)((0,xs.A)(),(0,Os.A)(),ks.A,(0,it.Mz)((0,it.Mz)((0,xs.A)(),(e=>e?e.desktop.settings:[])),(e=>e.reduce(((e,t)=>(!t.group||e.includes(t.group)||t.hidden||e.push(t.group),e)),[]))),((e,t,n,a)=>!e||e.isUnavailable?[]:Sy.reduce(((r,i)=>{if(!wy(i.isVisible,e,n))return r;const s=i.groups.reduce(((r,s)=>((wy(s.isVisible,e,n)||!1!==s.isVisible&&a.includes(s.key))&&r.push({key:s.key,title:s.title(),statusIndicator:s.createStatusIndicator&&s.createStatusIndicator(e,t),pageComponent:s.pageComponent,paneComponent:s.paneComponent,route:(0,Le.A)(e.machineIdentifier,i.key,s.key)}),r)),[]);return s.length>0&&r.push({key:i.key,title:i.title(),groups:s}),r}),[])))}function Py(e,t){const n=T().findWhere(Sy,{key:e}),a=T().findWhere(n.groups,{key:t});return a.metricsPage?{metricsPage:a.metricsPage,metricsPane:a.metricsPane}:{metricsPage:n.metricsPage,metricsPane:n.metricsPanePrefix+a.key}}var Dy=n(11673),xy=n(71368),ky=n(37656),Oy=n(84538),Iy=n.n(Oy);const Ty=K.A.ItemView.extend({tagName:"li",template:Iy(),bindings:{a:{modelAttribute:"selected",manual:!0,formatter:function(e){this.$el.toggleClass("active",!!e)}}}}),My=q.A.extend({tagName:"ul",className:"agents-nav nav nav-pills nav-pills-sm",itemView:Ty});var Ny=n(23176),Ly=n(57327),Ry=n.n(Ly);const Fy=Vv.A.extend({name:"agentInfoModal",className:"agent-info-modal modal fade",template:Ry(),regions:{icon:".agent-icon-container"},serializeData:function(){return{agent:this.model.toJSON(),attribution:this.model.get("attribution").get("content")}},onRender:function(){Vv.A.prototype.onRender.apply(this,arguments),this.icon.show(new Ny.A({model:this.model,url:"/system/agents/attribution/image?identifier="+this.model.id,className:"agent-icon",width:100,height:100}))}});var Uy=n(26270),Vy=n.n(Uy);const jy=K.A.ItemView.extend({tagName:"li",className:"card card-sortable",template:Vy(),events:{"change input[type=checkbox]":"onEnabledChange","click .settings-btn":"onSettingsClick","click .info-btn":"onInfoClick"},initialize:function(){this.attribution=this.model.get("attribution"),this.attribution.fetch()},bindings:{".info-btn":{model:"attribution",modelAttribute:"content",manual:!0,autohide:!0},".settings-btn":{modelAttribute:"hasPrefs",manual:!0,autohide:!0}},onEnabledChange:function(e){this.model.set("enabled",e.target.checked)},onSettingsClick:function(e){e.preventDefault();const t=new Uv.A([],{server:this.model.server,url:"/:/plugins/"+this.model.id+"/prefs"});t.fetch().done(T().bind((function(){me.A.trigger("show:modal",new Hv({model:this.model,collection:t}))}),this))},onInfoClick:function(e){e.preventDefault(),me.A.trigger("show:modal",new Fy({model:this.model}))}}),By=q.A.extend({tagName:"ul",className:"list contributor-list",itemView:jy,events:{"change input[type=checkbox]":"save",update:"save"},save:function(){const e=[];this.$(":checked").each((function(){e.push(this.name)})),this.trigger("save",e.join(","))},onRender:function(){this.sortable=new(ue())(this.$el[0],{draggable:".card-sortable",animation:200})},onClose:function(){this.sortable.destroy()}});var Hy=n(26296),zy=n.n(Hy);const _y=K.A.Layout.extend({template:zy(),ui:{agentLabel:".agent-label",typeNavItems:".agent-types-nav li",agentNavItems:".agents-nav li"},regions:{agentsList:".agents-list-container",contributorsList:".contributors-list-container"},events:{"click .agent-types-nav a":"onAgentTypeClick","click .agents-nav a":"onAgentClick"},initialize:function(){this.bindAllWhenRendered("onAgentsReset","onContributorsReset"),this.agentTypes=[],this.agentTypes.push((0,lr.AU)(lr.MOVIE)),this.agentTypes.push((0,lr.AU)(lr._O)),this.agentTypes.push((0,lr.AU)(lr.Ot)),this.agentTypes.push((0,lr.AU)(lr.G_)),this.agentTypes.push((0,lr.AU)(lr.vo)),this.currentType=T().first(this.agentTypes),this.populateAgents()},serializeData:function(){return{currentType:this.currentType,agentTypes:this.agentTypes}},populateAgents:function(){const e=new ky.A([],{server:this.model,mediaTypeID:this.currentType.id});e.populate({reset:!0}).then((()=>{const t=e.filter((e=>e.get("identifier")!==ap.jU&&e.get("identifier")!==ap.es&&e.get("identifier")!==ap.Re));this.agents=e.clone(t),this.onAgentsReset()}))},selectAgent:function(e){this.currentAgent&&this.currentAgent.set("selected",!1),this.currentAgent=e,e.set("selected",!0),this.ui.agentLabel.text(e.get("name")),this.additionalAgents=new ky.A([],{server:this.model,mediaTypeID:this.currentType.id,relatedAgentID:e.id}),this.contributors=new ky.A([],{server:this.model,mediaTypeID:this.currentType.id,primaryAgentID:e.id}),this.contributorsList.show(new By({collection:this.contributors})),this.listenTo(this.contributorsList.currentView,"save",this.onContributorsSave),this.populateContributors()},populateContributors:function(){const e=[];e.push(this.additionalAgents.populate({reset:!0})),e.push(this.contributors.populate({reset:!0})),k().when.apply(k(),e).done(T().bind(this.onContributorsReset,this))},onAgentsReset:function(){if(this.agentsList.show(new My({collection:this.agents})),this.agents.length){const e=this.agents.findWhere({selected:!0})||this.agents.first();this.selectAgent(e)}},onContributorsReset:function(){const e=T().bind((function(e){return e.id===this.currentAgent.id?(e.set("isPrimary",!0),!0):!!this.contributors.get(e.id)}),this);this.contributors.reset(this.additionalAgents.filter(e))},onAgentTypeClick:function(e){e.preventDefault();const t=k()(e.currentTarget),n=t.data("type");this.currentType=(0,lr.AU)(n),this.populateAgents(),this.ui.typeNavItems.removeClass("active"),t.parent("li").addClass("active")},onAgentClick:function(e){e.preventDefault();const t=k()(e.target).data("identifier"),n=this.agents.get(t);n&&this.selectAgent(n)},onContributorsSave:function(e){this.currentAgent.url="system/agents/"+this.currentAgent.id+"/config/"+this.currentType.id,this.currentAgent.save({order:e}).done(T().bind((function(){this.additionalAgents.fetch({silent:!0}),this.contributors.fetch({silent:!0})}),this))}});var Wy=n(36202),Gy=n(5338);const Ky=function(){return(0,it.Mz)((0,xs.A)(),(e=>e?e.desktop.cloudAccount:null))};var qy=n(49186),$y=n(33717);const Jy=function(e){const{serverEntityID:t,avatarUrl:n}=e;return i.createElement("div",{className:"ServerAvatar-avatar-qhUG0v"},n?null:i.createElement(Vl.A,{className:"ServerAvatar-icon-cyl2Qx"}),i.createElement(Ma.A,{height:60,serverEntityID:t,url:n,width:60}))},Qy=(0,it.Mz)(ks.A,(e=>({avatarUrl:e.isSignedIn?e.thumb:null}))),Yy=(0,C.Ng)(Qy)(Jy),Xy=function(e){const{isSigningOut:t,username:n,serverEntityID:a,onSignOutPress:r}=e;return i.createElement("div",{className:"ClaimedServer-container-A1ZlOh"},i.createElement(Yy,{serverEntityID:a}),i.createElement("div",{className:"ClaimedServer-message-YRCOiJ"},i.createElement("div",{className:"ClaimedServer-messageHeader-RUfb2R"},(0,B.A)("Server claimed by")),i.createElement("div",{className:"ClaimedServer-messageDetails-Gdhv20"},n)),i.createElement(gu.A,{className:"ClaimedServer-button-WHE1Sx SpinnerButton-button-tcanHL Button-button-TxWeuE Link-link-SxPFpG",isSpinning:t,kind:hu.qN,size:Ze.E_,onPress:r},(0,B.A)("Remove")))};var Zy=Object.defineProperty,eA=Object.defineProperties,tA=Object.getOwnPropertyDescriptors,nA=Object.getOwnPropertySymbols,aA=Object.prototype.hasOwnProperty,rA=Object.prototype.propertyIsEnumerable,iA=(e,t,n)=>t in e?Zy(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const sA=(0,it.Mz)(qy.A,(e=>e.isBusy)),lA={dispatchSignOutServer:$y.Fh};class oA extends i.Component{constructor(){super(...arguments),((e,t,n)=>{iA(this,t+"",(e=>{this.props.dispatchSignOutServer({serverEntityID:this.props.serverEntityID})}))})(0,"onSignOutPress")}render(){const e=this.props,{dispatchSignOutServer:t}=e,n=((e,t)=>{var n={};for(var a in e)aA.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&nA)for(var a of nA(e))t.indexOf(a)<0&&rA.call(e,a)&&(n[a]=e[a]);return n})(e,["dispatchSignOutServer"]);return i.createElement(Xy,(a=((e,t)=>{for(var n in t||(t={}))aA.call(t,n)&&iA(e,n,t[n]);if(nA)for(var n of nA(t))rA.call(t,n)&&iA(e,n,t[n]);return e})({},n),r={onSignOutPress:this.onSignOutPress},eA(a,tA(r))));var a,r}}const cA=(0,C.Ng)((function(){return(0,it.Mz)(sA,(0,it.Mz)(Ky(),(e=>e&&e.username||null)),((e,t)=>({isSigningOut:e,username:t})))}),lA)(oA);var dA=n(74612),uA=n(57530);var mA=Object.defineProperty,pA=Object.getOwnPropertySymbols,hA=Object.prototype.hasOwnProperty,gA=Object.prototype.propertyIsEnumerable,vA=(e,t,n)=>t in e?mA(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const fA=function(e){return i.createElement(gu.A,((e,t)=>{for(var n in t||(t={}))hA.call(t,n)&&vA(e,n,t[n]);if(pA)for(var n of pA(t))gA.call(t,n)&&vA(e,n,t[n]);return e})({className:"ClaimServerButton-button-ytsT0q SpinnerButton-button-tcanHL Button-button-TxWeuE Link-link-SxPFpG",kind:hu.qN,size:Ze.E_,target:"_blank"},e),(0,B.A)("Claim Server"))};var bA=Object.defineProperty;const yA=(0,it.Mz)((0,yh.A)("authToken"),(e=>({authToken:e}))),AA={dispatchClaimServer:$y.yg};class EA extends i.Component{constructor(){super(...arguments),((e,t,n)=>{((e,t,n)=>{t in e?bA(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n)})(this,"onClaimServerPress",(()=>{this.props.dispatchClaimServer({serverEntityID:this.props.serverEntityID,authToken:this.props.authToken})}))}render(){const{isBusy:e,isDisabled:t}=this.props;return i.createElement(fA,{isDisabled:t,isSpinning:e,onPress:this.onClaimServerPress})}}const SA=(0,C.Ng)(yA,AA)(EA);var wA=n(3846),CA=n(76879),PA=n(60059),DA=Object.defineProperty;const xA={dispatchReadStoredPIN:wA.XL,dispatchCreatePIN:$y.WU,dispatchSignInThenClaimServer:$y.j2};class kA extends i.Component{constructor(){super(...arguments),((e,t,n)=>{((e,t,n)=>{t in e?DA(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n)})(this,"onClaimServerPress",(()=>{this.props.dispatchCreatePIN()}))}componentDidMount(){this.props.dispatchReadStoredPIN({shouldCreatePIN:!1})}componentDidUpdate(e){this.props.authToken!==e.authToken&&this.props.authToken&&this.props.dispatchSignInThenClaimServer({serverEntityID:this.props.serverEntityID,authToken:this.props.authToken})}render(){const{isBusy:e,isDisabled:t,pinID:n,code:a}=this.props;return n?i.createElement(PA.A,{code:a,component:CA.A,pinID:n}):i.createElement(fA,{isDisabled:t,isSpinning:e,onPress:this.onClaimServerPress})}}const OA=(0,C.Ng)(qy.A,xA)(kA);var IA=Object.defineProperty,TA=(e,t,n)=>(((e,t,n)=>{t in e?IA(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);const MA={dispatchPreloadPIN:wA.d2,dispatchBeginPolling:wA.d8,dispatchStopPolling:wA.Et,dispatchSignInThenClaimServer:$y.j2};class NA extends i.Component{constructor(){super(...arguments),TA(this,"onClaimServerPress",(()=>{this.props.dispatchBeginPolling({pinID:this.props.pinID})})),TA(this,"onStillTherePress",(()=>{this.props.dispatchPreloadPIN()}))}componentDidMount(){this.props.dispatchPreloadPIN()}componentDidUpdate(e){this.props.authToken!==e.authToken&&this.props.authToken&&this.props.dispatchSignInThenClaimServer({serverEntityID:this.props.serverEntityID,authToken:this.props.authToken})}componentWillUnmount(){this.props.dispatchStopPolling()}render(){const{code:e,pinID:t,isBusy:n,isDisabled:a}=this.props;return n||this.props.code?i.createElement(PA.A,{code:e,component:fA,isDisabled:a||!t,isSpinning:n,pinID:t,onPress:this.onClaimServerPress}):i.createElement(Lm.A,{message:(0,B.A)("Server claiming timed out. {openLink}Try again?{closeLink}"),tags:[{open:"openLink",close:"closeLink",component:Xt.A,kind:hu.jd,onPress:this.onStillTherePress}]})}}const LA=(0,C.Ng)(qy.A,MA)(NA),RA="UnclaimedServer-message-itIP_p",FA="UnclaimedServer-messageHeader-Ojzhis",UA="UnclaimedServer-messageDetails-ePcWpV",VA=function(e){const{serverEntityID:t,isBusy:n,isAnonymousUser:a,isUserRestricted:r,ClaimServerButtonConnectorComponent:s}=e;return i.createElement("div",{className:"UnclaimedServer-container-zHn7fc"},i.createElement(Jy,{serverEntityID:t}),a?i.createElement("div",{className:RA},i.createElement("div",{className:FA},(0,B.A)("This server is unclaimed and not secure")),i.createElement("div",{className:UA},(0,B.A)("You need to sign in to claim this server."))):null,r?i.createElement("div",{className:RA},i.createElement("div",{className:FA},(0,B.A)("This server is unclaimed and not secure")),i.createElement("div",{className:UA},(0,B.A)("You are signed in as a managed user.")),i.createElement("div",{className:UA},(0,B.A)("Switch to a full user account to claim this server."))):null,a||r?null:i.createElement("div",{className:RA},i.createElement("div",{className:FA},(0,B.A)("This server is unclaimed and not secure")),i.createElement("div",{className:UA},(0,B.A)("Claiming this server will associate it with your Plex account. This helps your devices find each other and helps keep your media safe."))),i.createElement(s,{isBusy:n,isDisabled:a||r,serverEntityID:t}))};var jA=Object.defineProperty,BA=Object.getOwnPropertySymbols,HA=Object.prototype.hasOwnProperty,zA=Object.prototype.propertyIsEnumerable,_A=(e,t,n)=>t in e?jA(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const WA="SIGNED_IN_BUTTON",GA="SIGNED_OUT_POLL_BUTTON",KA="SIGNED_OUT_LAUNCH_BUTTON",qA={dispatchClaimServer:$y.yg},$A={[WA]:SA,[GA]:LA,[KA]:OA};class JA extends i.Component{render(){const{serverEntityID:e,componentType:t,isBusy:n,isAnonymousUser:a,isUserRestricted:r}=this.props;return i.createElement(VA,{ClaimServerButtonConnectorComponent:$A[t],isAnonymousUser:a,isBusy:n,isUserRestricted:r,serverEntityID:e})}}const QA=(0,C.Ng)((function(){return(0,it.Mz)(qy.A,dA.A,(0,yh.A)("isSignedIn"),(0,yh.A)("restricted"),((e,t,n,a)=>{let r;return r=n?WA:(0,uA.A)()?GA:KA,((e,t)=>{for(var n in t||(t={}))HA.call(t,n)&&_A(e,n,t[n]);if(BA)for(var n of BA(t))zA.call(t,n)&&_A(e,n,t[n]);return e})({componentType:r,isUserRestricted:!!a,isAnonymousUser:t},e)}))}),qA)(JA);var YA=Object.defineProperty,XA=Object.getOwnPropertySymbols,ZA=Object.prototype.hasOwnProperty,eE=Object.prototype.propertyIsEnumerable,tE=(e,t,n)=>t in e?YA(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,nE=(e,t)=>{for(var n in t||(t={}))ZA.call(t,n)&&tE(e,n,t[n]);if(XA)for(var n of XA(t))eE.call(t,n)&&tE(e,n,t[n]);return e};const aE=(0,C.Ng)((function(){return(0,it.Mz)((0,it.Mz)((0,xs.A)(),Ky(),((e,t)=>!!(e&&e.isClaimed&&t&&t.signedIn))),(e=>({isServerClaimed:e})))}))((function(e){const t=e,{isServerClaimed:n}=t,a=((e,t)=>{var n={};for(var a in e)ZA.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&XA)for(var a of XA(e))t.indexOf(a)<0&&eE.call(e,a)&&(n[a]=e[a]);return n})(t,["isServerClaimed"]);return n?i.createElement(cA,nE({},a)):i.createElement(QA,nE({},a))})),rE=G.A.extend({template:()=>"",mountReact(){const e=(0,O.hd)("appStore"),t=this.model.entityID();(0,Gy.H)(this.el).render(i.createElement(C.Kq,{store:e},i.createElement(aE,{serverEntityID:t})))}});var iE=n(41914),sE=n.n(iE);const lE=K.A.Layout.extend({className:"form-group",template:sE(),isDisabled:!0,isActive:!1,ui:{submitBtn:".submit-btn",message:".form-message"},events:{"change #server-settings-form input[name]":"onInputChange","input #server-settings-form input[type=text]":"onInputChange","change #server-settings-form select[name]":"onInputChange","submit #server-settings-form":"onSubmit"},initialize:function(e){this.changes=e.changes},serializeData:function(){return T().where(this.collection.toJSON(),{group:this.options.group,hidden:!1})},enable:function(){this.isDisabled=!1,this.ui.submitBtn.removeClass("disabled"),this.ui.message.text(""),this.ui.message.removeClass("has-error")},updateModel:function(e,t){const n=this.collection.get(e);if(n)return n.set("value",t)},onRender:function(){T().isEmpty(this.changes)||this.enable()},onInputChange:function(e){const t=e.currentTarget,n=t.name;let a=t.value,r=t.value;n&&("checkbox"===t.type&&(r=t.checked,r||(a="0")),this.updateModel(n,r)&&(this.changes[t.name]=a,this.enable()))},onSubmit:function(e){e.preventDefault(),this.trigger("save")},onBeforeSave:function(){this.isActive=!0,this.ui.submitBtn.addClass("active")},onAfterSave:function(e){this.isActive=!1,this.ui.submitBtn.removeClass("active"),e?(this.isDisabled=!0,this.ui.submitBtn.addClass("disabled"),this.ui.message.removeClass("has-error"),this.ui.message.text((0,B.A)("Your changes have been saved."))):(this.ui.message.addClass("has-error"),this.ui.message.text((0,B.A)("Your changes could not be saved.")))}}),oE=lE;var cE=n(81296),dE=n(10500),uE=n(63500),mE=n(53354),pE=n.n(mE);function hE(e){return e?e.split("\n"):[]}const gE=Vv.A.extend({name:"releaseNotesModal",template:pE(),serializeData:function(){const e=this.model.toJSON();return e.escapedVersion=T().escape(e.version.replace(/-.*/gi,"")),e.added=hE(e.added),e.fixed=hE(e.fixed),e}});var vE=n(11772),fE=n.n(vE),bE=Object.defineProperty,yE=Object.defineProperties,AE=Object.getOwnPropertyDescriptors,EE=Object.getOwnPropertySymbols,SE=Object.prototype.hasOwnProperty,wE=Object.prototype.propertyIsEnumerable,CE=(e,t,n)=>t in e?bE(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const PE=yE(((e,t)=>{for(var n in t||(t={}))SE.call(t,n)&&CE(e,n,t[n]);if(EE)for(var n of EE(t))wE.call(t,n)&&CE(e,n,t[n]);return e})({},cE),AE({CHECKING:"checking"}));const DE=K.A.ItemView.extend({tagName:"span",className:"check-for-updates-container",template:fE(),ui:{checkForUpdatesBtn:".check-for-updates-btn",downloadUpdatesContainer:".downloading-updates-container",downloadProgressContainer:".downloading-progress-container",downloadProgressLabel:".downloading-progress-label",updateProgressLabel:".downloading-updates-label",updateErrorMessage:".update-error-message",installManualLink:".install-manual-link"},modelEvents:{"change:isChecking":"onIsCheckingChange","change:state":"onStateChange","change:progress":"onProgressChange"},events:{"click .check-for-updates-btn":"onCheckForUpdatesClick","click .available-updates-btn":"onDownloadUpdatesClick","click .install-updates-btn":"onInstallUpdatesClick","click .install-manual-link":"onInstallManualClick","click .release-notes-btn":"onInfoClick"},initialize:function(){O.hd("appStore").dispatch((0,Dy.FV)({serverEntityID:this.model.server.entityID()}))},serializeData:function(){return{canCheckForUpdate:this.canCheckForUpdate(this.model)}},checkForUpdates:function(e={}){O.hd("appStore").dispatch((0,Dy.QZ)({serverEntityID:this.model.server.entityID(),download:e.download,initialState:e.initialState}))},dismissUpdates:function(){O.hd("appStore").dispatch((0,Dy.L1)({serverEntityID:this.model.server.entityID(),version:(0,dE.A)(this.model.get("version"))}))},downloadUpdates:function(){O.hd("appStore").dispatch((0,Dy.FX)({serverEntityID:this.model.server.entityID()}))},installUpdates:function(){O.hd("appStore").dispatch((0,Dy.Q2)({serverEntityID:this.model.server.entityID()}))},waitForInstall:function(){this.onWaitingForInstallCheck(),this.listenTo(this.model.server,"change:isConnected",this.onServerConnectedChange)},setCurrentViewState:function(e){this.$el.removeClass(this.currentViewState),this.currentViewState=e,this.$el.addClass(this.currentViewState)},showUpdateState:function(){const e=this.model.get("state");this.model.previous("state")===cE.INSTALLING&&this.stopListening(this.model.server,"change:isConnected",this.onServerConnectedChange);let t=e;this.model.get("canInstall")||e!==cE.AVAILABLE?this.model.get("isChecking")&&(t=PE.CHECKING):t=PE.NOTIFY,this.setCurrentViewState(t);const n=!(!this.model.get("added")&&!this.model.get("fixed"));if(this.$el.toggleClass("has-release-notes",n),t===PE.INSTALLING)this.waitForInstall();else if(t===PE.ERROR||t===PE.NOTIFY){let e;this.model.get("error")?(e=this.model.get("error"),this.ui.installManualLink.addClass("hidden")):this.model.get("canInstall")?(e=(0,B.A)("Something went wrong."),this.ui.installManualLink.removeClass("hidden")):(e=(0,B.A)("An update is available."),this.ui.installManualLink.removeClass("hidden"));const t=this.model.get("downloadURL")||(0,uE.A)();this.ui.installManualLink.attr("href",t),this.ui.updateErrorMessage.text(e)}},canCheckForUpdate:function(e){const t=e.get("state");return!e.get("isChecking")&&(t===cE.DONE||t===cE.ERROR||t===cE.NONE)},onViewStateChange:function(e){this.isRendered&&(this.showUpdateState(),this.ui.checkForUpdatesBtn.toggleClass("active",!this.canCheckForUpdate(e)))},onRender:function(){this.showUpdateState()},onIsCheckingChange:function(e){this.onViewStateChange(e)},onStateChange:function(e){this.onViewStateChange(e)},onProgressChange:function(e,t){T().isNumber(t)?(this.ui.downloadUpdatesContainer.css({backgroundSize:t+"% 100%"}),this.ui.downloadProgressContainer.removeClass("hidden"),this.ui.downloadProgressLabel.text(t)):this.ui.downloadProgressContainer.addClass("hidden")},onServerConnectedChange:function(e,t){t?this.checkForUpdates():this._waitingTimeoutID&&(this._waitingTimeoutID=window.clearTimeout(this._waitingTimeoutID))},onWaitingForInstallCheck:function(){const e=this.model.server;if(e.get("isConnected")&&this.model.get("state")===cE.INSTALLING){const t=e.getXHROptions("/updater/check",{type:"PUT"});k().ajax(t).promise().always((()=>{this._waitingTimeoutID=window.setTimeout(this.onWaitingForInstallCheck.bind(this),2e3)}))}},onCheckForUpdatesClick:function(e){e.preventDefault(),this.ui.checkForUpdatesBtn.isDisabled()||(this.ui.checkForUpdatesBtn.addClass("active"),this.checkForUpdates({download:!0}))},onDownloadUpdatesClick:function(e){e.preventDefault(),this.downloadUpdates()},onInstallUpdatesClick:function(e){e.preventDefault(),this.installUpdates()},onInstallManualClick:function(){this.dismissUpdates()},onInfoClick:function(e){e.preventDefault(),me.A.trigger("show:modal",new gE({model:this.model}))}}),xE=DE;var kE=n(97682),OE=n.n(kE);const IE=oE.extend({template:OE(),regions:{signIn:".sign-in-region",update:".update-region"},serializeData:function(){const e=oE.prototype.serializeData.apply(this,arguments),t=T().findWhere(e,{id:"FriendlyName"});return t&&(t.placeholder=this.model.get("friendlyName")),e},bindings:{".version":{modelAttribute:"version",formatter:function(e){const t=(0,O.hd)("appModel"),n=(0,Wy.Kd)(t).isNinja();return(0,B.A)("Version {1}",n?e:this.model.get("shortVersion"))}}},onRender:function(){oE.prototype.onRender.apply(this,arguments),this.signIn.show(new rE({model:this.model})),this.model.get("updater")&&this.update.show(new xE({model:this.model.get("desktop").get("update"),collection:this.collection}))}});var TE=n(12060);const ME=oE.extend({prefix:"account.",serializeData:function(){const e=this.options.account,t=[],n=TE.ak.map((e=>({value:e,label:TE.Ay[e]})));return t.push({id:this.prefix+"autoSelectAudio",label:(0,B.A)("Automatically select audio and subtitle tracks"),summary:(0,B.A)("Automatically select audio and subtitle tracks in your preferred language when possible."),default:!1,value:e.get("autoSelectAudio"),type:"bool",group:"account.language",advanced:!1,hidden:!1}),t.push({id:this.prefix+"defaultAudioLanguage",label:(0,B.A)("Prefer audio tracks in"),default:"en",value:e.get("defaultAudioLanguage"),type:"text",group:"account.language",advanced:!1,hidden:!1,enumValues:n}),t.push({id:this.prefix+"subtitleMode",label:(0,B.A)("Subtitle mode"),default:1,value:parseInt(e.get("subtitleMode"),10),type:"int",group:"account.language",advanced:!1,hidden:!1,enumValues:[{value:0,label:(0,B.A)("Manually selected")},{value:1,label:(0,B.A)("Shown with foreign audio")},{value:2,label:(0,B.A)("Always enabled")}]}),t.push({id:this.prefix+"defaultSubtitleLanguage",label:(0,B.A)("Prefer subtitles in"),default:"en",value:e.get("defaultSubtitleLanguage"),type:"text",group:"account.language",advanced:!1,hidden:!1,enumValues:n}),t},updateModel:function(e,t){const n=oE.prototype.updateModel.apply(this,arguments);if(n)return n;const a=e.replace(this.prefix,""),r=this.options.account;return r.has(a)?r.set(a,t):void 0}}),NE=ME;var LE=n(67202),RE=n.n(LE);const FE=oE.extend({className:"remote-access-container",template:RE(),ui:{manualPortMappingMode:"#ManualPortMappingMode",manualPortMappingPort:"#ManualPortMappingPort",wanTotalMaxUploadRate:"#WanTotalMaxUploadRate",uploadContainer:".remote-access-upload-container",submitBtn:".submit-btn",message:".form-message"},events:{"change .remote-access-error-container input[id]":"onErrorInputChange","click .sign-in-link":"onSignInClick","click .remote-access-enable-btn":"onEnableClick","click .retry-btn":"onRetryClick","click .remote-access-disable-btn":"onDisableClick","change input[name=WanTotalMaxUploadRate]":"onTotalRateChange","keyup input[name=WanTotalMaxUploadRate]":"onTotalRateChange","change select[name=WanPerStreamMaxUploadRate]":"onPerStreamRateChange","submit #remote-access-upload-form":"onUploadFormSubmit"},initialize:function(e){this.cloudAccount=e.cloudAccount,this.changes=e.changes,this.listenTo(this.cloudAccount,{"change:signInState":this.render,"change:remoteAccessState":this.render})},serializeData:function(){const e=this.collection.get("PublishServerOnPlexOnlineKey"),t=this.collection.get("ManualPortMappingMode"),n=this.collection.get("ManualPortMappingPort"),a=this.collection.get("WanTotalMaxUploadRate"),r=this.collection.get("WanPerStreamMaxUploadRate"),i=this.cloudAccount.toJSON(),s=!e.get("value"),l=!i.signedIn,o=s||l,c=!(!i.privateAddress||null==i.privatePort),d=!(!i.publicAddress||null==i.publicPort),u={forceAdvanced:!s&&!!i.mappingError,isDisabled:s,isSignedOut:l,isUnavailable:o,canEditPort:!o&&t&&t.get("value"),hasPrivateAddress:c,hasPublicAddress:d,cloudAccount:i,hasMappingSettings:!(!t||!n),hasUploadLimitSettings:!(!a||!r),mappingModeSetting:t?t.toJSON():null,mappingPortSetting:n?n.toJSON():null,uploadSettings:[]};return a&&(u.totalRateSettingID=a.id,u.totalRateSettingValue=a.get("value")/1e3),r&&u.uploadSettings.push(r.toJSON()),u},enable:function(){},enableUploadForm:function(){this.isDisabled=!1,this.ui.message.text(""),this.ui.message.removeClass("has-error"),this.ui.submitBtn.removeClass("disabled")},updateUploadSetting:function(e,t){e&&this.updateModel(e,t)&&(this.changes[e]=t,this.enable())},connect:function(){return pe.A.execute("connectServer",{cloudAccount:this.cloudAccount,value:!0})},disconnect:function(){return pe.A.execute("connectServer",{cloudAccount:this.cloudAccount,value:!1})},reconnect:function(){return pe.A.execute("reconnectServer",{cloudAccount:this.cloudAccount})},saveChanges:function(){if(T().isEmpty(this.changes))return k().Deferred().resolve().promise();const e=this.collection.first().save(this.changes);return e.done(T().bind((function(){this.changes={}}),this)),e},onErrorInputChange:function(){oE.prototype.onInputChange.apply(this,arguments),this.ui.manualPortMappingPort.prop("disabled",!this.ui.manualPortMappingMode.prop("checked"))},onSignInClick:function(e){e.preventDefault(),(0,xy.A)("serverSettings",{machineIdentifier:this.model.id,settingsSection:"settings",settingsGroup:"general"})},onEnableClick:function(e){e.preventDefault(),this.connect()},onDisableClick:function(e){e.preventDefault();const t=this.model.get("isPrivateConnection"),n=this.collection.get("ManualPortMappingMode").get("value"),a=new Me.A({title:(0,B.A)("Disable Remote Access"),message:t?(0,B.A)("This server will no longer be accessible outside this network. Are you sure you want to disable remote access?"):(0,B.A)("This server will no longer be accessible outside the local network. You're currently using a remote connection to this server and you may lose access if you continue. Are you sure you want to disable remote access?"),warningMessage:n?(0,B.A)("Note: This will not affect any custom network configuration or manual port forwarding from your router. Please review your network settings to ensure complete removal of access to this host and port."):void 0,confirmLabel:(0,B.A)("Disable"),cancelLabel:(0,B.A)("Cancel"),hasDanger:!0});a.promise.then((()=>{this.disconnect()})),me.A.trigger("show:modal",a)},onRetryClick:function(e){e.preventDefault(),this.cloudAccount.set("remoteAccessState",dy.N3),this.saveChanges().always(T().bind(this.reconnect,this))},onTotalRateChange:function(e){const t=e.currentTarget,n=parseFloat(t.value,10),a=T().isNaN(n)?0:Math.max(n,0);this.updateUploadSetting(t.name,1e3*a),this.enableUploadForm()},onPerStreamRateChange:function(e){const t=e.currentTarget;this.updateUploadSetting(t.name,t.value),this.enableUploadForm()},onUploadFormSubmit:function(e){e.preventDefault(),this.trigger("save");const t=this.collection.get("WanTotalMaxUploadRate").get("value"),n=!t;this.ui.wanTotalMaxUploadRate.val(t/1e3),this.ui.uploadContainer.toggleClass("show-warning",n)}}),UE=FE;var VE=n(26575),jE=n.n(VE);const BE=K.A.ItemView.extend({className:"loading",template:jE(),initialize:function(e){(null==e?void 0:e.inline)&&this.$el.addClass("loading-inline")}}),HE=BE;var zE=n(81587),_E=n.n(zE);const WE=K.A.ItemView.extend({template:_E()});var GE=n(67125);const KE="pending",qE="failed",$E="complete";var JE=n(9049);const QE=Ny.A.extend({background:!0,setup:function(e){this.model=e.model,e.noPlaceholder||(this.placeholderClass=ge.A.playlist);const t=(0,JE.A)(),n={width:Math.round((e.width||e.height||256)*t),height:Math.round((e.height||e.width||256)*t),rows:e.rows||2,cols:e.columns||2,border:e.border||0,media:e.media||"thumb",repeat:e.unique?0:1},a=this.model.get("composite");a&&(this.url=this.model.server.resolveUrl(Wh.A.join(a,n),{appendToken:!0}))}}),YE=QE;var XE=n(17280);const ZE=["Bytes","KB","MB","GB","TB"],eS={OK:"ok",FILE_UNAVAILABLE:"sourceFileUnavailable",METADATA_ERROR:"sourceFileMetadataError",PROFILE_ERROR:"clientProfileError",IO_ERROR:"ioError",TRANSCODER_ERROR:"transcoderError",UNKNOWN_ERROR:"unknownError",ANALYSIS_ERROR:"mediaAnalysisError",DOWNLOAD_FAILED:"downloadFailed",CANNOT_TRANSCODE:"cannotTranscode"};var tS=n(52207),nS=n.n(tS);const aS=K.A.Layout.extend({tagName:"li",className:"striped-list-item version-generator-metadata-list-item",template:nS(),ui:{poster:".media-poster"},regions:{statusRegion:".conversion-status-region"},events:{"click .enable-btn":"onEnableClick","click .retry-btn":"onRetryClick"},modelEvents:{"change:processingState":"onProcessingStateChange"},initialize:function(e){this.generator=e.generator,this.transcodeJobs=e.transcodeJobs,this.pausedSetting=e.pausedSetting,this.type=this.model.get("type"),this.image=new ve.A({model:this.model,type:"movie",height:60,modelAttribute:"episode"===this.type?"grandparentThumb":"thumb"})},bindings:{".generator-metadata-title":{modelAttribute:"title",formatter:function(e){return this.model.get("grandparentTitle")||this.model.get("parentTitle")||e}},".generator-metadata-episode-index":{modelAttribute:"index",autohide:!0,formatter:function(e){if("episode"===this.type)return(0,ya.A)({seasonIndex:this.model.get("parentIndex"),episodeIndex:e,date:this.model.get("originallyAvailableAt"),noLeadingZero:!0,separator:"  "})}},".generator-metadata-year":{modelAttribute:"year",autohide:!0,formatter:function(e){if("movie"===this.type)return e}},".conversion-status-failed-message":{modelAttribute:"processingStateContext",formatter:function(e){return this.getErrorMessage(e)}}},getErrorMessage:function(e){const t=eS;switch(e){case t.FILE_UNAVAILABLE:return(0,B.A)("File unavailable");case t.METADATA_ERROR:return(0,B.A)("Invalid metadata");case t.PROFILE_ERROR:return(0,B.A)("Invalid profile");case t.ANALYSIS_ERROR:return(0,B.A)("Unable to analyze")}return(0,B.A)("Unable to convert")},onRender:function(){this.image.setElement(this.ui.poster),this.statusRegion.show(new xe({model:this.model,generator:this.generator,transcodeJobs:this.transcodeJobs,pausedSetting:this.pausedSetting,initialState:this.model.get("processingState"),initialErrorMessage:this.getErrorMessage(this.model.get("processingStateContext"))}))},onClose:function(){this.image.close()},onProcessingStateChange:function(e,t){this.statusRegion.currentView&&this.statusRegion.currentView.enterState(t)},onEnableClick:function(e){e.preventDefault(),pe.A.execute("enableVersionGenerator",{generator:this.model.generator,ratingKey:this.model.id})},onRetryClick:function(e){e.preventDefault(),pe.A.execute("reprocessVersionGenerator",{generator:this.model.generator,ratingKey:this.model.id})}}),rS=aS,iS=q.A.extend({tagName:"ul",className:"list version-generator-metadata-list",itemView:rS});var sS=n(86976),lS=n.n(sS);const oS=Vv.A.extend({mixins:[ye.A],name:"versionGeneratorMetadataModal",className:"version-generator-metadata-modal modal fade",template:lS(),pageSize:20,scrollThreshold:50,ui:{body:".modal-body",loading:".loading",errorMessage:".error-message"},regions:{listRegion:".list-region"},initialize:function(e){this.status=this.model.get("status"),this.listModel=e.listModel,this.collection=this.listModel.get("metadataItems"),this.transcodeJobs=e.transcodeJobs,this.pausedSetting=e.pausedSetting,this.handleScroll=T().throttle(this.whenRendered(this.onScroll),100)},states:{base:{},loading:{onEnter:function(){this.ui.loading.removeClass("hidden")},onExit:function(){this.ui.loading.addClass("hidden")}},error:{onEnter:function(){this.ui.errorMessage.removeClass("hidden")},onExit:function(){this.ui.errorMessage.addClass("hidden")}}},bindings:{".generator-title":{modelAttribute:"title"},".generator-items-count":{model:"status",modelAttribute:"itemsCount",formatter:function(e){return 1===e?(0,B.A)("{1} item",e):(0,B.A)("{1} items",e)}},".generator-total-size":{model:"status",modelAttribute:"totalSize",formatter:function(e){return e?function(e,t){if(e=parseInt(e,10),t=t||1,T().isNaN(e))return"";if(0===e)return"0 Bytes";const n=parseInt(Math.floor(Math.log(e)/Math.log(1024)),10);return(e/Math.pow(1024,n)).toFixed(t)+" "+ZE[n]}(e):(0,B.A)("0 files")}},".generator-failure-container":{model:"status",modelAttribute:"failure",manual:!0,autohide:function(e){return!!e}},".generator-failure-message":{model:"status",modelAttribute:"failure",formatter:function(e){return e}}},populatePage:function(){this.enterState("loading");const e=this.listModel.populateRange({start:0,end:this.listModel.get("populatedRange").end+this.pageSize});return e.done(this.whenRendered((function(){this.enterState("base")}))),e.fail(this.whenRendered((function(){this.enterState("error")}))),e},onRender:function(){Vv.A.prototype.onRender.apply(this,arguments),this.ui.body.on("scroll",this.handleScroll),this.model.fetch(),this.populatePage(),this.listRegion.show(new iS({collection:this.collection,itemViewOptions:{generator:this.model,transcodeJobs:this.transcodeJobs,pausedSetting:this.pausedSetting}}))},onClose:function(){this.ui.body.off("scroll",this.handleScroll),this.collection.reset()},onScroll:function(){"error"!==this.currentState&&this.ui.body.prop("scrollHeight")-this.ui.body.innerHeight()-this.ui.body.scrollTop()<this.scrollThreshold&&this.listModel.get("populatedRange").end<this.listModel.get("totalSize")&&this.populatePage()}}),cS=oS;var dS=n(65160),uS=n.n(dS);const mS=K.A.ItemView.extend({className:"striped-list-item media-list-item playlist-item version-generator-item",tagName:"li",template:uS(),ui:{poster:".media-poster",status:".generator-status"},events:{"click .playlist-inner-item":"onClick","click .retry-btn":"onRetryClick","click .edit-btn":"onEditClick","click .delete-btn":"onDeleteClick"},attributes:function(){return{"data-generator-id":this.model.id}},initialize:function(e){this.transcodeJobs=e.transcodeJobs,this.pausedSetting=e.pausedSetting,this.status=this.model.get("status"),this.compositeImage=new YE({model:this.model,width:GE.A.getPosterWidth("movie",60),height:60,rows:1,columns:1}),this.listenTo(this.transcodeJobs,"reset add remove",this.onTranscodeJobsChange)},resetState:function(){const e=["converting",KE,$E,qE];this.ui.status.removeClass(e.join(" "))},getState:function(e){return this.transcodeJobs.findWhere({generatorID:this.model.id})?"converting":e.get("itemsFailedCount")>0?qE:e.get("state")},bindings:{".generator-title":{modelAttribute:"title"},".generator-target":{modelAttribute:"target"},".generator-status":{model:"status",modelAttribute:"state",modelListeners:["state","itemsFailedCount"],manual:!0,formatter:function(e,t){this.resetState(),t.addClass(this.getState(this.status))}},".generator-status-failed-message":{model:"status",modelAttribute:"itemsFailedCount",formatter:function(e){return 1===e?(0,B.A)("1 failed item"):(0,B.A)("{1} failed items",e)}},".retry-btn":{model:"status",modelAttribute:"state",modelListeners:["state","itemsFailedCount"],manual:!0,autohide:function(){return this.getState(this.status)===qE}}},onRender:function(){this.compositeImage.setElement(this.ui.poster)},onClose:function(){this.compositeImage.close()},onTranscodeJobsChange:function(){const e=this.getState(this.status);this.resetState(),this.ui.status.addClass(e)},onClick:function(e){e.preventDefault(),me.A.trigger("show:modal",new cS({model:this.model,listModel:this.model.get("children"),transcodeJobs:this.transcodeJobs,pausedSetting:this.pausedSetting}))},onRetryClick:function(e){e.preventDefault(),e.stopImmediatePropagation(),pe.A.execute("reprocessVersionGenerator",{generator:this.model})},onEditClick:function(e){e.preventDefault(),e.stopImmediatePropagation(),me.A.trigger("show:modal",new XE.A({model:this.model}))},onDeleteClick:function(e){e.preventDefault(),e.stopImmediatePropagation(),pe.A.execute("deleteVersionGenerator",{generator:this.model})}}),pS=mS,hS=q.A.extend({tagName:"ol",className:"list media-list playlist-items",itemView:pS,emptyView:WE,sorted:!0,onRender:function(){this.sortable&&this.sortable.destroy(),this.sortable=new(ue())(this.el,{onUpdate:T().bind(this.onItemMove,this),handle:".sortable-handle",animation:200,scroll:!0,scrollSensitivity:100,scrollSpeed:2})},onClose:function(){this.sortable&&this.sortable.destroy()},onItemMove:function(e){const t=k()(e.item).data("generator-id"),n=k()(e.item).prev().data("generator-id");this.collection.parent.moveItem(t,n)}});var gS=n(65352),vS=n.n(gS);const fS=K.A.ItemView.extend({template:vS(),serializeData:function(){return{isTranscoderRequired:!this.model.get("transcoderVideo"),isUpgradeRequired:!this.model.supports("streamReady"),escapedMinServerVersion:T().escape(ce.A.streamReady)}}});var bS=n(15273),yS=n.n(bS);const AS=oE.extend({mixins:[ye.A],className:"versions-container",template:yS(),ui:{message:".versions-status-message"},regions:{listRegion:".background-processing-list-region"},events:{"click .delete-all-btn":"onDeleteAllVersionsClick","click .status-conversion-btn":"onStatusConversionClick"},initialize:function(){this.pausedSetting=this.collection.get("BackgroundQueueIdlePaused"),this.playlists=new H.A([],{server:this.model,allowInCache:!0}),this.transcodeJobs=this.model.get("desktop").get("backgroundTranscodeJobs")},initialState:"loading",states:{loading:{nextState:"list",onEnter:function(){const e=this.model.supports("streamReady"),t=this.model.get("transcoderVideo");if(this.listRegion.show(new HE({inline:!0})),!e||!t)return void this.enterState("error");let n=k().when(this.playlists.populate(),this.transcodeJobs.fetch());n=n.then(T().bind((function(){return this.playlist=this.playlists.first(),this.playlist?(this.generators=this.playlist.get("children"),this.generators.fetch()):k().Deferred().reject().promise()}),this)),n.done(this.whenRendered((function(){this.enterNextState()}))),n.fail(this.whenRendered((function(){this.enterState("error")})))}},list:{onEnter:function(){this.toggleMessage(),this.listenTo(this.generators,"reset add remove",this.toggleMessage),this.listRegion.show(new hS({collection:this.generators,itemViewOptions:{transcodeJobs:this.transcodeJobs,pausedSetting:this.pausedSetting}}))},onExit:function(){this.stopListening(this.generators)}},error:{onEnter:function(){this.listRegion.show(new fS({model:this.model}))}}},toggleMessage:function(){this.ui.message.toggleClass("hidden",!this.generators.length)},onRender:function(){this.enterNextState()},onDeleteAllVersionsClick:function(e){e.preventDefault(),pe.A.execute("deleteAllVersionGenerators",{server:this.model}).then(T().bind((function(){return this.generators.fetch()}),this))},onStatusConversionClick:function(e){e.preventDefault(),(0,xy.A)("serverSettings",{machineIdentifier:this.model.id,settingsSection:"status",settingsGroup:"conversion"})}});var ES=n(56603),SS=n.n(ES);const wS=K.A.Layout.extend({className:"server-settings-container",template:SS(),remoteAccessDecorators:{connecting:"unknown",disconnecting:"unknown",unreachable:"error",ok:"success"},regions:{serverDropdown:".filter-bar",nav:".nav-region",pane:".pane-region"},events:{"click .toggle-advanced-btn":"onToggleAdvancedClick"},panes:{general:{constructor:IE,group:"general",title:"General",isVisible:!0},remoteAccess:{constructor:UE,group:"remoteAccess",title:"Remote Access",isVisible:!0},versions:{constructor:AS,group:"versions",title:"Optimized Versions",isVisible:!0},agents:{constructor:_y,group:"agents",title:"Agents",isVisible:!0},library:{constructor:oE,group:"library",title:"Library"},network:{constructor:oE,group:"network",title:"Network"},transcoder:{constructor:oE,group:"transcoder",title:"Transcoder"},languages:{constructor:NE,group:"account.language",title:"Languages",isVisible:!0},dlna:{constructor:oE,group:"dlna",title:"DLNA"},butler:{constructor:oE,group:"butler",title:"Scheduled Tasks"},extras:{constructor:oE,group:"extras",title:"Extras"}},initialize:function(e){this.defaultGroup=e.group||"general",this.account=e.account,this.cloudAccount=e.cloudAccount,this.tempSettings=this.collection.cloneDeep(),this.tempAccount=this.account.clone(),this.changes={};const t=(0,O.hd)("appModel").get("user").get("experienceSettings").get("showAdvancedSettings");if(this.$el.toggleClass("show-advanced",t),this.initGroups(),this.model.supports("reachability")){const e="/myplex/refreshReachability",t=T().extend(this.model.getXHROptions(e),{type:"PUT"});k().ajax(t)}this.listenTo(me.A,"shortcut:save",this.saveChanges),this.listenTo(this.collection,"change:value",this.onSettingValueChange)},initGroups:function(){const e=T().keys(this.panes),t=T().unique(this.collection.filter((e=>e.get("group")&&!e.get("hidden"))).map((e=>e.get("group"))));this.groups=new te.Ay.Collection,e.forEach((e=>{const n=this.panes[e],a=n.isVisible;(!0===a||!1!==a&&T().contains(t,e))&&this.addGroup(e,n)})),T().each(t,(function(t){if(!T().contains(e,t)){const e={constructor:oE,group:t,title:t};this.panes[t]=e,this.addGroup(t,e)}}),this)},addGroup:function(e,t){const n=T().omit(t,"constructor");n.id=e,this.groups.add(n)},showPane:function(e){if(this.currentPane){if(this.currentPane.isActive)return this.currentPane;this.stopListening(this.currentPane),this.flushChanges()}const t=this.panes[e];t&&this.groups.get(e)||(0,xy.A)("serverSettings",{machineIdentifier:this.model.id,settingsSection:"settings",settingsGroup:"general"});const n=new(0,t.constructor)({model:this.model,collection:this.tempSettings,account:this.tempAccount,cloudAccount:this.cloudAccount,group:t.group,changes:this.changes});return this.currentPane=n,this.pane.show(n),this.listenTo(this.currentPane,"save",this.saveChanges),n},flushChanges:function(){this.currentPane.changes&&T().extend(this.changes,this.currentPane.changes)},saveChanges:function(){if(this.flushChanges(),this.currentPane.isDisabled||this.currentPane.isActive)return;this.currentPane.triggerMethod("before:save");const e=[],t=this.getPrefixedChanges("account.");T().isEmpty(t)||e.push(this.account.save(t)),T().isEmpty(this.changes)||e.push(this.collection.first().save(this.changes));const n=k().when.apply(k(),e);n.done(T().bind((function(){const e=T().keys(this.changes);T().each(e,(function(e){const t=this.tempSettings.get(e);this.collection.get(e).set("value",t.get("value")),"ButlerUpdateChannel"===e&&this.onButlerUpdateChannelChange()}),this),this.changes={},this.currentPane&&(this.currentPane.changes&&(this.currentPane.changes={}),this.currentPane.triggerMethod("after:save",!0))}),this)),n.fail(T().bind((function(){this.currentPane&&this.currentPane.triggerMethod("after:save",!1)}),this))},getPrefixedChanges:function(e){const t={};return T().each(this.changes,(function(n,a){0===a.lastIndexOf(e,0)&&(t[a.substring(e.length)]=n,delete this.changes[a])}),this),t},onRender:function(){this.showPane(this.defaultGroup)},onClose:function(){this.currentPane=null},onSettingValueChange:function(e,t){this.tempSettings.get(e.id).set("value",t)},onServerConnectedChange:function(e,t){t&&(this.stopListening(e,"change:connected",this.onServerConnectedChange),(0,O.hd)("appModel").set("primaryServer",e))},onToggleAdvancedClick:function(e){e.preventDefault();const t=this.$el.hasClass("show-advanced");(0,O.hd)("appStore").dispatch((0,na.hg)({showAdvancedSettings:!t})),this.$el.toggleClass("show-advanced",!t)},onButlerUpdateChannelChange:function(){const e=this.collection.get("ButlerTaskCheckForUpdates");(null==e?void 0:e.get("value"))&&(0,O.hd)("appStore").dispatch((0,Dy.QZ)({serverEntityID:this.model.entityID(),download:!1}))}}),CS=wS;var PS=n(94162),DS=n(79419),xS=n(73486),kS=n(45315),OS=n(75154);const IS="DVROutdatedServerBanner-container-SQFDts",TS="DVROutdatedServerBanner-button-praZ1u Button-button-TxWeuE Link-link-SxPFpG";function MS({machineIdentifier:e,activeConnectionUri:t,shouldRender:n}){if(!n)return null;const a=encodeURIComponent(e),r=`${t}/web/index.html${(0,Le.A)(e,"manage","dvr")}`,s=`#!/server/${a}/update`;return i.createElement("div",{className:IS},i.createElement("div",{className:"DVROutdatedServerBanner-messageContainer-TeOrO1"},i.createElement(wp.A,{className:"DVROutdatedServerBanner-icon-DSZrG7"}),i.createElement("div",{className:"DVROutdatedServerBanner-message-w36XAN"},(0,B.A)("Your Plex Media Server doesn't support setting up tuner devices on this version of the Plex Web App."))),i.createElement(cu.A,{className:TS,kind:hu.nd,target:"_blank",to:s},(0,B.A)("Update Server")),i.createElement(cu.A,{className:TS,kind:hu.nd,target:"_blank",to:r},(0,B.A)("Use Local Plex Web App")))}MS.defaultProps={className:IS,showButton:!0};const NS=MS,LS=(0,C.Ng)((function(){return(0,it.Mz)((0,xs.A)(),(e=>{const t=e.version&&!(0,Is.A)(e.version,ce.A.v4DVRSetup);return{activeConnectionUri:e.activeConnection.uri,machineIdentifier:e.machineIdentifier,shouldRender:t}}))}))(NS),RS=(0,C.Ng)((function(){return(0,it.Mz)((0,xs.A)(),(0,it.Mz)(((e,{settingsSection:t})=>t),((e,{settingsGroup:t})=>t),((e,t)=>{const n=T().findWhere(Sy,{key:e});return T().findWhere(n.groups,{key:t}).title()})),((e,t)=>({friendlyName:e?e.friendlyName:"",sourceTitle:e?e.sourceTitle:"",isShared:!(!e||!e.isShared),settingsTitle:t})))}))((function(e){const{serverEntityID:t,friendlyName:n,sourceTitle:a,settingsTitle:r,settingsGroup:s,settingsSection:l,isShared:o}=e,c="manage"===l&&"dvr"===s,d={friendlyName:n,sourceTitle:a,isShared:o},u=(0,OS.A)(d),m=(0,kS.A)(d),p=u&&m?`${u} (${m})`:u;return i.createElement(y.A,null,c?i.createElement(LS,{serverEntityID:t}):null,p,i.createElement(Et.A,null),r)}));var FS=Object.defineProperty,US=Object.getOwnPropertySymbols,VS=Object.prototype.hasOwnProperty,jS=Object.prototype.propertyIsEnumerable,BS=(e,t,n)=>t in e?FS(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,HS=(e,t)=>{for(var n in t||(t={}))VS.call(t,n)&&BS(e,n,t[n]);if(US)for(var n of US(t))jS.call(t,n)&&BS(e,n,t[n]);return e};const zS=(0,C.Ng)((function(){return(0,it.Mz)(((e,{settingsSection:t})=>t),((e,{settingsGroup:t})=>t),Cy(),(0,xs.A)(),Ds.A,((e,t,n,a,r)=>{const i=function(e,t,n){const a=e.find((e=>e.key===t));return a?a.groups.find((e=>e.key===n)):null}(n,e,t);return{machineIdentifier:a&&a.machineIdentifier,providerIdentifier:r&&r.identifier,isInstallingServerUpdate:!(!a||!a.isInstallingServerUpdate),isUnavailable:!(!a||!a.isUnavailable),isUnauthorized:!(!a||!a.isUnauthorized),isSettingAccessible:!!i,isSettingsPending:!(!a||!a.desktop.isSettingsPending),pageComponent:i&&i.pageComponent,paneComponent:i&&i.paneComponent}}))}))((function(e){const t=e,{serverEntityID:n,providerEntityID:a,machineIdentifier:r,providerIdentifier:s,viewDataErrorMessage:l,isViewDataPending:o,isInstallingServerUpdate:c,isUnavailable:d,isUnauthorized:u,isSettingAccessible:m,isSettingsPending:p,settingsSection:h,settingsGroup:g,pageComponent:v,paneComponent:f,contentView:y}=t,A=((e,t)=>{var n={};for(var a in e)VS.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&US)for(var a of US(e))t.indexOf(a)<0&&jS.call(e,a)&&(n[a]=e[a]);return n})(t,["serverEntityID","providerEntityID","machineIdentifier","providerIdentifier","viewDataErrorMessage","isViewDataPending","isInstallingServerUpdate","isUnavailable","isUnauthorized","isSettingAccessible","isSettingsPending","settingsSection","settingsGroup","pageComponent","paneComponent","contentView"]);return c?i.createElement(xS.A,{serverEntityID:n}):o?i.createElement($v.A,null,i.createElement(jp.A,null)):d?i.createElement(DS.A,{serverEntityID:e.serverEntityID}):u?i.createElement(PS.A,null):l?i.createElement(Jv.A,{title:l}):m?v?i.createElement(v,HS({serverEntityID:n},Py(h,g))):i.createElement(b.A,HS({},Py(h,g)),i.createElement(RS,{serverEntityID:n,settingsGroup:g,settingsSection:h}),f?i.createElement(f,{machineIdentifier:r,providerEntityID:a,providerIdentifier:s,serverEntityID:n}):i.createElement(qv.A,{view:y||CS,viewOptions:A})):p?i.createElement($v.A,null,i.createElement(jp.A,null)):i.createElement(Jv.A,{title:(0,B.A)("There was an unexpected error loading the settings")})}));var _S=n(75494),WS=n.n(_S),GS=n(96939),KS=n(50192),qS=n(93639),$S=n(38993),JS=n(84916),QS=n(39439),YS=n(98920),XS=n(86804);function ZS(e){const{className:t,children:n}=e;return i.createElement("div",{className:t},n)}ZS.defaultProps={className:"SidebarContainer-sidebarContainer-Qq7sLj"};const ew=ZS;var tw=Object.defineProperty,nw=Object.getOwnPropertySymbols,aw=Object.prototype.hasOwnProperty,rw=Object.prototype.propertyIsEnumerable,iw=(e,t,n)=>t in e?tw(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;function sw(e){const{className:t}=e;return i.createElement(Vp.A,((e,t)=>{for(var n in t||(t={}))aw.call(t,n)&&iw(e,n,t[n]);if(nw)for(var n of nw(t))rw.call(t,n)&&iw(e,n,t[n]);return e})({autoScroll:!0,className:t},e))}sw.defaultProps={className:"SidebarScroller-scroller-IAWkYI"};const lw=sw;var ow=n(27045),cw=n(44907),dw=n(88201),uw=n(98618);var mw=Object.defineProperty;class pw extends i.Component{shouldComponentUpdate(e,t){return(0,Xa.A)(this,e,t)}render(){const{children:e,className:t,friendlyNameClassName:n,detailsClassName:a,to:r,isDisabled:s,isSelected:l,identifier:o,title:c,details:d,onPress:u}=this.props;return i.createElement(hp.A,{className:ma()(t,"ServerMenuItem-serverMenuItem-W6XML8",l&&"ServerMenuItem-selectedServerMenuItem-C8RmoN"),"data-testid":"serverMenuItem--"+o,isDisabled:s,to:r,onPress:u},i.createElement("div",{className:"ServerMenuItem-serverMenuItemContainer-nHhdmW"},i.createElement("div",{className:"ServerMenuItem-serverMenuTitle-fg3Pbl"},i.createElement("div",{className:n},c),i.createElement("div",{className:a},d)),i.createElement("div",{className:"ServerMenuItem-serverMenuIconContainer-n4kS89"},l?i.createElement(zo.A,{"aria-label":(0,B.A)("Selected"),className:ma()("ServerMenuItem-serverMenuIcon-ByEHwk","ServerMenuItem-selectedIcon-t5wjgi")}):null,e)))}}((e,t,n)=>{((e,t,n)=>{t in e?mw(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,t+"",n)})(pw,"defaultProps",{friendlyNameClassName:"ServerMenuItem-serverMenuFriendlyName-A3h_Kw",detailsClassName:"ServerMenuItem-serverMenuDetails-UbY8bX"});const hw=pw;var gw=Object.defineProperty,vw=Object.getOwnPropertySymbols,fw=Object.prototype.hasOwnProperty,bw=Object.prototype.propertyIsEnumerable,yw=(e,t,n)=>t in e?gw(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const Aw=function(e){const{className:t,isFullOwnedServer:n,isInstallingServerUpdate:a,isUnavailable:r,isSettingsPending:s}=e;return a||n&&s&&!r?i.createElement("div",{className:t},i.createElement(jp.A,{className:"ServerSettingsStatusIcon-spinner-n6smmp",size:Ze.o5})):i.createElement(tr,((e,t)=>{for(var n in t||(t={}))fw.call(t,n)&&yw(e,n,t[n]);if(vw)for(var n of vw(t))bw.call(t,n)&&yw(e,n,t[n]);return e})({},e))},Ew=(0,C.Ng)((function(){return(0,it.Mz)((0,xs.A)(),(e=>({machineIdentifier:e.machineIdentifier,friendlyName:e.friendlyName,sourceTitle:e.sourceTitle,activeConnection:e.activeConnection,isFullOwnedServer:e.isFullOwnedServer,isInstallingServerUpdate:e.isInstallingServerUpdate,isConnected:e.isConnected,isShared:e.isShared,isUnavailable:e.isUnavailable,isSecure:e.isSecure,isRelayed:e.isRelayed,isSettingsPending:e.desktop.isSettingsPending})))}))((function(e){const{isSelected:t,activeConnection:n,isConnected:a,isShared:r,isUnavailable:s,isSecure:l,isRelayed:o,machineIdentifier:c,friendlyName:d,sourceTitle:u,isFullOwnedServer:m,isInstallingServerUpdate:p,isSettingsPending:h,settingsSection:g,settingsGroup:v}=e,f={activeConnection:n,friendlyName:d,sourceTitle:u,isFullOwnedServer:m,isShared:r,isConnected:a,isRelayed:o,isUnavailable:s},{isConnecting:b,status:y}=(0,uw.A)(f),A=(0,dw.A)((0,kS.A)(f),y),E=m&&h||b||s;return i.createElement(hw,{className:ma()(E&&"ServerSettingsServerMenuItem-disabled-csoE4T"),details:A,detailsClassName:"ServerSettingsServerMenuItem-details-nsaNqc",friendlyNameClassName:"ServerSettingsServerMenuItem-friendlyName-i89VT3",identifier:c,isDisabled:b,isSelected:t,title:(0,OS.A)(f),to:(0,Le.A)(c,g||"settings",v||"general")},i.createElement(Aw,{className:"ServerSettingsServerMenuItem-icon-S0vALH",isConnected:a,isFullOwnedServer:m,isInstallingServerUpdate:p,isRelayed:o,isSecure:l,isSettingsPending:h,isUnavailable:s}))})),Sw=5*parseInt(wc.A.serverMenuItemHeight,10),ww={className:"ServerSettingsServerMenu-serverMenuScroller-SiVADq Menu-menuScroller-XtY7Ni Scroller-vertical-nKq0Q8",scrollDirection:Ap.tT,autoScroll:!0},Cw=function(e){const{target:t,serverEntityIDs:n,selectedServerEntityID:a,settingsSection:r,settingsGroup:s,isOpen:l,onMenuClose:o}=e;return i.createElement($e.A,{className:"ServerSettingsServerMenu-serverMenu-uWJDRg Menu-menu-OCzudL",isOpen:l,maxHeight:Sw,scrollerProps:ww,target:t,onMenuClose:o},n.map((e=>i.createElement(Ew,{key:e,isSelected:e===a,serverEntityID:e,settingsGroup:s,settingsSection:r}))))};var Pw=n(73466);function Dw(e){const{className:t,secondaryTitleClassName:n,id:a,isLoading:r,isMenuOpen:s,isDisabled:l,isSelected:o,primaryTitle:c,secondaryTitle:d,children:u,spinnerComponent:m,onPress:p}=e;return i.createElement(Xt.A,{"aria-haspopup":!l,className:ma()(t,l&&"SidebarMenuButton-isDisabled-syXHS4"),"data-testid":"serverMenuButton",id:a,isDisabled:l,isSelected:o,onPress:p},i.createElement("div",{className:"SidebarMenuButton-sidebarMenuButtonContainer-_NS1vb"},i.createElement("span",{className:"SidebarMenuButton-sidebarMenuTitle-TmDy6a"},i.createElement("span",{className:"SidebarMenuButton-sidebarMenuPrimaryTitleContainer-D6YOIZ"},i.createElement("span",{className:"SidebarMenuButton-sidebarMenuPrimaryTitle-ar6WoW"},c),l?null:i.createElement(rp.A,{direction:s?Xe.UP:Xe.PX,isSelected:o})),d?i.createElement("span",{className:n},d):null),r?i.createElement(m,{className:"SidebarMenuButton-sidebarMenuSpinner-W_vSDc",size:Ze.o5}):u))}Dw.defaultProps={className:"SidebarMenuButton-sidebarMenuButton-AAWiIN",secondaryTitleClassName:"SidebarMenuButton-sidebarMenuSecondaryTitle-Eo19Aa",isMenuOpen:!1,isSelected:!0,isDisabled:!1,isLoading:!1,spinnerComponent:Pw.A};const xw=Dw;var kw=Object.defineProperty,Ow=Object.getOwnPropertySymbols,Iw=Object.prototype.hasOwnProperty,Tw=Object.prototype.propertyIsEnumerable,Mw=(e,t,n)=>t in e?kw(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const Nw=function(e){return i.createElement(xw,((e,t)=>{for(var n in t||(t={}))Iw.call(t,n)&&Mw(e,n,t[n]);if(Ow)for(var n of Ow(t))Tw.call(t,n)&&Mw(e,n,t[n]);return e})({spinnerComponent:jp.A},e))},Lw=(0,C.Ng)((function(){return(0,it.Mz)((0,xs.A)(),(e=>({machineIdentifier:e.machineIdentifier,friendlyName:e.friendlyName,isFullOwnedServer:e.isFullOwnedServer,isInstallingServerUpdate:e.isInstallingServerUpdate,isShared:e.isShared,isConnected:e.isConnected,isUnavailable:e.isUnavailable,isSettingsPending:e.desktop.isSettingsPending,isSecure:e.isSecure,isRelayed:e.isRelayed,sourceTitle:e.sourceTitle})))}))((function(e){const{id:t,friendlyName:n,sourceTitle:a,isFullOwnedServer:r,isShared:s,isConnected:l,isInstallingServerUpdate:o,isSelected:c,isUnavailable:d,isSecure:u,isSettingsPending:m,isRelayed:p,isMenuOpen:h,onPress:g}=e,v={friendlyName:n,sourceTitle:a,isShared:s},f=(0,dw.A)((0,kS.A)(v),p?(0,B.A)("Indirect"):null);return i.createElement(Nw,{className:"ServerSettingsServerMenuButton-button-vMtlHf SidebarMenuButton-sidebarMenuButton-AAWiIN",id:t,isMenuOpen:h,isSelected:c,primaryTitle:(0,OS.A)(v),secondaryTitle:f,secondaryTitleClassName:"ServerSettingsServerMenuButton-secondaryTitle-AsnP6s SidebarMenuButton-sidebarMenuSecondaryTitle-Eo19Aa",onPress:g},i.createElement(Aw,{className:"ServerSettingsServerMenuButton-icon-q6OwRL",isConnected:l,isFullOwnedServer:r,isInstallingServerUpdate:o,isRelayed:p,isSecure:u,isSettingsPending:m,isUnavailable:d}))}));var Rw=n(81131),Fw=n(93788),Uw=n(26109),Vw=n(61016),jw=n(31755),Bw=n(26540);var Hw=Object.defineProperty,zw=Object.getOwnPropertySymbols,_w=Object.prototype.hasOwnProperty,Ww=Object.prototype.propertyIsEnumerable,Gw=(e,t,n)=>t in e?Hw(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;function Kw(e){const t=e,{className:n,children:a,iconClassName:r,titleClassName:s,iconSrc:l,iconComponent:o,iconNode:c,title:d,showSpinner:u}=t,m=((e,t)=>{var n={};for(var a in e)_w.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&zw)for(var a of zw(e))t.indexOf(a)<0&&Ww.call(e,a)&&(n[a]=e[a]);return n})(t,["className","children","iconClassName","titleClassName","iconSrc","iconComponent","iconNode","title","showSpinner"]);let p;return l?p=i.createElement("img",{className:"SidebarLink-iconImg-jzoU1o",src:l}):o?p=i.createElement(o,null):c&&(p=c),i.createElement(Xt.A,((e,t)=>{for(var n in t||(t={}))_w.call(t,n)&&Gw(e,n,t[n]);if(zw)for(var n of zw(t))Ww.call(t,n)&&Gw(e,n,t[n]);return e})({className:n},m),i.createElement("div",{className:"SidebarLink-container-DB7mGl"},i.createElement("div",{className:r},u?i.createElement(Pw.A,{className:"SidebarLink-spinner-uM7aPD"}):p),d?i.createElement("div",{className:s},d):null,function(e){const t=[];return i.Children.forEach(e,(e=>{i.isValidElement(e)&&t.push(e)})),t}(a).length?i.createElement("div",{className:"SidebarLink-children-Eo3B8K"},a):null))}Kw.defaultProps={className:"SidebarLink-sidebarLink-ns5vmb Link-default-BXtKLo",iconClassName:"SidebarLink-icon-W2ESDP",titleClassName:"SidebarLink-title-OWiZjJ"};const qw=Kw;function $w({className:e,children:t}){return i.createElement("div",{className:e},t)}$w.defaultProps={className:"SidebarListItem-sidebarListItem-iR7nUx"};const Jw=$w;var Qw=Object.defineProperty,Yw=Object.getOwnPropertySymbols,Xw=Object.prototype.hasOwnProperty,Zw=Object.prototype.propertyIsEnumerable,eC=(e,t,n)=>t in e?Qw(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const tC=function(e){return i.createElement(Jw,null,i.createElement(qw,((e,t)=>{for(var n in t||(t={}))Xw.call(t,n)&&eC(e,n,t[n]);if(Yw)for(var n of Yw(t))Zw.call(t,n)&&eC(e,n,t[n]);return e})({},e)))},nC=function({message:e,children:t}){return i.createElement("div",null,i.createElement("p",{className:"SidebarMessage-sidebarMessage-oSH7UR"},e),t)};var aC=n(63938),rC=n(48489),iC=Object.defineProperty,sC=(e,t,n)=>(((e,t,n)=>{t in e?iC(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);class lC extends i.Component{constructor(e,t){super(e,t),sC(this,"onRemoveServerPress",(e=>{this.setState({isRemoveModalOpen:!0})})),sC(this,"onRemoveConfirm",(()=>{this.setState({isRemoveModalOpen:!1}),this.props.onDeleteServerConfirm(this.props.machineIdentifier)})),sC(this,"onRemoveCancel",(()=>{this.setState({isRemoveModalOpen:!1})})),sC(this,"onAllowInsecureConnectionPress",(e=>{this.setState({isAllowInsecureConnectionModalOpen:!0})})),sC(this,"onAllowInsecureConnectionCancel",(e=>{this.setState({isAllowInsecureConnectionModalOpen:!1})})),this.state={isRemoveModalOpen:!1,isAllowInsecureConnectionModalOpen:!1}}shouldComponentUpdate(e,t){return(0,Xa.A)(this,e,t)}render(){const{serverEntityID:e,friendlyName:t,presence:n,isPending:a,isBundled:r,isCloudServerResourcesPending:s,isFullServer:o,isFullOwnedServer:c,isInstallingServerUpdate:d,httpsRequired:u,hasHttpsConnections:m,hasFallbackConnections:p,onTryAgainPress:h}=this.props,{isRemoveModalOpen:g,isAllowInsecureConnectionModalOpen:v}=this.state;let f,b,y,A,E;if(d)f=!1,b=!1,y=!1,A=!1,E=(0,B.A)('Once the server "{serverName}" has finished installing the update, Plex will automatically try to reconnect to this server.',{serverName:t});else{const e={isFullServer:o,presence:n,httpsRequired:u,hasHttpsConnections:m,hasFallbackConnections:p};f=(0,rC.Z)(e),b=(0,rC.P)(e)||f,y=!b,A=c&&!r,E=b?(0,B.A)('Unable to connect to "{serverName}" securely.',{serverName:t}):(0,B.A)('The server "{serverName}" is unreachable. Make sure it\'s running, double check your network, and try again.',{serverName:t})}const S=s||a,w=S?(0,B.A)("Connecting"):(0,B.A)("Try again");return i.createElement(nC,{message:E},i.createElement(tC,{iconComponent:jw.default,isDisabled:S,showSpinner:S,title:w,onPress:h}),f?i.createElement(i.Fragment,null,i.createElement(tC,{iconComponent:Bw.default,title:(0,B.A)("Allow insecure connection"),onPress:this.onAllowInsecureConnectionPress}),i.createElement(aC.A,{isOpen:v,serverEntityID:e,onModalClose:this.onAllowInsecureConnectionCancel})):null,b?i.createElement(tC,{iconComponent:oy.default,target:"_blank",title:(0,B.A)("Learn more"),to:Nm.uq}):null,y?i.createElement(tC,{iconComponent:oy.default,target:"_blank",title:(0,B.A)("Where is my server?"),to:"https://help.plex.tv/noserver"}):null,A?i.createElement(i.Fragment,null,i.createElement(tC,{iconComponent:pa.default,title:(0,B.A)("Remove server"),onPress:this.onRemoveServerPress}),i.createElement(ru.A,{confirmLabel:(0,B.A)("Remove"),isOpen:g,kind:hu.Ol,message:(0,B.A)("If this server is restarted, it will automatically be added to your account again."),metricsPage:l.rY,title:(0,B.A)("Remove {serverName}",{serverName:t}),onCancel:this.onRemoveCancel,onConfirm:this.onRemoveConfirm})):null)}}const oC=lC,cC=(0,Uw.A)((function(){return(0,it.Mz)(Fw.A,(0,xs.A)(),((e,t)=>({machineIdentifier:t.machineIdentifier,friendlyName:t.friendlyName,presence:t.presence,isPending:t.isPending,isFullServer:t.isFullServer,isFullOwnedServer:t.isFullOwnedServer,isInstallingServerUpdate:t.isInstallingServerUpdate,isBundled:t.isBundled,isCloudServerResourcesPending:e.isResourcesPending,httpsRequired:t.httpsRequired,hasHttpsConnections:t.hasHttpsConnections,hasFallbackConnections:t.hasFallbackConnections})))}),(function(e,t){const n={serverEntityID:t.serverEntityID,metricsPage:t.metricsPage};return{onDeleteServerConfirm(){e(nu.tg(n))},onTryAgainPress(){e((0,Vw.mL)()),e(Rw.E8(n))}}}))(oC);function dC(e){const{className:t,headerContainerClassName:n,headerClassName:a,children:r,title:s,icon:l,onRef:o}=e;return i.createElement("div",{ref:o,className:t,role:"navigation"},i.createElement("div",{className:n},i.createElement("div",{className:a,role:"header"},s),l?i.createElement("div",{className:"SidebarList-sidebarListHeaderIcon-RREZbb"},l):null),r)}dC.defaultProps={headerContainerClassName:"SidebarList-sidebarListHeaderContainer-rKqeho",headerClassName:"SidebarList-sidebarListHeader-pguDhU"};const uC=dC;var mC=Object.defineProperty,pC=Object.getOwnPropertySymbols,hC=Object.prototype.hasOwnProperty,gC=Object.prototype.propertyIsEnumerable,vC=(e,t,n)=>t in e?mC(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const fC=function(e){return i.createElement(uC,((e,t)=>{for(var n in t||(t={}))hC.call(t,n)&&vC(e,n,t[n]);if(pC)for(var n of pC(t))gC.call(t,n)&&vC(e,n,t[n]);return e})({headerClassName:"SettingsSidebarList-header-eBaRD5 SidebarList-sidebarListHeader-pguDhU"},e))};var bC=n(40638);const yC=function(e){const{className:t,children:n,selectableKey:a,selectedKey:r,to:s,title:l}=e,o=r&&r===a;let c;return/^#/.test(s)||(c=(0,bC.A)()?"_blank":"_self"),i.createElement(tC,{key:a,className:t,iconClassName:o?"SettingsSidebarListLink-selectedIcon-njgh8P SettingsSidebarListLink-icon-dMke9t SidebarLink-icon-W2ESDP":"SettingsSidebarListLink-icon-dMke9t SidebarLink-icon-W2ESDP",isSelected:o,target:c,title:l,to:s},n)},AC=function(e){const{serverEntityID:t,machineIdentifier:n,selectedKey:a,isShared:r,isInstallingServerUpdate:s,isUnavailable:l,isSettingsPending:o,settingsSections:c}=e;return s||l?i.createElement(cC,{serverEntityID:t}):o?null:c.map(((e,t)=>{if(r&&1===e.groups.length){const r=e.groups[0];return i.createElement(yC,{key:t,selectableKey:W(n,e.key,r.key),selectedKey:a,title:r.title,to:r.route})}return i.createElement(fC,{key:t,title:e.title},e.groups.map(((r,s)=>i.createElement(yC,{key:`${t}${s}`,selectableKey:W(n,e.key,r.key),selectedKey:a,title:r.title,to:r.route},r.statusIndicator))))}))};var EC=Object.defineProperty,SC=Object.getOwnPropertySymbols,wC=Object.prototype.hasOwnProperty,CC=Object.prototype.propertyIsEnumerable,PC=(e,t,n)=>t in e?EC(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const DC={dispatchPopulateSettings:nu.Q};class xC extends i.Component{componentDidMount(){this._populate()}componentDidUpdate(e){e.serverEntityID!==this.props.serverEntityID&&this._populate()}_populate(){const{serverEntityID:e,isConnected:t,isFullOwnedServer:n,dispatchPopulateSettings:a}=this.props;t&&n&&a({serverEntityID:e})}render(){const e=this.props,{isConnected:t,isFullOwnedServer:n,dispatchPopulateSettings:a}=e,r=((e,t)=>{var n={};for(var a in e)wC.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&SC)for(var a of SC(e))t.indexOf(a)<0&&CC.call(e,a)&&(n[a]=e[a]);return n})(e,["isConnected","isFullOwnedServer","dispatchPopulateSettings"]);return i.createElement(AC,((e,t)=>{for(var n in t||(t={}))wC.call(t,n)&&PC(e,n,t[n]);if(SC)for(var n of SC(t))CC.call(t,n)&&PC(e,n,t[n]);return e})({},r))}}const kC=(0,C.Ng)((function(){return(0,it.Mz)((0,xs.A)(),Cy(),((e,t)=>({machineIdentifier:e.machineIdentifier,friendlyName:e.friendlyName,isShared:e.isShared,isInstallingServerUpdate:e.isInstallingServerUpdate,isConnected:e.isConnected,isUnavailable:e.isUnavailable,isSettingsPending:e.isFullOwnedServer&&e.desktop.isSettingsPending,isFullOwnedServer:e.isFullOwnedServer,settingsSections:t})))}),DC)(xC);var OC=Object.defineProperty,IC=(e,t,n)=>(((e,t,n)=>{t in e?OC(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);const TC="SettingsSidebarScrollTop";class MC extends i.Component{constructor(e,t){super(e,t),IC(this,"_serverMenuButtonID"),IC(this,"onMeasure",(()=>{this.setState({isMeasured:!0})})),IC(this,"onScrollPositionChange",(({scrollTop:e})=>{this.setState({scrollTop:e},(()=>{ow.A.set(TC,e)}))})),IC(this,"onMenuButtonPress",(()=>{this.setState({isMenuOpen:!this.state.isMenuOpen})})),IC(this,"onMenuClose",(()=>{this.setState({isMenuOpen:!1})}));const n=ow.A.get(TC);this.state={isMeasured:!1,scrollTop:n||0,isMenuOpen:!1},this._serverMenuButtonID=(0,ff.A)()}render(){const{manageableServerEntityIDs:e,serverMenuServerEntityID:t,selectedKey:n,isUserSignedIn:a,isFullUser:r,isUserAnonymous:s,isUserUnrestricted:o,isServerMenuServerEntityIDSelected:c,showAdvancedSettings:d,showQualitySettings:u,showDownloadQualitySettings:m,showStreamingServicesSettings:p,userTitle:h,settingsSection:g,settingsGroup:v,hasAdvancedDebuggingFeature:f,isDiscoverTogetherUser:b}=this.props,{scrollTop:y,isMenuOpen:A}=this.state,E=_();return i.createElement(XS.A,{isDelegated:!0,page:l.Te},i.createElement(YS.A,{ignorePosition:!0,ignoreWidth:!0,onMeasure:this.onMeasure},i.createElement(ew,null,this.state.isMeasured?i.createElement(lw,{scrollTop:y,smoothScroll:!1,onScrollPositionChange:this.onScrollPositionChange},i.createElement("div",{className:"SettingsSidebar-sidebarContent-c4JDd9"},a?i.createElement(fC,{title:h||(0,B.A)("Settings")},i.createElement(yC,{selectableKey:"account",selectedKey:n,title:(0,B.A)("Account"),to:"#!/settings/account"}),o&&!s?i.createElement(yC,{selectableKey:"online-media-sources",selectedKey:n,title:(0,B.A)("Online Media Sources"),to:"#!/settings/online-media-sources"}):null,o&&!s?i.createElement(yC,{selectableKey:"devices",selectedKey:n,title:(0,B.A)("Authorized Devices"),to:"#!/settings/devices"}):null,o&&!s?i.createElement(yC,{selectableKey:"watchlist",selectedKey:n,title:(0,B.A)("Watchlist"),to:"#!/settings/watchlist"}):null,o&&!s?i.createElement(yC,{selectableKey:"webhooks",selectedKey:n,title:(0,B.A)("Webhooks"),to:"#!/settings/webhooks"}):null,p?i.createElement(yC,{selectableKey:"streaming-services",selectedKey:n,title:(0,B.A)("Streaming Services"),to:"#!/settings/streaming-services"}):null,a&&!s?i.createElement(yC,{selectableKey:"plex-home",selectedKey:n,title:(0,B.A)("Plex Home"),to:"#!/settings/plex-home"}):null,a&&r&&!s?i.createElement(yC,{selectableKey:"manage-library-access",selectedKey:n,title:(0,B.A)("Manage Library Access"),to:"#!/settings/manage-library-access"},this.props.isNotificationsPopulated&&this.props.serverInvites>0?i.createElement("div",{className:"SettingsSidebar-badge-jJycrP"},i.createElement(cw.A,{size:"m"},this.props.serverInvites)):null):null,b?i.createElement(yC,{selectableKey:"privacy",selectedKey:n,title:(0,B.A)("Privacy"),to:"#!/settings/privacy"}):null):null,i.createElement(fC,{selectableKey:E,selectedKey:n,title:QS.A.prop("X-Plex-Product")},i.createElement(yC,{selectableKey:_("general"),selectedKey:n,title:(0,B.A)("General"),to:"#!/settings/web/general"}),u?i.createElement(yC,{selectableKey:_("quality"),selectedKey:n,title:(0,B.A)("Quality"),to:"#!/settings/web/quality"}):null,d?i.createElement(yC,{selectableKey:_("debug"),selectedKey:n,title:(0,B.A)("Debug"),to:"#!/settings/web/debug"}):null,d&&f?i.createElement(yC,{selectableKey:"experiments",selectedKey:n,title:"Experiments",to:"#!/settings/web/experiments"}):null,i.createElement(yC,{selectableKey:_("player"),selectedKey:n,title:(0,B.A)("Player"),to:"#!/settings/web/player"}),m?i.createElement(yC,{selectableKey:_("downloads"),selectedKey:n,title:(0,B.A)("Downloads"),to:"#!/settings/web/downloads"}):null),t?i.createElement(i.Fragment,null,i.createElement(Lw,{id:this._serverMenuButtonID,isMenuOpen:A,isSelected:c,serverEntityID:t,onPress:this.onMenuButtonPress}),i.createElement(Cw,{isOpen:A,selectedServerEntityID:t,serverEntityIDs:e,settingsGroup:v,settingsSection:g,target:this._serverMenuButtonID,onMenuClose:this.onMenuClose}),i.createElement(kC,{selectedKey:n,serverEntityID:t})):null)):null)))}}const NC=MC;var LC=Object.defineProperty,RC=Object.defineProperties,FC=Object.getOwnPropertyDescriptors,UC=Object.getOwnPropertySymbols,VC=Object.prototype.hasOwnProperty,jC=Object.prototype.propertyIsEnumerable,BC=(e,t,n)=>t in e?LC(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const HC=(0,it.Mz)(qS.A,(e=>e.length>0)),zC=(0,C.Ng)((function(){return(0,it.Mz)(((e,{selectedServerEntityID:t})=>t),(e=>e.primaryServer),(e=>e.user.experienceSettings.showAdvancedSettings),(0,Ah.A)(h.ys),(0,Ah.A)(h.qc),ks.A,KS.A,HC,((e,t,n,a,r,i,s,l)=>{const o=function(e,t,n){return n.includes(e)?e:n.includes(t)?t:n?n[0]:null}(e,t,s);return{serverMenuServerEntityID:o,manageableServerEntityIDs:s,isUserSignedIn:i.isSignedIn,isFullUser:i.isFullUser,isEmployee:i.isEmployee,isUserAnonymous:i.anonymous,isUserUnrestricted:!i.restricted,isServerMenuServerEntityIDSelected:o===e,showAdvancedSettings:n,showQualitySettings:l,showDownloadQualitySettings:GS.A.allowSyncDownload,showStreamingServicesSettings:a,userTitle:i.friendlyName?WS()(i.friendlyName):i.username,hasAdvancedDebuggingFeature:r}}))}))((function(e){const{serverInvites:t,isPopulated:n}=(0,$S.A)(),a=(0,JS.A)();return i.createElement(NC,((e,t)=>RC(e,FC(t)))(((e,t)=>{for(var n in t||(t={}))VC.call(t,n)&&BC(e,n,t[n]);if(UC)for(var n of UC(t))jC.call(t,n)&&BC(e,n,t[n]);return e})({},e),{isDiscoverTogetherUser:a,isNotificationsPopulated:n,serverInvites:t}))}));var _C=Object.defineProperty,WC=Object.getOwnPropertySymbols,GC=Object.prototype.hasOwnProperty,KC=Object.prototype.propertyIsEnumerable,qC=(e,t,n)=>t in e?_C(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const $C=G.A.extend({initialize(e){const{serverID:t,settingsSection:n,settingsGroup:a}=e,r=O.hd("appModel"),i=r.get("servers");this.options={settingsSection:n,settingsGroup:a,machineIdentifier:t,isViewDataPending:!0},i.findServer(t).done(this.whenRendered((t=>((0,j.Cc)(),r.set("primaryServer",t),t.get("isConnected")?t.get("isShared")?(Object.assign(this.options,{viewDataErrorMessage:(0,B.A)("You do not have access to this server"),isViewDataPending:!1}),void this.render()):void("settings"===n||"manage"===n?this.initializeServerSettingsView(t,e):"status"===n&&"alerts"===a?this.initializeAlertsView(t):"status"===n&&"conversion"===a?this.initializeConversionView(t):"status"===n&&"server-dashboard"===a?this.initializeServerDashboardView(t):(this.options.isViewDataPending=!1,this.render())):(this.options.isViewDataPending=!t.get("isUnavailable")&&!t.get("isUnauthorized"),void this.render()))))).fail(this.whenRendered((()=>{Object.assign(this.options,{viewDataErrorMessage:(0,B.A)("The server you're trying to access doesn't seem to exist."),isViewDataPending:!1}),this.render()})))},initializeServerSettingsView(e){const t=this.options.settingsGroup,n=e.get("desktop"),a=n.get("settings"),r=new L({key:"/accounts/1"},{server:e}),i=n.get("cloudAccount"),s=k().when(a.fetch(),r.fetch(),i.fetch());s.done(this.whenRendered((()=>{Object.assign(this.options,{model:e,collection:a,account:r,cloudAccount:i,subset:"server",group:t,isViewDataPending:!1}),this.render()}))),s.fail(this.whenRendered((()=>{Object.assign(this.options,{viewDataErrorMessage:(0,B.A)("Server settings are unavailable."),isViewDataPending:!1}),this.render()})))},initializeAlertsView(e){const t=e.get("desktop");Object.assign(this.options,{model:e,collection:t.get("alerts"),subset:"alerts",contentView:ee,isViewDataPending:!1}),this.render()},initializeConversionView(e){const t=e.get("desktop");this.options.contentView=He;const n=new z.A([],{server:e,allowInCache:!0}),a=t.get("backgroundTranscodeJobs"),r=new H.A([],{server:e,allowInCache:!0});let i,s;const l=k().when(n.populate(),a.fetch(),t.get("settings").fetch(),r.populate()).then((()=>{i=n.first();const e=r.first();return i&&e?(s=e.get("children"),k().when(i.fetch(),s.fetch())):k().Deferred().reject().promise()}));l.done(this.whenRendered((()=>{Object.assign(this.options,{model:e,playQueue:i,transcodeJobs:a,generators:s,subset:"conversion",isViewDataPending:!1}),this.render()}))),l.fail(this.whenRendered((()=>{Object.assign(this.options,{viewDataErrorMessage:(0,B.A)("The conversion queue is unavailable."),isViewDataPending:!1}),this.render()})))},initializeServerDashboardView(e){Object.assign(this.options,{server:e,subset:"server-dashboard",contentView:Ps,isViewDataPending:!1}),this.render()},component(e){const t=e,{machineIdentifier:n,settingsSection:a,settingsGroup:r,sidebarKey:s}=t,l=((e,t)=>{var n={};for(var a in e)GC.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&WC)for(var a of WC(e))t.indexOf(a)<0&&KC.call(e,a)&&(n[a]=e[a]);return n})(t,["machineIdentifier","settingsSection","settingsGroup","sidebarKey"]),c=(0,R.A)(U.yv,n),d=s||W(n,a,r);return i.createElement(o.A,null,i.createElement(zC,{selectedKey:d,selectedServerEntityID:c,settingsGroup:r,settingsSection:a}),i.createElement(zS,((e,t)=>{for(var n in t||(t={}))GC.call(t,n)&&qC(e,n,t[n]);if(WC)for(var n of WC(t))KC.call(t,n)&&qC(e,n,t[n]);return e})({providerEntityID:V(c),serverEntityID:c,settingsGroup:r,settingsSection:a},l)))}}),JC=$C;var QC=n(96621);function YC(){const{machineIdentifier:e,settingsSection:t,settingsGroup:n}=(0,s.g)(),a=(0,C.d4)((0,D.A)(e)),r=(0,P.A)("ServerSettingsView",e,t,n,a.connectionTestResult);return i.createElement(QC.A,null,i.createElement(qv.A,{key:r,view:JC,viewOptions:{settingsSection:t,settingsGroup:n,serverID:e}}))}var XC=n(51102),ZC=n(78966),eP=n(29609),tP=n(81487),nP=n(62895),aP=n(75580),rP=n(3838),iP=n(73325),sP=n(43597),lP=n(52312),oP=n(31133),cP=n(63078),dP=n(61929),uP=n(64469),mP=n(28308),pP=n(97513),hP=n(51046),gP=n(81675);var vP=Object.defineProperty,fP=Object.defineProperties,bP=Object.getOwnPropertyDescriptors,yP=Object.getOwnPropertySymbols,AP=Object.prototype.hasOwnProperty,EP=Object.prototype.propertyIsEnumerable,SP=(e,t,n)=>t in e?vP(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,wP=(e,t)=>{for(var n in t||(t={}))AP.call(t,n)&&SP(e,n,t[n]);if(yP)for(var n of yP(t))EP.call(t,n)&&SP(e,n,t[n]);return e},CP=(e,t)=>fP(e,bP(t));const PP=parseInt(ll.A.avatarFormEditSize,10),DP={isUsernameOpen:!1,isPhotoOpen:!1},xP={onSubmit:uP.LW,onErrorDismiss:uP.jY},kP=(0,C.Ng)((function(){return(0,it.Mz)((e=>e.ui.userSharingSettingsPage),Fw.A,((e,t)=>({cloudServerEntityID:t.entityID,isUpdatingFriend:e.isUpdatingFriend,updateFriendError:e.updateFriendError})))}),xP)((function(e){const{cloudServerEntityID:t,libraryAccess:n,isGuest:a,isUpdatingFriend:r,updateFriendError:s,onSubmit:l,onErrorDismiss:o}=e,{user:c}=n,d=(0,Zl.A)(r),[u,m]=(0,i.useState)(DP);(0,iP.A)(),(0,i.useEffect)((()=>{!d||r||s||m((e=>T().mapObject(e,(()=>!1))))}),[r,d,s]);const p=(0,i.useCallback)((e=>t=>{t.preventDefault(),s&&o({friendEntityID:`${U.eY}--${c.id}`});const n=T().mapObject(u,((t,n)=>n===e&&!u[e]));m(n)}),[s,u,o,c.id]),h=(0,i.useCallback)(((e,t)=>({title:e,isOpen:u[t],onSubmit:e=>{l(CP(wP({},e),{friendEntityID:`${U.eY}--${c.id}`}))},isUpdating:r,onTogglePress:p(t)})),[u,r,p,l,c.id]),g=(0,i.useCallback)((()=>{s&&o()}),[s,o]),v=h((0,B.A)("Photo"),"isPhotoOpen");return i.createElement("div",{className:"UserSharingSettingsProfile-padding-kj2qBz"},a?null:i.createElement(gP.A,CP(wP({},h((0,B.A)("Username"),"isUsernameOpen")),{closedNode:c.title}),i.createElement(mP.A,{errors:s?[s]:[],initialValue:c.title,labelText:(0,B.A)("Username"),name:"username",validations:[pP.IF],onChange:g})),i.createElement(gP.A,CP(wP({},v),{closedNode:i.createElement(Ma.A,{height:80,serverEntityID:t,url:c.thumb,width:80})}),i.createElement(hP.A,{height:PP,id:c.id,initialValue:c.thumb,name:"avatar",serverEntityID:t,url:c.thumb,width:PP,onTogglePress:v.onTogglePress})))}));function OP(e){const t=e["aria-label"],n=e.className,a=e.style,r={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-ban-560"};r["aria-hidden"]=!t,r.style=a,r.className=Zo.A.plexIcon+(n?" "+n:"");const s=[i.createElement.apply(i,["path",{d:"M169.704 446.864C201.322 467.804 239.237 480 280 480c110.457 0 200-89.543 200-200 0-40.763-12.195-78.678-33.136-110.296l-277.16 277.16zm-56.568-56.568l277.16-277.16C358.678 92.196 320.763 80 280 80 169.543 80 80 169.543 80 280c0 40.763 12.195 78.678 33.136 110.296zM280 560C125.36 560 0 434.64 0 280S125.36 0 280 0s280 125.36 280 280-125.36 280-280 280z"}].concat([]))];return t&&s.unshift(i.createElement("title",null,t)),i.createElement.apply(i,["svg",r].concat(s))}OP.propTypes={"aria-label":Xo().string,className:Xo().string,style:Xo().object};const IP=OP;var TP=n(49684),MP=n(12123),NP=n(90791),LP=n(97919),RP=n(82405),FP=n(27528),UP=n(64297),VP=n(23135),jP=n(65784);const BP=function(e){return i.createElement("div",{className:"SettingsPageLoadingSpinner-spinnerContainer-XbPfYV"},i.createElement(jp.A,null))};function HP(e){return e?(0,B.A)("Enabling Live TV for this account requires access to a library. Enabling DVR will show all scheduled recordings, but this account will only be able to manage their own recordings."):(0,B.A)("Enabling Live TV for this friend requires sharing a library with them. Enabling DVR will show all scheduled recordings, but this friend will only be able to manage their own recordings.")}function zP(e){return e?(0,B.A)("Enabling this option will allow this account to access Live TV streams."):(0,B.A)("Enabling this option will allow this friend to access Live TV streams.")}function _P(e){return e?(0,B.A)("Allow this account to download content from your server"):(0,B.A)("Allow this friend to download content from your server.")}var WP=n(56238),GP=n(56183),KP=n(92615),qP=Object.defineProperty,$P=Object.defineProperties,JP=Object.getOwnPropertyDescriptors,QP=Object.getOwnPropertySymbols,YP=Object.prototype.hasOwnProperty,XP=Object.prototype.propertyIsEnumerable,ZP=(e,t,n)=>t in e?qP(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,eD=(e,t)=>{for(var n in t||(t={}))YP.call(t,n)&&ZP(e,n,t[n]);if(QP)for(var n of QP(t))XP.call(t,n)&&ZP(e,n,t[n]);return e},tD=(e,t)=>$P(e,JP(t));function nD(e){const{[WP.gk]:t,[WP.$z]:n,[WP.d_]:a,[WP.YP]:r}=e;if(!(t||n||a||r))return(0,B.A)("No restrictions");const s=[t,a].reduce(((e,t)=>t?e.concat(t.split(",")):e),[]).join(", "),l=[n,r].reduce(((e,t)=>t?e.concat(t.split(",")):e),[]).join(", "),o=s.length>0,c=l.length>0;return o&&!c?(0,B.A)("Allow only {tags}",{tags:s}):!o&&c?(0,B.A)("Exclude only {tags}",{tags:l}):i.createElement(i.Fragment,null,i.createElement("div",null,(0,B.A)("Allow only {tags}",{tags:s})),i.createElement("div",null,(0,B.A)("Exclude {tags}",{tags:l})))}function aD(e){const t=e,{label:n,metadataType:a,contentRatingsName:r,excludeContentRatingsName:s,labelsName:l,excludeLabelsName:o,filters:c,tagsProps:d}=t,u=((e,t)=>{var n={};for(var a in e)YP.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&QP)for(var a of QP(e))t.indexOf(a)<0&&XP.call(e,a)&&(n[a]=e[a]);return n})(t,["label","metadataType","contentRatingsName","excludeContentRatingsName","labelsName","excludeLabelsName","filters","tagsProps"]),m=(0,KP.A)(c,WP.gk,WP.$z),p=(0,KP.A)(c,WP.d_,WP.YP);return i.createElement(gP.A,tD(eD({},u),{closedNode:nD(c)}),i.createElement(cr.A,null,n),r?i.createElement(GP.A,tD(eD({},d),{excludedTags:m.excludeTags,initialValue:m.initialAllowTags,metadataType:a,name:r,tagType:WP.gk,onChange:m.onAllowTagsChange})):null,s?i.createElement(GP.A,tD(eD({},d),{excludedTags:m.allowTags,initialValue:m.initialExcludeTags,metadataType:a,name:s,tagType:WP.$z,onChange:m.onExcludeTagsChange})):null,i.createElement(GP.A,tD(eD({},d),{excludedTags:p.excludeTags,initialValue:p.initialAllowTags,metadataType:a,name:l,tagType:WP.d_,onChange:p.onAllowTagsChange})),i.createElement(GP.A,tD(eD({},d),{excludedTags:p.allowTags,initialValue:p.initialExcludeTags,metadataType:a,name:o,tagType:WP.YP,onChange:p.onExcludeTagsChange})))}const rD="UserSharingSettingsRestrictions-padding-jrAnf7";var iD=Object.defineProperty,sD=Object.defineProperties,lD=Object.getOwnPropertyDescriptors,oD=Object.getOwnPropertySymbols,cD=Object.prototype.hasOwnProperty,dD=Object.prototype.propertyIsEnumerable,uD=(e,t,n)=>t in e?iD(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,mD=(e,t)=>{for(var n in t||(t={}))cD.call(t,n)&&uD(e,n,t[n]);if(oD)for(var n of oD(t))dD.call(t,n)&&uD(e,n,t[n]);return e},pD=(e,t)=>sD(e,lD(t));const hD={isRestrictionProfileOpen:!1,isAllowSyncOpen:!1,isAllowLiveTVOpen:!1,isMovieTagsOpen:!1,isTelevisionTagsOpen:!1,isMusicTagsOpen:!1};function gD(e){return Eh.Pw(e||Eh.Tc).title}function vD(e,t){return e?Sh.A.options[t]():t===Sh.A.TV_ONLY?(0,B.A)("Enabled"):(0,B.A)("Disabled")}function fD(e){return parseInt(e,10)}var bD=n(53943),yD=n(69089),AD=n(27524),ED=n(6264),SD=n(25918);const wD="FriendSharedServerLibraries-library-cPOq1d",CD=function({serverShare:e}){const{name:t,libraries:n}=e;return i.createElement(i.Fragment,null,i.createElement(cr.A,null,t),n.map((e=>i.createElement("div",{key:e.id,className:wD},e.title))))};var PD=Object.defineProperty,DD=Object.defineProperties,xD=Object.getOwnPropertyDescriptors,kD=Object.getOwnPropertySymbols,OD=Object.prototype.hasOwnProperty,ID=Object.prototype.propertyIsEnumerable,TD=(e,t,n)=>t in e?PD(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;function MD(e){const{libraries:t,sharingSettings:n,allLibraries:a}=e,r=a?(0,B.A)("All libraries"):t.map((e=>e.title)).join(", "),s=[];return n.allowSync&&s.push((0,B.A)("Downloads Allowed")),0!==n.allowTuners&&s.push(1===n.allowTuners?(0,B.A)("Live TV Allowed"):(0,B.A)("Live TV and DVR allowed")),i.createElement(i.Fragment,null,i.createElement("div",null,r),s.length>0?i.createElement("div",null,s.join(", ")):null)}const ND=function(e){const{serverShares:t,isRemoveServerSharePending:n,isRemoveServerShareCompleted:a,serverErrors:r,onSubmit:s}=e,o=(0,i.useMemo)((()=>t.reduce(((e,t)=>(e[t.machineIdentifier]=!1,e)),{})),[t]),[c,d]=(0,i.useState)(o),[u,m]=(0,i.useState)(!1),[p,h]=(0,i.useState)(null),g=(0,Ul.A)(a);(0,i.useEffect)((()=>{!g&&a&&d(T().mapObject(c,(()=>!1)))}),[c,g,a]);const v=(0,i.useCallback)((()=>{m(!1)}),[m]),f=(0,i.useCallback)((()=>{p&&(s(p),m(!1))}),[p,m,s]),b=(0,i.useCallback)((e=>t=>{t.preventDefault();const n=T().mapObject(c,((t,n)=>n===e&&!c[e]));d(n)}),[c,d]),y=(0,i.useCallback)(((e,t)=>{var a;return{title:e,isOpen:c[t],onSubmit:()=>{h(t),m(!0)},isUpdating:n,errorMessage:null==(a=r[t])?void 0:a.message,onTogglePress:b(t)}}),[c,n,r,b]);return i.createElement(i.Fragment,null,t.map((e=>{const{machineIdentifier:t,name:n}=e;return i.createElement(gP.A,((e,t)=>DD(e,xD(t)))(((e,t)=>{for(var n in t||(t={}))OD.call(t,n)&&TD(e,n,t[n]);if(kD)for(var n of kD(t))ID.call(t,n)&&TD(e,n,t[n]);return e})({},y(n,t)),{key:t,buttonKind:hu.Ol,buttonText:(0,B.A)("Leave Server"),closedNode:MD(e),showButtonEnabled:!0}),i.createElement(CD,{key:t,serverShare:e}))})),i.createElement(ru.A,{confirmLabel:(0,B.A)("Leave Server"),isOpen:u,kind:hu.Ol,message:(0,B.A)("Are you sure you want to leave this shared server?"),metricsPage:l.E$,title:(0,B.A)("Leave shared server"),onCancel:v,onConfirm:f}))};var LD=n(19594),RD=n(60966),FD=n(31576),UD=n(79462),VD=n(22179);function jD(){const e=(0,RD.A)(),t=(0,VD.A)(),n=(0,Vs.E)(),{consent:a,setting:{description:r,link:s}}=(0,ED.qs)(),l=(0,i.useCallback)((()=>{n.onOpen(),e({action:LD.vC})}),[n,e]);return t||null!==a?i.createElement(i.Fragment,null,i.createElement(gP.A,{closedNode:i.createElement(u.BJ,null,i.createElement(p.E,null,r),i.createElement(p.E,{color:"accent"},s)),editLabel:"given"===a?(0,B.A)("Active"):(0,B.A)("Inactive"),title:(0,B.A)("Sync My Watch State and Ratings"),onTogglePress:l}),i.createElement(UD.A,{modalState:n,page:FD.Dw.Default})):null}const BD=function({children:e,isLoading:t}){return i.createElement("div",{className:"UserSharingSettingsPageHeader-header-CxzfBb"},i.createElement(p.E,{font:"heading-3",numberOfLines:1},e),t?i.createElement(m.y,{size:"xxs"}):null)};function HD(){const{isPopulated:e,error:t}=(0,ED.qs)();return t?null:i.createElement(c.Ay,{extendParentContextProviders:!0,metricsPage:l.F$},i.createElement(i.Fragment,null,i.createElement(BD,{isLoading:!e},(0,B.A)("Sync Data")),e?i.createElement(jD,null):null))}const zD="SharedServerLibrary-input-jMIIOy CheckInput-input-dUDRsF";var _D=Object.defineProperty,WD=Object.getOwnPropertySymbols,GD=Object.prototype.hasOwnProperty,KD=Object.prototype.propertyIsEnumerable,qD=(e,t,n)=>t in e?_D(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const $D=(0,zp.A)((function(e){return i.createElement(Hp.A,((e,t)=>{for(var n in t||(t={}))GD.call(t,n)&&qD(e,n,t[n]);if(WD)for(var n of WD(t))KD.call(t,n)&&qD(e,n,t[n]);return e})({className:zD},e))})),JD="SharedServerLibraries-emptyMessage-H3q6XH",QD=function({serverDetail:e,serverShare:t}){const{machineIdentifier:n,name:a,librarySections:r}=e,[s,l]=(0,i.useState)(void 0),[o,c]=(0,i.useState)(!(!t||!t.allLibraries)),d=(0,i.useCallback)((()=>{o&&l([]),c(!o)}),[o]);return(0,i.useEffect)((()=>{l((null==t?void 0:t.libraries)||[])}),[t]),s?i.createElement(i.Fragment,null,i.createElement(cr.A,null,a),r.length>0?i.createElement($D,{checkboxText:(0,B.A)("All Libraries"),initialValue:o,name:JSON.stringify({[Fp]:n}),onChange:d}):null,0===r.length?i.createElement("div",{className:JD},(0,B.A)("No libraries")):null,o?null:r.map((e=>{const{id:t,title:n}=e,a=!(!s||!s.find((e=>e.id===t)));return i.createElement($D,{key:t,checkboxText:n,initialValue:a,name:JSON.stringify({[Up]:t})})}))):null};var YD=Object.defineProperty,XD=Object.defineProperties,ZD=Object.getOwnPropertyDescriptors,ex=Object.getOwnPropertySymbols,tx=Object.prototype.hasOwnProperty,nx=Object.prototype.propertyIsEnumerable,ax=(e,t,n)=>t in e?YD(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,rx=(e,t)=>{for(var n in t||(t={}))tx.call(t,n)&&ax(e,n,t[n]);if(ex)for(var n of ex(t))nx.call(t,n)&&ax(e,n,t[n]);return e};function ix(e){return e?e.allLibraries?(0,B.A)("All libraries"):e.libraries.map((e=>e.title)).join(", "):(0,B.A)("No library access")}const sx=function(e){const{libraryAccess:t,serverDetails:n,isSharingPending:a,isSharingCompleted:r,onSubmit:s,serverErrors:l}=e,[o,c]=(0,i.useState)({}),d=(0,Ul.A)(r);(0,i.useEffect)((()=>{!d&&r&&0===Object.keys(l).length&&c(T().mapObject(o,(()=>!1)))}),[o,d,r,l]),(0,i.useEffect)((()=>{c((e=>(n.map((t=>{e[t.machineIdentifier]||(e[t.machineIdentifier]=!1)})),rx({},e))))}),[n]);const u=(0,i.useCallback)((e=>t=>{t.preventDefault();const n=T().mapObject(o,((t,n)=>n===e&&!o[e]));c(n)}),[o,c]),m=(0,i.useCallback)((e=>n=>{const a=Object.keys(n).reduce(((e,t)=>{const a=n[t],r=JSON.parse(t);return a&&r.hasOwnProperty(Up)&&e.selectedLibrarySectionIDs.push(r[Up]),a&&r.hasOwnProperty(Fp)&&(e.isAllLibrariesSelected=!0),e}),{id:t.user.id,machineIdentifier:e,selectedLibrarySectionIDs:[],isAllLibrariesSelected:!1});s(a)}),[t.user.id,s]),p=(0,i.useCallback)(((e,t)=>{var n;return{title:e,isOpen:o[t],onSubmit:m(t),isUpdating:a,errorMessage:null==(n=l[t])?void 0:n.message,onTogglePress:u(t)}}),[o,m,a,l,u]);return i.createElement(i.Fragment,null,n.map((e=>{const{name:n,machineIdentifier:a}=e,r=t.sharedServers.find((e=>e.machineIdentifier===a));return i.createElement(gP.A,((e,t)=>XD(e,ZD(t)))(rx({},p(n,a)),{key:a,closedNode:ix(r)}),i.createElement(QD,{key:a,serverDetail:e,serverShare:r}))})))};var lx=n(12433),ox=n(50905),cx=n(84074),dx=n(48811),ux=n(13004),mx=n(39369),px=n(16856),hx=n(95674),gx=n(64487);const vx="SharedItemCell-subtitle-RoTdu_ SharedItemCell-title-JJsm7e",fx="SharedItemCell-separator-Bw4KwB DashSeparator-separator-_3fMys",bx=function(e){const{serverEntityID:t,providerEntityID:n,cellIndex:a,id:r,origin:s,serverName:o,type:c,playlistType:d,title:u,parentTitle:m,grandparentTitle:p,leafCount:h,duration:g,imageWidth:v,imageHeight:f,imageUrl:b,isOwnedItem:y,isDeleting:A,showDelete:E,editionTitle:S,onDeleteSharedItem:w}=e,P=(0,C.wA)(),D=(0,C.d4)(wh.A),x=(0,Gf.A)(e),[k,O]=(0,i.useState)(!1),I=(0,Ul.A)(A),T=(0,i.useCallback)((()=>{O(!0)}),[]),M=(0,i.useCallback)((()=>{w({id:r,origin:s,isOwnedItem:y})}),[r,s,y,w]),N=(0,i.useCallback)((()=>{O(!1)}),[]);(0,i.useEffect)((()=>{I&&!A&&(O(!1),P(y?gx.A.actions.fetchOwnedSources({server:D}):gx.A.actions.fetchReceivedSources({server:D})))}),[I,A,P,D,y]);const L=function(e,t,n){const a=n||t;return a?`${a}  ${e}`:e}(u,m,p),R=lr.AU(c).title,F=y?(0,B.A)("Are you sure you want to stop sharing this item? The user will no longer be able to access it on {serverName}.",{serverName:o}):(0,B.A)("Are you sure you want to remove this shared item? You will no longer be able to access it on {serverName}.",{serverName:o});return i.createElement("div",{className:ma()(a%2?"SharedItemCell-alternateItem-iZTI_P SharedItemCell-item-wtCfy4":"SharedItemCell-item-wtCfy4",k&&"SharedItemCell-isDeleteConfirmModalOpen-z0P19I"),style:x.style},i.createElement("div",{className:"SharedItemCell-posterContainer-ysnDdO"},i.createElement("div",{className:"SharedItemCell-poster-k1Sl4I",style:{width:v,height:f}},i.createElement(Na.A,{height:f,providerEntityID:n,serverEntityID:t,type:c,url:x.isPlaceholder?null:b,width:v}))),i.createElement("div",{className:"SharedItemCell-summaryContainer-OuGCwb"},i.createElement("div",{className:"SharedItemCell-titleContainer-aPpRUw"},i.createElement("div",{className:"SharedItemCell-title-JJsm7e"},L),i.createElement("div",{className:vx},R,h?i.createElement(i.Fragment,null,i.createElement(Et.A,{className:fx}),function(e,t,n){if(t)return(0,px.A)(t,n);let a;if(e===lr._O)a=lr.EPISODE;else{const t=lr.DG(e);t&&(a=t.typeString)}return(0,hx.A)(a,n)}(c,d,h)):null,c===lr.Kq&&g?i.createElement(i.Fragment,null,i.createElement(Et.A,{className:fx}),(0,ha.A)(g)):null,S?i.createElement(i.Fragment,null,i.createElement(Et.A,{className:fx}),S):null),i.createElement("div",{className:vx},o)),i.createElement("div",{className:"SharedItemCell-actions-j0GGiI"},E?i.createElement(Xt.A,{"aria-label":(0,B.A)("Remove {title}",{title:L}),className:"SharedItemCell-deleteButton-HTBLbX","data-testid":"sharedItemDeleteButton",tabIndex:"0",onPress:T},i.createElement(bs.A,{className:"SharedItemCell-icon-VhMGbM"})):null)),i.createElement(ru.A,{confirmLabel:y?(0,B.A)("Stop Sharing"):(0,B.A)("Remove"),isConfirmButtonSpinning:A,isOpen:k,kind:hu.Ol,message:F,metricsPage:l.E$,title:(0,B.A)("Remove {title}",{title:L}),onCancel:N,onConfirm:M}))};var yx=Object.defineProperty,Ax=Object.getOwnPropertySymbols,Ex=Object.prototype.hasOwnProperty,Sx=Object.prototype.propertyIsEnumerable,wx=(e,t,n)=>t in e?yx(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const Cx={dispatchPopulateSharedItem:uP.p_,onDeleteSharedItem:uP.wd},Px=(0,C.Ng)((function(){return(0,it.Mz)(((e,{id:t})=>t),((e,{type:t})=>t),((e,{title:t})=>t),(e=>e.ui.userSharingSettingsPage.deleteSharedItemID),(0,it.Mz)(((e,{uri:t})=>t),ox.A,cx.A,((e,t,n)=>{const{key:a,serverIdentifier:r}=(0,Aa.A)(e),i=Object.keys(t).find((e=>t[e].machineIdentifier===r)),s=Object.keys(n).find((e=>{const t=n[e];return t.key===a&&t.serverEntityID===i}));return n[s]})),(0,it.Mz)(((e,{uri:t})=>t),dx.A,((e,t)=>{const{serverIdentifier:n}=(0,Aa.A)(e),a=t.find((e=>e.server.machineIdentifier===n));return!!(a&&a.provider&&a.provider.isPopulated)})),((e,t,n,a,r={},i)=>{const s=function(e,t){const n=(0,ux.A)(t,wa.SG);return(0,mx.A)(n,null,t,e,wa.SG)}(r,t);return{serverEntityID:r.serverEntityID,providerEntityID:r.providerEntityID,isItemProviderPopulated:i,grandparentKey:r.grandparentKey,parentTitle:r.parentTitle,grandparentTitle:r.grandparentTitle,type:t,playlistType:r.playlistType,index:r.index,title:r.title||n,leafCount:r.leafCount,duration:r.duration,isDeleting:e===a,showDelete:!a,imageWidth:s.width,imageHeight:s.height,imageUrl:s.url,editionTitle:r.editionTitle}}))}),Cx)((function(e){const t=e,{uri:n,isItemProviderPopulated:a,dispatchPopulateSharedItem:r}=t,s=((e,t)=>{var n={};for(var a in e)Ex.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&Ax)for(var a of Ax(e))t.indexOf(a)<0&&Sx.call(e,a)&&(n[a]=e[a]);return n})(t,["uri","isItemProviderPopulated","dispatchPopulateSharedItem"]);return(0,i.useEffect)((()=>{a&&r({uri:n})}),[n,a,r]),i.createElement(bx,((e,t)=>{for(var n in t||(t={}))Ex.call(t,n)&&wx(e,n,t[n]);if(Ax)for(var n of Ax(t))Sx.call(t,n)&&wx(e,n,t[n]);return e})({},s))}));var Dx=Object.defineProperty,xx=Object.defineProperties,kx=Object.getOwnPropertyDescriptors,Ox=Object.getOwnPropertySymbols,Ix=Object.prototype.hasOwnProperty,Tx=Object.prototype.propertyIsEnumerable,Mx=(e,t,n)=>t in e?Dx(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Nx=(e,t)=>{for(var n in t||(t={}))Ix.call(t,n)&&Mx(e,n,t[n]);if(Ox)for(var n of Ox(t))Tx.call(t,n)&&Mx(e,n,t[n]);return e};const Lx=(0,Wf.A)(120);function Rx(e){return t=>i.createElement(Px,Nx({isOwnedItem:e},t))}const Fx=function(e){const t=e,{isOwnedItem:n}=t,a=((e,t)=>{var n={};for(var a in e)Ix.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&Ox)for(var a of Ox(e))t.indexOf(a)<0&&Tx.call(e,a)&&(n[a]=e[a]);return n})(t,["isOwnedItem"]);return i.createElement(lx.A,((e,t)=>xx(e,kx(t)))(Nx({},a),{cellRenderer:Rx(n),keyPropName:"id",layout:Lx}))},Ux="UserSharingSettingsSharedMedia-message-Jzbk9I";var Vx=Object.defineProperty,jx=Object.defineProperties,Bx=Object.getOwnPropertyDescriptors,Hx=Object.getOwnPropertySymbols,zx=Object.prototype.hasOwnProperty,_x=Object.prototype.propertyIsEnumerable,Wx=(e,t,n)=>t in e?Vx(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;function Gx(e){return e.reduce(((e,t)=>[...e,...t.sharedItems.map((e=>((e,t)=>jx(e,Bx(t)))(((e,t)=>{for(var n in t||(t={}))zx.call(t,n)&&Wx(e,n,t[n]);if(Hx)for(var n of Hx(t))_x.call(t,n)&&Wx(e,n,t[n]);return e})({},e),{origin:t.origin,serverName:t.name})))]),[])}const Kx=[function({isSignedInUserRestricted:e,libraryAccess:t}){const n=(0,C.wA)(),a=(0,C.d4)(wh.A),r=(0,C.d4)((0,Fl.A)(h.up)),{addToast:s}=(0,eP.dj)(),{serverDetails:l,isPopulated:o,isSharing:c,allServersWithError:d,errors:m}=(0,AD.A)(),{invites:g,isPopulated:v}=(0,SD.A)(yD.A,Ch.A.actions.fetchOwnedInvites),f=(0,Zl.A)(c),b=(0,i.useMemo)((()=>t.sharedServers.filter((e=>e.owned))),[t.sharedServers]),y=(0,i.useMemo)((()=>t.sharedServers.filter((e=>!e.owned))),[t.sharedServers]),A=(0,i.useCallback)((e=>{if(g.some((e=>e.invitedId===t.user.id)))return void s({color:"alert",description:(0,B.A)("User is already invited."),type:"foreground"});const r=b.find((t=>t.machineIdentifier===e.machineIdentifier));(e.selectedLibrarySectionIDs.length>0||e.isAllLibrariesSelected)&&r?n(bD.A.actions.updateLibraries({machineIdentifier:e.machineIdentifier,librarySectionIds:e.selectedLibrarySectionIDs,server:a,id:r.id,sharingSettings:r.sharingSettings,user:r.invited})):0===e.selectedLibrarySectionIDs.length&&r?n(bD.A.actions.deleteSharedServer({machineIdentifier:e.machineIdentifier,server:a,id:r.id})):n(bD.A.actions.shareLibraries({machineIdentifier:e.machineIdentifier,server:a,librarySectionIds:e.selectedLibrarySectionIDs,sharingSettings:VP.RH,invitedId:t.user.id,skipFriendship:!0}))}),[g,b,t.user.id,s,n,a]),E=(0,i.useCallback)((e=>{const t=y.find((t=>t.machineIdentifier===e));t&&n(bD.A.actions.deleteSharedServer({server:a,machineIdentifier:e,id:t.id}))}),[n,a,y]);return(0,iP.A)(),d?i.createElement(Jv.A,{title:(0,B.A)("There was an unexpected error")}):o&&v?i.createElement(i.Fragment,null,e?null:i.createElement(BD,null,(0,B.A)("{username} has access to:",{username:t.user.title})),0===l.length?i.createElement(u.BJ,{padding:"m"},i.createElement(p.E,{color:"default",font:"body-2"},(0,B.A)("You don't have any connected servers."))):null,e?null:i.createElement(sx,{isSharingCompleted:!!f&&!c,isSharingPending:c,libraryAccess:t,serverDetails:l,serverErrors:m,onSubmit:A}),r&&t.user.restricted?i.createElement(ED.is,{origin:"managedAccountDetails",uuid:t.user.uuid},i.createElement(HD,null)):null,y.length>0?i.createElement(BD,null,(0,B.A)("You have access to:")):null,y.length>0?i.createElement(ND,{isRemoveServerShareCompleted:!!f&&!c,isRemoveServerSharePending:c,libraryAccess:t,serverErrors:m,serverShares:y,onSubmit:E}):null):i.createElement(BP,null)},function({libraryAccess:e}){(0,iP.A)();const[t,n]=(0,i.useState)(0),[a,r]=(0,i.useState)({isContentMeasured:!1}),s=(0,i.useMemo)((()=>Gx(e.sharedSources.filter((e=>e.owned)))),[e.sharedSources]),l=(0,i.useMemo)((()=>Gx(e.sharedSources.filter((e=>!e.owned)))),[e.sharedSources]),o=(0,i.useCallback)((({width:e,height:t})=>{r({isContentMeasured:!0,contentWidth:e,contentHeight:t})}),[]),c=(0,i.useCallback)((({height:e})=>{n(e)}),[]),d=a.isContentMeasured;return i.createElement(i.Fragment,null,i.createElement(YS.A,{onMeasure:o},d?i.createElement(i.Fragment,null,i.createElement(BD,null,(0,B.A)("{userTitle} has access to:",{userTitle:e.user.title})),0===s.length?i.createElement("div",{className:Ux},(0,B.A)("You haven't granted access to anything yet.")):null,s.length>0?i.createElement(YS.A,{ignorePosition:!1,ignoreWidth:!1,onMeasure:c},i.createElement(Fx,{isOwnedItem:!0,items:s,scrollTop:0,size:s.length,viewportHeight:a.contentHeight,viewportWidth:a.contentWidth})):null,i.createElement(BD,null,(0,B.A)("You have access to:")),0===l.length?i.createElement("div",{className:Ux},(0,B.A)("This user hasn't granted you access to anything yet.")):null,l.length>0?i.createElement(Fx,{isOwnedItem:!1,items:l,scrollTop:t,size:l.length,viewportHeight:a.contentHeight,viewportWidth:a.contentWidth}):null):null))},kP,function(e){const{libraryAccess:t,restrictionProfile:n,isGuest:a,isHomeUser:r}=e,s=(0,C.wA)(),l=(0,C.d4)(wh.A),o=(0,C.d4)(RP.A),{isUpdatingFriend:c}=(0,C.d4)((e=>e.ui.userSharingSettingsPage)),d=(0,Ul.A)(c),{sharingSettings:u,isPopulated:m,isPending:p,error:g}=(0,C.d4)((0,UP.A)(t.user.uuid)),{filterOptionsTags:v,isFilterOptionsTagsPopulating:f,isFilterOptionsTagsPopulated:b}=(0,C.d4)((e=>e.ui.userSharingSettingsPage)),y=(0,C.d4)((0,Fl.A)(h.X_)),A=(0,C.d4)((0,Fl.A)(h.Px)),E=(0,C.d4)((0,Fl.A)(h.Yq)),S=(0,C.d4)((0,yh.A)("hasPlexPass")),w=y||r,P=w&&E;(0,iP.A)();const{allowSync:D,allowTuners:x}=u,k=(0,i.useMemo)((()=>({filterMovies:MP.A.filterMovies.type.parse(u.filterMovies,MP.A.filterMovies),filterTelevision:MP.A.filterTelevision.type.parse(u.filterTelevision,MP.A.filterTelevision),filterMusic:MP.A.filterMusic.type.parse(u.filterMusic,MP.A.filterMusic)})),[u]),{filterMovies:O,filterMusic:I,filterTelevision:M}=k,N=t.user.restricted&&!t.user.username,[L,R]=(0,i.useState)(hD),F=(0,Ul.A)(p);(0,i.useEffect)((()=>{s((0,uP.eo)({serverEntityIDs:o.filter((e=>e.isFullOwnedServer&&e.uri)).map((e=>e.entityID))}))}),[s,o]),(0,i.useEffect)((()=>{(F&&!p||d&&!c)&&!g&&R(T().mapObject(L,(()=>!1)))}),[F,L,p,g,d,c]),(0,i.useEffect)((()=>{m||p||g||s(VP.Ay.actions.fetchSharingSettings({server:l,user:t.user,invitedId:t.user.id}))}),[l,s,p,m,t.user,g]),(0,i.useEffect)((()=>{!d||c||g||s(VP.Ay.actions.fetchSharingSettings({server:l,user:t.user,invitedId:t.user.id}))}),[l,s,N,p,m,c,t.user,d,g]);const U=(0,i.useCallback)((e=>t=>{t.preventDefault();const n=T().mapObject(L,((t,n)=>n===e&&!L[e]));R(n)}),[L,R]),V=(0,i.useCallback)(((e,a)=>({title:e,isOpen:L[a],onSubmit:e=>{if(e.restrictionProfileIdentifier&&N)s((0,uP.LW)(pD(mD({},e),{friendEntityID:`homeUsers--${t.user.id}`})));else{const a={};Object.keys(e).map((t=>{a[t]=e[t]}));let r=mD({},u);n&&(r=pD(mD({},r),{filterMovies:"",filterTelevision:"",filterMusic:"",filterAll:void 0,filterPhotos:void 0})),s(VP.Ay.actions.saveSharingSettingsRequested({server:l,sharingSettings:(0,FP.A)((0,LP.A)(a),r),user:t.user,invitedId:N?t.user.id:void 0}))}},isUpdating:p,errorMessage:null==g?void 0:g.message,onTogglePress:U(a)})),[l,U,s,N,p,t.user,n,u,null==g?void 0:g.message,L]),j={filterOptionsTags:v,isFilterOptionsTagsPopulating:f,isFilterOptionsTagsPopulated:b},H=A&&!n;return m?i.createElement("div",{className:rD},t.user.restricted&&!a?i.createElement(gP.A,pD(mD({},V((0,B.A)("Restriction Profile"),"isRestrictionProfileOpen")),{closedNode:gD(n)}),i.createElement(ig,{hasPlexPass:S,initialValue:n||Eh.Tc,name:"restrictionProfileIdentifier"})):null,i.createElement(gP.A,pD(mD({},V((0,B.A)("Allow Downloads"),"isAllowSyncOpen")),{closedNode:D?(0,B.A)("Enabled"):(0,B.A)("Disabled")}),i.createElement(NP.A,{checkboxText:_P(N),initialValue:D,labelText:(0,B.A)("Allow Downloads"),name:"allowSync"})),w?i.createElement(gP.A,pD(mD({},V(P?(0,B.A)("Live TV & DVR Access"):(0,B.A)("Allow access to Live TV"),"isAllowLiveTVOpen")),{closedNode:vD(P,x)}),P?i.createElement(oc.A,{helpText:HP(N),initialValue:x,labelText:(0,B.A)("Live TV & DVR Access"),name:"allowTuners",transformValue:fD,value:Sh.A.values[x],values:Sh.A.values}):i.createElement(NP.A,{checkboxText:zP(N),checkedValue:1,initialValue:x,labelText:(0,B.A)("Allow access to Live TV"),name:"allowTuners",uncheckedValue:0})):null,H&&!N||H&&N&&m?i.createElement(i.Fragment,null,i.createElement(aD,pD(mD({},V(TP.Ay.get(TP.oT).title,"isMovieTagsOpen")),{contentRatingsName:"moviesContentRatings",excludeContentRatingsName:"moviesExcludeContentRatings",excludeLabelsName:"moviesExcludeLabels",filters:O,label:TP.Ay.get(TP.oT).title,labelsName:"moviesLabels",metadataType:lr.MOVIE,tagsProps:j})),i.createElement(aD,pD(mD({},V(TP.Ay.get(TP.TV).title,"isTelevisionTagsOpen")),{contentRatingsName:"televisionContentRatings",excludeContentRatingsName:"televisionExcludeContentRatings",excludeLabelsName:"televisionExcludeLabels",filters:M,label:TP.Ay.get(TP.TV).title,labelsName:"televisionLabels",metadataType:lr._O,tagsProps:j})),i.createElement(aD,pD(mD({},V(TP.Ay.get(TP.on).title,"isMusicTagsOpen")),{excludeLabelsName:"musicExcludeLabels",filters:I,label:TP.Ay.get(TP.on).title,labelsName:"musicLabels",metadataType:lr.Ot,tagsProps:j}))):null,A?null:i.createElement(Vm,{iconComponent:IP,moreInfo:i.createElement(Lm.A,{message:(0,B.A)("See our {openLinkSupported}support article{closeLinkSupported} for more information."),tags:[{open:"openLinkSupported",close:"closeLinkSupported",component:Xt.A,kind:hu.jd,to:Nm.aK,target:"_blank"}]}),text:(0,B.A)("Upgrade to a Plex Pass to get more control over the media you share."),title:(0,B.A)("Sharing Restrictions")},i.createElement(jP.A,{modalMetricsProperties:{context:Tl.USERS_AND_SHARING},origin:Rm.cK}))):i.createElement(BP,null)}];var qx=n(53708),$x=n(81863),Jx=n(56419);function Qx({children:e,isUpdatingFriend:t,modalState:n,onConfirmPress:a}){return i.createElement(Bs.aF,{isOpen:n.isOpen,onClose:n.onClose},i.createElement(Bs.g6,null,e),i.createElement(Bs.$m,{closeButtonAccessibilityLabel:(0,B.A)("Close Modal"),size:"s",testID:"confirmModal",title:(0,B.A)("Add to Plex Home"),onClose:n.onClose},i.createElement(Bs.cw,null,i.createElement(c.Ay,{name:l.B4},i.createElement(u.BJ,{gap:"m"},i.createElement(hy.default,{size:"xxl"}),i.createElement(p.E,null,(0,B.A)("Inviting other users to your home is a security risk that could allow these users to access your account. You should only do this if you live in the same home and share devices.")),i.createElement(p.E,null,(0,B.A)("Users in your Home appear on the Switch User screen. The invited user will be asked to confirm Home membership."))))),i.createElement(Bs.jl,null,i.createElement(Bs.Xd,null,i.createElement(Zn.$n,{label:(0,B.A)("Cancel"),onPress:n.onClose}),t?i.createElement(m.y,null):i.createElement(Zn.$n,{color:"alert",label:(0,B.A)("Confirm"),onPress:a})))))}const Yx={header:"UserSharing-header-tnsdPM PageHeader-pageHeader-e2k66t",content:"UserSharing-content-hzYTas PageContent-pageContentScroller-dvaH3C Scroller-scroller-S6_dko",card:"UserSharing-card-g5m9TO"};var Xx=Object.defineProperty,Zx=Object.defineProperties,ek=Object.getOwnPropertyDescriptors,tk=Object.getOwnPropertySymbols,nk=Object.prototype.hasOwnProperty,ak=Object.prototype.propertyIsEnumerable,rk=(e,t,n)=>t in e?Xx(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ik=(e,t)=>{for(var n in t||(t={}))nk.call(t,n)&&rk(e,n,t[n]);if(tk)for(var n of tk(t))ak.call(t,n)&&rk(e,n,t[n]);return e},sk=(e,t)=>Zx(e,ek(t));const lk=73;function ok(){const{id:e}=(0,s.g)(),t=(0,C.wA)(),n=(0,s.W6)(),{addToast:a}=(0,eP.dj)(),r=(0,C.d4)(wh.A),{restricted:l,hasPlexPass:o}=(0,C.d4)(cP.A),{sentInvites:d}=(0,C.d4)(dP.A),m=(0,Vs.E)(),{users:h,isPopulated:g,error:f}=(0,qx.A)(!0),{isSendingHomeUserInvite:b,error:y}=(0,C.d4)(aP.A),A=(0,Zl.A)(b),E=(0,oP.A)(void 0,!0).find((t=>t.id===parseInt(e,10))),{friends:S,isPopulated:w}=(0,SD.A)(nP.A,tP.A.actions.fetchCommunityFriends),P=S.find((t=>t.idRaw===parseInt(e,10))),D=(0,i.useMemo)((()=>{const t=h.find((({user:{id:t}})=>t===parseInt(e,10)));return!E&&t?t:t&&E?sk(ik({},t),{user:sk(ik({},t.user),{title:E.title,thumb:E.thumb})}):E?{user:{id:E.id,title:E.title,username:E.username,thumb:E.thumb,restricted:E.restricted,uuid:E.uuid},sharedServers:[],sharedSources:[],sharingSettings:ik({},VP.RH)}:P?{user:{id:P.idRaw,title:P.displayName,username:P.username,thumb:P.avatar,restricted:!1,uuid:P.id},sharedServers:[],sharedSources:[],sharingSettings:ik({},VP.RH)}:void 0}),[P,E,e,h]),x=(0,Zl.A)(!!D)&&!D;(0,iP.A)(),(0,i.useEffect)((()=>{t((0,Zh.b$)()),t((0,Zh.OC)())}),[t]),(0,i.useEffect)((()=>{!b&&A&&(null==y?void 0:y.message)&&a({color:"alert",description:y.message,type:"foreground",closeButtonAccessibilityLabel:(0,B.A)("Close")})}),[a,null==y?void 0:y.message,b,A]);const k=(0,i.useCallback)((()=>{D&&t(tP.A.actions.sendHomeUserInvite({server:r,invitedEmail:D.user.username}))}),[r,t,D]);(0,i.useEffect)((()=>{A&&!b&&(m.onClose(),t((0,Zh.b$)()))}),[t,b,m,A]),(0,i.useEffect)((()=>{x&&n.replace(v.A.manageLibraryAccess)}),[n,x]);const O=!l,I=d.find((e=>parseInt(e.id,10)===(null==D?void 0:D.user.id)&&e.home)),T=o&&!E&&!I,M=(0,i.useMemo)((()=>function(e,t){const n=[{id:0,title:(0,B.A)("Libraries"),name:"sharedLibraries"},{id:1,title:(0,B.A)("Media"),name:"sharedMedia"}];return e&&n.push({id:2,title:(0,B.A)("Profile"),name:"profile"}),t&&n.push({id:3,title:(0,B.A)("Restrictions"),name:"restrictions"}),n}(!!(null==D?void 0:D.user.restricted),O)),[null==D?void 0:D.user.restricted,O]);return g&&w&&!x?f||!D?i.createElement(Jx.A,{description:(0,B.A)("Please try again"),title:(0,B.A)("An error occurred loading this user")},i.createElement(sl.N,{href:(0,Ro.A)("userSharingSettings",{userID:e})},(0,B.A)("Go Back"))):i.createElement(sP.A,null,i.createElement($x.A,{className:Yx.header},i.createElement("div",{className:Yx.card},i.createElement(u.BJ,{gap:"s",orientation:"horizontal",verticalAlign:"center"},i.createElement(u.BJ,{gap:"m",orientation:"horizontal",shrink:!1,verticalAlign:"center"},i.createElement(rP.A,{server:r,size:lk,url:D.user.thumb}),i.createElement(p.E,{color:"inherit",font:"heading-2"},D.user.title)),i.createElement(ZC.tU,{align:"center",defaultValue:M[0].name,orientation:"horizontal",verticalAlign:"center",width:"100%",wrap:!0},i.createElement(ZC.j7,{align:"center",tabStyle:"primary"},M.map((e=>i.createElement(ZC.KM,{key:e.id,testID:"tabButton",value:e.name},e.title)))),i.createElement(lP.A,{className:Yx.content},i.createElement(u.BJ,{width:"100%"},M.map((e=>{const t=Kx[e.id];return i.createElement(c.Ay,{key:e.id,name:e.name},i.createElement(ZC.av,{value:e.name},i.createElement(t,{isGuest:!!(null==E?void 0:E.guest),isHomeUser:!!E,isSignedInUserRestricted:!!l,libraryAccess:D,restrictionProfile:null==E?void 0:E.restrictionProfile})))}))))),T?i.createElement(Qx,{isUpdatingFriend:b,modalState:m,onConfirmPress:k},i.createElement(Zn.K0,{accessibilityLabel:(0,B.A)("Add to your Plex Home"),icon:XC.default,iconSize:"m",size:"m",testID:"addToHome",transparent:!0,onPress:m.onOpen})):null)))):i.createElement(Fs.A,null,i.createElement(St.A,null))}var ck=n(50706),dk=n(85538),uk=n(26213),mk=n(1232);function pk(e){return"sharedServers"in e}var hk=n(27539);const gk=function(e){const{isAccepting:t,onPress:n}=e;return t?i.createElement(Pw.A,{className:"AcceptInviteButton-spinner-GReE95",loadingLabel:(0,B.A)("Accepting invite"),size:Ze.o5}):i.createElement(hk.A,{className:"AcceptInviteButton-button-b4LIFU",iconComponent:tg,title:(0,B.A)("Accept Invite"),onPress:n})},vk=function({title:e,onPress:t}){return i.createElement(hk.A,{className:"RemoveUserActionButton-button-wiWPpF",iconComponent:bs.A,title:e,onPress:t})};var fk=Object.defineProperty,bk=Object.defineProperties,yk=Object.getOwnPropertyDescriptors,Ak=Object.getOwnPropertySymbols,Ek=Object.prototype.hasOwnProperty,Sk=Object.prototype.propertyIsEnumerable,wk=(e,t,n)=>t in e?fk(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const Ck=function(e){const t=e,{hasOtherHomeUsers:n,isSignedInUserAdmin:a}=t,r=((e,t)=>{var n={};for(var a in e)Ek.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&Ak)for(var a of Ak(e))t.indexOf(a)<0&&Sk.call(e,a)&&(n[a]=e[a]);return n})(t,["hasOtherHomeUsers","isSignedInUserAdmin"]);let s=(0,B.A)("The admin of this home will have access to your account. Other users of this home will be able to switch to your account by entering your PIN.");return n&&(s=a?(0,B.A)("You are the admin in your current home. If you leave, the remaining users will be removed and managed users will be deleted."):(0,B.A)("Are you sure you want to join this home? You will leave your current home.")),i.createElement(ru.A,((e,t)=>bk(e,yk(t)))(((e,t)=>{for(var n in t||(t={}))Ek.call(t,n)&&wk(e,n,t[n]);if(Ak)for(var n of Ak(t))Sk.call(t,n)&&wk(e,n,t[n]);return e})({},r),{confirmLabel:(0,B.A)("Join"),kind:hu.Ol,message:s,title:(0,B.A)("Join Home")}))};var Pk=Object.defineProperty,Dk=Object.defineProperties,xk=Object.getOwnPropertyDescriptors,kk=Object.getOwnPropertySymbols,Ok=Object.prototype.hasOwnProperty,Ik=Object.prototype.propertyIsEnumerable,Tk=(e,t,n)=>t in e?Pk(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const Mk=function(e){return i.createElement(ru.A,((e,t)=>Dk(e,xk(t)))(((e,t)=>{for(var n in t||(t={}))Ok.call(t,n)&&Tk(e,n,t[n]);if(kk)for(var n of kk(t))Ik.call(t,n)&&Tk(e,n,t[n]);return e})({},e),{cancelLabel:(0,B.A)("No"),confirmLabel:(0,B.A)("Yes"),message:(0,B.A)("Are you sure you want to reject this invite?"),title:(0,B.A)("Reject Invite")}))};function Nk(e){const{className:t,children:n,userID:a}=e,r=(0,s.zy)();return i.createElement("div",{className:t},a?i.createElement(Xt.A,{className:"UsersSettingsRow-underlay-mJsrxf",to:`#!${r.pathname}/sharing/${a}`}):null,n)}Nk.defaultProps={className:"UsersSettingsRow-row-DKggfg"};const Lk=Nk;function Rk({className:e,children:t,actionSize:n}){return i.createElement("div",{className:ma()(e,1===n&&"UsersSettingsRowActions-singleAction-iMGimB")},t)}Rk.defaultProps={className:"UsersSettingsRowActions-container-mUEdMi"};const Fk=Rk,Uk=function(e){const{serverEntityID:t,thumb:n}=e;return i.createElement("div",{className:"UsersSettingsRowAvatar-container-TeZ9tV"},i.createElement(Ma.A,{height:50,serverEntityID:t,url:n,width:50}))};var Vk=n(97715);const jk="UsersSettingsRowName-status-dpIBos",Bk="UsersSettingsRowName-text-_35R6R",Hk=function(e){const{title:t,username:n,subtitle:a,restrictionProfile:r,isAdmin:s,isRestricted:l,showRole:o}=e;let c;return l&&(c=[(0,B.A)("Managed Account"),r?Eh.Pw(r).title:void 0].filter((e=>e)).join(", ")),i.createElement("div",{className:"UsersSettingsRowName-container-cgi88a"},i.createElement("div",{className:"UsersSettingsRowName-titleContainer-fDIlBB"},o?null:i.createElement(u.BJ,null,i.createElement("div",{className:Bk},i.createElement(p.E,{color:"primary",font:"body-2",numberOfLines:1},t)),t!==n?i.createElement("div",{className:Bk},i.createElement(p.E,{color:"muted",font:"body-2",numberOfLines:1},n)):null),o&&s?i.createElement("div",{className:"UsersSettingsRowName-statusContainer-Tx3ePM"},i.createElement("div",{className:"UsersSettingsRowName-adminLeft-IhblFe"},i.createElement(Vk.default,null)),i.createElement("div",{className:jk},(0,B.A)("Home Admin"))):null,o&&c?i.createElement("div",{className:jk},c):null),a?i.createElement("div",{className:"UsersSettingsRowName-subtitle-BbbvNB"},i.createElement(Et.A,null),a):null)},zk=function(e){const{serverEntityID:t,thumb:n,username:a,friendlyName:r,home:s,isAccepting:o,isRemoving:c,hasOtherHomeUsers:d,isSignedInUserAdmin:u,dispatchAcceptInvite:m,dispatchRejectInvite:p}=e,h=o||c,g=(0,Zl.A)(h),[v,f]=(0,i.useState)(!1),[b,y]=(0,i.useState)(!1);(0,i.useEffect)((()=>{g&&!h&&(f(!1),y(!1))}),[h,g]);const A=(0,i.useCallback)((()=>s?f(!0):m()),[s,m]),E=(0,i.useCallback)((()=>y(!0)),[]),S=(0,i.useCallback)((()=>f(!1)),[]),w=(0,i.useCallback)((()=>y(!1)),[]);return i.createElement(Lk,null,i.createElement(Uk,{serverEntityID:t,thumb:n}),i.createElement(Hk,{subtitle:s?(0,B.A)("Wants you to join their home"):"",title:r||a,username:a}),s?i.createElement("div",{className:"UserSettingsInviteRow-homeInvite-dvXGAE"},(0,B.A)("Awaiting your response")):null,i.createElement(Fk,{actionSize:2},i.createElement(gk,{isAccepting:o,onPress:A}),i.createElement(vk,{title:(0,B.A)("Reject Invite"),onPress:E})),s?i.createElement(Ck,{hasOtherHomeUsers:d,isOpen:v,isSignedInUserAdmin:u,metricsPage:l.E$,onCancel:S,onConfirm:m}):null,i.createElement(Mk,{isConfirmButtonSpinning:c,isOpen:b,metricsPage:l.E$,onCancel:w,onConfirm:p}))};function _k({invite:e,isPending:t}){const n=(0,C.wA)(),a=(0,C.d4)(wh.A),r=(0,i.useCallback)((()=>{pk(e)?n(Ch.A.actions.respondToInvite({server:a,serverIds:e.sharedServers.map((e=>e.id)),action:"accept"})):n(gx.A.actions.respondToInvite({server:a,sourceIds:e.sharedSources.map((e=>e.id)),action:"accept"}))}),[n,e,a]),s=(0,i.useCallback)((()=>{pk(e)?n(Ch.A.actions.respondToInvite({server:a,serverIds:e.sharedServers.map((e=>e.id)),action:"reject",identifier:e.owner.username})):n(gx.A.actions.respondToInvite({server:a,sourceIds:e.sharedSources.map((e=>e.id)),identifier:e.owner.username,action:"reject"}))}),[n,e,a]);return i.createElement(zk,{dispatchAcceptInvite:r,dispatchRejectInvite:s,friendlyName:e.owner.title,home:!1,isAccepting:t,isRemoving:t,serverEntityID:a.entityID,thumb:e.owner.thumb,username:e.owner.username})}var Wk=Object.defineProperty,Gk=Object.defineProperties,Kk=Object.getOwnPropertyDescriptors,qk=Object.getOwnPropertySymbols,$k=Object.prototype.hasOwnProperty,Jk=Object.prototype.propertyIsEnumerable,Qk=(e,t,n)=>t in e?Wk(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const Yk=function(e){return i.createElement(ru.A,((e,t)=>Gk(e,Kk(t)))(((e,t)=>{for(var n in t||(t={}))$k.call(t,n)&&Qk(e,n,t[n]);if(qk)for(var n of qk(t))Jk.call(t,n)&&Qk(e,n,t[n]);return e})({},e),{cancelLabel:(0,B.A)("No"),confirmLabel:(0,B.A)("Yes"),message:(0,B.A)("Are you sure you want to cancel this invite?"),title:(0,B.A)("Cancel Invite")}))},Xk=function(e){const{serverEntityID:t,thumb:n,friendlyName:a,username:r,invitedEmail:s,home:o,isRemoving:c,dispatchCancelInvite:d}=e,[u,m]=(0,i.useState)(!1);return i.createElement(Lk,{className:"UserSettingsSentInviteRow-row-mF3z82 UsersSettingsRowFriend-row-Ejxwb1 UsersSettingsRow-row-DKggfg"},i.createElement(Uk,{serverEntityID:t,thumb:n}),i.createElement(Hk,{title:a||r||s||"",username:r}),o?i.createElement("div",{className:"UserSettingsSentInviteRow-homeInvite-uD43sH"},i.createElement("div",{className:"UserSettingsSentInviteRow-status-J72BUT"},(0,B.A)("Awaiting their response"))):null,i.createElement(Fk,{actionSize:1,className:"UserSettingsSentInviteRow-actions-Qzgk4w UsersSettingsRowFriend-actions-khxbss UsersSettingsRowActions-container-mUEdMi"},i.createElement(vk,{title:(0,B.A)("Cancel Invite"),onPress:(0,i.useCallback)((()=>m(!0)),[])})),i.createElement(Yk,{isConfirmButtonSpinning:c,isOpen:u,metricsPage:l.E$,onCancel:(0,i.useCallback)((()=>m(!1)),[]),onConfirm:d}))};function Zk({invite:e,isPending:t}){var n,a;const r=(0,C.wA)(),s=(0,C.d4)(wh.A),l=(0,i.useCallback)((()=>{var t;const n=(null==(t=e.invited)?void 0:t.username)||e.invitedEmail;n&&(e.invitedEmail||e.invited)&&(pk(e)?r(Ch.A.actions.respondToInvite({server:s,serverIds:e.sharedServers.map((e=>e.id)),identifier:n,action:"cancel"})):r(gx.A.actions.respondToInvite({server:s,sourceIds:e.sharedSources.map((e=>e.id)),identifier:n,action:"cancel"})))}),[r,e,s]);return!e.invited&&e.invitedEmail?i.createElement(Xk,{dispatchCancelInvite:l,friendlyName:e.invitedEmail,home:!1,invitedEmail:e.invitedEmail,isRemoving:t,serverEntityID:s.entityID,thumb:`https://plex.tv/users/${e.invitedEmail}/avatar`,username:""}):e.invited?i.createElement(Xk,{dispatchCancelInvite:l,friendlyName:e.invited.title,home:!1,invitedEmail:"",isRemoving:t,serverEntityID:s.entityID,thumb:null==(n=e.invited)?void 0:n.thumb,username:null==(a=e.invited)?void 0:a.username}):null}const eO=()=>i.createElement("div",{className:"SettingsSpinner-spinner-fjAkiA"},i.createElement(m.y,{testID:"spinner"}));var tO=n(70445),nO=n(88050),aO=n(44454),rO=Object.defineProperty,iO=Object.defineProperties,sO=Object.getOwnPropertyDescriptors,lO=Object.getOwnPropertySymbols,oO=Object.prototype.hasOwnProperty,cO=Object.prototype.propertyIsEnumerable,dO=(e,t,n)=>t in e?rO(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;function uO(e){const t=e,{title:n,serverShares:a,uuid:r,sharedSources:s,onConfirm:l,onRemoveFriend:o}=t,c=((e,t)=>{var n={};for(var a in e)oO.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&lO)for(var a of lO(e))t.indexOf(a)<0&&cO.call(e,a)&&(n[a]=e[a]);return n})(t,["title","serverShares","uuid","sharedSources","onConfirm","onRemoveFriend"]),{communityFriends:{friends:d,isPopulated:m}}=(0,C.d4)(aP.A),[h,g]=(0,i.useState)(!1),v=(0,i.useCallback)((e=>{g(e.currentTarget.checked)}),[]),f=(0,i.useCallback)((()=>{null==o||o(h),l()}),[l,o,h]),b=(0,i.useMemo)((()=>m&&-1!==d.findIndex((e=>e.id===r))),[d,m,r]);let y=(0,B.A)("Are you sure you want to remove {friendName}?",{friendName:n}),A=0,E=0,S=0,w=0;return a.forEach((e=>{e.owned?A+=e.numLibraries:E+=e.numLibraries})),null==s||s.forEach((e=>{e.owned?S+=e.sharedItemsCount:w+=e.sharedItemsCount})),(A+E||S+w)&&(y+=" "+(0,B.A)("This will remove access to all libraries and single items.")),i.createElement(ru.A,((e,t)=>iO(e,sO(t)))(((e,t)=>{for(var n in t||(t={}))oO.call(t,n)&&dO(e,n,t[n]);if(lO)for(var n of lO(t))cO.call(t,n)&&dO(e,n,t[n]);return e})({},c),{confirmLabel:(0,B.A)("Remove"),kind:hu.Ol,message:y,title:(0,B.A)("Remove Library Access"),onConfirm:f}),b?i.createElement("label",{htmlFor:"removeFriend"},i.createElement(u.BJ,{orientation:"horizontal",verticalAlign:"center"},i.createElement(Pc.A,{checked:h,name:"removeFriend",onChange:v}),i.createElement(p.E,{color:"default",font:"inherit"},(0,B.A)("Also remove {name} as a friend.",{name:n})))):null)}uO.defaultProps={serverShares:[]};const mO=uO,pO="UsersSettingsRowShares-status-UDdxmE";function hO(e){const{serverShares:t,sharedSources:n,username:a}=e,[r,s]=(0,i.useMemo)((()=>{let e=0,n=0;return null==t||t.forEach((t=>{t.owned?e+=t.numLibraries:n+=t.numLibraries})),[e,n]}),[t]),[l,o]=(0,i.useMemo)((()=>{let e=0,t=0;return null==n||n.forEach((n=>{n.owned?e+=n.sharedItemsCount:t+=n.sharedItemsCount})),[e,t]}),[n]);return i.createElement("div",{className:"UsersSettingsRowShares-container-S4bEUW"},s||o?i.createElement("div",{className:pO},function(e,t){let n="";return e?(n=e>1?(0,B.A)("You have access to {count} libraries",{count:e}):(0,B.A)("You have access to 1 library"),t>0&&(n+=`, ${t>1?(0,B.A)("{count} items",{count:t}):(0,B.A)("{count} item",{count:t})}`),n):t>1?(0,B.A)("You have access to {count} items",{count:t}):(0,B.A)("You have access to 1 item")}(s,o)):null,r||l?i.createElement("div",{className:pO},function(e,t,n){let a="";return e?(a=e>1?(0,B.A)("{username} has access to {count} libraries",{username:n,count:e}):(0,B.A)("{username} has access to 1 library",{username:n}),t>0&&(a+=`, ${t>1?(0,B.A)("{count} items",{count:t}):(0,B.A)("{count} item",{count:t})}`),a):t>1?(0,B.A)("{username} has access to {count} items",{username:n,count:t}):(0,B.A)("{username} has access to 1 item",{username:n})}(r,l,a)):null)}hO.defaultProps={serverShares:[]};const gO=hO,vO=function(e){const{serverEntityID:t,id:n,title:a,uuid:r,username:s,thumb:o,serverShares:c,sharedSources:d,home:u,restricted:m,isRemoving:p,isRemovingFriend:h,dispatchRemove:g,onRemoveFriend:v}=e,f=(0,aO.A)(),b=p||h,y=(0,Ul.A)(b);return(0,i.useEffect)((()=>{y&&!b&&f.isOpen&&f.onClose()}),[y,b,f]),u||m?null:i.createElement(Lk,{className:"UsersSettingsRowFriend-row-Ejxwb1 UsersSettingsRow-row-DKggfg",userID:n},i.createElement(Uk,{serverEntityID:t,thumb:o}),i.createElement(Hk,{title:a||s,username:s}),(null==c?void 0:c.length)||function(e=[]){let t=0;for(let n=0;n<e.length;n++)t+=e[n].sharedItemsCount;return t}(d)?i.createElement(gO,{serverShares:c,sharedSources:d,username:a||s}):null,i.createElement(Fk,{actionSize:1,className:"UsersSettingsRowFriend-actions-khxbss UsersSettingsRowActions-container-mUEdMi"},i.createElement(vk,{title:(0,B.A)("Remove Library Access"),onPress:f.onOpen})),i.createElement(mO,{isConfirmButtonSpinning:b,isOpen:f.isOpen,metricsPage:l.E$,serverShares:c,sharedSources:d,title:a,uuid:r,onCancel:f.onClose,onConfirm:g,onRemoveFriend:v}))};var fO=n(837);function bO({access:e}){const t=(0,C.d4)(wh.A),{addToast:n}=(0,eP.dj)(),a=(0,C.wA)(),{action:r,isLoading:s}=(0,tO.A)(fO.be,!0),[l,o]=(0,i.useState)(!1),c=s||l,d=(0,Zl.A)(c);(0,i.useEffect)((()=>{d&&!c&&a(VP.Ay.actions.removeSharesByUserUUID({uuid:e.user.uuid}))}),[e.user.uuid,a,c,d]);const u=(0,i.useCallback)((()=>{return a=this,null,r=function*(){try{o(!0),yield nO.A.del(`/api/v2/sharings/${e.user.id}`,{server:t})}catch(e){n({color:"alert",description:(0,B.A)("Error while removing shares."),type:"foreground"})}o(!1)},new Promise(((e,t)=>{var n=e=>{try{s(r.next(e))}catch(e){t(e)}},i=e=>{try{s(r.throw(e))}catch(e){t(e)}},s=t=>t.done?e(t.value):Promise.resolve(t.value).then(n,i);s((r=r.apply(a,null)).next())}));var a,r}),[e.user.id,n,t]),m=(0,i.useCallback)((t=>{t&&r(e.user.uuid,null)}),[e.user.uuid,r]);return i.createElement(vO,{dispatchRemove:u,home:!1,id:e.user.id,isRemoving:c,isRemovingFriend:!1,restricted:!1,serverEntityID:t.entityID,serverShares:e.sharedServers,sharedSources:e.sharedSources,thumb:e.user.thumb,title:e.user.title,username:e.user.username,uuid:e.user.uuid,onRemoveFriend:m})}const yO=function({title:e,children:t}){return i.createElement("div",{className:"UsersSettingsPageListHeader-header-HfAq5T"},i.createElement("div",{className:"UsersSettingsPageListHeader-pageHeaderLeft-GRKGvl"},e),i.createElement("div",{className:"UsersSettingsPageListHeader-pageHeaderRight-O73STm"},t))},AO=()=>{const e=(0,RD.A)(),{addToast:t}=(0,eP.dj)(),n=(0,Vs.E)(),{username:a}=(0,C.d4)(cP.A),{invites:r,isPopulated:s,isPending:o,error:c}=(0,SD.A)(uk.A,Ch.A.actions.fetchReceivedInvites),{invites:d,isPopulated:m,isPending:h,error:g}=(0,SD.A)(yD.A,Ch.A.actions.fetchOwnedInvites),{invites:v,isPopulated:f,isPending:A,error:E}=(0,SD.A)(dk.A,gx.A.actions.fetchReceivedInvites),{invites:S,isPopulated:w,isPending:P,error:D}=(0,SD.A)(ck.A,gx.A.actions.fetchOwnedInvites);(0,SD.A)(nP.A,tP.A.actions.fetchCommunityFriends);const{isPopulated:x,users:k,error:O}=(0,qx.A)(!1),I=O||c||g||E||D,T=x&&s&&m&&f&&w,M=(0,i.useCallback)((()=>{e({action:LD.oV})}),[e]);return(0,i.useEffect)((()=>{I&&t({color:"alert",description:I.message,type:"foreground"})}),[t,I]),i.createElement(b.A,{metricsPage:l.u4,metricsPane:l.Xp},i.createElement(y.A,null,(0,B.A)("Manage Library Access")),i.createElement(p.E,null,(0,B.A)("Give your friends and family access to the content on your Plex Media Server. You can manage access to libraries or single titles and restrict access to certain features.")),T||I?null:i.createElement(eO,null),T?i.createElement("div",null,r.length>0||v.length>0?i.createElement(i.Fragment,null,i.createElement(yO,{title:(0,B.A)("Library Invitations Received")}),r.map((e=>i.createElement(_k,{key:e.invitedId,invite:e,isPending:o}))),v.map((e=>i.createElement(_k,{key:e.invitedId,invite:e,isPending:A})))):null,i.createElement(i.Fragment,null,i.createElement(yO,{title:(0,B.A)("Accounts with Library Access")},i.createElement(u.BJ,{gap:"s",orientation:"horizontal"},i.createElement(mk.A,{listType:["FriendsWithoutLibraryAccess"],modalState:n,type:"ShareLibrary"}),i.createElement(Zn.vx,{href:(0,Ro.A)("userFriends",{username:a}),label:(0,B.A)("View all Friends"),size:"xs",testID:"button",onPress:M}))),0===k.length?i.createElement("div",{className:"ManageLibraryAccess-zeroState-mAOpj1"},i.createElement(u.BJ,{align:"center",height:"100%",verticalAlign:"center"},i.createElement(p.E,null,(0,B.A)("No friends with access")))):null,k.map((e=>i.createElement(bO,{key:e.user.id,access:e})))),d.length>0||S.length>0?i.createElement(i.Fragment,null,i.createElement(yO,{title:(0,B.A)("Library Requests Sent")}),d.map((e=>i.createElement(Zk,{key:e.invitedId,invite:e,isPending:h}))),S.map((e=>i.createElement(Zk,{key:e.invitedId,invite:e,isPending:P})))):null):null)},EO=(0,it.Mz)(Jh.A,(e=>e.homeDetails));var SO=n(94772);const wO=(0,it.Mz)(Yh.A,cP.A,((e,t)=>{const n=Object.values(e).find((e=>e.id===t.id));return!!(null==n?void 0:n.admin)}));var CO=n(61361);const PO=(0,C.Ng)(null,(function(e,t){return{dispatchAcceptInvite(){t.acceptInvite?t.acceptInvite():e((0,Zh.Ql)({inviteID:t.id}))},dispatchRejectInvite(){t.rejectInvite?t.rejectInvite():e((0,Zh.vO)({inviteID:t.id}))}}}))(zk),DO=(0,C.Ng)(null,(function(e,t){return{dispatchCancelInvite(){t.cancelInvite?t.cancelInvite():e((0,Zh.cW)({inviteID:t.id}))}}}))(Xk);function xO(){return(0,it.Mz)(Yh.A,((e,t)=>t.homeUserEntityID),((e,t)=>e[t]))}var kO=Object.defineProperty,OO=Object.defineProperties,IO=Object.getOwnPropertyDescriptors,TO=Object.getOwnPropertySymbols,MO=Object.prototype.hasOwnProperty,NO=Object.prototype.propertyIsEnumerable,LO=(e,t,n)=>t in e?kO(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const RO=function(e){const t=e,{isSignedInUser:n,isAdmin:a,isRestricted:r}=t,s=((e,t)=>{var n={};for(var a in e)MO.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&TO)for(var a of TO(e))t.indexOf(a)<0&&NO.call(e,a)&&(n[a]=e[a]);return n})(t,["isSignedInUser","isAdmin","isRestricted"]);let l=(0,B.A)("Remove Account from Plex Home"),o=(0,B.A)("You will no longer be able to switch to this account and it will be removed from this list. This account will continue have access to any libraries they have today. You can change that by visiting the Manage Library Access page."),c=(0,B.A)("Remove");const d=(0,B.A)("You are the admin in this home. If you leave, the remaining accounts will be removed and managed accounts will be deleted.");return n?(l=(0,B.A)("Leave Home"),o=a?d:(0,B.A)("Are you sure you want to leave this home?"),c=(0,B.A)("Leave")):r&&(o=(0,B.A)("Removing a managed account from your home will delete the managed account. Watched status for this account will be lost. This cannot be undone.")),i.createElement(ru.A,((e,t)=>OO(e,IO(t)))(((e,t)=>{for(var n in t||(t={}))MO.call(t,n)&&LO(e,n,t[n]);if(TO)for(var n of TO(t))NO.call(t,n)&&LO(e,n,t[n]);return e})({},s),{confirmLabel:c,kind:hu.Ol,message:o,title:l}))};var FO=n(38035);function UO(e){const{isProtected:t,isGuest:n}=e,a=t?FO.default:Bw.default,r=t?(0,B.A)("Has PIN"):(0,B.A)("No PIN");return i.createElement("div",{className:"UsersSettingsRowHome-container-E4LNIO"},i.createElement("div",{title:r},n?null:i.createElement("div",{className:t?"UsersSettingsRowHome-lockedIcon-f5RmQD UsersSettingsRowHome-icon-OxGDNc":"UsersSettingsRowHome-icon-OxGDNc"},i.createElement(u.I1,{gap:"xs"},i.createElement(a,{accessibilityLabel:r}),i.createElement(p.E,{font:"body-3"},t?"PIN Required":"No PIN")))))}UO.defaultProps={isProtected:!1,isGuest:!1};const VO=UO;var jO=Object.defineProperty,BO=Object.defineProperties,HO=Object.getOwnPropertyDescriptors,zO=Object.getOwnPropertySymbols,_O=Object.prototype.hasOwnProperty,WO=Object.prototype.propertyIsEnumerable,GO=(e,t,n)=>t in e?jO(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const KO=(0,it.Mz)(Yh.A,(0,yh.A)("id"),((e,t)=>{const n=Object.values(e).find((e=>e.id===t));return!(!n||!n.restricted)})),qO=(0,C.Ng)((function(){return(0,it.Mz)(((e,{signedInUserId:t})=>t),KO,xO(),(0,it.Mz)(xO(),Xh.A,Lp.A,((e,t,n)=>t.find((t=>n[t].id===e.id)))),((e,t,n,a)=>((e,t)=>BO(e,HO(t)))(((e,t)=>{for(var n in t||(t={}))_O.call(t,n)&&GO(e,n,t[n]);if(zO)for(var n of zO(t))WO.call(t,n)&&GO(e,n,t[n]);return e})({},n),{serverShares:a&&a.serverShares,isSignedInUser:n.id===e,isSignedInUserRestricted:t})))}),(function(e,t){return{dispatchRemove(){e((0,Zh.v5)({homeUserEntityID:t.homeUserEntityID}))},dispatchEditPIN(){e((0,Zh.ak)({homeUserEntityID:t.homeUserEntityID}))}}}))((function(e){const{serverEntityID:t,id:n,title:a,username:r,thumb:s,protected:o,restricted:c,serverShares:d,isSignedInUserAdmin:u,isSignedInUserRestricted:m,isSignedInUser:p,admin:h,guest:g,restrictionProfile:v,hasOtherHomeUsers:f,isRemoving:b,dispatchEditPIN:y,dispatchRemove:A}=e,[E,S]=(0,i.useState)(!1),w=(0,Ul.A)(b);(0,i.useEffect)((()=>{w&&!b&&E&&S(!1)}),[w,b,E]);const C=(0,i.useCallback)((()=>{S(!0)}),[]),P=(0,i.useCallback)((()=>{S(!1)}),[]);let D;D=!!u||(m?h:!c);const x=!p&&D,k=u&&!p&&!g,O=p&&!c,I=u&&c&&!g;return i.createElement(Lk,{className:"UsersSettingsRowHomeUser-row-F9rrXn UsersSettingsRowFriend-row-Ejxwb1 UsersSettingsRow-row-DKggfg",userID:x?n:null},i.createElement(Uk,{serverEntityID:t,thumb:s}),i.createElement(Hk,{isAdmin:h,isRestricted:c,restrictionProfile:v,title:a,username:r}),i.createElement(Hk,{isAdmin:h,isRestricted:c,restrictionProfile:v,showRole:!0,title:a,username:r}),i.createElement(VO,{isGuest:g,isProtected:o}),d&&d.length>0?i.createElement(gO,{serverShares:d,username:a}):null,i.createElement(Fk,{actionSize:3,className:"UsersSettingsRowHomeUser-actions-aSRVWX UsersSettingsRowFriend-actions-khxbss UsersSettingsRowActions-container-mUEdMi"},O||I?i.createElement(Xt.A,{className:"UsersSettingsRowHomeUser-editPin-AZ5gC_",onPress:y},o?(0,B.A)("Edit PIN"):(0,B.A)("Set PIN")):null,k?i.createElement(vk,{title:(0,B.A)("Remove From Plex Home"),onPress:C}):null,p&&f&&!c?i.createElement(vk,{title:(0,B.A)("Leave Home"),onPress:C}):null),i.createElement(RO,{isAdmin:h,isConfirmButtonSpinning:b,isOpen:E,isRestricted:c,isSignedInUser:p,metricsPage:l.E$,onCancel:P,onConfirm:A}))}));var $O=Object.defineProperty,JO=Object.defineProperties,QO=Object.getOwnPropertyDescriptors,YO=Object.getOwnPropertySymbols,XO=Object.prototype.hasOwnProperty,ZO=Object.prototype.propertyIsEnumerable,eI=(e,t,n)=>t in e?$O(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,tI=(e,t)=>{for(var n in t||(t={}))XO.call(t,n)&&eI(e,n,t[n]);if(YO)for(var n of YO(t))ZO.call(t,n)&&eI(e,n,t[n]);return e},nI=(e,t)=>JO(e,QO(t));const aI=()=>{const e=(0,C.wA)(),t=(0,C.d4)(wO),n=(0,C.d4)((0,yh.A)("hasPlexPass")),{isTogglingGuestUser:a,guestEnabled:r}=(0,C.d4)(EO),{invites:s,homeUsers:o,sentInvites:c,isHomeDetailsPopulated:d,isHomeUsersPopulated:m,isHomeDetailsPending:h,isHomeUsersPending:g}=(0,C.d4)(dP.A),v=(0,Vs.E)(),{id:f}=(0,C.d4)(cP.A),A=(0,C.d4)((e=>e.cloudServer)),E=(0,CO.B)(s,!0),S=(0,CO.B)(c,!0),w=(0,SO.A)(),P=Iv.A.parseBoolean(w.addManagedUser),D=d&&m,x=h||g,[k,O]=(0,i.useState)(P),[I,T]=(0,i.useState)(w.addManagedUser?Tg.CreatingUser:Tg.None),M=(0,i.useCallback)((()=>{O(!0),T(Tg.CreatingUser)}),[]),N=(0,i.useCallback)((()=>{O(!1),T(Tg.None)}),[]),L=(0,i.useCallback)((()=>{e((0,Zh.Ou)())}),[e]);return(0,i.useEffect)((()=>{e((0,Zh.tX)()),e((0,Zh.iN)()),e((0,Zh.OC)()),e((0,Zh.PA)()),e((0,Zh.b$)())}),[e]),i.createElement(b.A,{metricsPage:l.u4,metricsPane:l.iv},i.createElement(u.BJ,null,i.createElement(y.A,null,(0,B.A)("Plex Home")),i.createElement(p.E,null,(0,B.A)("Plex Home allows family or roommates that live with you in your household to easily switch between Home accounts on shared devices. You can invite an existing Plex user to your Plex Home or create Managed Accounts for kids or other members of your household where you can control access to media on a per-user basis."))),x&&!D?i.createElement(eO,null):null,D?i.createElement(i.Fragment,null,i.createElement(yO,{title:(0,B.A)("My Home")},i.createElement(u.I1,{gap:"xs"},n&&t?i.createElement(mk.A,{listType:["PlexAccounts"],modalState:v,type:"InviteHomeUser"}):null,t?i.createElement(Zn.$n,{label:(0,B.A)("Create Managed Account"),size:"xs",testID:"button",onPress:M}):null,t?i.createElement(Zn.$n,{disabled:a,label:r?(0,B.A)("Disable Guest"):(0,B.A)("Enable Guest"),size:"xs",testID:"button",onPress:L}):null)),E.map((e=>i.createElement(PO,nI(tI({key:e.id},e),{hasOtherHomeUsers:o.length>1,isSignedInUserAdmin:t,serverEntityID:A})))),o.map((e=>i.createElement(qO,{key:e,hasOtherHomeUsers:o.length>1,homeUserEntityID:e,isSignedInUserAdmin:t,serverEntityID:A,signedInUserId:f}))),t&&!n?i.createElement("div",{className:"PlexHome-upsell-Bf5_HF"},i.createElement(Lm.A,{className:"PlexHome-upsellMessage-HxeSdC",message:(0,B.A)("Adding other Plex users to your home requires a Plex Pass. {openLink}Learn More{closeLink}"),tags:[{open:"openLink",close:"closeLink",component:Xt.A,to:"https://www.plex.tv/plex-pass/",target:"_blank",kind:hu.jd}]})):null,S.map((e=>i.createElement(DO,nI(tI({key:e.id},e),{serverEntityID:A}))))):null,i.createElement(Mg,{isOpen:k,metricsProperties:{context:Tl.USERS_AND_SHARING},serverEntityID:A,sharingReason:I,onModalClose:N}))};var rI=n(54514),iI=n(75086),sI=n(98467);function lI(e){const t=e["aria-label"],n=e.className,a=e.style,r={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-toolbar-add-to-home-560"};r["aria-hidden"]=!t,r.style=a,r.className=Zo.A.plexIcon+(n?" "+n:"");const s=[i.createElement.apply(i,["path",{d:"M240.8 504H28V336h44.8v123.2H196V308h168v151.2h123.2V298.557L280 91.357l-66.322 66.321L182 126l98-98 252 252v224H319.2V352.8h-78.4V504zM134.4 190.4H224v44.8h-89.6v89.6H89.6v-89.6H0v-44.8h89.6v-89.6h44.8v89.6z"}].concat([]))];return t&&s.unshift(i.createElement("title",null,t)),i.createElement.apply(i,["svg",r].concat(s))}lI.propTypes={"aria-label":Xo().string,className:Xo().string,style:Xo().object};const oI=lI;var cI=Object.defineProperty,dI=Object.defineProperties,uI=Object.getOwnPropertyDescriptors,mI=Object.getOwnPropertySymbols,pI=Object.prototype.hasOwnProperty,hI=Object.prototype.propertyIsEnumerable,gI=(e,t,n)=>t in e?cI(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,vI=(e,t)=>{for(var n in t||(t={}))pI.call(t,n)&&gI(e,n,t[n]);if(mI)for(var n of mI(t))hI.call(t,n)&&gI(e,n,t[n]);return e},fI=(e,t)=>dI(e,uI(t));const bI={isRestrictionProfileOpen:!1,isAllowSyncOpen:!1,isAllowLiveTVOpen:!1,isMovieTagsOpen:!1,isTelevisionTagsOpen:!1,isMusicTagsOpen:!1};function yI(e){return Eh.Pw(e||Eh.Tc).title}function AI(e,t){return e?Sh.A.options[t]():t===Sh.A.TV_ONLY?(0,B.A)("Enabled"):(0,B.A)("Disabled")}function EI(e){return parseInt(e,10)}const SI=function(e){const{friend:t,restrictionProfile:n,filterOptionsTags:a,isFilterOptionsTagsPopulating:r,isFilterOptionsTagsPopulated:s,isUpdatingFriend:l,updateFriendError:o,hasPlexPass:c,isGuest:d,canShowRestrictions:u,canShareTuners:m,canShareDVR:p,onSubmit:h,onErrorDismiss:g}=e,{entityID:v,restricted:f,filterMovies:b,filterTelevision:y,filterMusic:A,allowSync:E,allowTuners:S,home:w,username:C}=t;(0,iP.A)();const P=w&&!C,[D,x]=(0,i.useState)(bI),k=(0,Ul.A)(l);(0,i.useEffect)((()=>{!k||l||o||x(T().mapObject(D,(()=>!1)))}),[k,l,o,D]);const O=(0,i.useCallback)((e=>t=>{t.preventDefault(),o&&g({friendEntityID:v});const n=T().mapObject(D,((t,n)=>n===e&&!D[e]));x(n)}),[D,x,v,o,g]),I=(0,i.useCallback)(((e,t)=>({title:e,isOpen:D[t],onSubmit:e=>{h({friendEntityID:v,restrictions:e})},isUpdating:l,errorMessage:o,onTogglePress:O(t)})),[D,O,v,l,o,h]),M={filterOptionsTags:a,isFilterOptionsTagsPopulating:r,isFilterOptionsTagsPopulated:s},N=u&&!n;return i.createElement("div",{className:rD},f&&!d?i.createElement(gP.A,fI(vI({},I((0,B.A)("Restriction Profile"),"isRestrictionProfileOpen")),{closedNode:yI(n)}),i.createElement(ig,{hasPlexPass:c,initialValue:n||Eh.Tc,name:"restrictionProfileIdentifier"})):null,i.createElement(gP.A,fI(vI({},I((0,B.A)("Allow Downloads"),"isAllowSyncOpen")),{closedNode:E?(0,B.A)("Enabled"):(0,B.A)("Disabled")}),i.createElement(NP.A,{checkboxText:_P(P),initialValue:E,labelText:(0,B.A)("Allow Downloads"),name:"allowSync"})),m?i.createElement(gP.A,fI(vI({},I(p?(0,B.A)("Live TV & DVR Access"):(0,B.A)("Allow access to Live TV"),"isAllowLiveTVOpen")),{closedNode:AI(p,S)}),p?i.createElement(oc.A,{helpText:HP(P),initialValue:S,labelText:(0,B.A)("Live TV & DVR Access"),name:"allowTuners",transformValue:EI,value:Sh.A.values[S],values:Sh.A.values}):i.createElement(NP.A,{checkboxText:zP(P),checkedValue:1,initialValue:S,labelText:(0,B.A)("Allow access to Live TV"),name:"allowTuners",uncheckedValue:0})):null,N?i.createElement(i.Fragment,null,i.createElement(aD,fI(vI({},I(TP.Ay.get(TP.oT).title,"isMovieTagsOpen")),{contentRatingsName:"moviesContentRatings",excludeContentRatingsName:"moviesExcludeContentRatings",excludeLabelsName:"moviesExcludeLabels",filters:b,label:TP.Ay.get(TP.oT).title,labelsName:"moviesLabels",metadataType:lr.MOVIE,tagsProps:M})),i.createElement(aD,fI(vI({},I(TP.Ay.get(TP.TV).title,"isTelevisionTagsOpen")),{contentRatingsName:"televisionContentRatings",excludeContentRatingsName:"televisionExcludeContentRatings",excludeLabelsName:"televisionExcludeLabels",filters:y,label:TP.Ay.get(TP.TV).title,labelsName:"televisionLabels",metadataType:lr._O,tagsProps:M})),i.createElement(aD,fI(vI({},I(TP.Ay.get(TP.on).title,"isMusicTagsOpen")),{excludeLabelsName:"musicExcludeLabels",filters:A,label:TP.Ay.get(TP.on).title,labelsName:"musicLabels",metadataType:lr.Ot,tagsProps:M}))):null,u?null:i.createElement(Vm,{iconComponent:IP,moreInfo:i.createElement(Lm.A,{message:(0,B.A)("See our {openLinkSupported}support article{closeLinkSupported} for more information."),tags:[{open:"openLinkSupported",close:"closeLinkSupported",component:Xt.A,kind:hu.jd,to:Nm.aK,target:"_blank"}]}),text:(0,B.A)("Upgrade to a Plex Pass to get more control over the media you share."),title:(0,B.A)("Sharing Restrictions")},i.createElement(jP.A,{modalMetricsProperties:{context:Tl.USERS_AND_SHARING},origin:Rm.cK})))};var wI=Object.defineProperty,CI=Object.getOwnPropertySymbols,PI=Object.prototype.hasOwnProperty,DI=Object.prototype.propertyIsEnumerable,xI=(e,t,n)=>t in e?wI(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const kI=(0,Ah.A)(h.Px),OI=(0,Ah.A)(h.X_),II=(0,Ah.A)(h.Yq),TI={dispatchFetchFilterOptionsTags:uP.eo,onSubmit:uP.gl,onErrorDismiss:uP.jY},MI=(0,C.Ng)((function(){return(0,it.Mz)((e=>e.ui.userSharingSettingsPage),((e,{friend:t})=>t),bh.A,kI,OI,II,(0,it.Mz)(((e,{friend:t})=>t),Yh.A,((e,t)=>Object.values(t).find((t=>t.id===e.id)))),(0,yh.A)("hasPlexPass"),((e,t,n,a,r,i,s,l)=>{const o=r||t.home;return{serverEntityIDs:n,restrictionProfile:s?s.restrictionProfile:null,filterOptionsTags:e.filterOptionsTags,isFilterOptionsTagsPopulating:e.isFilterOptionsTagsPopulating,isFilterOptionsTagsPopulated:e.isFilterOptionsTagsPopulated,isUpdatingFriend:e.isUpdatingFriend,updateFriendError:e.updateFriendError,hasPlexPass:l,isGuest:!!s&&s.guest,canShowRestrictions:a,canShareTuners:o,canShareDVR:o&&i}}))}),TI)((function(e){const t=e,{serverEntityIDs:n,dispatchFetchFilterOptionsTags:a}=t,r=((e,t)=>{var n={};for(var a in e)PI.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&CI)for(var a of CI(e))t.indexOf(a)<0&&DI.call(e,a)&&(n[a]=e[a]);return n})(t,["serverEntityIDs","dispatchFetchFilterOptionsTags"]);return(0,i.useEffect)((()=>{a({serverEntityIDs:n})}),[n,a]),i.createElement(SI,((e,t)=>{for(var n in t||(t={}))PI.call(t,n)&&xI(e,n,t[n]);if(CI)for(var n of CI(t))DI.call(t,n)&&xI(e,n,t[n]);return e})({},r))})),NI=function({serverShare:e}){const{name:t,libraries:n}=e;return i.createElement(i.Fragment,null,i.createElement(cr.A,null,t),n.map((e=>i.createElement("div",{key:e.id,className:wD},e.title))))};var LI=Object.defineProperty,RI=Object.defineProperties,FI=Object.getOwnPropertyDescriptors,UI=Object.getOwnPropertySymbols,VI=Object.prototype.hasOwnProperty,jI=Object.prototype.propertyIsEnumerable,BI=(e,t,n)=>t in e?LI(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;function HI(e){const{libraries:t,sharingSettings:n,allLibraries:a}=e,r=a?(0,B.A)("All libraries"):t.map((e=>e.title)).join(", "),s=[];return n.allowSync&&s.push((0,B.A)("Downloads Allowed")),0!==n.allowTuners&&s.push(1===n.allowTuners?(0,B.A)("Live TV Allowed"):(0,B.A)("Live TV and DVR allowed")),i.createElement(i.Fragment,null,i.createElement("div",null,r),s.length>0?i.createElement("div",null,s.join(", ")):null)}const zI=(0,it.Mz)((e=>e.ui.userSharingSettingsPage),(e=>{const{isRemoveServerSharePending:t,isRemoveServerShareCompleted:n,removeServerShareError:a}=e;return{isRemoveServerSharePending:t&&!a,isRemoveServerShareCompleted:n,removeServerShareError:a}})),_I={onSubmit:uP.l0,onErrorDismiss:uP.jU},WI=(0,C.Ng)(zI,_I)((function(e){const{friend:t,serverShares:n,isRemoveServerSharePending:a,isRemoveServerShareCompleted:r,removeServerShareError:s,onSubmit:o,onErrorDismiss:c}=e,d=(0,i.useMemo)((()=>n.reduce(((e,t)=>(e[t.machineIdentifier]=!1,e)),{})),[n]),[u,m]=(0,i.useState)(d),[p,h]=(0,i.useState)(!1),[g,v]=(0,i.useState)(null),f=(0,Ul.A)(r);(0,i.useEffect)((()=>{f||!r||s||m(T().mapObject(u,(()=>!1)))}),[u,f,r,s]);const b=(0,i.useCallback)((()=>{h(!1)}),[h]),y=(0,i.useCallback)((()=>{o({friendEntityID:t.entityID,machineIdentifier:g}),h(!1)}),[t,g,h,o]),A=(0,i.useCallback)((e=>t=>{t.preventDefault(),s&&c();const n=T().mapObject(u,((t,n)=>n===e&&!u[e]));m(n)}),[u,m,s,c]),E=(0,i.useCallback)(((e,t)=>({title:e,isOpen:u[t],onSubmit:()=>{v(t),h(!0)},isUpdating:a,errorMessage:s,onTogglePress:A(t)})),[u,a,s,A]);return i.createElement(i.Fragment,null,n.map((e=>{const{machineIdentifier:t,name:n}=e;return i.createElement(gP.A,((e,t)=>RI(e,FI(t)))(((e,t)=>{for(var n in t||(t={}))VI.call(t,n)&&BI(e,n,t[n]);if(UI)for(var n of UI(t))jI.call(t,n)&&BI(e,n,t[n]);return e})({},E(n,t)),{key:t,buttonKind:hu.Ol,buttonText:(0,B.A)("Leave Server"),closedNode:HI(e),showButtonEnabled:!0}),i.createElement(NI,{key:t,serverShare:e}))})),i.createElement(ru.A,{confirmLabel:(0,B.A)("Leave Server"),isOpen:p,kind:hu.Ol,message:(0,B.A)("Are you sure you want to leave this shared server?"),metricsPage:l.E$,title:(0,B.A)("Leave shared server"),onCancel:b,onConfirm:y}))}));var GI=Object.defineProperty,KI=Object.getOwnPropertySymbols,qI=Object.prototype.hasOwnProperty,$I=Object.prototype.propertyIsEnumerable,JI=(e,t,n)=>t in e?GI(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const QI=(0,zp.A)((function(e){return i.createElement(Hp.A,((e,t)=>{for(var n in t||(t={}))qI.call(t,n)&&JI(e,n,t[n]);if(KI)for(var n of KI(t))$I.call(t,n)&&JI(e,n,t[n]);return e})({className:zD},e))})),YI=function(e){const{serverOverview:t,serverShare:n}=e,{machineIdentifier:a,name:r,sections:s}=t,[l,o]=(0,i.useState)(!(!n||!n.allLibraries)),c=(0,i.useCallback)((()=>{o(!l)}),[l]);return i.createElement(i.Fragment,null,i.createElement(cr.A,null,r),s.length>0?i.createElement(QI,{checkboxText:(0,B.A)("All Libraries"),initialValue:l,name:JSON.stringify({[Fp]:a}),onChange:c}):null,0===s.length?i.createElement("div",{className:JD},(0,B.A)("No libraries")):null,l?null:s.map((e=>{const{id:t,title:a}=e,r=!!(n&&n.libraries&&n.libraries.find((e=>e.id===t)));return i.createElement(QI,{key:t,checkboxText:a,initialValue:r,name:JSON.stringify({[Up]:t})})})))};var XI=Object.defineProperty,ZI=Object.defineProperties,eT=Object.getOwnPropertyDescriptors,tT=Object.getOwnPropertySymbols,nT=Object.prototype.hasOwnProperty,aT=Object.prototype.propertyIsEnumerable,rT=(e,t,n)=>t in e?XI(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;function iT(e){return e?e.allLibraries?(0,B.A)("All libraries"):e.libraries.map((e=>e.title)).join(", "):(0,B.A)("No shared libraries")}const sT=(0,it.Mz)((e=>e.ui.userSharingSettingsPage),(e=>{const{isSharingPending:t,isSharingCompleted:n,sharingError:a}=e;return{isSharingPending:t&&!a,isSharingCompleted:n,sharingError:a}})),lT={onSubmit:uP.r4,onErrorDismiss:uP.vr},oT=(0,C.Ng)(sT,lT)((function(e){const{friend:t,serverOverviews:n,isSharingPending:a,isSharingCompleted:r,sharingError:s,onSubmit:l,onErrorDismiss:o}=e,c=(0,i.useMemo)((()=>n.reduce(((e,t)=>(e[t.machineIdentifier]=!1,e)),{})),[n]),[d,u]=(0,i.useState)(c),m=(0,Ul.A)(r);(0,i.useEffect)((()=>{m||!r||s||u(T().mapObject(d,(()=>!1)))}),[d,m,r,s]);const p=(0,i.useCallback)((e=>t=>{t.preventDefault(),s&&o();const n=T().mapObject(d,((t,n)=>n===e&&!d[e]));u(n)}),[d,u,s,o]),h=(0,i.useCallback)((e=>n=>{const a=Object.keys(n).reduce(((e,t)=>{const a=n[t],r=JSON.parse(t);return a&&r.hasOwnProperty(Up)&&e.selectedLibrarySectionIDs.push(r[Up]),a&&r.hasOwnProperty(Fp)&&(e.isAllLibrariesSelected=!0),e}),{friendEntityID:t.entityID,machineIdentifier:e,selectedLibrarySectionIDs:[],isAllLibrariesSelected:!1});l(a)}),[t,l]),g=(0,i.useCallback)(((e,t)=>({title:e,isOpen:d[t],onSubmit:h(t),isUpdating:a,errorMessage:s,onTogglePress:p(t)})),[d,h,p,a,s]);return n.map((e=>{const{name:n,machineIdentifier:a}=e,r=t.serverShares.find((e=>e.machineIdentifier===a));return i.createElement(gP.A,((e,t)=>ZI(e,eT(t)))(((e,t)=>{for(var n in t||(t={}))nT.call(t,n)&&rT(e,n,t[n]);if(tT)for(var n of tT(t))aT.call(t,n)&&rT(e,n,t[n]);return e})({},g(n,a)),{key:a,closedNode:iT(r)}),i.createElement(YI,{key:a,serverOverview:e,serverShare:r}))}))})),cT=function(e){const{friend:t,serverOverviews:n,isRestricted:a,isLoading:r,showList:s,errorMessage:l}=e;(0,iP.A)();const o=(0,i.useMemo)((()=>t.serverShares.filter((e=>!e.owned&&!e.pending))),[t]);return l?i.createElement(Jv.A,{description:l,title:(0,B.A)("There was an unexpected error")}):i.createElement(i.Fragment,null,r?i.createElement(BP,null):null,s?i.createElement(i.Fragment,null,a?null:i.createElement(BD,null,(0,B.A)("{username} has access to:",{username:t.title})),a?null:i.createElement(oT,{friend:t,serverOverviews:n}),o.length>0?i.createElement(BD,null,(0,B.A)("You have access to:")):null,o.length>0?i.createElement(WI,{friend:t,serverShares:o}):null):null)};var dT=Object.defineProperty,uT=Object.defineProperties,mT=Object.getOwnPropertyDescriptors,pT=Object.getOwnPropertySymbols,hT=Object.prototype.hasOwnProperty,gT=Object.prototype.propertyIsEnumerable,vT=(e,t,n)=>t in e?dT(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const fT=(0,it.Mz)((e=>e.ui.userSharingSettingsPage),Mp,(0,yh.A)("restricted"),((e,t,n)=>{const{serverOverviews:a,isServerOverviewsPopulating:r,isServerOverviewsPopulated:i,isServerSharesPopulating:s,isServerSharesPopulated:l,serverSharesError:o}=e;return{sharingEligibleServerEntityIDs:t,serverOverviews:a,isRestricted:n,isLoading:(r||s)&&!o,showList:i&&l,errorMessage:o}})),bT={dispatchFetchServerOverviews:uP.i0,dispatchFetchServerShares:uP.E$},yT=(0,C.Ng)(fT,bT)((function(e){const t=e,{friend:n,sharingEligibleServerEntityIDs:a,dispatchFetchServerOverviews:r,dispatchFetchServerShares:s}=t,l=((e,t)=>{var n={};for(var a in e)hT.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&pT)for(var a of pT(e))t.indexOf(a)<0&&gT.call(e,a)&&(n[a]=e[a]);return n})(t,["friend","sharingEligibleServerEntityIDs","dispatchFetchServerOverviews","dispatchFetchServerShares"]),o=n.entityID;return(0,i.useEffect)((()=>{r({serverEntityIDs:a})}),[a,r]),(0,i.useEffect)((()=>{s({friendEntityID:o})}),[o,s]),i.createElement(cT,((e,t)=>uT(e,mT(t)))(((e,t)=>{for(var n in t||(t={}))hT.call(t,n)&&vT(e,n,t[n]);if(pT)for(var n of pT(t))gT.call(t,n)&&vT(e,n,t[n]);return e})({},l),{friend:n}))}));var AT=Object.defineProperty,ET=Object.defineProperties,ST=Object.getOwnPropertyDescriptors,wT=Object.getOwnPropertySymbols,CT=Object.prototype.hasOwnProperty,PT=Object.prototype.propertyIsEnumerable,DT=(e,t,n)=>t in e?AT(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;function xT(e){return e.reduce(((e,t)=>[...e,...t.sharedItems.map((e=>((e,t)=>ET(e,ST(t)))(((e,t)=>{for(var n in t||(t={}))CT.call(t,n)&&DT(e,n,t[n]);if(wT)for(var n of wT(t))PT.call(t,n)&&DT(e,n,t[n]);return e})({},e),{origin:t.origin,serverName:t.name})))]),[])}const kT=function(e){const{userTitle:t,isRestrictedUser:n,isRestrictedFriend:a,ownedSharedSources:r,receivedSharedSources:s,isPopulated:l,isLoading:o,errorMessage:c}=e;(0,iP.A)();const[d,u]=(0,i.useState)(0),[m,p]=(0,i.useState)({isContentMeasured:!1}),h=(0,i.useMemo)((()=>xT(r)),[r]),g=(0,i.useMemo)((()=>xT(s)),[s]),v=(0,i.useCallback)((({width:e,height:t})=>{p({isContentMeasured:!0,contentWidth:e,contentHeight:t})}),[]),f=(0,i.useCallback)((({height:e})=>{u(e)}),[]);if(c)return i.createElement(Jv.A,{description:c,title:(0,B.A)("There was an unexpected error")});const b=!o&&m.isContentMeasured,y=l&&!n,A=l&&!a;return i.createElement(i.Fragment,null,o?i.createElement(BP,null):null,i.createElement(YS.A,{onMeasure:v},b?i.createElement(i.Fragment,null,y?i.createElement(BD,null,(0,B.A)("{userTitle} has access to:",{userTitle:t})):null,y&&0===h.length?i.createElement("div",{className:Ux},(0,B.A)("You haven't granted access to anything yet.")):null,y&&h.length>0?i.createElement(YS.A,{ignorePosition:!1,ignoreWidth:!1,onMeasure:f},i.createElement(Fx,{isOwnedItem:!0,items:h,scrollTop:0,size:h.length,viewportHeight:m.contentHeight,viewportWidth:m.contentWidth})):null,A?i.createElement(BD,null,(0,B.A)("You have access to:")):null,A&&0===g.length?i.createElement("div",{className:Ux},(0,B.A)("This user hasn't granted you access to anything yet.")):null,A&&g.length>0?i.createElement(Fx,{isOwnedItem:!1,items:g,scrollTop:d,size:g.length,viewportHeight:m.contentHeight,viewportWidth:m.contentWidth}):null):null))};var OT=Object.defineProperty,IT=Object.defineProperties,TT=Object.getOwnPropertyDescriptors,MT=Object.getOwnPropertySymbols,NT=Object.prototype.hasOwnProperty,LT=Object.prototype.propertyIsEnumerable,RT=(e,t,n)=>t in e?OT(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const FT={dispatchFetchSharedSources:uP.WE},UT=(0,C.Ng)((function(){return(0,it.Mz)((e=>e.ui.userSharingSettingsPage),((e,{friend:t})=>t),(0,yh.A)("restricted"),((e,t,n)=>{const{ownedSharedSources:a,receivedSharedSources:r,isSharedSourcesPopulating:i,isSharedSourcesPopulated:s,sharedSourcesError:l}=e;return{userID:t.id,userTitle:t.title,ownedSharedSources:a,receivedSharedSources:r,isRestrictedUser:n,isRestrictedFriend:t.restricted,isPopulating:i,isPopulated:s,isLoading:i&&!l,errorMessage:l}}))}),FT)((function(e){const t=e,{userID:n,isPopulating:a,isPopulated:r,dispatchFetchSharedSources:s}=t,l=((e,t)=>{var n={};for(var a in e)NT.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&MT)for(var a of MT(e))t.indexOf(a)<0&&LT.call(e,a)&&(n[a]=e[a]);return n})(t,["userID","isPopulating","isPopulated","dispatchFetchSharedSources"]);return(0,i.useEffect)((()=>{s({userID:n})}),[n,s]),i.createElement(kT,((e,t)=>IT(e,TT(t)))(((e,t)=>{for(var n in t||(t={}))NT.call(t,n)&&RT(e,n,t[n]);if(MT)for(var n of MT(t))LT.call(t,n)&&RT(e,n,t[n]);return e})({},l),{isPopulated:r}))})),VT="UserSharingSettingsPage-confirmMessage-jomV_P",jT="sharedLibraries",BT="sharedMedia",HT="profile",zT="restrictions",_T={[jT]:yT,[BT]:UT,[HT]:kP,[zT]:MI},WT=function(e){const{serverEntityID:t,friend:n,isGuest:a,isUpdatingFriend:r,isPending:s,isPopulated:o,showAddToHome:c,showProfile:d,showRestrictions:u,hasError:m,dispatchAddToHome:p}=e,h=(0,Ul.A)(r),[g,v]=(0,i.useState)(jT),[f,b]=(0,i.useState)(!1),y=(0,i.useCallback)((e=>{v(e)}),[]),A=(0,i.useCallback)((()=>b(!0)),[]),E=(0,i.useCallback)((()=>p({friendEntityID:n.entityID})),[n,p]),S=(0,i.useCallback)((()=>b(!1)),[]);(0,i.useEffect)((()=>{h&&!r&&b(!1)}),[h,r,b]);const w=(0,i.useMemo)((()=>function(e,t,n){const a=[{id:jT,title:(0,B.A)("Libraries"),isSelected:e===jT},{id:BT,title:(0,B.A)("Media"),isSelected:e===BT}];return t&&a.push({id:HT,title:(0,B.A)("Profile"),isSelected:e===HT}),n&&a.push({id:zT,title:(0,B.A)("Restrictions"),isSelected:e===zT}),a}(g,d,u)),[g,d,u]),C=_T[g];return i.createElement(rf.A,{metricsPage:l.u4,metricsProperties:{pane:"users-sharing"},scrollDirection:Ap.x3},!m&&s?i.createElement(BP,null):null,!m&&o?i.createElement($x.A,{className:"UserSharingSettingsPage-pageHeader-aOYaIf PageHeader-pageHeader-e2k66t"},i.createElement(rI.A,{className:"UserSharingSettingsPage-pageHeaderLeft-KEgRML PageHeaderLeft-pageHeaderLeft-qWkHw0"},i.createElement(Ma.A,{className:"UserSharingSettingsPage-avatar-AVrMHX AvatarImg-avatar-dvpNLl",height:60,serverEntityID:t,url:n.thumb,width:60}),i.createElement("div",{className:"UserSharingSettingsPage-username-CF_hdD"},n.title)),i.createElement(sI.A,{hideSingleTabs:!1,tabs:w,onPress:y}),i.createElement(iI.A,{className:"UserSharingSettingsPage-pageHeaderRight-eah9Ra PageHeaderRight-pageHeaderRight-hBWIio"},c?i.createElement(hk.A,{className:"UserSharingSettingsPage-addToHomeIcon-UAv4TB IconButton-button-s4bVCh",iconComponent:oI,title:(0,B.A)("Add to Plex Home"),onPress:A}):null)):null,!m&&o?i.createElement(C,{friend:n,isGuest:a}):null,m?i.createElement(Jx.A,{description:(0,B.A)("Please try again"),title:(0,B.A)("An error occurred loading this user")},i.createElement(Xt.A,{kind:hu.jd,to:"#!/settings/users-sharing"},(0,B.A)("Go Back"))):null,i.createElement(ru.A,{confirmLabel:(0,B.A)("Confirm"),isConfirmButtonSpinning:r,isOpen:f,kind:hu.Ol,message:i.createElement("div",{className:"UserSharingSettingsPage-confirmMessageContainer-mQd6Om"},i.createElement(wp.A,{className:"UserSharingSettingsPage-confirmWarning-CEFKjK"}),i.createElement("div",{className:VT},(0,B.A)("Inviting other users to your home is a security risk that could allow these users to access your account. You should only do this if you live in the same home and share devices.")),i.createElement("div",{className:VT},(0,B.A)("Users in your Home appear on the Switch User screen. The invited user will be asked to confirm Home membership."))),metricsPage:l.B4,title:(0,B.A)("Add to Plex Home"),onCancel:S,onConfirm:E}))};var GT=Object.defineProperty,KT=Object.getOwnPropertySymbols,qT=Object.prototype.hasOwnProperty,$T=Object.prototype.propertyIsEnumerable,JT=(e,t,n)=>t in e?GT(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const QT=(0,it.Mz)((e=>e.ui.userSharingSettingsPage),(e=>e.cloudServer),((e,{userID:t})=>t),ks.A,Jh.A,Lp.A,Yh.A,(0,yh.A)("hasPlexPass"),((e,t,n,a,r,i,s,l)=>{const o=Object.keys(i).find((e=>i[e].id===n)),c=Object.keys(s).find((e=>s[e].id===n)),d=a.isAllFriendsPopulated,u=i[o],m=s[c],p=!!r.sentInvites.find((e=>parseInt(e.id,10)===u.id&&e.home));return{serverEntityID:t,friend:u,isGuest:!!m&&m.guest,isUpdatingFriend:e.isUpdatingFriend,isPending:a.isAllFriendsPending&&!d,isPopulated:d,hasError:!!a.allFriendsError||d&&!o,showAddToHome:l&&!(u&&u.home)&&!p,showProfile:!!m&&m.restricted,showRestrictions:!a.restricted}})),YT={dispatchResetUserSharingSettingsPage:uP.t1,dispatchPopulateAllFriends:Zh.TY,dispatchPopulateHomeUsers:Zh.SE,dispatchAddToHome:uP.Sj},XT=(0,C.Ng)(QT,YT)((function(e){const t=e,{dispatchResetUserSharingSettingsPage:n,dispatchPopulateAllFriends:a,dispatchPopulateHomeUsers:r}=t,s=((e,t)=>{var n={};for(var a in e)qT.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&KT)for(var a of KT(e))t.indexOf(a)<0&&$T.call(e,a)&&(n[a]=e[a]);return n})(t,["dispatchResetUserSharingSettingsPage","dispatchPopulateAllFriends","dispatchPopulateHomeUsers"]);return(0,i.useEffect)((()=>{(0,j.Cc)(a)}),[a]),(0,i.useEffect)((()=>{(0,j.Cc)(r)}),[r]),(0,i.useEffect)((()=>n),[n]),i.createElement(WT,((e,t)=>{for(var n in t||(t={}))qT.call(t,n)&&JT(e,n,t[n]);if(KT)for(var n of KT(t))$T.call(t,n)&&JT(e,n,t[n]);return e})({},s))}));function ZT(){const{userID:e}=(0,s.g)();return i.createElement(XT,{userID:parseInt(e,10)})}var eM=n(21045),tM=n(53310);const nM=[{key:"general",title:()=>(0,B.A)("General")},{key:"quality",title:()=>(0,B.A)("Quality")},{key:"debug",title:()=>(0,B.A)("Debug"),isAdvanced:!0},{key:"player",title:()=>(0,B.A)("Player")},{key:"downloads",title:()=>(0,B.A)("Downloads")}];var aM=n(74078),rM=n(42019),iM=n(24970),sM=n(3789),lM=n(23370),oM=n(64802),cM=n(33577);const dM=[{title:"Development",value:F.p8.Development},{title:"Staging",value:F.p8.Staging},{title:"Production",value:F.p8.Production}];var uM=n(24867),mM=n(51770),pM=n(6204),hM=n(85953),gM=n(12942),vM=n(78325),fM=n(13201),bM=n(73068),yM=n(8782),AM=n(6055),EM=n(80923),SM=n(44853),wM=n(95924),CM=n(10323),PM=n(32433),DM=n(93637),xM=n(7370);function kM(){const e=Object.keys(DM.A.getLanguages()).map((e=>({value:e,title:(0,xM.A)(e)})));return e.sort(((e,t)=>e.title.localeCompare(t.title))),e}var OM=n(61511),IM=n(40642);const TM="auto",MM="2.0",NM="2.1",LM="3.1",RM="5.1",FM="7.1",UM="ac3",VM="dts",jM="dts-hd",BM="eac3",HM="truehd",zM={0:{channelLayouts:Object.values(a),passthroughCodecs:[],transcodeToAC3:!1},2:{channelLayouts:Object.values(a),passthroughCodecs:Object.values(r),transcodeToAC3:!1},1:{channelLayouts:[MM],passthroughCodecs:[UM,VM],transcodeToAC3:!0}};var _M=n(43821),WM=n(3229),GM=n(27700);const KM={musicSettings:[{value:GM.A.ORIGINAL,title:()=>(0,B.A)("Original")},{value:3,title:()=>(0,B.A)("High (320 Kbps)")},{value:2,title:()=>(0,B.A)("Medium (192 Kbps)")},{value:1,title:()=>(0,B.A)("Low (128 Kbps)")}],videoSettings:[{value:GM.A.ORIGINAL,title:()=>(0,B.A)("Original")},{value:12,title:()=>(0,B.A)("High (20 Mbps, 1080p)")},{value:8,title:()=>(0,B.A)("Medium (4 Mbps, 720p)")},{value:5,title:()=>(0,B.A)("Low (1.5 Mbps, 480p)")}]};var qM=n(98895),$M=n(25883),JM=n(68635),QM=n(87804),YM=n.n(QM),XM=Object.defineProperty,ZM=Object.defineProperties,eN=Object.getOwnPropertyDescriptors,tN=Object.getOwnPropertySymbols,nN=Object.prototype.hasOwnProperty,aN=Object.prototype.propertyIsEnumerable,rN=(e,t,n)=>t in e?XM(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,iN=(e,t)=>{for(var n in t||(t={}))nN.call(t,n)&&rN(e,n,t[n]);if(tN)for(var n of tN(t))aN.call(t,n)&&rN(e,n,t[n]);return e},sN=(e,t)=>ZM(e,eN(t));const lN=[{value:0,title:"None"},{value:1,title:"1"},{value:2,title:"2"},{value:3,title:"3"},{value:4,title:"4"},{value:5,title:"5"}];function oN(e){const t=[{title:(0,B.A)("Auto"),value:TM},{title:(0,B.A)("2.0 (Stereo)"),value:MM},{title:(0,B.A)("2.1"),value:NM},{title:(0,B.A)("3.1"),value:LM},{title:(0,B.A)("5.1"),value:RM},{title:(0,B.A)("7.1"),value:FM}],n=[{title:(0,B.A)("Passthrough {codec}",{codec:"Dolby Digital"}),value:UM},{title:(0,B.A)("Passthrough {codec}",{codec:"Dolby Digital Plus"}),value:BM},{title:(0,B.A)("Passthrough {codec}",{codec:"DTS"}),value:VM},{title:(0,B.A)("Passthrough {codec}",{codec:"DTS-HD"}),value:jM},{title:(0,B.A)("Passthrough {codec}",{codec:"Dolby TrueHD"}),value:HM}];return{kind:e,channelLayoutSettings:t.filter((t=>zM[e].channelLayouts.includes(t.value))),passthroughCodecSettings:n.filter((t=>zM[e].passthroughCodecs.includes(t.value))),transcodeToAC3Setting:{title:(0,B.A)("Transcode to AC3"),value:zM[e].transcodeToAC3}}}const cN=K.A.ItemView.extend({className:"web-settings-container",template:YM(),ui:{chromecastCustomGroup:"#chromecast-custom-group",customHomeStreamingSettings:".custom-home-streaming-settings",recommendedHomeStreamingSettings:".recommended-home-streaming-settings",toggleSyncBtn:".toggle-sync-btn",resetPreferredServicesBtn:".reset-preferred-services-btn",resetCustomizationBtn:".reset-customization-btn",resetPlexEnvironmentBtn:".reset-plex-environment-btn",resetDismissalsBtn:".reset-dismissals-btn",resetAutoPinnedProvidersBtn:".reset-auto-pinned-providers-btn",resetExperienceBtn:".reset-experience-btn",restoreBtn:".restore-btn",submitBtn:".submit-btn",message:".form-message",audioDeviceName:".audio-device-name",audioDevicesFieldSets:".audio-device-fields",audioDeviceKindSelects:".audio-device-kind",audioDeviceKindFieldSets:".audio-device-kind-fields"},events:{"click .toggle-advanced-btn":"onToggleAdvancedClick","click .settings-nav a":"onSettingsGroupClick","change .audio-device-name":"onAudioDeviceChange","change .audio-device-kind":"onAudioDeviceKindChange","change #chromecastAppID":"onChromecastAppIDChange","change #useHomeStreamingRecommendedSettings":"onUseHomeStreamingRecommendedSettingsChange","change input[id]":"onInputChange","input input[type=text]":"onInputChange","change select[id]":"onInputChange","click .toggle-sync-btn":"onToggleSync","click .reset-customization-btn":"onResetCustomization","click .reset-plex-environment-btn":"onResetPlexEnvironment","click .reset-preferred-services-btn":"onResetPreferredServices","click .reset-dismissals-btn":"onResetDismissals","click .reset-auto-pinned-providers-btn":"onResetAutoPinnedProviders","click .reset-experience-btn":"onResetExperience","click .restore-btn":"onRestore","click .reset-reminders-btn":"onResetReminders","submit #web-settings-form":"onSubmit"},onlyAfterRender:["saveChanges","displayHomeStreamingSettings"],initialize:function(e){this.changes={},this.initializePlexEnvironments();const t=(0,O.hd)("appModel"),n=t.get("user"),a=n.get("experienceSettings");this.model=t.get("deviceSettings"),this.settingsGroup=e.settingsGroup,this.listenTo(n,"change:signedIn",this.onSignedInChange),this.listenTo(t,"change:primaryServer",this.render),this.listenTo(me.A,"shortcut:save",this.saveChanges);const r=t.get("deviceSettings").get("audioDevices");r&&this.listenTo(r,"change",this.onAudioDevicesChange);const i=a.get("showAdvancedSettings");this.$el.toggleClass("show-advanced",i),this.displayHomeStreamingSettings(a.get("useHomeStreamingRecommendedSettings"))},serializeData:function(){const e=[{value:"h:mma",title:(0,B.A)("12 Hour")},{value:"HH:mm",title:(0,B.A)("24 Hour")}],t=(0,fM.pV)(),n=this.model.toJSON(),a=(0,O.hd)("appModel"),r=(0,Wy.Kd)(a),i=r.get("features").get(h.qc),s=r.get("experienceSettings").toJSON(),l=r.isNinja(),o=r.isEmployee(),c=r.get("restricted"),d=r.get("isSignedIn")&&GS.A.allowSyncSettings&&!s.isRemoteSchemaVersionNewer,u=r.get("isSignedIn")&&GS.A.allowSyncSettings&&s.isRemoteSchemaVersionNewer,m=(0,CM.A)(),p=aM.A.prop("video"),g=(0,wM.yK)();let v,f=r.isNinja()?"4.133.0-ffd0455":"4.133.0";const b=T().escape(QS.A.prop("X-Plex-Product"));return(0,wM.yK)()&&(r.isNinja()&&(v=f),f=QS.A.prop("X-Plex-Version")),sN(iN({},this.serializePlatformData()),{deviceSettings:n,experienceSettings:s,canPlayAdaptiveBitrate:m,hasSubtitleBurnLevel:!g,hasAdvancedDebugging:i,canDebugAds:r.isEmployee(),canDebugAdaptiveBitrate:m&&l,isAnonymous:r.get("anonymous"),isRestricted:c,isSyncSettingsAllowed:d,isSyncSettingsRestrictedBySchemaVersion:u,isHybridPlatform:g,isEmployee:o,isNinja:l,isQtDesktop:(0,wM.yK)(),version:f,clientVersion:v,languages:kM(),debugLevels:lM.A.settings,canResetPlexEnvironment:!!t&&!t.production,plexEnvironment:t,plexEnvironments:this.plexEnvironments||[],searchProviderEnvironments:dM,debugAdKinds:sM.A.settings,subtitlesBurnLevels:hM.A.settings,chromecastAppIDs:WM.A.settings,availableQualities:SM.A.getAvailableQualities({lowestQualityIndex:p.lowestQualityIndex}).reverse(),subtitleColors:uM.A.settings,subtitlePositions:mM.A.settings,subtitleSizes:pM.A.settings,musicDownloadQualityLevels:KM.musicSettings,videoDownloadQualityLevels:KM.videoSettings,httpFallbackOptions:vM.A.isHostedHttps?null:oM.A.settings,alertIcon:(0,PM.A)(Vl.A),extrasPrefixCounts:lN,timeFormats:e,generalSettingsRoute:"#!/settings/web/general",escapedProductName:b,normalizeDownmixedVolume:s.audioBoost===iM.op})},serializePlatformData(){if(!(0,wM.yK)())return{};const e=this.model.get("player.audioDevice");return{audioDevices:this.model.get("audioDevices").filter((e=>e.get("present"))).map((t=>{const n=sN(iN({},t.toJSON()),{cid:t.cid,isSelected:t.get("name")===e,title:(0,qM.A)(t)});return t.get("name")!==_M.Q&&(n.kinds=[{title:(0,B.A)("Basic"),value:0},{title:(0,B.A)("Optical S/PDIF"),value:1},{title:(0,B.A)("HDMI"),value:2}],n.capabilities=[oN(0),oN(1),oN(2)]),n})),keepOnTopSettings:[{title:(0,B.A)("Never"),value:0},{title:(0,B.A)("During playback"),value:1},{title:(0,B.A)("Always"),value:2}],refreshRateSwitchingDelaySettings:[{title:(0,B.A)("None"),value:0},{title:(0,B.A)("1 Second"),value:1e3},{title:(0,B.A)("3 Seconds"),value:3e3},{title:(0,B.A)("5 Seconds"),value:5e3}],videoProfileListSettings:this.model.get("player.videoProfileList").map((e=>{const{id:t,description:n}=e;switch(t){case"plex-low-quality-angle":return{value:t,title:(0,B.A)("Low Quality (ANGLE Renderer)")};case"plex-low-quality":return{value:t,title:(0,B.A)("Low Quality")};case"plex-normal-quality-angle":return{value:t,title:(0,B.A)("Normal Quality (ANGLE Renderer)")};case"plex-normal-quality":return{value:t,title:(0,B.A)("Normal Quality")};case"plex-high-quality":return{value:t,title:(0,B.A)("High Quality")};case"plex-max-quality":return{value:t,title:(0,B.A)("Maximum Quality")};default:return{value:t,title:n}}}))}},saveChanges:function(){const e=this.ui.toggleSyncBtn,t=this.ui.resetCustomizationBtn,n=this.ui.restoreBtn,a=this.ui.submitBtn,r=this.ui.message;if(a.isDisabled())return;r.text(""),r.removeClass("has-error"),e.addClass("disabled"),t.addClass("disabled"),n.addClass("disabled"),a.addClass("active");const i=!!this.changes.language,s=!1===this.changes.shouldSaveLastSourcePivots,l=!(!this.changes.chromecastAppID&&!this.changes.chromecastCustomAppID),o=this.tryInterceptAudioDeviceChanges(this.changes).then((e=>this.interceptNormalizedDownmixedVolumeChange(e))).then((e=>this.interceptPlexEnvironmentChange(e))).then((e=>this.saveSettings(e)));o.done(T().bind((function(){const e=(0,O.hd)("appStore");this.changes={},s&&e.dispatch((0,rM.wk)()),l&&e.dispatch(IM.P5(cM.SQ)),i?e.dispatch($M.A.actions.languageChanged()):(a.addClass("disabled"),r.text((0,B.A)("Your changes have been saved.")))}),this)),o.fail(T().bind((function(){const e=(0,O.hd)("appModel").get("user"),t=(0,OM.A)(e)?(0,B.A)("Unable to sync these changes with other devices at this time. Plex will automatically retry later."):(0,B.A)("Your changes could not be saved.");r.addClass("has-error"),r.text(t)}),this)),o.always(T().bind((function(){i||(e.removeClass("disabled"),t.removeClass("disabled"),n.removeClass("disabled"),a.removeClass("active"))}),this))},toggleSync:function(){const e=this.ui.toggleSyncBtn,t=this.ui.resetCustomizationBtn,n=this.ui.resetPreferredServicesBtn,a=this.ui.resetDismissalsBtn,r=this.ui.resetExperienceBtn,i=this.ui.submitBtn,s=this.ui.message;if(e.isDisabled())return;s.text("");const l=this.getToggleSyncConfirmModal();l.promise.then((()=>(e.addClass("active"),t.addClass("disabled"),n.addClass("disabled"),a.addClass("disabled"),r.addClass("disabled"),i.addClass("disabled"),this.toggleShouldSyncSettings().then((()=>{this.changes={},this.render(),l.hide()}),(()=>{s.text((0,B.A)("An error occurred, could not load settings from your Plex profile.")),e.removeClass("active"),t.removeClass("disabled"),n.removeClass("disabled"),a.removeClass("disabled"),r.removeClass("disabled"),i.removeClass("disabled"),l.hide()}))))),me.A.trigger("show:modal",l)},resetCustomization:function(){const e=this.ui.resetCustomizationBtn,t=this.ui.resetPreferredServicesBtn,n=this.ui.resetDismissalsBtn,a=this.ui.resetExperienceBtn,r=this.ui.toggleSyncBtn,i=this.ui.submitBtn,s=this.ui.message;if(e.isDisabled())return;s.text("");const l=this.getResetCustomizationConfirmModal();l.promise.then((()=>{e.addClass("active"),r.addClass("disabled"),t.addClass("disabled"),n.addClass("disabled"),a.addClass("disabled"),i.addClass("disabled"),(0,O.hd)("appStore").dispatch((0,Zh.u6)()),l.hide()})),me.A.trigger("show:modal",l)},resetPreferredServices:function(){const e=(0,O.hd)("appStore").dispatch,t=(0,O.hd)("appModel").get("user").get("experienceSettings").get("dismissedUpsellModals");t.includes(gM.STREAMING_SERVICES)&&(t.splice(t.indexOf(gM.STREAMING_SERVICES),1),e((0,na.hg)({dismissedUpsellModals:t}))),e(JM.Ay.actions.resetPreferredServices())},resetDismissals:function(){(0,O.hd)("appStore").dispatch((0,na.hg)({dismissedUpsellModals:[],dismissedWhatsNewFeatures:{}}))},resetAutoPinnedProviders:function(){(0,O.hd)("appStore").dispatch((0,na.hg)({autoPinnedProviders:[]}))},resetExperience:function(){(0,O.hd)("appStore").dispatch((0,na.hg)({dismissedWhatsNewFeatures:{},dismissedUpsellModals:[]})),(0,O.hd)("appStore").dispatch((0,Zh.u6)())},restoreDefaults:function(){const e=this.ui.restoreBtn,t=this.ui.submitBtn,n=this.ui.message;if(e.isDisabled())return;n.text("");const a=this.getRestoreDefaultsConfirmModal();a.promise.then((()=>(e.addClass("active"),t.addClass("disabled"),this.restoreDefaultSettings().then((()=>{this.changes={},this.render(),a.hide()}),(()=>{n.text((0,B.A)("An error occurred, defaults have not been restored.")),e.removeClass("active"),t.removeClass("disabled"),a.hide()}))))),me.A.trigger("show:modal",a)},getToggleSyncConfirmModal:function(){const e=(0,O.hd)("appModel").get("deviceSettings").get("shouldSyncSettings"),t=e?(0,B.A)("Turn off settings sync"):(0,B.A)("Turn on settings sync"),n=QS.A.prop("X-Plex-Product"),a=e?(0,B.A)("Changes to {productName} settings and customization will no longer synchronize with other {productName} instances.",{productName:n}):(0,B.A)("{productName} settings and customization will now be used on other {productName} instances.",{productName:n});return new Me.A({title:t,message:a,confirmLabel:t,cancelLabel:(0,B.A)("Cancel"),async:!0})},getResetCustomizationConfirmModal:function(){const e=(0,B.A)("Reset customization");return new Me.A({title:e,message:(0,B.A)("You are about to reset your sidebar navigation and home screen layout to the default state."),confirmLabel:(0,B.A)("Reset"),cancelLabel:(0,B.A)("Cancel"),async:!0,hasDanger:!0})},getRestoreDefaultsConfirmModal:function(){const e=(0,O.hd)("appModel").get("user"),t=(0,OM.A)(e),n=(0,B.A)("Restore defaults"),a=QS.A.prop("X-Plex-Product"),r=t?(0,B.A)("All {productName} settings and customization will be reset and restored to their default state. This will affect other {productName} instances.",{productName:a}):(0,B.A)("All {productName} settings and customization will be reset and restored to their default state. Other {productName} instances will not be affected.",{productName:a});return new Me.A({title:n,message:r,confirmLabel:n,cancelLabel:(0,B.A)("Cancel"),async:!0,hasDanger:!0})},waitForAttribute:function(e,t,n){const a=k().Deferred(),r=`change:${t}`;return e.on(r,(function t(i,s){s===n&&(e.off(r,t),a.resolve())})),a.promise()},tryInterceptAudioDeviceChanges:function(e){return(0,wM.yK)()?this.interceptAudioDeviceChanges(e):k().Deferred().resolve(e).promise()},interceptAudioDeviceChanges:function(e){const t=(0,O.hd)("appModel").get("deviceSettings"),n=t.get("audioDevices"),a=e["player.audioDevice"],r=new Set;for(const t in e)/^ignore/.test(t)&&(r.add(document.getElementById(t).dataset.cid),delete e[t]);if(r.forEach((e=>{const t=n.get(e),a=this.getAudioDeviceSettingsFromForm(e);t&&a&&((0,AM.A)(`[Settings] Updating ${t.get("description")} (${t.get("name")}): ${JSON.stringify(a)}`),t.set(a))})),r.size||a){const r=n.get(a||t.get("player.audioDevice"));if(r)if(r.get("present")){const t={"player.audioDevice":r.get("name"),"player.audioChannelLayout":r.get("channelLayout"),"player.audioPassthroughCodecs":r.get("passthroughCodecs"),"player.transcodeToAC3Enabled":r.get("transcodeToAC3")};Object.assign(e,t),(0,AM.A)(`[Settings] Audio device changes ${r.get("description")} (${r.get("name")}): ${JSON.stringify(t)}`)}else AM.A.error(`[Settings] Expected device ${r.get("description")} (${r.get("name")}) is absent. Changes saved but refusing to select absent device.`);else AM.A.error("[Settings] Expected audio device missing.")}return k().Deferred().resolve(e).promise()},getAudioDeviceFields:function(e){return this.ui.audioDevicesFieldSets.toArray().find((t=>t.dataset.cid===e))},getAudioDeviceKindSelect:function(e){return this.ui.audioDeviceKindSelects.toArray().find((t=>t.dataset.cid===e))},getAudioDeviceKindFields:function(e,t){return this.ui.audioDeviceKindFieldSets.toArray().find((n=>n.dataset.cid===e&&n.dataset.kind===t))},getAudioDeviceSettingsFromForm:function(e){const t=this.getAudioDeviceKindSelect(e);if(!t)return null;const n=this.getAudioDeviceKindFields(e,t.value),a={channelLayout:n.querySelector("[name=channelLayout]").value,kind:parseInt(t.value,10),passthroughCodecs:[],transcodeToAC3:n.querySelector("[name=transcodeToAC3]").checked};for(const e of n.querySelectorAll("[name=passthroughCodecs]"))e.checked&&a.passthroughCodecs.push(e.value);return a},interceptNormalizedDownmixedVolumeChange:function(e){const{normalizeDownmixedVolume:t}=e;return null!=t&&(delete e.normalizeDownmixedVolume,e.audioBoost=t?iM.op:iM.bY),k().Deferred().resolve(e).promise()},saveSettings:function(e){const t=[],n=(0,O.hd)("appModel"),a=[{model:n.get("deviceSettings"),actionCreator:rM.jY},{model:n.get("user").get("experienceSettings"),actionCreator:na.hg}].reduce(((e,{model:n,actionCreator:a})=>{const r={},i={};for(const t in e){let a,s=e[t];if(n.hasAttr(t)){const e=Object.getPrototypeOf(n),i=e.syncedAttrs[t]||e.sessionAttrs[t];"string"==typeof s&&i===Cv.A.integer&&(s=(0,EM.A)(s)),a=r}else a=i;a[t]=s}return Object.keys(r).length&&t.push(this.saveSettingUsingActionCreator(r,n,a)),i}),e);return Object.keys(a).length&&t.push(this.model.save(a)),t.length?k().when(...t):k().Deferred().resolve().promise()},toggleShouldSyncSettings:function(){const e=(0,O.hd)("appModel").get("deviceSettings"),t=(0,O.hd)("appModel").get("user").get("experienceSettings"),n=e.get("shouldSyncSettings");return this.saveSettingUsingActionCreator({shouldSyncSettings:!n},e,rM.jY).then((()=>this.saveSettingUsingActionCreator({},t,na.hg)))},restoreDefaultSettings:function(){const e=[],t=(0,O.hd)("appModel");return[{model:t.get("deviceSettings"),actionCreator:Vw.PB},{model:t.get("user").get("experienceSettings"),actionCreator:Zh.Vb}].forEach((({model:t,actionCreator:n})=>{e.push(this.saveSettingUsingActionCreator({},t,n))})),k().when(...e)},saveSettingUsingActionCreator:function(e,t,n){if(!t.has("isSaving"))return(0,O.hd)("appStore").dispatch(n(e)),k().Deferred().resolve().promise();const a=t.get("isSaving");let r=this.waitForAttribute(t,"isSaving",!1);return r=r.then((()=>a?this.saveSettingUsingActionCreator(e,t,n):t.get("saveError")?k().Deferred().reject().promise():k().Deferred().resolve().promise())),a||window.setTimeout((()=>{(0,O.hd)("appStore").dispatch(n(e))}),0),r},displayHomeStreamingSettings:function(e){this.ui.customHomeStreamingSettings.toggleClass("hidden",e),this.ui.recommendedHomeStreamingSettings.toggleClass("hidden",!e)},onRender:function(){this.$("#"+this.settingsGroup+"-web-group").addClass("active"),this.$("#"+this.settingsGroup+"-web-group-footer").addClass("active")},onSignedInChange:function(e,t){null!=t&&this.render()},onToggleAdvancedClick:function(e){e.preventDefault();const t=this.$el.hasClass("show-advanced");this.$el.toggleClass("show-advanced",!t),t&&"debug"===this.settingsGroup&&(window.location.hash="#!/settings/web/general"),(0,O.hd)("appStore").dispatch((0,na.hg)({showAdvancedSettings:!t}))},onSettingsGroupClick:function(e){e.preventDefault();const t=k()(e.currentTarget),n=t.attr("href");this.$(".settings-group").removeClass("active"),this.$(n).addClass("active"),this.$(".nav a").removeClass("selected"),t.addClass("selected")},onChromecastAppIDChange:function(e){const t=e.currentTarget.value===WM.A.CUSTOM;this.ui.chromecastCustomGroup.toggleClass("hidden",!t)},onUseHomeStreamingRecommendedSettingsChange:function(e){this.displayHomeStreamingSettings(!!e.currentTarget.checked)},onInputChange:function(e){const t=k()(e.currentTarget),n=e.currentTarget;let a=n.value;"checkbox"===n.type&&(a=t.prop("checked")),"int"===t.data("type")&&(a=parseInt(a,10)),this.changes[n.id]=a,this.ui.submitBtn.removeClass("disabled"),this.ui.message.text(""),this.ui.message.removeClass("has-error")},onAudioDevicesChange:function(e){const t=this.ui.audioDeviceName[0],n=t.querySelector(`option[value=${e.cid}]`);n&&(n.disabled=!e.get("present"),n.disabled&&n.selected&&(t.selectedIndex=0,this.onAudioDeviceChange({target:t})))},onAudioDeviceChange:function(e){this.ui.audioDevicesFieldSets.each(((t,n)=>{n.classList.toggle("hidden",e.target.value!==n.dataset.cid)}))},onAudioDeviceKindChange:function(e){const{cid:t}=e.target.dataset,n=e.target.value;this.ui.audioDeviceKindFieldSets.each(((e,a)=>{a.classList.toggle("hidden",a.dataset.cid!==t||a.dataset.kind!==n)}))},onToggleSync:function(e){e.preventDefault(),this.toggleSync()},onResetCustomization:function(e){e.preventDefault(),this.resetCustomization()},onResetPlexEnvironment:function(e){e.preventDefault(),this.resetPlexEnvironment()},onResetPreferredServices:function(e){e.preventDefault(),this.resetPreferredServices()},onResetDismissals:function(e){e.preventDefault(),this.resetDismissals()},onResetAutoPinnedProviders:function(e){e.preventDefault(),this.resetAutoPinnedProviders()},onResetExperience:function(e){e.preventDefault(),this.resetExperience()},onRestore:function(e){e.preventDefault(),this.restoreDefaults()},onResetReminders:function(e){e.preventDefault(),(0,O.hd)("appStore").dispatch((0,Zh.V1)())},onSubmit:function(e){e.preventDefault(),this.saveChanges()},resetPlexEnvironment:function(){(0,fM.DW)(void 0),(0,yM.A)()},interceptPlexEnvironmentChange:function(e){if("plexEnvironment"in e){const t=this.plexEnvironments.find((t=>t.id===e.plexEnvironment));(0,fM.DW)(t),window.setTimeout(yM.A,1e3)}return delete e.plexEnvironment,k().Deferred().resolve(e).promise()},initializePlexEnvironments:function(){(0,O.hd)("appModel").get("user").get("features").get(h.qc)&&(0,bM.G)().then((e=>{this.plexEnvironments=e,this.render()}))}}),dN=cN,uN={onPopulateHomeUsers:Zh.SE},mN=(0,C.Ng)((function(){return(0,it.Mz)(((e,{settingsSubset:t})=>t),Fw.A,ks.A,Jh.A,((e,t,n,a)=>{const r=function(e){return nM.find((t=>t.key===e))}(e),i=r&&(n.experienceSettings.showAdvancedSettings||!r.isAdvanced),s=t.isPending&&t.connectionTestResult===tM.xg.PENDING,l=!t.isResolved&&!t.isRejected||t.isResolved&&(!a.isHomeUsersPopulated&&!a.homeUsersError||!!a.homeUsersError&&a.isHomeUsersPending);return{showSpinner:!i||s||l,settingsSubset:e,title:r&&r.title,isSettingsSubsetAllowed:i,isSignedIn:n.isSignedIn}}))}),uN)((function(e){const{settingsSubset:t,title:n,showSpinner:a,isSettingsSubsetAllowed:r,isSignedIn:o,onPopulateHomeUsers:c}=e,d=(0,s.W6)();return(0,i.useEffect)((()=>{r||(0,xy.A)("webSettings",{settingsSubset:"general"})}),[d,r]),(0,i.useEffect)((()=>{o&&(0,j.Cc)(c)}),[o,c]),a?i.createElement($v.A,null,i.createElement(jp.A,null)):i.createElement(i.Fragment,null,i.createElement(zC,{selectedKey:"web-client--settings--"+t}),i.createElement(b.A,{metricsPage:l.yy,metricsPane:"web:"+t},i.createElement(y.A,null,QS.A.prop("X-Plex-Product"),i.createElement(Et.A,null),n()),i.createElement(qv.A,{key:(0,P.A)("WebSettingsView","web",t),view:dN,viewOptions:{subset:"web",settingsGroup:t}})))}));function pN(){const{settingsSubset:e}=(0,s.g)(),t=(0,C.d4)(eM.A),[n,a]=(0,i.useState)(t),r=(0,i.useCallback)((e=>{a(e)}),[]);(0,i.useEffect)((()=>(me.A.on("languageLoaded",r),()=>{me.A.off("languageLoaded",r)})),[r]);const l=(0,P.A)("WebClientSettingsViewPage",n);return i.createElement(mN,{key:l,settingsSubset:e})}var hN=n(92795),gN=n(75334),vN=n(41084),fN=n(33929),bN=n(84155),yN=n(75393),AN=n(29687),EN=n(26235),SN=n(9079),wN=n(44994),CN=n(4370);const PN={page:"StreamingServicesSettingsPage-page-ZgA21s SettingsPage-content-qemqww PageContent-pageContent-rk0p0C",header:"StreamingServicesSettingsPage-header-h9YlvM",buttonContainer:"StreamingServicesSettingsPage-buttonContainer-OoDtqN",option:"StreamingServicesSettingsPage-option-bp2WIj StreamingServicesOptions-option-SE2Zwj Link-link-vSsQW1",zeroStateContainer:"StreamingServicesSettingsPage-zeroStateContainer-smVeFH",zeroStateText:"StreamingServicesSettingsPage-zeroStateText-TwJ5Rb"};function DN(){const e=(0,C.wA)(),t=(0,C.d4)(wh.A),n=(0,C.d4)(gN.A),a=(0,C.d4)((0,Ah.A)(h.ys)),r=(0,fN.A)(),{services:s,isPending:o,isPopulated:d,error:m,isSaving:g}=(0,C.d4)((0,EN.A)(n)),{platforms:v,isPending:f,isPopulated:b,error:y}=(0,C.d4)((0,AN.A)(n)),A=(0,i.useMemo)((()=>{if(b&&d&&!y&&!m)return(0,SN.A)(v,s)}),[v,y,b,d,s,m]),E=(0,Zl.A)(g),[S,w]=(0,i.useState)(A),[P,D]=(0,i.useState)(!1);(0,i.useEffect)((()=>{E&&!g&&D(!1)}),[g,E]),(0,i.useEffect)((()=>{!S&&d&&A&&w(A)}),[S,d,A]),(0,i.useEffect)((()=>{a&&!n&&e((0,hN.Yg)())}),[e,a,n]),(0,i.useEffect)((()=>{!a||!n||f||b||y||e(JM.Ay.actions.availabilityPlatformsFetchRequested({server:t,provider:n}))}),[y,e,a,f,b,n,t]),(0,i.useEffect)((()=>{!a||!n||o||d||m||e(JM.Ay.actions.preferredServicesFetchRequested({server:t,provider:n}))}),[e,a,o,d,m,n,t]);const x=(0,i.useCallback)((e=>{D(!0),w((0,wN.A)(S,e))}),[S]),k=(0,i.useCallback)((()=>{if(!S||!n)return;const a=S.reduce(((e,t)=>(t.selected&&e.push(t.platform),e)),[]);e(JM.Ay.actions.preferredServicesSaveRequested({server:t,provider:n,preferredServices:a}))}),[e,S,n,t]);return a?y||m?i.createElement($v.A,null,i.createElement(vN.A,null)):n&&b&&d?i.createElement(_e.Ay,{machineIdentifier:t.machineIdentifier,providerIdentifier:n.identifier},i.createElement(c.Ay,{metricsPage:l.u4},i.createElement(sP.A,{className:PN.page,scrollDirection:Wi.D.None},i.createElement("div",{className:PN.header},i.createElement(u.BJ,{gap:"m"},i.createElement(p.E,{font:"heading-1"},(0,B.A)("Streaming Services")),i.createElement(u.BJ,{align:"space-between",gap:"l",orientation:"horizontal",verticalAlign:"center"},i.createElement(p.E,null,(0,B.A)('Select the other streaming services you use. Content from Plex and your selected services will be prioritized when displaying "More Ways to Watch" results and recommendations in Discover. You may also see recommendations from other services.')),(null==S?void 0:S.length)&&r?i.createElement("div",{className:PN.buttonContainer},i.createElement(Hl.A,{isDisabled:!P,isSpinning:g,kind:Cr.A.Primary,onPress:k},(0,B.A)("Save Changes"))):null))),r?null:i.createElement("div",{className:PN.zeroStateContainer},i.createElement("div",{className:PN.zeroStateText},i.createElement(p.E,{color:"muted"},(0,B.A)("Please enable one or more Discover features on the Online Media Sources page to customize your Streaming Services.")))),r&&!(null==S?void 0:S.length)?i.createElement("div",{className:PN.zeroStateContainer},i.createElement("div",{className:PN.zeroStateText},i.createElement(yN.A,null))):null,r&&(null==S?void 0:S.length)?i.createElement(il.HO,null,i.createElement(bN.A,{optionClassName:PN.option,services:S,onOptionToggle:x})):null))):i.createElement($v.A,null,i.createElement(Pw.A,null)):i.createElement(CN.A,null)}var xN=n(19206),kN=n(69204),ON=n(85593),IN=n(64323),TN=n(69331),MN=n(47359),NN=n(42136);var LN=Object.defineProperty,RN=Object.getOwnPropertySymbols,FN=Object.prototype.hasOwnProperty,UN=Object.prototype.propertyIsEnumerable,VN=(e,t,n)=>t in e?LN(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const jN=(0,it.Mz)(ks.A,(e=>({hasPlexSubscription:!!e&&e.hasPlexSubscription}))),BN=(0,C.Ng)(jN)((function(e){const{hasPlexSubscription:t,origin:n,modalMetricsProperties:a,title:r}=e;return t?null:i.createElement(jP.A,{modalMetricsProperties:a,origin:n,title:r})}));BN.propTypes=((e,t)=>{for(var n in t||(t={}))FN.call(t,n)&&VN(e,n,t[n]);if(RN)for(var n of RN(t))UN.call(t,n)&&VN(e,n,t[n]);return e})({},BN.propTypes);const HN=BN,zN={container:"WatchlistRSSSettingsPage-container-Y9NqBf",section:"WatchlistRSSSettingsPage-section-ds3chJ",input:"WatchlistRSSSettingsPage-input-MJH7pt TextInput-input-vbygwE"};function _N({feed:e,hasFeature:t,isCreating:n,isDeleting:a}){const[r,s]=(0,_e.Ss)(),l=(0,C.wA)(),o=(0,Vs.E)(),{copyToClipboard:c,copyState:d}=(0,Kh.A)(e.url);(0,i.useEffect)((()=>{d===Kh.T.Done&&l((0,ON.S7)({type:IN.q,message:(0,B.A)("URL copied to clipboard.")}))}),[l,d]);const m=(0,i.useCallback)((()=>{e.feedType&&l(JM.Ay.actions.watchlistRSSCreateRequested({server:r,provider:s,feedType:e.feedType}))}),[l,e.feedType,s,r]),h=(0,i.useCallback)((()=>{e.uuid&&l(JM.Ay.actions.watchlistRSSDeleteRequested({server:r,provider:s,feedType:e.feedType,uuid:e.uuid})),o.onClose()}),[l,e.feedType,e.uuid,o,s,r]),g=e.feedType===NN.D$.FriendsWatchlist?(0,B.A)("Your Friends Watchlist"):(0,B.A)("Your Watchlist"),v=e.feedType===NN.D$.FriendsWatchlist?(0,B.A)("Generate a URL for all of your friends Watchlists. With this URL, youll be able to add your friends Watchlisted titles to all of your favorite services."):(0,B.A)("Generate your own unique URL for your Watchlist. With your URL, youll be able to add your Watchlist titles to all of your favorite services.");return i.createElement("div",{className:zN.section},i.createElement(u.BJ,{align:"center",gap:"m"},i.createElement(p.E,{font:"heading-2"},g),i.createElement(p.E,{align:"left",as:"div",color:"muted",font:"body-2"},v),(null==e?void 0:e.url)?i.createElement(u.BJ,{align:"left",gap:"xxs",width:"100%"},i.createElement(zl.A,{name:e.url},(0,B.A)("Generated URL")),i.createElement(u.BJ,{gap:"xs",orientation:"horizontal",width:"100%"},i.createElement(Yl.A,{className:zN.input,name:"url",readOnly:!0,value:e.url}),i.createElement(u.BJ,{gap:"xs",orientation:"horizontal"},i.createElement(Zn.$n,{color:"accent",label:(0,B.A)("Copy Link"),size:"s",onPress:c}),i.createElement(Bs.aF,{isOpen:o.isOpen,onOpenChange:o.onOpenChange},i.createElement(Bs.g6,null,i.createElement(Zn.K0,{accessibilityLabel:(0,B.A)("Delete"),color:"alert",icon:xN.default,size:"s",waiting:a,onPress:o.onOpen})),i.createElement(Bs.$m,{closeButtonAccessibilityLabel:(0,B.A)("Close modal"),size:"s",title:(0,B.A)("Delete Watchlist RSS feed URL")},i.createElement(Bs.cw,null,(0,B.A)("Are you sure you want to delete this URL? This action cannot be undone. You can generate a new URL later.")),i.createElement(Bs.jl,null,i.createElement(Bs.Xd,null,i.createElement(Zn.$n,{label:(0,B.A)("Cancel"),onPress:o.onClose}),i.createElement(Zn.$n,{autoFocus:!0,color:"alert",disabled:a,label:(0,B.A)("Delete"),onPress:h})))))))):i.createElement(i.Fragment,null,t?i.createElement(Zn.$n,{color:"accent",label:(0,B.A)("Generate URL"),waiting:n,onPress:m}):i.createElement(HN,{modalMetricsProperties:{context:"watchlist"},origin:Rm.Ou,title:(0,B.A)("Generate URL")}))))}function WN(){const e=(0,C.wA)(),t=(0,C.d4)(wh.A),n=(0,C.d4)(gN.A),a=(0,C.d4)(TN.A),r=(0,f.o)(h.hV),{RSSFeeds:{feeds:s,isPopulated:o,isCreating:c,isDeleting:d,error:g}}=(0,C.d4)((0,MN.A)(n)),v=(0,i.useMemo)((()=>{const e=[NN.D$.Watchlist,NN.D$.FriendsWatchlist];return[...s].sort(((t,n)=>e.indexOf(t.feedType)<e.indexOf(n.feedType)?-1:1))}),[s]);return(0,i.useEffect)((()=>{n||e((0,hN.Yg)())}),[e,n]),(0,i.useEffect)((()=>{!n||a||!r||o||g||e(JM.Ay.actions.watchlistRSSFetchRequested({server:t,provider:n}))}),[e,g,r,o,n,a,t]),a?i.createElement(Jv.A,{description:(0,B.A)("You don't have access to watchlist settings"),title:(0,B.A)("You're not supposed to be here")}):g?i.createElement(Jv.A,{description:(0,B.A)("An unexpected error occurred."),title:(0,B.A)("Something went wrong")}):r&&!o||!n?i.createElement($v.A,null,i.createElement(m.y,null)):i.createElement(_e.Ay,{machineIdentifier:t.machineIdentifier,providerIdentifier:null==n?void 0:n.identifier},i.createElement(b.A,{metricsPage:l.u4,metricsPane:"watchlist"},i.createElement("div",{className:zN.container},i.createElement(u.BJ,{align:"center",gap:"l"},i.createElement(Ws.O6,{posterStyle:"circle",width:100},i.createElement(u.BJ,{align:"center",height:"100%",verticalAlign:"center",width:"100%"},i.createElement(kN.default,{color:"accent",size:"xxl"}))),i.createElement(p.E,{font:"heading-1"},(0,B.A)("Watchlist RSS Feeds")),v.map((e=>i.createElement(_N,{key:e.feedType,feed:e,hasFeature:r,isCreating:c===e.feedType,isDeleting:d===e.feedType}))),i.createElement(p.E,{color:"muted",font:"body-2"},i.createElement(Lm.A,{message:(0,B.A)("To take advantage of this feature, make sure that you are a Plex Pass user. To learn more, go {openLink}here{closeLink}."),tags:[{open:"openLink",close:"closeLink",component:sl.N,color:"accent",href:(0,_h.g7)("/plex-pass"),target:"_blank"}]}))))))}var GN=n(68090),KN=n.n(GN),qN=n(44383),$N=n.n(qN),JN=n(79546),QN=n(25655),YN=Object.defineProperty,XN=Object.getOwnPropertySymbols,ZN=Object.prototype.hasOwnProperty,eL=Object.prototype.propertyIsEnumerable,tL=(e,t,n)=>t in e?YN(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const nL={0:{color:"#ff5533",translateFn:()=>(0,B.A)("Too weak")},1:{color:"#ee8833",translateFn:()=>(0,B.A)("Very weak")},2:{color:"#eebb00",translateFn:()=>(0,B.A)("Somewhat weak")},3:{color:"#bbbb33",translateFn:()=>(0,B.A)("Somewhat Strong")},4:{color:"#66bb55",translateFn:()=>(0,B.A)("Very Strong")}},aL=Jt((0,zp.A)((function(e){var t=e,{formGroupClassName:n,formLabelClassName:a,formInputClassName:r,name:s,value:l,labelText:o,showErrors:c,errors:d,zxcvbn:u}=t,m=((e,t)=>{var n={};for(var a in e)ZN.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&XN)for(var a of XN(e))t.indexOf(a)<0&&eL.call(e,a)&&(n[a]=e[a]);return n})(t,["formGroupClassName","formLabelClassName","formInputClassName","name","value","labelText","showErrors","errors","zxcvbn"]);const p=u&&""!==l&&!d.length?nL[u(l).score]:null,h=T().last(d);return i.createElement(Sd.A,{className:n},i.createElement(cr.A,{className:a,hasError:c,name:s},o,p&&!c?i.createElement("span",null," ",""," ",i.createElement("span",{style:{color:p.color}},p.translateFn())):null,c?`  ${h}`:null),i.createElement(Gh.A,((e,t)=>{for(var n in t||(t={}))ZN.call(t,n)&&tL(e,n,t[n]);if(XN)for(var n of XN(t))eL.call(t,n)&&tL(e,n,t[n]);return e})({className:r,hasError:c,name:s,type:"password",value:l},m)))})),{zxcvbn:()=>n.e(7065).then(n.t.bind(n,7065,23)).then((e=>e.default))});aL.defaultProps={showErrors:!1};const rL=aL;var iL=n(27940);function sL({description:e,isValid:t}){return i.createElement(u.BJ,{gap:"xs",orientation:"horizontal",shrink:!1,verticalAlign:"center",width:160},t?i.createElement(iL.default,{color:"confirm"}):i.createElement(pa.default,{color:"muted"}),i.createElement(p.E,{color:"primary",font:"body-3"},e))}function lL({password:e=""}){return i.createElement(u.BJ,{gap:"xxs",maxWidth:360,paddingBottom:"m"},i.createElement(p.E,{color:"primary",font:"caption"},"Password Requirements"),i.createElement(u.BJ,{gap:"xxs",orientation:"horizontal",wrap:!0},i.createElement(sL,{description:"10 characters",isValid:(null==e?void 0:e.length)>=10}),i.createElement(sL,{description:"Lowercase letter",isValid:pP.io.test(e)}),i.createElement(sL,{description:"Uppercase letter",isValid:pP.Dd.test(e)}),i.createElement(sL,{description:"Number",isValid:pP.du.test(e)}),i.createElement(sL,{description:"Special character",isValid:pP.pU.test(e)})))}var oL=n(87e3);const cL={sectionHeader:"FormSectionHeader-sectionHeader-gkmobS FormLabel-label-jjY3xI"};function dL({children:e,className:t=cL.sectionHeader}){return i.createElement("div",{className:t},e)}var uL=n(24246);const mL=(0,it.Mz)(st.A,(e=>e.twoFactorAuth)),pL=mL;var hL=n(13611);function gL(e,t){var n;if(null==(n=null==e?void 0:e.data)?void 0:n.errors){const n=(0,JN.A)(e.data.errors[0],t);if(n)return n}return(0,B.A)("Something went wrong. Please try again in a few minutes.")}const vL={modalContent:"DisableTwoFactorAuthModal-modalContent-wdS5Tr ModalContent-modalContent-EmjBoq",innerModalBody:"DisableTwoFactorAuthModal-innerModalBody-excTEp ModalBody-innerModalBody-P8kk_7",inputGroup:"DisableTwoFactorAuthModal-inputGroup-e9ZjPt",verifyAnotherWayLink:"DisableTwoFactorAuthModal-verifyAnotherWayLink-hzvOdu",sendCodeContainer:"DisableTwoFactorAuthModal-sendCodeContainer-g15Sdg",sendCodeMessage:"DisableTwoFactorAuthModal-sendCodeMessage-Olvqzj",hidden:"DisableTwoFactorAuthModal-hidden-P2vavs"};function fL({isOpen:e,onModalClose:t}){var n;const a=(0,C.wA)(),[r,s]=(0,i.useState)(!1),[l,o]=(0,i.useState)(!1),c=(0,C.d4)(pL),d=(0,C.d4)(cP.A).twoFactorEnabled,u=c.sendRecoveryCode.error||c.toggle.error;(0,i.useEffect)((()=>{!l&&c.sendRecoveryCode.isPopulated&&o(!0)}),[l,c.sendRecoveryCode.isPopulated]);const m=(0,i.useCallback)((()=>{a(hL.A.actions.reset()),t(),s(!1)}),[a,t]);(0,i.useEffect)((()=>{d||m()}),[d,m]);const{register:p,handleSubmit:h,errors:g}=(0,js.mN)(),v="required"===(null==(n=g.verificationCode)?void 0:n.type),f=(0,i.useCallback)((({verificationCode:e})=>{a(hL.A.actions.resetSendRecoveryCode()),a(hL.A.actions.toggleRequested({enabled:!1,verificationCode:e}))}),[a]),b=(0,i.useCallback)((()=>{a(hL.A.actions.reset()),s(!0)}),[a,s]),y=(0,i.useCallback)((()=>{a(hL.A.actions.resetToggle()),a(hL.A.actions.sendRecoveryCodeRequested())}),[a]);return i.createElement(ia.A,{isOpen:e,onModalClose:m},i.createElement(la.A,{onModalClose:m},i.createElement(oa.A,null,(0,B.A)("Disable two-factor authentication")),u?i.createElement(uL.A,{message:gL(u,r?JN.D.SendRecoveryCode:void 0)}):null,i.createElement("form",{className:vL.modalContent,onSubmit:h(f)},i.createElement(sa.A,{innerClassName:vL.innerModalBody},r&&!l?i.createElement("div",{className:vL.sendCodeContainer},i.createElement(Hl.A,{isSpinning:c.sendRecoveryCode.isPending,onPress:y},(0,B.A)("Email temporary code"))):null,r&&l?i.createElement("span",{className:vL.sendCodeMessage},(0,B.A)("An email containing the recovery code has been sent.")):null,!r||l?i.createElement("div",{className:vL.inputGroup},i.createElement(zl.A,{hasError:v,name:"verificationCode"},r?(0,B.A)("Recovery code"):(0,B.A)("Verification code")),i.createElement(Yl.A,{ref:p({required:!0}),autoComplete:"off",defaultValue:"",hasError:v,hasFocusOnMount:!0,name:"verificationCode"})):null,r?null:i.createElement("div",{className:vL.verifyAnotherWayLink},i.createElement(ka.A,{kind:Cr.A.Primary,onPress:b},(0,B.A)("Verify another way")))),i.createElement(Sr.A,null,i.createElement(wr.A,null,i.createElement(Er.A,{onPress:m},(0,B.A)("Cancel")),i.createElement(Hl.A,{isSpinning:c.toggle.isPending,kind:Cr.A.Primary,type:"submit"},(0,B.A)("Disable")))))))}fL.propTypes={isOpen:Xo().bool.isRequired,onModalClose:Xo().func.isRequired};var bL=n(74226);const yL={innerModalBody:"RecoveryCodesModalContent-innerModalBody-Z7msU0 ModalBody-innerModalBody-P8kk_7",codes:"RecoveryCodesModalContent-codes-EmW3Ld",code:"RecoveryCodesModalContent-code-qE9oAX",info:"RecoveryCodesModalContent-info-hIdfoo",importantInfo:"RecoveryCodesModalContent-importantInfo-AAPmSP",strong:"RecoveryCodesModalContent-strong-KsM4FJ"};function AL({showEnabledMessage:e,codes:t,onAcknowledgeCodes:n}){const{addToast:a}=(0,eP.dj)(),[r,s]=(0,i.useState)(!1),{copyToClipboard:l,copyState:o}=(0,Kh.A)(t.join("\n"));return(0,i.useEffect)((()=>{s(o===Kh.T.Done)}),[o]),(0,i.useEffect)((()=>{r&&a({color:"confirm",description:(0,B.A)("Recovery codes copied to your clipboard"),type:"foreground"})}),[a,r]),i.createElement(i.Fragment,null,i.createElement(sa.A,{innerClassName:yL.innerModalBody},e?i.createElement("span",{className:ma()(yL.info,yL.strong)},(0,B.A)("Two-factor authentication is enabled!")):null,i.createElement("span",{className:yL.info},(0,B.A)("Use the following recovery codes when you are unable to verify via your authenticator app.")," ",i.createElement("span",{className:yL.importantInfo},(0,B.A)("Remember to store these code safely."))),i.createElement("div",{className:yL.codes},t.map((e=>i.createElement("div",{key:e,className:yL.code},e)))),i.createElement(Er.A,{onPress:l},(0,B.A)("Copy to clipboard"))),i.createElement(Sr.A,null,i.createElement(wr.A,null,i.createElement(Er.A,{kind:Cr.A.Primary,onPress:n},(0,B.A)("Done")))))}const EL={modalContent:"EnableTwoFactorAuthModal-modalContent-oKHbhc ModalContent-modalContent-EmjBoq",innerModalBody:"EnableTwoFactorAuthModal-innerModalBody-xWa8Mp ModalBody-innerModalBody-P8kk_7",inputGroup:"EnableTwoFactorAuthModal-inputGroup-Vc6855",secretContent:"EnableTwoFactorAuthModal-secretContent-zf5klt",verificationCodeContent:"EnableTwoFactorAuthModal-verificationCodeContent-i25T1R",signOutContent:"EnableTwoFactorAuthModal-signOutContent-_oOxPZ",qrCodeContent:"EnableTwoFactorAuthModal-qrCodeContent-eGSZVo",textCode:"EnableTwoFactorAuthModal-textCode-qrz_vc",verificationCodeInputContainer:"EnableTwoFactorAuthModal-verificationCodeInputContainer-_dGoAS",verificationCodeInput:"EnableTwoFactorAuthModal-verificationCodeInput-nL1aX2 TextInput-input-vbygwE",qrCodePlaceholder:"EnableTwoFactorAuthModal-qrCodePlaceholder-OlhwCC",checkbox:"EnableTwoFactorAuthModal-checkbox-h2fSKk Checkbox-input-L3AVrU",help:"EnableTwoFactorAuthModal-help-w10u1q FormHelp-help-yud9Zf"};function SL({onConfirmed:e,onClose:t}){var n;const a=(0,C.wA)(),r=(0,C.d4)(pL),s=r.secret.isPopulated,l=r.secret.error,{register:o,handleSubmit:c,errors:d}=(0,js.mN)(),u="required"===(null==(n=d.currentPassword)?void 0:n.type);(0,i.useEffect)((()=>{s&&e()}),[s,e]);const m=(0,i.useCallback)((({currentPassword:e})=>{a(hL.A.actions.createSecretRequested({password:e}))}),[a]);return i.createElement(i.Fragment,null,l?i.createElement(uL.A,{message:gL(l)}):null,i.createElement("form",{className:EL.modalContent,onSubmit:c(m)},i.createElement(sa.A,{innerClassName:EL.innerModalBody},i.createElement("div",{className:EL.inputGroup},i.createElement(zl.A,{hasError:u,name:"currentPassword"},(0,B.A)("Password")),i.createElement(Yl.A,{ref:o({required:!0}),defaultValue:"",hasError:u,hasFocusOnMount:!0,name:"currentPassword",type:"password"}))),i.createElement(Sr.A,null,i.createElement(wr.A,null,i.createElement(Er.A,{onPress:t},(0,B.A)("Cancel")),i.createElement(Hl.A,{isSpinning:r.secret.isPending,kind:Cr.A.Primary,type:"submit"},(0,B.A)("Continue"))))))}const wL=i.lazy((()=>n.e(5286).then(n.t.bind(n,15286,23))));function CL({onConfirmed:e,onClose:t}){var n;const a=(0,C.wA)(),r=(0,C.d4)(pL),s=r.secret.provisioningUri,l=r.secret.secret,o=r.toggle.isPopulated,c=r.toggle.error;(0,i.useEffect)((()=>{o&&e()}),[o,e]);const{register:d,handleSubmit:u,errors:m}=(0,js.mN)(),p="required"===(null==(n=m.verificationCode)?void 0:n.type),h=(0,i.useCallback)((({resetDevices:e,verificationCode:t})=>{a(hL.A.actions.toggleRequested({enabled:!0,resetDevices:e,verificationCode:t}))}),[a]);return i.createElement(i.Fragment,null,c?i.createElement(uL.A,{message:gL(c)}):null,i.createElement("form",{className:EL.modalContent,onSubmit:u(h)},i.createElement(sa.A,{innerClassName:EL.innerModalBody},i.createElement("div",{className:EL.secretContent},i.createElement("div",{className:EL.qrCodeContent},i.createElement(i.Suspense,{fallback:i.createElement("div",{className:EL.qrCodePlaceholder})},s?i.createElement(wL,{includeMargin:!0,size:200,value:s}):null)),i.createElement("div",{className:EL.verificationCodeContent},i.createElement("span",null,(0,B.A)("Scan the image with the two-factor authentication app on your phone and enter the 6 digit verification code. If you can't use a QR code then manually type the following key in your authentication app.")," ",i.createElement("span",{className:EL.textCode},l)),i.createElement("div",{className:EL.verificationCodeInputContainer},i.createElement(zl.A,{hasError:p,name:"verificationCode"},(0,B.A)("Verification code")),i.createElement(Yl.A,{ref:d({required:!0}),autoComplete:"off",className:EL.verificationCodeInput,defaultValue:"",hasError:p,hasFocusOnMount:!0,maxLength:6,name:"verificationCode",placeholder:(0,B.A)("6 digit code")})))),i.createElement("div",{className:EL.signOutContent},i.createElement(Pc.A,{ref:d,className:EL.checkbox,name:"resetDevices"}),i.createElement("span",null,(0,B.A)("Sign out of all other servers and apps")),i.createElement(bL.A,{className:EL.help},(0,B.A)("This will sign out all claimed servers and client applications. In order to sign them back in you will need to physically access to those devices.")))),i.createElement(Sr.A,null,i.createElement(wr.A,null,i.createElement(Er.A,{onPress:t},(0,B.A)("Cancel")),i.createElement(Hl.A,{isSpinning:r.toggle.isPending,kind:Cr.A.Primary,type:"submit"},(0,B.A)("Continue"))))))}function PL({isOpen:e,onEnableTwoFactorAuthComplete:t,onModalClose:n}){const[a,r]=(0,i.useState)("Password"),s=(0,C.wA)(),l=(0,C.d4)(pL);(0,i.useEffect)((()=>{r("Password")}),[e]);const o=(0,i.useCallback)((()=>{s(hL.A.actions.reset()),n()}),[s,n]),c=(0,i.useCallback)((()=>{r("Secret")}),[r]),d=(0,i.useCallback)((()=>{r("codes")}),[r]),u=(0,i.useCallback)((()=>{t(),o()}),[o,t]);return i.createElement(ia.A,{isOpen:e,onModalClose:o},i.createElement(la.A,{onModalClose:o},i.createElement(oa.A,null,(0,B.A)("Enable two-factor authentication")),"Password"===a?i.createElement(SL,{onClose:o,onConfirmed:c}):null,"Secret"===a?i.createElement(CL,{onClose:o,onConfirmed:d}):null,"codes"===a?i.createElement(AL,{codes:l.codes,showEnabledMessage:!0,onAcknowledgeCodes:u}):null))}const DL={modalContent:"GenerateRecoveryCodesModal-modalContent-XjSlbU ModalContent-modalContent-EmjBoq",innerModalBody:"GenerateRecoveryCodesModal-innerModalBody-wsX3UW ModalBody-innerModalBody-P8kk_7",inputGroup:"GenerateRecoveryCodesModal-inputGroup-mtAz0L"};function xL({isOpen:e,onModalClose:t}){var n,a;const r=(0,C.wA)(),s=(0,C.d4)(pL),l=s.recoveryCodes.error,o=(0,i.useCallback)((()=>{r(hL.A.actions.reset()),t()}),[r,t]),{register:c,handleSubmit:d,errors:u}=(0,js.mN)(),m="required"===(null==(n=u.currentPassword)?void 0:n.type),p="required"===(null==(a=u.verificationCode)?void 0:a.type),h=(0,i.useCallback)((({currentPassword:e,verificationCode:t})=>{r(hL.A.actions.generateRecoveryCodesRequested({password:e,verificationCode:t}))}),[r]);return i.createElement(ia.A,{isOpen:e,onModalClose:o},i.createElement(la.A,{onModalClose:o},i.createElement(oa.A,null,(0,B.A)("Generate new recovery codes")),l?i.createElement(uL.A,{message:gL(l)}):null,s.recoveryCodes.isPopulated?i.createElement(AL,{codes:s.codes,onAcknowledgeCodes:o}):i.createElement("form",{className:DL.modalContent,onSubmit:d(h)},i.createElement(sa.A,{innerClassName:DL.innerModalBody},i.createElement("div",{className:DL.inputGroup},i.createElement(zl.A,{hasError:m,name:"currentPassword"},(0,B.A)("Password")),i.createElement(Yl.A,{ref:c({required:!0}),defaultValue:"",hasError:m,hasFocusOnMount:!0,name:"currentPassword",type:"password"})),i.createElement("div",{className:DL.inputGroup},i.createElement(zl.A,{hasError:p,name:"verificationCode"},(0,B.A)("Verification code")),i.createElement(Yl.A,{ref:c({required:!0}),autoComplete:"off",defaultValue:"",hasError:p,name:"verificationCode"}))),i.createElement(Sr.A,null,i.createElement(wr.A,null,i.createElement(Er.A,{onPress:o},(0,B.A)("Cancel")),i.createElement(Hl.A,{isSpinning:s.recoveryCodes.isPending,kind:Cr.A.Primary,type:"submit"},(0,B.A)("Generate codes")))))))}const kL={sectionWrapper:"TwoFactorAuthSection-sectionWrapper-o9q6_L SettingsFormSection-section-BFpkKP",description:"TwoFactorAuthSection-description-_FSYY9",action:"TwoFactorAuthSection-action-qYNRba"};function OL({onEnableTwoFactorAuthComplete:e}){const t=(0,C.d4)(cP.A),n=(0,Rl.A)(),a=(0,Rl.A)(),r=(0,Rl.A)();return i.createElement(i.Fragment,null,i.createElement(PL,{isOpen:n.isOpen,onEnableTwoFactorAuthComplete:e,onModalClose:n.onClose}),i.createElement(fL,{isOpen:a.isOpen,onModalClose:a.onClose}),i.createElement(xL,{isOpen:r.isOpen,onModalClose:r.onClose}),i.createElement(dL,null,(0,B.A)("Two-factor authentication")),t.twoFactorEnabled?i.createElement(i.Fragment,null,i.createElement("div",{className:kL.sectionWrapper},i.createElement("div",{className:kL.description},(0,B.A)("To disable two-factor authentication you will need your authenticator app or recovery codes.")),i.createElement("div",{className:kL.action},i.createElement(Er.A,{kind:Cr.A.Primary,size:wt.A.Medium,onPress:a.onOpen},(0,B.A)("Disable")))),i.createElement("div",{className:kL.sectionWrapper},i.createElement("div",{className:kL.description},(0,B.A)("Recovery codes are used in place of generated two-factor authentication codes. Treat them as carefully as you treat your password.")),i.createElement("div",{className:kL.action},i.createElement(Er.A,{kind:Cr.A.Primary,size:wt.A.Medium,onPress:r.onOpen},(0,B.A)("Generate new recovery codes"))))):i.createElement("div",{className:kL.sectionWrapper},i.createElement("div",{className:kL.description},(0,B.A)("Use an authenticator application on your phone to get two-factor authentication codes when prompted.")),i.createElement("div",{className:kL.action},i.createElement(Er.A,{kind:Cr.A.Primary,size:wt.A.Medium,onPress:n.onOpen},(0,B.A)("Enable")))))}var IL=n(76462),TL=n(10181),ML=n(68069),NL=n(8373);const LL="AccountSummary-textBadge-wKkfEU";var RL=Object.defineProperty,FL=(e,t,n)=>(((e,t,n)=>{t in e?RL(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);const UL={path:"/subscription",title:()=>(0,B.A)("Subscriptions")},VL={path:"/users/payments",title:()=>(0,B.A)("Payments")},jL={path:Nm.kj,title:()=>(0,B.A)("Other Services")};class BL extends i.Component{constructor(e,t){super(e,t),FL(this,"onPlexPassPress",(()=>{this.setState({isPlexPassModalOpen:!0})})),FL(this,"onPlexPassModalClose",(()=>{this.setState({isPlexPassModalOpen:!1})})),this.state={isPlexPassModalOpen:!1}}render(){const{user:e}=this.props,{isPlexPassModalOpen:t}=this.state,n=(0,bC.A)()?"_blank":"_self",a=function(e){return e.isEmployee?i.createElement("span",{className:LL},"Employee"):e.isNinja&&!e.isEmployee?i.createElement("span",{className:LL},"Ninja"):null}(e);return e.hasPlexSubscription||e.canGoPremium||!e.restricted?i.createElement(TL.A,null,i.createElement("div",{className:"AccountSummary-container-xE1kHu"},i.createElement("div",null,e.hasPlexSubscription?i.createElement(u.BJ,{gap:"s"},i.createElement(u.I1,{gap:"m",verticalAlign:"center"},e.hasPlexPass?i.createElement("div",{className:"AccountSummary-plexPassBadge-o0nrwM"},i.createElement(IL.default,null)):null,a),i.createElement("div",null,e.subscriptionDescription)):null,e.canGoPremium?i.createElement(u.BJ,{gap:"s"},a,i.createElement(cu.A,{kind:hu.jd,onPress:this.onPlexPassPress},(0,B.A)("Go Premium")),i.createElement(NL.A,{isOpen:t,metricsProperties:{context:l.u4},origin:Rm.u4,onModalClose:this.onPlexPassModalClose})):null),e.restricted?null:i.createElement("div",{className:"AccountSummary-actionLinksContainer-bND6wf"},i.createElement(ML.A,{className:"AccountSummary-actionLinks-j_DQ9W SettingsFormSectionActionLinks-actionLinks-Zeubmp"},(r=e.hasPlexSubscription,r?[UL,VL,jL]:[VL,jL]).map((({path:e,title:t},a)=>i.createElement(i.Fragment,{key:a},i.createElement(Et.A,{className:"AccountSummary-linkSeparator-iwSCP7",separator:""}),i.createElement(Xt.A,{kind:hu.jd,target:n,to:(0,_h.VK)(e)},t())))))))):null;var r}}const HL=BL;var zL=n(88527),_L=Object.defineProperty,WL=Object.defineProperties,GL=Object.getOwnPropertyDescriptors,KL=Object.getOwnPropertySymbols,qL=Object.prototype.hasOwnProperty,$L=Object.prototype.propertyIsEnumerable,JL=(e,t,n)=>t in e?_L(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,QL=(e,t)=>{for(var n in t||(t={}))qL.call(t,n)&&JL(e,n,t[n]);if(KL)for(var n of KL(t))$L.call(t,n)&&JL(e,n,t[n]);return e},YL=(e,t)=>WL(e,GL(t));const XL=[{1:(0,B.A)("Movies & TV Shows")},{2:(0,B.A)("Movies")},{3:(0,B.A)("TV Shows")},{0:(0,B.A)("None")}];function ZL({getUserFormSectionProps:e,user:t}){const n=(0,f.o)(h.em),a=(0,C.wA)(),r=(0,i.useMemo)((()=>{const e=XL.find((e=>e.hasOwnProperty(t.profile.watchedIndicator)));return e?e[t.profile.watchedIndicator]:""}),[t.profile.watchedIndicator]),s=(0,i.useCallback)((e=>{a((0,QN.eg)({watchedIndicator:parseInt(e.watchedIndicator,10)}))}),[a]);return n?i.createElement(gP.A,YL(QL({},e((0,B.A)("Watched Indicators for Personal Media"),"isWatchedIndicatorOpen")),{closedNode:r,onSubmit:s}),i.createElement(oc.A,{helpText:(0,B.A)("You can control how watched indicators display on certain personal media types. Watched indicators are always shown for episode and season list items on detail pages, regardless of this setting."),initialValue:String(t.profile.watchedIndicator),labelText:(0,B.A)("Watched Indicators for Personal Media"),name:"watchedIndicator",values:XL})):null}var eR=n(60237);function tR(e,t){const n=e.find((e=>e.hasOwnProperty(t)));return n?n[t]:""}const nR=function(e){const{userProfile:t,languageOptions:n,autoSelectSubtitleOptions:a,subtitleAccessibilityOptions:r,subtitleForcedOptions:s}=e,{autoSelectAudio:l,defaultAudioLanguage:o,defaultSubtitleLanguage:c,autoSelectSubtitle:d,defaultSubtitleAccessibility:u,defaultSubtitleForced:m}=t,p=[],h=tR(n,o);""!==o&&h&&p.push((0,B.A)("{audioLanguage} audio",{audioLanguage:h}));const g=tR(n,c);let v="";""!==c&&g&&(v=(0,B.A)("{subtitleLanguage} subtitles",{subtitleLanguage:g}));const f=tR(a,d).toLowerCase();let b;v&&f?b=v+" "+f:!v&&f?b=(0,B.A)("Subtitles")+" "+f:v&&!f&&(b=v),b&&p.push(b);const y=l?p.join(", "):(0,B.A)("Manually Select"),A=[tR(r,u),tR(s,m)].join(", ");return i.createElement("div",null,y?i.createElement("div",null,(0,B.A)("Track selection")," ",i.createElement(Et.A,null)," ",y):null,i.createElement("div",null,(0,B.A)("Searches")," ",i.createElement(Et.A,null)," ",A))};var aR=Object.defineProperty,rR=Object.defineProperties,iR=Object.getOwnPropertyDescriptors,sR=Object.getOwnPropertySymbols,lR=Object.prototype.hasOwnProperty,oR=Object.prototype.propertyIsEnumerable,cR=(e,t,n)=>t in e?aR(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,dR=(e,t,n)=>(cR(e,"symbol"!=typeof t?t+"":t,n),n);class uR extends i.Component{constructor(e,t){super(e,t),dR(this,"_autoSelectSubtitleOptions"),dR(this,"_languageOptions"),dR(this,"_subtitleAccessibilityOptions"),dR(this,"_subtitleForcedOptions"),dR(this,"onSubmit",(e=>{e.autoSelectSubtitle&&(e.autoSelectSubtitle=parseInt(e.autoSelectSubtitle,10)),e.defaultSubtitleAccessibility&&(e.defaultSubtitleAccessibility=parseInt(e.defaultSubtitleAccessibility,10)),e.defaultSubtitleForced&&(e.defaultSubtitleForced=parseInt(e.defaultSubtitleForced,10)),e.autoSelectAudio||(e.autoSelectSubtitle=0),this.props.onSubmit(e)})),dR(this,"onFormChange",(({autoSelectAudio:e})=>{e.value!==this.state.isAutoSelectAudio&&this.setState({isAutoSelectAudio:e.value})})),this.state={isAutoSelectAudio:e.userProfile.autoSelectAudio},this._autoSelectSubtitleOptions=[{0:(0,B.A)("Manually selected")},{1:(0,B.A)("Shown with foreign audio")},{2:(0,B.A)("Always enabled")}],this._subtitleAccessibilityOptions=[{0:(0,B.A)("Prefer non-SDH subtitles")},{1:(0,B.A)("Prefer SDH subtitles")},{2:(0,B.A)("Only show SDH subtitles")},{3:(0,B.A)("Only show non-SDH subtitles")}],this._subtitleForcedOptions=[{0:(0,B.A)("Prefer non-forced subtitles")},{1:(0,B.A)("Prefer forced subtitles")},{2:(0,B.A)("Only show forced subtitles")},{3:(0,B.A)("Only show non-forced subtitles")}],this._languageOptions=[{"":(0,B.A)("Select Language")},...TE.ak.filter((e=>2===e.length&&-1===TE.I_.indexOf(e))).map((e=>({[e]:TE.Ay[e]})))]}UNSAFE_componentWillReceiveProps(e){e.isOpen!==this.props.isOpen&&this.setState({isAutoSelectAudio:e.userProfile.autoSelectAudio})}render(){const e=this.props,{userProfile:t}=e,n=((e,t)=>{var n={};for(var a in e)lR.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&sR)for(var a of sR(e))t.indexOf(a)<0&&oR.call(e,a)&&(n[a]=e[a]);return n})(e,["userProfile"]),{isAutoSelectAudio:a}=this.state;return i.createElement(gP.A,((e,t)=>rR(e,iR(t)))(((e,t)=>{for(var n in t||(t={}))lR.call(t,n)&&cR(e,n,t[n]);if(sR)for(var n of sR(t))oR.call(t,n)&&cR(e,n,t[n]);return e})({},n),{closedNode:i.createElement(nR,{autoSelectSubtitleOptions:this._autoSelectSubtitleOptions,languageOptions:this._languageOptions,subtitleAccessibilityOptions:this._subtitleAccessibilityOptions,subtitleForcedOptions:this._subtitleForcedOptions,userProfile:t}),title:(0,B.A)("Audio & Subtitle Settings"),onFormChange:this.onFormChange,onSubmit:this.onSubmit}),i.createElement(cr.A,null,(0,B.A)("Audio & Subtitle Settings")),i.createElement("p",{className:"AudioSubtitleSettingsFormSection-description-Ou1EMv"},(0,B.A)("These settings determine how Plex will try to select audio and subtitle tracks when playing media in a Plex app while using your account.")),i.createElement("p",null,i.createElement(Xt.A,{kind:hu.jd,target:"_blank",to:Nm.Ce},(0,B.A)("Learn more"))),i.createElement(NP.A,{checkboxText:(0,B.A)("Automatically select audio and subtitle tracks"),initialValue:t.autoSelectAudio,name:"autoSelectAudio"}),a?i.createElement(oc.A,{initialValue:t.defaultAudioLanguage,labelText:(0,B.A)("Preferred audio language"),name:"defaultAudioLanguage",values:this._languageOptions}):null,a?i.createElement(oc.A,{initialValue:t.defaultSubtitleLanguage,labelText:(0,B.A)("Preferred subtitle language"),name:"defaultSubtitleLanguage",values:this._languageOptions}):null,a?i.createElement(oc.A,{initialValue:t.autoSelectSubtitle,labelText:(0,B.A)("Auto-select subtitle mode"),name:"autoSelectSubtitle",values:this._autoSelectSubtitleOptions}):null,i.createElement(oc.A,{initialValue:t.defaultSubtitleAccessibility,labelText:(0,B.A)("Subtitles for the Deaf or Hard-of-Hearing (SDH) Searches"),name:"defaultSubtitleAccessibility",values:this._subtitleAccessibilityOptions}),i.createElement(oc.A,{initialValue:t.defaultSubtitleForced,labelText:(0,B.A)("Forced Subtitle Searches"),name:"defaultSubtitleForced",values:this._subtitleForcedOptions}))}}const mR=uR,pR=(0,it.Mz)((0,yh.A)("profile"),(e=>({userProfile:e}))),hR={onSubmit:QN.eg},gR=(0,C.Ng)(pR,hR)(mR);var vR=n(25697),fR=n(58399);const bR=(0,it.Mz)(st.A,(e=>e.verificationEmail)),yR=bR;var AR=n(35203);const ER={sectionDetails:"AccountEmailFormSection-sectionDetails-Rf3D2O SettingsFormSectionDetails-sectionDetails-YYUcAA",emailClosedNode:"AccountEmailFormSection-emailClosedNode-mUb00K",emailUnverified:"AccountEmailFormSection-emailUnverified-P3PC2N",verificationContainer:"AccountEmailFormSection-verificationContainer-USLMAw",verificationEmailInfo:"AccountEmailFormSection-verificationEmailInfo-NRrg6R"};var SR=Object.defineProperty,wR=Object.defineProperties,CR=Object.getOwnPropertyDescriptors,PR=Object.getOwnPropertySymbols,DR=Object.prototype.hasOwnProperty,xR=Object.prototype.propertyIsEnumerable,kR=(e,t,n)=>t in e?SR(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,OR=(e,t)=>{for(var n in t||(t={}))DR.call(t,n)&&kR(e,n,t[n]);if(PR)for(var n of PR(t))xR.call(t,n)&&kR(e,n,t[n]);return e},IR=(e,t)=>wR(e,CR(t)),TR=(e,t)=>{var n={};for(var a in e)DR.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&PR)for(var a of PR(e))t.indexOf(a)<0&&xR.call(e,a)&&(n[a]=e[a]);return n};function MR(e){const t=e,{title:n,username:a,email:r,userSettingErrors:s,isOpen:l,onCreateUsername:o,onSubmit:c,onTogglePress:d}=t,u=TR(t,["title","username","email","userSettingErrors","isOpen","onCreateUsername","onSubmit","onTogglePress"]),m=(0,C.wA)(),p=(0,C.d4)(cP.A),h=p.confirmed,g=(0,Zl.A)(h),v=(0,C.d4)(yR),[f,b]=(0,i.useState)(!1);(0,i.useEffect)((()=>()=>{m(AR.A.actions.reset())}),[m]);const y=(0,i.useCallback)((e=>{p.username===p.email?null==c||c(IR(OR({},e),{username:e.email})):null==c||c(e)}),[c,p]),A=(0,i.useCallback)((()=>{m(AR.A.actions.sendVerificationEmailRequested())}),[m]),E=(0,i.useCallback)((()=>{b(!0)}),[]),S=(0,i.useCallback)((()=>{m(AR.A.actions.reset()),b(!1)}),[m]),w=(0,i.useCallback)((()=>{d(),m(AR.A.actions.reset()),b(!1)}),[m,d]);(0,i.useEffect)((()=>{h&&l&&!g&&w()}),[h,l,w,g]);const P=i.createElement("div",{className:ER.emailClosedNode},p.email,p.confirmed?null:i.createElement("div",{className:ER.emailUnverified},"(",(0,B.A)("unverified"),")")),D=f||p.confirmed,x=p.username&&p.username!==p.email;return i.createElement(gP.A,IR(OR({},u),{closedNode:P,isOpen:l,showButton:D,title:n,onSubmit:y,onTogglePress:w}),D&&x?i.createElement(i.Fragment,null,i.createElement(mP.A,{errors:s.email,initialValue:p.email,labelText:(0,B.A)("Email Address"),name:"email",validations:[pP.Ac]}),i.createElement(mP.A,{initialValue:"",labelText:(0,B.A)("Password"),name:"currentPassword",type:"password",validations:[pP.FM]}),p.twoFactorEnabled?i.createElement(mP.A,{autoComplete:"off",initialValue:"",labelText:(0,B.A)("Verification code"),name:"verificationCode",validations:[pP.wM]}):null,p.confirmed?null:i.createElement(Xt.A,{kind:Cr.A.Primary,onPress:S},(0,B.A)("Please verify your email address"))):null,D&&!x?i.createElement(i.Fragment,null,i.createElement(cr.A,null,n),i.createElement(fR.A,{className:ER.sectionDetails},i.createElement(Xt.A,{kind:Cr.A.Primary,onPress:o},(0,B.A)("You must select a username before changing your email address.")))):null,D?null:i.createElement(i.Fragment,null,i.createElement(cr.A,null,n),i.createElement(fR.A,{className:ER.sectionDetails},P),i.createElement("div",{className:ER.verificationContainer},i.createElement("div",null,i.createElement(Hl.A,{isSpinning:v.isPending,kind:Cr.A.Primary,size:wt.A.Medium,onPress:A},(0,B.A)("Send verification email"))),i.createElement("div",{className:ER.verificationEmailInfo},v.isPopulated?(0,B.A)("A verification email has been sent to the address above. Please follow the instructions in the email to verify your account."):null,v.error?(0,B.A)("Verification email can only be sent once every few minutes. Please try to send the verification email again later."):null)),i.createElement(Xt.A,{kind:Cr.A.Primary,onPress:E},(0,B.A)("Update email address"))))}var NR=n(64248);const LR=(0,it.Mz)(Fw.A,(e=>{if(!e)return{};const t=e.desktop;return{oauthProviders:t.oauthProviders.filter((e=>e.usage&&e.usage.federatedAuth)),isOauthProvidersPending:t.isOauthProvidersPending,isOauthProvidersPopulated:t.isOauthProvidersPopulated,oauthProvidersError:t.oauthProvidersError}}));var RR=n(9585);const FR=function(e,t){const n=(0,RR.A)(window.location.href,t);return Wh.A.join([e],{origin:n})};var UR=Object.defineProperty,VR=(e,t,n)=>(((e,t,n)=>{t in e?UR(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);const jR={apple:"LinkedAccount-buttonApple-urkUn7 LinkedAccount-button-b8Wbgl",facebook:"LinkedAccount-buttonFacebook-o8woWf LinkedAccount-button-b8Wbgl",google:"LinkedAccount-buttonGoogle-mNS7to LinkedAccount-button-b8Wbgl"};class BR extends i.Component{constructor(e,t){super(e,t),VR(this,"onUnlinkPress",(e=>{!this.props.hasPassword&&this.props.isLastLinkedAccount?this.setState({isUnlinkOauthProviderModalOpen:!0}):this.props.onCreatePassword(e)})),VR(this,"onUnlinkCancel",(()=>{this.setState({isUnlinkOauthProviderModalOpen:!1})})),this.state={isUnlinkOauthProviderModalOpen:!1}}UNSAFE_componentWillReceiveProps(e){this.props.isUnlinking&&!e.isUnlinking&&this.setState({isUnlinkOauthProviderModalOpen:!1})}render(){const{to:e,isPollClient:t,isBusy:n,code:a,providerID:r,metricsProperties:s,isDisabled:o,isLastLinkedAccount:c,hasPassword:d,label:u,linked:m,onUnlink:p,onLink:h,onCreatePassword:g,onStillTherePress:v}=this.props,{isUnlinkOauthProviderModalOpen:f}=this.state,b=m,y=!m&&!o,A=!(y||n||a||b),E=b||y||A,S=!d&&c,w=S?this.onUnlinkPress:p;return i.createElement("div",{className:m?"LinkedAccount-rowLinked-hNz6MR LinkedAccount-row-XIyiRB":"LinkedAccount-rowUnlinked-Vj2RIF LinkedAccount-row-XIyiRB"},i.createElement(cu.A,{className:jR[r],isDisabled:o,target:y&&t?"_blank":void 0,to:y?e:void 0,onPress:y?h:w}),m?(0,B.A)("Your {oauthProvider} account is linked",{oauthProvider:u}):(0,B.A)("Your {oauthProvider} account is not linked",{oauthProvider:u}),E?i.createElement("span",{className:"LinkedAccount-separator-SYZLfm"},""):null,b?i.createElement(Xt.A,{isDisabled:o,kind:hu.jd,onPress:w},(0,B.A)("Unlink")):null,S?i.createElement(ru.A,{confirmLabel:(0,B.A)("Set Password"),isCancelButtonDisabled:o,isConfirmButtonSpinning:o,isOpen:f,kind:hu.Ol,message:(0,B.A)("To unlink, first set a password to use when signing in"),metricsPage:l.p0,metricsProperties:s,title:(0,B.A)("Unlink {oauthProvider}",{oauthProvider:u}),onCancel:this.onUnlinkCancel,onConfirm:g}):null,y?i.createElement(Xt.A,{kind:hu.jd,target:t?"_blank":void 0,to:e,onPress:h},(0,B.A)("Link")):null,A?i.createElement(Lm.A,{message:(0,B.A)("Account linking timed out. {openLink}Try again?{closeLink}"),tags:[{open:"openLink",close:"closeLink",component:Xt.A,kind:hu.jd,onPress:v}]}):null)}}const HR=BR;var zR=Object.defineProperty,_R=Object.defineProperties,WR=Object.getOwnPropertyDescriptors,GR=Object.getOwnPropertySymbols,KR=Object.prototype.hasOwnProperty,qR=Object.prototype.propertyIsEnumerable,$R=(e,t,n)=>t in e?zR(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,JR=(e,t)=>{for(var n in t||(t={}))KR.call(t,n)&&$R(e,n,t[n]);if(GR)for(var n of GR(t))qR.call(t,n)&&$R(e,n,t[n]);return e},QR=(e,t)=>_R(e,WR(t)),YR=(e,t)=>{var n={};for(var a in e)KR.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&GR)for(var a of GR(e))t.indexOf(a)<0&&qR.call(e,a)&&(n[a]=e[a]);return n},XR=(e,t,n)=>($R(e,"symbol"!=typeof t?t+"":t,n),n);const ZR={dispatchUnlinkOauthProvider:NR.kf,dispatchPreloadPIN:wA.d2};class eF extends i.Component{constructor(){super(...arguments),XR(this,"onUnlink",(()=>{this.props.dispatchUnlinkOauthProvider({url:this.props.originalUrl})})),XR(this,"onStillTherePress",(()=>{this.props.dispatchPreloadPIN()}))}render(){const e=this.props,{dispatchUnlinkOauthProvider:t}=e,n=YR(e,["dispatchUnlinkOauthProvider"]);return i.createElement(PA.A,QR(JR({component:HR},n),{onStillTherePress:this.onStillTherePress,onUnlink:this.onUnlink}))}}const tF=(0,C.Ng)((function(){const e=(0,it.Mz)(((e,{url:t})=>t),LR,((e,t)=>t.oauthProviders.find((t=>t.url===e))));return(0,it.Mz)(((e,{url:t})=>({url:t})),((e,{returnUrl:t})=>t),(0,yh.A)("email"),(0,yh.A)("authToken"),e,qy.A,((e,t,n,a,r,i)=>{const s=i,{authToken:l}=s,o=YR(s,["authToken"]),c=!r.linked&&(r.isUnlinking||(0,uA.A)()&&!i.code||i.isBusy);return JR(QR(JR({},r),{isPollClient:(0,uA.A)(),userAuthToken:a,email:n,providerID:r.authName,originalUrl:r.url,url:FR(r.url,t),metricsProperties:e,isDisabled:c}),o)}))}),ZR)(eF),nF={dispatchFetchOauthProviders:NR.AJ,dispatchPreloadPIN:wA.d2,dispatchStopPolling:wA.Et};class aF extends i.Component{componentDidMount(){this.props.dispatchPreloadPIN()}componentDidUpdate(e){this.props.authToken!==e.authToken&&this.props.authToken&&this.props.dispatchFetchOauthProviders()}componentWillUnmount(){this.props.dispatchStopPolling()}render(){return null}}const rF=(0,C.Ng)(qy.A,nF)(aF),iF="LinkedAccounts-dim-jajQWJ";var sF=Object.defineProperty,lF=Object.defineProperties,oF=Object.getOwnPropertyDescriptors,cF=Object.getOwnPropertySymbols,dF=Object.prototype.hasOwnProperty,uF=Object.prototype.propertyIsEnumerable,mF=(e,t,n)=>t in e?sF(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const pF=function(e){const t=e,{isPollClient:n,returnUrl:a,hasPassword:r,linkedOauthProviders:s,isOauthProvidersPending:l,isOauthProvidersPopulated:o,oauthProvidersError:c,lastLinkedAuthProviderID:d,onCreatePassword:u,onLink:m}=t,p=((e,t)=>{var n={};for(var a in e)dF.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&cF)for(var a of cF(e))t.indexOf(a)<0&&uF.call(e,a)&&(n[a]=e[a]);return n})(t,["isPollClient","returnUrl","hasPassword","linkedOauthProviders","isOauthProvidersPending","isOauthProvidersPopulated","oauthProvidersError","lastLinkedAuthProviderID","onCreatePassword","onLink"]);let h;return h=l?i.createElement("span",{className:iF},(0,B.A)("Loading")):c?i.createElement("span",{className:iF},(0,B.A)("Error")):s||i.createElement("span",{className:iF},(0,B.A)("None")),i.createElement(gP.A,((e,t)=>lF(e,oF(t)))(((e,t)=>{for(var n in t||(t={}))dF.call(t,n)&&mF(e,n,t[n]);if(cF)for(var n of cF(t))uF.call(t,n)&&mF(e,n,t[n]);return e})({},p),{closedNode:h,showButton:!1}),i.createElement(cr.A,null,(0,B.A)("Linked Accounts")),i.createElement("div",{className:"LinkedAccounts-description-MesiAG"},(0,B.A)("You can link your Google, Facebook, or Apple account to simplify signing in to Plex."),n?i.createElement(rF,null):null),o&&e.oauthProviders?e.oauthProviders.map((e=>i.createElement(tF,{key:e.url,hasPassword:r,isLastLinkedAccount:d===e.authName,isUnlinking:l,providerID:e.providerID,returnUrl:a,url:e.url,onCreatePassword:u,onLink:m}))):null)};var hF=Object.defineProperty,gF=Object.getOwnPropertySymbols,vF=Object.prototype.hasOwnProperty,fF=Object.prototype.propertyIsEnumerable,bF=(e,t,n)=>t in e?hF(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,yF=(e,t)=>{for(var n in t||(t={}))vF.call(t,n)&&bF(e,n,t[n]);if(gF)for(var n of gF(t))fF.call(t,n)&&bF(e,n,t[n]);return e};const AF=(0,it.Mz)(LR,qy.A,((e,t)=>{const n=e.oauthProviders.filter((e=>e.linked)),a=1===n.length?n[0].authName:null;return yF(yF({linkedOauthProviders:n.map((e=>e.label)).join(", "),lastLinkedAuthProviderID:a,returnUrl:window.location.href,isPollClient:(0,uA.A)()},e),t)})),EF={dispatchFetchOauthProviders:NR.AJ,dispatchBeginPolling:wA.d8};class SF extends i.Component{constructor(){super(...arguments),((e,t,n)=>{bF(this,t+"",(()=>{this.props.isPollClient&&this.props.dispatchBeginPolling({pinID:this.props.pinID})}))})(0,"onLink")}componentDidMount(){this.props.dispatchFetchOauthProviders()}render(){const e=this.props,{dispatchFetchOauthProviders:t}=e,n=((e,t)=>{var n={};for(var a in e)vF.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&gF)for(var a of gF(e))t.indexOf(a)<0&&fF.call(e,a)&&(n[a]=e[a]);return n})(e,["dispatchFetchOauthProviders"]);return i.createElement(pF,yF({onLink:this.onLink},n))}}const wF=(0,C.Ng)(AF,EF)(SF);var CF=n(89486),PF=Object.defineProperty,DF=Object.defineProperties,xF=Object.getOwnPropertyDescriptors,kF=Object.getOwnPropertySymbols,OF=Object.prototype.hasOwnProperty,IF=Object.prototype.propertyIsEnumerable,TF=(e,t,n)=>t in e?PF(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,MF=(e,t)=>{for(var n in t||(t={}))OF.call(t,n)&&TF(e,n,t[n]);if(kF)for(var n of kF(t))IF.call(t,n)&&TF(e,n,t[n]);return e},NF=(e,t)=>DF(e,xF(t));const LF="password",RF=(0,B.A)("System Default"),FF=TE.ak.map((e=>({[e]:TE.Ay[e]}))),UF=parseInt(ll.A.avatarFormEditSize,10),VF=parseInt(ll.A.avatarFormSectionSize,10);function jF({isUserAnonymous:e,isUserUnrestricted:t,user:n,isUpdatingUser:a,updateUserError:r,isSelectAudioOpen:s,serverEntityID:o,userSettingErrors:d,isUsernameEmail:u,isTwoFactorAuthAllowed:m,isUserReadyForTwoFactorAuth:p,onCreateUsername:h,onEnableTwoFactorAuthComplete:g,onVerifyEmail:v,onCreatePassword:f,getUserFormSectionProps:b,onToggleAudioSubtitlesFormSection:y}){const A=(0,C.wA)(),E=(0,C.d4)(wh.A),S=(0,Zl.A)(a),w=(0,JS.A)(),[P,D]=(0,i.useState)(),[x,k]=(0,i.useState)(),[O,I]=(0,i.useState)(),T=b((0,B.A)("Username"),"isUsernameOpen"),{isValid:M,error:N,isLoading:L,onChange:R,reset:F}=function(e){const t=(0,C.d4)(wh.A),[n,a]=(0,i.useState)(e),r=(0,eR.A)(n,250),[s,l]=(0,i.useState)(!1),[o,c]=(0,i.useState)(""),[d,u]=(0,i.useState)(!1),m=(0,i.useCallback)((()=>{a(e),l(!1),c(""),u(!1)}),[e]),p=(0,i.useCallback)((t=>{t!==e?t!==r?(a(t),u(!0)):u(!1):m()}),[e,r,m]);return(0,i.useEffect)((()=>{void 0!==r&&r!==e&&nO.A.post(`/api/v2/users/availability?username=${r}`,{server:t,headers:{accept:"application/json"},method:"POST"}).then((e=>{l(204===e.status),c(""),u(!1)})).catch((e=>{var t,n,a,r;429===e.response.status?c((0,B.A)("Error occurred, please try again in a few minutes.")):c((null==(r=null==(a=null==(n=null==(t=null==e?void 0:e.response)?void 0:t.data)?void 0:n.errors)?void 0:a[0])?void 0:r.message)?e.response.data.errors[0].message:null==e?void 0:e.message),l(!1),u(!1)}))}),[e,r,t]),{isValid:e===r||s&&r!==e,isLoading:d,error:o?[o]:[],reset:m,onChange:p}}(n.username);(0,i.useEffect)((()=>{T.isOpen||F()}),[F,T.isOpen]),(0,i.useEffect)((()=>{S&&!a&&A($M.A.actions.fetchUserDetails({server:E}))}),[A,S,a,E]);const U=b((0,B.A)("Profile Image"),"isPhotoOpen"),V=[pP.FM,pP.wJ];return n.hasPassword&&V.push(pP.W_),i.createElement(i.Fragment,null,!e&&t?i.createElement(vR.A,{title:(0,B.A)("Personal Information")}):null,e?null:i.createElement(gP.A,NF(MF({},U),{closedNode:i.createElement(Ma.A,{height:VF,serverEntityID:o,url:n.thumb,width:VF})}),i.createElement(zl.A,null,(0,B.A)("Profile Image")),i.createElement(hP.A,{height:UF,initialValue:(0,oL.A)(n.thumb,UF),name:"avatar",serverEntityID:o,url:(0,oL.A)(n.thumb,UF),width:UF,onTogglePress:U.onTogglePress})),t&&!e?i.createElement(gP.A,NF(MF({},T),{closedNode:u?(0,B.A)("Not set"):n.username,isDisabled:!M,isValidating:L,reset:F}),i.createElement(mP.A,{errors:d.username||N,helpText:(0,B.A)("Choose a username to represent yourself to your friends on Plex. This is a unique name that will be publicly visible."),initialValue:u?"":n.username,labelText:(0,B.A)("Username"),name:"username",validations:[pP.IF],onChange:R}),i.createElement(NP.A,{checkboxText:(0,B.A)("Allow username to be used when signing in"),checkedValue:!1,helpText:(0,B.A)("Your email address will be required to sign in when username sign-in is not allowed."),initialValue:n.emailOnlyAuth,name:"emailOnlyAuth",uncheckedValue:!0})):null,t&&!e?i.createElement(gP.A,NF(MF({},b((0,B.A)("Full Name"),"isFullNameOpen")),{closedNode:n.friendlyName?n.friendlyName:(0,B.A)("Not set")}),i.createElement(mP.A,{errors:void 0,helpText:(0,B.A)("Help friends discover you on Plex with whatever name that youre best known by. For instance: your full name or a nickname."),initialValue:n.friendlyName||"",labelText:(0,B.A)("Full name"),name:"friendlyName",validations:[pP.fM]})):null,t&&!e?i.createElement(MR,NF(MF({email:n.email,username:n.username,onCreateUsername:h},b((0,B.A)("Email Address"),"isEmailOpen")),{userSettingErrors:d})):null,e?null:i.createElement(HL,{user:n}),!e&&t?i.createElement(vR.A,{title:(0,B.A)("Security")}):null,t&&!e?i.createElement(gP.A,NF(MF({},b((0,B.A)("Password"),"isPasswordOpen")),{closedNode:n.hasPassword?"**********":(0,B.A)("Not set"),isDisabled:!P||!!pP.wJ(P)||!x||n.hasPassword&&!O}),i.createElement(rL,{errors:d.password,id:LF,initialValue:"",labelText:n.hasPassword?(0,B.A)("New Password"):(0,B.A)("Choose Password"),name:"password",validations:V,onChange:D}),i.createElement(lL,{password:P}),i.createElement(mP.A,{initialValue:"",labelText:n.hasPassword?(0,B.A)("Confirm New Password"):(0,B.A)("Confirm Password"),name:"passwordConfirmation",type:"password",validations:[pP.CR,pP.C5],onChange:k}),n.hasPassword?i.createElement(mP.A,{initialValue:"",labelText:(0,B.A)("Current Password"),name:"currentPassword",type:"password",validations:[pP.US],onChange:I}):null,n.hasPassword&&n.twoFactorEnabled?i.createElement(mP.A,{autoComplete:"off",initialValue:"",labelText:(0,B.A)("Verification code"),name:"verificationCode",validations:[pP.wM]}):null,n.hasPassword?i.createElement(NP.A,{checkboxText:(0,B.A)("Sign out connected devices after password change"),initialValue:!1,name:"resetDevices"}):null):null,m&&p?i.createElement(gP.A,NF(MF({showButton:!1},b((0,B.A)("Two-factor authentication"),"isTwoFactorAuthenticationOpen")),{closedNode:n.twoFactorEnabled?(0,B.A)("Active"):(0,B.A)("Inactive")}),i.createElement(OL,{onEnableTwoFactorAuthComplete:g})):null,m&&!p?i.createElement(TL.A,null,i.createElement(zl.A,null,(0,B.A)("Two-factor authentication")),i.createElement(fR.A,{className:CF.A.sectionDetails},i.createElement("div",{className:CF.A.twoFactorAuthInactiveClosedNode},(0,B.A)("Inactive"),i.createElement(Et.A,null),n.hasPassword||n.confirmed?null:i.createElement(Xt.A,{kind:Cr.A.Primary,onPress:f},(0,B.A)("To use two-factor authentication, first set a password and verify your email address")),n.hasPassword&&!n.confirmed?i.createElement(Xt.A,{kind:Cr.A.Primary,onPress:v},(0,B.A)("To use two-factor authentication, first verify your email address")):null,!n.hasPassword&&n.confirmed?i.createElement(Xt.A,{kind:Cr.A.Primary,onPress:f},(0,B.A)("To use two-factor authentication, first set a password to use when signing in")):null))):null,i.createElement(vR.A,{title:(0,B.A)("Settings")}),i.createElement(gP.A,NF(MF({},b((0,B.A)("Language"),"isLocaleOpen")),{closedNode:TE.Ay[n.locale]||RF}),i.createElement(oc.A,{helpText:(0,B.A)("This sets the default language for Plex applications that do not provide their own language setting."),initialValue:n.locale,labelText:(0,B.A)("Language"),name:"locale",values:[{"":RF},...FF]})),i.createElement(gR,{errorMessage:r,isOpen:s,isUpdating:a,onTogglePress:y}),i.createElement(ZL,{getUserFormSectionProps:b,user:n}),w?i.createElement(c.Ay,{metricsPage:l.yy},i.createElement(i.Fragment,null,i.createElement(zL.A,null),i.createElement(ED.S5,{origin:"settings"},i.createElement(jD,null)))):null,t&&!e?i.createElement(wF,NF(MF({},b((0,B.A)("Linked Accounts"),"isLinkedAccountsOpen")),{hasPassword:n.hasPassword,onCreatePassword:f})):null,!e&&t?i.createElement(vR.A,{title:(0,B.A)("Preferences")}):null,t&&!e?i.createElement(TL.A,null,i.createElement(zl.A,null,(0,B.A)("Email subscription settings")),i.createElement("p",null,i.createElement(Lm.A,{className:CF.A.description,message:(0,B.A)("{openEmailPreferences}Manage emails{closeEmailPreferences} that you receive from Plex."),tags:[{open:"openEmailPreferences",close:"closeEmailPreferences",component:Xt.A,kind:hu.jd,to:"https://www.plex.tv/email-preferences",target:"_blank"}]}))):null,t&&!e?i.createElement(gP.A,NF(MF({},b((0,B.A)("Experimental Features"),"isExperimentalFeaturesOpen")),{closedNode:n.experimentalFeatures?(0,B.A)("Enabled"):(0,B.A)("Disabled")}),i.createElement(NP.A,{checkboxText:(0,B.A)("Enable early access to experimental features still under development"),initialValue:n.experimentalFeatures,labelText:(0,B.A)("Experimental Features"),name:"experimentalFeatures"})):null,t&&!e?i.createElement(TL.A,null,i.createElement(Xt.A,{kind:hu.Ol,target:"_self",to:(0,_h.VK)("/users/delete")},(0,B.A)("Delete your account"))):null)}var BF=Object.defineProperty,HF=Object.defineProperties,zF=Object.getOwnPropertyDescriptors,_F=Object.getOwnPropertySymbols,WF=Object.prototype.hasOwnProperty,GF=Object.prototype.propertyIsEnumerable,KF=(e,t,n)=>t in e?BF(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,qF=(e,t,n)=>(KF(e,"symbol"!=typeof t?t+"":t,n),n);class $F extends i.Component{constructor(e,t){super(e,t),qF(this,"_passwordFocusTimeout"),qF(this,"createToggleHandler",((e,t)=>n=>{var a,r;null==n||n.preventDefault();const i=void 0===t?!this.state[e]:t;this.props.updateUserError&&(null==(r=(a=this.props).onErrorDismiss)||r.call(a)),this.setState(T().mapObject(this.state,((t,n)=>n===e&&i)))})),qF(this,"getUserFormSectionProps",((e,t)=>{const n=this.state[t];return{title:e,onTogglePress:this.createToggleHandler(t),isOpen:n,onSubmit:this.props.onSubmit,isUpdating:this.props.isUpdatingUser,errorMessage:this.props.updateUserError}})),qF(this,"onVerifyEmail",(e=>{this.createToggleHandler("isEmailOpen",!0)(e)})),qF(this,"onCreateUsername",(e=>{this.createToggleHandler("isUsernameOpen",!0)(e)})),qF(this,"onCreatePassword",(e=>{this.createToggleHandler("isPasswordOpen",!0)(e),this._passwordFocusTimeout=window.setTimeout((()=>{var e;null==(e=document.getElementById(LF))||e.focus()}),0)})),qF(this,"onEnableTwoFactorAuthComplete",(e=>{this.createToggleHandler("isTwoFactorAuthenticationOpen",!1)(e)})),qF(this,"onToggleAudioSubtitlesFormSection",(e=>{this.createToggleHandler("isSelectAudioOpen")(e)})),qF(this,"onAccountEmailSubmit",(e=>{const t=this.props.user;t.username===t.email?this.props.onSubmit(((e,t)=>HF(e,zF(t)))(((e,t)=>{for(var n in t||(t={}))WF.call(t,n)&&KF(e,n,t[n]);if(_F)for(var n of _F(t))GF.call(t,n)&&KF(e,n,t[n]);return e})({},e),{username:e.email})):this.props.onSubmit(e)})),qF(this,"onOpenAdConsentPress",(()=>{this.setState({isAdConsentModalOpen:!0})})),qF(this,"onCloseAdConsentModal",(()=>{this.setState({isAdConsentModalOpen:!1})})),this.state={isUsernameOpen:!1,isFullNameOpen:!1,isEmailOpen:!1,isPasswordOpen:!1,isTwoFactorAuthenticationOpen:!1,isLinkedAccountsOpen:!1,isLocaleOpen:!1,isPhotoOpen:!1,isNewsletterOpen:!1,isExperimentalFeaturesOpen:!1,isWatchedIndicatorOpen:!1,isSelectAudioOpen:!1,isAdConsentModalOpen:!1}}componentWillUnmount(){this._passwordFocusTimeout&&window.clearTimeout(this._passwordFocusTimeout)}UNSAFE_componentWillReceiveProps(e){const t=this.props.isUpdatingUser&&!e.isUpdatingUser&&!e.updateUserError,n=this.state.isTwoFactorAuthenticationOpen&&this.props.user.twoFactorEnabled&&!e.user.twoFactorEnabled;(t||n)&&this.setState(T().mapObject(this.state,(()=>!1)))}render(){const{serverEntityID:e,user:t,userSettingErrors:n,hasTwoFactorAuthFeature:a}=this.props,r=t.anonymous,s=!t.restricted,o=t.username===t.email,c=a&&s&&!r,d=t.twoFactorEnabled||t.hasPassword&&t.confirmed;return i.createElement(b.A,{metricsPage:l.u4,metricsPane:"account"},i.createElement(y.A,null,(0,B.A)("Account")),i.createElement(jF,{getUserFormSectionProps:this.getUserFormSectionProps,isAdConsentModalOpen:this.state.isAdConsentModalOpen,isSelectAudioOpen:this.state.isSelectAudioOpen,isTwoFactorAuthAllowed:c,isUpdatingUser:this.props.isUpdatingUser,isUserAnonymous:r,isUserReadyForTwoFactorAuth:d,isUserUnrestricted:s,isUsernameEmail:o,serverEntityID:e,updateUserError:this.props.updateUserError,user:t,userSettingErrors:n,onCloseAdConsentModal:this.onCloseAdConsentModal,onCreatePassword:this.onCreatePassword,onCreateUsername:this.onCreateUsername,onEnableTwoFactorAuthComplete:this.onEnableTwoFactorAuthComplete,onOpenAdConsentPress:this.onOpenAdConsentPress,onToggleAudioSubtitlesFormSection:this.onToggleAudioSubtitlesFormSection,onVerifyEmail:this.onVerifyEmail}))}}const JF=$F;var QF=Object.defineProperty,YF=Object.defineProperties,XF=Object.getOwnPropertyDescriptors,ZF=Object.getOwnPropertySymbols,eU=Object.prototype.hasOwnProperty,tU=Object.prototype.propertyIsEnumerable,nU=(e,t,n)=>t in e?QF(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,aU=(e,t)=>{for(var n in t||(t={}))eU.call(t,n)&&nU(e,n,t[n]);if(ZF)for(var n of ZF(t))tU.call(t,n)&&nU(e,n,t[n]);return e},rU=(e,t)=>YF(e,XF(t)),iU=(e,t,n)=>(nU(e,"symbol"!=typeof t?t+"":t,n),n);const sU=(0,it.Mz)(ks.A,Fw.A,(e=>e.ui.accountSettingsPage),(0,Ah.A)(h.QR),((e,t,n,a)=>{const r=e.desktop,i=r.updateUserError?(0,JN.A)(KN()(r.updateUserError[(0,I.first)(Object.keys(r.updateUserError))]),JN.D.EditAccount):n.updateUserProfileError,s=r.updateUserError?Object.assign({},...Object.keys(r.updateUserError).map((e=>{var t;return{[e]:[(0,JN.A)(null==(t=r.updateUserError[e])?void 0:t[0])]}}))):{},l=$N()(e,"anonymous","canGoPremium","confirmed","email","emailOnlyAuth","experimentalFeatures","friendlyName","geo","hasPassword","hasPlexPass","hasPlexSubscription","isEmployee","isNinja","locale","locked","mailingListActive","profile","restricted","subscriptionDescription","thumb","twoFactorEnabled","username");return{serverEntityID:t.entityID,user:rU(aU({},l),{friendlyName:WS()(e.friendlyName)}),isUpdatingUser:r.isUpdatingUser||n.isUpdatingUserProfile,updateUserError:i,userSettingErrors:s,hasTwoFactorAuthFeature:a}})),lU={dispatchUpdateUser:Zh.TK,dispatchClearUpdateUserError:Zh.Uk,dispatchClearUpdateUserProfileError:QN.D9};class oU extends i.Component{constructor(){super(...arguments),iU(this,"onUserProfileSubmit"),iU(this,"onErrorDismiss",(()=>{this.props.dispatchClearUpdateUserError(),this.props.dispatchClearUpdateUserProfileError()})),iU(this,"onSubmit",(e=>{this.props.dispatchUpdateUser(e)}))}render(){const e=this.props,{dispatchUpdateUser:t,dispatchClearUpdateUserError:n,dispatchClearUpdateUserProfileError:a}=e,r=((e,t)=>{var n={};for(var a in e)eU.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&ZF)for(var a of ZF(e))t.indexOf(a)<0&&tU.call(e,a)&&(n[a]=e[a]);return n})(e,["dispatchUpdateUser","dispatchClearUpdateUserError","dispatchClearUpdateUserProfileError"]);return i.createElement(JF,rU(aU({},r),{onErrorDismiss:this.onErrorDismiss,onSubmit:this.onSubmit,onUserProfileSubmit:this.onUserProfileSubmit}))}}const cU=(0,C.Ng)(sU,lU)(oU);var dU=n(83461),uU=n(81352),mU=n(94347),pU=n(32265),hU=n(88932),gU=n(57928),vU=n(66963),fU=n(28943);function bU({confirmDescription:e,confirmTitle:t,footerButtonLabel:n,header:a,modalBody:r,errorMessage:s,modalState:l,useMutation:o,onDeleteSuccess:c}){const{addToast:d}=(0,eP.dj)(),m=(0,RD.A)(),p=(0,C.wA)(),h=(0,Vs.E)(),{uuid:g}=(0,C.d4)(cP.A),[v,{isLoading:f,isSuccess:b,isError:y,reset:A}]=o();(0,i.useEffect)((()=>{y&&(d({color:"alert",description:s,type:"foreground"}),l.onClose(),A())}),[d,s,y,l,A]),(0,i.useEffect)((()=>{b&&(c(),p(fU.FH.util.invalidateTags([{type:hU.gp.GetUserStatistics,id:g}])),p(vU.FH.util.invalidateTags([gU.LT.GetActivityFeed,gU.LT.GetActivityById])),l.onClose(),A())}),[p,b,l,c,A,g]);const E=(0,i.useCallback)((()=>{h.onClose(),v(),m({action:LD.SJ})}),[h,v,m]);return i.createElement(Bs.aF,{isOpen:l.isOpen,onOpenChange:l.onOpenChange},i.createElement(Bs.$m,{closeButtonAccessibilityLabel:(0,B.A)("Close"),title:a},i.createElement(Bs.cw,null,r),i.createElement(Bs.jl,null,i.createElement(u.BJ,{gap:"xs",orientation:"horizontal"},i.createElement(Bs.Xd,{align:"left"},i.createElement(Bs.s_,null,i.createElement(Zn.$n,{label:"Cancel"}))),i.createElement(Bs.Xd,{align:"right"},i.createElement(Zn.$n,{color:"alert",label:n,waiting:f,onPress:h.onOpen}))))),i.createElement(ul.A,{confirmColor:"alert",confirmLabel:(0,B.A)("Delete Data"),declineLabel:(0,B.A)("Cancel"),description:e,isWaiting:!1,modalState:h,title:t,onSuccess:E}))}var yU=n(12669),AU=n(28773),EU=n(16698),SU=n(64786),wU=n(75023),CU=n(42287);const PU={privacyPoster:"DeletePrivacyIndicator-privacyPoster-fwHQiq"};function DU({context:e,privacyMode:t}){const n=(0,Vs.E)(),a=(0,i.useMemo)((()=>{switch(t){case CU.YT.Public:return(0,B.A)("Sharing with Everyone");case CU.YT.Friends:return(0,B.A)("Sharing with Friends");case CU.YT.Private:return"ratings"===e?(0,B.A)("Ratings Set to Private"):(0,B.A)("Watch History Set to Private");case CU.YT.FriendsOfFriends:return(0,B.A)("Sharing with Friends of Friends");default:return null}}),[e,t]),r=(0,i.useMemo)((()=>{switch(t){case CU.YT.Public:return i.createElement(yU.default,{color:"inherit"});case CU.YT.Friends:return i.createElement(AU.default,{color:"inherit"});case CU.YT.Private:return i.createElement(EU.default,{color:"inherit"});case CU.YT.FriendsOfFriends:return i.createElement(SU.default,{color:"inherit"});default:return null}}),[t]);return i.createElement(i.Fragment,null,i.createElement(Zn.QW,{color:"default",onPress:n.onToggle},i.createElement("div",{className:PU.privacyPoster},i.createElement(u.BJ,{gap:"s",orientation:"horizontal",paddingX:"m",paddingY:"xs",verticalAlign:"center",width:"100%"},i.createElement(u.BJ,{gap:"xs",orientation:"horizontal",verticalAlign:"center",width:"100%"},r,i.createElement(p.E,{color:"inherit",font:"heading-4"},a)),i.createElement(uU.Q,{color:"inherit",name:"chevron-right"})))),i.createElement(wU.A,{buttonLabel:(0,B.A)("Save"),isOpen:n.isOpen,onClose:n.onClose}))}const xU=n(27799).F.injectEndpoints({endpoints:e=>({DeleteWatchHistoryData:e.mutation({query:e=>({document:"\n    mutation DeleteWatchHistoryData {\n  removeActivities(input: {type: WATCH_HISTORY})\n}\n    ",variables:e})}),DeleteRatingsData:e.mutation({query:e=>({document:"\n    mutation DeleteRatingsData {\n  removeActivities(input: {type: RATING})\n}\n    ",variables:e})})})}),{useDeleteWatchHistoryDataMutation:kU,useDeleteRatingsDataMutation:OU}=xU,IU={statsContainer:"DeleteActivityDataModal-statsContainer-Vn_gX8"};function TU({modalState:e}){const t=(0,C.wA)(),{addToast:n}=(0,eP.dj)(),{username:a}=(0,C.d4)(cP.A),{data:r}=(0,fU.CV)({username:a}),{isPopulated:s,privacy:l,error:o}=(0,pU.A)();(0,iP.A)(void 0,e.isOpen),(0,i.useEffect)((()=>{o&&n({color:"alert",description:(0,B.A)("There was an error while fetching your privacy settings."),type:"foreground"})}),[n,o]);const c=(0,i.useCallback)((()=>{t(mU.A.actions.staleProfileHub({hub:hU.bL.Ratings}))}),[t]),d=(0,i.useMemo)((()=>l&&(null==r?void 0:r.userByUsername.ratingsStats)?i.createElement(i.Fragment,null,i.createElement("div",{className:IU.statsContainer},i.createElement(u.BJ,{align:"space-between",orientation:"horizontal",paddingBottom:"s",verticalAlign:"center",wrap:!0},i.createElement(p.E,{as:"span",color:"primary",font:"display-3",numberOfLines:1},r.userByUsername.ratingsStats.ratingsAmount)),i.createElement(p.E,{color:"muted",font:"caption"},(0,B.A)("Rating activities"))),i.createElement(u.BJ,{paddingTop:"m"},i.createElement(DU,{context:"ratings",privacyMode:l.ratings})),i.createElement(u.BJ,{gap:"m",paddingTop:"m"},i.createElement(p.E,{color:"default",font:"body-1"},(0,B.A)("This action will delete all of your rating activities. This includes any rating activities visible to others on your Profile or via their activity feed.")),i.createElement(p.E,{color:"default",font:"body-1"},(0,B.A)("If you want to keep this activity data but hide it from others, you can update your Ratings visibility setting above to private.")),i.createElement(p.E,{color:"default",font:"body-1"},(0,B.A)("Please note, deleting this data will not remove the Ratings for any titles on your Personal Media Server, Plexs On Demand catalog, or Discover.")))):null),[l,null==r?void 0:r.userByUsername.ratingsStats]);return d&&s?i.createElement(bU,{confirmDescription:(0,B.A)("This will delete your Rating activities and cannot be undone."),confirmTitle:(0,B.A)("Delete Rating Activities"),errorMessage:(0,B.A)("There was an error while deleting your Ratings data."),footerButtonLabel:(0,B.A)("Delete Rating Activities"),header:(0,B.A)("Delete Rating Activities"),modalBody:d,modalState:e,useMutation:OU,onDeleteSuccess:c}):null}var MU=n(10293),NU=n(94396),LU=n(83566),RU=n(42093);const FU=(0,it.Mz)(RU.A,(e=>e.core.viewState));var UU=n(91543);const VU={poster:"DeleteViewStateSyncDataModal-poster-ZDnKCO"};function jU({modalState:e}){const t=(0,C.wA)(),n=(0,RD.A)(),{addToast:a}=(0,eP.dj)(),{isDeleting:r,isDeleted:s,error:l}=(0,C.d4)(FU),o=(0,C.d4)(NU.A),c=(0,Vs.E)(),d=(0,Vs.E)(),m=(0,C.d4)(wh.A),h=(0,C.d4)(gN.A),{viewStateSync:{consent:g},isUpdating:v}=(0,C.d4)(LU.A);(0,iP.A)(void 0,e.isOpen);const f=(0,i.useCallback)((()=>{t($M.A.actions.updateViewStateSyncConsent({consent:"denied",server:m})),n({action:LD.xE})}),[m,t,n]),b=(0,i.useCallback)((()=>{c.onClose(),t(UU.A.actions.removeViews({stableUser:o,server:m,provider:h})),n({action:LD.SJ})}),[m,c,t,h,o,n]),y="given"===g;return(0,i.useEffect)((()=>{s&&(e.onClose(),t(UU.A.actions.clear()))}),[t,s,e]),(0,i.useEffect)((()=>{(null==l?void 0:l.message)&&(a({color:"alert",description:(0,B.A)("Error while deleting synced data."),type:"foreground"}),e.onClose(),t(UU.A.actions.clear()))}),[a,null==l?void 0:l.message,t,e]),i.createElement(Bs.aF,{isOpen:e.isOpen,onOpenChange:e.onOpenChange},i.createElement(Bs.$m,{closeButtonAccessibilityLabel:(0,B.A)("Close"),title:(0,B.A)("Watched State & Ratings")},i.createElement(Bs.cw,null,i.createElement(u.BJ,{width:"100%"},i.createElement("div",{className:VU.poster},i.createElement(u.BJ,{align:"space-between",orientation:"horizontal",verticalAlign:"center",width:"100%"},i.createElement(u.BJ,{gap:"xs",orientation:"horizontal",verticalAlign:"center"},i.createElement(MU.default,null),i.createElement(p.E,{color:"primary",font:"body-2"},(0,B.A)("Sync Watched State & Ratings"))),i.createElement(p.E,{color:"accent"},y?(0,B.A)("On"):(0,B.A)("Off"))),y?i.createElement(u.BJ,{gap:"s",padding:"s",width:"100%"},i.createElement(p.E,{align:"center",color:"accent",font:"body-2"},(0,B.A)("You must disable syncing first before deleting your synced data.")),i.createElement(Zn.$n,{disabled:!y,label:(0,B.A)("Stop Syncing"),size:"xs",waiting:v,onPress:y?f:void 0})):null),i.createElement(u.BJ,{gap:"m",paddingTop:"m"},i.createElement(p.E,{font:"body-1"},(0,B.A)("This action will delete all Watched State & Ratings previously synced to Plex, including anything watched or rated from Plexs On Demand catalog or Discover. ")),i.createElement(p.E,{font:"body-1"},(0,B.A)("Please note: This will not delete the Watched State or Ratings on your Personal Media Server or your Watch History or Ratings activities on your Profile. ")),i.createElement(p.E,{font:"body-1"},i.createElement(Lm.A,{message:(0,B.A)("You can retain this data and simply adjust which Activities are shared with others with your {openProfilePrivacy}Activity Sharing settings{closeProfilePrivacy}."),tags:[{open:"openProfilePrivacy",close:"closeProfilePrivacy",component:Xt.A,kind:hu.jd,onPress:d.onOpen}]}))))),i.createElement(Bs.jl,null,i.createElement(u.BJ,{align:"space-between",orientation:"horizontal",verticalAlign:"center"},i.createElement(Bs.s_,null,i.createElement(Zn.$n,{label:(0,B.A)("Back")})),i.createElement(Zn.$n,{color:"alert",disabled:y,label:(0,B.A)("Delete Previously Synced Data"),waiting:r,onPress:c.onOpen})))),i.createElement(wU.A,{buttonLabel:(0,B.A)("Save"),isOpen:d.isOpen,onClose:d.onClose}),i.createElement(ul.A,{confirmColor:"alert",confirmLabel:(0,B.A)("Delete Data"),declineLabel:(0,B.A)("Cancel"),description:(0,B.A)("This will delete all previously synced Watch State & Ratings data and cant be undone."),isWaiting:!1,modalState:c,title:(0,B.A)("Delete Synced Watched State & Ratings"),onSuccess:b}))}var BU=n(3687);function HU({modalState:e}){const t=(0,C.wA)(),{addToast:n}=(0,eP.dj)(),{username:a}=(0,C.d4)(cP.A),{data:r}=(0,fU.CV)({username:a}),{isPopulated:s,privacy:l,error:o}=(0,pU.A)();(0,iP.A)(void 0,e.isOpen),(0,i.useEffect)((()=>{o&&n({color:"alert",description:(0,B.A)("There was an error while fetching your privacy settings."),type:"foreground"})}),[n,o]);const c=(0,i.useCallback)((()=>{t(mU.A.actions.staleProfileHub({hub:hU.bL.WatchHistory}))}),[t]),d=(0,i.useMemo)((()=>l&&(null==r?void 0:r.userByUsername.watchStats)?i.createElement(i.Fragment,null,i.createElement("div",{className:IU.statsContainer},i.createElement(u.BJ,{align:"space-between",orientation:"horizontal",paddingBottom:"s",verticalAlign:"center",width:"60%",wrap:!0},i.createElement(u.BJ,{align:"center"},i.createElement(BU.i,{count:r.userByUsername.watchStats.movieAmount,label:(0,B.A)("Movies"),suffix:r.userByUsername.watchStats.movieSuffix})),i.createElement(u.BJ,{align:"center"},i.createElement(BU.i,{count:r.userByUsername.watchStats.showAmount,label:(0,B.A)("Shows"),suffix:r.userByUsername.watchStats.showSuffix})),i.createElement(u.BJ,{align:"center"},i.createElement(BU.i,{count:r.userByUsername.watchStats.episodeAmount,label:(0,B.A)("Episodes"),suffix:r.userByUsername.watchStats.episodeSuffix}))),i.createElement(p.E,{color:"muted",font:"caption"},(0,B.A)("My Watch History"))),i.createElement(u.BJ,{paddingTop:"m"},i.createElement(DU,{context:"watchHistory",privacyMode:l.watchHistory})),i.createElement(u.BJ,{gap:"m",paddingTop:"m"},i.createElement(p.E,{color:"default",font:"body-1"},(0,B.A)("This action will delete your entire Watch History. This includes any watched activities visible to others on your Profile or via their activity feed.")),i.createElement(p.E,{color:"default",font:"body-1"},(0,B.A)("If you want to keep this activity data but hide it from others, you can update your Watch History visibility setting above to private.")),i.createElement(p.E,{color:"default",font:"body-1"},(0,B.A)("Please note, deleting this data will not change the watched state of any titles on your Personal Media Server, Plexs On Demand catalog or Discover.")))):null),[l,null==r?void 0:r.userByUsername.watchStats]);return d&&s?i.createElement(bU,{confirmDescription:(0,B.A)("This will delete your Watch History activities and cannot be undone."),confirmTitle:(0,B.A)("Delete Watch History Activity"),errorMessage:(0,B.A)("There was an error while deleting your Watch History Activity."),footerButtonLabel:(0,B.A)("Delete Watch History Activity"),header:(0,B.A)("Delete Watch History"),modalBody:d,modalState:e,useMutation:kU,onDeleteSuccess:c}):null}const zU={sectionTitleContainer:"DeleteDataModal-sectionTitleContainer-D5HvEO"};function _U({label:e,onPress:t}){return i.createElement(Zn.QW,{color:"muted",onPress:t},i.createElement(u.BJ,{gap:"s",orientation:"horizontal",padding:"m",verticalAlign:"center",width:"100%"},i.createElement(u.BJ,{width:"100%"},i.createElement(p.E,{color:"inherit",font:"heading-4"},e)),i.createElement(uU.Q,{color:"inherit",name:"chevron-right"})))}function WU({modalState:e}){const t=(0,Vs.E)(),n=(0,Vs.E)(),a=(0,Vs.E)(),r=(0,RD.A)();(0,iP.A)(void 0,e.isOpen);const s=(0,i.useCallback)((()=>{t.onToggle(),r({action:LD.Gx})}),[t,r]),o=(0,i.useCallback)((()=>{n.onToggle(),r({action:LD.Ul})}),[n,r]),d=(0,i.useCallback)((()=>{a.onToggle(),r({action:LD.rY})}),[a,r]);return i.createElement(Bs.aF,{isOpen:e.isOpen,onOpenChange:e.onOpenChange},i.createElement(Bs.$m,{closeButtonAccessibilityLabel:(0,B.A)("Close"),title:(0,B.A)("Delete Data")},i.createElement(Bs.cw,null,i.createElement(p.E,{color:"default",font:"body-2"},(0,B.A)("You can choose to delete certain data stored with Plex.")),i.createElement(u.BJ,{paddingTop:"m"},i.createElement("div",{className:zU.sectionTitleContainer},i.createElement(p.E,{as:"h2",color:"muted",font:"heading-3"},(0,B.A)("Delete Activities"))),i.createElement(_U,{label:(0,B.A)("My Watch History"),onPress:s}),i.createElement(dU.c,null),i.createElement(_U,{label:(0,B.A)("My Ratings"),onPress:o}),i.createElement("div",{className:zU.sectionTitleContainer},i.createElement(p.E,{as:"h2",color:"muted",font:"heading-3"},(0,B.A)("Delete data stored on Plex"))),i.createElement(_U,{label:(0,B.A)("Watched State & Ratings"),onPress:d}))),i.createElement(Bs.jl,null,i.createElement(Bs.Xd,null,i.createElement(Bs.s_,null,i.createElement(Zn.$n,{label:(0,B.A)("Close")}))))),i.createElement(c.Ay,{metricsPage:l.Gx},i.createElement(HU,{modalState:t})),i.createElement(c.Ay,{metricsPage:l.Ul},i.createElement(TU,{modalState:n})),i.createElement(c.Ay,{metricsPage:l.Kj},i.createElement(jU,{modalState:a})))}var GU=n(57879);const KU={page:"PrivacySettings-page-TwHCWr SettingsPage-content-qemqww PageContent-pageContent-rk0p0C",header:"PrivacySettings-header-X8w0w8"};function qU(){const e=(0,C.d4)(ks.A),t=(0,Vs.E)(),n=(0,Vs.E)(),a=(0,C.d4)((0,Fl.A)(h.up));return i.createElement(c.Ay,{metricsPage:l.Tm},i.createElement(sP.A,{className:KU.page},i.createElement($x.A,{className:KU.header},i.createElement(u.BJ,{gap:"s"},i.createElement(p.E,{color:"primary",font:"heading-2"},(0,B.A)("Privacy")),i.createElement(p.E,{color:"primary",font:"body-1"},(0,B.A)("Privacy policy and Plex activity settings")))),i.createElement(vR.A,{title:(0,B.A)("Settings")}),i.createElement(zL.A,null),e.restricted?null:i.createElement(TL.A,null,i.createElement(zl.A,null,(0,B.A)("Privacy")),i.createElement(fR.A,null,i.createElement(Lm.A,{className:KU.description,message:(0,B.A)("Review our {openPolicyLink}Privacy Policy{closePolicyLink} for more information on the data that we collect, how it is used, and understand your {openAdChoicesLink}AdChoices{closeAdChoicesLink}. You can opt out of sending us certain data using your {openPreferencesLink}Privacy Preferences{closePreferencesLink} page."),tags:[{open:"openPolicyLink",close:"closePolicyLink",component:Xt.A,kind:hu.jd,to:"https://www.plex.tv/about/privacy-legal/",target:"_blank"},{open:"openAdChoicesLink",close:"closeAdChoicesLink",component:Xt.A,kind:hu.jd,to:"https://www.plex.tv/about/privacy-legal/#adchoices",target:"_blank"},{open:"openPreferencesLink",close:"closePreferencesLink",component:Xt.A,kind:hu.jd,to:"https://www.plex.tv/about/privacy-legal/privacy-preferences/#opd",target:"_blank"}]})),i.createElement(u.BJ,{gap:"m",orientation:"vertical",paddingTop:"m"},e.geo.in_privacy_restricted_country?i.createElement("p",null,i.createElement(Xt.A,{kind:hu.jd,onPress:t.onOpen},(0,B.A)("Update my advertising consent settings.")),i.createElement(GU.A,{isOpen:t.isOpen,onModalClose:t.onClose})):null,"US"===e.geo.code&&["California","Colorado","Connecticut","Virginia","Utah"].includes(e.geo.subdivisions)?i.createElement("p",null,i.createElement(Xt.A,{kind:hu.jd,target:"_blank",to:"https://www.plex.tv/vendors-us/"},(0,B.A)("Do Not Sell or Share My Personal Information / Opt-out of Targeted Advertising."))):null)),a?i.createElement(i.Fragment,null,i.createElement(vR.A,{title:(0,B.A)("Delete Data")}),i.createElement(gP.A,{className:KU.input,closedNode:(0,B.A)("You can choose to delete certain data stored with Plex."),editLabel:(0,B.A)("Delete"),title:(0,B.A)("Delete Data"),onTogglePress:n.onOpen}),i.createElement(c.Ay,{metricsPage:l.Tu},i.createElement(WU,{modalState:n}))):null))}var $U=n(22642),JU=n(54021),QU=n(25378),YU=n(73208);function XU(e){const{identifier:t,title:n,isOpen:a,isUpdating:r,hasError:s,optOutStatuses:l,onSubmit:o,onTogglePress:c,onUpdateStatus:d}=e,u=(0,i.useMemo)((()=>{switch(t){case JU.v.IncludeDiscoverSource:return(0,B.A)("Discover Source");case JU.v.IncludeMetadataInSearch:return(0,B.A)("Display More Ways To Watch Search Results");case JU.v.IncludeAvailabilities:return(0,B.A)("Display Availabilities From other Streaming Services On Detail Pages");case JU.v.IncludeSocialProof:return(0,B.A)("Display activity from my friends on detail pages");default:return n||t}}),[t,n]),m=(0,i.useMemo)((()=>t===JU.v.IncludeSocialProof?(0,B.A)("Disabling this feature will hide your friends' activity on all detail pages on all Plex apps signed into your account."):(0,B.A)("Disabling {onlineMediaSource} will remove it from all Plex apps signed in with your account.",{onlineMediaSource:u})),[t,u]),p=(0,i.useMemo)((()=>l[t]||(0,YU.A)(t)),[t,l]),h=(0,i.useMemo)((()=>{const e=[{[JU.F.OptIn]:(0,B.A)("Enabled")},{[JU.F.OptOut]:(0,B.A)("Disabled")}];let n=[...e,{[JU.F.OptOutManaged]:(0,B.A)("Disabled for Managed Accounts")}];return F.cK(t,F.on)||t===JU.v.IncludeSocialProof?n=e:t!==JU.v.IncludeDiscoverSource&&t!==JU.v.IncludeMetadataInSearch||(n=[{[JU.F.OptOutManaged]:(0,B.A)("Disabled for Managed Accounts")},{[JU.F.OptOut]:(0,B.A)("Disabled")}]),n.find((e=>e[p]))?n:[...n,{[p]:p}]}),[t,p]),g=(0,i.useMemo)((()=>h.find((e=>e[p]))[p]),[h,p]);return i.createElement(gP.A,{key:t,closedNode:g,errorMessage:s&&(0,B.A)("Unable to save settings"),isOpen:a,isUpdating:r,title:u,onSubmit:o,onTogglePress:c,onUpdateStatus:d},i.createElement(oc.A,{helpText:m,initialValue:p,labelText:u,name:t,values:h}))}var ZU=Object.defineProperty;class eV extends i.Component{constructor(e,t){super(e,t),((e,t,n)=>{((e,t,n)=>{t in e?ZU(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n)})(this,"createToggleHandler",(e=>t=>{t.preventDefault();const n=this.state.openOptOut===e;this.props.updateError&&this.props.onErrorDismiss(),this.setState({openOptOut:n?null:e})}));const n=Object.values(JU.v);this.state={openOptOut:null,discoverOptOutKeys:n}}UNSAFE_componentWillReceiveProps(e){const t=this.props.showSpinner&&!e.showSpinner,n=this.props.isUpdatePending&&!e.isUpdatePending&&!e.updateError;(t||n)&&this.setState({openOptOut:null})}render(){const{isUnauthorized:e,loadSettingsError:t,showSpinner:n,providerOptOuts:a,optOutStatuses:r,isUpdatePending:s,updateError:o,onUpdateStatus:c}=this.props,{discoverOptOutKeys:d}=this.state;return e?i.createElement(Jv.A,{description:(0,B.A)("You don't have access to Online Media Sources"),title:(0,B.A)("You're not supposed to be here")}):t?i.createElement(QU.A,{title:(0,B.A)("There was an unexpected error loading Online Media Sources")}):n?i.createElement($v.A,null,i.createElement(jp.A,null)):i.createElement(b.A,{metricsPage:l.u4,metricsPane:"onlineMediaSources"},i.createElement(y.A,null,(0,B.A)("Online Media Sources")),(null==a?void 0:a.length)?i.createElement(i.Fragment,null,i.createElement(vR.A,{title:(0,B.A)("General")}),null==a?void 0:a.map((({identifier:e,title:t})=>i.createElement(XU,{key:e,hasError:o,identifier:e,isOpen:this.state.openOptOut===e,isUpdating:s,optOutStatuses:r,title:t,onSubmit:c,onTogglePress:this.createToggleHandler(e),onUpdateStatus:c})))):null,(null==d?void 0:d.length)?i.createElement(i.Fragment,null,i.createElement(vR.A,{title:(0,B.A)("Discover")}),d.map((e=>i.createElement(XU,{key:e,hasError:o,identifier:e,isOpen:this.state.openOptOut===e,isUpdating:s,optOutStatuses:r,onSubmit:c,onTogglePress:this.createToggleHandler(e),onUpdateStatus:c})))):null)}}const tV=eV;var nV=Object.defineProperty,aV=(e,t,n)=>(((e,t,n)=>{t in e?nV(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);const rV=(0,it.Mz)((e=>e.ui.onlineMediaSourcesPage.availableProviders),Ts.A,((e,t)=>{if(!e||!t)return;const n=Object.values(t);return e.filter((({identifier:e})=>{const t=n.find((t=>t.identifier===e));return!F.cK(e,F.OB)&&(!t||t.isPopulated&&Object.values(t.features).some((({type:e})=>e===No.Mm.Content)))}))})),iV=(0,it.Mz)((e=>e.ui.onlineMediaSourcesPage),ks.A,rV,((e,t,n)=>({isUnauthorized:t.restricted,providerOptOuts:n,optOutStatuses:e.optOutStatuses,isAvailableProvidersPending:e.isAvailableProvidersPending,availableProvidersError:e.availableProvidersError,isOptOutStatusesPending:e.isOptOutStatusesPending,optOutStatusesError:e.optOutStatusesError,isUpdatePending:e.isUpdatePending,updateError:e.updateError}))),sV={dispatchInitOnlineMediaSourcesPage:$U.dy,dispatchClearOnlineMediaSourcesUpdateError:$U.st,dispatchUpdateOptOutStatuses:$U.$N};class lV extends i.Component{constructor(){super(...arguments),aV(this,"onErrorDismiss",(()=>{this.props.dispatchClearOnlineMediaSourcesUpdateError()})),aV(this,"onUpdateStatus",(e=>{this.props.dispatchUpdateOptOutStatuses({optOutStatuses:e})}))}componentDidMount(){(0,j.Cc)((()=>{this.props.dispatchInitOnlineMediaSourcesPage()}))}render(){const{isUnauthorized:e,isAvailableProvidersPending:t,availableProvidersError:n,isOptOutStatusesPending:a,optOutStatusesError:r,providerOptOuts:s,optOutStatuses:l,updateError:o,isUpdatePending:c}=this.props;return i.createElement(tV,{isUnauthorized:e,isUpdatePending:c,loadSettingsError:!(!n&&!r),optOutStatuses:l,providerOptOuts:s,showSpinner:t||a,updateError:o,onErrorDismiss:this.onErrorDismiss,onUpdateStatus:this.onUpdateStatus})}}const oV=(0,C.Ng)(iV,sV)(lV);var cV=n(85906),dV=n.n(cV);const uV=K.A.ItemView.extend({template:dV()});var mV=n(77339),pV=n(33519),hV=n.n(pV);const gV=K.A.ItemView.extend({tagName:"li",className:"card-tile-list-item card-2-col-item",template:hV(),ui:{icon:".device-icon"},events:{"click .remove-device-btn":"onRemoveClick"},isMediaServer:function(){if(null==this.isServer){const e=this.model.get("product").toLowerCase();this.isServer="plex media server"===e}return this.isServer},bindings:{".device-icon":{modelAttribute:"product",modelListeners:["product","platform"],manual:!0,formatter:function(e,t){const n=$a(e,this.model.get("platform"));t.attr("src",n)}},".name":{modelAttribute:"name",modelListeners:["name","product"],autohide:!1,formatter:function(e){return e||this.model.get("product")}},".version":{modelAttribute:"productVersion",autohide:!1},".product":{modelAttribute:"product",autohide:!1},".platform":{modelAttribute:"platform",autohide:function(e){return e&&this.isMediaServer()}},".platform-version":{modelAttribute:"platformVersion",autohide:function(e){return e&&this.isMediaServer()}},".device":{modelAttribute:"device",autohide:!1},".last-seen":{modelAttribute:"lastSeenAt",autohide:!0,formatter:function(e){return(0,mV.A)(e)}}},onRemoveClick:function(e){e.preventDefault(),this.isMediaServer()?pe.A.execute("removeServer",{device:this.model}):pe.A.execute("removeDevice",{device:this.model})}}),vV=q.A.extend({tagName:"ul",className:"list card-tile-list",itemView:gV,emptyView:uV});var fV=n(62060),bV=n.n(fV);const yV=K.A.Layout.extend({className:"devices-container",template:bV(),regions:{list:".device-list-container"},events:{"click .devices-dropdown-menu a":"onDeviceTypeDropdownClick"},deviceTypes:[{id:"all",title:"All",ids:["all"]},{id:"web",title:"Web",ids:["Web Client","Plex Web"]},{id:"pht",title:"HTPC",ids:["Plex Home Theater","Plex for Home Theater","PlexHomeTheater","Plex Media Center","Plex Media Player"]},{id:"desktop",title:"Desktop",ids:["Plex for Mac","Plex for Windows","Plex for Linux"]},{id:"pms",title:"Server",ids:["Plex Media Server"]},{id:"android",title:"Android",ids:["Plex for Android","Android","Plex for Android (Mobile)","Plex for Android (TV)"]},{id:"ios",title:"iOS",ids:["Plex/iOS","Plex for iOS"]},{id:"samsung",title:"Samsung",ids:["Plex for Samsung"]},{id:"google-tv",title:"Google TV",ids:["Google TV"]},{id:"apple-tv",title:"Apple TV",ids:["Plex-ATV","Plex for Apple TV"]},{id:"windows-phone",title:"Windows Phone",ids:["Plex for Windows Phone"]},{id:"plexbmc",title:"PleXBMC",ids:["PleXBMC"]},{id:"roku",title:"Roku",ids:["Plex for Roku"]},{id:"popcorn-hour",title:"Popcorn Hour",ids:["Plex for Popcorn Hour"]},{id:"playstation",title:"PlayStation",ids:["Plex for PlayStation 4","Plex for PlayStation 5"],platforms:["Mystery 3"]},{id:"xbox",title:"Xbox",ids:["Plex for Xbox","Plex for Xbox One","Plex for Xbox 360"]},{id:"other",title:"Other",ids:[]}],initialize:function(e){const t=(0,O.hd)("appModel").get("user"),n=t.get("desktop").get("devices");this.model=t,this.collection=n,this.products=this.collection.products(),this.addOtherIds(),this.filteredDeviceTypes=this.getFilteredDeviceTypes(),this.selectedDeviceType=this.getDeviceType(e.deviceTypeID),this.selectedDevices=this.getSelectedDevices(),(0,xy.A)("devices",{deviceTypeID:this.selectedDeviceType.id},!0)},serializeData:function(){return{selectedDeviceType:this.selectedDeviceType,deviceTypes:this.filteredDeviceTypes}},sortDeviceTypes:function(e){return T().sortBy(e,(function(e){return"all"===e.id?"":e.title.toLowerCase()}))},getDeviceType:function(e){const t=this.deviceTypes[0];return e&&this.filteredDeviceTypes.find((t=>t.id===e))||t},getSelectedDevices:function(){if("all"===this.selectedDeviceType.id)return this.collection;{const e=this.collection.filterByProducts(this.selectedDeviceType.ids);if(this.selectedDeviceType.platforms){const t=this.collection.filterByPlatforms(this.selectedDeviceType.platforms);e.add(t.models)}return e}},getFilteredDeviceTypes:function(){const e=this.deviceTypes.filter((function(e){return"all"===e.id||T().intersection(this.products,e.ids).length>0}),this);return this.sortDeviceTypes(e)},addOtherIds:function(){const e=T().flatten(T().map(this.deviceTypes,(function(e){return e.ids}))),t=T().difference(this.products,e),n=T().find(this.deviceTypes,(function(e){return"other"===e.id}));T().each(t,(function(e){n.ids.push(e)}))},onRender:function(){this.list.show(new vV({collection:this.selectedDevices}))},onDeviceTypeDropdownClick:function(e){e.preventDefault();const t=k()(e.currentTarget).data("id");this.selectedDeviceType=this.getDeviceType(t),this.selectedDevices=this.getSelectedDevices(),(0,xy.A)("devices",{deviceTypeID:this.selectedDeviceType.id},!0),this.render()}}),AV=yV,EV=function(){const{deviceTypeID:e}=(0,s.g)(),[t,n]=(0,i.useState)({isDevicesPopulated:!1,devicesError:!1});(0,Lv.A)((()=>{(0,O.hd)("appModel").get("user").get("desktop").get("devices").fetch().then((()=>{n({isDevicesPopulated:!0,devicesError:!1})}),(()=>{n({isDevicesPopulated:!1,devicesError:!0})}))}));const a=!t.isDevicesPopulated&&!t.devicesError,r=!a&&t.devicesError,o=!a&&!r;return i.createElement(i.Fragment,null,a?i.createElement($v.A,null,i.createElement(jp.A,null)):null,r?i.createElement(Jv.A,{title:(0,B.A)("Your devices are unavailable. Please try again later.")}):null,o?i.createElement(b.A,{metricsPage:l.W},i.createElement(y.A,null,(0,B.A)("Authorized Devices")),i.createElement(qv.A,{view:AV,viewOptions:{deviceTypeID:e}})):null)};function SV({component:e,selectedKey:t}){return i.createElement(o.A,null,i.createElement(QC.A,null,i.createElement(zC,{selectedKey:t}),i.createElement(e,null)))}const wV=(0,C.Ng)((function(){return(0,it.Mz)(Rp(),(e=>e))}),(function(e,t){return{dispatchRemove(){t.removeFriend?t.removeFriend():e((0,Zh.zb)({friendEntityID:t.friendEntityID}))}}}))(vO),CV="UsersSettingsPage-button-1sQMEC";var PV=Object.defineProperty,DV=Object.defineProperties,xV=Object.getOwnPropertyDescriptors,kV=Object.getOwnPropertySymbols,OV=Object.prototype.hasOwnProperty,IV=Object.prototype.propertyIsEnumerable,TV=(e,t,n)=>t in e?PV(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,MV=(e,t)=>{for(var n in t||(t={}))OV.call(t,n)&&TV(e,n,t[n]);if(kV)for(var n of kV(t))IV.call(t,n)&&TV(e,n,t[n]);return e},NV=(e,t)=>DV(e,xV(t));function LV(e,t){return e.filter((e=>e.home===t))}const RV=function(e){const{serverEntityID:t,isPending:n,isPopulated:a,allFriendsError:r,allFriends:s,homeDetailsError:o,homeUsersError:c,homeUsers:d,invitesError:u,invites:m,sentInvitesError:p,sentInvites:h,signedInUserId:g,guestEnabled:v,isTogglingGuestUser:f,isSignedInUserAdmin:A,isFullUser:E,hasPlexPass:S,onToggleGuestUser:w}=e,C=LV(m,!0),P=LV(m,!1),D=LV(h,!0),x=LV(h,!1),k=(0,SO.A)(),O=Iv.A.parseBoolean(k.addManagedUser),[I,T]=(0,i.useState)(O),[M,N]=(0,i.useState)(O?Tg.CreatingUser:Tg.None),L=(0,i.useCallback)((e=>{e.preventDefault(),N(Tg.SharingLibrary),T(!0)}),[]),R=(0,i.useCallback)((e=>{e.preventDefault(),N(Tg.AddingUser),T(!0)}),[]),F=(0,i.useCallback)((e=>{e.preventDefault(),N(Tg.CreatingUser),T(!0)}),[]),U=(0,i.useCallback)((()=>{T(!1),N(Tg.None)}),[]);let V;if(o?V=(0,B.A)("An error occurred retrieving home details. Please try again."):c?V=(0,B.A)("An error occurred retrieving home users. Please try again."):r?V=(0,B.A)("An error occurred retrieving friends. Please try again."):(u||p)&&(V=(0,B.A)("An error occurred retrieving invites. Please try again.")),V)return i.createElement(Jv.A,{title:V});const j=a&&E;return i.createElement(b.A,{metricsPage:l.u4,metricsPane:"users-sharing"},i.createElement(y.A,null,(0,B.A)("Manage Library Access")),n&&!a?i.createElement(BP,null):null,a?i.createElement("div",{className:"UsersSettingsPage-homeUsersList-ioneCV"},i.createElement(yO,{title:(0,B.A)("Plex Home")},S&&A?i.createElement(cu.A,{className:CV,size:Ze.o5,onPress:R},(0,B.A)("Invite Existing User")):null,A?i.createElement(gu.A,{className:CV,size:Ze.o5,onPress:F},(0,B.A)("Create Managed Account")):null,A?i.createElement(gu.A,{className:CV,isDisabled:f,isSpinning:f,size:Ze.o5,onPress:w},v?(0,B.A)("Disable Guest"):(0,B.A)("Enable Guest")):null),C.map((e=>i.createElement(PO,NV(MV({key:e.id},e),{hasOtherHomeUsers:d.length>1,isSignedInUserAdmin:A,serverEntityID:t})))),d.map((e=>i.createElement(qO,{key:e,hasOtherHomeUsers:d.length>1,homeUserEntityID:e,isSignedInUserAdmin:A,serverEntityID:t,signedInUserId:g}))),A&&!S?i.createElement("div",{className:"UsersSettingsPage-upsell-VeSmHE"},i.createElement(Lm.A,{className:"UsersSettingsPage-upsellMessage-_9Y8Ph",message:(0,B.A)("Adding other Plex users to your home requires a Plex Pass. {openLink}Learn More{closeLink}"),tags:[{open:"openLink",close:"closeLink",component:Xt.A,to:"https://www.plex.tv/plex-pass/",target:"_blank",kind:hu.jd}]})):null,D.map((e=>i.createElement(DO,NV(MV({key:e.id},e),{serverEntityID:t}))))):null,j?i.createElement(i.Fragment,null,i.createElement(yO,{title:(0,B.A)("Friends")},i.createElement(cu.A,{className:CV,size:Ze.o5,onPress:L},(0,B.A)("Grant Library Access"))),P.map((e=>{const n=e.Server?e.Server.map((e=>NV(MV({},e),{owned:!1}))):void 0;return i.createElement(PO,NV(MV({key:e.id},e),{serverEntityID:t,serverShares:n}))})),s.map((e=>i.createElement(wV,{key:e,friendEntityID:e,serverEntityID:t}))),x.map((e=>{const n=e.Server?e.Server.map((e=>NV(MV({},e),{owned:!0}))):[];return i.createElement(DO,NV(MV({key:e.id},e),{serverEntityID:t,serverShares:n}))}))):null,i.createElement(Mg,{isOpen:I,metricsProperties:{context:Tl.USERS_AND_SHARING},serverEntityID:t,sharingReason:M,onModalClose:U}))};var FV=Object.defineProperty,UV=Object.getOwnPropertySymbols,VV=Object.prototype.hasOwnProperty,jV=Object.prototype.propertyIsEnumerable,BV=(e,t,n)=>t in e?FV(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const HV=(0,it.Mz)(Yh.A,ks.A,((e,t)=>{const n=Object.values(e).find((e=>e.id===t.id));return!(!n||!n.admin)})),zV=(0,it.Mz)((e=>e.cloudServer),ks.A,Jh.A,EO,HV,(0,yh.A)("hasPlexPass"),((e,t,n,a,r,i)=>({serverEntityID:e,isPending:t.isAllFriendsPending||n.isHomeDetailsPending||n.isHomeUsersPending||n.isInvitesPending||n.isSentInvitesPending,isPopulated:t.isAllFriendsPopulated&&n.isHomeDetailsPopulated&&n.isHomeUsersPopulated&&n.isInvitesPopulated&&n.isSentInvitesPopulated,allFriendsError:t.allFriendsError,allFriends:t.allFriends,homeDetailsError:n.homeDetailsError,homeDetails:n.homeDetails,homeUsersError:n.homeUsersError,homeUsers:n.homeUsers,invitesError:n.invitesError,invites:n.invites,sentInvitesError:n.sentInvitesError,sentInvites:n.sentInvites,signedInUserId:t.id,guestEnabled:a.guestEnabled,isTogglingGuestUser:a.isTogglingGuestUser,isSignedInUserAdmin:r,isFullUser:t.isFullUser,hasPlexPass:i}))),_V={dispatchFetchAllFriends:Zh.tX,dispatchFetchHomeDetails:Zh.iN,dispatchFetchHomeUsers:Zh.OC,dispatchFetchInvites:Zh.PA,dispatchFetchSentInvites:Zh.b$,onToggleGuestUser:Zh.Ou};class WV extends i.Component{componentDidMount(){(0,j.Cc)((()=>{this.props.dispatchFetchAllFriends(),this.props.dispatchFetchHomeDetails(),this.props.dispatchFetchHomeUsers(),this.props.dispatchFetchInvites(),this.props.dispatchFetchSentInvites()}))}render(){const e=this.props,{dispatchFetchAllFriends:t,dispatchFetchHomeDetails:n,dispatchFetchHomeUsers:a,dispatchFetchInvites:r,dispatchFetchSentInvites:s}=e,l=((e,t)=>{var n={};for(var a in e)VV.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&UV)for(var a of UV(e))t.indexOf(a)<0&&jV.call(e,a)&&(n[a]=e[a]);return n})(e,["dispatchFetchAllFriends","dispatchFetchHomeDetails","dispatchFetchHomeUsers","dispatchFetchInvites","dispatchFetchSentInvites"]);return i.createElement(RV,((e,t)=>{for(var n in t||(t={}))VV.call(t,n)&&BV(e,n,t[n]);if(UV)for(var n of UV(t))jV.call(t,n)&&BV(e,n,t[n]);return e})({},l))}}const GV=(0,C.Ng)(zV,_V)(WV);var KV=n(55398),qV=n(13585);var $V=Object.defineProperty,JV=(e,t,n)=>(((e,t,n)=>{t in e?$V(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);class QV extends i.Component{constructor(){super(...arguments),JV(this,"onTogglePress",(e=>{this.props.onToggle(this.props.index)})),JV(this,"onRemovePress",(e=>{this.props.onRemove(this.props.url)})),JV(this,"onSubmit",(e=>{this.props.onSubmit(this.props.url,e.url)}))}render(){const{isDirty:e,isOpen:t,isUpdating:n,isRemoving:a,url:r,error:s,onFormChange:l}=this.props,o=n||a;return i.createElement(KV.A,{closedNode:i.createElement("div",null,i.createElement(cr.A,{className:"WebhookFormSection-label-z2vh2b FormLabel-label-KQvmHO CloseableFormSection-isPressable-eZi8MN"},(0,B.A)("URL")),r),errorMessage:(0,JN.A)(s),isOpen:t,onTogglePress:this.onTogglePress},i.createElement(or.Ay,{onChange:l,onSubmit:this.onSubmit},i.createElement(mP.A,{focusOnMount:!0,initialValue:r,isDisabled:o,labelText:(0,B.A)("URL"),name:"url",selectTextOnFocus:!0,validations:r?[pP.x9]:[]}),i.createElement("div",{className:"WebhookFormSection-buttons-nFukIu"},r?i.createElement(gu.A,{className:"WebhookFormSection-dangerButton-zILJXI",isDisabled:o,isSpinning:a,kind:hu.Ol,onPress:this.onRemovePress},(0,B.A)("Remove")):null,i.createElement(gu.A,{className:"WebhookFormSection-button-uNiJ3Y",isDisabled:o||!e,isSpinning:n,kind:hu.jd,type:"submit"},(0,B.A)("Save Changes")))))}}const YV=(0,qV.A)(QV,{isUpdatingPropName:"isUpdating",errorPropName:"error",clearDirtyOnChangePropName:"isOpen"});function XV(e){const t=e["aria-label"],n=e.className,a=e.style,r={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 40 40",id:"plex-icon-marketing-webhooks"};r["aria-hidden"]=!t,r.style=a,r.className=Zo.A.plexIcon+(n?" "+n:"");const s=[i.createElement.apply(i,["path",{d:"M6.665 4.166a.834.834 0 1 1-1.667 0 .834.834 0 0 1 1.667 0zm3.334 0a.834.834 0 1 1-1.668 0 .834.834 0 0 1 1.668 0zm3.333 0a.834.834 0 1 1-1.667 0 .834.834 0 0 1 1.667 0zm2.5 22.498l.001-.002a.834.834 0 0 1 0 1.667H4.168a4.17 4.17 0 0 1-4.166-4.166V4.165A4.17 4.17 0 0 1 4.168-.001h26.664a4.17 4.17 0 0 1 4.166 4.166v13.333a.834.834 0 0 1-1.667 0V8.332H1.667v15.833c0 1.378 1.121 2.5 2.5 2.5h11.665zM4.165 1.666a2.502 2.502 0 0 0-2.5 2.5v2.5H33.33v-2.5c0-1.378-1.12-2.5-2.5-2.5H4.166zm35.418 30.03l.002-.002a.83.83 0 0 1 .305 1.136l-2.499 4.33a.821.821 0 0 1-.506.388.85.85 0 0 1-.633-.085l-1.324-.766a8.668 8.668 0 0 1-1.596.921v1.544c0 .46-.373.834-.834.834h-5a.834.834 0 0 1-.833-.834v-1.536a8.862 8.862 0 0 1-1.62-.924l-1.344.77a.836.836 0 0 1-1.136-.306l-2.5-4.33a.834.834 0 0 1 .305-1.138l1.327-.769a7.67 7.67 0 0 1 0-1.861l-1.325-.766a.832.832 0 0 1-.304-1.139l2.5-4.33a.836.836 0 0 1 1.137-.306l1.34.77a9.048 9.048 0 0 1 1.619-.924V20.83c0-.46.373-.834.833-.834h5c.46 0 .834.373.834.834v1.543a8.84 8.84 0 0 1 1.594.92l1.32-.766a.822.822 0 0 1 .634-.085.837.837 0 0 1 .506.389l2.5 4.33a.834.834 0 0 1-.305 1.138l-1.329.769a8.1 8.1 0 0 1 .002 1.86l1.33.768zm-3.22 3.91v.001l1.665-2.884-1.1-.635a.832.832 0 0 1-.401-.874c.075-.406.113-.815.113-1.215 0-.396-.038-.805-.115-1.215a.83.83 0 0 1 .402-.873l1.098-.635-1.666-2.885-1.085.631a.837.837 0 0 1-.96-.089 7.087 7.087 0 0 0-2.108-1.216.833.833 0 0 1-.542-.781v-1.27h-3.333v1.27a.844.844 0 0 1-.541.785c-.808.3-1.564.731-2.129 1.216a.832.832 0 0 1-.956.09l-1.105-.636-1.67 2.888 1.096.635a.835.835 0 0 1 .402.871c-.08.43-.12.83-.12 1.215.002.408.04.815.117 1.215a.832.832 0 0 1-.404.871l-1.096.635 1.669 2.889 1.11-.636a.831.831 0 0 1 .956.09c.565.486 1.321.916 2.126 1.216.327.12.544.432.544.781v1.27h3.333v-1.27c0-.348.217-.66.544-.781a6.962 6.962 0 0 0 2.106-1.216.837.837 0 0 1 .96-.09l1.09.632zm-6.39-9.774a4.17 4.17 0 0 1 4.166 4.166 4.17 4.17 0 0 1-4.166 4.166 4.17 4.17 0 0 1-4.166-4.166 4.17 4.17 0 0 1 4.166-4.166zm0 6.666c1.379 0 2.5-1.122 2.5-2.5 0-1.379-1.121-2.5-2.5-2.5a2.502 2.502 0 0 0-2.5 2.5c0 1.378 1.122 2.5 2.5 2.5z"}].concat([]))];return t&&s.unshift(i.createElement("title",null,t)),i.createElement.apply(i,["svg",r].concat(s))}XV.propTypes={"aria-label":Xo().string,className:Xo().string,style:Xo().object};const ZV=XV,ej=function(e){const{supportPageUrl:t,hasWebhooksFeature:n,addWebHookButton:a}=e;return i.createElement("div",{className:"WebhookSettingsPageInfo-infoContainer-fBEn_u"},i.createElement(Vm,{iconComponent:ZV,moreInfo:i.createElement(Lm.A,{message:(0,B.A)("See our {openLinkDocumentation}documentation{closeLinkDocumentation} for example projects that showcase the power of webhooks."),tags:[{open:"openLinkDocumentation",close:"closeLinkDocumentation",component:Xt.A,kind:hu.jd,to:t,target:"_blank"}]}),text:(0,B.A)('Hooked on home automation? With a Plex Pass, you can setup "webhooks" - Have Plex dim the lights when you start a movie, or send a tweet after you finish an episode of your favourite TV show.'),title:(0,B.A)("Webhooks")},n?a:i.createElement(HN,{modalMetricsProperties:{context:"webhooks"},origin:Rm.zE})))};var tj=Object.defineProperty,nj=(e,t,n)=>(((e,t,n)=>{t in e?tj(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);class aj extends i.Component{constructor(e,t){super(e,t),nj(this,"onToggle",(e=>{const t=this.state.openFormSectionIndex===e;this.props.onErrorDismiss(),this.props.onToggle(),this.setState({openFormSectionIndex:t?null:e})})),nj(this,"onRemove",(e=>{this.setState({removeWebhookModalURL:e,isRemoveWebhookModalOpen:!0})})),nj(this,"onSubmit",((e,t)=>{e===t?(this.setState({openFormSectionIndex:null}),this.props.onToggle()):this.props.onSubmit(e,t)})),nj(this,"onRemoveWebhookConfirmPress",(e=>{const{removeWebhookModalURL:t}=this.state;this.props.onRemove(t)})),nj(this,"onRemoveWebhookCancelPress",(e=>{this.setState({isRemoveWebhookModalOpen:!1})})),this.state={openFormSectionIndex:null,isRemoveWebhookModalOpen:!1}}UNSAFE_componentWillReceiveProps(e){!e.isRemovingWebhooks&&this.props.isRemovingWebhooks&&this.setState({openFormSectionIndex:null,isRemoveWebhookModalOpen:!1});const t=e.webhooks===this.props.webhooks?-1:T().findIndex(e.webhooks,(e=>""===e.url)),n=-1!==t,a=!e.isUpdatingWebhooks&&!e.updateWebhooksError&&this.props.isUpdatingWebhooks;n?this.setState({openFormSectionIndex:t}):a&&this.setState({openFormSectionIndex:null})}render(){const{isUserRestricted:e,hasWebhooksFeature:t,isWebhooksPending:n,isWebhooksPopulated:a,webhooksError:r,isUpdatingWebhooks:s,isRemovingWebhooks:o,updateWebhooksError:c,webhooks:d,onAddWebhookPress:u}=this.props,{openFormSectionIndex:m,removeWebhookModalURL:p,isRemoveWebhookModalOpen:h}=this.state;if(e)return i.createElement(Jv.A,{description:(0,B.A)("You don't have access to webhooks settings"),title:(0,B.A)("You're not supposed to be here")});if(t&&n)return i.createElement($v.A,null,i.createElement(jp.A,null));const g=d&&d.length,v=!t||!g,f=d&&T().find(d,(e=>""===e.url)),A=a&&d&&g<5&&!f,E=i.createElement(cu.A,{kind:hu.jd,onPress:u},(0,B.A)("Add webhook"));return i.createElement(b.A,{metricsPage:l.u4,metricsPane:"webhooks"},v?i.createElement(ej,{addWebHookButton:E,hasWebhooksFeature:t,supportPageUrl:Nm.pY}):i.createElement(i.Fragment,null,i.createElement(y.A,null,(0,B.A)("Webhooks")),i.createElement("p",null,(0,B.A)("Plex Media Server will make requests to these webhooks on various media playback events.")),i.createElement("p",null,i.createElement(Xt.A,{kind:hu.jd,target:"_blank",to:Nm.pY},(0,B.A)("Learn more"))),d.map(((e,t)=>{const n=m===t;return i.createElement(YV,{key:t,error:n?c:null,index:t,isOpen:n,isRemoving:n&&o,isUpdating:n&&s,url:e.url,onRemove:this.onRemove,onSubmit:this.onSubmit,onToggle:this.onToggle})})),A?i.createElement("div",{className:"WebhookSettingsPage-buttons-Kgz4_y"},E):null),r?i.createElement("div",{className:"WebhookSettingsPage-error-IOVKUZ"},(0,B.A)("An error occurred retrieving webhooks. Please try again.")):null,i.createElement(ru.A,{confirmLabel:(0,B.A)("Remove"),isCancelButtonDisabled:o,isConfirmButtonSpinning:o,isOpen:h,kind:hu.Ol,message:(0,B.A)("Plex will no longer post updates to {url}.",{url:p}),metricsPage:l.c,title:(0,B.A)("Remove Webhook"),onCancel:this.onRemoveWebhookCancelPress,onConfirm:this.onRemoveWebhookConfirmPress}))}}const rj=aj;var ij=Object.defineProperty,sj=Object.getOwnPropertySymbols,lj=Object.prototype.hasOwnProperty,oj=Object.prototype.propertyIsEnumerable,cj=(e,t,n)=>t in e?ij(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const dj=(0,it.Mz)(Jh.A,(0,Ah.A)(h.zE),((e,t)=>({isUserRestricted:!!e.restricted,webhooks:e.webhooks,isWebhooksPending:e.isWebhooksPending,isWebhooksPopulated:e.isWebhooksPopulated,webhooksError:e.webhooksError,isUpdatingWebhooks:e.isUpdatingWebhooks,isRemovingWebhooks:e.isRemovingWebhooks,updateWebhooksError:e.updateWebhooksError,hasWebhooksFeature:t}))),uj={dispatchFetchWebhooks:Zh.HD,onAddWebhookPress:()=>(0,Zh.bH)(),onErrorDismiss:Zh._F,onRemove:e=>(0,Zh.qp)(e),onSubmit:(e,t)=>(0,Zh.Mr)({oldUrl:e,newUrl:t}),onToggle:()=>(0,Zh.qp)("")};class mj extends i.Component{componentDidMount(){this.props.hasWebhooksFeature&&(0,j.Cc)((()=>{this.props.dispatchFetchWebhooks()})),this.props.onErrorDismiss()}render(){const e=this.props,{dispatchFetchWebhooks:t}=e,n=((e,t)=>{var n={};for(var a in e)lj.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&sj)for(var a of sj(e))t.indexOf(a)<0&&oj.call(e,a)&&(n[a]=e[a]);return n})(e,["dispatchFetchWebhooks"]);return i.createElement(rj,((e,t)=>{for(var n in t||(t={}))lj.call(t,n)&&cj(e,n,t[n]);if(sj)for(var n of sj(t))oj.call(t,n)&&cj(e,n,t[n]);return e})({},n))}}const pj=(0,C.Ng)(dj,uj)(mj);function hj(){return i.createElement(s.dO,null,i.createElement(s.rd,{exact:!0,from:v.A.serverSettingsPMS,to:(0,s.tW)(v.A.serverSettings,{machineIdentifier:":machineIdentifier",settingsSection:"settings",settingsGroup:"general"})}),i.createElement(s.qh,{component:YC,exact:!0,path:v.A.serverSettings}),i.createElement(s.rd,{exact:!0,from:v.A.accountPlexTv,to:v.A.account}),i.createElement(s.qh,{exact:!0,path:v.A.account},i.createElement(SV,{component:cU,selectedKey:"account"})),i.createElement(s.qh,{exact:!0,path:v.A.privacy},i.createElement(SV,{component:qU,selectedKey:"privacy"})),i.createElement(s.qh,{exact:!0,path:v.A.watchlistRSS},i.createElement(SV,{component:WN,selectedKey:"watchlist"})),i.createElement(s.qh,{exact:!0,path:v.A.webhooks},i.createElement(SV,{component:pj,selectedKey:"webhooks"})),i.createElement(s.qh,{exact:!0,path:v.A.streamingServices},i.createElement(SV,{component:DN,selectedKey:"streaming-services"})),i.createElement(s.qh,{exact:!0,path:v.A.plexHome},i.createElement(SV,{component:aI,selectedKey:"plex-home"})),i.createElement(s.qh,{exact:!0,path:v.A.manageLibraryAccess},i.createElement(c.Ay,{metricsPage:l.Xp},i.createElement(SV,{component:AO,selectedKey:"manage-library-access"}))),i.createElement(s.qh,{exact:!0,path:v.A.plexHomeSharing},i.createElement(c.Ay,{metricsPage:l.oV},i.createElement(SV,{component:ok,selectedKey:"plex-home"}))),i.createElement(s.qh,{exact:!0,path:v.A.manageLibraryAccessSharing},i.createElement(c.Ay,{metricsPage:l.oV},i.createElement(SV,{component:ok,selectedKey:"manage-library-access"}))),i.createElement(s.qh,{exact:!0,path:v.A.usersSharing},i.createElement(SV,{component:GV,selectedKey:"users-sharing"})),i.createElement(s.qh,{exact:!0,path:v.A.userSharingSettings},i.createElement(SV,{component:ZT,selectedKey:"users-sharing"})),i.createElement(s.qh,{exact:!0,path:v.A.onlineMediaSources},i.createElement(SV,{component:oV,selectedKey:"online-media-sources"})),i.createElement(s.qh,{exact:!0,path:v.A.webSettingsExperiments},i.createElement(SV,{component:w,selectedKey:"experiments"})),i.createElement(s.qh,{exact:!0,path:v.A.webSettings},i.createElement(o.A,null,i.createElement(QC.A,null,i.createElement(pN,null)))),i.createElement(s.qh,{exact:!0,path:v.A.devices},i.createElement(SV,{component:EV,selectedKey:"devices"})),i.createElement(s.rd,{to:v.A.webSettings}))}},66479:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var a=n(96540),r=n(71468),i=n(42019);const s=function(e){const{tab:t,component:n,onPress:s}=e,l=(0,r.wA)(),o=(0,a.useCallback)((e=>{const n=e.currentTarget.getAttribute("href");n&&(0===e.button||e.touches)&&(e.stopPropagation(),l((0,i.oo)({pathname:n,replace:!0}))),s(t.id)}),[t,s,l]);return a.createElement(n,{isDisabled:t.isDisabled,isSelected:t.isSelected,to:t.route,onPress:o},t.title)}},98467:(e,t,n)=>{"use strict";n.d(t,{A:()=>z});var a=n(96540),r=n(98920),i=n(32485),s=n.n(i),l=n(37423),o=n(89302);var c=Object.defineProperty,d=Object.getOwnPropertySymbols,u=Object.prototype.hasOwnProperty,m=Object.prototype.propertyIsEnumerable,p=(e,t,n)=>t in e?c(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;function h(e){const t=e,{className:n,children:r,isSelected:i}=t,c=((e,t)=>{var n={};for(var a in e)u.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&d)for(var a of d(e))t.indexOf(a)<0&&m.call(e,a)&&(n[a]=e[a]);return n})(t,["className","children","isSelected"]);return a.createElement(l.A,((e,t)=>{for(var n in t||(t={}))u.call(t,n)&&p(e,n,t[n]);if(d)for(var n of d(t))m.call(t,n)&&p(e,n,t[n]);return e})({className:s()(n,i&&"PageHeaderTabButton-isSelected-gqt8tL"),"data-testid":"tabButton",size:o.o5},c),r)}h.defaultProps={className:"PageHeaderTabButton-button-aP9Avj Button-button-TxWeuE Link-link-SxPFpG"};const g=h;var v=n(39530),f=n(60710),b=n(89512),y=n(14890),A=n(45498),E=n(84230);var S=Object.defineProperty,w=Object.defineProperties,C=Object.getOwnPropertyDescriptors,P=Object.getOwnPropertySymbols,D=Object.prototype.hasOwnProperty,x=Object.prototype.propertyIsEnumerable,k=(e,t,n)=>t in e?S(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const O={placement:"bottom-start",modifiers:[{name:"offset",options:{offset:[parseInt(E.A.pageHeaderTabButtonLeftRightMargin,10)]}}]},I=function(e){const t=e,{tabs:n,component:r,onPress:i}=t,l=((e,t)=>{var n={};for(var a in e)D.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&P)for(var a of P(e))t.indexOf(a)<0&&x.call(e,a)&&(n[a]=e[a]);return n})(t,["tabs","component","onPress"]),{menuButtonID:o,isMenuOpen:c,onMenuButtonPress:d,onMenuClose:u}=(0,A.A)(),m=(0,a.useCallback)((e=>{u(),i&&i(e)}),[i,u]),p=n.find((e=>e.isSelected))||n[0];return a.createElement("div",{className:"PageHeaderTabDropdown-container-s6_y_K","data-testid":"tabDropDown",id:o},a.createElement(g,{className:"PageHeaderTabDropdown-button-HKmBUj PageHeaderTabButton-button-aP9Avj Button-button-TxWeuE Link-link-SxPFpG",isSelected:p.isSelected,onPress:d},a.createElement("div",{className:"PageHeaderTabDropdown-buttonContents-X2SPy2"},a.createElement("div",{className:"PageHeaderTabDropdown-title-eSs4os"},p.title),a.createElement(v.A,{className:s()("PageHeaderTabDropdown-disclosureArrow-mFj1jP DisclosureArrow-disclosureArrow-NTDkGd",p.isSelected&&"PageHeaderTabDropdown-isSelected-SvXSbi"),direction:c?b.UP:b.PX}))),a.createElement(f.A,{isOpen:c,options:O,target:o,onMenuClose:u},n.map(((e,t)=>{return a.createElement(r,(n=((e,t)=>{for(var n in t||(t={}))D.call(t,n)&&k(e,n,t[n]);if(P)for(var n of P(t))x.call(t,n)&&k(e,n,t[n]);return e})({},l),i={key:t,component:y.A,tab:e,onPress:m},w(n,C(i))));var n,i}))))};var T=n(66479);var M=Object.defineProperty,N=Object.defineProperties,L=Object.getOwnPropertyDescriptors,R=Object.getOwnPropertySymbols,F=Object.prototype.hasOwnProperty,U=Object.prototype.propertyIsEnumerable,V=(e,t,n)=>t in e?M(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,j=(e,t)=>{for(var n in t||(t={}))F.call(t,n)&&V(e,n,t[n]);if(R)for(var n of R(t))U.call(t,n)&&V(e,n,t[n]);return e},B=(e,t)=>N(e,L(t));function H(e){const t=e,{tabs:n,component:i,hideSingleTabs:s}=t,l=((e,t)=>{var n={};for(var a in e)F.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&R)for(var a of R(e))t.indexOf(a)<0&&U.call(e,a)&&(n[a]=e[a]);return n})(t,["tabs","component","hideSingleTabs"]),[o,c]=(0,a.useState)(0),d=(0,a.useCallback)((e=>{c(e.width)}),[]),[u,m]=(0,a.useState)(0),p=(0,a.useCallback)((e=>{m(e.width)}),[]),h=n.length<2,v=n.length>1&&u>o;return h&&s?null:a.createElement(r.A,{className:"TabsPageHeaderCenter-pageHeaderCenter-FVRU4z PageHeaderCenter-pageHeaderCenter-mMF86x",ignoreHeight:!0,onMeasure:d},v?a.createElement(I,B(j({},l),{component:i,tabs:n})):a.createElement(r.A,{ignoreHeight:!0,onMeasure:p},n.map(((e,t)=>a.createElement(i,B(j({},l),{key:t,component:g,tab:e}))))))}H.defaultProps={component:T.A,hideSingleTabs:!0};const z=H},28602:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var a=n(96540),r=n(49184);function i({children:e,className:t,metricsPage:n,metricsPane:i,scrollTop:s,onScrollPositionChange:l}){return a.createElement(r.A,{autoScroll:!0,metricsPage:n,metricsProperties:{pane:i},scrollTop:s,onScrollPositionChange:l},a.createElement("div",{className:t},e))}i.defaultProps={className:"SettingsPage-content-qemqww PageContent-pageContent-rk0p0C"};const s=i},15088:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var a=n(96540);function r(e){return a.createElement("h2",{className:e.className},e.children)}r.defaultProps={className:"SettingsPageHeader-header-Ra2WXw"};const i=r},13004:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});var a=n(42731);function r(e,t){switch((0,a.KD)(e,t)){case a.S3:return 114;case a.Yc:return 64;case a.mH:return 74}}},27132:(e,t,n)=>{var a=n(93633);e.exports=(a.default||a).template((function(e,t,n,a,r){return this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),r=r||{},'<svg class="circle-progress-bar" version="1.1" xmlns="http://www.w3.org/2000/svg"> <circle fill="transparent"></circle> </svg> <div class="circle-progress-text"></div> '}))},26575:e=>{e.exports=function(){return""}},59272:(e,t,n)=>{var a=n(93633);function r(e){return e&&(e.__esModule?e.default:e)}e.exports=(a.default||a).template((function(e,t,a,i,s){this.compilerInfo=[4,">= 1.0.0"],a=this.merge(a,e.helpers),s=s||{};var l,o="",c=this,d=this.escapeExpression;function u(e,t){return"disabled"}return o+='<div class="filter-bar"> <span class="page-count">'+d(r(n(46353)).call(t,"Page {1} of {2}",t&&t.escapedPage,t&&t.escapedPages,{hash:{},data:s}))+"</span> ",l=a.unless.call(t,t&&t.shared,{hash:{},inverse:c.noop,fn:c.program(1,(function(e,t){var n,r="";return r+=' <div class="filter-bar-right"> <a class="previous-btn btn-gray ',((n=a.unless.call(e,e&&e.enablePrevious,{hash:{},inverse:c.noop,fn:c.program(2,u,t),data:t}))||0===n)&&(r+=n),r+='" href="#"> <i class="glyphicon chevron-left"></i> </a> <a class="next-btn btn-gray ',((n=a.unless.call(e,e&&e.enableNext,{hash:{},inverse:c.noop,fn:c.program(2,u,t),data:t}))||0===n)&&(r+=n),r+'" href="#"> <i class="glyphicon chevron-right"></i> </a> </div> '}),s),data:s}),(l||0===l)&&(o+=l),o+=" </div> ",l=a.if.call(t,t&&t.shared,{hash:{},inverse:c.program(6,(function(e,t){return' <div class="alert-list-container"></div> '}),s),fn:c.program(4,(function(e,t){return""+' <div class="row row-padded"> <div class="col-md-8 col-md-offset-2"> <h4 class="text-muted text-center">'+d(r(n(46353)).call(e,"Alerts are restricted from shared users.",{hash:{},data:t}))+"</h4> </div> </div> "}),s),data:s}),(l||0===l)&&(o+=l),o+" "}))},94417:(e,t,n)=>{var a=n(93633);function r(e){return e&&(e.__esModule?e.default:e)}e.exports=(a.default||a).template((function(e,t,a,i,s){this.compilerInfo=[4,">= 1.0.0"],a=this.merge(a,e.helpers),s=s||{};var l,o="",c=this,d=this.escapeExpression;function u(e,t){return"hidden"}return o+='<div class="conversion-filter-bar filter-bar"> ',l=a.if.call(t,t&&t.hasPausedSetting,{hash:{},inverse:c.noop,fn:c.program(1,(function(e,t){var i,s="";return s+=' <div class="filter-bar-right"> <button class="pause-btn btn btn-sm btn-default ',((i=a.if.call(e,e&&e.isPaused,{hash:{},inverse:c.noop,fn:c.program(2,u,t),data:t}))||0===i)&&(s+=i),s+='">'+d(r(n(46353)).call(e,"Pause",{hash:{},data:t}))+'</button> <button class="resume-btn btn btn-sm btn-primary ',((i=a.unless.call(e,e&&e.isPaused,{hash:{},inverse:c.noop,fn:c.program(2,u,t),data:t}))||0===i)&&(s+=i),s+'">'+d(r(n(46353)).call(e,"Resume",{hash:{},data:t}))+"</button> </div> "}),s),data:s}),(l||0===l)&&(o+=l),o+=" </div> ",l=a.if.call(t,t&&t.errorMessage,{hash:{},inverse:c.program(6,(function(e,t){return""+' <p class="conversion-status-message">'+d(r(n(46353)).call(e,"Manage your completed conversions in {1}Optimized Versions Settings{2}.",'<a href="{3}">',"</a>",e&&e.manageVersionsRoute,{hash:{},data:t}))+"</p> "}),s),fn:c.program(4,(function(e,t){var a;return""+' <p class="conversion-error-message"><i class="conversion-error-icon glyphicon circle-exclamation-mark text-danger"></i> '+d("function"==typeof(a=e&&e.errorMessage)?a.apply(e):a)+" "+d(r(n(46353)).call(e,"Check the status in {1}Optimized Versions Settings{2}.",'<a href="{3}">',"</a>",e&&e.manageVersionsRoute,{hash:{},data:t}))+"</p> "}),s),data:s}),(l||0===l)&&(o+=l),o+=" ",l=a.if.call(t,t&&t.shouldShowList,{hash:{},inverse:c.program(10,(function(e,t){return""+' <div class="row row-padded"> <h4 class="text-muted text-center"> '+d(r(n(46353)).call(e,"This requires Plex Media Server {1} or later.",e&&e.escapedMinServerVersion,{hash:{},data:t}))+" </h4> </div> "}),s),fn:c.program(8,(function(e,t){var n,r="";return r+=' <div class="conversion-queue-empty-region"></div> <div class="conversion-queue-up-next-list-region"></div> <hr class="conversion-queue-divider ',((n=a.unless.call(e,e&&e.shouldShowDivider,{hash:{},inverse:c.noop,fn:c.program(2,u,t),data:t}))||0===n)&&(r+=n),r+'"> <div class="conversion-queue-after-up-next-list-region"></div> '}),s),data:s}),(l||0===l)&&(o+=l),o+" "}))},18587:(e,t,n)=>{var a=n(93633);function r(e){return e&&(e.__esModule?e.default:e)}e.exports=(a.default||a).template((function(e,t,a,i,s){this.compilerInfo=[4,">= 1.0.0"],a=this.merge(a,e.helpers),s=s||{};var l,o="",c=this.escapeExpression,d=this;return o+='<div class="modal-dialog"> <div class="modal-content"> <div class="modal-header"> <button type="button" class="close" data-dismiss="modal"><i class="glyphicon remove-2"></i></button> <h4 class="modal-title"> <i class="modal-icon glyphicon cogwheel"></i> ',l=r(n(1519)).call(t,t&&t.title,"Preferences...",{hash:{},inverse:d.program(3,(function(e,t){return""+" "+c(r(n(46353)).call(e,"{1} Settings",e&&e.escapedTitle,{hash:{},data:t}))+" "}),s),fn:d.program(1,(function(e,t){return""+" "+c(r(n(46353)).call(e,"Directory Settings",{hash:{},data:t}))+" "}),s),data:s}),(l||0===l)&&(o+=l),o+=' </h4> </div> <form id="channel-settings-form"> <div class="modal-body settings-container"> ',l=a.each.call(t,t&&t.settings,{hash:{},inverse:d.noop,fn:d.program(5,(function(e,t){return""+" "+c(r(n(6924)).call(e,"setting",{hash:{idSuffix:"_c"},data:t}))+" "}),s),data:s}),(l||0===l)&&(o+=l),o+' </div> <div class="modal-footer"> <button type="button" class="cancel-btn btn btn-lg btn-default" data-dismiss="modal">'+c(r(n(46353)).call(t,"Cancel",{hash:{},data:s}))+'</button> <button type="submit" class="submit-btn btn btn-lg btn-primary btn-loading"> <div class="loading loading-sm"></div> <span class="btn-label">'+c(r(n(46353)).call(t,"Save",{hash:{},data:s}))+"</span> </button> </div> </form> </div> </div> "}))},1306:(e,t,n)=>{var a=n(93633);e.exports=(a.default||a).template((function(e,t,n,a,r){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),r=r||{};var i,s="",l=this;function o(e,t){return' <button class="settings-btn media-poster-btn btn-link" tabindex="-1"><i class="glyphicon cogwheel"></i></button> '}return s+='<div class="media-poster-container"> <div class="media-poster"> ',i=n.unless.call(t,t&&t.shared,{hash:{},inverse:l.noop,fn:l.program(1,(function(e,t){var a,r="";return r+=' <div class="media-poster-overlay"></div> <div class="media-poster-actions"> ',((a=n.if.call(e,null==(a=e&&e.item)||!1===a?a:a.hasPrefs,{hash:{},inverse:l.noop,fn:l.program(2,o,t),data:t}))||0===a)&&(r+=a),r+' <button class="uninstall-btn media-poster-btn btn-link btn-danger" tabindex="-1"><i class="glyphicon remove-2"></i></button> </div> '}),r),data:r}),(i||0===i)&&(s+=i),s+' <div class="loading loading-inline"></div> </div> <div class="media-title media-heading"></div> <div class="media-subtitle-1 media-heading secondary"></div> </div> '}))},64485:(e,t,n)=>{var a=n(93633);function r(e){return e&&(e.__esModule?e.default:e)}e.exports=(a.default||a).template((function(e,t,a,i,s){this.compilerInfo=[4,">= 1.0.0"],a=this.merge(a,e.helpers),s=s||{};var l,o="",c="function",d=this.escapeExpression,u=this;return o+='<ul class="nav nav-header pull-right"> <li><a class="all-btn btn-gray selected" href="#">'+d(r(n(46353)).call(t,"All",{hash:{},data:s})),l=a.if.call(t,t&&t.allCount,{hash:{},inverse:u.noop,fn:u.program(1,(function(e,t){var n;return""+'<span class="badge">'+d(typeof(n=e&&e.allCount)===c?n.apply(e):n)+"</span>"}),s),data:s}),(l||0===l)&&(o+=l),o+='</a></li> <li><a class="video-btn btn-gray" href="#">'+d(r(n(46353)).call(t,"Video",{hash:{},data:s})),l=a.if.call(t,t&&t.videoCount,{hash:{},inverse:u.noop,fn:u.program(3,(function(e,t){var n;return""+'<span class="badge">'+d(typeof(n=e&&e.videoCount)===c?n.apply(e):n)+"</span>"}),s),data:s}),(l||0===l)&&(o+=l),o+='</a></li> <li><a class="music-btn btn-gray" href="#">'+d(r(n(46353)).call(t,"Music",{hash:{},data:s})),l=a.if.call(t,t&&t.musicCount,{hash:{},inverse:u.noop,fn:u.program(5,(function(e,t){var n;return""+'<span class="badge">'+d(typeof(n=e&&e.musicCount)===c?n.apply(e):n)+"</span>"}),s),data:s}),(l||0===l)&&(o+=l),o+='</a></li> <li><a class="photo-btn btn-gray" href="#">'+d(r(n(46353)).call(t,"Photo",{hash:{},data:s})),l=a.if.call(t,t&&t.photoCount,{hash:{},inverse:u.noop,fn:u.program(7,(function(e,t){var n;return""+'<span class="badge">'+d(typeof(n=e&&e.photoCount)===c?n.apply(e):n)+"</span>"}),s),data:s}),(l||0===l)&&(o+=l),o+="</a></li> </ul> <h2>"+d(r(n(46353)).call(t,"Plugins",{hash:{},data:s}))+"</h2> ",l=a.unless.call(t,t&&t.hasInstalledChannels,{hash:{},inverse:u.noop,fn:u.program(9,(function(e,t){return""+' <p style="padding:20px">'+d(r(n(46353)).call(e,"No plugins installed.",{hash:{},data:t}))+"</p> "}),s),data:s}),(l||0===l)&&(o+=l),o+' <div class="channels-container"></div> '}))},26179:(e,t,n)=>{var a=n(93633);function r(e){return e&&(e.__esModule?e.default:e)}e.exports=(a.default||a).template((function(e,t,a,i,s){this.compilerInfo=[4,">= 1.0.0"],a=this.merge(a,e.helpers),s=s||{};var l,o="",c=this,d=this.escapeExpression,u="function";function m(e,t){return' <i class="server-alert-icon glyphicon bullhorn"></i> '}function p(e,t){var a;return(a=r(n(1519)).call(e,null==(a=e&&e.event)||!1===a?a:a._type,"playing",{hash:{},inverse:c.program(9,g,t),fn:c.program(7,h,t),data:t}))||0===a?a:""}function h(e,t){return' <i class="server-alert-icon glyphicon imac"></i> '}function g(e,t){var a;return(a=r(n(1519)).call(e,null==(a=e&&e.event)||!1===a?a:a._type,"websocket",{hash:{},inverse:c.program(13,b,t),fn:c.program(10,v,t),data:t}))||0===a?a:""}function v(e,t){var n,r="";return r+=" ",((n=a.if.call(e,null==(n=e&&e.event)||!1===n?n:n.opened,{hash:{},inverse:c.program(11,f,t),fn:c.program(4,m,t),data:t}))||0===n)&&(r+=n),r+" "}function f(e,t){return' <i class="server-alert-icon glyphicon warning-sign"></i> '}function b(e,t){var a;return(a=r(n(1519)).call(e,null==(a=e&&e.event)||!1===a?a:a.state,0,{hash:{},inverse:c.program(16,A,t),fn:c.program(14,y,t),data:t}))||0===a?a:""}function y(e,t){return' <i class="server-alert-icon glyphicon plus"></i> '}function A(e,t){var a;return(a=r(n(1519)).call(e,null==(a=e&&e.event)||!1===a?a:a.state,5,{hash:{},inverse:c.program(19,S,t),fn:c.program(17,E,t),data:t}))||0===a?a:""}function E(e,t){return' <i class="server-alert-icon glyphicon ok-2"></i> '}function S(e,t){var a;return(a=r(n(1519)).call(e,null==(a=e&&e.event)||!1===a?a:a.state,6,{hash:{},inverse:c.program(22,C,t),fn:c.program(20,w,t),data:t}))||0===a?a:""}function w(e,t){return' <i class="server-alert-icon glyphicon magic"></i> '}function C(e,t){var a;return(a=r(n(1519)).call(e,null==(a=e&&e.event)||!1===a?a:a.state,9,{hash:{},inverse:c.program(25,D,t),fn:c.program(23,P,t),data:t}))||0===a?a:""}function P(e,t){return' <i class="server-alert-icon glyphicon bin"></i> '}function D(e,t){return' <i class="server-alert-icon glyphicon tags"></i> '}function x(e,t){var n,r="";return r+=" ",((n=a.if.call(e,null==(n=e&&e.event)||!1===n?n:n.message,{hash:{},inverse:c.program(33,O,t),fn:c.program(31,k,t),data:t}))||0===n)&&(r+=n),r+" "}function k(e,t){var a;return""+" "+d(r(n(46353)).call(e,null==(a=e&&e.event)||!1===a?a:a.message,{hash:{},data:t}))+" "}function O(e,t){var i,s="";return s+=" "+d(r(n(46353)).call(e,null==(i=e&&e.event)||!1===i?i:i.title,{hash:{},data:t})),((i=a.if.call(e,null==(i=e&&e.event)||!1===i?i:i.description,{hash:{},inverse:c.noop,fn:c.program(34,I,t),data:t}))||0===i)&&(s+=i),s+" "}function I(e,t){var a;return""+": "+d(r(n(46353)).call(e,null==(a=e&&e.event)||!1===a?a:a.description,{hash:{},data:t}))}function T(e,t){var a;return(a=r(n(1519)).call(e,null==(a=e&&e.event)||!1===a?a:a._type,"timeline",{hash:{},inverse:c.program(39,N,t),fn:c.program(37,M,t),data:t}))||0===a?a:""}function M(e,t){var a;return""+" "+d(r(n(46353)).call(e,null==(a=e&&e.event)||!1===a?a:a.stateString,{hash:{},data:t}))+' <a href="#!/server/'+d(r(n(7982)).call(e,e&&e.serverID,{hash:{},data:t}))+"/details?key="+d(r(n(7982)).call(e,e&&e.itemKey,{hash:{},data:t}))+'">'+d(typeof(a=null==(a=e&&e.event)||!1===a?a:a.mediaTitle)===u?a.apply(e):a)+"</a> "}function N(e,t){var a;return(a=r(n(1519)).call(e,null==(a=e&&e.event)||!1===a?a:a._type,"playing",{hash:{},inverse:c.program(45,U,t),fn:c.program(40,L,t),data:t}))||0===a?a:""}function L(e,t){var n,r="";return r+=" ",((n=a.if.call(e,null==(n=e&&e.event)||!1===n?n:n.player,{hash:{},inverse:c.program(43,F,t),fn:c.program(41,R,t),data:t}))||0===n)&&(r+=n),r+" "}function R(e,t){return""+" "+d(r(n(46353)).call(e,"{1} started playing {2} on {3}.",e&&e.escapedEventUsername,e&&e.escapedEventTitle,e&&e.escapedEventPlayer,{hash:{},data:t}))+" "}function F(e,t){return""+" "+d(r(n(46353)).call(e,"{1} started playing {2}.",e&&e.escapedEventUsername,e&&e.escapedEventTitle,{hash:{},data:t}))+" "}function U(e,t){var a;return(a=r(n(1519)).call(e,null==(a=e&&e.event)||!1===a?a:a._type,"websocket",{hash:{},inverse:c.noop,fn:c.program(46,V,t),data:t}))||0===a?a:""}function V(e,t){var n,r="";return r+=" ",((n=a.if.call(e,null==(n=e&&e.event)||!1===n?n:n.opened,{hash:{},inverse:c.program(49,B,t),fn:c.program(47,j,t),data:t}))||0===n)&&(r+=n),r+" "}function j(e,t){return""+" "+d(r(n(46353)).call(e,"Opened connection to {1}, listening for events.",e&&e.escapedServerName,{hash:{},data:t}))+" "}function B(e,t){var n;return(n=a.if.call(e,null==(n=e&&e.event)||!1===n?n:n.closed,{hash:{},inverse:c.program(52,z,t),fn:c.program(50,H,t),data:t}))||0===n?n:""}function H(e,t){return""+" "+d(r(n(46353)).call(e,"Connection to {1} closed.",e&&e.escapedServerName,{hash:{},data:t}))+" "}function z(e,t){return""+" "+d(r(n(46353)).call(e,"Unable to listen for events on {1}.",e&&e.escapedServerName,{hash:{},data:t}))+" "}return o+='<div class="striped-list-inner-item alert-list-inner-item"> ',l=r(n(1519)).call(t,null==(l=t&&t.event)||!1===l?l:l._type,"setting",{hash:{},inverse:c.program(3,(function(e,t){var a;return(a=r(n(1519)).call(e,null==(a=e&&e.event)||!1===a?a:a._type,"status",{hash:{},inverse:c.program(6,p,t),fn:c.program(4,m,t),data:t}))||0===a?a:""}),s),fn:c.program(1,(function(e,t){return' <i class="server-alert-icon glyphicon cogwheel"></i> '}),s),data:s}),(l||0===l)&&(o+=l),o+=' <div class="server-alert-details"> <span class="server-alert-time">'+d(r(n(97764)).call(t,null==(l=t&&t.event)||!1===l?l:l.time,t&&t.timeFormat,{hash:{},data:s}))+"</span> ",l=r(n(1519)).call(t,null==(l=t&&t.event)||!1===l?l:l._type,"setting",{hash:{},inverse:c.program(29,(function(e,t){var a;return(a=r(n(1519)).call(e,null==(a=e&&e.event)||!1===a?a:a._type,"status",{hash:{},inverse:c.program(36,T,t),fn:c.program(30,x,t),data:t}))||0===a?a:""}),s),fn:c.program(27,(function(e,t){return""+" "+d(r(n(46353)).call(e,"{1} set to {2}.",e&&e.escapedEventLabel,e&&e.escapedEventValue,{hash:{},data:t}))+" "}),s),data:s}),(l||0===l)&&(o+=l),o+" </div> </div> "}))},52900:(e,t,n)=>{var a=n(93633);function r(e){return e&&(e.__esModule?e.default:e)}e.exports=(a.default||a).template((function(e,t,a,i,s){this.compilerInfo=[4,">= 1.0.0"],a=this.merge(a,e.helpers),s=s||{};var l="",o=this.escapeExpression;return l+'<div class="row row-padded"> <h4 class="text-muted text-center"> <p>'+o(r(n(46353)).call(t,"Conversions for media optimization will appear here.",{hash:{},data:s}))+"</p> <p>"+o(r(n(46353)).call(t,"Manage your optimized versions in {1}Optimized Versions Settings{2}.",'<a href="{3}">',"</a>",t&&t.manageVersionsRoute,{hash:{},data:s}))+"</p> </h4> </div> "}))},42348:(e,t,n)=>{var a=n(93633);e.exports=(a.default||a).template((function(e,t,n,a,r){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),r=r||{};var i,s,l="";return l+='<div class="show-actions striped-list-inner-item playlist-inner-item ',l+=(0,this.escapeExpression)((s=n.type)||"function"==typeof(s=t&&t.type)?s.call(t,{hash:{},data:r}):s)+'"> <div class="media-actions media-reorder"> ',((i=n.unless.call(t,t&&t.hideDragHandle,{hash:{},inverse:this.noop,fn:this.program(1,(function(e,t){return' <div class="sortable-handle btn-gray-link"><i class="glyphicon show-lines"></i></div> '}),r),data:r}))||0===i)&&(l+=i),l+' </div> <div class="generator-poster-container"> <div class="media-poster"></div> </div> <div class="media-actions generator-actions"> <button class="promote-btn media-action-btn btn-gray-link" tabindex="-1"><i class="glyphicon up-arrow"></i></button> <button class="delete-btn media-action-btn btn-gray-link btn-danger" tabindex="-1"><i class="glyphicon remove-2"></i></button> </div> <div class="media-item"> <div class="media-details"> <div class="generator-title col-lg"></div> <div class="generator-target col-md col-secondary"></div> <div class="conversion-status-region col-md col-secondary"></div> </div> </div> </div> '}))},35649:(e,t,n)=>{var a=n(93633);function r(e){return e&&(e.__esModule?e.default:e)}e.exports=(a.default||a).template((function(e,t,a,i,s){this.compilerInfo=[4,">= 1.0.0"],a=this.merge(a,e.helpers),s=s||{};var l,o="",c=this.escapeExpression;return o+'<div class="conversion-status-container conversion-status-converting"> <div class="progress-bar-region"></div> <div class="conversion-status-converting-label-container"> <span class="conversion-status-converting-label">'+c(r(n(46353)).call(t,"Converting",{hash:{},data:s}))+'</span> <span class="conversion-status-converting-speed"></span> <div class="conversion-status-converting-progress"> <span class="conversion-status-converting-percentage"></span> <span class="conversion-status-converting-progress-separator">&middot;</span> <span class="conversion-status-converting-remaining"></span> </div> </div> </div> <div class="conversion-status-container conversion-status-processed"> <i class="conversion-status-icon glyphicon ok-2 text-success"></i> '+c(r(n(46353)).call(t,"Complete",{hash:{},data:s}))+' </div> <div class="conversion-status-container conversion-status-disabled"> <i class="conversion-status-icon glyphicon circle-exclamation-mark text-danger"></i> '+c(r(n(46353)).call(t,"Deleted",{hash:{},data:s}))+' <button class="enable-btn media-action-btn btn-gray-link" tabindex="-1"><i class="glyphicon repeat"></i></button> </div> <div class="conversion-status-container conversion-status-error"> <i class="conversion-status-icon glyphicon circle-exclamation-mark text-danger"></i> <span class="conversion-status-failed-message">'+c("function"==typeof(l=t&&t.initialErrorMessage)?l.apply(t):l)+'</span> <button class="retry-btn media-action-btn btn-gray-link" tabindex="-1"><i class="glyphicon repeat"></i></button> </div> <div class="conversion-status-container conversion-status-pending"> <i class="conversion-status-icon glyphicon clock"></i> <span class="conversion-status-pending-label">'+c(r(n(46353)).call(t,"Waiting",{hash:{},data:s}))+"</span> </div> "}))},81587:(e,t,n)=>{var a=n(93633);function r(e){return e&&(e.__esModule?e.default:e)}e.exports=(a.default||a).template((function(e,t,a,i,s){this.compilerInfo=[4,">= 1.0.0"],a=this.merge(a,e.helpers),s=s||{};var l="",o=this.escapeExpression;return l+'<div class="row row-padded"> <h4 class="text-muted text-center"> <p>'+o(r(n(46353)).call(t,'Choose "Optimize..." on items in your library and optimized versions will appear here.',{hash:{},data:s}))+"</p> <p>"+o(r(n(46353)).call(t,"Monitor conversion progress in {1}Conversion Activity{2}.",'<a class="status-conversion-btn" href="#">',"</a>",{hash:{},data:s}))+"</p> </h4> </div> "}))},65160:(e,t,n)=>{var a=n(93633);function r(e){return e&&(e.__esModule?e.default:e)}e.exports=(a.default||a).template((function(e,t,a,i,s){this.compilerInfo=[4,">= 1.0.0"],a=this.merge(a,e.helpers),s=s||{};var l,o="",c=this.escapeExpression;return o+'<a class="show-actions playlist-inner-item '+c("function"==typeof(l=t&&t.type)?l.apply(t):l)+'" href="#"> <div class="media-actions media-reorder"> <div class="sortable-handle btn-gray-link"><i class="glyphicon show-lines"></i></div> </div> <div class="generator-poster-container"> <div class="media-poster"></div> </div> <div class="media-actions generator-actions"> <button class="retry-btn media-action-btn btn-gray-link" tabindex="-1"><i class="glyphicon repeat"></i></button> <button class="edit-btn media-action-btn btn-gray-link" tabindex="-1"><i class="glyphicon pencil"></i></button> <button class="delete-btn media-action-btn btn-gray-link btn-danger" tabindex="-1"><i class="glyphicon remove-2"></i></button> </div> <div class="media-item"> <div class="media-details"> <div class="generator-title col-lg"></div> <div class="generator-target col-md col-secondary"></div> <div class="generator-status col-md col-secondary"> <div class="generator-status-container generator-status-complete"> <i class="generator-status-icon glyphicon ok-2 text-success"></i> '+c(r(n(46353)).call(t,"Complete",{hash:{},data:s}))+' </div> <div class="generator-status-container generator-status-failed"> <i class="generator-status-icon glyphicon circle-exclamation-mark text-danger"></i> <span class="generator-status-failed-message">'+c(r(n(46353)).call(t,"Failed",{hash:{},data:s}))+'</span> </div> <div class="generator-status-container generator-status-converting"> <i class="generator-status-icon glyphicon restart"></i> '+c(r(n(46353)).call(t,"Converting",{hash:{},data:s}))+' </div> <div class="generator-status-container generator-status-pending"> <i class="generator-status-icon glyphicon clock"></i> '+c(r(n(46353)).call(t,"Waiting",{hash:{},data:s}))+" </div> </div> </div> </div> </a> "}))},52207:(e,t,n)=>{var a=n(93633);e.exports=(a.default||a).template((function(e,t,n,a,r){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),r=r||{};var i,s="",l="function",o=this.escapeExpression;return s+='<div class="striped-list-inner-item"> <div class="generator-poster-container"> <div class="media-poster"></div> </div> <div class="conversion-status-region"></div> <div class="generator-metadata-title">',(s+=o((i=n.title)||typeof(i=t&&t.title)===l?i.call(t,{hash:{},data:r}):i)+'</div> <div class="generator-metadata-episode-index generator-metadata-subtitle"></div> <div class="generator-metadata-year generator-metadata-subtitle">')+(o((i=n.year)||typeof(i=t&&t.year)===l?i.call(t,{hash:{},data:r}):i)+"</div> </div> ")}))},84538:(e,t,n)=>{var a=n(93633);e.exports=(a.default||a).template((function(e,t,n,a,r){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),r=r||{};var i,s="",l="function",o=this.escapeExpression;return s+='<a class="btn-gray" data-identifier="',(s+=o((i=n.identifier)||typeof(i=t&&t.identifier)===l?i.call(t,{hash:{},data:r}):i)+'" href="#">')+(o((i=n.name)||typeof(i=t&&t.name)===l?i.call(t,{hash:{},data:r}):i)+"</a> ")}))},26270:(e,t,n)=>{var a=n(93633);e.exports=(a.default||a).template((function(e,t,a,r,i){this.compilerInfo=[4,">= 1.0.0"],a=this.merge(a,e.helpers),i=i||{};var s,l,o="",c="function",d=this.escapeExpression,u=this;return o+='<div class="card-actions"> <button class="info-btn card-action-btn"><i class="glyphicon circle-info"></i></button> <button class="settings-btn card-action-btn"><i class="glyphicon cogwheel"></i></button> </div> <div class="card-handle"><i class="glyphicon show-lines"></i></div> <label for="'+d(typeof(s=t&&t.identifier)===c?s.apply(t):s)+'"> <input id="'+d(typeof(s=t&&t.identifier)===c?s.apply(t):s)+'" name="'+d(typeof(s=t&&t.identifier)===c?s.apply(t):s)+'" type="checkbox" ',((s=a.if.call(t,t&&t.enabled,{hash:{},inverse:u.noop,fn:u.program(1,(function(e,t){return"checked"}),i),data:i}))||0===s)&&(o+=s),o+=" ",((s=a.if.call(t,t&&t.isPrimary,{hash:{},inverse:u.noop,fn:u.program(3,(function(e,t){return"disabled"}),i),data:i}))||0===s)&&(o+=s),o+"> "+d((l=n(46353),l&&(l.__esModule?l.default:l)).call(t,t&&t.name,{hash:{},data:i}))+" </label> "}))},85906:(e,t,n)=>{var a=n(93633);e.exports=(a.default||a).template((function(e,t,a,r,i){var s;return this.compilerInfo=[4,">= 1.0.0"],a=this.merge(a,e.helpers),i=i||{},""+'<div class="row-padded"> <h4 class="text-muted text-center">'+(0,this.escapeExpression)((s=n(46353),s&&(s.__esModule?s.default:s)).call(t,"No devices found",{hash:{},data:i}))+"</h4> </div> "}))},33519:(e,t,n)=>{var a=n(93633);e.exports=(a.default||a).template((function(e,t,n,a,r){return this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),r=r||{},'<div class="card card-device"> <img class="card-poster device-icon"> <div class="card-actions"> <button class="remove-device-btn card-action-btn btn-danger"><i class="glyphicon remove-2"></i></button> </div> <h4 class="name"></h4> <div class="card-details"> <div class="pull-right"> <div class="last-seen text-muted"></div> </div> <span class="version text-muted"></span> <div class="device-info-container"> <div class="product"></div> <div class="device text-muted"></div> <div class="platform-info text-muted"> <span class="platform"></span> <span class="platform-version"></span> </div> </div> </div> </div> '}))},57327:(e,t,n)=>{var a=n(93633);e.exports=(a.default||a).template((function(e,t,n,a,r){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),r=r||{};var i,s,l="",o="function";return l+='<div class="modal-dialog"> <div class="modal-content"> <div class="modal-header"> <button type="button" class="close" data-dismiss="modal"><i class="glyphicon remove-2"></i></button> <h4 class="modal-title"> <i class="modal-icon glyphicon circle-info"></i> '+(0,this.escapeExpression)(typeof(i=null==(i=t&&t.agent)||!1===i?i:i.name)===o?i.apply(t):i)+' </h4> </div> <div class="modal-body"> <p class="agent-icon-container"></p> <p>',((i=(s=n.attribution)||typeof(s=t&&t.attribution)===o?s.call(t,{hash:{},data:r}):s)||0===i)&&(l+=i),l+"</p> </div> </div> </div> "}))},53354:(e,t,n)=>{var a=n(93633);function r(e){return e&&(e.__esModule?e.default:e)}e.exports=(a.default||a).template((function(e,t,a,i,s){this.compilerInfo=[4,">= 1.0.0"],a=this.merge(a,e.helpers),s=s||{};var l,o="",c=this.escapeExpression,d=this;function u(e,t){return""+" <li>"+c("function"==typeof e?e.apply(e):e)+"</li> "}return o+='<div class="modal-dialog"> <div class="modal-content"> <div class="modal-header"> <button type="button" class="close" data-dismiss="modal"><i class="glyphicon remove-2"></i></button> <h4 class="modal-title"><i class="modal-icon glyphicon circle-info"></i> '+c(r(n(46353)).call(t,"Plex Media Server Release Notes",{hash:{},data:s}))+'</h4> </div> <div class="modal-body modal-body-scroll dark-scrollbar"> <span class="text-muted">'+c(r(n(46353)).call(t,"Version {1}",t&&t.escapedVersion,{hash:{},data:s}))+"</span> ",l=a.if.call(t,t&&t.added,{hash:{},inverse:d.noop,fn:d.programWithDepth(1,(function(e,t,i){var s,l="";return l+=' <h4 class="update-list-title">'+c(r(n(46353)).call(e,"New",{hash:{},data:t}))+"</h4> <ul> ",((s=a.each.call(e,i&&i.added,{hash:{},inverse:d.noop,fn:d.program(2,u,t),data:t}))||0===s)&&(l+=s),l+" </ul> "}),s,t),data:s}),(l||0===l)&&(o+=l),o+=" ",l=a.if.call(t,t&&t.fixed,{hash:{},inverse:d.noop,fn:d.programWithDepth(4,(function(e,t,i){var s,l="";return l+=' <h4 class="update-list-title">'+c(r(n(46353)).call(e,"Fixes",{hash:{},data:t}))+"</h4> <ul> ",((s=a.each.call(e,i&&i.fixed,{hash:{},inverse:d.noop,fn:d.program(2,u,t),data:t}))||0===s)&&(l+=s),l+" </ul> "}),s,t),data:s}),(l||0===l)&&(o+=l),o+" </div> </div> </div> "}))},86976:(e,t,n)=>{var a=n(93633);e.exports=(a.default||a).template((function(e,t,a,r,i){var s;return this.compilerInfo=[4,">= 1.0.0"],a=this.merge(a,e.helpers),i=i||{},""+'<div class="modal-dialog"> <div class="modal-content"> <div class="modal-header"> <button type="button" class="close" data-dismiss="modal"><i class="glyphicon remove-2"></i></button> <h4 class="modal-title"><i class="modal-icon glyphicon restart"></i> <span class="generator-title"></span></h4> </div> <div class="modal-body modal-body-scroll dark-scrollbar"> <h4> <span class="generator-failure-container pull-right"> <i class="generator-failure-icon glyphicon circle-exclamation-mark text-danger"></i> <span class="generator-failure-message text-muted"></span> </span> <span class="generator-items-count"></span> &middot; <span class="generator-total-size"></span> </h4> <div class="list-region"></div> <div class="list-feedback-container"> <span class="loading hidden"></span> <span class="error-message text-muted hidden"> '+(0,this.escapeExpression)((s=n(46353),s&&(s.__esModule?s.default:s)).call(t,"There was a problem loading these items.",{hash:{},data:i}))+" </span> </div> </div> </div> </div> "}))},62060:(e,t,n)=>{var a=n(93633);e.exports=(a.default||a).template((function(e,t,a,r,i){this.compilerInfo=[4,">= 1.0.0"],a=this.merge(a,e.helpers),i=i||{};var s,l="",o="function",c=this.escapeExpression,d=this;function u(e,t){return'<i class="devices-dropdown-selected-icon glyphicon ok-2"></i>'}return l+='<div class="filter-bar"> <span class="devices-dropdown"> <a class="devices-dropdown-toggle"> <span class="devices-dropdown-friendly-name">'+c(typeof(s=null==(s=t&&t.selectedDeviceType)||!1===s?s:s.title)===o?s.apply(t):s)+'</span> <i class="caret-icon"></i> </a> <ul class="devices-dropdown-menu"> ',s=a.each.call(t,t&&t.deviceTypes,{hash:{},inverse:d.noop,fn:d.programWithDepth(1,(function(e,t,a){var r,i,s="";return s+=' <li><a data-id="'+c(typeof(r=e&&e.id)===o?r.apply(e):r)+'" href="#"><span class="devices-dropdown-truncated-label">'+c(typeof(r=e&&e.title)===o?r.apply(e):r)+"</span>",((r=(i=n(1519),i&&(i.__esModule?i.default:i)).call(e,null==(r=a&&a.selectedDeviceType)||!1===r?r:r.id,e&&e.id,{hash:{},inverse:d.noop,fn:d.program(2,u,t),data:t}))||0===r)&&(s+=r),s+"</a></li> "}),i,t),data:i}),(s||0===s)&&(l+=s),l+' </ul> </span> </div> <div class="device-list-container col-sm-12 col-md-12"></div> '}))},87804:(e,t,n)=>{var a=n(93633);function r(e){return e&&(e.__esModule?e.default:e)}e.exports=(a.default||a).template((function(e,t,a,i,s){this.compilerInfo=[4,">= 1.0.0"],a=this.merge(a,e.helpers),s=s||{};var l,o="",c=this.escapeExpression,d="function",u=this;function m(e,t){return"selected"}function p(e,t){return"checked"}function h(e,t,a){var i,s="";return s+=' <option value="'+c(typeof(i=e&&e.value)===d?i.apply(e):i)+'" ',((i=r(n(1519)).call(e,e&&e.value,null==(i=a&&a.experienceSettings)||!1===i?i:i.allowHttpFallback,{hash:{},inverse:u.noop,fn:u.program(4,m,t),data:t}))||0===i)&&(s+=i),s+">"+c(r(n(46353)).call(e,e&&e.title,{hash:{},data:t}))+"</option> "}function g(e,t,a){var i,s="";return s+=' <option value="'+c(typeof(i=e&&e.value)===d?i.apply(e):i)+'" ',((i=r(n(1519)).call(e,e&&e.value,null==(i=a&&a.deviceSettings)||!1===i?i:i["settings.keepOnTop"],{hash:{},inverse:u.noop,fn:u.program(4,m,t),data:t}))||0===i)&&(s+=i),s+">"+c(typeof(i=e&&e.title)===d?i.apply(e):i)+"</option> "}function v(e,t){var n,r="";return r+=' <div class="form-group advanced-setting" > <button type="button" class="toggle-sync-btn btn btn-sm btn-default btn-loading form-control-btn"> <div class="loading loading-sm"></div> <span class="btn-label">',((n=a.if.call(e,null==(n=e&&e.deviceSettings)||!1===n?n:n.shouldSyncSettings,{hash:{},inverse:u.program(21,b,t),fn:u.program(19,f,t),data:t}))||0===n)&&(r+=n),r+='</span> </button> <p class="help-block"> ',((n=a.if.call(e,null==(n=e&&e.deviceSettings)||!1===n?n:n.shouldSyncSettings,{hash:{},inverse:u.program(25,A,t),fn:u.program(23,y,t),data:t}))||0===n)&&(r+=n),r+" </p> </div> "}function f(e,t){return c(r(n(46353)).call(e,"Turn off settings sync",{hash:{},data:t}))}function b(e,t){return c(r(n(46353)).call(e,"Turn on settings sync",{hash:{},data:t}))}function y(e,t){return""+" "+c(r(n(46353)).call(e,"Currently all {1} settings and customization are synchronized with other {1} instances.",e&&e.escapedProductName,{hash:{},data:t}))+" "}function A(e,t){return""+" "+c(r(n(46353)).call(e,"Currently all {1} settings and customization apply to this {1} instance only.",e&&e.escapedProductName,{hash:{},data:t}))+" "}function E(e,t,a){var i,s="";return s+=' <option value="'+c(typeof(i=e&&e.id)===d?i.apply(e):i)+'" ',((i=r(n(1519)).call(e,e&&e.id,null==(i=a&&a.plexEnvironment)||!1===i?i:i.id,{hash:{},inverse:u.noop,fn:u.program(4,m,t),data:t}))||0===i)&&(s+=i),s+">"+c(typeof(i=e&&e.title)===d?i.apply(e):i)+"</option> "}function S(e,t,a){var i,s="";return s+=' <option value="'+c(typeof(i=e&&e.value)===d?i.apply(e):i)+'" ',((i=r(n(1519)).call(e,e&&e.value,null==(i=a&&a.deviceSettings)||!1===i?i:i.searchProviderEnvironment,{hash:{},inverse:u.noop,fn:u.program(4,m,t),data:t}))||0===i)&&(s+=i),s+">"+c(typeof(i=e&&e.title)===d?i.apply(e):i)+"</option> "}function w(e,t){var i,s="";return s+=' <div class="form-group"> <label for="chromecastAppID"> Chromecast Receiver</label> <select id="chromecastAppID"> ',((i=a.each.call(e,e&&e.chromecastAppIDs,{hash:{},inverse:u.noop,fn:u.programWithDepth(53,C,t,e),data:t}))||0===i)&&(s+=i),s+=' </select> <p class="help-block">Refresh after saving this setting for it to take effect.</p> </div> <div id="chromecast-custom-group" class="form-group ',((i=r(n(87105)).call(e,null==(i=e&&e.deviceSettings)||!1===i?i:i.chromecastAppID,"custom",{hash:{},inverse:u.noop,fn:u.program(55,P,t),data:t}))||0===i)&&(s+=i),s+'"> <label for="chromecastCustomAppID">Custom Chromecast Application ID</label> <input type="text" id="chromecastCustomAppID" class="form-control" placeholder="Application ID" value="'+c(typeof(i=null==(i=e&&e.deviceSettings)||!1===i?i:i.chromecastCustomAppID)===d?i.apply(e):i)+'"> <p class="help-block">Refresh after saving this setting for it to take effect.</p> </div> '}function C(e,t,a){var i,s="";return s+=' <option value="'+c(typeof(i=e&&e.value)===d?i.apply(e):i)+'" ',((i=r(n(1519)).call(e,e&&e.value,null==(i=a&&a.deviceSettings)||!1===i?i:i.chromecastAppID,{hash:{},inverse:u.noop,fn:u.program(4,m,t),data:t}))||0===i)&&(s+=i),s+">"+c(r(n(46353)).call(e,e&&e.title,{hash:{},data:t}))+"</option> "}function P(e,t){return"hidden"}function D(e,t){var a,i="";return i+=' <div class="form-group"> <label for=""> Report Inspector Port</label> <select id="settings.webInspectorPort" data-type="int"> <option value="0" ',((a=r(n(1519)).call(e,null==(a=e&&e.deviceSettings)||!1===a?a:a["settings.webInspectorPort"],0,{hash:{},inverse:u.noop,fn:u.program(4,m,t),data:t}))||0===a)&&(i+=a),i+='>Disabled</option> <option value="9222" ',((a=r(n(1519)).call(e,null==(a=e&&e.deviceSettings)||!1===a?a:a["settings.webInspectorPort"],9222,{hash:{},inverse:u.noop,fn:u.program(4,m,t),data:t}))||0===a)&&(i+=a),i+='>9222</option> <option value="9229" ',((a=r(n(1519)).call(e,null==(a=e&&e.deviceSettings)||!1===a?a:a["settings.webInspectorPort"],9229,{hash:{},inverse:u.noop,fn:u.program(4,m,t),data:t}))||0===a)&&(i+=a),i+='>9229</option> <option value="9992" ',((a=r(n(1519)).call(e,null==(a=e&&e.deviceSettings)||!1===a?a:a["settings.webInspectorPort"],9992,{hash:{},inverse:u.noop,fn:u.program(4,m,t),data:t}))||0===a)&&(i+=a),i+'>9992</option> </select> <p class="help-block">Save then restart to take effect. Afterwards use Chrome to select Plex from chrome://inspect/#devices.</p> </div> '}function x(e,t,a){var i,s="";return s+=' <option value="'+c(typeof(i=e&&e.value)===d?i.apply(e):i)+'" ',((i=r(n(1519)).call(e,e&&e.value,null==(i=a&&a.deviceSettings)||!1===i?i:i.debugAdKind,{hash:{},inverse:u.noop,fn:u.program(4,m,t),data:t}))||0===i)&&(s+=i),s+">"+c(r(n(46353)).call(e,e&&e.title,{hash:{},data:t}))+"</option> "}function k(e,t){var n,r="";return r+=' <option value="'+c(typeof(n=e&&e.cid)===d?n.apply(e):n)+'" ',((n=a.if.call(e,e&&e.isSelected,{hash:{},inverse:u.noop,fn:u.program(4,m,t),data:t}))||0===n)&&(r+=n),r+">"+c(typeof(n=e&&e.title)===d?n.apply(e):n)+"</option> "}function O(e,t){var n,r="";return r+=' <fieldset class="audio-device-fields',((n=a.unless.call(e,e&&e.isSelected,{hash:{},inverse:u.noop,fn:u.program(76,I,t),data:t}))||0===n)&&(r+=n),r+='" data-cid="'+c(typeof(n=e&&e.cid)===d?n.apply(e):n)+'"> ',((n=a.if.call(e,e&&e.kinds,{hash:{},inverse:u.noop,fn:u.program(78,T,t),data:t}))||0===n)&&(r+=n),r+" </fieldset> "}function I(e,t){return" hidden"}function T(e,t){var i,s="";return s+=' <div class="form-group advanced-setting"> <label> '+c(r(n(46353)).call(e,"Audio Device Kind",{hash:{},data:t}))+' <select id="'+c(r(n(15455)).call(e,"ignore",{hash:{},data:t}))+'" class="audio-device-kind" data-cid="'+c(typeof(i=e&&e.cid)===d?i.apply(e):i)+'"> ',((i=a.each.call(e,e&&e.kinds,{hash:{},inverse:u.noop,fn:u.programWithDepth(79,M,t,e),data:t}))||0===i)&&(s+=i),s+=" </select> </label> </div> ",((i=a.each.call(e,e&&e.capabilities,{hash:{},inverse:u.noop,fn:u.programWithDepth(81,N,t,e),data:t}))||0===i)&&(s+=i),s+" "}function M(e,t,a){var i,s="";return s+=' <option value="'+c(typeof(i=e&&e.value)===d?i.apply(e):i)+'" ',((i=r(n(1519)).call(e,e&&e.value,a&&a.kind,{hash:{},inverse:u.noop,fn:u.program(4,m,t),data:t}))||0===i)&&(s+=i),s+">"+c(typeof(i=e&&e.title)===d?i.apply(e):i)+"</option> "}function N(e,t,i){var s,l="";return l+=' <fieldset class="audio-device-kind-fields',((s=r(n(87105)).call(e,e&&e.kind,i&&i.kind,{hash:{},inverse:u.noop,fn:u.program(76,I,t),data:t}))||0===s)&&(l+=s),l+='" data-cid="'+c(typeof(s=i&&i.cid)===d?s.apply(e):s)+'" data-kind="'+c(typeof(s=e&&e.kind)===d?s.apply(e):s)+'"> <div class="form-group advanced-setting"> <label> '+c(r(n(46353)).call(e,"Audio Channels",{hash:{},data:t}))+' <select name="channelLayout" id="'+c(r(n(15455)).call(e,"ignore",{hash:{},data:t}))+'" data-cid="'+c(typeof(s=i&&i.cid)===d?s.apply(e):s)+'"> ',((s=a.each.call(e,e&&e.channelLayoutSettings,{hash:{},inverse:u.noop,fn:u.programWithDepth(82,L,t,i),data:t}))||0===s)&&(l+=s),l+=' </select> </label> </div> <div class="form-group advanced-setting hidden"> <label class="control-label"> <input name="transcodeToAC3" type="checkbox" id="'+c(r(n(15455)).call(e,"ignore",{hash:{},data:t}))+'" ',((s=a.if.call(e,null==(s=e&&e.transcodeToAC3Setting)||!1===s?s:s.value,{hash:{},inverse:u.noop,fn:u.program(7,p,t),data:t}))||0===s)&&(l+=s),l+=' disabled data-cid="'+c(typeof(s=i&&i.cid)===d?s.apply(e):s)+'" /> '+c(r(n(46353)).call(e,null==(s=e&&e.transcodeToAC3Setting)||!1===s?s:s.title,{hash:{},data:t}))+" </label> </div> ",((s=a.each.call(e,e&&e.passthroughCodecSettings,{hash:{},inverse:u.noop,fn:u.programWithDepth(84,R,t,i),data:t}))||0===s)&&(l+=s),l+" </fieldset> "}function L(e,t,a){var i,s="";return s+=' <option value="'+c(typeof(i=e&&e.value)===d?i.apply(e):i)+'" ',((i=r(n(1519)).call(e,e&&e.value,a&&a.channelLayout,{hash:{},inverse:u.noop,fn:u.program(4,m,t),data:t}))||0===i)&&(s+=i),s+">"+c(typeof(i=e&&e.title)===d?i.apply(e):i)+"</option> "}function R(e,t,a){var i,s="";return s+=' <div class="form-group advanced-setting audio-passthrough-codec"> <label class="control-label"> <input name="passthroughCodecs" type="checkbox" id="'+c(r(n(15455)).call(e,"ignore",{hash:{},data:t}))+'" value="'+c(typeof(i=e&&e.value)===d?i.apply(e):i)+'" ',((i=r(n(39656)).call(e,a&&a.passthroughCodecs,e&&e.value,{hash:{},inverse:u.noop,fn:u.program(85,F,t),data:t}))||0===i)&&(s+=i),s+' data-cid="'+c(typeof(i=a&&a.cid)===d?i.apply(e):i)+'"> '+c(typeof(i=e&&e.title)===d?i.apply(e):i)+" </label> </div> "}function F(e,t){return" checked"}function U(e,t,a){var i,s="";return s+=' <option value="'+c(typeof(i=e&&e.value)===d?i.apply(e):i)+'" ',((i=r(n(1519)).call(e,e&&e.value,null==(i=a&&a.experienceSettings)||!1===i?i:i.subtitlesBurnLevel,{hash:{},inverse:u.noop,fn:u.program(4,m,t),data:t}))||0===i)&&(s+=i),s+">"+c(r(n(46353)).call(e,e&&e.title,{hash:{},data:t}))+"</option> "}function V(e,t,a){var i,s="";return s+=' <option value="'+c(typeof(i=e&&e.value)===d?i.apply(e):i)+'" ',((i=r(n(1519)).call(e,e&&e.value,null==(i=a&&a.deviceSettings)||!1===i?i:i["player.videoProfile"],{hash:{},inverse:u.noop,fn:u.program(4,m,t),data:t}))||0===i)&&(s+=i),s+">"+c(typeof(i=e&&e.title)===d?i.apply(e):i)+"</option> "}function j(e,t,a){var i,s="";return s+=' <option value="'+c(typeof(i=e&&e.value)===d?i.apply(e):i)+'" ',((i=r(n(1519)).call(e,e&&e.value,null==(i=a&&a.deviceSettings)||!1===i?i:i["player.refreshRateSwitchingDelayMilliseconds"],{hash:{},inverse:u.noop,fn:u.program(4,m,t),data:t}))||0===i)&&(s+=i),s+">"+c(r(n(46353)).call(e,e&&e.title,{hash:{},data:t}))+"</option> "}function B(e,t,a){var i,s="";return s+=' <option value="'+c(typeof(i=e&&e.value)===d?i.apply(e):i)+'" ',((i=r(n(1519)).call(e,e&&e.value,null==(i=a&&a.experienceSettings)||!1===i?i:i.musicDownloadQuality,{hash:{},inverse:u.noop,fn:u.program(4,m,t),data:t}))||0===i)&&(s+=i),s+">"+c(typeof(i=e&&e.title)===d?i.apply(e):i)+"</option> "}function H(e,t,a){var i,s="";return s+=' <option value="'+c(typeof(i=e&&e.value)===d?i.apply(e):i)+'" ',((i=r(n(1519)).call(e,e&&e.value,null==(i=a&&a.experienceSettings)||!1===i?i:i.videoDownloadQuality,{hash:{},inverse:u.noop,fn:u.program(4,m,t),data:t}))||0===i)&&(s+=i),s+">"+c(typeof(i=e&&e.title)===d?i.apply(e):i)+"</option> "}function z(e,t){return' <div class="form-group advanced-setting"> <button type="button" class="reset-reminders-btn btn btn-sm btn-primary form-control-btn"> <span class="btn-label">  Reset reminders</span> </button> <p class="help-block">Reset all Plex Web reminders for this user. Reload to take effect.</p> </div> '}function _(e,t){return' <div class="form-group advanced-setting" > <button type="button" class="reset-preferred-services-btn btn btn-sm btn-primary form-control-btn"> <span class="btn-label"> Reset preferred streaming services</span> </button> <p class="help-block"> Reset preferred services for this user and show upsell in Discover source. </p> </div> '}function W(e,t){return' <div class="form-group advanced-setting" > <button type="button" class="reset-dismissals-btn btn btn-sm btn-primary form-control-btn"> <span class="btn-label"> Reset dismissals</span> </button> <p class="help-block"> Reset all What\'s New and Upsell dismissals for this user, so they will be shown again. </p> </div> '}function G(e,t){return' <div class="form-group advanced-setting" > <button type="button" class="reset-auto-pinned-providers-btn btn btn-sm btn-primary form-control-btn"> <span class="btn-label"> Reset auto-pinned sources</span> </button> <p class="help-block"> Resets internal setting that keeps track of which sources have been auto-pinned. To test auto-pinning of sources, unpin them, then click this button. Refresh on Home to take effect. </p> </div> '}function K(e,t){return' <div class="form-group advanced-setting" > <button type="button" class="reset-experience-btn btn btn-sm btn-primary form-control-btn"> <span class="btn-label"> Reset experience</span> </button> <p class="help-block"> Reset sidebar navigation, plus What\'s New and Upsell dismissals for this user. </p> </div> '}function q(e,t){return""+" "+c(r(n(46353)).call(e,"NOTE: If {1}settings sync{2} is also turned on, settings on other {4} instances may also be reset. Use with caution.",'<a href="{3}">',"</a>",e&&e.generalSettingsRoute,e&&e.escapedProductName,{hash:{},data:t}))+" "}return o+='<div class="filter-bar"> <button class="toggle-advanced-btn btn btn-sm btn-default pull-right basic-setting">'+c(r(n(46353)).call(t,"Show Advanced",{hash:{},data:s}))+'</button> <button class="toggle-advanced-btn btn btn-sm btn-default pull-right advanced-setting">'+c(r(n(46353)).call(t,"Hide Advanced",{hash:{},data:s}))+'</button> </div> <div class="row"> <div class="col-sm-12 col-md-12"> <form id="web-settings-form"> <div id="general-web-group" class="settings-group"> <h4 class="version-title"> '+c(r(n(46353)).call(t,"Version",{hash:{},data:s}))+" "+c(typeof(l=t&&t.version)===d?l.apply(t):l)+" </h4> ",l=a.if.call(t,t&&t.clientVersion,{hash:{},inverse:u.noop,fn:u.program(1,(function(e,t){var a;return""+' <h4 class="version-title-secondary advanced-setting"> '+c(r(n(46353)).call(e,"Plex Web Version",{hash:{},data:t}))+" "+c(typeof(a=e&&e.clientVersion)===d?a.apply(e):a)+" </h4> "}),s),data:s}),(l||0===l)&&(o+=l),o+=' <div class="form-group"> <label for="language">'+c(r(n(46353)).call(t,"Language",{hash:{},data:s}))+'</label> <select id="language"> ',l=a.each.call(t,t&&t.languages,{hash:{},inverse:u.noop,fn:u.programWithDepth(3,(function(e,t,a){var i,s="";return s+=' <option value="'+c(typeof(i=e&&e.value)===d?i.apply(e):i)+'" ',((i=r(n(1519)).call(e,e&&e.value,null==(i=a&&a.experienceSettings)||!1===i?i:i.language,{hash:{},inverse:u.noop,fn:u.program(4,m,t),data:t}))||0===i)&&(s+=i),s+"> "+c(typeof(i=e&&e.title)===d?i.apply(e):i)+" </option> "}),s,t),data:s}),(l||0===l)&&(o+=l),o+=' </select> <p class="help-block">'+c(r(n(46353)).call(t,"Help us translate this app into your language {1}here{2}.",'<a href="https://transifex.com/plex-1/plex-web" target="_blank">',"</a>",{hash:{},data:s}))+"</p> </div> ",l=a.unless.call(t,t&&t.isRestricted,{hash:{},inverse:u.noop,fn:u.program(6,(function(e,t){var i,s="";return s+=' <div class="form-group"> <label class="control-label"> <input type="checkbox" id="autoLogin" ',((i=a.if.call(e,null==(i=e&&e.deviceSettings)||!1===i?i:i.autoLogin,{hash:{},inverse:u.noop,fn:u.program(7,p,t),data:t}))||0===i)&&(s+=i),s+"> "+c(r(n(46353)).call(e,"Automatically Sign In",{hash:{},data:t}))+' </label> <p class="help-block">'+c(r(n(46353)).call(e,"Do not prompt to select a user or enter a PIN during startup on this device.",{hash:{},data:t}))+"</p> </div> "}),s),data:s}),(l||0===l)&&(o+=l),o+=' <div class="form-group"> <label class="control-label"> <input type="checkbox" id="shouldSaveLastSourcePivots" ',((l=a.if.call(t,null==(l=t&&t.experienceSettings)||!1===l?l:l.shouldSaveLastSourcePivots,{hash:{},inverse:u.noop,fn:u.program(7,p,s),data:s}))||0===l)&&(o+=l),o+="> "+c(r(n(46353)).call(t,"Remember selected tab",{hash:{},data:s}))+' </label> <p class="help-block">'+c(r(n(46353)).call(t,"Default to the last selected tab for a media source.",{hash:{},data:s}))+'</p> </div> <div class="form-group"> <label class="control-label"> <input type="checkbox" id="playThemeMusic" ',((l=a.if.call(t,null==(l=t&&t.experienceSettings)||!1===l?l:l.playThemeMusic,{hash:{},inverse:u.noop,fn:u.program(7,p,s),data:s}))||0===l)&&(o+=l),o+="> "+c(r(n(46353)).call(t,"Play Theme Music",{hash:{},data:s}))+' </label> <p class="help-block">'+c(r(n(46353)).call(t,"Automatically play theme music in the background when available.",{hash:{},data:s}))+"</p> </div> ",l=a.if.call(t,t&&t.httpFallbackOptions,{hash:{},inverse:u.noop,fn:u.program(9,(function(e,t){var i,s="";return s+=' <div class="form-group advanced-setting"> <label for="allowHttpFallback">'+c(r(n(46353)).call(e,"Allow Fallback to Insecure Connections",{hash:{},data:t}))+'</label> <select id="allowHttpFallback"> ',((i=a.each.call(e,e&&e.httpFallbackOptions,{hash:{},inverse:u.noop,fn:u.programWithDepth(10,h,t,e),data:t}))||0===i)&&(s+=i),s+' </select> <p class="help-block">'+c(r(n(46353)).call(e,"Allow this app to make insecure connections to Plex Media Server if secure connections fail.",{hash:{},data:t}))+"</p> </div> "}),s),data:s}),(l||0===l)&&(o+=l),o+=' <div class="form-group"> <label for="timeFormat">'+c(r(n(46353)).call(t,"Time Format",{hash:{},data:s}))+'</label> <select id="timeFormat"> ',l=a.each.call(t,t&&t.timeFormats,{hash:{},inverse:u.noop,fn:u.programWithDepth(12,(function(e,t,a){var i,s="";return s+=' <option value="'+c(typeof(i=e&&e.value)===d?i.apply(e):i)+'" ',((i=r(n(1519)).call(e,e&&e.value,null==(i=a&&a.experienceSettings)||!1===i?i:i.timeFormat,{hash:{},inverse:u.noop,fn:u.program(4,m,t),data:t}))||0===i)&&(s+=i),s+">"+c(r(n(46353)).call(e,e&&e.title,{hash:{},data:t}))+"</option> "}),s,t),data:s}),(l||0===l)&&(o+=l),o+=" </select> </div> ",l=a.if.call(t,t&&t.isQtDesktop,{hash:{},inverse:u.noop,fn:u.program(14,(function(e,t){var i,s="";return s+=' <div class="form-group"> <label for="settings.keepOnTop">'+c(r(n(46353)).call(e,"Keep Plex on top of windows",{hash:{},data:t}))+'</label> <select id="settings.keepOnTop"> ',((i=a.each.call(e,e&&e.keepOnTopSettings,{hash:{},inverse:u.noop,fn:u.programWithDepth(15,g,t,e),data:t}))||0===i)&&(s+=i),s+' </select> <p class="help-block">'+c(r(n(46353)).call(e,"Keeping Plex on top may cause problems switching between maximized and fullscreen window appearances. Disable this setting if you encounter problems.",{hash:{},data:t}))+"</p> </div> "}),s),data:s}),(l||0===l)&&(o+=l),o+=" ",l=a.unless.call(t,t&&t.isAnonymous,{hash:{},inverse:u.noop,fn:u.program(17,(function(e,t){var i,s="";return s+=' <hr class="advanced-setting" /> ',((i=a.if.call(e,e&&e.isSyncSettingsAllowed,{hash:{},inverse:u.noop,fn:u.program(18,v,t),data:t}))||0===i)&&(s+=i),s+' <div class="form-group advanced-setting" > <button type="button" class="reset-customization-btn btn btn-sm btn-default btn-loading form-control-btn"> <div class="loading loading-sm"></div> <span class="btn-label">'+c(r(n(46353)).call(e,"Reset customization",{hash:{},data:t}))+'</span> </button> <p class="help-block"> '+c(r(n(46353)).call(e,"Reset sidebar navigation and home screen layout to the default state. Youll be redirected to the {1} Setup screen, where you can choose a server (if you have access to more than one) and other media providers from which to build your navigation and home screen content.",e&&e.escapedProducttName,{hash:{},data:t}))+" </p> </div> "}),s),data:s}),(l||0===l)&&(o+=l),o+=" ",l=a.if.call(t,t&&t.canResetPlexEnvironment,{hash:{},inverse:u.noop,fn:u.program(27,(function(e,t){var n;return""+' <div class="form-group advanced-setting" > <button type="button" class="reset-plex-environment-btn btn btn-sm btn-default btn-loading form-control-btn"> <div class="loading loading-sm"></div> <span class="btn-label">Reset Environment And Sign Out</span> </button> <p class="help-block"> The current environment is '+c(typeof(n=null==(n=e&&e.plexEnvironment)||!1===n?n:n.title)===d?n.apply(e):n)+". Resetting the environment will sign you out. </p> </div> "}),s),data:s}),(l||0===l)&&(o+=l),o+=' <hr class="advanced-setting" /> ',l=a.if.call(t,t&&t.isSyncSettingsRestrictedBySchemaVersion,{hash:{},inverse:u.noop,fn:u.program(29,(function(e,t){var a,i="";return i+=' <p class="help-block"> <span class="inline-icon">',((a=typeof(a=e&&e.alertIcon)===d?a.apply(e):a)||0===a)&&(i+=a),i+"</span> "+c(r(n(46353)).call(e,"Any {1} settings and customization made in this {1} instance will not be synchronized with other {1} instances. This is because we have detected you have previously saved settings from a newer version of {1}.",e&&e.escapedProductName,{hash:{},data:t}))+" </p> "}),s),data:s}),(l||0===l)&&(o+=l),o+=' </div> <div id="quality-web-group" class="settings-group"> ',l=a.if.call(t,t&&t.canPlayAdaptiveBitrate,{hash:{},inverse:u.noop,fn:u.program(31,(function(e,t){var i,s="";return s+=' <div class="form-group"> <label class="control-label"> <input type="checkbox" id="autoAdjustQuality" ',((i=a.if.call(e,null==(i=e&&e.experienceSettings)||!1===i?i:i.autoAdjustQuality,{hash:{},inverse:u.noop,fn:u.program(7,p,t),data:t}))||0===i)&&(s+=i),s+"> "+c(r(n(46353)).call(e,"Automatically adjust quality (Beta)",{hash:{},data:t}))+' </label> <p class="help-block">'+c(r(n(46353)).call(e,"Plex will increase or decrease quality based on connection speed. Requires latest Plex Media Server.",{hash:{},data:t}))+"</p> </div> "}),s),data:s}),(l||0===l)&&(o+=l),o+=' <h4 class="',((l=a.if.call(t,t&&t.canPlayAdaptiveBitrate,{hash:{},inverse:u.program(35,(function(e,t){return"settings-header-first"}),s),fn:u.program(33,(function(e,t){return"settings-header"}),s),data:s}))||0===l)&&(o+=l),o+='">'+c(r(n(46353)).call(t,"Internet Streaming",{hash:{},data:s}))+'</h4> <div class="form-group"> <label for="remoteQuality">'+c(r(n(46353)).call(t,"Video quality",{hash:{},data:s}))+'</label> <select id="remoteQuality" data-type="int"> <option value="-1">'+c(r(n(46353)).call(t,"Maximum",{hash:{},data:s}))+"</option> ",l=a.each.call(t,t&&t.availableQualities,{hash:{},inverse:u.noop,fn:u.programWithDepth(37,(function(e,t,a){var i,s="";return s+=' <option value="'+c(typeof(i=e&&e.index)===d?i.apply(e):i)+'" ',((i=r(n(1519)).call(e,e&&e.index,null==(i=a&&a.experienceSettings)||!1===i?i:i.remoteQuality,{hash:{},inverse:u.noop,fn:u.program(4,m,t),data:t}))||0===i)&&(s+=i),s+"> "+c(r(n(46992)).call(e,e,{hash:{},data:t}))+" </option> "}),s,t),data:s}),(l||0===l)&&(o+=l),o+=' </select> <p class="help-block">'+c(r(n(46353)).call(t,"Set the default quality for streaming video over the internet. If quality is set too high, videos will start slowly and pause frequently.",{hash:{},data:s}))+'</p> </div> <div class="form-group"> <label class="control-label"> <input type="checkbox" id="remoteSmallVideoAtOriginalQuality" ',((l=a.if.call(t,null==(l=t&&t.experienceSettings)||!1===l?l:l.remoteSmallVideoAtOriginalQuality,{hash:{},inverse:u.noop,fn:u.program(7,p,s),data:s}))||0===l)&&(o+=l),o+="> "+c(r(n(46353)).call(t,"Play smaller videos at original quality",{hash:{},data:s}))+' </label> <p class="help-block"> '+c(r(n(46353)).call(t,"When a video file is smaller than the quality above, try playing the original video without converting. This preserves full quality, but playback may pause frequently.",{hash:{},data:s}))+" ",l=a.if.call(t,t&&t.canPlayAdaptiveBitrate,{hash:{},inverse:u.noop,fn:u.program(39,(function(e,t){return c(r(n(46353)).call(e,'"Automatically adjust quality" will be disabled for these videos.',{hash:{},data:t}))}),s),data:s}),(l||0===l)&&(o+=l),o+=' </p> </div> <h4 class="settings-header">'+c(r(n(46353)).call(t,"Home Streaming",{hash:{},data:s}))+'</h4> <div class="form-group"> <label class="control-label"> <input type="checkbox" id="useHomeStreamingRecommendedSettings" ',((l=a.if.call(t,null==(l=t&&t.experienceSettings)||!1===l?l:l.useHomeStreamingRecommendedSettings,{hash:{},inverse:u.noop,fn:u.program(7,p,s),data:s}))||0===l)&&(o+=l),o+="> "+c(r(n(46353)).call(t,"Use recommended settings",{hash:{},data:s}))+' </label> <p class="help-block recommended-home-streaming-settings">'+c(r(n(46353)).call(t,"All compatible videos will play at original quality. Incompatible videos will be converted at maximum quality.",{hash:{},data:s}))+'</p> </div> <div class="form-group custom-home-streaming-settings"> <label for="localQuality">'+c(r(n(46353)).call(t,"Video quality",{hash:{},data:s}))+'</label> <select id="localQuality" data-type="int"> <option value="-1">'+c(r(n(46353)).call(t,"Maximum",{hash:{},data:s}))+"</option> ",l=a.each.call(t,t&&t.availableQualities,{hash:{},inverse:u.noop,fn:u.programWithDepth(41,(function(e,t,a){var i,s="";return s+=' <option value="'+c(typeof(i=e&&e.index)===d?i.apply(e):i)+'" ',((i=r(n(1519)).call(e,e&&e.index,null==(i=a&&a.experienceSettings)||!1===i?i:i.localQuality,{hash:{},inverse:u.noop,fn:u.program(4,m,t),data:t}))||0===i)&&(s+=i),s+"> "+c(r(n(46992)).call(e,e,{hash:{},data:t}))+" </option> "}),s,t),data:s}),(l||0===l)&&(o+=l),o+=' </select> <p class="help-block">'+c(r(n(46353)).call(t,"Choose the default video quality to use for local Wi-Fi streaming on home networks. If quality is set too high, videos will start slowly and pause frequently.",{hash:{},data:s}))+'</p> </div> </div> <div id="debug-web-group" class="settings-group"> ',l=a.if.call(t,t&&t.hasAdvancedDebugging,{hash:{},inverse:u.noop,fn:u.program(43,(function(e,t){var n,r="";return r+=' <div class="form-group"> <label for="plexEnvironment"> Environment</label> <select id="plexEnvironment" data-type="string"> ',((n=a.each.call(e,e&&e.plexEnvironments,{hash:{},inverse:u.noop,fn:u.programWithDepth(44,E,t,e),data:t}))||0===n)&&(r+=n),r+' </select> <p class="help-block"> Switches the environment on this device. If changed you will be signed out immediately. The change will apply for all users (including anonymous) on this device. This setting can be reset by any user. </p> <p class="help-block"> This setting can be cleared by any user in the General settings, or manually by clearing \'plexEnvironment\' in local storage. </p> </div> '}),s),data:s}),(l||0===l)&&(o+=l),o+=" ",l=a.if.call(t,t&&t.hasAdvancedDebugging,{hash:{},inverse:u.noop,fn:u.program(46,(function(e,t){var n,r="";return r+=' <div class="form-group"> <label for="searchProviderEnvironment"> Search Provider</label> <select id="searchProviderEnvironment" data-type="string"> ',((n=a.each.call(e,e&&e.searchProviderEnvironments,{hash:{},inverse:u.noop,fn:u.programWithDepth(47,S,t,e),data:t}))||0===n)&&(r+=n),r+' </select> <p class="help-block">Switch provider environment used for search requests.</p> </div> '}),s),data:s}),(l||0===l)&&(o+=l),o+=' <div class="form-group"> <label for="debugLevel">'+c(r(n(46353)).call(t,"Debug Level",{hash:{},data:s}))+'</label> <select id="debugLevel" data-type="int"> ',l=a.each.call(t,t&&t.debugLevels,{hash:{},inverse:u.noop,fn:u.programWithDepth(49,(function(e,t,a){var i,s="";return s+=' <option value="'+c(typeof(i=e&&e.value)===d?i.apply(e):i)+'" ',((i=r(n(1519)).call(e,e&&e.value,null==(i=a&&a.deviceSettings)||!1===i?i:i.debugLevel,{hash:{},inverse:u.noop,fn:u.program(4,m,t),data:t}))||0===i)&&(s+=i),s+">"+c(r(n(46353)).call(e,e&&e.title,{hash:{},data:t}))+"</option> "}),s,t),data:s}),(l||0===l)&&(o+=l),o+=' </select> <p class="help-block">'+c(r(n(46353)).call(t,"You can view the debug logs {1}here{2}.",'<a href="#!/logs">',"</a>",{hash:{},data:s}))+"</p> </div> ",l=a.if.call(t,t&&t.isNinja,{hash:{},inverse:u.noop,fn:u.program(51,(function(e,t){var n,r="";return r+=" ",((n=a.unless.call(e,e&&e.isHybridPlatform,{hash:{},inverse:u.noop,fn:u.program(52,w,t),data:t}))||0===n)&&(r+=n),r+=' <div class="form-group"> <label for="sonosCustomBaseURL"> Custom Sonos Environment</label> <input type="text" id="sonosCustomBaseURL" class="form-control" placeholder="Base URL" value="'+c(typeof(n=null==(n=e&&e.deviceSettings)||!1===n?n:n.sonosCustomBaseURL)===d?n.apply(e):n)+'"> </div> <div class="form-group"> <label class="control-label"> <input type="checkbox" id="rejectDirectConnections" ',((n=a.if.call(e,null==(n=e&&e.deviceSettings)||!1===n?n:n.rejectDirectConnections,{hash:{},inverse:u.noop,fn:u.program(7,p,t),data:t}))||0===n)&&(r+=n),r+='>  Reject direct connections </label> <p class="help-block">Forces relayed connections if available. Refresh after saving this setting for it to take effect.</p> </div> ',((n=a.if.call(e,e&&e.isQtDesktop,{hash:{},inverse:u.noop,fn:u.program(57,D,t),data:t}))||0===n)&&(r+=n),r+" "}),s),data:s}),(l||0===l)&&(o+=l),o+=' <div class="form-group"> <label class="control-label"> <input type="checkbox" id="directPlay" ',((l=a.if.call(t,null==(l=t&&t.deviceSettings)||!1===l?l:l.directPlay,{hash:{},inverse:u.noop,fn:u.program(7,p,s),data:s}))||0===l)&&(o+=l),o+="> "+c(r(n(46353)).call(t,"Direct Play",{hash:{},data:s}))+' </label> <p class="help-block"> ',l=a.if.call(t,t&&t.isHybridPlatform,{hash:{},inverse:u.program(61,(function(e,t){return""+" "+c(r(n(46353)).call(e,"Allows the player to play compatible media without any conversion. In most browsers, direct play supports MP4 videos with h264 video and AAC audio. Videos with subtitles cannot be played directly.",{hash:{},data:t}))+" "}),s),fn:u.program(59,(function(e,t){return""+" "+c(r(n(46353)).call(e,"Allows the player to play compatible media without any conversion.",{hash:{},data:t}))+" "}),s),data:s}),(l||0===l)&&(o+=l),o+=' </p> </div> <div class="form-group"> <label class="control-label"> <input type="checkbox" id="directStream" ',((l=a.if.call(t,null==(l=t&&t.deviceSettings)||!1===l?l:l.directStream,{hash:{},inverse:u.noop,fn:u.program(7,p,s),data:s}))||0===l)&&(o+=l),o+="> "+c(r(n(46353)).call(t,"Direct Stream",{hash:{},data:s}))+' </label> <p class="help-block">'+c(r(n(46353)).call(t,"Allows the server to copy compatible audio and video streams without converting them.",{hash:{},data:s}))+"</p> </div> ",l=a.unless.call(t,t&&t.isHybridPlatform,{hash:{},inverse:u.noop,fn:u.program(63,(function(e,t){var i,s="";return s+=' <div class="form-group advanced-setting"> <label class="control-label"> <input type="checkbox" id="forceTranscodeProtocolHLS" ',((i=a.if.call(e,null==(i=e&&e.experienceSettings)||!1===i?i:i.forceTranscodeProtocolHLS,{hash:{},inverse:u.noop,fn:u.program(7,p,t),data:t}))||0===i)&&(s+=i),s+"> "+c(r(n(46353)).call(e,"Use alternate streaming protocol for video playback",{hash:{},data:t}))+' </label> <p class="help-block">'+c(r(n(46353)).call(e,"Experimental workaround for Chrome, Edge, and other Chromium based browsers which may avoid unexpected skipping during video playback. The workaround will not be used if automatic quality adjusting is enabled.",{hash:{},data:t}))+"</p> </div> "}),s),data:s}),(l||0===l)&&(o+=l),o+=" ",l=a.if.call(t,t&&t.canDebugAdaptiveBitrate,{hash:{},inverse:u.noop,fn:u.program(65,(function(e,t){var n,r="";return r+=' <div class="form-group"> <label class="control-label"> <input type="checkbox" id="debugVideoQualityOverlay" ',((n=a.if.call(e,null==(n=e&&e.deviceSettings)||!1===n?n:n.debugVideoQualityOverlay,{hash:{},inverse:u.noop,fn:u.program(7,p,t),data:t}))||0===n)&&(r+=n),r+'> Video quality overlay </label> <p class="help-block">Burns a quality information overlay on video when automatically adjusting quality.</p> </div> '}),s),data:s}),(l||0===l)&&(o+=l),o+=" ",l=a.if.call(t,t&&t.canDebugAds,{hash:{},inverse:u.noop,fn:u.program(67,(function(e,t){var n,r="";return r+=' <div class="form-group"> <label for="debugAdKind"> Debug advertisements</label> <select id="debugAdKind" data-type="int"> ',((n=a.each.call(e,e&&e.debugAdKinds,{hash:{},inverse:u.noop,fn:u.programWithDepth(68,x,t,e),data:t}))||0===n)&&(r+=n),r+' </select> <p class="help-block">Instructs ad supporting providers to return one or more advertisements. Remember to disable any ad blockers.</p> </div> '}),s),data:s}),(l||0===l)&&(o+=l),o+=" ",l=a.if.call(t,t&&t.hasAdvancedDebugging,{hash:{},inverse:u.noop,fn:u.program(70,(function(e,t){var n,r="";return r+=' <div class="form-group"> <label class="control-label"> <input type="checkbox" id="showMetadataCopyKeyAction" ',((n=a.if.call(e,null==(n=e&&e.deviceSettings)||!1===n?n:n.showMetadataCopyKeyAction,{hash:{},inverse:u.noop,fn:u.program(7,p,t),data:t}))||0===n)&&(r+=n),r+'>  Show "Copy Key" on metadata item context menus </label> </div> '}),s),data:s}),(l||0===l)&&(o+=l),o+=' </div> <div id="player-web-group" class="settings-group"> <h4 class="settings-header-first">'+c(r(n(46353)).call(t,"Audio & Subtitles",{hash:{},data:s}))+'</h4> <div class="form-group advanced-setting"> <label class="control-label"> <input type="checkbox" id="normalizeDownmixedVolume" ',((l=a.if.call(t,t&&t.normalizeDownmixedVolume,{hash:{},inverse:u.noop,fn:u.program(7,p,s),data:s}))||0===l)&&(o+=l),o+="> "+c(r(n(46353)).call(t,"Normalize Multi-channel Audio",{hash:{},data:s}))+' </label> <p class="help-block">'+c(r(n(46353)).call(t,"Reduce volume to avoid clipping when converting from multi-channel audio formats.",{hash:{},data:s}))+"</p> </div> ",l=a.if.call(t,t&&t.isQtDesktop,{hash:{},inverse:u.noop,fn:u.program(72,(function(e,t){var i,s="";return s+=' <div class="form-group advanced-setting"> <label class="control-label"> <input type="checkbox" id="player.exclusiveAudioEnabled" ',((i=a.if.call(e,null==(i=e&&e.deviceSettings)||!1===i?i:i["player.exclusiveAudioEnabled"],{hash:{},inverse:u.noop,fn:u.program(7,p,t),data:t}))||0===i)&&(s+=i),s+="> "+c(r(n(46353)).call(e,"Exclusive Audio",{hash:{},data:t}))+' </label> <p class="help-block">'+c(r(n(46353)).call(e,"Bypasses the system audio mixer, ensuring that only the media's audio is sent unchanged to the output device. This prevents sounds from other applications on the selected device.",{hash:{},data:t}))+'</p> </div> <div class="form-group advanced-setting"> <label> '+c(r(n(46353)).call(e,"Audio Device",{hash:{},data:t}))+' <select id="player.audioDevice" class="audio-device-name"> ',((i=a.each.call(e,e&&e.audioDevices,{hash:{},inverse:u.noop,fn:u.program(73,k,t),data:t}))||0===i)&&(s+=i),s+=" </select> </label> </div> ",((i=a.each.call(e,e&&e.audioDevices,{hash:{},inverse:u.noop,fn:u.program(75,O,t),data:t}))||0===i)&&(s+=i),s+" "}),s),data:s}),(l||0===l)&&(o+=l),o+=' <div class="form-group"> <label for="subtitleColor">'+c(r(n(46353)).call(t,"Subtitle Color",{hash:{},data:s}))+'</label> <select id="subtitleColor"> ',l=a.each.call(t,t&&t.subtitleColors,{hash:{},inverse:u.noop,fn:u.programWithDepth(87,(function(e,t,a){var i,s="";return s+=' <option value="'+c(typeof(i=e&&e.value)===d?i.apply(e):i)+'" ',((i=r(n(1519)).call(e,e&&e.value,null==(i=a&&a.experienceSettings)||!1===i?i:i.subtitleColor,{hash:{},inverse:u.noop,fn:u.program(4,m,t),data:t}))||0===i)&&(s+=i),s+">"+c(r(n(46353)).call(e,e&&e.title,{hash:{},data:t}))+"</option> "}),s,t),data:s}),(l||0===l)&&(o+=l),o+=' </select> </div> <div class="form-group"> <label for="subtitlePosition">'+c(r(n(46353)).call(t,"Subtitle Position",{hash:{},data:s}))+'</label> <select id="subtitlePosition"> ',l=a.each.call(t,t&&t.subtitlePositions,{hash:{},inverse:u.noop,fn:u.programWithDepth(89,(function(e,t,a){var i,s="";return s+=' <option value="'+c(typeof(i=e&&e.value)===d?i.apply(e):i)+'" ',((i=r(n(1519)).call(e,e&&e.value,null==(i=a&&a.experienceSettings)||!1===i?i:i.subtitlePosition,{hash:{},inverse:u.noop,fn:u.program(4,m,t),data:t}))||0===i)&&(s+=i),s+">"+c(r(n(46353)).call(e,e&&e.title,{hash:{},data:t}))+"</option> "}),s,t),data:s}),(l||0===l)&&(o+=l),o+=' </select> </div> <div class="form-group"> <label for="subtitleSize">'+c(r(n(46353)).call(t,"Subtitle Size",{hash:{},data:s}))+'</label> <select id="subtitleSize" data-type="int"> ',l=a.each.call(t,t&&t.subtitleSizes,{hash:{},inverse:u.noop,fn:u.programWithDepth(91,(function(e,t,a){var i,s="";return s+=' <option value="'+c(typeof(i=e&&e.value)===d?i.apply(e):i)+'" ',((i=r(n(1519)).call(e,e&&e.value,null==(i=a&&a.experienceSettings)||!1===i?i:i.subtitleSize,{hash:{},inverse:u.noop,fn:u.program(4,m,t),data:t}))||0===i)&&(s+=i),s+">"+c(r(n(46353)).call(e,e&&e.title,{hash:{},data:t}))+"</option> "}),s,t),data:s}),(l||0===l)&&(o+=l),o+=" </select> </div> ",l=a.if.call(t,t&&t.hasSubtitleBurnLevel,{hash:{},inverse:u.noop,fn:u.program(93,(function(e,t){var i,s="";return s+=' <div class="form-group advanced-setting"> <label for="subtitlesBurnLevel">'+c(r(n(46353)).call(e,"Burn Subtitles",{hash:{},data:t}))+'</label> <select id="subtitlesBurnLevel"> ',((i=a.each.call(e,e&&e.subtitlesBurnLevels,{hash:{},inverse:u.noop,fn:u.programWithDepth(94,U,t,e),data:t}))||0===i)&&(s+=i),s+' </select> <p class="help-block">'+c(r(n(46353)).call(e,"Determines if the server should burn in subtitles when converting video depending on the subtitles format. Avoiding burn in improves server performance and is only supported by the HTML5 player.",{hash:{},data:t}))+"</p> </div> "}),s),data:s}),(l||0===l)&&(o+=l),o+=" ",l=a.if.call(t,t&&t.isQtDesktop,{hash:{},inverse:u.noop,fn:u.program(96,(function(e,t){var i,s="";return s+=' <h4 class="settings-header advanced-setting">'+c(r(n(46353)).call(e,"Video",{hash:{},data:t}))+'</h4> <div class="form-group advanced-setting"> <label for="player.videoProfile">Video Playback Quality</label> <select id="player.videoProfile"> ',((i=a.each.call(e,e&&e.videoProfileListSettings,{hash:{},inverse:u.noop,fn:u.programWithDepth(97,V,t,e),data:t}))||0===i)&&(s+=i),s+=' </select> <p class="help-block">'+c(r(n(46353)).call(e,"Adjusting playback quality increases or decreases image processing during video playback.",{hash:{},data:t}))+'</p> </div> <div class="form-group advanced-setting"> <label class="control-label"> <input type="checkbox" id="player.hardwareDecodingEnabled" ',((i=a.if.call(e,null==(i=e&&e.deviceSettings)||!1===i?i:i["player.hardwareDecodingEnabled"],{hash:{},inverse:u.noop,fn:u.program(7,p,t),data:t}))||0===i)&&(s+=i),s+="> "+c(r(n(46353)).call(e,"Use Hardware Decoding",{hash:{},data:t}))+' </label> <p class="help-block">'+c(r(n(46353)).call(e,"Hardware decoding may improve video playback performance. Disable this setting if you encounter unexpected playback problems.",{hash:{},data:t}))+'</p> </div> <div class="form-group advanced-setting"> <label class="control-label"> <input type="checkbox" id="player.refreshRateSwitchingEnabled" ',((i=a.if.call(e,null==(i=e&&e.deviceSettings)||!1===i?i:i["player.refreshRateSwitchingEnabled"],{hash:{},inverse:u.noop,fn:u.program(7,p,t),data:t}))||0===i)&&(s+=i),s+="> "+c(r(n(46353)).call(e,"Enable Refresh Rate Switching",{hash:{},data:t}))+' </label> <p class="help-block">'+c(r(n(46353)).call(e,"Change refresh rate of display to match video when playing in fullscreen.",{hash:{},data:t}))+'</p> </div> <div class="form-group advanced-setting"> <label for="player.refreshRateSwitchingDelayMilliseconds">'+c(r(n(46353)).call(e,"Refresh Rate Switching Delay",{hash:{},data:t}))+'</label> <select id="player.refreshRateSwitchingDelayMilliseconds"> ',((i=a.each.call(e,e&&e.refreshRateSwitchingDelaySettings,{hash:{},inverse:u.noop,fn:u.programWithDepth(99,j,t,e),data:t}))||0===i)&&(s+=i),s+' </select> <p class="help-block">'+c(r(n(46353)).call(e,"Delay to briefly pause playback after a refresh rate switch.",{hash:{},data:t}))+"</p> </div> "}),s),data:s}),(l||0===l)&&(o+=l),o+=' <h4 class="settings-header">'+c(r(n(46353)).call(t,"Extras",{hash:{},data:s}))+'</h4> <div class="form-group"> <label for="extrasPrefixCount">'+c(r(n(46353)).call(t,"Cinema Trailers to Play Before Movies",{hash:{},data:s}))+'</label> <select id="extrasPrefixCount" data-type="int"> ',l=a.each.call(t,t&&t.extrasPrefixCounts,{hash:{},inverse:u.noop,fn:u.programWithDepth(101,(function(e,t,a){var i,s="";return s+=' <option value="'+c(typeof(i=e&&e.value)===d?i.apply(e):i)+'" ',((i=r(n(1519)).call(e,e&&e.value,null==(i=a&&a.experienceSettings)||!1===i?i:i.extrasPrefixCount,{hash:{},inverse:u.noop,fn:u.program(4,m,t),data:t}))||0===i)&&(s+=i),s+">"+c(r(n(46353)).call(e,e&&e.title,{hash:{},data:t}))+"</option> "}),s,t),data:s}),(l||0===l)&&(o+=l),o+=" </select> </div> ",l=a.unless.call(t,t&&t.isHybridPlatform,{hash:{},inverse:u.noop,fn:u.program(103,(function(e,t){var i,s="";return s+=' <h4 class="settings-header advanced-setting">'+c(r(n(46353)).call(e,"Chromecast",{hash:{},data:t}))+'</h4> <div class="form-group advanced-setting"> <label class="control-label"> <input type="checkbox" id="audioForceMultiChannel" ',((i=a.if.call(e,null==(i=e&&e.experienceSettings)||!1===i?i:i.audioForceMultiChannel,{hash:{},inverse:u.noop,fn:u.program(7,p,t),data:t}))||0===i)&&(s+=i),s+"> "+c(r(n(46353)).call(e,"Force multi-channel audio support",{hash:{},data:t}))+' </label> <p class="help-block">'+c(r(n(46353)).call(e,"Forces Chromecast to allow six channel surround sound whether or not the device reports support.",{hash:{},data:t}))+"</p> </div> "}),s),data:s}),(l||0===l)&&(o+=l),o+=" </div> ",l=a.if.call(t,t&&t.isQtDesktop,{hash:{},inverse:u.noop,fn:u.program(105,(function(e,t){var i,s="";return s+=' <div id="downloads-web-group" class="settings-group"> <div class="form-group"> <label for="musicDownloadQuality">'+c(r(n(46353)).call(e,"Music Quality",{hash:{},data:t}))+'</label> <select id="musicDownloadQuality" data-type="int"> ',((i=a.each.call(e,e&&e.musicDownloadQualityLevels,{hash:{},inverse:u.noop,fn:u.programWithDepth(106,B,t,e),data:t}))||0===i)&&(s+=i),s+=' </select> </div> <div class="form-group"> <label for="videoDownloadQuality">'+c(r(n(46353)).call(e,"Video Quality",{hash:{},data:t}))+'</label> <select id="videoDownloadQuality" data-type="int"> ',((i=a.each.call(e,e&&e.videoDownloadQualityLevels,{hash:{},inverse:u.noop,fn:u.programWithDepth(108,H,t,e),data:t}))||0===i)&&(s+=i),s+' </select> </div> <p class="help-block">'+c(r(n(46353)).call(e,"Lower quality downloads use less disk space. Media will be converted on the server.",{hash:{},data:t}))+"</p> </div> "}),s),data:s}),(l||0===l)&&(o+=l),o+=' <div class="form-footer"> <button type="submit" class="submit-btn btn btn-lg btn-primary btn-loading disabled"> <div class="loading loading-sm"></div> <span class="btn-label">'+c(r(n(46353)).call(t,"Save Changes",{hash:{},data:s}))+'</span> </button> <span class="form-message"></span> </div> ',l=a.unless.call(t,t&&t.isAnonymous,{hash:{},inverse:u.noop,fn:u.program(110,(function(e,t){var i,s="";return s+=' <div id="debug-web-group-footer" class="settings-group"> <hr /> ',((i=a.if.call(e,e&&e.isNinja,{hash:{},inverse:u.noop,fn:u.program(111,z,t),data:t}))||0===i)&&(s+=i),s+=" ",((i=a.if.call(e,e&&e.hasAdvancedDebugging,{hash:{},inverse:u.noop,fn:u.program(113,_,t),data:t}))||0===i)&&(s+=i),s+=" ",((i=a.if.call(e,e&&e.hasAdvancedDebugging,{hash:{},inverse:u.noop,fn:u.program(115,W,t),data:t}))||0===i)&&(s+=i),s+=" ",((i=a.if.call(e,e&&e.hasAdvancedDebugging,{hash:{},inverse:u.noop,fn:u.program(117,G,t),data:t}))||0===i)&&(s+=i),s+=" ",((i=a.if.call(e,e&&e.hasAdvancedDebugging,{hash:{},inverse:u.noop,fn:u.program(119,K,t),data:t}))||0===i)&&(s+=i),s+=' <div class="form-group"> <button type="button" class="restore-btn btn btn-sm btn-danger btn-loading form-control-btn"> <div class="loading loading-sm"></div> <span class="btn-label">'+c(r(n(46353)).call(e,"Restore defaults",{hash:{},data:t}))+'</span> </button> <p class="help-block"> '+c(r(n(46353)).call(e,"All {1} settings and customization will be reset and restored to their default state.",e&&e.escapedProductName,{hash:{},data:t}))+" ",((i=a.if.call(e,e&&e.isSyncSettingsAllowed,{hash:{},inverse:u.noop,fn:u.program(121,q,t),data:t}))||0===i)&&(s+=i),s+" </p> </div> </div> "}),s),data:s}),(l||0===l)&&(o+=l),o+" </form> </div> </div> "}))},26296:(e,t,n)=>{var a=n(93633);function r(e){return e&&(e.__esModule?e.default:e)}e.exports=(a.default||a).template((function(e,t,a,i,s){this.compilerInfo=[4,">= 1.0.0"],a=this.merge(a,e.helpers),s=s||{};var l,o="",c=this,d=this.escapeExpression;function u(e,t){return"active"}return o+='<ul class="agent-types-nav nav nav-pills"> ',l=a.each.call(t,t&&t.agentTypes,{hash:{},inverse:c.noop,fn:c.programWithDepth(1,(function(e,t,a){var i,s="";return s+=' <li class="',((i=r(n(1519)).call(e,null==(i=a&&a.currentType)||!1===i?i:i.id,e&&e.id,{hash:{},inverse:c.noop,fn:c.program(2,u,t),data:t}))||0===i)&&(s+=i),s+'"> <a class="btn-gray" data-type="'+d("function"==typeof(i=e&&e.typeString)?i.apply(e):i)+'" href="#">'+d(r(n(46353)).call(e,e&&e.plural,{hash:{},data:t}))+"</a> </li> "}),s,t),data:s}),(l||0===l)&&(o+=l),o+' </ul> <div class="agents-list-container"></div> <p class="help-block sortable-help-block">'+d(r(n(46353)).call(t,"Select which additional agents should contribute to metadata from {1}, and drag them to change the order of preference.",'<span class="agent-label"></span>',{hash:{},data:s}))+'</p> <div class="contributors-list-container"></div> '}))},97682:(e,t,n)=>{var a=n(93633);function r(e){return e&&(e.__esModule?e.default:e)}e.exports=(a.default||a).template((function(e,t,a,i,s){this.compilerInfo=[4,">= 1.0.0"],a=this.merge(a,e.helpers),s=s||{};var l,o="",c=this.escapeExpression;return o+='<div class="sign-in-region"></div> <form id="server-settings-form"> <div class="form-group"> <h4 class="version-header"><span class="version"></span> <span class="update-region"></span></h4> </div> ',l=a.each.call(t,t,{hash:{},inverse:this.noop,fn:this.program(1,(function(e,t){return""+" "+c(r(n(6924)).call(e,"setting",{hash:{idSuffix:"_c"},data:t}))+" "}),s),data:s}),(l||0===l)&&(o+=l),o+' <div class="form-footer"> <button type="submit" class="submit-btn btn btn-lg btn-primary btn-loading disabled"> <div class="loading loading-sm"></div> <span class="btn-label">'+c(r(n(46353)).call(t,"Save Changes",{hash:{},data:s}))+'</span> </button> <span class="form-message"></span> </div> </form> '}))},41914:(e,t,n)=>{var a=n(93633);function r(e){return e&&(e.__esModule?e.default:e)}e.exports=(a.default||a).template((function(e,t,a,i,s){this.compilerInfo=[4,">= 1.0.0"],a=this.merge(a,e.helpers),s=s||{};var l,o="",c=this.escapeExpression;return o+='<form id="server-settings-form"> ',l=a.each.call(t,t,{hash:{},inverse:this.noop,fn:this.program(1,(function(e,t){return""+" "+c(r(n(6924)).call(e,"setting",{hash:{idSuffix:"_c"},data:t}))+" "}),s),data:s}),(l||0===l)&&(o+=l),o+' <div class="form-footer"> <button type="submit" class="submit-btn btn btn-lg btn-primary btn-loading disabled"> <div class="loading loading-sm"></div> <span class="btn-label">'+c(r(n(46353)).call(t,"Save Changes",{hash:{},data:s}))+'</span> </button> <span class="form-message"></span> </div> </form> '}))},67202:(e,t,n)=>{var a=n(93633);function r(e){return e&&(e.__esModule?e.default:e)}e.exports=(a.default||a).template((function(e,t,a,i,s){this.compilerInfo=[4,">= 1.0.0"],a=this.merge(a,e.helpers),s=s||{};var l,o="",c=this.escapeExpression,d=this,u="function";function m(e,t){return""+' <h4 class="status-header status-header-single"> <span class="loading loading-sm"></span> '+c(r(n(46353)).call(e,"Disconnecting server...",{hash:{},data:t}))+" </h4> "}function p(e,t){var n;return(n=a.if.call(e,e&&e.isUnavailable,{hash:{},inverse:d.program(12,f,t),fn:d.program(7,h,t),data:t}))||0===n?n:""}function h(e,t){var i,s="";return s+=' <h4 class="status-header text-danger">'+c(r(n(46353)).call(e,"Not available outside your network",{hash:{},data:t}))+"</h4> ",((i=a.if.call(e,e&&e.isSignedOut,{hash:{},inverse:d.program(10,v,t),fn:d.program(8,g,t),data:t}))||0===i)&&(s+=i),s+" "}function g(e,t){return""+' <span class="status-description help-block">'+c(r(n(46353)).call(e,"First {1}sign in{2} to access your server from anywhere.",'<a class="sign-in-link" href="#">',"</a>",{hash:{},data:t}))+"</span> "}function v(e,t){return""+' <span class="status-description help-block">'+c(r(n(46353)).call(e,"Enable to access your server from anywhere.",{hash:{},data:t}))+'</span> <button class="remote-access-enable-btn btn btn-sm btn-primary">'+c(r(n(46353)).call(e,"Enable Remote Access",{hash:{},data:t}))+"</button> "}function f(e,t){var i,s="";return s+=" ",((i=r(n(1519)).call(e,null==(i=e&&e.cloudAccount)||!1===i?i:i.remoteAccessState,"unreachable",{hash:{},inverse:d.program(19,S,t),fn:d.program(13,b,t),data:t}))||0===i)&&(s+=i),s+=' <button class="remote-access-disable-btn btn btn-sm btn-default">'+c(r(n(46353)).call(e,"Disable Remote Access",{hash:{},data:t}))+"</button> ",((i=a.if.call(e,null==(i=e&&e.mappingModeSetting)||!1===i?i:i.value,{hash:{},inverse:d.noop,fn:d.program(21,w,t),data:t}))||0===i)&&(s+=i),s+" "}function b(e,t){var a,i="";return i+=' <h4 class="status-header text-danger">'+c(r(n(46353)).call(e,"Not available outside your network",{hash:{},data:t}))+'</h4> <span class="unreachable-description status-description help-block">'+c(r(n(46353)).call(e,"Your server is signed in to Plex, but is not reachable from outside your network. {1}Learn more{2}",'<a href="https://support.plex.tv/articles/200289506/?utm_source=Plex%20Apps&utm_medium=Plex%20Web&utm_campaign=Plex%20Apps" target="_blank">',"</a>",{hash:{},data:t}))+"</span> ",((a=r(n(1519)).call(e,null==(a=e&&e.cloudAccount)||!1===a?a:a.mappingError,"jumboframes",{hash:{},inverse:d.program(16,A,t),fn:d.program(14,y,t),data:t}))||0===a)&&(i+=a),i+" "}function y(e,t){return""+' <span class="jumbo-frames-description status-details help-block"> <span class="help-tip">'+c(r(n(46353)).call(e,"Tip:",{hash:{},data:t}))+"</span> "+c(r(n(46353)).call(e,'It looks like the devices between your server and the internet have "jumbo frames" enabled which can cause issues with remote access. Disable jumbo frames on at least one device and try again.',{hash:{},data:t}))+" </span> "}function A(e,t){var a;return(a=r(n(1519)).call(e,null==(a=e&&e.cloudAccount)||!1===a?a:a.mappingError,"doublenat",{hash:{},inverse:d.noop,fn:d.program(17,E,t),data:t}))||0===a?a:""}function E(e,t){return""+' <span class="double-nat-description status-details help-block"> <span class="help-tip">'+c(r(n(46353)).call(e,"Tip:",{hash:{},data:t}))+"</span> "+c(r(n(46353)).call(e,'It looks like your server may be connected to the internet through multiple routers or other network devices. Try connecting it directly to your primary device, or visit our support site for more information about troubleshooting this "Double-NAT" scenario. {1}Learn more{2}','<a href="https://support.plex.tv/articles/200931138/?utm_source=Plex%20Apps&utm_medium=Plex%20Web&utm_campaign=Plex%20Apps" target="_blank">',"</a>",{hash:{},data:t}))+" </span> "}function S(e,t){return""+' <h4 class="status-header text-success">'+c(r(n(46353)).call(e,"Fully accessible outside your network",{hash:{},data:t}))+'</h4> <span class="status-description help-block"> '+c(r(n(46353)).call(e,"You can access this server from signed-in Plex apps or in a browser at {1}.",'<a href="https://app.plex.tv/desktop" target="_blank">https://app.plex.tv/desktop</a>',{hash:{},data:t}))+" </span> "}function w(e,t){return""+' <p class="remote-access-disable-message help-block"> <i class="remote-access-disable-warning-icon glyphicon circle-exclamation-mark"></i> '+c(r(n(46353)).call(e,"You currently have Remote Access enabled through a manually-specified port. If you wish to disable Remote Access, you will need to remove your manual port forwarding from your router.",{hash:{},data:t}))+" </p> "}function C(e,t){var i,s="";return s+=' <div class="remote-access-advanced"> <div class="remote-access-mapping-container ',((i=a.unless.call(e,e&&e.forceAdvanced,{hash:{},inverse:d.noop,fn:d.program(25,P,t),data:t}))||0===i)&&(s+=i),s+='"> <hr> <i class="plex-image server server-xs server-logo"></i> <div class="remote-access-mapping"> <span class="mapping-label text-muted">'+c(r(n(46353)).call(e,"Private",{hash:{},data:t}))+'</span> <span class="mapping-address"> ',((i=a.if.call(e,e&&e.hasPrivateAddress,{hash:{},inverse:d.program(29,x,t),fn:d.program(27,D,t),data:t}))||0===i)&&(s+=i),s+=" </span> ",((i=a.if.call(e,e&&e.hasPublicAddress,{hash:{},inverse:d.program(33,O,t),fn:d.program(31,k,t),data:t}))||0===i)&&(s+=i),s+=' <span class="mapping-label text-muted">'+c(r(n(46353)).call(e,"Public",{hash:{},data:t}))+'</span> <span class="mapping-address"> ',((i=a.if.call(e,e&&e.hasPublicAddress,{hash:{},inverse:d.program(29,x,t),fn:d.program(35,I,t),data:t}))||0===i)&&(s+=i),s+=" </span> ",((i=r(n(1519)).call(e,null==(i=e&&e.cloudAccount)||!1===i?i:i.remoteAccessState,"ok",{hash:{},inverse:d.program(33,O,t),fn:d.program(31,k,t),data:t}))||0===i)&&(s+=i),s+=' <span class="mapping-internet ',((i=r(n(87105)).call(e,null==(i=e&&e.cloudAccount)||!1===i?i:i.remoteAccessState,"ok",{hash:{},inverse:d.noop,fn:d.program(37,T,t),data:t}))||0===i)&&(s+=i),s+='"> <i class="mapping-internet-icon glyphicon globe text-muted"></i> '+c(r(n(46353)).call(e,"Internet",{hash:{},data:t}))+" </span> </div> </div> ",((i=a.if.call(e,e&&e.hasMappingSettings,{hash:{},inverse:d.noop,fn:d.program(39,M,t),data:t}))||0===i)&&(s+=i),s+" </div> "}function P(e,t){return"advanced-setting"}function D(e,t){var n;return""+' <span class="mapping-value">'+c(typeof(n=null==(n=e&&e.cloudAccount)||!1===n?n:n.privateAddress)===u?n.apply(e):n)+'</span> <span class="mapping-separator text-muted">:</span> <span class="mapping-value">'+c(typeof(n=null==(n=e&&e.cloudAccount)||!1===n?n:n.privatePort)===u?n.apply(e):n)+"</span> "}function x(e,t){return""+' <span class="mapping-empty-value">'+c(r(n(46353)).call(e,"Unknown IP",{hash:{},data:t}))+"</span> "}function k(e,t){return' <i class="mapping-icon glyphicon left-arrow text-success"></i> '}function O(e,t){return' <i class="mapping-icon glyphicon remove-2 text-danger"></i> '}function I(e,t){var n;return""+' <span class="mapping-value">'+c(typeof(n=null==(n=e&&e.cloudAccount)||!1===n?n:n.publicAddress)===u?n.apply(e):n)+'</span> <span class="mapping-separator text-muted">:</span> <span class="mapping-value">'+c(typeof(n=null==(n=e&&e.cloudAccount)||!1===n?n:n.publicPort)===u?n.apply(e):n)+"</span> "}function T(e,t){return"unreachable"}function M(e,t){var i,s="";return s+=' <div class="remote-access-error-container ',((i=a.unless.call(e,e&&e.forceAdvanced,{hash:{},inverse:d.noop,fn:d.program(25,P,t),data:t}))||0===i)&&(s+=i),s+='"> <div class="form-inline"> <div class="checkbox"> <label class="',((i=a.if.call(e,e&&e.isUnavailable,{hash:{},inverse:d.noop,fn:d.program(40,N,t),data:t}))||0===i)&&(s+=i),s+='"> <input type="checkbox" id="'+c(typeof(i=null==(i=e&&e.mappingModeSetting)||!1===i?i:i.id)===u?i.apply(e):i)+'" name="'+c(typeof(i=null==(i=e&&e.mappingModeSetting)||!1===i?i:i.id)===u?i.apply(e):i)+'" value="1" ',((i=a.if.call(e,e&&e.isUnavailable,{hash:{},inverse:d.noop,fn:d.program(40,N,t),data:t}))||0===i)&&(s+=i),s+=" ",((i=a.if.call(e,null==(i=e&&e.mappingModeSetting)||!1===i?i:i.value,{hash:{},inverse:d.noop,fn:d.program(42,L,t),data:t}))||0===i)&&(s+=i),s+="> "+c(r(n(46353)).call(e,"Manually specify public port",{hash:{},data:t}))+' </label> </div> <div class="form-group"> <input type="text" id="'+c(typeof(i=null==(i=e&&e.mappingPortSetting)||!1===i?i:i.id)===u?i.apply(e):i)+'" name="'+c(typeof(i=null==(i=e&&e.mappingPortSetting)||!1===i?i:i.id)===u?i.apply(e):i)+'" class="form-control" value="'+c(typeof(i=null==(i=e&&e.mappingPortSetting)||!1===i?i:i.value)===u?i.apply(e):i)+'" ',((i=a.unless.call(e,e&&e.canEditPort,{hash:{},inverse:d.noop,fn:d.program(40,N,t),data:t}))||0===i)&&(s+=i),s+='> </div> <button class="retry-btn btn btn-primary btn-loading" ',((i=a.if.call(e,e&&e.isUnavailable,{hash:{},inverse:d.noop,fn:d.program(40,N,t),data:t}))||0===i)&&(s+=i),s+='> <div class="loading loading-sm"></div> <span class="btn-label">',((i=r(n(1519)).call(e,null==(i=e&&e.cloudAccount)||!1===i?i:i.remoteAccessState,"unreachable",{hash:{},inverse:d.program(46,F,t),fn:d.program(44,R,t),data:t}))||0===i)&&(s+=i),s+'</span> </button> </div> <p class="help-block">'+c(r(n(46353)).call(e,"You may need to enable this to establish a direct connection from outside your network. You may also need to configure your router. Detailed instructions are available {1}here{2}.",'<a href="https://support.plex.tv/articles/200931138/?utm_source=Plex%20Apps&utm_medium=Plex%20Web&utm_campaign=Plex%20Apps" target="_blank">',"</a>",{hash:{},data:t}))+"</p> </div> "}function N(e,t){return"disabled"}function L(e,t){return"checked"}function R(e,t){return c(r(n(46353)).call(e,"Retry",{hash:{},data:t}))}function F(e,t){return c(r(n(46353)).call(e,"Apply",{hash:{},data:t}))}function U(e,t){return"show-warning"}function V(e,t){var n;return c(typeof(n=e&&e.totalRateSettingValue)===u?n.apply(e):n)}function j(e,t){return""+" "+c(r(n(6924)).call(e,"setting",{hash:{idSuffix:"_c"},data:t}))+" "}return o+='<i class="remote-access-status-icon glyphicon globe"></i> <div class="remote-access-status-message"> ',l=r(n(1519)).call(t,null==(l=t&&t.cloudAccount)||!1===l?l:l.remoteAccessState,"connecting",{hash:{},inverse:d.program(3,(function(e,t){var a;return(a=r(n(1519)).call(e,null==(a=e&&e.cloudAccount)||!1===a?a:a.remoteAccessState,"disconnecting",{hash:{},inverse:d.program(6,p,t),fn:d.program(4,m,t),data:t}))||0===a?a:""}),s),fn:d.program(1,(function(e,t){return""+' <h4 class="status-header status-header-single"> <span class="loading loading-sm"></span> '+c(r(n(46353)).call(e,"Connecting server...",{hash:{},data:t}))+" </h4> "}),s),data:s}),(l||0===l)&&(o+=l),o+=" </div> ",l=r(n(87105)).call(t,null==(l=t&&t.cloudAccount)||!1===l?l:l.remoteAccessState,"connecting",{hash:{},inverse:d.noop,fn:d.program(23,(function(e,t){var a,i="";return i+=" ",((a=r(n(87105)).call(e,null==(a=e&&e.cloudAccount)||!1===a?a:a.remoteAccessState,"disconnecting",{hash:{},inverse:d.noop,fn:d.program(24,C,t),data:t}))||0===a)&&(i+=a),i+" "}),s),data:s}),(l||0===l)&&(o+=l),o+=" ",l=a.if.call(t,t&&t.hasUploadLimitSettings,{hash:{},inverse:d.noop,fn:d.program(48,(function(e,t){var i,s="";return s+=' <div class="remote-access-upload-container ',((i=a.unless.call(e,e&&e.totalRateSettingValue,{hash:{},inverse:d.noop,fn:d.program(49,U,t),data:t}))||0===i)&&(s+=i),s+='"> <hr> <div class="remote-access-upload-icon-container"> <i class="remote-access-upload-icon glyphicon circle-arrow-top"></i> <i class="remote-access-upload-warning-icon glyphicon circle-exclamation-mark"></i> </div> <form id="remote-access-upload-form" class="remote-access-upload-form"> <div class="remote-access-upload-speed-header">'+c(r(n(46353)).call(e,"No upload speed set",{hash:{},data:t}))+'</div> <div class="form-group"> <div class="form-inline"> <div class="form-group"> '+c(r(n(46353)).call(e,"Internet upload speed",{hash:{},data:t}))+' <input type="text" id="'+c(typeof(i=e&&e.totalRateSettingID)===u?i.apply(e):i)+'" name="'+c(typeof(i=e&&e.totalRateSettingID)===u?i.apply(e):i)+'" class="remote-access-upload-speed-control form-control" value="',((i=a.if.call(e,e&&e.totalRateSettingValue,{hash:{},inverse:d.noop,fn:d.program(51,V,t),data:t}))||0===i)&&(s+=i),s+='" > '+c(r(n(46353)).call(e,"Mbps",{hash:{},data:t}))+' </div> <p class="help-block"> '+c(r(n(46353)).call(e,"You can use {1}speedtest.net{2} to determine your internet upload capacity.",'<a href="http://speedtest.net" target="_blank" rel="noopener noreferrer">',"</a>",{hash:{},data:t}))+" <br> "+c(r(n(46353)).call(e,"Enter an upload speed here and Plex can ensure it operates within this boundary.",{hash:{},data:t}))+" </p> </div> </div> ",((i=a.each.call(e,e&&e.uploadSettings,{hash:{},inverse:d.noop,fn:d.program(53,j,t),data:t}))||0===i)&&(s+=i),s+' <div class="form-footer"> <button type="submit" class="submit-btn btn btn-lg btn-primary btn-loading disabled"> <div class="loading loading-sm"></div> <span class="btn-label">'+c(r(n(46353)).call(e,"Save Changes",{hash:{},data:t}))+'</span> </button> <span class="form-message"></span> </div> </form> </div> '}),s),data:s}),(l||0===l)&&(o+=l),o+" "}))},11772:(e,t,n)=>{var a=n(93633);function r(e){return e&&(e.__esModule?e.default:e)}e.exports=(a.default||a).template((function(e,t,a,i,s){this.compilerInfo=[4,">= 1.0.0"],a=this.merge(a,e.helpers),s=s||{};var l,o="",c=this.escapeExpression;return o+='<a href="#" class="check-for-updates-btn label label-btn label-primary ',((l=a.unless.call(t,t&&t.canCheckForUpdate,{hash:{},inverse:this.noop,fn:this.program(1,(function(e,t){return"active"}),s),data:s}))||0===l)&&(o+=l),o+'"> <i class="label-icon glyphicon upload"></i> '+c(r(n(46353)).call(t,"Check for Updates",{hash:{},data:s}))+' </a> <a href="#" class="checking-for-updates-btn label label-btn label-primary active"> <i class="label-icon glyphicon upload"></i> '+c(r(n(46353)).call(t,"Checking for Updates",{hash:{},data:s}))+' </a> <a href="#" class="available-updates-btn label label-btn label-primary"> <i class="label-icon glyphicon download"></i> '+c(r(n(46353)).call(t,"Download Updates",{hash:{},data:s}))+' </a> <span class="downloading-updates-container label label-btn label-progress active"> <i class="label-icon glyphicon download"></i> '+c(r(n(46353)).call(t,"Downloading Update",{hash:{},data:s}))+' <span class="downloading-progress-container hidden">(<span class="downloading-progress-label"></span>%)</span ></span> <a href="#" class="install-updates-btn label label-btn label-primary"> <i class="label-icon glyphicon download"></i> '+c(r(n(46353)).call(t,"Install Update",{hash:{},data:s}))+' </a> <a href="#" class="installing-updates-btn label label-btn label-primary active"> <i class="label-icon glyphicon upload"></i> '+c(r(n(46353)).call(t,"Installing",{hash:{},data:s}))+' </a> <span class="install-info-label up-to-date-label"> <i class="success-icon glyphicon ok-2"></i> '+c(r(n(46353)).call(t,"Up to date",{hash:{},data:s}))+' </span> <span class="install-info-label install-error-label"> <i class="failure-icon glyphicon circle-exclamation-mark"></i> <span class="update-error-message"></span> <a class="install-manual-link" href="https://plex.tv/downloads" target="_blank">'+c(r(n(46353)).call(t,"Please install manually.",{hash:{},data:s}))+'</a> </span> <a href="#" class="release-notes-btn label label-btn label-default"> <i class="label-icon glyphicon circle-info"></i> '+c(r(n(46353)).call(t,"What's New",{hash:{},data:s}))+" </a> "}))},65352:(e,t,n)=>{var a=n(93633);function r(e){return e&&(e.__esModule?e.default:e)}e.exports=(a.default||a).template((function(e,t,a,i,s){this.compilerInfo=[4,">= 1.0.0"],a=this.merge(a,e.helpers),s=s||{};var l,o="",c=this.escapeExpression,d=this;function u(e,t){return""+" "+c(r(n(46353)).call(e,"This Plex Media Server platform is not capable of converting video.",{hash:{},data:t}))+" "}function m(e,t){return""+" "+c(r(n(46353)).call(e,"There was a problem requesting media versions from this server.",{hash:{},data:t}))+" "}return o+='<div class="row row-padded"> <h4 class="text-muted text-center"> ',l=a.if.call(t,t&&t.isUpgradeRequired,{hash:{},inverse:d.program(3,(function(e,t){var n;return(n=a.if.call(e,e&&e.isTranscoderRequired,{hash:{},inverse:d.program(6,m,t),fn:d.program(4,u,t),data:t}))||0===n?n:""}),s),fn:d.program(1,(function(e,t){return""+" "+c(r(n(46353)).call(e,"Optimized Versions requires Plex Media Server {1} or later.",e&&e.escapedMinServerVersion,{hash:{},data:t}))+" "}),s),data:s}),(l||0===l)&&(o+=l),o+" </h4> </div> "}))},15273:(e,t,n)=>{var a=n(93633);function r(e){return e&&(e.__esModule?e.default:e)}e.exports=(a.default||a).template((function(e,t,a,i,s){this.compilerInfo=[4,">= 1.0.0"],a=this.merge(a,e.helpers),s=s||{};var l="",o=this.escapeExpression;return l+'<p class="versions-status-message hidden"> <button class="delete-all-btn btn btn-sm btn-danger pull-right">'+o(r(n(46353)).call(t,"Delete All Versions",{hash:{},data:s}))+"</button> "+o(r(n(46353)).call(t,"Monitor conversion progress in {1}Conversion Activity{2}.",'<a class="status-conversion-btn" href="#">',"</a>",{hash:{},data:s}))+' </p> <div class="background-processing-list-region"></div> '}))},56603:(e,t,n)=>{var a=n(93633);function r(e){return e&&(e.__esModule?e.default:e)}e.exports=(a.default||a).template((function(e,t,a,i,s){this.compilerInfo=[4,">= 1.0.0"],a=this.merge(a,e.helpers),s=s||{};var l,o="",c=this.escapeExpression;return o+='<div class="filter-bar"> ',l=a.unless.call(t,t&&t.shared,{hash:{},inverse:this.noop,fn:this.program(1,(function(e,t){return""+' <div class="filter-bar-right"> <button class="toggle-advanced-btn btn btn-sm btn-default basic-setting">'+c(r(n(46353)).call(e,"Show Advanced",{hash:{},data:t}))+'</button> <button class="toggle-advanced-btn btn btn-sm btn-default advanced-setting">'+c(r(n(46353)).call(e,"Hide Advanced",{hash:{},data:t}))+"</button> </div> "}),s),data:s}),(l||0===l)&&(o+=l),o+' </div> <div class="settings-row row"> <div class="pane-region col-sm-12 col-md-12"></div> </div> '}))}}]);