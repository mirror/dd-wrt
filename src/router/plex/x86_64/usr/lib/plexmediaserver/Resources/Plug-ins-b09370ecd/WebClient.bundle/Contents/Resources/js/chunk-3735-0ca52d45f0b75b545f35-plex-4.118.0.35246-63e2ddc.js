"use strict";(self.webpackChunkplex_web_client=self.webpackChunkplex_web_client||[]).push([[3735],{43735:(e,n,r)=>{r.r(n),r.d(n,{default:()=>F});var t=r(67294),a=r(4844),l=r(15042),s=r(1346),o=r(20500),i=r(28216),c=r(22222),d=r(43045),m=r(74253),v=r(70716),u=r(30566),p=r(29313),E=r(73154),Z=r(80974),N=r(90117),D=r(5562),g=r(65671),f=r(85291),w=r(91008),y=r(85479),I=r(26893),S=r(60528),O=r(82378),k=r(31060),b=r(78766),L=r(58593),P=r(81071),U=r(69605),R=r(73363),h=r(2675),x=r(46013),C=r(38506);function V(e,n){const r=n?n.split("\n"):[];return r.length>0?t.createElement(t.Fragment,null,t.createElement("div",{className:"ReleaseNotesModal-listTitle-SQlt8b"},e),t.createElement("ul",null,r.map(((e,n)=>t.createElement("li",{key:n},e))))):null}const _=function(e){const{version:n,added:r,fixed:a,isOpen:l,onClose:s}=e;return t.createElement(x.Z,{isOpen:l,metricsPage:U.Bc,onModalClose:s},t.createElement(C.Z,{onModalClose:s},t.createElement(h.Z,null,(0,D.Z)("{product} Release Notes",{product:"Plex Media Server"})),t.createElement(R.Z,null,t.createElement("div",{className:"ReleaseNotesModal-version-OtNvrC"},(0,D.Z)("Version {version}",{version:n})),V((0,D.Z)("New"),r),V((0,D.Z)("Fixes"),a))))},A=function({progress:e}){return t.createElement("div",{className:"ServerDownloadProgressBar-progress-eaqGoq"},t.createElement("div",{className:"ServerDownloadProgressBar-emptyBar-tqRFTg"}),t.createElement("div",{className:"ServerDownloadProgressBar-bar-LSLH7G",style:{transform:`translate3d(-${100-e}%, 0, 0)`}}))};var T=r(92885);const B="ServerUpdatePage-actionContainer-d6gTRB EmptyPageDescription-description-X4KZlh",M=(0,i.$j)((function(){return(0,c.P1)(m.Z,(0,d.Z)(),((e,n)=>{const r=n.update;return{serverEntityID:e.entityID,friendlyName:e.friendlyName,state:r.state,error:r.error,progress:r.progress,availableVersion:(0,v.Z)(r.version),currentVersion:(0,v.Z)(e.version),downloadURL:r.downloadURL,added:r.added,fixed:r.fixed}}))}),(function(e,n){const{serverEntityID:r}=n;return{onDismissServerUpdate(n){e((0,p.xx)({serverEntityID:r,version:n}))},onInstallServerUpdate(){e((0,p.wR)({serverEntityID:r}))},onDownloadServerUpdate(){e((0,p.Or)({serverEntityID:r}))},onRedirectToHome(){e((0,u.im)({route:"home"}))}}}))((function(e){const{serverEntityID:n,friendlyName:r,state:a,error:l,progress:s,availableVersion:o,currentVersion:i,downloadURL:c,added:d,fixed:m,onDismissServerUpdate:v,onInstallServerUpdate:u,onDownloadServerUpdate:p,onRedirectToHome:U}=e,R=a===N.NONE||a===N.DONE,h=(0,T.Z)(),x=(0,t.useCallback)((()=>{v(o)}),[o,v]);if((0,I.Z)((()=>{U()}),R),R)return null;if(a===N.INSTALLING)return t.createElement(P.Z,{serverEntityID:n});const C=(0,D.Z)("Update available for {product}",{product:"Plex Media Server"});let V=(0,D.Z)('You are currently running version {currentVersion} on the server "{friendlyName}". Version {availableVersion} is now available.',{availableVersion:o,currentVersion:i,friendlyName:r});const M="number"==typeof s&&s>=0&&s<=100;return a===N.NOTIFY&&(V=V+" "+(0,D.Z)("This update will need to be installed manually after download.")),a===N.ERROR?t.createElement(b.Z,{description:l||(0,D.Z)("Something went wrong, please try again later."),iconSrc:Z,title:C}):t.createElement(b.Z,{description:d||m?t.createElement(g.Z,{message:V+" "+(0,D.Z)("{openLink}Show release notes{closeLink}."),tags:[{open:"openLink",close:"closeLink",component:y.Z,onPress:h.onOpen,kind:S._8}]}):V,iconSrc:Z,title:(0,D.Z)("Update available for {product}",{product:"Plex Media Server"})},a===N.AVAILABLE?t.createElement("div",{className:B},t.createElement(w.Z,{kind:S._8,size:O.ln,onPress:p},(0,D.Z)("Download now"))):null,a===N.DOWNLOADING?t.createElement("div",{className:B},t.createElement("div",null,M?(0,D.Z)("Downloading Update ({progress}%)",{progress:s}):(0,D.Z)("Downloading Update")),t.createElement(E.gI,{align:"center",verticalAlign:"center",width:"100%"},M?t.createElement(A,{progress:s}):t.createElement(f.Z,{size:"small"}))):null,a===N.DOWNLOADED?t.createElement("div",{className:B},t.createElement(w.Z,{kind:S._8,size:O.ln,onPress:u},(0,D.Z)("Install now"))):null,a===N.NOTIFY?t.createElement("div",{className:B},t.createElement(w.Z,{kind:S._8,size:O.ln,target:"_blank",to:c||(0,k.Z)(),onPress:x},(0,D.Z)("Download now"))):null,a!==N.DOWNLOADING&&a!==N.DOWNLOADED?t.createElement(L.Z,null,t.createElement(y.Z,{className:"ServerUpdatePage-link-OvaQUF",kind:S._8,size:O.HC,to:"#",onPress:x},(0,D.Z)("Skip this version"))):null,t.createElement(_,{added:d,fixed:m,isOpen:h.isOpen,version:o,onClose:h.onClose}))}));function F(){const{machineIdentifier:e}=(0,s.Z)(),n=(0,a.Z)(l.cN,e);return t.createElement(o.Z,{serverEntityID:n},t.createElement(M,{serverEntityID:n}))}}}]);