"use strict";(self.webpackChunkplex_web_client=self.webpackChunkplex_web_client||[]).push([[1912],{10740:(e,t,a)=>{a.r(t),a.d(t,{default:()=>Tu});var r=a(11504),n=a(56960),c=a(39968),l=a(29208),i=a(27876),o=a(85448),s=a(79196),m=a(98352),d=a(96504),u=a(30388),p=a(14824),y=a(69524),f=a(93808),v=a(31636),b=a(72139),g=a(37984),h=a(4668),E=a(91320),I=a(83056),C=a(66984),P=a(16416),S=a(86672),w=a(77872),O=a(27256),M=a(23748),R=a(43196),T=a(8436),L=a(36820),k=a(51304),A=a(51660),x=a(1256),D=a(58224),j=a(59396),N=a(7060),W=a(97308),U=a(50920),F=a(69604),H=a(42592),V=a(13100),B=a(63700),z=a(48168);const K=(0,r.createContext)({width:0,height:0,contentHeight:0,scrollTop:0,scrollLeft:0,onRequestScrollPosition(){}});function $(){return(0,r.useContext)(K)}function q({children:e,width:t,height:a,contentHeight:n,scrollTop:c,scrollLeft:l,onRequestScrollPosition:i}){const o=(0,r.useMemo)((()=>({width:t,height:a,contentHeight:n,scrollTop:c,scrollLeft:l,onRequestScrollPosition:i})),[t,a,n,c,l,i]);return r.createElement(K.Provider,{value:o},e)}var G=a(47612);const Y={container:"PrePlayMetadata-container-ud0cxN",attributionLogo:"PrePlayMetadata-attributionLogo-_fLKOF"};var Z=Object.defineProperty,Q=Object.defineProperties,_=Object.getOwnPropertyDescriptors,X=Object.getOwnPropertySymbols,J=Object.prototype.hasOwnProperty,ee=Object.prototype.propertyIsEnumerable,te=(e,t,a)=>t in e?Z(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a,ae=(e,t)=>{for(var a in t||(t={}))J.call(t,a)&&te(e,a,t[a]);if(X)for(var a of X(t))ee.call(t,a)&&te(e,a,t[a]);return e},re=(e,t)=>Q(e,_(t)),ne=(e,t)=>{var a={};for(var r in e)J.call(e,r)&&t.indexOf(r)<0&&(a[r]=e[r]);if(null!=e&&X)for(var r of X(e))t.indexOf(r)<0&&ee.call(e,r)&&(a[r]=e[r]);return a};function ce(e){const{attribution:t,attributionLogo:a}=e;return a?r.createElement("img",{className:Y.attributionLogo,src:a}):t?r.createElement(z.c,{attribution:t}):null}function le(e){const t=e,{metadataItem:a,showAttributionLogo:n,poster:c}=t,l=ne(t,["metadataItem","showAttributionLogo","poster"]),i=$(),o=(0,G.c)()||i.width>=800;return r.createElement("div",{className:Y.container},r.createElement(U.ol,re(ae({},l),{attributionLogo:n?ce(a):null,poster:o?c:null,summaryLabelLess:(0,j.c)("Less"),summaryLabelMore:(0,j.c)("More")})))}function ie(e,t){switch(t){case f.WW.Movie:return 1===e?(0,j.c)("1 Movie"):(0,j.c)("{movieCount} Movies",{movieCount:e});case f.WW.Show:return 1===e?(0,j.c)("1 Show"):(0,j.c)("{showCount} Shows",{showCount:e});case f.WW.Season:return(0,j.c)("Seasons");case f.WW.Episode:return 1===e?(0,j.c)("1 Episode"):(0,j.c)("{episodeCount} Episodes",{episodeCount:e});case f.WW.Album:return 1===e?(0,j.c)("1 Album"):(0,j.c)("{albumCount} Albums",{albumCount:e});case f.WW.Track:return 1===e?(0,j.c)("1 Track"):(0,j.c)("{trackCount} Tracks",{trackCount:e});default:return 1===e?(0,j.c)("1 Item"):(0,j.c)("{itemCount} Items",{itemCount:e})}}var oe=a(67532),se=a(28988),me=a(55932);const de=function(e){const[t,a]=(0,r.useState)(0),n=(0,r.useRef)(null),c=(0,r.useCallback)((e=>{n.current=e,n.current&&a(n.current.offsetTop)}),[]);return(0,r.useEffect)((()=>{n.current&&a(n.current.offsetTop)}),[e]),[t,c]};var ue=a(67980),pe=a(60872),ye=a(640),fe=a(95156);const ve=Object.assign({},{defaultFontFamily:'-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif',boldFontFamily:'"PlexCircular","Open Sans", -apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif',smallFontSize:"12px",smallIconFontSize:"12px",defaultFontSize:"13px",defaultIconFontSize:"14px",largeFontSize:"15px",headerFontSize:"24px",lineHeightComputed:"1.71428571"},{hubTitleLineHeight:"24px"});var be=a(76160),ge=a(3432),he=a(46896),Ee=a(98616),Ie=a(55252);function Ce(e){const t=(0,i.OY)(),a=(0,i.w1)(Ie.c),n=(0,r.useMemo)((()=>e.every((e=>a.items[Ee.e.getIdentity(e)]))),[e,a]),c=(0,r.useCallback)((()=>{t(Ee.c.actions.selectItems({items:e}))}),[t,e]),l=(0,r.useCallback)((()=>{t(Ee.c.actions.deselectItems({items:e}))}),[t,e]),o=(0,r.useCallback)((()=>{n?l():c()}),[n,l,c]);return{isSelectionActive:!!a.count,isSelected:n,onSelect:c,onDeselect:l,onToggleSelect:o}}var Pe=a(624),Se=a(41832);const we={titleContainer:"PrePlayListTitle-titleContainer-aRl8Fh",selectButton:"PrePlayListTitle-selectButton-HQwiGj SelectButton-selectButton-_goGWp",selectedTitleContainer:"PrePlayListTitle-selectedTitleContainer-CyMOyk PrePlayListTitle-titleContainer-aRl8Fh"};function Oe({className:e=we.titleContainer,selectedClassName:t=we.selectedTitleContainer,selectButtonClassName:a=we.selectButton,isSelected:n=!1,isSelectable:c,onSelectPress:l,title:i}){return r.createElement("div",{className:n?t:e},c?r.createElement(Se.c,{className:a,isSelected:n,title:i,onPress:l}):null,r.createElement(Pe.c,null,i))}const Me={trackList:"AlbumDisc-trackList-uHEYNk",titleContainer:"AlbumDisc-titleContainer-V4dLGw PrePlayListTitle-titleContainer-aRl8Fh",selectedTitleContainer:"AlbumDisc-selectedTitleContainer-vragGm PrePlayListTitle-selectedTitleContainer-CyMOyk PrePlayListTitle-titleContainer-aRl8Fh",selectButton:"AlbumDisc-selectButton-XNlWa_ PrePlayListTitle-selectButton-HQwiGj SelectButton-selectButton-_goGWp"};var Re=Object.getOwnPropertySymbols,Te=Object.prototype.hasOwnProperty,Le=Object.prototype.propertyIsEnumerable,ke=(e,t)=>{var a={};for(var r in e)Te.call(e,r)&&t.indexOf(r)<0&&(a[r]=e[r]);if(null!=e&&Re)for(var r of Re(e))t.indexOf(r)<0&&Le.call(e,r)&&(a[r]=e[r]);return a};const Ae={height:parseInt(fe.c.tableRowHeight,10)};function xe(e){var t,a=e,{item:n,title:c}=a,l=ke(a,["item","title"]);const i=(0,he.c)(l),o=(0,r.useMemo)((()=>[ge.uU,ge.uW,ge.rV]),[]),{onToggleSelect:s,isSelected:m}=Ce(null!=(t=null==n?void 0:n.items)?t:[]);if(!n)return null;const d=c||(0,j.c)("Disc {discNumber}",{discNumber:n.index});return r.createElement("div",{ref:i.cellRef,style:i.style},r.createElement(Oe,{className:Me.titleContainer,isSelectable:!0,isSelected:m,selectButtonClassName:Me.selectButton,selectedClassName:Me.selectedTitleContainer,title:d,onSelectPress:s}),r.createElement("div",{className:Me.trackList},n.items.map(((e,t)=>{var a;return r.createElement(be.c,{key:e.key,cellIndex:t,hasTransientActionsCell:!0,index:null!=(a=e.index)?a:t,isVirtual:!1,item:e,style:Ae,tableColumns:o})}))))}const De={container:"AlbumDiscList-container-tHRsGb"};var je=Object.defineProperty,Ne=Object.defineProperties,We=Object.getOwnPropertyDescriptors,Ue=Object.getOwnPropertySymbols,Fe=Object.prototype.hasOwnProperty,He=Object.prototype.propertyIsEnumerable,Ve=(e,t,a)=>t in e?je(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a,Be=(e,t)=>{for(var a in t||(t={}))Fe.call(t,a)&&Ve(e,a,t[a]);if(Ue)for(var a of Ue(t))He.call(t,a)&&Ve(e,a,t[a]);return e},ze=(e,t)=>Ne(e,We(t));const Ke=parseInt(fe.c.v4PagePadding,10),$e=parseInt(fe.c.v4ListSpacing,10),qe=parseInt(fe.c.v4PrePlayListTitleGap,10),Ge=parseInt(fe.c.v4PrePlayDividerHeight,10),Ye=parseInt(ve.hubTitleLineHeight,10),Ze=parseInt(fe.c.tableRowHeight,10),Qe=Ye+qe+2*Ge;function _e({className:e=De.container,metadataItem:t}){var a;const{type:n,subtype:c}=t,[l,o]=(0,g.c$)(),s=$(),{descendantListSourceURI:m}=(0,i.w1)(pe.c),{totalSize:d,items:u=[]}=null!=(a=(0,ue.c)())?a:{},p=(0,r.useMemo)((()=>{var e;return null!=(e=u.reduce(((e,t)=>{const{parentIndex:a=1}=t,r=e[a];return r?r.items.push(t):e[a]={index:a,items:[t]},e}),[]).filter((()=>!0)))?e:[]}),[u]),y=1===p.length?ie(null!=d?d:0,f.WW.Track):void 0,v=(0,r.useMemo)((()=>function(e){const{overscan:t=0,outerPaddingTop:a=0,outerPaddingRight:r=0,outerPaddingBottom:n=0,outerPaddingLeft:c=0,getCellHeights:l}=e;let i,o;function s(e){const t=o.findIndex((t=>t>e)),a=o.length-1;return-1===t?a:Math.min(Math.max(0,t-1),a)}return{getListMeasurements(e,t){const{viewportWidth:s,viewportHeight:m}=e,d=s-(c+r);i=l(d),o=[];let u=a;return i.forEach((e=>{o.push(u),u+=e})),{width:d,height:i.reduce(((e,t)=>e+t),a+n),outerPaddingTop:a,outerPaddingRight:r,outerPaddingBottom:n,outerPaddingLeft:c,listTop:e.listTop,listLeft:e.listLeft,viewportWidth:s,viewportHeight:m}},getPositionForIndex(e,t){const{width:a}=t;return{column:1,row:e,cellX:c,cellY:o[e],cellWidth:a,cellHeight:i[e]}},getRangesForPosition(e,a,r,n){const{viewportHeight:c}=n,l=e+c-1,i=s(e-t*c),o=s(e),m=s(l),d=s(l+t*c);return{visibleStartIndex:(0,me.c)(o,r),visibleEndIndex:(0,me.c)(m,r),renderStartIndex:(0,me.c)(i,r),renderEndIndex:(0,me.c)(d,r)}}}}({overscan:1,getCellHeights:e=>p.map((e=>Qe+e.items.length*Ze+$e)),outerPaddingRight:Ke,outerPaddingLeft:Ke})),[p]),[b,h]=de(s.contentHeight),E=(0,r.useCallback)((e=>r.createElement(xe,ze(Be({},e),{title:y}))),[y]);return m&&d?r.createElement("div",{ref:h,className:e},r.createElement(k.cp,{containerKey:t.childrenKey,containerProvider:o,containerServer:l,containerSourceURI:m,containerSubtype:c,containerType:n,listStyle:oe.y.Table},r.createElement(ye.cp,{items:u},r.createElement(se.c,{cellComponentFactory:E,items:p,layout:v,scrollLeft:s.scrollLeft,scrollTop:s.scrollTop-b,totalSize:d,viewportHeight:s.height,viewportWidth:s.width})))):null}var Xe=a(3008);function Je({children:e}){return r.createElement(Xe.ye,{gap:"xl",orientation:["vertical","horizontal"],wrap:!0},e)}function et({children:e}){return r.createElement(Xe.ye,{gap:"xs"},e)}var tt=a(57473),at=a(41744),rt=a(90068);function nt({metadataItem:e}){const{parentTitle:t}=e,a=(0,rt.c)(e,"parentKey");return a?r.createElement(at.c,{color:"inherit",font:"inherit",href:a},t):r.createElement(r.Fragment,null,t)}var ct=a(61272),lt=a(74760),it=a(66484),ot=a(69956),st=a(36624),mt=a(20436),dt=a(92700),ut=a(41260),pt=a(84644),yt=a(67484),ft=a(19264),vt=a(84084),bt=a(25188),gt=a(52008),ht=a(18880),Et=a(25086),It=a(17068),Ct=a(91036),Pt=a(61676);function St({className:e,allowLink:t,metadataItem:a}){const{parentTitle:n}=a;return r.createElement("div",{className:e},r.createElement(Ct.c,{allowLink:t,metadataItem:a}),n?r.createElement(It.c,null):null,r.createElement(Pt.c,{allowLink:t,metadataItem:a}))}var wt=a(24992),Ot=a(38200),Mt=a(9088),Rt=a(87096),Tt=a(4388),Lt=a(6400),kt=a(77404),At=a(64156),xt=a(62592),Dt=a(22916),jt=a(2024),Nt=a(94840),Wt=a(27272),Ut=a(35768),Ft=a(96743),Ht=a(64904),Vt=a(90424);var Bt=Object.defineProperty,zt=Object.defineProperties,Kt=Object.getOwnPropertyDescriptors,$t=Object.getOwnPropertySymbols,qt=Object.prototype.hasOwnProperty,Gt=Object.prototype.propertyIsEnumerable,Yt=(e,t,a)=>t in e?Bt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a,Zt=(e,t)=>{for(var a in t||(t={}))qt.call(t,a)&&Yt(e,a,t[a]);if($t)for(var a of $t(t))Gt.call(t,a)&&Yt(e,a,t[a]);return e};const Qt=parseInt(fe.c.trackCellPadding,10),_t=r.forwardRef((({style:e,index:t,isSortable:a,cellIndex:n,cellHeight:c,metadataItem:l,metadataItemState:o},s)=>{const[m,d]=(0,g.c$)(),u=(0,i.w1)(ft.c),p=(0,i.w1)((0,Ot.c)(l,m)),y=(0,i.w1)((0,Wt.c)(Ft.K.AudioVideo,"isPaused")),{hoverRef:f,actionsMenuButtonID:v,isHovered:b,isActionsPending:h,isActionsVisible:E,isActionsMenuOpen:I,onActionsMenuClose:C,onActionsMenuCloseComplete:P,onActionsMenuToggle:S}=(0,wt.c)({server:m,provider:d,metadataItem:l,metadataItemState:o}),w=(0,r.useCallback)((e=>{e.preventDefault()}),[]),{type:O,subtype:M}=l,R=(0,Tt.cp)(O,M),T=(0,Lt.c)({height:c-2*Qt,aspectRatio:R}),L=(0,At.cp)((k=Zt({},T),A={server:m,provider:d,url:(0,kt.c)(l,{aspectRatio:R})},zt(k,Kt(A))));var k,A;const x=E&&(0,Rt.gR)({server:m,provider:d,stableUser:u,metadataItem:l,metadataItemState:o});return r.createElement(Nt.c,{ref:(0,Ut.c)(s,f),isAlternate:!!(n%2),isHovered:b,style:e},r.createElement(bt.c,{"aria-label":(0,Mt.c)(l),keyAttribute:"parentKey",metadataItem:l}),r.createElement("div",{className:"MetadataTrackDetailsRow-overlay-y7n1HE"},r.createElement("div",{className:"MetadataTrackDetailsRow-container-eP8Y7k"},r.createElement("div",{className:"MetadataTrackDetailsRow-indexPlayContainer-pVuRb6"},p||x?null:t,r.createElement(vt.c,{isVisible:!p&&x,metadataItem:l}),p?r.createElement(Ht.c,{isPaused:y}):null),r.createElement("div",{className:"MetadataTrackDetailsRow-posterContainer-JEFWFf"},r.createElement(jt.c,Zt({src:L},T))),r.createElement("div",{className:"MetadataTrackDetailsRow-titleContainer-kjcaLc"},r.createElement(ht.c,{className:"MetadataTrackDetailsRow-title-Qri1K_",metadataItem:l}),r.createElement(St,{className:"MetadataTrackDetailsRow-subtitle-qdwCkB MetadataTrackDetailsRow-title-Qri1K_",metadataItem:l})),E?r.createElement("div",{className:"MetadataTrackDetailsRow-actions-gVyfG7"},a?r.createElement(Dt.c,{className:"MetadataTrackDetailsRow-reorderButton-ixmPF8 Link-link-vSsQW1",tabIndex:-1,title:(0,j.c)("Reorder"),onPress:w},r.createElement(Vt.c,null)):null,r.createElement(xt.c,{className:"MetadataTrackDetailsRow-actionsMenuButton-c6f58C Link-link-vSsQW1","data-testid":"metadataTrackMoreButton",id:v,isPending:h,onPress:S})):r.createElement(Et.c,{className:"MetadataTrackDetailsRow-duration-JeUj57",metadataItem:l}))),r.createElement(gt.c,{actionsOverride:{isPlayVisible:!1},isOpen:I,metadataItem:l,target:v,onMenuClose:C,onMenuCloseComplete:P}))}));var Xt=a(72772),Jt=a(46016),ea=Object.getOwnPropertySymbols,ta=Object.prototype.hasOwnProperty,aa=Object.prototype.propertyIsEnumerable;const ra=r.forwardRef(((e,t)=>{var a=e,{index:n,isSortable:c,item:l}=a,i=((e,t)=>{var a={};for(var r in e)ta.call(e,r)&&t.indexOf(r)<0&&(a[r]=e[r]);if(null!=e&&ea)for(var r of ea(e))t.indexOf(r)<0&&aa.call(e,r)&&(a[r]=e[r]);return a})(a,["index","isSortable","item"]);const o=(0,Xt.c)(null==l?void 0:l.sourceURI),s=(0,he.c)(i),{cellIndex:m,cellHeight:d}=i;return l?r.createElement(L.c,{metadataItem:l},r.createElement(yt.c,{metadataItem:l,metadataItemState:o},r.createElement(_t,{ref:(0,Ut.c)(t,s.cellRef),cellHeight:d,cellIndex:m,index:n,isSortable:c,metadataItem:l,metadataItemState:o,style:s.style}))):r.createElement(Jt.c,{ref:(0,Ut.c)(t,s.cellRef),index:m,style:s.style})}));var na=a(11822),ca=a(2708),la=a(60672),ia=a(82228),oa=Object.defineProperty,sa=Object.getOwnPropertySymbols,ma=Object.prototype.hasOwnProperty,da=Object.prototype.propertyIsEnumerable,ua=(e,t,a)=>t in e?oa(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a;const pa=parseInt(fe.c.trackCellHeight,10),ya=function(e){return(0,ia.c)(((e,t)=>{for(var a in t||(t={}))ma.call(t,a)&&ua(e,a,t[a]);if(sa)for(var a of sa(t))da.call(t,a)&&ua(e,a,t[a]);return e})({rowHeight:pa,overscan:2},e))};var fa=a(42668);const va={divider:"PrePlayListDivider-divider-GDRaZg"};function ba({className:e=va.divider}){return r.createElement("div",{className:e})}const ga={hubHeader:"PrePlayVerticalHub-hubHeader-TP8gZk VirtualHubScroller-hubHeader-vSW06t",showAllContainer:"PrePlayVerticalHub-showAllContainer-yNQlC8",belowHub:"PrePlayVerticalHub-belowHub-kuKDV6"};var ha=Object.defineProperty,Ea=Object.defineProperties,Ia=Object.getOwnPropertyDescriptors,Ca=Object.getOwnPropertySymbols,Pa=Object.prototype.hasOwnProperty,Sa=Object.prototype.propertyIsEnumerable,wa=(e,t,a)=>t in e?ha(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a,Oa=(e,t)=>{for(var a in t||(t={}))Pa.call(t,a)&&wa(e,a,t[a]);if(Ca)for(var a of Ca(t))Sa.call(t,a)&&wa(e,a,t[a]);return e},Ma=(e,t)=>Ea(e,Ia(t));const Ra=parseInt(fe.c.v4PagePadding,10),Ta=3;function La({hub:e}){const{title:t,sourceURI:a,key:n,type:c,subtype:o,initialSize:s,random:m,style:d=oe.y.List,context:u,isStale:p}=e,y=(0,i.OY)(),[f,v]=(0,g.c$)(),b=$(),[h,E]=de(b.contentHeight),[I,C]=(0,r.useState)(s<Ta?s:Ta),P=(0,r.useMemo)((()=>c===oe.a.Track?ya({outerPaddingRight:Ra,outerPaddingLeft:Ra}):(0,la.c)({outerPaddingRight:Ra,outerPaddingLeft:Ra})),[c]),S=(0,r.useMemo)((()=>(0,ca.c)(a)),[a]),w=(0,i.w1)(S),O=null==w?void 0:w.items.length,M=null==w?void 0:w.totalSize,R=null==M||m?s:M,T=(0,r.useCallback)((e=>{y(na.c.actions.fetchRangeRequested(Ma(Oa({},e),{server:f,provider:v,sourceURI:a})))}),[y,f,v,a]),L=(0,r.useCallback)((()=>{C(R)}),[R]),{isPlaceholder:A,placeholderItems:x}=(0,fa.c)({hub:e,size:O,totalSize:M,initialPageSize:Ta,onPageRequest:T});(0,r.useEffect)((()=>{!I&&O&&C(O<Ta?O:Ta)}),[O,I]),(0,r.useEffect)((()=>{p&&!m&&y(na.c.actions.throttledRepopulateRequested({server:f,provider:v,sourceURI:a}))}),[y,p,v,m,f,a]);const D=(0,r.useCallback)((t=>c===oe.a.Track?r.createElement(l.cp,{key:t.key,column:t.column,row:t.row},r.createElement(ra,Oa({index:t.cellIndex+1},t))):r.createElement(pt.c,Oa({isSummaryHidden:e.hubIdentifier===ut.G.OtherEditions},t))),[e.hubIdentifier,c]);return(A||R)&&w?r.createElement(l.cp,{name:u},r.createElement(k.cp,{containerKey:n,containerProvider:v,containerServer:f,containerSourceURI:w.sourceURI,containerSubtype:o,containerType:c,listStyle:d},r.createElement("div",{className:ga.hubHeader},r.createElement(mt.c,{hub:e},t)),r.createElement(ba,null),r.createElement("div",{ref:E},r.createElement(se.c,{cellComponentFactory:D,items:A?x:w.items,keyPropName:"listItemKey",layout:P,scrollLeft:b.scrollLeft,scrollTop:b.scrollTop-h,totalSize:A?x.length:I,viewportHeight:b.height,viewportWidth:b.width,onPageRequest:A?void 0:T})),r.createElement(ba,null),!A&&I<R?r.createElement("div",{className:ga.showAllContainer},r.createElement(Dt.c,{onPress:L},(0,j.c)("Show All"))):null,r.createElement("div",{className:ga.belowHub}))):null}var ka=a(23236),Aa=a(75372);const xa={spinnerContainer:"PrePlayAugmentedHubsList-spinnerContainer-gT9hz_"};function Da({hub:e}){const t=e.style===oe.y.List?La:st.c,{serverIdentifier:a,providerIdentifier:n}=(0,ot.c)(e.sourceURI);return r.createElement(g.cp,{machineIdentifier:a,providerIdentifier:n},r.createElement(t,{hub:e,hubTitleComponent:mt.c}))}function ja({metadataItem:e}){const{augmentationKey:t}=e,a=(0,i.OY)(),[n,c]=(0,g.c$)(),{augmented:{hubs:l,isPending:o,isPopulated:s}}=(0,i.w1)(pe.c);return(0,r.useEffect)((()=>{t&&a(ka.c.actions.augmentedHubsFetchRequested({server:n,provider:c,augmentationKey:t}))}),[a,t,c,n]),t?!s&&o?r.createElement("div",{className:xa.spinnerContainer},r.createElement(Aa.c,null)):r.createElement(dt.c,{hubComponent:Da,hubs:l}):null}var Na=a(26240),Wa=a(35860);function Ua({hub:e}){const t=e.style===oe.y.List?La:st.c,{serverIdentifier:a,providerIdentifier:n}=(0,ot.c)(e.sourceURI),c=e.hubIdentifier===ut.G.PlexCredits?2:void 0;return r.createElement(g.cp,{machineIdentifier:a,providerIdentifier:n},r.createElement(t,{hub:e,hubTitleComponent:mt.c,titleCount:c}))}const Fa=(0,r.memo)((function({metadataItem:e,onScrollPositionReady:t}){const{key:a}=e,n=(0,i.OY)(),[c,l]=(0,g.c$)(),{related:{hubs:o,isPopulated:s,error:m}}=(0,i.w1)(pe.c),d=(0,i.w1)(Na.c),{isEmbedded:u}=c,p=(0,r.useMemo)((()=>o.filter((e=>{if(!(null==e?void 0:e.source))return!0;const{providerIdentifier:t}=(0,ot.c)(e.source);return t===Wa.Qh||d.find((({identifier:e})=>e===t))}))),[o,d]);return(0,r.useEffect)((()=>{u||s||m||n(ka.c.actions.relatedHubsFetchRequested({server:c,provider:l,metadataKey:a}))}),[n,m,u,s,a,l,c]),(0,r.useEffect)((()=>{(u||s||m)&&t()}),[m,u,s,t]),u||m?null:s?r.createElement(dt.c,{hubComponent:Ua,hubs:p}):r.createElement("div",{className:"PrePlayRelatedHubsList-spinnerContainer-W_NQ13"},r.createElement(Aa.c,null))}));var Ha=a(77072),Va=a(86244),Ba=a(8396),za=a(11638),Ka=a(96064);function $a(e,t,a=3){const{type:n,[t]:c=[]}=e,[l,o]=(0,g.c$)(),s=(0,i.w1)((0,Ba.c)(l.machineIdentifier,o.identifier,e.librarySectionID));if(!c.length)return null;const m=(0,Va.c)(n);return r.createElement(U.c5,{limit:a,showAllButtonFont:"inherit",showAllLabel:(0,j.c)("and more"),tags:c.map((t=>{const a=t.role?(0,za.cp)({tag:t,contentDirectory:s,server:l,provider:o,metadataItem:e}):(0,Ka.c)({tag:t,contentDirectory:s,server:l,provider:o,metadataNumericType:m});return a?r.createElement(at.c,{color:"inherit",font:"inherit",href:a},t.tag):r.createElement(Ha.a,{color:"inherit",font:"inherit"},t.tag)}))})}var qa=a(52432),Ga=a(24752),Ya=a(55588),Za=a(87440),Qa=a(2540),_a=a(87808),Xa=a(79288),Ja=a(79456),er=a(81180);function tr({type:e,stream:t}){return r.createElement("span",null,t?t.displayTitle:r.createElement(r.Fragment,null,e===f.I1.Subtitles?(0,j.c)("Off"):(0,j.c)("None")))}var ar=a(33316);const rr={menuLabelClassName:"AudioStreamsMenu-menuLabelClassName-fLobh8 SelectedMenuItem-menuLabel-nQZtur",extendedTitle:"AudioStreamsMenu-extendedTitle-IoIJir"};function nr({metadataItem:e,part:t,onSelect:a}){const n=(0,Za.c)(),c=(0,er.c)(),l=(0,Xt.c)(e.sourceURI),[i,o]=(0,r.useState)((0,Ja.c)(l.Stream,t,f.I1.Audio)),s=(0,Xa.c)(t,f.I1.Audio),m=(0,r.useCallback)((e=>{const t=s.find((t=>t.id===e));o(t),a(f.eO.Audio,e)}),[s,a]);return(0,r.useEffect)((()=>{l.isPending||o((0,Ja.c)(l.Stream,t,f.I1.Audio))}),[l.Stream,l.isPending,t]),r.createElement(r.Fragment,null,s.length>1?r.createElement(qa.c,{direction:c.isOpen?Qa.UP:Qa.aK,id:n,isSelected:!0,onPress:c.onToggle},r.createElement(tr,{stream:i,type:f.I1.Audio})):r.createElement(tr,{stream:i,type:f.I1.Audio}),r.createElement(Ga.c,{isOpen:c.isOpen,size:_a.OM,target:n,onMenuClose:c.onClose},s.map((e=>r.createElement(ar.c,{key:e.id,isSelected:e===i,menuLabelClassName:rr.menuLabelClassName,value:e.id,onSelect:(0,Ya.c)(m,c.onClose)},r.createElement(tr,{stream:e,type:f.I1.Audio}),e.title?r.createElement("span",{className:rr.extendedTitle},e.title):null)))))}var cr=a(4828),lr=a(42728),ir=a(36728),or=a(24808),sr=a(77460),mr=a(16816),dr=a(50032),ur=a(20904),pr=a(63300),yr=a(54392),fr=a(2952),vr=a(13172);const br={externalMenuItemContainer:"SubtitlesStreamsMenu-externalMenuItemContainer-BgIZ1t",externalMenuItem:"SubtitlesStreamsMenu-externalMenuItem-qXHqYr SelectedMenuItem-menuItemContainer-PNDPtO",menuLabelClassName:"SubtitlesStreamsMenu-menuLabelClassName-v0ylMa SelectedMenuItem-menuLabel-nQZtur",externalDeleteButton:"SubtitlesStreamsMenu-externalDeleteButton-YytHSz IconButton-iconButton-ebkqws Link-link-vSsQW1",extendedTitle:"SubtitlesStreamsMenu-extendedTitle-PiynUL"};function gr({metadataItem:e,part:t,onSelect:a,onDelete:c}){var l,i;const[o,s]=(0,g.c$)(),m=(0,Xt.c)(e.sourceURI),d=(0,er.c)(),u=(0,er.c)(),p=!(!(null==(l=o.ownerFeatures)?void 0:l.includes(lr._w))||!(0,dr.c)(s)),y=!(!(null==(i=o.ownerFeatures)?void 0:i.includes(lr.wt))||o.isShared||!(0,dr.c)(s)),v=(0,Za.c)(),b=(0,er.c)(),h=(0,er.c)(),[E,I]=(0,r.useState)(),[C,P]=(0,r.useState)((0,Ja.c)(m.Stream,t,f.I1.Subtitles)),S=(0,Xa.c)(t,f.I1.Subtitles),w=(0,r.useCallback)((e=>{const t=S.find((t=>t.id===e));P(t),a(f.eO.Subtitles,e)}),[a,S]),O=(0,r.useCallback)((()=>{E&&c(E)}),[c,E]);return(0,r.useEffect)((()=>{m.isPending||P((0,Ja.c)(m.Stream,t,f.I1.Subtitles))}),[m.Stream,m.isPending,t]),(0,r.useEffect)((()=>{!m.isStreamDeletePending&&h.isOpen&&h.onClose()}),[m.isStreamDeletePending]),e.rentalPrice&&!(0,mr.c)(e,m)?S.length?r.createElement(r.Fragment,null,S.filter((e=>!!e.displayTitle)).map((e=>e.displayTitle)).join(", ")):r.createElement(r.Fragment,null,(0,j.c)("None")):r.createElement(r.Fragment,null,S.length||p||y?r.createElement(qa.c,{direction:b.isOpen?Qa.UP:Qa.aK,id:v,isSelected:!0,onPress:b.onToggle},S.length?r.createElement(tr,{stream:C,type:f.I1.Subtitles}):(0,j.c)("None")):(0,j.c)("None"),r.createElement(Ga.c,{isAutoCloseDisabled:h.isOpen,isOpen:b.isOpen,size:_a.OM,target:v,onMenuClose:b.onClose},S.length?r.createElement(ar.c,{key:cr.K,isSelected:!C,value:cr.K,onSelect:(0,Ya.c)(w,b.onClose)},r.createElement(tr,{type:f.I1.Subtitles})):null,S.map((e=>{const t=!!e.key&&o.isFullOwnedServer;return r.createElement("div",{key:e.id,className:t?br.externalMenuItemContainer:void 0},r.createElement(ar.c,{className:t?br.externalMenuItem:void 0,isSelected:e===C,menuLabelClassName:br.menuLabelClassName,value:e.id,onSelect:(0,Ya.c)(w,b.onClose)},r.createElement(tr,{stream:e,type:f.I1.Subtitles}),e.title?r.createElement("span",{className:br.extendedTitle},e.title):null),t?r.createElement(r.Fragment,null,r.createElement(ur.c,{ariaLabel:(0,j.c)("Delete Subtitle"),className:br.externalDeleteButton,iconComponent:vr.c,onPress:(0,Ya.c)(h.onOpen,(()=>I(e.key)))}),r.createElement(pr.c,{confirmLabel:(0,j.c)("Delete"),isConfirmButtonSpinning:m.isStreamDeletePending,isOpen:h.isOpen,kind:or.od,message:(0,j.c)("Are you sure you want to delete this subtitle file?"),metricsPage:n.cd,title:(0,j.c)("Delete Subtitle File"),onCancel:h.onClose,onConfirm:O})):null)})),p?r.createElement(ir.c,{onPress:(0,Ya.c)(d.onOpen,b.onClose)},(0,j.c)("Search...")):null,y?r.createElement(ir.c,{onPress:(0,Ya.c)(u.onOpen,b.onClose)},(0,j.c)("Upload...")):null),r.createElement(sr.c,{metadataItem:e,metadataItemState:m},(({metadataItemEntityID:e,onMarkStale:t})=>r.createElement(r.Fragment,null,r.createElement(yr.c,{isOpen:d.isOpen,metadataItemEntityID:e,onModalClose:(0,Ya.c)(d.onClose,t)}),r.createElement(fr.c,{isOpen:u.isOpen,metadataItemEntityID:e,onModalClose:(0,Ya.c)(u.onClose,t)})))))}var hr=a(33632),Er=a(96048),Ir=a(17464),Cr=a(3852);function Pr(e){const t=(0,i.OY)(),[a,n]=(0,g.c$)(),{items:c}=(0,L.Q)(),l=(0,i.w1)((0,Ir.c)(Wa.Sg,Wa.SI(n.identifier))),o=Wa._u(n.identifier,Wa.Im),s=(0,r.useMemo)((()=>!(!o||!e.playableKey||1!==c.length)),[o,c.length,e.playableKey]),m=s&&c?c[0]:e,d=(0,Xt.c)(m.sourceURI),u=d.Stream,p=function(e){const t=e.Media;if(null==t?void 0:t.length)return 1===t.length?t[0]:Array.from(t).sort(((e,t)=>{var a,r,n,c;return(null!=(a=t.width)?a:0)-(null!=(r=e.width)?r:0)||(null!=(n=t.bitrate)?n:0)-(null!=(c=e.bitrate)?c:0)}))[0]}(m),y=(null==p?void 0:p.Part)&&p.Part[0],v=y?(0,Ja.c)(u,y,f.I1.Video):void 0,b=!o||s;(0,r.useEffect)((()=>{if(y&&!u&&a.isCloud&&b){const e=s?l:n;if(!e)return;t(Er.c.actions.fetchRequested({server:a,provider:e,metadataItem:m}))}}),[t,b,y,n,u,a,s,m,l]);const h=(0,r.useCallback)(((e,r)=>{(0,Cr.c)(null!=y,"A part is required to select a stream");const c=s&&l;t(Er.c.actions.streamSelectRequested({server:a,provider:c?l:n,sourceURI:m.sourceURI,part:y,streamIDParam:e,streamID:r,allParts:!0}))}),[y,l,t,a,s,n,m.sourceURI]),E=(0,r.useCallback)((e=>{t(Er.c.actions.streamDeleteRequested({server:a,provider:n,sourceURI:m.sourceURI,streamKey:e}))}),[t,m.sourceURI,n,a]),I=m.Media&&m.Media.length>1&&(0,dr.c)(n)?m.Media.map((e=>{const{info:t,title:a}=(0,hr.c)(e),r=!!(null==t?void 0:t.length);return a?r?`${a} (${t})`:a:r?t:(0,j.c)("Unknown")})):[];return y?b&&d.isPending&&!d.isPopulated?r.createElement(et,null,r.createElement(U.Qp,{label:(0,j.c)("Video")},r.createElement(Ha.a,{color:"muted",font:"body-2"},(0,j.c)("Loading..."))),r.createElement(U.Qp,{label:(0,j.c)("Audio")},r.createElement(Ha.a,{color:"muted",font:"body-2"},(0,j.c)("Loading..."))),r.createElement(U.Qp,{label:(0,j.c)("Subtitles")},r.createElement(Ha.a,{color:"muted",font:"body-2"},(0,j.c)("Loading...")))):r.createElement(et,null,I.length?r.createElement(U.Qp,{label:(0,j.c)("Versions")},r.createElement(U.c5,{limit:1,showAllLabel:(0,j.c)("and more"),tags:I})):null,r.createElement(U.Qp,{label:(0,j.c)("Video")},r.createElement(tr,{stream:v,type:f.I1.Video})),r.createElement(U.Qp,{label:(0,j.c)("Audio")},r.createElement(nr,{metadataItem:m,part:y,onSelect:h})),r.createElement(U.Qp,{label:(0,j.c)("Subtitles")},r.createElement(gr,{metadataItem:m,part:y,onDelete:E,onSelect:h}))):null}function Sr({metadataItem:e,onScrollPositionReady:t}){const{audienceRating:a,contentRating:n,duration:c,rating:l,summary:i,studio:o,year:s}=e,m=(0,B.c)(e),d=$a(e,"Genre"),u=$a(e,"Style"),p=Pr(e),y=!(!u&&!o);return r.createElement(r.Fragment,null,r.createElement(le,{buttonBar:r.createElement(tt.c,{isChromaMetadata:!0,metadataItem:e,promotedActions:["isPlayVisible","isShuffleVisible","isAddToPlaylistVisible","isSyncDownloadVisible","isEditVisible"]}),facts:[s,c?(0,F.c)(c):void 0,n?(0,H.c)(n):void 0],genres:d,metadataItem:e,poster:r.createElement(lt.c,{isChromaMetadata:!0,metadataItem:e}),ratings:[l||a?r.createElement(V.c,{metadataItem:e}):null],showAttributionLogo:!0,starRating:m?r.createElement(ct.g,{metadataItem:e}):void 0,subtitle:(0,it.c)(e),summary:i,title:r.createElement(nt,{metadataItem:e})},y||p?r.createElement(Je,null,y?r.createElement(et,null,o?r.createElement(U.Qp,{label:(0,j.c)("Record Label")},o):null,u?r.createElement(U.Qp,{label:(0,j.c)("Style")},u):null):null,p):null),r.createElement(_e,{metadataItem:e}),r.createElement(ja,{metadataItem:e}),r.createElement(Fa,{metadataItem:e,onScrollPositionReady:t}))}var wr=a(78168),Or=a(3188),Mr=a(6536);function Rr({metadataList:e,metadataItem:t}){var a,n;const c=(0,i.OY)(),[l,o]=(0,g.c$)(),{type:s,subtype:m,skipChildren:d}=t,u=d?(0,Or.S)(s,m):(0,Or.u)(s,m),[p,y]=(0,r.useState)(!1),f=null!=(a=e.totalSize)?a:0,v=e.items.length,{onSelect:b,onToggleSelect:h,isSelected:E}=Ce(e.items);(0,r.useEffect)((()=>{p&&(v<f?c(na.c.actions.fetchAllRequested({server:l,provider:o,sourceURI:e.sourceURI,includePaginationHeaders:(0,wr.c)(o)})):b())}),[c,p,v,e.sourceURI,b,o,l,f]),(0,r.useEffect)((()=>{E&&y(!1)}),[E]);const I=(0,r.useCallback)((()=>{v<f?y(!p):h()}),[p,v,h,f]),C=ie(null!=(n=e.totalSize)?n:0,null!=u?u:s);return r.createElement(Oe,{isSelectable:(0,Mr.c)(o),isSelected:E||p,title:C,onSelectPress:I})}var Tr=Object.defineProperty,Lr=Object.defineProperties,kr=Object.getOwnPropertyDescriptors,Ar=Object.getOwnPropertySymbols,xr=Object.prototype.hasOwnProperty,Dr=Object.prototype.propertyIsEnumerable,jr=(e,t,a)=>t in e?Tr(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a,Nr=(e,t)=>{for(var a in t||(t={}))xr.call(t,a)&&jr(e,a,t[a]);if(Ar)for(var a of Ar(t))Dr.call(t,a)&&jr(e,a,t[a]);return e},Wr=(e,t)=>Lr(e,kr(t));const Ur=parseInt(fe.c.v4PagePadding,10);function Fr({items:e,totalSize:t,viewportWidth:a,viewportHeight:n,scrollTop:c,scrollLeft:l,onPageRequest:i}){const o=(0,r.useMemo)((()=>(0,la.c)({outerPaddingRight:Ur,outerPaddingLeft:Ur})),[]),s=(0,r.useCallback)((e=>r.createElement(pt.c,Wr(Nr({},e),{isParentDetailHidden:!0}))),[]);return r.createElement(r.Fragment,null,r.createElement(ba,null),r.createElement(se.c,{cellComponentFactory:s,items:e,keyPropName:"listItemKey",layout:o,scrollLeft:l,scrollTop:c,totalSize:t,viewportHeight:n,viewportWidth:a,onPageRequest:i}),r.createElement(ba,null))}var Hr=a(98348);function Vr({metadataList:e,metadataItem:t}){const{type:a,subtype:n,skipChildren:c}=t,l=c?(0,Or.S)(a,n):(0,Or.u)(a,n),i=ie((0,r.useMemo)((()=>e.items.filter((e=>!!(0,Hr.c)(e.Media))).length),[e.items]),null!=l?l:a);return r.createElement(Oe,{title:i})}var Br=a(84144),zr=a(12696),Kr=a(50536),$r=Object.defineProperty,qr=Object.getOwnPropertySymbols,Gr=Object.prototype.hasOwnProperty,Yr=Object.prototype.propertyIsEnumerable,Zr=(e,t,a)=>t in e?$r(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a,Qr=(e,t)=>{for(var a in t||(t={}))Gr.call(t,a)&&Zr(e,a,t[a]);if(qr)for(var a of qr(t))Yr.call(t,a)&&Zr(e,a,t[a]);return e};function _r({type:e,subtype:t,items:a,totalSize:n,viewportWidth:c,viewportHeight:l,scrollTop:o,scrollLeft:s,onPageRequest:m}){const d=(0,i.w1)(Kr.c),{containerMeta:u}=(0,k.qy)(),p=(0,r.useMemo)((()=>(0,zr.c)({listType:e,subtype:t,columnWidth:d,listStyle:oe.y.PrePlayGrid,displayFields:null==u?void 0:u.DisplayFields,displayImages:null==u?void 0:u.DisplayImage})),[d,null==u?void 0:u.DisplayFields,null==u?void 0:u.DisplayImage,t,e]),y=(0,r.useCallback)((e=>r.createElement(Br.c,Qr({},e))),[]);return r.createElement(se.c,{cellComponentFactory:y,items:a,keyPropName:"listItemKey",layout:p,scrollLeft:s,scrollTop:o,totalSize:n,viewportHeight:l,viewportWidth:c,onPageRequest:m})}var Xr=a(89080),Jr=a.n(Xr),en=a(60148),tn=a(84860);let an;var rn=a(20900),nn=a(19776),cn=a(61224),ln=a(29956);const on="MetadataSimpleDetailsRow-unwatchedCircle-S_NEKn",sn=r.forwardRef((({style:e,cellIndex:t,metadataItem:a,metadataItemState:n},c)=>{const[l,o]=(0,g.c$)(),s=(0,i.w1)(ft.c),m=(0,i.w1)((0,Ot.c)(a,l)),d=(0,i.w1)((0,Wt.c)(Ft.K.AudioVideo,"isPaused")),{hoverRef:u,actionsMenuButtonID:p,isHovered:y,isActionsPending:f,isActionsVisible:v,isActionsMenuOpen:b,onActionsMenuClose:h,onActionsMenuCloseComplete:E,onActionsMenuToggle:I}=(0,wt.c)({server:l,provider:o,metadataItem:a,metadataItemState:n}),{isSelected:C,isInSelectionRange:P,isSelectionActive:S,onToggleSelect:w}=(0,ln.c)({isHovered:y,metadataItem:a,metadataItemState:n}),O=(0,r.useMemo)((()=>P?"MetadataSimpleDetailsRow-rangeListRow-wZqarV ListRow-row-oh5MTV":C?"MetadataSimpleDetailsRow-selectedListRow-b7NijL ListRow-row-oh5MTV":void 0),[P,C]),M=!S&&v,R=(0,r.useCallback)((()=>{w()}),[w]),T=M&&(0,Rt.gR)({server:l,provider:o,stableUser:s,metadataItem:a,metadataItemState:n});return r.createElement(Nt.c,{ref:(0,Ut.c)(c,u),alternateClassName:O,className:O,isAlternate:!!(t%2),isHovered:y,style:e},(0,Mr.c)(o)?r.createElement(cn.c,{isInSelectionRange:P,isSelected:C,isVisible:C||P||y,title:(0,Mt.c)(a),onPress:R}):null,S?r.createElement(Dt.c,{className:"MetadataSimpleDetailsRow-selectOverlay-oQLfat Link-link-vSsQW1",onPress:R}):r.createElement(bt.c,{"aria-label":(0,Mt.c)(a),keyAttribute:"key",metadataItem:a}),r.createElement("div",{className:"MetadataSimpleDetailsRow-overlay-i6axK7"},r.createElement("div",{className:"MetadataSimpleDetailsRow-simpleSummaryContainer-HfmzEQ"},r.createElement("div",{className:"MetadataSimpleDetailsRow-indexPlayContainer-Vgsmos"},m||T?null:r.createElement(rn.c,{className:"MetadataSimpleDetailsRow-titleEpisodeIndex-zzDjti",metadataItem:a}),r.createElement(vt.c,{isVisible:!m&&T,metadataItem:a}),m?r.createElement(Ht.c,{isPaused:d}):null,(0,nn.c)(a,n,o)?r.createElement(r.Fragment,null,n.viewOffset||n.viewCount?null:r.createElement("div",{className:on}),n.viewOffset?r.createElement("div",{className:Jr()(on,"MetadataSimpleDetailsRow-isPartiallyWatched-Du016G")}):null):null),r.createElement("div",{className:"MetadataSimpleDetailsRow-titleAndSummaryContainer-jjqqtZ"},r.createElement("div",{className:"MetadataSimpleDetailsRow-titleContainer-m9y2F0"},r.createElement("div",{className:"MetadataSimpleDetailsRow-title-inM8GI"},a.title),M?r.createElement("div",{className:"MetadataSimpleDetailsRow-actions-tPG7hS"},r.createElement(xt.c,{"data-testid":"metadataRowMoreButton",id:p,isPending:f,onPress:I})):null),r.createElement("div",{className:"MetadataSimpleDetailsRow-summary-yMvPIn"},function(e,t){const{tagline:a,summary:r}=t;return a||((0,en.c)(e.identifier)===tn.ai?function(e){if(!e)return"";an||(an=document.createElement("P")),an.innerHTML=e;const t=an.textContent;return an.innerHTML="",t}(r):r)}(o,a))))),r.createElement(gt.c,{actionsOverride:{isPlayVisible:!1},isOpen:b,metadataItem:a,target:p,onMenuClose:h,onMenuCloseComplete:E}))}));var mn=Object.getOwnPropertySymbols,dn=Object.prototype.hasOwnProperty,un=Object.prototype.propertyIsEnumerable,pn=(e,t)=>{var a={};for(var r in e)dn.call(e,r)&&t.indexOf(r)<0&&(a[r]=e[r]);if(null!=e&&mn)for(var r of mn(e))t.indexOf(r)<0&&un.call(e,r)&&(a[r]=e[r]);return a};function yn(e){var t=e,{item:a}=t,n=pn(t,["item"]);const c=(0,Xt.c)(null==a?void 0:a.sourceURI),l=(0,he.c)(n),{cellIndex:i}=n;return a?r.createElement(yt.c,{metadataItem:a,metadataItemState:c},r.createElement(sn,{ref:l.cellRef,cellIndex:i,metadataItem:a,metadataItemState:c,style:l.style})):r.createElement(Jt.c,{index:i,style:l.style})}var fn=Object.defineProperty,vn=Object.getOwnPropertySymbols,bn=Object.prototype.hasOwnProperty,gn=Object.prototype.propertyIsEnumerable,hn=(e,t,a)=>t in e?fn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a;const En=parseInt(fe.c.simpleSummaryCellHeight,10),In=parseInt(fe.c.v4PagePadding,10),Cn=function(e){return(0,ia.c)(((e,t)=>{for(var a in t||(t={}))bn.call(t,a)&&hn(e,a,t[a]);if(vn)for(var a of vn(t))gn.call(t,a)&&hn(e,a,t[a]);return e})({rowHeight:En,outerPaddingRight:In,outerPaddingLeft:In,overscan:2},e))},Pn={allEpisodesContainer:"PrePlaySimpleDetailsVirtualList-allEpisodesContainer-LsdVgo"};var Sn=Object.defineProperty,wn=Object.getOwnPropertySymbols,On=Object.prototype.hasOwnProperty,Mn=Object.prototype.propertyIsEnumerable,Rn=(e,t,a)=>t in e?Sn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a,Tn=(e,t)=>{for(var a in t||(t={}))On.call(t,a)&&Rn(e,a,t[a]);if(wn)for(var a of wn(t))Mn.call(t,a)&&Rn(e,a,t[a]);return e};function Ln({items:e,totalSize:t,type:a,viewportWidth:n,viewportHeight:c,scrollTop:l,scrollLeft:i,onPageRequest:o}){const s=a===oe.a.Episode,[m,d]=(0,r.useState)(s&&t>=3?3:t),u=(0,r.useMemo)((()=>Cn()),[]),p=(0,r.useCallback)((()=>{d(t)}),[t]),y=(0,r.useCallback)((e=>r.createElement(yn,Tn({},e))),[]);return r.createElement(r.Fragment,null,r.createElement(ba,null),r.createElement(se.c,{cellComponentFactory:y,items:e,keyPropName:"listItemKey",layout:u,scrollLeft:i,scrollTop:l,totalSize:m,viewportHeight:c,viewportWidth:n,onPageRequest:o}),r.createElement(ba,null),r.createElement("div",{className:Pn.allEpisodesContainer},m<t?r.createElement(Dt.c,{onPress:p},(0,j.c)("Show All Episodes")):null))}var kn=Object.defineProperty,An=Object.getOwnPropertySymbols,xn=Object.prototype.hasOwnProperty,Dn=Object.prototype.propertyIsEnumerable,jn=(e,t,a)=>t in e?kn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a,Nn=(e,t)=>{for(var a in t||(t={}))xn.call(t,a)&&jn(e,a,t[a]);if(An)for(var a of An(t))Dn.call(t,a)&&jn(e,a,t[a]);return e};const Wn=parseInt(fe.c.v4PagePadding,10);function Un({items:e,totalSize:t,viewportWidth:a,viewportHeight:n,scrollTop:c,scrollLeft:l,onPageRequest:i}){const o=(0,r.useMemo)((()=>ya({outerPaddingRight:Wn,outerPaddingLeft:Wn})),[]),s=(0,r.useCallback)((e=>r.createElement(ra,Nn({index:e.cellIndex+1},e))),[]);return r.createElement(r.Fragment,null,r.createElement(ba,null),r.createElement(se.c,{cellComponentFactory:s,items:e,keyPropName:"listItemKey",layout:o,scrollLeft:l,scrollTop:c,totalSize:t,viewportHeight:n,viewportWidth:a,onPageRequest:i}),r.createElement(ba,null))}var Fn=a(46764),Hn=a(23256),Vn=a(86068);const Bn={recordIconContainer:"RecordButton-recordIconContainer-j3gVTg PlayButton-playCircle-mkZ5qi",recordIcon:"RecordButton-recordIcon-Z04HyR"};var zn=Object.defineProperty,Kn=Object.getOwnPropertySymbols,$n=Object.prototype.hasOwnProperty,qn=Object.prototype.propertyIsEnumerable,Gn=(e,t,a)=>t in e?zn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a;function Yn(e){var t=e,{iconContainerClassName:a=Bn.recordIconContainer,iconClassName:n=Bn.recordIcon}=t,c=((e,t)=>{var a={};for(var r in e)$n.call(e,r)&&t.indexOf(r)<0&&(a[r]=e[r]);if(null!=e&&Kn)for(var r of Kn(e))t.indexOf(r)<0&&qn.call(e,r)&&(a[r]=e[r]);return a})(t,["iconContainerClassName","iconClassName"]);return r.createElement(Dt.c,((e,t)=>{for(var a in t||(t={}))$n.call(t,a)&&Gn(e,a,t[a]);if(Kn)for(var a of Kn(t))qn.call(t,a)&&Gn(e,a,t[a]);return e})({"aria-label":(0,j.c)("Record")},c),r.createElement("span",{className:a},r.createElement("span",{className:n})))}var Zn=a(10376),Qn=a(78112);const _n={overlay:"EPGSimpleSummaryRow-overlay-u9kSRm",titleContainer:"EPGSimpleSummaryRow-titleContainer-kQW9pa",primaryTitle:"EPGSimpleSummaryRow-primaryTitle-AX_CUS",secondaryTitle:"EPGSimpleSummaryRow-secondaryTitle-NFTD7k",nextAiringDate:"EPGSimpleSummaryRow-nextAiringDate-yU4LcE",separator:"EPGSimpleSummaryRow-separator-zxEoiC DashSeparator-separator-_3fMys",subscriptionIcon:"EPGSimpleSummaryRow-subscriptionIcon-KSQf2Z"},Xn=r.forwardRef((({style:e,cellIndex:t,metadataItem:a,metadataItemState:n},c)=>{const{metricsPage:o,metricsContextTuple:s}=(0,l.e0)(),[m,d]=(0,g.c$)(),u=(0,i.w1)(ft.c),p=(0,er.c)(),[y,f]=(0,Zn.c)(),v=a&&(0,Rt.uU)({provider:d,server:m,stableUser:u,metadataItem:a,metadataItemState:n}),{summary:b}=a,{subscriptionID:h}=n;return r.createElement(Nt.c,{ref:(0,Ut.c)(c,f),isAlternate:!!(t%2),isHovered:y,style:e},r.createElement(bt.c,{"aria-label":(0,Mt.c)(a),keyAttribute:"key",metadataItem:a}),r.createElement("div",{className:_n.overlay},r.createElement("div",{className:_n.titleContainer},r.createElement("div",{className:_n.primaryTitle},r.createElement(Vn.c,{className:_n.titleEpisodeIndex,metadataItem:a}),r.createElement(It.c,null),r.createElement(ht.c,{allowLink:!1,metadataItem:a})),r.createElement("div",{className:_n.secondaryTitle},h?r.createElement(Fn.c,{"aria-label":(0,j.c)("Recording Scheduled"),className:_n.subscriptionIcon}):null,r.createElement(Hn.c,{className:_n.nextAiringDate,metadataItem:a}),b?r.createElement(It.c,{className:_n.separator}):null,b)),y&&v?r.createElement(Yn,{tabIndex:-1,onPress:p.onOpen}):null),r.createElement(sr.c,{metadataItem:a,metadataItemState:n},(({serverEntityID:e,providerEntityID:t,metadataItemEntityID:c,onMarkStale:l})=>r.createElement(Qn.c,{isOpen:p.isOpen,metadataItemEntityID:c,metricsProperties:{page:o,contextTuple:s},providerEntityID:t,serverEntityID:e,subscriptionType:n.grandparentSubscriptionType||n.subscriptionType||a.type,onModalClose:(0,Ya.c)(l,p.onClose)}))))}));var Jn=Object.getOwnPropertySymbols,ec=Object.prototype.hasOwnProperty,tc=Object.prototype.propertyIsEnumerable,ac=(e,t)=>{var a={};for(var r in e)ec.call(e,r)&&t.indexOf(r)<0&&(a[r]=e[r]);if(null!=e&&Jn)for(var r of Jn(e))t.indexOf(r)<0&&tc.call(e,r)&&(a[r]=e[r]);return a};function rc(e){var t=e,{item:a}=t,n=ac(t,["item"]);const c=(0,Xt.c)(null==a?void 0:a.sourceURI),l=(0,he.c)(n),{cellIndex:i}=n;return a?r.createElement(yt.c,{metadataItem:a,metadataItemState:c},r.createElement(Xn,{ref:l.cellRef,cellIndex:i,metadataItem:a,metadataItemState:c,style:l.style})):r.createElement(Jt.c,{index:i,style:l.style})}var nc=Object.defineProperty,cc=Object.getOwnPropertySymbols,lc=Object.prototype.hasOwnProperty,ic=Object.prototype.propertyIsEnumerable,oc=(e,t,a)=>t in e?nc(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a,sc=(e,t)=>{for(var a in t||(t={}))lc.call(t,a)&&oc(e,a,t[a]);if(cc)for(var a of cc(t))ic.call(t,a)&&oc(e,a,t[a]);return e};const mc=96;function dc({items:e,viewportWidth:t,viewportHeight:a,scrollTop:n,scrollLeft:c,onPageRequest:l}){const i=(0,r.useMemo)((()=>Cn({rowHeight:mc})),[]),o=(0,r.useCallback)((e=>r.createElement(rc,sc({},e))),[]),s=(0,r.useMemo)((()=>{const t=e.filter((e=>!!(0,Hr.c)(e.Media)));return t.sort(((e,t)=>{const a=(0,Hr.c)(e.Media),r=(0,Hr.c)(t.Media);return(null==a?void 0:a.endsAt)&&(null==r?void 0:r.endsAt)?a.endsAt>r.endsAt?1:-1:0})),t}),[e]),m=(0,r.useMemo)((()=>s.length),[s]);return r.createElement(r.Fragment,null,r.createElement(ba,null),r.createElement(se.c,{cellComponentFactory:o,items:s,keyPropName:"listItemKey",layout:i,scrollLeft:c,scrollTop:n,totalSize:m,viewportHeight:a,viewportWidth:t,onPageRequest:l}),r.createElement(ba,null))}var uc=a(9120),pc=a(72984);const yc={listContainer:"PrePlayDescendantList-listContainer-RJzpLn"};var fc=Object.defineProperty,vc=Object.defineProperties,bc=Object.getOwnPropertyDescriptors,gc=Object.getOwnPropertySymbols,hc=Object.prototype.hasOwnProperty,Ec=Object.prototype.propertyIsEnumerable,Ic=(e,t,a)=>t in e?fc(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a,Cc=(e,t)=>{for(var a in t||(t={}))hc.call(t,a)&&Ic(e,a,t[a]);if(gc)for(var a of gc(t))Ec.call(t,a)&&Ic(e,a,t[a]);return e},Pc=(e,t)=>vc(e,bc(t));function Sc({className:e=yc.listContainer,metadataItem:t}){const a=(0,i.OY)(),[n,c]=(0,g.c$)(),l=$(),{descendantListSourceURI:o}=(0,i.w1)(pe.c),s=(0,i.w1)(pc.c),m=(0,i.w1)(uc.c),d=(0,ue.c)(),[u,p]=de(l.contentHeight),y=(0,r.useCallback)((e=>{o&&a(na.c.actions.fetchRangeRequested(Pc(Cc({},e),{server:n,provider:c,sourceURI:o})))}),[o,a,c,n]),f=function(e,t){switch(t){case oe.y.PrePlayGrid:return _r;case oe.y.Details:return Fr;case oe.y.SimpleDetails:return(0,N.c)(e)?dc:Ln;case oe.y.TrackDetails:return Un}throw new Error("Failed to map the preplay descendant list style to a list component. Check `selectPrePlayDescendantListStyles` for list style options.")}(t,m);return o&&s&&d&&d.totalSize?r.createElement("div",{ref:p,className:e},r.createElement(k.cp,{containerKey:t.childrenKey,containerProvider:c,containerServer:n,containerSourceURI:o,containerSubtype:t.subtype,containerType:s,listStyle:m},(0,wr.c)(c)?r.createElement(Vr,{metadataItem:t,metadataList:d}):r.createElement(Rr,{metadataItem:t,metadataList:d}),r.createElement(ye.cp,{items:d.items},r.createElement(f,{items:d.items,scrollLeft:l.scrollLeft,scrollTop:l.scrollTop-u,subtype:t.subtype,totalSize:d.totalSize,type:s,viewportHeight:l.height,viewportWidth:l.width,onPageRequest:y})))):null}var wc=a(67604),Oc=a(80280),Mc=Object.defineProperty,Rc=Object.defineProperties,Tc=Object.getOwnPropertyDescriptors,Lc=Object.getOwnPropertySymbols,kc=Object.prototype.hasOwnProperty,Ac=Object.prototype.propertyIsEnumerable,xc=(e,t,a)=>t in e?Mc(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a,Dc=(e,t)=>{for(var a in t||(t={}))kc.call(t,a)&&xc(e,a,t[a]);if(Lc)for(var a of Lc(t))Ac.call(t,a)&&xc(e,a,t[a]);return e},jc=(e,t)=>Rc(e,Tc(t)),Nc=(e,t)=>{var a={};for(var r in e)kc.call(e,r)&&t.indexOf(r)<0&&(a[r]=e[r]);if(null!=e&&Lc)for(var r of Lc(e))t.indexOf(r)<0&&Ac.call(e,r)&&(a[r]=e[r]);return a};function Wc(){const[e,t]=(0,g.c$)(),{extrasSourceURI:a}=(0,i.w1)(pe.c),n=(0,r.useMemo)((()=>a?(0,ca.c)(a):()=>{}),[a]),c=(0,i.w1)(n),l=(0,i.w1)(Kr.c),o=(0,r.useMemo)((()=>(0,wc.c)({listType:oe.a.Clip,subtype:f.GO.Trailer,columnWidth:l})),[l]),s=(0,r.useCallback)((e=>{var t=e,{item:a}=t,n=Nc(t,["item"]);return r.createElement(Br.c,jc(Dc({},n),{isPlayButtonCard:!0,item:a}))}),[]);return c?r.createElement(k.cp,{containerProvider:t,containerServer:e,containerSourceURI:c.sourceURI,containerSubtype:f.GO.Trailer,containerType:oe.a.Clip},r.createElement(Oc.c,{cellComponentFactory:s,hub:{title:(0,j.c)("Extras"),sourceURI:c.sourceURI},items:c.items,keyPropName:"listItemKey",layout:o,totalSize:c.totalSize})):null}var Uc=a(9535);const Fc={container:"PrePlayPopularList-container-EuBOh2",moreContainer:"PrePlayPopularList-moreContainer-iQ4y2H"};var Hc=Object.defineProperty,Vc=Object.defineProperties,Bc=Object.getOwnPropertyDescriptors,zc=Object.getOwnPropertySymbols,Kc=Object.prototype.hasOwnProperty,$c=Object.prototype.propertyIsEnumerable,qc=(e,t,a)=>t in e?Hc(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a,Gc=(e,t)=>{for(var a in t||(t={}))Kc.call(t,a)&&qc(e,a,t[a]);if(zc)for(var a of zc(t))$c.call(t,a)&&qc(e,a,t[a]);return e},Yc=(e,t)=>Vc(e,Bc(t));function Zc({className:e=Fc.container}){var t,a;const n=(0,i.OY)(),{popularLeavesSourceURI:c}=(0,i.w1)(pe.c),l=(0,r.useMemo)((()=>c?(0,ca.c)(c):()=>{}),[c]),o=(0,i.w1)(l),s=$(),[m,d]=de(s.contentHeight),[u,p]=(0,g.c$)(),y=null!=(t=null==o?void 0:o.items.length)?t:0,v=null!=(a=null==o?void 0:o.totalSize)?a:y,b=null==o?void 0:o.sourceURI,[h,E]=(0,r.useState)(y<5?y:5),I=(0,r.useMemo)((()=>[ge.e,ge.yq,ge.uW,ge.rV]),[]),C=(0,r.useMemo)((()=>(0,Uc.c)()),[]),P=(0,r.useCallback)((e=>{b&&n(na.c.actions.fetchRangeRequested(Yc(Gc({},e),{server:u,provider:p,sourceURI:b})))}),[b,n,u,p]),S=(0,r.useCallback)((()=>{const e=h+10;E(e>v?v:e)}),[v,h]),w=(0,r.useCallback)((e=>r.createElement(be.c,Gc({hasTransientActionsCell:!0,index:e.cellIndex+1,tableColumns:I},e))),[I]);return o?r.createElement("div",{className:e},r.createElement(k.cp,{containerProvider:p,containerServer:u,containerSourceURI:o.sourceURI,containerType:f.WW.Track},r.createElement(Oe,{title:(0,j.c)("Popular Tracks")}),r.createElement(ba,null),r.createElement("div",{ref:d},r.createElement(ye.cp,{items:o.items},r.createElement(se.c,{cellComponentFactory:w,items:o.items,keyPropName:"listItemKey",layout:C,scrollLeft:s.scrollLeft,scrollTop:s.scrollTop-m,totalSize:h,viewportHeight:s.height,viewportWidth:s.width,onPageRequest:P}))),r.createElement(ba,null),r.createElement("div",{className:Fc.moreContainer},h<v?r.createElement(Dt.c,{onPress:S},(0,j.c)("Show More")):null))):null}function Qc({metadataItem:e,onScrollPositionReady:t}){const{summary:a}=e,n=(0,B.c)(e),c=$a(e,"Country"),l=$a(e,"Genre"),i=$a(e,"Style"),o=Pr(e);return r.createElement(r.Fragment,null,r.createElement(le,{buttonBar:r.createElement(tt.c,{isChromaMetadata:!0,metadataItem:e,promotedActions:["isPlayVisible","isPlayRadioVisible","isAddToPlaylistVisible","isSyncDownloadVisible","isEditVisible"]}),facts:c,genres:l,metadataItem:e,poster:r.createElement(lt.c,{isChromaMetadata:!0,metadataItem:e}),showAttributionLogo:!0,starRating:n?r.createElement(ct.g,{metadataItem:e}):void 0,summary:a,title:(0,it.c)(e)},i||o?r.createElement(Je,null,i?r.createElement(et,null,r.createElement(U.Qp,{label:(0,j.c)("Style")},i)):null,o):null),r.createElement(Zc,null),r.createElement(Sc,{metadataItem:e}),r.createElement(Wc,null),r.createElement(ja,{metadataItem:e}),r.createElement(Fa,{metadataItem:e,onScrollPositionReady:t}))}function _c(e){return e.duration?(0,F.c)(e.duration):void 0}function Xc({metadataItem:e,onScrollPositionReady:t}){const{contentRating:a,summary:n}=e,c=(0,B.c)(e),l=Pr(e);return r.createElement(r.Fragment,null,r.createElement(le,{buttonBar:r.createElement(tt.c,{isChromaMetadata:!0,metadataItem:e,promotedActions:["isPlayVisible","isMarkPlayedVisible","isMarkUnplayedVisible","isSyncDownloadVisible","isEditVisible"]}),facts:[_c(e),a?(0,H.c)(a):void 0],metadataItem:e,poster:r.createElement(lt.c,{isChromaMetadata:!0,metadataItem:e}),showAttributionLogo:!0,starRating:c?r.createElement(ct.g,{metadataItem:e}):void 0,summary:n,title:(0,it.c)(e)},l),r.createElement(Fa,{metadataItem:e,onScrollPositionReady:t}))}var Jc=a(6048),el=a(65063),tl=a(41976),al=a(30832),rl=a(97104),nl=a(68536),cl=a(66480),ll=a(21040);const il={listContainer:"PrePlayCuratedItemsList-listContainer-dkVFmY",dragLayer:"PrePlayCuratedItemsList-dragLayer-e6SIlz"};var ol=Object.defineProperty,sl=Object.defineProperties,ml=Object.getOwnPropertyDescriptors,dl=Object.getOwnPropertySymbols,ul=Object.prototype.hasOwnProperty,pl=Object.prototype.propertyIsEnumerable,yl=(e,t,a)=>t in e?ol(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a,fl=(e,t)=>{for(var a in t||(t={}))ul.call(t,a)&&yl(e,a,t[a]);if(dl)for(var a of dl(t))pl.call(t,a)&&yl(e,a,t[a]);return e},vl=(e,t)=>sl(e,ml(t)),bl=(e,t)=>{var a={};for(var r in e)ul.call(e,r)&&t.indexOf(r)<0&&(a[r]=e[r]);if(null!=e&&dl)for(var r of dl(e))t.indexOf(r)<0&&pl.call(e,r)&&(a[r]=e[r]);return a};const gl=parseInt(fe.c.v4PagePadding,10);function hl(e){return e===oe.y.TrackDetails?ra:Br.c}const El="ListItem";function Il(e){var t=e,{isScrolling:a,listStyle:n,onDragMove:c,onDragEnd:l}=t,i=bl(t,["isScrolling","listStyle","onDragMove","onDragEnd"]);const o=(0,r.useRef)(null),[,s]=(0,Jc.W)({accept:El,hover(e,t){const r=e.metadataItem,n=i.item;!a&&r!==n&&n&&t.isOver()&&c({moveItem:r,moveIndex:e.index,toIndex:i.cellIndex})},collect:e=>({isOver:e.isOver()})}),[{isDragging:m},d,u]=(0,el.I)({type:El,item(){var e;return{index:i.cellIndex,metadataItem:null!=(e=i.item)?e:nl.c,size:{width:i.cellWidth,height:i.cellHeight}}},isDragging(e){var t;return(null==(t=i.item)?void 0:t.sourceURI)===e.getItem().metadataItem.sourceURI},collect:e=>({isDragging:e.isDragging()}),end(e){l({moveItem:e.metadataItem,moveIndex:e.index,toIndex:i.cellIndex})}});u((0,al.s)()),d(s(o));const p=hl(n);return r.createElement(p,fl({ref:o,index:i.cellIndex+1,isSortable:!0,style:{opacity:m?0:1}},i))}function Cl({className:e=il.listContainer,metadataItem:t}){var a;const n=(0,i.OY)(),[c,l]=(0,g.c$)(),{containerMeta:o}=(0,k.qy)(),s=$(),{descendantListSourceURI:m}=(0,i.w1)(pe.c),d=(0,i.w1)(pc.c),u=(0,i.w1)(uc.c),p=(0,i.w1)(Kr.c),y=(0,ll.c)(s.scrollTop)!==s.scrollTop,f=(0,ue.c)(),[v,b]=(0,r.useState)(null!=(a=null==f?void 0:f.items)?a:[]);(0,r.useEffect)((()=>{var e;b(null!=(e=null==f?void 0:f.items)?e:[])}),[null==f?void 0:f.items]);const[h,E]=de(s.contentHeight),I=(0,r.useCallback)((e=>{m&&n(na.c.actions.fetchRangeRequested(vl(fl({},e),{server:c,provider:l,sourceURI:m})))}),[m,n,l,c]),C=(0,r.useMemo)((()=>u===oe.y.TrackDetails?ya({outerPaddingRight:gl,outerPaddingLeft:gl}):d?(0,zr.c)({listType:d,subtype:t.subtype,columnWidth:p,listStyle:oe.y.PrePlayGrid,displayFields:null==o?void 0:o.DisplayFields,displayImages:null==o?void 0:o.DisplayImage}):void 0),[u,d,t.subtype,p,null==o?void 0:o.DisplayFields,null==o?void 0:o.DisplayImage]),P=(0,r.useCallback)((({moveItem:e,toIndex:t})=>{b((a=>{const r=a.findIndex((t=>t.sourceURI===e.sourceURI));if(r<0||t<0)return a;const n=Array.from(a),[c]=n.splice(r,1);return n.splice(t,0,c),n}))}),[]),S=(0,r.useCallback)((({moveItem:e,moveIndex:a,toIndex:r})=>{if(a<0||a===r)return;const i=v[r-1];n(cl.c.actions.moveItemRequested({server:c,provider:l,sourceURI:e.sourceURI,containerKey:t.key,ratingKey:e.ratingKey,afterID:i?i.ratingKey:void 0}))}),[n,t.key,v,l,c]),{currentOffset:w,dragItem:O}=(0,tl.e)((e=>e.getItemType()!==El?{}:{currentOffset:e.getSourceClientOffset(),dragItem:e.getItem()}));(0,r.useEffect)((()=>{const{height:e,scrollTop:t,onRequestScrollPosition:a}=s;if(!w)return;const r=.05*e,n=r,c=e-r;let l=0;w.y>c?l=50:w.y<n&&(l=-50),t+l!==t&&a({targetScrollTop:t+l})}),[w,s]);const M=(0,r.useCallback)((e=>r.createElement(Il,fl({isScrolling:y,listStyle:u,onDragEnd:S,onDragMove:P},e))),[y,u,P,S]);if(!(m&&d&&C&&f&&f.totalSize))return null;const R=hl(u);return r.createElement("div",{ref:E,className:e},r.createElement(k.cp,{containerKey:t.childrenKey,containerProvider:l,containerServer:c,containerSourceURI:m,containerSubtype:t.subtype,containerType:d,listStyle:u},r.createElement(Rr,{metadataItem:t,metadataList:f}),r.createElement(ye.cp,{items:v},u===oe.y.TrackDetails?r.createElement(ba,null):null,r.createElement(se.c,{cellComponentFactory:M,items:v,keyPropName:"listItemKey",layout:C,scrollLeft:s.scrollLeft,scrollTop:s.scrollTop-h,totalSize:f.totalSize,viewportHeight:s.height,viewportWidth:s.width,onPageRequest:I}),u===oe.y.TrackDetails?r.createElement(ba,null):null),w&&O?rl.createPortal(r.createElement("div",{className:il.dragLayer},r.createElement(R,{key:"dragItem",cellHeight:O.size.height,cellIndex:0,cellWidth:O.size.width,index:0,isVirtual:!1,item:O.metadataItem,style:vl(fl({},O.size),{transform:`translate(${w.x}px, ${w.y}px)`})})),document.body):null))}function Pl({minYear:e,maxYear:t}){const a=!(!e||!t||e===t);return a||t&&e===t?a?`${e}  ${t}`:t:void 0}function Sl({metadataItem:e,onScrollPositionReady:t}){const{audienceRating:a,contentRating:n,rating:c,smart:l,summary:i,title:o}=e,[s]=(0,g.c$)(),m=(0,B.c)(e),d=Pr(e);return r.createElement(r.Fragment,null,r.createElement(le,{buttonBar:r.createElement(tt.c,{isChromaMetadata:!0,metadataItem:e,promotedActions:["isPlayVisible","isPlayTrailerVisible","isShuffleVisible","isSyncDownloadVisible","isEditVisible"]}),facts:Pl(e),metadataItem:e,poster:r.createElement(lt.c,{isChromaMetadata:!0,metadataItem:e}),ratings:[n?(0,H.c)(n):void 0,c||a?r.createElement(V.c,{key:"criticRating",metadataItem:e}):null],starRating:m?r.createElement(ct.g,{key:"userRating",metadataItem:e}):void 0,summary:i,title:o},d),l||!s.isFullOwnedServer?r.createElement(Sc,{metadataItem:e}):r.createElement(Cl,{metadataItem:e}),r.createElement(Fa,{metadataItem:e,onScrollPositionReady:t}))}var wl=a(87416),Ol=a(37156);function Ml({allowLink:e=!0,metadataItem:t}){const a=(0,rt.c)(t,"key"),n=(0,rt.c)(t,"parentKey"),c=(0,Ol.c)({seasonIndex:t.parentIndex,noLeadingZero:!0}),l=(0,wl.c)({episodeIndex:t.index,date:t.originallyAvailableAt,noLeadingZero:!0});return e&&a&&n?r.createElement(Xe.YR,null,t.index&&c?r.createElement(at.c,{href:n,title:t.parentTitle},c):null,t.index&&c?r.createElement(It.c,{separator:""}):null,r.createElement(at.c,{href:a,title:t.title},l)):r.createElement(Xe.YR,null,t.index&&c?r.createElement(Ha.a,{color:"primary",font:"body-1",title:t.parentTitle},c):null,t.index&&c?r.createElement(It.c,{separator:""}):null,r.createElement(Ha.a,{color:"primary",font:"body-1",title:t.title},l))}var Rl=a(69080),Tl=a(49756),Ll=a(9868),kl=a(84360),Al=a(14252),xl=a(21248),Dl=a(40604),jl=a(90012),Nl=a(26044),Wl=a(34992),Ul=a(1872),Fl=a(72080),Hl=a(22436),Vl=a(90296),Bl=a(86564),zl=a(35060),Kl=a(85920),$l=a(62120);const ql={menu:"EPGShowPrePlayActionBar-menu-B2nhRi PrePlayActionBar-menu-xDrJti Menu-menu-OCzudL"},Gl=["isRecordVisible","isPlayVisible","isShareVisible"];function Yl({isPrimary:e,isDisabled:t,metadataItem:a}){const n=(0,i.OY)(),[c,o]=(0,g.c$)(),s=(0,Xt.c)(a.sourceURI),m=(0,Hr.c)(a.Media),{metricsPage:d,metricsContextTuple:u}=(0,l.e0)(),p=(0,r.useCallback)((()=>{n(kl.Ky({serverEntityID:c.entityID,providerEntityID:o.entityID,metricsPage:d,metricsContext:u,options:{type:Dl.im,identifier:null==m?void 0:m.channelIdentifier}}))}),[n,null==m?void 0:m.channelIdentifier,u,d,o.entityID,c.entityID]);return(0,r.useEffect)((()=>(xl.c.on("shortcut:playSelected",p),()=>{xl.c.off("shortcut:playSelected",p)}))),r.createElement(Ul.c,{icon:Rl.default,isDisabled:t,isLabeled:e,isPrimary:e,testID:"preplay-play",title:(0,Nl.c)(a,s),onPress:p})}function Zl({metadataItem:e}){const t=(0,i.OY)(),a=(0,Za.c)(),n=(0,Ll.y)(),[c,l]=(0,g.c$)(),o=(0,i.w1)(Al.c),s=(0,i.w1)(ft.c),m=(0,i.w1)(Bl.c),d=(0,ue.c)(),u=null==d?void 0:d.items.find((e=>!!(0,Hr.c)(e.Media))),{favoriteChannels:p}=(0,i.w1)(Vl.c),y=(0,r.useMemo)((()=>!p.isPending&&!p.isPopulated&&!p.error),[p.error,p.isPending,p.isPopulated]),v=(0,zl.c)(jl.s.IncludeSocialProof),b=(0,r.useRef)(null),h=(0,i.w1)(Wl.c),E=(0,Xt.c)(e.sourceURI),I=(0,r.useMemo)((()=>{var t;const a=(0,Rt.cp)({server:c,provider:l,stableUser:s,metadataItem:e,metadataItemState:E,deviceSettings:h});if(!v&&a.isShareVisible&&delete a.isShareVisible,e.type===f.WW.Show)a.isPlayVisible=!0;else if(u){const{beginsAt:e,endsAt:r}=null!=(t=(0,Hr.c)(u.Media))?t:{},n=Math.floor(Date.now()/1e3);e&&r&&n>=e&&n<r&&(a.isPlayVisible=!0)}return a}),[h,v,e,E,u,l,c,s]);(0,r.useEffect)((()=>{y&&t(Hl.cp.actions.favoriteChannelsFetchRequested({cloudServer:o}))}),[o,t,y]);const C=function(e){return Object.keys(e).reduce(((t,a)=>{const r=a;return t[r]=!Gl.includes(r)&&e[r],t}),{})}(I),P=Object.keys(C).some((e=>"isShareVisible"!==e&&C[e]));return 0===Object.keys(I).filter((e=>I[e])).length?null:r.createElement(Xe.ye,{ref:b,align:["center","left"],gap:"xs",minHeight:40,orientation:"horizontal",wrap:!0},Gl.filter((e=>I[e])).map(((t,a)=>r.createElement(Fl.c,{key:t,errorComponent:$l.c},"isPlayVisible"===t?r.createElement(Yl,{isDisabled:m,isPrimary:0===a,metadataItem:null!=u?u:e}):null,"isPlayVisible"!==t?r.createElement(Kl.c,{action:t,isDisabled:m,isPrimary:0===a,metadataItem:e,metadataItemState:E}):null))),P?r.createElement(Ul.c,{icon:Tl.default,id:a,isDisabled:m,isWaiting:p.isPending,testID:"preplay-more",title:(0,j.c)("More"),onPress:n.onOpen}):null,r.createElement(gt.c,{actionsOverride:C,className:ql.menu,isOpen:n.isOpen,metadataItem:e,target:a,onMenuClose:n.onClose}))}var Ql=a(80935),_l=a(32136);function Xl(e,t,a){const r=e/1e3;return a<r?(0,j.c)("Aired"):t<=r&&a>=r?(0,j.c)("Airing"):(0,j.c)("Airs")}function Jl({metadataItem:e}){const t=(0,i.w1)((0,R.c)("timeFormat")),a=(0,_l.c)(),n=(0,Hr.c)(e.Media);if(!n)return null;const{Channel:c}=e,{videoResolution:l,beginsAt:o,endsAt:s,channelID:m}=n,d=null==c?void 0:c.find((e=>e.id===m));return r.createElement(et,null,l?r.createElement(U.Qp,{label:(0,j.c)("Video")},function(e){const t=parseInt(e,10);return t>=720||4===t||8===t}(l)?(0,j.c)("HD"):(0,j.c)("SD")):null,null!=o&&null!=s?r.createElement(U.Qp,{label:Xl(a,o,s)},(0,Ql.c)({now:a,beginsAt:o,endsAt:s,channel:null==d?void 0:d.tag,timeFormat:t,showFullTime:!0,showChannel:!0})):null)}function ei({metadataItem:e,onScrollPositionReady:t}){const{audienceRating:a,contentRating:n,rating:c,summary:l}=e,i=(0,rt.c)(e,"grandparentKey");return r.createElement(r.Fragment,null,r.createElement(le,{buttonBar:r.createElement(Zl,{metadataItem:e}),facts:r.createElement(Ml,{metadataItem:e}),genres:[_c(e),n?(0,H.c)(n):void 0],metadataItem:e,poster:r.createElement(lt.c,{aspectRatio:Tt.Aj,isChromaMetadata:!0,metadataItem:e}),ratings:[c||a?r.createElement(V.c,{metadataItem:e}):null],subtitle:(0,it.c)(e),summary:l,title:i?r.createElement(at.c,{color:"inherit",font:"inherit",href:i},e.grandparentTitle):e.grandparentTitle},r.createElement(Jl,{metadataItem:e})),r.createElement(Fa,{metadataItem:e,onScrollPositionReady:t}))}var ti=a(52513),ai=a(54192),ri=a(48996),ni=a(18188),ci=a(6872),li=a(37608),ii=a(34752),oi=a(84620),si=a(53572);const mi={placeholder:"PrePlayCastList-placeholder-Bnia6W ListRowPlaceholder-placeholder-g75gnX"};var di=Object.defineProperty,ui=Object.defineProperties,pi=Object.getOwnPropertyDescriptors,yi=Object.getOwnPropertySymbols,fi=Object.prototype.hasOwnProperty,vi=Object.prototype.propertyIsEnumerable,bi=(e,t,a)=>t in e?di(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a,gi=(e,t)=>{for(var a in t||(t={}))fi.call(t,a)&&bi(e,a,t[a]);if(yi)for(var a of yi(t))vi.call(t,a)&&bi(e,a,t[a]);return e},hi=(e,t)=>ui(e,pi(t)),Ei=(e,t)=>{var a={};for(var r in e)fi.call(e,r)&&t.indexOf(r)<0&&(a[r]=e[r]);if(null!=e&&yi)for(var r of yi(e))t.indexOf(r)<0&&vi.call(e,r)&&(a[r]=e[r]);return a};const Ii=25,Ci="viewAll";function Pi(){const[e,t]=(0,g.c$)(),a=(0,i.w1)(ii.c),n=a?(0,si.c)(e.machineIdentifier,t.identifier,{key:a.key,metadataType:a.type}):void 0;return r.createElement(Pe.c,{href:n},(0,j.c)("Cast & Crew"))}function Si(e){var t=Ei(e,[]);const a=(0,he.c)(t),{cellIndex:n}=t,c=(0,r.useMemo)((()=>(0,Lt.c)({width:t.cellWidth,aspectRatio:Tt.eg})),[t.cellWidth]);return r.createElement(Jt.c,{className:mi.placeholder,index:n,style:gi(gi({},a.style),c)})}function wi({metadataItem:e}){const[t,a,n]=(0,g.c$)(),c=(0,i.OY)(),l=(0,i.w1)(Kr.c),{settings:o,isPending:s,isPopulated:m,error:u}=(0,i.w1)((0,ti.c)(t.machineIdentifier,e.librarySectionID)),{credits:{isPending:p}}=(0,i.w1)(pe.c),y=(0,i.w1)(li.c),{librarySectionID:f}=e,v=(0,r.useMemo)((()=>(0,wc.c)({listType:oe.a.Person,columnWidth:l,titleCount:2})),[l]);(0,ci.c)(),(0,r.useEffect)((()=>{t.isCloud||!f||s||m||u||c(ai.cp.actions.fetchServerSectionSettings({server:t,librarySectionID:f}))}),[c,u,s,m,f,t]);const b=(0,r.useMemo)((()=>{if(p)return new Array(Ii);const e=(0,oi.cp)(y),a=t.isCloud||!f||m||u?e:new Array(Ii);return a.length>Ii?[...a.slice(0,Ii),{tagKey:Ci}]:a}),[y,u,p,m,f,t.isCloud]),h=(0,r.useCallback)((c=>{if(!c.item)return r.createElement(Si,gi({},c));if(c.item.tagKey===Ci){const n=e?(0,si.c)(t.machineIdentifier,a.identifier,{key:e.key,metadataType:e.type}):void 0;return r.createElement(ri.c,hi(gi({},c),{href:n}))}return r.createElement(ni.c,hi(gi({},c),{contentDirectory:n,metadataItem:e,provider:a,server:t,serverSettings:o}))}),[n,e,a,t,o]);return r.createElement(Oc.c,{cellComponentFactory:h,hub:{sourceURI:d.c.join([e.sourceURI,"castList"])},hubTitleComponent:Pi,items:b,layout:v,totalSize:b.length})}function Oi({metadataItem:e,onScrollPositionReady:t}){const{audienceRating:a,contentRating:n,rating:c,summary:l,year:i}=e,o=$a(e,"Genre");return r.createElement(r.Fragment,null,r.createElement(le,{buttonBar:r.createElement(Zl,{metadataItem:e}),facts:[i,_c(e),n?(0,H.c)(n):void 0],genres:o,metadataItem:e,poster:r.createElement(lt.c,{isChromaMetadata:!0,metadataItem:e}),ratings:[c||a?r.createElement(V.c,{key:"criticRating",metadataItem:e}):null],summary:l,title:(0,it.c)(e)},r.createElement(Jl,{metadataItem:e})),r.createElement(wi,{metadataItem:e}),r.createElement(Fa,{metadataItem:e,onScrollPositionReady:t}))}function Mi({metadataItem:e,onScrollPositionReady:t}){const{audienceRating:a,contentRating:n,rating:c,summary:l,title:i}=e,o=$a(e,"Genre"),s=Pr(e);return r.createElement(r.Fragment,null,r.createElement(le,{buttonBar:r.createElement(Zl,{metadataItem:e}),genres:o,metadataItem:e,poster:r.createElement(lt.c,{isChromaMetadata:!0,metadataItem:e}),ratings:[n?(0,H.c)(n):void 0,c||a?r.createElement(V.c,{key:"criticRating",metadataItem:e}):null],summary:l,title:i},s),r.createElement(Sc,{metadataItem:e}),r.createElement(wi,{metadataItem:e}),r.createElement(Fa,{metadataItem:e,onScrollPositionReady:t}))}var Ri=a(672);function Ti(e){const[t,a]=(0,g.c$)(),r=(0,i.w1)(ft.c),n=(0,Xt.c)(null==e?void 0:e.sourceURI);return(0,Rt.c$)({server:t,provider:a,stableUser:r,metadataItem:e,metadataItemState:n})}var Li=a(86740),ki=a(13778),Ai=a(66780),xi=a(37492),Di=a(8684),ji=a(34328),Ni=a(46572),Wi=a(81568),Ui=a(22403);function Fi({plexStats:e,metadataItem:t,height:a}){const n=(0,i.w1)((0,ji.c)(lr.Qx)),c=function(e,t){if(t)return!e.isUnreleased||e.isUnreleased&&(e.type===f.WW.Episode||e.type===f.WW.Season)?{amount:null==t?void 0:t.watchedAmount,suffix:null==t?void 0:t.watchedSuffix,type:"watched"}:{amount:null==t?void 0:t.watchlistedAmount,suffix:null==t?void 0:t.watchlistedSuffix,type:"watchlisted"}}(t,e);if(!c||!n)return null;const{amount:l,suffix:o,type:s}=c;return l&&"0"!==l?r.createElement(Xe.ye,{gap:"xs",height:a,orientation:"horizontal",verticalAlign:"center"},r.createElement(Ha.a,{color:"primary",font:"heading-2",numberOfLines:1},`${l}${o}`),"watched"===s?r.createElement(Ha.a,{color:"default",font:"body-2"},"1"!==l||o?(0,j.c)("people on Plex have watched this"):(0,j.c)("person on Plex has watched this")):null,"watchlisted"===s?r.createElement(Ha.a,{color:"default",font:"body-2"},"1"!==l||o?(0,j.c)("people on Plex have watchlisted this"):(0,j.c)("person on Plex has watchlisted this")):null):r.createElement(Xe.ye,{gap:"xs",height:a,orientation:"horizontal",verticalAlign:"center"},r.createElement(Ui.default,{size:"m"}),"watched"===s?r.createElement(Ha.a,{color:"default",font:"body-2"},(0,j.c)("Be the first person to watch this!")):null,"watchlisted"===s?r.createElement(Ha.a,{color:"default",font:"body-2"},(0,j.c)("Be the first person to watchlist this!")):null)}var Hi=a(11320);function Vi(e,t,a){const r=null==t?void 0:t.length,n=t.map((({displayName:t,username:a,id:r})=>r===e?(0,j.c)("You"):t||a));return t&&r?r>3?(0,j.c)("Activity by {firstMention}, {secondMention} and {usersLeft} others",{firstMention:n[0],secondMention:n[1],usersLeft:a-2}):3===r?(0,j.c)("Activity by {firstMention}, {secondMention} and 1 other",{firstMention:n[0],secondMention:n[1]}):2===r?(0,j.c)("Activity by {firstMention} and {secondMention}",{firstMention:n[0],secondMention:n[1]}):(0,j.c)("Activity by {firstMention}",{firstMention:n[0]}):""}var Bi=a(95460),zi=a(8476),Ki=a(77424);const $i=function(e,t,a){const r=(0,zi.c)(e,t,Bi.c.prePlayActivityFeed),n=(0,Ki.c)(e,t);return"#!"+d.c.join((0,o.Yz)(r,n),a)};var qi=a(49828),Gi=a(32512);const Yi=(0,qi.c)("xxl");function Zi({metadataItem:e}){const t=(0,Di.c)(),a=(0,i.w1)((0,ji.c)(lr._i)),n=(0,zl.c)(jl.s.IncludeSocialProof),[c,l]=(0,g.c$)(),o=(0,i.OY)(),{details:s}=(0,i.w1)(Ni.c),m=(0,r.useMemo)((()=>{var t;return null!=(t=(0,xi.c)(e.guid))?t:""}),[e.guid]),{data:d,isLoading:u,error:p}=(0,Gi.gH)({metadataID:m,includeDescendants:!0,types:a?Hi.s:Hi.i},{skip:!m||!n,refetchOnMountOrArgChange:!0}),y=(0,r.useMemo)((()=>d?d.activityMentions.recentUsers.flatMap((e=>e.avatar||[])):[]),[d]),f=(0,r.useCallback)((()=>{o((0,ki.IB)({pathname:$i(c.machineIdentifier,l.identifier,{key:e.key})})),t({action:Ai.yz})}),[o,e.key,l.identifier,c.machineIdentifier,t]);return e.guid&&n?u||p?r.createElement("div",{style:{height:Yi}}):y.length&&(null==d?void 0:d.activityMentions.recentUsers.length)?r.createElement(Wi.c,{avatars:y,label:Vi(s.uuid,d.activityMentions.recentUsers,d.activityMentions.uniqueUsersCount),numberOfLines:2,onPress:f}):r.createElement(Fi,{height:Yi,metadataItem:e,plexStats:null==d?void 0:d.activityMentions.plexStats}):null}const Qi={container:"StreamDetailPropertiesTable-container-vnpzQ6"};function _i({children:e}){return r.createElement("div",{className:Qi.container},r.createElement(Je,null,e))}var Xi=a(32360),Ji=a(7148),eo=a(3396),to=a(5632),ao=a(52180),ro=a(95188),no=Object.defineProperty,co=Object.defineProperties,lo=Object.getOwnPropertyDescriptors,io=Object.getOwnPropertySymbols,oo=Object.prototype.hasOwnProperty,so=Object.prototype.propertyIsEnumerable,mo=(e,t,a)=>t in e?no(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a,uo=(e,t)=>{for(var a in t||(t={}))oo.call(t,a)&&mo(e,a,t[a]);if(io)for(var a of io(t))so.call(t,a)&&mo(e,a,t[a]);return e},po=(e,t)=>co(e,lo(t));function yo(e){const{metricsPage:t,metricsContextTuple:a}=(0,l.e0)(),n=(0,r.useMemo)((()=>(0,I.c)(e)),[e]);return(0,r.useCallback)((e=>{(0,ao.WI)("metrics").trackEvent({event:ro.cZ,page:t,interaction:!0,properties:{contextTuple:a,metadataItem:po(uo({},n),{service:e.title,serviceId:e.platform})}})}),[a,n,t])}var fo=a(64856),vo=a(45852);const bo={availabilityCell:"PrePlayAvailabilityItem-availabilityCell-KTf3LB Link-link-vSsQW1",badge:"PrePlayAvailabilityItem-badge-OsI5kO",visuallyHidden:"PrePlayAvailabilityItem-visuallyHidden-Nb3lHb"};var go=Object.defineProperty,ho=Object.defineProperties,Eo=Object.getOwnPropertyDescriptors,Io=Object.getOwnPropertySymbols,Co=Object.prototype.hasOwnProperty,Po=Object.prototype.propertyIsEnumerable,So=(e,t,a)=>t in e?go(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a,wo=(e,t)=>{for(var a in t||(t={}))Co.call(t,a)&&So(e,a,t[a]);if(Io)for(var a of Io(t))Po.call(t,a)&&So(e,a,t[a]);return e},Oo=(e,t)=>ho(e,Eo(t));const Mo=parseInt(fe.c.v4PrePlayAvailabilityWidth,10);function Ro({title:e,shouldSplitTitle:t,numberOfLines:a=2}){const n=(0,r.useRef)(),[c,l]=(0,r.useState)(!1),[i,o]=(0,r.useState)(!1);return(0,r.useEffect)((()=>{if(!n.current||!t)return void l(!0);const{lineHeight:e}=window.getComputedStyle(n.current),a=parseInt(e,10);l(!0),o(n.current.scrollHeight>a)}),[t]),i?r.createElement(r.Fragment,null,e.split("  ").map(((e,t)=>r.createElement(Ha.a,{key:t,color:"muted",font:"body-3",numberOfLines:1},e)))):c?r.createElement(Ha.a,{ref:n,color:"muted",font:"body-3",numberOfLines:a},e):r.createElement("span",{className:bo.visuallyHidden},r.createElement(Ha.a,{ref:n,color:"muted",font:"body-3",numberOfLines:a},e))}function To({thumb:e,primaryTitle:t,secondaryTitle:a,tertiaryTitle:n,shouldSplitSecondaryTitle:c}){return r.createElement(Xe.ye,{gap:"m",orientation:"horizontal",verticalAlign:"center",width:Mo},r.createElement(Xe.ye,{shrink:!1},e),r.createElement(Xe.ye,null,t?r.createElement(Ha.a,{color:"primary",font:"body-3",numberOfLines:a?1:2},t):null,a?r.createElement(Ro,{numberOfLines:n?1:2,shouldSplitTitle:c,title:a}):null,n?r.createElement(Ha.a,{color:"muted",font:"body-3",numberOfLines:1},n):null))}const Lo=(0,r.forwardRef)((function(e,t){const{thumb:a,badge:n,primaryTitle:c,secondaryTitle:l,shouldSplitSecondaryTitle:i,href:o,target:s,onPress:m}=e,[d,u]=(0,r.useState)(!1),p=(0,r.useCallback)((()=>u(!0)),[]),y=(0,r.useCallback)((()=>u(!1)),[]),f={className:Jr()(bo.availabilityCell,d&&vo.a),onBlur:y,onFocus:p},v=`${c}${l?"  ":""}${l||""}`;return o?r.createElement(fo.A5,Oo(wo({},f),{href:o,target:s,title:v,onPress:m}),n?r.createElement("div",{className:bo.badge},n):null,r.createElement(To,{primaryTitle:c,secondaryTitle:l,shouldSplitSecondaryTitle:i,tertiaryTitle:e.tertiaryTitle,thumb:a})):r.createElement(fo.i8,Oo(wo({},f),{ref:t,title:v,onPress:m}),n?r.createElement("div",{className:bo.badge},n):null,r.createElement(To,{primaryTitle:c,secondaryTitle:l,shouldSplitSecondaryTitle:i,tertiaryTitle:e.tertiaryTitle,thumb:a}))}));var ko=a(92440);function Ao(e,t,a){return e.platform!==ko.yy&&a.isPopulated&&!a.watchlistedAt&&t.type===f.WW.Show}const xo=function(e){return!!e&&"availabilities"in e};function Do(e){if(xo(e))return(0,j.c)("Free Live TV");if(e.availability.channelTitle)return(0,j.c)("Free Live TV - {channelTitle}",{channelTitle:e.availability.channelTitle});switch(e.availability.offerType){case ko.mu.Free:return(0,j.c)("Free");case ko.mu.Subscription:return(0,j.c)("Subscription");case ko.mu.Buy:case ko.mu.Rent:{const t=e.availability.buyPriceDescription?(0,j.c)("Buy {price}",{price:e.availability.buyPriceDescription}):void 0,a=e.availability.rentPriceDescription?(0,j.c)("Rent {price}",{price:e.availability.rentPriceDescription}):void 0;return t&&a?[t,a].join("  "):null!=t?t:a}default:return}}var jo=a(684);function No(e){return e.serverIdentifier&&e.providerIdentifier&&e.key?(0,jo.c)(e.serverIdentifier,e.providerIdentifier,{key:e.key}):e.platformInfo.web.url}function Wo(e){return!(!xo(e)&&!e.availability.Media)}var Uo=a(85976),Fo=a(87980),Ho=a(58660),Vo=a(87592),Bo=a(64776),zo=a(83052),Ko=a(55268),$o=a(94644),qo=Object.defineProperty,Go=Object.defineProperties,Yo=Object.getOwnPropertyDescriptors,Zo=Object.getOwnPropertySymbols,Qo=Object.prototype.hasOwnProperty,_o=Object.prototype.propertyIsEnumerable,Xo=(e,t,a)=>t in e?qo(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a;function Jo(e){var t,a=e,{item:n,metadataType:c}=a,l=((e,t)=>{var a={};for(var r in e)Qo.call(e,r)&&t.indexOf(r)<0&&(a[r]=e[r]);if(null!=e&&Zo)for(var r of Zo(e))t.indexOf(r)<0&&_o.call(e,r)&&(a[r]=e[r]);return a})(a,["item","metadataType"]);const o=(0,_l.c)(),s=(0,Ko.c)(l),m=(0,i.w1)((0,R.c)("timeFormat"));return(null==(t=null==n?void 0:n.Media)?void 0:t.length)?r.createElement(Nt.c,{style:s.style},r.createElement(Xe.ye,{gap:"s",paddingBottom:"s",width:"100%"},r.createElement(Xe.ye,{gap:"none",paddingX:"m"},null!=n.index&&null!=n.parentIndex&&c!==f.WW.Episode?r.createElement(Ha.a,{font:"heading-4"},(0,zo.c)({seasonIndex:n.parentIndex,episodeIndex:n.index,noLeadingZero:!0,separator:"  ",includeSpecials:!0})):null,r.createElement(Ha.a,{color:"muted",font:"body-2"},(0,Ql.c)({now:o,beginsAt:n.Media[0].beginsAt,endsAt:n.Media[0].endsAt,timeFormat:m})),r.createElement(Ha.a,{color:"muted",font:"body-2"},n.channelTitle)),r.createElement(Vo.c,{size:"s"}))):null}const es=function({modalState:e,metadataItem:t,availabilities:a}){const n=(0,r.useMemo)((()=>e=>{return r.createElement(Jo,(a=((e,t)=>{for(var a in t||(t={}))Qo.call(t,a)&&Xo(e,a,t[a]);if(Zo)for(var a of Zo(t))_o.call(t,a)&&Xo(e,a,t[a]);return e})({},e),n={metadataType:t.type},Go(a,Yo(n))));var a,n}),[t.type]),c=(0,r.useMemo)((()=>(0,ia.c)({rowHeight:t.type===f.WW.Show||t.type===f.WW.Season?89:65})),[t.type]),l=(0,r.useMemo)((()=>{switch(t.type){case f.WW.Episode:return`${t.grandparentTitle} - ${(0,zo.c)({seasonIndex:t.parentIndex,episodeIndex:t.index,noLeadingZero:!0,separator:"  ",includeSpecials:!0})}`;case f.WW.Season:return`${t.parentTitle} - ${t.title}`;default:return t.title}}),[t.type,t.grandparentTitle,t.parentIndex,t.index,t.parentTitle,t.title]);return r.createElement(Bo.wJ,{isOpen:e.isOpen,onOpenChange:e.onOpenChange},r.createElement(Bo.EX,{closeButtonAccessibilityLabel:(0,j.c)("Close Upcoming Airings Modal"),header:(0,j.c)("Upcoming Airings of {title}",{title:l})},r.createElement(Bo.aU,null,r.createElement($o.c,{cellComponentFactory:n,items:a,layout:c,scrollDirection:O.y.Vertical,totalSize:a.length})),r.createElement(Bo._A,null,r.createElement(Bo.YB,null,r.createElement(Bo.cT,null,r.createElement(Ho.q,{label:(0,j.c)("Close")}))))))},ts=function(e,t){return xo(e)?(0,j.c)("{airingsCount} upcoming airings",{airingsCount:e.availabilities.length}):e.availability.index&&e.availability.parentIndex&&t.type!==f.WW.Episode?(0,zo.c)({seasonIndex:e.availability.parentIndex,episodeIndex:e.availability.index,noLeadingZero:!0,separator:"  ",includeSpecials:!0}):void 0},as="ProviderAvailabilityItem-thumb-x9MXZE",rs="ProviderAvailabilityItem-badge-g4cD5o";var ns=Object.defineProperty,cs=Object.defineProperties,ls=Object.getOwnPropertyDescriptors,is=Object.getOwnPropertySymbols,os=Object.prototype.hasOwnProperty,ss=Object.prototype.propertyIsEnumerable,ms=(e,t,a)=>t in e?ns(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a,ds=(e,t)=>{for(var a in t||(t={}))os.call(t,a)&&ms(e,a,t[a]);if(is)for(var a of is(t))ss.call(t,a)&&ms(e,a,t[a]);return e},us=(e,t)=>cs(e,ls(t));const ps=parseInt(fe.c.v4PrePlayAvailabilityThumbSize,10);function ys(e){var t=e,{item:a,metadataItem:n}=t,c=((e,t)=>{var a={};for(var r in e)os.call(e,r)&&t.indexOf(r)<0&&(a[r]=e[r]);if(null!=e&&is)for(var r of is(e))t.indexOf(r)<0&&ss.call(e,r)&&(a[r]=e[r]);return a})(t,["item","metadataItem"]);const[l,i]=(0,g.c$)(),o=(0,he.c)(c),s=(0,Ll.y)(),m=(0,At.cp)({width:ps,height:ps,server:l,provider:i,url:a.thumb}),d=xo(a),{onPlayPress:u,playModal:p}=(0,Fo.c)(n),y=(0,r.useCallback)((()=>{d?s.onOpen():u()}),[s,d,u]);return r.createElement("div",{ref:o.cellRef,style:o.style},r.createElement(Lo,{badge:d?null:r.createElement("div",{className:rs},(0,j.c)("Live")),primaryTitle:a.title,secondaryTitle:Do(a),tertiaryTitle:ts(a,n),thumb:r.createElement(jt.c,{className:as,height:ps,src:m,width:ps}),onPress:y}),d?r.createElement(es,{availabilities:a.availabilities,metadataItem:n,modalState:s}):null,p)}const fs=function(e){if(xo(e.item)||!e.item.availability.playableKey)return r.createElement(ys,ds({},e));const t=(0,ot.c)(e.item.availability.playableKey),a=us(ds({},nl.c),{type:e.metadataItem.type,title:e.metadataItem.title,index:e.metadataItem.index,parentIndex:e.metadataItem.parentIndex,parentTitle:e.metadataItem.parentTitle,grandparentTitle:e.metadataItem.grandparentTitle,originallyAvailableAt:e.metadataItem.originallyAvailableAt,Media:e.item.availability.Media,playableKey:e.item.availability.playableKey,sourceURI:(0,Uo.c)({serverIdentifier:t.serverIdentifier,providerIdentifier:t.providerIdentifier})});return r.createElement(L.c,{metadataItem:a},r.createElement(ys,us(ds({},e),{metadataItem:a})))};var vs=Object.defineProperty,bs=Object.defineProperties,gs=Object.getOwnPropertyDescriptors,hs=Object.getOwnPropertySymbols,Es=Object.prototype.hasOwnProperty,Is=Object.prototype.propertyIsEnumerable,Cs=(e,t,a)=>t in e?vs(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a,Ps=(e,t)=>{for(var a in t||(t={}))Es.call(t,a)&&Cs(e,a,t[a]);if(hs)for(var a of hs(t))Is.call(t,a)&&Cs(e,a,t[a]);return e},Ss=(e,t)=>bs(e,gs(t)),ws=(e,t)=>{var a={};for(var r in e)Es.call(e,r)&&t.indexOf(r)<0&&(a[r]=e[r]);if(null!=e&&hs)for(var r of hs(e))t.indexOf(r)<0&&Is.call(e,r)&&(a[r]=e[r]);return a};const Os=parseInt(fe.c.v4PrePlayAvailabilityThumbSize,10);function Ms(e){var t=e,{addToWatchlistModalState:a,item:n,metadataItem:c,isAnonymousUser:l}=t,i=ws(t,["addToWatchlistModalState","item","metadataItem","isAnonymousUser"]);const[o,s]=(0,g.c$)(),m=(0,he.c)(i),d=yo(c),u=(0,Xt.c)(c.sourceURI),p=(0,At.cp)({width:Os,height:Os,server:o,provider:s,url:n.thumb}),y=(0,r.useCallback)((()=>{!l&&Ao(n.availability,c,u)&&a.onOpen(),d(n.availability)}),[l,n.availability,c,u,d,a]),f=No(n.availability),v=Do(n);return r.createElement("div",{ref:m.cellRef,style:m.style},r.createElement(Lo,{href:f,primaryTitle:n.title,secondaryTitle:v,shouldSplitSecondaryTitle:!0,target:n.platform!==ko.yy?"_blank":void 0,thumb:r.createElement(jt.c,{className:as,height:Os,src:p,width:Os}),onPress:y}))}const Rs=function(e){const t=e,{addToWatchlistModalState:a,item:n,metadataItem:c,isAnonymousUser:l}=t,i=ws(t,["addToWatchlistModalState","item","metadataItem","isAnonymousUser"]);return Wo(n)?r.createElement(fs,Ss(Ps({},i),{item:n,metadataItem:c})):r.createElement(Ms,Ss(Ps({},i),{addToWatchlistModalState:a,isAnonymousUser:l,item:n,metadataItem:c}))};var Ts=a(62276),Ls=a(43964);const ks=parseInt(fe.c.v4PrePlayAvailabilityThumbSize,10),As=function(){const[e,t]=(0,g.c$)(),a=(0,i.w1)((0,Ls.c)(e.machineIdentifier)),n=(0,At.cp)({server:e,width:ks,height:ks,url:a,provider:t});return r.createElement(jt.c,{className:"PrePlayServerAvailabilityThumb-circle-NTjGL9",durationMilliseconds:0,height:ks,src:n,width:ks})};var xs=Object.getOwnPropertySymbols,Ds=Object.prototype.hasOwnProperty,js=Object.prototype.propertyIsEnumerable;const Ns=function(e){var t,a=e,{metadataItem:n}=a,c=((e,t)=>{var a={};for(var r in e)Ds.call(e,r)&&t.indexOf(r)<0&&(a[r]=e[r]);if(null!=e&&xs)for(var r of xs(e))t.indexOf(r)<0&&js.call(e,r)&&(a[r]=e[r]);return a})(a,["metadataItem"]);const l=(0,he.c)(c),[i]=(0,g.c$)(),o=(0,rt.c)(n,"key"),s=(0,Ts.c)(i,null==(t=n.Media)?void 0:t[0]),m=(0,r.useMemo)((()=>{if(n.type===f.WW.Show)switch(n.childCount){case null:return;case 1:return(0,j.c)("{seasonCount} season",{seasonCount:n.childCount});default:return(0,j.c)("{seasonCount} seasons",{seasonCount:n.childCount})}if(s||n.editionTitle)return s&&n.editionTitle?`${s}  ${n.editionTitle}`:s||n.editionTitle}),[n,s]);return o?r.createElement("div",{ref:l.cellRef,style:l.style},r.createElement(Lo,{href:o,primaryTitle:i.friendlyName,secondaryTitle:m,thumb:r.createElement(As,null)})):null};var Ws=a(84508),Us=a(6304);function Fs({metadataItem:e,modalState:t}){const[a,n]=(0,g.c$)(),c=(0,i.OY)(),l=(0,i.w1)(ft.c),o=(0,Us.c)(e,Ws.PRE_PLAY),s=(0,r.useCallback)((()=>{c(Er.c.actions.toggleWatchlistRequested({server:a,provider:n,stableUser:l,sourceURI:e.sourceURI,ratingKey:e.ratingKey,added:!0})),o(!0),t.onClose()}),[c,e.ratingKey,e.sourceURI,t,n,a,l,o]);return r.createElement(Bo.wJ,{isOpen:t.isOpen,onOpenChange:t.onOpenChange},r.createElement(Bo.EX,{closeButtonAccessibilityLabel:(0,j.c)("Close"),header:(0,j.c)("Add {title} To Your Watchlist?",{title:e.title}),size:"s",onClose:t.onClose},r.createElement(Bo.aU,null,r.createElement(Xe.ye,{gap:"m"},r.createElement(Ha.a,null,(0,j.c)("By adding a title to your Watchlist you can quickly access it anytime.")),r.createElement(Ha.a,null,(0,j.c)("You can also easily remove items from your Watchlist on the details page or via the context menu on the poster in content rows.")))),r.createElement(Bo._A,null,r.createElement(Bo.YB,null,r.createElement(Ho.q,{label:(0,j.c)("No thanks"),onPress:t.onClose}),r.createElement(Ho.q,{color:"accent",label:(0,j.c)("Add to Watchlist"),onPress:s})))))}var Hs=a(90220),Vs=a(64744),Bs=a(58176),zs=a(50704),Ks=a(67388);const $s={sectionTitle:"ProviderMetadataAvailabilitiesModal-sectionTitle-EB0bHL",availabilityContainer:"ProviderMetadataAvailabilitiesModal-availabilityContainer-iPr_4x",availabilityItemContent:"ProviderMetadataAvailabilitiesModal-availabilityItemContent-bdwXeu",platformThumb:"ProviderMetadataAvailabilitiesModal-platformThumb-KuaxL4"};function qs({modalState:e,metadataItem:t,availabilities:a}){const c=(0,i.OY)(),l=(0,Ll.y)(),o=(0,Ll.y)(),s=(0,Ll.y)(),m=yo(t),d=(0,Xt.c)(t.sourceURI),u=(0,i.w1)((0,Vs.c)(lr.eK)),p=(0,i.w1)(T.c),y=(0,i.w1)(to.c),[f,b]=(0,r.useState)(),g=(null==f?void 0:f.playableKey)?(0,ot.c)(null==f?void 0:f.playableKey):{serverIdentifier:"",providerIdentifier:""},E=!!g.providerIdentifier.length&&y.includes(g.providerIdentifier),I=(0,i.w1)((0,h.c)(g.serverIdentifier)),C=(0,i.w1)((0,v.c)(g.serverIdentifier,g.providerIdentifier)),P=(0,r.useMemo)((()=>function(e){const t={title:"Available to Stream",items:[]},a={title:"Buy / Rent",items:[]};return e.forEach((e=>{e.availability.offerType===ko.mu.Free||e.availability.offerType===ko.mu.Subscription?t.items.push(e):a.items.push(e)})),[t,a]}(a)),[a]),S=(0,r.useMemo)((()=>{if(f)return No(f)}),[f]),w=(0,r.useCallback)((()=>{var e;f&&S&&((null==(e=null==f?void 0:f.Media)?void 0:e.length)?c(kl.Ky({serverEntityID:I.entityID,providerEntityID:C.entityID,metricsPage:n.I9,options:{type:Dl.im,identifier:f.Media[0].channelIdentifier}})):c((0,ki.IB)({pathname:S,replace:!1})))}),[c,f,C.entityID,I.entityID,S]),O=(0,r.useCallback)((()=>{o.onOpen()}),[o]);return(0,r.useEffect)((()=>{s.isOpen||b(void 0)}),[s.isOpen]),(0,r.useEffect)((()=>{var a;if(!f)return;let r;if(f.platform===ko.yy&&!E)return void s.onOpen();const i=No(f);return m(f),f.platform===ko.yy?(null==(a=f.Media)?void 0:a.length)?c(kl.Ky({serverEntityID:I.entityID,providerEntityID:C.entityID,metricsPage:n.I9,options:{type:Dl.im,identifier:f.Media[0].channelIdentifier}})):c((0,ki.IB)({pathname:i})):r=window.setTimeout((()=>{e.onClose(),window.open(i,"_blank","noopener,noreferrer"),b(void 0),!p.anonymous&&Ao(f,t,d)&&l.onOpen()}),0),()=>{r&&window.clearTimeout(r)}}),[f]),r.createElement(r.Fragment,null,f?null:r.createElement(Bo.wJ,{isOpen:e.isOpen,onOpenChange:e.onOpenChange},r.createElement(Bo.EX,{closeButtonAccessibilityLabel:(0,j.c)("Close Availabilities modal"),header:t.title},r.createElement(Bo.oh,null,P.map((({title:e,items:a},n)=>a.length>0?r.createElement(r.Fragment,{key:n},r.createElement("div",{className:$s.sectionTitle},r.createElement(Ha.a,null,e)),a.map(((e,a)=>r.createElement("div",{key:a,className:$s.availabilityContainer},r.createElement(Bo.G4,{item:e.availability,onChooseItem:b},r.createElement("div",{className:$s.availabilityItemContent},r.createElement(Xe.ye,{align:"space-between",orientation:"horizontal",verticalAlign:"center"},r.createElement(Xe.ye,{key:a,gap:"s",grow:!0,orientation:"horizontal",verticalAlign:"center"},r.createElement(jt.c,{className:$s.platformThumb,height:50,src:e.thumb,width:50}),r.createElement(Ha.a,{color:"primary",numberOfLines:2},e.title)),r.createElement(Xe.ye,{align:"right",gap:"s",shrink:!1},r.createElement(Ha.a,{font:"body-3"},Do(e)),Wo(e)?r.createElement(Ha.a,{font:"body-3"},ts(e,t)):null)))))))):null))),r.createElement(Bo._A,null,r.createElement(Bs.y,{leftButton:u&&r.createElement(Ho.wP,{icon:Hs.default,label:(0,j.c)("Choose your preferred services"),transparent:!0,onPress:O}),primaryButton:r.createElement(Bo.cT,null,r.createElement(Ho.q,{color:"accent",label:(0,j.c)("Done")}))})))),p.anonymous?null:r.createElement(Fs,{metadataItem:t,modalState:l}),r.createElement(zs.c,{isOpen:o.isOpen,onClose:o.onClose}),g.providerIdentifier.length?r.createElement(Ks.c,{modalState:s,providerIdentifier:g.providerIdentifier,onOptInFinished:w}):null)}var Gs=a(29356),Ys=a(25760),Zs=a(29412);const Qs=parseInt(fe.c.v4PagePadding,10);function _s(){return(0,Zs.c)({columnWidth:parseInt(fe.c.v4PrePlayAvailabilityWidth,10),rowHeight:parseInt(fe.c.v4PrePlayAvailabilityHeight,10),innerHorizontalPadding:parseInt(fe.c.v4PrePlayAvailabilityGap,10),outerPaddingLeft:Qs,outerPaddingRight:Qs})}const Xs=function(e){return!!e&&"availability"in e};var Js=a(38392),em=a(46872),tm=a(48708);const am={hub:"PrePlayAvailabilityList-hub-lEPTuG VirtualHubScroller-hub-EpgwMo",hubHeader:"PrePlayAvailabilityList-hubHeader-Byc4ks VirtualHubScroller-hubHeader-vSW06t",placeholderCell:"PrePlayAvailabilityList-placeholderCell-Hy0NXK ListRowPlaceholder-placeholder-g75gnX",moreItemContainer:"PrePlayAvailabilityList-moreItemContainer-BAkOYq",zeroStateContainer:"PrePlayAvailabilityList-zeroStateContainer-JdTuhU",noSelectedServicesContainer:"PrePlayAvailabilityList-noSelectedServicesContainer-Yjn3ki",noSelectedServicesMoreItemContainer:"PrePlayAvailabilityList-noSelectedServicesMoreItemContainer-qBKfnd",noSelectedServicesTextContainer:"PrePlayAvailabilityList-noSelectedServicesTextContainer-k87pYu",iconPlaylist:"PrePlayAvailabilityList-iconPlaylist-xoEK8T",squareThumb:"PrePlayAvailabilityList-squareThumb-zhwrD2"};var rm=Object.defineProperty,nm=Object.defineProperties,cm=Object.getOwnPropertyDescriptors,lm=Object.getOwnPropertySymbols,im=Object.prototype.hasOwnProperty,om=Object.prototype.propertyIsEnumerable,sm=(e,t,a)=>t in e?rm(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a,mm=(e,t)=>{for(var a in t||(t={}))im.call(t,a)&&sm(e,a,t[a]);if(lm)for(var a of lm(t))om.call(t,a)&&sm(e,a,t[a]);return e},dm=(e,t)=>nm(e,cm(t)),um=(e,t)=>{var a={};for(var r in e)im.call(e,r)&&t.indexOf(r)<0&&(a[r]=e[r]);if(null!=e&&lm)for(var r of lm(e))t.indexOf(r)<0&&om.call(e,r)&&(a[r]=e[r]);return a};const pm=6,ym=3,fm=25,vm=_s();function bm(e){var t=e,{title:a,onPress:n}=t,c=um(t,["title","onPress"]);const l=(0,he.c)(c);return r.createElement("div",{ref:l.cellRef,style:l.style},r.createElement(gm,{title:a,onPress:n}))}function gm({className:e=am.moreItemContainer,title:t,onPress:a}){return r.createElement("div",{className:e},r.createElement(Lo,{secondaryTitle:t,thumb:r.createElement("span",{className:am.iconPlaylist},r.createElement(Xi.default,{color:"inherit"})),onPress:a}))}function hm(e){var t=um(e,[]);const a=(0,he.c)(t),{cellIndex:n}=t;return r.createElement(Jt.c,{className:am.placeholderCell,index:n,style:a.style})}function Em({metadataItem:e}){const t=(0,i.OY)(),a=(0,zl.c)(jl.s.IncludeAvailabilities),n=(0,Ll.y)(),c=(0,Ll.y)(),[l,o]=(0,g.c$)(),s=(0,i.w1)(T.c),{availabilities:m,isPending:d,isPopulated:u,error:p}=(0,i.w1)((0,Gs.c)(o,e.sourceURI)),y=(0,i.w1)(to.c),{services:f,isPopulated:v,isPending:b,error:h}=(0,i.w1)((0,Ys.c)(o)),E=(0,i.w1)((0,ji.c)(lr.eK)),I=(0,i.w1)((0,ji.c)(lr.Go)),C=(0,r.useMemo)((()=>{return m.providerAvailabilities.filter((e=>!(e.availability.includeIfPreferred&&!f.includes(e.platform)||e.platform!==ko.yy&&!a||e.platform===ko.yy&&e.availability.playableKey&&!y.includes((0,ot.c)(e.availability.playableKey).providerIdentifier)&&!s.isFullUser||e.availability.Media&&!I))).sort((e=f,function(t,a){if(t.availability.Media&&a.availability.Media)return(0,Js.c)(t.availability.Media,a.availability.Media);if(t.availability.platform===ko.yy&&a.availability.platform===ko.yy){if(t.availability.Media)return 1;if(a.availability.Media)return-1}else{if(a.availability.platform===ko.yy)return 1;if(t.availability.platform===ko.yy)return-1}if(t.availability.platform===a.availability.platform){if((0,em.c)(t.availability))return 1;if((0,em.c)(a.availability))return-1}const r=e.includes(a.availability.platform)?-1:1,n=e.includes(t.availability.platform)?-1:1;return n<r?-1:n>r?1:0})).reduce(((e,t)=>{const a=e.find((e=>{var t;return Xs(e)&&(null==(t=e.availability.Media)?void 0:t[0].onAir)}));if(!t.availability.Media||t.availability.Media[0].onAir&&!a)e.push(t);else if(t.availability.Media){const a=e.find(xo);a&&a.availabilities.length<fm?a.availabilities.push(t.availability):a||e.push({type:ko.AB.Provider,title:t.title,platform:t.platform,thumb:t.thumb,availabilities:[t.availability]})}return e}),[]);var e}),[m.providerAvailabilities,f,a,y,s.isFullUser,I]),P=(0,r.useMemo)((()=>{const e=Wa.SI(o.identifier),t=e!==Wa.tE.Production?`-${e}`:"";return C.filter((e=>xo(e)||e.availability.Media?y.includes(`${Wa.$9}${t}`):e.platform===ko.yy?y.includes(`${Wa.Sg}${t}`):f.includes(e.platform)))}),[C,o.identifier,f,y]),S=(0,r.useMemo)((()=>(f.length?P:C).slice(0,ym)),[C,P,f.length]),w=(0,r.useMemo)((()=>C.filter((e=>Xs(e)&&!S.includes(e)))),[C,S]),O=(0,r.useMemo)((()=>{const e=[...m.serverAvailabilities,...S];if(w.length){const t=w.length,a=1===t;((null==f?void 0:f.length)?a&&P.length===C.length:a)?e.push(C[ym]):0===e.length?e.push({type:ko.AB.More,title:t>1?(0,j.c)("Available on {count} other services",{count:t}):(0,j.c)("Available on 1 other service")}):e.push({type:ko.AB.More,title:(0,j.c)("+ {count} more",{count:t})})}return e}),[C,m.serverAvailabilities,w.length,P.length,S,null==f?void 0:f.length]);(0,r.useEffect)((()=>{!a||!E||b||v||h||t(tm.cp.actions.preferredServicesFetchRequested({server:l,provider:o}))}),[t,E,b,v,h,o,l,a]),(0,r.useEffect)((()=>{E&&a&&!v||d||u||p||t(tm.cp.actions.metadataItemAvailabilitiesFetchRequested({server:l,provider:o,metadataItem:e}))}),[t,p,E,d,u,v,e,o,l,a]),(0,r.useEffect)((()=>()=>{(null==e?void 0:e.sourceURI)&&t(tm.cp.actions.metadataItemAvailabilitiesReset({provider:o,sourceURI:e.sourceURI}))}),[]);const M=(0,r.useCallback)((()=>{n.onOpen()}),[n]),R=(0,r.useCallback)((t=>{if(!t.item)return r.createElement(hm,mm({},t));if((a=t.item)&&a.type===ko.AB.More)return r.createElement(bm,dm(mm({},t),{title:t.item.title,onPress:M}));var a;if(function(e){return!!e&&e.type===ko.AB.Server}(t.item)){const e=(0,ot.c)(t.item.availability.source);return r.createElement(g.cp,{key:t.key,machineIdentifier:e.serverIdentifier,providerIdentifier:e.providerIdentifier},r.createElement(Ns,dm(mm({},t),{metadataItem:t.item.availability})))}return r.createElement(Rs,dm(mm({},t),{addToWatchlistModalState:c,isAnonymousUser:s.anonymous,item:t.item,metadataItem:e}))}),[c,e,M,s.anonymous]),L=(0,r.useMemo)((()=>d?new Array(pm):O),[d,O]),k=(0,r.useMemo)((()=>(0,Ji.c)({items:L,title:(0,j.c)("Watch from these locations"),type:oe.a.Availability})),[L]);return!e.isUnreleased||u&&L.length?u&&!L.length?r.createElement("div",{className:am.hub},r.createElement("div",{className:am.hubHeader},r.createElement(Pe.c,null,k.title)),r.createElement("div",{className:am.zeroStateContainer},r.createElement(Ha.a,{color:"muted",font:"inherit"},(0,j.c)("There are no locations currently available for this title.")))):r.createElement(r.Fragment,null,1===L.length&&L[0].type===ko.AB.More?r.createElement("div",{className:am.hub},r.createElement("div",{className:am.hubHeader},r.createElement(Pe.c,null,k.title)),r.createElement("div",{className:am.noSelectedServicesContainer},r.createElement(gm,{className:am.noSelectedServicesMoreItemContainer,title:L[0].title,onPress:M}),r.createElement(Xe.ye,{grow:!0,orientation:"horizontal",width:"100%"},r.createElement("div",{className:am.noSelectedServicesTextContainer},r.createElement(Ha.a,{color:"muted",font:"inherit"},(0,j.c)("This item is not available on any of your selected services")))))):r.createElement(Oc.c,{cellComponentFactory:R,className:am.hub,hub:k,items:L,layout:vm,totalSize:L.length}),s.anonymous?null:r.createElement(Fs,{metadataItem:e,modalState:c}),r.createElement(qs,{availabilities:w,metadataItem:e,modalState:n})):null}function Im({metadataItem:e}){return(0,eo.c)(e)?r.createElement(Em,{metadataItem:e}):null}var Cm=a(34116);function Pm({metadataItem:e,onScrollPositionReady:t}){const{audienceRating:a,contentRating:n,duration:c,originallyAvailableAt:l,rating:i,summary:o}=e,s=(0,rt.c)(e,"grandparentKey"),m=(0,rt.c)(e,"parentKey"),d=(0,wl.c)({useLongName:!0,episodeIndex:e.index,date:e.originallyAvailableAt,noLeadingZero:!0}),u=(0,B.c)(e),p=Ti(e),y=(0,Xt.c)(null==e?void 0:e.sourceURI),f=$a(e,"Director",2),v=$a(e,"Writer",2),b=(0,Li.c)(e,y),g=(0,Cm.c)(e),h=Pr(e),E=!!f||!!v;return r.createElement(r.Fragment,null,r.createElement(le,{buttonBar:r.createElement(tt.c,{isChromaMetadata:!0,metadataItem:e,promotedActions:["isPlayVisible","isAddToWatchlistVisible","isRemoveFromWatchlistVisible","isMarkPlayedVisible","isMarkUnplayedVisible","isSyncDownloadVisible","isEditVisible","isShareVisible"]}),facts:[m?r.createElement(at.c,{key:"parentTitle",color:"inherit",font:"inherit",href:m},e.parentTitle):e.parentTitle,d,b,g?r.createElement(Ha.a,{color:"accent",font:"inherit"},g):void 0],genres:[l?(0,Ri.c)(l):void 0,c?(0,F.c)(c):void 0,n?(0,H.c)(n):void 0],metadataItem:e,poster:r.createElement(lt.c,{isChromaMetadata:!0,metadataItem:e}),ratings:[i||a?r.createElement(V.c,{metadataItem:e}):null],showAttributionLogo:!0,socialProof:p?r.createElement(Zi,{metadataItem:e}):null,starRating:u?r.createElement(ct.g,{metadataItem:e}):void 0,subtitle:(0,it.c)(e),summary:o,title:s?r.createElement(at.c,{color:"inherit",font:"inherit",href:s},e.grandparentTitle):e.grandparentTitle},E||h?r.createElement(_i,null,E?r.createElement(et,null,f?r.createElement(U.Qp,{key:"directorTags",label:(0,j.c)("Directed by")},f):null,v?r.createElement(U.Qp,{key:"writerTags",label:(0,j.c)("Written by")},v):null):null,h):null),r.createElement(Im,{metadataItem:e}),r.createElement(wi,{metadataItem:e}),r.createElement(ja,{metadataItem:e}),r.createElement(Fa,{metadataItem:e,onScrollPositionReady:t}))}var Sm=a(2536),wm=a(98772),Om=a(84184);const Mm={card:"PrePlayReviewList-card-ocQ0DH PosterCard-card-BRB1k_",details:"PrePlayReviewList-details-R9Dsyo",ratingImg:"PrePlayReviewList-ratingImg-JpwBbC",reviewContainer:"PrePlayReviewList-reviewContainer-az8Cfb",titleContainer:"PrePlayReviewList-titleContainer-mzJ0iB",title:"PrePlayReviewList-title-G31z4A MetadataPosterCardTitle-singleLineTitle-lPd1B2 MetadataPosterCardTitle-title-ImAmGu",author:"PrePlayReviewList-author-dIaGAK PrePlayReviewList-title-G31z4A MetadataPosterCardTitle-singleLineTitle-lPd1B2 MetadataPosterCardTitle-title-ImAmGu undefined"};var Rm=Object.defineProperty,Tm=Object.defineProperties,Lm=Object.getOwnPropertyDescriptors,km=Object.getOwnPropertySymbols,Am=Object.prototype.hasOwnProperty,xm=Object.prototype.propertyIsEnumerable,Dm=(e,t,a)=>t in e?Rm(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a,jm=(e,t)=>{for(var a in t||(t={}))Am.call(t,a)&&Dm(e,a,t[a]);if(km)for(var a of km(t))xm.call(t,a)&&Dm(e,a,t[a]);return e},Nm=(e,t)=>Tm(e,Lm(t)),Wm=(e,t)=>{var a={};for(var r in e)Am.call(e,r)&&t.indexOf(r)<0&&(a[r]=e[r]);if(null!=e&&km)for(var r of km(e))t.indexOf(r)<0&&xm.call(e,r)&&(a[r]=e[r]);return a};const Um={certified:"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' width='560' height='560' viewBox='0 0 560 560'%3e %3cg fill='none' transform='translate(70 70)'%3e %3cpath fill='%2300641E' d='M350.598182%2c408.087273 L324.545455%2c413.076364 C324.545455%2c413.076364 324.876364%2c410.696364 325.894545%2c404.129091 C339.334545%2c406.038182 350.598182%2c408.087273 350.598182%2c408.087273 Z M67.3018182%2c408.087273 C67.3018182%2c408.087273 78.5527273%2c406.038182 91.9927273%2c404.129091 C93.0109091%2c410.696364 93.3545455%2c413.076364 93.3545455%2c413.076364 L67.3018182%2c408.087273 Z'/%3e %3cpath fill='%230AC855' d='M324.545455%2c413.076364 L350.598182%2c408.087273 C351.081818%2c408.176364 351.552727%2c407.972727 351.667273%2c407.641818 C357.598182%2c390.116364 363.630909%2c372.654545 369.816364%2c355.18 C387.710909%2c361.581818 404.014545%2c371.649091 417.365455%2c384.567273 C418.078182%2c385.241818 418.090909%2c385.903636 417.416364%2c385.827273 C404.816364%2c385.649091 392.98%2c387.481818 382.276364%2c390.854545 C382.047273%2c390.905455 381.907273%2c391.032727 381.894545%2c391.210909 C383.867273%2c408.214545 382.785455%2c425.090909 378.865455%2c440.910909 C378.7%2c441.343636 378.152727%2c441.356364 377.783636%2c440.961818 C366.316364%2c425.74 347.314545%2c414.501818 324.545455%2c413.076364 Z M67.3018182%2c408.087273 L93.3545455%2c413.076364 C70.5727273%2c414.501818 51.5963636%2c425.74 40.1290909%2c440.961818 C39.76%2c441.356364 39.2127273%2c441.343636 39.0472727%2c440.910909 C35.1272727%2c425.090909 34.0454545%2c408.214545 36.0181818%2c391.210909 C36.0054545%2c391.032727 35.8654545%2c390.905455 35.6363636%2c390.854545 C24.9327273%2c387.481818 13.0963636%2c385.649091 0.496363636%2c385.827273 C-0.178181818%2c385.903636 -0.165454545%2c385.241818 0.547272727%2c384.567273 C13.8854545%2c371.661818 30.1254545%2c361.530909 48.0072727%2c355.129091 C54.2054545%2c372.590909 60.2890909%2c390.116364 66.2327273%2c407.641818 C66.3472727%2c407.972727 66.8181818%2c408.176364 67.3018182%2c408.087273 Z'/%3e %3cpath fill='%2300912D' d='M350.598182%2c408.087273 C257.205455%2c391.72 160.681818%2c391.72 67.3018182%2c408.087273 C66.8181818%2c408.176364 66.3472727%2c407.972727 66.2327273%2c407.641818 C57.5909091%2c382.149091 48.6818182%2c356.72 39.4927273%2c331.354545 C39.3654545%2c330.998182 39.76%2c330.590909 40.3581818%2c330.489091 C151.390909%2c310.201818 266.496364%2c310.201818 377.541818%2c330.489091 C378.14%2c330.590909 378.534545%2c330.998182 378.394545%2c331.354545 C369.218182%2c356.72 360.309091%2c382.149091 351.667273%2c407.641818 C351.552727%2c407.972727 351.081818%2c408.176364 350.598182%2c408.087273 Z M234.945455%2c100.494545 C247.112727%2c99.4127273 273.712727%2c100.023636 286.707273%2c112.763636 C287.483636%2c113.54 286.809091%2c115.296364 285.701818%2c115.003636 C266.661818%2c109.874545 236.969091%2c135.125455 217.725455%2c118.796364 C217.203636%2c123.581818 212.889091%2c146.618182 180.027273%2c143.207273 C179.250909%2c143.130909 178.945455%2c142.265455 179.518182%2c141.781818 C184.609091%2c137.454545 190.858182%2c125.478182 185.5%2c117.829091 C168.776364%2c128.927273 160.121818%2c129.410909 129.283636%2c116.047273 C128.278182%2c115.614545 128.876364%2c113.972727 130.06%2c113.705455 C136.461818%2c112.267273 151.696364%2c106.730909 165.352727%2c104.147273 C167.961818%2c103.650909 170.52%2c103.358182 172.989091%2c103.332727 C158.849091%2c99.96 152.689091%2c97.0327273 143.372727%2c97.0709091 C142.354545%2c97.0836364 141.845455%2c95.8109091 142.583636%2c95.1109091 C157.156364%2c81.0981818 183.578182%2c80.3727273 196.305455%2c90.8090909 L184.901818%2c66.9963636 L198.761818%2c64.9090909 C198.761818%2c64.9090909 202.376364%2c77.6109091 205.609091%2c89.0272727 C220.041818%2c73.22 242.365455%2c74.8236364 249.887273%2c88.6327273 C250.332727%2c89.4472727 249.594545%2c90.4145455 248.678182%2c90.2490909 C241.105455%2c88.9636364 235.925455%2c95.2636364 234.830909%2c100.469091 L234.945455%2c100.494545 Z'/%3e %3cpath fill='%23FA320A' d='M72.8127273%2c325.309091 C162.132727%2c312.250909 253.476364%2c312.110909 342.821818%2c324.965455 C365.107273%2c298.645455 377.974545%2c264.714545 375.518182%2c225.349091 C371.661818%2c163.698182 335.630909%2c126.674545 283.703636%2c110.434545 C284.721818%2c111.198182 285.803636%2c111.898182 286.707273%2c112.763636 C287.483636%2c113.54 286.809091%2c115.296364 285.701818%2c115.003636 C266.661818%2c109.874545 236.969091%2c135.125455 217.725455%2c118.796364 C217.203636%2c123.569091 212.889091%2c146.618182 180.027273%2c143.207273 C179.250909%2c143.130909 178.945455%2c142.265455 179.518182%2c141.781818 C184.609091%2c137.454545 190.858182%2c125.465455 185.5%2c117.829091 C168.776364%2c128.927273 160.121818%2c129.410909 129.283636%2c116.047273 C129.029091%2c115.932727 129.130909%2c115.652727 129.067273%2c115.423636 C56.9927273%2c141.043636 38.4872727%2c191.990909 41.86%2c246.158182 C43.82%2c277.441818 55.3%2c303.978182 72.8127273%2c325.309091'/%3e %3cpath fill='gold' d='M72.66%2c325.334545 C55.16%2c304.029091 43.82%2c277.416364 41.86%2c246.158182 C38.4872727%2c191.990909 56.9927273%2c141.043636 129.067273%2c115.423636 C129.130909%2c115.652727 129.029091%2c115.932727 129.283636%2c116.047273 C128.278182%2c115.614545 128.876364%2c113.972727 130.06%2c113.705455 C136.461818%2c112.267273 151.696364%2c106.718182 165.352727%2c104.147273 C167.961818%2c103.650909 170.52%2c103.358182 172.989091%2c103.32 C158.849091%2c99.96 152.689091%2c97.0327273 143.372727%2c97.0709091 C142.354545%2c97.0836364 141.845455%2c95.8109091 142.583636%2c95.0981818 C157.156364%2c81.0854545 183.578182%2c80.3727273 196.305455%2c90.8090909 L184.901818%2c66.9836364 L198.761818%2c64.9090909 C198.761818%2c64.9090909 202.376364%2c77.5981818 205.609091%2c89.0272727 C220.041818%2c73.22 242.365455%2c74.8236364 249.887273%2c88.6327273 C250.332727%2c89.4472727 249.594545%2c90.4145455 248.678182%2c90.2490909 C241.105455%2c88.9636364 235.925455%2c95.2636364 234.830909%2c100.469091 L234.945455%2c100.494545 C247.112727%2c99.4127273 273.712727%2c100.023636 286.707273%2c112.763636 C285.803636%2c111.898182 284.721818%2c111.198182 283.703636%2c110.434545 C335.630909%2c126.674545 371.661818%2c163.698182 375.518182%2c225.349091 C377.974545%2c264.714545 365.107273%2c298.645455 342.821818%2c324.965455 C349.592727%2c325.932727 356.325455%2c327.065455 363.070909%2c328.185455 C391.465455%2c293.44 407.870909%2c249.390909 407.870909%2c202.134545 C407.870909%2c94.4490909 320.358182%2c10.0927273 208.650909%2c10.0927273 C96.9436364%2c10.0927273 9.43090909%2c94.4490909 9.43090909%2c202.134545 C9.43090909%2c249.467273 25.8363636%2c293.541818 54.2563636%2c328.274545 C60.3781818%2c327.256364 66.5127273%2c326.250909 72.66%2c325.334545'/%3e %3cpath fill='%23FF6A13' d='M54.2563636%2c328.274545 C25.8363636%2c293.541818 9.43090909%2c249.467273 9.43090909%2c202.134545 C9.43090909%2c94.4490909 96.9436364%2c10.0927273 208.650909%2c10.0927273 C320.358182%2c10.0927273 407.870909%2c94.4490909 407.870909%2c202.134545 C407.870909%2c249.390909 391.465455%2c293.44 363.070909%2c328.185455 C366.456364%2c328.745455 369.841818%2c329.190909 373.227273%2c329.801818 C400.629091%2c294.509091 417.021818%2c250.256364 417.021818%2c202.134545 C417.021818%2c87.0418182 323.730909%2c0.929090909 208.650909%2c0.929090909 C93.5581818%2c0.929090909 0.267272727%2c87.0418182 0.267272727%2c202.134545 C0.267272727%2c250.307273 16.6981818%2c294.585455 44.1509091%2c329.878182 C47.5109091%2c329.28 50.8836364%2c328.834545 54.2563636%2c328.274545'/%3e %3c/g%3e %3c/svg%3e",fresh:"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' width='560' height='560' viewBox='0 0 560 560'%3e %3cg fill='none' transform='translate(80 74)'%3e %3cpath fill='%23FA320A' d='M398.290129%2c222.975966 C394.300429%2c159.0103 361.769957%2c111.15279 312.822318%2c84.3974249 C313.100429%2c85.9562232 311.713305%2c87.904721 310.133906%2c87.2145923 C278.118455%2c73.2094421 223.806009%2c118.534764 185.852361%2c94.7991416 C186.137339%2c103.317597 184.47382%2c144.871245 125.938197%2c147.281545 C124.556223%2c147.338197 123.795708%2c145.927039 124.669528%2c144.927897 C132.497854%2c135.999142 140.401717%2c113.393133 129.03691%2c101.341631 C104.698712%2c123.151073 90.5648069%2c131.358798 43.8987124%2c120.527897 C14.0206009%2c151.769099 -2.90987124%2c194.527897 0.413733906%2c247.793133 C7.19484979%2c356.527897 109.043777%2c418.682403 211.606867%2c412.282403 C314.16309%2c405.887554 405.072961%2c331.71073 398.290129%2c222.975966'/%3e %3cpath fill='%2300912D' d='M211.375107%2c58.2927039 C232.449785%2c53.2695279 293.067811%2c57.8034335 312.48927%2c83.5665236 C313.654936%2c85.111588 312.013734%2c88.0351931 310.133906%2c87.2145923 C278.118455%2c73.2094421 223.806009%2c118.534764 185.852361%2c94.7991416 C186.137339%2c103.317597 184.47382%2c144.871245 125.938197%2c147.281545 C124.556223%2c147.338197 123.795708%2c145.927039 124.669528%2c144.927897 C132.497854%2c135.999142 140.4%2c113.393133 129.03691%2c101.341631 C102.525322%2c125.099571 88.1527897%2c132.733906 30.6111588%2c117.180258 C28.727897%2c116.672103 29.3699571%2c113.645494 31.3733906%2c112.881545 C42.248927%2c108.725322 66.8875536%2c90.52103 90.1974249%2c82.4969957 C94.6351931%2c80.9708155 99.0592275%2c79.7862661 103.376824%2c79.0978541 C77.711588%2c76.8042918 66.1424893%2c73.2351931 49.8180258%2c75.6969957 C48.0291845%2c75.9665236 46.8137339%2c73.8841202 47.9227468%2c72.455794 C69.9175966%2c44.1244635 110.436052%2c35.5682403 135.435193%2c50.6188841 C120.025751%2c31.5253219 107.955365%2c16.2978541 107.955365%2c16.2978541 L136.556223%2c0.052360515 C136.556223%2c0.052360515 148.372532%2c26.4523605 156.969957%2c45.6660944 C178.245494%2c14.2309013 217.830043%2c11.3296137 234.554506%2c33.6334764 C235.546781%2c34.9587983 234.509871%2c36.8437768 232.853219%2c36.8042918 C219.241202%2c36.4729614 211.745923%2c48.8540773 211.177682%2c58.2703863 L211.375107%2c58.2927039'/%3e %3c/g%3e %3c/svg%3e",rotten:"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' width='560' height='560' viewBox='0 0 560 560'%3e %3cpath fill='%230AC855' d='M375.185263%2c368.684474 C295.816316%2c372.851316 279.598421%2c282.031842 248.459474%2c282.678421 C235.190789%2c282.956579 224.733158%2c296.829474 229.325526%2c312.997632 C231.851053%2c321.885789 238.856579%2c334.920526 243.270263%2c343.009211 C258.839737%2c371.552632 235.822632%2c403.853947 208.887368%2c406.585789 C164.126053%2c411.126579 145.454474%2c385.160263 146.609474%2c358.578684 C147.908158%2c328.738421 173.209474%2c298.247895 147.259737%2c285.273947 C120.064737%2c271.677368 97.9576316%2c324.846053 71.9342105%2c336.712895 C48.3810526%2c347.454211 15.6855263%2c339.126053 4.06184211%2c312.971842 C-4.10236842%2c294.593158 -2.61763158%2c259.204474 33.7326316%2c245.701842 C56.4384211%2c237.268684 107.037368%2c256.730526 109.632895%2c232.079474 C112.624474%2c203.663158 56.4771053%2c201.266579 39.5721053%2c194.452632 C9.66%2c182.397895 -7.99473684%2c156.602895 5.83763158%2c128.930789 C16.2160526%2c108.173947 46.7526316%2c99.7278947 70.0607895%2c108.820526 C97.9834211%2c119.712895 102.465263%2c148.674474 116.771053%2c160.718158 C129.094737%2c171.098421 145.961053%2c172.397105 156.991579%2c165.260789 C165.126316%2c159.996053 167.834211%2c148.433158 164.765263%2c137.870526 C160.694211%2c123.848421 149.890263%2c115.098421 139.349737%2c106.525263 C120.591579%2c91.2763158 94.1094737%2c78.1642105 110.128421%2c36.5418421 C123.258947%2c2.43157895 161.77%2c1.20289474 161.77%2c1.20289474 C177.070526%2c-0.517631579 190.772105%2c4.10236842 201.937105%2c14.0773684 C216.863684%2c27.4123684 219.770526%2c45.2365789 217.272632%2c64.2526316 C214.990263%2c81.6107895 208.846842%2c96.8136842 205.643421%2c114.011579 C201.926053%2c133.978158 212.597368%2c154.097632 232.891842%2c154.880526 C259.585789%2c155.912105 267.589737%2c135.394737 270.855789%2c122.389474 C275.637895%2c103.360526 281.913947%2c85.6947368 299.574211%2c74.5684211 C324.919737%2c58.5992105 360.126053%2c62.0992105 376.46%2c92.7905263 C389.380526%2c117.075 385.232105%2c150.505526 365.412895%2c168.760789 C356.521053%2c176.948947 345.829474%2c179.835526 334.264737%2c179.916579 C317.680263%2c180.034474 301.103158%2c179.627368 285.708684%2c187.388158 C275.228947%2c192.669474 270.662368%2c201.275789 270.664211%2c212.811053 C270.664211%2c224.053421 276.516579%2c231.396053 285.999737%2c236.174474 C303.860789%2c245.176842 323.576842%2c247.017105 342.871053%2c250.395526 C370.850789%2c255.295526 395.452105%2c265.150789 411.246316%2c291.115263 C411.388158%2c291.343684 411.526316%2c291.573947 411.660789%2c291.806053 C429.8%2c322.547105 410.83%2c366.811053 375.185263%2c368.684474' transform='translate(70 76)'/%3e %3c/svg%3e",spilled:"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' width='560' height='560' viewBox='0 0 560 560'%3e %3cg fill='none' transform='translate(33 140)'%3e %3cpath fill='white' d='M43.8020066%2c267.3152 L281.745403%2c290.797105 C286.539148%2c305.7344 292.894623%2c320.31421 302.004138%2c331.0528 L71.7380852%2c300.927619 C61.4905377%2c294.175695 50.8770689%2c281.050362 43.8020066%2c267.3152 Z M266.684852%2c192.017143 C267.285384%2c212.923048 270.116459%2c239.981562 275.03101%2c263.034133 L33.8766098%2c243.950705 C26.3585902%2c221.21181 24.03%2c207.991848 22.1723803%2c189.066133 L266.684852%2c192.017143 Z M275.03101%2c89.3083429 C270.116459%2c112.360914 267.285384%2c139.419429 266.684852%2c160.325333 L22.1723803%2c163.276343 C24.03%2c144.350629 26.3585902%2c131.130667 33.8766098%2c108.391771 L275.03101%2c89.3083429 Z M302.004138%2c21.2896762 C292.894623%2c32.030019 286.539148%2c46.6080762 281.745403%2c61.5471238 L43.8020066%2c85.0272762 C50.8770689%2c71.2921143 61.4905377%2c58.1685333 71.7380852%2c51.4148571 L302.004138%2c21.2896762 Z'/%3e %3cpath fill='%2300641E' d='M303.565869%2c264.667352 C306.720846%2c256.846476 317.903331%2c252.081752 325.93259%2c252.63901 C334.515108%2c253.234819 343.631626%2c262.264838 345.224872%2c271.145905 C345.520761%2c270.823467 345.830656%2c270.518552 346.145803%2c270.218895 C348.901593%2c267.583314 352.35421%2c265.834438 356.132479%2c265.352533 C355.554708%2c262.790552 355.416393%2c260.048076 355.812079%2c257.233752 C357.207482%2c247.3328 365.145698%2c239.907962 374.234203%2c239.981562 C380.099449%2c240.028876 385.245108%2c243.032457 388.597928%2c247.646476 C388.897318%2c247.271467 389.228223%2c246.928 389.550374%2c246.577524 C393.384669%2c226.586362 395.814807%2c203.999924 396.368066%2c180.030857 C398.267705%2c97.6111238 377.375174%2c30.2776381 349.70522%2c29.6397714 C322.033515%2c29.0001524 298.061292%2c95.2962286 296.161652%2c177.715962 C296.161652%2c177.715962 294.696216%2c207.778057 303.565869%2c264.667352'/%3e %3cpath fill='gold' d='M490.910577%2c354.797562 C492.545843%2c352.0656 493.45977%2c348.7904 493.396741%2c345.310171 C493.927239%2c334.065143 486.214879%2c323.871543 475.484105%2c325.000076 C475.794%2c323.713829 475.997095%2c322.376762 476.075882%2c320.997638 C476.718433%2c309.733333 468.957049%2c300.025143 458.739266%2c299.315429 C458.515161%2c299.30141 458.294557%2c299.2944 458.072203%2c299.28739 C459.134951%2c296.492343 459.661948%2c293.371352 459.47461%2c290.06461 C458.945862%2c280.692876 452.488839%2c272.796648 444.088407%2c271.242286 C441.054236%2c270.681524 438.111108%2c270.960152 435.416597%2c271.894171 C432.870905%2c265.617143 427.525652%2c260.961067 421.023108%2c259.977981 C420.508367%2c249.786133 413.153174%2c241.397486 403.68299%2c240.740343 C397.728452%2c240.326781 392.257141%2c243.064 388.597928%2c247.646476 C385.245108%2c243.032457 380.099449%2c240.030629 374.234203%2c239.983314 C365.145698%2c239.907962 357.207482%2c247.3328 355.812079%2c257.235505 C355.416393%2c260.048076 355.554708%2c262.790552 356.132479%2c265.354286 C352.35421%2c265.834438 348.901593%2c267.585067 346.145803%2c270.218895 C345.830656%2c270.518552 345.520761%2c270.823467 345.224872%2c271.145905 C343.631626%2c262.264838 334.515108%2c253.236571 325.93259%2c252.63901 C317.903331%2c252.081752 306.575528%2c256.963886 303.565869%2c264.667352 C304.885987%2c278.101105 313.275915%2c314.72061 343.621121%2c347.570743 L343.890748%2c347.590019 C346.816367%2c350.239619 350.636656%2c351.699352 354.709062%2c351.33661 C357.233744%2c351.110552 359.558833%2c350.206324 361.56177%2c348.811429 L362.050249%2c348.844724 C364.720249%2c350.700495 367.929502%2c351.671314 371.320839%2c351.369905 C372.616446%2c351.254248 373.852525%2c350.942324 375.027325%2c350.497219 C377.933685%2c356.51139 384.41522%2c360.398171 391.649607%2c359.760305 C397.25223%2c359.266133 402.014459%2c356.164419 404.81402%2c351.799238 L405.720944%2c351.862324 C408.517003%2c354.636343 412.233993%2c356.252038 416.24337%2c356.131124 C419.557672%2c361.149943 425.645272%2c364.237638 432.363167%2c363.647086 C434.893102%2c363.424533 437.254957%2c362.692038 439.361193%2c361.582781 C442.875089%2c365.90941 448.642289%2c368.481905 454.969751%2c367.924648 C461.22543%2c367.376152 466.509403%2c363.904686 469.384249%2c359.104914 C472.208321%2c361.374248 475.746728%2c362.592152 479.503987%2c362.257448 C483.149193%2c361.931505 486.38821%2c360.208914 488.821849%2c357.603124 L489.228039%2c357.631162 C489.781298%2c356.828571 490.25402%2c356.006705 490.693475%2c355.177829 C490.70398%2c355.162057 490.712734%2c355.144533 490.721489%2c355.128762 C490.781016%2c355.018362 490.854551%2c354.909714 490.910577%2c354.797562'/%3e %3cpath fill='%2304A53C' d='M281.745403%2c61.5471238 L43.8020066%2c85.0272762 C50.8770689%2c71.2921143 61.4905377%2c58.1685333 71.7380852%2c51.4148571 L302.004138%2c21.2896762 C292.894623%2c32.030019 286.539148%2c46.6080762 281.745403%2c61.5471238 Z M302.004138%2c331.0528 L71.7380852%2c300.927619 C61.4905377%2c294.175695 50.8770689%2c281.050362 43.8020066%2c267.316952 L281.745403%2c290.797105 C286.539148%2c305.7344 292.894623%2c320.31421 302.004138%2c331.0528 Z M33.8766098%2c243.950705 C26.3585902%2c221.21181 24.03%2c207.9936 22.1723803%2c189.066133 L266.684852%2c192.017143 C267.285384%2c212.923048 270.116459%2c239.981562 275.03101%2c263.034133 L33.8766098%2c243.950705 Z M33.8766098%2c108.391771 L275.03101%2c89.3083429 C270.116459%2c112.360914 267.285384%2c139.419429 266.684852%2c160.327086 L22.1723803%2c163.276343 C24.03%2c144.350629 26.3585902%2c131.130667 33.8766098%2c108.391771 Z M378.597246%2c25.7126857 C363.342354%2c7.93478095 352.390977%2c-0.411809524 343.010085%2c0.672914286 C341.261016%2c0.895466667 76.1168852%2c37.8952381 76.1168852%2c37.8952381 C34.0429377%2c42.1780571 0.416695082%2c103.32739 0%2c176.172114 C0.416695082%2c249.015086 34.0429377%2c310.164419 76.1168852%2c314.44899 C76.1168852%2c314.44899 341.758249%2c351.583695 343.010085%2c351.669562 C345.228374%2c351.655543 347.418649%2c351.357638 349.57741%2c350.803886 C347.476426%2c350.178286 345.538269%2c349.083048 343.890748%2c347.590019 L343.621121%2c347.570743 C313.275915%2c314.722362 304.885987%2c278.101105 303.565869%2c264.667352 C303.56937%2c264.656838 303.576374%2c264.648076 303.579875%2c264.637562 C303.576374%2c264.648076 303.56937%2c264.656838 303.565869%2c264.667352 C294.696216%2c207.778057 296.161652%2c177.715962 296.161652%2c177.715962 C298.061292%2c95.2962286 322.033515%2c29.0001524 349.70522%2c29.638019 C377.375174%2c30.2776381 398.267705%2c97.6111238 396.368066%2c180.030857 C395.814807%2c203.999924 393.384669%2c226.586362 389.550374%2c246.577524 C393.489718%2c242.226362 398.773692%2c240.393371 403.68299%2c240.740343 C404.586413%2c240.805181 405.465325%2c240.957638 406.326728%2c241.155657 C423.131095%2c149.125867 405.514348%2c59.262019 378.597246%2c25.7126857 Z'/%3e %3c/g%3e %3c/svg%3e",upright:"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' width='560' height='560' viewBox='0 0 560 560'%3e %3cg fill='none' transform='translate(104 45)'%3e %3cpath fill='white' d='M266.570826%2c429.214071 L290.035741%2c191.257517 C304.965095%2c186.461721 319.533692%2c180.107599 330.265313%2c170.995762 L300.159682%2c401.277993 C293.412139%2c411.526182 280.297075%2c422.138565 266.570826%2c429.214071 Z M188.372537%2c450.845052 L191.319881%2c206.31726 C212.21397%2c205.718442 239.253174%2c202.88719 262.290786%2c197.97058 L243.219741%2c439.140089 C220.495602%2c446.65858 207.28597%2c448.989067 188.372537%2c450.845052 Z M88.6794826%2c197.97058 C111.717095%2c202.88719 138.756299%2c205.718442 159.650388%2c206.31726 L162.597731%2c450.845052 C143.684299%2c448.989067 130.474667%2c446.65858 107.750527%2c439.140089 L88.6794826%2c197.97058 Z M20.7049552%2c170.995762 C31.4365771%2c180.107599 46.0051741%2c186.461721 60.9345274%2c191.257517 L84.3994428%2c429.214071 C70.673194%2c422.138565 57.5581294%2c411.526182 50.8088358%2c401.277993 L20.7049552%2c170.995762 Z'/%3e %3cpath fill='gold' d='M14.9048358%2c112.444684 C16.2620498%2c141.271985 87.6760199%2c164.121613 175.483383%2c163.620848 C252.170348%2c163.183115 316.141532%2c145.075004 331.811662%2c121.285126 C328.240876%2c117.31752 323.309373%2c114.596576 317.754428%2c113.859435 C317.81397%2c113.159063 317.852498%2c112.453439 317.848995%2c111.737309 C317.784199%2c100.337007 309.420259%2c90.9485242 298.522269%2c89.1975948 C298.809473%2c87.7233123 298.96008%2c86.1982528 298.951323%2c84.6381747 C298.879522%2c71.9421859 288.526169%2c61.7097546 275.8279%2c61.7815428 C275.540697%2c61.7832937 275.260498%2c61.8183123 274.975045%2c61.8305688 C275.787622%2c59.4563086 276.242945%2c56.9192119 276.228935%2c54.2700558 C276.155383%2c41.5740669 265.803781%2c31.3416357 253.105512%2c31.4134238 C250.191443%2c31.4309331 247.419224%2c32.0104907 244.858905%2c33.0137732 C241.226826%2c26.178145 234.253373%2c21.4138662 226.122348%2c20.8640743 C224.705592%2c9.46377323 214.965174%2c0.668855019 203.191562%2c0.735390335 C195.78205%2c0.777412639 189.228896%2c4.33530112 185.055682%2c9.79995167 C180.822925%2c5.19500743 174.756617%2c2.30597398 168.009075%2c2.34449442 C155.310806%2c2.41628253 145.076537%2c12.767777 145.148338%2c25.4620149 C145.162348%2c27.887052 145.556378%2c30.217539 146.263881%2c32.4079517 C141.08195%2c33.3692119 136.525214%2c36.0621413 133.194348%2c39.8669108 C130.54997%2c30.019684 121.557333%2c22.7830929 110.88%2c22.8426245 C100.904915%2c22.9004052 92.4744279%2c29.3123086 89.343204%2c38.2087807 C80.8689353%2c41.6353494 74.904199%2c49.9470112 74.9602388%2c59.6419071 C74.9724975%2c61.7955502 75.3017313%2c63.8686506 75.8673831%2c65.8436989 C73.0093532%2c64.5935353 69.8588657%2c63.8931636 66.5385075%2c63.9124238 C56.5266468%2c63.9702045 48.0698905%2c70.427632 44.9649353%2c79.376632 C41.9878209%2c77.9933978 38.6779701%2c77.2072305 35.1772338%2c77.2282416 C22.4789652%2c77.3000297 12.2429453%2c87.6497732 12.3164975%2c100.345762 C12.3392637%2c104.532234 13.5003383%2c108.440309 15.4757413%2c111.809097 C15.2743483%2c112.012204 15.0974726%2c112.234572 14.9048358%2c112.444684'/%3e %3cpath fill='%23FA320A' d='M300.161433%2c401.277993 C293.412139%2c411.526182 280.297075%2c422.138565 266.570826%2c429.214071 L290.035741%2c191.257517 C304.965095%2c186.461721 319.533692%2c180.107599 330.265313%2c170.995762 L300.161433%2c401.277993 Z M243.219741%2c439.140089 C220.497353%2c446.65858 207.28597%2c448.989067 188.372537%2c450.845052 L191.319881%2c206.31726 C212.21397%2c205.718442 239.253174%2c202.88719 262.292537%2c197.97058 L243.219741%2c439.140089 Z M107.750527%2c439.140089 L88.6794826%2c197.97058 C111.717095%2c202.88719 138.756299%2c205.718442 159.650388%2c206.31726 L162.597731%2c450.845052 C143.684299%2c448.989067 130.474667%2c446.65858 107.750527%2c439.140089 Z M50.8105871%2c401.277993 L20.7049552%2c170.995762 C31.4365771%2c180.107599 46.0051741%2c186.461721 60.9345274%2c191.257517 L84.3994428%2c429.214071 C70.673194%2c422.138565 57.5581294%2c411.526182 50.8105871%2c401.277993 Z M298.478488%2c80.1347844 C298.776199%2c81.5880558 298.942567%2c83.0903532 298.951323%2c84.6329219 C298.96008%2c86.193 298.809473%2c87.7180595 298.520517%2c89.192342 C309.420259%2c90.9415204 317.784199%2c100.330004 317.848995%2c111.732056 C317.852498%2c112.446435 317.81397%2c113.15381 317.754428%2c113.852431 C323.309373%2c114.589572 328.240876%2c117.310517 331.811662%2c121.278123 C316.143284%2c145.069751 252.170348%2c163.177862 175.485134%2c163.617346 C87.6777711%2c164.119862 16.263801%2c141.271985 14.9048358%2c112.442933 C15.0974726%2c112.234572 15.2743483%2c112.010454 15.4757413%2c111.809097 C14.1202786%2c109.49787 13.1851144%2c106.922253 12.7017711%2c104.189052 C4.29404975%2c112.168037 -0.793313433%2c118.600952 0.101572139%2c127.968424 C0.187383085%2c129.220338 37.29799%2c394.880097 37.29799%2c394.880097 C41.5797811%2c436.954929 102.689433%2c470.583279 175.485134%2c471 C248.280836%2c470.583279 309.392239%2c436.954929 313.672279%2c394.880097 C313.672279%2c394.880097 350.782886%2c129.220338 350.868697%2c127.968424 C352.646209%2c109.231729 330.718886%2c92.2232007 298.478488%2c80.1347844 Z'/%3e %3c/g%3e %3c/svg%3e"},Fm=parseInt(fe.c.v4PagePadding,10);function Hm(e){var t=e,{server:a,provider:n,item:c}=t,l=Wm(t,["server","provider","item"]);const i=(0,he.c)(l);if(!c)return null;const{text:o,tag:s,source:m,image:d,link:u}=c,p=d?d.substr(d.lastIndexOf(".")+1):"",y=Um[p];return r.createElement(Om.c,{ref:i.cellRef,className:Mm.card,style:i.style},r.createElement("div",{className:Mm.details},y?r.createElement("img",{className:Mm.ratingImg,src:y}):null,r.createElement("div",{className:Mm.titleContainer},u?r.createElement(Dt.c,{className:Mm.title,rel:"noopener noreferrer",target:"_blank",to:u},m):r.createElement("div",{className:Mm.title},m),r.createElement("div",{className:Mm.author},s))),r.createElement("div",{className:Mm.reviewContainer},o))}function Vm({metadataItem:e}){const[t,a]=(0,g.c$)(),{Review:n}=e,c=(0,r.useMemo)((()=>(0,Zs.c)({columnWidth:350,rowHeight:220,innerHorizontalPadding:30,outerPaddingLeft:Fm,outerPaddingRight:Fm})),[]),l=(0,r.useCallback)((e=>r.createElement(Hm,Nm(jm({},e),{provider:a,server:t}))),[a,t]);return r.createElement(Oc.c,{cellComponentFactory:l,hub:{title:(0,j.c)("Reviews"),sourceURI:d.c.join([e.sourceURI,"reviewList"])},items:null!=n?n:[],layout:c,totalSize:null==n?void 0:n.length})}var Bm=a(56276);function zm({editionTitle:e}){return e?[r.createElement(Sm.k,{key:"editionTitleBadge",accessibilityLabel:(0,j.c)("Edition {editionTitle}",{editionTitle:e}),label:e})]:[]}function Km({metadataItem:e,onScrollPositionReady:t}){const{audienceRating:a,contentRating:n,isUnreleased:c,rating:l,summary:i,year:o}=e,s=(0,Cm.c)(e),m=(0,B.c)(e),d=Ti(e),u=$a(e,"Genre"),p=$a(e,"Director",3),y=Pr(e),f=function(e){const t=(0,Xt.c)(e.sourceURI);return(null==t?void 0:t.playableUntil)&&(0,mr.c)(e,t)?r.createElement(Sm.k,{color:"accent",label:(0,Bm.c)(t.playableUntil)}):null}(e);return r.createElement(r.Fragment,null,r.createElement(le,{badges:zm(e),buttonBar:r.createElement(tt.c,{isChromaMetadata:!0,metadataItem:e,promotedActions:["isPlayVisible","isRentVisible","isAddToWatchlistVisible","isRemoveFromWatchlistVisible","isPlayTrailerVisible","isMarkPlayedVisible","isMarkUnplayedVisible","isSyncDownloadVisible","isEditVisible","isShareVisible"]}),facts:[s?r.createElement(Ha.a,{color:"accent",font:"inherit"},s):void 0,!c&&o?o:void 0,_c(e),n?(0,H.c)(n):void 0,f],genres:u,metadataItem:e,poster:r.createElement(lt.c,{isChromaMetadata:!0,metadataItem:e}),ratings:[l||a?r.createElement(V.c,{key:"criticRating",metadataItem:e}):null],showAttributionLogo:!0,socialProof:d?r.createElement(Zi,{metadataItem:e}):null,starRating:m?r.createElement(ct.g,{key:"userRating",metadataItem:e}):void 0,subtitle:p?r.createElement(Ha.a,{as:"div",color:"muted",font:"body-3"},r.createElement(wm.c,{message:(0,j.c)("Directed by {director}"),tags:[{unpaired:"director",children:p}]})):null,summary:i,title:(0,it.c)(e)},y?r.createElement(_i,null,y):null),r.createElement(Im,{metadataItem:e}),r.createElement(wi,{metadataItem:e}),r.createElement(Vm,{metadataItem:e}),r.createElement(Wc,null),r.createElement(ja,{metadataItem:e}),r.createElement(Fa,{metadataItem:e,onScrollPositionReady:t}))}var $m=a(99744),qm=a(29880),Gm=a(10568),Ym=a(96856),Zm=a(54318),Qm=a(90836),_m=a(62184);function Xm(e,t){const a=e,r=t||Date.now(),n=(0,_m.c)(r,a);if(1===n)return(0,j.c)("{ageInYears} year",{ageInYears:n});if(n>1)return(0,j.c)("{ageInYears} years",{ageInYears:n});const c=(0,Qm.c)(r,a);if(1===c)return(0,j.c)("{ageInMonths} month",{ageInMonths:c});if(c>1)return(0,j.c)("{ageInMonths} months",{ageInMonths:c});const l=(0,Zm.c)(r,a);return 1===l?(0,j.c)("{ageInDays} day",{ageInDays:l}):(0,j.c)("{ageInDays} days",{ageInDays:l})}var Jm=a(41128),ed=a(26647),td=a(97496),ad=a(57864),rd=a(36364);const nd=(0,ad.M3)(pe.c,(e=>e.credits.groups.reduce(((e,t)=>(t.credits.forEach((t=>{(0,rd.c$)(t)&&(e.find((e=>e.type===t.item.type&&e.ratingKey===t.item.ratingKey))||e.push(t.item))})),e)),[]).sort(((e,t)=>{let a=e.year||0,r=t.year||0;return!a&&e.originallyAvailableAt&&(a=(0,td.c)(new Date(e.originallyAvailableAt))),!r&&t.originallyAvailableAt&&(r=(0,td.c)(new Date(t.originallyAvailableAt))),r-a}))));function cd(){const e=(0,i.OY)(),{credits:{isPopulated:t,error:a},creditSources:{sourcesByGUID:n,isPending:c,isPopulated:l,error:o}}=(0,i.w1)(pe.c),s=(0,i.w1)(nd),m=(0,r.useMemo)((()=>s.map(ed.c).filter((e=>!(e in n)))),[s,n]);return(0,r.useEffect)((()=>{!m.length||!t||a||c||l||o||e(ka.c.actions.creditSourcesFetchRequested({guids:m}))}),[o,a,e,m,c,l,t]),t&&l?s.filter((e=>(0,ed.c)(e)in n)):[]}var ld=a(6476),id=Object.defineProperty,od=Object.defineProperties,sd=Object.getOwnPropertyDescriptors,md=Object.getOwnPropertySymbols,dd=Object.prototype.hasOwnProperty,ud=Object.prototype.propertyIsEnumerable,pd=(e,t,a)=>t in e?id(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a,yd=(e,t)=>{for(var a in t||(t={}))dd.call(t,a)&&pd(e,a,t[a]);if(md)for(var a of md(t))ud.call(t,a)&&pd(e,a,t[a]);return e},fd=(e,t)=>od(e,sd(t)),vd=(e,t)=>{var a={};for(var r in e)dd.call(e,r)&&t.indexOf(r)<0&&(a[r]=e[r]);if(null!=e&&md)for(var r of md(e))t.indexOf(r)<0&&ud.call(e,r)&&(a[r]=e[r]);return a};const bd=6;function gd(e){var t=vd(e,[]);const a=(0,he.c)(t),{cellIndex:n}=t,c=(0,r.useMemo)((()=>(0,Lt.c)({width:t.cellWidth,aspectRatio:Tt.Aj})),[t.cellWidth]);return r.createElement(Jt.c,{index:n,style:yd(yd({},a.style),c)})}function hd({metadataItem:e,onScrollPositionReady:t}){const[a,n]=(0,g.c$)(),c=(0,i.OY)(),{credits:{isPending:l,isPopulated:o,error:s},creditSources:{sourcesByGUID:m,isPending:d,isPopulated:u,error:p}}=(0,i.w1)(pe.c),y=(0,i.w1)(Kr.c),f=cd(),v=(0,r.useMemo)((()=>l||d?new Array(bd):f.reduce(((t,a)=>{const r=(0,ed.c)(a),n=(r?m[r]:null)||[],c=(0,ld.c)(e,n);return c.length&&t.push(c),t}),[])),[f,d,l,e,m]);(0,r.useEffect)((()=>{l||o||s||c(ka.c.actions.creditsFetchRequested({server:a,provider:n,metadataKey:e.key}))}),[s,c,l,o,e.key,n,a]),(0,r.useEffect)((()=>{(u||p)&&t()}),[p,u,t]);const b=(0,r.useCallback)((e=>{var t=e,{item:a}=t,n=vd(t,["item"]);return a?r.createElement(Br.c,fd(yd({},n),{item:a[0]})):r.createElement(gd,yd({},n))}),[]),h=(0,r.useMemo)((()=>(0,Ji.c)({items:v,title:(0,j.c)("Movies & Shows in Media Libraries")})),[v]),E=(0,r.useMemo)((()=>(0,wc.c)({columnWidth:y,listType:oe.a.Mixed})),[y]);return s||p||o&&u&&0===f.length?null:r.createElement(k.cp,{containerProvider:n,containerServer:a,containerSourceURI:e.sourceURI,containerType:oe.a.Mixed,listStyle:oe.y.CreditSource},r.createElement(Oc.c,{cellComponentFactory:b,hub:h,items:v,layout:E,totalSize:v.length}))}var Ed=a(6424),Id=a.n(Ed);function Cd(e,t){return t.filter((t=>(null==t?void 0:t.tagKey)===e.ratingKey||t.tag===e.title))}var Pd=a(34908),Sd=a(51860);const wd={placeholderCell:"PrePlayPersonMediaLibrariesHub-placeholderCell-QgGwce ListRowPlaceholder-placeholder-g75gnX"};var Od=Object.defineProperty,Md=Object.defineProperties,Rd=Object.getOwnPropertyDescriptors,Td=Object.getOwnPropertySymbols,Ld=Object.prototype.hasOwnProperty,kd=Object.prototype.propertyIsEnumerable,Ad=(e,t,a)=>t in e?Od(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a,xd=(e,t)=>{for(var a in t||(t={}))Ld.call(t,a)&&Ad(e,a,t[a]);if(Td)for(var a of Td(t))kd.call(t,a)&&Ad(e,a,t[a]);return e},Dd=(e,t)=>Md(e,Rd(t)),jd=(e,t)=>{var a={};for(var r in e)Ld.call(e,r)&&t.indexOf(r)<0&&(a[r]=e[r]);if(null!=e&&Td)for(var r of Td(e))t.indexOf(r)<0&&kd.call(e,r)&&(a[r]=e[r]);return a};const Nd=6,Wd=_s();function Ud(e){var t=e,{person:a,item:n}=t,c=jd(t,["person","item"]);const[l,i]=(0,g.c$)(),o=(0,he.c)(c),s=(0,r.useMemo)((()=>{const e=Cd(a,(null==n?void 0:n.tags)||[]);return(0,Sd.c)(l,i,e,String(null==n?void 0:n.librarySectionID))}),[null==n?void 0:n.librarySectionID,null==n?void 0:n.tags,a,i,l]);return r.createElement("div",{ref:o.cellRef,style:o.style},r.createElement(Lo,{href:s,primaryTitle:l.friendlyName,secondaryTitle:null==n?void 0:n.librarySectionTitle,thumb:r.createElement(As,null)}))}function Fd(e){var t=jd(e,[]);const a=(0,he.c)(t),{cellIndex:n}=t;return r.createElement(Jt.c,{className:wd.placeholderCell,index:n,style:a.style})}function Hd({metadataItem:e,onScrollPositionReady:t}){const[a,n]=(0,g.c$)(),c=cd(),{credits:{isPending:l,isPopulated:o,error:s},creditSources:{sourcesByGUID:m,isPending:d,isPopulated:u,error:p}}=(0,i.w1)(pe.c),y=(0,i.w1)(Pd.c),f=(0,r.useMemo)((()=>l||d?new Array(Nd):c.map(ed.c).flatMap((e=>m[e])).filter(Boolean).reduce(((t,a)=>{const r=(0,ot.c)(a.source),n=function(e,t){return Cd(e,[...t.Director||[],...t.Producer||[],...t.Role||[],...t.Writer||[]])}(e,a);if(!(a.librarySectionID&&a.librarySectionTitle&&r.isServer&&n.length))return t;const c=t.find((e=>e.librarySectionID===a.librarySectionID&&e.source===a.source));return c?c.tags=Id()([...c.tags,...n],"filter"):t.push({source:a.source,librarySectionID:a.librarySectionID,librarySectionTitle:a.librarySectionTitle,tags:n}),t}),[]).sort(function(e){return(t,a)=>{var r;const n=e.find((e=>e.machineIdentifier===(0,ot.c)(t.source).serverIdentifier)),c=e.find((e=>e.machineIdentifier===(0,ot.c)(a.source).serverIdentifier));return n&&c?n.isFullOwnedServer&&!c.isFullOwnedServer?-1:!n.isFullOwnedServer&&c.isFullOwnedServer?1:n.friendlyName===c.friendlyName?null==(r=t.librarySectionTitle)?void 0:r.localeCompare(a.librarySectionTitle||""):n.friendlyName.localeCompare(c.friendlyName):0}}(y))),[c,d,l,e,y,m]);(0,r.useEffect)((()=>{(u||p)&&t()}),[p,u,t]);const v=(0,r.useCallback)((t=>{var a=t,{item:n}=a,c=jd(a,["item"]);if(!n)return r.createElement(Fd,xd({},c));const l=(0,ot.c)(n.source);return r.createElement(g.cp,{key:c.key,machineIdentifier:l.serverIdentifier,providerIdentifier:l.providerIdentifier},r.createElement(Ud,Dd(xd({},c),{item:n,person:e})))}),[e]),b=(0,r.useMemo)((()=>(0,Ji.c)({items:f,title:(0,j.c)("Media Libraries")})),[f]);return s||p||o&&u&&0===c.length?null:r.createElement(k.cp,{containerProvider:n,containerServer:a,containerSourceURI:e.sourceURI,containerType:oe.a.Mixed,listStyle:oe.y.CreditSource},r.createElement(Oc.c,{cellComponentFactory:v,hub:b,items:f,layout:Wd,totalSize:f.length}))}var Vd=a(34632),Bd=a(44096),zd=a(89064),Kd=a(25564),$d=a(68684);const qd={container:"PersonCredits-container-t2aTHW",year:"PersonCredits-year-OKLD9R",link:"PersonCredits-link-goFy2o Link-link-vSsQW1"};function Gd({metadataItem:e}){const t=(0,i.OY)(),[a,n]=(0,g.c$)(),c=(0,Ll.y)(),l=(0,i.w1)($d.c),o=(0,i.w1)(to.c),{creditSources:{sourcesByGUID:s}}=(0,i.w1)(pe.c),m=o.includes(Wa.Sg),d=s[(0,ed.c)(e)],u=(null==d?void 0:d.length)?(0,ot.c)(d[0].source):null,p=(0,i.w1)((0,h.c)((null==u?void 0:u.serverIdentifier)||""));let y=null,f=null;if(null==d?void 0:d.length)y=(0,j.c)("On {sourceName}",{sourceName:p.friendlyName}),d.length>1&&(y+=" +"+(d.length-1)),f=(0,jo.c)(a.machineIdentifier,n.identifier,{key:e.key});else if(e.playableKey){const t=(0,ot.c)(e.playableKey);y=(0,j.c)("On Plex"),f=(0,jo.c)(zd.A,Wa.Sg,{key:t.key})}const v=(0,r.useCallback)((()=>{f&&t((0,ki.IB)({pathname:f,replace:!1}))}),[t,f]);return y&&f&&((null==d?void 0:d.length)||m||!l)?r.createElement(Xe.ye,{shrink:!1},(null==d?void 0:d.length)||!e.playableKey||m?r.createElement(at.c,{color:"accent",font:"body-2",href:f},y):r.createElement(Ho.c,{color:"accent",font:"body-2",onPress:c.onOpen},y),r.createElement(Ks.c,{modalState:c,providerIdentifier:Wa.Sg,onOptInFinished:v})):null}function Yd({metadataItem:e,role:t,type:a}){return r.createElement(Xe.ye,{gap:"m",orientation:"horizontal",verticalAlign:"top"},r.createElement(Ha.a,{color:"muted",font:"body-2",shrink:!1},r.createElement(Kd.c,{className:qd.year,metadataItem:e})),r.createElement(Ha.a,{color:"muted",font:"body-2"},r.createElement(ht.c,{className:qd.link,metadataItem:e}),t?r.createElement(r.Fragment,null,r.createElement(It.c,{separator:""}),a===f.Cu.Actor||a===f.Cu.Appeared?(0,j.c)("as {role}",{role:t}):t):null),r.createElement(Gd,{metadataItem:e}))}function Zd({metadataItem:e}){const[t,a]=(0,g.c$)(),{key:n}=e,c=(0,i.OY)(),l=(0,i.w1)($d.c),{credits:{groups:o,isPopulated:s,error:m}}=(0,i.w1)(pe.c);return cd(),(0,r.useEffect)((()=>{l||s||m||!t||!a||c(ka.c.actions.creditsFetchRequested({server:t,provider:a,metadataKey:n}))}),[m,c,s,l,n,a,t]),l||m||0===o.length?null:r.createElement("div",{className:qd.container},r.createElement(Xe.ye,{gap:"l"},r.createElement(Pe.c,null,(0,j.c)("Filmography")),s?r.createElement(Bd.kZ,{defaultValue:o[0].type},r.createElement(Bd.U5,{align:"left",tabStyle:"primary"},o.map((({type:e,title:t,credits:a})=>r.createElement(Bd.Uy,{key:e,value:e},`${t} (${a.length})`)))),o.map((({type:e,credits:t})=>r.createElement(Bd.K,{key:e,value:e},r.createElement(Xe.ye,{gap:"s"},t.map((t=>(0,rd.c$)(t)?r.createElement(Yd,{key:t.item.key,metadataItem:t.item,role:t.role,type:e}):null))))))):r.createElement(Xe.ye,{align:"center",height:(0,qi.c)("xxxl"),orientation:"horizontal",verticalAlign:"center"},r.createElement(Vd.c,null))))}var Qd=a(95976);function _d(e){const{bornAt:t,diedAt:a}=e;if(!t)return null;const r=a?void 0:Xm(t,Date.now()),n=(0,Ri.c)(t);return r?`${n} (${r})`:n}function Xd(e){const{bornAt:t,diedAt:a}=e;if(!a)return null;const r=t?Xm(t,a):void 0,n=(0,Ri.c)(a);return r?`${n} (${r})`:n}function Jd(e){switch(e){case f.k5.Facebook:return $m.default;case f.k5.Instagram:return qm.default;case f.k5.Twitter:return Gm.default}}function eu({metadataItem:e,onScrollPositionReady:t}){const{summary:a,bornAt:n,diedAt:c,External:l,CreditType:i}=e,o=(0,Qd.c)(),s=null==i?void 0:i.slice(0,2).map((({title:e})=>e)).join(", ");return r.createElement(r.Fragment,null,r.createElement(le,{buttonBar:r.createElement(Xe.ye,{align:["center","left"],gap:"m",orientation:"horizontal",wrap:!1},null==l?void 0:l.map((e=>r.createElement(Ym.o,{key:`${e.source}${e.id}`,tooltip:r.createElement(Xe.ye,{align:"center"},r.createElement(Ha.a,{color:"primary",font:"body-2"},e.sourceTitle),r.createElement(Ha.a,{color:"muted",font:"body-2"},"@",e.id))},r.createElement(Ho.eE,{accessibilityLabel:e.sourceTitle,href:e.url,icon:Jd(e.source),rel:"noopener noreferrer nofollow",size:"s",target:"_blank"}))))),facts:n?[(0,j.c)("Born"),_d(e)]:void 0,genres:c?[(0,j.c)("Died"),Xd(e)]:void 0,metadataItem:e,poster:r.createElement(Jm.c,{metadataItem:e,width:o}),subtitle:s,summary:a,title:(0,it.c)(e)}),r.createElement(hd,{metadataItem:e,onScrollPositionReady:t}),r.createElement(Hd,{metadataItem:e,onScrollPositionReady:t}),r.createElement(Fa,{metadataItem:e,onScrollPositionReady:t}),r.createElement(Zd,{metadataItem:e}))}function tu({metadataItem:e,onScrollPositionReady:t}){const{audienceRating:a,rating:n,summary:c}=e,l=(0,B.c)(e),i=Ti(e),o=(0,Cm.c)(e),s=Pr(e);return r.createElement(r.Fragment,null,r.createElement(le,{buttonBar:r.createElement(tt.c,{isChromaMetadata:!0,metadataItem:e,promotedActions:["isPlayVisible","isAddToWatchlistVisible","isRemoveFromWatchlistVisible","isMarkPlayedVisible","isMarkUnplayedVisible","isSyncDownloadVisible","isEditVisible","isShareVisible"]}),facts:[o?r.createElement(Ha.a,{color:"accent",font:"inherit"},o):void 0],metadataItem:e,poster:r.createElement(lt.c,{isChromaMetadata:!0,metadataItem:e}),ratings:[n||a?r.createElement(V.c,{metadataItem:e}):null],showAttributionLogo:!0,socialProof:i?r.createElement(Zi,{metadataItem:e}):null,starRating:l?r.createElement(ct.g,{key:"userRating",metadataItem:e}):void 0,subtitle:(0,it.c)(e),summary:c,title:r.createElement(nt,{metadataItem:e})},s),r.createElement(Im,{metadataItem:e}),r.createElement(wi,{metadataItem:e}),r.createElement(Sc,{metadataItem:e}),r.createElement(Fa,{metadataItem:e,onScrollPositionReady:t}))}function au({metadataItem:e,onScrollPositionReady:t}){const{audienceRating:a,contentRating:n,isUnreleased:c,rating:l,summary:i,year:o}=e,s=(0,B.c)(e),m=Ti(e),d=(0,Cm.c)(e),u=$a(e,"Genre");return r.createElement(r.Fragment,null,r.createElement(le,{buttonBar:r.createElement(tt.c,{isChromaMetadata:!0,metadataItem:e,promotedActions:["isPlayVisible","isAddToWatchlistVisible","isRemoveFromWatchlistVisible","isPlayTrailerVisible","isMarkPlayedVisible","isMarkUnplayedVisible","isSyncDownloadVisible","isEditVisible","isShareVisible"]}),facts:[d?r.createElement(Ha.a,{color:"accent",font:"inherit"},d):void 0,!c&&o?o:void 0],genres:u,metadataItem:e,poster:r.createElement(lt.c,{isChromaMetadata:!0,metadataItem:e}),ratings:[n?(0,H.c)(n):void 0,l||a?r.createElement(V.c,{key:"criticRating",metadataItem:e}):null],showAttributionLogo:!0,socialProof:m?r.createElement(Zi,{metadataItem:e}):null,starRating:s?r.createElement(ct.g,{metadataItem:e}):void 0,summary:i,title:(0,it.c)(e)}),r.createElement(Im,{metadataItem:e}),r.createElement(Sc,{metadataItem:e}),r.createElement(wi,{metadataItem:e}),r.createElement(Wc,null),r.createElement(Fa,{metadataItem:e,onScrollPositionReady:t}))}const ru=(0,r.memo)((function({metadataItem:e,onScrollPositionReady:t}){const a=function(e){const{type:t,subtype:a}=e;if((0,N.c)(e))switch(t){case f.WW.Movie:return Oi;case f.WW.Show:return Mi;case f.WW.Episode:return ei}if(a===f.GO.Clip&&t===f.WW.Movie)return Xc;switch(t){case f.WW.Movie:return Km;case f.WW.Show:return au;case f.WW.Season:return tu;case f.WW.Episode:return Pm;case f.WW.Artist:case f.WW.Author:return Qc;case f.WW.Album:case f.WW.Audiobook:return Sr;case f.WW.Collection:return Sl;case f.WW.Person:return eu}}(e);return a?r.createElement(a,{metadataItem:e,onScrollPositionReady:t}):r.createElement(W.c,{description:(0,j.c)("Pardon our dust. This item is lacking a details page."),title:(0,j.c)("Missing details")})})),nu={prePlayContentWrapper:"PrePlayPageContent-prePlayContentWrapper-Zi1xEP"};var cu=Object.defineProperty,lu=Object.getOwnPropertySymbols,iu=Object.prototype.hasOwnProperty,ou=Object.prototype.propertyIsEnumerable,su=(e,t,a)=>t in e?cu(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a,mu=(e,t)=>{for(var a in t||(t={}))iu.call(t,a)&&su(e,a,t[a]);if(lu)for(var a of lu(t))ou.call(t,a)&&su(e,a,t[a]);return e};function du({metadataItem:e}){const[t,a]=(0,g.c$)(),[n,{height:c}]=(0,A.c)(),[l,{width:i,height:o}]=(0,A.c)(),[s,m]=(0,r.useState)({scrollTop:0,scrollLeft:0}),[d,u]=(0,r.useState)(),p=(0,r.useCallback)((e=>{m(e)}),[]),y=(0,r.useCallback)((e=>{u(e)}),[]),{scrollRestoreProps:f,onScrollPositionReady:v}=(0,D.c)({key:"PrePlayPageContent",onScrollPositionChange:p});return(0,r.useEffect)((()=>{null!=d&&u(void 0)}),[d]),r.createElement(k.cp,{containerProvider:a,containerServer:t,containerSourceURI:e.sourceURI,containerSubtype:e.subtype,containerType:e.type},r.createElement(x.c,mu(mu({ref:n,skipScrollRestore:!0},f),d),r.createElement("div",{ref:l,className:nu.prePlayContentWrapper},r.createElement(q,{contentHeight:o,height:c,scrollLeft:s.scrollLeft,scrollTop:s.scrollTop,width:i,onRequestScrollPosition:y},r.createElement(ru,{metadataItem:e,onScrollPositionReady:v})))))}var uu=a(69160),pu=a(80208),yu=a(18012);function fu({machineIdentifier:e,providerIdentifier:t,metadataKey:a}){const n=(0,i.OY)(),l=(0,o.Uz)(),k=(0,c.c)(),A=(0,m.c)(k.wl),x=(0,i.w1)(T.c),D=(0,i.w1)((0,h.c)(e)),j=(0,i.w1)((0,v.c)(e,t)),{metadata:{metadataItem:N,error:W,isPopulated:U}}=(0,i.w1)(pe.c),F=(0,ue.c)(),H=N?(0,b.c)({provider:j,librarySectionID:N.librarySectionID,isPlaylist:N.isPlaylist}):void 0,V=(0,yu.c)(D,j,a),B=(0,i.w1)((0,R.c)("playThemeMusic")),z=(0,i.w1)(s.c),K=a===(null==N?void 0:N.key)&&(!F||F.isPopulated),$=!(!W&&!(null==F?void 0:F.error));return(0,pu.c)(e,t),(0,E.c)({identifier:j.metricsIdentifier,type:null==N?void 0:N.type,metadataItem:(0,I.c)(N)},U),(0,r.useEffect)((()=>{x.anonymous&&A&&l.push(d.c.join(Bi.c.login,{redirectUrl:window.location.hash.replace("#!","")}))}),[l,x.anonymous,A]),(0,r.useEffect)((()=>{if(!N||!B)return;const e=N.grandparentTheme||N.parentTheme||N.theme;n((0,p.is)({serverEntityID:D.entityID,providerEntityID:j.entityID,theme:e}))}),[n,N,B,j.entityID,D.entityID]),(0,r.useEffect)((()=>{N&&z&&n((0,u.wZ)({server:D,provider:j,metadataItem:N,metadataItemState:V,legacyAction:(0,y.WQ)()}))}),[n,z,N,V,j,D]),D.isCloud&&(null==N?void 0:N.isAdult)&&(null==N?void 0:N.type)!==f.WW.Person?r.createElement(C.c,null,r.createElement(S.c,null)):r.createElement(g.cp,{contentDirectoryID:null==H?void 0:H.id,machineIdentifier:e,providerIdentifier:t},r.createElement(C.c,{scrollDirection:O.y.None},r.createElement(uu.c,null),N&&K?r.createElement(L.c,{metadataItem:N,skipFetch:!1},r.createElement(du,{metadataItem:N})):null,N&&K||!$?null:r.createElement(w.c,null),N&&K||$?null:r.createElement(P.c,null,r.createElement(M.c,null))))}var vu=a(18730),bu=a(75536),gu=a(50249),hu=a(55e3),Eu=Object.defineProperty,Iu=Object.defineProperties,Cu=Object.getOwnPropertyDescriptors,Pu=Object.getOwnPropertySymbols,Su=Object.prototype.hasOwnProperty,wu=Object.prototype.propertyIsEnumerable,Ou=(e,t,a)=>t in e?Eu(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a,Mu=(e,t)=>{for(var a in t||(t={}))Su.call(t,a)&&Ou(e,a,t[a]);if(Pu)for(var a of Pu(t))wu.call(t,a)&&Ou(e,a,t[a]);return e},Ru=(e,t)=>Iu(e,Cu(t));function Tu({page:e=fu}){const{machineIdentifier:t,providerIdentifier:a}=(0,vu.c)(),i=(0,c.c)(),o=(0,bu.c)(i.key);return r.createElement(gu.c,{machineIdentifier:t,providerIdentifier:a},o?r.createElement(l.cp,{metricsContextParam:(0,bu.c)(i.context),metricsPage:n.I9},r.createElement(e,Ru(Mu({},i),{machineIdentifier:t,metadataKey:o,providerIdentifier:a}))):r.createElement(hu.c,null))}}}]);